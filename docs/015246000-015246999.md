# StackOverflow 问答 15246000-15246999

# c# - 验证摘要应显示在警报消息框中？

> ID：15246003
> 
> 赞同：4
> 
> 时间：2013-03-06T11:22:27.120
> 
> 标签：c#, javascript, .net, asp.net-mvc-3

我有一个包含表单的视图。控件在我的模型中有注释。我要那个

```
 @Html.ValidationSummary(); 
```

将显示在警报消息框中。

有没有什么办法。我是 mvc 的新手，因此请详细说明答案。

提前致谢！！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T11:56:28.250

我没有电脑，所以我无法提供示例，但会`@Html.ValidationSummary()`返回一个无序列表的错误。（见[http://msdn.microsoft.com/en-us/library/dd460343(v=vs.108).aspx](http://msdn.microsoft.com/en-us/library/dd460343(v=vs.108).aspx)）

您可以检查`@Html.ValidationSummary()`JavaScript 中是否有值，然后使用 JQuery 提取`<li>`元素的文本值并将它们放入警报中。

试试这个，我还没有测试过，但它应该是一个指南：

```
<script>
var validationSummary = '@Html.ValidationSummary()';
var alerttext = '';
if (validationSummary !== '')
{
    $(validationSummary)
        .find('li').each( function()
        {
            alerttext = alerttext + $(this).text() + '\n';
        });

    alert(alerttext);

}

</script> 
```

# c++ - gsl_histogram：值等于两个 bin 之间的边，该值将分配给哪个 bin？

> ID：15246006
> 
> 赞同：1
> 
> 时间：2013-03-06T11:22:31.313
> 
> 标签：c++, c, gsl

分配给 gsl_histogram 的哪个 bin 的值恰好落在两个 bin 之间的边缘？
例如，当我调用 时`gsl_histogram_increment( h, x)`，x 正好为 0，bin 边缘为 -0.2、0、0.2、0.4 等。我会在正范围（0、0.2）或负范围（-0.2、0）中得到增量吗？

编辑：是的，我的范围是统一的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T12:32:28.803

如果您的 bin 分布是线性的（如您的示例所示），那么这是正在执行的代码（取自 gsl-1.15/histogram/find.c）：

```
 /* optimize for linear case */

#ifdef LINEAR_OPT
  {
    double u =  (x - range[0]) / (range[n] - range[0]);
    i_linear = (size_t) (u * n);
  }

  if (x >= range[i_linear] && x < range[i_linear + 1])
    {
      *i = i_linear;
      return 0;
    }
#endif 
```

请注意 >= 用于下 bin 边缘，而 < 用于上 bin 边缘，因此您的 0.0 值应该落入 0.0 - 0.2 bin

对于非线性 bin 分布，执行二进制搜索，即：

```
 /* perform binary search */

  upper = n ;
  lower = 0 ;

  while (upper - lower > 1)
    {
      mid = (upper + lower) / 2 ;

      if (x >= range[mid])
        {
          lower = mid ;
        }
      else
        {
          upper = mid ;
        }
    }

  *i = lower ; 
```

请注意 >= 的用法意味着落在 bin 边缘的值将包含在两者的“上”bin 中（与线性情况相同）

也许通过运行您的示例并观察将值添加到哪个 bin 来仔细检查

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T12:33:14.850

`gsl_histogram_increment` [似乎使用](http://www.network-theory.co.uk/docs/gslref/Updatingandaccessinghistogramelements.html)条件`L <= x < U`来决定是否将值`x`放入 bin `(L, U)`。所以`0`最终会在`(0, 0.2)`.

# python-2.7 - PySide, QTextEdit Append 添加空行

> ID：15246011
> 
> 赞同：1
> 
> 时间：2013-03-06T11:22:39.627
> 
> 标签：python-2.7, append, pyside, qtextedit, qprocess

我有这个简单的代码：基本上是一个向 cmd 发送一些命令并在 QTextEdit 中显示 cmd 输出的工具。基本上，它有效。我遇到的唯一问题是每次单击发送（有或没有新命令）时，都会附加文本，但 QTextEdit 的末尾会出现奇怪的空白行。即使我清除“控制台”，仍然有这些行。也许这与我调用该过程的方式有关，我不知道因此需要帮助。

```
from PySide.QtCore import *
from PySide.QtGui import *
import sys

class MyWindow(QDialog):
    def __init__(self, parent=None):
        super(MyWindow, self).__init__(parent)

        self.setWindowTitle("Send to CMD")

        self.check1 = QCheckBox("Activate Variable")
        self.variable = QLineEdit()
        self.finalcommand = QLineEdit()
        self.clearCommand = QPushButton("Clear")
        self.sendCommand = QPushButton("Send")
        self.clearOnSend = QCheckBox("Clear on Send")

        self.process = QProcess()
        self.console = QTextEdit(self)

        layout = QVBoxLayout()
        layout.addWidget(self.check1)
        layout.addWidget(self.variable)
        layout.addWidget(self.finalcommand)
        layout.addWidget(self.clearOnSend)
        layout.addWidget(self.clearCommand)
        layout.addWidget(self.sendCommand)
        layout.addWidget(self.console)
        self.setLayout(layout)

        self.connect(self.check1, SIGNAL("clicked()"), self.appendText)
        self.variable.textChanged.connect(self.appendText)

        self.clearCommand.clicked.connect(self.Clear)
        self.sendCommand.clicked.connect(self.Send)

    def appendText(self):
        if self.check1.isChecked():
            TEXT1 = "Dir" + ' ' + str(self.variable.text())
        else:
            TEXT1 = ""
        self.finalcommand.setText(str(TEXT1))

    def Clear(self):
        if self.clearCommand.isEnabled():
            self.console.clear()

    def Send(self):
        if self.clearOnSend.isChecked():
            self.console.clear()
        FCTS = "cmd.exe /c" + " " + str(self.finalcommand.text())
        self.process.readyReadStandardOutput.connect(self.readConsole)
        self.process.start(FCTS)
        if not self.process.waitForStarted(0):
            return False
        if not self.process.waitForFinished(0):
            return False

    def readConsole(self):
        #self.console.setText(str(self.process.readAllStandardOutput()))
        self.console.append(str(self.process.readAllStandardOutput()))

app = QApplication(sys.argv)
form = MyWindow()
form.show()
app.exec_() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-17T15:55:43.947

如果你改变

```
self.console.append(str(self.process.readAllStandardOutput())) 
```

至

```
self.console.append(str([self.process.readAllStandardOutput()])) 
```

你可以看到发生了什么，希望这会有所帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-17T00:37:09.310

您可能想使用 string.rstrip() 函数而不是 string.strip()

# php - Zend Framework 2 Restful web 服务：跨控制器的通用功能

> ID：15246014
> 
> 赞同：0
> 
> 时间：2013-03-06T11:22:45.373
> 
> 标签：php, rest, zend-framework2

我用 Zend FW 2 做一个安静的 web 服务。我怎样才能创建一个系统，检查 ie。每次调用 REST 时的 API 密钥？在每个功能中检查每个控制器中的密钥当然不是要走的路，所以我在寻找“全局”的东西。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:51:06.897

假设您所有的休息方法都在一个控制器中，您可以使用高优先级监听该控制器调度事件，以便尽早完成检查......

在您的模块引导程序中注册监听器，例如假设您向模块添加`ApiController`了`Application`一个

```
public function onBootstrap(EventInterface $e)
{
    $app = $e->getApplication();
    // get the shared events manager 
    $sem = $app->getEventManager()->getSharedManager();
    // listen to dispatch event when triggered by the ApiController
    $sem->attach('Application\Controller\ApiController', 'dispatch', function($e) {
        // do your api key checks

        // if checks fail get the response from the controller
        $controller = $e->getTarget();
        $response = $controller->getResponse();
        $response->setStatusCode(401);
        // return $response, short circuiting dispatch event
        return $response;
    }, 9000); // 9000 = high priority, do this early
} 
```

需要注意的是，传递给闭包的事件包含作为其目标的控制器实例，因此如果您需要从 ServiceManager 获取服务以进行 api 检查，您可以像在控制器本身中那样执行此操作，即。 ..

```
 $controller = $e->getTarget();
 $sm = $controller->getServiceLocator(); 
```

# asp.net - 使用中继器，从该表中获取 FK 并显示列

> ID：15246017
> 
> 赞同：2
> 
> 时间：2013-03-06T11:22:52.257
> 
> 标签：asp.net, linq

使用中继器，我遍历“SelectedUtility”表并输出匹配的位置。这可以正常工作，但是它会显示“Utility_Id”，它是实用程序表中“id”的外键。

我实际上想在实用程序表中显示“名称”列。我该怎么做...类似于`<th style="width:200px;"><%# Eval("Utility_Id.name") %></th>`
或是否在后面的代码中完成...感谢您的任何回复

aspx：

```
 <asp:Repeater id="rptSelectedUtilities" runat="server">
                <HeaderTemplate>
                    <table class="detailstable FadeOutOnEdit">
                        <tr>   
                            <th style="width:200px;">Utility</th>    
                        </tr>
                </HeaderTemplate>
                <ItemTemplate>
                        <tr>
                            <th style="width:200px;"><%# Eval("Utility_Id") %></th> 
                        </tr>
                </ItemTemplate>
                <FooterTemplate>
                    </table>
                </FooterTemplate>
            </asp:Repeater> 
```

后面的代码：

```
DBData db = new DBDatat();
        List<Select_Utility> SelectedUtility = 
            (from SU in db.Select_Utilities
             where SU.Work_Id == 3
             select SU).ToList();

        rptSelectedUtilities.DataSource = SelectedUtility; 
```

rptSelectedUtilities.DataBind();

* * *

编辑：

```
 DBData db = new DBDatat();
    List<Utility_Company> Utility = new List<Utility_Company>();
    List<Select_Utility> SelectedUtility = 
        (from SU in db.Select_Utilities
         join UTL in Utility on SU equals UTL.id
         where SU.Worksite_Id == 3
         select SU).ToList();

    rptSelectedUtilities.DataSource = SelectedUtility;
    rptSelectedUtilities.DataBind(); 
```

抛出错误“连接子句中的表达式之一的类型不正确。调用“加入”时类型推断失败

//应该加入名字..so join UTL in Utility on SU等于UTL.Name //而不是UTL.id

还尝试在 SU 上的 db.Utility_Companies 中加入 UTL 等于 UTL.id ...但同样的错误

* * *

**第二次编辑：<%# Eval("Name") %> 抛出错误：DataBinding: 'Select_Utility' 不包含名为 'Name' 的属性。**

```
 DBData db = new DBData();

        List<Select_Utility> SelectedUtility = 
            (from SU in db.Select_Utilities
             where SU.Worksite_Id == 3
             select SU).ToList();

        rptSelectedUtilities.DataSource = SelectedUtility;
        rptSelectedUtilities.DataBind();

   List<Utility_Company> Utility = new List<Utility_Company>();
        var query = from u in db.Utility_Companies
                    join su in db.Select_Utilities
                         on u.id equals su.Utility_Id
                    where su.Worksite_Id == 3
                    select u;

        rptSelectedUtilities.DataSource = query.ToList();
        rptSelectedUtilities.DataBind(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:25:35.517

查询（您应该选择加入的实用程序）：

```
DBData db = new DBDatat();
var query = from u in db.Utility
            join su in db.Select_Utilities
                 on u.Id equals su.Utility_Id
            where su.Work_Id == 3
            select u;

rptSelectedUtilities.DataSource = query.ToList();
rptSelectedUtilities.DataBind(); 
```

页面（实用程序的显示名称）：

```
<th style="width:200px;"><%# Eval("Name") %></th> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:31:02.083

使用内部连接外部表。并选择该 id 。

```
DBData db = new DBDatat();
        List<Select_Utility> SelectedUtility = 
            (from SU in db.Select_Utilities join UTL in Utility on SU equals UTL.Utility_Id
             where SU.Work_Id == 3
             select SU).ToList(); 
```

# c - 为什么 INT_MIN 和 INT_MAX 似乎超出了 int 类型的范围？

> ID：15246018
> 
> 赞同：1
> 
> 时间：2013-03-06T11:22:57.243
> 
> 标签：c

当我使用 INT_MAX 和 INT_MIN 常量时，我​​得到 -2147483648 ... 2147483647。

但是当我尝试使用此函数计算整数的最大值和最小值时：

```
static int computeInt(void)
{
    int myInt = 0;
    int min = 0;
    int max = 32;

    for (int i = min; i < max; i++)
    {
        myInt = myInt + pow(2, i);
    }

    myInt = myInt / 2;

    return myInt;
} 
```

我没有得到相同的号码。我认为发生的技术是 myInt 溢出。

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T11:30:10.103

是的，您有一个溢出，因为 int 的范围是从 -2^31 到 2^31 - 1 并且您尝试计算 2 从 0 到 31 的幂的总和。您的最终值是以下结果：`(2^0 + 2^1 + 2^3 + ... + 2^31) / 2`这显然是大于 2^31 - 1

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T11:26:35.327

你的假设是对的。你的`int`溢出，因为你不断地添加它。当最大 int 只是 2^31-1 或`pow(2,31)-1`.

使用循环你可以这样做：

```
for (int i = min; i < max; i++) {
    myInt = myInt * 2;
}
myInt = myInt - 1; 
```

（请注意，此循环也会导致临时溢出。在最后一次迭代之后`myInt`将是`-2147483648`，但减去一个将导致`2147483647`）

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-06T12:17:52.373

以这种方式通过算术可靠地检测最大有符号整数是不可能的，因为一旦整数超过`INT_MAX`结果是未定义的（它可能会简单地崩溃）。

但是，您可以计算出最大的无符号整数，因为它保证回绕回 0，即`UINT_MAX + 1`保证为`0`. 同样，`unsigned int a = -1`将等于`UINT_MAX`。

由于已签名`int`并`unsigned int`保证使用相同数量的存储和对齐方式，因此您可以将计算结果`UINT_MAX`除以 2 得到`INT_MAX`. 所以：

```
unsigned int maxint = -1;
maxint /= 2; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-06T11:42:38.137

如前面的答案和评论所述，您有溢出（即使假设`sizeof(int) = 4`. 如果您想“手动”计算这些常量，您可以简单地执行以下操作：

```
int myInt = (((unsigned int)(-1)) >> 1);
int myIntMin = -myInt - 1; 
```

这并不是真正独立于体系结构的，因为它假定有符号整数使用 2 的补码逻辑表示，并且整数表示中没有填充位。但在许多情况下，这应该可以正常工作（在 x86 pc 上测试）。

# asp.net - 如何在 IIS 7 上托管 ASP.NET Web 应用程序站点

> ID：15246021
> 
> 赞同：2
> 
> 时间：2013-03-06T11:23:10.123
> 
> 标签：asp.net, iis, iis-7, web-deployment

我在本地处理 ASP.NET Web 应用程序站点。它几乎完成了，所以我想尝试将它放在 IIS 服务器中。

IIS 服务器在不同的服务器上运行。我需要做什么才能在远程 IIS 服务器上运行我的 ASP.NET 网站？

我试图遵循：

我将整个项目目录（包括`.csproj`文件、`bin`文件夹等）复制到远程服务器上运行 IIS 的以下位置`C:\MyProject`。

在 IIS 管理器中，我`Virtual Directory`在`Default Web Site`. 找到我的网站文件`C:\MyProject`并添加该文件夹。然后在 IIS 管理器中，我将其转换`Virtual Directory`为应用程序。

但是当我浏览到我的网站时，我得到一个错误：

> HTTP 错误 500.23 - 内部服务器错误
> 
> 已检测到不适用于集成托管管道模式的 ASP.NET 设置。

所以这可能不是这样做的方法。我认为我不能只进行部署，因为我从未设置任何 .axd(?) 或任何东西。

所以我的问题是，我必须做什么才能在 IIS 上运行我的网站..？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:30:05.573

尝试将应用程序池更改为经典。为此，请在 IIS 管理器中打开应用程序的高级设置并更改应用程序池。根据您的框架版本，应该有“ASP.NET v4.0 Classic”或类似的东西。

[http://technet.microsoft.com/en-us/library/cc731755(v=ws.10).aspx](http://technet.microsoft.com/en-us/library/cc731755%28v=ws.10%29.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:38:53.597

该错误可能是因为，您在 .net 2.0 版中开发了站点，并尝试在 .net 框架 4.0 下运行的集成管道应用程序池下运行。

溶胶：

1.  使用经典模式和 .net 框架创建一个新的 apppool 等于您的应用程序开发的框架。

2.  将新创建的 apppool 附加到您的虚拟目录。

注意：对于部署，您不需要将 .csproj 或不需要的解决方案文件复制到目标位置。

如果是其他方式，（即）应用程序是 .net 4.0 而 apppool 是 2.0，请按照以下步骤操作。

1.  如果您只有 2.0，请将服务器中的 .net 框架更新为 4.0。
2.  然后通过在命令提示符下运行以下命令在 IIS 中注册 .net 4.0 版本。

> C:\Windows\Microsoft.NET\Framework\v4.0.30319>aspnet_regiis -i

# java - Json字符串到java对象

> ID：15246030
> 
> 赞同：0
> 
> 时间：2013-03-06T11:23:32.890
> 
> 标签：java, json, gson

我正在上课

```
public class ReturnData {
    public ReturnData() {
        OperationResult = Result.Failed;
        Messages = "An Error Occured";
        UpdateAvailable = "0";
        ResultData = "";
    }

    public Result OperationResult;
    public String Messages;
    public String UpdateAvailable;
    public Object ResultData;
} 
```

我有类似的json字符串，

```
{"OperationResult":0,"Messages":"","UpdateAvailable":"","ResultData":{"SessionId":"3b44a524-fc2a-499b-a16e-6d96339a6b5b","UserName":"admin","AccoundId":null,"Roles":["Administrator"],"DisplayName":"Admin","Status":3,"Type":1}} 
```

我想将此json字符串分配给上面的类。我正在使用GSON将json字符串分配给java对象。在普通类中，我可以将json字符串分配给java对象。但是对于这个类，我不能直接分配。请任何人帮助我，现在我正在分配，

```
String formatedjsonstring = {json string};
            Log.i("FORMAT STRING:",formatedjsonstring);
            Gson gson = new Gson();
            ReturnData returndata = (ReturnData) gson.fromJson(
                    formatedjsonstring, ReturnData.class); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:32:17.270

您可以使用 sourceforge 中的 JavaJson。您可以将 json 字符串传递给`JsonObject .parse()`.

尝试这个

```
 JsonObject json = JsonObject .parse("{\"OperationResult\":0, \"Messages\":\"UpdateAvailable\"");
 System.out.println("OperationResult=" + json.get("OperationResult"));
 System.out.println("Messages=" + json.get("Messages")); 
```

[https://sourceforge.net/projects/javajson/](https://sourceforge.net/projects/javajson/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T14:54:39.137

由于您的 Java 类在任何方面、形状或形式上都与您的 JSON 不同……因此您将遇到问题。

*   问题#1：`OperationResult`应该是一个`int`
*   问题#2：你被声明`ResultData`为`Object`... Java 不能那样工作。

你需要你的 POJO 来匹配 JSON：

```
public class ReturnData {
    public ReturnData() {
        OperationResult = Result.Failed;
        Messages = "An Error Occured";
        UpdateAvailable = "0";
        ResultData = "";
    }

    public int OperationResult;
    public String Messages;
    public String UpdateAvailable;
    public MyResultData ResultData;
}

class MyResultData {
    public String SessionId;
    public String UserName;
    public String AccountId;
    public List<String> Roles;
    public String DisplayName;
    public int Status;
    public int Type;
}

ReturnData rd = new Gson().fromJson(jsonString, ReturnData.class); 
```

我还考虑使用 Gson 的`@SerializedName("name")`注释将 JSON 中的 PascalCase 字段名称转换为 Java 中的 camelCase 字段名称。

```
@SerializedName("OperationResult") public int operationResult; 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-06T12:27:05.680

尝试这个：

```
java.lang.reflect.Type  type = new TypeToken<ReturnData>(){}.getType();
ReturnData rd = new Gson().fromJson(jsonString, type); 
```

# keyboard-shortcuts - Xcode 5：“编辑断点”的键盘快捷键？

> ID：15246031
> 
> 赞同：3
> 
> 时间：2013-03-06T11:23:35.777
> 
> 标签：keyboard-shortcuts, breakpoints, xcode5

我知道一个可以`⌥</kbd>-`⌘</kbd>-click to open the `Edit Breakpoint...` window, but that is hardly better than right-click. **Is there (or, can one make) a keyboard shortcut for this action?** ![enter image description here](../Images/069f0b28593bb23383e552d2253a48f2.png)``

# iphone - 在 iPhone 应用程序中录制视频时打开/关闭闪光灯

> ID：15246032
> 
> 赞同：2
> 
> 时间：2013-03-06T11:23:35.507
> 
> 标签：iphone, ios, uiimagepickercontroller, video-capture

我正在从我的 iPhone 应用程序录制视频。

我在相机上使用了一个叠加层，并在叠加层中放置了一个按钮。我想知道在录制视频时可以通过哪个功能打开/关闭相机的闪光灯。

如何在相机叠加层中设置闪光灯按钮？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T11:29:23.577

如果您`AVFoundation`用于视频录制，您应该首先检查设备是否有手电筒/闪光灯，因为从后置摄像头录制视频时手电筒可用，使用前置摄像头时您不能使用手电筒/闪光灯。使用这样的东西

```
- (BOOL) hasTorch
{
    return [[[self avCaptureDeviceInput] device] hasTorch];
} 
```

然后使用相应地设置手电筒`AVCaptureTorchMode`

```
- (void) setTorchMode:(AVCaptureTorchMode)torchMode
{
    AVCaptureDevice *device = [[self videoInput] device];
    if ([device isTorchModeSupported:torchMode] && [device torchMode] != torchMode) {
        NSError *error;
        if ([device lockForConfiguration:&error]) {
            [device setTorchMode:torchMode];
            [device unlockForConfiguration];
        } else {
            id deleg = [self delegate];
            if ([deleg respondsToSelector:@selector(acquiringDeviceLockFailedWithError:)]) {
                [deleg acquiringDeviceLockFailedWithError:error];
            }
        }
    }
} 
```

如果您按照[Apple 的 AVCam Demo 进行操作，](http://developer.apple.com/library/ios/#samplecode/AVCam/Introduction/Intro.html)您基本上会得到答案。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-06T11:33:49.937

假设您正在使用 UIImagePickerController（来自您的标签），请使用 UIImagePickerController 提供的[cameraFlashMode](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIImagePickerController_Class/UIImagePickerController/UIImagePickerController.html)来控制闪光灯。

您可以将其值设置为 UIImagePickerControllerCameraFlashModeOff、UIImagePickerControllerCameraFlashModeAuto 或 UIImagePickerControllerCameraFlashModeOn。默认为自动。

# c# - 为什么我的 WiX 自定义操作会引发 System.IO.FileNotFoundException？

> ID：15246037
> 
> 赞同：2
> 
> 时间：2013-03-06T11:23:47.313
> 
> 标签：c#, wix, windows-installer

我正在使用 Visual Studio 2010、Windows 7 上的 Votive 插件、.net4 和最新的 WiX 3.7 来创建 msi。

安装非常复杂，当我在我的电脑上测试它时工作正常。

在安装过程中，我运行了一些自定义操作。其中一个自定义操作需要一个外部 SQLite dll 来进行数据库访问，而这只有自定义操作才需要。

当我在没有我的开发环境的电脑上运行它时，只是普通的 windows 7，我得到一个找不到文件的错误。这似乎很明显是因为这台电脑上没有安装 SQLite。

我得到的错误是：

> System.IO.FileNotFoundException：无法加载文件或程序集“System.Data.SQLite.dll”或其依赖项之一。指定的模块无法找到。

我可以从详细日志中看到自定义操作被提取到本地临时文件中以运行。这是日志文件的摘录：

```
(SERVER)     MSI (s) (74:C0) [09:08:07:527]: Executing op: ActionStart(Name=InitializeDbDeferred,,)
(UNKNOWN)    Action 09:08:07: InitializeDbDeferred.
(SERVER)     MSI (s) (74:C0) [09:08:07:528]: Executing op: CustomActionSchedule(Action=InitializeDbDeferred,ActionType=1025,Source=BinaryData,Target=InsertDefaultRepositoryDeferred,CustomActionData=DATA=C:\AXS Standalone NVR;REPOSITORYPATH=C:\AXS Repository - (Available Space: 364 (Gb));QUOTA=25)
(SERVER)     MSI (s) (74:88) [09:08:07:530]: Invoking remote custom action. DLL: C:\Windows\Installer\MSI4252.tmp, Entrypoint: InsertDefaultRepositoryDeferred
(UNKNOWN)     SFXCA: Extracting custom action to temporary directory: C:\Users\Admin\AppData\Local\Temp\MSI4252.tmp-\
(UNKNOWN)     SFXCA: Binding to CLR version v4.0.30319
(UNKNOWN)     Calling custom action CustomAction!CustomAction.CustomAction.InsertDefaultRepositoryDeferred
(UNKNOWN)     Exception thrown by custom action:
(UNKNOWN)     System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. ---> System.IO.FileNotFoundException: Could not load file or assembly 'System.Data.SQLite.dll' or one of its dependencies. The specified module could not be found.
(UNKNOWN)     at CustomAction.CustomAction.InsertDefaultRepositoryDeferred(Session session)
(UNKNOWN)      --- End of inner exception stack trace --- 
```

我的问题是，当 CA 从临时位置运行时，如何让自定义操作在安装期间“查看”SQLite dll？我是否必须以某种方式将 CA 和它的 dll 打包在一起。

我尝试将 SQLite dll 作为文件包含在安装程序中，但临时位置中的 CA 不会“知道”它在哪里。

我只是看不到如何让 CA 找到 SQLite dll。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T13:15:12.537

> 无法加载文件或程序集“System.Data.SQLite.dll”**或其依赖项之一**

DTF 自动获取所有项目内容和程序集引用并将它们压缩到最终的本机 DLL 中。在自定义操作的生命周期内，您应该会在 temp 目录中看到 SQLLite 程序集。

您会注意到错误消息显示“或其依赖项之一”。我会使用 ILDASM 或 .NET Reflector 查看 DLL 并查看该 DLL 的引用是什么。然后将它们作为项目（内容副本）或引用添加到您的 DTF 项目中。目标是让它们被打包到最终的 DLL 中并放到临时目录中。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T13:51:34.867

我留下我的另一个答案，因为它对其他场景很有用，但我认为今天的问题更简单。

当您使用 Votive 添加对 DTF C# 自定义操作项目的引用时，如果程序集名称以单词“System.”开头，它会自动设置 CopyLocal=False。这是为了避免打包 .NET Framework 中常见的 DLL。然而，微软已经养成了将“系统”程序集与其他可再发行产品一起运送的习惯。

因此，请尝试将该参考的 CopyLocal 更改为 True，看看它是否会变得更好。Ralph 提到的 System.Data 和 System.Transactions 随框架一起提供。

# jsp - 如何按照tomcat 7标准编译jsp页面

> ID：15246038
> 
> 赞同：1
> 
> 时间：2013-03-06T11:23:48.340
> 
> 标签：jsp, maven, tomcat, ant, apache-tomee

我们的代码正在从 jboss 移动到 tomEE，并发现与 JBOSS 一起使用的 jsp 页面存在一些问题，根据链接 [http://thinkinginsoftware.blogspot.com/2011/10/tomcat-7-jstl-failed-to-parse.html](http://thinkinginsoftware.blogspot.com/2011/10/tomcat-7-jstl-failed-to-parse.html) 存在一些差异，以便 jboss 和 tomcat 找到 IDENTIFIER CHECK 的差异

根据链接，我需要为我的 jsp 页面更改以下格式 b4 从 Jboss 移至 Tomee 将代码从 ${client.new} 更改为 ${client['new']}

简而言之，我是否可以通过 Maven 编译所有 jsp 页面，以便在编译时本身我可以确定我们必须更改多少 jsp 页面

# google-app-engine - 在 Google App Engine Endpoints 上部署时遇到 HTTP 代码 302

> ID：15246039
> 
> 赞同：3
> 
> 时间：2013-03-06T11:23:48.710
> 
> 标签：google-app-engine, jakarta-ee, google-cloud-endpoints

使用[官方文档](https://developers.google.com/appengine/docs/java/endpoints/gen_clients)在 Java 中开发 App Engine Endpoints 时，使用适当的参数运行 endpoints.cmd 并在 GAE 中部署后，开发服务器会在 处显示正确的端点`http://localhost:8888/_ah/api/discovery/v1/apis`，但访问 GAE 上生产版本的资源管理器会显示旧端点`https://<my-app>.appspot.com/_ah/api/discovery/v1/apis`.

该错误被追溯到`HTTP 302`生产应用程序的日志中找到的（临时移动的）代码，用于访问`/_ah/spi/BackendService.getApiConfigs`. 直到清除（即，提供 HTTP 200），Google 的服务器将无法为端点提供服务（请参阅[此评论](https://stackoverflow.com/a/15058819/20386)）。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T11:23:48.710

此错误的部分原因是文档不一致。虽然官方文档的示例 web.xml 使用了一个`<security-constraint>`块，但[示例 tictactoe 应用程序](https://github.com/GoogleCloudPlatform/appengine-endpoints-tictactoe-java/blob/master/war/WEB-INF/web.xml)没有。

如果您收到`HTTP 302`状态码，请检查以下两件事（来自[这篇文章](https://groups.google.com/d/topic/endpoints-trusted-testers/2jyFxm4WEjY/discussion)）：

1.  在 WEB-INF 中的 .api 文件中，在声明中更改`http`为`https``bns`
2.  `<security-constraint>`从您的 web.xml中删除该块。

以上对我有用；不确定安全约束位是关于什么的。也许 GAE 管理员可以改进这个答案？

# html - symfony2 异常 - 不返回 HTML

> ID：15246042
> 
> 赞同：0
> 
> 时间：2013-03-06T11:23:58.193
> 
> 标签：html, exception, symfony

我有一个 symfony2 包，我在其中使用[jquery 终端](https://github.com/jcubic/jquery.terminal)项目。这是一个简单的 javascript 控制台，用户在其中传递一些指令，这些指令在服务器端使用 AJAX/JSON 执行并返回到控制台并显示。php 服务器脚本从`$GLOBALS['HTTP_RAW_POST_DATA']`.

目前，当任何请求抛出错误时，symfony2 会返回一个完整的 HTML 响应。我不想要 HTML 部分（我只想显示异常消息/代码）。

问题是：**symfony2 处理异常并在某处捕获它们，嵌入 HTML 并返回这样的响应。我想修改这个 - exc。可能会被抓住，但我不希望包含 HTML**。有一个独特的捆绑包，仅用于控制台的东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T17:36:42.627

实际上，问题在于`exit`控制器中缺少语句。控制器响应为空，因此引发了异常，控制器必须返回响应。`exit;`在回显输出后添加后，问题就消失了。

# c++ - 从序列化数据中查找协议缓冲区消息类型

> ID：15246043
> 
> 赞同：5
> 
> 时间：2013-03-06T11:23:58.387
> 
> 标签：c++, serialization, protocol-buffers

我有一些二进制数据，它是通过序列化谷歌协议缓冲区类获得的。如何在运行时找出为其序列化数据的类。

例如，假设我有一个**类 abc**。我将这个类 abc 序列化为二进制数据。有没有办法验证这个二进制数据是通过序列化**类 abc**而不是其他类获得的？

**此外，如果我通过类 xyz**的 parse 方法解析类 abc 的二进制数据，我怎么知道解析是否成功。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T12:10:34.240

protobuf 不包含在线路上的任何类型信息（除非您自己在 protobuf 外部执行此操作）。因此，您**无法**严格验证 - 这实际上是一件*好事*，因为这意味着类型是可互换和兼容的。只要`class abc` *有*与其他类型兼容的合约，它就可以工作。这里的“兼容”是指：对于两者共有的任何字段编号，它们具有兼容的线型。如果`abc`将字段 4 声明为字符串，而另一个类将字段 4 声明为双精度数，则反序列化将失败。

您可以使用的另一个“信号”是`required`字段的省略：如果`abc`始终包含字段 3，但您获得的数据*省略了*字段 3，那么它可能不是`abc`. 请注意，protobuf 被设计为具有版本容错性：您不能假设*额外的*字段意味着它不是`abc`，因为可能是数据正在使用更高版本的合约，或者正在使用扩展字段。同样，丢失的*可选*字段可能会丢失，因为他们只是选择不提供值，*或者**该*字段未在他们使用的合约版本上声明。

 *重新测试成功解析：这将是特定于实现的。我想*C* ++ 实现要么有一个返回值来检查，要么有一个标志字段来检查。我自己不使用那个api，所以我不能说。在其他一些平台上，如果出现严重问题，我希望会引发异常（java、.net 等）。*

# jquery - jQuery 不会提交表单

> ID：15246058
> 
> 赞同：0
> 
> 时间：2013-03-06T11:24:35.030
> 
> 标签：jquery, forms

```
<!-- /Search box -->
<aside class="vehicle-search">
    <header>
        <h2>Find your vehicle</h2>
    </header>

    <article>
        <script>
            jQuery(function() {
                jQuery('.go').click(function(e) {
                    e.preventDefault();
                    jQuery('#vehicle').submit(function (event){
                        var action = '';
                        var actionid = jQuery('#categoryid').children(':selected').attr('value');

                        if (actionid == 1) {
                            action = 'sales/new-motorhomes';
                        }
                        if (actionid == 2) {
                            action = 'sales/used-motorhomes';
                        }
                        if (actionid == 3) {
                            action = 'sales/caravans';
                        }
                        jQuery(this).attr('action', action);
                    });
                });
            });
        </script>
        <form id="vehicle" action="sales/new-motorhomes" method="post">
            <h3>Manufacturer</h3>
            <!-- <input type="submit"> -->
            <select name="manufacturer" id="manufacturers">
                <option value="1">Auto-Trail</option>
                <option value="2">Adria</option>
                <option value="3">Elddis</option>
            </select>

            <h3>Vehicle Type</h3>
            <select name="category" id="categoryid">
                <option value="1">New Motorhomes</option>
                <option value="2">Used Motorhomes</option>
                <option value="3">Caravans</option>
            </select>

            <h3>Berths</h3>
            <input type="text" name="berth" id="berths" style="border: 0; color: #f6931f; font-weight: bold;" />
            <div id="slider-berths"></div> 
        </form>
    </article>

    <footer>
        <span class="goButton">
            <a class="go" href=""></a>
        </span> 
    </footer>
</aside>
<!-- /Search box --> 
```

我在这里错过了什么..？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T11:28:33.617

由于`submit`-event 刚刚声明但从未调用过，因此您必须将 -event 放在`submit`-handler 之外`click`并在点击时触发它：

[http://fiddle.jshell.net/rvx27/](http://fiddle.jshell.net/rvx27/)

```
jQuery(function () {
    jQuery('form:first').submit(function (event) {
        var action = '';
        var actionid = jQuery('#categoryid').children(':selected').attr('value');

        if (actionid == 1) {
            action = 'sales/new-motorhomes';
        }
        if (actionid == 2) {
            action = 'sales/used-motorhomes';
        }
        if (actionid == 3) {
            action = 'sales/caravans';
        }
        jQuery(this).attr('action', action);

    });
    jQuery('.go').click(function (e) {
        e.preventDefault();
        jQuery('form:first').submit();
    });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:33:39.843

编码

```
jQuery('form:first').submit(function (event){}); 
```

将分配一个在提交表单时调用的事件处理程序。**它实际上并没有提交表单。**

要提交表格，您必须致电

```
jQuery('form:first').submit(); 
```

或在表单中有一个提交按钮。

您的代码可以重写为

```
jQuery(document).ready(function() {
   jQuery('form:first').submit(function (event){
        var action = '';
        var actionid = jQuery('#categoryid').children(':selected').attr('value');

        if (actionid == 1) {
           action = 'sales/new-motorhomes';
        }
        if (actionid == 2) {
           action = 'sales/used-motorhomes';
        }
        if (actionid == 3) {
           action = 'sales/caravans';
        }
        jQuery(this).attr('action', action);

        return true; // Important to return okay to submit

   });

   jQuery('.go').click(function(e) {
       e.preventDefault();
       jQuery('form:first').submit(); // Trigger the submission
   });
}); 
```

此代码分配事件处理程序`document.ready()`事件，然后随后的单击触发提交。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:26:43.367

使用 jquery 提交表单时需要使用表单 ID。

**代替** `jQuery('form:first').submit(function (event){`

**和** `jQuery('#vehicle').submit(function (event){`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T11:28:16.660

你为什么不使用 id 选择器

```
jQuery('#vehicle').submit(); 
```

这比`:first`提交表格更快更好。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T11:28:24.397

你的代码：

```
jQuery('form:first').submit(function (event){ ... }); 
```

...正在绑定提交处理程序。要提交您需要的表格：

```
jQuery('form:first').submit(); 
```

如果可以提交表单的唯一方法是通过该链接，您可以在调用`.submit()`表单之前直接在链接的单击处理程序中执行该操作设置内容。或者单独绑定提交处理程序（从点击处理程序外部，或者每次点击时它会继续绑定其他处理程序），然后`.submit()`从点击处理程序内部调用。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-06T11:28:40.183

试试这个：

```
jQuery(function() {

            jQuery('.go').click(function(e) {
                e.preventDefault();

                var action = '';
                var actionid = jQuery('#categoryid').children(':selected').attr('value');

                if (actionid == 1) {
                    action = 'sales/new-motorhomes';
                }
                if (actionid == 2) {
                    action = 'sales/used-motorhomes';
                }
                if (actionid == 3) {
                    action = 'sales/caravans';
                }
                jQuery('form:first').attr('action', action);

                jQuery('form:first').submit()

                });
            });
        }); 
```

# android - 在 AlertDialog 中使用 runOnUiThread

> ID：15246059
> 
> 赞同：2
> 
> 时间：2013-03-06T11:24:35.610
> 
> 标签：android, android-alertdialog

我有一个警报对话框，在单击按钮时，我在单独的线程中进行 Web 服务调用，然后我想更新 UI 线程上的一些 UI，但未定义 AlertDialog 中的 runOnUiThread，我该怎么做？

我还尝试在 AlertDialog 的所有者活动上下文中使用 runOnUiThread。但我收到代码后发布的错误。这是我的代码

```
 public class RecordDialog extends Dialog implements OnClickListener {
Button recordButton;

/*
 * param context
 */

String requestResponse="";
int progIndex=0;
public static String sessionId = "";
public static String programId = "";
public static String channelId = "";

static Handler handler;
Context cont;

public RecordDialog(Context context) {
    super(context);
    cont= context;
    /** 'Window.FEATURE_NO_TITLE' - Used to hide the title */
    requestWindowFeature(Window.FEATURE_NO_TITLE);
    /** Design the dialog in main.xml file */
    setContentView(R.layout.record_dialog);
    recordButton = (Button) findViewById(R.id.recordBtn);
    recordButton.setOnClickListener(this);
    sessionId = SuccessLogin.userId;
    handler = new Handler() {
        @Override
        public void handleMessage(Message msg) {
            // process incoming messages here
            switch (msg.what) {
            // ///normal - just update message shown on progress dialog
            case 0:
                // update progress bar
                // serviceClient.myprogress.setMessage("" +(String)
                // msg.obj);
                break;
            // normal - cancel the dialog and update the UI
            case 1:

                break;
            // error - may be due to bad settings, or bad response from

            case 2:
                // serviceClient.myprogress.cancel();
                // AlertDialog alert = ServerNotResponding((String)
                // msg.obj);
                // alert.show();
                break;
            }

            super.handleMessage(msg);
        }
    };
}

public static org.w3c.dom.Element recElement;

private static String extractResponse(String xml)
        throws ParserConfigurationException, SAXException, IOException {

    @SuppressWarnings("deprecation")
    java.io.InputStream sbis = new java.io.StringBufferInputStream(xml);

    javax.xml.parsers.DocumentBuilderFactory b = javax.xml.parsers.DocumentBuilderFactory
            .newInstance();
    b.setNamespaceAware(false);
    org.w3c.dom.Document doc = null;
    javax.xml.parsers.DocumentBuilder db = null;

    db = b.newDocumentBuilder();
    doc = db.parse(sbis);
/*  org.w3c.dom.Element docElem= doc.getDocumentElement();

    NodeList items = docElem.getElementsByTagName("UserID");
    Log.v("items count", items.getLength()+"...");

    NodeList nodes= docElem.getElementsByTagName("UserID");
    Log.v("value", "......"+nodes.item(0).getTextContent());
    if(nodes.item(0).getTextContent().equals("UserID"))
    {
        String value=nodes.item(0).getNodeValue();
        Log.v("value", "......"+value);
    }*/
    return doc.getDocumentElement().getTextContent().trim()
            .replaceAll("responseStatus", "").trim();
}
public String recordProgram()
{
    String action = "action=submitChannelProgramRecordingRequest&cid="
            + channelId
            + "&sid="
            + sessionId
            + "&pid="
            + programId;

    String res = ServiceClient
            .submit_ChannelRecordingRequest(action, handler);
    Log.v("recording request sent response", res
            + "***&&&&");

    try {
        res = extractResponse(res);
        return res;
    } catch (ParserConfigurationException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (SAXException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } catch (IOException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
    return res;

}

Runnable recordProg ;
private ProgressDialog mProgressDialog = null;

private Runnable invalidRes = new Runnable() {

    public void run() {

        mProgressDialog.dismiss();
        /*
         * AlertDialog alert = ServerNotResponding(); alert.show();
         */

    }
};

private Runnable retRes = new Runnable() {

    public void run() {

          mProgressDialog.dismiss();

            GuideActivity.progs.get(progIndex).isRecordingRequested="true";
            if(requestResponse.equals("Program Recording Started"))
            {
                recordButton.setBackgroundResource(R.drawable.record_already_btn_background);
                Log.v("Program Recording Started", "Program Recording Started");
                //Toast.makeText(RecordDialog.this.getContext(), "Program Recording Started.", Toast.LENGTH_LONG).show();

                AlertDialog.Builder builder = new AlertDialog.Builder(
                        RecordDialog.this.getContext());

                builder.setTitle("");
                 builder.setMessage("Program Recording Started");

                builder.setPositiveButton("Ok",
                        new DialogInterface.OnClickListener() {

                            public void onClick(
                                    DialogInterface dialog,
                                    int which) {

                                    dialog.dismiss();
                                }
                        });

                builder.create().show();
            }
            else
                if(requestResponse.equals("UPR ERROR-CODE :: ALREADY REQUESTED"))
                {
                    Log.v("Program Recording Started", "Program Recording Started");
                    //Toast.makeText(RecordDialog.this.getContext(), "Program Recording ALREADY REQUESTED", Toast.LENGTH_LONG).show();

                    AlertDialog.Builder builder = new AlertDialog.Builder(
                            RecordDialog.this.getContext());

                    builder.setTitle("");
                     builder.setMessage("Program Recording ALREADY REQUESTED");

                    builder.setPositiveButton("Ok",
                            new DialogInterface.OnClickListener() {

                                public void onClick(
                                        DialogInterface dialog,
                                        int which) {

                                        dialog.dismiss();
                                }

                            });

                    builder.create().show();
                }

    }
};

@Override
public void onClick(View v) {
    /** When OK Button is clicked, dismiss the dialog */
    //if (v == recordButton) {
        mProgressDialog = ProgressDialog.show(RecordDialog.this.getContext(),
                "Please wait....", "Recording Program....", true);
        mProgressDialog.setCancelable(true);

        mProgressDialog.setOnKeyListener(new OnKeyListener() {

            public boolean onKey(DialogInterface dialog, int keyCode,
                    KeyEvent event) {
                // TODO Auto-generated method stub
                // Log.v("key is pressed", "yes");
                if (keyCode == KeyEvent.KEYCODE_BACK) {
                    mProgressDialog.dismiss();
                    dialog.dismiss();

                }
                return false;
            }
        });

         recordProg = new Runnable() {

            public void run() {
                try {

                    String response= recordProgram();
                    //int index   = response.indexOf('\n');
                    //response = response.substring(index, response.length()).trim();

                    requestResponse=response;
                    Log.v("final response", response+"^^^^^^^^^^^^^^^^^^^^");
                }

                catch (Exception e) {

                     Log.v("Exception", e.getMessage() + "..");
                    // runOnUiThread(invalidRes);;
                RecordDialog.this.getOwnerActivity().runOnUiThread(invalidRes);
                }

                RecordDialog.this.getOwnerActivity().runOnUiThread(retRes);
            }
        };

        Thread thread = new Thread(null, recordProg, "MagentoBackground");
        thread.start();

         //dismiss();

    //}
}

@Override
public void onAttachedToWindow() {
    super.onAttachedToWindow();
    Window window = getWindow();
    window.setFormat(PixelFormat.RGBA_8888);
} 
```

}

日志猫的错误

```
10-15 04:05:58.363: E/AndroidRuntime(3790): FATAL EXCEPTION: MagentoBackground
10-15 04:05:58.363: E/AndroidRuntime(3790): java.lang.NullPointerException
10-15 04:05:58.363: E/AndroidRuntime(3790):     at wherever.google.tv.guide.RecordDialog$5.run(RecordDialog.java:277)
10-15 04:05:58.363: E/AndroidRuntime(3790):     at java.lang.Thread.run(Thread.java:1020)

10-15 04:05:59.453: E/WindowManager(3790): Activity wherever.google.tv.guide.GuideActivity has leaked window com.android.internal.policy.impl.tv.TvWindow$DecorView@2c208668 that was originally added here
10-15 04:05:59.453: E/WindowManager(3790): android.view.WindowLeaked: Activity wherever.google.tv.guide.GuideActivity has leaked window com.android.internal.policy.impl.tv.TvWindow$DecorView@2c208668 that was originally added here
10-15 04:05:59.453: E/WindowManager(3790):  at android.view.ViewRoot.<init>(ViewRoot.java:292)
10-15 04:05:59.453: E/WindowManager(3790):  at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:249)
10-15 04:05:59.453: E/WindowManager(3790):  at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:193)
10-15 04:05:59.453: E/WindowManager(3790):  at android.view.WindowManagerImpl$CompatModeWrapper.addView(WindowManagerImpl.java:118)
10-15 04:05:59.453: E/WindowManager(3790):  at android.view.Window$LocalWindowManager.addView(Window.java:554)
10-15 04:05:59.453: E/WindowManager(3790):  at android.app.Dialog.show(Dialog.java:277)
10-15 04:05:59.453: E/WindowManager(3790):  at android.app.ProgressDialog.show(ProgressDialog.java:115)
10-15 04:05:59.453: E/WindowManager(3790):  at android.app.ProgressDialog.show(ProgressDialog.java:98)
10-15 04:05:59.453: E/WindowManager(3790):  at wherever.google.tv.guide.RecordDialog.onClick(RecordDialog.java:236)
10-15 04:05:59.453: E/WindowManager(3790):  at android.view.View.performClick(View.java:3161)
10-15 04:05:59.453: E/WindowManager(3790):  at android.view.View.onKeyUp(View.java:5081)
10-15 04:05:59.453: E/WindowManager(3790):  at android.widget.TextView.onKeyUp(TextView.java:4999)
10-15 04:05:59.453: E/WindowManager(3790):  at android.view.KeyEvent.dispatch(KeyEvent.java:2689)
10-15 04:05:59.453: E/WindowManager(3790):  at android.view.View.dispatchKeyEvent(View.java:4629)
10-15 04:05:59.453: E/WindowManager(3790):  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1163)
10-15 04:05:59.453: E/WindowManager(3790):  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1163)
10-15 04:05:59.453: E/WindowManager(3790):  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1163)
10-15 04:05:59.453: E/WindowManager(3790):  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1163)
10-15 04:05:59.453: E/WindowManager(3790):  at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1163)
10-15 04:05:59.453: E/WindowManager(3790):  at com.android.internal.policy.impl.tv.TvWindow$DecorView.superDispatchKeyEvent(TvWindow.java:1191)
10-15 04:05:59.453: E/WindowManager(3790):  at com.android.internal.policy.impl.tv.TvWindow.superDispatchKeyEvent(TvWindow.java:794)
10-15 04:05:59.453: E/WindowManager(3790):  at android.app.Dialog.dispatchKeyEvent(Dialog.java:717)
10-15 04:05:59.453: E/WindowManager(3790):  at com.android.internal.policy.impl.tv.TvWindow$DecorView.dispatchKeyEvent(TvWindow.java:1147)
10-15 04:05:59.453: E/WindowManager(3790):  at android.view.ViewRoot.deliverKeyEventPostIme(ViewRoot.java:2946)
10-15 04:05:59.453: E/WindowManager(3790):  at android.view.ViewRoot.handleFinishedEvent(ViewRoot.java:2916)
10-15 04:05:59.453: E/WindowManager(3790):  at android.view.ViewRoot.handleMessage(ViewRoot.java:2093)
10-15 04:05:59.453: E/WindowManager(3790):  at android.os.Handler.dispatchMessage(Handler.java:99)
10-15 04:05:59.453: E/WindowManager(3790):  at android.os.Looper.loop(Looper.java:132)
10-15 04:05:59.453: E/WindowManager(3790):  at android.app.ActivityThread.main(ActivityThread.java:4196)
10-15 04:05:59.453: E/WindowManager(3790):  at java.lang.reflect.Method.invokeNative(Native Method)
10-15 04:05:59.453: E/WindowManager(3790):  at java.lang.reflect.Method.invoke(Method.java:491)
10-15 04:05:59.453: E/WindowManager(3790):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:841)
10-15 04:05:59.453: E/WindowManager(3790):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:599)
10-15 04:05:59.453: E/WindowManager(3790):  at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T11:43:38.763

您是否尝试过使用 android AsyncTask？这比标准的 Java 可运行文件要高效得多。它还有一个 onPostExecute 方法，一旦主要任务完成，它就会在 UI 线程上运行，并且应该允许您更新 UI 元素。[关联](http://developer.android.com/reference/android/os/AsyncTask.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:47:37.300

你得到 nullPointerException :- 可能有两个原因：- 1\. ProgressDialog 取空值意味着不填充是混乱的。所以检查

```
 if(progressDialog!=null){
      mProgressDialog = ProgressDialog.show(RecordDialog.this.getContext(),
            "Please wait....", "Recording Program....", true);
    mProgressDialog.setCancelable(true);
    } 
```

2.or alertdialog 有空值。＆ 尝试：-

```
 Activity.runOnUiThread(new Runnable() {
                            public void run() {
                                AlerDialog();
                            }
                        }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T12:14:55.353

更改以下代码部分。您将`ProgressDialog`as 设为 null 的位置。你正试图在主线程上显示警报对话框。尝试如下：

首先在构造函数中初始化你`ProgressDialog`，如下所示：

> ```
>  private ProgressDialog mProgressDialog = null;
>      public RecordDialog(Context context) {
>            super(context);
>            cont= context;
>         mProgressDialog = ProgressDialog.show(RecordDialog.this.getContext(),
>             "Please wait....", "Recording Program....", true);
>         } 
> ```

上述更改后，`AlertDialog`在 runOnUiThread 中运行如下：

> ```
>  private Runnable invalidRes = new Runnable() {
>      public void run() {
>         mProgressDialog.dismiss();
>      }
>     };
>      private Runnable retRes = new Runnable() {
>       public void run() {
>       mProgressDialog.dismiss();
>         GuideActivity.progs.get(progIndex).isRecordingRequested="true";
>         if(requestResponse.equals("Program Recording Started"))
>         {
>           recordButton.setBackgroundResource(R.drawable.record_already_btn_background);
>             Log.v("Program Recording Started", "Program Recording Started");
>             //Toast.makeText(RecordDialog.this.getContext(), "Program Recording Started.", Toast.LENGTH_LONG).show();
> 
>            Activity.runOnUiThread(new Runnable() {
>               public void run() {
> 
>                AlertDialog.Builder builder = new AlertDialog.Builder(
>                     RecordDialog.this.getContext());
>               builder.setTitle("");
>              builder.setMessage("Program Recording Started");
>               builder.setPositiveButton("Ok",
>                     new DialogInterface.OnClickListener() {
>                public void onClick(DialogInterface dialog,
>                                 int which) {
>                      dialog.dismiss();
>                             }
>                     });
> 
>             builder.create().show();
>                }
>            });
>         }
>         else
>             if(requestResponse.equals("UPR ERROR-CODE :: ALREADY REQUESTED"))
>             {
>                 Log.v("Program Recording Started", "Program Recording Started");
>                 //Toast.makeText(RecordDialog.this.getContext(), "Program Recording ALREADY REQUESTED", Toast.LENGTH_LONG).show();
> 
>                  Activity.runOnUiThread(new Runnable() {
>                   public void run() {
> 
>                       AlertDialog.Builder builder = new AlertDialog.Builder(
>                         RecordDialog.this.getContext());
>                   builder.setTitle("");
>                  builder.setMessage("Program Recording ALREADY REQUESTED");
>                  builder.setPositiveButton("Ok",
>                         new DialogInterface.OnClickListener() {
>                             public void onClick(
>                                     DialogInterface dialog,
>                                     int which) {
>                                     dialog.dismiss();
>                             }
>                   });
>              builder.create().show();
>               }
>              });
>             }
>   }
>  }; 
> ```

# azure - 在 Windows Phone 8 中使用 Azure 服务总线主题

> ID：15246067
> 
> 赞同：0
> 
> 时间：2013-03-06T11:25:05.890
> 
> 标签：azure, windows-phone-8, windows-phone, azureservicebus, azure-servicebusrelay

我正在开发一个连接到 Azure 服务总线中继的 Windows Phone 8 应用程序。由于我无法将 Microsoft.ServiceBus.dll 添加到 WP8 项目中，因此我不得不使用 BasicHttpBinding，它工作正常。

现在我想在 WP8 中使用带有主题的服务总线中继。这甚至可能吗？我不能使用这里讨论的 NamespaceManager：http: [//www.windowsazure.com/en-us/develop/net/how-to-guides/service-bus-topics/](http://www.windowsazure.com/en-us/develop/net/how-to-guides/service-bus-topics/)，因为它不受 WP8 支持。

我的问题很简单，这可能吗？我应该选择什么方法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T00:43:49.747

我们目前没有任何针对 Windows Phone 的库，但正在努力生成这些库。您可以直接 http 调用 REST API 并发送/接收消息等。这些示例可用：

[http://code.msdn.microsoft.com/windowsazure/Brokered-Messaging-569cff88](http://code.msdn.microsoft.com/windowsazure/Brokered-Messaging-569cff88) [https://github.com/WindowsAzure/azure-sdk-for-java/tree/master/microsoft-azure-api/src/main /java/com/microsoft/windowsazure/services/ServiceBus](https://github.com/WindowsAzure/azure-sdk-for-java/tree/master/microsoft-azure-api/src/main/java/com/microsoft/windowsazure/services/ServiceBus) [http://msdn.microsoft.com/en-us/library/hh780762.aspx](http://msdn.microsoft.com/en-us/library/hh780762.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T21:34:18.403

齐泽，

> “现在我想在 WP8 中使用带有主题的服务总线中继”

不确定您是否将两个单独的问题混为一谈...

我们没有适用于 Windows Phone 的服务总线中继的 SDK。但是，如果您的服务使用任何 * *HttpRelayBinding*，您可以使用 Windows Phone 应用程序中的常规 HTTP 客户端与您的服务的 Relay 端点进行通信。您需要在名为*ServiceBusAuthorization*的自定义 HTTP 标头中包含用于对服务总线中继进行身份验证的 ACS 令牌。

# cakephp - 即使字段为空白，相关模型数据也会被保存

> ID：15246070
> 
> 赞同：0
> 
> 时间：2013-03-06T11:25:12.680
> 
> 标签：cakephp

我有一个 cakephp (2.2) 应用程序，它有一个费用模型和一个 cashfloat 模型。Expense 模型与 cashFloat 模型有 HasOne 关系，cashFloat 模型属于 Expense 模型。

我有一个表格，用一个现金浮动字段表示“费用”。

我的问题是，当保存费用时，如果现金浮动字段为空，则仍会在 cashFloats 表中创建具有空值的记录。我怎样才能避免这种情况？如果现金浮动字段不为空，我只想创建现金浮动记录。

CashFloat 模型上的 beforesave() 是检查其是否为空的最佳方法吗？（过去几个月我一直在吃蛋糕，如果我遗漏了一些非常简单的东西，我深表歉意）。

型号：[https ://gist.github.com/anonymous/6ba48b84bddcc4dd23a3](https://gist.github.com/anonymous/6ba48b84bddcc4dd23a3)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:52:34.917

设法通过 beforeValidate() 回调取消设置 cashFloat 金额的数据数组键来解决此问题。希望这可以帮助某人。

```
public function beforeValidate(){
    if(empty($this->data['CashFloat']['amount'])){
        unset($this->data['CashFloat']['amount']);
    }
    return true; //this is required, otherwise validation will always fail
} 
```

# asp.net - GridView 走出页面 asp.net

> ID：15246071
> 
> 赞同：2
> 
> 时间：2013-03-06T11:25:19.597
> 
> 标签：asp.net

`GridView`正在离开页面......它在编辑模式下更进一步......这是gridview的代码：我如何让它留在页面内（即使在编辑模式下）......

```
<asp:GridView ID="GridView1" runat="server" AutoGenerateColumns="False" 
    AutoGenerateEditButton="True" DataKeyNames="EmployeeID" Visible="False" 
            Width="900px">
    <Columns>
        <asp:TemplateField HeaderText="EmployeeID" SortExpression="EmployeeID">
            <EditItemTemplate>
                <asp:Label ID="Label1" runat="server" Text='<%# Eval("EmployeeID") %>'></asp:Label>
            </EditItemTemplate>
            <ItemTemplate>
                <asp:Label ID="Label1" runat="server" Text='<%# Bind("EmployeeID") %>'></asp:Label>
            </ItemTemplate>
        </asp:TemplateField>
        <asp:TemplateField HeaderText="FirstName" SortExpression="FirstName">
            <EditItemTemplate>
                <asp:TextBox ID="TextBox1" runat="server" Text='<%# Bind("FirstName") %>'></asp:TextBox>
            </EditItemTemplate>
            <ItemTemplate>
                <asp:Label ID="Label2" runat="server" Text='<%# Bind("FirstName") %>'></asp:Label>
            </ItemTemplate>
        </asp:TemplateField>
        <asp:TemplateField HeaderText="LastName" SortExpression="LastName">
            <EditItemTemplate>
                <asp:TextBox ID="TextBox2" runat="server" Text='<%# Bind("LastName") %>'></asp:TextBox>
            </EditItemTemplate>
            <ItemTemplate>
                <asp:Label ID="Label3" runat="server" Text='<%# Bind("LastName") %>'></asp:Label>
            </ItemTemplate>
        </asp:TemplateField>
        <asp:TemplateField HeaderText="DOB" SortExpression="DOB">
            <EditItemTemplate>
                <asp:TextBox ID="TextBox3" runat="server" Text='<%# Bind("DOB") %>'></asp:TextBox>
            </EditItemTemplate>
            <ItemTemplate>
                <asp:Label ID="Label4" runat="server" Text='<%# Bind("DOB") %>'></asp:Label>
            </ItemTemplate>
        </asp:TemplateField>
        <asp:TemplateField HeaderText="Address" SortExpression="Address">
            <EditItemTemplate>
                <asp:TextBox ID="TextBox4" runat="server" Text='<%# Bind("Address") %>'></asp:TextBox>
            </EditItemTemplate>
            <ItemTemplate>
                <asp:Label ID="Label5" runat="server" Text='<%# Bind("Address") %>'></asp:Label>
            </ItemTemplate>
        </asp:TemplateField>
        <asp:TemplateField HeaderText="ContactNo" SortExpression="ContactNo">
            <EditItemTemplate>
                <asp:TextBox ID="TextBox5" runat="server" Text='<%# Bind("ContactNo") %>'></asp:TextBox>
            </EditItemTemplate>
            <ItemTemplate>
                <asp:Label ID="Label6" runat="server" Text='<%# Bind("ContactNo") %>'></asp:Label>
            </ItemTemplate>
        </asp:TemplateField>
        <asp:TemplateField HeaderText="EmailID" SortExpression="EmailID">
            <EditItemTemplate>
                <asp:TextBox ID="TextBox6" runat="server" Text='<%# Bind("EmailID") %>'></asp:TextBox>
            </EditItemTemplate>
            <ItemTemplate>
                <asp:Label ID="Label7" runat="server" Text='<%# Bind("EmailID") %>'></asp:Label>
            </ItemTemplate>
        </asp:TemplateField>
        <asp:TemplateField HeaderText="DesignationID" SortExpression="DesignationID">
            <EditItemTemplate>
                <asp:TextBox ID="TextBox7" runat="server" Text='<%# Bind("DesignationID") %>'></asp:TextBox>
            </EditItemTemplate>
            <ItemTemplate>
                <asp:Label ID="Label8" runat="server" Text='<%# Bind("DesignationID") %>'></asp:Label>
            </ItemTemplate>
        </asp:TemplateField>
        <asp:TemplateField HeaderText="Designation" SortExpression="Designation">
            <EditItemTemplate>
                <asp:TextBox ID="TextBox8" runat="server" Text='<%# Bind("Designation") %>'></asp:TextBox>
            </EditItemTemplate>
            <ItemTemplate>
                <asp:Label ID="Label9" runat="server" Text='<%# Bind("Designation") %>'></asp:Label>
            </ItemTemplate>
        </asp:TemplateField>
        <asp:TemplateField HeaderText="Department" SortExpression="Department">
            <EditItemTemplate>
                <asp:TextBox ID="TextBox9" runat="server" Text='<%# Bind("Department") %>'></asp:TextBox>
            </EditItemTemplate>
            <ItemTemplate>
                <asp:Label ID="Label10" runat="server" Text='<%# Bind("Department") %>'></asp:Label>
            </ItemTemplate>
        </asp:TemplateField>
        <asp:TemplateField HeaderText="DepartmentID" SortExpression="DepartmentID">
            <EditItemTemplate>
                <asp:TextBox ID="TextBox10" runat="server" Text='<%# Bind("DepartmentID") %>'></asp:TextBox>
            </EditItemTemplate>
            <ItemTemplate>
                <asp:Label ID="Label11" runat="server" Text='<%# Bind("DepartmentID") %>'></asp:Label>
            </ItemTemplate>
        </asp:TemplateField>
        <asp:TemplateField HeaderText="DOJ" SortExpression="DOJ">
            <EditItemTemplate>
                <asp:TextBox ID="TextBox11" runat="server" Text='<%# Bind("DOJ") %>'></asp:TextBox>
            </EditItemTemplate>
            <ItemTemplate>
                <asp:Label ID="Label13" runat="server" Text='<%# Bind("DOJ") %>'></asp:Label>
            </ItemTemplate>
        </asp:TemplateField>
        <asp:TemplateField HeaderText="ReportsTo" SortExpression="ReportsTo">
            <EditItemTemplate>
                <asp:TextBox ID="TextBox12" runat="server" Text='<%# Bind("ReportsTo") %>'></asp:TextBox>
            </EditItemTemplate>
            <ItemTemplate>
                <asp:Label ID="Label12" runat="server" Text='<%# Bind("ReportsTo") %>'></asp:Label>
            </ItemTemplate>
        </asp:TemplateField>
    </Columns>
</asp:GridView> 
```

这是屏幕截图 ![我的网格视图](../Images/9557829c96217ff3db3cbd74fe34db39.png)

任何可能有效的建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:27:56.350

这是有效的：

```
 <div style="width:90%;overflow:auto"> 
<asp:GridView ID="GridView1" runat="server" AutoGenerateColumns="False" 
    AutoGenerateEditButton="True" DataKeyNames="EmployeeID" Visible="False" style="width:100%;overflow:auto"
             HorizontalAlign="Center" > 
```

谢谢...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T13:06:57.740

设置 Width="100%" 。不要使用像素。

```
<asp:GridView ID="GridView1" runat="server" AutoGenerateColumns="False" 
    AutoGenerateEditButton="True" DataKeyNames="EmployeeID" Visible="False" 
            Width="100%"> 
```

# apache - 无法在 Apache 2.0 上加载 mod_dav_svn.so

> ID：15246072
> 
> 赞同：1
> 
> 时间：2013-03-06T11:25:20.870
> 
> 标签：apache, svn

我正在为 Apache 2.0 使用 Subversion

我将以下两个文件从 Subversion/bin 复制到 Apache/modules：

```
-mod_dav_svn.so
-mod_authz_svn.so 
```

我将以下行复制到 httpd.conf 文件中：

```
LoadModule dav_svn_module modules/mod_dav_svn.so
LoadModule authz_svn_module modules/mod_authz_svn.so

# Configure Subversion repository
<Location /svn>
    DAV svn
    SVNPath "C:\svn"
    AuthType Basic
    AuthName "Subversion repository"
    AuthUserFile "c:\svn_conf\passwd"
    Require valid-user
</Location> 
```

当我尝试运行 Apache 时，它​​给了我以下错误：

```
httpd.exe: Syntax error on line 141 of C:/xampp/apache/conf/httpd.conf: Cannot l
oad modules/mod_dav_svn.so into server: The specified procedure could not be found. 
```

我一直在寻找问题的解决方案几个小时，但我无法解决它。我怎样才能解决这个问题并使 Apache 运行？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-07-01T10:56:20.117

直接给出 Subversion 的绝对路径`mod_dav_svn.so`和`mod_authz_svn.so`来自 Subversion 的绝对路径，而不是将这些文件从复制`subversion/bin`到`apache/bin`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-11-20T13:31:54.963

请记住，您必须在 httpd.conf 中取消注释这两个模块：

```
LoadModule dav_fs_module modules/mod_dav_fs.so
LoadModule dav_module modules/mod_dav.so 
```

# c++ - cpp项目中的Cedet自动完成构造函数

> ID：15246084
> 
> 赞同：1
> 
> 时间：2013-03-06T11:25:51.100
> 
> 标签：c++, autocomplete, constructor, cedet

我想知道是否有一种可能的方式来配置`auto-complete`并`Cedet`让构造函数完成。

我在互联网上搜索过，我得到的唯一参考是

[http://comments.gmane.org/gmane.emacs.cedet/4391](http://comments.gmane.org/gmane.emacs.cedet/4391)。

我使用 Alex 的教程[http://alexott.net/en/writings/emacs-devenv/EmacsCedet.html](http://alexott.net/en/writings/emacs-devenv/EmacsCedet.html)来配置我的 CEDET。

我错过了什么吗？

# c# - 从 .NET MVC 控制器获取压缩文件并在 javascript 中解压缩

> ID：15246087
> 
> 赞同：2
> 
> 时间：2013-03-06T11:25:57.657
> 
> 标签：c#, javascript, asp.net-mvc, gzip, dotnetzip

我正在尝试从动作控制器获取一个 zip 文件（或一个字节数组）并将其解压缩到 javascript 中。目的是节省时间，因为我要下载的数据量非常大。

这是返回数据的动作控制器：

```
 public FileContentResult GetKML()
    {
        byte[] strResult = GetZippedDataWithDotNetZip();
        return File(strResult, "application/zip", "test.zip");
    } 
```

我在 javascript 中调用该控制器操作：

```
$.post('Home/GetKML', {}, function (data) {
    var info = unzip(data);
}); 
```

问题是控制器操作返回*undefined*。为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T21:25:08.670

问题可能是由于 jquery 的 ajax 函数只处理 xml、html、脚本、json、jsonp 和文本的响应类型（我还没有验证过，但它是基于我之前的经验）。您正在从您的操作中返回二进制数据，他们无法处理这些数据。

我强烈怀疑控制器操作是否返回“未定义”，因为这是一个 javascript 习惯用法。您可能只是尝试对返回值执行 console.log 并看到“未定义”，在这种情况下，您正在查看 jquery 无法处理 Action 输出的最终结果。如果您使用 Firefox 和 Firebug 查看来自 ajax 请求的实际响应，您将获得更好的故障排除信息。

这回答了“为什么？” 在你的问题中，我相信。

如果您想要一些额外的选项，并且根据您的回答，我认为您会这样做，因为您非常关注性能并且对使用已经支持的基础架构不感兴趣，该基础架构可用于透明地启用您的性能增强类型想要做（即 gzip 压缩），非常欢迎您推出自己的 jquery 插件来处理从服务器返回的二进制数据并执行您想要的任何操作。您对自我实现的性能增强的渴望使我怀疑您是否愿意并且能够深入研究 jquery 文档来实现这一目标。或者如果失败了，为什么不以自己的方式重新实现 jquery 功能以支持 zip 数据的提取呢？

另一种选择是将压缩文件作为 mime 编码字符串发回，这当然会使压缩文件的用处无效。但是，话又说回来，您可以启用 gzip 压缩，毕竟它会被压缩。

# python - 这个 socket.gaierror 是什么意思？

> ID：15246088
> 
> 赞同：54
> 
> 时间：2013-03-06T11:26:01.147
> 
> 标签：python, tcp, errno

我是 python 新手，正在阅读一本书，Core Python Applications 3rd Edition。这是第一个例子，我已经被它难住了。这是最后有错误的代码。

```
#!/usr/bin/env python

from socket import *
from time import ctime

HOST = ' '
PORT = 21567
BUFSIZ = 1024
ADDR = (HOST, PORT)

tcpSerSock = socket(AF_INET, SOCK_STREAM)
tcpSerSock.bind(ADDR)
tcpSerSock.listen(5)

    while True:
        print 'waiting for connection...'
        tcpCliSock, addr = tcpSerSock.accept()
        print "...connected from:", addr

        while True:
        data = tcpCliSock.recv(BUFSIZ)
        if not data:
            break
        tcpCliSock.send("[%s] %s" % (ctime(), data))

    tcpCliSock.close()
tcpSerSock.close()

Traceback (most recent call last):
  File "tsTserv.py", line 12, in <module>
    tcpSerSock.bind(ADDR)
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/socket.py", line 224, in meth
socket.gaierror: [Errno 8] nodename nor servname provided, or not known 
```

这是什么意思？

* * *

## 回答 #1

> 赞同：51
> 
> 时间：2013-03-06T11:33:01.067

这意味着您给定的主机名`' '`无效（gai 代表`getaddrinfo()`）。

正如 NPE 已经指出的那样，空字符串`''`可能比空格更合适`' '`。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2013-03-06T11:27:51.170

这

```
HOST = ' ' 
```

应该读

```
HOST = '' 
```

（即引号之间没有空格）。

您收到错误的原因是这`' '`不是有效的主机名。在这种情况下，`''`有一个特殊的含义（它基本上意味着“所有本地地址”）。

# jquery - openCart 自定义 jQuery 样式

> ID：15246097
> 
> 赞同：0
> 
> 时间：2013-03-06T11:26:23.010
> 
> 标签：jquery, html, css, opencart

老板告诉我在`<a>`点击标签时为标签添加自定义样式，我认为这将是一件容易的事情，但我意识到每当我点击 openCart 中的链接时，整个网站都会重新加载。基本上，该类被添加到该`<a>`标记中，但在站点重新加载之后，它忘记了我的 jquery addClass() 样式。:(

[现场演示](http://borbelykertlabor.hu/webshop/index.php?route=common/home)

jQuery 片段：

```
/* foMenu -bklActive */
$('#menu ul li a').on('click', function(){
  $(this).parents().find("a").removeClass('bklActive');
  $(this).addClass('bklActive');
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:36:28.567

`a`您必须在您的所有元素上删除所有给定的类，`#menu`而不是使用兄弟姐妹方法：

```
$('ul li a').on('click', function () {
    $("ul li a").removeClass('bklActive');
    $(this).addClass('bklActive');
}); 
```

[http://fiddle.jshell.net/d9LqD/](http://fiddle.jshell.net/d9LqD/)

**更新**

为了更动态地实现这一点，请使用`jQuery.fn.parents`- 方法：

```
$('ul li a').on('click', function () {
    $(this).parents().find("a").removeClass('bklActive');
    $(this).addClass('bklActive');
}); 
```

# css - 盒子宽度 100% (letup)

> ID：15246099
> 
> 赞同：2
> 
> 时间：2013-03-06T11:26:31.693
> 
> 标签：css

正如你所看到的 (p1) 我有 2 毫米的松动，但在示例 (p2) 中它们没有松动。我必须做些什么来修复它？

p1

![在此处输入图像描述](../Images/939811b935008b698f4ecf92b125fdd2.png)

p2

![在此处输入图像描述](../Images/52976b8d68332978341a9adb0615db30.png)

我的CSS示例：

```
#head
{
    background: none repeat scroll 0 0 #3D6AA2;
    height: 44px;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T11:28:16.667

从正文中删除边距和填充：

```
body {
     margin: 0;
     padding: 0; 
```

}

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-06T11:30:30.693

只需将您的 html 正文边距设置为零像素。

```
body {margin: 0} 
```

如果您想要/需要将任何包含的 DIV（不是 100%）居中，请使用；

```
body {margin: 0 auto} 
```

# oracle - EclipseLink 2.1.3，Oracle 11g，通过容器管理的持久性持久化后返回 PK

> ID：15246101
> 
> 赞同：1
> 
> 时间：2013-03-06T11:26:33.437
> 
> 标签：oracle, jpa, eclipselink

我正在使用带有容器管理的 EntityManager 的 EclipseLink 2.1.3 与 Oracle 11g DB 交互。

我希望在 EM 上调用 persist() 后立即更新实体的 @Id 变量。

使用 Oracle DB 执行此操作的正确策略是什么？

我在这个站点上找到的所有示例都没有处理容器管理持久性的这个问题。

实体看起来像这样：

```
 @Entity
    @Table(name = "ANNOUNCEMENT_DELIVERY_LOG")
    public class AnnouncementDeliveryLog implements Serializable {

        @Id
        private BigDecimal id;
        @ManyToOne
        @JoinColumn(name = "ANNOUNCEMENT_ID ")
        private Announcements announcement;

        public AnnouncementDeliveryLog() {
        }

    } 
```

我需要添加以下内容吗？

```
@Column(nullable = false)
@GeneratedValue(strategy=GenerationType.SEQUENCE, generator="ANNOUNCEMENT_DELIVERY_LOG_SEQ")
@SequenceGenerator(name="ANNOUNCEMENT_DELIVERY_LOG_SEQ", sequenceName="ANNOUNCEMENT_DELIVERY_LOG_SEQ") 
```

为了持久化我只是调用persist() 的实体。我还需要调用flush()吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:39:42.570

是的，您必须提供`@SequenceGenerator`注释，以便 JPA 在`persist()`.

不需要冲洗。

# apache - httpd logformat 配置 - 向现有 logformat 添加格式后缀

> ID：15246103
> 
> 赞同：0
> 
> 时间：2013-03-06T11:26:35.123
> 
> 标签：apache

我正在尝试通过重新使用已经存在的 LogFormat 昵称来定义新的[LogFormat 。](http://httpd.apache.org/docs/trunk/en/mod/mod_log_config.html#logformat "LogFormat 指令文档")

让我们考虑以下片段（来自 httpd 文档的“[日志文件](http://httpd.apache.org/docs/trunk/en/logs.html#accesslog "apache httpd 日志文档")”部分）：

```
SetEnv CACHE_MISS 1
LogFormat "%h %l %u %t \"%r\" %>s %b %{CACHE_MISS}e" common-cache
CustomLog logs/access_log common-cache 
```

我想知道是否有办法`common-cache`通过重新使用`common`日志格式而不是硬编码来定义日志格式`%h %l %u %t \"%r\" %>s %b`

我问这个是因为我想`base`在核心`httpd.conf`文件中定义一个日志格式，然后在我的每个虚拟主机配置文件中定义一个`customized`基于日志格式的日志格式`base`

请注意，我不需要自定义日志格式的昵称，这意味着以下形式之一的解决方案就足够了：

```
## form 1
LogFormat *my customized format*
TransferLog logs/access_log

##form 2
CustomLog logs/access_log *my customized format* 
```

感谢您的投入

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-25T23:05:22.523

使用[管道日志](http://httpd.apache.org/docs/2.2/logs.html#piped)来实现这一点：

```
 CustomLog "|| customizer.sh logs/access_log 86400" foo_format 
```

> 第二个参数指定将写入日志文件的内容。它可以指定由先前的 LogFormat 指令定义的昵称，也可以是日志格式部分中描述的显式格式字符串。

# sql-server-2008 - SQL Server - 根据条件构造更新 where 子句

> ID：15246106
> 
> 赞同：1
> 
> 时间：2013-03-06T11:26:44.770
> 
> 标签：sql-server-2008

请参阅以下查询：

```
Update Employee
Set AccountManagerId = a.AM_ID
FROM Employee e INNER JOIN AccountManager a on e.Id = a.Id
WHERE 
```

******努力构造下面的部分（需要添加到where子句中）******

 **```
If a.Department is not null then [FOLLOWING NEEDS TO BE ADDED TO WHERE CLAUSE] (e.Department = a.department) 
```

努力将其添加到 where 子句。因此，如果部门不为 NULL，则将其添加到 WHERE 子句

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:30:40.150

你不能这样做：

```
Update Employee
Set AccountManagerId = a.AM_ID,
e.Department = a.department
FROM Employee e INNER JOIN AccountManager a on e.Id = a.Id
WHERE
a.Department IS NOT NULL 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:30:53.930

为什么不向联接添加另一个条件？

我相信这将实现您的意图，仅更新员工与具有部门的匹配客户经理。

```
UPDATE Employee
SET AccountManagerId = a.AM_ID
FROM Employee e 
INNER JOIN AccountManager a 
ON e.Id = a.Id
AND
e.Department = a.Department 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:33:42.170

```
Update Employee
Set AccountManagerId = a.AM_ID
FROM Employee e INNER JOIN AccountManager a on e.Id = a.Id
WHERE ((a.Department IS NULL) || (e.Department = a.department)) 
```**

# wpf - 如何在属性更改时 RaisePropertyChanged？

> ID：15246108
> 
> 赞同：5
> 
> 时间：2013-03-06T11:26:47.627
> 
> 标签：wpf, event-handling, bind

在这里，我向我的视图模型添加了一个模型：

```
public dal.UserAccount User  {
  get
  {
    return _user;
  }
  set
  {
    _user = value;
    RaisePropertyChanged(String.Empty); 
   }
} 
```

我处理属性更改事件...

```
public event PropertyChangedEventHandler PropertyChanged;
private void RaisePropertyChanged(string propertyName)
{
  if (this.PropertyChanged != null)
    this.PropertyChanged(this, new PropertyChangedEventArgs(propertyName));
} 
```

这是我使用的绑定：

```
<TextBox Text="{Binding User.firstname, Mode=TwoWay, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}" /> 
```

为什么更新视图时不会触发 propertychange 事件？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-06T11:30:52.897

PropertyChanged 用于通知 UI 模型中的某些内容已更改。由于您正在更改**User**对象的内部属性 -属性*本身*没有更改，因此不会引发 PropertyChanged 事件。**`User`**

 **其次，您的模型[应该实现**INotifyPropertyChanged**接口](http://msdn.microsoft.com/en-us/library/ms229614.aspx)。- 换句话说，确保`UserAccount`实现 INotifyPropertyChanged，否则更改`firstname`也不会影响视图。

另一件事：

RaisePropertyChanged 应接收的参数是已更改的属性的*名称*。所以在你的情况下：

改变：
`RaisePropertyChanged(String.Empty);`

到
`RaisePropertyChanged("User");`

来自[MSDN](http://msdn.microsoft.com/en-us/library/system.componentmodel.inotifypropertychanged.propertychanged.aspx)：

> PropertyChanged 事件可以通过使用 null 或 String.Empty 作为 PropertyChangedEventArgs 中的属性名称来指示对象上的所有属性都已更改。

（在这种情况下无需刷新所有属性）

[您可以在此处](http://msdn.microsoft.com/en-us/library/system.componentmodel.inotifypropertychanged.propertychanged.aspx)阅读有关 ***PropertyChanged概念的更多信息***

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-04-07T10:04:55.523

您可以从另一个类调用属性更改事件。如果您拥有所有资源，则不是特别有用。对于封闭源，它可能是。虽然我认为它是实验性的而不是生产就绪。

请参阅此控制台复制粘贴示例：

```
using System;
using System.ComponentModel;
using System.Runtime.InteropServices;

namespace ConsoleApp1
{
    public class Program
    {
        static void Main(string[] args)
        {
            var a = new A();
            a.PropertyChanged += A_PropertyChanged;
            var excpl = new Excpl();
            excpl.Victim = a;
            excpl.Ghost.Do();
        }

        private static void A_PropertyChanged(object sender, PropertyChangedEventArgs e)
        {
            Console.WriteLine("Event triggered");
        }
    }

    [StructLayout(LayoutKind.Explicit)]
    public struct Excpl
    {
        [FieldOffset(0)]
        public A Victim;
        [FieldOffset(0)]
        public C Ghost;
    }

    public class A : INotifyPropertyChanged
    {
        public event PropertyChangedEventHandler PropertyChanged;
    }

    public class C : INotifyPropertyChanged
    {
        public event PropertyChangedEventHandler PropertyChanged;

        public void Do()
        {
            PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(""));
        }
    }
} 
```**

# jquery - jQuery $.post 无法正常工作

> ID：15246126
> 
> 赞同：2
> 
> 时间：2013-03-06T11:27:30.137
> 
> 标签：jquery, backbone.js

出于某种原因......它没有从我提交表单时获取任何数据，`script.php`提交时似乎存在问题。当我点击提交按钮时。它去`search.php?search=wasd`如果我删除`$.post`功能，没有问题。

```
$('form').submit(function() {
    var form_data = ($(this).serialize());
    window.location.hash = form_data.replace('=','/');
    return false;
});

(function() {

window.App = {
    Models: {},
    Collections: {},
    Views: {},
    Router: {}
};

App.Router = Backbone.Router.extend({
    routes: {
        '': 'index',
        'search/:search': 'search',
        '*other': 'default'
    },

    index: function() {
        $(document.body).append("");
    },

    search: $.post("script.php", function(search) {
        $('#result').html(search);
    });

});

new App.Router();
Backbone.history.start();

})(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:39:34.477

尝试像这样分配搜索变量

```
search: function(){
 $.post("script.php", function(search) {
        $('#result').html(search);
    });
} 
```

如果您想以下列方式通过 $.post 传递您的表单数据

```
search: function(){
 $.post("script.php", $("form").serialize(), function(search) {
        $('#result').html(search);
    });
} 
```

然后尝试像这样在服务器端打印发布的值

```
print_r($_POST); 
```

# javascript - Google geocoder.geocode，异步变量映射

> ID：15246127
> 
> 赞同：0
> 
> 时间：2013-03-06T11:27:33.577
> 
> 标签：javascript, google-maps-api-3, asynchronous, google-geocoder, google-geocoding-api

我有以下地理编码异步方法，它按预期工作，从我拥有的自定义对象数组中获取地址，我的问题是将结果映射回触发该方法的对象 [i]，查看结果只会给我返回与我输入的地址不同的格式化地址，“Google 添加了一些区号，将 St 更改为街道等。” 因此，当我得到这些结果时，由于此方法的异步性质，我无法匹配我获得的每个对象的新 Lat 和 Lng 坐标，并且结果不会按顺序返回，知道我可以在这里做什么吗？

谢谢。

编辑：我的想法是创建一种方法来按顺序恢复结果，将其更改为同步，我知道不理想，我找不到任何示例。

函数 iterateAndAddress(objArray) {

```
 for(var i=0; i< objArray.length; i++) {

        var address = objArray[i].BillingStreet +' '+objArray[i].BillingCity+' '+objArray[i].BillingCountry;
        var geocoder = new google.maps.Geocoder();
        console.log('Address = '+address);

        if(geocoder) {
            geocoder.geocode( { 'address': address}, function(results, status) { 

                if (status == google.maps.GeocoderStatus.OK) {

                    //console.log(results);
                    var lat = results[0].geometry.location.lat();
                    var lon = results[0].geometry.location.lng();  
                    console.log('Address : '+results[0].formatted_address);

                }else if(status == 'OVER_QUERY_LIMIT') {

                }
                else{

                }
            });  
         }  

    }  
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:38:51.857

将 id 放入组合中。除了返回数据之外，还返回 id 并绑定信息完成并除尘。

... 编辑

好的，所以您正在从对象数组发出请求。该数组是否有 id 键？如果是这样，那么除了返回 lat 和 long 之外，还返回 id。

```
var id = objArray[i].id
var lat = results[0].geometry.location.lat();
var lon = results[0].geometry.location.lng(); 
```

或者您使用的任何 id 键。

返回一个数组（或诸如此类的对象）可能会更好

```
result[i].lat = results[0].geometry.location.lat();
result[i].lon = results[0].geometry.location.lng(); 
```

只要您知道与 i 相关的记录，您就有了比较点。

我必须承认，我一定错过了您当前方法的异步性（单词？）。

# windows-phone - 诺基亚lumia 510可以升级到windows phone8吗

> ID：15246128
> 
> 赞同：0
> 
> 时间：2013-03-06T11:27:38.977
> 
> 标签：windows-phone

我有 nokialumia510，是否可以将其升级到 wp8，以便我需要测试我在 wp8 sdk 中开发的应用程序。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T13:03:30.453

无法将任何 Windows Phone 升级到 Windows Phone 8。您的 Lumia 510 只能升级到 Windows Phone 7.8。

WP8 是一个与旧 Windows Phone 7 无关的新平台。如果您想测试您的应用程序，您必须购买安装了 WP8 的新设备。

# javascript - HTML/JavaScript：如何停止字幕加载，并在鼠标悬停时开始？

> ID：15246132
> 
> 赞同：4
> 
> 时间：2013-03-06T11:27:42.770
> 
> 标签：javascript, html, scroll, mouseover, marquee

我正在使用以下 HTML 代码水平滚动文本：

```
<marquee behavior="scroll" direction="left" onmouseover="this.start();" onmouseout="this.stop();">Go on... hover over me!</marquee> 
```

我遇到的问题是，一旦您访问该页面，页面就会`marquee`自动开始滚动。我想要做的是冻结`marquee`直到鼠标悬停。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-06T11:48:26.977

我在这里听起来很自卑...

它是 2013 年[。选框标签已死。它是特定于浏览器的。这完全是错误的，而且一开始就是一个错误。](http://en.wikipedia.org/wiki/Marquee_element)

在语义 html 的现代时代，应该使用 html 来定义内容。如果需要，应使用 CSS 应用视觉样式，并使用 CSS 补充 javascript 来应用视觉效果。

有关现代方法的 biref 概述，请参阅[本文。](http://webdesign.about.com/od/css3tutorials/a/marquee-in-css.htm)

有纯 CSS3 方法： http: [//www.hongkiat.com/blog/css3-animation-advanced-marquee/](http://www.hongkiat.com/blog/css3-animation-advanced-marquee/)

可能最适合您：javascript（和 jQuery）解决方案：[http](http://remysharp.com/2008/09/10/the-silky-smooth-marquee/) ://remysharp.com/2008/09/10/the-silky-smooth-marquee/ 。**注意：**链接解决方案中的示例使用 marquee 标签，但您不限于使用 marquee 标签。您可以使用任何有效的 jquery 选择器。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T11:30:52.233

```
<marquee id="myMarquee" behavior="scroll" direction="left" onmouseover="this.start();" onmouseout="this.stop();">Go on... hover over me!</marquee>

<body onload="document.getElementById('myMarquee').stop();"> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T11:43:20.700

您可以修改 scrollAmount 而不是调用 start() 和 stop()，并且最初将 scrollamount 设置为 0。例如

`<marquee behavior="scroll" direction="left" scrollamount="0" onmouseover="this.scrollAmount = 6" onmouseout="this.scrollAmount = 0">Go on... hover over me!</marquee>`

见[http://jsfiddle.net/svt9L/](http://jsfiddle.net/svt9L/)

[请注意，这是对您问题的直接回答。但是，我完全赞同 Jon P 的回答。有比使用选取框元素更好的解决方案。]

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-06-05T06:15:29.997

尝试其中之一。

```
<!-- MOVING UP -->
<marquee direction="up" onmouseover="this.setAttribute('scrollamount', 0, 0);" onmouseout="this.setAttribute('scrollamount', 6, 0);"></marquee>

<!-- MOVING DOWN -->
<marquee direction="down" onmouseover="this.setAttribute('scrollamount', 0, 0);" onmouseout="this.setAttribute('scrollamount', 6, 0);"></marquee>

<!-- MOVING LEFT -->
<marquee direction="left" onmouseover="this.setAttribute('scrollamount', 0, 0);" onmouseout="this.setAttribute('scrollamount', 6, 0);"></marquee>

<!-- MOVING RIGHT -->
<marquee direction="right" onmouseover="this.setAttribute('scrollamount', 0, 0);" onmouseout="this.setAttribute('scrollamount', 6, 0);"></marquee> 
```

# php - 获取第n个数组行号php

> ID：15246134
> 
> 赞同：2
> 
> 时间：2013-03-06T11:27:46.560
> 
> 标签：php, arrays

假设您将以下数组值分配给变量，

```
$erz = Array ( 
  [0] => stdClass Object ( [id] => 43 [gt] => 112.5 ) 
  [1] => stdClass Object ( [id] => 47 [gt] => 46 ) 
  [2] => stdClass Object ( [id] => 48 [gt] => 23.75 )
  [3] => stdClass Object ( [id] => 49 [gt] => 12.5 ) 
) 
```

我需要能够获得给定 id 的数组索引号。因此，例如，我想得到 2 个给定 id 48，或者得到 3 个给定 id 49，等等。有没有 php 命令能够做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:36:07.657

我不认为有但很容易设置自己的功能..

```
function findArrayIndex($arr, $searchId) {

    $arrLen = count($arr);
    for($i=0; $i < $arrLen; $i++) {
       if($arr[$i][id] == $searchId) return $i;
    }

    return -1;

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:36:09.347

不，没有这样的功能。实际上有一个`array_search()`，但你不能将它与对象一起使用。例如，这里有人问了一个类似的问题：[PHP - find entry by object property from a array of objects](https://stackoverflow.com/questions/4742903/php-find-entry-by-object-property-from-a-array-of-objects)

所以你必须制作自己的循环：

```
$result = null;
$givenID = 43;
foreach ($erz as $key => $element)
{
    if ($element->id == $givenID)
        $result = $key;
} 
```

# javascript - 使用 Rhino JavaScript 引擎的 Windows 应用程序？

> ID：15246146
> 
> 赞同：1
> 
> 时间：2013-03-06T11:28:11.050
> 
> 标签：javascript, windows, rhino, javascript-engine

是否有一个 Windows 应用程序和一个 IDE 解决方案，并且可以执行 JavaScript 源，就像它在 Mozilla Firefox 中一样，这意味着它使用**Rhino JavaScript Engine**。

Mozilla 控制台、FireBug 控制台等除外。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T23:08:03.110

以下是一些使用 Rhino 的应用程序：

```
名称 用途
Eclipse JSDT JavaScript 开发者工具
HttpUnit自动化测试框架
用于 Java 程序的 HtmlUnit 浏览器
JsDoc Toolkit 文档工具
Pentaho BI Suite 商业智能
PerStore 持久 JSON 存储

```

[Komodo](https://stackoverflow.com/tags/komodoedit/info)使用与 Mozilla Firefox 相同的 JavaScript 引擎。它可以通过以下方式执行 JavaScript：

*   [JavaScript 宏 API](https://stackoverflow.com/questions/3905759/advanced-find-replace-text-expand-macros)

*   [代码智能](https://stackoverflow.com/questions/4113155/javascript-code-completition-done-right/4113205#4113205)

*   [XUL 扩展](http://community.activestate.com/forum-topic/xul-preview-extension)

*   [DOM 检查器](http://support.activestate.com/xpi/dom-inspector)

[jQuery API](https://github.com/Komodo/KomodoEdit/blob/master/src/codeintel/lib/codeintel2/catalogs/jquery.cix)的插件以及内置的[JavaScript API](http://docs.activestate.com/komodo/8.0/komodo-js-api.html)极大地简化了事情。

还有一个在 Rhino 上运行的 Android IDE：

*   [编写脚本 - JavaScript IDE](https://play.google.com/store/apps/details?id=com.rbowman.scriptit&hl=en)

**参考**

*   [基于 Mozilla 的应用程序列表](https://developer.mozilla.org/en-US/docs/List_of_Mozilla-Based_Applications)
*   [犀牛源](http://dxr.mozilla.org/mozilla/source/js/rhino/)
*   [HTTPUnit 源](http://svn.code.sf.net/p/httpunit/code/trunk/httpunit/)
*   [HTMLUnit 源代码](http://svn.code.sf.net/p/htmlunit/code/trunk/htmlunit/)
*   [PerStore 框架源码](https://github.com/kriszyp/perstore)
*   [JSDoc 源码](https://github.com/jiva-technology/jsdoc-toolkit)
*   [JSDT 源码](https://github.com/eclipse/vjet.jsdt.parser)

# c++ - 将 vlfeat 库的 dsift 与 cv::Mat 一起使用

> ID：15246155
> 
> 赞同：3
> 
> 时间：2013-03-06T11:28:28.010
> 
> 标签：c++, c, opencv, computer-vision, vlfeat

我目前正在尝试使用 vlfeat-lib 的 dsift 算法。但无论我使用哪些值创建过滤器（样本步长、bin 大小），它都会在执行期间为每一帧返回相同数量的关键点（连续帧不同，来自相机）。关于 C 或 C++ 用法的文档非常薄，我找不到这些语言的任何好的示例。以下是相关代码：

```
// create filter
vlf = vl_dsift_new_basic(320, 240, 1, 3);

// transform image in cv::Mat to float vector
std::vector<float> imgvec;
for (int i = 0; i < img.rows; ++i){
  for (int j = 0; j < img.cols; ++j){
    imgvec.push_back(img.at<unsigned char>(i,j) / 255.0f);                                                                                                                                                                                                        
  }
}
// call processing function of vl
vl_dsift_process(vlf, &imgvec[0]);

// echo number of keypoints found
std::cout << vl_dsift_get_keypoint_num(vlf) << std::endl; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T15:38:52.617

> 它在执行期间为每一帧返回相同数量的关键点

**这对于密集**SIFT 实现是正常的，因为提取的关键点的数量仅取决于输入的几何参数 [1]，即步长和图像大小。

请参阅[文档](http://www.vlfeat.org/api/dsift.html)：

> 特征帧（关键点）由采样步骤（`vl_dsift_set_steps`）和采样边界（`vl_dsift_set_bounds`）间接指定。

[1]：仅使用几何信息（边界、步长和 bin 大小）更新的`vl_dsift_get_keypoint_num`返回值。`self->numFrames``_vl_dsift_update_buffers`

# java - 如何修复异常：无法实例化 SLF4J LoggerFactory？

> ID：15246157
> 
> 赞同：5
> 
> 时间：2013-03-06T11:28:31.400
> 
> 标签：java, log4j, slf4j

我正在尝试使用 jena 库为语义网络编写一个 Java 网络爬虫。我已经使用 Netbeans 构建项目。我收到两个错误：

1.  无法实例化 SLF4J LoggerFactory 报告异常：java.lang.NoClassDefFoundError: org/apache/log4j/Level

2.  无法在 org.slf4j.LoggerFactory.bind（LoggerFactory.java:128）初始化类 com.hp.hpl.jena.rdf.model.impl.ModelCom

我已经包含`slf4j-api`了`slf4j-log`两个库。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-06T11:36:55.590

您还应该包含`log4j`库，因为`slf4j-log4j`它只是一个静态活页夹。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-01-22T00:19:37.797

你应该在你的类路径中包含`slf4j-api-x.x.x.jar`和`slf4j-simple-x.x.x.jar`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-04-09T21:24:42.247

正如错误提示：

> 无法实例化[SLF4J](http://en.wikipedia.org/wiki/SLF4J) [LoggerFactory](http://www.slf4j.org/api/org/slf4j/LoggerFactory.html)

您需要将相应的`slf4j-*-*.jar`绑定文件放入您的[类路径](http://en.wikipedia.org/wiki/Classpath_%28Java%29)文件夹中。

`locate slf4j`如果存在，您可以找到它们。

> 从 SLF4J 版本 1.6.0 开始，如果在类路径上找不到绑定，则 slf4j-api 将默认为丢弃所有日志请求的无操作实现。

### 雄猫

如果使用 Tomcat，您可以将这些文件复制到`/usr/share/tomcat7/lib`您的 webapp 文件夹`/var/lib/tomcat7/webapps/*/WEB-INF/lib`中。

### 索尔

如果您正在使用 Solr 或者您想使用那里的文件（默认包含），您可以在`dist/solrj-lib`和中找到它们`example/lib/ext`。

* * *

请参阅：[Java 的简单日志门面 (SLF4J) 用户手册](http://www.slf4j.org/manual.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-12-15T20:30:32.877

我尝试了所有排列和组合，但最后**是 slf4j-api-****和**slf4j-simple-***运行良好。*

# .net - 垃圾收集是在进程级别还是 appdomain 级别发生的？

> ID：15246167
> 
> 赞同：26
> 
> 时间：2013-03-06T11:29:07.897
> 
> 标签：.net, garbage-collection

FullGC 通常会在运行时暂停所有线程。有两个 AppDomain，每个都运行多个线程。当 GC 运行时，会暂停所有线程，还是只暂停其中一个 AppDomain 的线程？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-03-06T13:41:14.200

很难回答，最好的办法就是测试它：

```
using System;
using System.Reflection;

public class Program : MarshalByRefObject {
    static void Main(string[] args) {
        var dummy1 = new object();
        var dom = AppDomain.CreateDomain("test");
        var obj = (Program)dom.CreateInstanceAndUnwrap(Assembly.GetExecutingAssembly().FullName, typeof(Program).FullName);
        obj.Test();
        Console.WriteLine("Primary appdomain, collection count = {0}, gen = {1}",
            GC.CollectionCount(0), GC.GetGeneration(dummy1));
        Console.ReadKey();

    }
    public void Test() {
        var dummy2 = new object();
        for (int test = 0; test < 3; ++test) {
            GC.Collect();
            GC.WaitForPendingFinalizers();
        } 
        Console.WriteLine("In appdomain '{0}', collection count = {1}, gen = {2}",
            AppDomain.CurrentDomain.FriendlyName, GC.CollectionCount(0),
            GC.GetGeneration(dummy2));
    }
} 
```

输出：

```
In appdomain 'test', collection count = 3, gen = 2
Primary appdomain, collection count = 3, gen = 2 
```

很好的证据表明 GC 会影响默认 CLR 主机上的所有 AppDomain。这让我很惊讶。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2013-03-06T12:24:22.910

从这里的线程：[垃圾收集器是在.net 系统范围内还是应用程序范围内？](https://stackoverflow.com/questions/6982409/is-the-garbage-collector-in-net-system-wide-or-application-wide)，它发生在进程级别。该进程中的所有线程都将暂停，但不会跨多个进程。

一个或多个应用程序域可以存在于一个进程中，但应用程序域不能在进程之间共享。每： http: [//blogs.msdn.com/b/tess/archive/2008/08/19/questions-on-application-domains-application-pools-and-unhandled-exceptions.aspx](http://blogs.msdn.com/b/tess/archive/2008/08/19/questions-on-application-domains-application-pools-and-unhandled-exceptions.aspx)，“进程中的所有appdomains共享同一个 GC。” 因此，GC 应该在触发 GC 时影响所有应用程序域。

但是，过多的进程花费时间执行 GC 可能会导致 CPU 性能下降，这可能会对未参与 GC 的其他进程的性能产生负面影响。

这个链接也解释了 GC 的基本原理：

[http://msdn.microsoft.com/en-us/library/ee787088.aspx](http://msdn.microsoft.com/en-us/library/ee787088.aspx)

# php - PDO exec 不想使用 vars

> ID：15246172
> 
> 赞同：-1
> 
> 时间：2013-03-06T11:29:33.767
> 
> 标签：php, mysql, pdo

我在这里做错了什么？我想也许 exec 中的变量有问题，但我有一个在另一个地方工作的模拟命令。注释部分返回 int(1) 作为受影响的行，此代码返回以下错误。非常感谢您的建议，我只是在学习。

```
"object(PDO)#2 (0) { } Array ( [0] => 42000 [1] => 1064 [2] => You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'try, Wed, 06 Mar 2013 13:25:09 +0200)' at line 1 ) " 
```

代码 ：

```
<?php
class gbMsg {
    private $_db;
    private $dbc;

    function __construct(){
        $this->dbc = parse_ini_file($_SERVER["DOCUMENT_ROOT"]."/lock/conect.ini");
        try{
            $this->_db = new PDO($this->dbc["conn"], $this->dbc["user"], $this->dbc["pass"]);
        }catch(PDOException $e){
            echo $e->getMessage();
        }
    }

    function addPost($name, $msg){
        echo var_dump($this->_db);
        $d = date("r");
        $stmt = $this->_db->exec("INSERT INTO gPosts (name, message, date) VALUES ($name,$msg, now())")
        or die(print_r($this->_db->errorInfo(), true));
        echo var_dump($stmt);
    }
}

#   function addPost(){
#       echo var_dump($this->_db);
#       $stmt = $this->_db->exec("INSERT INTO gPosts (name, message, date) VALUES ('Kirill','sec', now())");
#       echo var_dump($stmt);
#   }
#} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:35:36.223

但是，用户参数化查询更好地解决您的问题：

```
 $stmt = $this->_db->exec("INSERT INTO gPosts (name, message, date)
 VALUES (\"$name\",\"$msg\", now())") 
```

你忘了引号...

您可以在此处阅读有关参数化查询和准备好的语句的更多信息：http: [//php.net/manual/en/pdo.prepared-statements.php](http://php.net/manual/en/pdo.prepared-statements.php)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2014-07-28T14:04:27.890

我想像下面这样的东西也应该起作用。恕我直言，它看起来比转义双引号要干净得多

```
$stmt = $this->_db->exec("INSERT INTO gPosts (name, message, date)
 VALUES ('$name','$msg', now())") 
```

# php - 从 php 流式传输 .flv 视频不起作用，使用流播放器和视频 js

> ID：15246174
> 
> 赞同：0
> 
> 时间：2013-03-06T11:29:39.270
> 
> 标签：php, apache, streaming, video-streaming, flowplayer

我试图在我的网站中添加视频播放..

我是怎么试过的？要播放的视频不在我的网站文档根目录中，而是在文档根目录之外，因此我无法命名要播放的文件，例如**example.com/video/vid1.flv**，而我正在做的是使用url **example.com/video/index.php?id=hnngthf** 来获取数据，在这个 php 文件中我做

```
 //Video Streaming
            header('Content-Description: File Transfer');
            header('Content-Type: video/flv');
            //header('Content-Disposition:attachment; filename=' . $justName);
            header('Content-length: ' . filesize($fileName));
            header('Expires: 0');
            header('Content-Transfer-Encoding: binary');
            $file = fopen($fileName, 'r');
            echo stream_get_contents($file);    
            //echo file_get_contents($fileName);
            fclose($file); 
```

然后在客户端，我尝试使用 videojs 和 flow player 但没有运气，让我们看看我是如何使用这些播放器的

**视频js**

```
var myPlayer = _V_("myVideo",{"techOrder" : ["flash"], "controls" : true, "autoplay" : false, "preload": "auto"});
            _V_.options.flash.swf = "../scripts/video-js.swf"
            myPlayer.src('../index.php?id=' + code);
            //myPlayer.src('../my.flv');
            myPlayer.load(); 
            myPlayer.play(); 
```

Video js 错误消息：*Video Error *V* .Event {type: "error", timeStamp: 1362567722368, vdata1362567711568: true, preventDefault: function, stopPropagation: function...} video.js:21 Flash Error srcnotfound myVideo_flash_api*

```
even though it says src not found, it actually hit my php  and getting executed 
```

然后**是流播放器**

**步骤1**

```
flowplayer("player", "../scripts/flowplayer-3.2.16.swf", {
                plugins: {
                    secure: {
                        url: '../scripts/flowplayer.securestreaming-3.2.8.swf'
                    }   
                },

                clip: {
                    provider: 'http',
                    url: '../index.php?id=' + code
                }
            }); 
```

流播放器错误消息： *200，找不到流，NetStream.Play.StreamNotFound，剪辑：*

**第2步**

```
var videoURL = "index.php?id=" + code;
            //var videoURL = "my.flv";
            var htmll = '<object width="640" height="264" type="application/x-shockwave-flash" data="../scripts/flowplayer-3.2.16.swf">';
            htmll += '<param name="wmode" value="transparent"/><param name="movie" value="../scripts/flowplayer.securestreaming-3.2.8.swf" />';
            htmll += '<param name="allowfullscreen" value="true" />';
            htmll += '<param name="flashvars" value=\'config={"playlist":[{"url": "' + videoURL + '", "baseUrl": "http://localhost", "autoPlay":false,"autoBuffering":true,"bufferLength":5}]}\' /></object>';
            $("#videoTag").html(htmll);

Flow player  error message : 
*200 stream not found Netstream.play.StreamNotFound, clip:* 
```

注意：我在服务器上使用 Apache、php、mysql（Localhost 也在生产服务器上尝试过），还在 Ubuntu 12.04 上安装了 mod_flvx 和客户端是 chromium 也尝试了 firefox

1、也试过在apache中添加类型 #AddType video/flv .flv AddType video/x-flv .flv #AddType video/x-flv flv

2，在 php 中，$fileName，我在 Doc root 中保存了一个 flv 文件，并尝试从 php 脚本中获取它，但没有运气

3，在所有上述客户端示例中，如果我在我的服务器中提供直接 .flv 文件，而不是提供 .php，那么它可以工作

4，正如您在上面看到的注释代码，这些是我的试验和错误......我尝试了很多，没有运气

# c# - 如何将参数传递到 sql server UDF 并缓存它们

> ID：15246179
> 
> 赞同：0
> 
> 时间：2013-03-06T11:29:46.947
> 
> 标签：c#, sql-server, caching, user-defined-functions

我有一个`UDF`函数可以根据作为参数传入的其他字段值计算“状态”。我已将其`C#`用作 sql server 项目。

不是实际的功能，而是我的问题作为一个更简单的例子：

`MyUdf(int a,int b)`：

```
return a+b 
```

但我想要 ：

return `a+b+c`，其中`c`是预定义的值，作为参数从另一个表中检索，以便以后可以更改。

问题有两个：

**1）如何从另一个表中加载这个值`UDF`？**

更重要的是……

**2）如何缓存该值以供以后使用，以便不会为每一行检索它，因为这可能是一个性能问题。**

我不是在寻找解决方案，而是在寻找有关如何进行的提示。

**我的实际功能：**

```
[SqlFunction]
public static string CalcBDAlert(DateTime currentTime, string status, DateTime prevMilestoneAt, DateTime nextMilestoneAt)
{
    // quick process
    if (status == "Finished")
    {
        return "4,...";
    }
    else if (status == "Cancelled")
    {
        return "5,...";
    }

    #region Un-Allocated
    if (status == "Un-Alloc.")
    {
        var minPassedSinceMilestone = (currentTime - prevMilestoneAt).TotalMinutes; // milestone was start, creation of call.

        if (minPassedSinceMilestone < 15)
        {
            return "3,...";
        }
        else if (minPassedSinceMilestone < 30)
        {
            return "2,>15 Min";
        }
        else if (minPassedSinceMilestone < 35)
        {
            return "1,>30 Min!";
        }
        else
        {
            return "0,>35 Min!!";
        }
    }
    #endregion

    #region Allocated
    else if (status == "Alloc.")
    {
        var minPassedSinceMilestone = (currentTime - prevMilestoneAt).TotalMinutes; // milestone was allocation of engineer.
        var minRemTillNextMilestone = (nextMilestoneAt - prevMilestoneAt).TotalMinutes; // next milestone is ETA, predicted arrival time.
        var percentageTillNextMilestone = minPassedSinceMilestone / minRemTillNextMilestone;

        if (percentageTillNextMilestone < 0.90)
        {
            return "3,...";
        }
        else if (percentageTillNextMilestone < 0.95)
        {
            return "2,90-95%";
        }
        else if (percentageTillNextMilestone < 1)
        {
            return "1,>95%!";
        }
        else
        {
            return "0,>100%!!";
        }
    }
    #endregion

    #region Arrived
    else if (status == "Arrived")
    {
        var minPassedSinceMilestone = (currentTime - prevMilestoneAt).TotalMinutes; // milestone was arrival of engineer.
        var minRemTillNextMilestone = (nextMilestoneAt - prevMilestoneAt).TotalMinutes; // next milestone is completion of work.
        var percentageTillNextMilestone = minPassedSinceMilestone / minRemTillNextMilestone;

        if (percentageTillNextMilestone < 0.90)
        {
            return "3,...";
        }
        else if (percentageTillNextMilestone < 0.95)
        {
            return "2,90-95%";
        }
        else if (percentageTillNextMilestone < 1)
        {
            return "1,>95%!";
        }
        else
        {
            return "0,>100%!!";
        }
    }
    #endregion

    return "-1,Unknown";
} 
```

我想参数化和缓存百分比 (.9, .95, 1) 和分钟 (15,30,35) 等。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:35:11.427

好吧， udf 本身可以是这样的：

```
CREATE FUNCTION myUdf 
(
    @a INT,
    @b INT
)
RETURNS INT
AS
BEGIN
    DECLARE @c INT
    SET @c = (SELECT TOP(1) id FROM my_table)
    RETURN @a + @b + @c
END
GO 
```

缓存怎么样 - 你根本不必关心它，rdbms会为你做。Sql server 在内存中保存一些选择结果、执行计划等，所以如果你的 udf 执行得足够频繁 - sql server 缓存它

# c# - C#中的SQL更新语句

> ID：15246182
> 
> 赞同：49
> 
> 时间：2013-03-06T11:29:56.093
> 
> 标签：c#, sql

我有表 **“学生”**

```
 P_ID   LastName  FirstName  Address  City

   1        Hansen    Ola                
   2        Svendson   Tove
   3        Petterson   Kari
   4        Nilsen       Johan
...and so on 
```

如何更改 C# 中的编辑代码

```
 string firstName = "Ola";
 string  lastName ="Hansen";
 string  address = "ABC";
 string city = "Salzburg";

 string connectionString = System.Configuration.ConfigurationManager
                          .ConnectionStrings["LocalDB"].ConnectionString;

 using (SqlConnection connection = new SqlConnection(connectionString))
     using (SqlCommand command = connection.CreateCommand())
 { 
   command.CommandText = "INSERT INTO Student (LastName, FirstName, Address, City) 
                          VALUES (@ln, @fn, @add, @cit)";

   command.Parameters.AddWithValue("@ln", lastName);
   command.Parameters.AddWithValue("@fn", firstName);
   command.Parameters.AddWithValue("@add", address);
   command.Parameters.AddWithValue("@cit", city);

   connection.Open();

   command.ExecuteNonQuery();

   connection.Close();
 } 
```

编辑**Lastname**字段具有 lastname 值且**FirstName**字段具有 firstname 值的条目。

我不想这样使用

```
 UPDATE Persons  SET Address='Nissestien 67', City='Sandnes' 
 WHERE LastName='Tjessem'     AND FirstName='Jakob' 
```

我将我原来的声明编辑为

```
 command.CommandText = "UPDATE Student(LastName, FirstName, Address, City) 
   VALUES (@ln, @fn, @add, @cit) WHERE LastName='" + lastName + 
                           "' AND FirstName='" +  firstName+"'"; 
```

但是语句没有被执行，为什么会抛出 SQL 异常？有没有解决办法？

* * *

## 回答 #1

> 赞同：79
> 
> 时间：2013-03-06T11:32:41.263

这不是在 SQL 中更新记录的正确方法：

```
command.CommandText = "UPDATE Student(LastName, FirstName, Address, City) VALUES (@ln, @fn, @add, @cit) WHERE LastName='" + lastName + "' AND FirstName='" + firstName+"'"; 
```

你应该这样写：

```
command.CommandText = "UPDATE Student 
SET Address = @add, City = @cit Where FirstName = @fn and LastName = @add"; 
```

然后添加与为插入操作添加参数相同的参数。

* * *

## 回答 #2

> 赞同：29
> 
> 时间：2013-03-06T11:31:13.847

> 我不想这样使用

**这是`Update`SQL 中语句**的语法，您必须使用该语法，否则您将得到异常。

```
command.Text = "UPDATE Student SET Address = @add, City = @cit Where FirstName = @fn AND LastName = @ln"; 
```

然后相应地添加您的参数。

```
command.Parameters.AddWithValue("@ln", lastName);
command.Parameters.AddWithValue("@fn", firstName);
command.Parameters.AddWithValue("@add", address);
command.Parameters.AddWithValue("@cit", city); 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2014-04-26T17:45:47.260

```
string constr = @"Data Source=(LocalDB)\v11.0;Initial Catalog=Bank;Integrated Security=True;Pooling=False";
SqlConnection con = new SqlConnection(constr);
DataSet ds = new DataSet();
con.Open();
SqlCommand cmd = new SqlCommand(" UPDATE Account  SET name = Aleesha, CID = 24 Where name =Areeba and CID =11 )";
cmd.ExecuteNonQuery(); 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2013-03-06T11:33:02.837

如果您不想使用 SQL 语法（您被迫这样做），那么请切换到您自己不编写 SQL 语句的框架，如 Entity Framework 或 Linq-to-SQL。

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2013-03-06T11:44:59.903

每种语言总是有适当的语法。同样，SQL（结构化查询语言）也有更新查询的特定语法，如果我们想使用更新查询，我们必须遵循这些语法。否则它不会给出预期的结果。

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2016-09-12T23:02:47.650

请不要使用这种 concat 形式：

```
String st = "UPDATE supplier SET supplier_id = " + textBox1.Text + ", supplier_name = " + textBox2.Text
        + "WHERE supplier_id = " + textBox1.Text; 
```

采用：

```
command.Parameters.AddWithValue("@attribute", value); 
```

始终面向对象工作

编辑：这是因为当您参数化更新时，它有助于防止 SQL 注入。

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2016-01-28T16:18:12.787

```
command.Text = "UPDATE Student 
  SET Address = @add, City = @cit
  Where FirstName = @fn and LastName = @add"; 
```

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2015-11-07T09:09:30.847

```
private void button4_Click(object sender, EventArgs e)
    {
        String st = "DELETE FROM supplier WHERE supplier_id =" + textBox1.Text;

        SqlCommand sqlcom = new SqlCommand(st, myConnection);
        try
        {
            sqlcom.ExecuteNonQuery();
            MessageBox.Show("刪除成功");
        }
        catch (SqlException ex)
        {
            MessageBox.Show(ex.Message);
        }
    }

    private void button6_Click(object sender, EventArgs e)
    {
        String st = "SELECT * FROM suppliers";

        SqlCommand sqlcom = new SqlCommand(st, myConnection);
        try
        {
            sqlcom.ExecuteNonQuery();
            SqlDataReader reader = sqlcom.ExecuteReader();
            DataTable datatable = new DataTable();
            datatable.Load(reader);
            dataGridView1.DataSource = datatable;
            //MessageBox.Show("LEFT OUTER成功");
        }
        catch (SqlException ex)
        {
            MessageBox.Show(ex.Message);
        }
    } 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2022-01-14T21:36:34.513

如果您使用的是 EF Core ，那么您可以使用 FromSqlRaw 这是一个示例。

使用 Robin 的更新字符串，只需在末尾添加 SELECT STATEMENT。

字符串 st = "更新供应商 SET 供应商 ID = " + textBox1.Text + "，供应商名称 = " + textBox2.Text + "WHERE 供应商 ID = " + textBox1.Text; 从供应商那里选择 ID WHERE supplier_Id =“+ textBox1,Text

var updatedSupplier = context.Supplier.FromSqlRaw(st).ToList();

（请注意这是使用 EF Core ，数据表有 Id 列）

* * *

## 回答 #10

> 赞同：-2
> 
> 时间：2015-11-02T08:48:42.880

```
String st = "UPDATE supplier SET supplier_id = " + textBox1.Text + ", supplier_name = " + textBox2.Text
            + "WHERE supplier_id = " + textBox1.Text;

        SqlCommand sqlcom = new SqlCommand(st, myConnection);
        try
        {
            sqlcom.ExecuteNonQuery();
            MessageBox.Show("update successful");
        }
        catch (SqlException ex)
        {
            MessageBox.Show(ex.Message);
        } 
```

# php - PHP DOM 文档问题（字符、文件）

> ID：15246184
> 
> 赞同：0
> 
> 时间：2013-03-06T11:30:01.603
> 
> 标签：php, xml, dom

我通过创建和探索页面的 DOM 树提取了您在[此页面左侧看到的类别。](http://robot-domestici.it)现在我想创建一个新的 DOM 将其存储在我的服务器上并在本地重新加载它并加快整个过程。我决定在探索原始 DOM 时这样做。原始 DOM 的探索是有效的，所以假设参数是正确的。

我编写这段代码来创建 DOM：

```
$curr_lev=1;
$mydom=new DOMdocument();
$curr_parent=$mydom->createElement('products');
function create_dom($name, $link, $lev){
    global $curr_lev;
    global $curr_parent;
    global $mydom;
    switch ($lev){
        case $curr_lev:
            $curr_parent->appendChild($mydom->createElement($name, $link));
            break;
        case $curr_lev-1:
            $curr_parent=$curr_padre->parentNode;
            $curr_parent->appendchild($mydom->createElemnt($name, $link));
            break;
        case $curr_lev+1:
            $curr_parent=$curr_padre->lastChild;
            $curr_parent->appendchild($mydom->createElement($name, $link));
            break;   
    }
    $curr_lev=$lev;
}

$mydom->formatOutput=TRUE;
$mydom->saveHTMLFile("products.xml"); 
```

我试图给出一个解释：`create_dom()`它是为原始 DOM 的每个节点调用的。`$lev`表示新节点`$curr_lev`的层级，是最后添加的节点的层级，所以如果它们相等，最后添加的节点和当前节点是同一个父亲的子节点，如果`$lev < $curr_lev`我们必须返回一层和新添加的节点如果`$lev > $curr_lev`当前节点是最后添加的节点的子节点，则为最后添加的父节点的“兄弟”。

第一个问题是，当我执行时出现此错误：

> 致命错误：在 C:\Users\Jacopo\Dropbox\Tirocinio\xampp-portable\htdocs\sites\prova\cerca categorie.php:71
> 堆栈跟踪：
> #0 C：中未捕获的异常“DOMException”和消息“无效字符错误”： \Users\Jacopo\Dropbox\Tirocinio\xampp-portable\htdocs\sites\prova\cerca categorie.php(71): DOMDocument->createElement('/joomla/compone...', 'Arduino')
> #1 C: \Users\Jacopo\Dropbox\Tirocinio\xampp-portable\htdocs\sites\prova\cerca categorie.php(30): create_dom('Arduino', '/joomla/compone...', 1)
> #2 C:\用户\Jacopo\Dropbox\Tirocinio\xampp-portable\htdocs\sites\prova\cerca categorie.php(38): visita_raff(Object(DOMElement), 1, 'dl')
> #3 C:\Users\Jacopo\Dropbox\ Tirocinio\xampp-portable\htdocs\sites\prova\cerca categorie.php(96):visita_raff（对象（DOMElement），0，''）
> #4 C:\Users\Jacopo\Dropbox\Tirocinio\xampp-portable\htdocs\sites\prova\index.php(21): include('C:\Users\Jacopo...') #5 {main} 抛出在第 71 行的 C:\Users\Jacopo\Dropbox\Tirocinio\xampp-portable\htdocs\sites\prova\cerca categorie.php

`$name`通常看起来像“arduino kit”， `$link`就像“/joomla/componenent/virtuamart/...”

我已经尝试将其转换为 UTF-8，但它不会工作

我还尝试进行测试并编写以下代码：

```
function create_xml(){
    $mydom=new DOMdocument("1.0", "ISO-8859-1");
    $primoElem=$mydom->createElement('foo');
    $primoElem->appendChild($mydom->createElement('arduinio', 'http:arduino'));
    $mydom->formatOutput=TRUE;
    return $mydom->saveXML("foo.xml");
} 
```

我没有收到错误`saveXML()`返回 1，但文件中没有写入任何内容！

我究竟做错了什么？请考虑这是我第一次使用这些东西所以要温柔:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T13:04:24.057

`DOMException`消息的异常

> 无效字符错误

表示您已尝试创建一个元素 ( [`DOMDocument::createElement()`](http://php.net/DOMDocument.createElement)) 在元素名称中包含无效字符：

```
$mydom->createElement($name, $link)
                        ^
                        |
           first parameter is the element name 
```

在 XML 中，并非每个名称都是有效的，有些甚至包含无效字符（例如空格`" "`或反斜杠`/`）或不属于 Unicode UTF-8 范围的无效字节序列。PHP 中的 DOMDocument 仅接受 UTF-8 作为输入。所以对于一般来说。如果您想深入了解 XML 元素名称中哪些字符是有效的，您可以在[*如何检查字符串是否是有效的 XML 元素名称？*](https://stackoverflow.com/questions/2519845/how-to-check-if-string-is-a-valid-xml-element-name).

因此，现在如果您仔细查看错误消息的堆栈跟踪，您甚至可能会发现问题：

> ```
> DOMDocument->createElement('/joomla/compone...', 'Arduino') 
>                             ^      ^ 
> ```

该`/`字符在 XML 元素名称中无效。解决这个问题，你应该可以添加你的东西。只需使用最终有效的元素名称即可。

# php - 分页不改变页面

> ID：15246189
> 
> 赞同：0
> 
> 时间：2013-03-06T11:30:08.450
> 
> 标签：php, codeigniter, pagination

我正在为我的网站进行分页，我正在显示来自数据库上两个表的数据我在我的页面中有分页但它的行为不像它假设的那样表现它不会改变页面。目前我在网页上显示了 16 条记录，并且已将`$config['per_page'] = 1;`分页栏设置为 16，但它不会翻阅页面，所有记录都显示在页面上。任何帮助将不胜感激，这是我的代码：

**控制器**

```
 <?php

class Result_controller extends CI_Controller{

    function getall(){

        $this->load->model('result_model');
        $data['query'] = $this->result_model->result_getall();
        // print_r($data['query']); die();

        $this->load->library('pagination');

        $config['base_url'] = 'http://localhost/Surva/index.php/result_controller/getall';
        $config['total_rows'] = $this->db->get('tblanswers, credentials')->num_rows();
        $config['per_page'] = 1;
        $config['num_links'] = 10;

        $this->pagination->initialize($config);

        $data['records'] = $this->db->get('tblanswers, credentials', $config['per_page'], $this->uri->segment(1, 0))->result_array();
        $data['pagination'] = $this->pagination->create_links();
        $this->load->view('result_view', $data);

        }

}

?> 
```

**看法**

```
 <div>    

     <table border="1">

      <tr>
         <th>Name</th>
         <th>Second Name</th>
         <th>Phone</th>
         <th>Email</th>
         <th>Answer</th>
         <th>Comment</th>
     </tr>
      <?php foreach ($query as $row): ?> 
     <tr>

         <td><?php echo $row->name; ?></td>
         <td><?php echo $row->second_name; ?></td>
         <td><?php echo $row->phone; ?></td>
         <td><?php echo $row->email; ?></td>
          <td> <?php echo $row->answerA;?>
          <?php echo $row->answerB;?>
          <?php echo $row->answerC;?></td>
         <td><?php echo $row->comment;?><br></td>

     </tr>

      <?php endforeach; ?>

     </table>  
     <?php if (isset($pagination))
      {
       echo $pagination;
      // echo "<pre>"; var_dump($query);
       } ?> 
```

**模型**

```
function result_getall(){

   return $this->db->select('tblanswers.*,credentials.*')
                         ->from('tblanswers, credentials')
                         ->get()
                         ->result_object(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:44:22.567

查询并不神奇地知道您只需要 x 条记录。Codeigniter 将显示您从模型中输入的任何内容。

```
function getall(){

        $this->load->model('result_model');
        // print_r($data['query']); die();

        $this->load->library('pagination');

        $config['base_url'] = 'http://localhost/Surva/index.php/result_controller/getall';
        $config['total_rows'] = $this->db->get('tblanswers, credentials')->num_rows();
        $config['per_page'] = 1;
        $config['num_links'] = 10;
        $config['uri_segment'] = 3; //guessing here, but this is where the uri segment you use to change pages goes.
        if($this->uri->segment('3')) {
        $offest = $this->uri->segment('3');
        } else {
        $offest = 0;
        }
        $data['query'] = $this->result_model->result_getall($config['per_page'],$offset);

        $this->pagination->initialize($config);

        $data['records'] = $this->db->get('tblanswers, credentials', $config['per_page'], $this->uri->segment(1, 0))->result_array();
        $data['pagination'] = $this->pagination->create_links();
        $this->load->view('result_view', $data);

        }

Model:

function result_getall($limit=0,$offset=0){

   if($limit != 0)
   {
   return $this->db->select('tblanswers.*,credentials.*')
                         ->from('tblanswers, credentials')
                         ->limit($limit, $offset)
                         ->get()
                         ->result_object();
   } else {
   return $this->db->select('tblanswers.*,credentials.*')
                         ->from('tblanswers, credentials')
                         ->get()
                         ->result_object();
   } 
```

请注意，在控制器中，我将偏移量和每页传递给模型，然后使用它们来限制模型本身的返回。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:49:06.050

您应该循环通过 $records 而不是 $query。$query 包含所有记录。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T12:20:06.590

这样做

```
 $this->load->library('pagination');
    $limit = 10;

    $total = $this->legend_model->get_legend_count($language_id);

    $config['base_url'] = base_url().'legend/index/';
    $config['total_rows'] = $total;
    $config['per_page'] = $limit;
    $config['uri_segment'] = 3;

    $config['first_link'] = '<< First';
    $config['last_link'] = 'Last >>';
    $config['next_link'] = 'Next ' . '&gt;';
    $config['prev_link'] = '&lt;' . ' Previous';
    $config['num_tag_open'] = '<span class="number">';
    $config['num_tag_close'] = '</span>';

    $config['cur_tag_open'] = '<span class="current"><a href="#">';
    $config['cur_tag_close'] = '</a></span>';

    $this->pagination->initialize($config);
    $data['offset'] = $offset;
    $data['legends'] = $this->legend_model->get_legend($language_id, $limit, $offset);

    $this->template->write('title', 'Legend : Manage Legend');
    $this->template->write_view('content', 'legend/index', $data);
    $this->template->render(); 
```

# php - 如何在 iOS 应用程序中显示重音字符实体？

> ID：15246190
> 
> 赞同：2
> 
> 时间：2013-03-06T11:30:09.600
> 
> 标签：php, ios, xcode, nsstring, entities

在我的 iOS 应用程序中，我从外部 PHP 脚本获取数据，该脚本使用 mySQL 数据库上的查询构建和返回字符串。在这个数据库中，文本中有 HTML 实体，例如 Josè 写成

```
Jos&egrave; 
```

当我将这些构建的字符串传递给我的应用程序时，所有实体仍然存在，但我想在我的应用程序中将它们转换为人类可读的文本。我找不到办法做到这一点。我看到像这样的问题有**[这样](https://stackoverflow.com/a/8724198/1065669)****[的](https://stackoverflow.com/questions/8724128/decoding-html-entities-on-iphone)**公认答案，但我无法为存在的数百个实体中的任何一个写一行。我的意思是，我可以，但我不敢相信没有一种更简单的方法可以做到这一点。

此外，由于我在所有应用程序（文本视图、标签、表格视图单元格等）的许多视图中的许多地方都使用了所述字符串，我认为在 PHP 脚本本身而不是在应用程序。所以我的最后一个问题是：这是构建包含实体的字符串的正确方法，所以当我在我的 iOS 应用程序中加载它时，所有实体都是可读字符？感谢任何会帮助我的人！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:41:41.740

您可以使用 Google 的类别 GTMNSString+HTML

此类别可能涵盖您可能希望转换为人类可读格式的大多数 HTML 实体。

由于我无法找到该类别的 Google 代码，因此我指的是另一个位置；[MWFeedParser](https://github.com/mwaterfall/MWFeedParser)。

[GTMNSString+HTML.h](https://github.com/mwaterfall/MWFeedParser/blob/master/Classes/GTMNSString+HTML.h)

[GTMNSString+HTML.m](https://github.com/mwaterfall/MWFeedParser/blob/master/Classes/GTMNSString+HTML.m)

# eclipse - 在 Eclipse 中设置新的 Red5 服务器运行时

> ID：15246192
> 
> 赞同：3
> 
> 时间：2013-03-06T11:30:10.493
> 
> 标签：eclipse, eclipse-plugin, red5

试图在 Eclipse 中设置 Red5 项目。当我尝试为 Red5 创建一个新的服务器运行时，我收到一条错误消息，提示`red5.jar`未找到。

这个文件在我安装 Red5 的任何地方都不可用。我只能`red5-client-1.0.jar`找到`red5-server-1.0.jar`。

![在此处输入图像描述](../Images/880b418f3ba5475037b6dca3e513df69.png)

插件过时了吗？还是我在错误的地方搜索 red5.jar？

教程 - [http://www.youtube.com/watch?v=EedQyafOIm0](http://www.youtube.com/watch?v=EedQyafOIm0)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-20T22:20:10.610

如果需要，您可以删除服务器运行时并将 red5-server.jar 添加到编译时的构建路径。我以前做过，它对我有用。

# django - 从 Django Manager 方法而不是查询集返回元组是不好的做法吗？

> ID：15246195
> 
> 赞同：2
> 
> 时间：2013-03-06T11:30:11.877
> 
> 标签：django, django-models, django-views

我有一些复杂的业务逻辑放在自定义 ModelManager 中。manager 方法返回值的元组而不是查询集。这被认为是不好的做法吗？如果是这样，推荐的方法是什么。我不想要视图中的逻辑，而 Django 没有服务层。另外，我的逻辑可能需要执行多个查询。

逻辑需要选择一个最接近当前时间的事件，再加上两边的 3 个事件。当放置在模板中时，了解最近的事件会很有帮助，因为这是最初显示在全屏滑块中的事件。

当前调用如下：

```
closest_event, previous_events, next_events = Event.objects.closest() 
```

该逻辑目前确实可以正常工作。我即将转换我的应用程序。在模板中将事件数据呈现为 JSON，以便我可以在页面加载时引导主干.js 视图。我计划使用 TastyPie 将资源服务器端渲染到模板中。在我重构我的代码之前，最好知道我当前的方法不被认为是不好的做法。

这就是我的应用程序的方式。目前有效：

视图.py

```
class ClosestEventsListView(TemplateView):
    template_name = 'events/event_list.html'

    def get(self, request, *args, **kwargs):
        context = self.get_context_data(**kwargs)
        closest_event, previous_events, next_events = Event.objects.closest()

        context['closest_event'] = closest_event
        context['previous_events'] = previous_events
        context['next_events'] = next_events
        return self.render_to_response(context) 
```

模型.py

```
from datetime import timedelta
from django.db import models
from django.utils import timezone

from model_utils.models import TimeStampedModel

class ClosestEventsManager(models.Manager):
    def closest(self, **kwargs):
        """
        We are looking for the closest event to now plus the 3 events either side.
        First select by date range until we have a count of 7 or greater
        Initial range is 1 day eithee side, then widening by another day, if required
        Then compare delta for each event data and determine the closest
        Return closest event plus events either side
        """
        now = timezone.now()
        range_in_days = 1
        size = 0

        while size < 7:
            start_time = now + timedelta(days=-range_in_days)
            end_time = now + timedelta(days=range_in_days)
            events = self.filter(date__gte=start_time, date__lte=end_time, **kwargs).select_related()
            size = events.count()
            range_in_days += 1

        previous_delta = None
        closest_event = None
        previous_events = None
        next_events = None
        position = 0

        for event in events:
            delta = (event.date - now).total_seconds()
            delta = delta * -1 if delta < 0 else delta
            if previous_delta and previous_delta <= delta:
                # we have found the closest event. Now, based on
                # position get events either size
                next_events = events[:position-1]
                previous_events = events[position:]
                break

            previous_delta = delta
            closest_event = event
            position += 1

        return closest_event, previous_events, next_events

class Event(TimeStampedModel):

    class Meta:
        ordering = ['-date']

    topic = models.ForeignKey(Topic)
    event_type = models.ForeignKey(EventType)
    title = models.CharField(max_length=100)
    slug = models.SlugField()
    date = models.DateTimeField(db_index=True)
    end_time = models.TimeField()
    location = models.ForeignKey(Location)
    twitter_hashtag = models.CharField(null=True, blank=True, max_length=100)
    web_link = models.URLField(null=True, blank=True)

    objects = ClosestEventsManager()

    def __unicode__(self):
        return self.title 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T12:02:06.137

我不认为返回一个元组是不好的做法。[ModelManager 文档](https://docs.djangoproject.com/en/dev/topics/db/managers/#adding-extra-manager-methods)中的第一个示例返回一个列表。

话虽如此，如果你想构建一个查询集，那么你可以做这样的事情 -

```
def closest(self, **kwargs):
    # get the events you want
    return self.filter(pk__in=([event.id for event in events])) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T21:30:10.803

没关系，即使是 Django 自己的`get_or_create`也可以。只要确保使用该函数的人都清楚它是不可链接的（即不返回查询集）。

# facebook - 通过电子邮件向用户发送扩展权限电子邮件

> ID：15246196
> 
> 赞同：0
> 
> 时间：2013-03-06T11:30:15.953
> 
> 标签：facebook, email, permissions

我用我的 Facebook 应用程序收集了大量的电子邮件地址，我想知道，我可以免费向这些地址发送与我的应用程序相关的电子邮件（可能还有相关的报价）吗？（符合当地垃圾邮件法律的课程）

根据此页面，它是：http: [//developers.facebook.com/blog/post/355/](http://developers.facebook.com/blog/post/355/)

但是那个页面已经过时了。

目前该做什么和不该做什么？

问候，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T11:11:33.787

为您的域提供 spf 记录和 dk/dkim 签名。

遵循速率限制平均 x 邮件/小时的高频邮件通常在垃圾邮件/垃圾文件夹中递送。

# ios - UITableView 行上的交替背景颜色

> ID：15246200
> 
> 赞同：0
> 
> 时间：2013-03-06T11:30:24.877
> 
> 标签：ios, uitableview

我正在使用以下内容为我的单元格设置交替的背景颜色：

```
- (void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath
{
if (![cell isKindOfClass:[AlbumDetailsCell class]]) {
    if (indexPath.row % 2 == 0) {
        UIColor *color = [UIColor colorWithRed:229/255.0 green:229/255.0 blue:229/255.0 alpha:1.0];
        cell.backgroundColor = color;
    }
    else {
        UIColor *color = [UIColor colorWithRed:214/255.0 green:214/255.0 blue:214/255.0 alpha:1.0];
        cell.backgroundColor = color;
    }
}
} 
```

当我在表格视图中快速滚动时，这会搞砸。如何防止它弄乱颜色？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-28T15:08:12.190

我在我的单元格中使用自定义绘图代码，它使用背景颜色属性作为填充颜色。欢闹接踵而至。我现在在我的单元格上使用自定义属性来设置背景颜色并调用`setNeedsDisplay`它。

# c# - 如何调用另一个方法？

> ID：15246201
> 
> 赞同：0
> 
> 时间：2013-03-06T11:30:29.847
> 
> 标签：c#, icsharpcode

我正在使用代码编辑器，我想将字符串*行*调用到 keyargs 事件中，该事件位于另一个返回 void 的方法中。

当我输入回车键时应该会出现输出，然后 ComboBox 中的选定列表应该附加到 RichTextBox 中保存的文本中。

现在为了实现这一点，我想问你，如何调用这个方法：

```
void Parse()
    {
        String inputLanguage =

          "using System;\n" + "\n" +
          "public class Stuff : Form { \n" +
          "  public static void Main(String args) {\n" +
          "\n" + "\n" +
        "  }\n" +
        "}\n";

        // Foreach line in input,
        // identify key words and format them when adding to the rich text box.
        Regex r = new Regex("\\n");
        String[] lines = r.Split(inputLanguage);
        foreach (string l in lines)
        {
            ParseLine(l);
        }
    }
void ParseLine(string line)
{
    Regex r = new Regex("([ \\t{}();])");
    String[] tokens = r.Split(line);

    foreach (string token in tokens)
    {

        // Set the token's default color and font.
        rtb.SelectionColor = Color.Black;
        rtb.SelectionFont = new Font("Courier New", 10, FontStyle.Regular);

        // Check for a comment.
        if (token == "//" || token.StartsWith("//"))
        {
            // Find the start of the comment and then extract the whole comment.
            int index = line.IndexOf("//");

            rtb.SelectedText = comment;
            break;
        }

        // Check whether the token is a keyword. 
        var keywordsDef = new KeyWord();
        String[] keywords = keywordsDef.keywords;

        for (int i = 0; i < keywords.Length; i++)
        {
            if (keywords[i] == token)
            {
                // Apply alternative color and font to highlight keyword.
                HighlighType.keywordsType(rtb);
                break;
            }
        }
        rtb.SelectedText = token;
    }
    rtb.SelectedText = "\n";
} 
```

从这个里面：

```
void lb_KeyDown(object sender, KeyEventArgs e)
    {

        if (e.KeyCode == Keys.Escape)
        {
            lb.Visible = false;
            lb.Items.Clear();
        }

        if (e.KeyCode == Keys.Enter)
        {
            //ParseLine(string line);
            Parse();

            string comment = line.Substring(index, line.Length - index);

            rtb.SelectedText = comment + " " + lb.SelectedIndex.ToString();
        }
    } 
```

我真的需要帮助。提前非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:41:54.173

您传递的参数错误。调用方法时不能传递类型。注释行应为

```
ParseLine(line); 
```

该变量`line`必须在上面某处声明`ParseLine`。它包含的内容取决于您，但您可能想要设置

```
string line = lb.Text; 
```

所以你的代码可以这样写：

```
void lb_KeyDown(object sender, KeyEventArgs e)
{

    if (e.KeyCode == Keys.Escape)
    {
        lb.Visible = false;
        lb.Items.Clear();
    }

    if (e.KeyCode == Keys.Enter)
    {
        string line = lb.Text;
        ParseLine(line);
        //Parse();

        string comment = line.Substring(index, line.Length - index);
        rtb.SelectionColor = Color.Green;
        rtb.SelectionFont = new Font("Courier New", 10, FontStyle.Italic);
        rtb.SelectedText = comment + " " + lb.SelectedIndex.ToString();
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:43:49.353

调用该函数不是问题，但您需要某种方式在您使用的任何编辑器中检索当前行。一旦你检索到它，你就可以调用`ParseLine`它，但在你拥有它之前，你没有什么可做的。

# jquery - jQuery UL 列出如何隐藏 div 和隐藏下拉菜单

> ID：15246203
> 
> 赞同：1
> 
> 时间：2013-03-06T11:30:40.020
> 
> 标签：jquery

HTML：

```
<div id="colourlist">test 1</div>
<ul id="colours">
<li value="1">test 1</li>
<li value="2">test 2</li>   
<li value="3">test 3</li>   
<li value="4">test 4</li>       
</ul>
<div id="preview"></div> 
```

jQuery：

```
$("#colours li").on('mouseenter', function(){
    $("#colours li").removeClass("hilight");
    $(this).addClass("hilight");
    var O = $(this).offset();
    var CO = $("#colours").offset();
    $("#preview").css("top", O.top-150).show();
    $("#preview").css("left", CO.left+160);
}).on('click', function(){
    var text = $(this).text();
    $("#colourlist").text(text);
    $("#colours").hide();
    $("#preview").hide(); 
});
$("#colourlist").on('click', function(e){
    e.preventDefault();
    $("#colours").toggle();   
}); 
```

这是jsfiddle：http: [//jsfiddle.net/CJbeF/48/](http://jsfiddle.net/CJbeF/48/)

在 UL 下拉列表之外单击时如何隐藏下拉列表和预览？

当下拉菜单打开并再次单击下拉菜单时，如何隐藏预览 div？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:35:31.840

您可以添加此事件处理程序：

```
$("#colours").on('mouseleave', function(){
    $("#colours").hide();
    $("#preview").hide(); 
}); 
```

这是一个小提琴： [小提琴](http://jsfiddle.net/CJbeF/52/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:33:23.973

为什么不在 .on() 中尝试多个事件。

```
$("#colours li").on({
    mouseenter: function() {
        // Handle mouseenter...
    },
    click: function() {
        // Handle click...
    }
}); 
```

# c# - C# Cache 不显示缓存中存储的原始值

> ID：15246206
> 
> 赞同：1
> 
> 时间：2013-03-06T11:30:43.397
> 
> 标签：c#, asp.net, caching

我正在尝试将值存储在缓存中并将其取回以缩短处理时间。当我取回缓存项时，我需要计算该值。但问题是它没有给我存储在缓存中的原始值。取而代之的是，它给了我从缓存中获取后计算出的最新值。

我使用以下内容来模拟我的问题。我第一次将“abc123”存储在缓存中。然后我将其更改为“def”。但是当我取回它时，它显示“def”而不是“abc123”。应该是这样吗？还是我做错了？谢谢。

```
protected void Page_Load(object sender, EventArgs e)
{
    MyObj abc = (MyObj)Cache["myCache"];

    if (abc != null)
    {
        Response.Write(abc.MyText);
        Response.End();
        return;
    }        

    Response.Write(abc);        

    abc = new MyObj() { MyText = "abc123" };

    Cache.Insert("myCache", abc, null, DateTime.Now.AddMinutes(1), TimeSpan.Zero);

    abc.MyText = "def";
}

class MyObj
{
    public string MyText { get; set; }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:33:53.780

您正在编辑缓存中的同一对象（参考）。如果您不希望出现这种行为，则需要先克隆对象，然后再将其放入缓存中。

# css - hoverIntent 使用悬停元素的 id 来更改类

> ID：15246208
> 
> 赞同：0
> 
> 时间：2013-03-06T11:30:47.577
> 
> 标签：css, jquery-hover, hoverintent

我正在尝试使用[hoverIntent](http://tournasdimitrios1.wordpress.com/2011/09/25/an-introduction-to-the-hoverintent-jquery-plugin/)来显示内容，而无需为每个 ID 编写特定条件。我想在设置中将 id 传递给鼠标，这样我就可以通过向 id +'-x' 添加字符来显示选择的内容。

我尝试了几种方法来获取我悬停的 div，但这些方法通常最终会返回所有带有“box”类的 div 的所有信息。

有没有我应该做的父母，孩子的事情？我真的不明白，但觉得这是它会有所帮助的情况。

```
<div id="id-first-div" class="box">Trigger 1</div>
<div id="id-second-div" class="box">Trigger 2</div>

<div id="id-second-div-x" class="hide">Hidden Bullet 1</div>
<div id="id-first-div-x" class="hide">Hidden Bullet 2</div>

<script>
$(document).ready(function() {
    $("#id-first-div").hoverIntent(slide_right_settings);
    $("#id-second-div").hoverIntent(slide_right_settings);
});

var slide_right_settings={
    sensitivity: 4,
    interval: 1500,
    timeout: 5000,
    over: mousein_triger,
    out: mouseout_triger
};  

function mousein_triger(){
    var id = this.id; // I'm pretty sure I'm going wrong here 
    $(id + '-x').addClass('reveal');
    $(id + '-x').removeClass('hide');
}

function mouseout_triger() {
    $(id +'-x').addClass('hide');
    $(id +'-x').removeClass('reveal');
    }
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-15T12:02:47.190

把函数放在`var id = this.id;`外面

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T00:14:06.357

```
//hover intent opening and closing
var slide_right_settings={
    over: mousein_triger,
    out: mouseout_triger
};  

//default id is home
var id = "home";

function mousein_triger(){
//updates id to the one triggering
    id = $(this).attr('id');
    $('#' + id + '-x').addClass('reveal');
    $('#' + id + '-x').removeClass('hide');
}

function mouseout_triger() {
    $('#' + id +'-x').addClass('hide');
    $('#' + id +'-x').removeClass('reveal');                
} 
```

仍然不确定这是否是实现这一目标的最佳方法，但它正在工作..我相信它可以改进很多。

# ios - 解析特定，如何在 NSArray 上保存查询结果

> ID：15246217
> 
> 赞同：1
> 
> 时间：2013-03-06T11:31:16.747
> 
> 标签：ios, objective-c, xcode, objective-c-blocks, parse-platform

我对 iOS 很陌生`PFQuery`，我需要你的帮助

我试图将获得的对象数组存储`PFQuery`到本地`NSArray`，我试图在里面做，`if (!error)`但它不会离开块，一旦块终止，我的数组上的值也是如此。

```
 //InstallersDirectory.m

 @interface InstallersDirectoryTVC ()

 @property (nonatomic, strong) NSArray *supervisors;

 @end

 //more code goes here
- (void)viewDidLoad
{
  [super viewDidLoad];

  PFQuery *query = [PFQuery queryWithClassName:@"InstallersInfo"];
  [query whereKey:@"supervisor" equalTo:@"yes"];
  [query findObjectsInBackgroundWithBlock:^(NSArray *objects, NSError *error) {

      if (!error) {
          for (PFObject *object in objects) {
              self.supervisors = [objects valueForKey:@"supervisor"];
          }

  }else {
      NSLog(@"Error, %@ %@",error,[error userInfo]);
  }
}]; 
```

一切都在块内工作，例如 self.supervisors.count 或`NSLog`，但它根本不会离开块。你能告诉我如何才能将这些值存储到 self.supervisors 吗？

谢谢 ！！

编辑 | 评论

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-12T03:23:58.247

如果您在这个问题上仍然需要帮助，这里有一两个建议：

首先，self.supervisors 是一个 NSArray。作为 NSArray，它必须在创建时完全初始化和填充。因此，即使您正在迭代您的结果，您每次都在创建一个新数组，这意味着只有最后一次迭代可能会存储在 self.supervisors 中。

试试这个，

@property (nonatomic,strong) NSMutableArray *supervisors;

在你的街区：

```
[self.supervisors addObject:object];
//note: this will put the entire returned object in your mutable array 
```

然后稍后在您的块之外：列出所有主管：

```
 for (PFObject *supervisor in self.supervisors) {
        NSLog(@"supervisor info:%@",supervisor);
 } 
```

要获得列表中的第 4 个主管：

```
PFObject *superVisorNumber4 = [self.supervisors objectAtIndex:4]; 
```

从那个主管那里得到电话号码（编造这个：）

```
NSString *phone = [superVisorNumber4 objectForKey:@"phone"]; 
```

希望有帮助

# database - Zend Framework 2 InputFilter 和表单域

> ID：15246220
> 
> 赞同：0
> 
> 时间：2013-03-06T11:31:23.870
> 
> 标签：database, forms, zend-framework2

*   **我有一个“用户”表，其中包含许多字段，例如用户名、姓名、电子邮件、密码、性别、生日、头像等。我已经使用InputFilter**在我的 ZF2 应用程序的用户模型中描述了所有这些字段。

问题如下： - 我有一些表单，如主要设置（只有姓名、性别和生日字段），我想通过这个表单只编辑数据库中的这三个字段（并分别编辑其他字段，如网站其他页面中其他形式的密码和电子邮件）。但是，它似乎不起作用：

```
$request = $this->getRequest();
    if ($request->isPost()) {
        $users = new Users();
        $form->setInputFilter($users->getInputFilter());
        $form->setData($request->getPost());

        if ($form->isValid()) {
            $users->exchangeArray($form->getData());
            $this->getUsersTable()->editUser($users, $userInfo->user_id);
            $message = 'Профилът ви беше успешно променен!';
        }
    } 
```

这是我只想更新字段**name、birthday 和 sex**的表单。

这是模型：

```
public function editUser(Users $user, $userID) {
    $data = array(
        'name' => $user->name,
        'birthday' => $user->birthday,
        'sex' => $user->sex,
    );

    $this->tableGateway->update($data, array('user_id' => $userID));
} 
```

$form->getMessages() 返回一个空数组，而 var_dump($form->isValid) 返回布尔值 false。如果我删除 InputFilter 中的所有其他 MySQL 字段和过滤器，并且只保留模型中的三个字段（姓名、生日和性别），则一切正常，并且表单验证有效。但是当我在模型中描述“用户”表的所有其他字段时，它没有。希望我解释得很好。有任何想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T11:53:53.617

当您只想保存部分数据时，您可以使用验证组仅验证某些字段：

[http://framework.zend.com/manual/2.0/en/modules/zend.form.quick-start.html#validation-groups](http://framework.zend.com/manual/2.0/en/modules/zend.form.quick-start.html#validation-groups)

例如：

```
$form->setValidationGroup('name', 'sex', 'birthday');
$form->setData($data);
if ($form->isValid()) {
    // Contains only the "name", "sex", "birthday"
    $data = $form->getData();
} 
```

# iphone - 图像视图不应使用 UIPangesture 移动到其父视图之外

> ID：15246223
> 
> 赞同：0
> 
> 时间：2013-03-06T11:31:30.907
> 
> 标签：iphone

我正在使用 UIPangesture 来移动 imageview，而这个 imageview 是类视图的子视图，当我移动 imageview 时，它会移到其父视图之外。我想设置移动这个 imageview 的边界，这意味着 imageview 应该只在它的 superview 内移动。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:42:02.493

我猜在平移手势调用的选择器中，您正在根据平移点设置视图的中心或原点。

这就是您的代码应该如何解决您的问题：

```
- (void)thePanSelector:(id)sender{
    UIPanGestureRecognizer *recognizer = (UIPanGestureRecognizer *)sender;
    CGPoint p = [recognizer locationInView:theSuperView];
    float boundedX = MAX(0,MIN(theSuperView.frame.size.width,p.x));
    float boundedY = MAX(0,MIN(theSuperView.frame.size.height,p.y));
    CGPoint boundedPoint = CGPointMake(boundedX,boundedY);
    view.center = p;
} 
```

此代码未经测试，因此您可能需要稍微使用 boundedX 和 boundedY 的值

# crystal-reports - 如何使用 Crytal Report 中的公式查找每个 T1 和 T2 的小计

> ID：15246224
> 
> 赞同：0
> 
> 时间：2013-03-06T11:31:39.010
> 
> 标签：crystal-reports, crystal-reports-xi, crystal-reports-2010

[看到这个图片](http://i.stack.imgur.com/9V5V8.png)

如何使用 Crytal Report 中的公式查找每个 T1 和 T2 的小计（参见 abv img 链接）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T14:14:30.087

一个更简单的解决方案：

1.  选择金额字段
2.  选择插入 | 概括...
3.  从计算此摘要选择列表中选择“总和”（如果尚未选择）
4.  从摘要选择列表中选择租户字段

再次按照这些步骤创建“总计”（位于报表页脚部分的汇总字段）。

如果您坚持以艰难的方式进行，则公式为：

```
// {@the_hard_way}
Sum({table.Amount},{table.Tenant}) 
```

# azure - 在 Azure 上注册 COM/dll

> ID：15246226
> 
> 赞同：1
> 
> 时间：2013-03-06T11:31:47.507
> 
> 标签：azure, com, azure-storage

我有一个具有在线支付功能的在线门户网站，不知何故，我的 azure 丢失了所有设置，并且我的支付网关无法正常工作。我使用了一个 dll 作为支付网关，所以我想我需要在 Azure 上注册它，请帮助我应该怎么做？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:45:48.477

Azure 使用带有或多或少常见 Windows Server 安装的 VM。您可以在具有足够权限的任何进程下注册一个 COM dll 没有问题。

这是一个非常常见的过程，我什至不知道要添加什么——也许你应该提供更多关于你卡在哪里的细节。

# java - Java：同一对象的多种表示形式

> ID：15246227
> 
> 赞同：0
> 
> 时间：2013-03-06T11:31:49.127
> 
> 标签：java, class, object, reference

我有一个这样的 User.class：

```
public class User {
    private HashSet<Client> clients;
    ...
    public void addClient(Client c) {
        c.setParentUser(this);
        clients.add(c);
} 
```

和客户端类：

```
public class Client {
    private User parentUser;
    public void setParentUser(User u) {
        parentUser = u;
    }
    ...
} 
```

我的问题是，`c.setParentUser(this)`我的意图是有一个指向持有客户端的用户的“指针”。

所以我的问题是：只是在客户端中存储一个引用，还是会创建一个与（用户）`c.setParentUser(this)`完全相同的新对象？`this`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T11:33:09.110

它存储一个引用，如 C/C++ 指针。该变量引用与（在类中）`parentUser`相同的对象。`this``User`

如果你想复制，你需要明确地这样做。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T11:33:42.803

是*参考*，不是抄袭。

Java 中除[原始](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)类型（int、double 等）之外的所有内容都是参考。如果我写：

```
String s = "abc"; 
```

then`s`实际上是对 a 的引用`String`，严格来说。`String` *本身*不是。对于对象（不是原语），您必须显式编写复制构造函数来创建副本。如果我传递`s`给一个方法，引用是按值复制的，但它仍然引用原始`String`对象。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:33:33.300

Client.parentUser 将包含传递给`setParentUser`方法的引用的副本。

请注意，如果执行以下操作：

```
public void setParentUser(User u) {
    parentUser = u;
    u = new User();
} 
```

`User`如果您修改`Client.parentUser`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T11:34:18.387

```
c.setParentUser(this); 
```

这是`Has A`关系，它只是保存用户对象的对象引用。

# c# - 我有 ac# windows 窗体程序，我计划在其中使用 FTDI FTD2XX_NET 库

> ID：15246230
> 
> 赞同：0
> 
> 时间：2013-03-06T11:31:51.453
> 
> 标签：c#, ftdi

我有使用 FTDI FTD2XX_NET 库的 ac# windows 窗体程序。如何使用特定的 FT_ 命令，例如 FT_GetDeviceInfo、FT_GetDriverVersion 等？我在另一个答案中找到了这个：

```
 FTD2XX_NET.FTDI.FT_STATUS ftStatus = FTD2XX_NET.FTDI.FT_STATUS.FT_OK;
        // Create new instance of the FTDI device class
        FTD2XX_NET.FTDI myFtdiDevice = new FTD2XX_NET.FTDI(); 
```

它也适用于我，但我无法弄清楚它是如何工作的。有人可以向我解释它是如何工作的吗？我是新手，所以请分析一下！先感谢您，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:50:57.830

使用库的常用方法是首先添加其引用（库提供者将提供一个 .dll 文件，您可以在从服务器资源管理器中右键单击项目名称后链接到该文件 > 添加引用 > 浏览 ...）

然后在表单代码的顶部添加 using 子句： using LibraryNameHere;

现在以这种形式，您可以根据其开发人员允许您的详细信息（类、方法、枚举等）使用该库

表单代码之上的其他语句也是如此，例如： using System.Data; 使用 System.Collections；

ETC

# mysql - MySQL：列表和喜欢？

> ID：15246231
> 
> 赞同：0
> 
> 时间：2013-03-06T11:31:58.423
> 
> 标签：mysql, sql-like

我想将一列的值与几个列表进行比较，并在每种情况下打印其他内容。它的汽车品牌列表，如雪佛兰、福特等。我的逻辑应该是这样的：

```
if(mycolumn like carlist1, 'this', '')
if(mycolumn like carlist2, 'that', '')
if(mycolumn like carlist3, 'foobar', '') 
```

mycolumn 的值 like `Chevy-1234`，所以它必须是 like ，因为数字会改变。我怎么能在 MySQL 中做到这一点？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:39:48.110

像这样在mysql中尝试

```
SELECT
  if(mycolumn like 'carlist1%', 'this', '') as 'Blah1',
  if(mycolumn like 'carlist1%', 'that', '') as 'Blah2',
  if(mycolumn like 'carlist1%', 'foobar', '') as 'Blah3'
FROM mytable 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T12:57:48.113

最好的办法是将汽车列表存储为表格，其中包含以下数据：

```
Chevy
Ford 
```

等等。

然后你可以通过加入做你想做的事：

```
select t.*,
       max(case when cl.brand = 'Chevy' then 'this' end) as Chevy,
       max(case when cl.brand = 'Ford' then 'this' end) as Ford,
       . . .
from t left outer join
     carlist cl
     on left(t.col, length(cl.brand)) = cl.brand
group by t.id 
```

否则，您必须处理数字：

```
select (case when left(col, locate('-', col) - 1) = carlist1 then 'this' end),
       (case when left(col, locate('-', col) - 1) = carlist2 then 'that' end),
       (case when left(col, locate('-', col) - 1) = carlist3 then 'foobar' end) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T12:00:02.073

你可以使用

```
SELECT
  WHEN mycolumn LIKE 'carlist1%' THEN 'this' END AS Blah1,
  WHEN mycolumn LIKE 'carlist1%' THEN 'that' END AS Blah2,
  WHEN mycolumn LIKE 'carlist1%' THEN 'foobar' END AS Blah3
FROM mytable 
```

# zend-framework2 - 布局中的多导航失败

> ID：15246233
> 
> 赞同：0
> 
> 时间：2013-03-06T11:32:00.157
> 
> 标签：zend-framework2, zend-view, zend-navigation

为什么第二个 var_dump() 在我的 layout.phtml 代码中显示 null ：

```
var_dump(($this->navigation('navigation')->menu()->render()));

var_dump(($this->navigation('navigation')->breadcrumbs()->render())); 
```

输出 ：

```
 string '<ul class="navigation">
    <li>
        <a href="/en/admin">DashBoard</a>
    </li>
    <li>
        <a href="/en/admin/members">Members Management</a>
    </li>
    <li class="active">
        <a href="/en/admin/events">Events</a>
        <ul>
            <li>
                <a href="/en/admin/events/categories">Categories</a>
            </li>
            <li class="active">
                <a href="/en/admin/events">Show All</a>
            </li>
            <li class="active">
                <a href='... (length=802)

string '' (length=0) 
```

**编辑 ：**

实际上正在更改 var_dump 顺序... OMG ...第二个又是 NULL ！：-O输出：

```
string '<a href="/en/admin/events">Events</a> &gt; Show All' (length=51)

string '' (length=0) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T03:16:02.153

zf2 ver <= 2.1.3 中有一个关于此的错误，它已关闭但尚未合并到生产包中，并将在下一个小版本中修复 [https://github.com/zendframework/zf2/issues/3976](https://github.com/zendframework/zf2/issues/3976) 简单解决方案： [https://github.com/froschdesign/zf2/commit/454439d35716ed2125a6ac90c826836f57391eb0](https://github.com/froschdesign/zf2/commit/454439d35716ed2125a6ac90c826836f57391eb0)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-06T11:48:41.203

面包屑上的内容将取决于执行输出的位置。

例如，如果您位于已分配给您的导航项之一的控制器和操作中，则应将其拾取。

我怀疑您没有为执行 var_dump 的控制器/动作配对设置导航页面。

导航配置示例：

```
array(
'navigation' => array(
     'default' => array(
         array(
             'label' => 'Page One',
             'route' => 'myroute',
             'controller' => 'categories',
             'action' => 'list',
         ), 
```

如果您在 Categories 控制器的 listAction 方法中执行输出，那么面包屑助手应该为您返回一些内容

# opengl - 使用 vbo 渲染时发出奇怪的声音和哔哔声

> ID：15246234
> 
> 赞同：0
> 
> 时间：2013-03-06T11:32:00.897
> 
> 标签：opengl, vbo, audio, opentk

我使用 C# 和 Opentk 渲染体素，我使用的显示列表很好但很慢，所以我切换到 VBO，从那时起，每次我用 vbo 渲染某些东西时，我的电脑都会发出奇怪的声音和哔哔声（音量非常低）。听起来像我认为的gpu。

*   当我切换回显示列表或直接呼叫时，哔声停止。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T13:51:36.350

您所听到的是开关稳压器努力保持 GPU 电源稳定。每次您向 GPU 发送命令时，它的功率需求都会增加。使用立即模式，高需求和低需求之间的占空比很低，因此去耦和滤波电容器可以满足短脉冲功率。显示列表保持功率要求，因此电压调节器必须打开，然后保持“稳定”的高功率输出，直到列表完成。

现在，当您渲染 VBO 并且您可以听到调节器在工作时，这意味着您使用了大约 50% 的 GPU 功能，并且调节器在功率要求之间不断变化。您最好的做法是增加使用单个 glDraw... 调用处理的图元数量。现在GPU在下一个glDraw…进来之前完成绘图，所以你有点饿了。

# authentication - 隐式身份验证的含义是什么？

> ID：15246237
> 
> 赞同：0
> 
> 时间：2013-03-06T11:32:07.013
> 
> 标签：authentication, login

我正在开发一个用于登录我的网站的插件。在搜索过程中，我看到以下行：

```
Implicit Authentication plugins implement support for authenticating users based on http headers. 
```

你能为我解释一下它的含义吗？

使用 openID 登录是隐式身份验证吗？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:43:50.377

[这里](https://crypto.stackexchange.com/questions/1992/what-is-implicit-authentication)已经回答了一个类似的问题。据我所知，隐式身份验证是使用令牌进行身份验证。并且系统无法确定经过身份验证的人曾经持有过令牌（在链接的答案中，令牌是对称密钥）。

再举一个例子，据我理解的隐式认证，不同账户的认证就是隐式认证。即您创建一个 Skype 帐户（使用用户名/密码）并将您的 Facebook 个人资料连接到它。现在，当您向 facebook 进行身份验证时，您也会隐式地向 Skype 进行身份验证。

只是对您的行的一个评论：然后 http-headers 将传输令牌（作为会话 ID 或其他任何内容）

完成我对您帖子的回答：是的，openID 也是隐式身份验证。通过对 openID 的显式身份验证，您对在 openID 注册的所有其他站点进行了隐式身份验证

# c# - Adding a controller with read/write actions and views using entity framework results in a warning

> ID：15246240
> 
> 赞同：3
> 
> 时间：2013-03-06T11:32:20.217
> 
> 标签：c#, asp.net-mvc, entity-framework

Hi I am following the steps from this tutorial :

> [http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application](http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application)

When I try to add a controller that use one of my models , I get this warning:

![enter image description here](../Images/3e7af143e6c78a94e498c93503f5020c.png)

This is the model based on witch I am tryng to create the controller:

```
public class Student
{
    public int StudentID { get; set; }
    public string LastName { get; set; }
    public string FirstMidName { get; set; }
    public DateTime EnrollmentDate { get; set; }
    public virtual ICollection<Enrollment> Enrollments { get; set; }
} 
```

And this are the setting that I am adding when I try to create it :

![enter image description here](../Images/d624032ed73c14017c89d413beb1a813.png)

I am not really sure what that warning is telling so I do not know If I posted the correct information needed in order to solve it.If anything else is needed I will post it later.

How can I solve this problem?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-11T06:45:06.867

For some reason changing the provider from System.Data.SqlServerCe.4.0 to System.Data.SqlClient seems to solve this problem.

# jpa - 使用 Play Framework 和 JPA 创建和使用存储过程

> ID：15246245
> 
> 赞同：4
> 
> 时间：2013-03-06T11:32:40.630
> 
> 标签：jpa, stored-procedures, playframework, playframework-1.x

我正在使用 Play framework 1.2.5，我想通过创建存储过程并使用它们来优化我的 SQL 查询，但我不知道该怎么做。

通过Java代码创建存储过程我应该怎么做？另外，我是否应该在 @OnApplicationStart 作业中执行此操作，以确保在应用程序启动时创建和存储过程？

之后，我如何使用我的存储过程？使用哪个功能？如何将参数传递给我的程序？如何检索我的程序的结果？（通常结果将是一个 SELECT 查询）最后，是否可以将我的过程的结果绑定到 play 框架中的模型？

我有很多问题，但我是使用 play framework 和 JPA 的存储过程的新手，我想确保我正确使用它们

感谢您的帮助

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T11:40:55.173

我不知道你应该如何创建它们。也许 OnApplicationStart 方法是您所需要的。在我的环境中，程序已经到位。我们只是使用 Play 来调用它们。要调用存储过程，您应该看一下`Work`接口。通过实现这一点，您可以在数据库中执行语句。

我们创建了一个基本的 OracleProcedure 类：

```
public class CallOracleProcedure implements Work {

    private String anonymousPLSQL;
    private String[] parameters;

    public CallOracleProcedure(String anonymousPLSQL, String[] parameters) {
        this.anonymousPLSQL = anonymousPLSQL;
        this.parameters = parameters.clone();
    }

    /**
     * Create a JDBC PreparedStatement and then execute the anonymous
     * PL/SQL procedure.
     */
    @Override
    public void execute(Connection connection) {
        PreparedStatement statement = null;
        try {
            statement = connection.prepareStatement("begin " + anonymousPLSQL + "; end;");

            if (parameters != null) {
                int i = 1;
                for (String param : parameters) {
                    statement.setString(i++, param);
                }
            }
            statement.executeUpdate();
        } catch (SQLException e) {
            Logger.error("Error performing anonymous pl/sql statement: '%s', with parameters: '%s' - catched error '%s'", anonymousPLSQL, parameters, e);
        } finally {
            if (statement != null) {
                try {
                    statement.close();
                } catch (Exception e) {
                    Logger.error("Error closing statement: %s", e);
                }
            }
        }
    }
} 
```

对于每个特定的存储过程，您可以扩展此类并通过以下方式将名称和参数传递给构造函数`super()`：

```
public class StoredProcedureCall extends CallOracleProcedure {
    public StoredProcedureCall(String param) {
        super("package.storedprocedure(?)", new String[] { orgname });
    }
} 
```

在您的代码中，您可以这样调用它：

```
StoredProcedureCall procedure = new StoredProcedureCall("your parameter");
session.doWork(procedure); 
```

如果需要调用过程并检索返回值，可以`CallableStatement`在`execute()`方法中使用 a：

```
public class ProcedureWithReturnValue implements Work {

    private final String parameter;
    private String returnValue = null;

    public ProcedureWithReturnValue (final String parameter) {
        this.parameter = parameter;
    }

    @Override
    public void execute(Connection connection) {
        CallableStatement statement = null;

        try {   
            statement = connection.prepareCall("begin ? := package.procedure(?); end;");
            statement.registerOutParameter(1, OracleTypes.VARCHAR);
            statement.setString(2, parameter);
            statement.execute();

            returnValue = statement.getString(1);
        } catch (SQLException e) {
            Logger.error("Error getting return value - catched error '%s'",  e);
        }
    }

    public String getReturnValue() {
        return returnValue;
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-21T19:53:42.483

查看用于创建存储过程的演变 ( [http://www.playframework.com/documentation/1.2.7/evolutions )。](http://www.playframework.com/documentation/1.2.7/evolutions)

# ios - MainMenuViewController 作为共享实例？

> ID：15246256
> 
> 赞同：0
> 
> 时间：2013-03-06T11:33:09.087
> 
> 标签：ios, objective-c, uiviewcontroller, singleton, instance

你好stackoverflowers

我有一个设计问题。

我有一个 MainMenuViewController 类。它有一个在应用程序右侧显示菜单的方法。这个方法是从应用程序的不同部分调用的，实际上，在每个导航控制器中，我必须将该方法设置为导航栏右键的目标。

这导致我在每个推送的视图控制器中都有这样的代码：

```
UIViewController *root = [self.navigationController.viewControllers objectAtIndex:0];
[self.topBarMenuButton addTarget:((RecordsViewController*)root).mainMenuController action:@selector(launchMenu:) forControlEvents: UIControlEventTouchUpInside]; 
```

而且我必须给每个根控制器一个对主菜单的引用。

我一点也不喜欢。我想要的是这样的：

```
[self.topBarMenuButton addTarget:[MainMenuController sharedInstance] action:@selector(launchMenu:) forControlEvents: UIControlEventTouchUpInside]; 
```

因此，应用程序的每个视图控制器都可以访问主菜单，而无需从其根视图控制器或应用程序委托中获取它。

这是一个好主意吗？对我来说这听起来不错，但我不确定使用共享视图控制器实例是否有任何缺点。

感谢和快乐的编码

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:30:55.700

最好使用单例来满足您的要求。

在 MainMenuViewController.m 文件中

```
static MainMenuViewController *_sharedMySingleton;

+(MainMenuViewController *) sharedInstance
{
    @synchronized([MainMenuViewController class])
    {
        if (!_sharedMySingleton)
        {
            _sharedMySingleton = [[self alloc] init];

        }
        return _sharedMySingleton;
    }
    return nil;
} 
```

无论您想在哪里访问此对象，只需像这样调用...

```
[self.topBarMenuButton addTarget:[MainMenuController sharedInstance] action:@selector(launchMenu:) forControlEvents: UIControlEventTouchUpInside]; 
```

# ios - 了解 FBNativeDialogs 何时在 iOS 中被关闭

> ID：15246259
> 
> 赞同：1
> 
> 时间：2013-03-06T11:33:11.033
> 
> 标签：ios, facebook, ios6, fbnativedialogs

我已经实现了 FBNativeDialogs。一切都很好，除了我想知道 FBNativeDialogs 何时被解雇。

我知道有处理程序，但根据文档（[https://developers.facebook.com/docs/reference/ios/3.1/class/FBNativeDialogs/](https://developers.facebook.com/docs/reference/ios/3.1/class/FBNativeDialogs/) FBShareDialogHandler ） FBShareDialogHandler 定义了一个处理程序，该处理程序将被调用以响应本机共享正在显示的对话框。确实，在同一文档的其他部分中，他们说在关闭对话框时调用相同的处理程序。在这件事上花了一些时间后，我发现第一个说法是正确的。

所以我正在寻找一种方法来知道 FBShareDialogHandler 已被解雇。我也试过 viewDidDisappear 但显然它也没有。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T22:00:14.733

在调用方法时设置处理程序，如下所示：

```
[FBNativeDialogs presentShareDialogModallyFrom:viewController initialText:@"Some text..." image:nil url:someUrl handler:^(FBNativeDialogResult result, NSError *error) {
            if (error) {

            } else {
                switch (result) {
                    case FBNativeDialogResultCancelled:
                        //The user has dismissed the dialog
                        break;
                    case FBNativeDialogResultSucceeded:
                        //The user shared
                        break;
                    case FBNativeDialogResultError:
                        //There was an error
                        break;
                }
            }
        }]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:36:15.147

在您发布的文档网址的末尾阅读...使用 FBNativeDialogResult 枚举调用处理程序 FBShareDialogHandler。它列出了 FBNativeDialogResultSucceeded、FBNativeDialogResultCancelled、FBNativeDialogResultError 所以我想它也会在关闭时被调用

（添加）...好的，你已经尝试过了

# c# - 选择 AND Counting 以在 ASP.NET 中继器中返回

> ID：15246261
> 
> 赞同：1
> 
> 时间：2013-03-06T11:33:20.477
> 
> 标签：c#, asp.net, sql, count, repeater

我正在尝试制作一个转发器，它打印出我论坛的每个类别，并且在它的左侧，一个计数显示，有多少“线程”连接到这个类别（在它里面）。

这是我的 SQL，它完美地显示了正确的线程数，仅此而已。我只能在我的 ASP.NET 中使用 'threadCount' 作为 Eval。这当然是我不想要的，但我也希望能够写出类别名称，但我不能这样做，因为这个查询只返回计数，而不是从内连接。

```
SELECT COUNT(*) AS 'threadCount'
FROM threads INNER JOIN
             categories ON categories.category_id = threads.thread_category_id 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T11:39:51.973

这里的问题是您的查询。它应该是这样的：

```
SELECT categories.category_name, COUNT(1) AS 'threadCount'
FROM threads
INNER JOIN categories
    ON categories.category_id = threads.thread_category_id
GROUP BY categories.category_name 
```

您不能`Eval`在未从数据库中选择的字段中使用。

# zend-framework2 - 如何在 Zend Framework 2 中返回自定义 HTTP 状态码

> ID：15246264
> 
> 赞同：16
> 
> 时间：2013-03-06T11:33:24.760
> 
> 标签：zend-framework2

如果给定的 apikey 不正确，我将尝试返回 401 http 状态代码：

```
class MessageRestfulController extends AbstractRestfulController {
    # ...
    public function get($id) {
        if (!$this->isApiKeyValid()) {
            $response = new Response();
            $response->setStatusCode(Response::STATUS_CODE_401);
            return $response;
        }
        # ...
        return new JsonModel(array(
            'data' => array(...)
        ));
    }
} 
```

对于我添加的控制器，`'strategies' => array('ViewJsonStrategy)'`因为它是一个 AbstractRestfulController 并且如果操作成功应该返回 json。

我对 ZF2 真的很陌生，不知道实现这种异常的正确方法是什么。

我目前这样做的方式不起作用。

感谢您的提示！

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2013-03-06T11:44:46.530

您的控制器已经有一个 Response 对象，在其上设置状态代码并返回

```
 if (!$this->isApiKeyValid()) {
        $this->getResponse()->setStatusCode(401);
        return;
    } 
```

# java - 用 int 调用 setProperty 但 getProperty 在谷歌应用引擎持久存储上返回 Long

> ID：15246265
> 
> 赞同：9
> 
> 时间：2013-03-06T11:33:30.620
> 
> 标签：java, google-app-engine, entity

将此代码与 DatastoreService 一起使用时，我得到 ClassCastException Long acnnot be cast to integer in fromEntity。这是正常行为吗？（在本地计算机上使用 Eclipse 的谷歌插件进行调试时，我得到了这种行为）

```
class UserData {
    private int _integerval = 0;
    private String _stringval = "";
    public Entity getEntity() {
        Entity ret = new Entity( "User", key );
        ret.setProperty( "property1", _integerval );
        ret.setProperty( "property2", _stringval );
        return ret;
    }

    public static UserData fromEntity( Entity ent ) {
        UserData ret = new UserData();
        ret._integerval = (Integer)ent.getProperty("property1");
        ret._stringval = (String)ent.getProperty("property2");
        return ret;
    }
} 
```

我是否总是必须像这样捕获这个异常：

```
try
{
    ret._integerval = (Integer)ent.getProperty("property1");
}
catch( ClassCastException ex ) {
    Long val = (Long)ent.getProperty("property1");
    ret._integerval = val.intValue(); 
} 
```

或者也许所有的数值都只存储很长时间？我是否必须将 _integerval 类型更改为 long 以避免此异常？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T11:40:28.793

使用`int`而不是`Integer`在施法时使用。

```
ret._integerval = (int)ent.getProperty("property1"); 
```

**编辑：**

以下内容包含在[setProperty](https://developers.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/PropertyContainer#setProperty%28java.lang.String,%20java.lang.Object%29) API 中。

> 由于值存储在数据存储中，因此它被转换为数据存储的本机类型。这可能包括加宽，例如将 Short 转换为 Long。

因此，您的*int*数据将被转换为数据存储的本机类型为`Long`. `long`使用或进行投射`Long`。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-06-16T15:53:15.273

创建一个新的整数：

```
Integer property = new Integer(entity.getProperty("propertyKey").toString()); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-07-11T09:16:29.293

如果您想`int`在您的程序中使用，那么这可以正常工作：

```
int i = (int) (long) entity.getProperty(propertyName); 
```

仍然要确保数字进入 int 范围（在[此处](https://stackoverflow.com/questions/1590831/safely-casting-long-to-int-in-java)讨论）。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-12-09T13:42:14.313

如[官方文档中所述](https://cloud.google.com/appengine/docs/java/javadoc/com/google/appengine/api/datastore/PropertyContainer#setProperty%28java.lang.String,%20java.lang.Object%29)

> 由于值存储在数据存储中，因此它被转换为数据存储的本机类型。这可能包括加宽，例如将 Short 转换为 Long。

所以

*   设置为 int 但将其转换为 long 因为由于某种原因本地环境中的数据存储行为不同并且它也存储整数。
*   获取 Long 并使用 .intValue()

    ```
    public int get() {
        return ((Long) entity.getProperty(FIELD)).intValue(); 
    }

    public void set(int value) {
        entity.setProperty(FIELD, (long)value); 
    } 
    ```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-05-01T09:51:41.553

整数值保存为 Long，因此应用引擎将始终返回 Long，我自己很困惑，但后来我看到[了](https://developers.google.com/appengine/docs/python/datastore/typesandpropertyclasses#IntegerProperty)

# c# - 如何使用 vs.net 在设计时更改公共属性值

> ID：15246269
> 
> 赞同：1
> 
> 时间：2013-03-06T11:33:41.163
> 
> 标签：c#, asp.net, custom-controls

我花了几天的时间来解决这个问题。我有一个继承自 System.Web.UI.WebControls.TextBox 的自定义控件，如下所示：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;

using System.Web.UI;
using System.ComponentModel;

namespace Test
{
    [ToolboxData("<{0}:MyCustomTextBox runat=server />")]
    public class MyCustomTextBox : System.Web.UI.WebControls.TextBox
    {
        [DesignerSerializationVisibility(DesignerSerializationVisibility.Content)]
        [RefreshProperties(RefreshProperties.All)]
        [DefaultValue(InputType.Enum1)]
        [Category("Appearance")]
        public InputType UserInputType { get; set; }

        [DesignerSerializationVisibility(DesignerSerializationVisibility.Content)]
        [RefreshProperties(RefreshProperties.All)]
        [DefaultValue(LetterCase.Enum3)]
        [Category("Appearance")]
        public LetterCase UserLetterCase { get; set; }
    }

    public enum InputType { Enum1, Enum2 }

    public enum LetterCase { Enum3, Enum4 }
} 
```

我发现了一些 System.ComponentModel 属性。

我想要做的是，如果用户将 UserInputType 的枚举属性更改为 InputType.Enum2，那么 UserLetterCase 属性应该更改为 LetterCase.Enum4。使用visual studio.net 2010时，这些都应该在设计时发生。有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:37:39.063

不要将它们实现为自动属性，而是创建支持字段并在部件中进行所需的更改`set`：

```
 private InputType _userInputType;
    public InputType UserInputType
    {
        get
        {
            return _userInputType;
        }
        set
        {
            _userInputType = value;
            if (value == InputType.Enum2)
                UserLetterCase = LetterCase.Enum4;
        }
    } 
```

# c# - 在 Session 中持有多个值？

> ID：15246275
> 
> 赞同：1
> 
> 时间：2013-03-06T11:33:46.833
> 
> 标签：c#, asp.net, linq

Login 的项目也会检查用户的详细信息和他们所属的服务区域。这只是一个领域，但现在它们可以属于多个领域。

该代码是如何设置为使用`Session`.

```
var user = (from u in db.tbl_UserServiceAreaDetails
            where u.tbl_User.UserName.Equals(txt_LoginName.Text)
            && u.tbl_User.Password.Equals(txt_Password.Text)
            select u).FirstOrDefault();

if (user != null)
{
Session["Username"] = user.tbl_User.UserName;

Session["ServiceArea"] = user.tbl_ServiceArea.ServiceArea;

Session["ServiceAreaID"] = user.serviceAreaID; 
```

现在`ServiceArea`可以很多。我可以尝试`foreach`在和`serviceAreaID`之间的链接表中的`User`和`Servicearea`被映射到in并映射到in 。`serviceAreaDetails``serviceAreaID``serviceAreaId``tbl_ServiceArea``UserAreaID``userId``tbl_User`

`foreach (ListItem item in user.ServiceAreaID)`能工作吗？

如果我得到`userId`用户登录的时间并将其传递给我，我`Foreach`可以将其设置为`Session`. 由于索引页面显示`servicearea`用户也属于，现在可以不止一个。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:03:59.080

您也可以在会话中存储复杂的对象，因此为您的用户创建一个类，其中所有具有 id 的区域都存储给用户并将该类保存在会话中

```
class UserClass
{
    public string userName;
    public Dictionary<int, string> serviceArea = new Dictionary<int,string>();
}

UserClass user = new UserClass();

Session["User"] = user;

user = (UserClass)Session["User"]; 
```

* * *

回复评论：
是的，随意使用Getter&Setter
是的，字典就是这样工作的，第一个参数是键，第二个是值，它也可以灵活地与任何对象一起使用

```
UserClass user = new UserClass();

user.userName = "Rik";

foreach(...serviceArea...) // Or whatever loop you like
{
    user.serviceArea.Add(serviceAreaID, serviceArea);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:11:17.190

我发现有用的是创建一个对象列表并将其添加到会话中。然后，您可以将会话变量转换为该对象类型并对其进行迭代。例如：

```
Public Class someClass
    Public Property userName as String
    Public Property FirstName as String     
End Class 
```

然后，您可以创建此类型的列表并将其添加到会话中：

```
dim myList as new list(of someClass)
dim newSomeClass as new someClass

newSomeClass.userName="username1"
newSomeClass.FirstName="Jason"
myList.add(newSomeClass)

newSomeClass.userName="username2"
newSomeClass.FirstName="Frank"
myList.add(newSomeClass)

Session.add("mySessionId",myList) 
```

然后，您可以将该会话转换为 myList 并在其他地方对其进行迭代：

```
Dim myList as new list(of someClass)
if(Session("mySessionId") isNot nothing) then
    myList = Session("mySessionId")

    for each n as someClass in myList
      'iterate
    next
end if 
```

You just need to be careful that you destroy these session when finished and that you aren't consuming to much resources between postbacks. If you have any questions, let me know.

# jquery - 验证 Jquery 的输入单选未检查值

> ID：15246280
> 
> 赞同：0
> 
> 时间：2013-03-06T11:34:06.787
> 
> 标签：jquery, input, validation, radio

我有这个 HTML：

```
<div class="produtoListaDescTamanho">
  <label class="textoPadrao pequeno laranja"><input type="radio" name="tamanho-324" value="9"><b>Frango Teriaky R$ 6.00&nbsp;&nbsp;&nbsp;</b></label>
  <label class="textoPadrao pequeno laranja"><input type="radio" name="tamanho-324" value="8"><b>Camarão R$ 6.00&nbsp;&nbsp;&nbsp;</b></label>
  <label class="textoPadrao pequeno laranja"><input type="radio" name="tamanho-324" value="7"><b>Salmão e Queijo Qualho R$ 6.00&nbsp;&nbsp;&nbsp;</b></label>
  <label class="textoPadrao pequeno laranja"><input type="radio" name="tamanho-324" value="6"><b>Salmão R$ 6.00&nbsp;&nbsp;&nbsp;</b></label>
  <label class="textoPadrao pequeno laranja"><input type="radio" name="tamanho-324" value="10"><b>Mignom R$ 6.00&nbsp;&nbsp;&nbsp;</b></label><br><br>
 </div> 
```

并且这个 Jquery 不能用于验证是带有 Jquery 的输入单选，var tamanho = undefined。jQuery代码：

```
$(document).ready(function(){$('.produtoAddCarinho').live("click",(function(){    
  alert(this.id);
  var tamanho = $('tamanho-324:checked').val(); // or $('input[name=tamanho-'+this.id+']:checked', '#tabela_geral').val();
  var produto = document.getElementById('desc-'+this.id).innerHTML;       

  if (tamanho == undefined)
  {
    $().toastmessage('showErrorToast', "Selecione o tamanho, para adiconar o produto <br><br>" + produto );
  }
  else
  {
    Inserir(this.id, tamanho, produto);        
  };
  temp = document.getElementsByName('tamanho-'+this.id);
  $(temp ).removeAttr('checked');
  $(temp ).attr('previousValue', false);
}))}); 
```

tks

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:38:24.493

在 jquery 中尝试这个使用名称选择器。

```
var tamanho = $('input:radio[name="tamanho-324"]:checked').val(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:44:34.360

```
repalce   

temp = document.getElementsByName('tamanho-'+this.id);
$(temp ).removeAttr('checked');
$(temp ).attr('previousValue', false);

with

$('#tamanho-'+this.id ).each(function( index ) {
this.removeAttr('checked');
this.attr('previousValue', false);
}); 
```

# iphone - iOS 上的网站背景 - 尺寸错误

> ID：15246285
> 
> 赞同：-1
> 
> 时间：2013-03-06T11:34:25.177
> 
> 标签：iphone, ios, ipad

我有一个网站，但无法在 iOS 上以正确的大小显示网站背景： [http ://www.anniefouldspersonaltrainer.com](http://www.anniefouldspersonaltrainer.com)

背景要么缩小得非常小，要么（如果向下滚动）你可以看到它没有对齐。

你能帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:55:28.870

嘿，您的网站不是响应式网页设计，这就是为什么网站内容不适合 webview。

[阅读响应式](http://en.wikipedia.org/wiki/Responsive_web_design)

# excel - 将 SSRS 报告导出到 Excel 时有额外的 AVERAGE 行

> ID：15246286
> 
> 赞同：0
> 
> 时间：2013-03-06T11:34:25.670
> 
> 标签：excel, ssrs-2008, reporting-services

我正在运行 SSRS 2008。

当我在 SSRS 中查看我的报告时，它看起来是 100%。但是当我将报告导出到 excel 时，它会添加另一行，其中包含平均值。请参见下面的黄色.....

![在此处输入图像描述](../Images/0e87d25e77dfd4cb523711dc068b7996.png)

为什么会这样，我该如何预防？

如您所见，我在报告中使用了分组。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T08:07:29.607

对此没有解决方案，excel从向下钻取的顶部向下推该行。在 SSRS 中你看不到它，但 Excel 的工作方式总是会添加该行。

为了删除不正确的 96% 值，我在该列的另一个行组中添加了该值并删除了该值。

# android - QuickBlox：如何获取在线可用用户列表

> ID：15246287
> 
> 赞同：1
> 
> 时间：2013-03-06T11:34:27.133
> 
> 标签：android, quickblox

我正在使用 QuickBlox API 创建聊天应用程序，从示例应用程序中我可以获取我帐户中的所有列表用户。但我只想显示在线可用用户。如何检索在线可用用户？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:51:12.917

我可以通过 SMACK API 获得 QuickBlox 聊天模块的在线用户，使用 XMPP 连接的 Rooster。检查这个答案。

[我可以通过 Smack 在我的朋友列表中获取在线用户吗？](https://stackoverflow.com/questions/4665948/can-i-get-online-users-in-my-friend-list-via-smack)

您需要聊天模块或其他模块的在线用户吗？

干杯!

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T13:13:02.813

使用 smack API 为在线可用用户尝试此操作。名册名册 = xmppConnection.getRoster();

```
 Collection<RosterEntry> entries = roster.getEntries();
  Presence presence;

    for(RosterEntry entry : entries) {
        presence = roster.getPresence(entry.getUser());

        System.out.println(entry.getUser());
        System.out.println(presence.getType().name());
        System.out.println(presence.getStatus());
    } 
```

检查用户是否在线（或）离线

```
 Presence presence = roster.getPresence("tom@jabber.org");
   if (presence.getType() == Presence.Type.AVAILABLE) {
       // Tom is online...
        } 
```

通过使用presence.getMode() 方法获取用户模式。模式是枚举，它的值可以是聊天、可用、离开、xa、dnd。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-21T13:14:45.800

XMPPConnection.addConnectionCreationListener(new ConnectionCreationListener() {

```
 @Override
    public void connectionCreated(Connection arg0) {
        Log.i(TAG, "receive xmpp connection : " + arg0);
        connection = arg0;
        roster = arg0.getRoster();

        Collection<RosterEntry> entries = roster.getEntries();
        Presence presence;

        Log.e(TAG, "user count" + entries.size());

        for (RosterEntry entry : entries) {
            presence = roster.getPresence(entry.getUser());

            Log.i(TAG, "" + entry.getUser());
            Log.i(TAG, "" + presence.getType().name());
            Log.i(TAG, "" + presence.getStatus());
        }

    }
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-04-28T14:36:40.767

你可以这样做：

1- 定义花名册

```
 private SmackAndroid smackAndroid;
  private Roster roster; 
```

2- 在 onCreate 中，初始化 smackAndroid 并添加 XMPPConnectionListener

```
 smackAndroid = SmackAndroid.init(this);
  XMPPConnection.addConnectionCreationListener(new ConnectionCreationListener() {

    @Override
    public void connectionCreated(Connection connection) {
      roster = connection.getRoster();

    }
  }); 
```

3-您可以使用 createEntry 将用户添加到名册

```
 try {
    roster.createEntry("UserId", "userName", new String[] { "Friends" });
  } catch (XMPPException e) {
    e.printStackTrace();
  } 
```

4-您可以使用 getEntry() 从名册中获取条目

```
 ArrayList<String> friends = new ArrayList<String>();
  Collection<RosterEntry> entries = roster.getEntries();
  for (RosterEntry entry : entries) {
    friends.add(entry.getName());
  } 
```

# ios - 测试 HTTPS 身份验证

> ID：15246288
> 
> 赞同：0
> 
> 时间：2013-03-06T11:34:30.663
> 
> 标签：ios, objective-c, authentication, https, nsurlconnection

我正在用 Objective-C 开发一段代码来更快地执行 HTTP/HTTPS 请求。此代码将插入到包含最常见执行操作的库中。我正在寻找一个测试需要身份验证的 HTTPS 请求的服务器。

特别是我看到 iOS 标准库有 NSURLConnection 类。NSURLConnectionDelegate 协议有方法 connection:didReceiveAuthenticationChallenge: 这就是我想用我的班级测试的。

有什么事吗？我在谷歌上搜索，但一无所获。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:38:58.107

是的，你是对的，你需要`didReceiveAuthenticationChallenge`从[NSURLConnectionDelegate](https://developer.apple.com/library/ios/#documentation/Foundation/Reference/NSURLConnectionDelegate_Protocol/Reference/Reference.html)使用这里是一些示例用法

```
- (BOOL)connection:(NSURLConnection *)connection canAuthenticateAgainstProtectionSpace:(NSURLProtectionSpace *)protectionSpace {
    return YES;
}
- (void)connection:(NSURLConnection *)connection didReceiveAuthenticationChallenge:(NSURLAuthenticationChallenge *)challenge {
    [challenge.sender useCredential:[NSURLCredential credentialForTrust:challenge.protectionSpace.serverTrust] forAuthenticationChallenge:challenge];
} 
```

# javascript - 在可排序的淘汰赛js中禁用拖放

> ID：15246290
> 
> 赞同：2
> 
> 时间：2013-03-06T11:34:43.803
> 
> 标签：javascript, knockout.js, jquery-ui-sortable

在淘汰赛js中使用可排序时，有没有办法禁用拖放。我有一个正方形网格，里面有 5*5 个正方形。我想禁用某些方块的拖放功能，而不是全部。这怎么做？任何建议..

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T12:08:29.153

[在演示页面上](http://jqueryui.com/sortable/#items)可排序的 jQuery UI 中对此提供了支持 。

您只需要为您的不可排序项目添加一个特殊类（例如使用`css`绑定），然后您需要使用[取消选项](http://api.jqueryui.com/sortable/#option-cancel)，您可以在其中设置此不可排序类名称。

您可以使用参数指定`sortable`绑定选项`options`：

```
data-bind="sortable: {data: items, options: { cancel: '.no-sort' }}" 
```

一个简单的演示 HTML：

```
<ul data-bind="sortable: {data: items, options: { cancel: '.no-sort'}}">
    <li data-bind="text: name, css: { 'no-sort': disabled}"></li>
</ul> 
```

和 JS：

```
var vm = {
    items: [
        {name: 'name1', disabled: false},
        {name: 'name2', disabled: false},
        {name: 'name3', disabled: true},
        {name: 'name4', disabled: false},
        {name: 'name5', disabled: true}
    ]
}

ko.applyBindings(vm); 
```

演示[JSFiddle。](http://jsfiddle.net/LpKyx/)

# c# - 创建安卓应用

> ID：15246291
> 
> 赞同：-1
> 
> 时间：2013-03-06T11:34:44.203
> 
> 标签：c#, android

我是一名 C# 开发人员（几个月前开始工作），我一直是一个 android 狂热者。现在，我知道android应用程序是用java开发的。由于java和c#非常相似，我想知道我是否可以使用c#开发android应用程序，还是必须学习java？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:36:49.150

是的，您可以通过创建 Android 应用程序。C# - 我认为在你的情况下最好的研究是[Mono](http://xamarin.com/monoforandroid) for android。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:42:22.333

如果您不介意为许可证支付 400 美元，Unity3D 是一种非常简单的方法，可以为 android（如果您拥有 Mac，同时为 iphone）制作移动应用程序。但当然，android 许可证不是免费的。

根据我的经验，在 Unity3D 中编写游戏相当简单，所以如果您是编程新手，应该不会有太多麻烦。

# android - osmdroid mapview 禁用放大/缩小

> ID：15246298
> 
> 赞同：0
> 
> 时间：2013-03-06T11:35:10.773
> 
> 标签：android, zooming, android-mapview, osmdroid

我正在尝试通过调用禁用地图视图缩放功能

```
map.setFocusable(false); 
```

为什么这不起作用，有什么办法可以做到这一点

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T13:04:13.860

最后我找到了方法

```
 public class MapActivity extends Activity{
        protected MapView mapView;

        @Override
        public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.main);

            mapView = (MapView) findViewById(R.id.map);

            mapView .setTileSource(TileSourceFactory.MAPNIK);
            MyOverlay myOverlay = new MyOverlay(getApplicationContext());

            //disable double tap
            appendOverlay(myOverlay);

            //do something here

            //enable double top
            removeOverlay(myOverlay);
    }
    protected void removerOverlay(Overlay overlay) {
        final OverlayManager mng = map.getOverlayManager();

        if(mng.contains(overlay)) {
                mng.remove(overlay);
        }

   }
    protected void appendOverlay(Overlay overlay) {
        final OverlayManager mng = map.getOverlayManager();

        if(!mng.contains(overlay)) {
                mng.add(overlay);
        }

   }

} 
```

这是启用/禁用双击的类，实际上 mapView.setFocusable(false) 不会像这个解决方案那样满足我的需要

```
public class MyOverlay extends Overlay{

    public MyOverlay(Context ctx) {
        super(ctx);
        this.mapView = mapView;
        // TODO Auto-generated constructor stub
    }

    @Override
    protected void draw(Canvas arg0, MapView arg1, boolean arg2) {

    }

    @Override
    public boolean onDoubleTap(MotionEvent e, MapView mapView) {
            //here return true means that I handled double tap event no
            //one need to do anything for this event

            //if you do not do anything here double tap will be disable.
        return true;
    }
} 
```

# fonts - Gnuplot 字体嵌入

> ID：15246300
> 
> 赞同：3
> 
> 时间：2013-03-06T11:35:12.550
> 
> 标签：fonts, gnuplot, embedding

我想用 Corel Draw 对我在 gnuplot 中制作的一些图形进行后处理。但是，当我创建这些 .eps 文件时，这些文件中没有包含有关字体的信息。因此，corel 不知道内置的是什么字体并弄错了一些字母。尤其是希腊人。

这就是输出的行

```
set terminal postscript enhanced portrait "Times-Roman" 12 size 14cm,12cm                        
set output 'PuckCLnormal.eps 
```

和特殊字母

```
set title 'a) {/Symbol q} = 0{/Symbol \260}' 
```

因此，如何在 .eps 文件中包含详细的字体信息，以便我可以在其他程序中对这些 gnuplot 图片进行后处理？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:37:32.787

我对此没有太多经验，但是，我相信您需要使用以下内容：

```
fontfile add "path/to/myfont.pfb" 
```

或者，我相信你可以使用类似的东西：

```
set terminal postscript eps fontfile 'path/to/myfont.ttf' 
```

Gnuplot 可以处理 adobe type 1 ASCII ( `.pfa`) 和 binary ( `.pfb`) 字体以及 TrueType ( `.ttf`)。您还可以设置环境变量`GNUPLOT_FONTPATH`来设置 gnuplot 将搜索字体文件的路径。最后，查看`help fontfile`更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-03-16T09:02:56.887

如果可以使用 PDF 代替 EPS，则`epstopdf`命令行实用程序有助于将字体嵌入到输出 PDF 文件中。使用`pdffonts`命令行实用程序，可以确认字体是否确实嵌入在 PDF 文件中。

# liferay-6 - 无法复制 LifeRay 6.1.10 EE 的开发环境

> ID：15246303
> 
> 赞同：1
> 
> 时间：2013-03-06T11:35:29.057
> 
> 标签：liferay-6

我有一个完整的 Liferay 6.1.10 EE 开发环境（使用 Liferay Development Studio）。我已经成功地制作了一些新的布局。

现在我需要从另一个开发人员那里复制数据库转储作为我的实例的基础。我将数据库转储注入我的数据库，我可以看到数据在那里。其他开发人员之前也做过同样的事情（成功地）。（我还记得自己早些时候用 LR 5.2.3 CE 做过这个）

但是，当我从浏览器输入实例时，我会看到许可协议页面和一个用于设置新安全问题和答案的表单。接受后，这些将不会在后续引导中再次询问。但是，当我重新插入数据库转储时，将再次询问许可协议。（EE许可证已插入部署目录，但它是否存在/是否存在似乎没有任何效果。可能可以通过数据库转储找到它）。

问题是这个其他开发人员所做的站点没有任何迹象，尽管数据应该在那里（在 db 中）。删除数据库也会以找不到它的错误结束。（否则没有一个错误）

我尝试复制整个 webapps 目录（来自其他开发人员），并删除了所有 jackrabbit 配置（并删除了它创建的“主”目录）。没有效果。

还尝试删除 Tomcat (7.0.25) 的“工作”和“临时”目录内容，以确保没有任何内容。

一直在浏览： [http ://www.liferay.com/community/wiki/-/wiki/1071674/Backup+and+restore](http://www.liferay.com/community/wiki/-/wiki/1071674/Backup+and+restore)

它说“压缩 document_library 文件夹，其中包含文档库中的所有文档和文件。” << 我认为这不是必需的，因为我们没有任何“文档库”。无论哪种方式。我想我至少应该看到一些东西！？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T09:22:35.840

这是因为 MySQL 'my.cnf' 没有：

```
[mysqld]
lower_case_table_names=1 
```

Liferay 尝试使用以大写开头的表名（例如“Account_”），而转储中的表名使用小写（例如“account_”）。

当然，我在 liferay 上启用了“创建默认表”，所以当它启动时我得到了一个空的 liferay。

“小写表名”选项源自一个不再在家的人未记录的环境历史。

# android - 在 android 中获取 Google MAP API v1 密钥的步骤

> ID：15246304
> 
> 赞同：-3
> 
> 时间：2013-03-06T11:35:29.470
> 
> 标签：android

我一直在尝试在我的项目中使用谷歌地图，但我无法找到有关如何获取 api 密钥的适当文档。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T11:39:46.417

api v1 的步骤

第 1 步 [https://developers.google.com/maps/documentation/android/v1/](https://developers.google.com/maps/documentation/android/v1/)

step2 创建地图密钥 [https://developers.google.com/maps/documentation/android/v1/mapkey](https://developers.google.com/maps/documentation/android/v1/mapkey)

步骤 3> 在命令提示符中转到 android 文件夹位置

```
cd C:\Users\Iotasol Inc\.android 
```

步骤 4> 运行命令

```
F:\devtools\jdk6\bin\keytool -list -v -keystore debug.keystore -alias androiddebugkey -storepass android -keypass android 
```

步骤 5> 它将产生以下输出

```
Alias name: androiddebugkey
Creation date: 4 Mar, 2013
Entry type: PrivateKeyEntry
Certificate chain length: 1
Certificate[1]:
Owner: CN=Android Debug, O=Android, C=US
Issuer: CN=Android Debug, O=Android, C=US
Serial number: 51344e4a
Valid from: Mon Mar 04 13:03:30 IST 2013 until: Wed Feb 25 13:03:30 IST 2043
Certificate fingerprints:
         MD5:  12:91:23:19:31:23:33:66:84:1F:1E:25:05:F4:14:65
         SHA1: 32:CC:11:31:38:B9:74:FA:23:Z6:24:A6:1B:34:A6:92:1B:22:32
         Signature algorithm name: SHA1withRSA
         Version: 3 
```

第 6 步> 转到密钥注册页面 [https://developers.google.com/maps/documentation/android/v1/maps-api-signup](https://developers.google.com/maps/documentation/android/v1/maps-api-signup)

第 7 步 > 插入 MD5：密钥

12:91:23:89:31:23:23:66:85:1F:1E:22:05:F4:14:65

步骤 8> 复制生成的密钥并在布局 xml 中的 mapview 元素中使用它，例如

```
<com.google.android.maps.MapView
        android:id="@+id/mapViewx"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:apiKey="***********Your KEY **************"
        android:clickable="true"
        android:enabled="true" /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:39:58.960

API v1 已弃用。自 3 天前起，您无法从以下位置获取 API 密钥： [https ://developers.google.com/maps/documentation/android/v1/mapkey](https://developers.google.com/maps/documentation/android/v1/mapkey)

> 注意：Google Maps Android API 版本 1 已于 2012 年 12 月 3 日正式弃用。这意味着从 2013 年 3 月 3 日起，您将无法再请求此版本的 API 密钥。**这意味着从 2013 年 3 月 3 日起，**您将**无法再请求此版本的 API 密钥。**

所以，我建议迁移到 V2：

[https://developers.google.com/maps/documentation/android/](https://developers.google.com/maps/documentation/android/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:38:54.167

您无法再获得 V1 密钥，而必须使用 V2。[这是开发人员指南](https://developers.google.com/maps/documentation/android/)。它有一步一步的方法来获取 API 密钥。

# python - 如何在 django 中解决与用户模型的外键关系

> ID：15246317
> 
> 赞同：0
> 
> 时间：2013-03-06T11:36:09.300
> 
> 标签：python, django

考虑继承来创建用户的 django auth 用户模型。

```
class UserProfile(models.Model):
  user = models.OneToOneField(User)

class Domain(models.Model):
  customer = models.ForeignKey(User)

class EmailAccount(models.Model):
  domain = models.ForeignKey(Domain) 
```

我希望为给定的 UserProfile 实例创建超过 1 个用户（用户配置文件是应该只存储一次的客户）；如果创建了另一个用户，他将只能管理特定域，因此可以管理在该域上创建的电子邮件帐户。一旦他登录，他应该无法访问在任何其他域上为同一用户创建的任何电子邮件帐户。我希望使用 django 管理员来做同样的事情。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T13:06:40.210

`Many-to-many`关系允许任何一方的许多人。

```
class UserProfile(models.Model):
    Users = models.ManyToMany(User)

>>> u1 = User(id=1)
>>> u2 = User(id=2)
>>> user_profile = UserProfile()
>>> user_profile.save()
>>> user_profile.users.all()
[]
>>> user_profile.users.add(u1.id, u2.id)
>>> user_profile.save()
>>> user_profile.users.all()
[<User: User object>, <User: User object>] 
```

# javascript - 在 Bootbox 窗口中更改 css

> ID：15246320
> 
> 赞同：10
> 
> 时间：2013-03-06T11:36:18.867
> 
> 标签：javascript, css, twitter-bootstrap

如何在此代码中向“Hello world”添加样式（比如说粗体属性）：

```
bootbox.alert("Hello world!", function() {
   Example.show("Hello world callback");
}); 
```

谢谢

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2014-01-31T14:22:13.427

扩展詹姆斯金的回答：

使用 firebug 的控制台，您可以看到对命令的响应：

```
bootbox.alert('hello world') 
```

是对包含 div 元素的 bootbox 的引用；`Object[div.bootbox]`

因此，只需更改其 css 属性即可在调用它时完全重新定义警报非常容易：

```
bootbox.alert('Danger!!' ).find('.modal-content').css({'background-color': '#f99', 'font-weight' : 'bold', color: '#F00', 'font-size': '2em', 'font-weight' : 'bold'} ); 
```

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2014-04-27T16:53:25.437

让我们总结一下：

**用于样式文本**

直接将 html 添加到您的字符串中：

```
bootbox.alert("<b>Hello world!<b>"); // (thanks BenM)
bootbox.alert("<div class='label'>Hello world!</div>"); // (thanks Adriano) 
```

**用于样式化内置引导箱元素**

使用返回的 jQuery 对象来更改类、css 等：

```
var box = bootbox.alert("Hello world!");
box.find('.modal-content').css({'background-color': '#f99'}); // (thanks Mark B)
box.find(".btn-primary").removeClass("btn-primary").addClass("btn-danger"); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-06T13:19:25.827

最好的办法是使用 firebug 检查弹出窗口，您可以看到构成模态窗口的 HTML，因此您可以为其编写 css。查看他们网站上的示例，这是构成基本示例的 html：

```
<div style="overflow: hidden;" tabindex="-1" class="bootbox modal fade in" aria-hidden="false">
<div class="modal-body">Hello world!</div>
<div class="modal-footer"><a href="javascript:;" class="btn btn-primary" data-handler="0">OK</a></div>
</div> 
```

因此，如果您想更改页脚颜色：

```
.modal-footer {background:#c00;} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-06T13:45:21.370

您可以创建一个不透明度为 0 的空 div：

```
<div id="msgbox"></div> 
```

然后你可以简单地在 js 上使用不透明度更改：

```
 bootbox.alert(x, function() { 
document.getElementById('msgbox').innerHTML = x; document.getElementById('msgbox').style.opacity= '1'; setTimeout(function(){ document.getElementById('msgbox').style.opacity = '0'; }, 2000);  }); 
```

你可以自由地设置 msgbox 的样式，使用位置、颜色，甚至使用一些过渡

```
#msgbox { color: #CC0000; font-weight: bold; text-align: center; transition: all 1s linear; -webkit-transition: all 1s linear; } 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-03-06T11:39:06.360

假设`Example.show();`将此代码放在页面上的某个位置，用 strong 包装元素将起作用：

```
 bootbox.alert("Hello world!", function() {
   Example.show("<strong>Hello world</strong> callback");
 }); 
```

# c - 输入验证分配并显示二维字符数组

> ID：15246326
> 
> 赞同：-1
> 
> 时间：2013-03-06T11:36:35.800
> 
> 标签：c

我正在尝试在 C 中填充一个二维数组。一切正常，但分配给数组的值没有打印出来。

```
#include <stdio.h>
#include <stdlib.h>
#include <ctype.h> 
#include <string.h> 

main()
{
    char parkingspace[25][4];
    char CarReg[7], validreg[7];
    int row, position;

    printf( "Enter the car Registration number \n" );
    fgets( CarReg, sizeof( CarReg ), stdin );
    if( isdigit( CarReg[0] )&& isdigit( CarReg[1] ) && (CarReg[2]=='H' ) && ( CarReg[3]=='I' ) && ( CarReg[4]=='R' ) && ( CarReg[5]=='E' ))
    {
        puts( "Valid Registration \n" );
        printf( "==================================================\n\n\n" );
    }
    else
    {   
        puts( "Invalid registration .\n Please put a value of two digits followed by the word HIRE! in caps" );
    }
    printf( "You entered: %s\n", CarReg );
    if( isdigit( CarReg[0] )&& isdigit( CarReg[1] ) && ( CarReg[2]=='H' ) && (CarReg[3]=='I' ) && ( CarReg[4]=='R' ) && ( CarReg[5]=='E' ))
    {
        strcpy(validreg, CarReg);
        printf( "Accepted Car Reg is : %s\n\n\n\n", validreg );
        printf( "==================================================\n\n\n");
    }
    for (row=1; row<26; row++)
    {
        for (position=1;position<5; position++)
        {
            parkingspace[row][position]=validreg;
            printf("parkingspace \t row[%d] position[%d] =[ %c ]\n", row,position,parkingspace[row][position]);
        }
    }   
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:43:26.487

您遇到的一个问题是数组的索引从零到数组大小减一。所以有效的索引`row`是`0`to ，而`24`不是像你一样。`1``25`

* * *

另一个问题是您尝试将字符数组分配给单个字符：

```
parkingspace[row][position]=validreg; 
```

如果您只想要 in 的前四个字符，`validreg`则`parkingspace[row]`对内部循环执行以下操作：

```
for (position=0; position < 4; position++)
{
    parkingspace[row][position] = validreg[position];
    printf("parkingspace \t row[%d] position[%d] =[ %c ]\n", row, position, parkingspace[row][position]);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:42:17.747

你在第 39 行犯了一个错误

```
parkingspace[row][position]=validreg; 
```

应该

```
parkingspace[row][position]=validreg[position]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T12:24:07.643

```
for (row=1; row<26; row++)
{
    for (position=1;position<5; position++) 
```

这两行应该修改为

```
for (row = 0; row < 24; row ++)
{
   for (position =0; position < 3; poisition++) 
```

这是因为您已声明为 char 停车位[25][4]；数组从索引 '0' 开始直到 (size - 1)

# asp.net - 经典 ASP 中的内存监控/泄漏/问题

> ID：15246329
> 
> 赞同：3
> 
> 时间：2013-03-06T11:36:46.990
> 
> 标签：asp.net, iis, memory-leaks, asp-classic, windows-server-2012

我被要求查看一个已经减速到停止点的服务器。服务器上有数百个经典的 ASP 站点在其上运行，在检查一些代码后，我发现有很多实例正在打开、使用 ADODB.Recordset（以及其他）对象，但从未销毁（设置为 Nothing）。我很感激可能还有其他我还没有发现的问题......

原始代码开发人员拒绝承担任何责任，因为他们表示，在网站初始部署之后，他们多年来一直运行良好。

不幸的是，一天中没有足够的时间来检查所有站点的所有代码。因此，是否有任何可用的应用程序可以监视内存使用、泄漏或任何可能有助于诊断导致服务器停止的原因？

最初这些站点在 Win2003、IIS6 上，但现在已移至 Win2012、IIS8。现在新服务器上也出现了减速，所以我确信这不是硬件故障。

任何建议，将不胜感激。请注意，我也用 ASP.NET 对此进行了标记，因为我很欣赏大多数经典的 ASP 开发人员现在都在使用 .NET，但也许可以从他们的经验中提出一些建议......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T20:08:11.007

在高负载下，所有打开的连接都可能导致问题，但即使在 ASP Classic 中也有一些不错的垃圾收集。当页面完成处理时，保持打开的对象和连接会自动关闭。另请参阅：[https ://stackoverflow.com/a/1613337/25163](https://stackoverflow.com/a/1613337/25163)

我过去曾使用过粗略的[ASP Profiler](http://aspprofiler.sourceforge.net/)来查找我仍然维护的 ASP/VBScript 站点中的特定瓶颈在哪里。我会查看任何加载时间有问题的特定页面的日志，并首先针对这些页面。

如果您还没有相应的程序，我已经在几个项目中使用了[SmarterStats的免费版本。](http://www.smartertools.com/smarterstats/web-analytics-seo-software.aspx)运行 SmarterStats 的服务器需要能够运行 ASP.NET 站点。

如果不对最有问题的领域进行更多调查，任何其他建议都将是在黑暗中开枪。特别是因为真正的问题很可能在等式的数据库端。分析有问题的页面将有助于发现这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:47:36.613

除了进入每个文件并手动将每个 Recodset、Connection、Command 等对象设置为空之外，我认为您无能为力。

几年前我有类似的事情，我唯一的解决方案是上面的。

对不起！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T08:19:30.833

根据我的经验销毁记录集（设置为空）不会影响性能。您需要检查以下内容：

*   数据库连接打开然后不关闭。
*   使用应用程序变量（这些会消耗大量内存）。
*   过度使用会话变量（在一定程度上）。
*   使用 SQL 查询提取不需要的数据或不进行分页更正。
*   过多的文件操作。

# jboss - 中央 JBOSS 服务器和 n 个远程 JBOSS 服务器之间通信的最佳架构

> ID：15246333
> 
> 赞同：0
> 
> 时间：2013-03-06T11:36:51.037
> 
> 标签：jboss

在我们的产品中，我们在数据中心有一个中央服务器，其中所有服务都以 JBOSS 服务器集群模式托管，并且需要在客户场所部署 n 个远程服务器，其中一部分服务托管在 JBOSS 服务器上以进行本地处理。所有远程服务器只需要与中央服务器通信。在远程服务器处理信息后，信息/结果将被发送到中央服务器。我正在考虑为这种架构使用 ESB（JBOSS switchyard 或 Mule ESB）。请让我知道这个部署的正确架构是什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T12:53:23.657

ESB 将是一个不错的选择 a）它将满足安全要求，因为它与外部世界交互（在您的情况下为远程服务器） b）如果需要，提供数据、协议转换 c）您可以编排流程（您想要的顺序调用服务) d) 监控

您也可以考虑使用 Fuse ESB。（Red Hat 购买它比现有的 JBoss ESB 更好）

# jqgrid - TreeGrid如何在标记父级时选中/取消选中所有子级复选框

> ID：15246339
> 
> 赞同：4
> 
> 时间：2013-03-06T11:37:12.160
> 
> 标签：jqgrid, checkbox, treegrid

我在“名称”列中构建了带有嵌入式复选框的 treeGrid，例如 JSON 数据：

```
{"id":"1","name":"<input type='checkbox' class='itmchk' ><strong>ECHANGEUR<\/strong>","level":"0","parent":"null","isLeaf":false,"expanded":true,"loaded":true} 
```

因为这些复选框遵循树边距（我希望我很好理解，因为我是法国人）。

我想在标记/取消标记一行时选中/取消选中子级别复选框，但在阅读了可能的帖子后，我可以获得预期的结果。

例如解释：如果我单击父行复选框（因此它变为 UNCHECKED），子级别行变为 UNCHECKED

我是 jqGrid 的新手，但它是一个很棒的工具，我想学习它的属性。请问你能用这种方式开车吗？或者你能建议我在哪里可以找到我想做的例子吗？我查看了文档但没有成功。

非常感谢JiheL

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-07T07:18:43.460

首先，我建议您不要将 HTML 片段放在 JSON 数据中。可以使用[自定义格式化程序](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3acustom_formatter)在网格单元格中包含复选框：

```
formatter: function (cellvalue) {
    return "<input type='checkbox' class='itmchk' ><strong>" +
        $.jgrid.htmlEncode(cellvalue) + "</strong>";
} 
```

要控制复选框的选中/取消选中，您可以使用`beforeSelectRow`网格回调。jqGrid 将内部`click`事件绑定到网格体。[因此，事件冒泡](http://en.wikipedia.org/wiki/DOM_events#Event_flow)发生的元素上没有直接存在事件处理程序。它允许在一个回调中捕获对**任何复选框的选中/取消选中。**`beforeSelectRow`您`beforeSelectRow`应该首先测试是否单击了您要控制的复选框。

回调`beforeSelectRow`有两个参数：`rowid`和[事件对象](http://api.jquery.com/category/event-object/)。事件对象的属性`target`将是用户单击的 DOM 元素。因为您将自定义`itmchk`类添加到每个此类复选框，所以足以验证单击元素上的类。

下一个问题是，许多与 TreeGrid 一起工作的 jqGrid 方法（如[getNodeChildren](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3atreegrid#methods)）具有`record`作为输入参数，但您只有`rowid`作为替代。jqGrid 将加载的网格项目保存在本地。因此，从中获取的最简单方法`record`是`rowid`使用`getLocalRow`方法。

结果`beforeSelectRow`回调的代码可能如下：

```
beforeSelectRow: function (rowid, e) {
    var $this = $(this),
        isLeafName = $this.jqGrid("getGridParam", "treeReader").leaf_field,
        localIdName = $this.jqGrid("getGridParam", "localReader").id,
        localData,
        state,
        setChechedStateOfChildrenItems = function (children) {
            $.each(children, function () {
                $("#" + this[localIdName] + " input.itmchk").prop("checked", state);
                if (!this[isLeafName]) {
                    setChechedStateOfChildrenItems($this.jqGrid("getNodeChildren", this));
                }
            });
        };
    if (e.target.nodeName === "INPUT" && $(e.target).hasClass("itmchk")) {
        state = $(e.target).prop("checked");
        localData = $this.jqGrid("getLocalRow", rowid);
        setChechedStateOfChildrenItems($this.jqGrid("getNodeChildren", localData), state);
    }
} 
```

重要的是要提到子复选框将仅在以前加载的项目上被选中/取消选中。因为您一次加载网格的数据并使用`loaded: true`属性，所以这对您来说不是问题。

对应的[demo](http://www.ok-soft-gmbh.com/jqGrid/user2132268_.htm)表明上面的代码确实有效。这是对我通过回答您之前的问题创建的演示的修改。

# javascript - 验证 - 更改无效元素父级的背景颜色

> ID：15246341
> 
> 赞同：1
> 
> 时间：2013-03-06T11:37:27.373
> 
> 标签：javascript, asp.net, validation

我正在使用 asp.net 的内置验证来设置必填字段，但不仅仅是显示一条消息，我还想更改无效元素的父 div 的背景颜色。

我想我可能需要使用该`ClientValidationFunction`选项，但我似乎无法让它工作。

这是我到目前为止所拥有的...

```
<asp:TextBox runat="server" ID="myOption" />
<asp:RequiredFieldValidator runat="server" 
     ID="myOption_req" 
     ClientValidationFunction="validateMe" 
     EnableClientScript="true" 
     ControlToValidate="myOption" 
     Text="*" 
     ErrorMessage="Please fill in all required fields" /> 
```

使用以下 javascript：

```
function validateMe(){        
    alert("Hello World");      
} 
```

我什至无法显示警报，因此无法继续让父元素更改背景颜色。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:02:08.807

尝试这个，

## javascript

```
function validateMe(sender, arguments)
{
  if (arguments.Value == "hello world")
     arguments.IsValid = true;
  else
     arguments.IsValid = false;
} 
```

## 您的`aspx`

```
<asp:CustomValidator color="Red" runat="server" ID="myOption_req" 
    ClientValidationFunction="validateMe" 
    EnableClientScript="true" 
    ControlToValidate="myOption" ValidateEmptyText="true"
    Text="*" 
    ErrorMessage="Please fill in all required fields" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:51:39.743

`ClientValidationFunction`不是 的属性`RequiredFieldValidator`。

如果要执行一些 javascript，请改用 a `CustomValidator`，如下所示：

```
<asp:CustomValidator color="Red" runat="server" ID="myOption_req" 
    ClientValidationFunction="validateMe" 
    EnableClientScript="true" 
    ControlToValidate="myOption" ValidateEmptyText="true"
    Text="*" 
    ErrorMessage="Please fill in all required fields" /> 
```

不要忘记添加`ValidateEmptyText="true"`属性，否则如果文本框为空，将跳过验证。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:39:03.003

在您的验证控件中设置 color="Red"

并改变`ClientValidationFunction="javascript:validateMe();"` 而不是`ClientValidationFunction="validateMe"`

```
<asp:RequiredFieldValidator color="Red" runat="server" 
         ID="myOption_req" 
         ClientValidationFunction="javascript:validateMe();" 
         EnableClientScript="true" 
         ControlToValidate="myOption" 
         Text="*" 
         ErrorMessage="Please fill in all required fields" /> 
```

# java - 为什么我要在 java 中使用静态初始化块？

> ID：15246343
> 
> 赞同：6
> 
> 时间：2013-03-06T11:37:38.760
> 
> 标签：java, static

当我可以通过构造函数初始化静态成员时，为什么要使用静态初始化块？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T11:44:23.143

首先，你可能永远不会有你的类的任何实例。或者，您可能希望在拥有该类的任何实例*之前初始化静态成员。*

其次，从构造函数初始化静态成员需要更多的工作：

*   您需要确保每个构造函数都这样做；
*   您需要维护一个标志来跟踪静态成员是否已被初始化；
*   您必须考虑同步以防止竞争条件；
*   您可能必须考虑同步的性能影响，特别是如果您有许多线程创建您的类的许多实例。

*最后，从概念上讲*，这通常是错误的（我说“通常”是因为延迟初始化有合法用途）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:44:29.897

静态成员不与类的任何实例相关联，而构造函数创建实例。您可以在没有类的单个实例的情况下使用静态成员，它们仍然必须被初始化。在这种情况下，构造函数无法完成这项工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:46:37.320

所以为什么：

```
static Set<String> digits = new HashSet<String>();
static {
    Collections.add(digits, "unu", "du", "tri", "kvar", "kvin");
    digits.add("ses");
    digits.add("sep");
    digits.add("ok");
} 
```

如果以下可能：

```
static Set<String> digits = new HashSet<String>() {{
    Collections.add(this, "unu", "du", "tri", "kvar", "kvin");
    add("ses");
    add("sep");
    add("ok");
}}; 
```

1.  它引入了一个新的匿名类，jar 中的一个文件；不是那么理想。
2.  第二种形式是一个令人讨厌的游戏。

# c# - 试图将 {MyDocuments} 放入 Settings.settings

> ID：15246344
> 
> 赞同：1
> 
> 时间：2013-03-06T11:37:39.633
> 
> 标签：c#, winforms, c#-4.0

当我的程序第一次启动并想要使用我的文档时，我正在尝试为它设置一个默认文件夹。我存储用户想要使用的文件夹的方式是在 Settings.settings 文件中。

我遇到的问题是我不知道如何找出用户的 My Documents 文件夹并将其放在 Settings.settings 表中，使其成为默认值。

我尝试了**{MyDocuments}**的一些变体，但无济于事。

有谁知道如何做到这一点？

**编辑**

嘿伙计们，感谢您的快速响应，问题是我想把它放到 Settings.settings 中，这是检查程序是否第一次使用 bool 或其他东西运行然后换掉的唯一方法我的 Settings.settings 行的值与您在下面给出的代码？

有没有办法直接把它放到 settings.settings 表中？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:42:08.887

这给出了他们文件夹的路径`MyDocuments`：

```
Environment.GetFolderPath(Environment.SpecialFolder.MyDocuments) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:42:21.083

要找出用户我的文档文件夹，请使用：

```
Environment.GetFolderPath(Environment.SpecialFolder.UserProfile); 
```

*更新*

你可以在你的**代码**中使用这个：

```
string applicationPath = Settings.Default.UserPath;
if (string.IsNullOrEmpty(applicationPath ))
{
   applicationPath = Environment.GetFolderPath(Environment.SpecialFolder.UserProfile);
} 
```

这个想法很清楚 - 你检查它`Settings`是否不正常，你用你需要的值初始化它。

# xpages - 在 xpage 中使用对话框而不使用 extlib 或 dojo

> ID：15246350
> 
> 赞同：0
> 
> 时间：2013-03-06T11:37:59.767
> 
> 标签：xpages

我是 xpages 的新手，正在尝试让表单显示在对话框中

这需要在编写新表单并从视图中打开一个表单时起作用

我的表单/对话框的自定义控件中有以下代码

```
<xp:view xmlns:xp="http://www.ibm.com/xsp/core">
<xp:this.data>
    <xp:dominoDocument var="document1" formName="fa_alert"></xp:dominoDocument>
</xp:this.data>
<xp:panel styleClass="lotusOverlay"></xp:panel>
<xp:panel styleClass="lotusDialogWrapper" id="dialog">
    <xp:panel styleClass="lotusDialogBorder">
        <xp:form styleClass="lotusDialog lotusForm2">
            <h2>
                <xp:link value="javascript:;" styleClass="lotusBtnImg lotusClose" title="close dialog">
                    <span class="lotusAltText">X</span>
                </xp:link>
                Service Outage
            </h2>
            <xp:panel styleClass="lotusDialogContent">
                <xp:panel styleClass="lotusFormBody">
                    <xp:panel styleClass="lotusFormField">
                        <label for="title">
                            <span class="lotusFormRequired">*</span>
                            Title:
                        </label>
                        <xp:panel>
                            <xp:inputText styleClass="lotusText" id="title" value="#{document1.fd_AlertSummary}"></xp:inputText>
                        </xp:panel>
                    </xp:panel>
                    <xp:panel styleClass="lotusFormField">
                        <label for="description">
                            <span class="lotusFormRequired">*</span>
                            Description:
                        </label>
                        <xp:panel>
                            <xp:inputTextarea styleClass="lotusText" id="description" rows="10" cols="20" value="#{document1.fd_AlertDescription}"></xp:inputTextarea>
                        </xp:panel>
                    </xp:panel>
                    <xp:panel styleClass="lotusFormField">
                        <label for="sites">
                            <span class="lotusFormRequired">*</span>
                            Site(s) Affected:
                        </label>
                        <xp:panel>
                            <xp:checkBoxGroup styleClass="lotusCheckbox" id="sites" value="#{document1.fd_kw_Sites}" layout="pageDirection"
                                style="width:200px">
                                <xp:selectItems>
                                    <xp:this.value><![CDATA[#{javascript:@DbColumn("","KeywordLookup",3)}]]></xp:this.value>
                                </xp:selectItems>
                            </xp:checkBoxGroup>
                        </xp:panel>
                    </xp:panel>
                    <xp:panel styleClass="lotusFormField">
                        <label for="outagedate">
                            <span class="lotusFormRequired">*</span>
                            Outage Date:
                        </label>
                        <xp:panel>
                            <xp:inputText styleClass="" id="outagedate" value="#{document1.fd_dt_DOS}">
                                <xp:dateTimeHelper id="dateTimeHelper1"></xp:dateTimeHelper>
                                <xp:this.converter>
                                    <xp:convertDateTime type="date" dateStyle="short"></xp:convertDateTime>
                                </xp:this.converter>
                            </xp:inputText>
                        </xp:panel>
                    </xp:panel>
                </xp:panel>
            </xp:panel>
            <xp:panel styleClass="lotusDialogFooter">
                <xp:button value="Edit" id="button1">
                    <xp:eventHandler event="onclick" submit="true" refreshMode="complete">
                        <xp:this.action>
                            <xp:changeDocumentMode mode="edit"></xp:changeDocumentMode>
                        </xp:this.action>
                    </xp:eventHandler>
                </xp:button>
                <xp:button value="Save" id="button2">
                    <xp:eventHandler event="onclick" submit="true" refreshMode="complete">
                        <xp:this.action>
                            <xp:actionGroup>
                                <xp:saveDocument></xp:saveDocument>
                                <xp:openPage name="/Home.xsp"></xp:openPage>
                            </xp:actionGroup>
                        </xp:this.action>
                    </xp:eventHandler>
                </xp:button>
                <xp:button value="Cancel" id="button3">
                    <xp:eventHandler event="onclick" submit="true" refreshMode="complete">
                        <xp:this.action>
                            <xp:openPage name="/Home.xsp"></xp:openPage>
                        </xp:this.action>
                    </xp:eventHandler>
                </xp:button>
            </xp:panel>
        </xp:form>
    </xp:panel>
</xp:panel> 
```

但是当尝试创建一个新表单或打开一个现有表单时，只会出现一个空白页面？

如果我签入 Firefox，我的代码就在那里，但什么也没有显示！！

有人可以帮助像我这样的新手了解我做错了什么吗？

我最初关注的是 oneuiv2.1 文档，而现在我遵循了社区中其他人的建议，并使用了 dojo dijit.dialog 来代替它，尽管它会引发错误

> 更新部分页面时出错。尝试使用 id==view:_id1:_id47:_id49:dialog 注册小部件，但该 id 已注册

我假设这意味着我已经在其他地方引用了对话框 ID，现在只需要找到它......或者我误解了错误！因为我昨天做了很多改变，试图让事情正常进行……也许是时候回溯一下我的步骤了！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T13:18:29.053

您无需添加自己的`xp:form`标签。XPages 会为您做到这一点（除非您设置`createForm`为`xp:view`false）。所以尝试删除它，看看是否有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T13:22:58.950

虽然我没有验证它我猜类lotusDialog***有一个显示：无。请在您的浏览器中使用 Web Developer、Firebug 或 Developer Tools 进行检查。如果是这样，则尽管源可用，但不会显示任何内容。您必须在 onClientLoad Client JS 事件中使用 javascript 切换元素，例如

document.getElementById('#{id:dialog}').style.display = "block"

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-03-08T11:58:06.090

需要更多阅读文档

# android - Android AT 命令 - 连接问题

> ID：15246351
> 
> 赞同：3
> 
> 时间：2013-03-06T11:38:13.123
> 
> 标签：android, networking, radio, at-command

我的设备是带 3G 的华硕变压器。我发送 AT 命令来`/dev/ttyACM0`打开数据连接。

在 logcat 中，我看到提供商给了我 IP、DNS 和默认网关地址。然后我打开网络接口 rmnet0 并分配 ip 地址和 gw。

然后我运行`ping`，但没有收到来自默认 gw 或`8.8.8.8`.

建立数据连接我还需要做什么？

> 我的 AT 命令：

```
>AT+CGACT=0,1    
>AT+XDATACHANNEL=1,1,"/USBHSI/0","/USBHSI/1",0    
>AT+CGDCONT=1,"IP","internet.beeline.ru"    
>AT+CGQREQ=1    
>AT+CGQMIN=1    
>AT+XGAUTH=1,1,"beeline","beeline"    
>AT+XDNS=1,1    
>AT+CGACT=1,1    
>AT+CGDCONT?    
>AT+XDNS?    
>AT+CGDATA="M-RAW_IP",1    
>AT+CGACT?    
>AT+COPS=3,0;+COPS? 
```

当我在操作后执行“ip a”时**，**我得到：

> rmnet0：mtu 1500 qdisc pfifo_fast 状态未知 qlen 1000
> 链接/以太网 22:a1:04:21:c7:a8 brd ff:ff:ff:ff:ff:ff
> **inet 10.227.30.109/30 brd 10.227.30.111**范围全局 rmnet0
> inet6 fe80::20a1:4ff:fe21:c7a8/64 范围链接
> valid_lft forever preferred_lft forever

当我通过java android打开数据连接后执行“ip a”时，我得到：

> rmnet0：mtu 1500 qdisc pfifo_fast 状态未知 qlen 1000
> 链接/以太 22:a1:04:21:c7:a8 brd ff:ff:ff:ff:ff:ff
> **inet 10.195.176.206 对等 10.195.176.205/30 brd 10.195.176.207** scope global rmnet0
> inet6 fe80::20a1:4ff:fe21:c7a8/64 scope link
> valid_lft forever preferred_lft forever

**同行**是什么意思？？

# jquery - 将鼠标悬停在 div 上时显示 jQuery 工具提示

> ID：15246352
> 
> 赞同：3
> 
> 时间：2013-03-06T11:38:13.860
> 
> 标签：jquery, html, jquery-tools, jquery-tooltip

当我将鼠标悬停在 div 上时，我正在努力让工具提示起作用。这是 HTML 标记：

```
<div class="booking_step_wrap">
    <h4>Email</h4>
    <div class="booking_step" title="hello"><i class="icon-laptop"></i></div>
 </div> 
```

对于 jQuery，我有：

```
jQuery(function() {
  jQuery(".booking_step [title]").tooltip();
}); 
```

和 CSS（取自 jQuery 工具网站）：

```
.tooltip {
display:none;
background:black;
font-size:12px;
height:70px;
width:160px;
padding:25px;
color:#eee; 
```

}

目前，当我将鼠标悬停在该 div 上时，什么也没有发生，我不明白为什么。 [这](http://www.thedistractionsband.co.uk)是有问题的网站。有问题的 div 位于联系人部分的底部（第一个圆圈中带有笔记本电脑图标）。任何的建议都受欢迎。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T11:41:30.573

因为你有错别字。

尝试在类和属性检查之间没有空格

```
$(function() {
  jQuery(".booking_step[title]").tooltip();
}); 
```

或者干脆

```
$(function() {
    $( document ).tooltip();
}); 
```

`**[DEMO](http://jsfiddle.net/UQTY2/29)**`

# time - 计算算法生命周期取决于用户输入的时间复杂度

> ID：15246356
> 
> 赞同：1
> 
> 时间：2013-03-06T11:38:36.653
> 
> 标签：time

我们可以计算一个算法的时间复杂度，它的生命取决于用户输入吗？（即 while 循环一直持续到用户键入 10）。

抱歉，如果我的问题不合理。我是时间复杂度的新手

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:45:51.500

不，您无法找到此类程序的时间复杂度。如果您正在等待用户输入以终止程序，则时间要求可能是零到无穷大之间的任何值。这里程序在每次执行时终止所花费的时间也不同。此外，您不应该将您的程序与概率算法混淆。概率算法是完全不同的一类问题。

# php - 将字符串转换为关联数组拆分多个字符

> ID：15246357
> 
> 赞同：0
> 
> 时间：2013-03-06T11:38:38.717
> 
> 标签：php, arrays

我有以下可能格式的字符串：

`"John|Smith,Bob,Bill|Smith`“ ETC。

因此，这些是逗号分隔的对，它们本身由一个 | 分隔。

每个部分（用逗号分隔）可以有 1 或 2 个部分，由 | 分隔。

我想要将其转换为关联数组的最佳方法，例如：

```
array(
   array(
       'firstname' => "Bill"
       'lastname' => "Smith"
   ),
   array(
       'firstname' => "Bob"
   ),
   array(
       'firstname' => "Bill"
       'lastname' => "Smith"
   ),
) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:46:48.740

尝试这个 ：

```
$test = "John|Smith,Bob,Bill|Smith";

$i=0;
$res = array();
foreach(explode(",",$test) as $val){
    $vl   = explode("|",$val);
    $res[$i]['firstname']  = $vl[0];
    if(isset($vl[1])){
       $res[$i]['lastname']  = $vl[0];
    }
    $i++;
}

echo "<pre>";
print_r($res); 
```

输出 ：

```
Array
(
    [0] => Array
        (
            [firstname] => John
            [lastname] => John
        )

    [1] => Array
        (
            [firstname] => Bob
        )

    [2] => Array
        (
            [firstname] => Bill
            [lastname] => Bill
        )

) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:03:10.903

你可以这样做：

```
$values = "John|Smith,Bob,Bill|Smith";

$result = array_map(function($elem) {
    $parts = explode('|', $elem);

    $output = array('firstname' => $parts[0]);

    if (isset($parts[1]))
    {
        $output['lastname'] = $parts[1];
    }

    return $output;

}, explode(',', $values));

var_dump($result); 
```

输出为：

```
array
  0 => 
    array
      'firstname' => string 'John' (length=4)
      'lastname' => string 'Smith' (length=5)
  1 => 
    array
      'firstname' => string 'Bob' (length=3)
  2 => 
    array
      'firstname' => string 'Bill' (length=4)
      'lastname' => string 'Smith' (length=5) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:47:46.903

见这里：[http ://codepad.org/bQMTkWP9](http://codepad.org/bQMTkWP9)

```
<?php

$sInput = "John|Smith,Bob,Bill|Smith";

$aFirstExpl = explode(",",$sInput);
$aOutcome = array();
$i = 0;
foreach($aFirstExpl as $sPair){
    $aSecExplode = explode("|",$sPair);
    $aOutcome[$i]['first'] = $aSecExplode[0];
    if(isset( $aSecExplode[1])){$aOutcome[$i]['last'] =  $aSecExplode[1];}
$i++;
}
print_r($aOutcome);

?> 
```

请注意，这假设始终至少有一个名字。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T11:54:27.417

```
$result = array();
$input = "John|Smith,Bob,Bill|Smith";

foreach (explode(',', $input) as $data) {
    if (false !== strpos($data, '|')) {
        list($firstname, $lastname) = explode('|', $data, 2);
        $result[] = array(
            'firstname' => $firstname,
            'lastname' => $lastname,
        );
    } else {
        $result[] = array(
            'firstname' => $data,
        );
    }
}

print_r($result); 
```

输出

```
Array
(
    [0] => Array
        (
            [firstname] => John
            [lastname] => Smith
        )

    [1] => Array
        (
            [firstname] => Bob
        )

    [2] => Array
        (
            [firstname] => Bill
            [lastname] => Smith
        )

) 
```

# oracle11g - 如何从 Oracle 大表中删除多行？

> ID：15246358
> 
> 赞同：-1
> 
> 时间：2013-03-06T11:38:46.983
> 
> 标签：oracle11g, delete-row, multiple-records

我们有一个大约 3.8 亿条记录的大表。我们需要删除前 2.5 亿条早于 2013 年 1 月 1 日的记录。我搜索了一些方法，但并不满意。常见且最快的方式如下所示：

```
create table newbig_table unrecoverable as
select * from oldhuge_table
where <condition is reverse of delete condition> 
```

最后将新表重命名为原始名称，但新的记录会不断插入吗？

主要问题是；此表是一个**在线**表并被许多代理使用。所以我需要通过不减慢系统速度和不影响新记录来删除。我自己试过这个方法：

```
using (SqlConnection connData = new SqlConnection("Data Source=xxx;User ID=xxx;password=xxx;Initial Catalog=xxx"))
            {
                connData.Open();
                int cnt = 0;
                long total = 0;
                long startID = 1039142601;
                long endID = 1385795368;
                long recCount = endID  - startID;
                cnt++;
                long delRange = 400; //deletes 400 by 400

                for (long i = 1; i < endID; i++)
                {                        
                    startTime = DateTime.Now;

                    string deleteSql = "delete from DivaSessionFlowLog  " +
                                    " where ID >= " + startID.ToString() +
                                    " and ID <= " + (startID + delRange).ToString();

                    int strID = (int)((new SqlCommand(deleteSql, connData)).ExecuteNonQuery());
                    total = total + strID;
                    Console.WriteLine(i.ToString() + ":" + strID.ToString() + " OK DelCnt:" + total.ToString() + " ID:" + startID.ToString() + " Rest:" + String.Format("{0:#,#}", (recCount - total)) + " Time:" + DateTime.Now.ToString("HH':'mm':'ss"));

                    Thread.Sleep(200);
                    startID = startID + delRange;
                    i = startID;
                } 
```

为了不减慢系统程序休眠 200 毫秒。但是，我计算了大约**2 周**的完成时间。总之，我需要找到；

*   快速地
*   不会减慢数据库速度
*   不会持续影响新插入的记录

从大表中删除多行的方法。有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:49:38.667

最好的方法是对表进行分区，以便可以删除较旧的分区。

但是，如果您需要修改表，并且不要忘记该表可能具有特权、索引、触发器等，并且您需要在整个过程中保持它可用，那么您需要使用 DBMS_Redefinition。

此外，UNRECOVERABLE 是旧语法，但您不会想要现代的等效语法，因为如果系统上出现媒体故障，您将丢失表和数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T05:53:13.173

从 400更改`delRange`为 40000 或 400000。

根据我的计算，您的流程将花费 5.015 天`Thread.Sleep(200)`。并且还有额外的时间用于网络、写入控制台等。以块的形式修改数据并不总是可以避免的，但您至少应该尝试使用更大的块。

正如其他人所提到的，分区可能非常有用。但是分区有很多缺点，如果这是一个罕见的过程，那么用简单的方法来做可能是值得的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T21:27:32.870

按日期对表进行分区在这里会有很大帮助。删除特定分区的内容比逐行删除要快得多。

看看[http://www.oracle-base.com/articles/misc/partitioning-an-existing-table.php](http://www.oracle-base.com/articles/misc/partitioning-an-existing-table.php)；这描述了如何从非分区表移动到分区表。

# php - 求解锦标赛奖金的数学方程

> ID：15246360
> 
> 赞同：-1
> 
> 时间：2013-03-06T11:38:49.167
> 
> 标签：php, math, equation

这就是我要找的东西。要购买锦标赛，用户必须支付买入费，例如 10 美元。如果用户赢得第一轮比赛，他们将进入第二轮。然后他们可以从比赛中买断（20 美元），或者再次参加比赛。如果他们赢了，他们将获得 40 美元。他们可以按照这种模式进行一定数量的回合。他们可以买断或继续玩。

我一生都无法弄清楚在 php 中使用的等式，以根据买入和当前回合获得玩家当前的奖金。请帮忙！

我认为这就像买*轮一样简单，但显然它比那更详细一点。

第 1 轮 - 10 美元 第 2 轮 - 20 美元 第 3 轮 - 40 美元 第 4 轮 - 80 美元

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:47:03.157

设 $10 为 BaseAmount

公式是 BaseAmount * (2 power roundno-1)

第 1 轮 = 10 美元 * (2 次方 0) = 10 美元 * 1 = 10 美元

第 2 轮 = 10 美元 * (2 次方 1) = 10 美元 * 2 = 20 美元

第 3 轮 = 10 美元 * (2 次方 2) = 10 美元 * 4 = 40 美元

# android - ViewPager 中的片段被重新创建

> ID：15246367
> 
> 赞同：6
> 
> 时间：2013-03-06T11:39:10.483
> 
> 标签：android, android-fragments, android-viewpager, fragment

我有一个`FragmentActivity`with 容器，我把`Fragment`with放在那里`ViewPager`。在`ViewPager`我有 3`Fragment`秒：

```
[MainActivity]
    [ViewPagerFragment]
        [Fragment1][Fragment2][Fragment3] 
```

当用户单击`Fragment1`//上的按钮`Fragment2`时`Fragment3`，我将其替换为`ViewPagerFragment`，`OtherFragment`因此层次结构如下所示：

```
[MainActivity]
    [OtherFragment] 
```

当我点击`Back`按钮时，`ViewPagerFragment`会重新创建，以及它的嵌套`Fragment`s ( `Fragment1`/ `Fragment2`/ `Fragment3`)。

有没有办法保存状态`ViewPagerFragment`及其嵌套片段？这样片段将保持其状态而不被重新创建？

我已经设置`setRetainInstance(true)`了`ViewPagerFragment`，但是好像没有生效。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-08-30T20:38:33.840

只需设置：- 其中参数是 ViewPager 中的片段数

> mViewPager.setOffscreenPageLimit(3);

ViewPager 非常热衷于关闭它当前不使用的东西，而这正是这里发生的事情。ViewPager 的默认行为是“保留”正在查看的页面两侧的一个页面，并销毁其余页面。因此在您的3页视图中，在选择第1页时会被销毁，然后重新选择Page 2时，重新选择Page 2。正如您所注意到的，第 2 页只调用了一次 onCreate(..)，因为它始终与当前选定的页面相邻，或者说是当前选定的页面。

要解决这个问题，只需设置 ViewPager.setOffscreenPageLimit(2)。然后 ViewPager 将保留您的所有片段。显然，这对于大量 Fragment 来说不是一个好主意，但对于您的情况应该没问题。

# asp.net - 如何在使用 VB.NET 的 Web DataGrid 中每次使用后清除 HTML 表？

> ID：15246371
> 
> 赞同：1
> 
> 时间：2013-03-06T11:39:20.757
> 
> 标签：asp.net, vb.net, datagrid

我想使用下面的代码在表中显示查询结果。

我的问题是在第`DataGrid`2 行显示了第 1 行和第 2 行的查询结果。同样在第 3 行显示第 2 行和第 3 行的结果，依此类推。

有人能告诉我如何在 DataGrid 的第 2 行中仅显示第 2 行的查询等吗？

有没有办法在一行被填满后清除表格？

```
For Each d In DataGrid1.Items
   htbl = d.FindControl("Table1") 
   sql = "select username, count(*) as cnt from elexa where  r_id='" & d.Cells.Item(0).Text & "'  group by username order by cnt desc"
   cmd = New SqlCommand(sql, conn)
   adp=new SqlDataAdapter(cmd)
   adp.Fill(ds,"elexa")
   tbl = ds.Tables("elexa")
   tbl = ds.Tables("elexa")
   cnt = tbl.Rows.Count

   For i = 0 To cnt - 3

    Dim hRw As New HtmlTableRow
    Dim hRw2 As New HtmlTableRow

    For j = 0 To 2
      Dim hCll As New HtmlTableCell
      Dim hcll2 As New HtmlTableCell
      hCll.InnerHtml ="<font size=2>" & ds.Tables("elexa").Rows(i).Item("username") & "</font>"
      hRw.Controls.Add(hCll)
      i = i + 1
      hCll = New HtmlTableCell 
    Next j

 htbl.Controls.Add(hRw)
 hRw2.BgColor =  "silver"        
 hRw2.Height = "1px"

 Next

Next d 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T14:08:25.840

我认为先前选择的结果保留在数据集中`ds`。因此，第一个选择得到一个结果，第二个得到两个结果，第三个得到三个结果，依此类推。

您可以将 id 附加到表名`"elexa" + d.Cells.Item(0).Text`或为每个请求创建一个新数据集。

所以你可以改变

```
adp.Fill(ds,"elexa")
tbl = ds.Tables("elexa")
tbl = ds.Tables("elexa") 
```

至

```
apd.Fill(ds, "elexa" + d.Cells.Item(0).Text)
tbl = ds.Tables("elexa" + d.Cells.Item(0).Text) 
```

像这样，您为每一行创建一个新表，而不必以某种方式清除它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T06:40:03.397

我通过在每一行之后创建一个新数据集来获得所需的结果

# android - 更改按钮上的文本方向

> ID：15246373
> 
> 赞同：1
> 
> 时间：2013-03-06T11:39:24.460
> 
> 标签：android, orientation

我将如何更改按钮中文本的方向，以便它们垂直而不是水平书写？

```
<Button
    android:id="@+id/button1"
    android:layout_width="wrap_content"
    android:layout_height="fill_parent"
    android:layout_weight="0.10"
    android:text="Previous" /> 
```

是否可以？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-06T11:52:26.100

这是设置宽度为12dp后的截图

![在此处输入图像描述](../Images/c020e6e7327113162ee0966320efdebd.png)

试试这个

`\n`在你的字符串中放置字符以换行，`Strings.xml` 就像这样

```
1\n 2\n 3\n 
```

你可以直接这样设置

```
android:text="@String/yourstring" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T11:49:15.563

尝试并测试了这个，它工作得非常好。

```
 public class buttonCustom extends Button{
String s="";

public buttonCustom(Context context) {
    super(context);
}

public buttonCustom(Context context, AttributeSet attrs, int defStyle) {
    super(context, attrs, defStyle);
    // TODO Auto-generated constructor stub
}

public buttonCustom(Context context, AttributeSet attrs) {
    super(context, attrs);
    // TODO Auto-generated constructor stub
}

@Override
public void setText(CharSequence text, BufferType type) {
    // TODO Auto-generated method stub

    // TODO Auto-generated method stub

    for(int i=0;i<text.length();i++)
    {
        if(s==null)
            s="";

        s= s+String.valueOf(text.charAt(i))+ "\n";
    }

    super.setText(s, type);
} 
```

}

覆盖按钮类并覆盖 setText 函数

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T12:28:59.080

我自己修好了。我创建了一个名为 layout-land 的单独文件夹，并在其中放置了一个单独的 XML 文件来处理它。现在布局看起来都很好，我可以对属性使用硬编码的权重。

# html - 访问相应链接时无法打开 PDF 文件

> ID：15246374
> 
> 赞同：1
> 
> 时间：2013-03-06T11:39:26.170
> 
> 标签：html, pdf, hyperlink, local-files

我有以下代码，它显示所有 PDF 文件的列表，单击时会打开相应的文件。这段代码直到上周都能正常工作，但现在不行。我找不到错误。

```
<html>
<head>
    <title> Unit 3, ADS</title>
</head>
<body>
    <h1> ADS unit 3- Binomial Queues</h1>
    <ul>
        <li> <a href="G:\sravan\3-1\theory\ads\unit 3\pdf\intro.pdf" > Introduction </a> </li>
        <li><a href="G:\sravan\3-1\theory\ads\unit 3\pdf\61.pdf"> Binary Heaps </a></li>
        <ul>
            <li><a href="G:\sravan\3-1\theory\ads\unit 3\pdf\611.pdf"  > Implementation of Insert and Delete min </a></li>
            <li><a href="G:\sravan\3-1\theory\ads\unit 3\pdf\612.pdf"  > Creating Heap. </a></li>
        </ul>
        <li><a href="G:\sravan\3-1\theory\ads\unit 3\pdf\62.pdf"  > Binomial Queues </a></li>
        <ul>
            <li><a href="G:\sravan\3-1\theory\ads\unit 3\pdf\621.pdf"  > Binomial Queue Operations </a></li>
            <li><a href="G:\sravan\3-1\theory\ads\unit 3\pdf\622.pdf"  > Binomial Amortized Analysis</a></li>
            <li><a href="G:\sravan\3-1\theory\ads\unit 3\pdf\623.pdf"  > Lazy BinomialQueues</a></li>
        </ul>

        <li><a href="G:\sravan\3-1\theory\ads\unit 3\pdf\64.pdf"  > Problems</a></li>
    </ul>
</body> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:48:44.400

尝试在链接前面添加 file:/// 并将所有 \ 更改为 /

这适用于 Internet Explorer，但 Firefox 和其他默认情况下不允许这样做，因为它存在安全风险，不推荐使用。

[更改 Firefox 的安全设置以允许本地链接](http://kb.mozillazine.org/Links_to_local_pages_don%27t_work)

# php - 表中数组的组合

> ID：15246375
> 
> 赞同：3
> 
> 时间：2013-03-06T11:39:28.437
> 
> 标签：php, arrays, combinations

我有一个包含 10 个数字的数组。我想要可用的 10 个数字中的所有三个数字的组合。但是，顺序无关紧要。也就是说，我不希望以不同的顺序组合相同的数字（在生成 1、2、3 之后，不应该出现 2、3、1）。此外，数字不应在组合中重复（即没有 1、1、1）。我知道如何使用 foreach 创建表，但我一直坚持如何生成可能的组合。谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:58:00.100

数字不能重复，那是否意味着1,2,1也不允许？如果是这样，作为第一步删除给定集合中的所有重复数字，正如死锁所暗示的那样。然后使用算法找到组合。许多此类算法都包含在其他用户建议的“重复”问题中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:41:54.377

一个好的方法是使用`array_unique()`从数组中删除重复项。然后，每次你使用一个元素时，你应该使用它来弹出它，`array_pop()`这样它就不会被再次使用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:59:41.707

[在这里](https://stackoverflow.com/a/4280757/215384)借用[user187291](https://stackoverflow.com/users/187291/user187291)的答案，并进行一些修改以满足您的需求，以下应该是您想要的：

```
$a = array(0, 1, 2, 3, 4, 5, 6, 7, 8, 9);

$len  = count($a);
$list = array();

for($i = 1; $i < (1 << $len); $i++) {
    $c = '';
    for($j = 0; $j < $len; $j++)
        if($i & (1 << $j))
            $c .= ',' . $a[$j];
    $list[] = ltrim($c, ',');
}

$answer = array();

foreach ($list as $comb)
{

  if (3 == count(explode(',', $comb)))
  {
    $answer[] = $comb;
  }

}

echo '<pre>' . print_r($answer, true); 
```

# typo3 - 根据页面在子树中的位置包含图像

> ID：15246376
> 
> 赞同：2
> 
> 时间：2013-03-06T11:39:30.790
> 
> 标签：typo3, typoscript

假设我有以下页面树：

```
root
|
|__ tree_a
|  |
|  |_ site_1
|    |
|    |_ site_2
|
|__ tree_b
   |
   |_ site_2
   |_ site_3 
```

对于每个第一级子树（即 、`tree_a`）`tree_b`，应在页面上的固定位置显示不同的图像。我正在使用 TemplaVoila! 进行此操作，但问题更为普遍。

如何在 TypoScript 中根据我在树中的位置有条件地插入图像？

例如，当我打开`site_1`或时`site_2`，我想包含图像`tree_a.png`。并从`site_2`和`site_3`, 图像`tree_b.png`.

我想我必须以某种方式使用 a`HMENU`和`browse`它，但在我目前学习 TypoScript 的阶段（第一天），这超出了我的想象。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:45:34.687

我建议您使用[`KB TV Content Slide`](http://typo3.org/extensions/repository/view/kb_tv_cont_slide)专门用于您需要的扩展程序。

例如，您在某个映射元素中设置图像，`Tree A`并且它在所有子页面上继承，至少在您将其替换为其他元素之前。

# c# - 从 Windows 文件时间转换为日期时间

> ID：15246386
> 
> 赞同：3
> 
> 时间：2013-03-06T11:39:53.767
> 
> 标签：c#, .net, datetime, time

我有一个带有值的时间戳，`634876488000000000`预期的日期是`04th November 2012, 18:00:00`. 但是，当我转换它时，年份`3612`不是`2012`（日期、月份和时间都是正确的）。

这是一个例子：

```
Console.WriteLine(DateTime.FromFileTimeUtc(634876488000000000).ToString());
Console.WriteLine(DateTime.FromFileTime(634876488000000000).ToString()); 
```

和输出：

> 04/11/3612 18:00:00
> 04/11/3612 18:00:00

经过进一步研究，我发现如果我`Get-Date 634876488000000000`在 Powershell 中使用，我会得到正确的预期日期`04 November 2012 18:00:00`。

谁能解释一下如何使用 C# 正确地将时间戳转换为 .NET DateTime 对象？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T11:42:39.963

我的第一个猜测是数字是[DateTime.Ticks](http://msdn.microsoft.com/en-us/library/system.datetime.ticks.aspx)，只是在 Visual Studio 中尝试了以下内容，我得到了。`{04/11/2012 6:00:00 PM}`为了：

```
DateTime dt = DateTime.MinValue.AddTicks(634876488000000000); 
```

或者使用以刻度为参数的[DateTime 构造函数。](http://msdn.microsoft.com/en-us/library/z2xf7zzk.aspx)

```
DateTime dt = new DateTime(634876488000000000); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2018-12-03T17:17:25.507

[API 中定义](https://msdn.microsoft.com/en-us/library/windows/desktop/ms724284%28v=vs.85%29.aspx?f=255&MSPPError=-2147217396)的正确 Windows FILETIME是自 1601 年 1 月 1 日午夜 UTC 以来的滴答数。即，`1601-01-01T00:00:00Z`。这似乎不是你所拥有的。这就是为什么你离开了 1601 年。

您似乎有自 0001 年 1 月 1 日午夜以来的刻度数。这就是所有`Get-Date`正在使用的，这就是 DateTime 的单个整数构造函数所使用的。

```
DateTime ntepoch = new DateTime(1601,1,1,0,0,0,DateTimeKind.Utc); // Ticks is 504911232000000000
Console.WriteLine(DateTime.FromFileTimeUtc(634876488000000000 - ntepoch.Ticks));
Console.WriteLine(DateTime.FromFileTime(634876488000000000 - ntepoch.Ticks));
Console.WriteLine(new DateTime(634876488000000000))); 
```

对我来说，在时区 GMT-5 中，这输出：

```
11/4/2012 6:00:00 PM
11/4/2012 1:00:00 PM
11/4/2012 6:00:00 PM 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:43:44.527

您可以使用 DateTime(long ticks) 构造函数来获取正确的日期：

```
Console.WriteLine((new DateTime(634876488000000000)).ToString()); 
```

# sass - css 和/或 SASS +（兄弟）选择器向上

> ID：15246387
> 
> 赞同：50
> 
> 时间：2013-03-06T11:39:54.517
> 
> 标签：sass

在 CSS 中，如果兄弟在输出中的上方，即 html 中的前一个元素，则无法选择带有加号的兄弟。

例如

```
<div class="first">
<div class="second">

.second + .first { style applied to div.first} 
```

无论如何在 SASS/SCSS 中可以做到这一点？

* * *

## 回答 #1

> 赞同：65
> 
> 时间：2013-03-06T21:08:19.360

SASS 支持所有 CSS3 选择器。兄弟姐妹+就是其中之一。但它并没有带来一些额外的功能。这意味着你可以做到

```
first {
  + second { 
     font-size: smaller;
  }
} 
```

但是你不能用它来影响父母......

Ps : 好像是 CSS4 的一个特性 :)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-19T14:50:39.957

我知道那种感觉，这真的很烦人。我找到了一种快速的方法。

## HTML

```
<div class="mainmenu">
  <div class="subnav">
    <ul>
      <li>Whatever</li>
    </ul>
  </div>
</div> 
```

## SCSS

CSS指向第一个`div "mainmenu"`孩子`> class "subnav"`

```
 .mainmenu{
      & > .subnav{
         // Child Selector SCSS HERE
      }
  } 
```

@thgaskell，你证明我错了 :) 我的代码运行良好，但我丢失了 6KB 的缩小代码！我已将代码更新为以下评论的通知方式。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-11-14T17:25:42.737

可能适合也可能不适合您的需求，但您可以使用 Sass/CSS 中的通用兄弟选择器。这将选择同一节点级别的所有元素（之前没有明确但仍然很方便）：

```
.second {
   .first ~ & {
       /* styles to be applied to .second if a .first exists at the same node level */   
   }
} 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2013-03-20T09:41:54.640

我最终使用了 Jquery。完成工作 :) （抱歉，当我走另一条路线时，我不再有示例代码，但它非常简单，例如“如果孩子有课，则向此添加课”。:)

* * *

## 回答 #5

> 赞同：-6
> 
> 时间：2015-11-05T07:40:42.217

```
div { & + & { margin-left: 15px; background: firebrick;}} 
```

试试它的工作。

# asp.net - ASP.NET WebMethod 参数或会话？

> ID：15246391
> 
> 赞同：1
> 
> 时间：2013-03-06T11:40:26.017
> 
> 标签：asp.net, session, webmethod

我有一个`WebMethod`我用参数从javascript调用的`foo`参数。我也将`foo`值存储在会话中。

我应该使用哪个值？是否有任何关于安全的考虑？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:42:30.653

如果您的会话中已经有 foo 值并且两个值相同，那么最好使用会话值。使用存储在会话中的值。

快乐编码

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:44:26.570

是的，高级用户始终可以编辑客户端代码并更改 html 和 js 函数，如果其他人`Foos`是可预测的，恶意用户可以交换`Foo`js 函数中的值，并使用它来访问/处理受保护的数据。

此外，如果您已经在会话中获得了值，为什么要传递它？

# ssrs-2008 - 组列表中的 SSRS 表达式解释？

> ID：15246392
> 
> 赞同：0
> 
> 时间：2013-03-06T11:40:27.777
> 
> 标签：ssrs-2008, reporting-services

我正在处理 SSRS 报告，我们在该组部分有一份报告，其中一个名为`Long-Only`某个表达式的值如下

`=IIF(CDec(Parameters!NAV.Value) > 1,((SUM(Fields!LongMV.Value) - SUM(IIF(Right(Fields!SecurityType.Value, 4) = "Cash" OR Left(Fields!SecurityType.Value, 8) = "Treasury", Fields!LongMV.Value, 0)))/(Parameters!NAV.Value/1000)) -1,0)`

上面的表达式是计算`LONGVALUE`

我想执行这个函数有什么办法吗（只有这个函数通过放置样本值）？

NAV.Value = 1200 SUM（字段！LongMV.Value）= 49

这是做什么的`(Right(Fields!SecurityType.Value, 4) = "Cash"`？

我是 ssrs 报告的新手，任何人都可以帮助我了解这个表达式。

我们正在使用存储过程进行报告。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:04:56.117

格式化它有点帮助：

```
=IIF
(
  CDec(Parameters!NAV.Value) > 1
  ,
  (
    (
      SUM(Fields!LongMV.Value) -
        SUM
        (
          IIF
          (
            Right(Fields!SecurityType.Value, 4) = "Cash" OR Left(Fields!SecurityType.Value, 8) = "Treasury"
            , Fields!LongMV.Value
            , 0
          )
        )
    ) /(Parameters!NAV.Value/1000)
  ) - 1
  , 0
) 
```

所以在这里我们可以看到，对于每个组，表达式都在计算：

```
If NAV parameter > 1, return 0

Else return group level ((LongMV - Cash Long MV) / NAV parameter / 1000) - 1 
```

在哪里`Cash Long MV`：

`Group level Cash type Long MV + Group level Treasury type Long MV`.

这就是表达式正在计算的内容。我仍然不确定这里的问题是什么 - 只有您可以根据您的数据的含义将上述内容置于任何类型的上下文中。

这是您可以与您的同事进一步讨论的问题吗？

**评论后编辑：**

`Right()`只是一个标准的 SSRS/.NET 函数，它从字符串的右侧返回指定数量的字符。

`Right(Fields!SecurityType.Value, 4) = "Cash"`根据安全类型值中的最后 4 个字符，检查是否应将某些安全类型包括在计算中。例如，这将包括*已结算现金*和*未*结算现金等证券类型。

对于特定值的测试是将这些值返回到存储过程中的数据集，例如，使 LongMV 返回的总和等于您所需的值。

或者您可以将它们硬编码到公式中；这不是一个有明确答案的问题。

# cloud - 如何使 awesomeCloud 可点击

> ID：15246396
> 
> 赞同：0
> 
> 时间：2013-03-06T11:40:36.020
> 
> 标签：cloud, html5-canvas

请看一下这个词云，我只是想让这些词可以链接，所以任何人都可以帮助[http://indyarmy.com/awesomeCloud/](http://indyarmy.com/awesomeCloud/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T17:03:54.723

**在画布上绘制文字云很简单。让它可点击是相当复杂的！**

Canvas 是一种“一劳永逸”的工具。在画布上绘制一个单词后，它就变成了一个单词的*图片*。没有内置功能可以跟踪单词在画布上的位置，更不用说单击特定单词了。

如果您的工具具有灵活性，您可以尝试使用支持单击的工具包。有很多可能性，但我想到了这些：

*画布库：*画布绘图库，如 fabricJS、easelJS、kineticJs、paperJs（这些库可以使您的画布文字可点击和跟踪）。您必须通过移动/旋转您的文字来设计自己的云。

*SVG：* Svg 元素成为 Html DOM 的一部分，因此是可点击的。RaphaelJS 是一个非常好的 Svg 库。您必须通过移动/旋转您的文字来设计自己的云。

*罐头云应用程序：* Tagul ( [http://tagul.com/blog](http://tagul.com/blog) ) 是一个在 Flash 中创建的应用程序，可创建可点击的词云。默认情况下，链接指向谷歌搜索，但您可以自定义每个单词链接以指向您想要的位置。

如果你*真的*想“自己动手”，方法如下：

从 Github 下载 awesomeCloud ( [https://github.com/indyarmy/jQuery.awesomeCloud.plugin](https://github.com/indyarmy/jQuery.awesomeCloud.plugin) )

在绘制每个单词时，您需要像这样跟踪它：

-- 使用 context.measureText(“your word”) 来查找你的单词的宽度。

-- 使用您的单词的宽度和高度创建一个边界框并保存该边界框的位置和大小。

- 使用矩阵变换将您的单词移动和旋转到位并保存该矩阵变换。

让用户点击您的云。

当用户点击您的云时，对您的云中的每个单词进行命中测试。为此，您使用保存的矩阵变换来取消移动和旋转单击的点。然后你遍历每个单词保存的边界框，看看点击的点是否在边界框内。

如果你得到了点击，你就知道用户点击了哪个词！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-11T19:17:50.723

试试这个叉子：

[https://github.com/fguimara/jQuery.awesomeCloud.plugin](https://github.com/fguimara/jQuery.awesomeCloud.plugin)

你必须改变这样的事情：

```
 <span data-weight="18">Google</span> 
```

为了这：

```
<span data-weight="18"><a href="http://google.com">Google</a></span> 
```

# editor - 开发任务时的PHPStorm可见文件

> ID：15246402
> 
> 赞同：0
> 
> 时间：2013-03-06T11:41:19.693
> 
> 标签：editor, phpstorm

每次我必须编辑它时都必须找到一个文件，我已经厌倦了。我发现当我在开发具有具体概念范围的任务时，我总是使用相同的文件......但我必须在项目中的所有文件之间搜索它们，这是我希望节省的重要时间浪费. 例如，我使用 kanbanery 进行任务管理，每个任务都有一个关联的编号，例如 #93859，启动一个只有该任务的关联文件可见的文件树视图会很棒。也许已经有类似的东西了..在那种情况下，我很想知道！或者例如，如果我使用 GIT，那么在我当时所在的分支中快速查看我之前接触过的文件会很棒。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T10:46:40.723

1.  真的不知道它是否会帮助你，但 PHPStorm 有很棒的东西 - 导航 - >文件...输入文件名的一部分 - 并且很高兴。例如，将该查找器映射到 Ctrl+q 以快速访问。
2.  导航菜单中有书签，也许你可以使用它们。
3.  最后是左侧面板中的收藏夹面板做出你的选择！=)

# javascript - Twitter Bootstrap 工具提示不起作用

> ID：15246404
> 
> 赞同：1
> 
> 时间：2013-03-06T11:41:23.617
> 
> 标签：javascript, jquery, twitter-bootstrap

我已经下载了 Twitter Bootstrap 并将 .js 文件包含在页脚中。当您将鼠标悬停在信息图标上时，我希望出现一个工具提示。所以我有这个代码：

```
<img src="<?php bloginfo('template_directory'); ?>/img/png/info.png" rel="tooltip" data-placement="top" title="blah blah blah"> 
```

然后我有这个脚本来启用工具提示：

```
<script type="text/javascript">
jQuery(function () {
    $("[rel='tooltip']").tooltip();
}); 
```

但是工具提示并没有在 Twitter Bootstrap 的示例页面上显示。 [http://twitter.github.com/bootstrap/javascript.html#tooltips](http://twitter.github.com/bootstrap/javascript.html#tooltips)

它以我主题的默认样式出现，但有趣的是，如果我在 WordPress 上下载 Twitter Bootstrap 插件并在插件中启用 Javascript 库 - 它可以工作。但问题是默认 CSS 会覆盖我在网站上的 CSS。

希望我已经说清楚了。

任何答案都非常感谢，因为这已经让我绞尽脑汁两天了。

阿兰

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T11:53:05.477

你应该给这样的东西：

```
<script type="text/javascript">
jQuery(function () {
    $("img[rel='tooltip']").tooltip();
});
</script> 
```

属性选择器应该应用于元素。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:59:03.017

按预期为我工作。你确定你已经包含`jQuery`了 twitters `Tooltip`-plugin（以正确的顺序）吗？

[http://fiddle.jshell.net/xe5UX/2/](http://fiddle.jshell.net/xe5UX/2/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-19T05:17:44.807

@Arran我也有同样的问题，但如果我将'title'更改为'data-original-title'那么它对我有用。尝试使用这个：

```
<img src="<?php bloginfo('template_directory'); ?>/img/png/info.png" rel="tooltip" data-placement="top" data-original-title="blah blah blah"> 
```

# hive - 蜂巢读取地图值

> ID：15246405
> 
> 赞同：4
> 
> 时间：2013-03-06T11:41:23.863
> 
> 标签：hive

这是我已成功加载到表测试并成功获取数据的文件中的数据：

```
Select * from test;

Name    ph        category

Name1    ph1    {"type":1000,"color":200,"shape":610}
Name2    ph2    {"type":2000,"color":200,"shape":150}
Name3    ph3    {"type":3000,"color":700,"shape":167} 
```

但是当我执行这个查询时：

```
select category["type"] from test; 
```

我得到空值；

请帮忙。谢谢赛

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-06-17T14:59:11.897

用这个： `select test.category["type"] from test;`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-02-25T10:12:01.690

您的查询中缺少空检查

`SELECT category["type"] FROM test WHERE category["type"] IS NOT NULL;`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-11-11T20:02:22.280

我知道回答太晚了。。

我遇到了同样的问题，当我为密钥创建地图时，我在密钥之前和之后手动添加了双引号（“），这就是问题所在。因此，如果您的代码中有类似的内容，请将其删除并尝试运行它可能会解决问题。

# sql - SQL，Oracle11g：查找与特定 ID 集匹配的记录

> ID：15246406
> 
> 赞同：2
> 
> 时间：2013-03-06T11:41:26.567
> 
> 标签：sql, oracle, oracle11gr2

请参考[SQL Oracle：如何在列中查找与特定 id 匹配的记录](https://stackoverflow.com/questions/13760753/sql-oracle-how-to-find-records-maching-a-particular-id-in-the-column)

现在我的查询是在类似的行：我的表有以下数据：![在此处输入图像描述](../Images/461248655fa2fbcafa41432d3a3b00c8.png)

现在我想找到将 asso_entity_id 作为 3 个值的组合的记录。例如：- 如果我从我的 jsp 中选择 asso_entities 为 30000、30001 和 80002（以任何顺序），我应该得到上表的第一条记录。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:33:24.197

请检查查询...有点长...将尝试缩短它。

```
with test as  (
  select * from YOURTABLE
)
SELECT distinct DATASETNAME FROM(
  select x.*, COUNT(*) OVER (partition by DATASETNAME ORDER BY DATASETNAME) CNT From(
    select DATASETNAME, regexp_substr (ASSO_ENTITY_ID, '[^|]+', 1, row_number() OVER (partition by DATASETNAME ORDER BY DATASETNAME)) split  
    from test  
    connect by level <= length (regexp_replace (ASSO_ENTITY_ID, '[^|]+'))  + 1
  )x where SPLIT IS NOT NULL
)xx 
  WHERE SPLIT IN ('300000', '300001', '800002') AND
  CNT =3; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T15:10:06.437

techdo 示例的简化版本：

这是测试表结构：

```
ID  DATASET_NAME    DATASET_VAL
------------------------------------------
1   DATASET1        3000 | 30001 | 80002
2   DATASET1        3000 | 80002
3   DATASET1        3000 | 80002

SELECT LISTAGG(str, ' | ') WITHIN GROUP (ORDER BY str) asso_ety_id
  FROM
  (
   SELECT DISTINCT id, dataset_name
        , TRIM(REGEXP_SUBSTR (dataset_val, '[^|]+', 1, LEVEL)) str  
    FROM your_tab 
   CONNECT BY LEVEL <= LENGTH(REGEXP_REPLACE(dataset_val, '[^|]+'))  + 1
  )
  WHERE str IN ('80002', '30001', '3000') -- in any order --
   -- AND id = 1 -- optional --
  / 
```

输出：

```
3000 | 30001 | 80002 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T13:20:55.843

继我对您上一个问题的回答之后，继续使用它作为示例，因为我可以看到正在执行的底层查询`listagg`......您可以匹配多个值，计算您匹配的数量，并应用进一步的过滤器以确保您匹配所有这些。就像是：

```
select distinct role_id, role_name, active, companyName, permission_id,
    permission_name, rn, total_rows, roleCreated
from (
    select t.*,
        count(raw_permission_id) over (partition by role_id) as cnt
    from (
        select r.role_id, 
            r.role_name, 
            r.active, 
            decode(r.entity_type_id, 1000, m.name, 3000, cour.name,
                4000, 'Ensenda') companyName,
            p.permission_id as raw_permission_id,
            listagg(p.permission_id, ' | ')
                within group (order by p.permission_id)
                    over (partition by r.role_id) permission_id, 
            listagg(p.permission_name, ' | ')
                within group (order by p.permission_id)
                    over (partition by r.role_id) permission_name, 
            dense_rank() over (order by r.created_ts desc) as rn,
            count(distinct r.role_id) over () as total_rows, 
            r.created_ts roleCreated
        from t_role r
        left join t_role_permission rp ON r.role_id = rp.role_id
        left join t_permission p ON rp.permission_id = p.permission_id
        left join merchant m on r.entity_id = m.merchantkey 
        left join courier cour on r.entity_id = cour.courierkey 
    ) t
    where raw_permission_id in (301446, 301445)
)
where cnt = 2
and rn between 1 and 100
order by roleCreated desc; 
```

与先前答案的唯一区别是查询的外两层：

```
select ...
from (
    select t.*,
        count(raw_permission_id) over (partition by role_id) as cnt
    from (
    ... -- no changes here
    ) t
    where raw_permission_id in (301446, 301445)
)
where cnt = 2
... 
```

所以它现在正在寻找两种可能的权限，并计算 - 分析，因此对于每个角色 - 匹配了多少。外部查询检查匹配的数字是否为 2，显然您必须根据您尝试匹配的选项数量进行调整。

对于这个问题，它会添加如下内容：

```
 count(raw_asso_entity_id) over (partition by <some_id>) as cnt
    ...
    where raw_asso_id in (30000, 30001 and 80002)
...
where cnt = 3 
```

# php - 我们可以使用 Android GCM 向所有注册用户发送消息吗？

> ID：15246409
> 
> 赞同：1
> 
> 时间：2013-03-06T11:41:38.247
> 
> 标签：php, google-cloud-messaging

我正在使用 android GCM 向所有注册用户发送推送通知，但我无法一次将消息发送给所有注册用户，而是我必须为每个用户单独编写消息。所以可以用这样的方式替换它吗单击消息将发送给存储在数据库中的所有用户？我为此使用 PHP 脚本（服务器端）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T15:36:21.270

您可以将消息发送给所有用户，但是您不能一次将其广播给所有用户。相反，您必须以最多 1000 个注册 ID 为一组发送消息，并使用 JSON 请求格式。

更多信息可以在这里找到：http: [//developer.android.com/google/gcm/gcm.html#request](http://developer.android.com/google/gcm/gcm.html#request)

具体来说：

> **registration_ids** - 一个字符串数组，其中包含接收消息的设备列表（注册 ID）。它必须包含至少 1 个且最多 1000 个注册 ID。要发送多播消息，您必须使用 JSON。要将单个消息发送到单个设备，您可以使用仅具有 1 个注册 ID 或纯文本的 JSON 对象（见下文）。必需的。

这是他们将数据发送到六个虚构注册 ID 的示例：

```
{ "data": {
    "score": "5x1",
    "time": "15:10"
  },
  "registration_ids": ["4", "8", "15", "16", "23", "42"]
} 
```

# javascript - iScroll 刷新不起作用

> ID：15246416
> 
> 赞同：0
> 
> 时间：2013-03-06T11:42:07.253
> 
> 标签：javascript, jquery-mobile, iscroll4, iscrollview

我用这些行以编程方式实现了 iScroll-Scroller：

```
$(document).bind('pageinit',function( event, data ){

$("[id='menu']").attr("data-iscroll","");
$("[data-iscroll]").iscrollview();

}); 
```

每当我改变网站的高度时，例如通过旋转设备，iscroll-wrapper 不会适应它的大小。这意味着我不能再滚动到按钮了。所以我（试图）构建一个函数来刷新包装器的大小：

```
window.addEventListener("resize", function() {

$("[data-iscroll]").jqmData('iscrollview').refresh();

 setTimeout(function () {
$("[data-iscroll]").jqmData('iscrollview').refresh();

    }, 0)

}, false); 
```

这根本不起作用，我不知道为什么。如果您需要更多代码，请告诉我（尽量保持简短）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-04T12:59:49.983

我的解决方案是：

```
 setTimeout(function () {
            iScroll.refresh();
            window.scrollTo(0);
        }, 10); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:45:46.033

`iScroll`当 jQuery Mobile 支持[列表视图](http://view.jquerymobile.com/1.2.0/docs/lists/index.html)和[固定页眉](http://view.jquerymobile.com/1.2.0/docs/toolbars/bars-fixed.html)和页脚时，为什么要使用？

`iScroll`根据我的经验，jQuery-mobile 有问题。我不会向任何开发人员推荐它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-25T08:39:50.473

尝试这个 ：

```
$("[data-iscroll]").iscrollview().iscrollview('refresh'); 
```

然后

```
$('[data-iscroll]').trigger('create'); 
```

# mocking - 为 System.Data 添加痣程序集失败

> ID：15246418
> 
> 赞同：3
> 
> 时间：2013-03-06T11:42:10.073
> 
> 标签：mocking, moles

我在其中一个单元测试项目（VS 2010 单元测试）中使用 Microsoft Moles Framework (x86) 版本 0.94.51023.0。为了测试应用程序中的数据访问层方法，我尝试为*System.Data.dll*添加 moles 程序集，以便可以模拟`SqlConnection`&`SqlCommand`对象。当我在添加 moles 程序集时构建单元测试时，构建失败并出现以下错误详细信息

```
error CS0234: The type or namespace name 'SqlCredential' does not exist in the namespace 'System.Data.SqlClient'

error CS0234: The type or namespace name 'ApplicationIntent' does not exist in the namespace 'System.Data.SqlClient' 
```

我的构建输出窗口的结尾显示了这个：

```
error MSB3073: The command ""C:\Program Files (x86)\Microsoft Moles\bin\moles.exe" @...\UnitTests\obj\Debug\Moles\moles.args" exited with code -1002. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T05:18:14.703

将“ ***C:\Program Files (x86)\Reference Assemblies\Microsoft\Framework.NETFramework\v4.0*** ”中的“ *System.Data dll* ”替换为“4.0.30319.17929”版本后，该问题似乎已解决“ ***C:\Windows\Microsoft.NET\Framework64\v4.0.30319*** ”。看起来这个版本的 dll 中定义了 SqlCredential 类型，我能够成功地破坏 System.Data dll

 *** * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-02T12:48:14.757

我遇到了这篇文章[http://feherzsolt.wordpress.com/2013/02/13/moles-and-net-4-5/](http://feherzsolt.wordpress.com/2013/02/13/moles-and-net-4-5/)，它似乎有解决Moles无法为系统生成moled组件的问题的正确解决方案.* dll。当 .Net f/w 4.0 和 4.5 安装在同一台机器上时，对于使用 4.0 dll 的项目，在 moles 文件中添加 ReflectionOnly="true" 属性，可以解决构建失败问题。**

# javascript - ExtJS 4.1：覆盖 mixins

> ID：15246430
> 
> 赞同：4
> 
> 时间：2013-03-06T11:42:40.017
> 
> 标签：javascript, html, extjs, web

我有一个小问题：ExtJS 4.1 对所有表单字段使用一个名为“Ext.form.Labelable”的 mixin 来呈现标签。我想更改作为渲染模板的 labelableRenderTpl，以便为所有表单字段在右侧添加一个额外的标签。我如何覆盖/扩展mixin？甚至有可能还是我必须为所有使用 mixin 的类覆盖 labelableRenderTpl？

感谢您的帮助和最诚挚的问候！曼努埃尔

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T12:25:28.547

`Ext.form.Labelable`您可以在此处应用覆盖

```
Ext.override(`Ext.form.Labelable`, {
    labelableRenderTpl: 'Your Template'
}); 
```

这是未经测试的，但它应该可以工作，因为 mixin 的定义与任何其他类一样。你需要知道的是，现在**所有**使用这个 mixin 的类都将使用新的模板。在可标记的情况下，此列表很短

*   Ext.form.FieldContainer
*   Ext.form.field.Base
*   Ext.form.field.HtmlEditor

如果您不想完全更改它，则需要创建自己的 mixin，例如通过扩展`Ext.form.Labelable`和覆盖`Ext.form.field.Base`将其应用于所有字段。

**[您可以在此处](https://stackoverflow.com/questions/14254321/best-practice-for-overriding-classes-properties-in-extjs/14254627#14254627)**找到有关覆盖的更多信息。（*即使某些 SO 社区似乎对您的情况不喜欢这个问题，您也可以在那里找到一些有价值的信息*）

**更新**

正如您已经猜到的那样，问题是在应用覆盖时，mixin 已经被复制到类中，所以这完全是关于时间的，并且可能以硬匹配结束。我建议您从`Ext.form.Labelable`mixin 继承并将这个新的 mixin 应用到您需要的所有类，方法是用新的 mixin 覆盖实现。

# php - 使用子查询和连接查询更新行 - 真的很慢

> ID：15246432
> 
> 赞同：4
> 
> 时间：2013-03-06T11:42:40.527
> 
> 标签：php, mysql, sql, database, performance

我需要将表的标志`'A'`从一行`'X'`的`'Y'`update_date 满足条件的位置重置`1\. update_date > 1 month, 2\. flag = 'X' & 3\. type = 1`。

并且根据另一个表检查 update_date `'B'`。我希望下面的查询能解释我到底需要什么。这个查询也适用于我。但问题是耗时太长。实际上我的表`A & B`要大得多，几乎包含十亿行，大约有 10 列。

当我运行用于选择的子查询时，`A.id`我立即得到了结果。

```
 SELECT a.id 
 FROM A a 
 JOIN B b 
 ON (a.id = b.id 
       AND a.name = b.name 
       AND a.type = 1 
       AND a.flag = 'X' 
       AND a.update_date > DATE_SUB(NOW(), INTERVAL 1 MONTH) tmp_table) 
```

但是即使我设置了限制，只有更新查询也需要很多时间。

```
UPDATE A 
SET flag='Y' 
WHERE id IN (SELECT a.id 
             FROM A a 
             JOIN B b 
             ON (a.id = b.id 
                   AND a.name = b.name 
                   AND a.type = 1 
                   AND a.flag = 'X' 
                   AND a.update_date > DATE_SUB(NOW(), INTERVAL 1 MONTH) tmp_table))  
             LIMIT 100 
```

我正在寻找我的查询的替代解决方案，以使其快速。希望我可以为它编写一个存储过程。但是在`SP`我应该循环遍历每个 target_ids 对吗？

我不想在 PHP 中编写两个单独的查询，因为我的 PHP 脚本有很多线程在 cron 上运行，它们返回相同的结果（时间延迟）。

还要注意，我确实有足够的列索引。

希望按限制更新限制。即，每次运行更新 1000 多条记录。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T11:45:39.313

改变存在

EXISTS 会更快，因为一旦引擎找到命中，它就会退出寻找，因为条件已被证明是正确的。使用 IN 它将在进一步处理之前从子查询中收集所有结果。

```
UPDATE A a
JOIN B b 
ON (a.id = b.id 
               AND a.name = b.name 
               AND a.type = 1 
               AND a.flag = 'X' 
               AND a.update_date > DATE_SUB(NOW(), INTERVAL 1 MONTH))
SET a.flag='Y'
ORDER BY a.id LIMIT 1000; 
```

**已编辑支持 LIMIT 的替代品（它只会更新第 100 条记录）**

```
SET @rn = 0;
UPDATE A a
JOIN (SELECT @rn:=@rn+1 AS rId, id, name FROM B b 
      JOIN A a 
      ON (@rn < 100 AND a.id = b.id 
               AND a.name = b.name 
               AND a.type = 1 
               AND a.flag = 'X' 
               AND a.update_date > DATE_SUB(NOW(), INTERVAL 1 MONTH)
      ) 

) b 
ON (a.id=b.id) 
SET a.flag='Y'
WHERE b.rId < 100; 
```

使用存在子句

```
Update A a 
SET a.flag='Y'
WHERE EXISTS (SELECT 1 FROM B b WHERE a.id = b.id 
               AND a.name = b.name 
               AND a.type = 1 
               AND a.flag = 'X' 
               AND a.update_date > DATE_SUB(NOW(), INTERVAL 1 MONTH)) 
ORDER BY a.id LIMIT 1000; 
```

希望这可以帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:51:53.383

您也可以使用联接

```
UPDATE A
  LEFT JOIN (SELECT
           a.id
         FROM A AS a
           JOIN B AS b
         ON a.id = b.id
         WHERE a.name = b.name
         AND a.type = 1
         AND a.flag = 'X'
         AND a.update_date > DATE_SUB(NOW(), INTERVAL 1 MONTH)) AS l
    ON l.id = A.id
SET flag = 'Y'
WHERE id = l.id 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T11:48:37.747

最后，我得到了性能更好的优化查询。只需加入临时表。

```
UPDATE A AS a JOIN (
SELECT a.id FROM A AS a JOIN B AS b ON
    b.type = a.type 
    AND b.name = a.name 
    AND b.last_update_date < DATE_SUB(NOW(), INTERVAL 1 MONTH) 
    AND a.type = 1 
    AND a.flag = 'X' 
ORDER BY a.id DESC LIMIT 1000)
AS source ON source.id = a.id
SET flag = 'Y'; 
```

感谢[http://www.xaprb.com/blog/2006/08/10/how-to-use-order-by-and-limit-on-multi-table-updates-in-mysql](http://www.xaprb.com/blog/2006/08/10/how-to-use-order-by-and-limit-on-multi-table-updates-in-mysql)

# sql - 如何知道哪个实体导致了 SQL Exception

> ID：15246433
> 
> 赞同：0
> 
> 时间：2013-03-06T11:42:51.977
> 
> 标签：sql, spring, hibernate, sqlexception, hibernateexception

我正在使用带有 spring 的 hibernate 来创建一个宁静的服务应用程序。我想在操作失败时返回错误消息。例如，在创建帐户时，如果检测到重复的主键，我想设置用户名不可用的消息。

```
try
{
    Account account = accountDao.createAccount(accName, emailAdd);
    result.accountId = account.getIdAccount();
}
catch (DataAccessException e)
{
    result.errorMessage = "something like this account name is already taken"; <*****
    Throwable th = e.getCause();
    if(th!=null && th instanceof ConstraintViolationException)
    {
        ConstraintViolationException cve = (ConstraintViolationException) th;
        log.debug("Error code = " + cve.getErrorCode() + " ConstraintName = " + cve.getConstraintName());
    }
}
catch (Exception e)
{
    result.errorMessage = "failed to create account";
} 
```

所以使用stacktace我可以看到内部异常是

```
Caused by: org.hibernate.exception.ConstraintViolationException: Duplicate entry 'my account name' for key 'name_account' 
```

但是当我尝试获取时`cve.getConstraintName()`，它返回null。（`cve.getConstraintName()`是 1062）

有什么办法可以得到我正在寻找的食物吗？

作为参考，这是完整的堆栈跟踪：

```
org.springframework.dao.DataIntegrityViolationException: Duplicate entry 'name Name' for key 'name_account'; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: Duplicate entry 'name Name' for key 'name_account'
    at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:138)
    at org.springframework.orm.hibernate4.HibernateTransactionManager.convertHibernateAccessException(HibernateTransactionManager.java:594)
    at org.springframework.orm.hibernate4.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:476)
    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:755)
    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:724)
    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:387)
    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:120)
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:155)
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)
    at com.sun.proxy.$Proxy384.createAccount(Unknown Source)
    at com.gears42.econ.domain.business.AccountService.createAccountWithDefaultPlan(AccountService.java:36)
    at com.gears42.econ.domain.controller.SuperuserController.createAccount(SuperuserController.java:33)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:219)
    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)
    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)
    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)
    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:686)
    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)
    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)
    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)
    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:920)
    at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:838)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:650)
    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:801)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)
    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)
    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:54)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:105)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)
    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)
    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:259)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    at java.lang.Thread.run(Unknown Source)
Caused by: org.hibernate.exception.ConstraintViolationException: Duplicate entry 'name Name' for key 'name_account'
    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:74)
    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)
    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125)
    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110)
    at org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:129)
    at org.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81)
    at com.sun.proxy.$Proxy394.executeUpdate(Unknown Source)
    at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:56)
    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3028)
    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3469)
    at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:88)
    at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:362)
    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:354)
    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:275)
    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:326)
    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:52)
    at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1213)
    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:402)
    at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.beforeTransactionCommit(JdbcTransaction.java:101)
    at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.commit(AbstractTransactionImpl.java:175)
    at org.springframework.orm.hibernate4.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:468)
    ... 68 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry 'name Name' for key 'name_account'
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)
    at java.lang.reflect.Constructor.newInstance(Unknown Source)
    at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)
    at com.mysql.jdbc.Util.getInstance(Util.java:386)
    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1040)
    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4096)
    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4028)
    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2490)
    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2651)
    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2734)
    at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2155)
    at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2458)
    at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2375)
    at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2359)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
    at java.lang.reflect.Method.invoke(Unknown Source)
    at org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:122)
    ... 84 more 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-15T11:30:54.043

检查`ConstraintViolationException`以`getConstraintName()`检查违反了哪个数据库约束。在那里你可以找到哪个实体给出了问题。以下是我使用过的示例代码。

```
} catch (ConstraintViolationException conEx) {
            if (conEx.getConstraintName().contains("PROJECT_UK")) {
                //TODO Project Entity is violating it's constrain
            } else if (conEx.getConstraintName().contains(
                    "PROJECT_BATCH_CLASS_FK")) {
                //TODO BatchClass entity within Project is giving issue
            } else if (conEx.getConstraintName().contains("OPPRTNTY__UN")) {
                //TODO Project Entitiy is giving the issue
            } else {
                //TODO Unknown entity/constrain is causing the issue
            }
            LOGGER.ERROR( "My log message", conEx); 
```

我使用过`contains`是因为我希望这个应用程序在多个数据库模式上运行。默认情况下`getConstraintName`带有数据库名称，如

> MyDBName.ConstrainName

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:53:28.537

尝试捕获 org.springframework.dao。[DataIntegrityViolationException](http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/dao/DataIntegrityViolationException.html)而不是 DataAccessException

> 当尝试插入或更新数据导致违反完整性约束时引发异常。请注意，这不是纯粹的关系概念；大多数数据库类型都需要唯一的主键。

# ruby - 用 ruby 注释一行的一部分

> ID：15246435
> 
> 赞同：4
> 
> 时间：2013-03-06T11:42:53.863
> 
> 标签：ruby, comments

在 ruby​​ 中，您可以像这样注释行尾：

```
puts "This is a line" # Comment for end of line 
```

或像这样的多行：

```
=begin
Multi
lines
comment
=end 
```

为什么我找不到有关仅注释行的一部分的语法的任何信息，例如，在 C 中：

```
if (my_condition()/* || true */) 
```

它存在于红宝石中吗？如果不是，为什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T12:06:20.787

> 我怎么找不到……？

因为没有。如果你想这样做，也许你可以这样做：

```
some_code.tap{%q{some comments blah blah blah}}.some_more_code_to_continue 
```

尽管看起来不太好，但您可以理解`.tap{%q{...}}`为C 中的含义。`/*...*/`在某些语言中，人们确实设法使用现有语法制作内联注释；例如，在 TeX 中，`\if\false...\fi`经常使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:12:42.080

没有您正在寻找的确切传递性，但您可以使用`\n`and轻松伪造它`\`：

```
# Inserted `\ #`   ⇓⇓⇓ and CR ⇓⇓⇓  
if (my_condition() \ # || true 
) 
```

# php - “数组”的项目“原型”不存在

> ID：15246436
> 
> 赞同：3
> 
> 时间：2013-03-06T11:42:54.180
> 
> 标签：php, symfony, collections

我正在使用 Symfony2 和 mopaboostraps。我想在我的表单中创建一个电子邮件收集元素，直到今天一切正常（我不知道为什么）

我收到以下错误：

```
Item "prototype" for "Array" does not exist in *snip*.html.twig at line 36 
```

这是：

```
<span id="member-fields-list" data-prototype="{{ form_widget(form.members.vars.prototype)|e }}"></span> 
```

我搜索了一段时间，发现只有一个提示：我的集合元素为空（它将通过 javascript 填充）但是如果我向它添加一个值，它也不会起作用

```
$UserList = new UserList();
        **********snip***********
        $UserList->setMembers(array());

        $form = $this->createFormBuilder($UserList)
        **********snip***********
    ->add('members', 'collection', array(   
                'type' => 'email',
                'prototype' => true,
                // 'allow_add' => true,
                'allow_delete' => true,
                'options' => array(
                    'required' => true,
                    'attr' => array(
                        'class' => 'email-box',
                        'readonly' => 'readonly',
                    ),
                ),
            )
        ) 
```

# 编辑：得到解决方案

只需取消注释'allow_add' XD

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T14:34:56.620

form_widget 用于获取集合的一个小部件（了解“一个子字段”），而 form_row 用于获取完整的原型（您的示例中成员的所有子字段）。

因此，请改用[form_row](http://symfony.com/doc/2.1/reference/forms/types/collection.html#prototype)来显示成员的完整原型：

```
{{ form_row(form.members.vars.prototype)|e }} 
```

仅使用 form_widget 获取成员的一个字段，例如“用户名”：

```
{{ form_widget(form.members.vars.prototype.username)|e }} 
```

您还可以单独获取一个字段的 form_error 及其标签：

```
{{ form_errors(form.members.vars.prototype.username)|e  }}
{{ form_label(form.members.vars.prototype.username, 'My label')|e  }} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-05-26T12:21:29.403

取消注释'allow_add'解决了这个问题

# c - c、导入不同行的文本文件并处理行

> ID：15246437
> 
> 赞同：0
> 
> 时间：2013-03-06T11:42:56.290
> 
> 标签：c, text-files, scanf

我正在尝试制作一个读取聊天记录并计算一些数字的小程序。事情是我不确定要使用什么命令，因为这些行并不相同。这是日志中的几行

[22:56:37] 你的一击被魔法屏障吸收了！

[22:56:37] 你错过了！

[22:56:37] 你用明亮的奥术加重胡须斧头攻击 Tylaia 并造成 70 (-41) 伤害！

[22:56:37] 你对 Tylaia 造成 19 点额外伤害！

[22:56:37] 你对 Tylaia 造成 66 (-21) 点伤害！

[22:56:37] 你对 Tylaia 造成 17 点额外伤害！

[22:56:37] Tniatha 用她明亮的黄昏木特殊圆盾击中你的手，造成 72 点伤害！

[22:56:37] Tniatha 对你造成 32 点额外伤害！

[22:56:37] Tniatha 对你造成 8 点额外伤害！

[22:56:37] Tniatha 对你造成 8 点伤害！

[22:56:37] 你被一团泥土包围了！

如何仅导入“损坏”完成的行？

这就是我到目前为止所拥有的；

```
#include <stdlib.h>
#include <stdio.h>
#include <string.h>

typedef struct{
    char your_self[15], char who_ever_else[15];
    int damage_done, damage_taken, healing_done, healing_taken;
} input;

int main(void){
    input *inputArray = malloc(1);
    read_log_file(&inputArray);
    return 0;
}

void read_log_file(input **inputArray, int *lineCount){
    char your_self[15], char who_ever_else[15];
    int damage_done, damage_taken, healing_done, healing_taken;

    FILE *inputFile;
    inputFile=fopen("chat.log", "r");
    if(inputFile = NULL){
        printf("File cant open");
        exit(1);
    }
} 
```

正在考虑做这样的事情；p

```
 (fscanf(inputFile, ".............."... 
```

但是由于每一行都不相同，所以我的变量中会出现错误的值吗？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:46:20.880

要查找“损坏”一词是否包含在一行中：

```
if (strstr(line, "damage") != NULL) {
    /* "damage" found */
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T12:09:19.573

我最近写了一个类似的代码。猜猜这会有所帮助

```
char *match;

/* Read line by line - fgets reads only till a newline/ EOF - u can refer help*/
while (fgets(buffer, sizeof(buffer), fp))
{
    /* Search for pattern */
    match = strstr(buffer,"damage");

    if (match != NULL)
    {
                  //Do ur stuff
                 }
     } 
```

# java - 如何查找文档是否是可版本控制的？

> ID：15246438
> 
> 赞同：0
> 
> 时间：2013-03-06T11:42:56.453
> 
> 标签：java, alfresco, opencmis

如何使用 OpenCMIS 代码在露天中查找文档是否可版本化？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:08:20.540

以纯粹的 CMIS 方式，以下代码片段将实现目标：

```
// For how to get a Session see:
// http://chemistry.apache.org/java/opencmis-client-api.html#sessions
Session session = getSession();

CmisObject object = session.getObjectByPath("/path/to/object");
ObjectType type = object.getType();
Boolean isVersionable = type instanceOf DocumentType && ((DocumentType)type).isVersionable(); 
```

事实上，[Alfresco 中](http://wiki.alfresco.com/wiki/CMIS_Model_Mapping#Object_Type_Definition)`cmis:document`的节点总是被标记为可版本化的，而实际上 Alfresco 使用切面来标记一个节点以服从版本控制。这与标准 CMIS 域模型不兼容，其中版本性是从对象类型定义静态派生的。`cm:versionable`

我相信`cm:versionable`Alfresco 在向错过它的节点发出版本控制 CMIS 调用时会自动添加该方面，因此上述不兼容性不应导致任何实际问题。

另一个更具体的 Alfresco 解决方案需要您使用[Alfresco OpenCMIS Extension](https://code.google.com/a/apache-extras.org/p/alfresco-opencmis-extension/)：

```
CmisObject object = session.getObjectByPath("/path/to/object");
Boolean isVersionable = object instanceof AlfrescoDocument && ((AlfrescoDocument)object).hasAspect("cm:versionable"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T00:06:22.133

skuro 指出的方式有效。另一种方法是利用所有对象都知道它们允许的行为是什么这一事实。所以你可以这样问（在 OpenCMIS Workbench Groovy 控制台中运行它）：

```
doc = session.getObjectByPath("/cmis-demo/temp.txt")
allowableActions = doc.getAllowableActions().getAllowableActions()
if (allowableActions.contains(Action.CAN_CHECK_OUT)) {
    print "Versionable!"
} 
```

如果一个文档是不可版本控制的，无论出于何种原因，它都不会有 CAN_CHECK_OUT 允许的操作。

# razor - ASP MVC Razor 在输入占位符中编码特殊字符

> ID：15246439
> 
> 赞同：25
> 
> 时间：2013-03-06T11:42:56.967
> 
> 标签：razor, asp.net-mvc-4, placeholder

这是我的代码：

模型：

```
[Required]
[DataType(DataType.Text)]
[Display(Name = "Your company's name")]
public string CompanyName { get; set; } 
```

看法：

```
@Html.TextBoxFor(m => m.CompanyName, new { @class = "account-input", @placeholder = @Html.DisplayNameFor(m => m.CompanyName), @id = "companyname" }) 
```

它将呈现如下：

> 您的公司名称

html输出：

```
<input class="account-input" data-val="true" data-val-required="The Your company's name field is required." id="companyname" name="CompanyName" placeholder="Your company&amp;#39;s name" type="text" value=""> 
```

它应该是这样的：

> 贵公司的名称

为什么文本无法正确呈现，我该如何防止这种情况？

我已经尝试过了：

```
@Html.TextBoxFor(m => m.CompanyName, new { @class = "account-input", @placeholder = @Html.Raw(@Html.DisplayNameFor(m => m.CompanyName)), @id = "companyname" }) 
```

还有这个

```
@Html.TextBoxFor(m => m.CompanyName, new { @class = "account-input", @placeholder = @Html.Encode(@Html.DisplayNameFor(m => m.CompanyName)), @id = "companyname" }) 
```

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2013-03-06T12:49:24.127

我认为这篇文章会帮助你：

[HTML编码解码c#MVC4](https://stackoverflow.com/questions/9050145/html-encode-decode-c-sharp-mvc4)

我认为还有其他方法可以获得这种行为，但这是使用 TextBox 的一种选择：

```
@Html.TextBox("CompanyName", HttpUtility.HtmlEncode("Your company&#39;s name")) 
```

还有`HttpUtility.HtmlDecode`，这可能有助于我们的保存操作。

**更新**

如果你环绕`HttpUtility.HtmlDecode`你的占位符：

```
@Html.TextBoxFor(m => m.CompanyName, new { @class = "account-input", 
@placeholder = HttpUtility.HtmlDecode(Html.DisplayNameFor(x => x.CompanyName).ToHtmlString()), 
@id = "companyname" }) 
```

占位符返回为：placeholder="Your company's name"

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2015-04-28T19:37:41.757

这是一个助手 displayplaceholderfor ，它将在没有编码的情况下显示占位符。

[http://www.davidberube.me/displayplaceholderfor-mvc-placeholder-for-special-characters/](http://www.davidberube.me/displayplaceholderfor-mvc-placeholder-for-special-characters/)

- 编辑 -

```
public static partial class Extensions
{
   public static MvcHtmlString DisplayPlaceHolderFor<TModel, TValue>(this HtmlHelper<TModel> html, Expression<Func<TModel, TValue>> expression)
   {
      var result = html.DisplayNameFor(expression).ToHtmlString();
      return new MvcHtmlString(System.Web.HttpUtility.HtmlDecode(result.ToString()));
   }
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-02-11T15:25:19.240

跳过使用 Html.DisplayNameFor 不是更容易吗？似乎不需要对文本进行解码和重新编码。

```
public static MvcHtmlString DisplayPlaceHolderFor<TModel, TValue>(this HtmlHelper<TModel> html, Expression<Func<TModel, TValue>> expression)
{
    var metaData = ModelMetadata.FromLambdaExpression(expression, html.ViewData);
    var resolvedDisplayName = metaData.DisplayName ?? metaData.PropertyName;

    if (!string.IsNullOrEmpty(resolvedDisplayName))
        return new MvcHtmlString(resolvedDisplayName);

    var htmlFieldName = ExpressionHelper.GetExpressionText(expression);
    resolvedDisplayName = htmlFieldName.Split('.').Last();

    return new MvcHtmlString(resolvedDisplayName);
} 
```

# xml - 缩放后删除多边形填充颜色和描边颜色

> ID：15246440
> 
> 赞同：0
> 
> 时间：2013-03-06T11:43:00.960
> 
> 标签：xml, google-maps-api-3, kml, polygons, stroke

当您缩放到某个多边形时，我想从地图中删除（fillColor，stokeColor）该多边形。

这是示例： http: [//mini.hr/stanonline/test2.php](http://mini.hr/stanonline/test2.php)

这是缩放到选定多边形的方法：

```
function kmlShowPlacemark(pm) {
  if(geoXmlDoc.placemarks[pm].polygon){
  map.fitBounds(geoXmlDoc.placemarks[pm].polygon.bounds);} 
```

有谁能够帮我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T18:58:32.557

geoXmlDoc.placemarks[pm].polygon 是[Google Maps API v3 Polygon](https://developers.google.com/maps/documentation/javascript/reference#Polygon)，要更改其属性，您可以使用更新的 fillColor 和 strokeColor 对其调用 setOptions 函数。您不能“移除”fillColor 和 strokeColor，但您可以更改它们并更改 fillOpacity 和 strokeWeight 以使它们不可见。

[多边形的开发者指南描述](https://developers.google.com/maps/documentation/javascript/overlays#Polygons)

这会将第一个多边形（第一个“地标”）更改为红色，蓝色边框为 5 像素宽：

```
geoXmlDoc.placemarks[0].polygon.setOptions({
      fillColor:"#FF0000",    // red
      fillOpacity:0.9,
      strokeColor:"#0000FF",  // blue
      strokeWeight:5          // pixels
}); 
```

这将使同一个多边形完全透明（不透明度 0.001），没有边框：

```
geoXmlDoc.placemarks[0].polygon.setOptions({
      fillColor:"#000000",
      fillOpacity:0.001,
      strokeColor:"#000000",
      strokeWeight:0
}); 
```

如果要从地图中删除该多边形，请在其上调用 setMap(null)。

# ruby - 从外部 .sql 文件执行 SQL 语句

> ID：15246444
> 
> 赞同：2
> 
> 时间：2013-03-06T11:43:16.340
> 
> 标签：ruby, sequel

我有一个`schema.sql`包含 SQL 语句形式的官方数据库结构的文件，例如：

```
CREATE TABLE directory (id INTEGER PRIMARY KEY,   base TEXT,   index_file TEXT,   default_ctype TEXT,   cache_ttl INTEGER DEFAULT 0);
CREATE TABLE handler (id INTEGER PRIMARY KEY,
    send_spec TEXT, 
    send_ident TEXT,
    recv_spec TEXT,
    recv_ident TEXT,
   raw_payload INTEGER DEFAULT 0,
   protocol TEXT DEFAULT 'json'); 
```

我想*将*这些语句应用于我的数据库以创建兼容的模式。有没有一种干净的方法来实现这一目标？

这里干净的意思：

*   纯红宝石/续集
*   独立于底层数据库引擎
*   不解析`.sql`文件

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:08:27.310

要么我没有正确理解目标，要么为什么不从文件中读取语句并使用默认`ActiveRecord`方法执行它们？

```
ActiveRecord::Base.execute File.read('PATH_TO_FILE') 
```

或与`Sequel`：

```
DB.run File.read('PATH_TO_FILE') 
```

# c# - Visual Studio xaml 设计器未加载

> ID：15246449
> 
> 赞同：3
> 
> 时间：2013-03-06T11:43:32.553
> 
> 标签：c#, exception

XAML 代码的设计器未在 Visual Studio 2012 中加载。显示以下错误。任何帮助表示赞赏。

> System.ObjectDisposedException 安全句柄已在 Microsoft.Expression.DesignHost.Isolation.Primitives 的 Microsoft.Expression.HostUtility.Platform.AppContainerProcessDomainFactory.CreateDesignerProcess(String applicationPath, String clientPort, Uri hostUri, IDictionary environmentVariables, Int32& processId, Object& processData) 处关闭。 Microsoft.Expression.DesignHost.Isolation.Primitives.ProcessDomainFactory.CreateIsolationDomain(IIsolationBoundary 边界) 在 Microsoft.Expression.HostUtility 的 ProcessDomainFactory.ProcessIsolationDomain..ctor(ProcessDomainFactory 工厂，IIsolationBoundary 边界，AppDomainSetup appDomainInfo，FrameworkName targetFramework，字符串标识符，字符串 baseDirectory)。 Platform.AppContainerProcessDomainFactory。Microsoft.Expression.DesignHost.Isolation.Primitives.IsolationBoundary.Initialize() 处的 CreateIsolationDomain(IIsolationBoundary 边界) Microsoft.Expression.DesignHost.Isolation.Primitives.IsolationBoundary.CreateInstance[T](Type type) 处的 Microsoft.Expression.DesignHost.Isolation .IsolatedExportProvider.Initialize() 在 Microsoft.VisualStudio.ExpressionHost.Services.VSIsolationService.CreateExportProvider(IIsolationTargetisolationTarget，ICatalogFactory catalogFactory，IExportFilter 过滤器) 在 Microsoft.Expression.DesignHost.Isolation.IsolationService.CreateLease(IIsolationTargetisolationTarget) 在 Microsoft.Expression.DesignHost .IsolatedDesignerService.CreateLease(IIsolationTargetisolationTarget, CancellationToken cancelToken, DesignerServiceEntry& entry) 在 Microsoft.Expression.DesignHost。在 Microsoft.Expression.DesignHost.Isolation.IsolatedTaskScheduler.InvokeWithCulture[T]（CultureInfo 文化，Func`2 func, CancellationToken cancelToken) at Microsoft.Expression.DesignHost.Isolation.IsolatedTaskScheduler.<>c__DisplayClassa`1.b__6() 在 System.Threading.Tasks.Task`1.InnerInvoke() 在 System.Threading.Tasks.Task.Execute()

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T03:21:03.423

我遇到了同样的问题。尝试重新启动 Visual Studio。如果还是不行，卸载VS，然后重新安装。我认为它会成功的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-12-21T18:32:53.163

来源：[https ://social.msdn.microsoft.com/Forums/en-US/8e58ee68-341a-4792-9bb2-a155cfc06f90/cannot-use-visual-studio-community-2015-xaml-designer-unhandled-exception](https://social.msdn.microsoft.com/Forums/en-US/8e58ee68-341a-4792-9bb2-a155cfc06f90/cannot-use-visual-studio-community-2015-xaml-designer-unhandled-exception)

导航到 \Common7\IDE（默认为 C:\Program Files 或 Program Files (x86)\Microsoft Visual Studio 14.0\Common7\IDE），然后运行以下命令：

a) devenv.exe /resetsettings，它将恢复 Visual Studio 默认设置。（可选）将设置重置为指定的 .vssettings 文件。

b) devenv.exe /resetuserdata，它将需要几分钟才能运行，因为 Visual Studio 会清理并将自身恢复到原始状态。此时您可以打开任务管理器检查 devenv.exe 进程是否仍在运行。完成运行后，您可以重新启动 Visual Studio。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-20T09:39:12.567

这是一个老问题，但我在 Visual Studio 2013 Express for Windows Update 2 中遇到了同样的问题，这恰好是最新的更新。

我尝试了以下方法： 安装正确的 VS 2013 文件版本（碰巧有两个） 我曾假设 Windows 更新会为我的 x64 位机器安装推荐的 KB 文章 KB 2883200。它没有安装，所以我安装了它。

这些更改仅略有改进，但 XAML 页面的加载和 Windows 8.1 的部署没有改进。

最终改进的是在我的计算机上删除了另外两个 VS 程序，用于 WEB 的 VS 2013 Express 和用于 Windows 桌面的 VS 2013 Express。

现在 XMAL 页面正在加载，我没有收到“System.ObjectDisposedException 安全句柄已关闭”详细信息在这里：

[http://hodentek.blogspot.com/2014/05/programs-that-interfered-while-loading.html](http://hodentek.blogspot.com/2014/05/programs-that-interfered-while-loading.html)

# applescript - 如何使用 Applescript 计算 iTunes 中的已检查项目

> ID：15246450
> 
> 赞同：0
> 
> 时间：2013-03-06T11:43:33.440
> 
> 标签：applescript, itunes

我正在尝试创建一个小脚本，该脚本获取所选项目的列表并计算每个所选项目在库中其他地方出现的次数。如果有重复，它会关闭复选标记，如果这是唯一的副本，它会打开它。

这行得通。

但我想做的是让它只检查已检查歌曲的库。但是当我在（第三行的）末尾添加“启用”位时`set`，脚本超时。

```
repeat with entry in selection -- "selection" is a concept implemented in iTunes 
    set a to artist of entry
    set n to name of entry
    set x to count of (file tracks whose name contains n and artist contains a and enabled is true)
    ...
    display dialog x
end repeat 
```

如果我取出`and enabled is true`它，它会按预期以双倍的速度完成，并且结果符合预期。

`and enabled is true`在行的末尾，发生了一些神秘的事情。显然我检查不正确

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T14:08:06.890

这是一个快速的解决方法：

```
tell application "iTunes"
    repeat with entry in selection -- "selection" is a concept implemented in iTunes 
        set a to artist of entry
        set n to name of entry
        set myTracks to (file tracks whose name contains n and artist contains a)
        set x to {}
        repeat with aTrack in myTracks
            if aTrack's enabled = true then set end of x to aTrack
        end repeat
        display dialog (count x)
    end repeat
end tell 
```

# css - 流体全高列，粘性页脚

> ID：15246452
> 
> 赞同：0
> 
> 时间：2013-03-06T11:43:40.930
> 
> 标签：css, footer

我敢肯定这很容易，但我被困住了。

我这里有一个简单的演示来说明。

[http://www.ttmt.org.uk/forum/](http://www.ttmt.org.uk/forum/)

这是一个容器宽度，一个最大宽度（流体）。

右栏是设定的宽度，但左栏是流动的，页脚在底部是粘性的。

我只需要扩展左列（黄色）的高度，使其为 100%，它触及页脚

```
 <!DOCTYPE html>
    <html>
      <head>
      <title>Title of the document</title>

      <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/3.4.1/build/cssreset/cssreset-min.css">

      <style type="text/css">
        /*--stickyFooter--*/
        html, body {
          height: 100%;
        }

        #wrap {
          min-height: 100%;
          max-width:1000px;
          margin:0 auto;
          border-left:20px solid white;
          border-right:20px solid white;
        }

        #main {
          overflow:auto;
          padding-bottom: 150px;/* must be same height as the footer */
          height:100%;
          min-height:100%;
        }  

        footer {
          position: relative;
            margin:-150px auto 0 auto;
            height: 150px;
            clear:both;
            max-width:1000px;
            background:red;
            border-left:20px solid white;
          border-right:20px solid white;
        } 

        body:before {/*Opera Fix*/
            content:"";
            height:100%;
            float:left;
            width:0;
            margin-top:-32767px;/
        }
        /*--END-stickyFooter--*/

        header{
          height:100px;
          background:#ddd;
        }
        #rightCol{
          height:100px;
          background:#eee;
          width:200px;
          float:left;
        }
        #leftCol{
          margin-left:210px;
          background:yellow;
          height:auto;
          height:100%;
        }
      </style>

      </head>

    <body>

      <div id="wrap">

        <header>
          <h2>Header</h2>
        </header>

        <div id="main">
          <div id="rightCol">
           <h2>Right Col</h2>
          </div><!-- #rightCol -->
          <div id="leftCol">
            <h2>Left Col</h2>
           <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
             Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
              <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
          </div><!-- #leftCol -->
        </div>  

      </div><!--wrap-->

      <footer>
        <div id="footer-container">
          <h2>Footer</h2>
        </div><!-- #footer-container -->
      </footer>  

    </body>

    </html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:14:40.953

让我们试试这个：

```
#leftCol {
position: absolute;
width: 789px;
} 
```

# map - Pentaho CDE NewMapComponent 不显示标记描述工具提示

> ID：15246454
> 
> 赞同：1
> 
> 时间：2013-03-06T11:43:43.507
> 
> 标签：map, pentaho, dashboard, cdf

我正在尝试使用 pentaho CDE NewMapComponent（OpenStreet 引擎）构建地图。一切都很好，但是我在为每个标记添加描述工具提示时遇到问题。

我正在使用 sql 数据源，其中有一列用于纬度、经度、标记，最后是另一列名为“description”的列，如 NewMapComponent.js 的注释中所述。除描述外，所有列似乎都可以正常工作。此外，当将鼠标移到标记上时，FullMapTest 示例不会将任何描述显示为工具提示。此外，在文件 NewMapComponent.js 中，与描述工具提示代码对应的第 629 到 647 行被注释掉了。我试图取消注释此代码，但标记甚至没有呈现。日志没有给我任何错误。

我正在使用 Chrome，但尝试在其他浏览器上运行此仪表板，结果相同。我的双服务器版本是 4.8。我是唯一一个有这个问题的人吗？我应该为描述工具提示做任何事情吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-27T07:54:21.130

我希望这对您有任何帮助[http://forums.pentaho.com/showthread.php?141559-Edit-Tooltip-in-CDE-dashboard](http://forums.pentaho.com/showthread.php?141559-Edit-Tooltip-in-CDE-dashboard)

# xna - XNA / MonoGame：深度排序 alpha 混合 UserPrimitives

> ID：15246460
> 
> 赞同：2
> 
> 时间：2013-03-06T11:43:50.663
> 
> 标签：xna, primitive, alphablending, depth, monogame

为此搜索了很多，阅读[了这篇非常有用的文章](http://blogs.msdn.com/b/shawnhar/archive/2009/02/18/depth-sorting-alpha-blended-objects.aspx)，但仍然想知道我的项目的解决方案。此屏幕截图完美地说明了我的问题：

![Alpha 混合问题](../Images/6f69cd3d8d0abd6bc5f8afb6505ccb88.png)

有 2 个对象：红色对象由 2 个四边形组成，一个 z-index 为 -1，另一个 z-index 为 1。两个四边形都有`Color.Red * 0.5f`. 首先被绘制。另一个对象是 z-index 为 0 的玩家。第二个被绘制

因为我希望玩家在四边形之间移动，所以我设置`DepthStencilState`了， `DepthStencilState.Default;`但这提供了以下图像。玩家的像素会被忽略，因为它前面有一个物体。

我基于[这个类](https://github.com/CartBlanche/MonoGame-Samples/blob/master/Primitives/PrimitiveBatch.cs)将我所有的图元批处理到一个大的 DrawUserPrimitive 中。这个问题的最佳解决方案是什么？我是否必须根据 z-index 对三角形进行排序（我该怎么做；它很贵吗？）还是有其他解决方案？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T14:29:52.907

你只需要完全按照[那篇文章](http://blogs.msdn.com/b/shawnhar/archive/2009/02/18/depth-sorting-alpha-blended-objects.aspx)所说的去做。以下是针对 XNA 4 更新的“最常用方法”的说明：

1.  放`GraphicsDevice.DepthStencilState = DepthStencilState.Default`
2.  绘制所有不透明的几何体
3.  放`GraphicsDevice.DepthStencilState = DepthStencilState.DepthRead`
4.  按与相机的距离对 alpha 混合对象进行排序，然后按从后到前的顺序绘制它们

如果您的透明对象或多或少是凸的，那么您不需要对三角形进行排序 - 只需对对象本身进行排序 - 只要您使用`RasterizerState.CullCounterClockwise`（即：背面剔除，默认设置）。

您必须这样做的原因是深度缓冲区只能存储一个值 - 即最顶部像素的值。没有在该深度“下”绘制的概念。执行此操作所需的数据（在该像素的 Z 索引上方和下方绘制的对象的颜色）已经混合到最终图像中，无法提取。

# sql - 表的 TSQL 部分锁定（但不适用于其他应用程序）

> ID：15246461
> 
> 赞同：0
> 
> 时间：2013-03-06T11:43:51.580
> 
> 标签：sql, sql-server, tsql

我们有一个应用程序允许用户在数据库上做某事（这并不重要），然后使用 3rd 方软件发送通知（它只能使用 select 语句从数据库中读取数据）。
通知由两个 SQL 存储过程处理，第一个将通知添加到*Notifications*表（可以在发送之前添加许多通知），第二个使用以下代码发送它们：

```
EXEC master.dbo.xp_cmdshell 'c:\send.cmd';  
WAITFOR DELAY '00:00:05';  
DELETE FROM Notifications; 
```

问题在于第二个过程 - 有时会发生 2 个用户同时触发发送消息，导致将*通知*表的全部内容发送给收件人两次。

我想使用诸如锁定*通知*表之类的东西，但是该表应该可以被在第一行代码中执行的第 3 方软件读取。或者换句话说 - 我想一次只允许执行一个*SendMsg*过程的实例（将*Notifications*表留给其他过程只读）。
有什么想法我怎么能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T18:14:03.560

使用`sp_getapplock`and`sp_releaseapplock`给自己一个`mutex`. 有关更多详细信息，请参阅[SQL Server 2005 中的应用程序锁（或互斥锁）](http://www.sqlteam.com/article/application-locks-or-mutexes-in-sql-server-2005 "SQL Server 2005 中的应用程序锁（或互斥锁）")。如果您的外部命令足够快，让第二个进程等待获得锁没有害处。您还可以删除您的`WAITFOR DELAY`，因为一切都将由应用程序锁定管理。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:18:06.907

您需要在通知表中添加一个附加字段，指示它是哪一批通知。

```
create table notifications(
   batchID uniqueidentifier,
   text nvarchar(max) 
```

)

因此`AddNotification`将采用一个额外的 GUID 参数，即批次。然后你的发送过程应该这样做：

```
declare @cmd nvarchar(max)
set @cmd = 'c:\send.cmd' + ' ' + cast(@batchID as varchar(36))

EXEC master.dbo.xp_cmdshell @cmd;  
--- WAITFOR DELAY '00:00:05';  
-- What are you waiting for? xp_cmdshell waits already.
-- You can also induce CMD.exe to wait for windows programs using the START /WAIT option
DELETE FROM Notifications where batchID = @batchID; 
```

显然 send.cmd 需要修改为采用相同的 GUID 作为参数。

如果您无法向存储过程添加参数，则使用 SPID ( `@@spid`) 可能会起作用，前提是您可以确保所有存储过程都使用相同的底层连接（来自连接池）。尽管如此，您仍然必须添加一个参数`send.cmd`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T14:28:14.030

***编辑：***请参阅 David T Macknet 的答案，这对于 MSSQL 2005 更高版本要好得多。不过，这种技术在其他 DBMS 或更早版本的 SQL Server 上可能仍然有用。

您可以使用第二个表来保存该表是否被锁定的事实。

```
create table Notifications_Lock(
ix int primary key,
fLocked bit,
constraint Notifications_Lock_SingleRow check (ix = 1)
)

insert Notifications_Lock values( 1, 0, null)

go

create proc NotificationsLockTry
as
begin
    update Notifications_Lock set fLocked = 1 
    from Notifications_Lock with (TABLOCKX)
    where fLocked = 0
    return @@rowcount
end
go
create proc NotificationsLockTimeout( @waitSeconds int)
as
begin
    set @waitSeconds = isnull(@waitSeconds, 0)

    declare @dtWaitTill datetime
    set @dtWaitTill = dateadd(second, @waitSeconds, getutcdate())
    declare @fLocked int

    update Notifications_Lock set fLocked = 1 
    from Notifications_Lock with (TABLOCKX)
    where fLocked = 0
    set @fLocked = @@rowcount

    if @fLocked > 0  return @fLocked

    while @fLocked = 0 And @dtWaitTill > getutcdate()
    begin
        waitfor delay '00:00:01'
        update Notifications_Lock set fLocked = 1 
        from Notifications_Lock with (TABLOCKX)
        where fLocked = 0
        set @fLocked = @@rowcount
        if @fLocked > 0 return @fLocked
    end
    return @fLocked
end
go
create proc NotificationsUnlock
as
begin 
    update Notifications_Lock set fLocked = 0, dtLocked = null
    from Notifications_Lock with (TABLOCKX)
    where fLocked = 1
    return @@rowcount
end 
```

示例用法：

```
declare @fLocked int
-- Wait up to 5 minutes for a lock
exec @fLocked = NotificationsLockTry 300
if @fLocked = 0 
begin
    raiserror('Unable to lock notifications table', 11,11)
    return
end
-- Locked OK
-- INSERT NOTIFICATIONS HERE
-- CALL Send.cmd HERE
exec NotificationsUnlock

return 
```

请注意，如果使用此方法，如果作业退出或中断，您可能必须手动解锁通知表。

您还可以通过将锁定日期添加到表中来添加超时，然后您可以定期检查它，如果它过去太久，只需解锁它。

# ruby-on-rails - Rails：带有条件必填字段的表单

> ID：15246465
> 
> 赞同：4
> 
> 时间：2013-03-06T11:44:13.740
> 
> 标签：ruby-on-rails, forms, haml

我对 RoR 比较陌生。我在haml中得到了以下来源

```
= form.text_field :country, 'Country'
= form.text_field :state, 'State', :placeholder => 'optional' 
```

但是 :state 字段并不是完全可选的，只有当用户是非美国用户时它才是可选的，如果他/她的国家/地区=='USA'，则该字段必须成为必需的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:49:05.253

为什么不尝试，

在你的情况下，

HAML 是基于缩进的，解析器可能很棘手。您不需要在 Haml 中使用“-end”。改用缩进。在 Haml 中，只要在 Ruby 评估命令后缩进增加，就会开始一个块。它在缩进减少时结束。示例 if else 块如下。

```
- if country != 'USA' # change country variable to your country value variable
  = form.text_field :state, 'State', :placeholder => 'optional'
- else
  = form.text_field :state, 'State', :placeholder => 'Mandatory' 
```

如果你想使用just`IF`条件，

```
- if country != 'USA' # change country variable to your country value variable
  = form.text_field :state, 'State', :placeholder => 'optional' 
```

在普通的 ruby​​ 格式代码中，

```
<% if @country == 'USA' %> # change @country variable to your country value variable
  <%= form.text_field :state, 'State', :placeholder => 'Mandatory' %>
<% else %>
  <%= form.text_field :state, 'State', :placeholder => 'optional' %>
<% end %> 
```

上面只是一个例子。因为我不知道存储在哪个变量中的国家值。

# oracle - 如何使 owa_sylk 使用 ANSI 等特殊编码生成输出？

> ID：15246466
> 
> 赞同：1
> 
> 时间：2013-03-06T11:44:22.050
> 
> 标签：oracle, excel, plsql

我想知道是否可以告诉 owa_sylk 生成具有特殊编码的 Excel 文件（输出）。我对中文字符有一些问题。

我们可以用其他方式解决这个问题吗？例如，在创建输出后转换编码？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:10:36.833

SYLK 是一个古老的界面，早于 Unicode。它也是一个专有的 Microsoft 实现。他们不发布规范。所以像 ORA_SYLK 这样的实现基本上是逆向工程的。

无论如何，[根据维基百科](http://en.wikipedia.org/wiki/SYmbolic_LinK_%28SYLK%29 "维基百科关于 SYbolic_LinK 的文章")：

> “即使 SYLK 文件是由支持 Unicode 的应用程序（例如 Microsoft Excel）创建的，SYLK 文件也将在当前系统的 ANSI 代码页中编码，而不是在 Unicode 中。如果应用程序包含可在 Unicode 中显示的字符，但在当前系统的代码页中没有代码点，它们将在 SYLK 文件中转换为问号 ('?')。"

因此，ORA_SYLK 似乎无能为力，因为问题在于 SYLK。还有其他一些将数据导出到 Excel 的方法；他们也许能够解决您的问题。我在另一个问题的答案末尾提供了链接。 [了解更多。](https://stackoverflow.com/a/6018606/146325 "从 Oracle 数据库创建 Excel 电子表格")

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T13:03:26.510

我的一个同事解决了这个问题。我们只需要借助 owa_sylk 主体中的以下代码来转换编码：

owa_sylk.print_rows 更改 p( 行 ); 在 p(convert(line, 'ZHS32GB18030','AL32UTF8'));

# ruby-on-rails-3 - 而不是link_to，用于通过图像链接

> ID：15246469
> 
> 赞同：0
> 
> 时间：2013-03-06T11:44:25.287
> 
> 标签：ruby-on-rails-3

一个月前刚开始研究 ruby​​ 和 rails。非常感谢任何线索、想法或帮助。

我将 gem activerecord 信誉系统包含在一个 rails 项目中。gem 工作正常，我也手动对其进行了测试。现在我想将“投票”的文本替换为图标。结果，用户将单击图标（上下拇指）进行投票。

到目前为止，我使用这个：

```
link_to "up", vote_clue_path(clue, type: "up"), method: "post" 
```

我想要的是重构它并改用图标。（用户将点击竖起大拇指和不喜欢竖起大拇指，而不是点击上下链接）。

我不知道该怎么做。使用其他方法？将其重构为新方法？任何通往新方向的线索都会对我有很大帮助。

干杯!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:18:41.060

您可以使用块形式的 link_to

```
<%= link_to vote_clue_path(clue, type: "up"), method: "post" do %>
  <div>Up</div>
<% end %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T15:56:59.333

如果你想要一个图片链接，你可以做这样的事情

```
=link_to(image_tag("splash_banner.png", :alt => "Home Polish Banner", twitter_link, :target => "_blank") 
```

# rabbitmq - 如何取消订阅 Rabbit Mq 中的主题？

> ID：15246471
> 
> 赞同：0
> 
> 时间：2013-03-06T11:44:28.810
> 
> 标签：rabbitmq

Sa 我们订阅了`e.*.*`我们想取消订阅`e.exact.*`主题。有没有办法做这样的事情？任何可以提供订阅的 RabbitMQ 插件`e.!exact.*`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:27:12.380

不，你不能通过定期的主题交流来做到这一点。我不知道有一个允许它，但可能有一些东西在那里

或者：

1) 收到消息后根据路由键的该字段进行过滤

2) 绑定到所有非绑定键`e.exact.*`

3) 更改路由密钥格式以更好地允许您仅选择所需的密钥

作为一项规则，我更喜欢选择我想要的东西，而不是拿走所有不是 X 的东西。

如果您现在添加一个`e.y.*`您也不希望的键，您需要有一种选择的方法`e.(!Exact && !y).*`

# html - 子菜单无法正常工作

> ID：15246474
> 
> 赞同：1
> 
> 时间：2013-03-06T11:44:29.430
> 
> 标签：html, css

我无法让子菜单位于 tab2 父级的顶部。我的意思是，当我将鼠标悬停在 tab2 下方时，子菜单会出现。我使用自己制作的按钮（图片）。有人可以整理演示中的 CSS 代码吗？非常感谢 :) 这是演示[http://jsfiddle.net/3Lhe7/](http://jsfiddle.net/3Lhe7/)

```
@charset "utf-8";
/* CSS Document */

body {
max-width: 1000px;
text-align: right;
/*text-align: center;*/
}

.bg {
width: 100%;
height: 100%;
position: fixed;
top: 0;
left: 0;
z-index: -5000;
}

#navigation {
clear: both;
width: 60%; 
margin: 0 auto; 
border: 0px;
text-align: left;
position: absolute;
top:  65%;
left: 20%;  
height: 90px;
min-width:830px;
max-width:1000px;
}

#navigation ul {
display: inline-block;
margin: 0 auto;
}

#navigation ul li {
display: inline;
position: relative;
float: left;
list-style-type: none;
height: 45px;
}

#navigation li ul {
margin: 0px;
padding: 0px;
display: none;
position: absolute;
}

#navigation ul li a {
list-style: none;
display: block;
width: 150px;
height: 90px;
padding: 0px;
}

#navigation ul li ul {
display: none;  
}

#navigation ul li:hover ul {
display: block;
bottom: 100%;
}

#submenu {  
list-style: none;
display: block;
width: 150px;
height: 45px;
padding: 0px;
margin: 0px;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T23:51:59.020

我不知道您将`#submenu`高度设置为 45px 的原因，但是将其（`height`属性）更改为`0`似乎可以解决问题。

```
#submenu {  
    list-style: none;
    display: block;
    width: 150px;
    height: 0;
    padding: 0px;
    margin: 0px;
} 
```

[http://jsfiddle.net/3Lhe7/4/](http://jsfiddle.net/3Lhe7/4/)

# c++ - 移动对象 (OpenGL)

> ID：15246476
> 
> 赞同：0
> 
> 时间：2013-03-06T11:44:30.940
> 
> 标签：c++, object, move

我正在使用 OpenGL 用 C++ 编写程序。

我的游戏有一艘船和敌舰。

目前我可以移动我的船，因为我对我的键盘很满意。

但我很想给我的敌舰一些动作。例如，它们位于某些坐标 x、y 上，我希望有一种方法可以在一定时间内重复将它们向右移动 5 步，向左移动 5 步。

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:03:22.610

您可以使用`void glutTimerFunc(unsigned int msecs,void (*func)(int value), value);` 第一个参数是以毫秒为单位的时间，第二个参数是更新敌舰坐标的函数。您可以在[此处找到详细说明。](http://www.opengl.org/resources/libraries/glut/spec3/node64.html)您可以在下面看到如何使用它。

```
void update(int value) {
//do your logic to change the cordinate of the enemy ships
glutPostRedisplay();
glutTimerFunc(25, update, 0);
} 
```

这是函数名称更新，您可以在其中放置更改敌舰坐标的逻辑。在它里面你看到了 glutTimerFunc ，其中时间是 25 毫秒，它的意思是每 25 毫秒调用一次函数更新，并且敌舰的坐标会根据你的逻辑发生变化。您必须在主函数中调用 glutTimerFunc。

```
int main(int argc,char** argv)
{
 //your program code
  glutTimerFunc(25, update, 0);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:57:31.607

要在*δt*秒内将船从*A*移动到*B*（从*t* *[0]*开始），您只需在每一帧的*A* + ( *B* - *A* )( *t* - *t* *[0]* )/ *δt*（其中*t*是当前时间）处绘制它，直到*t* = *t* *[0]* + *δt*。

 ***请注意，这会引起线性运动。如果你想在动作的开始和结束时加速和减速，那就更复杂了。为了在不陷入物理问题的情况下将其平滑，您可以使用[Smoothstep](http://en.wikipedia.org/wiki/Smoothstep)函数，将 ( *t* - *t [0]* )/ *δt*替换为 smoothstep( *t [0]* , *t [0]* + *δt* , *t* )。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:56:23.747

这称为速度，用户输入应该改变速度。

如果你有一个位置，并且在一定时间后`X`你有一个速度（x 的速度），你会得到一个新的位置`vx``t``X'``X'=X+vx*t`

只需调用类似

```
void update()
{
    myObject.X += myObject.vx*t;
}
void leftArrow()
{
    const float increment = 0.05f;
    const float maxSpeed = 0.50f;
    if (myObject.vx >= maxSpeed)
    {
        myObject.vx -=increment;
    }
} 
```

你如何选择`t`？在您描述的平滑运动的情况下，几乎任何小的值都`t`可以工作。如果您计划进行更复杂的运动，例如碰撞，您将需要评估您正在集成的功能的稳定性......（尽管这超出了您所描述的范围。）***

# android - 无法从三星设备的通话记录中删除短信记录

> ID：15246478
> 
> 赞同：3
> 
> 时间：2013-03-06T11:44:33.597
> 
> 标签：android, sms, android-contentprovider, samsung-mobile, calllog

我正在尝试通过我的应用程序从设备中删除所有 SMS 消息，但由于某些原因，SMS 日志仍然出现在某些三星设备的通话记录中。

我尝试了一种更“激进”的方法，并使用以下 URI 删除了`ContentResolver`：

*   `content://call_log/calls`
*   `content://sms`
*   `content://sms/inbox`
*   `content://sms/sent`
*   `content://mms/inbox`
*   `content://mms`
*   `content://mms-sms`
*   `content://mms/address`
*   `content://mms/part`
*   `content://mms/sent`
*   `content://mms/outbox`

使用以下简单代码完成删除：

```
ContentResolver cr = mContext.getContentResolver() ;
cr.delete(uri, null, null) ; 
```

结果是所有短信都从设备中删除，通话记录从通话中清除，但仍然包含短信日志（对于不存在的短信）。

上面提到的所有表在过程结束时确实是空的，但我找不到呼叫日志从中获取其 SMS 数据的相关来源。

我找到了有关该主题的以下帖子，但仍然没有有效的解决方案：

*   [SMS 被复制为 Calls(Samsung Galaxy S II)](https://stackoverflow.com/questions/11294563/sms-are-duplicated-as-callssamsung-galaxy-s-ii)
*   [三星设备在查询通话记录时返回短信](https://stackoverflow.com/questions/12445430/samsung-device-returns-text-messages-when-querying-for-call-log)

我会提前声明，我知道 .. 处的“logtype”列`CallLog.Calls.CONTENT_URI`。不相关，因为该表现在是空的，并且数据不是来自那里。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-06-18T13:13:39.853

找到了答案——

为了访问三星通话记录，我们需要在清单中添加几个权限：

```
<uses-permission android:name="com.sec.android.provider.logsprovider.permission.READ_LOGS" />
<uses-permission android:name="com.sec.android.provider.logsprovider.permission.WRITE_LOGS" /> 
```

现在，我们要做的就是使用内容解析器从 content://logs/historys 中删除日志类型 400、410、700、200、300、600 和 500，如下所示：

```
 mContext = getActivity(); // Assuming that you are doing this from within a Fragment

    try
    {
        mContext.getContentResolver().delete(Uri.parse("content://logs/historys"), "logtype='400'", null);
        mContext.getContentResolver().delete(Uri.parse("content://logs/historys"), "logtype='410'", null);
        mContext.getContentResolver().delete(Uri.parse("content://logs/historys"), "logtype='700'", null);
        mContext.getContentResolver().delete(Uri.parse("content://logs/historys"), "logtype='200'", null);
        mContext.getContentResolver().delete(Uri.parse("content://logs/historys"), "logtype='300'", null);
        mContext.getContentResolver().delete(Uri.parse("content://logs/historys"), "logtype='600'", null);
        mContext.getContentResolver().delete(Uri.parse("content://logs/historys"), "logtype='500'", null);
    }
    catch(Exception exception)
    {
        exception.printStackTrace();
    } 
```

对我来说就像一个魅力。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-17T07:12:12.090

> The result was that all text messages are deleted from the device, call log is clear from calls, BUT still contains SMS logs (for SMS messages that does not exist).

what exactly your indication for "still contains SMS logs"? what contains SMS logs?
I'll assume you refer to Samsung Phone calls app. if so - unfortunately, as @CommonsWare said, this phone calls app not necessarily displaying correct state of the database behind the relevant `ContentProvider`.

it might be that this app caching (persistent / not persistent) data, and not refreshes it when the "real data" (from content provider database) change.. who knows... maybe only if it process will restart, and it cache would clear - it would refresh itself...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-18T11:40:48.937

三星为消息日志使用单独的存储空间。尽管如此，他们还是创建了一个特殊的 ContentProvider 来访问它们。源我还没有找到，但找到了 URI: `content://logs/historys`。

删除指定编号的日志示例：

```
try{
    context.getContentResolver().delete(Uri.parse("content://logs/historys"), CallLog.Calls.NUMBER + " like '%" + number + "'", null);
} catch (IllegalArgumentException e){
    //that mean this not samsung device
} 
```

# c# - 基于另一个列表提取列表的快速方法

> ID：15246490
> 
> 赞同：4
> 
> 时间：2013-03-06T11:45:02.110
> 
> 标签：c#

```
List1: {"123456", "432978", "321675", …}  // containing 100,000 members

List2: {"7674543897", "1234568897", "8899776644",…} // containing 500,000 members 
```

我想提取 List2 中前 6 位来自 List1 成员的所有项目，所以这里的字符串“1234568897”是有效的，因为它的前 6 位来自 List1 的第一项。最快的方法是什么？

```
 foreach(string id in List1)
    {
    string result = List2.FirstOrDefault(x => x.Contains(id));
    if(result!=null)
      {
      //some works here
      }
} 
```

这适用于少于 1000 个的组，但是当 List2 项目增长时，这需要太长时间

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T11:51:44.267

您可以使用[`Enumerable.Join`](http://msdn.microsoft.com/en-us/library/bb534675.aspx)非常[有效](https://stackoverflow.com/questions/5551264/why-is-linq-join-so-much-faster-than-linking-with-where)的方法：

```
var match = from str1 in List1
            join str2 in List2
            on str1 equals (str2.Length < 6 ? str2 : str2.Substring(0, 6))
            select str2; 
```

[**演示**](http://ideone.com/huXh03)

**编辑**

由于@Oleksandr Pshenychnyy 认为这样大的集合会很慢，所以这里有一个演示，其中 list1 中有 100000 个随机字符串，list2 中有 500000 个字符串，范围与问题中的相同。它在 ideone 上执行 600 毫秒：

[http://ideone.com/rB6LU4](http://ideone.com/rB6LU4)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:05:00.183

这在很大程度上取决于您正在运行的硬件。不过，您很可能正在进行过早的优化。简单地暴力破解它可能就足够快了。500,000 * 100,000 是您的最大比较次数（即，如果没有匹配项）这在合理规格的台式 PC 上真的不会花很长时间。

如果您发现这对于您的目的来说太慢了，那么您可以使用一些技术来提高性能：

1.  并行化它。这只会在多核硬件上显示出巨大的好处。从本质上讲，您需要一个调度程序类，它将 List2 中的数字提供给执行在 List1 中搜索匹配项的线程。请参阅[任务并行库](http://msdn.microsoft.com/en-gb/library/dd460717.aspx)。

2.  通过变得更聪明来减少比较次数。对您的集合进行一些预分析，以改进它们的特征以进行比较步骤。例如，将 List1 中的项目放入“桶”列表中，其中每个桶包含具有相同前 2 个数字的所有序列。例如，存储桶 1 将包含以“00”开头的那些，存储桶 2 “01”等。当您进行实际比较时，您只需比较少量字符串。从您的示例中，对于“1234568897”，我们将检查存储桶中的“12”，然后我们知道我们只需要与该存储桶中的字符串进行完整的字符串比较。

这种预处理实际上可能会使事情变慢，因此请确保您分析您的代码以确保。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T12:21:26.267

实现所需内容的最有效方法是[Aho-Corasick](http://en.wikipedia.org/wiki/Aho%E2%80%93Corasick_string_matching_algorithm)算法- 如果您需要动态处理 List 2 的新元素。它基于前缀树，这是字符串搜索算法中常用的技术。这些算法会给你O的复杂度（所有字符串长度的总和）

另一个选项是[Knuth-Morris-Pratt](http://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm)算法，它会给您相同的复杂性，但最初使用单个字符串进行搜索。

但如果你对没问题`O((list2.Count*log(list2.Count) + list1.Count*log(list1.Count))*AverageStrLength)`，我可以提出我的简单实现：对两个列表进行排序。然后同时进行并选择匹配项。

**更新：**当您已经对列表进行排序时，此实现很好。然后它在大约 100 毫秒内执行。但是排序本身需要 3.5 秒，所以实现不如我最初预期的那么好。至于简单的实现，蒂姆的解决方案更快。

```
list1.Sort();
list2.Sort();
var result = new List<string>();
for(int i=0, j=0; i<list1.Count; i++)
{
    var l1Val = list1[i];
    for (; j < list2.Count && string.CompareOrdinal(l1Val, list2[j]) > 0; j++) ;
    for (; j < list2.Count && list2[j].StartsWith(l1Val); j++)
    {
        result.Add(list2[j]);
    }
} 
```

这是我能提出的最简单有效的实现。

# backbone.js - Backbone：我可以得到它所在模型的集合吗？

> ID：15246491
> 
> 赞同：0
> 
> 时间：2013-03-06T11:45:02.833
> 
> 标签：backbone.js, collections, models

我可以获取找到它的模型的集合吗？我想获取模型的集合，用于计算相对于当前模型的前后模型。可以在Backbone中完成吗？

```
var PhotoView = Backbone.View.extend({
    className: "media-item",
    template: _.template(photoItemTemplate),
    render: function(){
        var data, next;
        data = this.model.toJSON();

        this.$el.html(this.template(data));

        return this;
    },
    prev: function () {
        //this.model.collection = ??
    },
    next: function () {
       //this.model.collection = ??
    }
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:02:59.320

```
var collection = this.model.collection;
var prevModel = collection.at(collection.indexOf(this.model) - 1);
var nextModel = collection.at(collection.indexOf(this.model) + 1); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:56:32.700

`this.model.collection`也会给你模型所属的集合。

# file - 如何在 Sublime Text 2 中创建打开文件的文本列表

> ID：15246494
> 
> 赞同：6
> 
> 时间：2013-03-06T11:45:28.087
> 
> 标签：file, sublimetext2

您好，提前感谢您对此提供的任何帮助。

我曾尝试在这里和网络上的其他地方打猎，但没有找到任何帮助。如果这很明显或者之前已经被问过，那么我很抱歉。

我正在使用 Sublime Text 2，我经常会收到大量打开的文件，因为它们符合我一直在研究的标准。

我想在 Sublime 文本中将所有这些文件列出一个新的文本文件。

类似于：为每个打开的文件写入文件名（或可能是完整的文件路径）

我知道我可以从打开的文件面板到达那里，但它只列出了文件，没有与我预期的交互。想我也许可以突出显示文件并使用复制和粘贴来获取列表。

这是我错过的内置功能吗？是否已经有一个包可以做到这一点？我是否必须弄清楚如何编写插件才能做到这一点？

再次，非常感谢您在这方面的任何和所有帮助。

（如果有什么不同，那就是 Sublime text 2，主要是在 Windows 上，但我也会定期切换到 Mac 来完成不同的工作）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2018-03-28T08:40:35.933

```
import sublime
import sublime_plugin

class RunningfileCommand(sublime_plugin.TextCommand):
    def run(self, edit):
        self.view.window().new_file().insert(edit, 0, "\n".join([view.file_name() for view in sublime.active_window().views() if view and view.file_name()])) 
```

1.  使用上述代码创建文件并保存为**filelist.py**
2.  打开崇高，转到首选项-> 选择浏览包
3.  转到用户文件夹并移动到文件上方（**filelist.py**）
4.  现在转到首选项 - >键绑定
5.  在其上添加以下内容：

    [{“键”：[“f12”]，“命令”：“运行文件”}]

6.  现在按 f12，您将在新窗口中获得所有打开的文件路径

谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T20:12:53.610

这是一种获取类似内容的 hacky 且相对快速的方法：

1.  `Ctrl`+ `Shift`+ `F`（这会弹出`Find in files`对话框）
2.  确保 Regex 模式已打开（`.*`按钮）并在之后搜索`$`，例如
3.  您现在有一个包含所有内容的大文件。希望不要太大以减慢 Sublime 的速度。现在按`Ctrl`+`F`进行正常`Search`对话
4.  输入`^_`（插入符号+空格，而不是下划线）并点击`Find All`
5.  `Ctrl`++`Shift`删除`K`所有这些内容行

那里！现在您有了一个包含完整路径的所有打开文件的列表。

更简洁：

*   `Ctrl`+ `Shift`+`F`
*   `.*`按钮打开，搜索后`$`
*   `Ctrl`+`F`
*   `.*`按钮仍然打开，搜索后`^[space]`->`Find All`
*   `Ctrl`+ `Shift`+`K`

* * *

另一种方法是为自己制作一个小插件，只需按一下键即可为您做到这一点。

从[SublimeText2 API](http://www.sublimetext.com/docs/2/api_reference.html)中，您可以获得一些有用的方法：

```
Class sublime.Window.views()    [View]    Returns all open views in the window. 
```

然后

```
Class sublime.View.file_name()    String    The full name file the file
                                            associated with the buffer, or
                                            None if it doesn't exist on disk. 
```

您可以从现有插件开始。不过，这涉及到一些 Python 编程技能。

# ember.js - 如何处理从 DOM 效果中移除？

> ID：15246497
> 
> 赞同：3
> 
> 时间：2013-03-06T11:45:34.970
> 
> 标签：ember.js

我有一个基于条件呈现的视图：

```
{{#if boolean}}
  {view MyView}}
{{/if}} 
```

当元素插入 DOM 时，我可以轻松地添加一个漂亮的动画：

```
MyView: {
  didInsertElement: function() {
    this.$().hide().show('slide', {direction: 'left', duration: 2000});
  }
} 
```

但是，当元素从 DOM 中移除时，就不能这样做了：

```
MyView: {
  willDestroyElement: function() {
    this.$().hide('slide', {direction: 'right', duration: 2000});
  }
} 
```

这不起作用，因为根据超出此视图控制的条件显示元素，该元素会立即从 DOM 中删除。异步动画永远不会运行。

处理这个问题的最佳方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T11:14:47.913

这是一个 hacky 解决方案，但对我有用：

```
willDestroyElement: ->
  element = @$().clone()
  @$().replaceWith element
  element.slideUp 250, ->
    element.remove() 
```

基本上就是克隆 DOM 元素，让 Ember 销毁与视图关联的元素，用克隆做动画（一定要在动画完成后销毁克隆）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T12:47:21.217

对于一个简单的情况，您可以改为将布尔值绑定到您的视图并观察它，手动隐藏和显示视图，否则将其留在 DOM 中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T08:50:27.817

在你看来，为什么不做这样的事情呢？

```
booleanChanged: function() {
  var boolean = this.get('controller.boolean');
  if (boolean) {
    this.$().hide().show('slide', {direction: 'left', duration: 2000});
  } else {
    this.$().hide('slide', {direction: 'right', duration: 2000});
  }
}.observes('controller.boolean') 
```

只需在您的车把中使用

```
{view MyView}} 
```

# hibernate - Grails deleteAll() 因休眠异常而失败

> ID：15246501
> 
> 赞同：1
> 
> 时间：2013-03-06T11:45:44.283
> 
> 标签：hibernate, grails, grails-orm

我正在尝试在我限定其中一个类属性值（Member.submissionId 和submission.id 作为长类型）的域类上运行 delete all。

这是我的代码：

```
def memberCount = Member.where{ eq( "submissionId", submission.id ) }.deleteAll() 
```

这是我得到的例外：

```
nested exception is org.hibernate.hql.ast.QuerySyntaxException: unexpected token: member near line 1, column 57 [DELETE my.domain.Member member WHERE (member.submissionId=?)] 
```

我引用提交对象的其他删除似乎工作正常：

```
def subErrorCount = SubmissionError.where{ eq( "submission", submission ) }.deleteAll() 
```

对于这个删除，生成的 SQL 是正确的：

```
delete from submission_error where submission_id=? 
```

我能看到的唯一区别是 SubmissionError 属于父 Submission 对象，其中 Member 通过其 submitId 属性（它属于另一个对象）具有到 Submission 的软链接。

有什么建议么？

编辑：另外，由于它生成的 SQL，我假设此删除方法不是级联删除是否正确？即属于选定成员的对象不会被删除。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:11:16.997

看起来“成员”是 HQL 中的保留字。如果不是很麻烦，我建议更改域模型名称。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T16:15:19.723

您可以通过自己将查询编写为 HQL 查询来避免生成错误的 HQL：

```
Member.executeUpdate("delete Member m where m.submissionId = :subId", [subId: submission.id]) 
```

# javafx - 我不明白 javaFX 中的鼠标点击事件

> ID：15246503
> 
> 赞同：0
> 
> 时间：2013-03-06T11:45:48.827
> 
> 标签：javafx, mouseclick-event

我有一个关于 javaFX 的问题，我们点击时更改颜色的代码是：

绑定 if (rectangle.pressed) Color.RED else Color.GREEN

现在我们希望颜色在单击时保持红色。你们能帮帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:51:22.217

示例代码 1：悬停并按下变量

如果鼠标悬停在正方形上，以下代码会在正方形上添加一个黄色笔划。如果在将鼠标悬停在正方形上时按下鼠标按钮，填充颜色将变为红色。

```
import javafx.scene.*;
import javafx.scene.shape.*;
import javafx.scene.paint.*;

var r : Rectangle;
Scene {
   content: [
       r = Rectangle {
           x: 20 y: 20 width: 50  height: 50
           fill:   bind if (r.pressed) Color.RED    else Color.GREEN
           stroke: bind if (r.hover)   Color.YELLOW else null
           strokeWidth: 10
       }
   ]
} 
```

或者你需要的是：

```
onMouseClicked:function(e: MouseEvent)
            {
             if(circle.fill == Color.GREEN)
                circle.fill = Color.RED
             else
                circle.fill = Color.GREEN
            } 
```

# javascript - 如何从ajax响应中获取对象属性

> ID：15246505
> 
> 赞同：1
> 
> 时间：2013-03-06T11:45:52.547
> 
> 标签：javascript, jquery, html, ajax

我使用 ajax 调用服务器并返回类实例。

我的返回 ajax 响应如下所示。

```
 Object { id=1362570046980 , creationDate=1362570046980, type="PUBLIC"} 
```

我如何从该对象中获取 id 、 creationDate 和 type 的值。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:47:15.747

使用`.`运算符获取对象值..但是你得到的对象很奇怪..不是 JSON ..所以确保它返回 json

说你的对象是数据

```
alert(data.id) //gives you 1362570046980 
alert(data.creationDate) //gives you 1362570046980 
alert(data.type) //gives you PUBLIC 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T11:49:31.453

试试这样：

```
var myobject = yourAjaxResponseObject;

alert(myobject.id);
alert(myobject.creationDate);
alert(myobject.type); 
```

将变量映射到您的对象/响应，并以上述方式访问它的属性等。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T11:50:23.377

您需要在 ajax 函数中指定一个回调函数，将包含响应的对象传递给该回调函数。

```
$.ajax({
type: "POST",
url: "some.php",
data: { name: "John", location: "Boston" },
complete: function(data){ //This is the callback function
  alert(data.id);
  alert(data.creationDate);
  alert(data.type);
}
}); 
```

如您所见，您可以使用简单的点表示法访问 json 中的属性。

# c# - 如何显示数组值在数组中的次数？

> ID：15246508
> 
> 赞同：3
> 
> 时间：2013-03-06T11:46:01.773
> 
> 标签：c#, arrays, for-loop

我有一个包含重复值的数组。我需要显示在数组中找到每个值的次数。

假设我有一个包含 8 个值的数组，array = {1,2,3,1,1,2,6,7} 我需要输出为：

```
1 was found 3 times
2 was found 2 times
3 was found 1 time
6 was found 1 time
7 was found 1 time 
```

这是我的代码。现在我将数组中的每个值保存到一个变量中，然后循环遍历数组以检查该值是否存在，然后将其打印出来。

```
 int[] nums = { 2, 4, 14, 17, 45, 48, 5, 6, 16, 25, 28, 33, 17, 26, 35, 44, 46, 49, 5, 6, 20, 27, 36, 45, 6, 22, 23, 24, 33, 39, 4, 6, 11, 14, 15, 38, 5, 20, 22, 26, 29, 47, 7, 14, 16, 24, 31, 32 };
            for (int i = 0; i < nums.Length; i++)
            {
                int s = nums[i];
                for (int j = 0; j < nums.Length; j++)
                {
                    if (s == nums[j])
                    {
                        Console.WriteLine(s);
                    }
                }

            } 
```

提前致谢

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-06T11:47:32.100

```
foreach(var grp in nums.GroupBy(x => x).OrderBy(grp => grp.Key)) {
    Console.WriteLine("{0} was found {1} times", grp.Key, grp.Count());
} 
```

使用数字本身作为键（通过）将`GroupBy`所有值分组`x => x`。对于每个唯一值，我们将有一个不同的组，其中包含一个或多个值。这`OrderBy`确保我们按键顺序（通过`grp => grp.Key`）报告组。最后，`Count`告诉我们有多少项目在由`Key`（原始值，如果你记得的话）标识的组中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T11:48:41.187

*分组*`.Key`和排序`.Count`后如何*使用*？

 **```
foreach(var g in nums.GroupBy(x => x).OrderBy(g => g.Key))
{
    Console.WriteLine("{0} was found {1} times", g.Key, g.Count());
} 
```

这是一个[`DEMO`](http://ideone.com/p054Ci).

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:51:18.187

您可以通过[Enumerable.GroupBy](http://msdn.microsoft.com/en-us/library/bb534501.aspx)处理此问题。我建议查看有关 Count 和 GroupBy 的[C# LINQ 示例](http://code.msdn.microsoft.com/101-LINQ-Samples-3fb9811b)部分以获取指导。

在您的情况下，这可以是：

```
int[] values = new []{2, 4, 14, 17, 45, 48, 5, 6, 16, 25, 28, 33, 17, 26, 35, 44, 46, 49, 5, 6, 20, 27, 36, 45, 6, 22, 23, 24, 33, 39, 4, 6, 11, 14, 15, 38, 5, 20, 22, 26, 29, 47, 7, 14, 16, 24, 31, 32};

var groups = values.GroupBy(v => v);
foreach(var group in groups)
    Console.WriteLine("{0} was found {1} times", group.Key, group.Count()); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T11:54:05.140

您是否正在使用阵列进行纯教育？C#`Collections`提供了许多方便的功能来解决此类问题。`System.Collections.Dictionary`提供您正在寻找的功能。添加一个项目，如果它不存在并做出反应，当一个键已经被添​​加时。

```
using System.Collections.Generic;

Dictionary<int,int> dic = new Dictionary<int, int>();
if(!dic.Keys.Contains(key))
   //add key and value
else 
  //get key and add value 
```

请参阅[MSDN](http://msdn.microsoft.com/en-us/library/xfhwa508%28v=vs.110%29.aspx)。**

# visual-studio - Visual Studio 2012 中的 Crystal 报表：平滑折线图

> ID：15246513
> 
> 赞同：1
> 
> 时间：2013-03-06T11:46:23.233
> 
> 标签：visual-studio, charts, crystal-reports, linechart

我正在使用 Visual Studio 2012、.NET C# 和 Crystal Reports 创建报表。一些报告包含折线图。所以我的问题是；是否可以使图表中的线条平滑？

我在这里找到了一个完全符合我要求的库[http://www.threedgraphics.com/tdg/products/tools/crchart/product_info.php](http://www.threedgraphics.com/tdg/products/tools/crchart/product_info.php)（向下滚动并查看“平滑渲染”），但它太贵了.

有没有人对此有很好的解决方案？

# iphone - 如何从我的选项卡 barviewcontroller 应用程序中注销并在 iphone 应用程序的所有选项卡上刷新？

> ID：15246514
> 
> 赞同：2
> 
> 时间：2013-03-06T11:46:24.533
> 
> 标签：iphone, ios, uitabbarcontroller, logout

我是初学者 iOS 应用程序开发人员。我正在做 Web 服务应用程序并依赖于 API。我的应用程序是在选项卡栏 viewcontrller 应用程序上创建的。我在登录详细信息中使用了第一个选项卡，在注销按钮中使用了第四个选项卡。当我单击注销按钮时我需要在所有选项卡中注销并刷新登录详细信息。请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:51:17.903

您可以为注销通知注册视图控制器。当您在第一个选项卡上的视图控制器发布注销通知时，其他视图控制器可以执行所需的代码。

如何创建和观察自己的通知？请参考这里[https://developer.apple.com/library/ios/#documentation/Cocoa/Conceptual/Notifications/Introduction/introNotifications.html#//apple_ref/doc/uid/10000043i](https://developer.apple.com/library/ios/#documentation/Cocoa/Conceptual/Notifications/Introduction/introNotifications.html#//apple_ref/doc/uid/10000043i)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:55:24.660

只需将注销按钮放在所有视图的导航栏中，单击它即可删除您存储为登录 ID 和密码的值，然后执行此操作[因为您在第一个视图中有登录屏幕]

```
[self.tabBarController setSelectedIndex:1]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T12:42:18.883

为什么不使用登录视图控制器（模式），然后在用户“注销”时继续使用该 VC（并清除任何 NSUserDefaults 或您用来保存用户信息的任何其他存储）。

我的过程是： 1\. 清除登录用户信息的 NSUserDefaults 2\. 转到模态登录 VC（没有可见的选项卡） 3\. 下一个用户登录时，关闭委托（关闭登录 VC 并将用户信息保存到 NSUserDefaults） .

# jsf-2 - FacesServlet 的配置可能不好

> ID：15246516
> 
> 赞同：0
> 
> 时间：2013-03-06T11:46:30.053
> 
> 标签：jsf-2, security, web.xml, jaas

使用以下 web.xml 呈现标签 jsf，但我在模板、css 和按钮方面遇到了很多问题

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app version="3.0" xmlns="http://java.sun.com/xml/ns/javaee"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd">

 <context-param>
    <param-name>javax.faces.PROJECT_STAGE</param-name>
    <param-value>Production</param-value>
  </context-param>

  <context-param>
    <param-name>javax.faces.DEFAULT_SUFFIX</param-name>
    <param-value>.xhtml</param-value>
  </context-param>

  <servlet>
    <servlet-name>Faces Servlet</servlet-name>
    <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>
    <load-on-startup>1</load-on-startup>
  </servlet>
  <servlet-mapping>
  <servlet-name>Faces Servlet</servlet-name>
  <url-pattern>*.xhtml</url-pattern>
  </servlet-mapping>

<security-constraint>

        <!-- Applicazione Web -->
        <web-resource-collection>
            <web-resource-name>Applicazione</web-resource-name>
                <url-pattern>*.xhtml</url-pattern>
                    <http-method>GET</http-method>
                    <http-method>POST</http-method>
        </web-resource-collection>

        <auth-constraint>
            <role-name>*</role-name>
        </auth-constraint>

</security-constraint>

<login-config>
    <auth-method>FORM</auth-method>
        <form-login-config>
            <form-login-page>/login.xhtml</form-login-page>
            <form-error-page>/login.xhtml</form-error-page>
        </form-login-config>
</login-config>

<security-role>
    <role-name>*</role-name>
</security-role>         

<welcome-file-list>
   <welcome-file>index.xhtml</welcome-file>
</welcome-file-list>

</web-app> 
```

相反，这是我的 login.xml，它位于我的应用程序的 / 文件夹中

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich" template = "/WEB-INF/template/login.xhtml" >

    <ui:define name="areaLogin">
     <p>Login to access secure :</p>
     <h:form >

        <h:panelGrid styleClass="myTable3" columns='2' border="1" >

            <h:outputLabel value='Username: ' />
            <h:inputText value="#{beanLogin.username}" />

            <h:outputLabel value='Password: ' />
            <h:inputSecret value="#{beanLogin.password}" />

            <h:outputText value='' />

            <h:panelGrid columns='1'>
       <a4j:commandButton action="#{beanLogin.login()}" value="Login" onclick="selezionaClientiAttivi();selezionaFattureInScadenza();selezionaOrdiniNonFatturati();" status="StatoLogin"  />
       </h:panelGrid>
      </h:panelGrid>

    </ui:define>
</ui:composition> 
```

如上所述，jsf 组件被渲染但没有调用 tempate 并且 a4j:commandButton 不起作用，相反，如果我删除了安全约束并更改了欢迎文件列表

```
 <welcome-file-list>
    <welcome-file>login.xhtml</welcome-file>
  </welcome-file-list> 
```

一切正常

我哪里错了？

# c# - C# - 更改任务栏的图标

> ID：15246520
> 
> 赞同：21
> 
> 时间：2013-03-06T11:46:46.603
> 
> 标签：c#, winforms, icons, taskbar

我想更改我的软件任务栏上的图标，所以我更改了项目设置。此路径是由 Visual Studio 本身建议的

![图标的路径](../Images/dfdc8c0b40c6ca39d45281b6b16d75c3.png)

但是我的任务栏仍然显示与以前相同的图标（标准图标） - 在我的资源管理器中，.exe 具有正确的图标，它不会在任务栏中更改。

我也尝试结束 explorer.exe 并重新启动任务，但这根本没有帮助。我还尝试将分辨率设置为 16x16 和 32x32，但两者都不起作用。

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2013-03-06T11:47:42.483

您还需要为您的表单提供该图标。应用程序图标是嵌入在应用程序中并显示在资源管理器或快捷方式中的图标。不过，每个表单都可以有自己的图标。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2013-03-06T12:02:06.680

我注意到 Windows 7 和 Windows 8 的一些事情。Windows 任务栏图标取自程序快捷方式的图标，而不是应用程序图标。

如果您通过 Visual Studio 为您的应用程序分配一个图标，它将设置一个显示在表单和通知区域中的图标。但是，您创建的任务栏图标和任何快捷方式都不会像以前那样从应用程序中获取图标，而是使用默认快捷方式图标创建它们。

所以我发现我必须将快捷方式图标（位于开始菜单中）设置为应用程序安装程序的一部分。

对于 Windows XP，我不必这样做。

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2017-05-29T09:19:37.333

1 - 将文件（例如 Address_Book.ico）添加到资源部分

2 - 在您的代码中添加后续行

```
 public Form1()
   {
       ....
       this.Icon = Properties.Resources.Address_Book;
   } 
```

3 - 它有效。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2013-03-06T11:51:10.173

通过代码设置`Form.Icon` 属性还考虑以下建议`MSDN`

表单的图标指定在任务栏中代表表单的图片以及为表单的控制框显示的图标。`FormBorderStyle`如果设置为 ，此属性将无效`FixedDialog`。在这种情况下，表单将不会显示图标。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2018-01-22T13:28:41.230

您将需要使用工具箱中的 notifyicon 组件。请按照以下说明进行操作。

[带有 Windows 窗体 NotifyIcon 组件的任务栏](https://docs.microsoft.com/en-us/dotnet/framework/winforms/controls/app-icons-to-the-taskbar-with-wf-notifyicon)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-06T15:53:01.497

项目属性中设置的图标是可执行文件的图标，而不是任务栏中的图标，任务栏中的图标是当前表单中的图标。

如果您有多个具有相同图标的表单，并且您使用 GUI 设置表单的图标，那么它将将该图标的多个实例添加到编译的可执行文件中，这将导致更大的编译可执行文件。

所以你应该把这个`Icon = Properties.Resources.icon;`放在每个表单的构造函数中来设置表单的图标。

至于图标大小，我不确定最大大小是多少，但我使用 128x128 图标文件。

# jquery - 过滤对象并将属性值分配给数组？

> ID：15246521
> 
> 赞同：0
> 
> 时间：2013-03-06T11:46:47.697
> 
> 标签：jquery, knockout.js

我有一个 ko 对象，它有一些属性。我只需要 ItemName 属性的值。

是否可以过滤此对象并获取 ItemName 属性值并将其推送到数组中。

```
items":[{"ItemID":1,"ItemName":"Asia","ItemLevel":0,"ItemParentID":0},
        {"ItemID":2,"ItemName":"Europe","ItemLevel":1,"ItemParentID":0},
        {"ItemID":3,"ItemName":"Africa","ItemLevel":2,"ItemParentID":0}] 
```

所以我们最终得到以下结果：

```
array[0] = "Asia"
array[1] = "Europe"
array[2] = "Africa"

ko.utils.arrayFilter(items(), function(item) {
            return item.ItemName();
        }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:49:47.620

使用数组映射

```
items":[{"ItemID":1,"ItemName":"Asia","ItemLevel":0,"ItemParentID":0},
        {"ItemID":2,"ItemName":"Europe","ItemLevel":1,"ItemParentID":0},
        {"ItemID":3,"ItemName":"Africa","ItemLevel":2,"ItemParentID":0}]

var array = ko.utils.arrayMap(items, function(item) {
    return item.ItemName;
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:49:15.187

您可以使用带有包含映射的[映射插件来仅复制您想要的字段：](http://knockoutjs.com/documentation/plugins-mapping.html)

```
var mapping = {
    'include': ["ItemName""]
}
var viewModel = ko.mapping.fromJS(items, mapping); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:49:59.643

你写了几乎正确的代码。只需替换`arrayFilter`为`arrayMap`：

```
ko.utils.arrayMap(items(), function(item) {
            return item.ItemName();
        }); 
```

# python - 在 python tkinter 中处理异常

> ID：15246523
> 
> 赞同：5
> 
> 时间：2013-03-06T11:46:51.457
> 
> 标签：python, tkinter

我用 Python Tkinter 编写了一个应用程序。我最近注意到，对于其中一项操作，如果该操作失败，它有时会关闭（没有给出任何错误）。我写了一个小程序来说明这个问题：-

```
import os
from Tkinter import *

def copydir():
    src = "D:\\a\\x\\y"
    dest = "D:\\a\\x\\z"
    os.rename(src,dest)

master = Tk()

def callback():
    global master
    master.after(1, callback)
    copydir()
    print "click!"

b = Button(master, text="OK", command=copydir)
b.pack()

master.after(100, callback)

mainloop() 
```

要重现该问题，请在“ms 命令提示符”中打开它将重命名的文件夹，以便重命名它会从 Tkinter 代码中引发异常。

我的原始代码使用线程并且也在执行其他任务，所以我试图使这个测试脚本中的操作尽可能相似。

现在，如果我通过双击运行此代码，则程序会简单地关闭而不会引发任何错误。但是如果我一直从控制台运行这个脚本，那么异常消息会被转储到控制台上，至少我知道，出了点问题。

我可以通过在尝试重命名的代码中使用 try/catch 来修复此代码，但我也想通知用户此失败。所以我只想知道在编写 Tkinter 应用程序时应该遵循哪些编码方法，我想知道：-

1）每当用户通过双击运行它时，我可以让我的脚本在文件中转储一些堆栈跟踪吗？至少，我会知道出了点问题并修复它。

2) 我可以阻止 tkinter 应用程序在出现此类错误时退出并在某些 TK 对话框中抛出任何异常。

感谢帮助！！

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2016-01-28T22:04:30.093

我看到您有一个非面向对象的示例，所以我将展示两个变体来解决异常捕获问题。

密钥在`tkinter\__init__.py`文件中。可以看到有一个文档`report_callback_exception`化的`Tk`类方法。这是它的描述：

> `report_callback_exception()`
> 
> 在 sys.stderr 上报告回调异常。
> 
> 应用程序可能想要覆盖这个内部函数，并且应该在 sys.stderr 为 None 时。

所以我们看到它应该覆盖这个方法，让我们去做吧！

**非面向对象的解决方案**

```
import tkinter as tk
from tkinter.messagebox import showerror

if __name__ == '__main__':

    def bad():
        raise Exception("I'm Bad!")

    # any name as accepted but not signature
    def report_callback_exception(self, exc, val, tb):
        showerror("Error", message=str(val))

    tk.Tk.report_callback_exception = report_callback_exception
    # now method is overridden

    app = tk.Tk()
    tk.Button(master=app, text="bad", command=bad).pack()
    app.mainloop() 
```

**面向对象的解决方案**

```
import tkinter as tk
from tkinter.messagebox import showerror

class Bad(tk.Tk):

    def __init__(self, *args, **kwargs):
        super().__init__(*args, **kwargs)
        # or tk.Tk.__init__(*args, **kwargs)

        def bad():
            raise Exception("I'm Bad!")
        tk.Button(self, text="bad", command=bad).pack()

    def report_callback_exception(self, exc, val, tb):
        showerror("Error", message=str(val))

if __name__ == '__main__':

    app = Bad()
    app.mainloop() 
```

[结果](https://i.stack.imgur.com/9cgaL.png)

我的环境：

```
Python 3.5.1 |Anaconda 2.4.1 (64-bit)| (default, Dec  7 2015, 15:00:12) [MSC  
v.1900 64 bit (AMD64)] on win32

tkinter.TkVersion
8.6

tkinter.TclVersion
8.6 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-06T14:13:07.860

您可以覆盖 Tkinter 的[`CallWrapper`](http://mgltools.scripps.edu/api/DejaVu/Tkinter.CallWrapper-class.html). 为此，必须使用 Tkinter 的命名导入而不是通配符导入：

```
import Tkinter as tk
import traceback

class Catcher: 
    def __init__(self, func, subst, widget):
        self.func = func 
        self.subst = subst
        self.widget = widget
    def __call__(self, *args):
        try:
            if self.subst:
                args = apply(self.subst, args)
            return apply(self.func, args)
        except SystemExit, msg:
            raise SystemExit, msg
        except:
            traceback.print_exc(file=open('test.log', 'a'))

# ...
tk.CallWrapper = Catcher
b = tk.Button(master, text="OK", command=copydir)
b.pack()
master.mainloop() 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-06T12:10:46.437

我不太确定我是否已经很好地理解了您，但是这个简单的代码使您可以控制找不到目录的情况：

```
import os
from Tkinter import *

def copydir():
    src = "D:\\troll"
    dest = "D:\\trollo"

    try:
        os.rename(src, dest)
    except:
        print 'Sorry, I couldnt rename'
        # optionally: raise YourCustomException
        # or use a Tkinter popup to let the user know

master = Tk()

b = Button(master, text="OK", command=copydir)
b.pack()

mainloop() 
```

**编辑**：由于您想要一个通用方法并且 Tkinter 不传播异常，因此您必须对其进行编程。有两种方法：

1）像我在上面的例子中所做的那样将它硬编码到函数中（可怕）

2) 使用装饰器添加 try-except 块。

```
import os
from Tkinter import *

class ProvideException(object):
    def __init__(self, func):
        self._func = func

    def __call__(self, *args):

        try:
            return self._func(*args)

        except Exception, e:
            print 'Exception was thrown', str(e)
            # Optionally raise your own exceptions, popups etc

@ProvideException
def copydir():
    src = "D:\\troll"
    dest = "D:\\trollo"

    os.rename(src, dest)

master = Tk()

b = Button(master, text="OK", command=copydir)
b.pack()

mainloop() 
```

**编辑：**如果你想包括堆栈

```
include traceback 
```

在 except 块中：

```
except Exception, e:
    print 'Exception was thrown', str(e)
    print traceback.print_stack() 
```

A.Rodas 提出的解决方案更简洁、更完整，但更难理解。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T13:04:41.840

您可以使用 except-hook() 为异常安装全局处理程序。一个例子可以在[这里](http://pymotw.com/2/sys/exceptions.html)找到。

# trigger.io - 我可以禁用或删除推送到重新加载流的版本吗？

> ID：15246528
> 
> 赞同：0
> 
> 时间：2013-03-06T11:47:11.563
> 
> 标签：trigger.io

由于先前报告的错误，我现在需要禁用最新推送的版本...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T18:12:54.080

就上下文而言，这与 Trigger.io 平台 v1.4.32 的一个问题有关，该问题影响了 iOS 设备上的 Reload。

* * *

是的，你有几个选择。

首先是推送与您发布到应用商店的版本相同的重新加载更新：已经在重新加载中期的应用安装将继续进行，但任何全新安装或尚未开始下载更新的现有安装将看到最新的“无操作”，不做任何事情。

第二个选项将在您和我们之间进行更多协调 - 如果我们知道您推送到应用商店的确切版本，我们可以删除您推送的 Reload(s) 记录。与第一个选项一样，当前正在进行的重新加载将继续。

更新应用程序，在 v1.4.33 之上构建将更新您的所有用户，无论 Reload 处于什么状态。

如果您需要这些选项中的任何一个方面的帮助，请通过 support@trigger.io 联系！

# javascript - 有没有办法在 div 中放置表格单元格或解决方法

> ID：15246529
> 
> 赞同：0
> 
> 时间：2013-03-06T11:47:13.143
> 
> 标签：javascript, html, html-table, getelementbyid

我有一个使用表格布局的页面。它有三列我想在第一列（最左边）有链接，使用 Javascript 将两列的内容更改为右侧。

尝试将两个`table`单元格放在`div`or`span`元素中，但这似乎不是有效的 HTML

我知道您可以在一个单元格内放置一个 div 或 span。但是，我想使用两个单元格作为一种“窗格”来显示链接后面的内容。首先，考虑到需要显示的内容，我更喜欢两个独立的单元格，而不是一个双单元格。

由于这是一个遗留站点，因此不能选择无表布局。

任何人都可以建议一种解决方法来创建一个两列窗格以在单击链接时显示内容？

html

```
<table
    <tr>
        <td>StartContent1</td>
        <td>StartContent2</td>
        <td>StartContent3</td>
    </tr>
    <tr>
        <td>
            <a href="javascript:void()" onclick="loadPane();">Link</a>
        </td>
        <span id="pane">
            <td>StartContent4</td>
            <td>StartContent5</td>
        </span>
    </tr>
</table> 
```

JS

```
function loadPane() {
    document.getElementById('pane').innerHTML= "<td colspan=2>Two columns worth of expanded content</td>;
    return false;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:07:22.783

除了表格行中的元素之外`<td>`，您不能有任何东西。`<th>`

尝试这样的事情：

```
<tr>
    <td>
        <a href="javascript:void()" onclick="loadPane();">Link</a>
    </td>
    <td id="pane">StartContent4</td>
    <td id="paneHide">StartContent5</td>
</tr> 
```

Javascript：

```
var pane = document.getElementById('pane');
pane.innerHTML = 'Two columns worth of expanded content';
pane.setAttribute('colspan','2');
var paneHide = document.getElementById('paneHide');
paneHide.parentNode.removeChild(paneHide); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:59:01.860

您可以使用嵌套表解决此问题。想象一个外部表，您在左列中放置了一个链接。在外部表的右列中放置一个 div。在这个 div 中，内部表包含 2 列，一旦单击链接，它就会被替换为具有一列的新内部表。

jsFiddle可以在这里找到：[http :](http://jsfiddle.net/uwe_guenther/k92pK/) [//jsfiddle.net/uwe_guenther/k92pK/](http://jsfiddle.net/uwe_guenther/k92pK/)

*索引.html*

```
<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
    <body>
        <table id='outerTable'>
            <tr>
                <td>StartContent1</td>
                <td>
                    <table>
                        <tr>
                            <td>StartContent2</td>
                            <td>StartContent3</td>
                        </tr>
                    </table>
                </td>
            </tr>   
            <tr>
                <td><a href="#" onclick="loadPane();">Link</a></td>
                <td>
                    <div id='pane'>
                        <table id='innerTable'>
                            <tr>
                                <td>StartContent4</td>
                                <td>StartContent5</td>
                            </tr>
                        </table>
                    </div>
                </td>
            </tr>
        </table>
        <script src='main.js'></script>
    </body>
</html> 
```

*main.js*

```
function loadPane() {
    var pane = document.getElementById('pane')
    pane.innerHTML= '<table id="newInnerTable"><tr><td>Two columns worth of expanded content</td></tr></table>';
}; 
```

# c# - 检查缓存图像代码

> ID：15246530
> 
> 赞同：1
> 
> 时间：2013-03-06T11:47:13.810
> 
> 标签：c#, asp.net-mvc, caching

我有在 MVC 操作中缓存图像的代码，但我不明白什么是真正需要的，什么是多余的。你能检查一下并告诉我你的意见吗？

```
Response.Cache.SetCacheability(HttpCacheability.Public);
Response.Cache.SetExpires(DateTime.Now.AddSeconds(ApplicationSettings.CacheDuration));
Response.AppendHeader("Content-Length", imageContent.Length.ToString());
Response.Cache.VaryByParams.IgnoreParams = true;
Response.Cache.VaryByParams["*"] = true;
Response.Cache.SetValidUntilExpires(false);
Response.Cache.SetMaxAge(new TimeSpan(0, 0, ApplicationSettings.CacheDuration));
Response.AddHeader("content-disposition", string.Format("inline; filename={0}", fileName));

Response.OutputStream.Write(imageContent, 0, imageContent.Length);
Response.Flush();

return File(imageContent, contentType); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:01:58.597

我建议您改为在 web.config 中配置它。

```
<system.webServer>

  <staticContent>
    <clientCache cacheControlMode="UseExpires" httpExpires="Tue, 19 Jan 2038 03:14:07 GMT" />
   </staticContent>

</system.webServer> 
```

# voip - 用星号注册闪烁：

> ID：15246532
> 
> 赞同：1
> 
> 时间：2013-03-06T11:47:20.037
> 
> 标签：voip, asterisk, voice

我正在尝试用星号注册闪烁。但是注册不了。我尝试了一切，但没有成功。当我尝试注册时，它显示获取**注册失败：503 Service Unavailable**

这是日志：

```
+++ 6-3-2013 17:09:03.360376 INFO SIP ::send_sip_udp
Send to: udp:111.118.250.238:5060
REGISTER sip:111.118.250.238 SIP/2.0
Via: SIP/2.0/UDP 192.168.1.53:5059;rport;branch=z9hG4bKvqfojppg
Max-Forwards: 70
To: "fake4" <sip:fake4@111.118.250.238>
From: "fake4" <sip:fake4@111.118.250.238>;tag=yseuu
Call-ID: cfslniyxacntoop@localhost.localdomain
CSeq: 858 REGISTER
Allow: INVITE,ACK,BYE,CANCEL,OPTIONS,PRACK,REFER,NOTIFY,SUBSCRIBE,INFO,MESSAGE
User-Agent: Twinkle/1.4.2
Content-Length: 0

---

+++ 6-3-2013 17:09:03.362151 INFO NORMAL ::listen_udp
Received ICMP from: 111.118.250.238
ICMP type: 3
ICMP code: 10
Destination of packet causing ICMP: 111.118.250.238:5060
Socket error: 113 No route to host
---

+++ 6-3-2013 17:09:03.362239 INFO NORMAL t_tc_non_invite::process_icmp
ICMP error received.
---
+++ 6-3-2013 17:09:03.362312 INFO NORMAL t_tc_non_invite::process_failure
Transaction failed.

Send internal:
SIP/2.0 503 Service Unavailable
Via: SIP/2.0/UDP 192.168.1.53:5059;rport;branch=z9hG4bKvqfojppg
To: "fake4" <sip:fake4@111.118.250.238>;tag=frsdw
From: "fake4" <sip:fake4@111.118.250.238>;tag=yseuu
Call-ID: cfslniyxacntoop@localhost.localdomain
CSeq: 858 REGISTER
Server: Twinkle/1.4.2
Content-Length: 0

---

+++ 6-3-2013 17:09:03.362415 INFO NORMAL t_phone_user::handle_response_out_of_dialog
Failover to next destination.
---

+++ 6-3-2013 17:09:03.362650 INFO SIP ::send_sip_udp
Send to: udp:111.118.250.238:5060
REGISTER sip:111.118.250.238 SIP/2.0
Via: SIP/2.0/UDP 192.168.1.53:5059;rport;branch=z9hG4bKfqgzykug
Max-Forwards: 70
To: "fake4" <sip:fake4@111.118.250.238>
From: "fake4" <sip:fake4@111.118.250.238>;tag=yseuu
Call-ID: cfslniyxacntoop@localhost.localdomain
CSeq: 859 REGISTER
Allow: INVITE,ACK,BYE,CANCEL,OPTIONS,PRACK,REFER,NOTIFY,SUBSCRIBE,INFO,MESSAGE
User-Agent: Twinkle/1.4.2
Content-Length: 0

---

+++ 6-3-2013 17:09:03.364172 INFO NORMAL ::listen_udp
Received ICMP from: 111.118.250.238
ICMP type: 3
ICMP code: 10
Destination of packet causing ICMP: 111.118.250.238:5060
Socket error: 113 No route to host
---

+++ 6-3-2013 17:09:03.364256 INFO NORMAL t_tc_non_invite::process_icmp
ICMP error received.
---

+++ 6-3-2013 17:09:03.364325 INFO NORMAL t_tc_non_invite::process_failure
Transaction failed.

Send internal:
SIP/2.0 503 Service Unavailable
Via: SIP/2.0/UDP 192.168.1.53:5059;rport;branch=z9hG4bKfqgzykug
To: "fake4" <sip:fake4@111.118.250.238>;tag=kvpyf
From: "fake4" <sip:fake4@111.118.250.238>;tag=yseuu
Call-ID: cfslniyxacntoop@localhost.localdomain
CSeq: 859 REGISTER
Server: Twinkle/1.4.2
Content-Length: 0 
```

我认为这是防火墙的问题。请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T01:05:57.397

对于星号端的调试，请使用以下（来自 ssh/console）

```
asterisk -rvvvv
sip set debug on 
```

希望它能为您提供有关问题的足够信息。如果您在星号上没有看到任何内容 - 您需要在路径中的所有防火墙上打开端口 5060 udp。

# c# - WEBMETHOD：将两列的详细信息添加到第三列

> ID：15246533
> 
> 赞同：0
> 
> 时间：2013-03-06T11:47:21.900
> 
> 标签：c#, webmethod, insert-select

我找到了很多与此相关的答案，但它与我的代码并不能很好地配合使用。

我想要 C# 中的 WEBMETHOD 中的代码，我将在 android 平台上调用它。

我有两列，名字和姓氏。我希望合并这两列的数据并将其插入到第三列全名中。

我从以下代码中得到组合。

`SELECT firstname + lastname AS fullname FROM name`

我希望将其插入数据库的第三列。

但是当我尝试的时候。代码中，数据被输入到一个新行，而不是已经插入了名字和姓氏的行。

那么，什么是正确的插入查询，其中包含 select 语句？

我也试过`selfjoin`，但无法得到确切的结果。

当然，该死的。查询是错误的，但是为了获得所需的查询，可以做些什么改变。

```
 string ins3 = "INSERT INTO name (fullname) SELECT firstname + lastname AS fullname FROM name AS name_1 WHERE (firstname = @firstname)  and (lastname = @lastname)"; 
```

非常感谢您回答我的问题。等待答案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:50:49.330

写一个web方法如下

```
public void MethodName(string firstName, string lastName)
{
       string FullName = firstName + lastName;
       /*INSERT (firstName, lastName, FullName) using INSERT QUERY */
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:56:52.367

您需要更新查询，而不是插入：

```
Update name Set Fullname =(SELECT firstname + lastname  FROM name WHERE (firstname = @firstname)  and (lastname = @lastname))
WHERE (firstname = @firstname)  and (lastname = @lastname) 
```

# javascript - 使用javascript获取xml文件的子节点值

> ID：15246540
> 
> 赞同：3
> 
> 时间：2013-03-06T11:47:47.183
> 
> 标签：javascript, xml

我有一个看起来像这样的 xml 文件：

```
<Factory>
<Limits>
  <Point X="92" Y="489"/>
  <Point X="570" Y="487"/>
  <Point X="570" Y="138"/>
  <Point X="92" Y="140"/>
  <Point X="92" Y="139"/>
</Limits>
<Cells>
  <Cell>
    <Point X="358" Y="138"/>
    <Point X="361" Y="487"/>
    <Point X="570" Y="487"/>
    <Point X="570" Y="138"/>
    <Point X="358" Y="138"/>
  </Cell>
  <Cell>
    <Point X="311" Y="139"/>
    <Point X="311" Y="488"/>
    <Point X="92" Y="489"/>
    <Point X="92" Y="140"/>
    <Point X="311" Y="139"/>
  </Cell>
</Cells> 
```

我正在尝试使用 Javascript 获取“限制”中每个“点”的 X 和 Y 值（而不是“单元格”中的那些）。我看到了很多关于 getElementByTagName、childNodes 的例子……但我不知道如何获取我正在寻找的数据。我认为这样的事情会起作用：

```
var M = xmlDoc.getElementsByTagName("Limits")[0].childNodes;
for (i=0;i<M.length;i++){
  console.log(M[i].childNodes.item(0));
} 
```

我尝试了一些不同的东西，但我总是以空值或错误结束。

有什么简单的方法可以做我需要的吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T11:54:45.367

您需要获取属性。使用 javascript：

```
M[i].getAttribute("X"); 
```

使用 jQuery：

```
M[i].attr("X"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:54:24.157

```
var M = xmlDoc.getElementsByTagName("Limits");
for (i = 0; i < M.length; i++){
   for(var j = 0; j < M[i].childNodes.length; j++){
      console.log(M[i].childNodes[j].getAttribute('X'));
      console.log(M[i].childNodes[j].getAttribute('Y'));
   }
} 
```

# javascript - Ajax 同步调用在 ipad 中不起作用

> ID：15246542
> 
> 赞同：1
> 
> 时间：2013-03-06T11:47:52.127
> 
> 标签：javascript, jquery, ajax, jsp, servlets

这是我的ajax调用：

```
$.ajax({
  url: contextpath+'/servlet/AjaxManager?',
  data: 'mode='+mode+'&phone='+phoneNo,
  type: 'POST',
  dataType: 'xml',
  async: false,
  success:function(xmlDoc) {
    var message = xmlDoc.getElementsByTagName("message");
    message = message[0].firstChild.data;

    if(message == 'invalid') {
      alert('invalid code entered');
    } else if(message == 'valid') {
      // security code is valid
      var con = confirm('Are you sure to Proceed ?');

      if(con==true) {   
        var conUsername=$("#country").val().concat($("#phone").val());
        $("#frmRegistration").submit();
      }
    }
  }, error:function(xmlDoc) {
    alert('Error while checking security code validity');
  }
}); 
```

每当调用时，控制直接移动到错误功能并显示错误警报。相同的代码也适用于其他浏览器和 android。

如果我改变：

`async : true`

然后它工作。

为什么使用 ipad ajax 同步调用不起作用？

# c# - 我应该使用运算符还是方法比较整数？

> ID：15246543
> 
> 赞同：2
> 
> 时间：2013-03-06T11:48:00.303
> 
> 标签：c#

我正在重构由未指定编码器编写的客户代码。它看起来像这样。

```
int i = ...;
if (i.Equals(123)); 
```

我很想将其更改为通常的，即**：**

```
int i = ...;
if (i == 123); 
```

但我很谨慎，不要造成任何损害。这些电话是等价的，不是吗？无论如何，操作符风格不能慢，但肯定更令人惊讶且可读性更差，对吧？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T11:48:46.950

对于[值类型](http://msdn.microsoft.com/en-us/library/s1ax56ch.aspx)使用`==`运算符，因为`Equals`通常对[引用类型](http://msdn.microsoft.com/en-us/library/490f96s2.aspx)很有用。由于 int 是一种值类型，因此最好使用`==`运算符。该规则有一个例外，那就是字符串，因为字符串是一种引用类型，但`==`运算符在 .Net 框架中被重载以检查是否相等。

> 这些电话是等效的，不是吗？

它们是等价的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T12:02:15.107

[什么时候应该使用 ==，什么时候应该使用 Equals？](http://blogs.msdn.com/b/csharpfaq/archive/2004/03/29/when-should-i-use-and-when-should-i-use-equals.aspx)

我也不知道的东西:)

> 默认情况下，值类型不为 == 提供重载。但是，框架提供的大多数值类型都提供了自己的重载。值类型的 Equals 的默认实现由 ValueType 提供，并使用反射进行比较，这使得它比通常的特定于类型的实现慢得多。此实现还对正在比较的两个值内的引用对调用 Equals。

此外，我使用`==`字符串来避免空值检查。

```
if(myString == "something") 
```

对比

```
if(myString != null && myString.Equals("something")) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:52:20.690

由于您将变量声明为*int*，因此它是一种值类型，建议使用运算符样式。方法样式将应用于对象类型变量。

您可以比较[值类型](http://msdn.microsoft.com/en-us/library/s1ax56ch.aspx)和[对象类型](http://msdn.microsoft.com/en-us/library/490f96s2.aspx)。

# ruby-on-rails - 如何在没有模型的情况下将文本调整为 html？

> ID：15246544
> 
> 赞同：0
> 
> 时间：2013-03-06T11:48:00.817
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我的rails app发邮件，内容就是这样。

```
....
<p>
<%= raw @message.body %>
</p>
.... 
```

在电子邮件中应该显示类似这样的内容

```
Apple

Banana
Kiwi 
```

然而，结果是

```
AppleBananaKiwi 
```

`<br>`是的，两者之间没有。
我正在使用名为 gem 的 gem `Mailboxer`，它会处理这一切。
所以我没有消息模型。

如果我想要`<br>`（返回和空白行）的结果，我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:03:53.987

我假设您`@message`在控制器内部进行设置。如果是这样，您可以轻松使用空格。像这样：

```
@message = "
Apple

Orange
Banana" 
```

您甚至可以将其设置为 ASCII 艺术。

```
@message = "

Apple
------

Banana ========> Orange
-----------------------
Banana ========> Orange
-----------------------
Banana ========> Orange
-----------------------" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T13:37:20.277

因此，要使用空格，最简单的方法是

```
<pre>
 <%= raw @message.body %>
</pre> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T13:31:29.900

您可以使用`simple_format`which 负责转换`\n`为`<br>`：

```
<%= simple_format @message.body %> 
```

或`gsub`：

```
<%= raw @message.body.gsub("\n", "<br />") %> 
```

# rules - 用于推断 dataProperty 值的 swrl 规则

> ID：15246550
> 
> 赞同：2
> 
> 时间：2013-03-06T11:48:26.287
> 
> 标签：rules, owl, pellet, swrl

我正在尝试测试一个简单的 SWRL 规则。我的本体中有三个类：LivingPlace，它有两个子类 RuralArea 和 City。LivingPlace 是具有布尔范围的 dataProperty hasHospital 的域。

当我使用 Pellet 推理器测试以下规则时，我作为 LivingPlace 成员创建的个人也被推断为 RuralArea 的成员。

> LivingPlace(?lp), hasHospital(?lp, false) → RuralArea(?lp)

然而，我真正想做的是与这个推理相反。

> 农村地区(?lp) → hasHospital(?lp, false)

每当我创建一个 RuralArea 类型的个体时，我希望 Pellet 推断出一个错误的 hasHospital。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-08-29T17:11:07.880

这是您所描述的带有类的最小本体，即类 LivingPlace 有两个直接子类，City 和 RuralArea。有一个个体，ruralArea1，类型为 RuralArea，本体包含 SWRL 规则

> 农村地区(?x) → hasHospital(?x,false)

```
<rdf:RDF
    xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
    xmlns="http://example.org/places#"
    xmlns:owl="http://www.w3.org/2002/07/owl#"
    xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
    xmlns:swrl="http://www.w3.org/2003/11/swrl#"
    xmlns:swrlb="http://www.w3.org/2003/11/swrlb#"
    xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">
  <owl:Ontology rdf:about="http://example.org/places"/>
  <owl:Class rdf:about="http://example.org/places#LivingPlace"/>
  <owl:Class rdf:about="http://example.org/places#City">
    <rdfs:subClassOf rdf:resource="http://example.org/places#LivingPlace"/>
  </owl:Class>
  <owl:Class rdf:about="http://example.org/places#RuralArea">
    <rdfs:subClassOf rdf:resource="http://example.org/places#LivingPlace"/>
  </owl:Class>
  <owl:DatatypeProperty rdf:about="http://example.org/places#hasHospital">
    <rdfs:domain rdf:resource="http://example.org/places#LivingPlace"/>
    <rdfs:range rdf:resource="http://www.w3.org/2001/XMLSchema#boolean"/>
  </owl:DatatypeProperty>
  <swrl:Imp>
    <swrl:body>
      <swrl:AtomList>
        <rdf:rest rdf:resource="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"/>
        <rdf:first>
          <swrl:ClassAtom>
            <swrl:classPredicate rdf:resource="http://example.org/places#RuralArea"/>
            <swrl:argument1>
              <swrl:Variable rdf:about="urn:swrl#x"/>
            </swrl:argument1>
          </swrl:ClassAtom>
        </rdf:first>
      </swrl:AtomList>
    </swrl:body>
    <swrl:head>
      <swrl:AtomList>
        <rdf:rest rdf:resource="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"/>
        <rdf:first>
          <swrl:DatavaluedPropertyAtom>
            <swrl:argument2 rdf:datatype="http://www.w3.org/2001/XMLSchema#boolean"
            >false</swrl:argument2>
            <swrl:propertyPredicate rdf:resource="http://example.org/places#hasHospital"/>
            <swrl:argument1 rdf:resource="urn:swrl#x"/>
          </swrl:DatavaluedPropertyAtom>
        </rdf:first>
      </swrl:AtomList>
    </swrl:head>
  </swrl:Imp>
  <owl:NamedIndividual rdf:about="http://example.org/places#ruralArea1">
    <rdf:type rdf:resource="http://example.org/places#RuralArea"/>
  </owl:NamedIndividual>
</rdf:RDF> 
```

当我在 Protégé 4.x 中加载此本体并使用 Pellet 作为推理器，并确保在 UI 中显示有关数据类型属性的推论（如[Protégé OWL 邮件列表中的此消息中所述](https://mailman.stanford.edu/pipermail/protege-owl/2013-August/019672.html)）时，推论

```
ruralArea1 hasHospital false 
```

显示，如以下屏幕截图所示。

![Protege UI 中显示的推理](../Images/9a507a7212e753aab5444f85f82f4f35.png)

看到 Pellet 可以得出这种推论的另一种方法是使用 SPARQL 进行询问。例如，使用保存在`query.sparql`

```
prefix : <http://example.org/places#>

select ?s ?o where { 
  ?s :hasHospital ?o 
} 
```

和`pellet`命令行工具，我们得到这些结果：

```
$ pellet query -q query.sparql ./places.owl 
Query Results (1 answers): 
s          | o                                              
============================================================
ruralArea1 | false^^http://www.w3.org/2001/XMLSchema#boolean 
```

值得指出的是，您实际上并不需要 SWRL 来执行此特定推理。你可以简单地说

> RuralArea subClassOf（hasHospital 值为 false）

并得到相同的结果。在 Protégé 中，这将类似于以下屏幕截图。这样做的好处是，如果您使用不支持 SWRL 的 OWL 推理器，它将为您提供相同的结果。

![OWL 限制实现与 SWRL 规则相同的效果](../Images/fda0052665d3dc8a05cf809bb99f69a6.png)

# web-applications - 如何将hebo html模板集成到yii框架中

> ID：15246555
> 
> 赞同：0
> 
> 时间：2013-03-06T11:48:39.920
> 
> 标签：web-applications, yii

我是使用 yii 框架的新手。我没有太多时间彻底学习它。我为 yii 找到了一个名为 hebo 的 html5 Web 应用程序模板。但是我无法通过将该模板复制到 yii 文件夹中来使其工作。

请任何人指导我将任何外部（不是使用 yiic 创建的）html 模板集成到 yii 中的步骤。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T14:40:36.737

*   新建一个yii项目

*   将`hebo`文件夹复制到`webroot/themes`配置文件中，您必须将参数设置`theme`为`hebo`

这是我的一个项目的一个例子：

```
return array(
   'basePath' => dirname(__FILE__) . DIRECTORY_SEPARATOR . '..',
    'name' => 'myProject',
    'theme' => 'version_3',//so in webroot/themes I have a folder named "version_3"
    'language' => 'fr', 
```

*   然后您必须将视图放入主题文件夹 ( `WebRoot/themes/hebo/views`)

# cocoa - 以不同的分辨率从 PDFPage 中提取 NSImage

> ID：15246563
> 
> 赞同：1
> 
> 时间：2013-03-06T11:49:02.123
> 
> 标签：cocoa, pdf, nsimage

`NSImage`从`PDFPage`对象中获取可变分辨率的最佳方法是什么？

我有一个显示在 a 中的 PDF 文件`PDFView`，我需要捕获当前页面并存储为`NSImage`. 此外，我需要能够改变页面的分辨率 (DPI)。

使用此代码，生成的图像对于 A4 页面只有 595x841。我需要比这更高的分辨率（高达 300DPI）：

```
PDFPage *page = _pdfView.currentPage;
NSData *pageData = page.dataRepresentation;
NSImage *img = [[NSImage alloc] initWithData:pageData]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T13:29:30.067

我终于设法解决了这个问题：

```
CGFloat factor = 300/72; // Scale from 72 DPI to 300 DPI
NSImage *img; // Source image
NSSize newSize = NSMakeSize(img.size.width*factor, img.size.height*factor);
NSImage *scaledImg = [[NSImage alloc] initWithSize:newSize];
[scaledImg lockFocus];
[[NSColor whiteColor] set];
[NSBezierPath fillRect:NSMakeRect(0, 0, newSize.width, newSize.height)]; 
NSAffineTransform *transform = [NSAffineTransform transform];
[transform scaleBy:factor];
[transform concat];
[img drawAtPoint:NSZeroPoint fromRect:NSZeroRect operation:NSCompositeSourceOver fraction:1.0];
[scaledImg unlockFocus]; 
```

# html - 用字体大小替换图像：0

> ID：15246566
> 
> 赞同：1
> 
> 时间：2013-03-06T11:49:07.460
> 
> 标签：html, css

我真的很喜欢用 杀死文本以替换图像`font: 0/0 a`，但据我所知，它并非在任何地方都有效。

所以我们还需要

```
text-indent: -9999px;
overflow: hidden; 
```

为了这？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:42:52.270

**更新**

您可以用背景替换图像并使用填充将实际图像移开。这只是众多解决方案之一。

[http://jsfiddle.net/gj5F2/2/](http://jsfiddle.net/gj5F2/2/)

**CSS**

```
div
{
    width: 550px;
    height: 190px;
    overflow: hidden;
}
.img2
{
    background: url('http://www.google.com/logos/2013/ghana_independence_day_2013-1202005-hp.jpg') no-repeat left top;
    padding-left: 550px;
} 
```

**HTML**

```
<img class="img1" src="http://www.google.dk/images/srpr/logo4w.png" width="550" height="190" />

<div>
    <img class="img2" src="http://www.google.dk/images/srpr/logo4w.png" width="550" height="190" />
</div> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T13:02:15.240

正如 Lister 先生所评论的，有很多*很多*不同的方法来进行图像替换。它们都有好坏两面。有一种技术唯一真正的缺点是它需要支持伪元素（所以 IE8+）。

*   没有额外的标记
*   适用于禁用图像
*   适用于透明图像
*   不需要调整字体大小
*   不需要弄乱定位

[http://nicolasgallagher.com/css-image-replacement-with-pseudo-elements/](http://nicolasgallagher.com/css-image-replacement-with-pseudo-elements/)

```
.nir {
   height:100px; /* height of replacement image */
   width:400px; /* width of replacement image */
   padding:0;
   margin:0;
   overflow:hidden;
}

.nir:before {
   content:url(image.gif);
   display:inline-block;
   font-size:0;
   line-height:0;
} 
```

# ravendb - ravendb http api 不返回集合

> ID：15246567
> 
> 赞同：1
> 
> 时间：2013-03-06T11:49:08.467
> 
> 标签：ravendb, ravendb-http

我在本地 IIS 中托管 RavenDB。它就像一个魅力。

知道我在测试 HTTP API 时在这里缺少什么吗？使用浏览器，我的调用`http://localhost/RavenDB/databases/[databasename]/docs/Users/[id]`返回请求的预期 json 结果。

但是，我发现调用`http://localhost/RavenDB/databases/[databasename]/docs/Users`什么都不返回！它不应该返回所有用户文档的集合吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:46:24.923

不，URL 格式是：`http://localhost/RavenDB/databases/{database-name}/docs/{doc-id}`，因此在您的情况下，您指定了一个不存在的文档的 id。在这种情况下，您应该得到 404。

更详细地说，RavenDB 没有集合的概念。在工作室中，我们向您展示了同一集合下具有保存“Raven-Entity-Name”属性的文档，但仅此而已，没有真正可以查询的集合。如果你需要实现类似的东西，你可以查询`Raven/DocumentsByEntityName`索引，比如：

`http://localhost:8080/databases/{db-name}/indexes/Raven/DocumentsByEntityName?query=Tag%253A%2520{{Raven-Entity-Name}}&start=0&pageSize=128&aggregation=None`

# jquery-ui - 可拖动的助手在使用PhoneGap的android应用程序中不起作用

> ID：15246569
> 
> 赞同：1
> 
> 时间：2013-03-06T11:49:11.997
> 
> 标签：jquery-ui, cordova, jquery-mobile

我正在使用 phonegap 开发的 android 应用程序中使用 jquery-ui 实​​现拖放功能。一切正常。我用于`jquery.ui.touch-punch.js`触摸事件。问题是我在 android 平板电脑中通过触摸拖动时没有得到帮助。助手在桌面浏览器中工作正常。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T13:21:09.837

这是一个工作示例：http: [//jsfiddle.net/Gajotres/rjC9q/](http://jsfiddle.net/Gajotres/rjC9q/)

我已经在 Android 4.1.1 和 iPad 6.0 上对其进行了测试。

要使其工作，您还需要添加以下代码：

```
 /iPad|iPhone|Android/.test( navigator.userAgent ) && (function( $ ) {

var proto =  $.ui.mouse.prototype,
_mouseInit = proto._mouseInit;

$.extend( proto, {
    _mouseInit: function() {
        this.element
        .bind( "touchstart." + this.widgetName, $.proxy( this, "_touchStart" ) );
        _mouseInit.apply( this, arguments );
    },

    _touchStart: function( event ) {
        /* if ( event.originalEvent.targetTouches.length != 1 ) {
            return false;
        } */

        this.element
        .bind( "touchmove." + this.widgetName, $.proxy( this, "_touchMove" ) )
        .bind( "touchend." + this.widgetName, $.proxy( this, "_touchEnd" ) );

        this._modifyEvent( event );

        $( document ).trigger($.Event("mouseup")); //reset mouseHandled flag in ui.mouse
        this._mouseDown( event );

        //return false;           
    },

    _touchMove: function( event ) {
        this._modifyEvent( event );
        this._mouseMove( event );   
    },

    _touchEnd: function( event ) {
        this.element
        .unbind( "touchmove." + this.widgetName )
        .unbind( "touchend." + this.widgetName );
        this._mouseUp( event ); 
    },

    _modifyEvent: function( event ) {
        event.which = 1;
        var target = event.originalEvent.targetTouches[0];
        event.pageX = target.clientX;
        event.pageY = target.clientY;
    }

});

})( jQuery ); 
```

我不是这段代码的作者，它是[Oleg Slobodskoi](https://github.com/kof)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:55:30.403

`jquery-ui`在 jquery-mobile 中？没门！他们没有针对`jquery-ui`移动设备进行优化。所以不要指望它会顺利运行。

您可能需要考虑其他库，例如

*   [jquery Mobile 拖放](http://www.jsplugins.com/Scripts/Plugins/View/Jquery-Mobile-Drag-And-Drop/)

# javascript - 在 bxslider 中随机显示 6 个项目组成 70 个列表

> ID：15246573
> 
> 赞同：0
> 
> 时间：2013-03-06T11:49:18.460
> 
> 标签：javascript, jquery, html, css, bxslider

当我在站点中实现 bxslider ( [http://bxslider.com/](http://bxslider.com/) ) 时，我有一个独特的查询。

我曾尝试搜索此问题，但无法解决。

我已经拉出了页面上的所有 70 个项目并应用了滑块，并且可以完全正常工作。但是是否可以在 70 个列表中的滑块中仅显示 6 个随机项目。

我一定会感谢你的帮助。

```
<ul id="bx-slider-random">
<li>item item 1</li>
<li>item 2</li>
<li>item 3</li>
<li>item 4</li>
<li>item 5</li>
<li>item 6</li>
<li>item 7</li>
<li>item 8</li>
<li>item 9</li>
<li>item 10</li>
.
.
.
.
.
.
.
<li>item 70</li> 
```

$j('#bx-slider-random').bxSlider({ auto: true, autoControls: true });

我已经将 70 个项目提取到滑块中。但是需要知道每次刷新页面时我是否可以直接显示所有 70 个项目中的随机 6 个项目。

谢谢 :) 干杯...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:56:18.410

有可能。从页面的来源看，您应该首先获得所有 70 个项目，然后随机选择其中一些，然后将它们放入`<li>`'s.
最后你可以调用你的盒子滑块初始化。
如果你有一个示例代码，我可以帮助你更具体！？

**这是你的代码**

```
var mindc = 0;
var maxdc = $('ul#bx-slider-random li').length;
for(var i=0; i<63; i++){
    randomIndex = Math.floor(Math.random() * (maxdc - mindc + 1)) + mindc;
    $('ul#bx-slider-random li').eq(randomIndex).remove();
}
$('#bx-slider-random').bxSlider({ auto: true, autoControls: true }); 
```

**编辑**

这是很少编辑的，只是在你的小提琴中工作（是否需要 noConflict ？）：

```
var mindc = 0;
var maxdc = $('ul#bx-slider-random li').length;
alert(maxdc);
for(var i=0; i<19; i++){
    randomIndex = Math.floor(Math.random() * (maxdc - mindc + 1)) + mindc;
    $('ul#bx-slider-random li').eq(randomIndex).remove();
}
$('#bx-slider-random').bxSlider({ auto: true, autoControls: true }); 
```

# iphone - 在 iphone 中将一个情节提要项目添加到 xib 项目时应用程序崩溃

> ID：15246580
> 
> 赞同：0
> 
> 时间：2013-03-06T11:49:42.190
> 
> 标签：iphone, ios

我是电话编程的新手。任何人都可以告诉我这个 Expection 的含义是什么。在这里我创建了一个 Xib 项目，其中我添加了另一个项目 UICollectionview 项目，它包含 storybroad。当我运行项目时它工作正常，在这里，如果我单击按钮意味着它必须进入 Collectionview 项目，但在这里它会使应用程序崩溃，并在控制台中显示一些这样的消息。任何人都可以告诉我什么是错误。谢谢阿斯拉姆

```
Application tried to push a nil view controller on target <UINavigationController: 0x9c9e8f0>.
2013-03-06 17:12:04.141 Taukyy[324:1c103] Hai Deselected Aslam
2013-03-06 17:12:04.141 Taukyy[324:1c103] Hai Deselected Aslam
2013-03-06 17:12:05.415 Taukyy[324:1c103] *** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'Could not load NIB in bundle: 'NSBundle </Users/User/Library/Application Support/iPhone Simulator/6.1/Applications/81FB53C6-91C6-4609-A3A4-422CF5BA5AF4/Taukyy.app> (loaded)' with name 'LXCollectionViewController''
*** First throw call stack:
(0x25aa012 0x22d8e7e 0x25a9deb 0x1438ef9 0x12fd7e7 0x12fddc8 0x1737437 0x12fdff8 0x12fe232 0x12fe4da 0x13158e5 0x13159cb 0x1315c76 0x1315d71 0x131689b 0x1316e93 0x1316a88 0xb28c8 0x22ec705 0x12202c0 0x145ca64 0x22ec705 0x12202c0 0x1220258 0x12e1021 0x12e157f 0x12e06e8 0x124fcef 0x124ff02 0x122dd4a 0x121f698 0x345cdf9 0x345cad0 0x251fbf5 0x251f962 0x2550bb6 0x254ff44 0x254fe1b 0x345b7e3 0x345b668 0x121cffc 0x3d4d 0x24a5)
libc++abi.dylib: terminate called throwing an exception 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:53:26.800

在情节提要上，您可以通过按钮操作链接 UIViewController，例如按下按钮详细信息，您可以推送另一个 UIViewController。这在情节提要上标有一行。

一切都很好，直到您删除 ViewController 并且您忘记删除该按钮的操作。在这种情况下，您可以准确地看到该错误:)

我希望它有帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:55:30.310

当您按下该按钮时，您显然是在调用 pushViewController:animated 方法。这个错误的意思是你正在向这个方法推送一个 nil 。所以给定下面的代码，

```
[myNavigationController pushViewContoller:theViewController:animated:YES]; 
```

传递给该方法的“theViewController”可能不是 [[alloc]init] ed 对象。似乎在您想将其推送到堆栈之前它已被释放。

# android - Android 中的 FileNotFoundException - 来自光盘

> ID：15246582
> 
> 赞同：0
> 
> 时间：2013-03-06T11:49:50.557
> 
> 标签：android

我需要从我的光盘中读取一张图片，但我有 FileNotFoundException ！

```
try {

    fileInputStream = new FileInputStream(new File("C:/wakaicon.png"));

} catch(FileNotFoundException e) {

    Log.e("DEBUG", "[Picture Not Found]");
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:53:05.040

在 android 中，我们无法从光盘的任何部分获取文件。您必须在模拟器或设备中创建外部存储，并且必须提供类似“mnt/sdcard/yourfolder/yourfile.xml”的路径。

希望这对您有所帮助。

你也可以这样试试。

```
File dir = Environment.getExternalStorageDirectory();
File yourFile = new File(dir, "path/to/the/file/inside/the/sdcard.ext"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:56:03.903

模拟器是您电脑上的一个独立虚拟机 - adb 是将文件推送到外部 sdcard 或另一个目录的解决方案（这里是指南：http: [//developer.android.com/tools/help/adb.html](http://developer.android.com/tools/help/adb.html)） . 您无法在应用程序中访问您的硬盘。要访问外部目录中的文件，请尝试以下代码：

```
getExternalStorageDirectory () 
```

它返回一个文件。这里是关于它的文档：http: [//developer.android.com/reference/android/os/Environment.html#getExternalStorageDirectory()](http://developer.android.com/reference/android/os/Environment.html#getExternalStorageDirectory())

编辑：您可以使用 adb 将文件推送到您的外部 sdcard，然后您可以尝试类似

```
File env = Enviroment.getExternalStorageDirectory()
File folder = new File(env,"Pictures/yourNewPic")
if(!folder.exists()){folder.mkdirs()} 
```

需要`<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"></uses-permission> in your manifest.`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T17:18:04.240

我找到了解决问题的方法... 1\. 创建 SD 卡（通过 Edit AVD） 2\. 打开文件资源管理器（IDE -> 窗口 -> 显示视图 -> 文件浏览） 3\. 将图片添加到 SD 卡目录

```
package com.example.wakauploadpicture;

import java.io.BufferedReader;
import java.io.ByteArrayOutputStream;
import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.InputStreamReader;
import java.net.HttpURLConnection;
import java.net.MalformedURLException;
import java.net.URI;
import java.net.URISyntaxException;
import java.net.URL;

import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.graphics.Bitmap.CompressFormat;
import android.os.Environment;
import android.util.Log;
import android.widget.Toast;

public class handlePicture {
    handlePicture(){}
    //
    @SuppressWarnings("deprecation")
    public boolean handlePicture(String filePath, String mimeType) {       
        HttpURLConnection connection = null;
        DataOutputStream outStream = null;
        DataInputStream inStream = null;

        String lineEnd = "-----------------------------16572156320853";
        String twoHyphens = "--";
        String boundary = "---------------------------29463111463415";

        int bytesRead, bytesAvailable, bufferSize;

        byte[] buffer;

        int maxBufferSize = 1*1024*1024;

        String urlString = "http://192.168.224.37:8081/waUpload/upload/uploadHandlers.js";
        Log.v("State : ",Environment.getExternalStorageState());
        Log.v("",Environment.getExternalStorageDirectory().getAbsolutePath());
        final File file = new File(Environment.getExternalStorageDirectory()
                .getAbsolutePath(), "wakaicon.png");
        try {
            FileInputStream fileInputStream = null;
            try {               
                fileInputStream = new FileInputStream(file);
            } catch(FileNotFoundException e) {              
                Log.e("DEBUG", "[Picture Not Found]");
            }
            URL url = new URL(urlString);
            connection = (HttpURLConnection) url.openConnection();
            //indicates that the application intends to read data from the URL connection. 
            connection.setDoInput(true);
            //indicates that the application intends to write data to the URL connection. 
            connection.setDoOutput(true);           
            connection.setUseCaches(true);

            //Set the method for the URL request, one of: POST
            connection.setRequestMethod("POST");
            connection.setRequestProperty("Accept", "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8");
            connection.setRequestProperty("Accept-Encoding", "gzip, deflate");
            connection.setRequestProperty("Connection", "Keep-Alive");
            connection.setRequestProperty("Content-Type", "multipart/form-data");
            connection.setRequestProperty("Referer", "http://127.0.0.1:8081/index.waPage/index.html");

            //connection.setRequestProperty("Content-Length", ""+file.length());
            Log.v("Content-Length", ""+file.length());
            outStream = new DataOutputStream(connection.getOutputStream());

            outStream.writeBytes(boundary);
            outStream.writeBytes("Content-Disposition: form-data; name=\"filesToUpload\"; filename=\"" + "wakaicon.png");
            outStream.writeBytes("Content-Type: "+ mimeType);
//        
//          bytesAvailable = fileInputStream.available();
//          bufferSize = Math.min(bytesAvailable, maxBufferSize);
//          buffer = new byte[bufferSize];
//
//          bytesRead = fileInputStream.read(buffer, 0, bufferSize);
//
//            while (bytesRead > 0) {
//                outStream.write(buffer, 0, bufferSize);
//                Log.v("Buffer : ",buffer.toString());
//              bytesAvailable = fileInputStream.available();
//              bufferSize = Math.min(bytesAvailable, maxBufferSize);
//              bytesRead = fileInputStream.read(buffer, 0, bufferSize);
//              outStream.write(bytesRead);
//          }

            FileInputStream fis = null;
            try {
                fis = new FileInputStream(file);
            } catch (FileNotFoundException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
            Bitmap bm = BitmapFactory.decodeStream(fis);
            ByteArrayOutputStream baos = new ByteArrayOutputStream();  
            bm.compress(Bitmap.CompressFormat.PNG, 100 , baos);    
            byte[] b = baos.toByteArray();
            for(int i=0;i<b.length;i++){
            Log.v("byte : ",""+b[i]);
            outStream.write(b[i]);
            }

            outStream.write(getBytesFromBitmap(bm));                
              outStream.writeBytes(twoHyphens+boundary);
              outStream.writeBytes("Content-Disposition: form-data; name=\"config\"");
              outStream.writeBytes("{\"folder\":\"tmp\",\"replace\":false,\"datasource\":{\"dsname\":\"Emloyee\",\"id\":\"5\",\"field\":\"photo\",\"saveOnDS\":true}}");
              outStream.writeBytes(boundary+twoHyphens);
            fileInputStream.close();
            outStream.flush();
            outStream.close();  
            connection.disconnect();
        } catch (MalformedURLException e) {
            Log.e("DEBUG", "[MalformedURLException while sending a picture]");
        } catch (IOException e) {
            Log.e("DEBUG", "[IOException while sending a picture]"); 
        }

        try {
               String sHeaderValue = connection.getResponseMessage();
               Log.v("Response : ",sHeaderValue);
               inStream = new DataInputStream( connection.getInputStream() );
               String str;

               while (( str = inStream.readLine()) != null) {
                   Log.v("str pic :",str);
                   if(str=="1") {
                       return true;
                   } else {
                       return false;
                   }
               }
               inStream.close();        
          } catch (IOException e){
              Log.e(e.toString(), "[IOException while sending a picture and receiving the response]");
          }
        return false;

    }

    public byte[] getBytesFromBitmap(Bitmap bitmap) {
        ByteArrayOutputStream stream = new ByteArrayOutputStream();
        bitmap.compress(CompressFormat.PNG, 70, stream);
        return stream.toByteArray();
    }
} 
```

# asp.net-mvc - SplitterPane 中的混合内容

> ID：15246583
> 
> 赞同：1
> 
> 时间：2013-03-06T11:49:54.080
> 
> 标签：asp.net-mvc, razor, kendo-ui, html-helper, splitter

在 KendoUI 中指定混合内容的正确/最简洁的语法是什么`SplitterPane`？

***附加信息：***

我`Splitter`在 KendoUI 中使用 a ，有时我需要`HtmlHelpers`在`SplitterPane`. 例如

```
@(Html.Kendo().Splitter()
              .Name("main-container")
              .Panes(panes =>
              { 
                  panes.Add().Content(
                      @<text>
                          @Html.CustomHelpers().SomeCustomHelper()
                          <div>This is some markup</div>
                          @Html.CustomHelpers().AnotherCustomHelper() 
                      </text>   
                  );
              })) 
```

我目前正在使用`@<text>`Razor 语法，但感觉不是很干净。有没有更好的选择我可能会忽略？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T21:26:30.863

这是最干净的方式 - 我个人不建议的另一个选择是：

```
 panes.Add().Content(Html.CustomHelpers().SomeCustomHelper().ToHtmlString() +
                      "<div>This is some markup</div>" +
                      Html.CustomHelpers().AnotherCustomHelper() .ToHtmlString()

              ); 
```

基本上，如果您正确使用 Html 帮助程序和部分视图，您就会达到不允许您插入嵌套 @ 标签的限制。

# mysql - 从同一个表中查找相似数据

> ID：15246584
> 
> 赞同：2
> 
> 时间：2013-03-06T11:49:54.283
> 
> 标签：mysql, database, html-table

我有一个表包含两列这样的。（项目名称和项目描述）

```
item_name    item_des

jasmine      beautiful flower & nice smell    
rose         flower
orange       gud fruit
apple        fruit
books        books 
```

我想根据项目名称和描述从这个表中找到匹配的项目，例如结果应该是这样的：

```
item_name    item_des

jasmine      beautiful flower & nice smell    
rose         flower 
```

或者

```
item_name    item_des

orange       gud fruit
apple        fruit 
```

我怎么能在sql中做到这一点？

我没有任何项目名称或描述..我只想获取表中具有相似项目名称或相似描述的所有内容。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T10:56:47.863

在阅读了您对其他答案的评论后，我得出一个结论，即您想要的是从表中获取行集，并且您希望每个集在 item_des 列中具有相似的值。至少这就是你的例子所呈现的。

问题在于您定义“相似”的方式。据我了解，您不想为查询提供任何其他数据来定义您正在寻找的相似性。AshReva 和 Naryl 假设你这样做了。这就是为什么他们建议您`LIKE '%flower%' or LIKE 'fruit'`在查询中使用。

我想您要的是如何获取列表`('fruit', 'flower', ...)`，因为您没有列表。您需要一个可以为您找到的查询。

这不是一件容易的事，它需要你做出大量的决定。这个任务相当复杂，所以我不打算提供一个准备好运行的解决方案。我将介绍一些您需要完成的相当简单的步骤。

首先，您需要标记您的 item_des 字段。您想要的是另一个名为 t 的表，其中包含一个字段，例如名为 token。标记您的示例后，您应该得到一个类似这样的表：

```
token
fruit
books
beautiful
flower
&
nice
smell
gud
fruit
flower 
```

您可能必须编写自己的标记化函数。在这里检查： [是否有类似于 mySql 中的 split() 方法的东西？](https://stackoverflow.com/questions/1077686/is-there-something-analogous-to-a-split-method-in-mysql)

然后删除重复项（`distinct`在列上执行 a）。所以你得到：象征水果书籍美丽的花朵和好闻的气味

然后你可能想以某种方式删除无效的令牌。您可以手动执行此操作。您可能会针对某些关键字或字典进行自动匹配。您可能会应用一些启发式方法，例如删除长度为 1 个字符的标记。

之后，您只需在两个表之间进行匹配，即您的原始表（假设它称为 input_data）和包含您的标记的最终表 t：

```
select item_name, item_des, token
from input_data, t
where item_des like concat('%',t.token,'%')
order by token 
```

然后你应该得到类似的东西：

```
item_name    item_des                         token
jasmine      beautiful flower & nice smell    beautiful
jasmine      beautiful flower & nice smell    &
jasmine      beautiful flower & nice smell    nice
jasmine      beautiful flower & nice smell    smell
rose         flower                           flower
jasmine      beautiful flower & nice smell    flower
orange       gud fruit                        gud
orange       gud fruit                        fruit
apple        fruit                            fruit
books        books                            books 
```

我希望这是你需要的。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-03-06T11:55:01.253

请尝试以下代码：

```
select * from table_name where item_name like '%flower%' or item_des like '%flower%' 
```

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2013-03-06T11:54:02.093

它可以通过以下方式完成：

```
SELECT * FROM item WHERE item_des LIKE '%flower%' 
```

# c# - 如何在c#中保存录制的声音？

> ID：15246587
> 
> 赞同：2
> 
> 时间：2013-03-06T11:49:59.093
> 
> 标签：c#, audio-recording, audio-capture

我正在用 c# 录制声音，但无法保存...请看一下这部分代码：

```
private void Stop()
{
    if (m_Player != null)
        try
        {
            m_Player.Dispose();
        }
        finally
        {
            m_Player = null;
        }
    if (m_Recorder != null)
        try
        {
            m_Recorder.Dispose();
        }
        finally
        {
            m_Recorder = null;
        }
    m_Fifo.Flush(); // clear all pending data
}

private void Start()
{
    Stop();
    try
    {
        WaveLib.WaveFormat fmt = new WaveLib.WaveFormat(44100, 16, 2);
        m_Player = new WaveLib.WaveOutPlayer(-1, fmt, 16384, 3, new WaveLib.BufferFillEventHandler(Filler));
        m_Recorder = new WaveLib.WaveInRecorder(-1, fmt, 16384, 3, new WaveLib.BufferDoneEventHandler(DataArrived));
    }
    catch
    {
        Stop();
    }
} 
```

# wpf - 如何在 WPF 中使用键盘快捷键？

> ID：15246589
> 
> 赞同：2
> 
> 时间：2013-03-06T11:50:01.467
> 
> 标签：wpf, keyboard, shortcut

我有 10 个按字母顺序排列的复选框项目，例如：

*Apple、AirCraft、Ball、Bottom、Cat等*

通过`A`按键，焦点必须设置为**Apple**复选框，`B`- 到**Ball**。我怎样才能做到这一点？由于项目来源计数，这些复选框项目是动态变化的。

由于复选框项目没有在 XAML 中硬编码，我猜我无法标记；我在运行时加载它们。如果我有以下物品怎么办？

1.  **苹果**
2.  **苹果1**
3.  **苹果2**

在这种情况下，我无法将快捷方式设置为正确，因此，如果我按下以字母**A**`A`开头的第一个项目将获得焦点，然后再次按下，则焦点设置为以字母**A**开头的下一个项目。**如果它到达以字母A**开头的最后一个项目，那么如果我再次按下它，它必须转到第一个以字母**A**开头的项目，所以这是我的要求:)。我怎样才能做到这一点？**`A`****`A`******

 ******* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T16:33:28.970

您可以通过首先按 alt 键来使用键盘导航，然后将复选框内容设置为：

```
<CheckBox Content="_Apple" />
<CheckBox Content="_Ball" /> 
```

请记住，关联的键盘快捷键将是“_”符号之后的快捷键。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T09:32:47.000

遍历item非常简单：

通过`A`按键，必须将焦点设置到**Apple**复选框，`B`- 到**Ball**。由于项目来源计数，这些复选框项目是动态变化的。

只需按以下方式进行即可。将下划线符号**"_"放在****"A"**之前：

1.  **_苹果**
2.  **_苹果1**
3.  **_Apple2**

如果我按下以字母**A**`A`开头的第一个项目将获得焦点，然后再次按下焦点设置为以字母**A**开头的下一个项目。如果它到达最后一个以字母**A**开头的项目，那么如果我再次按下它将转到第一个以字母**A**开头的项目。如果要选中复选框，可以使用. 提供的复选框项目必须在 ItemsControl 中。**`A`****`A`**`SpaceBar`********

 ******* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T11:55:16.623

您需要提出一些规则来确定什么按键会导致哪个项目 - 即，如果有两个“A”项目，那么在“A”上选择了哪个项目？

然后，您必须手动找到与按键上输入的按键匹配的项目并突出显示它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T12:26:46.740

订阅`OnPreviewKeyDown`包含您的 CheckBox 项目的容器的事件。然后实现按下特定按钮时会发生什么。************

# javascript - THREE.JS 从搅拌机中导出 JSON 模型（包括纹理）

> ID：15246598
> 
> 赞同：8
> 
> 时间：2013-03-06T11:50:54.890
> 
> 标签：javascript, json, export, three.js, blender

我正在使用 mrdoob Blender 导出插件 (io_mesh_threejs) 导出到三个 JS，但导出的 .js 或 .dae 对象不包含对纹理贴图文件的任何引用。我需要导出对象的特殊方法吗？或者，是否有一种特殊的方式我需要将地图应用于 Blender 2.65 中的对象，以便导出器包含它。最后，如果没有办法，我可以在JS文件中手动添加纹理吗？

* * *

***出口前的搅拌机***

![在此处输入图像描述](../Images/13697d9361ed5c69a9e502bc70a69395.png)

* * *

***导出的 JSON 对象（不参考纹理）***

```
{

    "metadata" :
    {
        "formatVersion" : 3.1,
        "generatedBy"   : "Blender 2.65 Exporter",
        "vertices"      : 8,
        "faces"         : 6,
        "normals"       : 8,
        "colors"        : 0,
        "uvs"           : [4],
        "materials"     : 1,
        "morphTargets"  : 0,
        "bones"         : 0
    },

    "scale" : 1.000000,

    "materials" : [ {
        "DbgColor" : 15658734,
        "DbgIndex" : 0,
        "DbgName" : "Material",
        "blending" : "NormalBlending",
        "colorAmbient" : [0.6400000190734865, 0.6400000190734865, 0.6400000190734865],
        "colorDiffuse" : [0.6400000190734865, 0.6400000190734865, 0.6400000190734865],
        "colorSpecular" : [0.5, 0.5, 0.5],
        "depthTest" : true,
        "depthWrite" : true,
        "shading" : "Lambert",
        "specularCoef" : 50,
        "transparency" : 1.0,
        "transparent" : false,
        "vertexColors" : false
    }],

    "vertices" : [1,-0.988938,-1,1,-0.988938,1,-1,-0.988938,1,-1,-0.988938,-1,1,1.01106,-0.999999,0.999999,1.01106,1,-1,1.01106,1,-1,1.01106,-1],

    "morphTargets" : [],

    "normals" : [0.577349,-0.577349,-0.577349,0.577349,-0.577349,0.577349,-0.577349,-0.577349,0.577349,-0.577349,-0.577349,-0.577349,0.577349,0.577349,-0.577349,-0.577349,0.577349,-0.577349,-0.577349,0.577349,0.577349,0.577349,0.577349,0.577349],

    "colors" : [],

    "uvs" : [[1,-0,1,1,0,1,-0,0]],

    "faces" : [43,0,1,2,3,0,0,1,2,3,0,1,2,3,43,4,7,6,5,0,0,1,2,3,4,5,6,7,43,0,4,5,1,0,0,1,2,3,0,4,7,1,43,1,5,6,2,0,0,1,2,3,1,7,6,2,43,2,6,7,3,0,0,1,2,3,2,6,5,3,43,4,0,3,7,0,2,3,0,1,4,0,3,5],

    "bones" : [],

    "skinIndices" : [],

    "skinWeights" : [],

    "animation" : {}

} 
```

* * *

***加载 JSON 对象的代码***

```
var object;
var loader = new THREE.JSONLoader();          

loader.load( "./quirk_logo.js", function(geometry, materials) {
     var material = new THREE.MeshFaceMaterial(materials);
     object = new THREE.Mesh(geometry, materials);

     object.scale.set(1, 1, 1);
     scene.add(object)
     render();
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-28T16:44:13.403

I think you can first export your model to `.obj` from your Blender and then follow the rest part of this tutorial to get your right `.json` model.
[http://bkcore.com/blog/3d/webgl-three-js-workflow-tips.html](http://bkcore.com/blog/3d/webgl-three-js-workflow-tips.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T12:44:55.443

这应该是您正在寻找的。

[http://graphic-sim.com/B_basic_export.html](http://graphic-sim.com/B_basic_export.html)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-10-03T18:21:31.067

看看我做的例子。

[https://github.com/master-atul/blender3js](https://github.com/master-atul/blender3js)

你可以在这里看到工作示例：

[http://www.atulr.com/blender3js](http://www.atulr.com/blender3js)

您可以从我的 repo 链接查看我的代码。

如果您想知道我使用的导出选项：

我使用此处描述的选项直接从搅拌机导出了动画和所有内容。

[https://devmatrix.wordpress.com/2013/02/27/creating-skeletal-animation-in-blender-and-exporting-it-to-three-js/](https://devmatrix.wordpress.com/2013/02/27/creating-skeletal-animation-in-blender-and-exporting-it-to-three-js/)

希望这有助于干杯:)

# ios - 添加新的时，现有的自定义 UIButtons 会扭曲

> ID：15246601
> 
> 赞同：0
> 
> 时间：2013-03-06T11:50:58.177
> 
> 标签：ios, uibutton, interface-builder, storyboard

我的 iPad 应用程序有一行自定义 UIButtons，我想在下面添加另一行，大致在所示的圆形矩形按钮的位置： ![在此处输入图像描述](../Images/1d66a81b80c78a735f016f378ab5ee46.png)

但是，当我尝试调整新按钮的大小以匹配现有按钮时，现有按钮会扭曲：

![在此处输入图像描述](../Images/38b8ccb5d72fc2d69d5f4a39623ad646.png)

谁能告诉我为什么会发生这种情况和/或如何避免它？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T11:55:23.813

从 XIB 中选择按钮，然后转到 Inspector 的 5 选项卡。

从 Inspector 中选择 View Section，然后单击箭头关闭 Autoresizing 属性。

您的自动调整大小应如下所示：![在此处输入图像描述](../Images/c0ca359cf5ee37802586949686b0f033.png)

祝一切顺利 ！！！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T12:06:37.693

由于自动大小属性，您会遇到此问题。

指定您可以从实用程序面板的尺寸检查器中删除它

单击您的按钮并删除 autosize 属性。

您还可以通过设置以编程方式删除`setAutoresizingMask:`

# powershell - Powershell - 删除除特定子目录中的所有项目

> ID：15246602
> 
> 赞同：8
> 
> 时间：2013-03-06T11:50:59.220
> 
> 标签：powershell

我有一个包含大量子目录和文件的目录。我需要删除除 SubFolder1 下的所有文件。

```
Initial State:                       Desired Output:

\                                    \
|_Folder1                            |_Folder1
| |_File1.txt                          |_SubFolder1
| |_File2.xml                            |_File3.csv
| |_SubFolder1                           |_File4.exe
| | |_File3.csv
| | |_File4.exe
| |_Subfolder2
|_Folder2
| |_ <more files here>
|_Folder3 (etc) 
```

所以这就是我尝试过的：

```
Remove-Item * -exclude Folder1\Subfolder1\* 
```

我收到这样的警告：

```
Confirm
The item at C:\foo\Folder1 has children and the -recurse parameter was not specified. 
If you continue, all children will be removed with the item. Are you sure you want to continue?
[Y] Yes  [A] Yes to All  [N] No  [L] No to All  [S] Suspend  [?] Help
(default is "Y"): 
```

当我指定`-recurse`时，它会删除每个文件，并且似乎忽略了我的过滤器。

发生了什么事，这样做的正确方法是什么？

编辑：我已经包含了一个包含上述[示例文件夹结构](https://dl.dropbox.com/u/15385515/foo.zip)的 zip 文件。如果您想测试解决方案，请在此处尝试。我还包含了第二个具有[所需输出](https://dl.dropbox.com/u/15385515/output.zip)的 ​​zip 文件，因此您可以检查它是否正常工作。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-06T13:56:12.177

```
(Get-ChildItem c:\folder1\ -recurse | select -ExpandProperty fullname) -notlike 'c:\folder1\subfolder1*' | sort length -descending | remove-item 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-06T14:59:32.587

也许有一个更简单的解决方案，但是这个函数应该可以解决问题：

```
function Clean-Folder
{
    param(
        [string]$rootfolder,
        [string[]]$excluded
    )
    $rootfolder = resolve-path $rootfolder
    Push-Location $rootFolder
    if($excluded -notmatch "^\s*$")
    {
        $excluded = Resolve-Path $excluded
    }
    $filesToDel = Get-ChildItem $rootFolder -Recurse
    # Excluding files in the excluded folder
    foreach($exclusion in $excluded)
    {
        $filesToDel = $filesToDel |?{$_.fullname -notlike ("{0}\*" -f $exclusion)}
        # Excluding parent folders of the excluded folder
        while($exclusion -notmatch "^\s*$")
        {
            $filesToDel = $filesToDel |?{$_.fullname -ne $exclusion}
            $exclusion = Split-Path -parent $exclusion
        }
    }
    $filesToDel |Remove-Item -Recurse -ErrorAction SilentlyContinue
    Pop-Location
} 
```

基本上，它所做的是递归地列出文件夹中的所有项目，然后删除您要保留的项目、其子项目及其所有父文件夹。最后，它删除剩余的列表。

只需声明上面的函数，然后：

```
Clean-Folder -rootfolder <path> -excluded <folder you want to exclude> 
```

编辑：使根文件夹接受相对路径，并排除接受文件夹列表

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-03-25T11:48:57.113

您可以调用两个连续的命令：

```
Remove-Item * -recurse -exclude Folder1
Remove-Item Folder1\* -recurse -exclude Subfolder1 
```

首先，您删除除 Folder1 之外的所有内容。之后，您删除了 Folder1 中除 Subfolder1 之外的所有内容。这样您就不必指定要排除的子文件夹。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T12:07:40.590

我无法提供原因或正确的方法，但我确实想到了一种解决方法。您可以尝试将 get-childitem cmdlet 的输出通过管道传输到 remove-item cmdlet（未经过专门测试，因此可能需要稍作调整）：

```
get-childitem -Recurse | where fullname -notlike *SubFolder1* | remove-item -recurse 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T12:09:00.377

只需将通配符放在排除它的位置：

删除项目 * -排除 Folder1\Subfolder1\

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-07-19T12:30:33.080

我有同样的问题，最后我解决了：

```
Get-Childitem folder_for_clear_path -Exclude folder_for_exclude_name | Remove-Item -Recurse 
```

编辑：对于这个问题，使用下一个代码：

```
Get-Childitem C:\foo -exclude Folder1 | Remove-Item -recurse 
Get-Childitem C:\foo\Folder1 -exclude SubFolder1 | Remove-Item -recurse 
```

# z3 - Z3 muZ + 未解释的函数？

> ID：15246603
> 
> 赞同：2
> 
> 时间：2013-03-06T11:51:05.100
> 
> 标签：z3, datalog

muZ 是否支持未解释的函数？

我想做类似以下的事情：

```
(declare-fun f (Int) Int)
(declare-rel r (Int))
(declare-var X Int)
(rule (=> (= (f X) X) (r X)))
(query (r X)
:default-relation smt_relation2
:engine datalog
:print-answer true) 
```

但似乎我需要`f`为 Z3 返回以下输出提供定义：

```
% z3 -smt2 test.z3
error "query failed: Uninterpreted 'f' in r(#0) :- 
(= (f (:var 0)) (:var 0)).
")
unknown 
```

我想我可以将我的函数建模为关系，但想看看是否有另一种解决方法......

谢谢！

-N

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T16:01:24.467

不支持未解释的函数。在某些情况下，它将改为使用数组，但数组的处理是临时的（pdr 引擎中没有泛化步骤）。您可能还想使用 pdr 引擎来解决此类问题。

# jquery - 无法禁用 msdropdown

> ID：15246605
> 
> 赞同：1
> 
> 时间：2013-03-06T10:55:19.153
> 
> 标签：jquery, html

我是 jquery 的新手。我正在使用[msDropDown 插件](http://www.marghoobsuleman.com/jquery-image-dropdown)，该插件使用图像和描述制作下拉菜单，我遇到了禁用 msdropdown 列表然后删除此属性的问题！我试过了 ：

```
 $('#id').attr('disabled',true); 
```

和

```
 $('#id').attr('disabled','disabled'); 
```

和

```
 $('#id').attr('disabledAll','disabledAll'); 
```

和

```
$('#id').addClass('disabled'); 
```

和

```
$('#id').addClass('disabledAll'); 
```

和

```
$('#id').disableSelection(); 
```

我没有解决方案！任何人都可以帮助我:(

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T11:58:05.733

您使用的代码适用于普通的下拉 ( `<select>`) 元素，但插件的工作方式是创建新标记来*模拟*下拉行为 - 它不再支持本机表单元素属性，因此设置`disabled`属性无效在上面。

然而，插件确实暴露了它自己的 disabled 属性——它只是没有以同样的方式触发。[文档](http://www.marghoobsuleman.com/mywork/jcomponents/image-dropdown/samples/examples/help.html)可能更清楚，但它说您可以使用该`.set()`方法来修改属性。考虑到这一点，代码应该是：

```
$('#id').data('dd').set('disabled', true); 
```

…或者，如果它还没有被初始化：

```
$('#id').msDropDown({disabled:true}); 
```

# java - 来自 Java 的 POST 请求无法到达 PHP

> ID：15246614
> 
> 赞同：2
> 
> 时间：2013-03-06T11:51:32.747
> 
> 标签：java, php, post, request

我在我的 Main 类`login=root&password=root`中`authenthication.php`使用`Authorize(String login, String password)`来自`AuthMediator`（扩展 PHPMediator）的方法发送 POST 请求。

问题是 - 我的 PHP 脚本从来没有收到任何东西（`$_SERVER['QUERY_STRING'`] 是空的，但是当我尝试手动执行 GET 时 - 它不是）。当所有代码都在一个类（主类）文件中时，它起作用（即 PHP 正在获取请求并处理它们）。但是在我把它分成不同的文件之后，它就停止了工作。

也许有一些访问修改器在玩一些有趣的把戏？我是 Java 新手，但我仍然不完全了解它们会产生哪些副作用。

这是我的**authentication.php**：

```
<?php
if(isset($_POST['login']) && isset($_POST['password']) )
{
    $login=$_POST['login'];
    $password=$_POST['password'];

    $userfile_path="../users/".$login;

    if(!file_exists($userfile_path))
    {
        echo "ERR_USER_INVALID";
    }
    else
    {
        $hash=md5($login.$password);

        $userfile=fopen($userfile_path,"r");
        if($userfile!=FALSE)
        {
            if(fgets($userfile)==$hash)
            {
                echo "OK_USER_VALID";
            }
            else
            {
                echo "ERR_USER_INVALID";
            }
            fclose($userfile);
        }
        else
        {
            echo "ERR_OPENING_USER_FAILED";
        }
    }

}
else
{
    echo "ERR_AUTH_MALFORMED_POST_REQUEST(".$_SERVER['QUERY_STRING'] .")";
}

?> 
```

**AuthMediator.class**：

```
package WebActivity;

import Constants.MagicConstants;

public class AuthMediator extends PHPMediator {

    public AuthMediator() throws Exception {
        super(MagicConstants.AUTH_URL);
    }

    public String Authorize(String login, String password) {
        String _data="login="+login+"&password="+password;
        try {
            this.sendData(_data);
            this.receiveData();
        } catch (Exception ex) {
            return "ERR_EXCEPTION";
        }

        return this._response;
    }
} 
```

它是父**PHPMediator.class**：

```
package WebActivity;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.OutputStreamWriter;
import java.net.URL;
import java.net.URLConnection;
import java.net.URLEncoder;

public class PHPMediator {

    private URL _phpUrl;
    private URLConnection _urlConn;
    private OutputStreamWriter _outWrite;
    private BufferedReader _bufRead;
    protected String _response;

    PHPMediator(String url) throws Exception {
            this._response="";
            //opens connection
            this._phpUrl=new URL(url);
            this._urlConn=_phpUrl.openConnection();
            this._urlConn.setDoOutput(true);  

            //initializes writer and reader
            this._outWrite=new OutputStreamWriter(_urlConn.getOutputStream());
            this._bufRead=new BufferedReader(new InputStreamReader(_urlConn.getInputStream()));   
    }

    protected void setUrl(String url) throws Exception{
            //opens connection
            this._phpUrl=new URL(url);
            this._urlConn=_phpUrl.openConnection();
            this._urlConn.setDoOutput(true);  

            //initializes writer and reader
            this._outWrite=new OutputStreamWriter(_urlConn.getOutputStream());
            this._bufRead=new BufferedReader(new InputStreamReader(_urlConn.getInputStream()));     
    }

    protected void sendData(String data) throws IOException {
        String _data;
        _data=URLEncoder.encode(data, "UTF-8");
        this._outWrite.write(_data);
        this._outWrite.flush();

    }

    protected void receiveData() throws IOException {
        this._response+=this._bufRead.readLine();
        this._outWrite.close();
        this._bufRead.close();
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:00:31.853

POST 请求不会生成查询字符串。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-10T19:00:49.607

嗯，我发现了错误。

```
this._bufRead=new BufferedReader(new InputStreamReader(_urlConn.getInputStream())); 
```

必须在将消息发送到服务器后进行初始化。

# events - $.load() 之后 jquery 事件未绑定到页面项目

> ID：15246616
> 
> 赞同：1
> 
> 时间：2013-03-06T11:51:34.277
> 
> 标签：events, jquery, javascript-events

`jquery.load()`我有一个基本索引页面和一个大型存储库页面，为了更简洁的代码和更小的尺寸，我从其中加载了所需的元素。在我在基本页面中加载某些部分（例如某些按钮）后，我添加到 js 文件中新加载的页面项的所有事件处理程序都将不起作用。
这是我来自 js 文件的示例代码：

```
$(document.body).on('click', '.btn', function(){
    var tData = $(this).text();
    console.log(tData)
}) 
```

有人可以帮忙吗？
除了动态创建它们之外，我将所有 html 代码放在一个地方可能是错误的吗？
或者我应该在我的 html 的每个部分之后添加一个脚本标签？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:55:16.927

加载 jquery js 文件后，您将代码包装在 ready 方法中。

```
$(document).ready(function() {
    $(document.body).on('click', '.btn', function(){
       var tData = $(this).text();
       console.log(tData)
    }
}); 
```

# html - 如何在 HTML5 中为非标准扩展类型插入下载链接

> ID：15246623
> 
> 赞同：0
> 
> 时间：2013-03-06T11:52:06.700
> 
> 标签：html, hyperlink

我是 HTML 的完全初学者，并且已经开始学习 HMTL5 的基础知识。

我找到了在 HTML5 中插入下载链接的代码，如下所示：

```
<a href="myfileuniquename.zip" download="myfile">Download Myfile</a> 
```

这适用于 .png 和 .zip 等标准扩展名，但是当我尝试 .rar（根据 RarLab）时，文件下载为 .txt：

```
<a href="myfileuniquename.rar" download="myfile">Download Myfile</a> 
```

--> 这会下载 myfileuniquename.rar 但下载为 myfile.txt

如何解决此问题以保留非标准文件扩展名？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:08:41.720

如果存在该`download`属性，则表明作者打算将超链接用于下载资源。属性可能有值；该值（如果有）指定作者推荐用于标记本地文件系统中的资源的默认文件名。允许的值没有限制，但作者提醒大多数文件系统对文件名支持的标点符号有限制，用户代理可能会相应地调整文件名。

[http://www.whatwg.org/specs/web-apps/current-work/multipage/links.html#attr-hyperlink-download](http://www.whatwg.org/specs/web-apps/current-work/multipage/links.html#attr-hyperlink-download)

# java - 来自 JTextField 的波兰语字母

> ID：15246638
> 
> 赞同：3
> 
> 时间：2013-03-06T11:52:45.880
> 
> 标签：java, swing, file-io, unicode-string, jtextcomponent

如何`String`从波兰字母中获取`JTextField`或`JTextArea`使用波兰字母？当我使用`myTxtArea.getText()`并且在我的`JTextArea`我得到`ĄĆĘŁŃÓŚŹŻąćęłńóśźż`它时，它只识别`?????Ó????????ó???`.

`JTextField`两者的文本都`JTextArea`将保存在 *.txt 文件中

那是我的代码：

```
import java.io.BufferedWriter;
import java.io.FileWriter;
import java.io.IOException;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class MyAppCreateAcc {

public static void main(String[] args) throws IOException {
        AppGUI ag = new AppGUI();
    }
public MyAppCreateAcc() throws IOException {

    String group = AppGUI.getGroup().getText();

    String[] lines = AppGUI.getNote().getText().split("\\n");

    BufferedWriter w = new BufferedWriter(new FileWriter(
            "zaloz_konta.cmd"));
    w.write("mode con codepage select=1250");
    w.newLine();

    for (int j = 0; j < lines.length; j++) {

        /*
         * delete more than one space between words and from the full name
         * create a short one first letter of name and surname after all
         * lowercase like on example: John Smith = jsmith
         */
        if (lines[j] == null || lines[j].equals("")) {

            // if there is a gap between the names do nothing

        } else {
            lines[j] = lines[j].trim().replaceAll(" +", " ");
            Pattern pattern = Pattern.compile("\\s([A-Za-z]+)");
            Matcher matcher = pattern.matcher(lines[j]);
            String shortName = "";
            if (matcher.find()) {
                shortName = (lines[j].charAt(0) + matcher.group(1))
                        .toLowerCase();
            }

            w.write("call konto.cmd " + shortName + " \"" + lines[j]
                    + "\" 123 " + "\"" + group + "\"");
            w.newLine();
        }
    }
    w.close();
}

} 
```

我想从以下地址获取波兰语信件：

`String[] lines = AppGUI.getNote().getText().split("\\n");`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:55:28.827

您想使用**UTF-8**编码。试试看

```
 String s = new String(AppGUI.getNote().getText().getBytes(), "UTF-8");
 String[] lines = s.split("\\n"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T12:46:12.590

供[JTextCompoents](http://docs.oracle.com/javase/tutorial/uiswing/components/text.html)使用

*   [JTextComponent.write()](http://docs.oracle.com/javase/7/docs/api/javax/swing/text/JTextComponent.html#write%28java.io.Writer%29)用于输出到 FileIO

*   [JTextComponent.read()](http://docs.oracle.com/javase/7/docs/api/javax/swing/text/JTextComponent.html#read%28java.io.Reader,%20java.lang.Object%29)用于从 FileIO 加载数据

默认情况下接受分隔符和文件编码页面

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T13:36:02.630

我扩展了我的`pattern`，它也有帮助：

```
lines[j] = lines[j].trim().replaceAll(" +", " ");
Pattern pattern = Pattern.compile("\\s([A-Za-ząćęłńóśźżĄĘŁĆŃÓŚŹŻ]+)");
Matcher matcher = pattern.matcher(lines[j]); 
```

# powershell - Get-AdComputer -filter 参数不接受 Get-Date 输出

> ID：15246639
> 
> 赞同：2
> 
> 时间：2013-03-06T11:52:46.210
> 
> 标签：powershell, parameters, filter, active-directory, cmdlet

我在 PowerShell 脚本中偶然发现了一个奇怪的错误，该脚本为我返回特定 OU（和子 OU）中 Active Directory 中的计算机，这些计算机在特定日期内启用并登录。

以下代码段确实有效：

```
$date = (get-date).AddDays(-100)
Get-ADComputer -Filter {(enabled -eq "true") -and (lastLogonTimestamp -gt  $date)} -Properties lastLogonTimestamp -SearchBase "CN=Computers,DC=some,DC=domain,DC=com" 
```

...但是我最初尝试这样做是一行：

```
Get-ADComputer -Filter {(enabled -eq "true") -and (lastLogonTimestamp -gt  $((get-date).AddDays(-100)))} -Properties lastLogonTimestamp -SearchBase "CN=Computers,DC=some,DC=domain,DC=com" 
```

...但我反复收到以下错误（这让我尝试了上面的两行示例）：

```
Get-ADComputer : Cannot process argument because the value of argument "path" is not valid. Change the value of the "path" argument and run the operation again.
At line:1 char:1
+ Get-ADComputer -Filter {(enabled -eq "true") -and (lastLogonTimestamp -gt  $((ge ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (:) [Get-ADComputer], PSArgumentException
    + FullyQualifiedErrorId : ActiveDirectoryCmdlet:System.Management.Automation.PSArgumentException,Microsoft.ActiveDirectory.Management.Commands.GetADComputer 
```

我已经在 Windows 8 和 Windows Server 2008 R2 上运行了该脚本 - 两者都使用 PowerShell v3。我假设两个操作系统上的 RSAT 工具安装的 Active Directory 模块的版本也可能略有不同。

数据方面，我已经得到了我需要的东西，但我很难理解为什么单线器不起作用。Get-Date 或 Get-AdComputer cmdlet 都不需要参数“path”，但作为尝试，我还确保我的工作目录是 C:。

我很感兴趣是否有人能够提供一些关于为什么会这样的见解 - 我之前在非 ActiveDirectory 模块 cmdlet 中使用过这种类型的语法，所以我倾向于假设因为查询在“过滤器”参数可能会错误地传递给 Get-AdComputer cmdlet 本身（这是我们所有人都必须忍受的东西）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:27:22.810

过滤器组件的右侧必须是一个值，而不是一个表达式。

解决方案（正如您已经发现的那样）是将表达式产生的值分配给一个变量，并在过滤器的右侧使用该变量：

```
$date = (get-date).AddDays(-100)
Get-ADComputer -Filter {(enabled -eq "true") -and (lastLogonTimestamp -gt  $date)} ... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-07-05T15:19:05.283

对于非常延迟的响应，我很抱歉，我经常遇到同样的问题，并且不得不回来解决这个问题，但这是一个比将绕过此模块的“表达式/值”语法要求的单行程序。如果不是原始海报，希望它会帮助其他人。

试试这个。

```
get-adcomputer -filter "lastlogondate -le '$((get-date).adddays(-14))'" 
```

我的理解是在这些地方使用引号会强制内联表达式的评估，并在将过滤器表达式传递给原始 cmdlet 之前插入值。有人可以根据需要更正此解释。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-04-22T12:23:23.330

多年来一直试图在一行中做到这一点；正如 BTag 所说，您需要使用双引号来指定过滤器，以便它替换字符串；我还发现您必须使用 DateTime ToFileTime 方法来确保 DateTime 对象作为 Get-ADComputer -Filter 需要的 LDAP FileTime 滴答时间格式发送：

```
Get-ADComputer -Filter "enabled -eq 'true' -and lastLogonTimestamp -gt '$((Get-Date).AddDays(-90).ToFileTime())'" -Properties LastLogonTimeStamp -SearchBase "CN=Computers,DC=some,DC=domain,DC=com" 
```

享受！

# javascript - 确定使用画布创建形状

> ID：15246644
> 
> 赞同：0
> 
> 时间：2013-03-06T11:53:00.250
> 
> 标签：javascript

我想用 JavaScript 测试是否创建了画布形状。

例如：我正在创建一个圆圈：

```
context.beginPath();
context.fillStyle = this.color;
context.arc(this.x, this.y, this.radius, 0, 2 * Math.PI, false);
context.fill();
context.stroke();
context.closePath(); 
```

在这一刻，圈子应该被创建。我想像这样测试它：

```
context.isPointInPath(this.x+1,this.y+1) == true; 
```

但我不觉得这很优雅。有人有更好的主意吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:15:12.007

**x ² + y ² < r ²**

**r - 半径**

这是一个圆的点集。

满足公式不等式的**x**和**y**的所有值都在圆圈内。

所以检查一个值`(-r< x <r,-r< y <r)`是否为真的点。

并检查点`(r+1,r+1)` `(r+1,-r-1)` `(-r-1,r+1)` `(-r-1,-r-1)`是否为假

# r - 组合具有相同值的列号

> ID：15246645
> 
> 赞同：6
> 
> 时间：2013-03-06T11:53:01.403
> 
> 标签：r

我有以下形式的矩阵

```
[,1]   [,2]   [,3]   [,4]   [,5]   [,6]   [,7]   [,8]   [,9]  [,10]  [,11]
   1     1     3      2      3       1      1     2      3       3      2 
```

以下是我想要的输出（结合列号，具有相同的值）。

```
a<-1,2,6,7
b<-3,5,9,10
c<-4,8,11 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T12:03:09.520

以下为您提供了一个足够的列表：

```
aList <- setNames(split(seq_along(mat), mat), unique(letters[mat]))
aList
#  $a
# [1] 1 2 6 7
#
# $c
# [1]  4  8 11
# 
# $b
# [1]  3  5  9 10 
```

但是，如果您确实需要环境中的变量，则可以执行以下操作：

```
attach(aList) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T12:00:01.153

```
m1 <-  matrix(c(1, 1, 3, 2, 3, 1, 1, 2, 3, 3, 2), nrow = 1)
split(seq_len(ncol(m1)), m1[1, ]) 
```

为您提供所需元素的列表。我假设您并不想创建向量`a`，`b`并且`c`

```
split(seq_len(ncol(m1)), m1[1, ])

$`1`
[1] 1 2 6 7

$`2`
[1]  4  8 11

$`3`
[1]  3  5  9 10 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T12:05:39.990

您可以使用`by`按重复元素分组并返回它们的行名。

```
tab <- read.table(text ='[,1]   [,2]   [,3]   [,4]   [,5]   [,6]   [,7]   [,8]   [,9]  [,10]  [,11]
   1     1     3      2      3       1      1     2      3       3      2',head=T)

x <- t(tab)
by(x,x,FUN=rownames)
INDICES: 1
[1] "X..1." "X..2." "X..6." "X..7."
---------------------------------------------------------------------------------------------------------- 
INDICES: 2
[1] "X..4."  "X..8."  "X..11."
---------------------------------------------------------------------------------------------------------- 
INDICES: 3
[1] "X..3."  "X..5."  "X..9."  "X..10." 
```

**编辑**更漂亮的输出

```
rownames(x) <- 1:nrow(x)
> by(x,x,FUN=rownames)
INDICES: 1
[1] "1" "2" "6" "7"
---------------------------------------------------------------------------------------------------------- 
INDICES: 2
[1] "4"  "8"  "11"
---------------------------------------------------------------------------------------------------------- 
INDICES: 3
[1] "3"  "5"  "9"  "10" 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T12:00:47.090

你的问题有点奇怪，我怀疑你遗漏了一些细节。要得到你想要的东西有点笨拙。首先生成一些数据：

```
##Some data
R> m = matrix(sample(1:3, 10, replace=T), ncol=10)
R> m
     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
[1,]    1    2    2    3    1    3    3    2    2     1 
```

然后选择唯一值：

```
R> v = unique(m[1,]) 
```

现在根据需要创建向量：

```
R> (a = which(v[1]==m[1,]))
[1]  1  5 10
R> (b = which(v[2]==m[1,]))
[1] 2 3 8 9
R> (c = which(v[3]==m[1,]))
[1] 4 6 7 
```

**然而**，这是不可扩展的（或优雅的）。如果您有多个值，您将需要遍历`v`，例如：

```
(l = sapply(v, function(i) which(m[1, ] == i))) 
```

变量`l`是一个列表。要访问各个元素，请使用

```
l[[1]]
l[[2]]
l[[3]] 
```

# android - 来自 ksoap2 android 的 CData

> ID：15246648
> 
> 赞同：1
> 
> 时间：2013-03-06T11:53:08.977
> 
> 标签：android, ksoap2, cdata

我想从 android 中的 ksoap2 发送 cdata。实际上，我可以成功地发送 Web 服务请求并获得响应。我需要发送一个 cdata。我试图将 cdata 作为字符串发送，但失败了，请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-02-17T20:59:23.590

利用 `SoapObject.setInnerText("...");`

setInnerText 中的所有内容都将被视为 CDATA，并且不会被 XMLparser 更改。

# iphone - iPhone媒体查询不指向移动样式表

> ID：15246650
> 
> 赞同：1
> 
> 时间：2013-03-06T11:53:11.970
> 
> 标签：iphone, css, mobile-safari

我正在测试我的网站的移动版本，并设置了一个新的 mobile.css 文件，并使用以下代码重定向到它。（style.css 是我的主要“桌面”css）

```
<link rel="stylesheet" href="mobile.css" media="only screen and (max-device width:480px)"/>

        <meta name="viewport" content="width=device-width">

        <link rel="stylesheet" href="css/style.css" media="screen" /> 
```

我正在 iPhone 5 上对此进行测试，但它根本没有显示 CSS 的移动版本，我已经完成了更改背景颜色等操作以测试它的工作原理，它只显示常规版本。

预先感谢您的帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:03:35.777

您的媒体查询引用的是 iPhone4 而不是 iPhone5。您可以使用设备纵横比：

```
iPhone < 5:
@media screen and (device-aspect-ratio: 2/3) {}

iPhone 5:
@media screen and (device-aspect-ratio: 40/71) {}

iPad:
@media screen and (device-aspect-ratio: 3/4) {} 
```

或者如果你想组合你可以做这样的事情：

```
@media only screen and (max-device-width: 480px), only screen and (min-device-width: 560px) and (max-device-width: 1136px) and (-webkit-min-device-pixel-ratio: 2) {
    /* iPhone only */
} 
```

# c# - 你调用的对象是空的。（WPF 实体框架）

> ID：15246651
> 
> 赞同：1
> 
> 时间：2013-03-06T11:53:18.113
> 
> 标签：c#, wpf, entity-framework

我是实体框架的新手。现在，我正在用一个按钮编写删除功能。当我点击此按钮时，我的数据将被删除；但是，它会弹出“对象引用未设置为对象实例”的警报。我想不通这个问题。

```
private void btnDelete_Click(object sender, RoutedEventArgs e)
        {
            try
            {
                if (UserDataGrid.SelectedItems.Count == 0)
                    return;
                if (UserDataGrid.SelectedItems.Count > 0)
                    if (MessageBox.Show("Would you want to delete？", "Yes", MessageBoxButton.YesNo) == MessageBoxResult.Yes)
                    {
                        var selected = UserDataGrid.SelectedItem as User;
                        var index = selected.Index;

                        User user = new User();
                        user = ssEntities.User.Where(x => x.Index == index).First();

                        if (user != null)
                        {
                            ssEntities.User.DeleteObject(user);
                            ssEntities.SaveChanges();
                        }
                    }
            }
            catch (Exception ex)
            { MessageBox.Show(ex.Message); }
            finally { }
        } 
```

如果没有足够的信息，请告诉我添加它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:19:18.873

考虑到您的意见，您应该这样做：

因为看起来你所有的`try-catch`块都写如下

```
try { }
catch (Exception ex)
{ MessageBox.Show(ex.Message); }
finally { } 
```

您完全不知道异常发生在哪里，因为您丢失了整个 StackTrace。你应该改变这种行为，因为这有很多问题。找到**所有**使用此模式的代码块并将其更改为如下内容：

```
try { }
catch (Exception ex)
{ 
    Debug.WriteLine(string.Format("An exception has occurred in <some function>: {0}\n{1}", ex.Message, ex));
    MessageBox.Show(ex.Message); 
}
finally { } 
```

这样，您将能够在 Debug 窗口中看到更详细的输出，并且您应该能够通过检查 StackTrace 来定位确切的异常。
当然，除了使用`Debug.WriteLine`之外，您还可以使用另一种日志记录机制，例如`log4net`.

# vbscript - 通过 Vbscript 杀死命令提示符进程

> ID：15246659
> 
> 赞同：0
> 
> 时间：2013-03-06T11:53:32.890
> 
> 标签：vbscript

我想通过 VB 脚本单击停止按钮来终止 cmd.exe 进程。它不工作。

如果我将它作为 .vbs 文件单独运行，则该子例程可以正常工作。

我什至尝试将子程序代码保存在单独的 .vbs 文件中并在我的 html 文件中调用它。

```
<html>
<head> 
<SCRIPT LANGUAGE="VBScript"> 

Sub stopbtn_OnClick

   MsgBox "Mirabile visu."

 strComputer = "."
 strProcessToKill = "cmd.exe" 

Set objWMIService = GetObject("winmgmts:" _
    & "{impersonationLevel=impersonate}!\\" _ 
    & strComputer & "\root\cimv2") 

Set colProcess = objWMIService.ExecQuery _
    ("Select * from Win32_Process Where Name = '" & strProcessToKill & "'")

count = 0
For Each objProcess in colProcess
    objProcess.Terminate()
    count = count + 1
Next 

wscript.echo "Killed " & count & " instances of " & _
    strProcessToKill & "on " & strComputer

End Sub

</SCRIPT>
</head>
<body>
<form name="stoprc">
 <tr>
      <td width="80"></td>
      <td><input type="button" value="Stop" name="stopbtn" ></td>
   </tr>
</form>
<body>
</html> 
```

# interface - F# 中的对象表达式和捕获的状态

> ID：15246660
> 
> 赞同：5
> 
> 时间：2013-03-06T11:53:36.870
> 
> 标签：interface, f#

是什么让第一个实现 KO ？

```
type IToto  = 
    abstract Toto : unit -> unit

{ new IToto with  
      member this.Toto = 
             fun () -> () }

{ new IToto with  
        member this.Toto () = ()  } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T11:56:17.970

`FSharpFunc<unit, unit> Toto { get; }`在编译表示中，函数类型的属性（编译为）和获取单位和返回单元的方法（编译为 ）之间存在差异`unit Toto()`。

第一个对象表达式实现了一个不同的接口：

```
type IToto  = 
    abstract Toto : (unit -> unit) // Note: Parentheses around the function type!

{ new IToto with  
      member this.Toto = 
             fun () -> () } 
```

# python - 从 django 1.4.3 中的媒体文件夹下载文件（已上传）

> ID：15246661
> 
> 赞同：12
> 
> 时间：2013-03-06T11:53:40.137
> 
> 标签：python, django, file, download, media

我正在使用 django 来设计处理文件夹的文件`uploading`和`downloading`文件的基本网页`media`

实际上，文件已成功上传到媒体文件夹，文件也已成功下载，但文件`underscore`名后面附加了一个`last charater`like `file_one.pdf_`，`file_two.pdf_`等`file_three.txt_` ，

以下是我的代码

**网址.py**

```
urlpatterns = patterns('',
             url(r'^upload$', 'learn_django.views.upload'),
             url(r'^files_list$', 'learn_django.views.files_list'),
             url(r'^download/(?P<file_name>.+)$', 'learn_django.views.download'),
)
if settings.DEBUG:
    urlpatterns = patterns('',
    url(r'^media/(?P<path>.*)$', 'django.views.static.serve',{'document_root': settings.MEDIA_ROOT, 'show_indexes': True}),
) + urlpatterns 
```

**视图.py**

```
def upload(request):
    ......
    ....
    return render_to_response('uploads_form.html', {'form': form},context_instance=RequestContext(request))

def files_list(request):
    return render_to_response('files_list.html',{'total_files':os.listdir(settings.MEDIA_ROOT),'path':settings.MEDIA_ROOT},context_instance=RequestContext(request))

def download(request,file_name):
    file_path = settings.MEDIA_ROOT +'/'+ file_name
    file_wrapper = FileWrapper(file(file_path,'rb'))
    file_mimetype = mimetypes.guess_type(file_path)
    response = HttpResponse(file_wrapper, content_type=file_mimetype )
    response['X-Sendfile'] = file_path
    response['Content-Length'] = os.stat(file_path).st_size
    response['Content-Disposition'] = 'attachment; filename=%s/' % smart_str(file_name) 
    return response 
```

**文件列表.html**

```
<table border="1" colspan="2" width="100%">
   <tr>
     <th width="60%">File</td>
     <th width="40%">Download</td> 
   </tr>
 {% for file in total_files %}
   <tr>
     <td width="60%">{{file}}</td>
     <td width="40%" align="center"><a href="/download/{{file}}" style="text-decoration:None">Download here</a></td>
   </tr>
 {% endfor %}  
</table> 
```

所以在上面的代码中，当一个文件成功上传到 media 时，它会被重定向到`files_list.html`通过`files_list`view 函数，它以表格的形式显示文件的总数，每个文件名旁边都有一个下载链接。

因此，当我们单击下载锚链接时，将通过执行该函数下载相应的文件`download`。

所以文件下载成功，但是`underscore` `_`文件名的最后一个附加了一个，如`file_one.pdf_`，`file_two.pdf_`等`file_three.txt_` 。

所以谁能告诉我，我上面的下载功能代码有什么问题，为什么`underscore`要附加到文件名中`file name`以及如何`underscore`从文件名中删除它......

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-12-17T08:05:27.027

只需`/`在文件名后删除。

改变这个：

```
response['Content-Disposition'] = 'attachment; filename=%s/' % smart_str(file_name) 
```

对此：

```
response['Content-Disposition'] = 'attachment; filename=%s' % smart_str(file_name) 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2016-06-13T10:04:28.747

您的代码是正确的，但其中有一个冗余字符`download`：

```
def download(request,file_name):
    file_path = settings.MEDIA_ROOT +'/'+ file_name
    file_wrapper = FileWrapper(file(file_path,'rb'))
    file_mimetype = mimetypes.guess_type(file_path)
    response = HttpResponse(file_wrapper, content_type=file_mimetype )
    response['X-Sendfile'] = file_path
    response['Content-Length'] = os.stat(file_path).st_size
    response['Content-Disposition'] = 'attachment; filename=%s/' % smart_str(file_name) 
    return response 
```

最后一行文件名属性有一个斜杠（/）：`filename=%s`**/**

这导致了问题。删除这个斜线，它就可以工作了。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2020-03-11T10:31:08.097

这些都不是必需的。在 HTML 中，您可以使用`<a download="{video.URL}">`

例如：

```
<button class="btn btn-outline-info">
<a href="{{result.products.full_video.url}}" download="{{result.products.full_video.url}}" style="text-decoration:None" class="footer_link">Download<i class="fa fa-download"></i></a>
</button> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-12-05T11:31:50.330

```
import urllib, mimetypes
from django.http import HttpResponse, Http404, StreamingHttpResponse, FileResponse
import os
from django.conf import settings
from wsgiref.util import FileWrapper

class DownloadFileView(django_views):
    def get(self,request,file_name):
        file_path = settings.MEDIA_ROOT +'/'+ file_name
        file_wrapper = FileWrapper(open(file_path,'rb'))
        file_mimetype = mimetypes.guess_type(file_path)
        response = HttpResponse(file_wrapper, content_type=file_mimetype )
        response['X-Sendfile'] = file_path
        response['Content-Length'] = os.stat(file_path).st_size
        response['Content-Disposition'] = 'attachment; filename=%s/' % str(file_name) 
        return response 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-06-14T15:02:19.000

我通过更换解决了这个问题

```
response['Content-Disposition'] = 'attachment; filename=diploma_"' + str(someID) + '.pdf"' 
```

和

```
response['Content-Disposition'] = 'attachment; filename="diploma_{}{}"'.format(str(someID),'.pdf') 
```

# jquery - 动态 JQuery 切换下拉菜单

> ID：15246662
> 
> 赞同：0
> 
> 时间：2013-03-06T11:53:40.710
> 
> 标签：jquery, html, dynamic, toggle

我在表格中有一些 div，只是为了进行良好的设置。当我按下一个 div 时，它下面会出现一个文本，如果你再次按下 div，文本就会再次消失。

另外，当我按下其中一个 div 时，左侧的 img 将显示一个向下箭头，当它正常时，它将显示一个指向右侧的箭头。

我在 10 个 div 上有这个功能。

我的问题是，当我按下 div 1 时，它工作正常，箭头向下显示，文本下降.. 但是当我按下另一个 div 时，当第一个打开时，箭头开始混乱..

有没有办法让它变得动态？

这是我的JQ：

```
<script type="text/javascript">

$(document).ready(function(){
    var tjek = "TRUE";
    $(".title").click(function()
    {                                                                                      
        $(this).children('.subtitle').toggle(500);
        if(tjek == "TRUE")
        {
            $(this).css({"background-image" : "url('/images/images/Pil_open.png')"});
            tjek = "FALSE";
        }else{
            $(this).css({"background-image" : "url('/images/images/Pil_normal.png')"});
            tjek = "TRUE";
        }
    });
}); 
```

继承人的HTML：

```
<table border="0" cellpadding="0" cellspacing="5" style="min-height: 100px; width: 698px;">
<tbody>
<tr>
<td valign="top">                                                                                                                                    
<div class="title">
    <p id="tekst">
        <b>BLA BLA BLA</b>
    </p>
    <div class="subtitle">
        TEXT TEXT TEXT TEXT
    <div>
</div>
</td>
... 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T12:06:31.107

您可以使用`toggleClass`.

```
$(".title").click(function() {

    var $element = $(this);

    $element.toggleClass('open');
    $element.children('.subtitle').toggle(500);
}); 
```

CSS

```
.title {
    background-image: url('/images/images/Pil_normal.png');
}

.title.open {
    background-image: url('/images/images/Pil_open.png');
} 
```

[**演示**](http://jsfiddle.net/GVYZm/1/)

# blackberry - 显示 RTL 语言（希伯来语）反转

> ID：15246663
> 
> 赞同：2
> 
> 时间：2013-03-06T11:53:53.400
> 
> 标签：blackberry, lwuit, nokia, right-to-left

我有带有结果的 xml 文件。

在这个文件中，我有一个由字符串电话号码组成的元素，如下所示：`xxxxx 053 333333333`，但它显示在应用程序中，如`xxxxx 333333333 053`.

为什么会这样？似乎在解析时，解析器将这句话联系起来，就像它是用英语而不是希伯来语写的一样。

这发生在诺基亚和黑莓上。我正在使用lwuit。

我的结论是它的发生是因为 lwut (?)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:00:38.417

我在双向文本渲染方面也遇到了一些问题。一个很好的解释在这里：[http ://www.iamcal.com/understanding-bidirectional-text/](http://www.iamcal.com/understanding-bidirectional-text/)

我的解决方案是当我知道一个句子是用特定语言编写的时，使用显式标记 LRE、RLE 和 PDF。

# c# - 如何将所需的 DLL 与 Visual C# 中的解决方案捆绑在一起（Express，2010）

> ID：15246666
> 
> 赞同：1
> 
> 时间：2013-03-06T11:53:59.950
> 
> 标签：c#, visual-studio-2010, dll

我有一个用 C# 编写的应用程序，它使用供应商提供的 .Net 程序集与一些自定义硬件接口。.Net 程序集又在运行时加载另一个 DLL。我可以将供应商提供的程序集添加到我的项目中，但是当我运行它时，供应商程序集抱怨它无法加载所需的 DLL。我暂时可以通过将 DLL 复制到 bin\Debug 和 bin\Release 文件夹来解决这个问题。

问题是我需要在某个时候将这个应用程序分发给客户端，而他们不会有这个 DLL。我看不出如何使解决方案需要它；我无法将其添加为引用，因为我收到错误***“无法添加对 foo.dll 的引用。请确保该文件可访问，并且它是有效的程序集或 COM 组件。”***

我无法使用 TlbExp 将 DLL 转换为 .Net 程序集，它会给出错误“***模块应包含程序集清单”。***

我想如果我通过“单击一次”发布应用程序，我可以在那里声明依赖关系，但我也看不到任何方法。我也尝试将其添加为文件资源，但这似乎没有帮助。

我可以看到关于如何在外部 DLL 中调用功能的其他问题，但在这种情况下，我只需要一种将 DLL 与项目捆绑在一起的方法。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:24:05.947

表示属性化方法由非托管动态链接库公开 ( `DLL`)

该`DllImportAttribute`属性提供调用从非托管导出的函数所需的信息`DLL`。作为最低要求，您必须提供包含入口点的 DLL 的名称。

如需进一步参考，请点击此处查看 [链接](http://msdn.microsoft.com/en-us/library/system.runtime.interopservices.dllimportattribute.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T12:30:04.530

您可以将 dll 添加为资源，`byte[]`在加载时将其作为文件写入文件，并`Assembly.Load()` 在运行时执行部署。

您可能必须使用 an`AppDomain.AssemblyResolve Event`来确保程序集在多个版本的情况下解析。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T12:04:05.383

您可以将项目中的两个（所有）dll 添加为引用并将它们标记为“复制本地”。除非第一个 DLL 在特定位置需要第二个 DLL，否则应该这样做。

# android - 从 Intent 操作视图（浏览器）Android 获取 Json 响应

> ID：15246669
> 
> 赞同：1
> 
> 时间：2013-03-06T11:54:06.070
> 
> 标签：android, android-intent

我的应用程序启动了打开网站的意图。在网站浏览器中，您可以输入您的用户名和密码，然后登录。登录后，网站会返回一些 JSON 格式的数据。

我知道如何从 URL 读取 JSON，但是一旦您登录网站（Intent），我不知道如何在我的应用程序中获取 JSON。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:01:11.940

**JSONObject 结构 = Utilities.getJSONFromUrl(url);
JsonObject subcat=struct.getJSONArray("subcategories").getJSONOBJECT(0);
JSONObject innersubcats = subcat.getJSONArray("subcategories").getJSONOBJECT(0);
字符串 id = innersubcats.getstring("id");
log.i("内部子类别的 ID",id);** 

阅读此内容...您可以使用 getstring 从 JSON 字符串获取数据到您的应用程序..

尝试在您的应用程序中实现它

# c - 暂停程序执行，直到处理中断 - 如何实现？

> ID：15246670
> 
> 赞同：3
> 
> 时间：2013-03-06T11:54:06.207
> 
> 标签：c, linux, module, interrupt, interrupt-handling

我创建了一个处理中断的内核模块。此外，还有一个 C 程序。

该程序在执行期间会导致中断。当中断到来时，程序应该被挂起，并保持挂起 - 直到内核模块中的中断处理程序完成处理这个中断。

请告诉我，如何实现？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:56:28.030

您可以在内核模块执行此操作时等待具有属性`PTHREAD_PROCESS_SHARED`集的互斥锁，当内核模块完成后，您可以向互斥锁发出信号，以便您的进程可以继续。

要设置它，您可以使用[`pthread_mutexattr_setpshared`](http://linux.die.net/man/3/pthread_mutexattr_setpshared)

还有这个：

> 对于进程间同步，需要在这些进程之间共享的内存中分配互斥锁。由于必须动态分配此类互斥锁的内存，因此需要使用 mutex_init() 显式初始化互斥锁。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T12:08:07.220

```
This program causes interrupts during its execution 
```

我假设用户空间程序正在执行软中断/系统调用，并且您已经编辑了内核系统调用表，并分配了自定义系统调用的编号，并使用自定义系统调用/软中断重新编译和安装了内核。

> 当中断到来时，程序应该被挂起，并保持挂起 - 直到内核模块中的中断处理程序完成处理这个中断。

为了在您的程序调用软中断时发生这种情况，您必须使您的 irq 以原子方式运行，这样，在您的程序调用另一个软中断之前，前一个中断将被立即处理，而不会被任何其他中断抢占。 ，更高优先级的中断。要实现这种原子性，您可以在 irq 处理程序中使用自旋锁。

例子

```
spinlock_t mLock = SPIN_LOCK_UNLOCK;
unsigned long flags;

spin_lock_irqsave(&mLock, flags); // save the state, if locked already it is saved in flags
// IRQ Handler Code here
spin_unlock_irqsave(&mLock, flags); // return to the formally state specified in flags 
```

# regex - 正则表达式中特定字符串的否定

> ID：15246674
> 
> 赞同：1
> 
> 时间：2013-03-06T11:54:26.317
> 
> 标签：regex, string, unix, negate

我想否定字符串

> ***。信息**

我怎样才能做到这一点？

我努力了

```
^(?!.*\*\.INFO).*$ 
```

但它不工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T05:33:28.480

根据您最近的评论，这匹配以`*.`except开头的任何内容`*.INFO`：

```
\*\.(?!INFO\b)\S+ 
```

请注意，通过添加this 将*匹配*`\b`以其他字符开头但后跟其他字符的字符串，例如`INFO`*`*.INFO``*.INFOXYZ`*

 ** * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:59:31.950

你几乎是正确的

```
^(?![*][.]INFO).*$ 
```

你可以[在这里测试](http://regex101.com/)*

# ember.js - ember.js 在对话框中加载数据

> ID：15246678
> 
> 赞同：0
> 
> 时间：2013-03-06T11:54:32.083
> 
> 标签：ember.js

我尝试创建我的第一个 ember.js 应用程序。日历-

我的日常模特

```
App.Day = Ember.Object.extend({
today : null,
dayNumber : null,
addEvent : function()   {
    console.log(this);
    $("#myModal").modal('show');
}
}); 
```

html 视图

```
<div class="cal">
    {{#each App.DayList}}
        {{#if this.today}}
        <div class="day today" {{action "addEvent" target="model" }}>
            {{#with this as model}}
            <span class="text">{{this.dayNumber}}</span>
            {{/with}}
        </div>
        {{else}}
        <div class="day" {{action "addEvent" target="model" }}>
            {{#with this as model}}
            <span class="text">{{this.dayNumber}}</span>
            {{/with}}
        </div>
        {{/if}}
    {{/each}}
    </div> 
```

所以在点击日我会显示引导对话框，我不会加载外部数据，但我需要有关点击日的信息。

我的理解是我创建了一个视图

```
 App.DayDetails = Ember.View.extend({

}); 
```

在这个视图中我发送了一个ajax请求，但是如何在这个视图中获取有关点击日的信息？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:23:15.680

您几乎*不*应该在视图中执行任何 AJAX。

视图做两件事：

(1) 画自己

(2) 响应 UI 事件（点击、打字等）

您的视图应该从控制器获取其内容，在这种情况下，我认为是 App.DayController 或 DayDetailsController。（这是另一回事，最好的做法是用`View`or`Controller`等​​结束你的子类，所以它们的作用一目了然）。

控制器从哪里获取数据可能会使事情变得复杂。理想情况下，在一个成熟的应用程序中，您将拥有一个可以查询的数据存储（概念上是服务器端数据库和 ActiveRecord 的组合，如果您使用 rails）。然而，简单地说，您可以让控制器负责使用 jQuery 手动处理 ajax 请求。只要我们走捷径，您就可以在多个地方进行这样的调用（单例控制器、特定日期的项目控制器、日期模型本身），而不是视图。在采取这些捷径来限制传染时，这一点很重要......你应该用手动 ajax 做的就是获取 JSON，然后通过将其设置为一个阵列控制器。IE，通过尝试手动将数据插入视图或诸如此类的方式，无需再走一两步。如果可以避免，请不要与 Ember 战斗。

一些东西：

(1) 你的使用`this`是多余的，`{{with}}`声明也是如此。在`{{each}}`块内，上下文将是迭代中的当前对象（或其包装控制器，如果您使用 itemController）。（除非您使用“x in y”语法，在这种情况下，上下文仍然是控制器）

(2) 模型不应试图修改 DOM。相反，依靠绑定和您的控制器来协调 UI 更改。你可能想要做的是有一个`App.DayController`你可以穿上`addEvent`，然后在你的`{{each}}`使用`itemController="App.DayController".`

```
App.DayController = Ember.ObjectController.extend({
    addEvent: function () {
        // ...
    }
}); 
```

`{{each}}`然后，模板中每个循环的上下文将是每个单独的日控制器。控制器将自动成为视图的目标和上下文，因此您的模板将如下所示：

```
{{#each App.DayList itemController="App.DayController"}}
    <div {{bindAttr class=":day today"}} {{action addEvent}}>{{dayNumber}}</div>
{{/each}} 
```

（`:`in`:day`意味着`day`永远是一个类，但只有在上下文中`today`的属性为真时才会是一个类）`today`

因为每天都发送`addEvent`到它自己的控制器，所以无需弄清楚哪一天加载。

# java - 如何从碧玉打印对象中删除样式？

> ID：15246681
> 
> 赞同：1
> 
> 时间：2013-03-06T11:54:43.087
> 
> 标签：java, jasper-reports

我想知道，是否可以从 jasperPrint 对象中删除样式。我正在寻找的是，假设我有两个 JRStyle 对象 styleForPdf 和 styleForExcel 。默认情况下，我将金额列的样式设置为 **styleForPdf**。在将此报告导出为 excel 时，我想删除此样式并用**styleForExcel替换它。**

我尝试使用**Jasperprint**的 removeStyle 来做到这一点，但它似乎只是从集合中删除样式而不是删除字段的样式。

是否有可能做到这一点。

谢谢

# sql-server - 从两个表中删除“等效”数据

> ID：15246686
> 
> 赞同：5
> 
> 时间：2013-03-06T11:54:55.493
> 
> 标签：sql-server, tsql, sql-server-2012

我需要在 SQL Server 2012 过程中执行以下伪逻辑，基于一个表变量和一个这样声明的表：

```
DECLARE @tmp TABLE
    (
    ID int IDENTITY(1,1),
    UserID int NOT NULL,
    SgsID int NOT NULL
    )

CREATE TABLE #Table1
    (
    ID int IDENTITY(1,1),
    UserID int NOT NULL,
    SgsID int NOT NULL
    ) 
```

1.  对于表变量中的每一行数据`@tmp`
2.  删除组合匹配的`Table1`行`UserID/SgsID``UserID/SgsID``Table1`
3.  删除那些已被删除的`UserID/SgsID`组合`@tmp``Table1`

我一直在研究不同的方法，例如使用`OUTPUT INTO`and `INTERSECT`，但无法编写跨两个表删除的查询（实际上我认为这甚至不可能）。

我已经通过使用以下代码实现了上述步骤，但是，我想知道是否有任何 T-SQL 专业人士能够提出更简洁/有效的方法？

[在线版本](http://www.sqlfiddle.com/#!6/d41d8/3033)见SQLFiddle

```
CREATE TABLE #Table1
    (
    ID int IDENTITY(1,1),
    UserID int NOT NULL,
    SgsID int NOT NULL
    )

INSERT INTO #Table1 (UserID, SgsID) VALUES (5, 99)
INSERT INTO #Table1 (UserID, SgsID) VALUES (10, 89)
INSERT INTO #Table1 (UserID, SgsID) VALUES (150, 79)
INSERT INTO #Table1 (UserID, SgsID) VALUES (200, 69)
INSERT INTO #Table1 (UserID, SgsID) VALUES (250, 59)
SELECT * FROM #Table1 

DECLARE @tmp TABLE
    (
    ID int IDENTITY(1,1),
    UserID int NOT NULL,
    SgsID int NOT NULL
    )

INSERT INTO @tmp (UserID, SgsID) VALUES (150, 79)
INSERT INTO @tmp (UserID, SgsID) VALUES (200, 69)
INSERT INTO @tmp (UserID, SgsID) VALUES (250, 59)
INSERT INTO @tmp (UserID, SgsID) VALUES (999, 49)
SELECT * FROM @tmp

DECLARE @tbl_commonRows TABLE (UserID int, SgsID int)
INSERT INTO @tbl_commonRows 
    (
    UserID,
    SgsID
    ) 
SELECT 
    UserID,
    SgsID 
FROM
    #Table1
INTERSECT 
SELECT
    UserID,
    SgsID
FROM
    @tmp 

DELETE FROM 
    #Table1 
WHERE 
    (ID IN (
        SELECT 
            ID 
        FROM 
            #Table1 t1 INNER JOIN
            @tbl_commonRows c ON c.UserID = t1.UserID AND c.SgsID = t1.SgsID))

DELETE FROM
    @tmp
WHERE
    (ID IN (
        SELECT
            ID
        FROM
            @tmp t2 INNER JOIN
            @tbl_commonrows c ON c.UserID = t2.UserID AND c.SgsID = t2.SgsID))

SELECT * FROM #Table1 
SELECT * FROM @tmp
DROP TABLE #Table1 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T12:10:12.567

这是解决方案：

```
DECLARE @tmp_ids TABLE (
    id1 INT,
    id2 INT
)

INSERT INTO @tmp_ids (id1, id2)
SELECT 
    t1.id,
    t2.id
FROM Table1 t1
INNER JOIN tmp t2
    on (t1.UserID = t2.UserID AND t1.SgsID = t2.SgsID)

DELETE FROM Table1
WHERE id IN (SELECT id1 FROM @tmp_ids)

DELETE FROM tmp
WHERE id IN (SELECT id2 FROM @tmp_ids) 
```

请记住 - 我创建了物理表 tmp 和 Table1

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T20:11:49.083

您可以利用 OUTPUT 命令可以使用超过 INSERTED 和 DELETED 列进行删除（但不是插入，遗憾的是）这一事实：

```
 DECLARE @output TABLE (id int) 

    DELETE FROM tbl
    OUTPUT tmp.ID INTO @output(id)
    FROM #Table1 tbl
    JOIN @tmp tmp 
        ON tbl.UserID = tmp.UserID 
        AND tbl.SgsID = tmp.SgsID

    DELETE FROM tmp
    FROM @tmp tmp
    JOIN @Output outp ON tmp.id = outp.id 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T14:37:33.040

您是否考虑过为此使用 MERGE？可能是另一种选择，语法很好且易于理解。

[合并 (Transact-SQL)](http://technet.microsoft.com/en-us/library/bb510625.aspx)

# c# - 如何将参数从 C# 代码传递给 JavaScript？

> ID：15246689
> 
> 赞同：0
> 
> 时间：2013-03-06T11:55:11.870
> 
> 标签：c#, javascript, parameters

JavaScript 函数：

```
function WelcomeMessageMaster(clientID) {
    alert("ClientID = " + clientID);
} 
```

C#代码：

```
clientStageCommand = new ClientStepCommand
{
    CommandType = ClientStageCommandType.Eval,
    Argument = "WelcomeMessageMaster"/("/" + this.Grid.UniqueID + ""/)""
}; 
```

但是，有编译器错误表明括号有问题。我不确定在哪里加上引号。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:05:48.580

```
clientStageCommand = new ClientStepCommand
{
    CommandType = ClientStageCommandType.Eval,
    Argument = string.Format(@"WelcomeMessageMaster(""{0}"")", this.Grid.UniqueID)
}; 
```

# php - PHP 因比较浮点数和整数而失败

> ID：15246704
> 
> 赞同：0
> 
> 时间：2013-03-06T11:55:35.870
> 
> 标签：php, comparison

看到[这个](http://pastebin.com/H3dEmd9L)PasteBin 并告诉我我错在哪里。我认为我的编码可能存在错误或我不知道的问题。无论如何，我已经在 PHP 5.3.16 上的本地机器和 PHP 5.3.15 上的 WebHost 服务器上对其进行了测试。我已经模拟了脚本的真实结果，在此之前的一切都运行良好，除了这部分，没有抛出错误。

现场测试[在这里](http://sandbox.onlinephpfunctions.com/code/ef3d0eb5b7bf34d22100bc6c4a87d26f7437a3af)。与开发和服务器机器上的结果相同。

谢谢你们！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:02:37.613

我认为你的问题在于`elseif (($taxed >= 99) && ($total < 199)) {`

它应该是`elseif (($taxed >= 99) && ($taxed < 199)) {`

# android - 安卓活动状态

> ID：15246707
> 
> 赞同：0
> 
> 时间：2013-03-06T11:55:44.877
> 
> 标签：android, android-activity

在 Android 应用程序中，是否可以在 Activity 暂停时收到通知，但无需在 Activity 类中使​​用 onDestroy 方法。

换句话说，我希望操作在主类之外。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:58:51.337

您可以使用[Activity 生命周期](https://developer.android.com/reference/android/app/Activity.html)`onPause()`的方法：

![在此处输入图像描述](../Images/c33fefc58087e3813a8a476b7c6f2f50.png)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-06T11:57:22.140

只需覆盖 onPause 方法。

```
@Override
    protected void onPause() {
        // TODO Auto-generated method stub
        super.onPause();
    } 
```

当活动要暂停时。它会调用这个方法。

# python - 有没有一种方法可以在 Python 中不使用 try/except 的情况下对提升到程序顶部的异常做出反应？

> ID：15246709
> 
> 赞同：7
> 
> 时间：2013-03-06T11:55:50.047
> 
> 标签：python, exception

我可以在不执行以下操作的情况下捕获并转储一个异常（以及相应的堆栈跟踪），该异常会导致程序崩溃：

```
try:
   # whole program
except Execption as e:
   dump(e)
   raise 
```

有时外部库崩溃，我想对 Python 死亡做出反应并记录它这样做的原因。我不想阻止异常使程序崩溃，我只想要调试信息。

就像是：

```
signals.register('dying', callback)

def callback(context):
    # dumping the exception and
    # stack trace from here 
```

这甚至可能吗？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-06T11:57:14.033

是的，通过注册一个[`sys.excepthook()`函数](http://docs.python.org/2/library/sys.html#sys.excepthook)：

```
import sys

def myexcepthook(type, value, tb):
    dump(type, value, tb)

sys.excepthook = myexcepthook 
```

这*将替换*默认挂钩，该挂钩将回溯打印到`stderr`. 每当引发未捕获的异常并且解释器即将退出时，都会调用它。

如果您想重用自定义钩子中的原始异常钩子，请调用`sys.__excepthook__`：

```
def myexcepthook(type, value, tb):
    dump(type, value, tb)
    sys.__excepthook__(type, value, tb) 
```

# java - 从命令提示符运行可执行 jar 文件

> ID：15246711
> 
> 赞同：-6
> 
> 时间：2013-03-06T11:55:57.110
> 
> 标签：java

如何从命令提示符运行包含 java 程序的 jar 文件？

尝试运行时出现以下异常

* * *

sun.launcher.LauncherHelper.getMainClassFromJar(Unknown Source) at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source) 的线程“main”java.lang.NullPointerException 中的异常

* * *

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-06T11:57:59.010

只需转到带有“jar 文件的 cd 路径”的目录即可。
在那里你输入“filename.jar”并回车。
对我来说，这很好用。

编辑：我将“filename.jar”放入括号中，编译器没有显示文件名。

# php - 从 mysql 转移到 mysqli 的混乱与奇怪的错误消息

> ID：15246712
> 
> 赞同：0
> 
> 时间：2013-03-06T11:55:57.763
> 
> 标签：php

这是我从 mysql 搬过来后第一次尝试 mysqli，很抱歉提出愚蠢的问题，但它有点学习曲线：-S。

我目前正在使用以下内容尝试从数据库中提取一些照片数据，但是我遇到了一个错误，但我一生都看不到为什么。

```
 <?php
             $sql = <<<SQL
        SELECT *
        FROM `shop`
    SQL;

    if(!$result = $db->query($sql)){
        die('There was an error running the query [' . $db->error . ']');
    }

    while($row = $result->fetch_assoc()){
        echo '<div class="simpleCart_shelfItem">';
     echo '<h2 class="item_name">'.$row[filename].'</h2>';
     echo '<p>  <input type="text" value="1" class="item_Quantity"><br>';
     echo '<span class="item_price">&pound;'.$row[price].'</span><br>';
     echo '<a class="item_add" href="javascript:;"> Add to Cart </a></p>';
    echo '</div>';
    }
             ?>
    <span class="simpleCart_quantity"></span> items - <span class="simpleCart_total"></span>
    <a href="javascript:;" class="simpleCart_checkout">Checkout</a> 
```

我得到的错误是：

```
query($sql)){ die('There was an error running the query [' . $db->error . ']'); } while($row = $result->fetch_assoc()){ echo '
'; echo '
'.$row[filename].'

'; echo '

'; echo '£'.$row[price].'
'; echo ' Add to Cart

'; echo '
'; } ?> 16 items - $243.95 Checkout 
```

与 mysql die 错误相比，这对我来说毫无意义？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T12:00:22.207

是的，迈克尔是对的。
正如我之前认为的那样，这不是错误的 HEREDOC 语法，但您的代码从未执行过。

如果您查看作为开发人员应该查看的*页面源代码*，您将看到您的整个脚本。

无论如何，这个问题与mysqli无关。

# hadoop - Sqoop 将零小数导入为 0E-22

> ID：15246713
> 
> 赞同：0
> 
> 时间：2013-03-06T11:55:59.737
> 
> 标签：hadoop, hive, sqoop

当我从我的 MSSQL 数据库中使用 hadoop 和 sqoop 导入一个表并且该表具有十进制列时，任何为零的列（例如 0.000000000000..）都保存为“0E-22”。

这非常痛苦，因为在我的 Map 或 Reduce 中将值转换为小数时会引发异常。因此，我要么必须将列导出为 varchar，要么在尝试强制转换之前进行检查。两者都不理想。

有没有人遇到过这种情况并得到解决？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T03:04:27.607

我建议尽快发布 Sqoop [1.4.3](http://www.apache.org/dist/sqoop/1.4.3/)，我们在其中修复[了 SQOOP-830](https://issues.apache.org/jira/browse/SQOOP-830) ，它也可能对您有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T14:21:21.763

这是一个奇怪的案例，有一些解决方法。你可以重写your_table，即

```
INSERT OVERWRITE TABLE your_table
SELECT columns_no_need_for_change , CASE WHEN possible_bad_column = '0E-22' THEN '0' ELSE possible_bad_column END FROM your_table 
```

让我们知道您是否成功。GL！

# javascript - 在 javascript 中实现表单的最佳实践

> ID：15246714
> 
> 赞同：2
> 
> 时间：2013-03-06T11:56:01.103
> 
> 标签：javascript, forms

我想知道用 javascript 编写复杂表单的最有效、安全和智能的方法。

通常一个用户表单可能非常复杂，有很多不同的状态、复杂的检查等等，要做好工作，一个好的概念是绝对必要的。

我真的相信最好的解决方案是状态机。

以下代码是我为使用 RFID 标签密钥进行用户注册所做的表单核心逻辑，其中用户可以使用不同的凭据（例如电话、密钥 RFID 标签、邮件）注册自己，并在稍后阶段在同一个论坛完成注册。只考虑它背后的高层次逻辑。

迭代可能的转换的主循环（按优先级顺序）：

```
/* Evaluate the actual form state (status) and check if it's possible to change
 * to another status with a greater priority.
 * If the state transition conditions are verified the transition callback is executed
 * which, in case the state doesn't, is an empty function.
 */
setNextFormStatus: function(field) {

    var sts,
    that =  this;

    function conditionsAreValid(sts) {
        var context = that.statusToConditionsMap[sts];

        return ( sts == 'new_account' || that[context.field].state == context.state );
    }

    for (sts in this.statusToConditionsMap[this.status.actual].changes) {
        var transition = this.statusToConditionsMap[this.status.actual].changes[sts];

        if (transition && conditionsAreValid(sts)) {
            if (sts != this.status.actual) {
                this.status.previous = this.status.actual;
                this.status.actual = sts;
                this._resetForm(); // simple reset function
                transition.apply(this);
            }
            break;
        }
    }
} 
```

当状态按优先级顺序列出时，所有状态、它们的转换条件和它们的转换回调都在字典中定义：

```
/* 
 * This is the dictionary which defines form status states machine
 * 
 * For each status are defined the following attributes:
 *     · state & field: define the condition to enter this status. The field must have that state (i.e. field.state == state)
 *     · changes (optional): the list of possible next status from this one, ordered by priority. Each status has an handle to call
 */
this.statusToConditionsMap = {
    'registered_key':{
        state: 'registered',
        field: 'key'
    },
    'processed_key_with_username':{
        state: 'unlinked',
        field: 'key',
        changes: {
            'processed_key_with_username': function() {}, // empty cause callback is unnecessary 
            'new_account': this._checkNotEmptyFields
        }
    },
    'phone_already_present_confirmed':{
        state: 'already_present_confirmed',
        field: 'phone',
        changes: {
            'phone_already_present_confirmed': function() {},
            'phone_already_present_unconfirmed': this.phone_already_present_unconf_data_filler,
            'new_account': this._checkNotEmptyFields
        }
    },
    'phone_already_present_unconfirmed':{
        state: 'already_present_unconfirmed',
        field: 'phone',
        changes: {
            'phone_already_present_confirmed': this.phone_already_present_data_filler,
            'phone_already_present_unconfirmed': function() {},
            'new_account': this._checkNotEmptyFields
        }
    },
    'email_already_present':{
        state: 'email_already_present',
        field: 'email',
        changes: {
            'phone_already_present_confirmed': this.phone_already_present_data_filler,
            'phone_already_present_unconfirmed': this.phone_already_present_unconf_data_filler,
            'email_already_present': function() {},
            'new_account': this._checkNotEmptyFields
        }
    },
    'new_account':{
        state:'',
        field: '',
        changes: {
            'registered_key': this.registered_key_data_filler,
            'processed_key_with_username': this.processed_desikey_data_filler,
            'phone_already_present_confirmed': this.phone_already_present_data_filler,
            'phone_already_present_unconfirmed': this.phone_already_present_unconf_data_filler,
            'email_already_present': function() {this.showMailCheckbox(); this.runCheck('phone');},
            'new_account': function() {}
        }
    }
} 
```

哪个是实现复杂表单的最佳实践？

任何其他解决方案或方法将不胜感激。

# android - 自动适应带有网格图像的列

> ID：15246715
> 
> 赞同：1
> 
> 时间：2013-03-06T11:56:02.593
> 
> 标签：android, android-gridlayout

请帮我。我有2个问题。

1.我需要按照下面的图像创建一个gid。现在我可以使用 GridLayout 来构建它。但是使用 GridLayout 我无法为列设置自动调整。

2.我不能在java代码中设置layout_rowSpan & layout_columnSpan。我试过这段代码，但它不起作用

```
convertView.setLayoutParams(new GridLayout.LayoutParams(
                    GridLayout.spec(4), GridLayout.spec(2))); 
```

![网格 图片](../Images/f72e4eb7806c3fe031d816cf28f22870.png)

# python - 重写 manage.py runserver 的规则，例如 .htaccess for apache

> ID：15246717
> 
> 赞同：0
> 
> 时间：2013-03-06T11:56:06.830
> 
> 标签：python, django, apache, nginx

使用 .htacess，我们可以像这样重定向请求：

```
RewriteRule \.(?:txt)$  handle_txt.php 
```

它将所有请求从 .txt 重定向到以所需方式发送输出的 handle_txt.php。

我想让这适用于 django 应用程序，我该怎么做？

我的意思是说，例如，当我开发应用程序时（使用 manage.py runserver），我应该在哪里编写 rewriterule ？

如果我使用 apache 作为服务器，我可以使用 .htaccess。
如果我使用 nginx，我可以使用 nginx confs 进行重定向。（对吗？）开发版本（manage.py runserver）呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:49:13.923

您可以为此使用 django URL 调度程序。它更像是“django 方式”，它可以在生产服务器和开发服务器上正常工作。请参阅[文档](https://docs.djangoproject.com/en/1.5/topics/http/urls/)。同样在生产服务器上，您需要禁用与正则表达式匹配的静态文件的处理。

# php - Symfony 2 Doctrine 内存使用情况

> ID：15246718
> 
> 赞同：3
> 
> 时间：2013-03-06T11:56:11.587
> 
> 标签：php, memory, symfony, doctrine

我正在使用实体存储库创建查询，它似乎有内存泄漏。

在我的实体存储库类中：

```
echo 'mem 1 : ' . (memory_get_usage()/1024/1024) . "<br />\n";
$query = $this->createQueryBuilder('a')->select('a','b','c','...');
echo 'mem 2 : ' . (memory_get_usage()/1024/1024) . "<br />\n";
$r = $query->getQuery()->getResult();
echo 'mem 3 : ' . (memory_get_usage()/1024/1024) . "<br />\n";
$this->clear(true);
$query->getQuery()->free(true);
unset($r);
echo 'mem 4 : ' . (memory_get_usage()/1024/1024) . "<br />\n"; 
```

输出：

> 内存 1：5.0805282592773
> 内存 2：5.0998611450195
> 内存 3：91.49528503418
> 内存 4：77.939567565918

为什么释放内存后内存没有恢复到初始大小（5 MB）？

并且只从 91 传到 77。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T16:25:48.830

Doctrine 缓存它已加载的实体的某些方面。利用

```
$em->clear(); 
```

从当前实体管理器中分离所有对象。

# qt - 切换到另一个编译器后出现 QT3 链接器错误

> ID：15246720
> 
> 赞同：2
> 
> 时间：2013-03-06T11:56:17.500
> 
> 标签：qt, gcc, linker, qt3

我创建了使用 QT3 gui 的简单测试项目。主要功能如下：

```
int main(int argc, char** argv)
{
    QApplication a(atgc, argv);
    MainWindow *w = new MainWindow;
    w->show();
    a.setMainWidget(w);
    a.exec();
    if(w) delete w;
    return 0;
} 
```

当我像这样编译它时：

```
qmake
make 
```

没关系（使用的编译器是g++-2.95.4）。但是当我这样做时：

```
qmake
make CXX=g++-3.3.6 LINK=g++-3.3.6 
```

我收到大量这样的链接错误：

```
.obj/main.o(.text+0x27): In function `main':
: undefined reference to `QApplication::QApplication[in-charge](int&, char**)'
.obj/main.o(.text+0x66): In function `main':
: undefined reference to `QApplication::setMainWidget(QWidget*)'
.obj/main.o(.text+0x6e): In function `main':
: undefined reference to `QApplication::exec()' 
```

似乎它没有正确链接 qt 库。是否知道如何使用任何其他编译器构建项目？我正在使用 linux RedHat。

# shell - 由于语法错误，grant 命令在 shell 脚本中不起作用

> ID：15246728
> 
> 赞同：0
> 
> 时间：2013-03-06T11:56:34.410
> 
> 标签：shell

我遇到了 shell 脚本的问题。

由于某种原因，我已经`\`在双引号之前使用了字符`(")`，如我的 shell 脚本的以下行。

> sql2=\"将 \${db_name}.* 上的所有权限授予 \${db_user}@\${host}，由 \${dbpass} 标识；\";

但是在MySQL的“grant”命令语法中，我需要在前面和后面加上双引号`\${dbpass}`，这是我上面给出的shell脚本行的一部分。当我这样输入时`\"\${dbpass}\"`，它在执行过程中会抛出语法错误。什么我是否需要解决这个问题。

这是一个更新。
这是我要运行的 shell 脚本。

> ssh -t qbadmin@10.3.2.0 '
> su root -c "
> echo \"Give db name :\";
> read db_name;
> echo \"Give password :\";
> read db_pass;
> host=localhost;
> sql1=\"create database \ $db_name;\";
> sql2=\"将 \${db_name}.* 上的所有内容授予 \${db_name}@\${host}，由 \"\${db_pass}\";\";
> sql3=\ "\${sql1}\${sql2}\";
> echo \"===============\";
> mysql -u root -p -e \"\${sql3}\ ";
> ";
> '

请参考此脚本，并请让我知道我需要对此进行的必要更改。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T13:43:39.840

尝试这个

```
db_name="yourdbname"
db_user="yourdbuser"
host="yourhost"
dbpass="yourdbpass"

sql2="grant all on ${db_name}.* to ${db_user}@${host} identified by ${dbpass};"

echo $sql2 | mysql -u yourusername -pmysql 
```

# jqplot - jqplot中的条形宽度太大

> ID：15246732
> 
> 赞同：5
> 
> 时间：2013-03-06T11:56:53.023
> 
> 标签：jqplot

我是 jqplot 的新手，当我想绘制条形图时，x 轴是日期，间隔是 1 天。这是我的代码的一部分：

```
 axesDefaults:{                                                                  
          tickRenderer: $.jqplot.CanvasAxisTickRenderer,                              
         tickOptions:{
            fontSize:'10pt',
         },                                                                          
    },                                                                              
     axes:{                                                                          
         xaxis:{
            renderer:$x_renderer,                                                   
             tickOptions:{
               formatString:'%Y-%#m-%#d',                                          
            },
            rendererOptions:{                                                       
                 tickOptions:{
                     angle:-90,                                                      
                 }                                                                   
              },                                                                      
             label:'$label',
             tickInterval:'86400000',
         },
         yaxis:{                                                                     
            tickOptions:{
               formatString:'%.2f',                                                
             },                                                                      
           autoscale:true                                                          
         }, 
    },                                                                              
     highlighter:{ 
         show:true,                                                                  
    }, 
```

但我发现每个条的宽度太大而无法相互覆盖。如何解决？

谢谢！

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-06T12:01:26.510

您可以在您的系列选项中指定它：

```
seriesDefault:{
   renderer: $.jqplot.BarRenderer,
   rendererOptions: {
      barWidth: 5
   }
} 
```

不要忘记包含 barRenderer 插件。有关 jqplot 条形图的更多文档，请查看：[Jqplot 文档](http://www.jqplot.com/docs/files/plugins/jqplot-barRenderer-js.html)

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-11-06T15:13:48.563

[AnthonyLeGovic](https://stackoverflow.com/a/15246840/499359)的答案确实是正确的，但是如果您需要根据数据点的数量更改列宽，您可以执行以下操作：

```
// Get the size of the container of the plot
var width = jQuery(containerName).width();

// Divide by the number of data points.
width = width / number_of_data_points;

// Reduce the width to a % of the total for each data point.
width = (width * 20) / 100;

// Set the value
$.jqplot(containerName, [data],
{
    // whatever
    // ...

    seriesDefault:
    {
        renderer: $.jqplot.BarRenderer,
        rendererOptions: { barWidth: width }
    }

    // whatever
    // ...
} 
```

请注意，我没有考虑图例的宽度。图例宽度只能在绘图后获得，因此如果您想减小列宽，甚至考虑到图例的宽度，您必须在绘图后进行，然后重新绘制。

我准备了一个 显示示例的[小提琴。](http://jsfiddle.net/nDcPB/84/)

希望能帮助到你。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-01-14T12:35:30.137

我添加了下面的代码，我得到了结果。我的宽度背后的原因是太大了，因为 bar-width 没有在系列默认块中设置。

```
 seriesDefault:{
   renderer: $.jqplot.BarRenderer,   
   rendererOptions: {
          barWidth: 5   
  }
} 
```

感谢：AnthonyLeGovic

# asp.net - 如何检查表上是否已经存在数据？

> ID：15246734
> 
> 赞同：1
> 
> 时间：2013-03-06T11:56:57.910
> 
> 标签：asp.net, mysql

我有一个名为的表`users`，其中两个字段是`login`和`name`。
这些字段`can not`是重复的。
当用户要创建一个新的注册时，我已经做了一个方法来检查它是否`name/login`已经存在。
但用户也可以编辑他的`login/name`.
当用户进入页面编辑他的注册数据时，它已经用当前数据填充了这些字段。
我有 3 个字段`[NAME] [EMAIL] [LOGIN]`。
用户一次只能编辑其中一个或全部... 当他尝试编辑它时
，我如何创建一个方法来检查它是否已经存在？也许是一个查询？A就那么上场？ `name/login`

`select count``login``name`

--更新--
这是我的[解决方案](https://stackoverflow.com/q/14640696/2054434)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:00:46.610

你应该把它留给你正在使用的数据库系统，并处理它可能抛出的任何错误。所有数据库系统（Access、Oracle、MS SQL 等）都允许您将表字段标记为唯一。这意味着该表只能保存一个具有该值的字段的记录。如果您尝试添加多个具有相同字段的记录，则会引发错误。您的应用程序应该捕获该错误并提醒用户。如果您发布您使用的数据库系统类型，我可以向您展示如何执行此操作。

编辑：

这是一个例子。这使用了 SqlClient.SqlException 异常类。我不确定唯一约束的错误代码是什么，但我在 catch 中添加了一个变量，您可以在该变量上放置一个断点来获取。只需更改 if 语句以匹配该错误代码：

```
 Try
        'your database insert attempt here
    Catch ex As SqlClient.SqlException
        Dim sqlErrorNumber = ex.ErrorCode
        If (sqlErrorNumber = 1) Then
            Me.lblWarning.Text = "Please select a unique ID"
            Me.lblWarning.Visible = True
            Me.lblWarning.ForeColor = Drawing.Color.Red
            Me.lblWarning.Font.Bold = True
        End If

    End Try 
```

在 aspx 页面中：

```
<asp:Label ID="lblWarning" runat="server" Visible="false"></asp:Label> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:20:54.847

如果您没有列 ID，或者如果用户名列未设置为 UNIQUE，则可以使用此函数：

功能 user_exists($username){
$username = sanitize($username); //[清理](http://php.net/manual/en/filter.filters.sanitize.php)
return(mysql_result(mysql_query("SELECT COUNT(user_name) FROM user_table WHERE username = '$username'"), 0) == 1) ? 真假;
}

对于新成员/或者如果当前用户想要编辑他的用户名，如果用户名未注册，则此函数返回 false，如果已注册，则返回 true

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T12:22:26.247

您应该在数据库中使用唯一字段，尝试使用 php 或 asp 和 ajax 技术进行捕获，以确保字段是否已填充您现在输入的信息。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T12:05:17.557

你这里的主键是什么？

我建议，向您的表中添加新的标识列将解决该问题。

您可以根据标识列编辑行。

例如：添加 [UserID] 字段并使其成为唯一的标识列。然后根据 where 子句中的 userid 执行更新操作。

# java - 如何使用插件在eclipse中获取项目文件的绝对路径

> ID：15246736
> 
> 赞同：6
> 
> 时间：2013-03-06T11:57:01.390
> 
> 标签：java, eclipse-plugin, eclipse-api

我正在尝试创建一个插件，它会给我一个在 Eclipse 中打开的项目中所有文件的绝对路径列表。

我试过了，但我只能获得活动窗口的路径..

我的操作代码是：

```
 IWorkbenchPart workbenchPart = PlatformUI.getWorkbench().getActiveWorkbenchWindow().getActivePage().getActivePart(); 
    IFile file = (IFile) workbenchPart.getSite().getPage().getActiveEditor().getEditorInput().getAdapter(IFile.class);
    if (file == null)
        try {
            throw new FileNotFoundException();
        } catch (FileNotFoundException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    String path = file.getRawLocation().toOSString();
    System.out.println("path: " + path); 
```

在这里，我只获取活动窗口的路径..但​​我想要项目中所有文件的绝对路径列表..主要是 src 文件夹下的文件...

请指导我是否可以以相同的方式进行操作，或者我是否需要为此使用一些不同的 API。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-06T12:01:46.240

经过研究，我发现下面的代码将获取 Eclipse 当前工作区项目目录的路径：

```
//get object which represents the workspace  
IWorkspace workspace = ResourcesPlugin.getWorkspace();  

//get location of workspace (java.io.File)  
File workspaceDirectory = workspace.getRoot().getLocation().toFile() 
```

**注意：**您需要导入`org.eclipse.core.resources`和`org.eclipse.core.runtime`使用这些 API

[来源](http://www.coderanch.com/t/453807/vc/find-Workspace-Java-code-Eclipse)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-07-13T14:47:53.190

给定 an `IResource`，您可以使用`org.eclipse.core.resources.IResource.getLocation()`返回 an 的方法，`IPath`其中“本地文件系统中此资源的绝对路径，如果无法确定路径，则返回 null”。然后您可以使用`org.eclipse.core.runtime.IPath.toOSString()`返回字符串表示的方法。

# jquery - 选择具有特定类的第一个元素？

> ID：15246737
> 
> 赞同：0
> 
> 时间：2013-03-06T11:57:02.413
> 
> 标签：jquery

我的页面上有许多 div，都带有班级答案。

使用 jquery 如何仅选择具有类答案的第一个元素？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:57:46.953

使用[`:first`](http://api.jquery.com/first-selector/)选择器：

> 选择第一个匹配的元素。
> 
> :first 伪类等价于 :eq(0)。它也可以写成:lt(1)。虽然这仅匹配一个元素，但 :first-child 可以匹配多个：每个父元素一个。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:58:16.407

尝试这个 ：

`$(".answer:first")`

参考：[http ://api.jquery.com/first-selector/](http://api.jquery.com/first-selector/)

或者

`$(".answer").first()`

这将为您提供一流的答案

参考：[http ://api.jquery.com/first/](http://api.jquery.com/first/)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-06T11:57:57.970

使用 Jquery [first()](http://api.jquery.com/first/)，例如：

```
$('li').first().css('background-color', 'red'); 
```

或：首先`$("li:first")`

# ios - 在编辑模式下更改 UITableView 中减号的位置

> ID：15246738
> 
> 赞同：0
> 
> 时间：2013-03-06T11:57:03.957
> 
> 标签：ios, objective-c, cocoa-touch

我想将减号图像的位置从单元格的左侧更改为中间。在这里尝试阅读：http: [//developer.apple.com/library/ios/#documentation/userexperience/conceptual/tableview_iphone/ManageInsertDeleteRow/ManageInsertDeleteRow.html](http://developer.apple.com/library/ios/#documentation/userexperience/conceptual/tableview_iphone/ManageInsertDeleteRow/ManageInsertDeleteRow.html)但找不到简单的方法来做到这一点。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T19:30:03.203

在您的自定义单元格 layoutSubviews 方法中使用：

```
if ([NSStringFromClass([subview class]) isEqualToString:@"UITableViewCellEditControl"]) {
        CGRect newFrame = subview.frame;
        //Use your desired x value
        newFrame.origin.x = 280;
        subview.frame = newFrame;    
} 
```

如此处所示[https://stackoverflow.com/a/8512461/1747635](https://stackoverflow.com/a/8512461/1747635)。

# glassfish - 从 glassfish 迁移到 tomee+

> ID：15246739
> 
> 赞同：1
> 
> 时间：2013-03-06T11:57:07.520
> 
> 标签：glassfish, apache-tomee

我有一个在 Glassfish 3.1.2 上运行的应用程序，但现在我想迁移到 Tomee+。我在 Glassfish 中创建了连接池，并使用 JNDI 配置了该池，并在 persistence.xml 中使用了该 JNDI 名称。现在，在迁移时**，我应该如何在 tomee+ 中创建连接池和 JNDI（以及位置）**，以便我可以在我的 persistence.xml 中使用 JNDI 名称。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-01T13:13:35.953

也许[http://tomee.apache.org/configuring-datasources.html](http://tomee.apache.org/configuring-datasources.html)是看的地方。基本上只需在 tomee.xml 中声明数据源。

旁注：WEB-INF/resources.xml 具有相同的语法，并允许在无法配置容器（云）时将数据源嵌入战争中

# ember-data - 回调事务或 commit()

> ID：15246742
> 
> 赞同：3
> 
> 时间：2013-03-06T11:57:18.090
> 
> 标签：ember-data

我怎样才能实现类似的东西？

```
App.saveManyDifferentModels()

App.store.commit(function() {
    $("#spinner.gif").hide()
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T17:27:44.387

在那一刻，交易上没有通用的钩子允许这样做。

但是，如果您要保留单个记录，则可以在模型上添加使用`didCreate`或`didUpdate`挂钩。

另一种选择可能是在更改应用程序的状态/路由时处理该问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-27T18:27:40.777

实际上有一种方法可以做到这一点。例如，在您的控制器中，您可以向模型添加一个“didUpdate”方法，如下所示：

```
var post = this.get("model");

post.didUpdate = function() {
    $("#spinner.gif").hide();
};

this.get("store").commit(); 
```

# php - PHP exec() 与 Pygments for PHP

> ID：15246746
> 
> 赞同：0
> 
> 时间：2013-03-06T11:57:24.407
> 
> 标签：php, exec, save, pygments

我目前正在使用位于此处的 Pygments for PHP 插件：http: [//derek.simkowiak.net/pygments-for-php/](http://derek.simkowiak.net/pygments-for-php/)。

从该代码中实际调用 Pygments 的行是传递的 exec() ：

```
pygmentize -f html $extra_opts -l $language $temp_name
```

作为命令。这一切都很好，我得到了输出并由插件格式化。

我希望同时发生的是让 Pygments 创建它的图像，所以我通过 exec() 一个类似的命令：

```
pygmentize -f png $extra_opts -l $language -o $full_image_path/$output_file.png $temp_name
```

这是我遇到问题的地方。该图像永远不会出现在预期的文件夹中。

但是，如果我在它`var_dump()`之前使用那个命令字符串`exec()`并直接从命令行运行它，它就可以正常工作。

我尝试回显 exec('whoami') 告诉我 PHP 用户是 www-data。我已经尝试授予 www-data 权限并将所有权更改为我存储图像的文件夹上的 www-data 。我还尝试将权限更改为 777 只是为了看看会发生什么，答案是什么都没有。

有什么我想念的吗？我已经没有想法可以尝试了。谢谢！

**编辑：**我检查的另一件事是 exec 命令的输出和返回值。它输出一个空数组，并返回 1 作为返回值。

**编辑 2：**在看到该目录应该对 PHP 用户可写/可读后，pygments 是否可能无权将其作为特定用户写入？我不确定这是否有意义，因为当我自己运行它时它工作正常，事实上，当 PHP 使用 HTML 词法分析器运行它时，它能够运行。我在 Python 方面不是很有经验，所以我不知道这是否是一个潜在的问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:08:55.180

我想你不能这样做。

```
$output_file.png 
```

尝试

```
$file = $output_file.".png" 
```

并替换为 exec

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T00:05:05.670

最终成为安装供 www-root 用户使用的字体的问题。显然，默认情况下用于 Pygments 的那个只是为我在使用命令行时运行的用户安装的。

我能够弄清楚这一点的方式是运行 `exec("$command 2>&1", $out, $code);`。

额外的`2>&1`重定向`stderr`到输出让我看到问题。

该`$out`参数显示了 pygments 抛出的 FontNotFound 错误。

我通过命令行更改了 Pygments 使用的字体：`full,style=manni,cssclass=pygmentize_kbOKBd,font_name='DejaVu Sans Mono' -l php -o /srv/www/path/to/images/uploads/2513732976ad4b7.02729290.png /tmp/pygmentize_kbOKBd`在找到我可以使用的字体之后。

为了查看作为运行脚本的用户我可以使用哪些字体，我只是在 Ubuntu 中运行`fc-list`了一个`exec()`命令，并检查了该命令的输出以获取可用字体列表。

# java - 从 LDAP (Java) 检索信息

> ID：15246750
> 
> 赞同：3
> 
> 时间：2013-03-06T11:57:41.947
> 
> 标签：java, ldap

我正在尝试从 LDAP 服务器检索数据，但它失败了。（连接工程）。我很难理解最后一行的 search() 方法中需要哪些参数......“邮件”是我想要获取的信息，userName 是经过身份验证的用户。

```
 DirContext authContext = new InitialDirContext(authEnv);
 SearchControls constraints = new SearchControls();
 constraints.setSearchScope(SearchControls.SUBTREE_SCOPE);
 NamingEnumeration results = authContext.search("mail", userName, constraints); 
```

这是我的错误信息（出现在最后一行）：

```
 javax.naming.directory.InvalidSearchFilterException: Missing 'equals'; remaining name 'mail'
at com.sun.jndi.ldap.Filter.encodeSimpleFilter(Unknown Source)
at com.sun.jndi.ldap.Filter.encodeFilter(Unknown Source)
at com.sun.jndi.ldap.Filter.encodeFilterString(Unknown Source)
at com.sun.jndi.ldap.LdapClient.search(Unknown Source)
at com.sun.jndi.ldap.LdapCtx.doSearch(Unknown Source)
at com.sun.jndi.ldap.LdapCtx.searchAux(Unknown Source)
at com.sun.jndi.ldap.LdapCtx.c_search(Unknown Source)
at com.sun.jndi.toolkit.ctx.ComponentDirContext.p_search(Unknown Source)
at com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.search(Unknown Source)
at com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.search(Unknown Source)
at javax.naming.directory.InitialDirContext.search(Unknown Source)
at Client.connect(Client.java:48)
at Client.main(Client.java:23) 
```

* * *

感谢所有答案，如果我按要求更改我的代码，我会收到以下错误：

```
 javax.naming.NamingException: [LDAP: error code 1 - 000004DC: LdapErr: DSID-0C0906E9, 
  comment: In order to perform this operation a successful bind must be completed on the 
  connection., data 0, v1db1 
```

我的连接代码是这个：

```
 Properties authEnv = new Properties();
    String userName = "XXX";
    String passWord = "XXX";
    String base = "XXX";
    String dn = "uid=" + userName + "," + base;
    String ldapURL = "XXX";

    authEnv.put(Context.INITIAL_CONTEXT_FACTORY,
            "com.sun.jndi.ldap.LdapCtxFactory");
    authEnv.put(Context.PROVIDER_URL, ldapURL);
    authEnv.put(Context.SECURITY_AUTHENTICATION, "none");
    authEnv.put(Context.SECURITY_PRINCIPAL, dn);
    authEnv.put(Context.SECURITY_CREDENTIALS, passWord); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T12:15:37.050

如果不知道您的架构，就不可能给您准确的答案。

```
 LdapContext authContext = new InitialLdapContext(authEnv, null);
 SearchControls constraints = new SearchControls();
 String []returnedAttributes = {"mail"};
 String filter = "(userName={0})"; // You might want to limit search to user objects only based on objectClass
 String []filterAttributes = {userName};
 String baseDN = "CN=user,DC=company,DC=org"; // Replace this with the real baseDN
 constraints.setReturningAttributes(returnedAttributes)
 constraints.setSearchScope(SearchControls.SUBTREE_SCOPE);
 NamingEnumeration<SearchResult> results = authContext.search(baseDN, filter, filterAttributes, constraints); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-07T11:53:22.863

您的代码中有几个问题。您正在使用 Active Directory，因此无法使用 uid。您将需要使用 CN。

你没有显示你的 baseDN，但你确定你知道它是什么吗？检查“[困难的部分](http://ldapwiki.willeke.com/wiki/LDAP%20and%20Active%20Directory#section-LDAP+and+Active+Directory-TheHardParts)”

同样，ldapURL。按照建议进行操作，获取已知的 LDAP 浏览器并建立连接。使用 Microsoft LIB（或 VB）将无法正确显示 LDAP 通信，因为 MS 为您做了很多工作。我[目前的最爱](http://directory.apache.org/studio/)。

尝试[其他人的](http://ldapwiki.willeke.com/wiki/BasicJNDISearch)已知可以对抗 AD 的代码。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T12:05:54.153

搜索请求至少包括：

*   基础对象，其下方的条目是搜索结果中返回的候选对象
*   搜索范围（`base`、`one`或`sub`）
*   用于确定在搜索结果中返回哪些候选者的过滤器，例如，`mail=*`(present)、`cn=Stack Overflow`(equality)、`cn=Stack*`(substring)
*   要返回的属性列表

参赛作品是被退回的候选人：

*   如果它们位于或低于搜索基础（搜索范围除外，`one`在该范围内仅返回直接从属于基础对象的条目，而不是基础对象本身）
*   过滤器中的断言匹配条目中的属性值，例如，`present`过滤器`mail=*`将匹配位于或低于基础对象的所有条目，这些条目具有除上述`mail`搜索范围之外的属性`one`

### 也可以看看

*   [LDAP：搜索实践](http://www.ldapguru.info/ldap/ldap-search-best-practices.html)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-06T12:06:18.837

检查有关此的 Oracles 教程：http: [//docs.oracle.com/javase/tutorial/jndi/ldap/jndi.html](http://docs.oracle.com/javase/tutorial/jndi/ldap/jndi.html)

在您的示例中，第一个参数应该是**搜索库**，表示您的用户在目录中的位置，即“ou=people”。第二个是**搜索过滤器**，在您的示例中，可能是您可以匹配用户的某些属性。即 "sn="+userName (<- 应该被编码)。

“mail”的值应该在结果中，因为这是您想要获取的信息。

另请参阅[http://docs.oracle.com/javase/1.6/docs/api/javax/naming/directory/DirContext.html](http://docs.oracle.com/javase/1.6/docs/api/javax/naming/directory/DirContext.html)

LDAP 并不容易，试着找一些好的教程开始。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-06T12:04:22.317

你在这一行做错了：

```
NamingEnumeration results = authContext.search("mail", userName, constraints); 
```

authContext.search 的第一个参数是基础，它应该是您服务器的域

前任：

```
ou=People,dc=google,dc=com 
```

注意：使用一些图形化的 LDAP 浏览器来找出域

# java - 执行外部jar时如何显示控制台窗口？

> ID：15246756
> 
> 赞同：1
> 
> 时间：2013-03-06T11:57:53.867
> 
> 标签：java, cmd

启动外部 Java 应用程序时，我还希望看到控制台窗口。从我读过的内容来看，这在执行时应该是可能的`cmd /c start xyz`。但是，通过使用以下代码，我收到错误消息“Windows 找不到 '-jar'”。

```
String s = "cmd /c start \"C:/Program Files (x86)/Java/jre6/bin/java.exe\" -jar myjar.jar param1=x param2=y";
Process proc = Runtime.getRuntime().exec(s); 
```

如果`start`未包含，则执行应用程序，但不显示窗口。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:01:33.733

以下应该正确运行

```
String s = "cmd /c start \"C:/Program Files (x86)/Java/jre6/bin/java.exe\" java -jar myjar.jar param1=x param2=y"; 
```

# magento - Magento 唯一的父类别 ID

> ID：15246757
> 
> 赞同：0
> 
> 时间：2013-03-06T11:57:54.303
> 
> 标签：magento, categories

您好，我只需要顶级类别 id，即我只需要父类别 id 而不是子类别。如 ：

根类别（不需要其 ID）

1.  家具（仅此 ID）客厅（不是这个子类别） b. 卧室（不是这个）

我只需要顶级类别而不是孩子请帮我这样做谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:19:05.230

如果没有错，您只在寻找 LEVEL 2 类别 ID。如果是这样，下面的代码可以帮助你

```
 $categoryCollection = Mage::getResourceModel('catalog/category_collection')
                 ->addAttributeToSelect('*')
                 ->addAttributeToFilter('level','2')
                 ->addAttributeToSort('name', 'ASC')
                 ->addIsActiveFilter();
        foreach($categoryCollection as $cat){
            echo '<br/>'.$cat->getId().' | '.$cat->getName();
        } 
```

要同时获得 2 级和 4 级类别，只需使用“in”运算符来归档您的收藏，如下所示：

```
 $categoryCollection = Mage::getResourceModel('catalog/category_collection')
                 ->addAttributeToSelect('*')
                 ->addAttributeToFilter('level',array('in'=>('2','4')))
                 ->addAttributeToSort('name', 'ASC')
                 ->addIsActiveFilter();
        foreach($categoryCollection as $cat){
            echo '<br/>'.$cat->getId().' | '.$cat->getName();
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:11:43.940

使用下面的代码

```
$children = Mage::getModel('catalog/category')->getCategories(Mage::app()->getStore()->getRootCategoryId());
foreach ($children as $category) {
    echo $category->getId();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T12:17:12.183

使用下面的代码

```
$_categories=Mage::getModel('catalog/category')
                ->getCollection()
                ->addAttributeToSelect('*')
                ->addAttributeToFilter('level',2)
                ->addIsActiveFilter(); 
```

# css - Jquery Mobile & Jquery UI CSS 问题

> ID：15246760
> 
> 赞同：1
> 
> 时间：2013-03-06T11:57:59.460
> 
> 标签：css, jquery-ui, jquery-mobile

好的，我不是设计师，我的 CSS 技能很烂。所以我有按钮\提交的样式问题

在我的大部分页面上，我都使用 jquery mobile 和 jquery UI。问题是我想将 jquery 移动样式应用于特定的按钮\提交而不是 jquery UI。

因此，默认情况下 jquery UI 将其样式应用于按钮，但我想使用 jquery mobile。

```
<input type="submit" value="Save"> 
```

![在此处输入图像描述](../Images/ae6d57e78790dbfbd440654e60f98a75.png)

如何告诉提交使用jquery mobile css？（我还是需要在页面上同时使用这两种样式，只是想告诉按钮使用移动样式）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:03:56.490

您必须阅读[有关按钮的文档](http://view.jquerymobile.com/1.3.0/docs/widgets/buttons/)。

根据文档，以下所有代码都将生成 jQuery 移动样式按钮

```
<a href="#" data-role="button">Anchor</a>
<form>
    <button>Button</button>
    <input type="button" value="Input">
    <input type="submit" value="Submit">
    <input type="reset" value="Reset">
</form> 
```

如果它不起作用，则对 的引用`jquery-UI`将是罪魁祸首。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:03:15.560

你试过：

```
<input type="button" value="Input"> 
```

如果它不起作用，您可能在页面的其他地方遇到问题。

# c++ - 为什么在 IDE 中出现错误“未定义对 `_imp__pthread_create 的引用”？

> ID：15246767
> 
> 赞同：-1
> 
> 时间：2013-03-06T11:58:18.767
> 
> 标签：c++

我有两个错误 `undefined reference to _imp__pthread_create`，`undefined reference to _imp__pthread_join`在 Windows IDE 的 Dev C++ 中，我使用的是 dev c++ 5.4.1。为什么会出现这个错误？我该如何解决这个问题？有人可以解释一下吗？非常感谢您的宝贵时间！！

```
 #include<iostream>
    #include<pthread.h>
    using namespace std;

    void *uss_thread(void*){

        cout<<"hello";
    }

    main()
    {
         pthread_t tid1;    
         pthread_create(&tid1, NULL, &uss_thread, NULL);
         pthread_join(tid1,NULL);
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:30:36.583

因为您没有与 lib 链接`pthread`。

下载[开发包](http://oopthread.googlecode.com/files/pthreads_w32-2.8.0-1aj.DevPak)

*   在 Dev C++ 中安装它
*   在 Dev C++ 中创建新项目
*   之后转到项目菜单->项目选项->在其中选择“参数选项卡”
*   选择“添加库或对象”选项
*   从 Dev c++ 的安装目录中选择“libpthreadGC2.a”文件：它将在 LIB 目录中。
*   按确定

祝你好运！

# regex - 是否可以让正则表达式替换非贪婪？

> ID：15246768
> 
> 赞同：15
> 
> 时间：2013-03-06T11:58:19.823
> 
> 标签：regex, powershell

```
"-dhello;-egoodbye;-lcul8r" -replace "-d.*;","-dbonjour;" 
```

给出：

```
-dbonjour;-lcul8r 
```

有可能不让它摆脱`goodbye`吗？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-03-06T12:00:13.427

您应该使用`?`.

采用：

```
"-dhello;-egoodbye;-lcul8r" -replace "-d.*?;","-dbonjour;" 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-03-06T12:02:53.090

始终明确。`.*`匹配它可以匹配的所有内容（包括分号和后面的所有内容），但您只想匹配到*下一个*分号，所以只需告诉正则表达式引擎：

```
"-dhello;-egoodbye;-lcul8r" -replace "-d[^;]*;","-dbonjour;" 
```

`[^;]`匹配*除* 分号以外的任何字符。

# pdf - 强制浏览器下载文件而不是查看它

> ID：15246774
> 
> 赞同：2
> 
> 时间：2013-03-06T11:58:39.510
> 
> 标签：pdf, browser

在我的网络上，我想要两个按钮 - 首先`Download`应该将 pdf 下载到用户的计算机，另一个`View`在新选项卡中打开 pdf。问题是，我不知道如何制作`Download`按钮。您可能会说它没用，因为您可以在“查看”后保存 pdf，但我已经制作了这样的图形并且不想更改它。是否可以阻止浏览器打开pdf文件并使其下载文件？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T12:02:30.837

您需要在服务器端脚本中强制下载文件：

这是一个 PHP 示例：

```
$file = "path/to/my-file.pdf";

header("Cache-Control: public");
header("Content-Description: File Transfer");
header("Content-Disposition: attachment; filename=$file");
header("Content-Type: application/pdf");
header("Content-Transfer-Encoding: binary"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T09:16:01.360

最后，当我使用 nginx 时，我决定在 http-server 级别解决这个问题：

```
location /media  {
    alias /srv/www/novacek/media/;
}

location /download/media {
    alias /srv/www/novacek/media/;
    add_header Content-Disposition "attachment";
} 
```

# iphone - iPhone支持后台运行应用程序吗？

> ID：15246776
> 
> 赞同：1
> 
> 时间：2013-03-06T11:58:42.770
> 
> 标签：iphone, ios, ipad

我正在 iPhone 中开发一个应用程序，它将在预定的日期和时间向用户发送普通短信。所以我想知道在 iPhone 中是否有可能在时间到来时自动将短信发送到接收者。另外，如果您知道一些建议，请给我更多建议，以便我可以成功运行

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:24:46.097

你可以做一件事。您可以在 .net 或 php 中创建 Web 服务。或者有第三方 api 用于向 way2sms.com 等其他用户发送短信。这些仅适用于 .net 和 php。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:23:42.627

用越狱的手机这是可行的..虽然我不知道细节..

无论如何，使用库存 iPhone 是不可能的

# java - Java 中有没有像 BufferedReader 类中的 readLine 方法的接口？

> ID：15246788
> 
> 赞同：-2
> 
> 时间：2013-03-06T11:59:17.417
> 
> 标签：java, interface

我觉得有点奇怪的是`readLine`，Java API 中有许多方法，通常在流或流读取器类中。

我想使用一种`Reader`也支持逐行输入读取（显然意味着字符读取器）的类型。

我可以将对象指定`BufferedReader`为 one，但我想改用一个接口来概括它并允许其他`readLine`启用的`Reader`实现。

我想它看起来像下面这样：

```
interface LineReader
{
    String readLine();
} 
```

我猜在作为 Oracle Java 7 SDK 的一部分可用的“标准”Java API 中没有这样的东西吗？有点小意外，不是吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:15:02.997

> 我猜在作为 Oracle Java 7 SDK 的一部分可用的“标准”Java API 中没有这样的东西吗？

从来没听说过。您当然可以创建自己的界面：

```
interface LineReader {
    String readLine() throws IOException;
}

class BufferedLineReader extends BufferedReader implements LineReader {
   // ...
}

class SpecialLineReader implements LineReader {
    @Override
    public String readLine() throws IOException {
        // ...
    }
} 
```

并像使用它一样

```
LineReader lr = new BufferedLineReader(new FileReader(...));
lr.readLine();

LineReader lr2 = new SpecialLineReader();
lr2.readLine(); 
```

# php - 执行此脚本文件夹后如何在 google-drive 中创建子文件夹

> ID：15246790
> 
> 赞同：0
> 
> 时间：2013-03-06T11:59:20.540
> 
> 标签：php, google-drive-api

执行此脚本文件夹后如何在 google-drive 中创建子文件夹

```
enter code here
$parentId=$par_idpath;
$file = new Google_DriveFile();
$file->setTitle($dir_name);  
$mimeType= gdrive_files::$mime_types['folder'];
$file->setMimeType($mimeType);
// Set the parent folder.
if ($parentId ) 
{
$parent = new Google_ParentReference();
$parent->setId($parentId);
$file->setParents(array($parent));
}
try {
$createdFile = $service->files->insert($file, array(
  'mimeType' => $mimeType,
));
} catch (Exception $e) {
  $this->err=$e->getMessage(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T16:07:53.773

查看您的代码，您只需确保其中`$parentId`包含您希望包含子文件夹的文件夹的 ID。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T16:51:27.630

正如@Claudio Cherubino 所说，您可以指定父ID。因为您希望您的 subolder 在您的新文件夹中。您可以使用 created 的 id `$createdFile`。

所以我想再次运行你的代码，设置`$parentId = $createdFile->id;`. 会做的伎俩。

# android - 通过 Intent 和 Adapter 将变量传递给另一个类

> ID：15246791
> 
> 赞同：0
> 
> 时间：2013-03-06T11:59:24.740
> 
> 标签：android, android-intent, adapter

我试图将一堆变量传递给另一个活动，但在接收活动中它只能访问第一个元素。

我的 listView1 包含 3 个元素：2 个 TextViews 和 1 个 ImageView...

```
public void onItemClick(AdapterView<?> parent, View view, int position,
                long id) {
            Intent intent = new Intent(parent.getContext(),
                    DisplayListEntry.class);

            intent.putExtra("TOPIC",    listView1.getAdapter().getItem(position).toString());

            startActivityForResult(intent,   0); 
```

接收活动：

```
 Intent intent = getIntent(); 

    String s1 =  intent.getStringExtra("TOPIC"); 
```

我想通过 Intent 访问它们......有人可以这么好心告诉我它是如何完成的吗？：/

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:03:08.930

您可以使用项目的不同键和位置添加任意数量的 PutExtra，并在另一个类中使用键获取它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:03:32.330

首先，您需要在下一个活动中对此进行更正

```
 Bundle b = getIntent().getExtras();
    if( b != null ){
        String s1 =  intent.getStringExtra("TOPIC"); 
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T12:49:13.207

好的，您有三个视图并希望将这些数据用于另一个活动。

第一个问题是您正在 onItemClick 内启动另一个活动，此时，您正在使用项目位置来获取当前值。没关系，但是您只能获得一个特定视图的值，该视图正在被单击。listView1.getAdapter().getItem(position).toString();

如果您真的想传递这三个值，我的建议是：

*   在您的班级上为每个视图创建一个字段

例如：文本视图 t1、t2；图像视图 i1;

并且 onClick 事件您将使用它来放置这样的意图：

```
onItemClick(AdapterView<?> parent, View view, int position, long id) {
        Intent intent = new Intent(parent.getContext(), DisplayListEntry.class);

        intent.putExtra("key1",t1.getText());
        intent.putExtra("key2",t2.getText());
        intent.putExtra("key3",i2.get***());

        startActivityForResult(intent,   0); 
```

在您的另一个活动中，您可以访问这些值：

```
 Intent intent = getIntent(); 
 String s1 =  intent.getStringExtra("key1"); 
 String s2 =  intent.getStringExtra("key2"); 
 ***     =  intent.get****("key3"); 
```

您应该将 *** 更改为要传递的数据类型。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T12:05:25.897

意图意图 = getIntent();

```
String s1 =  intent.getStringExtra("TOPIC"); 
```

在这里你 s1 声明为字符串..

它不会工作，因为有你通过arraylist.....

声明arraylist变量并尝试实现它..

# google-chrome - 无效的清单文件 Chrome 网上应用店（crx 文件无法更新）

> ID：15246795
> 
> 赞同：0
> 
> 时间：2013-03-06T11:59:43.097
> 
> 标签：google-chrome, manifest, chrome-web-store, google-chrome-app

我们最近更新了开发者仪表板中的清单文件，使用完全相同的文件（具有更高的“版本”）。

之后，尝试安装我们的应用程序的用户收到错误“无效的清单文件”。

我们已经通过网络搜索了任何治疗方法，我们已经尝试了所有方法，但没有任何效果。新清单文件，无 zip 压缩，ANSI 编码，上传文件夹的短路径，不同操作系统的不同计算机，清单文件的读写权限。不是那个和一堆随机重新上传。

我们有什么：

1.  我们可以从本地文件夹安装应用程序，所以我们猜测我们有一个有效的清单文件

2.  我们的尝试指出[https://clients2.google.com/service/update2/crx?response=redirect&x=id%3Ddcheokfcfjenankgnpcmcoepfnckjpdo%26uc](https://clients2.google.com/service/update2/crx?response=redirect&x=id%3Ddcheokfcfjenankgnpcmcoepfnckjpdo%26uc)问题旧 crx 文件

3.  这是我们的应用程序 — [https://chrome.google.com/webstore/detail/rotario-free-match3/dcheokfcfjenankgnpcmcoepfnckjpdo](https://chrome.google.com/webstore/detail/rotario-free-match3/dcheokfcfjenankgnpcmcoepfnckjpdo)

清单.json：

```
{
  "manifest_version": 2,
  "name": "Rotario Free Match3",
  "description": "Twist the color figures to match 3 in a row",
  "version": "0.2.1.10",
  "icons": { "16": "16_icon.png", "128": "128_icon.png" },
  "permissions": [ "unlimitedStorage", "notifications" ],
  "app": {
    "urls": [ "http://chrome.rotario.me/" ],
    "launch": { "web_url": "http://chrome.rotario.me/" }
  }
} 
```

有谁知道为什么谷歌服务器超过一天还没有更新 crx 文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T08:29:19.187

昨天我更新了我的扩展后，这个答案对我有用。

[开发者 Chrome 扩展：包无效。详细信息：“无法 uzip 扩展”](https://stackoverflow.com/questions/15259125/developer-chrome-extension-package-is-invalid-details-could-not-uzip-extensi)

一般的想法是，您不能再将扩展打包在 zip 内的文件夹中。manifest.json 文件必须位于 zip 的根目录中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T18:19:34.060

这是我们今天早上修复的错误。尝试重新上传您的项目并重新发布。不要忘记提高版本号。

# javascript - Highcharts 散点图仅与时间

> ID：15246796
> 
> 赞同：0
> 
> 时间：2013-03-06T11:59:44.017
> 
> 标签：javascript, highcharts, scatter-plot

[我正在考虑像这里http://www.highcharts.com/demo/scatter](http://www.highcharts.com/demo/scatter)这样的散点图的最简单方法，它在 xAxis 上只有 24 小时，但每个点/三角形/符号都会说明添加的相应数据小时，但日/年会有所不同。“日期时间”类型的情节不能解决问题。除了“破解”数据并将所有年份、月份和日期更改为同一日期之外，还有其他方法吗？（我仍然需要知道原始日期，因为我想显示点的时间段可能会被某个按钮更改）。

更具体：

假设我想显示类似的内容：jsfiddle.net/Fishman/N6YZX（某段时间白天特定时间血液中的糖水平）-我必须将“数据”日期更改为相同的 yyy- mm-dd 分散显示（用户将能够更改提供数据的时间段）。但正确的数据将是这样的：jsfiddle.net/Fishman/gPpSW/1（查看数据值）。有没有办法将散点图设置为忽略日期并仅考虑时间（小时、分钟、秒）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T14:26:04.547

您可以使用单独的 x 轴绘制它们。（在系列 0 中设置 xAxis: 0，在系列 1 中设置 xAsix:1 等）您可以隐藏额外的轴。有关隐藏额外轴标题的一些信息，请参阅[使用相同的 xAxis 高图显示具有不同开始间隔的两个不同系列。](https://stackoverflow.com/questions/15200270/show-two-different-series-with-different-start-intervals-with-the-same-xaxis-hig)

另一种方法是将 x 值修改为相同的日期。如果您仍想在工具提示中显示日期，您可以在该点添加一个额外的日期字段并使用自定义工具提示来显示它。

```
{x:Date.UTC(2013, 03, 05, 9), y:100, origdate:Date.UTC(2013, 03, 03, 9), 100},
{x:Date.UTC(2013, 03, 05, 9), y:100, origdate:Date.UTC(2013, 03, 04, 9), 100},
{x:Date.UTC(2013, 03, 05, 9), y:100, origdate:Date.UTC(2013, 03, 05, 9), 100}, 
```

# php - PHP(AJAX) 文件上传问题 w/$_FILES

> ID：15246807
> 
> 赞同：1
> 
> 时间：2013-03-06T12:00:14.930
> 
> 标签：php, ajax, configuration, nginx, apache2

再会！
我的 ajax 文件上传算法有问题。它在我的本地服务器（（**Apache2/PHP**）上工作正常，但是当我在远程服务器（**远程服务器：Nginx/PHP-FPM**）中使用它时，它会产生错误
`PHP side can't parse it: "Notice: Undefined index: fileselect ..." (Remote server:Nginx/PHP-FPM).`

在**php/nginx conf**中，文件上传配置变量（如上传文件的最大大小）设置为 5MB。我还授予`chmod -R 775 dir`了对上传文件夹的完全访问权限

请帮忙。

Ps 我认为这是配置，而不是代码，'因为代码在本地服务器上工作

Pss $_FILES - 为空

# c# - 数据库名称和 RIA 服务

> ID：15246811
> 
> 赞同：1
> 
> 时间：2013-03-06T12:00:28.743
> 
> 标签：c#, .net, database, domainservices

是否可以在RIA 服务中获取**数据库名称？**`DomainService`

即我有

```
public partial class MyAppDomainService : LinqToEntitiesDomainService<MyAppEntities> 
```

此行`this.ObjectContext.Connection.Database`没有任何适当的信息。

我怎样才能得到它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T17:46:07.283

Linq to Entities 使用概念模型与实际数据源之间的连接。您正在寻找的是：

```
((System.Data.EntityClient.EntityConnection)this.ObjectContext.Connection).StoreConnection.Database 
```

# php - PHP/GD - 透明背景

> ID：15246813
> 
> 赞同：17
> 
> 时间：2013-03-06T12:00:29.880
> 
> 标签：php, gd, transparency

我想结合 GD 在 PHP 中执行以下操作。不幸的是，ImageMagick 不是一个选项，但这似乎是一个常见的问题，必须*有*一个解决方案，我似乎无法找到它。

我想创建一个具有透明背景的 PNG。然后我想在上面画一个矩形，在上面复制一个图像，然后添加一些文本。一种方法如下：

```
$image = ImageCreateTrueColor (800, 600);
imagecolortransparent ($image, 0); //0 is pure black, the default fill color
imagerectangle (...);
//code to copy an image
imagettftext ($image, ...);
imagepng ($image); 
```

这工作正常，除了复制的图像的一部分可能是黑色的，和/或文本可能是黑色的。然后这也变得透明，这是我**不**想要的。

```
imagefill ($image, 0,0, 0x7FFF0000);
imagetransparent ($image, 0x7FFF0000); 
```

上面的代码是我在网上找到的，用红色填充，然后让红色透明。同样，这会导致图像中的所有红色变得透明。我可以选择一种不太可能出现的颜色，但我不能保证这一点。

有什么我想念的吗？这可以解决吗？感谢您的回复！

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-03-06T12:04:12.623

`imagecolortransparent`如果您要合并图像，可能不是您想要的，因为单色透明度很讨厌。

相反，尝试使用透明填充蒙版，如下所示：

```
<?php
$image = imagecreatetruecolor(100, 100);

// Transparent Background
imagealphablending($image, false);
$transparency = imagecolorallocatealpha($image, 0, 0, 0, 127);
imagefill($image, 0, 0, $transparency);
imagesavealpha($image, true);

// Drawing over
$black = imagecolorallocate($image, 0, 0, 0);
imagefilledrectangle($image, 25, 25, 75, 75, $black);

header('Content-Type: image/png');
imagepng($image); 
```

# c++ - 检索 MS Windows 平台的操作系统名称

> ID：15246817
> 
> 赞同：2
> 
> 时间：2013-03-06T12:00:40.967
> 
> 标签：c++, windows, wmi, wmi-query

我需要获取有关 MS Windows 平台的操作系统名称的信息。我用谷歌搜索了它，发现**GetVersionEx**可以做到。但我只需要操作系统名称，有没有最简单的方法来实现它？不使用**system()**指导我谢谢...

我正在使用**WMI**使用此代码：

```
#define _WIN32_DCOM
#include <iostream>
using namespace std;
#include <comdef.h>
#include <Wbemidl.h>

# pragma comment(lib, "wbemuuid.lib")

int main(int argc, char **argv)
{
    HRESULT hres;

    // Step 1: --------------------------------------------------
    // Initialize COM. ------------------------------------------

    hres =  CoInitializeEx(0, COINIT_MULTITHREADED); 
    if (FAILED(hres))
    {
        cout << "Failed to initialize COM library. Error code = 0x" 
            << hex << hres << endl;
        return 1;                  // Program has failed.
    }

    // Step 2: --------------------------------------------------
    // Set general COM security levels --------------------------
    // Note: If you are using Windows 2000, you need to specify -
    // the default authentication credentials for a user by using
    // a SOLE_AUTHENTICATION_LIST structure in the pAuthList ----
    // parameter of CoInitializeSecurity ------------------------

    hres =  CoInitializeSecurity(
        NULL, 
        -1,                          // COM authentication
        NULL,                        // Authentication services
        NULL,                        // Reserved
        RPC_C_AUTHN_LEVEL_DEFAULT,   // Default authentication 
        RPC_C_IMP_LEVEL_IMPERSONATE, // Default Impersonation  
        NULL,                        // Authentication info
        EOAC_NONE,                   // Additional capabilities 
        NULL                         // Reserved
        );

    if (FAILED(hres))
    {
        cout << "Failed to initialize security. Error code = 0x" 
            << hex << hres << endl;
        CoUninitialize();
        return 1;                    // Program has failed.
    }

    // Step 3: ---------------------------------------------------
    // Obtain the initial locator to WMI -------------------------

    IWbemLocator *pLoc = NULL;

    hres = CoCreateInstance(
        CLSID_WbemLocator,             
        0, 
        CLSCTX_INPROC_SERVER, 
        IID_IWbemLocator, (LPVOID *) &pLoc);

    if (FAILED(hres))
    {
        cout << "Failed to create IWbemLocator object."
            << " Err code = 0x"
            << hex << hres << endl;
        CoUninitialize();
        return 1;                 // Program has failed.
    }

    // Step 4: -----------------------------------------------------
    // Connect to WMI through the IWbemLocator::ConnectServer method

    IWbemServices *pSvc = NULL;

    // Connect to the root\cimv2 namespace with
    // the current user and obtain pointer pSvc
    // to make IWbemServices calls.
    hres = pLoc->ConnectServer(
         _bstr_t(L"ROOT\\CIMV2"), // Object path of WMI namespace
         NULL,                    // User name. NULL = current user
         NULL,                    // User password. NULL = current
         0,                       // Locale. NULL indicates current
         NULL,                    // Security flags.
         0,                       // Authority (for example, Kerberos)
         0,                       // Context object 
         &pSvc                    // pointer to IWbemServices proxy
         );

    if (FAILED(hres))
    {
        cout << "Could not connect. Error code = 0x" 
             << hex << hres << endl;
        pLoc->Release();     
        CoUninitialize();
        return 1;                // Program has failed.
    }

    cout << "Connected to ROOT\\CIMV2 WMI namespace" << endl;

    // Step 5: --------------------------------------------------
    // Set security levels on the proxy -------------------------

    hres = CoSetProxyBlanket(
       pSvc,                        // Indicates the proxy to set
       RPC_C_AUTHN_WINNT,           // RPC_C_AUTHN_xxx
       RPC_C_AUTHZ_NONE,            // RPC_C_AUTHZ_xxx
       NULL,                        // Server principal name 
       RPC_C_AUTHN_LEVEL_CALL,      // RPC_C_AUTHN_LEVEL_xxx 
       RPC_C_IMP_LEVEL_IMPERSONATE, // RPC_C_IMP_LEVEL_xxx
       NULL,                        // client identity
       EOAC_NONE                    // proxy capabilities 
    );

    if (FAILED(hres))
    {
        cout << "Could not set proxy blanket. Error code = 0x" 
            << hex << hres << endl;
        pSvc->Release();
        pLoc->Release();     
        CoUninitialize();
        return 1;               // Program has failed.
    }

    // Step 6: --------------------------------------------------
    // Use the IWbemServices pointer to make requests of WMI ----

    // For example, get the name of the operating system
    IEnumWbemClassObject* pEnumerator = NULL;
    hres = pSvc->ExecQuery(
        bstr_t("WQL"), 
        bstr_t("SELECT * FROM Win32_OperatingSystem"),
        WBEM_FLAG_FORWARD_ONLY | WBEM_FLAG_RETURN_IMMEDIATELY, 
        NULL,
        &pEnumerator);

    if (FAILED(hres))
    {
        cout << "Query for operating system name failed."
            << " Error code = 0x" 
            << hex << hres << endl;
        pSvc->Release();
        pLoc->Release();
        CoUninitialize();
        return 1;               // Program has failed.
    }

    // Step 7: -------------------------------------------------
    // Get the data from the query in step 6 -------------------

    IWbemClassObject *pclsObj;
    ULONG uReturn = 0;

    while (pEnumerator)
    {
        HRESULT hr = pEnumerator->Next(WBEM_INFINITE, 1, 
            &pclsObj, &uReturn);

        if(0 == uReturn)
        {
            break;
        }

        VARIANT vtProp;

        // Get the value of the Name property
        hr = pclsObj->Get(L"Name", 0, &vtProp, 0, 0);
        wcout << " OS Name : " << vtProp.bstrVal << endl;
        VariantClear(&vtProp);

        pclsObj->Release();
    }

    // Cleanup
    // ========

    pSvc->Release();
    pLoc->Release();
    pEnumerator->Release();
    pclsObj->Release();
    CoUninitialize();

    return 0;   // Program successfully completed.

} 
```

在调试时，我会得到中断或继续消息框！？带有以下消息：

> osname.exe 中 0x00412058 处未处理的异常：0xC0000005：访问冲突读取位置 0xfeeefef6。

我得到了正确的输出。但它终止。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T04:33:24.630

这就是解决方案。如果有人遇到 .dll 丢失错误，请在发布模式下重新编译它（我是 VC++ 2010 仅供参考）。

```
#include "stdafx.h"
#include <windows.h>
#include <iostream>
using namespace std;
#include <tchar.h>
#include <stdio.h>
#include <strsafe.h>

#pragma comment(lib, "User32.lib")

#define BUFSIZE 256

typedef void (WINAPI *PGNSI)(LPSYSTEM_INFO);
typedef BOOL (WINAPI *PGPI)(DWORD, DWORD, DWORD, DWORD, PDWORD);

BOOL GetOSDisplayString( LPTSTR pszOS)
{
   OSVERSIONINFOEX osvi;
   SYSTEM_INFO si;
   PGNSI pGNSI;
   PGPI pGPI;
   BOOL bOsVersionInfoEx;
   DWORD dwType;

   ZeroMemory(&si, sizeof(SYSTEM_INFO));
   ZeroMemory(&osvi, sizeof(OSVERSIONINFOEX));

   osvi.dwOSVersionInfoSize = sizeof(OSVERSIONINFOEX);
   bOsVersionInfoEx = GetVersionEx((OSVERSIONINFO*) &osvi);

   if( ! bOsVersionInfoEx ) return 1;

   // Call GetNativeSystemInfo if supported or GetSystemInfo otherwise.

   pGNSI = (PGNSI) GetProcAddress(
      GetModuleHandle(TEXT("kernel32.dll")), 
      "GetNativeSystemInfo");
   if(NULL != pGNSI)
      pGNSI(&si);
   else GetSystemInfo(&si);

   if ( VER_PLATFORM_WIN32_NT==osvi.dwPlatformId && 
        osvi.dwMajorVersion > 4 )
   {
      StringCchCopy(pszOS, BUFSIZE, TEXT("Microsoft "));

      // Test for the specific product.

      if ( osvi.dwMajorVersion == 6 )
      {
         if( osvi.dwMinorVersion == 0 )
         {
            if( osvi.wProductType == VER_NT_WORKSTATION )
                StringCchCat(pszOS, BUFSIZE, TEXT("Windows Vista "));
            else StringCchCat(pszOS, BUFSIZE, TEXT("Windows Server 2008 " ));
         }

         if ( osvi.dwMinorVersion == 1 || osvi.dwMinorVersion == 2 )
         {
            if ( osvi.wProductType == VER_NT_WORKSTATION && osvi.dwMinorVersion == 1)
                StringCchCat(pszOS, BUFSIZE, TEXT("Windows 7 "));
            else
            if ( osvi.wProductType == VER_NT_WORKSTATION && osvi.dwMinorVersion == 2)
                StringCchCat(pszOS, BUFSIZE, TEXT("Windows 8 "));
            else 
                StringCchCat(pszOS, BUFSIZE, TEXT("Windows Server 2008 R2 " ));
         }

         pGPI = (PGPI) GetProcAddress(
            GetModuleHandle(TEXT("kernel32.dll")), 
            "GetProductInfo");

         pGPI( osvi.dwMajorVersion, osvi.dwMinorVersion, 0, 0, &dwType);

         switch( dwType )
         {
            case PRODUCT_ULTIMATE:
               StringCchCat(pszOS, BUFSIZE, TEXT("Ultimate Edition" ));
               break;
            case PRODUCT_PROFESSIONAL:
               StringCchCat(pszOS, BUFSIZE, TEXT("Professional" ));
               break;
            case PRODUCT_HOME_PREMIUM:
               StringCchCat(pszOS, BUFSIZE, TEXT("Home Premium Edition" ));
               break;
            case PRODUCT_HOME_BASIC:
               StringCchCat(pszOS, BUFSIZE, TEXT("Home Basic Edition" ));
               break;
            case PRODUCT_ENTERPRISE:
               StringCchCat(pszOS, BUFSIZE, TEXT("Enterprise Edition" ));
               break;
            case PRODUCT_BUSINESS:
               StringCchCat(pszOS, BUFSIZE, TEXT("Business Edition" ));
               break;
            case PRODUCT_STARTER:
               StringCchCat(pszOS, BUFSIZE, TEXT("Starter Edition" ));
               break;
            case PRODUCT_CLUSTER_SERVER:
               StringCchCat(pszOS, BUFSIZE, TEXT("Cluster Server Edition" ));
               break;
            case PRODUCT_DATACENTER_SERVER:
               StringCchCat(pszOS, BUFSIZE, TEXT("Datacenter Edition" ));
               break;
            case PRODUCT_DATACENTER_SERVER_CORE:
               StringCchCat(pszOS, BUFSIZE, TEXT("Datacenter Edition (core installation)" ));
               break;
            case PRODUCT_ENTERPRISE_SERVER:
               StringCchCat(pszOS, BUFSIZE, TEXT("Enterprise Edition" ));
               break;
            case PRODUCT_ENTERPRISE_SERVER_CORE:
               StringCchCat(pszOS, BUFSIZE, TEXT("Enterprise Edition (core installation)" ));
               break;
            case PRODUCT_ENTERPRISE_SERVER_IA64:
               StringCchCat(pszOS, BUFSIZE, TEXT("Enterprise Edition for Itanium-based Systems" ));
               break;
            case PRODUCT_SMALLBUSINESS_SERVER:
               StringCchCat(pszOS, BUFSIZE, TEXT("Small Business Server" ));
               break;
            case PRODUCT_SMALLBUSINESS_SERVER_PREMIUM:
               StringCchCat(pszOS, BUFSIZE, TEXT("Small Business Server Premium Edition" ));
               break;
            case PRODUCT_STANDARD_SERVER:
               StringCchCat(pszOS, BUFSIZE, TEXT("Standard Edition" ));
               break;
            case PRODUCT_STANDARD_SERVER_CORE:
               StringCchCat(pszOS, BUFSIZE, TEXT("Standard Edition (core installation)" ));
               break;
            case PRODUCT_WEB_SERVER:
               StringCchCat(pszOS, BUFSIZE, TEXT("Web Server Edition" ));
               break;
         }
      }

      if ( osvi.dwMajorVersion == 5 && osvi.dwMinorVersion == 2 )
      {
         if( GetSystemMetrics(SM_SERVERR2) )
            StringCchCat(pszOS, BUFSIZE, TEXT( "Windows Server 2003 R2, "));
         else if ( osvi.wSuiteMask & VER_SUITE_STORAGE_SERVER )
            StringCchCat(pszOS, BUFSIZE, TEXT( "Windows Storage Server 2003"));
         else if ( osvi.wSuiteMask & VER_SUITE_WH_SERVER )
            StringCchCat(pszOS, BUFSIZE, TEXT( "Windows Home Server"));
         else if( osvi.wProductType == VER_NT_WORKSTATION &&
                  si.wProcessorArchitecture==PROCESSOR_ARCHITECTURE_AMD64)
         {
            StringCchCat(pszOS, BUFSIZE, TEXT( "Windows XP Professional x64 Edition"));
         }
         else StringCchCat(pszOS, BUFSIZE, TEXT("Windows Server 2003, "));

         // Test for the server type.
         if ( osvi.wProductType != VER_NT_WORKSTATION )
         {
            if ( si.wProcessorArchitecture==PROCESSOR_ARCHITECTURE_IA64 )
            {
                if( osvi.wSuiteMask & VER_SUITE_DATACENTER )
                   StringCchCat(pszOS, BUFSIZE, TEXT( "Datacenter Edition for Itanium-based Systems" ));
                else if( osvi.wSuiteMask & VER_SUITE_ENTERPRISE )
                   StringCchCat(pszOS, BUFSIZE, TEXT( "Enterprise Edition for Itanium-based Systems" ));
            }

            else if ( si.wProcessorArchitecture==PROCESSOR_ARCHITECTURE_AMD64 )
            {
                if( osvi.wSuiteMask & VER_SUITE_DATACENTER )
                   StringCchCat(pszOS, BUFSIZE, TEXT( "Datacenter x64 Edition" ));
                else if( osvi.wSuiteMask & VER_SUITE_ENTERPRISE )
                   StringCchCat(pszOS, BUFSIZE, TEXT( "Enterprise x64 Edition" ));
                else StringCchCat(pszOS, BUFSIZE, TEXT( "Standard x64 Edition" ));
            }

            else
            {
                if ( osvi.wSuiteMask & VER_SUITE_COMPUTE_SERVER )
                   StringCchCat(pszOS, BUFSIZE, TEXT( "Compute Cluster Edition" ));
                else if( osvi.wSuiteMask & VER_SUITE_DATACENTER )
                   StringCchCat(pszOS, BUFSIZE, TEXT( "Datacenter Edition" ));
                else if( osvi.wSuiteMask & VER_SUITE_ENTERPRISE )
                   StringCchCat(pszOS, BUFSIZE, TEXT( "Enterprise Edition" ));
                else if ( osvi.wSuiteMask & VER_SUITE_BLADE )
                   StringCchCat(pszOS, BUFSIZE, TEXT( "Web Edition" ));
                else StringCchCat(pszOS, BUFSIZE, TEXT( "Standard Edition" ));
            }
         }
      }

      if ( osvi.dwMajorVersion == 5 && osvi.dwMinorVersion == 1 )
      {
         StringCchCat(pszOS, BUFSIZE, TEXT("Windows XP "));
         if( osvi.wSuiteMask & VER_SUITE_PERSONAL )
            StringCchCat(pszOS, BUFSIZE, TEXT( "Home Edition" ));
         else StringCchCat(pszOS, BUFSIZE, TEXT( "Professional" ));
      }

      if ( osvi.dwMajorVersion == 5 && osvi.dwMinorVersion == 0 )
      {
         StringCchCat(pszOS, BUFSIZE, TEXT("Windows 2000 "));

         if ( osvi.wProductType == VER_NT_WORKSTATION )
         {
            StringCchCat(pszOS, BUFSIZE, TEXT( "Professional" ));
         }
         else 
         {
            if( osvi.wSuiteMask & VER_SUITE_DATACENTER )
               StringCchCat(pszOS, BUFSIZE, TEXT( "Datacenter Server" ));
            else if( osvi.wSuiteMask & VER_SUITE_ENTERPRISE )
               StringCchCat(pszOS, BUFSIZE, TEXT( "Advanced Server" ));
            else StringCchCat(pszOS, BUFSIZE, TEXT( "Server" ));
         }
      }

       // Include service pack (if any) and build number.

      if( _tcslen(osvi.szCSDVersion) > 0 )
      {
          StringCchCat(pszOS, BUFSIZE, TEXT(" ") );
          StringCchCat(pszOS, BUFSIZE, osvi.szCSDVersion);
      }

      TCHAR buf[80];

      StringCchPrintf( buf, 80, TEXT(" (build %d)"), osvi.dwBuildNumber);
      StringCchCat(pszOS, BUFSIZE, buf);

      if ( osvi.dwMajorVersion >= 6 )
      {
         if ( si.wProcessorArchitecture==PROCESSOR_ARCHITECTURE_AMD64 )
            StringCchCat(pszOS, BUFSIZE, TEXT( ", 64-bit" ));
         else if (si.wProcessorArchitecture==PROCESSOR_ARCHITECTURE_INTEL )
            StringCchCat(pszOS, BUFSIZE, TEXT(", 32-bit"));
      }

      return TRUE; 
   }

   else
   {  
      printf( "This sample does not support this version of Windows.\n");
      return FALSE;
   }
}

int __cdecl _tmain()
{
    TCHAR szOS[BUFSIZE];

    if( GetOSDisplayString( szOS ) )
    {
        _tprintf( TEXT("\n%s\n"), szOS );
        cin.get();
    }
} 
```

# mobile - 旧的移动代理

> ID：15246819
> 
> 赞同：0
> 
> 时间：2013-03-06T12:00:43.630
> 
> 标签：mobile, detect, agent

我有一个响应式网站，但我对旧设备有疑问！我想为移动用户设计一个基本的网页，因此，我需要先检测旧手机，所以我需要旧的移动代理！最后我想要一个完整的旧移动代理列表

**如果每个人都有一个正则表达式代码，我会很高兴拥有它**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:13:59.347

[http://www.useragentstring.com/pages/Mobile%20Browserlist/](http://www.useragentstring.com/pages/Mobile%20Browserlist/)

[http://wurfl.sourceforge.net/](http://wurfl.sourceforge.net/)

[https://deviceatlas.com/](https://deviceatlas.com/)

等等等等。 Wurful 可能是他们的首选，因为他们拥有公开版本的数据。

然而，没有“这是旧的”标签。

# javascript - 如何根据条件加载模块？

> ID：15246820
> 
> 赞同：1
> 
> 时间：2013-03-06T12:00:45.700
> 
> 标签：javascript, jquery, html, requirejs, amd

我正在使用 requirejs 我有几个条件来启动我的许多模块和插件。我想在用户通过几个条件后加载模块和所需的插件。

用例：

身份验证后最初加载登录屏幕加载另一个模块，检查所有条件是否成功的几个条件我想加载所有插件和其他模块。

我怎样才能用requirejs得到它？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T13:00:33.967

一种方法是简单地使用条件并将脚本加载到其中。

例子：

```
define('foo', function(require) {
    if (/* condition */) {
        require(['module'], function (module) {
            // the module stuff
        });
    }
}); 
```

[你可以在这个jsfiddle](http://jsfiddle.net/g3SW6/)看到一个有条件地加载 jquery 的现场演示

还可以看看：[如何用RequireJS实现延迟加载？](https://stackoverflow.com/questions/10911044/how-to-achieve-lazy-loading-with-requirejs)

# iphone - 如何将日期格式化为包含毫秒的字符串？

> ID：15246823
> 
> 赞同：3
> 
> 时间：2013-03-06T12:00:48.383
> 
> 标签：iphone, ios, objective-c, macos

```
NSString *nameToSave = word;

NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
NSString *fromDateString=[dateFormatter stringFromDate:[NSDate date]];
[dateFormatter release];

nameToSave = [word stringByAppendingString:fromDateString];
nameToSave = [nameToSave stringByAppendingString:@".txt"];
NSLog(@"Server notes name .............>>>>>>!!!! %@",nameToSave); 
```

为了保存文件名，我使用的是 dateformatter，我的问题是上面的代码字对于两个文件是相同的，它在一秒钟内运行，然后两个文件名是相同的。所以文件是压倒一切的..，我认为使用毫秒可以解决我的问题，但我不知道如何以毫秒为单位获取当前时间。[秒/1000 或任何算术运算对我没有帮助...，因为在应用算术运算后我们也得到相同的名称]

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-06T12:13:52.873

您可以设置日期格式，例如

```
[dateFormatter setDateFormat:@"yyyy-MM-dd-HH:mm:ss:SSS"]; 
```

“SSS”是毫秒。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-06T12:01:45.890

就这样做`[[NSDate date] timeIntervalSince1970];`

# python - Matplotlib - 与“颜色条”使用的填充相同

> ID：15246824
> 
> 赞同：0
> 
> 时间：2013-03-06T12:00:49.173
> 
> 标签：python, matplotlib, colorbar

有没有办法保持与 a 使用的填充相同`colorbar`而没有看到任何填充`colobar`？

为什么 ？实际上，这将允许我在从一个没有颜色阴影信息的绘图传递到使用 colobar 的绘图时做一种视觉效果。

这是来自[这篇文章](https://stackoverflow.com/questions/15235630/matplotlib-pick-up-one-color-associated-to-one-value-in-a-colorbar/15236334#comment21482421_15236334)的一个起始代码。

```
from matplotlib.pylab import *
import matplotlib.cm as cm

min_val = 0
max_val = 1

# See : http://www.scipy.org/Cookbook/Matplotlib/Show_colormaps
my_cmap = cm.get_cmap('jet') # or any other one
norm = matplotlib.colors.Normalize(min_val, max_val) # the color maps work for [0, 1]

cmmapable = cm.ScalarMappable(norm, my_cmap)
cmmapable.set_array(range(min_val, max_val))

figure()
ax = gca()

cbar = colorbar(cmmapable, ticks=[0, 1])
cbar.ax.set_yticklabels(['Min', 'Max'])

show() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-10T10:34:33.147

我的理解是，您想用两张幻灯片进行演示，一张带有不带彩条的情节，下一张幻灯片带有带有彩条的相同情节。两张幻灯片中的绘图应具有相同的大小，以便在更改幻灯片时绘图不会跳转或调整大小。

设置颜色图将调整原始`Axes`实例的大小。您可以使用`ax.get_position()`来获取调整大小的边界框`Axes`。它返回一个边界框：`Bbox(array([[ 0.125, 0.1 ], [ 0.745, 0.9 ]]))`它给出左、下、右和上边缘。我发现它更容易作弊并使用`ax._position.bounds`，它提供了一个矩形（左边缘、下边缘、宽度、高度），您可以直接使用它来制作新轴，如下所示。

```
import matplotlib 
import matplotlib.pyplot as plt

min_val = 0
max_val = 1

my_cmap = matplotlib.cm.get_cmap('jet') 
norm = matplotlib.colors.Normalize(min_val, max_val) 

cmmapable = matplotlib.cm.ScalarMappable(norm, my_cmap)
cmmapable.set_array(range(min_val, max_val))

fig1 = plt.figure()
ax1 = fig1.add_subplot(111)

cbar = plt.colorbar(cmmapable, ax = ax1, ticks=[0, 1])
cbar.ax.set_yticklabels(['Min', 'Max'])

# gives bounding box with left, right, bottom, top
print(ax1.get_position())
# gives rectangle with left, bottom, width, height
print(ax1._position.bounds)

fig2 = plt.figure()
ax2 = fig2.add_axes(ax1._position.bounds)

plt.show() 
```

更新：在上面的解决方案中没有颜色条，在下面的解决方案中有一个颜色条，但是您将其设为白色并删除标签和刺。如果图形的背景颜色不是白色，您将看到一个白色矩形，颜色条应该是。

```
import matplotlib 
import matplotlib.pyplot as plt

min_val = 0
max_val = 1

my_cmap = matplotlib.cm.get_cmap('jet') 
norm = matplotlib.colors.Normalize(min_val, max_val) 

cmmapable = matplotlib.cm.ScalarMappable(norm, my_cmap)
cmmapable.set_array(range(min_val, max_val))

fig1 = plt.figure()
ax1 = fig1.add_subplot(111)

# set opacity to 0
cbar = plt.colorbar(cmmapable, ax = ax1, ticks=[0, 1], alpha = 0)

# remove the tick labels
cbar.ax.set_yticklabels(['', ''])
# set the tick length to 0
cbar.ax.tick_params(axis = 'y', which = "both", length = 0)

# set everything that has a linewidth to 0
for a in cbar.ax.get_children():
    try:
        a.set_linewidth(0)
    except:
        pass

plt.show() 
```

# three.js - 使用 Three.js 创建类似屋顶的结构

> ID：15246825
> 
> 赞同：3
> 
> 时间：2013-03-06T12:00:51.490
> 
> 标签：three.js

我目前正在尝试一种方法，在 Three.js 中的挤压形状之上创建类似屋顶的结构。在不深入研究[直骨架](http://mike.teczno.com/notes/winter-2010-sabbatical/days-8-11.html)的情况下，我能想到的最简单的方法是挤出并缩放我的挤出网格的顶面，使其看起来像屋顶，或者在顶部创建一个形状像屋顶的新网格。

如果应用于拉伸矩形（立方体），这是我所追求的最基本样式： ![在此处输入图像描述](../Images/eb4e3b7eb96dbec0809be6908abba239.png)

屋顶的阴影区域高于非阴影区域。

和相同的样式，如果应用于更复杂的挤压形状： ![在此处输入图像描述](../Images/11ce1ac149b306bc11d50ea6050cc23e.png)

我无法解决的是如何创建这样的屋顶结构，尤其是对于像第二个示例这样的复杂形状。我有建筑物“足迹”的顶点，但我不知道如何在缩放顶面以给出倾斜的侧面时挤压它们。

我绝对可以计算出缩放的顶点位置，但是我还有另一个问题是不知道如何将顶部（缩放）面连接到底面（即如何制作侧面）。

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T14:21:20.213

听起来您想在`ExtrudeGeometry`. [https://github.com/mrdoob/three.js/blob/master/src/extras/geometries/ExtrudeGeometry.js](https://github.com/mrdoob/three.js/blob/master/src/extras/geometries/ExtrudeGeometry.js)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:30:11.360

由于顶部屋顶多边形将具有与底部屋顶多边形相同数量的顶点，这不只是循环通过每个顶部屋顶多边形顶点并将其连接到其底部屋顶多边形顶点的情况吗？

并且，顶部屋顶多边形上的任何两个顶点以及底部屋顶多边形上的相关顶点将为您提供侧面的所有顶点。

# ios - 更新 ios5 应用程序（nib 文件）以支持 ios6

> ID：15246829
> 
> 赞同：2
> 
> 时间：2013-03-06T12:01:03.537
> 
> 标签：ios, iphone-5, armv7

最近我在更新我的 ios5 应用程序时遇到了一个问题，该应用程序在 ios5 中运行良好，以便在 iPhone 5 (ios6) 中运行。该应用程序有 nib 文件，需要根据各自的视图边界重新排列。在模拟器中构建/运行时工作正常，但在设备中尝试时，会给出有关架构的错误。

检查了这些链接

[XCode 4 活动架构设置](https://stackoverflow.com/questions/5369569/xcode-4-active-architecture-setting)

[我应该使用哪些 Xcode 设置来支持 armv6 和 armv7？](https://stackoverflow.com/questions/9447349/what-xcode-settings-should-i-use-to-support-both-armv6-and-armv7?rq=1)

将“构建活动架构”更改为是/否 - 但没有用 将“有效架构”更改为“armv6 armv7”、“armv6”、“标准 armv6”等，但没有运气

如果在 iPhone5 上运行，则在其他设备上没有运行，iPad (ios 5.1.1) 和 iPod (ios 5.1.1)

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T09:49:34.967

![在 plist 文件中，我进行了以下更改](../Images/fee1286be1e7653d4080fefdbd6da6ad.png) 经过很多小时得到了解决方案。我已经在 plist 中进行了这样的更改，它正在开始。谢谢..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:55:36.730

对有效架构使用 armv7 和 armv7s（除非您与 3rd 方代码有冲突）。iPhone 5 将运行 armv7 代码以及 armv7s。XCode 4.5 放弃了对 armv6 的支持。

以下是一些可能对您有所帮助的相关 SO 问题。

[什么是armv7s？](https://stackoverflow.com/questions/12569339/what-is-armv7s)

[http://wanderingcoder.net/2012/09/16/no-armv7s-til-tested/](http://wanderingcoder.net/2012/09/16/no-armv7s-til-tested/)

![有效架构图片](../Images/8331484227926fea84ff2afabfb575e1.png)

# machine-learning - 为实值数据实施 GB-RBM

> ID：15246830
> 
> 赞同：1
> 
> 时间：2013-03-06T12:01:09.440
> 
> 标签：machine-learning, neural-network, gaussian, rbm, dbn

我正在尝试为语音识别实现一个深度信念网络。因此，需要第一层 RBM 具有高斯可见单元。

我使用了@Andrej Karpathy 的 matrbm ( [https://code.google.com/p/matrbm/](https://code.google.com/p/matrbm/) ) 并进行了一些更改以将伯努利-伯努利 RBM 转换为高斯-伯努利 RBM。

更改后的版本可在[http://pastebin.com/KTPHnizd获得](http://pastebin.com/KTPHnizd)

我做错什么了吗？

# c - 在退出时关闭文件描述符是一个好习惯吗

> ID：15246833
> 
> 赞同：29
> 
> 时间：2013-03-06T12:01:11.813
> 
> 标签：c, coding-style, file-descriptor

如果由于某种原因，我在我的程序中发现了一个致命的情况，并且我想以错误代码退出。有时，致命错误的上下文超出了其他文件描述符的范围。关闭这些文件描述符是一个好习惯吗？据我所知，这些文件会在进程终止时自动关闭。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-06T12:06:27.480

文件会自动关闭，但这是一个好习惯。

请参阅此示例中的 valgrind

```
david@debian:~$ cat demo.c
#include <stdio.h>

int main(void)
{
    FILE *f;

    f = fopen("demo.c", "r");
    return 0;
}
david@debian:~$ valgrind ./demo
==3959== Memcheck, a memory error detector
==3959== Copyright (C) 2002-2010, and GNU GPL'd, by Julian Seward et al.
==3959== Using Valgrind-3.6.0.SVN-Debian and LibVEX; rerun with -h for copyright info
==3959== Command: ./demo
==3959== 
==3959== 
==3959== HEAP SUMMARY:
==3959==     in use at exit: 568 bytes in 1 blocks
==3959==   total heap usage: 1 allocs, 0 frees, 568 bytes allocated
==3959== 
==3959== LEAK SUMMARY:
==3959==    definitely lost: 0 bytes in 0 blocks
==3959==    indirectly lost: 0 bytes in 0 blocks
==3959==      possibly lost: 0 bytes in 0 blocks
==3959==    still reachable: 568 bytes in 1 blocks
==3959==         suppressed: 0 bytes in 0 blocks
==3959== Rerun with --leak-check=full to see details of leaked memory
==3959== 
==3959== For counts of detected and suppressed errors, rerun with: -v
==3959== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 4 from 4) 
```

如您所见，它引发了内存泄漏

在某些情况下，您可以使用`atexit()`：

```
#include <stdio.h>
#include <stdlib.h>

static FILE *f;

static void free_all(void)
{
    fclose(f);
}

static int check(void)
{
    return 0;
}

int main(void)
{
    atexit(free_all);
    f = fopen("demo.c", "r");
    if (!check()) exit(EXIT_FAILURE);
    /* more code */
    return 0;
} 
```

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-03-06T13:09:54.103

POSIX 编程的经典指南“UNIX 环境中的高级编程”指出：

> 当一个进程终止时，其所有打开的文件都会被内核自动关闭。许多程序利用了这一事实，并且不会明确关闭打开的文件。

您没有在问题中提到操作系统，但任何操作系统都应该出现这种行为。每当您的程序控制流交叉`exit()`或`return`来自`main()`它时，系统有责任在该过程之后进行清理。

操作系统实现中总是存在错误的危险。但是，另一方面，系统必须在进程终止时释放多个打开的文件描述符：可执行文件映像、堆栈、与进程关联的内核对象占用的内存。您无法从用户空间控制此行为，您只能依赖其按预期工作。那么，为什么程序员不能依赖`fd`s 的自动关闭呢？

因此，保持`fd`开放的唯一问题可能是编程风格问题。而且，在使用`stdio`对象（即围绕系统提供的文件 i/o 构建的东西）的情况下，您可能会在 valgrinding 时（有点）获得迷失方向的警报。至于泄露系统资源的危险，应该没什么好担心的，除非你的操作系统实现真的有问题。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-03-06T12:04:28.100

> 据我所知，这些文件会在进程终止时自动关闭。

不要依赖那个。从概念上讲，当进程终止时，释放分配的内存、关闭非标准文件描述符等是**您的责任**。当然，每个健全的操作系统（甚至 Windows）都会在您的进程之后清理，但这不是预期的。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-03-06T12:06:48.227

是的。假设您的主程序现在是单独程序中的一个类。现在您刚刚描述了资源泄漏。通过依赖全局程序状态（即进程的状态）实质上违反了封装——不是你的模块，不是类，不是 ADT，不是线程，而是整个进程——处于关闭状态。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2017-05-02T08:43:33.143

每个健全的操作系统（当然是任何形式的 Linux 或 Windows）都会在程序终止时关闭文件。如果您有一个非常简单的程序，那么您可能不需要在终止时关闭文件。但是，明确关闭文件仍然是一种很好的做法，原因如下：

1.  如果您将其留给操作系统，您将无法控制文件关闭的顺序，这可能会导致一致性问题（例如在多文件数据库中）。

2.  如果存在与关闭文件相关的错误（例如 I/O 错误、空间不足错误等），您将无法报告它们。

3.  可能需要处理与文件锁定的交互。

4.  关闭所有文件的例程可以同时处理程序需要的任何其他清理（例如，刷新缓冲区）

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-03-06T13:16:38.943

`exit`如果您的程序正常终止（即通过或返回） ，C 确实保证所有打开的文件都将被关闭`main`。但是，如果您的程序异常终止，例如由于使用 NULL 指针而被操作系统关闭，则由操作系统来关闭文件。因此，最好确保文件在不再需要时关闭，以防意外终止。

另一个原因是资源限制。大多数操作系统对打开的文件数量（以及许多其他内容）都有限制，因此最好在不再需要这些资源时立即返回它们。如果每个程序都无限期地打开所有文件，系统可能很快就会遇到问题。

# .net - 任何人都可以使用这项服务吗？

> ID：15246834
> 
> 赞同：0
> 
> 时间：2013-03-06T12:01:12.667
> 
> 标签：.net, wcf

这是我的服务。还有其他更好的设计方法吗？任何人都可以使用此服务，即 javascript、php、Java。

界面

```
[ServiceContract]
public interface IService1
{
    [OperationContract]
    datas GetData(input ip);      
}
[CollectionDataContract]
public class datas : List<output>
{
    public datas() { }
    public datas(List<output> datas) : base(datas) { }
}
[DataContract]
public class output
{ 
    [DataMember]
    public string city
    {
        get;
        set;
    }      
}
[DataContract]
public class input
{
[DataMember]
    public string id
    {
        get;
        set;
    }   
} 
```

服务实施

```
public class Service1 : IService1
{
    public datas  GetData(input ip)
    {            
           datas collection = new datas();                             
           tbTemp = con.GetDataTable(query);                          
           foreach (DataRow dtRow in tbTemp.Rows)
           {
               output op = new output();
               op.city = dtRow[0].ToString();                  
               collection.Add(op);
           }               
           return collection;           
    }      
} 
```

我正在使用“webHttpBinding”绑定。还是我应该去 WCF RESTful 服务之类的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T13:21:17.650

服务的实施应基于您的意图。

如果您要通过 HTTP 创建服务，我建议您使用 ASP.NET MVC Web API。

回顾这篇[文章](http://blogs.microsoft.co.il/blogs/idof/archive/2012/03/05/wcf-or-asp-net-web-apis-my-two-cents-on-the-subject.aspx)。它将阐明一些要点并帮助您做出选择。

# perl - 在 EmbPerl 的 %fdat 变量中获取表单数据值为 null

> ID：15246836
> 
> 赞同：1
> 
> 时间：2013-03-06T11:09:16.800
> 
> 标签：perl, apache, embperl

对于带有表单属性的文件上传，我在变量中获取**NULL**表单数据值。`%fdat``EmbPerl``enctype="multipart/form-data"`

这是 EmbPerl 代码：

```
if(( defined $fdat{file} && $fdat{file} ) && $fdat{upload} )
{
         $filename = "/tmp/sample.txt";
         open (FILE, "> $filename") || die("open failed: $!");
         while (read($fdat{file}, $buffer, 32768)) 
         {
             print FILE $buffer || die("print test: $!");
             close FILE || die("close test: $!");  
         }
} 
```

HTML代码是：

```
<form name="form1" method="post" enctype="multipart/form-data" onsubmit="return validation();">
 <table>
  <tr>   
    <td>Select EXCEL sheet</td>
    <td><input type="file" name="file" value=""></td>
  </tr>
  <tr>
    <td>&nbsp;</td>
    <td><input type="submit" name="upload" value="upload"></td>
   </tr>
 </table>
</form> 
```

我正在使用 EmbPerl/2.3.0、CGI/3.63、Perl/5.10.1、Apache/2.2.22 和 Linux 操作系统。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T03:14:38.490

我得到了解决方案。

这是CGI模块版本的问题。Embperl`CGI`在内部使用模块来处理使用 multipart/form-data 编码的表单。您可以检索文件名（本地文件名，因为它在浏览器端）和 CGI​​.pm`uploadInfo`函数提供的信息。通过将 CGI 版本升级到 3.37 解决了该问题。

# javascript - Javascript Excel 打开文件

> ID：15246837
> 
> 赞同：4
> 
> 时间：2013-03-06T12:01:19.563
> 
> 标签：javascript, excel

我有这个代码：

```
<html>
  <script type="text/javascript">
    function test() {
      var Excel = new ActiveXObject("Excel.Application");
      Excel.Workbook.Open("teste.xlsx");
    }
  </script>

  <body>

    <form name="form1">
      <input type=button onClick="test();" value="Open File">
      <br><br>
    </form>

  </body>
</html> 
```

所以主要问题是我不断收到这个错误：

```
On line 7 , Unable to get value of property Open
URL file:///C:/users/admin/desktop/test.hta 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-06T12:17:17.753

首先，尝试将脚本移动到正文的底部。您还应该将`Excel`变量设置为可见。并且该行有一个错字`Excel.Workbook.Open("teste.xlsx");`（应该是`Workbooks`）。以下在 IE 中为我工作。我认为它不适用于其他浏览器：

```
<html>

  <body>

    <form name="form1">
      <input type=button onClick="test()" value="Open File">
      <br><br>
    </form>

    <script type="text/javascript">
      function test() {
        var Excel = new ActiveXObject("Excel.Application");
        Excel.Visible = true;
        Excel.Workbooks.Open("teste.xlsx");
      }
    </script>
  </body>
</html> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-11-21T20:17:25.490

这适用于 IE 11，您必须在 Internet 选项中启用所有 ActiveX 控件。这将打开 excel 并打开您在工作表名称中提到的确切工作表。

```
<form name="form1">
  <input type=button onClick="test()" value="Open File">
  <br><br>
</form>

<script type="text/javascript">
  function test() 
  {  
    var Excel = new ActiveXObject("Excel.Application");  
    Excel.Visible = true; Excel.Workbooks.open("c:\\jeba\\sample.xlsx");  
    var excel_sheet = Excel.Worksheets("sheetname_1");  
    excel_sheet.activate();  
  }   
</script> 
```

# java - 检查特殊字符“$”的正则表达式

> ID：15246838
> 
> 赞同：3
> 
> 时间：2013-03-06T12:01:21.933
> 
> 标签：java, regex

我有一个类似于这个 9$1F 的字符串，需要检查它是否以数字开头，后跟“$”符号，并且应该以十六进制值结尾。

```
[0-9][\\$][0-9A-Fa-f] 
```

我尝试过这样的事情，但失败了，谁能帮助我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T12:05:14.600

您可能正在使用`.matches()`（这要求正则表达式匹配整个输入字符串），并且您的正则表达式仅匹配第一个十六进制数字。

尝试

```
[0-9][$][0-9A-Fa-f]+ 
```

代替`[$]`，您也可以使用`\\$`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T12:05:06.653

如果它必须绝对以数字开头，请尝试以下操作：

```
^\\d\\$[0-9A-Fa-f]+ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T12:51:25.217

如果您正在进行正则表达式匹配，您也可以使用它来拆分字符串。以下示例将数字和十六进制值转换为两个单独的整数。

```
final Pattern pattern = Pattern.compile("([0-9])\\$([0-9A-Fa-f]+)");

Matcher matcher = pattern.matcher("9$FF");
int digit = 0;
int hex = 0;

if (matcher.find()) {
    digit = Integer.parseInt(matcher.group(1));
    hex = Integer.parseInt(matcher.group(2), 16);
}
System.out.println(digit + " " + hex); 
```

结果`9 255`(`9`和`FF`)

# c++ - 在循环中创建 100 个不同名称的对象

> ID：15246839
> 
> 赞同：1
> 
> 时间：2013-03-06T12:01:21.597
> 
> 标签：c++, object, for-loop

如何创建一个将创建 100 个不同对象的循环。假设我有课`myPage Page1`。我想创建 100 个这样的对象，`myPage`比如说 Page1....Page100 我还需要将对象名称保存在一个变量中，例如`char name[10]`

```
for(int i = 0; i<100; i++)
{
    // create object with different name of my class
    // char name = name of object//something like that
} 
```

可能吗？如何？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T12:03:15.700

> 可能吗？

**不**，C++ 中变量的名称是在编译时分配的。

只需使用 a `std::vector<myPage>`（或者`std::array<myPage, N>`如果大小在编译时确定并且不应更改）并通过它们的索引定位访问对象。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T12:19:01.733

说“C++ 中变量的名称是在编译时分配的。”，Andy Prowl 是对的，所以你不能在执行期间更改变量的名称。

但是，如果你想做一些不可能的事情，还有其他方法可以解决你的问题，而不是获得 100 个相同类型的 var，你可以实例化一个装满所有 myPage 实例的容器，这是一个丑陋的例子：

```
std::map<std::string, myPage*> pages;
for (int i = 0; i < 100; ++i)
{
   std::string name = "page";
   page += i;
   pages.insert (std::make_pair (name, new myPage ()));
} 
```

和访问：

```
myPage* page = pages["page18"]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T12:04:50.163

不，那是不可能的。当您创建对象时，您会创建一个标识符（源代码中的对象名称），并且在运行时无法更改此标识符。您可以创建一个具有`name`-member 的类并在构造时分配它。

# c++ - 确定可变 C++11 模板化 lambda 函数的返回类型

> ID：15246843
> 
> 赞同：0
> 
> 时间：2013-03-06T12:01:29.643
> 
> 标签：c++, c++11, lambda, freestanding

我有以下功能；

```
template<typename T, typename U, typename... Parameters>
void transform(void (*func)(Parameters...))
               {
                  auto lambda_function = [func](T args, U params)
                  {
                     auto combined = std::tuple_cat(args, params);
                     helper(func, combined);
                  };
                  return lambda_function;
               } 
```

我似乎找不到可行的返回类型或调用方式，我希望能够像这样调用它；

```
auto func = transform<std::tuple<char,int>, std::tuple<const char*>>(f);
func(arg, param); 
```

给定'f'，'arg'和'param'为；

```
void f(char arg1, int arg2, const char* arg3);
std::tuple<char,int> arg = std::tuple<char,int>('C',-3);
std::tuple<const char*> param = std::tuple<const char*>("PO"); 
```

有人有提示，甚至是解决方案吗？

注意：代码可以在以下位置找到；[连锁](http://liveworkspace.org/code/4luGAx%240)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T12:02:25.350

您可以 return `std::function`，也可以创建一个命名的函数对象类型。

# python - Python：行长可以变化的字符串格式

> ID：15246851
> 
> 赞同：1
> 
> 时间：2013-03-06T12:01:52.140
> 
> 标签：python, string

所以我有下面的脚本：

```
def single_to_tripple(res):
    aa = {'R':'ARG','H':'HIS','K':'LYS','D':'ASP','E':'GLU','S':'SER','T':'THR','N':'ASN','Q':'GLN','C':'CYS','U':'SEC','G':'GLY','P':'PRO','A':'ALA','I':'ILE','L':'LEU','M':'MET','F':'PHE','W':'TRP','Y':'TYR','V':'VAL'}
    return(aa[res])
seq = 'ASALKDYYAIMGVKPTDDLKTIKTAYRRLARKYHPDVSKEPDAEARFKEVAEAWEVLSDEQRRAEYDQMWQHRNDPQFNRQFHHGDGQSFNAEDFDDIFSSIFGQHARQSRQRPATRGHDIEIEVAVFLEETLTEHKRTISYNLPVYNAFGMIEQEIPKTLNVKIPAGVGNGQRIRLKGQGTPGENGGPNGDLWLVIHIAPHPLFDIVGQDLEIVVPVSPWEAALGAKVTVPTLKESILLTIPPGSQAGQRLRVKGKGLVSKKQTGDLYAVLKIVMPPKPDENTAALWQQLADAQSSFDPRKDWGKA'
length = len(seq)

for i,v in enumerate(xrange(0,len(seq),13)):
    line = seq[v:v+13]
    out_line = ('{:<3} '*13).format(single_to_tripple(line[0]),single_to_tripple(line[1]),single_to_tripple(line[2]),single_to_tripple(line[3]),single_to_tripple(line[4]),single_to_tripple(line[5]),single_to_tripple(line[6]),single_to_tripple(line[7]),single_to_tripple(line[8]),single_to_tripple(line[9]),single_to_tripple(line[10]),single_to_tripple(line[11]),single_to_tripple(line[12]))
    print out_line 
```

我正在使用脚本`seq`每 13 个元素拼接一次字符串，然后将拼接字符串中的每个元素从其单字母代码转换为`single_to_tripple`. 我的数据输出需要包含由空格分隔的 13 列。如果接头不包含 13 个元素，则会在最后一个接头处出现问题。我怎样才能捕捉到这个并像往常一样格式化字符串？

我`enumerate`在 for 循环中使用，因为稍后我需要添加行号。

我当前的代码输出：

```
ALA SER ALA LEU LYS ASP TYR TYR ALA ILE MET GLY VAL 
LYS PRO THR ASP ASP LEU LYS THR ILE LYS THR ALA TYR 
ARG ARG LEU ALA ARG LYS TYR HIS PRO ASP VAL SER LYS 
GLU PRO ASP ALA GLU ALA ARG PHE LYS GLU VAL ALA GLU 
ALA TRP GLU VAL LEU SER ASP GLU GLN ARG ARG ALA GLU 
TYR ASP GLN MET TRP GLN HIS ARG ASN ASP PRO GLN PHE 
ASN ARG GLN PHE HIS HIS GLY ASP GLY GLN SER PHE ASN 
ALA GLU ASP PHE ASP ASP ILE PHE SER SER ILE PHE GLY 
GLN HIS ALA ARG GLN SER ARG GLN ARG PRO ALA THR ARG 
GLY HIS ASP ILE GLU ILE GLU VAL ALA VAL PHE LEU GLU 
GLU THR LEU THR GLU HIS LYS ARG THR ILE SER TYR ASN 
LEU PRO VAL TYR ASN ALA PHE GLY MET ILE GLU GLN GLU 
ILE PRO LYS THR LEU ASN VAL LYS ILE PRO ALA GLY VAL 
GLY ASN GLY GLN ARG ILE ARG LEU LYS GLY GLN GLY THR 
PRO GLY GLU ASN GLY GLY PRO ASN GLY ASP LEU TRP LEU 
VAL ILE HIS ILE ALA PRO HIS PRO LEU PHE ASP ILE VAL 
GLY GLN ASP LEU GLU ILE VAL VAL PRO VAL SER PRO TRP 
GLU ALA ALA LEU GLY ALA LYS VAL THR VAL PRO THR LEU 
LYS GLU SER ILE LEU LEU THR ILE PRO PRO GLY SER GLN 
ALA GLY GLN ARG LEU ARG VAL LYS GLY LYS GLY LEU VAL 
SER LYS LYS GLN THR GLY ASP LEU TYR ALA VAL LEU LYS 
ILE VAL MET PRO PRO LYS PRO ASP GLU ASN THR ALA ALA 
LEU TRP GLN GLN LEU ALA ASP ALA GLN SER SER PHE ASP 
Traceback (most recent call last):
  File "make_seq_res.py", line 10, in <module>
    out_line = ('{:<3} '*13).format(single_to_tripple(line[0]),single_to_tripple(line[1]),single_to_tripple(line[2]),single_to_tripple(line[3]),single_to_tripple(line[4]),single_to_tripple(line[5]),single_to_tripple(line[6]),single_to_tripple(line[7]),single_to_tripple(line[8]),single_to_tripple(line[9]),single_to_tripple(line[10]),single_to_tripple(line[11]),single_to_tripple(line[12]))
IndexError: string index out of range 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T12:06:18.390

您必须手动输入这么多变量的事实应该给您一个提示，即您正在做的事情超出了产生该输出的必要性。

在不更改大部分原始代码的情况下，可以这样做：

```
for i,v in enumerate(xrange(0,len(seq),13)):
    line = seq[v:v+13]
    out_line = ' '.join('{:<3}'.format(single_to_tripple(part)) for part in line)
    print out_line 
```

正如 Martijn 指出的那样，三元组始终是三个字符，因此您实际上可以跳过格式：

```
out_line = ' '.join(single_to_tripple(part) for part in line) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T12:09:24.473

您只需要将字符串连接在一起，无需格式化：

```
for i,v in enumerate(xrange(0,len(seq),13)):
    line = seq[v:v+13]
    print ' '.join([single_to_tripple(part) for part in line]) 
```

这里没有必要使事情过于复杂。:-)

请注意，使用 时`str.join()`，请在生成器表达式上使用列表推导（因此包括`[...]`），因为*无论如何*`.join()`都会强制转换为列表，从而使列表推导更快。

 *结果（最后 3 行）：

```
ILE VAL MET PRO PRO LYS PRO ASP GLU ASN THR ALA ALA
LEU TRP GLN GLN LEU ALA ASP ALA GLN SER SER PHE ASP
PRO ARG LYS ASP TRP GLY LYS ALA 
```

您还可以使用`itertools`-based grouper 来简化循环：

```
from itertools import izip_longest

def grouper(n, iterable, padvalue=None):
    "grouper(3, 'abcdefg', 'x') --> ('a','b','c'), ('d','e','f'), ('g','x','x')"
    return izip_longest(*[iter(iterable)]*n, fillvalue=padvalue)

aa = {'R':'ARG','H':'HIS','K':'LYS','D':'ASP','E':'GLU','S':'SER','T':'THR','N':'ASN','Q':'GLN','C':'CYS','U':'SEC','G':'GLY','P':'PRO','A':'ALA','I':'ILE','L':'LEU','M':'MET','F':'PHE','W':'TRP','Y':'TYR','V':'VAL', None: ''}
def single_to_tripple(res):
    return(aa[res])

for line in grouper(13, seq):
    print ' '.join([single_to_tripple(part) for part in line]) 
```

我`single_to_tripple()`通过将映射*移出*函数（无需每次调用​​它时都定义它*）**并*添加一个键`None`（grouper 用`None`值填充最后一组）来增强您的函数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T12:08:23.380

您可以保存您的行长，而不是使用它：

```
def single_to_tripple(res):
    aa = {'R':'ARG','H':'HIS','K':'LYS','D':'ASP','E':'GLU','S':'SER','T':'THR','N':'ASN','Q':'GLN','C':'CYS','U':'SEC','G':'GLY','P':'PRO','A':'ALA','I':'ILE','L':'LEU','M':'MET','F':'PHE','W':'TRP','Y':'TYR','V':'VAL'}
    return(aa[res])

seq = 'ASALKDYYAIMGVKPTDDLKTIKTAYRRLARKYHPDVSKEPDAEARFKEVAEAWEVLSDEQRRAEYDQMWQHRNDPQFNRQFHHGDGQSFNAEDFDDIFSSIFGQHARQSRQRPATRGHDIEIEVAVFLEETLTEHKRTISYNLPVYNAFGMIEQEIPKTLNVKIPAGVGNGQRIRLKGQGTPGENGGPNGDLWLVIHIAPHPLFDIVGQDLEIVVPVSPWEAALGAKVTVPTLKESILLTIPPGSQAGQRLRVKGKGLVSKKQTGDLYAVLKIVMPPKPDENTAALWQQLADAQSSFDPRKDWGKA'
length = len(seq)

for i,v in enumerate(xrange(0,len(seq),13)):
    line = seq[v:v+13]
    length = len(line)
    out_line = ('{:<3} '*length).format(*[single_to_tripple(a) for a in line])
    print out_line 
```*

# php - php --version 显示的 php 版本与我预期的不同

> ID：15246852
> 
> 赞同：0
> 
> 时间：2013-03-06T12:01:58.100
> 
> 标签：php

这是我的 .bash_profile 中的一个片段

```
export MAMP_PATH=/Applications/MAMP/bin/php/php5.4.10/bin/php
export PATH="$MAMP_PATH:$PATH" 
```

但是当我跑步时

```
$ php --version 
```

我得到这个输出：

```
PHP 5.3.15 with Suhosin-Patch (cli) (built: Jul 31 2012 14:49:18) 
Copyright (c) 1997-2012 The PHP Group
Zend Engine v2.3.0, Copyright (c) 1998-2012 Zend Technologies 
```

为什么！？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:11:15.823

通过运行命令找出`php`正在调用的内容`which php`。

解决方案可能会更改`MAMP_PATH`为：

`export MAMP_PATH=/Applications/MAMP/bin/php/php5.4.10/bin`

（在您指定目录的路径中，而不是二进制文件）

# multithreading - SMP中多个线程在不使用锁的情况下写入单字节

> ID：15246862
> 
> 赞同：0
> 
> 时间：2013-03-06T12:02:24.463
> 
> 标签：multithreading, pthreads, mutex

我有一个多线程应用程序，它必须在 SMP 环境中运行，我正在从多个线程写入（无读取-修改-写入）到单个（或字长）字节全局内存。我可以在不使用任何同步机制（互斥量、信号量、自旋锁）的情况下做到这一点吗？

我的猜测是：CPU 对对齐内存的内存读/写是原子的。所以不需要锁定原子访问内存。

但是存在内存排序问题，即内存对 CPU 的可见性顺序可能与访问内存的顺序不同。为了解决这个问题，我们需要内存屏障指令。我们可以在用户空间代码中使用内存屏障指令吗？如果不是，要解决内存排序问题，我们必须使用 murtex 或 spinlock 吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T00:16:42.790

`GCC`提供了一个内置函数`__sync_synchronize()`来执行完整的内存屏障。

请注意，某些架构（如 Alpha）如果不在硬件级别执行读/修改/写周期，就无法写入单个字节。

# .net - WPF：按下 Alt 键时，我的 ContextMenu 不会打开

> ID：15246865
> 
> 赞同：2
> 
> 时间：2013-03-06T12:02:27.343
> 
> 标签：.net, wpf, contextmenu, alt-key

在我的 WPF 应用程序中，当 a`ContextMenu`打开时，我想根据是否`Alt`按下键来调整其菜单项。

我有逻辑工作。XAML：

```
<my:Control ContextMenuOpening="MyContextMenu_Opening" /> 
```

代码：

```
private void MyContextMenu_Opening(object sender, RoutedEventArgs args) {
  bool isAltDown = Keyboard.IsKeyDown(Key.LeftAlt);
  /* tweak menu items here */
} 
```

我的问题是当`Alt`按键被按下时，上下文菜单打开然后立即关闭（我可以在它打开的瞬间看到我的逻辑至少在工作）。

我想知道这是否是 WPF 的“功能”，因为如果我`Alt`在右键单击 a`TextField`的同时按住，也会发生同样的事情 - 内置的剪切/复制/粘贴菜单闪烁打开然后立即关闭。

一种预感是它与`Alt`激活应用程序菜单栏有关。但是应用程序菜单栏不适用于我的情况，所以如果解决方案涉及到弄乱它，它仍然对我有用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T13:10:01.650

这是 MenuBase 类中的内置行为：

```
 protected override void OnKeyDown(KeyEventArgs e)
        {
            .....
            if (((e.SystemKey == Key.LeftAlt) || (e.SystemKey == Key.RightAlt)) || (e.SystemKey == Key.F10))
            {
                this.KeyboardLeaveMenuMode();
                e.Handled = true;
            }
        } 
```

为什么不使用另一个修饰键？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T13:25:08.447

[这是MSDN MenuBase.OnKeyDown](http://msdn.microsoft.com/en-us/library/system.windows.controls.primitives.menubase.onkeydown.aspx)的内置行为

```
 If the user presses ESC, ALT+ALT, or ALT+F10, 
    this implementation marks the KeyDown event as handled 
    by setting the Handled property of the event data to true. 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-11-29T16:55:38.203

您仍然可以使用 Alt 键，只需覆盖基类行为：

```
public class AltProofContextMenu : ContextMenu
{
    protected override void OnKeyDown(KeyEventArgs e)
    {
        if(!(e.SystemKey == Key.LeftAlt || e.SystemKey == Key.RightAlt))
            base.OnKeyDown(e);
    }
} 
```

# php - Flash 到 Android 应用程序，如何在没有互联网的情况下使用“php”？

> ID：15246867
> 
> 赞同：0
> 
> 时间：2013-03-06T12:02:30.000
> 
> 标签：php, android, flash, pdf, apk

我想使用 Flash 和 Adob​​e AIR 制作一个 Android 应用程序。虽然我制作了很多在线 Flash 游戏，但我从未使用过导出到 Android 应用程序 (.apk)。

该应用不会出现在 Playstore 中。我会将它安装在 3 台平板电脑上并使用它们。该应用程序仅适用于这 3 款平板电脑。是为了某种训练。

在开始之前，我想知道这个功能是否可行：

该应用程序是某种测验，最后我想将分数和给定答案保存在平板电脑本身的 PDF 中。我以前使用过 PDF 的输出，但后来我需要 PHP……我将如何使用 Flash 和制作 Android 应用程序来做到这一点？当平板电脑未连接到互联网时，此功能也应该起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:17:21.237

我会避免在平板电脑本身上使用 PHP。在机器上安装额外的编程语言是非常复杂的，只是为了创建一个 PDF！

对于创建 PDF，我会向您推荐[这个问题](https://stackoverflow.com/questions/2499960/how-to-create-pdfs-in-android-sdk)（尤其是[这个答案](https://stackoverflow.com/questions/2499960/how-to-create-pdfs-in-android-sdk/4565602#4565602)），其中列出了一些离线创建 PDF 的方法。

对于导出闪存，正如@g00dy 所说，您可以使用 flex ¹，但就像“安装 PHP 以创建 PDF”一样，这对于测验来说*可能*有点矫枉过正。我并不是说它是，如果你有一个完美和完整的闪存准备好你可以导出它可能值得一试，但是当你必须开始构建时，你可能只想去原生？

^(1) [http://help.adobe.com/en_US/flex/mobileapps/WSc5cd04c102ae3e97-67096d2612dea547bfa-8000.html](http://help.adobe.com/en_US/flex/mobileapps/WSc5cd04c102ae3e97-67096d2612dea547bfa-8000.html))

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:08:42.063

这可能是您正在寻找的： http: [//phpforandroid.net/](http://phpforandroid.net/)

“SL4A（Android 脚本环境）是一个由 Google 托管的项目，它“通过允许您直接在 Android 设备上编辑和执行脚本和交互式解释器，将脚本语言带入 Android”。”

# html - 图片不尊重我给它的课程

> ID：15246869
> 
> 赞同：0
> 
> 时间：2013-03-06T12:02:33.870
> 
> 标签：html, css, image

下图不尊重我给它的 CSS 类。

![截屏](../Images/747a568e20f38150959ef64d8ca24b14.png)

我给了它一个最大高度和宽度，但它不尊重这一点，正如你所看到的那样，它只是在页面上扩展。

**CSS**

```
.tagline-img
{
    max-width: 350px;
    max-height: 330px;
} 
```

**HTML**

```
<img src="http://deadcyborg.com/deadcyborg_ep2wip1.jpg" class="tagline-img" alt="[articleimage]" /> 
```

该页面可在以下位置查看：[http ://www.gamingonlinux.com/test/](http://www.gamingonlinux.com/test/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:06:53.953

看起来您忘记将 CSS 定义包含在[`style.css`](http://www.gamingonlinux.com/templates/default/style.css).

搜索你的`.tagline-img`没有找到任何东西......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:04:57.690

试试这个

```
.articles-content img
    {
        max-width: 350px;
        max-height: 330px;
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T12:06:45.667

`tagline-img`该页面上包含的任何 CSS 文件中都没有样式。你确定你真的上传了修改后的样式表吗？

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-03-06T12:06:58.947

您没有对您给我们的链接上的图像应用任何类样式：[http ://www.gamingonlinux.com/test/](http://www.gamingonlinux.com/test/)

检查您的样式表是否正确加载。

您可以使用 Chrome 检查器检查它：

![在此处输入图像描述](../Images/eb2f4966de6f57c693397e2c896994a8.png)

# java - 为什么我得到 null 而不是 Map 对象？如何解决这个问题？

> ID：15246870
> 
> 赞同：1
> 
> 时间：2013-03-06T12:02:34.617
> 
> 标签：java, android, android-asynctask, nullpointerexception

我正在编写一个 Android 应用程序，但遇到了一个问题：我得到了一个 null 而不是 ImmutableMap 对象。看来我的地图正在被垃圾收集。但我创建了对它的引用。所以这是我所有的源代码，在评论中详细描述了问题：

```
//I have a BaseActivity class in which i defined nested class
//which incapsulates some REST operations
public class BaseActivity extends Activity
 {   
//Here is this ImmutableMap to which I want save the result
private ImmutableMap<String, Object> serverData_;

//Here is this nested class which is AsyncTask
class RestfulNetworkTasks extends AsyncTask
    <Pair<String,LinkedHashMap<String, Object>>, Void, LinkedHashMap<String, Object>>
{    
     NetworkOperation LowLevelRestOperations_ = new NetworkOperation(); 
    @Override
    protected LinkedHashMap<String, Object> doInBackground(Pair<String,LinkedHashMap<String, Object>>... params)    
   { 
    return  LowLevelRestOperations_.executeServerCommand
          (params[0].getValue0(), params[0].getValue1());
    }
    protected void onPostExecute(LinkedHashMap<String, Object> result)
    {  
        //Here i created a reference to the result(in order
        //to save it in my data structure)
        serverData_ = copyOf(result);
        UpdateCurrentActivityAfterNetworkOperation();
        //Here I made a test output to check if i got the result
        //All is good - I got a correct result saved to serverData_
        android.util.Log.d("TEST RESPONSE", "ON POST" + serverData_);
    }
}//End of nested class declaration
   //Here is my method in which i want to call AsyncTask and got a problem
   public void  Login(LinkedHashMap<String,Object> parameters)
   {   
//Here I create an instance of that nested AsyncTask class
RestfulNetworkTasks serverOperation_ = new RestfulNetworkTasks();
Pair<String, LinkedHashMap<String, Object>> params_ = 
new Pair<String,LinkedHashMap<String,Object>>(LOGIN_COMMAND, parameters);
//Here I call AsyncTask operation - i got a correct ON POST output
     //with correct data
serverOperation_.execute(params_);

//But from this point my serverData_ is null!
//And I got null in AFTER POST output!Why?serverData_ is a member of BaseActivity so 
//it have to keep the result.
android.util.Log.d("TEST RESPONSE", "AFTER POST" + serverData_);
} 
```

那么如何解决这个问题呢？为什么调用执行后我的 serverData_ 为空？

我真的需要帮助——我对 Java 和 Android 很陌生，这个问题让我抓狂。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:11:43.220

> 调用执行后我的 serverData_ 为空？

因为*AsyncTask 是在单个后台线程上连续执行的，* 而不需要等待 UI 线程（如线程），直到线程执行未完成。

如果您想在主 ui 线程上等待，直到 AsyncTasks 计算未完成并返回结果，请使用[AsyncTask.get()](http://developer.android.com/reference/android/os/AsyncTask.html#get%28%29)。

例子：

```
serverOperation_.execute(params_).get();  //<<<< 

// now u get latest value in serverData_
android.util.Log.d("TEST RESPONSE", "AFTER POST" + serverData_); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T12:10:30.360

> 看来我的地图正在被垃圾收集。

不，这不是问题。您可能使用的对象不会被垃圾收集。永远不会。

真正的问题是变量在使用之前没有被赋值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T12:18:49.063

似乎对象 serverData_ 尚未初始化，在您调用的代码中 serverData_ = copyOf(result); 线程中的语句，可能会在将来执行，在此之前您使用 serverData_ 在 onPostExecute 完成之前将为空。请等到您的 AsyncTask 完成。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T12:19:15.703

问题是 ImmutableMap。如果这是 google 版本，一旦创建就无法更改。一种解决方案是使用常规的 java 库函数来分配和构建 Map，然后使用 Collections 接口返回和不可修改的视图；就像是：

```
HashMap<String, Object> modifiableMap = new HashMap<String, Object>();   
modifiableMap.put("1", new Object());   
modifiableMap.put("2", new Object());   
Map<String, Object> unmodifiableMap = Collections.unmodifiableMap(modifiableMap); 
```

或者，您可以坚持使用 google 实现，但您需要使用他们的构建器方法；就像是：

```
ImmutableMap<String, Object> map = ImmutableMap.builder()
    .put(key, value);
    .build(); 
```

# asp.net - 在 Mono 上使用 F# 和 ASP.NET Webforms

> ID：15246871
> 
> 赞同：4
> 
> 时间：2013-03-06T12:02:35.693
> 
> 标签：asp.net, f#, mono, webforms

我正在开始一个 uni 类，我们必须在其中使用 webforms 制作一个 web 应用程序（遗憾的是我们不允许使用 MVC），但我们可以使用 VB 或 F#。我想使用 F# 来编写文件背后的代码，但我在 mac 上开发，所以我使用 Mono。我没有任何使用 Mono 的经验，在 Windows 上使用 C# 的经验也很少。

我安装了 Mono 3 beta 和 F# PowerPack。

我对 Xamarin Studio 进行了一些实验，并让 F# 库和控制台应用程序编译和运行，但是当我使用 F# Web 应用程序模板时，它会编译，但在查看任何页面时都会出现 500 错误。我发现这个错误是因为它不知道如何编译它或其他东西。

有没有办法让它在 webforms 项目中工作，或者我必须把它变成一个库并以某种方式引用它？我该如何做这些？

非常感谢您的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T13:31:50.233

使用[MonoDevelop](http://monodevelop.com/)，您可以安装 F# 语言绑定（通过 MonoDevelop 插件管理器），安装后您应该获得使用 F# 创建 Web 应用程序（Web 窗体和 MVC）的新模板。

**[在 MonoDevelop Web Stacks for F#](http://fsharp.org/webstacks/index.html)
[中使用新的 ASP.NET MVC 4 模板的](http://bloggemdano.blogspot.de/2012/12/using-new-aspnet-mvc-4-template-in.html)**参考资料****

# android - 从双 sim 卡设备的图库中选择图像

> ID：15246873
> 
> 赞同：0
> 
> 时间：2013-03-06T12:02:38.880
> 
> 标签：android

当我从图库中选择图像时，应用程序类对象再次创建。此问题仅在某些设备中发生，我认为仅在双 SIM 设备中，在其余设备中工作正常。请告诉我为什么会这样。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:11:10.820

我认为问题与电话支持的 SIM 卡数量无关。如果 Android 决定终止应用程序以获取当前前台应用程序的一些内存，则将创建应用程序对象。从您的问题来看，尚不清楚您是从自己的应用程序还是从其他应用程序加载图像。

1.  如果您使用来自另一个应用程序的图像可能是为了显示这些图像 Android 需要一些额外的内存，因此它决定终止您的应用程序（和/或其他一些后台应用程序）。当您返回您的应用程序时，该应用程序将正常重新启动。

2.  如果您从应用程序内部加载图像并且应用程序崩溃，那么您的代码存在一些问题。尝试使用日志进行调试，并使用更多详细信息更新您的问题。

# wso2 - WSO2 ESB 改变了 wsdl

> ID：15246877
> 
> 赞同：1
> 
> 时间：2013-03-06T12:02:54.477
> 
> 标签：wso2, esb

我有一个后端服务，我在 WSO2 ESB 中配置为代理服务。

ESB 公开了稍微不同的 wsdl，这也是有效的并且可以按预期工作。

问题是由于结构发生了变化，我无法将旧存根与 ESB wsdl 一起使用。我想以这样一种方式创建服务，即来自 ESB 的 wsdl 与我的端点服务完全相同。

这种方法是可行的还是我需要再次生成存根（在我的情况下这需要付出很多努力）？

编辑：端点和 esb wsdl 之间 WSDL 的区别 1\. 例如，我的端点有以下标签

```
<xs:element name=", - Endpoint
<xsd:element name=  - ESB 
```

2.另一个区别是：

```
<wsdl:service name="CasesServiceService"> - Endpoint
<wsdl:service name="CasesService"> - ESB 
```

3.端口名称：

```
<wsdl:port name="CasesServiceHttpSoap11Endpoint" binding="tns:CasesServiceSoap11Binding">
<wsdl:port binding="tns:CasesServiceServiceSoapBinding" name="CasesServicePort"> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-08T12:50:49.000

为了使 WSO2 ESB 使用完全相同的服务/端口名称保持相同的 WSDL 合同，您可以直接为您的代理服务编辑 Apache Synapse 配置文件。只需点击 WSO2 ESB 界面中的“Source View”，将以下参数添加到`<proxy>`节点：

```
<parameter name="useOriginalwsdl">true</parameter>
<parameter name="modifyUserWSDLPortAddress">true</parameter> 
```

这将使它使用原始的 WSDL 并仅修改端口地址，使其指向总线。

相关文档在[这里](http://synapse.apache.org/userguide/config.html#ProxyServiceConfig)。

# php - codeigniter echo 查询结果数组

> ID：15246878
> 
> 赞同：3
> 
> 时间：2013-03-06T12:02:56.247
> 
> 标签：php, sql, arrays, codeigniter

模型内部方法：

```
 public function get_fichas(){

    $query = $this->db->query("SELECT * FROM fichas;");

    return $query->result();

} 
```

然后，我试图将此数据传递给控制器​​。控制器上的方法：

```
public function listar_fichas(){

    $data['fichas_info'] = $this->fichas_model->get_fichas();
    $this->load->view('templates/header');
    $this->load->view('fichas/listar_fichas', $data);

} 
```

当我尝试在视图中列出数据时，出现以下错误：

> “致命错误：不能使用 stdClass 类型的对象作为数组”

这是我试图列出的方式：

查看文件：

```
<?php foreach($fichas_info as $row){?>
    <table>
        <tr>
            <td><?php echo $row['cod_produto'] ;?></td>
            <td><?php echo $row['nome_produto'] ;?></td>
            <td ><?php echo $row['versao'];?></td>
        </tr>
    </table>
<?php }?> 
```

我认为我在视图上做错了什么。也许我将数据错误地传递给视图。有人可以告诉我我做错了什么吗？谢谢！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-06T12:04:38.210

```
<td><?php echo $row['cod_produto'] ;?></td>
<td><?php echo $row['nome_produto'] ;?></td>
<td><?php echo $row['versao'];?></td> 
```

应该：

```
<td><?php echo $row->cod_produto ;?></td>
<td><?php echo $row->nome_produto ;?></td>
<td ><?php echo $row->versao;?></td> 
```

结果集是一个对象，因此每个列名都是该对象的一个​​属性。您正在将它们作为数组的索引进行访问。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-06T17:47:50.490

您正在以对象的形式获取结果，但尝试以数组的形式访问数据。你可以做几件事来解决这个问题：

通过将 foreach 循环更改为以下内容，继续访问视图中的数据：

```
 <?php foreach($fichas_info as $row) { ?>
        <table>
            <tr>
                <td><?php echo $row->cod_produto; ?></td>
                <td><?php echo $row->nome_produto; ?></td>
                <td><?php echo $row->versao; ?></td>
            </tr>
        </table>
    <?php endforeach; ?> 
```

这将访问您的对象中的数据。另一种选择是更改模型中的 get_fichas() 函数以将结果作为数组返回。您可以使用 result_array() 函数，而不是使用 result() 函数。展示：

```
 public function get_fichas(){
        $query = $this->db->query("SELECT * FROM fichas;");
        return $query->result_array();
    } 
```

这会将数组而不是对象返回给您的控制器。然后，您可以像循环任何其他数组一样在您的视图中遍历该数组。

查看[http://ellislab.com/codeigniter/user-guide/database/results.html](http://ellislab.com/codeigniter/user-guide/database/results.html)以获取有关使用 CodeIgniter 生成查询结果的更多信息。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-06T12:05:39.163

做这个 ：

```
<?php foreach($fichas_info as $row){?>
<table>
   <tr>
    <td><?php echo $row->cod_produto ;?></td>
     <td><?php echo $row->nome_produto ;?></td>
    <td ><?php echo $row->versao;?></td>
  </tr>
  </table>
  <?php }?> 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-06T12:05:59.110

由于您将结果作为对象获取。所以你应该在你的视图中使用这样的。

```
<?php foreach($fichas_info as $row){?>
<table>
       <tr>
        <td><?php echo $row->cod_produto ;?></td>
         <td><?php echo $row->nome_produto ;?></td>
        <td ><?php echo $row->versao;?></td>
      </tr>
      </table>
      <?php }?> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T12:11:29.983

我认为你需要这个：

```
<?php foreach($fichas_info as $row){?>
<table><tr>
    <td><?php echo $row->cod_produto ;?></td>
     <td><?php echo $row->nome_produto ;?></td>
    <td ><?php echo $row->versao;?></td>
</tr></table>
<?php }?> 
```

# asp.net-mvc-4 - 元标记中的绝对网址

> ID：15246881
> 
> 赞同：1
> 
> 时间：2013-03-06T12:03:00.443
> 
> 标签：asp.net-mvc-4, razor-2

如何在元标记中设置绝对网址？假设我的 MVC4 Web 应用程序中有以下标签。

```
<link rel="image_src" href="~/content/logo-large.png" /> 
```

当我运行网络应用程序时，我在 href 中解析了相对 URL，但我需要获取绝对 URL。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T20:21:14.893

Luke Duddridge 已经为您指出[了正确的帖子](https://stackoverflow.com/questions/126242/how-do-i-turn-a-relative-url-into-a-full-url)，这里是您问题最有用答案的链接：[https](https://stackoverflow.com/a/9020514/177710) ://stackoverflow.com/a/9020514/177710 。像这样使用它：

```
<link rel="image_src" href="@Url.AbsoluteContent("~/content/logo-large.png")" /> 
```

# image - Joomla .htaccess - 图像消失了

> ID：15246882
> 
> 赞同：0
> 
> 时间：2013-03-06T12:03:00.390
> 
> 标签：image, .htaccess, joomla, file-permissions

我在 joomla 安装图像文件夹中打开了一个文件夹（/images/Icons），其中包含一个包含此内容的 .htaccess 文件

```
Header set Access-Control-Allow-Origin * 
```

然后我将该文件夹移至根目录并从中删除 .htaccess 。现在 Joomla CMS 不再识别图像，而是将图像文件夹识别为“可写”。

我该如何解决？

# html - 通过单击框架中表单的提交按钮来导航整个页面

> ID：15246883
> 
> 赞同：0
> 
> 时间：2013-03-06T12:03:03.650
> 
> 标签：html, frames

我在 HTML 页面中有 3 个框架，并且框架中有一个带有提交按钮的表单。当我点击 submit 时，相应的框架被重新加载而不是整个页面。如何使整个页面导航？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:07:35.257

把它放在你的一个框架内

```
 <input type="Submit" onclick="parent.location.reload();" value="Submit"> 
```

# flash - 如何优化Flash游戏？

> ID：15246884
> 
> 赞同：0
> 
> 时间：2013-03-06T12:03:07.227
> 
> 标签：flash, actionscript

在我的 Flash 游戏中，我有很多循环的子弹、敌人、物体和其他东西，而且这些物体也有它们的动画，所以如果有很多物体，游戏会变慢，有没有办法让它工作得更快？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T13:24:52.693

这个问题太笼统了。您可以优化您的图形 - 最小化每个形状中的矢量。将导出标记为 MovieClips 的位图选项。减少蒙版、阿尔法和图层。使用“在 FP 中显示重绘选项”来查看是否有任何不必要的重绘发生。在代码重用对象中，避免在循环中创建对象。您可以跨多个输入帧拆分一些逻辑。你可以使用工人。这个问题太笼统了，无法得到一个简单的答案。检查这篇文章： [链接](http://help.adobe.com/en_US/flash/cs/using/WSd60f23110762d6b883b18f10cb1fe1af6-7b23a.html) 和这个[链接](http://www.nbilyk.com/optimizing-actionscript-3)

# android - 如何使 Google Mapview 从较小的 mapview 更改为全屏？

> ID：15246891
> 
> 赞同：6
> 
> 时间：2013-03-06T12:03:21.547
> 
> 标签：android, google-maps

我在屏幕一角有一个谷歌地图视图。我想添加一个事件，使其在地图界面上使用一个按钮使其全屏显示，然后使用相同的按钮再次小屏幕。有任何想法吗？？

安卓 v4.0.4 谷歌地图API V2

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T12:12:31.650

你可以通过两种方式做到这一点：

1.  创建一个新`Activity`的，在按下按钮时将开始，并将包括一个全屏地图。在此活动中，创建相同的按钮，让您回到原来的状态`Activity`。

2.  您可以`MapFragment`在同一窗口中以编程方式将布局宽度更改为您的长度。

第二个选项会更好，因为您可以避免新活动加载的屏幕闪烁。

**更新：**

关于第二个选项，这是我编写的用于放大地图 onClick 地图的代码，看看这是否对您有帮助：

```
 @Override
 public void onMapClick(LatLng point) 
{
    LinearLayout mapFrameLayout = (LinearLayout)findViewById(R.id.mapFrameLayout);

    if (!isMapOpen)     
    {
        LinearLayout.LayoutParams fullMapParams = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT);
        if (!isDetailsOpen)
        {
            FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();
            fragmentTransaction.hide(closedDetailsFragment).commit();
            mapFrameLayout.setLayoutParams(fullMapParams);
            isMapOpen = true;
            isDetailsOpenWhenOpenedMap = false;
        }
        else
        {
            FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();
            fragmentTransaction.hide(openedDetailsFragment).commit();
            mapFrameLayout.setLayoutParams(fullMapParams);
            isMapOpen = true;
            isDetailsOpenWhenOpenedMap = true;
        }
    }
    else
    {
        LinearLayout.LayoutParams defaultMapparams = new LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, 280);
        mapFrameLayout.setLayoutParams(defaultMapparams);
        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();
        if (isDetailsOpenWhenOpenedMap)
        {
            fragmentTransaction.show(openedDetailsFragment).commit();               
        }
        else
        {
            fragmentTransaction.show(closedDetailsFragment).commit();
        }
        isMapOpen = false;
    }
} 
```

如您所见，我更改了`FrameLayout`地图所在位置的大小，例如，您可以将按钮放在相同的布局中并将其放置在右上角。当您的地图将拉伸时，按钮仍将位于同一个右上角| 右上角。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:05:55.260

使用全屏地图和您需要的所有按钮/功能点击开始新活动。使用 putExtra 在启动互联网（例如位置坐标）上传递所需参数，瞧.. ;)

# ruby-on-rails - 如何使用 rails 从 amazon s3 存储桶获取图像到我的本地系统？

> ID：15246894
> 
> 赞同：1
> 
> 时间：2013-03-06T12:03:31.607
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, amazon-s3

我已经使用 Ruby on Rails 工作了几个月。我的要求是将 Amazon S3 中的图像带到本地系统。我能够得到对象，但没有得到图像。

我已经编写了以下代码。

```
s3_details = YAML.load(File.read("#{Rails.root}/config/s3.yml"))    
s3 = AWS::S3.new(
  :access_key_id      => s3_details[Rails.env]['s3_access_key'],
  :secret_access_key  => s3_details[Rails.env]['s3_secret'] 
)
bucket = s3.buckets['bucket_name'] 
bucket.objects 
```

有谁能够帮我？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T13:08:47.130

我会看看[雾](https://github.com/fog/fog)。
它具有支持多个提供商的巨大优势。所以如果明天，你想使用 S3 以外的东西，你可以很容易地使用相同的 API。

您也可以非常轻松地读取文件。

```
connection = Fog::Storage.new({
  provider:              'AWS',
  aws_access_key_id:     '',
  aws_secret_access_key: ''
})
directory = connection.directories.new(key: 'bucket_name')

directory.files.each do |s3_file|
  File.open(s3_file.key, 'w') do |local_file|
    local_file.write(s3_file.body)
  end
end 
```

上面的示例将连接到存储桶`bucket_name`，并下载在那里找到的所有文件。

# c# - 允许 DataGridView 列标题滚动

> ID：15246906
> 
> 赞同：1
> 
> 时间：2013-03-06T12:04:10.227
> 
> 标签：c#, winforms, datagridview, scroll

向下滚动网格时，是否可以使`DataGridView`列标题与其他行一起滚动到视图之外？即不要让它们始终可见？

是否有`DataGridView`允许这样做的属性？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:23:22.073

我不知道您可以设置任何设计时属性，但也许您可以做这样的事情？*（未经测试，不确定它的性能如何。）*

```
 private void dataGridView1_Scroll(object sender, ScrollEventArgs e)
    {
        if (e.ScrollOrientation == ScrollOrientation.VerticalScroll)
            dataGridView1.ColumnHeadersVisible = (e.NewValue == 0);
    } 
```

# android - 加载 webview 时的 Android 启动画面

> ID：15246911
> 
> 赞同：3
> 
> 时间：2013-03-06T12:04:22.090
> 
> 标签：android, webview, splash-screen

我想在 Webview 加载时加载启动画面。我正在使用下面的代码，但 10 秒后我看到一个黑色的 webview。请帮忙。

```
public class MainActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        setContentView(R.layout.activity_main);
        progressBar = (ProgressBar) findViewById(R.id.progressBar1);

        WebView myWebView = (WebView) findViewById(R.id.webview);
        WebSettings webSettings = myWebView.getSettings();
        webSettings.setJavaScriptEnabled(true);
        myWebView.setVerticalScrollBarEnabled(false);
        myWebView.setHorizontalScrollBarEnabled(false);
        myWebView.getSettings().setLoadWithOverviewMode(true); 
        myWebView.getSettings().setUseWideViewPort(true);
        myWebView.getSettings().setRenderPriority(RenderPriority.HIGH);

        WebView webView = (WebView) findViewById(R.id.webview);
        webView.addJavascriptInterface(new WebAppInterface(this), "Android");
        myWebView.setWebViewClient(new WebViewClient());
        myWebView.setWebViewClient(new MyWebViewClient());
        myWebView.loadUrl("http://www.XXXXXXX.com);
        setContentView(R.layout.splash);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }

    private class MyWebViewClient extends WebViewClient {

         public void onPageFinished (WebView myWebView, String url) {
             setContentView(R.layout.activity_main);
            } 
 } 
```

我希望在加载 webview 时，显示带有应用程序徽标的启动画面。我该怎么做呢 ？我的代码正确吗？一段时间后我得到了 webview，但它似乎是空白的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:31:03.320

请在您设置启动画面的位置显示一个对话框或启动另一个活动。

```
  setContentView(R.layout.splash);
```

将此行替换为您喜欢的解决方案，无论是看起来像启动画面的服装对话框，还是新活动中的另一个完整启动屏幕。

如果您启动新活动，则将活动实例保留在 MainActivity 中，当您的网页加载完成后，完成启动屏幕活动。

我更喜欢你为它制作全屏对话框，因为与你的情况相比，它更容易维护对话框。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:17:36.160

**我会建议你制作一个自定义对话框并在其中放置图像视图并在 webview 的onPageStarted**方法上设置你想要的背景图像

```
@Override
                public void onPageStarted(WebView view, String url,
                        Bitmap favicon) {
                    // TODO Auto-generated method stub
                    super.onPageStarted(view, url, favicon);
                    ProgressDialog();
                    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T12:48:03.787

`setContentView()`不建议多次调用。将一个添加`ImageView`到您的主布局（将其设置`src`为您的初始屏幕图像）。默认使用隐藏`imageView.setVisibility(View.INVISIBLE);`。当您开始加载新页面时，将`webView`可见性更改为`INVISIBLE`和`imageView`可见性为`VISIBLE`in function `onPageStarted()`。加载完成后，在函数中更改`imageView`to`INVISIBLE`的可见性和更改 to 的可见`webView`性。`VISIBLE``onPageFinished()`

# java - Android 更改视图内容作为功能执行

> ID：15246914
> 
> 赞同：0
> 
> 时间：2013-03-06T12:04:23.667
> 
> 标签：java, android, xml, dynamic

我想在函数执行过程中动态更改视图的内容。具体来说，我有一个记录用户音频的功能。这将被多次调用（比如说 2 次）。我想拥有它，以便用户只按一次记录按钮，并且视图会更改以引导用户完成整个过程，例如：

1.  用户按下录制按钮。
2.  TextView1 出现并显示“录制音频第 1 部分”。
3.  调用记录函数。
4.  TextView1 发生变化，因此它显示“音频第 1 部分录制成功”。
5.  在 TextView1 下会​​弹出一个新的 TextView2，上面写着“录制音频第 2 部分”
6.  再次调用记录函数。
7.  TextView2 发生变化，现在显示“音频 Part2 录制成功”

我已经尝试使用 setContentView() 方法来实现这一点，但视图不会改变给用户，他们只是遇到了应该出现在最后的视图（即第 1 部分成功记录，第2 部分成功记录）。根据我的阅读，我了解到发生这种情况是因为 setContentView() 在所有函数执行完成之前不会将视图绘制到屏幕上。

必须有一种方法可以在 android 中动态更新视图，但经过数小时的搜索，我无法完全找到我正在寻找的东西。任何建议将不胜感激。

编辑：我已经尝试过设置文本，但它不像上面描述的那样工作。setText 更改文本视图的内容，但只有在所有其他操作完成后才会这样做，所以如果我有：

 `````
Function(View view)
{
    TextView tv = findViewById(R.Id.textView1);
    tv.setText("Before");
    record();//records two seconds of audio
    tv.setText("After")
} 
````  `使用上面的代码，用户不会在文本视图中看到“之前”。他们只会看到“After”，因为它只会在整个函数执行完成后才会绘制到屏幕上。

编辑2：经过几天的打磨，我找到了解决方案。我在android中使用AsyncTask。我之前不知道这门课，所以我不知道该怎么做。对于有类似问题的任何人，这是我正在工作的解决方案。

 `````
//In Activity
public void whenButtonPushed(View view)
{
    new RecordAsyncTask(this,RecordAudio.this).execute();
    TextView tv = (TextView)findViewById(R.id.TextView1);
    tv.setText("Before"); // Before appears on screen to user and is later replaced with after from within the AsyncTask
} 
````  `当我调用 AsyncTask 时，我将上下文和活动的参数传递给它。因此，当它完成其任务时，它可以根据需要更新屏幕。我使用 AsyncTask 基于这个[Refresh Game Score TextView设计了我的 AsyncTask 类](https://stackoverflow.com/questions/9984909/refresh-game-score-textview-using-asynctask)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:09:02.373

由于您希望将文本以程序方式放置，您应该将其应用到您的代码中，而不是 XML 布局文件中。

所以你必须在你的布局中创建一个`TextView`，通过以下方式在你的代码中找到它：

```
TextView tv = (TextView)findViewById(R.id.your_text_view_id); 
```

然后，在执行您的函数期间，通过此命令相应地更改它的文本：

```
tv.setText("desired text"); 
```````

# css - 看不懂“CSS The Definitive Guide 3rd edition”中的一段

> ID：15246917
> 
> 赞同：3
> 
> 时间：2013-03-06T12:04:33.013
> 
> 标签：css

在“CSS The Definitive Guide 3rd edition”，第 166 页，有一段描述了关于水平边距的行为：

> 请注意，由于水平边距不会折叠，父元素的内边距、边框和边距会影响其子元素。这种影响是间接的，因为元素的边距（等等）可以引起子元素的偏移。

我也无法理解本书为此行为提供的示例：

[http://jsfiddle.net/PjTA3/](http://jsfiddle.net/PjTA3/)

HTML：

```
<div>
    <p>A paragraph</p>
    <p>Another paragraph</p>
</div> 
```

CSS：

```
div {padding: 30px; background: silver;}
p {margin: 20px; padding: 20px; background: white;} 
```

谁能给我解释一下？非常感谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T12:27:56.617

[我创建了一个小提琴来提供正在讨论的代码的实时示例](http://jsfiddle.net/barney/sVnKM/)。如果您使用的是 Chrome 或类似的现代浏览器，您可以右键单击示例中的段落并选择“检查元素”以查看填充和边距如何交互。

有问题的段落写得很糟糕，我同意。它开始说*“水平边距不会塌陷”*，然后给出一个没有相邻水平边距的例子来证明这个断言。该示例确实具有相邻的*垂直*边距（第一段的下边距，第二段的上边距），我们可以看到它们*确实*折叠（它们占据相同的空间：检查一个元素，然后检查另一个元素）。

但是，这与示例中演示的非堆叠偏移无关，即段落的*非相邻边距从包含 div 的**填充*边缘偏移它们- 因此为什么第一段的顶部，左侧，和右边缘`50px`来自 div 的外边缘（`20px`边缘来自`<p>`+`30px`填充`<div>`）。

我认为该示例的准确标题最好写为

> 通常，边距、填充和边框不会折叠——除了块级元素的垂直边距（[规范](http://www.w3.org/TR/CSS21/box.html#collapsing-margins)中定义的例外情况）。内联元素的定位不受垂直尺寸的影响。

### 编辑：

*更正了替代标题中的轻微不准确之处：例外情况，以及原始段落的“水平边距不会折叠”*的断言仍未得到证实：[我在这里创建了一个类似的小提琴来证明这一点](http://jsfiddle.net/barney/YgBz9/)。

在第二个示例中，我们将 s 替换`<span>`为内联元素`<p>`，这使我们可以看到元素自然地水平排列：与第一个示例不同——第二个段落的上边距折叠到第一段的下边距——第二个段落的左边距不会折叠到第一个右边距，而是紧随其后——将它们`40px`分开。

顺便说一句，这也表明*内联*元素的垂直填充、边框和边距*确实会*折叠：这些跨度的顶部和底部填充和边距不会影响它们与容器的偏移量。

# gmail - Java邮件API，看不见的消息没有像我预期的那样工作

> ID：15246931
> 
> 赞同：0
> 
> 时间：2013-03-06T12:05:20.507
> 
> 标签：gmail, jakarta-mail

```
private Message[] getNewMssgs() {
    Message message[];
    try {
        Session session = Session.getInstance(new Properties(), null);
        store = session.getStore("pop3s");
        store.connect(host, username, password);
        inbox = store.getFolder("INBOX");
        inbox.open(Folder.READ_WRITE);
        Flags seen = new Flags(Flags.Flag.SEEN);
        FlagTerm unseenFlagTerm = new FlagTerm(seen, false);
        message = inbox.search(unseenFlagTerm);
    } catch (Exception e) {
        informError(e);
        return null;
    }
    if (message!=null)
            if (message.length>0) 
                return message; 
    return null;
} 
```

这是我用来从 gmail 读取邮件的方法，它在大多数情况下都很好用，但有时即使我在浏览器上的 gmail 帐户上看到新的消息，它也会返回 null（这意味着它认为那里没有新的 mssgs是）...有人熟悉吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T20:19:13.643

如[com.sun.mail.pop3 包](http://javamail.kenai.com/nonav/javadocs/com/sun/mail/pop3/package-summary.html)的文档中所述，POP3 协议不支持任何标志。请改用[IMAP 协议](http://www.oracle.com/technetwork/java/javamail/faq/index.html#gmail)。

# javascript - 在 Backbone.js 中创建单选按钮

> ID：15246933
> 
> 赞同：0
> 
> 时间：2013-03-06T12:05:23.810
> 
> 标签：javascript, backbone.js

如何添加标签名称 age 和 2 个值 0 :on 1: 0ff 的单选按钮并在模板中查看。

```
<label>age:</label>
     <input type="radio" name="age" value="0" checked="checked"> off
     <input type="radio" name="age" value="1"> on 
```

我希望将此作为属性添加到模型并在模板中查看。任何人都可以帮忙吗？我知道backbone.js 的基础知识。

我确实喜欢下面的下拉框。

```
 $(function(){
    var person = new Person({baudrate:{4:1200,5:2400,6:4800,7:9600,8:19200}});
    app = new View({model: person});
        app.render();
    View = Backbone.View.extend({
el: "#form",
render: function() {
    var html = _.template($('#form-tpl').html(), this.model.toJSON());
    this.$el.html(html);
} 
});
    <script type="text/template" id="form-tpl">
     <label>Baud Rate:</label>
    <select id="baudrate">
                              <% for (var key in baudrate) { %>
                                 <option value="<%=key%>"><%=baudrate[key]%></option>
                                  <% } %>
                       </select>

 </script> 
```

# c# - SQL 等效于 C# BigInteger

> ID：15246935
> 
> 赞同：3
> 
> 时间：2013-03-06T12:05:26.973
> 
> 标签：c#, sql-server, tsql

因此，我一直在使用**.NET 4**`BigInteger`中引入的新类来存储**非常大**的数字。

 ****现在，我开始考虑将这些数字保存到数据库 ( **SQL Server** )。我的问题是，这甚至可能吗？据我所知和我所研究的，SQL 数据类型不包含对应于行为的属性`BigInteger`（理论上没有最小值或最大值）。

我见过的最接近的是`bigint`，但它的**最小值**和**最大值**是。`-2^63 (-9,223,372,036,854,775,808)`**`2^63-1 (9,223,372,036,854,775,807)`**

 *** * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-06T12:07:29.170

如果您的 SQL 服务器的[`DECIMAL`](http://msdn.microsoft.com/en-us/library/ms187746.aspx)类型不支持您需要的精度，您将只能选择将数字存储为字符串或二进制文件，即存储在`VARCHAR`,`TEXT`或`VARBINARY`字段中。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-06T12:09:08.520

您可以将调用的结果存储`yourBigInt.ToByteArray()`在 a 中，然后使用构造函数`VARBINARY(…)`检索它。`BigInteger(byte[])`

这种方法的主要缺点是 SQL Server 将值作为数字处理的能力将受到限制（可能仅限于比较它们）。再说一次，对于任何不适合`bigint`.******

# javascript - 在页面加载时突出显示单选按钮

> ID：15246936
> 
> 赞同：1
> 
> 时间：2013-03-06T12:05:35.133
> 
> 标签：javascript, coldfusion, radio-button, pageload, cfml

我在页面顶部有一个单选按钮来显示“没有选择的供应商”，然后是查询循环中的其他几个单选按钮。

```
<label>
  <input type="radio" id="nosupp" name="supp" onchange="resetSupp(this);">
  No Supplier Chosen
</label>

<cfloop query="supplier"
  <label>
    <input type="radio" id="chk1" name="supp" value="#supplier.id#" onchange="change(this);" <cfif getChosen.RecordCount>checked="Yes"</cfif>>
    Chosen Supplier
  </label>
</cfloop> 
```

所以我提交了包含这些按钮的表单，并且选中的按钮存储在数据库中。

然后，我使用 getChosen.RecordCount 查询数据库以检查单选按钮的值是否为“true”。

我遇到的问题是 getChosen.RecordCount 选择了正确的单选按钮，但没有我正在使用的红色突出显示。

这是我突出显示按钮的方式：

```
<script type="text/javascript">
  function change(obj) {
  var tr=obj.parentNode.parentNode;
  var tbl = tr.parentNode.parentNode;
  var inputs = tbl.getElementsByTagName("input");
  for(var i = 0;i<inputs.length;i++)
  inputs[i].parentNode.parentNode.style.backgroundColor='transparent';
  tr.style.backgroundColor=(obj.checked)? 'red' : 'transparent';
}

function resetSupp(obj) {
  var tr=obj.parentNode.parentNode;
  var tbl = tr.parentNode.parentNode;
  var inputs = tbl.getElementsByTagName("input");
  for(var i = 0;i<inputs.length;i++)
  inputs[i].parentNode.parentNode.style.backgroundColor='transparent';
  tr.style.backgroundColor= 'transparent';
}
</script> 
```

如何获取数据库中设置为“true”的按钮以在页面加载时突出显示？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T14:18:14.730

您已经编写了函数，但听起来好像您在页面加载后从未调用它来初始化所有内容。

要遵循最佳实践，您希望在完成`change(obj)`时调用`body.onload`。[这个问题](https://stackoverflow.com/questions/807878/javascript-that-executes-after-page-load)的答案涵盖了一些不同的方法。

最简单/最可靠的 (imo) 是使用 jQuery，但您似乎没有使用它。下一个最好的（同样，imo）是使用`document.onload=function`声明。

除非您只需要初始化一个输入，否则您可能需要编写另一个函数，该函数实际上循环遍历每个输入和调用`change(obj)`。然后，您将在触发`init()`时调用您的新函数。`body.onload`

所以，你会有

```
document.onload=init 
```

和

```
function init(){
    // loop through all your inputs
    // call change(obj) on each one
} 
```

**编辑**我刚刚重新阅读了你的 changeObj 并注意到你正在传递一个元素并使用 parentNode 备份 DOM 树，所以你已经在循环每个输入，所以我的伪代码`init`会有点偏离它的立场。不过，我可能会使用 getElementsByName 并传入输入组的名称，因此您不会在每次`change(obj)`调用时都重置每个输入。

# java - 从 Java 填充 JSP 页面中的表单

> ID：15246938
> 
> 赞同：0
> 
> 时间：2013-03-06T12:05:37.633
> 
> 标签：java, html, ajax, spring, jsp

我试图找到一种基于 Java 的结果在 JSP 页面中填充“表单”的方法。

所以这是我的 Javascript 代码：

```
$('#uSystemList').change(function() {
    $.get("/live-application/systemById", {systemid: $("#uSystemList").val()}, displayChangedSystemResults, "html");
});

function displayChangedSystemResults(html){
    $('#systemForm').empty();
    $('#systemForm').append(html);
} 
```

表格：

```
<form:form id="systemForm" method="post" action="/live-application/systemSave" commandName="systemForm">
<tr>
    <td valign="top"><form:select path="uSystemList" id="uSystemList"> </form:select> </td>
</tr>
<tr>
    <td valign="top"><form:input path="fSystemName"/></td>
</tr>
</form:form> 
```

Java方面：

```
@RequestMapping(value = "/systemById", method = RequestMethod.GET)
public void getSystemById(@RequestParam("systemid") String systemid, OutputStream outputStream) throws IOException {
    StringBuilder refreshHtml = new StringBuilder();
    try {
        String html = new String();
        if (!systemid.equals("")) {
            System system = service.getSystemById(systemid));

            html = html + "<input type='text' value='" + system.getName() + "' id='fSystemName' />";
        } 
        refreshHtml.append(hostHtml);
        outputStream.write(refreshHtml.toString().getBytes());
        outputStream.flush();
    } catch (Exception e) {
        outputStream.flush();
    }
} 
```

作为测试，我只想填充`fSystemName`表单的字段，但是当它返回`displayChangedSystemResults`函数时没有任何反应。谁能发现我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:36:06.213

更简单的实现方法是设置要显示请求属性的值并在 JSP 中访问它。

**在服务器端**

调整方法签名以包含 Spring 模型

```
public void getSystemById(@RequestParam("systemid") String systemid, Model model , OutputStream outputStream) throws IOException { 
```

**在请求处理方法中你可以做**

```
System system = service.getSystemById(systemid));
model.addAttribute("fSystemName", system.getName()); 
```

**然后使用 JST lib 在 JSP 中显示**

为了使用 JSTL，请将以下 jar 添加到您的`/WEB-INF/lib`

*   [jsf-api.jar](http://repo1.maven.org/maven2/javax/servlet/jsp-api/2.0/jsp-api-2.0.jar)
*   [jstl.jar](http://repo1.maven.org/maven2/javax/servlet/jstl/1.2/jstl-1.2.jar)

**编辑**

* * *

```
 <tr>
 <td valign="top"><input type="text" value="${fSystemName}"></input></td>
    </tr> 
```

**编辑 2**

你不应该直接处理输出流，你应该让 spring 为你做。理想情况下，您的方法应该返回 a `view name`，spring 会自动解决

检查下面的简单教程。这应该使您朝着正确的方向前进

[Spring 3 MVC Hellow 世界](http://www.mkyong.com/spring3/spring-3-mvc-hello-world-example/)

# javascript - Oembed For Instagram Jquery/JavaScript

> ID：15246949
> 
> 赞同：0
> 
> 时间：2013-03-06T12:05:59.980
> 
> 标签：javascript, jquery

我需要一点帮助，我想将 Instagram 嵌入我的网站，但我只能使用 Jquery 或 JavaScript，因为我的平台不支持 PHP。

我也尝试了一些东西，但它似乎不起作用。

[https://github.com/starfishmod/jquery-oembed-all](https://github.com/starfishmod/jquery-oembed-all)

期待您的回复。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-06T12:13:21.010

看看这个：[http](http://web.stagram.com/tools/#blog_parts) ://web.stagram.com/tools/#blog_parts ，为您的页面创建一个“小部件”！

# wsimport - 如何让 maven-jaxws-plugin 在从 xsd 生成的类上生成 @XmlElementWrapper？

> ID：15246950
> 
> 赞同：6
> 
> 时间：2013-03-06T12:06:00.370
> 
> 标签：wsimport, maven-jaxb2-plugin, jax-ws-customization, jaxb-xew-plugin

我正在使用 maven-jaxws-plugin 从我的 wsdl 模式生成 java 类。它不会在生成的类中生成 @XmlElementWrapper 注释。从[这篇](https://stackoverflow.com/questions/2447091/how-generate-xmlelementwrapper-annotation-with-xjc-and-customized-binding?rq=1)文章中，我了解到我需要使用 jaxb-xew-plugin，但无法使其与 maven-jaxws-plugin 一起使用。任何帮助，将不胜感激。这是我尝试过的配置

```
<plugin>
    <groupId>org.jvnet.jax-ws-commons</groupId>
    <artifactId>jaxws-maven-plugin</artifactId>
    <version>2.2</version>
    <executions>
    <execution>
        <goals>
                <goal>wsimport</goal>
            </goals>
            <phase>generate-resources</phase>
            <configuration>
                <xjcArgs>
                    <xjcArg>-no-header</xjcArg>
                    <xjcArg>-Xxew</xjcArg>
                    <xjcArg>-Xxew:instantiate lazy</xjcArg>
                    <xjcArg>-Xxew:delete</xjcArg>
                </xjcArgs>
                <extension>true</extension>

                <wsdlDirectory>${basedir}/src/main/resources</wsdlDirectory>
                <wsdlFiles>
                    <wsdlFile>attribute-service.wsdl</wsdlFile>
                </wsdlFiles>
                <sourceDestDir>${project.build.directory}/generated</sourceDestDir>
                <verbose>true</verbose>
                <keep>true</keep>
                <plugins>
                    <plugin>
                        <groupId>com.github.jaxb-xew-plugin</groupId>
                        <artifactId>jaxb-xew-plugin</artifactId>
                        <version>1.0</version>
                    </plugin>
                </plugins>
            </configuration>
        </execution>
    </executions>
</plugin> 
```

如果它只能与 maven-jaxb2-plugin 集成，你能帮我启动我的网络服务吗？本质上我如何指定 wsdl 以及如何生成服务类？（带有@WebService 注释）

谢谢，

巴迦

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-01-14T14:35:09.193

虽然这篇文章在我写这篇文章时已有 10 个月的历史，但我会回答它以防有人需要它。

使用 jaxws-maven-plugin 并在 jaxb-xew-plugin 的帮助下，您可以为列表/数组对象生成 @XmlElementWrapper 注释

假设您的 wsdl 具有如下架构：

```
<xs:element name="books" minOccurs="0" >
  <xs:complexType>
    <xs:sequence>
      <xs:element name="book" type="Book" minOccurs="0" maxOccurs="unbounded" />
    </xs:sequence>
  </xs:complexType>
</xs:element> 
```

它生成java为：

```
@XmlElementWrapper(name = "books")
@XmlElement(name = "book")
protected List<Book> books; 
```

这是构建/插件

```
<plugin>
    <groupId>org.codehaus.mojo</groupId>
    <artifactId>jaxws-maven-plugin</artifactId>
    <version>1.12</version>
    <configuration>
        <wsdlDirectory>${project.basedir}/src/main/webapp/WEB-INF/wsdl/</wsdlDirectory>
        <xjcArgs>
            <xjcArg>-no-header</xjcArg>
            <xjcArg>-Xxew</xjcArg>
            <xjcArg>-Xxew:instantiate lazy</xjcArg>
            <xjcArg>-Xxew:delete</xjcArg>
        </xjcArgs>
    </configuration>
    <executions>
        <execution>
            <id>wsdl_import</id>
            <goals>
                <goal>wsimport</goal>
            </goals>
        </execution>
    </executions>

    <dependencies>
        <dependency>
            <groupId>com.github.jaxb-xew-plugin</groupId>
            <artifactId>jaxb-xew-plugin</artifactId>
            <version>1.1</version>
        </dependency>

        <dependency>
            <groupId>com.sun.xml.bind</groupId>
            <artifactId>jaxb-xjc</artifactId>
            <version>2.2.4-1</version>
        </dependency>                   
    </dependencies>
</plugin> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-15T11:08:21.017

[jaxb xew 插件](https://github.com/dmak/jaxb-xew-plugin/tree/master/samples)的示例页面上提供了 jaxws maven 插件的配置示例。jaxws-maven-plugin 2.3.1-b03 与 jaxb-xew-plugin 1.2 一起工作正常。

# html - 更改 HTML 正常流程

> ID：15246957
> 
> 赞同：0
> 
> 时间：2013-03-06T12:06:28.307
> 
> 标签：html, css

谷歌搜索表明，这在任何地方都没有讨论过，但是：
**是否有可能改变 HTML 的正常流程？**
设计师制作了一个菜单栏，位于页面底部。菜单栏将是一个`<ul>`有很多`<li>`元素，向左浮动，但当到达页面末尾时，会继续向上，而不是向下。所以流动不是从左到右向下，而是从左到右向上。
我很确定这需要一些过于复杂的 JavaScript，要获得这种视觉效果，我们可能只需要更改设计即可。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T14:20:38.483

你想获得这样的东西：

```
Item4 item5 item6
item1 item2 item3 
```

item1..item6 是 li。

如果是，请测试以下内容：http: [//jsfiddle.net/3GLSz/3/](http://jsfiddle.net/3GLSz/3/)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-06T13:11:20.387

浮动的元素列表，通常表现为从左到右向下。您可以发布一些代码来重现您的行为吗？

在这种情况下，您还可以将 display:inline 或 inline-block 放到您的元素中。

# c# - InvalidCastException 从 DataBoundItem 获取值

> ID：15246960
> 
> 赞同：0
> 
> 时间：2013-03-06T12:06:34.137
> 
> 标签：c#, datagridview

我正在尝试使用源查询列名获取 DataGridView 行中单元格的值。DataGridView 是从 BindingSource 填充的（因为它的 DataSource 属性设置为 BindingSource。）

```
var obj = dataGridView1.CurrentRow.DataBoundItem;

var item = (DataRow)obj; 
```

在第二行我得到一个 InvalidCastException：

```
Unable to cast object of type 'System.Data.DataRowView' to type 'System.Data.DataRow'. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:53:19.273

我猜你的数据源是一个数据表。在这种情况下，DataBoundItem 的类型是 DataRowView 而不是 DataRow。这是基于 DataGridView 使用 DataTable 的默认视图这一事实。如果你想访问 DataRow 你需要这个：

```
 var obj = dataGridView1.CurrentRow.DataBoundItem;

        if (obj != null)
        {
            var item = ((DataRowView)obj).Row;
        } 
```

Ps：我总是避免显式转换理论上可以为空的对象。

# jquery - 但是，使用 Datatable 格式化表格，它不适用于我的所有表格，只有一个

> ID：15246964
> 
> 赞同：0
> 
> 时间：2013-03-06T12:06:54.193
> 
> 标签：jquery, ruby-on-rails, datatable

我在 application.js 中有以下内容，我也尝试将其放入 price.coffee.js

jQuery->

```
$('#container').dataTable(); 
```

但是，下表在 DataTable 设计中不会格式化：

```
<h2>Energy Prices</h2>

<p id="notice"><%= notice %></p>

<table id ="container" class="display">
<thead>
<tr>
    <th>ID</th>
    <th>Month</th>
    <th>Elec</th>
    <th>Gas</th>
    <th>Biomass</th>
</tr>
</thead>
<tbody>
<% @usages.each do |usage| %>
<tr>
    <td><%= usage.price.usage_id %></td>
    <td><%= usage.month.strftime("%b %Y") %></td>
    <% usage.price.attributes.each do |k,v| %>
        <% if v.nil? %>
            <td>N/A</td>
        <% elsif k != "created_at" && k != "updated_at" && k != "month" && k != "id" && k != "usage_id" %>
            <td><%= v %></td>
        <% end %>
    <% end %>
    <td><%= link_to "Edit", edit_price_path(usage) %> </td>
</tr>
<% end %>
</tbody>
</table> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:11:00.170

[每页只能使用一次](http://www.w3.org/TR/html5/dom.html#the-id-attribute)ID 。我想您的问题是您有多个表都使用相同的 ID。尝试使用`class`or`data-*`属性。

```
<table class="container">
$('table.container').dataTable(); 
```

或者：

```
<table data-whatever="container">
$('table[data-whatever="container"]').dataTable(); 
```

# c# - asp.net web api / mvc 中有没有办法使用来自引用的 dll 的上下文模型？

> ID：15246967
> 
> 赞同：2
> 
> 时间：2013-03-06T08:31:18.970
> 
> 标签：c#, asp.net, asp.net-mvc, asp.net-web-api

我只想知道是否可以在 asp.net web-api / mvc 中使用来自引用的 DLL 文件的上下文。因为我在这里所做的是为我的模型创建了一个单独的项目库，并希望通过将其添加为我的主项目的引用来使用它。但是当我创建一个 web-api 控制器，并选择来自引用的 DLL 的上下文时，它给了我一个不支持上下文的错误。

这可能吗？如果是这样，有人可以帮助我正确的方向吗？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-05-28T07:24:34.277

正如[Eric](https://stackoverflow.com/users/192536/eric-falsken)所说，它可以与实体框架一起正常工作，我假设你没有使用它尝试使用 poco entity install the nuget，它会给你一个单独的上下文以及你可以在其他项目中引用的模型。

我遇到了类似的问题，我向我的添加了`IDisposable`界面`DbContext`并且它有效。我还假设您在项目中添加了dll的引用

# php - 带有隐藏字段的PHP联系表格不起作用

> ID：15246968
> 
> 赞同：0
> 
> 时间：2013-03-06T12:07:04.350
> 
> 标签：php, forms, conditional-statements

我在一个网站上有两个不同的联系表格，我试图使用相同的 php 文件进行处理。我想在代码的一个部分使用此代码，“1”是第一个表单隐藏字段值，“2”是第二个表单的隐藏字段值。

```
if ($_POST['process']=='1'){} 
```

无论我做什么，我都无法让这段代码工作。我已经尝试删除上面的代码，并且联系表单提交得很好。我尝试的另一件事是将隐藏值更改为文本字段，以验证是否确实显示了一个值，确实存在。我还将“过程”隐藏字段值作为变量包含在内，并将其发送到电子邮件中，这对我来说似乎很奇怪。该变量的值在电子邮件中出现空白。我在这里做错了什么？这是我的代码：

```
 if(!$_POST) exit;
    function remove_non_numeric($string) {
    return preg_replace("/[^0-9.]/", "", $string);
    }

    function isEmail($email) {
    return preg_match("/^(?!.{255,})(?!.{65,}@)([!#-'*+\/-9=?^-~-]+)(?>\.(?1))*@(?!.*[^.]        {64,})(?>[a-z0-9](?>[a-z0-9-]*[a-z0-9])?\.){1,126}[a-z]{2,6}$/iD", $email);
    }
    if (!defined("PHP_EOL")) define("PHP_EOL", "\r\n");

    if ($_POST['process']=='1'){

$name     = $_POST['name'];
$email    = $_POST['email'];
$phone    = remove_non_numeric($_POST['phone']);
$comments = $_POST['comments'];
$verify   = $_POST['verify'];
$process  = $_POST['process'];

if(trim($name) == '') {
    echo '<div class="error_message">You must enter your name.</div>';
    exit();
} else if(trim($email) == '') {
    echo '<div class="error_message">Please enter a valid email address.</div>';
    exit();
} else if(trim($phone) == '') {
    echo '<div class="error_message">Please enter a valid phone number.</div>';
    exit();
} else if(!isEmail($email)) {
    echo '<div class="error_message">You have entered an invalid e-mail address, please try again.</div>';
    exit();
} else if(trim($comments) == '') {
    echo '<div class="error_message">Please enter your message.</div>';
    exit();
} else if(!isset($verify) || trim($verify) == '') {
    echo '<div class="error_message">Please enter the verification number.</div>';
    exit();
} else if(trim($verify) != '4') {
    echo '<div class="error_message">The verification number you entered is incorrect.</div>';
    exit();
}

if(get_magic_quotes_gpc()) {
    $comments = stripslashes($comments);
}

$address = "myemail@email.com";
$e_subject = 'You\'ve been contacted by ' . $name . '.';
$e_body = "You have been contacted by $name. Their message is below." . PHP_EOL . PHP_EOL;
$e_content = "\"$process\"" . PHP_EOL . PHP_EOL;
$e_reply = "You can contact $name via email, $email or via phone $phone";

$msg = wordwrap( $e_body . $e_content . $e_reply, 70 );

$headers = "From: $email" . PHP_EOL;
$headers .= "Reply-To: $email" . PHP_EOL;
$headers .= "MIME-Version: 1.0" . PHP_EOL;
$headers .= "Content-type: text/plain; charset=utf-8" . PHP_EOL;
$headers .= "Content-Transfer-Encoding: quoted-printable" . PHP_EOL;

if(mail($address, $e_subject, $msg, $headers)) {

    // Email has sent successfully, echo a success page.

    echo "<fieldset>";
    echo "<div id='success_page'>";
    echo "<h1>Email Sent Successfully.</h1>";
    echo "<p>Thank you <strong>$name</strong>, your message has been sent.</p>";
    echo "</div>";
    echo "</fieldset>";

} else {

    echo 'ERROR!';
}
} 
```

为了简单起见，我已经删除了将处理另一种形式的第二段代码，但希望你能看到我正在尝试做的事情。如果名为“process”的隐藏字段的值为“1”，则处理此代码。如果它的值为 2，我希望它改为处理其他代码。

这是代码的html部分：

```
<div id="contact">

            <div id="message"></div>

            <form method="post" action="http://s423839726.onlinehome.us/franklinvineyard/contact.php" name="contactform" id="contactform">

            <fieldset>

            <input type="text" name="process" id="process" size="4" value="1" />

            <label for="name">Your Name<span class="required">*</span></label>
            <input name="name" type="text" id="name" size="30" value="" />

            <br />
            <label for="email">Email<span class="required">*</span></label>
            <input name="email" type="text" id="email" size="30" value="" />

            <br />
            <label for="phone">Phone<span class="required">*</span></label>
            <input name="phone" type="tel" id="phone" size="30" value="" />

            <br />
            <label for="comments">Comments<span class="required">*</span></label>
            <textarea name="comments" cols="40" rows="15" id="comments" style="width: 350px;"></textarea>

            <label>Are you human?<span class="required">*</span></label>

            <label class="accesskey" for="verify">&nbsp;&nbsp;&nbsp;3 + 1 =</label>
            <input class="accesskey" name="verify" type="text" id="verify" size="4" value="" style="width: 30px;" /><br /><br />

            <input type="submit" class="submit" id="submit" value="submit" />

            </fieldset>

            </form>
        </div><!--end contact--> 
```

还有一些处理表单的jquery......这可能是问题吗？

```
jQuery(document).ready(function(){

    $('#contactform').submit(function(){

        var action = $(this).attr('action');

        $("#message").slideUp(750,function() {
        $('#message').hide();

          $('#submit')
            .attr('disabled','disabled');
     if($('#process').val()=='1'){
        $.post(action, {
            name: $('#name').val(),
            email: $('#email').val(),
            phone: $('#phone').val(),
            comments: $('#comments').val(),
            verify: $('#verify').val()
        },
            function(data){
                document.getElementById('message').innerHTML = data;
                $('#message').slideDown('slow');
                $('#contactform img.loader').fadeOut('slow',function(){$(this).remove();
                                                                      });
                $('#submit').removeAttr('disabled');
                if(data.match('success') !== null) $('#contactform').slideUp('slow');

            }
        );
    else{
        $.post(action, {
            name: $('#name').val(),
            email: $('#email').val(),
            phone: $('#phone').val(),
            friend: $('#friend').val(),
            search: $('#search').val(),
            signage: $('#signage').val(),
            vineyard: $('#vineyard').val(),
            newspaper: $('#newspaper').val(),
            other: $('#other').val(),
            comments1: $('#comments-survey1').val(),
            comments2: $('#comments-survey2').val(),
            comments3: $('#comments-survey3').val(),
            verify: $('#verify').val()
        },
        function(data){
                document.getElementById('message').innerHTML = data;
                $('#message').slideDown('slow');
                $('#contactform img.loader').fadeOut('slow',function(){$(this).remove();
                                                                      });
                $('#submit').removeAttr('disabled');
                if(data.match('success') !== null) $('#contactform').slideUp('slow');

            }
        );

        });

        return false;
        });
    });

}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T13:06:03.407

您在 javascript 中拦截您的提交，而不是将所有表单字段传递给表单处理程序。要更正它，请替换它：

```
$.post(action, {
            name: $('#name').val(),
            email: $('#email').val(),
            phone: $('#phone').val(),
            comments: $('#comments').val(),
            verify: $('#verify').val()
        }, 
```

有了这个：

```
$.post(action, $('#contactform').serialize(), 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:14:33.800

为了简单起见，您可以使用`if($_REQUEST['process']==1)`任何参数进行测试，`POST`或者`GET`可以通过以下方式访问参数`REQUEST`

# android - Appcelerator 标签宽度和高度确定

> ID：15246970
> 
> 赞同：1
> 
> 时间：2013-03-06T12:07:20.830
> 
> 标签：android, mobile, width, titanium, labels

我正在 Appcelerator Titanium 开发移动应用程序。我正在创建一些带有文本的标签，我需要在创建标签之前确定它们的宽度。我知道关于它们的一切参数（文本、字体大小、字体重量等）。我如何确定它们的宽度？安卓应用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-22T20:48:47.410

我很幸运使用了适用于 iOS 和 Android的[StyledLabel 模块。](https://marketplace.appcelerator.com/apps/4981?1140416519)这允许通过 HTML 从一个标签中进行一些样式设置，该标签的行为很像标准`Ti.UI.Label`控件。它并不完美，会比标准重一点`Label`，但应该比`WebView`. 使用的最大优势之一`StyledLabel`是，与 a 不同`WebView`，它会扩展和收缩以填充内容，而 a`WebView`需要定义的宽度。

如果您只是为 iOS 构建，那么我建议您使用该模块，但如果您正在为 Android 构建，则不需要它，因为 Android`Label`控件可以采用一些简单的 HTML。我目前在一个生产项目中使用它，并且在大多数情况下它工作得很好，只是在`TableView`s.

我提到使用 HTML 的原因是，使用单个控件可能会比使用多个控件更好，以便获得具有不同颜色的某些部分的文本字符串的外观。

也许将它与控件的`postlayout`事件结合起来会进一步帮助您，因为您应该能够通过`width`and`height`属性或通过`size`属性 ( `size.width`and `size.height`) 获取控件的宽度和高度。然后，您可以根据标签的位置定位控件。

# jqgrid - JQGrid 如何在添加新记录之前进行预填充

> ID：15246974
> 
> 赞同：0
> 
> 时间：2013-03-06T12:07:24.957
> 
> 标签：jqgrid, insert

我正在向 jqgrid 添加新数据。数据与客户相关，因此新记录必须包含客户 ID。因此，我希望用于添加记录的弹出表单应该带有预先填充的客户代码（只读）。客户代码在下拉列表中可用。我尝试了以下方法 - 添加了一个带有自定义函数 AddRow 的自定义按钮（这是从 Internet 借来的代码）。在函数内部，我使用 setColProp 将 CustomerId 设置到字段中。然而，什么也没有发生。甚至没有弹出窗口出现。有没有更简单的方法来做同样的事情？

```
 jQuery("#list").jqGrid({
                url: '<%= ResolveClientUrl("~/service/OfficeData.asmx/GetDealer_SMS") %>',
                editurl: '<%= ResolveClientUrl("~/service/OfficeData.asmx/InsertDealer_SMS") %>',
                datatype: "json",
                mtype: 'POST',
                ajaxGridOptions: { contentType: 'application/json; charset=utf-8' },
                ajaxEditOptions: { ContentType: 'application/json; charset=utf-8', dataType: 'json' },
                serializeGridData: function (postData) {
                    //alert("Call");
                    if (postData.DealerCode === undefined) { postData.DealerCode = DealerCode; }
                    else {
                        postData.DealerCode = DealerCode;
                    }
                    return JSON.stringify(postData);
                },
                jsonReader: { repeatitems: false, root: "d.rows", page: "d.page", total: "d.total", records: "d.records" },
                colNames: ['ID', 'DealerCode', 'Name', 'Designation', 'Address', 'EMail', 'Mobile'],
                colModel: [{ name: 'id', index: 'id', width: 10, align: 'left', editable: true, hidden: true,
                    editrules: { required: false },
                    editoptions: {
                        dataInit: function (element) {
                            $(element).attr("readonly", "readonly");
                        }
                    }
                },
                { name: 'DealerCode', index: 'DealerCode', width: 60, align: 'left', editable: true,
                    editrules: { required: true },
                    editoptions: {
                        dataInit: function (element) {
                            $(element).attr("readonly", "readonly");
                        }
                    }
                },
                { name: 'RecpName', index: 'RecpName', width: 150, align: 'left', editable: true,
                    editrules: { required: true }, editoptions: { size: 30, maxlength: 150 }
                },
                { name: 'RecpDesignation', index: 'RecpDesignation', width: 100, align: 'left', editable: true,
                    editrules: { required: true }, editoptions: { size: 30, maxlength: 150 }
                },
                { name: 'RecpAddress', index: 'RecpAddress', width: 250, align: 'left', editable: true,
                    editrules: { required: true }, editoptions: { size: 30, maxlength: 400 }
                },
                { name: 'RecpEMail', index: 'RecpEMail', width: 150, align: 'left', editable: true,
                    editrules: { required: true }, editoptions: { size: 30, maxlength: 150 }
                },
                { name: 'RecpMobile', index: 'RecpMobile', width: 100, align: 'left', editable: true,
                    editrules: { required: true }, editoptions: { size: 30, maxlength: 30 }
                }],
                loadError: function (jqXHR, textStatus, errorThrown) {
                    alert('Error while loading -' + errorThrown);
                },
                pager: jQuery('#pager'),
                rowNum: 20,
                rowList: [10, 20, 50],
                sortname: 'RecpName',
                sortorder: "asc",
                viewrecords: true,
                imgpath: '/scripts/themes/steel/images',
                caption: 'Dealer Recepient Details'
            }).jqGrid('navGrid', '#pager', { edit: false, add: false, del: false, search: false })

            .navButtonAdd('#pager',
    { caption: "Add",
    buttonicon: "ui-icon-plus",
 onClickButton: addRow,

  title: "",
  cursor: "pointer"
 }
 )
      .navButtonAdd('#pager',
        { caption: "Edit",
      buttonicon: "ui-icon-pencil",
     onClickButton: editRow,
     position: "last",
    title: "",
    cursor: "pointer"
    }
   ).navButtonAdd('#pager',
   { caption: "Delete",
   buttonicon: "ui-icon-trash",
   onClickButton: deleteRow,
   position: "last",
   title: "",
   cursor: "pointer"
  }
  );

            function addRow() {
                alert(DealerCode);
                $("#grid").jqGrid('setColProp', 'DealerCode', { editoptions: { readonly: true, size: 10, value: DealerCode} });

                $('#grid').jqGrid('editGridRow','new',
{ url: '<%= ResolveClientUrl("~/service/OfficeData.asmx/InsertDealer_SMS") %>',
editData: {},
serializeEditData: function(data){
data.id = 0;
return $.param(data);
},
recreateForm: true,
beforeShowForm: function(form) {
$('#pData').hide();
$('#nData').hide();

},
beforeInitData: function(form) {},
closeAfterAdd: true,
reloadAfterSubmit:true,
afterSubmit : function(response, postdata)
{
var result = eval('(' + response.responseText + ')');
var errors = "";
if (result.success == false) {
for (var i = 0; i < result.message.length; i++) {
errors += result.message[i] + "<br/>";
}
} else {
$('#msgbox').text('Entry has been added successfully');
$('#msgbox').dialog(
{ title: 'Success',
    modal: true,
buttons: {"Ok": function() {
$(this).dialog("close");}
}
});
}
// only used for adding new records
var newId = null;
return [result.success, errors, newId];
}
});

} // end of addRow 
```

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:38:26.673

我就是这样做的：

```
 jQuery("#subgridTable")
                .navButtonAdd('#pager',{
                    caption:"", 
                    title:"Add Row", 
                    buttonicon:"ui-icon-plus", 
                    onClickButton: function(){ 

// The next line loads the form I will use to add information to the table into a div called subgrid_popup_form_container

                        dialog = $("#subgrid_popup_form_container").load(ROOT + "/admin/contact/edit.do?id=0&sid=${station_id}");

// Then I use the dialog function from JQuery UI to get the form(div) into a modal dialog.
                        dialog.dialog({
                            modal:true,
                            height: minHeight,
                            width: minWidth,
                            zIndex: 2000,
                            title: 'Novo Contato',
                            close: function(event, ui) {dialog.empty()},
                        }); 
                    }, 
                    position:"last"
                }) 
```

在**表单提交按钮**中，我将信息添加到数据库（您可以将其添加到您的数组或其他任何内容），然后在最后我调用`jQuery("#grid").trigger("reloadGrid");`以使用全新数据刷新网格。

在您的情况下，您可以创建 HTML 表单并使其为您填充 ID，然后当您保存数据并刷新网格时，您的新行将在那里。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T18:30:28.760

可以解决——

```
 }).jqGrid('navGrid', '#pager', { edit: true, add: true, del: true, refresh: true, search: true },
        {
            ajaxEditOptions: { contentType: 'application/json; charset=utf-8', dataType: 'json' },
            serializeEditData: function (postData) {
                return JSON.stringify(postData);
            },
            closeAfterEdit: false
        },
        {
            beforeInitData: function (formid) {
                $("#list").jqGrid('setColProp', 'DealerCode', { editoptions: { value:         
         DealerCode, readonly: 'readonly'} });
            },
            afterShowForm: function (formid) {
                $("#list").jqGrid('setColProp', 'DealerCode', { editable: false });
            },
            afterSubmit: function (response) {
                var myInfo = '<div class="ui-state-highlight ui-corner-all">' +
             '<span class="ui-icon ui-icon-info" ' +
                 'style="float: left; margin-right: .3em;"></span>' +
             response.responseText +
             '</div>',
    $infoTr = $("#TblGrid_" + $.jgrid.jqID(this.id) + ">tbody>tr.tinfo"),
    $infoTd = $infoTr.children("td.topinfo");
                $infoTd.html(myInfo);
                $infoTr.show();

                // display status message to 3 sec only
                setTimeout(function () {
                    $infoTr.slideUp("slow");
                }, 3000);

                return [true, "", ""]; // response should be interpreted as successful
            }, 
```

# javascript - javascript/jquery - 在弹出窗口控制的父选项卡中隐藏元素

> ID：15246976
> 
> 赞同：1
> 
> 时间：2013-03-06T12:07:33.793
> 
> 标签：javascript, jquery, tabs, popup, window

这在jquery中可能吗？我将有一个弹出窗口。假设我的按钮/控制器在我的弹出窗口中，并且我想隐藏位于父窗口中的元素。弹出窗口可以触摸或操作父元素吗？如何？请帮忙

或者就像我关闭弹出窗口一样，某些元素将隐藏在父窗口中'

请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:10:30.727

是的..

如果使用对话框弹出

```
$('#idUWant').hide(); 
```

如果 iframe 使用父级

```
parent.find('#idUWant').hide(); 
```

如果窗口

```
window.opener.find('#idUWant').hide(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:14:34.787

您可以从弹出窗口访问 window.opener：

```
 window.opener.jQuery("#YourSelector"); 
```

# c# - SqlCommand.ExecuteNonQuery 锁定表

> ID：15246977
> 
> 赞同：0
> 
> 时间：2013-03-06T12:07:33.440
> 
> 标签：c#, sql, sql-server, winforms

我正在使用 C# winform 应用程序，并且我有使用 SQl 服务器的代码：

```
SqlCommand comm;
comm.CommandText = "alter table anyTable add someColumn int null";
comm.ExecuteNonQuery(); 
```

当我在 comm.ExecuteNonQuery(); 之后调试此代码部分时，我想转到 SQL 服务器管理并在相关表上执行“select *”以检查更改。

问题是我无法触摸此表，SQL 服务器“执行查询”很长时间，直到刷新连接才会这样做，但我可以访问其他表。

这个问题并不总是存在，我无法弄清楚它为什么会发生。

感谢您的帮助！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:09:48.923

目标表将被锁定，直到 ALTER TABLE 状态完全完成。数据库需要阻止对该表的访问以保持完整性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T13:35:24.923

创建一个按键引用初始表的额外表不是更好吗？

```
CREATE Original(id int, value1 int PRIMARY KEY(Id))
CREATE Secondary(OriginalId int, ColumnName VARCHAR(50), value INT PRIMARY KEY(OriginalId, ColumnName))

ALTER TABLE Secondary  ADD  CONSTRAINT [FK_Secondary_Original] FOREIGN KEY([OriginalId] )
REFERENCES Original ([Id])
ON DELETE CASCADE 
```

在这种情况下，您将能够通过简单的 INSERT 到辅助表中逐行扩展原始行内容运行时

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T07:58:26.700

感谢大家的帮助。

我的一个 SQL 脚本中有一个未处理的事务...

# cocoa - 在 NSTextField 中设置背景颜色时出现不需要的白色背景

> ID：15246982
> 
> 赞同：2
> 
> 时间：2013-03-06T12:07:44.620
> 
> 标签：cocoa, background-color, nstextfield

我有一个放置在 IB 中的 NSTextField。委托已设置及其方法

```
- (void)controlTextDidChange:(NSNotification *)notification 
```

工作正常。

我想要实现的是在用户开始输入时将我的 NSTextField 的背景颜色设置为红色。但我得到的是：

![在此处输入图像描述](../Images/05e792e88360661f8a87328bbb88c8e0.png)

你可以看到文本顶部有一条细红线告诉我

```
[textField setBackgroundColor:[NSColor redColor]]; 
```

有点工作。

我喜欢的是这样的：

![在此处输入图像描述](../Images/dd44b1b5daf4f3fff2cca53434a70ca7.png)

有谁知道如何在输入 NSTextField 时摆脱白色文本背景？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:11:31.513

检查开始时间，您的文本字段背景颜色应设置为 clearcolor。尝试使用清晰的颜色，然后更改。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T09:43:51.663

将其设置为`clearcolor`然后设置`new colour`

# heroku - 赫罗库。db:push 当我的应用程序包含两个数据库时

> ID：15246983
> 
> 赞同：0
> 
> 时间：2013-03-06T12:07:45.410
> 
> 标签：heroku

我在 Heroku 上托管了 Rails 3.2 应用程序。我的应用程序包含两个数据库（一个用于我的模型，第二个是一种带有静态数据的字典）。

我需要将第二个数据库（字典）推送到 Heroku，但是当我尝试 db:push Heroku 时认为我要推送第一个数据库（使用 Rails 模型）。

问题是 - 我如何指定我想将我的本地数据库 dictionary.sqlite 推送到 heroku dictionary.pg？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T13:59:46.900

您可以使用 Heroku pg:transfer 插件，它可以让您通过其 URL 设置目标目的地。

[https://github.com/ddollar/heroku-pg-transfer](https://github.com/ddollar/heroku-pg-transfer)

或者，在本地使用 psql 客户端，但恢复到 heroku pg 实例。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T18:15:59.167

不要使用`db:push/pull`; 这些方法已被弃用。用于`pgbackups:capture/restore`这样的事情。它接受`HEROKU_POSTGRESQL_COLOR`作为命令的一部分：

```
$ heroku pgbackups:restore HEROKU_POSTGRESQL_COLOR 'https://example.com/data.dump' --app app-name 
```

有关更详细的说明，请参阅[使用 PG 备份导入和导出 Heroku Postgres 数据库。](https://devcenter.heroku.com/articles/heroku-postgres-import-export)

此外，`heroku-pg-transfer`已集成到`pg-extras`，请在此处查看：[https ://github.com/heroku/heroku-pg-extras](https://github.com/heroku/heroku-pg-extras)

# mysql - 在 MySql 中创建行向上移动的新列

> ID：15246991
> 
> 赞同：0
> 
> 时间：2013-03-06T12:08:07.127
> 
> 标签：mysql, create-table

我有下表 T1 ：

```
ID | time
10 | 1000
10 | 1002
10 | 1003
11 | 1002
11 | 1004 
```

现在我想从 T1 创建一个表 T2，其中对于每个 ID，显示连续的时间间隔，即

```
ID | time1 | time 2
10 | 1000 | 1002
10 | 1002 | 1003
10 | 1003 | NULL
11 | 1002 | 1004
11 | 1004 | NULL 
```

所以 time2 条目基本上是 time1 在下一行的条目。
我怎样才能在 MySql 中做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:35:59.187

试试这个：

```
SELECT
ID,
`time` AS time1,
(SELECT MIN(st.`time`) FROM T1 st WHERE st.ID = T1.ID AND st.`time` > T1.`time`) AS time2
FROM T1 
```

# jquery - Flexslider 手动控制不起作用

> ID：15246994
> 
> 赞同：6
> 
> 时间：2013-03-06T12:08:19.243
> 
> 标签：jquery, navigation, flexslider

我用 Flexslider 创建了一个滑块，我正在尝试使用 manualControls: 创建导航菜单，但链接不起作用。这是 flexslider 和滑块/导航本身的代码：

弹性滑块：

```
 <script type="text/javascript" charset="utf-8">
  $(window).load(function() {
    $('.flexslider').flexslider({
      controlsContainer: ".slidercontainer",
      controlNav: true,
      manualControls: ".flex-control-nav li",
      }); 
 });
 </script> 
```

滑块和导航：

```
 <div class="slidercontainer">
        <div class="flexslider">
            <ul class="slides">
              <li>slide1</li>
              <li>slide2</li>
            </ul>
            <ul class="flex-control-nav">
              <li>1</li>
              <li>2</li>
            </ul>
    </div>          
    </div> 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-26T17:34:55.180

你修好了吗？如果没有，答案是因为 FlexSlider 在插件中仍然有一个实时事件 - 但 jQuery 已弃用它。

要解决这个问题; 打开 jQuery.flexslider.js 并对“live”进行查找/替换，将其替换为“on”。我实际上搜索了“.live(”并替换为“.on(”只是为了确保我只有事件侦听器。有 2 次出现。

而已。完美运行！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-08-10T07:54:33.543

[https://github.com/woothemes/FlexSlider/issues/351](https://github.com/woothemes/FlexSlider/issues/351)

听起来有很多事情要做。

我主要使用 Chrome，不管这个主题是什么，我都会发生这种情况：

[http://www.templatemonster.com/demo/42317.html](http://www.templatemonster.com/demo/42317.html)

它所说的 FlexSlider 版本：`jQuery FlexSlider v1.8`

但我找到了解决办法：

[http://wordpress.org/support/topic/chrome-bug-with-flexslider-plugin](http://wordpress.org/support/topic/chrome-bug-with-flexslider-plugin)

线程结束，一个人发布了指向他修复的另一个站点的链接！我在下面发布了必要的行：

jquery.flexslider.js 中的第 34 行

```
slider.eventType = ('ontouchstart' in document.documentElement) ? 'touchstart' : 'click'; 
```

我用以下两行替换了它：

```
slider.touch = (( "ontouchstart" in window ) || ( window.navigator.msPointerEnabled ) || window.DocumentTouch && document instanceof DocumentTouch) && slider.vars.touch;
slider.eventType = "click touchend MSPointerUp"; 
```

希望有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T12:18:31.570

示例链接： http: [//flexslider.woothemes.com/](http://flexslider.woothemes.com/)

您可以简单地直接使用代码

```
$(window).load(function() {
  $('.flexslider').flexslider({
    animation: "slide"
  });
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-03-18T13:14:23.877

我刚刚遇到了同样的问题，这是由于在 chrome 的“chrome://flags”页面中启用了触摸事件，在关闭触摸事件后，flexslider 导航箭头和点将起作用。

代码中有几个地方 flexslider 试图解决 iOS 错误，但这样做会完全禁用非 iOS 具有触摸功能的浏览器上的点击事件。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-07-26T05:45:57.180

我使用的是 2.7.2 版本，我所做的是我评论了里面的所有内容`onTouchMove = function(e) {}`

之后，一切仍然正常，最重要的是错误消息消失了。

# c# - 如何每天重置应用程序变量

> ID：15246998
> 
> 赞同：3
> 
> 时间：2013-03-06T12:08:24.997
> 
> 标签：c#, asp.net, application-variables

我正在编写一个记录服务呼叫和治疗完成的程序。我们有许多用户打开和关闭呼叫，我想始终显示今天打开的呼叫总数和今天关闭的总数以及它们之间的差异。我想用一个应用程序变量来做。我必须每天将这些变量重置为 0。我会在哪里做呢？我在 Global.asax 中想过，但在哪种情况下可以这样做？该应用程序一直在运行，所以我认为 Application_Start 不合适。那么在哪里呢？谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:11:17.553

我有一个带有上次重置计数器的日期变量，并在每次访问计数器时检查日期是否为“今天”。

除非您有严重的性能问题，否则我想这就是要走的路。

每当您更新计数器时要调用的示例easy-lazy代码：

```
lock(myCounter)
{ 
  if(DateTime.Now.Date != lastDateCounterWasReset)
  {
     lastDateCounterWasReset = DateTime.Now.Date;
     myCounter = 0;
  }
  myCounter++;
} 
```

现在我们需要更多地了解您希望如何存储这些变量（`myCounter`和`lastDateCounterWasReset`），但基本上可以在任何地方（数据库、文件系统等）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T12:25:27.180

您可以在 IIS 中[为应用程序池回收配置定期重启设置：](http://www.iis.net/configreference/system.applicationhost/applicationpools/add/recycling/periodicrestart)

> 该元素包含允许您控制何时回收应用程序池的配置设置。您可以指定 Internet 信息服务 (IIS) 7 在某个时间间隔（以分钟为单位）后或在每天的特定时间回收应用程序池。您还可以将 IIS 配置为基于应用程序池中的工作进程正在使用的虚拟内存或物理内存量进行回收，或者将 IIS 配置为在工作进程处理特定数量的请求后回收应用程序池。

但这具有在池重新启动期间使应用程序脱机的副作用，因此如果您当时有任何用户连接，它将失去其会话。这可以通过在没有用户连接的时候重新启动应用程序来最小化，比如黎明时分。

以下配置片段将应用程序池设置为每天凌晨 3:00 回收：

```
<add name="Example">
   <recycling logEventOnRecycle="Schedule">
     <periodicRestart>
       <schedule>
          <clear />
          <add value="03:00:00" />
        </schedule>
     </periodicRestart>
   </recycling>
 <processModel identityType="NetworkService" shutdownTimeLimit="00:00:30" startupTimeLimit="00:00:30" />
</add> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T12:12:37.587

我会将呼叫存储到数据库中，并在当天选择哪些组以获取总呼叫等以进行显示。

这样，当新的一天开始时，它会自动为您重置，您无需担心 IIS 重置会破坏您的内存数据。

如果您不希望过于频繁地查询对性能造成影响，可以使用许多缓存选项。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T12:13:39.007

我想你可以使用这个`Application_BeginRequest`方法。使用布尔值查看当天是否已经运行。

另一种选择是一个带有隐藏 URL 的调度程序来重置。