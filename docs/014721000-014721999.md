# StackOverflow 问答 14721000-14721999

# ios - 将 system() 的输出放入文本视图

> ID：14721000
> 
> 赞同：0
> 
> 时间：2013-02-06T03:31:20.963
> 
> 标签：ios, objective-c

我正在制作一个类似终端的应用程序，并`system()`在我的代码中使用。我想把它的输出放到一个文本视图中。我可以在 Xcode 的框中看到它的一些输出`NSLog()`，但我无法弄清楚这一点。如果它在谷歌上我找不到它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T00:02:48.597

我从 blog.bignerdranch.com/1836-hijacking-for-fun-and-profit 下载了源代码。然后你调用他声明的函数，我很确定你们知道该怎么做。但我会告诉你我是如何调用这些函数的。

首先，您必须链接类。然后在视图中确实加载方法你必须开始高举。

```
 // Hijack standard out.
self.stdoutHijacker = [XXFdHijacker hijackerWithFd: fileno(stdout)];
setbuf (stdout, NULL);
self.stdoutHijacker.delegate = self;
[self.stdoutHijacker startHijacking];
[self.stdoutHijacker startReplicating];

// Hijack standard error
self.stderrHijacker = [XXFdHijacker hijackerWithFd: fileno(stderr)];
setbuf (stderr, NULL);
self.stderrHijacker.delegate = self;
[self.stderrHijacker startHijacking];
[self.stderrHijacker startReplicating];

self.contents = [NSMutableString string]; 
```

之后，当一个人输入命令时，我有一个 IBAction。system() 需要一个 const char，所以我必须将文本字段中的文本转换为 const char，所以我将向您展示 system()，其中包含一些文本

```
-(IBAction)doCommand:(id)sender{
    system("ls");  //shows contents of root directory in my case
} 
```

接下来我们定义一个 void 来滚动到文本视图的末尾

```
- (void) scrollToEnd {
    NSRange range = NSMakeRange (self.contents.length, 0);
    [self.loggingView scrollRangeToVisible: range];
} // scrollToEnd 
```

最后我们得到文本

```
- (void) hijacker: (XXFdHijacker *) hijacker  gotText: (NSString *) text {
    if (hijacker == self.stdoutHijacker) [self.contents appendString: @"stdout: "];
    if (hijacker == self.stderrHijacker) [self.contents appendString: @"stderr: "];

    [self.contents appendString: text];
    self.loggingView.text = self.contents;
    [self scrollToEnd];
} // hijacker 
```

这将得到错误和发送到 NSLog 的任何内容。如果您不想要错误，请擦除

```
// Hijack standard error
self.stderrHijacker = [XXFdHijacker hijackerWithFd: fileno(stderr)];
setbuf (stderr, NULL);
self.stderrHijacker.delegate = self;
[self.stderrHijacker startHijacking];
[self.stderrHijacker startReplicating]; 
```

来自 viewDidLoad。如果你只想要数据然后擦除

```
 // Hijack standard out.
self.stdoutHijacker = [XXFdHijacker hijackerWithFd: fileno(stdout)];
setbuf (stdout, NULL);
self.stdoutHijacker.delegate = self;
[self.stdoutHijacker startHijacking];
[self.stdoutHijacker startReplicating]; 
```

哦，还有一件事......添加您将在其中使用代码的视图控制器的实现文件的顶部。让它看起来和我的一模一样，除了将它所说的 viewController 更改为您的视图控制器的名称

```
 @interface XXViewController () <XXFdHijackerDelegate>

@property (weak, nonatomic) IBOutlet UITextView *loggingView;

@property (strong, nonatomic) XXFdHijacker *stdoutHijacker;
@property (strong, nonatomic) XXFdHijacker *stderrHijacker;

@property (strong, nonatomic) NSMutableString *contents;

@end // extension 
```

# mysql - 如何拥有具有多个主键的表？

> ID：14721002
> 
> 赞同：1
> 
> 时间：2013-02-06T03:31:32.780
> 
> 标签：mysql, sql, database

我正在尝试创建一个具有两个外键并且主键组合应该用作主键的表，但是“SQL 伙伴”不接受它并显示多个主键错误消息，我做错了什么吗？

例子

```
Unit
PK unit ID
unit name

Course 
PK course ID
Course Name

CourseHasUnit
FK PK CourseID
FK PK UnitID 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T03:53:47.173

一个表不能有两个主键，因为主键的定义是“唯一标识该行的字段或固定字段集”。根据这个定义，拥有多个主键是没有意义的，因为如果主键 A 已经唯一标识了您的行，为什么还需要主键 B？

可能您要做的是在 CourseID 和 UnitID 上定义两个主键，而您打算做的是定义一个主键，由字段 CourseID 和 UnitID 组成。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T04:10:00.987

您*可能*需要按照这些思路做一些事情。MySQL 不喜欢内联主键和外键声明。请注意额外的唯一约束。主键和唯一键约束都标识候选键。任何候选键都可以是外键引用的目标。

```
create table unit (
  unit_id ... ,
  unit_name ... ,
  primary key (unit_id),
  unique key (unit_name)
);

create table course (
  course_id ... ,
  course_name ..., 
  primary key (course_id),
  unique key (course_name)
);

create table course_has_unit (
  course_id ... ,
  unit_id ... ,
  primary key (course_id, unit_id),
  foreign key (course_id) references course (course_id),
  foreign key (unit_id) references unit (unit_id)
); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-09-11T12:15:19.817

我假设您在谈论“复合键”，因为每个表只能有一个主键。

我的建议：

为每个表创建一个自动增量类型的主键。如果您有多个值构成唯一标识键，则创建正确的索引和唯一约束。不要使用复合主键。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-09-11T12:06:44.170

我使用 SQLBuddy 的解决方案只是创建没有主键的表。创建表后，我运行 ALTER TABLE 查询，指定所需的多列主键。

# c - Connect：非套接字上的套接字操作

> ID：14721005
> 
> 赞同：8
> 
> 时间：2013-02-06T03:31:54.470
> 
> 标签：c, sockets, unix, networking

我是 unix 网络编程的新手，我试图编写一个程序来连接到 Google 的服务器。但是，在使用 connect() 函数时出现错误。（操作系统：OS X）

**连接错误：非套接字上的套接字操作**

我已经工作了 4 个小时，但我找不到问题所在。这是我的代码：

```
#define SERVPORT 80

int main (int argc, char **argv)
{
  int i, sockfd;
  struct hostent *host;
  struct sockaddr_in serv_addr;

  if ( (host = gethostbyname(argv[1])) == NULL) {
    printf("gethostbyname error\n");
    exit(1);
  }

  for (i = 0; host->h_addr_list[i]; i++) {
    if ( (sockfd = socket(AF_INET, SOCK_STREAM, 0) == -1)) {
    printf("socket error\n");
    exit(1);
    }

    bzero(&serv_addr, sizeof(serv_addr));
    serv_addr.sin_family = AF_INET;
    serv_addr.sin_port = htons(SERVPORT);
    serv_addr.sin_addr = *( (struct in_addr *)host->h_addr_list[i]);
    const char *ip = inet_ntoa(serv_addr.sin_addr);
    printf("connect to %s\n", ip);

    if (connect(sockfd, (struct sockaddr *) &serv_addr,
            sizeof(struct sockaddr)) == -1) {
      printf("connect error:%s\n", strerror(errno));
      exit(1);
    }

 }
  return 0;
} 
```

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-02-06T04:00:13.493

我看到了问题。就是这一行：

```
if ( (sockfd = socket(AF_INET, SOCK_STREAM, 0) == -1)) 
```

== 运算符优先于 = 运算符。仔细看看你在那个表达式上构造括号的方式，看看我的意思。由于分配了一个布尔表达式（socket（...）== -1），sockfd 正在初始化为“0”。

将套接字初始化更改为：

```
 for (i = 0; host->h_addr_list[i]; i++) 
  {

    sockfd = socket(AF_INET, SOCK_STREAM, 0);
    if (sockfd == -1)
    {
        printf("socket error\n");
        exit(1);
    } 
```

或者，如果您更喜欢同一行方法上的“分配和比较”，您可以这样说：

```
if ( (sockfd = socket(AF_INET, SOCK_STREAM, 0)) == -1) 
```

注意细微的差别。

# c - 在字符串文字中放置预处理器指令？

> ID：14721007
> 
> 赞同：2
> 
> 时间：2013-02-06T03:32:20.913
> 
> 标签：c, gcc, c-preprocessor

我正在尝试使用`#define`定义字符串文字（在这种情况下为文件路径），但我无法从另一个#define'd 元素获取路径。简而言之，我想要这样的东西：

```
#define X /var/stuff
#define Y "X/stuff.txt" 
```

给我`Y`作为`"/var/stuff/stuff.txt"`。这甚至可能吗？预先感谢。

编辑：或者，这样的东西会将两个文字合二为一吗？

```
#define X "/var/stuff"
#define Y X"/stuff.txt" 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T03:35:03.803

不是你拥有它的方式，不——宏替换不会发生在字符串文字中。

但是，您可以将片段中的字符串粘贴在一起：

```
#define str(x) #x
#define expand(x) str(x)

#define X /var/stuff
#define Y expand(X) "/stuff.txt" 
```

快速演示代码：

```
#include <iostream>

int main(){
    std::cout << Y;
} 
```

# html - SCORM 实施

> ID：14721009
> 
> 赞同：3
> 
> 时间：2013-02-06T03:32:29.507
> 
> 标签：html, jquery-mobile, mobile-application, scorm

我已经使用 jQuery mobile 1.2.0 构建了一个带有 HTML5 的电子学习移动 Web 应用程序，我的问题是如何使其符合 SCORM 标准来与任何 LMS 进行通信？

我目前正在使用 SCORM API Wrapper 来实现这一点，但是在开始课程部分中我对[http://pipwerks.com/2008/05/08/adding-scorm-code-to-an-html-file/](http://pipwerks.com/2008/05/08/adding-scorm-code-to-an-html-file/)感到震惊...

我在这里有一个疑问，“他们为一个简单的表单实现了 SCORM，所以如果我有巨大的应用程序，这意味着我必须为我的应用程序的每个模块实现 SCORM”

或者是否有任何其他 API 或工具可以这样做？

请帮我解答...在此先感谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-16T12:31:08.493

Pipwerks 很棒，而且没有任何问题。你可能错过了重点。

如果要将您的 Web 应用程序转换为 scorm 包，您需要：

1\. 添加一个 imsmanifest.xml 文件，该文件用 scorm 术语描述您的应用程序是什么以及它的作用等。

2\. 通过 JS 与 LMS 通信（pipwerks 将所有内容包装成方便的方法）例如宣布用户成功完成您的课程/使用的应用程序等。

3\. 将所有文件上传到 LMS 服务器，将您的 LMS 指向 imsmanifest.xml 并从那里启动。

# ruby-on-rails - 使用 PG Backups 将数据库导入 Heroku 上的应用程序

> ID：14721011
> 
> 赞同：1
> 
> 时间：2013-02-06T03:32:49.053
> 
> 标签：ruby-on-rails, postgresql, heroku, heroku-toolbelt

我最近从这个被贬值的[长期讨论](https://github.com/ricardochimal/taps/issues/92)中了解到。`heroku db:push`我尝试按照推荐[的 Heroku 指南](https://devcenter.heroku.com/articles/heroku-postgres-import-export)将数据库转储导入我的 Web 应用程序，但无法理解（如果问题的性质真的是菜鸟，我深表歉意），这就是该行的含义：

```
PGPASSWORD=mypassword pg_dump -Fc --no-acl --no-owner -h localhost -U myuser mydb > mydb.dump 
```

我想这条线需要相当多的定制，但由于我很少（没有）处理 PG 的经验，我不知道我应该定制什么（或沿着这条线在哪里），或者这是否会暗示额外的我需要的步骤。

另外，我想确保这条线：

```
heroku pgbackups:restore DATABASE 'http://f.cl.ly/items/1q2o3t1d3g0F1j2g3z18/mydb.dump' 
```

列出的 url 需要根据我指定的 url 进行定制。

感谢您的耐心和帮助！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T06:34:24.790

为您分解声明的每个部分：

```
PGPASSWORD=mypassword pg_dump -Fc --no-acl --no-owner -h localhost -U myuser mydb > mydb.dump 
```

mypassword -> 输入 pg-db 转储的密码

-F -> 转储格式

-c -> 指的是自定义格式

--no-acl -> 防止访问权限转储（授予/撤销命令）

--no-owner -> 不输出命令来设置对象的所有权以匹配原始数据库

-h -> 指定运行服务器的机器的主机名。

localhost -> 上面的主机名

-U -> 要连接的用户名。

myuser -> 您在上面的用户名

mydb > mydb.dump -> 将名为 mydb 的数据库转储到 SQL 脚本文件中：

总之，更改“mypassword”、“localhost”、“myuser”和“mydb”部分以反映您的 pg 转储的详细信息，您就可以开始了！

# java - 如果抛出异常，调用链是否也抛出了它的所有子类？

> ID：14721017
> 
> 赞同：0
> 
> 时间：2013-02-06T03:33:15.607
> 
> 标签：java, exception, exception-handling

我辅导的一位学生使用的 Java 书籍包含以下内容（Blue Pelican Java 版本 3.0.5b Charles Cook）：

> 如果你有一个方法将 IOException 抛出到调用链中的下一层，我们应该知道除了 IOException 被抛出到下一层之外，它的所有子类也被抛出到链中的下一层。

这显然是错误的，但它是正确的吗？该陈述的一个版本是在学生的考试中提出的，并且应该是真实的。

此外，以下代码似乎是该声明的反例：

```
public class ExceptionsTester {
    public static void main(String[] args) {
        try {
            throw new IOException();
        } catch (FileNotFoundException e) {
        System.out.println("Subclasses thrown");
        } catch (IOException e) {
        System.out.println("Subclasses not thrown");
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T03:44:47.537

这本书的意思是：'如果一个方法声明它抛出异常，那么它可以抛出异常的所有子类'？因为这在 Java 中是正确的，但它并没有告诉你任何关于捕获异常及其子类的行为（正如另一个答案所暗示的）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T03:41:53.047

它在多个层面上没有任何意义，而且措辞完全是错误的。

抛出 an`IOException`正是这样做的，抛出一个`IOException`.

的子类`IOException`不会被捕获，因为它们没有被抛出。

捕获异常的超*类**将*捕获异常（尽管在这种情况下它`java.lang.Exception`当然是 ）。

我不相信作者说如果（比如说）抛出一个 IOException ，那么所有的 IOException 子类也会被抛出。基于阅读前面的部分，我*认为*他试图指出，如果有东西声明它可以抛出 IOException，这*也*意味着可以抛出 IOException 子类。

它的措辞很糟糕，但我很难相信作者认为在抛出 IOException 时会抛出 IOException 子类——他正确地指出，必须在紧接其不太具体的超类之前捕获子类。我发现更有可能存在编辑问题，或者只是表述不佳。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-06T03:45:35.430

好吧，这是不正确的。首先，这是一个静态方法，静态方法不会传递给子类。其次，这个不会引发异常。它只处理它。通过抛出异常，我认为本书作者的意思是用`throws`关键字声明方法。

例如

```
class A {
 void x() throws IOException {}
} 
```

如果 ：

```
class B extends A {
@overries
void x() {}
} 
```

即使 B 中的重写方法没有明确抛出它，任何使用 B 中的方法的人都必须处理 IOException。

```
A a = new B();
a.x(); 
```

编译器会抱怨。你必须使用

```
A a = new B();
try {
a.x();
} catch (Exception e) {} 
```

所以底线是作者在某种程度上是正确的。

# java - 想要将对象数组运行到通用构造函数中

> ID：14721019
> 
> 赞同：0
> 
> 时间：2013-02-06T03:33:31.900
> 
> 标签：java, object, constructor

```
class CircularArrayDeque<E> implements Deque {
  private E[] items;
  private int currentSize, capacity, front, back;
  private static final int DEFAULT_CAPACITY = 10;

  public CircularArrayDeque(Collection<? extends E> other) {     
    items = (E[]) other.toArray();
    currentSize = other.size();
    front = 0;
    back = currentSize - 1;
  }
}
public static void main(String[] args) {

    int[] arr = {8, 7, 5, 3, 6, 7, 12, 4};
} 
```

我希望能够将 arr 运行到构造函数 CircularArrayDeque(arr) 中。Deque 只是我写的一个接口，它不是 java 的类。如果可能的话，我不确定我该怎么做。或者我可以将我的 arr 更改为 Object Integer，例如.....

```
Integer[] arr = {8, 7, 5, 3, 6, 7, 12, 4}; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T03:38:13.630

尝试这个：

```
final Collection<Integer> coll = Arrays.asList(8, 7, 5, 3, 6, 7, 12, 4); 
```

# eclipse - 如何忽略 Eclipse 中的“-Wunused-result”和“-Wunused-but-set-variable”错误

> ID：14721020
> 
> 赞同：2
> 
> 时间：2013-02-06T03:33:44.497
> 
> 标签：eclipse

最近我在从 3.6 (Helios) 升级到 Eclipse 4.2 (Juno) 时在 Eclipse 中遇到了一些错误，

我的环境如下：

*   操作系统：Ubuntu 12.04 32bit
*   日食：4.2 朱诺
*   海湾合作委员会：4.6.3

我的代码如下：

```
static void doMatch(check_context_ptr ctxt)
{
    char    *cmd, *result;
    int k;//test 20120417
    char sourceName[10];
    asprintf(&cmd, "match %s %d %d\n",ctxt->filename, ctxt->probe_count, ctxt->threshold);
    free(cmd);
    for(k=0;k<10;k++)
        sourceName[k]=ctxt->filename[39+k];
} 
```

如下错误： 描述 Resource Path Location Type

*   警告：忽略'asprintf'的返回值，用属性warn_unused_result [-Wunused-result]声明
*   警告：变量「sourceName」已设置但未使用 [-Wunused-but-set-variable]

我知道有所有警告，但在我的日食中，它们显示在错误项目中

![在此处输入图像描述](../Images/9851d546c091d2cb66d0682fc5fe8cb6.png)

我知道有一个解决方案可以解决第 60、64 和 71 行的错误，例如： ![在此处输入图像描述](../Images/58af70166ff53a3459da41acb997f7b8.png)

我知道这是一种糟糕的编程风格，但我总是使用这种方式来测试我的代码，并且我确信命令参数有一个 -wall 选项，并在代码分析设置中将未使用的返回值标志设置为警告。所以有人知道如何忽略警告错误吗？如何在 Eclipse 中设置参数？　

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-18T04:22:51.733

参考[GCC 4.6 中的奇怪诊断编译指示行为](https://stackoverflow.com/questions/9832687/strange-diagnostic-pragma-behavior-in-gcc-4-6)，这是一个本地化问题。所以我只是将语言相关的环境变量更改为 en_US_UTF-8。（Window -> Preference -> C/C++ -> Build -> Environment）相关的环境变量：LANGUAGE、LANG、LC_ALL、LC_MESSAGE等。

# regex - 哈希中的基因表达数据

> ID：14721023
> 
> 赞同：0
> 
> 时间：2013-02-06T03:34:05.900
> 
> 标签：regex, perl

我有两个数据文件：一个包含基因表达数据，另一个包含基因组注释数据。我必须比较一个文件的第 1 列和第 2 列中的值，如果 1 > 2 则输出该行以及在注释数据文件的同一行上找到的 refseq id。

到目前为止，我已经打开了两个文件进行阅读：

```
#!usr/bin/perl
use strict;
use warnings;

open (my $deg, "<", "/data/deg/DEG_list.txt") or die $!;
open (my $af "<", "/data/deg/Affy_annotation.txt") or die $!;

# I want to store data in hash

my %data;
while (my $records = <$deg>) {
  chomp($records);

  # the first line is labels so we want to skip this
  if($records =~ /^A-Z/) {
    next;
  else {
    my @columns = split("/\s/", $records);

    if ($columns[2] > $columns[1]) {
      print $records;
    }
  }
} 
```

每次发生这种情况时，我都想打印该行，但我也想打印在其他数据文件中找到的基因 ID。我不知道该怎么做，加上我现在的代码不起作用，因为它不只是打印行。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T04:15:54.147

除了你在这里和那里缺少括号外，你的问题可能是你的正则表达式

```
if($records =~ /^A-Z/) { 
```

这会查找以该文字字符串开头的行，例如`A-Zfoobar`，而不是您可能想的任何以大写字母开头的字符串。你可能想要：

```
if($records =~ /^[A-Z]/) { 
```

方括号表示一个字符类，里面有一个范围。

您还应该知道`split /\s/, ...`在单个空格上拆分，这可能不是您想要的，因为它会为您拥有的每个额外空格创建空字段。除非您明确想要在单个空格上拆分，否则您可能想要

```
split ' ', $records; 
```

它将分割多个连续的空白，并去除前导空白。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T08:20:14.517

代码中的两个主要问题

```
if($records =~ /^A-Z/) ... 
```

如果你想检测一行开头的字母，你最好

```
if($records =~ /^[a-z]/i) ... starting with any letter
if($records =~ /^[A-Z]/) ...  starting with big letter 
```

而在

```
my @columns = split("/\s/", $records); 
```

正则表达式在这里是一个字符串...（因为引用），有一个正则表达式删除引号

```
my @columns = split(/\s/, $records); 
```

但是如果你想分割字段，即使有多个空格，使用

```
my @columns = split(/\s+/, $records); 
```

反而。

# c# - 下拉列表未在后续调用中更新所选项目

> ID：14721024
> 
> 赞同：0
> 
> 时间：2013-02-06T03:34:10.460
> 
> 标签：c#, asp.net

我有以下代码

```
Page_Load () {
 if (!IsPostBack)
   {               
            //data binding to ddl year    

   } else {
       if (ViewState["ddlyear"] != null)
            {
                ddlyear.SelectedValue = ViewState["ddlyear"].ToString();

            }
        }
}

ddlyear_SelectedIndexChanged {
    ViewState["ddlyear"] = ddlyear.SelectedItem.Value.ToString();
} 
```

继承人的错误。

*   load page select item in ddlyear，它重新加载页面，并正确显示 ddl 中的项目。

*   如果我更改显示，所选项目将不会更改。

如果我在值上放置一个断点，`ddlyear.SelectedItem.Value.ToString();`实际上永远不会从第一次调用中改变。它会更改一次，更改为所选项目的值，但即使在后续页面调用中选择了另一个项目也不会更改。

IE

1.  第一页加载 - ddlyear = 1000
2.  更改为另一个选项，比如说 1001
3.  页面重新加载，ddlyear = 1001
4.  更改为另一个选项，比如说 1002
5.  页面重新加载，ddlyear = **1001**而不是 1002

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T03:54:38.280

A`DropDownList`将默认维护其`SelectedItem`.
您无需为此编写任何代码。删除您添加的代码，它应该可以按预期工作。

如果您有兴趣了解代码失败的原因，那是因为`Load`事件在调用任何事件处理程序之前触发。在这里，您将选定的值重置为`ViewState`.

# ruby-on-rails - 在 Rails 控制台中查看种子结果

> ID：14721027
> 
> 赞同：0
> 
> 时间：2013-02-06T03:34:28.927
> 
> 标签：ruby-on-rails, database, testing, seeding

我创建了一个种子文件，运行`rake db:migrate`并且`rake db:seed`一切似乎都运行良好。但是，我现在想在 rails 控制台中查看种子，表的名称是`usersinfo`. 如何查看以验证控制台中的种子是否正确填充？

我`usersinfo.all`在控制台中尝试过，但出现以下错误。

未定义的方法“全部”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T03:47:19.597

据我所知，您不能直接从 rails 控制台查看表，但是您可以通过该表的关联 ActiveRecord 模型检查表是否有数据

前任：

如果您的表名是`usersinfo` 您可能应该有一个名为的模型

```
class Userinfo < ActiveRecord::Base
  set_table_name :usersinfo
end 
```

然后在控制台中你可以做

```
Userinfo.all 
```

注意：根据 rails 约定，您的表名应该是复数，如果您不使用 rails 约定，您可以随时通过`set_table_name:`方法设置表名

而且，`.all`是一个`ActiveRecord`类方法，只适用于`Activerecord Model`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T03:41:15.590

你必须`.all`为你的模型调用方法。

```
Userinfo.all 
```

我建议你阅读[Active Record Query Interface](http://guides.rubyonrails.org/active_record_querying.html#retrieving-multiple-objects-in-batches)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-02-22T15:32:03.273

有类似的问题。这对我有用：

```
rails runner 'p Userinfo.pluck :column_name` 
```

# cuda - 如何在 GeForce GTX 690 设备上分配所有可用的全局内存？

> ID：14721028
> 
> 赞同：2
> 
> 时间：2013-02-06T03:34:45.440
> 
> 标签：cuda, nvidia

现在我需要使用 cuda 技术分配所有可用内存。我用 Tesla C2050、Quadro 600 和 GeForce GTX 560 Ti 做到这一点：首先，我在设备上分配 0 字节的全局内存。第二步是通过 cudaMemGetInfo 函数定义设备的可用内存并分配可用内存。它适用于上面列出的设备。但这种机制不适用于 GeForce GTX 690。

有人可以帮助我，我可以使用什么机制在 GeForce GTX 690 设备上分配内存或该操作的任何范例？

它看起来像这样：

```
cudaSetDevice(deviceIndex);

int (*reservedMemory);

cudaMalloc(&reservedMemory, 0);

size_t freeMemory, totalMemory;

cudaMemGetInfo(&freeMemory, &totalMemory);

cudaMalloc(&reservedMemory, freeMemory); 
```

在 GeForce GTX 690 上，现有的两个流式多处理器之一在 2147483648 字节的内存上运行，但我只能分配 1341915136 字节的可用全局内存，即 2050109440 字节。在 Quadro 600 上，一个现有的流式多处理器在 1073414144 字节的内存上运行，我可以分配所有可用的 859803648 字节的空闲全局内存，等于 859803648 字节。

以 Quadro 600 为例（显示编译、链接和执行过程）：

```
D:\Gdmt&gt; nvcc -arch=compute_20 -code=sm_21 -c ./Gdmt.cu -o ./Gdmt.obj
Gdmt.cu
tmpxft_00000bb4_00000000-3_Gdmt.cudafe1.gpu
tmpxft_00000bb4_00000000-8_Gdmt.cudafe2.gpu
Gdmt.cu
tmpxft_00000bb4_00000000-3_Gdmt.cudafe1.cpp
tmpxft_00000bb4_00000000-14_Gdmt.ii

D:\Gdmt&gt; nvcc ./Gdmt.obj -o ./Gdmt.exe

D:\Gdmt&gt; nvcc -arch=compute_20 -code=sm_21 -c ./Gdmt_additional.cu -o ./Gdmt_add
itional.obj
Gdmt_additional.cu
tmpxft_00000858_00000000-3_Gdmt_additional.cudafe1.gpu
tmpxft_00000858_00000000-8_Gdmt_additional.cudafe2.gpu
Gdmt_additional.cu
tmpxft_00000858_00000000-3_Gdmt_additional.cudafe1.cpp
tmpxft_00000858_00000000-14_Gdmt_additional.ii

D:\Gdmt&gt; nvcc ./Gdmt_additional.obj -o ./Gdmt_additional.exe

D:\Gdmt&gt; Gdmt.exe
Total amount of memory: 1073414144 Bytes;
Memory to reserve: 859803648 Bytes;
Memory reserved: 859803648 Bytes;
^C
D:\Gdmt&gt; Gdmt_additional.exe
Allocation is succeeded on 890830848 bytes of reserved memory.
^C
D:\Gdmt&gt; 
```

以 GeForce GTX 690 为例（显示编译、链接和执行过程）：

```
J:\Gdmt&gt; nvcc -arch=compute_30 -code=sm_30 -c ./Gdmt.cu -o ./Gdmt.obj
Gdmt.cu
tmpxft_000011f0_00000000-5_Gdmt.cudafe1.gpu
tmpxft_000011f0_00000000-10_Gdmt.cudafe2.gpu
Gdmt.cu
tmpxft_000011f0_00000000-5_Gdmt.cudafe1.cpp
tmpxft_000011f0_00000000-15_Gdmt.ii

J:\Gdmt&gt; nvcc ./Gdmt.obj -o ./Gdmt.exe

J:\Gdmt&gt; nvcc -arch=compute_30 -code=sm_30 -c ./Gdmt_additional.cu -o ./Gdmt_add
itional.obj
Gdmt_additional.cu
tmpxft_00001164_00000000-5_Gdmt_additional.cudafe1.gpu
tmpxft_00001164_00000000-10_Gdmt_additional.cudafe2.gpu
Gdmt_additional.cu
tmpxft_00001164_00000000-5_Gdmt_additional.cudafe1.cpp
tmpxft_00001164_00000000-15_Gdmt_additional.ii

J:\Gdmt&gt; nvcc ./Gdmt_additional.obj -o ./Gdmt_additional.exe

J:\Gdmt&gt; Gdmt.exe
Total amount of memory: 2147483648 Bytes;
Memory to reserve: 2050109440 Bytes;
Warning, memory allocation process is not succeeded!
^C
J:\Gdmt&gt; Gdmt_additional.exe
Allocation is succeeded on 1341915136 bytes of reserved memory.
^C 
```

示例存档并位于：

（z7 存档 - 78.5 KB ~ 80,434 字节） [https://docs.google.com/file/d/0BzZ5q0v8n-qTTDctVDV5Mnh2ODA/edit](https://docs.google.com/file/d/0BzZ5q0v8n-qTTDctVDV5Mnh2ODA/edit) （zip 存档 - 163 KB ~ 167,457 字节） [https://docs.google.com/file /d/0BzZ5q0v8n-qTT2xoV3NXSzhQMDQ/编辑](https://docs.google.com/file/d/0BzZ5q0v8n-qTT2xoV3NXSzhQMDQ/edit)

该主题是在“The GeForce Lounge”和“CUDA Programming and Performance”上发布的同名主题的克隆。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T16:22:53.553

我可以重新运行您的示例并得出相同的结果。

我试图从另一边解决这个问题，并尝试分配大小减小的块。

```
int (*reservedMemory);
size_t const NBlockSize = 1300 *1024*1024; 
size_t freeMemory, totalMemory;
cudaError_t nErr = cudaSuccess;
size_t nTotalAlloc=0;
while( nErr == cudaSuccess )
{
    cudaMemGetInfo(&freeMemory, &totalMemory);
    std::cout << "===========================================================" << std::endl;
    std::cout << "Free/Total(kB): " << freeMemory/1024 << "/" << totalMemory/1024 << std::endl;

    size_t nAllocSize = NBlockSize;
    while( nAllocSize > freeMemory )
        nAllocSize /= 2;

    nErr = cudaMalloc(&reservedMemory, nAllocSize );
    if( nErr == cudaSuccess )
        nTotalAlloc += nAllocSize;
    std::cout << "AllocSize(kB): " << nAllocSize/1024 << ", error: " << cudaGetErrorString(nErr) << std::endl;

}
std::cout << "TotalAlloc/Total (kB): " << nTotalAlloc/1024 << "/" << totalMemory/1024 << std::endl; 
```

程序从大小为 NBlockSize 的块开始，如果 freeMemory 减少，也减少 nAllocSize。查看下面的输出，在分配与 freeMemory 相关的块时，cudaMalloc 的行为似乎有些不可预测。在某一时刻，它设法分配了超过 98% 的可用内存，在另一时刻，它未能从 1GB 可用内存中分配 800MB。

最有趣的运行是起始块大小为 700MB 的运行。在最后一次成功的循环中，它设法从 1428 个中分配 1400kB，并在下一次运行中分配 20kB 中的 10 个失败。

根据起始大小，程序在最佳运行时设法分配了除 8kB 之外的所有可用空间，在最坏的情况下剩余超过 1 GB。

```
D:\Buildx64\Test\GMDT\Debug>Gdmt.exe
NBlockSize(MB): 1000
===========================================================
Free/Total(kB): 1797120/2097152
AllocSize(kB): 1024000, percentage of freememory: 0.569801, error: no error
===========================================================
Free/Total(kB): 773120/2097152
AllocSize(kB): 512000, percentage of freememory: 0.662252, error: no error
===========================================================
Free/Total(kB): 261120/2097152
AllocSize(kB): 256000, percentage of freememory: 0.980392, error: no error
===========================================================
Free/Total(kB): 5128/2097152
AllocSize(kB): 4000, percentage of freememory: 0.780031, error: no error
===========================================================
Free/Total(kB): 1032/2097152
AllocSize(kB): 1000, percentage of freememory: 0.968992, error: no error
===========================================================
Free/Total(kB): 8/2097152
AllocSize(kB): 7, percentage of freememory: 0.976563, error: out of memory
TotalAlloc/Total (kB): 1797000/2097152

D:\Buildx64\Test\GMDT\Debug>Gdmt.exe
NBlockSize(MB): 1200
===========================================================
Free/Total(kB): 1796864/2097152
AllocSize(kB): 1228800, percentage of freememory: 0.683858, error: no error
===========================================================
Free/Total(kB): 568072/2097152
AllocSize(kB): 307200, percentage of freememory: 0.540777, error: no error
===========================================================
Free/Total(kB): 260872/2097152
AllocSize(kB): 153600, percentage of freememory: 0.588795, error: no error
===========================================================
Free/Total(kB): 107272/2097152
AllocSize(kB): 76800, percentage of freememory: 0.715937, error: no error
===========================================================
Free/Total(kB): 30472/2097152
AllocSize(kB): 19200, percentage of freememory: 0.630087, error: no error
===========================================================
Free/Total(kB): 11272/2097152
AllocSize(kB): 9600, percentage of freememory: 0.851668, error: no error
===========================================================
Free/Total(kB): 1672/2097152
AllocSize(kB): 1200, percentage of freememory: 0.717703, error: no error
===========================================================
Free/Total(kB): 392/2097152
AllocSize(kB): 300, percentage of freememory: 0.765306, error: out of memory
TotalAlloc/Total (kB): 1796400/2097152

D:\Buildx64\Test\GMDT\Debug>Gdmt.exe
NBlockSize(MB): 800
===========================================================
Free/Total(kB): 1844448/2097152
AllocSize(kB): 819200, percentage of freememory: 0.444144, error: no error
===========================================================
Free/Total(kB): 1025248/2097152
AllocSize(kB): 819200, percentage of freememory: 0.799026, error: out of memory
TotalAlloc/Total (kB): 819200/2097152

D:\Buildx64\Test\GMDT\Debug>Gdmt.exe
NBlockSize(MB): 700
===========================================================
Free/Total(kB): 1835528/2097152
AllocSize(kB): 716800, percentage of freememory: 0.390514, error: no error
===========================================================
Free/Total(kB): 1118740/2097152
AllocSize(kB): 716800, percentage of freememory: 0.640721, error: no error
===========================================================
Free/Total(kB): 401940/2097152
AllocSize(kB): 358400, percentage of freememory: 0.891675, error: no error
===========================================================
Free/Total(kB): 43540/2097152
AllocSize(kB): 22400, percentage of freememory: 0.514469, error: no error
===========================================================
Free/Total(kB): 21140/2097152
AllocSize(kB): 11200, percentage of freememory: 0.529801, error: no error
===========================================================
Free/Total(kB): 9876/2097152
AllocSize(kB): 5600, percentage of freememory: 0.567031, error: no error
===========================================================
Free/Total(kB): 4244/2097152
AllocSize(kB): 2800, percentage of freememory: 0.659755, error: no error
===========================================================
Free/Total(kB): 1428/2097152
AllocSize(kB): 1400, percentage of freememory: 0.980392, error: no error
===========================================================
Free/Total(kB): 20/2097152
AllocSize(kB): 10, percentage of freememory: 0.546875, error: out of memory
TotalAlloc/Total (kB): 1835400/2097152 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T09:41:27.633

我最近想起了 cuda 中的“页面锁定”机制。我对其进行了测试，并没有得到令人满意的性能结果（使用这种机制的计算速度要慢十倍，然后是带有 GeForce GTX 690 的 Windows 的内存保留功能非常有限的版本）。我只是以为将数据复制到设备以供以后计算和写回会自动完成，但实际上并没有涉及设备的内存。

# c# - 如何使用 InternetOpen、InternetOpenUrl 和 InternetReadFile

> ID：14721030
> 
> 赞同：-5
> 
> 时间：2013-02-06T03:34:54.683
> 
> 标签：c#, .net, wininet

如何使用 winInet.dll 下载网页内容

代码（来自评论）：

```
url="http://links.casemakerlegal.com/states/TX/books/Case_Law/results?search[Cite]=359%20S.W.3d.%20856" Uri urlCheck = new Uri(url); 
WebClient wc = new WebClient(); 
wc.Headers.Add("user-agent", "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.2; .NET CLR 1.0.3705;)"); 
Stream data = wc.OpenRead(urlCheck); 
StreamReader reader = new StreamReader(data);
string s = reader.ReadToEnd(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T03:58:32.537

试试下面的代码。如果它不起作用..这绝对是服务器端问题：

```
string s;
using (WebClient wc = new WebClient()) {
    s = wc.DownloadString("http://www.blahblah.com"); // put your url here.
} 
```

# c++ - 如何避免一遍又一遍地打印相同的东西？

> ID：14721033
> 
> 赞同：0
> 
> 时间：2013-02-06T03:35:56.727
> 
> 标签：c++, arrays, for-loop

```
case 4:
        {
            string bookTitleDel;
            int bookPageNDel;
            int bookReviewDel;
            float bookPriceDel;

            cout << "\nPlease Enter the Title to be Deleted: ";
            cin >> bookTitleDel;
            cout << "\nTotal Number of Pages of the Book to be Deleted: ";
            cin >> bookPageNDel;
            cout << "\nPlease Enter Rating (stars): ";
            cin >> bookReviewDel;
            cout << "\nPlease Enter Price: ";
            cin >> bookPriceDel;

            for(int i=0;i<MAX_BOOKS;i++)
            {
                if((books[i].bookTitle!=bookTitleDel) && (books[i].bookPageN!=bookPageNDel) && (books[i].bookReview!=bookReviewDel) && (books[i].bookPrice!=bookPriceDel))
                {

                    cout<<"\n\nBook Doesnt Exist\n";
                    continue;

                }

            }

            for(int i=0; i<MAX_BOOKS; i++)
            {
                if((books[i].bookTitle==bookTitleDel) && (books[i].bookPageN==bookPageNDel) && (books[i].bookReview==bookReviewDel) && (books[i].bookPrice==bookPriceDel))
                {
                    a=i;
                    books[i]= {};
                    cout << "\nBook Deleted\n";
                    for(int k=a; k<MAX_BOOKS-1; k++)
                    {
                        books[k]=books[k+1];
                    }
                    break;
                }

            }

            break; //break to exit switch case #4. 
```

如果不存在，此代码将打印 10 次“书不存在”。如何避免？我正在将输入的值与我已经使用此处未显示的“添加书”选项添加的值进行比较。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T03:37:51.067

仅当没有条目匹配时才想打印“书籍不存在”，而不是每次都不匹配时打印。

因此，如果有匹配项，则将布尔变量设置为 true（并中断），如果循环结束后没有匹配项，则打印。

编辑：伪代码

```
 boolean foundMatch = false;
        for(int i=0;i<MAX_BOOKS;i++)
        {
            if((books[i].bookTitle==bookTitleDel) && (books[i].bookPageN==bookPageNDel) && (books[i].bookReview!=bookReviewDel) && (books[i].bookPrice==bookPriceDel))
            {
                foundMatch = true;
                break;
            }
        }
        if (!foundMatch)
        {
            cout<<"\n\nBook Doesnt Exist\n";
        } 
```

顺便说一句，您的代码中有一个错误。如果相等的条件是`a1 == a2 && b1 == b2 && c1 == c2`，那么它的否定（如果为真，则为假）是`!(a1 == a2 && b1 == b2 && c1 == c2)`NOT `a1 != a2 && b1 != b2 && c1 != c2`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T03:52:02.237

代替 2 个 for 循环，使用一个 for 循环并使用 Patashu 所说的布尔变量。

```
 switch = false

    for(int i=0; i<MAX_BOOKS; i++)
    {
        if((books[i].bookTitle==bookTitleDel) && (books[i].bookPageN==bookPageNDel) && (books[i].bookReview==bookReviewDel) && (books[i].bookPrice==bookPriceDel))
        {   
            switch = True
            a=i;
            books[i]= {};
            cout << "\nBook Deleted\n";
            for(int k=a; k<MAX_BOOKS-1; k++)
            {
                books[k]=books[k+1];
            }
            break;
        }

    }
    if (switch == False)
     cout<<"\n\nBook Doesnt Exist\n"; 
```

# css - CSS如何覆盖父主题中的特定选择器？

> ID：14721039
> 
> 赞同：1
> 
> 时间：2013-02-06T03:36:49.677
> 
> 标签：css, parent-child, css-selectors, overriding

我正在创建一个 Limon 主题的子主题。这个父主题使用了很多特定的选择器，例如

```
div#container_wrap {}
div#header ul#nav {}
div.page_heading {} 
```

我正在做一些修改，所以使用“！important”不是一个理想的解决方案。在不诉诸 !important 的情况下覆盖这些 div#id 的最佳方法是什么？特定的选择器在父样式表中广泛使用。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T03:41:28.407

如果您不想使用`!important`，则可以始终在父主题中的 CSS 之后包含您的 CSS（并使用相同的选择器）。

或者，如果您由于某些奇怪的原因无法做到这一点，则采用更极端的方法 - 使用更具体的选择器，例如：

```
body > div#container_wrap ... 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T03:46:44.527

一方面，您的 CSS 规则过于具体。An`ID`是您可能使用*的最具体的*选择器，因此无需通过添加`div`指定 parent来限定它`ID`。

以下规则就足够了。

```
#container_wrap {}
#nav {}
.page_heading {} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T03:43:54.173

将您的**自定义样式**置于**原始样式**之下。像这样写：

```
div#container_wrap {} // original style
div#header ul#nav {} // original style
div.page_heading {} // original style
div#container_wrap {...} // custom style
div#header ul#nav {...} // custom style
div.page_heading {..} // custom style 
```

检查这个[http://jsfiddle.net/9KeN8/](http://jsfiddle.net/9KeN8/)

# ruby - 如何在我的 git hook 目录之外进行 cd

> ID：14721043
> 
> 赞同：2
> 
> 时间：2013-02-06T03:37:15.217
> 
> 标签：ruby, git, gitolite, githooks

我正在用 ruby​​ 编写自己的 git post-receive 钩子，它类似于以下内容：

```
if !File.exists?(rep_dir+repo)
     puts "Cloning repository #{repo} into #{rep_dir}."
     `cd #{rep_dir}; sudo git clone file:////home/git/repositories/#{repo}.git`
exit
end 
```

这个钩子是在 gitolite 通用钩子中设置的，所以当我推送新存储库的配置时，我会立即将其克隆到新位置。

我还在 gitolite 配置中循环每个项目以检查每个项目是否存在存储库，但这不是我遇到问题的地方。

我的问题是，每当此脚本运行时，我都会得到：

```
remote: cd: 1: can't cd to /home/<somedir>/repositories/
remote: Cloning repository gitolite-admin into /home/<somedir>/repositories/. 
```

钩子运行后，存储库未克隆到目标目录。我阅读了有关取消设置 GIT_DIR 环境变量的信息，但没有成功。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T04:24:42.537

克隆时，您不必在任何地方 cd。
您可以简单地将目标路径作为参数添加到克隆命令。

```
git clone file:///xxx /path/where/to/clone 
```

（确保目标路径不存在，否则 git 将拒绝克隆那里）

# javascript - 如何在自定义工具提示中添加日期选择器

> ID：14721046
> 
> 赞同：0
> 
> 时间：2013-02-06T03:37:42.883
> 
> 标签：javascript, jquery, datepicker

我不知道如何将日期选择器（jquery datepicker：http: [//jqueryui.com/datepicker/](http://jqueryui.com/datepicker/)）添加到自定义工具提示中。

我创建工具提示内容的方式是动态连接一些字符串：
`contents += 'test1' + '<input type="text" id="datepicker" >';`

问题是我需要使用 id datepicker 将实际的日期选择器附加到我的输入字段：

```
$("#datepicker").datepicker(); 
```

这不起作用，因为内容还不是 DOM 的一部分。

任何想法如何克服这个问题？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T03:52:59.280

宣布

```
var picker = $('<input type="text" id="datepicker" >');
picker.click(function(){
    picker.datepicker();
}); 
```

进而

```
contents += 'test1';
//domElement is your tooltip content 
domElement.html(contents);
domElement.append(picker); 
```

# c - 原始套接字编程 - 为什么 printf() 会影响数据包发送？

> ID：14721052
> 
> 赞同：0
> 
> 时间：2013-02-06T03:38:18.403
> 
> 标签：c, sockets, raw-sockets

好的，这是一个非常奇怪的问题。我试图创建一个原始套接字 ICMP 数据包来欺骗 ping 请求。

```
int s;
s = socket(PF_INET, SOCK_RAW, IPPROTO_RAW); 
```

接着

```
int one; // I should initialize it as 1, but I didn't. 
const int *val = &one;
setsockopt(s, IPPROTO_IP, IP_HDRINCL, val, sizeof(one));
.... 
```

事实证明，由于我没有将一个初始化为 1，所以被欺骗的客户端无法收到 ping 回复。但是，当我添加一个

`unsigned char *ch = (unsigned char *)spoof;`

就在之前

`close(s);`,

事实证明，被欺骗的客户端可以收到 ping 回复。这是为什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T04:04:55.960

当您未能初始化自动存储时，它获得的值取决于您的程序最后一次使用它的用途，甚至是在同一 VM 空间中运行的前一个程序。因此，*任何事情都*可能发生。添加这行代码只是导致`one`堆栈上的值的对齐方式不同。该变量中的垃圾在其新位置允许原始套接字工作。另一个没有。这是运气。

# windows-phone-7 - 如何在 Windows Phone 7 上设置 SMFPlayer？

> ID：14721056
> 
> 赞同：2
> 
> 时间：2013-02-06T03:39:01.160
> 
> 标签：windows-phone-7, streaming, installation, smooth, smf

我一直在尝试按照 [http://smf.codeplex.com/documentation](http://smf.codeplex.com/documentation) “构建 Windows Phone 播放器”下的步骤播放简单流畅的流媒体视频。我完全按照这些步骤进行操作，甚至使用了 Big Buck Bunny 示例。我正在使用 Visual Studio 2010、来自 smf.codeplex.com 的 microsoft-smf-binwp7-2.2012.0605.0.zip 中的库和 Microsoft.Web.Media.SmoothStreaming v1.1.837.146。我正在 Windows 7 手机上调试（我也尝试过发布），但视频从不播放。视图加载，播放器控件可见，播放器上没有设置时间，播放按钮可见。我从来没有收到过 MediaOpened 或 MediaPluginRegistered 事件。我什至尝试将 AutoLoad 和 AutoPlay 设置为 true 并单击播放按钮。

在 Loaded 事件之后我得到的唯一异常如下： FileNotFoundException 文件或程序集名称'System.Windows.debug.resources，Version=2.0.5.0，Culture=en-US，PublicKeyToken=7cec85d7bea7798e'，或其依赖项之一，没找到。

附带说明一下，我在 Windows 8 Phone 构建上尝试了完全相同的操作，以在 Windows 8 手机上进行调试，并且效果很好。请帮忙！

# android - 在 PC 连接上创建日志

> ID：14721058
> 
> 赞同：0
> 
> 时间：2013-02-06T03:39:09.443
> 
> 标签：android, logging, android-logcat

我想在 android 手机/平板电脑连接到带有日期和时间的 PC 时创建日志用户活动

我搜索了很多我无法找到如何捕捉 USB 连接事件

我已经实现了`log4j`记录异常和电话用户的步骤。但是我无法记录有关 PC 连接的任何内容。

请帮我。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T03:51:04.877

您可以使用以下接收器，android.intent.action.UMS_CONNECTED

```
<receiver android:name="org.usbcheck.USBReceiver" >
            <intent-filter>
                <action android:name="android.intent.action.UMS_CONNECTED" />
                <action android:name="android.intent.action.UMS_DISCONNECTED" />
            </intent-filter>
        </receiver> 
```

用于记录

```
public class USBReceiver extends BroadcastReceiver {
    public Context _context;

    @Override
    public void onReceive(Context context, Intent intent) {

        if (intent.getAction().equalsIgnoreCase(
                "android.intent.action.UMS_CONNECTED")) {

                Log.d("Connected", "Log Message");

        }

        else if (intent.getAction().equalsIgnoreCase(
                "android.intent.action.UMS_DISCONNECTED")) {

                Log.d("DisConnected", "Log Message");

        }

    }

} 
```

> 检查 android.intent.action.ums_connected 时的主要问题是使用 MTP 协议的设备（例如三星 Nexus Galaxy）没有收到此广播。

来源：[Android：检测 USB](https://stackoverflow.com/questions/4600896/android-detecting-usb)

或者检查充电以防设备具有 USB 充电模式

```
// How are we charging?
int chargePlug = battery.getIntExtra(BatteryManager.EXTRA_PLUGGED, -1);
boolean usbCharge = chargePlug == BATTERY_PLUGGED_USB;
boolean acCharge = chargePlug == BATTERY_PLUGGED_AC; 
```

来源：http: [//developer.android.com/training/monitoring-device-state/battery-monitoring.html](http://developer.android.com/training/monitoring-device-state/battery-monitoring.html)

# ruby-on-rails - 同时使用 attr_accessible 和 attr_readonly 不允许创建记录

> ID：14721061
> 
> 赞同：1
> 
> 时间：2013-02-06T03:39:21.360
> 
> 标签：ruby-on-rails, performance, rails-activerecord, mass-assignment

`attr_accessible`将所有未指定的属性标记为受保护，但我需要在创建时仍写入一些关键属性，如`attr_readonly`.

我的模型设置如下：

```
class Foo < ActiveRecord::Base
  attr_accessible :bar, :baz
  attr_readonly :shiz
end

class FooParent < ActiveRecord::Base
  has_many :foos
end

@foo_parent.foos.build(:bar => 1, :baz => 2, :shiz => 3)     # Can't mass-assign protected attribute: :shiz 
```

这里明显的解决方法是不使用`attr_readonly`，创建没有关键属性的对象，然后设置并保存它们。这种方法的缺点是我现在至少有 2 次写入，而且这种创建方法需要尽可能地提高性能。

```
@foo_parent.foos.build(:bar => 1, :baz => 2)                 # write #1
@foo_parent.foos.each do |f|
  f.update_attribute(:baz, 3)                                # write #2 and more
end 
```

如何在 1 次写入中创建具有可访问属性和只读属性的对象而不触发`Can't mass-assign protected attributes`错误，同时在创建后仍然享受只读保护的好处？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T05:27:40.980

**编辑：** 见[批量分配安全](http://api.rubyonrails.org/classes/ActiveModel/MassAssignmentSecurity/ClassMethods.html)

代替

```
attr_accessible :bar, :baz 
```

和

```
attr_accessible :bar, :baz, :shiz 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-06T03:53:55.160

你可以`Foo.create`用`Foo.new`.

```
f = Foo.new(:bar => 1, :baz => 2)             # no write
f.update_attribute(:shiz, 3)                     # write 1 
```

您也可以设置`:shiz`为*和* `attr_accessible`。`attr_readonly`

```
attr_accessible :bar, :baz, :shiz
attr_readonly :shiz

f = Foo.create(bar: 1, baz: 2, shiz: 3)        # write 1 
```

如果您现在尝试修改`:shiz`它不会改变（因为它是只读的）：

```
f.update_attribute(:shiz, 15)
f.reload
f.shiz
=> 3 
```

# python - python：比较2个实例列表

> ID：14721062
> 
> 赞同：1
> 
> 时间：2013-02-06T03:39:34.090
> 
> 标签：python, list, class, search, instance

我有 2 个实例列表：

```
list1
list2 
```

每个实例都包含变量，例如 id、name 等...

我正在遍历list2，我想查找list1 中不存在的条目。

例如..

```
for entry in list2:
  if entry.id in list1:
    <do something> 
```

我希望找到一种方法来做到这一点，而无需双重 for 循环。有没有简单的方法？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-06T03:52:10.390

我可能会做类似的事情：

```
set1 = set((x.id,x.name,...) for x in list1)
difference = [ x for x in list2 if (x.id,x.name,...) not in set1 ] 
```

实例的附加（可散列）属性在哪里`...`- 您需要包含足够多的属性以使其唯一。

这需要您的 O(N*M) 算法并将其转换为 O(max(N,M)) 算法。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-06T04:07:55.990

只是一个想法...

```
class Foo(object):
    def __init__(self, id, name):
        self.id = id
        self.name = name
    def __repr__(self):
        return '({},{})'.format(self.id, self.name)

list1 = [Foo(1,'a'),Foo(1,'b'),Foo(2,'b'),Foo(3,'c'),]
list2 = [Foo(1,'a'),Foo(2,'c'),Foo(2,'b'),Foo(4,'c'),] 
```

所以通常这不起作用：

```
print(set(list1)-set(list2))
# set([(1,b), (2,b), (3,c), (1,a)]) 
```

但是您可以教`Foo`两个实例相等的含义：

```
def __hash__(self):
    return hash((self.id, self.name))

def __eq__(self, other):
    try:
        return (self.id, self.name) == (other.id, other.name)
    except AttributeError:
        return NotImplemented

Foo.__hash__ = __hash__
Foo.__eq__ = __eq__ 
```

现在：

```
print(set(list1)-set(list2))
# set([(3,c), (1,b)]) 
```

* * *

当然，您更有可能在类定义时定义`__hash__`并`__eq__`打开`Foo`，而不是稍后需要对其进行猴子补丁：

```
class Foo(object):
    def __init__(self, id, name):
        self.id = id
        self.name = name

    def __repr__(self):
        return '({},{})'.format(self.id, self.name)

    def __hash__(self):
        return hash((self.id, self.name))

    def __eq__(self, other):
        try:
            return (self.id, self.name) == (other.id, other.name)
        except AttributeError:
            return NotImplemented 
```

* * *

为了满足我自己的好奇心，这里有一个基准：

```
In [34]: list1 = [Foo(1,'a'),Foo(1,'b'),Foo(2,'b'),Foo(3,'c')]*10000

In [35]: list2 = [Foo(1,'a'),Foo(2,'c'),Foo(2,'b'),Foo(4,'c')]*10000
In [40]: %timeit set1 = set((x.id,x.name) for x in list1); [x for x in list2 if (x.id,x.name) not in set1 ]
100 loops, best of 3: 15.3 ms per loop

In [41]: %timeit set1 = set(list1); [x for x in list2 if x not in set1]
10 loops, best of 3: 33.2 ms per loop 
```

所以@mgilson 的方法更快，尽管定义`__hash__`并`__eq__`导致`Foo`代码更具可读性。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-06T03:45:40.073

您可以使用`filter`

```
difference = filter(lambda x: x not in list1, list2) 
```

在 Python 2 中，它将返回您想要的列表。在 Python 3 中，它将返回一个`filter`对象，您可能希望将其转换为列表。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T03:45:34.557

大概是这样的？

```
In [1]: list1 = [1,2,3,4,5]

In [2]: list2 = [4,5,6,7]

In [3]: final_list = [x for x in list1 if x not in list2] 
```

# xcode - 使用 Xcode，为什么我的 git 分支叫 [32master[m?

> ID：14721066
> 
> 赞同：0
> 
> 时间：2013-02-06T03:39:46.790
> 
> 标签：xcode, git, branch, git-branch

当我在 Xcode 4.6 中创建一个新项目并打开 git - 我的默认分支奇怪地命名为“[32master [m”。这是出现在 Organizer->Repositories->Branches 区域中的名称。

当我使用 iTerm 并进入项目目录时，输入：

```
git branch 
```

节目

```
* master 
```

我知道我很接近，因为当我输入时：

```
git branch | od -c 
```

我明白了

```
0000000    *     033   [   3   2   m   m   a   s   t   e   r 033   [   m
0000020   \n                                                            
0000021 
```

关于如何获得“正常”命名的主分支的任何想法？

这样做的结果是我不能以任何方式推送、分支或操作 repo。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T04:25:32.747

如果输出

```
$ git config --global color.branch 
```

是“总是”，尝试运行

```
$ git config --global color.branch auto 
```

您看到的额外字节用于为`git branch`;的输出着色 将选项设置为“auto”将`git branch`仅在输出用于终端且不被其他程序（在本例中为 XCode）使用时才使用着色。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T03:45:23.053

您看到的字节仅表示 git 使用[ANSI 转义码](http://en.wikipedia.org/wiki/ANSI_escape_code)以绿色突出显示分支名称“master” 。那么，当您尝试推送、分支或以其他方式操作 repo 时会发生什么？

如果您像在[Xcode 4 Git 中一样删除项目的派生数据——“此文件在请求的修订版中不存在”](https://stackoverflow.com/questions/7101096)，那么您可以分支吗？

# mysql - MySQL - 选择表中的记录，其中另一个表中的关联记录都不等于某个值

> ID：14721073
> 
> 赞同：1
> 
> 时间：2013-02-06T03:40:44.810
> 
> 标签：mysql, sql, select

抱歉，如果这重复了其他人的问题，但我已经研究了很长时间，但还没有找到解决方案。

我有两个表，`todo_list`（其中包含一个 TODO 列表的列表）和`task`（其中包含一个任务列表，每个都与一个 TODO 列表相关联）。

这是相关的结构：

**待办事项列表**

*   ID

**任务**

*   ID
*   todo_list_id （与 todo_list 中**的**id*相同*）
***   已删除（为 0 或 1）**

 **多个任务分配给每个 TODO 列表。我希望能够选择删除所有关联任务的 TODO 列表。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T04:03:42.753

您可以使用仅指定未删除任务的连接条件进行左连接。然后，未连接的行将是那些没有任务的行`deleted = 0`。

```
SELECT todo_list.* FROM todo_list
LEFT JOIN task ON todo_list.id = task.todo_list_id && task.deleted = 0
WHERE task.todo_list_id IS NULL 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T03:50:50.373

我认为这些类型查询的最佳方法是聚合：

```
select todo_list_id
from task t
group by todo_list_id
having sum(deleted) = count(*) 
```

或者，替代`having`条款是：

```
having max(case when deleted = 0 then 1 else 0 end) = 0 
```

如果您尝试获取所有任务都已删除或取消删除的列表，则以下`having`子句有效：

```
having min(deleted) <> max(deleted) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T04:01:12.887

试试这个查询

```
select distinct tl.id, tName from todo_list tl, task t where 
tl.id=t.todo_list_id and
tl.id not in (select todo_list_id from task where deleted =1); 
```

注意：假设删除的记录的值为 0，如果它是 1，则在查询中将值更改为 0

[http://sqlfiddle.com/#!2/01b27/9](http://sqlfiddle.com/#!2/01b27/9)

希望这可以帮助**

# c++ - cout C++期间的堆错误

> ID：14721091
> 
> 赞同：0
> 
> 时间：2013-02-06T03:42:03.483
> 
> 标签：c++, cout, heap-corruption

尝试计算 Data[index] 的返回值时出现错误。如果有人可以帮助我，那就太棒了。我知道通常这些错误是由分配的内存冲突或指针引用已删除的索引等引起的。虽然我没有删除任何东西，所以我不知道这个错误来自哪里。

**头文件：**

```
#pragma once
#define INITIAL_CAPACITY 100
#define CAPACITY_BOOST 40

//Encapsulates the C-array
template <typename DATA_TYPE>
class Vector
{
public:
//Default / init-constructor hybrid
Vector(int initialCapacity = INITIAL_CAPACITY)
{
    Size=0;
    Capacity = initialCapacity;

    //Allocate the encapsulated C-array
    Data= new DATA_TYPE[Size];
}

//MUST HAVE A COPY-CONSTRUCTOR THAT PERFORMS deep-copy
Vector(const Vector& copyFrom)
{
    //Necessary to prevent assignment operator from crashing
    //because it will attempt to Delete[] Data whe the Data pointer is garbage.
    Data=NULL;
    //Use assignment operator to perform the deep copy
    *this = copyFrom;
}

//The class MUST have a destructor
~Vector()
{
    //Deallocate memory that our class has allocated
    delete[] Data;
}
//MUST have an assignment operator that performs deep copy
Vector& operator =(const Vector& copyFrom)
{
    //0\. Delete the old memory
    delete[] Data;
    //1\. Copy size and Capacity
    Size = copyFrom.Size;
    Capacity = copyFrom.Capacity;
    //2\. Allocate Memory
    Data = new DATA_TYPE[Capacity];
    //3\. Copy elemenets
    for(int i=0; i < Size; i++)
        Data[i]= copyFrom.Data[i];

    //All assignment operators should return *this
    return *this;
}

//Get accessors to return the values of Size and Capacity
int GetSize() const
{
    return this->Size;
}

int GetCapacity() const
{
    return Capacity;
}

void Insert(int insertAt, const DATA_TYPE& newElement)
{
    //**ASSIGNMENT**
    //1\. Determine if we have enough capacity for extra element(reallocate)
    Size=GetSize();
    if(Size>=Capacity)
    {
        Capacity += CAPACITY_BOOST;
    }
    //Use a function to check bounds.

    if((insertAt > Capacity)||(insertAt < 0))
    {
        throw "Index is out of bounds";
    }
    //2.Move the tail
    for (int i=Size+1; i > insertAt; i--)
        Data[i]=Data[i-1];

    //3.Insert element
    Data[insertAt]= newElement;

}
//Inserts a new element at the end fo the Vector and increments the size
void Add(const DATA_TYPE& newElement)
{

    Insert(Size, newElement);
    Size++;
}

void Remove(int index)
{
    delete Data[index];
    for(i=index; i < Size-1; i++)
        Data[i]=Data[i+1];
    Size--;
    Capacity=Size;
    //**ASSIGNMENT**
    //Resize. Shrink vector when you have too much capacity
    //TEST EVERYTHING
}

// Index operator
DATA_TYPE operator[] (int index) const
{
    // Check the bounds and throw an exception
    if ( (index < 0) || (index >= Size) )
        throw "Error";

    return Data[index];
}

private:
//The count of actually used C-array elements
int Size;
//The count of the allocated C-array elements
int Capacity;
//The encapsulated C-array (pointer)

DATA_TYPE* Data;
}; 
```

**主要的：**

```
 #include <iostream>
#include "vector.h"
using namespace std;

#define TEST_CAPACITY 100
#define TEST_SIZE 10

template<typename DATA_TYPE>
void PassByValueTest(Vector<DATA_TYPE>passedByValue)
{
}
void main()
{
//myVector is initialized using the default constructor
Vector<int> myVector;

//Populate myVector with some test values
for (int i=0; i< TEST_SIZE; i++)
    myVector.Add(i);

//myOtherVector initialized using the init-constructor, initial capacity is 10
//Vector<int> myOtherVector(TEST_CAPACITY);

//Test by passing vector by value
/*
PassByValueTest(myVector);

myVector = myOtherVector;
*/
for(int i = 0; i < TEST_SIZE; i++)
{
    cout << myVector[i];
}
system("pause");
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T03:47:09.427

我想你应该切换：

```
Data= new DATA_TYPE[Size]; 
```

到

```
Data= new DATA_TYPE[Capacity]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T03:48:19.523

你在做`Data = new DATA_TYPE[0];`

```
Vector(int initialCapacity = INITIAL_CAPACITY)
{
    Size=0;                    // <<<---
    Capacity = initialCapacity;

    //Allocate the encapsulated C-array
    Data= new DATA_TYPE[Size];  // note Size is 0
} 
```

然后访问`Data[i]`是未定义的行为：

```
for(int i = 0; i < TEST_SIZE; i++)
{
    cout << myVector[i];
} 
```

旁注，您应该从 main 返回 int，`void main`标准中没有：

```
int main()
{
} 
```

# r - 从 glm 拟合的 lapply 列表中提取 p 值

> ID：14721096
> 
> 赞同：5
> 
> 时间：2013-02-06T03:42:34.247
> 
> 标签：r, glm, lapply

我正在使用 lapply 一次对一个因变量执行一个自变量的几个 glm 回归。现在我`Pr(>|z|)`对每个自变量特别感兴趣。但是，我不确定如何仅`Pr(>|z|)`使用 lapply 的列表进行报告。

如果我一次只运行一个模型： `coef(summary(fit))[,"Pr(>|z|)"]` 或者 `summary(fit)$coefficients[,4]` 会工作（如此[处](https://stackoverflow.com/a/12341400/1670053)所述），但尝试类似的东西`lapply`似乎不起作用。我可以使用`lapply`和`glm`使用访问器方法或直接从模型调用获得 p 值吗？

```
#mtcars dataset
vars <- names(mtcars)[2:8]
fits <- lapply(vars, function(x) {glm(substitute(mpg ~ i, list(i = as.name(x))), family=binomial, data = mtcars)})
lapply(fits,summary) # this works
lapply(fits, coefficients) # this works
#lapply(fits, summary(fits)$coefficients[,4])# this for example does not work 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-06T03:46:48.770

你想做：

```
lapply(fits, function(f) summary(f)$coefficients[,4]) 
```

但是，如果每个项目都只是一个 p 值，那么您可能宁愿拥有一个向量而不是一个列表，因此您可以使用`sapply`而不是`lapply`：

```
sapply(fits, function(f) summary(f)$coefficients[,4]) 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-06T03:51:41.170

当您运行`lapply(fits, summary)`它时，它会创建一个 summary.glm 对象列表，每个对象都使用打印`print.summary.glm`

如果你保存这个

```
 summaries <- lapply(fits, summary) 
```

然后您可以通过并提取系数矩阵

```
 coefmat <- lapply(summaries, '[[', 'coefficients') 
```

然后是第 4 列

```
 lapply(coefmat, '[', , 4) 
```

# php - 使用谷歌融合表作为数据库是个好主意吗？

> ID：14721098
> 
> 赞同：0
> 
> 时间：2013-02-06T03:42:47.547
> 
> 标签：php, database, google-fusion-tables

在我的协会中，我们有一个数据库站点来管理我们工作的各个方面。

我们拥有从小到大的数据集，例如我们的会员数据库，每年约有 8000 名会员。我们认为使用谷歌融合表而不是我们的主机数据库来存储这种大数据可能是一个好主意。

你怎么看待这件事？它是一个可靠的系统吗？有行数限制吗？平均而言，由于谷歌服务器的强大，它会比我们的 Dreamhost 数据库更快吗？

PS：我们使用wordpress作为平台。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:21:43.913

如果您担心存储或带宽，最好升级您的服务器，即使用专用平台等。

Google Fusion Tables 非常适合统计数据以及将数据与云中的其他人进行比较。它绝对不是存储敏感会员信息的地方。

另外，如果您使用它作为您的主数据库，Google 拥有它，并且可以随时关闭它或从中读取。

只是想一想。

# database - 如何管理表格所需的数据

> ID：14721100
> 
> 赞同：0
> 
> 时间：2013-02-06T03:42:53.593
> 
> 标签：database, required

我有一个表，其中必须存在 3 条必需记录，以便使用该表的应用程序正常运行。例如，如果这是一个链表树表，在我的例子中，必须存在三个顶级组。当我开始使用这个表时，所有未来的组必须始终在一个组下，并且不能创建其他顶级组。

```
Group TL1
   Group A
       Group AA

Group TL2
   Group B
   Group B1
      Group B1B

Group TL3
   Group C 
```

注意组 TL1、TL2 和 TL3 必须始终存在，否则会破坏应用程序要求的数据完整性。

插入/保护所需顶级组的最佳方法是什么？

我的一个想法是在创建表时插入所需的数据，并具有检查所需数据是否存在的功能。但是，我也不想总是检查它们的存在，因为它似乎过多且效率低下。

非常感谢您的回复。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T03:50:26.350

根据数据库，您可以尝试以下操作：

1）有一个外键约束，如果它被破坏，它会阻止更新/删除 - 如果行 A 通过外键引用行重要，那么你不能删除行重要，因为数据库将检查约束并阻止它。

2) 在删除/更新/插入之前运行触发器（根据需要），确保重要的行存在并阻止操作（或插入），如果它违反了这一点。

我会研究您使用的任何数据库风格的选项。

# java - Java中的异常错误

> ID：14721101
> 
> 赞同：-2
> 
> 时间：2013-02-06T03:43:00.160
> 
> 标签：java, exception, awt

我创建了一个Java程序，它将十进制转换为二进制，反之亦然。我的十进制到二进制没有任何问题。但是当我将二进制编码为十进制时，出现以下错误：

```
Exception in thread "AWT-EventQueue-0" java.lang.NumberFormatException: For input string: ""
at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
at java.lang.Integer.parseInt(Integer.java:470)
at java.lang.Integer.parseInt(Integer.java:499)
at converter.actionPerformed(converter.java:42)
at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2028)
at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2351)
at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:387)
at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:242)
at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:236)
at java.awt.Component.processMouseEvent(Component.java:6382)
at javax.swing.JComponent.processMouseEvent(JComponent.java:3275)
at java.awt.Component.processEvent(Component.java:6147)
at java.awt.Container.processEvent(Container.java:2083)
at java.awt.Component.dispatchEventImpl(Component.java:4744)
at java.awt.Container.dispatchEventImpl(Container.java:2141)
at java.awt.Component.dispatchEvent(Component.java:4572)
at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4619)
at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4280)
at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4210)
at java.awt.Container.dispatchEventImpl(Container.java:2127)
at java.awt.Window.dispatchEventImpl(Window.java:2489)
at java.awt.Component.dispatchEvent(Component.java:4572)
at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:704)
at java.awt.EventQueue.access$400(EventQueue.java:82)
at java.awt.EventQueue$2.run(EventQueue.java:663)
at java.awt.EventQueue$2.run(EventQueue.java:661)
at java.security.AccessController.doPrivileged(Native Method)
at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:87)
at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:98)
at java.awt.EventQueue$3.run(EventQueue.java:677)
at java.awt.EventQueue$3.run(EventQueue.java:675)
at java.security.AccessController.doPrivileged(Native Method)
at java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:87)
at java.awt.EventQueue.dispatchEvent(EventQueue.java:674)
at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:296)
at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:211)
at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:201)
at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:196)
at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:188)
at java.awt.EventDispatchThread.run(EventDispatchThread.java:122) 
```

这是我的代码：

```
 import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

public class converter  extends JFrame implements ActionListener {

    JTextField txt1;
    JTextField txt2;
    JLabel lbl1;
    JLabel lbl2;
    JButton b1;
    JButton b2;

    public converter(){
        Container c = getContentPane();
        JPanel jp = new JPanel();
        c.add(jp);
        jp.add(lbl1=new JLabel("Decimal: "));
        jp.add(txt1=new JTextField(10));
        jp.add(lbl2=new JLabel("Binary: "));
        jp.add(txt2=new JTextField(10));
        jp.add(b1=new JButton("Convert"));
        jp.add(b2=new JButton("Clear"));
        b1.addActionListener(this);
        b2.addActionListener(this);

    }

    public static void main(String[] args) {
        converter cvt = new converter();
        cvt.setResizable(false);
        cvt.setVisible(true);
        cvt.setSize(250,150);
        cvt.setTitle("Decimal - Binary Converter");
    }

    @Override
    public void actionPerformed(ActionEvent e) {
        // TODO Auto-generated method stub

        String num = txt1.getText();
        int i = Integer.parseInt(num);
        if(txt1 != null && e.getSource() == b1){
            String z = Integer.toBinaryString(i);
            txt2.setText(z);
        }
        else if(e.getSource() == b2){
            txt1.setText("");
            txt2.setText("");
        }
        else if(txt2 != null && e.getSource() == b1){
            int x = Integer.parseInt(txt2.getText().trim(), 2);
            txt1.setText(""+x);
        }
    }

} 
```

你能指出什么是错的吗？什么是它的解决方案。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T03:52:06.210

您没有任何边界检查您的代码。Aka，您有两个文本输入和一个“转换”功能，但该功能适用​​于以下所有组合：

*   十进制输入和二进制输入都给出
*   十进制输入和二进制输入都省略
*   给出十进制输入，省略二进制输入
*   省略十进制输入，给出二进制输入

您需要决定在所有四种情况下要做什么，然后适当地进行解析。其中四分之三的情况非常容易处理 - 当用户同时填写十进制和二进制输入字段然后点击转换时，您必须决定要做什么（我建议在这种情况）。

就目前而言，您在所有情况下都在解析 Decimal 输入字段，当其留空时，这将转换为：

```
Integer.parseInt("") 
```

`NumberFormatException`正如预期的那样，它会抛出一个。

* * *

我会处理您的四种可能的情况，如下所示：

```
public static boolean isEmpty(final String str) {
    return (str == null || str.trim().equals(""));
}

final String decimalInput = text1.getText();
final String binaryInput = text2.getText();

if(! isEmpty(decimalInput)) {
    if( ! isEmpty(binaryInput)) {
        // Decimal input and Binary input are both given, show error
    } else {
        // Decimal input is given, Binary input is omitted, convert to binary
    }
} else {
    if( isEmpty(binaryInput)) {
        // Decimal input and Binary input are both omitted, show error
    } else {
        // Decimal input is omitted, Binary input is given, convert to decimal
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T03:54:28.570

有几件事浮现在脑海。

您可以捕获异常并显示一条消息，告诉用户他们输入的值无效。您还应该`trim`确定该字段的结果。

```
public void actionPerformed(ActionEvent e) {
    // TODO Auto-generated method stub

    try {      
        String num = txt1.getText().trim(); // <-- Trim the incoming value
        int i = Integer.parseInt(num);
        if(txt1 != null && e.getSource() == b1){
            String z = Integer.toBinaryString(i);
            txt2.setText(z);
        }
        else if(e.getSource() == b2){
            txt1.setText("");
            txt2.setText("");
        }
        // I'm not sure if this a logic error or not, but txt2 is text field...
        // Did you think it was the text from the field??
        else if(txt2 != null && e.getSource() == b1){
            int x = Integer.parseInt(txt2.getText().trim(), 2);
            txt1.setText(""+x);
        }
    } catch (NumberFormatException exp) {
        // Display message...
    }
} 
```

另一种是使用 a`DocumentFilter`来防止用户输入任何对字段无效的值。

查看[文本组件功能](http://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter)和[示例](http://www.jroller.com/dpmihai/entry/documentfilter)

**更新**

你也有一些逻辑错误......

`txt1`并且`txt2`永远不可能`null`，除非你做错了什么可怕的事情......

您应该检查首先按下的是哪个按钮，这将使您能够更清楚地决定如何进行。

然后，您应该检查字段中的文本并决定要继续的转换路径...

```
try {
    if (e.getSource() == b1) {
        String dec = txt1.getText();
        String bin = txt2.getText();

        if (dec != null && dec.trim().length() > 0 &&
            bin != null && bin.trim().length() > 0) {
            // Both fields are filled out?!
        } else if (dec != null && dec.trim().length() > 0) {
            String value = txt1.getText();
            int i = Integer.parseInt(dec);
            String z = Integer.toBinaryString(i);
            txt2.setText(z);
        } else if (bin != null && bin.trim().length() > 0) {
            int x = Integer.parseInt(bin, 2);
            txt1.setText("" + x);
        }
    } else if (e.getSource() == b2) {
        txt1.setText("");
        txt2.setText("");
    }
} catch (NumberFormatException exp) {
    exp.printStackTrace();
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T03:46:14.887

检查`txt1`并`txt2`评估它是否是数字。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T03:48:51.707

跟踪的第一行显示当您的程序尝试将空字符串 ( `""`) 转换为`int`. 如果进一步往下看（第 5 行），`actionPerformed`方法中会出现错误。特别是，这些行：

```
String num = txt1.getText();
int i = Integer.parseInt(num); 
```

您可以通过首先检查字符串是否不为空来解决此问题：

```
if (num.length() < 1)
  // tell user they must enter a number 
```

# sql - 与其他表中的可变行分组，sql server

> ID：14721102
> 
> 赞同：0
> 
> 时间：2013-02-06T03:43:09.473
> 
> 标签：sql, join, group-by

我有 3 个结果集为-

@userIDs -

```
 UserID
   1
   2 
```

@crsIDs -

```
 CurriculumID
    1
    2 
```

@结果

```
UserID  CurriculumID FailOrPass
  1          1       1
  2          1       0
  1          2       0
  2          2       0 
```

有 2 个用户和 2 个课程，1 表示通过，0 表示失败（FailOrPass），现在我想知道有多少用户通过，有多少失败。要通过用户必须通过每个课程，否则他将失败。在上面的示例中，输出可以是 -

```
UserID    FailOrPass
  1           0
  2           0 
```

因为没有一个用户通过所有课程。

我很难通过@crsIDs 对@result 表进行分组，为了进一步计算整体FailOrPass，我的想法是按@result 表对@crsIDs 和@userIDs 进行分组，并获得FailOrPass 的最小值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T03:46:39.160

您可以转到@result 表并使用：

```
 select userId, min(FailOrPass) as FailOrPass
 from @result
 group by userId 
```

如果任何值为 0，该`min()`函数将返回 0。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T03:47:13.357

```
SELECT UserID, FailOrPass = MIN(FailOrPass)
FROM @Result
GROUP BY UserID 
```

应该返回预期的输出。

# python - 在 Python 中组合多组字母

> ID：14721104
> 
> 赞同：3
> 
> 时间：2013-02-06T03:43:30.327
> 
> 标签：python

我试图弄清楚如何打印多组字母的所有组合而不重复。

示例：A、B、C 和 X、Y、Z

组合将是：

AX AY AZ BX BY BZ CX CY CZ

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-06T03:47:15.230

你可以用[`itertools.product`](http://docs.python.org/2/library/itertools.html#itertools.product)得到你想要的。

```
from itertools import product
a = ['A', 'B', 'C']
b = ['X', 'Y', 'Z']

for i in product(a, b):
    print ''.join(i) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T03:46:39.520

您可以循环遍历两组：

```
for a in abcstring:
    for x in xyzstring:
        print a + x 
```

# c# - WPF，为什么我的 BackgroundWorker 函数只运行一次？

> ID：14721105
> 
> 赞同：-4
> 
> 时间：2013-02-06T03:43:34.137
> 
> 标签：c#, wpf, function, backgroundworker

我有一个函数，我想每 1 秒运行一次，除此之外我还有其他东西，因为我在我的其他函数上使用 Thread 并避免窗口崩溃我决定使用 Backgroundworker 来调用假设像这样运行的函数：

```
Main()
{
    BackgroundWorker worker = new BackgroundWorker();
    worker.DoWork += new DoWorkEventHandler(worker_DoWork);
    worker.RunWorkerAsync();
}

public void worker_DoWork(object sender, EventArgs e)
{
    AutoChecking(); // thats a function should Run on Background every 1 second
}

public void AutoChecking()
{
    this.Dispatcher.BeginInvoke(DispatcherPriority.Background, new Action(() =>
    {
        if (SystemisGood == true)
            Updatecolor.Fill = Green;
        else
            Updatecolor.Fill = Red;
    }));
} 
```

然而，这个功能现在只能工作一次，任何理由或解决方案让它每秒钟工作一次并留在后台工作人员？！PS：我不想用定时器...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T04:02:51.757

不使用计时器很浪费，因为它们非常轻量级并且只是发送定期消息，但是您可以通过使用低开销轮询循环并检查时间来完成您想要的事情，就像计时器代码本身所做的一样. 例如：

```
Main()
{
    BackgroundWorker worker = new BackgroundWorker();
    worker.DoWork += new DoWorkEventHandler(worker_DoWork);
    worker.RunWorkerAsync();
}

bool exitBGThread = false;

public void worker_DoWork(object sender, EventArgs e)
{
    TimeSpan interval = new TimeSpan(0, 0, 1);
    while (!exitBGThread)
    {
        DateTime start = DateTime.Now;
        AutoChecking();  // thats a function should Run on Background every 1 second

        while (!exitBGThread)
        {
            DateTime cur = DateTime.Now;
            if (cur - start >= interval)
                break;
            Thread.Sleep(100);
        }
    }
}

public void AutoChecking()
{
    this.Dispatcher.BeginInvoke(DispatcherPriority.Background, new Action(() =>
    {
        if (SystemisGood  == true )
             Updatecolor.Fill = Green;
        else 
             Updatecolor.Fill = Red;
    }));
} 
```

这有点简化，因为如果您实际使用了 exitBGThread，您可能希望使用 lock { }，但您明白了。

# ssas - SSAS 2012 多维数据集浏览器-如何从维度创建列？

> ID：14721106
> 
> 赞同：8
> 
> 时间：2013-02-06T03:43:43.620
> 
> 标签：ssas, cube, dimension

我是 SSAS 新手，并在 SSAS 2012 中创建了一个多维数据集。

当我浏览多维数据集时，我可以轻松地将我的维度作为行，但是如何将它们添加为列？在以前的版本中（我可以访问 2008 年创建的 Cube），当您浏览多维数据集时，您可以将维度拖到列或行中。

我是否错误地设置了我的立方体？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-05-15T13:01:02.313

简而言之：您不能再使用了，因为该功能不再可用。[根据克里斯韦伯](http://cwebbbi.wordpress.com/2012/03/26/whats-new-in-analysis-services-2012-multidimensional/)：

> 立方体浏览器现已从 SSDT 中消失，取而代之的是 SSRS 查询生成器使用的控件。这是因为旧浏览器使用了多年前弃用的 OWC 控件，最后不得不更换；这是一个巨大的倒退，因为这种控制真的很糟糕：例如，您不能再在查询中的列上放置除度量之外的任何东西。

您可以通过更改为设计模式并在 Columns 轴上创建一个带有维度的简单 MDX 查询来确认这一点：

```
SELECT
[Geography].[Country].[Country] ON COLUMNS
FROM [Adventure Works] 
```

如果我在 SSAS 浏览器中运行此查询，则会收到错误消息

> 查询准备失败：...第一个轴 [不应] 引用除“度量”维度之外的任何维度”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T02:47:47.747

我想你的意思是 BIDS/Visual Studio 中的立方体浏览器？这通常是在浪费时间：它的功能很差，并且会定期返回与其他工具不同的结果。

您最好使用最终用户使用的相同客户端工具。Excel 2010 / 2013 相当不错。

# unit-testing - 让 phpunit 与 zend framework2 一起工作

> ID：14721112
> 
> 赞同：4
> 
> 时间：2013-02-06T03:44:01.450
> 
> 标签：unit-testing, phpunit, zend-framework2

我正在学习 Zend Framework2 教程，我已经到了最后（让 phpunit 运行）：

[http://framework.zend.com/manual/2.1/en/user-guide/unit-testing.html](http://framework.zend.com/manual/2.1/en/user-guide/unit-testing.html)

我将 "phpunit/phpunit": "3.7.*" 包含在我的 composer.json 文件中，对其进行了更新，看起来它已安装到我项目的 "Vendor" 目录中。

我现在如何使用它？我在 Mac 上。我在这部分：最后，cd 到 zf-tutorial/module/Application/test/ 并运行 phpunit。因为我的 $PATH 中没有安装 phpunit，所以我使用哪个文件作为可执行文件？任何帮助将非常感激。

这是我的文件夹结构。![在此处输入图像描述](../Images/a504884b945bd626002c4dd8c8b451ad.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-11T01:47:37.180

通过composer安装时使用phpunit必须运行的命令是`./vendor/bin/phpunit`

[您可以在http://getcomposer.org/doc/articles/vendor-binaries.md](http://getcomposer.org/doc/articles/vendor-binaries.md)阅读有关 composer 如何处理二进制文件的更多信息

# android - ExpandableListView 小部件上的 IndexOutOfBounds 异常

> ID：14721113
> 
> 赞同：0
> 
> 时间：2013-02-06T03:44:02.840
> 
> 标签：android, widget

我正在使用一个`ExpandableListView`小部件，它根据特定`ArrayList`（称为`q`）中的元素来扩展子视图。这工作正常。

问题是，在所有子视图下方，我想添加一个额外的视图。看起来这应该很简单：在适配器的`getChildrenCount()`方法中，我添加`1`了相关`ArrayList`. 然后，在该`getChildView()`方法中，我使用了具有 2 种情况的 switch（位置）语句：

*   一种默认情况，它为 ArrayList 中的每个对象扩展常规子视图
*   案例：-1，创建特殊视图（目前我只是使用 a `TextView`），放置在底部。

但是，我`IndexOutOfBounds`在适配器上遇到错误，大概是因为我没有正确编码对`getChildrenCount()`和/或`getChildView()`方法的更改。我怀疑它正在寻找另一个数组元素（不存在），而不是将特殊视图膨胀为最后一个孩子。

这是适配器的`getChildView()`和方法的代码。`getChildrenCount()`如果您需要查看适配器的完整代码，请告诉我。

```
@Override
public View getChildView(int groupPos, int childPos, boolean arg2, View convertView,
        ViewGroup arg4) {
    if (convertView == null) {
        switch (childPos) {
        case -1:
            TextView post = new TextView(null);
            post.setText("post an answer");
            post.setTextColor(Color.BLUE);
            convertView = post;
            break;
        default:
            convertView = getLayoutInflater().inflate(R.layout.answerbox, null);
        }

        TextView ansText = (TextView)convertView.findViewById(R.id.answerText);
        TextView ansAuthor = (TextView)convertView.findViewById(R.id.answerAuthor);
        TextView ansUV = (TextView)convertView.findViewById(R.id.answerUpvotes);

        ansText.setText(q.get(groupPos).answers.get(childPos).text);
        ansAuthor.setText(q.get(groupPos).answers.get(childPos).author);
        ansUV.setText(Integer.toString(R.id.answerUpvotes));
    }
    return convertView;
}

@Override
public int getChildrenCount(int groupPosition) {
    return q.get(groupPosition).answers.size() + 1;
} 
```

在以下`IndexOutOfBounds`行引发错误：

```
ansText.setText(q.get(groupPos).answers.get(childPos).text); 
```

更新的代码（现在工作）：

```
 @Override
    public View getChildView(int groupPos, int childPos, boolean arg2, View convertView,
            ViewGroup arg4) {
        if (convertView == null){
        //switch (childPos){
        if (childPos == q.get(groupPos).answers.size()){
            convertView = getLayoutInflater().inflate(R.layout.answerbox, null);            

            TextView ansText = (TextView)convertView.findViewById(R.id.answerText);
            TextView ansAuthor = (TextView)convertView.findViewById(R.id.answerAuthor);
            TextView ansUV = (TextView)convertView.findViewById(R.id.answerUpvotes);

            ansText.setText("POST NEW");                    
            ansUV.setText(Integer.toString(R.id.answerUpvotes));
        }
        else{
        convertView = getLayoutInflater().inflate(R.layout.answerbox, null);            

        TextView ansText = (TextView)convertView.findViewById(R.id.answerText);
        TextView ansAuthor = (TextView)convertView.findViewById(R.id.answerAuthor);
        TextView ansUV = (TextView)convertView.findViewById(R.id.answerUpvotes);

        ansText.setText(q.get(groupPos).answers.get(childPos).text);
        ansAuthor.setText("by " + q.get(groupPos).answers.get(childPos).author);                    
        ansUV.setText(Integer.toString(R.id.answerUpvotes));
        }
        }
        return convertView;
    }

    @Override
    public int getChildrenCount(int groupPosition) {
        return q.get(groupPosition).answers.size()+1;
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T04:02:51.233

你有问题`case -1`。

Android 不知道您的最后一个视图是“假的”，即它不是实际元素。其实，`childPos`会`never`的`-1`！您对最后一个孩子的情况应该是：

```
if (childPos == q.get(groupPos).answers.size()) {
    // last view
} else {
    // regular view
} 
```

您还有一个稍后会发现的问题：

当`convertView != null`. 这会*经常*发生，您应该为此做好准备。当列表项视图被列表视图小部件回收时就是这种情况。在这种情况下，您应该设置它的值，而不是创建新的项目视图。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T04:02:03.777

`q.get(groupPos)`问题是`answers.get(childPos)`元素尚未在这些位置初始化

`IndexOutOfBound`当您尝试访问`ArrayList`at 位置的元素`n`并且没有在该位置初始化任何元素时引发异常

# php - PDOStatement::fetch 返回 false

> ID：14721114
> 
> 赞同：0
> 
> 时间：2013-02-06T03:44:06.043
> 
> 标签：php, pdo, fetch

我在使用 fetch 方法时遇到了一些问题。这是代码：

```
 $stmt = $db->prepare("INSERT INTO x (name) VALUES (:username)");
        $stmt->bindParam(':username', $username);
        $result = $stmt->execute();
        if ($result == '1') {
            $id = $stmt->fetch();
            return $id;
        } 
```

执行查询并插入数据，$result 为 '1'。但是，当我尝试获取结果时，它返回 false。

有小费吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T06:21:36.517

你可以`$db->lastInsertId()`在 MySQL 中（显然它不可靠，但我从来没有遇到过问题）。要么 那 要么 运行另一个查询：`SELECT LAST_INSERT_ID()`并获取它。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-06T03:54:45.167

如果您想获取插入的行数，请使用以下查询：

```
$rows_inserted = $db->query("SELECT FOUND_ROWS()")->fetchColumn(); 
```

# javascript - HTML 快速按钮工作示例

> ID：14721117
> 
> 赞同：0
> 
> 时间：2013-02-06T03:44:14.023
> 
> 标签：javascript, html

我正在尝试实现通过 Google 找到的快速按钮代码，并且：

[尝试实现谷歌的快速按钮](https://stackoverflow.com/questions/6300136/trying-to-implement-googles-fast-button)

目前，我收到一个未捕获的类型错误：无法读取 null 的属性“addEventListener”。有人可以告诉我如何实现这个快速按钮逻辑和/或 addEventListener。

答：在页面元素加载后定义 NewButton。

```
<html>
<head>
<title>Button</title>
<script src="/js/fastbutton.js"></script>
<script type="text/javascript">
new FastButton(document.getElementById('fastButton'), function() {
    num = num + 1;
    document.getElementById("outputText").value = num;
});

var num = 0;

function slowButton() {
    num = num + 1;
    document.getElementById("outputText").value = num;
}
</script>
</head>
<body>
Output: <input id="outputText" type="text"></input>
<button id="fastButton">Fast Button</button>
<button onclick="slowButton();">Slow Button</button>
</body>
</html> 
```

JS代码：

```
(function() {
  /** 
   * From: http://code.this.com/mobile/articles/fast_buttons.html
   * Also see: https://stackoverflow.com/questions/6300136/trying-to-implement-googles-fast-button 
   */

  /** For IE8 and earlier compatibility: https://developer.mozilla.org/en/DOM/element.addEventListener */
  function addListener(el, type, listener, useCapture) {
    if (el.addEventListener) { 
Uncaught TypeError: Cannot read property 'addEventListener' of null
      el.addEventListener(type, listener, useCapture);
      return { 
        destroy: function() { el.removeEventListener(type, listener, useCapture); } 
      };
    } else {      
      // see: https://stackoverflow.com/questions/5198845/javascript-this-losing-context-in-ie
      var handler = function(e) { listener.handleEvent(window.event, listener); }
      el.attachEvent('on' + type, handler);

      return { 
        destroy: function() { el.detachEvent('on' + type, handler); }
      };
    }   
  }

  var isTouch = "ontouchstart" in window;

  /* Construct the FastButton with a reference to the element and click handler. */
  this.FastButton = function(element, handler, useCapture) {
    // collect functions to call to cleanup events 
    this.events = [];
    this.touchEvents = [];
    this.element = element;
    this.handler = handler;
    this.useCapture = useCapture;
    if (isTouch) 
      this.events.push(addListener(element, 'touchstart', this, this.useCapture));    
    this.events.push(addListener(element, 'click', this, this.useCapture));
  };

  /* Remove event handling when no longer needed for this button */
  this.FastButton.prototype.destroy = function() {
    for (i = this.events.length - 1; i >= 0; i -= 1)
      this.events[i].destroy();    
    this.events = this.touchEvents = this.element = this.handler = this.fastButton = null;
  };

  /* acts as an event dispatcher */
  this.FastButton.prototype.handleEvent = function(event) {
    switch (event.type) {
      case 'touchstart': this.onTouchStart(event); break;
      case 'touchmove': this.onTouchMove(event); break;
      case 'touchend': this.onClick(event); break;
      case 'click': this.onClick(event); break;
    }
  };

  /* Save a reference to the touchstart coordinate and start listening to touchmove and
   touchend events. Calling stopPropagation guarantees that other behaviors donâ€™t get a
   chance to handle the same click event. This is executed at the beginning of touch. */
  this.FastButton.prototype.onTouchStart = function(event) {
    event.stopPropagation ? event.stopPropagation() : (event.cancelBubble=true);
    this.touchEvents.push(addListener(this.element, 'touchend', this, this.useCapture));
    this.touchEvents.push(addListener(document.body, 'touchmove', this, this.useCapture));
    this.startX = event.touches[0].clientX;
    this.startY = event.touches[0].clientY;
  };

  /* When /if touchmove event is invoked, check if the user has dragged past the threshold of 10px. */
  this.FastButton.prototype.onTouchMove = function(event) {
    if (Math.abs(event.touches[0].clientX - this.startX) > 10 || Math.abs(event.touches[0].clientY - this.startY) > 10) {
      this.reset(); //if he did, then cancel the touch event
    }
  };

  /* Invoke the actual click handler and prevent ghost clicks if this was a touchend event. */
  this.FastButton.prototype.onClick = function(event) {
    event.stopPropagation ? event.stopPropagation() : (event.cancelBubble=true);
    this.reset();
    // Use .call to call the method so that we have the correct "this": https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/call
    var result = this.handler.call(this.element, event);
    if (event.type == 'touchend') 
      clickbuster.preventGhostClick(this.startX, this.startY);    
    return result;
  };

  this.FastButton.prototype.reset = function() {
    for (i = this.touchEvents.length - 1; i >= 0; i -= 1) 
      this.touchEvents[i].destroy();    
    this.touchEvents = [];
  };

  this.clickbuster = function() {}

  /* Call preventGhostClick to bust all click events that happen within 25px of
   the provided x, y coordinates in the next 2.5s. */
  this.clickbuster.preventGhostClick = function(x, y) {
    clickbuster.coordinates.push(x, y);
    window.setTimeout(clickbuster.pop, 2500);
  };

  this.clickbuster.pop = function() {
    clickbuster.coordinates.splice(0, 2);
  };

  /* If we catch a click event inside the given radius and time threshold then we call
   stopPropagation and preventDefault. Calling preventDefault will stop links
   from being activated. */
  this.clickbuster.onClick = function(event) {
    for (var i = 0; i < clickbuster.coordinates.length; i += 2) {
      var x = clickbuster.coordinates[i];
      var y = clickbuster.coordinates[i + 1];
      if (Math.abs(event.clientX - x) < 25 && Math.abs(event.clientY - y) < 25) {
        event.stopPropagation ? event.stopPropagation() : (event.cancelBubble=true);
        event.preventDefault ? event.preventDefault() : (event.returnValue=false);
      }
    }
  };

  if (isTouch) {
    // Don't need to use our custom addListener function since we only bust clicks on touch devices
    document.addEventListener('click', clickbuster.onClick, true);
    clickbuster.coordinates = [];
  }
})(this); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T04:16:24.457

谢谢你，格多伦。我需要做的就是在页面上的元素之后定义对象。我使用`<body onload="load()">`.

# batch-file - Windows批处理文件读取文本文件并附加pdftk

> ID：14721118
> 
> 赞同：1
> 
> 时间：2013-02-06T03:44:17.117
> 
> 标签：batch-file, pdftk

我有一个文本文件，其中包含 pdf 文件列表的位置。我正在编写一个 Windows 批处理文件，该文件需要逐行读取并附加在一个命令中，该命令将被执行以使用 pdftk 将所有 pdf 合并为 1 个 pdf。

下面是示例命令：

```
pdftk "C:\test\1.pdf" "C:\test\2.pdf"......"C:\test\50.pdf" cat output merged.pdf 
```

我遇到了这个[如何使用 Windows 批处理文件遍历文本文件中的每一行？](https://stackoverflow.com/questions/155932/how-do-you-loop-through-each-line-in-a-text-file-using-a-windows-batch-file)用于读取文本文件。

但是如何读取并附加到一个变量，然后可以将其用于上述命令？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T09:05:12.733

假设您的 pdf 文件列表如下所示

```
pdf1.pdf
pdf2.pdf
pdf3.pdf 
```

然后你可以用它把它们连接成一个变量

```
setlocal enabledelayedexpansion
set files=
for /f "tokens=*" %%a in (pdfs.txt) do (
if defined files (
set files=!files! "%%a"
) else (
set files="%%a"
)
)
pdftk !files! cat output merged.pdf 
```

可以从变量中删除前导空格，我不确定这`if else`是否会有所作为。如果没有，那么您可以摆脱它并使用

```
setlocal enabledelayedexpansion
set files=
for /f "tokens=*" %%a in (pdfs.txt) do (    
set files=!files! "%%a"
)
pdftk !files! cat output merged.pdf 
```

# android - 谷歌地图 - 过境时黑屏

> ID：14721119
> 
> 赞同：1
> 
> 时间：2013-02-06T03:44:21.137
> 
> 标签：android, google-maps, supportmapfragment

我正在`GoogleMap`与`SherlockMapFragment`. 打开谷歌地图（全屏）后，我点击了手机的硬件返回菜单。我意识到在过渡到上一个片段时会出现明显的（1-2 秒）黑屏。

虽然屏幕是黑色的，但仍然可以看到缩放级别（即 + 和 - 符号）。

你能解释一下我应该如何防止这种黑屏吗？

谢谢！:)

# java - Javamail 支持 gmail 的“退出所有其他会话”

> ID：14721121
> 
> 赞同：0
> 
> 时间：2013-02-06T03:44:32.393
> 
> 标签：java, oauth, gmail, imap, jakarta-mail

**背景：**

我正在尝试监视我的 gmail 收件箱中的某些类型的电子邮件并采取行动。我已成功设置我的帐户以使用 javamail 的[addMessageCountListener.messagesAdded()](http://javamail.kenai.com/nonav/javadocs/javax/mail/Folder.html#addMessageCountListener%28javax.mail.event.MessageCountListener%29)来监视我的收件箱以收听新邮件，并且我正在闲置线程，直到有新邮件到达。

**问题：**

我希望我的 javamail 保持登录状态，即使我不小心点击了“*退出所有其他会话*”按钮。

![退出所有其他会话](../Images/1119939ebf797c25ca960ca61e3d7a18.png)

我知道这是可能的，因为我的手机的 gmail 会话（使用 gmail 的本机应用程序）对此具有弹性。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:13:07.163

谢谢大家的评论/提示。这是java中的快速编写。以防其他人可能需要它。

**当然，欢迎对以下代码提出任何评论/反馈/评论/潜在问题 :)**

```
package com.anand.test;

import java.util.Properties;

import javax.mail.FolderClosedException;
import javax.mail.MessagingException;
import javax.mail.Session;
import javax.mail.event.ConnectionEvent;
import javax.mail.event.ConnectionListener;
import javax.mail.event.MessageCountEvent;
import javax.mail.event.MessageCountListener;

import com.sun.mail.imap.IMAPFolder;
import com.sun.mail.imap.IMAPSSLStore;

class GMailStayConnect {
    public static void main(String a[]) {
        MailConnector m = new MailConnector("uname", "pwd");
        Thread newThrd = new Thread(m);
        newThrd.start();
    }
}

class StoreGetter {
    public static IMAPSSLStore getGStore(String uname, String passw){
        Properties props = new Properties();
        props.put("mail.imaps.sasl.enable", "true");
        props.put("mail.imaps.sasl.mechanisms", "XOAUTH");
        props.put("mail.debug", "true");

        Session session = Session.getInstance(props);
        session.setDebug(true);

        IMAPSSLStore store = new IMAPSSLStore(session, null);
        try {
            store.connect(uname, passw);
        } catch (MessagingException e) {
            e.printStackTrace();
        }
        return store;
    }
}

class MailConnector implements Runnable {
    private String uname = "";
    private String passw = "";

    public MailConnector(String uname, String passw) {
        this.uname = uname;
        this.passw = passw;
    }

    public void run() {
        IMAPSSLStore store = StoreGetter.getGStore(uname, passw);
        try {
            IMAPFolder inbox = (IMAPFolder) store.getFolder("Inbox");
            inbox.addMessageCountListener(new MessageCountListener() {
                public void messagesAdded(MessageCountEvent e) {
                    // My custom action goes here on e.getMessages()
                }

                public void messagesRemoved(MessageCountEvent e) {
                    // My custom action goes here on e.getMessages()
                }
            });
            inbox.addConnectionListener(new ConnectionListener() {
                public void opened(ConnectionEvent e) {
                    // System.out.println("Opened !!");
                }

                public void disconnected(ConnectionEvent e) {
                    // System.out.println("Disconnected !!");
                }

                public void closed(ConnectionEvent e) {
                    // System.out.println("Closed !!");
                    // Another place to handle reconnecting
                }
            });
            while (true) {
                inbox.idle();
            }
        } catch (FolderClosedException e1) {
            // Place to handle reconnecting
            GMailStayConnect.main(null);
        } catch (MessagingException e1) {
            e1.printStackTrace();
        }
    }
} 
```

# vb.net - VB.NET 文件资源管理器

> ID：14721125
> 
> 赞同：1
> 
> 时间：2013-02-06T03:44:54.087
> 
> 标签：vb.net, file, explorer

我正在 VB.NET 中制作文件资源管理器。一切都很好，除了一件事。当您单击动态创建的标签以“打开”文件夹时，我需要获取标签的值（因此我可以为其设置一个变量。）我无法获取该值，因为标签是动态创建的。因此该对象不存在。这是我的代码：

```
Imports System.IO
Public Class Form1
    Dim Path As String
    Dim FolderCount = 0
    Dim FolderWidth = 128
    Dim FolderHeight = 128
    Dim WidthAndPadding = FolderWidth + 10
    Dim HeightAndPadding = FolderHeight + 10
    Dim FolderTitle As String
    Dim CombinedWidth
    Dim FolderRows = 0
    Dim OnNewLine = False
    Dim FolderTop = 0
    Dim FolderLeft = 0

Dim FullPath
Private Sub Form1_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load
    Me.AutoScroll = True
    Path = "C:\Program Files\"
    For Each Dir As String In Directory.GetDirectories(Path)
        CreateFolders(Dir)
    Next
End Sub
Public Sub CreateFolders(ByVal StrDirectory)
    FolderTitle = StrDirectory.Substring(Path.Length)
    Dim Folder As New Label
    FolderLeft = WidthAndPadding * FolderCount
    Folder.Left = FolderLeft
    Folder.Top = FolderTop
    Folder.Width = FolderWidth
    Folder.Height = FolderHeight
    Folder.Image = My.Resources.Folder
    Folder.TextAlign = ContentAlignment.BottomCenter
    If FolderTitle.Length > 15 Then
        FolderTitle = FolderTitle.Substring(0, 15) + "..."
    End If
    Folder.Text = FolderTitle
    Folder.Font = New Font("Arial", 9.5)
    FolderCount += 1
    CombinedWidth = FolderCount * WidthAndPadding
    If CombinedWidth >= Me.Width Then
        OnNewLine = False
        If OnNewLine = False Then
            FolderRows = FolderRows + 1
            FolderCount = 0
            CombinedWidth = 0
            Folder.Left = FolderCount * FolderWidth
            FolderTop = FolderRows * FolderHeight
            Folder.Top = FolderTop
            OnNewLine = True
            'FolderCount += 1
        End If
    End If
    Me.Controls.Add(Folder)
    AddHandler Folder.DoubleClick, AddressOf Folder_DoubleClick
    FullPath = Path + FolderTitle
End Sub

Private Sub Folder_DoubleClick(ByVal sender As Object, ByVal e As System.EventArgs)
    'MsgBox(Folder.Text)
End Sub 
```

结束类

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T03:50:08.583

事件处理程序的`sender`参数包含生成事件的标签。您可以通过编写
将其转换回。`Label``CType(sender, Label)`

# scala - 如何从投影类型推断正确的类型参数？

> ID：14721127
> 
> 赞同：11
> 
> 时间：2013-02-06T03:45:08.320
> 
> 标签：scala, polymorphism, type-inference, type-projection

我在让 Scala 从类型投影中推断出正确的类型时遇到了一些麻烦。

考虑以下：

```
trait Foo {
  type X
}

trait Bar extends Foo {
  type X = String
}

def baz[F <: Foo](x: F#X): Unit = ??? 
```

然后以下编译正常：

```
val x: Foo#X = ???    
baz(x) 
```

但以下内容无法编译：

```
val x: Bar#X = ???    
baz(x) 
```

Scala 看到 的“基础类型 String” `x`，但丢失`x`了`Bar#X`. 如果我注释类型，它工作正常：

```
baz[Bar](x) 
```

有没有办法让 Scala 推断出正确的类型参数`baz`？
如果不是，那么使它不可能的一般答案是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T04:25:16.107

程序通过在上下文中添加这个隐式转换来编译：

```
implicit def f(x: Bar#X): Foo#X = x 
```

由于这种隐式转换对于 any 都是正确的`F <: Foo`，我想知道为什么编译器不自己这样做。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T21:59:17.937

你也可以：

```
trait Foo {
    type X
}
trait Bar extends Foo {
    type X = String
}
class BarImpl extends Bar{
  def getX:X="hi"
}
def baz[F <: Foo, T <: F#X](clz:F, x: T): Unit = { println("baz worked!")}
val bi = new BarImpl
val x: Bar#X = bi.getX
baz(bi,x) 
```

但：

```
def baz2[F <: Foo, T <: F#X](x: T): Unit = { println("baz2 failed!")}
baz2(x) 
```

失败：

```
test.scala:22: error: inferred type arguments [Nothing,java.lang.String] do not conform to method baz2's type parameter bounds [F <: this.Foo,T <: F#X]
baz2(x)
^
one error found 
```

我认为基本上， F <: Foo 告诉编译器 F 必须是 Foo 的子类型，但是当它得到一个 X 时，它不知道你的*特定*X 来自哪个类。您的 X 只是一个字符串，不保留指向 Bar 的信息。

注意：

```
def baz3[F<: Foo](x : F#X) = {println("baz3 worked!")}
baz3[Bar]("hi") 
```

也有效。你定义了一个 val x:Bar#X=??? 就是那个意思？？？仅限于 Bar#X 在编译时可能发生的任何事情......编译器知道 Bar#X 是字符串，因此 x 的类型只是一个字符串，与任何其他字符串没有区别。

# html - 在下拉列表或复选框中更改部分文本颜色

> ID：14721132
> 
> 赞同：0
> 
> 时间：2013-02-06T03:45:38.007
> 
> 标签：html, css, drop-down-menu, checkbox, colors

我有一个这样的下拉列表：

```
<select name="how-you-hear">
    <option value="---">---</option>
    <option value="Advertisement or Media">Advertisement or Media</option>
    <option value="Past Working Experience">Past Working Experience</option>
    <option value="Word Of Mouth">Word Of Mouth</option>
</select> 
```

我想让Experience这个词的颜色变成黄色，所以我添加了<span class="yellow">Experience</span>。但不是将颜色更改为黄色，而是如下所示打印跨度：

![在此处输入图像描述](../Images/1c23a27a557746fa18ba4e327277dd9e.png)

还有其他方法可以解决这个问题吗？我对复选框也有同样的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T03:49:42.400

这是不可能的，对不起！

然而，复选框只是一个复选框。标签是一个单独的 HTML 标记，但是可以设置样式。

```
<input type='checkbox' id='myBox' />
<label for='myBox'>This is a <span style='color:yellow;'>checkbox</span>!</label> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T04:14:27.283

如果您只针对现代浏览器，有一些方法可以设置[复选框的样式。](http://webdesign.tutsplus.com/tutorials/htmlcss-tutorials/quick-tip-easy-css3-checkboxes-and-radio-buttons/)它涉及隐藏复选框本身并设置关联标签的样式，使其看起来好像里面有一个复选框。

至于选择框，正如其他人所说，这是不可能的。

# html - 全屏背景html

> ID：14721136
> 
> 赞同：0
> 
> 时间：2013-02-06T03:45:58.440
> 
> 标签：html, css, web, background, background-image

我正在尝试将图片显示为我的网站的背景，所以我使用以下代码

HTML：

```
<div>
     <img src="images/background.jpg" id="bg" alt="background_image" />
</div> 
```

CSS：

```
#bg {
    width: 100%;
    height: 75%;
    position: absolute;
    z-index: -5000;
} 
```

我想知道如何限制背景的大小，因为我不希望它拉伸超过 2000 像素。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T03:48:06.180

我会使用以下CSS：

```
html { 
    background: url(images/bg.jpg) no-repeat center center fixed;

    -webkit-background-size: cover;
    -moz-background-size: cover;
    -o-background-size: cover;
    background-size: cover;
} 
```

并完全删除您的 div 。

要限制大小，您可以：

```
#bg {
    min-height: 100%;
    max-width: 2000px;
    width: 100%;
    height: auto;
    position: fixed;
    top: 0;
    bottom: 0;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T04:23:43.740

只需在您的 CSS 中包含 max-width 即可。

```
 #bg {
    width: 100%;
    max-width: 2000px;
    height: 75%;
    position: absolute;
    z-index: -5000;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T03:47:41.950

您可以使用`max-width`

```
#bg {
    width: 100%;
    height: 75%;
    position: absolute;
    z-index: -5000;

    max-width: 2000px; /* use this to limit the maximum width */
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T03:48:46.540

我还没有测试它，但添加`max-width:2000px;`到你的#bg 选择器。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-06T03:59:37.123

试试这个

```
#bg {
width: 100%;
height: 100%%;
background-size:100%;
} 
```

# c - 使用 Cygwin 和 gdbtui 进行 C 编程

> ID：14721141
> 
> 赞同：2
> 
> 时间：2013-02-06T03:46:14.560
> 
> 标签：c, gdb, cygwin

我的问题是关于 Cygwin 和 gdb 的使用。我正在做一个学校项目，但他们希望我在不使用 Visual Studio 或类似编译器的情况下练习。

我的问题是.. 我怎么能编写 C 代码？这是在文本程序上还是在 Cygwin 本身上？

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T03:53:07.760

[Code::Blocks](http://www.codeblocks.org/) IDE 可能被认为与 Visual Studio 过于接近，但在您了解其中的细节之前，它实际上只是一个编写和编译代码的地方。您可以通过直接使用它而不是挖掘其全部功能来保持请求的精神。

如果您真的需要从头开始，请使用任何文本编辑器（例如：记事本）并像这样手动编译： http: [//ce.uml.edu/compile.htm](http://ce.uml.edu/compile.htm)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T04:05:58.447

[您可以使用像这样](http://www.techrepublic.com/blog/five-apps/five-free-or-open-source-text-editors-for-developers/1031)的任何好的文本编辑器来编写程序。

如果您的系统上安装了 cygwin，那么您只需将 c/c++ 编译器（如 gcc）添加到它并编译程序。

您总是不需要使用 IDE 来编写和编译程序。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-06T04:29:17.817

即使@Dinah 确实回答了您的问题，我们仍然没有讨论使用 gdb 调试器的方法。

由于您是新手，我建议您使用像 gdb 这样的调试器来掌握调试。相信我，您将节省大量时间使用打印语句（或任何其他等效机制）找出问题所在

[这里是你可以开始学习使用 gdb](http://www.thegeekstuff.com/2010/03/debug-c-program-using-gdb/)的好地方

玩得开心！

# c# - 启动屏幕显示在应用程序中间

> ID：14721155
> 
> 赞同：4
> 
> 时间：2013-02-06T03:47:18.853
> 
> 标签：c#, winforms

我有一个报表名称列表，在 ReportViewer 控件中显示为树层次结构。当用户单击报告名称时，会加载一个输入表单，用户输入一些值并按 OK。此时，启动屏幕应该在后端进程发生时加载（连接到数据库、检索值等）。在 Reportviewer 编辑器中加载报告后，启动画面应关闭。

到目前为止，我可以显示启动画面，但是它会卡在那个点上，实际报告不会加载，并且启动画面会永远保持打开状态。

是否可以在应用程序中间使用闪屏，而不是在应用程序启动时？如果是这样，我该如何继续加载报告？

```
static class Program
{
    [STAThread]
    static void Main(string[] args)

    {

        Application.EnableVisualStyles();
        Application.SetCompatibleTextRenderingDefault(false);
        Application.Run(new SnapPlusReports());

        //new SplashScreenApp().Run(args);
    }
}

public class SplashScreenApp : WindowsFormsApplicationBase
{
    private static SplashScreenApp _application;

    public static void Run(Form form)
    {
        _application = new SplashScreenApp { MainForm = form };
        _application.Run(Environment.GetCommandLineArgs());
    }

    protected override void OnCreateSplashScreen()
    {
        this.SplashScreen = new ShowProgress();
        base.OnCreateSplashScreen();
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T04:18:56.070

...如果您在给定时间只需要一份应用程序副本在内存中，则捕获其他实例并优雅退出

```
static void Main()
{
    Application.EnableVisualStyles();
    bool exclusive;
    System.Threading.Mutex appMutex = new System.Threading.Mutex(true, "MY_APP", out exclusive);
    if (!exclusive)
    {
         MessageBox.Show("Another instance of xxxx xxxBuilder is already running.","MY_APP",
                        MessageBoxButtons.OK,
                        MessageBoxIcon.Exclamation );
                    return;
    }
    Application.SetCompatibleTextRenderingDefault(false);
    xxxWindowsApplication.InitializeApplication();
    Application.Run(new frmMenuBuilderMain());
                GC.KeepAlive(appMutex);
            } 
```

在主表单加载中，您可以执行以下操作：

```
private void frmMenuBuilderMain_Load(object sender, EventArgs e)
{   

     //Show Splash with timeout Here--
     if(!SystemLogin.PerformLogin())             
     {
         this.Close();
         return;
     }
     tmrLoad.Enabled = true; 
```

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T04:07:57.183

我之前通过在运行时使用代码动态创建一个新表单来做到这一点。确保您设置了所有选项，尤其是 FormBorderStyle 为无，或类似的设置，以便用户无法关闭它。然后简单地操作出现在该表单上的标签，并在您的过程完成后最终将其关闭。这样您就不必担心线程问题，而且一个不错的副作用是初始表单不可点击。

例如，我有一个在运行时弹出的关于表单（当然我没有更改任何内容，但想法就在那里：

```
AboutForm aboutForm = new AboutForm();
aboutForm.StartPosition = FormStartPosition.CenterParent;
Label lblAbout = new Label();
Version applicationVersion = System.Reflection.Assembly.GetExecutingAssembly().GetName().Version;
lblAbout.Text = applicationVersion.ToString();
lblAbout.Location = new Point(145,104);
aboutForm.Controls.Add(lblAbout);
aboutForm.ShowDialog(); 
```

这显示了当前程序的版本号等。表单上已经存在其他标签（我首先直观地创建了它，然后调用了它的一个实例）。

希望这可以帮助！

# php - 如何将数组分成变量

> ID：14721164
> 
> 赞同：1
> 
> 时间：2013-02-06T03:48:26.120
> 
> 标签：php, mysql, database, arrays, variables

我试着查了一下，但我并没有得到与我正在做的事情直接相关的答案。我正在尝试从以前提交的数据库中检索值。我想使用这些值来定位服务器上的文件路径并使用填充路径信息来显示文件。为此，我需要分离我在这里拥有的数组。我将如何分离这个数组？

```
$code = $_POST['codeInput'];

$code = htmlspecialchars($code); 

$submitCodes = "SELECT story,video FROM `storycodes` WHERE `code` = $codeInput";

$files = mysql_fetch_array($submitCodes); 

mysql_close($con);

print_r(array_values($files)); 
```

我很感激任何帮助。理想情况下，我想获得一个变量，如 $story 或 $storyPath 和 $video 或 $videoPath 我需要将视频作为变量，以便我可以使用视频播放器播放它。

编辑：我从 mysql 更改为 mysqli，现在我得到了所有这些错误，我似乎无法修复。我有结果集，它说我没有。

警告：mysqli_fetch_assoc() 期望参数 1 为 mysqli_result，布尔值在 /home/content/98/10339998/html/scripts/stories.php 第 26 行给出

我认为一旦数组被整理好，这个警告应该会自行修复：

警告：extract() 期望参数 1 是数组，在第 28 行的 /home/content/98/10339998/html/scripts/stories.php 中给出了 null

警告：mysqli_free_result() 期望参数 1 为 mysqli_result，布尔值在 /home/content/98/10339998/html/scripts/stories.php 第 30 行给出

```
$con = mysqli_connect("storycodes.db.10339998.hostedresource.com",$username,$password);

if (!$con)
{
    die('Could not connect: ' . mysql_error());
}

mysqli_select_db($con, "storycodes");

$code = $_POST['codeInput'];

$code = htmlspecialchars($code); 

$query = "SELECT story,video FROM `storycodes` WHERE `code` = $codeInput";

$result = mysqli_query($con, $query);

$row = mysqli_fetch_assoc($result);

extract($row);  

mysqli_free_result($result); 
mysqli_close($con);

echo $story . $video; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T03:51:28.683

```
$files = mysql_fetch_assoc( $submitCodes );
extract( $files ); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T04:12:42.793

像这样使用它

```
$files = mysql_fetch_array($submitCodes); 
extract( $files );

// now you can use it like this
echo $story . $video; // as variables 
```

# php - 使用 foreach 附加到同一个数组

> ID：14721166
> 
> 赞同：2
> 
> 时间：2013-02-06T03:48:37.177
> 
> 标签：php

我正在尝试循环一个 foreach 数组并将新值添加到同一个数组中，但它没有返回值；

```
<?php
    foreach($departments as $department){
        $department['users'] = 10;
    }
?> 
```

但是当我返回数组时，“用户”不会成为列表的一部分。我尝试了array_push，也没有太多运气。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T03:50:03.740

使用[参考](http://php.net/manual/en/language.references.php)：

```
foreach($departments as &$department){
  $department['users'] = 10;
} 
```

# ajax - 调用 empty() 后 DOM 元素重新出现

> ID：14721172
> 
> 赞同：0
> 
> 时间：2013-02-06T03:49:04.217
> 
> 标签：ajax, jquery, click

我有一个按钮，当第一次单击它时，它将加载另一个 html 页面。当它被第二次点击时，它会清空加载页面的一个 div。

但是，由于某种原因，加载的内容在第二次单击后不断重新出现......

CSS：

```
#boatdiv {
    width: 100%;    
}

.clicked {} 
```

HTML

```
<button id="load"></button>
<div id="boatdiv"></div> 
```

jQuery

```
$(document).ready(function() {
    $.ajaxSetup ({  
        cache: false  
    }); 
    var loadURL = "AjaxLoad_injection.html";
    $("#load").on("click", function() {
        if(!($(this).hasClass("clicked"))){ //checks if button has NOT been clicked
        $("#boatdiv").html("<p>loading...</p>").load(loadURL);  
        }
        else {
        $("#boatdiv").empty();
        }
        $("#boatdiv").toggleClass("clicked");
        }
    );

}); // end ready 
```

这是怎么回事？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T03:57:02.523

您测试`$(#load)`但切换`$("boatdiv")`。

尝试 ：

```
$("#load").on("click", function() {
    if(!($(this).hasClass("clicked"))){ //checks if button has NOT been clicked
        $("#boatdiv").html("<p>loading...</p>").load(loadURL);  
    }
    else {
        $("#boatdiv").empty();
    }
    $(this).toggleClass("clicked");
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T03:58:05.847

您在错误的元素上切换课程。您希望它在被单击的元素上切换。与我在上一篇文章中给您的代码相同。

很容易通过它，你正在测试`this`......所以需要切换课程`this`

采用

```
$(this).togglClass('clicked') 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-06T04:05:47.513

请记住，ajax 调用是异步的。在 ajax 调用返回之前，您可能会再次单击该按钮。

您可以在 ajax 调用期间禁用该按钮，如下所示：

```
$('#load').on('click', function() {
    if (!$(this).hasClass("clicked")) {
        $('#load').attr('disabled', true);
        $("#boatdiv").html("<p>loading...</p>").load(loadURL, function() {
            $('#load').attr('disabled', false);
        });  
    } else {
        $('#boatdiv').empty();
    }
    //$('#boatdiv').toggleClass("clicked");
    $('#load').toggleClass("clicked");
}); 
```

该按钮在 ajax 调用之前被禁用。回调函数作为第二个参数传递给“load()”函数。ajax 调用返回时会调用它。它将重新启用该按钮。

编辑：我错过了错误的元素让类切换，但我仍然认为你想在 ajax 调用期间禁用按钮，否则事情可能会搞砸。

# ember.js - 根据登录状态更改导航栏

> ID：14721174
> 
> 赞同：1
> 
> 时间：2013-02-06T03:49:33.983
> 
> 标签：ember.js

我一直在尝试使用 Rails/Ember pre-4 来做一件相当典型的事情，那就是有一个带有导航栏和内容部分的页面。导航栏仅在登录时更改（登录时显示注销按钮，注销时显示登录和注册按钮），而不是在每次页面更改时更改。

起初以为我可以在 application.hbs 模板中做一些事情，例如：

{{查看导航栏}} {{出口}}

我设置导航栏以响应登录状态更改（由状态管理器管理）。这似乎不起作用。

然后我尝试了类似的东西（也在application.hbs中）：

{{出口导航栏}} {{出口}}

并尝试在每条路线中设置导航栏，这会导致大量重复并且最终也无法正常工作。

在发布代码之前，想知道是否有人已经对这种常见情况有很好的解决方案，即页面的某些部分（例如导航栏或侧边栏）仅在应用程序状态发生某些变化时发生变化，而不是在每次页面更改时发生变化。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T04:43:12.330

有很多方法可以完成这项工作。您描述的第一种方法与我们正在做的最接近。在过去的 ember 版本中，我们为此使用了视图助手，今天我们使用`{{render}}`但它是相同的基本概念。例如，application.hbs 可能如下所示：

```
{{render navbar}} {{outlet}} 
```

现在 navbar.hbs 可以使用一个简单的`{{#if}}`助手来根据登录状态交换链接。

```
<div class="navbar">
  <div class="navbar-inner">
    {{#linkTo index class="brand"}}My App{{/linkTo}}
    <ul class="nav">
      <li>{{#linkTo index}}Home{{/linkTo}}</li>
      <li>{{#linkTo about}}About{{/linkTo}}</a></li>
    </ul>
    <ul class="nav pull-right">
     {{#if isAuthenticated}}
     <li><a {{action logout}} href="#">Logout</a></li>
     {{else}}
     <li><a {{action login}} href="#">Login</a></li>
     {{/if}}
    </ul>
  </div>
</div> 
```

现在我们向 NavbarController 添加逻辑来跟踪和管理登录状态。

```
App.NavbarController = Ember.ArrayController.extend({
  isAuthenticated: false,
  login: function() {
    this.set('isAuthenticated', true);
  },
  logout: function() {
    this.set('isAuthenticated', false);
  }
}); 
```

In a *real* app NavbarController would proxy these requests to another controller, perhaps `currentUserController`. I've created a working sample here: [http://jsbin.com/iyijaf/6/edit](http://jsbin.com/iyijaf/6/edit)

# oracle - 在 Oracle 10g 中重置序列的最佳方法是什么？

> ID：14721178
> 
> 赞同：1
> 
> 时间：2013-02-06T03:49:50.623
> 
> 标签：oracle, oracle10g

要重置 Oracle 序列，我遵循以下临时方法。比方说，我有一个以`TEMP_TABLE`与其关联的序列命名的表。

以下 SQL 生成**22**作为序列下一个值（仅在这种情况下）。

```
SELECT TEMP_TABLE_SEQ.NEXTVAL from DUAL; 
```

以下语句将缓存大小减小到`SEQUENCE.MINVALUE`.

```
ALTER SEQUENCE TEMP_TABLE_SEQ INCREMENT BY -21; 
```

接下来，我正在执行一个虚拟选择，它检索**1**作为序列值。

```
SELECT TEMP_TABLE_SEQ.NEXTVAL from DUAL; 
```

我现在将缓存大小重置为**1**。

```
ALTER SEQUENCE TEMP_TABLE_SEQ INCREMENT BY 1; 
```

所以下面的语句，

```
SELECT TEMP_TABLE_SEQ.NEXTVAL from DUAL; 
```

给我**2**作为下一个序列值，依此类推。

* * *

在 PostgreSQL 服务器中，仅以下一条语句就足以重置序列。

```
ALTER SEQUENCE TEMP_TABLE_SEQ RESTART WITH 0; 
```

Oracle（10g）中是否有这样一种公平的方式来重置序列？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-06T03:56:43.867

这个怎么样 ：

1.  删除序列

    ```
     DROP TEMP_TABLE_SEQ; 
    ```

2.  重新创建序列

    ```
     CREATE SEQUENCE TEMP_TABLE_SEQ
     MINVALUE 1
     MAXVALUE  999999999999999999999
     START WITH 1
     INCREMENT BY 1
     CACHE 20; 
    ```

# python - TkTable插入行python

> ID：14721183
> 
> 赞同：1
> 
> 时间：2013-02-06T03:50:18.387
> 
> 标签：python, user-interface, tkinter, scrollbar, tk

嗨，我正在尝试使用 Tktable 和我在网上找到的包装器创建一个表：http: [//tkinter.unpythonic.net/wiki/TkTableWrapper](http://tkinter.unpythonic.net/wiki/TkTableWrapper)

我无法理解如何添加行。我一直在修改文件中包含的 sample_test 方法，但没有成功。

我的最终目标是在我的 GUI 中有一个表，然后每次我从串行连接读取数据时写一行。因此，我不知道我需要多少行。我可以预先分配一个非常大的表，但这似乎很慢。我期待读取大量数据包（可能数以万计）。

我已经尝试过 insert_rows 方法，但我认为我并不完全理解它是如何工作的，并且文档有点稀疏。

此外，我无法让滚动条工作。虽然我可以通过在 test.pack 方法调用之前添加以下行来轻松添加它，但它们不会用鼠标滚动。我认为绑定已关闭：

```
scroll = Tkinter.Scrollbar(root)
test.configure(yscrollcommand=scroll.set)
scroll.pack(side=Tkinter.RIGHT,fill=Tkinter.Y) 
```

任何帮助，将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-18T00:46:38.707

就目前而言，sample_test 使用配置选项 state='disabled' 创建一个表（这就是您不能添加更多行的原因）。尝试将其设置为 state='normal'，无论是在创建时，还是在您需要进行更改时，以最适合的为准。

```
def sample_test():
    from Tkinter import Tk, Scrollbar, Button

    def test_cmd(event):
        print 'command'

    def browsecmd(event):
        print 'browsecmd'
        #print event.__dict__

    root = Tk()
    quit = Button(root, text="QUIT", command=root.destroy)
    quit.pack(side = 'bottom')    

    numrows, numcols = 10, 10

    var = ArrayVar(root)
    for y in range(numrows):
        for x in range(numcols):
            index = "%i,%i" % (y, x)
            var[index] = index

    test = Table(root,
                 rows=numrows+1,
                 cols=numcols+1,
                 state='normal',
                 width=6,
                 height=6,
                 titlerows=1,
                 titlecols=1,
                 roworigin=-1,
                 colorigin=-1,
                 selectmode='extended',
                 selecttype='row',
                 rowstretch='unset',
                 colstretch='last',
                 browsecmd=browsecmd,
                 flashmode='on',
                 variable=var,
                 usecommand=0,
                 command=test_cmd)

    # http://effbot.org/zone/tkinter-scrollbar-patterns.htm
    s = Scrollbar(root, orient='vertical', command=test.yview_scroll)
    test.config(yscrollcommand=s.set)
    s.pack(side='right', fill='y')

    test.pack(expand=1, fill='both')
    test.tag_configure('sel', background = 'yellow')
    test.tag_configure('active', background = 'blue')
    test.tag_configure('title', anchor='w', bg='red', relief='sunken')

    data = ('py','t','h','o','n','','+','','Tk','')

    def add_new_data(*args):
        #test.config(state='normal')
        test.insert_rows('end', 1)
        r = test.index('end').split(',')[0] #get row number <str>
        args = (r,) + args
        idx = r + ',-1'
        test.set('row', idx, *args)
        test.see(idx)
        #test.config(state='disabled')

    root.after(3000, add_new_data, *data)
    root.after(4000, add_new_data, *data)
    root.mainloop() 
```

# powershell - 如何让powershell等待exe安装？

> ID：14721184
> 
> 赞同：5
> 
> 时间：2013-02-06T03:50:20.190
> 
> 标签：powershell

所以我已经阅读了与这个问题相关的每一个答案，但他们似乎都没有工作。

我在脚本中有这些行：

```
$exe = ".\wls1033_oepe111150_win32.exe"
$AllArgs = @('-mode=silent', '-silent_xml=silent_install.xml', '-log=wls_install.log"')
$check = Start-Process $exe $AllArgs -Wait -Verb runAs
$check.WaitForExit() 
```

运行后，我对已安装的文件进行了正则表达式检查，替换了一些特定的字符串，但无论我尝试做什么，它都会在程序安装时继续运行正则表达式检查。

如何才能使下一行在完成安装 exe 之前不执行？我也尝试过管道到 Out-Null 没有运气。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-06T04:45:58.643

我创建了一个执行以下操作的测试可执行文件

```
 Console.WriteLine("In Exe start" + System.DateTime.Now);
    System.Threading.Thread.Sleep(5000);
    Console.WriteLine("In Exe end" + System.DateTime.Now); 
```

然后编写了这个powershell脚本，它按预期等待exe完成运行，然后输出文本“ps1结束”和时间

```
push-location "C:\SRC\PowerShell-Wait-For-Exe\bin\Debug";
$exe = "PowerShell-Wait-For-Exe.exe"  
$proc = (Start-Process $exe -PassThru)
$proc | Wait-Process

Write-Host "end of ps1" + (Get-Date).DateTime 
```

下面的 powershell 也正确地等待 exe 完成。

```
$check = Start-Process $exe $AllArgs -Wait -Verb runas
Write-Host "end of ps1" + (Get-Date).DateTime 
```

添加 WaitForExit 调用给了我这个错误。

```
You cannot call a method on a null-valued expression.
At line:2 char:1
+ $check.WaitForExit()
+ ~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : InvalidOperation: (:) [], RuntimeException
    + FullyQualifiedErrorId : InvokeMethodOnNull 
```

然而这确实有效

```
$p = New-Object System.Diagnostics.Process
$pinfo = New-Object System.Diagnostics.ProcessStartInfo("C:\PowerShell-Wait-For-Exe\bin\Debug\PowerShell-Wait-For-Exe.exe","");
$p.StartInfo = $pinfo;
$p.Start();
$p.WaitForExit();
Write-Host "end of ps1" + (Get-Date).DateTime 
```

我想您可能将 Start-Process powershell 命令与 .NET 框架 Process 对象混淆了

# ruby-on-rails - twitter update_with_media 和carrierwave

> ID：14721186
> 
> 赞同：1
> 
> 时间：2013-02-06T03:50:36.070
> 
> 标签：ruby-on-rails

我正在尝试使用carrierwave将heroku的更新发布到twitter......与媒体。

[http://rdoc.info/gems/twitter/Twitter/API/Tweets#update_with_media-instance_method](http://rdoc.info/gems/twitter/Twitter/API/Tweets#update_with_media-instance_method)

我可以在没有媒体的情况下做到这一点，但是当我尝试媒体时，我一直遇到问题。

```
Twitter.update_with_media("message", File.new(picture.picture_url.to_s)) 
```

我得到错误：

```
Errno::ENOENT (No such file or directory - https://amazonlinktopicture) 
```

有任何想法吗？我也尝试了 File.open ，但它没有用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-12-02T07:46:30.853

只为他人的利益

[> 来源](https://gist.github.com/koshigoe/1203356)

```
require 'twitter'
require 'open-uri'

config = YAML.load_file('twitter.yml')
Twitter.configure do |c|
  c.consumer_key = config['consumer_key']
  c.consumer_secret = config['consumer_secret']
  c.oauth_token = config['oauth_token']
  c.oauth_token_secret = config['oauth_token_secret']
end

# Tempfile
begin
  uri = URI.parse('https://dev.twitter.com/sites/default/files/images_terms/tweet-display-guidelines-20110405.png')
  media = uri.open
  media.instance_eval("def original_filename; '#{File.basename(uri.path)}'; end")
  p Twitter.update_with_media(Time.now.to_s, media)
rescue => e
  p e
end

# StringIO
begin
  uri = URI.parse('http://a3.twimg.com/a/1315421129/images/logos/twitter_newbird_blue.png')
  media = uri.open
  media.instance_eval("def original_filename; '#{File.basename(uri.path)}'; end")
  p Twitter.update_with_media(Time.now.to_s, media)
rescue => e
  p e
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-08-21T12:34:52.467

```
begin    
 twitter_client = Twitter::REST::Client.new do |client|
 client.consumer_key = config['consumer_key']
 client.consumer_secret = config['consumer_secret']
 client.oauth_token = config['oauth_token']
 client.oauth_token_secret = config['oauth_token_secret']
end    
twitter_client.update_with_media(message, open(picture.picture_url))
rescue Exception => exc
  @message = exc.message
end 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-06T21:47:27.540

```
require 'open-uri'
Twitter.update_with_media("message", open(picture.picture_url.to_s) {|f| f.read }) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-06-06T13:44:48.297

```
begin    
 twitter_client = Twitter::REST::Client.new do |c|
  c.consumer_key = config['consumer_key']
  c.consumer_secret = config['consumer_secret']
  c.oauth_token = config['oauth_token']
  c.oauth_token_secret = config['oauth_token_secret']
 end    
twitter_client.update_with_media(message, open(picture.picture_url))
rescue Exception => exc
  @message = exc.message
end 
```

# installshield - InstallShield 2012 从临时 asp.net 文件夹部署 dll

> ID：14721187
> 
> 赞同：1
> 
> 时间：2013-02-06T03:50:38.743
> 
> 标签：installshield, installshield-2012

我的解决方案中有一个 InstallShield Spring 2012 项目。我在我的解决方案中添加了来自 Windows 服务项目的项目输出。此 Windows 服务项目引用了也在解决方案中的库项目。同一解决方案中的 ASP.Net MVC Web 项目引用了同一库项目。

现在，当从生成的 setup.exe 运行安装时，它运行良好，没有任何问题。它安装到预期的目标文件夹，我可以看到 Windows 服务的 exe 以及 libary 项目的 dll。

除了：图书馆项目的日期时间戳不是最新版本 - 它大约有一个月大！我拔出头发试图弄清楚它是从哪里得到这个旧版本的 dll 的。我最终发现它在 Temporary ASP.Net 文件夹中。我立即删除了该文件夹的内容并再次构建了安装项目。

这次奏效了。但可以肯定的是，在对库项目进行更多更改并重新构建安装程序 exe 后，部署的 exe 仍然是它从 Temporary ASP.Net 文件夹中获取的非最新版本。

为什么它会这样做？我错过了某个地方的设置吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T13:10:28.003

项目输出组的内容由提供文件列表的项目决定；如果它提供了无用的信息，就无法将其转化为好的信息。如果您知道构建需要包含的文件的位置，请跳过项目输出组参考，并将文件直接添加到您的 InstallShield 项目中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-23T14:52:19.500

最后..我很沮丧并寻找了将近一周的解决方案。

我不明白为什么，但是删除 temp asp.net 文件夹确实可以修复引用，特别是如果您最近升级到企业库 6.0 并且正在使用 TFS。

对肖恩的回答竖起大拇指。

# r - 使用 R 将 GRIB 数据绘制为经度超过 360 度的地图

> ID：14721191
> 
> 赞同：3
> 
> 时间：2013-02-06T03:51:12.213
> 
> 标签：r, plot, latitude-longitude, grib

我正在尝试自动获取有关波高预测的数据并构建与[此类](http://hmc.hydromet.ru/sea/waves/images/00_hww+012.png)似的图。

使用 R，我可以下载数据并使用以下方法绘制它：

```
library(rgdal)
library(fields)

ftp.string <- "ftp://polar.ncep.noaa.gov/pub/waves//20130205.t00z/nww3.HTSGW.grb"
#this link may become broken with time, as folders are removed after some time. just edit the date to reflect the most recent day at the time you run these lines

download.file(ftp.string, "foo.grb", mode="wb")

grib <- readGDAL("foo.grb")
is.na(grib$band1) <- grib$band1 > 100
image(grib, col=(tim.colors(15)), attr=1) 
```

但是，如果您仔细查看我在上面发布的链接，您会发现细微的差别：链接中的图跨越了超过 360 度的经度。

这对我正在做的事情很重要，因为它使我可以轻松地检查同一地块内所有海洋上的膨胀——如果一次只显示 360 度，这将更加困难，因为这会强制导致其中一个海洋被切。

尽管我尽了最大的努力，我还是找不到绘制超过 360 度的方法，因为 GRIB 格式“太聪明”而不允许这样做（这不仅仅是抵消数据，而是重复其中的一部分）。

任何见解将不胜感激。干杯

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T08:43:43.337

我会将您的数据从`raster`包中加载到栅格堆栈中，然后使用`merge`and`crop`函数。基本上，您复制光栅，将其移动 360 度，然后将其与自身合并，然后对其进行裁剪以适应口味。这是一个函数：

```
require(raster)
wwrap <- function(g,xmax=720){
  gE = extent(g)

  shiftE = extent(360,720,gE@ymin, gE@ymax)
  g2 = g
  extent(g2)=shiftE

  gMerge = merge(g,g2)

  crop(gMerge,extent(0,xmax,gE@ymin, gE@ymax))
} 
```

这里有一些用法：

```
> gstack = stack("foo.grb")
> gstack[gstack>100] = NA
> gstack2 = wwrap(gstack,xmax=460)
> plot(gstack2)
> plot(gstack2[[1]])
> plot(gstack2[[61]]) 
```

首先移动和裁剪栅格然后合并可能更有效，但这是一个开始，只需几秒钟即可在您的栅格上运行。

如果您关心的只是绘图，那么编写一个绘制两次的函数可能会更容易，一次是范围的变化。但这必须为栅格中的每个波段完成....

```
wraplot <- function(g,xmax=720){
  gE = extent(g)
  ## to setup the plot
  worldWrap = extent(0,xmax,gE@ymin, gE@ymax)
  rWrap = raster(nrows=1,ncols=1,ext=worldWrap)
  rWrap[]=NA
  plot(rWrap)
  ## first part
  plot(g,add=TRUE)
  ## setup and plot it again
  shiftE = extent(360,720,gE@ymin, gE@ymax)
  cropE = extent(360,xmax,gE@ymin, gE@ymax)
  extent(g)=shiftE
  g=crop(g,cropE)
  plot(g,add=TRUE)
} 
```

然后你做：

```
wraplot(gstack[[1]]) 
```

查看`raster`软件包的所有功能。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-07T09:19:46.883

更天真的方法是创建第二个数据集，偏移为 360°：

```
grib2 <- grib
grib2@bbox[1, ] <- grib2@bbox[1, ] - 360
image(grib, col=(tim.colors(15)), attr=1, xlim=c(-360,360))
image(grib2, add=TRUE, col=(tim.colors(15)), attr=1) 
```

![在此处输入图像描述](../Images/a245971081779196bfd4ae7b0820e7ae.png)

您可以按照`xlim`自己的方式将其居中：

```
image(grib, col=(tim.colors(15)), attr=1, xlim=c(-270,90))
image(grib2, add=TRUE, col=(tim.colors(15)), attr=1) 
```

![在此处输入图像描述](../Images/c61289a6fb5a09ab0a1112db7a2a91d8.png)

在这里它可以工作，因为数据位于规则网格上，因此不需要插值，否则当然首选@Spacedman 解决方案。

# c# - C#将获取的地址解析为IP地址

> ID：14721198
> 
> 赞同：0
> 
> 时间：2013-02-06T03:51:48.713
> 
> 标签：c#, parsing, ip

编程新手，但试图自学一些学校尚未向我展示的领域。

正在运行的项目的宏伟计划是接受客户端到服务器的连接。在控制台窗口中，它将显示连接时间。我也试图让它显示客户端 IP 地址以进行记录。以下是我所拥有的，但我无法正确解析它。

```
//Console Output
string IPAddress = System.Net.Dns.GetHostEntry(System.Net.Dns.GetHostName()).AddressList.GetValue(0).ToString();
IPAddress address = IPAddress.Parse(ipAddress);
Console.WriteLine("New TCP connection made at " + "{0:g}", DateTime.Now + IPAddress); 
```

如果我省略“IPAddress address......”行，它将显示长而丑陋的未解析地址 =p

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T04:17:16.773

> 我也试图让它显示客户端 IP 地址以进行记录。

请记住，客户端上可能有多个 NIC，即有线/无线（以及多于有线 NIC）。这意味着将有多个 IP 地址，并且很可能是 IPv4 和 IPv6 地址的混合。

使用[Dns.GetHostEntry](http://msdn.microsoft.com/en-us/library/ms143998%28v=vs.110%29.aspx)方法时，传递一个空字符串作为主机名将返回本地主机的 IPv4 地址：

```
IPHostEntry entry = Dns.GetHostEntry( string.Empty ); 
```

或者，您可以使用：

```
IPHostEntry entry = Dns.GetHostEntry( Dns.GetHostName() ); 
```

然后，要查找所有地址，请使用[AddressFamily Enumeration](http://msdn.microsoft.com/en-us/library/system.net.sockets.addressfamily.aspx)：

```
var addresses = entry.AddressList.Where( x => x.AddressFamily == AddressFamily.InterNetwork ); 
```

其中`AddressFamily.InterNetwork`= IP 版本 4 的地址。

从这里，您可以根据需要遍历`addresses`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T04:03:17.550

您需要查看地址列表中的所有 IP 地址并丢弃 IPV6 的地址。

```
IPAddress[] ipv4Addresses = Array.FindAll(
    Dns.GetHostEntry(string.Empty).AddressList,
    a => a.AddressFamily == AddressFamily.InterNetwork); 
```

有关 AddressFamily 类型的信息，请参阅[此链接](http://msdn.microsoft.com/en-us/library/system.net.ipaddress.addressfamily%28VS.80%29.aspx)。

# ruby-on-rails - 如何关闭 Heroku 上的资产管道？

> ID：14721202
> 
> 赞同：2
> 
> 时间：2013-02-06T03:52:17.743
> 
> 标签：ruby-on-rails, ruby-on-rails-3, heroku, ruby-on-rails-3.2, asset-pipeline

如何在 Heroku 上的登台服务器上关闭资产预编译？

环境/staging.rb：

```
config.assets.compress = false
config.assets.compile = false 
```

设置环境变量：

```
RAILS_ENV: staging 
```

推时：

```
...Asset precompilation completed (30.65s)... 
```

导轨 3.2.11

# d3.js - 如何在直线路径中创建 D3 气泡图？

> ID：14721224
> 
> 赞同：0
> 
> 时间：2013-02-06T03:55:09.217
> 
> 标签：d3.js, charts, data-visualization

我想创建一个气泡图，就像图片中的那样。直线路径中的气泡图。具有每种数据类型的大小范围的气泡。

![在此处输入图像描述](../Images/df2ed8e5aec86ceba19e37f76f5e13de.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T17:15:49.370

使用 svg 元素，遍历数据，并为每个基准绘制圆圈并附加文本字段。这是一个可以构建的基础：

```
var data = [{
    label: 'Datum 1',
    rVal: 1,
    yVal: 1,
    xVal: 1,
        'class': 'red'
}, {
    label: 'Datum 2',
    rVal: 2,
    yVal: 1,
    xVal: 2,
        'class': 'green'
}, {
    label: 'Datum 3',
    rVal: 3,
    yVal: 1,
    xVal: 3,
        'class': 'blue'
}],

    // Preliminaries
    // domain is the data domain to show
    // range is the range the values are mapped to
    svgElm = d3.select('svg'),
    rscale = d3.scale.linear().domain([0, 5])
        .range([0, 60]),
    xscale = d3.scale.linear().domain([0, 5])
        .range([0, 320]),
    yscale = d3.scale.linear().domain([0, 5])
        .range([240, 0]),
    circles;

// Circles now easily reusable
circles = svgElm.select('g.data-group')
    .selectAll('circle')
    .data(data)
    .enter()
    .append('circle');

// Alter circles
circles.attr('class', function (d) {
    return d['class'];
})
    .attr('r', function (d) {
    return rscale(d.rVal);
})
    .attr('cx', function (d) {
    return xscale(d.xVal);
})
    .attr('cy', function (d) {
    return yscale(d.yVal);
}); 
```

请参阅 jsfiddle 上的完整示例：http: [//jsfiddle.net/elydelacruz/XW8sE/13/](http://jsfiddle.net/elydelacruz/XW8sE/13/)

# javascript - javascript中的条件检查

> ID：14721226
> 
> 赞同：-4
> 
> 时间：2013-02-06T03:55:22.587
> 
> 标签：javascript, jquery, object

有什么区别：

```
!!(obj1 && obj2); 
```

和

```
 (obj1 && obj2); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T03:58:53.257

第一个可能会返回一个字符串或一个对象，第二个将返回一个布尔值。

因为javascript中的对象可以是真的，如果它是真的，`A && B`将返回的值`B`，这可能是一个对象。但是使用！！会将其转换为布尔值，因为 !B 会将其转换为 true 或 false，而第二个 ! 将其移动到正确的布尔值

两者不同的示例：

```
var a = "test", b ="example"
var ex1 = ((a && b)   === true)  // false
var ex2 = (!!(a && b) === true)  // true 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T03:58:41.033

空无一人。

一般来说，`!!`用于在不使用函数调用的情况下转换为布尔值，类似于如何`0^`用于转换为整数、`""+`如何转换为字符串等。

但是，在这种情况下，假设它在`if`语句中，则根本没有区别，因为`if`隐式“强制转换”为布尔值以查看它是否为真。

# css - 使用 Zurb Foundation 时设置网页背景图片？

> ID：14721228
> 
> 赞同：4
> 
> 时间：2013-02-06T03:55:49.417
> 
> 标签：css, background-image, zurb-foundation

我使用以下[css3 代码使背景图像接近完美 100%](http://css-tricks.com/perfect-full-page-background-image/)的浏览器窗口：

```
html { 
    background: url(images/bg.jpg) no-repeat center center fixed; 
    -webkit-background-size: cover;
    -moz-background-size: cover;
    -o-background-size: cover;
    background-size: cover;
} 
```

但是，我也使用了 Zurb Foundation 3 css 框架，它会自动使`body`元素具有白色背景......所以上面的背景图片被隐藏了。显然我可以覆盖它，但这让我觉得我需要用 Foundation 以一种特殊的方式处理上述背景。真的吗？还是我也需要这个：

```
body {
  background: transparent !important;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-04-27T17:50:25.713

我使用 Foundation 5，但不使用图像，而是使用渐变，但如果您想使用图像，同样应该适用。. .

横幅

```
<div id="banner">
    <div class="row">
        <div class="small-12 columns">Some Content Here</div>
    </div>
</div> 
```

CSS - 注意 WIDTH 和 Z-INDEX 这意味着背景将占据页面宽度的 100%，并且 z-index 将把它放在任何基础其他元素的下方 最好的应用方式是在页面上或者在foundation.min.css 之后加载的样式表上，否则它不会覆盖foundation 的预设。

```
#banner{
    width:100%;
    height:100%;
    min-height:100%;
    z-index:-999;
    background: url(images/bg.jpg) no-repeat center center fixed; 
    margin:0;padding:0;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T12:18:46.707

我会应用你`html`的风格来`body` 代替。结果将是相同的，您将覆盖 Foundation 的默认白色背景。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T06:46:07.990

编辑注意：对不起，我认为您放置的 !important 属性项是 Zurb 代码。无论哪种方式，我都会为它的价值留下我的答案。

我不熟悉 Zurb Foundation 3，但通常如果开发人员使用 !important 属性，那是因为他们认为它对其余代码至关重要并且不希望它被覆盖。但是，我们谈论的是不继承的背景，因此，我看不出 body 标签上的背景属性实际上是如何“至关重要”的，例如，如果您将其删除，它将破坏布局。

我正在考虑主体的 z-index 以及开发人员可能希望如何将某些项目放在主体后面，尽管我从未见过这个并且不知道您为什么要这样做。此外，我相信负 z-index 应该在身体后面放置一些东西，但是，我们没有看到这种情况发生。看看我试图在身体后面隐藏一个 div 的各种小提琴。

[http://jsfiddle.net/W9ckz/1/](http://jsfiddle.net/W9ckz/1/) [http://jsfiddle.net/W9ckz/2/](http://jsfiddle.net/W9ckz/2/) [http://jsfiddle.net/W9ckz/3/](http://jsfiddle.net/W9ckz/3/) [http://jsfiddle.net/W9ckz/4/](http://jsfiddle.net/W9ckz/4/)

因此，除非您能想到另一种方法来覆盖主体上的背景可能会破坏布局并且可以证明它对该效果构成威胁（与我想到的 z-index 不同），否则我会说去吧。最糟糕的情况是您必须撤消它。

```
I think you can remove the body background
property altogether without side effect. 
```

# c++ - 是否有必要在互斥体上调用 pthread_mutex_destroy？

> ID：14721229
> 
> 赞同：16
> 
> 时间：2013-02-06T03:55:53.113
> 
> 标签：c++, pthreads, posix, mutex

我在 C++ 程序中使用 pthread_mutex_t，如下：

```
class Mutex : public noncopyable
{
public:
    Mutex()
    {
        pthread_mutex_init(&m_mutex, NULL);
    }

    void acquire()
    {
        pthread_mutex_lock(&m_mutex);
    }

    void release()
    {
        pthread_mutex_unlock(&m_mutex);
    }

private:
    pthread_mutex_t m_mutex;
}; 
```

（该课程不可复制 - [http://www.boost.org/doc/libs/1_53_0/boost/noncopyable.hpp](http://www.boost.org/doc/libs/1_53_0/boost/noncopyable.hpp)）

我不明白的事情 -*不*调用`pthread_mutex_destroy`析构函数是否被视为错误？我读过的文档没有说明必须调用destroy。

有谁知道，`pthread_mutex_destroy`实际做什么以及在什么条件下需要它？

**编辑**

的答案是否`pthread_mutex_destroy`也适用于`pthread_cond_destroy`等？对我来说，它们似乎几乎是无用的功能，除非`pthread_mutex_init`等。人。正在分配内存？（对我来说，文档对此并不完全清楚。）

**无论如何，调用破坏并没有伤害我，所以这个问题主要是学术性的。**

无论如何，在 linux 上，似乎 destroy 只会将互斥锁设置为无效状态：

```
int
__pthread_mutex_destroy (mutex)
     pthread_mutex_t *mutex;
{
  if ((mutex->__data.__kind & PTHREAD_MUTEX_ROBUST_NORMAL_NP) == 0
      && mutex->__data.__nusers != 0)
    return EBUSY;

  /* Set to an invalid value.  */
  mutex->__data.__kind = -1;

  return 0;
} 
```

（来自 glibc-2.14/nptl/pthread_mutex_destroy.c）。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-02-06T04:00:27.113

如果有人为您提供了一个销毁函数，那么您需要在该对象超出范围之前调用它作为对该对象的最终操作。

在 API 没有影响的架构和实现上，这将被优化掉，但是如果 API 将来更改为需要清理内部状态并且您的代码没有调用它，您的代码现在将拥有内存和/或资源泄漏。

所以简单的答案是肯定的；你必须调用这个 API——事情就是这样——*即使 API 目前什么都不做*，因为虽然 API 本身在未来永远是固定的，但 API 背后的实现却不是。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-02-06T04:02:21.547

来自**[IEEE 文档](http://pubs.opengroup.org/onlinepubs/007904875/functions/pthread_mutex_init.html)**，它是管理 POSIX 的标准：

> pthread_mutex_destroy() 函数将销毁 mutex 引用的 mutex 对象；互斥对象实际上变得未初始化。实现可能会导致 pthread_mutex_destroy() 将 mutex 引用的对象设置为无效值。可以使用 pthread_mutex_init() 重新初始化被破坏的互斥对象；在对象被销毁后以其他方式引用该对象的结果是未定义的。

文档没有说你**必须**调用它。但这样做是一个好习惯。
调用此 api 将向 POSIX 库发出信号，以释放在其初始化期间为该特定互斥对象使用而保留的所有资源。
假设互斥锁初始化确实分配/保留了一些资源是合乎逻辑的。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2019-01-22T03:25:42.010

几年过去了，@SecurityMatt 是对的。为了解决争论，您必须调用 pthread_mutex_destroy 以满足 API 要求并释放内存。

这是最新的[pthread_mutex_destroy](http://git.savannah.gnu.org/cgit/hurd/libpthread.git/tree/sysdeps/generic/pt-mutex-destroy.c)的摘录：

```
int _pthread_mutex_destroy (pthread_mutex_t *mutex)
{
  if (mutex->__attr == __PTHREAD_ERRORCHECK_MUTEXATTR
      || mutex->__attr == __PTHREAD_RECURSIVE_MUTEXATTR)
    /* Static attributes.  */
    ;
  else
    free (mutex->__attr);

  return 0;
} 
```

# android - 如何更改指南针在 MapView 上的位置 - Android

> ID：14721230
> 
> 赞同：0
> 
> 时间：2013-02-06T03:56:18.780
> 
> 标签：android, android-mapview

我有一个 MapView，我需要更改指南针的位置，因为我需要顶部空间用于标题覆盖。

请注意，指南针位于标题覆盖下方。我需要将它稍微移到下方。

![图片](../Images/6168474b8c3c48ca644f3471fbb9cdf7.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-03T05:20:04.930

唯一的方法似乎是从 MyLocationOverlay 派生我自己的类。

```
Override drawCompass(); 
```

基本上操作 Canvas 对象，调用 super.drawCompass() 在您的新位置绘制指南针。将画布恢复为您找到它的方式。

# objective-c - 同一类上的两个类别具有相同的方法名称

> ID：14721235
> 
> 赞同：15
> 
> 时间：2013-02-06T03:56:47.300
> 
> 标签：objective-c, afnetworking, sdwebimage

我注意到 UIImageView 上的 AFNetworking 和 SDWebImage 类别具有相同的方法名称。

AF网络：

```
- (void)setImageWithURL:(NSURL *)url {
    [self setImageWithURL:url placeholderImage:nil];
}

- (void)setImageWithURL:(NSURL *)url 
       placeholderImage:(UIImage *)placeholderImage
{
    NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url];
    [request setHTTPShouldHandleCookies:NO];
    [request addValue:@"image/*" forHTTPHeaderField:@"Accept"];

    [self setImageWithURLRequest:request placeholderImage:placeholderImage success:nil failure:nil];
}

- (void)setImageWithURLRequest:(NSURLRequest *)urlRequest 
              placeholderImage:(UIImage *)placeholderImage 
                       success:(void (^)(NSURLRequest *request, NSHTTPURLResponse *response, UIImage *image))success
                       failure:(void (^)(NSURLRequest *request, NSHTTPURLResponse *response, NSError *error))failure
{
...
} 
```

和 SDWebImage

```
- (void)setImageWithURL:(NSURL *)url
{
    [self setImageWithURL:url placeholderImage:nil options:0 progress:nil completed:nil];
}

- (void)setImageWithURL:(NSURL *)url placeholderImage:(UIImage *)placeholder
{
    [self setImageWithURL:url placeholderImage:placeholder options:0 progress:nil completed:nil];
}

- (void)setImageWithURL:(NSURL *)url placeholderImage:(UIImage *)placeholder options:(SDWebImageOptions)options
{
    [self setImageWithURL:url placeholderImage:placeholder options:options progress:nil completed:nil];
}

... 
```

在 Xcode 中，当我命令单击 SDWebImage 方法时，它会将我重定向到 AFNetworking 方法，反之亦然。

我可以在哪里期待哪种行为？我应该只在我想使用的类中包含适当类别的标题吗？如果同一个类需要使用该类别的两个实现怎么办？

另一个相关问题“[如果两个 ObjC 类别覆盖相同的方法会发生什么？](https://stackoverflow.com/questions/3221972/what-happens-if-two-objc-categories-override-the-same-method) ”与此不完全相同，因为 AFNetworking 和 SDWebImage 都将类别添加到同一个类而不是子类中。在这种情况下，仅使用一次类，并且 2 个类别似乎存在冲突。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-06T04:06:32.183

在 Objective-C 运行时中确实会发生名称冲突…… [Apple 建议在方法名称上使用“前缀”](http://developer.apple.com/library/ios/#documentation/cocoa/conceptual/ProgrammingWithObjectiveC/CustomizingExistingClasses/CustomizingExistingClasses.html)。

预期行为：只有运行时加载的最后一个类别/方法才会有效。哪一个 ？不好的问题！

我的建议：重命名！

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-03-08T12:04:56.980

重命名似乎不是解决问题的最佳方法，

只需使用：

```
[cell.imageView setImageWithURL:[NSURL URLWithString:url] placeholderImage:[UIImage imageNamed:@"placeholder"] completed:^(UIImage *image, NSError *error, SDImageCacheType cacheType) {

}]; 
```

从中`SDWebImage`不存在`AFNetworking`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-07-09T14:48:52.647

对于希望按原样使用 SDWebImage 和 AFNetworking 的任何人，这是我的穴居人解决方案，以阻止使用碰撞方法：

[https://gist.github.com/sibljon/5957892](https://gist.github.com/sibljon/5957892)

这显然不是未来的证明，如果这些方法的实现在 AFNetworking 或 SDWebImage 中发生变化，很容易崩溃。这远非理想的解决方案。换句话说，风险自负！

# uml - html页面的设计图

> ID：14721236
> 
> 赞同：1
> 
> 时间：2013-02-06T03:56:47.580
> 
> 标签：uml, software-design

我的项目正在开发一个仅包含简单 html 页面的网站。要开始这个项目，我必须先做设计文档，我无法理解我应该使用什么样的 UML 图？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-06T17:28:02.767

不，您不需要 UML 文档，但是，如果使用得当，我会很有帮助。

对我有很大帮助的三种图表是：

[1]（对象和）类图

从这个开始。对于简单的 HTML 页面，它非常容易。只需绘制您的网站将拥有的每个特定页面，并带有一个类。

在此示例中，我们有一个带有“主”页面 (index.html) 和“产品”页面的网站商店。对于静态 HTML 页面，您可以跳过“属性”、“方法”。

```
..............................................
..+----------------+..+--------------------+..
..| * : MainPage   |..| * : ProductsPage   |..
..+----------------+..+--------------------+..
..|                |..|                    |..
..|                |..|                    |..
..|                |..|                    |..
..+----------------+..+--------------------+..
.............................................. 
```

[2] 活动图（“UML Flowchar”）

当您的用户单击页面中的链接时，将进入下一页？

```
......................
.........(O)..........
..........|...........
..........|...........
..........v...........
..+----------------+..
..|  Enter         |..
..|  (MainPage);   |..
..|                |..
..+----------------+..
..........|...........
..........|...........
..........v...........
..+----------------+..
..|  ClickLink     |..
..| (CatalogPage); |..
..|                |..
..+----------------+..
..........|...........
..........|...........
..........v...........
..+----------------+..
..|  Enter         |..
..| (CatalogPage); |..
..|                |..
..+----------------+..
..........|...........
..........|...........
..........v...........
.........(X)..........
...................... 
```

[3] 序列图

它们类似于活动图，但是更复杂，它们更像是二维图。

使用它们，只有当你很好地理解它们时。

```
.........................................................................
......+--------------+.....+--------------+........+-----------------+...
......| * : User     |.....+ * : MainPage +........| * : CatalogPage |...
......+-------+------+.....+------+-------+........+--------+--------+...
..............|...................|.........................|............
............+-+-+...............+-+-+.....................+-+-+..........
....start().|   |...enter().....|   |.....................|   |..........
.(O)=======>+   +==============>+   |.....................|   |..........
............|   |...............|   |..Show().............|   |..........
............|   |...............|   +===+.................|   |..........
............|   |...............|   |...!.................|   |..........
........+---+   |<--------------|   +<==+.................|   |..........
........|...|   |...............|   |.....................|   |..........
........|...|   |.ClickLink.....|   |.....................|   |..........
........|...|   |...("Catalog").|   |.......enter().......|   |..Show()..
........+-->+   +==============>+   +====================>+   +===+......
............|   |...............|   |.....................|   |...!......
............|   |...............+-+-+.....................|   |...!......
...finish().|   |.........................................|   |...!......
.( )<-------+   +<----------------------------------------+   +<==+......
............|   |.........................................|   |..........
............+-+-+.........................................+---+..........
......................................................................... 
```

注意：在此示例中，用户（“演员”）显示为块类。

请记住，不要强迫自己使用 UML 图，如果您不理解它们，它将使您的工作变得困难，而不是帮助您。

干杯。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T15:16:22.693

在大多数情况下，用例将帮助您至少识别功能需求。活动图可以很好地绘制用户与网站的交互。此后，您可能会使用序列图或组件图。类图通常出现较晚。

但基本上，选择完全取决于您。UML 不设置或要求任何过程约束。这些图表只是提供了对同一主题的不同观点。只需拿一本 UML 书，就可以初步了解哪种图表类型最适合什么；从您的问题看来，那里缺少基本知识（因为您没有指出您已经做过的任何研究）。

请记住，UML 不是您唯一的选择。也许一个思维导图就可以了。这取决于你的任务。

# javascript - 如何编写特定于浏览器的 JavaScript 代码？

> ID：14721237
> 
> 赞同：2
> 
> 时间：2013-02-06T03:56:55.620
> 
> 标签：javascript, browser

如何编写特定于浏览器的 JavaScript 代码？
例如，只是为了使代码适用于 firefox 或即使用 javascript。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-06T04:01:10.370

```
if (/MSIE (\d+\.\d+);/.test(navigator.userAgent)){ //test for MSIE x.x;

if (/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)){ //test for Firefox 
```

[在这里更深入地阅读](http://www.javascriptkit.com/javatutors/navigator.shtml)

请注意，通常最好检测功能而不是浏览器，因为您不应该关心最终用户使用的浏览器，只要它支持您的功能即可。

# drop-down-menu - 将我的水平子菜单更改为垂直下拉菜单

> ID：14721239
> 
> 赞同：0
> 
> 时间：2013-02-06T03:56:57.080
> 
> 标签：drop-down-menu, html5boilerplate

我想将我的水平子菜单更改为下拉式菜单。这是我的CSS：

```
#menubar ul{
    height:48px;
    clear:both;
}
#menubar li{
    float:left;
    display:inline;
    height:48px;
    margin-top:11px;
    border-right: 1px solid #E7E7E7;
}
#menubar a{
    line-height:48px;
    padding: 0 8px;
    text-decoration:none;
    font-size: 14px;
    font-weight:800;
    color:#4A4A4A;
}
#menubar a:hover{
    color:#000;
}
#menubar li:last-child{
    border-right: 0 none;
}
ul.children{
    display:none;
    position:absolute;
    margin-top:-10px;
}
#menubar li:hover > ul {
    width:200px;
    display:block;
    height:auto;
}
ul.children li{
    width:200px;
    position:static;
    float:none;
    display: block;
    margin:-10px;
    text-align:left;
    background-color:#fff;
    clear:both;
    box-shadow:0px 4px 9px #a6d19c;
    border:1px solid #a6d19c;
    font-size:14px;
    font-weight:700;
    border-left:none;
    border-right:none;
    border-top:none;
    margin-left:0;
}
#menubar ul.children a{
    float:none;
    background-color:#fff;
    white-space:nowrap;
    font-size:12px;
    font-weight:600;
} 
```

我试过消除块和内联显示，但无济于事。我习惯于将我的 CSS 应用于以下元素：

```
#access ul li li {} 
```

并且不太了解 .children 类。

任何有助于使其成为下拉菜单的帮助表示赞赏。:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:46:24.487

正如我在评论中提到的，您的 CSS 有效，您只需要一个作为主要 LI 之一的子级的 UL，标有`class="children"`例如

```
<div id="menubar">
    <ul>
        <li><a href="">Parent menu</a>
            <ul class="children">
                <li><a href="">Child menu items</a></li>
                <li><a href="">Child menu items 2</a></li>
            </ul>
        </li>
    </ul>
</div> 
```

# mysql - MYSQL SUM() 总分

> ID：14721244
> 
> 赞同：0
> 
> 时间：2013-02-06T03:57:29.457
> 
> 标签：mysql, jasper-reports

我有一个简单的碧玉报告，它只有 USER 和 SCORE 作为列，并使用 mysql 和 DB。现在报告工作正常。但后来我想总计总得分并将其显示在报告的底部。我怎样才能做到这一点？当我对查询进行简单的 sum(SCORE) 时，它会得到所需的总数，但它只会返回一行。我想显示所有行并同时显示其总分数。有人可以帮忙吗？谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T08:47:47.750

您可以使用 JasperReports 变量。您将使用变量表达式*$F{score}创建一个**Sum*类型的变量。然后您可以将它拖到报告中的任何位置，它显示为文本字段。如果您不将其放在摘要带中，请确保将文本字段的*评估时间*设置为*Report*。

 ***无需修改查询即可实现此目的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T04:00:36.093

听起来你想使用类似的东西：

```
SELECT userId, SUM(score)
FROM userScores
GROUP BY userId WITH ROLLUP; 
```

这将返回包含每个用户 ID 及其总分的行，以及带有`NULL`for`userId`和总分的“汇总”行。

有关更多信息，请参阅[文档](http://dev.mysql.com/doc/refman/5.6/en/group-by-modifiers.html)。***

# windows - 如何列出英语算术表达式并产生数值结果

> ID：14721252
> 
> 赞同：1
> 
> 时间：2013-02-06T03:58:01.040
> 
> 标签：windows, prolog

我是 Prolog 的新手，我有一个查询计算器（[三，时间，二]，总计）的问题。并得出答案 Total=6。

跟进我之前的问题：我正在使用谓词翻译让 Prolog 了解 [1,2,3,4 等] 是 [一、二、三、四等]。

```
translate([],[]).    
translate([H|T],[H2|T2]):-means(H,H2),translate(T,T2).
means(0,zero).
means(1,one).
means(2,two).
means(3,three).
means(4,four).
means(5,five).
means(6,six).
means(9,nine).
means(10,ten). 
```

我输入了查询

?-翻译([1,2,3,4],X)。

X=[一、二、三、四]。

Prolog 将英文数值翻译成数字。我只需要帮助将这种翻译合并到我的算术代码中。

calc([N1,times,N2],Total):-总计为 N1*N2。

任何形式的建议将不胜感激。谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:02:23.520

我不确定我是否可以在不给出答案的情况下提供帮助，但我的第一个尝试是使用[DCG](https://stackoverflow.com/questions/tagged/dcg) s。它们是解析任何内容（包括原子列表）的一种非常方便的方法。例如：

```
word_number(1) --> [one].
word_number(2) --> [two]. 
```

您可以将其用于`phrase/2`：

```
?- phrase(word_number(N), [one]).
N = 1 ; 
```

这里发生的是 Prolog 正在寻找与输入序列匹配的 DCG 规则或列表。这些 DCG 表达式只是差异列表之上的语法糖，但它们可以实现非常声明性的语法阅读。对此进行扩展：

```
expression(Value) --> 
  word_number(Left), 
  [times], 
  word_number(Right),
  { Value is Left * Right }. 
```

`-->`除了符号本身之外，语法糖的另一部分是您可以在大括号中嵌入任意 Prolog。我们使用其他 DCG 谓词本质上作为输入中的其他标记，因此`word_number(Left)`要将 Left 绑定到单词的整数值，然后`Value`只是左单词数和右单词数的乘积。

```
?- phrase(expression(Value), [two,times,two]).
Value = 4. 
```

希望这足以让你开始。

**编辑**

事实证明，您不需要将其合并`translate/2`到`calc/2`谓词中，`means/2`就可以很好地完成工作：

```
calc([W1, times, W2], Total) :- 
  means(W1, N1), means(W2, N2),
  Total is N1*N2. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T07:26:59.643

将数字分配给符号的紧凑方法可能是[nth0](http://www.swi-prolog.org/pldoc/doc_for?object=nth0/3) /3，并将其与“if”（参见[(->)](http://www.swi-prolog.org/pldoc/man?predicate=send_arrow/2) /2）组合，接受的输入可以跨越符号*和*数字。

```
valof(V, U) :-
 nth0(U, [zero, one, two], V) -> true ; U = V. 
```

有了这个，一个简单的应用到列表的方法可能是

```
calc([A, Op, B|Cs], R) :-
    valof(A, Va),
    valof(B, Vb),
    arith(Va, Op, Vb, T),
    calc([T|Cs], R). 
```

*编辑*我忘记了递归的基础：

```
calc([A], R) :-
    valof(A, R).

arith(A, plus, B, R) :- R is A+B.
arith(A, mult, B, R) :- R is A*B. 
```

请注意，我们*弹出*三个元素并替换为评估值（因此 valof*必须*接受数字）。

我特意介绍了一个*优先级*`plus`不同的运算符。您应该看到上面的解决方案是**不**正确的，因为它没有处理算术表达式语法的如此重要的属性。看看您是否可以更正它，将此答案与 Daniel 提供的 (+1) 合并，以及我在类似问题上给出的另一个答案[。](https://stackoverflow.com/a/7828855/874024)*`mult`*

# c - 涉及静态变量和 fprintf 的奇怪 C 行为

> ID：14721254
> 
> 赞同：1
> 
> 时间：2013-02-06T03:58:15.137
> 
> 标签：c, linux, network-programming

我正在为现有的大型软件工具添加一项功能（该工具用于 dns 数据包捕获和解析等）。我注意到原始代码中有一些奇怪的地方，无法弄清楚解释是什么。该代码有一个用于存储 IP 地址（IPv6 和 IPv4）的结构，如下所示：

```
typedef struct {
    int         af;  
    union {
        struct in_addr      a4;  
        struct in6_addr     a6;  
    } u; 
} iaddr; 
```

此外，它具有将这样存储的地址转换为字符串的功能：

```
static const char * ia_str(iaddr ia) {                                  
    static char ret[sizeof "ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff"];
    (void) inet_ntop(ia.af, &ia.u, ret, sizeof ret);
    return (ret);
} 
```

现在，在打印数据包时，代码会执行以下操作来打印源地址和目标地址以及端口：

```
void output(const char *descr, iaddr from, iaddr to, ...
    ...
    fprintf(stderr, "%s:%u ", ia_str(from), sport);
    fprintf(stderr, "-> %s:%u", ia_str(to), dport); 
```

到目前为止，一切都很好（我认为）。这是已发布的代码，似乎工作正常。现在，当我进行这个微小的改变时，只需将上面的两个 fprintf 行合并为一个（如果我尝试使用 sprintf 而不是 fprintf 也会发生这种情况）：

```
 fprintf(stderr, "%s:%u -> %s:%u", ia_str(from), sport, ia_str(to), dport); 
```

该程序在两个位置打印相同的地址（即 ia_str(from) 地址）！

我难住了。请帮忙。提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T04:11:46.737

这很可能是因为 ia_str() 正在返回一个指向静态缓冲区的指针。

因此，发生的情况是对 ia_str() 的调用都是在设置对 fprintf() 的调用之前计算的。ia_str() 的返回值被压入堆栈，但因为它是一个静态缓冲区，所以它包含最后放入其中的值。恰好来自 is_str(from)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T04:12:13.763

向 fprintf 传递相同的地址，因为从 ia_str 的返回将在任意数量的调用中返回相同的地址，只有最后一次调用的更改才会有效。所以在调用 fprintf 时，最后调用的函数 ia_str(from) [函数将从右到左调用] 会修改 ret，只有那个才会出现。它会是这样的：

```
fprintf(stderr, "%s:%u -> %s:%u", 0x12345, sport, 0x12345, dport); 
```

相同的地址，相同的价值。

# linux - Linux Bash 脚本：如何获取没有路径的文件？

> ID：14721264
> 
> 赞同：2
> 
> 时间：2013-02-06T03:59:16.070
> 
> 标签：linux, bash, path, ls

我正在尝试在 Linux 中编写一个非常简单的脚本。
我先给你看代码：

```
#!/bin/bash
# The shell program uses glob constructs and ls
# to list all entries in testfiles, that have 2
# or more dots "." in their name.

ls -l /path/to/file/*.*.* 
```

当我使用`bash myscript`命令运行此代码时，我得到类似：/path/to/file/file.with.three.dots

但我不想要这个。我只想显示文件名，而不是路径。
然后我尝试了：

```
ls -l *.*.* 
```

但这次是向我显示文件，只有当我在 /path/to/file/ 中时。
如何设置路径，所以当从任何地方运行脚本时，它会输出 /path/to/file/ 中的文件名？

谢谢！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-06T04:04:44.607

`basename path/to/file.b.c`应该给你file.bc

但是重新阅读这个问题，我认为暂时`cd`的路径然后`ls`可能会更好：

```
(cd /path/to/file; ls -l *.*.*) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T07:37:18.277

先上代码：

```
ls -l /path/to/file/*.*.* | awk -F '/' '{print $NF}' 
```

现在解释：您列出您选择的文件，然后在其上使用 awk。开关 -F 将确定您用于拆分的字符（在这种情况下是 /）。然后你用 awk 打印“$NF”的值，这意味着“最后一个”。所以你有：/path/to/file/file.with.three.dots。拆分它，取最后一个（file.with.three.dots）并打印它（无论您的路径有多长/多深），并且无需更改您在文件系统上的当前位置。

我真的希望，我已经帮助了。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-11-26T09:09:22.413

或者使用 find 命令。

```
$> find /path/to/file -printf %f\\n\\r 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T08:42:00.940

我建议坚持使用 basename。

```
ls -1 /path/to/file/*.*.* | while read path
do
    basename "$path"
done 
```

*最好在 $(ls /path/* )*中使用*while read*而不是for path ，因为如果您的路径碰巧在其中有空格，则 for 循环将分割路径。

 ** * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-10-24T17:21:06.777

我使用 Zapatero 技术的一种变体来捕获环境变量中的基本文件名。`$1`是命令行参数，根据我的脚本中的定义，它是相关文件名的完整路径。

请注意，如果完整路径包含通配符并返回多个结果，则 basename 变量将设置为“最后一个”匹配文件名，无论`ls`返回它们的顺序如何。

```
basename=$(ls -1 "$1" | while read path; do basename "$path"; done) 
```*

# module - phpfox 模块的基本骨架是什么？

> ID：14721269
> 
> 赞同：0
> 
> 时间：2013-02-06T03:59:51.663
> 
> 标签：module, workflow, structure, phpfox

我想创建一个基本的 phpfox 模块，但我不知道从哪里开始，在网上搜索但找不到创建模块或描述 phpfox 模块的结构或流程的骨架或用户指南。我在这里并不要求一本关于创建 phpfox 模块的书，但有人可以提供一个 phpfox 模块的大纲或骨架（至少起点），或者至少将我重定向到我可以找到它的来源。谢谢。我正在使用 phpfox 3.4.1 和 mysql

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-17T19:58:38.420

phpFox 基于模块化系统，它运行用户在访问 phpFox 网站时看到的所有常见功能。它还包含我们称之为库或库，它是运行 phpFox 及其模块框架的引擎。产品核心被设计成一个CMS（内容管理系统）。如果您只包含核心引擎和运行产品所需的少数核心模块，那么只需一个 CMS。我们引入了模块来介绍其他功能，这些功能曾经充满了一堆将 CMS 变成了社交网络解决方案。考虑到这一点，我们让客户来决定他们想要运行什么样的网站以及他们真正需要什么样的功能才能让他们的人群对他们的网站感兴趣以及它必须提供什么。

这些模块基于 MVC（模型视图控制器）架构模式。phpFox 是在 OOP（面向对象编程）环境下开发的，这将为未来的开发人员提供更轻松的时间来增强产品以使其受益。

在处理 PHP 相关需求（例如 safe_mode 或 open_base_dir）时，产品的需求变得更加灵活。以这些为例，该产品可以与任何设置一起使用，以使客户不必担心他们的服务器是否启用了特定设置。我们的目标是拥有一种尽可能灵活的产品，以确保它适用于当今所有流行的主机。有一个严格的要求，为了运行该产品，您必须拥有 PHP5。过去的要求是 PHP 4.3.3，但是自从 PHP5 引入了一波改进之后，当涉及到 OOP 时，我们决定是时候继续前进了。对于 MySQL，同样需要 4.1，尽管 phpFox 将支持其他数据库驱动程序，而不仅仅是 MySQL。

阅读本手册时，最好按顺序阅读所有内容，不要跳过，因为我们稍后介绍的内容需要您了解本手册前面所学的知识。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-01T17:31:40.280

PhpFox 确实有一个专门的知识库部分用于理解模块的结构，你可以在这里找到它[http://www.phpfox.com/kb/category/9/developer-documentation/](http://www.phpfox.com/kb/category/9/developer-documentation/)。

但是有一个问题是您需要成为 Phpfox 的客户（您购买他们的产品）才能查看这些部分。我用过；在我看来，它非常有用。所以我认为你应该尝试一下。

# jquery - AJAX 的 jQuery qTip 插件问题

> ID：14721270
> 
> 赞同：0
> 
> 时间：2013-02-06T03:59:57.163
> 
> 标签：jquery, ajax, json, qtip

我在将 qTip 插件与 AJAX 调用应用到 PHP 时遇到一些问题。我过去做过 getJSON 调用。我遇到了 JS 的问题，而不是 PHP 方面的问题。这是基础知识。我有数百个具有 rel 属性的链接（锚点）。每个 rel 属性都包含对 PHP 代码的 AJAX 调用的 URL，该 URL 将返回 HTML 或 JSON（无论工作如何）。

[http://craigsworks.com/projects/qtip2/](http://craigsworks.com/projects/qtip2/)

CodeIgniter 代码的链接如下所示（https）：

```
<a rel="https://domain/cataloguers/ajax_detail/144969" class="title_dialog title_color" href="#">A Strange and Wonderful Prophet ... May 30th 1803\. A.L. 5803... [A Manuscript...</a> 
```

Javascript是我的问题所在。

```
$(document).ready(function()
{
    $('a.title_dialog[rel]').click().qtip({
        content: {
            text: 'Loading...',
            ajax: {
                url: $(this).attr('rel'),
                type: 'GET',
                data: {},
                dataType: 'json',
                success: function(data) {
                    // Set the content manually (required!)
                    console.log(data);
                    this.set('content.text', 'Successful!');
                }
            },
            title: {
                text: 'Catalogue Item Details:',
                button: false
            }
        }
    })
}); 
```

我可以获取 rel URL 并使用 console.log 将其转储，但我似乎无法获得任何类型的 AJAX 成功输出（数据）。我确定我可以通过 PHP 代码生成 HTML 或 JSON；它已经过测试。我是否需要某种 .each() 或回调函数方法来解决这个问题？

工作解决方案：

```
/*
 * ToolTip - qTip v2
 * For Title Details
 */
$(document).ready(function() {
    $('a.title_dialog[rel]').each(function() {
        var ajaxUrl=$(this).attr('rel');
        $(this).qtip({
            content: {
                text: $(this).attr('rel'),
                ajax: {
                    url: ajaxUrl,
                    type: 'GET',
                    data: {},
                    dataType: 'json',
                    success: function(result) {
                        this.set('content.text', result.content);
                    }
                },
                title: {
                    text: 'Catalogue Item Details:',
                    button: true
                }
            },
            position: {
                at: 'bottom center',
                my: 'top center',
                viewport: $(window),
                effect: false
            },
            show: {
                event: 'click',
                solo: true
            },
            hide: 'unfocus',
            style: {
                classes: 'qtip-light qtip-shadow'
            }
        })
    })

    // Make sure it doesn't follow the link when we click it
    .click(function(event) {
        event.preventDefault();
    });
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T04:15:25.697

循环元素以初始化插件，以便您可以将每个元素视为一个单独的实例。在插件内`this`可能无法访问，而在`each`循环内它是。因此，您使用所需的数据创建一个变量，并将该变量传递给插件

```
$('a.title_dialog[rel]').each(function(){
    var ajaxUrl=$(this).attr('rel');
    $(this).qtip({
         content: {
            text: 'Loading...',
            ajax: {
                url:ajaxUrl,
          ..........

    })
}) 
```

您想查看`options/show`将点击设置为打开提示的事件

# android - 谷歌地图 api v2 折线 android

> ID：14721274
> 
> 赞同：0
> 
> 时间：2013-02-06T04:00:12.663
> 
> 标签：android, google-maps-android-api-2, polyline

`ArrayList`每次`LatLng`发现一个新的颜色取决于当前速度与车辆最大速度的百分比时，我需要在谷歌地图上绘制折线。

我为此使用以下代码：

```
 for (int i = 0; i < Route.speeds.size(); i++)
        {
            colorOfGraph = graphColor(Route.speeds.get(i), maxSpeed);
            polylineOptions = new PolylineOptions().addAll(Route.points).width(5).color(colorOfGraph);
            Polyline polyline = googleMap.addPolyline(polylineOptions);
            Route.paths.add(polyline);
        } 
```

其中`Route.speeds`是`ArrayList`保持所有速度，`maxspeed`是车辆的最大速度，当车辆发生变化时`maxspeed`会发生变化，折线的颜色取决于最大速度的百分比，随着最大速度的增加，先前折线的颜色也应该改变，所以我需要再次绘制它。所以我的问题是每次我得到一个新的 latlng 时如何重绘折线。

所以请任何人帮助我解决这个问题。

感谢和问候

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T05:01:36.583

好的，为了“重绘”`Polyline`你有两个选择：

1.  通过使用删除它来模拟它`Polyline.remove()`。然后使用`PolylineOptions`并添加再次构建它`GoogleMap.addPolyline()`。

2.  更改折线的属性。您可以使用设置它的颜色`setColor(int)`并使用设置点`setPoints(List<LatLng>)`。调用任何这些方法后，折线应自动在地图上重新绘制。

在这两种情况下，您都必须保留对创建的折线的引用，但您已经在该行中执行了此操作：

```
Route.paths.add(polyline); 
```

如果我是你，我会选择第二个选项，因为你不必重新创建整个`Route.paths`集合。相反，您只需要添加一条折线 - 从先前记录`LatLng`到最后`LatLng`记录的一条折线。

# c - 如何将算术右移与无符号整数一起使用？

> ID：14721275
> 
> 赞同：1
> 
> 时间：2013-02-06T04:00:12.927
> 
> 标签：c, bit-manipulation

这是一个家庭作业问题。

我需要将一个无符号的 8 位数字转换为一个有符号的 32 位数字。

例如，我有这个无符号的 8 位数字：`1111 1010`

所以在 32 位签名中它应该是`1111 1111 1111 1111 1111 1111 1111 1010`

我怎样才能做到这一点？我知道`>>`只有在它是有符号整数时才用 1 填充，所以我可以在右移之前将它转换为有符号整数。

唯一的问题是我对我的问题有限制，这表明我需要创建一个“仅使用左移和右移以及一个减法”的函数。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2019-04-14T03:24:58.587

```
unsigned givenByte = 0xFA;              /*This can be any given byte that we want to pad.*/
unsigned foo = (givenByte >> 7) << 8;   /*This leaves us with only the most significant bit of the original byte shifted left by one place.*/
unsigned result = givenByte - foo; 
```

这应该返回类似于有符号算术移位的结果，除了这些操作是在无符号整数上执行的并且只使用移位和一个减法。

```
givenByte = 1111 1010
foo       = 0000 0000 0000 0000 0000 0001 0000 0000
result    = 1111 1111 1111 1111 1111 1111 1111 1010 
```

这个问题每隔一段时间就会出现在 CMU 教科书和其他采用类似风格的课程中，这就是我遇到这个问题的方式。花了一些时间，但这种方法很简洁，可以应用于我们需要算术右移而无需显式转换的其他情况（我认为这是问题的框架）。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-06T04:02:55.767

通过有符号的 8 位进行转换应该可以解决问题吗？

```
uint8_t start = 0xFF;
int32_t end = (int8_t)start; 
```

或者你不允许在你的家庭作业中这样做？

在这种情况下，由于右移进行符号扩展，因此向上移动然后向下移动将起作用。

```
uint8_t start = 0xFF;
int32_t end = (start << 24) >> 24; 
```

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2013-02-06T04:03:47.630

您需要一个适当的 32 位掩码。然后将掩码的最右边 8 位设置为 8 位无符号整数。这会给你结果。

一开始你应该自己尝试一些代码，然后尝试寻求帮助。

# css - 在 Selectbox Dropdown 中使用 CSS 换行

> ID：14721277
> 
> 赞同：0
> 
> 时间：2013-02-06T04:00:19.620
> 
> 标签：css

我想包装下拉选择框中出现的单词。

```
select#xyz option {
  word-wrap: break-word;
  width: 11em;    
} 
```

但它不起作用。请帮我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T04:01:53.613

在标准`select`元素中，您不能包装项目。你需要一个自定义控件。

# login - Facebook OAuth“发生错误”

> ID：14721279
> 
> 赞同：3
> 
> 时间：2013-02-06T04:00:27.630
> 
> 标签：login, oauth, facebook-login, facebook-oauth

我在让用户使用我的 OAuth 对话框登录时遇到问题。这在今天早些时候起作用，所以我怀疑它可能与[二月的重大变化](https://developers.facebook.com/roadmap/)一起出现。在[WomStreet 亲眼](http://womstreet.com)看看制作过程。

沙盒模式已禁用，URL 已在 facebook 开发者页面的基本设置部分正确设置。

我正在为 Ruby on Rails 使用设计，但即使手动检查 URL 看起来也不错。

关于从哪里开始调试的任何想法？

**更新 1：** Facebook 上似乎有一个解决此问题的错误报告：[链接在这里](https://developers.facebook.com/bugs/207955409343730?browse=search_5111d8fef19103526726758)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T04:17:53.980

看起来 facebook 通过推出影响基本登录的更改再次激怒了开发社区。我现在没有看到任何解决方案，但在这里尝试登录对话框：[https ://developers.facebook.com/docs/concepts/login/](https://developers.facebook.com/docs/concepts/login/)

错误链接：[https ://developers.facebook.com/bugs/207955409343730](https://developers.facebook.com/bugs/207955409343730)

**编辑**：要解决它，您需要更改 URL 参数。改变：

```
app_id to: client_id
next to: redirect_uri 
```

所以你链接到的 url 应该是这样的：

```
https://www.facebook.com/dialog/oauth?client_id=something&redirect_uri=something 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T03:09:24.333

**编辑：**已解决：在过去的 24 小时里我一直在修改这个，我想我有解决方案，至少有两个方面：

1）确保您使用的是正确的网址：

```
http://www.facebook.com/dialog/oauth?client_id=[APP_ID]&redirect_uri=[YOUR_REDIRECT_URI]&state=[STATE]&scope=[SCOPE] 
```

2) 登录 facebook，访问 developers.facebook.com，点击顶部中心的“应用程序”链接。转到每个受影响的应用程序。您可能会注意到这些应用程序上的红色警报。如果您有警报，他们会指示您需要在 2 月 6 日之前启用 2 月重大更改。点击“编辑应用程序”。转到左侧的设置->高级。请注意，对于即将发生的重大更改，有启用/禁用输入，请注意，那里不再列出二月。单击按钮上的保存更改，而不实际更改任何内容 - 此操作显然是在悄悄启用二月制动更改！等待几分钟以使更改生效。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T07:15:20.850

如果你使用 Ruby 和omniauth-facebook gem，你现在可以试试这个分叉的，以使用正确的OAuth URL。

在 Gemfile 中：

`gem 'omniauth-facebook', git: 'git://github.com/luvtechno/omniauth-facebook.git', branch: 'fix_oauth_url'`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T04:03:34.023

Stackoverflow facebook登录现在也存在同样的问题（我发布这个答案的时间）。这可能是来自 facebook 方面的错误，或者正如您所说的，必须在客户端进行更改，如[https://developers.facebook.com/roadmap/中所述](https://developers.facebook.com/roadmap/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-06T06:42:42.380

FB LOGIN 在 stackoverflow 上没有工作，但现在它正在工作，因此点击了请求响应，发现使用的 URL 已更改

我们正在使用但失败的 URl 是 [https://graph.facebook.com/oauth/authorize?client_id=](https://graph.facebook.com/oauth/authorize?client_id=)

当我们将其更改为 stackoverflow 正在使用的以下 url 时，它开始工作.. property.facebook.authorize.url= [https://www.facebook.com/dialog/oauth?client_id=](https://www.facebook.com/dialog/oauth?client_id=)

希望这对你们也有用。

# cocoa - 这是 NSOpenPanel 的错误吗，它会导致界面挂起约 1 秒？

> ID：14721283
> 
> 赞同：6
> 
> 时间：2013-02-06T04:00:57.163
> 
> 标签：cocoa, nsopenpanel

**背景**

调用`-beginWithCompletionHandler:`NSOpenPanel 会导致用户界面在用户点击打开按钮后大约一秒钟。

打印两条消息错误消息，

> ***警告：NSWindow 类中的方法 userSpaceScaleFactor 在 10.7 及更高版本中已弃用。它不应该在新的应用程序中使用。使用 convertRectToBacking: 代替。

和，

> WindowServer[90]：CGXDisableUpdate：应用程序“OpenPanelTest”强制禁用 UI 更新超过 1.00 秒。服务器已重新启用它们。

解决方案似乎是改为运行模式窗口（尽管这确实不是通用解决方案！）`-beginSheetModalForWindow: completionHandler:`，仍然打印警告“userSpaceScaleFactor ...”用户界面不再挂起。

**我的问题**

这是一个错误还是我做错了什么或有错误的 Xcode 设置？我没有启用沙盒，也没有激活代码签名。这在普通应用程序和基于文档的应用程序中表现相同。你会推荐我提交给苹果吗？几乎每个应用程序都使用开放式面板，我觉得奇怪的是，谷歌在这方面几乎一无所获。

**更新**

示例代码可在 github 上找到，[https://github.com/danieljfarrell/AppTest-NSOpenPanel](https://github.com/danieljfarrell/AppTest-NSOpenPanel)

# iphone - TabBarApp 中的 Springs/Struts 不会显示整个 UIImages？

> ID：14721287
> 
> 赞同：0
> 
> 时间：2013-02-06T04:01:42.150
> 
> 标签：iphone, ios, storyboard, retina-display

我到处都是，我找不到解决办法。我今晚必须提交这个应用程序，才发现三天前我不支持 4inch Retina 无法提交。直到现在才知道。

所以这是我的问题。弹簧和支柱。我有一个 6 人的“主菜单”图像，要在我镇的当地活动中表演。它们非常适合 Retina（我在模拟器上测试过，因为我的 iPhone 是 4s（3.5 英寸屏幕））。直到此时，我才被允许触摸 Storyboard。

我的布局很简单：2x3 列/行的方形 UIImages。问题：角落图像不适合屏幕。每个盒子的高度相同：320x455。

所以我的一些图像被略去。例如：我的左上角图像 (Image_seven.png) 位于 X:86 Y:80。顶部的一部分被撇去。

有谁知道我如何使用弹簧和支柱来调整图像以适合我的屏幕？

谢谢一堆！

我无法获得第二张图像......它会自动更改另一张图像。让我再试一次。![这是我的问题：](../Images/f7102919cd5bcc2c00339341456d39b1.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T04:19:03.867

即使我不确定我是否理解为什么不适合，通常使用一排 2x3 图像，您应该将它们全部放在 UIView 中 - 然后让角落图像的支柱靠近最近的边，中间的图像有支柱最近的边缘 - 并且所有边缘都有“弹簧”（中心线）在两个方向上移动以允许框调整大小。

还要确保所有图像所在的 UIView（以及可能包含的 UIView）都将 Autoresize 设置为 YES（或在界面构建器中选中），否则仍然不会调整大小。

编辑：感谢您的屏幕截图。

似乎您的中心视图没有被调整大小，这就是它被切断顶部和底部的原因。无论视图包含所有这些图像（UIView 或表格视图），请确保它还选择了所有“弹簧”以及所有支柱。然后随着选项卡栏展开视图，您的中心视图应该适当地调整它的大小。

另一件需要注意的可能会导致问题的事情是，在 viewDidLoad 中，您的视图仍将是您在 xib 文件中拥有的任何大小 - 因此，如果您在 viewDidLoad 中进行任何位置或大小计算，如果它们看起来将是错误的在 self.view 的边界或框架。

# python - python manage.py schemamigration testapp --initial 上的 Django/South 设置失败

> ID：14721288
> 
> 赞同：2
> 
> 时间：2013-02-06T04:01:43.107
> 
> 标签：python, django, django-south

我第一次尝试在我的开发环境中设置南。我之前已经设置了几个模型。South 安装完成后，我按照 south 的文档来转换我现有的应用程序。

但是，我得到了以下回溯。有任何想法吗？

谢谢你。

```
./manage.py convert_to_south testapp
Creating __init__.py in '/home/testapp/../testapp/migrations'...
Traceback (most recent call last):
  File "./manage.py", line 14, in <module>
execute_manager(settings)
  File "/usr/lib/python2.6/site-packages/django/core/management/__init__.py", line 438, in execute_manager
    utility.execute()
  File "/usr/lib/python2.6/site-packages/django/core/management/__init__.py", line 379, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
  File "/usr/lib/python2.6/site-packages/django/core/management/base.py", line 191, in run_from_argv
    self.execute(*args, **options.__dict__)
  File "/usr/lib/python2.6/site-packages/django/core/management/base.py", line 220, in execute
    output = self.handle(*args, **options)
  File "/usr/lib/python2.6/site-packages/South-0.7.6-py2.6.egg/south/management/commands/convert_to_south.py", line 70, in handle
management.call_command("schemamigration", app, initial=True, verbosity=verbosity)
  File "/usr/lib/python2.6/site-packages/django/core/management/__init__.py", line 166, in call_command
    return klass.execute(*args, **defaults)
  File "/usr/lib/python2.6/site-packages/django/core/management/base.py", line 220, in execute
    output = self.handle(*args, **options)
  File "/usr/lib/python2.6/site-packages/South-0.7.6-py2.6.egg/south/management/commands/schemamigration.py", line 140, in handle
    for action_name, params in change_source.get_changes():
  File "/usr/lib/python2.6/site-packages/South-0.7.6-py2.6.egg/south/creator/changes.py", line 444, in get_changes
    model_defs = freeze_apps([self.migrations.app_label()])
  File "/usr/lib/python2.6/site-packages/South-0.7.6-py2.6.egg/south/creator/freezer.py", line 35, in freeze_apps
    model_defs[model_key(model)] = prep_for_freeze(model)
  File "/usr/lib/python2.6/site-packages/South-0.7.6-py2.6.egg/south/creator/freezer.py", line 71, in prep_for_freeze
    fields = modelsinspector.get_model_fields(model, m2m=True)
  File "/usr/lib/python2.6/site-packages/South-0.7.6-py2.6.egg/south/modelsinspector.py", line 411, in get_model_fields
args, kwargs = introspector(field)
  File "/usr/lib/python2.6/site-packages/South-0.7.6-py2.6.egg/south/modelsinspector.py", line 371, in introspector
    kwargs[kwd] = get_value(field, defn)
  File "/usr/lib/python2.6/site-packages/South-0.7.6-py2.6.egg/south/modelsinspector.py", line 268, in get_value
    if "default" in options and value == options['default']:
  File "/usr/lib/python2.6/site-packages/django/db/models/fields/__init__.py", line 124, in __cmp__
    return cmp(self.creation_counter, other.creation_counter)
AttributeError: class NOT_PROVIDED has no attribute 'creation_counter' 
```

这是我的模型代码。

我有至少 20 个表已经在使用 syncdb。我只是想转换到南方，因为丢表和重新创建很麻烦。我已经删除了大部分模型代码以进行故障排除，这就是剩下的。即使那样，我也得到了相同的确切回溯。

```
import datetime
import urllib

from django.db import models
from django.contrib.auth.models import User
from django.contrib.contenttypes.models import ContentType
from django.contrib.admin.util import quote
from django.utils.translation import ugettext_lazy as _
from django.utils.encoding import smart_unicode
from django.utils.safestring import mark_safe
from django.db import connection, transaction
"""
class BaseTable(models.Model):
    updated = models.DateTimeField(_('updated'), auto_now=True)
    created = models.DateTimeField(_('created'), auto_now_add=True)
    is_active = models.BooleanField(_('active'), default=True)   

    class Meta:
        abstract = True
"""

class UserProfile(models.Model):
    # This field is required.
    user = models.OneToOneField(User)
    # Other fields here
    accepted_eula = models.BooleanField()
    favorite_animal = models.CharField(max_length=20, default="Dragons") 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T03:50:07.320

为了让 South 使用开始跟踪预先存在的表，您必须在安装后立即运行同步数据库。换句话说，您应该遵循以下步骤：

```
$ pip install south
$ nano settings.py
Add south to installed apps & save
$ python manage.py syncdb
$ python manage.py convert_to_south <app> 
```

# javascript - onkeydown 和 onkeypressed 在同一页面上

> ID：14721289
> 
> 赞同：0
> 
> 时间：2013-02-06T04:01:44.910
> 
> 标签：javascript

我有一个带有 onkeydown 和 onkeypressed 处理程序的 JS 文件。但是，在两个处理程序中添加 alert() 后，我只能看到 onkeypressed() 被调用。为什么？

# android - 查找 JSONObject 未找到对象

> ID：14721291
> 
> 赞同：0
> 
> 时间：2013-02-06T04:01:53.747
> 
> 标签：android, json

我正在尝试解析以下 JSON 代码，但无法弄清楚。我正在使用下面的代码。但它找不到对象。getJsonObject 查找名称，那么如何找到我的对象 4106？

我的代码：

```
JSONObject structure = Utilities.getJSONFromUrl(url);
JSONObject jobj = structure.getJSONObject("4106");
Log.w("JSON", jobj.toString()) 
```

我的 JSON：

```
{
    "id": 356,
    "hassubcategories": true,
    "subcategories": [
        {
            "id": 3808,
            "CategoryName": "Current Products",
            "CategoryImage": null,
            "hassubcategories": true,
            "subcategories": [
                {
                    "id": 4106,
                    "CategoryName": "Architectural",
                    "CategoryImage": "2637",
                    "hassubcategories": true,
                    "subcategories": [
                        {
                            "id": 391,
                            "CategoryName": "Flooring",
                            "CategoryImage": "2745",
                            "hassubcategories": false
                        }
                    ]
                }
            ]
        }
    ]
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T04:09:57.583

解析当前 json 以获取 4106 值：

```
JSONObject structure = Utilities.getJSONFromUrl(url);

JSONArray arrsubcategories= structure.getJSONArray("subcategories");
for(int i = 0; i < arrsubcategories.length(); i++){
  JSONObject jobj = arrsubcategories.getJSONObject(i);

  JSONArray arrsubcategoriesnew= jobj.getJSONArray("subcategories");
  for(int j = 0; j < arrsubcategoriesnew.length(); j++){
  JSONObject jobjnew = arrsubcategoriesnew.getJSONObject(j);
   // get id here
   String str_id=jobjnew.getString("id");
   String str_CategoryName=jobjnew.getString("CategoryName");
   ....
  Log.w("JSON", str_id)

  JSONArray arrsub_snew= jobjnew.getJSONArray("subcategories");

 }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T04:08:38.463

使用这样的东西。

```
JSONObject sub = (JSONObject)structure.getJSONArray("subcategories").get(0);
JSONObject jobj = (JSONObject) sub.getJSONArray("subcategories").get(0); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T04:07:30.100

您必须迭代 json 以从您获得的 json 数据中获取您想要的内容：

1.`JSONArray("subcategories")`

2.获取子数组`JSONArray("subcategories")`

3.最后获取对象 `array.getJSONObject("4106")`；

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-05T13:24:49.093

```
JSONObject structure = Utilities.getJSONFromUrl(url);
JsonObject subcat=struct.getJSONArray("subcategories").getJSONOBJECT(0);
JSONObject innersubcats = subcat.getJSONArray("subcategories").getJSONOBJECT(0);
String id = innersubcats.getstring("id");
log.i("ID OF Inner Subcategories",id); 
```

# java - 如何在android日历中获取事件的开始时间

> ID：14721295
> 
> 赞同：0
> 
> 时间：2013-02-06T04:02:08.693
> 
> 标签：java, android, android-calendar

我知道这类似于这里的问题：[如何从 android 日历获取事件的开始时间](https://stackoverflow.com/questions/13222971/how-to-get-start-time-of-an-event-from-android-calendar)

但是我是 android 开发的新手，我真的不明白该代码在做什么，因为他的变量没有显示被声明。

我想要做的就是启动一个应用程序，显示给定日期的第一个（现在）事件的开始时间（现在可以硬编码，最终想启动日历应用程序并让用户选择这一天）。我知道如何打印到屏幕上，我只需要弄清楚如何提取我需要的时间！

```
Calendar cursor_event;
int sTime = cursor_event.getStartTime(); // i just made this method up, but its bacially what i want 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T04:25:28.903

看到这是关于日历的一些事件的完整代码。这可以帮助你。

```
import java.text.SimpleDateFormat;
import java.util.Calendar;
import android.app.Activity;
import android.content.ContentResolver;
import android.content.ContentValues;
import android.database.Cursor;
import android.graphics.Color;
import android.net.Uri;
import android.os.Bundle;
import android.provider.CalendarContract.Calendars;
import android.provider.CalendarContract.Events;
import android.util.Log;

public class MainActivity extends Activity {
long calID = 0;
long eventID = 0;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    Cursor cur = null;
    ContentResolver cr = getContentResolver();
    Uri uri = Calendars.CONTENT_URI;

    final String[] projection = { Calendars._ID, Calendars.ACCOUNT_NAME,
            Calendars.OWNER_ACCOUNT, Calendars.CALENDAR_DISPLAY_NAME };

    // Submit the query and get a Cursor object back.
    cur = cr.query(uri, projection, null, null, null);

    while (cur.moveToNext()) {

        String accNme = null;
        String accType = null;
        String disName = null;

        // Get the field values
        calID = cur.getLong(0);
        accNme = cur.getString(1);
        accType = cur.getString(2);
        disName = cur.getString(3);

        Log.v("log_tag", "calId     : " + calID);
        Log.v("log_tag", "accNme    : " + accNme);
        Log.v("log_tag", "accType   : " + accType);
        Log.v("log_tag", "disName   : " + disName);
    }

    /*long startMillis = 0;
    Calendar beginTime = Calendar.getInstance();
    beginTime.set(2012, 11, 8, 7, 30);
    startMillis = beginTime.getTimeInMillis();

    cr = getContentResolver();
    ContentValues values = new ContentValues();
    values.put(Events.DTSTART, startMillis);
    values.put(Events.DURATION, "P60S");
    values.put(Events.TITLE, "MyTestNew");
    values.put(Events.EVENT_COLOR, Color.MAGENTA);
    values.put(Events.DESCRIPTION, "Group workout");
    values.put(Events.CALENDAR_ID, calID);
    values.put(Events.EVENT_TIMEZONE, "India");
    values.put(Events.RRULE, "FREQ=DAILY;INTERVAL=3");
    cr.insert(Events.CONTENT_URI, values);
    */

    String[] proj = new String[] { Events._ID, Events.DTSTART,
            Events.DTEND, Events.RRULE, Events.TITLE };

    cur = cr.query(Events.CONTENT_URI, proj, null, null, null);

    while (cur.moveToNext()) {
        String title = null;
        long beginVal = 0;

        eventID = cur.getLong(0);
        beginVal = cur.getLong(1);
        title = cur.getString(4);

        Log.v("log_tag", "Event:  " + title);
        Log.v("log_tag", "eventID:  " + eventID);
        Calendar calendar = Calendar.getInstance();
        calendar.setTimeInMillis(beginVal);
        SimpleDateFormat formatter = new SimpleDateFormat("MM/dd/yyyy");
        Log.v("log_tag", "DateS: " + formatter.format(calendar.getTime()));
        Log.v("log_tag", "DateE: " + cur.getLong(2));
        Log.v("log_tag", "RRULE: " + cur.getString(3));
    }

    /*cr = getContentResolver();
    values = new ContentValues();
    values = new ContentValues();
    uri = ContentUris.withAppendedId(Events.CONTENT_URI, eventID);
    values = new ContentValues();
    values.put(Events.RRULE, "FREQ=DAILY;INTERVAL=2");
    values.put(Events.DURATION, "P1S");
    int rows = cr.update(uri, values, null, null);
    Log.v("log_tag", "Rows updated: " + rows);*/

    cur = cr.query(Events.CONTENT_URI, proj, null, null, null);

    while (cur.moveToNext()) {
        String title = null;
        long eventID = 0;
        long beginVal = 0;

        eventID = cur.getLong(0);
        beginVal = cur.getLong(1);
        title = cur.getString(4);

        Log.v("log_tag", "Event:  " + title);
        Log.v("log_tag", "eventID:  " + eventID);
        Calendar calendar = Calendar.getInstance();
        calendar.setTimeInMillis(beginVal);
        SimpleDateFormat formatter = new SimpleDateFormat("MM/dd/yyyy");
        Log.v("log_tag", "DateS: " + formatter.format(calendar.getTime()));
        Log.v("log_tag", "DateE:  " + cur.getLong(2));
        Log.v("log_tag", "RRULE:  " + cur.getString(3));
    }
  }
} 
```

从[这里参考](http://www.grokkingandroid.com/androids-calendarcontract-provider/)

# xcode - 界面生成器：什么是字体大小单位？

> ID：14721297
> 
> 赞同：5
> 
> 时间：2013-02-06T04:02:44.463
> 
> 标签：xcode, interface-builder

是像素吗？另外，它与流行的图像编辑器字体大小中的字体是否有一对一的关系？（如 Photoshop）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T04:11:38.937

字体大小名义上以磅为单位指定，其中 1 磅 = 1/72" 英寸。这不仅在 IB 和 Xcode 中如此，而且几乎全面。每当您在 MacOS（X 或经典）应用程序中指定字体大小时，包括 Photoshop，单位都是点。我想在 Windows 上也是如此。

请记住，使用相同字体和大小的类型在不同显示器上的呈现方式可能不同，具体取决于显示器分辨率，因此“1 点”可能并不真正对应于屏幕上的 1/72"。早期的 Mac 显示器非常接近到 72dpi，所以它们非常[WYSIWYG](http://en.wikipedia.org/wiki/WYSIWYG)。

# html - 表单提交时未提交复选框 ID

> ID：14721305
> 
> 赞同：0
> 
> 时间：2013-02-06T04:03:19.207
> 
> 标签：html, ruby-on-rails, ruby-on-rails-3, forms

我正在使用带有 form_tag、checkbox_tag 和 submit_tag 的 RoR 3 将一组 id 提交给我的控制器。

我有一个消息表，我希望有复选框，允许我选择和对提交的那些项目采取行动。在我看来：

```
<%= form_tag :name => "mailgrid",:id=>"submit",:action => "inbox_action" do  %>
...
<td class="mailbox_from"><%= check_box_tag 'msg_ids[]', message.id %></td>
...
<%= submit_tag "delete", :name => 'commit', :value=>'delete' %>
<% end %> 
```

这会生成如下所示的 HTML：

```
<form accept-charset="UTF-8" action="/messages/inbox_action/submit?name=mailgrid" method="post">
...
<input id="msg_ids_" name="msg_ids[]" style="position:relative;top:-2px;right:10px;" type="checkbox" value="88" />
...
<input name="commit" type="submit" value="delete" /> </div> 
```

然后，在我的控制器中：

```
 if params[:msg_ids]
      #dostuff
  end 
```

但是，这些复选框是否被选中永远不会传递给我的控制器。在我的日志中，这些参数完全丢失了，即使这个控制器方法确实被调用了。这是日志：

> 在 2013-02-05 19:43:02 -0800 为 127.0.0.1 开始 POST "/messages/inbox_action/submit?name=mailgrid"
> 
> MessagesController#inbox_action 处理为 HTML
> 
> 参数：{"utf8"=>"✓", "authenticity_token"=>"asdf", "commit"=>"delete", "name"=>"mailgrid", "id"=>"submit"}

关于我做错了什么有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T04:32:01.280

如果你尝试

```
<%= check_box_tag......., params[:your_param], ..... %> 
```

我是红宝石的新手，但似乎这就是问题所在，我可能是错的，但是

# c# - 如何显示存储在本地驱动器中的多个图像？

> ID：14721310
> 
> 赞同：0
> 
> 时间：2013-02-06T04:03:45.250
> 
> 标签：c#, asp.net

我正在使用 c# 和 asp.net，我需要它：[如何显示存储在本地驱动器中的图像？](https://stackoverflow.com/questions/3130745/how-to-display-image-which-is-stored-in-local-drive)

但是我需要同时处理多个图像，如何？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T04:22:34.213

试试这个：

HTML：

```
<html xmlns="http://www.w3.org/1999/xhtml">
  <head runat="server">
    <title>Bind Images to Datalist from folder</title>
  </head>
  <body>
    <form id="form1" runat="server">
      <div>
        <asp:FileUpload ID="fileupload1" runat="server" />
        <asp:Button ID="btnsave" runat="server" Text="Upload" onclick="btnsave_Click" />
      </div>
      <div>
        <asp:DataList ID="dtlist" runat="server" RepeatColumns="4" CellPadding="5">
          <ItemTemplate>
            <asp:Image Width="100" ID="Image1" ImageUrl=''
            <%# Bind("Name", "~/Images/{0}") %>' runat="server" />
            <br />
            <asp:HyperLink ID="HyperLink1" Text=''
            <%# Bind("Name") %>' NavigateUrl='<%# Bind("Name", "~/Images/{0}") %>' runat="server"/>
          </ItemTemplate>
          <ItemStyle BorderColor="Brown" BorderStyle="dotted" BorderWidth="3px" HorizontalAlign="Center"
          VerticalAlign="Bottom" />
        </asp:DataList>
      </div>
    </form>
  </body>
</html> 
```

C＃：

```
protected void Page_Load(object sender, EventArgs e)
{
    if (!IsPostBack)
    {
        BindDataList();
    }
}

protected void BindDataList()
{
    DirectoryInfo dir = new DirectoryInfo(MapPath("Images"));
    FileInfo[] files = dir.GetFiles();
    ArrayList listItems = new ArrayList();
    foreach (FileInfo info in files)
    {
        listItems.Add(info);
    }
    dtlist.DataSource = listItems;
    dtlist.DataBind();
}

protected void btnsave_Click(object sender, EventArgs e)
{
    string filename = Path.GetFileName(fileupload1.PostedFile.FileName);
    fileupload1.SaveAs(Server.MapPath("Images/" + filename));
    BindDataList();
} 
```

从[这里取](http://www.aspdotnet-suresh.com/2011/05/how-to-bind-images-from-folder-to.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T04:15:31.107

您可以使用 datalist 控件同时显示多个图像，如下所示：

```
 <asp:DataList ID="DataList1" runat="server" RepeatColumns = "2"  RepeatLayout = "Table"  Width = "500px">
 <ItemTemplate>
    <br />
      <table cellpadding = "5px" cellspacing = "0" class="dlTable">
       <tr>
          <td>
            <asp:Image ID="Image1" runat="server" ImageUrl = '<%# Eval("FilePath")%>'
             Width = "200px" Height = "200px"/>
          </td>
      </tr>
     </table>
       <br />
   </ItemTemplate>
   </asp:DataList> 
```

将数据表或数据集绑定到数据列表控件您也可以参考以下链接，如果此解决方案有效，请不要忘记接受

[检查这个链接](http://www.aspsnippets.com/Articles/Image-Gallery-using-ASP.Net-DataList-Control-Part-I---Pagination.aspx)

# svm - 在 SVM 中使用边缘检测器作为特征向量

> ID：14721314
> 
> 赞同：1
> 
> 时间：2013-02-06T04:04:01.343
> 
> 标签：svm, edge-detection

我有兴趣使用支持向量机对图像中的曲线进行分类。对于我的特征向量，我打算使用 Canny 边缘检测器，因为它会代表我感兴趣的边缘，但我不确定如何将该数据表示为向量。有谁知道谁可以利用来自边缘检测器的一系列数据作为 SVM 中的一个特征？

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-03T00:37:48.687

我也有同样的问题。从我目前发现的情况来看，从边缘到特征向量的一些选项是定向梯度直方图和面向边缘的直方图，您可以在其中构建一个直方图，显示图像中存在的不同角度的边缘分布。

这是 HOG 的维基百科页面： [http ://en.wikipedia.org/wiki/Histogram_of_orient_gradients](http://en.wikipedia.org/wiki/Histogram_of_oriented_gradients)

这个问题是我最终发现的，它让我了解了 HOG 和 EOH： [Histogram of Oriented Gradients vs Edge Orientation Histograms](https://stackoverflow.com/questions/11505234/histogram-of-oriented-gradients-vs-edge-orientation-histograms)

希望这可以帮助别人。我有同样的问题，而且很难找到答案（我一定是使用了错误的搜索词，来自非图像处理背景）。

# git - 源文件在哪里？git克隆之后

> ID：14721317
> 
> 赞同：0
> 
> 时间：2013-02-06T04:04:26.413
> 
> 标签：git, repository

文件到底在哪里？

执行 git clone 后我找不到该死的文件。

我刚刚克隆了 git clone [https://code.google.com/p/libgdx/](https://code.google.com/p/libgdx/)

我找到了隐藏的 .git 文件夹等。尝试了每个明智的命令，但我没有看到任何 java 文件......

是的，我知道 git 是不同的，但我仍然希望我的机器上有真正的 java 文件。

哦，对于那些编写 Git 101、Git Cheetsheet、Git Vs 的人。SVN，是的，从远程仓库获取文件是我们需要知道的第一件事。没有很多巧妙的命令。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T04:07:26.177

如果您运行`git clone https://code.google.com/p/libgdx/`并查看该`libgdx`文件夹，您将看到该 git 存储库中当前唯一的文件，即`README`.

Git 不会神奇地在空项目中创建 Java 代码。

如果您查看自述文件（或项目站点），您会发现它已移至 GitHub。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-24T18:41:08.117

用于克隆 libgdx 源 - git clone [https://github.com/libgdx/libgdx.git](https://github.com/libgdx/libgdx.git)

# sql-server-2008 - 检查列 IsDBNull 时抛出 ODBCException

> ID：14721318
> 
> 赞同：0
> 
> 时间：2013-02-06T04:04:40.033
> 
> 标签：sql-server-2008, c#-4.0, odbc

我正在编写一个程序，该程序从一个数据库中读取数据以插入/更新到另一个数据库中。部署时源数据库将是 DB2，但目前我正在使用 SQL Server 2008 R2 副本进行开发。

我正在使用 SQL Server 的 ODBC 驱动程序 11 来读取数据并且遇到异常异常。

我的代码是：

```
public static string ReadShortODBCColumn(OdbcDataReader reader, string columnName) 
{    
    int column = reader.GetOrdinal(columnName);
    return reader.IsDBNull(column) ? (short)0 : reader.GetInt16(column);
} 
```

正在输出的异常是：

```
2013-02-06 13:09:16.7834  System.Data.Odbc.OdbcException (0x80131937)
at System.Data.Odbc.OdbcConnection.HandleError(OdbcHandle hrHandle, RetCode retcode)
at System.Data.Odbc.OdbcDataReader.GetData(Int32 i, SQL_C sqlctype, Int32 cb, Int32& cbLengthOrIndicator)
at System.Data.Odbc.OdbcDataReader.GetData(Int32 i, SQL_C sqlctype)
at System.Data.Odbc.OdbcDataReader.internalGetInt16(Int32 i)
at System.Data.Odbc.OdbcDataReader.GetValue(Int32 i, TypeMap typemap)
at System.Data.Odbc.OdbcDataReader.GetValue(Int32 i)
at System.Data.Odbc.OdbcDataReader.IsDBNull(Int32 i)
at ProcessEngine.Business.Utilities.ReadShortODBCColumn(OdbcDataReader reader, String columnName) 
```

但是当我查看正在检索的数据时，该列不为空并且看起来完全正常。我能够在网上找到的唯一类似情况与 SSIS 有关，我认为他们的解决方法不适用。

有没有人有任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T04:52:58.070

我没有找到这个问题的答案，但能够解决它。

减少一次处理的数据量似乎可以避免触发错误。对于我要转移的大多数表，我一次可以做 20,000 行。其中两个表必须以 10,000 个行块进行处理。它确实遇到问题的一张表必须以 1000 行块的形式进行处理。

# php - 如何使用 php 5.3 显示整个记录？

> ID：14721319
> 
> 赞同：1
> 
> 时间：2013-02-06T04:04:40.943
> 
> 标签：php, sql, sql-server

在 php 5.2 中，您可以像这样轻松地显示整个记录：

```
$activeinfo = mssql_query("Select * FROM Associate where USR_ID = 1");
$USR_First = mssql_result($activeinfo,0,'USR_First');

echo $USR_First; 
```

但是在较新的版本 5.3+ 中，您一次只能执行一个字段。

有没有一种简单的方法可以用 5.3 回显整个记录（所有字段）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T04:25:02.197

尝试使用 mssql_fetch_row()
或 mssql_fetch_array()
甚至 mssql_fetch_assoc()

以获取更多信息：[http ://www.php.net/manual/en/function.mssql-fetch-row.php](http://www.php.net/manual/en/function.mssql-fetch-row.php)
[http://www.php.net /manual/en/function.mssql-fetch-array.php](http://www.php.net/manual/en/function.mssql-fetch-array.php)
[http://www.php.net/manual/en/function.mssql-fetch-assoc.php](http://www.php.net/manual/en/function.mssql-fetch-assoc.php)

# mysql - 使用 MySQL 迁移工具的多个问题

> ID：14721321
> 
> 赞同：1
> 
> 时间：2013-02-06T04:04:41.500
> 
> 标签：mysql, sql-server, database-migration

我正在尝试使用 MySQL 中的迁移工具将我的数据库从 MS SQL 2000 迁移到 MySQL。当我这样做时，我收到以下警告：

1) 排序规则更改`SQL_Latin1`为 `UTF8_General_CI`。我担心这一点，因为我的表包含加密数据，这种附带更改会影响吗？

2)`BIT`字段更改为`TINYINT(1)`。MySQL 有`BIT`字段，而不是为什么要更改为`TINYINT`？

所有这些都是警告，但也没有创建许多表和数据。他们失踪了。所以，我在其中选了一张桌子，比如说`tblProducts`。

当我尝试迁移此表时，出现以下错误：

```
Migrating data... wbcopytables.exe --odbc-source=DSN=SwiplODBC;DATABASE=;UID= --target=root@127.0.0.1:3306 --progress --passwords-from-stdin --thread-count=1 --table-file=c:\users\xxxx\appdata\local\temp\tmp5ffenq \users\xxxx\appdata\local\temp\tmp5ffenq `SWIPL11009`.`tblProducts`:

Copying 83 columns of 102854 rows from table [SWIPL11009].[dbo].[tblProducts] ERROR: `SWIPL11009`.`tblProducts`:Type mismatch fetching field 40 (should be float, was MYSQL_TYPE_DOUBLE) `SWIPL11009`.`tblProducts`:Finished copying 0 rows in 0m01s  
 08:43 [INF][      copytable]: Opening ODBC connection to DSN=SwiplODBC;DATABASE=;UID=;PWD=XXX' 
 08:43 [INF][      copytable]: ODBC connection to 'DSN=SwiplODBC;DATABASE=;UID=;PWD=' opened 
 08:43 [INF][      copytable]: Connecting to MySQL server at 127.0.0.1:3306 with user root 
 08:43 [INF][      copytable]: Connection to MySQL opened 
 ***08:43 [WRN][      copytable]: Invalid timestamp literal detected: ''*** 
```

其实我没有任何`timestamp`字段，都是`datetime`, 并且`null`默认设置。期待一些建议和解决方案。

谢谢。

# ruby - 如何使用 EventMachine 从循环中与客户交谈？

> ID：14721329
> 
> 赞同：1
> 
> 时间：2013-02-06T04:05:11.353
> 
> 标签：ruby, websocket, eventmachine, em-websocket

我想在网站上实时显示我的程序的进度（此处以循环为例）。

如果我有一个适当的 Ruby 服务器正在运行，客户端应该能够使用浏览器通过 websockets 连接到服务器，并且一旦连接，就可以实时接收有关新产生的进程的“更新”。无需轮询或 Ajax。

我对此进行测试的想法是在 EventMachine::WebSocket 和使用客户端 JavaScript 的客户端浏览器之间建立双工通信。构建一个循环，并将更新发送到浏览器客户端。

ruby_socket_server.rb：

```
require 'eventmachine'
require 'em-websocket'
@sockets = []
EventMachine.run do
    EventMachine::WebSocket.start(:host =>'localhost',:port =>8887) do |socket|
    socket.onopen do
        @sockets << socket
        (0..10).each do |i|
            puts "i am on loop #{i}" #to terminal window
            @sockets.each do |s|
                s.send "Just received notification of loop #{i}" 
                sleep(1) #pause for a second
            end
        end
    end
end 
```

主.js：

```
socket = new WebSocket('ws://localhost:8887');
socket.onopen = function(){
    console.log('OPEN');
}
socket.onclose = function(){
    console.log('CLOSED');
}
socket.onmessage = function(msg){
    console.log(msg);
} 
```

我希望它看起来像：

*   服务器：我在循环 1。
*   客户：刚刚收到循环 1 的通知。
*   服务器：我在循环 2。
*   客户：刚刚收到循环 2 的通知。

实际发生了什么：

*   服务器：我在循环 1。
*   服务器：我在循环 2。
*   客户：刚刚收到循环 1 的通知。
*   客户：刚刚收到循环 2 的通知。

我无法从 Ruby 循环中向客户端发送数据，即它最终发送所有数据包，但不是在每次迭代期间都按预期发送。相反，它一直等到服务器循环完成，然后背靠背发送多个调用。

我在这里做错了什么？我正在寻找的东西是否可能？关于如何破解这个坚果的任何想法都会有所帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:05:34.330

EventMachine 不是多线程的。所以如果你不让它运行，即如果你停留在它的任何回调中，那么什么都不会发生。

在您的示例中，您`sleep`在回调中调用。这将阻止回调退出，因此 EM 无法运行，如果它无法运行，则无法发送您的消息。

因此，任何 EM 服务器都必须完全围绕事件回调设置构建。

这就是为什么它被称为**事件**机器。它需要一种稍微不同的思维方式，但是一旦你掌握了它，你应该会没事的。

这是一个关于如何使其工作的示例：

```
EM.run do
  EM::WebSocket.start(:host =>'localhost',:port =>8887) do |ws|
    ws.onopen { |handshake|
      puts "New connection from #{handshake.origin}"
      loop = 1
      timer = EM.add_periodic_timer(1) {
        ws.send "Timer loop #{loop}"

        if (loop += 1) == 5
          EM.cancel_timer(timer)
          ws.send "Bye"
          ws.close_websocket
        end
      }
    }
  end
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-01-27T13:18:24.167

在 Rails5.0 中，您可以使用与 WebSockets 具有良好兼容性的[ActionCable 。](http://guides.rubyonrails.org/action_cable_overview.html)

# ios - Game Center 沙盒中缺少邀请

> ID：14721333
> 
> 赞同：4
> 
> 时间：2013-02-06T04:05:28.573
> 
> 标签：ios, objective-c, cocoa, game-center, gamekit

我在使用 Game Center 时遇到了最奇怪的行为。

我正在与`GKTurnBasedMatch`朋友们进行回合制比赛。本地播放器的身份验证完美运行。使用`GKTurnBasedMatch`类方法 `loadMatchesWithCompletionHandler:`似乎可以明智地返回`GKTurnBasedMatch`对象。为了发起新的比赛并邀请 Game Center 的朋友，我使用标准的`GKTurnBasedMatchmakerViewController`.

当我用 来创建比赛时`GKTurnBasedMatchmakerViewController`，它们会在`showExistingMatches`属性为时出现`YES`，供游戏创建者使用。

但是，如果我使用 邀请其他玩家`GKTurnBasedMatchmakerViewController`，接收玩家永远不会收到邀请。没有 Game Center 推送通知，也没有（除了一次或两次，偶尔）在`GKTurnBasedMatchmakerViewController`.

奇怪的是，如果发起用户随后通过邀请结束他们创建的游戏，该玩家将收到“游戏结束”游戏中心通知。

使用`loadMatchesWithCompletionHandler:`，返回`matches`的对邀请玩家有意义（ s`playerID`中的正确值，`participant`s中`GKTurnBasedParticipantStatus`的正确值`participant`），但对于被邀请的玩家根本没有任何显示。

我正在使用两个单独的设备，都肯定登录到 Game Center 的沙盒模式，并且一切都在 iTunes Connect 中设置，等等。两个 Game Center 帐户都设置为接受邀请。

有人见过这样的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T04:22:37.863

可能的解决方案：当邀请者迈出第一步并`endTurnWithNextParticipants:turnTimeout:matchData:completionHandler:`发送消息时，我没有在第一个参数中发送正确的参与者，因此轮到从未设置为被邀请者。

# android - 如何在不阻塞 UI 线程的情况下操作 ASyncTask 类中的图像？

> ID：14721337
> 
> 赞同：0
> 
> 时间：2013-02-06T04:05:52.640
> 
> 标签：android, android-asynctask

我的代码如下：

```
private ImageView imageAvatar;
private Drawable image;
private BitmapDrawable drawable;

protected Bitmap doInBackground(Void... params) {
    // TODO Auto-generated method stub
    String url = "https://graph.facebook.com/" + userId + "/picture?width=" + width + "&height=" + height;
    image = ImageOperations(url);
    imageAvatar.setImageDrawable(image);
    imageAvatar.setMinimumHeight(32);
    imageAvatar.setMinimumWidth(32);
    imageAvatar.setMaxHeight(128);
    imageAvatar.setMaxWidth(128);
    IsFinish = true;
    drawable = (BitmapDrawable) imageAvatar.getDrawable();
    if(drawable != null) {
        return drawable.getBitmap();
    }
    return null;
} 
```

我通过 检索数据`taskImage.execute().get()`。我知道`get()`如果需要计算会等待。我必须实现我的代码`onPostExecute()`以防止阻塞 UI 线程。

问题是：如果我想操作我的代码`onPostExecute()`以防止阻塞 UI 线程，结果不应该是`Bitmap`，但我想`Bitmap`从`ASyncTask`.

我应该怎么办？

# magento - 在 zend 服务器上缺少 magento .htaccess 文件

> ID：14721345
> 
> 赞同：0
> 
> 时间：2013-02-06T04:06:54.953
> 
> 标签：magento, magento-1.7, magento-1.4, magento-1.6

我已经在 zend 服务器上安装了 magento。所有的管理面板和主页都工作正常。但是当我给出像 [ *[http://localhost.com/magento/api/rest/products](http://localhost.com/magento/api/rest/products)* ] 这样的 url 时，它返回 404 错误“找不到 url 在此服务器上找不到请求的 URL /magento/api/rest/products。 "

我搜索了这个，我知道我必须编辑 .htaccess 文件。但是在我的 magento 根文件夹中，缺少 .htacess 文件。那我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T04:08:55.940

[https://github.com/benmarks/magento-mirror/blob/1.7.0.2/.htaccess](https://github.com/benmarks/magento-mirror/blob/1.7.0.2/.htaccess)

```
############################################
## uncomment these lines for CGI mode
## make sure to specify the correct cgi php binary file name
## it might be /cgi-bin/php-cgi

#    Action php5-cgi /cgi-bin/php5-cgi
#    AddHandler php5-cgi .php

############################################
## GoDaddy specific options

#   Options -MultiViews

## you might also need to add this line to php.ini
##     cgi.fix_pathinfo = 1
## if it still doesn't work, rename php.ini to php5.ini

############################################
## this line is specific for 1and1 hosting

    #AddType x-mapp-php5 .php
    #AddHandler x-mapp-php5 .php

############################################
## default index file

    DirectoryIndex index.php

<IfModule mod_php5.c>

############################################
## adjust memory limit

#    php_value memory_limit 64M
    php_value memory_limit 256M
    php_value max_execution_time 18000

############################################
## disable magic quotes for php request vars

    php_flag magic_quotes_gpc off

############################################
## disable automatic session start
## before autoload was initialized

    php_flag session.auto_start off

############################################
## enable resulting html compression

    #php_flag zlib.output_compression on

###########################################
# disable user agent verification to not break multiple image upload

    php_flag suhosin.session.cryptua off

###########################################
# turn off compatibility with PHP4 when dealing with objects

    php_flag zend.ze1_compatibility_mode Off

</IfModule>

<IfModule mod_security.c>
###########################################
# disable POST processing to not break multiple image upload

    SecFilterEngine Off
    SecFilterScanPOST Off
</IfModule>

<IfModule mod_deflate.c>

############################################
## enable apache served files compression
## http://developer.yahoo.com/performance/rules.html#gzip

    # Insert filter on all content
    ###SetOutputFilter DEFLATE
    # Insert filter on selected content types only
    #AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript

    # Netscape 4.x has some problems...
    #BrowserMatch ^Mozilla/4 gzip-only-text/html

    # Netscape 4.06-4.08 have some more problems
    #BrowserMatch ^Mozilla/4\.0[678] no-gzip

    # MSIE masquerades as Netscape, but it is fine
    #BrowserMatch \bMSIE !no-gzip !gzip-only-text/html

    # Don't compress images
    #SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png)$ no-gzip dont-vary

    # Make sure proxies don't deliver the wrong content
    #Header append Vary User-Agent env=!dont-vary

</IfModule>

<IfModule mod_ssl.c>

############################################
## make HTTPS env vars available for CGI mode

    SSLOptions StdEnvVars

</IfModule>

<IfModule mod_rewrite.c>

############################################
## enable rewrites

    Options +FollowSymLinks
    RewriteEngine on

############################################
## you can put here your magento root folder
## path relative to web root

    #RewriteBase /magento/

############################################
## uncomment next line to enable light API calls processing

#    RewriteRule ^api/([a-z][0-9a-z_]+)/?$ api.php?type=$1 [QSA,L]

############################################
## rewrite API2 calls to api.php (by now it is REST only)

    RewriteRule ^api/rest api.php?type=rest [QSA,L]

############################################
## workaround for HTTP authorization
## in CGI environment

    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]

############################################
## TRACE and TRACK HTTP methods disabled to prevent XSS attacks

    RewriteCond %{REQUEST_METHOD} ^TRAC[EK]
    RewriteRule .* - [L,R=405]

############################################
## redirect for mobile user agents

    #RewriteCond %{REQUEST_URI} !^/mobiledirectoryhere/.*$
    #RewriteCond %{HTTP_USER_AGENT} "android|blackberry|ipad|iphone|ipod|iemobile|opera mobile|palmos|webos|googlebot-mobile" [NC]
    #RewriteRule ^(.*)$ /mobiledirectoryhere/ [L,R=302]

############################################
## always send 404 on missing files in these folders

    RewriteCond %{REQUEST_URI} !^/(media|skin|js)/

############################################
## never rewrite for existing files, directories and links

    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-l

############################################
## rewrite everything else to index.php

    RewriteRule .* index.php [L]

</IfModule>

############################################
## Prevent character encoding issues from server overrides
## If you still have problems, use the second line instead

    AddDefaultCharset Off
    #AddDefaultCharset UTF-8

<IfModule mod_expires.c>

############################################
## Add default Expires header
## http://developer.yahoo.com/performance/rules.html#expires

    ExpiresDefault "access plus 1 year"

</IfModule>

############################################
## By default allow all access

    Order allow,deny
    Allow from all

###########################################
## Deny access to release notes to prevent disclosure of the installed Magento version

    <Files RELEASE_NOTES.txt>
        order allow,deny
        deny from all
    </Files>

############################################
## If running in cluster environment, uncomment this
## http://developer.yahoo.com/performance/rules.html#etags

    #FileETag none 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T04:32:39.463

嘿，您不需要从另一台计算机复制文件，我也出现同样的问题

只需查看此链接即可获得答案[http://magentocodes.blogspot.in/2013/01/htaac​​ess-file-not-visible-in-magento.html](http://magentocodes.blogspot.in/2013/01/htaacess-file-not-visible-in-magento.html)

您需要选择系统上的显示隐藏文件

# shell - 如何在 shell 脚本中一次读取 3 行

> ID：14721347
> 
> 赞同：1
> 
> 时间：2013-02-06T04:07:13.290
> 
> 标签：shell

我是 shell 脚本的新手。我想一次从日志文件中读取 3 行。我知道如何逐行进行。我尝试使用`<`三遍阅读并从脚本中调用脚本本身，但它不起作用。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T04:33:07.297

单程：

```
$ while read l1
> do
>    read l2
>    read l3
>    echo line1 is $l1
> done < file 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-04T10:21:44.073

TCL 脚本一次从文件中读取 3 行

```
#!/usr/bin/tclsh
set prev_count -1
set fp [open "input-file.txt" "r"]
set num_lines [split [read $fp] \n]
for {set i 2} {$i < [llength $num_lines]} { incr i 3} {
  set line_3 [lrange $num_lines [incr prev_count] $i]
  set prev_count $i
  puts "$line_3\n\n"
} 
```

*   打开要读取的文件
*   使用 split 命令拆分文件
*   使用 lrange 从列表中选择行数

# sitecore - Sitecore：sc:item 的语法

> ID：14721348
> 
> 赞同：0
> 
> 时间：2013-02-06T04:07:12.613
> 
> 标签：sitecore, sitecore6

我想创造这样的东西

```
<xsl:variable name="content" select="sc:item('{110D559F-DEA5-42EA-9C1C-8A5DF7E70EF9}',.)" /> 
```

但是 id 将在用户选择一些项目后确定。那么正确的语法是什么？

我尝试了几个：

```
<xsl:variable name="content"><xsl:value-of select="bla bla bla" /> </xsl:variable>
<xsl:variable name="content" select="sc:item(&lt;value-of select="bla bla bla" &gt;,.)" /> 
```

但没有运气做对。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T08:30:53.823

我不确定您要在这里实现什么，但在您的 XSL 中，您需要获取您正在使用的项目的 ID 或路径以传递给 sc:item 函数。你可以使用例如这样的东西：

```
<xsl:variable name="content" select="sc:item($sc_currentitem/@id,.)" /> 
```

或者您可以使用项目列表并像这样遍历它们：

```
<xsl:for-each select="$itemList/item">
  <xsl:value-of select="@id" />
</xsl:for-each> 
```

编辑：

如果您想从 Treelist 中获取所选项目，您可以选择多个项目，并且 ID 与管道字符连接。您可以使用这样的代码来读取 itemID 并获取相应的项目：

```
<xsl:for-each select="sc:Split('FieldName',$sc_currentitem)">
   <xsl:variable name="item" select="sc:item(text(), $sc_currentitem)" />
   <xsl:value-of select="$item/@name" /><br />      
</xsl:for-each> 
```

这部分只显示项目的名称，但当然你可以用它做任何你想做的事情。

如果这仍然不起作用，请尝试使用`<xsl:value-of select="@id" />`for-each 将一些值输出到屏幕，例如所选项目的 ID。

# facebook - Facebook GraphAPI '发生错误。请稍后再试”

> ID：14721349
> 
> 赞同：0
> 
> 时间：2013-02-06T04:07:18.597
> 
> 标签：facebook, facebook-graph-api, oauth

从 7:15 左右开始，我一直收到此错误，之前一切正常。我去检查“健康状况”并注意到以下内容。

推送：截至今天晚上 7:25 完成

巧合？

我的站点 URL 是基于 IP 的，我在 facebook 开发人员门户中使用相同的 IP 制作了几个应用程序，同时测试了权限设置。

其他人有问题吗？拥有多个具有相同站点 URL 的应用程序会导致我的 IP 被禁止吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T04:43:54.110

各种支持 oauth 的网站都有问题，查看类似的帖子[stackoverflow](https://stackoverflow.com/questions/14721279/facebook-oauth-an-error-has-occurred)和相应的[facebook 线程](https://developers.facebook.com/bugs/207955409343730?browse=search_5111d8fef19103526726758)

# ios - 无法在 iOS 中创建具有文件保护的 SQLite3 数据库

> ID：14721350
> 
> 赞同：5
> 
> 时间：2013-02-06T04:07:22.037
> 
> 标签：ios, database, xcode, encryption, sqlite

**背景：**我一直在观看 WWDC 2011 - 208 保护 iOS 应用程序。他们提到了如何使用称为 NSFileProtection 的文件加密来保护我们的数据。虽然我发现[提到的自动方法 (@38:00) 有](https://devforums.apple.com/message/627887#627887)问题，但我希望手动方法 (@37:00) 没有。我尝试对图像使用文件保护，一切都很好。只有我无法创建的 Sqlite。

**问题：**我尝试创建 SQLite3 数据库（没有核心数据）并作为第三个参数的标志`sqlite3_open_v2`传递。`SQLITE_OPEN_FILEPROTECTION_COMPLETE`它不返回`SQLITE_OK`。

**代码：**

```
if (sqlite3_open_v2([databasePath UTF8String], &database, SQLITE_OPEN_FILEPROTECTION_COMPLETE, NULL) == SQLITE_OK){
   //everything works
}else{
  //failed
} 
```

* * *

**更新：**
正如 borrrden 所提到的，两者都导致了以下错误代码：（ `SQLITE_MISUSE`库使用不正确）

* * *

**更新 2：** borrrden 的第二条评论指出两个标志的需要是正确的。它按照以下代码工作：

```
if (sqlite3_open_v2([databasePath UTF8String], &database, SQLITE_OPEN_CREATE|SQLITE_OPEN_READWRITE|SQLITE_OPEN_FILEPROTECTION_COMPLETE, NULL) == SQLITE_OK) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T07:08:07.700

Sqlite 对您的标志中缺少文件访问模式感到不满。它不知道它是否应该打开它可写，或者如果它不存在是否创建它。因此，将以下两个标志与您当前使用的标志一起添加：

> SQLITE_OPEN_READWRITE
> SQLITE_OPEN_CREATE

这表明 sqlite 应该打开一个可写数据库，如果它不存在则创建它。

# windows - 在不使用单实例标志的情况下模拟 .Net 单实例应用程序

> ID：14721351
> 
> 赞同：0
> 
> 时间：2013-02-06T04:07:25.670
> 
> 标签：windows, vb.net

目前我正在尝试在不使用“Single Instance”标志的情况下构建单例应用程序，这是由于应用程序的某些机制实际上需要多个实例（自我更新程序等）。所以我必须建立自己的方法来确保应用程序只有一个实例。

我已经完成了大约一半的创建，我已经到了

*   检测有多少实例正在运行
*   一种显示其他实例主窗口的方法**（这是我卡住的地方）**

问题是应用程序大部分时间在后台运行，隐藏，任务栏中没有项目。调用 process.MainWindowHandle 时，它​​总是返回 0，至于该函数检测当前的“MainWindow”它要求窗口是 A) 可见 B) 在任务栏中显示。

**反正有这个限制吗？**

我能想到但**不**知道实现的方法是在应用程序第一次可见时存储 MainWindowHandle ，但我将如何公开这个值？

当前代码：

```
 Dim running_processes As Process() = Process.GetProcessesByName("helpdesk")
            Dim current_process_id As Integer = Process.GetCurrentProcess().Id

            If (running_processes.Length = 1) Then
                'Run the app like normal
                bootstrap_loader.Show()

            Else
                For Each process As Process In running_processes
                    If process.Id = current_process_id Then Continue For

                    'MainWindowHandle returns 0 when window is not visible
                    'Sidenote: ShowWindow is from user32.dll :) 
                    ShowWindow(process.MainWindowHandle, SHOW_WINDOW.SW_NORMAL)

                    'Exit the application like a baws
                    'Environment.Exit(2)
                Next
            End If 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:12:27.870

在应用程序启动时，打开一个临时文件并保持打开状态。同样在启动时，测试您是否可以删除临时文件。如果没有，则另一个实例正在运行，因此您的应用程序将关闭。

```
Imports System.IO

Public Class Form1
  Private mstrLockFilename As String
  Private mfstLock As FileStream

  Public Sub New()

    ' This call is required by the designer.
    InitializeComponent()

    ' Add any initialization after the InitializeComponent() call.
    mstrLockFilename = Application.StartupPath & "\lock.txt"
    Try
      mfstLock = New FileStream(mstrLockFilename, FileMode.OpenOrCreate, FileAccess.ReadWrite, FileShare.None)
    Catch ex As Exception
      MsgBox("App is already running", MsgBoxStyle.Exclamation)
      End
    End Try
  End Sub

  Private Sub Form1_FormClosed(sender As Object, e As System.Windows.Forms.FormClosedEventArgs) Handles Me.FormClosed
    If mfstLock IsNot Nothing Then
      mfstLock.Close()
      mfstLock.Dispose()
      Try
        File.Delete(mstrLockFilename)
      Catch
      End Try
    End If
  End Sub
End Class 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T04:59:18.613

在他们拥有单实例选项之前，您必须自己做。基本上 - 您可以调用当前的应用程序名称 - 然后调用以该名称获取所有正在运行的应用程序。

这里有一些链接（如果我可以发布它们）。

[VB 助手](http://www.vb-helper.com/howto_net_one_instance.html)

[C 代码但可以翻译](https://stackoverflow.com/questions/93989/prevent-multiple-instances-of-a-given-app-in-net)

[VB网络代码](http://www.freevbcode.com/ShowCode.asp?ID=5333)

我看到一个参考表明这在两个呼叫同时发生的情况下可能不起作用。也许可以通过两个电话来解决。在加载的早期 - 然后稍后。

希望这可以帮助

# iphone - 使用 iCloud 放弃核心数据，只需将核心数据的 sqlite 文件存储/加载到 iCloud 存储中

> ID：14721353
> 
> 赞同：1
> 
> 时间：2013-02-06T04:07:26.460
> 
> 标签：iphone, core-data, icloud

我正在制作核心数据库应用程序。我努力在多个设备上通过 iCloud 同步核心数据，但失败了。我注意到大量的开发人员和我在同一个区域。

[https://devforums.apple.com/message/770288#770288](https://devforums.apple.com/message/770288#770288)

[http://www.jumsoft.com/2013/01/response-to-sync-issues/](http://www.jumsoft.com/2013/01/response-to-sync-issues/)

所以请不要说有更好的方法来同步它或在同步时重新连接设备。我们知道 iCloud 的核心数据是我们现在必须避免的事情。我浪费了半年。

我现在要做的就是将核心数据的 sqlite 文件存储到 iCloud 存储中，这样我就可以像同步一样使用它。（请不要说它不同步。我现在不想谈论冲突问题）（而且我的 sqlite 文件的大小很小）但是我面临着几个问题，不知道最好的方法是什么它。我没有太多时间，因为我已经浪费了很多时间。

我的问题是

1.  Apple 不允许在 iCloud 上存储 sqlite 文件？
2.  将 UIDocument 与 iCloud 一起使用是最好的方法吗？
    *   我从这里查看了 ray 的教程 [http://www.raywenderlich.com/12779/icloud-and-uidocument-beyond-the-basics-part-1](http://www.raywenderlich.com/12779/icloud-and-uidocument-beyond-the-basics-part-1) 他使用 iCloud 同步这些照片，而且看起来效果很好。但我想知道我是否也可以使用 sqlite 文件来做到这一点。如果是，我想我需要知道如何将 sqlite 文件转换为 nsdata 并将 nsdata 转换为 sqlite，就像 ray 对 PNG 文件所做的那样。

我使用 iCloud 查找 UIDocument 的原因是，仅从 iCloud ubiquetes 存储的文档文件夹中存储和加载似乎效果不佳。但是带有 iCLoud 文件同步的 UIDocument 似乎工作得很好。

所以你认为这是个好主意吗？谁会一起去？

谢谢

明亮的李

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:54:48.053

这并不是说 Apple 不允许在 iCloud 中使用 SQLite 文件——而是他们警告你这样做是一个**非常**糟糕的主意。文件损坏的可能性很大，因为在打开时更改它的几率很高。

如果您的数据存储真的很小，请考虑使用无处不在的键值存储。

# jquery - jQuery，检查空输入框

> ID：14721356
> 
> 赞同：0
> 
> 时间：2013-02-06T04:07:31.473
> 
> 标签：jquery

一个非常简单的问题：

如果我这样做：`$(":input").css("background-color","#ffffff")`，结果是所有输入字段都获得白色背景。

逻辑会说`$(":input[value=]").css("background-color","#000000")`, 会使没有值的输入字段的背景颜色变为黑色，但这不起作用（最新的 jQuery 版本）。我也试过`[value='']`了，但没有用。

我不敢相信 .each 是唯一的解决方案。它必须更简单。

编辑：代码是这样的：

```
<form id="frm_Auth" action="javascript:;"> 
   User name: <input type="text" size="10" id="frm_Auth_Username"  value="" />
   Password: <input type="password" size="10" id="frm_Auth_Password" value="" /> 
</form> 
```

jQuery：

```
$("#frm_Auth").on("submit", function() 
 { 
   $(":input").css("background-color","#ffffff"); $(":input[value=]").css("background- color","#FFCECE"); 
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T04:10:44.383

我可以让它正常工作，但我还没有看到你的 html。您`input`的 s 可能根本没有`value`属性，但您可以使用以下命令进行检查`:input:not([value])`：

[http://jsfiddle.net/ExplosionPIlls/GUuQQ/](http://jsfiddle.net/ExplosionPIlls/GUuQQ/)

**编辑：**如果您想检查是否应该在用户更改值时更新背景，您可以将检查绑定到`keyup`：

```
$(":input").on('keyup', function () {
    if (!$(this).val()) {
        $(this).css('background-color', 'black');
    }
    else {
        $(this).css('background-color', 'transparent');
    }
}); 
```

# python - Python .append 更改输入列表？

> ID：14721358
> 
> 赞同：0
> 
> 时间：2013-02-06T04:07:45.670
> 
> 标签：python, list, append

嗨，我正在尝试对街机游戏小行星进行编程，并且已经做到了，当用户按下空格键时，会在“船”当前所在的位置创建一个圆圈，并将其位置添加到“ball_list”，而船的水平和垂直速度是存储为“ball_vlist”中的新圆的速度，如图所示

```
def draw(canvas):
    global ship_pos, ship_vel, ball_list

    if current_key=='32':             # if spacebar is pressed
        ball_list.append(ship_pos)    # create a new circle and store is position
        ball_vlist.append(ship_vel)   # add a velocity to this new circle 
```

当我运行整个程序时，船以我最初给它的速度移动，正如我所期望的那样。但是，当我按空格键时，它会加速，我不知道为什么。我发现这条线导致了问题：

```
ball_list.append(ship_pos) 
```

因为当我将其注释掉时，按下空格键时船会正常继续。追加是否以某种方式改变了船的位置？我检查过船的速度（ship_vel）即使在船加速时也保持不变。

感谢您的任何帮助！如果您需要额外的上下文，这里是整个程序：

```
import simplegui

ball_list = []
ball_vlist = []
ship_pos = [200, 400]
ship_vel = [.5, -.5]
current_key=' '

frame = simplegui.create_frame("Asteroids", 800, 500)

def tick():
    global ball_list, ball_vlist, ship_pos

    # update the ship position

    ship_pos[0] += ship_vel[0]
    ship_pos[1] += ship_vel[1]

    # update the ball positions

    for i in range(len(ball_list)):
        ball_list[i][0]+=ball_vlist[i][0]
        ball_list[i][1]+=ball_vlist[i][1]       

def draw(canvas):
    global ship_pos, ship_vel, ball_list

    if current_key=='32':
        ball_list.append(ship_pos)
        ball_vlist.append(ship_vel)

    for ball_pos in ball_list:
        canvas.draw_circle(ball_pos, 1, 1, "white", "white")    # these are the circles the ship shoots

    canvas.draw_circle(ship_pos, 4, 1, "red", "green")    # this is my 'ship' (just to test)

def keydown(key):
    global current_key
    current_key = str(key)

def keyup(key):
    global current_key
    current_key=' '

timer = simplegui.create_timer(10, tick)
frame.set_keydown_handler(keydown)
frame.set_keyup_handler(keyup)
frame.set_draw_handler(draw)

frame.start()
timer.start() 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T04:13:41.827

试试这个：

```
ball_list.append(ship_pos[:])
ball_vlist.append(ship_vel[:]) 
```

当您附加`ship_pos`(and `ship_vel`) 时，实际上是在附加相同的列表。`ball_list[0]`现在将引用与 相同的列表`ship_pos`。这意味着如果您更改一个（例如`ball_list[0][0] = 5`），那么另一个也将更改（`ship_pos[0] == 5`）。

您可以通过使用 复制列表来解决此问题`[:]`，以便您现在附加列表的新副本。

我认为这实际上没有任何意义，所以这里有一些代码可能会有所帮助：

```
>>> a = []
>>> b = [1,2]
>>> a.append(b)
>>> a
[[1, 2]]
>>> a[0][0] = 3
>>> a
[[3, 2]]
>>> b
[3, 2]

>>> a=[]
>>> b=[1,2]
>>> a.append(b[:])
>>> a
[[1, 2]]
>>> a[0][0] = 3
>>> a
[[3, 2]]
>>> b
[1, 2] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T04:21:17.693

问题在于将列表附加到数组中，该列表仍然作为参考。

例子：

```
>>> i = [1, 2, 3]
>>> x = []
>>> x.append(i)
>>> x[0][1] = 5
>>> i
[1, 5, 3]
>>> 
```

# c++ - '*' 标记之前的预期初始化程序

> ID：14721362
> 
> 赞同：5
> 
> 时间：2013-02-06T04:08:02.327
> 
> 标签：c++, design-patterns

我正在尝试实现*设计模式*书中的代码。我收到以下错误：

```
expected initializer before ‘*’ token 
```

对于这一行：

```
static Singleton *Singleton::itsInstance = 0; 
```

这是完整的代码。我正在使用 g++ 4.2.1 来尝试编译它。

```
class Singleton {
public:
    static Singleton *instance();
protected:
    Singleton();
private:
    static Singleton *itsInstance;
}

static Singleton *Singleton::itsInstance = 0;

Singleton *Singleton::instance()
{
    if (!itsInstance)
    {
        itsInstance = new Singleton;
    }
    return itsInstance;
} 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-02-06T04:09:33.793

```
class Singleton {

};
 ^^^ 
```

这！并且，

```
static Singleton *Singleton::itsInstance = 0; 
```

替换为：

```
Singleton *Singleton::itsInstance = 0; 
```

您`static`只需要声明而不是定义。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T04:11:33.527

您在类定义后缺少分号，并且您不想要`static`.

```
static Singleton *Singleton::itsInstance = 0; 
```

应该

```
Singleton *Singleton::itsInstance = 0; 
```

# ruby-on-rails - 我想为种子添加测试以知道种子没有破碎

> ID：14721363
> 
> 赞同：1
> 
> 时间：2013-02-06T04:08:08.240
> 
> 标签：ruby-on-rails, testing, seeding

测试种子的最佳方法是什么，是否有示例/教程？我已经看过并且没有找到对新手真正有用的东西。

另外，这样的测试的正确名称是什么？

# c# - 何时处置图形对象

> ID：14721371
> 
> 赞同：1
> 
> 时间：2013-02-06T04:09:17.117
> 
> 标签：c#, windows, graphics, bitmap

我有一个循环数据集合的方法，根据从数据库中检索到的集合中的数据构建位图，最后将构建的位图添加到我称为 DoorSchedules 的集合中。

在我的循环中，如果我在我的图形上调用 .dispose ，我会收到一个错误。当我不调用属于 Graphics 对象的 .dispose 方法时，不会发生此错误。

循环时何时应在图形对象上调用 dispose，是否为每个循环创建一个新的图形对象？

代码在下面有效，直到我取消注释 dc.Dispose。

```
 DoorSchedules schedules = new DoorSchedules();

for (byte i = 0; i < elevation.Bays.Count; i++)
                {
                    if (elevation.Bays[i].HasDoor.Value)
                    {
                        for (byte ii = 0; ii < elevation.Bays[i].Doors.Count; ii++)
                        {

                            door = elevation.Bays[i].Doors[ii];
                            width = getInchPx(door.WidthInches);
                            height = getInchPx(door.HeightInches);

                            Bitmap canvas = new Bitmap((int)width + DOOR_SCHEDULE_WIDTH_ADD,
                                                       (int)height + DOOR_SCHEDULE_HEIGHT_ADD);

                            Graphics dc = Graphics.FromImage(canvas);

                ..work removed for readability for stackoverflow.

                            schedules.Add(new DoorSchedule(canvas));

                            //dc.Dispose();
                        };
                    };
                }; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T04:37:14.347

您可以尝试将需要处理的对象包含在[using 语句](http://msdn.microsoft.com/en-us/library/yh598w02%28v=vs.100%29.aspx)中，这样资源将在完成后自动释放。

从上面的链接：

> 通常，当您使用 IDisposable 对象时，您应该在 using 语句中声明和实例化它。using 语句以正确的方式调用对象的 Dispose 方法，并且（当您如前所示使用它时）它还会导致对象本身在调用 Dispose 时立即超出范围。在 using 块中，对象是只读的，不能修改或重新分配。

看看这样的东西是否适合您，如果不适合，请提供您收到的错误。

```
using (Bitmap canvas = new Bitmap((int)width + DOOR_SCHEDULE_WIDTH_ADD,(int)height + DOOR_SCHEDULE_HEIGHT_ADD))
{
    using( Graphics dc = Graphics.FromImage(canvas))
    {

    }
} 
```

* * *

在查看您之前的问题时，您似乎放弃了使用 using，因为您最终处理了您的位图，如果这是相同的代码，您可以尝试创建您的位图的[克隆](http://msdn.microsoft.com/en-us/library/system.drawing.image.clone%28v=vs.100%29.aspx)。

所以在你的情况下，它看起来像：

```
using (Bitmap canvas = new Bitmap((int)width + DOOR_SCHEDULE_WIDTH_ADD,(int)height + DOOR_SCHEDULE_HEIGHT_ADD))
{
    using( Graphics dc = Graphics.FromImage(canvas))
    {
         dc.DrawEllipse(Pens.Red, 10, 10, 50, 50);
         pictureBox1.Image = (Bitmap)canvas.Clone(); //The PictureBox is just an object to accept the newly created bitmap.
    }
} 
```

# r - 如何绘制具有自定义分布的直方图？

> ID：14721375
> 
> 赞同：3
> 
> 时间：2013-02-06T04:09:47.210
> 
> 标签：r, statistics, histogram

在一本旧的统计教科书中，我找到了一个国家人口年龄分布的表格：

```
        百分比
 年龄人口
------------------
 0-5 8
 5-14 18
14-18 8
18-21 5
21-25 6
25-35 12
35-45 11
45-55 11
55-65 9
65-75 6
75-85 4

```

我想将此分布绘制为 R 中的直方图，其中年龄范围为中断，人口百分比为密度，但似乎没有一种直接的方法来做到这一点。R 的`hist()`函数希望您提供单个数据点，而不是像这样的预先计算的分布。

这就是我的做法。

```
# Copy original textbook table into two data structures
ageRanges <- list(0:5, 5:14, 14:18, 18:21, 21:25, 25:35, 35:45, 45:55, 55:65, 65:75, 75:85)
pcPop <- c(8, 18, 8, 5, 6, 12, 11, 11, 9, 6, 4)
# Make up "fake" age data points from the distribution described by the table
ages <- lapply(1:length(ageRanges), function(i) {
    ageRange <- ageRanges[[i]]
    round(runif(pcPop[i] * 100, min=ageRange[1], max=ageRange[length(ageRange)-1]), 0)
})
ages <- unlist(ages)
# Use the endpoints of the age class intervals as breaks for the histogram
breaks <- append(0, sapply(ageRanges, function(x) x[length(x)]))
hist(ages, breaks=breaks) 
```

似乎必须有一种不那么冗长/hacky的方式来处理它。

*编辑*：FWIW，这是生成的直方图的样子：

![直方图](../Images/fa1438d134e732cb73ca7174104fe678.png)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-06T04:47:38.253

这应该得到你想要的：

```
test <- read.table(textConnection("age popperc
0-5 8
5-14 18
14-18 8
18-21 5
21-25 6
25-35 12
35-45 11
45-55 11
55-65 9
65-75 6
75-85 4"),header=TRUE,stringsAsFactors=FALSE)

midval <- sapply(strsplit(test$age,"-"),function(x) mean(as.numeric(x)))
breakval <- strsplit(test$age,"-")
breakval <- as.numeric(c(sapply(breakval,head,1),tail(unlist(breakval),1)))
hist(rep(midval,test$popperc),breaks=breakval) 
```

![在此处输入图像描述](../Images/729df15bd86bc0a5173c4596109322f5.png)

您还可以定义自己的`class`直方图对象，然后`plot`如果您只想绘制频率而不是密度：

```
# define the histogram object and plot it
histres <- list(
breaks=breakval,
counts=test$popperc,
mids=midval,
xname="ages",
equidist = TRUE
)
class(histres) <- "histogram"
plot(histres) 
```

![在此处输入图像描述](../Images/0c023b1ea69c1d2b5b6657e9498a2474.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T04:19:55.543

正如评论中所说，使用`barplot`. 您可以在 a 中指定宽度`barplot`

```
barplot(pcPop,  width = seq(0,85,5),space=0) 
```

# .net - 在 Membership API 中更改密码长度

> ID：14721378
> 
> 赞同：1
> 
> 时间：2013-02-06T04:10:02.280
> 
> 标签：.net, asp.net-mvc, asp.net-mvc-4

我`RegisterModel`的`Password`财产如下：

```
 public class RegisterModel
 {  
    [Required]
    [StringLength(100, ErrorMessage = "The {0} must be at least {2} characters long.", MinimumLength = 8)]
    [DataType(DataType.Password)]
    [Display(Name = "Password")]
    public string Password { get; set; }
 } 
```

在注册视图中，我有这个：

```
<p class="message-info">
Passwords must be at least @Membership.MinRequiredPasswordLength characters long.
</p> 
```

虽然，我已将 of 更改为我的`MinimumLength`中的`Password`字符`8`，`RegisterModel`但它仍然只显示`6`在我的视图页面上，如下面的屏幕截图所示：

![这是 MVC 中的默认应用程序，我通过帐户/注册地址访问此页面。我的主机地址是本地的。](../Images/1b02c186ab533b52daf3f1017a6dee64.png)

如何更改`Password`长度？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T04:15:09.533

尽管您在 中更改了它，但请`RegisterModel`注意，在您的 上`Register View`，值来自`Membership`根据您`Membership` `Provider`在`web.config`文件中配置的类。

所以，检查你的`web.config`文件。它有以下代码：

```
<membership>
  <providers>
    <clear />
    <add name="AspNetSqlMembershipProvider"          
         type="System.Web.Security.SqlMembershipProvider"
         connectionStringName="ApplicationServices" 
         enablePasswordRetrieval="false"
         enablePasswordReset="true"
         requiresQuestionAndAnswer="false"
         requiresUniqueEmail="false"
         maxInvalidPasswordAttempts="5" 
         minRequiredPasswordLength="6"                  //Change This
         minRequiredNonalphanumericCharacters="0" 
         passwordAttemptWindow="10"
         applicationName="/" />
  </providers>
</membership> 
```

在这里也改变`minRequiredPasswordLength = "8"`，它会为你工作。

**或者**

如果您不想在 中进行更改`Membership Provider`，那么您仍然可以通过编写自己的自定义属性来执行此操作，`MinPasswordLength`如下所示：

```
[AttributeUsage(AttributeTargets.Property | AttributeTargets.Field | AttributeTargets.Parameter , AllowMultiple = false, Inherited = true)]
public sealed class MinRequiredPasswordLengthAttribute : ValidationAttribute, IClientValidatable
{                             
    private readonly int _minimumLength = Membership.MinRequiredPasswordLength;
    public override string FormatErrorMessage(string name)
    {
        return String.Format(CultureInfo.CurrentCulture, ErrorMessageString, name, _minimumLength);
    }    

    public override bool IsValid(object value)
    {                    
        string password = value.ToString();    
        return password.Length >= this._minimumLength; 
    } 
    public IEnumerable<ModelClientValidationRule> GetClientValidationRules(ModelMetadata metadata, ControllerContext context) 
    {       
        return new[]{ new ModelClientValidationStringLengthRule(FormatErrorMessage(metadata.GetDisplayName()), _minimumLength, int.MaxValue)
        };
    }
} 
```

然后更新您`RegisterModel`以使用`MinRequiredPasswordLength`DataAnnotation 代替。

```
[Required]        
[MinRequiredPasswordLength(ErrorMessage = "The {0} must be at least {1} character(s) long.")]           
[DataType(DataType.Password)]
[Display(Name = "Password")]
public string Password { get; set; } 
```

*   查看更多信息：http: [//timjames.me/mvc-3-password-length-dataannotation#sthash.kxyHoPep.dpuf](http://timjames.me/mvc-3-password-length-dataannotation#sthash.kxyHoPep.dpuf)

# java - 是否可以通过 Android Facebook SDK 3.0 发送好友请求？

> ID：14721379
> 
> 赞同：0
> 
> 时间：2013-02-06T04:10:02.327
> 
> 标签：java, android, facebook, sdk, dialog

我正在尝试从 Android SDK for Facebook 发送好友请求。我有机会问了一位 Facebook 工程师，他说 Android 目前不支持好友请求。所以我想我被困在将用户重定向到浏览器上。我的问题是我该怎么做？到目前为止，这是我的代码：（它不起作用）

```
private void sendRequestDialog()
{
String USER_ID = "stack.overflow.123";

Bundle params = new Bundle();

params.putString("id", USER_ID);

WebDialog requestsDialog = (
    new WebDialog.RequestsDialogBuilder(getActivity(),
        Session.getActiveSession(),
        params))
        .setOnCompleteListener(new OnCompleteListener()
        {
            @Override
            public void onComplete(Bundle values, FacebookException error)
            {
                if(error != null)
                {
                    if(error instanceof FacebookOperationCanceledException)
                    {
                        Toast.makeText(getActivity().getApplicationContext(), "Request cancelled", Toast.LENGTH_SHORT).show();
                    }
                    else
                    {
                        Toast.makeText(getActivity().getApplicationContext(), "Network Error", Toast.LENGTH_SHORT).show();
                    }
                }
                else
                {
                    final String requestId = values.getString("request");
                    if (requestId != null)
                    {
                        Toast.makeText(getActivity().getApplicationContext(), "Request sent", Toast.LENGTH_SHORT).show();
                    }
                    else
                    {
                        Toast.makeText(getActivity().getApplicationContext(), "Request cancelled", Toast.LENGTH_SHORT).show();
                    }
                }   
            }

        })
        .build();
requestsDialog.show();
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:28:58.470

在您的活动中添加一个 WebView，然后

```
webView.loadUrl("http://www.facebook.com/dialog/friends/?"+
  "id=brent&"+
  "app_id=123050457758183&"+
  "redirect_uri=https://www.facebook.com/connect/login_success.html"); 
```

# import - 如何合并我的 Tumblr 博客？

> ID：14721380
> 
> 赞同：3
> 
> 时间：2013-02-06T04:10:11.317
> 
> 标签：import, merge, export, tumblr

标题几乎说明了一切。博客在同一个帐户下。[在知乎上问了这个问题](http://www.quora.com/How-can-I-merge-my-Tumblr-blogs)，几乎没有反应。

我正在寻找一个网络应用程序，它可以自动化这个过程。如果那里还没有任何东西，我已经准备好使用[Tumblr 的 API](http://www.tumblr.com/docs/en/api/v2)构建我自己的网络应用程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T03:12:07.827

查看这篇文章，详细说明将数据从一个 Tumblr 移动到另一个[http://vinylanswer.tumblr.com/post/42009904333/how-to-turn-your-secondary-tumblr-blog-into-your](http://vinylanswer.tumblr.com/post/42009904333/how-to-turn-your-secondary-tumblr-blog-into-your)

# gcc - 我想将我的 C 程序转换为 MIPS 指令

> ID：14721381
> 
> 赞同：1
> 
> 时间：2013-02-06T04:10:22.140
> 
> 标签：gcc, ubuntu, mips

我想知道是否有可能在 ubuntu 11.04 中使用 gcc 将此代码转换为 MIPS。我尝试了 lcc 但无法安装。

```
#include<stdio.h>
int fibnacci(int c)
{
if(c==0)
return 0;
else if(c==1)
return 1;
else
return (fibnacci(c-1)+fibnacci(c-2));
}
int main(){
int i;
printf("Enter the fib number");
scanf("%d",&i);
int a;
a= fibnacci(i);
printf("The value is %d",a);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T13:14:36.027

为了能够生成 mips 代码，GCC 必须配置为具有`mips`目标架构的交叉编译器。所以正确的答案 - 不，你不能`gcc`在 Ubuntu 中使用常规。您必须获得 mips 交叉编译器。要获得它，请`embedian`从包管理器安装包，并`gcc-4.4-mips-linux-gnu`从源代码中使用或安装 mips 交叉编译器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T12:35:34.180

代码无法编译。使用 MIPS 模拟器在我的 Ubuntu 上稍作更改即可编译为 MIPS。

```
#include<stdio.h>
int fibnacci(int c)
{
if(c==0)
return 0;
else if(c==1)
return 1;
else
return (fibnacci(c-1)+fibnacci(c-2));
}
int main(){
int i;
int a;
printf("Enter the fib number");
scanf("%d",&i);
a= fibnacci(i);
printf("The value is %d",a);
} 
```

大会是

```
 .file   1 "mips-c.c"

 # -G value = 8, Cpu = 3000, ISA = 1
 # GNU C version cygnus-2.7.2-970404 (mips-mips-ecoff) compiled by GNU C version cygnus-2.7.2-970404.
 # options passed:  -msoft-float
 # options enabled:  -fpeephole -ffunction-cse -fkeep-static-consts
 # -fpcc-struct-return -fcommon -fverbose-asm -fgnu-linker -msoft-float
 # -meb -mcpu=3000

gcc2_compiled.:
__gnu_compiled_c:
    .text
    .align  2
    .globl  fibnacci
    .ent    fibnacci
fibnacci:
    .frame  $fp,32,$31      # vars= 0, regs= 3/0, args= 16, extra= 0
    .mask   0xc0010000,-8
    .fmask  0x00000000,0
    subu    $sp,$sp,32
    sw  $31,24($sp)
    sw  $fp,20($sp)
    sw  $16,16($sp)
    move    $fp,$sp
    sw  $4,32($fp)
    lw  $2,32($fp)
    bne $2,$0,$L2
    move    $2,$0
    j   $L1
    j   $L3
$L2:
    lw  $2,32($fp)
    li  $3,1            # 0x00000001
    bne $2,$3,$L4
    li  $2,1            # 0x00000001
    j   $L1
    j   $L5
$L4:
    lw  $3,32($fp)
    addu    $2,$3,-1
    move    $4,$2
    jal fibnacci
    move    $16,$2
    lw  $3,32($fp)
    addu    $2,$3,-2
    move    $4,$2
    jal fibnacci
    addu    $3,$16,$2
    move    $2,$3
    j   $L1
$L5:
$L3:
$L1:
    move    $sp,$fp         # sp not trusted here
    lw  $31,24($sp)
    lw  $fp,20($sp)
    lw  $16,16($sp)
    addu    $sp,$sp,32
    j   $31
    .end    fibnacci
    .rdata
    .align  2
$LC0:
    .ascii  "Enter the fib number\000"
    .sdata
    .align  2
$LC1:
    .ascii  "%d\000"
    .rdata
    .align  2
$LC2:
    .ascii  "The value is %d\000"
    .text
    .align  2
    .globl  main
    .ent    main
main:
    .frame  $fp,32,$31      # vars= 8, regs= 2/0, args= 16, extra= 0
    .mask   0xc0000000,-4
    .fmask  0x00000000,0
    subu    $sp,$sp,32
    sw  $31,28($sp)
    sw  $fp,24($sp)
    move    $fp,$sp
    jal __main
    la  $4,$LC0
    jal printf
    la  $4,$LC1
    addu    $5,$fp,16
    jal scanf
    lw  $4,16($fp)
    jal fibnacci
    sw  $2,20($fp)
    la  $4,$LC2
    lw  $5,20($fp)
    jal printf
$L6:
    move    $sp,$fp         # sp not trusted here
    lw  $31,28($sp)
    lw  $fp,24($sp)
    addu    $sp,$sp,32
    j   $31
    .end    main 
```

# class - 将不是控制器、模块或视图的类放在哪里？

> ID：14721387
> 
> 赞同：0
> 
> 时间：2013-02-06T04:10:47.527
> 
> 标签：class, logging, module, zend-framework2, autoload

我有一个由多个模块组成的 ZF2 应用程序，我想创建一个`Logger`可以从这些模块中的任何一个访问的类。基本上，我希望能够使用简单的`Logger::info("Something")`.

当前的应用程序布局是这样的：

```
root/
  module/
    module1/
      src/
        module2/
          src/
        module3/
          src/ 
```

放置这个新的记录器类的最佳位置在哪里？以及如何确保可以从任何子模块访问它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T10:20:07.470

我建议使用`ServiceManager`而不是调用静态方法，这将允许您在需要时更轻松地更换日志记录类。

此外，ZF2 模块在代码结构方面非常灵活，因此您可以简单地使用：

```
module/Application/src/Application/Logger/LoggerFactory.php 
```

或者，如果您看到此代码在其他项目中被重用，则可能创建一个 Logger 模块。

昨天我确实看到了 Rob Allen 关于模块目录结构的博客文章 - [http://akrabat.com/zend-framework-2/thoughts-on-module-directory-structure/](http://akrabat.com/zend-framework-2/thoughts-on-module-directory-structure/) - 它可能值得快速阅读。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T09:38:25.090

我将所有人都可以接受的通用类放在 module/Application/src/WhateverName 下

例如，我将 auth 类放在：

```
module/Application/src/Application/Authentication/AuthenticationService.php 
```

使用命名空间：

```
namespace Application\Authentication; 
```

然后我在 Module.php 中定义服务

```
public function getServiceConfig()
{
    return array(
        'factories' => array(
            'auth_service' => function ($sm) {
                $zfauthservice = new \Zend\Authentication\AuthenticationService;
                return new \Application\Authentication\AuthenticationService($zfauthservice, $sm->get('bp_user_mapper_model'));
            },
    );
} 
```

# jquery - 如何仅在没有域的情况下获得确切的 href 值？

> ID：14721388
> 
> 赞同：9
> 
> 时间：2013-02-06T04:10:53.443
> 
> 标签：jquery

我无法仅获得 href 的确切值。这是代码：

```
Link:
<a href="monthly"></a>

Script:
'a': function(target, process){
    if(process == "stripe"){
        document.location.href = "/accounts/stripe/payment"+target[0].href;
    }else{
        ......
    }
}, 
```

如果我运行它，输出将是：

```
http://localhost:8000/accounts/stripe/paymenthttp://localhost:8000/monthly/ 
```

请注意，本地主机正在复制。如何在没有本地主机的情况下仅获取 href 中的“每月”？我只尝试目标，但它是未定义的。我尝试 target[1] 但它不起作用。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-02-06T04:14:37.707

尝试`target[0].getAttribute("href")`获取文字属性的内容。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-06T04:16:02.003

这是一个鲜为人知的（也许）事实，大多数浏览器也将 Anchor 节点元素转换为 Location 对象。因此，您也可以访问 Location 可用的所有部分；

```
 document.location.href = "/accounts/stripe/payment"+target[0].pathname; 
```

# javascript - jQuery animate - 使幻灯片图像在同一方向上迭代循环

> ID：14721389
> 
> 赞同：0
> 
> 时间：2013-02-06T04:11:03.870
> 
> 标签：javascript, jquery, html, css

我想使用 jQuery 制作自己的幻灯片。在这里，我陷入了滑块图像的方向。我希望它只循环一个方向（从右到左）。请在下面查看我的代码：

HTML：

```
<div class="flash-banner">
    <ul>
       <li>
          <img src="img/flash-banner.jpg" alt="Black glass banner " />
       </li>
       <li>
          <img src="img/flash-banner-contact.jpg" alt="Black glass banner " />
       </li>
       <li>
          <img src="img/flash-banner-our-work.jpg" alt="Black glass banner " />
       </li>
    </ul>
</div> 
```

JavaScript：

```
$(document).ready( function ( e ) {
    slideshow( 6000 );
});

function slideshow( speed ) {
    // Get width from image
    $pic = $('.flash-banner ul li img')[0];
    $width = $pic.width;

    // Count the total number of children of UL 
    $count = $('.flash-banner ul').children().length;

    // Set width to UL  
    var $ul = $width * $count;
    $('.flash-banner ul').css('width', $ul);
    var i = 1;

    setInterval( function ( e ) {
        if ( i > $count - 1 ) {
              // I think the problem is here, but I can't fix it
           i = 0;
           var b = 0;
        } else {
           var b = $width * i;
        }
        console.log( b );
        $element = $('.flash-banner ul');
        $element.animate(
           {'margin-left': -b },
           { duration: speed },
           { delay: speed }
        );
        i++;
    }, speed );
} 
```

我还在[http://jsfiddle.net/FzDtD/1/做了一个演示](http://jsfiddle.net/FzDtD/1/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T04:21:42.810

用于`clearInterval()`停止动画而不是重置`i`为 0。

如果要重新循环动画，请调用`.stop()`停止它，修复 css 以将横幅移回原始位置并再次调用动画函数。

[jsfiddle在这里](http://jsfiddle.net/FzDtD/4/)

或者，您可以尝试停止动画并将所有值重置为初始状态，但我发现有时会变得混乱，因为您需要手动确保重置所有变量以使其正常工作。

# core-data - Core Data 子实体与具有相似属性的实体的关系

> ID：14721391
> 
> 赞同：3
> 
> 时间：2013-02-06T04:11:16.343
> 
> 标签：core-data, entity-relationship

为我的 iOS 应用程序规划核心数据模式，我发现我有一些实体需要相同的属性集（例如描述性文本、评级、用户注释等）和关系（例如用于应用标签、附加参数，设置父/子关系，关联图像等）。对于一个实体“实体 A”，它只需要共享属性/关系，而其他的每个都具有几个额外的唯一属性和/或关系。阅读此处的核心数据文档和帖子，我决定将“实体 A”设置为其他实体的父级。

一个额外的实体共享所有相同的属性和相同关系的子集，这就是图像的实体（请注意，图像本身存储在文件中，该实体用于元数据并具有图像文件的密钥）。然而，“实体 A”和子实体都需要与图像实体的一对多关系，而图像实体不需要与其自身的关系。图像实体也不需要“实体A”的父/子关系。我看到四个选项，但无法确定要走哪条路。

我的问题是这些选项中的任何一个是否具有我所缺少的重要优点或缺点，或者一个特定选项是否通常被认为是“正确”的做事方式。我在 Core Data 中读到过，所有子实体都将与父实体共享一个表，这可能会导致大量对象的性能问题，但我预计我的应用程序最多只需要几千行这样的表.

**选项 1**：将图像实体设置为“实体 A”的子实体，并忽略它不需要的关系。这是最容易设置并充分利用继承的，但我不知道忽略关系是否是一个好的设计选择。“实体 A”具有我认为通过这种方式最容易迁移的现有数据，但我也可以轻松地重新创建数据，因此这不是一个重要的考虑因素。没有当前的图像实体，因此无需担心迁移。

**选项 2**：创建一个抽象父级，“实体 A”和图像实体都是其子级。父级将是“实体 A”减去与图像的关系，而“实体 A”现在将仅具有与图像的关系。这看起来更干净，目前是我倾向于的地方。虽然这在功能上看起来不错，但从概念上讲，我不知道它是否适合将本质上是元数据的实体作为父实体。

**选项 3**：代替抽象父级，创建一个单独的新“元数据”实体，即“实体 A”减去图像关系，并从“实体 A”和图像实体向元数据实体添加一对一关系，例如制作复合物体。这在概念上似乎是合适的，因为元数据只是主要实体的一个方面，而不是定义因素（这是对选项 2 的感觉）。它还将图像实体和“实体 A”保存在单独的表中，并且应该允许更有效地通过元数据进行搜索。唯一的缺点（如果是一个缺点）是，它将“实体 A”和图像实体的大部分属性和关系作为一种关系进行附加。

**选项4**：忽略属性的相似性，只使图像实体完全分离，复制“实体A”中的所有属性。由于重复工作，这似乎是最不可取的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T23:59:08.627

我最终选择了选项 3（创建一个新的“元数据”实体），然后创建了两个单独的元数据子实体来处理“实体 A”和图像实体的反向关系。就对象层次结构而言，这似乎是适当的做法。我还向“实体 A”和图像实体添加了访问器，以方便传递对元数据实体属性的调用。

由此产生的核心数据迁移需要几个步骤和一些自定义编码 - 可能比简单地创建一个空数据库并手动重新填充它需要更多的工作，但这是一个很好的迁移学习体验。

完成迁移后，我确认了我所读到的关于子实体与父实体共享表的内容。在元数据实体的情况下，这意味着每一行都有代表与“实体 A”和图像实体的反向关系的列。作为参考，元数据表具有以下列：

```
Z_PK = row index
Z_ENT = entity index to distinguish between sub-entities (all entity indices are in the table Z_PRIMARYKEY)
Z_OPT = count of writes for the given row
Zxxxx - columns for each attribute and to-one relationship in the parent and sub-entities, apparently ordered with booleans first, then integers, then relationships, dates, and finally strings (from smallest to largest data size) 
```

请注意，对多关系在单独的表中处理。

# c++ - std::unordered_map::insert 的重载

> ID：14721395
> 
> 赞同：15
> 
> 时间：2013-02-06T04:11:53.313
> 
> 标签：c++, c++11

你能教我为什么两者

```
std::unordered_map::insert(const value_type&) 
```

和

```
template<class P> std::unordered_map::insert(P&&) 
```

存在于标准中吗？

我认为`insert(P&&)`可以作为`insert(const value_type&)`.

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-06T13:09:58.077

这两个重载

```
auto std::unordered_map::insert(const value_type&) -> ...

template<class P>
auto std::unordered_map::insert(P&&) -> ... 
```

各有优势，谁也不能完全替代对方。第一个*似乎*是第二个的特例，因为`P`可能推断为`const value_type&`。第二次重载的好处是您可以避免不必要的副本。例如，在这种情况下：

```
mymap.insert(make_pair(7,"seven")); 
```

在这里， make_pair 的结果实际上是一个 while`pair<int, const char*>`可能`value_type`是`pair<const int, string>`。因此，我们有机会通过转换参数和/或移动其成员直接将对象创建到地图中，而不是创建临时`value_type`对象并将其*复制*到容器中。`value_type`

另一方面，如果这也能正常工作，那就太好了：

```
mymap.insert({7,"seven"}); 
```

但这份榜单其实并不是一个表情！因此，编译器无法推断出第二次重载的 P。第一个重载仍然可行，因为您可以`pair<const int,string>`使用这样的列表复制初始化参数。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-06T10:28:51.363

[在n1858](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2005/n1858.html#23.3.1.3%20-%20map%20modifiers)中添加了模板通用引用重载，理由是（对于`map`，但同样明确适用于`multimap`）：

> 其中两个`insert`签名是新的。它们已被添加以允许从`value_type`可转换为`value_type`. 当`P`实例化为左值时，参数被复制到 中`map`，否则它被移动到`map`（允许 const 限定符）。

`insert`（提到的另一个签名是 insert-with-hint。）

我们还参考了以下理由`deque`（同样，明确引用了其他容器）：

> 所有将单个 value_type 插入（或附加、前置等）到容器中的成员函数都被一个成员函数重载，该成员函数通过右值引用接受该 value_type，以便可以将单个 value_type 移动到容器中。这不仅使处理重量级类型更加高效，还允许将可移动但不可复制的类型插入容器中。

很明显，这些变化主要被认为是增加的；当时并没有考虑模板重载可以完全取代原来的（C++03）`insert`。这可以通过参考早期的[n1771 看出](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2005/n1771.html)，它为模板重载提供了一些动力，采用了不同的方法：

> 请注意，对于 map 和 multimap，有两个新的插入重载，它们都采用非 const key_type 对。不能从 const key_type 移动，因此为了能够将 key_type 移动到（多）映射中，必须使用一对。const 左值对和非 const 右值对都有重载，因此不会移动左值对。
> 
> ```
> pair<iterator, bool> insert(const value_type& x);  // CC
> pair<iterator, bool> insert(const pair<key_type,mapped_type>& x);  // CC
> pair<iterator, bool> insert(pair<key_type,mapped_type>&& x); 
> ```

（`CC`是 的缩写`CopyConstructible`。）

然后似乎`template`添加了重载`map`，`multimap`但没有意识到它们使`const value_type &`重载变得多余。您可能会考虑提交缺陷报告以删除多余的过载。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-06T09:47:11.447

不同之处在于使用的参考类型。首先

```
std::unordered_map::insert(const value_type&) 
```

使用引用 (C++03)，现在在 (C++11) 中称为左值引用。这需要是常量。`P&&`C++11 引入了不需要是 const 的右值引用。为了允许两者，提供了两个插入函数。

请在 C++11 中的 StackOverflow wrt rvalue References 上查看这个出色的答案，我希望这有助于回答您的问题。

[C++11 中的 T&&（双 & 符号）是什么意思？](https://stackoverflow.com/questions/5481539/what-does-t-mean-in-c11/5481588#5481588)

[正如您所说，可以使用 rvalue-overload 并只传递一个 const lvalue ref，但是 - 请参阅http://msdn.microsoft.com/en-us/library/dd293668.aspx](http://msdn.microsoft.com/en-us/library/dd293668.aspx)中的此文本

> 通过重载函数以获取 const 左值引用或右值引用，您可以编写区分不可修改对象（左值）和可修改临时值（右值）的代码。

-汉内斯

# node.js - Express 3 - 提供静态脚本/样式 - 错误：无法加载资源 (404)

> ID：14721396
> 
> 赞同：1
> 
> 时间：2013-02-06T04:12:00.520
> 
> 标签：node.js, static, webserver, express, http-status-code-404

一般来说，我是节点和服务器端开发的新手，今天开始看它，所以请注意我的问题。我在之前的帖子中寻找过合适的答案，但不知何故，每个建议的解决方案都受到了许多用户的批评。

由于以下错误，我无法提供静态脚本/样式：加载资源失败：服务器响应状态为 404（未找到）

我正在使用快递 3.1.0。

这是我的代码：

应用程序.js

```
var express = require('express');
var app = express();

var routes = require('./routes');

app.configure(function () {
    app.set('view engine', 'jade');
    app.use(express.static(__dirname + '/public'));
});

app.get('/', routes.home);
app.get('/about', routes.about);
app.get('/blog', routes.blog);
app.get('/faq', routes.faq);
app.get('/terms', routes.terms);
app.get('/privacy', routes.privacy);
app.get('/jobs', routes.jobs);
app.get('/press', routes.press);

app.listen(8080); 
```

index.js（路由）

```
exports.home = function(req, res){
    res.render('home', { title: "Home"});
};

exports.about = function(req, res){
    res.render('about', { title: "About" });
};

etc... 
```

布局.jade

```
doctype 5
html
    head
        title= title
        link(rel='stylesheet', href='public/styles/bootstrap.css')
    body
        block content
        br
        a(href='../') Home
        br
        a(href='../about') About
        br
etc... 
```

家玉

```
extends layout

block content
    p Home 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T04:17:26.490

当您设置服务器中间件时，它会在根目录中查找请求，除非另有说明，如果您正在“public/styles”中查找样式表，您只需在“/styles”处请求它，以使中间件响应对 /public 的请求将其更改为

```
app.use('/public', express.static(__dirname + '/public')); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T04:19:16.990

我尝试使用

```
app.use('/public', express.static(__dirname + '/public')); 
```

代替

```
app.use(express.static(__dirname + '/public')); 
```

它奏效了。

然而，根据这篇文章的第一个答案：[express.js not serving my image](https://stackoverflow.com/questions/9813634/express-js-not-serving-my-image)它不被认为是好的。我不明白为什么？还有什么更好的解决方案？

# java - 在 Java 中检查字符串是否为空或 null

> ID：14721397
> 
> 赞同：420
> 
> 时间：2013-02-06T04:12:07.867
> 
> 标签：java

我正在解析 HTML 数据。当要解析的单词不匹配时，`String`可能为空。`null`

所以，我是这样写的：

```
if(string.equals(null) || string.equals("")){
    Log.d("iftrue", "seem to be true");
}else{
    Log.d("iffalse", "seem to be false");
} 
```

当我删除`String.equals("")`时，它无法正常工作。

我以为`String.equals("")`不对。

我怎样才能最好地检查一个空的`String`？

* * *

## 回答 #1

> 赞同：573
> 
> 时间：2013-02-06T04:14:37.147

检查 null 或空或仅包含空格的字符串的正确方法如下：

```
if(str != null && !str.trim().isEmpty()) { /* do your stuffs here */ } 
```

* * *

## 回答 #2

> 赞同：379
> 
> 时间：2013-02-06T04:14:26.817

您可以利用 Apache Commons[`StringUtils.isEmpty(str)`](http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringUtils.html#isEmpty(java.lang.CharSequence))来检查空字符串并`null`优雅地处理。

例子：

```
System.out.println(StringUtils.isEmpty("")); // true
System.out.println(StringUtils.isEmpty(null)); // true 
```

Google Guava 也提供了一个类似的，可能更容易阅读的方法： [`Strings.isNullOrEmpty(str)`](https://google.github.io/guava/releases/19.0/api/docs/com/google/common/base/Strings.html#isNullOrEmpty(java.lang.String)).

例子：

```
System.out.println(Strings.isNullOrEmpty("")); // true
System.out.println(Strings.isNullOrEmpty(null)); // true 
```

* * *

## 回答 #3

> 赞同：100
> 
> 时间：2013-02-06T04:28:38.280

您可以使用 Apache commons-lang

`StringUtils.isEmpty(String str)` - 检查字符串是否为空 ("") 或 null。

或者

`StringUtils.isBlank(String str)` - 检查字符串是否为空格、空 ("") 或 null。

后者考虑一个由空格或特殊字符组成的字符串，例如“”也是空的。请参阅 java.lang.Character.isWhitespace API

* * *

## 回答 #4

> 赞同：35
> 
> 时间：2014-05-13T12:28:53.183

```
import com.google.common.base.Strings;

if(!Strings.isNullOrEmpty(String str)) {
   // Do your stuff here 
} 
```

* * *

## 回答 #5

> 赞同：33
> 
> 时间：2014-05-13T13:07:14.037

这样您可以检查字符串是否不为空且不为空，同时考虑空格：

```
boolean isEmpty = str == null || str.trim().length() == 0;
if (isEmpty) {
    // handle the validation
} 
```

# python - IntelliJ IDEA 似乎不支持 Django 框架

> ID：14721400
> 
> 赞同：4
> 
> 时间：2013-02-06T04:12:14.593
> 
> 标签：python, django, ide, intellij-idea

Django 框架未在 IntelliJ IDEA 版本比较网站中列出。我打算购买这个漂亮的 IDE，但前提是它像 PyCharm 一样真正支持 Django。

查看他们的网站，它似乎不支持它......

[http://www.jetbrains.com/idea/features/editions_comparison_matrix.html](http://www.jetbrains.com/idea/features/editions_comparison_matrix.html)

它支持还是不支持？那为什么不上市呢？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T06:10:50.433

IntelliJ IDEA Ultimate 支持 Django 框架。我们将尽快修复此页面。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-06T06:14:06.063

这可能是一个站点错误，最好与他们一起处理，但是是的，它*确实*支持它。这是来自 IDEA Ultimate 11 的屏幕截图（对于 12 仍然有效）：

![在 IDEA Ultimate 中确认 Django。](../Images/2f260e8bc3f32fef1c192e194e73da47.png)

# python - 确定空列表条目是否“连续”的 Pythonic 方法

> ID：14721406
> 
> 赞同：45
> 
> 时间：2013-02-06T04:13:14.723
> 
> 标签：python, list, null, slice

**我正在寻找一种方法来轻松确定列表中的所有非 None 项是否都出现在单个连续切片中。** 我将使用整数作为非 None 项的示例。

例如，该列表`[None, None, 1, 2, 3, None, None]`满足我对连续整数条目的要求。相比之下，`[1, 2, None, None, 3, None]`不是连续的，因为整数之间没有 None 条目 **。**

更多示例以使这一点尽可能清楚。

**连续**：
`[1, 2, 3, None, None]`
`[None, None, 1, 2, 3]`
`[None, 1, 2, 3, None]`

**不连续**：
`[None, 1, None, 2, None, 3]`
`[None, None, 1, None, 2, 3]`
`[1, 2, None, 3, None, None]`

我的第一种方法是使用变量来跟踪我们是否遇到过`None`，以及我们是否遇到过`int`尚未——这最终会产生高度嵌套且非常难以遵循的一系列 if/else嵌入在 for 循环中的语句。（除了丑陋之外，我承认我并没有让它在每种情况下都能正常工作）。

任何人都知道一种更简单的方法来确定列表中的非无项是否出现在单个连续切片中？

* * *

## 回答 #1

> 赞同：44
> 
> 时间：2013-02-06T04:41:02.770

```
def contiguous(seq):
    seq = iter(seq)
    all(x is None for x in seq)        # Burn through any Nones at the beginning
    any(x is None for x in seq)        # and the first group
    return all(x is None for x in seq) # everthing else (if any) should be None. 
```

这里有几个例子。您可以使用`next(seq)`从迭代器中获取下一项。我会在每个之后放置一个指向下一个项目的标记

示例1：

```
seq = iter([None, 1, 2, 3, None])        #  [None, 1, 2, 3, None]
                                         # next^
all(x is None for x in seq)            
                                         #        next^
any(x is None for x in seq)            
                                         #                    next^ (off the end)
return all(x is None for x in seq)       # all returns True for the empty sequence 
```

示例2：

```
seq = iter([1, 2, None, 3, None, None])  #    [1, 2, None, 3, None, None]
                                         # next^
all(x is None for x in seq)            
                                         #    next^
any(x is None for x in seq)            
                                         #             next^  
return all(x is None for x in seq)       # all returns False when 3 is encountered 
```

* * *

## 回答 #2

> 赞同：25
> 
> 时间：2013-02-06T04:20:52.280

很好`itertools.groupby`的救援：

```
from itertools import groupby

def contiguous(seq):
    return sum(1 for k,g in groupby(seq, lambda x: x is not None) if k) == 1 
```

给

```
>>> contiguous([1,2,3,None,None])
True
>>> contiguous([None, 1,2,3,None])
True
>>> contiguous([None, None, 1,2,3])
True
>>> contiguous([None, 1, None, 2,3])
False
>>> contiguous([None, None, 1, None, 2,3])
False
>>> contiguous([None, 1, None, 2, None, 3])
False
>>> contiguous([1, 2, None, 3, None, None])
False 
```

[编辑]

由于评论中似乎有一些讨论，我将解释为什么我比其他一些方法更喜欢这种方法。

我们试图找出是否存在一组连续的非 None 对象，并且

```
sum(1 for k,g in groupby(seq, lambda x: x is not None) if k) 
```

使用stdlib中的函数计算连续的非None对象的数量，该函数旨在收集连续的组。一看到`groupby`，我们就认为是“连续组”，反之亦然。从这个意义上说，它是自我记录的。这基本上是我的目标的*定义*。

恕我直言，唯一的弱点是它不会短路，这可以修复，但经过思考后，我仍然更喜欢它，因为它使用了我喜欢的原语——“计算连续非无组的数量” - 我更喜欢简单地“尽快告诉我是否有多个连续的非无组”。

实现最后一个的许多方法都依赖于对问题的巧妙观察，例如“如果只有一组连续的非无对象，那么如果我们扫描直到找到第一个非无对象，然后扫描对象直到我们找到第一个非 None 组（如果存在），那么剩下的是否为 None 给了我们答案。” （或者类似的东西，这是我的问题的一部分：我必须考虑一下。）对我来说，这感觉就像使用有关问题的“实施细节”来解决它，并专注于我们可以用来解决的问题的属性它，而不是简单地将问题指定给 Python 并让 Python 完成工作。

正如俗话说的那样，我是一只大脑很少的熊，我喜欢避免变得聪明，因为根据我的经验，这是一条充满失败的路线。

与往常一样，当然，每个人的里程可能会有所不同，而且可能与他们的聪明程度成正比。

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2013-02-06T04:21:17.717

你可以使用类似的东西`itertools.groupby`：

```
from itertools import groupby

def are_continuous(items):
    saw_group = False

    for group, values in groupby(items, lambda i: i is not None):
        if group:
            if saw_group:
                return False
            else:
                saw_group = True

    return True 
```

这只会迭代直到它看到一个组两次。我不确定您是否考虑`[None, None]`，因此请根据您的需要进行调整。

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2013-02-06T04:21:27.897

这可能不是最好的方法，但您可以查找第一个非 None 条目和最后一个`non-None`条目，然后检查切片是否存在`None`. 例如：

```
def is_continuous(seq):
    try:
        first_none_pos = next(i for i,x in enumerate(seq) if x is not None)
        #need the or None on the next line to handle the case where the last index is `None`.
        last_none_pos = -next(i for i,x in enumerate(reversed(seq)) if x is not None) or None
    except StopIteration: #list entirely of `Nones`
        return False
    return None not in seq[first_none_pos:last_none_pos]

assert is_continuous([1,2,3,None,None]) == True
assert is_continuous([None, 1,2,3,None]) == True
assert is_continuous([None, None, 1,2,3]) == True
assert is_continuous([None, 1, None, 2,3]) == False
assert is_continuous([None, None, 1, None, 2,3]) == False
assert is_continuous([None, 1, None, 2, None, 3]) == False
assert is_continuous([1, 2, None, 3, None, None]) == False 
```

这适用于任何序列类型。

* * *

## 回答 #5

> 赞同：7
> 
> 时间：2013-02-06T10:44:18.633

使用序列元素的自然方式是使用`dropwhile`：

```
from itertools import dropwhile
def continuous(seq):
    return all(x is None for x in dropwhile(lambda x: x is not None,
                                            dropwhile(lambda x: x is None, seq))) 
```

我们可以在没有嵌套函数调用的情况下表达这一点：

```
from itertools import dropwhile
def continuous(seq):
    core = dropwhile(lambda x: x is None, seq)
    remainder = dropwhile(lambda x: x is not None, core)
    return all(x is None for x in remainder) 
```

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2013-02-06T12:11:53.290

一个班轮：

```
contiguous = lambda l: ' ' not in ''.join('x '[x is None] for x in l).strip() 
```

真正的工作是由`strip`函数完成的。如果剥离的字符串中有空格，则它们不是前导/尾随。该函数的其余部分将列表转换为字符串，每个字符串都有一个空格`None`。

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2013-02-06T18:10:20.083

我做了一些分析以将@gnibbler 的方法与 groupby 方法进行比较。@gnibber 的方法始终更快，尤其是。对于更长的列表。例如，对于长度为 3-100 的随机输入，我看到大约 50% 的性能增益，有 50% 的机会包含单个 int 序列（随机选择），否则包含随机值。测试代码如下。我穿插了这两种方法（随机选择先使用哪一种）以确保消除任何缓存效果。基于此，我想说虽然 groupby 方法更直观，但如果分析表明这是要优化的整体代码的重要部分，@gnibber 的方法可能是合适的——在这种情况下，应该使用适当的注释来指示使用 all/any 到消费者迭代器值的情况。

```
from itertools import groupby
import random, time

def contiguous1(seq):
    # gnibber's approach
    seq = iter(seq)
    all(x is None for x in seq)        # Burn through any Nones at the beginning
    any(x is None for x in seq)        # and the first group
    return all(x is None for x in seq) # everthing else (if any) should be None.

def contiguous2(seq):
    return sum(1 for k,g in groupby(seq, lambda x: x is not None) if k) == 1

times = {'contiguous1':0,'contiguous2':0}

for i in range(400000):
    n = random.randint(3,100)
    items = [None] * n
    if random.randint(0,1):
        s = random.randint(0,n-1)
        e = random.randint(0,n-s)
        for i in range(s,e):
            items[i] = 3
    else:
        for i in range(n):
            if not random.randint(0,2):
                items[i] = 3
    if random.randint(0,1):
        funcs = [contiguous1, contiguous2]
    else:
        funcs = [contiguous2, contiguous1]
    for func in funcs:
        t0 = time.time()
        func(items)
        times[func.__name__] += (time.time()-t0)

print
for f,t in times.items():
    print '%10.7f %s' % (t, f) 
```

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2013-02-06T17:57:12.833

这是一个受 numpy 启发的解决方案。获取所有非空元素的数组索引。然后，将每个索引与其后面的索引进行比较。如果差值大于 1，则非空值之间存在空值。如果没有下一个索引大于 1 的索引，则没有间隙。

```
def is_continuous(seq):
    non_null_indices = [i for i, obj in enumerate(seq) if obj is not None]
    for i, index in enumerate(non_null_indices[:-1]):
        if non_null_indices[i+1] - index > 1:
            return False
    return True 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2013-02-06T05:50:19.583

这个算法有一些缺点（它从列表中删除项目）。但这是一个解决方案。

基本上，如果您`None`从开始和结束中删除所有连续的。如果您`None`在列表中找到一些整数，则整数不是连续形式。

```
def is_continuous(seq):
    while seq and seq[0] is None: del seq[0]
    while seq and seq[-1] is None: del seq[-1]

    return None not in seq

assert is_continuous([1,2,3,None,None]) == True
assert is_continuous([None, 1,2,3,None]) == True
assert is_continuous([None, None, 1,2,3]) == True
assert is_continuous([None, 1, None, 2,3]) == False
assert is_continuous([None, None, 1, None, 2,3]) == False
assert is_continuous([None, 1, None, 2, None, 3]) == False
assert is_continuous([1, 2, None, 3, None, None]) == False 
```

然而，小代码如何变得邪恶的另一个例子。

我希望有一种`strip()`方法可用于`list`.

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2013-02-16T16:06:15.283

> 我的第一种方法是使用变量来跟踪......
> 
> ...这最终导致高度嵌套且非常难以遵循嵌入在 for 循环中的一系列 if/else 语句...

不！实际上你只需要一个变量。用你的方法从有限状态机（FSM）的角度思考这个问题将导致一个非常好的解决方案。

我们称之为状态`p`。起初，`p`是 0。然后我们开始在状态之间行走。

![密克罗尼西亚联邦](../Images/df8493385afab491ccc235ea5de5d69e.png)

当检查列表中的所有元素并且仍然没有失败时，答案是`True`.

一种在字典中编码翻译表的版本

```
def contiguous(s, _D={(0,0):0, (0,1):1, (1,0):2, (1,1):1, (2,0):2, (2,1):3}):
    p = 0
    for x in s:
        p = _D[p, int(x is not None)]
        if p >= 3: return False
    return True 
```

另一个使用 if 语句的版本：

```
def contiguous(s):
    p = 0
    for x in s:
        if x is None and p == 1 or x is not None and (p == 0 or p == 2):
            p += 1
        if p >= 3: return False
    return True 
```

所以我的观点是使用`if`并且`for`仍然是pythonic。

## 更新

我找到了另一种编码 FSM 的方法。我们可以将转换表打包成一个 12 位整数。

```
def contiguous(s):
    p = 0
    for x in s:
        p = (3684 >> (4*p + 2*(x!=None))) & 3
        if p >= 3: return False
    return True 
```

这里的幻数 3684 可以通过以下方式获得：

```
 _D[p,a]     3  2  1  2  1  0
         p      2  2  1  1  0  0
         a      1  0  1  0  1  0
bin(3684) = 0b 11 10 01 10 01 00 
```

可读性不如其他版本，但它更快，因为它避免了字典查找。第二个版本和这个一样快，但是这种编码思想可以推广到解决更多问题。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2019-07-29T12:32:42.320

这是一种仅使用 numpy 的方法：

```
a = np.array([1, 2, 3, np.nan, 4, 5, np.nan, 6, 7])

# This returns indices of nans
# eg. [[3], [6]]
# use .squeeze() to convert to [3, 6]
aa = np.argwhere(a != a).squeeze()

# use a diff on your array , if the nans
# are continuous, the diff will always be 1
# if not, diff will be > 1 , and using any() will return True
any(np.diff(aa) > 1) 
```

# multithreading - Powershell 多线程在 cmd.exe 上不起作用

> ID：14721412
> 
> 赞同：1
> 
> 时间：2013-02-06T04:14:01.810
> 
> 标签：multithreading, powershell, cmd

我需要使用多线程在 powershell 中运行一些代码，我测试了一个简单的代码片段，它在 powershell 控制台上运行良好。但是，当我尝试在 cmd.exe 上运行时，代码没有执行，也没有抛出错误，想知道发生了什么？如果有人帮助你。

示例代码如下

```
$throttleLimit = 10

$iss = [system.management.automation.runspaces.initialsessionstate]::CreateDefault()
$Pool = [runspacefactory]::CreateRunspacePool(1, $throttleLimit, $iss, $Host)
$Pool.Open()

$ScriptBlock = {
param($id)
Start-Sleep -Seconds 2
Write-Host "Done processing ID $id"
[System.Console]::WriteLine("Done processing ID $id")
}

for ($x = 1; $x -le 40; $x++) {
$powershell = [powershell]::Create().AddScript($ScriptBlock).AddArgument($x)
$powershell.RunspacePool = $Pool
$handle = $powershell.BeginInvoke()
} 
```

我的批处理文件代码如下

```
powershell -Command .\multiT.ps1 2>&1 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:51:35.310

在 ISE 中，脚本在线程的输出开始出现之前完成。我添加 `start-sleep -sec 10` 到代码的末尾，现在我从 cmd 获得输出。但是，由于某种原因，输出加倍（例如，每个线程我得到 2 行）。

# dns - EC2 上的 RabbitMQ 集群：主机名问题

> ID：14721413
> 
> 赞同：1
> 
> 时间：2013-02-06T04:14:23.183
> 
> 标签：dns, amazon-web-services, amazon-ec2, rabbitmq

我想在 EC2（amazon linux）上建立一个 3 节点的 Rabbit 集群。我们希望实现恢复，因此如果我们丢失了一台服务器，它可以自动被另一台新服务器替换。我们可以使用默认主机名 (ip-xx-xx-xx-xx) 轻松手动设置集群，以便代理 ID 为 rabbit@ip-xx-xx-xx-xx。这是因为主机名可以通过网络解析。

问题是：如果我们丢失/重新启动服务器，此主机名将更改，从而使集群无效。我们没有运气设置自定义[静态主机名](http://karlgrz.com/rabbitmq-highly-available-queues-and-clustering-using-amazon-ec2/)，因为集群中的其他机器无法解析它们；那是那篇文章中唯一没有意义的部分。

有没有人通过恢复实现在 EC2 上完成 RabbitMQ 集群？任何建议表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T23:17:47.280

您可以在外部 DNS 服务中为这三个框创建三个 A 记录，并在配置中使用它们。例如，rabbit1.alph486.com、rabbit2.alph486.com 和 rabbit3.alph486.com。这些甚至可能是 ec2 私有 IP 地址。如果所有的盒子都在同一个地区，它会更快更便宜。如果您丢失了一个盒子，只需更新 DNS 记录。

此外，您可以为这三个盒子分配一个弹性 IP。然后，当您丢失一个盒子时，您需要做的就是将弹性 IP 分配给它的替代品。

当然，如果您有少量客户端，您可以在每个盒子上的 /etc/hosts 文件中添加条目并根据需要进行更新。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T16:02:56.947

@Chrskly 给出了 Rabbit 社区普遍共识的好答案：

*   我听到的主要是处理 DNS 或识别其他服务器的初始化脚本。
*   如果没有 DNS 或主机名别名的帮助，我们将无法使用弹性 IP，因为亚马逊上的内部 IP/DNS 仍在轮换，并且保持静态的公共 IP/DNS 名称不能用作 rabbit 的主机名，除非别名正确。
*   通过脚本进行主机文件操作也是一种选择。这需要附带一个脚本，该脚本可以在启动时识别其他服务器的 DNS，因此在使事情更加“固态”配置方面不会节省太多工作。

我在做什么：

由于 DNS 方面的一些限制，我选择使用引导脚本来初始化机器并使用*在启动时分配的默认内部 dns*与任何其他可用机器进行集群。如果我们丢失了一台机器，就会出现一台新机器，准备 rabbit 并查找要集群的机器的 DNS 名称。然后它将从集群中删除死节点以进行内务处理。

我在 Python 中使用了一些自制的初始化脚本。但是，这可以通过 Chef/Puppet 之类的工具轻松完成。

**更新：来自文档的详细信息**

> 从：
> 
> [http://www.rabbitmq.com/ec2.html](http://www.rabbitmq.com/ec2.html)
> 
> 主机名问题
> 
> RabbitMQ 使用系统的当前主机名命名数据库目录。如果主机名更改，则会创建一个新的空数据库。为避免数据丢失，设置固定且可解析的主机名至关重要。例如：
> 
> sudo -s #成为root
> 
> 回声“兔子”> /etc/主机名
> 
> 回声“127.0.0.1 兔子”>>/etc/hosts
> 
> 主机名 -F /etc/主机名

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-28T09:12:18.553

从：

[http://www.rabbitmq.com/ec2.html](http://www.rabbitmq.com/ec2.html)

**主机名问题**

RabbitMQ 使用系统的当前主机名命名数据库目录。如果主机名更改，则会创建一个新的空数据库。为避免数据丢失，设置固定且可解析的主机名至关重要。例如：

sudo -s #成为root

回声“兔子”> /etc/主机名

回声“127.0.0.1 兔子”>>/etc/hosts

主机名 -F /etc/主机名

# c# - Dataflow 中的嵌套块

> ID：14721416
> 
> 赞同：1
> 
> 时间：2013-02-06T04:14:36.443
> 
> 标签：c#, .net, task-parallel-library, tpl-dataflow

我可以在 TPL 数据流中的其他块中调用块吗？这是一种好习惯吗？因此，如果我正在处理包含 4 个通道（R、G、B、A）的图像层，ProcessLayer 块会将所有 4 个通道输入到 ProcessChannel 块中，然后在完成后对输出进行处理。这是犹太洁食还是我应该尝试将块拆分，以便 ProcessLayer 输出 4 个通道，而不是在其内部发布每个通道块？

上下文：我正在使用自定义解析器处理 PSD 图像文件，该解析器是图层->通道图。同步地，我遍历每一层，遍历每个通道。说 PSD 的大小有时是 500mb+，这需要很长时间，所以我决定尝试 TPL Dataflow。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T02:13:35.127

数据流块理想地排列在链中，它们之间有链接。但是，当这对您不起作用时，将一个块的主体发布到伪链中的“后续”块是完全可以的。

# javascript - 幻灯片放映，一次预加载一个并延迟

> ID：14721421
> 
> 赞同：0
> 
> 时间：2013-02-06T04:14:44.240
> 
> 标签：javascript, jquery, image, preload

我想要在我正在开发的页面中显示幻灯片，但它包含很多图像，总大小超过 15 MB。因此，在幻灯片开始之前预加载所有图像是无法管理的。我希望幻灯片淡入并停留 5 秒钟。我希望在显示前一个图像时预加载下一个图像。图片有不同的尺寸，所以加载后下一张图片不能隐藏在上一张之后。有什么帮助吗？我试过这段代码但没有成功：

```
var slidesImages = $('.slide_list img');
slidesImages.hide();
function loadMyImage(){

var image = slidesImages.eq(0);
var image_src = image.attr('data-src');

$('<img>').load(function(){

    $(".slide").hide().attr('src', image_src).fadeIn("slow");
    if(i<slidesImages.length) {
        slidesImages.splice(0, 1);
    } else {
        clearInterval(interval);
    }

}).attr('src',image_src);

}
var interval = window.setInterval(loadMyImage(), 5000); 
```

和html：

```
<div align="center"><img class="slide" src="imagens/loading.gif"></div>
<ul class="slide_list">
    <li><img data-src='/zenphoto/albums/pag_inicial_slideshow/20130102_164730.jpg' src='imagens/loading.gif' alt='' title='' height='300'></li>
    <li><img data-src='/zenphoto/albums/pag_inicial_slideshow/20130102_161616-2.jpg' src='imagens/loading.gif' alt='' title='' height='300'></li>
    <li><img data-src='/zenphoto/albums/pag_inicial_slideshow/20130102_161048.jpg' src='imagens/loading.gif' alt='' title='' height='300'></li>
    <li><img data-src='/zenphoto/albums/pag_inicial_slideshow/20130102_154523.jpg' src='imagens/loading.gif' alt='' title='' height='300'></li>
    <li><img data-src='/zenphoto/albums/pag_inicial_slideshow/20130102_152713.jpg' src='imagens/loading.gif' alt='' title='' height='300'></li>
    ...                 
</ul> 
```

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-24T09:54:10.397

我已经对您的代码进行了一些测试，进行了一些更改并开始工作。

```
function loadMyImage(obj){

        var image = obj.eq(0);
        var image_src = $(image).attr('data-src');

        $('<img>').load(function(){

            $(".slide").hide().attr('src', image_src).fadeIn("slow");
            if(obj.length) {
                obj.splice(0, 1);
            } else {
                window.clearInterval(interval);
            }

        }).attr('src',image_src);

}

$(window).load(function () {
    var slidesImages = $('.slide_list img');
    slidesImages.hide();
            var interval = window.setInterval(function () { loadMyImage(slidesImages); }, 2000);
}); 
```

# c - C中使用双向链表的分段错误

> ID：14721423
> 
> 赞同：0
> 
> 时间：2013-02-06T04:14:56.160
> 
> 标签：c, sorting, data-structures, linked-list, segmentation-fault

我在这里用 .h 原型编写了一个双向链表的实现，一切都运行良好，直到我开始在终端中输入值。输入第二个值后出现分段错误，但是，如果我只使用 1 个值，它会正常执行。我已经经历了几次，但是，我找不到我的错误。你们能帮我找出我收到错误的原因吗？

这是.h文件：

```
#include <stdio.h>
typedef struct node Node;

struct node
{
    int d;
    Node *link;
}*head,*current,*prev;

int num_nodes;

void linked_list_init(int data);
void linked_list_sort();
void linked_list_print(); 
```

这是 .c 文件：

```
#include "link.h"
#include <stdio.h>
#include <malloc.h>
#include <stdlib.h>

void main(){

    int n,e,i;
    printf("How many numbers do you want to sort: ");
    scanf("%d",&e);
    for(i=0;i<e;i++){
        printf("Enter number: ");
        scanf("%d",&n);
        linked_list_init(n);
    }
    linked_list_sort();
    printf("The sorted numbers are: ");
    linked_list_print();
}

void linked_list_init(int data){
    Node *prev=0,*next=0;

    current=(Node*)malloc(sizeof(Node));    
    if(head==0)
    {
        head=current;
        current->d=data;
        current->link=0;
        prev=current;

    }
    else{
        current->d=data;
        current->link=0;
        prev->link=current;
        prev=current;
    }
    }

void linked_list_sort(){
    int i,j;
    Node *prev=0,*next=0;

    current=head;
    prev=head;
    next=head->link;

    for(i=0;i<num_nodes-1;i++)
    {
        for(j=0;j<num_nodes-i-1;j++)
        {
            if(current->d>next->d)
            {
                current->link=next->link;
                next->link=current;
                if(current==head)
                {
                    head=next;prev=next;
                }
                else
                {
                    prev->link=next;prev=next;
                }
                if(next!=0) //check whether final node is reached
                    next=current->link;

            }
            else //move each node pointer by one position
            {
                prev=current;
                current=next;
                next=current->link;
            }

        }
        //next iteration
        current=head;
        prev=head;
        next=current->link;
    }

}

void linked_list_print(){
    current=head;
    while(current!=0){
        printf("%d ",current->d);
        current=current->link;
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T04:18:04.033

问题是您在函数中使用局部声明来掩盖全局变量。这意味着`prev`函数中*的*变量与全局变量不同`prev`。

除此之外，您不应该将变量定义放在头文件中，因为如果头文件包含在多个文件中，它们会相互冲突。

还有另一个小错误，即在将新节点插入列表时不会增加计数器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T05:16:14.140

无需初始化 head ，`0`因为在您的情况下，您已经在头文件中全局声明了它（尽管在头文件中声明变量不是一个好习惯）。这里的问题是您正在重新定义`prev`节点 `void linked_list_init(int data)`功能。`prev`只需从那里删除节点，一切都会正常工作。

尖端：

->在文件中声明`head`, `prev`,`current`节点。`.c`

-> 使用`NULL`代替，`0` 甚至你可以使用`(void *) 0`代替简单`0`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T04:24:22.447

每次调用linked_list_init 函数时，您似乎都在创建和初始化*prev 和*current。因此，在您输入第二个值后，第二个 if 循环正在使用 prev，它实际上已设置为 0。

我认为您要做的是使用 *prev、*head 和 *current 作为全局变量（因为您已在头文件中声明了它们）。只需使用`extern`在源文件中声明它们就可以了。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T05:07:32.373

程序中使用的全局变量未初始化，因此容易产生垃圾值。我还建议您的节点使用以下定义

```
struct node {
    int d;
    node *llink; // Left Link
    node *rlink; // Right Link
};
typedef struct node* Node;
Node head = NULL; // Head node 
```

还

```
void linked_list_init(int data) {

    Node newnode = (Node) malloc(sizeof (Node));
    newnode->d = data;

    Node curr;

    if (head == NULL) {

        newnode->llink = NULL;
        newnode->rlink = NULL;
        head = newnode;

    } else {
        curr = head;
        while (curr->rlink) {
            curr = curr->rlink;
        }
        curr->rlink = newnode;
        newnode->rlink = NULL;
        newnode->llink = curr;       
    }
} 
```

以上将继续向列表末尾添加元素。

您可以按如下方式轻松打印数据：

```
void linked_list_print() {
    Node curr;
    curr = head;
    while (curr) {
        printf("Element Data : %d", curr->d);
        curr = curr->rlink;
    }
} 
```

# vi - vi编辑器返回文件开头是否有捷径？

> ID：14721424
> 
> 赞同：109
> 
> 时间：2013-02-06T04:14:59.470
> 
> 标签：vi, shortcut

通过 vi 编辑器读取长文件时，如果确实需要这样做，可以通过一些捷径回到文件的开头。即使`ctrl`+`B`有时也太慢了。有人知道这样的工具吗？

* * *

## 回答 #1

> 赞同：194
> 
> 时间：2013-02-06T04:41:30.977

使用 vi 打开文件后

1) 您可以按 `Shift`+`g` 转到文件末尾

和

2)**按`g`两次转到文件开头**

**注意： -** g 区分大小写（感谢@Ben 指出）

* * *

## 回答 #2

> 赞同：76
> 
> 时间：2013-02-06T04:17:20.227

使用`:<line number>`您可以导航到任何一行，从而`:1`将您带到第一行。

* * *

## 回答 #3

> 赞同：24
> 
> 时间：2017-05-26T06:31:12.187

## 转到文件底部

*   `G`
*   `Shift`+`g`

## 转到文件顶部

*   `g`+`g`

* * *

## 回答 #4

> 赞同：21
> 
> 时间：2014-07-29T09:53:45.380

键入`1`+ `G`，它将带您到文件的开头。相反，`G`会将您带到文件的末尾。

* * *

## 回答 #5

> 赞同：15
> 
> 时间：2019-02-25T08:32:02.263

好吧，您必须转到文件的开头和结尾`[[`。`]]`这适用于 vi。

* * *

## 回答 #6

> 赞同：13
> 
> 时间：2018-09-25T10:12:53.663

**到文件结尾：** 按`ESC`

1）类型资本`G`（Capital G）

2）按`shift`+ `g`（小g）

**到文件顶部有以下方法：** 按`ESC`

1）按`1G`（大写G）

2）按`g``g`（小g）或`1``g``g`

3）你可以跳转到特定的行号，例如想去1行号，按`1`+`G`

* * *

## 回答 #7

> 赞同：8
> 
> 时间：2017-08-16T16:52:01.880

在命令模式下：`:`+`1` 将带你到第一行

* * *

## 回答 #8

> 赞同：5
> 
> 时间：2018-03-09T17:17:49.690

输入会将`0%`您带到开始。

`100%`带你到最后。

`50%`带你走一半。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2019-10-17T00:09:28.757

我一直使用`Ctrl`+ `Home`（文件开头）和`Ctrl`+ `End`（文件结尾）。

适用于插入和导航模式。

# zend-framework2 - ZF2 数据库对象

> ID：14721425
> 
> 赞同：0
> 
> 时间：2013-02-06T04:15:06.883
> 
> 标签：zend-framework2

我有一个需要从中传递自定义数据库查询的 ZF2 应用程序。我已经在 local.php 和 global.php 中设置了我的数据库凭据。从一个类中，我如何获得一个数据库对象？

这是我的 global.php：

```
return array(
    'db' => array(
        'driver' => 'Pdo',
        'dsn' => 'mysql:dbname=database_name;host=localhost',
        'driver_options' => array(
            PDO::MYSQL_ATTR_INIT_COMMAND => 'SET NAMES \'UTF8\''
        ),
    ),
    'service_manager' => array(
        'factories' => array(
            'Zend\Db\Adapter\Adapter' => 'Zend\Db\Adapter\AdapterServiceFactory',
        ),
    ),
); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T09:34:21.933

获取数据库对象

在 Module.php 中

```
public function getServiceConfig()
{
    return array(
        'factories' => array(
            'db_adapter' =>  function($sm) {
                $config = $sm->get('Configuration');
                return new \Zend\Db\Adapter\Adapter($config['db']);
            },
            'xyz_class_name' => function ($sm) {
                return new \WhatEver\Model\xyzMapper($sm->get('db_adapter'));
            },
        ),
    );
} 
```

在 xyzMapper 中

```
namespace WhatEver\Model;

use Zend\Db\Adapter\Adapter;

class xyzMapper
{
    protected $adapter;

    /**
     * Make the Adapter object avilable as local prtected variable
     * @param Adapter $adapter - DB PDO PgSQL conn
     */
    public function __construct(Adapter $adapter = null)
    {
        $this->adapter = $adapter;
    }

    /**
     * @return result object
     */
    public function getdata()
    {
        $sql = "SELECT * FROM tbl";

        $statement = $this->adapter->query($sql);
        return $statement->execute();
    }
} 
```

# javascript - 如何在动力学 js 中创建一个普通的 html5 文本框，而不创建对象“Kinetic.Text”？

> ID：14721435
> 
> 赞同：0
> 
> 时间：2013-02-06T04:15:42.430
> 
> 标签：javascript, html, text, kineticjs

我可以知道是否有任何其他方法可以在**动态 js**画布中创建文本但不使用**Kinetic.Text**？

我在这里找到了一个例子，这就是我需要的：http: [//www.html5canvastutorials.com/kineticjs/html5-canvas-multi-event-binding/](http://www.html5canvastutorials.com/kineticjs/html5-canvas-multi-event-binding/)

```
function writeMessage(messageLayer, message) {
    var context = messageLayer.getContext();
    messageLayer.clear();
    context.font = '18pt Calibri';
    context.fillStyle = 'black';
    context.fillText(message, 10, 25);
  } 
```

但在这种情况下，我们需要将鼠标悬停/触发事件只会显示文本，一旦我删除 onclick/onmouseover 功能，文本将不会显示。我需要可以直接显示文本的东西。

谢谢你的帮助：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T15:53:35.110

[http://jsfiddle.net/EeBym/1/](http://jsfiddle.net/EeBym/1/)

我真的不能告诉你在找什么，因为你没有解释清楚，但如果你想在页面上添加文本，有多种方法。方法是将一些 JQuery 添加到您的页面和一个输入字段。

```
$('#words').keyup(function(){
    writeMessage(messageLayer, $(this).val());      
}); 
```

然后您可以将输入字段绑定到修改消息层的函数。

如果您不希望文本消失，只需防止它被重置或清除即可。

# ios - ReadProcessMemory WriteProcessMemory iOS

> ID：14721441
> 
> 赞同：0
> 
> 时间：2013-02-06T04:16:04.137
> 
> 标签：ios, jailbreak, readprocessmemory

是否可以在 iOS 中管理与自身无关的进程的内存？

我的意思是能够在 iOS 应用程序上读取和写入字节，例如 Windows 的 ReadProcessMemory 和 WriteProcessMemory 函数。

我知道我必须在 Objective-C 中编程，但我不知道这些函数是否存在于其中，或者 iOS 的库中是否有它们。或者类似的东西。

有什么提示吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T04:21:47.287

这绝对会让您被应用商店拒绝，因此它们没有理由存在于 Objective-c 中。如果您不需要将应用提交到应用商店，则需要查看 unix 工具和可能的越狱要求。

# java - java中的管道简单拆分

> ID：14721442
> 
> 赞同：2
> 
> 时间：2013-02-06T04:16:10.330
> 
> 标签：java

与管道一起使用拆分时遇到问题。但与其他角色一起使用时效果很好。做错了什么请帮助我。

```
String s ="H|PONumber1|1|1";
String arr[] = s.split("|");
for(int i=0;i <arr.length;i++ )
  System.out.println("arr["+i+"] : "+arr[i]); 
```

**输出 ：**

```
arr[0] : 
arr[1] : H
arr[2] : |
arr[3] : P
arr[4] : O
arr[5] : N
arr[6] : u
arr[7] : m
arr[8] : b
arr[9] : e
arr[10] : r
arr[11] : 1
arr[12] : |
arr[13] : 1
arr[14] : |
arr[15] : 1 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-06T04:17:23.537

管道被视为正则表达式特殊字符。只需通过它逃脱它`\\|`，你就会好起来的。从[String.split 上的 javadoc](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String%29) ...

> **围绕给定正则表达式**的匹配拆分此字符串。

如果您想安全起见，请始终将您的文本传递给`Pattern.quote(stringToSplitOn)`;

# php - PHP 将秒转换为 MM:DD:HH:MM:SS

> ID：14721443
> 
> 赞同：2
> 
> 时间：2013-02-06T04:16:16.723
> 
> 标签：php, date, math, format, seconds

我需要一些帮助将秒转换为**MM:DD:HH:MM:SS**格式。

我在这里有这段代码：

```
<?php
    // Convert seconds into months, days, hours, minutes, and seconds.
    function secondsToTime($ss) {
    $s = $ss%60;
    $m = floor(($ss%3600)/60);
    $h = floor(($ss%86400)/3600);
    $d = floor(($ss%2592000)/86400);
    $M = floor($ss/2592000);

    return "$M months, $d days, $h hours, $m minutes, $s seconds";
    }
?> 
```

它输出一个例子

> 0 个月 1 天 3 小时 46 分钟 39 秒

我只是希望它像

> 00:01:03:46:39

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T04:23:09.063

从我收集的信息来看，您似乎有兴趣返回一个字符串，其值包含用冒号分隔的两位数字。假设定位不需要改变，你可以做类似下面的事情：

```
<?php
// Prefix single-digit values with a zero.
function ensure2Digit($number) {
    if($number < 10) {
        $number = '0' . $number;
    }
    return $number;
}

// Convert seconds into months, days, hours, minutes, and seconds.
function secondsToTime($ss) {
    $s = ensure2Digit($ss%60);
    $m = ensure2Digit(floor(($ss%3600)/60));
    $h = ensure2Digit(floor(($ss%86400)/3600));
    $d = ensure2Digit(floor(($ss%2592000)/86400));
    $M = ensure2Digit(floor($ss/2592000));

    return "$M:$d:$h:$m:$s";
} 
```

或者，如果您不喜欢管理更多功能的想法，也许这可能更适合您：

```
<?php
// Convert seconds into months, days, hours, minutes, and seconds.
function secondsToTime($ss) {
    $s = $ss%60;
    $m = floor(($ss%3600)/60);
    $h = floor(($ss%86400)/3600);
    $d = floor(($ss%2592000)/86400);
    $M = floor($ss/2592000);

    // Ensure all values are 2 digits, prepending zero if necessary.
    $s = $s < 10 ? '0' . $s : $s;
    $m = $m < 10 ? '0' . $m : $m;
    $h = $h < 10 ? '0' . $h : $h;
    $d = $d < 10 ? '0' . $d : $d;
    $M = $M < 10 ? '0' . $M : $M;

    return "$M:$d:$h:$m:$s";
} 
```

然后调用我们的函数（无论您决定使用哪种方法）：

```
<?php

$ss = 123456;
print secondsToTime($ss);

?> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T04:35:56.313

简单的方法：

```
print date('m:d:h:i:s', $ss); // $ss = seconds 
```

然而，据我所知，这无法按照您想要的方式处理年份，因为它将从 1970 年开始计数。但显然您不需要显示年份。

或者，您可以使用以下格式格式化当前字符串[`(s)printf`](http://php.net/manual/en/function.sprintf.php)：

```
printf('%02d:%02d:%02d:%02d:%02d', $M, $d, $h, $m, $s); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T04:18:33.333

给定所有变量，您可以简单地使用 PHP 构建字符串：

`$str = "$M:$d:$h:$m:$s"`

但是，此代码不会处理前导零。

# java - 当系统时钟达到下午 12 点时调用方法

> ID：14721445
> 
> 赞同：-2
> 
> 时间：2013-02-06T04:16:30.153
> 
> 标签：java, servlets

我想在系统时钟达到下午 12 点时从 servlet 调用一个方法，并且该方法基本上通过电子邮件从数据库向用户发送一些数据。请任何人帮助我如何在 Java Servlet 中实现这一点。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T04:37:40.493

为了在特定时间安排作业，Quartz 提供了最好的 API。您可以根据需要创建一个作业，并创建一个触发器以在下午 12 点调用该作业。只需借助以下链接。 [Quartz 调度器示例](http://www.javacodegeeks.com/2012/07/quartz-2-scheduler-example.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T13:33:28.830

[servlet](https://stackoverflow.com/tags/servlets/info)是不适合这项工作的工具。它旨在对 HTTP 请求采取行动，仅此而已。您只需要一个每天运行一次的后台任务。您不能期望最终用户应该在那个时刻触发 HTTP 请求以触发“后台作业”。

除了许多其他人提到的遗留 Quartz 库（显然挂在遗留 J2EE 时代），您还可以只使用为此提供的标准 Java SE API [`ScheduledExecutorService`](http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ScheduledExecutorService.html)。这需要通过这样的简单方式启动[`ServletContextListener`](http://docs.oracle.com/javaee/6/api/javax/servlet/ServletContextListener.html)：

```
@WebListener
public class Scheduler implements ServletContextListener {

    private ScheduledExecutorService scheduler;

    @Override
    public void contextInitialized(ServletContextEvent event) {
        scheduler = Executors.newSingleThreadScheduledExecutor();
        long millisUntil12PM = calculateItSomehow();
        scheduler.scheduleAtFixedRate(new SendEmail(), millisUntil12PM, 1, TimeUnit.DAYS);
    }

    @Override
    public void contextDestroyed(ServletContextEvent event) {
        scheduler.shutdownNow();
    }

} 
```

类`SendEmail`看起来像这样：

```
public class SendEmail implements Runnable {

    @Override
    public void run() {
        // Do your job here.
    }

} 
```

就这样。无需弄乱传统的第 3 方库。

# snmp4j - 可以为同一个 USM 用户添加不同的身份验证和隐私算法集吗？

> ID：14721448
> 
> 赞同：1
> 
> 时间：2013-02-06T04:17:14.940
> 
> 标签：snmp4j

> 在我的代码中，我正在配置 usm 用户并为 SNMP v3 添加用户。我想以一种同时支持以下算法集的方式配置用户。
> 
> SHA-1 + AES128、SHA-1 + DES、MD5 + AES128、MD5 + DES
> 
> 假设同一个 usm 用户能够同时支持这 4 种组合。现在，当我从管理控制台尝试时，我想选择上述 4 的任意组合，并且 SNMP 代理应该可以工作。
> 
> 注意：我不想添加新的 usm 用户。我希望同一用户同时配置上述 4 种组合。

```
UsmUser user = new UsmUser(new OctetString(m_usmUser),
                         snmpAuthenticationAlgorithm,
                         snmpAuthenticationPassword,
                         snmpPrivacyAlgorithm,
                         snmpPrivacyPassword);
usm.addUser(user.getSecurityName(), user.getLocalizationEngineID(), user); 
```

> 而不是上面的，我想使用类似下面的东西。

```
UsmUser user = new UsmUser(new OctetString(m_usmUser),
                         AuthMD5.ID,
                         snmpAuthenticationPassword,
                         PrivDES.ID,
                         snmpPrivacyPassword);
usm.addUser(user.getSecurityName(), user.getLocalizationEngineID(), user);
user = new UsmUser(new OctetString(m_usmUser),
                         AuthMD5.ID,
                         snmpAuthenticationPassword,
                         PrivAES128.ID,
                         snmpPrivacyPassword);
usm.addUser(user.getSecurityName(), user.getLocalizationEngineID(), user);
user = new UsmUser(new OctetString(m_usmUser),
                         AuthSHA.ID,
                         snmpAuthenticationPassword,
                         PrivAES128.ID,
                         snmpPrivacyPassword);
usm.addUser(user.getSecurityName(), user.getLocalizationEngineID(), user);
user = new UsmUser(new OctetString(m_usmUser),
                         AuthSHA.ID,
                         snmpAuthenticationPassword,
                         PrivDES.ID,
                         snmpPrivacyPassword);
usm.addUser(user.getSecurityName(), user.getLocalizationEngineID(), user); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-02-02T09:45:03.630

SNMPv3 标准不支持在 RFC 3414 定义的 USM 配置中每个 USM 用户使用多个 auth+priv 组合。此限制是由 usmUserTable 的结构和索引引起的。但是，使用 SNMP4J，您可以为每个代理定义多个 USM 实例，并为每个 USM 实例分配其自己的 usmUserTable 实例，并在其自己的 SNMPv3 上下文中注册每个表实例。

尽管这可行，但在 SNMPv3 用户名（如“myUser.AES128”与“myUser.DES”等）中使用安全协议后缀（或前缀）可能更容易理解和实施。

# lamp - 保护非导轨的 livereload

> ID：14721454
> 
> 赞同：0
> 
> 时间：2013-02-06T04:17:23.230
> 
> 标签：lamp, guard, livereload

我目前有一个基于 PHP/MySQL 的站点，我想使用[Guard-livereload](https://github.com/guard/guard-livereload)。但是，[自述文件](https://github.com/guard/guard-livereload/blob/master/README.md)中的所有指标似乎都表明它仅保留给基于 Rails（或更具体地 Rack）的站点。这是真的？有没有办法可以在这个基于 LAMP 的站点中开始使用 Guard-livereload？

PS我以前用过[Guard-Livereload](https://github.com/guard/guard-livereload)。我的问题是我无法将它添加到 Gem 文件以运行 bundle install，正如 PHP/MySQL 站点的文档所述。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-07-05T23:59:09.233

在基于 php 的应用程序中，您将不需要 Gemfile。livereload 插件所需要的只是一个

`guard 'livereload' do ... end`

块内的 Guardfile。

我写了一篇关于如何在 FuelPHP 应用程序中使用的简短[教程。](http://vesselinv.com/livereload-fuelphp/)对于任何其他 php 框架，将要改变的只是 watch 指令。

我没有用 apache 和 nginx 测试它——只用 php 的内置服务器——但我认为只要保护服务器正在运行，Livereload Chrome 扩展连接应该不会有问题。

# bitbucket - 如何在没有项目父目录的情况下推送到 bitbucket.org

> ID：14721457
> 
> 赞同：0
> 
> 时间：2013-02-06T04:17:33.823
> 
> 标签：bitbucket, egit

我用 bitbucket.org 创建了一个远程仓库，例如[https://somebody@bitbucket.org/somebody/test.git](https://somebody@bitbucket.org/somebody/test.git)

当我通过 Eclipse EGit 将本地存储库推送到 bitbucket 存储库时，我将所有项目文件都放在了父目录中，例如[https://somebody@bitbucket.org/somebody/test.git/Test/XXX](https://somebody@bitbucket.org/somebody/test.git/Test/XXX)。但我只希望我的所有项目文件都位于 repo 根目录中，例如[https://somebody@bitbucket.org/somebody/test.git/XXXX](https://somebody@bitbucket.org/somebody/test.git/XXXX)。

我能怎么做？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T02:00:34.380

当您“共享”它时，eGit 会将 eclipse 项目转换为您的 Git 存储库下的文件夹。**这就是 eGit 的工作方式**，所以我认为你的要求不可能使用 eGit。

IMO 最好采用这种方式，因为这种设计允许在同一个 Git 存储库中使用多个项目，这很常见。

# python - 在python中获取点的相邻矩阵

> ID：14721464
> 
> 赞同：0
> 
> 时间：2013-02-06T04:18:09.183
> 
> 标签：python, matrix, point

如果在 2D 中，p(x,y)，我想要一个 3*3 的相邻矩阵：

```
(x-1,y-1), (x,y-1), (x+1,y-1),
...
(x-1,y+1), (x,y+1), (x+1,y+1), 
```

如果在 3D(3*3*3)、4D(3*3*3*3)、...中怎么办？

有更好的功能吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:27:07.190

您也可以使用`itertools.product`，具体取决于您喜欢的输出格式。它会比一种`numpy`方法慢，但我发现它更容易理解：

```
from itertools import product

def adjacent_grid(centre):
    steps = product([-1, 0, 1], repeat=len(centre))
    return (tuple(c+d for c,d in zip(centre, delta)) for delta in steps) 
```

这使

```
>>> list(adjacent_grid((3,)))
[(2,), (3,), (4,)]
>>> list(adjacent_grid((3,3)))
[(2, 2), (2, 3), (2, 4), (3, 2), (3, 3), (3, 4), (4, 2), (4, 3), (4, 4)]
>>> list(adjacent_grid((3,3,3)))
[(2, 2, 2), (2, 2, 3), (2, 2, 4), (2, 3, 2), (2, 3, 3), (2, 3, 4), (2, 4, 2), (2, 4, 3), (2, 4, 4), (3, 2, 2), (3, 2, 3), (3, 2, 4), (3, 3, 2), (3, 3, 3), (3, 3, 4), (3, 4, 2), (3, 4, 3), (3, 4, 4), (4, 2, 2), (4, 2, 3), (4, 2, 4), (4, 3, 2), (4, 3, 3), (4, 3, 4), (4, 4, 2), (4, 4, 3), (4, 4, 4)] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T04:49:12.060

您可以通过在 numpy 中使用广播来获得结果：

```
import numpy as np
def p(*args):
    args = np.array(args)
    idx = np.array([-1, 0, 1])
    a = np.broadcast_arrays(*np.ix_(*(args[:,None] + idx)))
    return np.concatenate([x[..., None] for x in a], axis=-1) 
```

结果形状是 2D 中的 (3,3,2)，3D 中的 (3,3,3,3)，4D 中的 (3,3,3,3,4)：

```
>>> p(3, 8)
array([[[2, 7],
        [2, 8],
        [2, 9]],

       [[3, 7],
        [3, 8],
        [3, 9]],

       [[4, 7],
        [4, 8],
        [4, 9]]]) 
```

# sed - 打印两个文件中的名称

> ID：14721466
> 
> 赞同：-1
> 
> 时间：2013-02-06T04:18:26.323
> 
> 标签：sed, awk

我有两个文件。我想打印两个文件中的名称。

```
file1   

  1dfg   
  4rte
  aabd 
  hjgf

file2

  4rte
  2fgh
  1dfg 
```

期望的输出

```
1dfg
4rte 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T04:27:05.093

单程：

```
$ comm  -12 <(sort file1) <(sort file2)
1dfg
4rte 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T04:27:38.987

尝试

```
cat file1 | grep -Fxf file2 
```

如果你想在没有 grep 搜索突出显示的情况下打印它

```
cat file1 | grep -Fxf file2 | awk '{print $1}' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T05:07:17.753

`grep`可以这样做：

```
grep -f file2 file1 
```

结果：

```
1dfg   
4rte 
```

* * *

但是，`awk`根据空格的重要性，可能更合适：

```
awk 'FNR==NR { a[$0]; next } $0 in a' file2 file1 
```

或者：

```
awk 'FNR==NR { a[$1]; next } $1 in a' file2 file1 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T05:57:36.080

使用 awk 的其他方式

`awk 'FNR==NR{a[$1]+=1;next} a[$1]' file1.txt file2.txt`

# wordpress - 使用 wordpress 检测移动设备

> ID：14721467
> 
> 赞同：1
> 
> 时间：2013-02-06T04:18:29.983
> 
> 标签：wordpress

我是 wordpress 插件开发的新手，但是我如何开发两个简码，即`[MY_SHORTCODE]`和`[MY_SHORTCODE_MOBILE]`，两者都工作正常，但现在我想在其中做一个增强，也就是说，我想编写一个新的简码`detect the device`，如果检测到设备是移动的，而不是我想调用简码，`[MY_SHORTCODE_MOBILE]` 否则我想打电话`[MY_SHORTCODE]`。我怎样才能做到这一点 ？请帮帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T04:22:03.350

你可以通过一个插件[移动探测器来做到这一点](http://wordpress.org/extend/plugins/wp-mobile-detector/)

或者如果你想创建自己的，你可以从使用移动检测库（PHP）开始

[移动检测](http://code.google.com/p/php-mobile-detect/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T10:53:10.537

我知道你的问题是你想在浏览器或移动设备上运行短代码库。

下载用于[移动检测](http://detectmobilebrowsers.com/)代码的 php 文件并在下面的代码中放置您想在哪里运行短代码

```
 <?php
    $useragent=$_SERVER['HTTP_USER_AGENT'];
    if(preg_match('/copy paste mobile detect code here from detectmobilebrowser.php',substr($useragent,0,4)))
    {
    //header('Location: http://detectmobilebrowser.com/mobile');
    // that code run for mobile device
    echo do_shortcode("[MY_SHORTCODE_MOBILE]");
    }
    else{
    // that code run for browser
    echo do_shortcode("[MY_SHORTCODE]");
    }
    ?> 
```

# php - 显示上个月的最后几天php

> ID：14721474
> 
> 赞同：-1
> 
> 时间：2013-02-06T04:19:50.270
> 
> 标签：php, mysql

我搜索了数百万个类似的帖子，但找不到如何让它从 31、30、29、28 等倒数。

我可以让以前的日历块显示 31 日，但仅此而已。我需要它显示上个月的 31 日、30 日、29 日等。

来自 Renku 的更新代码：

```
 //define the variable dayCol
    $dayCol = 0;

    // Print last months' days spots.
    for ($i=0; $i<$leadInDays; $i++) {

    $lastmonth = date('d', strtotime(-$i.' day', strtotime($startDate))); // Days in previous month

    print "<td width=\"14%\" height=\"25%\" class=\"calendar_cell_disabled_middle\">$lastmonth</td>\n ";

    $dayCol++;
} 
```

例子 ：![在此处输入图像描述](../Images/481e52ef6126272d30a5ad36d3bcbb19.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T04:39:17.890

我正在为此编写一个新循环。

```
 <?php

    $StartDate= date("Y-F-d",strtotime("+0 Month"));// get first day of current month

    $num= 10; // how many past days you need from previous month + 1 (to remove current day)

    for ($i=1; $i<$num; $i++) {

    echo $prev= date('Y-m-d', strtotime(-$i.' day', strtotime($StartDate)))."<br />"; //get last days of previous month

}

    ?> 
```

我正在用你的循环重新编写它，

```
<?php

$dayCol = 0;

$leadInDays = 5; // (just for February cuz theres 5 blanks before its the 1st of Feb)

$StartDate= date("Y-F-d",strtotime("+0 Month"));

// Print last months' days spots.
for ($i=1; $i<($leadInDays+1); $i++) {

    $lastmonth = date('d', strtotime(-$i.' day', strtotime($StartDate))); // Days in previous month

    print "<td width=\"14%\" height=\"25%\" class=\"calendar_cell_disabled_middle\">$lastmonth</td>\n ";

    $dayCol++;
}
?> 
```

[在这里](http://writecodeonline.com/php/)测试

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T04:33:09.910

我会`date('t')`用来获取所述月份的天数，然后向后循环：

```
$month = '2013-02-05';

for($i = date('t', strtotime($month)); $i > 0; $i--) {
  ...
} 
```

# lua - 给一个变量一个数字值和字符串值？

> ID：14721476
> 
> 赞同：0
> 
> 时间：2013-02-06T04:19:57.270
> 
> 标签：lua

我试图让一个变量具有数字值和字符串值。

我正在用 Lua 编码，但我不知道该怎么做。可能吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T04:46:30.533

[表。](http://www.lua.org/pil/2.5.html)它们就像一个文件柜，您可以在其中存储任意数量的值，并在给定某种“密钥”的情况下检索它们。在 Lua 中，键可以是任何类型，但最常见的键是数字索引或字符串。

鉴于：

```
local age = 30  -- your number values
local name = 'Fred' -- your string value 
```

在 Lua 中有很多不同的结构方式：

```
local person = { age = 30, name = 'Fred' )
print(person.age, person.name) 
```

* * *

```
local person = { 'Fred', 30 }
print(person[1], person[2])
print(unpack(person)) 
```

* * *

```
local person = { Fred = 30 }
print(person.Fred) 
```

* * *

```
local person = { [30] = 'Fred' }
print(person[30]) 
```

等等等等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T16:33:08.060

So if i use..

```
coal = { name = "Coal", value = 80 } 
```

I can then do this?

```
 userInput = read()

    if userInput == coal.name then
        fuelUse = coal.value        
    end 
```

# networking - Adobe Air 本地网络 P2P

> ID：14721479
> 
> 赞同：0
> 
> 时间：2013-02-06T04:20:20.597
> 
> 标签：networking, air, p2p

是否可以让 Adob​​e Air 应用程序在本地联网但未连接到 Internet 的一组 PC 之间相互通信？从 PC A 发送到 PC B、C、D、E、F 的命令必须非常快，以便所有 PC 同时接收命令并运行该进程。Adobe Air 可以做到这一点吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T07:20:01.210

是的，请确保通过网络连接 PC，您可以使用套接字进行连接。服务器向连接的客户端发送数据。请检查

> [http://robertbak.com/wordpress/2011/10/example-basic-socket-server-in-air/](http://robertbak.com/wordpress/2011/10/example-basic-socket-server-in-air/)

# java - 从 PRAGMA table_info() 获取名称和类型

> ID：14721484
> 
> 赞同：3
> 
> 时间：2013-02-06T04:20:39.800
> 
> 标签：java, android, sqlite

在我的 android 应用程序中，我需要在执行命令后获取`name`并从结果中获取。我怎样才能做到这一点？`type``PRAGMA table_info(table_name)`

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-06T04:26:45.493

就这么简单（`db`是您的`SQLiteDatabase`对象，`tableName`应设置为数据库中正确的表名）：

```
String tableName = ""; // your table name
Cursor c = db.rawQuery("PRAGMA table_info(" + tableName + ")", null);
if (c.moveToFirst()) {
    do {
        System.out.println("name: " + c.getString(1) + " type: " + c.getString(2));
    } while (c.moveToNext());
}
c.close(); 
```

# asp.net - 找不到 HashTable 命名空间 ASP

> ID：14721487
> 
> 赞同：1
> 
> 时间：2013-02-06T04:20:40.713
> 
> 标签：asp.net, c#-4.0

我有一个 test.aspx.cs 文件，我在代码中使用了 HashTable。但是，编译器总是抱怨找不到它的命名空间。我已经添加了 System.Collections; 命名空间，但它仍然显示相同的错误！问题是什么？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:19:50.533

只是一个猜测，但您很可能会像这样实例化哈希表：

```
HashTable table = new HashTable(); 
```

将其更改为：

```
Hashtable table = new Hashtable(); 
```

# backbone.js - Backbone.js 0.9.10 集合获取 JSONP

> ID：14721488
> 
> 赞同：1
> 
> 时间：2013-02-06T04:20:43.870
> 
> 标签：backbone.js

```
var COLLECTION = Backbone.Collection.extend({
    url: "example.com",
    sync: function(method, model, options){
        params = _.extend({
            type: "get",
            url: this.url,
            async: false,
            dataType: "jsonp",
            jsonpCallback : "jsonp_callback",
        },options);

        return $.ajax(params);
    },
    parse:function(response){
        console.log(response);
        return response;
    }
});
var a = new COLLECTION();
var b = new COLLECTION();
$.when(a.fetch(),b.fetch()).done(function(){ console.log('done'); }); 
```

我有两个问题：</p>

1.  在同步函数中，$.ajax(params) 响应`TypeError: a["reset"] is not a function`@0.9.10
2.  使用多个 collection.fetch 有时会发生`a.fetch() or b.fetch() response parse error`

谢谢！！

# php - 使用 if 语句 PHP 获取 URL

> ID：14721495
> 
> 赞同：1
> 
> 时间：2013-02-06T04:21:16.427
> 
> 标签：php

我正在尝试获取 URL 路径并将其保存为变量...

```
$setURL = true;
$getDomain = "http://".$_SERVER['HTTP_HOST'].$_SERVER['REQUEST_URI'];
$getSubdomain = "http://".$_SERVER['HTTP_HOST'].$_SERVER['REQUEST_URI'];

if ($setURL === true) {
    $result = 'http://'.parse_url($getDomain, PHP_URL_HOST) . '/';
    echo 'get domain';
} else {
    $result = 'http://'.parse_url($getSubdomain, PHP_URL_HOST).parse_url($getSubdomain, PHP_URL_PATH);
    echo 'get subdomain';
}

$siteURL = $result; 
```

所以基本上如果我定义了变量 $setURL = true; 它将返回简单域的正确 URL ... [http://domain-name.com](http://domain-name.com)

但是 else 不能像我想的那样工作...... else 那里有子域。所以如果我设置 $setURL = false; 它应该返回以下... [http://domain-name.com/path/](http://domain-name.com/path/)

但不幸的是，它返回的不止于此......它返回我输入的任何内容作为 URL...... [http://domain-name.com/path/something/index.php](http://domain-name.com/path/something/index.php)它将返回所有这些作为 URL！

请帮我解决这个问题，因为我不知道如何做到这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T04:30:08.440

形式上，**子域**位于域名之前。例如，在 中`ftp.debian.us`，**ftp**是子域。

听起来您想要的是 URI 中的第一个路径。您可以使用 PHP 的 explode() 方法来抓取路径中的第一段。

```
$uriparts = explode($_SERVER['REQUEST_URI']) // = '/path/to/somewhere/index.html'
$path = $uriparts[1] // = 'path' 
```

# java - 覆盖 toString 方法并避免冲突

> ID：14721496
> 
> 赞同：0
> 
> 时间：2013-02-06T04:21:17.037
> 
> 标签：java, hash, hashmap, collision, tostring

我想知道我是否覆盖了从对象返回实例之一的 toString 方法，那么它是否更有可能导致冲突？例如，

```
class Student{
   private String name;
   private double gpa;
   public Student(String name, double gpa){
      this.name = name;
      this.gpa = gpa;
   }
   public String toString(){
      return name;
   }
} 
```

所以问题是我想在打印Student对象时显示名称，但是当两个具有相同名称（不同gpa）的不同学生将它们全部存储在HashMap中时会给我带来问题。在不修改或对原始 Student 类进行最小修改的情况下避免碰撞的替代方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T04:26:14.163

鉴于您的标签，您似乎在谈论 HashMap 中的哈希冲突？

`toString()`与HashMap的行为无关。对于可能成为 HashMap 中键的对象，仅有的两个重要方法是`equals(Object)`和`hashcode()`。

此外，HashMap 是冲突安全的，因此您无需关心哈希冲突。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T04:46:03.017

如果你想在基于哈希表的集合（如 HashMap、HashSet 等）中使用你的类，你应该重写并正确实现`hashCode`。与 HashMap 无关。`equals``toString`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T05:19:41.283

HashMap 内部存储在一个表中。键用于标识表索引，因此键类覆盖 hashCode() 非常重要，因为 hashCode 值将用于确定表索引。如果两个不同的键导致相同的哈希码或不同的哈希码映射到同一个表索引，就会发生冲突，这意味着两个不同的条目指向同一个桶位置。如果发生冲突，前一个条目将链接到新的（键，值），因此链表开始。

如果你希望你的学生类被用作键，它覆盖 hashCode() 很重要。尝试确保 hashCode() 返回唯一值以最大程度地减少冲突。如果两个学生有相同的名字，可能你也应该依赖一些 id。在这种情况下，需要使用 name 和 Id 来计算 hashCode。还要确保覆盖 equals()，这在发生冲突时很重要，key.equals() 将有助于识别链表中的键。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T05:33:33.163

java中的默认实现`hashCode`是将其所有变量的值混合在一起并对其进行哈希处理。所以，不管是什么`toString`。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-06T05:24:22.463

也许这会有所帮助：

```
class Student{
    private static AtomicInteger nextUniqueID = new AtomicInteger (0);

    private final int uniqueID = nextUniqueID.getAndIncrement ();
    private String name;
    private double gpa;
    public Student(String name, double gpa){
        this.name = name;
        this.gpa = gpa;
    }
    public String toString(){
        return name + " [" + uniqueID + "]";
    }
} 
```

# c - 未使用 %s 打印字符数组

> ID：14721504
> 
> 赞同：1
> 
> 时间：2013-02-06T04:21:51.547
> 
> 标签：c, arrays, char, base-conversion

1.虽然我试图显示 conv 它没有显示任何内容，但是当我使用下标打印一个元素时，我能够看到内容。
2\. 十进制转二进制、八进制、十六进制的程序

```
#include<stdio.h>
int main() 
{  
    convbase(23,2);  
    return 0;  
}  
int convbase(int num, int base)  
{  
    char conv[33] = {' '};  
    char *ptr = &conv[32];  
    conv[32] = '\0';  
    do  
    {  
            *--ptr = "0123456789ABCDEF"[num % base];  
             num = num/base;  
    }while(num);  
    if(base == 16)  
    {  
        *--ptr = 'x';  
        *--ptr = '0';  
    }  
    if(base == 8)  
    {  
        *--ptr = '0';  
    }  
    printf("Decimal to base %d is :\t%s\n",base,conv);  
    return 0;  
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:40:23.147

您正在从末端向前面填充阵列。在您的示例中，位字符串位于数组元素 27...31 中。因此，第一个元素包含 \0，char 数组将被视为空字符串，不打印任何内容。您可以通过在 print 语句处设置断点来轻松检查这一点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T07:43:34.720

您最有可能假设以下行初始化`conv`为所有空白：

```
char conv[33] = {' '}; 
```

事实**并非**如此。上述代码`conv`的第一个字节设置为空白，所有其他字节设置为`0`. 因此，只有至少有 31 位数字才会打印结果。

您可以考虑使用以下代码来初始化`conv`：

```
char conv[33] = {0};  /* default init: set conv to all zeros */
memset(conv, ' ', sizeof(conv) - 1); /* re-set all but the last to blank */ 
```

这一行：

```
conv[32] = '\0'; 
```

不再需要了。

* * *

我确实同意*Reinhard Männer*的观点，即使用调试器可以帮助您自行发现这一点。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-06T08:20:28.260

改变

`printf("Decimal to base %d is :\t%s\n",base,conv);`

到

`printf("Decimal to base %d is :\t%s\n",base,ptr);`

或者

将内容（ptr - 到字符串末尾）移动到 conv 数组的开头

另一种选择是，而不是从结尾写入，而是`conv`从开始写入，然后在完成后调用 `strrev()`以反转它。

`printf("Decimal to base %d is :\t%s\n",base,strrev(conv));`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T08:09:37.173

我觉得你做的`--`太多了。

在构建字符串时，`ptr`始终指向您要写入下一个字符的位置（如果有下一个字符）。这个地方总是用空字节初始化（除了`conv[0]`，它是一个空格。
所以在调用时`printf`，`ptr`指向空字节，它是一个空字符串。

`ptr++`之前`printf`应该解决它。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-06T10:13:04.720

我同意@alk。

您只用空白初始化数组的第一个元素，其他元素被初始化为 0，因为您得到了空白行。实际上行不是空白的， printf 只打印第一个空白字符 ' ' 并且当它遇到 0 时它会停止。

您可以通过将 ' ' 替换为任何其他字符来验证它。当然除了 '\0'

# javascript - 不应在此策略中执行具有有效分页 cookie 的 CRM 2011 查询

> ID：14721507
> 
> 赞同：1
> 
> 时间：2013-02-06T04:22:07.083
> 
> 标签：javascript, dynamics-crm-2011, webresource

我得到这个错误。

> 错误：500：内部服务器错误：不应在此策略中执行具有有效分页 cookie 的查询

当我在 CRM 2011 的 WebResource 中调用此代码时

```
 self.loadWorkItems = function () {

        var user = self.user();
        var bid = user.BusinessUnitId.Id();
        var systemUserId = user.SystemUserId();
        var results = new Array();

        SDK.REST.retrieveMultipleRecords(
            "QueueItem",
            "$select=*&$skip=" + self.page() * self.pageSize() + "&$top=" + self.pageSize() + "&$orderby=CreatedOn asc&$filter=OwningBusinessUnit/Id eq guid'" + bid + "' and StateCode/Value eq 0",
            function (r) {
                results = results.concat(r);
            },
            function (error) {
                self.lastError(error.message);
            },
            function (x) {
                for (var i = 0; i < results.length; i++) {
                    var item = results[i];
                    var r = ko.mapping.fromJS(item, workItemMapping);
                    self.workQueue.push(r);
                }
            }
        );
    }; 
```

这是 knockoutjs 视图模型的一部分。我正在尝试制作一个“更多”按钮，该按钮可以从服务器获取下一页数据并将其扔到正在显示的列表的末尾。

页面加载得很好，第一页又回来了，但是当请求下一页时，我得到了这个错误。

关于如何在没有错误的情况下拨打电话的任何想法？

***编辑***

我弄错了似乎 $skip > 0 的一些调用有效。在这里发疯。

***编辑***

我认为这个错误试图告诉我的是，skip/top 组合超过了总记录数，而不是给我任何东西（如我所料），它抛出了一个异常。

所以新的问题是如何避免这种愚蠢？我想现在我必须计算所有记录，并确保我不会翻页太多。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-04-10T12:49:17.883

我们故意在执行查询时捕获所有错误，因为 SDK 在跳过中存在错误并采用 linq 查询，这会在跳过更多然后结果有项目时导致问题。据我所知，这还没有被微软修复

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-14T04:40:50.240

您获取一个不存在的“页面”。基本上，您跳过的元素比结果要多。

因此，假设基础结果总共有 10 条记录与您的过滤器匹配，您说

query.skip(12) 那么你会得到这种情况。

# php - 为什么我不能用 phpexec 运行 ifconfig

> ID：14721509
> 
> 赞同：-1
> 
> 时间：2013-02-06T04:22:28.987
> 
> 标签：php

```
$command='ifconfig';
echo $command;
exec($command,$avaialableIPs);
print_r($avaialableIPs);
$command='ls -l';
echo $command;
exec($command,$avaialableIPs);
print_r($avaialableIPs); 
```

这就是我得到的：

ifconfig 命令失败，但常规 ls-l 命令有效。

我只想知道我的服务器可用的 IP，这样我的 curl 也可以使用其他 IP。我可以使用 ls。

```
ifconfigArray
(
)
ls -lArray
(
    [0] => total 1692
...
    )
    testArray 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T04:44:19.417

你是服务器管理员吗？如果是这样，请检查您的 php.ini。

它可能包含如下内容：

```
disable_functions= 
```

确保它是空白的。

参考：[php无法执行系统命令](https://stackoverflow.com/questions/7600815/php-not-able-to-execute-system-commands)

# python - XPath：如何找到所有文本节点的父元素及其类

> ID：14721513
> 
> 赞同：0
> 
> 时间：2013-02-06T04:22:40.947
> 
> 标签：python, html, xml, xpath, lxml

对于所有文本节点，如何找到父元素的类和标签类型

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T18:09:05.470

从[XPath 文档](http://www.w3schools.com/xpath/xpath_syntax.asp)来看，这并不难。这是我的专用 XML 文件：

```
<root>
    <child1>
        <text>Text1</text>
    </child1>
    <child2>
        <text>Text2</text>
    </child2>
    <child3>
        <text>Text3</text>
    </child3>
    <child4>
        <text>Text4</text>
    </child4>
</root> 
```

现在有了实现 XPath 支持的[lxml 库](http://lxml.de/index.html)（内置 Python XML 库不是这种情况），我们在这里：

```
>>> from lxml import etree
>>> root = etree.parse(path).getroot()
>>> for p in root.xpath('//text/..'):
    print p.tag

child1
child2
child3
child4 
```

# c++ - 如何在 Ubuntu 12.10 (Quantal Quetzal) 中使用 C++ 安装 Eclipse？

> ID：14721514
> 
> 赞同：43
> 
> 时间：2013-02-06T04:22:47.403
> 
> 标签：c++, eclipse, ubuntu, installation

我刚刚安装了 Ubuntu 12.10，我尝试安装 Eclipse 和 C++，但我失败了。

我从软件中心开始安装，Eclipse 工作，但只在 Java 中。然后我开始在谷歌上搜索安装指南和教程，但是经过数小时的下载和安装，Eclipse 中的 C++ 仍然无法工作。

所以现在我有两个问题：

1.  我该如何收拾这个烂摊子？
    其实，我怎么知道有没有乱七八糟的？
    根据 Ubuntu 软件中心，Eclipse 已安装并具有三个附加组件。
    我如何知道其他 Eclipse 版本/包装的其他安装是否相互覆盖，或者我是否有多个安装？

2.  如何在 Ubuntu 12.10 中安装最新版本的 Eclipse 和 C++？

* * *

## 回答 #1

> 赞同：66
> 
> 时间：2013-02-06T04:46:02.547

在 Ubuntu 12.10 存储库中有一个名为的包`eclipse-cdt`，这就是你想要的。如果你还没有`g++`，你也需要安装它，所以你只需要：

`sudo apt-get install eclipse eclipse-cdt g++`

您之前的安装尝试是否搞砸了您的系统，这在很大程度上取决于您是如何做到的。如果您以安全的方式尝试不是来自存储库的新软件包（即，仅安装在您的主文件夹中，没有`sudo`从安装手册中盲目复制...），那么您肯定没问题。否则，您现在的文件系统中可能有数千个杂散文件。在这种情况下，请运行您可以找到的所有已安装内容的卸载脚本，然后使用安装`apt-get`并希望获得最好的结果。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-04-04T20:18:11.267

我用过（上面建议的答案）

```
sudo apt-get install eclipse eclipse-cdt g++ 
```

但只有在那之后才会做

```
sudo eclipse -clean 
```

希望这也有帮助。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-10T09:34:19.200

我还在Ubuntu 12.04.2 LTS 中尝试了[http://www.eclipse.org/cdt/并且工作正常！](http://www.eclipse.org/cdt/)

1.  首先，我从 www.eclipse.org/downloads/ 下载它，选择 Eclipse IDE for C/C++ Developers。
2.  我将文件保存在某个地方，比如说我的主目录。打开控制台或终端，然后键入：

    `>>cd ~; tar xvzf eclipse*.tar.gz;`

3.  记住要在 Linux 中运行 Eclipse，它需要一个 JVM，所以下载一个 jdk 文件，例如 jdk-7u17-linux-i586.rpm（由于我的声誉低，我不能发布链接）......无论如何

4.  [按照http://www.wikihow.com/Install-Java-on-Linux](http://www.wikihow.com/Install-Java-on-Linux)安装 .rpm 文件

5.  通过键入以下命令查找 Java 安装的路径：

    `>>which java`

6.  我得到了/usr/bin/java。要启动 Eclipse，请键入：

    `>>cd ~/eclipse; ./eclipse -vm /usr/bin/java`

此外，一旦安装了所有内容，在主目录中，您可以双击名为 eclipse 的可执行图标，然后您将拥有它！如果您喜欢某个图标，请在 /usr/share/applications 中创建一个 .desktop 文件：

```
>>sudo gedit /usr/share/applications/eclipse.desktop 
```

.desktop 文件内容如下：

```
[Desktop Entry]  
Name=Eclipse  
Type=Application  
Exec="This is the path of the eclipse executable on your machine"  
Terminal=false 
Icon="This is the path of the icon.xpm file on your machine"  
Comment=Integrated Development Environment  
NoDisplay=false  
Categories=Development;IDE  
Name[en]=eclipse.desktop 
```

好运！

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-09-23T18:04:52.767

我在同一条船上。安装Eclipse，实现需要CDT。

sudo apt-get install eclipse eclipse-cdt g++

这只是在现有安装之上添加 CDT 包 - 无需卸载等。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-06T04:28:57.677

[http://www.eclipse.org/cdt/](http://www.eclipse.org/cdt/) ^试试看

我没有将 CDT 用于 Eclipse，但我确实将 Eclipse Java 用于 Ubuntu 12.04，它的效果非常好。

# django - 从 Django 中的另一个模型对用户进行身份验证？

> ID：14721515
> 
> 赞同：1
> 
> 时间：2013-02-06T04:22:47.660
> 
> 标签：django, django-authentication

我想使用`GalaxyUser`模型在 Django 中进行身份验证：

```
class GalaxyUser(models.Model):
    id = models.IntegerField(primary_key=True)
    create_time = models.DateTimeField(null=True, blank=True)
    update_time = models.DateTimeField(null=True, blank=True)
    email = models.CharField(max_length=765)
    password = models.CharField(max_length=120)
    external = models.IntegerField(null=True, blank=True)
    deleted = models.IntegerField(null=True, blank=True)
    purged = models.IntegerField(null=True, blank=True)
    username = models.CharField(max_length=765, blank=True)
    form_values_id = models.IntegerField(null=True, blank=True)
    disk_usage = models.DecimalField(null=True, max_digits=16, decimal_places=0, blank=True)
    class Meta:
        db_table = u'galaxy_user' 
```

我已将此行包含在`settings.py`：

```
AUTH_USER_MODEL = 'fileupload.GalaxyUser' 
```

我的登录功能是：

```
def login_backend(request):
    if request.method == 'POST':
        username = request.POST['username']
        password = request.POST['password']
        user = authenticate(username=username, password=password)
        if user is not None:
            login(request, user)
            return HttpResponseRedirect('/overview/')
        else:
            return HttpResponseRedirect('/login_backend/')
    else:
        return render_to_response('login_backend.html', context_instance=RequestContext(request)) 
```

但是，身份验证不起作用。我在做所有事情，对吗？

# android - android应用程序中表格的多行

> ID：14721516
> 
> 赞同：0
> 
> 时间：2013-02-06T04:22:48.127
> 
> 标签：android

我是android应用程序开发的初学者。请帮助我如何在表中创建多行以及创建行的关键性能。我现在可以创建 3 行。但我想在表格中输入数据时自动生成行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T04:44:29.130

尝试这个：

```
 //Declare mytable in layout XML file.
    TableLayout tl = (TableLayout) findViewById(R.id.mytable);

    //loop through number of times u want to create row.
    for (int current = 0; current < numofrowsrequired; current++)
    {
        // Create a TableRow and give it an ID
        TableRow tr = new TableRow(this);
        tr.setId(100+current);
        tr.setLayoutParams(new LayoutParams(
                LayoutParams.FILL_PARENT,
                LayoutParams.WRAP_CONTENT));   

        //add required views with required parameters
        TextView labelTV = new TextView(this);
        labelTV.setId(200+current);
        labelTV.setText(provinces[current]);
        labelTV.setTextColor(Color.BLACK);
        labelTV.setLayoutParams(new LayoutParams(
                LayoutParams.FILL_PARENT,
                LayoutParams.WRAP_CONTENT));
        tr.addView(labelTV);
        // Add the TableRow to the TableLayout
        tl.addView(tr, new TableLayout.LayoutParams(
                LayoutParams.FILL_PARENT,
                LayoutParams.WRAP_CONTENT));
    } 
```

# android - 在android中缓存活动

> ID：14721517
> 
> 赞同：1
> 
> 时间：2013-02-06T04:22:56.200
> 
> 标签：android, android-activity

我不确定“缓存”是否是正确使用的术语，但这是我的问题，在我的应用程序中，我有一个活动，它从 Internet 加载 JSON 数据，然后填充一个似乎工作正常的列表视图。

真正的问题是互联网连接松动时它开始显示空白屏幕，有什么办法可以继续显示之前生成的旧列表视图，以防没有互联网连接，并且只有在存在持久性的情况下才获取数据联系。

我知道如何查找是否有网络连接，所以请不要编写代码，我主要关心的是保存以前加载的列表视图并在未找到连接时显示它们。

我现在唯一能想到的就是使用本地 sqlite 数据库。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T14:05:05.023

```
onResume()
IF internet THEN request (AsyncTask?)
    Validate response and build Model objects from JSON
    IF objects are good THEN give objects to ListView adapter 
```

这样，当且仅当您有互联网连接时，您的列表才会更新。

为什么是 onResume() 而不是 onCreate()？当您从另一个活动回来时，活动 onResume() 本身;)

对于用户友好的部分，我不知道您何时进行此“更新”，但请避免自己进行。操作栏（或菜单）可让用户在需要时更新数据。

对于用户友好的部分 II。如果您认为用户在更新时不能玩您的列表，请禁用该列表上的事件，或者，如果用户必须不做任何事情（您的应用程序要操作该列表中的对象），请使用进度对话框来通知你正在做某事的用户

# css - 使用 display: inline-block 和 ems 让表单元素与提交按钮对齐

> ID：14721518
> 
> 赞同：0
> 
> 时间：2013-02-06T04:23:03.790
> 
> 标签：css, html, forms, responsive-design, em

我正在研究响应式表单设计；缩减的代码如下。为什么 SEND 按钮不能与其他输入字段正确对齐？

它使用的 a`margin-left:5em`应该与其他输入字段对齐，因为表单标签的 a 也`width`为 5em，但没有。相反，按钮向左偏移。我错过了什么？谢谢。

```
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Test page</title>
<style>
      label, input, textarea {display: inline-block; vertical-align: top;}
      label {width: 5em; text-align: right;}
      input, textarea {width: 20em;}
      input[type="submit"] {margin-left: 5em; width: 6em;}      
      * { 
            -moz-box-sizing: border-box; 
            -webkit-box-sizing: border-box; 
            box-sizing: border-box; 
            padding: 0;
            margin: 0;
      }
</style>
</head>    
<body>
<form  action="#" method="post">
    <div>
        <label for="form1_name">Name:</label>
        <input id="form1_name" name="name" type="text" placeholder="first and last name" required="required" />
    </div>

    <div>
        <label for="form1_email">Email:</label>
        <input id="form1_email" name="email" type="email" placeholder="your email address" required="required" />
    </div>

    <div>
        <label for="form1_message">Message:</label>
        <textarea id="form1_message" name="message" cols="30" rows="10" required="required"></textarea>
    </div>
        <input value="SEND" type="submit" />
</form>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:20:54.697

如果您在**像素**级别查看 UI，您会在标签和输入字段之间看到一个空白。这个空白大约**3px**宽，它不会通过您的 css。为什么您的提交按钮与上述字段不对齐是因为那个空白。

当您在提交按钮上使用**margin-left: 5em**时，不会添加额外的空格。因此，为了满足自己，您可以继续到目前为止所做的事情，我的意思是，将**提交**也放在 div 中并使用空**标签**在输入之前标记并从css中删除**margin-left**

**或者**

您也可以遵循 Chandrakant 的回答。

**更新1：**

该空白是因为您在编辑器上按“enter”键的新行。因此，要删除该空白而不更改您的 css 或使用任何幻数，您只需将这些标签和输入写在同一行中：

```
...
<div>
    <label for="form1_name">Name:</label><input id="form1_name" name="name" type="text" placeholder="first and last name" required="required" />
</div>

<div>
    <label for="form1_email">Email:</label><input id="form1_email" name="email" type="email" placeholder="your email address" required="required" />
</div>
... 
```

试试看。

**更新2：**主要原因（按钮的默认边框）

由于按钮的**边框**属性（默认情况下），按钮未与字段垂直对齐。如果您将按钮的边框（在这种情况下仅需要**边框左：0px**）设置为**0px**，您会发现按钮与田野。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T04:29:16.360

对您的 Input 元素使用以下样式，这可能会起作用

```
display: block;
margin-left: 5.2em; 
```

这仅适用于该发送按钮

# file - Unix `find` 命令返回路径以及它是否是文件/目录？

> ID：14721520
> 
> 赞同：0
> 
> 时间：2013-02-06T04:23:13.180
> 
> 标签：file, shell, unix

当你这样做时`ls -la`，它会返回每个路径以及它是否是文件/目录的信息：

```
$ ls -la
drwxr-xr-x  11 viatropos  staff   374 Jan 21 21:24 .
drwxr-xr-x  41 viatropos  staff  1394 Feb  2 00:48 ..
-rw-r--r--   1 viatropos  staff    43 Jan 21 21:23 .gitignore
-rw-r--r--   1 viatropos  staff    43 Jan 21 21:23 .npmignore
-rw-r--r--   1 viatropos  staff   647 Jan 21 21:23 README.md
-rw-r--r--   1 viatropos  staff  3069 Feb  5 20:17 index.js
drwxr-xr-x   8 viatropos  staff   272 Feb  5 20:06 node_modules
-rw-r--r--   1 viatropos  staff   291 Jan 21 21:24 package.json
drwxr-xr-x   4 viatropos  staff   136 Jan 21 21:23 test 
```

有没有办法使用`find`命令（和 glob`*`功能）来做到这一点？那么，找到其中`node_modules`的所有路径并让它返回路径以及它是否是文件目录？就像是：

```
$ find node_modules -name 'lib/*'
d  node_modules/express/lib/
f  node_modules/express/lib/index.js
... 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T04:44:14.133

怎么样`find ... -printf '%y %p\n'`？（不过，这可能是一个 GNU 查找扩展。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-11T02:32:04.120

试试这个脚本，我称之为“findfl”。“mtime”子句查找过去 3 天内更改的文件。

目录将附加“/”。

```
#!/bin/sh
# find files produced recently, matching input pattern
[ $1 ] || { echo "Usage: findfl <file-name-pattern>" ; exit ; }

TOPDIR=/home/usr/fred     #the directory you want to search
echo "Searching $TOPDIR"
find . -mtime -3 -name *$1* 2>/dev/null | xargs -n 99 ls -lptr | sed "s! ./! $TOPDIR/!g" 
```

# java - 在java中删除字符串中的尾随制表符的最简单方法

> ID：14721521
> 
> 赞同：5
> 
> 时间：2013-02-06T04:23:24.977
> 
> 标签：java, string, formatting

例如，如果您有一个制表符分隔值列表：

```
foo1\tfoo2\tfoo3\tfoo4\t 
```

最后一个**\t**是由于自动将**\t**附加到每个`+=`.

你如何以简单的方式删除最后一个**\t ？**所以结果是：

```
foo1\tfoo2\tfoo3\tfoo4 
```

作为 Hover 的请求，我有一个小例子：

```
String foo = "";
for (int i = 1; i <= 100; i++) {
    foo += "foo" + "\t";
    if (i % 10 == 0) {
        foo = foo.trim(); // wasn't working
        foo += "\n";
    }
}
System.out.println(foo); 
```

输出（用字符串选项卡替换实际选项卡以在此处显示）：

```
foo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\t
foo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\t
foo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\t
foo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\t
foo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\t
foo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\t
foo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\t
foo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\t
foo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\t
foo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\tfoo\t 
```

这就是我问这个问题的主要原因， .trim() 不起作用，因此，我坚持认为 trim() 不是为尾随制表符制作的。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-06T04:29:03.350

```
String s1 = "foo1\tfoo2\tfoo3\tfoo4\t".trim(); 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-06T04:32:32.460

```
String expectedString = "foo1\tfoo2\tfoo3\tfoo4\t".trim(); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-06T04:38:24.017

如果您只想删除尾随制表符，您可以这样做：

```
String s1 = "foo1\tfoo2\tfoo3\tfoo4\t";
while (s1.endsWith("\t")) {
    s1 = s1.substring(0, s1.length()-1);
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-06T04:38:28.087

如果你的循环看起来像这样

```
for(...){
     values += foo + number + "\t" 
} 
```

你可以

*   利用`trim()`
*   使用 values.substring(0,values.length-1)
*   修改循环以进行`n-1`迭代并手动应用没有选项卡的最后一部分
*   为第 th 次迭代添加显式测试，`n`而不应用 "\t" ( `values += foo + (i==n-1)? numbers:numbers+"\t"`)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-06T04:39:52.337

HovercraftFullOfEels 是正确的`String#trim`应该做你想做的......

```
String testing = "foo1\tfoo2\tfoo3\tfoo4\t";
System.out.println("\"" + testing.trim() + "\"");
if (testing.endsWith("\t")) {
    testing = testing.substring(0, testing.lastIndexOf("\t"));
    System.out.println("\"" + testing + "\"");
} 
```

哪个输出...

```
"foo1   foo2    foo3    foo4"
"foo1   foo2    foo3    foo4" 
```

**更新**

如果那失败了......就像......

```
StringBuilder sb = new StringBuilder(testing);
while (sb.lastIndexOf("\t") == sb.length()) {
    sb.delete(sb.length() - 1, sb.length());
}
System.out.println("\"" + sb.toString() + "\""); 
```

可能有帮助...

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-02-06T05:42:51.470

为了澄清我们的讨论，如果你运行这个，你会看到什么？

```
public class Foo3 {
   public static void main(String[] args) {
      String foo = "";
      for (int i = 1; i <= 100; i++) {
         if (i % 10 == 1) {
            foo += "\"";
         }

         foo += "foo" + "\t";
         if (i % 10 == 0) {
            foo = foo.trim(); // wasn't working
            foo += "\"\n";
         }
      }
      System.out.println(foo);
   }
} 
```

我自己，我得到：

```
“foo foo foo foo foo foo foo foo foo foo”
“foo foo foo foo foo foo foo foo foo foo”
“foo foo foo foo foo foo foo foo foo foo”
“foo foo foo foo foo foo foo foo foo foo”
“foo foo foo foo foo foo foo foo foo foo”
“foo foo foo foo foo foo foo foo foo foo”
“foo foo foo foo foo foo foo foo foo foo”
“foo foo foo foo foo foo foo foo foo foo”
“foo foo foo foo foo foo foo foo foo foo”
“foo foo foo foo foo foo foo foo foo foo”

```

展示了一个运行良好的 trim() 方法。

# nginx - 关于 Nginx 状态

> ID：14721523
> 
> 赞同：4
> 
> 时间：2013-02-06T04:23:48.313
> 
> 标签：nginx

这是我的 nginx 状态如下：

```
Active connections: 6119
server accepts handled requests
 418584709 418584709 455575794 
Reading: 439 Writing: 104 Waiting: 5576 
```

Waiting的值比Reading和Writing高很多，正常吗？

因为'keep-alive'是开放的？

但是如果我向服务器发送大量请求，读写的值不会增加，所以我认为肯定是nginx或其他的瓶颈。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:22:50.127

`Waiting`时间是，即连接仍然打开，`Active - (Reading + Writing)`等待新请求或保活到期。

您可以更改 keepalive 默认值（即 75 秒）

```
keepalive_timeout 20s; 
```

或通过在发送到浏览器的标头中添加可选的第二个超时来告诉浏览器何时应该关闭连接

```
keepalive_timeout 20s 20s; 
```

但是在[这个关于 keepalive 的 nginx 页面](http://wiki.nginx.org/HttpCoreModule#keepalive_timeout)中，您会看到一些浏览器不关心标头（无论如何，由于这个可选参数，您的网站不会获得太多收益）。

keepalive 是一种减少创建连接开销的方法，因为在大多数情况下，用户将浏览站点等...（加上来自单个页面的多个请求，以下载*css*、*javascript*、*图像*等...)

这取决于您的站点，您可以减少 keepalive - 但请记住，建立连接的成本很高。这是一个权衡，您必须根据站点统计数据进行优化。您也可以一点一点地减少超时时间（75s -> 50，然后一周后 30...）并查看服务器的行为。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T04:27:15.130

您真的不想修复它，因为“等待”意味着保持连接。它们几乎不消耗任何资源（socket + nginx 中每 10000 个连接大约 2.5M 的内存）。

请求是短暂的吗？他们可能正在读/写，然后在短时间内关闭。

如果您真的有兴趣修复它，您可以测试 nginx 是否是瓶颈，您可以在 nginx 配置中将 keep-alive 设置为 0：

```
keepalive_timeout 0; 
```

# jquery - jQuery - 加载时隐藏 div，动画完成后显示

> ID：14721531
> 
> 赞同：0
> 
> 时间：2013-02-06T04:24:21.310
> 
> 标签：jquery, function, jquery-animate, hide, slideshow

我在一两个月前才开始编写代码，但遇到了一个我似乎无法找到解决方案的问题。

我有一个在单击按钮时打开的幻灯片，我遇到的问题是幻灯片本身的控件之一（“右控件”）在页面加载时可见。

当幻灯片打开时，我需要它与“幻灯片”一起淡入，然后在关闭幻灯片时隐藏。

任何帮助，将不胜感激。

这是幻灯片的代码：

//幻灯片

```
$("#slideshow").css("overflow", "hidden");

manageControls(currentPosition);

$('.control').click(function () {

    currentPosition = ($(this).attr('id') == 'right-control') ? currentPosition + 1 : currentPosition - 1;

    manageControls(currentPosition);

    $('#slides').animate({
        'left': slideWidth * (-currentPosition)
    }, 600);
});

function manageControls(position) {

    if (position === 0) {
        $('#left-control').hide();
    } else {
        $('#left-control').show();
    }

    if (position == slidesNumber - 1) {
        $('#right-control').hide();
    } else {
        $('#right-control').show();
    }
}
//End Slideshow 
```

这是我的 jsFiddle 完整代码：

[http://jsfiddle.net/tVsjY/2/](http://jsfiddle.net/tVsjY/2/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:06:46.057

你有一个逻辑错误

```
function manageControls(position){} 
```

您使用该功能有两个目的。

1.  根据您所在的幻灯片显示/隐藏左/右控件
2.  根据滑块是可见还是隐藏，显示/隐藏左/右控件。

但它总是像第一个场景一样工作。我的建议是简单地为您的函数添加另一个参数。

```
function manageControls(position, flag){} 
```

在“显示”、“隐藏”和“检查”标志中发送一个值，用于显示两个控件，隐藏两个控件并显示与幻灯片编号相关的内容。然后根据情况重新编写你的函数调用。

将 css 中 .control 的显示属性设置为“无”。并在js中做如下改动。

```
$(document).ready(function () {

var out = 0;
var currentPosition = 0;
var slideWidth = 400;
var slides = $(".slide");
var slidesNumber = slides.length;

$("#button").click(function () {

    if (out === 0) {
        manageControls(currentPosition, 'show'); // Show controls on slide show
        $("#center, #slideshow, .slide").animate({
            width: "400px"
        }, {
            queue: false,
            duration: 1900
        });
        $(".slide").delay(2000).animate({
            opacity: "1"
        }, 1500);
        out = 1;
    } else {
        manageControls(currentPosition, 'hide'); // Hide controls on slide hide
        $("#center, #slideshow, .slide").animate({
            width: "0px"
        }, {
            queue: false,
            duration: 2000
        });
        $(".slide").stop(true).animate({
            opacity: "0"
        }, 250);
        out = 0;
    }
});

//Slideshow
$("#slideshow").css("overflow", "hidden");

// No need for this line if .control set to hidden in css.
//manageControls(currentPosition);

$('.control').click(function () {

    currentPosition = ($(this).attr('id') == 'right-control') ? currentPosition + 1 : currentPosition - 1;

    manageControls(currentPosition, 'check');  // Show/hide controls on control click

    $('#slides').animate({
        'left': slideWidth * (-currentPosition)
    }, 600);
});

function manageControls(position, flag) {
    // Checks for control display
    if (flag == 'check') {
        if (position === 0) {
            $('#left-control').hide();
        } else {
            $('#left-control').show();
        }

        if (position == slidesNumber - 1) {
            $('#right-control').hide();
        } else {
            $('#right-control').show();
        }
    } else if (flag == 'show') {
        $('.control').show();
    } else if (flag == 'hide') {
        $('.control').hide();
    }
}
//End Slideshow
}); 
```

但是你需要检查你的代码。您可能是初学者，但您应该始终致力于优化您的代码。你的代码需要它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:26:15.000

我为刚开始编码的人提供修复而不是解决方案而感到有点羞耻，但也许这就是你想要的。将以下内容放在你的 jsfiddle 的第 50 行应该通过隐藏额外的可见跨度来解决你的问题：

```
$('.control').hide(); 
```

但我对此不太满意的原因是因为我没有学习并向你解释为什么会出现这个跨度。我可能会继续看它，但如果这就是你要找的全部，请告诉我。

* * *

**更新的解决方案**：找到问题/解决方案您在 manageControls 函数中隐藏/显示的控件将始终隐藏一个并显示一个。

**问题：**两个控件起初都是可见的。
您最初调用 manageControls(currentPosition); 在第 38 行，currentPosition 的值为 0，所以左边的控件被隐藏，然后右边的控件被显示出来，从一开始就已经可见。

**解决方法：**替换manageControls(currentPosition); 在第 38 行，内容如下：

```
$('.control').hide(); //Hides both controls 
```

让我知道一切是否有效/有意义:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T05:15:47.367

找到了我需要做的解决方法。

由于 manageControls 函数根据 #slides 的当前位置隐藏/显示左/右控件，因此在加载时隐藏**.control所需要做的就是隐藏****#slides**。

**因此，如果我将以下内容放在第 9 行：**

```
$("#center, #slideshow, .slide").hide(); 
```

然后在点击时**显示**它 - 它有效！

**最近更新：**

添加了以下几行以使其在美学上吸引眼球（控件现在淡入视野）：

```
 $(".control").stop(true).delay(1800).animate({opacity: "0.5"}, 2000);

    $(".control").stop(true).animate({opacity: "0"}, 400); 
```

这是我更新的 jsFiddle：

[http://jsfiddle.net/tVsjY/18/](http://jsfiddle.net/tVsjY/18/)

Ps 还不是很漂亮，这两个控件需要在幻灯片激活时淡入淡出。将在下一步工作，然后发布更新。

# python - 可选择在 Django 或 nginx 中限制上传和下载速度

> ID：14721542
> 
> 赞同：3
> 
> 时间：2013-02-06T04:25:43.450
> 
> 标签：python, django, nginx

我需要根据用户是否为我的应用程序登录来限制上传/下载速度。我正在使用 nginx 和 Django。我有办法做到这一点吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T04:39:10.273

这是负载均衡器的工作，而不是 django 或 nginx。

您可以使用 nginx 设置两个区域，并限制一个区域而不是另一个区域的带宽。您可以将登录用户引导到 nginx 上的无限制区域，将匿名用户引导到限制区域。

此模块允许您基于每个 ip 进行限制：[https ://github.com/trbs/Nginx-limit-traffic-rate-module](https://github.com/trbs/Nginx-limit-traffic-rate-module)

# c# - 自动滚动和分页gridview

> ID：14721544
> 
> 赞同：-2
> 
> 时间：2013-02-06T04:26:01.543
> 
> 标签：c#, asp.net, gridview

我正在研究 asp.net 3.5 和 C#。

我有一个包含 100 条记录的列表，并在网格视图中显示它们。我们在监视器上看到信息，因此用户不会因为更改页面或滚动到结尾而存在。我需要定期更改页面以显示所有记录的代码。

我该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T04:30:29.803

自动刷新页面的多种方法之一，使用[`meta refresh`](https://en.wikipedia.org/wiki/Meta_refresh)：

```
<meta http-equiv="refresh" content="10"> 
```

其中 10 是以秒为单位的页面刷新间隔。

服务器可以根据之前提供的页面来确定要服务的页面。

> 万维网联盟 (W3C) 不鼓励使用元刷新，因为意外刷新会使用户迷失方向。元刷新还会削弱某些浏览器中 Web 浏览器的“后退”按钮...
> 
> 元刷新有合法用途，例如为动态网页提供更新或在没有 JavaScript 的情况下实现网站控制的网站导航。许多大型网站使用它来刷新新闻或状态更新，尤其是在不需要依赖 JavaScript 和重定向标头时。

另一种选择是使用 javascript，例如[here](https://stackoverflow.com/questions/4007724/auto-partial-page-refresh-in-asp-net-without-updatepanel)。

# c# - 如何在我的 JQUERY 提交中添加其他数据？

> ID：14721545
> 
> 赞同：2
> 
> 时间：2013-02-06T04:26:08.590
> 
> 标签：c#, jquery, asp.net-mvc, jquery-ui, asp.net-mvc-4

在我看来，我使用的是`Html.BeginForm`. 在其中我有两个元素，当我设置 clic 时，应该提交表单，但我需要添加一个额外的字符串参数。

```
@using (Html.BeginForm("Index", "Quiz", FormMethod.Post, new { id = "form" }))
{
    ...
}

    [HttpPost]
    public ActionResult Index(string parameter, QuizCompletedViewModel q)  //FormCollection f)
    {            
        ...
        if (button.Equals("d"))
        {
            ...
            return RedirectToAction("ShowResults", new { testId = Quiz.QuizId, answeredTest = answeredId });
        }
        else
        {
            ...
            return RedirectToAction("Index", "Dashboard");
        }
    } 
```

因此，在我使用`$("#element").submit()`的 jquery 函数中，参数`parameter`始终为空（这很正常）。如何添加其他数据以`parameter`使用 JQUERY？

注意：我没有使用 AJAX。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-06T04:29:17.420

您可以在表单中添加具有所需名称和值的隐藏输入。该值将与所有其他表单项一起提交。

```
<input type="hidden" name="someName" value="someValue" /> 
```

编辑评论：

如果您将每个提交按钮的值作为属性提供，您可以在点击处理程序中获取它，然后在表单内附加一个带有该值的隐藏字段。就像是：

```
$(function(){
   $('#form input[type=submit]').click(function(e) {
       var val = this.getAttribute("data-param");
       $(this).closest('form').append('<input type="hidden" name="param" value="' + val + '" />");
   });
}); 
```

未经测试，只是一种预感。希望在按钮单击事件之前不会触发表单提交事件。您还需要处理输入事件和按键等。

你为什么不想使用ajax？

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-06T04:41:33.673

在您的表单 sumbit 上尝试如下：

```
 $("form").submit(function(){
           $.ajax({     
                type: 'POST',  
                url: "/Quiz/Index",
                dataType: "json",
                data: $("form").serialize() + '&parameter=param1' ,   
                success: function () { 
                    alert("Successful"); 
                }
                error: function(){
                    alert('error');
                }

            }); 
        }); 
```

希望能帮助到你。

* * *

**编辑**

在您的 jQuery 函数中尝试这样的操作：

```
$('form').append('&param=a'); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-06T12:49:06.917

根据您的评论，您最简单的做法是制作您的按钮类型`submit`并给它们一个`name`. 如果他们有`name`，`value`被点击的按钮的 将与表单帖子一起自动发送，请参阅：[发送表单的提交按钮的值？](https://stackoverflow.com/questions/1297763/sending-forms-submit-buttons-value)

例子：

`a`单击按钮时，`parameter`将发布 value `a`。对于`b`和 也是如此`c`。如果单击该`none`按钮，则不会发送任何值并将其发送`parameter`（`null`出于演示目的而显示，您可能不需要此）。

```
@using (Html.BeginForm("Index", "Quiz", FormMethod.Post, new { id = "form" }))
{
    ...

    <input type="submit" value="a" name="parameter" />
    <input type="submit" value="b" name="parameter" />
    <input type="submit" value="c" name="parameter" />
    <input type="submit" value="none" />
} 
```

# c# - 对于区分大小写的c#，布尔方法不应该如何返回

> ID：14721552
> 
> 赞同：1
> 
> 时间：2013-02-06T04:26:36.097
> 
> 标签：c#, boolean, case-sensitive

我有一个布尔函数，它检查数据库中的名称，如果数据库中存在任何名称，则返回 true。我的功能是

```
 public bool rawMtrlExists(string strRawMtrl)
    { 
        var rwMtrl = prodctsDC.productsnrwmtrls.Where(c => c.item_Ctgry == 'R' || c.item_Ctgry == 'B'||c.item_Ctgry=='G').Distinct().ToArray();
        return rwMtrl.Count(d => d.item_Name == strRwMtrl) > 0;
    } 
```

我的问题是.. 如果我的 strRawMtrl orgument 具有相同的单词但区分大小写，则该方法返回 false。我的意思是数据库字段中的名称是**Central Processing Unit**。**我作为中央处理器**传递。在这种情况下，它返回 false，但我需要 true。请任何人帮助我返回不区分大小写的单词。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-06T04:29:59.860

您可以使用重载`Equals`方法`StringComparison.OrdinalIgnoreCase`：

```
d.item_Name.Equals(strRwMtrl, StringComparison.OrdinalIgnoreCase) 
```

另一种我不喜欢的*hacky方式，因为它在堆中创建了另外两个字符串：*

```
d.item_Name.ToLower() == strRwMtrl.ToLower() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T04:47:31.790

我想你可以用这个。使用`ToArray()`强制查询的下一部分在本地运行。也是`Disticnt()`多余的。

```
public bool rwMtrlExists(string strRwMtrl)
{ 
    return prdTcnDC
             .productsnrwmtrls
             .Where(c => c.item_Ctgry == 'R'
                      || c.item_Ctgry == 'B'
                      || c.item_Ctgry == 'G')
            .Any(d => d.item_Name.ToLower() == strRwMtrl.ToLower());
} 
```

# jquery - 在加载有 ajax 的 div 上使用 jquery

> ID：14721557
> 
> 赞同：0
> 
> 时间：2013-02-06T04:26:49.813
> 
> 标签：jquery, ajax, html, load

我有一个 PHP 页面，我在其中显示从数据库获得的 Div 值。这个 div 使用 Ajax 自动加载数据。我的问题是，当重新加载 Div 时，我不能使用 Jquery 函数或属性覆盖 Div 中的对象（就像在按钮中转换标签一样）。

这是我正在使用的代码：//jquery

```
 $(function() { 
            $("label").button();
    }); 
```

//ajax

```
var RequestObject = false;
var unidad = <?php echo json_encode($unidad);?>;
parametros='?unidad='+ unidad;

var Archivo = 'obtiene_ultimas_lecturas.php'+ parametros ;
window.setInterval("actualizacion_reloj()", 15000); 
 if (window.XMLHttpRequest)    
    RequestObject = new XMLHttpRequest();  
 if (window.ActiveXObject)     
    RequestObject = new ActiveXObject("Microsoft.XMLHTTP");  

function ReqChange() {  
if (RequestObject.readyState==4) {  
    if (RequestObject.responseText.indexOf('invalid') == -1)   
    {   
    document.getElementById("marco").innerHTML = RequestObject.responseText;  
    }  
    else 
    {  
    document.getElementById("marco").innerHTML = "Error llamando";  
    }  
  }  
}         

function llamadaAjax() {  
        RequestObject.open("GET", Archivo , true);  
    RequestObject.onreadystatechange = ReqChange;  
    RequestObject.send(null);   
 }  

function actualizacion_reloj() {  
    llamadaAjax();  
  } 
```

//html

```
 <div id="marco" name="marco">
    <table> 
     <tr class="Estilo4">
          <td align="center"><input name="nge" type="text" size="9" value="<?php printf("%.3f",$nge); ?>" />&nbsp;<label>m³</label></td>
         </tr>
    </table>
    </div> 
```

这基本上是我的代码，我想包含在 div 中的标签可以获得 'button' 属性。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T04:31:08.627

这会为你做的..

```
function actualizacion_reloj() {  
    llamadaAjax();  
    $("label").button();
  } 
```

# windows-store-apps - 在 Windows 8 模拟器中更改登录用户？

> ID：14721558
> 
> 赞同：3
> 
> 时间：2013-02-06T04:27:02.353
> 
> 标签：windows-store-apps

Visual Studio 允许您启动 Windows 8 模拟器来测试应用程序。默认情况下，模拟器使用与我的机器相同的用户帐户。有没有办法指定不同的帐户？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T17:21:01.013

This answer comes with one important caveat: It will require an installable (registerable) version of Windows 8.

Use the Hyper-V Manager to create a new virtual machine and install Windows 8 on that. You will be able to create whatever accounts you need, either local or Microsoft accounts. Install the Visual Studio 2012 Remote Debugging tool on that machine. In my case, I joined the VM to my local WORKGROUP.

In your VS 2012 project, you can then select Remote Machine instead of Simulator or Local. If, for some reason, the remote connections dialog box doesn't show up to allow you to select the VM, you can also go to Properties > Debug > Start Options and select Remote Machine and use the Find button to locate it.

# javascript - 用于获取维基百科数据的 Javascript 循环未终止

> ID：14721561
> 
> 赞同：0
> 
> 时间：2013-02-06T04:27:10.053
> 
> 标签：javascript, jquery, ajax, api, wikipedia

我一直在研究一个非常大的 javascript 函数，当我最终认为它完成时，它完全停止了工作。

这里是：

```
function getLinksFrom(title) {
  var returnArray = [],
      plcontinue = '',
      url = 'http://en.wikipedia.org/w/api.php?action=query&prop=links&titles=' + title + '&format=json&pllimit=500&plnamespace=0&callback=?';
  while (returnArray.length === 0 || plcontinue !== '') {
      if (plcontinue !== '') {
          url = 'http://en.wikipedia.org/w/api.php?action=query&prop=links&titles=' + title + '&format=json&pllimit=500&plnamespace=0&plcontinue=' + plcontinue + '&callback=?';
      }
      $.ajax({url: url, 
          dataType: 'json',
          success: function(data) {
              console.log(data);
              for (key in data['query']['pages']) {
                  links = data['query']['pages'][key]['links'];
              }
              for (var i = 0; i < links.length; i += 1) {
                  returnArray.push(links[i]['title']);
              }
              if (data.hasOwnProperty('query-continue')) {
                  plcontinue = data['query-continue']['links']['plcontinue'];
              } else {
                  plcontinue = '';
              }
          }
      });
  }
  return returnArray;
} 
```

据我所知，它必须卡在 while 循环中，因为页面刚刚冻结。但是随着每个循环，returnArray 都会增长，并且我正在使用不会将 plcontinue 设置为任何东西的东西对其进行测试。

知道出了什么问题吗？可能是异步加载的东西，我是新手。

编辑：所以我通过有用的评论发现它一次又一次地循环发出越来越多的请求，而无需等待 ajax 在重新开始之前完成。我怎样才能阻止它这样做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T04:44:25.277

关键是 AJAX 是*异步*的。这意味着当 JS 需要执行请求时，它会发送请求并继续执行，继续执行其余代码。当请求完成时，回调被触发。

所以在你的代码中它会像这样工作：

1.  变量的初始化
2.  While 循环条件检查。条件为真，所以进入循环体。
3.  执行ajax请求。我们发送请求并继续。
4.  再次检查条件。由于没有任何改变（请求没有任何时间完成），条件仍然成立。
5.  等等。

最终，十几个请求中的一个可能会结束，修改`returnArray`and `plcontinue`，但这可能需要很长时间，因为函数体中的内容基本上是无限（几乎）循环，它占用了大部分 CPU 资源。

解决方案是用递归代替迭代：不是在无限循环中迭代直到成功，您可以递归直到成功。删除 while 循环`getLinksFrom`并添加`getLinksFrom()`到 ajax 请求回调。

另一种方法是*同步*请求。它有一个特殊的标志。

# java - DataOutputStream 好像没有发送参数

> ID：14721563
> 
> 赞同：0
> 
> 时间：2013-02-06T04:27:24.203
> 
> 标签：java, jsp, httpurlconnection, dataoutputstream

我尝试使用 DataOutputStream 发送 POST 数据并获取响应数据。

我是这样编码的。

```
 String urlParameters = "table=page&format=xml";

    out.println(urlParameters+"<br/><br/><br/>");

    String searchUrl = "http://localhost:8081/WebTest/test.jsp";
    URL url = new URL(searchUrl); 
    HttpURLConnection connection = (HttpURLConnection) url.openConnection();           
    connection.setDoOutput(true);
    connection.setDoInput(true);
    connection.setInstanceFollowRedirects(false); 
    connection.setRequestMethod("POST"); 
    connection.setRequestProperty("Content-Type", "application/x-www-form-urlencoded"); 
    connection.setRequestProperty("charset", "utf-8");
    connection.setRequestProperty("Content-Length", ""+Integer.toString(urlParameters.getBytes().length));
    connection.setUseCaches (false);

    DataOutputStream wr = new DataOutputStream(connection.getOutputStream());
    wr.writeUTF(urlParameters);
    wr.flush();
    wr.close();

    if( connection.getResponseCode() == 200){

        XMLInputFactory xmlFactory = XMLInputFactory.newInstance();
        XMLStreamReader reader = xmlFactory.createXMLStreamReader(new InputStreamReader(connection.getInputStream(),"UTF-8"));

        try{
            while (reader.hasNext()) {
                Integer eventType = reader.next();
                if (eventType.equals(XMLStreamReader.START_ELEMENT)){
                    out.print(" " + reader.getName() + "<br/>");
                }else if (eventType.equals(XMLStreamReader.CHARACTERS)){
                    out.print(" " + reader.getText() + "<br/>");
                }else if (eventType.equals(XMLStreamReader.ATTRIBUTE)){
                    out.print(" " + reader.getName() + " <br/>");
                }else if (eventType.equals(XMLStreamReader.END_ELEMENT)){
                    out.print(" " + reader.getName() + " <br/>");
                }
            }
        } catch (XMLStreamException e){
            e.printStackTrace();
        } finally{

            connection.disconnect();
            reader.close();
        }
    } 
```

这是 test.jsp

```
<?xml version="1.0" encoding="UTF-8" ?>
<%@ page  language="java" contentType="text/xml;  charset=UTF-8" %> 
<response>
  <table><%=request.getParameter("table") %></table>
</response> 
```

但是，结果是

```
response

table
null
table

response 
```

为什么 request.getParameter("table") 无法获取（或 DataOutputStream 不发送）数据？

我很混乱。

谢谢大家的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T04:38:59.630

您不应该使用 DataOutputStream.writeUTF，请参阅 API

首先，两个字节被写入输出流，就好像通过 writeShort 方法给出了后面的字节数。这个值是实际写出的字节数，而不是字符串的长度。在长度之后，使用修改后的 UTF-8 字符编码按顺序输出字符串的每个字符。如果没有抛出异常，则写入的计数器将增加写入输出流的字节总数。这将至少是 str 长度的两倍，最多是 str 长度的两倍。

也就是说，DataOutputStream.writeUTF 写入的内容只能用 DataInputStream.readUTF 读取

我建议使用

```
 OutputStreamWriter w = new OutputStreamWriter(connection.getOuputStream(), "UTF-8");
    w.write(urlParameters);
    w.flush(); 
```

# jquery - 滚动时移动的固定位置侧边栏

> ID：14721567
> 
> 赞同：0
> 
> 时间：2013-02-06T04:27:51.323
> 
> 标签：jquery, css, layout, css-position

所以，我有这个非常基本的布局，真的只是想看看我是否能做到这一点。

[http://jsfiddle.net/PZP8p/](http://jsfiddle.net/PZP8p/)

这是一些代码（与jsfiddle相同）

```
<html>
    <head>
        <title>Layout Test</title>

        <style type="text/css">

        body {
        margin: 0;
        padding: 0;
        }

        .header {
        height: 150px;
        background-color: aqua;
        }

        .main-content {
        position: relative;
        margin-left: 240px;

        }

        .left {
        width: 220px;
        height: 100%;
        padding-left: 10px;
        padding-right: 10px;
        background-color: red;
        position: fixed;
        top:150px;
         -webkit-transition-duration: .2s;
         -moz-transition-duration: .2s;
         -o-transition-duration: .2s;
         transition-duration: .2s;
         overflow: scroll;
        }

        .center {
        background-color: blue;
        height: auto;
        margin-right: 300px;
        float: left;
        }

        .sidebar {
        width: 300px;
        height: 100%;
        position: fixed;
        right:0;
        background-color: green;
        float: left;
        }

        @media screen and (max-width:1150px) {
        .left {
        width: 80px;
        height: 100%;
        background-color: red;
        position: fixed;

        }
        .main-content {

        margin-left: 100px;

        }   

        .center {
        margin-right: 200px;

        }   

        .sidebar {
        width: 200px;

        }

        }

        </style>

    </head>
    <body>
        <div class="header"></div>

        <div class="left">

            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                                    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                                                Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                                                            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
        </div>

        <div class="main-content">

            <div class="center">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                                    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                                                Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                                                            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                        Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                                    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                                                Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                                                            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
</div>

            <div class="sidebar"></div>

        </div>
        <div class="footer"></div>
    </body>
</html> 
```

就像，左侧边栏，中心内容，右侧边栏和顶部的标题。

我想做的是让左右侧边栏距顶部 150 像素（标题的高度），然后当您向下滚动到标题时，它们距顶部 10 像素。

这个页面是我想做的一个完美的例子。 [http://readwrite.com/2013/02/05/why-jailbreak-ios-6-is-popular-enough-to-break-cydia](http://readwrite.com/2013/02/05/why-jailbreaking-ios-6-is-popular-enough-to-break-cydia)

就像用户向下滚动时，它会逐个像素地逐渐靠近顶部。

我在想jquery吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:26:54.203

是的，它是在 JQuery 的帮助下完成的，你必须在你的 html 文件中包含 JQuery，这里是函数：这里是 jsfiddle [http://jsfiddle.net/sarfarazdesigner/xDfya/](http://jsfiddle.net/sarfarazdesigner/xDfya/)的链接， 或者你可以添加这个代码
$( window).scroll(function () { if ($(this).scrollTop() > 150) {

```
 $('.left').css({
            position:'fixed',
            top:'0',
            left:'0',
            right:'0',
            'z-index':'999999',
        })
    } 
    else {
        $('.left').css({
            position:'fixed',
            top:'150px'
        })

    }
});
</script> 
```

你可以在这个 if 或 else 条件下做任何你想做的事情，如果你有任何问题，请告诉我

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-15T23:31:19.403

您可以使用 Javascript 检测滚动位置，如果元素到达所需的 y 位置，则为向下滚动的每个像素添加一个像素到 style.top（使其在用户滚动经过标题后显示为固定）。

为此，您必须在显示固定之前将滚动一点的部分添加一个 id，并添加测量滚动和定位 id 的 javascript。

我将上面的 html 重新设计为更传统的 3 列布局，具有固定的左右宽度和流动的中心内容区域。

相关的 javascript 在下面，这是一个[jsFiddle **DEMO**](http://jsfiddle.net/deborah/vAnh5/) ...

```
function fixTop() {
  // get scroll distance
  function getScrollY() {
    var y = 0;
    if( typeof ( window.pageYOffset ) == 'number' ) {
        y = window.pageYOffset;
    } else if ( document.body && ( document.body.scrollTop) ) {
        y = document.body.scrollTop;
    } else if ( document.documentElement && ( document.documentElement.scrollTop) ) {
        y = document.documentElement.scrollTop;
    }
    return [y];
  }  

  var y = getScrollY();
  var y = y[0];

  // tell it which element has to scroll, then stick
  var fixMe = document.getElementById('left' );

  // measure distance and fix it at the correct scroll position  
  function getYset() {

      // tell it how far it has to go before fixing
      var scrollToHere = 200;

      // check where it is and provide the style.top value
      if (y > scrollToHere) {
        ySet = y - scrollToHere;
        return [ySet];
      } else {
        ySet = 0;
        return [ySet];
      }
  }

  var ySet = getYset();
  var ySet = ySet[0];

  //  set the style.top according to the calculations above
  fixMe.style.top = ySet + "px";
}

// run the function when user scrolls
window.onscroll = function() {
  fixTop();
} 
```

# android - 从列表视图中标记和选择项目

> ID：14721571
> 
> 赞同：1
> 
> 时间：2013-02-06T04:28:17.070
> 
> 标签：android

我想从手机中获取联系人并将其显示为列表视图，我想选择一些并将其添加到数据库中。问题是我不想一一选择，而不是那样

我想标记联系人并整体选择。

在安卓中可以吗？如果是，请帮助我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T05:39:09.057

您可以使用此代码：

```
public class ImportContactsFromContactsList extends ListActivity implements Runnable
{
     Cursor phoneCursor;
     Button done,cancel;

     final int PROGRESS_DIALOG=0;
     ProgressDialog progressDialog;
     ArrayAdapter<ContactModel> adapter;
    @Override
    public void onCreate(Bundle saveinst)
    {
    super.onCreate(saveinst);

     progressDialog=ProgressDialog.show(ImportContactsFromContactsList.this, "LoadContacts", "Please wait...", true, false);
     Thread loadContact=new Thread(this);
      loadContact.start();

}

public void run()
{
    List<ContactModel>contactList=new ArrayList<ContactModel>();
    try

{
        Looper.prepare();
     String[] projection = new String[] {
             ContactsContract.Contacts._ID,ContactsContract.Contacts.DISPLAY_NAME,ContactsContract.Contacts.HAS_PHONE_NUMBER};
     String selection = ContactsContract.Contacts.DISPLAY_NAME + "!='null'";
     String sortOrder = ContactsContract.Contacts.DISPLAY_NAME + " COLLATE LOCALIZED ASC";
     Cursor cursor = managedQuery(ContactsContract.Contacts.CONTENT_URI, projection, selection, null, sortOrder);
     startManagingCursor(cursor);
     String personName=null;
     String number=null;
     if(cursor!=null)
     {
         while(cursor.moveToNext())
         {
             String id=cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts._ID));
             personName=cursor.getString(cursor.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));
             if (Integer.parseInt(cursor.getString(
                     cursor.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER))) > 0) 
             {
                  Cursor pCur = getContentResolver().query(
            ContactsContract.CommonDataKinds.Phone.CONTENT_URI, 
            null, 
            ContactsContract.CommonDataKinds.Phone.CONTACT_ID +" = ?", 
            new String[]{id}, null);
                  pCur.moveToFirst();
                  number=pCur.getString(pCur.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));
            pCur.close();
             }
             contactList.add(get(personName,number));

         }

         adapter=new MyContactListAdapter(ImportContactsFromContactsList.this, contactList);
         handler.sendEmptyMessage(0);
     }

     }
        catch(Exception exce)
        {
            exce.printStackTrace();
        }

}

private final Handler handler=new Handler(){

    @Override
    public void handleMessage(Message msg)
    {
        progressDialog.dismiss();
         setListAdapter(adapter);
         setContentView(R.layout.contactlist);

    }
};

public ContactModel get(String name,String number)
{
    return new ContactModel(name,number);
}

} 
```

布局代码：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:background="@drawable/background1" >
    <TextView
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="Add Contacts In BlackList"
        android:layout_gravity="center"
        android:gravity="center"
        android:layout_marginTop="80dp"
        android:textSize="40sp"
        android:textAppearance="?android:attr/textAppearanceLarge" ></TextView>
    <FrameLayout android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="10dp">

    <ListView
        android:id="@android:id/list"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:background="#302217"
        android:cacheColorHint="#333333"
        android:divider="#999966"
        android:dividerHeight="2dp"
        android:fastScrollEnabled="true" >

    </ListView>
    <TextView android:id="@android:id/empty"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="There Is No Contact"
        android:textSize="30sp"
        android:textAppearance="?android:attr/textAppearanceLarge">
    </TextView>
    </FrameLayout>

</LinearLayout> 
```

MyContactListAdapter.java 代码：

```
public class MyContactListAdapter extends ArrayAdapter<ContactModel>
{
    private final List<ContactModel> list;
    private final Activity context;
public MyContactListAdapter(Activity context,List<ContactModel> list)
{
    super(context,R.layout.contactliststyle,list);
    this.context=context;
    this.list=list;

}

public class ViewHolder
{
    protected TextView txtName,txtNumber;
    protected CheckBox selection ;
}

@Override
public View getView(int position, View convertView, ViewGroup parent) {
    View view = null;
    if (convertView == null) {
        LayoutInflater inflator = context.getLayoutInflater();
        view = inflator.inflate(R.layout.contactliststyle, null);
        final ViewHolder viewHolder = new ViewHolder();
        viewHolder.txtName = (TextView) view.findViewById(R.id.txtView_Name);
        viewHolder.txtNumber = (TextView)view.findViewById(R.id.txtView_Number);
        viewHolder.selection = (CheckBox)view.findViewById(R.id.checkbtn_selectContact);
        viewHolder.selection
                .setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {

                    public void onCheckedChanged(CompoundButton buttonView,
                            boolean isChecked) {
                        ContactModel element = (ContactModel)viewHolder.selection
                                .getTag();
                        element.setSelected(buttonView.isChecked());
                        if(buttonView.isChecked())
                        {
                        String selectedName=element.getName();
                        String selectedNumber=element.getNumber();
                        Transactions trans=new Transactions(context);
                        trans.addBlackListNumberFromCallLog(selectedNumber, selectedName);

                        }
                        else
                        {
                            String selectedNumber=element.getNumber();
                            Transactions trans=new Transactions(context);
                            trans.dropBlackListNumber(selectedNumber);
                        }

                    }
                });
        view.setTag(viewHolder);
        viewHolder.selection.setTag(list.get(position));
    } else {
        view = convertView;
        ((ViewHolder) view.getTag()).selection.setTag(list.get(position));
    }
    ViewHolder holder = (ViewHolder) view.getTag();
    holder.txtName.setText(list.get(position).getName());
    holder.txtNumber.setText(list.get(position).getNumber());
    holder.selection.setChecked(list.get(position).isSelected());
    return view;
}

} 
```

ContactModel.java 代码：就像getter setter一样简单。

```
public class ContactModel 
{

private String name;
private String number;
private boolean selected;
public ContactModel(String personName,String phNumber)
{
    this.name=personName;
    this.number=phNumber;
    selected=false;
}
public String getName() {
    return name;
}
public void setName(String name) {
    this.name = name;
}
public String getNumber() {
    return number;
}
public void setNumber(String number) {
    this.number = number;
}
public boolean isSelected() {
    return selected;
}
public void setSelected(boolean selected) {
    this.selected = selected;
}

} 
```

ContactListStyle XML 布局代码：

```
 <?xml version="1.0" encoding="utf-8"?>
<LinearLayout 
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical">

    <Button
        android:id="@+id/done_button"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:text="Done"
        android:layout_gravity="center_horizontal" />

    <RelativeLayout 
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_marginTop="40dp" >
    <TextView
        android:id="@+id/txtView_Name"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Name"
        android:textColor="#FFFFFF"
        android:textSize="20px" >
    </TextView>
     <CheckBox
        android:id="@+id/checkbtn_selectContact"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:layout_marginLeft="4px"
        android:layout_marginRight="10px" >
    </CheckBox>
<TextView
        android:id="@+id/txtView_Number"
        android:layout_below="@id/txtView_Name"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Number"
        android:textColor="#FFFFFF"
        android:textSize="20px" >
    </TextView>

</RelativeLayout>
</LinearLayout> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T04:43:27.097

您可以查看[此演示](http://android-coding.blogspot.ro/2011/09/listview-with-multiple-choice.html)以从 listView 中选择多个项目。并且对于该列表视图中的获取内容，您可以看到[这个](https://github.com/tanordheim/android-sample-contactlist)和[这个](http://l8rs.blogspot.in/2009/03/android-sample-list-contact-book-and.html)演示。

希望您能从那里获得完整的信息。

随意发表评论。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T04:49:36.293

如果我对您的问题很清楚，我建议您使用带有多选列表的 android 对话框。阅读并将联系人列表作为数组适配器的来源。如果需要，请阅读此示例。

[这里](http://developer.android.com/guide/topics/ui/dialogs.html#DialogFragment) 和[这里](http://myandroidtipsandtricks.blogspot.com/2011/10/using-multiselect-list-with-dialog.html)

# java - 在 Eclipse 中找不到 SDK 文件夹

> ID：14721572
> 
> 赞同：3
> 
> 时间：2013-02-06T04:28:24.480
> 
> 标签：java, android, eclipse, sdk

我已经使用 Eclipse 一个多月了，并且一直在开发一个应用程序。到目前为止，它一直运行良好。它给了我错误：找不到 SDK 文件夹“ `C:\Users\bax\Desktop\adt-bundle-windows-x86_64\sdk\.`”今天早些时候工作正常。
这可能是什么原因？有任何想法吗？
先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-03-09T11:45:41.620

我刚刚在出现错误“值必须是现有目录”的位置解压缩了 SDK 包。并且它的工作良好。我认为主要问题都与路径有关。

# javascript - 在javascript中获取请求属性

> ID：14721574
> 
> 赞同：0
> 
> 时间：2013-02-06T04:28:27.827
> 
> 标签：javascript, jstl

我想在javascript中检索请求范围属性，如下所示。我怎样才能做到这一点？

```
function caseChanges(req) {
    var innervalue= "${dashboardTicketSummary}"
    alert("nand you are 1234");
    alert(innervalue);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T04:35:03.293

假设 javascript 被内联包含在 jsp 页面上——你在正确的轨道上，你只需要确保在 HttpServletRequest 对象上设置了属性（通常由你的控制器类），即：

```
@Override
protected void doGet(HttpServletRequest req, HttpServletResponse res)
{
  DashboardTicketSummary dts = ...; // code to obtain ticket summary here

  req.setAttribute("dashboardTicketSummary", dts);

  // code to dispatch to your jsp page here
} 
```

当然还有很多其他更复杂的方法——尤其是你使用流行的 MVC 框架，比如 Spring

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T04:48:33.310

设置值以请求属性并将这段代码写入jsp页面上的脚本标记（如index.jsp）：

```
<script>
    function caseChanges(req){
        var innervalue= "${dashboardTicketSummary}"
        alert("nand you are 1234");
        alert(innervalue);
    } 
</script> 
```

为了更好的可维护性，您可以将所有属性收集到 jsp 上的全局对象中，并在其他 js 文件中引用它：

索引.jsp

```
<script>
    var REQUEST_ATTRS = {
            dashboardTicketSummary : '${dashboardTicketSummary}',
            otherAttributes :'${otherAttributes}'
        };
</script> 
```

其他.js

```
function caseChanges(req){
    var innervalue= REQUEST_ATTRS.dashboardTicketSummary ;
    alert("nand you are 1234");
    alert(innervalue);
} 
```

# html - Rails 3 和 HAML 中的链接不可点击

> ID：14721577
> 
> 赞同：0
> 
> 时间：2013-02-06T04:28:46.220
> 
> 标签：html, ruby-on-rails, ruby-on-rails-3, haml

我有一个带有 HAML 的 Rails 3.1 应用程序，我正在尝试设置带有指向其他站点的链接的主页。我的 Haml 代码如下所示：

```
.home-container
  %section.news
    %a{:href => "http://www.google.com"} Google 
```

该页面是应用程序的主页，并且有一个侧边栏部分在它之后呈现，具有 Twitter 提要。我已经尝试了大量的链接语法，包括常规的 html，我得到的只是文本，链接实际上是不可点击的，所以当我点击它时没有任何反应。我已经在 Firefox 和 Chrome 中对其进行了测试，我可以在检查器中看到它是一个实际链接，尽管我可以直接检查元素，但我必须打开 body、div 等。谷歌搜索完全没有结果。

我不知道发生了什么以及其他可能的信息是相关的。让我知道是否需要更多详细信息。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:32:53.727

所以在朋友的帮助下，问题出在 CSS 上。具体来说，主容器的内容的 z-index 为 -1，标题和图片的 z-index 为 1 和 2，没有任何相对定位。所以内容被放在标题内容后面，所以我无法点击任何链接。从内容中删除 -1 的 z-index 后，它现在可以工作了，我可以单击链接。要重新添加 z-index，我制作了内容 1 和标题 2，并添加了 position: relative; 到两者的CSS。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T04:38:39.190

```
try

.home-container
  %section.news
    %= link_to 'Google', "http://www.google.com" 
```

# javascript - 如何在客户端的网页中访问服务器端终端？

> ID：14721589
> 
> 赞同：1
> 
> 时间：2013-02-06T04:29:17.640
> 
> 标签：javascript, jquery, java-compiler-api, terminal-emulator

终端仿真器必须嵌入网页中，用户必须在网页中编译和运行通过网页访问在服务器上创建的 java 程序。我想在终端中编译和运行程序。客户端无需安装任何应用软件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T05:08:17.297

我会推荐以下内容：

*   制作一个文本可编辑的 div（将 contentEditable 属性设置为 true）并将其设置为看起来像控制台。
*   然后绑定到它的按键事件以监视输入，在该输入上您 ajax 请求执行您键入的任何内容的服务器端脚本。例如使用 php 的 exec() 并输出它的返回值。
*   将服务器端脚本的响应附加到 div，然后重复..

不过，在向用户打开控制台时，您应该非常小心。您可以通过在所有终端命令前显式添加一个函数来进一步限制终端的能力，例如`<?php echo exec('git '.$_GET['cmdtxt']); ?>`，这是确保调用 git 的一种方法，但它仍然容易受到攻击，因为您可能会执行第二个命令。我相信您可以弄清楚您的安全需求是什么并正确验证它们。

如果这看起来含糊不清，那只是因为您的问题不是太具体。这是您要寻找的答案吗？让我知道 ：）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T07:52:19.303

首先，您可以创建一个用于显示结果的 div 和一个用于命令的 textarea。检查文本区域的按键，并在用户按下回车时使用 AJAX 将命令发送到服务器。您可以设置它们的样式，使其看起来更像终端。

请注意，将控制台暴露给用户很容易被黑客入侵。始终检查用户输入以确保无法执行危险命令。

如何过滤命令的示例代码：

```
<?php
$cmd = $_POST['cmd'];
$allowed = array('ls','git','grep','...');//The allowed commands

foreach($allowed as $part){
    if(strpos($cmd,$part) === false){
        echo 'Command not recognized!';
    }
}

ob_start();
passthru($cmd);
$result = ob_end_clean();

echo json_encode(array('result'=>$result)); 
```

希望这可以帮到你。

# r - R在data.table（或ddply）中动态构建“列表”

> ID：14721592
> 
> 赞同：12
> 
> 时间：2013-02-06T04:29:53.850
> 
> 标签：r, data.table, plyr, aggregation

我的聚合需求因列/data.frames 而异。我想动态地将“list”参数传递给data.table。

作为一个最小的例子：

```
require(data.table)
type <- c(rep("hello", 3), rep("bye", 3), rep("ok",3))
a <- (rep(1:3, 3))
b <- runif(9)
c <- runif(9)
df <- data.frame(cbind(type, a, b, c), stringsAsFactors=F)
DT <-data.table(df) 
```

这个电话：

```
DT[, list(suma = sum(as.numeric(a)), meanb = mean(as.numeric(b)), minc = min(as.numeric(c))), by= type] 
```

将产生类似于此的结果：

```
 type suma     meanb      minc
1: hello    6 0.1332210 0.4265579
2:   bye    6 0.5680839 0.2993667
3:    ok    6 0.5694532 0.2069026 
```

未来的 data.frames 将有更多列，我想以不同的方式总结。但是为了使用这个小例子：有没有办法以编程方式传递列表？

我天真地尝试过：

```
# create a different list
mylist <- "list(lengtha = length(as.numeric(a)), maxb = max(as.numeric(b)), meanc = mean(as.numeric(c)))"
# new call
DT[, mylist, by=type] 
```

出现以下错误：

```
1: hello
2:   bye
3:    ok
mylist
1: list(lengtha = length(as.numeric(a)), maxb = max(as.numeric(b)), meanc = mean(as.numeric(c)))
2: list(lengtha = length(as.numeric(a)), maxb = max(as.numeric(b)), meanc = mean(as.numeric(c)))
3: list(lengtha = length(as.numeric(a)), maxb = max(as.numeric(b)), meanc = mean(as.numeric(c))) 
```

任何提示表示赞赏！此致！

PS 对这些感到抱歉`as.numeric()`，我不太明白为什么，但我需要它们才能运行示例。

**在初始句子中的 data.frame 之前对插入的列 / 进行**少量编辑，以澄清我的需求。****

 *** * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-06T04:41:31.117

这解释了[常见问题解答 1.6](http://datatable.r-forge.r-project.org/datatable-faq.pdf) 您正在寻找的是`quote`和`eval`

就像是

```
 mycall <- quote(list(lengtha = length(as.numeric(a)), maxb = max(as.numeric(b)), meanc = mean(as.numeric(c))))

 DT[, eval(mycall)] 
```

经过一番头疼之后，这是一种非常丑陋的方式来构建对 ddply 的调用`.()`

```
myplyrcall <- .(lengtha = length(as.numeric(a)), maxb = max(as.numeric(b)), meanc = mean(as.numeric(c)))

do.call(ddply,c(.data = quote(DF), .variables = 'type',.fun = quote(summarise),myplyrcall)) 
```

您还可以使用`as.quoted`which has an `as.quoted.character`method to build using`paste0`

```
myplc <-as.quoted(c("lengtha" = "length(as.numeric(a))", "maxb" = "max(as.numeric(b))", "meanc" = "mean(as.numeric(c))")) 
```

这也可以与 data.table 一起使用！

```
dtcall <- as.quoted(mylist)[[1]]

DT[,eval(dtcall), by = type] 
```

`data.table`一路走来。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-06T05:01:51.293

另一种方法（支持使用`paste`or`paste0`构建表达式）：

```
expr <- parse(text=mylist)
DT[, eval( expr ), by=type]
#-------
    type lengtha      maxb     meanc
1: hello       3 0.8265407 0.5244094
2:   bye       3 0.4955301 0.6289475
3:    ok       3 0.9527455 0.5600915 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-02-06T08:21:34.887

另一种方法是使用`.SDcols`将您想要一起执行相同操作的列分组。假设您需要将列与应该采用的位置及其中位数`a,d,e`相加，然后，`type``b,g``mean``c,f`

```
# constructing an example data.table:
set.seed(45)
dt <- data.table(type=rep(c("hello","bye","ok"), each=3), a=sample(9), 
                 b = rnorm(9), c=runif(9), d=sample(9), e=sample(9), 
                 f = runif(9), g=rnorm(9))

#     type a          b         c d e         f          g
# 1: hello 6 -2.5566166 0.7485015 9 6 0.5661358 -2.2066521
# 2: hello 3  1.1773119 0.6559926 3 3 0.4586280 -0.8376586
# 3: hello 2 -0.1015588 0.2164430 1 7 0.9299597  1.7216593
# 4:   bye 8 -0.2260640 0.3924327 8 2 0.1271187  0.4360063
# 5:   bye 7 -1.0720503 0.3256450 7 8 0.5774691  0.7571990
# 6:   bye 5 -0.7131021 0.4855804 6 9 0.2687791  1.5398858
# 7:    ok 1 -0.4680549 0.8476840 2 4 0.5633317  1.5393945
# 8:    ok 4  0.4183264 0.4402595 4 1 0.7592801  2.1829996
# 9:    ok 9 -1.4817436 0.5080116 5 5 0.2357030 -0.9953758

# 1) set key
setkey(dt, "type")

# 2) group col-ids by similar operations
id1 <- which(names(dt) %in% c("a", "d", "e"))
id2 <- which(names(dt) %in% c("b","g"))
id3 <- which(names(dt) %in% c("c","f"))

# 3) now use these ids in with .SDcols parameter
dt1 <- dt[, lapply(.SD, sum), by="type", .SDcols=id1]
dt2 <- dt[, lapply(.SD, mean), by="type", .SDcols=id2]
dt3 <- dt[, lapply(.SD, median), by="type", .SDcols=id3]

# 4) merge them.
dt1[dt2[dt3]]

#     type  a  d  e          b          g         c         f
# 1:   bye 20 21 19 -0.6704055  0.9110304 0.3924327 0.2687791
# 2: hello 11 13 16 -0.4936211 -0.4408838 0.6559926 0.5661358
# 3:    ok 14 11 10 -0.5104907  0.9090061 0.5080116 0.5633317 
```

如果/当你有很多列时，制作一个像你一样的列表可能会很麻烦。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2013-02-06T08:29:11.453

我觉得这显然`eval`是答案的一部分令人担忧。从您的问题来看，我不清楚您是否以及为什么真的想做您声称想要的事情。因此我在这里演示你也可以使用一个函数：

```
fun <- function(a,b,c) {
  list(lengtha = length(as.numeric(a)), 
          maxb = max(as.numeric(b)), 
         meanc = mean(as.numeric(c)))  
}

DT[, fun(a,b,c), by=type]

    type lengtha      maxb     meanc
1: hello       3 0.8792184 0.3745643
2:   bye       3 0.8718397 0.4519999
3:    ok       3 0.8900764 0.4511536 
```**

# javascript - 运行跨多个 grunt.js 文件配置的任务

> ID：14721597
> 
> 赞同：8
> 
> 时间：2013-02-06T04:30:33.767
> 
> 标签：javascript, node.js, gruntjs

我有一个包含多个未发布模块的节点应用程序。我的应用程序`package.json`包含一些 git 依赖项：

```
"module-a": "git+ssh://git@github.com:me/module-a.git",
"module-b": "git+ssh://git@github.com:me/module-b.git" 
```

每个人都有自己的咕噜声配置。例如在`node_modules/module-a/grunt.js`：

```
module.exports = function(grunt) {

grunt.initConfig({
    lint: {
        files: ['server/**/*.js', 'test/**/*.js']
    },
    jshint: {
        options: require('./lint-ci')
    }
});

grunt.registerTask('default', 'lint'); 
```

};

（他们还运行测试等，但我在这里保持简单）

有没有内置的方法可以用 grunt 做到这一点？请注意，当我只更改了该依赖项中的某些内容时，为了方便起见，我想保留依赖项 grunt.js 文件。

我发现的唯一解决方案是

*   以编程方式构建我的主要 grunt.js（例如，迭代我在 package.json 中的依赖项以构建 lint 和测试配置）
*   使用 grunt 多次调用`--config node_modules/module-a/grunt.js`

两者似乎都不理想。有没有更好的办法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-04T14:14:35.743

只是一个想法，但你看过 grunt-hub 吗？

[https://github.com/shama/grunt-hub](https://github.com/shama/grunt-hub)

# ios - 获取字典中键中的对象值

> ID：14721599
> 
> 赞同：2
> 
> 时间：2013-02-06T04:30:37.360
> 
> 标签：ios, nsdictionary

我有一个字典，其中包含从 JSON 返回的数据填充的键值对。我想做的是使用字典来填充 UITableView。

我有这个表结构：

[产品名称] 按 [制造商名称]

这意味着键是产品名称，值是制造商名称。我需要获取键的名称和值的名称。如何才能做到这一点？没有for循环有可能吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T04:57:03.383

我会使用这种`enumerateKeysAndObjectsUsingBlock:`方法。以下代码构建您需要的字符串列表。

```
NSMutableArray *names = [NSMutableArray array];

[dictionary enumerateKeysAndObjectsUsingBlock: ^(NSString *key, NSString *object, BOOL *stop) {
    [names addObject[NSString stringWithFormat:@"%@ By %@",key, object]];
}]; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-06T04:40:51.687

您可以使用`keyEnumerator`of`NSDictionary`和为每个键查找值。这可能看起来像这样：

```
for (NSString *p in dict)
{
    NSString *m = [dict objectForKey:p];
    // do something with (p,m)
} 
```

您不应该担心避免`for`-loops。毕竟，像`for`循环这样的事情总会在下面的某个地方发生。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-06T04:37:00.860

如果您的密钥是来自 json 的动态密钥，那么您可以使用

```
 NSArray *keys = [dictionary allkeys]; 
```

然后在 table View Cell for row at index path 方法中，您可以使用相应的键及其值填充表格视图。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-06T04:39:42.843

```
NSArray * keys = [results allKeys];

for (int i = 0;i<[keys count];c++){
 NSString* productName = [key objectAtIndex:i];
 NSString* manufacturerName = [results objectForKey:productName];
} 
```

希望这可以帮助...

我假设名称为字符串，您可以根据您的情况更改类型..

# grails - grails 服务器推送

> ID：14721600
> 
> 赞同：3
> 
> 时间：2013-02-06T04:30:44.603
> 
> 标签：grails, comet, server-push, atmosphere

我一直在评估 grails 服务器推送技术，并且不断遇到[grails 氛围插件](http://www.grails.org/plugin/atmosphere)，但它似乎并没有被积极开发。我还看到了[grails events push plugin](http://grails.org/plugin/events-push)。是否有用于 grails 中服务器推送的标准插件？是其中之一还是另一个都在一起？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T15:25:17.467

推荐使用 Grails 事件推送插件。

（我是大气的创造者）。

# delphi - 数据库图像到 TImage

> ID：14721605
> 
> 赞同：0
> 
> 时间：2013-02-06T04:31:00.103
> 
> 标签：delphi, delphi-xe2

为什么这段代码不起作用：

使用此代码保存图像就可以了（我也在报告中看到了图像）：

```
 gallery.append;
   gallery.FieldByName('Image').Assign(pic.Picture.Bitmap);
   gallery.post; 
```

但是这段代码：

```
Gallery.Insert;
S := CreateBlobStream(gallery.FieldByName('Image'), bmWrite);
Image1.Picture.Bitmap.SaveToStream(S);
gallery.Post;
S.Free; 
```

导致错误“数据集未处于编辑或插入模式”。所以我用了第一个。

但将其恢复为 Timage 中的形式会导致“位图格式无效”

```
var S : TStream ;
s := gallery.CreateBlobStream(gallery.FieldByName('Image'), bmRead);
Pic.Picture.Bitmap.LoadFromStream(S);
s.Free; 
```

错误显示在任何图像上。我也使用 About.com 的教程尝试了 DBimage 并不断出错。数据库是 Access 2010，图像字段是 OLE (blob)。有点卡住了。

s

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-10T02:45:39.533

我想通了：

这是如何将 JPG 图像从 Access 数据库显示到 Timage：

1.  Access 数据库字段是 OLE（或 blob）。
2.  使用此代码将图像保存到数据库

    画廊。附加；gallery.FieldByName('Image').Assign(pic.Picture.Bitmap); 画廊.post;

Gallery 是 AdoTable，Image 是包含图像的 Access 字段名称。现在将图像显示回 Delphi Timage 组件： 1\. 在 Uses 子句中，包含使用单位的那个（File --Use Unit）放入：

```
Uses Jpeg 
```

然后使用此代码显示图像：

```
var
jpg:TJPegImage;

begin
jpg :=TjpegImage.Create;
jpg.Assign(TblobField(gallery.FieldByName('Image')));
pic.Picture.Bitmap.Assign(jpg);
jpg.Free;
end; 
```

多么酷啊。

# python - Python 搜索目录，列出文件的基本名称，无扩展名

> ID：14721606
> 
> 赞同：1
> 
> 时间：2013-02-06T04:31:03.620
> 
> 标签：python, file, printing, directory

我想知道是否无论如何我可以修改我的代码以仅发布文件的基本名称，而不是包含扩展名的整个文件。我是 python 新手，所以我不太了解，而且我不知道不想修改某些东西并让它完全崩溃。

```
import glob
import os
os.chdir( "C:/headers" )

txt = open( 'C:/files.txt', 'w' )

for file in glob.glob( "*.h" ):
    with open( file ) as f:
        contents = f.read()
        if 'struct' in contents:
            txt.write( "%s\n"%file )
txt.close() 
```

基本上，它的作用是搜索头文件目录，如果文件中有结构字符串，它将在 txt 文件中打印文件。但是，当我运行它时，txt 文件会打开并列出所有文件，但我希望它只列出文件的基本名称，我不需要 .h 在它的末尾。

请帮忙，谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T04:39:46.183

```
root, ext = os.path.splitext(file)
name = os.path.basename(root) 
```

`root`将包含给定文件名的整个路径，直到扩展名之前的句点，`name`将只是没有前导路径的文件名。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T04:38:57.313

也许这会有所帮助：

```
import glob
import os
import re
os.chdir( "C:/headers" )

txt = open( 'C:/files.txt', 'w' )

for file in glob.glob( "*.h" ):
    with open( file ) as f:
        contents = f.read()    [...]
        if 'struct' in contents:
            txt.write( "%s\n"% re.sub('\.h$', '', file) )
txt.close() 
```

祝你好运！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-10-16T19:33:54.337

只需一行...，返回找到的没有任何文件扩展名的文件，对于在给定搜索目录中找到的具有请求的文件扩展名的文件......！

```
Found_BaseFile_Names= [(f.split('.'))[0] for f in os.listdir(SearchDir) if f.endswith('.txt')] 
```

# ruby-on-rails - 我们应该在模型中为我们的关联提供验证器吗？

> ID：14721609
> 
> 赞同：0
> 
> 时间：2013-02-06T04:31:23.577
> 
> 标签：ruby-on-rails, ruby-on-rails-3.2

我对 Rails 很陌生，有些概念仍然令人困惑，所以我正在编写一个模型并定义了我的外键，然后我还定义了我的验证器一些简单的验证器，比如某些字段不应该为空。例如：

```
class KeyPerformanceInd < ActiveRecord::Base
  #attr_accessible :name, :organization_id, :target

  include ActiveModel::ForbiddenAttributesProtection

  belongs_to :organization
  has_many  :key_performance_intervals, :foreign_key => 'kpi_id'

  validates :name, presence: true
  validates :target, presence: true
  validates :organization_id, presence: true

end 
```

然后想到的问题是，嗯，我是否也应该在这个模型中编写一些验证器，以确保我们用作 foreign_key 的另一个表中的键也存在并且是有效的或类似的东西？
或者这是我们在 RSpec 测试中所做的事情？而不是在模型中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T04:35:27.410

我通常为关联编写 rspec 模型测试，在这种情况下

```
Describe KeyPerformanceInd do
  it {should belong_to(:key_performance_interval)}
end 
```

# loops - 如何在字符串生成器中分隔字符串？

> ID：14721618
> 
> 赞同：0
> 
> 时间：2013-02-06T04:32:23.367
> 
> 标签：loops, text, datagridview, stringbuilder

我有一个正在使用的 StringBuilder，我从一个通过 DataGridView 的循环添加到它。如果有多个带有“，”的字符串，我需要做的是分隔字符串。然后我从 StringBuilder 设置标签的文本。下面是一个没有逗号的工作示例......

这是现在很好用的更新版本....

```
 Dim strUnits As New System.Text.StringBuilder
    Dim lineCount As Integer = 0

   For i = 0 To dgvLowInventory.RowCount - 1
        If dgvLowInventory.Rows(i).Cells(1).Value Is DBNull.Value Or dgvLowInventory.Rows(i).Cells(2).Value Is DBNull.Value Then
            'Skip
        Else
            If lineCount >= 1 Then
                strUnits.Append(", ")
                strUnits.Append("[" & dgvLowInventory.Rows(i).Cells(1).Value & " - " & dgvLowInventory.Rows(i).Cells(3).Value & "]")
                lineCount += 1
            Else
                strUnits.Append("[" & dgvLowInventory.Rows(i).Cells(1).Value & " - " & dgvLowInventory.Rows(i).Cells(3).Value & "]")
                lineCount += 1
            End If
        End If
    Next

    lblTestString.Text = strUnits.ToString() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:04:00.340

保留一个计数器，从 0 开始。

每次追加后，将 1 添加到计数器。

在追加之前，如果计数器大于 0，则`", "`在追加字符串之前追加 a。

或者，将 String.Join 与 一起使用`", "`，具体取决于您使用的编程语言，通常与此等效。 [http://msdn.microsoft.com/en-us/library/57a79xd0.aspx](http://msdn.microsoft.com/en-us/library/57a79xd0.aspx)

# v4l - 如何为 USB 网络摄像头 (640x480) 编写 v4L 捕获程序

> ID：14721620
> 
> 赞同：0
> 
> 时间：2013-02-06T04:32:32.210
> 
> 标签：v4l

我在 linux 2.6 版本中安装了 USB 网络摄像头驱动程序，然后我想使用 V4L 进行捕获请任何人回复我如何编写使用网络摄像头捕获的程序

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-07T01:00:53.403

我使用 linuxTV ( [http://linuxtv.org/downloads/v4l-dvb-apis/](http://linuxtv.org/downloads/v4l-dvb-apis/) ) 的参考来使用 V4l。他们有关于 V4l 的文档和一些示例。看看下面的例子（我从 linuxTV 得到的）：

```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <fcntl.h>
#include <errno.h>
#include <sys/ioctl.h>
#include <sys/types.h>
#include <sys/time.h>
#include <sys/mman.h>
#include <linux/videodev2.h>
#include "../libv4l/include/libv4l2.h"

#define CLEAR(x) memset(&(x), 0, sizeof(x))

struct buffer {
        void   *start;
        size_t length;
};

static void xioctl(int fh, int request, void *arg)
{
        int r;

        do {
                r = v4l2_ioctl(fh, request, arg);
        } while (r == -1 && ((errno == EINTR) || (errno == EAGAIN)));

        if (r == -1) {
                fprintf(stderr, "error %d, %s\n", errno, strerror(errno));
                exit(EXIT_FAILURE);
        }
}

int main(int argc, char **argv)
{
        struct v4l2_format              fmt;
        struct v4l2_buffer              buf;
        struct v4l2_requestbuffers      req;
        enum v4l2_buf_type              type;
        fd_set                          fds;
        struct timeval                  tv;
        int                             r, fd = -1;
        unsigned int                    i, n_buffers;
        char                            *dev_name = "/dev/video0";
        char                            out_name[256];
        FILE                            *fout;
        struct buffer                   *buffers;

        fd = v4l2_open(dev_name, O_RDWR | O_NONBLOCK, 0);
        if (fd < 0) {
                perror("Cannot open device");
                exit(EXIT_FAILURE);
        }

        CLEAR(fmt);
        fmt.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
        fmt.fmt.pix.width       = 640;
        fmt.fmt.pix.height      = 480;
        fmt.fmt.pix.pixelformat = V4L2_PIX_FMT_RGB24;
        fmt.fmt.pix.field       = V4L2_FIELD_INTERLACED;
        xioctl(fd, VIDIOC_S_FMT, &fmt);
        if (fmt.fmt.pix.pixelformat != V4L2_PIX_FMT_RGB24) {
                printf("Libv4l didn't accept RGB24 format. Can't proceed.\n");
                exit(EXIT_FAILURE);
        }
        if ((fmt.fmt.pix.width != 640) || (fmt.fmt.pix.height != 480))
                printf("Warning: driver is sending image at %dx%d\n",
                        fmt.fmt.pix.width, fmt.fmt.pix.height);

        CLEAR(req);
        req.count = 2;
        req.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
        req.memory = V4L2_MEMORY_MMAP;
        xioctl(fd, VIDIOC_REQBUFS, &req);

        buffers = calloc(req.count, sizeof(*buffers));
        for (n_buffers = 0; n_buffers < req.count; ++n_buffers) {
                CLEAR(buf);

                buf.type        = V4L2_BUF_TYPE_VIDEO_CAPTURE;
                buf.memory      = V4L2_MEMORY_MMAP;
                buf.index       = n_buffers;

                xioctl(fd, VIDIOC_QUERYBUF, &buf);

                buffers[n_buffers].length = buf.length;
                buffers[n_buffers].start = v4l2_mmap(NULL, buf.length,
                              PROT_READ | PROT_WRITE, MAP_SHARED,
                              fd, buf.m.offset);

                if (MAP_FAILED == buffers[n_buffers].start) {
                        perror("mmap");
                        exit(EXIT_FAILURE);
                }
        }

        for (i = 0; i < n_buffers; ++i) {
                CLEAR(buf);
                buf.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
                buf.memory = V4L2_MEMORY_MMAP;
                buf.index = i;
                xioctl(fd, VIDIOC_QBUF, &buf);
        }
        type = V4L2_BUF_TYPE_VIDEO_CAPTURE;

        xioctl(fd, VIDIOC_STREAMON, &type);
        for (i = 0; i < 20; i++) {
                do {
                        FD_ZERO(&fds);
                        FD_SET(fd, &fds);

                        /* Timeout. */
                        tv.tv_sec = 2;
                        tv.tv_usec = 0;

                        r = select(fd + 1, &fds, NULL, NULL, &tv);
                } while ((r == -1 && (errno = EINTR)));
                if (r == -1) {
                        perror("select");
                        return errno;
                }

                CLEAR(buf);
                buf.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
                buf.memory = V4L2_MEMORY_MMAP;
                xioctl(fd, VIDIOC_DQBUF, &buf);

                sprintf(out_name, "out%03d.ppm", i);
                fout = fopen(out_name, "w");
                if (!fout) {
                        perror("Cannot open image");
                        exit(EXIT_FAILURE);
                }
                fprintf(fout, "P6\n%d %d 255\n",
                        fmt.fmt.pix.width, fmt.fmt.pix.height);
                fwrite(buffers[buf.index].start, buf.bytesused, 1, fout);
                fclose(fout);

                xioctl(fd, VIDIOC_QBUF, &buf);
        }

        type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
        xioctl(fd, VIDIOC_STREAMOFF, &type);
        for (i = 0; i < n_buffers; ++i)
                v4l2_munmap(buffers[i].start, buffers[i].length);
        v4l2_close(fd);

        return 0;
} 
```

# android - 在设备中运行应用程序时，eclipse indigo 每次都会冻结

> ID：14721629
> 
> 赞同：1
> 
> 时间：2013-02-06T04:33:17.763
> 
> 标签：android, eclipse-indigo

每次在设备中运行应用程序时，Eclipse 都会挂起，我想检查日志消息，以便修复一些应用程序错误。

注意：我正在 HTC 野火设备中进行测试。

> 系统配置

ubuntu 12.04 英特尔酷睿 i3 2GB 内存和 500 GB HD。

你的建议是可观的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T13:39:18.550

太好了，你用我在评论中提供的解决方案解决了你的问题，我在这里只是回答，所以它会对其他用户有所帮助。

第一个解决方案#

更改您的工作区，然后尝试。

第二种解决方案#

更改您的 Eclipse 并重新集成 Android SDK，然后尝试。

# css - CSS浮动和重叠框

> ID：14721630
> 
> 赞同：9
> 
> 时间：2013-02-06T04:33:24.343
> 
> 标签：css, css-float

我一直在搞乱 CSS，试图理解浮点数等。这是问题的样子：

![CSS浮动重叠](../Images/b2baa8436c7bf3d3e483fcf5cc294044.png)

如您所见，黄色框漂浮在灰色后面并经过它。如何让它在框二之前停止？**[这是我的代码](http://jsfiddle.net/8pX9s/)**：

```
<style>
/*resests begin*/
html, body, div, span, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
abbr, address, cite, code, del, dfn, em, img, ins, kbd, q, samp,
small, strong, sub, sup, var, b, i, dl, dt, dd,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, figcaption, figure,
footer, header, hgroup, menu, nav, section, summary,
time, mark, audio, video {
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 100%;
    font: inherit;
    /*vertical-align: baseline; */
    font-weight:normal;
}

article, aside, details, figcaption, figure,
footer, header, hgroup, menu, nav, section {
  display: block;
}
/*resests end*/

body {
    font-size:16px;
    margin:5px;

}

h1 {font-size:2em;}

nav {
    background-color:#ccc;
    padding:5px;
    width:200px;
    height:200px;
    margin:10px;
}

#a {
    background-color:#FFC;
    padding:10px;
}

.r-set {
    padding-left:10px;
    float:right;
}

</style>
</head>

<body>
<h1>Title</h1>

<nav class="r-set">
  <p><a href="#">Two</a></p>
</nav>

<div id="a">
  <h3>One</h3>
</div>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T04:54:26.363

当您浮动一个元素时，您会将其从 DOM 流中取出。要使其与 Box One 交互，您还需要浮动 Box One：

```
#a {
    background-color: #FFFFCC;
    float: left;
    padding: 10px;
    width: 190px;
} 
```

请注意，宽度也已指定。这是因为您想将两个盒子都放在一个包装器中并指定它的宽度：

HTML

```
<div id="wrapper">      
    <h1>Title</h1>
    <nav class="r-set">
        <p><a href="#">Two</a></p>
    </nav>
    <div id="a">
        <h3>One</h3>
    </div>
</div> 
```

CSS

```
#wrapper{
    width: 445px;
} 
```

每当您浮动元素时，最好将它们放在这样的包装器中，这样您就可以将它们带回 DOM，可以这么说。这将避免像您在框 2 后面渲染框 1 时遇到的问题。

这是一个将所有内容组合在一起的**[jsFiddle 。](http://jsfiddle.net/6wRKh/)**顺便说一句，如果您希望框二与框一完全齐平，请去掉它的左边距。

* * *

编辑：

要使框 2 静态且框 1 可扩展，您应该使用相同的 CSS 和标记。只需去掉 Box One 的 float 和 width 属性，并给它 225px 的右边距（Box Two 的宽度减去右边距）。这是更新的**[jsFiddle](http://jsfiddle.net/6wRKh/2/)**。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2020-01-05T16:53:26.017

适用`overflow: hidden;`于非浮箱。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T04:44:29.593

您需要在盒子上设置宽度，确切地说，您需要将填充更改为 %：

```
#a {
    background-color:#FFC;
    padding:1%;
    width:58%;
}

.r-set {
    padding-left:1%;
    float:right;
    width:39%;
} 
```

JS fiddle 显示得更好：[这里](http://jsfiddle.net/fMSfu/)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-06T06:08:04.117

使用浮动时，将其添加到浮动元素的末尾。（*在浮动元素内*）。

`<div class="clear"> </div>`

CSS定义`clear`如下。

```
.clear {
clear: both;
} 
```

或者，如果您不使用`clear`，则必须明确指定宽度 x 高度。

`<div class="clear"> </div>` *在浮动元素之后*使用，防止后面的 HTML 元素不受其浮动的影响。

因此，使用`clear`，您的代码应如下所示：

```
<nav class="r-set">
  <p><a href="#">Two</a></p>
  <div class="clear"> </div> <!-- added clear -->
</nav>

<div id="a">
  <h3>One</h3>
  <div class="clear"> </div> <!-- added clear -->
</div> 
```

编辑：

刚刚看到您需要的屏幕。

```
#a {
    background-color:#FFC;
    padding:10px;
    float: left; /* added this */
    width: 65%; /* added this too, either give width in % or in pixels */
} 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-02-06T04:41:40.053

看到这个链接 jsfiddle.net/EwC2Z/1/

html

```
<body>

<h1>Title</h1>

    <div>
        <div>
            <nav class="r-set">
                <p><a href="#">Two</a></p>
            </nav>
        </div>
        <div id="a">
             <h3>One</h3>

        </div>
    </div>
</body> 
```

CSS

```
article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section {
    display: block;
}
/*resests end*/
 body {
    font-size:16px;
    margin:5px;
}
h1 {
    font-size:2em;
}
nav {
    background-color:#ccc;
    padding:5px;
    width:200px;
    height:200px;
    margin:10px;
}
#a {
    background-color:#FFC;
    padding:10px;
    float:left;
    width:310px;
}
.r-set {
    padding-left:10px;
    float:right;
    margin-top:-3px;
} 
```

# c++ - gcc 中是否有编译器警告会更特别地说明声明和定义签名之间的不匹配？

> ID：14721631
> 
> 赞同：2
> 
> 时间：2013-02-06T04:33:45.280
> 
> 标签：c++, gcc, gcc-warning

我有一个具有成员函数声明的类：

```
void doSomething(int a); 
```

和一个函数定义：

```
void doSomething(int const a) { ... } 
```

正如[构造函数定义和声明之间的不匹配](https://stackoverflow.com/questions/706059)中所述，这些签名被一致的编译器认为是等效的。

我希望做的是找到一个编译器标志，无论如何都会对此发出警告。我正在使用不允许这样做的不合格编译器支持用户，我想在他们这样做之前抓住它。

# c# - 使用索引在列表框中搜索项目

> ID：14721633
> 
> 赞同：0
> 
> 时间：2013-02-06T04:34:29.150
> 
> 标签：c#, winforms, listbox

我正在做一个使用列表框的项目，我可以添加项目、删除项目、更新项目但我无法搜索，这是我的搜索代码

```
string search = Person.listperson[listBox1.SelectedIndex].lastname;
            foreach (String s in search)
            {
                if (s.Equals(textBox6.Text))
                {
                     //show searched items
                    MessageBox.Show("Success!");
                }
            } 
```

你能帮我解决这个问题吗？谢谢 ：）

我这里有一个搜索代码，但它不适用于按钮，我怎样才能将它应用到按钮上？

```
private void textBox6_TextChanged(object sender, EventArgs e)
        {
            int index = listBox1.FindString(this.textBox6.Text);
            if (0 <= index)
            {
                listBox1.SelectedIndex = index;
            }
        } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T05:41:55.593

尝试这样的事情，为您的按钮添加一个点击事件并将您的代码放入其中。这对我有用。

```
private void button1_Click(object sender, EventArgs e)
{
    int index = listBox1.FindString(textBox6.Text);
    if (index > -1)
    {
        listBox1.SelectedIndex = index;
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T05:12:48.317

不确定您到底要做什么，但这里有一些示例。
另外，开始给变量起有用的名字。如果您在一个月内回到此代码，您将不知道那里发生了什么或发生了什么`textBox6`。

`textBox6`在整个`listperson`集合 中查找字符串 ( )：

```
var list = Person.listperson.Where(p => p.lastname.Contains(textBox6.Text)); 
```

要检查特定项目`listperson`是否具有部分`textBox6`值：

```
var search = Person.listperson[listBox1.SelectedIndex].lastname;
bool success = search.Contains(textBox6.Text); 
```

或者，如果您想比较这些值：

```
bool success = (search == textBox6.Text); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T04:59:08.983

你可以在一个字符串中 foreach char

```
string s = "Blippy you";
        foreach (char item in s)
        {

        } 
```

但是任何人。尝试使用 Text.RegularExpressions 进行字符串匹配。

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2016-09-12T19:11:48.357

```
private void button1_Click(object sender, System.EventArgs e)
{
    if (listBox1.FindString("Your String in Textbox 6") != -1)
     {
        MessageBox.Show("Success!");
     }
} 
```

# objective-c - 在 cocos2d 的 3 个类之间传递 int

> ID：14721634
> 
> 赞同：0
> 
> 时间：2013-02-06T04:34:38.823
> 
> 标签：objective-c, cocos2d-iphone

我有 3 个类，即 GameScene、HomeScene 和 RecordsScene，我试图将一个整数值从 GameScene 传递给 RecordScene。我的问题是，一旦游戏完成，它就会回家，然后你必须点击记录才能看到记录。基本上，这三个类的顺序是这样的：

GameScene --> HomeScene --> RecordScene

我一直在尝试做的是将 GameScene 的整数值传递给 HomeScene，然后从 HomeScene 传递给 RecordScene，但是当我到达那里时，整数的值仍然是 0。这是我当前的代码：

```
//GameScene
-(void)goHome:(ccTime)dt
{
HomeScene *home = [HomeScene node];
//myInt is an integer I declared on the HomeScene class, the value changes depending on the stage
home.layer.myInt = 1;
[[CCDirector sharedDirector]replaceScene:home];}

//HomeScene
-(void)viewRecord:(id)sender
{
//View record
RecordScene *record = [RecordScene node];
//lastStage is the integer from RecordScene I'm passing the value of myInt into
record.layer.lastStage = myInt;
[[CCDirector sharedDirector]replaceScene:record];} 
```

我正在实现这样的类：

```
@implementation HomeScene
@synthesize layer;

-(id)init
{
if((self =[super init]))
{
    self.layer = [HomeSceneLayer node];
    [self addChild:layer];
}
return self;
}
@end

@implementation HomeSceneLayer
@synthesize myInt;
//methods
@end 
```

然后我的标题看起来像这样：

```
@interface HomeScene : CCLayer
{
int myInt;}
@property(nonatomic)int myInt;
@end

@interface HomeScene : CCScene
{
HomeSceneLayer *layer;
}
@property (nonatomic, retain)HomeSceneLayer *layer;
@end 
```

为什么它会重置回 0 以及如何将整数值从 GameScene 传递到 RecordScene？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:01:10.200

`@synthesize myInt;`创建一个 iVar `_myInt`。

```
RecordScene *record = [RecordScene node];
//lastStage is the integer from RecordScene I'm passing the value of myInt into
record.layer.lastStage = myInt; 
```

您正在设置`record.layer.lastStage`为 myInt（HomeScene 的 iVar）。尝试`record.layer.lastStage = self.layer.myInt;`

来自 Apple 的编码指南[https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CodingGuidelines/Articles/NamingIvarsAndTypes.html](https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CodingGuidelines/Articles/NamingIvarsAndTypes.html)

> 确保实例变量的名称简洁地描述了存储的属性。通常，您不应直接访问实例变量，而应使用访问器方法（您确实在 init 和 dealloc 方法中直接访问实例变量）。为了帮助表明这一点，请在实例变量名称前加上下划线 (_)，例如：

Xcode 现在（我不知道从什么时候开始）也会自动合成属性，将 iVar 命名为`@property [...] foo` `_foo`.

# java - OverMapView 不适用于滑动菜单

> ID：14721639
> 
> 赞同：0
> 
> 时间：2013-02-06T04:35:09.883
> 
> 标签：java, android, overlay, android-mapview, slidingmenu

我有一个包含 3 个项目的视图。+ 顶栏视图。+ MapView + ListView 在 TopBarView 中有按钮左侧菜单。它使用像 facebook 应用程序这样的幻灯片菜单。但我的问题是当我设置覆盖图视图并单击该按钮时，我的视图有转移和左侧菜单可用，但我的视图跳转到旧位置并与左侧菜单视图重叠。

当我关闭添加叠加地图视图时，滑动菜单正在工作。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T03:52:42.933

我已经找到了解决方案。我已经在 Draw 中用 return false 替换了 return true 然后它的工作......！

# javascript - 在 Meteor 中检查输入

> ID：14721644
> 
> 赞同：4
> 
> 时间：2013-02-06T04:35:39.087
> 
> 标签：javascript, meteor

我正在尝试理解 Meteor 中的 Todos 示例。有一段代码我无法理解：

```
// Returns an event map that handles the "escape" and "return" keys and
// "blur" events on a text input (given by selector) and interprets them
// as "ok" or "cancel".
var okCancelEvents = function (selector, callbacks) {
  var ok = callbacks.ok || function () {};
  var cancel = callbacks.cancel || function () {};

  var events = {};
  events['keyup '+selector+', keydown '+selector+', focusout '+selector] =
    function (evt) {
      if (evt.type === "keydown" && evt.which === 27) {
        // escape = cancel
        cancel.call(this, evt);

  } else if (evt.type === "keyup" && evt.which === 13 ||
             evt.type === "focusout") {
    // blur/return/enter = ok/submit if non-empty
    var value = String(evt.target.value || "");
    if (value)
      ok.call(this, value, evt);
    else
      cancel.call(this, evt);
  }
};
  return events;
}; 
```

产生什么`events['keyup '+selector+', keydown '+selector+', focusout '+selector] = function(){}`？

为什么我们需要将以下内容转换为字符串：`String(evt.target.value || "")`？

上述函数的 evt 参数是否必须具有 .type、.target 和 .target.value？我可以在 evt 中传递什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T17:51:46.037

为`events['keyup '+selector+', keydown '+selector+', focusout '+selector] = function(){}`流星创建一个函数来映射按键（keyup，keydown）事件和失去焦点事件（focusout）。该函数被生成并提供给流星模板系统，以使用特定的 css 选择器绑定到元素。

该值包含触发事件时触发`evt`的 DOM值。`event`唯一应该传递的是触发事件时给出`evt`的原始 DOM ，它在触发事件时由事件中的（作为变量）给出。`event``event`

我最好用代码来解释它。todos 示例的作用相同，只是它使用 css 选择器将事件绑定到元素：

```
<input type="text" onkeyup="doSomething(event);"/>
<script>
//js code
function doSomething(evt) { console.log(evt.target.value) }
</script> 
```

`String(evt.target.value || "")`基本上确保 if`evt.target.value`是一个字符串，以防它作为其他内容输入。我不能 100% 确定它什么时候不能是字符串，但我认为浏览器并不总是标准地触发事件。

该事件并不总是需要的。但它非常有用。在代码示例中，您使用它来识别哪个文本框触发了事件以及按下了哪些键。

更多活动信息：

*   [http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-Event-target](http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-Event-target)
*   [https://developer.mozilla.org/en-US/docs/DOM/event.target](https://developer.mozilla.org/en-US/docs/DOM/event.target)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-06T18:18:37.320

我把这个问题分成了三个部分：

**events['keyup '+selector+', keydown '+selector+', focusout '+selector] = function(){} 会产生什么？**

该`okCancelEvents`方法是一种将DOM和DOM 事件包装在单个函数周围的方法，该函数将每个函数结果的详细信息整理到自定义[`keyup`](https://developer.mozilla.org/en-US/docs/Mozilla_event_reference/keyup)或事件中。[`keydown`](https://developer.mozilla.org/en-US/docs/Mozilla_event_reference/keydown)[`focusout`](https://developer.mozilla.org/en-US/docs/Mozilla_event_reference/focusout)`ok``cancel`

这会产生一个[`EventMap`](http://docs.meteor.com/#eventmaps)绑定到[`Template.todos.events`实现](https://github.com/meteor/meteor/blob/master/examples/todos/client/todos.js#L96)的对象，以便所有`keyup`,`keydown`和`focusout`事件都作为`ok`或`cancel`通过`EventMap`.

**为什么我们需要将以下内容转换为字符串：String(evt.target.value || "")？**

我不认为这是必要的。`var value = evt.target.value || ""`工作得很好，因为浏览器会将[字符串原语解释为字符串对象](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String)。

**上述函数的 evt 参数是否必须具有 .type、.target 和 .target.value？我可以在 evt 中传递什么？**

`evt`参数是[`event`](https://developer.mozilla.org/en-US/docs/DOM/event)从`keyup`、`keydown`和`focusout`方法传入的，`target`并且是本机对象`target.value`的烘焙属性。`event`您不需要手动构建它。

# database - HTML 5 App 本地数据库

> ID：14721645
> 
> 赞同：0
> 
> 时间：2013-02-06T04:35:47.397
> 
> 标签：database, html, windows-phone-8

我正在为 Windows 8 Phone 创建一个问答应用程序。

这些问答大约有100条左右，永远不会改变。

我不熟悉 Windows 8 Phone SDK，所以我决定为此坚持使用 HTML 5 模板。

现在我需要将这些 QA 保存/存储在我不想涉及使用数据库的地方，因为这是我正在制作的一个非常简单的应用程序，我不希望它连接到/依赖于服务器，我希望用户成为即使他们处于离线状态，也能够使用和阅读所有 QA。

因此，有了这些要求，我只能考虑以 json 格式存储这些 QA，然后使用 jquery 读取 QA 并将其填充到 HTML 中。

```
{
    "categoryName": "Animal",
    "categoryId": 1,
    "QA": [
        {
            "question": "Which animal barks ?",
            "answer": "dog"
        },
        {
            "question": "Which animal moos ?",
            "answer": "cow"
        },
    ]
}

{
    "categoryName": "Grammar",
    "categoryId": 2,
    "QA": [
        {
            "question": "Opposite of men ?",
            "answer": "women"
        },
        {
            "question": "Vowels ?",
            "answer": "AEIOU"
        },
    ]
} 
```

您还有其他方法可以建议吗？

请分享您对此的看法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T04:41:28.323

根据[caniuse](http://caniuse.com/#feat=indexeddb)，您应该能够将 HTML5 IndexedDB 与 IE10 一起使用

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T08:40:34.050

你说数据永远不会改变，所以我不明白你为什么需要使用 HTML5 IndexedDB。

您甚至不需要以 JSON 格式存储它，只需直接创建 JS 对象以获得最佳性能：

```
var data = [{
    categoryName: "Animal",
    categoryId: 1,
    QA: [
        {
            question: "Which animal barks ?",
            answer: "dog"
        },
        {
            question: "Which animal moos ?",
            answer: "cow"
        },
    ]
},
{
    categoryName: "Grammar",
    categoryId: 2,
    QA: [
        {
            question: "Opposite of men ?",
            answer: "women"
        },
        {
            question: "Vowels ?",
            answer: "AEIOU"
        },
    ]
}]; 
```

# java - 我的数组中出现空指针异常

> ID：14721649
> 
> 赞同：-2
> 
> 时间：2013-02-06T04:36:06.003
> 
> 标签：java, arrays

每当我在我的 int[] 数组中输入要在该点添加的值时，我都会收到一个空指针异常，并且我不确定我应该从这里去哪里或者是否需要另一个数组。任何帮助将不胜感激。

```
import java.util.Scanner;

public class Range
{
private int[] range;
private int begin,end,falseLoop,numInts,count;
Scanner scan = new Scanner(System.in);

public static void main(String[] args)
{
    Range r = new Range();
    r.getRange();
    r.getAmount();
    r.getInts();
    //r.printAll();
}

private void getRange()
{
    System.out.println("Please enter the first number in the range you would like to use: ");
    begin = scan.nextInt();
    System.out.println("Please enter the second number in the range you would like to use: ");
    end = scan.nextInt();
    falseLoop = end;
    int[] range = new int[(Math.abs(begin) + Math.abs(end))];  
    for(int x = 0; x < range.length; x++)
    {
        range[x] = 0;
    }
}

private void getAmount()
{
    System.out.println("Please enter the amount of integers you would like to enter " 
        + "in the range of " + begin + " to " + end);
    numInts = scan.nextInt();
}

private void getInts()
{
    for(int y = 0; y < numInts; y++)
    {
        System.out.println("Please enter an integer: ");
        range[scan.nextInt()]++;
    }
}
private void printAll()
{
    for(int i = 0; i < range.length; i++)
    {
        System.out.println("Value: " + falseLoop + "equals: " + range[i]);
        falseLoop++;
    }
}
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T04:38:47.223

您正在将您的类变量[隐藏](http://en.wikipedia.org/wiki/Variable_shadowing)`getRange`在.

```
int[] range = new int[(Math.abs(begin) + Math.abs(end))]; 
```

实际上应该是：

```
range = new int[(Math.abs(begin) + Math.abs(end))]; 
```

你得到空指针，因为你已经声明了一个数组，但是没有为它分配任何东西。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T04:45:50.983

不理解代码中的陈述

```
ragne[x] = new int[0]; 
```

您在这里尝试将整数数组分配给整数变量。像

```
integer = integerArray; 
```

# php - 如何在使用不同按钮时从循环中获取价值

> ID：14721650
> 
> 赞同：0
> 
> 时间：2013-02-06T04:36:07.890
> 
> 标签：php, javascript, jquery

我需要来自循环女巫的值是 $row->value，然后当我单击 button_click(href) 时，将显示一个 DIV 弹出窗口并要求另一个值是 idnumber。在弹出窗口中，提交按钮将指向 next_page.php

我希望循环 $row->value 和弹出 value=idnumber 中的值都发送到 next_page.php

```
<div id="show_popup"(hide/show popup)>
 <form action="next_page.php" method="GET or POST">
  <input name="idnumber" type="text" value="">
  <input type="submit" value="button">
 </form>
</div>

<?php 
 foreach($foo as $row){
 echo "
 <tr>
   <td>".$row->value."</td>
   <td><a class='button' href='#' onlick='(popup DIV)'>button_click</a></td>
 </tr>";
 }
?> 
```

这可能吗？

```
$(function() {
   function launch() {
   $('#show_popup').lightbox_me({centered: true, onLoad: function() { $('#add-new-popup').find('input:first').focus()}});}
   $('.button').click(function(e) {
   $("#show_popup").lightbox_me({centered: true, onLoad: function() {
$("#show_popup").find("input:first").focus();}});e.preventDefault();
            });
        }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:02:48.733

将此添加到您的点击处理程序：

```
$('.button').click(function(e) {
    var rowValue = $(this).closest('td').prev().text();
    $("#show_popup").lightbox_me({centered: true, onLoad: function() {
        $("#show_popup").find("input:first").focus();
        $("#show_popup form").prepend($('<input type="hidden" name="rowName" value="' + rowValue + '" />'));
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:20:02.487

如果你想将你的 $row->value 移动到那个 IDnumber 文本框，那么试试这个。

更改您的按钮代码，

```
<td><a class='button' href='#' onlick='(popup DIV)' value='".$row->value."'>button_click</a></td> 
```

在您的 Jquery 按钮单击功能中，添加此行。

```
$('.button').click(function(e) {
   $("#show_popup").lightbox_me({centered: true, onLoad: function() {
   $("input[name='idnumber']").val(($(this).attr('value')));
   $("#show_popup").find("input:first").focus();}});e.preventDefault();
}); 
```

这将为您提供我在顶部提到的内容

# sql - 找不到 SQL 代理文件

> ID：14721652
> 
> 赞同：1
> 
> 时间：2013-02-06T04:36:46.933
> 
> 标签：sql, sql-server, vbscript, sql-agent

此 SQL 作业已在 SQL Server 2000 上工作多年。我决定将此 SQL 作业移至 SQL Server 2012。

我照常运行这项工作，但不断收到以下错误：

> 错误代码：0 错误源 = Microsoft Word 错误描述：找不到此文件。第 21 行出错。步骤失败。它无法找到位于单独服务器上的 .dot 文件。

**现在我在更新服务器上错过了什么吗？**

```
oA2.Open "SELECT ID, Field1, Field2, Field2 FROM tblAppMapping WHERE Field2 is NOT NULL ORDER BY ID"

Set oW = CreateObject("Word.Application")

If oA("FileID") = "2" Then
   oW.Documents.Add "\\fileserver\WordTemplates\Template App V1.dot"
Else
   oW.Documents.Add "\\fileserver\WordTemplates\Template App V2.dot"
End If 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2018-08-14T05:20:44.197

在我看来，文件位置的权限/访问问题。我会检查该文件是否实际存在以及数据库用户（服务代理）是否具有对该文件位置的正确权限。

# gwt - window.alert 在 gwt 中更改标题

> ID：14721653
> 
> 赞同：0
> 
> 时间：2013-02-06T04:36:49.440
> 
> 标签：gwt, uibinder, gwt2

什么时候 **

> 窗口警报

**在gwt中使用，弹出一个窗口有消息，我要**

> 更改标题

**那个窗口的，请帮忙，因为我急需它

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:07:58.653

Window.alert() 打开一个包含确定按钮的本机对话框。你不能改变它的标题。

使用[PopupPanel](http://google-web-toolkit.googlecode.com/svn/javadoc/2.1/com/google/gwt/user/client/ui/PopupPanel.html)或[DecoratedPopupPanel](http://google-web-toolkit.googlecode.com/svn/javadoc/2.1/com/google/gwt/user/client/ui/DecoratedPopupPanel.html)或[DialogBox](http://google-web-toolkit.googlecode.com/svn/javadoc/2.1/com/google/gwt/user/client/ui/DialogBox.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:01:51.823

你不能改变那个的标题..因为你需要寻找另一种选择..

下面是其中之一。

这是一个从 GWT 示例代码生成的简单对话框

```
// Create the popup dialog box
    final DialogBox dialogBox = new DialogBox();
    dialogBox.setText("Remote Procedure Call");
    dialogBox.setAnimationEnabled(true);
    final Button closeButton = new Button("Close");
    // We can set the id of a widget by accessing its Element
    closeButton.getElement().setId("closeButton");
    final Label textToServerLabel = new Label();
    final HTML serverResponseLabel = new HTML();
    VerticalPanel dialogVPanel = new VerticalPanel();
    dialogVPanel.addStyleName("dialogVPanel");
    dialogVPanel.add(new HTML("<b>Sending name to the server:</b>"));
    dialogVPanel.add(textToServerLabel);
    dialogVPanel.add(new HTML("<br><b>Server replies:</b>"));
    dialogVPanel.add(serverResponseLabel);
    dialogVPanel.setHorizontalAlignment(VerticalPanel.ALIGN_RIGHT);
    dialogVPanel.add(closeButton);
    dialogBox.setWidget(dialogVPanel); 
```

在中间添加标签和小部件以获得所需的对话框..

# audio-streaming - 智能手机上的音频流问题

> ID：14721657
> 
> 赞同：0
> 
> 时间：2013-02-06T04:37:15.070
> 
> 标签：audio-streaming, smartphone

我正在开发一个音频流媒体网站（用于 FM 频道）。该网站有两个版本，一个用于网络，另一个用于移动设备。我在移动设备上遇到了 API 无法在智能手机中播放的问题。该网站完美运行。但是在移动设备上它无法播放，当我尝试使用移动模拟器或 Safari 开发人员选项将用户代理设置为 iphone 时，它​​可以正常工作，但播放时间太长。我正在使用 FLASH-TDPlayerAPI1.0 进行音频流传输。我不是在为移动设备创建本机应用程序，我正在使用该网站的移动版本。

任何帮助或提示将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T14:05:13.210

我发现在移动设备上支持流式音频的最佳方式是让原生播放器处理它。虽然发生这种情况时您的页面将不可见，但您不必担心 Flash/HTML5 的兼容性不佳。几年后这不会成为问题，但就目前而言，这是确保某些事情按照您想要的方式工作的唯一方法。

## 安卓

链接到实际的 MP3 流本身。单击链接时，浏览器将对流发出请求以确定其内容类型。当它看到类似`audio/mpeg`的内容时，它将启动本机音频播放器来播放流。

## iOS、黑莓、Palm 等

链接到包含流 URL 的 M3U 播放列表文件。这可以是一个简单的单行文本文件，其中包含 URL。单击链接时，本机播放器将打开播放列表并开始流式传输音频。

# ios - 如何使用条件和约束移动精灵

> ID：14721658
> 
> 赞同：0
> 
> 时间：2013-02-06T04:37:16.890
> 
> 标签：ios, objective-c, cocos2d-iphone

我的场景中有 32 个精灵 我已经像这样安排了我的精灵

```
 o   o   o

                 o   o   o

       o    o    o   o   o    o    o

       o    o    o   .   o    o    o 

       o    o    o   o   o    o    o

                 o   o   o

                 o   o   o 
```

o ---> 移动球。---> 空洞

当我将一个精灵移动到空洞时，中间的精灵将被移除，我的精灵和洞应该互换，就像这样。

```
o  o  . ----->  . . o 
```

可能的方式：

```
 |            |         |            |          |            |           |
o   |            |    .    |            |   o      |         .  |  .        |       .
o   |   o  o  .  |    o    |  .  o  o   |     o    |       o    |    o      |     o
.   |            |    o    |            |       .  |    o       |      o    |  o
    |            |         |            |          |            |           | 
```

共有 8 种移动精灵的可能性。

任何人都可以帮助我如何做到这一点，我应该在我的代码中改变什么？

我的编码在这里

```
- (void)ccTouchesBegan:(NSSet *)touches withEvent:(UIEvent *)event
{ 
UITouch *myTouch = [touches anyObject];
CGPoint location = [myTouch locationInView:[myTouch view]];
location = [[CCDirector sharedDirector] convertToGL:location];

if(movingBall)
{
    for(int i = 0; i<32; i++)
    {
        CCSprite *currentSprite = (CCSprite *)[self getChildByTag:i];

        if(CGRectContainsPoint([currentSprite boundingBox],location))
        {
            // get moving sprite touched

            if(movingBall.position.x == hole.position.x+(2*75) || movingBall.position.x == hole.position.x-(2*75) || movingBall.position.y == hole.position.y+(2*75) || movingBall.position.y == hole.position.y -(2*75))
            {
                movingBall = (CCSprite *)currentSprite;
                break;
            }
        }
    }
  }
 }
-(void)ccTouchesMoved:(NSSet *)touches withEvent:(UIEvent *)event
{
UITouch *touch=[touches anyObject];
CGPoint location=[touch locationInView:[touch view]];
location=[[CCDirector sharedDirector]convertToGL:location];
location=[self convertToNodeSpace:location];

if(!movingBall)
{
    return;
}

movingBall.position = location;

for(int i = 0; i<32; i++)
{
    CCSprite *currentSprite = (CCSprite *)[self getChildByTag:i];

    if(CGRectIntersectsRect([movingBall boundingBox],[currentSprite boundingBox]))
    {
        // current sprite touched
        if(currentSprite.tag == hole.tag)
        {
            movingBall.position = hole.position;

            [self removeChild:currentSprite];
            break;
        }

    }
}}

-(void)ccTouchesEnded:(NSSet *)touches withEvent:(UIEvent *)event
{
if(!movingBall)
{
    return;
}

movingBall = nil;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T04:54:29.143

（我不知道这种编程语言，所以这纯粹是一种算法观点）

首先，计算用户尝试将球移出和移出的起始位置和结束位置。如果移动不是来自填充空间，则拒绝。如果移动不是到空的空间，则拒绝。

其次，计算球的运动量-xDelta = xEnd - xStart，yDelta = yEnd - yStart。为了使运动有效，两者之一必须为真：

*   abs(xDelta) 或 abs(yDelta) == 2，另一个 == 0。
*   abs(xDelta) == 2 和 abs(yDelta) == 2。

如果两者都不正确，则拒绝。

最后，计算中点单元格。xMid = xStart + xDelta/2，yMid = yStart + yDelta/2。如果这是一个球，通过清空 xStart、yStart、清空 xMid、yMid 并填充 xEnd、yEnd 来执行移动。如果没有装满球，则拒绝。

# html-lists - 试图将 ul 列表置于容器内部的中心... sprites in li a

> ID：14721664
> 
> 赞同：1
> 
> 时间：2013-02-06T04:37:40.180
> 
> 标签：html-lists, containers, center, sprite

您好，我正在开发一个网站....这是我的第二个网站，我正在尝试将 ul 居中在一个 div 中我想将图标放在锚标签中并使用背景定位来使用精灵....问题是如何我可以将 ul 设置为在 div 内还是在 ul 内居中...我的代码示例如下：

[http://jsfiddle.net/kowen/wAdf3/1/](http://jsfiddle.net/kowen/wAdf3/1/)

这是代码：（html）

```
<div id="container">
<ul>
    <li><a class="fbicon" href="#">hola 1</a>

    </li>
    <li><a class="twttricon" href="#">hola 2</a>

    </li>
    <li><a class="sndcloudicon" href="#">hola 3</a>

    </li>
    <li><a class="emailicon" href="#">hola 4</a>

    </li>
</ul> 
```

和CSS：

```
 #container {
    width: 400px;
    height:400px;
    text-align: center;
    background-color:gray;
}
#container ul {
    display: inline-block;
}
#container li {
   /* float: left;*/
    height: 33px;
    line-height: 30px;
    text-indent:-999em;
}
#container li a {
    width:32px;
    height:32px;
    background-image:url(http://www.testcloud.com.ar/social-icons.png);
}
a.fbicon {
    background-position:-5px center;
}
a.twttricon {
    background-position:-42px center;
}
a.sndcloudicon {
    background-position:-111px center;
}
a.emailicon {
    background-position:-148px center;
} 
```

我已经尝试了一些食谱，但不知道我该怎么做……我怎样才能让 a 显示为一个块，以便它可以在屏幕上显示完整的图标？？？在此先感谢您的帮助。称呼

# joomla - 在 joomla 2.5 的站点前端获取默认语言

> ID：14721665
> 
> 赞同：0
> 
> 时间：2013-02-06T04:37:44.430
> 
> 标签：joomla, joomla2.5

如何在 Joomla 2.5 的网站前端中获取默认语言？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2014-03-22T22:56:24.527

经过数小时的网络和资源阅读后，我发现这将是正确的答案：

```
JComponentHelper::getParams('com_languages')->get('site') 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T04:43:52.670

试试这个

```
$lang =& JFactory::getLanguage();
echo 'Current language is: ' . $lang->getName(); 
```

[http://docs.joomla.org/JFactory/getLanguage](http://docs.joomla.org/JFactory/getLanguage)

更多详情请[点击这里](https://stackoverflow.com/questions/3352241/how-to-detect-the-current-language-of-a-joomla-website)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-01-28T07:44:49.513

要在 Joomla 3 上获取用户语言，您可以这样做

```
JFactory::getUser()->getParam('language', JFactory::getLanguage()->getTag()); 
```

# java - 在eclipse上找不到javaw来运行hello world

> ID：14721679
> 
> 赞同：2
> 
> 时间：2013-02-06T04:39:10.667
> 
> 标签：java, eclipse, javaw

这是我面临的一些奇怪而烦人的问题。我刚刚经历了一些问题，并决定编写简单的程序来解决它。似乎eclipse无法执行“hello world”，这是我得到的错误信息

```
Exception occurred executing command line. Cannot run program ""\"C:\Program
Files\Java\jre6\bin\javaw.exe\""" (in directory "D:\Vishal_j2E\HelloWorld")
CreateProcess error=3, The system cannot find the path specified 
```

注意 javaw.exe 路径。

然后我将Java文件夹复制到D：（可能与程序文件之间的空间有关）和eclipse中

```
 Windows>Preference>Java>Installed Jres 
```

添加了 D: 路径。除了路径已从 C: 更改为 D: 之外，我仍然有同样的问题

```
 Exception occurred executing command line.
Cannot run program ""\"D:\Java\jre6\bin\javaw.exe\""" 
(in directory "D:\Vishal_j2E\HelloWorld"): CreateProcess error=3, 
The system cannot find the path specified 
```

让我感到困惑的是 两条路径之前的**“\” 。**我相信这可能是实际问题，但我找不到任何解决方法

PS：我的 Android 和 Java EE 应用程序运行良好。是的，通过命令行执行也可以

编辑1：1.使用朱诺

2.这就是我从中得到的

%PATH% C:\Python33\;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;D:\android-sdk-windows\tools;C:\Program Files\TortoiseSVN\bin ; **`C:\Program Files\Java\jdk1.6.0\bin;`** D:\android-sdk-windows\platform-tools;C:\Program Files\Mercurial;C:\Program Files\Apache-Subversion-1.7.2\bin;E:\Vishal\sw\dex2jar-0.0.7.11 -SNAPSHOT\dex2j ar-0.0.7.11-SNAPSHOT;C:\Program Files\bin\repo;C:\Program Files\Git\cmd;C:\TomSe rve\apache-tomcat-7.0.29\bin;D: \Maven\apache-maven-3.0.4\bin

%JAVA_HOME%

**C:\Program Files\Java\jdk1.6.0**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T03:51:54.217

这不是一个实际的答案，而是最后的手段。我不得不重新设置我的开发环境，其中包括全新的 Java 安装、环境变量和 Eclipse。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T04:42:15.247

打开`eclipse.ini`

并更改以下行

```
-vmargs

to include path to your javaw.exe 
```

保存并重新启动eclipse它应该可以工作

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T04:44:30.487

我猜在 eclipse 安装文件夹中 eclipse.ini 文件会在那里。在此文件中需要更改 java 安装路径。

```
-vm
C:/Program Files/Java/jdk1.6.0_26/bin/javaw.exe 
```

将其更改为您的 java 安装目录。

# visual-studio-2010 - 放置新运算符中未解析的外部符号

> ID：14721682
> 
> 赞同：0
> 
> 时间：2013-02-06T04:39:21.500
> 
> 标签：visual-studio-2010

更改项目中的一些文件后，出现以下编译错误。似乎无法找到图书馆安置新运营商。

> resiprocate.lib(Contents.obj) : error LNK2001: unresolved external symbol "void * __cdecl >operator new(unsigned int,class resip::PoolBase *)" (??2@YAPAXIPAVPoolBase@resip@@@Z) resiprocate.lib (ExistsOrDataParameter.obj) : 错误 LNK2001: 无法解析的外部符号 >"void * __cdecl operator new(unsigned int,class resip::PoolBase *)" (??>2@YAPAXIPAVPoolBase@resip@@@Z) resiprocate.lib(StringCategory .obj) : error LNK2001: unresolved external symbol "void * >__cdecl operator new(unsigned int,class resip::PoolBase *)" (??>2@YAPAXIPAVPoolBase@resip@@@Z) resiprocate.lib(Auth.obj ) : error LNK2001: unresolved external symbol "void * __cdecl >operator new(unsigned int,class resip::PoolBase *)" (??2@YAPAXIPAVPoolBase@resip@@@Z) resiprocate.lib(UInt32Category.obj) : 错误LNK2001：未解析的外部符号“void * >__cdecl operator new(unsigned int,class resip::PoolBase *)”(??

# python - 简单的 Python-Turlte 模块

> ID：14721684
> 
> 赞同：1
> 
> 时间：2013-02-06T04:39:38.343
> 
> 标签：python

快速提问。如何使 Python Turtle Graphics 屏幕直接在我的屏幕上弹出，而不是在我必须手动单击它才能打开的背景中。我需要看 Python 绘图

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T08:10:12.383

为了使您的问题快速，您需要发布一些代码。

```
import turtle

myTurtle = turtle.Turtle()
myTurtle.circle(50)
turtle.getscreen()._root.mainloop() 
```

对我来说从前台开始（尝试在 Ubuntu 64 上从 komodo 编辑和命令行运行）

# jquery - 当悬停在主菜单上时，所有子菜单都会显示

> ID：14721688
> 
> 赞同：0
> 
> 时间：2013-02-06T04:39:52.690
> 
> 标签：jquery, responsive-design, show-hide, submenu

我知道这个问题之前已经以其他方式回答过，但我不知道如何实现它。我一直在尝试修改一个响应迅速且适用于移动设备的 demo_menu。该[演示](http://www.freshdesignweb.com/drop-down-responsive-menu-with-css3-jquery.html)在子菜单中没有子菜单，所以我尝试制作一个，但现在我遇到了这个悬停问题。

这是[我](http://jsfiddle.net/Ter747474/QW8j8/2/)的例子。

```
<div class="container">
<header>
    <!-- start header here-->
    <header>
        <div id="fdw">
            <!--nav-->
            <nav>
                <ul>
                    <li><a href="#">Who we are<span class="arrow"></span></a>

                        <ul style="display: none;"
                        class="sub_menu">
                            <li class="arrow_top"></li>
                            <li><a href="#">Jane</a>

                            </li>
                            <li><a href="#">Joe</a>

                            </li>
                            <li><a href="#">FAQ</a>

                            </li>
                        </ul>
                    </li>
                    <li><a href="#">Our servicese<span class="arrow"></span></a>

                        <ul style="display: none;"
                        class="sub_menu">
                            <li class="arrow_top"></li>
                            <li><a href="#">Classes</a>

                            </li>
                            <li><a href="#">Camping</a>

                            </li>
                            <li><a href="#">Coaching</a>

                            </li>
                            <li><a href="#">Stables</a>

                            </li>
                        </ul>
                    </li>
                    <li><a href="#">Prices</a>

                    </li>
                    <li><a href="#">Gallery<span class="arrow"></span></a>

                        <ul style="display: none;"
                        class="sub_menu">
                            <li class="arrow_top"></li>
                            <li><a href="#">Horses<span class="arrow"></span></a>

                                <ul style="display:none;"
                                class="sub_menu2">
                                    <li><a href="#">Horse A</a>

                                    </li>
                                    <li><a href="#">Horse B</a>

                                    </li>
                                    <li><a href="#">Horse C</a>

                                    </li>
                                    <li><a href="#">etc</a>

                                    </li>
                                </ul>
                            </li>
                            <li><a href="#">Location</a>

                            </li>
                            <li><a href="#">Competition</a>

                            </li>
                            <li><a href="#">Theme days</a>

                            </li>
                        </ul>
                    </li>
                    <li>    <a href="#">Contact<span class="arrow"></span></a>

                        <ul style="display: none;"
                        class="sub_menu">
                            <li class="arrow_top"></li>
                            <li><a href="#">Feedback</a>

                            </li>
                            <li><a href="#">Guestbook</a>

                            </li>
                        </ul>
                    </li>
                </ul>
            </nav>
        </div>
        <!-- end fdw -->
    </header>
    <!-- end header --> 
```

```
// show and hide sub menu
$(function () {
$('nav ul li').hover(

function () {
    //show its submenu
    $('ul', this).slideDown(150);
},

function () {
    //hide its submenu
    $('ul', this).slideUp(150);
});
});
//end 
```

我的技能仅限于基本的 html 和 css，所以我可能在这里过头了。

任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:15:28.313

所有你需要的是：http: [//jsfiddle.net/QW8j8/4/](http://jsfiddle.net/QW8j8/4/)

```
$('nav ul li').hover(

function () {
    //show its submenu
    $('> ul', this).slideDown(150);
}, //--^---------------------------apply to the direct children not grandchildren

function () {
    //hide its submenu
    $('> ul', this).slideUp(150);
});//--^---------------------------apply to the direct children not grandchildren 
```

# objective-c - 如何在 uisplitviewcontroller 上使用 segue 推送到另一个视图控制器（详细视图）

> ID：14721691
> 
> 赞同：0
> 
> 时间：2013-02-06T04:40:06.997
> 
> 标签：objective-c, xcode, uiviewcontroller, uisplitviewcontroller, uistoryboardsegue

我开始在 ipad 应用程序上工作，该应用程序需要在详细视图上进行活动（或功能），并会根据所点击的按钮推送（或转移）到另一个视图控制器。

试图弄清楚 segue 是否是我应该使用的。

我的故事板如下所示：

> SplitViewController -> 导航控制器（主视图）/登录（详细视图）-> 仪表板（将在成功登录时转移

但是当我点击按钮并成功登录时，它会给我这个错误：

> 只有当源控制器由 UINavigationController 的实例管理时，才能使用推送 segue。

想法？

编辑：推送到下一个视图控制器的代码

```
- (IBAction)btnSubmit:(id)sender {
    User *user = [[User alloc] init];
    user.email = self.txtEmail.text;
    user.rawPassword = self.txtPassword.text;

    if(user.isValid){
        [self performSegueWithIdentifier:@"LoginSuccess" sender:self];
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T04:45:59.193

该错误告诉您您正在使用选项 push 而不嵌入导航控制器。如果您不想使用导航控制器，只需单击情节提要中的 segue 连接并将其更改为模态，它将正确移动视图。

# sql - 用于检索默认值或排序值的 sql 查询

> ID：14721693
> 
> 赞同：1
> 
> 时间：2013-02-06T04:40:38.100
> 
> 标签：sql, sorting, syntax

我试图弄清楚如何为此编写一个 sql 查询：

我有一个包含 X 列的数据库。如果由函数设置，X 具有日期时间值，否则它有一个默认值，看起来像这样 0001-01-01.00.00.00.000000

我感兴趣的是编写 sql 来检索按最新日期时间值排序的 X 的所有行。

我以为这就是答案

```
 Select * from Some_Table st where st.Dbname = "blah" order_by st.x desc 
```

但后来我在想默认值会发生什么？它们如何影响排序

如果这是要走的路，有什么想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T04:48:25.937

按日期 desc 排序可以正常工作。为什么不使列可以为空，这样您就不需要默认值了？此外，听起来您只想要最新的单曲记录，因此您可能需要考虑使用 SELECT TOP 1 * FROM blah ORDER BY date DESC

# unity3d - 应用风效果时如何使物体与目标对齐？

> ID：14721696
> 
> 赞同：1
> 
> 时间：2013-02-06T04:40:53.457
> 
> 标签：unity3d, swipe

我正在 Unity3d 中制作一种折纸游戏。我正在使用恒力实现风效果。我想知道如何使物体与目标对齐，即如果物体越过目标，它应该进入或与目标对齐，而不是在目标的后面或前面。目前，当我用恒定的力滑动时，对于不同的滑动角度，物体移动的距离是不同的。帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-10T02:47:59.080

在`FixedUpdate`中，用于`Physics.Raycast`检查对象是否在目标上方。如果是这样，请将 x 和 z 的值设置`rigidbody.velocity`为零（假设 y 是游戏世界中的上/下轴）并禁用`ConstantForce`组件（即`gameObject.GetComponent<ConstantForce>().enabled = false`）。请注意，这不是最真实的运动，因为当物体越过目标时，它看起来会突然直线向下移动——但听起来这就是你想要的。

# asp.net - 在 WebMethod JSON 响应中限制来自 LINQ 的值

> ID：14721698
> 
> 赞同：0
> 
> 时间：2013-02-06T04:40:56.740
> 
> 标签：asp.net, web-services

我需要在不使用某种代理对象的情况下限制我在 web 方法中返回到我的页面的值。

假设我有一个带有以下课程的汽车课程

```
 public class Car
    {
        public int Id { get; set; }
        public string Name { get; set; }
        public string Engine { get; set; }
    } 
```

和一个看起来像的网络方法；

```
[WebMethod]
public static List<Car> SearchCars(string search)
{
  var cars = car.All().Where(x => x.name.StartsWith(search));
  return cars.ToList();
} 
```

get 返回到我的页面的列表具有所有属性。我怎样才能排除说..引擎属性，所以只返回 ID 和名称？

以上纯属虚构示例，在现实世界中我使用 Subsonic3 对象返回列表等。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T04:59:01.557

您可以使用投影来仅选择要返回的字段。像这样的东西：

```
[WebMethod]
public static List<Car> SearchCars(string search)
{
  var cars = car.All().Where(x => x.name.StartsWith(search)).Select(x => new { x.Id, x.Name });
  return cars.ToList();
} 
```

# firefox-addon - Firefox SDK - Detecting back button in extension

> ID：14721701
> 
> 赞同：1
> 
> 时间：2013-02-06T04:41:03.910
> 
> 标签：firefox-addon, firefox-addon-sdk

I'd like to do the equivalent of chrome.tabs.onUpdated in Firefox. tabs.on('ready', function(tab){}) does not work because it does not detect the back button. How do I fire an action on every page load such that it also detects the back button using the [Firefox SDK](https://addons.mozilla.org/en-US/developers/docs/sdk/1.13/modules/sdk/tabs.html)?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T12:31:09.390

You'd have to use `require('window-utils').WindowTracker` to all windows, filter for browser windows with the `require('sdk/window/utils').isBrowser(window)` method, then listen to click events on the back button.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T17:13:09.920

It's currently impossible, but will be possible in a future version of Firefox: [https://github.com/mozilla/addon-sdk/commit/e4ce238090a6e243c542c2b421f5906ef465acd0](https://github.com/mozilla/addon-sdk/commit/e4ce238090a6e243c542c2b421f5906ef465acd0)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-01-20T09:12:21.870

A bit of a late answer, but for anyone reading this now (from 2016), **it is now possible to do using the SDK**!

Using the High-Level API `tabs`, you need to listen for the [`pageshow`](https://developer.mozilla.org/en-US/Add-ons/SDK/High-Level_APIs/tabs#pageshow) event. (More about this on [MDN](https://developer.mozilla.org/en-US/docs/Web/Events/pageshow))

An example:

```
tabs.on('pageshow', function(tab) {
    // Your code here
}) 
```

It is very similar to the `load` and `ready` events, the main difference being that is is also fired when a page is loaded from [`BFCache`](https://developer.mozilla.org/en-US/docs/Working_with_BFCache) (which it is when the back button is pressed).

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-02-06T21:23:20.773

I think the following snippet gives the functionality of chrome.tabs.onUpdated

```
var tabs = require("sdk/tabs");
tabs.on('ready', function(tab){
  console.log(tab.url);
}); 
```

# excel - 多个表单控件的单个回调宏（具体为 ListBoxes）

> ID：14721703
> 
> 赞同：0
> 
> 时间：2013-02-06T04:41:04.827
> 
> 标签：excel, excel-2010, vba

我正在尝试存储启用多选的列表框（Excel 2010）中的选定值。这很容易通过遍历列表中的项目以查看它们是否被选中来完成。但是，在添加多个列表框后，我必须为每个列表框创建一个回调：

```
Sub ListBox1_Changed()
Call DoStuff(Worksheets("Sheet1").ListBoxes(1))
End Sub

Sub ListBox2_Changed()
Call DoStuff(Worksheets("Sheet1").ListBoxes(2))
End Sub

Sub DoStuff(L as ListBox)
'Do stuff here
Sub 
```

最终，我将在多个工作表中得到大量这样的 ListBox。

现在我的问题是：是否可以引用调用宏的特定框并为我的所有列表框分配这个单一函数？我猜是这样的：

```
Sub ListBox_Changed(ByVal L as Object)
' This will not work btw ^^^^^^^^

' Magic code goes here.
Call DoStuff(L_converted_to_ListBox_Format)
End Sub 
```

请注意，我没有使用用户表单，而是将列表框直接放在工作表中。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:35:02.273

您可以使用`Application.Caller`来确定哪个`ListBox`调用了`Sub`，就像这样

```
Sub ListBox_Changed()
    Dim v As Variant
    Dim lb As ListBox
    v = Application.Caller
    On Error Resume Next
    Set lb = Me.ListBoxes(v)
    If Err.Number <> 0 Then Exit Sub
    On Error GoTo 0
    DoStuff lb
End Sub

Sub DoStuff(lb As ListBox)
    Debug.Print lb.List(lb.Value)
End Sub 
```

# php - 如何将这些数据分组到一个数组中？

> ID：14721716
> 
> 赞同：2
> 
> 时间：2013-02-06T04:42:18.787
> 
> 标签：php, mysql, sql, arrays, group-by

我的表如下所示：

```
artist_id | song_id | user_id
a1          s1        u1
a1          s2        u1
a2          s9        u1
a3          s15       u2 
```

我希望我的输出看起来像：

```
Array
    (
    [u1] => Array
        (
         [a1] => Array
           (
               [0] => s1
               [1] => s2
           )
         [a2] => Array
           (
               [0] => s9
           )
   )
   [u2] => Array
        (
         [a3] => Array
           (
               [0] => s15
           )

   ) 
```

)

**我应该从哪里开始？**

我不确定我的方法是否最有效：

*   抓取和分组`user_id`，循环通过它们。

*   对于每一个`user_id`，抓住`artist_id`。

*   对于每个`artist_id`抓住`song_id`下面的 s。

有没有办法进行这个查询？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-06T04:57:33.873

您可以从 MySQL 查询中获得以下结果集。使用库 PDO 或 MySQLi 中的任何一个。

```
<?php
$results = array(
                0 => array('artist_id' => 'a1', 'song_id' => 's1', 'user_id' => 'u1'),
                1 => array('artist_id' => 'a1', 'song_id' => 's2', 'user_id' => 'u1'),
                2 => array('artist_id' => 'a2', 'song_id' => 's9', 'user_id' => 'u1'),
                3 => array('artist_id' => 'a3', 'song_id' => 's15', 'user_id' => 'u2')
            );
echo '<pre>';print_r($results);echo '</pre>';
?> 
```

试试这个，

```
<?php
$new_array = array();

foreach($results as $keys=>$values) {
    $new_array[$values['user_id']][$values['artist_id']][] = $values['song_id'];
}
echo '<pre>';print_r($new_array);echo '</pre>';
?> 
```

注意：您无法从单个查询中获取它，这取决于结果集。我用你的结果集解释了， ![在此处输入图像描述](../Images/0d15c95589efe282fb1cf93d7f57afae.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T04:52:18.323

据我所知，您需要表中的所有结果， no `count`​​， no`sum`​​等。

所以在 SQL 查询中没有什么可以`group by`做的，只需将它们全部选中并在 PHP 中分组：

```
$result=array();
$mysqli_result=$mysqli->query("SELECT `artist_id`,`song_id`,`user_id` FROM `songs`");
while($row=$mysqli_result->fetch_assoc())
{
    if(empty($result[$row["user_id"]]))
        $result[$row["user_id"]]=array();
    if(empty($result[$row["user_id"]][$row["artist_id"]]))
        $result[$row["user_id"]][$row["artist_id"]]=array();
    $result[$row["user_id"]][$row["artist_id"]][]=$row["song_id"];
}
print_r($result); 
```

# php - JAXL XMPP 脚本有效，但从不停止加载

> ID：14721718
> 
> 赞同：0
> 
> 时间：2013-02-06T04:42:30.770
> 
> 标签：php, xmpp, facebook-chat

我在我的网站中实现 Facebook 聊天，所以我使用 JAXL 来实现 XMPP。似乎该脚本发布了我想要的消息，但每当我运行它时，页面只会不断加载和加载，并且永远不会停止。为了回到那个网站，我必须在我的浏览器中清除它的 cookie。不确定问题可能是什么，我在日志中没有看到任何错误。看一下代码：谢谢！

```
$client = new JAXL(array(
        'jid' => $user['facebookID']."@chat.facebook.com",
        'fb_app_key' => "XXXX",
        'fb_access_token' => $user['facebook_access_token'],
        'force_tls' => true,
        'auth_type' => 'X-FACEBOOK-PLATFORM',
        'log_level' => JAXL_INFO,
        'priv_dir' => "includes/lib/jaxl/tmp"
    ));

    $client->add_cb('on_auth_success', function() {
        global $client;
        _info("got on_auth_success cb, jid ".$client->full_jid->to_string());
        $client->set_status("available!", "dnd", 10);

        $msg = new XMPPMsg(array('to'=>'-XXXX@chat.facebook.com'), 'test message');
        $client->send($msg);
    });

    $client->add_cb('on_auth_failure', function($reason) {
        global $client;
        $client->send_end_stream();
        _info("got on_auth_failure cb with reason $reason");
    });

    $client->add_cb('on_chat_message', function($stanza) {
        global $client;

        // echo back incoming message stanza
        $stanza->to = $stanza->from;
        $stanza->from = $client->full_jid->to_string();
        $client->send($stanza);
    });

    $client->add_cb('on_disconnect', function() {
        _info("got on_disconnect cb");
    });

    //
    // finally start configured xmpp stream
    //
    $client->start();

    echo "done"; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-21T08:44:45.003

我已经使用本地 jabber 服务器测试了您的代码。

在添加“$client->send_end_stream();”之前，我得到了相同的结果（页面不断加载）在 on_auth_success 函数的末尾。

```
$client->add_cb('on_auth_success', function() {
    global $client;
    _info("got on_auth_success cb, jid ".$client->full_jid->to_string());
    $client->set_status("available!", "dnd", 10);

    $msg = new XMPPMsg(array('to'=>'-XXXX@chat.facebook.com'), 'test message');
    $client->send($msg);

    // Close the connection
    $client->send_end_stream();
}); 
```

似乎脚本在没有事件发生时暂停。后来页面超时。

# haskell - AcidState 函数中的不明确类型变量

> ID：14721720
> 
> 赞同：2
> 
> 时间：2013-02-06T04:42:54.347
> 
> 标签：haskell, typeerror, acid-state

我在 Haskell Web 项目中遇到了错误`Ambiguous type variable`。

相关代码是

```
--- Other import statements
import qualified Model as Model

---------- HTTP Handlers
needItem db user itemName = do
  Model.changeItemStatus db user itemName Model.Need
  listItems db user

gotItem db user itemName = do
  Model.changeItemStatus db user itemName Model.Got
  listItems db user

newItem db user itemName comment count = do
  Model.insertItem db user itemName comment count
  listItems db user

listItems db user = do
  lst <- Model.listItems db user
  resOk lst

--- rest of the program 
```

这些错误专门抱怨`insertItem`and `changeItemStatus`，这两个都是`acid-state`查询函数

```
insertItem db name itemName comment count = withAccount db name newItem
  where item = Item { itemName = itemName, itemComment = comment, itemCount = count, itemStatus = Need } 
        newItem account = update' db $ NewItem account item

-- other stuff

changeItemStatus db name itemName status = withAccount db name cItem
  where cItem account = withItem account itemName
                        (\i -> update' db $ ChangeItem account $ i { itemStatus = status}) 
```

`withAccount`并且`withItem`是帮助我处理`Maybe`来自数据库的返回值的辅助函数。它们被定义为

```
withAccount :: MonadIO m => AcidState GoGetDB -> String -> (Account -> a) -> m (Maybe a)
withAccount db name fn = do
  maybeAccount <- query' db $ AccountByName name
  return $ do acct <- maybeAccount
              return $ fn acct

withItem :: Account -> String -> (Item -> a) -> Maybe a
withItem account itemName fn = do
  item <- getOne $ (accountItems account) @= itemName
  return $ fn item 
```

好的，那么现在。

我已经多次阅读[Happstack 速成课程中的 AcidState 文档](http://happstack.com/docs/crashcourse/AcidState.html)，但没有多大帮助；他们直接在其响应生成函数中使用查询

*   我试过了，得到了同样的`Ambiguous type variable`错误，除了指向`query'`调用iteslf，
*   我真的不想这样做，因为那会迫使我混合我的模型/控制器代码*和*
*   对我的特殊情况没有帮助，因为它没有向我显示调用`query'`或`update'`将要调用的函数的具体返回类型是什么（它们的函数都是`AcidState DBName -> ServerPart Response`，因为它们直接生成响应）。

我试图通过使用表达式的片段来组合类型签名`insertItem`，但每次尝试都给了我我认为更糟糕的错误。`changeItemStatus``:t``No instance for (MonadIO m1)`

我还不是一个特别熟练的 Haskeller，所以我觉得我唯一可以尝试的另一件事就是`return $`在这个地方撒上随机 s，但这听起来不太可能真正解决问题或教学我什么。

我试图实现的一般概念是：“对数据库进行此更改，然后返回当前用户的相关元素的（可能更改的）列表”。

关于我接下来应该尝试什么，或者我具体哪里出错的任何提示？我是否以完全错误的方式思考这个问题？我是否可以就该主题查阅其他文件？

PS。我已经包含了我认为上面所有相关的代码，但是如果你想查看完整的源代码，它就在[这里](https://github.com/Inaimathi/goget/blob/master/goget.hs)和[这里](https://github.com/Inaimathi/goget/blob/master/Model.hs)。

编辑：完整类型错误

```
/home/inaimathi/projects/goget/goget.hs:31:3:
    Ambiguous type variable `m2' in the constraint:
      (Control.Monad.IO.Class.MonadIO m2)
        arising from a use of `Model.changeItemStatus'
    Probable fix: add a type signature that fixes these type variable(s)
    In a stmt of a 'do' block:
      Model.changeItemStatus db user itemName Model.Need
    In the expression:
      do { Model.changeItemStatus db user itemName Model.Need;
           listItems db user }
    In an equation for `needItem':
        needItem db user itemName
          = do { Model.changeItemStatus db user itemName Model.Need;
                 listItems db user }

/home/inaimathi/projects/goget/goget.hs:35:3:
    Ambiguous type variable `m1' in the constraint:
      (Control.Monad.IO.Class.MonadIO m1)
        arising from a use of `Model.changeItemStatus'
    Probable fix: add a type signature that fixes these type variable(s)
    In a stmt of a 'do' block:
      Model.changeItemStatus db user itemName Model.Got
    In the expression:
      do { Model.changeItemStatus db user itemName Model.Got;
           listItems db user }
    In an equation for `gotItem':
        gotItem db user itemName
          = do { Model.changeItemStatus db user itemName Model.Got;
                 listItems db user }

/home/inaimathi/projects/goget/goget.hs:39:3:
    Ambiguous type variable `m0' in the constraint:
      (Control.Monad.IO.Class.MonadIO m0)
        arising from a use of `Model.insertItem'
    Probable fix: add a type signature that fixes these type variable(s)
    In a stmt of a 'do' block:
      Model.insertItem db user itemName comment count
    In the expression:
      do { Model.insertItem db user itemName comment count;
           listItems db user }
    In an equation for `newItem':
        newItem db user itemName comment count
          = do { Model.insertItem db user itemName comment count;
                 listItems db user } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T20:28:30.523

为您的函数编写类型签名以捕获它们应该做什么。在编写实现之前编写它们，然后您可以使用类型签名以及从编译器获得的更好的错误消息（如果它知道您想要的类型）来检查实现是否[或至少有机会做]你想要的。

让我们看看问题儿童，以及他们实际做了什么：

从[`acid-state`](http://hackage.haskell.org/package/acid-state)我们使用

```
update' :: (UpdateEvent event, MonadIO m) => AcidState (EventState event) -> event -> m (EventResult event) 
```

为了

```
insertItem db name itemName comment count = withAccount db name newItem
  where item = Item { itemName = itemName, itemComment = comment, itemCount = count, itemStatus = Need } 
        newItem account = update' db $ NewItem account item 
```

现在让我们看看会产生什么样的类型。从使用

```
withAccount :: MonadIO m => AcidState GoGetDB -> String -> (Account -> a) -> m (Maybe a) 
```

我们看到结果有类型

```
m (Maybe a) 
```

对于某些人来说，结果类型`MonadIO m`在哪里。现在，`a``newItem`

```
newItem account = update' db something 
```

所以

```
newItem :: MonadIO mio => Account -> mio (EventResult type_of_something) 
```

因此结果类型`insertItem`为

```
m (Maybe (mio (EventResult type_of_something))) 
```

并且在

```
newItem db user itemName comment count = do
  Model.insertItem db user itemName comment count
  listItems db user 
```

编译器不知道`MonadIO mio`它应该在第二行使用哪个。因此类型变量`mio`是不明确的。

请注意，在那里指定类型变量仍然不会做您可能想要的事情。我希望您实际上想要执行`update'`，而不仅仅是计算在执行时会更新数据库的操作。

对于`insertItem`，如果它确实应该更新数据库，`withAccount`就目前而言是没有用的。你也许可以使用类似的东西

```
withAccountM :: MonadIO m => AcidState GoGetDB -> String -> (Account -> m a) -> m (Maybe a)
withAccountM db name fn = do
  maybeAccount <- query' db $ AccountByName name
  case maybeAccount of
    Nothing -> return Nothing
    Just acct -> do
         result <- fn acct
         return $ Just result 
```

（未经测试，仍然可能完全错误）实际执行`update'`.

问题和可能的修复与`changItemStatus`.

# php - 如何跳过错误的语法 php simplehtmldom

> ID：14721721
> 
> 赞同：1
> 
> 时间：2013-02-06T04:42:54.140
> 
> 标签：php, html, parsing, simple-html-dom

我想保存（转储）修改后的 HTML。

我`php_simplehtmldom`通过保存功能使用了库和转储。

但是`simplehtmldom`库会自动修改错误的语法。

任何人都知道**“如何在不替换错误语法的情况下忽略保存？”**

我不想像后续那样替换。我只想为输入标签添加标题属性。

前任）

```
 $oSimpleHtmlParser = file_get_html(
                            $sPath,
                            $use_include_path=false,
                            $context=null,
                            $offset=-1,
                            $maxLen=-1,
                            $lowercase=false,
                            $forceTagsClosed=false,
                            $target_charset=DEFAULT_TARGET_CHARSET,
                            $stripRN=false,
                            $defaultBRText=DEFAULT_BR_TEXT,
                            $defaultSpanText=DEFAULT_SPAN_TEXT
                         );
    $oRetVal = $oSimpleHtmlParser->find('input');
    foreach($oRetVal as $key => $val){
        if($val->title == "") {
            $oRetVal[$key]->title = "title";
        }
    }
    $oSimpleHtmlParser->save($sPath); 
```

保存结果

```
<table border=0 cellpadding=0 cellspacing=0 width=295 style="padding-left:5">
      <tr><td height="12" colspan="2"></td></tr>
      <tr><td height="20" class="fc_55"><img src="/web/design/{$_DESIGN}/images/dot_2px.gif" style="margin:0 0 3 0"></td>
-         <td align="right" class="fc_55"" width="78">[2007-02-21]</td>
+         <td align="right" class="fc_55">[2007-02-21]</td>
-         <input type="text" style="width:251" align="absmiddle" class="border">
+         <input type="text" style="width:251" align="absmiddle" class="border" title="title">

      </tr> 
```

预期结果

```
<table border=0 cellpadding=0 cellspacing=0 width=295 style="padding-left:5">
      <tr><td height="12" colspan="2"></td></tr>
      <tr><td height="20" class="fc_55"><img src="/web/design/{$_DESIGN}/images/dot_2px.gif" style="margin:0 0 3 0"></td>
          <td align="right" class="fc_55"" width="78">[2007-02-21]</td>
-         <input type="text" style="width:251" align="absmiddle" class="border">
+         <input type="text" style="width:251" align="absmiddle" class="border" title="title">
      </tr> 
```

# c# - SaveDialog文件存在吗？

> ID：14721725
> 
> 赞同：0
> 
> 时间：2013-02-06T04:43:05.357
> 
> 标签：c#

我使用此代码保存 avi 文件。当我创建一个新文件时，没问题。但是当我选择现有文件时，它不起作用并且`saveFileDialog`仍然显示。

我已经设置`saveDialog.OverwritePrompt`并且`saveDialog.CheckFileExists`是真的，但它是不正常的。如果我设置`saveDialog.OverwritePrompt`为假，它会运行，但会显示覆盖警告

我该如何解决这个问题？

```
SaveFileDialog saveDialog = new SaveFileDialog();
saveDialog.OverwritePrompt = true;
DialogResult dgResult = saveDialog.ShowDialog();

if (dgResult == DialogResult.OK)
{
     exportAvi(saveDialog.FileName);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T04:58:00.453

此代码有效 - 如果我选择覆盖现有文件，它会向我显示提示：

```
 SaveFileDialog saveDialog = new SaveFileDialog();
    saveDialog.OverwritePrompt = true;
    DialogResult dgResult = saveDialog.ShowDialog();

    if (dgResult == DialogResult.OK)
    {
        //exportAvi(saveDialog.FileName);
    } 
```

[窗口标题] 确认另存为

[内容] XYZ.txt 已经存在。你想更换它吗？

[是] [否]

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T06:14:22.103

您的问题出在 exportAvi() 函数中。您不允许覆盖文件。我看不到你的 exportAvi() 函数，所以我不能告诉你到底出了什么问题。如果您发布您的 exportAvi() 函数，我可以进一步帮助您。

> saveDialog.OverwritePrompt - 只会提示用户是否要覆盖。它不会覆盖文件。你必须在你的代码中处理这个。
> 
> saveDialog.CheckFileExists - 只检查文件是否存在。

检查您的导出功能并确保将覆盖参数设置为 True。

# python - 对类和模块中的变量范围感到困惑；Python

> ID：14721728
> 
> 赞同：0
> 
> 时间：2013-02-06T04:43:12.353
> 
> 标签：python, scope

我正在尝试编写一个包含多个类的模块。我希望每个类中的变量名相同，但希望值不同。这样每个定义都将使用在其自己的类的顶部定义的变量。

例如：

```
class assign():
    global a , b
    a = 1
    b = 2

    def aa(x):
        return  a*x

class assign1():
    global a, b
    a = 5
    b = 10

    def aa(x) :
        return a*x 
```

这产生：

```
print(assign.aa(3))
=15

print(assign1.aa(3))
=15 
```

全局值不会在不同的类之间切换，我希望它们能够如此。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T04:52:04.650

有趣——我以前从未`global`在类命名空间中见过......基本上发生的事情是当你创建你的类时，你添加`a`和`b`到全局命名空间。然后，在您的方法调用中，您`a`从全局命名空间中获取（因为没有局部变量`a`）。你可能想要的是：

```
#while we're at it, get in the habit of inheriting from object
# It just makes things nicer ...
class assign(object): 
    a = 1
    b = 2

    def aa(self,x):
        return  self.a*x

class assign1(object):
    a = 5
    b = 10

    def aa(self,x) :
        return self.a*x 
```

现在，当您调用该方法时，python 将首先在实例上`aa`查找属性。`a`当在实例上找不到它时，将检查该类（并使用，因为这些类都有一个`a`属性）。

# django - 将链接预览嵌入到帖子中

> ID：14721734
> 
> 赞同：1
> 
> 时间：2013-02-06T04:43:39.393
> 
> 标签：django

我只是想知道如何将链接预览嵌入到我的 Django 应用程序的帖子中？嵌入是唯一的方法吗？因为嵌入不涵盖所有网站。另外，如果我必须坚持嵌入，我可以在他们的 Django API 上获得一些链接，也许我可以用来制作模板标签吗？

# php - 只允许大写和小写字母

> ID：14721738
> 
> 赞同：6
> 
> 时间：2013-02-06T04:43:53.577
> 
> 标签：php, html

我想只接受用户的小写和大写字母。

我尝试了下面的代码，它回显了无效的字符消息，但不起作用。我的意思是它不检查。它只是显示消息。有什么帮助吗？

```
<form action="" method="post">
<input type="text" name="fname">
<input type="submit" value="Send" name="submit">
</form> 
```

**更新：**这是我必须检查并将名称插入数据库的内容。如果在名称中找到数字，则通过显示错误消息拒绝该名称，否则如果该名称仅包含字母，则将其插入数据库。这就是我想要实现的。

```
<?php
if ( isset( $_POST['submit'] ) ) { 
$fname = $_POST["fname"];

if(!preg_match ('/^([a-zA-Z]+)$/', $fname)){
echo "Invalid characters";
}

if (empty($fname)) {
echo  '<span> First name is required</span>';
}

else{
$mysqli = new mysqli("localhost", "root", "", "test");
$stmt = $mysqli->prepare("INSERT INTO test (firstname) VALUES (?)");

$stmt->bind_param("s", $fname);
$stmt->execute();

$stmt->close();

$mysqli->close();

}
}
?> 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-06T05:01:18.530

如果你只是想检查你可以使用[ctype_alpha()](http://www.php.net/manual/en/function.ctype-alpha.php)但你说你只想*接受*字母所以如果你选择接受输入你可以：

```
$fname=preg_replace('/[^a-z]/i','',$fname); 
```

检查后更好

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-06T04:50:33.850

```
if(!isset($_POST['fname']) || !ctype_alpha($_POST['fname'])){
  // can i haz alpha letters only?
} 
```

（[参考](http://php.net/manual/en/book.ctype.php)）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-06T07:27:06.553

代码有几个问题，您遇到的一个问题可能是您在同一个 PHP 文件中拥有表单及其处理。这是可能的，但它需要不同的方法。首先，最好将它们分开。

发布的代码发生的情况是，PHP 处理器在没有提交表单时尝试处理表单数据，甚至不检查数据是否存在。现在`$fname`是未定义的，所以测试总是失败。

测试也是错误的。现在它只检查是否`$fname`包含至少一个字母。例如，`if(!preg_match ('/^[a-zA-Z]+$/', $fname))`将测试`$fname`由一个或多个 Ascii 字母组成而没有其他内容。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T04:49:24.783

检查与模式不匹配的字符的一般想法`[a-zA-Z]`是一个很好的想法。

`if`但是，如果您希望它起作用，那么您状况的“不”部分就在错误的位置。您现在所拥有的只是确保其中的*任何单个*字符`fname`都是大写或小写的拉丁字母。

您想将逻辑的“非”部分推入模式：

```
if (preg_match('/[^a-zA-Z]/', $fname)) { 
```

这会检查其中的任何字符`fname`是否不是拉丁字母，这就是您要执行的操作。

**编辑：**您的新更新有一个不同的测试也有效（它似乎来自源代码的更新答案，但您已经从这里的不同答案中获得了几个同样有效的测试）。但是，您更新的帖子清楚地表明，您的问题并不在于测试名称的模式。

您的代码如下所示：

```
if (/* invalid fname */) {
    echo "Invalid characters";
}

if (/* empty fname */) {
    echo  '<span> First name is required</span>';
}

else {
    /* insert into database */
} 
```

该`else`子句仅取决于`if`紧接在其前面的 the ：检查是否`fname`为空。换句话说，无论您对 的字符进行检查的结果如何，`fname`只要它不为空，就将其插入数据库。

解决此问题的一种简单方法是将您的第二个更改`if`为`elseif`. 这会将所有三个条件链接在一起，因此只有在未触发打印错误消息的*两个*`else`较早条件时才会出现最后一个块。

 *```
if (/* empty fname */) {
    echo  'First name is required.';
}

elseif (/* invalid fname */) {
    echo 'Invalid characters';
}

else {
    /* insert into database */
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-06T04:47:47.070

用这个，这给了我正确的答案

```
if(!preg_match ('/^([a-zA-Z]+)$/', $fname)){
    echo "Invalid characters";
}
else{
    echo "correct";
} 
```*

# javascript - 检查是否启用了javascript

> ID：14721753
> 
> 赞同：-4
> 
> 时间：2013-02-06T04:45:10.377
> 
> 标签：javascript

是否有 JavaScript 函数可以告诉我 JavaScript 是否打开？像这样的东西：

```
<script>
    if (true) {
        document.write("JavaScript is turned on!");
    }
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T04:46:09.873

如果启用，则代码运行。如果未启用，则代码不会运行。没有任何东西发送到服务器来告诉您它是否已启用。

你看过[noscript](https://developer.mozilla.org/en-US/docs/HTML/Element/noscript)元素吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T04:46:48.350

你应该只使用 noscript 标签

```
<noscript>
Enable javascript man! 
<noscript> 
```

或者：

```
<script>
document.write("Hello World!")
</script>
<noscript>Your browser does not support JavaScript!</noscript> 
```

# php - 以与保存相同的模式显示 mysql 结果

> ID：14721754
> 
> 赞同：0
> 
> 时间：2013-02-06T04:45:20.407
> 
> 标签：php, html, mysql, css

我有一个包含文本区域的表单。我正在以这种方式输入文本 -

```
 Hi Dear,

  How are you .

  Just reply when you get my message. 
```

我正在使用 mysql 数据库，因为它的存储方式相同。但是当我显示它时，它只是显示在单行中。喜欢 -

> 嗨，亲爱的，你好吗。当你收到我的消息时回复。

但我不想这样，我想以与存储在数据库中相同的方式显示它。

如果有人知道此回复的解决方案，请告诉我。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T04:50:29.363

你需要更换

```
\n\r   or   \n   or   \r 
```

经过：

```
<br /> 
```

PHP函数：

[nl2br()](http://php.net/manual/en/function.nl2br.php)

# 别的

```
$content = str_replace("\r\n", "<br />", $content); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T04:49:07.180

由于您在文本区域中显示此内容，并且此行作为单个值存储在数据库中，因此它们应以如下方式结束`<br />`：

```
 Hi Dear, <br />

  How are you .<br />

  Just reply when you get my message. 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T04:50:38.393

`nl2br($input)`在文本输入进入数据库之前使用 php 函数。`<br />`它将用标签替换换行符。

# database - 响应消息：java.sql.SQLException: No pool found named: in jMeter

> ID：14721756
> 
> 赞同：1
> 
> 时间：2013-02-06T04:45:27.740
> 
> 标签：database, jdbc, jmeter

我正在尝试对新数据库进行负载测试`XpressMP`。所以我开始使用jMeter。我将 jMeter 配置为对我们的数据库进行 Select 调用。下面是配置——

![在此处输入图像描述](../Images/895285539df788cb44b2eee96584969c.png)

下面是快照`XMP Select DB`

![在此处输入图像描述](../Images/5121d14594a68d24d53174358bb14f76.png)

如果我在 jMeter 中开始测试，我总是会遇到这个异常-

```
Response message: java.sql.SQLException: No pool found named: 'ucirrus', ensure Variable Name matches Variable Name of JDBC Connection Configuration 
```

这个例外是什么意思？

我很确定，这是我之前图像中的 JDBC 请求配置的问题。因为我是第一次这样做。

谁能告诉我如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T20:49:02.650

你的问题是你没有使用正确的变量名。

在 JDBC 连接配置中（在**绑定到 pool 的变量名称中**）设置：

*   变量名称：ucirrus

# django - 当用户在 Django 中输入默认地址时重定向到登录 URL？

> ID：14721757
> 
> 赞同：0
> 
> 时间：2013-02-06T04:45:42.373
> 
> 标签：django

我有这个将用户带到`login`页面的 URL：

```
url(r'^login_backend', 'fileupload.backend.login_backend'), 
```

由于用户不想记住：

```
http://127.0.0.1:8000/login_backend 
```

我想重定向`http://127.0.0.1:8000 to http://127.0.0.1:8000/login_backend`而不影响任何其他活动。我在每个视图上方都有这个装饰器：

```
@login_required(login_url='/login_backend/') 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T04:54:28.423

您可以使用 django[通用 redirect_to 查看](https://docs.djangoproject.com/en/1.1/ref/generic-views/#django-views-generic-simple-redirect-to)。在您的添加以下内容`urls.py`

```
urlpatterns = patterns('django.views.generic.simple',
                  ('^$', 'redirect_to', {'url': 'login_backend/'}),
              ) 
```

# uml - 如何为组织的 USER-ROLE 制作 UML 图

> ID：14721764
> 
> 赞同：1
> 
> 时间：2013-02-06T04:46:03.697
> 
> 标签：uml, domain-model

我是 UML 表示的新手。我无法为以下表示映射 UML 表示

```
1\. Company have many users.

2\. Each user may belongs to different company.

3.Each user may have different roles in different company. 
```

如果我为此提供了一个 UML 图，我们如何找到每个公司中用户的角色。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T06:23:46.657

![在此处输入图像描述](../Images/129345a35b701841084fae9bab13a741.png)

我们从这张图中得到的信息：

1-公司可以有很多角色：经理，程序员是公司a中的角色

2- 每个角色都属于一家公司。

3- 一个用户可能有很多角色：a 公司的顾问和 b 公司的程序员。

4- 一个角色可能被许多用户取代：用户 1 和 2 都是公司 a 的程序员

此图显示的是静态结构，您无法使用类图识别哪个特定用户为哪个特定公司工作。

您可以为此目的使用对象图，但对象图对于仅显示具有特定实例的系统快照很有用。

# python - 使用 z3 Python API 在循环内求解超时

> ID：14721765
> 
> 赞同：0
> 
> 时间：2013-02-06T04:46:04.260
> 
> 标签：python, z3

根据较早的建议，我正在尝试在使用 z3Py 时为求解器设置提前超时。

同样，没有所有细节，这就是我正在尝试的：

```
for bits in range(A, B, incrmt)
    s = Solver();
    s.set("timeout", 30) #30, 3000, 30000, 60000 no change
    s.add(some constraints)
    if(s.check() == sat):
        print "Sat, %d," %(bits)
    else:
        print "Sat Unknown, %d," %(bits)
        break
    sys.stdout.flush() 
```

从本质上讲，永远不会发生超时（即使以毫秒为单位的时间非常短）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:58:29.460

您在 Linux 或 FreeBSD 上使用 Z3 吗？这些平台上存在与计时器相关的错误。我解决了这个问题，但它还不是正式版本的一部分。有关详细信息，请参阅以下帖子。

*   [如何使用 C-API 为 z3_solver 设置超时？](https://stackoverflow.com/questions/13943794/how-to-set-timeout-for-z3-solver-using-c-api)

# django - 权限被拒绝并显示错误信息？

> ID：14721770
> 
> 赞同：1
> 
> 时间：2013-02-06T04:47:15.287
> 
> 标签：django, permission-denied

在 Django 中，是否有一种官方方法可以返回 PermissionDenied 异常，其中包含一些错误信息文本作为浏览器的响应正文？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T04:52:00.923

是的，文档有官方观点。

> 与 404 和 500 视图相同，Django 有一个视图来处理 403 Forbidden 错误。如果视图导致 403 异常，则默认情况下，Django 将调用视图 django.views.defaults.permission_denied。
> 
> 此视图在您的根模板目录中加载并呈现模板 403.html，或者如果此文件不存在，则根据 RFC 2616（HTTP 1.1 规范）提供文本“403 Forbidden”。

# android - 获取特定电话号码的短信

> ID：14721772
> 
> 赞同：5
> 
> 时间：2013-02-06T04:47:19.677
> 
> 标签：android

我想知道，如何以编程方式读取特定号码的短信？我知道如何使用内容提供者阅读短信，但不确定我是否应该使用“人”栏或“地址”栏或完全不同的方式请帮助谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-06T05:07:10.950

它将列出来自指定号码的消息。

```
 Uri mSmsinboxQueryUri = Uri.parse("content://sms/inbox");
         Cursor cursor1 = getContentResolver().query(mSmsinboxQueryUri,new String[] { "_id", "thread_id", "address", "person", "date","body", "type" }, null, null, null);
         startManagingCursor(cursor1);
         String[] columns = new String[] { "address", "person", "date", "body","type" };
         if (cursor1.getCount() > 0) {
            String count = Integer.toString(cursor1.getCount());
            while (cursor1.moveToNext()){
                String address = cursor1.getString(cursor1.getColumnIndex(columns[0]));

                if(address.equalsIgnoreCase("number")){ //put your number here
                     String name = cursor1.getString(cursor1.getColumnIndex(columns[1]));
                     String date = cursor1.getString(cursor1.getColumnIndex(columns[2]));
                     String body = cursor1.getString(cursor1.getColumnIndex(columns[3]));
                     String type = cursor1.getString(cursor1.getColumnIndex(columns[4]));

                     Log.d("*******", "body="+body);

               }

             }
         } 
```

但是我遇到了`"content://mms-sms/conversations/"`我认为它会在帮助下直接返回特定号码的整个对话`thread_id`，检查[一下](https://stackoverflow.com/a/7608413/646806)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-05-09T16:51:39.000

您可以使用 SelectionArgs 来提高效率：

```
String[] phoneNumber = new String[] { "+18839494492" }; //the wanted phone number
Cursor cursor1 = getContentResolver().query(Uri.parse("content://sms/inbox"), new String[] { "_id", "thread_id", "address", "person", "date","body", "type" }, "address=?", phoneNumber, null); 
```

通过此更改，您只能从想要的号码中获取短信，而无需浏览所有收到的短信。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T05:00:21.620

```
public class SmsReceiver extends BroadcastReceiver {

    String specificPhoneNumber = "No you want";

    public void onReceive(Context context, Intent intent) 
    {
            //---get the SMS message passed in---
            Bundle bundle = intent.getExtras();        
            SmsMessage[] msgs = null;
            String str = "";  

            if (bundle != null)
            {         
                //---retrieve the SMS message received---
                Object[] pdus = (Object[]) bundle.get("pdus");
                msgs = new SmsMessage[pdus.length];            
                for (int i=0; i<msgs.length; i++){
                    msgs[i] = SmsMessage.createFromPdu((byte[])pdus[i]);
                    String phNum = msgs[i].getOriginatingAddress();  
                    str += msgs[i].getMessageBody().toString();
             if (specificPhoneNumber.equals(phNum))

            {
                Uri uri = Uri.parse("content://sms/inbox");

                ContentResolver contentResolver = context.getContentResolver();

                String where = "address="+phNum;
                Cursor cursor = contentResolver.query(uri, new String[] { "_id", "thread_id"}, where, null,
                                  null);

                while (cursor.moveToNext()) {

                    long thread_id = cursor.getLong(1);
                    where = "thread_id="+thread_id;
                    Uri thread = Uri.parse("content://sms/inbox");
                    context.getContentResolver().delete(thread, where, null);

                }
                        Intent l = new Intent(context,AgAppMenu.class);                  
                        l.putExtra("msg",str);                   
                        l.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
                        context.startActivity(l);
                    }
                }
            }
     }
} 
```

# java - 如何使用 JSF 创建多个复选框

> ID：14721773
> 
> 赞同：-1
> 
> 时间：2013-02-06T04:47:20.200
> 
> 标签：java, jsf-2

我需要在 JSF 中创建一组复选框。任何人都可以通过示例指导我使用 JSF 组件创建复选框吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:03:47.067

将下面的代码写成 JSF 程序

```
<h:selectManyCheckbox value="#{emp.Hobby1}">
    <f:selectItem itemValue="1" itemLabel="Hobby - 1" />
    <f:selectItem itemValue="2" itemLabel="Hobby - 2" />
    <f:selectItem itemValue="3" itemLabel="Hobby - 3" />
</h:selectManyCheckbox> 
```

在运行时它将被转换为下面的 html 代码

```
<table>
<tr>
  <td>
    <input name="j_idt6:j_idt10" id="j_idt6:j_idt10:0" value="1" type="checkbox" />
    <label for="j_idt6:j_idt10:0" class=""> Hobby - 1</label></td>
  <td>
    <input name="j_idt6:j_idt10" id="j_idt6:j_idt10:1" value="2" type="checkbox" />
    <label for="j_idt6:j_idt10:1" class=""> Hobby - 2</label></td>
  <td>
    <input name="j_idt6:j_idt10" id="j_idt6:j_idt10:2" value="3" type="checkbox" />
    <label for="j_idt6:j_idt10:2" class=""> Hobby - 3</label></td>
  <td>
</tr>
</table> 
```

# jquery-mobile - jquery-mobile：如何不将页面添加到历史堆栈

> ID：14721775
> 
> 赞同：4
> 
> 时间：2013-02-06T04:47:25.800
> 
> 标签：jquery-mobile

我有一个应用程序，其中包括一系列表格，每个表格都在自己的页面上。

我不希望将其中一些页面添加到历史堆栈中。因此，当用户按下时，它会跳过它们。

Jquery-mobile 通过对话框做到这一点。您可以将其配置为在所有页面（或任何其他数据角色）上发生，但不能只在某些页面上发生。

有谁知道如何做到这一点？或者，是否可以创建一个扩展“页面”的新数据角色。如果这是可能的，那么我可以禁用所有这些页面的历史记录。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T05:04:05.923

在这种情况下，您可以`$.mobile.changePage()`自己调用：

```
$.mobile.changePage( "url", {
changeHash: false //do not track it in history
}); 
```

[http://jquerymobile.com/demos/1.2.0/docs/pages/page-navmodel.html](http://jquerymobile.com/demos/1.2.0/docs/pages/page-navmodel.html) [http://jquerymobile.com/demos/1.2.0/docs/api/methods.html](http://jquerymobile.com/demos/1.2.0/docs/api/methods.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-06-06T14:39:38.863

我面临同样的问题，我要发疯了！！！最后，我能够使用以下代码来做到这一点！

下面的代码自动阻止存储当前文档中所有页面的更改位置。

请注意，它已经用 jqm 1.4.2 进行了测试

```
<script>
    $(document).on("pagebeforetransition",function(event, ui){ 
        ui.options.changeHash = false; 
    }) ;
</script> 
```

希望能帮助到你

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T05:00:03.647

签出这个问题，与您尝试做的几乎相同。

[如何修改 jQuery 移动历史后退按钮行为](https://stackoverflow.com/questions/10262629/how-to-modify-jquery-mobile-history-back-button-behavior)

谢谢，亚历克斯。

# opencv - OpenCV：从世界到像素坐标的 dx 和 dy 转换

> ID：14721778
> 
> 赞同：1
> 
> 时间：2013-02-06T04:47:34.427
> 
> 标签：opencv, pixels, derivative

这可能更像是一个数学问题，我为 OpenCV 应用程序计算了 dx 和 dy 的值，这两个值都在世界坐标中。现在，如果我将它们转换为像素坐标，它们的符号会改变吗？例如，如果我的世界坐标 dx > 0，然后我转换为像素坐标，它会保持 > 0 吗？

另外，我对openCV很陌生，OpenCV中从世界坐标转换为像素坐标最简单的功能是什么？

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-13T08:33:23.353

我不明白为什么这里会有符号偏移，除非出现某种溢出错误。如果您不确定，只需断言（如果您认为错误会经常发生并且您可以测试它）或否定它（如果您无法测试它）如果它>0。

# git - 两个分支可以指向同一个提交吗？

> ID：14721781
> 
> 赞同：1
> 
> 时间：2013-02-06T04:47:50.687
> 
> 标签：git, branch, git-branch

我想在我的 github 存储库上保持`gh-pages`同步，目前我正在使用一个脚本来执行此操作，该脚本每次都会生成一个额外的合并提交，实际上我只需要一个提交。`master`

确实，我可以简单地忽略更新`master`而只使用 gh-pages 进行开发，但我想知道 git 是否支持两个本地分支可以指向同一个提交的可能性。

让两者都向前发展是有道理的。github.com 上的 repo 向世界公开，而 my_username.github.com 上`master`的 Github Pages 页面（托管我实际用于测试的实时代码示例和测试页面）跟踪`gh-pages`。两者都应该同步重要的东西（js代码），我的问题是两者是否有可能指向相同的确切提交。暂时忽略这将意味着`master`将接收到页面站点的额外文件，这些文件并不真正属于那里。尽管如此，我仍然不介意拥有这种透明度，因此人们很容易弄清楚网站的设置方式。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:34:51.543

我从[你的回购](http://github.com/unphased/ply)中收集到了这个。

```
$ git diff --stat master..gh-pages
 debug.js                     |    2 +-
 images/body-bg.png           |  Bin 0 -> 8859 bytes
 images/highlight-bg.jpg      |  Bin 0 -> 34222 bytes
 images/hr.png                |  Bin 0 -> 1037 bytes
 images/octocat-icon.png      |  Bin 0 -> 1651 bytes
 images/tar-gz-icon.png       |  Bin 0 -> 1671 bytes
 images/zip-icon.png          |  Bin 0 -> 1661 bytes
 index.html                   |   71 ++++++++
 javascripts/main.js          |    1 +
 params.json                  |    1 +
 stylesheets/print.css        |  226 +++++++++++++++++++++++++
 stylesheets/pygment_trac.css |   69 ++++++++
 stylesheets/stylesheet.css   |  371 ++++++++++++++++++++++++++++++++++++++++++
 13 files changed, 740 insertions(+), 1 deletions(-) 
```

从外观上看，分支基本相同，只是在`gh-pages`. 简单的答案是杀戮`master`，就像[我所做的那样](http://github.com/svnpenn/bm)。

我想补充一下，存在两种类型的“GitHub 页面”。

*   您有“用户”页面，类似于`svnpenn.github.io`
*   您有“项目”页面，类似于`svnpenn.github.io/bm`

* * *

*   用户页面依赖于`master`分支来生成/显示页面。
*   项目页面依赖`gh-pages`分支来生成/显示页面。

明确一点，`gh-pages`分支对“用户”存储库没有任何**目的**，就像`master`分支对“项目”存储库**没有任何目的**一样，除了您想出的目的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T05:49:41.743

是的，两个分支可以指向相同的提交。然而，`gh-pages`在分支不共享相同历史的情况下，你必须告诉 Git 基本上`squash`现有的`gh-pages`分支是可以的。

这会将您的 gh-pages 分支指向您的本地 master 指向的任何内容：

```
git push origin +master:gh-pages 
```

请记住，它会*压缩*`gh-pages`服务器上曾经指向的任何内容。该`+`标志告诉 Git 可以压缩东西。

# python - 逻辑或组正则表达式

> ID：14721782
> 
> 赞同：1
> 
> 时间：2013-02-06T04:47:58.193
> 
> 标签：python, regex, regex-group

我正在尝试制作一个正则表达式，它会发现某些错误输入的分数情况，并将分子和分母作为组返回。

这些情况涉及斜杠和数字之间的空格：例如`1 /2`或`1/ 2`。

我在正则表达式中使用逻辑或运算符，因为我不想检查 2 个单独的模式：

```
r'(\d) /(\d)|(\d)/ (\d)' 
```

（我没有使用`\d+`，因为我对直接与除号相邻的数字更感兴趣，尽管`\d+`也可以）。

问题是，当它匹配其中一种情况时，比如说第二个（`1/ 2`），查看所有组给出`(None, None, '1', '2')`，但我希望有一个只返回 2 个组的正则表达式——在这两种情况下，我都希望组是（'1'，'2'）。这可能吗？

**编辑：** 我还希望它为 case 返回组 ('1', '2') `1 / 2`，但不为格式良好的分数（如`1/2`.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T04:57:50.357

`(\d)(?: /|/ | / )(\d)`应该这样做（并且只返回错误输入的分数）。注意使用非捕获组。

编辑：更新了下面的评论。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-06T06:28:04.300

只是使用`(\d)\s*/\s*(\d)`呢？

这样，您将始终只有两个组：

```
>>> import re
>>> regex = r'(\d)\s*/\s*(\d)'
>>> re.findall(regex, '1/2')
[('1', '2')]
>>> re.findall(regex, '1 /2')
[('1', '2')]
>>> re.findall(regex, '1/ 2')
[('1', '2')]
>>> re.findall(regex, '1 / 2')
[('1', '2')]
>>> 
```

# php - 如何在 PHP 中以基于 ajax 的形式发送单选按钮信息？

> ID：14721784
> 
> 赞同：0
> 
> 时间：2013-02-06T04:48:07.600
> 
> 标签：php, html, ajax

我为网站制作了一个基于 ajax 的表单，它接受用户的输入并将其发送到数据库。所有字段都工作正常，但单选按钮在发送值时出现问题。我的ajax代码是

```
 <script type="text/javascript">
 function emp1() {
    .....................
xmlhttp.send("firstname=" + firstname.value + "&lastname=" + lastname.value  + "&company=" + company.value             
    + "&myemail=" + myemail.value
+ "&address=" + address.value
+ "&city=" + city.value
+ "&province=" + province.value
+ "&postalcode=" + postalcode.value
+ "&country=" + country.value
+ "&contact=" + contact.value
+ "&radio1=" + radio1.value
+ "&paymentmethod=" + paymentmethod.value
); 
```

单选按钮的 html 表单代码是

```
<input type="radio" name="radio1" id="radio1" value="Free Shipping"  onclick="emp1();"> Free Shipping<br />  
<input type="radio" name="paymentmethod" id="paymentmethod"  value="abc"  onclick="emp1();">abc
<br />
<input type="radio" name="paymentmethod" id="paymentmethod" value="def"  onclick="emp1();" onchange="emp1();">def
<br /> 
 <input type="radio" name="paymentmethod" id="paymentmethod" value="ghi"  onclick="emp1();">ghi 
```

任何帮助...... .. thnx提前

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T04:59:26.037

您可以使用类似这样的方法在您的`emp1()`函数中使用 javascript 来获取选定的单选按钮 vlaue。它会给你选择的单选按钮值。

```
var inputs = document.getElementsByName("paymentmethod");
    for (var i = 0; i < inputs.length; i++) {
      if (inputs[i].checked) {
        var paymentmethod = inputs[i].value;
      }
    }

    alert(paymentmethod); 
```

# python - 在python中修改数组的元素

> ID：14721785
> 
> 赞同：0
> 
> 时间：2013-02-06T04:48:24.120
> 
> 标签：python, algorithm, iteration

我试图实现一个（天真的）`quick_find_union`如下

```
class QF(object):
    def __init__(self,N):
        self.id=[x for x in range(N)]
    def connected(self,p,q):
        assert type(p)==int
        assert type(q)==int
        return self.id[p]==self.id[q]

    def union(self,p,q):
        assert type(p)==int
        assert type(q)==int
        for x in self.id:
            pid=self.id[p]
            qid=self.id[q]
            if x==pid:
                x=qid
#        for i in range(len(self.id)):
#            pid=self.id[p]
#            qid=self.id[q]
#            if self.id[i]==pid:
#                self.id[i]=qid

    def show_array(self):
        print self.id

if __name__=='__main__':
    qf=QF(10)
    qf.show_array()
    print qf.connected(1,4)
    qf.union(1,4)
    qf.show_array()
    print qf.connected(1,4) 
```

这返回

```
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
False
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
False 
```

但是当我只使用方法 union 中的注释掉部分时，它按预期工作

```
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
False
[0, 4, 2, 3, 4, 5, 6, 7, 8, 9]
True 
```

为什么会这样？它与尝试在迭代时修改数组元素有关吗？我对此不是很清楚..有人可以解释一下吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T04:54:27.253

`x=qid`只需将名称重新绑定到名称所指`x`的对象。`qid`它不会修改`self.id`列表中的元素。

用于`enumerate()`获取索引和值，并`self.id`使用索引更新列表：

```
for i, x in enumerate(self.id):
    pid=self.id[p]
    qid=self.id[q]
    if x==pid:
        self.id[i]=qid 
```

# php - 将 javascript UTC 日期存储在 mysql 中。php

> ID：14721787
> 
> 赞同：0
> 
> 时间：2013-02-06T04:48:28.127
> 
> 标签：php, javascript, mysql, datetime

我有一个 json 对象，它以某种 UTC 格式为我提供日期。

```
“日期”：新日期（日期。UTC（2013,1,5,13,​​53,47））  
```

如何将其存储在 mysql 中，我应该使用哪种列类型？我正在使用 PHP 来检索/存储数据

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T04:54:08.067

以`YYYY-mm-dd`. 您不能在一行中完全做到这一点，所以试试这个：

```
var d = new Date(Date.UTC(/* your stuff */));
...
"date": d.getFullYear() + '-' + d.getMonth() + '-' + d.getDate() 
```

编辑：

在 PHP 方面说那`date`是在`$_POST['date']`. 用于`date('Y-m-d', strtotime($_POST['date']))`获取要存储在 MySQL 中的值。

# java - 如何将“regexp1 和 regexp2”编码为正则表达式？

> ID：14721789
> 
> 赞同：1
> 
> 时间：2013-02-06T04:48:31.593
> 
> 标签：java, regex, rft

目前我在 RFT（Rational Functional Tester）中的 java 代码

* * *

请参阅[Class RegularExpression并在](http://publib.boulder.ibm.com/infocenter/rfthelp/v7r0m0/index.jsp?topic=/com.rational.test.ft.api.help/ApiReference/com/rational/test/ft/value/RegularExpression.html)[此页面](http://publib.boulder.ibm.com/infocenter/rfthelp/v7r0m0/index.jsp?topic=/com.rational.test.ft.api.help/ApiReference/com/rational/test/ft/object/interfaces/TestObject.html)上搜索文本“RegularExpression”以使用 RegularExpression。

* * *

好像

```
RegularExpression RegExp = new RegularExpression("eduId="+edu_id, false);
to = find(atDescendant(".documentName",RegExp)); 
```

现在我需要添加另一个正则表达式

```
RegularExpression RegExp2 = new RegularExpression("some_text", false); 
```

然后我需要使用**AND组合这两个正则表达式**

就像是`RegularExpression RegExp_final = RegExp && RegExp2;`

所以我可以在 find 命令中使用最后一个。`to = find(atDescendant(".documentName",RegExp_final));`

有人可以帮我语法，如何写下来？

有时我需要使用一个或另一个正则表达式，有时需要同时使用它们。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T05:18:35.807

只需搜索两个正则表达式。通常没有一个好的方法来指定一个正则表达式，它是两个正则表达式的 AND，因为......你可以同时运行这两个！（你可以尝试一些带有lookbehinds、lookaheads和concatenation的东西，但它会变得混乱）

如果该方法只允许您通过一个正则表达式，请编写一个允许您通过两个的正则表达式。或者收藏！或者一个可以决定它是否喜欢的回调 - 那么你甚至可能不需要在其中使用正则表达式！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T05:29:12.993

如果您有两个有效的正则表达式字符串`"A"`和`"B"`，我认为您可以轻松获得的最接近的是这个正则表达式字符串（引号不是正则表达式的一部分）：

```
"A.*B|B.*A" 
```

如果 A 或 B 可能包含`|`，那么您可能必须使用这样的非捕获组（未经测试）：

```
"(?:A).*(?:B)|(?:B).*(?:A)" 
```

一些Java代码：

```
Pattern regexpAnd(Pattern a, Pattern b) {
    return Pattern.compile(
         "(?:" + a.pattern() + ").*(?:" + b.pattern() + ")|"
       + "(?:" + b.pattern() + ").*(?:" + a.pattern() + ")" );
} 
```

至少对于任何高级语言标准正则表达式库，就是这样。如果你想要更多，挖掘出正则表达式库源（或编写你自己的......）并添加一种方法来组合已编译正则表达式的解析/匹配树......然后从结果树中生成新的正则表达式字符串。但简而言之：不值得。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-06T20:10:18.247

> 我需要在查找命令中使用 RegExp - find(atDescendant(".documentName",RegExp)

我们使用以下代码来解决此问题：

```
TestObject[] results = find(atDescendant(".documentName",RegExp)
if (results.length == 0)
    results = find(atDescendant(".documentName",RegExp2) 
```

一定要把最常见的情况放在最前面，这样你就可以正确地走捷径了。

* * *

我刚刚注意到你还说：

> 我需要 RegExp 和 RegExp2 的结果都为真

在这种情况下，您想遍历上面的结果数组，将每个匹配项与第二个正则表达式进行比较：

```
TestObject[] results = find(atDescendant(".documentName",RegExp)
ArrayList<TestObject> potentials = new ArrayList<TestObject>;
for(TestObject candidate : results) {
    if (Regexp2.matches(candidate.getProperty(".documentName")))
       potentials.add(candidate);
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-06T04:57:06.677

用于`|`加入多个正则表达式..

所以它会像

```
"eduId="+edu_id+"some_text"+"|"+"eduId="+edu_id+"|"+"some_text"
--------------------------  ---                 ---
         |->AND              |->OR               |->OR 
```

* * *

例如在下面的正则表达式中

```
a|b|c|abc 
```

a 或 b 或 c 或 abc( `AND`) 将被匹配

# java - Java - “不是”扫描仪问题

> ID：14721794
> 
> 赞同：0
> 
> 时间：2013-02-06T04:49:14.103
> 
> 标签：java, arrays, algorithm

当我运行程序时，它恰好通过了插入排序，但是当我使用二进制搜索询问您想在数组中搜索哪个数字时，程序静止不动，它不会终止或任何事情. 我相信这与我的扫描仪有关。我已经使用单独的扫描仪进行插入排序和二进制搜索解决了这个问题，但我不应该创建单独的扫描仪来使其工作，对吗？

```
import java.util.Scanner;
public class Search {
    public static void main(String [] args){

        Insertion insert = new Insertion();
        Scanner input = new Scanner(System.in);

        int[] array = new int[5];

        int low = 0, high = array.length - 1, mid = (low+high)/2;
        int num =0;
        int target = 0;

        for(int i = 0; i < array.length; i++){
            System.out.println("Enter a number: ");
            num = input.nextInt();
            array[i] = num;
        }

        insert.insertion_srt(array, array.length);

        System.out.println("Your numbers sorted: ");

        for(int a = 0; a < array.length; a++){
            System.out.print(array[a]+" ");
        }

        System.out.println("\nWhich number do you want to look for?: ");
            target = input.nextInt();

        while(low<=high && array[mid] != target){
            if(target > array[mid])
                low = mid + 1;
            else
                high = mid -1;
        }

        if(low>high)
                mid = -1;

        System.out.println(mid);
        input.close();

    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:10:57.980

这很可能是因为`mid`您的 WHILE 循环中的值永远不会改变：`while(low<=high && array[mid] != input)`。因此，循环永远不会终止，因为如果`array[mid]`最初不等于输入（并且永远不会改变），那么它将继续运行。也许`mid`在 IF 决定之后重新定义变量？

```
if(target > array[mid])
  low = mid + 1
else
  high = mid - 1
mid = (low+high)/2 
```

while 条件的另一半`while(low<=high`.. 也永远不会为真，因为`mid`变量永远不会改变。即如果`mid = 2`和`target > array[mid]`，`low`则将变为 3。因此，每次迭代时，`low`变量将始终被赋值为 3。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:17:48.127

问题不在于扫描仪，而在于您如何搜索所需值。如果您想实现二进制搜索，那么您的实现是不正确的。这是正确的实现：

```
while (low<=high && array [mid] != target)
{
    if (target > array [mid])
        low = mid + 1;
    else
        high = mid - 1;

    mid = (low + high) / 2; // You probably missed this
} 
```

# ios - Core Plot numberForPlot 不会取大于 1 的值

> ID：14721795
> 
> 赞同：2
> 
> 时间：2013-02-06T04:49:17.407
> 
> 标签：ios, objective-c, core-plot

我第一次尝试使用核心图在 iphone 应用程序中呈现条形图。我在这里成功地遵循了教程：并且能够呈现条形值。

然后我继续更改代码以显示特定于我的应用程序的对象的值（称为“发票”）。发票有一个名为“totalCost”的 NSNumber 值。这就是我想在我的图表上显示的内容。

我发现如果我的总成本值介于 0 和 1 之间，则该条将正确显示在图表上。但是，如果我的值大于 1，则该条将根本不显示。我尝试了浮点数、无符号整数等之间的各种类型转换，并且调试了代码并确认 invoice.totalCost 始终显示正确的 NSNumber 值。

此外，我的 y 轴范围目前设置为大约 70，因此大于 1 的值不应超出范围。

这是代码片段：

```
-(NSNumber *)numberForPlot:(CPTPlot *)plot field:(NSUInteger)fieldEnum recordIndex:  (NSUInteger)index {
    Invoice *invoice = [self.invoices objectAtIndex:index];
    return invoice.totalCost;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T00:51:42.270

您需要检查`fieldEnum`参数。对于每个数据索引，此方法将至少调用两次，一次用于柱位置，另一次用于柱尖端值。

```
-(NSNumber *)numberForPlot:(CPTPlot *)plot
                     field:(NSUInteger)fieldEnum
               recordIndex:(NSUInteger)index
{
    NSNumber *num = nil;

    switch ( fieldEnum ) {
        case CPTBarPlotFieldBarLocation:
            num = [NSNumber numberWithUnsignedInteger:index];
            break;

        case CPTBarPlotFieldBarTip:
            num = ((Invoice *)[self.invoices objectAtIndex:index]).totalCost;
            break;
    }

    return num;
} 
```

# liferay - 如何控制 Liferay 6.1 中 Asset Publisher 的 Add New options？

> ID：14721802
> 
> 赞同：0
> 
> 时间：2013-02-06T04:50:26.527
> 
> 标签：liferay, liferay-6

我需要在我的站点中存在 Asset Publisher portlet。管理员会将portlet 放入页面中。属于自定义角色的用户应该只能添加“基本文档”。我不想在 Add New 中显示所有其他选项。我应该怎么做才能实现这一目标？通过定义自定义角色的权限，我找不到任何方法。

![添加新的图像](../Images/9e7e4ef901d945745121b236aa96eb7f.png) 在这里，我在图像中显示了四个选项。在那我想让我的用户只添加“基本文档”。如何删除其他选项？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-02T10:30:39.893

您可以将配置中的资产类型配置为“文档和媒体”，以便在此特定资产发布者中只能添加该类型。

# php - 301 永久重定向的页面未找到错误

> ID：14721808
> 
> 赞同：0
> 
> 时间：2013-02-06T04:50:52.977
> 
> 标签：php, apache, .htaccess, mod-rewrite

我的`.htaccess`文件有以下代码：

```
# BEGIN WordPress
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /blog/
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /blog/index.php [L]
</IfModule>

# Redirect Old Page to New Page
Redirect 301 /2012/03/18/ajax-based-instant-image-upload.html http://domainname.com/blog/jquery/ajax-based-instant-image-upload/

Header unset ETag  
FileETag None

<filesMatch "\.(jpg|jpeg|png|gif|swf)$">
Header set Cache-Control "max-age=2592000, private"
Header set Expires "Sun, 23 October 2011 20:00:00 GMT"
</filesMatch>
<filesMatch "\.(css|css.gz)$">
Header set Cache-Control "max-age=604800, private"
</filesMatch>
<filesMatch "\.(js|js.gz)$">
Header set Cache-Control "max-age=604800, private"
</filesMatch>
<filesMatch "\.(xml|txt)$">
Header set Cache-Control "max-age=216000, private, must-revalidate"
</filesMatch>
<filesMatch "\.(html|htm)$">
Header set Cache-Control "max-age=7200, private, must-revalidate"
</filesMatch>

AddOutputFilterByType DEFLATE text/text text/html text/plain text/xml text/css application/x-javascript application/javascript 
```

但是当我通过谷歌搜索来到这篇文章时，我得到了`PAGE NOT FOUND`错误。我在我的本地主机上测试了这段代码，工作文件但不在真实服务器上，谁能告诉我确切的问题在哪里？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:36:09.687

将博客添加到旧 URL：

```
Redirect 301 /blog/2012/03/18/ajax-based-instant-image-upload.html http://webomnizz.com/blog/jquery 
```

# java - ORA-01861: 文字与格式字符串不匹配

> ID：14721810
> 
> 赞同：0
> 
> 时间：2013-02-06T04:51:44.900
> 
> 标签：java, sql, date, jdbc

在我的应用程序中，我将日期值（作为字符串）作为参数传递给 Servlet。在 Servlet 代码中，我将字符串转换为 sql 日期为“2013-02-05”（yyyy-MM-dd）。

示例：**dat="05/02/2013"**转换为**sqlDate="2013-02-05"**。我的 servlet 代码是

```
 dat= request.getParameter("dat");
 //dat="05/02/2013";
     try
     {
         java.util.Date date=new SimpleDateFormat("dd/MM/yy").parse(dat);
         //out.println(date);
         sqlDate = new java.sql.Date(date.getTime());
         //out.println(sqlDate);
     }
     catch(Exception e)
     {

     }

if(div_code!=null)
{
try
{

 Class.forName("oracle.jdbc.driver.OracleDriver");
 java.sql.Connection conn = DriverManager.getConnection("jdbc:oracle:thin:@xxx.xxx.x.xxx:xxx:pdsm", "test", "test");
 Statement stmt=conn.createStatement();
     ResultSet rs=stmt.executeQuery("insert into offer1 values('"+r_code+"','"+v_name+"','"+vcode+"','"+div_code+"','"+sec_code+"','"+extent+"','"+phone+"','"+sqlDate+"','"+loan+"','"+seeds+"','"+offerno+"','"+loc+"')");
      conn.setAutoCommit(true);
      out.println("data inserted");

   }catch(Exception e)
    {
       out.println(e);
    }
 } 
```

当我从 android 应用程序调用它时，它显示错误为**“ORA-01861：文字与格式字符串不匹配**”。当我使用示例输入进行测试时，我使用的格式显示正确的结果。但是数据没有被插入。

我的代码有什么问题？为什么我会收到此错误？我需要进一步转换吗？如果是，那么如何？

另外，有人解释我可以在 servlet 中使用 pl/sql 函数 (to_date()) 吗？因为很容易转换日期

编辑：修改代码：

```
String query="insert into offer1('RCODE','OFFERNO','DAT') values(?,?,?)"; 
PreparedStatement ps=conn.prepareStatement(query);
ps.setString(1,r_code);
ps.setString(2,offerno);
ps.setDate(3,sqlDate);
ResultSet rs=ps.executeQuery();
out.println("data inserted"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:03:19.607

首先，不要像这样构建您的查询（将所有内容附加到单个字符串中）。

它容易受到 SQL 注入的影响 请参阅[SQL 注入](http://en.wikipedia.org/wiki/SQL_injection)

所以更好地使用`PreparedStatement`它，因为它将保护您免受 SQL 注入，并且您的各种值的转换任务将被自动处理。

所以如果你有一个`java.sql.Date`变量`sqlDate`，现在你想把它插入数据库：那么你需要这些简单的步骤：

```
String query = "insert into your_table_name(`name`,`myDate`) values(?,?)";
PreparedStatement ps = conn.prepareStatement(query);
//now just set the values like this
ps.setString(1,"ABC");
//note index starts at 1
ps.setDate(2,sqlDate);
ResultSet rs = ps.executeQuery(); 
```

现在希望你能弄清楚如何为自己做这件事。

有关更多信息，请参阅[此](https://stackoverflow.com/questions/1812891/java-escape-string-to-prevent-sql-injection)和[此](http://www.coderanch.com/t/508823/JDBC/databases/prevent-sql-injection)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:03:00.457

我可以在您的代码中看到几个问题

1）去掉Class.forName("oracle.jdbc.driver.OracleDriver")，DriverManager知道如何在classpath上找到需要的驱动

2）使用conn.prepareStatement，见API

3) 删除 conn.setAutoCommit(true); conn 默认处于自动提交模式

4) 使用 stmt.executeUpdate 而不是 stmt.executeQuery

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T04:59:40.093

```
//String date = "05/02/2013";
dat= request.getParameter("dat");
SimpleDateFormat dateFormater = new SimpleDateFormat("dd/MM/yyyy");
Date testDate = null;
try {
    testDate = dateFormater.parse(dat);
}catch(Exception ex){
    ex.printStackTrace();
} 
```

从“dd/MM/yyyy”到“yyyy/MM/dd”

```
SimpleDateFormat formatter = new SimpleDateFormat("yyyy/MM/dd");
String convertedDate = formatter.format(testDate);
System.out.println("Your converted Date :- "+convertedDate); 
```

# mvvm - 更改下拉列表源错过了选定的值

> ID：14721812
> 
> 赞同：1
> 
> 时间：2013-02-06T04:51:56.443
> 
> 标签：mvvm, drop-down-menu, kendo-ui

我正在尝试使用 kendo mvvm 来解决以下问题：我有 3 个下拉列表，并且我需要在一个下拉列表中选择的选项不会出现在其他两个下拉列表中。这适用于所有 3 个下拉菜单。我做了以下事情：

```
 var viewModel = kendo.observable({
            fruits: [
                {Text:'apple', Value:1},
                {Text:'orange', Value:2},
                {Text:'grapes', Value:3},
                {Text:'banana', Value:4},
                {Text:'mango', Value:5},
                {Text:'kiwi', Value:6}
            ],

            fruits1: function(){
                var self = this;
                var sf2 = self.get('selectedFruit2').Value;
                var sf3 = self.get('selectedFruit3').Value;

                var fruits = _.filter(self.fruits, function(e){
                    return e.Value !== sf2 && e.Value !== sf3;
                });

                return fruits;
            },
            selectedFruit1 : null,

            fruits2: function(){ 
                var self = this;
                var sf1 = self.get('selectedFruit1').Value;
                var sf3 = self.get('selectedFruit3').Value;

                var fruits = _.filter(self.fruits, function(e){
                    return e.Value !== sf1 && e.Value !== sf3;
                });

                return fruits;
            },
            selectedFruit2 : null,

            fruits3: function(){  
                var self = this;
                var sf1 = self.get('selectedFruit1').Value;
                var sf2 = self.get('selectedFruit2').Value;

                var fruits = _.filter(self.fruits, function(e){
                    return e.Value !== sf1 && e.Value !== sf2;
                });

                return fruits;                    
            },
            selectedFruit3 : null
        });

        viewModel.selectedFruit1 = viewModel.fruits[0];
        viewModel.selectedFruit2 = viewModel.fruits[1];
        viewModel.selectedFruit3 = viewModel.fruits[2];

        kendo.bind($("form"), viewModel); 
```

下拉菜单 1 使用水果 1 作为源，下拉菜单 2 使用水果 2，下拉菜单 3 使用水果 3。

它可以工作，但是如果您开始更改下拉菜单中的选项，那么其中一个下拉菜单中的显示值会无缘无故地更改。例如，如果我在第一个下拉列表中选择“葡萄”，然后我开始使用下拉列表 2（将其更改为芒果，然后是苹果，然后是芒果等等）下拉列表 1 显示从“葡萄”更改为其他内容（即使视图模型“selectedFruit1”中的值仍然是“葡萄”）。

我设置了这个 jsbin [http://jsbin.com/ebuhaq/1/edit](http://jsbin.com/ebuhaq/1/edit)，你可以在其中看到 HTML。

所以我的问题是：为什么会这样？它是 kendo mvvm 中的错误吗？还是我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T17:07:01.043

似乎这是剑道中的某种错误。使用他们的新版本（版本 v2012.3.1315），我的代码可以按预期工作。（我用的是以前的版本：2012.3.1114）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T15:04:49.557

我*认为*下拉列表正在维护其选定的索引。因此，当第一次填充下拉菜单时，框 3 设置为葡萄，即水果列表中的索引 0。更改下拉列表 2 时，橙子现在成为下拉列表 3 列表中的索引 0。换句话说，我认为它总是通过 selctedIndex 值更新自身，而不是实际选择的对象。

不过这只是我的猜测，我还没有查看源代码是否正确。

# java - 战略棋盘游戏 AI 的高效棋盘表示

> ID：14721814
> 
> 赞同：2
> 
> 时间：2013-02-06T04:51:57.180
> 
> 标签：java, data-structures, artificial-intelligence, bit-manipulation, bitboard

位板表示在少于 64 个位置的简化的类似象棋的策略游戏中是否仍然有效，或者基于数组的更简单的邮箱实现是否更实用？

我们学校的 AI 课每年都会举办一场比赛，教授制作棋盘游戏，我们有四个星期的时间来创建一个玩游戏的 AI。通常，这些棋子是具有相似规则的棋子的子集，并且在较小的棋盘上进行。即 8x5、7x7 等。我完全不确定仅使用 40 位与国际象棋的典型 64 位相比如何。

我唯一的问题是我对 C 或 C++ 不是很熟悉，并且更愿意用 Java 实现该程序。他们在 Java 中是否足够支持位操作，我可以在其中实现位板表示，如果这会提高效率，是否值得增加复杂性？学习曲线会不会太陡？

我的计划是根据时间将 Negamax 搜索与 AB 修剪、静默搜索、转置表、杀手移动等结合使用。在如此短的时间内创建具有竞争力的 AI 的任何其他技巧？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:07:32.553

位板可以工作，但在我看来，为了让它正常工作而付出的额外努力和复杂性不值得以后在计算效率方面获得任何可能的收益。

在事物的整体规模上，任何从位掩码 ( `&`or `|`) 到获取数组元素 (甚至是`List`or `Map`) 的效率都将在很大程度上被您打算使用的任何 AI 或搜索算法所掩盖。

也就是说，指数或多项式复杂度的算法仍然需要`O(e^n)`，或者`O(n^d)`通过指针解引用的二进制算术节省的几个 CPU 周期将是微不足道的。

只需使用您此时可以使用的最简单的数据结构（可能是数组或其他`Collection`）并专注于让您的算法正常工作。

稍后，如果你有时间，你可以分析你的程序，如果你发现数组查找占用了你运行时间的 20%，那么也许，只是也许，考虑将所有内容重构为按位操作。

就个人而言，我会考虑并行搜索解决方案空间的可能方法，以最大化多个 CPU 内核，或者更好的是，以一种可以分布在多个计算节点上的方式。是的，如果你发现了一些非常聪明的东西，那你可能至少有资格获得硕士学位。:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T08:39:22.460

您不妨使用位板。它并没有那么复杂，而且你在移动生成和静态交换评估方面得到了显着的加速。你的人工智能算法，无论多么聪明，仍然需要做很多这样的事情。

关于这个主题有一个非常好的网站：[chessprogramming.wikispaces.com/Bitboards](http://chessprogramming.wikispaces.com/Bitboards)

由于您的电路板尺寸不同，因此某些技巧可能不适用，具体取决于您将位分配给正方形的方式。另一方面，由于它只是部分的一部分，一些传统上用位板解决的问题可能不存在。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-06T05:23:29.847

在大学里，我参加过与你类似的游戏 AI 写作比赛，当我担心诸如“静态编码是否更快”或“健全性检查会减慢我的程序速度？”之类的小细节时，我获得了最大的加速。但是“如果我将我的 AI 编写得更智能/更高效，它的性能会**更好**，所以我将实施我发现的这个很酷的新技巧”。

惊人加速的常见示例是 alpha-beta 修剪、杀手启发式和选择一个好的算法来计算游戏状态的强度（注意好！= 更准确 - 它也可能意味着更快且仍然准确。毕竟，如果你的分数计算更简单，它可以让你看到更多的动作，这意味着你可以用黑桃弥补它）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T05:07:49.097

在位尺度中设置单个位通常比在布尔数组中设置元素慢，因为前者需要读取 + 按位 AND/OR + 写入，而后者只需要写入。

读取位标度中的单个位也较慢：读取 + 按位 AND/OR + 移位与仅读取相比。

因此，如果您的 AI 需要单个板单元的大量读/写状态，那么布尔数组将更有效。同时，当板使用较少的内存时，即当单元被打包成比特时，克隆整个板的操作更快。如果你的 AI 会经常克隆吟游诗人，并且在克隆操作之间只执行很少的 get/set 操作，那么无论电路板大小如何，位规模都会更好。

# c++ - C++：所有的“std”都是跨平台的吗？

> ID：14721818
> 
> 赞同：13
> 
> 时间：2013-02-06T04:52:08.387
> 
> 标签：c++, cross-platform, std, standard-library

我一直在为这个问题尝试不同的搜索词，我只是在谷歌和 stackoverflow 上都发现了噪音。如果我使用 C++ 的标准库 (std) 编写代码，是否基本上可以保证为 Windows、Mac 和 Linux 编译（并希望按预期工作）？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-02-06T04:57:19.627

该标准定义了 C++ 编译器的含义，所有声称是 C++ 的编译器都应符合该标准；任何不可以被认为是错误的。所有主要的编译器都尽最大努力保持一致。

这里需要关注[多个标准- C++98、](https://en.wikipedia.org/wiki/C%2B%2B#Standardization) [C++03](https://en.wikipedia.org/wiki/C%2B%2B03)、[C++11](https://en.wikipedia.org/wiki/C%2B%2B11)、[C++14](https://en.wikipedia.org/wiki/C%2B%2B14)、[C++17](https://en.wikipedia.org/wiki/C%2B%2B17)，并且[C++20](https://en.wikipedia.org/wiki/C%2B%2B20)的[工作已经开始](https://herbsutter.com/2017/07/15/trip-report-summer-iso-c-standards-meeting-toronto/)。有时最新标准中的功能不会在每个编译器中实现。如果你坚持使用 C++03，你应该会发现广泛的一致性。

根据定义，命名空间中的所有内容都`std`应该是标准的一部分。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-02-06T04:58:18.643

代码保证在所有符合标准的编译器/平台上兼容，但重要的是要注意 ABI 不是，即您可能不认为链接从不同编译器/版本/平台创建的二进制文件是安全的。

实际上，这意味着不要将 STL 对象`string`从`vector`一个库传递到另一个库，除非您在完全相同的时间以完全相同的方式编译两者。这在传递指向动态数据的指针时尤其重要：`shared_ptr`除非您能满足上述保证，否则您不能在库 API 中使用，您需要使用常规指针。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-01-08T23:28:06.727

争论是任何不符合 STL 的东西都不符合 C++，因此，在一方面，是的，所有 STL 都是跨平台的。

但是，请注意，允许对 STL 的某些部分进行实现定义。例如见[type_info::name](http://www.cplusplus.com/reference/typeinfo/type_info/name/)

# typo3 - TYPO3 dmmjobscontrol 无法翻译成多种语言

> ID：14721820
> 
> 赞同：0
> 
> 时间：2013-02-06T04:52:22.713
> 
> 标签：typo3, typoscript

当我详细查看作业并切换语言时，我使用 TYPO3 版本 4.7.7 并使用 dmm_jobsconrols 扩展版本 2.5.2 它无法翻译和显示消息：

> “这项工作不存在或不再可用。”

这是我的打字稿：

```
40 = TEXT
40.data = GP:tx_dmmjobcontrol_pi1|job_uid
40.wrap = &tx_dmmjobcontrol_pi1[job_uid]=|
40.required = 1 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:27:52.340

请检查您切换到的语言对应的locallang文件中是否有locallang值“job_not_found”（此作业不存在或不再可用。）的翻译。如果该语言没有翻译或没有 locallang 文件，则需要创建它。

您也可以通过以下方式使用打字稿进行翻译：

```
plugin.dmmjobcontrol._LOCAL_LANG.de.job_not_found = Dieser Job existiert nicht oder ist nicht mehr verfügbar. 
```

一般语法：

```
plugin.[PluginName]._LOCAL_LANG.[language:default|de|fr|...] {
 varName = varWert
} 
```

参考链接：[http ://wiki.typo3.org/TypoScript_language_additions,_override](http://wiki.typo3.org/TypoScript_language_additions,_override)

# drools - Drools - 我们如何从多个 .drl 文件中触发所有规则

> ID：14721822
> 
> 赞同：0
> 
> 时间：2013-02-06T04:52:41.107
> 
> 标签：drools

我有 3 个 .drl 文件，每个文件都有 3 个规则。鉴于相同的事实，我需要触发 drl 文件中的所有规则。知道我该怎么做吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T10:08:51.680

是的，您只需要使用这三个文件创建一个知识库。对每个文件使用 kbuilder.add()，然后基于该知识库创建会话。

干杯

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T10:10:24.067

将 3 个 .drl 文件放在同一个知识库中：

```
KnowledgeBuilder kbuilder = KnowledgeBuilderFactory.newKnowledgeBuilder();

kbuilder.add(ResourceFactory.newClassPathResource("rules/rulesA.drl"), ResourceType.DRL);
kbuilder.add(ResourceFactory.newClassPathResource("rules/rulesB.drl"), ResourceType.DRL);
kbuilder.add(ResourceFactory.newClassPathResource("rules/rulesC.drl"), ResourceType.DRL);

KnowledgeBase kbase = KnowledgeBaseFactory.newKnowledgeBase();
kbase.addKnowledgePackages(kbuilder.getKnowledgePackages()); 
```

希望能帮助到你，

# ios - UITableView : 获取背景颜色

> ID：14721826
> 
> 赞同：0
> 
> 时间：2013-02-06T04:53:20.047
> 
> 标签：ios, objective-c, uitableview

是否有一个常量可以返回`UITableView`带有“分组”样式的辅助背景颜色？这是这里的灰色：

![在此处输入图像描述](../Images/35024ca0a79c27ea86fa7cb52302d03a.png)

我已经尝试过`UIColor.groupTableViewBackgroundColor`，但它显然返回了行的背景颜色（浅灰色），而不是次要背景颜色（灰色）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:02:09.450

1.  在您的应用程序中添加 QuartzCore 框架。

2.  在 .h 或 .m 文件中导入框架

3.  然后 -

    ```
    tbl.layer.borderColor 
    ```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T05:01:43.643

`tableView.separatorColor`给出边框颜色。我想这就是你想要的。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-06T04:58:30.857

使用`layer`财产。尝试这样的事情

```
UIColor.groupTableView.layer.borderColor 
```

# c - 如何使用 .asm 文件中已在 .h 文件中声明和初始化的表

> ID：14721829
> 
> 赞同：0
> 
> 时间：2013-02-06T04:53:56.787
> 
> 标签：c, assembly, x86

我在 .h 文件中声明了一个表（数组）。

现在我想在 .asm 中使用该文件，但我无法将 .h 包含到 .asm 中

帮帮我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T06:49:59.043

假设 C 声明类似于：

```
char array[] = { 1, 2, 3, 4, 5 }; 
```

您可以像这样在您的程序集文件中使用它：

```
 .globl _array

lea  _array(%rip), %rbx
movb (%rbx), %al 
```

该`lea`指令将 的基地址`array`放入`rbx`，然后该`movb`指令将第一个字节取出。你可以使用`1(%rbx)`get`array[1]`等等。

注意 - 我的示例来自我刚刚制作的 Mac OS X 测试应用程序。如果你在不同的系统上，你可能需要做一些不同的事情。

# javascript - 基于投票的JQuery多个百分比条

> ID：14721838
> 
> 赞同：0
> 
> 时间：2013-02-06T04:54:38.023
> 
> 标签：javascript, jquery, html, css, scale

大家好，我正在进行一项非常棘手的民意调查。

我有一份调查问卷，一旦您选择其中一个复选框，您提交答案，然后在同一个 div 中，它将隐藏民意调查并显示到目前为止已在显示结果的百分比条中显示的结果（以百分比表示）在每个选项上。

下面基本上是我想要的样子。我现在将结果显示为百分比，例如 66%、33% 等。那么我将如何将结果输出到如下百分比条中。

结果都是在服务器端生成的，所以我只需要将百分比转换为条形。

![在此处输入图像描述](../Images/9c4c05325daef4d79ecdc4246d82bbff.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:10:04.180

我没有看到你的照片。

如果你想像进度条一样绘制百分比，你可以有一个指定宽度的 DIV（作为你的背景）和第二个表示进度值的 div。

```
<div id="percentageContainer">
    <div id="percentageValue"></div>
</div> 
```

使用一些 CSS 规则，您可以轻松绘制您想要的内容。

例如，将您的第一个 DIV 设置为**固定宽度**和**相对位置**，并将第二个宽度设置为**绝对位置**（位于左上角）并将**宽度设置为 0**。

然后 tou 可以更新第二个宽度的宽度来模拟你的进度条。

这是一个完整的工作示例：http: [//jsfiddle.net/ZK3VK/](http://jsfiddle.net/ZK3VK/)

# wordpress - WordPress 本地站点正在重复域并中断

> ID：14721843
> 
> 赞同：0
> 
> 时间：2013-02-06T04:56:04.970
> 
> 标签：wordpress, web, localhost, mamp, web-deployment

我仔细检查了我的数据库。该站点不断尝试从 localhost/foo/localhost/foo 仅从 localhost/foo 中提取

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T13:46:38.887

Problem fixed after I added 'http://' in front of localhost. I didn't think I needed to do that but I guess I do.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:16:33.180

登录时会发生这种情况`localhost/foo/wp-login.php`吗？

如果是，请转到您的`options`餐桌并同时更新 `siteurl`和`home``http://localhost/foo`

# twitter-bootstrap - 将 Twitter Bootstrap 导航选项卡与 Jade 一起使用

> ID：14721845
> 
> 赞同：0
> 
> 时间：2013-02-06T04:56:06.833
> 
> 标签：twitter-bootstrap, tabs, pug, nav

我不明白为什么我不能使用翡翠使引导导航选项卡窗格正常工作。

这是我的代码：

```
head
    title= title
    link(rel='stylesheet', href='public/styles/bootstrap.css')
body
    div.tabbable.tabs-below
        div.tab-content
            div.tab-pane.active
                block content
        ul.nav.nav-tabs
            li.active 
                a(href='../', data-toggle='tab') Home
            li
                a(href='../about', data-toggle='tab') About
            li
                a(href='../blog', data-toggle='tab') Blog
            li
                a(href='../faq', data-toggle='tab') FAQ
            li
                a(href='../terms', data-toggle='tab') Terms
            li
                a(href='../privacy', data-toggle='tab') Privacy
            li
                a(href='../jobs', data-toggle='tab') Jobs
            li
                a(href='../press', data-toggle='tab') Press
    script(src="public/js/lib/jquery.js")
    script(src="public/js/lib/bootstrap.js") 
```

单击“关于”时，我的控制台中出现以下错误：未捕获的错误：语法错误，无法识别的表达式：jquery.js:4421 中的 ../about

如果没有 data-toggle 属性，它就可以工作。但是，它不显示选择了哪个选项卡！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T01:14:24.060

该问题与翡翠作为视图引擎无关。这是因为正在加载一个新页面，而不是 div.tab-content 中的嵌套 div。

解决方案：[如何从外部页面激活非默认引导选项卡？](https://stackoverflow.com/questions/12419939/how-to-activate-not-default-bootstrap-tab-from-outer-page)

# javascript - JavaScript 正则表达式替换字符串字符

> ID：14721846
> 
> 赞同：-5
> 
> 时间：2013-02-06T04:56:08.613
> 
> 标签：javascript, jquery, regex

我想学习如何替换字符串？我有一个电子邮件地址`someone@website.com`，我该如何替换`@`to`%`和`.`to`±`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T04:59:26.693

```
var replacements = {"@": "%", ".": "±"};
string.replace(/@|\./, function (match) {
    return replacements[match];
}); 
```

# c++ - Qt 中的大尺寸图标文件是否占用大量内存？

> ID：14721847
> 
> 赞同：0
> 
> 时间：2013-02-06T04:56:16.037
> 
> 标签：c++, qt, user-interface

我以以下方式将它与 .qrc 文件一起使用。

```
QAction* action = new QAction(QIcon(":/Resources/clear.png"), tr("&Clear"), this); 
```

如果 clear.png 像 128x128 像素一样大，与小文件相比，它是否占用大量内存？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:12:27.410

您必须仔细阅读 Qt 源代码才能准确计算出它，但我们可以很容易地给出最坏情况的上限：具有 32 位像素的未压缩 128x128 位图将占用 (128*128* 4) 字节的 RAM，或 64KB。增加一点开销，可以肯定地说，由上述代码创建的 QIcon 对象使用的 RAM 不到 100KB。这是否“大”取决于您对“大”的个人定义。:)

# java - 字节码的区别。 ()V 与 . (Z)V

> ID：14721852
> 
> 赞同：9
> 
> 时间：2013-02-06T04:57:04.010
> 
> 标签：java, bytecode

当我观察我的 Java 项目字节码时，我看到以下字节码：

**java.lang.Object.()V**

**java.lang.Boolean.(Z)V**

**<init>()V**和**<init>(Z)V**是什么意思

 *** * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-06T04:58:35.620

> ```
> java.lang.Object.()V 
> ```

是一个不带参数的 void 方法 ( `V`) 。`java.lang.Object`

> ```
> java.lang.Boolean.(Z)V 
> ```

是一个 void 方法，`java.lang.Boolean`它接受一个`boolean`（`Z`因为`B`是`byte`）参数。

简而言之，

```
 abc.def.WXYZ(IIIIIIIIIIIIII)J
 ^            ^              ^ 
 target_class argument-types return_type 
```

有关更多详细信息，请参阅[JNI 类型签名](http://docs.oracle.com/javase/6/docs/technotes/guides/jni/spec/types.html#wp16432)。

> JNI 使用 Java VM 的类型签名表示。表 3-2 显示了这些类型签名。
> 
> 表 3-2 Java VM 类型签名
> 
> ```
> Type Signature             Java Type
> Z                          boolean
> B                          byte
> ...
> L fully-qualified-class ;  fully-qualified-class
> [ type                      type[]
> ( arg-types ) ret-type      method type 
> ```
> 
> 例如，Java 方法：
> 
> ```
> long f (int n, String s, int[] arr); 
> ```
> 
> 具有以下类型签名：
> 
> ```
> (ILjava/lang/String;[I)J 
> ```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-06T05:14:09.013

这是JVM使用的字节码中的所有方法签名。

`<init>()V and <init>(Z)V`是构造函数签名。对于 JVM 构造函数，就像任何其他方法一样，它们有一个名称，它总是`<init>`) 和一个返回值，它总是`V`(意味着 void)。在我们的例子`Z`中是指`boolean`参数（`B`为 保留`byte`）

那是

```
<init>(Z)V 
```

在类测试的字节码意味着

```
class Test {

    Test(boolean arg0) {
    }
} 
```

你也可以遇见

```
 static <clinit>()V 
```

这意味着静态初始化块

```
static {
...
} 
```**

# mysql - 使用触发器从另一个表向一个表插入新行？

> ID：14721853
> 
> 赞同：0
> 
> 时间：2013-02-06T04:57:05.507
> 
> 标签：mysql, triggers

我有 2 张桌子

**收藏夹表**

```
----------------------------------------------------------------------
| FavouritesID | CompanyID | CustomerID | ProfilePhoto | CompanyName |
----------------------------------------------------------------------
|                                                                    |
|                                                                    |
|                                                                    |
---------------------------------------------------------------------- 
```

**配置文件表**

```
-------------------------------------------
| CompanyID | CompanyName | ProfilePhoto  |
-------------------------------------------
|      1    | Nike        |http://loca..  |
|      2    | Adidas      |http://loca..  |
|      3    | PaulSmith   |http://loca..  |
------------------------------------------- 
```

我想使用 INSERT`CompanyName`并`ProfilePhoto`进入收藏夹表`CompanyID`

因此，当将一行插入收藏夹表 ex CompanyID=1 时，`CompanyName=Nike` 将`ProfilePhoto=htpp://local...`插入收藏夹表，从配置文件表中获取信息。

这是我到目前为止所拥有的：

```
CREATE TRIGGER `Favourites` BEFORE INSERT ON `Favourites`
 FOR EACH ROW BEGIN
    INSERT INTO Favourites SET ProfilePhoto = (SELECT ProfilePhoto FROM Profile WHERE NEW.CompanyID = CompanyID);
END 
```

我的代码中有哪些错误？这没用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:03:34.957

为什么需要将相同的数据存储两次？我总是被教导不要将相同的信息存储在多个表中。如果您需要收藏夹表，为什么不只存储：

```
| FavouritesID | CompanyID | CustomerID | 
```

然后，如果您需要配置文件表中的其他信息，请使用收藏夹表中的公司 ID 找到它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:07:23.810

我认为你可以在**插入后**使用......

```
CREATE OR REPLACE TRIGGER orders_after_insert
AFTER INSERT
   ON orders
   FOR EACH ROW

DECLARE
   v_username varchar2(10);

BEGIN

   -- Find username of person performing the INSERT into the table
   SELECT user INTO v_username
   FROM dual;

   -- Insert record into audit table
   INSERT INTO orders_audit
   ( order_id,
     quantity,
     cost_per_item,
     total_cost,
     username )
   VALUES
   ( :new.order_id,
     :new.quantity,
     :new.cost_per_item,
     :new.total_cost,
     v_username );

END; 
```

# c++ - 带有fstream的字符串下标超出范围c ++

> ID：14721855
> 
> 赞同：-2
> 
> 时间：2013-02-06T04:57:06.673
> 
> 标签：c++, function, fstream

我的代码：

```
#include <iomanip>
#include <iostream>
#include <string>
#include <cmath>
#include <cstdlib>
#include <fstream>
#include <ctime>

using namespace std;
void insertionSort(int arrtosort[], int size);
const int SIZE = 10;
int main() {
    ofstream out;
    ifstream ingrades;
    unsigned seed = time(0);
    char doAgain = ' ';
    int id = 0;
    string grade = " ";
    int choice = 0;
    int fileid[SIZE];
    int numgrade[SIZE];
    int sum = 0;
    int counter = 0;
    int average = 0;
    int idx = 0;
    string letterGrade = " ";
    srand(seed);
    out.open("dataout.txt");

    while(counter <= 10) {
        out << (10000 + rand() % 99999);
        out << " ";
        out << (-1 + rand() % 10) << endl;
        //out<<" ";
        counter++;
    }
    out.close();

    ingrades.open("dataout.txt");
    for(idx = 0; idx < SIZE; idx++ ) {
        ingrades >> fileid[idx] >> numgrade[idx];
        sum = sum + numgrade[idx];
        counter++;
    }

    ingrades.close();
    average = sum / counter;
    out.open("dataout.txt");

    for( idx = 0; idx < SIZE; idx++ ) {
        if(numgrade[idx] == average || numgrade[idx] == average + 1) {
            out << fileid[idx] << " " << numgrade[idx] << " B";
            out << endl;
        } else if(numgrade[idx] == average + 2 || numgrade[idx] == average + 3) {
            out << fileid[idx] << " " << numgrade[idx] << " A-";
            out << endl;
        } else if(numgrade[idx] == average + 4 || numgrade[idx] >= 7 || numgrade[idx] == 10) {
            out << fileid[idx] << " " << numgrade[idx] << " A";
            out << endl;
        } else if(numgrade[idx] == average - 1) {
            out << fileid[idx] << " " << numgrade[idx] << " C";
            out << endl;
        } else if(numgrade[idx] == average - 2) {
            out << fileid[idx] << " " << numgrade[idx] << " F";
            out << endl;
        } else if (numgrade[idx] == -1) {
            out << fileid[idx] << " " << numgrade[idx] << " N/A";
            out << endl;
        }
    }
    out.close();

    ingrades.open("dataout.txt");
    for(idx = 0; idx < SIZE; idx++ ) {
        ingrades >> fileid[idx] >> numgrade[idx];
    }
    ingrades.close();

    do {
        cout << "\n" << right << setw(35) << "Teacher's Menu" << right << endl;
        cout << "---------------------------------------------------------" << endl;
        cout << "1) Sort the student list by id, and write it to your file" << endl;
        cout << "2) Search for a student by id and display the id," <<
             " numeric and letter grade to\n   the console" << endl;
        cout << "3) Search for students with a particular letter grade and display the results\n   to the console" << endl;
        cout << "4) Sort the student list by numeric grade and write it out to a file" << endl;
        cout << "5) Find the percentage of students for a particular letter grade" << endl;
        cout << "\n\tPlease enter which number option you wish to use: ";
        cin >> choice;
        ingrades.open("dataout.txt");
        switch(choice) {
        case 1:
            break;
        case 2:
            ingrades.clear();
            cout << "Enter in Student id: ";
            cin >> id;
            idx = 0;

            for ( idx = 0; idx <= SIZE; idx++ ) {
                ingrades >> fileid[idx] >> numgrade[idx] >> letterGrade[idx];
                if ( fileid[idx] == id && idx <= SIZE ) {
                    cout << fileid[idx] << " " << numgrade[idx] << " " << letterGrade[idx] << endl;
                    break;
                }
            }

            system("pause");
            break;
        case 3:
            /*  cout << "Enter in the Student letter grade: ";
                cin >> grade;
                for(idx = 0; idx < SIZE; idx++) {
                    if(grade == letterGrade[idx])
                        cout << fileid[idx] << " " << numgrade[idx] << " " << letterGrade[idx] << endl;
                }
                break;
                */
        case 4:
            break;
        case 5:
            break;
        default:
            cout << "Incorrect option" << endl;
        }
        cout << "Would you like to go back to the main menu y or n: " << endl;
        cin >> doAgain;
    } while(doAgain == 'y' || doAgain == 'Y');
    ingrades.close();
    //system("PAUSE");
    return EXIT_SUCCESS;
}

void insertionSort(int arrtosort[], int size) {
    int temp = arrtosort[0];
    for(int i = 1; i <= size; i++) {
        temp = arrtosort[i];
        int j = 0;
        for(j = i; j > 0; j--)
            if(temp < arrtosort[j - 1])
                arrtosort[j] = arrtosort[j - 1];
            else break;
        arrtosort[j] =  temp;
    }
} 
```

这是一个学校项目，但我的课程失败了，但我决心完成这个项目并继续学习真的需要帮助我觉得我撞到了一堵砖墙。

我正在尝试从文本中读取 ID，它也可以在第四次运行，然后我会收到该错误，我想了解为什么这不起作用以及如何继续执行程序的其余部分非常感谢还可以使用帮助来应用我的自动排序功能，老师给了我们循环，但不确定它如何完全工作或如何正确应用它。

我遇到的麻烦从第 127 行开始，给了我错误，例如字符串子字符串超出范围和难以比较案例 3 上的字符串

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T09:40:31.327

首先， lettergrade 不是一个数组，因此是超出范围的错误。正确的代码应该是这样的：

```
 for ( idx = 0; idx < SIZE; idx++ ) {
            ingrades >> fileid[idx] >> numgrade[idx] >> letterGrade;
            if ( fileid[idx] == id && idx <= SIZE ) {
                cout << fileid[idx] << " " << numgrade[idx] << " " << letterGrade << endl;
                break;
            }
        } 
```

插入排序也有几个错误，我的版本看起来像这样。

```
void insertionSort(int arrtosort[], int size) {
    int temp = arrtosort[0];
    for(int i = 1; i < size; i++) {
        temp = arrtosort[i];
        int j;
        for(j = i; j > 0; j--)
            if(temp < arrtosort[j - 1])
            {
                arrtosort[j] = arrtosort[j - 1];
                arrtosort[j-1] =  temp;
            }
            else break;
    }
} 
```

尝试查看旧代码，看看当 id 不小于其前身时会发生什么。正如@Dukeling 提到的，所有与 SIZE 的比较都应该更少，而不是更少。

实现插入排序的一种方法可能是这样的；

```
 case 4:
        insertionSort(fileid,SIZE);
        //fileid is now sorted
        for(int i=0; i< SIZE;++i)
        {
            ingrades.open("dataout.txt");
            for ( idx = 0; idx < SIZE; idx++ )
            {
                int id, t_grade;
                ingrades >> id >> t_grade >> letterGrade;
                //find the ith ID
                if ( fileid[i] == id)
                {
                    //and print it;
                    cout << id << " " << t_grade << " " << letterGrade << endl;
                    break;
                }
            }
            ingrades.close();
        }
        break; 
```

这会按顺序打印 ID 和所属等级

# xml - 使用 xsl 打开两个 xml 文档进行查找。两者都具有相同的元素

> ID：14721861
> 
> 赞同：0
> 
> 时间：2013-02-06T04:57:37.503
> 
> 标签：xml, xslt, lookup

我正在使用 xsl 进行 XML 转换，为此我必须使用多个查找。查找 xml 具有以下格式。

```
<lookups>
    <lookup attr1="val1a" attr2="val1b">
    <lookup attr1="val2a" attr2="val2b">
<lookups> 
```

所有查找 xml 都使用上述格式。例如元素 A 的查找文件在那里，元素 B 的另一个查找文件也在那里，具有相同的元素结构但与元素 B 相关的不同值。然后我在主 xsl 文件中进行如下查找。

```
<!-- here come the first lookup for element A -->
<xsl:key name="A-lookup" match="lookup" use="@attr1"/>
<xsl:variable name="ALookupDoc" select="document('ALookup.xml')"/>

<xsl:template match="A">
    <Anew>
        <xsl:apply-templates select="$ALookupDoc/*">
        <xsl:with-param name="curr-code" select="string(.)"/>
    </xsl:apply-templates>
    </Anew>
</xsl:template>

<xsl:template match="lookups">
    <xsl:param name="curr-code"/>
    <xsl:value-of select="key('A-lookup', $curr-code)/@attr2"/>
</xsl:template>

<!-- And the second one for element B -->
<xsl:key name="B-lookup" match="lookup" use="@attr1"/>
<xsl:variable name="BLookupDoc" select="document('BLookup.xml')"/>

<xsl:template match="B">
    <Anew>
        <xsl:apply-templates select="$BLookupDoc/*">
        <xsl:with-param name="curr-code" select="string(.)"/>
    </xsl:apply-templates>
    </Anew>
</xsl:template>

<xsl:template match="lookups">
    <xsl:param name="curr-code"/>
    <xsl:value-of select="key('B-lookup', $curr-code)/@attr2"/>
</xsl:template> 
```

现在没事了。问题是元素 A 的第一次查找工作正常。但不是第二个。正如我所看到的，有两个有问题的部分。

1.  两个查找具有相同的元素名称（查找和查找）。一旦我将第二个查找 XML 更改为不同的元素（lookupsX 和 lookupX）和相应的模板，它们就可以正常工作。
2.  同一元素有两个模板（查找元素 A 和 B）

我仍然不确定问题出在哪里。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:24:08.450

我认为问题在于您有两个具有完全相同`match`值的模板，因此实际上只使用了其中一个。你可以通过给他们不同的模式来解决这个问题，但是这样的事情怎么样：

```
 <!-- here come the first lookup for element A -->
  <xsl:key name="A-lookup" match="lookup" use="@attr1"/>
  <xsl:variable name="ALookupDoc" select="document('ALookup.xml')"/>

  <xsl:template match="A">
    <Anew>
      <xsl:apply-templates select="$ALookupDoc/*">
        <xsl:with-param name="curr-code" select="string(.)"/>
        <xsl:with-param name="keyName" select="'A-lookup'" />
      </xsl:apply-templates>
    </Anew>
  </xsl:template>

  <!-- And the second one for element B -->
  <xsl:key name="B-lookup" match="lookup" use="@attr1"/>
  <xsl:variable name="BLookupDoc" select="document('BLookup.xml')"/>

  <xsl:template match="B">
    <Anew>
      <xsl:apply-templates select="$BLookupDoc/*">
        <xsl:with-param name="curr-code" select="string(.)"/>
        <xsl:with-param name="keyName" select="'B-lookup'" />
      </xsl:apply-templates>
    </Anew>
  </xsl:template>

  <xsl:template match="lookups">
    <xsl:param name="curr-code"/>
    <xsl:param name="keyName" />

    <xsl:value-of select="key($keyName, $curr-code)/@attr2"/>
  </xsl:template> 
```

再说一次，您可能不需要两个键，因为它们都具有相同的定义。请看看这是否有效：

```
 <!-- here come the first lookup for element A -->
  <xsl:key name="lookup" match="lookup" use="@attr1"/>
  <xsl:variable name="ALookupDoc" select="document('ALookup.xml')"/>

  <xsl:template match="A">
    <Anew>
      <xsl:apply-templates select="$ALookupDoc/*">
        <xsl:with-param name="curr-code" select="string(.)"/>
      </xsl:apply-templates>
    </Anew>
  </xsl:template>

  <!-- And the second one for element B -->
  <xsl:variable name="BLookupDoc" select="document('BLookup.xml')"/>

  <xsl:template match="B">
    <Anew>
      <xsl:apply-templates select="$BLookupDoc/*">
        <xsl:with-param name="curr-code" select="string(.)"/>
      </xsl:apply-templates>
    </Anew>
  </xsl:template>

  <xsl:template match="lookups">
    <xsl:param name="curr-code"/>

    <xsl:value-of select="key('lookup', $curr-code)/@attr2"/>
  </xsl:template> 
```

# c# - DateTime.ParseExact，字符串格式为 2012-08-17T04:39:51.215Z

> ID：14721863
> 
> 赞同：0
> 
> 时间：2013-02-06T04:57:45.570
> 
> 标签：c#, .net, parsing, datetime

我正在开发我的第一个完整的 C# 项目。我正在为 Windows 应用商店应用程序/Windows Phone 应用程序编写一个可移植的类库，但我实际上遇到了 DateTime.ParseExact 和 DateTime.TryParseExact 的问题。

我试图转换为 DateTime 的字符串实际上是祖鲁语。该示例如下所示：

```
 2012-09-14T04:42:25.117Z
 2012-08-17T04:39:51.215Z 
```

如您所见，我们在这里达到毫秒级。以下是正在使用的代码：

```
DateTime _createdAt = DateTime.ParseExact(dateTime, TIMEFORMATTER,
                                CultureInfo.InvariantCulture,
                                DateTimeStyles.AssumeUniversal);

        return _createdAt; 
```

TIMEFORMATTER 是一个在顶部声明的 const：

```
const string TIMEFORMATTER = "yyyy-MM-ddTHH:mm:ss.fffZ" 
```

我一直在阅读许多 SO 帖子，以寻找解决问题的方法。我认为[这个](https://stackoverflow.com/questions/10029099/datetime-parse2012-09-30t230000-0000000z-always-converts-to-datetimekind-l)就可以了，但事实并非如此。

如果有人能指出我正确的方向，我将不胜感激。我只在 VB.net 中使用过 Date 对象。

***编辑：从库中添加附加代码以显示完整说明***

```
if (details.ContainsKey("created_at"))
{
    var time = details["created_at"].Stringify();
    Debug.WriteLine(time);
    DateTime _createdAt = FormatDateTime(time);

    Debug.WriteLine(_createdAt.ToLocalTime());
    Asana.Projects[indexOfProject].CreatedAt = _createdAt;
}

public static DateTime FormatDateTime(string dateTime)
{
    DateTime _createdAt = new DateTime();
    // 2012-09-14T04:42:25.117Z
    DateTime.TryParse(dateTime, out _createdAt);

    return _createdAt;
} 
```

这是要调试的内容：

```
"2012-08-17T04:39:52.878Z"
1/1/0001 12:00:00 AM
"2012-08-17T05:17:12.530Z"
1/1/0001 12:00:00 AM
"2012-09-09T04:23:08.805Z"
1/1/0001 12:00:00 AM
"2012-08-17T04:39:51.215Z"
1/1/0001 12:00:00 AM
"2012-09-14T05:12:22.056Z"
1/1/0001 12:00:00 AM
"2012-08-06T04:51:10.662Z"
1/1/0001 12:00:00 AM
"2012-09-14T04:40:56.602Z"
1/1/0001 12:00:00 AM
"2012-08-17T04:52:33.264Z"
1/1/0001 12:00:00 AM
"2012-09-14T04:43:50.953Z"
1/1/0001 12:00:00 AM
"2012-09-13T06:07:16.530Z"
1/1/0001 12:00:00 AM
"2012-09-14T04:42:25.117Z"
1/1/0001 12:00:00 AM 
```

**解决方案**

在 Jeremy Thompson 的帮助下，我实际上能够调试自己的错误。原来这是我第一次在 .Net 中使用 JSON 数据（用于 Python）。

.Stringify() 和 .GetString() 在获取字符串文本时做了完全不同的事情。我打开了一个新的控制台程序并使用 Jeremy 的代码来产生与他相同的结果。完美地工作。当我回到我的图书馆时，我在返回的一些字符串上遇到了格式问题。然后我发现在调试窗口中我得到了 JSON 数据的引号。

新的工作代码如下：

```
// From the depths of a method
if (details.ContainsKey("created_at"))
{
    var time = details["created_at"].GetString();
    DateTime _createdAt = FormatDateTime(time);                
    Asana.Projects[indexOfProject].CreatedAt = _createdAt;
    Debug.WriteLine(Asana.Projects[indexOfProject].CreatedAt.ToLocalTime());
} 
```

以及新的 FormatDateTime 方法（事实证明并不是那么新……）：

```
public static DateTime FormatDateTime(string dateTime)
{
    DateTime _createdAt = new DateTime();
    DateTime.TryParseExact(dateTime, TIMEFORMATTER, CultureInfo.InvariantCulture,                                                                
                           DateTimeStyles.AssumeUniversal, out _createdAt);            
    return _createdAt;
} 
```

一些示例输入/输出：

```
2012-09-14T04:43:42.060Z
9/13/2012 10:43:42 PM
2012-09-09T04:23:08.805Z
9/8/2012 10:23:08 PM
2012-08-06T04:51:10.662Z
8/5/2012 10:51:10 PM 
```

非常感谢那些正在寻找和思考它的人。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:07:46.130

```
string stringdate = "2012-09-14T04:42:25.117Z";
DateTime date = new DateTime();
DateTime.TryParse(stringdate,out date);
MessageBox.Show(date.ToShortDateString()); 
```

例如：

```
MessageBox.Show(date.ToLocalTime().ToString()); 
```

![在此处输入图像描述](../Images/37f384414482d81e07e5faf1517b0072.png)

**编辑：**

在[MSDN DateTime.TryParseExact 方法](http://msdn.microsoft.com/en-us/library/h9b85w22.aspx)中：

> 使用默认值解析字符串参数。除格式中存在的空格外，不允许出现空格。如果字符串缺少日期组件，则返回的 DateTime 值的日期设置为 1/1/0001。

我看到您正在提供 Date 组件。我唯一的猜测是我在澳大利亚并且它有效，我们使用 DD-MM-YYYY，而在美国则使用 MM-DD-YYYY。也许把它翻过来看看是否有效，例如：

**“2012-17-08T04:39:52.878Z”**

# wordpress - 从 Wordpress 管理员帐户注销后，Wordpress 插件（WPMU Dev 的 Q&A Lite）无法正常工作

> ID：14721872
> 
> 赞同：1
> 
> 时间：2013-02-06T04:58:21.717
> 
> 标签：wordpress, api, plugins

我刚刚安装了 Wordpress 插件（WPMU Dev 的 Q&A Lite）。但是，一旦我保存它，只要我登录我的 Wordpress 帐户，它就可以工作，但一旦从 Wordpress 管理员帐户注销，它就不会出现。相反，它只是带我回到主页。任何帮助，将不胜感激。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T00:56:13.087

您使用 Q&A Lite 插件运行什么版本的 WordPress？

如果您查看“问题”>“设置”并向下滚动，您是否看到“辅助功能设置”区域？在此区域中，您可以分配哪些用户角色可以在问答插件中执行某些操作。

确保您具有按您希望的方式设置“访客”的能力（例如能够查看问题和创建答案）。这应该让你启动并运行。

# jsp - 我如何使用链接将值从一个 jsp 发送到另一个

> ID：14721879
> 
> 赞同：0
> 
> 时间：2013-02-06T04:59:11.107
> 
> 标签：jsp

我有一个 jsp 页面，其中有一个指向“Creation.jsp”的链接，我必须为其传递 id。

我在锚标签中使用了以下内容

href=/home/Creation.jsp?rad=<%=id%>

当我这样使用时，实际的 id 值将显示在浏览器的 URL 中。

我的问题是：我不想在 URL 中显示值，但想通过从一个 jsp 到另一个 jsp 的链接发送一个值。我怎样才能做到这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:21:16.613

创建一个提交类型的链接按钮并通过表单提交。在表单操作中给出 Creation.jsp 页面的名称，如果您将其存储在不可见的文本框中，您将能够访问该值。

```
<form action="Creation.jsp" method="post">

<input type= "hidden" value="<%=id%>" name="hdnId"/>

<input type="submit">

</form> 
```

现在在 Creation.jsp 页面上通过 request.GetParameter("hdnId"); 获取值

补充：把这个放在servlet中

```
RequestDispatcher rd = request.getRequestDispatcher("Creation.jsp");
rd.forward(request, response); 
```

参考[http://docs.oracle.com/javaee/5/api/javax/servlet/RequestDispatcher.html](http://docs.oracle.com/javaee/5/api/javax/servlet/RequestDispatcher.html)

# asp.net - 这些标签名称 <% 和 <%= 是什么？

> ID：14721887
> 
> 赞同：1
> 
> 时间：2013-02-06T04:59:43.307
> 
> 标签：asp.net, asp.net-mvc, asp-classic

我尝试搜索 SO，但我猜它不喜欢查询文本中的语法 <%= 所以如果这是重复的，我会删除它。

我的问题是，以下标签的实际名称是什么？如果向别人描述他们，我会怎么称呼他们

```
<%
<%= 
```

如果你认识他们

```
<%#
<%@ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:01:25.537

```
<% scriptlets
<%= expression
<%# expression
<%@ directives 
```

**EDITED**
想象一下这样
1\. 你在里面写的任何东西`<% %>`都放在某个“进程”函数中
2\. 你在 <%@ %> 里面写的任何东西都放在类级别
3\. 你可以在里面写表达式`<%= %>`想象一些东西被写出来打印`Response.Write`（我们也不要在末尾写 ';' 例如。`<%= x+5 %>`）并且与它们`<%# %>`相同，`<%= %>`但不同之处在于它们在内部运行的方式注意：这只是为了您的理解，而不是从任何来源获取。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:04:31.857

<% 是一个“classic-asp”标签，用于编写服务器端代码。您可以将其命名为 scriptlets。您也可以在 c# 中的 .net 平台中使用它。
<%= 并不是真正的标签。它是用来写东西的。
%@ 指令用于指令

# html - 隐藏的网络点击计数器

> ID：14721895
> 
> 赞同：0
> 
> 时间：2013-02-06T05:00:15.287
> 
> 标签：html, web, hitcounter

我想知道如何实现隐藏的计数器。我想这样做是因为我想要一个树莓派项目，每次网站受到打击时都会亮起灯，但我不想在网站上显示计数器。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:01:57.033

是网站吧？然后你可以简单地将计数器放在`div`这样的内部：

```
<div class="hitcounter"></div> 
```

并使用 CSS 隐藏它：

```
.hitcounter {display: none;} 
```

这样，计数器将出现在 DOM 中，并且在视口中不可见。:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-15T13:35:28.677

您可以在 index.php 中编写 php 代码。每次加载网站时，您都可以将数据发送到您的树莓派。在您的树莓派上，您还可以运行一个带有 php 的 Web 应用程序，该应用程序跟踪此调用并运行一个程序来切换您的灯！

# oracle - AFTER ALTER ON DATABASE 给出 Oracle 中的旧密码值

> ID：14721896
> 
> 赞同：1
> 
> 时间：2013-02-06T05:00:17.473
> 
> 标签：oracle, triggers, passwords, alter

我正在编写一个触发器以在“sys.users$”表更新时获取“密码”值。

```
CREATE OR REPLACE 
TRIGGER Sys_User_Nm_Trg AFTER ALTER ON DATABASE
WHEN (ora_dict_obj_type = 'USER')
DECLARE

CURSOR get_pw IS
SELECT password
FROM sys.user$
WHERE name = ora_dict_obj_name;

user_pw_ VARCHAR2(100);

BEGIN

IF (ora_dict_obj_name != 'SYS' AND ora_dict_obj_name != 'SYSTEM') THEN
  IF (ora_des_encrypted_password IS NOT NULL) THEN

 OPEN get_pw;
 FETCH get_pw INTO user_pw_;
 CLOSE get_pw;

 END IF;
END IF;

END;
/ 
```

但是这个游标给出了旧的“密码”而不是改变的“密码”值。但如果我跑

```
SELECT password
FROM sys.user$
WHERE name = ora_dict_obj_name; 
```

在单独的事务中，它给出了正确的更改值。我应该在触发器中更改某些内容以获取密码的更新值吗？

# python - 如何将字符串更改为十六进制

> ID：14721898
> 
> 赞同：-6
> 
> 时间：2013-02-06T05:00:23.273
> 
> 标签：python

所以我有这个普通的字符串，我想在 Python 中获取它的十六进制值。示例：“：”我希望程序输出“0x3a”但是我在这里搜索没有找到任何东西。你知道怎么做吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T05:06:04.207

Python2有这个简单的方法

```
>>> "Hello".encode("hex")
'48656c6c6f' 
```

Python3 还不错

```
>>> import binascii
>>> binascii.hexlify(b'Hello')
b'48656c6c6f' 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T05:06:24.143

这是你想要的吗

```
In [152]: x = "12"

In [153]: hex(int(x))
Out[153]: '0xc' 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T05:03:28.763

用简单的演员表。

```
> int('0xFF', 16)
< 255 
```

# ios - 如何将 TextField 的内容保存到 plist

> ID：14721903
> 
> 赞同：0
> 
> 时间：2013-02-06T05:00:57.173
> 
> 标签：ios, objective-c, uitextfield, ios-simulator, plist

我想用相应的键值对将 TextFields 的内容保存在 plist 中。Like Password 字段应与 Key-Password 和 Value-（在 textField 中输入）一起保存。

我怎样才能做到这一点？

并想在其他课程中访问它。我可以做吗？如果是，那么如何？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:10:03.580

添加东西`plist`很容易。完整的工作代码如下，将人员联系信息添加到 plist -

```
// get paths from root direcory
NSArray *paths = NSSearchPathForDirectoriesInDomains (NSDocumentDirectory, NSUserDomainMask, YES);
// get documents path
NSString *documentsPath = [paths objectAtIndex:0];
// get the path to our Data/plist file
NSString *plistPath = [documentsPath stringByAppendingPathComponent:@"Data.plist"];

// set the variables to the values in the text fields
self.personName = nameEntered.text;
self.phoneNumbers = [[NSMutableArray alloc] initWithCapacity:3];
[phoneNumbers addObject:homePhone.text];
[phoneNumbers addObject:workPhone.text];
[phoneNumbers addObject:cellPhone.text];

// create dictionary with values in UITextFields
NSDictionary *plistDict = [NSDictionary dictionaryWithObjects: [NSArray arrayWithObjects: personName, phoneNumbers, nil] forKeys:[NSArray arrayWithObjects: @"Name", @"Phones", nil]];

NSString *error = nil;
// create NSData from dictionary
NSData *plistData = [NSPropertyListSerialization dataFromPropertyList:plistDict format:NSPropertyListXMLFormat_v1_0 errorDescription:&error];

// check is plistData exists
if(plistData) 
{
    // write plistData to our Data.plist file
    [plistData writeToFile:plistPath atomically:YES];
}
else
{
    NSLog(@"Error in saveData: %@", error);
    [error release];
} 
```

[[来源]](http://www.theappcodeblog.com/2011/05/30/property-list-tutorial-using-plist-to-store-user-data/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:06:51.337

您可以通过以下方式将 textField 的内容保存到 Plist 中：

```
 NSMutableDictionary *_plistDict = [NSMutableDictionary dictionaryWithContentsOfFile:pListPath];
        [_plistDict setValue:textField.text forKey:@"Password"];
        [_plistDict writeToFile:pListPath atomically:YES]; 
```

如果要从 pList 检索该值，可以使用以下代码：

```
NSMutableDictionary *_plistDict = [NSMutableDictionary dictionaryWithContentsOfFile:pListPath];
    NSString *status = [NSString stringWithFormat:@"%@",[_plistDict objectForKey:@"Password"]]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T05:07:46.720

是的，在 Dictionary 的键中添加 in属性的`NSMutableDictionary`值。像`UITextFeild``text`

```
 NSMutableDicitonary * dictionary = [[NSMutableDictionary alloc] init];
        [dictionary setObject:textfield.text forKey:@"username"];
        [dictionary setObject:textfield.text forKey:@"password"]; 
```

将字典保存在 plist 中并在需要的地方使用它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T05:10:29.883

```
 NSString *aDocumentsDirectory = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) lastObject];

NSString *aFilePath = [NSString stringWithFormat:@"%@/plistName.plist", aDocumentsDirectory];

NSMutableArray *plistArray = [[NSMutableArray alloc] initWithContentsOfFile:aFilePath];

NSMutableDictionary *newComment = [NSMutableDictionary dictionary];
[newComment setValue:userName.text forKey:@"username"];
[newComment setValue:password.text forKey:@"password"];

[plistArray addObject:newComment];
[plistArray writeToFile:filePath atomically:YES]; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-06T05:11:29.360

**最佳实践**是将这些信息保存在 NSUserDefaults 而不是 plist 中。可以从项目中的任何位置访问 NSUserDefautls。

保存：

```
NSUserDefaults *userDefaults = [NSUserDefaults standardUserDefaults];
[userDefaults setObject:[yourTextfield text] forKey:@"password"]; 
```

检索：

```
 NSString *myPassword = [[NSUserDefaults standardUserDefaults] objectForKey:@"password"]; 
```

# flash - flash pro cs6 中的问题 - 测试移动应用程序

> ID：14721907
> 
> 赞同：0
> 
> 时间：2013-02-06T05:01:02.227
> 
> 标签：flash, flashdevelop, flash-cs6

嘿伙计们，我有一个正在开发的应用程序，它正在 Flash Pro CS5.5 中开发，但现在它正在 CS6 中开发。我的问题是当我去测试它时，它会立即打开并终止：

```
[SWF] pl.mllr.extensions.contactEditor - 8326 bytes after decompression
[SWF] soscs6.swf - 43323 bytes after decompression
[UnloadSWF] soscs6.swf
Test Movie terminated. 
```

不知道为什么直接关机了？

如果您能提供帮助，我将不胜感激！谢谢 ：）

大卫

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:30:49.067

我记得在某处读到 Flash CS 5.5 与 FLA 存在发布问题。你可以尝试两件事：

*   在 Flash CS6 中创建一个新的 FLA。
*   查看您是否在发布设置中启用了 LZMA。这是我曾经发现的罪魁祸首。

如果您可以提供更多详细信息/Flash 崩溃日志，那将有所帮助。

# iphone - 登录面上的 Sharekit 错误

> ID：14721908
> 
> 赞同：0
> 
> 时间：2013-02-06T05:01:03.697
> 
> 标签：iphone, facebook, ios6, sharekit

登录后在我的应用程序中尝试使用 Sharekit 时，它显示以下消息“错误：此点已被弃用。”![在此处输入图像描述](../Images/9675d563e5bad2eaf3763756de1c0b96.png)

谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:04:00.510

在 facebook“ [http://developers.facebook.com/](http://developers.facebook.com/) ”中打开您的应用

然后转到应用>>您的应用>>设置>>编辑设置>>高级>>迁移>>禁用所有重大更改

# c# - 选择后如何使下拉列表项无法选择

> ID：14721915
> 
> 赞同：0
> 
> 时间：2013-02-06T05:01:23.777
> 
> 标签：c#, asp.net

* * *

```
 <asp:ListItem>1</asp:ListItem>

                    <asp:ListItem>2</asp:ListItem>

                    <asp:ListItem>3</asp:ListItem> 
```

我在 .aspx 文件中的表单中有一个下拉列表。

一旦我选择“1”，那么下次如果我重定向到同一页面，那么“1”应该是

不可选择或隐藏，因为我之前选择了“1”，因为我的示例中有大项目。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:14:52.370

无法禁用下拉列表中的任何特定项目。

备用：

您可以使用 a并使用其属性来禁用任何特定项目，并且所有用户都可以看到该项目已禁用。这是一个设计时示例。**`BulletedList`** `Server Control``Enable = False`

```
<asp:BulletedList ID="BulletedList1" runat="server">
            <asp:ListItem>1</asp:ListItem>
            <asp:ListItem>2</asp:ListItem>
            <asp:ListItem Enabled="False">3</asp:ListItem>
            <asp:ListItem>4</asp:ListItem>
</asp:BulletedList> 
```

从[这里取](http://forums.asp.net/t/1132654.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:20:12.887

您可以使用隐藏字段来存储在后面的代码中选择了哪个项目，并使用以下代码禁用该项目。

```
//Code Starts
$(document).ready(function() {   
   $('#ddlList option:contains("HTML")').attr("disabled","disabled");
});​
//Code Ends 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T05:31:14.320

您可以使用 Cookie 跟踪您的选择，在`"onChange"`您的下拉列表事件中，使用所选值创建一个 cookie，然后在正文上`"onLoad"`您可以检查和禁用 Cookie 中的项目。

或者您可以将所选值保存在隐藏字段中

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-06T06:47:45.257

要**删除**下拉列表 (DDL) 中的最后一个选定项目，请考虑 DDL 表单的以下代码，您可以使用 DDL 的**onselectedindexchanged**事件（当您单击其中一个 DDL 项目时会引发该事件）：

```
<asp:DropDownList ID="_DDL" runat="server" 
        onselectedindexchanged="_DDL_SelectedIndexChanged" AutoPostBack="true">
        <asp:ListItem>1</asp:ListItem>
        <asp:ListItem>2</asp:ListItem>
        <asp:ListItem>3</asp:ListItem>
</asp:DropDownList> 
```

并在**RemoveAt()**方法后面添加代码以从 DDL 中删除选定的项目：

```
 protected void _DDL_SelectedIndexChanged(object sender, EventArgs e)
    {
        int ItemToRemove = _DDL.SelectedIndex;
        _DDL.Items.RemoveAt(ItemToRemove);
    } 
```

希望这会有所帮助:)

# list - Mathematica - 带列表的函数

> ID：14721917
> 
> 赞同：1
> 
> 时间：2013-02-06T05:01:30.887
> 
> 标签：list, function, wolfram-mathematica

我今天在*Mathematica*中遇到了这个错误：

```
Set::shape: "Lists {0,0,0,0,0,0,0,0,0,0} and {0,0,0,0,0,0,0,0,0,0,{1}} are not the same shape" >> 
```

在其中 3 个之后：

```
General::stop : Further output of Set::shape will be suppressed during this calculation. >> 
```

我很困惑为什么我不能将“1”附加到我的零列表中。这是因为我无法编辑传递给函数的列表吗？如果是这样，我如何编辑该列表并以某种方式返回或打印它？

这是我的完整代码：

```
notFunctioningFunction[list_] := (For[i = 1, i < 10, i++, list = Append[list, {1}]]; 
  Print[list])
list = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
notFunctioningFunction[list] 
```

我附加“{1}”的原因是因为在我的函数中，我正在求解一个方程，并获取输出 {1} 的变量的值。这是我的代码：

```
varName / . Solve[ function1 == function2 ] 
```

显然我是*Mathematica*的初学者，所以请耐心等待 :)

谢谢，
布科

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T06:27:01.647

Append 需要一个列表和一个元素。像这样：

```
 Append[{1,2,3,4},5] 
```

如果您有两个列表，则可以使用 Join。像这样：

```
 Join[{1,2,3,4},{5}] 
```

这两个都会产生相同的结果：{1,2,3,4,5}。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-06T16:10:48.993

亲爱的 Mathematica 初学者。

首先，当你使用类似的东西时

```
{a,b} = {c,d,e}; 
```

在 Mathematica 中，在两个列表之间，程序有困难，因为这是一个用于为变量赋值的构造，并且它要求（除其他外）两个列表相等。

如果您想要的只是将“1”添加到现有的命名列表中，一次一个，最好的构造是：

```
AppendTo[list, 1]; 
```

*（此构造将修改变量“列表”）*

或者

```
list = Join[list, {1}]; 
```

第二：关于错误消息，它们在评估中默认打印 3 次，然后静音，这样一长串相同的错误消息就不会弄乱你的显示。

第三，如果您需要将 10 个 1 添加到列表中，则无需在循环中构造它。您可以一次性完成：

```
list = Join[list, Table[1, {10}]] 
```

或者，对初学者来说更神秘

```
list = Join[list, Array[1&, 10]] 
```

# qt - 如何使 Qt 图标（在菜单栏和工具栏中）更大？

> ID：14721918
> 
> 赞同：3
> 
> 时间：2013-02-06T05:01:36.050
> 
> 标签：qt, user-interface

我认为默认尺寸太小了。有什么办法改变吗？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T06:47:50.517

1.  `QToolbar`有财产`iconSize`。

2.  据我所知，更改`QMenu`图标大小的唯一方法是为其创建自定义样式。你可以[在这里阅读](http://www.qtcentre.org/threads/15742-How-to-change-Icon-size-in-QMenu)

# sorting - 按斜率排序线

> ID：14721922
> 
> 赞同：2
> 
> 时间：2013-02-06T05:01:51.573
> 
> 标签：sorting, line, computational-geometry, cgal

任何 CGAL 包中是否有按斜率对线（Line_2）进行排序的功能？或者任何人都可以推荐一种考虑退化情况的排序算法，如垂直线？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T08:12:25.400

您可以使用`CGAL::Direction_2`. 有一个构造函数`Line_2`，并且有一个允许对它们进行排序的`operator <`之间。`Direction_2`

例如，您可以使用`std::map<CGAL::Direction_2, CGAL::Line_2>`，在此映射中插入对`of Direction_2`及其对应的`Line_2`。您直接获得了排序后的排序行`std::map`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-06T08:39:39.727

有对象的`CGAL::compare_slopes`自由函数`Line_2`和相应的`K::Compare_slope_2`函子（可以从给定的 by 实例`k`中`K`提取`k.compare_slope_2_object()`）。

您可以在以下示例中看到它：

```
#include <algorithm>
#include <iostream>
#include <vector>
#include <CGAL/Exact_predicates_inexact_constructions_kernel.h>

typedef CGAL::Exact_predicates_inexact_constructions_kernel K;
typedef typename K::Line_2 Line_2;

struct Slope_comparator {
  // K k;
  // Slope_comparator (const K &k = K()) : k(k) {}
  bool operator() (const Line_2 &l1, const Line_2 &l2) const {
    return (CGAL::compare_slopes (l1, l2) < 0);
    // return (k.compare_slope_2_object()(l1, l2) < 0);
  }
};

int main () {
  std::vector< Line_2 > l;
  l.push_back (Line_2 (    1.,     1., 0.));
  l.push_back (Line_2 (    1.,    -1., 0.));
  l.push_back (Line_2 (    0.,     1., 0.)); // vertical
  l.push_back (Line_2 (1e-100,     1., 0.)); // almost vertical
  l.push_back (Line_2 (1e-100,    -1., 0.)); // almost vertical
  l.push_back (Line_2 (    0.,    -1., 1.)); // also vertical
  l.push_back (Line_2 (1e-100,     1., 2.)); // also almost vertical
  l.push_back (Line_2 (1e-100,    -1., 3.)); // also almost vertical
  l.push_back (Line_2 (    1.,     0., 0.)); // horizontal
  l.push_back (Line_2 (    1., 1e-100, 0.)); // almost horizontal
  l.push_back (Line_2 (   -1., 1e-100, 0.)); // almost horizontal
  l.push_back (Line_2 (   -1.,     0., 4.)); // also horizontal
  l.push_back (Line_2 (   -1., 1e-100, 5.)); // also almost horizontal
  l.push_back (Line_2 (    1., 1e-100, 6.)); // also almost horizontal

  std::cout << "insertion order:" << std::endl;
  for (int i = 0; i < l.size(); ++i)
    std::cout << "    " << l[i] << std::endl;

  std::sort (l.begin(), l.end(), Slope_comparator());
  std::cout << "sorted order:" << std::endl;
  for (int i = 0; i < l.size(); ++i)
    std::cout << "    " << l[i] << std::endl;
} 
```

请注意，`compare_slopes`比较*定向*线，本质上是方向；如果这不是你想要的，你必须标准化你的线条（例如确保所有*y*坐标为正）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-08T08:38:26.203

实际上并没有真正需要定义`struct Slope_comparator`并使其调用全局函数。您可以直接将仿函数传递[`CGAL::Compare_slope_2`](http://www.cgal.org/Manual/latest/doc_html/cgal_manual/Kernel_23_ref/FunctionObjectConcept_Kernel--CompareSlope_2.html)给`std::sort()`函数。

# c# - 与服务器成功建立连接，但在登录前握手期间发生错误。（无法更改 SQL Server）

> ID：14721927
> 
> 赞同：2
> 
> 时间：2013-02-06T05:02:23.757
> 
> 标签：c#, asp.net, sql-server, web-config

我有一个作为共享帐户托管的 ASP.Net 站点。我收到错误消息：

```
A connection was successfully established with the server, but then an error 
occurred during the pre-login handshake. (provider: SSL Provider, error: 0 - 
The specified data could not be decrypted. 
```

我在网上找到的信息似乎表明问题是 SQL Server 不信任证书（SSL 证书是由威瑞信和托管服务签署的有效证书，而不是自签名的）。但是，托管服务告诉我：

1.  SQL Server 必须设置为“强制协议加密”，因为它是共享服务器

2.  他们无法导入证书或进行任何更改，也不允许我为此做任何事情

还有其他解决方案吗？这是我的代码有问题吗？我尝试从 bin 文件夹和 web.config 中删除我的 DLL，并创建一个直接连接到数据库的 aspx 页面，但我仍然遇到同样的错误！

有可能解决这个问题吗？是我的代码以某种方式导致了这种情况吗？

**编辑：我改为在连接字符串中使用 ip 地址，它暂时重新开始工作，但现在它再次给我错误。我不确定为什么它偶尔会再次开始工作，然后突然停止工作。有人知道吗？**

（代码在我本地托管的开发服务器上完美运行）

**网页**

```
<%@ Page language="c#" %>
<%@ Import namespace="System" %>
<%@ Import namespace="System.Web" %>
<%@ Import namespace="System.Data" %>
<%@ Import namespace="System.Data.SqlClient" %>
<script runat="server">

protected void Page_Load(object sender, EventArgs e)
{
    try
    {
        //Now insert into database
        SqlConnection conn = new SqlConnection( ConfigurationManager.AppSettings["ConnectionString"]  );

        conn.Open();
        SqlCommand cmd = new SqlCommand(  );
        cmd.Connection = conn;
        cmd.CommandText = "SELECT * FROM TestTable";
        cmd.ExecuteReader();
        Response.Write( "done" );
    }
    catch (Exception sqlEx)
    {
        Response.Write( sqlEx.ToString() );
    }
}
</script> 
```

**网页配置**

```
<?xml version="1.0"?>
<configuration>
    <system.web>

        <customErrors mode="Off"/>
    </system.web>
    <appSettings>
        <add key="ConnectionString" value="server=mydb.thehostingservice.com;user=dbUser;initial catalog=test;pwd=dbpass" ></add>
    </appSettings>
</configuration> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T06:28:21.190

我不知道这是否是一个好的永久修复，但我最终能够通过使用数据库的 IP 地址和连接字符串中的端口而不是数据库的“web”地址来连接它。所以我用“192.168.1.213,1433”替换了“mydb.thehostingservice.com”。

在此之后，它能够连接。

但是让我怀疑这是一个永久的解决方案是，在此之后我切换回在连接字符串中使用“mydb.thehostingservice.com”来查看 ti 是否会中断，现在也可以了！所以这可能会在未来再次对我造成影响。

以前我收到了错误，但我删除了我的 web.config 和 dll 并暂时修复了它 - 但最近一次删除这些东西并没有修复它 - 所以我担心这是一样的。

**编辑：它再次给了我错误。那不是解决方案。**我不确定为什么它偶尔会再次开始工作，然后突然停止工作。有人知道吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T15:55:07.080

我在互联网上阅读此问题的先前帖子和解决方案是，问题可能出在您的客户端而不是他们的服务器上。尝试解决此问题的第一步是将以下内容添加到您的连接字符串中：

```
;Use Encryption for Data=True 
```

然后查看是否可以解决问题，或者是否会更改错误消息。

* * *

好的，我注意到的一件事是`..;user=..`您的连接字符串中有。尝试将“user=”更改为“user id=”。

* * *

在这一点上，我只能想到另一件事：在您的客户端上调出 SQL 配置实用程序，然后右键单击 SQL Native Client 协议并选择“属性”。然后注意“Force [Protocol] Encryption”设置的内容，然后将其反转。现在重新启动一切并尝试再次连接。

# c - C: 将两个 ScanF 相乘

> ID：14721933
> 
> 赞同：0
> 
> 时间：2013-02-06T05:02:42.593
> 
> 标签：c

我有以下程序：

```
 #include <stdio.h>

 int main (void)
{
int n, number, employeeNumber,counter;
float wage,hours,grossPay;
grossPay = wage*hours;

    for ( counter = 1; counter <=5; ++counter) {

    printf ("Enter Clock#:");
    scanf ("%i",&number);
    printf ("Enter Wage:");
    scanf ("%f",&wage);
    printf ("Enter Hours:");
    scanf ("%f",&hours);

    employeeNumber = 0;

    for ( n = 1; n <= number; ++n)
        employeeNumber +=n;

    printf ("--------------------------------\n");
    printf ("Clock#    Wage    Hours    Gross\n");
    printf ("--------------------------------\n");
    printf ("%06i     %.02f      %.01f   %f\n\n", number, wage, hours,grossPay);
    }
    return 0;        
    } 
```

当我运行该程序时，grossPay 目前为零。我希望 GrossPay 等于工资*小时数，这取决于我输入的工资和小时数。任何人都可以提供有关如何解决此问题的提示吗？谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-06T05:05:11.823

移动这条线

```
grossPay = wage*hours; 
```

后

```
scanf ("%f",&hours); 
```

您应该尝试`grossPay`在用户输入`wage`&之后进行计算`hours`。默认情况下，在声明期间`wage`将`hours`初始化为默认值，即`0.0`，因此您将得到`grossPay`零。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:06:24.793

您甚至在为工资和工时分配任何价值之前，都将总工资分配给工资和工时。在第一个 for 循环内的最后一个 scanf 之后执行此操作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T05:06:35.043

您在提供信息之前正在计算它，所以尝试一下

```
printf ("--------------------------------\n");

grossPay = wage*hours;

printf ("%06i     %.02f      %.01f   %f\n\n", number, wage, hours,grossPay); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T17:07:04.490

你也可以试试这个，而不是你不需要“grossPay =工资*小时;”这一行

printf ("%06i %.02f %.01f %f\n\n", 数字, 工资, 小时, 工资*小时);

# ios - 在 UIWebView 中使用 baseurl

> ID：14721935
> 
> 赞同：0
> 
> 时间：2013-02-06T05:02:45.660
> 
> 标签：ios, uiwebview, base-url

我在加载一个显然与需要正确设置 baseurl 有关的网站时遇到了一些问题。主站点是[http://www.oklahomachristianacademy.org](http://www.oklahomachristianacademy.org)，我需要打开的站点地址是一个返回为的字符串

`applewebdata://F6224B10-25ED...`

因此，在我的代码中，我认为这可以设置 baseurl 和上面附加的字符串以加载到应用程序中。

```
-(void)viewWillAppear:(BOOL)animated {
NSURL *theurl = [NSURL URLWithString:@"http://www.oklahomachristianacademy.org/"];
[savedweb loadHTMLString:(NSString *)link baseURL:(NSURL *)theurl];
} 
```

但是，这不起作用，UIWebview 只是再次显示 applewebdata:// 行。我错过了什么？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-06T05:20:00.237

使用此代码

```
//NSString *urlAddress = @"http://www.google.com";
NSString *urlAddress = @"http://cagt.bu.edu/page/IPhone-summer2010-wiki_problemsandsolutions";
//Create a URL object.
NSURL *url = [NSURL URLWithString:urlAddress];

//URL Requst Object
NSURLRequest *requestObj = [NSURLRequest requestWithURL:url];

//Load the request in the UIWebView.
[webView loadRequest:requestObj]; 
```

# c# - 如何获取登录用户名？

> ID：14721942
> 
> 赞同：0
> 
> 时间：2013-02-06T05:03:25.283
> 
> 标签：c#

我想使用 c# 获取当前登录的用户名（windows 用户），我已经完成了以下操作。

1.  创建一个 Web 应用程序
2.  发布了网络应用程序
3.  在 iis 中创建站点并给出物理路径

当我尝试获取用户名时，我将应用程序池名称作为当前用户名，我使用了下面的代码行。我已经给了这个网站的匿名访问权限。

```
string username = System.Environment.UserName.ToString(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:12:44.297

```
WindowsIdentity.GetCurrent() 
```

如果您使用的是会员资格，

```
 MembershipUser currentUser = Membership.GetUser();
 //Get Username of Currently logged in user
 string username = currentUser.UserName;
 //Get UserId of Currently logged in user
 string UserId = currentUser.ProviderUserKey.ToString(); 
```

[http://www.aspdotnet-suresh.com/2011/01/how-can-we-get-username-and-userid-of.html](http://www.aspdotnet-suresh.com/2011/01/how-can-we-get-username-and-userid-of.html)

# javascript - 非常简单的 D3.js 教程示例不起作用

> ID：14721945
> 
> 赞同：5
> 
> 时间：2013-02-06T05:03:31.120
> 
> 标签：javascript, d3.js

我对 D3.js 有点陌生。我正在阅读Mike Dewar*的 D3 入门。*我尝试了书中的第一个示例，但它不起作用。我一直在为此撕毁我的耳朵。我的代码有什么问题？

在该`<head>`部分：

```
<script src="http://mbostock.github.com/d3/d3.js"></script>
<script>
   function draw(data) {
    "use strict";
   d3.select("body")
      .append("ul")
      .selectAll("li")
      .data(data)
      .enter()
      .append("li")
         .text(function (d) {
            return d.name + ": " + d.status;
         });
      }
</script> 
```

在`<body>`：

```
<script>

    d3.json("flare.json", draw);

</script> 
```

和 JSON 文件：

```
[
{
    "status": ["GOOD SERVICE"],
    "name": ["123"],
    "url": [null],
    "text": ["..."],
    "plannedworkheadline": [null],
    "Time": [" 7:35AM"],
    "Date": ["12/15/2011"]
}
] 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-06T16:58:55.903

如果您使用的是 Chrome，由于跨域安全限制，它可能会阻止您正确打开文件。试试 Firefox 看看是不是这样（它可能会让你正确加载文件）。

如果这是问题所在，您将需要安装 WAMP 之类的本地 Web 服务器（如果您运行的是 Windows）或按照此处 wiki 页面上的说明进行操作：[https ://github.com/mbostock/d3/wiki](https://github.com/mbostock/d3/wiki)

祝你好运

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T05:44:40.210

您是否检查过您的浏览器控制台以查看您的 XHR 请求是否成功？

当我尝试在我的机器上运行代码时，在 VS 2012 Express 中使用本地版本的 d3 (v3)，XHR 请求返回并显示错误消息：

**HTTP 错误 404.3 - 未找到**

但是，当我将“flare”文件的扩展名从**.json**更改为**.txt**或**.js**时，如下所述： [https ://serverfault.com/questions/39989/iis-cant-serve-certain-file- extension](https://serverfault.com/questions/39989/iis-cant-serve-certain-file-extension)，则 XHR 请求成功。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-07T16:07:44.873

那么 d.name 和 d.status 都是数组，如果你想显示它们的内容，应该只是字符串，或者你应该访问这些数组的 0 索引值；即d.name[0] + ':' + d.status[0];

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-13T23:18:28.200

它可能是你的 JSON。我做了同样的练习，效果很好。这是我的 js（我附加到一个 div，而不是正文）。我正在运行本地 Web 服务器。

```
d3.json("data/mta001.json", drawli);

function drawli(data) {
    "use strict";
    d3.select('#mta001')
      .append('ul')
      .selectAll('ul')
      .data(data)
      .enter()
      .append('li')
        .text(function (d) {
            return d.name + ': ' + d.status;
      });
    d3.selectAll('#mta001 li')
      .style('color', function (d) {
        if ( d.status == 'GOOD SERVICE') {
            return 'green';
        } else {
            return 'fuchsia';
        }
      });
} 
```

这是我的 JSON：

```
[
        {
          "name": "123",
          "status": "DELAYS",
          "text": "delay text",
          "Date": "12/08/2012",
          "Time": " 1:03PM"
        }
] 
```

# php - 检索 iFrame 中任何视频的缩略图？

> ID：14721947
> 
> 赞同：1
> 
> 时间：2013-02-06T05:03:38.673
> 
> 标签：php, iframe, video-thumbnails

我有各种我喜欢在我的网站上使用的视频主机。我正在尝试编写一种方法来检索他们的视频缩略图。

这些视频主机中的大多数实际上在视频开始播放之前都会显示视频的一帧。如果甚至可以将该帧作为缩略图，那就太好了。大多数（如果不是全部）这些视频主机都使用 iframe 进行嵌入。

我正在寻找一种相当通用的方法来检索所有视频主机的缩略图，一旦嵌入视频，这些主机就会从视频中显示某种类型的帧。如果可以以某种方式检索该帧，然后将其转换为可以使用的图像，那将是惊人的。但是，我不完全确定如何去做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:10:17.717

您必须拥有实际的二进制文件数据。如果您有该访问权限，请在您的服务器上安装 ffmpeg-php 并使用此问题进一步指导：[ffmpeg to get screenshot](https://stackoverflow.com/questions/3068424/ffmpeg-to-get-screenshot)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:20:26.273

听起来您想要的是[oEmbed](http://oembed.com/)，大多数流行的视频托管网站（Youtube，Vimeo，...）都支持它。有几个[PHP oEmbed 库](https://packagist.org/search/?q=oembed)，它们预先配置了 oEmbed 端点。

oEmbed 允许您使用视频 URL 向提供商（例如 Youtube）发出请求。它将返回一个 JSON 响应，其中包含有关视频的信息。Youtube 和 Vimeo 都`thumbnail_url`在 JSON 中返回一个元素。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T05:12:00.633

取决于网站。

例如，如果您有一个 youtube 视频 [http://www.youtube.com/watch?v=AC2FKbyC28k](http://www.youtube.com/watch?v=AC2FKbyC28k)

那么它的缩略图在 [http://i2.ytimg.com/vi/AC2FKbyC28k/mqdefault.jpg](http://i2.ytimg.com/vi/AC2FKbyC28k/mqdefault.jpg)

我通过右键单击图像缩略图、在选项卡中打开它并检查 url 发现了这一点，所以我相信你可以对每个站点都做到这一点；）

# c - 为双向链表创建标题

> ID：14721956
> 
> 赞同：1
> 
> 时间：2013-02-06T05:04:05.800
> 
> 标签：c, gcc, header, doubly-linked-list

所以我正在学习操作系统课程，并且我们以 C 编程速成课程开始了这个学期。我们的前两项任务很简单，但我终其一生都无法弄清楚这一点。

所以我们的教授让他的助教创建了以下 .c 文件：

```
#include <stdio.h>
#include <stdlib.h>
#include "dll.h"

void init(Dll *dll, int n){
Node *prev = &(dll->head);
prev->prev = NULL;
Node *node;
for(int i=0;i<n;i++){
    node = (Node *)malloc(sizeof(Node));
    node->value = rand();
    node->prev = prev;
    node->next = NULL;
    prev->next = node;
    prev = node;
    printf("%d. ", i+1);
    printf("%d\n", node->value);
}
}
void print(Dll *dll){
Node *current;
current = dll->head.next;
while(current->next != NULL){
    printf("%d\n", current->value);
    current = current->next;
}
printf("%d\n", current->value);
}
void sort(Dll *dll){
int changed = 1;
while(changed==1){
    Node *current;
    current = dll->head.next;
    changed = 0;
    while(current->next != NULL){
        if(current->value > current->next->value){
            int value;
            value = current->value;
            current->value = current->next->value;
            current->next->value = value;
            changed = 1;
        }
        current = current->next;
    }
}

}

int main(){
Dll dll;
init(&dll, 10);
print(&dll);
sort(&dll);
printf("\nSorted:\n");
print(&dll);
return 0;
} 
```

我们的任务是创建头文件，我们应该实现它来运行 .c 文件。我花了一整天的时间在上面工作，我能想到的最好的方法是：

```
#include <stdio.h>
#include <stdlib.h>

typedef struct Dll {
Dll *prev;
Dll *next;
int value;
} dll;

void *init(Dll *dll, int n);
void sort(Dll *dll);
void print(Dll *dll); 
```

每当我用我的 .h 运行它时，我都会在命令行中收到以下错误（我们在 linux 上使用 gcc）：

```
In file included from dll.c:5:0:
dll.h:5:5: error: unknown type name ‘Dll’
dll.h:6:5: error: unknown type name ‘Dll’
dll.h:10:1: error: unknown type name ‘Dll’
dll.h:12:12: error: unknown type name ‘Dll’
dll.h:13:11: error: unknown type name ‘Dll’
dll.h:14:12: error: unknown type name ‘Dll’
dll.c:7:11: error: unknown type name ‘Dll’
dll.c:22:12: error: unknown type name ‘Dll’
dll.c:31:11: error: unknown type name ‘Dll’
dll.c: In function ‘main’:
dll.c:51:2: error: unknown type name ‘Dll’ 
```

我使用这些类型的头文件的其他示例来制作我的头文件，但由于某种原因，我无法弄清楚这一点。我真的很感激你们能给我的任何帮助。

**编辑：**当我将名称更改为“Dll”时，它给了我：

```
In file included from dll.c:5:0:
dll.h:5:5: error: unknown type name ‘Dll’
dll.h:6:5: error: unknown type name ‘Dll’
dll.h:10:1: error: unknown type name ‘Type’
dll.h:12:5: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘*’ token
dll.c:7:6: error: conflicting types for ‘init’
dll.h:14:7: note: previous declaration of ‘init’ was here
dll.c: In function ‘init’:
dll.c:8:2: error: unknown type name ‘Node’
dll.c:8:20: error: ‘Dll’ has no member named ‘head’
dll.c:9:6: error: request for member ‘prev’ in something not a structure or union
dll.c:10:2: error: unknown type name ‘Node’
dll.c:11:2: error: ‘for’ loop initial declarations are only allowed in C99 mode
dll.c:11:2: note: use option -std=c99 or -std=gnu99 to compile your code
dll.c:12:11: error: ‘Node’ undeclared (first use in this function)
dll.c:12:11: note: each undeclared identifier is reported only once for each function it         appears in
dll.c:12:17: error: expected expression before ‘)’ token
dll.c:13:7: error: request for member ‘value’ in something not a structure or union
dll.c:14:7: error: request for member ‘prev’ in something not a structure or union
dll.c:15:7: error: request for member ‘next’ in something not a structure or union
dll.c:16:7: error: request for member ‘next’ in something not a structure or union
dll.c:19:22: error: request for member ‘value’ in something not a structure or union
dll.c: In function ‘print’:
dll.c:23:2: error: unknown type name ‘Node’
dll.c:24:15: error: ‘Dll’ has no member named ‘head’
dll.c:25:15: error: request for member ‘next’ in something not a structure or union
dll.c:26:25: error: request for member ‘value’ in something not a structure or union
dll.c:27:20: error: request for member ‘next’ in something not a structure or union
dll.c:29:24: error: request for member ‘value’ in something not a structure or union
dll.c: In function ‘sort’:
dll.c:34:3: error: unknown type name ‘Node’
dll.c:35:16: error: ‘Dll’ has no member named ‘head’
dll.c:37:16: error: request for member ‘next’ in something not a structure or union
dll.c:38:14: error: request for member ‘value’ in something not a structure or union
dll.c:38:31: error: request for member ‘next’ in something not a structure or union
dll.c:40:20: error: request for member ‘value’ in something not a structure or union
dll.c:41:12: error: request for member ‘value’ in something not a structure or union
dll.c:41:29: error: request for member ‘next’ in something not a structure or union
dll.c:42:12: error: request for member ‘next’ in something not a structure or union
dll.c:45:21: error: request for member ‘next’ in something not a structure or union 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:06:16.173

那应该是：

```
typedef struct _Node{
   struct _Node *next;
   struct _Node *prev;
   int value;
}Node;
typedef struct _Dll{
   Node head;
}; 
```

`typedef`..中的错字`dll`与`Dll`

`head`另请注意，您的文件中没有`struct _Dll`

另外，请告诉我是什么`Node`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T05:50:40.317

在问题代码中，您有两个类型名称：

```
struct Dll 
```

然后为它 typedef

```
dll 
```

struct 的关键字很重要，在 C 中你必须使用它，这与 C++ 不同。然后在你的代码中你只使用 Dll，它不是*C*编译器的已知符号。

这样做也可以，无需使用不同的名称：

```
typedef struct my_struct { ... } my_struct; 
```

问题代码中的另一个问题是，您有参数名称 dll，以及 typedef 名称 dll。

# asp.net-mvc - ASP.NET 我的音乐商店

> ID：14721959
> 
> 赞同：0
> 
> 时间：2013-02-06T05:04:15.767
> 
> 标签：asp.net-mvc

我需要帮助先生，MVC的新手，我想问一下为什么我找不到商店数据库，即使它在底部声明。

当前上下文中不存在“storeDB”

```
 using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Web;
    using System.Web.Mvc;
    using MyMusicStore.Models;

    namespace MyMusicStore.Controllers
    {
        public class StoreController : Controller
        {
            //
            // GET: /Store/

            public ActionResult Index()
            {
                var genres = storeDB.Genres.ToList();
                return View(genres);
            }

            public ActionResult Browse(string genre)
            {
                var newGenre = new Genre { Name = genre };
                return View (newGenre);
            }

            public ActionResult Details(int id)
            {
                var album = new Album { Title = "Album" + id };
                return View(album);
            }

            public class StoreController : Controller
            {
                MusicStoreEntities storeDB = new MusicStoreEntities();
            }

        }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:06:57.343

在 StoreController 类中，您再次声明 StoreController，并在其中声明变量。你所做的是所谓的“内部类”，内部类与外部类不同，即使它看起来有相同的名称，它是全新的。

所以你打算这样做：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Mvc;
using MyMusicStore.Models;

namespace MyMusicStore.Controllers
{
    public class StoreController : Controller
    {
        //
        // GET: /Store/

        public ActionResult Index()
        {
            var genres = storeDB.Genres.ToList();
            return View(genres);
        }

        public ActionResult Browse(string genre)
        {
            var newGenre = new Genre { Name = genre };
            return View (newGenre);
        }

        public ActionResult Details(int id)
        {
            var album = new Album { Title = "Album" + id };
            return View(album);
        }

        MusicStoreEntities storeDB = new MusicStoreEntities();

    }
} 
```

# ruby-on-rails - 无法批量分配受保护的属性：客人、付款

> ID：14721964
> 
> 赞同：0
> 
> 时间：2013-02-06T05:04:51.837
> 
> 标签：ruby-on-rails

```
class Offer < ActiveRecord::Base
attr_accessible :name, :admin_id, :guest, :depart, :return, :adult, :kid
attr_accessible :guests_attributes, :payments_attributes
has_many :guests, :dependent => :destroy
has_many :payments, :dependent => :destroy
belongs_to :admin
accepts_nested_attributes_for :guests 
accepts_nested_attributes_for :payments

end 
```

在控制器中

```
class PaymentController < ApplicationController

def new

@offer=Offer.new
@guest = @offer.guests.build
@payment=@offer.payments.build

end 
```

我在模型中添加了 guest_attributes、payments_attributes。我仍然收到此错误。谁能帮我？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T05:35:13.070

听起来您的表单或 JSON/XML 正在发送带有键的嵌套对象`guests`and `payments`，但它们必须是`guests_attributes`and `payments_attributes`。不过，看起来模型配置正确。

这个[RailsCast](http://railscasts.com/episodes/196-nested-model-form-part-1)可能会有所帮助。

# vhdl - 赛灵思 vhdl 中的 std_logic_vector 与整数综合

> ID：14721965
> 
> 赞同：2
> 
> 时间：2013-02-06T05:04:55.930
> 
> 标签：vhdl

我正在使用 8 位像素值。为了便于编码，我想使用 conv_integer 来转换这个 8 位 std_logic_vector。它会导致任何合成问题吗？它会降低硬件速度吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-06T13:15:50.067

不，整数合成就好了。 [不过不要使用 conv_integer](http://parallelpoints.com/numbers-in-vhdl/) - 这是来自旧的非标准库。

你想`use ieee.numeric_std;`然后`to_integer(unsigned(some_vector));`

如果您仍想访问这些位，并将向量视为数字，则使用有符号或无符号类型 - 它们定义位向量（仍然可以具有`-`等`Z`），其行为为数字，因此您可以编写`unsigned_vector <= unsigned_vector + 1`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T05:49:36.123

您将失去标准逻辑向量附带的许多功能，例如具有值“Z”或“X”。如果您需要访问这些位，请将其保留为 std_logic_vector，或将其转换为[numeric_std](http://vhdlguru.blogspot.com/2010/03/why-library-numericstd-is-preferred.html)。如果你不这样做，你需要做一些花哨的算术，也许最好有一个 int。在一天结束时，它的所有位。通常最好在顶层保留一个向量类型（std_logic_vector、无符号、有符号等），这样您就可以将每个位映射到特定的引脚，否则，您可以使用您想要的任何类型。不要忘记您现在是在设计硬件，而不是软件，这是有区别的。

# dart - 如何升级到 Rikulo UI 0.6.3

> ID：14721971
> 
> 赞同：0
> 
> 时间：2013-02-06T05:05:24.113
> 
> 标签：dart, rikulo

尝试升级到 0.6.3，但 Pub Manager 没有更新。如果你检查包目录，你会发现它仍然是 0.6.2+2

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:05:24.113

Sicne 0.6.3，我们将其重命名为 Rikulo UI，并将包重命名为 rikulo_ui。因此，您必须更改 pubspec.yaml 中的依赖项：

```
dependencies:
  rikulo_ui: any 
```

此外，您必须将导入语句更改为 rikulo_ui，例如：

```
import 'package:rikulo_ui/view.dart'; 
```

在 HTML 文件中，您还必须从 rikulo_ui 链接 CSS 文件：

```
<link rel="stylesheet" type="text/css"
 href="packages/rikulo_ui/resource/css/default/view.css" /> 
```

如果您克隆了 Rikulo UI 的 git 存储库，则必须将其切换到新位置：

```
git config remote.origin.url git://github.com/rikulo/ui.git 
```

# python - 将动态生成的字符串转换为原始文本

> ID：14721976
> 
> 赞同：0
> 
> 时间：2013-02-06T05:06:07.743
> 
> 标签：python

我对python很陌生，我遇到了一个问题，我正在从字典中动态检索一个字符串，看起来像这样

`files="eputilities/epbalancing_alb/referenced assemblies/model/cv6_xmltypemodel_xp2.cs"`

我无法对这个特定文件执行任何操作，因为它正在将路径读取为 2 个不同的字符串

`eputilities/epbalancing_alb/referenced and assemblies/model/cv6_xmltypemodel_xp2.cs`

因为引用和程序集之间有一个空格。

我想知道如何将其转换为 raw_string（忽略空格，但仍保留两者之间的空格并将其视为一个字符串）

尽管网上有几条评论，但我无法弄清楚这一点。

请帮忙。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-06T05:24:49.377

python中的标准字符串构建是这样的

```
'%s foo %s'%(str_val_1, str_val_2) 
```

因此，如果我的理解正确，要么有两个字符串的列表，要么有两个不同的字符串变量。

对于之前这样做：

```
' '.join(list) 
```

对于后者，这样做：

```
'%s %s'%(string_1, string_2) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-06T07:25:33.753

从评论到另一个答案，我知道您想要执行一些外部工具并将参数（文件名）传递给它。但是，此参数中有空格。

我建议接近；当然，我会使用`subprocess`，而不是`os.system`。

```
import subprocess

# Option 1
subprocess.call([path_to_executable, parameter])

# Option 2
subprocess.call("%s \"%s\"" % (path_to_executable, parameter), shell=True) 
```

对我来说，两者都有效，请检查它们是否也适用于您。

说明：

选项 1 采用字符串列表，其中第一个字符串必须是可执行文件的路径，所有其他字符串都被解释为命令行参数。As `subprocess.call knows about each of these entities, it properly calls the external so that it understand that`parameter` 将被解释为一个带空格的字符串 - 而不是两个或多个参数。

Option 2 is different. With the keyword-argument `shell=True` we tell `subprocess.call` to execute the call through a shell, i.e., the first positional argument is "interpreted as if it was typed like this in a shell". But now, we have to prepare this string accordingly. So what would you do if you had to type a filename with spaces as a parameter? You'd put it between double quotes. This is what I do here.

# twitter - 使用 Titanium 的 Twitter 个人资料图像问题

> ID：14721981
> 
> 赞同：0
> 
> 时间：2013-02-06T05:06:25.860
> 
> 标签：twitter, titanium-mobile

我是钛的新手，我正在学习钛的 JSon Parsing。我正在访问特定屏幕名称的推文以及他/她的个人资料图片。它对推文的关注效果很好，但没有显示该推文的个人资料图片。

我的 Tweet.js 文件是：

```
 // Create variable "win" to refer to current window
 var win = Titanium.UI.currentWindow;
 // Function loadTweets()
 function loadTweets()
 {
// Empty array "rowData" for our tableview
var rowData = [];
var avatar;
// Create our HTTP Client and name it "loader"
var loader = Titanium.Network.createHTTPClient();
// Sets the HTTP request method, and the URL to get data from
loader.open("GET","http://api.twitter.com/1/statuses/user_timeline.json?screen_name=SenchaTouch");
// Runs the function when the data is ready for us to process
loader.onload = function() 
{
    var tweets = eval('('+this.responseText+')');
    alert(tweets);
    for (var i = 0; i < tweets.length; i++)
    {
        var tweet = tweets[i].text; // The tweet message
        var user = tweets[i].user.screen_name; // The screen name of the user
        avatar = tweets[i].user.profile_image_url; // The profile image
        // Create a row and set its height to auto
        var row = Titanium.UI.createTableViewRow({height:'auto'});

        // Create the view that will contain the text and avatar
        var post_view = Titanium.UI.createView({
            height:'auto', 
            layout:'vertical',
            top:5,
            right:5,
            bottom:5,
            left:5
        });
        // Create image view to hold profile pic
        var av_image = Titanium.UI.createImageView({
            url:'KS_nav_ui.png', // the image for the image view
            top:0,
            left:0,
            height:48,
            width:48
        });
        post_view.add(av_image);
        // Create the label to hold the screen name
        var user_lbl = Titanium.UI.createLabel({
            text:user,
            left:54,
            width:120,
            top:-48,
            bottom:2,
            height:16,
            textAlign:'left',
            color:'#444444',
            font:{fontFamily:'Trebuchet MS',fontSize:14,fontWeight:'bold'}
        });
        post_view.add(user_lbl);
        // Create the label to hold the tweet message
        var tweet_lbl = Titanium.UI.createLabel({
            text:tweet,
            left:54,
            top:0,
            bottom:2,
            height:'auto',
            width:236,
            textAlign:'left',
            font:{fontSize:14}
        });
        post_view.add(tweet_lbl);
        // Add the post view to the row
        row.add(post_view);
        // Give each row a class name
        row.className = "item"+i;
        // Add row to the rowData array
        rowData[i] = row;
    }
    // Create the table view and set its data source to "rowData" array
    var tableView = Titanium.UI.createTableView({data:rowData});
    //Add the table view to the window
    win.add(tableView);
};
// Send the HTTP request
loader.send();
   }
   loadTweets(); 
```

// 有没有人能找出缺陷？？任何帮助，将不胜感激。提前感谢:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T04:39:38.330

终于找到了..问题出在代码上。我只是在图像视图中使用 url 属性而不是图像属性。用 url 替换 image 属性就可以了。

```
 url: avatar, // It should not be used .. It is not working 
  image: avatar, // It is working very well.. 
```

# java - 加载配置文件后，打开选中的选项卡

> ID：14721989
> 
> 赞同：0
> 
> 时间：2013-02-06T05:07:07.207
> 
> 标签：java, swing, jtabbedpane

我有一个关于我目前正在创建的 Java GUI 的问题，它是一个运行异地备份的应用程序。

当应用程序最初加载时，您会看到此屏幕： [![加载屏幕](../Images/6c582ad495e01f151b6f7da3966ce405.png)](https://i.stack.imgur.com/XKuYW.jpg)

加载配置文件后，它会填写下面选项卡中的每个字段；在这个阶段，我加载配置文件后它停留在“运行”选项卡上，但我希望它（在填写每个字段后）将“配置”选项卡带到屏幕上。 [![后装](../Images/77f10bd8d68e939851392074798b6103.png)](https://i.stack.imgur.com/Ade7E.jpg)

我该怎么做呢？在我编写的在 JFileChooser 窗口关闭后加载配置的方法中，我想我需要添加一些东西来告诉它选择配置选项卡。

如有必要，我可以提供课程。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-06T05:40:04.607

暴露组件，然后使用方法：

```
CTabFolder#setSelection(int); 
```

工作正常。

感谢@MadProgrammer 和@Vulcan

# java - 多节点集群上的 hazelcast 条目侦听器

> ID：14721991
> 
> 赞同：2
> 
> 时间：2013-02-06T05:07:12.340
> 
> 标签：java, hazelcast

我有一个多节点 hazelcast 集群。我需要确保在将新值插入映射时，仅调用一个 entrylistener/map 存储。除非我大脑冻结，否则默认情况下 hazelcast 不会这样做（如果我错了那就太好了）。除了使用分布式锁（我不希望避免在其他节点上使用侦听器/映射存储）之外，还有其他建议可以确保只有一个侦听器/映射存储最终执行代码。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-06T14:28:54.233

在 put 之后，只有拥有 key 的节点才执行 map 存储操作。在 put 之后，只有那些将自己添加为地图的监听器的才会接收事件。

# sql-server - Sqoop 导入失败

> ID：14721997
> 
> 赞同：2
> 
> 时间：2013-02-06T05:07:24.887
> 
> 标签：sql-server, hadoop, sqoop, azure-hdinsight

我在将数据从导入`SQL Server`到`HDFS`使用时遇到问题`SQOOP`。我正在使用 Windows 平台并已安装`HDInsights`在我的机器上。

这是错误。

```
读取任务输出出错http://hadoopserver.in.gci.com:50060/tasklog？
明文=true&attemptid=attempt_201302051321_0012_m_000001_0&filter=stdout 错误
读取任务输出http://hadoopserver.in.gci.com:50060/tasklog?
明文=true&attemptid=attempt_201302051321_0012_m_000001_0&filter=stderr

```

需要帮助。谢谢