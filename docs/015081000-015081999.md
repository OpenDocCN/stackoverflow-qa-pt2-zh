# StackOverflow 问答 15081000-15081999

# c# - 根据未绑定到树视图 WPF 的数据为单个树视图项目设置颜色

> ID：15081003
> 
> 赞同：0
> 
> 时间：2013-02-26T03:46:39.913
> 
> 标签：c#, wpf, treeview, hierarchicaldatatemplate

我正在尝试找出解决此问题的最佳方法。我有一个使用 sql server 表中的层次结构数据的树视图。使用 linq 生成 dbml，然后将数据绑定到树视图。这是我遇到问题的部分。说树视图开始并转到类别----->作者----->书籍----->已签出

因此，如果我想根据我在 sql server 中创建的视图为每个项目（红色）和项目过期的所有父节点（红色）着色（根据存储在数据库中的日期，我有四个不同的类别要突出显示）什么将是 C# WPF 中最好的方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T03:58:18.470

当您的树视图项目中的项目满足特定条件时，您可以使用样式触发器来触发操作

```
 <Style TargetType="TextBlock">
              <Style.Triggers>
                <DataTrigger Binding="{Binding Highlight}" Value="True">
                      <Setter Property="Background" Value="youcolor" />
                 </DataTrigger>
         </Style.Triggers> 
```

# jquery - 显示/隐藏相应 div 的 Javascript 轮播。jQuery 函数用于隐藏除选定对象之外的所有内容

> ID：15081007
> 
> 赞同：0
> 
> 时间：2013-02-26T03:47:52.873
> 
> 标签：jquery, show-hide

我有一个带有图像缩略图的轮播。单击时，它们会显示相应的 div 并隐藏所有其他 div。[现场直播网站。](http://test.tomsalta.com/?page_id=6)

当前脚本有效，除了我现在有大约 30 个 div 和相应的缩略图而不是 3 个，并且客户端可以通过 WordPress 添加更多。因此，我需要一种更简单的方式来表示“隐藏除选定的所有 div 之外的所有 div”，而不使用实际的 div 编号。

HTML：

```
 <div class="carousel">
<a id="lnk1"><img src="images/projects/game1.jpg" /></a>
<a id="lnk2"><img src="images/projects/game2.jpg" /></a>
<a id="lnk3"><img src="images/projects/game3.jpg" /></a>
</div>

<div class="content">
<div id="div1">div1</div>
<div id="div2">div2</div>
<div id="div3">div3</div>
</div> 
```

当前的Javascript：

```
$(document).ready(function() {
    var h1 = $("#div1").height();
    var h2 = $("#div2").height();
    var h3 = $("#div3").height();
$("#div1,#div2,#div3").height(Math.max(h1, h2, h3));
$("#div2,#div3").hide();

$("#lnk1").live('click', function() {
    $("#div1").show();
    $("#div2,#div3").hide();
});

$("#lnk2").live('click', function() {
    $("#div2").show();
    $("#div1,#div3").hide();
});

$("#lnk3").live('click', function() {
    $("#div3").show();
    $("#div1,#div2").hide();
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:18:13.603

`anchor`我建议，您为此使用 div 'carousel'的 children() 的点击事件。单击时，首先将所有元素 ( `div`) 隐藏在 'content'`div`中。然后使用 ' `this`' 对象来获取被点击的锚点的索引。之后使用该索引显示当前的 div。在这里你可以看到索引是连接两者的一件事。所以你必须在两者中保持相同的顺序。

**HTML**

```
<div class="carousel" >
<a id="lnk1" >image 1</a>
<a id="lnk2" >image 2</a>
<a id="lnk3" >image 3</a>
<a id="other1" >image 4</a>   
<a id="other2" >image 5</a>  
</div>
<div class="content">
<div id="div1">div1</div>
<div id="div2">div2</div>
<div id="div3">div3</div>
<div id="other_div1">div4</div>
<div id="other_div2">div5</div>
</div> 
```

**jQuery**

```
$(".carousel > a").live('click', function() {
    $(".content > div").hide(); //hide all divs
    $(".content > div").eq($(this).index()).show();//display curresponding div of the clicked anchor
}); 
```

[http://jsfiddle.net/arjuncc/3nMgA/4/](http://jsfiddle.net/arjuncc/3nMgA/4/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T03:54:36.043

您可以使用`.siblings()`：

```
$('.carousel a').click(function() {
    $('.content div').eq($(this).index()).show().siblings().hide();
}); 
```

# ruby-on-rails - 如果已登录，则在用户的个人资料上显示指向控制器操作的链接

> ID：15081009
> 
> 赞同：0
> 
> 时间：2013-02-26T03:47:55.663
> 
> 标签：ruby-on-rails, devise, ruby-on-rails-3.2

我正在使用 Devise 在我的 Rails 应用程序中管理用户身份验证，如果用户已登录，我想在用户的个人资料页面上显示一个按钮。单击该按钮应链接到控制器中的“新”操作。我们称这个控制器为 Works。一个用户有很多作品。单击该按钮将允许用户将新作品添加到他/她的个人资料中。

我目前在视图中有这个按钮，但没有检查只在他们自己的个人资料上显示这个按钮。这是视图：

```
<%= link_to "Add work", { :controller => 'works', :action => 'new' }, :class => 'btn btn-primary btn-small' -%> 
```

该按钮工作正常，并将用户发送到 /works/new。但是，我怎样才能让这个按钮只出现在自己的个人资料页面上？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T03:55:59.100

您可以将按钮包装在 if 块中：

```
 <% if current_user == @user %>

    <%= link_to "Add work", { :controller => 'works', :action => 'new' }, :class => 'btn btn-primary btn-small' -%>

  <% end %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T05:58:40.263

使用设计，current_user 是一个辅助方法，所以只是这样做

```
<% if current_user %> 
```

作品

# php - 如何使用 php 和 preg_match 在 url 中按 ID 排序

> ID：15081011
> 
> 赞同：0
> 
> 时间：2013-02-26T03:48:09.720
> 
> 标签：php, preg-match, usort, ksort

我有一个 php 工作代码，我在其中获取一个充满 URL 的数组，我使用 preg_match 获取 URL 中的所有信息，例如典型的 url 如下所示：

[http://photos.com/path=images&user=Ron197&userid=970965&hue=soft](http://photos.com/path=images&user=Ron197&userid=970965&hue=soft)

为了匹配用户 ID，我在 foreach 循环中使用它：

```
preg_match_all('/userid=(.+?)&hue/', $linklong, $userid);
        $userid = $userid[1][0];
        //print_r($userid); 
```

主数组按字母顺序排序，包含 600 多个 url，它显示得很好，但我也试图显示按用户 ID 排序的整个 URL 列表。

任何人都可以帮助我至少开始我尝试使用kso​​rt，usort，但老实说我不明白它背后的逻辑想法是linklong需要通过userid重新排列

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T03:59:20.970

首先，您应该使用`parse_url`来提取您的“查询”部分。然后，使用`parse_str`，您可以分隔所有参数。

这允许您检查您的 URL 是否有效。

然后，如果您希望能够在所需的任何字段上对数组进行排序（而不仅仅是在 上`userId`），您只需创建一个回调函数，该函数将获取数组的 2 个元素并分别返回 -1、0 或 1，如果第一个元素是 <, =, > 而不是第二个元素。

然后，要订购您的数组，您只需调用该函数`usort`：

```
bool usort ( array &$array , callable $cmp_function ) 
```

将您的数组作为第一个参数，将您的回调函数作为第二个参数。这允许您创建任何您想要的比较回调并按照您的需要订购您的数组。

注意：注意性能。如果你的回调做了很多事情，排序将需要一些时间，因为回调函数在你的数组元素之间调用了很多时间，遵循特定的排序算法（如冒泡排序）。

这种比较函数的一个例子：

```
function compareUrlCustom($u1, $2)
{
    // Parse the 2 URLs
    $urlParts1 = parse_url($u1);
    $urlParts2 = parse_url($u2);

    // Extract and parse the 2 query parts
    $queryParts1 = array();
    $queryParts2 = array();
    parse_str($urlParts1['query'], $queryParts1);
    parse_str($urlParts2['query'], $queryParts2);

    // Return 1, O or -1 as comparision value
    if ($queryParts1['userId'] > $queryParts2['userId'])
        return 1;
    else if ($queryParts2['userId'] > $queryParts1['userId'])
        return -1;
    else
        return 0;
} 
```

然后，您可以使用以下命令调用您的数组类型：

```
$wellSorted = usort($yourArray, compareUrlCustom); 
```

并检查`$wellSorted`排序操作是否成功。

注意：您应该在`compareUrlCustom`函数中添加一些检查以确保具有有效的 URL，如果不是这种情况，最终会引发异常。

# python - 使用 python 处理文本文件时的预期字符串或缓冲区

> ID：15081013
> 
> 赞同：1
> 
> 时间：2013-02-26T03:48:37.257
> 
> 标签：python, text-processing

我正在处理我的雷鸟 imap 目录中的一个大 (120mb) 文本文件，并尝试使用 mbox 和正则表达式从标题中提取信息。该过程运行了一段时间，直到我最终得到一个异常：“TypeError：预期的字符串或缓冲区”。

异常引用了这段代码的第五行：

```
PAT_EMAIL = re.compile(r"[0-9A-Za-z._-]+\@[0-9A-Za-z._-]+")
temp_list = []
mymbox = mbox("data.txt")
for email in mymbox.values():
    from_address = PAT_EMAIL.findall(email["from"]) 
    to_address = PAT_EMAIL.findall(email["to"])
    for item in from_address:
        temp_list.append(item) #items are added to a temporary list where they are sorted then written to file 
```

我已经在其他（较小的）文件上运行了代码，所以我猜问题出在我的文件上。该文件似乎只是一堆文本。有人可以指出我的调试方向吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T04:18:19.217

只能有一个`from`地址（我认为！）：

在下面的：

```
from_address = PAT_EMAIL.findall(email["from"]) 
```

我感觉您正在尝试复制[email.message_from_file](http://docs.python.org/2/library/email.parser.html#email.message_from_file)和[email.utils.parseaddr的工作](http://docs.python.org/2/library/email.util.html#email.utils.parseaddr)

```
from email.utils import parseaddr

>>> s = "Jon Clements <jon@example.com>"
>>> from email.utils import parseaddr
>>> parseaddr(s)
('Jon Clements', 'jon@example.com') 
```

因此，您可以使用`parseaddr(email['from'])[1]`获取电子邮件地址并使用它。

同样，您可能希望查看[email.utils.getaddresses](http://docs.python.org/2/library/email.util.html#email.utils.getaddresses)来处理`to`和`cc`地址...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-27T00:00:21.700

好吧，我没有解决这个问题，但为了我自己的目的已经解决了这个问题。我插入了一个 try 语句，以便迭代在任何 TypeError 之后继续。对于每千个电子邮件地址，我会收到大约 8 次失败，这已经足够了。感谢您的输入！

```
PAT_EMAIL = re.compile(r"[0-9A-Za-z._-]+\@[0-9A-Za-z._-]+")
temp_list = []
mymbox = mbox("data.txt")
for email in mymbox.values():
    try:
        from_address = PAT_EMAIL.findall(email["from"])
    except(TypeError):
        print "TypeError!"
    try:
        to_address = PAT_EMAIL.findall(email["to"])
    except(TypeError):
        print "TypeError!"
    for item in from_address:
        temp_list.append(item) #items are added to a temporary list where they are sorted then written to file 
```

# actionscript - 在动作脚本中调用函数时分配参数

> ID：15081017
> 
> 赞同：0
> 
> 时间：2013-02-26T03:49:13.540
> 
> 标签：actionscript

```
var callback = null;
addEventListener(Event.MouseDown, callback = function(e:Event){blabla....}); 
```

调用函数时可以分配参数吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T03:53:02.377

当然。试试这种方式。

```
var callback = function(e:Event, arg1, arg2) { blabla....};

addEventListener(Event.MouseDown, function(e) {  callback(e, 0, 1); } ); 
```

或者如果我误解了你的问题，也许是这样：

```
var callback = null;

addEventListener(Event.MouseDown, 

       callback = function(e:Event) { anotherfunction(arg1, arg2); }); 
```

# java - 安卓资源文件

> ID：15081024
> 
> 赞同：0
> 
> 时间：2013-02-26T03:50:04.387
> 
> 标签：java, android

`cheerapp.mp3`我的`/res/raw`文件夹中有一个

所以我的代码是

```
String filepath="/res/raw/cheerapp";   //or cheerapp.mp3
file = new File(filePath); 
FileInputStream in = null;
try {
    in = new FileInputStream( file );  
} catch (FileNotFoundException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
} 
```

我找不到文件的错误。为什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T03:57:20.240

使用`assets`文件夹和...

```
InputStream sound = getAssets().open("filename.mp3"); 
```

...或`raw`文件夹和...

```
InputStream sound = getResources().openRawResource(R.raw.filename); 
```

如果它对您没有帮助，请检查[此](https://stackoverflow.com/a/13914227/1265724)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T04:26:51.327

**你永远不能通过路径访问资源文件！**

因为它们是在 Android 中安装的 APK 文件中编译的。您只能通过从任何活动（上下文）访问其生成的资源 ID 来访问应用程序内的资源：

```
InputStream cheerSound = this.getResources().openRawResource(R.raw.cheerapp); 
```

或从视图：

```
InputStream cheerSound = this.getContext().getResources().openRawResource(R.raw.cheerapp); 
```

在您的情况下，您应该将声音文件存储在外部 sd 卡中，然后可以通过路径访问它们。例如，您将文件存储在**`sounds`**sd 卡上的文件夹中：

```
FileInputStream inFile = new FileInputStream("/mnt/sdcard/sounds/cheerapp.mp3"); 
```

注意：以'/'开头的路径是绝对路径，因为'/'代表类Unix操作系统（Unix，Linux，Android，...）中的root

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T03:58:42.913

也许您可以使用[AssetManager](http://developer.android.com/reference/android/content/res/AssetManager.html) 来管理您的资源。例如：

```
AssetManager manager = this.getContext().getAssets();
InputStream open;
try {
    open = manager.open(fileName);
    BitmapFactory.Options options = new BitmapFactory.Options();
    ...
} catch (IOException e) {
    e.printStackTrace();
} 
```

# youtube-api - YouTube 直播 API 的可访问性

> ID：15081027
> 
> 赞同：2
> 
> 时间：2013-02-26T03:50:23.113
> 
> 标签：youtube-api, android-youtube-api

我正在开发一个需要将实时视频源流式传输到 YouTube 的 Android 项目。来自官方 YouTube 数据 API 2.0：

```
Prerequisites

Please note the following prerequisites for using the API functionality described
in this section:

1\. Developers need to sign an API Testing Agreement before their applications can
successfully issue requests to manage live events. Please contact the YouTube 
developer relations team via a post to the YouTube APIs Developer Forum if you 
are interested in incorporating this functionality into your application.

2\. The ability to create, update, and delete live events is only available to some 
YouTube users. The Determining whether a user can create live events section 
explains how to check a user's profile entry to see whether a user has access 
to these features. 
```

上面提到的开发者论坛已经关闭，建议使用stackflow，所以我在这里发布我的问题：

1.  我在哪里申请许可证，以便我的 Android 应用程序可以成功管理直播？

2.  我怎样才能获得一个支持直播的 YouTube 帐户，以便我可以使用它来测试我的应用程序？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T13:15:58.053

更新：[所有经过验证的频道都可以使用直播和 API](http://apiblog.youtube.com/2013/12/3-2-1-and-you-are-live.html)。

直播功能和 API 目前仅适用于选定的合作伙伴。[您可以通过“ http://www.youtube.com/yt/partners/](http://www.youtube.com/yt/partners/) ”获取更多信息

# android - Android 9 补丁奇怪的行为

> ID：15081028
> 
> 赞同：0
> 
> 时间：2013-02-26T03:50:25.297
> 
> 标签：android, android-layout, nine-patch

我是一名设计师，目前正在与我的开发人员合作开发一个 Android 应用程序，该应用程序基本上加载了一个 ImageView，我们希望在它周围应用一个 1px 的灰色边框，底部有一个 2px 的阴影。

我创建了一个 9 补丁文件，开发人员已将其应用于 ImageView，但我注意到 Android 似乎将边框加倍。

**这是 9 个补丁图像：http: [//imgur.com/l1yXTyr](http://imgur.com/l1yXTyr)**

这意味着现在它不再是顶部、左侧和右侧的 1px 边框。将其设置为左侧2px，右侧3px！

所以，我问你们非常聪明的人：-

1.  这是 9 补丁创建的问题吗？
2.  如果可以通过代码完成，您能否指出我正确的方向？

非常感谢所有回复指针和建议的人。这是非常赞赏。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T07:50:17.187

我猜你把 9-patch drawable 放在 res/drawable-mdpi 中，然后在 hdpi 设备上运行应用程序。Android 升级了可绘制对象，这几乎总是不是你想要的。

有两种解决方案，具体取决于您的 9-patch 的外观：

1.  如果 9-patch 只有 1px 框架和 2px 阴影，并且没有需要缩放的区域**（**例如 padding），您可以将 9-patch 放在 drawable-nodpi 文件夹中。
2.  如果有一些区域需要缩放，并且您希望在每个设备上精确地拥有 1px 帧，则您必须为每个像素密度准备 9 个补丁，并具有适当调整大小的可缩放区域和 1px 帧。

# c# - 发布 Asp.Net 解决方案

> ID：15081029
> 
> 赞同：0
> 
> 时间：2013-02-26T03:50:37.477
> 
> 标签：c#, asp.net, vb.net, entity-framework, deployment

我有一个解决方案，Asp.Net Web 应用程序，在解决方案中我有两个项目。一个包含处理 UI 的 VB 代码。表单等以及另一个基本上使用 Linq-to-Entity 来处理我的数据的 C#。当我从本地计算机运行项目时，它运行良好。现在，要发布，我注意到只有当 UI 项目被选中时，发布选项才被启用。这是为什么？如果我发布这个，其他项目不会发布吗？另一个问题，我在`app_data`文件夹中创建了 XML 文件，当我发布它时，我可以访问它吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T03:55:39.303

发布仅适用于 Web 项目。如果您在 Web 项目中包含对其他项目的引用，它将被编译并且 DLL 将与您的 Web 项目一起发布。您的 XML 文件应该与您的 Web 项目一起发布，如果它们没有检查它们的属性并确保它们被设置为与项目一起发布（构建操作设置为`Content`和`Copy Always`或被`Copy if newer`选中）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T03:56:48.347

您不需要单独发布参考项目，甚至不需要发布整个解决方案。它只需引用其他项目的 dll 即可工作。

1.  如果尚未编译两个项目，则需要编译
2.  如果您的 UI 项目引用了数据层项目中的 dll，它将与您的 UI 项目一起发布。
3.  您可以将它本地发布到另一个文件夹中并使用 iis express 或本地 iis 进行测试，然后使用数据库在线发布它。更新连接字符串，如果设置正确，它应该可以工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T04:14:32.693

您的解决方案中有两个项目。一个是 Web 项目，下一个是类库项目。所有与实体框架、LINQ 查询、数据库事务等相关的代码都应该在类库项目中。在构建类库时，它会自动生成 DLL 文件。那么您只需要添加对 Web 项目文件的引用。然后您将从类库中获取所有类、方法等。无需发布类库项目。因为您已将 dll 引用添加到您的 web 项目。在发布 Web 项目时，您的 App_Code 文件夹中的所有代码文件都应转换为 dll。所以不用担心 App_code 文件夹数据中的文件。

谢谢

# java - 从 Nexus 部署到不同的环境（测试、预发布、生产）

> ID：15081042
> 
> 赞同：1
> 
> 时间：2013-02-26T03:52:07.640
> 
> 标签：java, maven, deployment, jenkins, nexus

我有使用 maven 构建的 Java 项目，并将工件 (.jar .war) 部署到 Nexus 发布存储库。Jenkins 也用于 CI（每小时构建）并自动部署到 Tomcat（集成测试环境）。我们正在使用[maven-release-plugin](http://maven.apache.org/maven-release/maven-release-plugin/)将工件部署到 Nexus，这是在本地 PC 上完成的。

我需要自动部署到其他 3 个环境：测试、预发布、生产。

有两个问题：我不太可能使用 Jenkins，因为 Jenkins 不知道当前版本何时被提升为良好和发布。.jar .war 的位置在每次发布后都不同

```
http://nexusserver:8081/nexus/content/repositories/releases/com/company/projectname/component/0.2.4/ 
```

有点类似的问题是 [Deploying from Nexus to Tomcat (via Jenkins/Hudson)](https://stackoverflow.com/questions/7463488/deploying-from-nexus-to-tomcat-via-jenkins-hudson)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-03T14:17:21.747

听起来您需要通常被称为“构建管道”或“构建管道管理器”的术语，我相信这个术语在（优秀）书籍“持续交付”中很流行。

有一个名为 Build Pipeline Plugin 的开源 Jenkins 插件可以满足您的需求。

[https://wiki.jenkins-ci.org/display/JENKINS/Build+Pipeline+Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Build+Pipeline+Plugin)

![构建管道管理器插件](../Images/6c2b60f706ed0454767215d123510311.png)

# kendo-ui - KendoUI Grid - 是否可以在顶部工具栏中有一个编辑按钮以及所选行的弹出和编辑器？

> ID：15081048
> 
> 赞同：2
> 
> 时间：2013-02-26T03:52:24.800
> 
> 标签：kendo-ui

我有一个网格，并在顶部工具栏中添加了一个编辑按钮，它有铅笔图标。工具栏：[“创建”、“编辑”、“保存”、“取消”]

但是，当我选择一行并按下它时，不会出现弹出编辑器。但是当我按下添加按钮时它确实如此。

我怎样才能做到这一点？

问候，

代码猫头鹰

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-26T04:57:44.017

我认为这就像添加编辑按钮一样简单，但显然在工具栏中，编辑按钮没有行为。您可以使用工具栏模板添加它。除非我遗漏了一些非常明显的东西。太晚了。

[http://jsbin.com/abayer/2/](http://jsbin.com/abayer/2/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-04-14T22:53:58.487

尝试改变编辑数据的方式：

```
.Editable(e => e.Mode(GridEditMode.InCell))
or
.Editable(e => e.Mode(GridEditMode.InLine))
or
.Editable(e => e.Mode(GridEditMode.PopUp)) 
```

# azure - 在所有 Azure 云实例上同步文件夹

> ID：15081054
> 
> 赞同：0
> 
> 时间：2013-02-26T03:53:16.810
> 
> 标签：azure, azure-storage, azure-web-roles

刚刚将我的应用程序部署到 Azure。一切正常。

我目前在我的应用程序上运行一些我现在无法升级的遗留代码，它使用了本地 VM 存储上的一些文件。

我需要找到一种方法来保持所有云实例文件夹同步。有人编写了一个似乎使用 Microsoft Sync Framework 执行此操作的插件，但它在 Azure SDK 1.5 上运行： [https ://github.com/Interop-Bridges/Windows-Azure-File-System-Durability-Plugin](https://github.com/Interop-Bridges/Windows-Azure-File-System-Durability-Plugin)

有谁知道当前版本的 SDK 的类似实现？还是针对这种情况的更好解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T07:43:52.867

您可以使用 Windows Azure 的[CloudDrive](http://msdn.microsoft.com/query/dev10.query?appId=Dev10IDEF1&l=EN-US&k=k%28MICROSOFT.WINDOWSAZURE.STORAGECLIENT.CLOUDDRIVE%29;k%28SOLUTIONITEMSPROJECT%29;k%28SOLUTIONITEMSPROJECT%29;k%28TargetFrameworkMoniker-%22.NETFRAMEWORK,VERSION=V4.0%22%29;k%28DevLang-CSHARP%29&rd=true)功能。您可以将 .VHD 文件放入 Blob 存储中，并将其作为驱动器装载到您的计算服务中。

但请记住，如果您的计算服务中有多个实例，则只有一个实例具有对 VHD 的读/写访问权限。您应该使用标准网络共享技术在所有实例之间共享 VHD 驱动器。

# python - 如何使用正则表达式解析整个文件并确定找到的匹配项，而不是逐行读取？

> ID：15081056
> 
> 赞同：0
> 
> 时间：2013-02-26T03:53:28.913
> 
> 标签：python

相反，在阅读每一行时，我们不能只在文件中搜索字符串并替换它......我正在尝试但无法知道如何做？

```
file = open(C:\\path.txt,"r+")
lines = file.readlines()
replaceDone=0
file.seek(0)
newString="set:: windows32\n"
for l in lines: 
     if (re.search("(address_num)",l,re.I) replaceDone==0:
        try:
            file.write(l.replace(l,newString))
            replaceDone=1
        except IOError:
             file.close() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T04:04:37.637

这是一个您可以修改的示例，它将文件的每个序列 '(address_num)' 替换为 'set:: windows32'：

```
import fileinput
import re

for line in fileinput.input('/home/jon/data.txt', inplace=True):
    print re.sub('address_num', 'set:: windows32', line, flags=re.I), 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T04:42:54.257

这不是很有效的内存，但我想这是你正在寻找的：

```
import re
text = open(file_path, 'r').read()
open(file_path, 'w').write(re.sub(old_string, new_string, text)) 
```

读取整个文件，替换并写回整个文件。

# javascript - Ember.JS - 如何在同一页面中使用多个模型、控制器和视图？

> ID：15081058
> 
> 赞同：23
> 
> 时间：2013-02-26T03:53:53.413
> 
> 标签：javascript, architecture, ember.js

我主要了解 Ember.JS 的基础知识。那里的大多数示例实际上只处理单个控制器和模型以在页面上显示某些内容。我真的很想用 Ember 构建一个完整的 Web 应用程序，所以谁能告诉我如何将多个控制器、模型和视图组织和连接到一个页面中？

例如，如果我导航到 /app/posts，我想显示一个包含很多东西的导航栏，包括一些登录信息、一个用于搜索的侧边栏以及一个附加的控制器、一堆列在中间的帖子和可能是在侧边栏上使用 TwitterFeedController 填充的 Twitter 提要。

我如何将一堆这些连接在一起。在 Ember.JS 中使用自己的控制器和模型和视图实现“部分”的基本方法是什么？

我知道有命名的“网点”。当前的文档似乎没有提到它在应用程序模板中有一个主要的 {{ outllet }} 。我在他们的公共 API 文档上也找不到定义（可能是盲目的......）。

提前致谢！

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-27T23:58:48.233

希望这能回答[Example1](http://jsfiddle.net/schawaska/dWcUp/)和这个[Example2](http://jsfiddle.net/rlivsey/QWR6V/)

```
<script type="text/x-handlebars" data-template-name="application">
    {{partial 'navbar'}}
    {{outlet}}   
    {{partial 'footer'}}
</script>

<script type="text/x-handlebars" data-template-name="_navbar">
    <div class="navbar navbar-inverse">
        <div class="navbar-inner">
            {{#linkTo "app" class="brand"}}{{unbound App.app_title}}{{/linkTo}}
            <ul class="nav">
                <li class="divider-vertical">
                    {{#linkTo "app"}}Home{{/linkTo}}
                </li>
                <li class="divider-vertical">
                    {{#linkTo "products"}}Products{{/linkTo}}
                </li>
            </ul>
        </div>
    </div>
</script>

<script type="text/x-handlebars" data-template-name="_footer">
    <div class="row">
        <div class="span12">
            &copy; 2013:1.0-pre4 - {{unbound App.contact}} 
        </div>
    </div>    
</script>

<script type="text/x-handlebars" data-template-name="app">
    <h2>Home</h2>
    <p>Bacon ipsum dolor sit amet tenderloin short ribs short loin meatball sausage chicken pastrami. Hamburger sausage tri-tip, bacon spare ribs bresaola short ribs chuck frankfurter shoulder. Fatback pork belly turducken, ham drumstick salami hamburger pork sausage. Jowl corned beef andouille shank boudin. Shankle salami corned beef, pastrami leberkas turducken venison shoulder fatback jowl ball tip ground round biltong andouille boudin.</p>
    <p>Biltong boudin turkey rump shankle ball tip, strip steak drumstick spare ribs. Cow short ribs leberkas swine sirloin shank drumstick rump hamburger frankfurter ham hock. Bresaola turkey bacon prosciutto salami jowl pancetta meatloaf ground round ball tip filet mignon kielbasa tongue chuck strip steak. T-bone leberkas beef ribs kielbasa shankle pork chop spare ribs chuck strip steak shoulder frankfurter turducken. Pork loin ham cow chicken boudin venison. Filet mignon cow jowl pig ball tip, meatball boudin leberkas ham short loin drumstick tenderloin venison chicken. Chuck beef filet mignon capicola shankle, fatback flank ham hock corned beef meatloaf short ribs bacon.</p>
</script>

<script type="text/x-handlebars" data-template-name="categories">
    <h2>Categories</h2>
    <p>Listing available products and services</p>
    <ul class="thumbnails">
    {{#each category in controller}}
        <li class="span3">
            <div class="thumbnail">
                <h4>{{category.name}}</h4>
                <img {{bindAttr src="category.imageUrl" alt="category.name"}} />
                {{#linkTo "products.category" category class="btn"}}
                    Details
                {{/linkTo}}
            </div>
        </li>
    {{else}}
        <li>Loading...</li>
    {{/each}}
    </ul>
    <hr />
</script>

<script type="text/x-handlebars" data-template-name="products">
    {{render categories}}
    {{outlet}}
</script>

<script type="text/x-handlebars" data-template-name="products/index">
    <h2>Products</h2>
    <ul class="thumbnails">
    {{#each product in controller}}
        <li class="span3">
            <div class="thumbnail">
                <h4>{{product.name}}</h4>
                <img {{bindAttr src="product.imageUrl" alt="product.name"}} />
                {{#linkTo "products.product" product class="btn"}}
                    Details
                {{/linkTo}}
            </div>
        </li>
    {{else}}
        <li>Loading...</li>
    {{/each}}
    </ul>
</script>

<script type="text/x-handlebars" data-template-name="products/product">
    <h4><em style="color: gray">Products</em>/<em style="color: gray">Category: {{category.name}}</em>/{{name}}</h4><br />
    <img {{bindAttr src="imageUrl" alt="name"}}/>
    $ {{price}} hahahahaha
</script>

<script type="text/x-handlebars" data-template-name="products/category">
    <h2>{{name}}</h2>
</script>

<script type="text/javascript" src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
<script type="text/javascript" src="https://raw.github.com/wycats/handlebars.js/1.0.rc.2/dist/handlebars.js"></script>
<script type="text/javascript" src="https://raw.github.com/emberjs/ember.js/release-builds/ember-1.0.0-pre.4.js"></script>
<script type="text/javascript" src="https://raw.github.com/MilkyWayJoe/ember.js/master/ember.min.js"></script>

var BaseApp = Em.Application.extend({
    app_title: 'Auto Web Shop',
    contact: function() {
        if(this.get('link') !== '') {
            var html = '<a href="%@" target="_blank">%@</a>'
                       .fmt(this.get('link'), this.get('author'));
            return new Handlebars.SafeString(html);
        } else {
            return this.get('author');
        }
    }.property('author', 'link') 
});

// Extensions - End

window.App = BaseApp.create({
    author: 'Your Name Here',
    link: 'https://twitter.com/torontoemberjs'
});

// Controllers - Begin

App.ShopController = Em.ArrayController.extend();
App.ProductsController = Em.ArrayController.extend();
App.ProductsIndexController = Em.ArrayController.extend();
App.CategoriesController = Em.ArrayController.extend();

// Controllers - End

// Routes - Begin

App.Router.map(function() {
    this.resource('app');
    this.resource('products', function() {
        this.route('product', {path: 'product/:product_id'});
        this.route('category', {path: 'category/:category_id'})
    });
});

App.ApplicationRoute = Em.Route.extend({
  setupController: function() {
      this.controllerFor('categories').set('model', App.Category.find());
  }
});

App.ProductsIndexRoute = Em.Route.extend({
    model: function() {
        return App.Product.find();
    }
});

App.IndexRoute = Em.Route.extend({
    redirect: function() {
        this.transitionTo('app');   
    }
});

// Routes - End

// Models - Begin

// Defining a Data Store for the application from DS namespace
App.Store = DS.Store.extend({
    // Until Ember reaches 1.0, Ember-Data will use a revisions to 
    // alert developers about breaking changes to the API. At the time I'm 
    // writing this, Ember-Data is on revision 11\. To find out more, go to:
    // https://github.com/emberjs/data/blob/master/BREAKING_CHANGES.md
    revision: 11,
    // Define your adapter. The Adapter is responsible to 'translate' the data from
    // your backend API into what Ember-Data needs in order for it to work. Ember-Data
    // comes with a REST Adapter and a Fixture Adapter, the later is very useful for 
    // debugging and for mocking up an application. This example uses the Fixture Adapter
    adapter: 'DS.FixtureAdapter'
});

App.Category = DS.Model.extend({
    name: DS.attr('string'),    
    imageUrl: DS.attr('string'),
    products: DS.hasMany('App.Product')
});

App.Product = DS.Model.extend({
    name: DS.attr('string'),
    imageUrl: DS.attr('string'),
    price: DS.attr('number'),
    category: DS.belongsTo('App.Category')
});

// Loading sample data
// Note that all fixtures have an `id` property. That's because Ember-Data needs your 
// models to have an Id, but you don't define it on your model classes.
App.Category.FIXTURES = [
    {
        id: 1, 
        name: 'Air Conditioners', 
        imageUrl: 'http://img9.imageshack.us/img9/1207/howtoreplaceyourcarairc.jpg', 
        products: []
    },
    {    
        id: 2,
        name: 'Tires', 
        imageUrl: 'http://img526.imageshack.us/img526/5290/r8wheel1ljpg0f089f10250.jpg', 
        products: []
    },
    {
        id: 3, 
        name: 'Brakes', 
        imageUrl: 'http://img651.imageshack.us/img651/5600/brakes.gif', 
        products: []
    },
    {
        id: 4,
        name: 'Exhausts', 
        imageUrl: 'http://img217.imageshack.us/img217/7366/carbon20fibre20exhaust2.jpg', 
        products: []
    },
    {
        id: 5, 
        name: 'Batteries', 
        imageUrl: 'http://img842.imageshack.us/img842/268/t2ec16nhjhqe9nzej50bqu7.jpg', 
        products: []
    },
    {
        id: 6,
        name: 'Wipers', 
        imageUrl: 'http://img145.imageshack.us/img145/3750/1208764x64.jpg', 
        products: []
    },
    {
        id: 7, 
        name: 'GPS', 
        imageUrl: 'http://img687.imageshack.us/img687/8899/kgrhqroifcpor3cm0bq1ufc.jpg',
        products: [701,702,703]
    }, 
    {
        id: 8,
        name: 'Windshields',
        imageUrl: 'http://img405.imageshack.us/img405/6826/windshield3thumb.jpg',
        products: []
    }
];

App.Product.FIXTURES = [
    {
        id: 201,
        name: 'Pirelli P4 Four Seasons',
        category: 2,
        price: 9999,
        imageUrl: 'http://img4.imageshack.us/img4/4372/pirellip4fourseasonslg.jpg'
    },
    {
        id: 701, 
        name: 'Tomtom Start 4.3" GPS (45TM)', 
        category: 7, 
        price: 12999, 
        imageUrl: 'http://img856.imageshack.us/img856/7471/seeq2501.jpg'
    },
    {
        id: 702, 
        name: 'Garmin nüvi 4.3" GPS (40)', 
        category: 7,
        price: 11999, 
        imageUrl: 'http://img27.imageshack.us/img27/5116/88121963.jpg'
    },
    {
        id: 703, 
        name: 'Magellan RoadMate 2230T 4.3" GPS ', 
        category: 7, 
        price: 14399, 
        imageUrl: 'http://img820.imageshack.us/img820/7981/36361380.png'
    }
];

// Models - End

// Views - Begin

// Views - End 
```

# javascript - 如何在jsp中获取包含多个参数的URL的完整路径

> ID：15081061
> 
> 赞同：5
> 
> 时间：2013-02-26T03:54:09.177
> 
> 标签：javascript, jsp, url, uri

假设
**网址**： **http://localhost:9090/project1/url.jsp?id1=one&id2=two&id3=three**

```
<%
String str=request.getRequestURL()+"?"+request.getQueryString();
System.out.println(str);
%> 
```

有了这个我得到输出 **http://localhost:9090/project1/url.jsp?id1=one**

但有了这个我只能检索第一个参数（即 id1=one）而不是其他参数

但如果我使用 javascript 我能够检索所有参数

```
function a()
     {
        $('.result').html('current url is : '+window.location.href );
    } 
```

html:

```
<div class="result"></div> 
```

我想检索要在我的下一页中使用的当前 URL 值，但我不想使用会话

使用以上两种方法中的任何一种我如何检索jsp中的所有参数？

提前致谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2014-03-21T15:11:57.647

给定 URL = http://localhost:9090/project1/url.jsp?id1=one&id2=two&id3=three

```
request.getQueryString(); 
```

确实应该返回 id1=one&id2=two&id3=three

请参阅[HttpServletRequest.getQueryString JavaDoc](http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getQueryString%28%29)

我曾经遇到过同样的问题，可能是由于某些测试程序失败。如果发生这种情况，请在清晰的环境中进行测试：新的浏览器窗口等。

Bhushan 答案不等同于 getQueryString，因为它解码参数值！

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-26T04:34:58.310

我想这就是你要找的..

```
String str=request.getRequestURL()+"?";
Enumeration<String> paramNames = request.getParameterNames();
while (paramNames.hasMoreElements())
{
    String paramName = paramNames.nextElement();
    String[] paramValues = request.getParameterValues(paramName);
    for (int i = 0; i < paramValues.length; i++) 
    {
        String paramValue = paramValues[i];
        str=str + paramName + "=" + paramValue;
    }
    str=str+"&";
}
System.out.println(str.substring(0,str.length()-1));    //remove the last character from String 
```

# php - $_SESSION 变量不保存

> ID：15081063
> 
> 赞同：0
> 
> 时间：2013-02-26T03:54:34.023
> 
> 标签：php, session, submit

**编辑：制作了一个简化的脚本。** 我无法在下面的页面上保存 $_SESSION['test_var']。
当我设置第二次提交时，我没有得到回声。

```
<?php
    session_start();
?>
<html>
    <head>
        <?php
            if(isset($_POST['submit1'])){
                $_SESSION['test_var'] = 1;
                echo "test_var set!";
            }
            if(isset($_POST['submit2'])){
                if(isset($_SESSION['test_var'])){
                    echo "test_var still set!";
                }
            }
        ?>
    </head>
    <body>
        <form NAME="testform" METHOD="POST" ACTION="test_session.php">
            <INPUT TYPE="Submit" NAME="submit1" VALUE="Set"><br>
        </form>
        <form NAME="testform2" METHOD="POST" ACTION="test_session.php">
            <INPUT TYPE="Submit" NAME="submit2" VALUE="Test"><br>
        </form>
    </body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-27T00:58:56.923

您确实意识到您正在将其回显到`<head>`文档中。要查看它是否存在，请尝试查看页面源。右键单击 chrome 并查看页面源代码。我认为这就是问题所在。还要确保您发布到相同的子域。这意味着如果你在`domain.com`并且你发布到`www.domain.com`会话将不一样。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-27T13:45:21.610

**解决了！**
问题是我必须将文件保存在**ANSI**中，它保存在**UTF-8**

# python - 如何更改 python 函数中的参数？

> ID：15081065
> 
> 赞同：1
> 
> 时间：2013-02-26T03:55:10.490
> 
> 标签：python

假设我有一个函数 foo(x,k) 并假设 x 是一个列表。我希望 k 默认为列表的长度。我只是写：

```
def foo(x, k=1):
  k = len(x)
  ..
end 
```

我只想用一个参数运行 foo，即 x。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-26T03:56:24.047

你应该做：

```
def foo(x, k=None):
    if k is None:
        k = len(x)
    ... 
```

请注意，这可以更紧凑：

```
def foo(x, k=None):
    k = k or len(x) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T03:59:20.933

做就是了：

```
def foo(x):
    k = len(x) 
```

您不必将 k 传递给此函数。您可以只使用局部变量 k。

如果你必须使用 k 那么你可以这样做：

```
def foo(x,k):
    k = len(x) 
```

虽然这没有任何目的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T04:03:37.630

如果您的意图是使用默认的无特定顺序的可选 k，`k=len(l)`则可以使用可选的关键字参数，如下所示：

```
def f(l,**kwargs):
    k=kwargs.get('k',len(l))    
    # if k is in kwargs, it overrides the default of len(l)..
    print 'l={}, len(l)={}, k={}'.format(l,len(l),k)

f([1,2,3])  
f([1,2,3],k=1) 
```

印刷：

```
l=[1, 2, 3], len(l)=3, k=3
l=[1, 2, 3], len(l)=3, k=1 
```

[正如评论中所指出的，这是与 David Robinson方法](https://stackoverflow.com/a/15081072/455276)中速度和参数位置的其他考虑的权衡。

# javascript - 在android上滑动无响应

> ID：15081067
> 
> 赞同：1
> 
> 时间：2013-02-26T03:55:37.127
> 
> 标签：javascript, android, jquery, events

所以我有一些代码来触发 jquery 事件，这段代码的作用是每次用户在某个区域上向左/向右滑动时都会触发事件并将日志添加到控制台。

这在我的 ipad 和 iphone 上运行良好，但今天我来在两个单独的 android 设备上对其进行测试，并没有什么快乐。

在实际记录滑动之前，我必须滑动 20/30 次。

我想知道我的代码是否有错误？

```
var maxTime = 1000,
    // allow movement if < 1000 ms (1 sec)
    maxDistance = 50,
    // swipe movement of 50 pixels triggers the swipe
    target = jQuery('.pageSize'),
    startX = 0,
    startTime = 0,
    touch = "ontouchend" in document,
    startEvent = (touch) ? 'touchstart' : 'mousedown',
    moveEvent = (touch) ? 'touchmove' : 'mousemove',
    endEvent = (touch) ? 'touchend' : 'mouseup';

target.bind(startEvent, function(e) {
    // prevent image drag (Firefox)
    // e.preventDefault();
    startTime = e.timeStamp;
    startX = e.originalEvent.touches ? e.originalEvent.touches[0].pageX : e.pageX;
}).bind(endEvent, function(e) {
    startTime = 0;
    startX = 0;
}).bind(moveEvent, function(e) {
    // e.preventDefault();
    var currentX = e.originalEvent.touches ? e.originalEvent.touches[0].pageX : e.pageX,
        currentDistance = (startX === 0) ? 0 : Math.abs(currentX - startX),
        // allow if movement < 1 sec
        currentTime = e.timeStamp;
    if (startTime !== 0 && currentTime - startTime < maxTime && currentDistance > maxDistance) {
        if (currentX < startX) {
            // swipe left code here
            //slideMobile("forward", pageSize);

            console.log("swipeForward");
            jQuery(window).trigger('swipeForward');
        }
        if (currentX > startX) {
            // swipe right code here
            //slideMobile("back", pageSize);

            console.log("swipeBackward");
            jQuery(window).trigger('swipeBackward');

        }
        startTime = 0;
        startX = 0;
    }
}); 
```

谢谢

# c# - 在.Net中存储终身变量值？

> ID：15081074
> 
> 赞同：0
> 
> 时间：2013-02-26T03:56:26.097
> 
> 标签：c#, asp.net, variables, store, lifetime

我想存储一个存储其价值生命周期的变量值。

我知道以下可以使用的东西，但它可能有存储限制。

1.  会议
2.  曲奇饼
3.  请求参数

但我想为终生存储价值。

我听说过“应用程序变量”，但我不知道它们的功能。那么，谁能告诉我这件事并建议我有没有其他方法来存储价值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T04:04:05.250

应用程序是对象的键值字典。应用程序状态存储在服务器的内存中，当应用程序关闭或崩溃时会丢失。有关更多信息，请参阅[此](http://msdn.microsoft.com/en-us/library/ms178594%28v=vs.100%29.aspx)内容。

如果您想存储价值生命周期，我的意思是即使应用程序崩溃或关闭，您也必须使用数据库（它可以是 xml 文件或结构化文件......）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T04:40:26.077

如果是关于window applcation的安装，那么您可以在安装完成后或在第一次运行应用程序时在windows注册表中添加一个条目。

在第二次安装时，您必须检查该注册表项。

请参阅[注册表处理](http://www.codeproject.com/Articles/2003/Registry-handling-with-NET)

# cocos2d-iphone - 使用 SimpleAudioEngine 覆盖静音开关

> ID：15081077
> 
> 赞同：0
> 
> 时间：2013-02-26T03:56:46.740
> 
> 标签：cocos2d-iphone, simpleaudioengine

当外部静音开关打开时，应用程序没有声音。我在我的应用程序中使用 SimpleAudioEngine 来播放音效。即使静音开关设置为静音，如何播放声音？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T04:08:47.827

如果您使用`[CDAudioManager initAsynchronously:kAMM_PlayAndRecord];`静音开关进行初始化，则会被覆盖。据我所知，这也是获得麦克风输入的唯一方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-24T08:49:22.170

当我使用时，`[CDAudioManager initAsynchronously:kAMM_PlayAndRecord];`我遇到了一个非常低音量的问题。改为使用`[CDAudioManager initAsynchronously:kAMM_MediaPlayback];`，音量不会受到影响。

这也适用于[cocos2d-x](/questions/tagged/cocos2d-x "显示标记为“cocos2d-x”的问题")（使用 c++ 或 js），因为它也使用[cc.audioengine](/questions/tagged/cc.audioengine "显示标记为“cc.audioengine”的问题")。

# ruby-on-rails - 使用 Prawn 从 Base64 生成带有图像的 PDF

> ID：15081079
> 
> 赞同：8
> 
> 时间：2013-02-26T03:57:03.117
> 
> 标签：ruby-on-rails, png, base64, prawn

我正在尝试将多个 png 保存在一个 pdf 中。我从对 Endicia 标签服务器的 API 调用接收 PNG，它给了我一个 Base64 编码图像作为响应。

基于这个问题：

[如何使用 Prawn 将 base64 字符串转换为 PNG，而不保存在 Rails 中的服务器上](https://stackoverflow.com/questions/13256723/how-to-convert-base64-string-to-png-using-prawn-without-saving-on-server-in-rail)

```
def batch_order_labels
  @orders = Spree::Order.ready_to_ship.limit(1)
  dt = Date.current.strftime("%d %b %Y ")
  title = "Labels - #{dt} - #{@orders.count} Orders"

  Prawn::Document.generate("#{title}.pdf") do |pdf|
    @orders.each do |order|
      label = order.generate_label
      if order.international?
        @image = label.response_body.scan(/<Image PartNumber=\"1\">([^<>]*)<\/Image>/imu).flatten.last
      else
        @image = label.image
      end

      file = Tempfile.new('labelimg', :encoding => 'utf-8')
      file.write Base64.decode64(@image)
      file.close

      pdf.image file
      pdf.start_new_page
    end
  end

  send_data("#{title}.pdf")
end 
```

但我收到以下错误：

### "\x89" 从 ASCII-8BIT 到 UTF-8

任何的想法？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-27T12:23:08.390

无需将图像数据写入临时文件，Prawn::Document#image 可以接受 StringIO。

尝试替换这个：

```
file = Tempfile.new('labelimg', :encoding => 'utf-8')
file.write Base64.decode64(@image)
file.close
pdf.image file 
```

有了这个：

```
require 'stringio'
.....
image_data = StringIO.new( Base64.decode64(@image) )
pdf.image(image_data) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-27T07:05:48.640

问题是，Api 以 UTF-8 格式返回这个东西——所以我没有很好的选择。无论如何，我发现这个解决方案有效

```
 file = Tempfile.new('labelimg', :encoding => 'utf-8')
  File.open(file, 'wb') do |f|
    f.write Base64.decode64(@image)
  end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T13:33:24.260

您无法将 Base64 转换为 UTF-8。将其保留为纯 ASCII：

```
 file = Tempfile.new('labelimg', :encoding => 'ascii-8bit')
  file.write Base64.decode64(@image)
  file.close 
```

甚至更好 - 将其保留为二进制：

```
 file = Tempfile.new('labelimg')
  file.write Base64.decode64(@image)
  file.close 
```

UTF-8 是多位格式，不能用于传输图片等二进制数据。

# php - 获取“？” Laravel 中的变量

> ID：15081090
> 
> 赞同：59
> 
> 时间：2013-02-26T03:57:50.263
> 
> 标签：php, laravel, rest

您好，我正在按照本文使用 REST 和 Laravel 创建[API](http://maxoffsky.com/code-blog/building-restful-api-in-laravel-start-here/)。

一切都按预期进行。

现在，我想映射一个 GET 请求以使用“？”识别变量。

例如：`domain/api/v1/todos?start=1&limit=2`。

以下是我的内容`routes.php`：

```
Route::any('api/v1/todos/(:num?)', array(
    'as'   => 'api.todos',
    'uses' => 'api.todos@index'
)); 
```

我的`controllers/api/todos.php`：

```
class Api_Todos_Controller extends Base_Controller {

    public $restful = true;

    public function get_index($id = null) {
        if(is_null($id)) {
            return Response::eloquent(Todo::all(1));

        } else {
            $todo = Todo::find($id);
            if (is_null($todo)) {
                return Response::json('Todo not found', 404);
            } else {
                return Response::eloquent($todo);   
            }
        }
    }
} 
```

如何使用“？”获取参数 ?

* * *

## 回答 #1

> 赞同：72
> 
> 时间：2013-02-26T04:02:47.463

看看[$_GET](http://www.php.net/manual/en/reserved.variables.get.php)和[$_REQUEST](http://www.php.net/manual/en/reserved.variables.request.php)超全局变量。以下内容适用于您的示例：

```
$start = $_GET['start'];
$limit = $_GET['limit']; 
```

**编辑**

根据[laravel 论坛中的这篇文章](http://forums.laravel.io/viewtopic.php?pid=16363#p16363)，您需要使用`Input::get()`，例如，

```
$start = Input::get('start');
$limit = Input::get('limit'); 
```

另请参阅： http: [//laravel.com/docs/input#input](http://laravel.com/docs/input#input)

* * *

## 回答 #2

> 赞同：43
> 
> 时间：2017-01-24T20:07:55.483

在 5.3-8.0 上，您引用查询参数，就好像它是`Request` `class`.

### 1.网址

`http://example.com/path?page=2`

### 2\. 在路由回调或控制器动作中使用魔术方法 Request::__get()

```
Route::get('/path', function(Request $request){
 dd($request->page);
}); 

//or in your controller
public function foo(Request $request){
 dd($request->page);
}

//NOTE: If you are wondering where the request instance is coming from, Laravel automatically injects the request instance from the IOC container
//output
"2" 
```

###3。默认值 我们也可以传入一个默认值，如果参数不存在则返回。它比您通常与请求全局变量一起使用的三元表达式要干净得多

```
 //wrong way to do it in Laravel
   $page = isset($_POST['page']) ? $_POST['page'] : 1; 

   //do this instead
   $request->get('page', 1);

   //returns page 1 if there is no page
   //NOTE: This behaves like $_REQUEST array. It looks in both the
   //request body and the query string
   $request->input('page', 1); 
```

###4。使用请求功能

```
$page = request('page', 1);
//returns page 1 if there is no page parameter in the query  string
//it is the equivalent of
$page = 1; 
if(!empty($_GET['page'])
   $page = $_GET['page']; 
```

***默认**参数是可选的，因此可以省略*

###5。使用请求::查询()

> 虽然输入方法从整个请求负载（包括查询字符串）中检索值，但查询方法将仅从查询字符串中检索值

```
//this is the equivalent of retrieving the parameter
//from the $_GET global array
$page = $request->query('page');

//with a default
$page = $request->query('page', 1); 
```

###6。使用请求[门面](https://laravel.com/docs/5.7/facades)

```
$page = Request::get('page');

//with a default value
$page = Request::get('page', 1); 
```

您可以在官方文档中阅读更多内容[https://laravel.com/docs/5.8/requests](https://laravel.com/docs/5.8/requests)

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2018-04-21T11:56:10.250

我们现在有类似的情况，在这个答案中，我使用的是 laravel 5.6 版本。

我不会在问题中使用您的示例，而是使用我的示例，因为它是相关的。

我有这样的路线：

```
Route::name('your.name.here')->get('/your/uri', 'YourController@someMethod'); 
```

然后在你的控制器方法中，确保你包括

```
use Illuminate\Http\Request; 
```

这应该在您的控制器之上，很可能是默认值，如果使用 生成`php artisan`，现在从 url 获取变量应该如下所示：

```
 public function someMethod(Request $request)
  {
    $foo = $request->input("start");
    $bar = $request->input("limit");

    // some codes here
  } 
```

不管 HTTP 动词是什么，**input()**方法都可用于检索用户输入。

[https://laravel.com/docs/5.6/requests#retrieving-input](https://laravel.com/docs/5.6/requests#retrieving-input)

希望这有帮助。

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2016-10-01T19:10:59.367

这是最佳实践。这样，您将从 GET 方法和 POST 方法中获取变量

```
 public function index(Request $request) {
            $data=$request->all();
            dd($data);
    }
//OR if you want few of them then
    public function index(Request $request) {
            $data=$request->only('id','name','etc');
            dd($data);
    }
//OR if you want all except few then
    public function index(Request $request) {
            $data=$request->except('__token');
            dd($data);
    } 
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2016-10-01T19:05:04.890

查询参数的使用如下：

```
use Illuminate\Http\Request;

class MyController extends BaseController{

    public function index(Request $request){
         $param = $request->query('param');
    } 
```

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2016-12-03T15:29:15.587

在 laravel **5.3** `$start = Input::get('start');`中返回`NULL`

为了解决这个

```
use Illuminate\Support\Facades\Input;

//then inside you controller function  use

$input = Input::all(); // $input will have all your variables,  

$start = $input['start'];
$limit = $input['limit']; 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-02-26T08:40:02.547

在 laravel 5.3 中

我想在我的视图中显示 get 参数

第 1 步：我的路线

```
Route::get('my_route/{myvalue}', 'myController@myfunction'); 
```

第 2 步：在控制器中编写一个函数

```
public function myfunction($myvalue)
{
    return view('get')->with('myvalue', $myvalue);
} 
```

现在您将返回传递给视图的参数

第 3 步：在我的视图中显示它

在我看来，你可以简单地通过使用来回应它

```
{{ $myvalue }} 
```

所以如果你的网址中有这个

[http://127.0.0.1/yourproject/refral/this@that.com](http://127.0.0.1/yourproject/refral/this@that.com)

然后它将在您的查看文件中打印 this@that.com

希望这可以帮助某人。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2020-04-22T15:13:29.010

使用原生 php 资源并不是很好，`$_GET`因为 Laravel 为我们提供了获取变量的简单方法。作为标准，尽可能使用 laravel 本身的资源而不是纯 PHP。

在 Laravel（Laravel 5.x 或更高版本）中通过 GET 获取变量至少有两种模式：

**模式一**

路线：

```
Route::get('computers={id}', 'ComputersController@index'); 
```

请求（邮递员或客户端...）：

```
http://localhost/api/computers=500 
```

控制器 - 您可以通过以下方式访问`{id}`控制器中的参数：

```
public function index(Request $request, $id){
   return $id;
} 
```

**模式二**

路线：

```
Route::get('computers', 'ComputersController@index'); 
```

请求（邮递员或客户端...）：

```
http://localhost/api/computers?id=500 
```

控制器 - 您可以通过以下方式访问`?id`控制器中的参数：

```
public function index(Request $request){
   return $request->input('id');
} 
```

# ruby-on-rails - Number Helper - 如何仅返回货币符号

> ID：15081091
> 
> 赞同：2
> 
> 时间：2013-02-26T03:57:58.173
> 
> 标签：ruby-on-rails, currency

我通常使用 的功能`number_to_currency`来`ActionView::Base`获取以特定货币格式化的数字。但我只需要获取货币符号（将其显示在文本字段旁边。

我没有找到比`I18n.t(:'number.currency.format.unit')`. 有更好的推荐吗？

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-08-26T07:05:25.923

您可以使用货币符号进行格式化，但没有值，即格式为`%u`：

```
number_to_currency 1, format: '%u'
   #=> "$" 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-26T07:40:50.287

如果你想要的只是货币符号，你能抓住字符串的第一个元素吗？

```
number_to_currency(39.50)[0] = "$" 
```

或者，如果您想要除货币符号之外的所有内容

```
number_to_currency(39.50)[1..-1] = "39.50" 
```

# wpf - 将 NameValueCollection 绑定到 TextBlock

> ID：15081097
> 
> 赞同：0
> 
> 时间：2013-02-26T03:58:43.253
> 
> 标签：wpf, data-binding

我有`ItemsControl`哪个使用模板来绑定数据。

```
<ItemsControl ItemsSource="{Binding MyCollection}"  x:Name="MyCollectionControl" ItemTemplate="{DynamicResource MyCollectionTemplate}" /> 
```

**MyCollection**是类型，`NameValueCollection`并且以下绑定不起作用。它正在填充正确数量的对，但`TextBlock`没有获得有界值。

**模板**

```
 <DataTemplate x:Key="MyCollectionTemplate">
        <Grid>
            <TextBlock Text="{Binding Path=Value, Mode=OneWay}"/>
            <TextBox Name="CValue"/>
        </Grid>
 </DataTemplate> 
```

**主窗口**

```
string[] dataCollection=new string[5];
....
....
Student studentObject=new Student("1",dataCollection);

this.dataContext = studentObject; 
```

**学生班**

```
public class Student
{
    public string Id;
    public NameValueCollection MyCollection {get; set;}    

    public Student(string id, params string[] additionalInfo)
    {
        Id =  id;       

        if (additionalInfo != null)
        {
            MyCollection=new NameValueCollection();

            foreach (string s in MyCollection)
            {
                string[] tokens = s.Split('|');
                if (tokens.Length == 2)
                    MyCollection.Add(tokens[0], tokens[1]);
            }
        }
     }
} 
```

绑定时我做错了什么`NameValueCollection`。

请给我建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T04:14:35.503

好的几件事，一个你可能想要改变你的 DataTemplate 因为你直接在你的文本块上覆盖一个文本框，对于我的测试，我只是把它改成了一个堆栈面板：

```
<StackPanel>
    <TextBlock Text="{Binding}"/>
    <TextBox Name="CValue"/>
</StackPanel> 
```

另请注意，我更改为 simple`Text="{Binding}"`因为 NameValueCollection 中的项目只是字符串并且没有 value 属性。

也不确定这是否只是另一个错字，但这是：

```
foreach (string s in MyCollection)
{
    string[] tokens = s.Split('|');
    if (tokens.Length == 2)
        MyCollection.Add(tokens[0], tokens[1]);
} 
```

大概应该说：

```
foreach (string s in additionalInfo)
{
    string[] tokens = s.Split('|');
    if (tokens.Length == 2)
        MyCollection.Add(tokens[0], tokens[1]);
} 
```

否则，您只是在遍历一个空集合。

# visual-studio - VS2012 如何关闭编辑器标签着色？

> ID：15081099
> 
> 赞同：83
> 
> 时间：2013-02-26T03:58:44.307
> 
> 标签：visual-studio, visual-studio-2012, customization, productivity-power-tools

我努力阅读 Visual Studio 2012 源代码编辑器中的选项卡。我什至不明白不同颜色的含义是什么？它们看起来完全随机。棕色上的黑色或蓝色上的黑色......谁选择那个？

![在此处输入图像描述](../Images/f8e42cbe0167f0ad2076591cc5fb23d3.png)

所以我想关闭标签的颜色并恢复为白底黑字或浅灰色。

我看过：

> 选项>>环境（常规/字体和颜色）

但我看不到任何相关的东西。那么我该怎么做呢？

* * *

## 回答 #1

> 赞同：147
> 
> 时间：2013-02-26T04:08:33.457

看起来您可能安装了[Productivity Power Tools](http://visualstudiogallery.msdn.microsoft.com/3a96a4dc-ba9c-4589-92c5-640e07332afd)？如果是这样，请关闭 Custom Document Well 或查看*Options > Productivity Power Tools > Custom Document Well > Advanced*，有一个选项可以将颜色设置为 Visual Studio。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2016-09-27T23:35:41.440

或者你可以设置：（在 VS2015 中）

选项 > 生产力电动工具 > 自定义文档井 >**高级**

然后在 Colors and Gradients 面板下，在**Selected Tab**下拉菜单中选择**VS Colors**，

这使您可以按项目保留彩色标签，同时清楚地突出显示选定的标签，赢得胜利...

[![在此处输入图像描述](../Images/8d85ccbad0460db62a8cb2b3f1278c74.png)](https://i.stack.imgur.com/8SCXa.png)

我选择的选项卡现在一直是亮蓝色。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-01-23T05:28:01.550

每个选项卡的颜色来自**生产力电动工具**。电动工具为每个项目分配颜色，以便开发人员轻松检测文件（如果包含相同名称）属于哪个项目。

对于 VS 2013 和 2015，您可以按照以下步骤通过项目中未选中的**颜色选项卡轻松删除这些颜色**

转到*工具 > 选项 > 生产力电动工具 > 自定义文档井 > 常规*

[![在此处输入图像描述](../Images/14acf348db4db18cee488ad595f72ee7.png)](https://i.stack.imgur.com/tQ3kq.png)

# ruby-on-rails - 无法让 fancybox 弹出一个窗口并播放我的 youtube 视频

> ID：15081101
> 
> 赞同：0
> 
> 时间：2013-02-26T03:58:52.440
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.2, fancybox

我在让 fancybox-rails 在我的应用程序中工作时遇到问题。

我的观点

```
= link_to "http://www.youtube.com/embed/lGOkgbdGqKs", class: "fancybox fancybox.iframe { width:850, height:556 }" 
```

咖啡脚本

```
(document).ready ->
  $(".fancybox").fancybox() 
```

应用程序.css.sass

```
/*
 *= require_self
 *= require fancybox
 *= require_tree .
 */ 
```

该链接可用，但我单击它时无法使其弹出。不知道为什么这不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T17:45:58.290

I was able to figure out the problem. I was not giving an image or verbiage for my fancybox link. I was just inserting the URL and expecting it to figure out the name of the link.

I changed my link to:

```
= link_to "Video", "http://www.youtube.com/embed/lGOkgbdGqKs", class: "fancybox fancybox.iframe { width:850, height:556 }" 
```

and it worked as expected

# java - 光圈和相机镜头之间的距离

> ID：15081111
> 
> 赞同：2
> 
> 时间：2013-02-26T04:00:19.320
> 
> 标签：java, android, opencv, distance

我正在使用 Eclipse 为 Android 构建简单的应用程序。我的目的是计算 2 个光圈和相机镜头之间的距离。

我使用 OpenCV 检测到了两个虹膜。

你下一步怎么做？请告诉我计算的相对公式。

任何想法将不胜感激。

# php - 解析 JSON 字符串（或者是 XML？）

> ID：15081112
> 
> 赞同：2
> 
> 时间：2013-02-26T04:00:37.197
> 
> 标签：php, json, parsing

我有一个需要传递的 XML 文件。

[http://mckay.canvashost.com:8080/opentripplanner-api-webapp/ws/transit/stopTimesForStop?id=27833&startTime=1361784386000&extended=true&references=true](http://mckay.canvashost.com:8080/opentripplanner-api-webapp/ws/transit/stopTimesForStop?id=27833&startTime=1361784386000&extended=true&references=true)

我使用 PHP 的 CURL 将其加载到页面中：

```
$url = "http://mckay.canvashost.com:8080/opentripplanner-api-webapp/ws/transit/stopTimesForStop?id=27833&startTime=1361784386000&extended=true&references=true";
$ch = curl_init($url);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);
curl_setopt($ch, CURLOPT_HEADER, 0);
$xml = curl_exec($ch);      
curl_close($ch);
echo htmlentities($xml, ENT_QUOTES, "UTF-8"); 
```

输出是一个 JSON 文件，这是我没想到的。无论如何，我继续使用 JSON，但似乎无法解析它。

我原以为这会起作用：

```
$obj=json_decode($xml);
echo $obj[stopTime][0][phase]; 
```

结果是“离开”。我在这上面花了很长时间，但无法让它输出任何东西。

有人帮忙吗？有谁知道它是从什么时候从 XML 文件切换到 JSON 格式的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-03T19:11:26.920

输出是一个 xml 字符串。尝试使用 SimpleXml 提供的 php 的 xml 功能：

[简单 XML](http://www.php.net/manual/en/book.simplexml.php)

一旦你成功解析了字符串，你就可以像数组一样迭代它的节点

```
foreach ($xmlElement as $node) {
echo $node->attributeName;
} 
```

# php - 通过代理连接时php get运行两次

> ID：15081113
> 
> 赞同：0
> 
> 时间：2013-02-26T04:00:43.530
> 
> 标签：php, proxy, get

我有一个问题，一个 php 页面运行两次，但通过代理服务器连接时它只运行两次。如果用户不通过代理连接，此代码运行良好。

**如何解决此问题，使其仅运行一次，无论是否通过代理连接？**

此 php 代码在 Drupal CMS 页面中运行，但独立于 Drupal。用户通过单击超链接进入该页面。

是我使用标题将用户重定向到另一个页面吗？

```
<?php

$userId = 0;
$userId = $_GET["userId"];

$userEmail = 0;
$userEmail = $_GET["userEmail"];

$userName = 0;
$userName = $_GET["userName"];

//connect to the database
$con = mysql_connect("HOSTNAME","USERNAME","PASSWORD");
if (!$con)
  {
  die('Could not connect: ' . mysql_error());
  }
else
{
//echo "Connected.";
//echo "<br>";
}

mysql_select_db("formredirectdata", $con);

$userId = intval($userId);

mysql_query("INSERT INTO webforms
(userid, formisactive, formname, formtitle, shortdesc, confirmationlink) VALUES('$userId', '1', 'Form Name', 'Form Title', 'Short Description', 'Confirmation Link') ") 
or die(mysql_error());  

$newformnum = mysql_insert_id();

$recipientname = 0;
$recipientemail = 0;
$recipientname = "default" . $newformnum;
$recipientemail = $userEmail;

//send to the next script
header('Location: addtriggernewform.php?formnum2=' . $newformnum . '&recipientemail=' . $recipientemail . '&operator=(default)&inputname=(default)&triggervalue=(default)&userName=' . $userName);
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-09T22:41:47.107

后来我发现查询被处理两次的原因是我使用不同的用户帐户在两个不同的浏览器中登录到网站（基于 Drupal）。在其中一个浏览器中注销后，查询不再被处理两次。这一定是一个涉及 Drupal 和临时 Internet 文件的怪癖。

# c++ - 有人可以简明扼要地解释 set_union 在 C++ 中的工作原理吗？

> ID：15081115
> 
> 赞同：0
> 
> 时间：2013-02-26T04:01:05.080
> 
> 标签：c++, algorithm

我对如何解释以下页面中为 set_union 给出的代码感到困惑：[http ://www.cplusplus.com/reference/algorithm/set_union/](http://www.cplusplus.com/reference/algorithm/set_union/)

算法如何保证函数返回时结果保持两个集合的并集？例如，如果我们想找到以下列表的 set_union：

```
L1        L2

hi        goodbye
bye       hello
see       hi
two       bye
three     hooray 
```

假设我们在每个列表的前面和后面都有一个迭代器，有人可以告诉我算法是如何处理这样的列表的吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T04:05:11.800

您缺少[`set_union`](http://en.cppreference.com/w/cpp/algorithm/set_union)工作的关键要求：您传递给它的两个范围都必须是*sorted*。从您发布的链接：

> `set_union`*构造一个从 result 指向的位置开始的排序范围，其中两个排序*范围`[first1,last1)`和的集合并集`[first2,last2)`。

页面上显示的代码只是执行两个预先排序的序列的合并。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T04:03:29.733

关键信息是该算法假定元素在两个范围内排序作为先决条件，因此在您的情况下它将是：

```
L1:  bye, hi, see, three, two
L2:  bye, goodbye, hello, hi, hooray 
```

考虑到这一点，不难理解算法的作用。

虽然两个范围都包含元素，但将迭代器指向的最小元素添加到联合中并推进该迭代器。如果两个迭代器都引用同一个元素，则添加它并推进两个迭代器（您不想插入两次）。

在其中一个范围为空后，只需将所有剩余元素从另一个范围复制到解决方案。

在这种情况下，插入`bye`并推进两个迭代器，插入`goodbye`并推进第二个迭代器，插入`hello`并推进第二个迭代器，插入`hi`并推进两个迭代器，插入`hooray`并推进第二个迭代器。现在第二个范围是空的，所以只需完成第一个范围中的剩余元素。

# iphone - 如何将数组（带小数）的所有对象（总和）相加并在 UILabel 中显示结果？

> ID：15081117
> 
> 赞同：0
> 
> 时间：2013-02-26T04:01:16.603
> 
> 标签：iphone, arrays, sdk, sum

在开发我的应用程序时，我遇到了一个小问题。我有一个名为 priceArray 的数组，用户可以将对象添加到该数组中。在这种情况下，将添加 @"1.50" 或 @"5.61" 等对象。我有以下代码可以将它们相加，但它完全忽略了小数。例如，如果数组有两个对象 @"1.50" 和 @"20.00"，则标签将显示 21 而不是 21.50。

```
int sum=0;
for(int x=0; x < [priceArray count]; x++)
{
    sum += [[priceArray objectAtIndex:x] intValue];
}

budgetLabel.text = [NSString stringWithFormat:@"$%d", sum]; 
```

提前感谢您的所有帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T04:03:52.460

您的`sum`变量是一种`int`类型，因此小数部分将被截断（不四舍五入 - 只是丢弃）。相反，`sum`应该是一个`double`或`float`类型。

```
float sum=0;
for(int x=0; x < [priceArray count]; x++)
{
    sum += [[priceArray objectAtIndex:x] floatValue];
}

budgetLabel.text = [NSString stringWithFormat:@"$%.2f", sum]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T04:04:31.707

您需要改用浮点数。

```
float sum=0;
for(int x=0; x < [priceArray count]; x++)
{
    sum += [[priceArray objectAtIndex:x] floatValue];
}

budgetLabel.text = [NSString stringWithFormat:@"$%f", sum]; 
```

整数是整数。21 是圆的，21.5 不是圆的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T04:07:10.473

遵循此代码 -

```
float sum = 0.0;
for (int x = 0; x<[priceArray count]; x++)
{
    sum += [[priceArray objectAtIndex:x] floatValue];
}

budgetLabel.text = [NSString stringWithFormat:@"%f",sum]; 
```

我希望这能帮到您。

# go - 有什么方法可以使用 html.Parse 而不添加节点来制作“格式良好的树”？

> ID：15081119
> 
> 赞同：7
> 
> 时间：2013-02-26T04:01:28.243
> 
> 标签：go

```
package main

import (
    "bytes"
    "code.google.com/p/go.net/html"
    "fmt"
    "log"
    "strings"
)

func main() {
    s := "Blah. <b>Blah.</b> Blah."
    n, err := html.Parse(strings.NewReader(s))
    if err != nil {
        log.Fatalf("Parse error: %s", err)
    }
    var buf bytes.Buffer
    if err := html.Render(&buf, n); err != nil {
        log.Fatalf("Render error: %s", err)
    }
    fmt.Println(buf.String())
} 
```

输出：

```
<html><head></head><body>Blah. <b>Blah.</b> Blah.</body></html> 
```

有没有办法停止`html.Parse`用片段制作文档（即避免添加`<html>`等`<body>`）？我知道，[`html.ParseFragment`](http://godoc.org/code.google.com/p/go.net/html#ParseFragment)但它似乎表现出相同的行为。

您可以通过使用父元素包装要解析的文本来绕过它，例如`<span>`然后执行以下操作：

```
n = n.FirstChild.LastChild.FirstChild 
```

但这似乎至少可以说是笨拙的。

理想情况下，我想：接受输入，操作或删除在其中找到的节点，并将结果写回字符串，即使结果是不完整的文档。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-26T04:22:25.797

您需要为 ParseFragment 提供上下文。以下程序打印出原始文本：

```
package main

import (
    "bytes"
    "code.google.com/p/go.net/html"
    "code.google.com/p/go.net/html/atom"
    "fmt"
    "log"
    "strings"
)

func main() {
    s := "Blah. <b>Blah.</b> Blah."
    n, err := html.ParseFragment(strings.NewReader(s), &html.Node{
        Type:     html.ElementNode,
        Data:     "body",
        DataAtom: atom.Body,
    })
    if err != nil {
        log.Fatalf("Parse error: %s", err)
    }
    var buf bytes.Buffer
    for _, node := range n {
        if err := html.Render(&buf, node); err != nil {
            log.Fatalf("Render error: %s", err)
        }
    }
    fmt.Println(buf.String())
} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-26T04:18:39.683

你想要[http://godoc.org/code.google.com/p/go.net/html#ParseFragment](http://godoc.org/code.google.com/p/go.net/html#ParseFragment)。传入一个假的 Body 元素作为您的上下文，该片段将作为片段中元素的切片返回。

您可以在 go-html-transform 的 go.net/html 包装器包的 Partial* 函数中看到一个示例。[https://code.google.com/p/go-html-transform/source/browse/h5/h5.go#32](https://code.google.com/p/go-html-transform/source/browse/h5/h5.go#32)

# java - 从 Java BlockingQueue 获取之前检查

> ID：15081121
> 
> 赞同：0
> 
> 时间：2013-02-26T04:01:31.193
> 
> 标签：java, concurrency

我遇到的问题类似于单个生产者多消费者问题。除了消费者是“不同的”，我需要一种在购买新商品之前“偷看”新商品的方法（以检查它的用途）。

*问题实际上是服务于多个客户端线程的单个服务器线程。客户端将请求信息，然后服务器应回复此客户端*

我怎样才能做到这一点？一种可能性是像这样的循环：

```
while (true) {
    if (q.peek() ... check here ...) {
        // do something
    } else {
        Sleep(...); // prevent taking up too much CPU?
    }
} 
```

但似乎并不理想/对吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T04:09:57.340

这里有两个选项：

选项 1\. 让队列中的一个消费者取出物品并将它们委托给“真正的”消费者。这需要您做很多工作，因为您的主要消费者必须知道哪些“真正的”消费者很忙。此外，如果“真正的”消费者之一比其他消费者占用更多资源，则它有可能在主要消费者等待传递消息时阻塞队列。

更好的解决方案是：

选项 2\. 为每种类型的消费者使用一个队列。您的生产者将确定每种消息类型属于哪个队列并将其放入正确的队列中。然后每个消费者将从它感兴趣的队列中拉出。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T04:27:35.713

您可能需要通过在单个块中同步它们来使以下操作成为原子操作。

```
// Make sure queue is final. If not, use a final Object monitor.
synchronized(queue) {
    queue.peek
    queue.pool
} 
```

这是为了确保在您的消费者线程发现队列包含正确的目标消息（通过`BlockingQueue.peek`）后，它可以消费消息（通过`BlockingQueue.pool`）

不过，您的解决方案并不理想。您正在实施一种名为 的技术`busy pooling`，这会浪费大量 CPU 资源。你没有利用`BlockingQueue.pool`. `BlockingQueue.pool`将使您的消费者线程处于等待阶段，直到数据可用。

为了充分利用`BlockingQueue.pool`，每个消费者线程都应该拥有自己的队列。这样他们就可以只打电话`pool`而不必执行忙碌`peek`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T04:41:57.827

也许最好不要使用 BlockingQueue：

```
public class Synchronizer {
    Object obj;

    synchronized void put(Object obj) throws InterruptedException {
        this.obj = obj;
        notifyAll();
        while(obj != null) {
            wait();
        }
    }

    synchronized Object take() throws InterruptedException {
        for(;;) {
            wait();
            if (obj instanceof MyObject) {
                notifyAll();
                Object tmp = obj;
                obj = null;
                return tmp;
            }
        }
    }
} 
```

尽管可能存在从 BlockingQueue 消耗的 Synchronzer 版本

# php - JSON：在 json_encode 之前构建 JSON 数据

> ID：15081122
> 
> 赞同：0
> 
> 时间：2013-02-26T04:01:33.177
> 
> 标签：php, json

嗨，我很不擅长构建 JSON 数据，因为我想更好地理解 JSON。我已经阅读了 JSON.org，但它的信息非常有限。因此我对 JSON 的理解很差。但是我更接近得到结果。

```
$data = array('title'=>'JSON Sample Data',
'items'=> array('name' => 'text','value' => 'text date'),
('name' => 'integer','value' => 100),
('name' => 'float','value' => 5.65),
('name' => 'boolean','value' =>false)
);

$output = json_encode($data);
print_r ($output);
echo $output; 
```

所以我在这里遇到了错误，我不知道 JSON 结构出了什么问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T04:04:28.400

您构建错误（语法错误 - 缺少`array`关键字）：

```
$data = array(
    'title' => 'JSON Sample Data',
    'items' => array(
        array('name' => 'text','value' => 'text date'),
        array('name' => 'integer','value' => 100),
        array('name' => 'float','value' => 5.65),
        array('name' => 'boolean','value' =>false),
        ),
    ); 
```

好的缩进会让你走很长一段路。:)

# c - 不能在 pthread 之间共享变量，值不同

> ID：15081128
> 
> 赞同：1
> 
> 时间：2013-02-26T04:02:15.707
> 
> 标签：c, multithreading, struct, pthreads

我正在尝试使用线程池对 Web 服务器进行编程，主线程在其中建立连接，将其传递给线程，然后线程对其进行处理。

我为每个线程都有一个结构，还有一个 workQueue 来保存它们

```
struct worker {
    pthread_t* thread;
    struct queue* workerQueue;
    char* busy;
    int connfd;
    int id;
};

struct queue {
    int start;
    int end;
    int size;
    struct worker* workers;
}; 
```

主线程设置队列和线程，并循环连接

```
 struct queue* workerQueue;
            workerQueue = (struct queue*) constructQueue(10);
            int j;
            int* testParam;
            //create workers and put in queue
            for(j=0;j<5;j++)
            {
                struct worker* w = &(workerQueue->workers[j]);
                w = (struct worker*)constructWorker(processConnection,testParam, workerQueue,j);
                queueAdd(workerQueue,w);
            }
connection = accept(fd, (struct sockaddr *) &cliaddr, &cliaddrlen);
        puts("got connection\n");

         w =(struct worker*) queueRemove(workerQueue);
        //w->connfd = connection;
        w->busy = "BUSY";
        printf("Worker %d has accepted a connection and is %s\n",w->id,w->busy); 
```

使用这两个功能..

```
 struct queue* constructQueue(int numThreads)
    {
        struct queue* q = (struct queue *)malloc(sizeof(struct queue));
        q->start = 0;
        q->end = 0;
        q->workers = (struct worker* )malloc(sizeof(struct worker)*numThreads);
        q->size = numThreads;
        return q;
    }

struct worker* constructWorker(void* (*function)(void*),void* param, struct queue* wq, int i)
{
    struct worker* w = (struct worker*)malloc(sizeof(struct worker));
    w->workerQueue = wq;
    char * busy = (char*)malloc(10);
    w->busy= "IDLE";
    w->connfd = 0;
    w->id = i;
    pthread_t t;
    w->thread = &t; 
    pthread_create(w->thread,NULL,function,w);
    return w;
} 
```

...线程使用的功能是

```
void* processConnection(void* serverThread)
{
        //cast serverthread
        struct worker* w;
        char* b;
        int threadID;
        w = (struct worker*)serverThread;
        b = w->busy;
        threadID = w->id;

        while (1)
        {
            char c[10];
            printf("\nbusy: %s, thread: %d\n",b,threadID);
            gets(c) 
```

;

我想要发生的是：创建工人，忙设置为空闲，并开始忙于等待。然后在主循环中，一个连接被接受并分配给一个worker，worker的busy值被设置为BUSY。然后在 processConnections 中，如果一个线程很忙，它应该实际处理它。问题是，虽然我的队列包含指针而不是值，但当我在主线程中更新工作人员时，它似乎不会影响 processConnection 中工作人员的值。我可以将busy设置为BUSY并让它在主循环中打印出来，但是busy的值在processConnection中总是IDLE。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:33:19.290

尝试更改`busy`to的定义

```
volatile char * busy; 
```

这告诉编译器这个变量的值可以在代码运行时改变，即使代码没有显式访问那个变量。

但是，您还有许多其他问题。例如，

```
char * busy = (char*)malloc(10);
w->busy= "IDLE"; 
```

将泄漏已分配的内存`malloc`。不要尝试使用字符串来跟踪状态。`enum {IDLE, BUSY}`而是定义一个并定义`busy`为该类型的变量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T04:46:29.723

您可能没有在另一个线程中看到更新的值，因为线程之间没有同步点。编译器优化和缓存（内）一致性是发生这种情况的两个原因。要保持相同的策略，您需要一个内存屏障。如果使用 gcc，最简单的方法是`__sync_synchronize()`在读取共享数据之前和写入共享数据之后放置。

您需要解决的另一件事是当您这样做时

```
pthread_t t;
w->thread = &t; 
```

在该函数返回后，内存`t`很容易被重用。您不能获取局部变量的地址并将其存储在超出函数生命周期的方式中。正确的做法是在其中输入一个`pthread_t`字段`struct worker`并将该字段的地址传递给`pthread_create`：

```
pthread_create(&w->thread, ...); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T20:21:56.573

我建议添加 2 个互斥锁，一个在工作线程，一个在队列

```
 struct worker {
      pthread_t* thread;
      struct queue* workerQueue;
      mutex_t QueueMutex;
      char* busy;
      int connfd;
      int id;
      };`

   struct queue {
       int start;
       int end;
       int size;
       mutex_t workermutex;
       struct worker* workers;
   }; 
```

您的代码应如下所示

创建新套接字时，锁定workermutex，然后分配一个连接

工作线程每次都会锁定 QueueMutex 并从队列中添加/删除数据以进行处理。

# java - 我无法让我提交的 UVA 挑战“3n+1”被接受。我一直得到的只是运行时错误。我能解决什么问题？

> ID：15081135
> 
> 赞同：-1
> 
> 时间：2013-02-26T04:02:58.010
> 
> 标签：java, algorithm, runtime

无论我改变什么或尝试做什么，我都无法让我的代码工作。我认为这与 UVA java 提交方式的格式不明确有关。我已经尝试删除所有方法上的“公共”，更改 Main 抛出的异常，更改开始时 while 循环的工作方式，但似乎没有。我还可以做些什么？

```
import java.util.*;
import java.io.*;

public class Main
{
    public static void main(String[] args) throws NumberFormatException, IOException
    {
        Scanner file = new Scanner(System.in);

        while(file.hasNextLine())
        {
            String line = file.nextLine();
            if(line.equals(""))
                System.exit(0);
            String[] temp = line.split(" ");

            int i = Integer.parseInt(temp[0]);
            int j = Integer.parseInt(temp[1]);
            int cycle = findCycle(i, j);

            System.out.println(i + " " + j + " " + cycle);

        }
    }

    public static int findCycle(int i, int j){
        int sentNum = i;
        int cycles = 0;
        while(sentNum <= j){
            int n = cycle(sentNum);
            if(n > cycles){
                cycles = n;
            }
            sentNum++;
        }
        return cycles;

    }

   public static int cycle(int i){
        int count = 0;

        while(true){
            count++;
            if(i == 1)
                return count;
            else if(i % 2 == 1)
                i = 3*i + 1;
            else
                i = i/2;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T04:09:27.013

您是否*阅读* 过有关提交 Java 解决方案的常见问题解答？

[http://uva.onlinejudge.org/index.php?option=com_content&task=view&id=15&Itemid=30](http://uva.onlinejudge.org/index.php?option=com_content&task=view&id=15&Itemid=30)

我引用：

> 不要使用公共类：即使 Main 也必须是非公共的，以避免编译错误。

# asp.net-mvc-4 - AJAX 与 MVC4 级联

> ID：15081139
> 
> 赞同：1
> 
> 时间：2013-02-26T04:03:22.607
> 
> 标签：asp.net-mvc-4

我使用以下方法`Async`使用`AJAX`. 这在单击时工作正常`submit`。但我想知道，是否可以`ActionMethod`通过`AJAX`.

我想实现类似级联下拉菜单的东西。如何`ActionMethod`通过`AJAX`下拉值更改调用不同的？

`ActionMethod`这是在提交表单时只调用一个的代码。

**看法**

```
@{
ViewBag.Title = "Index";
var options = new AjaxOptions()
{
    Url = Url.Action("Index", "City"),
    LoadingElementId = "saving",
    LoadingElementDuration = 2000,
    Confirm = "Are you sure you want to submit?"
};  
}

<h2>Index</h2>

@using (Ajax.BeginForm(options))
{
    <div id="saving">Loading...</div>
    @Html.DropDownList("Countries",ViewBag.Countries as SelectList)<input type="submit" />
} 
```

**控制器**

```
public ActionResult Index()
{
    IEnumerable<SelectListItem> selectListItems = new [] 
                                                    { 
                                                      new SelectListItem{ Text = "US",Value = "1" } 
                                                    };

    ViewBag.Countries = selectListItems;

    return View();
}

public ActionResult GetState(string countryId)
{
    IEnumerable<SelectListItem> selectListItems = new[] 
                                                { 
                                                  new SelectListItem { Text = "Tennesse", Value = "1" },
                                                  new SelectListItem { Text = "Newyork", Value = "2" }
                                                };

        return View();        
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T05:08:58.090

你的第一个问题的答案`"is that possible to call various ActionMethods in a controller via AJAX"`是肯定的。您可以通过 Ajax 从控制器调用任何操作方法，但生成的唯一结果取决于各种事情，例如您是发送视图还是部分视图还是 JSON 结果。

对于你的下一个问题：

我将发布一些代码

`Controller.cs`

```
public JsonResult getCity(string country)
    {
        var temp = (from cntry in db.Table3.OrderBy(s => s.country)
                    where (string.Compare(cntry.country, country) == 0)
                    select cntry.city).ToList();
        return Json(temp, JsonRequestBehavior.AllowGet);
    } 
```

`View`

```
<h1>
Countries</h1>
<select name="countries" class="combo">
<option value=""></option>

@{
    foreach (var t in (List<string>)ViewBag.countries)
    {
    <option value=@t>@t</option>
    }
}
 </select>
<h1>
State</h1>
<select name="city" class="combo2">
</select>
<div id="tese">
</div>
@*
The following jquery code finds the selected option from country dropdown 
and then sends an ajax call to the Home/getcity method 
and finally populate it to the city dropdown 
*@
<script type="text/javascript">
$('body').on('change', '.combo', function () {
    var selectedValue = $(this).val();
    alert(selectedValue);
    $.get("/Home/getcity", { country: selectedValue }, function (data) {
        $("#tese").html(data);
        $(".combo2").html("<option value = \"\"></option>")
        $.each(data, function (index, value) {
            $(".combo2").append("<option value = \"" + value + "\">" + value + "</option>");
        });
        $(".combo2").html()
    });
});
</script> 
```

这将显示国家列表的下拉列表。选择一个国家后，它将呈现一个新的城市列表下拉列表

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-02-12T14:01:51.723

```
public JsonResult getCity(string country)
    {
        var temp = (from cntry in db.Table3.OrderBy(s => s.country)
                    where (string.Compare(cntry.country, country) == 0)
                    select cntry.city).ToList();
        return Json(temp, JsonRequestBehavior.AllowGet);
    } 
```

看法

```
<h1>
Countries</h1>
<select name="countries" class="combo">
<option value=""></option>

@{
    foreach (var t in (List<string>)ViewBag.countries)
    {
    <option value=@t>@t</option>
    }
}
 </select>
<h1>
State</h1>
<select name="city" class="combo2">
</select>
<div id="tese">
</div>
@*
The following jquery code finds the selected option from country dropdown 
and then sends an ajax call to the Home/getcity method 
and finally populate it to the city dropdown 
*@
<script type="text/javascript">
$('body').on('change', '.combo', function () {
    var selectedValue = $(this).val();
    alert(selectedValue);
    $.get("/Home/getcity", { country: selectedValue }, function (data) {
        $("#tese").html(data);
        $(".combo2").html("<option value = \"\"></option>")
        $.each(data, function (index, value) {
            $(".combo2").append("<option value = \"" + value + "\">" + value + "</option>");
        });
        $(".combo2").html()
    });
});
</script> 
```

# git - git 两个版本的软件（免费和付费）

> ID：15081145
> 
> 赞同：0
> 
> 时间：2013-02-26T04:04:04.720
> 
> 标签：git, version-control, architecture

是否可以使用 git 或任何 VCS 在一个存储库中维护本质上相同软件的两个版本（“免费”版本和付费版本）？我设想一个主分支（可能是“免费”分支）和一个付费分支，我将“免费”分支合并到其中。

我对这方面不是很精通，所以我的想法和术语可能并不完全准确。我没有尝试过，即使它有效，它也可能不是最好的方法。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T04:31:41.653

这样的业务逻辑应该在构建策略中实现。使用 git 保留两个相似的代码库是一个很大的 NO NO。

即使在 PHP 这样的解释性语言中，您仍然需要构建。您的代码不应直接从源代码中使用。至少你需要为生产模式编译 CSS、Javascript 等。所以建站是必须的。

现在是您的免费和付费版本。不知道你是怎么区分的。我想更好的逻辑是通过插件或模块。付费版本具有更多或更好的功能，可以通过包含单独的插件或模块来完成。

所以现在逻辑很简单：

1.  您保留一个公共回购以提供您的免费版本。
2.  您为付费版本保留一个私人仓库，其中包括 1) 高级插件/模块。2）构建策略以获取免费回购并编译付费版本。

# .htaccess - 从站点中的所有 URL 中删除尾部斜杠

> ID：15081146
> 
> 赞同：6
> 
> 时间：2013-02-26T04:04:21.617
> 
> 标签：.htaccess, trailing-slash

我对整个 .htaccess 东西有点陌生，我一直在尝试修改它，以便我的任何链接都不会在其各自 URL 的末尾带有斜杠。我的网站是filmblurb.org。

Wordpress 开始和结束的 .htaccess 代码如下所示：

```
# BEGIN WordPress
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
</IfModule>

# END WordPress 
```

如果有人能引导我朝着正确的方向解决这个问题，我将不胜感激。谢谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-26T04:41:51.290

您可以添加一个 RewriteRule 来消除尾部斜杠：

```
RewriteRule ^(.*)/$ $1 [R=301,L] 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T12:30:55.177

该问题不是由 .htaccess 引起的，而是由 wordpress 永久链接和 .htaccess 的组合引起的。

1.  登录到您的站点并导航到永久链接，然后如果您没有使用自定义结构选项，请切换到它并确保末尾没有斜杠：

    ```
    /%category%/%postname% 
    ```

2.  然后将其添加到您的 .htaccess 文件中，在

    ```
    RedirectMatch 301 ^(.*)/$ /$1 
    ```

这比使用重写要好，因为它是重定向而不是重写。

如果这仍然不起作用，那么我建议您安装 yoast seo 插件，并且其中有一个设置可以执行此操作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-11-24T07:03:12.373

这对我有用；从所有路由中删除所有尾部斜杠，同时强调 REQUEST_URI 以斜杠开头（至少在 .htaccess 文件中）：

```
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} /(.*)/$
RewriteRule ^ /%1 [R=301,L] 
```

只是**不要使用** `%{REQUEST_URI} (.*)/$`. 因为在根目录中，REQUEST_URI 等于 /，前导斜杠，它会被误解为尾部斜杠。

**来源：** [https ://stackoverflow.com/a/27264788/2732184](https://stackoverflow.com/a/27264788/2732184)

# ios - 如何编辑实体中某些属性的值？

> ID：15081147
> 
> 赞同：1
> 
> 时间：2013-02-26T04:04:24.703
> 
> 标签：ios, core-data, editing

如何通过点击按钮来编辑`CoreData`实体中某些字段的值？`(SQLite)`

例如，在我的`UITableViewCell`我有按钮。我想要这个按钮来改变一些布尔字段的值。第一次点击我想写`YES`，第二次点击 - `NO`。

1.Join是手动创建的join表成分<->>Join<<->Recipes

2._ingredientInfo 仅包含 1 条记录

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"cellIngredient";
    IngredientCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[IngredientCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
    }

    // Configure the cell...

    Ingredients *ingredient = [ingredientsArray_ objectAtIndex:indexPath.row];
    cell.nameLabel.text = ingredient.name;

    //Указываем что-то типа DataSource
    AppDelegate *appDelegate = (AppDelegate *)[[UIApplication sharedApplication] delegate];
    NSManagedObjectContext *context = appDelegate.managedObjectContext;
    if (context != nil) {
        NSFetchRequest *request = [[NSFetchRequest alloc] init];
        NSPredicate *predicate = [NSPredicate predicateWithFormat:@"inRecipe == %@ AND ingredient == %@", self.recipe, ingredient];
        NSEntityDescription *entity = [NSEntityDescription entityForName:@"Join" inManagedObjectContext:context];
        [request setEntity:entity];
        [request setPredicate:predicate];

        NSError *error = nil;
        NSMutableArray *mutableFetchResult = [[context executeFetchRequest:request error:&error] mutableCopy];
        if (mutableFetchResult == nil) {
            NSLog(@"No fetched objects!!!");
            abort();
        }
        _ingredientInfo = [mutableFetchResult objectAtIndex:0];
    }

    cell.countLabel.text = [NSString stringWithFormat:@"%@", _ingredientInfo.count];
    if (_ingredientInfo.inCart == [NSNumber numberWithInt:0]) {
        cell.toCartBtn.imageView.image = [UIImage imageNamed:@"runTo.png"];
    }
    else {
        cell.toCartBtn.imageView.image = [UIImage imageNamed:@"inCart.png"];
    }
    cell.unitLabel.text = ingredient.units;

    return cell;
} 
```

当我点击按钮**cell.toCartBtn**

```
- (IBAction)toCart:(id)sender
{
    if (_ingredientInfo.inCart == [NSNumber numberWithInt:0]) {
        _ingredientInfo.inCart = [NSNumber numberWithInt:1];
    }
    else {
        _ingredientInfo.inCart = [NSNumber numberWithInt:0];
    }
    NSError *error = nil;
    AppDelegate *appDelegate = (AppDelegate *)[[UIApplication sharedApplication] delegate];
    if ([appDelegate.managedObjectContext save:&error]) {

        [self.ingredientsTableView reloadData];
    }
    else {
        NSLog(@"Error updating");
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T04:15:06.680

首先获取要修改的对象

```
NSFetchRequest *fetchRequest = [[NSFetchRequest alloc] init];
NSEntityDescription *entity = [NSEntityDescription entityForName:@"entityName" inManagedObjectContext:managedObjectContext];
[fetchRequest setEntity:entity];
[fetchRequest setPredicate:[NSPredicate predicateWithFormat:@"(id == %@)", eID]];
NSError *error;

NSArray *details = [managedObjectContext executeFetchRequest:fetchRequest error:&error];
entityName *objEntity= nil;
//error handling goes here
if([details count] > 0)
    objEntity = (entityName *)[details objectAtIndex:0]; 
```

现在在插入时更新该实体

```
 if(objEntity){
    club.fieldName = @"YES";
    NSError *error = nil;
    if(![self.managedObjectContext save:&error])
        NSLog(@"Error updating");
} 
```

# javascript - 将 GeoJSON 标记加载到 MapBox

> ID：15081154
> 
> 赞同：2
> 
> 时间：2013-02-26T04:04:59.413
> 
> 标签：javascript, maps, geojson, mapbox

我试图弄清楚如何将 lon/lat 坐标上的 GeoJSON 列表加载到[MapBox](http://mapbox.com/)地图中。我想我已经接近了，我似乎无法让它真正发挥作用。

我在这里设置了一个演示页面：http: [//sandbox.charliehield.com/mapbox/](http://sandbox.charliehield.com/mapbox/)

这是 GeoJSON 文件：

```
{
  "type": "MultiPoint",
  "coordinates": [
    [
      "-105.277803",
      "40.006977"
    ],
    [
      "-93.304988",
      "44.947198"
    ],
    [
      "151.206990",
      "-33.867487"
    ]
  ]
} 
```

HTML 很简单：

```
<div id="map"></div> 
```

和 JS：

```
var map = mapbox.map('map');
map.addLayer(mapbox.layer().id('examples.map-zr0njcqy'));
map.ui.zoomer.add();

// example.geojson is a well-formed GeoJSON document. For this
// style, the file must be on the same domain name as the map,
// or loading will not work due to cross-domain request restrictions

var markers = mapbox.markers.layer().url('markers.geojson');
mapbox.markers.interaction(markers);
map.addLayer(markers);

// Zoom and center the map
map.zoom(2).center({ lat: 39.74739, lon: -105 }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T05:06:20.020

`geometry`看起来您需要使用对象和键值对更明确地格式化您的 geojson 。请参阅[http://mapbox.com/mapbox.js/example/custom-marker-tooltip](http://mapbox.com/mapbox.js/example/custom-marker-tooltip)作为示例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-20T02:56:58.307

我在将 geojson 加载到我的 mapbox 地图时遇到了同样的问题。JS中的注释其实指出了原因：存在跨域请求限制。

您可以检查[相同的来源策略](http://en.wikipedia.org/wiki/Same-origin_policy)，并希望在其他地方运行应用程序。

# path - 如何删除cygwin中的特定路径

> ID：15081156
> 
> 赞同：3
> 
> 时间：2013-02-26T04:05:10.270
> 
> 标签：path, cygwin

我想问一下如何在cygwin中删除路径。假设我有 3 条路径：

```
PATH=path1:path2:path3 
```

我想删除 path2 所以它将是：

```
PATH=path1:path3 
```

但实际上我里面有很多路径，手动重写它会很痛苦。有什么建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T04:15:25.810

一个简单的解决方案是使用`bash`or`csh`命令行：

```
 export PATH=`echo $PATH | sed s/:path2//` 
```

但这只会在 99.9% 的情况下有效。要处理边缘情况，例如何时`path2`开始，或者它是另一条路径的一部分，您需要：

```
 export PATH=`echo $PATH | sed "s/:path2:/:/g;s/^path2://;s/:path2$//"` 
```

# java - JTable 单元格渲染器跳过布尔列

> ID：15081160
> 
> 赞同：2
> 
> 时间：2013-02-26T04:05:46.310
> 
> 标签：java, swing, jtable, tablemodel, tablecellrenderer

下面是我的一张照片`JTable`。我的问题是第 4 列中不存在每隔一行的蓝色背景。我的表格模型和单元格渲染器也在下面。

![在此处输入图像描述](../Images/aec239be054e975b05885bfcfb7debcb.png)

表型号：

```
public class MyTableModel extends DefaultTableModel {
    public int getColumnCount() {
        return columnNames.length;
    }

    public String getColumnName(int column) {
        return columnNames[column];
    }

    public int getRowCount() {
        return data.length;
    }

    public Object getValueAt(int row, int column) {
        return data[row][column];
    }

    public Class getColumnClass(int column) {
        return (getValueAt(0, column).getClass());
    }

    public void setValueAt(Object value, int row, int column) {
        data[row][column] = value;
    }

    public boolean isCellEditable(int row, int column) {
        return (column == 3);
    }
    } 
```

单元格渲染器：

```
 private class CalendarRenderer extends DefaultTableCellRenderer {
    private static final long serialVersionUID = 1L;

    public Component getTableCellRendererComponent(JTable table, Object value, boolean selected, boolean focused, int row, int column) {
        super.getTableCellRendererComponent(table, value, selected, focused, row, column);

        setBackground(new Color(0xFFFFFF));

        if (row % 2 == 1) {
        setBackground(new Color(0xE8F2FE)); //light blue
        }

        setBorder(null);
        setForeground(Color.black);
        return this;
    }
    } 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-26T04:21:40.523

“默认”单元格渲染器`Boolean`是一个复选框。如果你想改变这个单元格的渲染方式，你将不得不提供你自己的`TableCellRenderer`来实现你自己的逻辑。

![在此处输入图像描述](../Images/2b9117ee6cb93ffd5f52422aaa954bc6.png)

```
import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Component;
import java.awt.EventQueue;
import java.awt.GridBagLayout;
import java.awt.Insets;
import java.util.ArrayList;
import java.util.List;
import javax.swing.JCheckBox;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.UIManager;
import javax.swing.UnsupportedLookAndFeelException;
import javax.swing.border.Border;
import javax.swing.border.EmptyBorder;
import javax.swing.table.AbstractTableModel;
import javax.swing.table.TableCellRenderer;

public class TestTableCellRenderer {

    public static void main(String[] args) {
        new TestTableCellRenderer();
    }

    public TestTableCellRenderer() {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {
                }

                JTable table = new JTable();
                table.setModel(new TableModel());
                table.setDefaultRenderer(Boolean.class, new BooleanCellRenderer());

                JFrame frame = new JFrame("Testing");
                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                frame.setLayout(new BorderLayout());
                frame.add(new JScrollPane(table));
                frame.pack();
                frame.setLocationRelativeTo(null);
                frame.setVisible(true);
            }
        });
    }

    public class TableModel extends AbstractTableModel {

        private List<Boolean> values = new ArrayList<>(25);

        public TableModel() {
            for (int index = 0; index < 25; index++) {
                values.add((((int) Math.round(Math.random() * 1)) == 0 ? false : true));
            }
        }

        @Override
        public int getRowCount() {
            return values.size();
        }

        @Override
        public int getColumnCount() {
            return 1;
        }

        @Override
        public Object getValueAt(int rowIndex, int columnIndex) {
            return values.get(rowIndex);
        }

        @Override
        public Class<?> getColumnClass(int columnIndex) {
            return Boolean.class;
        }
    }

    public static class BooleanCellRenderer extends JCheckBox implements TableCellRenderer {

        private static final Border noFocusBorder = new EmptyBorder(1, 1, 1, 1);

        public BooleanCellRenderer() {
            setLayout(new GridBagLayout());
            setMargin(new Insets(0, 0, 0, 0));
            setHorizontalAlignment(JLabel.CENTER);
        }

        @Override
        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {
            if (value instanceof Boolean) {
                setSelected((Boolean) value);
            }
            if (!isSelected) {
                setBackground(new Color(0xFFFFFF));
                if (row % 2 == 1) {
                    setBackground(new Color(0xE8F2FE)); //light blue
                }
                setForeground(Color.black);
            } else {
                setForeground(table.getSelectionForeground());
                setBackground(table.getSelectionBackground());
            }
            if (hasFocus) {
                setBorder(UIManager.getBorder("Table.focusCellHighlightBorder"));
            } else {
                setBorder(noFocusBorder);
            }
            return this;
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-26T05:07:11.660

See [Table Row Rendering](http://tips4java.wordpress.com/2010/01/24/table-row-rendering/) for a solution that doesn't require you to keep creating custom renderers every time you have columns with different data.

```
JTable table = new JTable( model )
{
    public Component prepareRenderer(TableCellRenderer renderer, int row, int column)
    {
        Component c = super.prepareRenderer(renderer, row, column);

        //  Alternate row color

        if (!isRowSelected(row))
            c.setBackground(row % 2 == 0 ? getBackground() : Color.LIGHT_GRAY);

        return c;
    }
}; 
```

# bash - condor：提交 bash 作业时引用不匹配的引号

> ID：15081161
> 
> 赞同：0
> 
> 时间：2013-02-26T04:05:54.023
> 
> 标签：bash, condor

我为一个工作写了一个 conder 脚本并`condor_submit`用来提交这个工作。下面是我的脚本：

```
Executable=/bin/bash
Arguments=" -c "" command_to_run -d -f"" "

initialdir= /path/
output=/path/out
error=/path/err
log=/path/log
universe = vanilla 
Getenv = true
Queue 
```

如上所示，可执行文件是`bash`，我`-c`用来将命令作为字符串传递给 bash。`err`作业提交正常，但我在输出文件中收到以下错误消息：

```
command_to_run: -c: line 0: unexpected EOF while looking for matching `"'
command_to_run: -c: line 1: syntax error: unexpected end of file 
```

这只是 bash 抱怨不匹配的双引号。但是双引号对我来说看起来不错。我不知道问题是什么。这似乎是一个秃鹰问题。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-03T18:20:26.063

如果您只是传递`-c`给 bash ，那么单引号就足够了（除非您尝试嵌入变量）：

```
Arguments=" -c 'command_to_run -d -f' " 
```

# google-app-engine - 使用 Matplotlib 和 Google App Engine 的直方图

> ID：15081165
> 
> 赞同：2
> 
> 时间：2013-02-26T04:06:14.467
> 
> 标签：google-app-engine, matplotlib, histogram

我一直在尝试使用 matplotLib 基本上使用用户选择的图像制作像素直方图。用户使用 JCROP 选择图像的一部分，然后当他/她提交按钮时，PlotsHandlers，post 方法获取参数。然后我裁剪它并尝试使用[此处描述的方法](http://gae-matplotlib-demo.appspot.com/)显示直方图来绘制它。我正在通过部署它进行测试，但它不起作用。有人可以指导我如何在 GAE 中使用 matplotlib 绘制直方图（或任何其他数据）。

```
import os
import webapp2
import re
import jinja2
import Image
import ImageOps
import logging
import numpy as np
import matplotlib.pyplot as plt

template_dir = os.path.join(os.path.dirname(__file__), 'templates')
jinja_env= jinja2.Environment(loader = jinja2.FileSystemLoader(template_dir), autoescape = True)
PAGE_RE = r'(/(?:[a-zA-Z0-9_-]+/?)*)'

def render_str(template, **params):
    t = jinja_env.get_template(template)
    return t.render(params)

#Opens the image and Grayscales it
def openAndGrayScaleImage(imageLocationString):
    OpenedImage = Image.open(imageLocationString)
    return ImageOps.grayscale(OpenedImage)

def cropImage(image, x1, y1, x2, y2):
    box = (x1, y1, x2, y2)
    return image.crop(box)  

class BaseHandler(webapp2.RequestHandler):
    def render(self, template, **kw):
        self.response.out.write(render_str(template, **kw))

    def write(self, *a, **kw):
        self.response.out.write(*a, **kw)

class MainHandler(BaseHandler):
    def get(self):
        self.render("mainPage.html")

class PlotsHandler(BaseHandler):
    def get(self):
        self.redirect('/')

def post(self):
        image1 = openAndGrayScaleImage("images.jpg")
        #Parameters for cropping. Verified that it's working
            x1 = int(self.request.get('x1'))
        y1 = int(self.request.get('y1'))
        x2 = int(self.request.get('x2'))
        y2 = int(self.request.get('y2'))
        image2 = cropImage(image1, x1, y1, x2, y2)
        #Get the sequence of pixels
            values_= list(image2.getdata())
        n, bins, patches = plt.hist(values_, 256/2, normed=1, facecolor ='blue', alpha = .75)
        plt.xlabel('Light Intensity')
        plt.ylabel('Probability')
        plt.title('Normalized distribution of light')
        plt.axis([0, 255, 0, .3])
        plt.grid(True)
        rv = StringIO.StringIO()
        plt.savefig(rv, format = "png")
        imgb64 = rv.getvalue().encode("base64").strip()
        plt.clf()
        rv.close()
        self.response.write("""<html><body>""")
        self.response.write("<img src='data:image/png;base64,%s'/>" % img_b64)
        self.response.write("""</body> </html>""")

app = webapp2.WSGIApplication([('/', MainHandler),
                                ('/plots', PlotsHandler)],
                              debug=True) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T06:55:59.493

解决了这个问题。忘记在 app.yaml 中将 threadsafe 设置为 false。

# relational-algebra - 关系代数特定运算

> ID：15081167
> 
> 赞同：0
> 
> 时间：2013-02-26T04:06:26.673
> 
> 标签：relational-algebra

我有这些桌子

```
Employee(ssn, name, sex, address, salary, bdate, dno, superssn)
fk:superssn is ssn in Employee
fk:dno is dnumber in Department

Department(dnumber, dname, mgrssn, mgrstartdate)
fk:mgrssn is ssn in Employee

Dept_locations(dnumber, dlocation)
fk:dnumber is dnumber in Department

Project(pnumber, pname, plocation, dnum)
fk:dnum is dnumber in Department

Dependent(essn, dependent_name, sex, bdate, relationship)
fk: essn is ssn in Employee

Works_on(essn,pno,hours)
fk: essn is ssn in Employee; pno is pnumber in Project 
```

我想仅使用以下关系代数运算 {σ, π, ∪, ρ, −, ×} 来检索财务部门的位置列表。

到目前为止，我有：π dlocation（σ 部门（dname = 'research'））

我真的很困惑，很困惑......我不知道是否可以在没有等值连接操作的情况下做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T04:16:43.773

开始写评论，然后改变了主意。:)

如果您查看[Wikipedia](http://en.wikipedia.org/wiki/Relational_algebra#.CE.B8-join_and_equijoin)，您会发现这个等价物：

```
R ⋈_φ S = σ_φ(R × S) 
```

特别是在限制是平等的情况下，它是一个等值连接。这意味着，equijoin 相当于对两个表的笛卡尔积限制两个字段的相等性。

所以...

```
π_{dlocation}(
  σ_{dnumber = loc_dnumber}(
    σ_{dname = "finance"}(department)
    ×
    ρ_{loc_dnumber / dnumber}(dept_locations))) 
```

（我们需要使用重命名，以免进入无意义的`dnumber = dnumber`地方。）

# caching - 异步数据缓存 API (.NET)

> ID：15081168
> 
> 赞同：3
> 
> 时间：2013-02-26T04:06:39.163
> 
> 标签：caching, asynchronous, azure, distributed

我正在使用 DataCache API，它是 Windows Azure Caching Nuget 包的一部分，我想知道为什么没有办法对组成方法进行非阻塞调用。我错过了什么吗？我知道这些调用的延迟会很低，但它仍然是网络调用 - 如果您不使用本地缓存设置。

建议，想法？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-27T09:46:04.780

如果您想了解为什么库是这种方式，那么我会阅读[这篇](http://blogs.msdn.com/b/pfxteam/archive/2012/03/24/10287244.aspx)关于为同步方法公开异步包装器的文章。TL：博士；想要做异步有两个不同的原因，可扩展性和响应性。如果它对前者有帮助，你真的只需要一个方法的异步版本，后者你可以留给 API 的使用者，因为它很容易。

编辑：似乎人们在这个答案中错过了我的意图，所以我会尝试添加更多说明。

是的，缓存客户端*可能会*进行网络调用，而 MS 正试图让每个人都以非阻塞方式进行所有网络调用，以便应用程序保持响应。然而，这是一个缓存，它的设计速度非常快。如果您向缓存发出请求并且该项目不在本地缓存中（[根据 Scott Guthrie](http://weblogs.asp.net/scottgu/archive/2013/09/03/windows-azure-new-distributed-dedicated-high-performance-cache-service-more-cool-improvements.aspx)的说法），则响应应该需要 1 毫秒。鉴于响应速度如此之快（如果您使用本地缓存，它会更快），他们可能会通过创建任务在后台运行它来增加更多开销，而不是获得更多开销。

# jsf-2 - Primefaces 选择器不更新 panelGroup

> ID：15081170
> 
> 赞同：2
> 
> 时间：2013-02-26T04:06:48.370
> 
> 标签：jsf-2, primefaces, selector

我正在尝试 Primefaces 选择器，但它似乎无法更新`panelGroup`.

```
<h:panelGroup layout="block" styleClass="updateMe">
    <h:outputText value="#{bean.value}"/>
</h:panelGroup>
<h:form>
    <h:inputText value="#{bean.value}"/>
    <h:commandButton value="submit">
        <p:ajax process="@form" update="@(.updateMe)" oncomplete="alert(1)"/>
    </h:commandButton>
</h:form> 
```

在这种情况下，`panelGroup`永远不会更新。但是，如果我将其更改`panelGroup`为`<p:outputPanel>`，则效果很好。

观察生成的 HTML，唯一的区别是`<span>`生成的`panelGroup`没有`id`while 生成的`outputPanel`有`id`. 这可能是第一个没有更新的原因吗（cos jQuery选择器找不到组件ID？）

如果是这种情况，是否有任何其他组件没有任何 id 并且在使用 Primefaces 选择器时应该避免使用？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T09:11:19.400

当使用 Primefaces 选择器时，jQuery 用于在客户端选择组件，并发现它们的客户端 ID。当发送 AJAX 时，发送的参数之一是`javax.faces.partial.render`其值是应该更新的组件的客户端 ID。如果组件没有客户端 ID，则无法直接更新，例如可以更新父组件。提供 id 属性`panelGroup`并尝试使用 Primefaces 选择器对其进行更新。

# angularjs - 我们如何在 requirejs 模块中定义 angularjs 指令？

> ID：15081171
> 
> 赞同：8
> 
> 时间：2013-02-26T04:06:57.217
> 
> 标签：angularjs, requirejs

我不确定如何使用 requirejs 模块请求和定义指令。

这是我包含指令 directives/locationBtn.js 的文件的代码

```
 define(['Zf2NVIApp'], function (Zf2NVIApp) {
    'use strict';

    Zf2NVIApp.directive('locationBtn', function() {
        return {
            template: '<div></div>',
            restrict: 'E',
            link: function postLink(scope, element, attrs) {
                console.log("we are in the location btn module");
                element.text('this is the locationBtn directive');
            }
        };
    });

}); 
```

这是我的 main.js 文件的代码

```
require.config({
shim: {
},

paths: {
    angular: 'vendor/angular',
    jquery: 'vendor/jquery.min',
    locationBtn: 'directives/locationBtn'
}
});

require(['Zf2NVIApp', 'locationBtn'], function (app, locationBtn) {
// use app here
angular.bootstrap(document,['Zf2NVIApp']);
}); 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-26T07:36:12.423

你很近。鉴于您的“Zf2NVIApp.js”文件包含

```
define(['angular'], function(angular){
  return angular.module('Zf2NVIApp', []);
}); 
```

比您只需要返回指令 AMD 模块定义中的值，它应该可以工作：

```
define(['Zf2NVIApp'], function (Zf2NVIApp) {
  'use strict';

  Zf2NVIApp.directive('locationBtn', function() {
    return {
      template: '<div></div>',
      restrict: 'E',
      link: function postLink(scope, element, attrs) {
        console.log("we are in the location btn module");
        element.text('this is the locationBtn directive');
      }
    };
  });

  // You need to return something from this factory function
  return Zf2NVIApp;

}); 
```

# c++ - 如何从 ns2 后端文件执行 Sql 查询？

> ID：15081176
> 
> 赞同：-3
> 
> 时间：2013-02-26T04:07:46.637
> 
> 标签：c++, sql, tcl, ns2

是否可以从 ns2 后端文件执行 sql 查询？

还是在 tcl 中可行？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T08:18:49.773

您当然可以从 Tcl 执行 SQL 查询。建议您如何执行此操作的详细信息取决于您尝试访问的数据库和您使用的 Tcl 版本。

对于 Tcl 8.6，建议您使用 TDBC；有许多数据库（SQLite、PostgreSQL、MySQL）和 ODBC 的 TDBC 驱动程序，它允许访问更多的数据库引擎。SQLite 本身也带有完整的 Tcl 8.6 发行版。

对于 Tcl 8.5 及之前的版本，有许多数据库的扩展包，太多了，我不打算列出它们。如果我们知道您要使用哪个数据库，我们就能为您指出正确的代码片段来执行此操作。

在所有情况下，您的代码都会执行以下操作：

```
# Optionally, if needed...
lappend auto_path /the/location/of/the/extension/packages

# Make the code of the package available to your code
package require theDatabaseInterface

# The syntax of this will vary a lot...
theDatabaseInterface connect dbhandle "dbproto://user:pass@host/thedb"
dbhandle query {
    SELECT ...
} 
```

将视为and`package require`的更高级别，因此您无需了解包的实现方式或实际位置。它还支持版本控制，因此您可以安装多个版本。这使得管理更新变得更加容易。`source``load`

# hibernate - 未找到 FieldInterceptionHelper 类

> ID：15081183
> 
> 赞同：0
> 
> 时间：2013-02-26T04:08:37.143
> 
> 标签：hibernate, maven, tomcat, spring-mvc

我有两个具有相似代码的 spring mvc 应用程序。事实上，第二个应用程序是基于第一个应用程序，只是名称不同。但是在验证实体期间（插入之前）我收到以下错误：

```
SEVERE: Servlet.service() for servlet [mvc-dispatcher] in context with path [/MyNewApp] threw exception [Handler processing failed; nested exception is java.lang.NoClassDefFoundError: org/hibernate/intercept/FieldInterceptionHelper] with root cause
java.lang.ClassNotFoundException: org.hibernate.intercept.FieldInterceptionHelper
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1676)
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1521)
    at org.hibernate.ejb.util.PersistenceUtilHelper.isLoadedWithoutReference(PersistenceUtilHelper.java:47)
    at org.hibernate.ejb.HibernatePersistence$1.isLoadedWithoutReference(HibernatePersistence.java:89)
    at javax.persistence.Persistence$1.isLoaded(Persistence.java:93)
    at org.hibernate.validator.internal.engine.resolver.JPATraversableResolver.isReachable(JPATraversableResolver.java:57)
    at org.hibernate.validator.internal.engine.resolver.DefaultTraversableResolver.isReachable(DefaultTraversableResolver.java:130)
    at org.hibernate.validator.internal.engine.resolver.SingleThreadCachedTraversableResolver.isReachable(SingleThreadCachedTraversableResolver.java:46)
    at org.hibernate.validator.internal.engine.ValidatorImpl.isValidationRequired(ValidatorImpl.java:1221)
    at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraint(ValidatorImpl.java:438)
    at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForDefaultGroup(ValidatorImpl.java:387)
    at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:351)
    at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:303)
    at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:133)
    at org.springframework.validation.beanvalidation.SpringValidatorAdapter.validate(SpringValidatorAdapter.java:101)
    at org.springframework.validation.DataBinder.validate(DataBinder.java:722)
    at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.validateIfApplicable(ModelAttributeMethodProcessor.java:155)
    at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:108)
    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:75)
    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:156)
    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:117)
    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:96)
    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:617)
    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:578)
    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)
    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:923)
    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:852)
    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:882)
    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:789)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:641)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:304)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)
    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)
    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:54)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:183)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:105)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
    at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:125)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
    at org.springframework.security.web.access.channel.ChannelProcessingFilter.doFilter(ChannelProcessingFilter.java:144)
    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)
    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)
    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:259)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:240)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:164)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:462)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:562)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:395)
    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:250)
    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:188)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:302)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    at java.lang.Thread.run(Unknown Source) 
```

上述问题仅存在于第二个应用程序中。对于这两个应用程序，我在初始化期间尝试了以下代码：

```
System.out.println("Loading " + FieldInterceptionHelper.class.getName()); 
```

打印结果：加载**org.hibernate.bytecode.instrumentation.internal.FieldInterceptionHelper**

加载的 Class 与异常**org.hibernate.intercept.FieldInterceptionHelper不同**

**更新**

在我在第二个应用程序的 pom 文件中评论以下依赖项后，问题就消失了。我在 maven 存储库上检查了依赖项依赖于 hibernate-core，我是否必须删除自己的 hibernate-core 依赖项？或者我可以强制依赖引用我的应用程序中的当前休眠核心吗？

```
 <dependency>
        <groupId>org.broadleafcommerce</groupId>
        <artifactId>broadleaf-common</artifactId>
        <version>2.2.0-GA</version>
        <type>jar</type>
        <scope>compile</scope>
   </dependency> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T09:27:08.700

第二个应用程序没有正确获取 Hibernate JAR。请检查您的 WEB-INF/lib 以获取第二个应用程序。

# git-submodules - Git：将子模块文件检出到单个目录中

> ID：15081189
> 
> 赞同：1
> 
> 时间：2013-02-26T04:09:22.147
> 
> 标签：git-submodules

git submodules 可以将多个存储库作为子模块检出到各自的路径中，例如：

```
% git submodule add git@.../repo1.git ./here/is/1
% git submodule add git@.../repo2.git ./here/is/2 
```

但是，如果我需要将`repo1`和的内容检出`repo2`到单个路径中，该`./here/is/3`怎么办？

基本上我有一个公制的子模块存储库，当用户这样做时，我需要全部签出到客户端的一个非常严格的目录层次结构中`git clone --recursive ...`

我希望将*所有*子模块的内容签出到`./somepath`. 可以做到吗？

我考虑过的一件事是使用符号链接，但这感觉不对。

**编辑：**

我希望将上面的内容`1`放在`2`客户端的同一目标目录中。我可以通过让用户在克隆后手动运行脚本来做到这一点（[不可能让 git 跟踪单个文件](https://stackoverflow.com/questions/10503175/possible-to-have-git-track-a-single-file-from-an-external-repo)），但似乎应该有一种更简洁的方法来做到这一点——为每个子模块手动创建一个符号链接工作量很大，似乎子模块抽象应该能够处理这个问题。

也许我的问题是伪装的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T07:58:10.860

一种方法是创建*另一个*父仓库，其中直接声明子模块：

```
newParentRepo/
  1/
  2/
  3/
  ... 
```

该父 repo 可以被克隆 --recursive in `./somepath`，并且子模块将直接位于`./somepath`（在它们各自的根目录`1/`中`2/`，...）。

您需要将第一个父存储库记录的子模块的 SHA1 同步到第二个父存储库中，以便所述第二个存储库记录正确的子模块 SHA1 列表。

# arduino - Olimex EKG-EMG arduino shield（Linux 显示器）

> ID：15081195
> 
> 赞同：1
> 
> 时间：2013-02-26T04:09:57.610
> 
> 标签：arduino, ekg

最近我开始使用 Olimex 的 EKG/EMG arduino 防护罩：[EKG/EMG Shield](https://www.olimex.com/Products/Duino/Shields/SHIELD-EKG-EMG/ "EKG/EMG 防护罩")

该文档仅提供 Electric Guru 软件的参考资料，但该软件是封闭源代码，无法在 Linux 中运行。

我在互联网上搜索但我没有成功的结果。

我的问题是：是否有其他监控软件或任何示例来绘制电极捕获的信号？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-03-29T19:59:29.470

也许这对你有点帮助，我也在尝试构建一个开源组件

[http://bakerdh.wordpress.com/2013/01/31/a-first-look-at-the-olimex-eeg-smt/](http://bakerdh.wordpress.com/2013/01/31/a-first-look-at-the-olimex-eeg-smt/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-09T19:35:47.537

不像我知道的那样。

但是，查看正在转向 arduino 微控制器的源代码，协议相当简单。我的意思是这个：[https ://www.olimex.com/Products/Duino/Shields/SHIELD-EKG-EMG/resources/ShieldEkgEmgDemo.zip](https://www.olimex.com/Products/Duino/Shields/SHIELD-EKG-EMG/resources/ShieldEkgEmgDemo.zip)

如果我没记错的话，它会发送数据包：旋转数据包计数器 [count]，以及由 0xa5 0x5a 字节分隔的测量数组 [data]。

```
struct Olimexino328_packet
{
  uint8_t   sync0;      // = 0xa5
  uint8_t   sync1;      // = 0x5a
  uint8_t   version;    // = 2 (packet version)
  uint8_t   count;      // packet counter. Increases by 1 each packet.
  uint16_t  data[6];    // 10-bit sample (= 0 - 1023) in big endian (Motorola) format.
  uint8_t   switches;   // State of PD5 to PD2, in bits 3 to 0.
}; 
```

前段时间，我写了一个小的 python 脚本来连接它（还没有完成），你可以对数据做任何你想做的事情——绘图、酷计算和机器学习等。如果你有兴趣，我可以搜索并将源代码发送给您……最好在 3 月 15 日之后。

但是到目前为止，由于某种原因，它仅在启动 Electric Guru 一次后才开始接收数据。

干杯

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-05T17:11:31.483

我正在开发一个 Python 包以从[Olimex EKG/EMG shield](https://www.olimex.com/Products/Duino/Shields/SHIELD-EKG-EMG/)捕获数据。

[https://pypi.python.org/pypi](https://pypi.python.org/pypi)

我目前正在努力发布一个 pre-alpha 版本。

**更新**：

我刚刚将我之前提到的包的 alpha 版本推送到 PyPI。 [https://pypi.python.org/pypi/olimex-ekg-emg/0.1.0](https://pypi.python.org/pypi/olimex-ekg-emg/0.1.0)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-07-01T16:38:30.603

Arduino IDE 现在在工具菜单下内置了串行绘图仪。Olimex 提供了一个[很好的文档](https://www.olimex.com/Products/Duino/AVR/OLIMEXINO-2560/resources/Olimex2560-EKG.pdf)来连接所有东西，这是他们的代码：

```
const int analogInPin = A0;

void setup() {  
    Serial.begin(9600);
}

void loop() {  
    int sensorValue = analogRead(analogInPin);
    Serial.println(sensorValue);
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-04-22T01:56:50.033

我有一个 github 存储库，其中包含一个可能有用的处理 3 可视化工具。处理 3 与 Arduino IDE 非常相似。

[https://github.com/fractalbass/ekg_field_monitor/tree/master/processing/ECG_Display](https://github.com/fractalbass/ekg_field_monitor/tree/master/processing/ECG_Display)

我还有一篇博客文章详细介绍了该示例程序中发生的事情......

[https://pragmaticiot.wordpress.com/2016/04/13/i-got-rhythm/](https://pragmaticiot.wordpress.com/2016/04/13/i-got-rhythm/)

最后，您真正需要对屏蔽做的只是读取引脚 A0-A5 上的值。它们将包含您可以绘制以获取波形的值。

祝你好运

迈尔斯·波特 Mporter@paintedharmony.com

# html - 将输入固定到页面底部

> ID：15081196
> 
> 赞同：3
> 
> 时间：2013-02-26T04:09:59.613
> 
> 标签：html, css

在过去的几个小时里，我一直在为此挠头。我正在尝试制作一个保持在页面底部的输入字段，类似于 Omegle 聊天栏。

![我正在引用的 Omegle 聊天栏](../Images/104c0ee3c5b9329d634706993f429c39.png)

我已经将我的高度设置为 100%（好吧，99，因为如果它设置为 100，则页面有不必要的滚动条）并将 CSS`bottom`属性设置为`0`，但无论我尝试什么，该栏都保持在 10% 左右浮动页。

我的 CSS 代码是：

```
html {
height:99%;
width:99%;
}

input.chatbar {
bottom:0;
width:90%;
height:5%;

outline:none;
resize: none;

border:none;
border-bottom:#000 medium solid !important;
} 
```

我的 HTML 代码是

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Global Chat</title>
</head>
<body>
  <input class="chatbar" />
</body>
</html> 
```

[这](http://jsfiddle.net/NRKpH/)是它的JSFiddle 。

我希望它漂浮在页面上方并与用户一起滚动，就像 Omegle 栏一样。我该怎么做？

抱歉，我知道这是一个基本问题，但我在其他任何地方都找不到答案。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-26T04:12:17.100

添加`position: fixed;`到CSS

还要注意百分比高度。查看[最小和最大高度属性](https://developer.mozilla.org/en-US/docs/CSS/min-height)

# javascript - empty() 然后运行函数的其余部分

> ID：15081197
> 
> 赞同：0
> 
> 时间：2013-02-26T04:10:22.660
> 
> 标签：javascript, jquery

我有一些 json 加载到**li.ui-state-default**挂起的用户条目中。

然后用户可以输入新条目。每次加载新条目时，我都希望它清空**li.ui-state-default但它似乎只是保持为空。**

```
//data for DOM
var timeout = '';
$('.call-json').keyup(function () {
    clearTimeout(timeout);
    var val = this.value;
    timeout = setTimeout(function () {
        $('.ui-state-default').empty();
        $.getJSON('json/' + val + '.json', function (data) {
            // load data

            var items = [];
            for (key in data[0].attributes) {
                if (key.match('.stat.prop.type')) {
                    items.push(data[0].attributes[key])
                }
            };

            displaySortLabel(items, "type-details");

        function displaySortLabel(items, parentClass) {
                $('<span/>', {
                    'class': 'el-data',
                    html: items.join('')
                }).hide().fadeIn().appendTo('.' + parentClass + ' .sort-label');
            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T04:25:53.277

`li.ui-state-default`通过 using附加`.appendTo('.' + parentClass + ' .sort-label')`将不起作用，因为它会搜索 a`.sort-label`存在于该`parentClass`变量中。

确保在尝试追加时拥有正确的选择器。

此外，您不需要`hide()`and `fadeIn()`：

```
$('<span/>', {
    'class': 'el-data',
    html: items.join(''),
    'css': {
        'display': none
    }        
}).fadeIn().appendTo('.' + parentClass + ' .sort-label'); 
```

# c# - 使用 c# 直接打开 Windows 7 事件查看器到系统日志

> ID：15081204
> 
> 赞同：0
> 
> 时间：2013-02-26T04:10:57.147
> 
> 标签：c#, events, logging

有谁知道使用 c# 打开 Windows 7 事件查看器的方法，它将直接打开到系统日志？我知道打开事件查看器的命令行命令是'eventvwr'，但是有没有办法在c#中编程来执行程序，只显示在windows日志标题下找到的系统日志，在其中，只有错误？我的想法是在我的 c# 程序中单击一个按钮，然后将事件日志打开到显示错误的系统日志，以便更快、更轻松地进行故障排除。

# android - android异步任务尝试

> ID：15081205
> 
> 赞同：1
> 
> 时间：2013-02-26T04:11:25.013
> 
> 标签：android, android-asynctask

我正在尝试在 twitter oauth 活动中实现 asynctask，但出现 2 个错误。我希望 asynctask 返回一个使用者对象。

这是我的代码：

```
class getCommonsHttpConsumer extends AsyncTask<Void, Void, Void> {

@Override
protected OAuthConsumer doInBackground() {

    return new CommonsHttpOAuthConsumer(Constants.CONSUMER_KEY, Constants.CONSUMER_SECRET);
}
} 
```

我收到两个错误

1.  getCommonsHttpConsumer：getCommonsHttpConsumer 类型必须实现继承的抽象方法 AsyncTask.doInBackground(Void...)

2.  doInBackground()：getCommonsHttpConsumer 类型的方法 doInBackground() 必须覆盖或实现超类型方法

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T04:17:40.433

如果您查看[AsyncTask](http://developer.android.com/reference/android/os/AsyncTask.html)的文档，您会看到：-

```
AsyncTask<Params, Progress, Result> 
```

既然，你已经给了你`AsyncTask<Void, Void, Void>`的，你的

```
protected OAuthConsumer doInBackground() 
```

正在抛出这些错误。

将返回类型更改`doInBackground()`为 any`Void`或`AsyncTask`to`AsyncTask<Void, Void, OAuthConsumer>`以修复它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T04:18:35.833

阅读编译器告诉您的内容并熟悉文档。您需要更改类声明上的参数化以声明 doInBackground 将返回一个`OAuthConsumer`Also have `doInBackground()`accept in `Void...`(varargs)：

```
class getCommonsHttpConsumer extends AsyncTask<Void, Void, OAuthConsumer> {

@Override 
protected OAuthConsumer doInBackground(Void... params) { 
```

[也可以在这里](http://androidresearch.wordpress.com/2012/03/17/understanding-asynctask-once-and-forever/)找到一个很好的解释（除了文档）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T04:24:40.613

这是做什么：

```
class getCommonsHttpConsumer extends AsyncTask<Void, Void, OAuthConsumer> {

    @Override
    protected OAuthConsumer doInBackground() {

        return new CommonsHttpOAuthConsumer(Constants.CONSUMER_KEY, Constants.CONSUMER_SECRET);
    }

    @Override
    protected void onPostExecute(OAuthConsumer result) {
        // process result
    }
} 
```

检查[文档](https://developer.android.com/reference/android/os/AsyncTask.html)以获取更多详细信息。

# r-markdown - 从 R Markdown 和 Knitr 中删除 R 输出中的散列

> ID：15081212
> 
> 赞同：70
> 
> 时间：2013-02-26T04:12:11.393
> 
> 标签：r-markdown, knitr

我正在使用 RStudio 编写我的 R Markdown 文件。如何删除`##`代码输出之前显示的最终 HTML 输出文件中的哈希 ( )？

举个例子：

```
---
output: html_document
---

```{r}
head(cars)
``` 
```

[![在此处输入图像描述](../Images/8e8993fef7275f1274cf040ac86ce28c.png)](https://i.stack.imgur.com/CVtZn.png)

* * *

## 回答 #1

> 赞同：119
> 
> 时间：2013-02-26T04:14:25.790

您可以在您的块选项中包括类似

```
comment=NA # to remove all hashes 
```

或者

```
comment='%' # to use a different character 
```

更多关于 knitr 的帮助可以从这里获得：http: [//yihui.name/knitr/options](http://yihui.name/knitr/options)

如果您使用的是 R Markdown，那么您的块可能如下所示：

```
```{r comment=NA}
summary(cars)
``` 
```

如果要全局更改，可以在文档中包含一个块：

```
```{r include=FALSE}
knitr::opts_chunk$set(comment = NA)
``` 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2019-02-03T02:02:42.367

# 只是 HTML

如果您的输出只是 HTML，您可以充分利用 PRE 或 CODE HTML 标签。

## 例子

```
```{r my_pre_example,echo=FALSE,include=TRUE,results='asis'}
knitr::opts_chunk$set(comment = NA)
cat('<pre>')
print(t.test(mtcars$mpg,mtcars$wt))
cat('</pre>')
``` 
```

## HTML 结果：

```
    韦尔奇二样本 t 检验数据：mtcars$mpg 和 mtcars$wt
   t = 15.633，df = 32.633，p 值 < 0.00000000000000022
   备择假设：均值的真实差异不等于 0
   95% 置信区间：
    14.67644 19.07031
   样本估计：
   x 的平均值 y 的平均值
    20.09062 3.21725

```

# 只是PDF

如果您的输出是 PDF，那么您可能需要一些替换功能。这是我正在使用的：

```
```r
tidyPrint <- function(data) {
    content <- paste0(data,collapse = "\n\n")
    content <- str_replace_all(content,"\\t","    ")
    content <- str_replace_all(content,"\\ ","\\\\ ")
    content <- str_replace_all(content,"\\$","\\\\$")
    content <- str_replace_all(content,"\\*","\\\\*")
    content <- str_replace_all(content,":",": ")
    return(content)
  }
``` 
```

## 例子

代码也需要有点不同：

```
```{r my_pre_example,echo=FALSE,include=TRUE,results='asis'}
knitr::opts_chunk$set(comment = NA)
resultTTest <- capture.output(t.test(mtcars$mpg,mtcars$wt))
cat(tidyPrint(resultTTest))
``` 
```

## PDF 结果

[![PDF 结果](../Images/d3d4ca959d7de72cac1d2fb14e0546d4.png)](https://i.stack.imgur.com/bhOCr.png)

# PDF 和 HTML

如果您确实需要在 PDF 和 HTML 两种情况下都使用页面，则 tidyPrint 在最后一步中应该会有所不同。

```
```r
tidyPrint <- function(data) {
    content <- paste0(data,collapse = "\n\n")
    content <- str_replace_all(content,"\\t","    ")
    content <- str_replace_all(content,"\\ ","\\\\ ")
    content <- str_replace_all(content,"\\$","\\\\$")
    content <- str_replace_all(content,"\\*","\\\\*")
    content <- str_replace_all(content,":",": ")
    return(paste("<code>",content,"</code>\n"))
  }
``` 
```

## 结果

PDF 的结果是一样的，HTML 的结果和之前的比较接近，但是多了一些边框。

[![混合版本中的 HTML 结果](../Images/c4ba1bbeecc8d72b7e5ff3f9601a01c0.png)](https://i.stack.imgur.com/TUYRz.png)

它并不完美，但也许已经足够好了。

# arrays - 如何找到给定数组 A1 的索引，*any* 的值实际上等同于第二个数组 A2 的值的 *any*？

> ID：15081215
> 
> 赞同：4
> 
> 时间：2013-02-26T04:12:24.103
> 
> 标签：arrays, matlab

通过“实际上等效”，我的意思是它们的距离相隔 epsilon（或 0.000001）。MATLAB 中的等式通常不适用于长浮点数。

如果我只是简单地做 abs(A1 - A2) < 0.000001，那么它不会起作用，因为 size(A1) != size(A2)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-26T04:17:36.003

`pdist2`您可以通过使用 MATLAB 的函数计算两个向量之间的距离来得到答案。

```
dist=pdist2(A1,A2);
minDist=min(dist,[],2);
indices_A1=minDist<=0.000001;
desired_A1=A1(indices_A1); 
```

未经测试，但应该可以工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T05:17:01.840

由于您关心从任何元素到任何元素的距离，您可以从矢量化矩阵创建一个距离矩阵并探测距离阈值。例子：

```
A = rand(10, 4); % (example) matrix A 
B = rand(3, 5);  % matrix B of different size 
minDist = 0.005; 
```

**解决方案**：重复向量化矩阵，逐列和逐行以获得相同大小的矩阵并应用基于矩阵的距离估计：

```
Da = repmat(A(:), 1, length(B(:)));  % size 40 x 15
Db = repmat(B(:)', length(A(:)), 1); % size 40 x 15 
DD = Da - Db; 
indA = any(abs(DD) < minDist, 2); 
```

的使用`any()`将为您提供`A`接近`B`) 的任何值的逻辑索引。`A`您可以直接索引/返回使用的元素`indA.`

矩阵 DD （正如@Shai 也指出的那样）可以通过等价估计`bsxfun`

```
DD = bsxfun(@minus, A(:), B(:)'); 
```

**另外**：您可以使用以下方法从行索引（对应于 A 元素）映射回矩阵 A 索引：

```
[iA, jA] = ind2sub(size(A), indA); 
```

**断言/测试**所有返回的值都小于`minDist`，例如使用：

```
for k = 1:length(iA); 
    d(k) = min(min(abs(A(iA(k), jA(k)) - B)));
end
all(d < minDist) 
```

*（在 Octave 3.6.2 中测试）*

# scala - 更高种类的类型——为什么可能是 Scala 而不是 F#？

> ID：15081218
> 
> 赞同：26
> 
> 时间：2013-02-26T04:12:51.297
> 
> 标签：scala, f#, typeclass, higher-kinded-types

鉴于 CLR 泛型实现支持比 JVM 更多的功能，例如具体化，而 JVM 的泛型只是 Java [“编译器技巧”](https://stackoverflow.com/a/480362/1288448)，为什么高级类型在 F# 中不可能，但在 Scala 中可能？CLR 泛型实现是否会以某种方式妨碍事情，而 JVM 的缺乏使您可以比设计者的意图走得更远；有点像动态语言让你做强类型编译器不可能做到的技巧？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-02-26T12:11:24.937

原则上，我不确定是否有任何东西阻止 F# 包含更高种类的类型。CLR 本身并不支持它们，因此需要使用更间接的编译策略，但 JVM 上的 Scala 也是如此。在 CLR 的具体化泛型之上执行此操作可能更复杂，也可能不会更复杂，但我怀疑 F# 不包含它们的原因更具哲学性。虽然更高种类的类型会很好，但 F# 的设计倾向于支持与其他 .NET 语言良好互操作的简单功能；更高种类的类型可能需要大量的努力才能添加到语言中，会使类型推断和语言的其他部分复杂化，并且肯定不会与 C# 和其他 .NET 语言很好地互操作，

* * *

## 回答 #2

> 赞同：-6
> 
> 时间：2013-02-26T04:58:12.480

更好的？可以想象。

我知道的唯一区别是泛型的一个特性，称为“专业化”。它可以在 Scala 的程序员控制下使用。所以......我不得不说人们可以证明 Scala 是“更好的”。

# c# - wcf 会在不同的连接速度上处理返回值（大尺寸）吗？

> ID：15081220
> 
> 赞同：0
> 
> 时间：2013-02-26T04:13:01.207
> 
> 标签：c#, performance, wcf, connection, size

我已经检查了网络，到目前为止我找不到我正在寻找的东西。这是我的问题：假设我们有一个 wcf 服务，它返回一个简单的文本甚至一个对象（一个类）。如果我们将 maxreadsize、配额大小等增加到最大值以避免几个错误，以及大小返回值的“速度”超过网络连接的“速度”，wcf 会设法自行传输整个返回值吗？例子：

速度是 20kbps，返回值是一个大小为 30kb 的类。wcf 会在 2 秒内传输它吗？（假设超时值也设置为正确的数量）。我对此很困惑，请指导我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T07:23:12.210

好吧，它去得一样快。如果您的有效负载实际上是 30.000 位（而不是字节），那么您将在 2 秒内通过网络获得它。但是任何会干扰会话的东西，比如另一个应用程序也在使用带宽，或者您有丢包、大延迟或连接问题，您将失败。

这并非特定于 WCF，而是特定于所有网络通信。根据 WCF 配置，您可能有或多或少的序列化开销，这会使传输的大小大于“原始”数据大小。

唯一确定的方法是进行广泛的测试。您可以将[Fiddler](http://www.fiddler2.com/fiddler2/)与[插件](http://www.logic-worx.com/index.php/tools-and-apps/fiddler-connection-simulator/)或其他工具一起使用来模拟慢速网络连接。

# windows-8 - 如何使用在任何分辨率下看起来都不错的字体设计 Metro UI？

> ID：15081221
> 
> 赞同：4
> 
> 时间：2013-02-26T04:13:14.813
> 
> 标签：windows-8, fonts, winrt-xaml

当查看[字体指南时](http://msdn.microsoft.com/en-us/library/windows/apps/hh700394.aspx)，我们会看到字体以磅为单位。一个点是 1/72 英寸，因此它是一个绝对度量：一个 10 点字符应该在任何分辨率的任何显示器上以完全相同的绝对大小显示。这对我来说很有意义，因为我希望能够以相同的大小阅读文本，无论是在 10 英寸的平板电脑还是 23 英寸的显示器上。换句话说，我希望我的文本可以在平板电脑上阅读，但我不希望它在显示器上太大。

另一方面，我可以理解某些 UI 元素可以以像素为单位指定，如[页面布局指南](http://msdn.microsoft.com/en-us/library/windows/apps/hh872191.aspx)中所示。

但是，在 XAML 中，字体大小以像素为单位指定，这取决于设备（据我所知）。因此，字体大小在分辨率更高的显示器上看起来很小！有关更多详细信息，请参阅此[帖子](https://stackoverflow.com/questions/11876143/are-preferred-font-sizes-in-windows8-going-to-require-a-calculator/11876467)。该帖子中的答案是“这样，您将获得一致的字体大小”。当分辨率改变时，我看不到我如何获得一致的尺寸？！？

我应该根据设备的分辨率以编程方式加载不同的字体大小吗？我[在这里](http://msdn.microsoft.com/en-us/library/windows/apps/hh465362.aspx)看到 Windows 会根据 DPI 进行一些缩放调整。这种调整是否足以让我的用户在平板电脑和 20 英寸显示器上获得出色的体验（或者我应该根据设备分辨率以编程方式更改字体大小）？

额外问题：为什么在软件工具不使用点的情况下使用点编写字体指南（例如，他们在想什么）？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-26T05:15:20.523

“他们在想什么”在[这篇博文中得到了广泛的](http://blogs.msdn.com/b/b8/archive/2012/03/21/scaling-to-different-screens.aspx)介绍。

您还将看到如何自动缩放像素密度：

> 对于购买这些更高像素密度屏幕的用户，我们希望确保他们的应用程序、文本和图像在这些设备上看起来既美观又可用。早期，我们探索了对像素密度的连续缩放，这将保持对象的大小（以英寸为单位），但我们发现大多数应用程序使用位图图像，当放大或缩小到不可预测的大小时可能看起来模糊。相反，Windows 8 使用可预测的比例百分比来确保 Windows 在这些设备上看起来很棒。Windows 8 中有三个比例百分比：

```
100% when no scaling is applied
140% for HD tablets
180% for quad-XGA tablets 
```

> 这些百分比针对生态系统中的真实设备进行了优化。140% 和 180% 可能看起来像是奇怪的比例选择，但当您考虑这将如何在真实硬件上工作时，它们是有意义的。
> 
> 例如，140% 比例针对 1920x1080 高清平板电脑进行了优化，它具有 1366x768 的基准平板电脑分辨率的 140%。这些优化的比例因子使基准平板电脑和高清平板电脑之间的布局保持一致，因为这两种设备的有效分辨率相同。选择每个比例百分比是为了确保为 100% 1366x768 平板电脑设计的布局在 140% HD 平板电脑或 180% 四 XGA 平板电脑上具有相同的物理尺寸和相同的布局。

![在此处输入图像描述](../Images/7bd830a3d0d3a952194d110ba3075af7.png)

# php - DataTables：使用多个表、分组和 html 内容加速服务器端处理？

> ID：15081224
> 
> 赞同：7
> 
> 时间：2013-02-26T04:13:40.010
> 
> 标签：php, mysql, performance, datatables, server-side

我正在使用数据表来显示来自多个 mySQL 表（实际上是 7 个）的数据。目前确实没有太多数据，但我看到“显示 7 个条目中的 1 到 7 个（从 642,660,480 个总条目中过滤）。” 只显示7个条目需要20秒。一旦我真正开始向数据库添加大量内容，我确信这将无法使用。

我确信有更好的方法来完成我正在尝试做的事情，但这是我能够让它工作的唯一方法。

这是我的服务器端脚本：

```
$q1 = "'";
$q2 = '"';

$order_id = "CONCAT( ".$q2."<input type='hidden' id='order_id' value='".$q2.", o.id, ".$q2."'><a href='order_details.php?id=".$q2.", o.id, ".$q2."'><img src='https://pas.greysignal.com/img/search.png' border='0'></a> &nbsp;".$q2.", o.id )";
$patient_name = "CONCAT( ".$q2."<input type='hidden' id='patient_name' value='".$q2.", p.first_name, ' ', p.last_name, ".$q2."'><input type='hidden' id='patient_id' value='".$q2.", p.id, ".$q2."'><input type='hidden' id='patient_ssn' value='".$q2.", p.ssn, ".$q2."'><a href='patient_details.php?id=".$q2.", p.id, ".$q2."'><img src='https://pas.greysignal.com/img/search.png' border='0'></a> &nbsp;".$q2.", p.first_name, ' ', p.last_name )";
$doc_name = "CONCAT( ".$q2."<input type='hidden' id='doctor_name' value='".$q2.", d.first_name, ' ', d.last_name, ".$q2."'><input type='hidden' id='doctor_id' value='".$q2.", d.id, ".$q2."'><a href='doctor_details.php?id=".$q2.", d.id, ".$q2."'><img src='https://pas.greysignal.com/img/search.png' border='0'></a> &nbsp;".$q2.", d.first_name, ' ', d.last_name )";
$order_date = "FROM_UNIXTIME(o.created_timestamp, '%m/%e/%Y')";
$tests = "GROUP_CONCAT(t.name SEPARATOR ', ')";

$aColumns = array($order_id, $order_date, $doc_name, $patient_name, $tests, 'o.status');

/* Indexed column (used for fast and accurate table cardinality) */
$sIndexColumn = "o.id";

/* DB table to use */
$sTable = "`orders` o, `patients` p, `doctors` d, `tests_ordered` tst, `tests` t, `users` u, `events` e";

$sWhere = "WHERE p.id = o.patient_id AND d.id = o.doctor_id AND tst.order_id = o.id AND t.id = tst.test_id AND u.username = o.assigned_username AND e.event_id = o.event_id";
$order_status = isset($_GET['status']) ? $_GET['status'] : 'all';
if($order_status == 'all'){

}else{
    $sWhere .= " AND (o.status='Complete' OR o.status='$order_status')";
}

$sGroupBy =  "GROUP BY o.id";

/* Database connection information */
$gaSql['user']       = DB_USER;
$gaSql['password']   = DB_PASSWORD;
$gaSql['db']         = DB_NAME;
$gaSql['server']     = DB_SERVER;

/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 * If you just want to use the basic configuration for DataTables with PHP server-side, there is
 * no need to edit below this line
 */

/* 
 * MySQL connection
 */
$gaSql['link'] =  mysql_pconnect( $gaSql['server'], $gaSql['user'], $gaSql['password']  ) or
    die( 'Could not open connection to server' );

mysql_select_db( $gaSql['db'], $gaSql['link'] ) or 
    die( 'Could not select database '. $gaSql['db'] );

/* 
 * Paging
 */
$sLimit = "";
if ( isset( $_GET['iDisplayStart'] ) && $_GET['iDisplayLength'] != '-1' )
{
    $sLimit = "LIMIT ".mysql_real_escape_string( $_GET['iDisplayStart'] ).", ".
        mysql_real_escape_string( $_GET['iDisplayLength'] );
}

/*
 * Ordering
 */
if ( isset( $_GET['iSortCol_0'] ) )
{
    $sOrder = "ORDER BY  ";
    for ( $i=0 ; $i<intval( $_GET['iSortingCols'] ) ; $i++ )
    {
        if ( $_GET[ 'bSortable_'.intval($_GET['iSortCol_'.$i]) ] == "true" )
        {
            $sOrder .= $aColumns[ intval( $_GET['iSortCol_'.$i] ) ]."
                ".mysql_real_escape_string( $_GET['sSortDir_'.$i] ) .", ";
        }
    }

    $sOrder = substr_replace( $sOrder, "", -2 );
    if ( $sOrder == "ORDER BY" )
    {
        $sOrder = "";
    }
}

/* 
 * Filtering
 * NOTE this does not match the built-in DataTables filtering which does it
 * word by word on any field. It's possible to do here, but concerned about efficiency
 * on very large tables, and MySQL's regex functionality is very limited
 */

if ( $_GET['sSearch'] != "" )
{
    $sWhere .= " AND (";
    for ( $i=0 ; $i<count($aColumns) ; $i++ )
    {
if($i!=4){ //skip tests column
        $sWhere .= $aColumns[$i]." LIKE '%".mysql_real_escape_string( $_GET['sSearch'] )."%' OR ";
}
    }
    $sWhere = substr_replace( $sWhere, "", -3 );
    $sWhere .= ')';
}

/* Individual column filtering */
for ( $i=0 ; $i<count($aColumns) ; $i++ )
{
if($i!=4){ //skip tests column
    if ( $_GET['bSearchable_'.$i] == "true" && $_GET['sSearch_'.$i] != '' )
    {
        if ( $sWhere == "" )
        {
            $sWhere = "WHERE ";
        }
        else
        {
            $sWhere .= " AND ";
        }
        $sWhere .= $aColumns[$i]." LIKE '%".mysql_real_escape_string($_GET['sSearch_'.$i])."%' ";
    }
}
}

/*
 * SQL queries
 * Get data to display
 */
$sQuery = "
    SELECT SQL_CALC_FOUND_ROWS ".str_replace(" , ", " ", implode(", ", $aColumns))."
    FROM   $sTable
    $sWhere
    $sGroupBy 
    $sOrder
    $sLimit
";

//echo $sQuery;
//die();

$rResult = mysql_query( $sQuery, $gaSql['link'] ) or die(mysql_error());

/* Data set length after filtering */
$sQuery = "
    SELECT FOUND_ROWS()
";
$rResultFilterTotal = mysql_query( $sQuery, $gaSql['link'] ) or die(mysql_error());
$aResultFilterTotal = mysql_fetch_array($rResultFilterTotal);
$iFilteredTotal = $aResultFilterTotal[0];

/* Total data set length */
$sQuery = "
    SELECT COUNT(".$sIndexColumn.")
    FROM   $sTable
";
$rResultTotal = mysql_query( $sQuery, $gaSql['link'] ) or die(mysql_error());
$aResultTotal = mysql_fetch_array($rResultTotal);
$iTotal = $aResultTotal[0];

//added to hide filtering   
//$iTotal = $iFilteredTotal;

/*
 * Output
 */
$output = array(
    "sEcho" => intval($_GET['sEcho']),
    "iTotalRecords" => $iTotal,
    "iTotalDisplayRecords" => $iFilteredTotal,
    "aaData" => array()
);

while ( $aRow = mysql_fetch_array( $rResult ) )
{
    $row = array();
    for ( $i=0 ; $i<count($aColumns) ; $i++ )
    {
        if ( $aColumns[$i] != ' ' )
        {
            /* General output */
            $row[] = $aRow[$i];
        }
    }
    $output['aaData'][] = $row;
}

echo json_encode( $output ); 
```

这是服务器端脚本正在生成的查询：

```
SELECT SQL_CALC_FOUND_ROWS 
    CONCAT( "<input type='hidden' id='order_id' value='", o.id, "'><a href='order_details.php?id=", o.id, "'><img src='search.png' border='0'></a> &nbsp;", o.id ),
    FROM_UNIXTIME(o.created_timestamp, '%m/%e/%Y'),
    CONCAT( "<input type='hidden' id='doctor_name' value='", d.first_name, ' ', d.last_name, "'><input type='hidden' id='doctor_id' value='", d.id, "'><a href='doctor_details.php?id=", d.id, "'><img src='search.png' border='0'></a> &nbsp;", d.first_name, ' ', d.last_name ),
    CONCAT( "<input type='hidden' id='patient_name' value='", p.first_name, ' ', p.last_name, "'><input type='hidden' id='patient_id' value='", p.id, "'><input type='hidden' id='patient_ssn' value='", p.ssn, "'><a href='patient_details.php?id=", p.id, "'><img src='search.png' border='0'></a> &nbsp;", p.first_name, ' ', p.last_name ), GROUP_CONCAT(t.name SEPARATOR ', '),
    o.status
FROM `orders` o, `patients` p, `doctors` d, `tests_ordered` tst, `tests` t, `users` u, `events` e
WHERE p.id = o.patient_id AND d.id = o.doctor_id AND tst.order_id = o.id AND t.id = tst.test_id AND u.username = o.assigned_username AND e.event_id = o.event_id AND (o.status='Complete' OR o.status='Draft')
GROUP BY o.id 
```

我正在尝试确定在不破坏数据表的搜索和排序功能的情况下我可以做些什么来优化它。我已经尽我所知为所有表创建了索引并设置了主键。有没有办法使用 JOIN ？

这是 EXPLAIN 语句的输出：

```
id  select_type table   type    possible_keys   key key_len ref rows    Extra
1   SIMPLE  u   index   NULL    PRIMARY 32  NULL    5   Using index; Using temporary; Using filesort
1   SIMPLE  o   ALL PRIMARY,patient_id,doctor_id,event_id,assigned_use...   NULL    NULL    NULL    6   Using where
1   SIMPLE  d   eq_ref  PRIMARY PRIMARY 4   pasdbadmin.o.doctor_id  1    
1   SIMPLE  e   eq_ref  PRIMARY PRIMARY 4   pasdbadmin.o.event_id   1   Using index
1   SIMPLE  tst ref order_id,test_id    order_id    4   pasdbadmin.o.id 1    
1   SIMPLE  t   eq_ref  PRIMARY PRIMARY 4   pasdbadmin.tst.test_id  1    
1   SIMPLE  p   eq_ref  PRIMARY PRIMARY 4   pasdbadmin.o.patient_id 1 
```

**更新：**

问题似乎是在查询中使用包括用户和事件表的问题（实际上都没有使用）。这是执行得更快的修改后的代码：

```
$q1 = "'";
$q2 = '"';

$order_id = "CONCAT( ".$q2."<input type='hidden' id='order_id' value='".$q2.", o.id, ".$q2."'><a href='order_details.php?id=".$q2.", o.id, ".$q2."'><img src='https://pas.greysignal.com/img/search.png' border='0'></a> &nbsp;".$q2.", o.id )";
$patient_name = "CONCAT( ".$q2."<input type='hidden' id='patient_name' value='".$q2.", p.first_name, ' ', p.last_name, ".$q2."'><input type='hidden' id='patient_id' value='".$q2.", p.id, ".$q2."'><input type='hidden' id='patient_ssn' value='".$q2.", p.ssn, ".$q2."'><a href='patient_details.php?id=".$q2.", p.id, ".$q2."'><img src='https://pas.greysignal.com/img/search.png' border='0'></a> &nbsp;".$q2.", p.first_name, ' ', p.last_name )";
$doc_name = "CONCAT( ".$q2."<input type='hidden' id='doctor_name' value='".$q2.", d.first_name, ' ', d.last_name, ".$q2."'><input type='hidden' id='doctor_id' value='".$q2.", d.id, ".$q2."'><a href='doctor_details.php?id=".$q2.", d.id, ".$q2."'><img src='https://pas.greysignal.com/img/search.png' border='0'></a> &nbsp;".$q2.", d.first_name, ' ', d.last_name )";
$order_date = "FROM_UNIXTIME(o.created_timestamp, '%m/%e/%Y')";
$tests = "GROUP_CONCAT(t.name SEPARATOR ', ')";

$aColumns = array($order_id, $order_date, $doc_name, $patient_name, $tests, 'o.status');

/* Indexed column (used for fast and accurate table cardinality) */
$sIndexColumn = "o.id";

/* DB table to use */
$sTable = "`orders` o, `patients` p, `doctors` d, `tests_ordered` tst, `tests` t";

$sWhere = "WHERE p.id = o.patient_id AND d.id = o.doctor_id AND tst.order_id = o.id AND t.id = tst.test_id";
$order_status = isset($_GET['status']) ? $_GET['status'] : 'all';
if($order_status == 'all'){

}else{
    $sWhere .= " AND (o.status='Complete' OR o.status='$order_status')";
}

$sJoin = "";

$sGroupBy =  "GROUP BY o.id";

/* Database connection information */
$gaSql['user']       = DB_USER;
$gaSql['password']   = DB_PASSWORD;
$gaSql['db']         = DB_NAME;
$gaSql['server']     = DB_SERVER;

/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 * If you just want to use the basic configuration for DataTables with PHP server-side, there is
 * no need to edit below this line
 */

/* 
 * MySQL connection
 */
$gaSql['link'] =  mysql_pconnect( $gaSql['server'], $gaSql['user'], $gaSql['password']  ) or
    die( 'Could not open connection to server' );

mysql_select_db( $gaSql['db'], $gaSql['link'] ) or 
    die( 'Could not select database '. $gaSql['db'] );

/* 
 * Paging
 */
$sLimit = "";
if ( isset( $_GET['iDisplayStart'] ) && $_GET['iDisplayLength'] != '-1' )
{
    $sLimit = "LIMIT ".mysql_real_escape_string( $_GET['iDisplayStart'] ).", ".
        mysql_real_escape_string( $_GET['iDisplayLength'] );
}

/*
 * Ordering
 */
if ( isset( $_GET['iSortCol_0'] ) )
{
    $sOrder = "ORDER BY  ";
    for ( $i=0 ; $i<intval( $_GET['iSortingCols'] ) ; $i++ )
    {
        if ( $_GET[ 'bSortable_'.intval($_GET['iSortCol_'.$i]) ] == "true" )
        {
            $sOrder .= $aColumns[ intval( $_GET['iSortCol_'.$i] ) ]."
                ".mysql_real_escape_string( $_GET['sSortDir_'.$i] ) .", ";
        }
    }

    $sOrder = substr_replace( $sOrder, "", -2 );
    if ( $sOrder == "ORDER BY" )
    {
        $sOrder = "";
    }
}

/* 
 * Filtering
 * NOTE this does not match the built-in DataTables filtering which does it
 * word by word on any field. It's possible to do here, but concerned about efficiency
 * on very large tables, and MySQL's regex functionality is very limited
 */

if ( $_GET['sSearch'] != "" )
{
    $sWhere .= " AND (";
    for ( $i=0 ; $i<count($aColumns) ; $i++ )
    {
        if($i!=4){ //skip tests column
            $sWhere .= $aColumns[$i]." LIKE '%".mysql_real_escape_string( $_GET['sSearch'] )."%' OR ";
        }
    }
    $sWhere = substr_replace( $sWhere, "", -3 );
    $sWhere .= ')';
}

/* Individual column filtering */
for ( $i=0 ; $i<count($aColumns) ; $i++ )
{
    if($i!=4){ //skip tests column
        if ( $_GET['bSearchable_'.$i] == "true" && $_GET['sSearch_'.$i] != '' )
        {
            if ( $sWhere == "" )
            {
                $sWhere = "WHERE ";
            }
            else
            {
                $sWhere .= " AND ";
            }
            $sWhere .= $aColumns[$i]." LIKE '%".mysql_real_escape_string($_GET['sSearch_'.$i])."%' ";
        }
    }
}

/*
 * SQL queries
 * Get data to display
 */
$sQuery = "
    SELECT SQL_CALC_FOUND_ROWS ".str_replace(" , ", " ", implode(", ", $aColumns))."
    FROM   $sTable
    $sWhere
    $sJoin
    $sGroupBy 
    $sOrder
    $sLimit
";

$filename = __DIR__.DIRECTORY_SEPARATOR."sql_log.txt";
file_put_contents($filename, $sQuery, FILE_APPEND);

$rResult = mysql_query( $sQuery, $gaSql['link'] ) or die(mysql_error());

/* Data set length after filtering */
$sQuery = "
    SELECT FOUND_ROWS()
";
$rResultFilterTotal = mysql_query( $sQuery, $gaSql['link'] ) or die(mysql_error());
$aResultFilterTotal = mysql_fetch_array($rResultFilterTotal);
$iFilteredTotal = $aResultFilterTotal[0];

/* Total data set length */
$sQuery = "
    SELECT COUNT(".$sIndexColumn.")
    FROM   $sTable
";
$rResultTotal = mysql_query( $sQuery, $gaSql['link'] ) or die(mysql_error());
$aResultTotal = mysql_fetch_array($rResultTotal);
$iTotal = $aResultTotal[0];

//added to hide filtering   
//$iTotal = $iFilteredTotal;

/*
 * Output
 */
$output = array(
    "sEcho" => intval($_GET['sEcho']),
    "iTotalRecords" => $iTotal,
    "iTotalDisplayRecords" => $iFilteredTotal,
    "aaData" => array()
);

while ( $aRow = mysql_fetch_array( $rResult ) )
{
    $row = array();
    for ( $i=0 ; $i<count($aColumns) ; $i++ )
    {
        if ( $aColumns[$i] != ' ' )
        {
            /* General output */
            $row[] = $aRow[$i];
        }
    }
    $output['aaData'][] = $row;
}

echo json_encode( $output ); 
```

如果我要使用 JOINS，更新后的查询将是：

```
 SELECT SQL_CALC_FOUND_ROWS 
     CONCAT( "<input type='hidden' id='order_id' value='", o.id, "'><a href='order_details.php?id=", o.id, "'><img src='search.png' border='0'></a> &nbsp;", o.id ),
     FROM_UNIXTIME(o.created_timestamp, '%m/%e/%Y'),
     CONCAT( "<input type='hidden' id='doctor_name' value='", d.first_name, ' ', d.last_name, "'><input type='hidden' id='doctor_id' value='", d.id, "'><a href='doctor_details.php?id=", d.id, "'><img src='search.png' border='0'></a> &nbsp;", d.first_name, ' ', d.last_name ),
     CONCAT( "<input type='hidden' id='patient_name' value='", p.first_name, ' ', p.last_name, "'><input type='hidden' id='patient_id' value='", p.id, "'><input type='hidden' id='patient_ssn' value='", p.ssn, "'><a href='patient_details.php?id=", p.id, "'><img src='search.png' border='0'></a> &nbsp;", p.first_name, ' ', p.last_name ),
     GROUP_CONCAT(t.name SEPARATOR ', '),
     o.status
 FROM `orders` o
 JOIN `doctors` d ON d.id = o.doctor_id
 JOIN `patients` p ON p.id = o.patient_id
 JOIN `tests_ordered` tst ON tst.order_id = o.id
 JOIN `tests` t ON t.id = tst.test_id 
 WHERE o.status='Complete' OR o.status='Draft'
 GROUP BY o.id 
```

这样做的问题是，由于列数组等原因，在使用排序和过滤时，DataTables 的设计不能与 JOINS 一起正常工作。我希望看到一个可以处理这样的查询的解决方案。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-01T00:40:24.210

首先，如果您想优化 SQL 语句，首先要摆脱其中的 HTML 垃圾。如果不出意外，它会混淆语句的实际结构。如果必须，您可以在优化结束时将其放回原处，尽管我会认真投反对票：您已经让 PHP 来进行标记。为了清楚起见，我养成了使用 JOIN 子句的习惯，我相应地改写了整个 Thing。

这个过程给我的是：

```
SELECT SQL_CALC_FOUND_ROWS,
    o.id, o.created_timestamp, o.status,
    d.id, d.first_name, d.last_name, 
    p.id, p.first_name, p.last_name, p.ssn 
    GROUP_CONCAT(t.name SEPARATOR ', '),
FROM `orders` o
JOIN `doctors` d ON d.id = o.doctor_id
JOIN `patients` p ON p.id = o.patient_id
JOIN `users` u ON u.username = o.assigned_username
JOIN `events` e ON e.event_id = o.event_id
JOIN `tests_ordered` tst ON tst.order_id = o.id
JOIN `tests` t ON t.id = tst.test_id 
WHERE o.status='Complete' OR o.status='Draft'
GROUP BY o.id 
```

这里有几点需要注意：

*1）*你的主表是`orders`。这也是您使用 WHERE 子句的那个，并且您正在按它进行分组。使用`id`as 主索引和第二个索引 on `status`，这应该不会太糟糕。

*2）*您通过我假设是外键链接其他四个表。`users`其中两个表从未实际使用过：（很可能）根本不需要加入`events`。你应该去掉那些，顺便说一下，它也删除了文本列（用户名）上的不太好的连接。确保剩余的表`doctors`和`patients`它们各自的`id`列上有它们的主键。

*3）*您在两个表`tests_ordered`和`tests`. 所做的只是为您提供一个连接的名称字符串，但它确实增加了 GROUP BY 子句的复杂性。从这里开始有两种方法：尝试优化这些连接或将它们完全从选择中删除。

*3) 解决方案 A*要优化这些连接，请确保您有一个 on`tests_ordered.order_id`和 on的索引`tests_ordered.test_id`和一个 on 的主索引`tests.id`。您的声明应如下所示：

```
SELECT SQL_CALC_FOUND_ROWS,
    o.id, o.created_timestamp, o.status,
    d.id, d.first_name, d.last_name, 
    p.id, p.first_name, p.last_name, p.ssn 
    GROUP_CONCAT(t.name SEPARATOR ', '),
FROM `orders` o
JOIN `doctors` d ON d.id = o.doctor_id
JOIN `patients` p ON p.id = o.patient_id
JOIN `tests_ordered` tst ON tst.order_id = o.id
JOIN `tests` t ON t.id = tst.test_id 
WHERE o.status='Complete' OR o.status='Draft'
GROUP BY o.id 
```

*3）解决方案B*删除整个tests/tests_ordered东西，并将其放在单独的选择中。您的主要选择现在将如下所示：

```
SELECT SQL_CALC_FOUND_ROWS,
    o.id, o.created_timestamp, o.status,
    d.id, d.first_name, d.last_name, 
    p.id, p.first_name, p.last_name, p.ssn 
FROM `orders` o
JOIN `doctors` d ON d.id = o.doctor_id
JOIN `patients` p ON p.id = o.patient_id
WHERE o.status='Complete' OR o.status='Draft' 
```

但是您要么必须每行运行一个额外的 SELECT 才能获得连接的 t.name ，要么只为当前页面上的所有订单 ID 执行一个 SELECT 。后者看起来像这样：

```
SELECT o.id, GROUP_CONCAT(t.name SEPARATOR ', '),
FROM `orders` o
JOIN `tests_ordered` tst ON tst.order_id = o.id
JOIN `tests` t ON t.id = tst.test_id 
WHERE o.in IN ( <put the 10 ids on your current page here, separated by commas> )
GROUP BY o.id 
```

解决方案 A 应该在一台不错的机器上运行得相当快。解决方案 B 在任何机器上都应该运行得非常快。索引外键上的直接 JOINS 很便宜。

4) 上述选择都不应该在包含少于 6.42 亿个订单的数据库上返回 6.42 亿行，我假设您不会。既然 MySQL 告诉你它可能要构建一个完整的笛卡尔积，这也说明了经验的速度。这意味着您的一个直接外键连接出了问题。最有可能的问题是连接`users`- 首先是一个无用的连接，但无论如何：检查其`username`列的唯一性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:59:37.807

作为对@azzit nice answer的补充，我可以给你一些我们在数据表服务器端查询中使用的提示：

*   避免**group concat**，这总是会使您的查询非常慢，甚至可能使用临时表，这是您应该避免的事情。因此，请等待您的分页结果并根据主查询分页后返回的实际标识符启动额外数据（如此处的测试排序数据）
*   如果您必须过滤 tests_ordered 元素上的主查询，则上面使用的解决方案可能会出现问题。但实际上解决方案是添加**EXISTS**子选择来过滤您对这些 1->n 相关表的主查询（并且使用存在子查询，您将不需要在主查询中使用这些表，仅在应用过滤器时进行子选择）
*   使用所需的连接和条件进行一次**计数查询**，并尝试在未修改过滤器的情况下记录结果（您可以忽略按修改排序）。
*   注意**order by**，**您不应该允许所有列与 order by 一起使用**。如果使用未索引的列，Order by 将使您的查询非常慢。尤其是您不应该允许对“多个值”列进行排序，例如 tests_ordered。
*   如果您有大量的连接并且您认为您的查询是以正确的顺序编写的，请在选择上使用**STRAIGHT_JOIN**以避免在优化器计算中损失几秒钟（连接数量非常大）。
*   对可能为空 (null) 的列使用左连接，但如果此数据未按顺序使用、过滤器或不在可见列中，请尽量避免将它们放入查询中。
*   **使用explain**测试您的查询，不要犹豫添加过滤器的变体和排序依据。您将看到使用 FROM_UNIXTIME 之类的函数可以防止使用索引。
*   用于多个值列的策略始终可以应用于所有列，执行最小查询以获取分页结果标识符（仅列中的标识符，添加条件或排序请求的连接，为具有条件的多个值查询添加子选择），计算全局结果并对其应用分页。然后在 10/25/50/100 获得的结果上，根据行标识符加载所有单元格数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-28T19:32:12.730

1) 一些提示可能是删除您可以在表示层中使用 PHP 的所有连接和不必要的函数，并且只选择列值。

2) 仅选择在您的架构中绝对重要的最重要的列，然后您可以为其他属性运行简单的 1 行选择。（即使查询数量可能会增加，但实际上可以提高性能，因为多个连接往往非常慢）

3）如果没有任何帮助，您可能不得不导致某些形式的非规范化，您必须将某些关系值复制到多个表上以减少连接数量。

4）缓存、缓存、cahce——在数据库层面，在php层面，基本上无处不在……

5）此外，如果您实际上只需要使用最近的 100 000 000 行，那么它在很大程度上取决于您的数据，例如那些 700 000 000 行，然后开发某种归档功能以减少操作表中的记录数量，并且仅当一条记录在存档中，然后搜索大存档表，这可能很慢，但会发生得更少......

这些只是几个非常普遍的问题。

# ruby-on-rails - JQuery Ajax 在新操作上成功，在编辑操作上失败

> ID：15081225
> 
> 赞同：0
> 
> 时间：2013-02-26T04:14:06.623
> 
> 标签：ruby-on-rails, ajax, jquery

`checkbox`我的`Product` **观点**有两个：

```
<%= f.check_box :can_be_sold %>
<%= f.check_box :can_be_purchased %> 
```

我给这些复选框提供了几个 ajax 功能到`disable`/ `read only`some `textfield`/`select field`就像：

**Application.js.erb**（仅显示调用者代码）：

```
$("#product_can_be_sold").ajaxSelect("products/can_be_sold")
$("#product_can_be_purchased").ajaxSelect("products/can_be_purchased") 
```

**路线.rb**

```
get "*module/products/product_can_be_sold" => "products#can_be_sold"
get "*module/products/product_can_be_purchased" => "products#can_be_purchased" 
```

问题是，当我`http://.../products/new`的工作完美且漂亮并告诉路由到`http://.../products/products/can_be_sold`时，但当我的编辑操作`http://.../products/1/edit`返回错误时：`No route matches [GET] "/products/1/products/can_be_sold"`

我的调用者方法可能是我的分析错误，我尝试切换，更改，但仍然没有解决，我不知道如何解决这个问题。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T04:38:49.517

问题解决了，我的错误是在我的**routes.rb**上。

我仔细查看代码并意识到我应该输入：

```
get "*module/products/can_be_sold" => "products#can_be_sold"
get "*module/products/can_be_purchased" => "products#can_be_purchased" 
```

比：

```
get "*module/products/product_can_be_sold" => "products#can_be_sold"
get "*module/products/product_can_be_purchased" => "products#can_be_purchased" 
```

多么愚蠢的错误，哈哈。

谢谢

# php - PHP JSon 如何读取以 JSon 格式接收的布尔值并在 PHP 上写入字符串

> ID：15081227
> 
> 赞同：6
> 
> 时间：2013-02-26T04:14:10.157
> 
> 标签：php, json

我从另一个站点收到这个 JSON 字符串，但我无法修改收到的内容。该字符串在 $_POST 中接收并且是：

```
[
    {
        "clientId":"17295c59-4373-655a-1141-994aec1779dc",
        "channel":"\/meta\/connect",
        "connectionType":"long-polling",
        "ext":{
            "fm.ack":false,
            "fm.sessionId":"22b0bdcf-4a35-62fc-3764-db4caeece44b"
        },
        "id":"5"
    }
] 
```

我使用以下代码解码 JSON 字符串：

```
$receive = json_decode(file_get_contents('php://input')); 
```

当我使用时，`print_r($receive)`我得到以下信息：

```
Array (
[0] => stdClass Object
    (
        [clientId] => 17295c59-4373-655a-1141-994aec1779dc
        [channel] => /meta/connect
        [connectionType] => long-polling
        [ext] => stdClass Object
            (
                [fm.ack] => 
                [fm.sessionId] => 22b0bdcf-4a35-62fc-3764-db4caeece44b
            )

        [id] => 5
    )
) 
```

我可以毫无问题地访问和读取所有数组/对象：

```
$receive[$i]->clientId;
$receive[$i]->channel;
$connectionType = $receive[$i]->connectionType;
$receive[$i]->id;
$receive[$i]->ext->{'fm.sessionId'}; 
```

但是 {fm.ack} 是空的

在解码的 JSON 字符串中，false 值不在`""`.

是否可以访问和读取错误值并将其转换为字符串值？

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-26T04:21:04.687

你可以像这样使用它，在你评估value 时它会给你的`JSON`格式，当你评估它时它会给你。`false``blank``true``1`

```
$str = '[{"clientId":"17295c59-4373-655a-1141-994aec1779dc","channel":"\/meta\/connect","connectionType":"long-polling","ext":{"fm.ack":false,"fm.sessionId":"22b0bdcf-4a35-62fc-3764-db4caeece44b"},"id":"5"}]';

$arr = json_decode($str,true);

if($arr[0]['ext']['fm.ack'])    // suggested by **mario**
{
    echo "true";    
}
else {
    echo "false";   
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-12-03T14:16:05.970

我知道已经有一个答案，但可能值得注意的是`var_dump`输出布尔值更好，它只是格式更差 IMO。

```
<pre>
    <?php
        print_r(array(true, false));
        var_dump(array(true, false));
    ?>
</pre> 
```

结果是

```
Array
(
    [0] => 1
    [1] => 
)
array(2) {
  [0]=>
  bool(true)
  [1]=>
  bool(false)
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-03-23T04:24:57.593

这是一个非常简单的。如果你使用js生成和传输json，传递你的变量不是纯形式而是：`youBoolVar + 0`，那么false为0，true为1

# javascript - 将文本应用于图像（不推送）

> ID：15081231
> 
> 赞同：0
> 
> 时间：2013-02-26T04:14:28.640
> 
> 标签：javascript, html, css, xml, xhtml

我一直在努力解决这个问题，但到目前为止我完全迷失了，我已经尝试了很多与在页面顶部调整图像大小相关的事情，并得出结论，我可以将背景设置为我的扩展版本图像并保持主图像自行调整大小`text-align:center`（因为主图像较小），

这对我来说完全没问题，直到我意识到为了让我添加按钮，我需要在该图像顶部放置文本，但如果我尝试这样做，它会将图像向下推，这是我的网站当前的一个示例看起来这是[我的网站](http://www.testinghtml.tk)，我正在尝试找到一种方法，可以将文本覆盖应用于此主图像而不会打扰它，

我没有使用`margin-left / margin-right`或者`position:absolute`是因为当我更改浏览器大小时，它会导致主图像的大小调整无法正确应用。任何帮助将不胜感激

（我的 HTML 不是最好的，因为我还在开始）

```
 <style type="text/css">
 body {
 background-image:url('images/Website Banner Number 2.png');
 background-color:#000000;
 background-repeat:no-repeat;
 margin: 0;
 padding: 0;
 }
  </style>

</head>
<body>
<div style="z-index:10">
<div style="text-align:center">
 <img src="images/Website Banner.png" />
</div>
</div>
<div style="z-index:9">
<div style="width:925px" id="container">
 <div id="header" style="background-color:#333333">
  <h3 style="margin-bottom:0;"> <span style="color:#FFFFFF"> &#187;</span><span  
style="color:#0000CC" class="words">[Welcome] </span><span style="color:#FFFFFF"     
  class="words">to Han's tech class site</span> </h3>
 </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T15:35:16.173

我最终只使用图像上的区域作为链接，并将单词直接添加到图像中，将其添加到我的代码中

```
 <div style="text-align:center">
 <img src="images/Website Banner.png" alt="Han's Class" usemap="hans" />
 <map name="hans">
 <area shape="rect" color="#FFFFFF" coords="7,371,90,395" href="index.html" alt="Home">
 <area shape="rect" color="#FFFFFF" coords="117,371,200,395" href="general.html" alt="Information">
 <area shape="rect" color="#FFFFFF" coords="227,373,310,395" href="info.html" alt="General">
 <area shape="rect" color="#FFFFFF" coords="336,373,422,395" href="faq.html" alt="Frequently Asked Questions">
 <area shape="rect" color="#FFFFFF" coords="446,372,532,395" href="rules.html" alt="Rules">
 <area shape="rect" color="#FFFFFF" coords="559,372,645,395" href="forum.html" alt="Forums">
 </map>
</div> 
```

我希望有另一种方法可以做到这一点，这样当我将鼠标悬停在按钮上时，我可以使按钮亮起，但我想这是一个很好的选择，感谢那些试图提供帮助的人。如果您知道更好的方法，请告诉我！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T05:00:07.340

看看这个[链接](http://jsfiddle.net/JVxmb/)。这是你想要的？

**根据您的窗口宽度调整背景图像？**

`background:url("http://www.testinghtml.tk/images/Website Banner Number 2.png") no-repeat scroll center top / cover transparent;`

除了建议您**将背景添加到另一个 div**（bodyWrapper）而**不是 body**，因为您可以**根据需要调整 div 的高度**

# c++ - 向量中对象的内存分配

> ID：15081234
> 
> 赞同：1
> 
> 时间：2013-02-26T04:14:46.973
> 
> 标签：c++, stl

我有一个结构`coord`和一个包含类型对象的向量`coord`：

```
struct coord
{
   int x1;
   int x2;
};

vector<coord> v[n]; 
```

现在，当我尝试将某些东西（在向量声明之后）放入`vector`v时，`v[0].x1=2`编译器会给出一个错误提示

```
'class std::vector<coord, std::allocator<coord> > has no member named x1' 
```

但是当我使用类型的`temp`对象`coord`来存储坐标时，定义向量

```
vector<coord> v   //i.e without specifying size of vector 
```

，将其推入矢量，然后尝试访问`v[0].x1`，它工作正常。

那么为什么我不能使用第一种方式而是第二种方式放入向量中呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T04:15:50.773

要创建大小矢量，请`n`使用括号，而不是方括号。

```
vector<coord> v(n); 
```

`n`使用括号创建一个向量数组，而不是一个带`n`坐标的向量。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-26T04:16:15.563

您声明了一个向量数组，而不是单个向量，因此`v[n]`返回一个向量。您应该使用参数调用构造`size_t`函数。

```
vector<coord> v(size); 
```

# jquery - 导航动画高度上下

> ID：15081236
> 
> 赞同：1
> 
> 时间：2013-02-26T04:15:05.093
> 
> 标签：jquery, scroll, jquery-animate, nav

```
$(window).scroll(function () {
if ($(window).scrollTop() > 100) {
    $('.nav').css('margin-top', '5px');
     $('.sep').css('margin-top', '20px');
     $('.logo').fadeOut(500);
     $('#navWrap').animate({
        height: '62px'
        }, 500, function() {
        });
}
}
);
$(window).scroll(function () {
 if ($(window).scrollTop() < 100) {
      $('.nav').css('margin-top', '23px');
     $('.sep').css('margin-top', '40px');
     $('.logo').fadeIn(500);
}
}
); 
```

我有这段代码，当你向下滚动时，它使我的导航动画高度从 100px 到 62px，当你再次到达顶部时，我试图让它动画回 100px，但似乎不能这样做。

我通常在第二个窗口 .scroll 函数中再次包含 .animate ，但这没有任何作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T04:20:04.350

你很接近，只需要一些修改。

*   首先，您需要跟踪导航器的当前状态。否则，每次滚动时，您都会向动画链添加新请求以使其变大或变小。您只想在从顶部越过 100 的“阈值”时触发动画。
*   其次，您想`stop()`在动画之前调用，或者向下滚动然后向上滚动将导致每个新动画进入队列并且导航栏将不断打开和关闭。
*   第三，你不需要两次调用`$(window).scroll`......你有一个独占条件。要么你从顶部开始超过或低于 100，并且只有在你还没有这样做的情况下才执行你的 CSS 更改和动画。把它放到同一个函数中，更容易管理。

```
var navsize = "large";
$(window).scroll(function () {
    if ($(window).scrollTop() > 100) {
        if (navsize == "large")
        {
            navsize = "small";
            $('.nav').css('margin-top', '5px');
            $('.sep').css('margin-top', '20px');
            $('.logo').stop().fadeOut(500);
            $('#navWrap').stop().animate({
                height: '62px'
            }, 500);
        }
    }
    else
    {
        if (navsize == "small")
        {
            navsize = "large";
            $('.nav').css('margin-top', '23px');
            $('.sep').css('margin-top', '40px');
            $('.logo').stop().fadeIn(500);
            $('#navWrap').stop().animate({
                height: '100px'
            }, 500);
        }
    }
}); 
```

# android - android 2.2 中的 GOOGlE API V2 问题

> ID：15081237
> 
> 赞同：1
> 
> 时间：2013-02-26T04:15:06.793
> 
> 标签：android, google-maps, google-maps-android-api-2

我想在 android 2.2 中使用 google api v2。

我已经完成了它的所有先决条件。

喜欢：谷歌地图 api 密钥。

1.  安卓支持-v4.jar

2.  google-play-services_lib.jar

3.  google-play-services.jar

我得到这个错误。

```
02-26 09:32:04.055: E/AndroidRuntime(334): FATAL EXCEPTION: main
02-26 09:32:04.055: E/AndroidRuntime(334): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.mapfragment/com.mapfragment.MainActivity}: java.lang.ClassNotFoundException: com.mapfragment.MainActivity in loader dalvik.system.PathClassLoader[/system/framework/com.google.android.maps.jar:/data/app/com.mapfragment-2.apk]
02-26 09:32:04.055: E/AndroidRuntime(334):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2585)
02-26 09:32:04.055: E/AndroidRuntime(334):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
02-26 09:32:04.055: E/AndroidRuntime(334):  at android.app.ActivityThread.access$2300(ActivityThread.java:125)
02-26 09:32:04.055: E/AndroidRuntime(334):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
02-26 09:32:04.055: E/AndroidRuntime(334):  at android.os.Handler.dispatchMessage(Handler.java:99)
02-26 09:32:04.055: E/AndroidRuntime(334):  at android.os.Looper.loop(Looper.java:123)
02-26 09:32:04.055: E/AndroidRuntime(334):  at android.app.ActivityThread.main(ActivityThread.java:4627)
02-26 09:32:04.055: E/AndroidRuntime(334):  at java.lang.reflect.Method.invokeNative(Native Method)
02-26 09:32:04.055: E/AndroidRuntime(334):  at java.lang.reflect.Method.invoke(Method.java:521)
02-26 09:32:04.055: E/AndroidRuntime(334):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
02-26 09:32:04.055: E/AndroidRuntime(334):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
02-26 09:32:04.055: E/AndroidRuntime(334):  at dalvik.system.NativeStart.main(Native Method)
02-26 09:32:04.055: E/AndroidRuntime(334): Caused by: java.lang.ClassNotFoundException: com.mapfragment.MainActivity in loader dalvik.system.PathClassLoader[/system/framework/com.google.android.maps.jar:/data/app/com.mapfragment-2.apk]
02-26 09:32:04.055: E/AndroidRuntime(334):  at dalvik.system.PathClassLoader.findClass(PathClassLoader.java:243)
02-26 09:32:04.055: E/AndroidRuntime(334):  at java.lang.ClassLoader.loadClass(ClassLoader.java:573)
02-26 09:32:04.055: E/AndroidRuntime(334):  at java.lang.ClassLoader.loadClass(ClassLoader.java:532)
02-26 09:32:04.055: E/AndroidRuntime(334):  at android.app.Instrumentation.newActivity(Instrumentation.java:1021)
02-26 09:32:04.055: E/AndroidRuntime(334):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2577)
02-26 09:32:04.055: E/AndroidRuntime(334):  ... 11 more 
```

我的代码：

MainActivity.java

```
package com.mapfragment;

import android.os.Bundle;
import android.support.v4.app.FragmentActivity;
import android.support.v4.app.FragmentTransaction;

import com.google.android.gms.common.GooglePlayServicesNotAvailableException;
import com.google.android.gms.maps.GoogleMap;
import com.google.android.gms.maps.MapsInitializer;
import com.google.android.gms.maps.SupportMapFragment;

public class MainActivity extends FragmentActivity {
GoogleMap mapView;
com.google.android.gms.maps.Projection projection;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    FragmentTransaction mTransaction = getSupportFragmentManager()
            .beginTransaction();
    SupportMapFragment mFRaFragment = new MapFragmentD();
    mTransaction.add(R.id.mainl, mFRaFragment);
    mTransaction.commit();

    try {
        MapsInitializer.initialize(this);
    } catch (GooglePlayServicesNotAvailableException e) {
        e.printStackTrace();
    }
}

} 
```

MapFragmentD.java

```
package com.mapfragment;

import android.app.Activity;
import android.os.Bundle;
import android.util.AttributeSet;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;

import com.google.android.gms.maps.GoogleMap;
import com.google.android.gms.maps.SupportMapFragment;
import com.google.android.gms.maps.model.BitmapDescriptorFactory;
import com.google.android.gms.maps.model.LatLng;
import com.google.android.gms.maps.model.MarkerOptions;

public class MapFragmentD extends SupportMapFragment {

GoogleMap mapView;

@Override
public void onCreate(Bundle arg0) {
    super.onCreate(arg0);
}

@Override
public View onCreateView(LayoutInflater mInflater, ViewGroup arg1,
        Bundle arg2) {
    return super.onCreateView(mInflater, arg1, arg2);
}

@Override
public void onInflate(Activity arg0, AttributeSet arg1, Bundle arg2) {
    super.onInflate(arg0, arg1, arg2);
}

@Override
public void onActivityCreated(Bundle savedInstanceState) {
    super.onActivityCreated(savedInstanceState);

    mapView = getMap();
    MarkerOptions markerOptions = new MarkerOptions();
    markerOptions.draggable(true);
    markerOptions.position(new LatLng(23.231251f, 71.648437f));
    markerOptions.icon(BitmapDescriptorFactory.defaultMarker());
    mapView.addMarker(markerOptions);
}
} 
```

主要的.xml

```
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:id="@+id/mainl"
android:layout_height="match_parent" >

<!--     <com.mapfragment.MapFragmentD
    android:id="@+id/mapview"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:clickable="true" /> -->

</FrameLayout> 
```

地图片段.xml

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent" >

<com.google.android.maps.MapView
    android:id="@+id/mapview"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:apiKey="0WyiQdWfvE1GnA4nWEz8rX1Ezf-rWMEDShPt5BQ"
    android:clickable="true" />

</RelativeLayout> 
```

谷歌 api v2 的几个程序我每次都会尝试 bt，这个唯一的错误发生。请帮我解决这个错误..

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T04:47:57.713

您需要在清单中添加以下内容。

```
<permission
    android:name="package.permission.MAPS_RECEIVE"
    android:protectionLevel="signature" />

<uses-feature
    android:glEsVersion="0x00020000"
    android:required="true" />

<uses-permission android:name="package.permission.MAPS_RECEIVE" /> 
```

并在应用程序标签中

```
 <meta-data
        android:name="com.google.android.maps.v2.API_KEY"
        android:value="@string/map_key" /> 
```

# html - html 定位问题 - 旁边、页脚、填充

> ID：15081239
> 
> 赞同：3
> 
> 时间：2013-02-26T04:15:11.873
> 
> 标签：html, css, sidebar

我对这个很迷茫。经过无数小时的搜索和尝试，我还没有找到可行的解决方案。

我在同时实现以下三点时遇到问题：

1.  在底部获得一些填充。（当内容变长时，最终底部没有空白空间。）
2.  获取左右两边与最长的内容一起展开
3.  当旁边比主要内容短时，分隔线仍应从上到下。

一些注意事项：

*   目前，第三点正在发挥作用。

*   当将旁边的位置更改为相对位置时，页面会按应有的方式扩展。尽管第三点不再起作用。

*   还没有找到第一个的任何解决方案。

这是我的布局的缩小版本。由于在这少量代码中仍然存在所有问题，那么这可能就足够了：

**索引.html**

```
 <!DOCTYPE html>
    <html>
    <head>
        <meta charset="utf-8">
        <title>title</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div id="wrapper">
            <header>
                <nav>
                    <!--My nav here-->
                </nav>
            </header>
            <div id="content_wrapper">
                <aside>
                    <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque posuere sodales ante id facilisis. Vestibulum euismod mattis nisl, id consequat tortor suscipit vitae. Maecenas sit amet dolor nibh. Quisque vitae commodo augue. Nullam bibendum posuere est, non gravida ante lacinia quis. Vestibulum imperdiet orci eu nisl posuere a gravida orci ullamcorper. Nullam quis lacus ipsum.
                    </p>
                </aside>
                <div id="content">
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque posuere sodales ante id facilisis. Vestibulum euismod mattis nisl, id consequat tortor suscipit vitae. Maecenas sit amet dolor nibh. Quisque vitae commodo augue. Nullam bibendum posuere est, non gravida ante lacinia quis. Vestibulum imperdiet orci eu nisl posuere a gravida orci ullamcorper. Nullam quis lacus ipsum.
                    </p>
                </div>
            </div>
        </div>
    </body>
    </html> 
```

**样式.css**

```
* {
  margin: 0;
  padding: 0;
}

body {
  background-color: #ebebeb;
}

#wrapper {
  width: 1000px;
  margin-left: auto;
  margin-right: auto;
}

#content_wrapper {
  position: absolute;
  width: 1000px;
  top: 90px;
  background-color: #fff;
}

#content_wrapper aside {
  position: relative;
  float: left;
  width: 200px;
  padding: 10px;
  top: 0px;
  bottom: 0px;
  box-shadow: inset -8px 0 10px -6px #ddd;
}

#content {
  float: right;
  width: 760px;
  padding: 10px;
} 
```

我很确定这需要从头开始重新构建。

但在我成功地做到这一点之前，我想了解我的问题的原因，这可能很容易解决吗？

或者换句话说，实现这种布局的最佳/工作方式是什么，以便一切都能正确扩展，并且底部仍然可以有填充？

很感谢任何形式的帮助。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-26T17:35:05.250

**这实际上与我的问题非常相似，尽管我没有意识到：**

![在此处输入图像描述](../Images/614de128ea5df0310095bc9050ff8bcc.png)

**将列内容与其背景颜色分开**

解决等高问题的第一步是将其分解成可以单独解决的小块。我们这样做的方法是为每一列使用两个 div 而不是一个。第一个 div 将用于保存内容，另一个将用作背景颜色。这种分离使我们能够单独控制这些元素，而且我们可以以更有用的方式将它们组合在一起。这一切都将很快变得清晰。

**浮动容器 div 将始终是其浮动内容的高度**

这是这种等柱高方法背后的核心原则。使 div 的高度等于最高列的唯一方法是该 div 包含所有列。所以用另一种方式解释这一点，通过将列放置在容器内，我们使容器成为最高列的高度。这是一个非常有用的结构。

![容器 div 解释](../Images/dbac57e394d8bcca7a8dd9e7a7409a8e.png)

**三列 HTML div 结构**

在上面的示例中，三个内容列位于容器 div 内。

```
<div id="container1">
    <div id="col1">Column 1</div>
    <div id="col2">Column 2</div>
    <div id="col3">Column 3</div>
</div> 
```

**三列 CSS**

这是强制容器 div 到最长列的高度的 CSS。

```
#container1 {
  float:left;
  width:100%;
}
#col1 {
  float:left;
  width:30%;
  background:red;
}
#col2 {
  float:left;
  width:40%;
  background:yellow;
}
#col3 {
  float:left;
  width:30%;
  background:green;
} 
```

为了让这个结构在所有浏览器中正常工作，容器 div 必须是浮动的（左或右）加上每个列内容 div 也必须是浮动的，无论哪种方式都没有关系。浮动内容 div 的过程使它们在页面上水平排列。浮动容器使其延伸到内部最高柱的高度。如果我们不浮动容器，那么内容 div 将在底部伸出容器，并且容器不会有正确的高度。实际上，在这个例子中，如果容器没有浮动，容器的高度最终会为零。

**添加额外的嵌套容器**

等高列的下一步是添加额外的容器，以便它们相互嵌套。我们需要与列相同数量的容器 - 三个。这三个容器将成为每一列的背景。请注意，我们已经从原始列中删除了背景颜色并将它们添加到容器中。

![初始布局](../Images/86547e25b989f54ffdcd873097b65dcc.png)

**三列 HTML div 结构**

两个额外的容器已添加到下面的 HTML 中。

```
<div id="container3">
    <div id="container2">
        <div id="container1">
            <div id="col1">Column 1</div>
            <div id="col2">Column 2</div>
            <div id="col3">Column 3</div>
        </div>
    </div>
</div> 
```

**三列 CSS**

所有元素都向左浮动，容器的宽度设置为 100%，因此它们保持页面的整个宽度。背景颜色已从内容 div 中删除并添加到容器中。

```
#container3 {
    float:left;
    width:100%;
    background:green;
}
#container2 {
    float:left;
    width:100%;
    background:yellow;
}
#container1 {
    float:left;
    width:100%;
    background:red;
} 
```

**通过相对定位将容器移动到位**

使用相对定位，我们现在将容器移动到它们的新位置。当每个容器移动时，div 在下面可见。彩色容器的分层和位置创建了等高柱的背景。container2 div 向左移动 30% 以显示绿色右侧列， container1 div 向左移动 40% 以显示黄色中心列，同时仍然可见的红色部分成为左列。

![列颜色](../Images/78fd50c5944b4f3587712db0fd6403e0.png)

**CSS 相对定位规则**

这是添加的 CSS 行，显示了相对定位的添加。

```
#container2 {
    position:relative;
    right:30%;
}
#container1 {
    position:relative;
    right:40%;
} 
```

**将内容移回每一列**

接下来要做的是将每列的内容移回页面上，使其与下面的列背景颜色对齐。这也是通过简单的相对定位来完成的。

![内容](../Images/a7f6bdf9403d8f9605328569ac79d2ea.png)

最后我们通过添加一个溢出来切断悬垂的容器：隐藏；规则在最外面的容器 - container3。

![在此处输入图像描述](../Images/8d5828f235118ae41690e5200eb504e8.png)

这是我现在将代码集成到其中的初始布局：[JFiddle 示例](http://jsfiddle.net/2KXZm/)

在这个 JFiddle 示例中没有解决的一件事是分隔符。目前我认为将分隔符添加为内容的阴影而不是放在一边。这比另一个 div 更容易创建。

来源：[等高列跨浏览器 css 没有 hacks](http://matthewjamestaylor.com/blog/equal-height-columns-cross-browser-css-no-hacks)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T17:01:04.500

您可以尝试这样做：

```
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>title</title>
    <style>
            * {
              margin: 0;
              padding: 0;
            }

            body {
              background-color: #ebebeb;
            }

            #wrapper {
              width: 1000px;
              margin-left: auto;
              margin-right: auto;
            }

            #content_wrapper {
              width: 1000px;
              margin: 90px auto 90px;
              background-color: #fff;
            }

            #content_wrapper aside {
              display: table-cell;
              width: 200px;
              padding: 10px;
              box-shadow: inset -8px 0 10px -6px #ddd;
            }

            #content {
              display: table-cell;
              width: 760px;
              padding: 10px;
            }
    </style>
</head>
<body>
    <div id="wrapper">
        <header>
            <nav>
                <!--My nav here-->
            </nav>
        </header>
        <div id="content_wrapper">
            <aside>
                <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque posuere sodales ante id facilisis. Vestibulum euismod mattis nisl, id consequat tortor suscipit vitae. Maecenas sit amet dolor nibh. Quisque vitae commodo augue. Nullam bibendum posuere est, non gravida ante lacinia quis. Vestibulum imperdiet orci eu nisl posuere a gravida orci ullamcorper. Nullam quis lacus ipsum.
                </p>
            </aside>
            <div id="content">
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque posuere sodales ante id facilisis. Vestibulum euismod mattis nisl, id consequat tortor suscipit vitae. Maecenas sit amet dolor nibh. Quisque vitae commodo augue. Nullam bibendum posuere est, non gravida ante lacinia quis. Vestibulum imperdiet orci eu nisl posuere a gravida orci ullamcorper. Nullam quis lacus ipsum.
                </p>
            </div><!-- #content -->

            </div>
        </div>
    </div>
</body>
</html> 
```

删除了绝对定位`#content_wrapper`并添加了边距以确保底部始终有一些空间。除此之外，`aside`它`#content`会像表格单元格一样显示 - 这可能不适用于某些较旧的浏览器（即 IE 较旧版本），因此它可能不适合您，具体取决于您想要支持的浏览器。

# c# - 比较日期时间的有效方法

> ID：15081242
> 
> 赞同：2
> 
> 时间：2013-02-26T04:15:40.563
> 
> 标签：c#

我试图执行下面的公式，只是想知道什么是有效的方法，

下面是计算公式

**结果= min(max(dtmealstart1,dtbkgstart),dtbkgend)**

```
dtmealstart1= 11/02/13 8AM
dtbkgstart=11/02/13 9AM
dtbkgend=11/02/13 17.00 (5PM)
result=min(max(11/02/13 8AM,11/02/13 9AM),11/02/13 17.00 )
result=11/02/13 9AM 
```

我刚刚用 c# 编写了这段代码来执行上述逻辑，但我只是想知道有没有最好的方法来做

```
int result = DateTime.Compare(dtmealStart1, dtBkgStart);
DateTime break1;
if (result < 0)
{
    break1 = dtBkgStart;
}
else
{
    break1 = dtmealStart1;
}
int result1 = DateTime.Compare(break1, dtBkgEnd);
DateTime mealstart1;
if(result1<0)
{
    mealstart1 = break1;
}
else
{
    mealstart1 = dtBkgEnd;
} 
```

我的`mealstart1`价值也把它带回来`11/02/13 9AM`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:10:50.607

You could use the `Math` class on the `DateTime` Ticks

Something like:

```
 DateTime result = new DateTime(Math.Min(Math.Max(dtmealStart1.Ticks, dtBkgStart.Ticks), dtBkgEnd.Ticks));

 // result = 11/02/13 9AM 
```

# mysql - MySQL CONCAT 脚本

> ID：15081243
> 
> 赞同：1
> 
> 时间：2013-02-26T04:15:47.637
> 
> 标签：mysql, concatenation

我想问一下我有没有像下面这样的表

```
Date & Hour               Phone           Status
2012-03-06 16:33:12     0292561234  Congestion
2012-03-06 16:33:12     0292561234  Congestion
2012-03-06 16:34:45     0292561234  Congestion
2012-03-06 16:46:50     0292561234  Congestion
2012-03-06 17:17:01     0292561234  Dial
2012-03-07 12:01:39     500         Queue
2012-03-07 12:02:10     500         Queue
2012-03-07 12:03:06     500         Queue 
```

我需要像加入他们一样

```
Date & Hour               Phone           Status
2012-03-06 16       0292561234  Congestion,Congestion,Congestion
2012-03-06 17       0292561234  Dial
2012-03-07 12       500         Queue,Queue,Queue 
```

所以我在

```
SELECT calldate, dst, GROUP_CONCAT( lastapp )
FROM cdr
GROUP BY hour( calldate ) ; 
```

但它显示为

```
Date & Hour               Phone           Status
2012-03-06 16:33:12     0292561234  Congestion,Congestion,Congestion,Dial  
2012-03-06 17:17:01     0292561234  Dial
2012-03-07 12:01:39     500         Queue,Queue,Queue 
```

我使用了错误的脚本吗？

请注意。

谢谢，

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T04:19:35.097

试试这个查询

```
SELECT DATE(calldate), dst, GROUP_CONCAT(lastapp)
FROM tbl 
GROUP BY dst, DATE(calldate); 
```

参考[http://www.mysqlperformanceblog.com/2006/09/04/group_concat-useful-group-by-extension/](http://www.mysqlperformanceblog.com/2006/09/04/group_concat-useful-group-by-extension/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T04:20:05.227

试试下面：

```
SELECT SUBSTR(calldate,1,13) as date_hour, dst, GROUP_CONCAT( lastapp )
FROM table
GROUP BY date_hour 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T04:25:51.000

这也将工作......

```
SELECT DATE_FORMAT(calldate,"%Y-%m-%d %h"), dst, GROUP_CONCAT( lastapp )
FROM cdr
GROUP BY hour( calldate ) ; 
```

# android - 如何在android的原始文件夹中动态创建HTML文件

> ID：15081248
> 
> 赞同：0
> 
> 时间：2013-02-26T04:16:39.100
> 
> 标签：android

我有一个editText，我在那里输入的数据应该存储为原始文件夹中的html文件。我可以这样做吗？而且当我单击按钮打印时，我希望通过共享意图打印html页面，我无法要做到这一点

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T04:19:47.717

您无法在运行时将任何内容保存到原始文件夹。它与apk打包在一起，不能修改。

您必须将 html 文件保存到内部存储器或 SD 卡。

你可以分享这样的网址：

```
Intent sharingIntent = new Intent(Intent.ACTION_SEND);
sharingIntent.setType("text/plain");
sharingIntent.putExtra(Intent.EXTRA_TEXT, "https://www.google.com");
startActivity(Intent.createChooser(sharingIntent,"Share using")); 
```

您可以尝试像这样更改它以直接共享 html 内容。我不知道您是否会获得默认安装的任何应用程序，但这些应用程序将以有意义的方式共享它。

```
String html = "<html>...</html>";
Intent sharingIntent = new Intent(Intent.ACTION_SEND);
sharingIntent.setType("text/html");
sharingIntent.putExtra(Intent.EXTRA_TEXT, html);
startActivity(Intent.createChooser(sharingIntent,"Share using")); 
```

# excel - 使用excel单元格公式获取单元格地址

> ID：15081254
> 
> 赞同：0
> 
> 时间：2013-02-26T04:17:15.657
> 
> 标签：excel, excel-formula, vba

我的日期范围起点可以在任何列有所不同，但该行始终固定在第 2 行。例如，我当前的日期范围涵盖从 A2:AB2
col A | 栏B | 上校 C | ...
空白 | 1-1月| 1 月 2 日 | ...

我需要实现以下目标：如果我在单元格 A5 输入日期（例如 1 月 2 日），则单元格 B5 将显示包含日期（1 月 2 日）的单元格地址（$C$2）。

我如何实现这一目标？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T04:41:14.817

单元格 B5 中的以下公式应该可以完成工作：

```
 =IFERROR(ADDRESS(2,MATCH(A5,$A2:$AB2,0)),"") 
```

请注意，第 2 行在公式中由地址函数中的 2 硬编码。

# java - 如何将我的迭代方法更改为递归方法

> ID：15081255
> 
> 赞同：0
> 
> 时间：2013-02-26T04:17:21.903
> 
> 标签：java, recursion

如何将以下方法从迭代更改为递归？

```
public int[] pascal(int[] previous) 
{

    //The row is 1 element longer than previous row
    int[] row = new int[previous.length + 1];

    //The first and last numbers in row are always 1
    row[0] = 1;
    row[row.length - 1] = 1;

    //The rest of the row can be calculated based on previous row
    for (int i = 1; i < row.length-1; i++) 
    {
        row[i] = previous[i-1] + previous[i];
    }

    return row;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T07:09:50.580

计算的“状态”必须通过参数传递。因此，您需要的参数不仅仅是`int[] previous`行。

通常你希望有 2 种方法，一种是具有更简单接口的公共方法，另一种是私有方法，它是实际执行计算的方法。

在您的示例中，这两种方法类似于：

```
public int[] pascal(int[] previous) { ... call the next overload ... }
private int[] pascal(... all the state needed ...) { ... recursive call or return the value ... } 
```

最直接的方法之一是将正在计算的新行和应该计算的下一个位置的索引作为递归函数中的参数传递。因此，您将拥有：

```
private int[] pascal(int[] previous, int currentIndex, int[] row) { ... } 
```

现在，您的递归函数通常有 2 个（或更多）案例。为此，您将有两种情况：

*   如果“currentIndex”超过了您需要计算的最后一个索引，我们就完成了——只需返回现在的行；
*   否则，计算当前索引的值，将其放入行中，并进行递归调用以继续计算（通过确定它已经完成，或者通过计算并再次调用，......）

让我们编写这两种情况：

```
private int[] pascal(int[] previous, int currentIndex, int[] row) {
  if (currentIndex == previous.length) {
    return row;
  } else {
    // do some part of the calculation
    // and make a recursive call that would continue the calculation:
    return pascal(previous, ????, row);
  }
} 
```

你明白为什么这是递归函数的结构吗？

好的，进入真正的计算：

```
private int[] pascal(int[] previous, int currentIndex, int[] row) {
  if (currentIndex == previous.length) {
    return row;
  } else {
    int currentValue = previous[currentIndex - 1] + previous[currentIndex];
    row[currentIndex] = currentValue;
    return pascal(previous, currentIndex, row);
  }
} 
```

计算完成。现在你只需要让你的“更简单”的函数使用适当的参数调用你的递归函数：

```
public int[] pascal(int[] previous) {
  int rowSize = previous.length + 1;
  int[] row = new int[rowSize];
  row[0] = 1;
  row[rowSize - 1] = 1;
  return pascal(previous, 1, row);
} 
```

而已。

如您所见，“诀窍”是在参数中保持“状态”。在这里，`currentIndex`就像`int i`在您的原始`for`循环中一样。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T07:11:00.400

由于它现在已编程，您必须多次调用该函数才能获得所需的内容。

递归函数会调用自己。这样，您只需调用一次即可获得所需的内容。

我想你只想要三角形的一个特定行。您需要传递给函数的唯一参数是行号。

想象一下，您已经编写了该函数，并且可以为特定的行号 N-1 调用它。你能写一个使用前一个函数来计算第 N 行的函数吗？

现在只需处理极端情况：第一行​​和可能的负行数。

也就是说，使用此函数逐行显示三角形将非常低效！

# html - 尽管有 CSS 属性，但页面右侧被 Inspect Element/Firebug 完全忽略

> ID：15081258
> 
> 赞同：1
> 
> 时间：2013-02-26T04:17:24.880
> 
> 标签：html, css, themes, tumblr

我正在为我的一个朋友制作一个 Tumblr 主题，但我遇到了一个非常大的问题，这阻碍了我做任何其他事情。我试图寻求其他 Tumblr 编码人员的帮助，但没有人回答我，所以我来到了这里（我也在这里搜索过，没有找到类似的东西）。

我最近在[我的 Tumblr 上的这篇文章](http://guardianoftime.tumblr.com/post/44028536633/maybe-i-should-illustrate-my-problem-thats-probably)中说明了我的问题，但要重申......

我为我的朋友制作的主题是一个两列主题，顶部有一个标题栏。主题的标题和右列是固定的，这样滚动时只有左列移动。

左列和右列分别向左和向右浮动，并且都有带有 CSS 和所有内容的 ID。我的页眉也可以正常工作，因为它是固定的，并且随着页面的滚动而移动。但是，问题在于右列完全没有响应。实际上，该页面的行为就像它甚至不存在一样，因此为它编写的任何 CSS 都不会呈现。

当然，它的 HTML 会显示出来，但是当我在实时预览中检查元素时选择它时，没有为它列出任何内联样式。这是非常不寻常的，不是我曾经遇到过的问题，因此不知道解决方案。

[如果您想亲自查看，这是我拥有的当前 WIP 实时预览](http://promisemakertest.tumblr.com/)（密码是“Asbel”，不带引号）。我添加了一些颜色以尝试查找其他问题，但您可以通过 Inspecting 找到正确的列。

我真的不知道该怎么办？我已经做了我能想到的所有事情：拿走了它和标题上的位置属性（从标题中删除它只会将它移动到标题下方，但它仍然表现得像它不存在一样），尝试添加显示属性没有结果，拿走了浮动，试图将列移动到代码的其他部分，但仍然遇到问题......我基本上已经用完了我知道该怎么做的选项。我什至尝试了一个计数器来浮动我所了解的泄漏，但它仍然没有任何作用。

为了继续研究这个主题，我需要正确的专栏才能正常工作，所以如果有人对可能出现的问题有任何想法，请帮助我???? 我会永远感激你。

如果它有帮助，这是我为这个布局制作的草图，以及在我完成它时它的样子（只有颜色和更多的比例）：

WELP，我打算把它包括在内，但该网站不让我这样做。对不起！

（此外，虽然这不是现在紧迫的问题，但我似乎无法让标签以我在 CSS 中的方式显示它们。它一次正常工作，但现在不是，我不知道是什么发生或可能碰巧使这种情况突然发生。）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T04:37:54.540

你忘了一个右花括号..

`.photo img`选择器上的第 72 行

# c# - C# 嵌套方法调用的优点（和缺点）

> ID：15081260
> 
> 赞同：3
> 
> 时间：2013-02-26T04:17:38.730
> 
> 标签：c#, methods, nested

在深入了解 Objective-C 之后，我将重新开始使用 C# 进行编码。我想知道，在 C# 中，使用嵌套方法调用编写代码在性能、内存开销以及代码可读性和维护方面有什么特别的好处或缺点吗？还是使用更易于阅读和/或更易于遵循的代码，而不是任何可能的速度或内存优势（内存优势部分可以是 ObjC/非托管代码谈话）？

示例（x、y、z、w、t、e 和 g 都是 int）：

```
// non-nested
// someMethod returns an int

int b = someMethod(w,t,e);
int a = ((x + y) * b);
int c = a + (b * g);
return a + b + c;

// nested
// someMethod returns an int
return (((x + y) * someMethod(w,t,e)))
+ (someMethod(w,t,e)) + (((x + y) * someMethod(w,t,e))
+ (someMethod(w,t,e) * g)); 
```

遵循非嵌套代码更容易，但在嵌套代码中，您不必实例化三个变量；它也是四行代码到一行代码（尽管为了便于阅读，一行被分成三行）。我只是不确定哪种方式更好，或者在 C# 编程社区中更受欢迎。任何见解将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T04:25:47.743

如果`someMethod(w,t,e)`做了一些不平凡的事情，调用它 3 次将比单次调用并存储结果要慢。

请注意，只有当函数`someMethod(w,t,e)`是“纯”函数时，这两个表达式才等效，这意味着它没有副作用，并且对于相同的参数集返回相同的值。

在最初的设计和编码过程中，您应该争取最好的可读性。在分析之前考虑方法调用的开销是一种过早的优化。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T04:34:20.993

出于多种原因，将所有内容分成不同的方法是一种很好的编码实践。

1.  就像您提到的那样，它更易于阅读，因此如果您的代码被传递，或者您在一段时间后重新访问它，您可以快速了解正在发生的事情。
2.  您可以制作可在任何地方重用的代码。这可以减少大型项目中的编码时间
3.  它使调试更容易，因为您可以更快地隔离问题。

当然会有更多的开销，但至于速度和内存，我从未测试过它，但我相信你可能会失去一点。尽管考虑到人们今天正在运行的计算机类型，但我认为它并不引人注目。

我做过很多小项目，我只是尽可能快地扔掉代码，但是一旦我开始取得进展或者我的程序开始变得有点复杂，我总是回去把所有东西重新组织成方法。

它使一切保持简单、干净和可读。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T04:25:47.900

可读性几乎总是更好。查看一本名为[Clean Coding](http://tinyurl.com/acx2sbs)的书。在您的示例中，一旦构建代码，将使用 0 个额外的内存。

# ruby-on-rails - Heroku 上的 ActiveAdmin 预编译错误

> ID：15081269
> 
> 赞同：10
> 
> 时间：2013-02-26T04:18:40.917
> 
> 标签：ruby-on-rails, heroku, activeadmin

您好，我最近将更新推送到 Heroku，突然间 Active Admin 不会预编译。给我这个错误。

```
Running: rake assets:precompile
       rake aborted!
       SyntaxError: cannot return a value from a constructor: "this" in class DropdownMenu
       (in /tmp/build_etr05wkfpnxp/vendor/bundle/ruby/1.9.1/gems/activeadmin-0.5.1/app/assets/javascripts/active_admin/components/jquery.aa.dropdown-menu.js.cof
fee)
       /tmp/build_etr05wkfpnxp/vendor/bundle/ruby/1.9.1/gems/execjs-
1.4.0/lib/execjs/external_runtime.rb:66:in `extract_result' 
```

不知道发生了什么或如何解决它。它在我的本地主机上工作得很好，只有当我推送到 heroku 时才会发生。之前它在 Heroku 上也能正常工作，我所做的只是给它添加一个模型。

有任何想法吗？

谢谢！

使固定

[https://github.com/gregbell/active_admin/issues/1939](https://github.com/gregbell/active_admin/issues/1939)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T17:29:46.540

修复可以在这里找到

[https://github.com/gregbell/active_admin/issues/1939](https://github.com/gregbell/active_admin/issues/1939)

在 Gemfile 中添加 coffee-script-source 行。

```
group :assets do
gem 'sass-rails'
gem 'coffee-rails'
gem 'coffee-script-source', '~> 1.4.0' # ADD THIS LINE, 1.5.0 doesn't compile ActiveAdmin JavaScript files
gem 'uglifier'
end 
```

# php - 为什么解释查询在主键的连接上返回 NULL

> ID：15081271
> 
> 赞同：0
> 
> 时间：2013-02-26T04:18:46.550
> 
> 标签：php, mysql

我不确定我是否在这里做错了什么或者是什么问题

但是当我运行这个查询时

```
EXPLAIN SELECT * 
FROM reservation AS rs
INNER JOIN vehicles AS ve ON rs.vehicle_id = ve.vehicles_id
INNER JOIN customers AS cu ON rs.customerid = cu.customerid
LEFT JOIN checks AS ck ON rs.reservation_id = ck.reservation_id
LEFT JOIN credits AS cr ON rs.reservation_id = cr.reservation_id 
```

我明白了

```
id  select_type table   type    possible_keys   key key_len ref rows    Extra
1   SIMPLE  rs  ALL NULL    NULL    NULL    NULL    22   
1   SIMPLE  ve  eq_ref  PRIMARY PRIMARY 4   crm.rs.Vehicle_id   1    
1   SIMPLE  ck  ALL NULL    NULL    NULL    NULL    2    
1   SIMPLE  cr  ALL NULL    NULL    NULL    NULL    5    
1   SIMPLE  cu  eq_ref  PRIMARY PRIMARY 4   crm.rs.CustomerID   1   Using where 
```

这里的问题是我在联接中使用的所有字段都是索引或主键。有所有初级

```
ve.vehicles_id
cu.customerid
ck.reservation_id
cr.reservation_id

and these are all indexes
rs.vehicle_id
rs.customerid 
```

这是信息检查

```
CREATE TABLE `checks` (
  `Checks_id` int(11) unsigned NOT NULL auto_increment,
  `customerID` int(11) unsigned NOT NULL,
  `firstActivity` datetime NOT NULL,
  `lastActivity` datetime NOT NULL,
  `checkValue` varchar(7) NOT NULL,
  `dueDate` datetime NOT NULL,
  `Reservation_id` int(11) unsigned NOT NULL,
  `date` datetime NOT NULL,
  `isCashed` int(11) NOT NULL default '0',
  `cashingResult` int(2) NOT NULL default '0',
  PRIMARY KEY  (`Checks_id`),
  KEY `customerID` (`customerID`),
  KEY `Reservation_id` (`Reservation_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8

            CREATE TABLE `vehicles` (
              `Vehicles_id` int(11) unsigned NOT NULL auto_increment,
              `name` varchar(50) NOT NULL,
              `size` varchar(20) NOT NULL,
              `maker` varchar(20) NOT NULL,
              `model` varchar(40) NOT NULL,
              `year` year(4) NOT NULL,
              `color` varchar(20) NOT NULL,
              `oilChange` varchar(10) NOT NULL,
              `currentMillage` varchar(10) NOT NULL,
              `oilChangeMillage` varchar(10) NOT NULL,
              `registrationExp` datetime NOT NULL,
              `insuranceExp` datetime NOT NULL,
              `dailyRate` double NOT NULL default '0',
              `weekleyRate` double NOT NULL default '0',
              `monthleyRate` double NOT NULL default '0',
              `addDate` datetime NOT NULL,
              `Active` int(1) NOT NULL default '1',
              `VINnum` varchar(17) NOT NULL,
              `licensePlate` varchar(10) NOT NULL,
              `vehicleCost` double NOT NULL,
              PRIMARY KEY  (`Vehicles_id`),
              UNIQUE KEY `VINnum` (`VINnum`)
            ) ENGINE=MyISAM AUTO_INCREMENT=11 DEFAULT CHARSET=utf8

        CREATE TABLE `credits` (
          `Credits_id` int(11) unsigned NOT NULL auto_increment,
          `customerID` int(11) unsigned NOT NULL,
          `creditValue` varchar(6) NOT NULL,
          `dueDate` datetime NOT NULL,
          `Reservation_id` int(11) unsigned NOT NULL,
          `date` datetime NOT NULL,
          `firstActivity` datetime NOT NULL,
          `lastActivity` datetime NOT NULL,
          `paymentHistory` text NOT NULL,
          `paymentHistoryDate` text NOT NULL,
          PRIMARY KEY  (`Credits_id`),
          KEY `customerID` (`customerID`),
          KEY `Reservation_id` (`Reservation_id`)
        ) ENGINE=MyISAM AUTO_INCREMENT=4 DEFAULT CHARSET=utf8

    CREATE TABLE `reservation` (
      `Reservation_id` int(11) unsigned NOT NULL auto_increment,
      `Vehicle_id` int(11) unsigned NOT NULL,
      `CustomerID` int(11) unsigned NOT NULL,
      `additionalDrivers` char(54) NOT NULL,
      `dateFrom` datetime NOT NULL,
      `dateTo` datetime NOT NULL,
      `pickupDate` datetime NOT NULL,
      `dropoffDate` datetime NOT NULL,
      `addDate` datetime NOT NULL,
      `reservationStatus` tinyint(1) NOT NULL default '1' COMMENT '0 canceled, 1 Reserved, 2 In Progress, 3 Completed',
      `totalDays` int(4) NOT NULL,
      `totalDiscount` char(6) NOT NULL,
      `totalFees` char(6) NOT NULL,
      `totalRent` double NOT NULL,
      `totalTax` double NOT NULL,
      `totalChecks` double NOT NULL,
      `totalOwe` double NOT NULL default '0',
      `totalPaidCash` double NOT NULL default '0',
      `totalPaidBankCard` double NOT NULL default '0',
      PRIMARY KEY  (`Reservation_id`),
      KEY `CustomerID` (`CustomerID`),
      KEY `Vehicle_id` (`Vehicle_id`)
    ) ENGINE=MyISAM AUTO_INCREMENT=1033 DEFAULT CHARSET=utf8 
```

所以我不确定为什么我仍然为可能键和键得到 NULL ？

我究竟做错了什么？我所有的主键都具有相同的值 INT(11) unsiged。

谢谢你们的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T04:32:44.367

由于您没有用于过滤的 WHERE 条件，因此列出的第一个表将包含所有行，因此没有可用的索引是有意义的。在您的情况下，扫描所有`reservation`表格。

至于`checks`和`credits`表，您将必须显示来自 的表结构输出`SHOW CREATE TABLE tablename \G`。从您显示的查询中我看不出为什么会这样。我猜测索引列之间可能存在列类型不匹配，这会阻止 mysql 使用它们来比较行。

# asp.net - Kendo UI Grid 基本实现

> ID：15081272
> 
> 赞同：0
> 
> 时间：2013-02-26T04:18:48.343
> 
> 标签：asp.net, asp.net-mvc-4, kendo-ui, kendo-grid

我正在尝试实现 Grid 的基本功能，因为在编译我的项目时，我收到一条错误消息“预期对象”</p>

使用以下代码行：

```
 $(document).ready(function() {
                $("#grid").kendoGrid({
                    dataSource: {
                        data: createRandomData(50),  //exception in this line of code
                        pageSize: 10
                    }, 
```

你能帮我理解我需要写什么来代替 createRandomData 吗？是我从中获取数据以将其放置在网格上的表名还是其他名称？（顺便说一句，我使用 SQL Server 2008 作为后端并在 Visual Studio 2010 MVC4 上运行此代码）而且我也是 MVC 和 Kendo UI 的新手。

我试图实现的是使用 MVC 4 将数据从 SQL 服务器绑定到网格。

提前致谢！:)

这是代码：

```
 <script>
            $(document).ready(function () {
                $("#grid").kendoGrid({
                    dataSource: {
                        data: createRandomData(50),
                        pageSize: 10
                    },
                    groupable: true,
                    sortable: true,
                    pageable: {
                        refresh: true,
                        pageSizes: true
                    },
                    columns: [{
                        field: "FirstName",
                        width: 90,
                        title: "First Name"
                    }, {
                        field: "LastName",
                        width: 90,
                        title: "Last Name"
                    }, {
                        width: 100,
                        field: "City"
                    }, {
                        field: "Title"
                    }, {
                        field: "BirthDate",
                        title: "Birth Date",
                        template: '#= kendo.toString(BirthDate,"dd MMMM yyyy") #'
                    }, {
                        width: 50,
                        field: "Age"
                    }
                    ]
                });
            });
        </script> 
```

这是函数定义：

```
 function createRandomData(count) {
       var data = [],
      now = new Date();
       for (var i = 0; i < count; i++) {
        var firstName = firstNames[Math.floor(Math.random() * firstNames.length)],
        lastName = lastNames[Math.floor(Math.random() * lastNames.length)],
        city = cities[Math.floor(Math.random() * cities.length)],
        title = titles[Math.floor(Math.random() * titles.length)],
        birthDate = birthDates[Math.floor(Math.random() * birthDates.length)],
        age = now.getFullYear() - birthDate.getFullYear();

    data.push({
        Id: i + 1,
        FirstName: firstName,
        LastName: lastName,
        City: city,
        Title: title,
        BirthDate: birthDate,
        Age: age
    });
}
return data; 
```

}

控制器应该返回作为计数传递的值吗？

```
 public ActionResult createRandomData()
    {
       return View();
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T04:30:04.353

文档中有很多关于 ASP.NET 的教程。我建议从[这个](http://docs.kendoui.com/tutorials/ASP.NET/Hello%20Kendo%20UI/asp-net-hello-kendo-ui-part-1)开始。如果您不熟悉从服务器返回 JSON，还有一些关于[服务入门的教程。](http://docs.kendoui.com/tutorials/ASP.NET/asp-net-hello-services)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-28T19:56:10.307

在服务器端，定义具有必要属性的类型。然后使用来自数据库的服务器端代码或使用一些随机数据填充对象数组。从控制器使用内置的 JavaScript 序列化器将数组序列化为 JSON 并作为 JsonResult 返回。例如，

公共 JsonResult CreateRandomData(int count){

列出人员 =

return new JsonResult() { 数据 = 人员，ContentType = "application/json"，JsonRequestBehavior = JsonRequestBehavior.AllowGet };

}

内置 JsonSerializer (System.Web.Mvc) 提供 JSON 序列化和反序列化支持。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T04:23:15.207

函数 createRandomData(50) 应该返回一个 json 对象。请同时显示函数定义..

您返回的网格和 json 对象中的列名不匹配

# sql - 如何按最大日期显示行

> ID：15081273
> 
> 赞同：1
> 
> 时间：2013-02-26T04:19:19.357
> 
> 标签：sql, sql-server, tsql, sql-server-2005

使用 SQL Server 2005

**表格1**

```
ID Date Value

001 23/01/2012 100
002 24/02/2012 200
002 21/01/2012 300
003 18/02/2012 200
003 19/02/2012 100
... 
```

我想为每个 id 显示 max(date)。这个怎么做。

我试过了

`Select id, max(date), value from table group by id, value`

但输出显示所有行

**预期产出**

```
ID Date Value

001 23/01/2012 100
002 24/02/2012 200
003 19/02/2012 100
... 
```

需要 SQL 查询帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T04:33:22.560

使用排名：

```
select id,
date, value from (
select id,
date, value,
Rank() over (Partition BY ID order by date DESC) rank
from Table1) a
where a.rank = 1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T04:30:44.570

```
with CTE as 
(
Select Id, MAX(Date) as maxdate
from table1 
Group by Id
)
Select t1.ID, t1.Maxdate, t2.Value
from CTE t1, Table1 t2
where t1.ID = t2.ID
and t1.maxdate = t2.date; 
```

[演示 sqlfiddle](http://sqlfiddle.com/#!3/7cfed/12)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T04:43:06.933

尝试类似的东西

```
SELECT id, date, value 
FROM table1, (SELECT id, max(date) FROM table1 GROUP BY id) t
WHERE table1.id =t.id AND table1.date=t.date 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T08:02:10.513

带有[CTE](http://msdn.microsoft.com/en-us/library/ms190766%28v=sql.105%29.aspx) + [RANK()](http://msdn.microsoft.com/en-us/library/ms176102.aspx)函数的选项

```
;WITH cte AS
(
 SELECT id, date, value,
        RANK() OVER (PARTITION BY ID ORDER BY date DESC) AS rn
 FROM Table1
 )
 SELECT *
 FROM cte
 WHERE rn = 1 
```

[**SQLFiddle**](http://sqlfiddle.com/#!3/a3282/1)上的演示[](http://sqlfiddle.com/#!3/a3282/1)

 **带有[EXISTS](http://msdn.microsoft.com/en-us/library/ms188336.aspx)运算符的选项

```
SELECT t1.id, t1.date, t1.value
FROM Table1 t1
WHERE EXISTS(
             SELECT 1
             FROM Table1 t2
             WHERE t1.id = t2.id
             HAVING MAX(t2.date) = t1.date
             ) 
```

[**SQLFiddle**](http://sqlfiddle.com/#!3/bd0ef/1)上的演示[](http://sqlfiddle.com/#!3/bd0ef/1)

 **带有[APPLY](http://msdn.microsoft.com/en-us/library/ms175156%28v=sql.105%29.aspx)运算符的选项

```
SELECT t1.id, t1.date, t1.value
FROM Table1 t1 CROSS APPLY (
                            SELECT 1 AS 'IsMatch'
                            FROM Table1 t2
                            WHERE t1.id = t2.id
                            HAVING MAX(t2.date) = t1.date
                            ) o 
```

[**SQLFiddle**](http://sqlfiddle.com/#!3/a3282/2)上的演示[](http://sqlfiddle.com/#!3/a3282/2)****

# android - 清除 SingleChoice ListView 选择

> ID：15081274
> 
> 赞同：14
> 
> 时间：2013-02-26T04:19:26.657
> 
> 标签：android, android-layout, xamarin.android

有没有办法清除 ListView 中的选定项目？

ListView 的定义如下：

```
<ListView
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:minHeight="50dp"
    android:id="@+id/example_list"
    android:layout_weight="2"
    android:choiceMode="singleChoice"/> 
```

并使用自定义适配器填充。

使用选择器突出显示所选项目：

```
<?xml version="1.0" encoding="utf-8"?>
<selector xmlns:android="http://schemas.android.com/apk/res/android">
  <item android:state_pressed="true" >
    <shape>
      <gradient
       android:startColor="#3E5260"
         android:endColor="#3E5260"
         android:angle="270" />
    </shape>
  </item>
  <item android:state_activated="true">
    <shape>
      <gradient
       android:startColor="#3E5260"
         android:endColor="#3E5260"
         android:angle="270" />
    </shape>
  </item>
</selector> 
```

现在我真正拥有的是单个活动中的 2 个 ListView，当
在一个 ListView 中选择一个项目时，我想取消选择另一个 ListView 中的项目。

单击项目时，两个 ListView 都会引发以下处理程序：

```
void DeviceList_Click(object sender, EventArgs e)
{
    //easy enough to check which ListView raised the event
    //but then I need to deselect the selected item in the other listview
} 
```

我试过这样的事情：

```
exampleList.SetItemChecked(exampleList.SelectedItemPosition, false); 
```

和

```
exampleList.SetSelection(-1); 
```

但这似乎不起作用。

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-03-02T01:45:29.213

在这里使用`listView.SetItemChecked(-1, true);`效果很好。

这是我测试过的活动：

```
SetContentView(Resource.Layout.Main);
var listView = FindViewById<ListView>(Resource.Id.listView);
_listAdapter = new CustomListAdapter(this);
listView.Adapter = _listAdapter;

var button = FindViewById<Button>(Resource.Id.removeChoice);
button.Click += (sender, args) => listView.SetItemChecked(-1, true); 
```

主要.axml：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout 
  xmlns:android="http://schemas.android.com/apk/res/android"
  android:orientation="vertical"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"
    >
  <ListView
    android:id="@+id/listView"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:choiceMode="singleChoice"
  />
  <Button
    android:id="@+id/removeChoice"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:text="remove choice"
    />
</LinearLayout> 
```

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2013-02-26T04:38:15.423

使用[clearChoices()](http://developer.android.com/reference/android/widget/AbsListView.html#clearChoices%28%29)清除 ListView 中所有项目的选中状态

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-06-04T19:56:33.357

它对我来说很简单：

```
ListView listView = (ListView) findViewById(R.id.idMyListView);
         listView.clearFocus(); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-07-31T08:50:27.823

这是一个老问题，但以防万一其他人将来需要它，基于@Cheesebaron的回答，这就是我所做的：

在每个 ListViews上，`OnItemClickListener`将对方的列表选中项设置为 false：

```
list1.setOnItemClickListener(new AdapterView.OnItemClickListener() {
        public void onItemClick(AdapterView<?> parent, View view, int pos, long id) {
            list2.setItemChecked(list2.getSelectedItemPosition(), false);
        }
}); 
```

这个实现是用 Java 实现的，但如果你在这里得到逻辑，你也可以用 C# 实现它。希望这可以帮助。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-09-26T09:46:31.170

对于 CHOICE_MODE_SINGLE / singleChoice

```
int v = listView.getCheckedItemPosition();
if (v >= 0)
    listView.setItemChecked(v, false); 
```

# php - CakePHP 路由最佳实践（删除所有默认路由）

> ID：15081278
> 
> 赞同：0
> 
> 时间：2013-02-26T04:19:46.163
> 
> 标签：php, cakephp, routes

这是删除 CakePHP 中所有默认路由的最佳做法吗？

```
Router::connect('/**'); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T05:29:41.733

删除您的 routes.php 中的以下行

```
// load the CakePHP default routes (i.e. /controller/action/id)
require CAKE . 'Config' . DS . 'routes.php'; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T04:24:14.630

如果您已经完全自定义了所有路由，并且希望避免搜索引擎对任何可能的重复内容处罚，您可以通过从应用程序的 routes.php 文件中删除 CakePHP 提供的默认路由来删除它们。

当用户尝试访问通常由 CakePHP 提供但尚未明确连接的 url 时，这将导致 CakePHP 服务错误。

更多参考

[http://book.cakephp.org/2.0/en/development/routing.html](http://book.cakephp.org/2.0/en/development/routing.html)

# wpf - 在 WPF 中重叠两个数据网格

> ID：15081281
> 
> 赞同：0
> 
> 时间：2013-02-26T04:20:03.457
> 
> 标签：wpf, wpfdatagrid

在我的项目（WPF）中，我使用了两个数据网格，两个数据网格一一放置在同一个 xaml 窗口中。当我运行应用程序时，这两个数据网格是重叠的。如何分离这两个数据网格？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-26T04:47:38.587

好吧，您可以尝试这样的事情

```
 <Grid>
    <Grid.ColumnDefinitions>
        <ColumnDefinition Width="250"></ColumnDefinition>
        <ColumnDefinition Width="250"></ColumnDefinition>
    </Grid.ColumnDefinitions>
    <Grid Grid.Column="0" Background="Azure"></Grid>
    <Grid Grid.Column="1" Background="BlanchedAlmond"></Grid>

</Grid> 
```

为我工作您可以在 Maingrid Columns 中定义两个网格

希望能帮助到你

# linux - 从第 3 方二进制包构建 RPM

> ID：15081288
> 
> 赞同：0
> 
> 时间：2013-02-26T04:21:08.220
> 
> 标签：linux, rpm, puppet

我们正在切换到使用 puppet 来对基于 Linux 的系统进行配置管理。我们有几个包含自定义二进制安装程序（想想 JDK）的第三方包，并且正在使用 RPM 将它们构建到仅限本地的非分布式包中。一个麻烦的包有一个安装过程，它需要以下内容：a）将二进制包解压到*安装*目录 X。b）运行“安装程序”，提示接受许可证，然后*将安装目录路径修改/嵌入到安装目录中的许多后续脚本中*.

我在定义一个规范文件来安装这个包时遇到问题。对于初学者，在 %install 中我处理步骤 a，然后从步骤 b 运行安装程序。这会按预期将包安装到 $RPM_BUILD_ROOT 中。然而，包脚本都嵌入了 $RPM_BUILD_ROOT/ 而不仅仅是破坏了嵌入安装目录的脚本。有没有办法像在 chroot 环境或其他替代环境中一样运行此安装程序？任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T20:31:48.763

在 Fedora 下（我怀疑还有 RHEL/CentOS）有一个[模拟](http://fedoraproject.org/wiki/Projects/Mock)你描述的任务类型。它用于构建包，但“填充 chroot”部分应该很容易（误用）来创建您需要的环境。

# sql - 多列动态数据透视表

> ID：15081290
> 
> 赞同：1
> 
> 时间：2013-02-26T04:21:11.497
> 
> 标签：sql, dynamic, pivot

我正在尝试为多列获取一个干净的数据透视表。

创建输入表

```
create table #temp (
  ORDER_ID INT NOT NULL,
  TEST_PLAN INT NOT NULL,
  COLLECTION_TYPE INT NOT NULL,
  TEST_GRP INT NOT NULL,
  TEST INT NOT NULL
)

INSERT INTO #temp (ORDER_ID,TEST_PLAN,COLLECTION_TYPE,TEST_GRP,TEST) VALUES (1,1,2,1360942998,1360943100)
INSERT INTO #temp (ORDER_ID,TEST_PLAN,COLLECTION_TYPE,TEST_GRP,TEST) VALUES (2,1,2,1360943006,1360943079)
INSERT INTO #temp (ORDER_ID,TEST_PLAN,COLLECTION_TYPE,TEST_GRP,TEST) VALUES (1,2,2,1360942845,1360943173)
INSERT INTO #temp (ORDER_ID,TEST_PLAN,COLLECTION_TYPE,TEST_GRP,TEST) VALUES (2,2,2,1360942845,1360943134)
INSERT INTO #temp (ORDER_ID,TEST_PLAN,COLLECTION_TYPE,TEST_GRP,TEST) VALUES (3,2,2,1360942845,1360943189)
INSERT INTO #temp (ORDER_ID,TEST_PLAN,COLLECTION_TYPE,TEST_GRP,TEST) VALUES (1,3,2,1360942998,1360943100) 
```

结果...

```
ORDER_ID PLAN COLLECTION_TYPE TEST_GRP   TEST        
-------- ---- --------------- ---------- ----------
1        1    2               1360942998 1360943100
2        1    2               1360943006 1360943079
1        2    1               1360942845 1360943173
2        2    1               1360942845 1360943134
3        2    1               1360942845 1360943189
1        3    2               1360942998 1360943100 
```

我想要以下内容，其中 ORDER_ID 附加到 COLLECTION_TYPE、TEST_GRP 和 TEST 列

```
PLAN COLLECTION_TYPE_1 TEST_GRP_1 TEST_1     COLLECTION_TYPE_2 TEST_GRP_2 TEST_2     COLLECTION_TYPE_3 TEST_GRP_3 TEST_3
---- ----------------- ---------- ---------- ----------------- ---------- ---------- ----------------- ---------- ----------
1    2                 1360942998 1360943100 2                 1360943006 1360943079  NULL              NULL       NULL
2    1                 1360942845 1360943173 1                 1360942845 1360943134 1                 1360942845 1360943189
3    2                 1360942998 1360943100 NULL              NULL       NULL       NULL              NULL       NULL 
```

我有这个并且它可以工作，但正在寻找一些更清洁的东西（例如 Few Nulls）。

```
DECLARE  @SQL  NVARCHAR(MAX),
         @Cols NVARCHAR(MAX)

SELECT @cols = STUFF((select ',
MAX(CASE WHEN [TEST_PLAN]=' + CONVERT(VARCHAR,[TEST_PLAN]) + ' AND [ORDER_ID] = ' + CONVERT(VARCHAR,[ORDER_ID]) +
' THEN [TEST_GRP] ELSE NULL END) AS [TEST_GRP_' + CONVERT(VARCHAR,[ORDER_ID]) + '],
MAX(CASE WHEN [TEST_PLAN]=' + CONVERT(VARCHAR,[TEST_PLAN]) + ' AND [ORDER_ID] = ' + CONVERT(VARCHAR,[ORDER_ID]) +
' THEN [TEST_GRP] ELSE NULL END) AS [TEST_' + CONVERT(VARCHAR,[ORDER_ID]) + '],
MAX(CASE WHEN [TEST_PLAN]=' + CONVERT(VARCHAR,[TEST_PLAN]) + ' AND [ORDER_ID] = ' + CONVERT(VARCHAR,[ORDER_ID]) +
' THEN [COLLECTION_TYPE] ELSE NULL END) AS [COLLECTION_TYPE_' + CONVERT(VARCHAR,[ORDER_ID]) + ']'
FROM #temp
ORDER BY [TEST_PLAN],[ORDER_ID] FOR XML PATH(''),type).value('.','varchar(max)'),1,2,'')

SET @SQL = 'SELECT TEST_PLAN,' + @Cols + ' FROM #Temp GROUP BY TEST_PLAN'

EXECUTE( @SQL) 
```

有输出...

```
TEST_PLAN   TEST_GRP_1  TEST_1      COLLECTION_TYPE_1 TEST_GRP_2  TEST_2      COLLECTION_TYPE_2 TEST_GRP_1  TEST_1      COLLECTION_TYPE_1 TEST_GRP_2  TEST_2      COLLECTION_TYPE_2 TEST_GRP_3  TEST_3      COLLECTION_TYPE_3 TEST_GRP_4  TEST_4      COLLECTION_TYPE_4 TEST_GRP_5  TEST_5      COLLECTION_TYPE_5 TEST_GRP_6  TEST_6      COLLECTION_TYPE_6 TEST_GRP_7  TEST_7      COLLECTION_TYPE_7 TEST_GRP_8  TEST_8      COLLECTION_TYPE_8 TEST_GRP_9  TEST_9      COLLECTION_TYPE_9 TEST_GRP_10 TEST_10     COLLECTION_TYPE_10 TEST_GRP_1  TEST_1      COLLECTION_TYPE_1
----------- ----------- ----------- ----------------- ----------- ----------- ----------------- ----------- ----------- ----------------- ----------- ----------- ----------------- ----------- ----------- ----------------- ----------- ----------- ----------------- ----------- ----------- ----------------- ----------- ----------- ----------------- ----------- ----------- ----------------- ----------- ----------- ----------------- ----------- ----------- ----------------- ----------- ----------- ------------------ ----------- ----------- -----------------
1           1360942998  1360942998  2                 1360943006  1360943006  2                 NULL        NULL        NULL              NULL        NULL        NULL              NULL        NULL        NULL              NULL        NULL        NULL              NULL        NULL        NULL              NULL        NULL        NULL              NULL        NULL        NULL              NULL        NULL        NULL              NULL        NULL        NULL              NULL        NULL        NULL               NULL        NULL        NULL
2           NULL        NULL        NULL              NULL        NULL        NULL              1360942845  1360942845  2                 1360942845  1360942845  2                 1360942845  1360942845  2                 1360942845  1360942845  2                 1360942845  1360942845  2                 1360942845  1360942845  2                 1360942845  1360942845  2                 1360942845  1360942845  2                 1360942845  1360942845  2                 1360942845  1360942845  2                  NULL        NULL        NULL
3           NULL        NULL        NULL              NULL        NULL        NULL              NULL        NULL        NULL              NULL        NULL        NULL              NULL        NULL        NULL              NULL        NULL        NULL              NULL        NULL        NULL              NULL        NULL        NULL              NULL        NULL        NULL              NULL        NULL        NULL              NULL        NULL        NULL              NULL        NULL        NULL               1360942998  1360942998  2 
```

我已经搜索了最接近上述 sql 的解决方案。

感谢 jlimited

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T04:43:52.180

为了得到你想要的结果，我必须同时使用`UNPIVOT`和`PIVOT`函数。`UNPIVOT`将从列中获取您的值并将其转换为行，然后获取`PIVOT`行并将其转换回列。

有时，先使用查询的静态或硬编码版本，然后再转换为动态 SQL 会更容易。静态版本将是：

```
select [Plan],
  Isnull(COLLECTION_TYPE_1, '') COLLECTION_TYPE_1, 
  Isnull(TEST_GRP_1, '') TEST_GRP_1, 
  Isnull(TEST_1, '') TEST_1,
  Isnull(COLLECTION_TYPE_2, '') COLLECTION_TYPE_2, 
  Isnull(TEST_GRP_2, '') TEST_GRP_2, 
  Isnull(TEST_2, '') TEST_2,
  Isnull(COLLECTION_TYPE_3, '') COLLECTION_TYPE_3, 
  Isnull(TEST_GRP_3, '') TEST_GRP_3, 
  Isnull(TEST_3, '') TEST_3
from
(
  select [PLAN], col + '_'+ cast(ORDER_ID as varchar(50)) col, value
  from
  (
    select ORDER_ID,[PLAN],COLLECTION_TYPE,TEST_GRP,TEST
    from temp
  ) s
  unpivot
  (
    value
    for col in (COLLECTION_TYPE,TEST_GRP,TEST)
  ) unpiv
) src
pivot
(
  max(value)
  for col in (COLLECTION_TYPE_1, TEST_GRP_1, TEST_1,
              COLLECTION_TYPE_2, TEST_GRP_2, TEST_2,
              COLLECTION_TYPE_3, TEST_GRP_3, TEST_3)
) piv 
```

请参阅[SQL Fiddle with Demo](http://www.sqlfiddle.com/#!3/58a4a/8)。

一旦有了静态版本，就可以轻松地将其转换为动态 SQL。生成动态 SQL 时，您可以创建一个列列表，将`null`值替换为空字符串或其他清除`nulls`. 动态SQL代码为：

```
DECLARE @cols AS NVARCHAR(MAX),
    @colsNames AS NVARCHAR(MAX),
    @query  AS NVARCHAR(MAX)

select @cols = STUFF((SELECT ',' + QUOTENAME(col + '_'+ cast(ORDER_ID as varchar(50))) 
                    from temp t
                    cross apply 
                    (
                      select 'COLLECTION_TYPE' col, 1 SortOrder
                      union all
                      select 'TEST_GRP' col, 2 SortOrder
                      union all
                      select 'TEST' col, 3 SortOrder
                    ) c
                    group by col, ORDER_ID, sortorder
                    order by ORDER_ID, sortorder
            FOR XML PATH(''), TYPE
            ).value('.', 'NVARCHAR(MAX)') 
        ,1,1,'')

select @colsNames = STUFF((SELECT ', IsNull(' + QUOTENAME(col + '_'+ cast(ORDER_ID as varchar(50)))+', '''') as '+QUOTENAME(col + '_'+ cast(ORDER_ID as varchar(50)))
                    from temp t
                    cross apply 
                    (
                      select 'COLLECTION_TYPE' col, 1 SortOrder
                      union all
                      select 'TEST_GRP' col, 2 SortOrder
                      union all
                      select 'TEST' col, 3 SortOrder
                    ) c
                    group by col, ORDER_ID, sortorder
                    order by ORDER_ID, sortorder
            FOR XML PATH(''), TYPE
            ).value('.', 'NVARCHAR(MAX)') 
        ,1,1,'')

set @query = 'SELECT [PLAN],' + @colsNames + ' from 
             (
                select [PLAN], col + ''_''+ cast(ORDER_ID as varchar(50)) col, value
                from
                (
                  select ORDER_ID,[PLAN],COLLECTION_TYPE,TEST_GRP,TEST
                  from temp
                ) s
                unpivot
                (
                  value
                  for col in (COLLECTION_TYPE,TEST_GRP,TEST)
                ) unpiv
            ) src
            pivot 
            (
                max(value)
                for col in (' + @cols + ')
            ) p '

execute(@query) 
```

请参阅[带有演示的 SQL Fiddle](http://www.sqlfiddle.com/#!3/58a4a/7)

两者都给出结果：

```
| PLAN | COLLECTION_TYPE_1 | TEST_GRP_1 |     TEST_1 | COLLECTION_TYPE_2 | TEST_GRP_2 |     TEST_2 | COLLECTION_TYPE_3 | TEST_GRP_3 |     TEST_3 |
--------------------------------------------------------------------------------------------------------------------------------------------------
|    1 |                 2 | 1360942998 | 1360943100 |                 2 | 1360943006 | 1360943079 |                 0 |          0 |          0 |
|    2 |                 1 | 1360942845 | 1360943173 |                 1 | 1360942845 | 1360943134 |                 1 | 1360942845 | 1360943189 |
|    3 |                 2 | 1360942998 | 1360943100 |                 0 |          0 |          0 |                 0 |          0 |          0 | 
```

# bash - 如何将一个零填充的整数打印到给定的宽度？

> ID：15081297
> 
> 赞同：2
> 
> 时间：2013-02-26T04:21:59.500
> 
> 标签：bash, integer, width

我正在用 bash 做这样的事情

```
number=1
while [ $number -le 10 ]; do
    echo $number
    number=$((number+1))
done 
```

这将输出：

```
1
2
3
4
5
6
7
8
9
10 
```

.

如果我想要整数的总位数为 2，我该怎么办。如果整数的位数少于两位，则在左侧填充零。换句话说，我想要这样的输出：

```
01
02
03
04
05
06
07
08
09
10 
```

有人知道如何管理这个吗？谢谢：）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T04:25:58.657

使用`printf`代替`echo`：

```
printf "%02d\n" $number 
```

# java - 将输入的字符串字符保存到二维数组中

> ID：15081299
> 
> 赞同：-1
> 
> 时间：2013-02-26T04:22:04.257
> 
> 标签：java, multidimensional-array

我需要一些帮助，我不知道我在哪里得到错误。我需要将输入字符串的每个字符保存在二维数组中。我还输入了行号和列号以及水平和垂直方向。从那里我评估了字符串的每个字符，`charAt`并将其保存在基于输入的行号和列号的数组中的特定位置..这是我的代码..

```
playedword = word.getText().toString();
evalrow = Integer.parseInt(inrow.getText().toString());
evalcolumn = Integer.parseInt(incolumn.getText().toString());
evalorient = inorient.getText().toString();

if(evalorient.equals("H")){
    orientation=0; //horizontal
}
else if(evalorient.equals("V")){
    orentation=1; //vertical
}

if(playedword.length()>0){
    if(vertical == 0){
        for(int u=0; u<playedword.length(); u++){
            arr2[evalrow][evalcolumn+u] = playedword.charAt(u);
        }
    }
    else if(vertical == 1){
        for(int u=0; u<playedword.length(); u++){
            arr2[evalrow+u][evalcolumn] = playedword.charAt(u);
        }
    }
} 
```

arr2 是我的 6x6 维度的二维数组.....我不知道这里的错误..请帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T04:33:28.730

从字符串转换为二维数组试试这个逻辑

```
char[][] array = new char[5][5];
String str="hello how are you my dear";
for (int i = 0; i < 5; ++i)
{
  str.getChars(i*5, (i*5)+5, array[i], 0);    // str is the 25-char string
} 
```

# c++ - 霍夫曼树的存储和重建

> ID：15081300
> 
> 赞同：3
> 
> 时间：2013-02-26T04:22:17.297
> 
> 标签：c++, tree, huffman-code

什么是使霍夫曼树脱水的最佳方法，脱水我的意思是给定一棵霍夫曼树，以及每片叶子中的字符，如何有效地存储这棵树的结构，然后再重建它。

取下面的树：

```
---------------garbage------
 -------------/-------\------
 ------------A-------garbage-
 --------------------/-----\-
 -------------------B-------C- 
```

一个想法可能是将符号存储在每个级别，然后使用此信息来重建树。在这种情况下：A1B2C2。那么我怎样才能首先获得关卡，并将每个关卡与角色相关联。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-26T07:23:43.957

您几乎可以肯定不需要存储树本身。您可以这样做，而且它不应该占用您认为的空间，但通常不是必需的。

如果您的霍夫曼代码是规范的，您只需要存储每个符号的位长，因为这是生成规范编码所需的所有信息。这是每个符号相对较少的位数，因此应该相当紧凑。您还可以进一步压缩该信息（请参阅[Aki Suihkonen](https://stackoverflow.com/users/1716339/aki-suihkonen)的[答案](https://stackoverflow.com/a/15106707/1288598)）。

自然，代码的位长与树深度基本相同，所以我认为这大致就是您要问的。重要的部分是知道如何构建规范代码，给定长度 - 它不一定与遍历树产生的代码相同。您可以从中重新生成*一*棵树，但它不一定是您开始使用的树 - 但是通常除了首先确定代码长度之外您不需要树。

生成规范代码的算法相当简单：

1.  获取您要为其生成代码的所有符号，首先按代码长度（最短的优先）排序，然后按符号本身排序。
2.  从零长度代码开始。
3.  如果下一个符号需要的位比代码中的当前位多，请在代码的右侧（最低有效位）添加零，直到达到正确的长度。
4.  将代码与当前符号相关联，并递增代码。
5.  循环回 (3)，直到您生成了所有符号。

取字符串“香蕉”。显然，使用了 3 个符号，“b”、“a”和“n”，计数分别为 1、3 和 2。

所以树可能看起来像这样：

```
    *
   / \
  * 一种
 / \
十亿

```

天真地，这可以给出代码：

```
a = 1
b = 00
n = 01

```

但是，如果您只是使用位长作为规范代码生成的输入，您将产生以下结果：

```
a = 0
b = 10
n = 11

```

它是一个不同的代码，但显然它会产生相同长度的压缩输出。此外，您只需要存储代码长度即可重现代码。

所以你只需要存储一个序列：

```
0... 1 2 0... 2 0...

```

其中“...”表示易于压缩的重复，并且值都将非常小（每个可能只有 4 位 - 请注意根本不存储符号）。这种表示将非常紧凑。

如果您确实必须存储树本身，则一种技术是遍历树并存储一个位以指示节点是内部节点还是叶节点，然后对于叶节点，存储符号代码。这对于不包含所有符号的树来说是相当紧凑的，即使对于相当完整的树来说也不算太糟糕。最坏情况的大小将是所有符号的总大小，加上尽可能多的单个位节点。对于标准的 8 位字节流，这将是 320 字节（代码为 256 字节，树结构本身为 511 位）。

方法是从根节点开始，对于每个节点：

*   如果节点是父节点，则输出 0，然后输出左子节点，然后输出右子节点。
*   如果节点是叶子，则输出1，然后输出符号

要重构，执行类似的递归过程，但显然是读取数据并选择是递归创建子代，还是读取符号，视情况而定。

对于上面的示例，树的比特流将类似于：

```
0, 0, 1, 'b', 1, 'n', 1, 'a'

```

这是树的 5 位，加上符号的 3 个字节，四舍五入到 4 个字节的存储空间。但是，随着您添加更多符号，它会迅速增长，而存储代码长度则不会。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-27T07:49:29.550

[zlib 规范](http://www.gzip.org/zlib/rfc-deflate.html)解释说，存储霍夫曼树只需要每个符号的位长。例如，如果为 A=101、B=111、C=110、D=01 构建一棵树，则只需计算位长并根据长度重新生成树，以便关键字是连续的 --> A=101， B=110，C=111，D=01。（或以下代码产生的任何内容）

设置`bl_count[2]=1, bl_count[3]=3`和迭代：

```
code = 0;   // From z-lib specification, RFC 1951
bl_count[0] = 0;
for (bits = 1; bits <= MAX_BITS; bits++) {
    code = (code + bl_count[bits-1]) << 1;
    next_code[bits] = code;
} 
```

由于最大符号长度将小于 16，因此每个符号最多需要 4 位来存储这些长度：3、3、3、2 == 0011 0011 0011 0010；然而，zlib/deflate 做得更好——它*运行长度使用转义符号对这些符号进行编码*，例如 16 == run of 3、17: run of 4 等，以进一步压缩符号长度流。RLE 也采用零长度的情况，即缺少字符。

# macos - 决定使用绑定的最佳实践

> ID：15081304
> 
> 赞同：1
> 
> 时间：2013-02-26T04:22:51.223
> 
> 标签：macos, cocoa, cocoa-bindings

作为一名 OS X 开发人员，我什么时候应该使用 Cocoa Bindings 而不是传统编码？

# macos - 如何在 Xcode for OS X 中添加类似 Windows 的网络链接？

> ID：15081309
> 
> 赞同：0
> 
> 时间：2013-02-26T04:23:39.193
> 
> 标签：macos, url, xcode4.2, label, nstextfield

在 Windows 系统中，通常的 Web 链接就像带下划线的蓝色文本。单击它时，它将引导您进入网络浏览器并打开该网站。

但是，我没有找到在 Xcode 中创建相同效果的完美方法。

这就是我目前的做法：

首先，这是自定义表格的一部分。每行代表一个子视图，底部有蓝色背景。鼠标移入时出现蓝色背景（通过设置蓝色图像），鼠标移出时出现不悦（通过设置白色图像）。这是视觉效果：
[Image, click me](http://img3.douban.com/view/photo/photo/public/p1882530418.jpg)

当鼠标在“Connect”标签上时，鼠标应该像普通的网络链接一样将自己的外观变成“手指”：
[Image, click me](http://img3.douban.com/view/photo/photo/public/p1882562193.jpg)

I subclassed NSTextField 并覆盖**mouseDown :**和**mouseUp:**方法使标签可点击。但我不知道如何改变鼠标外观......有什么

建议吗？非常感谢大家！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-29T00:41:48.800

我找到了自己的解决方案。按照示例代码：[DragItemAround](http://developer.apple.com/library/mac/#documentation/Cocoa/Reference/ApplicationKit/Classes/NSCursor_Class/Reference/Reference.html)
使用方法*addCursorRect:cursor：*

此外，继承 NSTextField 并捕获*mouseDown:*方法来实现点击动作。

# android - 无法在 Android 中导入 widget.CalendarView

> ID：15081310
> 
> 赞同：1
> 
> 时间：2013-02-26T04:23:40.153
> 
> 标签：android, eclipse, android-query

请帮助，我正在使用 CalendarView，但我的项目无法在源代码中导入此小部件（通过智能感知或手动输入）。我需要做什么？我的项目基于 android 2.2 及更高版本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T09:12:31.540

您需要使用更高的 Api，例如 Android 3.0 plus。除非您使用外部库，否则 Android 2.2 不支持日历视图。

# ruby - 在测试模型时，respond_to 真的对我们有什么帮助吗

> ID：15081311
> 
> 赞同：0
> 
> 时间：2013-02-26T04:23:40.037
> 
> 标签：ruby, rspec, ruby-on-rails-3.2, rspec-rails

当我们定义一个模型并且它有一些字段时，有时在一些 RSpec 测试中我会看到如下内容：

```
let(:network) { build(:provider_network) }

  it 'responds to provider count' do
    expect(network).to respond_to(:provider_count)
  end 
```

因此，例如，在这里我们在模型中有一个名为的字段，`provider_count`因此我们为它创建了该测试。
我想看看这是否真的有必要和测试它的好习惯？还是只是假的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T04:36:21.343

关于某物有多“有用”的问题几乎总是有争议的，尤其是在测试中——然而，在我看来，所写的测试是如此微不足道以至于毫无用处。相反，任何涵盖真正功能的测试（例如，*使用*该`provider_count`字段的测试）也将固有地测试模型响应`provider_count`。正如所写的那样，测试有点像有`"foo".should == "foo"`什么意义？

您本质上是在测试表单，而不是在这里起作用。单元测试应该几乎总是测试功能而不是形式。

我认为这个测试不是杂乱无章的唯一情况是作为文档的主要位置。例如，如果`provider_count`是一个非规范化字段，看起来像是将来删除的候选对象，或者涉及错误修复，那么将此测试作为稍后将要中断的点，以吸引未来的开发人员关注测试是可以的。一旦他们的眼睛被吸引，那么你就有了文档，可以告诉他们`provider_count`不能简单地删除或更改的原因。如果您确定有人可能会想将其移除，那么它是一种避雷针，可以告诉人们该领域的目的。

当然，从理论上讲，如果有人弄乱 ，您将在其他地方进行另一个功能更强的测试`provider_count`，因此唯一的价值是预测有人会破坏它并混淆其他测试如何没有通过他们的更改. 这是太多的猜测和算命，我会尽量避免这种冲动作为 YAGNI 的延伸。

# java - 多维数组的新手

> ID：15081315
> 
> 赞同：3
> 
> 时间：2013-02-26T04:24:45.170
> 
> 标签：java, multidimensional-array, matrix

我想构建一个程序来操作多维数组，这是我想学习的一个新概念......

我想它可能有一些方法......

```
public int get(int row, int column)
//  a method to get the value in row/column
//  keep in mind columns/rows start at 0

public void set(int row, int column, int value)
// a method to set the matrix element to the value
// again keep in mind columns/rows start at 0

public void negate()
// method that negates through each element

public void add(Matrix m)
// adds the matrix m to this 
```

谁能告诉我这是否是正确的方法，我该怎么做？提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T04:32:14.520

您的方法看起来通常是明智的。

有几点需要考虑：

*   `int`对于数学矩阵的基本数据类型来说，这并不是一个好的选择。例如，您通常无法获得`int`矩阵的准确逆。你确定你宁愿不使用`double`吗？
*   使此类向量/矩阵*不可变*可能是个好主意。在这种情况下`add`，`set`和`negate`应该返回一个新的矩阵。支持可变性的唯一真正论据是性能（但在这种情况下......你应该使用现有的库而不是滚动你自己的库！）

如果你想使用或研究一个现有的库来做这样的事情（以及更多），那么你可能会对我相当广泛的向量/矩阵数学库感兴趣：

*   [https://github.com/mikera/vectorz](https://github.com/mikera/vectorz)

Vectorz 专门针对`double`用于快速数值工作的原始数组，但同样的原则也适用于任何类型的数组/矩阵。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T04:28:52.073

看看这个实现并分析它，如果这是为了家庭作业，那么如果你不知道发生了什么，那么“剪贴板继承”对你没有好处。

```
 public class Matrix
{
    private double[][] matrixData;

    private int col;

    private int row;

    /**
     * Create matrix of zero size
     */
    public Matrix()
    {
        this(0);
    }

    public Matrix(double[][] matrixData)
    {
        this.matrixData = matrixData;

        this.row = matrixData.length;
        this.col = matrixData[0].length;
    }

    public Matrix(double[] matrixData)
    {
        this.row = matrixData.length;
        for (int i = 0, size = matrixData.length; i < size; i++)
        {
            this.matrixData[0][i] = matrixData[i];
        }
    }

    public Matrix(int size)
    {
        this.matrixData = new double[size][size];
        this.col = size;
        this.row = size;
    }

    public Matrix(int row, int col)
    {
        matrixData = new double[row][col];
        this.row = row;
        this.col = col;
    }

    /**
     * Static method which creates a matrix with a single column.
     * 
     * @param input
     * @return
     */
    public static Matrix createColumnMatrix(final double input[])
    {
        double result[][] = new double[input.length][1];
        for (int i = 0; i < input.length; i++)
            result[i][0] = input[i];

        return new Matrix(result);
    }

    /**
     * Static method which creates a matrix with a single row.
     * 
     * @param input
     * @return
     */
    public static Matrix createRowMatrix(final double input[])
    {
        double result[][] = new double[1][input.length];
        for (int i = 0, size = input.length; i < size; i++)
            result[0][i] = input[i];

        return new Matrix(result);
    }

    /**
     * Convert the matrix into a one dimentional matrix
     * 
     * @return
     */
    public double[] toPackedArray()
    {
        int size = row * col;
        int index = 0;
        double[] results = new double[size];
        for (int i = 0; i < row; i++)
            for (int j = 0; j < col; j++)
                results[index++] = matrixData[i][j];

        return results;
    }

    /**
     * Adds the specified value to given cell in the matrix.
     * 
     * @param row
     * @param col
     * @param value
     */
    public void add(final int row, final int col, final double value)
    {
        matrixData[row][col] += value;
    }

    /**
     * Sets every cell in a matrix to zero.
     */
    public void clear()
    {
        for (int i = 0; i < row; i++)
            for (int j = 0; j < col; j++)
                matrixData[i][j] = 0;
    }

    @Override
    protected Object clone() throws CloneNotSupportedException
    {
        return new Matrix(matrixData);
    }

    @Override
    public boolean equals(Object obj)
    {
        if (obj == null)
        {
            return false;
        }
        if (!(obj instanceof Matrix))
        {
            return false;
        }
        Matrix that = (Matrix)obj;
        for (int i = 0; i < row; i++)
            for (int j = 0; j < col; j++)
            {
                if (matrixData[i][j] != that.get(i,j))
                    return false;
            }

        return true;
    }

    public void print()
    {
        for (int i = 0; i < matrixData.length; i++)
        {
            for (int j = 0; j < matrixData[i].length; j++)
            {
                System.out.print(matrixData[i][j] + ", ");
            }
            System.out.println();
        }
    }

    /**
     * Gets one column of a matrix object as a new matrix object.
     * 
     * @param col
     * @return
     */
    public Matrix getCol(final int col)
    {
        double[] results = new double[matrixData[col].length];
        for (int i = 0; i < row; i++)
            results[i] = matrixData[i][col];

        return Matrix.createColumnMatrix(results);
    }

    /**
     * Gets one row of a matrix object as a new matrix object.
     * 
     * @param row
     * @return
     */
    public Matrix getRow(final int row)
    {
        double[] results = new double[this.row];
        for (int i = 0; i < col; i++)
            results[i] = matrixData[row][i];

        return Matrix.createRowMatrix(results);
    }

    /**
     * Returns the sum of every cell in a matrix object.
     * 
     * @return
     */
    public double sum()
    {
        double total = 0;
        for (int i = 0; i < row; i++)
            for (int j = 0; j < col; j++)
            {
                total += matrixData[i][j];
            }
        return total;
    }

    /**
     * Determines if every cell in a matrix object is zero.
     * 
     * @return
     */
    public boolean isZero()
    {
        for (int i = 0; i < row; i++)
            for (int j = 0; j < col; j++)
            {
                if (matrixData[i][j] != 0)
                    return false;
            }

        return true;
    }

    /**
     * Get given value at a specific location
     * 
     * @param row
     * @param col
     * @return
     */
    public double get(int row, int col)
    {
        return matrixData[row][col];
    }

    public int getCols()
    {
        return col;
    }

    public int getRows()
    {
        return row;
    }

    public static Matrix identity(final int size)
    {
        final Matrix result = new Matrix(size,size);

        for (int i = 0; i < size; i++)
        {
            result.set(i,i,1);
        }
        return result;
    }

    /**
     * Set given row and column using 0 based indexes
     * 
     * @param row
     * @param col
     * @param value
     */
    public void set(int row, int col, double value)
    {
        matrixData[row][col] = value;
    }

    /**
     * Get the copy of the current matrix
     * 
     * @return
     */
    public double[][] getRawMatrix()
    {
        double[][] copy = new double[matrixData.length][];
        for (int i = 0; i < matrixData.length; i++)
        {
            copy[i] = new double[matrixData[i].length];
            for (int j = 0; j < matrixData[i].length; j++)
                copy[i][j] = matrixData[i][j];
        }
        return copy;
    }

    public static void dump(double[] arr)
    {
        for (int i = 0; i < arr.length; i++)
        {
            System.out.print(arr[i] + ", ");
        }
    }

    public void dump()
    {
        dump(System.out);
    }

    public void dump(PrintStream ps)
    {
        for (int i = 0; i < row; i++)
        {
            for (int j = 0; j < col; j++)
            {
                ps.print(matrixData[i][j] + ", ");
            }
            ps.println();
        }
        ps.println();
    }

    public void add(Matrix contribution)
    {
        // TODO Auto-generated method stub

    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T04:31:28.003

> 谁能告诉我这是否是正确的方法，我该怎么做？

是的，一点没错。

但是，按照惯例，注释应该在方法声明的上方。并称为方法头。

例如：

```
//  a method to get the value in row/column
//  keep in mind columns/rows start at 0
public int get(int row, int column) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T04:37:58.220

您的界面（即您计划的方法）似乎非常合理。

至于一般的多维数组操作，有很多关于这方面的教程，例如[here](http://www.homeandlearn.co.uk/java/multi-dimensional_arrays.html)、[here](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html)、[here](http://www.youtube.com/watch?v=ctab5xPv-Vk)、[here](http://forum.codecall.net/topic/46191-multidimensional-arrays/)和[here](http://www.javatutorialhub.com/java-arrays.html)。

Aaand 让您开始使用简单的代码示例：

**创建很棒的多维数组**

```
int[][] multi = new int[2][3]; // this mda has two rows and three columns 
```

**访问他们的 rad 元素**

```
int el = multi[0][1]; // el is in the first row, second column 
```

**像老板一样遍历它们**

```
for (int rowNum = 0; rowNum < multi.length; rowNum++) {
    for (int colNum = 0; colNum < multi[rowNum].length; colNum++) {
        int currentElement = multi[rowNum][colNum];
    }
} 
```

# objective-c - 覆盖自定义类的方法。Objective-C

> ID：15081317
> 
> 赞同：0
> 
> 时间：2013-02-26T04:24:50.483
> 
> 标签：objective-c

```
- (void)setFrame:(CGRect)frame
{
    [super setFrame:frame];

    // code...
} 
```

这基本上就是我在 Objective-C 中重写类的标准方法所做的。我创建了一个自定义类 myClass，它有一个名为 style NSInteger myStyle 的变量。

我尝试了同样的事情：

```
- (void)setMyStyle:(NSInteger)myStyle
{
    [super setMyStyle:myStyle];

    // code...
} 
```

但它不起作用，因为它找不到这个方法：

```
[super setMyStyle:myStyle]; 
```

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T04:26:10.503

> 但它不起作用，因为它找不到这个方法：

当你调用`[super setMyStyle:myStyle];`你的超类必须有一个名为`setMyStyle`.

编辑：

> 我创建了一个自定义类 myClass，它有一个名为 style NSInteger myStyle 的变量。

由于您有一个名为 的变量`myStyle`，因此您需要为其创建 setter 和 getter。为此，您需要创建方法或使用`@property`/ `@synthesize`。

或者不需要创建 iVar，您可以直接为`myStyle`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T04:35:00.353

确保在父类的头文件中声明了方法：

```
//ParentClass.h

@interface ParentClass : ItsParentClass {

}

- (void)setMyStyle:(NSInteger)myStyle; 
```

并且您在子类中#include 标题

```
//YourSubClass.h
#import "ParentClass.h"

@interface YourSubClass : ParentClass {

} 
```

这样，当您调用 -[super setMyStyle:] 时，编译器期望 super 的类（ParentClass）具有 setMyStyle 方法，您不会收到错误。

```
#import "YourSublass.h"
@implementation YourSublass

- (void)setMyStyle:(NSInteger)myStyle
{
    [super setMyStyle:myStyle];

    // code...
}

@end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T04:30:39.207

我能想到的另一个原因是，您可能忘记在头类中包含父类？

```
@interface CustomClass : ParentClass{

} 
```

希望这可以帮助..

# php - 存储值而不自动链接到页面

> ID：15081319
> 
> 赞同：0
> 
> 时间：2013-02-26T04:25:09.920
> 
> 标签：php

有没有一种方法可以在不自动进入下一页的情况下传输这些输入值。

```
 <form method="GET" action="cos2.php">
<td> Table:</td>
<td>
<select name="table"><option value=""></option>
<option value="1">1</option><option value="2">2</option
</select>
    </form> 
```

这些值将显示在“cos2.php”中。但我想将其存储在“cos2.php”页面上，而不会自动转到“cos2.php”页面。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T04:30:54.243

你可以利用`jQuery.ajax()`有大量的教程来做到这一点。

**例子**

**HTML：**

```
<form id="foo">

    <label for="bar">A bar</label>
    <input id="bar" name="bar" type="text" value="" />

    <input type="submit" value="Send" />

</form> 
```

**JavaScript：**

```
// variable to hold request
var request;
$("#foo").submit(function(event){
    // abort any pending request
    if (request) {
        request.abort();
    }
    // setup some local variables
    var $form = $(this);
    // let's select and cache all the fields
    var $inputs = $form.find("input, select, button, textarea");
    // serialize the data in the form
    var serializedData = $form.serialize();

    // let's disable the inputs for the duration of the ajax request
    $inputs.prop("disabled", true);

    // fire off the request to /form.php
    var request = $.ajax({
        url: "/form.php",
        type: "post",
        data: serializedData
    });

    // callback handler that will be called on success
    request.done(function (response, textStatus, jqXHR){
        // log a message to the console
        console.log("Hooray, it worked!");
    });

    // callback handler that will be called on failure
    request.fail(function (jqXHR, textStatus, errorThrown){
        // log the error to the console
        console.error(
            "The following error occured: "+
            textStatus, errorThrown
        );
    });

    // callback handler that will be called regardless
    // if the request failed or succeeded
    request.always(function () {
        // reenable the inputs
        $inputs.prop("disabled", false);
    });

    // prevent default posting of form
    event.preventDefault();
}); 
```

**PHP（即form.php）：**

```
// you can access the values posted by jQuery.ajax
// through the global variable $_POST, like this:
$bar = $_POST['bar']; 
```

你就完成了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T04:32:59.497

您可以为此使用[Jquery Ajax](http://api.jquery.com/jQuery.ajax/)，其中有很多示例。

# c# - MongoDb 查询搜索文本

> ID：15081322
> 
> 赞同：0
> 
> 时间：2013-02-26T04:25:17.633
> 
> 标签：c#, mongodb, mongodb-.net-driver

下面是我的MongoDB数据结构。我想要一个 C# 中的查询，我可以根据 customerid、protofolio 和 metatags 搜索项目。

```
 {
          "_id" : ObjectId("512aed363ca67cd8a6f2f3e2"),
          "ReferenceNumber" : "MongoDb",
         "Title" : "Shashi",
         "CreatedUserId" : "users/1027",
         "Content" : "s",
         "CustomerId" : "customers/257",
         "StatusDefinitionId" : "sd",
         "ItemMetadata" : [{
         "MetadataId" : "MetadataDefinitions/839",
         "MetadataName" : "DropDown",
         "MetadataValue" : "DropDown1"
          }, {
         "MetadataId" : "MetadataDefinitions/838",
         "MetadataName" : "Number1",
         "MetadataValue" : "123"
          }],
         "Portfolios" : [{
         "_id" : "portfolios/225",
         "IsDefault" : true
         }]
         } 
```

我正在使用以下查询根据客户、protofolio 和 metadatags 搜索数据，并且我正在传递 this.Search("123&", "portfolios/225", null, null, null, null, item); 并且项目有customerid

```
 public ItemDetails Search(string metaDataTags, string portfolios, string statusDefinitions, int? numberOfItemsRequired, int? limit, int? offset, Item item)
    {

        ItemDetails searchedItemDetails = null;

        // Extract the tags from the metaDataTags into an array.
        var tags = new string[0];
        var portfolioIds = new string[0];
        var statusDefinitionsIds = new string[0];

        // The metatag search data sample format: "subject=physics&grade=tough&marks=150"
        if (!string.IsNullOrEmpty(metaDataTags))
        {
            // Split the string into tags array based on & separator.
            tags = metaDataTags.ToLower().Split('&');

        }

        if (!string.IsNullOrEmpty(portfolios))
        {
            // Split the string into tags array based on , separator.
            portfolioIds = portfolios.ToLower().Split(',');
        }

        if (!string.IsNullOrEmpty(statusDefinitions))
        {
            // Split the string into tags array based on & separator.
            statusDefinitionsIds = statusDefinitions.Split(',');
        }

        tags = tags.Where(x => !string.IsNullOrEmpty(x))
                   .Select(x => Regex.Replace(Regex.Replace(x, @"\s+$", string.Empty), @"^\s+", string.Empty))

                   .ToArray();

        var portFolioData = new BsonArray(portfolioIds);

        var Metatags = new BsonArray(tags);

        var query = Query.And(Query.EQ("CustomerId", item.CustomerId), Query.In("Portfolios._id", portFolioData), Query.In("ItemMetadata.MetadataValue", Metatags));

        var itemsForCustommer = _items.Find(query);

     //  searchedItemDetails.Items = itemsForCustommer.ToList();
        return searchedItemDetails;
    }
} 
```

# php - 如何在刷新页面时停止重新提交页面？

> ID：15081323
> 
> 赞同：0
> 
> 时间：2013-02-26T04:25:26.107
> 
> 标签：php, html, mysql, forms

我使用 php 作为服务器端脚本，并使用表单使用 MySql 在数据库中插入数据。在提交页面时，它会重定向到另一个页面并表示感谢等。但是当用户单击刷新按钮时，表单再次提交，所以请告诉我如何阻止这个。

我的第一页代码如下 -

```
<?php

$route=$_POST['route'];
$datee=$_POST['SelectedDate'];
$pick_time=$_POST['pick_time'];
$ampm=$_POST['ampm'];
$destination=$_POST['destination'];
$cab=$_POST['cab'];
$days="/";

?>

<html>
<head>

</head>
<body>
<form onSubmit="validateForm();" action="http://localhost/wordpress/?page_id=452"             method="post" name="localhire_select" >
<table>
<tr>
<td>
<div id="outer" name="outer" align="left" style="width:300px;height:300px;background-        color:#FAFA23;border:1px solid;padding:10px 30px;">
<table width="200" border="0" cellpadding="0" cellspacing="2">
<tbody>
<tr>
<td  widtn="60%" align="left">Pick-up Date:</td><td><input type="text" name="datee"     size="10px"  value=<?php echo $datee ; ?> /></td>
</tr>
<tr>
<td width="60%" align="left">Pick-up Time :</td><td><input type="text" name="time" size="10px"  value=<?php echo $pick_time."".$ampm; ?> /></td>
</tr>
<tr>
<td width="60%" align="left">Destination :</td><td><input type="text" name="destination" size="10px"  value=<?php echo $destination; ?> /></td>
</tr>
<tr>
<td width="60%" align="left">No. of Days :</td><td><input type="text" name="days" size="10px"  value=<?php echo $days; ?> /></td>
</tr>
<tr>
<td width="60%" align="left">Type of Cab :</td><td><input type="text" name="cab" size="10px"  value=<?php echo $cab; ?> /></td>
</tr>

</tbody>
</table>
<table width="200" border="0" cellpadding="0" cellspacing="2">
<tbody>
<tr>
<td height="71" valign="middle" align="center"><input name="changeDetails" type="image" id="button" value="Submit" src="change.jpg"></td></td>
</tr>
</tbody>
</table>
</div>

</td>
<td>
<div id="right" name="right" align="right" style="width:440px;height:300px;background-color:#F7EA2A;border:1px solid;padding:10px 30px;">

<table>
<tr style="background-color:orange;border:1px solid black;" height="30">
<td><b>Gurgaon-><?php echo $destination; ?> ->Gurgaon </b></td><td>
</td>
</tr>
<tr  height="20">
<td><input type="hidden" name="route" value="<?php echo $route; ?>"  />
</td>
</tr>
<tr>
<td>Your Full Name :</td><td><input type="text" name="full_name" value="" size="20px"     /></td>
</tr>
<tr>
<td>Address :</td><td><input type="textarea" name="address" value="" size="20px 20px"     /></td>
</tr>
<tr>
<td>Mobile no. :</td><td><input type="text" name="mobile_number" value="" size="20px" /></td>
</tr>
<tr>
<td>Pick-up Location :</td><td><input type="text" name="pickup_location" value="" size="20px" /></td>
</tr>

<tr>
<table>
<tr align="center">
<td height="71" align="center" valign="middle">
            <input name="localhire_select" type="image" id="button" value="Submit" src="book_cab.jpg"></td>

</tr>
</table>           

 </tr>

</table>
</div>
</td>
</tr>
</table></form>
</body>
<html> 
```

`

第二页的代码是-

```
<?php
error_reporting(E_ALL);
ini_set('display_errors', true);

$host="localhost";
$user_name="usr";
$pwd="pwd";
$database_name="db"; //assuming you created this
mysql_connect($host, $user_name, $pwd);
if (mysql_error()>"") print mysql_error() . "<br>";
mysql_select_db($database_name);
if (mysql_error() > "") print mysql_error() . "<br>";

$datee=$_POST['datee'];
$time=$_POST['time'];
$destination=$_POST['destination'];
$days=$_POST['days'];
$cab=$_POST['cab'];
$route=$_POST['route'];
$full_name=$_POST['full_name'];
$address=$_POST['address'];
$mobile_number=$_POST['mobile_number'];
$pickup_location=$_POST['pickup_location'];

 $query2="SELECT `order_number` FROM `count` WHERE 1";
 $count=mysql_query($query2);
while($row = mysql_fetch_array($count))
{
   $variable = $row["order_number"];
}

$query3="UPDATE `count` SET order_number=order_number+1 WHERE 1";
mysql_query($query3);

$query1="INSERT INTO `booking`         (`pickup_date`,`pickup_time`,`destination`,`days`,`type`,`full_name`,`address`,`mobile`,`pi    ckup_location`,`route`,`order_number`) VALUES     ('$datee','$time','$destination','$days','$cab','$full_name','$address','$mobile_number','$    pickup_location','$route','$variable')";
mysql_query($query1);

mysql_close();

?> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T04:27:45.757

您正在寻找一种称为[Post/Redirect/Get的模式](http://en.wikipedia.org/wiki/Post/Redirect/Get)

本质上，在表单发布后，完成所有 MySQL 信息，然后使用以下*重定向：*

```
header('Location: thanks.php', true 303); 
```

使用 GET 请求。然后，用户无法刷新该页面；它只会显示“谢谢”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T05:56:32.210

您需要在 PHP 中将此提交按钮用作 POST。尝试这个！！！！

if(isset($_POST["submit"])){ $date=$_POST["date"];

然后在 INSERT QUERY 之后使用 HEADER。像这样

echo header("location:thank.php");

# git - git中tab键选择特定目录的快捷方式

> ID：15081325
> 
> 赞同：0
> 
> 时间：2013-02-26T04:25:39.193
> 
> 标签：git, keyboard-shortcuts

我在问之前用谷歌搜索了它，但似乎我的搜索词选择不合适:(

每当我们想要选择我们使用的子目录时，在 Windows 命令提示符下

cd 和 TAB 按键和所有项目（子目录）一一显示，但在 GIT 中不是。

前任-

```
C:/Sites>cd aTHEN tab key press to display sub directories one by one 
```

我的一些项目（子目录）名称很长，所以我总是很难输入全名......所以在 git 中是否有这样的关键快捷方式，然后让我知道。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T10:52:58.623

制表符完成在 msysgit 和 cmd.exe 中的工作方式不同

cmd.exe 在每次按 Tab 键时循环显示完整的目录/文件名。

msysgit 会根据已键入的模式尽可能完成，但如果有多个目录与该模式匹配，则需要键入更多以使其完成。

例如，如果您的目录结构是：-

```
cat/
check/
cold/
dummydir/ 
```

然后键入`cd c`并点击选项卡将无济于事（因为三个目录匹配）。再次点击选项卡将显示匹配的目录 ( `cat, check, cold`)。添加`h`到您的命令中，给予`cd ch`并点击选项卡将导致您的命令完成 to `cd check`。

您还可以使用 * 来允许使用文件名的中间/结尾完成，例如在上面的示例中`cd *k`也可以完成`cd check`。

# javascript - JS .checked vs jquery attr('checked')，有什么区别？

> ID：15081335
> 
> 赞同：9
> 
> 时间：2013-02-26T04:26:18.943
> 
> 标签：javascript, jquery, attr, checked

我想不通这个。根据[W3 Schools](http://www.w3schools.com/jsref/prop_checkbox_checked.asp)，*选中的属性设置或返回复选框的选中状态。*

那么为什么不起作用`$('input').checked ? $('div').slideDown() : $('div').slideUp();`呢？

但是，使用 prop 确实有效。

`$('input').prop('checked') ? $('div').slideDown() : $('div').slideUp();`

这是针对基于数据库值选中的复选框。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-26T04:28:16.913

`checked`是一个 DOM 元素属性，所以在 DOM 元素而不是 jQuery 对象上使用它。

```
$('input')[0].checked 
```

如果您有一个 jQuery 对象，请使用`prop`而不是，`attr`因为您正在检查一个属性。仅供参考：

```
$("<input type='checkbox' checked='checked'>").attr("checked") // "checked"
$("<input type='checkbox' checked='foo'>").attr("checked") // "checked"
$("<input type='checkbox' checked>").attr("checked") // "checked"
$("<input type='checkbox'>").attr("checked") // undefined 
```

而`[0].getAttribute("checked")`将返回实际值。

`prop`将返回`true`或`false`基于属性是否存在

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-26T04:27:52.363

`checked`是 DOM 对象的属性，而不是 jQuery 对象的属性。要使其工作，您必须获取 DOM 对象：

```
$('input')[0].checked; 
```

你也可以这样做`.is(':checked')`。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-26T05:04:30.423

在这种情况下，您需要`prop()`而不是`attr()`，将代码中的调用替换为`attr()`with`prop()`通常会起作用。

**来自** [http://blog.jquery.com/2011/05/10/jquery-1-6-1-rc-1-released/](http://blog.jquery.com/2011/05/10/jquery-1-6-1-rc-1-released/)

属性和属性之间的区别在特定情况下可能很重要。**在 jQuery 1.6 之前**，该`.attr()`方法有时会在检索某些属性时考虑属性值，这可能会导致行为不一致。**从 jQuery 1.6 开始**，该`.prop()`方法提供了一种在检索属性的同时显式检索属性值的方法`.attr()`。

`elem.checked` ==== `true (Boolean)`会随着复选框状态而改变

`$(elem).prop("checked")`====`true (Boolean)`会随着复选框状态而改变

`elem.getAttribute("checked")`=====`"checked" (String)`复选框的初始状态；不变

`$(elem).attr("checked") (1.6)`=====`"checked" (String)`复选框的初始状态；不变

`$(elem).attr("checked") (1.6.1+)`========`"checked" (String)`会随着复选框的状态而改变

`$(elem).attr("checked") (pre-1.6)`=======`true (Boolean)`更改为复选框状态

此外，此 url 将帮助您更多地了解您的查询[.prop() 与 .attr()](https://stackoverflow.com/questions/5874652/prop-vs-attr)

[http://jsperf.com/is-checked-vs-attr-checked-checked/7](http://jsperf.com/is-checked-vs-attr-checked-checked/7)`/is-checked-vs-attr-checked-checked/7`上的区别

还要了解`The elements atttribute and properties`参考[http://christierney.com/2011/05/06/understanding-jquery-1-6s-dom-attribute-and-properties/](http://christierney.com/2011/05/06/understanding-jquery-1-6s-dom-attribute-and-properties/) [http://jsperf.com/is-checked-vs-attr-已检查/7](http://jsperf.com/is-checked-vs-attr-checked-checked/7)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T04:29:14.850

$('input') 返回一个 JQuery 对象，它没有检查属性。您可以使用 $('input')[0].checked。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-26T04:31:24.157

`$('input').attr('checked')`已过时，应该使用`$('input').prop('checked')`
此外，`$('input').checked`不会像`$('input')`jquery 对象那样工作，并且`checked`是属性，所以这就是 jquery 想出`$('input').prop('checked')`访问属性的原因。

但是，要将 jQuery 对象转换为 DOM 对象，您需要将
`$('input')[0].checked`其变为 DOM 对象，然后您可以直接使用`.`

但是使用 jquery 来访问该属性应该使用这个：

```
$('input').prop('checked') ? $('div').slideDown() : $('div').slideUp(); 
```

希望这可以帮助！！

# android - NDK 中 System.currenttimemilliseconds 的等价物是什么？

> ID：15081347
> 
> 赞同：5
> 
> 时间：2013-02-26T04:27:56.753
> 
> 标签：android, c++, c, time, android-ndk

我想在 NDK 级别测量我的应用程序中的时间。我希望以毫秒粒度的 Java 方式进行操作。在 Java 中，一个简单的调用

> System.currentTimeMilliseconds()

成功了。NDK 中是否有精确的重复调用，还是我们需要使用 time.h 并以标准 C 方式进行计算？

# c++ - 插入通用容器不起作用

> ID：15081348
> 
> 赞同：0
> 
> 时间：2013-02-26T04:28:15.847
> 
> 标签：c++, templates, stl, c++11

我正在尝试生成 int 或 double 类型的随机数，然后将它们插入到一种容器向量中，按排序顺序列出，但问题是插入不起作用，我不知道为什么，所以可以你帮帮我好吗？

```
#include <iostream>
#include <iterator>
#include <random>
#include <vector>
#include<list>
#include<deque>
#include <algorithm>
#include <chrono>

using namespace std;

int random_gen(){
    default_random_engine re { std::random_device()() };
    uniform_int_distribution<int> dist;
    auto r= bind(dist,re);
    int x =r();
    return x;
}

template<typename SequenceContainer>
void build_cont(const SequenceContainer& seq, int n)
{
    for(int i=0; i!=n; ++i) {
        int gen = random_gen();
        //std::iterator<T> it=lower_bound(begin(seq), end(seq), gen);
        typename SequenceContainer::iterator it;
        it=find_if(seq.begin(), seq.end(), [it](){ return *it<gen;});
        seq.insert(it, gen);
    }
    for(auto i:seq)
        cout<<i<<endl;
}
int main() {
    int n=10;
    vector<int> v;
    list<int>ls;
    deque<int> deq;
    build_cont(v, n);
    build_cont(ls, n);
    build_cont(deq, n);

    return 0;
} 
```

我现在遇到的错误是链接器错误，所以我不知道出了什么问题？？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T05:07:56.107

有两个问题：

1.  您不能对 SequenceContainer 进行 const 引用，然后尝试获取非常量迭代器或将项目插入到该 const 引用中。删除常量。

2.  您需要在 lambda 捕获子句中包含“gen”，并且它必须将值作为参数：

    ```
    typename SequenceContainer::iterator it = find_if(
        seq.begin(),
        seq.end(),
        [gen](const int& val) { return gen < val; }
    ); 
    ```

# php - 使用 json 和 $_GET 时获取复选框的值

> ID：15081351
> 
> 赞同：0
> 
> 时间：2013-02-26T04:28:34.027
> 
> 标签：php, json

使用 JSON 时，我无法掌握选择了哪个复选框。

这是我的 HTML

```
<form id="patronReg" action="" method="get" onsubmit="jsquicksub(this); return false;">
        <input type="checkbox" name="__gold" value="gold" id="patron-gold"/><strong>Gold patrons </strong>$3,000 (+GST for businesses)<br />
        <input type="checkbox" name="__silver" value="silver" id="patron-silver" /><strong>Silver patrons </strong>$1,500 (+GST for businesses)<br />
        <input type="checkbox" name="__families" value="families" id="patron-families" /><strong>Families and individual </strong>$500<br /> 
```

我的 JSON javascript 文件看起来像这样

```
function jsquicksub(po_form) {

if (gb_ajaxbusy)
    return false;

gb_ajaxbusy = true;

var lo_request = {};
lo_request.g = $(po_form).find('#patron-gold').val();
lo_request.s = $(po_form).find('#patron-silver').val();
lo_request.f = $(po_form).find('#patron-families').val();

$(po_form).fadeTo(200, 0.3);

$.getJSON('/patron-form-process', lo_request, function(po_result) {

    gb_ajaxbusy = false;
    $(po_form).fadeTo(0, 1);

    if (!po_result.success) {
        $('#errorReport').show();
        document.getElementById('errorReport').innerHTML = po_result.content;
        //alert(po_result.content);
        return false;
    }else{
        setTimeout(function() { 
                $.modal.close();
        }, 2500);
    }
    // replace form with thankyou message
    $(po_form).replaceWith(po_result.content);
    // empty errrReport element
    $('#errorReport').hide();

}); } 
```

而我的php表单处理文件就是这个

```
// function gets passed values after validation and returns a message to the user on screen
function jsonreturn($pb_success, $ps_content = null) {

$lo_result = (object) array('success'=>$pb_success, 'content'=>$ps_content);

ob_clean();
echo json_encode($lo_result);
exit;

} // end jsonreturn()
// membership type

$ps_gold = isset($_GET['g'])? $_GET['g']: null;
$ps_families = isset($_GET['f'])? $_GET['f']: null;
$ps_families = isset($_GET['f'])? $_GET['f']: null;

if ($ps_gold == 'gold') {
    $ps_membership = 'Gold patron';
}
elseif ($ps_silver == 'silver') {
    $ps_membership = 'Silver patron';
}
elseif ($ps_families == 'families') {
    $ps_membership = 'Families and individual';
}
else {
    $ps_membership = '';
} 
```

所以我的问题是，当它从表单到 javascript 文件然后到 php.ini 时，如何将选定的复选框值传递给 php 文件。这可能是一个非常愚蠢的问题！但我对 JSON 很陌生。进入 php 文件后，我将使用 phpmailer 通过电子邮件发送表单中的所有值。它工作得很好！除了复选框部分！

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:00:41.477

处理此问题的一种方法是使用[Jquery Checked Selector](http://api.jquery.com/checked-selector/)传递已选中的复选框。例如：

```
// ...
var lo_request = {};
lo_request.g = $(po_form).find('#patron-gold').is(':checked');
lo_request.s = $(po_form).find('#patron-silver').is(':checked');
lo_request.f = $(po_form).find('#patron-families').is(':checked');

$.getJSON('/patron-form-process', lo_request, function(po_result) {
// ... 
```

然后从 PHP 端：

```
$ps_gold = isset($_GET['g'])? $_GET['g'] === 'true' : false;
$ps_silver = isset($_GET['s'])? $_GET['s'] === 'true' : false;
$ps_families = isset($_GET['f'])? $_GET['f'] === 'true' : false;

if ($ps_gold) {
    $ps_membership = 'Gold patron';
}
elseif ($ps_silver) {
    $ps_membership = 'Silver patron';
}
elseif ($ps_families) {
    $ps_membership = 'Families and individual';
}
else {
    $ps_membership = '';
} 
```

但是，我要指出，似乎决定的逻辑`$ps_membership`似乎更倾向于单选按钮而不是复选框，因为每个选项都是互斥的。话虽如此，上面的解决方案应该可以满足您的需求。

# iphone - 创建一个 UIButton 的切换不起作用？

> ID：15081352
> 
> 赞同：0
> 
> 时间：2013-02-26T04:28:38.567
> 
> 标签：iphone, ios, button, toggle

每个人！

所以基本上，我试图从我的 UIButton 中创建一个简单的切换。使用下面的代码，我可以单击该按钮，但只有很短的时间我才能看到 @"Expense" 作为标题。这可能是一个非常简单的错误。任何帮助表示赞赏！

```
- (IBAction)typeChanger {
if ([typeButton.titleLabel.text isEqual:@"Income"]) {
    typeButton.titleLabel.text = @"Expense";
}else if ([typeButton.titleLabel.text isEqual:@"Expense"]) {
    typeButton.titleLabel.text = @"Income";
}
} 
```

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T04:40:20.233

Do like this,

```
- (IBAction)typeChanger {
if ([typeButton.titleLabel.text isEqual:@"Income"]) {
   [typeButton setTitle:@"Expense" forState:UIControlStateNormal];
}else if ([typeButton.titleLabel.text isEqual:@"Expense"]) {
    [typeButton setTitle:@"Income" forState:UIControlStateNormal];
}
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T06:40:54.163

This may be very useful and handy. Try this out.

[https://github.com/Brayden/UICheckbox](https://github.com/Brayden/UICheckbox)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T04:31:21.353

您使用 NSString 的`isEqualToString:`方法而不是`isEqual`字符串比较（两者都应该工作，但根据文档它更快）。

此外，您需要使用`setTitle:forState:`来设置 a ... 的标题，要设置`UIButton`的两个重要状态是`UIControlStateNormal`（未按下）和`UIControlStateHighlighted`（按下时）：

```
- (IBAction)typeChanger {
    if ([[typeButton titleForState:UIControlStateNormal] isEqualToString:@"Income"]) {
         [typeButton setTitle:@"Expense" forState:UIControlStateNormal];
         [typeButton setTitle:@"Expense" forState:UIControlStateHighlighted];

    } else if ([[typeButton titleForState:UIControlStateNormal] isEqualToString:@"Expense"]) {
         [typeButton setTitle:@"Income" forState:UIControlStateNormal];
         [typeButton setTitle:@"Income" forState:UIControlStateHighlighted];
    }
} 
```

另请参阅以下文档`NSString`：

[https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html](https://developer.apple.com/library/mac/#documentation/Cocoa/Reference/Foundation/Classes/NSString_Class/Reference/NSString.html)

And on `UIButton`:

[http://developer.apple.com/library/ios/#DOCUMENTATION/UIKit/Reference/UIButton_Class/UIButton/UIButton.html](http://developer.apple.com/library/ios/#DOCUMENTATION/UIKit/Reference/UIButton_Class/UIButton/UIButton.html)

# java - 如何在 ANTLR 3 树解析器中表达多个节点

> ID：15081355
> 
> 赞同：0
> 
> 时间：2013-02-26T04:28:55.943
> 
> 标签：java, tree, antlr, antlr3, abstract-syntax-tree

更新：有没有办法在解析器语法中重用规则？也许我对 ANTLR 树解析器的理解不正确。我认为 ANTLR 树解析器是另一种解析器。我仍然需要创建正确的规则来满足我的要求。如果是这样，AST的提议是什么？我已经生成了正确的 AST 结构，但在树解析器中似乎没用。

为什么 `^(OR first=andExp other=andExp*)` 不能 `andExp ( OR^ andExp)*` 在树解析器中写入？我想我没有得到编写树解析器的关键点。

我想用 Antlr3 编写一个 SQL 风格的标准表达式解析器。它需要像这样的支持

```
a = 1 and b = 2 and c = 3 
```

我已经完成了 Lexer 和 Parser，但是当我根据 AST 创建 Tree Parser 时遇到了问题。

目前只支持 express like 的 2 个节点`a = 1 and b = 2`但不支持`a = 1 and b = 2 and c = 3`

看起来`^(OR first=andExp other=andExp*)`不正确，但我不知道如何修改它。由于我是 ANTLR 的新手，所以我检查了很多示例来完成我的树解析器，但仍然不知道如何在 ANTLR 树解析器中表达多个节点。有人可以帮我解决吗？任何意见表示赞赏。

我的词法分析器和解析器可以在以下 URL 中找到。

[带有 antlr3 的简单标准表达式解析器](https://stackoverflow.com/questions/14974843/simple-criteria-expression-parser-with-antlr3/14975302#comment21113849_14975302)

这是我的树解析器：

```
tree grammar CriteriaExpressionEval;

options {
  language = Java;
  tokenVocab = CriteriaExpression;
  ASTLabelType = CommonTree;
}

@header {package com.antlr;}

eval
  :
  expression
  ;

expression returns[String expStr]
  : ^(OR first=andExp other=andExp*)
      {
        $expStr = $first.addExpStr + " " + $OR.text + " " + $other.addExpStr;
        System.out.println("expression -- ^(OR first=andExp other=andExp*) [" + $expStr + "]");
      }
    |andExp
      {
        $expStr = $andExp.addExpStr;
        System.out.println("expression -- andExp [" + $expStr + "]");
      }
  ;

andExp returns[String addExpStr]
  : ^(AND left=subcond right=subcond*)
      {
        $addExpStr = $left.subCondStr + " " + $AND + " " + $right.subCondStr;
        System.out.println("andExp -- ^(AND left=subcond right=subcond*) [" + $addExpStr + "]");
      }
    |subcond
      {
        $addExpStr = $subcond.subCondStr;
        System.out.println("andExp -- subcond [" + $addExpStr + "]");
      }
  ;

subcond returns[String subCondStr]
    : LPAREN expression RPAREN
      {
        $subCondStr = "(" + $expression.expStr + ")";
        System.out.println("subcond -- LPAREN expression RPAREN [" + $subCondStr + "]");
      }
    |atom 
      {
        $subCondStr = $atom.atomStr;
        System.out.println("subcond -- atom [" + $subCondStr + "]");
      }
  ;

atom returns[String atomStr]
  :
  prop=EXPR OPERATOR val=EXPR { $atomStr = $prop.text + $OPERATOR.text + $val.text; }
  ; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T17:18:04.613

听起来您不了解您正在创建的树的结构。我建议在你的树上打印`toStringList()`以显示结构。

# java - 在java中获取Unicode的类型

> ID：15081356
> 
> 赞同：1
> 
> 时间：2013-02-26T04:29:00.220
> 
> 标签：java

这是一道面试题：

返回给定字符串值及其对应的 unicode 的 true 或 false

```
public boolean decode (String value, String unicode){
    // logic goes here
} 
```

例如，如果给定的输入是

```
String value = "abc" String unicode = "UTF-8" return value is false    
String value"\u00A3" String unicode = "ASCII" return value is true 
```

我在一篇文章中读到 unicode 值是由字节内部确定的。所以我的第一个逻辑是试图获取范围，例如，如果它属于 40 到 63 之间的范围，它的 ASCII。请更正此逻辑是否有误以及是否有更好的方法来找出 unicode。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:20:51.637

[ANSCI 的 Unicode 等价物](http://www.alanwood.net/demos/ansi.html)

> ANSI 字符 32 到 127 对应于 7 位 ASCII 字符集中的字符，构成基本拉丁 Unicode 字符范围。字符 160–255 对应于 Latin-1 Supplement Unicode 字符范围中的字符。

如您所见，该表中有 ASCII 等价的 Unicode 值。所以你最好问问面试官真正的要求是什么。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T04:58:56.030

这是一个相当糟糕的函数规范。在面试中，您需要假装客户已提出软件实施请求来回应。因此，您会温和地要求澄清规范背后的意图。或者你会在问题中引入批评，就好像你是学生并且你希望被教导一样。你可能会说：

*   我不习惯使用“Unicode”这个词作为 ASCII 和 UTF-8 等编码的通用术语。我是否正确，这就是参数的用途？我们可以将它命名为“编码”，以便我更容易记住它的用途吗？
*   所以，看起来我们关心的是某些编码，而不是互联网工程任务组曾经命名的所有编码，对吗？你看，我指的是 MIME 标准，它规定 IETF 为编码指定一个正式的名称注册。有数百或数千个。
*   我注意到，当文本为“abc”时，我们将对有关 UTF-8 的查询返回 false。那是因为该文本中的代码点都在 UTF-8 与 ASCII 相同的范围内，因此编码的文本对于 UTF-8 编码与 ASCII 编码是相同的吗？对于包含 ASCII 作为子集的另一种编码，例如 ISO-8859-1，我们是否也这样做？

# css - 负边距问题和不一致

> ID：15081363
> 
> 赞同：0
> 
> 时间：2013-02-26T04:29:59.743
> 
> 标签：css

我的第一个问题是忽略父元素的填充的技巧。我知道负的 TOP 和 LEFT 边距使该元素在可能移出其父元素的方向上移动得更远。

我真正感到困惑的是负的右边距。我想它会使元素变宽指定的量。并且具有负底边距。它使元素更短。

第二个问题是大的负边距底部似乎显示不一致。

这是演示

[http://jsbin.com/ehawey/1/edit](http://jsbin.com/ehawey/1/edit)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-26T04:37:25.377

对于块元素，您用水平边距描述的内容是正确的。对于块元素的垂直边距，它略有不同。

想象一下你如何垂直放置一堆盒子，它们之间没有间距。您将从 Y 为零开始，然后对于每个块，将其放置在该位置，然后将 Y 值推进其高度。

现在我们将其扩展到包括间距。CSS 模型如何工作的简化视图是从 Y 值开始，和以前一样，但在放置框之前添加上边距，在放置框之后添加下边距。它的实际工作方式稍微复杂一些，因为在某些情况下边距会崩溃。无论如何，这个简化的模型足以描述为什么高度没有变化：负的底部边距会影响下一个盒子的放置，但不会使盒子本身变大。

# php - Yii Booster 日期选择器无法正常工作

> ID：15081365
> 
> 赞同：2
> 
> 时间：2013-02-26T04:30:08.393
> 
> 标签：php, twitter-bootstrap, yii, yii-extensions

我有一个与 Yii 助推器日期选择器有关的问题。

设想：

```
<?php $form=$this->beginWidget('bootstrap.widgets.TbActiveForm',array(
'id'=>'expend-form',
'enableAjaxValidation'=>false,
'type'=>'horizontal',   )); ?>

<p class="help-block">Fields with <span class="required">*</span> are required.</p>

<?php echo $form->errorSummary($model); ?>

<?php // echo $form->textFieldRow($model,'fecha',array('class'=>'span5')); 
    echo $form->datepickerRow($model, 'fecha',
            array('prepend'=>'<i class="icon-calendar"></i>' 
                    , 'options'=>array( 'format' => 'dd/mm/yyyy', 
                                        'weekStart'=> 1,
                                        'showButtonPanel' => true,
                                        'showAnim'=>'fold',)
            )
        );

?> 
```

问题是：

选项：

```
'showButtonPanel' => true,
'showAnim'=>'fold', 
```

不工作。

并且 CSS 有问题（检查屏幕截图）

![在此处输入图像描述](../Images/b1027b1d76dfe1184e03c19c86d0a265.png)

有任何想法吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-02T23:00:19.007

@Nathanphan，你的 CSS 有问题的原因是因为 Yii css 文件覆盖了 YiiBooster CSS。打开`main.php`/protected/views/layouts 下的布局文件并删除以下行。 **您可能想要删除所有 CSS 链接。**

```
<link rel="stylesheet" type="text/css" href="<?php echo Yii::app()->request->baseUrl; ?>/css/screen.css" media="screen, projection" /> 
```

你应该会发现你的 YiiBooster 小部件现在可以正常显示了；但是您网站上的一些 Yii 小部件现在可能看起来不正确。您可以将您的 Yii 小部件转换为等效的 YiiBooster 小部件，然后一切都会好起来的。

我还没有找到同时运行 Yii 蓝图 CSS 和 YiiBooster 的方法。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T18:55:48.753

@Nathanphan，您正在尝试在 a 中使用[zii.widgets.jui.CJuiDatePicker](http://yii-booster.clevertech.biz/jquery.html#datepicker)中的选项，该选项`TbDatePicker`基于[Bootstrap Datepicker](http://www.eyecon.ro/bootstrap-datepicker/)。
如果您需要使用这些选项（`showButtonPanel`和`showAnim`），请更改您的代码以使用`CJuiDatePicker`小部件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-18T23:11:12.623

在 main.css 中查找和替换

`thead th {background:e5eCf9;}`

到

`thead th {background:#ffffff;}`

和

`.box {padding:1.5em;margin-bottom:1.5em;background:#e5eCf9;}`

到

`.box {padding:1.5em;margin-bottom:1.5em;background:#ffffff;}`

# sql - Laravel Schema Builder 通过 CLI 调用？

> ID：15081366
> 
> 赞同：0
> 
> 时间：2013-02-26T04:30:18.223
> 
> 标签：sql, schema, database-schema, laravel

有什么方法可以从命令行使用 Laravel 的 Schema Builder？现在我已经设置了它，以便管理面板能够重建表，但是有什么方法可以从命令构建模式？

我认为一个更好的问题是，我将如何 require_once 自动加载器，这样我就可以简单地

```
php myschema.php 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T04:43:05.143

您可以创建[迁移](http://laravel.com/docs/database/migrations)或[工匠任务](http://laravel.com/docs/artisan/tasks)来处理它。有关详细信息，请参阅相应链接中的文档。在任何一种情况下，您都可以使用 Schema 并从命令行调用 Laravel，`php artisan migrate`或者`php artisan task`取决于您创建的。

# asp.net - System.FormatException：当前不支持指定的电子邮件地址

> ID：15081373
> 
> 赞同：0
> 
> 时间：2013-02-26T04:30:48.870
> 
> 标签：asp.net, system.net.mail

当我的代码从我的 Windows 2003 服务器执行时，我收到此错误，但是在我的 Windows 7 开发机器上，邮件进程每次都能完美运行。项目配置为 2.0 框架。服务器上是否缺少所需的组件？

错误详情。

```
[FormatException: The specified e-mail address is currently not supported.]
   System.Net.Mime.MailBnfHelper.ReadMailAddress(String data, Int32& offset, String& displayName) +1138987
   System.Net.Mail.MailAddress.ParseValue(String address) +240
   System.Net.Mail.MailAddress..ctor(String address, String displayName, Encoding displayNameEncoding) +85
   System.Net.Mail.MailAddress..ctor(String address) +8
   BizHelp.WebForm1.btnSendEmail_Click(Object sender, EventArgs e) +117
   System.Web.UI.WebControls.Button.OnClick(EventArgs e) +111
   System.Web.UI.WebControls.Button.RaisePostBackEvent(String eventArgument) +110
   System.Web.UI.WebControls.Button.System.Web.UI.IPostBackEventHandler.RaisePostBackEvent(String eventArgument) +10
   System.Web.UI.Page.RaisePostBackEvent(IPostBackEventHandler sourceControl, String eventArgument) +13
   System.Web.UI.Page.RaisePostBackEvent(NameValueCollection postData) +36
   System.Web.UI.Page.ProcessRequestMain(Boolean includeStagesBeforeAsyncPoint, Boolean includeStagesAfterAsyncPoint) +1565 
```

Web.Config 详细信息（这是 GoDaddy 的非标准格式，但我必须在本地网络上运行我的代码，因此我无法使用他们的中继服务器 - 这适用于我的 Windows 7 机器）

```
<mailSettings>
      <smtp>
        <network host="smtpout.secureserver.net" defaultCredentials="false"
                 userName="xxxxx@sendtome.us" password="xxxxx"  enableSsl="false" port="80"/>
      </smtp>
</mailSettings> 
```

VB代码：

```
Imports System.Net.Mail

Dim mm As New MailMessage(lblEmail.Text, "2manybooks@sentome.us")
mm.Subject = "Welcome to xxxx"
mm.IsBodyHtml = True

mm.Body = lblMail.Text.ToString
Dim smtp As New SmtpClient
smtp.Send(mm) 
```

注意： lblEmail.text 是一个包含标准电子邮件地址的字段；该字段是从数据库加载的。

有什么想法或建议吗？谢谢！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-27T15:00:41.597

最有可能发生的事情是您的一个或多个值`ToAddress`不是有效的电子邮件地址。我认为这是`ToAddress`因为您`FromAddress`是硬编码的并且看起来有效。

在尝试`Debug.WriteLine("\"" + lblEmail.Text + "\"")`创建`ToAddress`. （如果值为空，则引号存在。）崩溃后，检查“输出”窗口的“调试”窗格。那里有什么奇怪的吗？任何看起来不像有效地址的东西？

# android - 如何在 Android Phonegap 中创建多个通知？

> ID：15081380
> 
> 赞同：1
> 
> 时间：2013-02-26T04:31:26.767
> 
> 标签：android, cordova

我从这个 github[帖子](https://github.com/phonegap/phonegap-plugins/pull/761)中发现：

> 支持使用标签从一个应用程序发出多个通知，如 W3C 规范中指定并受 Android 支持。

从`statusbarnotification.js`我可以看到：

```
NotificationMessenger.prototype.notify = function(title, body, flag)
NotificationMessenger.prototype.clear = function()
window.Notification.callOnclickByTag = function(tag) 
```

但是我找不到可以调用哪个方法来创建多个通知。有人可以建议我吗？谢谢！

# asp.net - 如何将其他页面包含到 aspx 文件中

> ID：15081386
> 
> 赞同：8
> 
> 时间：2013-02-26T04:31:54.623
> 
> 标签：asp.net

我想在asp.net中将其他aspx文件包含到主aspx文件中我可以在jsp中做到这一点jsp中的代码包括这样

```
<jsp:include page="footer.jsp" /> 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2016-04-29T19:30:10.033

这对我有用。我可以在我想要的任何页面上包含我的菜单：

```
<div ID="menuContent" runat="server">
    <!-- #Include virtual="/menu.aspx" -->
</div> 
```

在我的 menu.aspx 文件中，我有原始 html 和一些 C# 代码块，ASP 将在将内容插入页面后解决这些问题。很棒吧？

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-26T04:47:39.593

您不能将另一个页面添加到 asp.net 中的现有页面。
因为`asp.net`不允许两个`form tag`在同一个页面。
有像用户控制这样的功能，你可以使用
更多细节
[http://www.codeproject.com/Articles/1739/User-controls-in-ASP-NET](http://www.codeproject.com/Articles/1739/User-controls-in-ASP-NET)

## 编辑 1

此外
还有一个概念，`Master page`这里`content page`
有一个很好的母版页链接
[http://www.codeproject.com/Articles/325865/Creating-Master-Page-In-ASP-NET-2010](http://www.codeproject.com/Articles/325865/Creating-Master-Page-In-ASP-NET-2010)

## 编辑 2

母版页具有如下结构

```
<%@ Master Language="C#" AutoEventWireup="true" 
CodeFile="MasterPage.master.cs" Inherits="MasterPage" %>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
   <title></title>
   <asp:ContentPlaceHolder id="head" runat="server">
   </asp:ContentPlaceHolder>
</head>
<body>
   <form id="form1" runat="server">
      <div>
          <asp:ContentPlaceHolder id="ContentPlaceHolder1" runat="server">

          </asp:ContentPlaceHolder>
      </div>
   </form>
 </body>
</html> 
```

需要注意的几点
当您创建一个页面时，您只能在 中添加内容`ContentPlaceHolder1`，其中可能有很多。
你也可以把你的`user-control`里面`master-page`，这样它就会反映在你的页面上。

## 编辑 3

## 母版页

实际上是用户控件；您可以通过转到母版页类的代码隐藏来验证这一点，右键单击类名称并选择“转到定义”。你会看到这样的东西：

```
public class MasterPage : UserControl
{
    ...
} 
```

## 用户控制

便于显示在单个项目中重复的组件，例如菜单和面板。问题是它们不生成 .DLL，如果需要，必须手动复制到其他项目。 [ASP.NET 等价于服务器端的](https://stackoverflow.com/questions/894720/asp-net-equivalent-of-server-side-includes)

一些很好的链接 包括[How to include an external html file in asp.net page](https://stackoverflow.com/questions/6938046/how-to-include-an-external-html-file-in-asp-net-page)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T04:36:10.423

ASP.Net 有[Master Page](http://msdn.microsoft.com/en-us/library/wtxbf3hh%28v=vs.100%29.aspx)和[User Control](http://msdn.microsoft.com/en-us/library/y6wb1a0e%28v=vs.100%29.aspx)可以帮助你做类似的事情。

如果您使用的是 ASP.Net MVC，我们有 Partial View 的概念。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-01-01T19:20:57.180

使用#include 将不起作用，因为如果包含的文件是 ASP.NET 页面，它将引入两个页面指令。OP 必须使用 Ajax 下载文件，然后将其放置在页面中。

# xml - 如何拆分xml属性的值？

> ID：15081389
> 
> 赞同：0
> 
> 时间：2013-02-26T04:32:17.417
> 
> 标签：xml, xslt-1.0

我在 xml 中有一个标签，例如

`<Radio values="Husband~Husband|Wife~Wife|Son~Son|Daughter~Daughter|Father~Father|Mother~Mother"></Radio>`

现在我必须将属性拆分为`Husband, Wife, Son, Daughter, Father, Mother`并将每个属性用作`value`属性的值`<input type = "radio" value = "<the value i get from the list>" />`

谁能给我一个想法如何实现这一目标？

# c++ - C++ 构造函数错误

> ID：15081393
> 
> 赞同：0
> 
> 时间：2013-02-26T04:32:45.297
> 
> 标签：c++, parsing, constructor

我正在为编译器编写解析器。所以对于构造函数我有代码：

```
//constructor
Parser::Parser(char* file)
{
  MyLex(file) ; 
} 
```

在使用**g++ parsy.cpp parsydriver.cpp**进行编译时，我收到此错误消息：

```
parsy.cpp: In constructor ‘Parser::Parser(char*)’:
parsy.cpp:13: error: no matching function for call to ‘Lex::Lex()’
lexy2.h:34: note: candidates are: Lex::Lex(char*)
lexy2.h:31: note:                 Lex::Lex(const Lex&)
parsy.cpp:15: error: no match for call to ‘(Lex) (char*&)’ 
```

我哪里错了？**Lex myLex**在 Parser 标头中被声明为**私有。**我已经黔驴技穷了 。我试过用这个：

```
//constructor
Parser::Parser(char* file):myLex(file)
{ 
} 
```

我的词法分析器构造函数是：

```
Lex::Lex(char* filename): ch(0) 
{
  //Set up the list of reserved words
  reswords[begint] = "BEGIN";
  reswords[programt] = "PROGRAM";
  reswords[constt] = "CONST";
  reswords[vart] = "VAR";
  reswords[proceduret] = "PROCEDURE";
  reswords[ift] = "IF";
  reswords[whilet] = "WHILE";
  reswords[thent] = "THEN";
  reswords[elset] = "ELSE";
  reswords[realt] = "REAL";
  reswords[integert] = "INTEGER";
  reswords[chart] = "CHAR";
  reswords[arrayt] = "ARRAY";
  reswords[endt] = "END";

  //Open the file for reading
  file.open(filename);
} 
```

但是，这会创建一堆对词法分析器文件和函数的未定义引用！我已正确包含文件。但到目前为止，我不明白如何克服这个问题。

**更新** 头文件包含：

parsy.h 文件：

```
#ifndef PARSER_H
#define PARSER_H

// other library file includes

#include "lexy2.h"
class Parser
{
}... 
```

parsy.cpp 文件：

```
// usual ilbraries

#include "parsy.h"

using namespace std ;

Parser::Parser(char* file) .... 
```

parsydriver.cpp：

```
// usual libraries
#include "parsy.h"
using namespace std ;

int main()
.. 
```

lexy2.cpp 文件：

我已经包含了 lexy2.h 文件。我应该在词法分析器中包含解析器头文件吗？似乎不太可能。但是我应该如何解决它们呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T04:49:34.873

构造函数内的代码在对象已经构造时运行。您的类`MyLex`没有默认构造函数。所以你必须定义默认构造函数或者它应该是：

```
//constructor
Parser::Parser(char* file): MyLex(file)
{
} 
```

如果您有“未定义符号”链接器错误，那么您忘记将一些`.cpp`文件（可能是 lexy2.cpp）添加到项目或编译器命令行。假设所有未定义的符号位于 lexy2.cpp 然后尝试`g++ parsy.cpp parsydriver.cpp lexy2.cpp`.

# uilabel - 在 UILabel 上使用显示日期时遇到问题？

> ID：15081396
> 
> 赞同：0
> 
> 时间：2013-02-26T04:32:51.920
> 
> 标签：uilabel, nsdate, nsdateformatter

我正在尝试获取一个标签以 (Month) XX, XXXX 的格式显示日期

使用：

```
 currentDate = [NSDate date];
    NSDateFormatter *dateFormat = [[NSDateFormatter alloc] init];
    [dateFormat setTimeStyle:NSDateFormatterShortStyle];
    date.text = [dateFormat stringFromDate:currentDate]; 
```

不幸的是，标签文本甚至没有改变，我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T04:44:23.070

试试这个

```
 first you have set IBOutlet connection date label

NSDate *currentDate = [NSDate date];
NSDateFormatter *dateFormat = [[NSDateFormatter alloc] init];
[dateFormat setDateFormat:@"MM  YYYY"];
date.text = [dateFormat stringFromDate:currentDate] 
```

# javascript - 在当前脚本标记位置插入 iframe？

> ID：15081397
> 
> 赞同：7
> 
> 时间：2013-02-26T04:32:56.667
> 
> 标签：javascript, dom

我有一个我们称之为“小部件”的东西......我想`iframe`在脚本标签的当前位置插入那个小部件（最终只是一个）。

所以你可能有：

```
<p>Some example text</p>
<script src="http://example.com/widget.js" class="widget" async></script>
<p>More text</p> 
```

在那个`widget.js`文件中，有这样的：

```
var createIframe = function() {
  var parent = document.getElementsByClassName('widget');
  var iframe = document.createElement('iframe');

  iframe.src = '//example.com'

  // Works, but just inserts it at the end
  document.body.appendChild(iframe);

  // Does not work...just doesn't seem to do anything
  document.createElement("div").appendChild(iframe);
}

window.onload = function() {
  createIframe();
} 
```

正如代码注释中所指出的，做的`document.body.appendChild(iframe)`很好，但只是在文档的最后插入 iframe。

但我真正想做的只是在脚本标签所在的位置插入 iframe。这`document.body.appendChild(iframe)`是我的尝试，但实际上它似乎什么也没做（没有 iframe 也没有错误）。

那么，如何将 iframe 插入到与 script 标签相同的位置？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-26T04:37:14.997

您需要[获取当前`<script>`标签](https://stackoverflow.com/questions/403967/how-may-i-reference-the-script-tag-that-loaded-the-currently-executing-script)，在本例中是最后一个：

```
var thisScript = document.scripts[document.scripts.length - 1]; 
```

并在其后[插入](https://developer.mozilla.org/en-US/docs/DOM/Node.insertBefore)`<iframe>`：

```
var parent = thisScript.parentElement;
parent.insertBefore(iframe, thisScript.nextSibling); 
```

[http://jsfiddle.net/mattball/Tz75x/](http://jsfiddle.net/mattball/Tz75x/)

或者简单地将当前脚本[*替换*](https://developer.mozilla.org/en-US/docs/DOM/Node.replaceChild)`<iframe>`为：

```
var parent = thisScript.parentElement;
parent.replaceChild(iframe, thisScript); 
```

[http://jsfiddle.net/mattball/a23XE/](http://jsfiddle.net/mattball/a23XE/)

* * *

或者——如果你相信的话——**[`document.write()`](https://developer.mozilla.org/en-US/docs/DOM/document.write)实际上是一个合适的解决方案**，只要你*在文档加载时而*不是在`window.onload`回调中这样做：

```
function createIframe() {
    document.write('<iframe src="//example.com"></iframe>');
}

createIframe(); 
```

[http://jsfiddle.net/mattball/2YCcP](http://jsfiddle.net/mattball/2YCcP)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T04:42:27.773

为您的元素添加一个 ID`<script>`并从 DOM 中查询该元素，例如`<script id="myscript" src="http://example.com/widget.js" class="widget" async></script>`.

在`widget.js`：

```
var scriptElement = document.getElementById("myscript");
var parentElement = scriptElement.parentElement;
parentElement.replaceChild(iframe, scriptElement); 
```

# android - android phonegap 将画布保存为 base64 与较低的操作系统兼容

> ID：15081401
> 
> 赞同：1
> 
> 时间：2013-02-26T04:33:14.513
> 
> 标签：android, cordova, phonegap-plugins

嗨，我正在尝试获取画布图像并获取 base64 并保存它。我尝试使用[http://jbkflex.wordpress.com/2012/12/21/html5-canvas-todataurl-support-for-android-devices-working-phonegap-2-2-0-plugin/](http://jbkflex.wordpress.com/2012/12/21/html5-canvas-todataurl-support-for-android-devices-working-phonegap-2-2-0-plugin/)但我得到一个灰色图像而不是画布图像，我在画布内创建了一个黑框。

![在此处输入图像描述](../Images/72518a4123b3bff810540359487faa7e.png)

这是画布

![在此处输入图像描述](../Images/8b7089d0f05877af00e4340d1048989a.png)

这是获取插件返回的 val.data 的 img

转换代码在那里链接上可能是转换的问题，但不确定是什么，因为 logcat 没有错误。

任何帮助将不胜感激，或者如果有其他方法可以这样做，也可以尝试其他方法

# asp.net - AJAX 控制工具包 - 带有 CreateUserWizard 的 PasswordStrength

> ID：15081405
> 
> 赞同：1
> 
> 时间：2013-02-26T04:33:46.810
> 
> 标签：asp.net, ajax, passwords, ajaxcontroltoolkit

我正在尝试使用我的用户注册页面实现 PasswordStrength 控件，但据我所知，它似乎只适用于常规文本框，但我正在使用 CreateUserWizard 控件进行用户注册。有什么方法可以使用 CreateUserWizard 实现我想要的控件，还是我需要更改实现以使用常规文本框控件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T09:51:11.330

为了能够将 PasswordStrength 控件与密码文本框连接起来，您需要将向导注册页面呈现为模板，以便控件可见。

之后，只需将 PasswordStrength 控件放在密码框附近，并在模板内并正确设置它。您不能将它放在模板之外，因为将无法找到要连接的控件。

# java - 仅使用字符串方法拆分验证来自 (xxx) xxx-xxxx 中的电话号码

> ID：15081410
> 
> 赞同：0
> 
> 时间：2013-02-26T04:34:17.513
> 
> 标签：java, string

我必须以 的格式拆分电话号码`(xxx) xxx-xxxx`，我四处搜索，但我找到的解决方案是关于使用正则表达式，但我被要求只使用类的拆分方法`String`。我在下面显示的一个小程序中解决了它，但是有没有办法用更少的代码行来做到这一点？

```
package StringReview;
import java.util.Scanner;

public class StringExercise {

    static Scanner scanner = new Scanner (System.in);
    static String [] number;
    static String array[] ;

    public static void main(String[] args) {

        System.out.println("Enter a phone number: with () and -");
        String phoneNumber = scanner.nextLine();
        array = phoneNumber.split(" ");
        for(String st : array ){
            if(st.contains("-")){
                    number=cut(st);
            }else
                System.out.println(st);             
        }
        for (String str : number){
            System.out.println(str);
        }
    }

    private static String[] cut(String st) {
         return st.split("-");
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T04:40:00.320

```
 String phoneNumber = "(123)456-7890";
    String[] parts = phoneNumber.split("\\D+");
    for(String part : parts) {
        System.out.println(part);
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T04:40:56.683

```
String input = "(xxx) xxx-xxxx"
String[] arrFirst = input.split(" ");
String[] arrSecond = arrFirst[1].split("-");

System.out.println(arrFirst[0] + " " +arrSecond[0] + "-" + arrSecond[1]); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-21T13:25:18.887

```
//By Benjamin Manford

import java.util.Scanner;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class tel {

  public static boolean validatePhone(String phone){
      //the range of numbers is between 9 and 10\. you can make it any range you want
            return phone.matches("^[0-9]{9,10}$");
    }

public static void main(String[] args) {

    Scanner input = new Scanner(System.in);
  System.out.print("Enter Phone Number: ");
            String phone = input.nextLine();
            while(validatePhone(phone) != true) {
                    System.out.print("Invalid PhoneNumber!");
                    System.out.println();
                    System.out.print("Enter Phone Number: ");
                    phone = input.nextLine();
                    System.out.println("Correct telephone number");
            }

}
} 
```

# c# - 在 C# 中处理 Application.Exit(CancelEventArgs)

> ID：15081412
> 
> 赞同：0
> 
> 时间：2013-02-26T04:34:45.103
> 
> 标签：c#, event-handling

简单来说，如何订阅和处理以下事件？

```
System.Windows.Forms.Application.Exit(new System.ComponentModel.CancelEventArgs(true)); 
```

因为显然这不会给我我的 CancelEventArgs：

```
Application.ApplicationExit += new EventHandler(ApplicationExitHandler);
private void ApplicationExitHandler(Object sender, EventArgs e)
{
    ...
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:07:39.060

Try to put Event inside the **Form1.Designer.cs**

```
 private void InitializeComponent()
        {
          //.......... UI iniatilization

           System.Windows.Forms.Application.ApplicationExit +=new System.EventHandler(ApplicationExitHandler);

        } 
```

In **Form1.cs**

```
 private void ApplicationExitHandler(Object sender, EventArgs e)
        {
           //.............
        } 
```

# php - PHP图像上传失败FTP连接

> ID：15081415
> 
> 赞同：0
> 
> 时间：2013-02-26T04:34:58.763
> 
> 标签：php, image, upload, ftp

我在调试*旧*网站时遇到了一些麻烦。原来的程序员早就脱节了，我似乎找不到错误。问题似乎是当用户上传图像时，它永远不会进入 ftp 目录。生成描述、文件名等的数据库值。凭证已知良好并经过测试。

我做了一些查找，发现了一些做同样事情的脚本；并且看起来 PHP 函数仍然有效（在 php.net 搜索它们）。所以我有点茫然。

该脚本在两个月前刚刚停止工作。服务器出现了一些 DNS 问题，但已解决，一切似乎都很好。不确定是否相关。

如果有人能发现问题，我将不胜感激！

```
 <?php
IF($ResizeAuth != "yes" OR $ItemID2Resize == "") //This page will exit right here unless the Resize Authorization is set to yes, and the New Image variable has some value
{
  exit();
}

ini_set("memory_limit","24M"); //sets the total memory limit to 24 Megabytes just on this page for all of its scripts. The default is only 8M and fails with re-sizing large images.

$connection = mysql_connect("localhost","dbuser-correct","dbpw-correct");
$db = mysql_select_db("databasename-correct",$connection);

$conn_id = ftp_connect("www.correct-domain.com"); 
ftp_login($conn_id, "workingftpusername", "workingftppassword") or die("Could not connect");    

FUNCTION uploadPic($src_img,$dDir,$maxWidth,$maxHeight,$resizeFlag,$tempName)
{

//destination
//(old) $dest = $dDir.$tempName;

//get source dimentions
$src_dims = getImageSize($src_img);

//create appropriate temp image
switch ($src_dims[2]) {
case 1: //GIF
break;

case 2: //JPEG
$srcImage = imageCreateFromJpeg($src_img);
break;

case 3: //PNG
break;

default:
return false;
break;
}

$srcRatio = $src_dims[0]/$src_dims[1]; // width/height ratio
$destRatio = $maxWidth/$maxHeight;

if ($destRatio > $srcRatio) {
$destSize[1] = $maxHeight;
$destSize[0] = $maxHeight*$srcRatio;
}
else {
$destSize[0] = $maxWidth;
$destSize[1] = $maxWidth/$srcRatio;
}

//if set image dimensions are required:
if ($resizeFlag == 1) {
$destSize[0] = $maxWidth;
$destSize[1] = $maxHeight;

}

$thumb_w = $destSize[0];
$thumb_h = $destSize[1];
$dst_img = imageCreateTrueColor($thumb_w,$thumb_h);
imageCopyResampled($dst_img,$srcImage,0,0,0,0,$thumb_w,$thumb_h,$src_dims[0],$src_dims[1]);

switch ($src_dims[2]) {
case 1:
break;
case 2:
#(original) imageJpeg($dst_img, $dest, 75); //75 denotes image quality / compression ratio
$resizedimage = imageJpeg($dst_img, NULL, 75); //75 denotes image quality / compression ratio
break;

case 3:
break;
}
//$y++;
unlink($src_img);

return $resizedimage;

}

######################

$maxImageWidth = 640; //pixels
$maxThumbWidth = 131; //pixels

$ImageName = $ItemID2Resize."_temp1.jpg";
$ThumbName = $ItemID2Resize."_temp2.jpg";
$NewImageName = "Item".$ItemID2Resize.".jpg";
$NewThumbName = "Item".$ItemID2Resize."_thumb.jpg";

$TempImageFile = uploadPic("temp_image_resize/$ImageName","",$maxImageWidth,0,0,"");
$TempImageFile = fopen($TempImageFile,"r");

@ftp_delete($conn_id, "httpdocs/images/Items/$NewImageName"); //deletes the previous jpg referencing the same item if it exsists.
ftp_fput($conn_id, "httpdocs/images/Items/$NewImageName", $TempImageFile, FTP_BINARY);
fclose($TempImageFile);
#ftp_delete($conn_id, "httpdocs/mckadmin/temp_image_resize/$NewImageName");

$TempThumbFile = tmpfile();
uploadPic("temp_image_resize/$ThumbName","",$maxThumbWidth,0,0,$TempThumbFile);
fseek($TempThumbFile,0);
@ftp_delete($conn_id, "httpdocs/images/Items/$NewThumbName"); //deletes the previous jpg referencing the same item if it exsists.
ftp_fput($conn_id, "httpdocs/images/Items/$NewThumbName", $TempThumbFile, FTP_BINARY);
fclose($TempThumbFile);
#ftp_delete($conn_id, "httpdocs/mckadmin/temp_image_resize/$NewThumbName");

######################

$ImagePath4SQL = "http://www.mycopperkettle.com/images/Items/$NewImageName";
$ThumbPath4SQL = "http://www.mycopperkettle.com/images/Items/$NewThumbName";
$CheckExsistingq = mysql_query("SELECT * FROM Product_ImagePaths WHERE ItemID=\"$ItemID2Resize\"");
$CheckExsisting = mysql_num_rows($CheckExsistingq);

IF($CheckExsisting == 0)
{
  mysql_query("INSERT INTO Product_ImagePaths (ItemID,ImagePath,ThumbPath) VALUES (\"$ItemID2Resize\",\"$ImagePath4SQL\",\"$ThumbPath4SQL\")");
}
ELSE
{
  mysql_query("UPDATE Product_ImagePaths SET ImagePath=\"$ImagePath4SQL\", ThumbPath=\"$ThumbPath4SQL\" WHERE ItemID=\"$ItemID2Resize\"");
}

ftp_close($conn_id); //close the FTP connection

?> 
```

再次感谢！

〜危险博士

# c# - 将动态创建的文本框数组绑定到字符串数组或列表

> ID：15081418
> 
> 赞同：3
> 
> 时间：2013-02-26T04:35:12.773
> 
> 标签：c#, arrays, winforms, data-binding

我需要将动态创建的文本框数组绑定到字符串[] 或 List<string>。这是与[List<T> 问题最接近的 WinForm 控件绑定，](https://stackoverflow.com/questions/1793997/winform-controls-binding-to-a-listt-problem)但没有雪茄。

通常对于单个文本框，我绑定文本框的 Text 属性：

```
Engine engine = new Engine();
public frmMain()
{
    InitializeComponent();

    txtQuery.DataBindings.Add("Text",engine,"Query");
} 
```

对于类属性：

```
public class Engine : IEngine, INotifyPropertyChanged
{
 private string query;
 public string Query
 {
    get { return query; }
    set
    {
        query = value;
        InvokePropertyChanged(new PropertyChangedEventArgs("Query"));
    }
 }

 public event PropertyChangedEventHandler PropertyChanged;
 public void InvokePropertyChanged(PropertyChangedEventArgs e)
 {
    PropertyChangedEventHandler handler = PropertyChanged;
    if (handler != null) handler(this, e);
 }
} 
```

* * *

我已经尝试了一系列文本框和字符串，但没有运气：

前端：

```
TextBox[] txtBoxArr = new TextBox[numberOfDimensions];
for (int i = 0; i < numberOfDimensions;i++)
{
    string tabName = "Dataset" + (i + 1);
    tabCtrlDatasets.TabPages.Add(tabName,tabName);
    txtBoxArr[i] = new TextBox();
    txtBoxArr[i].Name = "txtDataset" + i ;
    txtBoxArr[i].DataBindings.Add("Text",engine,"Dataset");
    tabCtrlDatasets.TabPages[i].Controls.Add(txtBoxArr[i]);
} 
```

后端：

```
private string[] dataset;
public string[] Dataset
{
    get { return dataset; }
    set
    {
        dataset = value;
        InvokePropertyChanged(new PropertyChangedEventArgs("Dataset"));
    }
} 
```

**为了让它工作，我需要知道数组中项目的索引。我不记得以前这样做过，有谁知道如何识别文本框的索引以将其绑定到字符串数组中的正确项目？**

*我今天有点累，有记忆障碍。*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T09:20:05.493

`TextBox`您可以将 a`DataTable`与单行一起使用，而不是用于保存值的字符串数组。这样，您不必增加`Engine`类的复杂性（因为它仍然有一个属性），并且您可以将文本框绑定到`engine.DataTable`'s `DataColumnCollection`（通过列的索引映射它们）。

试试这个形式：

```
Engine engine = new Engine();

public Form1()
{
    InitializeComponent();

    var dt = new DataTable();
    dt.Columns.Add("column0");
    dt.Columns.Add("column1");
    dt.Columns.Add("column2");
    dt.Rows.Add("abc", DateTime.Now, 123456, 789.0123F);
    engine.DataTable = dt;

    int numberOfDimensions = engine.DataTable.Columns.Count;
    TextBox[] txtBoxArr = new TextBox[numberOfDimensions];
    for (int i = 0; i < numberOfDimensions; i++)
    {
        string tabName = "Dataset" + (i + 1);
        tabCtrlDatasets.TabPages.Add(tabName, tabName);
        txtBoxArr[i] = new TextBox();
        txtBoxArr[i].Name = engine.DataTable.Columns[i].ColumnName;
        txtBoxArr[i].DataBindings.Add("Text", 
            engine.DataTable, txtBoxArr[i].Name);
        tabCtrlDatasets.TabPages[i].Controls.Add(txtBoxArr[i]);
    }
} 
```

并像这样修改`Engine`类：

```
private DataTable dataTable;
public DataTable DataTable
{
    get
    {
        return dataTable;
    }
    set
    {
        dataTable = value;
        InvokePropertyChanged(new PropertyChangedEventArgs("DataTable"));
    }
} 
```

# iphone - UITextField 占位符在子类化时发生变化

> ID：15081420
> 
> 赞同：0
> 
> 时间：2013-02-26T04:35:42.560
> 
> 标签：iphone, objective-c, uitextfield, subclass, placeholder

我正在使用子类`UITextField`来使用自定义字体。当我为此设置一个占位符时，`textfield`它会向上移动一点，但是当我开始输入文本时，`frame`文本没有问题。有没有办法解决占位符转移问题​​。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T04:42:40.473

```
self.txtFirstName.contentVerticalAlignment = UIControlContentVerticalAlignmentCenter;
self.txtFirstName.autocapitalizationType = UITextAutocapitalizationTypeSentences;
self.txtFirstName.placeholder = @"Enter First Name here";
self.txtFirstName.textAlignment = UITextAlignmentLeft; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T04:48:14.547

我有同样的问题，我尝试`setContentVerticalAlignment:UIControlContentVerticalAlignmentCenter`了解决我的问题。

```
 UITextField *txtPassword = [[UITextField alloc] initWithFrame:CGRectMake(15,55, 255, 25)];
            [txtPassword setPlaceholder:@"Password..."];
            [txtPassword setBackgroundColor:[UIColor whiteColor]];
            [txtPassword setFont:[UIFont fontWithName:@"Helvetica" size:15]];
            [txtPassword setSecureTextEntry:YES];
            [txtPassword setTextAlignment:NSTextAlignmentCenter];
            [txtPassword setContentVerticalAlignment:UIControlContentVerticalAlignmentCenter];
            [txtPassword becomeFirstResponder]; 
```

希望这可以帮助。

# bash - 在 shell 脚本中使用 for 循环遍历目录结构

> ID：15081421
> 
> 赞同：1
> 
> 时间：2013-02-26T04:35:49.690
> 
> 标签：bash, shell, unix

我正在寻找使用条件 for / while 循环遍历目录

场景：路径是/home/ABCD/apple/ball/car/divider.txt

假设我总是从 /home 开始我的程序我需要从 home 迭代 --> ABCD --> apple --> ball --> car --> divider.txt

每次我迭代时，检查获取的路径是目录还是文件，如果文件退出循环并返回路径如果返回的路径是目录，则再循环一轮并继续..

更新的问题

```
FILES="home"
for f in $FILES
do

    echo "Processing $f"  >> "I get ABCD as output
        if[-d $f]
  --> returns true, in my next loop, I should get the output as /home/ABCD/apple..
        else 
          Break;
        fi

done 
```

退出 for 循环后，我应该将 /home/ABCD/apple/ball/car/ 作为输出

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T07:41:26.613

除了多用途之外，`find`您可能还想看看[`tree`](http://linux.die.net/man/1/tree). 它将*以树状格式列出目录的内容*。

```
$ tree -F /home/ABCD/
/home/ABCD/
`-- apple/
    `-- ball/
        `-- car/
            `-- divider.txt

3 directories, 1 file 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-28T10:11:56.087

这是我为使其工作而实施的方式

```
for names in $(find /tmp/files/ -type f); 
do
    echo " ${directoryName} -- Directory Name found after find command : names" 

    <== Do your Processing here  ==>

done 
```

名称将具有完整文件夹级别的每个文件

/tmp/files 是我在其中找到文件的文件夹

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T06:58:06.357

`find /home -type d`

将为您提供 /home 下的所有目录，仅此而已。将 /home 替换为您选择的目录，您将获得该级别下的目录。

如果您一心一意检查每个文件，那么您正在寻找的 if..then 测试条件是：

```
if [ -f $FILE ]
then
echo "this is a regular file"
else 
echo "this is not a regular file, but it might be a special file, a pipe etc."
fi 
```

-或者-

```
if [ -d $FILE ]
then
echo "this is a directory. Your search should go further"
else 
echo "this is a file and buck stops here"
fi 
```

# shell - 由 shell 脚本创建的用户未执行后续命令

> ID：15081423
> 
> 赞同：-1
> 
> 时间：2013-02-26T04:36:07.680
> 
> 标签：shell

我创建了一个 shell 脚本，如下所示。

> 用户名='root'
> sudo -H -u "$username" bash 2<&0 << 'END_COMMAND'
> useradd -m -s /bin/bash suhail
> passwd suhail
> mkdir ~/test
> END_COMMAND

但是当我尝试运行这个脚本文件时，我得到如下输出

> user@uvais-desktop:~/ssp$ ./test
> sudo: 无法解析主机 uvais-desktop
> 输入新的 UNIX 密码：重新输入新的 UNIX 密码：抱歉，密码不匹配
> passwd：身份验证令牌操作错误
> passwd：密码未更改

它没有提示新用户输入密码。一切都在一秒钟内发生。！！如果有人可以，请帮助我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:00:36.483

一个问题是您无法运行 passwd。它要求输入两次密码，这是您在脚本中无法做到的。因此，您输入一次密码，然后第二次输入`mkdir ~test`，因此出现消息“对不起，密码不匹配”

而不是 passwd suhail 尝试：

```
echo suhail| passwd $username --stdin 
```

# python - python导入方法：仅在ipython中工作

> ID：15081428
> 
> 赞同：0
> 
> 时间：2013-02-26T04:36:30.263
> 
> 标签：python, import, module, scipy, ipython

我是 python 新手，在导入模块时遇到了一些麻烦。我对编程的先验知识非常有限（一些 Fortran 和 C），我通常使用 Matlab。

我在网上搜索了导入方法，根据大多数教程，首选方法是：import X

如果我使用控制台（分别为 iPython），我可以执行以下操作：

```
import scipy
scipy.stats.cauchy.pdf 
```

但是，当我在函数中使用同一行时，它不起作用，我必须使用

```
import scipy.stats as s
s.stats.cauchy.pdf 
```

或者我得到：*AttributeError: 'module' object has no attribute 'stats'*

通过阅读这个[“导入模块”或“从模块导入”，](https://stackoverflow.com/questions/710551/import-module-or-from-module-import)我得到了两者都应该工作的印象。

如果有人能迅速为我解决这个问题，我将非常感激！

最好的祝福，克里斯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T04:42:04.140

它不应该发生在*新打开* `ipython`的实例上。您通常无法像这样访问：

```
import scipy 
scipy.stats.cauchy.pdf 
```

没有得到`AttributeError`, 在任一`ipython`或常规`python`解释器中。你需要做

```
import scipy.stats 
```

某处，因为它是一个子模块。

要么你有一个早期导入的`scipy.stats`挂在你的`ipython`命名空间中，要么你有一些自动启动脚本在`ipython`启动时导入它。

*注意：* 如果您使用 ipython 的`run`魔法函数执行脚本，任何全局变量和导入的模块都将保留在作用域内。

# java - 当项目具有不同的 Java 编译器版本时是否有任何问题？

> ID：15081429
> 
> 赞同：3
> 
> 时间：2013-02-26T04:36:39.353
> 
> 标签：java, eclipse, maven, java-7, java-6

我有一个带有多个 Java 项目（在 Maven 中）的 Eclipse 工作区；它们相互依赖。最近我开始将一些项目更改为以 Java 1.7 为目标，除了解决一些新警告之外，编译时没有什么不同。

但是，当我尝试运行所有内容时，感觉可能会出现问题。在以下情况下，类文件是如何加载的，是否存在任何问题？

*   当 Java 1.6 项目依赖于 Java 1.7 项目时会出现问题吗？1.6 VM 会拒绝运行任何 1.7 生成的字节码，还是会发生一些奇怪的事情以使其运行？
*   反之时有问题吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-26T05:13:45.550

When you have java 1.6 project depends on a Java 1.7 project or java 1.7 project depends on a Java 1.6 project, you should always run your program on the higher version of JVM, which is java 1.7 in this case. In a nutshell, in most cases, class files built with the Java SE 6 compiler will run correctly in Java SE 7\. But there are some exceptions. Please see [Incompatibilities between Java SE 7 and Java SE 6](http://www.oracle.com/technetwork/java/javase/compatibility-417013.html#incompatibilities) for a list of incompatibilities between Java 6 and Java 7\.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T09:52:29.813

您可以使用 JDK 1.6 构建一个项目，其中包含一些使用 1.7 生成的库

**但是**，如果项目 1.7 中的某些代码需要一些 JDK 1.7 功能（例如，它使用带有泛型的新 Swing 组合框），它将无法在 1.6 JVM 上运行。

所以这是需要非常小心的事情，因为您可能会遇到编译时问题（至少不是静默），但也会遇到运行时问题。如果你能避免这种情况，它可能对你更好。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T04:55:19.970

我也遇到过类似的问题，据我所知，我认为 1.6 VM 不能运行任何 1.7 生成的字节码，但我认为反过来是可能的，因为 1.7 是 1.6VM 的升级版本。

# javascript - 如何创建 iframe about:blank 没有 src 但内容 html javascript

> ID：15081432
> 
> 赞同：3
> 
> 时间：2013-02-26T04:36:42.560
> 
> 标签：javascript, iframe

我想创建一个没有 src ( about:blank ) 的 iframe，但 iframe 内容一些 javascript html

我需要这样做，因为我不想在服务器上为此任务创建托管网页，这将与服务器建立更多连接，这对资源不利。并且也不想在网页上直接编写 javascript html，因为它们在加载/运行时使网页加载速度变慢。

如何通过使用 javascript（可能是 jquery）来做到这一点？

iframe 例如：

```
<iframe src="about:blank" width="300" height="250" scrolling="no" frameborder="0" marginwidth="0" marginheight="0" ></iframe> 
```

及其内容：

```
<div>xxx</div>
<script type="text/javascript">var abc=1 </script>
<script type="text/javascript" src="http://1234.net/js.js"></script> 
```

**更新**

感谢以下一些回答。但我需要澄清该脚本也将通过 javascript 创建 iframe，因为需要在具有不同 id 的页面中创建 iframe。请看我的测试：http: [//jsfiddle.net/rDkEw/](http://jsfiddle.net/rDkEw/)

问题是：如果使用**document.body.appendChild**，iframe 将在网页主体上创建，但我需要将它保存在保存 JavaScript 的当前 div 中。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2017-10-21T00:03:06.820

**对于 2016 年之后搜索此内容的所有人：**使用 [data: URL](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs)，以 data: 方案为前缀的 URL，允许内容创建者将小文件内嵌在文档中。

```
<iframe src="data:text/html, <h1>Your HTML</h1>"></iframe> 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-26T04:42:41.097

An`<iframe>`有一个`contentDocument`属性来表示它的……内容的文档。你可以`write()`在上面使用。[这是一个演示。](http://jsfiddle.net/minitech/B2QRE/)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-26T04:41:46.297

你可以这样做：

```
var iframe = document.getElementById('iframeid');

var div_el = document.createElement('div');
div_el.innerHTML = "....";
iframe.contentWindow.document.body.appendChild(div_el); 
```

一个jQuery解决方案：

```
$('#iframeid').contents().find('body').append("<div>.....</div>"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T05:02:15.647

[您可以按照此处](https://stackoverflow.com/questions/3035492/how-to-add-iframe-content-to-main-page)所述将任何内容添加到 iframe 中的页面，但由于您没有加载页面，我怀疑您添加到此页面的 javascript 是否可以正常工作。你可以试一试。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-26T04:46:00.643

使用 jQuery：

```
$('#myIframe').appendTo('#iframeDiv'); 
```

你的 iframe id = "myIframe"

你的 html 内容 div id = "iframeDiv";

注意：没有 jQuery，其他两个答案似乎非常合适。

# perl - Hadoop Streaming - Perl 模块依赖

> ID：15081433
> 
> 赞同：0
> 
> 时间：2013-02-26T04:36:46.910
> 
> 标签：perl, hadoop, perl-module, hadoop-streaming

在 Hadoop 流中使用 Perl 脚本作为映射器和缩减器时，我们如何管理 perl 模块依赖项。

我想在我的 perl 映射器和减速器脚本中使用“Net::RabbitMQ”。

perl/hadoop 流中是否有任何标准方法来处理类似于 DistributedCache 的依赖项（对于 Hadoop java MR）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T12:00:37.407

有几种方法可以处理依赖关系，包括指定自定义库路径或使用[PAR::Packer](http://search.cpan.org/~rschupp/PAR-Packer-1.014/lib/PAR/Packer.pm)创建 Perl 应用程序的打包二进制文件。[在Hadoop::Streaming](http://search.cpan.org/~spazm/Hadoop-Streaming-0.102520/lib/Hadoop/Streaming.pm#EXAMPLES) POD的示例部分中有一些如何完成这些任务的示例，作者对过程进行了很好的描述，以及处理依赖关系的不同方式的一些注意事项。请注意，Hadoop::Streaming 文档中提供的有关处理 Perl 依赖项的建议并不特定于该模块。

以下是 Hadoop::Streaming 文档的摘录（如前所述，其中有详细示例）：

> 所有 perl 模块都必须安装在每个 hadoop 集群机器上。事实证明，这对于大型安装来说是一个挑战。我有一个 local::lib 控制的 perl 目录，我将它推送到我所有 hadoop 盒子 (/apps/perl5) 上的固定位置，该目录保持最新并包含在我的系统映像中。以前我使用 PAR::Packer (pp) 生成独立的 perl 文件，除了带有 -file 选项的 jar 的大小之外，它工作得很好。独立文件可以放入 hdfs，然后通过 -cacheFile 选项包含在 jar 中。

# qt - QGraphicsItem：为什么没有`stackAfter`方法？

> ID：15081442
> 
> 赞同：1
> 
> 时间：2013-02-26T04:37:24.353
> 
> 标签：qt, pyqt4, pyside

我在试图绕过“推荐”的做事方式时遇到了烦人的事情。

所以，我有一堆卡片。我想让它在我发牌时成为整个场景中最后绘制的对象（典型`bring_to_front`功能）。

推荐的方法是添加到对象`zValue`直到它大于其他对象，但我希望通过明智地使用该`stackBefore`方法来消除相当“懒惰”的整数，该方法模拟重组对象添加到场景中的顺序。

当我在有限的集合中洗牌时，这非常有效（获取选定项目的列表，random.shuffle，对于 item do item.stackBefore(next item)），但在将卡片冒泡时它肯定不起作用整个场景的顶部。

我考虑将对象的副本添加到场景中，然后删除原始对象，但看起来我应该能够`stackAfter`像使用 Python 列表（`insertAt`或其他东西）时那样做。

示例代码：

```
 def deal_items(self):
    if not self.selection_is_stack():
      self.statusBar().showMessage("You must deal from a stack")
      return

    item_list = self.scene.sorted_selection()
    for i,item in enumerate(item_list[::-1]):
      width = item.boundingRect().width()
      item.moveBy(width+i*width*0.6,0)

      another_list = self.scene.items()[::-1]
      idx = another_list.index(item)
      for another_item in another_list[idx+1:]:
        another_item.stackBefore(item) 
```

这行得通。只是看起来有点……丑陋。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:23:47.677

`self.scene.items`返回堆叠顺序中的项目（[链接](http://qt-project.org/doc/qt-4.8/qgraphicsscene.html#items)）。所以如果你想要`stackAfter`一个项目，你可以只查询当前最顶层项目的z值，然后将新最顶层卡片的z值设置为一个更大的值。

`item.setZValue(self.scene.items().first().zValue() + 1)`

希望有帮助。

编辑为`stackBefore`和`setZValue`来自[http://gitorious.org/qt/添加的 src](http://gitorious.org/qt/) `src/gui/graphicsview/qgraphicsitem.cpp`

```
void QGraphicsItem::stackBefore(const QGraphicsItem *sibling)
{
    if (sibling == this)
        return;
    if (!sibling || d_ptr->parent != sibling->parentItem()) {
        qWarning("QGraphicsItem::stackUnder: cannot stack under %p, which must be a sibling", sibling);
        return;
    }
    QList<QGraphicsItem *> *siblings = d_ptr->parent
                                       ? &d_ptr->parent->d_ptr->children
                                       : (d_ptr->scene ? &d_ptr->scene->d_func()->topLevelItems : 0);
    if (!siblings) {
        qWarning("QGraphicsItem::stackUnder: cannot stack under %p, which must be a sibling", sibling);
        return;
    }

    // First, make sure that the sibling indexes have no holes. This also
    // marks the children list for sorting.
    if (d_ptr->parent)
        d_ptr->parent->d_ptr->ensureSequentialSiblingIndex();
    else
        d_ptr->scene->d_func()->ensureSequentialTopLevelSiblingIndexes();

    // Only move items with the same Z value, and that need moving.
    int siblingIndex = sibling->d_ptr->siblingIndex;
    int myIndex = d_ptr->siblingIndex;
    if (myIndex >= siblingIndex) {
        siblings->move(myIndex, siblingIndex);
        // Fixup the insertion ordering.
        for (int i = 0; i < siblings->size(); ++i) {
            int &index = siblings->at(i)->d_ptr->siblingIndex;
            if (i != siblingIndex && index >= siblingIndex && index <= myIndex)
                ++index;
        }
        d_ptr->siblingIndex = siblingIndex;
        for (int i = 0; i < siblings->size(); ++i) {
            int &index = siblings->at(i)->d_ptr->siblingIndex;
            if (i != siblingIndex && index >= siblingIndex && index <= myIndex)
                siblings->at(i)->d_ptr->siblingOrderChange();
        }
        d_ptr->siblingOrderChange();
    }
}

void QGraphicsItem::setZValue(qreal z)
{
    const QVariant newZVariant(itemChange(ItemZValueChange, z));
    qreal newZ = newZVariant.toReal();
    if (newZ == d_ptr->z)
        return;

    if (d_ptr->scene && d_ptr->scene->d_func()->indexMethod != QGraphicsScene::NoIndex) {
        // Z Value has changed, we have to notify the index.
        d_ptr->scene->d_func()->index->itemChange(this, ItemZValueChange, &newZ);
    }

    d_ptr->z = newZ;
    if (d_ptr->parent)
        d_ptr->parent->d_ptr->needSortChildren = 1;
    else if (d_ptr->scene)
        d_ptr->scene->d_func()->needSortTopLevelItems = 1;

    if (d_ptr->scene)
        d_ptr->scene->d_func()->markDirty(this, QRectF(), /*invalidateChildren=*/true);

    itemChange(ItemZValueHasChanged, newZVariant);

    if (d_ptr->flags & ItemNegativeZStacksBehindParent)
        setFlag(QGraphicsItem::ItemStacksBehindParent, z < qreal(0.0));

    if (d_ptr->isObject)
        emit static_cast<QGraphicsObject *>(this)->zChanged();
} 
```

# ruby-on-rails - 启动 Rails 脚手架时出现 OSX Ruby 错误：无法加载 OpenSSL

> ID：15081444
> 
> 赞同：1
> 
> 时间：2013-02-26T04:37:46.147
> 
> 标签：ruby-on-rails, ruby, macos

我已经为此绞尽脑汁太久了。

我正在通过 RVM 安装 ruby​​。安装 Ruby 时我没有遇到任何问题。这个问题来自于在 ruby​​ 中使用 openssl 的任何东西我已经尝试过似乎是安装 RVM openssl 包并使用 --with-openssl-dir 重新安装 Ruby 的标准解决方案。

我已经厌倦了 gcc-4.2 与 llvm-gcc（来自 Xcode）的每一种组合。Homebrew openssl 与 RVM openssl。Ruby 1.9.3 的几个版本。

运行“rails new projectName”时收到此错误消息

`Could not load OpenSSL. You must recompile Ruby with OpenSSL support or change the sources in your Gemfile from 'https' to 'http'. Instructions for compiling with OpenSSL using RVM are available at rvm.io/packages/openssl.`

我已经编辑了 Gemfile，并且能够运行“捆绑安装”，但是在那之后，当我启动服务器“rails s”时，我得到了可怕的“无法加载此类文件 - openssl”。这在几次重新安装过程中也出现了，但使用 Homebrew openssl 和 readline 的最新组合在安装过程中不会出现这些错误，就在我开始启动服务器时。

我很乐意发布帮助诊断问题所需的任何配置文件或设置。我正在使用 RVM 的稳定版本和 OS X 10.8.2。我是 Mac 新手（这是第二天）并且有一些基本的 unix 经验，所以欢迎孩子手套解释。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-26T04:59:44.123

尝试更改`Gemfile`from 中的第一行

`source 'https://rubygems.org'` **至** `source 'http://rubygems.org'`

我认为这可以解决您的问题。

# mongodb - 如何编写 Mongo 查询以查找具有条件的子文档

> ID：15081463
> 
> 赞同：12
> 
> 时间：2013-02-26T04:40:21.937
> 
> 标签：mongodb

我在这样的集合中有一个文档，我需要找到具有form_Id：1和Function_Id：2的记录，如何编写mongo查询。

```
"Form_Id" : 1,
"Function" : [{
  "Function_Id" : 1,
  "Role" : [{
      "Role_Id" : 1,
      "UserId" : ["Admin", "001"]
    }]
}, {
  "Function_Id" : 2,
  "Role" : [{
      "Role_Id" : 2,
      "UserId" : ["Admin", "005"]
    }]
}] 
```

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-02-26T15:18:54.863

您可以使用点表示法和[`$`](http://docs.mongodb.org/manual/reference/projection/positional/#_S_)位置投影运算符来执行此操作：

```
db.test.find({Form_Id: 1, 'Function.Function_Id': 2}, {_id: 0, 'Function.$': 1}) 
```

返回：

```
{"Function": [{"Function_Id": 2, "Role": [{"Role_Id": 2, "UserId": ["Admin", "005"]}]}]} 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-26T05:54:17.297

由于您的功能键是一个数组，为了使用 $match 运算符，首先您必须使用 $unwind 运算符。[http://docs.mongodb.org/manual/reference/aggregation/unwind/](http://docs.mongodb.org/manual/reference/aggregation/unwind/) 然后你使用 $match 运算符来查找你想要的文档[http://docs.mongodb.org/manual/reference/aggregation/match/](http://docs.mongodb.org/manual/reference/aggregation/match/)

所以你的查询应该是这样的

```
 db.collection.aggregate([{$unwind:"$Function"},{$match:{"Form_id":1,"Function.Function_id":2}}]) 
```

默认情况下，mongo 将显示文档的 _id。因此，如果您不想显示_id，在匹配相关的之后，您可以使用 $project 运算符[http://docs.mongodb.org/manual/reference/aggregation/project/](http://docs.mongodb.org/manual/reference/aggregation/project/)

```
 db.collection.aggregate([{$unwind:"$Function"},{$match:{"Form_id":1,"Function.Function_id":2}},{$project:{"_id":0,"Form_id":1,"Function":1}}]) 
```

如果您不希望显示 form_id，只需不要在查询的项目部分中指定 form_id。默认情况下，mongo 只会显示值为 1 的键。如果没有提到该键，则不会显示它。

```
 db.collection.aggregate([{$unwind:"$Function"},{$match:{"Form_id":1,"Function.Function_id":2}},{$project:{"_id":0,"Function":1}}]) 
```

# c - 读取和收集文本文件中的变量

> ID：15081466
> 
> 赞同：0
> 
> 时间：2013-02-26T04:41:10.303
> 
> 标签：c, file, io, fopen, fread

我前段时间问过这个问题，但真的很模糊，我也对我的代码进行了一些更改。

我有一个我称之为“stats.txt”的文件，我用它打开：（使用“C”顺便说一句）

```
fopen("stats.txt", r+) 
```

在我的程序第一次运行期间，我会要求用户填写用于写入文件的变量：

```
fprintf(fp, "STR: %i(%i)\n", STR, smod);
fprintf(fp, "DEX: %i(%i)\n", DEX, dmod); 
```

ETC...

程序第一次运行后文件如下所示，所有数字对应程序中的一个变量：

```
Level 1 Gnome Wizard:
STR: 8(-1)
DEX: 14(2)
CON: 14(2)
INT: 13(1)
WIS: 13(1)
CHR: 12(1)
APP: 11(0)
Fort save: 0
Reflex save: 0
Will save: 3 
```

当程序关闭并第二次运行时，我有一个“IF”语句检查并显示“stats.txt”文件中的文本：

```
if (fgets(buf, 1000, fp) == NULL)
                {
                    printf("Please enter in your base stats (no modifiers):\n");
                    enter_stats();
                    printf("Please indicate your characters level:\n");
                    printf("I am a level ");
                    level = GetInt();
                    Race_check();
                    spec_check();
                    printf("------Base saving throws (no modifiers)------\n");
                    saving_throws();
                }
                else
                {
                    printf("%s",buf);
                } 
```

我遇到的问题是程序读取文件，但没有传输任何看起来在这里的变量值：

```
Level 1 Gnome Wizard:
-------------------------
STR: 0(-5)
DEX: 0(-5)
CON: 0(-5)
INT: 0(-5)
WIS: 0(-5)
CHR: 0(-5)
APP: 0(-5)
-----Saving Throws------
Fortitude: 0
Reflex: 0
Will: 0 
```

任何人都可以就如何阅读变量给我他们的建议吗？

谢谢，麻烦您了

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T07:24:26.183

计算机只能理解数字——它们不理解文本。这意味着您必须编写代码将数字（代表单个字符）转换回您想要的值并将它们存储在某个地方。

例如，您可以将整个文件加载到“char 数组”中，然后在该“char 数组”中搜索代表 的 4 个数字`STR:`，然后跳过任何空格（在 the`STR:`和之间`0(0)`），然后将字符/s`0`转换为值 0 并将其存储在某处，然后检查`(`字符，然后将字符`-1`转换为值 -1 并将其存储在某处，然后检查`)`字符和换行符`\n`。

更有可能将代码安排为“每行”循环，其中一行的第一个字符决定如何处理其他字符。例如，如果第一个字符是`-`则忽略该行；否则，如果前 5 个字符被`level`调用一个处理该行剩余部分的函数 ( `1 Gnome Wizard`)；否则，如果前几个字符是`STR:`, `DEX:`,`CON`等，则调用一个函数来获取两个数字（并检查右括号等）；别的...

除此之外，您还应该有良好的错误处理能力。作为粗略的指导，大约一半的代码应该是检查和错误消息（如`if( buffer[i] != '(' ) { printf("ERROR: Expecting left bracket after number on line %u", lineNumber); return -1;}`）。

# android - android textappearance 样式规范

> ID：15081467
> 
> 赞同：1
> 
> 时间：2013-02-26T04:41:10.173
> 
> 标签：android

我在哪里可以找到 android attr:textAppearanceSmall/Medium/Large/etc 的规格（特别是实际倾角）。风格？

# actionscript-3 - Actionscript：使面具跟随一条线（和“成长”）

> ID：15081470
> 
> 赞同：1
> 
> 时间：2013-02-26T04:41:15.063
> 
> 标签：actionscript-3, drawing, line, mask

有人知道/知道如何使口罩沿线排列吗？基本上我有一张用 1px 线绘制的图，我需要逐渐掩盖这个形状，所以它实际上看起来像是正在绘制的。问题是我不能仅仅增加蒙版的宽度（它会简单地在一个步骤中绘制一条不需要的垂直线），它必须是沿着“引导”线的线性移动，所以垂直线被绘制在几个步骤中。手动执行此操作将/将是一个很大的痛苦。这就是我想要实现的目标： ![绘图示例](../Images/7ec5571bf5c26ed4b86ef92d9fbf2a6c.png)

非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T09:29:07.583

您必须手动完成。尽管您可以采取一些捷径：

1.  `Guide`在 Flash Pro 中创建一个图层。

2.  将路径矢量复制到此引导层。

3.  在它下面创建一个新层，在该层的路径开始处放置一个圆圈，并对该圆圈进行经典补间。

4.  将圆形图层停靠在引导图层下方，并在补间的最后一帧将圆圈移动到路径的末端。这将使圆圈沿着路径前进。

5.  按照动画并手动填充覆盖的部分。

6.  将您的指南、圆形动画和跟随动画放入 a 中`MovieClip`，并将其放在要被遮罩的符号上方，并使其图层成为遮罩。

如果我不够清楚，这是我为您制作的示例：http: [//db.tt/kvaaYaLA](http://db.tt/kvaaYaLA)

请注意，此方法仅在您需要静态动画时有用，不适用于动态动画。

# c++ - ifdef / ifndef 的解决方法

> ID：15081471
> 
> 赞同：1
> 
> 时间：2013-02-26T04:41:16.073
> 
> 标签：c++, class, templates, c-preprocessor, conditional-compilation

我有一个类`A`，两个类，`B`和`C`，继承自`A`.

除了来自 的方法之外`A`，每个类都提供不同的东西，因此，我想将它们放在两个不同的文件中——`b.hpp`而且`c.hpp`，因为它们是具有内联函数的模板。

我也有一个 class `User`，同时使用`B`和`C`classes。在`user.cpp`，我应该有一些接近：

```
# include "b.hpp"
# include "c.hpp"

class User{
    ...;
}; 
```

这会引发编译器重新定义错误，因为我同时保留了类`B`和`C`.`bc.hpp`

除了编程错误之外，这里的担忧是相当美观的：我只是觉得在小型应用程序中使用指令不是*很优雅*`ifdef / ifndef`——在我看来，它们总是像 IDE 的解决方案一样，用于管理太多模块的人，甚至不知道指令。

是否有任何（*甚至是非标准的，但至少是理智*的）解决方法，或者我是否必须坚持在同一个文件中有两个不同的类并使用`ifdef / ifndef`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T04:44:07.407

如果你的意思是在头文件中，不，没有一种好的、可移植的方式来做到这一点。将所有头文件保存为以下格式是标准的 -

```
#ifndef MYHEADER_HPP
#define MYHEADER_HPP

// ... content

#endif 
```

任何其他方式都是非标准的，而不是*真正的*C++。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T04:44:57.740

您可以随时使用[`#pragma once`](http://www.cplusplus.com/forum/beginner/7877/).

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T04:47:37.617

`ifndef`真的是很好的做法。它们帮助您使您的文件*标题自包含*。

您不希望某个文件`A`停止编译，因为您在另一个文件的某处删除了一条`include`语句。因此，就此而言，您同时包含和。也许包括，但没关系。否则，无论何时从.`C``B``C``A``B``A``B``include C``B``include C``A`

所以`ifndef`确实是好的做法，应该使用。根据您的编译器，您可能有诸如[pragma once之类的语法快捷方式（](http://en.wikipedia.org/wiki/Pragma_once)[在此处](https://stackoverflow.com/questions/1143936/pragma-once-vs-include-guards)找到讨论） - 但请记住，即使大多数编译器都支持它也不是标准的。

顺便说一句，专业生产代码确实使用`ifndef`警卫。

# java - Java Stack 链表

> ID：15081473
> 
> 赞同：1
> 
> 时间：2013-02-26T04:41:27.650
> 
> 标签：java, stack, queue

我已经使用以下代码行声明了一个对象队列节点：

```
Queue<Node> queue;
queue = new LinkedList<Node>(); 
```

但是，当我声明一个 Node 对象的堆栈时，通过将 Queue 替换为堆栈，它不起作用。为什么会这样？另外，具体是做什么的

```
queue = new LinkedList<Node>(); 
```

意思是？这是否意味着正在创建节点对象的链接列表并且可以在队列中？

我正在使用开放课件来学习数据结构和算法，而且我是初学者。谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T04:43:19.303

在 Java 中，出于遗留原因，`Stack`是一个类，而不是一个接口。因此 a`LinkedList`不能分配给类型为 的变量`Stack`。

该`Deque`接口声明了 LIFO 操作（尽管它也声明了 FIFO 操作），并`LinkedList`实现了`Deque`.

当你这样做

```
queue = new LinkedList<Node>(); 
```

您正在创建 a`LinkedList`但正在通过 type 引用它`Queue`，这样只有 FIFO 操作被公开。这将确保以后，`Queue`可以通过仅更改上面的行来交换其他实现。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T04:45:49.877

`Queue<Node> queue`表示变量队列的类型为“节点队列”。 `Queue`是一个接口而不是一个类。

Java 的 LinkedList 类实现了 Queue 接口，所以`queue = new LinkedList<Node>();`完全没问题。

Java Stack 是一个没有实现 Queue 接口的实际类，因此您不能直接将其替换。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-26T04:48:29.597

这是因为 java.util.LinkedList 实现了 java.util.Queue 但它不是 java.util.Stack 虽然它有 push 和 pop 方法。Stack 是一个遗留类，不推荐使用它，但如果你仍然想使用它，这是要走的路

```
Stack<Node> stack = new Stack<Node>(); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-26T04:45:41.797

> 这是否意味着正在创建节点对象的链接列表并且可以在队列中？

不，这意味着用于队列的底层数据结构是 LinkedList，并且您可以添加类型的对象`Node`

如果你不熟悉这个结构，你应该阅读泛型`LinkedList<Node>()`

# html - 连接分隔符和标题

> ID：15081474
> 
> 赞同：1
> 
> 时间：2013-02-26T04:41:36.247
> 
> 标签：html, css, header

我有一些代码来显示分隔符和标题

我目前有

![在此处输入图像描述](../Images/dc5efab87666553f9d3b7b66d2b2e298.png)

```
.content-wrap {
    width: 1024px;
    margin: 0 auto;
}

.content-wrap section section {
    background: none;
    margin: 0;
}
.content-wrap section {
position: relative;
padding: 125px 0 25px 0;
background: url(http://www.lebiscuit.com.mx/section-sep.png) repeat-x left 25px;
}

h1 {
    font-size: 40px;
    float: right;
    line-height: 50px;
    letter-spacing: -0.9px;
    color: #ffffff;
    padding:25px 0;
}

body {background-color:#b0c4de;} 
```

这是html

```
<div class="content-wrap">
     <section id="services" >
             <h1>title</h1>
    </section>    
</div> 
```

所需的输出是

![在此处输入图像描述](../Images/411848d0770e65d8ecc65ae728524a98.png)

如何保留分隔符并将分隔符添加到h1？

请在[此处找到 jsfiddle](http://jsfiddle.net/HR2Xa/1/) html

就像是

```
<h1 class="bck"></div>

.bck h1
{
float: right
margin: 10px
background-color:transparent;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T04:47:19.707

由于您在该部分上使用相对定位，因此最好在标题 ( `h1`) 上使用绝对定位：

```
#services h1 {
    position: absolute;
    margin: 0;
    padding: 0;
    top: 0;
    right: 0;
    background-color: lightSteelBlue;
} 
```

这样`background-color`边界线不会穿过标题。

[http://jsfiddle.net/ExplosionPIlls/HR2Xa/2/](http://jsfiddle.net/ExplosionPIlls/HR2Xa/2/)

# android - Android中的窗口问题

> ID：15081475
> 
> 赞同：1
> 
> 时间：2013-02-26T04:41:40.460
> 
> 标签：android, animation, android-windowmanager

我计划在两个方向滚动视图上执行旋转动画（请参阅[链接](https://stackoverflow.com/questions/3866499/two-directional-scroll-view)）。我得到了 2 向滚动视图的效果，但是现在当我执行 Filp3D 类型的动画（见[链接](http://www.inter-fuser.com/2009/08/android-animations-3d-flip.html)）时，我得到了一个旋转窗口！

我实际上想围绕 x 轴动画执行旋转，然后执行连续动画。

我的代码是：

```
public class MainActivity extends Activity {

ScrollView sv;
WScrollView hsv;
Animation anim;
RelativeLayout rl;
Button b1,b2,b3;

@Override
protected void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);

/*BIDIRECTIONAL SCROLLVIEW*/
    sv = new ScrollView(this);
    hsv = new WScrollView(this);
    hsv.sv = sv;
    /*END OF BIDIRECTIONAL SCROLLVIEW*/

    rl = new RelativeLayout(this);
    rl.setBackgroundResource(R.drawable.interactivemap);
    sv.addView(rl, new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));
    hsv.addView(sv, new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.FILL_PARENT /*or FILL_PARENT if API < 8*/));
    setContentView(hsv);

    Window window = getWindow();
    window.setLayout(0, LayoutParams.WRAP_CONTENT);

    /* Animation Effects : Stage I */

    applyRotation(0, 45);

    /* Animation Effects : Stage II */
    /* Still to perform ! */
}

private void applyRotation(final float start, final float end) {
    new Handler().postDelayed(new Runnable() {

        @Override
        public void run() {
            // TODO Auto-generated method stub
            final float centerX = hsv.getWidth() / 2.0f + hsv.getLeft();
            final float centerY = hsv.getHeight() / 2.0f + hsv.getTop();
            Log.e("center-x center-y ",centerX+"  "+centerY+"found");
            final Flip3dAnimation rotation = new Flip3dAnimation(start, end, centerX, centerY);
            rotation.setDuration(2000);
            rotation.setFillAfter(true);
            rotation.setInterpolator(new LinearInterpolator());
            hsv.startAnimation(rotation);

        }
    }, 10);
}
} 
```

**输出：**
**1)**输出有时是围绕不同轴的动画，然后它变得不可见，好像我没有放置任何 setFillAfter(true)，它恰好出现在 Flip3dAnimation 类中，如两个方向滚动视图链接所示。
**2）**动画来了，但只有原来的窗口在3d空间中旋转，好像一张卡片翻转了45度！

我需要带有任何窗口限制的第二个输出，因为我使用了滚动视图（2d），我希望像在 AOE（帝国时代，说真的，人们玩游戏：D）这样的游戏中像 2d 平面一样可见，或者对于非游戏，开放的 2d 表面。

请指导我实现相同的目标，也请指导我参考一些为 API-8 或 9 执行复杂 2d 动画的源代码。

# sql-server-2008 - 访问 T-SQL 2008 日期序列

> ID：15081482
> 
> 赞同：-1
> 
> 时间：2013-02-26T04:42:01.240
> 
> 标签：sql-server-2008, tsql, ms-access

谁能帮我将此 Microsoft 访问查询转换为 Tsql 2008：

```
SELECT
    dbo_Invoiceable__c.NAME AS Invoiceable,
    dbo_Invoiceable__c.Payment_is_due__c,
    dbo_Invoiceable__c.Day_Due__c,
    DATE () AS [Invoice Date],
    DateSerial(Year(DATE ()), Month(DATE ()), [Day_Due__c])
        AS [On a day of the month],
    DateAdd("d", [day_due__c], DATE ())
        AS [In a given number of days],
    DateAdd("d", [day_due__c] - 1, DateAdd("m", 1, DateSerial(Year(DATE ()), Month(DATE ()), 1)))
        AS [No of days after EOM],
    IIf([Payment_is_due__c] = "In a given number of days", [In a given number of days], "") & IIf([Payment_is_due__c] = "On a day of this month", [On a day of the month], "") & IIf([Payment_is_due__c] = "No of days after EOM", [No of days after EOM], "")
        AS [Due Date]
FROM dbo_Invoiceable__c; 
```

我试过这个：

```
SELECT *,
       CASE 
WHEN [Payment_is_due__c] = 'In a given number of days' THEN [In a given number of days] ELSE '' 
END + CASE 
WHEN [Payment_is_due__c] = 'On a day of this month' THEN [On a day of the month] ELSE '' 
END + CASE 
WHEN [Payment_is_due__c] = 'No of days after EOM' THEN [No of days after EOM] ELSE '' 
END AS [Due Date]
FROM   (SELECT [SalesForce_LIVE.dbo.Invoiceable__c].[Name] AS Invoiceable,
               [SalesForce_LIVE.dbo.Invoiceable__c].[Payment_is_due__c],
               [SalesForce_LIVE.dbo.Invoiceable__c].[Day_Due__c],
               CONVERT (DATETIME, CONVERT (VARCHAR, GETDATE(), 1), 1) AS [Invoice Date],
               dbo.DateSerial(Year(CONVERT (DATETIME, CONVERT (VARCHAR, GETDATE(), 1), 1)), Month(CONVERT (DATETIME, CONVERT (VARCHAR, GETDATE(), 1), 1)), [Day_Due__c]) AS [On a day of the month],
               DATEADD(d, [day_due__c], CONVERT (DATETIME, CONVERT (VARCHAR, GETDATE(), 1), 1)) AS [In a given number of days],
               DATEADD(d, [day_due__c] - 1, DATEADD(m, 1, dbo.DateSerial(Year(CONVERT (DATETIME, CONVERT (VARCHAR, GETDATE(), 1), 1)), Month(CONVERT (DATETIME, CONVERT (VARCHAR, GETDATE(), 1), 1)), 1))) AS [No of days after EOM]
        FROM   SalesForce_LIVE.dbo.Invoiceable__c) AS Nested1; 
```

但仍然无法让日期序列在 Tsql 中工作

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-27T00:39:01.663

```
DECLARE @firstdayofmonth datetime;
DECLARE @lastdayofmonth datetime;
SET @firstdayofmonth =  DATEADD(MONTH, DATEDIFF(MONTH, 0, GETDATE()),  0);
SET @lastdayofmonth =   DATEADD(s,-1,DATEADD(mm, DATEDIFF(m,0,GETDATE())+1,0));

SELECT *,
     CASE  WHEN [Payment_is_due__c]='In a given number of days' THEN [In a given number of days] ELSE '' END + 
     CASE  WHEN [Payment_is_due__c]='On a day of this month' THEN [On a day of the month] ELSE '' END + 
     CASE  WHEN [Payment_is_due__c]='No of days after EOM' THEN [No of days after EOM]     ELSE '' END AS [Due Date] 
FROM  (SELECT SalesForce_LIVE.dbo.Invoiceable__c.[Name] AS Invoiceable,     SalesForce_LIVE.dbo.Invoiceable__c.[Payment_is_due__c], SalesForce_LIVE.dbo.Invoiceable__c.[Day_Due__c],
CONVERT(DATETIME,CONVERT(VARCHAR,GETDATE(),1),1) AS [Invoice Date],
DATEADD(DAY,[day_due__c],@firstdayofmonth-1) AS [On a day of the month], 
DATEADD(DAYOFYEAR,[day_due__c],CONVERT(DATETIME,CONVERT(VARCHAR,GETDATE(),1),1)) AS     [In a given number of days],
DATEADD(DAY,[day_due__c],@lastdayofmonth) AS [No of days after EOM] 
FROM SalesForce_LIVE.dbo.Invoiceable__c
 ) AS Nested1 
```

# java - REST 请求通常是 JSON 输出还是其他？

> ID：15081494
> 
> 赞同：10
> 
> 时间：2013-02-26T04:42:58.290
> 
> 标签：java, javascript, rest

像 Java 的 jax-rs 一样的完整 REST api 包含用于定义资源路径的定义，使用完整的 GET、POST、PUT 请求。

但通常当我遇到 REST API 时，它通常是标准的 HTTP GET 请求，响应是 JSON 输出。看起来真实世界 REST 请求的核心是使用 JSON 输出，但 REST 的真正定义允许 XML、JSON 或其他输出类型。

例如，twitter API 有“JSON”输出，它们使用 GET 请求，下面是一些 URL：

[https://dev.twitter.com/docs/api/1.1/get/search/tweets](https://dev.twitter.com/docs/api/1.1/get/search/tweets)

而且您仍然可以使用“GET”参数来修改请求。似乎 twitter 'search/tweets' 函数只是一个简单的 http 请求，具有定义良好的 URI 路径，恰好返回 JSON 响应。这真的是 REST 吗？

什么是 REST api？

在 Jax-rs [http://en.wikipedia.org/wiki/Java_API_for_RESTful_Web_Services](http://en.wikipedia.org/wiki/Java_API_for_RESTful_Web_Services)

（对不起，如果这有点主观或轶事，但我相信开发人员对此感到疑惑）

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-26T06:18:23.160

REST（Representational State Transfer）是一种模糊的架构设计模式，最初由 Roy Fieldings（又名 HTTP 的创建者）在[一篇论文中提出。](http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm)

大多数情况下（99% 的时间），当有人想要一个 REST API 时，他们意味着他们想要一个 Web API，他们在其中发送一个包含 HTTP 动词和一个 URL 的请求，该 URL 描述了*将由*HTTP 动词。然后，Web 服务器在*资源*上执行请求的动词并将响应发送回用户。响应通常（取决于使用的 HTTP 动词）包含结果*Resource*的表示。资源可以表示为 HTML、JSON、XML 或许多其他不同的[mime 类型](http://en.wikipedia.org/wiki/Mime_type#List_of_common_media_types)。

响应中使用的哪种表示并不能真正表明 API 是否为 RESTful；它是接口的 URL 的结构以及 Web 服务器的行为是如何使用 HTTP 动词定义的。正确兼容的 REST API 应该使用 GET 动词来仅读取资源，使用 POST 动词来修改资源，使用 PUT 来添加/替换资源，以及使用 DELETE 来删除资源。[HTTP 规范](http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html)中列出了预期动词行为的更正式定义。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-26T04:48:11.883

REST（简而言之）是一种范式，资源应该可以通过 URI 访问，并且可以使用类似 HTTP 的动词来操作它们（也就是说，HTTP 的设计考虑了 REST 原则）。例如，这与为您的应用程序拥有一个 URI 并发布数据负载以告诉服务器您想要实现的目标相反。

粗略地打个比方，文件系统通常是 RESTful 的。不同的资源位于易于访问和写入的不同地址（目录），尽管不一定以反映路径的方式存储在磁盘上。或者，大多数数据库*都不*是RESTful - 您连接到数据库并通过声明性 API 访问数据，而不是按位置查找数据。

至于资源是*什么*——HTML、JSON、滑水松鼠的视频——这是与遵循 RESTful 原则不同的抽象级别。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T04:46:35.633

REST 是一个相当“松散”的标准，但 JSON 是一种合理的标准化格式。总体而言，我对 JSON 的唯一主要担忧是它没有像 XML 那样显式定义其字符编码的方法。至于动词，坚持动词的有意义用法很好，但它们不一定在每种情况下都一一对应，所以像往常一样，使用常识:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T04:47:21.990

它可以是 JSON，也可以是 XML。JSON 并不完全是行业“标准”，但许多开发人员（包括我）都喜欢它，因为它轻量级且易于使用。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-26T04:51:33.347

差不多就是这样。REST 设计得很简单。它的要点是每个 url 对应一个唯一的资源。资源的格式通常是 json，但可以是任何格式，通常由 url 的“扩展名”或“格式”部分确定。例如，“/posts/1.json”和“/posts/1.xml”只是同一逻辑资源的两种不同表示形式，分别以 json 和 xml 格式表示。RESTful 接口的另一个常见特征是使用 HTTP 动词（例如 GET、PUT 和 POST）来检索、修改和创建新资源。这就是它的全部内容。

# c++ - c ++中的位向量和位集有什么区别？

> ID：15081499
> 
> 赞同：0
> 
> 时间：2013-02-26T04:43:33.033
> 
> 标签：c++

两者之间是否有任何明显的差异，使一个人在某些情况下的使用比另一个人更实用？有人可以在这里概述差异以及两者的任何相关性能信息吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T04:45:44.810

“位向量”`std::vector< bool >`是堆上的一个动态大小的数组，它满足 Container 类的大部分要求。为此，它定义了一个时髦的`iterator`类，它`reference`按照棘手的代理对象设计模式返回对象。

A`std::bitset`是一个静态大小的数组，其存储与对象内联。它没有迭代器，只有下标等访问运算符。

按位访问部分将执行类似的操作。`vector`还会在创建和销毁时调用and `operator new`，`operator delete`并在必要时偶尔重新分配。

# layout - 在 Vaadin 7 中集成 SmartGWT 布局

> ID：15081501
> 
> 赞同：6
> 
> 时间：2013-02-26T04:43:37.727
> 
> 标签：layout, integration, vaadin, smartgwt

我想在 Vaadin 7 中使用 SmartGWT 布局。我到处搜索；但是，无法获得正确的教程或任何源代码。任何人都可以帮助我吗？

而且，我在 SmartGWT 中尝试过。我在 SmartGWT 中创建了一个布局。

```
public class SmartGWTLayout extends Widget {
   public SmartGWTLayout() {
    TabSet tabSet = new TabSet();
    tabSet.setTabBarPosition(Side.TOP);
    tabSet.setWidth(400);
    tabSet.setHeight(200);

    Tab tTab1 = new Tab("Blue", "pieces/16/pawn_blue.png");
    Img tImg1 = new Img("pieces/48/pawn_blue.png", 48, 48);
    tTab1.setPane(tImg1);

    Tab tTab2 = new Tab("Green", "pieces/16/pawn_green.png");
    Img tImg2 = new Img("pieces/48/pawn_green.png", 48, 48);
    tTab2.setPane(tImg2);

    tabSet.addTab(tTab1);
    tabSet.addTab(tTab2);

    VLayout vLayout = new VLayout();
    vLayout.setMembersMargin(15);
    vLayout.addMember(tabSet);
    vLayout.setAutoHeight();

    vLayout.draw();
  }
} 
```

我像这样在 Vaadin 中调用了布局。

```
 SmartGWTLayout aSmartGWTLayout = new SmartGWTLayout();
            vaadinLayout.addComponent((Component)SmartGWTLayout); 
```

而且，我收到了这个错误

```
 HTTP Status 500 - java.lang.NoClassDefFoundError: com/google/gwt/core/shared/GWTBridge

  type: Exception report

  message: java.lang.NoClassDefFoundError: com/google/gwt/core/shared/GWTBridge

  description: The server encountered an internal error that prevented it from fulfilling this request. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T12:01:20.077

这不是在 Vaadin 中使用 GWT Widget 的正确方法。

尝试按照本教程进行操作：

[http://java.dzone.com/articles/using-gwt-widgets-vaadin-7](http://java.dzone.com/articles/using-gwt-widgets-vaadin-7)

[http://java.dzone.com/articles/using-gwt-widgets-vaadin-7-0](http://java.dzone.com/articles/using-gwt-widgets-vaadin-7-0)

[http://java.dzone.com/articles/using-gwt-widgets-vaadin-7-1](http://java.dzone.com/articles/using-gwt-widgets-vaadin-7-1)

如果您使用 Eclipse 的 Vaadin 插件：[https ://vaadin.com/eclipse](https://vaadin.com/eclipse)

您可以在以下位置创建具有所有功能（必要的类、xml 文件和小部件集）的新小部件：

**项目/新建/其他/Vaadin/小部件**

# python - Redis 服务器间歇性地响应 Python 客户端

> ID：15081502
> 
> 赞同：2
> 
> 时间：2013-02-26T04:43:41.133
> 
> 标签：python, rest, web-applications, redis

将 Redis 与我们的 Python WSGI 应用程序一起使用，我们注意到在某些时间间隔内，Redis 会停止响应请求。然而，一段时间后，我们能够再次获取存储在其中的值。

看到这种情况，查看Redis服务的状态，还是在线的。

如果有任何帮助，我们将使用`redis`Python 包并`StrictRedis`用作连接类，默认为`ConnectionPool`. 对此的任何想法将不胜感激。如果有更多信息有助于更好地诊断问题，请告诉我，我会尽快更新。

非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T08:23:35.903

有关您的 redis 设置和数据集大小的更多数据将很有用。也就是说，我冒昧地猜测您的 Eedis 服务器已配置为将数据持久保存到磁盘（默认设置）。如果是这样，您可能会看到 Redis 节点在分叉自身副本以将数据集保存到磁盘时变得有点不堪重负。

如果是这种情况并且您确实需要持久化到磁盘，那么我建议将第二个实例站起来并将其配置为对第一个实例进行剃须并持久化到磁盘。然后您将配置为不持久保存到磁盘的主服务器。在此配置中，您应该看到可写节点始终完全响应。您甚至可以设置一个非持久从属设备以进行只读访问。

但是，如果没有关于您的配置、资源和使用的更多详细信息，这只是一个有根据的猜测。

# typo3 - 将页面内容添加到流体模板

> ID：15081508
> 
> 赞同：1
> 
> 时间：2013-02-26T04:44:17.080
> 
> 标签：typo3, typoscript, fluid

我是 TYPO3 和 Fluid 的新手，并尝试使用类似于以下的 Fluid 模板来显示页面内容：

```
<div id="content">
   <f:format.html>{content}</f:format.html>
</div> 
```

页面数据通过后端使用两列布局 ( `colPos=0, colPos=1`) 输入。

我现在正试图`colPos=0`在 div 中显示第一列 ( ) 的内容。
目前，我的 TYPO 脚本如下所示：

```
page = PAGE
page {
   # ...

   5 = FLUIDTEMPLATE
   5 {
        file = fileadmin/templates/default.html

        # ...

        variables {
           pageTitle = TEXT
           pageTitle.data = page:title    

           content = CONTENT
           content {
              table = tt_content
              select {
                 where=colPos=0
              }
              renderObj = COA
              renderObj {
                 10 = TEXT
                 10.field = bodytext
              }
           }
      }
} 
```

它以这种方式工作，但我无法摆脱我的 5.variables.content 太复杂的感觉。

我看到一些解决方案`content < styles.content.get`用作替代方案，但使用它会导致我生成的 div 为空。

有没有更优雅的方式（即在这种情况下更短）来实现我正在做的事情？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T19:20:33.407

关于你的问题，哪种方法更优雅（我不使用流体，但我认为它是一般的 Typoscript）：

如果你想使用 css_styled_content，但比快捷方式“get”、“getLeft”等更灵活、更透明，请使用：

```
content < styles.content.get
content.select.where = colPos = 0 
```

在这种情况下无需指定 content = CONTENT。

以您在上面编写的方式，您可能需要添加：

```
10.parseFunc = < lib.parseFunc_RTE 
```

到您的renderObj，否则，自动链接的电子邮件地址等将不会在内容中呈现。

如果您想完全控制标记，则使用 CONTENT 对象的原始方法优于 css_styled_content。但是您必须涵盖编辑应该使用的每个字段。

我总是使用这篇文章：[http ://www.typo3wizard.com/en/articles/explaining-the-content-object.html](http://www.typo3wizard.com/en/articles/explaining-the-content-object.html)

另一方面，使用 css_styled_content，您可以免费解析所有字段 - 而且您还可以获得它将为您编写的所有标记。

查看 /typo3/sysext/css_styled_content/static/setup.txt 中的 csc 静态模板以了解它的作用可能会有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T17:09:55.580

page.5.variables.content <styles.content.get

当然，您必须安装**CSS 样式内容**扩展（默认）和包含在 TypoScript 模板中的**静态模板“CSS 样式内容”（选项卡：包含）。**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T09:09:37.663

我不使用流体，只是简单的 TS 用于我的项目，但我希望能有所帮助。

如果您没有“触摸”它们，则在后端的 cols 是这样的：

| col1（左） | col0(正常) | col2（右） | col3(边框) |

我所做的是“正常”布局：

```
page.10 = TEMPLATE
page.10 {
  subparts{
    LEFT-CONTENT < styles.content.getLeft
    CONTENT < styles.content.get
    RIGHT-CONTENT < styles.content.getRight
  }
  marks {
    DESCRIPTION < styles.content.getBorder
  } 
```

如果你需要更多的东西，你可以使用类似的东西来生成一些不在该页面上的内容，并可以使用它在所有页面上显示它。

```
subparts{
LEFT-CONTENT < styles.content.getLeft
LEFT-CONTENT {
  select.pidInList = 50
  select.where = colPos=0
  select.orderBy = sorting
  wrap = <div class="col100">|</div>
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-09-03T00:39:00.123

替代解决方案：[https](https://fluidtypo3.org/viewhelpers/vhs/development/Content/RenderViewHelper.html) ://fluidtypo3.org/viewhelpers/vhs/development/Content/RenderViewHelper.html （以及`get`获取`random`/渲染对应项）。

# c - C pthread_cond_broadcast 似乎正在向所有 cond 变量广播

> ID：15081512
> 
> 赞同：0
> 
> 时间：2013-02-26T04:44:39.730
> 
> 标签：c, pthreads, posix, mutex

我有一个结构数组。每个结构如下。

```
struct thread_st
{
    pthread_t thr;

    int conn;
    pthread_mutex_t mutex;
    pthread_cond_t cond;
}; 
```

conn 指示线程是否有工作要做。如果它> = 0，它表示一个任务，如果它是-1，它表示等待。如果它读取-1，它会在继续之前使用以下循环等待广播我已经删除了一些错误处理，因此其他等将块缩小到需要

```
while (str->conn == -1) {
    else {
        if (pthread_cond_wait(&str->cond,&str->mutex)) {
            if (pthread_mutex_unlock(&str->mutex)) { }
            return NULL;
        }
        printf("here b3\n");
    }
} 
```

现在，我的问题是，当 cond 变量被广播时 pthread_cond_broadcast(&thr->cond) ，其中 thr 是 thread_st 类型，所有线程都打印“here b3”语句。为了理智起见，我已经使用 The thread_st array is created here 进行了测试（再次删除了错误处理）

```
struct thread_st pool[TP_SIZE];
for (i = 0; i < TP_SIZE; i++) {
    pool[i].conn = -1;
    if (pthread_mutex_init(&pool[i].mutex,NULL)) { }
    if (pthread_cond_init(&pool[i].cond,NULL)) { }
    if (pthread_create(&(pool[i].thr), NULL,worker_thr_routine, pool)) { }
} 
```

有任何想法吗？这是我第一次真正尝试使用 cond 和 mutex 变量，所以如果我很愚蠢，请告诉！

谢谢

**更新** 线程仅响应位于数组中第一个结构中的条件变量的广播。

**更新 2** 找到了。原来我是个白痴。在我调用 pthread create 的地方，我通过了整个池。我只是想通过 pool[i]

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T07:07:36.623

您将对数组的引用传递`pool`给所有线程，因此（我猜，因为您的 OP 中缺少代码）每个线程都引用数组的第一个元素。

您可能想更改以下行：

```
if (pthread_create(&(pool[i].thr), NULL,worker_thr_routine, pool)) 
```

成为：

```
if (pthread_create(&(pool[i].thr), NULL,worker_thr_routine, pool + i)) 
```

将引用传递给线程函数的*当前*线程特定条目。`pool`

# objective-c - ECSlidingViewController 不是第一个视图

> ID：15081513
> 
> 赞同：1
> 
> 时间：2013-02-26T04:44:44.100
> 
> 标签：objective-c, xcode

我的应用程序从一个未使用的视图开始`ECSlidingViewController`，然后有一个按钮指向另一个使用它的视图。

在使用 切换视图`Storyboard Segue`时，但出现错误。

我应该添加什么才能正确`btnGoSecondView`加载`ECSlidingViewController`？

* * *

代码：

```
-(IBAction)btnGoSecondView:(id)sender {
    [self performSegueWithIdentifier:@"SecondViewShow" sender:self];
} 
```

* * *

![在此处输入图像描述](../Images/eabc8419db386cbda2a814f0cfd1f8ad.png)

* * *

错误：

```
 *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '*** -[__NSArrayM insertObject:atIndex:]: object cannot be nil' 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:07:42.837

Based on the error you're getting an object is trying to be inserted into a mutable array but it hasn't been initialised. Where is the exception thrown in your code?

Try work out where the array is being accessed and why it's null. The NSMutableArray may not have been initialised in which case you'll need to initialise it.

```
NSMutableArray *arrayName = [NSMutableArray new]; 
```

Another thought: Before the ECSlidingViewController is presented I think you need to set it's topViewController. You could add it in -prepareForSegue:sender: or in the viewDidLoad of the viewController to be presented.

Something like this perhaps:

```
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {

     ECSlidingViewController *slidingViewController = (ECSlidingViewController *)segue.destinationViewController;
     slidingViewController.topViewController = [self.storyboard instantiateViewControllerWithIdentifier:@"FirstTop"];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T04:58:07.043

我认为你应该先做一些初始视图，然后让那个视图成为初始视图控制器，并为每个视图控制器创建一个标识符。

像这样的东西..

*self.viewcontroller = [storyboard instantiateViewControllerWithIdentifier:@"home"];*

# python - 如何在python中创建一个“空if语句”

> ID：15081516
> 
> 赞同：42
> 
> 时间：2013-02-26T04:45:12.173
> 
> 标签：python, if-statement

这在 C 中很常见：像这样破解“空 if 语句”：

```
if(mostlyhappencondition)
    ;#empty statement
else{
    dosomething;
} 
```

它在 Python 中工作？我的意思是，我们可以通过使用它来提高应用程序的性能吗？我也想知道为什么。

* * *

## 回答 #1

> 赞同：51
> 
> 时间：2013-02-26T05:11:02.067

如果“if”中没有 else 情况，则性能会有所提高，因为字节码不会将执行传递给“if”情况。

这是一些函数和输出`dis.dis(foo)`

以下示例应用程序：

```
def foo(x):
    if x:
        pass
    else:
        return x+2 
```

拆解到：

```
5           0 LOAD_FAST                0 (x)
            3 POP_JUMP_IF_FALSE        9

6           6 JUMP_FORWARD             8 (to 17)

8     >>    9 LOAD_FAST                0 (x)
           12 LOAD_CONST               1 (2)
           15 BINARY_ADD          
           16 RETURN_VALUE        
      >>   17 LOAD_CONST               0 (None)
           20 RETURN_VALUE 
```

以下

```
def foo(x):
    if not x:
        return x+2 
```

拆解到：

```
11           0 LOAD_FAST                0 (x)
             3 POP_JUMP_IF_TRUE        14

12           6 LOAD_FAST                0 (x)
             9 LOAD_CONST               1 (2)
            12 BINARY_ADD          
            13 RETURN_VALUE        
       >>   14 LOAD_CONST               0 (None) 
```

* * *

## 回答 #2

> 赞同：25
> 
> 时间：2013-02-26T04:48:56.457

我只能猜测您正在寻找该`pass`语句，有时需要创建一个空代码块以防止语法错误。

```
if mostlyhappencondition:
    pass
else:
    do_something() 
```

这样做会更常见，这在逻辑上是等效的：

```
if not mostlyhappencondition:
    do_something() 
```

这里没有显着的性能提升。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-26T04:52:08.140

直到你没有任何事情`if True:`可以做

```
if not mostlyhappenedcondition:
   do something() 
```

如果即使将来您也不必在“if”中添加任何内容，那么它在您的代码中是多余的。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-02-26T04:45:57.863

不，这不会提高性能。事实上，它在 C 中也没有。你是从哪里听来的？

`not`/`!`读起来更好，应该有或多或少相同的速度。

* * *

并实际测试`gcc -O4`：

```
#include <stdio.h>

int main(int argc, char *argv[]) {
    for(int i = 0; i < 1000000000; i++) {
        if(!(i < 900000000)) {
            putchar('.');
        }
    }
} 
```

对比

```
#include <stdio.h>

int main(int argc, char *argv[]) {
    for(int i = 0; i < 1000000000; i++) {
        if(i < 900000000);
        else {
            putchar('.');
        }
    }
} 
```

在我的电脑上，#1 用了 6.62 秒，#2 用了 6.64 秒。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2021-05-03T18:55:04.137

> 这个例子有一个列表

```
 myList = [1, 2, 4, 4, 1, 4, 2, 6, 2, 9]
    newList = []
        for element in myList:
            if element not in newList:
                newList.append(element)
                         or
                pass
            else:
                print("The list with unique elements only:")

   print(myList)
   print(newList) 
```

# ruby-on-rails - 如何将字符串传递给 Rails 部分？

> ID：15081526
> 
> 赞同：6
> 
> 时间：2013-02-26T04:45:55.627
> 
> 标签：ruby-on-rails, partial-views

我的观点是这样的：

```
render  :partial  => 'shared/_address', :locals   => {:address => order.bill_address} 
```

部分看起来像这样：

```
 <b><%= address.name %></b><br/>
  <%= raw address.address_lines('<br/>') %><br/>
  <%= address.city_state_zip %><br/> 
```

页面上有多个部分呈现的实例。我如何修改我的渲染：部分行，而不是让它显示 address.name，以便我传递一个自定义字符串，例如“Future Shipping Address”，而不必使用 address.name？

所以代码如下所示：

```
 <b>STRING GOES HERE</b><br/>
  <%= raw address.address_lines('<br/>') %><br/>
  <%= address.city_state_zip %><br/> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T05:51:57.483

尝试：

```
render :partial => 'shared/address', :locals => {:my_string=>"my string", :address => order.bill_address} 
```

**部分地**

```
<b><%= my_string %></b><br/>
<%= raw address.address_lines('<br/>') %><br/>
<%= address.city_state_zip %><br/> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T05:07:52.943

view:

```
render 'shared/_address', address: order.bill_address, custom_string: 'foobar' 
```

partial:

```
<b><%= custom_string %></b>
<%= raw address.address_lines('<br/>') .... 
```

# javascript - 使用javascript获取有限数量的表列

> ID：15081529
> 
> 赞同：0
> 
> 时间：2013-02-26T04:46:01.820
> 
> 标签：javascript

假设我有一个动态生成 td 的表

```
 <table>
   <tr>
      <td>Sample A </td>
      <td>Sample B </td>
      <td>Sample C </td>
      <td>Sample D </td>
      <td>Sample E </td>
   </tr>
  </table> 
```

其中样本 A、B、C、D、E 是动态生成的，它也有 F、G、H 等。

现在我只想显示 5 条记录，而不是全部。无论它可能是什么记录，我只想显示 5 条记录

任何人都可以帮助我编写 javascript 代码，其中第 6 列将自动隐藏并仅显示 5 。

请有人帮帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T04:50:32.100

我建议使用 jquery。然后它看起来像这样

```
<script>
    var cols = $("#myRow").children("td");
    foreach...
</script>
<table>
   <tr id="myRow">
      <td>Sample A </td>
      <td>Sample B </td>
      <td>Sample C </td>
      <td>Sample D </td>
      <td>Sample E </td>
   </tr>
  </table> 
```

看看你能不能弄清楚剩下的:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T04:55:30.010

我假设你没有使用 jQuery：

```
var cellz = document.getElementById('thistable').rows[0].cells;
    for(i=5; i < cellz.length; i++){
      cellz[i].style.display = 'none';
    } 
```

这隐藏了前 5 个以外的所有单元格。将单元格收集到一个数组中，然后我们循环遍历数组并隐藏那些 5+ 的 td。

我选择了 5 来满足您的需求。

这里应该是你的代码

```
 <table id="thistable">
     <tr>
       <td>Sample A </td>
       <td>Sample B </td>
       <td>Sample C </td>
       <td>Sample D </td>
       <td>Sample E </td>
     </tr>
   </table>

  <script type="text/javascript">
     // hide td's 5+
     var cellz = document.getElementById('thistable').rows[0].cells;
       for(i=5; i < cellz.length; i++){
       cellz[i].style.display = 'none';
      }
  </script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T05:06:01.290

尝试使用[jQuery :gt() 选择器](http://api.jquery.com/gt-selector/)：

```
$("table tr").find("td:gt(4), th:gt(4)").hide();
//It will find td and th elements in table at index greater than 4 (column 6, column 7, ...), then hide them 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T05:06:11.623

如果您不介意放弃对旧浏览器的支持，您可以使用纯 CSS3 解决方案：

[http://jsfiddle.net/nwj6S/](http://jsfiddle.net/nwj6S/)

```
table#target tr > td:nth-child(n+6) {
    display:none;
} 
```

根据此[兼容表](http://caniuse.com/#feat=css-sel3)，这将删除 IE<=8。

# java - 通过基于浏览器的应用程序的移动通知

> ID：15081531
> 
> 赞同：1
> 
> 时间：2013-02-26T04:46:09.677
> 
> 标签：java, javascript, html, mobile, notifications

有什么方法可以让我们在移动设备（iPhone 和 Android）上拥有一个基于“纯”浏览器的应用程序来在移动设备上发送通知？

如果没有，是否有一种解决方法可以让我的应用程序在我的应用程序（浏览器）在后台时以某种方式通知用户警报？

谢谢您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:01:35.263

使用“纯”浏览器应用程序，我了解一个 WebApp，它不是通过 App Store 下载的。在这种情况下，这是不可能的。

您必须编写一个带有 a 的本机应用程序`UIWebView`才能通过推送通知和本地通知来达到此目的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T15:48:11.647

为此，您可以使用 Google Cloud Messaging 服务，该服务为服务器应用程序和客户端应用程序提供 API。

有一些示例应用程序可以说明您如何实现服务器应用程序（基于 Google App Engine 或独立 - 用于通用应用程序服务器）以及移动应用程序。

苹果也有类似的服务：http: [//developer.apple.com/library/mac/#documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/ApplePushService/ApplePushService.html](http://developer.apple.com/library/mac/#documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/ApplePushService/ApplePushService.html)

通过这种方式，您将实现服务器应用程序，该应用程序可从任何浏览器（桌面和移动设备）访问。因此，可能会有一个页面用于向您的应用程序的移动客户端发送消息。

# ios - 多个 UIScrollView

> ID：15081532
> 
> 赞同：3
> 
> 时间：2013-02-26T04:46:12.887
> 
> 标签：ios, xcode, uiscrollview

让我直截了当，

有 3 个像附件一样的滚动视图，我对代表感到困惑。见链接： [图片截图](http://img689.imageshack.us/img689/2189/screenshot20130226at112.png)

这里是 ：

1.  **滚动 1** - 仅垂直滚动
2.  **scroll 2** - 可以自由滚动（水平/垂直）
3.  **滚动 3** - 仅水平滚动

*如果我水平滚动***“滚动 2”** ，我想制作，那么**“滚动 1”**也是滚动的。如果我*垂直滚动***“滚动 2”**，那么**“滚动 3”**也是滚动的。

 ********如果有关于此的示例代码/示例，那就太好了。

问候，

天空。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T04:56:58.933

我做了类似于两个 NSTableViews 的事情，滚动一个会产生第二个滚动。

这是代码：

*MyScrollView.h*

```
#import <AppKit/AppKit.h>
#import "AppDelegate.h"

@interface MyScrollView : NSScrollView

@property (strong) AppDelegate *app;

@end 
```

*MyScrollView.m*

```
#import "MyScrollView.h"
//#define LogRect(RECT) NSLog(@"%s: (%0.0f, %0.0f) %0.0f x %0.0f", #RECT, RECT.origin.x, RECT.origin.y, RECT.size.width, RECT.size.height)

@implementation MyScrollView
@synthesize app;

- (void)reflectScrolledClipView:(NSClipView *)aClipView{
     [super reflectScrolledClipView:(NSClipView *)aClipView];

    //post a notification
    app=[[AppDelegate alloc] init];

    if (app) {
        [[NSNotificationCenter defaultCenter] postNotificationName:@"scrolled" object:aClipView];
    }

}    
@end 
```

*AppDelegate.h*

```
#import <Cocoa/Cocoa.h>

@interface AppDelegate : NSObject <NSApplicationDelegate>

@property (assign) IBOutlet NSWindow *window;

@property (strong) IBOutlet NSTableView *aTableView;
@property (strong) IBOutlet NSTableView *bTableView;
@property (strong) IBOutlet NSTableView *cTableView;

@property (strong) IBOutlet NSView *aView;
@property (strong) IBOutlet NSView *bView;

@end 
```

*AppDelegate.m*

```
#import "AppDelegate.h"

@implementation AppDelegate

/*
 Unwanted methods are not shown here, like delegates, datasource, init etc
*/

-(void)scrollTable:(NSNotification *)aNotification{
    NSPoint globalLocation = [NSEvent mouseLocation ];
    NSPoint windowLocationForA = [[aView window ] convertScreenToBase:globalLocation ];
    NSPoint viewLocationForA = [aView convertPoint: windowLocationForA fromView: nil ];
    NSPoint windowLocationForB = [[bView window ] convertScreenToBase:globalLocation ];
    NSPoint viewLocationForB = [bView convertPoint: windowLocationForB fromView: nil ];

    if (NSPointInRect(viewLocationForA, [aView bounds])) { // i scrolled on A
        NSLog(@"Scrolled A");
        if ([[[aTableView superview]superview] isEqualTo:[[aNotification object] superview]]) {
            [bTableView scrollRectToVisible:[[aNotification object] documentVisibleRect]];
            [cTableView scrollRectToVisible:[[aNotification object] documentVisibleRect]];
        }
    }
    else if (NSPointInRect(viewLocationForB, [bView bounds])) { // i scrolled on B
        NSLog(@"Scrolled B");
        if ([[[bTableView superview]superview] isEqualTo:[[aNotification object] superview]]){
            [aTableView scrollRectToVisible:[[aNotification object] documentVisibleRect]];
            [cTableView scrollRectToVisible:[[aNotification object] documentVisibleRect]];
        }
    }
    else{ // i scrolled on C
        NSLog(@"Scrolled C");
        if ([[[cTableView superview]superview] isEqualTo:[[aNotification object] superview]]){
            [aTableView scrollRectToVisible:[[aNotification object] documentVisibleRect]];
            [bTableView scrollRectToVisible:[[aNotification object] documentVisibleRect]];
        }
    }
}

-(void)awakeFromNib{

    [[NSNotificationCenter defaultCenter] addObserver:self
                                             selector:@selector(scrollTable:)
                                                 name:@"scrolled"
                                               object:nil];

}

@end 
```********

# windows - 在巨大的日志文件中搜索多个字符串

> ID：15081533
> 
> 赞同：0
> 
> 时间：2013-02-26T04:46:24.073
> 
> 标签：windows, string, powershell, full-text-search

Powershell 问题

目前我有 5-10 个日志文件，每个文件大约 20-25GB，需要搜索每个文件以检查 900 个不同的搜索参数是否匹配。我编写了一个基本的 powershell 脚本，它将在整个日志文件中搜索 1 个搜索参数。如果匹配，它会将结果转储到单独的文本文件中，问题是它非常慢。我想知道是否有一种方法可以通过一次搜索所有 900 个参数并且只查看一次日志来加快速度。即使只是改进脚本，任何帮助都会很好。

基本概述：

1 个 csv 文件，其中包含“项目”列下列出的所有 900 个项目 1 个日志文件 (.txt) 1 个结果文件 (.txt) 1 个 ps1 文件

这是我在 PS1 文件中的 powershell 下面的代码：

```
$search = filepath to csv file<br>
$log = "filepath to log file"<br>
$result = "file path to result text file"<br>
$list = import-csv $search <br>

foreach ($address in $list) {<br>
Get-Content $log | Select-String $address.item | add-content $result <br>

*"#"below is just for displaying a rudimentary counter of how far through searching it is <br>*
$i = $i + 1 <br>
echo $i <br>
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:42:47.793

900个搜索词是相当大的一组。你可以通过使用正则表达式来减小它的大小吗？一个简单的解决方案是逐行读取文件并查找匹配项。设置一个包含搜索词的正则表达式或文字字符串的集合。像这样，

```
$terms = @("Keyword[12]", "KeywordA", "KeyphraseOne") # Array of regexps
$src = "path-to-some-huge-file" # Path to the file
$reader = new-object IO.StreamReader($src) # Stream reader to file

while(($line = $reader.ReadLine()) -ne $null){ # Read one row at a time

    foreach($t in $terms) { # For each search term...
        if($line -match $t) { # check if the line read is a match...
            $("Hit: {0} ({1})" -f $line, $t) # and print match
        }
    }
}
$reader.Close() # Close the reader 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T21:53:48.740

当然，这对于您使用的任何解析器来说都是非常痛苦的，只是基于您在那里的文件大小，但是如果您的日志文件是标准格式（例如 IIS 日志文件），那么您可以考虑使用日志解析诸如 Log Parser Studio 之类的应用程序而不是 Powershell？

# datasource - Informix DB 的 Geronimo 数据源中的 LOCK_MODE_WAIT 配置

> ID：15081535
> 
> 赞同：1
> 
> 时间：2013-02-26T04:46:31.327
> 
> 标签：datasource, informix, openjpa, geronimo

我们目前正在使用 Informix DB 和 Geronimo 应用服务器处理的应用程序正在引发 Lock Timeout expired 异常，因为其中一个“READ”操作需要很长时间才能完成事务，并且还有另一个 UPDATE 操作更改了记录。

该方法是增加锁定等待超时值，以便事务可以等待现有事务完成。

在geronimo 控制台下informix 数据库的数据源定义中进行了以下配置。

**`IfxIFX_LOCK_MODE_WAIT - 3000`**

但是，我们仍然收到锁等待超时异常。

是否有任何其他解决方案来增加锁定等待超时值？

# sql - 如何根据 SQL Server 中的其他表对表进行排序

> ID：15081539
> 
> 赞同：0
> 
> 时间：2013-02-26T04:47:07.753
> 
> 标签：sql, sql-server, join

我有一个`table1`

```
c1  c2
a   1
a   2
a   3
b   1
b   2
b   3 
```

我有一个`table2`

```
c3  c4
A   I
B   II
C   III 
```

如果将表 1 和表 2 交叉连接到表 3

```
c1  c2  c3  c4
a   1   A   I
a   2   A   I
a   3   A   I
b   1   A   I
b   2   A   I
b   3   A   I
a   1   B   II
a   2   B   II
a   3   B   II
b   1   B   II
b   2   B   II
b   3   B   II
a   1   C   III
a   2   C   III
a   3   C   III
b   1   C   III
b   2   C   III
b   3   C   III 
```

如果在 Table1 中添加一列并与 Table2 交叉连接并插入到 Table3 中，则缺少 Table3 的顺序。

所以我的问题是，如何维护基于Table1的顺序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T04:49:36.583

不要担心插入的顺序。`order by`您应该在插入和使用数据时包含要排序的任何字段`select`。

尝试这个 -

```
select *
from table3
order by c1, c2 
```

这与您使用当前架构一样好。

# python - Python，创建对象

> ID：15081542
> 
> 赞同：150
> 
> 时间：2013-02-26T04:47:18.340
> 
> 标签：python

我正在尝试学习python，现在我正在尝试掌握类以及如何使用实例来操作它们。

我似乎无法理解这个练习问题：

创建并返回一个学生对象，其姓名、年龄和专业与作为输入的相同

```
def make_student(name, age, major) 
```

我只是不明白对象的含义，它们是否意味着我应该在保存这些值的函数内创建一个数组？或者创建一个类并让这个函数在里面，并分配实例？（在这个问题之前，我被要求建立一个学生班级，里面有名字、年龄和专业）

```
class Student:
    name = "Unknown name"
    age = 0
    major = "Unknown major" 
```

* * *

## 回答 #1

> 赞同：189
> 
> 时间：2013-02-26T04:58:29.860

```
class Student(object):
    name = ""
    age = 0
    major = ""

    # The class "constructor" - It's actually an initializer 
    def __init__(self, name, age, major):
        self.name = name
        self.age = age
        self.major = major

def make_student(name, age, major):
    student = Student(name, age, major)
    return student 
```

请注意，尽管 Python 哲学中的一个原则是*“应该有一种——最好只有一种——明显的方式来做到这一点”*，但仍然有多种方式可以做到这一点。您还可以使用以下两个代码片段来利用 Python 的动态功能：

```
class Student(object):
    name = ""
    age = 0
    major = ""

def make_student(name, age, major):
    student = Student()
    student.name = name
    student.age = age
    student.major = major
    # Note: I didn't need to create a variable in the class definition before doing this.
    student.gpa = float(4.0)
    return student 
```

我更喜欢前者，但在某些情况下后者可能很有用——例如在使用 MongoDB 等文档数据库时。

* * *

## 回答 #2

> 赞同：54
> 
> 时间：2013-02-26T04:51:35.450

创建一个类并给它一个`__init__`方法：

```
class Student:
    def __init__(self, name, age, major):
        self.name = name
        self.age = age
        self.major = major

    def is_old(self):
        return self.age > 100 
```

现在，您可以初始化`Student`该类的一个实例：

```
>>> s = Student('John', 88, None)
>>> s.name
    'John'
>>> s.age
    88 
```

虽然我不确定`make_student`如果它与`Student.__init__`.

* * *

## 回答 #3

> 赞同：30
> 
> 时间：2013-02-26T05:05:04.737

对象是类的实例。类只是对象的蓝图。因此，鉴于您的班级定义-

```
# Note the added (object) - this is the preferred way of creating new classes
class Student(object):
    name = "Unknown name"
    age = 0
    major = "Unknown major" 
```

`make_student`您可以通过将属性显式分配给以下新实例来创建函数`Student`-

```
def make_student(name, age, major):
    student = Student()
    student.name = name
    student.age = age
    student.major = major
    return student 
```

但在构造函数 ( `__init__`) 中执行此操作可能更有意义 -

```
class Student(object):
    def __init__(self, name="Unknown name", age=0, major="Unknown major"):
        self.name = name
        self.age = age
        self.major = major 
```

使用时调用构造函数`Student()`。它将采用`__init__`方法中定义的参数。构造函数签名现在基本上是`Student(name, age, major)`.

如果你使用它，那么一个`make_student`函数是微不足道的（而且是多余的） -

```
def make_student(name, age, major):
    return Student(name, age, major) 
```

为了好玩，这里是一个如何在`make_student`不定义类的情况下创建函数的示例。请不要在家里尝试这个。

```
def make_student(name, age, major):
    return type('Student', (object,),
                {'name': name, 'age': age, 'major': major})() 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2018-06-28T17:14:43.860

当您使用预定义类创建对象时，首先您要创建一个变量来存储该对象。然后您可以创建对象并存储您创建的变量。

```
class Student:
     def __init__(self):

# creating an object....

   student1=Student() 
```

实际上这个**init**方法是类的构造函数。你可以使用一些属性来初始化那个方法。在这一点上，当你创建一个对象时，你将不得不为特定属性传递一些值。

```
class Student:
      def __init__(self,name,age):
            self.name=value
            self.age=value

 # creating an object.......

     student2=Student("smith",25) 
```

# c - 为什么我会出现段错误？

> ID：15081549
> 
> 赞同：1
> 
> 时间：2013-02-26T04:47:41.707
> 
> 标签：c, gcc, segmentation-fault

出现段错误后，我使用了 gdb a.out 核心命令。之后我使用了回溯（bt），这就是 gdb 告诉我的

> 警告：核心文件可能与指定的可执行文件不匹配。
> 
> 警告：读取 0xfbe8 处的共享库列表条目时出错
> 
> 警告：在 0x74c085ff 读取共享库列表条目时出错
> 
> 核心由“family.out smith.ged”生成。
> 
> 程序以信号 11 终止，分段错误。
> 
> (磅符号)0 0x08086a6 in count_records ()
> 
> (gdb) BT
> 
> （磅符号）0 0x080486a6 in count_records()
> 
> (磅符号)1 0x08048906 in __libc_csu_init ()
> 
> （井号）2 0xbf85624c in ??()
> 
> （磅符号）3 0xbf856310 在 ?? ()
> 
> 回溯停止：此帧内部的前一个帧（损坏的堆栈？）

有人可以给我一些关于可能导致此段错误的原因吗？通常 gdb 会给我程序中的行号，但这次没有。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T05:11:38.297

这里可能发生的是你破坏了堆栈。程序的许多状态（包括所有告诉您当前所在函数的堆栈帧）都驻留在堆栈中，因此一旦被覆盖，调试器就只能处理损坏的信息。

一种常见的方法是将声明为局部变量的缓冲区溢出为字符串，例如

```
int main()
{
    char buf[4];
    return func1(buf);
}

int func1(char* theBuf)
{
    return func2(theBuf);
}

int func2(char* sameBufBackSomeplaceInTheStack)
{
     sprintf(sameBufBackSomeplaceInTheStack, "The stack is doomed.");
     return 0;
} 
```

结果可能会有所不同，但在我执行此操作后，我销毁的堆栈在调试器中看起来像这样：

```
Program received signal EXC_BAD_ACCESS, Could not access memory.
Reason: KERN_INVALID_ADDRESS at address: 0x0000000000000000
0x0000000100000d00 in _mh_execute_header ()
(gdb) where
#0  0x0000000100000d00 in _mh_execute_header ()
#1  0x0000000000000000 in ?? ()
(gdb) 
```

*无论如何*，您的程序在某个地方覆盖了堆栈，这通常很难调试......

# c++ - C++ main 可以在类中并调用派生类吗？

> ID：15081553
> 
> 赞同：-1
> 
> 时间：2013-02-26T04:48:08.223
> 
> 标签：c++

我是使用类/对象的新手。我正在尝试写这样的东西：

```
class C1{

    main ()
    {
         C2::foo();
    }
};

class C2:public C1
{
public:
    foo()
    {
    }
}; 
```

当调用 C2::foo() 时，编译器会抱怨 C2 不是类或命名空间。如果我将类 C2 定义移到前面，则未定义 C1。在这里可以做什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T04:54:40.063

您可以使用名为 的成员函数创建一个类`main`，但它*不会*被调用来启动您*的* `main`程序——它需要是一个全局函数（在任何类或命名空间之外）。但是，是的，一个名为的成员函数`main`非常好（第 3.6.1/3 节）：

> 该名称`main`未被保留。[*示例*：可以调用成员函数、类和枚举`main`，其他命名空间中的实体也可以。--*结束示例*]

至于如何安排你的代码，你通常会得到这样的结果：

```
class C1 { 
    int main();
};

class C2 : public C1 { 
public:
    int foo();
    // or perhaps: static int foo();
};

int C1::main() {
    C2::foo(); // given `C2::static int foo();`
    // otherwise: C2 c; c.foo();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T04:49:10.760

main 根本不应该在一个类中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T04:49:11.320

不，`main`不能在班级内。（为了清楚起见，您可以`main`在类中调用函数，但它们不会成为您程序的入口点。）

（C++ 标准 n3337，第 3.6.1 节）

> 一个程序应包含一个名为 的**全局**函数`main`，它是程序的指定开始。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-26T04:55:38.347

a`main` *可以*在类中。但它与入口点不同`main`，入口点必须是全局的！

这是一个例子：

```
#include <iostream>

using namespace std;

class C2 {
   public:
     void foo() {
        cout << "Foo!";
    }
};

class C1 {
   public:
     void main() { // not the same as the entry-point `main`
       cout << "What?";
       b.foo();
     }
  private: 
     B b;
};

int main() //actual entry point `main`
{
   A a;
   a.main();
   return 0;
} 
```

但是请注意，您的代码存在严重缺陷，其中之一 - 成员函数*必须*具有返回类型。（`void`如果您没有返回任何内容）。其次，`foo`是一个对象函数，这意味着它只能被一个类型为的对象调用`C2`。

# linux - eax 是否总是且仅存储系统调用？

> ID：15081561
> 
> 赞同：1
> 
> 时间：2013-02-26T04:49:06.947
> 
> 标签：linux, assembly, x86, nasm, cpu-registers

[我对 CPU 寄存器感到困惑，我还没有在整个互联网上找到任何真正清晰和连贯的解释。如果有人有有用的链接，如果您将其发布在评论或答案中，我将不胜感激。]

我现在在这里的主要原因是因为我一直在查看示例 NASM 程序，[迄今为止徒劳无功] 尝试学习该语言。该程序总是通过放入系统调用代码`eax`然后调用来结束`int 0x80`（如果有人也可以解释，我会很高兴）。但是，据我了解，`eax`是一个 32 位寄存器 - 为什么需要 32 位来存储系统调用（我敢肯定没有 2 ^(32)值）。此外，有时我会在程序本身期间看到其他值和字符串移动到 eax 中。这是否意味着`eax`只有当您最终想要执行系统调用时才有特殊用途，但在其余时间您可以随意使用它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T05:19:03.323

使用所有位，`eax`因为这就是系统调用接口的实现方式。确实没有 2 ^(32)系统调用，甚至没有 2 ^(16)。但就是这样。它允许轻松扩展系统调用集。你不需要去想它，只要接受它作为一个事实并继续生活。

`eax`是一个通用寄存器，您可以随心所欲地使用它。它用于包含系统调用 ID 的事实只是一个既定的约定，仅此而已。`eax`无论如何都不会被禁止用于其他用途。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2020-10-17T05:44:46.040

> 该程序总是通过在 eax 中放置一个系统调用代码然后调用 int 0x80 来结束（如果有人也能解释一下，我会很高兴）。

这是因为您只查看旧的 32 位 Linux 示例，而这正是 Linux 开发人员想做的事情。他们没有理由不能使用不同的寄存器，也没有太多理由不能使用半个寄存器（例如，a`ax`而不是`eax`，或`bx`或..）。以类似的方式，他们没有理由不能使用调用门或不同的中断号。当然，一旦 Linux 开发人员做出决定（“内核将期望 EAX 中的函数号并使用 int 0x80”），调用其内核的所有内容都必须遵守他们的决定；并且他们不能在不破坏所有现有软件的情况下轻易改变他们的决定（但可以并且确实支持替代方案 - 例如添加对`sysenter`和`syscall`当这些指令被发明时，同时确保它`int 0x80`仍然有效）。

> 但是，据我了解， eax 是一个 32 位寄存器 - 为什么需要 32 位来存储系统调用（我确定没有 232 个值）

他们并不“需要” 32 位；但是您可以期望函数编号（在“值是否太大”健全性检查之后）最终会在`call [table+eax*4]`指令中用于调用所选函数，并且因为它使用 32 位寻址，所以需要使用 32-位寄存器。使用寄存器的一半（或四分之一）将涉及零扩展（例如额外`and eax,0x0000FFFF`或`movzx eax,ax`指令）以将 16 位值转换为 32 位值。由于其他原因，使用所有 32 位通常也更快（例如`mov ax,123`，设置 EAX 的最低 16 位并保持最高 16 位不变将取决于最高 16 位的先前值，这可能导致“依赖关系停顿” " 如果它需要等到 EAX 的先前值已​​知，则在 CPU 中）。

> 这是否意味着 eax 仅在您最终想要执行系统调用时才有特殊用途，而在其余时间您可以随意使用它？

这意味着当你调用别人的代码时，你必须遵守别人的调用约定，不管它们是什么。这可能意味着将其他寄存器（`ebx`,`ecx`等）用于他们决定的任何目的，并且可能意味着使用特定的堆栈布局（例如以特定顺序将事物推入堆栈）。

请注意，有各种指令确实希望以特定方式使用特定寄存器 - `mul`, `div`, `stosd`, `movsd`, `loop`, `in`, `out`, `enter`,`leave`等；每个通用寄存器都有“罕见的特殊情况”。尽管如此; 它们仍然是“通用寄存器”，因为它们不是“特定用途寄存器”（例如`eip`或标志，只能用于一个特定目的，而不能用于其他任何用途）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T04:52:39.893

eax 是一个通用寄存器，你可以在里面放任何你想要的东西。int 0x80 是系统调用的中断...该中断查看 eax 中的值并调用该系统例程。

# javascript - Twitter 引导轮播。如何防止滑动事件完成

> ID：15081564
> 
> 赞同：0
> 
> 时间：2013-02-26T04:49:19.143
> 
> 标签：javascript, jquery, twitter-bootstrap, carousel

我试图阻止轮播幻灯片在某些情况下执行，但效果不大。

这是我的代码：

```
$('#questionsSlider').on('slide', '', function(e) {
            if( !testGroupCompletion($('.questionGroup.active').attr('groupno')))
                if(confirm('Are you sure?'))
                    return true;
                else
                    return false;
        }); 
```

但是当函数返回 false 时，不仅 carousel 静止不动，而且根本停止工作。有人知道我应该返回什么以防止滑动吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:04:22.227

这条线可以帮助你..

再次加载轮播

```
$('.carousel').carousel({
      $(this).carousel('pause') 
}) 
```

# jsf - Primefaces GMap infoWindow 用于多边形、折线

> ID：15081571
> 
> 赞同：3
> 
> 时间：2013-02-26T04:49:46.867
> 
> 标签：jsf, jakarta-ee, primefaces, primefaces-gmap

我正在使用 Primefaces 并尝试为不同类型的叠加层创建具有不同内容的 infoWindow。

地图.java

```
public void onMarkerSelect(OverlaySelectEvent event) {
    if (event.getOverlay() instanceof Marker) {
            selectedOverlay = "marker";

        selMarkerSite = (Site) event.getOverlay().getData();
        selMarkerSiteNetworkElements = new ArrayList<NetworkElement>();
        List<NetworkElement> neList = selMarkerSite.getNetworkElements();
        if (!neList.isEmpty()) {
        for (NetworkElement ne : neList) {
            if (!(ne.getNeFunc().getName().equals("CELL2G") || ne.getNeFunc().getName().equals("CELL3G") || (ne.getNeStatus() != null && ne.getNeStatus().getId().equals(new BigDecimal(26))))
                && filter.getRadioType().contains(ne.getNeFunc().getGeneration())) {

            selMarkerSiteNetworkElements.add(ne);
            }
        }
        }
        balloonText = HtmlFormatter.siteBalloonInfoFormater(selMarkerSite);
    }
    if (event.getOverlay() instanceof Polygon) {
            selectedOverlay = "polygon";
            // my code
    }
    } 
```

jsf

```
<p:gmap center="#{map.center}" 
                    zoom="#{map.zoom}" fitBounds="false" type="HYBRID" id="mainMapId"
                    style="width:100%; height:100%" widgetVar="mainMap"
                    model="#{map.mapModel}">

                    <p:ajax event="overlaySelect" listener="#{map.onMarkerSelect}" />
                    <p:ajax event="stateChange" listener="#{map.onStateChange}"
                        global="false"/>

                     />

                    <p:gmapInfoWindow>

                        <p:panel rendered="#{map.selectedOverlay=='marker'}">
                            <h:panelGrid columns="2" width="580">
                                <p:column style="width:200px">
                                    <p:outputPanel style="display:block; width:180px">

                                        <h:outputText value="#{map.balloonText}" escape="false" />

                                        <h:panelGrid columns="2" style="width:180px">
                                            <p:commandLink id="getAlarmsForSite"
                                                actionListener="#{map.getSiteAlarms}">
                                                <h:outputText value="Alarms" />
                                            </p:commandLink>

                                            <p:commandLink id="editSiteOnMapBtn"
                                                actionListener="#{map.editSite()}">
                                                <f:setPropertyActionListener
                                                    target="#{createOrUpdateSiteDialogController.componentsToUpdateOnNetworkElementSelectListener}"
                                                    value=":updateOrCreateNetworkElementDialogId" />
                                                <h:outputText value="Edit this Site" />
                                            </p:commandLink>
                                        </h:panelGrid>
                                    </p:outputPanel>
                                </p:column>
                                <p:column style="width:380px">
                                    <p:tabView id="tabView" var="NE"
                                        value="#{map.selMarkerSiteNetworkElements}"
                                        rendered="#{map.selMarkerSiteNetworkElements.size()>0}">
                                        <p:tab id="neTab" title="#{NE.name}"
                                            titleStyleClass="tabSev#{NE.minSeverity}">
                                            <h:panelGrid columns="2" style="width: 420px;">

                                                <h:panelGrid columns="2" style="width: 230px;">

                                                    <h:outputText value="MO: " style="font-weight: bold" />
                                                    <h:outputText value="#{NE.managingElement.name}" />

                                                    <h:outputText value="DN: " style="font-weight: bold" />
                                                    <h:outputText value="#{NE.dn}" />

                                                    <h:outputText value="TYPE: " style="font-weight: bold" />
                                                    <h:outputText value="#{NE.neFunc.name}" />

                                                    <h:outputText value="STATUS: " style="font-weight: bold" />
                                                    <h:outputText value="#{NE.neStatus.nameEng}" />

                                                    <h:outputText value="Customer " style="font-weight: bold" />
                                                    <p:graphicImage width="18" cache="true"
                                                        title="#{NE.nms.customer.nameEng}"
                                                        url="#{NE.nms.customer.labelSmall}"
                                                        style="padding-top: 2px;" />

                                                    <p:commandLink id="getAlarmsForNE"
                                                        actionListener="#{map.getBsAlarms(NE)}">
                                                        <h:outputText
                                                            value="Alarms (#{NE.sizeAlarmsWithChildrenNE})"
                                                            styleClass="sev#{NE.minSeverity}" />
                                                    </p:commandLink>

                                                    <p:commandLink id="editNeOnMapBtn"
                                                        actionListener="#{map.editNe(NE)}">
                                                        <h:outputText value="Edit this NE" />
                                                        <f:setPropertyActionListener
                                                            target="#{createOrupdateNetworkElementController.componentsToUpdateOnSiteViweActionListener}"
                                                            value=":updateOrCreateSiteDialogId" />
                                                    </p:commandLink>

                                                </h:panelGrid>

                                                <p:dataList value="#{NE.networkElements}" var="NEc"
                                                    rendered="#{NE.networkElements.size()>0}">
                                                    <h:outputText
                                                        value="name: #{NEc.name}; azimuth: #{NEc.azimuth!=null ? NEc.azimuth : '-' }" />
                                                </p:dataList>
                                            </h:panelGrid>
                                        </p:tab>
                                    </p:tabView>
                                </p:column>
                            </h:panelGrid>
                        </p:panel>
                        <p:panel rendered="#{map.selectedOverlay=='polygon'}">
                            //
                        </p:panel>
                    </p:gmapInfoWindow>
</p:gmap> 
```

麻烦的是，当我单击除标记之外的任何覆盖时，不会显示 infoWindow。我想在 infoWindow 中使用 jsf 代码。我如何为另一个覆盖显示 infoWindow？

# qt - Qt 4.8.4 应用程序在退出时在 Windows Vista 上崩溃

> ID：15081572
> 
> 赞同：1
> 
> 时间：2013-02-26T04:49:52.160
> 
> 标签：qt, windows-vista, stack-trace, segmentation-fault

我有一个 Qt 应用程序，它在 Windows Vista 机器上退出时间歇性崩溃（它在 Mac 和 Windows XP 上运行良好，需要在其他 Windows 版本上尝试更多）。我正在退出时进行 QApplication 清理，并在崩溃时获取以下堆栈跟踪。如果有人知道我可能做错了什么，请告诉我。

```
Program received signal SIGSEGV, Segmentation fault.
[Switching to thread 876.0x15f0]
0x69dfb912 in QEventDispatcherWin32Private::unregisterTimer (this=0x14cdf9b8,
t=0x1a1f6868, closingDown=true) at kernel/qeventdispatcher_win.cpp:620
(gdb) bt
#0  0x69dfb912 in QEventDispatcherWin32Private::unregisterTimer (
    this=0x14cdf9b8, t=0x1a1f6868, closingDown=true)
    at kernel/qeventdispatcher_win.cpp:620
#1  0x69dfd479 in QEventDispatcherWin32::closingDown (this=0x14cdf998)
    at kernel/qeventdispatcher_win.cpp:1115
#2  0x69cd7ff2 in QThreadPrivate::finish (arg=0x14cddb48, lockAnyway=true)
    at thread/qthread_win.cpp:376
#3  0x69cd7ec8 in QThreadPrivate::start (arg=0x14cddb48)
    at thread/qthread_win.cpp:348
#4  0x766f2599 in wcstombs () from C:\Windows\system32\msvcrt.dll
#5  0x766f26b3 in msvcrt!_beginthreadex () from C:\Windows\system32\msvcrt.dll
#6  0x7624d309 in KERNEL32!AcquireSRWLockExclusive ()
    from C:\Windows\system32\kernel32.dll
#7  0x774b16c3 in ntdll!RtlInitializeNtUserPfn ()
    from C:\Windows\system32\ntdll.dll
#8  0x774b1696 in ntdll!RtlInitializeNtUserPfn ()
    from C:\Windows\system32\ntdll.dll
#9  0x00000000 in ?? () 
```

# android - 获取警报信息并在 android 4.0 中更改它

> ID：15081573
> 
> 赞同：0
> 
> 时间：2013-02-26T04:50:02.157
> 
> 标签：android, android-intent, android-contentprovider

我正在尝试使用以下代码从内容提供者那里检索警报信息

```
final String tag_alarm = "tag_alarm";
Uri uri = Uri.parse("content://com.android.deskclock/alarm")
Cursor c = getContentResolver().query(uri, null, null, null, null);
Log.i(tag_alarm, "no of records are" + c.getCount());
Log.i(tag_alarm, "no of columns are" + c.getColumnCount());
if (c != null) {
    String names[] = c.getColumnNames();
    for (String temp : names) {
        System.out.println(temp);
    }
    if (c.moveToFirst()) {
        do {
            for (int j = 0; j < c.getColumnCount(); j++) {
                Log.i(tag_alarm, c.getColumnName(j);
                        + " which has value " + c.getString(j));
            }
        } while (c.moveToNext());
    }
} 
```

它给了我错误权限拒绝我从查询的好奇答案中复制了这段代码在 Nguyen 的评论中[获取警报信息](https://stackoverflow.com/questions/13759077/get-alarm-infomation) 他指出了一个解决方案“如果我将此代码嵌入 Android 源代码并运行图像文件，它可以传递“权限被拒绝”错误并检索警报信息。无论如何，谢谢你的提示:)“如何在android源代码中嵌入代码并运行图像文件？？请解释一下，我总是在 Eclipse 中创建一个项目，然后编写代码并将其作为运行应用程序运行。请解释一下这个技巧

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-12-23T07:49:13.243

在我看来，由于每个厂商都实现了自己的Clock App，所以Android的默认AlarmClockApp会根据每个厂商而被替换，如果Android OS被厂商修改，你的代码将无法成功运行。所以我认为在这种情况下我们不能处理所有的设备，而是应该由设备制造商处理。对于三星设备，它是 ClockPackage 和 androidManifest ：

```
 <provider
        android:name=".alarm.AlarmProvider"
        android:authorities="com.samsung.sec.android.clockpackage"
        android:exported="true"
        android:readPermission="com.sec.android.app.clockpackage.permission.READ_ALARM"
        android:writePermission="com.sec.android.app.clockpackage.permission.WRITE_ALARM" >
    </provider> 
```

所以我们可以通过以下方式读取三星设备中的警报数据：

在清单中添加权限：

```
<uses-permission android:name="com.sec.android.app.clockpackage.permission.READ_ALARM" /> 
```

然后通过以下方式获取 Uri：

```
Uri uri = Uri.parse("content://com.samsung.sec.android.clockpackage/alarm"); 
```

使用 Uri ：

```
 Cursor c = getContentResolver().query(uri, null, null, null, null);
    if (c == null) { // that mean devices is not belong to Samsung manufacturer,
                    // we should use an other uri (don't for get to add permission)
        AlarmLog.w("Can not read cursor");

    }
    AlarmLog.i(tag_alarm, "no of records are " + c.getCount());
    AlarmLog.i(tag_alarm, "no of columns are " + c.getColumnCount());
    if (c != null) {
        String names[] = c.getColumnNames();
        for (String temp : names) {
            AlarmLog.d(tag_alarm, temp);
        }
        if (c.moveToFirst()) {
            do {
                for (int j = 0; j < c.getColumnCount(); j++) {
                    AlarmLog.i(tag_alarm, c.getColumnName(j)
                            + " which has value " + c.getString(j));
                }
            } while (c.moveToNext());
        }
    } 
```

希望它对其他制造商有所帮助并接收代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T04:56:50.093

查看AndroidManifest.xml中内容提供者的定义

```
<provider android:name="AlarmProvider"
                android:authorities="com.android.deskclock"
                android:exported="false" /> 
```

导出的是 false，这意味着 3rd-party 应用程序无法访问它。结果拒绝许可。

> 如何在android源代码中嵌入代码并运行图像文件

这意味着您修改了Android源（由google提供）。我认为这对您的情况没有用。

您可以通过直接修改 sqlite 数据库中的内容在有根设备中执行此操作。我认为没有适用于所有现有 Android 平台的解决方案。

一般情况下，sqlite 数据库文件都在 下`/data/data/app-package-name/databases/database-name`，所以在这个例子中，它应该是 /data/data/com.android.deskclock/databases/com.android.deskclock 或类似的东西。您可以将文件拉出`adb pull`并使用 SqliteExplorer 打开它以检查它是否是您想要的。

有关如何修改此 db 文件，请查看[在 Android 应用程序中使用您自己的 SQLite 数据库](http://www.reigndesign.com/blog/using-your-own-sqlite-database-in-android-applications/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-17T11:13:38.737

如前所述，没有root就无法做到这一点，但是您可以监视下一个警报何时以及该值何时随以下值发生变化：

```
Settings.System.getUriFor(Settings.System.NEXT_ALARM_FORMATTED).toString() 
```

这将为您提供下一个警报的字符串。

# knockout.js - 在 foreach 中的 observableArray 中选择 knockout.js 自定义内容

> ID：15081575
> 
> 赞同：1
> 
> 时间：2013-02-26T04:50:07.300
> 
> 标签：knockout.js

我有以下html片段：

```
<tbody data-bind="foreach: ptData">
            <tr id="Tr1">
                <td><a data-bind="attr: {href: '/ProjectTrack/IssueGrid.aspx?IssueID='+ptId}">PT Launch</a></td>
                <td nowrap="nowrap" data-bind="text: ptId">
                </td>
                <td nowrap="nowrap" data-bind="text: ptProject">
                </td>
                <td nowrap="nowrap" data-bind="text: ptTitle">
                </td>
                <td nowrap="nowrap" data-bind="text: ptPriority">
                </td>
                <td nowrap="nowrap" data-bind="text: ptType">
                </td>
                <td nowrap="nowrap" data-bind="text: ptStatus">
                </td>
                <td nowrap="nowrap" data-bind="text: ptUpdated">
                </td>
                <td nowrap="nowrap" data-bind="text: ptAssignedTo">
                </td>
                <td style="display: none" data-bind="text: ptUrl">
                </td>
            </tr>
        </tbody> 
```

我有以下带有动态内容的视图模型：

```
var viewModel = {
        ptData: ko.observableArray([])
    };

function DataResult(ptId, ptProject, ptTitle, ptPriority, ptType, ptStatus, ptUpdated, ptAssignedTo, ptDesc, ptUrl) {
        this.ptId = ko.observable(ptId);
        this.ptProject = ko.observable(ptProject);
        this.ptTitle = ko.observable(ptTitle);
        this.ptPriority = ko.observable(ptPriority);
        this.ptType = ko.observable(ptType);
        this.ptStatus = ko.observable(ptStatus);
        this.ptUpdated = ko.observable(ptUpdated);
        this.ptAssignedTo = ko.observable(ptAssignedTo);
        this.ptDesc = ko.observable(ptDesc);
        this.ptUrl = ko.observable(ptUrl);
    } 
```

我有一个 jQuery ajax 调用来返回填充在 DataResult 对象中的数据，并且每个 DataResult 对象都被推送到 viewModel.ptData。以下 knockout.js 命令似乎在 HTML 片段中不起作用：

```
"attr: {href: '/ProjectTrack/IssueGrid.aspx?IssueID='+ptId". 
```

我到底做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:52:04.267

如果您想绑定到`+`具有可观察属性 ( `ptId`) 的表达式（在这里您正在构建链接），您必须像函数一样调用它们。所以你错过了`()`

```
<a data-bind="attr: {href: '/ProjectTrack/IssueGrid.aspx?IssueID=' + ptId() }"> 
```

但是，如果您要创建一个计算的 observable 来生成链接：

```
function DataResult(ptId, ....) {        
        this.ptId = ko.observable(ptId);
        this.launchLink = ko.computed(function(){
            return '/ProjectTrack/IssueGrid.aspx?IssueID=' + this.ptId()
        }, this);
} 
```

然后你不需要`()`在你的绑定中，因为现在你直接绑定到一个 observable：

```
<a data-bind="attr: { href: launchLink }"> 
```

# ios - 如果我想在目标 c 中实现像 Tumblr 或 Instagram 这样的仪表板，我有什么选择

> ID：15081576
> 
> 赞同：-3
> 
> 时间：2013-02-26T04:50:16.850
> 
> 标签：ios, objective-c, dashboard

我想做的就是探索我的选择。我想创建一个需要像单元格一样显示卡片的应用程序。我熟悉表格视图以及如何自定义它们以显示某些信息和图片。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T04:56:36.053

看看[`UICollectionView`](http://developer.apple.com/library/ios/ipad/#documentation/UIKit/Reference/UICollectionView_class/Reference/Reference.html "UICollectionView")iOS 6.0 中新增的内容

它与 a 非常相似，`UITableView`但对于那些“卡片式”视图来说更容易。

# java - 何时何地在 Java 中使用外观和委托模式？

> ID：15081581
> 
> 赞同：2
> 
> 时间：2013-02-26T04:50:50.950
> 
> 标签：java, jakarta-ee, design-patterns

我对使用外观和委托设计模式感到困惑。尽管有解释设计模式的链接，但我发现没有人可以说明我们应该在哪些场景中适当地使用这些模式。

谁能说出一些可以区分Java中外观和委托设计模式的使用的场景？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:31:29.620

我不认为他们之间有太大的区别。`Delegate`是 的一个特例`Facade`。

`Facade`可用于将一个 API 调用转换为另一个 API 调用。就像包装一个库并只公开你想要的 API 一样。`Delegate`可用于公开现有类的 API 而无需从其继承。

# asana - 从体式获取归档任务

> ID：15081582
> 
> 赞同：1
> 
> 时间：2013-02-26T04:50:55.053
> 
> 标签：asana

我们正在尝试使用 Asana API 从 Asana 获取任务以创建自定义仪表板。但是我们无法使用 API 获取归档任务。无论如何都可以使用 API 获取所有任务，包括存档任务？如果此功能不存在，是否会在即将发布的版本中添加？

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-09-11T18:41:56.717

实际上有一个标志，`include_archived`您可以将其设置为`true`，这将导致对任务的查询（您猜对了！）也包括存档的任务。有关更多详细信息，请参阅[https://asana.com/developers/api-reference/tasks](https://asana.com/developers/api-reference/tasks)（尤其是“查询任务”部分）。

希望有帮助！

# c - 将 fwrite() 与霍夫曼编码一起使用 - 位移和位操作

> ID：15081585
> 
> 赞同：1
> 
> 时间：2013-02-26T04:51:08.670
> 
> 标签：c, algorithm, function, bit-manipulation, bit-shift

我正在做霍夫曼编码，我无法理解如何使用 fwrite() 将我们的编码写入输出。

假设我有这些编码：

```
Character A (65) gets an encoding of 101
Character B (66) gets an encoding of 1100111 
```

但是，这些编码被保存为整数，所以

```
101 actually has a decimal value of 5 which is saved in memory as 00000101
1100111 actually has a decimal value of 103 which is saved in memory as 01100111 
```

因此，当我们想使用 fwrite() 将它们写出时，假设我们使用了一个缓冲区

```
int buff[4] 
```

开始于

```
buff[0]    buff[1]    buff[2]    buff[3]
XXXXXXXX - XXXXXXXX - XXXXXXXX - XXXXXXXX 
```

（用 X 表示未初始化） 为什么我们使用 4 个字节？因为我们需要考虑非常长的编码。如果我们有一个 27 位长的编码怎么办？我们需要完全填充其中三个字节和第四个字节。

现在，假设我们需要对这一系列字符进行编码并将它们写入输出文件：

“ABB”

首先，我们对 A 进行编码，我们的 buff[] 应该变成：

```
buff[0]    buff[1]    buff[2]    buff[3]
101XXXXX - XXXXXXXX - XXXXXXXX - XXXXXXXX 
```

然后，我们需要对 B 进行编码，所以我们的 buff[] 应该变成：

```
buff[0]    buff[1]    buff[2]    buff[3]
10111001 - 11XXXXXX - XXXXXXXX - XXXXXXXX 
```

现在，buff[] 的一个字节已满，所以我们需要对该字节进行编码并将 buff[] 的其他插槽向下移动

```
fwrite(buff[0], 1, 1, fptOutput);
/* insert code to shift buff down */ 
```

所以现在我们的buff变成了：

```
buff[0]    buff[1]    buff[2]    buff[3]
11XXXXXX - XXXXXXXX - XXXXXXXX - XXXXXXXX 
```

接下来，我们编码另一个“B”，我们的 buff[] 变为：

```
buff[0]    buff[1]    buff[2]    buff[3]
11110011 - 1XXXXXXX - XXXXXXXX - XXXXXXXX 
```

然后，我们再次 fwrite() buff[0] 并再次进行移位。

但是，我们没有其他要编码的东西，所以我们必须用 0 填充字节的其余部分，所以我们的 buff 现在是：

```
buff[0]    buff[1]    buff[2]    buff[3]
10000000 - XXXXXXXX - XXXXXXXX - XXXXXXXX 
```

然后 fwrite 最后一个字节，然后我们就完成了。

问题是我完全不知道如何系统地编程。我理解位操作。例如，在我们的第一个“A”编码中，我们需要将“00000101”向左移动 5 个点，使其变为“101-----”，我理解这一步，但后来我不知道如何跟踪我们的下一个编码转移到哪里。

如果我手动完成，我可以弄清楚如何根据需要移动每个变量，但我不知道如何提出一系列方程，这些方程适用于非常长的文件中的每个编码系列.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:37:41.393

您需要存储每个字符的编码数组以及每个字符编码中位数的数组，因为它们都是不同的。

然后，您需要跟踪 buff 数组中还剩下多少位。

然后，每次您想添加一个字符时，您都将该字符编码复制到另一个临时缓冲区中。然后，您将该编码向上移动 buff 数组中已保留的位数。然后你按位或你的移位编码到你的 buff 数组上。

然后你从你的 buff 数组中写入数据并将剩余的 buff 数据向下移动并调整 buff 数组中剩余的位数。

以下是一个向上或向下按位移动 16 位整数（短整数）数组的函数。这有点矫枉过正，因为它会向上或向下移动位。您可以修改它以处理字节或长：

```
void 
shiftBits(unsigned short int *buffer, int bufferSize, int bitsToShiftUp)
{
int wordsToShift;
int bitsToShift;
int backBitsToShift;
int iTo;
int iFrom;

if (bitsToShiftUp > 0)
{
    //Shift up
    wordsToShift = bitsToShiftUp / 16;
    bitsToShift = bitsToShiftUp - (wordsToShift * 16);

    iTo = bufferSize - 1;
    iFrom = iTo - wordsToShift;

    if (bitsToShift == 0)
    {
        while (iFrom >= 0)
        {
            buffer[iTo] = buffer[iFrom];
            iTo--;
            iFrom--;
        }
        while (iTo >= 0)
        {
            buffer[iTo] = 0;
            iTo--;
        }
    }
    else
    {
        backBitsToShift = 16 - bitsToShift;
        while (iFrom >= 1)
        {
            buffer[iTo] = (buffer[iFrom] << bitsToShift) | (buffer[iFrom-1] >> backBitsToShift);
            iTo--;
            iFrom--;
        }
        if (iFrom >= 0)
        {
            buffer[iTo] = buffer[iFrom] << bitsToShift;
            iTo--;
        }
        while (iTo >= 0)
        {
            buffer[iTo] = 0;
            iTo--;
        }
    }
}
else if (bitsToShiftUp  < 0)
{
    //Shift down
    wordsToShift = (-bitsToShiftUp) / 16;
    bitsToShift = (-bitsToShiftUp) - (wordsToShift * 16);

    iTo = 0;
    iFrom = wordsToShift;

    if (bitsToShift == 0)
    {
        while (iFrom < bufferSize)
        {
            buffer[iTo] = buffer[iFrom];
            iTo++;
            iFrom++;
        }
        while (iTo < bufferSize)
        {
            buffer[iTo] = 0;
            iTo++;
        }
    }
    else
    {
        backBitsToShift = 16 - bitsToShift;
        while (iFrom < bufferSize - 1)
        {
            buffer[iTo] = (buffer[iFrom] >> bitsToShift) | (buffer[iFrom+1] << backBitsToShift);
            iTo++;
            iFrom++;
        }
        if (iFrom < bufferSize)
        {
            buffer[iTo] = buffer[iFrom] >> bitsToShift;
            iTo++;
        }
        while (iTo < bufferSize)
        {
            buffer[iTo] = 0;
            iTo++;
        }
    }
}
} 
```

# c - c - 连续的 calloc 调用破坏了一些内存

> ID：15081586
> 
> 赞同：0
> 
> 时间：2013-02-26T04:51:31.190
> 
> 标签：c, memory-management, calloc

代码看起来像：

```
char *global1 = NULL;
char *global2 = NULL;
char *global3 = NULL;
char *global4 = NULL;

void func2(char *gPtr, char **gPtrToInitialize)
{
    if(*gPtrToInitialize == NULL)                     // Here, gPtr is correct
    {
        *gPtrToInitialize = dlcalloc(MAX_PATH, 1);      
    }                              // Here, gPtr has trailing junk characters

    // Do some initialization
}

void func1()
{
    if(global1 == NULL)
    {
        global1 = dlcalloc(MAX_PATH, 1);
    }
    func2(global1, &global2);
    func2(global1, &global3);
    func2(global1, &global4);

    // Do other tasks

    // Free all allocated global variables
} 
```

**注意：** 上述代码中，`dlcalloc`指的是Doug Lea 的[malloc.c](http://gee.cs.oswego.edu/pub/misc/malloc.c)中定义的代码。

* * *

**在`calloc`里面之前`func2()`，**

`gPtr`= "C:\Program Files\Test\Path.txt"

**`calloc`进去之后`func2()`，**

`gPtr`= "C:\Program Files\Test\Path.txt♂"

* * *

我的问题是，连续`dlcalloc()`调用是否有可能破坏其他变量的内存？上面的代码是我正在研究的大型代码库的一部分的概括。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:49:39.267

好的，我刚刚解决了我的问题。这就是发生的事情`func2()`：

*   `gPtr`指向`0x009b0038`.
*   `strlen("C:\Program Files\Test\Path.txt")`= 30 字节。
*   `*gPtrToInitialize`on allocation 指向的分配*正好*在's 部分结束后`0x009b0057`开始。*`gPtr`*
**   由于 指向的字符串`gPtr`没有尾随的 '\0'，因此任何对字符串的操作`gPtr`实际上也进入了`*gPtrToInitialize`' 的内存。*

 *当我简单地添加一个尾随`'\0'`.

感谢您的所有回答！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T05:09:13.820

dlcalloc shouldn't have any chance of corrupting any other part of memory unless there is a bug in it (which is unlikely). It should either work or fail but shouldn't corrupt anything.

I think that you should look at your use of pointers because in your code above you are passing the address of global2, global3 and global4 to func2\. These addresses should never be null and so the call to dlcalloc in func2 should never happen.

I suspect that func2 should look like:

```
void func2(char *gPtr, char **gPtrToInitialize)
{
    if(*gPtrToInitialize == NULL)                     // Here, gPtr is correct
    {
        *gPtrToInitialize = dlcalloc(MAX_PATH, 1);      
    }                              // Here, gPtr has trailing junk characters

    // Do some initialization
} 
```

I would look elsewhere in your code for similar pointer errors which are much more likely to cause memory corruption.

C pointers are dangerous.*

# javascript - 如何更改鼠标左键单击和右键单击选项？

> ID：15081589
> 
> 赞同：0
> 
> 时间：2013-02-26T04:51:46.220
> 
> 标签：javascript, html

我有一些按顺序命名的 HTML 文件。是否可以将鼠标右键单击分配给下一个 html 页面并将鼠标左键单击分配给上一个 html 页面以及如何执行此操作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T04:56:46.053

这就是我们处理鼠标点击的方式。

```
$('#element').mousedown(function(event) {
    switch (event.which) {
        case 1:
            alert('Left mouse button pressed');
            //code to navigate to left page
            break;

        case 2:
            alert('Right mouse button pressed');
           //code to navigate to right page
            break;
        default:
            alert('Mouse is not good');
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T05:02:16.020

这是覆盖左右点击的传统方式。在代码中，我还阻止了右键单击的事件传播，因此不会显示上下文菜单。

[JSFiddle](http://jsfiddle.net/jgdVQ/2/)

```
window.onclick = leftClick
window.oncontextmenu = function (event) {
    event = event || window.event;
    if (event.stopPropagation)
        event.stopPropagation();

    rightClick();

    return false;
}

function leftClick(event) {
    alert('left click');
    window.location.href = "http://www.google.com";
}

function rightClick(event) {
    alert('right click');
    window.location.href = "http://images.google.com";
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T04:58:29.937

```
$(function(){
    $(document).mousedown(function(event) {
    switch (event.which) {
        case 1:
            window.location.href = "http://stackoverflow.com" // here url prev. page
            break;
        case 3:
            window.location.href = "http://www.google.com" // here url next. page
            break;
        default:
            break;
    }
    });
  }) 
```

并且不要忘记添加 jquery 库。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T04:59:48.187

您也可以使用一些简单的 Javascript 来做到这一点。

```
<script type='text/javascript'>
function right(e){
    //Write code to move you to next HTML page
} 
```

```
<canvas style='width: 100px; height: 100px; border: 1px solid #000000;' oncontextmenu='right(event); return false;'>
     //Everything between here's right click is overridden.
</canvas> 
```

# ruby-on-rails - 如何将 Rails app + pgsql 数据库从本地主机移动到我的服务器？

> ID：15081590
> 
> 赞同：0
> 
> 时间：2013-02-26T04:51:48.067
> 
> 标签：ruby-on-rails, ruby-on-rails-3

我假设我必须使用 capistrano 但仍然不确定。我想将我的 Rails 应用程序和数据库（因为它们现在已经有很多数据）移动到服务器上，我该怎么做？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T07:13:14.093

移动您的数据库架构...`rake db:schema:dump` 将其转储到 schema.rb 并`rake db:schema:load`加载它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T05:19:27.010

您可以使用 capistrano 构建部署系统。我个人使用 git 将我的应用程序推广到生产环境。我使用 Engine Yard (www.engineyard.com) 和 Heroku (www.heroku.com) 进行托管。两者的部署都非常简单。

就数据库而言，它取决于您的服务器实现。您很可能需要备份数据库并将其恢复到生产环境中。

# c# - 使用哪些技术来编写在语言之间切换的解析器？

> ID：15081591
> 
> 赞同：3
> 
> 时间：2013-02-26T04:52:01.017
> 
> 标签：c#, asp.net-mvc, razor, viewengine

我对像 Razor 视图引擎这样的解析器如何解析两种不同的语言（如 C# 和 JavaScript）很感兴趣。

例如，以下工作非常酷：

```
$("#fm_duedate").val('@DateTime.Now.AddMonths(1).ToString("MM/dd/yyyy")'); 
```

我将尝试查看源代码，但我很好奇这样的解析器是否有某种理论基础，或者是否像结合两种语言并解析它那样更暴力？

试图为自己推理，我说“您从每种语言的解析器开始，然后为每种语言添加一组将其切换到另一种语言的产品”，但我怀疑它是否如此简单。

我想完美的答案将是关于如何实现 Razor 引擎的讨论或源代码的演练的指针（我实际上并没有在谷歌上搜索过这个，因为害怕掉进兔子洞）。或者，只是对如何解决两种语言的解析问题有一些了解会很棒。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T06:46:28.463

正如 Corey 所指出的，Razor 和类似的框架并没有做任何特别花哨的事情。

但是，有一些理论上更合理的模型可以为一种语言嵌入另一种语言的语言构建解析器。我以前的同事 Luke Hoban 有一篇很棒的关于解析器组合器的介绍性文章，它提供了一种非常好的方法来为一种语言嵌入另一种语言的场景构建解析器：

[http://blogs.msdn.com/b/lukeh/archive/2007/08/19/monadic-parser-combinators-using-c-3-0.aspx](http://blogs.msdn.com/b/lukeh/archive/2007/08/19/monadic-parser-combinators-using-c-3-0.aspx)

维基百科页面也非常简单：

[http://en.wikipedia.org/wiki/Parser_combinator](http://en.wikipedia.org/wiki/Parser_combinator)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-26T05:31:42.017

Razor（和其他视图引擎）不解析视图的 HTML 或 JavaScript。相反，它们解析文本以检测特定标记，而不真正关心周围的文本。

对于 Razor，`@`源文件中的每个字符都作为某种代码块进行处理。Razor 在检测字符后面的表达式方面非常聪明，包括处理和定位关闭之`@`类的事情，而*不是*尝试解析里面的 HTML（或 JavaScript）。它还允许您在一定程度上使用和覆盖处理。`@foreach (var x in collection) {``}`*`@{ }``@( )`*

 *我发现 ASPX`<%...%>`格式更易于阅读，因为我已经更多地使用该格式，并且我已经为这些格式进行了一些已建立的模式识别。具有显式的开始/结束标记更易于处理并且更易于就地读取。*

# javascript - 如何获得富文本字段的大小？

> ID：15081594
> 
> 赞同：2
> 
> 时间：2013-02-26T04:52:13.770
> 
> 标签：javascript, lotus-notes, lotusscript, lotus-formula

我可以使用 @Attachmentlength() 或使用 NotesEmbeddedObject 类来获取附件的大小。

但我面临一个特殊的问题。如果我复制并粘贴屏幕截图，或将图像复制并粘贴到 NotesRichText 字段中，则无法检索该字段的大小。因为这些图像不是由嵌入对象获取的。NotesItem.ValuesLength 确实返回内部存储。我不知道它是什么？:D。但肯定不是那个领域的大小。可以从 DXLExporter 和 NotesStream 获取大小。但是，如果我附上 pdf 文件，则会引发错误。

简单地说，我想获得富文本字段的大小。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T10:39:13.087

如果您将富文本项目复制到新创建的文档并检查整个文档的大小怎么办？我认为这是一个非常简单易行的解决方案（访问不会有问题，因为我们不需要保存文档）。然后你不需要关心不同类型的数据进入富文本字段。

```
...
Set rtitem = doc.Getfirstitem("body")
Dim newdoc As New NotesDocument(db)
Call rtitem.Copyitemtodocument(newdoc, "body")
print newdoc.Size 
```

# c++ - 在指针之前和之后，C++ 中的双向链表

> ID：15081595
> 
> 赞同：0
> 
> 时间：2013-02-26T04:52:16.143
> 
> 标签：c++, pointers, insertion, doubly-linked-list

在 c++ 中使用具有两个虚拟节点的双向链表时，是否有人熟悉 before* 和 after* 指针？我正在尝试使用 before* 和 after* 作为我的迭代器来解释所有插入的特殊情况（空列表、在最前面插入、在最后面插入、在中间插入）。

如何正确使用 before* 和 after* 来确定插入位置？

非常感谢任何反馈。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T04:55:48.263

有两个虚拟节点，没有特殊情况。由于前面总是有一个虚拟节点，最后有一个虚拟节点，因此您*永远不会*对空列表进行操作。你*永远不会*在最前面插入。你永远不会在最后面*插入*。所有的插入和删除都在中间——这就是两个哨兵节点的点。

# ruby-on-rails - 将带有carrierwave的文件存储到远程服务器（可能通过ssh/scp）？

> ID：15081599
> 
> 赞同：-1
> 
> 时间：2013-02-26T04:52:32.543
> 
> 标签：ruby-on-rails, carrierwave

我正在设置生产环境，其中所有静态内容都与 Web 应用程序服务器分开。我需要将所有 carrierwave 支持的内容存储到另一台服务器，但默认情况下，carrierwave 仅包括 :file （用于本地文件）和 :fog （用于云 CDN）存储支持。我怎么能这样做？

解决方案：好像我找到了解决方案：[carrierwave-ftp gem](https://github.com/luan/carrierwave-ftp)。我会测试它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T10:38:06.110

解决方案：[carrierwave-ftp](https://github.com/luan/carrierwave-ftp) gem 支持 ftp/sftp 上传。

# php - Adobe Air 应用程序之间的双向通信

> ID：15081607
> 
> 赞同：0
> 
> 时间：2013-02-26T04:53:26.953
> 
> 标签：php, air, bidirectional

当我开始开发 Adob​​e Air 应用程序时，这整个事情就开始了，直到现在它还是一个完全单人游戏。我的问题是是否可以在轮到用户时提醒他们而不使用轮询技术（无需不断检查......轮到我了吗？）。我可以使用的技术几乎只有 AIR、PHP 和 MySQL。我目前有一个不支持 ssh 的共享主机包，我相信我会在今年很快将其更改为支持 ssh 的专用包。

有了这些技术，这可能吗？

我一直在走的想法/方向是。

设置 PHP 套接字程序以维护用户之间的连接，并拥有一个 AIR 应用程序将连接到的公共域。例如。我的手机会 POST 到 my.domain.com，它会执行一个 php 脚本来启动一个套接字服务器 "exec("php /socket.php"); 如果它是，应用程序的所有用户都将加入服务器中的一个“池”在其中运行-我的理论是-我可以与它们保持双向通信。MySQL 服务器可用于跟踪套接字是否打开以及当前池中的对象。这可能吗？

我还认为当应用程序关闭时我将无法通知用户，因为他们将不再位于套接字中。

我只是想知道我是否离这里很远。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T11:00:10.590

经过大量研究并审查了许多替代技术，ios 和 android 都提供了对发送到另一台设备的通知的本机支持。我认为最好的选择是构建一个 air native 扩展或找到一个已经存在的扩展来弥合 andriod 或 ios 通知系统之间的差距。这是一个很好的入门资源[http://www.adobe.com/devnet/air/native-extensions-for-air.html](http://www.adobe.com/devnet/air/native-extensions-for-air.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-13T11:37:14.303

如果你想使用现有的通知 ANE，你可以从这里得到它：

[ANE-推送通知](https://github.com/freshplanet/ANE-Push-Notification)

它适用于IOS和Android。

如果您想从头开始，此链接也很有用：

[使用 Adob​​e 开发本机扩展](http://help.adobe.com/en_US/air/extensions/air_extensions.pdf)

# c# - SqlCommand 在为 LIKE 传递文本参数时显示性能不佳

> ID：15081608
> 
> 赞同：0
> 
> 时间：2013-02-26T04:53:32.513
> 
> 标签：c#, .net, sql, ado.net

我遇到了一个非常奇怪的问题：

我动态地形成 SQL 服务器命令，它的一部分是一组 LIKE 测试，用作对多个列和表的文本搜索。看起来像：

```
SET @text = '%' + REPLACE(REPLACE(REPLACE(@text, '!', '!!'), '%', '!%'), '_', '!_') + '%'

INSERT INTO
  @textFiltered
FROM
  @documents d 
  LEFT JOIN docData t1 WITH (NOLOCK)
    ON t1.ID = d.ID AND
       (t1.Topic like @text escape '!'
        OR t1.Subject like @text escape '!')
  LEFT JOIN docData2 t2 WITH (NOLOCK)
    ON t2.ID = d.ID AND 
       t2.Name like @text escape '!'
WHERE
  t1.ID IS NOT NULL 
  OR t2.ID IS NOT NULL 
```

（当然，这不是进行文本搜索的最佳方式，但这不是重点）

现在，当我在 C# 中创建 SQLCommand 时，如下所示：

```
using (var cmd = new SqlCommand())
{
   cmd.CommandText = cmdText;
   cmd.CommandType = CommandType.Text;
   cmd.Connection = connection;
   cmd.Parameters.Add("text", NVarChar, 4000).Value = searchText;
   var reader = cmd.ExecuteReader();
   ....
} 
```

执行的性能很差（比如 8 秒），而在 SQL Management Studio 中执行相同的查询要快得多（比如 500 毫秒）。但是，如果不是将文本作为参数传递，我将其嵌入到 SQL 文本中：

```
DECLARE @text nvarchar(max)
SET @text = '<embedded-text>' 
```

然后 SqlCommand 也运行得很快。更奇怪的是，这种行为似乎与 LIKE 子句中使用的一组列相关（不知道如何）。这些列的类型可以是 nvarchar(size)、nvarchar(max)、ntext。

我怀疑问题出在参数上-也许它的类型不正确或其他。

PS 试图创建大小 = 搜索文本长度 + 1 的参数 - 没有帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T15:51:11.873

我最好的猜测是它与 SQL Server 为您选择的查询计划有关。使用 SQL 服务器可以根据现有统计信息评估的常量 varchar 与使用服务器一无所知的任意变量之间存在很大差异。

您可以尝试 OPTION (RECOMPILE) 提示。尽管此提示将导致**在每次调用**时编译存储过程，但它还允许 SQL Server 搜索给定值的最佳计划，也许在您的情况下这将是一个很好的权衡。

您还可以为存储过程的两个选项添加查询计划，也许有人将能够看到差异，并指出确切的问题。

# java - 一个方法被弃用是什么意思？

> ID：15081610
> 
> 赞同：16
> 
> 时间：2013-02-26T04:53:38.463
> 
> 标签：java, deprecated

很多线程都在谈论弃用的含义，而不是它对方法的含义。有人可以解释一下吗？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-02-26T04:57:05.640

根据[Java文档](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Deprecated.html)：

> @Deprecated 注释的程序元素是不鼓励程序员使用的程序元素，通常是因为它很危险，或者因为存在更好的替代方案。

基本上，您仍然可以使用它，但现在有一种更安全、更好的方法。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-26T04:56:38.400

这意味着作者想要删除此方法，但尚未这样做以不破坏向后兼容性。这也意味着，你不应该使用这种方法，如果你已经在使用它，你应该停止使用它。

该方法可能被标记为已弃用，因为存在替代此方法功能的另一种方法，或者因为方法不安全或其他原因。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-26T04:55:48.253

这意味着代码的作者打算不再使用该方法。这是一种通知人们它可能会在未来消失的方式，而不仅仅是从他们下面撕掉它。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-02-26T04:55:53.137

这意味着你不应该再使用它了。它目前受支持，但可能会在 Java 的未来版本中被删除。通常，文档会指定要使用的方法。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-02-26T04:57:44.560

不推荐使用的方法是曾经受支持且可以安全使用但不再安全使用的方法。由于多种原因，使用它们可能不安全。这些方法可能会也可能不会按照您想要的方式工作。

这是一个给出更好解释的链接：http: [//mindprod.com/jgloss/deprecated.html](http://mindprod.com/jgloss/deprecated.html)

简而言之：如果可以避免，请不要使用它们

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-02-26T04:56:57.077

> 不推荐使用的类或方法就是这样。它不再重要。事实上，它是如此不重要，以至于您不应该再使用它，因为它已被取代并且将来可能不复存在。

检查这个：[如何以及何时弃用 API](http://docs.oracle.com/javase/1.5.0/docs/guide/javadoc/deprecation/deprecation.html)

# internet-explorer - Facebook Like 按钮未在 Internet Explorer 7/8/9 上显示

> ID：15081611
> 
> 赞同：0
> 
> 时间：2013-02-26T04:53:48.630
> 
> 标签：internet-explorer, facebook-graph-api, facebook-like, xfbml

Facebook XFBML Like 按钮在 IE9 上不起作用。我已经阅读了很多答案并尝试了所有解决方案但没有任何效果，也许我的问题有所不同。我只看到一个空的空间。

标题：

```
<!DOCTYPE html>

<html
lang="en"
xmlns="http://www.w3.org/1999/xhtml">

<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"> 
```

该按钮在 Chrome 上运行没有问题。我在 head 和 html 标签中尝试了不同的属性组合，但没有运气。需要你的帮助。

**更新：**似乎 iframe 在那里，但它的高度和宽度等于 0，以及周围的跨度为 0。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-05T09:56:23.103

页面加载时，您的父容器可能不可见？我遇到了这个问题，我发现的唯一解决方法是使用 iframe 版本的按钮。但是这样做，我删除了使用 Edge.create 事件的选项（我需要）。

我你只想要一个 Facebook like 按钮，按下按钮时不调用不同的 URL，你可以使用 iframe 版本

# jquery - jQuery 窗口模糊和专注于 IE

> ID：15081613
> 
> 赞同：2
> 
> 时间：2013-02-26T04:53:54.633
> 
> 标签：jquery

我正在使用 jQuery 执行以下操作

```
$(window).bind("blur", function() {
    hasfocus = false;
  });

  $(window).bind("focus", function() {
    hasfocus = true;
  }); 
```

适用于 Chrome 和 FF，但不适用于 IE。当我单击 IE 窗口中的任何 html 元素时，会调用窗口模糊。

有没有人有同样的问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-10-04T11:35:29.427

在 Internet Explorer 8 中，您必须使用 events`focusout`和`focusin`on`document`而不是`window`.

完整答案在这里：[https ://stackoverflow.com/a/5556858/295687](https://stackoverflow.com/a/5556858/295687)

# python - 安装pyipopt的问题

> ID：15081616
> 
> 赞同：0
> 
> 时间：2013-02-26T04:54:27.367
> 
> 标签：python, gcc, ubuntu, linker

我在安装 pyipopt 时遇到问题。问题与[此](https://stackoverflow.com/q/12107422/1082727)类似。`python setup.py install' 包含下一个输出。

```
/usr/bin/ld: cannot find -lipopt
/usr/bin/ld: cannot find -lcoinmumps
/usr/bin/ld: cannot find -lcoinmetis
collect2: ld returned 1 exit status
error: command 'gcc' failed with exit status 
```

我使用突触包管理器安装了 ipopt 并找到了下一个文件`/usr/lib/coin/libipopt.la`，`/usr/lib/coin/libipopt.la`

我试过这个

```
export LD_LIBRARY_PATH=/xx/yy/zz:$LD_LIBRARY_PATH 
```

我也试过运行`ldconfig`。

可能是我做错了什么，但它没有帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-01T19:39:52.043

如果您使用安装位置的非标准目录（例如到 ~/bin/ipopt/），您必须将这些目录指定给编译器，以便它可以找到库和头文件。

`C_INCLUDE_PATH=$HOME/bin/ipopt/include/coin/ LIBRARY_PATH=$HOME/bin/ipopt/lib/ LD_LIBRARY_PATH=$HOME/bin/ipopt/lib/ python setup.py build`

但是，我仍然收到 -lcoinmumps 和 -lcoinmetis 错误，因为我没有这些库。我在这里打开了一个错误：[https ://github.com/xuy/pyipopt/issues/12](https://github.com/xuy/pyipopt/issues/12)

# php - Zend框架模型创建错误

> ID：15081620
> 
> 赞同：0
> 
> 时间：2013-02-26T04:54:43.877
> 
> 标签：php, zend-framework

我刚开始使用 zend 框架。我在zend中创建了一个项目

结构体

```
 application
     configs
         application.ini
     layouts
     modules
         core
           DB
             Dbclass.php
           Table
         default
           controllers
           views
           forms
     bootstrap.php
 library
 public
 index 
```

我的引导文件包含

```
 public function _autoload(){

    set_include_path(
    '/application/modules/core/DB' 
    . PATH_SEPARATOR . 
    '/application/modules/core/Table' 
    . PATH_SEPARATOR . 
    get_include_path());
}
public function _init(){

    $front = Zend_Controller_Front::getInstance();
    $front->setControllerDirectory(array(
    'default' => APPLICATION_PATH.'/modules/default/controllers'
    ));
} 
```

我的 application.ini 文件包含

```
 [production]
 phpSettings.display_startup_errors = 0
 phpSettings.display_errors = 0
 phpSettings.date.timezone = "Europe/London"
 ;includePaths.library = APPLICATION_PATH "/../library"
 bootstrap.path = APPLICATION_PATH "/Bootstrap.php"
 bootstrap.class = "Bootstrap"
 appnamespace = "Application"
 ;resources.frontController.controllerDirectory = APPLICATION_PATH "/controllers"
 resources.frontController.moduleDirectory = APPLICATION_PATH "/modules"
 resources.frontController.moduleControllerDirectory = APPLICATION_PATH   "/modules/controllers"
resources.frontController.defaultModule = "default"
resources.frontController.moduleDirectory = APPLICATION_PATH "/modules"

resources.frontController.params.displayExceptions = 0 
```

当我在 indexcontroller 中创建对象时

```
 $new_object = new Dbclass(); 
```

有一个错误显示

```
 Fatal error: Class 'Dbclass' not found in D:\xampp\htdocs\pubman\application\modules\default\controllers\IndexController.php on line 16 
```

如果有人知道这一点，请帮助我。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:32:56.153

一些评论/意见：

1.  你的方法`Bootstrap::_autoload()`不会运行。Bootstrap 会自动运行表单的所有方法`_initXXX()`。

2.  通常，您不会将模型放入`modules/core/DB/*`. 你可以把它们放在`modules/core/models/*`默认资源自动加载器知道在那里寻找它们。

3.  您正在指定 appnamespace `Application_`。这意味着目录中的所有类（如`application/models`, `application/services`,`application/forms`等）都将以 形式命名`Application_Model_Something`，而不仅仅是`Something`您所拥有的。但是由于您已将这些类放在核心模块中，它们将被命名为`Core_Model_Something`.

4.  如果你想使用模块，那么你应该`resources.modules[] =`在你的`application/configs/application.ini`

5.  您通常会为每个模块创建一个 Bootstrap 类 - 例如，命名为`Core_Bootstrap`-extended `Zend_Application_Module_Bootstrap`。这将确保调用模块的标准资源自动加载器。

这应该让你更接近。坦率地说，那里发生了很多事情，所以这不太可能是一个完整的列表。重要的部分是了解系统需要知道什么才能加载不在`include_path`（如模型、表单等）上的类：命名空间前缀、它需要开始执行其 PSR 的基本路径- 0建设。

# java - 如何使用 Encog 规范化 CSV 文件？

> ID：15081623
> 
> 赞同：6
> 
> 时间：2013-02-26T04:55:25.587
> 
> 标签：java, neural-network, encog

我需要标准化一个 CSV 文件。[我关注了 Jeff Heaton 撰写的这篇文章](http://www.heatonresearch.com/content/how-does-encog-30-normalize)。这是（一些）我的代码：

```
File sourceFile = new File("Book1.csv");
File targetFile = new File("Book1_norm.csv");
EncogAnalyst analyst = new EncogAnalyst();
AnalystWizard wizard = new AnalystWizard(analyst);
wizard.wizard(sourceFile, true, AnalystFileFormat.DECPNT_COMMA);
final AnalystNormalizeCSV norm = new AnalystNormalizeCSV();
norm.analyze(sourceFile, false, CSVFormat.ENGLISH, analyst);
norm.setProduceOutputHeaders(false);
norm.normalize(targetFile); 
```

我的代码和文章的唯一区别是这一行：

```
norm.setOutputFormat(CSVFormat.ENGLISH); 
```

我尝试使用它，但似乎在 Encog 3.1.0 中，该方法不存在。我得到的错误是这个（看起来问题出在以下行`norm.normalize(targetFile)`：

```
Exception in thread "main" org.encog.app.analyst.AnalystError: Can't find column: 11700
    at org.encog.app.analyst.util.CSVHeaders.find(CSVHeaders.java:187)
    at org.encog.app.analyst.csv.normalize.AnalystNormalizeCSV.extractFields(AnalystNormalizeCSV.java:77)
    at org.encog.app.analyst.csv.normalize.AnalystNormalizeCSV.normalize(AnalystNormalizeCSV.java:192)
    at IEinSoftware.main(IEinSoftware.java:55) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-19T15:29:24.513

我添加了一个常见问题解答，显示如何规范化 CSV 文件。 [http://www.heatonresearch.com/faq/4/2](http://www.heatonresearch.com/faq/4/2)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-03-31T15:43:07.320

这是一个功能......当然你需要创建一个分析师

```
private EncogAnalyst _analyst;

public void NormalizeFile(FileInfo SourceDataFile, FileInfo NormalizedDataFile)
{
    var wizard = new AnalystWizard(_analyst);
    wizard.Wizard(SourceDataFile, _useHeaders, AnalystFileFormat.DecpntComma);
    var norm = new AnalystNormalizeCSV();
    norm.Analyze(SourceDataFile, _useHeaders, CSVFormat.English, _analyst);
    norm.ProduceOutputHeaders = _useHeaders;
    norm.Normalize(NormalizedDataFile);
} 
```

# jquery - jQuery Mobile 在 Accordion 中动态附加表单

> ID：15081634
> 
> 赞同：0
> 
> 时间：2013-02-26T04:56:23.380
> 
> 标签：jquery, forms, jquery-mobile, button

我有一个使用 jQuery Mobile 完成的手风琴可折叠，如下图所示。每个手风琴都动态附加了 2 个文本区域和一个按钮。 ![在此处输入图像描述](../Images/89a8e87d8599745592ab768407ab4325.png)

我已经为按钮设置了点击事件，如下所示。

```
$('.SaveProj').bind('click',function(){
 var mytest = $('#externalNotesMon').val();
 alert(mytest);
}); 
```

但是警报中显示的值是第一个手风琴的值，而不是点击它的手风琴的值。

有人可以请教我这个问题吗？

请在下面找到我的代码

```
var projectListStr = "<div data-role='collapsible-set' data-theme='c' data-content-theme='d' id='collabsibleProjectList' data-inset='false'>";
        $.each(projectList,function(index, value){
                LineOneprojectListStr = "<br/><p class='listP2'><strong>Aktivitet </strong>: "+CheckNullToEmptyString(this.ActivityName)+"</p>";
                LineOneprojectListStr +=  "<br/><p class='listP3'><strong>Händelse/Verksamhet</strong>: "+CheckNullToEmptyString(this.EventName)+"</p>";
                projectListStr += "<div data-role='collapsible' class='myset'>";
                projectListStr += "<h3>"+this.ProjectName+"<span class='ui-li-count'>"+checkNullToZero(this.Days[i].EventTimant2)+"</span>"+LineOneprojectListStr+"</h3>";
                FormStr = "<table align='center'>";
                FormStr += "<tr><th>Hours</th><th>Minutes</th></tr>";
                var TimeStr =  new String((this.Days[i].EventTimant2)).split(".");
                FormStr += "<tr><td><input type='number' name='hoursMon' id='hoursMon' value='"+CheckNullEmptyToZero(TimeStr[0])+"'  /> </td><td><input type='number' name='minsMon' id='minsMon' value='"+CheckNullEmptyToZero(TimeStr[0])+"'  /></td></tr>";
                FormStr += "</table>";
                FormStr += "<div data-role='fieldcontain' >";
                FormStr += "<label for='externalNotesMon'>Fakturatext</label>";
                FormStr += "<textarea name='textarea' id='externalNotesMon' style='min-height:120px'>"+CheckNullToEmptyString(this.Days[i].Editext)+"</textarea>";
                FormStr += "</div>";
                FormStr += "<div data-role='fieldcontain'>";
                FormStr += "<label for='internalNotesMon'>Intern Text</label>";
                FormStr += "<textarea name='textarea' id='internalNotesMon' style='min-height:120px' >"+CheckNullToEmptyString(this.Days[i].Edit)+"</textarea>";
                FormStr += "</div>";
                FormStr += " <a href='#' data-icon='check'  class='SaveProj' data-theme='g' data-role='button'>Spara</a>"
                projectListStr +=FormStr;
            projectListStr +=  "</div>";

        });
projectListStr +=  "</div>";
$('#ProjectList').html(projectListStr);
$('#home2').trigger('create');

$('.SaveProj').bind('click',function(){
  var mytest = $('#externalNotesMon').val();
  alert(mytest);
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T10:31:21.733

这是正确的行为，因为您有 2 个文本区域，其 id 为**externalNotesMon**。

**单击事件按钮将检索 id #externalNotesMon**的第一个 DOM 出现，这是第一个文本区域。

要解决此问题，请使用以下内容：

```
$('.SaveProj').bind('click',function(){
    // This will look at buttons previous element and inside search for #externalNotesMon
    var mytest = $(this).prev().find('#externalNotesMon').val();
    alert(mytest);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T04:57:48.230

试试`jQuery.on()`这也适用于动态添加的 DOM。

```
$('.SaveProj').on('click',function(){
 var mytest = $('#externalNotesMon').val();
 alert(mytest);
}); 
```

# android - 将 xml 布局应用到 Android 中的 GridView

> ID：15081640
> 
> 赞同：0
> 
> 时间：2013-02-26T04:56:47.260
> 
> 标签：android, android-gridview

我想将 .xml 布局应用于网格视图...

这是 gridlayout.xml：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical" >

<TextView
    android:id="@+id/textView1"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:gravity="center"
    android:text="Large Text"
    android:textAppearance="?android:attr/textAppearanceLarge" />

</LinearLayout> 
```

然后在主要活动中（我正在使用片段）：

```
public class Grid extends Fragment {

private View vi;

public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle saved) {

    View c = inflater.inflate(R.layout.choose, container, false);
    vi = c;

    GridView gridView = (GridView) vi.findViewById(R.id.gridView1);
    String[] numbers = { "A", "B", "C", "D", "E", "F", "G",
            "H", "I" };
    ArrayAdapter<String> adapter = new ArrayAdapter<String>(getActivity()
            .getApplicationContext(), 
            R.layout.gridlayout,
            numbers);

    gridView.setAdapter(adapter);

    return c;
} 
```

但程序打印错误

```
AndroidRuntime(4302): java.lang.IllegalStateException: ArrayAdapter requires
the resource ID to be a TextView 
```

我试过了

```
ArrayAdapter<String> adapter = new ArrayAdapter<String>(getActivity()
            .getApplicationContext(), android.R.layout.simple_list_item_1,
            numbers); 
```

而且效果很好......

请帮忙指出我的错误！！谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:29:22.847

我建议你应该先阅读API文档！

[http://developer.android.com/reference/android/widget/ArrayAdapter.html](http://developer.android.com/reference/android/widget/ArrayAdapter.html)

你应该使用这个构造函数

```
ArrayAdapter(Context context, int resource, int textViewResourceId, T[] objects)

ArrayAdapter<String> adapter = new ArrayAdapter<String>(getActivity(),
        R.layout.gridlayout, //layout ID
        R.id.textView1, //the id of textView in the layout
        numbers); 
```

# ios - 滚动到底部时如何为表格视图实现加载更多？（即上拉刷新）

> ID：15081648
> 
> 赞同：4
> 
> 时间：2013-02-26T04:57:05.227
> 
> 标签：ios, uitableview, uiscrollview

![在此处输入图像描述](../Images/4543e9d2edfe63ae96627791db87ee5a.png)

我想在视图滚动到底部时加载更多数据，即向上拉刷新，但我不知道如何显示如下所示的“正在加载更多...”之类的单词并在该单元格处停止表格视图，因为如果使用

```
NSIndexPath *indexPath = [NSIndexPath indexPathForRow:10 inSection:0];
[self.tableView scrollToRowAtIndexPath:indexPath atScrollPosition:UITableViewScrollPositionBottom animated:YES]; 
```

有一个错误：

`*** Terminating app due to uncaught exception 'NSRangeException', reason: '-[TNTableView _contentOffsetForScrollingToRowAtIndexPath:atScrollPosition:]: row (10) beyond bounds (0) for section (0).'`

如果tableView没有数据，加载更多仍然在底部单元格，例如一个表格可以显示9行，如果没有tableview数据，“加载更多”单元格在第10行。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2014-07-14T11:40:28.577

我在 AppCoda 网站上找到了一个很好的例子，尝试在你的应用程序中使用它。

[http://www.appcoda.com/pull-to-refresh-uitableview-empty/](http://www.appcoda.com/pull-to-refresh-uitableview-empty/)

我已经在我的应用程序中使用过，它确实有效......这可能就是您正在寻找的。

# ruby-on-rails - SSL_connect 返回=1 errno=0 state=SSLv3 读取服务器证书 B：证书验证在 Mac 上失败

> ID：15081649
> 
> 赞同：5
> 
> 时间：2013-02-26T04:57:06.810
> 
> 标签：ruby-on-rails, ruby, openssl, rvm, homebrew

在 Mac OSX 10.7.5 上使用 Homebrew

```
$ brew install openssl
错误：openssl-1.0.1e 已安装

$ rake test.rake
耙中止！
SSL_connect 返回=1 errno=0 state=SSLv3 读取服务器证书B：证书验证失败

```

我承认还有其他问题，例如标题中的问题，但似乎没有一个解决方案有效。我在各个方面都尝试过，但没有成功：

```
rvm pkg 安装 openssl
rvm 重新安装 1.9.3 --with-openssl-dir=$rvm_path/usr

```

```
rvm 删除 1.9.3
冲泡安装openssl
rvm install 1.9.3 --with-openssl-dir=`brew --prefix openssl`

```

我决定检查 openssl 版本并注意到这一点：

```
$ openssl 版本
OpenSSL 0.9.8r 2011 年 2 月 8 日

```

希望这确实是问题所在，并且修复就像确保我的笔记本电脑检测到正确的 OpenSSL 一样简单。

但是我该如何解决这个问题，所以我让它使用 Homebrew 更新的 OpenSSL 呢？

提前致谢。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-09-18T10:55:57.887

它使用 rvm 对我有用

```
$ rvm osx-ssl-certs status all
$ rvm osx-ssl-certs update all 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-05-15T14:12:53.923

基于 mpapis 的回答，我执行了这些命令为我解决了问题。

```
$ cd ~
$ rvm get head
$ rvm requirements 
```

这给了我两个关键的反馈：

```
Upgrade of RVM in /Users/myuser/.rvm/ is complete.
RVM Reloaded! 
```

和

```
Installing requirements for osx, might require sudo password.
Updating certificates in '/usr/local/etc/openssl/cert.pem'. 
```

之后，我不再收到错误消息。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T06:25:42.183

您需要更新证书：

```
sudo curl http://curl.haxx.se/ca/cacert.pem -o "$(ruby -ropenssl -e "p OpenSSL::X509::DEFAULT_CERT_FILE")" 
```

尽管这被认为是不安全的，因为证书是在没有下载的情况下下载的，`https`并且无法判断它们是否在途中没有更改。

RVM 已更新代码，将使用 OSX 证书更新文件并自动提取依赖项，您可以通过以下方式获取它：

```
rvm get head
rvm install 1.9.3 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-05-16T04:25:31.417

在我运行 10.8.3 的 Mac 上，我也遇到了这个问题，但是我对上述解决方案有疑问，因为当我尝试执行 rvm get head install 1.9.3

或者

```
rvm requirements 
```

我在运行“requirements_osx_brew_libs_install...”时遇到错误，这本身就是一场噩梦，请参阅[Mac 10.7 上运行“requirements_osx_brew_libs_install...”的错误以](https://stackoverflow.com/questions/16473115/error-running-requirements-osx-brew-libs-install-on-mac-10-7)获取证明

无论如何，我做到了

```
wget http://curl.haxx.se/ca/cacert.pem > 
mv cacert.pem /Users/USER/.rvm/usr/ssl/cert.pem 
```

# android - 在android中以特定时间间隔从网站连续读取值

> ID：15081653
> 
> 赞同：-1
> 
> 时间：2013-02-26T04:57:34.047
> 
> 标签：android, time, intervals, http-get

我是安卓新手。我进行了搜索，发现可以发布并获得网站的回复。我需要的是在特定的时间间隔内连续读取来自网站的响应。例如读取天气信息并向用户发出警报。请帮帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:04:58.370

首先，您可以查看[WakefulIntentService](https://github.com/commonsguy/cwac-wakeful)。然后看看[FluentHttpBuilder](http://code.google.com/p/httpclient-fluent-builder/)。剩下的就是把它们粘在一起:)

# c# - 将 DLL 嵌入到 Exe 中

> ID：15081654
> 
> 赞同：1
> 
> 时间：2013-02-26T04:57:38.433
> 
> 标签：c#, build

有没有办法构建我的 exe 以嵌入其他引用？例如。System.Data.Entity.dll。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-17T16:34:59.743

可选：

如果您使用的是带有 Nuget 的 Visual Studio，您只需将所需的引用设置为“复制本地 = true”并安装[Fody.Costura](https://github.com/Fody/Costura)。

根据项目页面上提供的文档，您可以使用一个简单的 xml 文件稍微改进一下（如果需要，还可以整理您的构建目录）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T04:59:08.773

[ILMerge - Microsoft Research](http://research.microsoft.com/en-us/people/mbarnett/ilmerge.aspx)是一个实用程序，可用于将多个 .NET 程序集合并到一个程序集中。它可以从 Microsoft Research 页面的 Tools & Utilities 页面免费使用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T05:09:56.270

One way is to embed the dll as a resource, then [extract it](http://social.msdn.microsoft.com/Forums/en/csharpgeneral/thread/f4caca30-67ed-48b9-ba5a-8e8e5df82f8f) to the filesystem at run time and then [dynamically load](http://msdn.microsoft.com/en-us/library/system.reflection.assembly.load.aspx) it.

Although it is hard to imagine why you would need to do this - there are [various](http://www.flexerasoftware.com/promolanding/10909.htm) [installation](http://msdn.microsoft.com/en-us/library/t71a733d%28v=vs.110%29.aspx) [mechanisms](http://wixtoolset.org/) that allow you to package multiple files and deploy them together.

# c - 手工壳的背景问题中的子进程

> ID：15081658
> 
> 赞同：0
> 
> 时间：2013-02-26T04:57:45.873
> 
> 标签：c, shell, exec, fork

我在实现自己的手工外壳时遇到了一些麻烦。我已经能够派生一个进程并使用waitpid在前台运行它，但是当我尝试在后台运行简单的进程（例如'sleep 5 &'）时，该进程似乎永远运行。checkListJobs 将确定进程是否已完成运行，但它永远不会停止。任何帮助将不胜感激。我认为错误出在我的“foo”函数中。

```
void insertJob(int pid) {
    printf("beginning job %d.\n", pid);
    struct job *node = malloc(sizeof(struct job));
    node->pid = pid;
    node->next = NULL;

    if(root == NULL) {
        root = node;
    } else {
        node->next = root;
        root = node;
    }
}    

void checkListJobs(int z) {
    curr = root;
    while(curr!=NULL) {
        if(kill(curr->pid,0) != 0)   {
            if(prev==NULL) {
                prev = curr;
                root = curr;
            } else {
                prev->next = curr->next;
            }
        } else {
            if(!z) printf("%d is still running.\n", curr->pid);
        }
        prev = curr;
        curr = curr->next;
    }
}   

//code for child forking
void foo(char *cmd, char *argv[], int args) {
    int bgFlag;

    if(!strcmp(argv[args], "&")){
        argv[args] = '\0';
        bgFlag = 1;
    }

    int pid = fork();
    int status = 0;

    if(pid==0){
        if(bgFlag) {
            fclose(stdin); // close child's stdin
            fopen("/dev/null", "r"); // open a new stdin that is always empty
        }
        execvp(cmd, argv);
        // this should never be reached, unless there is an error
            fprintf (stderr, "unknown command: %s\n", cmd);
            exit(0);
    } else {
        if(!bgFlag) {
            waitpid(pid, &status, 0);
        } else {
            insertJob(pid);
        }
        if (status != 0) {
            fprintf  (stderr, "error: %s exited with status code %d\n", cmd,     status);
        } else {
            // cmd exec'd successfully
        }
    }

    // this is the parent still, since the child always terminates from exec or exit

    // continue being a shell...
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:27:51.153

您需要为 SIGCHLD 安装一个信号处理程序，因为它会在子进程完成时告诉您的程序。收到 SIGCHLD 后，您应该调用 wait()（或 PID 值为 -1 的 waitpid()，因为您不知道哪个孩子完成了，只是*一个*孩子完成了）。

编写处理程序最安全的方法是：

```
volatile sig_atomic_t sigchld;
int handle_child(int sig)
{
  if (sig == SIGCHLD)
    sigchld = 1;
} 
```

在主循环中，检查是否`sigchld`为 1。如果是，则子进程结束，然后您可以`waidpid()`在循环中调用（使用 -1 的 PID，因为您不知道哪个子进程结束）（请参阅下面），因为多个孩子可能同时结束。此外，如果任何系统调用返回错误并且`errno`被`EINTR`信号中断，那么要么返回到主循环的顶部，要么进行相应的检查`sigchld`和处理（不要忘记尽快重置`sigchld`回 0 ）。

```
for(;;)
{
  int status;
  pid_t child;

  child = waitpid(-1,&status,WNOHANG);
  if (child == -1) 
  {
    if (errno == ECHILD) break; /* no more children */
    /* error, handle how you wish */
  }
  /* handle the return status of the child */
}
sigchld = 0; 
```

您*可以*`waitpid()`从信号处理程序中调用（POSIX 表示这样做是安全的），但您真的不应该在信号处理程序中做*任何其他事情*，因为它可能导致非常微妙的错误（例如，在调用 SIGCHLD 时会引发`malloc()`-- - 导致调用的信号处理程序中的任何代码`malloc()`都会导致*非常讨厌的问题*。这就是为什么我建议在信号处理程序中设置一个标志——你在信号处理程序中做的越少越好）。

# mysql - MySQL如何查找和比较同一行中的最小值和最大值

> ID：15081660
> 
> 赞同：1
> 
> 时间：2013-02-26T04:57:59.430
> 
> 标签：mysql, compare, row, max, min

我已经搜索过，但无法找到可以成功适应我的查询的解决方案。

我已经建立了一个包含广告横幅的数据库，我的脚本会旋转并连续显示每个横幅，但是我正在尝试添加一个查询，该查询将在表格中搜索并显示具有最高 CTR（点击率）的横幅MIN 展示次数（横幅显示的次数）和 MAX 点击次数（横幅被点击的次数）

我尝试了许多不同的搜索查询组合，其中一些语法错误，另一些似乎语法正确但未能产生预期结果，这是我尝试过的最后一个查询：

```
$query = "SELECT banner_id,banner_url,banner_alt,banner_size FROM banner_ads WHERE $banner_niche$banner_size banner_enable=1 AND banner_impressions=(SELECT MIN(banner_impressions) FROM banner_ads WHERE banner_clicks=(SELECT MAX(banner_clicks) FROM banner_ads));";
$result = mysql_query($query) or die('Query failed: ' . mysql_error() . "\nQuery: $query");
$row = mysql_fetch_array($result, MYSQL_NUM);
$banner_id = $row[0];
$banner_url = $row[1];
$banner_alt = $row[2];
list($banner_width, $banner_height) = split("x", $row[3]); 
```

字段内容的示例是：

```
banner_id / banners row ID number : 1
banner_url / URL to the banner image : http://somesite.com/banner.jpg
banner_alt / banner alt text : Visit SomeSite.com
banner_size / size of the banner : 468x60
banner_niche / the category of the banner : books
banner_enable / is the banner set to display or not : 1
banner_impressions / number of times banner has been shown : 1000
banner_clicks / number if time banner has been clicked : 50 
```

因此，我只需要查询来在表格中搜索展示次数最少且点击次数最多的横幅。

```
----------------------------------------------
banner_id | banner_impressions | banner_clicks
----------------------------------------------
1         | 1000               | 50
2         | 100                | 80
3         | 2000               | 90
---------------------------------------------- 
```

所以在上面的例子中，banner_id 2 将匹配标准。（我跳过了示例中的其他字段，因为它们不相关）

在此先感谢伙计们，我希望我已经充分解释了我想要实现的目标。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:17:23.133

要获得最高的点击率与横幅广告的比例，此查询将起作用

```
 select banner_id, banner_impressions, banner_clicks, rank() over 
    (order by click_toimpression DESC)
    as ranks FROM
        (
 select banner_id, banner_impressions, banner_clicks, 
    (banner_clicks /  banner  impressions) 
    as Click_ToImpression FROM banner_ads
    ); 
```

——最高等级

```
 Select * FROM
    (
  select banner_id, banner_impressions, banner_clicks, rank() over 
    (order by click_toimpression DESC)
    as ranks FROM
        (
 select banner_id, banner_impressions, banner_clicks, 
    (banner_clicks /  banner  impressions) 
    as Click_ToImpression FROM banner_ads
    )) WHERE ranks = 1 
```

;

```
 MySQL

  select banner_id, banner_impressions, banner_clicks, 
    (banner_clicks /  banner  impressions) 
    as Click_ToImpression FROM banner_ads) ORDER BY Click_toImpression DESC 
    LIMIT 1; 
```

这将对您的比率进行排名。要获得最高值，只需从中选择最大值，如果您只想要一行。

这通过点击与横幅广告的比率对它们进行排名，而不是任意获取最小值和最大值并尝试从中收集信息。我*认为*这符合您正在寻找的内容，以及我将如何解决这个问题。

# c++ - 使用 C++ 从 XML 文件返回 char* 以外的数据类型时出错

> ID：15081662
> 
> 赞同：1
> 
> 时间：2013-02-26T04:58:09.720
> 
> 标签：c++, xml, xsd, rapidxml

这是我第一次使用 XML，我目前正在尝试使用 C++ 从 XML 文件返回一个整数（实际上想要返回一个双精度值，但还没有那么远）。我正在使用 RAPIDXML 和以下实现：

所有文件都在同一个目录中。

XML (firstxml.xml)：

```
<?xml version="1.0"?>
<test xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
      xsi:noNamespaceSchemaLocation="firstxsd.xsd">
    <A>10</A>
    <B>Hello</B>
</test> 
```

XML 架构（firstxsd.xsd）：

```
<xs:schema attributeFormDefault="unqualified" elementFormDefault="qualified" xmlns:xs="http://www.w3.org/2001/XMLSchema">
  <xs:element name="test">
    <xs:complexType>
      <xs:sequence>
        <xs:element type="xs:integer" name="A"/>
        <xs:element type="xs:string" name="B"/>
      </xs:sequence>
    </xs:complexType>
  </xs:element>
</xs:schema> 
```

C++ (test.cxx):

```
#include <iostream>
#include <sstream>
#include <fstream>
#include "rapidxml-1.13/rapidxml.hpp"
#include "rapidxml-1.13/rapidxml_print.hpp"
#include <string>
#include <stdio.h>
#include <vector>

int main(int argc, char* argv[])
  {
    std::ifstream file ("firstxml.xml");
      if (file.is_open())
        {
          file.seekg(0,std::ios::end);
          int size = file.tellg();
          file.seekg(0,std::ios::beg);

          char* buffer = new char [size];

          file.read (buffer, size);
          file.close();

          rapidxml::xml_document<> doc;
          doc.parse<0>(buffer);
          rapidxml::xml_node<> *node = doc.first_node()->first_node();

          //Line which results in error
          std::cout << node->value()*10 << std::endl;

          delete[] buffer;
        }
  } 
```

错误：

```
test.cxx:52:31: error: invalid operands of types ‘char*’ and ‘int’ to binary ‘operator*’ 
```

从我在线阅读的教程中，我相信我正确地构建了文件，因此从节点 A 解析到 C++ 文件中的值应该是一个整数。我确实注意到的一件事是，在 RAPIDXML 手册中， value() 的规范如下：

```
Ch* value() const;

Description: Gets value of node. Interpretation of value depends on type of node. Note that value will not be zero-terminated if rapidxml::parse_no_string_terminators option was selected during parse. Use value_size() function to determine length of the value.

Returns: Value of node, or empty string if node has no value. 
```

所以函数定义说它总是返回一个字符指针，但是“值的解释取决于节点的类型”这一行暗示它返回一个依赖于类型的值。

感谢您花时间查看我的问题，非常感谢您的帮助，

保罗。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-24T15:37:53.297

如果我错了，有人纠正我，我相信 RapidXML 只会给你一些字符串形式的值，因为它的就地解析性质。类模板可能用于处理 char 与宽 char 或类似的东西，我不知道，我只使用 char。

我处理提取值的方法是向 rapidxml_utils.hpp 添加一个辅助类（确实可以将它放在任何地方，但在那里有意义），并使用一些静态函数将 xml 节点或属性解析为一个值（或默认值，如果它不解析）。

这些助手让我可以做以下事情：

```
 int Height = xml_helper::GetNodeInt(cur_node->first_node("Height"), 48);
    int Width = xml_helper::GetNodeInt(cur_node->first_attribute("Width"), 128); 
```

在您的情况下，您可能会像这样使用我的助手类：

```
 //Line which results in error (altered to use my helper class, if node absent or not parse as integer uses zero)
      std::cout << xml_helper::GetNodeInt(node, 0)*10 << std::endl; 
```

我的助手类看起来像这样（我使用 sscanf 来获得某种程度的验证）：

```
class xml_helper
{
public:
    // a couple little helpers, lets you do this:
    // int Height = xml_helper::GetNodeInt(cur_node->first_node("Height"), 48);
    // int Width = xml_helper::GetNodeInt(cur_node->first_node("Width"), 128);
    static int GetNodeInt(rapidxml::xml_base<>* node, int DefaultValue)
    {
        int temp;
        try
        {
            if (node == 0) return DefaultValue;
            if (sscanf(node->value(), "%d", &temp) != 1) return DefaultValue;
            return temp;
            //return atoi(node->value());
        }
        catch (...) { return DefaultValue; }
    }

    static unsigned int GetNodeUInt(rapidxml::xml_base<>* node, unsigned int DefaultValue)
    {
        unsigned int temp;
        try
        {
            if (node == 0) return DefaultValue;
            if (sscanf(node->value(), "%u", &temp) != 1) return DefaultValue;
            return temp;
            //return strtoul(node->value(), NULL, 0);
        }
        catch (...) { return DefaultValue; }
    }

    static long long GetNodeLL(rapidxml::xml_base<>* node, long long DefaultValue)
    {
        long long temp;
        try
        {
            if (node == 0) return DefaultValue;
            if (sscanf(node->value(), "%lld", &temp) != 1) return DefaultValue; //C99 covers %lld
            return temp;
            //return strtoll(node->value(), NULL, 0); //C++11, could use _strtoi64 in VS until then?
        }
        catch (...) { return DefaultValue; }
    }

    static double GetNodeDouble(rapidxml::xml_base<>* node, double DefaultValue)
    {
        double temp;
        try
        {
            if (node == 0) return DefaultValue;
            if (sscanf(node->value(), "%lf", &temp) != 1) return DefaultValue; // could use strtod
            return temp;
        }
        catch (...) { return DefaultValue; }
    }

    static std::string GetNodeStr(rapidxml::xml_base<>* node, std::string DefaultValue)
    {
        try
        {
            if (node == 0) return DefaultValue;
            return node->value();
        }
        catch (...) { return DefaultValue; }
    }
}; 
```

希望这可能对您或其他使用 rapidxml 并需要一种快速方法从节点中获取整数、双精度数或其他内容的人有所帮助。它当然可以扩展到其他类型，我现在只有我需要的类型，但你明白了它的要点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T05:12:05.533

我猜您想访问“属性”值，所以请执行以下操作...

cout << "我的第一个节点的名称是：" << doc.first_node()->name() << "\n";

xml_node<> *node = doc.first_node("foobar");

cout << "节点 foobar 有值 " << node->value() << "\n";

for (xml_attribute<> *attr = node->first_attribute(); attr; attr = attr->next_attribute())

{ cout << "节点 foobar 具有属性 " << attr->name() << " ";

```
cout << "with value " << attr->value() << "\n"; 
```

}

还可以看看 rapidXML 教程...

[http://rapidxml.sourceforge.net/manual.html](http://rapidxml.sourceforge.net/manual.html)很简单！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T05:29:54.700

很难说“价值的解释取决于节点的类型”这句话是什么意思。如果函数返回`Ch pointer`，它将总是返回这样的指针或导致运行时异常，如果库开发人员提供了这样的功能。自然，当您尝试将 a 乘以`Ch*`int 时，您会得到编译时错误。

函数返回依赖于调用上下文的类型的唯一方法是使用一些特殊的用户定义的返回类型（`VARIANT`或类似的东西）。在我看来，这`Ch`只是库的基本字符类型（`char`或可能`wchar_t`）的化名。

因此，通过“解释......”通知开发人员可能意味着用户必须根据节点的类型（这又取决于用户定义的模式）对字符串进行正确的解释。

要将数字的 C 字符串表示形式转换为相应的类型，您可以使用标准 C 库中的函数，例如`atoi()`(converts to int)、`atof()`(to double) 等。

# java - Tomcat Servlet 路径

> ID：15081665
> 
> 赞同：0
> 
> 时间：2013-02-26T04:58:17.530
> 
> 标签：java, tomcat

我有这个文件夹目录：

webapps/ROOT/META-INF/

......................上下文.xml

webapps/ROOT/WEB-INF/

......................web.xml

webapps/ROOT/WEB-INF/lib

.........................mysql-connector-java-5.1.23-bin.jar

webapps/ROOT/WEB-INF/classes/com/mycompany/server/LoginServlet.class

我有这个 web.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app version="3.0" xmlns="http://java.sun.com/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd">
    <servlet>
        <servlet-name>LoginServlet</servlet-name>
        <url-pattern>/LoginServlet</url-pattern>
        <servlet-class>com.mycompany.server.LoginServlet</servlet-class>
        <load-on-startup>1</load-on-startup>
    </servlet>
    <session-config>
        <session-timeout>30</session-timeout>
    </session-config>
</web-app> 
```

LoginServlet.java 有这个`init()`

```
@Override
public void init(ServletConfig config) throws ServletException {
    System.out.println("Login Servlet Is Running");
    new Thread(guestRouter).start();
    System.out.println("path: '" + config.getServletName() + "'");
} 
```

当我启动 Tomcat 时，这是输出（init 加载并找到类）。

![在此处输入图像描述](../Images/e853b2021a7f07f4cd53d9e26e0d32e5.png)

但是，当我去`localhost:8080/LoginServlet`它说找不到资源。这几天一直在挣扎。任何帮助表示赞赏！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T05:27:22.367

您需要添加

`<servlet-mapping>`
`<servlet-name>LoginServlet</servlet-name>`
`<url-pattern>/LoginServlet</url-pattern>`
`</servlet-mapping>`

并`<url-pattern>`从你拥有的地方移除。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T05:25:19.173

修复了以下内容（WTF Tomcat）。

```
<!DOCTYPE web-app
    PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
    "http://java.sun.com/dtd/web-app_2_3.dtd">

<web-app>

  <servlet>
    <servlet-name>LoginServlet</servlet-name>
    <servlet-class>com.mycompany.server.LoginServlet</servlet-class>
  </servlet>

  <servlet-mapping>
    <servlet-name>LoginServlet</servlet-name>
    <url-pattern>/LoginServlet</url-pattern>
  </servlet-mapping>
</web-app> 
```

# php - 如何检测是否输入了两个输入元素，如文本字段。（php/javascript）

> ID：15081668
> 
> 赞同：1
> 
> 时间：2013-02-26T04:58:34.377
> 
> 标签：php, javascript, events, button, input

如果表单中有两个输入元素 - 例如 - 文本字段，比如说用户名和密码，获取长度 > 0 的文本输入，那么当用户在两个字段中都键入时，您将如何创建一个事件来更改提交按钮的颜色？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:12:52.077

If you have Jquery in your project, you can try something like this:

Assuming your inputs have ids:

```
<input id="username" name="username"/>
<input id="password" name="password"/>
<input type="submit" value="Submit" id="submit" /> 
```

You can bind to the keyup event on either input element to change the color of the button:

```
$('#username, #password').keyup(function(){
    if ($.trim($('#username').val()) != '' && $.trim($('#password').val()) != '') {
        $('#submit').css('background-color', 'red');
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T05:15:15.157

**Here is the running fiddle:**

**[http://jsfiddle.net/NS5z6/](http://jsfiddle.net/NS5z6/)**

**HTML:**

```
<input type=text id=username />
<input type=password id=password />
<input type=submit id=submit /> 
```

**CSS:**

```
#submit{ background-color: red; } 
```

**JS:**

```
$('input[id="username"], input[id="password"]').change(function(){
  if ($(this).val()!="")
  { 
      $("input[id='submit']").css("background-color","green");
  }else{ 
      $("input[id='submit']").css("background-color","red");
  }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T05:10:37.063

```
document.getElementById('submit').onclick = function() {
    var inputs = document.getElementsByTagName('input'),
        empty = 0;

    for (var i = 0, len = inputs.length - 1; i < len; i++) {
        empty += !inputs[i].value;
    }
    if (empty == 0) {
        //write code for changing the button color
    }
}; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T05:10:44.630

I like the answer above, and here is a jquery answer if you like the looks better!

```
$(document).ready(function() {
    $("#username").change(checkFunction());
    $("#password").change(checkFunction());
}
function checkFunction() {
    var user = $("#username").val();
    var pass = $("#password").val();
    if (user && pass) {
        $("#buttonid").css("background-color:#HEXCODE");
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-26T05:11:15.550

制作一个 javascript 函数，检查两个输入的值是否大于零，如果它们这样做，它会在调用时更改提交按钮的颜色。

在输入标记中使用[onChange](http://w3schools.com/jsref/event_onchange.asp)属性并将 javascript 函数的名称放在属性中。

您还可以通过执行设置属性

```
Object.onChange = functionToCall(); 
```

每当输入值更改时，onChange 都会触发它设置的函数。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-26T05:17:14.833

您可以使用以下逻辑

```
<input type = "text" name = "username" class = "text">
   <input type = "password" name = "password" class = "text">
   <input type = "button" class = "button">
   <script>
     $(".text").live("keyup", function(){

       var filled = true; 

       $(".text").each(function(i, v){
          if($(this).val() == ''){
             filled = false
          }
       });

       if(filled){
        $(".button").css("background-color:#black");
       }
     });
   </script> 
```

# c# - Javascript和c#.net中的IP地址到数字不同

> ID：15081676
> 
> 赞同：2
> 
> 时间：2013-02-26T04:59:22.427
> 
> 标签：c#, javascript, ip-address

我需要应用 IP 地址的范围验证，为此我使用了 [http://www.allredroster.com/iptodec.htm](http://www.allredroster.com/iptodec.htm)

[http://javascript.about.com/library/blipconvert.htm](http://javascript.about.com/library/blipconvert.htm)

```
 //JAVASCRIPT CODE
    function dot2num(dot) {
        var d = dot.split('.');
        return ((((((+d[0])*256)+(+d[1]))*256)+(+d[2]))*256)+(+d[3]);
    }

    //C# CODE SERVER SIDE
    System.Net.IPAddress ipAdd;
    if (System.Net.IPAddress.TryParse(ipAddress, out ipAdd))
        return ipAdd.Address; 
```

但是，在客户端返回的值与我在服务器端使用 IPAddress 类得到的值完全不同。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T11:40:50.933

将以下函数用于 Javascript 怎么样？

```
function num2dot(num) {
    var d = num%256;
    for (var i = 3; i > 0; i--) {
        num = Math.floor(num/256);
        d = num%256 + '.' + d;
    }
    return d;
} 
```

如果您对哪个函数返回正确的值有疑问，可以在[http://www.ipaddressguide.com/ip](http://www.ipaddressguide.com/ip)中输入 IP 地址并进行验证。

如果您需要进一步的帮助，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T05:18:06.513

我会阅读有关该主题的[http://social.msdn.microsoft.com/Forums/en/netfxnetcom/thread/9d568a3e-9fbf-4acb-92fc-ff629cd8653f 。](http://social.msdn.microsoft.com/Forums/en/netfxnetcom/thread/9d568a3e-9fbf-4acb-92fc-ff629cd8653f)如果输入不是很具体， System.Net.IPAddress.TryParse 可能会抛出一些奇怪的结果

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T15:49:49.583

最后，我最终在服务器端做了同样的事情，因为 IPAddress.Address 没有返回正确的结果，我不知道为什么，但是有人可以告诉我为什么会这样吗？

```
//WORKING CODE NOW

//JAVASCRIPT CODE
function dot2num(dot) {
    var d = dot.split('.');
    return ((((((+d[0])*256)+(+d[1]))*256)+(+d[2]))*256)+(+d[3]);
}

//C# CODE SERVER SIDE
function dot2num(dot)
{
   var ip = IPAddress.Parse(args.Value);
   var ipBytes = ip.GetAddressBytes();
   double ipAddress = ipBytes[0] * Math.Pow(256, 3) + ipBytes[1] * Math.Pow(256, 2) + ipBytes[2] * Math.Pow(256, 1) + ipBytes[3];
   return ipAddress;   
} 
```

# xaml - 如何在 Windows 8 应用程序中以编程方式将约会添加到日历？

> ID：15081682
> 
> 赞同：1
> 
> 时间：2013-02-26T04:59:51.210
> 
> 标签：xaml, windows-8, calendar

我正在开发一个 Windows 8 C#/XAML 应用程序，我想通过它将约会添加到日历中。

1.  如何将约会添加到我的直通代码？
2.  如何访问日历 API？
3.  可用于添加约会的各种选项有哪些？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-06-06T12:42:26.083

You can use the [AppointmentManager](http://msdn.microsoft.com/en-us/library/windows/apps/windows.applicationmodel.appointments.appointmentmanager.aspx) class to work with the calendar & [ShowAddApointmentAsync](http://msdn.microsoft.com/en-us/library/windows/apps/dn297264.aspx) method will allow you to add to the calendar.

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-02-26T05:05:02.607

没有直接的。日历显示来自 Hotmail、Google 或 Exchange 等服务的条目。您必须使用其中一个 API 将条目添加到用户正在使用的特定日历中。例如，这里是[Hotmail 日历的 API](http://msdn.microsoft.com/en-us/library/live/hh826535)。

# python - 找到互联网时的python调用函数

> ID：15081686
> 
> 赞同：1
> 
> 时间：2013-02-26T05:00:15.830
> 
> 标签：python

我知道有办法检查当前是否有互联网，但无论如何我都找不到在找到互联网时实际调用函数。这样的事情存在吗？

我使用的是 Ubuntu，不需要支持任何其他操作系统。最好是python 3。我可以安装外部库来做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:35:20.477

穷人的方式是使用[ping 模块进行轮询](https://bitbucket.org/delroth/python-ping/src)

```
import ping, time

def found():
    print("FOUND INTERNET! :)")
def lost():
    print("LOST INTERNET! :(")

def wait_and_notify_connection(found, lost, already_found=False):
    while True:
        # Ping Google DNS Server (99.999% Uptime)
        if ping.do_one('8.8.8.8', timeout=2, psize=64) is not None:                
            if not already_found:
                found()
                already_found = True
        else:
            if already_found:
                lost()
                already_found = False
        time.sleep(1)

wait_and_notify_connection(found, lost) 
```

或子进程调用

```
import subprocess, time

def found():
    print("FOUND INTERNET! :)")
def lost():
    print("LOST INTERNET! :(")

def ping(target):
    return True if subprocess.call(['ping', '-c 1', target]) == 0 else False

def wait_and_notify_connection(found, lost, already_found=False):
    while True:
        # Ping Google DNS Server (99.999% Uptime)
        # and check return code
        if ping('8.8.8.8'):
            if not already_found:
                found()
                already_found = True
        else:
            if already_found:
                lost()
                already_found = False
        time.sleep(1)

wait_and_notify_connection(found, lost) 
```

但正如@Blender 提到的，D-Bus 通知可以更好地工作。[NetworkManager D-Bus Python 客户端](http://www.no-ack.org/2010/07/writing-simple-dbus-client-in-python.html)和阅读[一些规范](http://projects.gnome.org/NetworkManager/developers/api/08/spec-08.html#org.freedesktop.NetworkManager)之类的东西 可能会有所帮助。

您也可以使用 Python 的[线程接口](http://docs.python.org/2/library/threading.html)进行后台轮询

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-02-26T05:03:33.817

以前[在这里回答过。](https://stackoverflow.com/questions/3764291/checking-network-connection)

```
import urllib2

def internet_on(url):
    try:
        response=urllib2.urlopen(url,timeout=1)
        return True
    except urllib2.URLError as err: pass
    return False 
```

# python - 使用循环在 .ini 文件中分配已知数量的变量

> ID：15081687
> 
> 赞同：2
> 
> 时间：2013-02-26T05:00:27.867
> 
> 标签：python, loops, ini, configparser

**编辑 -** *我设法找到了解决我的问题的方法，在页面底部得到了回答。*

我有一个 .ini 文件，其中包含未知数量的变量，由 python 脚本通过 IRC 接口创建。

.ini 文件的格式如下：

```
[varables]
0 = example
1 = example2
2 = exapmle3
#and so on. 
```

我想要对 .ini 文件中的变量执行的操作是将 .ini 文件*中的每个单独的变量附加到一个列表中。*

这是我用来尝试完成此任务的主要 Python 文件中的代码：（不是整个文件，而是用于执行此任务的内容。）

```
import ConfigParser
import os

#Config parser: 
class UnknownValue(Exception): pass
def replace_line(old_line, new_line):
    f = open("setup.ini")
    for line in f:
        line = os.linesep.join([s for s in line.splitlines() if s])
        if line == old_line:
            f1 = open("setup.ini",'r')
            stuff = f1.read()
            f1.close()
            new_stuff = re.sub(old_line,new_line,stuff)
            f = open("setup.ini",'w')
            f.write(new_stuff)
            f.close()        
def get_options(filename):
    config = ConfigParser.ConfigParser()
    try:
        config.read(filename)
    except ConfigParser.ParsingError, e:
        pass
    sections = config.sections()
    output = {}
    for section in sections:
        output[section] = {}
        for opt in config.options(section):
            value = config.get(section, opt)
            output[section][opt] = value
    return output

bot_owners = []#this becomes a list with every varable in the .ini file.

#gets the number of varables to be set, then loops appending each entry into their corosponding lists for later use.
setup_file = get_options("owner.ini")
num_lines = (sum(1 for line in open('owner.ini'))-1)#gets amount of varables in the file, and removes 1 for the header tag.
print "lines ", num_lines
x = 0
while x != num_lines:
    #loops through appending all the varables inside of the .ini file to the list 'bot_owners'
    y = str(x)
    bot_owners.append(setup_file['owners'][y])#this fails becuase it can't take a varable as a argument?
    x += 1

print (bot_owners)
print (num_lines) 
```

我使用这一行找出 .ini 文件中的变量数：

```
num_lines = (sum(1 for line in open('owner.ini'))-1)#gets amount of varables in the file, and removes 1 for the header tag. 
```

我可以通过执行以下操作将 .ini 文件中的每个 vararable 附加到列表中：

```
bot_owners.append(setup_file['owners']['0'])
bot_owners.append(setup_file['owners']['1'])
bot_owners.append(setup_file['owners']['2'])
#ect 
```

但这要求我知道 .ini 文件中的变量数量，我不知道，这样尝试会很愚蠢，因为它对 .ini 文件可以包含的变量数量施加了限制，而且它需要大量的代码，这些代码可以大大减少。

```
if num_lines == 1:    
    bot_owners.append(setup_file['owners']['0'])
elif num_lines == 2:
    bot_owners.append(setup_file['owners']['1'])
elif num_lines == 3:
    bot_owners.append(setup_file['owners']['2'])
#ect 
```

*这段代码有什么**问题***，是我的**循环**：

```
x = 0 #what varable is going to be appended
while x != num_lines:
    #loops through appending all the varables inside of the .ini file to the list 'bot_owners'
    y = str(x)
    bot_owners.append(setup_file['owners'][y]) #<-- THE PROBLEM
    x += 1 
```

bot_owners.append **(setup_file['owners'][y])**行显示以下错误：

```
KeyError: '0' 
```

在查看Python 的 configParser 库的[文档后，如果我是正确的，则此错误是由第二个参数](http://docs.python.org/2/library/configparser.html)**[y]**引起的，因为即使该变量包含一个字符串可能是“1”，但**bot_owners.append(setup_file['owners']["1"])**有效。

我在这里要问的是，是否有另一种方法可以做到这一点，或者我如何使用循环将 .ini 文件中的每个单独的变量附加到列表中。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T05:08:12.713

不幸的是，`ConfigParser`它本身并不真正支持列表。

如果有一个字符可以安全地用作分隔符，一个好的解决方法是将列表打包成一个分隔字符串，然后在读取配置文件时解压缩该字符串。

对于逗号分隔符：

```
[MYSECTION]
mylist = item1,item2,item3 
```

然后`config.get('MYSECTION', 'mylist').split(',')`在客户端代码中使用。

也允许多行选项。然后它会像

```
[MYSECTION]
mylist = 
    item1
    item2 
```

您将`str.splitlines()`在客户端代码中使用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-12T02:17:00.723

在实际使用 Python 玩了一段时间并阅读了[ConfigParser](http://docs.python.org/2/library/configparser.html)中的所有文档之后。我设法找出如何在没有建议的行分隔符的情况下做到这一点。

如果我有这样的 .ini 文件：

```
[things]
1 = not relavant at all
[more_things]
42 = don't need this
[owners]
1 = test
2 = tesing123 
```

我可以使用它附加所有存储的变量`[owners]`。

```
import ConfigParser

config = ConfigParser.ConfigParser()
#File with the owner varables stored.
config.read('test.ini')
bot_owners = []

#Make sure the data is under the correct header.
if config.has_section('owners') == True:
    #find all the options under the [owners] header.
    data_points = config.options('owners')

    #Append the value assigned to the options to bot_owners
    for var in data_points:
        bot_owners.append(config.get('owners', var))

print bot_owners 
```

因此返回`bot_owners`为`['test', 'tesing123']`

# django - 如何从 Django 项目创建 Git 存储库作为 tar 文件？

> ID：15081691
> 
> 赞同：0
> 
> 时间：2013-02-26T05:00:54.830
> 
> 标签：django, git

我想将一个 Django 项目转换为一个 zip 文件，并将其存储为 Git 存储库，以便我可以将该存储库用作其他项目的模板。如果我这样做，Django 文档说我可以使用这个命令来生成新项目：

```
django-admin.py startapp --template=https://github.com/githubuser/django-app-template/archive/master.zip myapp 
```

我不明白的是如何将该 zipfile 创建为 repo。如果我的项目名为“django-app-template”，我是否应该创建一个名为“archive”的子目录，然后在其中创建一个“master.zip”文件？如果是这样，我如何使用“git archive”和“tar”创建该压缩文件？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:10:46.997

You don't have to create the zip file yourself; GitHub provides that functionality for you.

GitHub provides the `github.com/username/projectname/archive/master.zip` link to download a zip file of your project.

# java - 我想为 Jsoup Connect.data() 方法传递 map 中的属性值

> ID：15081693
> 
> 赞同：1
> 
> 时间：2013-02-26T05:01:03.983
> 
> 标签：java, xml, jsoup

xml 结构如下所示。我想将 id`name="hotelId"` `value="00000000003054D8"`和 id`name="offerId" value="74"`传递给**Jsoup 的** `Connect`类`data()`方法。

```
<GetBookingIdsRequest token="f6ERmpwxbZ4ysUgCHB9mlSPcd9rf5DVB39C--yLbNSdG" sid="TVd8DY5OQi2vf82h" xmlns="http://www.travelfusion.com/xml/api/simple">
        <id name="hotelId" value="00000000003054D8"/>
        <id name="offerId" value="74"/>
</GetBookingIdsRequest> 
```

我如何通过相同的？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T09:56:06.363

这是一个如何获取值的示例：

```
Document doc = ...

Elements request = doc.select("getbookingidsrequest");

for( Element element : request )
{
    final String hotelId = element.select("id[name=hotelId]").first().attr("value");
    final String offerId = element.select("id[name=offerId]").first().attr("value");

    System.out.println(hotelId);
    System.out.println(offerId);
} 
```

**输出：**

```
00000000003054D8
74 
```

如果您只有一个`GetBookingIdsRequest`-tag，则可以使用`first()`方法而不是`for`-loop：

```
Document doc = ...

Element request = doc.select("getbookingidsrequest").first();

final String hotelId = request.select("id[name=hotelId]").first().attr("value");
final String offerId = request.select("id[name=offerId]").first().attr("value");

System.out.println(hotelId);
System.out.println(offerId); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T11:23:46.730

您可以将以下内容作为`Connection`对象数据映射的一部分传递。

```
map.put("id[0].name", "hotelId");
map.put("id[0].value", hotel_Id);
map.put("id[1].name", "offerId");
map.put("id[1].value", offer_Id); 
```

# mapping - 如何根据pyqt中其他小部件上的值选择组合框项目

> ID：15081702
> 
> 赞同：1
> 
> 时间：2013-02-26T05:01:52.580
> 
> 标签：mapping, qcombobox, qlineedit

我有一个 lineEdit 和一个组合框。

我有如下数据

```
---------------------
|ID    | DisplayName|
---------------------
|100   | OneHundred |
|150   | OneFifty   |
|25    | TwendyFive |
--------------------- 
```

我将 DisplayNames 添加为组合框中的项目。

我想做如下

当我在 lineedit 中输入 100 时，当我在 lineedit 中输入 25 时，在组合框中选择“OneHundred”项目，然后在组合框中选择“TwentyFive”项目

它应该像这样工作。

任何人都可以提出一种方法来实现这一目标....

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-26T09:28:50.337

我找到了我要求的解决方案。

我使用 userData 来实现这一点。将项目添加到组合框，如下所示

```
ID = ['100','150','25']
Name = ['OneHundred','OneFifty','TwentyFive']

for i in xrange(3):

    cmbobox.addItem(Name[i],ID[i]) 
```

对于 lineedit textchange 我写如下

```
index = comobox.findData(lineedit.text())
combobox.setCurrentIndex(index) 
```

# entity-framework - 仅返回子实体 Linq 实体框架

> ID：15081710
> 
> 赞同：3
> 
> 时间：2013-02-26T05:02:41.363
> 
> 标签：entity-framework, linq-to-entities, ef-code-first

给定类似的东西：

```
public class Parent
{
    public int Id { get; set; }
    public List<Child> Children { get; set; }
}

// There is no reference to the parent in the object model
public class Child
{
    public int Id { get; set; }
    public string MyProperty { get; set; }
} 
```

*对于给定的父 ID，是否可以仅*加载与特定条件匹配的子实体，而无需加载父实体？

我已经[看到](https://stackoverflow.com/a/7768436/141172)使用投影来加载匹配条件的父级*和*零个或多个子级的解决方案。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-26T05:12:54.310

如果我理解正确，应该这样做；它将您想要的条件放在父母和孩子身上，但只选择孩子。

```
from parent in db.Parents
from child in parent.Children
where parent.Id = 4711 &&
      child.MyProperty == "olle"
select child; 
```

# xml - 如何克隆这个 WordPress 插件（高级 xml 阅读器）

> ID：15081716
> 
> 赞同：-1
> 
> 时间：2013-02-26T05:03:22.127
> 
> 标签：xml, wordpress, plugins, feed, cloning

经过一番研究，我发现了一种在 WordPress 中显示 XML 提要的简单方法。

这个插件（高级 xml 阅读器）的唯一问题是它只支持一个提要。我要100！！

作者没有时间更新插件，建议克隆它。说起来容易做起来难..我已经改变了所有我能想到的改变都无济于事。它只是显示为活动状态，但 WP 设置菜单中没有其他条目。

现在我知道可能有更好的方式来显示这些提要，但这对我来说是黑魔法。

[http://wordpress.org/extend/plugins/advanced-xml-reader/](http://wordpress.org/extend/plugins/advanced-xml-reader/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T11:25:41.580

哟可以试试这个插件[http://wordpress.org/extend/plugins/wp-all-import](http://wordpress.org/extend/plugins/wp-all-import)。希望，这就是你要找的。

# c - 简单的 C 客户端/服务器消息通信中的客户端程序不起作用

> ID：15081717
> 
> 赞同：2
> 
> 时间：2013-02-26T05:03:26.147
> 
> 标签：c, client-server, qnx

我正在做一个实验任务，我们制作一个服务器程序和一个客户端程序。它在 QNX 操作系统上。不确定它是否在 Linux 中运行。大纲是这样的：

“编写一对 C 程序 msgSender.c 和 msgLogger.c 来演示进程之间的 Neutrino 消息传递。

您的程序将从 shell 调用为：

$ msgLogger logFileName $ msgSender msgLogger

logFileName 是存储消息的日志的名称

msgLogger 进程充当记录器。它接收消息并将消息写入文件。

1.  msgLogger 接收 msg.h 中所示格式的基于文本的消息。它必须测试消息头并且仅在消息类型为 MSG_DATA 时将消息文本写入日志文件。
2.  如果接收到 MSG_DATA，则回复状态为 MSG_OK。
3.  如果收到 MSG_END，则服务器回复状态为 MSG_END，然后清理并退出。
4.  如果收到的消息不是 MSG_DATA 或 MSG_END，则回复状态为 MSG_INVALID，并且不记录消息文本。将记录一条警告消息。
5.  该进程通过将其 ND PID CHID 写入名为 msgLogger.pid 的文件来宣传其存在，其中文件名的“msgLogger”部分取自 argv[0]。
6.  记录的消息带有时间和发件人的 ND PID COID 标记。

msgSender 是一个交互式程序，用于组装和发送基于文本的消息。

1.  从命令行读取记录器进程的名称，并使用该名称来构建 .pid 文件的名称，它会在其中读取 ND PID CHID。
2.  它提示用户输入消息标题类型，然后提示用户输入消息文本。
3.  如果它收到来自服务器的 MSG_END，它将退出。
4.  如果从服务器接收到 MSG_INVALID，它会打印一个警告

    *   您的客户端和服务器必须与我的客户端和服务器互操作。
    *   验证服务器是否与多个并发客户端正常工作。
    *   如果在每条日志消息之后刷新服务器的文件写入缓冲区，则可以在后台运行它并使用 $ tail -f logFile 来查看收到的消息。
    *   请务必检查命令行参数的有效性。
    *   仅在必要时使用全局变量。"

我已经让 msgLogger 完全正常工作了；这是代码： http: [//pastebin.com/8AGfGZ5u](http://pastebin.com/8AGfGZ5u)

这是 msg.h 文件： [http ://pastebin.com/3xcBZvnH](http://pastebin.com/3xcBZvnH)

这是迄今为止我为 msgSender 提供的代码：http: [//pastebin.com/Buk88Kry](http://pastebin.com/Buk88Kry)

发送者（客户端）需要做的是让用户使用数字输入消息类型。msg.h 文件包含消息编号的类型，其中 MSG_DATA 为 1 等。如果他们输入无效数字，它将要求他们重试，否则它将存储该数字并将其分配给 amsg.m_hdr消息结构。amsg.m_data 是消息的值。

然后用户输入他们想要的消息，如果他们选择了数字1（msg_data），服务器发送通知，客户端打印“消息成功接收”，同时消息的内容被保存到日志文件中。

不幸的是，我遇到了很多问题，并且没有记录消息。我明天必须交 msgSender，这也取决于我的下一个实验室。我真的希望我能得到一些帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-10T14:44:34.247

尝试在客户端写入后刷新缓冲区。如果您在写入文件时不关闭文件描述符，则不会显示缓冲区已刷新并且文件已写入。您可以通过调用 fsync() 来确保您的所有写入同步到您想要的文件。

# javascript - Javascript获取每个iframe源的加载时间

> ID：15081722
> 
> 赞同：1
> 
> 时间：2013-02-26T05:03:45.723
> 
> 标签：javascript, jquery

我得到了一个从文本文件中读取 url 并将它们一个接一个地放入 iframe 的代码。我想计算每个页面的加载时间。我通过标记 iframe 开始加载 url 之前的时间来做到这一点，并在加载后立即标记时间。加载后减去加载前给了我每个页面的加载时间。

```
 $.get("text.txt", function (data) {
        var array = data.split(/\r\n|\r|\n/) 
        var beforeLoad = (new Date()).getTime();    
        var loadTimes = [];
    $('#1').on('load', function () {
        loadTimes.push((new Date()).getTime());           
        $('#1').attr('src', array.pop()); 
            $.each(loadTimes, function (index, value) {             
                var result = (value - beforeLoad) / 1000;       
                $("#loadingtime" + index).html(result);
            }); 
    }).attr('src', array.pop());
}); 
```

这里的问题 - 在加载时间之前。我不知道如何在每个 url 开始加载之前标记时间。在上面的代码中， beforeload 值是加载所有源之前的时间值，我希望每次将新源放入 iframe 时它都会改变。有什么建议我该怎么做？

编辑：修复它！

```
 $.get("imones.txt", function (data) {
        var array = data.split(/\r\n|\r|\n/) 
        var beforeLoad = (new Date()).getTime();    
        var loadTimes = [];
            var beforeTimes = [];               
        $('#frame_id').on('load', function () {                                 
            beforeTimes.push(beforeLoad);
            loadTimes.push((new Date()).getTime()); 
            $('#frame_id').attr('src', array.pop());
                $.each(loadTimes, function (index, value) { 
                    var result = (value - beforeTimes[index]) / 1000;
                        if (result < 0) {
                            result = result * (-1);
                        }   
                    $("#loadingtime" + index).html(result);
                    beforeLoad = value;
                });
        }).attr('src', array.pop());
    }); 
```

不知道我在那里做了什么，但这对我有用，现在要分析它。在每个页面的加载时间之前，我制作了一个正确的存储数组。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:34:44.103

```
var loadTimes = {};
$('#1').data('time', (new Date()).getTime()).on('load', function() {
  var $this = $(this), time = (new Date()).getTime();
  loadTimes[$this.attr('src')] = time - $this.data('time');
  $this.data('time', time);
  if (array.length == 0) {
    //end of load loadTimes contents with time of load each url
  } else $this.attr('src', array.pop());
}).attr('src', array.pop()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T06:37:49.967

尝试这个

```
var links = [
    'http://google.com',
    'http://yahoo.com'
]

$(links).each(function (i) {
    var iframe = document.createElement('iframe');
    iframe.setAttribute('t1', (new Date()).getTime());
    iframe.setAttribute('src', links[i]);
    iframe.onload = function () {
        var t2 = (new Date()).getTime();
        console.log('Load Time: ' + ( t2 - parseInt(this.getAttribute('t1'))));
    }
    document.body.appendChild(iframe);
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T07:02:01.997

```
 $.get("text.txt", function (data) {
        var array = data.split(/\r\n|\r|\n/) 
        var beforeLoad = (new Date()).getTime();    
        var loadTimes = [];
            var beforeTimes = [];               
        $('#frame_id').on('load', function () {                                 
            beforeTimes.push(beforeLoad);
            loadTimes.push((new Date()).getTime()); 
            $('#frame_id').attr('src', array.pop());
                $.each(loadTimes, function (index, value) { 
                    var result = (value - beforeTimes[index]) / 1000;
                        if (result < 0) {
                            result = result * (-1);
                        }   
                    $("#loadingtime" + index).html(result);
                    beforeLoad = value;
                });
        }).attr('src', array.pop());
    }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T05:38:01.520

临时存储新的 beforeLoad 时间，计算上次加载时间，复制新的 beforeLoad 时间。

```
$.get("text.txt", function (data) {
  var array = data.split(/\r\n|\r|\n/); 
  var beforeLoad = (new Date()).getTime();    
  var loadTimes = [];

  $('#1').on('load', function () {

    var nextBeforeLoad = (new Date()).getTime();
    loadTimes.push(nextBeforeLoad);       

    $.each(loadTimes, function (index, value) {             
        var result = (value - beforeLoad) / 1000;       
        $("#loadingtime" + index).html(result);
      }); 

    beforeLoad = nextBeforeLoad;
    $('#1').attr('src', array.pop()); 

  }).attr('src', array.pop());
}); 
```

# javascript - 有条件地更改字段的 Mirth java 代码

> ID：15081723
> 
> 赞同：4
> 
> 时间：2013-02-26T05:04:07.407
> 
> 标签：javascript, e4x, hl7, mirth

我正在使用 Mirth 从我们的数据库中读取 HL7 消息并将它们发送到客户的 EMR。此特定 EMR 要求嵌入 PDF 的 OBR 和 OBX 以特定方式格式化。如果 OBR.4.1 和 OBR.4.2 有“0PDF^PDF Report”，我们需要在 OBX.5.1、OBX.5.2 和 OBX.5.3 中插入​​“^PDFReport^PDF^Base64”，如下例所示。

```
OBR|2||13PS061163CYT|0PDF^PDF Report|
OBX|1|ED|0PDF^PDF Report|1|^PDFReport^PDF^Base64^JVBERi0xLjMNJf//// 
```

我们目前使用的代码在 99% 的情况下都有效，但似乎在特定报告类型上出现问题。尤其是当 OBR 多于 OBX 时。

任何解决此问题的帮助将不胜感激。我们当前使用的代码如下。

```
for (var i=0;i<msg['OBX'].length();i++ ){
    var Access=msg['OBR'][i]['OBR.3']['OBR.3.1'].toString()
    var Report=msg['OBX'][i]['OBX.5']['OBX.5.1'].toString()
    var ID=msg['OBR'][i]['OBR.2']['OBR.2.1'].toString()

    if(msg['OBX'][i]['OBX.3']['OBX.3.1'].toString() == Access + ".PDF"){
        msg['OBX'][i]['OBX.3']['OBX.3.1'] = "0PDF"
        msg['OBX'][i]['OBX.3']['OBX.3.2'] = "PDF Report"
        msg['OBX'][i]['OBX.5']['OBX.5.1'] = ID
        msg['OBX'][i]['OBX.5']['OBX.5.2'] = "PDFReport"
        msg['OBX'][i]['OBX.5']['OBX.5.3'] = "PDF"
        msg['OBX'][i]['OBX.5']['OBX.5.4'] = "Base64"
        msg['OBX'][i]['OBX.5']['OBX.5.5'] = Report
        i--;
    }
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T19:43:53.730

The crux of your problem is that your code assumes that OBR and OBX segments will always appear in pairs.

```
OBR|1|...
OBX|1|...
OBR|2|...
OBX|1|...
OBR|3|...
OBX|1|... 
```

However, as soon as you run into a case where the numbers of OBR and OBX segments don't match, or don't appear in strictly alternating fashion, things start to break.

```
OBR|1|... oh oh, this obr is followed by two obx segments
OBX|1|...
OBX|2|... 
OBR|2|... oh oh, this obr isn't followed by an obx segment at all.
OBR|3|...
OBX|1|... 
```

You need to first understand what is meant by the following lines of code.

```
var obrSegments = msg['OBR'];
var obxSegments = msg['OBX']; 
```

In this example, obrSegments is an array of, you guessed it, obr segments. Similarly, obxSegments is an array of obxSegments. Neither of these arrays were constructed with any awareness of how the obx segments were positioned with respect to the obr segments.

If you can guarantee that the obr segments and obx segments in your message will always appear in strictly alternating fashion, then you can guarantee that obrSegments[i] and obxSegments[i] will always be sequential.

On the other hand, if the number of obr and obx segments isn't identical, or, even if the number IS identical, if the segments don't appear in a strictly alternating fashion, then there's no guarantee that obrSegments[i] will be immediately followed by obxSegments[i].

The phrasing of your question isn't 100% clear. However, I am inferring that whenever you examine the contents of an OBR, you then want to conditionally change the contents of ALL obx segments that immediately follow it.

I recommend something more like this.

```
var obrSegments = msg['OBR'];

// iterate through the OBR segments
for each (var obr in obrSegments) {

    // extract the field components that you need from this OBR
    // don't assume I've done this correctly. The text of your
    // question didn't match your example code, so I don't exactly know what you need
    var OBR4_1 = obr['OBR.4']['OBR.4.1'];
    var OBR4_2 = obr['OBR.4']['OBR.4.2'];

    // now iterate through the OBX segments that immediately follow this OBR.
    // This is a bit tricky to do, but here's how I approach the problem

    // you need an XML list of all the segments, not just the current OBR
    var segments = obr.parent().children();

    // you need to know the current OBR's index in the segments list
    var obrIndex = obr.childIndex();

    // theoretically, at this point, obr should refer to exactly the same
    // data as segments[obrIndex]

    // to do the actual OBX iteration:
    var nextIndex = obrIndex + 1;
    while (nextIndex < segments.length()) {
        var nextSegment = segments[nextIndex];
        var nextSegmentType = nextSegment.localName();

        if (nextSegmentType == 'OBX') {
            var obx = nextSegment;

            // Bearing in mind that I haven't tested this code and have just been spewing it
            // off into my web browser,
            // you can now be confident that variable obx refers to one of the obx
            // segments immediately following variable obr.

            if (OBR4_1 == blah blah blah) {
                obx['OBX.5']['OBX.5.1'] = blah blah blah;
                obx['OBX.5']['OBX.5.2'] = blah blah blah;
        }
        else {
            // looks like we've finished processing all the OBX segments for the current
            // obr, time to break out of the inner loop.
            break;
        }

        ++nextIndex;
    }
} 
```

# ios - 从其他应用程序通过本机应用程序打开 Facebook/Twitter 页面

> ID：15081724
> 
> 赞同：0
> 
> 时间：2013-02-26T05:04:17.543
> 
> 标签：ios, facebook, twitter

我的应用程序需要通过 Twitter 或 Facebook 应用程序打开 Facebook 页面或 Twitter 页面，例如： http: [//facebook.com/Apple](http://facebook.com/Apple)或[https://twitter.com/Apple](https://twitter.com/Apple)，但我不知道该怎么做。我看到我们可以使用诸如 fb://profile 之类的命令，但我没有看到打开页面的命令。谢谢你的评论。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:41:16.733

只需在下面尝试在 safari 中打开

```
[[UIApplication sharedApplication] openURL:[NSURL URLWithString:@"http://facebook.com"]]; 
```

或打开本机应用程序

```
if([[UIApplication sharedApplication]canOpenURL:[NSURL URLWithString:@"fb://profile"]]) {
   [[UIApplication sharedApplication] openURL:[NSURL URLWithString:@"fb://profile"]];
} 
```

# android - 如何在 androidH runner 游戏上设置对象

> ID：15081730
> 
> 赞同：0
> 
> 时间：2013-02-26T05:04:26.767
> 
> 标签：android, actionscript-3, air, flash-cs5, flash-cs6

我正在尝试为学校目的开发一个 android runner 游戏.. 我对此还是新手，请我需要你的帮助..

你们可以在 >>> [http://www.filedropper.com/test_37查看我的 CS5flash 文件](http://www.filedropper.com/test_37)

障碍物和硬币是随机的。但是障碍物和硬币是相互重叠的。这对于跑步游戏来说是非常糟糕的，因为它看起来非常糟糕，而且游戏玩法变得非常非常复杂。

我该如何解决？？有什么办法可以解决吗。。

而且我也在考虑是否可以将障碍物和硬币设置到特定区域（不是随机的）。所以游戏会更有组织，玩法也不会复杂。我仍然不知道-_-。

但我还是更喜欢随机。所以请各位大神帮我修一下。。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-01T10:45:16.850

您将需要更改添加硬币和障碍物的方式！我建议为每个人使用一个计时器。Atm 您在每一帧上添加大量它们，计算重叠会占用太多资源！并将它们放入 a`array`或更好的 a中`vector`！我也推荐使用`object Pool`！

所以限制可能出现的硬币和障碍的数量，比如 5 个左右。然后在屏幕外或被收集时将它们从数组/向量中删除！然后，当您添加新内容时，您可以检查数组/向量允许的值是什么！

当你得到你的数组时，你可以将它传递给`randomRange()`函数并排除这些值！看起来像这样！不是睾丸！！

```
function randomRange (min:Number, max:Number, exclude:Array = null):int
{
    var val:int = (min + Math.random() * (max - min)) >> 0;
    if (exclude)
    {
        for (var i:int = 0; i < exclude; i++)
        {
            while ((val < exclude[i].x + exclude[i].width) && (val > exclude[i].x))
            {
                val = (min + Math.random() * (max - min)) >> 0;
            }
        }
    }
    return val;
} 
```

它的性能仍然相当昂贵。但是只有几个对象你应该没问题

# .net - 如何在 wp7 中添加启动画面

> ID：15081731
> 
> 赞同：0
> 
> 时间：2013-02-26T05:04:28.853
> 
> 标签：.net, windows-phone-7

我是 Wp7 的新手。我正在尝试用我的初始屏幕图像替换 wp7 的默认初始屏幕图像。我用默认图像替换了我的 .jpg 图像。但它不起作用。请帮助我。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:17:47.430

只需确保在项目的根目录中有 SplashScreenImage.jpg，并将构建操作设置为 Content

# php - 教义 - 找不到模型类名称

> ID：15081734
> 
> 赞同：0
> 
> 时间：2013-02-26T05:04:42.490
> 
> 标签：php, orm, doctrine, doctrine-1.2

我是学说新手（使用 1.2 版）并遵循文档手册中给出的步骤。我已经完美地安装和配置了它。但是我在使用模型时遇到了问题。我已经完成了每一步，并成功地在模型文件夹中生成了模型。但在那之后，当我使用演示代码时

```
 $user = new User();
  $user->username = 'jwage';
  $user->password = 'changeme'; 
```

它说..

```
 Fatal error:  Class 'User' not found in C:\wamp\www\test_doctrine\test.php on line 25 
```

而如果我检查输出

```
 Doctrine_Core::loadModels('models'); 
```

我明白了

```
 Array
(
[BaseUser] => BaseUser
[User] => User
[UserTable] => UserTable
) 
```

我如何访问**User**类？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:33:26.090

教义没有加载基类。我遇到了类似的问题，我通过修改自动加载函数解决了这个问题，其中我得到了基类，我需要它们本身。

然后你在 bootstrap.php 文件中，之后`spl_autoload_register(array('Doctrine', 'autoload'));`，你需要`Doctrine_Core::loadModels('models');`.

通过这种方式，基类通过自动加载函数包含在内，子类（在本例中为用户类）可以扩展它，然后您就可以访问它。

# tdd - 加强测试驱动开发概念的非技术练习的想法？

> ID：15081735
> 
> 赞同：2
> 
> 时间：2013-02-26T05:04:44.480
> 
> 标签：tdd

我正在开设一门课程，帮助学生理解一些重要的技术概念，但学生不知道如何编码（这也不是课程的重点）。

对于 Web 开发中的许多概念/实践，我提出了非技术练习，让他们了解技术等效项是如何工作的。例如，为了解释结对编程，我让学生先自己解决一个逻辑难题，然后结对解决一个相似难度的难题。这突出了结对编程体验的积极和消极方面。

我正在努力想出一个类似的非技术示例或练习，以帮助他们了解 TDD 的优缺点。任何想法将不胜感激！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T12:00:44.467

我建议搜索 TDD 类比，例如：

[门类比](http://reflectivecoder.blogspot.co.uk/2009/07/tdd-door-analogy.html)

也许这会给你一些启发。扩展这一点并在您完成示例时解释其好处？

# java - toStringBuilder 导致问题

> ID：15081736
> 
> 赞同：2
> 
> 时间：2013-02-26T05:04:54.907
> 
> 标签：java, apache-commons

我正在运行一个运行大约 1-2 小时的多线程导入。并在导入中，在将数据放入表中之前。我正在查

```
if(debug.isEnabled())
 logger.debug("Object="+MyObject); 
```

where`MyObject`使用方法`ToStringBuilder`中的`toString`。

```
java.lang.OutOfMemoryError: GC overhead limit exceeded
        at java.util.Arrays.copyOfRange(Arrays.java:2694)
        at java.lang.String.<init>(String.java:203)
        at java.lang.StringBuffer.toString(StringBuffer.java:561)
        at org.apache.commons.lang3.builder.ToStringBuilder.toString(ToStringBuilder.java:1063) 
```

我认为 toStringBuilder 导致了这个问题。我对么？如果是，有什么方法可以解决这个问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-26T05:08:42.913

Not necessarily. All that error means is that you're almost out of heap space, and the garbage collector is giving up on trying to reclaim space [because it has run too much without reclaiming enough space](http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html#cms.oom). The fact that it happened at that point in the code doesn't necessarily mean anything. It could be that something entirely different ate up the space, but that call kicked off the GC one more time, when it finally gave up. You'd need to take a heap dump and look at it in a profiler like [YourKit](http://www.yourkit.com/) or [VisualVM](http://visualvm.java.net/) to see what's really going on.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T05:37:58.030

您的对象在内存中构造了一个太大的字符串，可能在 toStringBuilder() 方法中。

为避免这种情况，请尝试按行导入数据库，例如

```
if (debug.isEnabled()) {

   // since you are importing rows it must be a collection/array
   logger.debug("Object=");
   for(Row r in MyObject.getRows()) {
      logger.debug(r);
   }
} 
```

或者，在极少数情况下，如果您真的有一个大对象要记录，请通过流式传输内容来记录对象本身，而不是创建一个压倒性的字符串。

# javascript - 在 Meteor 中如何在服务器端渲染模板？

> ID：15081737
> 
> 赞同：5
> 
> 时间：2013-02-26T05:04:54.777
> 
> 标签：javascript, html, meteor, handlebars.js

我遵循[本教程](http://net.tutsplus.com/tutorials/javascript-ajax/whats-this-meteor-thing/)并用它构建了它：http: [//x111.meteor.com/](http://x111.meteor.com/) 但正如您所见，加载速度非常慢，因为流星从客户端加载数据。

当我想使用全局`Template`内部时出现此错误`Meteor.isServer`：

```
ReferenceError: Template is not defined
at app/products.js:56:3 ... 
```

如何从服务器端提供模板，这样我就不必等待客户端了？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-01-27T13:38:50.727

试试[这个](https://github.com/EventedMind/meteor-handlebars-server)。这个包增加了对 Meteor 中服务器端把手的支持。在 Meteor 发布服务器端渲染支持之前，它主要是作为服务器端电子邮件 html 的权宜之计。

```
> mrt add handlebars-server 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T09:50:11.533

即使代码在客户端 html 中，模板也会随服务器一起提供。他们需要很长时间的原因是流星集合在第一次加载时下载到客户端的步骤。

更新：我知道这不是您确切要求的，但滞后的根本原因不是模板系统。

核心问题是**您的浏览器和服务器之间的延迟**。您需要将服务器放置在离您更近的位置以消除此延迟/使其更短，就像使用任何 Web 服务器一样。

如果您无法靠近服务器，您可以显示正在*加载...*消息，以便用户知道数据将很快可用。

```
{{#unless CartItems.count}}
    <tr>
        <td colspan="4">Loading...</td>
    </tr>
{{else}}
    {{#each CartItems}} 
        <tr>
           <td>{{Name}}</td>
           <td>${{Price}}</td>
           <td>{{Quantity}}</td>
           <td>${{Total}}</td>
        </tr>
     {{/each}}
{{/unless}} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-10T18:30:28.597

目前没有内置的方法可以做到这一点，但是添加服务器端模板渲染是一个计划中的功能（尽管我在路线图上还没有看到它）：

> 这个版本的spiderable是专门为搜索引擎设计的。Meteor 的未来版本还将在初始页面加载时将 HTML 发送到 Web 浏览器。Meteor 模板系统是专门为支持这个用例而设计的。

( [http://meteor.com/faq/can-meteor-serve-static-html](http://meteor.com/faq/can-meteor-serve-static-html) )

虽然人们会说这违反了“仅通过网络发送数据”的理念，但对于需要良好 SEO 的网站来说，这是非常必要的，而且当您拥有相同的模板语言和框架可用于服务器和客户。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-05-01T06:39:26.993

如果您在 Node.JS 框架中寻找这种类型的功能，我建议您使用 Derby.JS [http://derbyjs.com/](http://derbyjs.com/)

# r - 我使用 R2WinBUGS 包时的错误

> ID：15081738
> 
> 赞同：-3
> 
> 时间：2013-02-26T05:04:57.520
> 
> 标签：r, winbugs

全部，我使用R包R2WinBUGS用R运行Winbugs。但是，程序不能正常工作。附上以下代码

*面板错误：*

```
model{
   for(i in 1:N){
       for(t in 1:T){
           y[i,t]~dnorm(mu[i,t],tau)
           mu[i,t]<-alpha+gamma1*a[i,t]+gamma2*b[i,t]+gamma3*c[i,t]+gamma4*d[i,t]+gamma5*e[i,t]+gamma6*f[i,t]
             }
     }

       gamma1~dnorm(1,25)
       gamma2~dnorm(1,25)
       gamma3~dnorm(1,25)
       gamma4~dnorm(1,25)
       gamma5~dnorm(1,25)
       gamma6~dnorm(1,25)
       alpha~dnorm(0,16) 
       tau~dgamma(1,1.75)
       sigma.tau<-1/sqrt(tau) 
```

}

和 R 代码

```
library(R2WinBUGS)
N=50
T=4
y=rnorm(50*4, mean = 0, sd = 1)
a=rnorm(50*4, mean = 0.1, sd = 1)
b=rnorm(50*4, mean = 0.2, sd = 1)
c=rnorm(50*4, mean = 0.3, sd = 1)
d=rnorm(50*4, mean = 0.4, sd = 1)
e=rnorm(50*4, mean = 0.5, sd = 1)
f=rnorm(50*4, mean = 0.6, sd = 1)

data=list("N","T","y","a","b","c","d","e","f")
inits = function() {list(alpha=0.99,gamma1=0.89,gamma2=0.2, gamma3=0.4, gamma4=0.1,     gamma5=1.1, gamma6=0.7,tau=0.1)}
parameter <- c("alpha","gamma1","gamma2","gamma3","gamma4","gamma5","gamma6","tau") 
msv.sim <- bugs(data,inits, parameter,model.file="c:/Bugs/msv/panel.bug",n.chains=2,
           n.thin=20,n.iter=1100,n.burnin=100,codaPkg=TRUE,debug=TRUE,DIC=TRUE,
           bugs.directory="C:/Program Files/WinBUGS14/",working.directory =  "c:/Bugs/msv/")
attach.bugs(msv.sim)
print(msv.sim,digits=4) 
```

但是，此代码有一些错误如下

```
display(log)
check(c:/Bugs/msv//panel.bug.txt)
model is syntactically correct
data(c:/Bugs/msv/data.txt)
expected key word structure
compile(2)
inits(1,c:/Bugs/msv/inits1.txt)
command #Bugs:inits cannot be executed (is greyed out)
inits(2,c:/Bugs/msv/inits2.txt)
command #Bugs:inits cannot be executed (is greyed out)
gen.inits()
command #Bugs:gen.inits cannot be executed (is greyed out)
thin.updater(20)
update(5)
command #Bugs:update cannot be executed (is greyed out)
set(alpha)
command #Bugs:set cannot be executed (is greyed out)
set(gamma1)
command #Bugs:set cannot be executed (is greyed out)
set(gamma2)
command #Bugs:set cannot be executed (is greyed out)
set(gamma3)
command #Bugs:set cannot be executed (is greyed out)
set(gamma4)
command #Bugs:set cannot be executed (is greyed out)
set(gamma5)
command #Bugs:set cannot be executed (is greyed out)
set(gamma6)
command #Bugs:set cannot be executed (is greyed out)
set(tau)
command #Bugs:set cannot be executed (is greyed out)
set(deviance)
command #Bugs:set cannot be executed (is greyed out)
dic.set()
command #Bugs:dic.set cannot be executed (is greyed out)
update(50)
command #Bugs:update cannot be executed (is greyed out)
coda(*,c:/Bugs/msv/coda)
command #Bugs:coda cannot be executed (is greyed out)
stats(*)
command #Bugs:stats cannot be executed (is greyed out)
dic.stats()

DIC
history(*,c:/Bugs/msv/history.odc)
command #Bugs:history cannot be executed (is greyed out)
save(c:/Bugs/msv/log.odc)
save(c:/Bugs/msv/log.txt) 
```

任何建议将不胜感激。非常感谢。

万海

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T10:13:13.727

您的数据是字符串列表。而是使用：

```
 data<-list(N=N,T=T,y=y,a=a,b=b,c=c,d=d,e=e,f=f) 
```

# gets - 尝试在 Sublime 中运行一个简单的 gets.chomp

> ID：15081742
> 
> 赞同：1
> 
> 时间：2013-02-26T05:05:10.343
> 
> 标签：gets, chomp

出于某种原因，当我运行时：

名称=gets.chomp

放名字

我得到错误：

获取：1：in `<main>': undefined method`chomp' for nil:NilClass (NoMethodError)

如果我删除 .chomp 并运行：

名称 = 获取

放名字

我没有得到任何提示或错误，控制台只是给了我完成的时间。我究竟做错了什么？

顺便说一句，我使用的是 Sublime，配置了 Ruby

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-19T10:05:23.293

您可以尝试在终端中运行此文件。像这样：

> 红宝石测试.rb

... #puts 名称 ...

如果它运行良好，则意味着您的问题是另一种情况。您可以在终端中转到[Sublime Text 2 Launch ruby​​ 文件](https://stackoverflow.com/questions/12406613/sublime-text-2-launch-ruby-file-in-terminal)

# android - Android SQLite Double 变量在获取时提供垃圾数据

> ID：15081743
> 
> 赞同：0
> 
> 时间：2013-02-26T05:05:33.940
> 
> 标签：android

我有一个这样定义的表

```
String currencyTableQueryString = "create table if not exists "
            + CURRENCY_NAME + " (" + CURRENCY_ROW_ID
            + " integer primary key autoincrement not null,"
            + CURRENCY_USD + " double," + CURRENCY_INR + " double,"
            + CURRENCY_EUR + " double," + CURRENCY_GBP + " double"
            + ");"; 
```

我将数据从 JSON 存储在此表中。例如，我已经存储了这些数据

```
CURRENCY_USD = 1.0
CURRENCY_INR = 53.997369
CURRENCY_EUR = 0.764879
CURRENCY_GBP = 0.658136 
```

在我的下一个活动中，我从数据库中获取这些数据

```
Ccursor = db.query(CURRENCY_NAME, new String[] { CURRENCY_ROW_ID, CURRENCY_USD, CURRENCY_INR,
            CURRENCY_EUR, CURRENCY_GBP }, null, null, null, null, null); 
```

当我获取时，我总是得到错误的数据。它在我的所有领域都给了我非常高的数字。我不确定我做错了什么。（PS 我是 Java 和 Android 编程的新手）。

这是插入上述数字时提取的输出

```
CURRENCY_USD = 1.072693248E9
CURRENCY_INR = -1.0925335E8
CURRENCY_EUR = -1.80473634E8
CURRENCY_GBP = 9.1173113E7 
```

有人可以指导我这里出了什么问题吗？

这是我的获取光标。

```
ArrayList<ArrayList<Object>> dataArrays = new ArrayList<ArrayList<Object>>();

    Cursor Ccursor;

    try {
        // ask the database object to create the cursor.
        Ccursor = db.query(CURRENCY_NAME, new String[] { CURRENCY_ROW_ID, CURRENCY_USD, CURRENCY_INR,
                CURRENCY_EUR, CURRENCY_GBP }, null, null, null, null, null);

        // move the cursor's pointer to position zero.
        Ccursor.moveToFirst();

        // if there is data after the current cursor position, add it
        // to the ArrayList.
        if (!Ccursor.isAfterLast()) {
            do {
                ArrayList<Object> dataList = new ArrayList<Object>();

                dataList.add(Ccursor.getLong(0));
                dataList.add(Ccursor.getDouble(1));
                dataList.add(Ccursor.getDouble(2));
                dataList.add(Ccursor.getDouble(3));
                dataList.add(Ccursor.getDouble(4));

                dataArrays.add(dataList);
            }
            // move the cursor's pointer up one position.
            while (Ccursor.moveToNext());
        }
        Ccursor.close();
    } catch (SQLException e) {
        Log.e("DB Error in Currency Retreive all", e.toString());
        e.printStackTrace();
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:35:04.007

您可以将数据库从 ddms 查看数据 - 数据导出到桌面并使用 SqliteBrowser [Link](http://master-gtu.blogspot.in/2012/10/download-sqlite-database-browser.html)检查它，确保插入数据是否正确，然后使用一些 id 获取数据并检查它

# iphone - iPhone 界面方向

> ID：15081744
> 
> 赞同：0
> 
> 时间：2013-02-26T05:05:37.973
> 
> 标签：iphone, ios, objective-c, orientation

在我的 iphone 应用程序中，我已将支持的方向标记为如下屏幕截图。

![在此处输入图像描述](../Images/ee7bfb7a45e402221cc5b53203f45e5b.png)

但我想阻止一些关于自动旋转的看法，因为我使用下面的代码（ios6）

**编辑**

```
-(BOOL)shouldAutorotateToInterfaceOrientation: (UIInterfaceOrientation)toInterfaceOrientation
{
return (toInterfaceOrientation == UIInterfaceOrientationPortrait);
}

- (BOOL)shouldAutorotate
{
return NO;
 } 
```

但视图仍然旋转，请帮我解决问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T05:11:08.997

iOS 6.0 引入了新的旋转方法并且不调用`shouldAutorotateToInterfaceOrientation:`.

您需要实现这些方法以同时支持 pre-iOS 6.0 和 iOS 6.0+：

```
// Do as many checks as you want to allow for other orientations here for pre-iOS 6

- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation
{
    return (toInterfaceOrientation == UIInterfaceOrientationPortrait);
}

// You can return YES here as this still checks supportedInterfaceOrientations
// before rotating, or you can return NO to 'lock' the view in whatever it's in... 
// Making sure to return the appropriate value within supportedInterfaceOrientations

- (BOOL)shouldAutorotate
{
    return YES;
}

// return supported orientations, bitwised OR-ed together

- (NSUInteger)supportedInterfaceOrientations
{
    return UIInterfaceOrientationMaskPortrait;
} 
```

**编辑-如果您`UIViewController`在 a`UINavigationController`的层次结构中**

如果您的视图控制器在 a`UINavigationController`的视图层次结构中，则实际上在导航控制器（而不是视图控制器）上调用了旋转方法……在我看来，Apple 实现了这一点很有趣，但是您可以采取以下措施来允许视图控制器来响应这些方法，而不是-

使用以下方法创建一个类别`UINavigationController`：

```
// UINavigationController+Additions.h file

@interface UINavigationController (Additions)
@end

// UINavigationController+Additions.m file

#import "UINavigationController+Additions.h"

@implementation UINavigationController (Additions)

- (BOOL)shouldAutorotate
{
    return YES;
}

- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation
{
    UIViewController *viewController = [self topViewController];

    if ([viewController respondsToSelector:@selector(shouldAutorotateToInterfaceOrientation:)])
    {
        return [viewController shouldAutorotateToInterfaceOrientation:toInterfaceOrientation];
    }

    return [super shouldAutorotateToInterfaceOrientation:toInterfaceOrientation];
}

- (NSUInteger)supportedInterfaceOrientations
{
    UIViewController *viewController = [self topViewController];

    if ([viewController respondsToSelector:@selector(supportedInterfaceOrientations)])
    {
        return [viewController supportedInterfaceOrientations];
    }

    return [super supportedInterfaceOrientations];
}

@end 
```

**编辑 2 - 如果您`UIViewController`在 a`UITabBarController`的标签内**

如果您的视图控制器位于 a`UITabBarController`的选项卡中，也会出现同样的问题。

再次创建一个类别`UITabBarController`以允许视图控制器响应：

```
// UITabBarController+Additions.h file

@interface UITabBarController (Additions)
@end

// UITabBarController+Additions.m file

#import "UITabBarController+Additions.h"

@implementation UITabBarController (Additions)

- (BOOL)shouldAutorotate
{
    return YES;
}

- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)toInterfaceOrientation
{
    UIViewController *selectedViewController = [self selectedViewController];

    if ([selectedViewController respondsToSelector:@selector(shouldAutorotateToInterfaceOrientation:)])
    {
    return [selectedViewController shouldAutorotateToInterfaceOrientation:toInterfaceOrientation];
    }

    return [super shouldAutorotateToInterfaceOrientation:toInterfaceOrientation];
}

- (NSUInteger)supportedInterfaceOrientations
{
    UIViewController *selectedViewController = [self selectedViewController];

    if ([selectedViewController respondsToSelector:@selector(supportedInterfaceOrientations)])
    {
        return [selectedViewController supportedInterfaceOrientations];
    }

    return [super supportedInterfaceOrientations];
}

@end 
```

**编辑 3**

这里还有一些关于 Objective-C 类别的链接：

[http://macdevelopertips.com/objective-c/objective-c-categories.html](http://macdevelopertips.com/objective-c/objective-c-categories.html)

[http://mobile.tutsplus.com/tutorials/iphone/objective-c-categories/](http://mobile.tutsplus.com/tutorials/iphone/objective-c-categories/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T05:11:02.117

`shouldAutorotateToInterfaceOrientation`在 iOS 6 中已弃用。

查看[此问题](https://stackoverflow.com/questions/12577879/shouldautorotatetointerfaceorientation-is-not-working-in-ios-6)的答案以获取更多详细信息。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T05:15:09.557

如果你想修复特定视图的方向试试这个，

```
-(BOOL)shouldAutorotate
{
    return YES;
}
- (NSUInteger)supportedInterfaceOrientations
{
    return UIInterfaceOrientationMaskPortrait; //IOS_6
} 
```

**编辑**

当你有标签栏时，你需要解决这个问题。请看链接。希望能有所帮助。

1.  [链接 1](https://stackoverflow.com/questions/3166050/tabbar-nav-app-allowing-one-view-to-rotate-while-others-do-not)
2.  [链接 2](https://stackoverflow.com/questions/12630359/ios-6-how-do-i-restrict-some-views-to-portrait-and-allow-others-to-rotate)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T05:16:00.000

据我所知，你最好也写另外两个方法如下

```
- (BOOL)shouldAutorotate
{
    return NO;
}
- (NSUInteger)supportedInterfaceOrientations
{
    return UIInterfaceOrientationMaskPortrait;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-26T05:16:46.107

你真的想要你的方向颠倒还是只是纵向？我为纵向构建了我的应用程序，请尝试此代码（对于纵向，如果其他，请修改）

```
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
// Return YES for supported orientations
if(interfaceOrientation == UIInterfaceOrientationPortrait)
    return YES;

return NO;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-26T05:33:27.210

当涉及`UINavigationController`or时，将/和`UITabBarController`子类化。 `UINavigationController``UITabBarController``overriding supportedInterfaceOrientations`

```
 #import "UINavigationController+Orientation.h"

 @implementation UINavigationController (Orientation)

-(NSUInteger)supportedInterfaceOrientations
{
    return [self.topViewController supportedInterfaceOrientations];
}

-(BOOL)shouldAutorotate
{
    return [self.topViewController shouldAutorotate];
}

@end 
```

// 为了`UITabBarController`

```
#import "UITabBarController+Orientation.h"

@implementation UITabBarController (Orientation)

-(BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation
{
    // You do not need this method if you are not supporting earlier iOS Versions
    return [self.selectedViewController  shouldAutorotateToInterfaceOrientation:interfaceOrientation];
}

-(NSUInteger)supportedInterfaceOrientations
{
    return [self.selectedViewController supportedInterfaceOrientations];
}

-(BOOL)shouldAutorotate
{
    return YES;
}

@end 
```

现在，iOS 容器（例如 UINavigationController）不会咨询它们的子容器来确定它们是否应该自动旋转。
**如何子类**
1\. 添加一个新文件（cocoa touch 下的Objective c- category）
2\. `Category`: Orientation `Category On`: UINavigationController
3\. 将以上代码添加到`UINavigationController+Orientation.m`

# powerbuilder - 从 PowerBuilder 查询 Ancestor 中的 PostEevent

> ID：15081747
> 
> 赞同：0
> 
> 时间：2013-02-26T05:06:03.047
> 
> 标签：powerbuilder

我有一个疑问，

我有一个祖先窗口。在祖先窗口的打开事件中，有一个发布事件。当我们打开后代窗口时，该 postevent 将在后代窗口中工作？

请任何人对此进行解释。

注意：在后代窗口打开事件已检查扩展祖先脚本。

问候， 安巴特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:49:02.443

在 PowerBuilder 中，事件首先从祖先调用。所以假设你有 w_grandfather => w_father => w_child，其中 w_grandfather 是基类（祖先）。首先 w_grandfathers 事件将在 w_father 事件之后触发 w_child 事件。

如果您取消选中扩展祖先脚本，例如在 w_father 并在那里编写脚本，则不会触发 w_grandfathers 事件。第一个 w_fathers 事件将触发，然后是 w_child 的。在这种情况下，如果您想调用 w_grandfather 的事件，您必须显式编写如下代码：

超级::事件打开（）

另请注意，当您使用 postevent 时，您的事件将在事件列表中的最后一个事件之后触发。如果您需要“随意开火”:) 您需要使用触发事件。

我希望这有帮助。随意问！祝你今天过得愉快！

兄弟。加博尔

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-27T23:02:13.097

无论方法是事件还是函数，无论是直接调用还是发布，PowerBuilder都会首先在被实例化的对象中，即后代中寻找方法。如果找到匹配的脚本方法，PowerBuilder 将执行它。如果未找到该方法，PowerBuilder 将向上搜索祖先链，直到找到匹配的脚本化方法。重要的是要了解找到的第一个脚本化方法将被执行，仅此而已。PowerBuilder 的“扩展祖先”功能使事件变得混乱。如果您查看导出的语法，您将看到如果您选中此框，PowerBuilder 会在脚本开头插入对直接祖先的调用，使用`call`句法。这就是 DARKinVADER 所说的首先从祖先调用事件时所指的内容。您应该明白，这只会发生，因为默认情况下，每个后代脚本都在调用其直接祖先。如果您在祖父的脚本中放置一个断点，您将在调用堆栈中看到所有脚本化的后代方法。

因为 PowerBuilder 在幕后插入了对祖先的调用，所以许多开发人员没有意识到，当您扩展一个事件时，您将负责`ancestorreturnvalue`. 如果你不做任何事情，`ancestorreturnvalue`它就会丢失。您可以通过这种方式破坏框架。例如，您可以通过扩展 u_dw 的事件而不`ancestorreturnvalue`正确处理来破坏 PFC 链接服务。

# shell - /flt/ 是否替换 awk 中的变量“flt”？

> ID：15081748
> 
> 赞同：-1
> 
> 时间：2013-02-26T05:06:08.773
> 
> 标签：shell, unix, awk

22个内容：

```
/dev/sda3            236235512  97617352 126618008  44% /
/devtmpfs               8388608        92   8388516   1% /dev
/dev/sda1              2063504     97580   1861104   5% /boot 
```

* * *

对于脚本 1-4，结果是：`/devtmpfs 8388608 92 8388516 1% /dev`，但脚本 5 没有输出。

1.  `awk -F"[ ]+" "{if(\$6 ~ /dev/) print \$0}" 22`
2.  `flt=dev ; awk -F"[ ]+" "{if(\$6 ~ /$flt/) print \$0}" 22`
3.  `awk -F"[ ]+" '{if($6 ~ flt) print $0}' flt=dev 22`
4.  `awk -F"[ ]+" '{if($6 ~ /dev/) print $0}' 22`
5.  `awk -F"[ ]+" **'{if($6 ~ /flt/)** print $0}' flt=dev 22`

最后一个示例中的 'flt'是否将`/flt/`变量替换为正则表达式？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:24:50.170

`/flt/`表示与输入文件中不存在的正则表达式匹配`flt`，因此不匹配..

# actionscript-3 - AS3 定时器或帧率

> ID：15081751
> 
> 赞同：4
> 
> 时间：2013-02-26T05:06:21.353
> 
> 标签：actionscript-3, timer

好的，所以我听说基于计时器的运动比 FR 更好。V = V + n 每 1/60 秒，而不是每帧 @ 60 fps。他们说它使速度变得实际，而不是因为 FR 滞后而降低。但是当我尝试过时，计时器真的一点也不可靠。难道我做错了什么？原因 Timer(20,0) 随着动画的进行而变慢。**所以没有区别，如果剪辑超重，无论基于计时器还是FR**，它都会减慢速度？是的，我有一个测试剪辑，每秒钟都会做出新的形状，所以一段时间后会有很多，但计时器真的比我的时钟慢，秒变长。但是计时器是额外的工作要做，更令人头疼。**所以这不值得还是我用错了？**（没有让它优先于其他功能吗？）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T05:32:13.563

是的，如果您的 SWF 能够在不到一帧的长度内渲染舞台，那么两者都很好，否则，无论您做什么，您的帧率都会受到影响。如果您想要这么大的 FPS，您需要调整 SWF 的性能。此外，计时器触发其事件的速度不能超过每帧一次。（事实上​​，我认为帧时间方法通常更好，因为您不知道您的 SWF 是否会在速度足够慢的 PC 上运行，否则将无法与正常时间流竞争。）

在您的情况下，我会放弃计时器，它们每帧再抛出一个事件，它们在很大程度上是不可靠的，因为它们的事件是异步的，这意味着您不能始终说计时器事件将在下一帧之前触发，并且使用更大的间隔计时器，a主机 PC 的任何延迟都会破坏许多玩家的乐趣。（我记得 Pyro 与我的旧 PIII，它使用系统时间来记录关卡节拍时间，但是一旦你开球就无法加快速度，而且动画重到会降低帧率，基本上阻止了我快速时间分数。）您的计时器已经在每帧大约触发一次事件，并且无法变得更快。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T05:39:49.713

AS3 中的定时器确实不可靠。AS3 中的计时器的值不能低于 1000。Adobe 正式记录了这一点。您还可以对限制为 1000 毫秒的计时器进行测试，您会注意到它会以 800-999 毫秒的间隔随机触发，这永远不会准确。

如果你想制作一个帧限制/免费的应用程序，一个更好的候选者是“getTimer”。您可以使用传递的毫秒数来计算传递的正确时间量，然后渲染一帧。

看一下这个项目中的Clock类： [Realtime Clock](https://code.google.com/p/papersteer/source/browse/trunk/branches/papersteer/src/tabinda/papersteer/Clock.as)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T06:00:34.427

你没有做错什么。它不太理想，但 Flash 将更新限制为最大帧速率，这意味着`Timer`事件不准确。就个人而言，我倾向于使用基于帧的循环来对时间敏感，该循环使用 检查当前系统时间`new Date().getTime()`，所以我会使用类似的东西：

```
private var lastFrameTime:Number = new Date().getTime();
private var now:Number;

addEventListener(Event.ENTER_FRAME, frameTick);

private function frameTick(e:Event):void {
    now = new Date().getTime();
    V = V + n * (now - lastFrameTime) * 0.001;
    lastFrameTime = now;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-10-30T12:03:07.560

可能这会有所帮助。

```
public class Timer extends EventDispatcher
{
    private var instance:int;
    private var _interval:Number;
    private var _updateInterval:uint;
    private var _lastCount:int
    private var _repeatCount:int;
    private var _count:int;
    private var _started:Boolean;
    public function Timer(interval:Number,repeatCount:int=0)
    {
        _interval=interval;
        _repeatCount=repeatCount;
    }

    private function checkTime():void
    {
        var curCount:int=int(currentTime()/_interval);
        if(curCount<=_lastCount)return;

        _lastCount=curCount
        _count++;

        dispatchEvent(new TimerEvent(TimerEvent.TIMER));

        if(_count==_repeatCount&&_repeatCount>0)
        {
            stop();
            dispatchEvent(new TimerEvent(TimerEvent.TIMER_COMPLETE));
            _count=0;
        }
    }
    public function start():void
    {
        if(_started)return;
        _started=true;
        instance = getTimer();
        _updateInterval=setInterval(checkTime,10);

        _lastCount=int(currentTime()/_interval);
    }
    public function stop():void
    {
        _started=false;
        clearInterval(_updateInterval);
    }
    public function reset():void
    {
        _count=0;
        stop();
        start();
    }
    private function currentTime():Number
    {
        if (instance == 0)
        {
            instance = getTimer();
        }
        return (getTimer() - instance);
    }
    public function get currentCount():int
    {
        return _count;
    }
} 
```

# c - UNICODE_STRING 是否为空？

> ID：15081756
> 
> 赞同：0
> 
> 时间：2013-02-26T05:07:03.790
> 
> 标签：c, windows, unicode, unicode-string

如何检查 UNICODE_STRING 结构的缓冲区是否为空？它在访问缓冲区值时崩溃，如果为 null，但是当我检查它是否为 null 时，它返回 true。

```
if ( &struct.name.Buffer ){  --------------> this is returning true.
     name = wcscmp(
              (const wchar_t*)struct.name.Buffer,  --------------> crashing code.
              (const wchar_t*)localName);   
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T05:10:25.393

You simply do `if ( struct.name.Buffer )`. The ampersand gives you the address of the pointer `Buffer`, but not its value.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T05:19:26.260

检查指针 struct.name.Buffer 内的地址是否有效

# xslt - Insert XPath during copy using apply-templates

> ID：15081758
> 
> 赞同：1
> 
> 时间：2013-02-26T05:07:20.390
> 
> 标签：xslt, match

I've created an XSLT using an identity template and several templates that match to a potential XPath in the source. However, the matching paths do not always exist. Is there a way to "insert" the path before the matching template applies? Since I know XSLT does not execute procedurally, I wasn't sure how to do this. Examples below.

Let's say this is the XSLT:

```
<xsl:template match="@* | node()">
        <xsl:copy>
            <xsl:apply-templates select="@* | node()"/>
        </xsl:copy>
    </xsl:if>
</xsl:template>

<xsl:template match='pathA'>
   do stuff
</xsl:template>

<xsl:template match='pathB'>
  do something
</xsl:template>

<xsl:template match='pathC'>
   do other stuff
</xsl:template> 
```

And let's say this in the input:

```
<root>
    <Child>
        <pathA>I have Data!</pathA>
        <pathC>We skipped B!</pathC>
    </Child>
</root> 
```

Is there a way to "create" `pathB` so that the template that matches the XPath can execute?

Thanks again for any assistance!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:27:31.387

好一个。怎么样...

```
<xsl:template name="pathB">
    <xsl:param name="nodes"/>
    do something 
</xsl:template>

<xsl:template match="Child">
    <xsl:copy>
        <xsl:apply-templates select="@* | pathA[not(../pathB)] | pathB/preceding-sibling::node()"/>
    </xsl:copy>

   <xsl:call-template name="pathB">
       <!-- pass the set of elements of type "pathB", possibly an empty nodeset -->
       <xsl:with-param name="nodes" select="pathB"/>
   </xsl:call-template>

    <xsl:copy>
        <xsl:apply-templates select="node()[not(self::pathA) and not(../pathB)] | pathB/following-sibling::node()"/>
    </xsl:copy>
<xsl:template> 
```

# php - how to create exe for php standalone application?

> ID：15081762
> 
> 赞同：-7
> 
> 时间：2013-02-26T05:07:49.243
> 
> 标签：php, batch-file

> How to create .exe for php standalone application?

I have created application that runs on localhost.This application is developed for local use.so i have look up for that type of setup that:

1.create php setup,

2.create shortcut,

3.install apache and mysql and start mysql and apache server,

4.onclick shortcut,project run in browser

> **LATER UPDATE**
> Is it good way to create batch file that done upper things and is it possible?
> if possible, please suggest some examples.

Thanks in advance.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T05:12:50.877

Short answer: Not possible.

Long answer: It depends.

You could install a web- and database server on his machine (or create an installer that does it) and run the application locally on his machine.

or

You keep the application on a server and just provide a launcher that opens his browser and points it to the URL of the application.

It might be a good idea to switch to SQLite instead of MySQL but depending on how your application is written it might require a lot of code and SQL Query changes.

[PHP Desktop](http://code.google.com/p/phpdesktop/) which allows you to create desktop apps in the same way as you build websites with php/html/js.

The convenient solution is not to convert the website to .exe. I think it will be better if you have portable [server/php/mysql](http://portableapps.com/apps/development/xampp) and make the website work from a usb or CD with autorun.

# jquery - 从 jQuery ajax 调用 WebMethod 会导致内部服务器错误并且 Web 服务方法无效

> ID：15081766
> 
> 赞同：0
> 
> 时间：2013-02-26T05:08:12.710
> 
> 标签：jquery, asp.net, ajax, web-services, webmethod

我正在尝试在 GetPlaform() javascript 函数中使用 ajax 调用 GetPlatformNames() webmethod。
但是，ajax 调用永远不会成功。
在错误警报中，我收到“内部服务器错误”消息。
我使用了萤火虫并在错误中的警报上放置了一个断点。request.responstext 声明如下：

```
 System.InvalidOperationException: GetPlatformNames Web Service method name is not valid.
 at System.Web.Services.Protocols.HttpServerProtocol.Initialize()
 at System.Web.Services.Protocols.ServerProtocolFactory.Create(Type type, 
  HttpContext context, HttpRequest request, HttpResponse response, Boolean& abortProcessing). 
```

这是我正在使用的代码。
我正在使用 Visual Studio 2012。
我正在使用内置的 IIS。

```
 namespace XYZ
    {
//// <summary>
/// Summary description for Platform
/// </summary>
[WebService(Namespace = "http://tempuri.org/")]
[WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]
[System.ComponentModel.ToolboxItem(false)]
// To allow this Web Service to be called from script, using ASP.NET AJAX, uncomment the following line. 
[System.Web.Script.Services.ScriptService]
public class Platform : System.Web.Services.WebService
{
    [WebMethod]        
    public static string GetPlatformNames()
    {
        var result ="Hello World";
        return result;
    }
    [WebMethod]
    public static string GetServerTimeString()
    {
        return "Current Server Time: " + DateTime.Now.ToString();
    }
    [WebMethod]
    public static void AddaPlatform(string platforName)
    {
        //Code to insert into database
    }
}   
  }

function GetPlatforms() {  
var param = '{platformName:"'+$("#platformNameInputTextBoxId").val()+'"}';
$.ajax({
    type: 'POST',
    url: 'Platform.asmx/GetPlatformNames',
    statusCode: {
        404: function () {
            alert('Could not contact server.');
        },
        500: function () {
            alert('A server-side error has occurred.');
        }
    },
    success: function (data) {
        alert(data);
    },
    error: function(request,status,error) {
        alert(request.statusText);
    }
});
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T10:52:36.037

请`static`从您正在调用的网络方法中删除关键字。然后它将起作用。

# android - 添加 xml 设计作为新视图，然后我可以在需要时添加到其他布局

> ID：15081769
> 
> 赞同：0
> 
> 时间：2013-02-26T05:08:16.250
> 
> 标签：android, xml, view, android-custom-view

我将以下 xml 文档制作为自定义设计的按钮：

```
<?xml version="1.0" encoding="utf-8"?>
    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
        android:id="@+id/CBN_LinearLayout"
        style="@android:style/Widget.Button"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical" >

<FrameLayout

    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_gravity="center_vertical"
    android:fadingEdge="horizontal" >

    <ImageView
        android:id="@+id/imageView1"
        android:layout_width="15dp"
        android:layout_height="15dp"
        android:layout_gravity="center_horizontal"
        android:layout_marginLeft="4dp"
        android:layout_marginTop="1dp"
        android:contentDescription="@string/redcirclenotify"
        android:src="@drawable/rednotify"
        android:visibility="visible" />

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical" >

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content" >

            <TextView
                android:id="@+id/CBV_texview1"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:layout_gravity="right"
                android:layout_marginRight="10dp"
                android:layout_weight="1"
                android:gravity="right"
                android:text="@string/checkorder" />

            <TextView
                android:id="@+id/CBV_textview2"
                android:layout_width="fill_parent"
                android:layout_height="fill_parent"
                android:layout_weight="1"
                android:gravity="left"
                android:text="@string/zero"
                android:visibility="visible" />

        </LinearLayout>

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content" >

            <TextView
                android:id="@+id/CBV_textview3"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:fadingEdge="horizontal"
                android:gravity="center_horizontal"
                android:text="@string/blankstring" />

            <TextView
                android:id="@+id/CBV_textview4"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:gravity="center_horizontal"
                android:text="@string/blankstring" />
        </LinearLayout>

    </LinearLayout>

</FrameLayout>

 </LinearLayout> 
```

我想知道是否可以在 ADK 的自定义部分中使其成为可访问的视图，而无需创建自定义类。如果我必须创建一个自定义类扩展视图，有没有办法引用这个布局的细节，因为我不想在类中对其进行编程。

感谢您的任何见解！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T05:13:44.560

您始终可以在需要的地方引用此布局。只需将此布局包含在您需要的其他布局 xml 中，如下所示：

```
 <include
    android:layout_width="fill_parent"
    android:layout_x="0px"
    android:layout_y="0px"
    layout="@layout/ur custom layout" /> 
```

可以参考[这个](http://developer.android.com/training/improving-layouts/reusing-layouts.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T05:14:20.553

您可以在 java 文件中使用通货膨胀。

```
final LayoutInflater lyInflater = (LayoutInflater) mContext
                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
LinearLayout lLayout = (LinearLayout) lyInflater.inflate(
                R.layout.my_xml, null); 
```

或者您可以[将](http://developer.android.com/training/improving-layouts/reusing-layouts.html)其包含在 xml 文件中。

# c# - 如何在c#中读取excel 2007

> ID：15081770
> 
> 赞同：-1
> 
> 时间：2013-02-26T05:08:28.187
> 
> 标签：c#, asp.net

我的服务器没有任何 Microsoft Office，我不想安装 Microsoft Office。

当我使用此代码读取 Excel 2007 文件时

```
Provider=Microsoft.ACE.OLEDB.12.0;Data Source=c:\myFolder\myOldExcelFile.xls;
Extended Properties="Excel 8.0;HDR=YES"; 
```

它无法读取 Excel 文件。有谁知道出了什么问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T05:14:42.927

您可以使用[EPPlus](http://epplus.codeplex.com/)

> EPPlus 是一个 .net 库，它使用 Open Office Xml 格式 (xlsx) 读取和写入 Excel 2007/2010 文件。

不必安装 MS Office。

打开的示例脚本`.xlsx`：

```
using OfficeOpenXml; 
```

```
// Get the file we are going to process
var existingFile = new FileInfo(filePath);
// Open and read the XlSX file.
using (var package = new ExcelPackage(existingFile))
{
    // Get the work book in the file
    ExcelWorkbook workBook = package.Workbook;
    if (workBook != null)
    {
        if (workBook.Worksheets.Count > 0)
        {
            // Get the first worksheet
            ExcelWorksheet currentWorksheet = workBook.Worksheets.First();

            // read some data
            object col1Header = currentWorksheet.Cells[0, 1].Value;
            ... 
```

代码示例来自：[http ://blog.fryhard.com/archive/2010/10/28/reading-xlsx-files-using-c-and-epplus.aspx](http://blog.fryhard.com/archive/2010/10/28/reading-xlsx-files-using-c-and-epplus.aspx)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T05:11:00.293

很高兴看到您没有在服务器上安装 Office 并遵循 Office[服务器端自动化的注意事项](http://support.microsoft.com/kb/257757)。

确保您在服务器上安装了[Microsoft Access Database Engine Redistributable](http://www.microsoft.com/en-us/download/details.aspx?id=13255)，这是针对 Office 2010 (v14) 的，2007 (v12) 应该很容易找到。

这是：[2007 Office System 驱动程序：数据连接组件](http://www.microsoft.com/en-us/download/details.aspx?id=23734)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T05:18:14.860

//启动excel读取有问题的excel文件

示例代码将帮助您实现这一目标。

```
 Microsoft.Office.Interop.Excel.Application ExcelObj = null;

    ExcelObj = new Microsoft.Office.Interop.Excel.Application();
    if (ExcelObj == null)

    {

     MessageBox.Show("ERROR: EXCEL couldn't be started!");

     System.Windows.Forms.Application.Exit();

    }

    Microsoft.Office.Interop.Excel.Workbook theWorkbook = ExcelObj.Workbooks.Open(openFileDialog.FileName, Type.Missing, Type.Missing, Type.Missing, Type.Missing,

    Type.Missing, Type.Missing, Type.Missing, Type.Missing,

    Type.Missing, Type.Missing, Type.Missing, Type.Missing,

    Type.Missing, Type.Missing);

    Microsoft.Office.Interop.Excel.Sheets sheets = theWorkbook.Worksheets;

    Microsoft.Office.Interop.Excel.Worksheet worksheet = (Microsoft.Office.Interop.Excel.Worksheet)sheets.get_Item(1);

    for(int x = 1; x <= 29; x++)

    {

    Microsoft.Office.Interop.Excel.Range range = worksheet.get_Range("A"+x.ToString(), "I" + x.ToString());

    System.Array myvalues = (System.Array)range.Cells.get_Value(range.);

    string[] strArray = ConvertToStringArray(myvalues);

    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T05:35:07.550

您可以`.dll`从 microsoft 站点下载并在您的项目中使用它。
你不需要在那里安装microsoft excel。

您可以使用 ado.net 阅读它

```
 var myConnection = new OleDbConnection("provider=Microsoft.Jet.OLEDB.4.0;
       Data Source='c:\\Language_Batch1_OneClick.xls';Extended Properties=Excel 8.0;");
    var myCommand = new OleDbCommand();
    var upCommand = new OleDbCommand();
    int i = 0;
    try
    {

        string sql = null;
        myConnection.Open();
        myCommand.Connection = myConnection;
        sql = "select ANSWER_CODE,Punjabi from [Batch_Lang_1$]";
        myCommand.CommandText = sql;
        var dataReader = myCommand.ExecuteReader();

        while (dataReader.Read())
        {
            var langText = dataReader["Punjabi"].ToString();
        } 
```

# macos - .git folder disappeared, git status gives "Not a git repository"

> ID：15081773
> 
> 赞同：2
> 
> 时间：2013-02-26T05:08:44.687
> 
> 标签：macos, git, github, osx-mountain-lion, smartgit

I have been using a git repository on my MacBook Pro (OS X Mountain Lion) for several months. Mostly, I've been using the SmartGit client, but also command line. Today, I changed several files and went to SmartGit to commit and push, and SmartGit had "missing" by the repo name.

Using Finder, I confirmed that the working tree folder and subfolders were all in good shape.

On the command line, "ls -a" showed a .gitignore file but no .git folder in the working tree folder.

Tried "git status" and it gave:

> fatal: Not a git repository (or any of the parent directories): .git

I do have the same repository on a Windows machine as well, where it's working fine. It's just missing those changed files on the MacBook Pro that hadn't been committed yet.

Suggestions on how to proceed?

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-26T06:05:23.240

我建议您`git clone`将存储库从您的 Windows 机器复制到一个临时目录（复制它也应该这样做），然后将该`.git`目录移动到您的原始工作目录。

# f# - 来自其他 .NET 语言的重载运算符

> ID：15081774
> 
> 赞同：4
> 
> 时间：2013-02-26T05:08:44.943
> 
> 标签：f#

F# 如何处理来自其他 .NET 语言的重载运算符。

例如，我正在使用一个库，其中 != 已被重载以返回对象本身的新实例。

例如。

```
Object newObject = a != b; 
```

当我在 F# 中对同一对象使用 <> 运算符时，将返回 bool 类型的值。这是什么原因？不应该使用重载运算符吗？如果不是，我如何将这些运算符重载扩展到 F#？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T11:53:14.930

大多数重载运算符（+、* 等）都可以毫无问题地从 F# 调用。但是，F# 的相等和比较运算符没有重载（F# 使用结构相等代替），因此您需要手动调用自定义运算符（例如`MyType.(<>)`）。

# sockets - Haskell 'timeout' function doesn't work when applies to 'connect'

> ID：15081787
> 
> 赞同：1
> 
> 时间：2013-02-26T05:09:55.780
> 
> 标签：sockets, networking, haskell, tcp

My code is something like this:

```
connectFarEnc ip port = withSocketsDo $ do
  addrinfo <- getAddrInfo (Just (defaultHints {addrFlags = [AI_PASSIVE]})) ip (Just port)
  let addr = head addrinfo          
  sock <- socket (addrFamily addr) Stream defaultProtocol 
  connected <- timeout 2000000 $ connect sock (addrAddress addr)
  print $ show connected
  return (sock, connected) 
```

I expect timeout of two second if cannot connect to the server, but it doesn't work. Instead, throw out an exception of connection failed, and quit the program.

How should I deal with this situation to avoid quit?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T22:32:54.670

你从服务器得到了一个明确的答案，它产生了一个“连接被拒绝”。超时适用于您根本没有得到答案的情况。

# android - Generate Sequence Number in Edittext Android

> ID：15081788
> 
> 赞同：1
> 
> 时间：2013-02-26T05:09:56.347
> 
> 标签：android, android-edittext

I want to generate sequence number in EditText when I press enter button.
Detail explanation :
Everytime I want to write a character for the first time in edittext should begin with this string --> "1."
And after I finish write the sentence and press enter button (new line), the next sentence should begin with the next sequence number

For example : When I write in edittext for the first time like this

> this is the first sentence

, it should be like this

> 1.) this is the first sentence

And then when I press enter button to write the next sentence like this

> this is the second sentences

it should be like this

> 2.) this is the second sentences

I try to write the code, but there was an unexpected result when I try to write the first character in EditText
This is my whole code :

```
public class MainActivity extends Activity {

    private EditText mET;

    public int getCurrentCursorLine(EditText editText)
    {    
        int selectionStart = Selection.getSelectionStart(editText.getText());
        Layout layout = editText.getLayout();

        if (!(selectionStart == -1)) {
            return layout.getLineForOffset(selectionStart);
        }

        return -1;
    }

    private final TextWatcher mTextEditorWatcher = new TextWatcher() {

        @Override
        public void onTextChanged(CharSequence s, int start, int before, int count) {
            // TODO Auto-generated method stub

            mET.setOnKeyListener(new View.OnKeyListener() {

                @Override
                public boolean onKey(View v, int keyCode, KeyEvent event) {
                    // TODO Auto-generated method stub
                    int startCursor = 0;
                    startCursor = mET.getSelectionStart();

                    if (keyCode == KeyEvent.KEYCODE_ENTER || keyCode == KeyEvent.KEYCODE_DPAD_CENTER) {

                        mET.getText().insert(startCursor, "\n" + String.valueOf(getCurrentCursorLine(mET)+2) + ".) ");

                        return true;
                    }
                    return false;
                }
            });

        }

        @Override
        public void beforeTextChanged(CharSequence s, int start, int count,
                int after) {
            // TODO Auto-generated method stub

        }

        @Override
        public void afterTextChanged(Editable s) {
            // TODO Auto-generated method stub

        }
    };

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        mET = (EditText) findViewById(R.id.mEditText);

        Editable text = mET.getText();
        text.insert(mET.getSelectionStart(), "1.) ");

        mET.addTextChangedListener(mTextEditorWatcher);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.main, menu);
        return true;
    }

} 
```

That's my whole code guys..
By using my code above, the result was become like this :

> 1.) this is the first sentence
> 2.)
> 3.) this is the second sentences
> 4.)
> 5.) this is the third sentences

The question is, why it was executed twice?

And, when I pressed enter button to insert a new line in the line 2 for example, the result was become like this :

> 1.) this is the first sentence
> 2.) this is the second sentences
> 3.)
> 4.)
> 3.) this is the second sentences
> 4.)
> 5.) this is the third sentences

I want to update the whole number when I insert a new line in the random line.
now I need your help to fix it.

Thanks!

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:34:49.400

我认为你需要`\n`从下面的行中删除

```
mET.getText().insert(startCursor, "\n" + String.valueOf(getCurrentCursorLine(mET)+2) + ".) "); 
```

因为从键盘输入已经添加了新行。之后，您再次放置另一条新线。

因此，`"\n" +`从该行中删除。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-06T01:43:13.180

您可能已经找到答案，也可能没有。但我认为问题在于您将“mET”设置为“onKey”，我认为这两者都在执行“onKeyDown”和“onKeyUp”。所以这可能是它执行两次操作的原因，因为您正在按下并释放 enter/d-pad 中心键。

所以你真正需要做的就是在之前添加

```
...keyCode == KeyEvent.KEYCODE_ENTER || KeyEvent.KEYCODE_DPAD_CENTER... 
```

先加这个...

```
...event.getAction() == KeyEvent.ACTION_DOWN && ... 
```

然后添加其余部分。

# javascript - 使用jquery从ul列表中提取锚标记链接

> ID：15081806
> 
> 赞同：0
> 
> 时间：2013-02-26T05:11:24.973
> 
> 标签：javascript, jquery

我想从我为在线课程设置的菜单中提取每个锚标记链接

ul id 是#sidebar

侧边栏中的 li 在正确的章节顺序中，所以我想找到用户所在的章节页面，然后抓取上一章和下一章，传递给每章底部的其他锚标签。

这就是我已经走了多远。

```
 for(var i = 0; i < $("#sidebar ul li").size(); i++) {

            console.log('chapter '+i+' = ',$("#sidebar ul li").get(i))

    } 
```

这将返回每个 li 元素，那么我现在如何获取每个 li 返回的 a href 值？

我试着把 .a 放在最后，没有用。在谷歌上也找不到太多。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T05:14:55.830

Try this one: [**in fiddle here**](http://jsfiddle.net/s5KSz/)

```
var $sidelist = $("#sidebar ul li").size();

for (var i = 0; i < $sidelist; i++) {
    console.log('chapter ' + Math.floor(i + 1) + ' = ', $("#sidebar ul li").find('a').eq(i).attr('href'));
} 
```

Output of above is:

```
//this is the output of for loop:
    chapter 1 = #chaper-1
    chapter 2 = #chaper-2
    chapter 3 = #chaper-3 
```

or with `$.each()`:

```
var $sidelist = $("#sidebar ul li");
$.each($sidelist, function(i, v){
   console.log('chapter '+Math.floor(i + 1)+' = ' + $(this).find('a').attr('href'));
}); 
```

## Note:

You have to do this `Math.floor(i + 1)` to `start the chapter with index 1 otherwise this will start at 0`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T05:26:27.337

从性能的角度来看，在循环外只运行一次选择器很重要。

```
 var links =  $("#sidebar ul li a"); // equivalent to  $("#sidebar ul li").find('a')
    for(i = 0, length = links.length; i < length; ++i){
         console.log('chapter '+ i + ' = ' + $(links[i]).attr('href'));
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-26T05:19:40.070

利用 FIND(),

```
for(var i = 0; i < $("#sidebar ul li").size(); i++) {
 console.log('chapter'+ i +' = ',$("#sidebar ul li").find('a').eq(i).attr('href'));
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T05:42:16.327

嘿伙计们，感谢您的及时答复，

我最终得到了这个做我想做的事，有点摆弄。

这就是我想出的...

```
$(document).ready(function(){
var previouschap;
var nextchap;
var chapter ="<?php echo (isset($_GET['chapter'])) ? $_GET['chapter'] : 'No Chapter';  ?>";

for(var i = 0; i < $("#sidebar li").size(); i++) {
    liresult = $($("#sidebar li a").get(i)).attr('href');

    if(liresult == './index.php?chapter='+chapter)
                    {
                        previouschap = $($("#sidebar li a").get(i-1)).attr('href');
                        nextchap = $($("#sidebar li a").get(i+1)).attr('href');

                        $('#previous-chapter').attr('href', previouschap);
                        $('#next-chapter').attr('href', nextchap);
                        break;
                    }

    }
}); 
```

# css - 覆盖单个项目的一般 CSS 样式？

> ID：15081809
> 
> 赞同：2
> 
> 时间：2013-02-26T05:12:00.713
> 
> 标签：css, styles

对不起，如果标题有点模糊。我不太确定如何措辞这个问题。我目前有一种风格：

```
#exampleTable th {
background-color: #333;
} 
```

如您所见，该样式适用于特定表格的标题标签。我的问题是如何将此表背景颜色中的单个标题更改为其他内容？一个属性不起作用，因为它被我的一般风格所覆盖。我怎样才能做到这一点？谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T05:15:41.083

If you use `!important` in your inline style, it should work:

```
<th style="background-color: red !important"> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T05:56:15.790

如果您只使用具有足够高[特异性](http://reference.sitepoint.com/css/specificity)的组合选择器，则使用属性选择器可以正常工作。例如，`<th class=foo>...</th>`用于单元格和 CSS 规则，如

```
#exampleTable th.foo {
  background-color: blue;
} 
```

在这里，选择器`.foo`比您的一般规则多了一种成分，即类选择器。这确保了更高的特异性。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T05:47:27.547

如果您不关心与旧浏览器（尤其是 IE）的兼容性，您可以使用 :nth-child() 伪类

```
#exampleTable th:nth-child(3){color:green} 
```

[http://tinyurl.com/aogul8e](http://tinyurl.com/aogul8e)

阅读更多：[http ://css-tricks.com/useful-nth-child-recipies/](http://css-tricks.com/useful-nth-child-recipies/)

如果您想支持旧浏览器，请按照 Mike 的建议为您要覆盖的每个 TH 添加一个类（或使用 jQuery 来使用具有跨浏览器兼容性的 nth-child）

使用“！important”应该仅用于调试目的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T05:18:36.500

CSS 是否在外部文档（.css 文件）中？如果是这样，内联样式将覆盖它。你可以做一些 lJava Templating Classike：

```
<table class='someclass'>
    <thead>
        <tr>
            <th></th>
            <th style='background-color: red;'></th>
            .... 
```

但是，我认为使用类会更有效。你只需要让你的类规则比你的通用规则更具体。例如

```
#exampleTable th {
background-color: #333;
}
#exampleTable th.myclass {background-color: #00f;} 
```

现在任何有类的 th`myclass`都将是红色的，而没有类的 th 将是深灰色的。

# actionscript-3 - 删除 as3 中的 html 标签

> ID：15081811
> 
> 赞同：0
> 
> 时间：2013-02-26T05:12:10.807
> 
> 标签：actionscript-3, apache-flex

我有一个html文本

```
 <span>
    <span class="embed_photo_div" dir="ltr">
        <span class="embed_photo">
            <img src="image.jpg">
        </span>
    </span>
  </span> 
```

我需要最终输出，因为 `<span> </span>`应该删除带有类 embed_photo_div 的 span 标签。

在 as3 中删除 htmltext 某些部分的最佳方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:22:52.513

我过去所做的是将其视为 xml（毕竟 html 是 xml）并以这种方式解析它以获得我想要的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T11:03:38.530

您将可以使用 RegEx 匹配和替换您的模式：

```
 /<[^<]?span.*class="embed_photo".*>[\w<\s=\".>\r\n\s\t]*</\s?span\s?>/g 
```

在线示例链接： [http ://regexr.com?33tnl](http://regexr.com?33tnl)

编辑：不要忘记转义字符“/”。添加示例

```
var x:XML =
    <span>
       <span class="embed_photo_div" dir="ltr">
           <span class="embed_photo">
               <img src="image.jpg"/>
           </span>
       </span>
     </span>;

var str:String = x.toXMLString();

var pattern :RegExp = new RegExp( /<span class="embed_photo"[\r\n\t\s\w=".<>]*[\/>]*[\r\n\t\s]*<\/span>/g );

var output:String = str.replace(pattern, "<span> </span>");

trace(output); 
```

# ruby-on-rails - Ruby 并发 + 使用 Rails 扩展

> ID：15081813
> 
> 赞同：4
> 
> 时间：2013-02-26T05:12:18.700
> 
> 标签：ruby-on-rails, ruby, concurrency, scalability

我们有一个社交网站运行，

# Stunnel->Haproxy->Nginx->Unicorn

我们有 20 个独角兽进程在 24 核机器上运行。

当我使用 200 个请求和 100 个并发用户运行测试时，

50% 请求需要 3694 秒
66% 请求需要 4524 秒
75% 请求需要 5444 秒
80% 请求需要 5923 秒
90% 请求需要 7676 秒
95% 请求需要 10007 秒
98% 请求需要 13841 秒
99% 请求需要 18110 秒
100%请求耗时 21987 秒

我在日志中看到每个请求需要 0.5 秒才能完成，但最后一个请求需要 21 秒才能完成。

如何在最短时间（4-5 秒）内完成所有请求？我应该在我的 Rails 代码中工作以在 0.10 秒内完成，还是有什么办法可以更改我的服务器配置以在 5 秒内完成所有请求？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T05:27:44.473

请记住，每个独角兽实例都吃〜250Mb RAM

所以 20 只独角兽至少需要 5 Gb RAM。如果您超载 RAM 限制 - 它们开始工作的速度极慢：通过重新加载 Rails 环境休眠和唤醒进程

尝试减少独角兽服务器的数量并进行测试

# three.js - 立方体面的不同几何形状

> ID：15081819
> 
> 赞同：0
> 
> 时间：2013-02-26T05:12:55.457
> 
> 标签：three.js

如何为 CubeGeometry 中的一个特定面设置不同的几何图形 Three.ShapeGeometry？

我试过这个

```
 var rectLength = 120, rectWidth = 40;

            var rectShape = new THREE.Shape();
            rectShape.moveTo( 0,0 );
            rectShape.lineTo( 0, rectWidth );
            rectShape.lineTo( rectLength, rectWidth );
            rectShape.lineTo( rectLength, 0 );
            rectShape.lineTo( 0, 0 );

var geom = new THREE.ShapeGeometry( rectShape );
var geometry = new THREE.CubeGeometry( 256, 100, 256 );
geometry.faces[0] = geom;
geometry.faces[0].needsUpdate = true; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T15:51:27.540

面不是几何体，您不能将几何体分配给它，因为它是完全不同类型的对象和概念。

面是由索引号引用的一系列顶点，而不是形状。您创建顶点然后告诉面构成面的顶点的索引号。Face3 将有 3 个索引并形成一个三角形，Face4 将有 4 个索引并形成一个 4 边多边形。

如果您查看我在下面提供的链接，我的答案应该会更清楚。

[看这里](https://stackoverflow.com/questions/14013229/faces-does-not-have-backs)

顺便说一句 - 由于一个明显的原因，您不能将形状用作脸部。形状具有任意数量的顶点，这些顶点很容易超出面的范围（3 或 4），这意味着您可以拥有具有 2 个点的形状或具有 100 个点的形状。

# java - 使用 Java Web 应用程序进行模板化

> ID：15081822
> 
> 赞同：-1
> 
> 时间：2013-02-26T05:13:06.953
> 
> 标签：java, templates, web-applications

我正在开发一个 Java Web 应用程序，特别是视图和视图控制器。我的主要经验是 PHP（这是我的第一个 Java Web 应用程序），我已经实现了几个类似模板的工具，这些工具基本上用于`include`遍历目录结构，构建页面。例如，一个 url like`www.mysite.com/index.php?page=customer/edit&customer_id=5`将从 root/index.php 开始。然后它将包含 customer/index.php（我可能会在其中构造客户对象），然后包含表单所在的 edit.php 页面。

Java中有类似include的函数吗？我要解决的问题是，我希望网站的基本 html（页眉、中间、页脚）保持不变，当您浏览页面时，通常您只是更改主要内容部分。

我最初的想法是在 index.jsp 上使用一个 servlet，它将请求传递给目录结构中的下一个 servlet（如果参数中的下一项是目录，则为索引，如果是文件，则为页面）。这是创建小型模板引擎的可行方法吗？我不确定从一个 servlet 传递到另一个 servlet 以构建 html 页面的资源密集度。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:15:51.933

你在用什么？如果是“JSP”，您可以使用`<jsp:include page="..." />` 另一个不错的选择是使用[Apache Velocity 模板](http://velocity.apache.org/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T05:39:13.530

如果您使用的是 Struts，则可以使用 Struts Tiles。Struts Tiles 允许您定义模板页面，并且您可以定义页眉和页脚。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-07-11T01:19:38.153

如果您熟悉 Twig 这是一个 PHP 模板引擎，那么[Pebble](http://mitchellbosecke.com/pebble)可能正是您正在寻找的。披露：我是 Pebble 的作者。

# ruby-on-rails-3 - Using current_user in a scope

> ID：15081825
> 
> 赞同：0
> 
> 时间：2013-02-26T05:13:13.363
> 
> 标签：ruby-on-rails-3, lambda, scope

My `User` model `has_many` `messages` I would like to retrieve the model's unread messages as a relation so I can chain it

at the moment, the only thing that worked for me is

```
class Message

scope :unread, lambda{ |user| where("receiver_open = false AND received_messageable_id = ?", user.id)} 
```

and then access it as

```
current_user.messages.unread(current_user) 
```

you can see that this is a bit smelly

Is there way to make the scope use the current_user which I used to invoke the scope? so that it would be `current_user.messages.unread`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:42:46.697

因为，您已经在使用**current_user.messages**过滤消息，无需再次过滤消息。

最好在没有 lambda 的情况下编写范围

```
scope :unread, where("receiver_open = false") 
```

希望，它会有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T05:43:08.807

即使您可以访问`current_user`模型中的变量：
模型也不应该知道当前谁在使用您的应用程序。

我认为一个简单的解决方案是仅使用*收到的消息*而不是*所有消息*，这样您就不必检查接收者的身份。

或者，调用您的范围`unread_by`将使其更易于理解且不那么臭。

# cucumber - How to setup cucumberjs with phantomjs

> ID：15081830
> 
> 赞同：1
> 
> 时间：2013-02-26T05:13:53.033
> 
> 标签：cucumber, phantomjs

Anyone has experience for setting cucumberjs with phantomjs? Any related resource will be helpful. Thanks.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-05-05T06:52:02.980

```
npm -g install phantomjs

var client= webdriverjs.remote({ desiredCapabilities: {browserName: 'phantomjs'},logLevel:verbose'}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-27T08:55:17.323

目前还没有很多关于它的资源。一些人一直在将 Phantomjs 与 Cucumber.js 一起使用，并且在[Cukes 列表](https://groups.google.com/forum/#!searchin/cukes/phantomjs)中有一些关于它的讨论。

HTH。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-10-23T21:46:06.163

有一个库 Hardy.io 使用 Cucumber 来驱动基于 Selenium 的 CSS 测试 - [http://hardy.io/](http://hardy.io/)。

这实际上并没有*在*PhantomJS 中运行 Cucumber，而是在 Node 中运行 Cucumber 测试，并使用 Selenium Webdriver 进行值的自省。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-10-02T13:06:31.647

在 PhantomJS 中运行测试的 Cucumber.js 示例[https://github.com/patrickarlt/cucumberjs-example](https://github.com/patrickarlt/cucumberjs-example)

# haskell - Haskell function

> ID：15081831
> 
> 赞同：-3
> 
> 时间：2013-02-26T05:14:05.990
> 
> 标签：haskell

I am trying to write a function that prints a statement and calls on another function, but I am having some trouble defining it such what type to give it. Here's what I got so far.

code:

```
bad_input :: --dont know what goes here
bad_input = putStrLn "Bad Input"
            evaluate_input 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T13:04:28.040

首先，您不需要类型签名，Haskell 会在几乎所有情况下为您推断它。其次，您需要在 右视图上的表达式`=`，但是您有两个不相关的表达式 - 您需要以某种方式将它们联系在一起。`IO`这就引出了第三点：IO 与命令式语言完全不同，因为您需要将与“现实世界”的交互包装在一个名为及时” - 不利于输入/输出）和纯语言（这意味着一旦计算出值就永远不会改变）。

我可以为您编写该代码，但我觉得这样做弊大于利，并且让您比以前更加困惑。所以请听从 Cat Plus Plus 的建议并阅读[http://learnyouahaskell.com/](http://learnyouahaskell.com/)（或[http://book.realworldhaskell.org/](http://book.realworldhaskell.org/)）以获得真正的理解。从简单的事情开始，在 Haskell 中 IO 并不容易。

# django - /school/ 处的 Django TemplateSyntaxError

> ID：15081832
> 
> 赞同：0
> 
> 时间：2013-02-26T05:14:09.183
> 
> 标签：django

嗨，我正在开发一个学生数据库应用程序，我制作了更多功能并偶然发现了这个错误。一切似乎都很清楚我理解这个错误的含义，因为我以前遇到过这个应用程序。我不知道出了什么问题。

```
 TemplateSyntaxError at /school/
 Caught NoReverseMatch while rendering: Reverse for 'cat' with arguments '('',)' and keyword arguments '{}' not found.
 Exception Type: TemplateSyntaxError 
 Exception Value: Caught NoReverseMatch while rendering: Reverse for 'cat' with arguments '('',)' and keyword arguments '{}' not found. 
 In template /home/tafe/mysite/school/templates/index.html, error at line 3

 Caught NoReverseMatch while rendering: Reverse for 'cat' with arguments '('',)' and keyword arguments '{}' not found.
 1 {% if students %}

 2 <ul>        

 3  {% for student in students %}  
 4  <li><a href="{% url school:cat poll.id %}">{{student.First_name}}</li> 
```

我的观点.py

```
 from mysite.school.models import student
 from django.shortcuts import render_to_response
 from django.http import HttpResponse,Http404

 def index(request):     
       students = student.objects.all()
   return render_to_response('index.html',{'students':students})

 def cat(request,poll_id):
   students = get_object_or_404(student,pk =poll_id)
       return render_to_response('student.html',{'students':student}) 
```

我的 index.html

```
 {% if students %}
  <ul>        

{% for student in students %}  
<li><a href="{% url myapp:cat poll.id %}">{{student.First_name}}</li>    
 {% endfor %}
 </ul>
 {% endif %} 
```

我的学生.html

```
 {% if students %}
 <ul>
   {% for student in students %}  
 <li>{{student.First_name}}</li>
 {% endfor %}
 </ul> 
```

我的网址配置

```
 from django.conf.urls.defaults import patterns,include , url 
 from django.contrib import admin
 from mysite.school.views import index,cat

 admin.autodiscover()

 urlpatterns = patterns ('',
    url(r'^$',index),
    url(r'^(?P<poll_id>\d+)/$',cat,name='cat'),
 ) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T05:30:02.703

您学校的主要 urlconf 有**$**，这就是您收到错误的原因

```
urlpatterns = patterns('',
    url(r'^admin/', include(admin.site.urls)),
    url(r'^school/',include('school.urls',namespace='school')),
) + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)

urlpatterns += staticfiles_urlpatterns() 
```

随着我走得更远，这些是我遇到的错误：

1.  您的索引没有 httpresponse
2.  你没有定义 get_object_404
3.  如果您的模型是学生，请不要使用与学生相同的变量，将其设为学生或其他任何东西
4.  当您使用 get_object_404 或仅呈现一个值时。你不能在它上面使用forloop。只需调用 student.first_name 或 student.id

# web-services - 如何在不托管网站的情况下检查我的网站的功能？有任何在线服务吗？

> ID：15081834
> 
> 赞同：0
> 
> 时间：2013-02-26T05:14:13.603
> 
> 标签：web-services, web-applications, monitoring, web-hosting

如何在不托管网站的情况下检查我的网站的功能？有任何在线服务吗？请帮助我找到在线服务，以便在托管之前检查我的网站功能。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T05:52:01.507

您可以通过制作 Apache 服务器 ( [http://httpd.apache.org/](http://httpd.apache.org/) ) 在发布网站之前对其进行测试。

在安装过程中，将您的域名设置为 localhost（或任何您喜欢的名称）。然后在浏览器的地址栏中键入 localhost 以访问您的服务器。在 localhost/yourfile 中访问您的特定内容类型（如果您的文件在文件夹中，则为 localhost/folder/yourfile）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T05:19:21.497

是的，您可以。您可以在本地测试您的网站。假设如果您正在创建一个 PHP 网站，我们可以在托管之前使用 xampp 控制面板在本地测试您的网站，方法是提供 url：localhost/yourwebsitefolder/phpfile。希望你明白了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T05:25:58.553

您可以使用 Selenium ( [http://docs.seleniumhq.org](http://docs.seleniumhq.org) ) 之类的工具编写浏览器自动化测试，以验证您的应用程序是否按预期执行。如果您的站点有更多的业务逻辑，您可能希望更多地研究功能和集成测试，这有助于增强您对代码的信心。

# ios - randomly distribute sprites

> ID：15081840
> 
> 赞同：0
> 
> 时间：2013-02-26T05:14:49.957
> 
> 标签：ios, cocos2d-iphone, arc4random

I have defined:

`#define kNumAstroids 15`

and Sprite Add

```
 _robbers = [[CCArray alloc] initWithCapacity:kNumAstroids];
    for (int i = 0; i < kNumAstroids; ++i) {
        CCSprite *asteroid = [CCSprite spriteWithSpriteFrameName:@"robber.png"];
        asteroid.visible = NO;
        [_batchNode addChild:asteroid];
        [_robbers addObject:asteroid]; 
```

Update Method

```
double curTime = CACurrentMediaTime();
if (curTime > _nextRunemanSpawn) {
    float randSecs = [self randomValueBetween:0.20 andValue:1.0];
    _nextRunemanSpawn = randSecs + curTime;

    float randY = 80.0;
    float randY1 = 185.0;
    float randY2 = 290.0;
    float randDuration = [self randomValueBetween:4.0 andValue:4.0];
    float randDuration1 = [self randomValueBetween:1.0 andValue:1.0];

    CCSprite *asteroid = [_robbers objectAtIndex:_nextRobber];
    _nextRobber++;

    if (_nextRobber >= _robbers.count) {
        _nextRobber = 0;
    }
    //[asteroid stopAllActions];
    asteroid.position = ccp(winSize.width +asteroid.contentSize.width / 2 , randY);
    asteroid.visible = YES;

    [asteroid runAction:[CCSequence actions:[CCMoveBy actionWithDuration:randDuration position:ccp(-winSize.width-asteroid.contentSize.width, 0)],
                         [CCCallFuncN actionWithTarget:self selector:@selector(setInvisible:)],nil]]; 
```

I want to distribute these sprites randomly between randY , randY1 and randY2

Can I use `arc4random()` function? If yes ... how ?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:52:02.977

使用 arc4random() 找到你的随机 Y pos

```
float random_Y = randY + arc4random() % randY2; 
```

然后在您的代码中使用 random_Y 值

```
if (curTime > _nextRunemanSpawn)
{
float randSecs = [self randomValueBetween:0.20 andValue:1.0];
_nextRunemanSpawn = randSecs + curTime;

float randY = 80.0;
float randY1 = 185.0;
float randY2 = 290.0;
float randDuration = [self randomValueBetween:4.0 andValue:4.0];
float randDuration1 = [self randomValueBetween:1.0 andValue:1.0];

CCSprite *asteroid = [_robbers objectAtIndex:_nextRobber];
_nextRobber++;

if (_nextRobber >= _robbers.count) {
    _nextRobber = 0;
}
//[asteroid stopAllActions];
asteroid.position = ccp(winSize.width +asteroid.contentSize.width / 2 , random_Y);//in this place
asteroid.visible = YES;} 
```

# vim - 找出 Vim 中出现奇怪高亮的原因

> ID：15081843
> 
> 赞同：5
> 
> 时间：2013-02-26T05:14:59.157
> 
> 标签：vim, latex-environment

我在 vim 中使用 latexbox 进行乳胶文件编辑。我发现“顶点”、“在线”、“ie”等一些词以浅蓝色突出显示。有什么方法可以找出 Vim 做出如此奇怪的亮点的规律吗？我只想禁用它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T08:50:27.637

为此，[SyntaxAttr.vim - 显示语法高亮属性](http://www.vim.org/scripts/script.php?script_id=383)插件是必不可少的。它会显示光标下的语法组。然后您可以禁用它（最好在`~/.vim/after/syntax/tex.vim`，使用`:syntax clear {group-name}`）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T08:24:11.240

要关闭语法高亮，只需使用以下命令：`:syntax off`.

您可以通过输入 找到您的文件使用的语法文件`:set syntax`。

要获得有关此主题的进一步帮助，请输入`:help syntax`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-10T06:18:43.057

终于找到问题的罪魁祸首了。

奇怪的亮点来自 vim 将我的文本分类为 SpellCap 的拼写检查。

要解决这个问题，我只需要使用

```
hi clear SpellCap 
```

或者您可以将其更改为不那么烦人的颜色

```
highlight SpellCap term=underline cterm=underline 
```

# java - How to print prime numbers?

> ID：15081844
> 
> 赞同：-1
> 
> 时间：2013-02-26T05:15:04.393
> 
> 标签：java

I am a beginner to java.And i am trying to print 2,3,5,7,11,13,17,19

This is my thought process.the above numbers i want to print are prime numbers which means they can only be divided by themselves or the value 1.So i will need to have a condition which is if(i%i==0 || %1==0){

```
import java.util.*;
public class PrimePrinter{
    public static void main(String[] args){
        Scanner sc=new Scanner(System.in);
        System.out.print("Enter num> ");
        int input=sc.nextInt();

        for(int i=2;i<=19;i++){
            if(i%i==0&&i%1==0){
                System.out.print(i);
            }else {
                System.out.print(",");
            }
        }
    }
} 
```

I try to think through my codes but i wonder why it will print out 2,3,4,5...and up till 19 when i already have a condition.I will appreciate if someone will give me hints for me to work out instead of posting the solutions.

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-26T05:17:02.347

你只是在检查它们是否能被 1 和它们自己整除。每个数字都可以被 1 和它自己整除。素数只能被 1 和它们自己整除，所以天真的方法是测试它们是否能被 1 和 i 之间的所有其他数字整除。

要获得更有效的方法，请查看埃拉托色尼筛。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T05:21:42.177

一个数除以它自己和除以 1 时是素数。而 1 不是素数。在您的程序中，您将数字除以 1，所以这是错误的

```
import java.util.*;
public class PrimePrinter{
    public static void main(String[] args){
        Scanner sc=new Scanner(System.in);
        System.out.print("Enter num> ");
        int input=sc.nextInt();

        // Instead of 19 you should use "input"
        // So the program will print all the numbers which are prime till input
        for(int i=2;i<=19;i++){
            if(isPrime(i))
              System.out.print(i+", ");
            }
        }
    }

  public static boolean isPrime(int number){
    for(int i=2; i<number; i++){
      if(number%i == 0){
        return false;//number is divisible so its not prime
    }
   return true; //number is prime
  }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T06:02:21.967

如果一个数只能被 1 和它自己整除，则该数被认为是素数。它可以通过检查 2 -> SQRT(n) 的可分性来识别（而不是 n-1 ， (n) 的 SQRT 就足够了）。也有其他算法效率更高，但对于初学者来说，这既足够又高效。下面提供了整个代码片段：

```
public class PrimeNumberTest {
    public static void main(String args[]) {
        boolean isPrime = true;
        int num = Integer.parseInt(args[0]);
        for (int i = 2; i < Math.sqrt(num); i++) {
            if(num != i && num % i == 0) {
                isPrime = false;
                break;
            }
        }
        if (isPrime)
            System.out.println(num + " is prime");
        else
            System.out.println(num + " is not prime");
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T06:00:18.343

> 但我想知道为什么它会打印出 2,3,4,5 ......当我已经有条件时，它会打印到 19。

您的代码正在测试一个数字是否可以被自身整除或被一整除。但是*每个*数字（除了零）都可以被自身和一整除。所以（自然地）你尝试的每个数字都通过了“测试”。

问题是“测试”作为质数测试是错误的。你实际上需要找到*只能*被它们自己和一个整除的数字。执行此操作的简单方法是将您的数字与它可以被整除的所有*其他数字进行测试。*您可以通过一些简单的高中数学将其限制为一组有限的数字......基于除法的定义。

# codeigniter - Codeigniter i18n 语言导致 $GET 变量被擦除

> ID：15081849
> 
> 赞同：0
> 
> 时间：2013-02-26T05:15:20.153
> 
> 标签：codeigniter

当我使用 javascript 刷新到以下 url 时，无法让 codeigniter i18n 语言和 $GET url 工作

```
http://example.com/search?in=word&other=word2 
```

它只是去 `http://example.com/en/search`并且 $GET 变量丢失了

我的 htaccess 看起来像这样

```
RewriteEngine on
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule .* index.php/$0 [PT,L] 
```

什么是最优雅的解决方案

//部分`config/routes.php`

```
$route['^(en|fr)/(.+)$'] = "$2";
$route['^(en|fr)$'] = $route['default_controller']; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:57:44.883

更改最后一行以包含查询字符串，因为重写规则将其删除。请参阅[apache 文档](http://httpd.apache.org/docs/2.2/rewrite/flags.html#flag_qsa)

```
RewriteRule .* index.php/$0 [PT,L,QSA] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T09:43:41.017

我发现的最好方法是在 javascript 中执行此操作，然后`lang`在我的脚本中添加

```
<script>
var lang="<?php echo $this->lang->lang(); ?>";
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-18T22:44:20.553

我找到了方法，我在 switch_uri 函数中添加了一些更改，所以现在我的函数如下所示：

```
function switch_uri($lang)
  {
    if ((!empty($this->uri)) && (array_key_exists($lang, $this->languages)))
    {

        if ($uri_segment = $this->get_uri_lang($this->uri))
        {
            $uri_segment['parts'][0] = $lang;
            $uri = implode('/',$uri_segment['parts']);
        }
        else
        {
            $uri = $lang.'/'.$this->uri;
        }

        // Add $_GET string
        if (count($_GET) > 0)
            $uri .= '?' . http_build_query($_GET, '', "&");
    }

    return $uri;
  } 
```

# java - Validate decimal number with Play object

> ID：15081851
> 
> 赞同：0
> 
> 时间：2013-02-26T05:15:26.187
> 
> 标签：java, playframework, annotations, playframework-2.1

I am trying to create an object on Play 2.1 with decimal number variables. I want to set a validation using annotation, currently what I did is:

```
import play.data.validation.Constraints.Max;
import play.data.validation.Constraints.Min;
@Max(10)
@Min(0.1)
public Float someNumber; 
```

but it said cannot convert double to long. How could I do this kind of validation?

Thank you

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T10:30:05.040

您应该创建自己的验证器。看看`Max`和`Min`验证，这将让您开始通过扩展创建自己的验证器`AbstractAnnotationCheck`。

这是我为能够注释 JPA 实体中的属性（如`@Decimal("15,2")`.

用作注解的接口：

```
@Retention(RetentionPolicy.RUNTIME)
@Target({ElementType.FIELD, ElementType.PARAMETER})
@Constraint(checkWith = DecimalCheck.class)
public @interface Decimal {

    String[] value() default {""};
    String[] lang() default {"*"};
} 
```

DecimalCheck 看起来像这样：

```
public class DecimalCheck extends AbstractAnnotationCheck<Decimal> {

    public int digits = 0;
    public int decimals = 0;

    @Override
    public void configure(Decimal number) {
        String[] values = StringUtils.split(number.value()[0], ",");

        if (values.length > 1) {
            decimals = Integer.parseInt(values[1]);
            digits = Integer.parseInt(values[0]) - decimals;
        }
    }

    public boolean isSatisfied(Object validatedObject, Object value, OValContext context, Validator validator) {
        value = play.data.validation.Validation.willBeValidated(value);
        if (value == null || value.toString().length() == 0) {
            return true;
        }
        if (value instanceof BigDecimal) {
            BigDecimal number = (BigDecimal) value;

            int numberOfDecimals = number.scale();
            int numberOfDigits = String.valueOf(number.intValue()).length();

            if (numberOfDecimals <= decimals && numberOfDigits <= digits) {
                return true;
            }
        }       
        return false;
    }
} 
```

您当然可以扩展 isSatisfied 方法以支持 value Object 参数的更多类型。您可能有 a`String`或 a`Long`或任何您希望能够使用此检查的东西。或者，在您的情况下，一个`Float`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T04:44:07.917

这就是我最后所做的...

```
@Target({FIELD})
@Retention(RUNTIME)
@Constraint(validatedBy = DoubleMinValidator.class)
@play.data.Form.Display(name="constraint.min", attributes={"value"})
public @interface DoubleMin {
    String message() default DoubleMinValidator.message;
    Class<?>[] groups() default {};
    Class<? extends Payload>[] payload() default {};
    double value();
}

public class DoubleMinValidator extends Validator<Number> implements ConstraintValidator<DoubleMin, Number> {

    final static public String message = "error.min";
    private double min;

    public DoubleMinValidator() {}

    public DoubleMinValidator(double value) {
        this.min = value;
    }

    public void initialize(DoubleMin constraintAnnotation) {
        this.min = constraintAnnotation.value();
    }

    public boolean isValid(Number object) {
        if(object == null) {
            return true;
        }

        return object.doubleValue() >= min;
    }

    public Tuple<String, Object[]> getErrorMessageKey() {
        return Tuple(message, new Object[] { min });
    }

} 
```

并调用 @DoubleMin(0.5) public Double num;

对 Max 执行相同的操作。

# sharepoint - How to Display Uploaded Documents in InfoPath Forms on DropdownList selected value?

> ID：15081855
> 
> 赞同：1
> 
> 时间：2013-02-26T05:15:39.730
> 
> 标签：sharepoint, infopath2010, infopath-forms-services

Hello I am new to InfoPath! I have a ClientList which is bound to DropDownList. I want to display the Documents uploaded by Specific Client when DropdownList Value changes and accordingly the documents must be displayed in RepeaterTable or RepeaterSection in InfoPath.

Any Idea? Help Appreciated! Thanks!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T09:39:51.613

我假设您有一个唯一的客户 ID，并且每个客户的文档都有一个带有各自客户 ID 的字段。创建到库的数据连接。将数据节点拖到表单上以创建重复表。

在客户端下拉列表上创建规则：当值发生变化时，将辅助数据源中查询节点中的客户端ID字段设置为下拉列表的值，然后查询数据源。

# java - Is it useful to put AudioRecord.getState() in a loop?

> ID：15081857
> 
> 赞同：3
> 
> 时间：2013-02-26T05:15:40.820
> 
> 标签：java, android

I'm working with some code that calls the [AudioRecord](http://developer.android.com/reference/android/media/AudioRecord.html) constructor:

```
AudioRecord listener = new AudioRecord(list of parameters);
do {} while (listener.getState() != AudioRecord.STATE_INITIALIZED); 
```

This code would seem to make sense if AudioRecord goes off in another thread and takes time to initialize. I'm not sure of this is the case though, and if it isn't it would seem a lot better to have the code just check and return an exception, lest an infinite loop is started at some point when initialization does actually fail (although I could just limit the number of checks to something finite).

Should I leave the code as it is or replace the second line with something like the following?

```
if(listener.getState() != AudioRecord.STATE_INITIALIZED) {
    throw new Exception("AudioRecord failed to initialize");
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T07:56:44.633

看源码就很清楚了：

```
public AudioRecord(int audioSource, int sampleRateInHz, int channelConfig, int audioFormat, 
            int bufferSizeInBytes)
    throws IllegalArgumentException {   
        mState = STATE_UNINITIALIZED;
        mRecordingState = RECORDSTATE_STOPPED;

        ... //parameter checks

        // native initialization
        //update native initialization when information about hardware init failure
        //due to capture device already open is available.
        int initResult = native_setup( new WeakReference<AudioRecord>(this), 
                mRecordSource, mSampleRate, mChannels, mAudioFormat, mNativeBufferSizeInBytes);
        if (initResult != SUCCESS) {
            loge("Error code "+initResult+" when initializing native AudioRecord object.");
            return; // with mState == STATE_UNINITIALIZED
        }

        mState = STATE_INITIALIZED;
    } 
```

所以你不必等待它的状态转换。您只需要在调用构造函数一次后检查状态。如果 native_setup 有任何问题，状态将为 STATE_UNINITIALIZED。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T07:33:11.430

我会说抛出一个异常。我有一个使用 AudioRecord 的应用程序，下载量 > 1000000，它不必等待 AudioRecord 状态。（并且您至少需要一个 Thread.sleep() 在您的 while 循环中，以确保您在等待 AudioRecord 时不会消耗 100% 的 CPU，如果您确实需要这样做的话。）

# python - 我可以使用 rpy2 将 pandas 数据框保存到 .Rdata 文件吗？

> ID：15081858
> 
> 赞同：14
> 
> 时间：2013-02-26T05:15:44.587
> 
> 标签：python, r, pandas

我以前从未使用过 rpy2，但我只是想知道是否可以使用它将 python 对象（pandas DataFrame）保存在 R 可读文件中。我无法在这些环境之间移动对象，主要是因为我使用的是 Windows，并且数据源是 Excel 文件。是的，这种单元格包含文本，包括引号、换行符以及 CSV 无法充分处理的所有内容。

我通常依赖 XLConnectJars，但它似乎坏了

```
Installing package(s) into ‘C:/Program Files/R/library’
(as ‘lib’ is unspecified)
trying URL 'http://cran.csiro.au/bin/windows/contrib/2.15/XLConnectJars_0.2-4.zip'
Content type 'application/zip' length 16538311 bytes (15.8 Mb)
opened URL
downloaded 15.3 Mb

Warning in install.packages :
  downloaded length 16011264 != reported length 16538311 
```

pandas 可以正确读取，但我需要使用 R 中的信息。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2017-09-29T01:26:39.563

以下是您写入/读取`.RData`文件的方式`rpy2`（因为已弃用已接受的解决方案并且未显示如何保存到`.RData`文件）：

```
import rpy2
from rpy2 import robjects
from rpy2.robjects import pandas2ri
pandas2ri.activate()

# read .RData file as a pandas dataframe
def load_rdata_file(filename):
    r_data = robjects.r['get'](robjects.r['load'](filename))
    df = pandas2ri.ri2py(r_data)
    return df

# write pandas dataframe to an .RData file
def save_rdata_file(df, filename):
    r_data = pandas2ri.py2ri(df)
    robjects.r.assign("my_df", r_data)
    robjects.r("save(my_df, file='{}')".format(filename)) 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-26T06:32:51.553

您可以使用 rpy2 来执行此操作。一旦你在 pandas 中获得数据，你必须将它传输到 R。[这个链接](http://pandas.pydata.org/pandas-docs/dev/r_interface.html)提供了 Python Pandas 和 R data.frames 之间的实验接口。从网站复制的代码示例：

```
from pandas import DataFrame
import pandas.rpy.common as com

df = DataFrame({'A': [1, 2, 3], 'B': [4, 5, 6], 'C':[7,8,9]},
                index=["one", "two", "three"])
r_dataframe = com.convert_to_r_dataframe(df)

print type(r_dataframe)
 <class 'rpy2.robjects.vectors.DataFrame'>

print r_dataframe
      A B C
one   1 4 7
two   2 5 8
three 3 6 9 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2020-07-17T05:21:56.910

使用 3.3.2 的最新版本`rpy2`，我无法获得其他答案。现在看来，转换的工作方式有点不同。

```
import pandas
p_df = pandas.DataFrame(data={'col1': [1, 2], 'col2': [3, 4]}) 
```

以下代码会将上述 pandas 数据帧转换为 R 数据帧，并将 R 数据帧保存为 R`.rds`文件。

```
from rpy2 import robjects
from rpy2.robjects import pandas2ri
from rpy2.robjects.conversion import localconverter

# Convert pandas dataframe to R dataframe
with localconverter(robjects.default_converter + pandas2ri.converter):
    r_df = robjects.conversion.py2rpy(p_df)

# Save R dataframe as .rds file
r_file = "file.rds"
robjects.r.assign("my_df_tosave", r_df)
robjects.r(f"saveRDS(my_df_tosave, file='{r_file}')") 
```

以下代码将加载`.rds`文件并将其转换回 pandas 数据帧。

```
# Load as R dataframe from .rds file
r_file = "file.rds"
robjects.r(f"df_to_load <- readRDS('{r_file}')") 
r_df = robjects.r["df_to_load"]

# Convert R dataframe to pandas dataframe
with localconverter(robjects.default_converter + pandas2ri.converter):
    p_df = robjects.conversion.rpy2py(r_df) 
```

# python - Flask-SqlAlchemy 邻接列表关系 backfref 意外错误

> ID：15081862
> 
> 赞同：6
> 
> 时间：2013-02-26T05:16:05.367
> 
> 标签：python, orm, sqlalchemy, flask, flask-sqlalchemy

我正在做一个小项目，我正在使用 Flask-SqlAlchemy 来实现邻接列表关系。我有一个模型（表），它有一个`db.Relationship()`引用`parent_id`同一个表的列的属性。

这是以下代码（部分）：

```
class Node(db.Model):
    id = db.Column(db.Integer, primary_key = True)
    title = db.Column(db.String(80))
    folder_id = db.Column(db.Integer, db.ForeignKey('node.id'))

    children = db.relationship('Node', backref = 'parent', remote_side=[id]) 
```

当我尝试使用 Python Shell 中子级的 backref 属性将子文件夹添加到父文件夹时，例如以下代码（部分）：

```
parentNode = Node('title1')
db.session.add(parent)
db.session.commit()

childNode = Node('title2')
child.parent = parentNode 
```

但是，在 Python shell 中尝试后出现以下错误：

```
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>

TypeError: Incompatible collection type: Node is not list-like 
```

我已阅读 SqlAlchemy 文档以找出解决方案，并且它们对邻接列表关系具有相似的语法。它有一个类似的示例，但没有显示如何将父节点添加到子节点，就像我在 shell 中尝试的那样。将父节点添加到子节点的 backref 属性中的原因是它适用于一对多关系。非常感谢您找到代码问题的任何帮助......请随时提出替代解决方案。

谢谢！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-26T08:55:11.253

您以错误的方式配置关系。请这样做：

```
from sqlalchemy.orm import backref
class Node(db.Model):
    # ...
    children = db.relationship('Node', backref=backref('parent', remote_side=[id])) 
```

或者

```
class Node(db.Model):
    # ...
    parent = db.relationship("Node", backref='children', remote_side=[id]) 
```

# c - 字符串到地址 C

> ID：15081863
> 
> 赞同：-3
> 
> 时间：2013-02-26T05:16:12.730
> 
> 标签：c, string, pointers, memory-address

我要完成的工作的本质如下。我想将一个整数地址（整数指针）以字符串的形式传递给一个期望整数指针作为参数的函数。就简单的代码而言，我想做以下事情：

```
void dsp(int *);

int main() {

  char *b;
  int a=2;p=&a;
  b = (char *)malloc(100*sizeof(char));
  sprintf(b, "%p",p);
  puts( b );
  dsp(&a);
  dsp((int *)strtol(b,16));
  free(b);
return 0;
}

void dsp(int *addr)
{ 
  printf("val:%d\n",*addr);
} 
```

这就是我的输出：

```
0x7fbffffa6c   (from puts(b))
val:2
Segmentation fault 
```

有人可以建议上面有什么问题和/或如何解决吗？任何帮助，将不胜感激。谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T05:35:41.323

使用`strtol`指针不是一个非常便携的想法，因为[*long 不需要适合指针*](https://stackoverflow.com/a/384672/477878)。执行您要查找的操作的最简单方法可能是将其替换为`sscanf`您可以使用的实际指针格式；

```
dsp(&a);
int* recovered_pointer;
sscanf(b, "%p", &recovered_pointer);
dsp(recovered_pointer); 
```

附带说明一下，您没有将所有 3 个必需参数传递给`strtol`，即使 long “足够长”以适合指针，这也不起作用。包含所需的头文件总是一个好主意，因为在这种情况下，它们将帮助编译器在编译时告诉您您的代码将中断。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T05:23:10.800

```
dsp((int *)strtol(b,16)); 
```

首先，您在这里缺少一个参数。strtol() 接受三个参数。您可能会收到编译器警告。不要忽视那些！如果您`#include`在源文件的顶部添加正确的，那么警告将变成错误（这是一件好事）：

```
#include <stdlib.h> 
```

其次，您需要将 strtol() 的结果存储在变量中，以便获取变量的地址。您不能获取函数返回值的地址。在前面添加一个`(int *)`演员并没有这样做（尽管它确实使编译器接受了错误的代码）。

```
int result;
result = (int) strtol(b, NULL, 16);
dsp(&result); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T06:04:15.003

这是使用 32 位和 64 位 VS2012 编译器测试的工作代码：

```
#include <stdlib.h>
#include <stdio.h>

void dsp(int*);

int main()
{
    char *b;
    int* t;
    int a = 2;
    b = malloc(100 * sizeof(char));
    sprintf(b,"%p", &a);
    dsp(&a);
    sscanf(b,"%p",&t);
    dsp(t);
    free(b);
    return 0;
}

void dsp(int* addr)
{
    printf("val:%d\n", *addr);
} 
```

# c - 不能对这个硬件任务做出正面或反面，有人可以帮忙吗？[C]

> ID：15081864
> 
> 赞同：-4
> 
> 时间：2013-02-26T05:16:18.453
> 
> 标签：c, computer-science

我需要一些关于我的硬件的帮助，明天需要这样做。必须链接到粘贴 bin，因为该网站上的格式看起来不正确。 [http://pastebin.com/YA6PtHyB#](http://pastebin.com/YA6PtHyB#)

编辑：我想知道我是如何完成这项任务的，或者任务是如何完成的，坦率地说，我无法理解这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:31:48.403

你的任务是编写函数来检查和编辑浮点数，特别是单精度浮点数。

所以你应该首先了解浮点数。大概这在您的课程中已涵盖，但您可以在此处阅读它们： [http ://en.wikipedia.org/wiki/Single-precision_floating-point_format](http://en.wikipedia.org/wiki/Single-precision_floating-point_format)

然后您需要使用位掩码和移位来进行编辑部分。

[http://www.cprogramming.com/tutorial/bitwise_operators.html](http://www.cprogramming.com/tutorial/bitwise_operators.html)

# java - Java 套接字服务器

> ID：15081865
> 
> 赞同：0
> 
> 时间：2013-02-26T05:16:19.103
> 
> 标签：java, actionscript-3, flash, sockets, xmlsocket

我已经失去它了...

我通过 FlashDevelop (AS3) 构建了一个简单的 Flash 应用程序，我希望它与服务器通信。然后我使用以下代码创建了一个简单的 Socket Java 应用程序：

主.java：

```
import org.xsocket.connection.*;

public class Main
{
    protected static IServer srv = null;

    public static void main(String[] args) 
    {
        try
        {
            srv = new Server(8090, new xSocketDataHandler()); 
            srv.run();
        }
        catch(Exception ex)
        {
            System.out.println(ex.getMessage());
        }
    }

    protected static void shutdownServer()
    {
        try
        {
            srv.close();
        }
        catch(Exception ex)
        {
            System.out.println(ex.getMessage());
        }        
    }
} 
```

和 xSocketDataHandler.java：

```
import java.io.IOException;
import java.nio.BufferUnderflowException;
import java.nio.channels.ClosedChannelException;
import java.util.*;
import org.xsocket.*;
import org.xsocket.connection.*;

public class xSocketDataHandler implements IDataHandler, IConnectHandler, IDisconnectHandler
{
    private Set<INonBlockingConnection> sessions = Collections.synchronizedSet(new HashSet<INonBlockingConnection>());

    public boolean onData(INonBlockingConnection nbc) throws IOException, BufferUnderflowException, ClosedChannelException, MaxReadSizeExceededException 
    {
        try
        {
            String data = nbc.readStringByDelimiter("\0");

            if(data.trim().length() > 0)
            {   
                System.out.println("Incoming data: " + data);

                if(data.equalsIgnoreCase("<policy-file-request/>"))
                {
                    nbc.write("<cross-domain-policy>" +
                            "<allow-access-from domain=\"*\" secure=\"false\" />" +
                            "<allow-access-from domain=\"*\" to-ports=\"8090\"/>" +
                            "</cross-domain-policy>\0");
                    return true;
                }

                String[] message = data.split("~");

                sendMessageToAll(nbc, message[0], message[1]);

                if(message[1].equalsIgnoreCase("SHUTDOWN"))
                    Main.shutdownServer();                
            }
        }
        catch(Exception ex)
        {
            System.out.println("onData: " + ex.getMessage());
        }

        return true;
    }

    private void sendMessageToAll(INonBlockingConnection nbc, String user, String message)
    {
        try
        {
            synchronized(sessions)
            {
                Iterator<INonBlockingConnection> iter = sessions.iterator();

                while(iter.hasNext())
                {
                    INonBlockingConnection nbConn = (INonBlockingConnection) iter.next();

                    if(nbConn.isOpen())
                        nbConn.write("<b>" + user + "</b>: " + message + "<br />\0");
                }
            }

            System.out.println("Outgoing data: " + user + ": " + message);
        }
        catch(Exception ex)
        {
            System.out.println("sendMessageToAll: " + ex.getMessage());
        }            
    }

    public boolean onConnect(INonBlockingConnection nbc) throws IOException, BufferUnderflowException, MaxReadSizeExceededException
    {
        try
        {
            synchronized(sessions)
            {
                sessions.add(nbc);            
            }

            System.out.println("onConnect");
        }
        catch(Exception ex)
        {
            System.out.println("onConnect: " + ex.getMessage());
        }

        return true;
    }

    public boolean onDisconnect(INonBlockingConnection nbc) throws IOException
    {
        try
        {
            synchronized(sessions)
            {
                sessions.remove(nbc);            
            }

            System.out.println("onDisconnect");
        }
        catch(Exception ex)
        {
            System.out.println("onDisconnect: " + ex.getMessage());
        }        

        return true;
    }
} 
```

所以，问题是：

我启动 Java 应用程序，它运行良好。我启动我的 Flash 应用程序并运行，创建套接字对象，连接到我的服务器（全部在我的计算机中），服务器获取连接尝试，但是，在：

```
nbc.readStringByDelimiter("\0"); 
```

它说 nbc 已关闭，服务器捕获异常： `"onData: channel is closed (read buffer size=0)"`

有谁知道为什么我总是得到这个？无论我如何编写，使用 Socket、XMLSocket、xSocketDataHandler 或任何其他方式，我都会不断收到关闭通道错误。

我究竟做错了什么？？

谢谢。

编辑1：

AS3 代码：

这是我的套接字类：

```
import flash.events.Event;
import flash.events.IOErrorEvent;
import flash.events.ProgressEvent;
import flash.events.SecurityErrorEvent;
import flash.net.Socket;
/**
* ...
* @author 9MS
*/
public class GameSocket extends Socket 
{
    private var host:String;
    private var port:int;

    public function GameSocket(host:String="187.127.89.158", port:int=8090)
    {
        super(host, port);

        socketConnect();
    }

    public function socketConnect():Boolean {

        addEventListener(Event.CONNECT, onConnect);
        addEventListener(ProgressEvent.SOCKET_DATA, onResponse);
        addEventListener(Event.CLOSE, onClose);
        addEventListener(IOErrorEvent.IO_ERROR, onError);
        addEventListener(SecurityErrorEvent.SECURITY_ERROR, onSecError);

        try {
            connect(this.host, this.port);
        }
        catch (e:Error) {
            trace("Error on connect: " + e);
            return false;
        }
        return true;
    }

    public function sendData(msg:String):void {
        msg += "\0";

        try {
            writeUTFBytes(msg);
            flush();
            trace("Message sent: " + msg);
        }
        catch(e:Error) {
            trace("Error sending data: " + e);
        }

    }

    private function onConnect(e:Event):void {
        trace("Connected: "+e);
    }

    private function onResponse(e:ProgressEvent):void {
        trace("Receiving Data: " + e);

        var resp:String = readUTFBytes(bytesAvailable);

    }

    private function onClose(e:Event):void {
        trace("Connection Closed: " + e);
        close();
    }

    private function onError(e:IOErrorEvent):void {
        trace("IO Error: " + e.text);
        close();
    }

    private function onSecError(e:SecurityErrorEvent):void {
        trace("Security Error: " + e.text);
        close();
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-09T17:13:56.610

所以，我已经解决了这个问题。在通过套接字进行 Flash 通信的一个非常重要的事情是，Flash 打开套接字桥，请求策略文件，然后关闭它。因此，在您的服务器中，您必须接收连接、检查策略文件请求、发送策略文件并关闭网桥。Flash 收到策略文件后，会再次打开连接，正常通信，无需再次请求策略文件。

因此，在获得新连接后，您必须正常启动逻辑，但如果收到策略文件请求，只需使用策略文件回答并关闭连接即可。

# sql - 非常复杂的交叉表动态查询

> ID：15081866
> 
> 赞同：0
> 
> 时间：2013-02-26T05:16:27.830
> 
> 标签：sql, sql-server, sql-server-2005

我是 sql 开发的新手。我想要一个动态交叉表查询。让我先解释一下我的表。我有一个表 SalesOrder。每个 SalesOrder 都有 SalesItems。每个项目都有productID，每个产品都有fabricID。每个 SalesItem 都有一个字段 lengthDelivered。此外，每个 salesOrder 都有一个 ClientTID

现在我想要一个查询，它将列出列中的所有 fabricNames。这意味着在我的情况下，所有结构名称都是列标题。在行标题中，将显示所有客户端。对于每个客户，每个面料都有一个值，该值将指示该面料卖给该客户的长度。请尽快帮助我。提前谢谢。

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-26T05:19:43.733

不久前，我创建了一个程序来执行此操作。随意使用它 -

```
CREATE PROCEDURE do_pivot
    @table sysname,                     -- Name of the table with source data to pivot
    @column_field sysname,              -- Field used to generate new columns
    @value_field sysname = '',          -- Values to group within new columns
    @order_by sysname = NULL,           -- Optional order by field
    @function sysname = MAX,            -- Optional function to perform on values
    @reverse_columns bit = 0           -- If set to 1, reverses order of pivoted columns
AS
BEGIN
    -- SET NOCOUNT ON added to prevent extra result sets from
    -- interfering with SELECT statements.
    SET NOCOUNT ON;

    declare @pivot_fields nvarchar(max);

    declare @sql nvarchar(max) = N'
        -- Get unique values
        set @pivot_fields_OUT = (
            select distinct ''['' + CAST(' + @column_field + ' as nvarchar(max)) + ''],''
            from ' + @table + '
            order by 1 ' + case
                when @reverse_columns = 0 then 'asc' else 'desc'
            end + '
            for xml path('''')
        );
        -- Remove last comma
        set @pivot_fields_OUT = LEFT(@pivot_fields_OUT, LEN(@pivot_fields_OUT) - 1);
    ';

    exec sp_executesql @sql, N'@pivot_fields_OUT nvarchar(max) OUTPUT',
                       @pivot_fields_OUT=@pivot_fields OUTPUT;

    set @sql = N'
        select *
        from ' + @table + '
        pivot (
            ' + @function + '(' + @value_field + ')
            for ' + @column_field + ' in (' + @pivot_fields + ')
        ) as pvt ' + case
            when @order_by is null then ''
            else 'order by ' + @order_by
        end;

    exec(@sql);

END 
```

# c# - 使用 Linq 从列表中添加和删除对象

> ID：15081868
> 
> 赞同：0
> 
> 时间：2013-02-26T05:16:43.063
> 
> 标签：c#, linq

我试图掌握*Linq*并遇到以下问题：

我有一个自定义对象的列表，每个对象都有一些属性。然后我有另一个相同类型的列表，其中属性值将不同，除了 ID 属性。现在，我想添加在我的第二个列表 ( `tempList`) 中找到但在我的第一个列表 ( `OrderList`) 中找不到的对象。之后，我尝试删除`OrderList`在`tempList`.

这似乎有点不必要，但原因是`OrderList`如果在 中找到这些属性的 ID ，我需要保留属性的值`tempList`，因此不要用 .中`OrderList`的“*空*”属性替换中的对象`tempList`。

代码片段看起来像这样（`OrderList`并且`tempList`已经填充了对象，它是我用作标识符的属性*ID ）：*

```
// Add new orders from account to current object
OrderList.AddRange(tempList.Where(p => !OrderList.Any(p2 => p2.ID == p.ID)));

// Remove missing orders from our OrderList
OrderList.RemoveAll(p => !tempList.Any(p2 => p2.ID == p.ID)); 
```

由于 OrderList 中对象的属性在两行中的每一行之后都被重置，因此我做错了一些事情......

也许一双新的眼睛可以看到我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:56:02.303

尝试这个：

```
void Main()
{
    var orList = new List<A> {new A {Id = 0, S = "a"}, new A {Id = 1, S = "b"}, new A {Id = 2, S = "c"}, new A {Id = 4, S = "e"}};
    var tmList = new List<A> {new A {Id = 2, S = "cc"}, new A {Id = 3, S = "dd"}};

    var result = orList.Union(tmList, new AComparer()).ToList();
    result.RemoveAll(a => tmList.All(at => at.Id != a.Id));
}

public class A {
    public int Id;
    public string S;
}

class AComparer : IEqualityComparer<A> {
    public bool Equals(A x, A y) { return x.Id == y.Id; }
    public int GetHashCode(A a) { return a.Id; }
} 
```

# ruby-on-rails - Rails：语法错误，意外的keyword_ensure，期待$end

> ID：15081872
> 
> 赞同：5
> 
> 时间：2013-02-26T05:17:07.687
> 
> 标签：ruby-on-rails, erb

我正在创建一个非常基本的 Rails 应用程序（学习教程），但不明白为什么会出现此错误。我尝试了故障排除，但无济于事。

我的代码：

```
<ul class = "nav pull-right">
  <% if user_signed_in? %>
    <li><%= link_to current_user.full_name, edit_user_registration_path %></li>
    <li><%= link_to "Log Out", destroy_user_session_path, method: :delete %></li>
  <% end %> 

  <% else %>

    <li><%= link_to "Log In", new_user_session_path %></li>
    <li><%= link_to "Sign Up", new_user_registration_path %></li>
  <%end%>

</ul> 
```

一切正常，直到我添加了 Else 语句，但不知道我的错误是什么 - 我确信这是一个非常小的语法修复，但非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-26T05:19:49.113

您的代码中有错误。在开始之前，您的代码中
有额外的内容。 删除它可能会解决您的问题...`end``else`

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2013-02-26T05:25:05.077

正如其他人指出的那样，您的代码中的错误是您的和块`<% end %>`之间的额外错误。`if``else`

在我看来，真正的解决方案是将以下内容添加到您的 Gemfile 中：

```
group :development do
  gem 'better_errors'
end 
```

（当您看到由语法问题导致的此错误消息时，这通常是真正的解决方案。）

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-26T05:20:07.273

删除. `<% end %>`_`<% else %>`

代码应如下所示：

```
<ul class = "nav pull-right">
  <% if user_signed_in? %>
    <li><%= link_to current_user.full_name, edit_user_registration_path %></li>
    <li><%= link_to "Log Out", destroy_user_session_path, method: :delete %></li>

  <% else %>

    <li><%= link_to "Log In", new_user_session_path %></li>
    <li><%= link_to "Sign Up", new_user_registration_path %></li>
  <%end%>

</ul> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-09-30T19:45:06.283

如果您使用 HAML，这可能是原因：

```
- model_class = Products
  .products-page 
```

会解决什么问题？识别。

```
- model_class = Products
.products-page 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-08-16T20:04:28.407

在我的情况下，我忘记了`do`一个循环：

```
<% @things.each |thing| %> 
```

正确的格式是：

```
<% @things.each do |thing| %> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-26T05:22:49.347

```
<ul class = "nav pull-right">
  <% if user_signed_in? %>
    <li><%= link_to current_user.full_name, edit_user_registration_path %></li>
    <li><%= link_to "Log Out", destroy_user_session_path, method: :delete %></li>  
  <% else %>
    <li><%= link_to "Log In", new_user_session_path %></li>
    <li><%= link_to "Sign Up", new_user_registration_path %></li>
 <%end%>
</ul> 
```

应该是这样的

# spring - 使用基于 MVC-Spring 的应用程序中的每个 URL 生成“生存时间”参数？

> ID：15081873
> 
> 赞同：0
> 
> 时间：2013-02-26T05:17:11.207
> 
> 标签：spring, servlets, spring-mvc, csrf, session-timeout

在返回给客户端的 HTML 响应中，如何将参数值附加到每个 HTTP URL？我想将这些参数值附加到我的应用程序中生成的所有 URL，并希望在一个位置对此进行编码。

# python - 是否可以在文件的指定位置插入一些文本？

> ID：15081877
> 
> 赞同：0
> 
> 时间：2013-02-26T05:17:47.327
> 
> 标签：python

我想编写一个代码来插入一个文本文件，其中包含一些必须插入 HTML 文件的 Head 部分的代码。我不想手动操作，因为我在一个文件夹中有 100 个 HTML 文件。

是否可以告诉我的代码搜索 Head 标签并在其下方附加给定的文本文件？

我们应该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T06:49:29.050

如果您可以使用`sed`，这可能是您可以考虑的解决方案：

```
for file in *.html; do sed -i.bak '/<head>/a\ADD YOUR TEXT HERE' $i; done 
```

这会将“添加您的文本”写入包含`<head>`标记的行旁边的行。您的原始文件将添加一个扩展名`.bak`。

**PS**：如果您的原始文件很复杂并且不包含格式正确的 html 或者您要添加的文本很复杂，您应该使用 BeautifulSoup 或一些专门处理标记语言的库。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T08:28:56.103

由于您阅读了 html，我建议您使用 ElementTree 执行此操作，它的工作原理有点像这样：

```
import xml.etree.ElementTree as etree

html = etree.parse(file_path)
head = html.getroot().find('head')
# To insert a tag surrounding in <head>:
newtag = etree.Element("newtag", attrib={})
newtag.text = "Text inside newtag surrounding"
head.insert(0,newtag)
# To just insert a text inside the head tag surrounding:
head.text = newtext + head.text
html.write(new_file_path) 
```

[请参阅Python2](http://docs.python.org/2/library/xml.etree.elementtree.html)或[Python3](http://docs.python.org/3/library/xml.etree.elementtree.html)的ElementTree 文档

# java - Eclipse“无法解析为变量”

> ID：15081882
> 
> 赞同：1
> 
> 时间：2013-02-26T05:18:03.283
> 
> 标签：java, eclipse, variables, declare

在我的主要方法中，eclipse 在尝试创建新牌组时给了我“DeckOfCards 无法解析为变量”

当我将多个 .java 文件合并为一个以便于移植时，这种情况就开始发生了。

我正在失眠试图解决这个问题......请帮助

```
import java.util.Random;

public class PokerGame {

    class Card {

        private String face; // face of card ("Ace", "Deuce", ...)
        private String suit; // suit of card ("Hearts", "Diamonds", ...)

        // two-argument constructor initializes card's face and suit
        public Card(String cardFace, String cardSuit) {

            face = cardFace; // initialize face of card
            suit = cardSuit; // initialize suit of card
        } // end two-argument Card constructor

        // return String representation of Card
        public String toString() {
            return face + " of " + suit;
        } // end method toString
    }

    class DeckOfCards {

        private Card[] deck; // arrays of Card objects
        private int currentCard; // index of next Card to be dealt (0-51)
        private static final int NUMBER_OF_CARDS = 52; // constant # of Cards
        // random number generator
        private final Random randomNumbers = new Random();

        // constructor fills deck of Cards
        public DeckOfCards() {
            String[] faces = {
                "Ace", "Deuce", "Three", "Four", "Five", "Six", "Seven", "Eight", "Nine", "Ten", "Jack", "Queen", "King"
            };
            String[] suits = {
                "Hearts", "Diamonds", "Clubs", "Spades"
            };

            deck = new Card[NUMBER_OF_CARDS]; // create array of Card objects
            currentCard = 0; // set currentCard so first Card dealt is deck[ 0 ]

            // populate deck with Card objects
            for (int count = 0; count < deck.length; count++)
            deck[count] = new Card(faces[count % 13], suits[count / 13]);
        } // end DeckOfCards constructor

        // shuffle deck of Cards with one-pass algorithm
        public void shuffle() {
            // after shuffling, dealing should start at deck[ 0 ] again
            currentCard = 0; // reinitialize currentCard

            // for each Card, pick another random Card (0-51) and swap them
            for (int first = 0; first < deck.length; first++) {
                // select a random number between 0 and 51 
                int second = randomNumbers.nextInt(NUMBER_OF_CARDS);

                // swap current Card with randomly selected Card
                Card temp = deck[first];
                deck[first] = deck[second];
                deck[second] = temp;
            } // end for
        } // end method shuffle

        // deal one Card
        public Card dealCard() {
            // determine whether Cards remain to be dealt
            if (currentCard < deck.length) return deck[currentCard++]; // return current Card in array
            else return null; // return null to indicate that all Cards were dealt
        } // end method dealCard

    }
    public static void main(String[] args) {
        Card[] hand1, hand2;
        PokerGame.DeckOfCards myDeckOfCards = DeckOfCards.new DeckOfCards();
        myDeckOfCards.shuffle(); // place Cards in random order

        hand1 = new Card[5];
        hand2 = new Card[5];

        // print 5 Cards in the order in which they are dealt
        for (int i = 0; i < 10; i++) {

            if (i == 0) //display hand labels
            System.out.printf("Hand 1: \t   Hand 2: \n");

            if (i < 5) {
                hand1[i] = myDeckOfCards.dealCard();
                System.out.printf("%-19s", hand1[i]);
            }
            if (i >= 5) {
                hand2[i - 5] = myDeckOfCards.dealCard();
                System.out.printf("%-19s", hand2[i - 5]);
            }

            if ((i + 1) % 2 == 0) // output a newline after every other card
            System.out.println();
        } // end for
    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T05:22:46.867

改变

```
PokerGame.DeckOfCards myDeckOfCards = DeckOfCards.new DeckOfCards(); 
```

到

```
PokerGame.DeckOfCards myDeckOfCards = new PokerGame.DeckOfCards(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T05:24:52.890

你的两个班级应该是`Card`，即：`DeckOfCards``static`

```
static class Card {
    ...
}

static class DeckOfCards {
   ...
} 
```

否则，您需要一个`PokerGame`类的实例来创建它们，这是一个设计缺陷，因为`PokerGame`没有“状态”（没有字段/变量）。

实际上，它们应该是自己的顶级类（在自己的 java 文件中）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T05:21:10.647

```
DeckOfCards.new DeckOfCards(); 
```

这是错误的。尝试`new PokerGame.DeckOfCards()`或只是`new DeckOfCards();`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T05:24:47.910

这不是内部类的工作方式。

您首先需要创建实例的一个`PokerGame`实例：

```
PokerGame game = new PokerGame();
DeckOfCards myDeckOfCards = game.new DeckOfCards();
... 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-26T05:38:57.383

将 Card 和 DeckOfCards 定义移到 PokerGame 类定义之外，像这样

```
public class PokerGame {
   //your code goes here
}

class Card {
   //your code goes here
}

class DeckOfCards{
   //your code goes here
} 
```

这解决了您的内部类实例化问题，但这不是一个好的设计。类定义应该在它们各自的文件中，以便以后更容易合并更改。

# android - 修改惰性适配器以获取特定图像

> ID：15081889
> 
> 赞同：-1
> 
> 时间：2013-02-26T05:18:42.617
> 
> 标签：android, android-gridview, lazylist

我正在使用网格视图中的[LazyList从远程服务器获取图像。](https://github.com/thest1/LazyList)**我正在尝试将我的 gridview 修改为可点击的 gridview，它以特定位置全屏查看下载的图像。** 图片正在使用[LazyList](https://github.com/thest1/LazyList)缓存在 SD 卡和内存中。我想通过 url 的位置获取图片

这是我的代码，但我仍然无法正常工作。任何帮助将不胜感激！

这是我在网格视图中的 OnItemClicklistener

```
public void onItemClick(AdapterView<?> parent, View v, int position, long id) {
     // Sending image position to FullScreenActivity
         Intent i = new Intent(getActivity(), FullImageActivity.class);
         // passing array index
         i.putExtra("string", pathA);
         i.putExtra("position", position);
         startActivity(i);
} 
```

这是我调用以在全屏活动中查看特定图像的方法。我真的不明白如何使用同一个适配器调用具有位置的图像

```
 // get intent data
    Intent i = getIntent();

    // Selected image position
    int position = i.getExtras().getInt("id");
    String[] d = i.getStringArrayExtra("string");
    LazyAdapter imageAdapter = new LazyAdapter(this, d);

    ImageView imageView = (ImageView) findViewById(R.id.full_image_view);
    imageView.setImageResource(imageAdapter.d[position]); 
```

这是我使用的适配器的一部分 public class LazyAdapter extends BaseAdapter {

```
 private Activity activity;
    public String[] data;
    private static LayoutInflater inflater=null;
    public ImageLoader imageLoader; 

    public LazyAdapter(Activity a, String[] d) {
        activity = a;
        data=d;
        inflater = (LayoutInflater)activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        imageLoader=new ImageLoader(activity.getApplicationContext());
    }

    public int getCount() {
        return data.length;
    }

    public Object getItem(int position) {
        return position;
    }
    public long getItemId(int position) {
        return position;
    }

    public View getView(int position, View convertView, ViewGroup parent) {
        View vi=convertView;
        if(convertView==null)
            vi = inflater.inflate(R.layout.item, null);

        ImageView image=(ImageView)vi.findViewById(R.id.image);
        imageLoader.DisplayImage(data[position], image);
        return vi;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T04:13:09.847

经过大量尝试，我终于让它工作了，希望它可以帮助别人

在全屏活动.java

```
 // get intent data
    Intent i = getIntent();

    // Selected image url with position
    int position = i.getExtras().getInt("position");
    String[] d = i.getStringArrayExtra("string");
    ImageLoader imageLoader = new ImageLoader(getApplication());
    ImageView imageView = (ImageView) findViewById(R.id.full_image_view);
    imageLoader.DisplayImage(d[position], imageView); 
```

# c - 从文件保存和读取结构的问题

> ID：15081890
> 
> 赞同：0
> 
> 时间：2013-02-26T05:18:52.930
> 
> 标签：c, fopen

我正在做一项家庭作业，该作业涉及将二进制数据写入和读取到文件中。在这个分配中，我们需要将多个结构写入一个文件，然后能够将它们读回。现在，我从小开始，正在尝试将单个结构写入文件（这可行）。但是，从文件中读取数据后，我可以看到我的 int 的值已经改变（一些随机值），而字符串应该是这样的。为什么我会遇到这样的问题？？？它与机器的字节顺序有关吗？是否有任何其他选项可供我成功写入和读取二进制数据？

```
typedef struct
{
int number;
char name[256];
} header;

header hdr = {.number = 1000, .name = "Testing"};
FILE * ifp;
fp = fopen("FileName", "w");
fwrite(&hdr, sizeof(hdr), 1, fp);
fclose(fp);

FILE * ofp;
header newHdr;
ofp = fopen("FileName", "rb");
fread(&newHdr, sizeof(newHdr), 1, ofp);
fclose(ofp);

printf("number = %d \nname = %s\n", &newHdr.number, &newHdr.name);

number = 329346238
name = Testing

number = -6239872395
name = Testing 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:26:10.980

您正在将文件写入文本，但将文件读取为二进制文件。请执行具有相同属性更改 w 和 r 的功能

# android - AndEngine 库不能参考物理

> ID：15081891
> 
> 赞同：1
> 
> 时间：2013-02-26T05:18:55.170
> 
> 标签：android, eclipse, box2d, andengine

我刚刚在 Eclipse 上安装了 AndEngine，当我使用以下代码时，它不会引用某些类。我从 andengine 导入了所有内容，但它仍然找不到其中的一些。Body 和 FixedStepPhysicsWorld 不会被引用。

```
import org.andengine.*;

public class RagdollActivity extends BaseGameActivity implements IAccelerationListener, IOnSceneTouchListener {

    // ====================================================
    // CONSTANTS
    // ====================================================
    public static int cameraWidth = 800;
    public static int cameraHeight = 480;

    // ====================================================
    // VARIABLES
    // ====================================================
    public Scene mScene;
    public *FixedStepPhysicsWorld* mPhysicsWorld;
    public *Body* groundWallBody;
    public *Body* roofWallBody;
    public *Body* leftWallBody;
    public *Body* rightWallBody; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-02T17:55:39.867

我不知道这一点，但是 AndEngine 库不直接支持 Box2d。它是另一个库，可以从：

[Nicolas Gramlich（AndEngine 的创建者）的 GitHub 页面](https://github.com/nicolasgramlich/AndEnginePhysicsBox2DExtension)

为了在 AndEngine 游戏中使用 Box2D 物理，您还必须在 Eclipse 中添加这个库。

# java - Javafx 文本多字着色

> ID：15081892
> 
> 赞同：4
> 
> 时间：2013-02-26T05:18:55.153
> 
> 标签：java, colors, javafx

好的，我有一个 ListView 对象。我将其用作服务器的一种控制台窗口。这确实是我能想到的在这样的框中显示彩色文本的唯一方法。到目前为止，这很有效。现在我想做的是在一个索引或行上为不同的文本着色。

例子：

```
listView[0] = "Hello " + "world"; 
```

其中“ **Hello** ”为绿色，“ **world** ”为蓝色。如果这可以使用 javafx Text 或任何其他方式来完成，我想知道如何去做。我使用 Javafx Text 作为罪魁祸首，因为您可以使用它进行如此多的自定义。

我希望每个人都能理解我在这里想要做什么，如果没有，请告诉我，我会尝试改写一下。

***解决方案***

感谢jewelsea，我能够找到解决方案。我采用了一些不同的方法，而不是使用细胞工厂。

***列表显示***

```
ListView<FlowPane> consoleWindow = new ListView<>();
ArrayList<FlowPane> consoleBuffer = FXCollections.observableArrayList();

consoleWindow.setItems(consoleBuffer);

inputBox.setOnKeyPressed(new EventHandler<KeyEvent>() {
        @Override
        public void handle(KeyEvent keyEvent) {
           if (keyEvent.getCode() == KeyCode.ENTER) {
                consoleBuffer.add(parseInput.parseInputToArray(inputBox.getText()));
           }
            consoleWindow.scrollTo(consoleBuffer.size());
        }
}); 
```

***控制台输入解析***：

```
public class ConsoleInputParse {

    private String[] wordList = {};

    public ConsoleInputParse() {}

    public FlowPane parseInputToArray(String input) {
        wordList = input.trim().split("[ ]+");

        return colorize();
    }

    public FlowPane colorize() {

        ArrayList<Text> textChunks = new ArrayList<>();
        FlowPane bundle = new FlowPane();

        //Todo: use regex to check for valid words
        for (String word : wordList) {
            String spaced = word + " ";
            switch (word) {
                case "Hello": case "hello":
                    textChunks.add(customize(spaced, "purple"));
                    break;
                case "World": case "world":
                    textChunks.add(customize(spaced, "blue"));
                    break;
                case "Stack Overflow":
                    textChunks.add(customize(spaced, "orange", "Arial Bold", 15));
                default:
                    textChunks.add(customize(spaced, "black", "Arial",  13));
                    break;
            }
        }

        bundle.getChildren().addAll(textChunks);
        return bundle;
    }

    public Text customize(String word, String color) {
        return TextBuilder.create().text(word).fill(Paint.valueOf(color)).build();
    }

    public Text customize(String word, String color, String font) {
        return TextBuilder.create()
                .text(word)
                .fill(Paint.valueOf(color))
                .font(Font.font(font, 12)).build();
    }

    public Text customize(String word, String color, String font, int fontSize) {
        return TextBuilder.create()
                .text(word)
                .fill(Paint.valueOf(color))
                .font(Font.font(font, fontSize)).build();
    }

} 
```

![1](../Images/33b78974daa39c45421404b77732dced.png)“工作示例”

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-26T05:42:58.007

为您的[ListView](http://docs.oracle.com/javafx/2/api/javafx/scene/control/ListView.html)创建一个自定义[cellfactory](http://docs.oracle.com/javafx/2/api/javafx/scene/control/Cell.html)并让它生成包含具有不同[Text实例的](http://docs.oracle.com/javafx/2/api/javafx/scene/text/Text.html)[FlowPane](http://docs.oracle.com/javafx/2/api/javafx/scene/layout/FlowPane.html)的单元格，每个实例具有不同的样式。我创建了一个[示例](https://gist.github.com/jewelsea/5036908)来演示此方法。

样本输出：

![彩色文本](../Images/efb6be7b60ae27f50938741a6ec097c0.png)

在[Java 8](http://jdk8.java.net/download.html)中，您可以使用[`TextFlow`](http://docs.oracle.com/javase/8/javafx/api/javafx/scene/text/TextFlow.html)来设置文本样式，而不是`Text`在`FlowPane`.

**示例代码**

*水果.css*

```
/** 
 * fruits.css - place in same source directory as FruitsDisplay.java and 
 * ensure the build system copies the file over to the output path
 */
.root {
  -fx-font-size: 20px;
  -fx-font-family: "Comic Sans MS";
}

.list-cell {
  -fx-background-color: azure;
}

.fruit {
  -fx-font-weight: bold;
  -fx-font-style: italic;
}

.apple {
  -fx-fill: forestgreen;
}

.orange {
  -fx-fill: orange;
}

.pear {
  -fx-fill: gold;
} 
```

*FruitsDisplay.java*

```
import javafx.application.Application;
import javafx.collections.FXCollections;
import javafx.scene.*;
import javafx.scene.control.*;
import javafx.scene.image.*;
import javafx.scene.layout.*;
import javafx.scene.text.Text;
import javafx.stage.Stage;

import java.util.*;

/**
 * Sample of using a FlowPane to create styled text in JavaFX
 */
public class FruitsDisplay extends Application {
    private static final String[] fruits = {"apple", "orange", "pear"};
    private static final String[] fruitImageLocs = {
            "http://weknowyourdreamz.com/images/apple/apple-02.jpg",
            "http://pic.1fotonin.com/data/wallpapers/165/WDF_2048871.png",
            "http://vignette1.wikia.nocookie.net/pikmin/images/c/cc/Pear-01.jpg"
    };
    private Map<String, Image> fruitImages = new HashMap<>();

    public static void main(String[] args) {
        Application.launch(FruitsDisplay.class);
    }

    @Override
    public void start(Stage stage) throws Exception {
        stage.setTitle("Fruit Tales");

        for (int i = 0; i < fruits.length; i++) {
            Image image = new Image(fruitImageLocs[i], 0, 30, true, true);
            fruitImages.put(fruits[i], image);
        }

        ListView<String> list = new ListView<>(FXCollections.observableArrayList(fruits));
        list.setCellFactory(listView -> new FruitFlowCell());
        list.setPrefSize(440, 180);

        Scene scene = new Scene(list);
        scene.getStylesheets().add(getResource("fruits.css"));
        stage.setScene(scene);
        stage.show();
    }

    private String getResource(String resourceName) {
        return getClass().getResource(resourceName).toExternalForm();
    }

    private class FruitFlowCell extends ListCell<String> {
        static final String FRUIT_PLACEHOLDER = "%f";

        {
            setContentDisplay(ContentDisplay.GRAPHIC_ONLY);
        }

        @Override
        protected void updateItem(String s, boolean empty) {
            super.updateItem(s, empty);
            if (s != null && !"".equals(s) && !isEmpty()) {
                setGraphic(createFruitFlow(s));
            } else {
                setGraphic(null);
            }
        }

        private Node createFruitFlow(String s) {
            switch (s) {
                case "apple":
                    return createTextFlow("Eat an ", FRUIT_PLACEHOLDER, s, " a day.");
                case "orange":
                    return createTextFlow("An ", FRUIT_PLACEHOLDER, s, " has many vitamins.");
                case "pear":
                    return createTextFlow("A ", FRUIT_PLACEHOLDER, s, " has a funny shape.");
                default:
                    return null;
            }
        }

        private Node createTextFlow(String... msg) {
            FlowPane flow = new FlowPane();
            boolean isFruit = false;

            for (String s : msg) {
                if (FRUIT_PLACEHOLDER.equals(s)) {
                    isFruit = true;
                    continue;
                }

                Text text = new Text(s);
                if (isFruit) {
                    flow.getChildren().addAll(
                            new ImageView(fruitImages.get(s)),
                            createSpacer(5)
                    );
                    text.getStyleClass().addAll(
                            "fruit",
                            s
                    );
                    isFruit = false;
                } else {
                    text.getStyleClass().add("plain");
                }

                flow.getChildren().add(text);
            }

            return flow;
        }

        private Node createSpacer(int width) {
            HBox spacer = new HBox();
            spacer.setMinWidth(HBox.USE_PREF_SIZE);
            spacer.setPrefWidth(width);
            spacer.setMaxWidth(HBox.USE_PREF_SIZE);

            return spacer;
        }
    }
} 
```

# python - 无法在 django python 中提供静态文件，如 css、js

> ID：15081893
> 
> 赞同：9
> 
> 时间：2013-02-26T05:18:58.017
> 
> 标签：python, django, settings

我很陌生`django`，并且已经学习了很多天的教程，我已经开始使用 django 构建一个小型网站，并尝试`css`通过在文件中安排所有必要的设置来提供`settings.py`文件。但不幸的是，我的代码无法提供 css 文件，我的意思是提供 css 文件的概念不起作用。我用谷歌搜索了很多，并浏览了 django 主文档教程并根据它们进行了更改，但仍然无法正常工作，所以`SO`我将整个代码粘贴在下面

**项目文件夹结构**

```
 personnel_blog
      |____personnel_blog
      |____manage.py  |  
                      |____media
                      |____static
                      |       |____css
                      |             |____personnel_blog_hm.css 
                      |____template 
                      |        |____home_page.html
                      |____settings.py
                      |____urls.py
                      |____views.py
                      |____wsgi.py 
```

我的一些 settings.py 文件设置如下

**设置.py**

```
import os
PROJECT_DIR = os.path.abspath(os.path.dirname(__file__))
DEBUG = True
MEDIA_ROOT = os.path.join(PROJECT_DIR,'media')
MEDIA_URL = '/media/'
STATIC_ROOT = os.path.join(PROJECT_DIR,'static')
STATIC_URL = '/static/'

STATICFILES_DIRS = (
                    os.path.join(PROJECT_DIR,'static'),
    # Put strings here, like "/home/html/static" or "C:/www/django/static".
    # Always use forward slashes, even on Windows.
    # Don't forget to use absolute paths, not relative paths.
)
TEMPLATE_DIRS = (
                 os.path.join(PROJECT_DIR,'templates')
)
TEMPLATE_CONTEXT_PROCESSORS = (
    'django.core.context_processors.debug',
    'django.core.context_processors.i18n',
    'django.core.context_processors.media',
    'django.core.context_processors.static',
    'django.contrib.auth.context_processors.auth',
    'django.contrib.messages.context_processors.messages',
) 
```

**网址.py**

```
from django.conf.urls.defaults import *
from django.conf import settings
from django.contrib import admin
admin.autodiscover()

urlpatterns = patterns('',
     url(r'^$', 'personnel_blog.views.home_page'),
     url(r'^admin/', include(admin.site.urls)),
)
if settings.DEBUG:
    urlpatterns += patterns('',
        url(r'^media/(?P<path>.*)$', 'django.views.static.serve',{'document_root': settings.MEDIA_ROOT, 'show_indexes': True }),
        url(r'^static/(?P<path>.*)$', 'django.views.static.serve', {'document_root': settings.STATIC_ROOT, 'show_indexes': True }), 
```

)

**视图.py**

```
from django.shortcuts import render_to_response

def home_page(request):
    return render_to_response("home_page.html") 
```

**home_page.html**

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"> 
  <head>
    <link rel="stylesheet" href="{{ STATIC_URL }}css/personnel_blog_hm.css" type="text/css">
  </head>
  <body>
   <p>Hello !</p>
   <a href="/" target="_top">Home</a>
  </body> 
</html> 
```

**person_blog_hm.css**

```
body { background-color:green; }
p {color:blue;background-color:green;padding-left:20px;} 
```

以上是我的代码，谁能告诉我 settigns.py 文件或其他 py 文件有什么问题吗？

是否需要在上面的代码中做任何其他额外的设置？

所以任何人都可以调整我的代码并进行必要的更改，以便我继续前进并迈出网页设计的第一步..... :)

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-26T05:33:20.507

**base.html**

```
{% load static %}

<link rel="stylesheet" href="{% static 'css/personnel_blog_hm.css' %}" type="text/css"> 
```

**设置**

```
PROJECT_DIR  = os.path.dirname(__file__) 

MEDIA_ROOT = os.path.join(PROJECT_DIR,'media')
MEDIA_URL = '/media/'
STATIC_ROOT = os.path.join(PROJECT_DIR,'static')
STATIC_URL = '/static/'

STATICFILES_DIRS = (
    # Put strings here, like "/home/html/static" or "C:/www/django/static".
    # Always use forward slashes, even on Windows.
    # Don't forget to use absolute paths, not relative paths.
    os.path.join(PROJECT_DIR, 'staticfiles'),
) 
```

**网址**

```
from django.conf.urls.defaults import *
from django.conf import settings
from django.contrib.staticfiles.urls import staticfiles_urlpatterns
from django.conf.urls.static import static
from django.contrib import admin
admin.autodiscover()

urlpatterns = patterns('',
     url(r'^$', 'personnel_blog.views.home_page'),
     url(r'^admin/', include(admin.site.urls)),
)+ static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)

urlpatterns += staticfiles_urlpatterns() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T06:02:10.793

尝试将您的`STATICFILES_DIRS`设置更改为

```
STATICFILES_DIRS = (
    os.path.join(PROJECT_DIR,'static'),
) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T05:38:08.307

在`settings.py`尝试。

```
PROJECT_DIR  = os.path.dirname(__file__)
...
MEDIA_ROOT = os.path.join(PROJECT_DIR,'media')
MEDIA_URL = '/media/'
STATIC_ROOT = os.path.join(PROJECT_DIR,'static')
STATIC_URL = '/static/' 
```

我的`settings.py`文件通常与静态目录位于同一目录中

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-26T06:46:48.477

您的问题与此行有关：

```
return render_to_response("home_page.html") 
```

Django 的模板引擎需要两件事来正确渲染模板。

1.  模板名称
2.  上下文变量

这`context variable`是一个键/值字典，列出了模板可用的所有变量。

该`render_to_response`快捷方式实际上接受[两个不同的上下文变量参数](https://docs.djangoproject.com/en/dev/topics/http/shortcuts/#render-to-response)。

你两个都缺。

如果没有这些变量，模板就没有任何可用的变量。所以你的`{{ STATIC_URL }}`模板变量可能是空白的。

要更正，请尝试以下操作：

```
from django.shortcuts import render_to_response
from django.template import RequestContext

def home_page(request):
    return render_to_response("home_page.html", {}, context_instance=RequestContext(request)) 
```

# php - 如何反序列化两个序列化数组

> ID：15081896
> 
> 赞同：2
> 
> 时间：2013-02-26T05:19:06.930
> 
> 标签：php

我在数据库中存储了多个序列化数组..lke 这个

```
a:2:{s:2:"B5";s:5:"user1";s:2:"B4";s:5:"user1";}a:1:{s:2:"A3";s:5:"user1";}a:1:{s:2:"A4";s:5:"user1";} 
```

但是当我反序列化该数组时

```
 $booked_seats = $r1['user_seats'];
    $b = unserialize($booked_seats);
    var_dump($b); 
```

它只向我显示了这样的第一个非序列化数组的结果，

```
 array
  'B5' => string 'user1' (length=5)
  'B4' => string 'user1' (length=5) 
```

但我希望我所有的数组都被反序列化..请......支持....我应该使用什么？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:38:48.293

我们可以用 爆炸串联的序列化字符串`}`吗？

```
$r1['user_seats'] = 'a:2:{s:2:"B5";s:5:"user1";s:2:"B4";s:5:"user1";}a:1:{s:2:"A3";s:5:"user1";}a:1:{s:2:"A4";s:5:"user1";}';
$user_seats = explode('}', $r1['user_seats']);
foreach ($user_seats as $user_seat) {
    if (strlen($user_seat)) {
        $user_seat .= '}';
        $booked_seat = $user_seat;
        $b = unserialize($booked_seat);
        var_dump($b);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T05:50:56.963

```
$serial = 'a:2:{s:2:"B5";s:5:"user1";s:2:"B4";s:5:"user1";}a:1:{s:2:"A3";s:5:"user1";}a:1:{s:2:"A4";s:5:"user1";}';
$serial=str_replace('{', '|', $serial);
$serial=str_replace('}', '|', $serial);

$p = explode('|', $serial);
echo '<pre>';
print_r($p);

$total = count($p);
$arrr=array();
for($i=0; $i<=$total; $i++){
    if(strlen($p[$i])>1){
        $arrr[$i] = $p[$i] . "{" . $p[$i+ 1]  . "}";
        $i++;
    }
}
foreach($arrr as $key => $value){
    var_dump(unserialize($value));
} 
```

结果：

```
array(2) {
  ["B5"]=>
  string(5) "user1"
  ["B4"]=>
  string(5) "user1"
}
array(1) {
  ["A3"]=>
  string(5) "user1"
}
array(1) {
  ["A4"]=>
  string(5) "user1"
} 
```

# android - 取消放大下一张图片已更改

> ID：15081897
> 
> 赞同：1
> 
> 时间：2013-02-26T05:19:08.057
> 
> 标签：android

我面临一个与在 android imageview 中捏缩放相关的问题。我正在使用以下代码进行图像捏合缩放。[http://androidtrainningcenter.blogspot.in/2012/04/pinching-zoom-in-android-image-view-or.html](http://androidtrainningcenter.blogspot.in/2012/04/pinching-zoom-in-android-image-view-or.html)。

我正在对图像视图中的图像阵列使用这种捏缩放。这里我的问题是，如果我放大第一张图像然后我移动到第二张图像意味着第二张图像也显示缩放。但是，如果我更改下一张图像，它不应该显示缩放。当我捏住那个特定的图像时，只有我会放大。

# datetime - Amazon ec2 更改时区 Mac

> ID：15081898
> 
> 赞同：1
> 
> 时间：2013-02-26T05:19:09.473
> 
> 标签：datetime, amazon-ec2, amazon

我正在发布此内容，并且我确实了解还有其他类似的帖子，但是，其他解决方案对我不起作用。

当我尝试在我的 Amazon ec2 服务器上运行它时，它给了我一个错误。

命令：

```
ln -sf /usr/share/zoneinfo/America/New_York /etc/localtime 
```

错误：

```
ln: cannot remove `/etc/localtime': Permission denied 
```

我看过类似的帖子，这是一个简单的解决方案，但是......它不起作用。我在 aws.amazon.com 上运行 Ubuntu 服务器并拥有一台 Mac。

任何人都可以为我的问题提供解决方案吗？

如果这是我做错的愚蠢或愚蠢的事情，请提前道歉。

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T11:17:03.283

尝试使用超级用户；

`sudo ln -sf /usr/share/zoneinfo/America/New_York /etc/localtime`

# javascript - 我可以从 android sharedpreferences 在网络浏览器中获取数据吗？

> ID：15081899
> 
> 赞同：2
> 
> 时间：2013-02-26T05:19:09.763
> 
> 标签：javascript, android, web

我正在为 android 开发一个应用程序，在其中我将一些数据存储到共享首选项中。现在我的问题是我可以在同一设备上的网络浏览器中获取该数据吗？

```
For example:
when i run my application 
I have stored something like this :
Key :User_Email
Value:abc@abc.com 
```

然后关闭应用程序。

现在我在 android 网络浏览器上并打开我添加了一个按钮的网页，单击此按钮时，我试图从共享首选项中获取该值。

请帮我...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-01T05:24:55.890

互联网和安卓应用程序是不同的东西。

由于安全原因，您不能直接执行此操作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T05:22:24.150

您可以使用以下示例代码：

```
String html = sharedPref.getString("KEY");
String mime = "text/html";
String encoding = "UTF-8";

webview.loadDataWithBaseURL(null, html, mime, encoding, null); 
```

# php - 在 SugarCRM 自定义字段中添加值的挂钩

> ID：15081906
> 
> 赞同：2
> 
> 时间：2013-02-26T05:19:30.047
> 
> 标签：php, sugarcrm

我是 SugarCRM 的新手。我在会议模块中创建了一个名为“帐户名称”的自定义字段，因此如果我们从相关字段中选择联系人，该联系人的“帐户名称”会自动添加到该字段中。

这是我的代码：

```
$hook_array['after_retrieve'] = Array(); 
$hook_array['after_retrieve'][] = Array(1, 'Add custom account', 
    'custom/modules/Meetings/AddAccount.php','AddAccount', 'addAcc'); 
```

**逻辑钩：**

```
class AddAccount
{
    public function addAcc(&$bean, $event, $arguments)
    {
        global $current_user;
        global $db;

        echo "<pre>";
        $meeting_id = $_REQUEST['record'];
        $query = "SELECT *  FROM `meetings_contacts` WHERE `meeting_id` LIKE '$meeting_id'";
        $result = $bean->db->query($query, true, " Error filling in additional detail fields: ");

        if ($bean->db->getRowCount($result) > 0) {
            while ($row = $bean->db->fetchByAssoc($result)) {
                $contact_id = $row['contact_id'];
            }
            if (isset($contact_id)) {
                $query1 = "SELECT *  FROM `accounts_contacts` WHERE `contact_id` LIKE '$contact_id'";
                $result1 = $bean->db->query($query1, true, " Error filling in additional detail fields: ");

                while ($row1 = $bean->db->fetchByAssoc($result1)) {
                    $account_id = $row1['account_id'];
                }

                $query2 = "SELECT *  FROM `accounts` WHERE `id` LIKE '$account_id'";
                $result2 = $bean->db->query($query2, true, " Error filling in additional detail fields: ");

                while ($row2 = $bean->db->fetchByAssoc($result2)) {
                    $account_name = $row2['name'];
                }

                $update_custom_account = "UPDATE `meetings_cstm` SET `accountname_c` = '$account_name' WHERE `meetings_cstm`.`id_c` = '$meeting_id';";
                $Change = $bean->db->query($update_custom_account);
            }
        }
    }
} 
```

问题是该字段正在添加，但 ListView 中的“i”已停止工作。有没有比这个长查询更简单的方法？

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-27T20:19:49.497

这是执行上述操作的更好方法。

**自定义/模块/会议/logic_hooks.php**

```
// position, file, function
$hook_array['after_retrieve'] = Array();
$hook_array['after_retrieve'][] = Array(1, 'Add custom account', 'custom/modules/Meetings/AddAccount.php', 'AddAccount', 'getAccountName');
$hook_array['after_save'] = Array();
$hook_array['after_save'][] = Array(1, 'Add custom account', 'custom/modules/Meetings/AddAccount.php', 'AddAccount', 'getAccountName'); 
```

**自定义/模块/会议/AddAccount.php**

```
class AddAccount {

    public function getAccountName(&$bean, $event, $arguments) {

       if ($bean->parent_type == 'Contacts') {
            $contact = BeanFactory::getBean('Contacts', $bean->parent_id);
            $contact->load_relationship('accounts_contacts');

            $account = BeanFactory::getBean('Accounts', $contact->account_id);
            $bean->account_name_c = $account->name;
        }
    }
} 
```

这样，您使用的是 bean 而不是 SQL。

**编辑：**

要添加新字段，您可以创建此文件...</p>

**自定义/扩展/模块/会议/Ext/Vardefs/account_name_c.php**

```
<?php
    $dictionary['Meeting']['fields']['account_name_c'] =
        array (
            'name' => 'account_name_c',
            'vname' => 'LBL_ACCOUNT_NAME_C',
            'type' => 'varchar',
            'len' => '255',
            'unified_search' => true,
            'comment' => 'Account name for meeting',
            'studio' => 'true',
        ); 
```

然后在修复/重建后，转到 Studio > Meetings > Layouts > ListView 并将新字段从“隐藏”拖放到“默认”。选择“保存并部署”按钮，保存会议记录后，您的帐户名称将出现在列表视图中。

# sql - 涉及弱实体集的一对一关系的数据库模式是什么？

> ID：15081907
> 
> 赞同：2
> 
> 时间：2013-02-26T05:19:30.177
> 
> 标签：sql, database-design, relational-database, entity-relationship, database-schema

这是我的问题：

“LoanRequest”在批准后变为“贷款”。

![在此处输入图像描述](../Images/0af4f789ee0cef0f5a60f4bb11160999.png)
在这里，将有 2 个表：LoanRequest & Loan

LoanRequest 的关键是

```
 {RequestDate, Borrower} 
```

考虑到“贷款”是一个弱实体集，贷款的键应该是`{ApprovalDate, Borrower, RequestDate}`，但是，键决定了实体的其余属性。那么，在这里，`{RequestDate, Borrower}`可以单独确定“贷款”，那么为什么应该`{ApprovalDate, Borrower, RequestDate}`是关键呢？

另外，为什么我们不能认为 Loan “是” LoanRequest，因为 Loan 实际上是批准的贷款请求？
![在此处输入图像描述](../Images/dff3b8eb5b4162a3e3588d54469c291b.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T06:25:50.343

大概这不是（强制性）1-1 关系，因为并非所有贷款请求也是批准的贷款？我希望这种关系是 1 - 0/1。

如果借款人每天只能申请一笔贷款确实是一项业务规则，那么 {Borrower, RequestDate} 似乎是贷款和已批准贷款的候选键。如果 {Borrower, RequestDate} 是候选键，则 {ApprovalDate, Borrower, RequestDate} 不能也是键 - 键必须是不可约的。

写下您打算通过数据模型表示的事实类型和业务规则。在您确定想要图表显示的内容之前，您似乎陷入了 ER 图的局限性。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T06:26:23.847

你想太多了，这通常会让你走上错误的道路。

1.  没有批准日期的贷款不存在。那么，借款人和请求日期如何告诉您有关不存在的贷款的任何信息？钥匙的好片子你不觉得吗？

2.  贷款请求不是贷款，而是请求。它们具有不同的属性，并且在业务中服务于两个不同的目的。

# git - 如何更改用于 git 格式补丁的 From: 地址？

> ID：15081915
> 
> 赞同：2
> 
> 时间：2013-02-26T05:19:57.913
> 
> 标签：git

我正在为一个开源项目生成一些补丁，而我的 From: 行始终是 me@domain.com。在运行 git send-email 之前，我一直在手动将 From: 行编辑为 me-emaillist@domain.com。

1.  反正有没有自动做到这一点？
2.  我应该这样做吗？我已经在使用信封发件人配置。
3.  由于我更改了发件人地址，上游 repo 中的作者行会是“me-emaillist@domain.com”吗？

例子：

```
From fab0cf45f10686688a8138f60a09505200cbb2a4 Mon Sep 17 00:00:00 2001
From: John Doe <me-emaillist@domain.com>
Date: Mon, 25 Feb 2013 23:06:23 -0500
Subject: [PATCH] nand: adjust erase/read/write partition/chip size for bad blocks 
```

在考虑了 mvp 的回答后，我的明确回答是：

1.  没有为什么...
2.  没有为什么...
3.  是的，From: 行取自提交的作者，因为`git am`在上游存储库中设置作者姓名时使用 From: 行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-17T06:58:06.337

使用[git1.8.4 (July 2013)](https://github.com/git/git/blob/master/Documentation/RelNotes/1.8.4.txt)，您现在可以设置“来自字段”：

> " `git format-patch`"learned " `--from[=whom]`" 选项，将 " `From:`" 标头设置为指定的人（或运行命令的人，如果`=whom`缺少 " " 部分），并根据需要将原始作者信息移动到正文`From:`标头。

请参阅[提交 a90804752f6ab2b911882d47fafb6c2b78f447c3](https://github.com/git/git/commit/a90804752f6ab2b911882d47fafb6c2b78f447c3)：

> `format-patch`生成电子邮件，其中“ `From`”地址设置为每个补丁的作者。但是，如果您要发送电子邮件，则需要将作者身份替换为您的身份（如果它们不相同），并将作者身份添加到正文标题中。
> 
> 通常这是由 处理的`git-send-email`，它在发送电子邮件之前进行转换。但是，某些工作流程可能不使用发送电子邮件（例如，imap-send 或将 mbox 提供给非 git MUA 的自定义脚本）。他们每个人都可以自己实现此功能，但要做到这一点并非易事（必须通过反转任何 RFC2047 编码或标头的 RFC822 引用来规范化身份，这已导致多年来发送电子邮件中的许多错误）。
> 
> 这个补丁采用了不同的方法：它教格式补丁一个“ `--from`”选项，该选项在写出电子邮件时处理身份检查和正文标题。
> 在这个级别做起来要简单得多（因为我们还没有做任何引用），任何基于 format-patch 的工作流都可以轻松开启它。
> 
> 签字人：杰夫·金`<peff@peff.net>`

您现在可以执行以下操作：

```
git format-path --from=... 
```

和：

```
--from::
--from=<ident>:: 
```

> `ident`在`From:`每个提交电子邮件的标题中使用。
> 如果提交的作者标识在文本上与提供的 不同，请在消息正文中`ident`放置一个`From:`标头与原始作者。
> 如果没有`ident`给出，则使用提交者身份。
> 
> **请注意，此选项仅在您实际发送电子邮件并希望将自己标识为发件人但保留原作者**（`git am`并将正确选择正文内标头）时有用。
> **另请注意，它`git send-email`已经为您处理了此转换，如果您将结果提供给`git send-email`**.

* * *

2016 年 8 月更新（3 年后）

请参阅[Josh Triplett (](https://github.com/joshtriplett) [)的](https://github.com/joshtriplett)[提交 6bc6b6c](https://github.com/git/git/commit/6bc6b6c0dc0a58874a7a6b9afc3156a5cf9bb10d)（2016 年 8 月 1 日） 。^(（由)^([Junio C Hamano 合并 --](https://github.com/gitster)) ^([--](https://github.com/gitster))^在^([db40a62 提交中](https://github.com/git/git/commit/db40a622395397c84c247d343ef62acc8775d6b2))^(，2016 年 8 月 10 日）)[`joshtriplett`](https://github.com/joshtriplett)
^([`gitster`](https://github.com/gitster))

> ## `format-patch`:`format.from`给出默认值`--from`
> 
> 这可以帮助那些喜欢 format-patch 以默认为`--from`的用户，并使将来更容易更改默认值。

[`git config`手册页现在包括](https://github.com/git/git/blob/6bc6b6c0dc0a58874a7a6b9afc3156a5cf9bb10d/Documentation/config.txt#L1230-L1238)：

```
format.from: 
```

`--from`为格式化补丁选项提供默认值。
接受布尔值或名称和电子邮件地址。

> *   如果`false`，`format-patch`默认为`--no-from`，直接在补丁邮件的“发件人：”字段中使用提交作者。
> *   如果`true`，`format-patch`默认为`--from`，在补丁邮件的“”字段中使用您的提交者身份，如果不同，则在补丁邮件的正文中`From:`包含一个“ `From:`”字段。
> *   如果设置为非布尔值，格式补丁将使用该值而不是您的提交者身份。
> 
> 默认为`false`.

* * *

请注意，使用 Git 2.26（2020 年第一季度）可以更好地管理空间。

请参阅[Jeff King (](https://github.com/peff) [)的](https://github.com/peff)[提交 f696a2b](https://github.com/git/git/commit/f696a2b1c850c81130740945835beec72727debf)、[提交 ffbea18](https://github.com/git/git/commit/ffbea1816dcbce12d4ffb304ddf8993ef611d4f1)、[提交 f447d02](https://github.com/git/git/commit/f447d0293e803d9acf390bbdf373ed98bdc125f4)、[提交 b6537d8](https://github.com/git/git/commit/b6537d83ee30693efb17a35321b8bd03b752033a)（2020 年 2 月 11 日） 。^(（由)^([Junio C Hamano 合并 --](https://github.com/gitster)) ^([--](https://github.com/gitster))^在^([d880c3d 提交中](https://github.com/git/git/commit/d880c3de231da4ff930d12e07b3cae9dc0c31415))^(，2020 年 2 月 17 日）)[`peff`](https://github.com/peff)
^([`gitster`](https://github.com/gitster))

> ## [`mailinfo`](https://github.com/git/git/commit/ffbea1816dcbce12d4ffb304ddf8993ef611d4f1): 更自由地使用标题空格
> 
> ^(签字人：杰夫·金)
> 
> RFC822 和朋友允许在标头的冒号之后和值之前使用任意空格。
> IE：
> 
> ```
> Subject:foo
> Subject: foo
> Subject:  foo 
> ```
> 
> 都有主语“ `foo`”。但`mailinfo`只需要一个空格。
> 这似乎并没有打扰任何人，但它比标准指定的更挑剔。我们可以轻松地在解析器中吸收任意空白，所以让我们这样做。
> 
> 请注意，测试涵盖的空格太少和太多，但“太多”的情况已经可以正常工作（因为我们稍后会从值中吃掉前导和尾随空格）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T05:23:43.840

设置你的 git 身份就足够了：

```
git config --global user.email me@domain.com
git config --global user.name "John Doe" 
```

您还可以为每个 git 存储库设置您的身份：在该 git 存储库中运行这些命令并简单地省略`--global`标志。

您可能不应该使用`me-emaillist@domain.com`，因为如果有人使用`git am`它，此提交将没有您的身份。

这样做的唯一原因可能是避免向您的主要地址发送垃圾邮件——但我认为，一旦它公开，您无论如何都会收到它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T05:23:07.137

尝试运行`echo 'alias me "John Doe <me-emaillist@domain.com"' >> ~/.gitaliases`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-06-18T14:25:37.660

使用特定电子邮件地址而不是其他电子邮件地址的另一种选择是使用**sendmail 电子邮件别名格式**，现在由[`git send-email`](https://git-scm.com/docs/git-send-email)（至少在 Git 2.5+，2015 年 7 月）支持

请参阅[Allen Hubbe (](https://github.com/allenbh) [)的](https://github.com/allenbh)[提交 3169e06](https://github.com/git/git/commit/3169e06daf297227362fb64a9d5c2cc451fefcbb)（2015 年 5 月 26 日） 。^(（由)^([Junio C Hamano 合并 --](https://github.com/gitster)) ^([--](https://github.com/gitster))^在^([412e63f 提交中](https://github.com/git/git/commit/412e63f0fd683addc380f9c65d05306bd2027039))^(，2015 年 6 月 16 日）)[`allenbh`](https://github.com/allenbh)
^([`gitster`](https://github.com/gitster))

> ## `send-email`: 添加`sendmail`电子邮件别名格式
> 
> 教 send-email 以`sendmail`aliases 格式读取别名，即

```
<alias>: <address|alias>[, <address|alias>...] 
```

> 例子：

```
alice: Alice W Land <awol@example.com>
bob: Robert Bobbyton <bob@example.com>
# this is a comment
   # this is also a comment
chloe: chloe@example.com
abgroup: alice, bob
bcgrp: bob, chloe, Other <o@example.com> 
```

笔记：

> *   不支持带引号的别名和带引号的地址。
> *   不支持续行。

* * *

对于 Git 2.6+（2015 年第三季度），[Remi Lespinet ( `Awaryn`)](https://github.com/Awaryn)对该功能进行了*巨大的修改：*

> " " 现在对通过等`git send-email`给出的名称执行别名扩展。`--cccmd`
> 
> 这一轮带有更多增强的电子邮件地址解析器。

见[提交 fa5b1aa](https://github.com/git/git/commit/fa5b1aa9a1e1f0ad7b2728bec3712d3fab5fe734)，[提交 b1c8a11](https://github.com/git/git/commit/b1c8a11c8024c88346a06274f87a0605afd4a53b)，[提交 1fe9703](https://github.com/git/git/commit/1fe9703f08cfac8bd2db7a17bb6f3a61cf20ef35)，[提交 c46e27a](https://github.com/git/git/commit/c46e27aa774eae2ac58f1763afe00108f3a1e5d3)，[提交 193d716](https://github.com/git/git/commit/193d7160111ebf5b898f53240c33c1e4101d9598)，[提交 b5e112d](https://github.com/git/git/commit/b5e112d8d240b299553f17c8e476ef16fca4001f)，[提交 d4cf11c](https://github.com/git/git/commit/d4cf11c2e948890c2daf27fba6727e3b814cfe3c)，[提交 f6f79e5](https://github.com/git/git/commit/f6f79e5ee3d0b0fa1d2084bae31f8ea8e7d5c3f8)，[提交 62089fb](https://github.com/git/git/commit/62089fb8e9863b93cc7d9280ec39818dc28c23bf)，（2015 年 6 月 30 日），[提交 b1c8a11](https://github.com/git/git/commit/b1c8a11c8024c88346a06274f87a0605afd4a53b)，（2015 年 6 月 20 日，[提交），（3） 8d314d7](https://github.com/git/git/commit/8d314d7afec5adaaa8e22332e39fe84a39584653)（2015 年 7 月 7 日），作者[Remi Lespinet ( `Awaryn`)](https://github.com/Awaryn)。
^(（由[Junio C Hamano 合并 -- `gitster`--](https://github.com/gitster)在[8f50e2e 提交中](https://github.com/git/git/commit/8f50e2eef794bf8be4705738756c00c39042db03)，2015 年 8 月 3 日）)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-11-03T18:26:08.300

对我来说（git 版本 2.17.1）这有效：

`git config format.from true`

根据`man git config`：

> ... If true, format-patch defaults to --from, using your committer identity in the "From:" field of patch mails and including a "From:" field in the body of the patch mail if different.

# python - 如何在逗号之间查找带有特殊短语的数据以进行锚定

> ID：15081920
> 
> 赞同：-1
> 
> 时间：2013-02-26T05:20:23.920
> 
> 标签：python, regex

我有 html 字符串：

```
 <SCRIPT LANGUAGE="JavaScript">
   prod155920017Matrix = new Array();
   prod155920017Matrix[0] = new Array();
   prod155920017Matrix[1] = new Array();
   prod155920017Matrix[2] = new Array();
   prod155920017Matrix[3] = new Array();
   prod155920017Matrix[4] = new Array();
   prod155920017Matrix[5] = new Array();
   prod155920017Matrix[6] = new Array();
   prod155920017Matrix[7] = new Array();
   prod155920017Matrix[8] = new Array();
   prod155920017Matrix[9] = new Array();
   prod155920017Matrix[0][0] = new product('0','prod155920017','sku143650081','36.0B/6.0B','BLACK','Joni Snake-Print Thong Sandal',false,0,'',8,'3','/category/images/prod_stock1.gif',new Array(),'','false',9999,'null');
   prod155920017Matrix[0][0].vendorRestrictedDates[0] = '20130903';
   prod155920017Matrix[0][0].vendorRestrictedDates[1] = '20131129';
   prod155920017Matrix[0][0].vendorRestrictedDates[2] = '20130902';
   prod155920017Matrix[0][0].vendorRestrictedDates[3] = '20130101';
   prod155920017Matrix[0][0].vendorRestrictedDates[4] = '20121225';
   prod155920017Matrix[0][0].vendorRestrictedDates[5] = '20130528';
   prod155920017Matrix[0][0].vendorRestrictedDates[6] = '20140102';
   prod155920017Matrix[0][0].vendorRestrictedDates[7] = '20140101';
   prod155920017Matrix[0][0].vendorRestrictedDates[8] = '20131128';
   prod155920017Matrix[0][0].vendorRestrictedDates[9] = '20131226';
   prod155920017Matrix[0][0].vendorRestrictedDates[10] = '20121226';
   prod155920017Matrix[0][0].vendorRestrictedDates[11] = '20130527';
   prod155920017Matrix[0][0].vendorRestrictedDates[12] = '20130705';
   prod155920017Matrix[0][0].vendorRestrictedDates[13] = '20131225';
   prod155920017Matrix[0][0].vendorRestrictedDates[14] = '20130102';
   prod155920017Matrix[0][0].vendorRestrictedDates[15] = '20130704';

   prod155920017Matrix[0][0].storeFulfillStatus = 'false';
   prod155920017Matrix[1][0] = new product('0','prod155920017','sku143650082','36.5B/6.5B','BLACK','Joni Snake-Print Thong Sandal',false,0,'',10,'3','/category/images/prod_stock1.gif',new Array(),'','false',9999,'null');   
</SCRIPT> 
```

我尝试使用这个正则表达式：从**脚本**标签`new product(\([^,]*),([^,]*),([^,]*),([^,]*),([^,]*)`获取数据：'36.0B/6.0B'，'BLACK' 。但我不能。请帮我弄到它们。非常感谢大家！

 *** * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:26:16.683

反斜杠在错误的位置：

```
new product\(([^,]*),([^,]*),([^,]*),([^,]*),([^,]*) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T06:19:21.800

```
\'\d{2}\.\d[A-Z]\/\d\.\d[A-Z]\',\'[\w]+\' 
```

这应该会给你预期的结果。由于正则表达式只能进行模式匹配，因此您不能使用正则表达式在结果字符串周围“添加字符”（和），您必须使用 python 来完成。**

# jquery - 如何使用 shift 键选择 jQuery 数据表中的多行

> ID：15081921
> 
> 赞同：3
> 
> 时间：2013-02-26T05:20:27.603
> 
> 标签：jquery, datatable, datatables

我需要使用 shift 键在 jQuery 数据表中选择多行，与 shift 键选择功能相同，并将所选行项存储在变量中。我还需要使用点击事件选择多行。

使用单个变量，我需要传递实时点击行和移位选择行。我该怎么做？

这无法正常工作，并且不会为所选行存储单个变量。我哪里错了？

我的代码：

```
var aSelected = [];
var lastSelected;

$('#table tr').live('click', function (event) {
    var tableRow = $(this).closest("tr").prevAll("tr").length + 1;

    var id = this.cells[0].innerHTML;
    var index = jQuery.inArray(id, aSelected);
    if (index === -1) {
        aSelected.push(id);
    } else {
        aSelected.splice(index, 1);
    }

    $(this).toggleClass('row_selected');

    if (event.shiftKey) {
        var table = $('#table ');
        var start = Math.min(tableRow, lastSelected);
        var end = Math.max(tableRow, lastSelected);

        for (var i = start; i < end; i++) {
            $('#table').each(function () {
                table.find('tr:gt(' + (start - 1) + '):lt(' + (end) + ')').addClass('row_selected');
            });
        }

    } else {

        lastSelected = $(this).closest("tr").prevAll("tr").length + 1;
    }
}); 
```

例如我有 20 行。有 3 个原因我选择行并传递选定的行 id 1\. 使用 Ctrl 键选择多行并传递 2\. 使用 shift 键选择下一个 10 行并传递 3\. 使用 shift 键选择下一个 10行和额外的 2 行使用 Ctrl 键其他 10 行并传递 12 行

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:24:00.660

使用以下代码

```
 $('#tableId').dataTable( {

    "sDom": 'T<"clear">lfrtip',
    "oTableTools": {
        "sRowSelect": "multi",
        "aButtons": [ "select_all", "select_none" ]
    }
} ); 
```

通过使用此代码，您可以选择多行而不使用 shift 键

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-01-28T15:17:38.330

```
window.onmousemove = function (e) {
    shiftKey=false;
    if (e.shiftKey) shiftKey=true;
} 
dataTableID='yourDataTable';
$('#'+dataTableID).DataTable().on( 'select', function ( e, dt, type, indexes ) {                        
    thisID=e.currentTarget.id;
    selecting=$('#'+thisID).attr('selecting');
    if (typeof(selecting)=="undefined" || selecting=="false"){
        idx=indexes[0];
        lastSelected=$('#'+thisID).attr('lastSelected');

        if (shiftKey==true) {
            $('#'+thisID).attr('lastSelected',idx);
            if (typeof(lastSelected)!="undefined" && lastSelected !='') {   
                min=idx+1;
                max=lastSelected;
                if (max<min) {
                    tmp=min;
                    min=max;
                    max=tmp;                
                }
                if (min<max) {
                    $('#'+thisID).attr('selecting',"true");
                    for (x=min;x<max;x++) $('#'+thisID).DataTable().row( x ).select();
                    $('#'+thisID).attr('selecting',"false");                                    
                }
            }
        } else {
            $('#'+thisID).attr('lastSelected','');
        }
    }                    
});
$('#'+settings.sTableId).DataTable().on( 'deselect', function ( e, dt, type, indexes ) {                        
    thisID=e.currentTarget.id;
    $('#'+thisID).attr('lastSelected','');                 
}); 
```

# java - 如何将给定的偏移时间（以秒为单位）转换为 java 中的 +hh:mm 等格式？

> ID：15081930
> 
> 赞同：0
> 
> 时间：2013-02-26T05:21:47.390
> 
> 标签：java, timezone, liferay, convert-tz

我想支持时区..因为我用UTC时间将日期值存储在数据库中，然后我转换时间取决于用户本地时区..因为我在我的数据库查询中使用这一行

`CONVERT_TZ(modifiedtime,'+00:00','+05:30')`这将为我提供印度标准时间的本地时区...但我的问题是我只有特定用户的秒数和 id 偏移量..

那么无论如何我可以将偏移量转换为格式，就像`+05:30 or say +04.00 ,+04.30..` 任何人都可以给我适当的解决方案，如果我可以将这个以秒为单位的偏移量转换为格式，`+hh:mm`那么我可以直接将它提供给查询......

我正在使用 liferay 6.1 门户，因为我创建了我的自定义 portlet..所以我需要用 java 语言编写这段代码......所以请任何人指导我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-26T10:38:06.373

以下内容可能会更短且更方便

```
private static SimpleDateFormat plus = new SimpleDateFormat("+hh:mm");

private static SimpleDateFormat minus = new SimpleDateFormat("-hh:mm");

private static String getTimeCode(int seconds) {
    SimpleDateFormat simpleDateFormat = (seconds < 0) ? minus : plus;
    if (seconds < 0) seconds = 12 * 3600 - seconds;
    simpleDateFormat.setTimeZone(TimeZone.getTimeZone("UTC"));
    return simpleDateFormat.format(new Date(seconds * 1000));
}

int seconds = 5 * 3600 + 30 * 60;
String format = getTime(seconds); //+05:30
format = getTime(-1 * seconds);   //-05:30 
```

以上代码可能不适用于所有编码标准，但简称为 SO

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T06:23:12.340

您可以尝试编写自己的转换代码或尝试以下操作：

```
 long offset = 19800; //offset IST (seconds)
  long time = TimeUnit.SECONDS.toMinutes(offset); //or offset/60
  long hour = time / 60;
  long min = Math.abs(time % 60);
  String hrStr = "";
  if (hour > 0 && hour < 10) {
    hrStr = "+0" + String.valueOf(hour);
  } else if (hour >= 10) {
    hrStr = "+" + String.valueOf(hour);
  } else if (hour < 0 && hour > -10) {
    hrStr = "-0" + String.valueOf(hour).substring(1);
  } else {
    hrStr = String.valueOf(hour);
  }
  String minStr = String.valueOf(min);
  if (min < 10) {
    minStr = "0" + (time % 60);
  }
  String timeStr = hrStr + ":" + minStr;
  System.out.println(timeStr); 
```

# ios - 收到安装错误：Flash Builder for iOS 中的 ApplicationVerificationFailed

> ID：15081935
> 
> 赞同：13
> 
> 时间：2013-02-26T05:22:45.650
> 
> 标签：ios, air, flash-builder

这是我尝试在 iPhone 上安装应用程序时遇到的错误。

![在此处输入图像描述](../Images/d13060d7c072f15456cffd48c03c045a.png)

**更多细节**：
它确实在某一时刻起作用。我最近使用了另一台计算机，从事不同的项目，不得不创建一个新证书。这使我的其他项目（个人资料）无效。我回到第一台计算机上工作并从那台计算机上传证书。我重新创建了应用程序配置文件并根据之前的证书下载了配置文件。这些都没有奏效。最后，我不得不从头开始，如下面的答案所示。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-26T16:33:42.193

我终于从头开始工作了。我认为问题在于，当我使用新计算机并上传新证书时，我不得不撤销旧证书。看来，一旦撤销，也许就不能再使用了。

所以我重新创建了我的签名证书，从中重新创建了一个 p12 文件，重新创建（修改）应用程序配置文件（确保再次选择我的证书并再次选择我的所有设备），重新下载移动配置文件，在 iOS 配置中重新选择这些屏幕并重新启动 Flash Builder，它再次工作。

我曾尝试使用通配符“com.myactualdomainhere.*”，但我无法让它工作，但我没有执行上述所有步骤（我没有重新创建我的签名证书），如果你不能重用证书，那么这可能是问题所在。

因此，我执行了上述所有步骤并使用了应用程序名称“com.myactualdomainhere.MyApp”，并确保它与应用程序描述符文件（对于 AIR 应用程序）com.myactualdomainhere.MyApp 匹配。

如果有一天他们可以简化此过程并提供更好的错误消息，那就太好了。也许他们可以沿途验证不同的部分，例如，“您的证书是好的，您的应用配置文件已签出，但您的应用 ID 不正确。”

此外，MilkyWay 发布了一个帖子链接，其中包含一些[更有](http://forum.unity3d.com/threads/15299-error-%280xE800003A%29-Application-Verification-Failed)用的信息。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-03-09T02:39:46.967

我在使用其他供应商的代码时遇到了这个错误。事实证明，他们试图用 Entitlements.plist 文件编译 IPA。我刚刚删除了那段代码（如下），它编译得很好。

```
<Entitlements>
    <![CDATA[
        <key>get-task-allow</key>
        <true/>
    ]]>
</Entitlements> 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-10-18T13:05:06.590

我今天早上刚刚遇到这个问题，花了一段时间才弄清楚，所以我想我会发布以防其他人有同样的问题。

我们在将设备添加到我们的配置文件时遇到了问题，即 iOS7 上的 iPhone 5。事实证明，我们用来获取 UDID (UDID+) 的应用程序给了我们错误的 UDID。当我使用返回的 ID 时

```
adt -devices -platform ios 
```

有效。

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-12-09T12:19:20.150

就我而言，这是一些嵌入式文件夹中不被接受的字符的问题。包含特殊字符（`æ` `ø` `å`或空格）的文件夹名称会导致 `ApplicationVerificationFailed`错误。（不完全是我遇到的最精确的错误描述。）

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2015-04-23T15:42:49.113

我知道这是一个旧线程，但是如果其他人在谷歌上搜索并找到这个线程并且它不能解决您的问题，我想分享我在这个问题上的经验。如果您已确认您的证书和配置文件都很好并且仍然得到这个，我确定如果您为 TESTFLIGHT 配置了您的应用程序，您将收到完全相同的错误。换句话说，在您的 APPNAME-app.xml 中，确保在 IOS 权利部分中注释掉以下内容：

```
<key>beta-reports-active</key>
    <true/> 
```

一旦我将其注释掉，我就可以在本地恢复调试。很生气我花了一天的时间，但至少它现在正在工作。

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2013-04-26T20:50:33.607

如果您更改 Apple ID 密码，也会发生这种情况。

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2014-05-30T11:01:04.397

我的问题是，在苹果开发人员下的应用程序 ID 中，我的应用程序没有检查 PushNotification，但在我的 xml 应用程序描述符中，我有推送通知（aps_development）的权利。

从我的 XML 中删除 APS 值后，一切正常。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2014-01-22T19:38:52.787

如果您很长时间没有编译，请确保将编译设置设置为设备测试，并确保您使用的是测试配置文件。我今天得到了这个，因为我的设置仍在应用商店中。

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2014-02-04T13:35:29.557

对我来说，问题是我使用的是用于 Apple 推送通知的 .p12 文件，而不是我的开发人员证书的 .p12 文件。

我使用了从我的开发人员证书中导出的 .p12，效果很好..！

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2014-06-10T13:47:25.780

在我的情况下，这是不正确的应用程序 ID 问题（不同的编译应用程序 ID 然后应用程序 ID 我定义了苹果）

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2014-08-20T14:57:14.163

有时由于您的 bin-debug 文件夹而发生此错误。

如果该文件夹有一些未知字符或发生此错误。

我建议在这种情况下您是否必须清理项目或找到该文件并更改其名称

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2015-03-25T15:27:17.647

如果它以前工作过，只需重新启动 flash builder。

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2015-03-27T17:43:37.380

我今天在试飞中使用权利标签进行了一些测试。在本地测试时需要将其删除，否则我会遇到相同的错误。

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2015-08-03T08:43:26.393

就像提到的 jbyun94 一样，去掉文件名中的未知字符。

我的 Dropbox 文件存在冲突，导致应用无法编译。

删除它们，一切都恢复正常（尽管我损失了几个小时：/）

# android - APK 扩展 - 测试时出错

> ID：15081937
> 
> 赞同：1
> 
> 时间：2013-02-26T05:22:47.107
> 
> 标签：android, apk, expansion

我正在处理 APK 扩展文件，我查看了这些链接：

1)[创建APK扩展文件的步骤](https://stackoverflow.com/questions/11715855/steps-to-create-apk-expansion-file/11717019#11717019)

2) [http://ankitthakkar90.blogspot.in/2013/01/apk-expansion-files-in-android-with.html](http://ankitthakkar90.blogspot.in/2013/01/apk-expansion-files-in-android-with.html)

我已经从路径 sdk-path/extras/google 导入了 market_licensing、play_apk_expansion

play_apk_expansion 包含三个项目 downloader_library、zip_file、downloader_sample。

现在我有 SampleDownloaderActivity 我面临的问题：

我还没有在控制台中上传apk文件，我正在尝试测试SampleDownloaderActivity proj，但我收到了这个错误：

```
02-21 12:54:13.150: E/AndroidRuntime(544): FATAL EXCEPTION: main
02-21 12:54:13.150: E/AndroidRuntime(544): java.lang.IllegalArgumentException: java.security.spec.InvalidKeySpecException: java.io.EOFException: DEF length 67 object truncated by 48
02-21 12:54:13.150: E/AndroidRuntime(544):  at com.google.android.vending.licensing.LicenseChecker.generatePublicKey(LicenseChecker.java:121)
02-21 12:54:13.150: E/AndroidRuntime(544):  at com.google.android.vending.licensing.LicenseChecker.<init>(LicenseChecker.java:92)
02-21 12:54:13.150: E/AndroidRuntime(544):  at com.google.android.vending.expansion.downloader.impl.DownloaderService$LVLRunnable.run(DownloaderService.java:765)
02-21 12:54:13.150: E/AndroidRuntime(544):  at android.os.Handler.handleCallback(Handler.java:587)
02-21 12:54:13.150: E/AndroidRuntime(544):  at android.os.Handler.dispatchMessage(Handler.java:92)
02-21 12:54:13.150: E/AndroidRuntime(544):  at android.os.Looper.loop(Looper.java:130)
02-21 12:54:13.150: E/AndroidRuntime(544):  at android.app.ActivityThread.main(ActivityThread.java:3683)
02-21 12:54:13.150: E/AndroidRuntime(544):  at java.lang.reflect.Method.invokeNative(Native Method)
02-21 12:54:13.150: E/AndroidRuntime(544):  at java.lang.reflect.Method.invoke(Method.java:507)
02-21 12:54:13.150: E/AndroidRuntime(544):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
02-21 12:54:13.150: E/AndroidRuntime(544):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
02-21 12:54:13.150: E/AndroidRuntime(544):  at dalvik.system.NativeStart.main(Native Method)
02-21 12:54:13.150: E/AndroidRuntime(544): Caused by: java.security.spec.InvalidKeySpecException: java.io.EOFException: DEF length 67 object truncated by 48
02-21 12:54:13.150: E/AndroidRuntime(544):  at org.bouncycastle.jce.provider.JDKKeyFactory.engineGeneratePublic(JDKKeyFactory.java:92)
02-21 12:54:13.150: E/AndroidRuntime(544):  at org.bouncycastle.jce.provider.JDKKeyFactory$RSA.engineGeneratePublic(JDKKeyFactory.java:396)
02-21 12:54:13.150: E/AndroidRuntime(544):  at java.security.KeyFactory.generatePublic(KeyFactory.java:177)
02-21 12:54:13.150: E/AndroidRuntime(544):  at com.google.android.vending.licensing.LicenseChecker.generatePublicKey(LicenseChecker.java:112) 
```

据我所知这是BASE64_PUBLIC_KEY的问题，但我没有提供任何密钥，因为我没有上传apk，以及如何创建obb文件，我有大约100张图片，大约40mb，我需要在哪里把这些文件？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T11:02:16.927

在 Android 中使用[APK 扩展文件](http://developer.android.com/google/play/expansion-files.html)时，与早期新的 android google play 开发者控制台不同，在帐户详细信息中![在此处输入图像描述](../Images/dbb8a4a98ff67665115b061ee93241de.png)

每个 android google play 开发者控制台帐户都有一个公钥，现在每个 google play 开发者控制台帐户上的每个应用程序都有唯一的公钥。

对于testin apk扩展文件上传应用程序，在apk上传后你会看到一些这样的选项

![在此处输入图像描述](../Images/49f421a60224a10c50f0bf18dd1ab266.png)

点击服务和 API

![在此处输入图像描述](../Images/d70384a3d06341ce314ba64df9c38177.png)

在您的示例中选择公钥复制粘贴

```
public class SampleDownloaderService extends DownloaderService {
// stuff for LVL -- MODIFY FOR YOUR APPLICATION!
private static final String BASE64_PUBLIC_KEY ="paste here"; 
```

在上传 apk 时，您应该上传任何名称的文件（可能是压缩文件）.. 您需要确保您上传的文件的大小是您在 sampledownloader 活动中放入的文件大小

```
private static final XAPKFile[] xAPKS = { new XAPKFile(true, 1, 425553759L) 
```

1 是清单中指定的 android:versionCode。

![在此处输入图像描述](../Images/82ffb801aaaef96f6c11206470b221f1.png)

您在上传apk时上传的xapk文件相同的文件将被重命名并下载为sd卡中的obb文件

要解压缩 obb 文件等，[请单击此处](https://stackoverflow.com/questions/11715855/steps-to-create-apk-expansion-file/11717019#comment21218363_11717019)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-24T19:10:18.387

> 阅读这篇文章的人的更新：

**注1**

您不能再使用草稿，因为获取扩展文件的链接尚未激活。您必须先使用扩展文件将版本上传到 Alpha 或 Beta。（只能从您上传的第二个 apk 开始添加扩展文件）因此，请确保在单击 APK 下的开发者发布部分中的详细信息时看到列出的 apk 扩展文件。

**笔记2**

如果您使用的是 android studio 并且想要使用下载器库，请不要将包名和 java 文件复制到您自己的应用程序 src 目录中。在eclipse中导入下载器库，选择export => gradle build files。之后，您可以将库作为模块导入 android studio。

**注3**

不确定这一点，但我也认为有必要通过 Play 商店至少下载一次应用程序，并使用测试设备上的帐户访问它。因此，如果您正在使用 alpha，请创建一个 google+ 测试组并将您自己或其他测试设备添加到其中。

# .net - 使用实体框架记录异常

> ID：15081940
> 
> 赞同：-1
> 
> 时间：2013-02-26T05:22:55.803
> 
> 标签：.net, c#-4.0, frameworks, entity

我想记录由实体框架生成但失败的查询。

如何做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:24:26.067

您可以运行 SQL Profiler 来查看生成的查询。看看有没有帮助。

# gmail - 如何在使用 Google Apps 脚本收到邮件时自动创建发件人的联系人

> ID：15081944
> 
> 赞同：1
> 
> 时间：2013-02-26T05:23:34.357
> 
> 标签：gmail, google-apps-script, google-apps, google-contacts-api

我已经注册了 Google Apps，我正在使用第三方 SMTP 服务器从网络应用程序发送电子邮件，电子邮件正在到达所有电子邮件客户端（雅虎、gmail、hotmail...）的收件箱

但是发送到我的域的电子邮件`(mydomain.com)`正在到达垃圾邮件，这仅发生在我的域，即谷歌应用程序帐户域。问题的解决方案是发送者必须在接收者的联系人中。因此，在接收邮件之前将发件人添加到联系人中是一项开销。这不是自动化的。

**注意**：发送的邮件`<xyz@mydomain.com> to <abc@mydomain.com>`正在到达垃圾邮件。这意味着，它仅在发送者和接收者属于同一域时才会发生。

**假设**：所有的电子邮件都将从`mydomain.com .`

所以，我想使用谷歌应用脚​​本编写一个脚本，这样当邮件从 mydomain.com 到达时（具有 FROM 地址属于 mydomain.com），该脚本必须执行并将发件人的电子邮件地址添加到联系人中。因此，它将避免垃圾邮件率。

我对谷歌应用程序脚本很陌生，请帮我这样做，或者如果有更好的解决方案，请随时发布。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T02:35:08.233

维奈，

听起来您的 SPF 记录可能配置不正确。请看这篇文章：

[https://support.google.com/a/bin/answer.py?hl=en&answer=33786&topic=2759192&ctx=topic](https://support.google.com/a/bin/answer.py?hl=en&answer=33786&topic=2759192&ctx=topic)

具有 mydomain.com 发件人地址的电子邮件需要来自您的 SPF 记录中列出的邮件服务器，否则有被发送到垃圾邮件的风险。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T08:37:34.700

碰巧，您的应用程序域是否启用了[联系人共享？](https://www.google.com/a/cpanel/alliesandmorrison.com/CPanelHome#ServiceSettings/service=contacts)我只是将其提供为一种可能会有所帮助的预感，而不是针对您的问题的特定解决方案。

如果这没有帮助，将您的所有域帐户添加到彼此的联系人列表（并随着时间的推移保持同步）是一个简单但不简单的问题，但是您将严重依赖[联系人 API](https://developers.google.com/google-apps/contacts/v3/)的版本而不是比普通的 Apps 脚本，因为[联系人服务](https://developers.google.com/apps-script/service_contacts)只对执行脚本的用户的联系人进行操作。

# sharepoint-2010 - 阻止用户从共享点中的 UI 编辑列表项

> ID：15081946
> 
> 赞同：1
> 
> 时间：2013-02-26T05:23:45.607
> 
> 标签：sharepoint-2010, sharepoint-list

我有要求阻止用户通过 UI 编辑列表项。
我只想通过编程方式编辑项目。
我想阻止他们从列表的默认编辑页面编辑项目。
任何建议不胜感激...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-11T07:25:45.037

Sharepoint 权限甚至会阻止用户以编程方式编辑项目。（除非使用 runwithelevatedprivileges）。另一种解决方案是使用 javascript 隐藏 [edit item] 选项。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T20:03:14.010

您可以使用 SharePoint 权限。

导航到站点操作 > 站点权限并选择用户（他们可能是 SharePoint 组的一部分，因此也要检查他们内部）。选中用户名旁边的复选框，然后从功能区中选择编辑用户权限。然后确保为该特定用户选中仅查看和读取复选框。

希望这可以帮助！

# javascript - 随着用户不断输入，动态增加文本区域高度（不带滚动条）

> ID：15081949
> 
> 赞同：2
> 
> 时间：2013-02-26T05:24:07.070
> 
> 标签：javascript, jquery, css

我的应用程序有一个带有以下 css 的 textarea (html) 字段

```
.textareaCss{overflow: auto;width:500px; height:15px; margin:0; padding:5px; margin-top:4px; margin-bottom:5px; font-family:Verdana, Arial, Helvetica, sans-serif; font-size:12px; border:#d9d9d9 solid 1px;color: #999;} 
```

现在的效果是，如果用户的评论增长到输入的内容占用的空间超过了 15px 可以容纳的高度，那么滚动条出现并且用户看不到第一行，如图所示

![在此处输入图像描述](../Images/f6478dcfb307ea6a1b3710374bbee28c.png)

文本区域的高度是否可能会增长，以至于始终可以看到整个内容。请注意：无论如何，字符数限制为 1000。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-27T06:06:13.580

答案如下 1.[从GitHub下载插件“autogrow.js”Autogrow js](https://github.com/jerryluk/jquery.autogrow)

然后将其添加到您的代码中并分别提供参考。

然后添加如下代码

```
$(function() {
   $('#txtMeetingAgenda').autogrow();
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T05:27:49.203

您可以使用 jQuery 来完成此操作。我认为 change 事件对你有用。您所要做的就是在更改时重置高度。

例如：

```
$('.textareaCss').on('keyup', function(){
    $(this).css('height', '100%');
}); 
```

我没有对此进行测试，但它应该为您指明正确的方向。

# javascript - 有没有办法绕过javascript上的缓存？

> ID：15081951
> 
> 赞同：0
> 
> 时间：2013-02-26T05:24:15.497
> 
> 标签：javascript

我正在尝试显示我放入 iframe 的每个源的加载时间：

```
$.get("text.txt", function (data) {
    var array = data.split(/\r\n|\r|\n/) 
    var beforeLoad = (new Date()).getTime();    
    var loadTimes = [];

    $('#1').on('load', function () {
        loadTimes.push((new Date()).getTime());           

        $('#1').attr('src', array.pop()); 

        $.each(loadTimes, function (index, value) {             
            var result = (value - beforeLoad) / 1000;       
            $("#loadingtime" + index).html(result);
        }); 
    }).attr('src', array.pop());
}); 
```

有没有办法让它不依赖缓存？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-26T05:31:15.180

您可以使用函数的`cache`属性`$.ajax`：

```
$.ajax({
    type: 'GET',
    url: 'text.txt',
    cache: false,
    success: function() {
        ...
    }
}); 
```

它会自动将时间戳参数附加到 URL 的末尾。

# objective-c - 在 UIScrollview 中为 UIButton 添加 UIPangesture 以在所有视图上移动

> ID：15081952
> 
> 赞同：0
> 
> 时间：2013-02-26T05:24:20.170
> 
> 标签：objective-c, xcode, uiscrollview, uipangesturerecognizer, uiscrollviewdelegate

在我的项目中，我在底部滚动，在顶部滚动表格。在滚动视图中，我添加了 10 个按钮。对于每个按钮，我都有平移手势以在屏幕上移动。当按钮与表格相交时，将在表格视图中添加一张图片。

但是平底锅正在滚动中工作。如何使它在视图中移动

我的编码是：

```
downscroll=[[UIScrollView alloc]initWithFrame:CGRectMake(24, 635, 980, 100)];
downscroll.backgroundColor=[UIColor redColor];
downscroll.contentSize=CGSizeMake(990, 100);

[self.view addSubview:downscroll];

for(int i=1;i<=8;i++)
{
        b1=[UIButton buttonWithType:UIButtonTypeCustom];
        b1.frame=CGRectMake(30+px, 0, 80, 80);
       [b1 setImage:[UIImage imageNamed: [NSString stringWithFormat:@"Icon%i.png",i]]      forState:UIControlStateNormal];
     [downscroll addSubview:b1];
    // [self.view sendSubviewToBack:b1];
   // [self.view bringSubviewToFront:b1];

    [groupbutton addObject:b1];
     panRecognizer3= [[UIPanGestureRecognizer alloc]initWithTarget:self action:@selector(move:)];
    [b1 setUserInteractionEnabled:YES];
    b1.exclusiveTouch=YES;
    img.tag=i;
    [b1 addGestureRecognizer:panRecognizer3];

    px=px+120;
} 
```

当我在没有滚动滚动视图的情况下直接添加按钮时，它工作正常。但我需要添加按钮滚动视图，请帮助提供正确的代码。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T07:22:20.957

这是我在应用程序中使用的方式在我的代码中，我按照以下步骤操作

1.  在 UIPanGestureRecognizer 起点中，我将按钮从 scrollView 添加到 self.view
2.  使用`translationInView`方法 拖动按钮

3.在 UIPanGestureRecognizer 结束状态下，我将检查按钮是否掉落在目标视图中。如果是，您需要执行其他任务，否则将按钮添加到滚动视图中的相同位置

```
`MoveControl` is a UIPanGestureRecognizer method

- (void)MoveControl:(UIPanGestureRecognizer *)recognizer
    {
        UIButton *vew=(UIButton *)[recognizer view];
        CGPoint newCenter = [recognizer translationInView:self.view];
        if (recognizer.state==UIGestureRecognizerStateBegan) {
            CGPoint point=vew.frame.origin;
            [vew setTitle:NSStringFromCGPoint(point) forState:UIControlStateSelected];
            CGRect rect=[self.view convertRect:[vew frame] fromView:[vew superview]];
            [vew setFrame:rect];
            [self.view addSubview:vew];
            CGPoint point1=vew.frame.origin;
            [vew setTitle:NSStringFromCGPoint(point1) forState:UIControlStateDisabled];
        }
        else
        {
            CGPoint oldcentre= CGPointFromString([vew titleForState:UIControlStateDisabled]);
            CGRect rect=vew.frame;
            CGPoint  origin=rect.origin;
            origin.x=(newCenter.x+oldcentre.x);
            origin.y=(newCenter.y+oldcentre.y);
            rect.origin=origin;
            vew.frame=rect;
            if (CGRectIntersectsRect(rect, [pageOriginalContainer frame])) {
                [YourTable setBackgroundColor:[UIColor lightGrayColor]];//Notifying that the tableView will accept the icon
            }
            else
            {
                [YourTable setBackgroundColor:[UIColor clearColor]];
            }
        }
        if (recognizer.state==UIGestureRecognizerStateEnded)
        {
            CGRect rect=[vew frame];
            if (CGRectIntersectsRect(rect, [pageOriginalContainer frame])) {
                  //your method of adding the Image to table
            }
            else//else part is means for if user dropped dragging somewhere else other than Table
            {
                CGPoint point=CGPointFromString([vew titleForState:UIControlStateSelected]);
                CGRect frame=vew.frame;
                frame.origin=point;
                vew.frame=frame;
                [pageCopyContainer addSubview:vew];
    //            [NSFileManager defaultManager]
            }
        }
    } 
```

# php - php中的url编码

> ID：15081962
> 
> 赞同：-2
> 
> 时间：2013-02-26T05:25:22.247
> 
> 标签：php, urlencode

我正在报废一些具有特殊字符的产品，例如 ®

```
Cool Clarity!® Facial Care Line 
```

当我在 Facebook 上发布这个名字时，它会显示 �

®（注册商标标志）转换为 ?</p>

请帮助我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:30:05.517

使用**[utf8_encode()](http://www.php.net/manual/en/function.utf8-encode.php)**对字符串进行编码。

# arrays - 基于索引数组对整数数组进行排序？

> ID：15081963
> 
> 赞同：3
> 
> 时间：2013-02-26T05:25:25.403
> 
> 标签：arrays, algorithm

我们有两个数组作为输入

数组 1：[7,12,11,4]

Array2:[1,3,2,0] --> 这是索引数组（即 Array1 排序后的位置）。

现在我们需要使用索引数组 Array2 对 Array1 进行排序。

时间复杂度应该是 O(N)

空间复杂度可以大于 O(1) 但应该小于 O(N)

你不应该使用额外的数组，因为这会变成 O(N) 空间复杂度

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T06:20:33.510

根据第二个数组中提供的索引对给定数组进行排序或排列，其中第二个数组具有 IN PLACE 即 O(1) 空间和 O(k*n) 时间，其中 k < n，n=数组长度

```
void swapElement(int arr1[], int arr2[], int i, int arrj){
    int temp = arr1[i];
    arr1[i] = arr1[arrj];
    arr1[arrj] = temp;

    temp = arr2[i];
    arr2[i] = arr2[arrj];
    arr2[arrj] = temp;
}

void  sortArray(int arr1[], int arr2[], int n){
    int i=0;
    for(;i<n;i++)
    {
        while(arr2[i]!=i){
            swapElement(arr1, arr2, i, arr2[i]);
        }
    }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T06:09:49.593

考虑给定的数组是 arr1 和 arr2。根据array2排序的array1存储在'sortedArray'中

Java代码如下：

```
 int[] sortedArray = new int[arr1.length];
    for(int i=0;i<arr1.length;i++){
      int sourceIndex = arr2[i];
      sortedArray[i] = arr1[sourceIndex];
      } 
```

时间复杂度和空间复杂度：O(n)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T06:12:49.303

似乎您想要的是下面的第二部分，您正在尝试根据另一个数组对一个数组进行排序。否则，我不确定您为什么不直接对 Array1 进行排序。

一种方法是根据 Array2 对“索引”数组进行排序，然后使用它来索引 Array1。Java 示例：

```
Integer[] idx = new Integer[arr2.length];
for( int i = 0 ; i < idx.length; i++ ) idx[i] = i;              
Arrays.sort(idx, new Comparator<Integer>() {
    public int compare(Integer i1, Integer i2) {                        
        return arr2[i1].compareTo(arr2[i2]);
    }                   
});

// arr2[idx[i]] is the sorted value of arr2 at index i
// arr1[idx[i]] is the sorted value of arr1 corresponding to above at index i 
```

（请注意，您必须使用 Integer 而不是 int ，否则您不能使用自定义比较器。）

# php - 使用codeigniter将图像的路径插入数据库

> ID：15081964
> 
> 赞同：0
> 
> 时间：2013-02-26T05:25:45.823
> 
> 标签：php, codeigniter

**这是我的控制器插入代码**
此代码将图像插入图像路径文件夹，但路径未保存在数据库中。

```
function add_hotel() {
      //validate form input
      $this->form_validation->set_rules('hotelname', 'Hotel Name', 'required|xss_clean');
      $this->form_validation->set_rules('hotellocation', 'Hotel Location', 'required|xss_clean');
      $this->form_validation->set_rules('hotelphone', 'Hotel Phone', 'required|xss_clean');
      $this->form_validation->set_rules('hotelimg', 'Hotel Image ', 'callback__image_upload');
      $this->form_validation->set_rules('hotelabout', 'Hotel About', 'required|xss_clean');

      if ($this->form_validation->run() == true)
      {     

         $config['upload_path'] = './images/';
         $config['allowed_types'] = 'gif|jpg|png';
         $config['max_size']    = '1000000';
         $config['overwrite'] = TRUE;
         $config['remove_spaces'] = TRUE;
         $config['encrypt_name'] = FALSE;

         $this->load->library('upload', $config);
         $field_name = "hotelimg";
         if ( ! $this->upload->do_upload($field_name))
                {
         $error = array('error' => $this->upload->display_errors());

         $this->load->view('admin/add_hotel', $error);
                    }
    else {

        $data = array(
            'hotelname'             => $this->input->post('hotelname'),
            'hotellocation'     => $this->input->post('hotellocation'),
            'hotelphone'            => $this->input->post('hotelphone'),
            'hotelimg'      =>    $this->upload->data('hotelimg'),
            'hotelabout'            => $this->input->post('hotelabout')
                );
            print_r($data);

            $this->db->insert('hotel_content', $data);
            $this->session->set_flashdata('message', "<p>Hotel added successfully.</p>");

            redirect(base_url().'index.php/admin/hotel_controller/index');
                } 
```

显示的错误是：

> 遇到 PHP 错误
> 严重性：通知
> 消息：数组到字符串转换
> 文件名：mysql/mysql_driver.php
> 行号：552

和

发生数据库错误：

> 错误号：1054
> “字段列表”中的未知列“数组”
> 插入到“hotel_content”（“hotelname”、“hotellocation”、“hotelphone”、“hotelimg”、“hotelabout”）值（“hotel5”、“hyd”、 '0402365477', Array, 'welcome')
> 文件名：G:\wamp\www\CodeIgniter\system\database\DB_driver.php
> 行号：330

我需要在数据库中插入路径。谁能帮我？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T05:37:18.730

将其他部分替换为

```
else {

            $data = array(
                'hotelname'             => $this->input->post('hotelname'),
                'hotellocation'     => $this->input->post('hotellocation'),
                'hotelphone'            => $this->input->post('hotelphone'),
                'hotelimg'      =>    $this->upload->data('hotelimg'),
                'hotelabout'            => $this->input->post('hotelabout')
            );
            print_r($data);

            $this->db->insert('hotel_content', $data);
            $this->session->set_flashdata('message', "<p>Hotel added successfully.</p>");

            redirect(base_url().'index.php/admin/hotel_controller/index');
            } 
```

有了这个

```
else {
            $image_path = $this->upload->data();
            $data = array(
                'hotelname'                => $this->input->post('hotelname'),
                'hotellocation'        => $this->input->post('hotellocation'),
                'hotelphone'             => $this->input->post('hotelphone'),
                'hotelimg'      =>    $image_path[full_path],
                'hotelabout'              => $this->input->post('hotelabout')
            );
            print_r($data);

            $this->db->insert('hotel_content', $data);
            $this->session->set_flashdata('message', "<p>Hotel added successfully.</p>");

            redirect(base_url().'index.php/admin/hotel_controller/index');
            } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T05:41:25.453

else 部分中的“$this->upload->data('hotelimg')”行返回一个数组。您只需要从中上传的路径，可以将其提取为：

```
$temp = $this->upload->data('hotelimg');
$uploadedPath = $temp[full_path]; 
```

# c++ - const 对成员或临时的引用

> ID：15081966
> 
> 赞同：1
> 
> 时间：2013-02-26T05:25:56.450
> 
> 标签：c++, reference, constants

我有一个类包含我希望经常使用的数据，所以我认为最好返回一个对它的 const 引用。但是，给定一些参数，我可能需要动态创建新数据。我已经看到您可以将临时返回到常量引用，如下所示：

```
class Foo {
  public:
    Foo() { ... }                    //Initialize data

    LARGE_DATA getData(bool param1, bool param2) {
      if (...) {                     // For some crazy function of the parameters
        LARGE_DATA newData = ...;    // Create new data and return it
        return newData
      }
      return data;                   // Usually, will just use the default value
    }
  private:
    LARGE_DATA data;
};

void bar() {
  Foo f;
  const LARGE_DATA& data = f.getData();
  ...                                // Process data (read-only)
} 
```

但这似乎会复制`data`. 我想做这样的事情：

```
class Foo {
  public:
    Foo() { ... }                    //Initialize data

    const LARGE_DATA& getData(bool param1, bool param2) {
      if (...) {                     // For some crazy function of the parameters
        LARGE_DATA newData = ...;    // Create new data and return it
        return newData
      }
      return data;                   // Usually, will just use the default value
    }
  private:
    LARGE_DATA data;
};

void bar() {
  Foo f;
  const LARGE_DATA& data = f.getData();
  ...                                // Process data (read-only)
} 
```

这样可以避免不必要的副本。Visual Studio 不会抱怨这一点，但 g++ 会抱怨（而且可能是正确的）。这样做的正确方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T09:03:22.227

我想我理解你的困境。在您的第一个实现中，您依赖于[此处](http://herbsutter.com/2008/01/01/gotw-88-a-candidate-for-the-most-important-const/)`newData`描述的 C++ 的一个特性，当调用函数将对其的 const 引用保存在堆栈上时，从函数返回的临时（在这种情况下）的生命周期会延长。但是如果`data`返回而不是`newData`，它将创建一个副本，然后将副本作为临时返回，这是您不想要的。

您的第二个实现试图通过返回引用来防止复制`data`，但这与 g++ 中断，因为`newData`. 您不再返回一个名为 的临时对象`newData`，而是返回对它的引用，根据 g++，它不符合生命周期延长的条件。

我看到了两种方法。您可以`getData()`分成两种方法，一种`data`通过返回引用返回，另一种`newData`通过值返回，因此创建了一个临时值。或者您可以保存`newData`为该类的数据成员，返回对该类的引用`data`，并在每次需要重新计算时将其覆盖，但仅当您只需要读取`newData`之间的给定值时才有效连续调用`getData()`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T05:35:39.313

您可能应该通过在返回对它的引用之前存储`newData`某处来保留所有权`Foo`（可能在您延迟初始化的映射中，其中键是函数参数的表示，就像`std::pair<bool, bool>`在这种情况下），或者使用一些引用计数的智能指针（`boost::shared_ptr`/`std::shared_ptr`在 C++11 中）保存`newData`如果您不想保留所有权（也将`data`成员包装在智能指针中）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T07:13:46.217

对我来说，这似乎是指针的用例。

让方法`getData`返回一个指针，如果您不想修改返回的对象，让它返回一个`const`指针。指针指向什么——成员数据或你动态创建的临时数据——可以在运行时决定。这也将避免在方法返回时复制数据。

在这种方法中，您需要注意的一件事是您创建的临时数据必须在堆上，否则返回的指针将指向超出范围的内存。

# jquery - 如何在 typeahead 函数调用中使用 bootstrap 的 typeahead 获取文本框的属性

> ID：15081970
> 
> 赞同：3
> 
> 时间：2013-02-26T05:26:11.877
> 
> 标签：jquery, cakephp, twitter-bootstrap, bootstrap-typeahead

我在一个文本框上使用了带有 ajax 的 bootstrap 的 typeahead 脚本，现在我进行了如下调用

```
$('#EquipmentLogEquipmentType').typeahead({
    source: function(query, process) {
        var $url =SITE_URL+ 'api/equiplg_typefields_typeahead/' + query + '.json';
        var $items = new Array;
        var id=$(this).attr('id');      
        id=id.split('eq_');
        id=id[1];           
        $items = [""];
        $.ajax({
            url: $url,
            dataType: "json",
            type: "POST",
            data: { field_name: id},
            success: function(data) {
                console.log(data);
                $.map(data, function(data){
                    var group;
                    group = {
                        id: data.id,
                        name: data.name,                            
                        toString: function () {
                            return JSON.stringify(this);
                            //return this.app;
                        },
                        toLowerCase: function () {
                            return this.name.toLowerCase();
                        },
                        indexOf: function (string) {
                            return String.prototype.indexOf.apply(this.name, arguments);
                        },
                        replace: function (string) {
                            var value = '';
                            value +=  this.name;
                            if(typeof(this.level) != 'undefined') {
                                value += ' <span class="pull-right muted">';
                                value += this.level;
                                value += '</span>';
                            }
                            return String.prototype.replace.apply('<div style="padding: 10px; font-size: 1.5em;">' + value + '</div>', arguments);
                        }
                    };
                    $items.push(group);
                });

                process($items);
            }
        });
    },
    property: 'name',
    items: 10,
    minLength: 2,
    updater: function (item) {
        var item = JSON.parse(item);
        console.log(item.name);         
        return item.name;
    }
}); 
```

现在在上面的代码中我提到了 $(this).attr('id'); 显示未定义...所以任何人都可以告诉我如何获取字段的属性，哪个 typeahead 是获取目标？

提前致谢 ：）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-27T02:49:22.117

你必须使用

```
var id=this.$element.attr('id')); 

$('#eq_equipment_type,#eq_identifier,#eq_model,#eq_manufacturer').typeahead({
    source: function(query, process) {
        var $url =SITE_URL+ 'api/equiplg_typefields_typeahead/' + query + '.json';
        var $items = new Array;
        var id = this.$element.attr('id'));     
        id=id.split('eq_');
        id=id[1];           
        $items = [""];
        $.ajax({
            url: $url,
        ... 
```

这将为当前的预输入输入控件返回正确的 Id

# java - 休眠映射文件中 DOCTYPE 标记的用途是什么？

> ID：15081973
> 
> 赞同：0
> 
> 时间：2013-02-26T05:26:24.693
> 
> 标签：java, hibernate, hibernate-mapping

我是hibernate的新手，我在java中使用它。我已经为我的实体制作了休眠映射文件，并在本地机器上对其进行了测试，它运行良好。但是，当我在服务器上运行时，出现**“InvalidMappingException”错误**

但是在放置以下标签后：

```
<!DOCTYPE hibernate-mapping PUBLIC
"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd"> 
```

它得到了解决。

`<!DOCTYPE...>`将此标签放入 hbm 文件后解决了什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:03:56.800

DocType 属性不仅属于hibernate 映射文件。

它适用于所有文件，如 html、css、js、xml..etc

XML 文档类型声明包含或指向为一类文档提供语法的标记声明。此语法称为文档类型定义或 DTD

[http://www.w3.org/TR/xml/#dt-doctype](http://www.w3.org/TR/xml/#dt-doctype)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T06:59:52.407

该`<!DOCTYPE...>`属性是任何 xml 文件的第一行。它基本上给出了 XML 文件的结构以及如何解析特定的 XML。任何没有 a 的 XML 文件`<!DOCTYPE...>`都不会编译，因为结构变得未定义。检查此以获取参考：

[http://www.w3schools.com/dtd/dtd_intro.asp](http://www.w3schools.com/dtd/dtd_intro.asp)

[xml文件中的DOCTYPE是什么意思？](https://stackoverflow.com/questions/6151524/what-is-the-meaning-of-doctype-in-xml-file)

# c - 用于线条图或方框图的 Unicode 字符

> ID：15081974
> 
> 赞同：3
> 
> 时间：2013-02-26T05:26:24.727
> 
> 标签：c

您好，我使用以下代码打印我的数据库查询的表格输出

```
printf("+----------+------------+\n");
printf("|  Col1    |  Col2      |\n);
printf("+----------+------------+\n");
for(i=0;i<n;i++)
   printf("|%8s|%8s|\n",str1,str2);
printf("+----------+------------+\n"); 
```

它只是让我的数据库表看起来不错。但是任何人都可以建议我一种更具装饰性的方式。我可以使用 unicode 字符使其更具吸引力吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T21:04:33.097

您可以为此使用 Curse (ncurses) 库，或查看我的项目：libtprint - 打印表格数据的简单库，[https://github.com/wizzard/libtprint](https://github.com/wizzard/libtprint)

希望能帮助到你 ！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-26T05:39:06.353

Unicode 确实包含一些用于此目的的字符。维基百科有一个列表：

[http://en.wikipedia.org/wiki/Box-drawing_character](http://en.wikipedia.org/wiki/Box-drawing_character)

# sql - 在 sybase 服务器中提取 SP 和 DDL 脚本

> ID：15081975
> 
> 赞同：1
> 
> 时间：2013-02-26T05:26:25.270
> 
> 标签：sql, sap-ase

如何从 Sybase ASE 中提取**DDL、存储过程 (SP)**和其他数据库脚本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T16:44:04.337

查看sybase 附带的[**ddlgen**实用程序，通常在 Sybase Central 目录或 $SYBASE/ASEP/bin 中找到。](http://infocenter.sybase.com/help/index.jsp?topic=/com.sybase.infocenter.dc30191.1550/html/utility/CHDBBGGC.htm)这应该能够生成脚本来创建所有数据库对象，包括用户定义的数据类型 (UDD)、索引、存储过程等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T05:30:16.727

您可以使用[sp_helptext](http://infocenter.sybase.com/help/index.jsp?topic=/com.sybase.infocenter.dc36273.1502/html/sprocs/X25756.htm)来显示 DDL。

# css - 在sencha touch 2的标签中添加图标

> ID：15081980
> 
> 赞同：1
> 
> 时间：2013-02-26T05:27:08.670
> 
> 标签：css, sencha-touch-2

我已将自定义图标设置为选项卡，但它采用选项卡面板的蓝色，我怎样才能获得图标的原始颜色。

```
var tabPanel = Ext.create('Ext.TabPanel',{
tabBarPosition: 'bottom',                                                   
items:[
{   
title:'General',
iconCls:'icongen',
} 
```

我的 CSS 代码

```
.icongen
{
   -webkit-mask-box-image: url("resources/images/general.png");
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T06:00:41.840

```
.icongen
{
   background-image: url("resources/images/general.png");
} 
```

使用这个:)这将解决你的问题

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-26T13:02:31.220

这就是我会做的，将以下内容添加到您的css中：

```
.x-tab .x-button-icon.icongen, .x-button .x-button-icon.x-icon-mask.icongen {
-webkit-mask-image: url(<PATH TO IMAGE>);
} 
```

与`iconCls`您一起可能还必须使用`iconMask: true`

# python - 使用 AST 和 Tree walker 来翻译 DSL 而不是直接从解析器语法解析和翻译对象有什么优势？

> ID：15081981
> 
> 赞同：1
> 
> 时间：2013-02-26T05:27:08.987
> 
> 标签：python, antlr3

我正在使用 Antlr3 创建领域特定语言。到目前为止，我已经直接从解析器语法内部翻译了解析的对象。通过 AST 和 Tree Walker 的示例，我了解到它们通常用于将语法划分为层次树并从节点翻译对象。目前我也在使用解析器语法做同样的动作，我从每个子规则中翻译对象。我很高兴知道使用 AST 和 Tree walker 比仅使用解析器语法的优势。提前谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-02T01:40:22.680

使用树解析器的一个优点是您可以将它们组织成多个通道。对于我所做的一些翻译工作，我能够使用七次传递并将逻辑步骤分离到它们自己的传递中。一次进行表达式分析，一次进行控制流分析，其他人使用该分析来消除死代码或简化特殊情况的翻译。

我个人喜欢使用树语法，原因与我喜欢将解析器用于文本语法的原因相同。它允许我使用规则来组织解析上下文。如果您需要区分它们以进行识别，则可以很容易地执行结构规则之类的操作来识别顶级表达式与子表达式。您在常规解析器中使用的所有属性和上下文管理都可以应用于树解析器。

# asp.net-mvc-3 - jQuery 多个选项卡 + 验证选择不会触发 (MVC3/Razor/VB)

> ID：15081986
> 
> 赞同：0
> 
> 时间：2013-02-26T05:27:28.783
> 
> 标签：asp.net-mvc-3, jquery-validate, jquery-ui-tabs, unobtrusive-validation

我在这里使用[了一个解决方案](https://stackoverflow.com/questions/5643500/jquery-validation-multiple-tabs-validate-one-at-a-time)（[我在这里摆弄过](http://jsfiddle.net/Uuhgu/)）来限制提交表单，直到填写所有必填字段。

问题是当我在我的 MVC3 项目上运行时，正如我在 Firebug 上观察到的那样，它从以下块的第三行开始停止。因此，解决方案不起作用。

```
 var validator = $("#myForm").validate();
    var tabs = $("#tabs").tabs({
        select: function(event, ui) { // Here.
            // The following lines are not executed.
            var valid = true;
            var current = $(this).tabs("option", "selected");
            var panelId = $("#tabs ul a").eq(current).attr("href"); 
```

有人可以告诉我为什么我的项目不会运行脚本的其余部分以及我应该做些什么来修复它？谢谢！

在我的视图文件中

```
@ModelType SLC.Models.RegisterModel

// downloaded with NuGet
<script src="@Url.Content("~/Scripts/jquery.validate.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.js")" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function () {
        var validator = $("#myForm").validate();
        console.log(validator);
        var tabs = $("#tabs").tabs({
            select: function (event, ui) {
                var valid = false;
                var current = $(this).tabs("option", "selected");
                var panelId = $("#tabs ul a").eq(current).attr("href");

                $(panelId).find("input").each(function () {
                    console.log(valid);
                    if (!validator.element(this) && valid) {
                        valid = false;
                    }
                });

                return valid;
            }
        });
    });
</script>
<link rel="stylesheet" href="@Url.Content("~/Content/themes/base/jquery-ui.css")" />

@Using Html.BeginForm("", "", Nothing, New With {.id = "myForm"})
    @Html.ValidationSummary(True, "Account creation was unsuccessful. Please correct the errors and try again.")
    @<div>
        <div id="tabs">
            <ul>
                <li><a href="#tab-1">1\. Information</a></li>
                <li><a href="#tab-2">2\. Information</a></li>
                <li><a href="#tab-3">3\. Confirm</a></li>
            </ul>

            <div id="tab-1">
                // Some fields...
            </div>

            <div id="tab-2">
                // Some fields...
            </div>

            <div id="tab-3">
                // Some fields...

                <input type="submit" value="Register" />
            </div>
        </div>
    </div>
End Using 
```

在我的布局模板文件中

```
<head>
    <link href="@Url.Content("~/Content/Site.css")" rel="stylesheet" type="text/css" />
    // downloaded with NuGet
    <script src="@Url.Content("~/Scripts/jquery-1.9.1.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery-ui-1.10.0.js")" type="text/javascript"></script>
</head> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-27T00:41:56.127

我找到了这个：

特别是jQuery UI`select`方法，自[1.10.0](https://stackoverflow.com/questions/14859281/select-tab-by-name-in-jquery-ui-1-10-0)起已弃用，因此它要么回到 UI 1.9.2，要么重写代码。

# vbscript - 如何使用 vbscript 检查注册表项的权限？

> ID：15081987
> 
> 赞同：0
> 
> 时间：2013-02-26T05:27:29.640
> 
> 标签：vbscript, registry

我不想更改/设置权限，我只想检查用户是否有权更改注册表值。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T20:20:45.243

可能[重复的问题](https://stackoverflow.com/questions/4332282/registry-permission)。无论如何，在答案中有一个[链接](http://www.serverwatch.com/tutorials/article.php/1476871/Managing-Windows-Registry-with-Scripting-Part-3.htm)，但是为了简化您的编码，您可以进行错误捕获并测试结果。

```
On Error Resume Next
'try to write "test"-key here...
'delete your "test"-key as well
If Err.Number <> 0 Then
    WScript.Echo "no permission"
Else
    WScript.Echo "have permission"
End If
On Error GoTo 0 
```

# java - jboss服务器上传图片时出错

> ID：15081989
> 
> 赞同：-1
> 
> 时间：2013-02-26T05:27:32.803
> 
> 标签：java, jboss, out-of-memory

我在一个java网站上工作。当我上传图片时，我收到以下服务器错误

```
java.lang.OutOfMemoryError: PermGen space
    at sun.java2d.loops.GraphicsPrimitiveMgr.<clinit>(GraphicsPrimitiveMgr.java:38)
    at sun.java2d.loops.DrawLine.locate(DrawLine.java:37) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T05:44:47.357

```
 set JAVA_OPTS=-Xms512m -Xmx1024m 
    -XX:PermSize=128m 
    -XX:MaxPermSize=512m 

SET JAVA_OPTS=-Xrs -Xms512M -Xmx1024M -XX:PermSize=256M -XX:MaxPermSize=512M -Djboss.bind.address=0.0.0.0
in run.bat file 
```

# wpf - 事件绑定到 XAML 中的 ViewModel 事件

> ID：15081991
> 
> 赞同：0
> 
> 时间：2013-02-26T05:27:46.433
> 
> 标签：wpf, vb.net, xaml, events, binding

WPF新手在这里。假设我的 ViewModel 类有一个事件`SomethingHappened`定义为：

```
Public Event SomethingHappened(message As String) 
```

我的视图中有一个本地资源定义为：

```
<local:MsgWindow x:Key="MsgWindow" Visibility="Hidden" > 
```

ViewModel 被分配为`DataContext`View 的。如何将`Visibility`我的 MsgWindow 更改为`Visible`on `SomethingHappended`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-26T06:22:04.633

我将在您的视图模型中定义一个 bool 属性，创建 BoolToVisibilityConverter（实现 IValueConverter），并使用转换器将 XAML 中的 Visibility 属性绑定到您的模型的属性。不要引发事件，而是设置您的属性（确保您的属性从 INotifyPropertyChanged 引发 PropertyChanged 或者是依赖属性）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T09:38:38.717

在资源中，声明：

```
<BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" /> 
```

然后在您的视图模型中声明：

```
public bool Visible { get; set; } 
```

然后，使用转换器将您的组件绑定到此属性

```
<local:MsgWindow x:Key="MsgWindow" Visibility="{Binding Visible, Converter={StaticResource BooleanToVisibilityConverter}}" > 
```

# android - Android：计算时间设置提醒

> ID：15081994
> 
> 赞同：1
> 
> 时间：2013-02-26T05:27:53.873
> 
> 标签：android, android-alarms, android-calendar

我正在开发一个应用程序。我在设备日历中设置提醒。我通过从 for() 循环调用 addReminder 方法在我的应用程序中设置多个提醒。设置提醒的代码如下。

```
private void addReminder(int statrYear, int startMonth, int startDay, int startHour, int startMinut, String title){
    // Convert start of begin time of reminder in milliseconds.
    Calendar beginTime = Calendar.getInstance();
    beginTime.set(statrYear, startMonth, startDay, startHour, startMinut);
    long startMillis = beginTime.getTimeInMillis();

    // String to access default google calendar of device for Event setting.
    String eventUriString = "content://com.android.calendar/events";

    // Creation of Event.
    ContentValues eventValues = new ContentValues();
    // Set calendar as 1 for default calendar.
    eventValues.put(Events.CALENDAR_ID, 1);
    // Set title as user define.
    eventValues.put(Events.TITLE, title);
    // Set description as user define.
    eventValues.put(Events.DESCRIPTION, "MYApp");
    // Set location as user define.
    eventValues.put(Events.EVENT_TIMEZONE, "India");
    // Set start time as system time or time converted in milliseconds.
    eventValues.put(Events.DTSTART, startMillis);
    // Set status of event as 1.
    eventValues.put("eventStatus", 1);
    // Set visibility of event as 3 (public).
    eventValues.put("visibility", 3);
    // Set transparency as 0\. No other app seen through reminder.
    eventValues.put("transparency", 0);
    // Set alarm as 1\. Ringing.
    eventValues.put(Events.HAS_ALARM, 1);

    // Set Event in calendar.
    Uri eventUri = getContentResolver().insert(Uri.parse(eventUriString), eventValues);
    // Getting ID of event in Long.
    long eventID = Long.parseLong(eventUri.getLastPathSegment());

    /***************** Event: Reminder(with alert) Adding reminder to event *******************/
    // String to access default google calendar of device for reminder setting.
    String reminderUriString = "content://com.android.calendar/reminders";      
    ContentValues reminderValues = new ContentValues();

    // Set reminder on Event ID.
    reminderValues.put("event_id", eventID);
    // Set reminder minute before.
    reminderValues.put("minutes", 1);
    // Set method of reminder
    reminderValues.put("method", 1);        

    @SuppressWarnings("unused")
    //Setting reminder in calendar on Event.
    Uri reminderUri = getContentResolver().insert(Uri.parse(reminderUriString), reminderValues);
} 
```

调用上述方法的 for 循环是：

```
for(int i=0; i<numberOfReminder; i++){
    addReminder(statrYear, startMonth, startDay, startHour, startMinut, title);
} 
```

**现在我的需要是：**

我想以秒为单位计算在日历中设置一个提醒的时间。以及设置所有提醒所需的总时间，提醒的总数是在运行时给出的。

那么我应该怎么做才能以秒或米莉秒为单位计算设置一个和多个提醒的时间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T11:57:47.503

有几种解决方案：

1.  使用[日志](http://developer.android.com/reference/android/util/Log.html)信息。
2.  像这样测量时间：

    长开始 = System.currentTimeMillis();

    *提醒设置*

    长端 = System.currentTimeMillis(); //或 start = start - System.currentTimeMillis();

    然后得到 end - start = ? *请注意，这是以毫秒为单位的，因此您需要将其除以 1000 才能获得秒数。

干杯

# android - 如何在android的textview中设置运行时背景图像？

> ID：15081995
> 
> 赞同：2
> 
> 时间：2013-02-26T05:27:57.940
> 
> 标签：android, textview, back

我想`textview`在android中设置运行时背景在这里你可以看到我有一个`image`运行时设置这不是修复所以我想`textview`用不同颜色的文本更改运行时背景和当前位置

```
 holder.textmenu.setBackgroundDrawable(R.Drawable.imagename) // gives error
 holder.textmenu.setBackgroundColor(R.color.color_orange);` 
```

![在此处输入图像描述](../Images/1d1639f9c2eba7e9d0c65925565b4f7f.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T05:30:53.047

它应该是

holder.textmenu.setBackgroundResource(R.Drawable.imagename)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-26T05:40:30.550

要将图像设置为您的 textview 背景，请使用`youtextview.setBackgroundResource(R.drawable.yourimage);`

# c++ - 基类访问规范与类成员访问规范

> ID：15081996
> 
> 赞同：1
> 
> 时间：2013-02-26T05:28:00.300
> 
> 标签：c++

基类访问规范与成员访问规范有何不同？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T05:42:31.470

基类访问规范决定了*您的*类中基类的成员访问规范。如果您不希望基类成员公开出现在您的类中，它们提供了一种隐藏基类成员的方法。但是，它们不会影响您班级成员的可见性。

[C++ FAQ](http://www.parashift.com/c++-faq-lite/private-inheritance.html)很好地解释了这个问题。

```
class Base
{
protected:
    int A;
public:
    int B;
};

class Derived1 : public Base
{
    // Derived1::A outside class is seen as protected
    // Derived1::B outside class is seen as public
};

class Derived2 : protected Base
{ 
    // Derived1::A outside class is seen as protected
    // Derived1::B outside class is seen as protected
};

class Derived3 : private Base
{ 
    // Derived1::A outside class is seen as private
    // Derived1::B outside class is seen as private
}; 
```

# xml-parsing - 如何使用xml检索数据

> ID：15081997
> 
> 赞同：0
> 
> 时间：2013-02-26T05:28:14.807
> 
> 标签：xml-parsing

```
<?xml version="1.0" encoding="utf-8"?>
<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
<soap:Body>
<MasterDetailsResponse xmlns="http://192.168.100.173/ArvindMill/">
<MasterDetailsResult>
<GetAllMasterDetail>
<TABLENAME>item_master</TABLENAME>
<ITEMID>1</ITEMID>
<ITEMTYPE>CTS</ITEMTYPE>
<GROUP />
<VARIETY />
<FORM />
<STATUS />
<ITEM />
<GRADE />
<TYPE />
</GetAllMasterDetail>
<GetAllMasterDetail>
<TABLENAME>item_master</TABLENAME>
<ITEMID>2</ITEMID>
<ITEMTYPE>AGS</ITEMTYPE>
<GROUP /><VARIETY />
<FORM />
<STATUS />
<ITEM />
<GRADE />
<TYPE />
</GetAllMasterDetail>
<GetAllMasterDetail>
<TABLENAME>tablet_taluka_master</TABLENAME>
<VILLAGE>Anturli</VILLAGE>
<TALUKA>Anturli</TALUKA>
<TABLETUSERCODE />
<TABLETUSERNAME /><TABLETCODE />
<TABLETTALUKAID />
</GetAllMasterDetail>
<GetAllMasterDetail>
<TABLENAME>tablet_taluka_master</TABLENAME>
<VILLAGE>Bortha</VILLAGE>
<TALUKA>Sadgavan</TALUKA>
<TABLETUSERCODE /><TABLETUSERNAME />
<TABLETCODE />
<TABLETTALUKAID /></GetAllMasterDetail>
<GetAllMasterDetail>
<TABLENAME>tablet_taluka_master</TABLENAME>
<VILLAGE>Kukarmunda</VILLAGE>
<TALUKA>Kukarmunda</TALUKA>
<TABLETUSERCODE />
<TABLETUSERNAME /><TABLETCODE /><TABLETTALUKAID />
</GetAllMasterDetail> 
```

上面的代码是android中soapobject返回的响应。如何从上述 XML 文件中检索数据？我想在列表视图中显示它，并且从 soapobject 返回的响应包含多个表，那么如何检索它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T05:57:29.063

如果您使用的是 Java，请使用 SAX Parser

# objective-c - 保留块中的对象

> ID：15081998
> 
> 赞同：0
> 
> 时间：2013-02-26T05:28:17.310
> 
> 标签：objective-c, memory-management, memory-leaks, block

以下是我使用 GCD 从网络中获取数据然后将其传递到主队列上的响应块的代码。

```
+ (void)allData:(void(^)(NSArray*))responseBlock
{
   dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
            __block NSArray *data = [[self all] retain]; // get data from network 
            dispatch_async(dispatch_get_main_queue(), ^{
                responseBlock(data); // 2
            });
        });
} 
```

[[self all] retain] 是为了防止对象被释放。但是现在 responseBlock 必须释放它。这是正确的方法吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-26T06:00:32.587

你可以这样做

```
+ (void)allData:(void(^)(NSArray*))responseBlock
{
   dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
            __block NSArray *data = [[self all] retain]; // get data from network 
            dispatch_async(dispatch_get_main_queue(), ^{
                responseBlock(data); // 2
                [data release]; // you can release here
                data = nil;
            });
        });
} 
```

或简单地删除`__block`，内部块（您传递给主队列的那个）将`data`自动保留/释放，因为`data`不保留任何其他内容，所以我在这里看不到任何可能的保留周期（因为`self`这里是 a `Class`）。