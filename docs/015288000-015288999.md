# StackOverflow 问答 15288000-15288999

# jquery - 单击按钮时显示“加载”动画

> ID：15288002
> 
> 赞同：30
> 
> 时间：2013-03-08T06:24:26.200
> 
> 标签：jquery, html, css, ajax

我想做一些非常简单的事情。我的页面中有一个按钮。

```
<form action="/process" method="POST">
   <input class="btn btn-large btn-primary" type="submit" value='Analyze Topics'>
    </form> 
```

现在我想要的是当用户按下这个提交按钮时。它显示“加载” gif 动画，直到它从服务器获得响应。

但我一直在挣扎很久。

我该如何实施？

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2013-03-08T06:30:37.997

如果您使用的是ajax，那么（使其尽可能简单）

1.  将加载的 gif 图像添加到 html 并使其隐藏（现在使用 html 本身的样式，您可以将其添加到单独的 CSS 中）：

    ```
    <img src="path\to\loading\gif" id="img" style="display:none"/ > 
    ```

2.  单击按钮时显示图像并在成功功能时再次隐藏

    ```
    $('#buttonID').click(function(){
      $('#img').show(); //<----here
      $.ajax({
        ....
       success:function(result){
           $('#img').hide();  //<--- hide again
       }
    } 
    ```

确保在 ajax 错误回调中也隐藏图像，以确保即使 ajax 失败，gif 也会隐藏。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-03-08T06:53:27.943

在成功之前，最好的加载和阻止 ajax 调用的特定 div 是 Blockui

通过此链接[http://www.malsup.com/jquery/block/#element](http://www.malsup.com/jquery/block/#element)

示例用法：

```
 <span class="no-display smallLoader"><img src="/images/loader-small.png" /></span> 
```

脚本

```
jQuery.ajax(
{   
 url: site_path+"/restaurantlist/addtocart",
 type: "POST",
 success: function (data) {
   jQuery("#id").unblock(); 
},
beforeSend:function (data){
    jQuery("#id").block({ 
    message: jQuery(".smallLoader").html(), 
    css: { 
         border: 'none', 
         backgroundColor: 'none'
    },
    overlayCSS: { backgroundColor: '#afafaf' } 
    });

}
}); 
```

希望这真的很有帮助，它非常互动。

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-03-08T06:27:31.590

尝试

```
$("#btnId").click(function(e){
 e.preventDefault();
 //show loading gif

 $.ajax({
  ...
  success:function(data){
   //remove gif
  },
  error:function(){//remove gif}

 });
}); 
```

编辑：阅读评论后

如果您决定不使用 ajax

```
$("#btnId").click(function(e){
     e.preventDefault();
     //show loading gif
     $(this).closest('form').submit();
}); 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-03-08T06:52:35.693

```
$("#btnId").click(function(e){
      e.preventDefault();
      $.ajax({
        ...
        beforeSend : function(xhr, opts){
            //show loading gif
        },
        success: function(){

        },
        complete : function() {
           //remove loading gif
        }
    });
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-03-18T17:33:08.893

```
 //do processing
            $(this).attr("label", $(this).text()).text("loading ....").animate({ disabled: true }, 1000, function () {
                //original event call
                $.when($(elm).delay(1000).one("click")).done(function () {//processing finalized
                    $(this).text($(this).attr("label")).animate({ disabled: false }, 1000, function () {
                    })
                });
            }); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-05-25T09:59:03.193

我知道这是一个非常晚的回复，但我最近看到了这个查询并找到了一个工作场景，

OnClick 的提交使用以下代码：

```
 $('#Submit').click(function ()
 { $(this).html('<img src="icon-loading.gif" />'); // A GIF Image of Your choice
 return false }); 
```

要停止 Gif，请使用以下代码：

`$('#Submit').ajaxStop();`

# html - 如何修复 Firefox 中的 span/div 问题（在 IE 中按需要显示）并调整 Chrome 中的错位？

> ID：15288004
> 
> 赞同：0
> 
> 时间：2013-03-08T06:24:49.223
> 
> 标签：html, css, internet-explorer, firefox, layout

我的个人网页（位于[http://ralphemlynmorgan.com](http://ralphemlynmorgan.com)）在 IE 中按计划显示，但在 Chrome 中按钮标签略有偏移，使用 Firefox 查看时页面布局完全错误。任何有关解决此问题的简单更改（或如何以适用于所有浏览器的方式实现设计元素定位）的建议将不胜感激。;) 从 html 验证器错误消息中，我认为它与跨度内不允许的“p”有关？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T06:35:44.573

Firefox 和 Chrome 中的错位是由于页面中所有图像和按钮元素的绝对定位。`<span>`是一个内联元素。一般来说，我们不会在元素中包含任何其他元素`<span>`。

将所有内部有`<span>`元素的元素替换为元素并尝试删除绝对定位。`<p>``<div>`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T06:32:27.733

首先，`<p>`导航中的元素不应该有很大的边距。通过`margin: 0`. 是的，`<p>`里面`<span>`很糟糕。尝试`<div>`改用。

并更改`#centroid`为`position: absolute`修复 Firefox 中的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T07:14:18.030

为了更好地导航，您可以使用 ul li 并且是的“将 #centroid 更改为 position: absolute 以解决 Firefox 中的问题。”

# cocos2d-iphone - 如何检查敌人的哪一侧击中了使用关卡助手创建的玩家精灵场景

> ID：15288006
> 
> 赞同：-2
> 
> 时间：2013-03-08T06:25:08.957
> 
> 标签：cocos2d-iphone, box2d-iphone, levelhelper

我在 levelHelper 软件中开发了一个场景。但是现在我被困在如何检查玩家/英雄精灵被敌人击中的部分，比如它是从上、下、左、右击中的。我想做这个 b/ci 希望玩家从左、右、下击中时死亡。但是如果它从上方击中敌人应该像超级马里奥游戏一样摧毁。所以我怎么能做到这一点，直到现在我正在检查玩家的 y 位置是否大于敌人，这是否意味着它从上方击中。但是我在我的场景中遇到了一个问题，即敌人的精灵比玩家小一点，所以它的 y 位置总是小于玩家，而且它的宽度也是如此，所以我使用什么公式或方法来使这件事发生提前谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-09T07:54:10.347

```
if ( player.position.y > enemy.position.y && fabs( player.position.x - enemy.position.x ) < enemy.size.width / 2 ) { 
```

这将确保玩家不仅位于敌人上方，而且玩家处于相同的水平空间。基本上，它只会在你从上方击中敌人时触发，而不是从侧面或下方。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-09T00:48:30.940

你检查过文档吗？[http://www.gamedevhelper.com/documentation/documentation.html](http://www.gamedevhelper.com/documentation/documentation.html) > LHContactInfo 类

基本上你应该在 SpriteHelper 中创建固定装置，你可以像提供的示例代码一样检查碰撞。

```
NSString* fixNameA = [contact fixtureNameA];
NSString* fixNameB = [contact fixtureNameB];

if(fixNameA != NULL && 
([fixNameA isEqualToString:@"LegRight"] || [fixNameA isEqualToString:@"LegLeft"]))
{
//apply 30% damage
}

if(fixNameA != NULL && 
([fixNameA isEqualToString:@"RightArm"] || [fixNameA isEqualToString:@"LeftArm"]))
{
//apply 50% damage
}

if(fixNameA != NULL && [fixNameA isEqualToString:@"Head"])
{
//apply 100% damage
} 
```

# javascript - 计时器不会在按钮单击时停止

> ID：15288011
> 
> 赞同：0
> 
> 时间：2013-03-08T06:25:17.447
> 
> 标签：javascript, html

我在单击按钮时遇到计时器问题。当我单击按钮 startpause() 方法被调用时，我设置了启动计时器和停止计时器。当我正常单击按钮时它工作正常（一次单击后再次单击）但是当我一次又一次地快速单击按钮时，计时器开始以 2-3 秒的速度跳动。似乎不止一个计时器正在运行..任何人有任何想法....？？这里时间是我的计时器方法

```
function startpause() {

    if(FLAG_CLICK) {
        setTimeout(tim,1000);               
        FLAG_CLICK = false;
    }
    else {
        clearTimeout(ti);
        FLAG_CLICK = true;
    }
}

function tim() { 

    time.innerHTML = t;
    t = t + 1;      
    ti= setTimeout("tim()", 1000);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T06:51:54.140

您需要将 setTimeout 存储在某个地方以便以后对其进行操作。

```
var myVar;

function myFunction()
{
  myVar=setTimeout(function(){alert("Hello")},3000);
}

function myStopFunction()
{
  clearTimeout(myVar);
} 
```

参考[http://www.w3schools.com/js/js_timing.asp](http://www.w3schools.com/js/js_timing.asp)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T06:53:00.913

也许你必须改变这个：

```
if(FLAG_CLICK) {
    setTimeout(tim,1000);               
    FLAG_CLICK = false;
} 
```

到：

```
if(FLAG_CLICK) {
    tim();               
    FLAG_CLICK = false;
} 
```

它似乎对我正常工作

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T06:53:43.040

试试这个：

```
// assuming you declared ti and t out here, cuz I hope they're not global

var t = 0;
var ti;    
var running = false;

function startpause() {

    clearTimeout(ti);
    if(!running) {
        ti = setTimeout(tim,1000); 
        running = true;
    } else {
        running = false;
    }
}
function tim() { 
    time.innerHTML = t;
    t = t + 1; 
    ti = setTimeout(tim,1000); 
} 
```

您可以在此处阅读更多信息`.setTimeout()`：[https ://developer.mozilla.org/en/docs/DOM/window.setTimeout](https://developer.mozilla.org/en/docs/DOM/window.setTimeout)

另外，请参阅我刚刚创建的 jsfiddle：http: [//jsfiddle.net/4BMhd/](http://jsfiddle.net/4BMhd/)

# windows-phone-8 - 如何在 Windows Phone 8 中使用 StoredContact.SetDisplayPictureAsync(IInputStream stream)？

> ID：15288014
> 
> 赞同：1
> 
> 时间：2013-03-08T06:25:28.967
> 
> 标签：windows-phone-8

请参阅下面的代码，如何将 IsolatedStorageFileStream-obj 转移到 IInputStream-obj？谢谢！

```
using(IsolatedStorageFileStream stream = 
   IsolatedStorageFile.GetUserStoreForApplication().OpenFile(".."), FileMode.Open))
{
    await storedContact.SetDisplayPictureAsync(stream); // compile error
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-31T13:06:16.093

在 WP8 上：

```
using System.IO;

using(IsolatedStorageFileStream stream = IsolatedStorageFile.GetUserStoreForApplication().OpenFile("..", FileMode.Open))
    await storedContact.SetDisplayPictureAsync(stream.AsInputStream()); 
```

# sharepoint-2010 - windows server 2008 R2 上的全系统快照

> ID：15288015
> 
> 赞同：1
> 
> 时间：2013-03-08T06:25:33.027
> 
> 标签：sharepoint-2010, replication, windows-server-2008-r2, snapshot, system-restore

我正在使用安装了 sharepoint 2010、MS SQL Server 2008 和其他必需软件的服务器场。是否有任何工具可以帮助我拍摄整个运行系统的快照以复制到另一个服务器场？

# ios - 寻找iOS音量按钮动画

> ID：15288016
> 
> 赞同：4
> 
> 时间：2013-03-08T06:25:37.000
> 
> 标签：ios, animation, core-animation

![在此处输入图像描述](../Images/1c9feeac197a94e3f1079e1e06da45d8.png)

任何具有音量按钮的自定义 ios 控件，带有自动收报机声音。我想在我的项目中使用它作为菜单选择器，曾经看到这样的控件但忘记了。任何帮助深表感谢。

或者如果有人看过iOS中的数字锁定动画，那也很好。类似于下图的东西。我将把它用于菜单之类的东西。![在此处输入图像描述](../Images/e203f7fdef388ec3c58ecbc405aaac1c.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T06:40:15.510

您可以使用圆形进度条来做到这一点。下面显示的链接将帮助您做到这一点：

[https://github.com/magicalpanda/MGPRoundProgressButton](https://github.com/magicalpanda/MGPRoundProgressButton)

[http://code4app.net/ios/Round-Progress-Button/4f86dad606f6e76614000000](http://code4app.net/ios/Round-Progress-Button/4f86dad606f6e76614000000)

[http://www.codertakeout.com/v/351662/592D4](http://www.codertakeout.com/v/351662/592D4)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-09T12:26:57.517

查看 Cocoa Controls 上的 NDRotator。看起来它是一个旋转旋钮控件，可以满足您的需求。调整它以使用图像作为旋钮而不是它当前使用的绘制图形应该是一件简单的事情。

但是，您可能必须自己添加滴答声。

# php - 返回 true/false 在 ajax 代码中不起作用

> ID：15288023
> 
> 赞同：0
> 
> 时间：2013-03-08T06:26:45.127
> 
> 标签：php, javascript, ajax

我正在检查数据库中的重复电子邮件。首先我检查了有效的电子邮件，然后检查了电子邮件的长度，然后我使用 ajax 从数据库中检查了电子邮件。所以 return true 或 return false 在 ajax 代码中不起作用。其他验证是好的，但检查重复的电子邮件不起作用。ajax响应也可以。
这是我的js文件-

```
$(document).ready(function(){

var form = $("#form");
var registeremail = $("#registeremail");
var emailInfo = $("#emailInfo");

registeremail.blur(validateEmail);
registeremail.keyup(validateEmail);

form.submit(function(){
    if(  validateEmail() )
        return true;
    else
        return false;

});

function validateEmail(){
    //testing regular expression
    var a = $("#registeremail").val();
    var filter = /^[a-zA-Z0-9]+[a-zA-Z0-9_.-]+[a-zA-Z0-9_-]+@[a-zA-Z0-9]+[a-zA-Z0-9.-]+[a-zA-Z0-9]+.[a-z]{2,4}$/;
    //if it's valid email

    if(filter.test(a)){
        registeremail.removeClass("error");
         emailInfo.text("");
        emailInfo.removeClass("error");
        if(registeremail.val().length < 8){
            registeremail.addClass("error");
            emailInfo.text("Min 8 letters required.");
            emailInfo.addClass("error");
            return false;
        }
        else if(registeremail.val().length > 60){
            registeremail.addClass("error");
            emailInfo.text("Max 60 letters required.");
            emailInfo.addClass("error");
            return false;
        }
        else
            { 
            $.ajax({
                  url: "home/CheckEmail",
                  data: {
                      email: a
                  },
                  success: function(ret)
                  {
                    if(ret=='1')
                    {
                        registeremail.addClass("error");
                        emailInfo.text("Email already exist.");
                        emailInfo.addClass("error");
                        return false;
                    }
                    else if(ret != '1')
                    {
                          registeremail.removeClass("error");
                          emailInfo.text("");
                          emailInfo.removeClass("error");

                          //document.forms["form"].submit();
                         return true; 
                    }
                  }
            });
            }
    }
    //if it's NOT valid
    else{
        registeremail.addClass("error");
        emailInfo.text("Valid e-mail please");
        emailInfo.addClass("error");
        return false;
    }
} 
```

});

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T06:46:28.377

默认情况下，jQuery 的 ajax 调用将异步运行。

因此，当您进行 ajax 调用时，成功或错误回调不会立即运行。

要使上述代码可行，您可以将 'async : false' 添加到 ajax 调用参数中。

但是进行同步 ajax 调用将冻结 UI 直到它完成。如果后端 api 调用需要很长时间才能完成，那么这将成为一个阻碍。

理想的方式是

1.  显示一些处理/加载图标
2.  发送 AJAX 调用
3.  得到响应后，隐藏处理/加载图标
4.  根据响应，显示错误/成功消息。

# excel - VBA将数据添加到Excel 2010中的最后一行

> ID：15288026
> 
> 赞同：0
> 
> 时间：2013-03-08T06:27:07.200
> 
> 标签：excel, vba, append

我是 VBA 的新手。我正在尝试在 Sheet1 中查找一些数据并将其复制到 Sheet2。当我从 Sheet1 中选择数据时，我需要将其附加到 Sheet2 中已有的数据中。

我可以使用以下代码查找并粘贴数据，但无法附加。我的代码做错了什么？

```
Sub Copy_To_Another_Sheet_1()

Dim FirstAddress As String
Dim MyArr As Variant
Dim Rng As Range
Dim Rcount As Long
Dim i As Long
Dim NewSh As Worksheet
With Application
    .ScreenUpdating = False
    .EnableEvents = False
End With

MyArr = Array("37", "283", "300", "112", "1100", "336", "98")

Set NewSh = Sheets("Sheet2")

With Sheets("Sheet1").Range("B5:B500")

    Rcount = 0

    For i = LBound(MyArr) To UBound(MyArr)

        Set Rng = .Find(What:=MyArr(i), _
                        After:=.Cells(.Cells.Count), _
                        LookIn:=xlValues, _
                        LookAt:=xlWhole, _
                        SearchOrder:=xlByRows, _
                        SearchDirection:=xlNext, _
                        MatchCase:=False)

        If Not Rng Is Nothing Then
            FirstAddress = Rng.Address
            Do
                Rcount = Rcount + 1
                Rng.EntireRow.Copy NewSh.Range("A" & Rcount)

                Set Rng = .FindNext(Rng)
            Loop While Not Rng Is Nothing And Rng.Address <> FirstAddress
        End If
    Next i

End With

With Application
    .ScreenUpdating = True
    .EnableEvents = True
End With

End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T08:38:01.287

我猜“追加”意味着当你一次又一次地运行宏时添加数据。这种情况下一次运行时将覆盖您在 sheet2 中的内容。您需要将 Rcount 变量更改为：

```
Rcount = NewSh.Cells(NewSh.Rows.Count,1).End(xlUp).Row+1 
```

在 A 列的 Sheet2 中找到第一个空单元格。如果您第一次运行代码（如果您确实需要在第 1 行中获得结果），则需要进行一些额外的更改。还要检查放置`Rcount`增量行的位置——而不是应该`.copy`在行之后移动

# android - Activity 完成后返回主屏幕

> ID：15288030
> 
> 赞同：6
> 
> 时间：2013-03-08T06:27:19.390
> 
> 标签：android, android-activity, homescreen

我有一个 Activity 在用户单击按钮之前一直发出哔哔声。单击按钮时，它会显示一条消息。显示消息后，我希望我的活动自行退出到主屏幕，而不是用户按下后退按钮退出。

该`finish()`方法是否这样做？如果是，我应该如何以及在哪里实施它？

任何形式的帮助将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-08T06:30:53.320

```
 Intent i= new Intent("package.homescreenactivity");//homescreen of your app.
    i.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NO_HISTORY);
    startActivity(i);
    finish(); 
```

通过清除活动堆栈返回主屏幕。

要了解整个概念，我建议您查看此站点。[http://developer.android.com/guide/components/tasks-and-back-stack.html](http://developer.android.com/guide/components/tasks-and-back-stack.html)。该站点讨论了活动回栈的工作原理。

**更新：**（2014 年 8 月 15 日）

清除 Backstack 可能不是一个好主意。请查看有效导航设计指南。

后退按钮应该带您回到上一个活动。

查看

[http://developer.android.com/design/patterns/navigation.html](http://developer.android.com/design/patterns/navigation.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T06:31:02.880

在所有活动中应用 finish() 方法。活动完成后，它将返回主屏幕。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T06:33:40.280

案例1：对于按钮点击

```
public void onClick(View v) {
    // Show message here
    moveTaskToBack(true);
    } 
```

案例2：如果你想让用户回家

```
public boolean onKeyDown(int keyCode, KeyEvent event) {
        if (keyCode == KeyEvent.KEYCODE_BACK) {

            AlertDialog.Builder alertbox = new AlertDialog.Builder(this);
            alertbox.setTitle(res.getString("Title"));
            alertbox.setMessage(res.getString("Exit"));
            alertbox.setIcon(R.drawable.logo);
            alertbox.setPositiveButton(res.getString(R.string.Yes),
                    new DialogInterface.OnClickListener() {
                        public void onClick(DialogInterface arg0, int arg1) {
                            exit();
                        }
                    });

            alertbox.setNeutralButton(res.getString(R.string.No),
                    new DialogInterface.OnClickListener() {
                        public void onClick(DialogInterface arg0, int arg1) {
                        }
                    });

            alertbox.show();
            return true;
        }

        return super.onKeyDown(keyCode, event);
    }

    private void exit() {
        moveTaskToBack(true);

    } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-08T06:33:41.817

假设您将消息显示为，请按下 按钮`alertdialog`调用。`finish()``alertdialog`

如果您正在使用`Toast()`呼叫`finish()`按钮按下后`Toast()`显示。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-08T06:36:27.163

您可以`finish()`在 Button 处应用方法，`onClick()`在`startActivity()`调用后您可以应用完成方法，如下所示。

```
startActivity(intent obj);
finish(); 
```

# php - 试图在 x64 架构上重现 dechex() 函数行为

> ID：15288032
> 
> 赞同：0
> 
> 时间：2013-03-08T06:27:21.850
> 
> 标签：php, 64-bit, hex, base-conversion

该函数的[PHP 手册页](http://php.net/manual/en/function.dechex.php)的示例 #2如下：`dechex()`

```
// The output below assumes a 32-bit platform.
// Note that the output is the same for all values.
echo dechex(-1)."\n";
echo dechex(PHP_INT_MAX * 2 + 1)."\n";
echo dechex(pow(2, 32) - 1)."\n"; 
```

上面的示例将输出：

```
ffffffff
ffffffff
ffffffff 
```

我正在尝试在 x64 系统上重现该行为：

```
echo dechex(-1)."\n";
echo dechex(PHP_INT_MAX * 2 + 1)."\n";
echo dechex(pow(2, 64) - 1)."\n"; 
```

我期待：

```
ffffffffffffffff
ffffffffffffffff
ffffffffffffffff 
```

但是，我得到：

```
ffffffffffffffff
0
0 
```

知道这里发生了什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:43:51.340

首先，重要的是要注意 PHP`dechex`函数需要整数输入。

在 64 位系统上，PHP 不支持 64 位整数。

例如，`PHP_INT_MAX`64 位系统上的典型情况是：

```
 9223372036854775807 
```

这也是`dechex`可以接受的最大整数 (!) 数。

如果你传入`pow(2, 64) - 1`它是一个浮点数（`1.844674407371E+19`），它转换为整数是整数，`0`因此`dechex`返回字符串`"0"`。

如果您将 2^64 作为 string 传递，同样适用`"18446744073709551615"`。它被转换为整数，它的整数值`9223372036854775807`在 64 位系统上。所以 dechex 返回字符串`"7fffffffffffffff"`。

因此，如果您需要处理这些数字，则不能使用 PHP 的整数类型，因此`dechex`不是适合该工作的工具。相反，您可以使用 bcmath 和 gmp 函数来实现您正在寻找的内容：

```
echo gmp_strval(bcadd(bcmul(2, PHP_INT_MAX), 1), 16), "\n";
echo gmp_strval(bcsub(bcpow(2, 64), 1), 16), "\n"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-07T21:18:52.550

我怀疑 64 位平台上的 dechex 存在一个错误，这与可以存储为浮点数的最大整数是 pow(2,53)-1 即 9007199254740991 这一事实有关。手册确实警告过使用非常大的带有 base_convert 的数字，因为您可以使用浮点数，并且由于浮点系统的不精确性，可能会出现奇怪的结果。dechex 可能会发生类似的情况。

PHP 接受一个数字作为 dechex 的参数，它可以是整数或浮点数，但实际上浮点数只是一种用于表示溢出 int 边界的整数的设备。事实是，您在 32 位平台上成功运行的代码也传递给 dechex 一个超过 32 位平台的最大整数值的值，传入一个浮点数，如下注释所示：

```
<?php

echo "Max int: ",PHP_INT_MAX, "\n"; // Max int: 2147483647
$num = (PHP_INT_MAX * 2) + 1;
var_dump($num);   //                // float(4294967295)
echo dechex($num),"\n";            // ffffffff
echo dechex(-1);                   // ffffffff 
```

您可能希望在 bugs.php.net 提交错误报告。

# jwplayer - JWPlayer 没有播放 mp4 文件

> ID：15288034
> 
> 赞同：1
> 
> 时间：2013-03-08T06:27:27.923
> 
> 标签：jwplayer

我正在为我的网站使用最新的 JWPlayer 来播放 mp3 音频和 mp4 视频的选项。音频播放正常，但如果是 mp4 视频，它会显示错误“加载媒体时出错，无法播放文件”。知道为什么这正在发生吗？我可以保证视频路径完全正常。

# clojure - 为什么最后一个 def 会覆盖此 clojure 代码中的任何以前的 def？

> ID：15288038
> 
> 赞同：1
> 
> 时间：2013-03-08T06:27:47.253
> 
> 标签：clojure

考虑这段代码 -

```
(defn make-getter
  [pred]
  (defn getter
    [db-name htree-name]
    (filter pred (HTreeMap. db-name htree-name))))

(def meta-data-key? #(= (.getKey %) "META_DATA"))
(def not-meta-data-key? #(not (= (.getKey %) "META_DATA")))

(def get-type (make-getter meta-data-key?))
(def get-records (make-getter not-meta-data-key?)) 
```

HTreeMap 是一个在 JDBM HTree 之上实现 Map 接口的 java 类。地图中有两种记录 - 键为“META_DATA”的记录和其余记录。get-type 函数应该返回的只是带有“META_DATA”键的条目，get-records 应该返回除了带有“META_DATA”键的条目之外的所有内容。但是，如果现在调用 get-type，它甚至会返回那些 getKey() != "META_DATA" 的记录。如果我将 get-type 和 get-records 的顺序更改为

```
(def get-records (make-getter not-meta-data-key?))
(def get-type (make-getter meta-data-key?)) 
```

那么这两个函数都只返回那些 getKey() == "META_DATA" 的记录。为什么已经定义的函数的定义会被后面定义的函数覆盖？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T09:00:29.333

这更像是对@ffriend 答案的补充，这是正确的。我只是认为，它需要一些澄清，这不太适合发表评论。

`(defn f [x] body...)`大致相当于`(def f (fn [x] body...))`。也就是说，创建一个函数并将其分配为 的值`f`。您的代码的主要问题在于`defn`(like `def`) 返回的是符号，而不是它的值。那是：

```
user=> (defn getter
           [db-name htree-name]
           (filter pred (HTreeMap. db-name htree-name)))
; => #'user/getter 
```

（您将拥有当前命名空间而不是`user`）

因此，您随后对`get-type`并将`get-records`它们的值定义为符号`#'user/getter`：

```
user=> getter
; => #<user$getter user$getter@f491ac9>
user=> get-type
; => #'user/getter
user=> get-records
; => #'user/getter 
```

它们将有效地充当`getter`函数的别名。

`getter`除此之外，您在每次调用时都重新定义了的值，`make-getter`您就会明白为什么总是得到最新的定义。

解决此问题的正确方法是定义`make-getter`using`fn`而不是`defn`：

```
(defn make-getter
  [pred]
  (fn
    [db-name htree-name]
    (filter pred (HTreeMap. db-name htree-name)))) 
```

或者您可以继续创建一个`defgetter`这样的宏（未经过充分测试）：

```
(defmacro def-getter
  [name pred]
  `(def ~name (make-getter [~pred]))) 
```

并像这样使用它：

```
#user=> (def-getter get-type meta-data-key?)
; => #'user/get-type
#user=> (def-getter get-records not-meta-data-key?)
; => #'user/get-records 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-08T06:40:50.917

来自[Clojure 文档](http://clojure.org/special_forms#def)：

> 使用符号名称和当前命名空间 ( *ns* ) 的值的命名空间创建和实习或定位一个全局变量。

所以每次调用时`make-getter`，都会定义新的**全局**函数。当然，当前命名空间中可能只有一个具有该名称的全局函数，因此所有先前的绑定都将被覆盖。

你真正想要的是**返回匿名**闭包而不是**定义**函数：

```
(defn make-getter
  [pred]
  (fn
    [db-name htree-name]
    (filter pred (HTreeMap. db-name htree-name)))) 
```

这样`get-records`，`get-types`将使用 2 个不同的闭包对象（相同的匿名函数，但具有不同的绑定谓词）进行初始化。

# c++ - 整数的按位运算在项目的 DEBUG 和 RELEASE 版本中的行为不同

> ID：15288044
> 
> 赞同：1
> 
> 时间：2013-03-08T06:28:12.260
> 
> 标签：c++

我在 Windows 8 64 位上使用 Visual Studio 2012。我有这两种方法：

```
void Node::setState(States state, bool value) {
    if (value) {
        states_ |= 1 << state;
    }
    else {
        states_ &= ~(1 << state);
    }
}

bool Node::getState(States state) {
    return (states_ & (1 << state)) != 0;
} 
```

状态枚举：

```
enum States {
    UPDATABLE = 0x01, // Node data update.
    RENDERABLE = 0x02, // Node rendering on screen.
    TRANSFORMABLE = 0x04, // Position, rotation and scaling update.
    POSITION = 0x08, // Position update.
    ROTATION = 0x10, // Rotation update.
    SCALING = 0x20 // Scaling update.
}; 
```

状态整数初始化：

```
states_(TRANSFORMABLE | RENDERABLE |
            UPDATABLE | POSITION | ROTATION | SCALING) 
```

现在问题出在这部分代码中：

```
LOGI("SETTING SCALING FOR NODE: %s", node->getName().c_str());
node->setState(Node::SCALING, true);
if (node->getState(Node::SCALING)) {
    LOGI("NODE WILL BE UPDATED.");
}
else {
    LOGI("NODE WILL NOT BE UPDATED.");
} 
```

在调试模式下，我得到“节点将被更新”，在发布时 - “节点将不会被更新”。这是什么原因造成的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T06:35:31.530

`SCALING`是一个 32 位有符号整数，其值为`0x20`。您将左移`1`( `0x20`32) 个位。这意味着您将其移动得太远，导致未定义的行为。

标准的相关引用：

> E1 << E2 的结果是 E1 左移 E2 位位置；空出的位用零填充。如果 E1 具有无符号类型，则结果的值为 E1×2E2，比结果类型中可表示的最大值多模一减少。**如果 E1 具有带符号类型和非负值，并且 E1×2E2 在结果类型中是可表示的，那么这就是结果值；否则，行为是未定义的。**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T06:38:57.317

的值`States`是位掩码，而不是移位值。

将它们更改为移位值：

```
enum States {
    UPDATABLE = 0, // Node data update.
    RENDERABLE = 1, // Node rendering on screen.
    TRANSFORMABLE = 2, // Position, rotation and scaling update.
    POSITION = 3, // Position update.
    ROTATION = 4, // Rotation update.
    SCALING = 5 // Scaling update.
}; 
```

并适当修改初始化`states_`；或将它们用作掩码：

```
void Node::setState(States state, bool value) {
    if (value) {
        states_ |= state;
    }
    else {
        states_ &= ~state;
    }
}

bool Node::getState(States state) {
    return (states_ & state) != 0;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T06:47:07.533

我猜 states_ 是一个 32 位整数。您对 setState 和 getState 的实现没有达到您的预期。请注意， setState(SCALING) 将向左移动 1 个 0x20 (= 32) 位。如果您有一个 32 位整数，那将产生未定义的结果（请参阅[http://msdn.microsoft.com/en-us/library/336xbhcz(v=vs.71).aspx](http://msdn.microsoft.com/en-us/library/336xbhcz%28v=vs.71%29.aspx)）。因此，代码优化器（在这种情况下可能是调试和发布版本之间的重要区别）可以自由地做一些与未优化代码不同的事情。

鉴于您对States 值的定义，setState 应该只是 states_ |= state（或 &= ~state）。同样，getState 应该只返回 states_ & state。

# facebook - 如何在 facebook 中获取页面访问令牌

> ID：15288045
> 
> 赞同：2
> 
> 时间：2013-03-08T06:28:14.943
> 
> 标签：facebook, facebook-graph-api

我正在 facebook 中创建我的第一个应用程序。我正在尝试访问用户的页面帐户详细信息。我使用了这段代码：

```
FB.getLoginStatus(function(response) {
          if (response.status === 'connected') {
            alert('connected');
            var uid = response.authResponse.userID;
            var accessToken = response.authResponse.accessToken;
            getusername();              

} 
```

在这里，我可以获取用户的主要帐户 id，access_token，命名所有内容。为了获取用户的页面帐户详细信息，我使用了此代码

```
function getusername(){
    FB.api('/me/accounts', function(response){
            var p_accessToken = response.accessToken;
            var p_name = response.name;
            alert('The pagename is:'+ p_name + 'Page access token is' + p_accessToken);

        }); 
```

但它提醒 name 和 access_token 未定义。我不知道如何访问页面的名称 access_token 。

我想我需要更改此 p_accessToken =response.accessToken 行。

但我不知道如何得到这个。谁能帮我 。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T10:54:29.697

你的代码有问题，我已经更正了

```
<script> 
FB.login(function(response){ 
FB.api('/me/accounts', function(response){ 
   var p_accessToken = response.data[0].access_token; 
   var p_name = response.data[0].name; 
   alert('The pagename is:'
           + p_name + 'Page access token is' 
           + p_accessToken);});}
   ,{scope:"manage_pages"}); 
</script> 
```

数据是一个数组，您的帐户位于不同的索引号上，还有它的 access_token 而不是 accessToken

# javascript - Angularjs ng-click重复表行不起作用

> ID：15288047
> 
> 赞同：37
> 
> 时间：2013-03-08T06:28:21.370
> 
> 标签：javascript, angularjs

在 AngularJS 中，对以下 HTML 的 ng-click 对我不起作用

```
<tr ng-repeat="ai in alert_instances" ng-click="go('/alert_instance/{{ai.alert_instancne_id}}')">
  <td>{{ai.name}}</td>
  <td>{{ai.desc}}</td>
</tr> 
```

目前我的控制器中的“go”功能只有

```
$scope.go = function (hash) {
  console.log("hi")
}; 
```

* * *

## 回答 #1

> 赞同：89
> 
> 时间：2013-03-08T06:45:56.850

你这样做是不对的。你不应该在 Angular 指令 ( ) 中使用花括号`ng-click`，因为这种语法是针对模板的。

正确的方法：

```
<tr ng-repeat="ai in alert_instances" ng-click="go(ai)">
  <td>{{ai.name}}</td>
  <td>{{ai.desc}}</td>
</tr>

$scope.go = function(ai) {
  var hash = '/alert_instance/' + ai.alert_instancne_id;
  //...
}; 
```

# java - 从网页中获取所有链接

> ID：15288048
> 
> 赞同：0
> 
> 时间：2013-03-08T06:28:23.477
> 
> 标签：java, regex, url, hyperlink

我想在执行 GET 后获取页面中的所有链接，我的代码适用于某些网站，但不适用于其他网站，但在调试时显示未找到匹配项，并且它永远不会进入 while 循环，尽管该网站中有链接

```
 Pattern linkPattern = Pattern.compile("<a[^>]+href=[\"']?([\"'>]+)[\"']?[^>]*>(.+?)",               
    Pattern.CASE_INSENSITIVE | Pattern.DOTALL);
    Matcher pageMatcher = linkPattern.matcher(Content);

    if (FindKeyword(Content)) {
        LinksWithKey.add(HostName);
    }
        count++;

    while (pageMatcher.find()) { 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T06:44:52.927

就像评论中所说的一样，您应该考虑使用[JSoup](http://jsoup.org)来完成这样的任务。

```
Document doc = Jsoup.parse(Content); // this is your original HTML content
for (Element link : doc.select("a[href]")) {
    System.out.println(link.attr("href"));
} 
```

# java - 如何从数据库中读取大量数据并在java中写入文件？

> ID：15288050
> 
> 赞同：0
> 
> 时间：2013-03-08T06:28:27.593
> 
> 标签：java, derby

我有一个至少有 2 GB 数据的 derby 数据库，我必须读取这些数据并写入文本文件。现在，某些列可能是 blob 数据类型。

我目前的方法是一次从一个表中读取数据，批量大小为 10（假设），并将数据（字符串列表）放入最大大小为 10 的数组阻塞队列中。从队列中，线程将选择一个一个元素并写在文件上。

我面临以下问题，

```
 1\. how to fetch 10 rows from a table in a single hit and fetch next 10 rows in second
  hit and so on.
  2\. how to convert blob and binary data into string 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T06:50:05.957

您无法明确地执行此操作。但是你可以设置 fetchSize。这个参数是对 JDBC 驱动程序的一个提示，即一次从数据库中获取许多行。但司机可以自由地忽略这一点，做它认为合适的事情。一些驱动程序以块的形式获取行，而一些驱动程序只是一次性读取整个结果集。

使用 fetch size（取决于驱动程序）将缓冲数据，因此在性能方面没有问题，因为它隐含地为您进行分块。所以我们从结果集中获取数据的方式基本上没有区别。

# solr - 索引 CJK 和去除 HTML 标签

> ID：15288053
> 
> 赞同：1
> 
> 时间：2013-03-08T06:28:32.433
> 
> 标签：solr, ezpublish

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T10:19:51.823

By Using [solr.HTMLStripCharFilterFactory](http://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters#solr.HTMLStripCharFilterFactory), you could only stop the HTML tags from being **"Indexed"** but not from being **"Stored"**.

In other words, you will get results for `"すもももももももものうち"` (Of course with HTML tags), but not for `"<p>すもももももももものうち</p>"`.

**Note:** The asumption is that you dont strip off html tags during searching.

If you don't want these HTML tags to be indexed, you can use [solr.PatternReplaceCharFilterFactory](http://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters#solr.PatternReplaceCharFilterFactory).

Your configuration may look like,

```
 <analyzer>
        <charFilter class="solr.PatternReplaceCharFilterFactory" 
                    pattern="Your regular expression to match HTML tags" 
                    replacement=""/>
        <tokenizer class="solr.CJKTokenizerFactory"/>
    </analyzer> 
```

# excel - 运行时错误 91，但我已经设置了所有内容

> ID：15288056
> 
> 赞同：0
> 
> 时间：2013-03-08T06:28:41.683
> 
> 标签：excel, vba

我正在尝试为 Excel 创建一个宏，以从不同的工作表中获取数据并将其放到摘要页面上。因为我不熟悉`VBA`我目前的方法是搜索“TOI 分数”（总是在第 45 行找到），将该单元格向右偏移一列，从该单元格复制到`.End(xlDown)`该`.PasteSpecial`工作`transpose = true`表底部的然后搜索下一个实例`TOI Score`并重复。最终它将复制的数据复制到摘要页面。

但由于某种原因，我无法让 Excel`TOI Score`在此特定脚本中找到。我知道它可以使用一个简单的宏来找到它，唯一的目的就是找到它，但我不知道是什么把它弄乱了。起初它只是没有找到字符串，但我做了一些事情，现在我得到了运行时错误 91（它说我引用了一个非对象或空对象）。谢谢你提供的所有帮助...

这是我收到错误的脚本：

```
Sub GrabMyData()
Dim sh As Worksheet
Dim DestSh As Worksheet
Dim CopyRng As Range, CopyHere As Range, CopyHereLastCol As Long, CopyHereLastRow As Long
Dim aCell As Range, bCell As Range, oRange As Range, fullRange As Range
Dim myLastRow As Long, myLastCol As Long
Dim Last As Long
Dim strSearch As String
Dim t As Long

On Error GoTo Err

With Application
    .ScreenUpdating = False
    .EnableEvents = False
End With

Application.DisplayAlerts = False
On Error Resume Next
ActiveWorkbook.Worksheets("Summary Sheet").Delete
On Error GoTo 0
Application.DisplayAlerts = True

Set DestSh = ActiveWorkbook.Worksheets.Add
DestSh.Name = "Summary Sheet"

For Each sh In ActiveWorkbook.Worksheets
    If sh.Name <> DestSh.Name Then

        strSearch = "TOI Score"

        Set oRange = ActiveSheet.Rows(45)       

        Set aCell = oRange.Find(What:=strSearch, LookIn:=xlValues, _
        Lookat:=xlPart, SearchDirection:=xlNext, _
        MatchCase:=False, SearchFormat:=False) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T06:53:03.843

您在示例中搜索的是 string`strSearch`但不是`TOI Score`. 将适当的行更改为：

```
Set aCell = oRange.Find(What:=strSearch,... 
```

等等...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-09T01:31:41.457

您正在遍历工作表并使用变量`sh`来存储当前工作表。当您使用变量设置要搜索的范围时`oRange`，您总是查看活动工作表而不是指定的工作表`sh`

尝试改变：

`Set oRange = ActiveSheet.Rows(45)`

到：

`Set oRange = sh.Rows(45)`

# php - 针对不同表在同一函数中插入和更新

> ID：15288061
> 
> 赞同：-1
> 
> 时间：2013-03-08T06:28:52.747
> 
> 标签：php, mysql, codeigniter

有没有办法为codeigniter中的不同表在同一函数中编写插入查询和更新查询。

意思是说我想更新一个表，并且在同一个查询中我想在其他表中插入响应时间，请告诉我方法。

提前谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T06:34:21.237

您可以这样做：
在执行更新查询之前记录时间。说是`time1`。
然后找到执行查询后的时间差`current system time - time1`并将其插入所需的表中。

**编辑**
添加示例代码：

```
<?php
$time_start = microtime(true);

//Your query goes here

$time_end = microtime(true);
$time = $time_end - $time_start;

echo "Execution time taken  $time seconds\n";
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T07:35:09.523

尝试这个：

```
$start_time = microtime(true);
$this->db->insert('tablename1',$data);
$end_time = microtime(true);

$response_time = $time_end - $time_start;
$arrdata=array();

$arrdata['response_time']=$response_time;
 $this->db->where('id', $id);//if u have any id
$this->db->update('tablename2',$arrdata); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T06:59:33.057

```
public function insertUpdate() {
  $data = array(
        'tableindex'=>'datayouwanttoinsert',

        );
  $data1 = array(
       'tableindex'=>'datayouwanttoupdate',
      );
     $this->db->insert('databasename.dbo.tablename',$data);
     $this->db->update('databasename.dbo.tablename',$data1);

} 
```

我希望它有帮助

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-08T07:01:34.563

据我所知，您不能用一个查询更新多个表。您可以运行第二个查询并使用 MySQL 函数 'NOW()' 将当前时间插入到字段中。

INSERT INTO 表（id​​、数据、已发布）VALUES(0, '12345', NOW());

# c# - 如何动态地将数据源添加到本地rdlc报告中？

> ID：15288063
> 
> 赞同：0
> 
> 时间：2013-03-08T06:29:00.257
> 
> 标签：c#, visual-studio-2010, reporting-services, desktop-application

我是 Windows 桌面应用程序开发的新手。

我有一个包含报表查看器控件的表单。一个包含报告设计的 .rdlc 文件。

我的问题是我想动态绑定报表的数据源。

我的**代码**：

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using System.Data;
using System.Data.OleDb;

namespace WindowsFormsApplication3{

    public partial class Form1 : Form{ 

        OleDbConnection cn;
        OleDbCommand cmd;
        OleDbDataAdapter da;
        DataSet ds;

        public Form1(){
            InitializeComponent();
        } 

        private void Form1_Load(object sender, EventArgs e){
            cn = new OleDbConnection("Provider=Microsoft.ACE.OLEDB.12.0;Data Source=D:\\Bill\\dbBill.accdb");
            string query = "Select * from BillMaster where BillNo=1";
            cn.Open();
            cmd = new OleDbCommand(query, cn);
            da = new OleDbDataAdapter(cmd);
            ds = new DataSet();
            da.Fill(ds);            
            cn.Close();         
        }   
    } 
 } 
```

我想将 绑定`ds`到我的报告。

报告文件还包含表格和一些显示数据的文本框。

怎么办。？以及如何将数据绑定到`.rdlc`文件中的文本框？我搜索了很多，但只找到了 ASP.net 的解决方案。

如何在桌面应用程序中实现这一点。

请帮忙。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T06:32:33.393

请看这篇[文章](http://www.codeproject.com/Articles/473844/Using-Custom-Data-Source-to-create-RDLC-Reports)：

```
void LocalReport_SubreportProcessing(
    object sender,
    Microsoft.Reporting.WebForms.SubreportProcessingEventArgs e)
{
    // get empID from the parameters
    int iEmpID = Convert.ToInt32(e.Parameters[0].Values[0]);

    // remove all previously attached Datasources, since we want to attach a
    // new one
    e.DataSources.Clear();

    // Retrieve employeeFamily list based on EmpID
    var employeeFamily = CpReportCustomData.Data.CustomDS.GetAllEmployeeFamily()
                         .FindAll(element => element.ID == iEmpID);

    // add retrieved dataset or you can call it list to data source
    e.DataSources.Add(new Microsoft.Reporting.WebForms.ReportDataSource()
    {
        Name = "DSEmployeeFamily",
        Value = employeeFamily

    });
} 
```

# html - 如何相互独立地扩展 tds？

> ID：15288064
> 
> 赞同：1
> 
> 时间：2013-03-08T06:29:02.120
> 
> 标签：html, css

我必须为（部分）任务执行此操作。我个人永远不会使用这样的表格，如果可以选择，我将始终使用 div，但我必须使用表格进行分配。

这是我需要重新创建的非常简化的版本： ![在此处输入图像描述](../Images/aed2a635cb420eef89c6ba90fc054b30.png)

但这是我能做的最好的：

![在此处输入图像描述](../Images/cd86d29e007f93a8268327359941deb1.png)

tds 总是想相互扩展。此外，这需要使用单个表来完成。除了高度之外，我还尝试过弄乱`rowspan`诸如此类的东西，但我什至无法接近预期的结果。是否有某种我不知道的属性可以简化这种类型的布局？

我目前的方法是有两行两列。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T06:40:57.203

我最好的猜测是在两列中使用三行​​，以及行跨度：

```
<table>
    <tr>
        <td rowspan="2">&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <!-- the cell above extends into here -->
        <td rowspan="2">&nbsp;</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <!-- the cell above extends into here -->
    </tr>
</table> 
```

让高度专门工作可能是一个问题，尤其是在旧浏览器上，但最好的方法通常取决于单元格的内容。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-08T06:41:54.240

您可以利用 rowspan 属性：

这是一个示例：

我增加了一些高度，看起来更像你附上的图片。

```
<table border="1">
    <tr>
        <td rowspan="2" height="200">1</td>
        <td height="50">A</td>
    </tr>
    <tr>
        <td rowspan="2" height="200">B</td>
    </tr>
    <tr>
        <td height="50">2</td>
    </tr>
</table> 
```

[http://jsfiddle.net/vmm2y/](http://jsfiddle.net/vmm2y/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T07:07:37.243

这是解决方案

```
 <table border="1" width="500">
<tr>
    <td rowspan="2" style="height:200px">&nbsp;</td>
    <td>&nbsp;</td>
</tr>
<tr>
    <td rowspan="2" style="height:200px">&nbsp;</td>
</tr>
<tr>
    <td>&nbsp;</td>
</tr> 
```

你可以使用 ......class 作为内联类型

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-08T07:14:02.877

比代码解决方案更好，我更喜欢写下**算法**：

*   每次您可以在任何列中发现水平边框，而不是新行。
*   每次您可以在任何行中发现垂直边框，而不是新列。
*   完成后，您必须将所有没有边框的单元格组合在一起。

完成（好吧，我没有描述如何合并单元格，但它应该比*数独*网格更容易；）

编辑：在这里你有 2 个水平边框（和表格的底部），所以 3 行。1个垂直边框（全高，所以`colspan`最终代码中没有）和表格的右边框：2列。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-08T06:48:20.270

你可以试试这个：

```
<table border="1">
<tr>
    <td>$100</td>
    <td>$100</td>
    <td rowspan="2">$50</td>
</tr>
<tr>
    <td>$100</td>
    <td rowspan="2">$80</td>
</tr>
<tr>
    <td>$100</td>
    <td>$80</td>
</tr> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-08T07:25:38.193

**[工作小提琴](http://jsbin.com/ekidef/1/edit)**

正如您提到的，您想使用`div`'s 来实现这一点，我创建了一个。

**HTML**

```
<div id="first">
   <div id="leftTop"></div>
   <div id="leftBot"></div></div>
<div id="second">
   <div id="rightTop"></div>
   <div id="rightBot"></div>
</div> 
```

**CSS**

```
#left,#right{
      float:left;
      width:150px;
      height:300px;
      border:2px solid black;
}
#leftTop{
      height:250px;
      border-bottom:2px solid black;
}
#rightTop{
      height:50px;
      border-bottom:2px solid black;
} 
```

**[工作小提琴](http://jsbin.com/ekidef/1/edit)**

# java - 如何在不使用许多语句的情况下进行 SQL 查询以测试许多通配符 id

> ID：15288068
> 
> 赞同：1
> 
> 时间：2013-03-08T06:29:21.753
> 
> 标签：java, sql, oracle

我必须编写一个 SQL 查询来在一个表中查找与另一个表的 ID 相似的 ID。

从 TABLE_B 查询时的问题是，在 TABLE_B 中，这些查询将附加一些字符串。

例如：

如果传递的 ID 是：`123456789`

然后在 TABLE_B 它会像`ABC12456789XYZ`

所以要选择这些，我想写一个如下所示的 SQL 查询，迭代数千个`and`子句：

```
String idCsList = "";
int i = 1;
for( String ids : idList ) {
   if( i == 1 ) {
      idCsList = idCsList + "'%" + ids + "%'" + ")";
      i++;
      continue;
   }
   idCsList = idCsList + " AND TABLE_B.id LIKE (" + "'%" + ids + "%'" + ")";
   i++;
} 
```

但是这个想法是行不通的，因为SQL查询的长度有限制，查询会失败。也需要很长时间。

有没有更好的方法以更优化的方式使用许多通配符运算符进行查询？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T06:43:11.050

从您给出的示例中，您可以使用某种函数从 table_B.id 中提取 table_A.id。

1.  作为第一步，您可以编写这样的函数并在您的选择中使用它。但这可能对性能没有太大帮助（我实际上可能会损害性能）但是......

2.  您可以使用该函数在 table_b 上创建基于函数的索引，使其看起来函数值就在表中供 sql 引擎使用。

当然，这需要更改表格……不知道您的情况是否可行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T07:05:02.020

在 SQL 中，您可以构造传递给的字符串`LIKE`：

```
SELECT * 
FROM TABLE_A A INNER JOIN TABLE_B B ON A.ID = B.ID
WHERE B.ID LIKE ('%' + A.ID + '%') 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T06:35:31.483

Select * from TABLE_A a Inner Join TABLE_B b on b.id like '%'+a.id+'%' where a.id in(idCsList)

请为 '%'+a.id+'%' 使用适当的 concat 函数

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-08T06:35:34.920

只需使用 TABLE_A 中的 ID 保留一个索引列，然后 SELECT where prefix=id。

以 '%' 为前缀的 LIKE 谓词非常昂贵，因为您必须扫描整个表。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-01-02T20:47:22.940

您是否尝试过其他人的回答，例如 ecampver 的？

假设您正在运行 oracle 数据库，您应该尝试这样做，就这么简单：

```
select AID from A join B on BID like '%' || AID || '%'; 
```

# php - 按顺序将数据写入文本文件

> ID：15288070
> 
> 赞同：0
> 
> 时间：2013-03-08T06:29:38.763
> 
> 标签：php, ajax, post

我对 PHP 很陌生，我只是在玩 PHP，

我通过ajax post从表单获取数据到php，数据被添加到文本文件中，我想按顺序放置这些数据

像

```
 1) username , emailid , etc  
 2) username , emailid , etc 
```

现在它像这样添加而没有任何数字

```
 username , emailid , etc  
  username , emailid , etc 
```

下面是我的PHP代码

```
<?php
    //print_r($_POST);
    $myFile = "feedback.txt";
    $fh = fopen($myFile, 'a') or die("can't open file");
    $comma_delmited_list = implode(",", $_POST) . "\n";
    fwrite($fh, $comma_delmited_list);
    fclose($fh);
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T06:52:31.830

试试这个 ：

```
<?php

    //print_r($_POST);
    $myFile = "feedback.txt";

    $content  = file_get_contents($myFile);
    preg_match_all('/(?P<digit>\d*)\)\s/', $content, $matches);
    if(empty($matches['digit'])){
      $cnt  = 1;
    }
    else{
      $cnt  = end($matches['digit']) + 1;
    }

    $fh = fopen($myFile, 'a') or die("can't open file");
    $comma_delmited_list = $cnt.") ".implode(",", $_POST) . "\n";
    fwrite($fh, $comma_delmited_list);
    fclose($fh);
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T07:04:07.113

这允许您添加新条目并根据“自然”顺序对所有条目进行排序；即人类最有可能将元素放入的顺序：

→**第 1 部分**：逐行读取 .txt 文件

```
# variables:
    $myFile = "feedback.txt";
    $contents = array(); # array to hold sorted list

# 'a+' makes sure if the file does not exists, it is created:
    $fh = fopen( $myFile, 'a+' ) or die( "can't open file" ); 

# while not at the end of the file:
    while ( !feof( $fh ) ) { 

        $line = fgets( $fh ); # read in a line

        # if the line is not empty, add it to the $contents array:
        if( $line != "" ) { $contents[] = $line; } 

    } 
    fclose($fh); # close the file handle 
```

→**第 2 部分**：添加新条目和“自然”排序列表

```
# add new line to $contents array
    $contents[] = implode( ",", $_POST );

# orders strings alphanumerically in the way a human being would
    natsort( $contents ); 
```

→**第 3 部分**：将已排序的行写入 .txt 文件

```
# open txt file for writing:
    $fh = fopen( $myFile, 'w' ) or die( "can't open file" ); 

# traverse the $contents array:
    foreach( $contents as $content ) { 

         fwrite( $fh, $content . "\n" ); # write the next line 

    }
    fclose($fh); # close the file handle

# done! check the .txt file to see if it has been sorted/added to! 
```

让我知道它是如何工作的。

# regex - 正则表达式出错的地方

> ID：15288074
> 
> 赞同：-1
> 
> 时间：2013-03-08T06:29:53.037
> 
> 标签：regex, perl

我有一个查询导致以下数据

询问 ：

```
db2 "select RTRIM(substr(A.TBSP_NAME,1,30)),A.TBSP_FREE_PAGES as FREE,B.CONTAINER_NAME as CON_PATH from SYSIBMADM.TBSP_UTILIZATION A ,SYSIBMADM.CONTAINER_UTILIZATION B where A.TBSP_ID=B.TBSP_ID and A.TBSP_AUTO_RESIZE_ENABLED=0 with UR" 
```

结果 ：

```
1                              FREE                 CON_PATH                                                                                                                                                                                             
 ------------------------------ -------------------- ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 USERSPACE1                                    14736 /adrst/bdts/userspc_container                                                                                                                                                                        
 USERSPACE1                                    14736 /adrst/bdts/userspc_container1                                                                                                                                                                       
 MASTER                                         3472 /adrst/bdts/master_container                                                                                                                                                                         
 TRANS_DATA                                     1200 /adrst/bdts/trans_data_container                                                                                                                                                                     
 MASTER_INDEX                                   1840 /adrst/bdts/master_index_container                                                                                                                                                                   
 TRANSACTION_INDEX                               960 /adrst/bdts/transaction_index_container                                                                                                                                                              
 TEMP_SYS                                       2192 /adrst/bdts/temp_sys_container                                                                                                                                                                       
 AUDIT_DATA                                     3360 /adrst/bdts/audit_data_container                                                                                                                                                                     
 TEMP_USR                                       2672 /adrst/bdts/temp_usr_container                                                                                                                                                                       
 TSASNCA                                        2840 /home/db2inst1/db2inst1/NODE0000/SQL00002/TSASNCA                                                                                                                                                    
 TSASNUOW                                       2880 /home/db2inst1/db2inst1/NODE0000/SQL00002/TSASNUOW                                                                                                                                                   
 TSASNAA                                        3712 /home/db2inst1/db2inst1/NODE0000/SQL00002/TSASNAA                                                                                                                                                    
 TSCDADDRESSMASTER                              2048 /home/db2inst1/db2inst1/NODE0000/SQL00002/CDADDRESSMASTER                                                                                                                                            

   13 record(s) selected. 
```

现在我正在编写一个脚本，它采用第 2 列并进行比较，如果 < 1000 那么我们在打印中提到 col1 和 col2

所以我写的脚本是

```
#!/usr/bin/perl
use strict;
use warnings;

`db2 "connect to awdrt"`;
my @tbsp= grep /([a-zA-Z_]*)\s*([0-9]*)\s*([a-zA-Z_]*)/,`db2 "select RTRIM(substr(A.TBSP_NAME,1,30)),A.TBSP_FREE_PAGES as FREE,B.CONTAINER_NAME as CON_PATH from SYSIBMADM.TBSP_UTILIZATION A ,SYSIBMADM.CONTAINER_UTILIZATION B where A.TBSP_ID=B.TBSP_ID and A.TBSP_AUTO_RESIZE_ENABLED=0 with UR"`;

print "@tbsp"; 
```

我已经给出了打印来测试我成功地消除了'-----'第一行和最后一行......这样我就可以拆分并初始化为 3 个变量并在 foreach 循环中进行计算，但是某处出错........帮助表示赞赏

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T13:48:01.840

我得到了我问的问题的解决方案......

```
#!/usr/bin/perl
use strict;
use warnings;

my $good = "\[\033[32mOK\033[0m\]";
my $bad = "\[\033[31m!!\033[0m\]";

`db2 "connect to awdrt"`;
my @tbsp= grep /\//,`db2 "select RTRIM(substr(A.TBSP_NAME,1,30)),A.TBSP_FREE_PAGES as FREE,B.CONTAINER_NAME as CON_PATH from SYSIBMADM.TBSP_UTILIZATION A ,SYSIBMADM.CONTAINER_UTILIZATION B where A.TBSP_ID=B.TBSP_ID and A.TBSP_AUTO_RESIZE_ENABLED=0 with UR"`;

foreach (@tbsp){
chomp;
s/^\s*//;
s/\s*$//;
my ($col1,$col2,$col3)=split /\s+/,$_,3;
if ($col2 <= 2000){
print "$bad $col1 has $col2 pages with container $col3\n";
#print "alter tablespace $col1 extend (file \'$col3\' 1000)\n";
}
} 
```

它工作正常........**谢谢大家**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T06:53:26.460

```
# loop over the query output
for (`db2 "select ...`) {
  if (my ($c0, $c1, $c2) = /(\w+)\s*(\d+)\s*([\w\/]+)/) {
    print "$c0,$c1,$c2\n";
  }   
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T13:33:49.300

您可以在单个 grep 中包含对 FREE > 1000 的行的过滤，如下所示：

```
#!/usr/bin/perl
use strict;
use warnings;

my @lines = <DATA>;

my @filtered = grep {/(\S+) # non-space characters
              \s+ # one or more spaces
              (\d+) # numeric characters
              \s+ # one or more spaces
              (\S+) # non-space characters
             /x,
               $2 > 1000 # filter by FREE > 1000
             } @lines; 
```

换句话说，首先使用正则表达式过滤数据行，然后只返回 FREE > 1000 的行。

# wordpress - Wordpress：获取博客的页面名称，而不是主页

> ID：15288076
> 
> 赞同：0
> 
> 时间：2013-03-08T06:30:08.717
> 
> 标签：wordpress, conditional-statements

我与一位优秀的 WP 开发人员一起开发了我的网站（如果有人感兴趣，请让我知道），但他不在城里，我仍在解决一件事。我在导航选项卡下有一个边框图像，这是基于页面的导航的条件。他建议我添加以下内容：

> 在模板文件的顶部键入'"echo $pagename;"' 这应该会输出 WP 看到的页面名称。

这是博客、幽默、咨询标签下没有边框的主页

> [http://www.leesachs.com](http://www.leesachs.com)

点击幽默或咨询，你会看到我想要得到的边框

这些标签下有一个边框，应该在“博客”下，但它没有出现

这是所有 3 个的条件语句（假设所有路径和图像都到位）我们还尝试将替换 (is_home()) 更改为 ($pagename == "blog") 但这没有用

```
if (is_home()){
echo ('<img src="' . get_stylesheet_directory_uri() . '/img/blog_bar.jpg" alt="blog page     border" />');
}elseif ($pagename == "humor"){
echo ('<img src="' . get_stylesheet_directory_uri() . '/img/humor_bar.jpg" alt="humor page     border" />');
}elseif ($pagename == "consulting"){
echo ('<img src="' . get_stylesheet_directory_uri() . '/img/consulting_bar.jpg"     alt="consulting page border" />'); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:11:28.823

如果您导航到博客页面，您将看不到 img html。我认为博客页面不是主页，因此将其设为主页，或者您可以将您提到的其他条件 ($pagename == "blog") 在这种情况下我猜 pagename 不是“blog”而是其他东西。

* *[编辑] *好的，如果您导航到*[http://leesachs.com/](http://leesachs.com/)和[http://leesachs.com/blog/](http://leesachs.com/blog/)，那么博客页面不是主页，它们都是不同的页面。如果不查看 Wordpress 后端，就很难回答这个问题。

# wcf - WCF 错误“HTTP 请求被客户端身份验证方案‘匿名’禁止”

> ID：15288078
> 
> 赞同：0
> 
> 时间：2013-03-08T06:30:15.570
> 
> 标签：wcf, ssl, credentials

编辑：我有点忘了这个问题！我最终重新映射了配置，错误消失了，我找不到原因。

我有一个托管在 IIS 上的 WCF 服务，以及一个尝试连接到它的 Windows 窗体客户端。

WCF 服务应该受到保护，因此 IIS Web 应用程序配置为使用由域（CA 在域上）颁发的证书，该证书颁发给我们的开发环境的“localhost”。

IIS 上的 SSL 设置设置为“需要 SSL”和“客户端证书 = 需要”。

WCF服务使用自定义绑定，web.config中的配置如下：

```
 <diagnostics>
    <messageLogging logEntireMessage="true" logMalformedMessages="true"
      logMessagesAtTransportLevel="true" maxMessagesToLog="25" />
  </diagnostics>
  <services>
    <service behaviorConfiguration="SpecificBehaviorType" name="MyCom.Service">
      <endpoint address="" binding="customBinding" bindingConfiguration="CustomBindingConfiguration" contract="MyCom.IMyService">
        <!--<identity>
          <dns value="localhost" />
        </identity>-->
      </endpoint>
      <!--<host>
        <baseAddresses>
          <add baseAddress="http://localhost:8999/" />
        </baseAddresses>
      </host>-->
    </service>
  </services>
  <bindings>
    <customBinding>
      <binding name="CustomBindingConfiguration">
        <MyComMessageEncoding innerMessageEncoding="textMessageEncoding" />

        <httpsTransport maxReceivedMessageSize="10000000" maxBufferPoolSize="10000000" requireClientCertificate="true" />

      </binding>
    </customBinding>

  </bindings>
  <behaviors>
    <serviceBehaviors>
      <behavior name="SpecificBehaviorType">
        <!-- To avoid disclosing metadata information, 
      set the value below to false and remove the metadata endpoint above before deployment -->
        <serviceMetadata httpGetEnabled="True"/>
        <!-- To receive exception details in faults for debugging purposes, 
      set the value below to true.  Set to false before deployment 
      to avoid disclosing exception information -->
        <serviceDebug includeExceptionDetailInFaults="True" />
      </behavior>
    </serviceBehaviors>
  </behaviors>
</system.serviceModel> 
```

为了使客户端能够连接到服务，我们将“localhost”证书导出​​为“localhost.cer”文件并在我们的代码中使用该文件（这应该是另一个特定于客户端的受信任证书，但我们使用的是 localhost用于测试目的）。客户端配置是以编程方式完成的（据我所知，这里没有具体原因）。

客户端代码如下：

```
 Dim isHttps As Boolean = uri.ToLower().StartsWith("https")
        'TODO: set quotas for message size
        Dim binding As New CustomBinding()
        binding.Elements.Add(New MyComEncodingBindingElement(New TextMessageEncodingBindingElement(MessageVersion.Soap12, System.Text.Encoding.UTF8)))
        'TODO: make configurable to support both http and https
        If isHttps Then
            Dim httpsBinding As New HttpsTransportBindingElement

            binding.Elements.Add(httpsBinding)
        Else
            Dim transport As New HttpTransportBindingElement()
            binding.Elements.Add(transport)
        End If

        Dim channelFactory = New ChannelFactory(Of IRequestChannel)(binding, New EndpointAddress(uri))

        channelFactory.Endpoint.Behaviors.Add(New MustUnderstandBehavior(False))

        If isHttps Then
            For counter As Integer = 0 To channelFactory.Endpoint.Behaviors.Count - 1
                If TypeOf channelFactory.Endpoint.Behaviors(counter) Is System.ServiceModel.Description.ClientCredentials Then
                    CType(channelFactory.Endpoint.Behaviors(counter), System.ServiceModel.Description.ClientCredentials).ClientCertificate.Certificate = New X509Certificate2("localhost.cer")
                    Exit For
                End If
            Next

        End If

        channelFactory.Open()
        Dim channel = channelFactory.CreateChannel()
        channel.Open() 
```

现在的问题是，一旦我们尝试建立连接，我们就会得到“HTTP 请求被客户端身份验证方案‘匿名’禁止”

我们试图改变：

httpsBinding.AuthenticationScheme

但没有用。

我错过了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-17T07:58:51.963

您是否尝试配置 IIS 客户端证书映射？看看这篇文章 [http://www.iis.net/configreference/system.webserver/security/authentication/iisclientcertificatemappingauthentication](http://www.iis.net/configreference/system.webserver/security/authentication/iisclientcertificatemappingauthentication)

# ios6 - 为什么在iphone中解析json时数组取空值？

> ID：15288083
> 
> 赞同：1
> 
> 时间：2013-03-08T06:30:33.667
> 
> 标签：ios6

我正在尝试解析 json 字符串。但我无法使用以下代码执行此操作，请帮助我。其他明智的显示任何替代代码来解析 json 字符串。
在代码中，我得到了 json 字符串。但我无法在任何字典中解析数组中的那个字符串。在这个方法的最后，我放了三个 nslog 语句，中间一个在解析时显示 nsarray 的空值。请帮助我或建议任何替代代码。

```
NSString *JsonString = [NSString stringWithFormat:@"http://bia.igreentechservices.com/ws/ws_registration.php?emailid=%@&password=%@&fname=%@&lname=%@&gender=%@&birthdate=%@&mobile=%@&address=%@&emergency_contact_no=%@&other_contact_no_1=%@&other_contact_no_2=%@",emailAdd,pwd,fName,lName,gen,bDate,mobileNum,add,emergencyContactNum,anotherContactNum1,anothercontactNum2];

-(void)callWebService:(NSString *)JsonString {

SBJsonParser *parser = [[SBJsonParser alloc] init];
NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:JsonString]];
NSData *response = [NSURLConnection sendSynchronousRequest:request returningResponse:nil error:nil];
NSString *Json_string = [[NSString  alloc] initWithData:response encoding:NSUTF8StringEncoding];
registrationDetail = [parser objectWithString:Json_string error:nil];
for(NSDictionary *status in registrationDetail) {
    NSLog(@"%@ ", [status objectForKey:@"registration"]);// here, this output does not show any out put in conlsole.
NSLog(@"%@",response);

NSLog(@"%@",registrationDetail); // here why this line is showing null  as output in console 
NSLog(@"%@",Json_string);
} 
```

# go - 是否可以在 Go 中动态引用包属性？

> ID：15288085
> 
> 赞同：2
> 
> 时间：2013-03-08T06:30:39.637
> 
> 标签：go

我主要是一名 PHP 开发人员，最近我开始研究 Go。在 PHP 中，我可以这样做：

```
<?php

class TestClass {
    public function testMethod() {
        echo "Hello!\n";
    }
}

$obj = new TestClass();
$method_name = "testMethod";
$obj->{$method_name}();

?> 
```

输出为：`Hello!`.

我知道以下不是一个完美的比较，因为 Go 没有类，但我想知道是否可以对 Go 中模块的导出属性做类似的事情。例如这样的事情（我知道这不是有效的 Go 代码）：

```
package main

import "fmt"

func main() {
    name := "Println"
    fmt[name]("Hello!")
} 
```

这有可能吗？如何完成类似的事情？谢谢你。

*编辑：将“模块”更改为“包”，因为这是我在 Go 中所指的正确名称*

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-08T12:34:17.013

我猜你正在寻找“反射”。

```
package main

import (
    "fmt"
    "reflect"
)

type sayer struct {
    said int
}

func (s *sayer) SayHello() {
    fmt.Println("Hello")
}

func main() {
    s := &sayer{}
    cmd := "SayHello"
    reflect.ValueOf(s).MethodByName(cmd).Call(nil)
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-08T07:06:51.300

不知道“模块属性”是什么意思（Go 规范不知道这样的事情）。只能猜测：

```
package main

import "fmt"

func main() {
        m := map[string]func(va ...interface{}) (int, error){"Println": fmt.Println}
        m["Println"]("Hello, playground")
} 
```

（也在[这里](http://play.golang.org/p/FiG-GO4_TO)）

* * *

输出

```
Hello, playground 
```

# jsf-2 - JSF 查看作用域 bean 寿命

> ID：15288087
> 
> 赞同：1
> 
> 时间：2013-03-08T06:30:51.170
> 
> 标签：jsf-2, managed-bean, view-scope

我必须保留跨 3 页流的信息，该流在所有三个页面中都使用 ajax 功能。所以这就是我设计结构的方式

1）一个视图范围bean（@ViewScoped），包含动作方法、Ajax方法以及三个页面所需的属性

```
2)        Wizard.xhtml 
          |_  Step1.xhtml
          |_  step2.xhtml
          |_  step3.xhtml 
```

Wizard xhtml 包括这三个 facelet，并根据用户当前正在操作的页面进行条件渲染。所以基本上在从第 1 步导航到第 2 步时，我会提到 wizard.xhtml 。所以我怀疑bean实例如何生活在这里。它是否存在于整个流程中（如果是，它会导致任何性能问题）还是被破坏然后重新创建？

使用这种方法，我能够保留所有页面的值，但我想知道这是否真的是一种好的设计方法以及它可能带来什么影响/缺点。？提前致谢 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-09T07:14:53.553

您基本上有 2 个选项来构建向导型流程。第一个选项是在一个视图中显示所有步骤，另一个是在向导中有步骤时显示视图数量。

## 一个视图中的所有向导步骤

正如 Xtreme Biker 正确提到的那样，设计视图最自然的方式是分离条件渲染组件中的每个步骤，例如`<h:panelGroup>`在进入不同的向导步骤时更新 bean 的属性 currentStep。

基本视图设置：

```
<h:panelGroup id="step1">
    <h:panelGroup rendered="#{bean.currentStep eq 1}">
        <ui:include src="step1.xhtml"/>
    </h:panelGroup>
</h:panelGroup>
... 
```

包含的页面（step2.xhtml）：

```
...
<h:commandButton value="Back" action="#{bean.back}">
    <f:ajax execute="step2" render="step1 step2"/>
</h:commandButton>
<h:commandButton value="Forward" action="#{bean.forward}">
    <f:ajax execute="step2" render="step1 step2"/>
</h:commandButton>
... 
```

支持豆：

```
@ManagedBean
@ViewScoped
public class Bean implements Serializable {

    ...
    private int currentStep = 1;//getter+setter

    public String forward() {
        ...
        if(currentStep == 2) {
             doSomethingWithValues();
             currentStep++;
        }
        ...
    }

    public String back() {
        ...
        if(currentStep == 2) {
             clearNecessaryValues();
             currentStep--;
        }
        ...
    }

} 
```

如果您想在视图中嵌入自定义内容，这种方法很好。如果你擅长“标准”方法，你宁愿不重新发明轮子并使用Primefaces 库的[`<p:wizard>`标签，它在幕后基本上是相同的。](http://www.primefaces.org/showcase/ui/wizard.jsf)

## 每个向导步骤都有不同的视图

如果您要通过调用后退/前进按钮导航到不同的视图，并在每次您的工作完成时返回不同的导航案例结果，可以使用`flash`对象将所需的数据传输到下一个视图。

因此，设置将是：（`wizard/step2.xhtml`每个步骤一个视图）和一个视图范围 bean `Bean`。

一种观点（第二种观点）

```
...
<h:commandButton value="Back" action="#{bean.back}">
</h:commandButton>
<h:commandButton value="Forward" action="#{bean.forward}">
</h:commandButton>
... 
```

支持豆：

```
@ManagedBean
@ViewScoped
public class Bean implements Serializable {

    ...
    private int currentStep = 1;//getter+setter

    @ManagedProperty("#{flash}")
    private Flash flash;//getter+setter

    private Data step1Data;
    private Data step2Data;
    private Data step3Data;
    ...

    @PostConstruct
    public void init() {
        int step = Integer.parseInt(flash.get("newStep"));
        Data step1 = (Data)flash.get("step1");
        Data step2 = (Data)flash.get("step2");
        Data step3 = (Data)flash.get("step3");
        this.currentStep = step;
        this.step1Data = step1;
        this.step2Data = step2;
        this.step3Data = step3;
        ...
    }

    public String forward() {
        ...
        if(currentStep == 2) {
             doSomethingWithValues();
             currentStep++;
             flash.put("step", currentStep);
             flash.put("step1", step1Data);
             flash.put("step2", step2Data);
             return "wizard/step3?faces-redirect=true"
        }
        ...
    }

    public String back() {
        ...
        if(currentStep == 2) {
             clearNecessaryValues();
             currentStep--;
             flash.put("step", currentStep);
             flash.put("step1", step1Data);
             return "wizard/step1?faces-redirect=true"
        }
        ...
    }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T08:51:09.297

如果您的流程将基于**ajax**`@ViewScoped` ，则使用bean没有问题。只有当导航结果返回时，这种 bean[才会被销毁](https://stackoverflow.com/a/4831963/1199132)，因此，只要您在内容之间切换的 ajax 调用返回 null 或空 String 值，您就没有问题。基本上，您应该使用基于组件渲染的流程，使用变量来控制它们：

```
<h:outputPanel rendered="#{bean.screen eq 'first'}">
    //your first screen
</h:outputPanel>
<h:outputPanel rendered="#{bean.screen eq 'second'}">
    //your second screen
</h:outputPanel>
<h:outputPanel rendered="#{bean.screen eq 'third'}">
    //your third screen
</h:outputPanel> 
```

请记住，您必须注意使用`<ui:include>`标签包含您的 xhtml，因为它是一个[标签处理程序](https://rogerkeays.com/jsf-c-foreach-vs-ui-repeat)，并且在组件本身之前被评估。因此，如果您将其中一个放入上面的组件中，它们将被全部评估，不管它们是否要被渲染。看看我之前遇到[的类似问题](https://stackoverflow.com/questions/13990965/jsf-uiinclude-not-being-rendered-properly)。

# javascript - 如何为 p:remoteCommand ajax 调用传递动态值？

> ID：15288090
> 
> 赞同：1
> 
> 时间：2013-03-08T06:31:02.550
> 
> 标签：javascript, jquery, jsf, xhtml, primefaces

我有包含 p:commandLink 的 ap:dataTable。我需要在鼠标悬停事件上使用参数进行 ajax 调用。我发现 commandLink 无法通过 mouseover 事件进行 ajax 调用。我们必须使用远程命令来实现此功能。

我更喜欢这个解决方案-

[ap:dataTable 中的 p:commandLink ajax 事件](https://stackoverflow.com/questions/7629425/pcommandlink-ajax-events-inside-of-a-pdatatable)

它工作得很好。由于它在dataTable里面，这里我们会得到多个remoteCommand。如果我想对命令链接的每个 ajax 调用使用单个远程命令，我必须做什么。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-08T07:51:13.093

在这种情况下，您应该调用 JavaScript 函数，该函数由`p:remoteCommand`with 参数创建，该参数指示您的数据（例如，它可以是模型 bean 的主键或您可以识别对象的东西）：

```
onmouseover="rc([{ name: 'myData', value: #{data.code} }])" 
```

这会将名为的附加参数传递`muData`给您的侦听器。您可以通过以下方式获取该参数：

```
FacesContext context = FacesContext.getCurrentInstance();
Map map = context.getExternalContext().getRequestParameterMap();
String code = map.get("myData").toString(); 
```

**也可以看看：**

*   [数据表中的 JSF PrimeFaces inputText](https://stackoverflow.com/a/14991144/759126)

# iphone - 如何在将捕获的图像保存在 IOS 的图库中之前对其进行裁剪

> ID：15288092
> 
> 赞同：1
> 
> 时间：2013-03-08T06:31:03.583
> 
> 标签：iphone, ios, objective-c, ipad, uiimagepickercontroller

我正在开发相机应用程序。我正在使用 UIImagePickerController 捕获图像。之后，在将其保存到画廊之前，我想裁剪图像并需要将裁剪后的图像保存在画廊中。

我在谷歌上搜索，我找到了从图库中挑选图像然后裁剪的样本，这不是我的要求。任何人都可以解决这个问题吗？？？如果您浏览过任何教程/示例代码，请发布链接。提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T06:38:39.293

推是允许编辑=是；用于选择器，以便我们也可以编辑您从图库中捕获和选择的图像

```
UIImagePickerController *picker = [[UIImagePickerController alloc] init];
    picker.sourceType = UIImagePickerControllerSourceTypePhotoLibrary;
    picker.delegate = self;
    picker.isallowediting = yes; 
```

希望这些对你有帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T06:51:49.493

在 imagePickerController 方法中使用此代码来裁剪捕获的图像。它对我来说很好。

```
- (void)imagePickerController:(UIImagePickerController *)picker didFinishPickingMediaWithInfo:(NSDictionary *)info
    {
    [_imagePickerControllerInstance dismissModalViewControllerAnimated:YES];
        UIImage *_pickedAvatar = [info objectForKey:@"UIImagePickerControllerOriginalImage"];

       UIImage *croppedImage = [self cropImage:_pickedAvatar andFrame:CGRectMake(0, 0, 250, 250)];

   // croppedImage : U can use this cropped image for saving in gallery.

    }
- (UIImage *)cropImage:(UIImage*)image andFrame:(CGRect)rect {

   //Note : rec is nothing but the image frame which u want to crop exactly. 

    rect = CGRectMake(rect.origin.x*image.scale,
                      rect.origin.y*image.scale,
                      rect.size.width*image.scale,
                      rect.size.height*image.scale);

    CGImageRef imageRef = CGImageCreateWithImageInRect([image CGImage], rect);
    UIImage *result = [UIImage imageWithCGImage:imageRef
                                          scale:image.scale
                                    orientation:image.imageOrientation];
    CGImageRelease(imageRef);
    return result;
} 
```

**别的**

看到[这个问题](https://stackoverflow.com/questions/158914/cropping-a-uiimage)。

使用**UIImage 类别**并在需要裁剪图像的任何地方使用。

```
@implementation UIImage (Crop)
    - (UIImage *)crop:(CGRect)rect {

        rect = CGRectMake(rect.origin.x*self.scale, 
                          rect.origin.y*self.scale, 
                          rect.size.width*self.scale, 
                          rect.size.height*self.scale);       

        CGImageRef imageRef = CGImageCreateWithImageInRect([self CGImage], rect);
        UIImage *result = [UIImage imageWithCGImage:imageRef 
                                              scale:self.scale 
                                        orientation:self.imageOrientation]; 
        CGImageRelease(imageRef);
        return result;
    }

@end 
```

# javascript - 我有一个输入，它的类型设置为隐藏，我需要将它的类型更改为文本。似乎无法弄清楚这一点，或者是否可以使用 js

> ID：15288094
> 
> 赞同：-1
> 
> 时间：2013-03-08T06:31:05.943
> 
> 标签：javascript

我有一个输入，它的类型设置为隐藏，我需要将它的类型更改为文本。似乎无法弄清楚这一点，或者是否可以使用 js

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T06:34:27.370

```
document.getElementById('myinput').type='text'; 
```

在 IE 9 和 Chrome 25 中测试。您可以看到它在 jsFiddle 上运行：http: [//jsfiddle.net/V4NmC/](http://jsfiddle.net/V4NmC/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T07:24:57.510

为什么要改变它的类型？您不能将其创建为文本输入然后更改其显示值吗？

```
document.getElementById("InputName").style.diplay="inline"; 
```

或将其改回

```
document.getElementById("InputName").style.diplay="none"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T06:33:27.227

在 jQuery 中，您会执行以下操作：

```
$('#elementId').attr('type', 'text'); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-08T06:33:38.447

`document.getElementById("textinput").setAttribute('type', 'text');`

# android - 我的列表视图仅在使用调试器时更新

> ID：15288101
> 
> 赞同：0
> 
> 时间：2013-03-08T06:32:00.803
> 
> 标签：android, debugging, android-listfragment

每当我正常运行我的应用程序时，bnf 片段的列表片段总是空白的。但是，如果我在 fetch stories 方法之前设置断点并逐行执行代码，则 listfragment 会更新！我粘贴的最后一个类是一个 AsycnTask，它获取用于更新列表视图的所有数据。我在想我在线程方面做错了什么，但我不确定发生了什么。对于它的价值，添加的第一个片段也是一个异步任务，它工作正常。

```
public class NasaAppActivity extends Activity implements ActionBar.TabListener{

private Bundle savedInstanceState;
private static View mainView;
private FragmentTransaction ft;
BreakingNewsFragment bnf; //a list fragment
NasaDailyImage ndi; //another fragment

@Override
public void onStart(){
    super.onStart(); 
    if(savedInstanceState==null){
        ndi=new NasaDailyImage(this);
        bnf=new BreakingNewsFragment(this);     
        ft=getFragmentManager().beginTransaction();
        ft.add(R.id.focused_view_container,ndi).commit();
        ft=getFragmentManager().beginTransaction();
        ft.add(R.id.focused_view_container,bnf).commit();
    }

public void onTabSelected(Tab tab, FragmentTransaction f) {

    switch(tab.getPosition()){ //switches which fragment is visible
    case 0:
        ft=getFragmentManager().beginTransaction();

            ft.hide(bnf);
            ft.show(ndi);
            ft.commit();

           getFragmentManager().executePendingTransactions();

        break;
    case 1:
            ft=getFragmentManager().beginTransaction();
            ft.hide(ndi);
            ft.show(bnf);

            ft.commit();
            bnf.fetchStories();
            bnf.updateList(); //updates the list fragment
          getFragmentManager().executePendingTransactions();

         break;
    }

} 
```

}

* * *

```
@SuppressLint("ValidFragment")
public class BreakingNewsFragment extends ListFragment {
    private static Activity mainActivity;
    private static ArrayList<Story> stories=new ArrayList<Story>();
    private static ArrayList<String> storyTitles=new ArrayList<String>();

    public BreakingNewsFragment(){

    }
    public BreakingNewsFragment(Activity mainActivity){
        this.mainActivity=mainActivity;
    }
    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        // TODO Auto-generated method stub

        return super.onCreateView(inflater, container, savedInstanceState);
    }

    @Override
    public void onHiddenChanged(boolean hidden) {
        // TODO Auto-generated method stub
        super.onHiddenChanged(hidden);

    }
    @Override
    public void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);

    }
    public void fetchStories(){
        RssNewsParser parser=new RssNewsParser(mainActivity);
        parser.execute("");
        stories=parser.getStories();
        for(Story story:stories){
            storyTitles.add(story.getTitle());
        }
        String result;
        result = storyTitles.toString();
    }
public void updateList(){
    String result;
    result = storyTitles.toString();
    setListAdapter(new ArrayAdapter<String>(mainActivity,android.R.layout.simple_list_item_1,storyTitles));
}
    @Override
    public void onStart() {
        // TODO Auto-generated method stub
        super.onStart();

    }

} 
```

* * *

```
public class RssNewsParser extends AsyncTask<ArrayList<Story>,String,ArrayList<Story>>{
    private ProgressDialog dialog;
    URL newsURL;
    ArrayList<Story> stories=new ArrayList<Story>();
    int eventType;
    int storyCount= -1;
    private Activity mainActivity;

    RssNewsParser(Activity mainActivity){
        this.mainActivity=mainActivity;
    }
    public ArrayList<Story> getStories(){
        return stories;
    }

        @Override
        protected void onPostExecute(ArrayList<Story> result) {
            // TODO Auto-generated method stub
            super.onPostExecute(result);
            dialog.hide();
        //this.cancel(true);
    }
    @Override
    protected void onPreExecute() {
        // TODO Auto-generated method stub
        super.onPreExecute();

        dialog=ProgressDialog.show(mainActivity, "Loading", "loading news");
    }
    @Override
    protected ArrayList<Story> doInBackground(ArrayList<Story>... params) {
        try{

        newsURL = new URL("http://www.nasa.gov/rss/breaking_news.rss");//set URl                         
        BufferedReader in = new BufferedReader(new InputStreamReader(newsURL.openStream()));//get rss
        XmlPullParserFactory factory;
        factory = XmlPullParserFactory.newInstance();//new factory
        factory.setNamespaceAware(true);
        XmlPullParser xpp;
        xpp = factory.newPullParser();
        xpp.setInput(in);
        eventType = xpp.getEventType();//returns an int which mean different things (START_DOCUMENT,START_TAG,etc)

    while(eventType!=XmlPullParser.END_DOCUMENT){//while the document has words

     switch(eventType){

        case XmlPullParser.START_DOCUMENT://beginning of xml
            break;
        case XmlPullParser.START_TAG://case : at beginning of new tag
            String tagName=xpp.getName();

            if(tagName.equals("item")){
                Story story=new Story();
                stories.add(story);
                storyCount++;
                xpp.getDepth();
            }
            if(tagName.equals("title")&& !stories.isEmpty()){
                xpp.getDepth();
                stories.get(storyCount).setTitle(xpp.nextText());
            }
            if(tagName.equals("link") && !stories.isEmpty()){
                stories.get(storyCount).setURL(xpp.nextText());
                xpp.getDepth();
            }
            if(tagName.equals("description")&& !stories.isEmpty()){
                stories.get(storyCount).setDescription(xpp.nextText());
                xpp.getDepth();
            }

            break;

        }
        eventType=xpp.next();
    }//switch   
        in.close();//close BufferedReader
    } catch (MalformedURLException e){
        e.printStackTrace();
    }catch(XmlPullParserException e1){
        e1.printStackTrace();
    }catch(IOException e2){
        e2.printStackTrace();
    }     
        return stories;
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T06:39:00.187

> 我的列表视图仅在使用调试器时更新

这里

```
 parser.execute("");
    stories=parser.getStories(); //<<<<<<< here 
```

您正试图`AsyncTask`在执行`AsyncTask`. 要么使用`AsyncTask.get()`获取结果的方法并等待`doInBackground`执行未完成，要么`onPostExecute`使用`ListView`从`doInBackground`. 改变你`onPostExecute`的：

```
@Override
 protected void onPostExecute(ArrayList<Story> result) {
   // TODO Auto-generated method stub
    super.onPostExecute(result);
     // get data here
     stories=getStories();
    BreakingNewsFragment.this.setListAdapter(new ArrayAdapter<String>(mainActivity,
                         android.R.layout.simple_list_item_1,stories));
     dialog.hide();

    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T06:50:37.770

您将 fetchStories 方法视为阻塞调用。这意味着，您希望您的代码等到该方法完成，直到调用调用 updateStories 方法的下一行。但是，由于 fetchStories 是异步工作的，所以在您调用 updateStories 时它还没有完成。

解决此问题的方法是从 AsyncTask 的 onPostExecute 方法调用 updateStories。此方法的目的是允许您在任务完成其主要工作（您放入 doInBackground 的内容）后，在启动 AsyncTask 的线程（通常是 UI 线程，因此您可以进行更新）上执行代码

它在您调试时起作用的原因是因为您正在减慢代码的执行速度，以便在调用 updateStories 之前完成 fetchStories。在设备上，情况并非如此。

简短的回答，从 onPostExecute 更新您的列表。

# c# - 防止将 RedirectStandardError 写入控制台

> ID：15288103
> 
> 赞同：1
> 
> 时间：2013-03-08T06:32:03.487
> 
> 标签：c#, .net, console-application, stderr

我正在尝试读取和解析控制台应用程序中另一个进程的错误输出。

```
 ProcessStartInfo psi = new ProcessStartInfo(ps, arg)
 {
   RedirectStandardError = true,
   UseShellExecute = false
 };
 Process p = Process.Start(psi);
 return p.StandardError.ReadToEnd(); 
```

虽然这可行并且整个标准错误文本也被返回，但该文本也出现在我的控制台上，这让用户感到不安。有没有办法防止这种情况发生？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T06:45:18.663

也尝试重定向标准输出（RedirectStandardOutput = true） - 我已经有过几次其他进程在两者上输出的情况。

由于另一个过程不是您的代码（我猜），因此尽可能多地控制它并不是一个糟糕的计划！

# ruby-on-rails - Rails 中的地理空间应用

> ID：15288106
> 
> 赞同：0
> 
> 时间：2013-03-08T06:32:11.613
> 
> 标签：ruby-on-rails, mysqli, geospatial

对于我的下一个 Ruby on Rails 项目，我将不得不存储和查询地理空间数据。更准确地说，我想做以下事情：

*   在数据库中存储几千个纬度/经度对。
*   查询一个点是否在任意点的一定半径内。
*   查询一个点是否在一个矩形内（跨越两点）
*   可能查询一个点是否在任意多边形内。
*   可能将大量点存储在一种“位置日志”中（最多每秒几百个），当然稍后再检索它们。

另一个非常重要的查询是：

*   找到与纬度/经度对相关的最近的 n 个存储点。

实现这一目标的最轻松的组件组合是什么？我关心快速实施和非常快速的查询。

我找到[了这个演示文稿](https://speakerdeck.com/lest/geospatial-applications-on-rails)，作者似乎更喜欢 Postgres 和 activerecord-postgis-adapter，但也许还有其他有价值的意见。

这只是一个小型原型项目，但我已经运行了 MySQL，所以我对这方面的经验很感兴趣。还是 Postgres + PostGIS 绝对是要走的路？而且我知道 MongoDB 可以很容易地开始使用地理数据，但是，这次我想使用关系数据库。

非常感谢任何输入。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T06:53:31.137

MySQL 也支持 GIS。尽管 MSSQL 和 Postgres 对此有很好的库支持，但 MySQL 也可以很好地执行。查看[***MySQL 提供的函数列表***](http://dev.mysql.com/doc/refman/4.1/en/functions-that-test-spatial-relationships-between-geometries.html)。

*   MySQL：使用地理数据类型进行 GIS 和规划器计算。**文档**-> 好
*   MSSQL：同时具有地理和几何数据类型。**文档**->很棒。**帮助**-> 真棒
*   Postgres：同时具有地理和几何数据类型。**文档**->很棒。**帮助**-> 好

明智地选择:)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T07:11:39.533

已将 MongoDB 与 mongoid 一起使用。做得很好。另外，尝试在 elasticsearch (tire gem) 中使用进行地理搜索。

# vba - VBA Word：使用当前选择更新查找格式

> ID：15288113
> 
> 赞同：2
> 
> 时间：2013-03-08T06:32:36.040
> 
> 标签：vba, formatting, ms-word

我希望 Word 中的“**查找**”会根据我选择的文本自动填充其格式。即，如果我将光标放在***粗体和斜体***的文本上，我希望能够找到与此格式匹配的所有文本，而无需在**Format** -> **Font**窗口中实际执行手动选择这些格式的过程**查找**对话框。

在 Word 的宏录制功能的帮助下，我找到了一个可行的解决方案：

```
Sub FindFormat()
    Selection.Find.ClearFormatting
    Selection.Find.Replacement.ClearFormatting
    With Selection.Find.Font
        .Size = Selection.Font.Size
        .Bold = Selection.Font.Bold
        .Italic = Selection.Font.Italic
        .Underline = Selection.Font.Underline
        .StrikeThrough = Selection.Font.StrikeThrough
        .DoubleStrikeThrough = Selection.Font.DoubleStrikeThrough
        .Hidden = Selection.Font.Hidden
        .SmallCaps = Selection.Font.SmallCaps
        .AllCaps = Selection.Font.AllCaps
        .Color = Selection.Font.Color
        .Superscript = Selection.Font.Superscript
        .Subscript = Selection.Font.Subscript
    End With
End Sub 
```

我可以在技术上使用它并完成。问题是它不是那么直观，因为很难看到它已应用的格式，“**查找”**字段下的逗号分隔列表永远不会结束，并且会用省略号切断窗口，从而无法读取所有应用的格式：

![Microsoft Word 查找](../Images/1a99f5794a74e4f000fdd27bd77fd6e3.png)

因此，切入正题，我如何让 VBA 只更改与中性不同的格式选项，并剪切其余部分，即**No Underline、Font color: Auto**等不应在**Find**的**格式**中更改（使其复选框处于中性状态）？

此外，如何调用“**查找”**对话框以打开所有这些设置而无需任何实际的查找执行（例如，我可以根据需要手动添加文本或更改任何格式）？

带着赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-14T16:01:10.440

对于你问题的第一部分，我会使用下面的 IF 语句。

```
.Size = Selection.Font.Size
If Selection.Font.Bold = True Then .Bold = Selection.Font.Bold
If Selection.Font.Italic = True Then .Italic = Selection.Font.Italic
If Selection.Font.Underline <> wdUnderlineNone Then .Underline = Selection.Font.Underline
If Selection.Font.StrikeThrough = True Then .StrikeThrough = Selection.Font.StrikeThrough
If Selection.Font.DoubleStrikeThrough = True Then .DoubleStrikeThrough = Selection.Font.DoubleStrikeThrough
If Selection.Font.Hidden = True Then .Hidden = Selection.Font.Hidden
If Selection.Font.SmallCaps = True Then .SmallCaps = Selection.Font.SmallCaps
If Selection.Font.AllCaps = True Then .AllCaps = Selection.Font.AllCaps
If Selection.Font.ColorIndex <> wdAuto Then .ColorIndex = Selection.Font.ColorIndex
If Selection.Font.Superscript = True Then .Superscript = Selection.Font.Superscript
If Selection.Font.Subscript = True Then .Subscript = Selection.Font.Subscript 
```

对于您想要跟踪的任何其他值，依此类推。（请注意，我使用的是 ColorIndex 而不是 Color。我使用的是 Word 2010，这对我来说是正确的属性。）

我不知道如何做第二部分。理论上你会设置 wdEditFind 对话框的 Find 参数，但实际上它似乎只接受一个字符串作为它的值。

另一件事；如果您想在各种可能性中循环，则使用 Find 可能是可行的方法。但是，如果您要获取具有特定格式的所有文本的列表，更简单的方法是右键单击所选文本，然后选择样式 > 选择所有具有相似格式的文本。然后，您可以复制并粘贴到另一个文件中。可能与您的需求相关，也可能不相关，但在某些情况下这是一个方便的技巧。

# angularjs - 输入指令：如何适应原始和肮脏？

> ID：15288114
> 
> 赞同：1
> 
> 时间：2013-03-08T06:32:52.210
> 
> 标签：angularjs, input, angularjs-directive

我为输入数据构建了不同的指令（如日历、colo 选择器……）。我想赋予这些元素相同的行为，这与常见的输入 elmenets 具有（原始的、肮脏的）相同的行为。有没有办法实现这一点（可能通过继承或类似）？如果没有，任何人都知道如何正确编码，所以它很适合吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T07:44:52.737

如果您的指令不在`ng-model`内部使用，您必须自己创建。因此，如果您的指令只是包装了一个可编辑的文本字段并具有一些额外的功能，那么仍然使用它是一个好主意，`ng-model`因为它为您提供了这些额外的东西。所以是这样的：

的HTML：

```
<my-input my-model="model1"> 
```

和 JS：

```
myModule.directive('myInput', function() {
    return {
        replace: true,
        restrict: 'E',
        scope: {
            model: '=myModel'
        },
        template: '<div><input type="text" ng-model="model"</div>',
        link: function($scope, elem, attrs) {
            // Add extra features to the input
        }
    };
}); 
```

有了这个，你的指令会自动从 using 获取原始/肮脏的行为`ng-model`。如果这不是您的选择，我建议您查看 NgModelController 的源代码，特别是有关原始/脏的部分。

# c# - 如何在 X 时间内运行 C# 任务或线程

> ID：15288123
> 
> 赞同：-1
> 
> 时间：2013-03-08T06:33:58.097
> 
> 标签：c#, .net, task-parallel-library

我有一些业务逻辑来检查 Web 服务是否存在。

我想在开始时间后的 1 小时内每 5 分钟重复检查一次。

如何通过任务或线程或等待/异步功能来做到这一点。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-08T06:51:22.137

线程解决方案如下所示：

```
public class WebserviceChecker {

    private int durationInHours = 1;
    public void setDuration(int value) { durationInHours = value; }

    private boolean _shutdown = false;

    private DateTime _startTime = null;
    // System.Windows.Forms.Timer
    private Timer _timer = null;

    public void CheckWebservice() {

        _startTime = DateTime.Now;
        _timer = new Timer();
        _timer.Tick += handleTimerTick;

        while(!_shutdown) {
            try {
                // do what ever you want to do for checking your webservice...
                // ...
            } catch (ThreadAbortedException ex) {
                // do cleanup, then
                //
                break;
            } catch (Exception ex) {
                Logger.Instance.log(LoggerLogType.Type.Err, ex.ToString());
            }
            // wait 5 secs (customize to your needs)
            Threading.Thread.Sleep(5000);
        }

        if(_shutdown) {
            // do some regular cleanup here...
        }

    } // public void CheckWebservice()

    public void Shutdown() {
        _shutdown = true;
    }

    private void handleTimerTick(Object sender, System.EventArgs e) {
        TimeSpan ts = _startTime .Subtract(DateTime.Now);
        if(ts.TotalHours >= durationInHours) {
            Shutdown();
        }
    }
} 
```

现在像这样启动后台线程：

```
WebserviceChecker _c = new WebserviceChecker();

Thread _watcher = new Thread(_c.CheckWebservice);
_watcher.IsBackground = true;
_watcher.Start(); 
```

对于计划任务，请看这里：[C# 启动计划任务](https://stackoverflow.com/questions/7993392/c-sharp-start-a-scheduled-task)

我更喜欢线程解决方案，因为从外部进程获取数据有点复杂。将线程数据同步到主线程更容易。您将需要通过命名管道或套接字通信 (TCP/UDP)在[WCF](http://de.wikipedia.org/wiki/Windows_Communication_Foundation)上的IPC（进程间通信）等范例。

如果您需要提示如何从线程中取回数据：您可以例如在 WebserviceChecker 类中定义一个事件，当您的 WS 状态发生变化时您将触发该事件。

关于*IsBackground*事情的一些话......如果您不将线程设置为后台，则您的应用程序只会在每个前台线程退出他的工作方法时退出。当应用程序关闭时，后台线程将自动中止。

对 ThreadAbortedException 的一句话：在 .NET 中，我们获得了硬中止线程的特权。框架将在线程方法中的任何位置引发此异常以退出它。如果你没有抓住它，线程将在没有清理的情况下退出。所以只要抓住它，清理内存或做一些整理任务。你会在这里这样做：

```
_watcher.Abort(); 
```

干杯ceth :)

[编辑] MSDN 上有一个很好的多线程教程：http: [//msdn.microsoft.com/en-us/library/aa645740%28v=vs.71%29.aspx](http://msdn.microsoft.com/en-us/library/aa645740%28v=vs.71%29.aspx) [/edit]

[编辑]如果你想使用 System.Threading.Timer 你需要在你的观察者类中实现 System.Threading.TimerCallback 委托。然后你可以用一个句点而不是后台线程来实例化一个新的计时器。有关更多详细信息，请参阅[http://msdn.microsoft.com/de-de/library/system.threading.timercallback.aspx](http://msdn.microsoft.com/de-de/library/system.threading.timercallback.aspx) [/edit]

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T13:37:30.567

首先，重新审视您的业务需求。这到底能带给你什么？一个 web 服务随时可能突然消失，所以你刚刚检查它的事实并不意味着你的下一个调用会成功。这适用于所有网络通信。

因此，如果您有一个单独的“检查器”，则不会降低“真实”代码的复杂性。这种设计的唯一好处是向用户提供某种视觉通知，他们可以合理地确定他们对服务的下一次调用将成功。即使这样，您也可能需要重新考虑，因为这只是*合理*确定，如果您对他们撒谎，用户会生气。

也就是说，您可以`Task`像这样使用 s 来做到这一点：

```
private static async Task CheckAsync(CancellationToken token)
{
  // Check your web service.
  await CheckWebServiceAsync(token);

  // Wait 5 minutes.
  await Task.Delay(TimeSpan.FromMinutes(5), token);
}

...

var done = new CancellationTokenSource(TimeSpan.FromHours(1));
Task checkingTask = CheckAsync(done.Token);
// When checkingTask completes:
//   IsCanceled -> One hour passed with no errors.
//   IsFaulted -> The web service failed. 
```

# php - php中的百分比计算

> ID：15288126
> 
> 赞同：0
> 
> 时间：2013-03-08T06:34:17.877
> 
> 标签：php, math

我正在尝试计算下面的百分比（顺便说一下，我需要四舍五入，但它一直显示 100。如何使用下面的示例计算 php 中的百分比：

```
 $totalmarks += (int)$questionData['questionmarks'];
    $studentmarks += (int)$questionData['studentmark'];
    $percentage = $studentmarks / $studentmarks * 100;

echo $percentage; 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-08T06:35:22.860

你的公式是错误的。你`studentmarks` 自己在分裂。它必须除以`totalmarks`。目前就像说`$percentage = 1/1 * 100`; 这将始终导致 100。

```
$percentage = ($studentmarks / $totalmarks) * 100;
$percentage = round($percentage,2); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T06:37:06.273

最简单的方法（恕我直言）总是**将**总分除以**100**，然后将其**乘以**您想要的（学生）百分比**值**

```
$percentage = ($totalmarks / 100) * $studentmarks 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T06:37:59.050

我希望这段代码可以帮助你:)

```
$totalmarks += (int)$questionData['questionmarks'];
$studentmarks += (int)$questionData['studentmark'];
$percentage = ($studentmarks /   $totalmarks) * 100;
echo $percentage; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-08T06:37:36.770

要四舍五入，您需要使用 ceil()

```
echo ceil(($questionData['studentmark'] / $questionData['questionmarks']) *100); 
```

# windows-phone-7 - WP7 Silverlight 应用程序中的 XNA SkyBox

> ID：15288129
> 
> 赞同：0
> 
> 时间：2013-03-08T06:34:26.647
> 
> 标签：windows-phone-7, xna

我需要在 windows phone 中创建天空盒。我有 windows phone silverlight 应用程序，并且想添加一个 XNA SkyBox 作为单独的页面。

任何人都可以提供一个很好的工作示例吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:13:29.240

如果您想将 XNA 渲染添加到现有的 Silverlight 应用程序中，您可以轻松地做到这一点，只需按照MSDN 上的[这些说明进行操作。](http://msdn.microsoft.com/en-us/library/hh221583.aspx)

您还可以选择从已经混合了 Silverlight 和 XNA 的项目模板创建新项目。如果您的应用程序是新的，也许您可​​以从头开始而不是扩展应用程序。

# c# - 如何仅显示小数点后 2 位的值

> ID：15288134
> 
> 赞同：14
> 
> 时间：2013-03-08T06:34:34.043
> 
> 标签：c#, sql-server

我有一个类型为金钱的表格列“金额”。当我通过存储过程检索其值时，它返回的值最多为 4 位小数（因为类型为 money）。我希望该值最多保留两位小数，并且我希望它在代码中处理。我将如何通过将值四舍五入到小数点后 2 位来做到这一点。谢谢

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-03-08T06:36:52.780

有关格式化数字的详细说明，请阅读[自定义数字格式](http://msdn.microsoft.com/en-us/library/0c899ak8.aspx)。

```
value.ToString("0.00"); 
```

在 C# 6 或更高版本中，您可以使用[字符串插值](https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/tokens/interpolated)来获得更简洁的语法。

```
$"{value:0.00}"; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-08T06:36:38.537

表示层格式：

```
string.Format("{0:#.##}", value); 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-08T12:40:02.387

好吧，我试了一下，得到了正确的结果。

下面是我使用的代码：

```
funding.amount= Math.Round(decimal.Parse(dr["Amount"].ToString()), 2).ToString(); 
```

//由于金额是字符串类型，所以我使用了上面的代码。我们也可以使用下面的代码：

```
decimal.Round(yourValue, 2, MidpointRounding.AwayFromZero); 
```

[http://msdn.microsoft.com/en-us/library/9s0xa85y.aspx](http://msdn.microsoft.com/en-us/library/9s0xa85y.aspx)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-08T06:45:46.497

您可以使用[标准数字格式](http://msdn.microsoft.com/en-us/library/dwhawy9k.aspx) 示例：

```
decimal dValue = 1.268;
string sValue = dValue.ToString("N"); // 1.27 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-08T07:17:48.640

在离开事件中写下这段代码

```
 Double x;
        Double.TryParse(txtLocl.Text, out x);
        txtLocl.Text = x.ToString("0.00"); 
```

离开后它只允许保留两位小数

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2018-10-22T07:18:13.377

```
string.Format("{0:0.00}", your_value); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-01-01T11:52:51.040

测试这段代码：

```
value.ToString("F2"); 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2020-12-03T06:41:42.837

```
Text='<%#Bind("Value","{0:F2}") %>' 
```

# .net - 在 .net 中的特定时间设置 Windows 服务

> ID：15288140
> 
> 赞同：0
> 
> 时间：2013-03-08T06:35:30.487
> 
> 标签：.net, .net-3.5, windows-services

我们可以在一天中的特定时间设置 Windows 服务吗？然后在每个预定时间后拨打服务电话。我还可以在一周中特定日期的特定时间设置 Windows 服务吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T16:14:58.963

没有用于计划 Windows 服务的设置（通常预计 24/7 运行），但如果您的需求不大，[您可以使用计划任务来定期启动/停止服务](http://www.coretechnologies.com/WindowsServices/FAQ.html#ScheduleStartStop)。在解决备份、更新和其他计划的“停机时间”事件时，这种技术非常有效。

# uiscrollview - UIScrollView 与 UICollectionView

> ID：15288143
> 
> 赞同：1
> 
> 时间：2013-03-08T06:35:31.940
> 
> 标签：uiscrollview, uicollectionview

我有 UIScrollView 和 UICollectionView。在 CollectionView 中有 25 张 100x100 大小的图像。当我运行我的应用程序时，它会在模拟器中显示前 12 个图像，然后我向上滚动，然后它会显示下一个图像。那不是我的问题。我想以水平模式而不是垂直模式显示图像。表示在第一页显示 12 张图像，然后水平滚动并显示下一个图像，而不是垂直显示。请告诉我该怎么做。

谢谢。

```
#import "Collection.h"
#import "PageViewController.h"

@interface Collection ()

@end

@implementation Collection

@synthesize collView,selectedAlbum,img1;

static NSString *const cellReuseIdentifier = @"CollectionViewCell";

- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil
{
    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];
    if (self) {
        // Custom initialization
    }
    return self;
}

- (void)viewDidLoad
{
    [super viewDidLoad];
    // Do any additional setup after loading the view from its nib.

    [self.collView registerNib:[UINib nibWithNibName:@"CollectionViewItem" bundle:nil]     forCellWithReuseIdentifier:cellReuseIdentifier];
    self.collView.backgroundColor = [UIColor blackColor];

    UICollectionViewFlowLayout *flowLayout = [[UICollectionViewFlowLayout alloc] init];
    [flowLayout setItemSize:CGSizeMake(100, 100)];
    [flowLayout setMinimumLineSpacing:10];
    [flowLayout setMinimumInteritemSpacing:10];
   // [flowLayout setScrollDirection:UICollectionViewScrollDirectionVertical];
    [collView setCollectionViewLayout:flowLayout];
     collView.delegate = self;

    //Customize scrollView

    scrolView = [[UIScrollView alloc] init];
    scrolView.frame = CGRectMake(0, 0, 320, 400);
    scrolView.delegate = self;
    [self.view addSubview:scrolView];
    scrolView.contentSize = CGSizeMake(0,0,640,450);
    [scrolView addSubView:collView];

    Images = [NSArray arrayWithObjects:@"3(3).jpg",@"baby1.jpg",@"Baby2.jpg",@"Baby3.jpg",@"boat_sea_beach-normal.jpg",@"cool.jpg",@"gold-iphone-5-300912.jpg",@"life-sometimes.jpg",@"Mac Wallpapers.jpeg",@"Quotes.jpg",@"series.jpg",@"wallpaper.jpg",@"wide-9.jpg", nil];
    }

    self.navigationItem.title = selectedAlbum;

}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

-(NSInteger)numberOfSectionsInCollectionView:(UICollectionView *)collectionView
{
    return 1;
}

-(NSInteger)collectionView:(UICollectionView *)collectionView numberOfItemsInSection:(NSInteger)section
{
    return Images.count;
}

-(UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath
{
    UICollectionViewCell *cell1 = [collView dequeueReusableCellWithReuseIdentifier:cellReuseIdentifier forIndexPath:indexPath];

    UIImageView *imageImages = (UIImageView *) [cell1 viewWithTag:16];
    imageImages.image = [UIImage imageNamed:[Images objectAtIndex:indexPath.row]];

    return cell1;
}

@end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-16T13:49:45.257

你需要用这个替换你的（注释的）滚动方向：

[flowLayout setScrollDirection:UICollectionViewScrollDirectionHorizo​​ntal];

# mysql - Mysql查询以在逗号分隔的新行中打印值

> ID：15288151
> 
> 赞同：-1
> 
> 时间：2013-03-08T06:35:52.310
> 
> 标签：mysql, replace

在我的 mysql 表中，我在一列中有逗号分隔和没有逗号分隔的值。我需要获取列中所有行的值，如果特定行中有逗号分隔值，那么这些值应该作为新行返回。例如，我有，

```
a
d,e
f
s,w,h 
```

逗号的数量不是固定的。我已经尝试了以下查询`SELECT replace(description,',',CHAR(13)) FROM errorcodes`，它工作正常。我现在唯一需要的是，当它以逗号分隔时，我需要将值放在新行中。现在它分裂但在新行而不是新行中给出值。请帮忙怎么办。

**注意：** 预期的输出是 -

```
a
d
e
f
s
w
h 
```

都在一个新的行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T08:00:43.157

我创建了自定义函数，它解决了我的目的。任何需要这个的人都可以参考下面的代码并相应地更改表名和列名：

```
DELIMITER $$

DROP PROCEDURE IF EXISTS explode_table $$
CREATE PROCEDURE explode_table(bound VARCHAR(255))

  BEGIN

    DECLARE value VARCHAR(255);
    DECLARE occurance INT DEFAULT 0;
    DECLARE i INT DEFAULT 0;
    DECLARE splitted_value VARCHAR(255);
    DECLARE done INT DEFAULT 0;
    DECLARE cur1 CURSOR FOR SELECT errorcodes.description
                                         FROM errorcodes
                                         WHERE errorcodes.description != '';
    DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = 1;

    DROP TEMPORARY TABLE IF EXISTS table2;
    CREATE TEMPORARY TABLE table2(
    `value` VARCHAR(255) NOT NULL
    ) ENGINE=Memory;

    OPEN cur1;
      read_loop: LOOP
        FETCH cur1 INTO value;
        IF done THEN
          LEAVE read_loop;
        END IF;

        SET occurance = (SELECT LENGTH(value)
                                 - LENGTH(REPLACE(value, bound, ''))
                                 +1);
        SET i=1;
        WHILE i <= occurance DO
          SET splitted_value =
          (SELECT REPLACE(SUBSTRING(SUBSTRING_INDEX(value, bound, i),
          LENGTH(SUBSTRING_INDEX(value, bound, i - 1)) + 1), ',', ''));

          INSERT INTO table2 VALUES (splitted_value);
          SET i = i + 1;

        END WHILE;
      END LOOP;

      SELECT * FROM table2;
    CLOSE cur1;
  END; $$ 
```

现在只需简单地调用`CALL explode_table(",")`即可以所需格式提供输出。

# ruby-on-rails - 在 ruby on rails 中从远程服务器获取数据库值

> ID：15288152
> 
> 赞同：1
> 
> 时间：2013-03-08T06:35:52.240
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.1, ruby-on-rails-3.2

我需要显示来自远程 db.for 的表值，因为我在控制器中执行了以下操作

```
 def show
        @dev = Detail.find(:all)
        #raise @devices.inspect
      end 
```

在`show.html.erb`

```
<h1>TrDeviceDetails#show</h1>
<p>Find me in app/views/tr_device_details/show.html.erb</p>
<%= @dev %> 
```

该页面显示了带有值的表格。

```
[#<Detail UniqueDeviceID: 14448, SlNo: 609">, #<Detail UniqueDeviceID: 14448, SlNo: 610">]. 
```

我只需要显示 `SlNo`.when 我写`<%=Detail.find(:SlNo)%>`得到错误

```
undefined method `to_i' for :SlNo:Symbol 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:14:10.620

您已经找到`show`了控制器方法中的所有设计。您需要遍历所有记录

```
<% @dev.each do |d| %>
  Dev id: <%= d.SlNo %>
<% end %> 
```

同样按照惯例，列名应该小写并分隔`_`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T07:27:37.857

我建议你应该使用 each_with_index，它会避免错误发生。

```
<% @dev.each_with_index do |page, index| %>

<% end %> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T07:30:13.357

不要更改 show 方法中的查询。保持原样。

但是，上面的查询以散列形式返回详细表的总记录，而不仅仅是一条。

为了只获取`SlNo`，您需要遍历每条记录，然后获取每条记录`SlNo`。

因此，在您的 show html 中执行以下操作：

**显示.html.erb**

```
<% @dev.each do |dev| %>

<%= dev.SlNo %> #displays only the SlNo.

<% end %> 
```

# magento - 如何在 Magento 管理面板的 Grid 行中添加按钮？

> ID：15288154
> 
> 赞同：0
> 
> 时间：2013-03-08T06:36:02.127
> 
> 标签：magento, grid, admin

我需要为网格视图中的列状态更改添加按钮。

因此用户可以从网格视图更改状态。而且我不需要使用复选框来使用该批量更新。

像，

![在此处输入图像描述](../Images/086470ec069b12a8d9a6cbe0a6ae755f.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T08:54:22.157

你试过什么吗？您是否尝试过使用渲染器？如果您自己尝试过或至少在网上搜索过，我认为这没什么大不了的。

检查这个.. [http://www.atwix.com/magento/inline-editing-in-magento-backend-grids/](http://www.atwix.com/magento/inline-editing-in-magento-backend-grids/) 这和你想要的很相似。

从下一次做一些研究，然后来。还要提及您尝试过和失败的事情。没有人会帮助你用勺子喂食。

# vim - 如何在 Vim 中进行类似于“grep -w”的全词搜索

> ID：15288155
> 
> 赞同：58
> 
> 时间：2013-03-08T06:36:04.777
> 
> 标签：vim, grep

我如何像`grep -w`在 Vim 中那样进行全词搜索，它只返回搜索字符串是整个词而不是更大词的一部分的行？

`grep -w`：仅选择那些包含构成整个单词的匹配项的行。

这可以在 Vim 中完成吗？

* * *

## 回答 #1

> 赞同：71
> 
> 时间：2013-03-08T06:45:30.803

```
\<bar\> 
```

匹配`bar`但既不匹配`foobar`也不匹配。`barbaz``foobarbaz`

在替换中像这样使用它：

```
:s/\<bar\>/baz 
```

像这样使用它来列出包含整个单词的所有行`bar`：

```
:g/\<bar\> 
```

`:h pattern`是一本好书。

* * *

## 回答 #2

> 赞同：27
> 
> 时间：2013-03-08T06:47:07.073

你想要`/\<yourword\>`。

如果您的光标在一个单词上，那么您可以按`*`，它将对光标下的单词进行仅单词搜索。

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2017-06-01T01:04:31.180

可以使用['very-magic' \v](https://vim.fandom.com/wiki/Simplifying_regular_expressions_using_magic_and_no-magic)来简化命令：

```
/\v<yourword> 
```

如评论中所述，`\v`表示所有非字母数字字符都具有特殊含义，因此只需输入`<`而`>`不是使用`\<`and转义它们`\>`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2022-02-23T18:02:59.460

```
map w /\v<><Left> 
```

此映射使用魔术，并在“<”和“>”对之间添加了移动光标位置。只要按“w”，您就可以立即输入您的单词，然后输入执行全词搜索。

当然，您可以选择自己喜欢的字母来代替“w”进行映射。

# android - android在片段中加载sqlite数据

> ID：15288156
> 
> 赞同：2
> 
> 时间：2013-03-08T06:36:18.387
> 
> 标签：android, sqlite, android-fragments

我遇到了无法在 Fragment 中加载 sqlite 数据的问题，如下所示

```
public class ListFragment extends Fragment {

    DatabaseUtil dbUtil = new DatabaseUtil(this.getActivity());
    private ArrayList <HashMap<String, Object>> getNews;

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
        final View v = inflater.inflate(R.layout.activity_list, container, false);

        new LoadNewsLists().execute("");        

        return v;
    } 
```

这是从 sqlite 加载数据

```
Cursor cursor = dbUtil.fetchAllData(arg[0]); 
```

遇到以下错误。

```
03-08 12:21:52.900: E/AndroidRuntime(25895): Caused by: java.lang.NullPointerException
03-08 12:21:52.900: E/AndroidRuntime(25895):    at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:224) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T06:44:57.337

您不能在定义它的同时初始化您的 db 对象。您应该将初始化代码移动到`onCreateView()`回调：

```
DatabaseUtil dbUtil ;
private ArrayList <HashMap<String, Object>> getNews;

@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
    final View v = inflater.inflate(R.layout.activity_list, container, false);

    dbUtil = new DatabaseUtil(getActivity());
    new LoadNewsLists().execute("");        

    return v;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T07:01:20.757

我不确定构造函数内部发生了什么，但是在到达回调`DatabaseUtil(this.getActivity())`之前，您不应该依赖 Activity 被完全初始化。`Fragment.onActivityCreated()`

# python - 从输入文件创建数据框

> ID：15288158
> 
> 赞同：1
> 
> 时间：2013-03-08T06:36:36.273
> 
> 标签：python, input, pandas

我有一个包含一些浮动值的文件，例如

```
5.234234
6.434344
5.45435
7.243224
4.0999884 
```

我想从这个文件创建一个数据框。它应该看起来像

```
Activity
5.234234
6.434344
5.45435
7.243224
4.0999884 
```

我试过的是（它不工作）

```
import pandas as pd
from StringIO import StringIO
data= open('Activity.txt').read()
pd.read_csv(StringIO(data),names='Activity',header=None) 
```

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T06:55:11.843

您必须使用：

```
p.read_csv('Activity.txt', names=('Activity',)) 
```

注意：
1）您不需要*打开*您的文件。
2)`names`是“类数组”，例如，元组或列表。
3)指定参数`header`时`None`默认`names`为 0（否则为 0）。

# assembly - 在 Visual Studio 2010 MASM 文件中不起作用

> ID：15288169
> 
> 赞同：0
> 
> 时间：2013-03-08T06:37:06.747
> 
> 标签：assembly, x86

如果我在 Visual Studio 2010 项目中运行 ASM 文件，则在调用 asm 函数后它会崩溃

使用asm代码：-

```
.386           
.model flat, c 
TEXT        SEGMENT
ALIGN       4  
L_add PROC

   push     ebp                   
   mov      ebp, esp

   mov      edx, dword ptr[ebp + 12]
   mov      eax, dword ptr[ebp + 8]
   add      edx, eax

   mov      esp, ebp  
   pop      ebp                                      
   ret      0                
   L_add ENDP
   TEXT     ENDS
   END** 
```

上面的代码在 Visual Studio 2010 中不起作用，如果我将其更改`TEXT SEGMENT`为`.code`段，它工作正常，两者之间有什么区别`.code`， `TEXT SEGMENT`但上面的代码在 Visual Studio 2005 中起作用。

```
disaasembly at calling place:
b = hs_L_shl(L_var1,var2);
012D1484  movsx       eax,word ptr [var2]  
012D1488  push        eax  
012D1489  mov         ecx,dword ptr [L_var1]  
012D148C  push        ecx  
012D148D  call        @ILT+455(_hs_L_shl) (12D11CCh)  
012D1492  add         esp,8  
012D1495  mov         dword ptr [b],eax

Disaasembly at function with .code: 
hs_L_shl PROC

  ;  PROLOGUE START

   push  ebp                    
012D15B0  push        ebp  
   mov  ebp, esp
012D15B1  mov         ebp,esp  
   sub      esp, 24               
012D15B3  sub         esp,18h  
   push  ebx
012D15B6  push        ebx  
   push     esi
012D15B7  push        esi

Disaasembly at function with TEXT SEGMENT: 

  ;  PROLOGUE START

   push  ebp                   
012D15B0  push        ebp  
   mov  ebp, esp
012D15B1  mov         ebp,esp  
   sub      esp, 24                
012D15B3  sub         esp,18h  
   push  ebx
012D15B6  push        ebx  
   push     esi
012D15B7  push        esi 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T12:43:09.400

它崩溃了，因为返回地址不在它应该在的地方。该函数将 2 个参数推入堆栈，对吗？那你为什么用`ret 0`，你应该用`ret 8`

# asp.net - Javascript更改单选按钮的文本

> ID：15288170
> 
> 赞同：1
> 
> 时间：2013-03-08T06:37:10.127
> 
> 标签：asp.net, javascript

我在 Javascript 中使用以下方法。

```
Function JsChangeRBText(itemCheckBox, rbClientId)
{
   var optVal = document.getElementById(rbClientId);
   if(itemCheckjBox.checked)
   {
        optVal.innerText = 'abc';
    }       
   else
   {
        optVal.innerText = 'xyz';
    }       
} 
```

这里 rbclientId 是单选按钮的客户端 ID。我想在复选框选中或未选中的条件下更改其文本。但是使用上面的代码我无法做到。我错过了什么。我也尝试过 innerHTML。当我使用警报使用 innerText 和 innerHTML 获取当前文本时，两者都是空白的。但在警报中，我可以看到 rbClientId 的 id 和 value。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T06:57:56.723

```
function JsChangeRBText(itemCheckBox, rbClientId)
{
   var optVal = document.getElementById(rbClientId);
   var label =  optVal.nextSibling;
   if(itemCheckjBox.checked)
   {
     label.value = "adc";;
   }       
   else
   {
     label.value = "ccc";
   }       
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T06:41:57.357

HTML：

```
<input type="radio" /><label>Option 1</label> 
```

或者

```
<input type="radio" /><span>Option 1</span> 
```

JS：

```
var $label = $('input[type=radio]').next();
$label.text('Options'); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T06:51:20.447

首先像这样声明单选按钮

```
<input type="radio" id="rb" runat="server"/>
<label for="<%=rb.ClientID%>">option 1</label> 
```

`runat="server"`我的意思是使用带有而不是的html单选按钮`asp:RadioButton`，这将确保按原样呈现控件，然后尝试这个

```
function JsChangeRBText(itemCheckBox, rbClientId)
{
   var optVal = document.getElementById(rbClientId);
   if(itemCheckjBox.checked)
   {
       optVal.nextSibling.value = 'abc';
    }       
   else
   {
       optVal.nextSibling.value = 'xyz';
    }       
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-08T07:36:06.863

我知道这个问题已经解决，但发布这个解决方案以防它对其他人有用。

但在这里我使用了 Jquery

```
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script>
    Function JsChangeRBText(itemCheckBox, rbClientId)
    {
       var optVal = document.getElementById(rbClientId);
       if(itemCheckjBox.checked)
       {
            $("label[for='" + rbClientId + "']").text('abc');
        }       
       else
       {
            $("label[for='" + rbClientId + "']").text('xyz');
        }       
    }
</script> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-08T07:17:14.867

未经测试，但我想这应该可以。如果它不起作用，请回复。

```
<asp:CheckBox
         ID="CheckBox1"
         runat="server"
         Text="Set Radio Checked"
         OnCheckedChanged="setText(this, document.getElementById('RadioButton1'))"
         AutoPostBack="true"
 />
<asp:RadioButton   
         ID="RadioButton1"   
         runat="server"  
         Text="Red"  
         GroupName="group1" 
/>

<script runat="server">  
    protected void setText(checkBox, radioBtn)  
    {  
        if (checkBox.Checked == true) {  
            radioBtn.Text = "abc";
        }  
        else{  
            radioBtn.Text = "xyz";
        }
    }  
</script> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-09-12T09:51:49.943

```
function JsChangeRBText(itemCheckBox, rbClientId)
{
   var optVal = document.getElementById(rbClientId);
   var label =  optVal.nextSibling;
   if(itemCheckjBox.checked)
   {
     label.textContent = "adc"; 
   }       
   else
   {
     label.textContent = "ccc";
   }       
} 
```

使用文本内容。这对我有用。

# javascript - 在 shell 排序中为受影响的值添加样式？

> ID：15288171
> 
> 赞同：1
> 
> 时间：2013-03-08T06:37:12.713
> 
> 标签：javascript, algorithm, sorting, visualization, shellsort

我在这样的应用程序中实现了 shell 排序算法：

```
shell: function() {
    var list = anada.vars.$list;
    for (i = 0; i < list.length; i++) {
        list[i] = parseInt(list[i], 10);
    }
    var n = list.length;
    var increment = Math.floor(n / 2);
    var i;        

    while (increment > 0) {
        for (i = increment; i < n; i++) {
            var temp = list[i];
            var j = i;
            var affectedOne = j;
            var affectedTwo;
            while (j >= increment && list[j - increment] > temp) {
                list[j] = list[j - increment];
                j -= increment;
            }
            list[j] = temp;
            var rows = '<tr>';
            for (counter = 0; counter < n; counter++) {
                if (counter > j - increment && counter < i + 1 && counter % increment == 0) {
                    rows += '<td class="affected">' + list[counter];
                } else {
                    rows += '<td>' + list[counter];
                }
            }
            anada.vars.$elements.push(rows);
        }
        increment = Math.floor(increment / 2);
        var row = '<tr>';
        $.each(list, function(n, val) {
            row += '<td class="iteration">' + val;
        });
        anada.vars.$elements.push(row);

    }
    $('.result-content').find('table').empty();
    $.each(anada.vars.$elements, function(n, val) {
        $('.result-content').find('table').append(val);
    });
    anada.vars.$elements = [];

}, 
```

问题是这样的：

1.  排序的第一部分仅突出显示 '21'，它不能突出显示，因为 15 和 21 没有从条目中改变它的位置.. 列表条目是 15,14,0,34,2,44,21,6 ,7,12,5,34,20。

如果索引 0 大于索引 7，即列表总数的一半 + 1，它们将改变位置，

这是配对：

第一次迭代：15-21、14-6、0-7、34-12、2-5、44-34、6-20

我要强调的是那些只有位置发生变化的人。

![排序的第一部分](../Images/a4ee6f125535f985c4a769803a249080.png) ![经过一些迭代，结束部分就像一个插入排序](../Images/03ce67590031f4785839521f761f7185.png)

我的错误是什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-08-26T17:27:14.413

让我们试着计算一下。该值`i`表示您开始向后交换元素的索引。该值`j`是该元素最终结束的位置，并`increment`表示步长。

考虑一个位于 position 的元素`counter`。如果满足以下所有条件，则将其与移动的元素交换：

*   `counter``j`是从. 的倍数向前迈出的一步`increment`。换句话说，`counter >= j && counter - j % increment == 0`.

*   `counter`没有超过起点。换句话说，`counter <= i`.

*   至少移动了一个元素。换句话说，`i != j`.

把它放在一起会产生这种情况：

```
if (i != j && counter <= i && counter >= j && counter - j % increment == 0) {
    // Element was swapped
} else {
    // Element was not swapped
} 
```

您正在检查的条件与此条件接近，但有一些错误，并且`j`在进行 mod 时忘记换档。试试这个，看看是否能解决问题。

# linux - Linux 上的 SWT 滚动条事件

> ID：15288175
> 
> 赞同：1
> 
> 时间：2013-03-08T06:37:34.877
> 
> 标签：linux, gtk, swt, scrollbar, ubuntu-12.04

正如这里所问的[滚动画布的一部分，](https://stackoverflow.com/questions/15196701/scrolling-part-of-the-canvas)我无法在滚动条上监听鼠标事件。经过调查，我发现这是由于 GTK 中的一个错误。请参阅此处[https://bugs.eclipse.org/bugs/show_bug.cgi?id=51995](https://bugs.eclipse.org/bugs/show_bug.cgi?id=51995)。它现在已修复，但我不知道如何在我的机器上解决它（Ubuntu 12.04）。任何机构都可以在这方面帮助我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T12:33:11.547

要么获取源代码，应用补丁，要么通过你的分发包构建从 git 构建（在你的情况下这将是一个痛苦，debian 打包需要你跳过一堆循环）或找到一个 PPA（阅读：找到其他人是否已经工作）并安装它（这样做需要您自担风险）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-01T07:41:50.973

您可以检测滚动条或滑块上的鼠标事件，如下所述。

将页面增量和增量值设置为 Slider 或 Scrollbar。

sbr.setPageIncrement(100); //当点击拇指和左箭头按钮之间的区域或拇指和右箭头按钮之间的区域时，滚动条将前后移动100像素。

sbr.setIncrement(10); //当点击左右箭头按钮时，滚动条将前后移动 10 个像素。

在滚动条或滑块选择侦听器中添加以下代码

```
sbr.addListener(SWT.Selection, new Listener() {
  @Override
  public void handleEvent(Event event) {
      int hSelection = sbr.getSelection();

      if (hSelection - prevHselection == sbr.getIncrement()) {
         System.out.println("clicked right arrow button");
      } else if (hSelection - prevHselection == -sbr.getIncrement()) {
         System.out.println("clicked left arrow button");
      } else if (hSelection - prevHselection == sbr.getPageIncrement()) {
         System.out.println("clicked on area between thumb and right arrow button");              
      } else if (hSelection - prevHselection == -sbr.getPageIncrement()) 
         System.out.println("clicked on area between thumb and left arrow button");   
      } else if(hSelection - prevHselection > 0){
         System.out.println("Thumb is dragged forward");                 
      } else if(hSelection - prevHselection < 0){
         System.out.println("Thumb is dragged backward");                 
      }

      prevHselection = hSelection; //create field prevSelection
  }
} 
```

注意客户端调整大小后更新页面增量和增量值。

# cordova - Facebook JS SDK 可以与 Phonegap / Cordova 一起使用吗？

> ID：15288177
> 
> 赞同：10
> 
> 时间：2013-03-08T06:37:41.053
> 
> 标签：cordova, facebook-javascript-sdk

我有 Senscha 2.0 移动应用程序，我想使用最新的 phonegap (cordova) 构建它。

我想添加 facebook 登录功能。我找到了三个选项：

1.  使用 ChildBrowser 方法
2.  使用 InAppBrowser。
3.  使用科尔多瓦 Facebook 插件

我决定去第二个。

我在 FB 应用程序设置（移动站点 URL）中遇到域问题。

我在那里输入了我的一个域，但是在 xCode 中使用 Cordova 构建应用程序时，facebook 响应错误，因为显然 phonegap / cordova 没有“使用”任何域。

当我将我的应用程序（不使用 phonegap）上传到我在 Facebook 设置中输入的域时，一切都在我的 iPhone 上运行（在 Safari 中用作网站）。

* * *

更准确地说。

当我将我的应用程序用作“移动 Web 应用程序”时，Facebook JS SDK 可以工作。

当我使用 Cordova / Phonegap（它自动使用 InAppBrowser 插件）构建我的项目时，它停止工作。

Facebook JS SDK 可以与 Phonegap / Cordova 一起使用吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-12-20T12:11:56.020

它可以。使用 OpenFB 或 Facebook Connect Phonegap 插件。

参考

开放式FB

*   [http://coenraets.org/blog/2014/04/facebook-phonegap-cordova-without-plugin/](http://coenraets.org/blog/2014/04/facebook-phonegap-cordova-without-plugin/)
*   [https://github.com/ccoenraets/OpenFB](https://github.com/ccoenraets/OpenFB)

Facebook Connect Phonegap 插件

*   [https://github.com/Wizcorp/phonegap-facebook-plugin](https://github.com/Wizcorp/phonegap-facebook-plugin)

# c++ - 在cpp中找出图像中对象的尺寸

> ID：15288179
> 
> 赞同：1
> 
> 时间：2013-03-08T06:37:51.510
> 
> 标签：c++, image, opencv

我有一个包含对象的图像。我必须找出对象的尺寸（以像素为单位）。有谁知道我如何使用cpp计算？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T06:42:40.327

我是一个搜索引擎。使用我，您可以找到各种有用的信息，例如[API 参考手册](http://docs.opencv.org/modules/refman.html)甚至[示例代码](http://linuxconfig.org/display-image-attributes-with-opencv)。

祝你今天过得愉快！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T09:42:54.750

我得到了解决方案这是代码..

```
Mat src = imread("C:/ball.jpg");
    if (src.empty())
        return -1;

    Mat hsv;
    cvtColor(src, hsv, CV_BGR2HSV);

    Mat bw;
    inRange(hsv, Scalar(19, 204, 153), Scalar(27, 255, 255), bw);

    vector<vector<Point> > contours;

    findContours(bw.clone(), contours, CV_RETR_EXTERNAL, CV_CHAIN_APPROX_SIMPLE);
     Mat dst = Mat::zeros(src.size(), src.type());
      Mat coordinates = Mat::zeros(src.size(), src.type());
    drawContours(dst, contours, -1, Scalar::all(255), CV_FILLED);

    dst &= src;
    imshow("src", src);
    imshow("dst", dst);

     for(unsigned int i=0;i<contours.size();i++)
   {
     cout << "# of contour points: " << contours[i].size() << endl ;

     for(unsigned int j=0;j<contours.size();j++)
     {
         cout << "Point(x,y)=" << contours[i][j] << endl;
     }

     cout << " Area: " << contourArea(contours[i]) << endl;
}
     imshow("coordinates",coordinates);
    waitKey(0);

    return 0; 
```

# javascript - 如何从 iframe 页面内部调用父页面上的 javascript 函数？

> ID：15288180
> 
> 赞同：1
> 
> 时间：2013-03-08T06:37:51.997
> 
> 标签：javascript, jquery, iframe

我想调用放置 iframe 的父页面的 javascript 函数。从 iframe 内的页面。

我试过 `parent.function_in_parent();` 它不工作

是的，两者都在同一个域中。

例如：有5个.net页面page1.aspx、page2.aspx、page3.aspx、page4.aspx、page5.aspx和master.aspx

master.aspx 包含带有源 page1.aspx 的 iframe，我想从 page1.aspx 调用用 master.aspx 编写的函数 abc()

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T06:43:55.560

简而言之，如果父母和孩子都来自同一来源，那么[它应该是可能的](https://stackoverflow.com/questions/2161388/iframe-function-calling-from-iframe-to-parent-page-javascript-function)，否则`Same Origin Policy` [会阻止它](https://stackoverflow.com/questions/13313052/calling-parent-window-method-from-iframe-different)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T06:45:35.167

检查这个

[从 iframe 调用父窗口函数](https://stackoverflow.com/questions/2161388/iframe-function-calling-from-iframe-to-parent-page-javascript-function)

如果您的 iframe 具有与父级不同的域，您的工作将更加困难。你需要看看[easyXDM](http://easyxdm.net/wp/)

# c# - 如何在我的网站中配置数据馈送

> ID：15288181
> 
> 赞同：0
> 
> 时间：2013-03-08T06:37:52.200
> 
> 标签：c#, asp.net, datafeed

我正在 asp.net(C#) 中创建一个分类网站，我不想手动插入产品，我想使用数据馈送网站来执行此操作，但我不知道如何使用其他任何数据来执行此操作-像eBay这样的饲料网站。请告诉我如何将其他数据馈送网站的产品插入我自己的网站。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T06:42:44.440

Tou 可以使用[Tutplus的最佳文章](http://net.tutsplus.com/tutorials/asp-net/how-to-build-an-rss-feed-with-asp-net/)

> RSS 是一种网络内容联合格式。它代表“Really Simple Syndication”，用 XML 编写。所有 RSS 文件都必须符合万维网联盟 (W3C) 发布的 XML 1.0 规范。使用 RSS，可以将最新的 Web 内容从一个网站分发到世界各地成千上万的其他网站。为简化术语，RSS 允许快速浏览新闻和更新。

# windows-phone-7 - 如何在列表框 wp7 中打开上下文菜单

> ID：15288185
> 
> 赞同：1
> 
> 时间：2013-03-08T06:38:18.050
> 
> 标签：windows-phone-7

我有一个列表框，当我长按列表框的特定项目时，会打开一个上下文菜单。但是在列表框中我没有使用列表框的点击或按住事件，所以我的上下文菜单是可见的。

请告诉哪个事件正在触发打开我的上下文菜单；xml代码是：

```
<Grid x:Name="ContentPanel" Grid.Row="1" Margin="12,0,12,0">
    <ListBox x:Name="scheduleListbox" ItemsSource="{Binding scheduleList}" Tap="scheduleListbox_Tap">
        <ListBox.ItemTemplate>
            <DataTemplate>
               <StackPanel Orientation="Vertical" Height="150" Width="460">
                    <toolkit:ContextMenuService.ContextMenu>
                        <toolkit:ContextMenu >
                            <toolkit:MenuItem Header="Add To Calendar" Click="AddToCalendar_Click" />
                            <toolkit:MenuItem Header="View Description" Click="ViewDescription_Click" />
                        </toolkit:ContextMenu>
                    </toolkit:ContextMenuService.ContextMenu>
                    <TextBlock x:Name="textBlock1" Text="{Binding ScheduleName}" Foreground="WhiteSmoke" FontSize="32"/>
                    <TextBlock x:Name="textBlock2" Text="{Binding ScheduleDate}" Foreground="Red" Margin="0,10,0,0"/>
                    <StackPanel Orientation="Horizontal" Height="70" Width="460">
                        <TextBlock x:Name="textBlock3" Text="{Binding StartTime}" Margin="0,5,0,0"/>
                        <TextBlock x:Name="textBlock4" Text="{Binding EndTime}" Margin="50,5,0,0"/>
                    </StackPanel>
                </StackPanel>

            </DataTemplate>
        </ListBox.ItemTemplate>
    </ListBox>
</Grid> 
```

请告诉我的上下文菜单是如何打开的，因为我没有使用列表框的点击或按住事件，但是当我长按列表框项目时，上下文菜单会打开？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T07:09:29.103

默认情况下，上下文菜单会在长时间保持时打开，这是设计使然。如果您想以其他方式打开它，则必须编写自己的逻辑。有关如何执行此操作的示例，请参阅这些线程：

*   [将 ContextMenu 设置为在“点击”时打开会导致 ContextMenu 在屏幕顶部打开](https://stackoverflow.com/questions/10441411/setting-a-contextmenu-to-open-on-tap-causes-contextmenu-to-open-up-at-the-top)
*   [上下文菜单点击而不是点击并按住](https://stackoverflow.com/questions/4913087/contextmenu-on-tap-instead-of-tap-and-hold)

但请注意，一些用户可能会对此感到困惑，因为大多数用户都希望在您点击并按住列表框项时显示上下文菜单。

# sql - varchar 值的转换溢出了一个 int 列

> ID：15288186
> 
> 赞同：14
> 
> 时间：2013-03-08T06:38:18.473
> 
> 标签：sql, sql-server, sql-server-2008

对于某些值`@nReservationID`：

```
SELECT @phoneNumber=
  CASE 
    WHEN  ISNULL(rdg2.nPhoneNumber  ,0) = 0 THEN ISNULL(rdg2.nMobileNumber, 0)
    ELSE ISNULL(rdg2.nPhoneNumber  ,0)
  END 
from tblReservation_Details_Guest  rdg2 
where nReservationID=@nReservationID 
```

为什么我会收到此错误？

> 消息 248，级别 16，状态 1，过程 USP_CRE_WEB_MEMBER_AUTOGENERATEDECV，第 136 行 varchar 值“08041159620”的转换溢出了一个 int 列。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-08T07:27:39.797

```
Declare @phoneNumber int

select @phoneNumber=Isnull('08041159620',0); 
```

给出错误：

```
The conversion of the varchar value '8041159620' overflowed an int column.: select cast('8041159620' as int) 
```

**作为**

整数定义为：

从 -2^31 (-2,147,483,648) 到 2^31 - 1 (2,147,483,647) 的整数（整数）数据。存储大小为 4 个字节。int 的 SQL-92 同义词是整数。

**解决方案**

```
Declare @phoneNumber bigint 
```

[参考](http://msdn.microsoft.com/en-in/library/aa933198%28v=sql.80%29.aspx)

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-03-11T13:00:06.750

感谢拉维和其他用户....不过我已经找到了解决方案

```
SELECT @phoneNumber=
CASE 
  WHEN  ISNULL(rdg2.nPhoneNumber  ,'0') in ('0','-',NULL)
THEN ISNULL(rdg2.nMobileNumber, '0') 
  WHEN ISNULL(rdg2.nMobileNumber, '0')  in ('0','-',NULL)
THEN '0'
  ELSE ISNULL(rdg2.nPhoneNumber  ,'0')
END 
FROM tblReservation_Details_Guest  rdg2 
WHERE nReservationID=@nReservationID 
```

只需要输入 '0' 而不是 0

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-09-17T12:29:23.527

只需在任何地方制作 rdg2.nPhoneNumber varchar 而不是 int ！

# c# - 如何从 Web.config XML 文件中获取属性值

> ID：15288187
> 
> 赞同：1
> 
> 时间：2013-03-08T06:38:33.057
> 
> 标签：c#, xml

我有一个 web.config 文件，我想检索特定键名的连接字符串值。

```
<connectionStrings>
        <add name="abc" connectionString="Server=(local);Initial Catalog=abc;Integrated Security=SSPI;Max Pool Size=25" providerName="System.Data.SqlClient" />
        <add name="cde" connectionString="Server=(local);Initial Catalog=cde; Integrated Security=SSPI;Max Pool Size=50" providerName="System.Data.SqlClient" />
    </connectionStrings> 
```

我知道我可以通过 configurationManager 获取连接字符串，但我想通过 XML 阅读器获取它。目前我正在使用

```
XDocument document = XDocument.Load(fullPath);
var connectionString = from c in document.Descendants(connectionStrings)
select c ; 
```

我得到了两个连接字符串。但我想获得特定的“abc”连接字符串。你能帮帮我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T06:47:45.320

```
XDocument document = XDocument.Load(fullPath);
var connectionString = from c in document.Descendants("connectionStrings").Descendants("add")
    where c.Attribute("name").Value == "abc"                
    select c; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T07:07:42.200

另一种选择（使用一点流利的语法）

```
var connectionString = document.Descendants("connectionStrings")
                       .Descendants("add")
                       .First(x => x.Attribute("name").Value == "abc").Attribute("connectionString").Value; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T06:41:57.043

试试这个

```
XDocument document = XDocument.Load(fullPath);
var connectionString = from c in document.Descendants("connectionStrings")
                       where c.name=="abc"               
                       select c ; 
```

# 3d - 2D 绘图的增强现实 3D 模型

> ID：15288188
> 
> 赞同：1
> 
> 时间：2013-03-08T06:38:36.657
> 
> 标签：3d, 2d, augmented-reality

我在 Google Play 上发现了一个有趣的[应用程序，请在](https://play.google.com/store/apps/details?id=com.mclaren.McLarenProject1)[YouTube 上](https://www.youtube.com/watch?feature=player_embedded&v=zuquH6rCuO0)查看此演示。有人可以建议如何做这个魔术吗？有什么共同的原则、技术、库吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:28:55.940

您可能希望从阅读[Camera Resectioning](https://en.wikipedia.org/wiki/Camera_resectioning)开始。

*非常*简单地说，它是估计相机镜头执行的（非线性）投影所涉及的参数的过程。从透视投影中，您可能已经知道 R（旋转）和 T（平移）。此外，还有其他一些事情，例如进入变换的镜头失真，需要计算（或从相机/手机的品牌/型号中计算出来）。

打印图像中某些特征的位置可用于估计这些参数。一旦知道它们，只需将其用作您的 ModelViewProjection 矩阵并渲染您的汽车/宇宙飞船/龙。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-09T00:16:36.233

我并不特别了解这个应用程序，但它肯定不会从这些图纸中重建一个**包含内饰和发动机的完美 3D 几何汽车模型。**

查看应用程序网页，似乎只有有限的汽车可以下载和打印：应用程序只**识别**它是哪张图纸（这很容易机器学习和图像处理），加载预先制作的 3D模型，并显示它。通过估计相机的外在参数和内在参数来使显示器稳定，这可以通过点对应来完成（这并不容易，因为它们只拍摄一个平面表面，只允许恢复单应性），但可以尝试使用开放式简历。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-09T06:15:15.143

我找到了适用于 Android 平台的[Andar](https://code.google.com/p/andar/)库，它的功能与视频中显示的完全一样

另一个库[NyARToolKit](http://nyatla.jp/nyartoolkit/wp/?page_id=55)是原始[ARToolKit的 Java 端口](http://www.hitl.washington.edu/artoolkit/)

# java - Java - 修改后的 compareTo 方法说它需要返回一个 int，但它应该返回一个

> ID：15288191
> 
> 赞同：5
> 
> 时间：2013-03-08T06:38:42.513
> 
> 标签：java, compareto

我现在正在学习基本的 Java，并且我的代码有一个我无法弄清楚的问题。基本上就是标题所说的。我的 Java 编译器告诉我，我的自定义 compareTo 方法有一个错误，说它需要返回一个 int。问题是，据我所知，它正在返回一个 int。然而它仍然给我一个错误。有人可以在我的代码中指出什么问题吗？而且我已经在课堂上实现了 Comparable 。这是我的方法：

```
public int compareTo(Homework other) {
    if (getDaysLate() < other.getDaysLate()) {
        return -1;
    } else if ((dateSubmitted == other.dateSubmitted)
            && (files.compareTo(other.files) == -1)) {
        return -1;
    } else if ((dateSubmitted == other.dateSubmitted)
            && (files == other.files)) {
        if (name.compareTo(other.name) == -1) {
            return -1;
        } else if (name.compareTo(other.name) == 1) {
            return 1;
        } else if (name.compareTo(other.name) == 0) {
            return 0;
        }
    } else {
        return 0;
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T06:41:26.923

第三个中有一条路径`else`不返回任何内容。

```
 else if ((dateSubmitted == other.dateSubmitted) && (files == other.files)) {
    if (name.compareTo(other.name) == -1) {
      return -1;
    }
    else if (name.compareTo(other.name) == 1) {
      return 1;
    }
    else if (name.compareTo(other.name) == 0) {
      return 0;
    } else return ...
} 
```

顺便说一句，我不确定我是否遵循您的实现逻辑，因为您似乎返回 0 if `dateSubmitted != other.dateSubmitted`。`compareTo`也应该是反对称的（即`sgn(x.compareTo(y)) == -sgn(y.compareTo(x))`），但你的实现不是。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T06:41:17.580

您在此分支之后缺少 else ：

```
else if (name.compareTo(other.name) == 0) {
    return 0;
} 
```

如果测试失败（`compareTo`不返回 0），则该方法必须在没有返回值的情况下退出，这在 Java 中是非法的。

此外，`compareTo`可以返回任何整数值，不仅是 0、1 和 -1。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T06:43:21.813

你怎么能确定（所有这些 if 和 else）你总是返回一个 int？这对我来说似乎并不那么明显，显然编译器也同意我的看法。

解决此问题的一种方法（可能不是最好的方法）是`return -1; //or whatever value`在函数末尾添加 a 。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-08T06:44:05.933

在您的第二个 else-if 语句中，您有一个可能不会返回任何内容的代码路径。你说：

```
else if ((dateSubmitted == other.dateSubmitted) && (files == other.files)) {  
    if (name.compareTo(other.name) == -1) {  
        return -1;  
    }  
    else if (name.compareTo(other.name) == 1) {  
        return 1;  
    }  
    else if (name.compareTo(other.name) == 0) {  
       return 0;  
    } 
```

，但是如果其他的如果没有一个是真的呢？尝试将第二个 else-if 语句中的最后一个 else-if 更改为 else。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-08T06:44:07.957

该方法应在所有代码流路径上返回适当的值；换句话说，在方法返回的所有条件下。在下面的`if`块中，它不会在我标记的一条路径上返回。

```
 else if ((dateSubmitted == other.dateSubmitted) && (files == other.files)) {
        if (name.compareTo(other.name) == -1) {
        return -1;
        }
        else if (name.compareTo(other.name) == 1) {
        return 1;
        }
        else if (name.compareTo(other.name) == 0) {
        return 0;
        }
        // It should return something here, if none of the above "if" statements match.
        // Or one of the above "else if" should be changed to "else"
    } 
```

# wordpress - 在站点 B 上创建在站点 A 上注册的注册表单

> ID：15288192
> 
> 赞同：0
> 
> 时间：2013-03-08T06:38:50.343
> 
> 标签：wordpress, iframe, registration, buddypress

让我更具体一点。我有一个主要的社交网站，站点 A。我还有一个与站点 A 合作的站点，站点 B。

这两个站点都是 Wordpress 站点。站点 A 运行 buddypress。

我显然在站点 A 上有一个注册表单。

我需要的是站点 B 上的相同程序，它在站点 A 上注册用户。别担心它对用户来说非常明显，我不是想欺骗他们:)

目前我正在使用 Iframe 来实现这一点，但它真的很糟糕。

有没有人试过这个或有更好的处理方法的想法？

干杯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T08:02:55.633

如果两个站点都在同一台服务器上，那么您可以创建一个多站点。
更多信息：[http](http://codex.wordpress.org/Create_A_Network) ://codex.wordpress.org/Create_A_Network 。
在多站点上，它只是在两个站点上注册的设置

# mongodb - 是否可以在 mongodb 中同时运行 mongod 和 mongos？

> ID：15288197
> 
> 赞同：0
> 
> 时间：2013-03-08T06:39:08.537
> 
> 标签：mongodb

我是 mongodb 的新手，我想知道是否可以同时运行 mongod 和 mongos 实例。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T06:42:43.980

是的，这是可能的，但是您需要使用不同的 tcp 端口，因为 mongod 和 mongos`27017`默认使用相同的端口。[您可以使用mongod](http://docs.mongodb.org/manual/reference/mongod/#cmdoption-mongod--port)和[mongos](http://docs.mongodb.org/manual/reference/mongos/#cmdoption-mongos--port)文档`--port <port>`中所述的标志指定端口。

# javascript - 经过数小时的研究，setTimeout 不起作用。

> ID：15288198
> 
> 赞同：2
> 
> 时间：2013-03-08T06:39:26.597
> 
> 标签：javascript, settimeout

我一直在寻找几个小时的答案，看来我的问题在于关闭。我无法弄清楚如何在我的场景中修复它。我想在 6 个元素上触发动画加载，相隔 1000 毫秒。我无法让 setTimeout 方法正常工作。请帮忙！

```
$(document).ready(function() {
    we();
});

var data = ['450px', '300px', '200px', '120px', '250px', '320px'];
var bars = $('.bar');
var i = 0;

function grow(size, elem) {
    $(elem).animate({
        height: size,
        opacity: '1.0'
    }, 1000);
}

function we() {

    setTimeout (function(){ // if I don't use an annonymous function call here, they all animate at the same time
        grow(data[i], bars[i]);
    }, 1000);

    if (i >= bars.length) {
        return;
    } else {
        i++;
        return we();
    };
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-08T06:42:52.160

您还必须将您`setTimeout`的其他功能放在周围；不仅仅是调用`grow`.

```
function we() {
    setTimeout (function(){
        grow(data[i], bars[i]);

        if (i >= bars.length) {
            return;
        } else {
            i++;
            return we();
        };
    }, 1000);
} 
```

我认为您错过的是`setTimeout`不会阻止您的程序。它不会停止执行，等待 1000 毫秒然后继续。相反，它会将匿名函数的执行延迟 1000 毫秒，但程序的其余部分将立即继续执行。你的程序的那部分将`we`再次调用，并安排一个新的动画（几乎与上一个动画同时）。然后另一个等等。

通过将递归调用放在 内部`setTimeout`，我们也延迟了递归，从而延迟了所有未来的动画步骤。

# javascript - 防止 ipad/iphone safari 中的弹性滚动，但允许内容滚动

> ID：15288199
> 
> 赞同：4
> 
> 时间：2013-03-08T06:39:35.663
> 
> 标签：javascript, safari, scroll, bounce

我想禁用反弹效果（弹性滚动）ipad/iphone safari 浏览器。并尝试在 touchmove 上使用防止默认值，但这会阻止整个滚动。我希望能够滚动内容，但只是防止反弹。我的页眉和页脚是固定的。一个想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-06-25T06:01:39.557

使用 iOS8 (AppleWebKit/600) 上的 Mobile Safari，您可以使用以下方法检测滚动弹跳是否发生在顶部（向下滑动）：

window.onscroll = function() { if (document.body.scrollTop < 0) { // 做点什么 } }

我有一个游戏，看看我是否能找到一种干净的方法来“中断”弹跳，但没有找到任何好的方法。

请注意 window.onscroll 解决方案在 UIWebView 中不起作用，因为我认为在 UIWebView 中不会触发 onscroll 事件，但这不是问题，因为 UIWebView 没有反弹！[您可以使用https://stackoverflow.com/a/30495399/436776](https://stackoverflow.com/a/30495399/436776)检测是否使用 UIWebView 与 WKWebView

我正在使用此代码进行测试（必须克隆并打开全屏才能在 iOS 上进行测试）：http: [//jsbin.com/tocako/edit](http://jsbin.com/tocako/edit)

# jmeter - 如何根据代码在运行时停止jmeter？

> ID：15288200
> 
> 赞同：2
> 
> 时间：2013-03-08T06:39:39.160
> 
> 标签：jmeter, beanshell, jmeter-plugins

如果我的条件逻辑为假，我想停止 jmeter，假设如果我的条件之一失败，那么我需要在运行时立即停止我的所有线程（jmeter），所以有什么方法可以通过代码而不是手动停止它的运行时间（不通过采样器错误后采取的措施）

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T08:00:31.800

有 2 个选项供您选择：

1.  如果您的条件可以在 If Controller 中表达，则使用标准[测试操作](http://jmeter.apache.org/usermanual/component_reference.html#Test_Action)组件停止测试
2.  如果您想在响应时间或错误率增加某个阈值时停止测试，请使用自定义[AutoStop](http://code.google.com/p/jmeter-plugins/wiki/AutoStop)组件

# java - Jboss 和 Spring 中的 Logback-classic

> ID：15288212
> 
> 赞同：0
> 
> 时间：2013-03-08T06:40:56.737
> 
> 标签：java, spring, maven, jboss, logback

我正在做一个项目，我想我会尝试使用 logback-classic 进行调试和日志轮换。我在 Maven 上下文中使用它来构建和创建要部署在 JBoss 7.1 应用程序服务器中的 .war 文件。

我在代码的资源文件夹中放置了一个 logback.xml 文件，在 test/resources 中放置了一个 logback-test.xml。

我正在使用的活动 jar 是用于打印实际调试的 SLF4J。

```
public class MyClass extends MultiActionController {
  private Logger logger = LoggerFactory.getLogger(MyClass.class);

  public MyClass() {
    logger.debug("hello");
  }
} 
```

当我在 Maven 本身的代码上运行 JUnit 测试时，它可以工作，但是在构建 .war 文件后，我在 STDOUT 中没有得到任何调试，也找不到创建的文件。

我知道我已经从配置文件中的 STDOUT 中删除了实际的日志记录，但是日志记录在哪里......

logback.xml：

```
<?xml version="1.0" encoding="UTF-8" ?>
<configuration>
    <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">

        <filter class="ch.qos.logback.classic.filter.ThresholdFilter">
            <level>DEBUG</level>
        </filter>

        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <FileNamePattern>logs/myproject.%d{yyyy-MM-dd}.log</FileNamePattern>
            <MaxHistory>30</MaxHistory>
        </rollingPolicy> 

        <encoder class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
            <pattern>%d{yyMMdd HH:mm:ss.SSS} [%-5.5level] [%-25.25logger] %msg%n</pattern>
        </encoder>
    </appender>

    <root level="debug">
        <appender-ref ref="FILE" />
    </root>
</configuration> 
```

我需要在 JBoss 实例中显式创建文件夹“logs”还是需要相对于它进行引用才能使其正常工作？还是我错过了什么？我需要将 logback.xml 文件放在 JBoss 实例中吗？

最好的，亨里克

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T07:12:40.287

首先，您应该确保`logback.xml`位于类路径中，例如[第 3 章：Logback 配置](http://logback.qos.ch/manual/configuration.html)`WEB-INF/classes/logback.xml`中提到的。

第[4 章：Appenders](http://logback.qos.ch/manual/appenders.html)提到*FileAppender*和*RollingFileAppender*属性为

> **file** * *String* * 要写入的文件的名称。如果文件不存在，则创建它。在 MS Windows 平台上，用户经常忘记转义反斜杠。例如，值 c:\temp\test.log 不太可能被正确解释，因为 '\t' 是解释为单个制表符 (\u0009) 的转义序列。正确的值可以指定为 c:/temp/test.log 或 c:\temp\test.log。文件选项没有默认值。如果文件的父目录不存在，FileAppender 将自动创建它，包括任何必要但不存在的父目录。

logback.xml 的示例如下：-

```
<configuration>
  <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
    <file>logFile.log</file>
    <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
      <!-- daily rollover -->
      <fileNamePattern>logFile.%d{yyyy-MM-dd}.log</fileNamePattern>

      <!-- keep 30 days' worth of history -->
      <maxHistory>30</maxHistory>
    </rollingPolicy>

    <encoder>
      <pattern>%-4relative [%thread] %-5level %logger{35} - %msg%n</pattern>
    </encoder>
  </appender> 

  <root level="DEBUG">
    <appender-ref ref="FILE" />
  </root>
</configuration> 
```

我希望这可能会有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-21T12:19:23.100

您需要定义文件标签（如前面的答案所述）。但是您还需要知道它是如何解释的。Logback 将其视为相对于它所使用的应用程序。所以如果你只使用

```
<file>logs/<myfile>.log</file> 
```

logback**应该**在 JBoss 的根目录中创建一个“logs”文件夹（更具体地说：启动它的 .sh 脚本所在的文件夹）。从 JBoss 的根目录检查您是否可以从那里找到您的日志文件夹和文件。

# c# - 如何将文本块和文本框组合在一起

> ID：15288214
> 
> 赞同：1
> 
> 时间：2013-03-08T06:40:59.203
> 
> 标签：c#, wpf, .net-4.0

我正在制作用于输入各种业务实体（客户等）的主数据的 UI。我经常需要将 TextBlock 和 TextBox 组合在一起。IE

```
<Label Content="Civil Status:" Grid.Column="0" Grid.Row="1" HorizontalAlignment="Left" Margin="3" VerticalAlignment="Center" />
<TextBox Grid.Column="1" Grid.Row="1" Height="23" HorizontalAlignment="Left" Margin="3" Name="civilStatusTextBox" Text="{Binding Path=CivilStatus, Mode=TwoWay, ValidatesOnExceptions=true, NotifyOnValidationError=true}" VerticalAlignment="Center" Width="120" />
<Label Content="Company:" Grid.Column="0" Grid.Row="2" HorizontalAlignment="Left" Margin="3" VerticalAlignment="Center" />
<TextBox Grid.Column="1" Grid.Row="2" Height="23" HorizontalAlignment="Left" Margin="3" Name="companyTextBox" Text="{Binding Path=Company, Mode=TwoWay, ValidatesOnExceptions=true, NotifyOnValidationError=true}" VerticalAlignment="Center" Width="120" /> 
```

有什么方法可以减少打字吗？IE

```
<custom:LabeledTextBox Label="Civil Status:" Text="{Binding Path=CivilStatus, Mode=TwoWay, ValidatesOnExceptions=true, NotifyOnValidationError=true}" ... /> 
```

或者可能，任何提供类似功能的库？

编辑：暂时忘记容器`Grid`并假设它是 StackPanel。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T08:32:29.080

这是我设法整理的分步解决方案。为了做好准备，我假设我们有一个*非常*简单的 UserControl，它具有以下`XAML`内容。

```
<UserControl x:Class="WpfApplication2.UserControl1" [ ... auto gen code removed ... ] >
     <TextBox MinWidth="50" x:Name="TBox" />        
</UserControl> 
```

从`XAML`使用我们的 UserControl 我们本质上想为`Text`on 的属性设置数据绑定`TBox`。理想情况下，我们可以使用简单的语法，例如：

```
<local:UserControl1 TBox.Text="{Binding ...}" /> 
```

不幸的是，我不知道任何允许定位子元素属性的 XAML 语法，所以下一个最好的方法是在 UserControl 本身中引入一个“暂存”属性并通过它进行绑定。

由于 Binding 仅适用于 Dependency 属性，因此我们将介绍的属性必须是`DependencyProperty`. 我们还将直接从代码中将`Text`属性绑定到我们的 DependencyProperty。`TBox`

UserControl 的代码隐藏如下所示：

```
using System;
using System.Windows;
using System.Windows.Controls;
using System.Windows.Data;

namespace WpfApplication2
{
    /// <summary>
    /// Interaction logic for UserControl1.xaml
    /// </summary>
    public partial class UserControl1 : UserControl
    {
        public UserControl1()
        {
            InitializeComponent();

            // Set binding from code
            this.TBox.DataContext = this;
            this.TBox.SetBinding(TextBox.TextProperty, new Binding { Path = new PropertyPath("TBValue"), Mode = BindingMode.TwoWay, UpdateSourceTrigger = UpdateSourceTrigger.PropertyChanged });
        }

        public static readonly DependencyProperty TBValueProperty = DependencyProperty.Register("TBValue", typeof(string), typeof(UserControl1));

        public string TBValue
        {
            get { return this.GetValue(TBValueProperty) as string; }
            set { this.SetValue(TBValueProperty, value); }
        }
    }
} 
```

有了这个，我们可以像这样使用 UserControl，绑定到`TBValue`属性：

```
<local:UserControl1 TBValue="{Binding Path=Test, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T07:03:33.823

您想要实现的目标（Master-Detail-Views）实际上得到了 Visual Studio 开箱即用的良好支持。打开以下菜单结构：`Project -> Add Data Source`，然后选择数据源类型`Object`。在下文中，选择要为其生成输入字段的类并完成向导。

![在此处输入图像描述](../Images/303d9be0b8d6e14d83f26e42e6c28550.png)

然后，如果尚未打开，请打开您的数据源工具窗口`(Shift+Alt+D)`。您应该会看到刚刚生成的类型的 DataSource。要为对象的每个属性获取标签字段，请打开源下拉列表并单击`Details`。

![在此处输入图像描述](../Images/56351a6db1c37cfe3e8a163ae3288a71.png)

请注意，属性也有这样的下拉菜单，因此您可以选择编辑它们的方式（组合框、文本框、自定义、无编辑器......）。现在只需将 DataSource 拖到您的窗口上。您将获得一个 Grid ，其中填充了您想要的所有标签和编辑器。DataBinding 和验证也立即得到支持，因此您只需设置生成的 Grid 的`DataContext`.

希望这可以为您节省一些工作。

**PS**屏幕截图是在我的德语 VS 实例中制作的，但我认为它们可能会帮助您识别正确的对话/窗口。

# inno-setup - Inno setup - ReadIni 的相对路径

> ID：15288216
> 
> 赞同：8
> 
> 时间：2013-03-08T06:41:16.737
> 
> 标签：inno-setup

如何在 ReadIni 中设置 ini 文件的相对路径？

这有效：

```
#define MyAppVersion ReadIni("C:\Users\Popov\Documents\Release\Install.ini", "Release", "VersionNumber") 
```

但我想要这个：

```
#define MyAppVersion ReadIni("Install.ini", "Release", "VersionNumber") 
```

Install.ini 在 inno 脚本文件夹中的位置。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-08T07:07:39.607

使用[`SourcePath`](http://jrsoftware.org/ispphelp/topic_predefinedvars.htm)预定义的变量，如下所示：

> **源路径** str。指向当前脚本所在的目录，如果脚本尚未保存，则指向我的文档目录。

```
#define MyAppVersion ReadIni(SourcePath + "\Install.ini", "Release", "VersionNumber")

[Setup]
AppName=My Program
AppVersion={#MyAppVersion} 
```

# android - 如何在 Calabash-android 中生成报告

> ID：15288219
> 
> 赞同：5
> 
> 时间：2013-03-08T06:41:34.407
> 
> 标签：android, cucumber, calabash

我们如何在 calabash android 中生成报告？我查看了有关如何生成报告的“黄瓜食谱”一书。但这并没有完全帮助我。我想生成有关登录失败原因的报告：例如：1) 用户输入有效凭据并尝试登录 2) 但是，由于 server_error/user_not_found 或某些异常，登录失败。登录失败时，我从服务器收到错误 xml/statusCode。

如何在葫芦中使用该 xml/状态代码生成报告？请帮忙 ！！

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-03-13T12:33:44.077

使用此命令执行您的测试：

```
calabash-android run <apkfile>.apk --format html --out reports.html 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-04-23T09:43:03.300

```
<%
date = Time.now.strftime('%m_%d-%H:%M:%S')
default_report = "./reports/output_#{date}.html"
default_rerun = "./rerun.txt"
%>

common: NO_STOP='1'
rerun_out: -f rerun -o <%= default_rerun %>
html_report:  -f html -o <%= default_report %>

run:  -p common -p rerun_out -p html_report 
```

这是我的calabash-android 配置文件，你可以把它放在你的calabash android 项目下的./.config/cucumber.yml 文件中。使用以下命令会将测试结果同时导出到 rerun.txt 文件和 ./reports/output_#{date}.html 文件中：

```
calabash-android run *.apk -p run 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-09-11T13:10:18.943

对于 HTML 报告

```
> calabash-android run <apkfile>.apk --format HTML --out 
```

对于 JSON 报告

```
> calabash-android run <apkfile>.apk --format JSON --out 
```

这些是黄瓜中的其他格式，

*   漂亮的
*   进步
*   用法
*   JUnit
*   重新运行

从这里阅读更多信息：[https ://cucumber.io/docs/reference#reports](https://cucumber.io/docs/reference#reports)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-03-23T05:53:48.823

对于*HTML*报告，请使用以下内容：

葫芦-android 运行 ${APKFile} -f html -o test-result.html

# firefox - 使用后退按钮导航时在浏览器中自动重新发送 POST 请求

> ID：15288229
> 
> 赞同：5
> 
> 时间：2013-03-08T06:42:15.933
> 
> 标签：firefox, browser

当我单击浏览器的后退按钮时，会弹出一条消息，询问我是要重新发送请求还是重试。我试图找出当用户使用浏览器后退按钮导航回任何页面时如何避免显示此消息。基本上，我希望浏览器在重新发送请求之前不要要求确认。

现在，在 Firefox 中进行测试时，我得到了这个：

> > 文档已过期 此文档不再可用。请求的文档在 Firefox 的缓存中不可用。作为安全预防措施，Firefox 不会自动重新请求敏感文档。单击重试可从网站重新请求文档。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-08T06:46:26.647

听起来您与之交互的系统不遵循 Post/Redirect/Get 模式。

1.  客户端`POST`向服务器发出请求，
2.  服务器对数据进行处理，并且，
3.  将客户端重定向到不同的 URL
4.  客户端`GET`用来获取的。

这样，客户端可以重新加载最后一个 URL 或使用后退按钮，并且不会`POST`再次使用。

有关详细信息，请参阅[维基百科](https://en.wikipedia.org/wiki/Post/Redirect/Get)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-12-08T01:19:10.567

**在 PHP 代码的开头添加**：

```
ini_set('session.cache_limiter','public');
session_cache_limiter(false); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-02T15:03:18.073

随着当前的 Firefox 更新到版本 29，当您尝试导航回搜索结果等页面时，这已成为默认功能。可以在选项/高级/网络下禁用它并选中“覆盖自动缓存管理”。尽管您的问题早于此更新，但它看起来是同一个问题。

我在 Mozilla 支持论坛上找到了这个解决方案：https: [//support.mozilla.org/en-US/questions/1018237](https://support.mozilla.org/en-US/questions/1018237)

# android - 更新eclipse后出现eclipse错误

> ID：15288230
> 
> 赞同：3
> 
> 时间：2013-03-08T06:42:18.653
> 
> 标签：android, eclipse

更新eclipse后出现以下错误。任何想法如何解决这个问题？？？？一段时间后，日食被关闭并显示错误。

![在此处输入图像描述](../Images/34a5522a71a462068cc27fa8779df617.png)

![错误的屏幕截图](../Images/d24f72f0d3abc76862c3a01dc5b0c93e.png)

# jquery - SimpleModal 打开时不居中

> ID：15288231
> 
> 赞同：0
> 
> 时间：2013-03-08T06:42:23.257
> 
> 标签：jquery, plugins, center, simplemodal

我正在使用 SimpleModal jquery 插件。在 FireFox 中一切正常，但在所有其他浏览器中，模式窗口在首次打开时并未在屏幕上居中。窗口的左上角似乎位于屏幕的中心。一旦我关闭窗口然后重新打开它，或者如果我调整浏览器窗口的大小，它就会正确居中。任何人都知道为什么会发生这种情况以及如何解决它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T22:50:29.277

好吧，我想通了。我必须设置容器的宽度和/或高度。设置 containerCss, minHeight, minWidth, maxHeight, maxWidth 做到了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T06:54:20.967

### 作为快速修复：

把这个放进去`doc ready`

```
$(window).resize(); 
```

或者您可以做的是寻找这种`.resize()`功能并将其添加到结束标记中。

```
$(window).resize(function(){
   //.....centering stuff.......
}).resize();
//^-------^---this will resize when doc gets ready and '.resize()' happens 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T07:00:42.643

Jquery 有位置选项 [Jqueru ui 位置](http://api.jqueryui.com/dialog/#option-position)

```
$('my-selector').dialog('option', 'position', 'center'); 
```

来自文档

> 指定应显示对话框的位置。该对话框将处理冲突，以便尽可能多地显示对话框。String：表示视口内位置的字符串。可能的值：“center”、“left”、“right”、“top”、“bottom”

.

# memory - 如何检查 indices.memory.index_buffer_size 参数在 elasticsearch 中是否有效？

> ID：15288232
> 
> 赞同：6
> 
> 时间：2013-03-08T06:42:26.797
> 
> 标签：memory, elasticsearch

我有 elasticsearch 集群，我在 elasticsearch.yml 文件中添加了 indices.memory.index_buffer_size 参数。我将此参数设置为 70%。然后集群开始索引。毕竟，我将此参数重置为10％，然后重新启动elasticsearch。

我的问题是如何检查我的设置是否有效？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T11:34:12.067

我认为（但我不肯定）它应该出现在节点信息 API 中。尝试这个：

```
curl -XGET "http://localhost:9200/_nodes?clear&all" 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-07-26T22:38:53.973

您可以使用 /_nodes API，但我发现令人费解的是，如果您使用默认设置，则不会返回该设置的值。但是，一旦您更改它（在 elasticsearch.yml 中）并重新启动您的集群，它将 > 出现在 /_nodes API 调用的输出中。

为了显示。

*   安装弹性搜索并启动集群。
*   curl ' [http://localhost:9200/_nodes](http://localhost:9200/_nodes) ' | grep index_buffer_size # 不匹配
*   将 index_buffer_size 的值更改为默认值以外的值并反弹集群
*   curl ' [http://localhost:9200/_nodes](http://localhost:9200/_nodes) ' | grep index_buffer_size #匹配！

我的猜测是任何 .yml 设置都是这种情况，而不仅仅是这个（尽管我还没有验证那个理论）。

# java - 我们可以从jsp页面声明一个类的成员变量吗？

> ID：15288238
> 
> 赞同：0
> 
> 时间：2013-03-08T06:42:40.567
> 
> 标签：java, jsp

```
class Person{
 private int age;

 //rest body
} 
```

现在我的问题是我可以在类**Person**但不在 java 类中声明另一个成员变量说**字符串名称，我想在运行时从****JSP**页面声明它可能在**scriplet**内。

# iphone - 如何在 iphone sdk 中为自定义类别类添加阴影

> ID：15288241
> 
> 赞同：1
> 
> 时间：2013-03-08T06:42:48.623
> 
> 标签：iphone, uibutton

我正在为 UIButton 创建一个自定义类别类，但它没有阴影功能。那么当单击该按钮时，我应该如何在该按钮上添加阴影。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T06:50:16.457

如果您需要在按钮上突出显示，而不仅仅是添加：

```
button.highlighted= YES; 
```

如果您想要悬停类型效果的阴影，而不仅仅是将另一个图像添加到您的按钮并将其 controlstatenormal 设置为 hightlighted，即：

```
//for normal tap
[button setBackgroundImage:[UIImage imageNamed:@"normal.png"] forState:UIControlStateNormal];

//for hovering effect
[button setBackgroundImage:[UIImage imageNamed:@"hover.png"] forState:UIControlStateHighlighted]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T06:53:28.717

每个按钮都有几个状态：

```
 enum {
   UIControlStateNormal               = 0,
   UIControlStateHighlighted          = 1 << 0,
   UIControlStateDisabled             = 1 << 1,
   UIControlStateSelected             = 1 << 2,
   UIControlStateApplication          = 0x00FF0000,
   UIControlStateReserved             = 0xFF000000
  }; 
```

您可以使用以下方法为每个状态设置不同的图像：

```
- (void)setBackgroundImage:(UIImage *)image forState:(UIControlState)state 
```

如果只想设置标题阴影，可以使用：

```
- (void)setTitleShadowColor:(UIColor *)color forState:(UIControlState)state 
```

**顺便提一句**

如果您使用的是 IB，您可以在界面中设置状态图像。

# data-structures - 表示按行、按列、按平面优化的 2D 数据

> ID：15288242
> 
> 赞同：1
> 
> 时间：2013-03-08T06:42:50.823
> 
> 标签：data-structures, d3.js

在 D3 中，我需要可视化将实验室样品加载到 8 行 x 12 列或类似的塑料二维板中。**有时我一次加载一行，有时一次加载一列**，有时我加载平面 1D 0..95 或其他排序。**基本 D3 data() 结构应该在列中嵌套行（反之亦然）还是应该保持一维？**

表示为列优化的数据 [columns[rows[]] 使代码在按行加载时变得复杂，反之亦然。将其表示为平面 [0..95] 是通用的，但它需要计算 2D 模式的所有行和列引用。我宁愿引用一个共同基础的所有排序，但到目前为止，这是一个双赢的命题。我倾向于一维平面并做数学。有双赢吗？**有没有办法参数化或反转排序并针对两种方式进行优化？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:00:47.197

我相信在您的情况下，最好的实现是[关联数组](http://en.wikipedia.org/wiki/Associative_array)（特别是它的[哈希表](http://en.wikipedia.org/wiki/Hash_table)实现）。键是坐标，值是您存储的数据。根据您的编程语言，您需要以一种或另一种方式处理密钥。

例子：

```
[0,0,0] -> someData(1,2,3,4,5)
[0,0,1] -> someData(4,2,4,6,2)
[0,0,2] -> someData(2,3,2,1,5) 
```

使用简单的关联数组将为您提供出色的插入速度和读取速度，但是如果需要选择一些复杂的数据块，代码将变得一团糟。在这种情况下，使用一些数据库可能是合理的（尽管比关联数组的 hashmap 实现慢）。它可以让你批量查询一些特定的数据。例如，您可以使用一个简单的查询获取整行（或几行）数据：

```
SELECT * FROM data WHERE x=1 AND y=2 ORDER BY z ASC 
```

或者，假设从 3d 数据的中间选择一个 2x2x2 立方体：

```
SELECT * FROM data WHERE x>=5 AND x <=6 AND y>=10 AND Y<=11 AND z >=3 AND z <=4 ORDER BY x ASC, y ASC, z ASC 
```

**编辑：** 再想一想，如果维度的大小在运行时不会改变 - 你应该自己使用所有数学计算一维数组，因为它是最快的解决方案。如果您尝试将 3 维数组初始化为数组数组的数组，则对元素的每次读/写都需要在内存中增加 2 跳才能找到所需的地址。但是，编写一些函数，例如：

```
int pos(w,h, x,y,z) {return z*w*h+y*w+x;} //w,h - dimensions, x,y,z, - position 
```

会使它被大多数编译器内联并且非常快。

# google-maps - Google Geocoding v2 API 突然停止工作

> ID：15288244
> 
> 赞同：11
> 
> 时间：2013-03-08T06:42:54.437
> 
> 标签：google-maps, geocoding, google-geocoding-api

Geocoding v2 API 意外停止。

例如 [http://maps.google.com/maps/geo?q=27703&output=json&key=AIzaSyBVr3n3IVZzakGvtIWeRaJEXsC63JHZ0w8](http://maps.google.com/maps/geo?q=27703&output=json&key=AIzaSyBVr3n3IVZzakGvtIWeRaJEXsC63JHZ0w8)

我无法从 API 获得 lat,long。服务器的输出是：

```
{
  "Status": {
    "code": 610,
    "request": "geocode"
  }
} 
```

我搜索`status: 610`但找不到任何相关信息。

谢谢。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-08T07:39:42.543

服务已停止。

现在是 3 月 8 日。

有关v2 死亡的信息，请参阅[本页顶部](https://developers.google.com/maps/documentation/geocoding/v2/)

请参阅v3[的 Google 地理编码 API](https://developers.google.com/maps/documentation/geocoding/)

...

编辑。

实际上，有一个关于[升级到 v3](https://developers.google.com/maps/articles/geocodingupgrade)的页面可能有用。

...

编辑。

正如刚才所指出的，Geocoding API V2 弃用时间线刚刚延长了 6 个月，但请注意您的使用。

来自@FrVaBe 的链接：“今天我们还将 Geocoding API V2 的限制从每天 15,000 个请求减少到每天 2,500 个请求，这相当于 Geocoding API V3 的每日限制。”

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-08T07:36:09.100

您似乎正在使用 Geocoding API V2。[您可以在此处](https://developers.google.com/maps/documentation/geocoding/v2/index#StatusCodes)找到状态代码列表。你得到的状态是

```
610     G_GEO_BAD_KEY  
The given key is either invalid or does not match the domain for which it was given. 
```

所以检查使用正确的 API 版本（显然 V3 - V2 已经停止，因为@Rafe 提到）

我从未使用过这个 API，但请求应该有[这种](https://developers.google.com/maps/documentation/geocoding/#GeocodingRequests)形式

```
http://maps.googleapis.com/maps/api/geocode/output?parameters 
```

# jquery - 如何删除 JCEMediabox.Popup.Init() 添加的事件

> ID：15288246
> 
> 赞同：1
> 
> 时间：2013-03-08T06:42:57.617
> 
> 标签：jquery, joomla

我在 Joomla 中使用 JCEMediabox 插件。我想删除 JCEMediabox 在加载打开 popp JCEMediaBox.Popup.init() 的页面时添加的单击事件。我正在尝试使用 JCEMediaBox.Event.destroy(); 删除它 但它并没有删除该事件。单击链接时，它仍会打开弹出窗口。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T08:04:30.943

为什么不尝试简单地覆盖点击功能？因此，无论事件触发器是什么，请尝试包含如下函数：

```
JCEMediabox.click(function(){ }); 
```

因此，一个空函数替换了先前为触发器设置的任何内容以弹出对话框。

# drupal-7 - 更改单个页面上的完整标题（Drupal）

> ID：15288249
> 
> 赞同：0
> 
> 时间：2013-03-08T06:43:13.940
> 
> 标签：drupal-7

我需要更改 Drupal 站点中单个页面的标题。

现在我已经设置好了，所以在 hook_preprocess_page 中我调用了 drupal_set_title()。这很好，只是它在标题中留下了站点名称。如何更改完整的标题、站点名称和所有内容？我不希望站点名称出现在这一页上。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:16:19.807

我认为您可以通过使用更改标题

```
drupal_set_title(check_plain($node->title)); 
```

可能是这个模块帮你“[页面标题](http://drupal.org/project/page_title)”

# javascript - 如何停止javascript淡出已选择的元素

> ID：15288256
> 
> 赞同：0
> 
> 时间：2013-03-08T06:43:41.243
> 
> 标签：javascript, jquery, tabs, fading

嗨，我有以下代码允许用户在 3 个选项卡之间切换，它通过淡入和淡出来显示和隐藏 div，我希望这样，如果在导航栏上选择了当前选项卡，它不会淡出和淡入再次，相反，我希望它什么也不做。

继承人的代码：

HTML：

```
<table border="0" cellspacing="0" cellpadding="0">
<tr>
<td width="220px">
<p align="left"><table width="220px" cellspacing="0" cellpadding="0">

<tr>
<td class="mya_nav" style="border-color: #B23387;">
<a id="show_personal">Personal</a>
</td>
</tr>

<tr>
<td class="mya_nav" style="border-color: #00c6ff;">
<a id="show_favourites">Favourites</a>
</td>
</tr>

<tr>
<td class="mya_nav" style="border-color: #00e60b;">
<a id="show_history">History</a>
</td>
</tr>

</table>
</p>

</td>
<td width="675px">

<div id="content">

    <div id="personal" <?php echo $personal_current; ?>>
        <p align="center">Personal</p>

    </div>
    <div id="favourites" <?php echo $favourite_current; ?>>
        <p align="center">Favourites</p>

    </div>
    <div id="history" <?php echo $recent_current; ?>>
        <p align="center">History</p>

    </div>
</div>
</td>
</tr>
</table> 
```

JS：

```
<script>

    $('p a').click(function(){

        var id = $(this).html().toLowerCase();

        $('.current').fadeOut(600, function(){

            $('#'+id).fadeIn(600);
            $('.current').removeClass('current');
            $('#'+id).addClass('current');

        });

    });

</script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T06:49:10.637

```
$('p a').click(function(){
    var id = $(this).html().toLowerCase();
    if (this.not(':focus')) {
        $('.current').fadeOut(600, function(){
            $('#'+id).fadeIn(600);
            $('.current').removeClass('current');
            $('#'+id).addClass('current');
    });
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T06:48:33.860

你可以试试

```
<script>

    $('p a').click(function(){

        var id = $(this).html().toLowerCase();
        if($('.current').attr('id')!=id){
            $('.current').fadeOut(600, function(){
                $('#'+id).fadeIn(600);
                $('.current').removeClass('current');
                 $('#'+id).addClass('current');

            });
        }

    });

</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T07:07:59.770

如果*.current*指的是当前显示的选项卡，您应该在单击它时忽略它，通过检查单击的项目是否是当前项目。 如果项目类包含*当前，* [jQuery 的 hasClass](http://api.jquery.com/hasClass/)将返回 true，否则返回 false。

 *```
if(!$('#'+id).hasClass('current')){
    $('.current').fadeOut(600, function(){

        $('#'+id).fadeIn(600);
        $('.current').removeClass('current');
        $('#'+id).addClass('current');

    });
} 
```*

# ios - 使用 ios 5.1.1 时启动 SIGABRT

> ID：15288257
> 
> 赞同：0
> 
> 时间：2013-03-08T06:43:44.500
> 
> 标签：ios, objective-c, ios5, sigabrt

当我使用运行 ios 5.1.1 的测试设备时，我得到了 sigabrt。我想我需要与 ios 5 兼容的代码。

当使用异常断点时，它会在这行代码处停止。

```
[self.window makeKeyAndVisible]; 
```

这是我的 appDelegate 中的代码。除了添加一个按钮之外，我在 viewController 中没有做太多事情。

```
 self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
    // Override point for customization after application launch.
    self.viewController = [[JHNViewController alloc] init];
    self.window.rootViewController = self.viewController;
    [self.window makeKeyAndVisible];
    return YES; 
```

如果你能理解这一点，请解释一下，因为它对我没有任何意义。

2013-03-08 08:53:38.367 HelloWorld[66084:707] *** 由于未捕获的异常“NSInvalidUnarchiveOperationException”而终止应用程序，原因：“无法实例化名为 NSLayoutConstraint 的类”***第一次抛出调用堆栈：(0x30fe688f 0x37324259 0x30fe67893059 0x3085467ab) 0x30958423 0x308e9001 0x308573c7 0x30734c59 0x306aac17 0x306a9461 0x3069be87 0x3070c7d5 0x44281 0x306a9cab 0x306a37dd 0x30671ac3 0x30671567 0x30670f3b 0x32fb722b 0x30fba523 0x30fba4c5 0x30fb9313 0x30f3c4a5 0x30f3c36d 0x306a286b 0x3069fcd5 0x43fe1 0x43f68）终止叫做抛出异常（LLDB）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T06:56:43.130

您应该`Auto layout`从`.xib`.`IB`

`Auto layout`在 iOS 6 + 中受支持，您的应用程序抱怨：

> '无法实例化名为 NSLayoutConstraint 的类'

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T06:57:17.403

如我所见，iOS 6.0 + 支持自动布局，并且您正在使您的应用程序与 ios 5.1.1 兼容。那么您需要从 Viewcontroller 的 XIB 中删除 AutoLayout。

做一件事，viewController，它是你要加载到应用程序上的第一个 viewController。转到该 viewController 的 XIB 的文件检查器。删除自动布局检查。没事的。

希望有帮助！

# javascript - 将链接从浏览器地址栏拖到 JavaScript 应用程序

> ID：15288259
> 
> 赞同：1
> 
> 时间：2013-03-08T06:43:58.170
> 
> 标签：javascript, drag-and-drop, address-bar

我有一个 Web 桌面书签站点，我希望用户能够将站点图标从浏览器栏中拖放到另一个选项卡中的 JavaScript 应用程序。这在 Chrome 中效果很好（如果你尝试的话），但我不确定接受 drop 事件并从放入的链接中读取 url 的代码是什么。

快速浏览一下我的网站就会知道这个附加的功能将如何成为一个有用的功能。[Booky：您的个人书签 Web 桌面](http://www.bookydesktop.com)

我怎么做？

# javascript - Emberjs：如何使用路由按任何属性过滤用户

> ID：15288260
> 
> 赞同：2
> 
> 时间：2013-03-08T06:44:02.657
> 
> 标签：javascript, ember.js, ember-data, ember-router

我有以下路线和模型设置。我的所有用户都使用模板显示正常，并按预期显示名字和电子邮件。但是，当路由类似于 :user_id 的工作方式时，我无法按名字或电子邮件进行过滤。（我现在正在使用夹具适配器）

示例：#/users/logan

```
 this.resource('users', function(){
     this.resource('user', {path: ':user_firstName'}); //#/users/logan
 }); 
```

以下型号

```
App.User = DS.Model.extend({
    firstName: DS.attr('string'),
    email: DS.attr('string')
}) 
```

因此，进一步总结一下，模型函数内部究竟应该发生什么，或者我可以采取什么其他方法？

```
App.UsersRoute = Em.Route.extend({
    model: function(){
        var user = App.User.find();;

       //FILTER BY firstName how?

        return user;
    }
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T09:24:52.717

您可以在将控制器内容更改为模型过滤器的路由上创建一个事件。

模板：

`<span {{action filterByName}}>Filter by name</span>`

路由器：

```
App.UsersRoute = Ember.Route.extend({
  events: {
    filterByName: function() {
      this.get('controller').set('content', this.get('currentModel').filterProperty('firstName', 'John'));
    }
  }
}); 
```

# android-layout - 如何在android中将提示设置为按钮

> ID：15288264
> 
> 赞同：1
> 
> 时间：2013-03-08T06:44:14.367
> 
> 标签：android-layout, android-button

我有一个收集人员信息的应用程序，因为我有显示日期选择器以收集人员出生日期的按钮，现在我需要在该按钮上显示提示。我将提示设置为所有 UI 组件，我可以在编辑文本中看到提示，但在按钮中看不到。如何重构这个问题，任何帮助表示赞赏......谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T06:47:04.873

通过在按钮上叠加文本视图来使用自定义按钮，请查看下面的示意图：

```
<FrameLayout>
    <Button></Button>
    <TextView></TextView>
</FrameLayout> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T14:17:02.597

我得到了纠正，我在`<button>`标签中使用了以下属性，如下所示：

```
 <Button
        .
        .
    android:hint="01/02/1999"
    android:ellipsize="start" /> 
```

提示出现在按钮上。

# c - 调用函数出错

> ID：15288274
> 
> 赞同：0
> 
> 时间：2013-03-08T06:45:13.297
> 
> 标签：c, function

在终端中编译此代码时，我收到一条错误消息：

```
newfile1.c:17: error: conflicting types for ‘average’
newfile1.c:2: note: previous declaration of ‘average’ was here 
```

我看不出代码有什么问题。有人可以帮我吗？

```
enter code here
#include<stdio.h>
float average(float);
int main()
{
        float marks[4],avg;
        int i;
        printf("Please enter your marks\n");
        for(i=0;i<=3;i++)
        {
                scanf("%d",&marks[i]);
        }
        avg = average(marks[4]);
        printf("The average marks value is %f",avg);
        return 0;
}

float average(float a[4])
{
       int i,sum;
       float avg_m;
       for(i=0;i<=3;i++)
       {
               sum=sum+a[i];
       }
       avg_m=sum/3;
       return avg_m;
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-08T06:47:31.033

代替

```
float average(float); 
```

和

```
float average(float[]); 
```

函数声明和定义不匹配。

然后像这样调用函数：

`avg = average(marks);`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-08T06:48:52.590

更改文件中的行

```
float average(float); 
```

至

```
float average(float []); 
```

您已将函数声明为取一个，`float`而不是您想要的数组`floats`。

另外，在调用它时`main`，更改为

```
avg = average(marks); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T06:55:45.810

在 的原型中`average`，您给出`float`了参数类型，因此编译器期望单个浮点值作为参数。如果你想传递一个值数组，你必须像这样声明你的原型：

```
float average(float input_marks[]); 
```

您不能在原型或定义中给出数组参数的长度。您必须将数组长度作为单独的参数传递。所以你的原型应该看起来像

```
float average(float a[], int a_length); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-08T06:48:59.970

```
float average(float); 
```

需要一个浮点变量。你需要传递一个数组，所以添加 `float average(float[]);`. 由于您的函数声明和定义不匹配，因此发生错误。

在你的主要，你应该调用`avg = average(marks);`将数组传递给函数`avg = average(marks[4]);`将传递一个变量。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-08T06:49:41.847

您的函数`average`接受*一个* `float`作为参数，因此声明应该是`floa avaerage(float)`. 如果你这样做`float average(float a[4])`，你是在告诉编译器你的函数需要一个 4 个浮点数的数组作为参数。

# javascript - 正则表达式查询帮助 - Lookbehind

> ID：15288276
> 
> 赞同：3
> 
> 时间：2013-03-08T06:45:16.007
> 
> 标签：javascript, regex, regex-negation

这有点相关：[正则表达式 - 格式化块中的文本 - IM](https://stackoverflow.com/questions/15278728/regular-expression-formatting-text-in-a-block-im)但另一个问题。

寻找`-`具有以下条件的换行文本：

条件：

*   令牌可以在行首或行尾
*   标记必须由空格或一个或多个符号包围：{.,!@#$....}。
    *   不能是围绕相关`-`对的正常字符 [a-zA-Z]。
    *   请参阅示例测试 3 ...w-谢谢-
    *   测试 4 和 5 成功，因为`-`用 [^a-zA-Z] 包裹
*   记号后面不能跟第`-`一个空格或最后一个空格`-`
    *   “-Wow -” 将不匹配，因为结束`-`之前有一个空格。
    *   参见示例测试 6 和 7

对于正则表达式的前面，我需要：`(^|[\s\W]+)`
结尾是：`($|[\s\W]+)`

我有当前的表达式，但由于转义条件在找到第一个后停止而失败`-`

```
 (^|[\s\W]+)-([^\s][^-]*)-($|[\s\W]+) 
```

示例测试字符串将是：

1.  （全部。）：`-Wow-thank you-.`
2.  （哇）：`-Wow- thank you-!`
3.  （零）：`- Wow-thank you-.`
4.  （谢谢你）：`- Wow!-thank you-`
5.  （谢谢你）：`- Wow -thank you-`
6.  （全部）：`-Wow - thank you-`
7.  （零）：`-Wow - thank you -`

这需要向后看吗？（我是一个正则表达式新手，所以请多多包涵）或者我的中间情况完全错误。

非常感谢！
沃尔夫。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:11:03.473

尝试一个更简单的中间表达式。

```
(^|[\s\W]+)-(.*?)-($|[\s\W]+)
             ^^^ 
```

非贪婪通配符匹配将捕获匹配以下所需的最小字符串`-($|[\s\W]+)`。

* * *

**编辑。**好的，我明白为什么这是错误的了。您希望一个非空格字符分别紧跟并接在开头和结尾的破折号之后。所以试试这个：

```
(^|[\s\W]+)-(\S.*?\S)-($|[\s\W]+)
             ^^   ^^ 
```

# twitter-bootstrap - Bootstrap Scrollspy 不工作

> ID：15288285
> 
> 赞同：2
> 
> 时间：2013-03-08T06:46:02.443
> 
> 标签：twitter-bootstrap, scrollspy

我正在尝试实现一个固定的侧面菜单，用活动类更新活动页面链接。我将滚动间谍 HTML5 元素放在正文上，但我遇到了问题。有人可以查看我的页面，看看他们是否可以确定问题所在吗？

[http://mattaltepeter.com/new/about.shtml](http://mattaltepeter.com/new/about.shtml)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-08T11:17:32.787

问题是您已将导航放置在 div 中，而不是使用导航 id 滚动。为了使 scrollspy 工作您可以将“side-nav”分配给 span3 div，例如：[浏览器中的 Jsfiddle 演示](http://jsfiddle.net/shail/4NPdY/2/show)

```
<div class="row">
<div class="span3" id="side-nav">
    <ul class="nav nav-list about-list hidden-phone hidden-tablet affix" >
        <li class="active"><a href="#about"><i class="icon-chevron-right"></i> About Me</a></li>
        <li><a href="#education"><i class="icon-chevron-right"></i> Education</a></li>
        <li><a href="#work"><i class="icon-chevron-right"></i> Work Experience</a></li>
        <li ><a href="#sports"><i class="icon-chevron-right"></i> Sports</a></li>
    </ul>
</div> 
```

您可以通过以下方式创建您的 para 部分：

```
<div class="page-header" id="about">
        <h1 >About Me</h1>

    <p>My name is Matt Altepeter. I am 21 years old .</p>
    </div> 
```

请删除脚本以初始化滚动，因为您已经将它们添加到正文

```
<body data-offset="50" data-target="#side-nav" data-spy="scroll"> 
```

在 jquery 之后和任何其他脚本之前声明 bootstrap.js 是一种很好的做法。将所有脚本放在页脚中，有助于节省加载时间。

```
 <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.9/jquery.validate.min.js"></script> 
```

# php - 无法在 Redhat 上运行 crontab

> ID：15288290
> 
> 赞同：0
> 
> 时间：2013-03-08T06:46:13.107
> 
> 标签：php, linux, cron, redhat

我在 redhat 上有 .sh 文件来运行 crontab。这个文件的内容

```
#!/bin/bash

echo "run every 1min..." 
```

我使用以下命令运行它：

```
[root@localhost ~]# * * * * * /var/www/html/ac/bc/1.sh
bash: anaconda-ks.cfg: command not found 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T06:47:58.133

cron 配置规则不是一个 shell 命令（尽管它以一个结尾）。

您必须将其输入到您的 cron 配置中，而不是在命令提示符下输入。

运行`crontab -e`以编辑您的 cron 配置。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-12-26T16:11:22.203

类型

```
 crontab -e 
```

按我

粘贴行

```
* * * * * /var/www/html/ac/bc/1.sh 
```

下次保存 crontab

按

```
esc 
```

类型

```
:wq! 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T10:34:08.097

键入`crontab -e`然后键入您的 cron 命令。然后按保存`ESC`，然后按`wq`..`enter`完成。

# sql-server - 用于 SQLCLR (Assembly) 实施的可信数据库是否存在任何风险？

> ID：15288292
> 
> 赞同：1
> 
> 时间：2013-03-08T06:46:24.163
> 
> 标签：sql-server, sql-server-2008, security, sqlclr

我需要编写一个 SQLCLR 函数来访问外部文件。我通过提供`trustworthy on`给我的数据库来做到这一点。有没有其他方法可以在不给予的情况下访问外部资源`trustworthy on`？用于 SQLCLR 实施的可信数据库是否存在任何风险？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T13:39:26.977

存在风险，但如果您控制数据库中存在的所有代码，则风险很小。如果您对程序集使用 external_access 或 unsafe 权限，则需要将 trustworthy 设置为 on，因为否则 SQL Server 字面上不会信任您的代码，也不会让它离开实例。

这是来自 Microsoft 的链接，详细说明了设置可信赖标志的一些准则：

[在 SQL Server 中使用 TRUSTWORTHY 数据库设置的指南](http://support.microsoft.com/kb/2183687)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-11T08:41:41.393

为避免`TRUSTWORTHY ON`对数据库访问外部资源，请遵循以下步骤：

```
USE MASTER;
CREATE ASYMMETRIC KEY '<youKeyName>' FROM EXECUTABLE FILE = '<Your dll file path>';
CREATE LOGIN '<yourUserName>' FROM ASYMMETRIC KEY '<yourKeyName>';
GRANT EXTERNAL ACCESS ASSEMBLY TO '<yourUserName>';
USE '<YOUR DB NAME>';
CREATE ASSEMBLY '<Assembly name>' FROM '<Your dll file path>'
    WITH PERMISSION_SET = EXTERNAL_ACCESS; 
```

试试这个 ：）-

# ruby-on-rails - 即使没有工人在工作，sidekiq 也会利用内存

> ID：15288299
> 
> 赞同：5
> 
> 时间：2013-03-08T06:47:04.103
> 
> 标签：ruby-on-rails, sidekiq

我已经使用 sidekiq 安排了一些后台任务，工作人员并发为 22，但我看到即使没有工作人员在工作，也会发生大约 13.7% 的内存消耗，这是正常的还是我必须在 sidekiq 中更改一些配置以避免这种情况

```
ubuntu    9331 21.8 13.7 1505656 1082988 ?     Sl   Mar06 557:08 sidekiq 2.7.5 jobs [0 of 22 busy] 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-01T22:34:46.443

13.7% 好像是很多内存，但是不知道你有多少GB。（我很不擅长阅读顶级结果）。

但是，即使您的所有工作人员都处于空闲状态，Sidekiq 仍然准备好处理新作业。这会消耗内存。

因此，根据您拥有的内存数量，这是完全正常的。

# tfs - 基于工作项的 TFS 2010 构建

> ID：15288304
> 
> 赞同：1
> 
> 时间：2013-03-08T06:47:21.670
> 
> 标签：tfs

场景：开发团队假设有 10 个工作项。他们解决了 8 个工作项，并且需要对 50 个文件进行更改（签出和签入以及签入期间与工作项相关联）。他们还处理了剩余的 2 个工作项，并修复并签入了 5 个文件，但工作项尚未完全完成，因此尚未解决。现在我想创建一个仅包含 50 个文件的构建，这些文件与 8 个已解决的工作项相关联（并从构建中排除 2 个未解决的错误的 5 个文件）。有没有办法在 TFS 2010 中做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T08:48:40.783

TFS 从变更集构建，因此您需要找出与您需要包含/排除的工作项关联的变更集。简单地浏览历史可能就足够了，但您可能必须检查哪些变更集与工作项相关联。

*   如果您很幸运，那些您不想包含在构建中的变更集稍后会出现在历史记录中，那么只需设置一个仅包含历史记录的工作区，直到您需要的变更集。如果您使用的是 Team Build，则默认构建过程具有参数`GetVersion`，您可以将其设置为要在排队时构建的变更集。如果是手动的，你必须做一个

    `tf get /version:C<changeset number>`

*   **（更新）**另一方面，如果签入的顺序是混合的（您需要排除的一些更改在您需要包括的一些更改之前完成），最好的方法是创建一个分支，然后仅将您需要包含的变更集合并到该分支。然后，您可以简单地从该分支上的最新版本构建。

    1）使用历史，找到带有您需要的代码的最新变更集（最接近您需要排除的代码） 2）基于该版本创建一个分支。3) 对构建中需要包含的其他变更集进行选择性合并，跳过不需要的变更集。4) 从该分支上的最新版本构建。

# mysql - 使用 rand() 函数 im mysql

> ID：15288312
> 
> 赞同：0
> 
> 时间：2013-03-08T06:47:58.083
> 
> 标签：mysql

我正在使用 MySQL 后端，并且在一个表中有类似 id 的记录（id 列不是主键），我想根据不同的 id 随机获取记录，我的意思是相同的 id 记录会聚集在一起。可能吗 ？。如果任何人有任何想法，请分享。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T06:55:18.340

[http://www.tutorialspoint.com/mysql/mysql-rand-function.htm](http://www.tutorialspoint.com/mysql/mysql-rand-function.htm)

也许这可以为您指明正确的方向

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T12:02:59.757

尝试这个...

```
SELECT * FROM `table_name` ORDER BY `id`,RAND( ); 
```

我想这会对你有更多帮助。

# macos - Xcode 4 命令行工具安装目录 /usr/local/bin

> ID：15288313
> 
> 赞同：2
> 
> 时间：2013-03-08T06:48:01.393
> 
> 标签：macos, xcode4

我正在 Xcode 4.5.2 上构建命令行工具

这有一个设置： -

```
Installation Directory /usr/local/bin 
```

所有构建选项都将输出置于：-

```
~/Library/Developer/Xcode/DerivedData/ 
```

如何让 Xcode 使用安装目录？

# java - Linux中的UTF-8问题

> ID：15288317
> 
> 赞同：3
> 
> 时间：2013-03-08T06:48:24.903
> 
> 标签：java, linux, utf

```
String departmentName = request.getParameter("dept_name");
departmentName = new String(departmentName.getBytes(Charset.forName("UTF8")),"UTF8");
System.out.println(departmentName);//O/p:  composés 
```

在 Windows 中，显示的输出是我所期望的，它还获取了部门名称匹配条件的记录。

但在 Linux 中它返回“compos??s”，所以我的数据库查询失败。

谁能给我解决方案？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T07:03:39.737

也许是因为 Charset`UTF8`不存在。您必须使用`UTF-8`. 请参阅[javadoc](http://docs.oracle.com/javase/1.4.2/docs/api/java/nio/charset/Charset.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T08:12:19.977

首先，使用 unicode 输出`System.out.println`并不是一个好的指标，因为您正在处理控制台编码。打开文件`OutputStreamWriter`，明确设置编码为UTF-8，然后你可以判断请求参数是否正确编码。

其次，可能存在数据库连接编码问题。对于 MySQL，您需要在连接字符串中明确指定编码，对于其他，也可能是，如果未指定，则采用默认系统编码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T08:56:39.023

首先，试着弄清楚你在*每个*特定地方的编码。

例如，如果您的 Linux 系统使用 UTF-8 字符集运行，则该字符串可能已经具有正确的编码；那个 hack 可能只需要在 Windows 上。

最后但同样重要的是，你怎么*知道*它是不正确的？不正确的不是你的*观众吗？**您的控制台*或*日志查看器*使用什么字符集？

您需要执行许多检查以找出编码与应用程序该点预期的编码不同的地方*。*

# java - 在 Android 的布局中拆分部分

> ID：15288318
> 
> 赞同：1
> 
> 时间：2013-03-08T06:48:24.997
> 
> 标签：java, android, android-linearlayout

我正在开发一个 Android 项目，我需要在其中设计一个如下图所示的用户界面-

![在此处输入图像描述](../Images/0e3175c5d8f30b50d3fb4f334764a6ce.png)

我需要在顶部显示一些文本`Student App`，然后在下面会有不同的对象 a `Student`。假设如果我有，`10 Students`那么`10 rows`每个学生都会有。在每一行中，左侧会有图像，然后在中间会有一些文本，然后在右侧会有另一个`three text`。

我取得了一些进展，我有以下代码。但这并不完全符合我在图像中寻找的方式。

```
<ImageView
        android:id="@+id/icon"
        android:src="@drawable/action_eating"
        android:layout_width="60dp"
        android:layout_height="60dp" />
<LinearLayout
        android:orientation="vertical"
        android:layout_gravity="center_vertical"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_marginLeft="15dp" >
    <TextView
            android:id="@+id/text1"
            android:text="test"
            android:textColor="#333"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:textSize="18sp" />
    <TextView
            android:id="@+id/text2"
            android:text="test2"
            android:textColor="#6699CC"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:textSize="14sp" />
</LinearLayout> 
```

我需要使该列表可滚动。

谁能帮我解决这个问题？谢谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T06:54:38.077

使用表格视图如何创建列

```
<?xml version="1.0" encoding="utf-8"?>
<TableLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/tableLayout1"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >

    <!-- 2 columns -->
    <TableRow
        android:id="@+id/tableRow1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:padding="5dip" >

        <TextView
            android:id="@+id/textView1"
            android:text="Column 1"
            android:textAppearance="?android:attr/textAppearanceLarge" />

        <Button
            android:id="@+id/button1"
            android:text="Column 2" />
    </TableRow>

    <!-- edittext span 2 column -->
    <TableRow
        android:id="@+id/tableRow2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:padding="5dip" >

        <EditText
            android:id="@+id/editText1"
            android:layout_span="2"
            android:text="Column 1 &amp; 2" />
    </TableRow>

    <!-- just draw a red line -->
    <View
        android:layout_height="2dip"
        android:background="#FF0000" />

    <!-- 3 columns -->
    <TableRow
        android:id="@+id/tableRow3"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:padding="5dip" >

        <TextView
            android:id="@+id/textView2"
            android:text="Column 1"
            android:textAppearance="?android:attr/textAppearanceLarge" />

        <Button
            android:id="@+id/button2"
            android:text="Column 2" />

        <Button
            android:id="@+id/button3"
            android:text="Column 3" />
    </TableRow>

    <!-- display this button in 3rd column via layout_column(zero based) -->
    <TableRow
        android:id="@+id/tableRow4"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:padding="5dip" >

        <Button
            android:id="@+id/button4"
            android:layout_column="2"
            android:text="Column 3" />
    </TableRow>

    <!-- display this button in 2nd column via layout_column(zero based) -->
    <TableRow
        android:id="@+id/tableRow5"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:padding="5dip" >

        <Button
            android:id="@+id/button5"
            android:layout_column="1"
            android:text="Column 2" />
    </TableRow>

</TableLayout> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T06:54:48.297

您需要一个 ListView 用于您的学生列表，并创建一个派生自`ArrayAdapter<Student>`并覆盖的自定义类`getView()`。学生对象列表被传递给适配器，适配器被传递给 ListView。如果您正在为一堂课这样​​做并且您的目的是学习，那么这是熟悉的好东西，并且对于专业的 Android 开发非常实用。如需额外积分，请在 YouTube 上查找 Google I/O 2012 上名为“ListView 世界”的视频，让您的列表比其他同学更快。

# javascript - 如何在 css 中设计多选选项？

> ID：15288328
> 
> 赞同：1
> 
> 时间：2013-03-08T06:49:08.660
> 
> 标签：javascript, jquery, html, css, multiple-select

我已经使用 jquery 在多选选项上制作了一个滚动条，我的问题是如何[像这样设计 css 上的箭头](http://grab.by/kwQC)

这是一个是[我的工作](http://grab.by/kwQ)。

我搜索了很多关于如何在 css 上执行此操作，但我发现的都与此不同。

提前致谢！

# c# - C# 尽量避免重复

> ID：15288330
> 
> 赞同：5
> 
> 时间：2013-03-08T06:49:24.483
> 
> 标签：c#, linq

```
var multiples = from i in Enumerable.Range(min, (max - min))
                        from r in roots
                        where i % r == 0
                        select i; 
```

例如，如果`roots = {2,10}`它会选择`20`两次。

是否可以在这里避免重复？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-08T06:52:09.733

使用[不同的](http://msdn.microsoft.com/en-us/library/bb348436.aspx)

```
var multiples = (from i in Enumerable.Range(min, (max - min))
                 from r in roots
                 where i % r == 0
                 select i).Distinct(); 
```

这适用于 和 等简单`string`类型`int`。~~在匿名类型上不是很好。~~

在您的情况下，它`i`是一个`int`，因此它应该能够整理出重复项。

**编辑**

它*确实*适用于匿名类型（请参阅 Jeppe 的评论）。因为正如@Jeppe 所说，匿名类型具有“良好”`Equals`特性`Distict`，可以确定 to 对象是否相等/重复。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-03-08T06:56:06.897

您可以使用`Any()`而不是完整的笛卡尔连接：

```
var multiples = from i in Enumerable.Range(min, (max - min))
                where roots.Any(r => i % r == 0)
                select i; 
```

这还有一个额外的好处，即`roots`一旦找到成功的元素，它将立即停止测试元素，并且不需要第二次通过即可提取不同的元素。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-08T06:52:41.387

使用[DISTINCT](http://social.msdn.microsoft.com/Forums/en-US/linqtosql/thread/741ecf5b-d24e-44e4-9ba7-603348d8c9bf/)

```
var multiples = (from i in Enumerable.Range(min, (max - min))
                        from r in roots
                        where i % r == 0
                        select i).Distinct(); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-08T06:59:38.960

请使用`Distinct()`方法

```
var multiples = (from i in Enumerable.Range(min, (max - min))
                 from r in roots
                 where i % r == 0
                 select i).Distinct(); 
```

# r - 将多个相关矩阵图排列成一个图形

> ID：15288334
> 
> 赞同：0
> 
> 时间：2013-03-08T06:49:29.083
> 
> 标签：r

我正在使用 R 包`ellipse`来可视化相关性。我的问题是如何将 6 个不同的相关图放在一个图中？我试过

1.  use `par(mfrow=c(3,2), mar=c(3.1, 4.1, 2.1, 5.1))`，它有效，但我只能看到 6 小组数字。

2.  使用`grid.arrange`它给我错误信息

    `Error in arrangeGrob(..., as.table = as.table, clip = clip, main = main, : input must be grobs!`

有没有办法解决这个问题？谢谢！

这是我的示例代码

```
colors <- c("#A50F15","#DE2D26","#FB6A4A","#FCAE91","#FEE5D9","white",
            "#EFF3FF","#BDD7E7","#6BAED6","#3182BD","#08519C")

tiff(file = "Fig7.tiff", width = 10000, height = 8000, units = "px", res = 800, compression = "lzw") #
par(mfrow=c(3,2))

for (i in 1:6){

  plotcorr(cor(replicate(10, rnorm(10))), col=colors[5*cor(replicate(10, rnorm(10))) + 6], numbers = TRUE)
  plotcorr(cor(replicate(10, rnorm(10))), col=colors[5*cor(replicate(10, rnorm(10))) + 6], numbers = TRUE)  
}

dev.off() 
```

我通过修改边距弄清楚了。再次感谢！

```
 plotcorr(eval(parse(text=cor_name_app)), col=colors[5*eval(parse(text=cor_name_app)) + 6],  mar = 0.1 + c(0.2,0.2,0.4,0.2)) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T08:04:43.383

我认为您可能需要考虑该`lattice`选项。查看 Sarkar 的 Lattice 书的示例 13.5 中的“corrgram”选项：http: [//lmdvr.r-forge.r-project.org/figures/figures.html](http://lmdvr.r-forge.r-project.org/figures/figures.html)

![在此处输入图像描述](../Images/e077d4a78b83f4f34005c80da152e5e3.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T06:51:35.717

关于第二个问题，我认为椭圆使用标准图形。`grid.arrange`使用`grid`图形，它不适用于标准图形。您得到的错误是由于这种不兼容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T07:21:06.787

我通过修改边距弄清楚了。再次感谢！

```
 plotcorr(eval(parse(text=cor_name_app)), col=colors[5*eval(parse(text=cor_name_app)) + 6],  mar = 0.1 + c(0.2,0.2,0.4,0.2)) 
```

# php - 如何将页面的数据发送到 PHP 中的另一个页面？

> ID：15288340
> 
> 赞同：0
> 
> 时间：2013-03-08T06:50:05.853
> 
> 标签：php

我有一个 php 页面，用户在其中输入表单详细信息..当用户单击搜索时，用户应该被重定向到具有过滤值的另一个页面..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T06:54:14.350

你可以这样尝试：

**搜索.php**

```
<form method="post" action="search_process.php">
Field 1: <input  type="text" name="f_1" /><br/>
Field 2: <input  type="text" name="f_2" /><br/>
Field 3: <input  type="text" name="f_3" /><br/>
<input  type="submit" name="submit" value="Submit" />
</form> 
```

**search_process.php**

```
if($_POST['submit'] == "Submit")
{
echo $_POST['f_1'] . '<br />';
echo $_POST['f_2'] . '<br />';
echo $_POST['f_3'];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T06:55:53.457

添加`method`到表单`get/post`和`action`= 到您要重定向的位置..

```
 <form method="post" action="path\to\anotherrpage">  //say search.php
 <input type="test" name="search" />  
 //your fields

</form> 
```

并且您可以**通过**

```
var searchedtext=$_POST['search']; // if your method is post
var searchedtext=$_GET['search']; // if your method is get 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T06:59:44.180

您可以使用 post 或 get 方法将表单提交到另一个 php 文件，例如名为 search.php 的操作。在该文件中，您需要执行搜索过程，而另一件事是搜索的关键

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-08T07:04:13.810

三种方式

1.  [邮政](http://www.w3schools.com/php/php_post.asp)

`$_POST`您可以将数据作为变量从一页发送到另一页。数据将被隐藏 rom 用户。

1.  [得到](http://www.w3schools.com/php/php_get.asp)

`$_GET`您可以将数据作为变量从一页发送到另一页。数据将显示在 URL 链接中。通过同样的方式，您可以通过 url 传递数据并在下一页中获取它。

1.  [会议](http://www.w3schools.com/php/php_sessions.asp)

您可以使用会话在站点的任何位置获取数据。

链接描述得很好。

# c# - 如何使用 c# 从 asp.net 中的数据网格中获取选定的列值或名称

> ID：15288343
> 
> 赞同：0
> 
> 时间：2013-03-08T06:50:18.940
> 
> 标签：c#, asp.net

我的代码是这样的：现在我知道如何获取所选行的列名

```
protected void gv_imageslist_RowUpdating(object sender, GridViewUpdateEventArgs e)
{
        string status;
        string sts;
        int result;
        lblerror2.Text = "";
        //((label)gv.Rows.FindControl("lbl1")).Text;

        string str = gv_imageslist.c

        if (str  == "Status")
        {
            status = ((Label)gv_imageslist.Rows[e.RowIndex].FindControl("lbl_Status")).Text;
            Gm.Gallery_Id = Convert.ToInt32(gv_imageslist.DataKeys[e.RowIndex].Value.ToString());
            if (status == "True")
            {
                Gm.Is_Active = false;
            }
            else
            {
                Gm.Is_Active = true;
            }
            result = Gm.Change_Image_Status();
            if (result == 1)
            {
                Build_ImageGalleryList();
            }
            else
            {
                lblerror2.Visible = true;
                lblerror2.Text = "Unable to Change Status !";
            }
        }
        else
        //------For Checking of cover pic
        {
            sts = ((Label)gv_imageslist.Rows[e.RowIndex].FindControl("lbl_Cover")).Text;
            Gm.Gallery_Id = Convert.ToInt32(gv_imageslist.DataKeys[e.RowIndex].Value.ToString());

            string sp = ((Label)gv_imageslist.Rows[e.RowIndex].FindControl("lbl_category_Id")).Text;
            Gm.Category_Id = Convert.ToInt32 (sp);
            if (sts == "False")
            {
                Gm.Is_Cover = true;
            }
            else
            {
                Gm.Is_Cover = false;
            }
            result = Gm.Change_Gallery_Cover();
            if (result == 1)
            {
                Build_ImageGalleryList();
            }
            else
            {
                lblerror2.Visible = true;
                lblerror2.Text = "Unable To Change Cover Pic !!";
            }
        }

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T09:58:34.590

试试这个代码片段；

```
gv.HeaderRow.Cells[i].Text 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T07:46:15.770

为什么不创建所选行的对象并从那里使用它呢？

IE

```
var selectedRow = (TYPE)gridViewName.GetFocusedRow(); 
```

然后，您可以使用 selectedRow 对象并调用属于它的任何属性，即 var name = selectedRow.Name

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T10:33:42.127

也可以通过 DataKeyNames 和 Normal 方法

1) 'e' 作为命令参数

int index = Convert.ToInt32(e.CommandArgument); 字符串请求 = gvRequests.Rows[index].Cells[4].Text.ToString();

2) GridViewRow selectedRow = gvRequests.Rows[index]; 字符串 ID = gvRequests.DataKeys[index].Value.ToString().Trim();

**字符串 headerText=gvProductList.HeaderRow.Cells[1].Text;**

protected void gvCustomers_RowDataBound（对象发送者，GridViewRowEventArgs e）

{

if ((e.Row.RowType == DataControlRowType.DataRow))

```
{
   LinkButton lnk = (LinkButton) e.Row.FindControl("lnk");
   Label lblName= (Label) e.Row.FindControl("lblName");                      
   lnk.Attributes.Add("onclick", "getValue(" + lblName.ClientID + ");"
} 
```

}...你可以用你自己的方式尝试这个...方法

享受... ..

# c# - NHibernate事务提交，什么将提交到数据库？

> ID：15288348
> 
> 赞同：3
> 
> 时间：2013-03-08T06:50:44.930
> 
> 标签：c#, nhibernate, transactions

我有以下代码：

```
using (var session = SessionFactory.OpenSession())
{
  var entity = session.Get<Entity>(id);
  entity.Property1 = "new value";
  using (var tx = session.BeginTransaction())
  {
    entity.Property2 = "new value";
    tx.Commit();
  }
} 
```

而现在，我很困惑，什么时候`tx.Commit()`，什么将提交给数据库？是只有`Property2`（在事务范围内）将被提交，还是两者都`Property1`将`Property2`被提交？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T13:31:52.163

刷新会话时，您对持久对象所做的任何更改都将发送到数据库，并且提交事务将刷新会话。请注意，在某些情况下，会话可能会自动刷新，例如在使用数据库生成的标识符或发出查询时。

令人困惑的是，在 NHibernate 中，您可以拥有仅包含提交的事务块。为了可读性，我将其重写为：

```
using (var session = SessionFactory.OpenSession())
{
  using (var tx = session.BeginTransaction())
  {
      var entity = session.Get<Entity>(id);
      entity.Property1 = "new value";
      entity.Property2 = "new value";
      tx.Commit();
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T07:05:32.947

实体的所有属性都将被提交。在您的配置中，您可以设置将 sql 输出到控制台的设置，您可以查看它在每次提交时发送的查询。

# javascript - Onclick 重定向未触发

> ID：15288350
> 
> 赞同：0
> 
> 时间：2013-03-08T06:50:51.793
> 
> 标签：javascript, html, forms, onclick

单击表单提交按钮后，我试图将用户重定向到另一个页面。

我正在尝试触发一些事件，这些事件会自动填写表单的某些部分，然后提交表单并最终将用户重定向到另一个页面。

一切正常都需要重定向。我已经尝试了一些事情，但在表单提交后还没有让重定向工作。

我也不希望用户在表单成功提交之前被重定向。

这是我的代码：

```
<form id="usp_form" method="post" enctype="multipart/form-data" action="">
  <input class="usp_input" type="text" name="user-submitted-title" id="user-submitted-title" value="" />
  <input class="usp_input" type="text" name="user-submitted-url" id="user-submitted-url" value="">
  <input class="usp_input" type="text" name="user-submitted-tags" id="user-submitted-tags" value="">
  <input class="usp_input" type="text" name="user-submitted-category" id="user-submitted-category" value="">
  <textarea class="usp_textarea" name="user-submitted-content" id="user-submitted-content" rows="5"></textarea>
  <input class="hidden" type="hidden" name="user-submitted-name" value="<?php echo $current_user->user_login; ?>">

  <input onClick="copyText();copyText2();copyText3();handleClick();" class="usp_input" type="submit" name="user-submitted-post" id="user-submitted-post" value="Submit Post">
</form>

<script language="javascript" type="text/javascript">
function copyText3() {
var output1 = document.getElementById("edit1").innerHTML;
var output2 = document.getElementById("edit2").innerHTML;
document.getElementById("user-submitted-title").value = output1 + ', ' + output2;
}
</script>

<script language="javascript" type="text/javascript">
function copyText2() {
var output1 = document.getElementById("edit1").innerHTML;
var output2 = document.getElementById("edit2").innerHTML;
var output3 = document.getElementById("template").innerHTML;
document.getElementById("user-submitted-tags").value = output1 + ', ' + output2 + ', ' + output3;
}
</script>

<script language="javascript" type="text/javascript">
function copyText() {
var output = document.getElementById("templatebody").innerHTML;
document.getElementById("user-submitted-content").value = output;
}
</script>

<script language="javascript" type="text/javascript">
function handleClick() {
window.location.href='http://website.com/';
}
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:01:00.067

提交按钮将启动一个请求，但您还在按钮按下时定义了一个重定向请求，因此一个会覆盖另一个（我不确定哪个，它可能取决于浏览器）。

您可能希望触发 Ajax 请求而不是标准提交，并且仅当您从 Ajax 请求中获得响应时才进行重定向，这样您就可以确定没有信息丢失。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T07:02:09.793

您不应该像 is 那样编写代码，而是在 de HTML 之外的事件上注册您的函数（最好将 HTML、JS 和 CSS 分开）。

您可以在这里了解有关冒泡的事件：http: [//javascript.info/tutorial/bubbling-and-capturing](http://javascript.info/tutorial/bubbling-and-capturing)

如果您只想查看代码正常工作而不验证表单，只需添加“return false ;” 在 onclick 属性的末尾。

编辑：抱歉，您要提交表单，然后重定向。您可以使用 ajax 请求来执行此操作（请参阅[http://www.w3schools.com/xml/xml_http.asp](http://www.w3schools.com/xml/xml_http.asp)）：您在 ajax 中提交表单，然后重定向。

但是 IMO，这是一种服务器端行为：您可能有一种动态语言（Python、PHP、ASP...？）来处理您的表单提交。在这里，您必须在此过程后重定向。

# ruby-on-rails - Sass / CSS 文件被忽略——资产管道问题？

> ID：15288352
> 
> 赞同：0
> 
> 时间：2013-03-08T06:51:15.767
> 
> 标签：ruby-on-rails, ruby-on-rails-3, sass, asset-pipeline

所以，当然，我在弄乱了我的主要 SASS 文件并想知道为什么我看不到更改后，我才弄清楚了这一点——但事实证明，我的本地主机并没有注意到我在放什么在我的 SASS 文件中。

这是在将所有内容从 SCSS 切换到 SASS 之后发生的，我 100% 确定该文件刚刚被忽略。对于踢/证明，我删除了我的 application.erb.sass 文件中的所有样式（唯一一个不再有任何样式的样式——我合并到这个底部），然后保存，然后重新启动服务器，它是看起来一如既往的风格。

这似乎是一个资产管道问题，因为我真的不知道如何处理我的配置文件，所以我将在此处粘贴相关的内容：

**config/environments/development.rb**有这些行：

```
# Do not compress assets
config.assets.compress = false

if defined?(Bundler)
  # If you precompile assets before deploying to production, use this line
  Bundler.require *Rails.groups(:assets => %w(development test))
  # If you want your assets lazily compiled in production, use this line
  # Bundler.require(:default, :assets, Rails.env)
end

# Expands the lines which load the assets
config.assets.debug = true 
```

**配置/应用程序.rb**

```
if defined?(Bundler)
  # If you precompile assets before deploying to production, use this line
  Bundler.require(*Rails.groups(:assets => %w(development test)))
  # If you want your assets lazily compiled in production, use this line
  # Bundler.require(:default, :assets, Rails.env)
end

# Enable the asset pipeline
config.assets.enabled = true

config.assets.paths << "#{Rails.root}/app/assets/fonts"

# Version of your assets, change this if you want to expire all your assets
config.assets.version = '1.0' 
```

另外，我的 gem 文件中有“gem 'sass-rails'”，而不是任何组。

认为这是所有/最相关的。知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:07:29.337

运行：rake assets:clean && assets:precompile

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T08:50:52.623

问题似乎是我的 css 文件的扩展名（其中有一些嵌入的 ruby​​）：

erb.sass 和 erb.css.sass 不起作用，但**css.erb.sass 起作用**了。

这莫名其妙地阻止了文件被读取，所以当我运行 assets:clean/precompile 时，没有剩下 css 了。在我运行它之前，我猜它正在运行我之前预编译的 CSS 文件。奇怪的。

显然，这些东西必须从右到左编译（可能除了我以外的每个人都知道），所以 CSS 应该是它编译成的类型。

对困惑感到抱歉。

# mysql - mysql 自由半 径

> ID：15288356
> 
> 赞同：0
> 
> 时间：2013-03-08T06:51:34.877
> 
> 标签：mysql, radius

我刚从`freeradius-server-2.2.0`tarball 安装。

我想使用 mysql 服务器连接 freeradius。

但是当我在前台运行半径时`radiusd -X`，我收到如下错误消息：

```
Fri Mar  8 13:44:46 2013 : Debug:   group_membership_query = "SELECT groupname           FROM radusergroup           WHERE username = '%{SQL-User-Name}'           ORDER BY priority"
Fri Mar  8 13:44:46 2013 : Debug:   connect_failure_retry_delay = 60
Fri Mar  8 13:44:46 2013 : Debug:   simul_count_query = ""
Fri Mar  8 13:44:46 2013 : Debug:   simul_verify_query = "SELECT radacctid, acctsessionid, username,                                nasipaddress, nasportid, framedipaddress,                                callingstationid, framedprotocol                                FROM radacct                                WHERE username = '%{SQL-User-Name}'                                AND acctstoptime IS NULL"
Fri Mar  8 13:44:46 2013 : Debug:   postauth_query = "INSERT INTO radpostauth                           (username, pass, reply, authdate)                           VALUES (                           '%{User-Name}',                           '%{%{User-Password}:-%{Chap-Password}}',                           '%{reply:Packet-Type}', '%S')"
Fri Mar  8 13:44:46 2013 : Debug:   safe-characters = "@abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789.-_: /"
Fri Mar  8 13:44:46 2013 : Debug:   }
Fri Mar  8 13:44:46 2013 : Error: Could not link driver rlm_sql_mysql: rlm_sql_mysql.so: cannot open shared object file: No such file or directory
Fri Mar  8 13:44:46 2013 : Error: Make sure it (and all its dependent libraries!) are in the search path of your system's ld.
Fri Mar  8 13:44:46 2013 : Error: /usr/local/etc/raddb/sql.conf[22]: Instantiation failed for module "sql"
Fri Mar  8 13:44:46 2013 : Error: /usr/local/etc/raddb/sites-enabled/default[177]: Failed to find "sql" in the "modules" section.
Fri Mar  8 13:44:46 2013 : Error: /usr/local/etc/raddb/sites-enabled/default[69]: Errors parsing authorize section. 
```

它也发生在我的 freeradius ldap 上？

```
[error LDAP]
/usr/local/etc/raddb/modules/ldap[29]: Failed to link to module 'rlm_ldap': rlm_ldap.so: cannot open shared object file: No such file or directory 
/usr/local/etc/raddb/sites-enabled/default[305]: Failed to find "ldap" in the "modules" section.
/usr/local/etc/raddb/sites-enabled/default[305]: Failed to parse "ldap" 
```

我该如何解决这个问题？

我已经安装`libmysqlclient-dev`在我的 ubuntu 上。

我正在运行`Ubuntu 12.04`。

帮我解决这个问题。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-23T20:44:58.783

安装开发头文件后，您确实重新运行了配置吗？

从源代码构建时，您需要执行以下操作：

```
./configure <options> && make && make install 
```

实际安装模块。

# android - 保存活动状态 -

> ID：15288363
> 
> 赞同：1
> 
> 时间：2013-03-08T06:52:03.063
> 
> 标签：android, bundle

在我的应用程序中，有一个活动 UserMenu，其中（在创建时）完成后续加载。我希望下次打开应用程序时，不应再次重新加载此屏幕 - 我想按原样保存 UserMenu 屏幕的状态。

我一直在通过[这个](https://stackoverflow.com/questions/151777/saving-activity-state-in-android)，但我无法查看我必须实现的内容，我不想保存任何值，只是我想重新创建相同的屏幕，因为我可以在 android 中按下主页按钮。

请帮我解决我的问题。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:16:49.700

您需要遵循[活动生命周期](http://developer.android.com/training/basics/activity-lifecycle/starting.html)以使其变得简单。只需从`onCreate()`方法调用函数来加载这些数据，使用将数据保存在某个独立类中`ArrayList()`，并`onResume()`显示存储的数据。`ArrayList()`是的，内部`onCreate()`检查大小这`ArrayList()`只是为了确定数据是否已经加载。如果尚未加载，则加载它。否则不加载。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T07:06:37.203

根据我的说法，这不可能就像您所说的关于主页按钮的内容。当按下主页按钮时，您的活动进入`onPause()`，当您重新打开它时`onResume()`。您可以执行您所关注的链接中的建议，即您可以使用保存`Actvity`元素的值`onSavedInstanceState()`也不能保证执行阅读此[onSavedInstanceState](http://developer.android.com/reference/android/app/Activity.html#onSaveInstanceState%28android.os.Bundle%29)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T06:58:33.370

你可以这样做

在您的 UserMenu Activity 类中

```
@Override
    public boolean onKeyDown(int keyCode, KeyEvent event) {
        if (keyCode == KeyEvent.KEYCODE_BACK) {
            goToHome();
            return true;
        }

        return super.onKeyDown(keyCode, event);
    }

    private void goToHome() {
        moveTaskToBack(true);

    } 
```

因此，当您按下返回按钮时，Activity 不会被破坏并移至 Home，一旦您长按 Home 按钮或从菜单启动应用程序，它将不会再次加载 Activity。

谢谢

# jquery - 在 MVC 4 中增加 json 响应 maxJsonLength

> ID：15288367
> 
> 赞同：11
> 
> 时间：2013-03-08T06:52:12.343
> 
> 标签：jquery, ajax, asp.net-mvc, json

加载大型 JSON 响应表单服务器时，我在 razor 视图引擎 MVC4(.net 4.5) 应用程序中出现以下错误

“<strong>使用 JSON JavaScriptSerializer 进行序列化或反序列化时出错。字符串的长度超过了在 @Html.Raw(Json.Encode(jsondata) 的 maxJsonLength 属性上设置的值”</p>

我尝试在 web.config 中设置 MaxJsonLength 属性：

```
configuration> 
   <system.web.extensions>
       <scripting>
           <webServices>
               <jsonSerialization maxJsonLength="2147483644"/>
           </webServices>
       </scripting>
   </system.web.extensions>
</configuration> 
```

在发送 JSON 响应的同时尝试在服务器端进行跟踪。

```
 return new JsonResult()
    {
        Data = data,
        ContentType = contentType,
        ContentEncoding = contentEncoding,
        JsonRequestBehavior = behavior,
        MaxJsonLength = Int32.MaxValue
    }; 
```

还尝试了列出的解决方案：http: [//brianreiter.org/2011/01/03/custom-jsonresult-class-for-asp-net-mvc-to-avoid-maxjsonlength-exceeded-exception/](http://brianreiter.org/2011/01/03/custom-jsonresult-class-for-asp-net-mvc-to-avoid-maxjsonlength-exceeded-exception/)。但没有什么对我有用:(

有人可以建议我如何避免此错误或如何增加 Jason 响应的最大长度吗？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-03-11T13:20:25.760

通过在视图中使用以下代码，我以某种方式摆脱了这个错误。

```
@{
System.Web.Script.Serialization.JavaScriptSerializer serializer = new System.Web.Script.Serialization.JavaScriptSerializer();
serializer.MaxJsonLength = Int32.MaxValue;
}
<script type="text/javascript">
var entries = @Html.Raw(serializer.Serialize(Model.FeedEntries));    
</script> 
```

至少对我来说，这在服务器端不起作用。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2013-10-01T09:01:56.270

我的一分钱解决方案。b) 因为 a) 在 Mvc 4.5 AFAIK 中给出了错误消息“System.Web.Mvc.JsonResult 不包含 maxJsonLength ... 的定义”，这是唯一有效的解决方法。

我把 b) 放在我的控制器中。希望这会对某人有所帮助。

问候， SM

一个）

```
var jsonResult = Json(list, JsonRequestBehavior.AllowGet);
jsonResult.maxJsonLength = int.MaxValue;
return jsonResult; 
```

b)

```
if (Request.IsAjaxRequest())
{
   //Working solution
   var serializer = new JavaScriptSerializer { MaxJsonLength = Int32.MaxValue, RecursionLimit = 100 };

   return new ContentResult()
   {
      Content = serializer.Serialize(list),
      ContentType = "application/json",
   };

   //Trial 2
   //var jsonResult = Json(list, JsonRequestBehavior.AllowGet);
   //jsonResult.maxJsonLength = int.MaxValue;
   //return jsonResult;

   //Trial 1
   //return Json(list, JsonRequestBehavior.AllowGet);
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-11-22T08:48:32.127

这对我有用

```
 return new JsonResult()
            {
                Data=jsonData,
                MaxJsonLength = 86753090,
                JsonRequestBehavior=JsonRequestBehavior.AllowGet
            }; 
```

# sql - 在 Oracle 9i 中获取文本文件中一组表的简单方法

> ID：15288378
> 
> 赞同：0
> 
> 时间：2013-03-08T06:53:06.277
> 
> 标签：sql, oracle9i

我需要在 oracle 9i 中卸载一组表。卸载应该是一个`.txt`文件或`.unl`文件。我用谷歌搜索，发现脚本指定了表的列名。由于表中有大量列，因此我不想在卸载时指定列名。任何人都可以给我一个简单的解决方案来卸载而不使用列名。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:30:32.050

为什么需要指定列名？

```
./sqlldr_exp user/passdword@instance >  emp.ctl 
```

没有明确要求的列名。

你的意思是你甚至不想要加载器文件中提到的列？我的理解是不可能的：您需要允许 oracle 放置列。与使用 select * from some_table 的视图类似：列实际上已物化，因此如果基础列发生更改，则必须重新创建视图。

# c# - 我们不能在接口中创建对象，但是返回类型如何成为接口？

> ID：15288382
> 
> 赞同：1
> 
> 时间：2013-03-08T06:53:27.087
> 
> 标签：c#, .net, asp.net-mvc

我已经开始研究 MVC。在mvc中的[DropDownList](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.dropdownlist%28v=vs.110%29.aspx)的一些教程中，我看到了一个返回[IEnumerable](http://msdn.microsoft.com/en-us/library/9eekhta0.aspx)类型的属性，如下所示：-

```
 public IEnumerable<location> ListofLocation{get;set;} 
```

上面的属性是模型的一个属性，它返回一个位置列表，这些位置将填充到下拉列表中。

我的问题是“如果我们不能创建接口对象，那么为什么在接口中返回这种类型”？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-08T06:54:18.067

> 但是返回类型如何成为接口？

这意味着该方法可以**返回实现该特定接口的类的对象。**

对于您的示例属性。

```
public IEnumerable<location> ListofLocation{get;set;} 
```

`ListofLocation`可以`List<Location>` 自[`List<T>`](http://msdn.microsoft.com/en-us/library/6sh2ey19.aspx)实现`IEnumrable<T>`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T06:56:47.070

当您返回一个实现特定接口的对象时，您将获得一个仅包含在该接口上定义的公共属性和方法的对象。对象公开的所有其他方法*都被屏蔽掉了。*

这就是对象实现接口的意义。该对象*满足接口的约定。*

类似地，同一个对象可能会公开满足某些其他接口的属性和方法。因此，您还可以使用满足第一个接口的相同对象返回该其他接口类型的对象。

最后，一个接口可以由不同的对象实现。这允许您更改接口的底层实现（即行为），同时仍然履行接口与接口用户的合同。

# java - 尽管抛出了预期的异常，但 JUnit 测试失败

> ID：15288390
> 
> 赞同：16
> 
> 时间：2013-03-08T06:53:51.323
> 
> 标签：java, testing

我似乎无法弄清楚为什么我的一项测试失败了。

这是测试：

```
@Test(expected = IllegalArgumentException.class)
public void complainsIfFromLocIsDifferentObject() throws Throwable {
    board.set(make(), 1, 3); //Creates different rook from 'piece'
    assertFalse("ChessPiece Test 2", piece.isValidMove(getValidMove(1, 3), board));
} 
```

我已经设置了一个断点并多次完成了该过程。它进入`ChessPiece`类中的第二个 if 语句，并且似乎抛出了异常。然后该过程返回类并在块`Rook`下返回false 。`super`

关于发生了什么的任何想法？谢谢

相关代码：

```
public class Rook extends ChessPiece {

    @Override
    public boolean isValidMove(Move m, IChessBoard b) {
        if (super.isValidMove(m, b) == false)
            return false;

        // Add logic specific to rook
        if(m.fromRow == m.toRow || m.fromColumn == m.toColumn)
            return true;
        else 
            return false;
    }
}

public abstract class ChessPiece implements IChessPiece {

    @Override
    public boolean isValidMove(Move m, IChessBoard b) {

        //Verify that there is a piece at the origin
        if (b.pieceAt(m.fromRow,m.fromColumn) == null)
            throw new IllegalArgumentException();

        // Verify that this piece is located at move origin
        IChessPiece piece = b.pieceAt(m.fromRow, m.fromColumn);
        if (this != piece)
            throw new IllegalArgumentException();
     }
} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-08T07:07:50.883

> 它进入 ChessPiece 类中的第二个 if 语句，似乎抛出了异常。然后该过程返回到 Rook 类并在 super 块下返回 false。

`isValidMove()`正在发生的事情是`Rook`类调用方法中的第一行，`super`所以控制到那里，但是由于不满足第二个条件，`if`它抛出`IllegalArgumentException`然后控制返回到子类`Rook`，即它现在不能`return false`，因为 super 已经抛出异常所以异常将从该方法外部重新抛出，并将从junit`complainsIfFromLocIsDifferentObject`方法重新抛出。

这将被 JUnit 框架理解并且应该通过测试用例。

`@RunWith(value = BlockJUnit4ClassRunner.class)`检查测试用例类中是否有此行。

**更新：**

```
@RunWith(value = BlockJUnit4ClassRunner.class)
public class Test extends TestCase{

    @Test(expected = IllegalArgumentException.class)
    public void test1() throws Throwable{
        assertFalse(throwException());
    }

    private boolean throwException(){
        throw new IllegalArgumentException();
    }
} 
```

这个测试用例通过了我。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-03-08T08:09:30.300

正如您在评论中所写，JUnit 会告诉您出了什么问题：

> 我得到“java.lang.AssertionError：预期异常：java.lang.IllegalArgumentException

你得到一个 AssertionError，可能是在预期异常被抛出之前的一个断言，或者是因为异常被处理，然后一个断言执行失败了。

如果您从注释中删除“预期”值，JUnit 将为您提供断言失败的确切位置（又名堆栈跟踪）

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-08T08:15:07.993

通常我不会将 JUnit 断言放在我期望异常抛出的代码周围。

所以

```
@Test(expected = IllegalArgumentException)
public void test() {
   board.set(make(), 1, 3); //Creates different rook from 'piece'
   piece.isValidMove(getValidMove(1, 3), board);
} 
```

否则，异常将在 JUnit 断言语句中引发，该语句将异常包装在 assertionException 中。

# excel - 在 SharePoint 2010 Excel Web Access 中重新加载工作簿

> ID：15288394
> 
> 赞同：0
> 
> 时间：2013-03-08T06:54:14.243
> 
> 标签：excel, sharepoint-2010

我正在开发一个网页供用户在 SharePoint 网页中查看一些 Excel 工作簿。工作簿是一种给用户的报告，管理员每周都会通过覆盖 SharePoint 中的 excel 文件来更新工作簿。

我知道我们可以通过单击文件->重新加载工作簿来手动重新加载工作簿。但是，如果我们采用这种方法，每个用户都需要自己单击按钮，这不是我们想要的！所以我想自动执行此操作。

有什么方法可以解决这个问题吗？欢迎任何建议！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:18:55.390

这篇文章是我的帮助。方法是向 XLViewer.aspx 添加一个 javascript 代码，以便在每次访问时立即刷新 Excel Services 查看器的连接。

[https://sharepoint.stackexchange.com/questions/28190/how-to-reload-worksheet-displayed-in-excel-web-access-webpart](https://sharepoint.stackexchange.com/questions/28190/how-to-reload-worksheet-displayed-in-excel-web-access-webpart)

# c++ - Apache thrift 未定义对 apache::thrift::server::TNonblockingServer 的引用

> ID：15288395
> 
> 赞同：6
> 
> 时间：2013-03-08T06:54:15.930
> 
> 标签：c++, rpc, thrift

我正在尝试编译一段创建 TNonblockingServer 的代码，但出现以下编译错误。知道有什么问题吗？

```
something_server.cpp:(.text+0x1ad): undefined reference to `apache::thrift::server::TNonblockingServer::serve()'
something_server.cpp:(.text+0x1c1): undefined reference to `apache::thrift::server::TNonblockingServer::~TNonblockingServer()'
something_server.cpp:(.text+0x280): undefined reference to `apache::thrift::server::TNonblockingServer::~TNonblockingServer()' 
```

我在安装 Thrift 时执行了此处列出的步骤。 [http://thrift.apache.org/docs/install/os_x/](http://thrift.apache.org/docs/install/os_x/)

这是我的生成文件

```
GEN_SRC := Something.cpp something_constants.cpp something_types.cpp
GEN_OBJ := $(patsubst %.cpp,%.o, $(GEN_SRC))

THRIFT_DIR := /usr/local/include/thrift
BOOST_DIR := /usr/local/include

INC := -I$(THRIFT_DIR) -I$(BOOST_DIR)

.PHONY: all clean

all: something_server something_client

%.o: %.cpp 
    $(CXX) -Wall -DHAVE_INTTYPES_H -DHAVE_NETINET_IN_H $(INC) -c $< -o $@ 

something_server: something_server.o $(GEN_OBJ)
    $(CXX) $^ -o $@ -L/usr/local/lib -lthrift 

something_client: something_client.o $(GEN_OBJ)
    $(CXX) $^ -o $@ -L/usr/local/lib -lthrift 

clean: 
    $(RM) *.o something_server something_client 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2016-03-02T12:08:24.983

正如 Dmitry 所指出的，如果我们添加`-lthriftnb`到编译命令，它可以解决问题。这些缺失的引用可在 libthriftnb.so 中找到。此文件包含对 libevent 的引用。所以我不得不包括`-levent`编译命令。没有`-levent`链接器会生成多个错误消息。部分讯息如下 -

```
/usr/local/lib/libthriftnb.so: undefined reference to `event_set'
/usr/local/lib/libthriftnb.so: undefined reference to `evbuffer_new'
/usr/local/lib/libthriftnb.so: undefined reference to `evhttp_free'
.
.
.
.
/usr/local/lib/libthriftnb.so: undefined reference to `event_del' 
```

# python - centos6.3安装scrapy失败，bash：scrapy：找不到命令

> ID：15288398
> 
> 赞同：-1
> 
> 时间：2013-03-08T06:54:24.827
> 
> 标签：python, centos, scrapy

我安装所有软件包：

现在我有一个测试：

```
 Type "help", "copyright", "credits" or "license" for more information.
    import scrapy
    from scrapy.selector import HtmlXPathSelector
    exit()

    [root@dev site-packages]# scrapy
    bash: scrapy: command not found 
```

怎么办？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T08:12:56.767

你如何安装scrapy？容易安装？还是点安装？还是python安装setup.py？应该是路径问题。您需要将 bin/scrapy 脚本安装到 PATH 中的目录，例如 /usr/local/bin。

这是一个类似的问题：[Scrapy installation on OSX Lion](https://stackoverflow.com/questions/10490303/scrapy-installation-on-osx-lion)

# selenium-webdriver - 如何使用 selenium Web 驱动程序处理 Windows 下载对话框

> ID：15288399
> 
> 赞同：0
> 
> 时间：2013-03-08T06:54:27.643
> 
> 标签：selenium-webdriver

我正在使用 selenium web 驱动程序（不是 selenium RC）。我需要通过单击链接下载 xml 文件。我做了一些谷歌搜索，并在一些答案中找到了使用 AutoIT 来处理与操作系统相关的对话框。

但是在不使用 AutoIT 工具的情况下，是否有任何其他选项使用 selenium 来处理这个问题。

请提出一些想法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T09:39:54.417

您能否更具体地说明您使用的是哪个浏览器。如果是 Firefox，您可以更好地控制文件下载。包括 Firefox 在内的任何其他浏览器都可以使用机器人类。这可用于执行单击确定按钮以进行下载。如果它的 chorme 则文件下载会自动发生，无需任何干预。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-03T14:11:27.147

对于最新版本的 Firefox（在撰写本文时），这些是我需要避免下载框的参数。请注意，您需要指定一个可以写入的目录，如第三条语句所示：

```
FirefoxProfile profile = new FirefoxProfile();
profile.setPreference( "browser.download.folderList", 2 );
profile.setPreference( "browser.download.dir", <YOUR DOWNLOAD PATH> );
profile.setPreference( "plugin.disable_full_page_plugin_for_types", "application/pdf" );
profile.setPreference(
                    "browser.helperApps.neverAsk.saveToDisk",   
    "application/csv,text/csv,application/pdfss, application/excel" );
profile.setPreference( "browser.download.manager.showWhenStarting", false );
profile.setPreference( "pdfjs.disabled", true ); 
```

请注意，新版本的 Firefox 需要最后一行 pdfjs，而以前不需要。更多信息[在这里](https://groups.google.com/forum/#!topic/webdriver/dQWxmZyAYMc)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-11-25T07:08:45.593

我在我的项目中遇到身份验证代理弹出问题。所以我尝试了下面的解决方案，它工作正常。当我们在安全环境中从 Selenium Web 驱动程序运行脚本时，需要完成以下设置来处理身份验证代理。

首先，您需要了解以下详细信息，

*   network.proxy.autoconfig_url（例如：“ [http://example.com/abc.pac](http://example.com/abc.pac) ”）
*   network.proxy.http（例如：abc-proxy.com）
*   network.proxy.http_port（示例：8080）

    ```
    private static WebDriver initFirefoxDriver(String appURL)  
    {

        System.out.println("Launching Firefox browser..");

        FirefoxProfile firefoxProfile = new FirefoxProfile();
        firefoxProfile.setPreference("network.proxy.type", 1);
        firefoxProfile.setPreference("network.proxy.autoconfig_url", "http://example.com/abc.pac");
        firefoxProfile.setPreference("network.proxy.http", " abc-proxy.com");
        firefoxProfile.setPreference("network.proxy.http_port", 8080);

        WebDriver driver = new FirefoxDriver(firefoxProfile);
        driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);
        driver.manage().window().maximize();
        driver.navigate().to(appURL);
        //driver.get(appURL); 
        return driver;
    } 
    ```

# c++ - IND和NAN号有什么区别

> ID：15288406
> 
> 赞同：7
> 
> 时间：2013-03-08T06:55:00.150
> 
> 标签：c++, nan, infinity

NAN 值表示非数字，IND 值表示不确定数字。但这两者有什么区别。我们如何在 c++ 中表示两者。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-08T07:05:03.057

> 但这两者有什么区别。

他们都是一回事。一些平台选择将非数字显示为 的某个变体`NaN`，而其他平台选择将其显示为 的某个变体`IND`。

> 我们如何在 c++ 中表示两者。

`std::numeric_limits<double>::quiet_NaN()`（或`float`或`long double`，如果您愿意）。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-08T06:58:07.557

如果您的操作生成的正数大于双精度数，则该操作将`1.#INF`在 Windows 上返回或在 Linux 上返回 inf

某些运算没有数学意义，例如取负数的平方根。两者都将返回 NaN `sqrt(-1.0)`，`log(-1.0)`即“非数字”的“数字”的通用术语。

Windows 将 NaN 显示为 `-1.#IND`（“IND”表示“不确定”），而 Linux 显示`nan`. 其他会返回 a 的操作`NaN`包括 0/0、0*∞ 和 ∞/∞。

[参考链接1](http://www.johndcook.com/IEEE_exceptions_in_cpp.html)

[参考链接2](https://stackoverflow.com/questions/1923837/how-to-use-nan-and-inf-in-c)

# java - 打开 Eclipse IDE 时出现 verify.dll not found 错误消息

> ID：15288409
> 
> 赞同：2
> 
> 时间：2013-03-08T06:55:14.623
> 
> 标签：java, eclipse

我的 Eclipse IDE（INDIGO）直到上周都运行良好。但是现在，当我尝试打开我的 Eclipse 时，出现“此应用程序无法启动，因为未找到 verify.dll。重新安装应用程序可能会解决此问题。” 我用谷歌搜索了这个错误，我做了一些尝试，但它不起作用。:(

![在此处输入图像描述](../Images/2be4f49eac59bec4df0f5dd66e4f0722.png)

我所做的尝试：

1.  下载 verify.dll 并放在 eclipse 根目录下的 plugins 文件夹中。
2.  下载 verify.dll 并放在 windows32 文件夹中。
3.  下载了不同的 Eclipse 版本，并为这些版本获得了相同的错误消息。

请...帮我解决这个错误。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-10-18T12:53:14.387

我解决了这个问题如下：

在我的 C:\ 驱动器上搜索“verify.dll”。

在 C:\Program Files\Java\jdk1.7.0_17\bin 中找到它

在我的 PATH 环境变量中，我有一个 C:\Program Files\Java\jre7\bin 的路径，它不包含 verify.dll 文件。

将PATH变量中的路径改为C:\Program Files\Java\jdk1.7.0_17\bin，重新启动Eclipse成功。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-04T13:00:09.720

我已将 Java 的路径（Juno 4.2 出现问题）更改为 C:\Program Files (x86)\Java\jdk1.7.0_45\jre\bin （Windows 8 操作系统）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-01-15T20:40:20.960

尝试在`verify.dll`这里复制一个有效的：
`C:\Program Files\Java\jdk1.7.0_??\jre\bin`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-08T06:58:21.193

那么，您是否尝试过卸载并重新安装它？正如对话框中所述，这应该会有所帮助。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-04-30T23:50:46.367

我有这个问题。我卸载了java和eclipse。然后我通过首先安装java而不是eclipse来重新安装它们，因为我读到java必须在eclipse之前安装并且它为我修复了它。

# extjs4 - 如何仅为列表中的项目子集提供披露按钮？

> ID：15288415
> 
> 赞同：2
> 
> 时间：2013-03-08T06:55:20.243
> 
> 标签：extjs4, sencha-touch, sencha-touch-2

我有一个要求，我只需要为 Sencha List 中的某些项目添加披露按钮。关于如何做到这一点的任何想法？

将 onItemDisclosure 设置为 TRUE 会为列表中的所有项目启用此选项。但我只想根据某些条件为子集启用它。

任何帮助都深表感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T09:52:10.380

使用 List 的[公开属性](http://docs.sencha.com/touch/2-0/#!/api/Ext.dataview.List-cfg-disclosureProperty)。从文档：

要检查每条记录以显示每条记录的披露的属性。此属性必须为 false 以防止在项目上显示披露。

默认为：“披露”

因此，您只需将调用的字段添加`disclosure`到您的模型中即可。

```
Ext.define('MyModel', {
    extend:'Ext.data.Model',

    fields:[//other fields
        {
            name:'disclosure',
            convert: function(value, record){
                // logic to determine if disclosure should be displayed.
                // return Boolean value
            }
        }
    ]
}); 
```

# windows-phone-7 - 在 Windows Phone Silverlight 应用程序中使用 XNA 库

> ID：15288417
> 
> 赞同：0
> 
> 时间：2013-03-08T06:55:29.400
> 
> 标签：windows-phone-7, xna-4.0

我正在为 Windows Phone 开发。我想问我可以在 Windows Phone Silverlight 应用程序中使用 XNA 库吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T07:04:15.397

是的你可以。例如，当使用 MediaLibrary 播放歌曲时，您必须使用 XNA 库。如果您想混合使用 XAML 和 XNA，那么您有一个专门用于此目的的特殊项目类型。这在构建具有大量用于排行榜、设置等的 UI 的游戏时很有用。

# c# - 如何向 listBox 添加另一个项目？

> ID：15288422
> 
> 赞同：2
> 
> 时间：2013-03-08T06:55:43.010
> 
> 标签：c#

我在一个方法中有这个代码，我每秒在一个计时器中调用该方法：

```
data = new List<string>();
data.Add("Gpu Temeprature --- " + sensor.Value.ToString());
listBox1.DataSource = null;
listBox1.DataSource = data;
listBox1.Invalidate(); 
```

它首先每秒更新列表框中的一个值作为一个项目。现在我想在第二行添加一个新项目，这样它们都会每秒更新一次，所以在计时器事件中我调用另一个方法，里面有这个代码：

```
// data = new List<string>();
data.Add("Cpu Temeprature --- " + sensor.Value.ToString());
listBox1.DataSource = null;
listBox1.DataSource = data;
listBox1.Invalidate(); 
```

如果我将使用 data = new List(); 在第二种方法中，它将两个项目放在列表框中的相同位置。如果我不使用此数据 = new List(); 然后第二个会一直闪烁，每一秒都会闪烁，而且看起来不太好。

这是定时器事件：

```
private void timer2_Tick(object sender, EventArgs e)
{
    if (tempCpuValue >= (float?)nud1.Value || tempGpuValue >= (float?)nud1.Value)
    {
        soundPlay = true;
        blinking_label();
        NudgeMe();
    }
    else
    {
        soundPlay = false;
        stop_alarm = true;

    }
    cpuView();
    gpuView();
} 
```

cpuView() 和 gpuView() 是我在计时器中调用的两个方法，用于更新列表框。

我还有另外两个 listBox 事件：

```
private void listBox1_MeasureItem(object sender, MeasureItemEventArgs e)
{
    e.ItemHeight = 25;
}    

private void listBox1_DrawItem(object sender, DrawItemEventArgs e)
{
    if (e.Index == -1)
    {
    }
    else
    {
        ColorText.ColorListBox(data, e);
    }
} 
```

ColorText 是在一个新的类中，我在其中删除了列表框中的项目。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T07:07:27.143

如果您想继续这样做，您可以执行以下操作：

尝试将数据初始化、数据源和失效移到这些功能块之外，如下所示：

```
private void timer2_Tick(object sender, EventArgs e)
        {
            if (tempCpuValue >= (float?)nud1.Value || tempGpuValue >= (float?)nud1.Value)
            {
                soundPlay = true;
                blinking_label();
                NudgeMe();
            }
            else
            {
                soundPlay = false;
                stop_alarm = true;

            }
            data = new List<string>();
            cpuView();
            gpuView();
            listBox1.DataSource = data;
            listBox1.Invalidate();
        } 
```

并将它们从功能中删除，这样您就不会重复执行两次。

* * *

这可能可以使用 BindingList 更有效地完成。将数据更改为：BindingList Data = new BindingList();

然后，您永远不需要创建新列表。将所需的两个值添加到此绑定列表中，然后设置 listbox.DataSource = bindinglist。然后在您的 GPU/CPU 函数中，您只需要更新列表 IE 的索引：

数据[0] = "CPU 温度 --- " + sensor.Value.ToString());

并且 bindinglist 应该处理更新列表框。

# ios6 - 在tapku中加载日历后如何在日期图块上添加更多标记？

> ID：15288430
> 
> 赞同：0
> 
> 时间：2013-03-08T06:56:03.627
> 
> 标签：ios6

我在我的 iOS 应用程序中使用 TAPKU 日历。在tapku日历中加载完整数据后，我想在日期磁贴上添加更多标记。

我从异步进程中获得了一些额外的数据，我想在日历上也标记这些数据。

我怎样才能做到这一点。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-09T02:37:50.347

这确实是可能的，以日历视图为例，将 _refreshDataPageWithAtIndex 修改为如下所示：

```
- (void) _refreshDataWithPageAtIndex:(NSInteger)index{

    UIScrollView *sv = self.pages[index];
    TKTimelineView *timeline = [self _timelineAtIndex:index];

    CGRect r = CGRectInset(self.horizontalScrollView.bounds, HORIZONTAL_PAD, 0);
    r.origin.x = self.horizontalScrollView.frame.size.width * index + HORIZONTAL_PAD;
    sv.frame = r;

    timeline.startY = VERTICAL_INSET;

    for (UIView* view in sv.subviews) {
        if ([view isKindOfClass:[TKCalendarDayEventView class]]){
            [self.eventGraveYard addObject:view];
            [view removeFromSuperview];
        }
    }

    if(self.nowLineView.superview == sv) [self.nowLineView removeFromSuperview];
    if([timeline.date isTodayWithTimeZone:self.timeZone]){

        NSDate *date = [NSDate date];
        NSDateComponents *comp = [date dateComponentsWithTimeZone:self.timeZone];

        NSInteger hourStart = comp.hour;
        CGFloat hourStartPosition = hourStart * VERTICAL_DIFF + VERTICAL_INSET;

        NSInteger minuteStart = round(comp.minute / 5.0) * 5;
        CGFloat minuteStartPosition = roundf((CGFloat)minuteStart / 60.0f * VERTICAL_DIFF);

        CGRect eventFrame = CGRectMake(self.nowLineView.frame.origin.x, hourStartPosition + minuteStartPosition - 5, NOB_SIZE + self.frame.size.width - LEFT_INSET, NOB_SIZE);
        self.nowLineView.frame = eventFrame;
        [sv addSubview:self.nowLineView];

    }

    if(!self.dataSource) return;

    timeline.events = [NSMutableArray new];
    [self.dataSource calendarDayTimelineView:self eventsForDate:timeline.date andEvents:timeline.events success:^{
        [timeline.events sortUsingComparator:^NSComparisonResult(TKCalendarDayEventView *obj1, TKCalendarDayEventView *obj2){
            return [obj1.startDate compare:obj2.startDate];
        }];

        [self _realignEventsAtIndex:index];
        if(self.nowLineView.superview == sv)
            [sv bringSubviewToFront:self.nowLineView];
    }];
} 
```

然后将您的 eventsForDate 函数更改为如下所示：

```
- (void) calendarDayTimelineView:(TKCalendarDayView*)calendarDayTimeline eventsForDate:(NSDate *)eventDate andEvents:(NSMutableArray *)events success:(void (^)())success {

    [Model doSomethingAsync andSuccess:^(NSArray *classes) {

        // .. Add stuff to events..

        success();
    }];
} 
```

我假设其他控件的模式非常相似。前提是您正在等待继续格式化/布局流程，直到获得数据。

# java - 7.1 的黑莓应用程序兼容性

> ID：15288436
> 
> 赞同：1
> 
> 时间：2013-03-08T06:56:30.170
> 
> 标签：java, blackberry, sdk, compatibility

我已经使用 BB SDK 5.0 开发了黑莓应用程序并对其进行了测试，直到 7.0 SDK 并且完美运行到 7.0。

我没有适用于 7.1 SDK 的设备或模拟器，那么我的应用程序是否也可以在 7.1 SDK 上运行？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T08:33:50.057

根据我的经验，如果您在 SDK 5 上开发，它应该可以在 5 以上的任何设备上运行良好（当然 10 除外）

但是，我强烈建议您至少在模拟器/设备上进行测试，而不是仅仅假设您的应用程序的所有功能都在那里。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-18T08:22:32.817

请阅读 BB SDK 7.1 的[发行说明](http://developer.blackberry.com/java/documentation/nitr_7_1_1970851.html)。本文档描述了大部分（如果不是全部）重要的 API 更改。

您还可以通过[japi-compliance-checker](https://github.com/lvc/japi-compliance-checker)工具比较所有 SDK JAR 的新旧版本来检查 BB SDK 7.0 和 7.1 的二进制兼容性，并检查您的应用程序是否使用了更改的特定 API 接口。

# jsp - 如何在同一页面的页面刷新时维护 Droplist 选定项？

> ID：15288442
> 
> 赞同：2
> 
> 时间：2013-03-08T06:57:00.247
> 
> 标签：jsp, jakarta-ee, servlets

当我单击提交按钮并在同一页面重定向时，如何才能拥有我的 ddl 的相同选定项目？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T08:55:02.937

我希望您在单击时必须将`all`DDL1 和`M`DDL2 作为请求参数发送到服务器`search`。

如果搜索将您带到您的 servlet 以获取搜索结果或执行任何类型的业务逻辑，而不是在重定向或转发到包含 DDL 的 JSP 之前，您可以添加`all`&`M`请求参数作为请求属性，然后在 JSP 中检查那些根据值请求属性`<option>`。

我假设您的代码可能如下所示：

***JSP 代码片段***

```
<select name="ddl1">
    <option value="0">all</option>
    <option value="A">A</option>
    <option value="B">B</option>
    <option value="C">C</option>
    <option value="D">D</option>
</select>

<select name="ddl2">
    <option value="0">All</option>
    <option value="L">L</option>
    <option value="M">M</option>
    <option value="N">N</option>
    <option value="O">O</option>
</select> 
```

***Servlet 代码片段***

```
String ddl1Param = request.getParameter("ddl1");
String ddl2Param = request.getParameter("ddl2");

// your business logic
// ...

request.setAttribute("ddl1Attr", ddl1Param);
request.setAttribute("ddl2Attr", ddl2Param);

// your forward or redirect logic goes here
// ... 
```

现在更改后的 JSP 代码将如下所示：

我们刚刚`<c:if>`在每个选项块中包含了一个条件，以检查返回的属性是否等于选项值，如果是，则将为选项放置该[`selected`属性。](http://www.w3schools.com/tags/att_option_selected.asp)

我正在使用[JSP 表达式语言 (EL)](http://refcardz.dzone.com/refcardz/essential-jsp-expression "关于 EL 的简短教程")。

```
<select name="ddl1">
    <option value="0" <c:if test="${'0' eq ddl1Attr}">selected</c:if>>all</option>
    <option value="A" <c:if test="${'A' eq ddl1Attr}">selected</c:if>>A</option>
    <option value="B" <c:if test="${'B' eq ddl1Attr}">selected</c:if>>B</option>
    <option value="C" <c:if test="${'C' eq ddl1Attr}">selected</c:if>>C</option>
    <option value="D" <c:if test="${'D' eq ddl1Attr}">selected</c:if>>D</option>
</select>

<select name="ddl2">
    <option value="0" <c:if test="${'0' eq ddl2Attr}">selected</c:if>>all</option>
    <option value="L" <c:if test="${'L' eq ddl2Attr}">selected</c:if>>L</option>
    <option value="M" <c:if test="${'M' eq ddl2Attr}">selected</c:if>>M</option>
    <option value="N" <c:if test="${'N' eq ddl2Attr}">selected</c:if>>N</option>
    <option value="O" <c:if test="${'O' eq ddl2Attr}">selected</c:if>>O</option>
</select> 
```

* * *

***另一种方法***

如果您只是将单击搜索时的请求转发到同一个 JSP（即两者之间没有 servlet），那么 JSP 代码可以修改为：

要么你可以使用`param.ddl1`要么`param["ddl1"]`，它是一样的。此 EL 获取请求参数`ddl1`和`ddl2`.

```
<select name="ddl1">
    <option value="0" <c:if test="${'0' eq param.ddl1}">selected</c:if>>all</option>
    <option value="A" <c:if test="${'A' eq param.ddl1}">selected</c:if>>A</option>
    <option value="B" <c:if test="${'B' eq param.ddl1}">selected</c:if>>B</option>
    <option value="C" <c:if test="${'C' eq param.ddl1}">selected</c:if>>C</option>
    <option value="D" <c:if test="${'D' eq param.ddl1}">selected</c:if>>D</option>
</select>

<select name="ddl2">
    <option value="0" <c:if test="${'0' eq param['ddl2']}">selected</c:if>>all</option>
    <option value="L" <c:if test="${'L' eq param['ddl2']}">selected</c:if>>L</option>
    <option value="M" <c:if test="${'M' eq param['ddl2']}">selected</c:if>>M</option>
    <option value="N" <c:if test="${'N' eq param['ddl2']}">selected</c:if>>N</option>
    <option value="O" <c:if test="${'O' eq param['ddl2']}">selected</c:if>>O</option>
</select> 
```

* * *

另一种方法是将值存储在`session`. 但我认为坚持`request`会更好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T09:13:40.753

您无法存储从表单提交的数据，因为您被重定向到页面。我能想到的选项是将它存储在会话中并传递它。

这个 SO question 应该可以帮助您[如何在 Session 中设置数据](https://stackoverflow.com/questions/5766521/how-do-you-store-java-objects-in-httpsession)

# html - 如何在 HTML 中显示多字节数组图像

> ID：15288447
> 
> 赞同：1
> 
> 时间：2013-03-08T06:57:23.383
> 
> 标签：html, jsp, servlets, bytearray

我有一个字节数组图像列表。

我在 HTML 页面中显示图像。如果我想显示 25 个这样的图像，我必须访问数据库 25 次。

我想避免这种情况，请帮忙。

### HTML 代码

```
myProfile.init(function (map) {
    dom.byId("Image").src="UserImageDisplay?&userId="+map["userId"];    
} 
```

### Java 代码

```
byte[] image = userSession.getPhoto(Integer.parseInt(request.getParameter("userId"));

response.setContentType("image/imagetype");

OutputStream out = response.getOutputStream();

out.write(image);
out.flush();
out.close(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T09:10:01.543

好吧，您已经从某个地方获得了图像，无论是数据库还是文件服务器。

既然你已经建议了，你不想每次都从数据库加载它。

这是我为提高性能而要做的事情。

1）`Cache your images`每当您从数据库中获取一个（缓存中不可用的）时。2）`The cache can be Server Memory`（强烈建议不要这样做，因为你会很快耗尽内存）`or cache the images in local storage`，。

3) `Storing of images in the cache`，可以是`done realtime`当从Web App 请求文件时，或者`you could schedule a cron/batch job`事先这样做。最好在非高峰时段。

之间的选择`3 and 4 depends on how frequent the images are updated in the Database`。我会把它留给你。

4）你可以明确地。你可以用[标签](http://www.metatags.info/meta_http_equiv_cache_control)`specify the browser to cache the images`来完成它

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T07:01:48.573

我认为你应该缓存你的图像。

最好是您启动一个生成图像文件的 cron 作业。

# c# - 要加载的 Web 应用程序或 Windows 应用程序 ??????.config

> ID：15288452
> 
> 赞同：0
> 
> 时间：2013-03-08T06:57:48.297
> 
> 标签：c#, asp.net, .net

我有一个项目，其中一些类根据可在 app.config 或 web.config 中配置的参数进行操作。

项目/类在 Web 环境中的交互与在 Windows 应用程序环境中的交互一样多。问题是：我如何检测它是什么类型的项目，知道我应该阅读 app.config 还是 web.config？

目前，我有两个加载数据的类，一个是 Web 类，一个是 Windows 应用程序；我怎样才能制作一个决定使用哪个的？我必须修改我的代码以使用其中一个，这会影响我对公共类的维护。

我附上这些类作为参考：

```
namespace MyAppSetting.Windows
{
    public class MyGetConfig
    {
        private static Assembly currentAssembly = Assembly.GetCallingAssembly();
        private static Configuration FileAppConfig = ConfigurationManager.OpenExeConfiguration(AppDomain.CurrentDomain.BaseDirectory + AppDomain.CurrentDomain.FriendlyName.Replace(".svhost", ""));
        private static AppSettingsSection App_Config = FileAppConfig.AppSettings;

        public static string getValue(string Key, string DefaultValue = "")
        {
            // If it's null it doesn't exist ... if it's not null and Update Default if it's blank And there is a default value, and the config is blank
            if (App_Config.Settings[Key] == null || App_Config.Settings[Key].Value == null || App_Config.Settings[Key].Value.Trim() == "")
                return DefaultValue;
            return App_Config.Settings[Key].Value;
        }
    }
}

namespace MyAppSetting.Web
{
    public class MyGetConfig
    {
        private static System.Collections.Specialized.NameValueCollection App_Config = System.Web.Configuration.WebConfigurationManager.AppSettings;

        public static string getValue(string Key, string DefaultValue = "")
        {
            // If it's null it doesn't exist ... if it's not null and Update Default if it's blank And there is a default value, and the config is blank
            if (App_Config[Key] == null || App_Config[Key].Trim() == "")
                return DefaultValue;
            else
                return App_Config[Key];
        }
    }
} 
```

* * *

## **我的解决方案**

我的最终解决方案是这样的：

```
 #region Win App Resources 4 Read Configuration
    private static Configuration FileAppConfig = null;
    private static AppSettingsSection winApp_Config = null; 
    #endregion Win App Resources 4 Read Configuration

    #region WEB App Resources 4 Read Configuration
    private static System.Collections.Specialized.NameValueCollection webApp_Config = null;
    #endregion WEB App Resources 4 Read Configuration

    public static void Inicialize()
    {
        FileAppConfig = null;
        winApp_Config = null;
        webApp_Config = null;
        try
        {
            FileAppConfig = ConfigurationManager.OpenExeConfiguration(AppDomain.CurrentDomain.BaseDirectory + AppDomain.CurrentDomain.FriendlyName.Replace(".vshost", ""));
            winApp_Config = FileAppConfig.AppSettings;
            TipoDeApp = TipoApp.Win;
        }
        catch
        {
            try
            {
                webApp_Config = System.Web.Configuration.WebConfigurationManager.AppSettings;
                TipoDeApp = TipoApp.Web;
            }
            catch { TipoDeApp = TipoApp.Desconocido; }
        }
    } 
```

接下来...通过 XMLDocument 读取设置...。（基于[Read config file using XMl reader](https://stackoverflow.com/questions/3868179/read-config-file-using-xml-reader)）

```
 public static string getValueFromSection(string Key, string DefaultValue = "", string Section = "appSettings")
    {
        Section = Section.Trim() == "" ? "appSettings" : Section.Trim();
        try
        {
            var dic = new Dictionary<string, string>();

            if (AllwaysLoadFromConfigFile || FileAppConfig == null)
                Inicialize();

            // Idea original: https://stackoverflow.com/questions/3868179/read-config-file-using-xml-reader
            XmlDocument xdoc = new XmlDocument();

            if (TipoDeApp == TipoApp.Win)
                xdoc.Load(FileAppConfig.FilePath);
            else if (TipoDeApp == TipoApp.Web)
                xdoc.Load(AppDomain.CurrentDomain.BaseDirectory + "web.config");
            else
                return DefaultValue;

            foreach (XmlNode node in xdoc.SelectSingleNode("/configuration/" + Section))
                if ((node.NodeType != XmlNodeType.Comment) && node.Attributes["key"] != null && node.Attributes["key"].Value != null)
                    if (!dic.ContainsKey(node.Attributes["key"].Value.ToUpper()))
                        dic.Add(node.Attributes["key"].Value.ToUpper(), node.Attributes["value"] == null || node.Attributes["value"].Value == null ? "" : node.Attributes["value"].Value);
                    else
                        dic[node.Attributes["key"].Value.ToUpper()] = node.Attributes["value"] == null || node.Attributes["value"].Value == null ? "" : node.Attributes["value"].Value;

            if (dic != null && dic[Key.ToUpper()] != null)
                return dic[Key.ToUpper()];
        }
        catch { }
        return DefaultValue;
    } 
```

最后，我的配置文件是：

```
 <configSections>
    <sectionGroup name="MySectionGroup">
      <section name="MySection1" type="System.Configuration.NameValueSectionHandler" />
      <section name="MySection1" type="System.Configuration.NameValueSectionHandler" />
    </sectionGroup>
  </configSections>

  <MySectionGroup>
    <MySection1>
      <add key="MyParam1" value="Hello" />
      <add key="MyParam2" value="3.1416" />
    </MySection1>
    <MySection2>
      <add key="MyParam1" value="true" />
      <add key="MyParam2" value="Another value" />
    </MySection2>
  </MySectionGroup> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T08:13:07.920

您不必知道您所在的项目类型。只需参考您的应用设置：

```
 ConfigurationManager.AppSettings["key"] 
```

这在 Web 应用程序和桌面应用程序中的工作方式相同。

# shell - 如何在vb中通过shell方法传递变量？

> ID：15288457
> 
> 赞同：0
> 
> 时间：2013-03-08T06:58:17.963
> 
> 标签：shell, command-line, vb6

我看到了这个问题 [相关的问题](https://stackoverflow.com/questions/9076225/passing-parameters-in-shell-command-in-vb-6)

在这种情况下，字符串是“wibble”，但是如果我的字符串在变量中怎么办。那我怎么通过。例子

```
 Dim lng As String 
```

如何将 lng 作为命令行传递给 exe 应用程序。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T10:35:49.980

如果要接收命令行参数：

传递给 vn6 应用程序的命令行由名为“command”的全局字符串变量捕获

注意：该变量将包含整个命令行，而不是像 C 那样在数组中。您需要显式解析命令变量。

例如有点像：

```
Dim lng As String
Dim lngValue As long
....
....
sub main
lng = command$
lngValue = val(lng)
....
....
end sub 
```

* * *

如果要发送命令行参数：

你可以简单地使用字符串连接来做到这一点：

```
Shell("""PathName.exe"" """ & lng & """ ""wibble 2""", vbNormalFocus) 
```

# asp.net - DotNetNuke 7 - 将 ajax 控件添加到模块时编辑页面菜单不起作用

> ID：15288459
> 
> 赞同：6
> 
> 时间：2013-03-08T06:58:25.067
> 
> 标签：asp.net, ajax, dotnetnuke, dotnetnuke-module

我正在创建一个简单的 DotNetNuke 模块，每次我添加一个包含 ajax 的控件时，它都会以某种方式干扰编辑页面菜单。有问题的控件来自 Syncfusion，它是数字文本框。只要我使用标准的 Microsoft 用户控件，页面和菜单功能就可以正常工作。例如，如果我更改 asp.net 或 html 的 ajax 数字文本框，那么它运行良好。一旦我添加了 ajax 文本框，那么编辑页面菜单就不起作用了。有没有其他人遇到过这个问题？

附加信息：Syncfusion 控件不需要任何特定的 jQuery 版本。DNN 事件查看器上没有记录错误。我一直在尝试使用 FireBug 跟踪轨迹，但它什么也没显示。
我附上了屏幕截图以帮助可视化问题。 ![在此处输入图像描述](../Images/c2a5de811e08ae696c59329a16e0a466.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-11T23:43:55.497

发生这种情况是因为 jQuery 冲突。syncfusion 控件加载它们自己的 jQuery 库。为避免模块中出现问题，请在 DNN Web 配置文件的 appSettings 部分添加一个键：

“SFjQueryLoad”值=“假”

这将导致控件仅使用 DNN 网站提供的 jQuery 库。

# php - 验证客户端 JavaScript 事件的最佳方式

> ID：15288462
> 
> 赞同：0
> 
> 时间：2013-03-08T06:58:34.613
> 
> 标签：php, javascript, ajax, authentication, http-post

所以我有一个 JavaScript 和 php 网络应用程序。在我的应用程序中，有时 JavaScript 会调用创建帖子的 POST 请求。我想知道验证我的请求以防止任何人访问该 URL 的最佳方法是什么。它不需要那么灵活。我不会有多个应用程序。我只需要 php 和 JavaScript 中的一个案例解决方案。

**编辑**：第二个问题。是否只是确保请求来自的 URL 足够？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T07:00:58.303

你不能。

当请求来自 JavaScript 时，您可以执行诸如向请求添加额外标头之类的操作，但是由于您必须将有关如何执行此操作的说明发送到浏览器，因此任何人都可以阅读它们并为他们自定义构建的非 JS 复制它们要求。

在 WWW 上，您可以对人员进行身份验证（使用凭据），但您不能对客户端进行身份验证（除非您在已编译的捆绑包中提供客户端软件……即使这样也不可靠，官方的 Twitter 客户端身份验证密钥已被广泛使用现在）。

> 是否只是确保请求来自的 URL 足够？

如果您的意思是“检查引用标头”，那么不会。这是由客户设置的，客户可以将其设置为他们喜欢的任何内容。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T07:02:46.870

最好的办法可能是建立一个 PHP 会话并将存储在 $_SESSION 中的标识发送到 javascript。在每个 AJAX POST 中，您添加此标识并将其在服务器端检查到存储在 $_SESSION 中的内容。如果它们不匹配，则可能是有人试图操纵 URL 或 CSRF。

如果您想阻止原始客户端在会话中执行多个请求，您需要从服务器向客户端发送一个只能使用一次的通知号。见： [http ://en.wikipedia.org/wiki/Cryptographic_nonce](http://en.wikipedia.org/wiki/Cryptographic_nonce)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T07:02:14.467

您可以将此行放在脚本的顶部

```
<?php  if ( ! defined('BASEPATH')) exit('Permission denied: direct access'); 
```

作为您将 POST 发送到的 php 文件的第一行。

**编辑**- >或类似的东西

```
 if(!isset($_POST))
   {
      die('no direct access allowed');
   }
   else
   {

     //all your PHP code

    } 
```

您还可以在帖子中包含您自己的变量并将其用于

> isset($_POST['你的变量'])

去检查。

# class - NetBeans 导入类包问题

> ID：15288463
> 
> 赞同：0
> 
> 时间：2013-03-08T06:58:51.123
> 
> 标签：class, netbeans, import, packages

我在 Java 中创建了一个类，我需要将其导入 NetBeans 并在 GUI 中使用。到目前为止，我所做的是将包含类的 jar 文件添加到我的项目中的库中。我可以查看 jar 文件并在 . 我在网上环顾四周，知道导入这些类的最好方法是将它们移动到另一个不是 .

我的问题是我不知道该怎么做。我看到我可以在netbeans中创建一个包，但是它出现时是灰色的，我似乎无法用它做任何事情。我基本上不知道如何创建可用于导入类的包如果有人可以逐步指导我，我将不胜感激。我查看了该网站和其他在线地方的其他帖子，但他们似乎跳过了我不确定的内容。我的老师也没有提到包裹，所以我真的一头雾水。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T13:35:53.660

您可以将源文件 ( `*.java`) 复制到项目`src`文件夹中，然后使用[重构](http://wiki.netbeans.org/Refactoring)来更改包。

右键单击您的 java 文件，然后选择`Refactor > Move`并键入您的新包名称。

# c# - 将行为传播到层次结构中的正确方法

> ID：15288465
> 
> 赞同：0
> 
> 时间：2013-03-08T06:59:20.350
> 
> 标签：c#, design-patterns

假设我有两个设置（为了简单起见）改变了我的类型在可重用库中的行为。

我可以定义一个配置类：

```
class Config {
  public bool Behaviour1 { get; set; }
  public bool Behaviour2 { get; set; }
} 
```

如果我这样做，我必须将实例从*组合根*（无论是否使用 IoC 处理）传播到整个层次结构。

代码将被大量条件语句侵入，降低可读性、可维护性和可扩展性。

定义两种行为类型不是更好吗？

```
public class Behaviour1 : IBehaviour1 {}

public class Behaviour2 : IBehaviour2 {} 
```

删除其他类型从`Config`. 比每个需要行为的类都依赖于`IBehaviourX`它的工厂，它的工厂将根据`Config`类型注入适当的具体。

这样，只有少数*顶级*类型将取决于 Config 并且分配*行为*的行为（请原谅双关语）不会传播到整个层次结构。

在这种情况下，我对您的解决方案感兴趣。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:07:31.410

您可能会想到[创建方法](http://c2.com/cgi/wiki?CreationMethod)设计模式。

必须根据配置参数更改类的行为会出现问题，因为这样您的类将明显违反 SRP 规则，创建子类并使用虚拟/覆盖方法来获得与配置相关的所需行为并使用创建方法模式得到正确的对象

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-09T05:36:25.960

我会说你在将你的行为实现为类/接口而不是处理条件等差异方面走在正确的轨道上。

您可能想看看[策略模式](http://en.wikipedia.org/wiki/Strategy_pattern)，因为您当前的想法似乎正朝着这个方向发展。使用 IoC，您的想法应该可以正常工作，这可能是我愿意接受的。

# javascript - CanJS 将待办事项存储到文件中

> ID：15288475
> 
> 赞同：0
> 
> 时间：2013-03-08T06:59:57.060
> 
> 标签：javascript, jquery, canjs, canjs-model

我正在使用具有列表的 CanJS 编写 SPA，用户可以添加列表。我想通过将新添加的项目写入文件来永久存储它。有人能帮我吗？

```
'.btn_save click': function (ele, ev) {
        var self = this;
        var val = this.$input.val();
        // get the currently selected model
        var model = this.state.attr('selected');
        // store if it is new
        var isNew = model.isNew();
        // update the attributes
        model.attr('name', val);
        // save it
        model.save(function (library) {
            if (isNew) {
                // if new then append it to the list
                self.libraries.push(library);
            }

            self.resetSelected();
        });
        return false;
    }, 
```

这会临时保存当前浏览会话的项目。我想永久保存它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T14:20:17.160

TodoMVC示例使用[localstorage](https://github.com/addyosmani/todomvc/tree/gh-pages/architecture-examples/canjs)进行永久存储。如果你包括`can.localstorage.min.js`你可以像这样使用它：

```
var Todo = can.Model.LocalStorage({
    storageName: 'todos-canjs'
}, {
}); 
```

这会将您的模型数据永久存储在浏览器的本地存储中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-09T11:51:47.257

您可以使用 HTML5 FileWriter API 将列表本地保存到文件中。看到[这个问题](https://stackoverflow.com/questions/4309958/can-i-write-files-with-html5-js)。除非使用 HTML5，否则无法在用户计算机上使用 javascript 保存文件。

# android - 溢出菜单未在 Android 4.2.2 中显示

> ID：15288476
> 
> 赞同：4
> 
> 时间：2013-03-08T06:59:59.217
> 
> 标签：android, android-actionbar, actionbarsherlock, android-menu

![在此处输入图像描述](../Images/e17569d08771aeb79e94fcbf86b05b1f.png)

我正在遵循简单的教程，问题是它在 Android 4.2.2 中没有显示溢出菜单。如果我按下硬件菜单按钮，它会显示列出的菜单。

xml代码：

```
<item
    android:id="@+id/add_item"
    android:icon="@drawable/ic_action_emo_laugh"
    android:showAsAction="ifRoom"
    android:title="Emo Laugh"
  >
</item>
<item
    android:id="@+id/about"
    android:icon="@drawable/ic_action_emo_tongue"
    android:showAsAction="never"
    android:title="Emo TOngue"
    >
</item> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-08T07:10:02.747

@TalhaMir 对。如果您想确保溢出菜单始终可见，您可以使用此解决方法

```
<menu xmlns:android="http://schemas.android.com/apk/res/android">
       <item android:id="@+id/capture" android:icon="@drawable/ic_action_capture" android:showAsAction="always"/>
       <item android:id="@+id/location" android:icon="@drawable/ic_action_location" android:showAsAction="always"/>
       <item android:showAsAction="always" android:icon="@drawable/abs__ic_menu_moreoverflow_holo_dark">
           <menu>
               <item android:id="@+id/terms_of_service" android:title="@string/ab_terms_of_service"/>
               <item android:id="@+id/privacy_policy" android:title="@string/ab_privacy_policy"/>
               <item android:id="@+id/help" android:title="@string/ab_help"/>
           </menu>
       </item>
   </menu> 
```

或者你可以在你的类的`onCreate`方法中使用这个 hack`Application`

```
private void getOverflowMenu() {

     try {
        ViewConfiguration config = ViewConfiguration.get(this);
        Field menuKeyField = ViewConfiguration.class.getDeclaredField("sHasPermanentMenuKey");
        if(menuKeyField != null) {
            menuKeyField.setAccessible(true);
            menuKeyField.setBoolean(config, false);
        }
    } catch (Exception e) {
        e.printStackTrace();
    }
} 
```

但是这个 hack 破坏了兼容性，据我所知，它不适用于 Action Bar Sherlock

# java - 读取输入流android的正确方法

> ID：15288477
> 
> 赞同：3
> 
> 时间：2013-03-08T06:59:59.733
> 
> 标签：java, android, sockets

我在下面有一段代码是从 Android 上的套接字接收输入流。它工作正常，但是当手机进入睡眠状态时，我的记录器会疯狂打印出它收到的信息`""`。

从我的调试来看，这是否意味着我`if`在整个循环中的陈述是不够的？

```
//Global variable declaration
private OnMessageReceived mMessageListener = null;
byte[] buffer = new byte[100];   

 while (mRun) {
            int len = in.read(buffer);
            input = "";

            if (buffer != null && mMessageListener != null) {
                for (int i = 0; i < len; i++) {
                    input += (char) buffer[i];
                }
                // call the method messageReceived from MyActivity class
                mMessageListener.messageReceived(input);
                System.out.println("Recieved: " + input);
            }
            input = "";
        } 
```

那是我在`while`. 现在，我确定我没有在我的 : `if (buffer != null && mMessageListener != null)` 代码中测试正确的条件。

我还能测试什么/我可以测试什么是不正确的？

显然在`while`运行一次之后，缓冲区不是 == null 然后我假设当手机进入睡眠状态（屏幕变黑）`mMessageListener`时变为非 null ？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:30:08.527

1）你不应该使用 + 运算符来连接多个字符串，它很慢，请改用 StringBuilder。

```
 StringBuilder sb = new StringBuilder();
    for (int i = 0; i < len; i++) {
       sb.append((char)buffer[i]);
    }

    String input = sb.toString(); 
```

或者，如果您按单个字符加入，这可能会更快：

```
 char[] inputChars = new char[len];

    for (int i = 0; i < len; i++) {
       inputChars[i] = (char)buffer[i];
    }

    String input = new String(inputChars); 
```

有更短的方法可以实现这种效果..

```
 String input = new String(buffer); 
```

2）我不确定，但在这种情况下缓冲区永远不会变为空，所以 != null 语句毫无意义。如果没有读取数据，长度可以为 0，因此请检查 len != 0。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T07:36:11.027

**编辑**好吧，那里有许多看起来很刻薄的陈述。这就是所有的代码吗？您如何期望事物`null`自行变成或产生生命？

如果要使用 InputStream，最简单的方法是使用`Scanner`：

```
String text = new Scanner(in).useDelimiter("\\A").next(); 
```

这表示“扫描输入流`in`直到找到结尾”。您可以使用另一个分隔符将其拆分为多个部分。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T10:00:58.823

您应该检查`len`变量是否大于 0，read 方法将在到达流末尾时返回 -1，因此：

```
if (len>0 && buffer != null && mMessageListener != null) 
```

# javascript - 全局变量在 Chrome 中不是那么全局

> ID：15288478
> 
> 赞同：3
> 
> 时间：2013-03-08T07:00:05.630
> 
> 标签：javascript, jquery

我正在学习 JavaScript 并在 jQuery 的网站上阅读[本](http://learn.jquery.com/javascript-101/this-keyword/)教程。

在以下示例中

```
 // A function being attached to an object at runtime
    var myName = "the global object";
    var sayHello = function ()
    {
        console.log("Hi! My name is " + this.myName);
    };
    var myObject = {
        myName: "Rebecca"
    };
    var secondObject = {
        myName: "Colin"
    };

    myObject.sayHello = sayHello;
    secondObject.sayHello = sayHello;

    sayHello();              // "Hi! My name is the global object"
    myObject.sayHello();     // "Hi! My name is Rebecca"
    secondObject.sayHello(); // "Hi! My name is Colin" 
```

`sayHello()`调用时我看不到预期的输出。相反，变量是`undefined`. 但是，如果我通过将全局变量分配给它来定义`window.myName`它就可以了。

我正在使用 Chrome 版本 25.0.1364.152 m。

教程不正确还是我遗漏了什么？

完整的 HTML 在这里： http: [//pastebin.com/4M27vDB4](http://pastebin.com/4M27vDB4)

**更新**：接受的答案解释了发生的事情。我还想提一下可能的解决方案——在上面声明全局变量而不使用`var`. 因为以下：

> 此外，在没有 var 关键字的函数内声明的变量不是函数的本地变量——JavaScript 将遍历作用域链一直到窗口作用域以查找变量先前定义的位置。如果变量之前没有定义，它将在全局范围内定义，这可能会产生意想不到的后果。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-08T07:07:29.870

您已将此代码放入

```
$(document).ready(function ()
    // ...
}); 
```

关闭。在这种情况下，它里面的上下文不会是`window`（它将是`document`对象），你会得到`undefined`你所描述的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-08T07:11:22.583

在您使用过的程序中`this.myName`。`this`关键字用于指向当前对象。当你只打电话时，`sayHello()`在这种情况下“this”表示“window”，因为默认的当前对象是window。现在您还没有定义`window.myName`，那么它将给出“未定义”。

# python - 将所有外部模块导入一个文件？

> ID：15288479
> 
> 赞同：1
> 
> 时间：2013-03-08T07:00:10.280
> 
> 标签：python, django

我正在考虑将所有外部模块导入一个文件中，然后从该文件中导入。这样，如果/当我想换出一个外部模块时，我可以简单地编辑一个文件。

示例目录：

```
# django project
...
app1
    imports.py
app2
    utils.py
app3
    utils.py 
```

所以在 app1.imports.py 我有

```
from app2 import utils as ALIAS 
```

然后我在 app1 中的所有模块将从 app1.imports.py 导入 ALIAS。这样，如果/当我想使用 app3.utils 时，我可以简单地在 app1.imports.py 中进行一次更改

问题是我对 python 的了解不够好，无法知道这是否是个好主意。这样做有什么好处和坏处？我根本没有看到人们这样做，所以我猜这不是一个好主意？为什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:35:26.613

从 Python 文档[http://docs.python.org/2/tutorial/modules.html#more-on-modules](http://docs.python.org/2/tutorial/modules.html#more-on-modules)：

> 模块可以导入其他模块。... 导入的模块名称放置在导入模块的全局符号表中。

完全可以将所有可能模块的命名空间作为别名（ALIAS_1、ALIAS_2、...）导入单个模块，然后在需要时导入后一个模块的命名空间。

举个例子：

```
x.py    # Contains nothing

y.py    # Contains a single line which imports x as ALIAS
    import x as ALIAS

# Inside an interpreter session
>>> import x, y
>>> dir(x)
['__builtins__', '__doc__', '__file__', '__name__', '__package__']
>>> dir(y)
['ALIAS', '__builtins__', '__doc__', '__file__', '__name__', '__package__']
>>> dir(x) == dir(y.ALIAS)
True 
```

只要您不将导入模块的名称空间合并到导入模块的名称空间中，我就看不到任何副作用。

# android - 如何将照片从 android 设备发送到 FTP 服务器

> ID：15288482
> 
> 赞同：2
> 
> 时间：2013-03-08T07:00:19.083
> 
> 标签：android, ftp-server

如何将相机捕获的照片从 android 设备发送到 FTP 服务器

# css - 如何在使用 GWT-Bootstrap 的 GWT 项目中应用自定义样式

> ID：15288485
> 
> 赞同：1
> 
> 时间：2013-03-08T07:00:23.827
> 
> 标签：css, gwt, gwt-bootstrap

我正在为我的项目使用 GWTBootstrap 模态，问题是它的宽度对我来说太窄了。

我检查了它与萤火虫的样式并看到了这个

```
.modal {
background-clip: padding-box;
background-color: #FFFFFF;
border: 1px solid rgba(0, 0, 0, 0.3);
border-radius: 6px 6px 6px 6px;
box-shadow: 0 3px 7px rgba(0, 0, 0, 0.3);
left: 50%;
margin: -250px 0 0 -280px;
outline: medium none;
position: fixed;
top: 50%;
width: 560px;
z-index: 1050;
} 
```

我去了 Webapp/css 目录并对`bootstrap.min.css`

```
.modal {
width : 960px;
max-height : 960px;
} 
```

但它会被 gwt 编译器覆盖。

接下来我参考了[这个](https://stackoverflow.com/questions/11538463/use-custom-css-with-gwt) 创建了一个css文件custom-overrides.css

```
.modal {
    width : 960px;
    max-height : 960px;
} 
```

`<stylesheet src="/custom-overrides.css" />`并像在我的那样导入它 `gwt.xml` 也不起作用，eclipse警告我文件在编译时被更改或删除。

我还尝试在创建模态的 UIBinder 文件中进行相同的更改。

```
<ui:style>
    .modal{
        width : 960px;
    max-height : 960px;
    }
</ui:style> 
```

那也行不通。我很困惑，我应该怎么做才能应用我的样式？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-14T13:20:36.697

这是一个 twitter 引导问题：模式没有响应。

这应该在 Bootstrap 3.0 中修复。

关于解决方案，正如@mit 所说，它会起作用，但我必须警告您：除非您确切知道自己在做什么，否则这不是一个好习惯。

我会建议你为你的模态添加一个 ID，并为它编写特定的 CSS。这将消除与其他模式的混乱。由于 ID 更具体，因此您也不需要使用`!important`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-18T13:48:10.600

所有 3 种解决方案都应该有效。

1.  您可以覆盖，`bootstrap.min.css`但您必须在 gwt-bootstrap 库本身中执行此操作，因为当您编译应用程序时发现它会被覆盖。
2.  您也可以包含 a`custom-override.css stylesheet`但您必须确保它也覆盖原始引导文件中的 .modal 样式。您可以通过添加`!important`覆盖的 css 样式（即 ..e `width : 960px !important;`）来确保
3.  如果要覆盖`.modal`UiBinder 文件中的类，则必须使用[@external](https://developers.google.com/web-toolkit/doc/latest/DevGuideClientBundle?hl=no-NO#External_and_legacy_scopes)注释：

像这样的东西：

```
<ui:style>
    @external .modal;
    .modal{
        width : 960px;
        max-height : 960px;
    }
</ui:style> 
```

但是您可能还必须将`!important`规则添加到样式中

# ios - 需要使用我的临时个人资料重新签署 IPA 文件

> ID：15288491
> 
> 赞同：2
> 
> 时间：2013-03-08T07:00:47.953
> 
> 标签：ios, xcode, html, ipa, ios-provisioning

# 我尝试使用以下脚本退出一个**IPA**文件（项目是在**HTML 5下构建的），**

```
unzip application.ipa

rm -r "Payload/Application.app/_CodeSignature" "Payload/Application.app/CodeResources" 2> /dev/null | true

cp "/Users/playdom/Desktop/BA/Code/Profiles/something.mobileprovision" "Payload/Application.app/embedded.mobileprovision"

/usr/bin/codesign -f -s "iPhone Distribution: something" --resource-rules "Payload/Application.app/ResourceRules.plist" "Payload/Application.app"

zip -qr "Application.test.ipa" Payload 
```

==========================

它改变了标志，我可以在我的设备上安装 Build。但问题是每当我尝试启动我的应用程序时，它都会显示启动画面并崩溃！！！我用默认配置文件检查了 IPA（我想更改...），它工作正常。这意味着问题出在辞职过程中！！！

我尝试检查**Xcode/Organizer/Console**并看到它显示**权利**问题！！。**我使用其他IPA**（在 Obj C 下构建）遵循相同的脚本和流程，它工作正常。我不明白这是什么问题？我需要更改 info.plist、Bundle 标识符吗？我试过了，但在那之后它甚至没有安装！任何机构有任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T05:53:45.110

我不知道这应该如何工作。您无法在设备上运行为 App Store 分发签名的构建。我总是使用我的 App Store 构建并使用开发配置文件重新签署它们，以便在设备上对其进行测试。

# android - Galaxy Note 2 中的预测文本

> ID：15288492
> 
> 赞同：1
> 
> 时间：2013-03-08T07:00:52.780
> 
> 标签：android, android-edittext

我正在为 s3 、 note 2 和 nexus 4 制作应用程序。我的应用程序有一个文本，其焦点应该偏离输入任何单词的预测。为此，我将这些代码行放在 xml 中：

```
 <EditText
    android:id="@+id/start_edit"
    android:layout_width="match_parent"
    android:layout_height="50dp"
    android:layout_gravity="top|left"
    android:ems="10"
    android:hint="Type to search"
    android:paddingLeft="50dp"
      android:singleLine="true"
    android:inputType="text|textNoSuggestions" >

    <requestFocus />
</EditText> 
```

这段 `android:inputType="text|textNoSuggestions"`代码在 nexus 4 和 s3 上运行良好，但在 Note 2 上它不起作用意味着预测没有聚焦（在 edittext 中键入）

# c# - 根据 XSLT 将 HTML 转换为 XML

> ID：15288496
> 
> 赞同：1
> 
> 时间：2013-03-08T07:01:08.193
> 
> 标签：c#, html, xml, xslt, ektron

我正在寻找可以基于 xslt 将 html 转换为 xml 的解决方案。例如：

html:[这是来自 ektron（一个 CMS）的 html]

```
<p>Name:&#160;<input type="text" name="txtName" id="txtName" ektdesignns_caption="txtName" ektdesignns_name="txtName" title="txtName" ektdesignns_indexed="false" ektdesignns_nodetype="element" style="" size="24" class="design_textfield" value="Enter Name" />&#160;
</p>

<p>Age:<input type="text" name="txtAge" id="txtAge" ektdesignns_caption="txtAge" ektdesignns_name="txtAge" title="txtAge" ektdesignns_indexed="false" ektdesignns_nodetype="element" style="" size="24" class="design_textfield" />&#160;</p>

<p>Place:<input type="text" name="txtPlace" id="txtPlace" ektdesignns_caption="txtPlace" ektdesignns_name="txtPlace" title="txtPlace" ektdesignns_indexed="false" ektdesignns_nodetype="element" style="" size="24" class="design_textfield" />&#160;</p>

<p>&#160;Sex:<select name="rbSex" ektdesignns_maxoccurs="1" size="1" id="rbSex" ektdesignns_caption="rbSex" ektdesignns_name="rbSex" title="rbSex " ektdesignns_indexed="true" ektdesignns_nodetype="element" style="">
    <option selected="selected" value="0">(Select)</option>
    <option value="Male">Male</option>
    <option value="Female">Female</option>
    </select><span style="font-size: 12px; line-height: 0;">&#160;</span><br /><br />&#160;</p> 
```

我手头有相应的 XSLT。

从这两个我想要一个XML如下

```
<root>
  <txtName>DemoName</txtName>
  <txtAge>21</txtAge>
  <txtPlace>UK</txtPlace>
  <rbSex>Female</rbSex>
</root> 
```

我找到了一个执行此功能的应用程序 XMLWrench，但我需要一个 C#.net 解决方案，更像是一个 API 或其他东西。

**编辑二：**我也需要表单中的值，添加到 xml.eg：如果这些在名称文本框中存在名称，则应将其添加到 xml 节点中

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-28T09:56:47.433

如果您询问 smartform 配置 html 的 html，您可以使用以下方法。

使用 ContentDesignerWithValidator.ascx 中的 LoadPackage(m_refContApi, editorPackage) 和 TransformXsltPackage 方法将 html 转换为 xml。此页面位于 /Workarea/controls/Editor/ContentDesignerWithValidator.ascx

试试这个。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-08T16:37:01.157

如果您使用的是 Ektron，那么您可以使用 SmartForm，它允许您为内容编辑器创建 Web 表单 UI，但它将数据保存为 XML。要访问 XML，只需检索 ContentData 对象，您会注意到该对象的 html 属性是 XML。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-11T03:16:34.823

如果您真的必须访问 HTML -> XML 页面，那么我将使用[HTML 解析器](https://stackoverflow.com/questions/56107/what-is-the-best-way-to-parse-html-in-c)，然后以编程方式创建 XML。或者，如果您这样做，那么您可以跳过 XSLT/XML 阶段，只构建您的输出 XML。

但是，这个问题表明您使用了错误的方法，我同意[Charles Wesley 的回答](https://stackoverflow.com/a/15298900/57311)- 使用智能表格。Ektron HTML 表单用于简单的数据收集，其中数据可以导出到 Excel（例如简单的注册表单）就足够了。

智能表单存储为 XML。您可以通过 Ektron API 创建智能表单。

这是[一篇](http://www.ektron.com/Blogs/eGandalf/HTML-Form-to-Smart-Form/)关于结合智能表单和 Ektron HTML 表单的 eGandalf 博客文章，可能有用。

**编辑以回应评论-** 听起来您仍然走错路并试图与 Ektron 对抗。也许看看API？例如，对于日历项目，您可以使用[日历 API](http://reference.ektron.com/developer/framework/calendar/WebCalendarManager/)。

您评论说您希望解决方案*“更像 Ektron 的实际操作方式”*。Ektron 使用 XSLT 将 XML 转换为 HTML，**而不是**相反。您应该使用智能表单或 API 以 XML 格式获取结构化数据。HTML 内容应该不需要或需要最少的转换（如果需要转换 HTML，XSLT 不是解决方案）。

请阅读eGandalf关于将表单提交保存为智能表单[的博客文章。](http://www.ektron.com/Blogs/eGandalf/HTML-Form-to-Smart-Form/)我认为这涵盖了您的情况。

# html - 通过更改 CSS/HTML 中的类/ID 来更改布局

> ID：15288508
> 
> 赞同：-1
> 
> 时间：2013-03-08T07:02:21.223
> 
> 标签：html, css, css-float

我需要更改页面的布局（2列，一列，多列），只需更改body元素的类或ID，有一定的限制，正如我在做的时候所感觉到的。以前有人实施过吗？任何最佳做法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:10:22.663

使用其父元素定义主体类或 id...例如，您必须设置像“wrap1”和“wrap2”这样的 id...所以您可以同样实现它...

```
body#wrap1 .container { // Your Style }
body#wrap2 .container { // Your Style } 
```

对于按列划分，如果布局不够复杂，只需使用浮动 css...

# java - 分布式 3D 渲染

> ID：15288512
> 
> 赞同：-1
> 
> 时间：2013-03-08T07:02:33.423
> 
> 标签：java, hadoop, 3d, rendering, visualization

我是渲染世界的新手，尤其是 3D 渲染世界。

*   所以我想知道什么是最流行的（开源）渲染库（在 Java 中是理想的）或命令行实用程序（仅适用于 Linux）？
*   3D 渲染程序处理的最流行的输入文件格式是什么（我只听说过`.rib`格式）？

如果知道我的目标是什么，可能很容易向我提出任何建议：*我的目标是编写一些实验程序，可以将计算成本高的 3D 渲染分布在集群中的多个节点上（使用 Apache Hadoop）*。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:35:48.347

光线追踪器将是一个计算成本高昂的运行选项。考虑[Sunflow](http://sunflow.sourceforge.net)，它是在 MIT 许可下开源的。

# java - 在正则表达式中设置最小和最大字符

> ID：15288519
> 
> 赞同：28
> 
> 时间：2013-03-08T07:03:18.073
> 
> 标签：java, regex

我写了一个[正则表达式](http://en.wikipedia.org/wiki/Regular_expression)，它匹配任意数量的字母，字母之间有任意数量的单个空格。我希望该正则表达式也强制执行最小和最大字符数，但我不确定如何执行此操作（或者是否可能）。

我的正则表达式是：

```
[A-Za-z](\s?[A-Za-z])+ 
```

我意识到它只匹配围绕一个空格的两组字母，所以我稍微修改了它来解决这个问题。原来的问题仍然是一样的。

有没有办法强制至少三个字符和最多 30 个字符？

* * *

## 回答 #1

> 赞同：43
> 
> 时间：2013-03-08T07:04:02.130

是的

就像`+`表示一个或多个可以`{3,30}`用来匹配 3 到 30

例如`[a-z]{3,30}`匹配 3 到 30 个小写字母

来自[Pattern 类的文档](http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html)

> ```
> X{n,m}    X, at least n but not more than m times 
> ```

在您的情况下，匹配 3-30 个字母后跟空格可以通过以下方式完成：

```
([a-zA-Z]\s){3,30} 
```

如果您需要尾随空格，如果不需要，您可以使用：（2-29 倍字母+空格，然后是字母）

```
([a-zA-Z]\s){2,29}[a-zA-Z] 
```

如果您希望空格算作字符，则需要将该数字除以 2 以获得

```
([a-zA-Z]\s){1,14}[a-zA-Z] 
```

如果尾随空格是可选的，您可以添加`\s?`到最后一个空格。这些都在[RegexPlanet上进行了测试](http://www.regexplanet.com/advanced/java/index.html)

如果您希望整个字符串的长度在 3 到 30 个字符之间，您可以使用`(?=^.{3,30}$)`在 RegExp 开头添加的前瞻并消除其他大小限制

说了这么多，老实说，我可能只是测试`String`'`.length`属性。它更具可读性。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-03-08T07:13:16.077

这就是你要找的

```
^[a-zA-Z](\s?[a-zA-Z]){2,29}$ 
```

`^`是字符串的开头

`$`是字符串的结尾

`(\s?[a-zA-Z]){2,29}`将匹配 (\s?[a-zA-Z]) 2 到 29 次..

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-11-04T14:22:52.180

实际上[Benjamin](https://stackoverflow.com/users/1348195/benjamin-gruenbaum)的回答将导致 OP 问题的完整解决方案。使用前瞻可以限制字符总数并将匹配限制为一组字母和（可选）单个空格的组合。

解决整个问题的正则表达式将变为

```
(?=^.{3,30}$)^([A-Za-z][\s]?)+$ 
```

这将匹配`AAA`，并且由于有两个连续的空格，`A A`因此也无法匹配。`AA A`我在[http://regexpal.com/](http://regexpal.com/)上对此进行了测试，它成功了。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-07-10T11:13:41.383

你应该使用

```
[a-zA-Z ]{20} 
```

[对于允许的字符]{对于字符数的限制}

# windows - 数据如何存储在 Windows 剪贴板中

> ID：15288521
> 
> 赞同：6
> 
> 时间：2013-03-08T07:03:32.857
> 
> 标签：windows, operating-system, copy, clipboard

每当我们复制任何多媒体文件或除文本以外的任何文件（不确定）时`clipboard`，它是否存储文件或数据副本的地址，因为每当我们复制任何像 3 GB 的电影时，**C 盘大小都不会增加**，这意味着剪贴板存储地址而不是副本。是真的吗？？？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-11T11:36:44.870

如果您正在复制文件，那么您正在处理像 HDrop 这样的文件指针，它几乎不占用空间。而且几乎没有时间执行副本。如果你真的必须等待 3 GB 被复制到内存缓冲区，你会等待很长时间，会有很多 I/O，除非你有很多内存，否则你的系统需要利用页面文件空间，从而导致更多的 I/O。
您还应该意识到，与文本/HTML/RTF/图形副本（数据实际上在剪贴板上）不同，剪贴板不能用作安全网。使用文本，您可以复制，然后删除文本，然后粘贴以将其取回。文件不是这样。如果您复制一个文件，然后删除该文件，您将无法粘贴它。这似乎很明显，但重要的是要了解何时使用任何类型的剪贴板管理器，让您返回并粘贴先前的剪辑。例如，您可以粘贴 3 天前的文件指针，但结果不会是 3 天前的文件。它将是今天磁盘上文件指针引用的任何内容。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-08T07:05:19.103

```
 does it stores the address of file 
```

基本上是的，但不是真正的地址，而是文件的所谓**句柄**。

它是对资源的抽象引用值，通常是内存或打开的文件或管道。

正确地，在 Windows 中（通常在计算中），句柄是一种抽象，它向 API 用户隐藏真实内存地址，允许系统对程序透明地重新组织物理内存。将句柄解析为指针会锁定内存，释放句柄会使指针无效。在这种情况下，将其视为指针表的索引。您将索引用于系统 API 调用，系统可以随意更改表中的指针。

如果您想了解剪贴板的工作原理，可以查看这篇文章：http: [//blogs.msdn.com/b/ntdebugging/archive/2012/03/16/how-the-clipboard-works-part -1.aspx](http://blogs.msdn.com/b/ntdebugging/archive/2012/03/16/how-the-clipboard-works-part-1.aspx)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-07-28T10:13:11.107

@热酷螺柱：

复制文件/文件夹的路径

按 Shift Down，选择文件或文件夹，右键单击，您将看到一个额外的 menu_option 为“复制为路径”。选择它，路径被复制到剪贴板

# android - 编译 adb 源码生成 adb 二进制文件

> ID：15288523
> 
> 赞同：1
> 
> 时间：2013-03-08T07:03:35.413
> 
> 标签：android, adb

我按照链接[http://mancoosi.org/~abate/build-android-adb-debian-sid-amd64中指定的说明进行操作](http://mancoosi.org/~abate/build-android-adb-debian-sid-amd64)

但我遇到以下错误

```
make out/host/linux-x86/bin/adb

============================================
PLATFORM_VERSION_CODENAME=AOSP
PLATFORM_VERSION=4.2.2.2.2.2.2.2.2.2
TARGET_PRODUCT=full
TARGET_BUILD_VARIANT=eng
TARGET_BUILD_TYPE=release
TARGET_BUILD_APPS=
TARGET_ARCH=arm
TARGET_ARCH_VARIANT=armv7-a
TARGET_CPU_VARIANT=generic
HOST_ARCH=x86
HOST_OS=linux
HOST_OS_EXTRA=Linux-3.2.0-36-generic-x86_64-with-Ubuntu-12.04-precise
HOST_BUILD_TYPE=release
BUILD_ID=OPENMASTER
OUT_DIR=out
============================================
make: *** No rule to make target `out/host/linux-x86/obj/STATIC_LIBRARIES/libcrypto_static_intermediates/export_includes', needed by `out/host/linux-x86/obj/EXECUTABLES/adb_intermediates/import_includes'.  Stop.
make: *** Waiting for unfinished jobs....
Export includes file: system/core/libzipfile/Android.mk -- out/host/linux-x86/obj/STATIC_LIBRARIES/libzipfile_intermediates/export_includes
Export includes file: external/zlib/Android.mk -- out/host/linux-x86/obj/STATIC_LIBRARIES/libunz_intermediates/export_includes 
```

任何人都可以帮助我指出错误到底是什么，我应该怎么做才能解决这个错误？

非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-05-14T21:15:14.693

注册只是为了回答这个问题，以防其他人遇到它。

您现在还需要克隆 external/openssl，因为较新的版本（截至 2014 年 5 月）静态链接到 libcrypt。

我还需要克隆外部/stlport

# javascript - 两个连续的动画不会在 jQuery 中运行

> ID：15288526
> 
> 赞同：4
> 
> 时间：2013-03-08T07:03:51.120
> 
> 标签：javascript, jquery

请看这个脚本：

```
<style type="text/css">
    .div1
    {
        background-color: Aqua;
        width: 400px;
        height: 30px;
    }
    .div2
    {
        background-color: Fuchsia;
        width: 400px;
        height: 30px;
    }
    .div3
    {
        background-color: Green;
        width: 400px;
        height: 30px;
    }
    .div4
    {
        background-color: Orange;
        width: 400px;
        height: 30px;
    }
</style>
<script type="text/javascript">
    $(document).ready(function () {
        var timer = setInterval(showDiv, 2000);

        var counter = 0;

        function showDiv() {
            if (counter == 0) { counter++; return; }
            $('div.My').css('height', '30px');
            $('div.My').animate({ height: '30' }, 2000, function () { alert('i'); });
            $('div.My')
                .stop()
                .filter(function () { return this.id.match('div' + counter); })
                .animate({ height: '50' }, 500, function () { });
            counter == 4 ? counter = 0 : counter++;
        }
    });
</script>
<body>
<div>
    <div class="div1 My" id="div1">
    </div>
    <div class="div2 My" id="div2">
    </div>
    <div class="div3 My" id="div3">
    </div>
    <div class="div4 My" id="div4">
    </div>
</div>
</body> 
```

我希望每 5 秒我的 div 变大，然后变得正常，下一个 div 变大。问题是第一个动画不运行，只是第二个动画运行。问题出在哪里？

[JSFiddle 示例](http://jsfiddle.net/ExAw8/)

**编辑 1)**

我想当下一个 div 变大时，前一个 div 同时变正常。不是以前变正常，然后下一个变大

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T07:14:30.427

查看[我的小提琴叉子，](http://jsfiddle.net/amullins/AuQ2n/1/)让我知道这是否符合您的要求。你`.stop()`在中间有一个电话，它阻止了缓慢收缩的动画显示。

现在完整的脚本是：

```
$(document).ready(function () {
  var timer = setInterval(showDiv, 2000);

  var counter = 0;

  function showDiv() {
     if (counter == 0) { counter++; return; }
     $('div.My').animate({ height: '30px' }, { duration: 500, queue: false });
     $('div.My')
      .filter(function () { return this.id.match('div' + counter); })
      .animate({ height: '50px' }, { duration: 500, queue: false });
     counter == 4 ? counter = 0 : counter++;
  }
}); 
```

## 编辑 -[新小提琴](http://jsfiddle.net/amullins/AuQ2n/6/)

我对上面的代码感觉不对，而且它在我的浏览器中没有按预期工作，所以我找到了一种我认为更干净的不同方法。这个使用 jQuery 的`step`选项。我还使用`addClass`and`removeClass`作为一种本地存储来记住下一个动画需要缩小哪个 div。你可以做一些数学运算`counter`并得到相同的结果，但这有效。

```
$(document).ready(function () {
    var timer = setInterval(showDiv, 2000);

    var counter = 0;

    function showDiv() {
       if (counter == 0) { counter++; return; }
       $shrinker = $("div.big").removeClass("big");
       $grower = $("#div"+counter);

       $grower
        .animate({ height:50 },
         {duration:500,
          step: function(now, fx) {
           $shrinker.css("height", 80-now);
          }
         }
        );

      $grower.addClass("big");
      counter == 4 ? counter = 0 : counter++;
    }
}); 
```

`step`body 看起来有点奇怪，但它保证了在动画的每个时刻，div 堆栈的总高度保持不变。基本上，收缩和增长 div 的总高度（最小：30，最大：50）必须始终为 80，因此收缩 div 的高度应该是 80 - 增长 div 的高度。

# android - 强制 Android 使用 RTSP/AVP/TCP 交错

> ID：15288527
> 
> 赞同：35
> 
> 时间：2013-03-08T07:03:54.443
> 
> 标签：android, media-player, android-mediaplayer, rtsp, rtsp-client

我在 Galaxy S3 上使用 Android 4.1.2。目前 android mediaplayer 总是尝试 RTSP UDP (RTP/AVP/UDP) 方法来连接 RTSP 服务器。

如果 Android MediaPlayer 没有在其 UDP 端口上接收到数据……它会超时，然后尝试 RTSP TCP 交错 (RTP/AVP/TCP)。这很好，但它引入了 10 秒左右的延迟。我想避免这种延迟，并强制 Android MediaPlayer 始终对所有或特定 URL 使用 RTSP TCP 交错 (RTP/AVP/TCP)。

我尝试了[此处](https://stackoverflow.com/questions/2408233/how-to-force-client-to-switch-rtp-transport-from-udp-to-tcp)给出的建议，将 461 或 400 错误响应代码发送到 SETUP 请求。但似乎媒体播放器不关心响应，并为两个轨道发送 SETUP 命令，然后挂起连接。

我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-08-12T03:02:11.533

我正在使用 VLC 而不是本机。请阅读 Living555 源代码。您可以在 SETUP 请求中指定 Transport: RAW/RAW/UDP 字段以选择要使用的协议。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-15T12:22:48.170

i might be wrong but AFAIK android mediaplayer does not support RTP over TCP.

# php - 来自 Wordpress Post 的第一张图片

> ID：15288530
> 
> 赞同：0
> 
> 时间：2013-03-08T07:04:07.653
> 
> 标签：php, wordpress

我需要从帖子中提取第一张图片，我找到了这段代码，但这显示了帖子中的最后一张图片（例如：http: [//zonadictoz.com.ar](http://zonadictoz.com.ar)），我不知道为什么！

```
function myPostImage()
{
  global $post, $posts;
  $first_img = '';
  ob_start();
  ob_end_clean();
  $output = preg_match_all('/<img.+src=[\'"]([^\'"]+)[\'"].*>/i', $post->post_content, $matches);
  $first_img = $matches [1] [0];

  if(empty($first_img)){ //Defines a default image
    $first_img = "/images/default.jpg";
  }
  return $first_img;
} 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T07:27:41.697

使用[features 图像](http://codex.wordpress.org/Post_Thumbnails)字段是一个更强大的解决方案，但关于您的代码，您可以使用 preg_match() 更改*preg_match_all(* **)**以确保仅捕获第一个匹配项：

```
<?php
$match = preg_match('/<img.+src=[\'"]([^\'"]+)[\'"].*>/i', $post->post_content, $matches);

if ( $match )
    $first_img = $matches[1];
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T08:08:59.000

我实现了调整上面的代码，但似乎仍在从最后一张图像中拾取，而不是第一张，我该如何扭转它？

# php - 编辑事件总是创建新事件 facebook php sdk

> ID：15288534
> 
> 赞同：2
> 
> 时间：2013-03-08T07:04:19.700
> 
> 标签：php, facebook

```
$result = $obj_facebook->api('/'.$model['fb_event_id'].'/events', 'POST', $event_info); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:21:35.343

POST 仅针对事件 ID，因此请更改：

```
$result = $obj_facebook->api('/'.$model['fb_event_id'].'/events', 'POST', $event_info); 
```

到

```
$result = $obj_facebook->api('/'.$model['fb_event_id'], 'POST', $event_info); 
```

更多信息请参见这里:: [FB 活动](https://developers.facebook.com/docs/reference/api/user/#events)

# c# - 使用 Linq 向 Datatable 中的列添加值

> ID：15288535
> 
> 赞同：0
> 
> 时间：2013-03-08T07:04:27.160
> 
> 标签：c#, .net, linq

MyTable 包含具有重复值的**Col1 。**

如何使用 Linq 从我的表中选择重复值

我的表如下

表格1

```
Col1      Col2   Col3
 1         A
 1         B
 1         C
 2         D
 2         E
 3         F
 3         G
 4         H 
```

我想将值添加到第三列，即My Table 中的**Col3**

我的代码是

```
 var MYValues= from c in MyTestTable.AsEnumerable()

                                 select (new { Col3 = c.Field<string>("MyCol")}).ToString(); 
```

MYValues 包含“3,4,5,6,7,8,9,10”

所以我希望我的决赛桌是这样的

```
Col1      Col2   Col3
 1         A       3
 1         B       4
 1         C       5
 2         D       6
 2         E       7
 3         F       8
 3         G       9
 4         H       10 
```

如何将此添加到表中？

请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T10:00:37.957

你的问题不清楚，你说你需要重复的项目，但是回答你的第二个查询

```
for(count = 0; count < dataTable.Rows.Count; count++)
    dataTable.Rows[count]["Column3Name"] = myValues[count]; 
```

# java - 使用 MS Access 基础制作授权 JFrame

> ID：15288536
> 
> 赞同：0
> 
> 时间：2013-03-08T07:04:28.060
> 
> 标签：java, swing, ms-access, authorization, jframe

我正在尝试向 MS Access DB 授权 JFrame，但查询似乎无法正常工作。这个想法是 intup 登录名和密码，如果其中一个不正确，得到一条消息。我的代码总是将我发送到异常。这是我的代码，也许有人可以帮助我。

```
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
import java.sql.*;

public class First {

    JFrame frame;
    JPanel txt, but;
    JButton log, ext;
    JTextField login;
    JLabel l, p;
    JPasswordField pass;
    PreparedStatement prepst;
    ResultSet res;

    public First() {
        frame = new JFrame("Authorization");
        txt = new JPanel();
        but = new JPanel();
        log = new JButton("Login");
        ext = new JButton("Quit");
        login = new JTextField(10);
        l = new JLabel("Login:");
        p = new JLabel("Password:");
        pass = new JPasswordField(10);
        frame.setSize(400,100);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        txt.add(l);
        txt.add(login);
        txt.add(p);
        txt.add(pass);
        frame.add(txt,BorderLayout.NORTH);
        but.add(log);
        but.add(ext);
        frame.add(but,BorderLayout.SOUTH);
        log.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent evnt) {
                try {
                    Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
                    String PathToDataBase = "D:/workspace2/MicrosoftAccessConnection/db";
                String DataBase = "jdbc:odbc:Driver={Microsoft Access Driver (*.mdb)};DBQ=";
                DataBase += PathToDataBase.trim() + ";DriverID=22;READONLY=true}";
                Connection con = DriverManager.getConnection(DataBase,"","");
                prepst = con.prepareStatement("SELECT * FROM USERS WHERE LOGIN= AND PASSWORD=?");
                String lll = login.getText();
                String ppp = pass.getText();
                prepst.setString(1,lll);
                prepst.setString(2, ppp);
                res = prepst.executeQuery();
                if((test(con,lll,ppp)) == true) {
                    while(res.next()) {
                        if((lll.equals(res.getString("LOGIN"))) && (ppp.equals(res.getString("PASSWORD")))) {
                            lol();
                        } else {
                            JOptionPane.showMessageDialog(null, "Wrong data");
                        }
                    }
                }
                res.close();
                prepst.close();
                con.close();
            } catch(Exception e) {
                JOptionPane.showMessageDialog(null, "Error with connection");
            }
        }
    });
    ext.addActionListener(new ActionListener() {
        public void actionPerformed(ActionEvent evnt) {
            frame.dispose();
        }
    });
    frame.setVisible(true);
}
public void lol() {
    JFrame f = new JFrame("SUCCESS");
    f.setSize(200,200);
    frame.dispose();
    f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    f.setVisible(true);
}

boolean test(Connection con, String login, String pass) throws SQLException {
    int rez = 0;
    PreparedStatement st = con.prepareStatement("SELECT COUNT(*) FROM USERS WHERE LOGIN=? AND PASSWORD=?");
    st.setString(1, login);
    st.setString(2, pass);
    ResultSet res = st.executeQuery();
    while (res.next()) {
        rez = res.getInt(1);
    }
    st.close();
    return rez == 1;
}

public static void main(String[] args) {
    new First();
}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T11:45:57.067

您的, 替换中缺少`PreparedStatement`占位符字符`SQL`

```
SELECT * FROM USERS WHERE LOGIN= AND PASSWORD=? 
```

和

```
SELECT * FROM USERS WHERE LOGIN=? AND PASSWORD=?
                                ^ 
```

* * *

如果你得到一个`Exception`，它总是最好*显示*异常内容。您可以将其添加到异常块：

```
e.printStackTrace(); 
```

# ios - 我应该验证什么自动续订订阅收据？

> ID：15288537
> 
> 赞同：0
> 
> 时间：2013-03-08T07:04:31.670
> 
> 标签：ios, in-app-purchase, server-side, receipt

我正在使用 IAP 开发应用程序的服务器端，我知道当用户进行订阅时我需要将收据从应用程序发送到我的服务器，然后使用应用程序商店验证收据的状态、到期日期、等，并为用户提供内容。

但我的问题是，我需要什么收据来检查更新状态？我的意思是，我第一次检查收据时，应用商店会给我一张收据、状态和最新收据，这张最新收据是我下次应该用来检查状态的收据，还是我应该始终使用原始收据? 我一直在对他们两个进行测试，他们在应用商店中给了我相同的状态，但我不确定正确的做法是什么。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-09-16T10:57:43.867

今天，我遇到了这个问题。

在这里关注[Apple doc](https://developer.apple.com/library/content/releasenotes/General/ValidateAppStoreReceipt/Chapters/ValidateRemotely.html)，我用这种方式检查订阅是否过期。

```
+ (BOOL)checkInAppPurchaseStatus
{
    // Load the receipt from the app bundle.
    NSURL *receiptURL = [[NSBundle mainBundle] appStoreReceiptURL];
    NSData *receipt = [NSData dataWithContentsOfURL:receiptURL];
    if (receipt) {
        BOOL sandbox = [[receiptURL lastPathComponent] isEqualToString:@"sandboxReceipt"];
        // Create the JSON object that describes the request
        NSError *error;
        NSDictionary *requestContents = @{
                                          @"receipt-data": [receipt base64EncodedStringWithOptions:0],@"password":@"SHARE_SECRET_CODE"
                                          };
        NSData *requestData = [NSJSONSerialization dataWithJSONObject:requestContents
                                                              options:0
                                                                error:&error];

        if (requestData) {
            // Create a POST request with the receipt data.
            NSURL *storeURL = [NSURL URLWithString:@"https://buy.itunes.apple.com/verifyReceipt"];
            if (sandbox) {
                storeURL = [NSURL URLWithString:@"https://sandbox.itunes.apple.com/verifyReceipt"];
            }
            NSMutableURLRequest *storeRequest = [NSMutableURLRequest requestWithURL:storeURL];
            [storeRequest setHTTPMethod:@"POST"];
            [storeRequest setHTTPBody:requestData];

            BOOL rs = NO;
            //Can use sendAsynchronousRequest to request to Apple API, here I use sendSynchronousRequest
            NSError *error;
            NSURLResponse *response;
            NSData *resData = [NSURLConnection sendSynchronousRequest:storeRequest returningResponse:&response error:&error];
            if (error) {
                rs = NO;
            }
            else
            {
                NSDictionary *jsonResponse = [NSJSONSerialization JSONObjectWithData:resData options:0 error:&error];
                if (!jsonResponse) {
                    rs = NO;
                }
                else
                {
                    NSLog(@"jsonResponse:%@", jsonResponse);

                    NSDictionary *dictLatestReceiptsInfo = jsonResponse[@"latest_receipt_info"];
                    long long int expirationDateMs = [[dictLatestReceiptsInfo valueForKeyPath:@"@max.expires_date_ms"] longLongValue];
                    long long requestDateMs = [jsonResponse[@"receipt"][@"request_date_ms"] longLongValue];
                    NSLog(@"%lld--%lld", expirationDateMs, requestDateMs);
                    rs = [[jsonResponse objectForKey:@"status"] integerValue] == 0 && (expirationDateMs > requestDateMs);
                }
            }
            return rs;
        }
        else
        {
            return NO;
        }
    }
    else
    {
        return NO;
    }
} 
```

希望这有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T07:12:38.163

交易完成后，您将获得此交易的 tansaction 和 trasaction.reciept 您要提供 base64 的收据 这是此代码

```
 NSString *jsonObjectString = [self encodeBase64:(uint8_t*)transaction.transactionReceipt.bytes
                                         length:transaction.transactionReceipt.length]; 
```

此 jsonObjectString 会将其保存到服务器，并在验证您要为此提供 sharedsecret 的收据时[验证此链接](https://stackoverflow.com/questions/1298998/verify-receipt-for-in-app-purchase)

# php - 无法安装该软件包。PCLZIP_ERR_BAD_FORMAT (-10) : 找不到中央目录记录签名的结尾

> ID：15288538
> 
> 赞同：0
> 
> 时间：2013-03-08T07:04:32.010
> 
> 标签：php

从 wordpress 管理面板上传压缩的自己编写的插件时遇到的问题**无法安装软件包。PCLZIP_ERR_BAD_FORMAT (-10) :** 在最新版本 5.3.1 中找不到中央目录记录签名的结尾我不想更改任何一行 wordpress 核心。我可以在我的 wordpress 插件中添加一些功能来修复错误吗...提前感谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-05T06:09:20.670

您可以通过在我的 php.ini 文件中注释掉 mbstring.func_overload 来解决它：

```
; mbstring.func_overload = 7 
```

并重新启动您的服务器。您还应该检查您的网络空间。

# c# - 使用 Linq to SQL 从数量不在 fromquantity 和 ToQuantity 之间的表中获取记录

> ID：15288540
> 
> 赞同：1
> 
> 时间：2013-03-08T07:04:36.290
> 
> 标签：c#, sql-server, linq, linq-to-sql

我有两个表，其中包含以下`tb_Types`和`tb_TypePrices`：

```
tb_Type
-------
id
title

tb_TypePrices
-------------
id
typeId
fromQuantity
ToQuantity
Supplier
Price 
```

这些表有父子关系

现在我想从`tb_Types`join中获取数据`tb_TypePrices`where `typeId=mytypeId`and `parameterQuantity`is NOT between `fromQuantity`and `ToQuantity`。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T08:06:50.273

```
from t in tb_Type
join tp in tb_TypePrices on t.id equals tp.typeId
where t.id == mytypeId && 
      (parameterQuantity < tp.fromQuantity ||
       tp.ToQuantity < parameterQuantity)
select new { Type = t, TypePrice = tp } 
```

或者，如果您想要一个对象中的所有过滤类型价格：

```
from t in tb_Type
join tp in tb_TypePrices on t.id equals tp.typeId into g
where t.id == mytypeId         
select new { 
    Type = t, 
    Prices = g.Where(x => parameterQuantity < x.fromQuantity ||
                          x.ToQuantity < parameterQuantity) 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T09:05:20.583

假设您有外键关系，那么您应该可以使用

```
var query = tb_TypePrices
     .Where( t => t.fromQuantity < parameterQuantity || 
                  t.ToQuantity > parameterQuantity)
     .Select( t => new 
         { 
             t.fromQuantity, 
             t.ToQuantity,
             ... etc,
             Title=t.tb_Type.title 
         }; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T07:50:51.513

尝试这个 ：

```
var data = from t1 in tb_Type
           join t2 in tb_TypePrices
           on t1.id equals t2.typeId
           where t2.fromQuantity < parameterQuantity || t2.ToQuantity > parameterQuantity
           select new { Type = t1, TypePrices = t2 }; 
```

# forms - IE7 文档模式文件名未从 javascript 设置

> ID：15288543
> 
> 赞同：0
> 
> 时间：2013-03-08T07:05:02.347
> 
> 标签：forms, internet-explorer-7, file-io

我在页面中有两种形式。一种是动态生成的，另一种是静态的。两种形式都具有输入类型文件元素。

现在我想将动态表单输入类型文件元素值设置为静态表单输入文件元素。

我在 javascript 中获取文件元素值，但是当我尝试将该值设置为静态表单文件元素时，它没有被设置。

我正在使用具有浏览器模式 IE8 和文档模式 IE7 标准的浏览器 IE。

请在这里帮助我。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:22:57.553

它是浏览器中的一项安全功能，您无法在 Javascript 中更改文件输入元素的值，您可以尝试输入并查看可以使用克隆做什么，但是我没有尝试过。

# node.js - node.js+mongoose UserSchema findOrCreate

> ID：15288551
> 
> 赞同：3
> 
> 时间：2013-03-08T07:05:50.023
> 
> 标签：node.js, mongoose, passport.js

所以，我`findOrCreate`在我的用户模式上实现，它基本上只有一个配置文件数组（每个用户可以有多个登录策略）。您可以将其视为通过拥有与我们正在调用的提供的配置文件匹配的提供者和 ID 的配置文件来肯定地识别用户`findOrCreate`。的目标`findOrCreate`是识别与提供的配置文件匹配的用户或使用提供的配置文件创建新用户。该函数有四种返回情况。

1.  查询用户时出错
2.  已找到用户
3.  未能找到用户并尝试创建用户后发生错误
4.  找不到用户并成功创建了一个

现在，我相信下面的代码可以做到这一点。我对这个问题的关注和原因是提供给的回调`findOne`不会始终返回。如果在查询用户时出错，我们返回 callback(...) ，如果我们找到用户，我们返回 callback(...) 但是，如果我们需要创建用户，我们永远不会显式返回。有什么方法可以返回保存的结果吗？这甚至是我应该做的还是我拥有它的方式是正确的？

代码：

```
UserSchema.static('findOrCreate', function (profile, callback) {
    this.findOne({ profiles: { $elemMatch: { provider: profile.provider, id: profile.id }}}, function(err, user) {
        if (err)
           return callback(err);

        if (user)
            return callback(null, user);

        user = new User({
            profiles: [profile]
        });
        user.save(function (err, user) {
            if (err)
                return callback(err);

            return callback(null, user);
        });
    });
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T08:01:39.057

只需这样做，`user.save(callback);`因为您的内联匿名函数与`save`已经对其回调所做的基本相同。这些`return`语句是纯粹的流控制机制，其唯一目的是避免在此函数中执行后续代码，并且调用者完全忽略实际返回值本身，这在 node.js 中的异步编程中很常见。`if/else`您可以使用块而不是`if/return`保护子句来编写相同的逻辑，并且根本不使用`return`关键字，并且仍然可以使该函数正常运行。

# sql-server-2008 - 如何在 SQL Server 中对月份和年份进行排序

> ID：15288552
> 
> 赞同：0
> 
> 时间：2013-03-08T07:05:58.207
> 
> 标签：sql-server-2008

我有带有日期字段的表格并转换为月份和年份（2 个单独的列）。我无法排序

```
Month    Year
12        2011
11        2011
2         2012
1         2012 
```

如果我写查询。它给出了

```
 Month       Year
   1          2012
   2          2012
   11         2011
   12         2011 
```

但是我需要像下面这样

```
 Month          Year
   11         2011
   12         2011
    1         2012
    2         2012 
```

这里按月分组，我不想显示日期字段

请帮忙

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T07:12:08.493

```
select datepart(month, DateCol) as [Month],
       datepart(year, DateCol) as [Year]
from YourTable
order by [Year], [Month] 
```

[SQL小提琴](http://sqlfiddle.com/#!3/4279d/1)

如果你想按月分组

```
select datepart(month, DateCol) as [Month],
       datepart(year, DateCol) as [Year]
from YourTable
group by datepart(month, DateCol),
         datepart(year, DateCol)
order by [Year], [Month] 
```

[SQL小提琴](http://sqlfiddle.com/#!3/af9bd/2)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-08T07:18:23.443

> 这是你可以做的：

```
;WITH CTE
AS
(
    SELECT *,
    ROW_NUMBER() OVER ( PARTITION BY YEAR ORDER BY MONTH) RN
FROM YourTable
)

SELECT * FROM CTE  
ORDER BY YEAR, RN 
```

> [SQL 小提琴演示](http://www.sqlfiddle.com/#!3/f9afc/5)
> 
> 实际上，一种更直接的方式是，

```
SELECT * FROM YourTable
ORDER BY YEAR, MONTH 
```

# matlab - Matlab和Opencv之间图像中像素值的差异

> ID：15288553
> 
> 赞同：1
> 
> 时间：2013-03-08T07:06:08.873
> 
> 标签：matlab, opencv

我从 avi 视频中获取帧，并通过 Matlab 打开彩色图像并检查三通道 R、G、B 的像素值。（情况1）

之后，我使用opencv2.4.3获取帧并通过txt文件保存像素值。然后，我检查txt文件，我意识到像素值与Matlab不同（我知道opencv打开的彩色图像是BGR，并且像素的索引位置必须是负1（在Matlab中，像素位置（x，y）。在c ,像素位置 (x-1,y-1)))。（案例二）

最后，我使用 opencv 通过 cvSaveImage 函数保存帧，然后通过 Matlab 打开该帧。在这种情况下，像素值也不同于上述两种情况。

为什么会发生这种情况？

谢谢你的回答！对不起我的英语！

这是我的代码 [http://www.scribd.com/doc/129263549/Code](http://www.scribd.com/doc/129263549/Code)（你必须下载它才能阅读）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T21:12:47.807

Matlab 和 OpenCV 有不同的存储像素值的方法。Matlab在存储之前使用**压缩来保存 .jpeg 图像。**因此，如果您在 Matlab 和 OpenCV 中查看相似图像的像素数据，它看起来会有所不同。

如果在 Matlab 和 OpenCV 中加载和保存相同的源图像，前者**的大小**会比后者小；即使您不对图像进行任何操作。

您无法使两个图像数据看起来相同。幸运的是，对图像进行的任何操作都不受这种内部结构差异的影响。例如，如果您尝试在 Matlab 和 OpenCV 中查找某些像素的索引，两者都会给出正确的值，尽管这些值看起来不一样。

# android - 无法从 Eclipse 中的 xml 布局文件启动 android 项目

> ID：15288556
> 
> 赞同：10
> 
> 时间：2013-03-08T07:06:18.670
> 
> 标签：android, eclipse, launching-application

我刚刚更新`Eclipse IDE`到`android`最新版本。在这个版本中，当我按下`ctrl + f11`布局文件（或任何文件`xml file`，但在`activity`文件中，它按预期工作）时，没有任何反应！这不是我想要的！在之前的版本中`Eclipse`（更新前），如果我在xml文件中按下`ctrl + f11`，我的项目将被启动！有没有人有同样的问题？有没有人建议`xml`在我按下时强制我的项目从文件启动`ctrl + f11`？

还有一件事，在`xml`布局文件中，我可以使用`Graphical Layout`，但是`outline`我的文件的（的旁边部分）`xml`丢失了。谁能解释原因？以及如何解决？提前致谢。`code layout``Graphical Layout`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-10-23T06:52:20.650

如果您运行您的项目并且如果您打开您的 xml 文件，则无法运行该项目，您可以做的只是单击任何 java 活动，然后按**Ctrl + F11**即可。

# javascript - 错误：缺失；javascript 中的 before 语句

> ID：15288557
> 
> 赞同：0
> 
> 时间：2013-03-08T07:06:33.053
> 
> 标签：javascript, liferay-6

我正在应用 javascript，但它会引发错误：

```
**missing ; before statement**

String str = document.location.href;
alert(str);
str.replace( "/blogs/-/blogs", "blogs" ); 
```

您的任何建议表示赞赏。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-08T07:07:23.600

改变

```
String str = document.location.href; 
```

到

```
var str = document.location.href; 
```

您不用 JavaScript 中的类型而是用`var`关键字声明变量。

# php - Magento：基本导入中的致命错误

> ID：15288562
> 
> 赞同：2
> 
> 时间：2013-03-08T07:07:17.580
> 
> 标签：php, magento

我在 sytem>import/export>import 下使用 magento 默认产品导入功能

当我上传文件并单击检查数据按钮时，页面调用 ajax 并返回错误

```
Fatal error: Call to a member function getName() on a non-object in /var/www/html/app/code/core/Mage/ImportExport/Model/Import/Entity/Product.php on line 390 
```

我在核心文件中没有任何自定义。

我做了什么：1）我用一个新的模块替换了整个 ImportExport 模块 2）我也发现了一些类似的问题并完成了，因为他们的解决方案是说可能存在索引问题，所以我截断了所有的平面表并重新全部索引

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-03-06T10:12:50.223

我知道为时已晚，但对于那些到达这里寻求解决方案的人来说。这是另一种选择：-

在受保护的函数 _initCategories() 中，请找到以下代码：-

```
$path[] = $collection->getItemById($structure[$i])->getName(); 
```

只需评论它并将以下代码放在那里：-

```
$category123 = Mage::getModel('catalog/category')->load($structure[$i]);
$path[] = $category123->getName(); 
```

它会为你工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T07:23:44.483

根据版本 1.7.1，你有这个错误`_initCategories`功能。

```
protected function _initCategories()
    {
        $collection = Mage::getResourceModel('catalog/category_collection')->addNameToResult();
        /* @var $collection Mage_Catalog_Model_Resource_Eav_Mysql4_Category_Collection */
        foreach ($collection as $category) {
            $structure = explode('/', $category->getPath());
            $pathSize  = count($structure);
            if ($pathSize > 1) {
                $path = array();
                for ($i = 1; $i < $pathSize; $i++) {
                    $path[] = $collection->getItemById($structure[$i])->getName();
                }
                $rootCategoryName = array_shift($path);
                if (!isset($this->_categoriesWithRoots[$rootCategoryName])) {
                    $this->_categoriesWithRoots[$rootCategoryName] = array();
                }
                $index = implode('/', $path);
                $this->_categoriesWithRoots[$rootCategoryName][$index] = $category->getId();
                if ($pathSize > 2) {
                    $this->_categories[$index] = $category->getId();
                }
            }
        }
        return $this;
    } 
```

您应该有一个有效的实体 ID，位于`$structure[$i]`。即在 `catalog_category_entity`表中，应该有一个有效的`entity_id`.

我在[这里](https://stackoverflow.com/questions/14479623/magento-fatal-error-call-to-a-member-function-getname-on-a-non-object-while-im)看到了 1.6.2 版本的类似问题。

# android - 在 Android 中启动时启动应用程序

> ID：15288568
> 
> 赞同：0
> 
> 时间：2013-03-08T07:07:37.140
> 
> 标签：android, startup

我正在尝试在 Android 操作系统启动时启动名为“MainActivity”的主要活动（这是唯一的活动）。该应用程序已安装在内部存储上，但显示“不幸的是，应用程序（应用程序名称）已停止”。我正在使用如下的引导接收代码

我在 .java 文件中的 MainActivity 代码

```
public class BootUpReceiver extends BroadcastReceiver
{

    @Override
    public void onReceive(Context context, Intent intent) {
            Intent i = new Intent(context, MainActivity.class);  
            i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
            context.startActivity(i);  
    }
} 
```

AndroidManifest.xml

```
 <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />

      <receiver android:enabled="true" android:name=".BootUpReceiver"
    android:permission="android.permission.RECEIVE_BOOT_COMPLETED">

    <intent-filter>
            <action android:name="android.intent.action.BOOT_COMPLETED" />
            <category android:name="android.intent.category.DEFAULT" />
    </intent-filter>
     </receiver> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T10:51:21.163

终于，经过一段时间的搜索，做了正确的事情，对于一个被困在这里的人。你需要做的是在一个单独的包中注册 onReceive 函数，我在 Logcat 中得到的错误是 Classnotfound，因为我将代码放在我的 MainActivity 类及其包中。一旦我将 onReceive 函数更改为新包，应用程序就可以完美运行。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2016-04-21T19:52:24.010

试试这个：

```
public class BootUpReceiver extends BroadcastReceiver {
    @Override
    public void onReceive(Context context, Intent intent) {
        String action = intent.getAction();
        if(action.equalsIgnoreCase("android.intent.action.BOOT_COMPLETED")) {
            Intent i = new Intent(context, MainActivity.class);  
            i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
            context.startActivity(i);
        }  
    }
} 
```

[https://stackoverflow.com/a/11079306/6237295](https://stackoverflow.com/a/11079306/6237295)

# linq - 基于 LINQ 中的查找计数

> ID：15288575
> 
> 赞同：0
> 
> 时间：2013-03-08T07:07:58.127
> 
> 标签：linq

我有一个名为 Cases 的表（或实体）。还有另一个表 CaseStatus_Lookup，该表的主键是 Cases 表中的外键。

我想要做的是：对于每种状态类型，我想要案件的数量。例如，如果 status = in progress ，我想知道有多少案例处于该状态。

另一件事：我还想根据用户 ID 过滤案例。

我在 LINQ 中尝试了几种方法，但变化不大。我想知道是否有人可以提供帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:37:31.777

试试 Linq`.GroupBy`

我假设你的实体结构

假设你的`Case`实体就像

```
public class Case
{
  public int Id{get;set;}
  public int CaseStatusId{get;set;}
  public int UserId{get;set;}

  //navigational fields
  public virtual CaseStatus CaseStatus {get;set;}
} 
```

并假设您的`CaseStatus`实体是这样的：

```
public class CaseStatus
{
   public int Id{get;set;}
   public string Name{get;set;}

  //navigational fields..
  public virtual ICollection<Case> Cases{get;set;}

} 
```

那么你可以这样做：

```
using (myDbContext db = new myDbContext())
{
   var query = db.Cases.GroupBy(case => case.CaseStatus.Name)
              .Select(group => 
                    new { 
                          Name = group.Key,
                          Cases= group.OrderBy(x => x.Id),
                          Count= group.Count()
                        }
                     ).ToList();
   //query will give you count of cases grouped by CaseStatus.

} 
```

同样，您可以根据 userId 进一步过滤结果。

开始探索 Linq [.GroupBy](https://stackoverflow.com/questions/5013710/linq-order-by-group-by-and-order-by-each-group)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T09:53:55.647

You need a function that returns the sum and takes the status as parameter :- something like below.

```
MyCaseStatusEnum caseStatus; //Pass your required status
int caseCount = myCases
                .Where(r => r.Status == caseStatus) 
                .GroupBy(p => p.Status)
                .Select(q => q.Count()).FirstOrDefault<int>(); 
```

# android - 使用 Android 版 Google 地图时遇到问题

> ID：15288576
> 
> 赞同：0
> 
> 时间：2013-03-08T07:07:59.257
> 
> 标签：android, google-maps, android-layout, google-api, keytool

我正在尝试为 Android 2.3.3 设置一个基本的 Google 地图应用程序。我尝试在 Eclipse、NetBeans 和 IntelliJ IDEA 中进行开发只是为了命名。在失败太多次后，我回到了基本状态。请帮助我使用我的 API v1。

目前我的地图显示空白（模拟器和我的真实设备）。这是我的代码（顺便说一句，我尝试了所有可能的权限标签）：

我正在使用默认调试密钥对应用程序进行签名，即使我在发行版中对其进行签名，我仍然会得到空白地图。

我只想看到一张真实的地图。（顺便说一句，我不确定这里的文本格式是否正确，所以简而言之，我只是从这里[mapview v1 sample](https://developers.google.com/maps/documentation/android/v1/hello-mapview)复制了代码 1-1 ）

清单

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
          package="com.example.hellogooglemaps"
          android:versionCode="1"
          android:versionName="1.0">
    <uses-sdk android:minSdkVersion="8"/>

    <application android:label="@string/app_name">
        <uses-library android:name="com.google.android.maps"/>
        <activity android:name="MyActivity"
                  android:label="@string/app_name">
            <intent-filter>
                <action android:name="android.intent.action.MAIN"/>
                <category android:name="android.intent.category.LAUNCHER"/>
            </intent-filter>
        </activity>
    </application>

    <uses-permission android:name="android.permission.INTERNET"/>
</manifest> 
```

活动布局

```
<com.google.android.maps.MapView
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/mapview"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:clickable="true"
    android:apiKey="BLA_BLA_BLA_GOT_A_KEY"
/> 
```

活动

```
 package com.example.hellogooglemaps;

    import android.os.Bundle;
    import com.google.android.maps.MapActivity;
    import com.google.android.maps.MapView;

    public class MyActivity extends MapActivity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

        MapView mapView = (MapView) findViewById(R.id.mapview);
        mapView.setBuiltInZoomControls(true);
    }

    @Override
    protected boolean isRouteDisplayed() {
        return false;
    }
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:14:48.030

如果您将 MD5 用于 default.keystore。

然后转到Windows>显示视图>其他>仿真器控件并从仿真器控件发送单击发送按钮（十进制C坐标）

然后再次运行您的应用程序地图应该会出现一些默认的美国位置。

要在设备中获取 Map，您需要从应用程序密钥库而不是默认密钥库创建 MD5。

谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-08T07:58:57.043

该代码对于 Google Map API V1 看起来不错。所以你的钥匙一定有问题。据我所知，如果它是新生成的密钥，那么 Google 不会为 Google Map API V1 提供密钥，因此它必须是 Google Map API V2 的密钥，这就是它不起作用的原因。

请尝试地图 V2，生成后使用正确的地图密钥，以及以下注意事项：

> 1.  互联网许可。2\. 在开发者控制台中开启适用于 Android V2 的 Google 地图。3\. 在清单中使用适当的标签，例如以下：

```
 <application android:label="@string/app_name" android:icon="@drawable/ic_launcher">
        <meta-data
              android:name="com.google.android.gms.version"
              android:value="@integer/google_play_services_version" />
        <meta-data
              android:name="com.google.android.maps.v2.API_KEY"
              android:value="xxx"/>

        <activity android:name="MyActivity"
                  android:label="@string/app_name">
            <intent-filter>
                <action android:name="android.intent.action.MAIN"/>
                <category android:name="android.intent.category.LAUNCHER"/>
            </intent-filter>
        </activity>

<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    </application> 
```

# java - 相当于 Java 中用于传递空指针的按引用传递

> ID：15288579
> 
> 赞同：0
> 
> 时间：2013-03-08T07:08:09.590
> 
> 标签：java, pass-by-reference

我有一个关于将可能包含 null 的对象传递给其他方法的最佳方法的问题。如果传递的对象为空，则另一个方法将创建一个新实例。我的问题是如何允许第二种方法修改原始传递的空对象指针。基本上，我在从文件中读取 BST 并制作树时遇到了这个问题。我认为使用相同的示例解释问题更有意义：

在下面的代码中，我正在从存储在队列中的所有值读取和构建 BST。队列值是我从另一个方法读取的树的按顺序遍历。

```
 TreeNode root2;
public void readBST(Queue<Integer> input){
    if (input==null || input.isEmpty()) return;     
    int i=input.poll();
    root2 = new TreeNode(i);
    readBSTHelper(root2.leftChild , input, Integer.MIN_VALUE , i-1);
    readBSTHelper(root2.rightChild, input, i+1, Integer.MAX_VALUE);
}

private void readBSTHelper(TreeNode curr, Queue<Integer> input, int min, int max){
    if (input==null && input.isEmpty()) return;
    int i = input.peek();
    if (i>=min && i<=max){
        input.poll();
        curr = new TreeNode(i);
        readBSTHelper(curr.leftChild, input, min, i-1);
        readBSTHelper(curr.rightChild,input, i+1, max);
    }
} 
```

但是，我面临的问题是，当`root2`创建时，它是`leftChild`并且`rightChild`是`null`。实际上`TreeNode(i)`使 a `TreeNode`with `data=i`and `leftChild`and `rightChild`equal `null`。当我调用`readBSTHelper`传递时`root2.leftChild`，它传递一个`null`指针。由于它是一个`null`指针，因此将指针的副本`null`传递给`readBSTHelper`. 因此，来自 的结果`readBSTHelper`会丢失并且永远不会返回/分配给 real `root2.leftChild`。我们可以通过传递原始指针的引用来防止 C++ 中出现此类问题。我可以通过如下修改代码暂时解决问题：

```
 TreeNode root2;
public void readBST(Queue<Integer> input){
    if (input==null || input.isEmpty()) return;     
    int i=input.poll();
    root2 = new TreeNode(i);
    readBSTHelper(root2, "left", input, Integer.MIN_VALUE , i-1);
    readBSTHelper(root2, "right", input, i+1, Integer.MAX_VALUE);
}
private void readBSTHelper(TreeNode curr, String side, Queue<Integer> input, int min, int max){
    if (input.isEmpty()) return;
    int i = input.peek();
    if (i>=min && i<=max){
        input.poll();
        if (side.equals("left")) {
            curr.leftChild = new TreeNode(i);
            readBSTHelper(curr.leftChild,"left", input, min, i-1);
            readBSTHelper(curr.leftChild, "right", input, i+1, max);
        } else {
            curr.rightChild = new TreeNode(i);
            readBSTHelper(curr.rightChild,"left", input, min, i-1);
            readBSTHelper(curr.rightChild, "right", input, i+1, max);
        }

    }
} 
```

但是这段代码在我看来很难看。关于如何使第一个代码工作的任何建议？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T07:24:05.867

**选项 1：包装器**

```
class NodeWrapper
{
  TreeNode node;
}

class TreeNode
{
  ...
  TreeNode(int num)
  {
    leftChild = new NodeWrapper();
    rightChild = new NodeWrapper();
    ...
  }
  NodeWrapper leftChild, rightChild;
}

void readBSTHelper(NodeWrapper curr, Queue<Integer> input, int min, int max)
{
  ...
} 
```

**选项 2：在构造函数中初始化子项**

我建议有一个专门用于此目的的单独构造函数（不是如下所示），否则您的插入函数会错误地创建子代。

```
class TreeNode
{
  ...
  TreeNode()
  {
    val = null;
  }
  TreeNode(int num)
  {
    init(num);
  }
  init(int num)
  {
    leftChild = new TreeNode();
    rightChild = new TreeNode();
    val == num;
  }
  Integer val;
}

public void readBST(Queue<Integer> input){
    if (input==null || input.isEmpty()) return;     
    int i=input.poll();
    root2 = new TreeNode(i);
    if (!readBSTHelper(root2.leftChild , input, Integer.MIN_VALUE , i-1))
      root2.leftChild = null; // delete child if not populated
    if (!readBSTHelper(root2.rightChild, input, i+1, Integer.MAX_VALUE))
      root2.rightChild = null; // delete child if not populated
}

boolean readBSTHelper(TreeNode curr, Queue<Integer> input, int min, int max){
    if (input==null && input.isEmpty()) return false;
    int i = input.peek();
    if (i>=min && i<=max){
        input.poll();
        curr.init(i);
        if (!readBSTHelper(curr.leftChild, input, min, i-1))
          curr.leftChild = null;
        if (!readBSTHelper(curr.rightChild, input, i+1, max))
          curr.rightChild = null;
        return true;
    }
    return false;
} 
```

# android - 以编程方式阻止 Android 中的短信

> ID：15288585
> 
> 赞同：-8
> 
> 时间：2013-03-08T07:08:30.337
> 
> 标签：android

我想以一种不会进入收件箱且通知也不会显示`sms`的方式阻止来自我的应用程序的消息。`sms`是否可以？如果是的话，如何做到这一点？任何线索或提示都会起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:10:34.360

除非您的应用程序具有高优先级并在系统消息应用程序之前安装，否则这是不可能的

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T07:23:49.600

同意 DjHacktorRebeborn 的回答，但您可以通过编写自己的`BroadCastReceiver`.

您需要编写一个代码，用于跟踪接收短信并将这些短信移动到另一个位置。

但是，默认情况下，短信只会出现在收件箱中。

# r - 测试相等的组大小

> ID：15288587
> 
> 赞同：0
> 
> 时间：2013-03-08T07:08:41.057
> 
> 标签：r, size, equals

如何在 R 中测试相等的组大小？

`chisq.test(rep(1:3, 100))`产生 300 个自由度，而我希望以 2 个自由度执行此测试。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T07:11:25.610

`chisq.test`期望列表数据：

```
> chisq.test(table(rep(1:3, 100)))

    Chi-squared test for given probabilities

data:  table(rep(1:3, 100)) 
X-squared = 0, df = 2, p-value = 1 
```

# postgresql - 如何在postgresql中去掉部分面包屑路径

> ID：15288589
> 
> 赞同：-1
> 
> 时间：2013-03-08T07:08:46.977
> 
> 标签：postgresql

在我的数据库中，我有以下列 BreadCrumb 每行的条目为：

```
根->艺术家的音乐->凯莉
根->艺术家的音乐->碧昂丝->2009
根->艺术家的音乐->碧昂丝->2008
根->垃圾桶
Root2->Demo Content->Building 1

```

如何执行查询以给我一个仅包含“艺术家音乐”和“演示内容”（无重复）的列？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T10:16:19.573

Postgres 有很多不错的字符串函数（[http://www.postgresql.org/docs/current/static/functions-string.html](http://www.postgresql.org/docs/current/static/functions-string.html)）：

```
SELECT DISTINCT split_part(crumbs,'->',2)
FROM table1
WHERE split_part(crumbs,'->',3)<>''; 
```

[http://sqlfiddle.com/#!1/600c7/5](http://sqlfiddle.com/#!1/600c7/5)

# asp-classic - 如何处理推送数据

> ID：15288591
> 
> 赞同：0
> 
> 时间：2013-03-08T07:08:57.320
> 
> 标签：asp-classic, foursquare

我不明白网站上的解释。

[https://developer.foursquare.com/overview/realtime](https://developer.foursquare.com/overview/realtime)

我正在使用经典的 asp，当他们说参数时，他们是指查询字符串还是表单。

我收到以下错误；您的服务器返回：502 Bad Gateway。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T10:54:00.600

网关错误意味着您的脚本正在尝试连接到外部 url，但未能成功

# ruby-on-rails - 从数据库中检索树并使用 Rails 将其转换为 json

> ID：15288592
> 
> 赞同：0
> 
> 时间：2013-03-08T07:09:23.350
> 
> 标签：ruby-on-rails, rails-activerecord

我有一个带有嵌套评论的表格，它们有`comment_id`指向父评论的字段。我输入`has_many :comments, :class_name => "Comment"`了评论的模型，所以我有一棵树。问题是如何利用 Rails 和 ActiveRecord 的所有功能从数据库中获取整个评论树并以 json 格式对其进行响应？我知道[祖先](https://github.com/stefankroes/ancestry) ，但我想找到没有任何侧面宝石的解决方案。我想学习在 Rails 中操作树状结构的最佳方法，因为这个任务会在我进一步的练习中一次又一次地出现。

**更新：**

我在[这里](https://stackoverflow.com/questions/9944005/how-to-generate-json-tree-from-ancestry)找到了一些相关的问题并使用了答案。我在模型中定义方法

```
 def self.get_tree(comments)
    comments.map { |comment|
      {:responses => get_tree(comment.comments), :user => comment.user, :text => comment.text}
    }
  end 
```

然后调用它来获取整棵树（有一些条件）

```
render :json => Comment.get_tree(Comment
  .where('announce_id = ?', params[:id])
  .where('comment_id is NULL')) 
```

有了这个实现，我现在清楚地看到这个任务不需要辅助宝石。但在当前的实现中，我应该在地图中列出所有评论的属性。有什么方法可以扩展现有对象`{:responses => get_tree(comment.comments), :user => comment.user}`吗？我发现 << 用于数组， .update 用于哈希，但后来我发现我不知道地`comment`图块内部是什么。它要么是数组，要么是哈希，要么是对象...

# python - 使用多个 SQL 语句更新数据库

> ID：15288594
> 
> 赞同：11
> 
> 时间：2013-03-08T07:09:29.467
> 
> 标签：python, mysql, database-connection, mysql-python

我正在使用从 MySQL 站点下载的 mysql connector.Python 1.0.9。

我[这里有一个样本表](http://sqlfiddle.com/#!2/7a7cb5/1)

```
DROP TABLE IF EXISTS my_table; 
CREATE TABLE my_table
(id INT NOT NULL AUTO_INCREMENT UNIQUE,
Shot VARCHAR(4),
sec varchar(5),
lay VARCHAR(15) NOT NULL,
lay_status VARCHAR(15) NOT NULL,
blk VARCHAR(10) NOT NULL,
blk_status VARCHAR(15) NOT NULL,
pri VARCHAR(10) NOT NULL,
pri_status VARCHAR(15) NOT NULL,
ani VARCHAR(10) NOT NULL,
ani_status VARCHAR(15) NOT NULL,
status VARCHAR(5)
);

INSERT INTO my_table VALUES
(1,'SH01','3','1863','yes','1863','yes','P4645','yes','P4557','yes','Over'),
(2,'SH02','2.5','1863','yes','P4645','no','P4557','yes','1863','no','Over'),
(3,'SH03','0.5','P4645','yes','P4557','yes','1863','yes','1863','yes','WIP'),
(4,'SH04','1.25','1863','no','P4645','no','P4557','yes','1863','yes','RTK'),
(5,'SH05','1','1863','yes','1863','yes','P4645','yes','P4557','yes','WIP'),
(6,'SH06','6','P4557','yes','P4645','yes','P4645','yes','P4557','yes','WIP'); 
```

我能够执行如下的单个 SQL 语句。

```
import mysql.connector

cnx = mysql.connector.connect(user='scott', database='test')
cursor = cnx.cursor()

SQL = '''
        update my_table 
        set 
        LAY = 'P6682'
        , BLK = 'P6682'
        , ANI = 'P6682'
        where
        Shot = 'SH01';
      '''

cursor.execute(SQL) 
```

一切都很好，数据库得到正确更新。

现在，当我尝试使用以下多个语句更新数据库时

```
import mysql.connector

cnx = mysql.connector.connect(user='scott', database='test')
cursor = cnx.cursor()

SQL = '''
    update my_table 
    set 
    LAY = 'P6682'
    , BLK = 'P6682'
    , ANI = 'P6682'
    where
    Shot = 'SH01';

    update my_table 
    set 
    LAY = '1863'
    , BLK = '1863'
    , ANI = '1863'
    where
    Shot = 'SH02'
'''

cursor.execute(SQL)
cnx.commit()
cur.close()
cnx.close()
cnx.disconnect() 
```

我得到以下引用错误

```
Traceback (most recent call last):
  File "Test_Module.py", line 24, in 
  File "C:\Python26\Lib\site-packages\mysql\connector\cursor.py", line 396, in execute
    "Use multi=True when executing multiple statements")
InterfaceError: Use multi=True when executing multiple statements 
```

我更新我的命令如下

```
cursor.execute(SQL,multi = True)

cnx.commit()
cur.close()
cnx.close()
cnx.disconnect() 
```

现在我没有收到任何错误/回溯。但是数据库没有更新。

谁能告诉我我在哪里做错了。

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2013-03-08T09:55:02.220

终于经过对文档和帮助的长期研究。我可以解决这个问题。

在with处使用`for`循环。我不知道为什么我们需要循环。`cursor.execute``multi=True`

```
for result in cursor.execute(SQL, multi=True):
    pass 
```

没有循环只是`cursor.execute(SQL, multi=True)`没有对数据库进行任何更改。

```
import mysql.connector

cnx = mysql.connector.connect(user='scott', database='test')
cursor = cnx.cursor()

SQL = '''
    update my_table 
    set 
    LAY = 'P6682'
    , BLK = 'P6682'
    , ANI = 'P6682'
    where
    Shot = 'SH01';

    update my_table 
    set 
    LAY = '1863'
    , BLK = '1863'
    , ANI = '1863'
    where
    Shot = 'SH02'
'''

for result in cursor.execute(SQL, multi=True):
    pass

cnx.commit()
cur.close()
cnx.close()
cnx.disconnect() 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2016-06-30T14:44:58.757

查看 MySQL 文档

> 如果 multi 设置为 True，则 execute() 能够执行操作字符串中指定的多个语句。它返回一个迭代器，可以处理每个语句的结果。但是，在这种情况下使用参数效果不佳，通常最好单独执行每条语句。

因此设置 multi=True 会返回一个迭代器，如果您只想遍历每个语句，则提供的其他解决方案效果很好：

```
for result in cursor.execute(SQL, multi=True):
    pass 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T07:12:55.603

你需要有某种承诺

```
cnx.commit() 
```

[MySQL 参考](http://dev.mysql.com/doc/refman/5.5/en/myconnpy_tutorial_CursorBuffered_GiveRaise.html)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2020-12-08T02:00:28.843

另一种选择是使用executemany，如下：

```
sql=('insert into articulos (descripcion, precio) values(%s,%s)')  
data=[('naranjas',22), ("pomelos", 29), ("frutillas", 130)]

cursor.executemany(sql,data) 
```

# node.js - 我如何测试响应是否已经设置/发送？

> ID：15288595
> 
> 赞同：7
> 
> 时间：2013-03-08T07:09:36.593
> 
> 标签：node.js, express

我有一个快速控制器动作“可能”发送内容的情况。

“发送”表示内容已发送 (http 200) 或 http 状态设置为某些内容（例如 http 状态 204 或重定向）

如果没有发送/设置默认例程，则应发送默认内容。

如果快速控制器操作已经设置内容或设置状态代码，我如何在我的默认例程中进行测试？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2017-04-08T18:25:49.840

`response.headersSent`应该管用。

例如：

```
if (response.headersSent) {
    console.log('Headers sent!')
} else {
    console.log('Headers have not been sent.')
}
res.writeHead(200);
if (response.headersSent) {
    console.log('Headers sent!')
} else {
    console.log('Headers have not been sent.')
} 
```

与客户端连接应记录：

```
Headers have not been sent.
Headers sent! 
```

# java - Hibernate 和非 Hibernate 表之间的查询

> ID：15288601
> 
> 赞同：1
> 
> 时间：2013-03-08T07:10:05.437
> 
> 标签：java, hibernate

我们可以在休眠表和非休眠表之间使用休眠查询吗？
意味着一个表是使用休眠注释创建的，即域对象和另一个表是在 ms sql server 2008 中手动创建的。

当我尝试时，它给出了例外：-

```
ERROR org.hibernate.util.JDBCExceptionReporter - Invalid object name 'xyz.abc' 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T07:40:04.613

不，您不能使用 HQL 查询未映射的实体。您可以在`createSQLQuery`方法的帮助下使用 SQL 查询未映射的实体。
不确定是否可以在同一查询中使用 sql + hql。

# iphone - 在 webview 中显示 PDF 文件

> ID：15288604
> 
> 赞同：0
> 
> 时间：2013-03-08T07:10:20.303
> 
> 标签：iphone

我正在做一个应用程序。我在 webview 中显示 pdf 文件，如下所示

```
 NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *fileName = [[paths objectAtIndex:0] stringByAppendingPathComponent:[default1 objectForKey:@"KeyToSelectedFile"]];
NSString *filename1=[fileName stringByAppendingPathComponent:s1];

NSLog(@"%@",filename1);
NSURL *url = [NSURL fileURLWithPath:filename1];
NSURLRequest *request = [NSURLRequest requestWithURL:url];
web=[[UIWebView alloc]initWithFrame:CGRectMake(0,0, 1020, 748)];
web.delegate=self;
[web loadRequest:request];
 web.backgroundColor=[UIColor whiteColor];
[self.view addSubview:web]; 
```

但是，当我第一次单击打开时，它会使应用程序崩溃，并且从下一次开始它会正确打开。并且第一次出现类似的错误

```
dyld: fast lazy binding from unknown image 
```

所以请告诉我如何在 uiwebview 中显示 pdf 而不会崩溃。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:15:51.920

我检查了这个，它工作正常，试试

```
UIWebView * pdfWebView = [[UIWebView alloc] initWithFrame:'your Frame'];
NSArray * Paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString * bundlePath = [[Paths objectAtIndex:0] stringByAppendingPathComponent:[NSString stringWithFormat:@"%@.pdf",yourFileName]];

if([[NSFileManager defaultManager] fileExistsAtPath:bundlePath])
{
    NSLog(@"Path : %@",bundlePath);
    [pdfWebView loadData:[NSData dataWithContentsOfFile:bundlePath] MIMEType:@"application/pdf" textEncodingName:nil baseURL:nil];
    [self.view addSubview:pdfWebView];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T07:19:32.867

这将完美无缺。

```
UIWebView * webview = [[UIWebView alloc] initWithFrame:Frmaesize
NSString * path = [[NSBundle mainBundle] pathForResource:@"Filename" ofType:@"pdf"];
NSURL * URL = [NSURL path];
NSURLRequest * request = [NSURLRequest requestWithURL:URL];
[webview loadRequest:request];
[self.view addsubView:webview]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T07:16:38.330

```
NSData *data = [NSData dataWithContentsOfFile: filename1];
[web loadData:data MIMEType:@"application/pdf" textEncodingName:@"utf-8" baseURL:nil];
web.backgroundColor=[UIColor whiteColor];
[self.view addSubview:web]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-08T07:20:59.607

为您的代码尝试这种方式，

```
 NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
        NSString *fileName = [[paths objectAtIndex:0] stringByAppendingPathComponent:[default1 objectForKey:@"KeyToSelectedFile"]];
        NSString *filename1=[fileName stringByAppendingPathComponent:s1];

        web=[[UIWebView alloc]initWithFrame:CGRectMake(0,0, 1020, 748)];
        web.delegate=self;
        web.backgroundColor=[UIColor whiteColor];
        NSData *data = [NSData dataWithContentsOfFile:filename1];
        [web loadData:data MIMEType:@"application/pdf" textEncodingName:@"UTF-8" baseURL:url];
        [self.view addSubview:web]; 
```

# javascript - 带有数组和 setTimeout 的 Javascript 4 图像幻灯片

> ID：15288607
> 
> 赞同：0
> 
> 时间：2013-03-08T07:10:28.903
> 
> 标签：javascript, arrays, settimeout, string-concatenation

```
<script type=text/javascript>

var topLeftImages = ["op.jpg", "qa.jpg", "fl.jpg", "eatgr.jpg", "na.jpg", "ctcc.jpg", "na.jpg", "oacahu.jpg", "hc.jpg", "sup.jpg", "oa.jpg", "rffcc.jpg"];
var topRightImages = ["eatgr.jpg", "ulandscaping.jpg", "fp.jpg", "clf.jpg", "lss.jpg", "sup.jpg", "ulandlord.jpg", "lqbc.jpg", "lss.jpg", "lp.jpg", "ulandlord.jpg", "qa.jpg"];
var bottomLeftImages = ["poss.jpg", "un.jpg", "pocsik.jpg", "sep.jpg", "rms.jpg", "fp.jpg", "al.jpg", "un.jpg", "sep.jpg", "op.jpg", "al.jpg", "oacahu.jpg"];
var bottomRightImages = ["nup.jpg", "clf.jpg", "rffcc.jpg", "sla.jpg", "lqbc.jpg", "pocsik.jpg", "fp.jpg", "np.jpg", "lwtgr.jpg", "lqbc.jpg", "lcsik.jpg", "poss.jpg"];

for(var i = 0, l = topLeftImages.length; i < l; i++)
{
    setTimeout(function()
    {
        document.getElementById('myimage1').src = "images\\" + "op.jpg";
        document.getElementById('myimage2').src = "images\\" + topRightImages[i];
        document.getElementById('myimage3').src = "images\\" + bottomLeftImages[i];
        document.getElementById('myimage4').src = "images\\" + bottomRightImages[i];
    }, 10000);
}
</script> 
```

相关的 HTML：

```
<img id="myimage1" src="http://www.hdwallpapers.in/walls/apple_sky_blue_aurora-wide.jpg" width="400" />
<img id="myimage2" src="http://www.hdwallpapers.in/walls/apple_sky_blue_aurora-wide.jpg" width="400" />
<img id="myimage3" src="http://www.hdwallpapers.in/walls/apple_sky_blue_aurora-wide.jpg" width="400" />
<img id="myimage4" src="http://www.hdwallpapers.in/walls/apple_sky_blue_aurora-wide.jpg" width="400" /> 
```

此代码旨在显示四个图像，并且每 10 秒同时切换所有四个图像，遍历我的四个数组中的所有图像。图像位于包含此代码的 HTML 文件上方的 images/ 目录中。出于测试目的，我`myimage1`只更改为 op.jpg。这有效并正确显示 op.jpg。但是，当查询数组而不是文件名时，我得到`undefined`. **那是第一个问题。**

**问题二**，当我将 for 循环更改为更正常的循环时，例如：

```
for(var i = 0; i < l2; i++) 
```

该脚本完全停止工作（不显示 op.jpg，甚至不尝试更改图像）......这到底是什么！

我正在使用 Firefox 和 Google Chrome 进行测试。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:25:07.507

我建议这样做：

```
<script type=text/javascript>
    $(document).ready(function () {

        var topLeftImages = ["op.jpg", "qa.jpg", "fl.jpg", "eatgr.jpg", "na.jpg", "ctcc.jpg", "na.jpg", "oacahu.jpg", "hc.jpg", "sup.jpg", "oa.jpg", "rffcc.jpg"];
        var topRightImages = ["eatgr.jpg", "ulandscaping.jpg", "fp.jpg", "clf.jpg", "lss.jpg", "sup.jpg", "ulandlord.jpg", "lqbc.jpg", "lss.jpg", "lp.jpg", "ulandlord.jpg", "qa.jpg"];
        var bottomLeftImages = ["poss.jpg", "un.jpg", "pocsik.jpg", "sep.jpg", "rms.jpg", "fp.jpg", "al.jpg", "un.jpg", "sep.jpg", "op.jpg", "al.jpg", "oacahu.jpg"];
        var bottomRightImages = ["nup.jpg", "clf.jpg", "rffcc.jpg", "sla.jpg", "lqbc.jpg", "pocsik.jpg", "fp.jpg", "np.jpg", "lwtgr.jpg", "lqbc.jpg", "lcsik.jpg", "poss.jpg"];

        var i = 0;
        var max = 12;

        setInterval(function()
        {
            var index = i % max;
            document.getElementById('myimage1').src = "images\\" + topLeftImages[index];
            document.getElementById('myimage2').src = "images\\" + topRightImages[index];
            document.getElementById('myimage3').src = "images\\" + bottomLeftImages[index];
            document.getElementById('myimage4').src = "images\\" + bottomRightImages[index];
            i++;
        }, 10000);
    });   
</script> 
```

带有一些示例图像的 jsFiddle [http://jsfiddle.net/ApfJz/8/](http://jsfiddle.net/ApfJz/8/)

# javascript - 加载图片对应的HTML页面

> ID：15288610
> 
> 赞同：-4
> 
> 时间：2013-03-08T07:10:42.427
> 
> 标签：javascript, jquery, html, css

当我从中选择图像时，下拉列表中有一组图像，相应的图像正在加载。

我的问题是，如果我单击图像，它必须将我带到图像的相应 HTML 页面。我在 jQuery 中执行它。我已经代表了下面的代码，你也可以参考这个链接 [http://www.olivepropertyglobalsolutions.com/](http://www.olivepropertyglobalsolutions.com/)

HTML：

```
<div class = "right">
  <h4 class = "heading"> Browse Listings </h4>
  <select style = "margin-top: 55px; margin-left: 18px;" name="image" id="image1" class="inputbox" size="1">
    <option value=""> - Select - </option>
    <option value="thumbs/3.jpg" >Farm Lands</option>
    <option value="thumbs/1.jpg" alt = "flat.html">Flats</option>
    <option value="thumbs/2.jpg" alt = "house.html">Houses</option>
    <option value="thumbs/4.jpg" alt = "vacant.html">Vacant Lands</option>
    <option value="thumbs/5.jpg" alt = "villa.html">Villas</option>
  </select>
  <div style = "margin-left: 14px;">
    <a id="imagePreview" href = ""> </a>
  </div>
</div> 
```

查询：

```
<script type="text/javascript">
  $(document).ready(function() {
    $("#image1").change(function() {
      $("#imagePreview").empty();
      if ( $("#image1").val()!="" ) {
        $("#imagePreview").append("<img src=\"" + $("#image1").val()  + "\" />");
      } else {
        $("#imagePreview").append("");
      }
    });
  });
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:27:46.593

HTML：

```
<div class = "right">
  <h4 class = "heading"> Browse Listings </h4>
  <select style = "margin-top: 55px; margin-left: 18px;" name="image" id="image1" class="inputbox" size="1">
    <option value=""> - Select - </option>
    <option value="farm-land" >Farm Lands</option>
    <option value="flats" alt = "flat.html">Flats</option>
    <option value="house" alt = "house.html">Houses</option>
    <option value="vacant" alt = "vacant.html">Vacant Lands</option>
    <option value="villas" alt = "villa.html">Villas</option>
  </select>        
</div> 
```

查询：

```
<script type="text/javascript">
  $(document).ready(function() {
    $("#image1").change(function() {
      $("#imagePreview").empty();
      if ( $("#image1").val()!="" ) {
        window.location.href = "http://domain/" + $(this).val() + ".html";
      } else {
        //anything
      }
    });
  });
</script> 
```

* * *

**注意：只给出页面名称而不`.html`提供选择中的选项值， `.html/.php/any extension`并且站点 URL 可以附加在 JS 中**

## 新要求

添加图像及其链接

```
<script type="text/javascript">
      $(document).ready(function() {
        $("#image1").change(function() {
          $("#imagePreview").empty();
          if ( $("#image1").val()!="" ) {
            "$("#imagePreview").append("<a src="http://domain/" + $(this).val() + ".html"> <img src=\"" + $(this).attr("alt");  + "\" /></a>");
          } else {
            //anything
          }
        });
      });
    </script> 
```

## 笔记

可能是syntex有些错误，但方法是这样

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T07:47:53.457

请检查这个 jQuery 代码：

```
 $(document).ready(function() {
            $("#image1").change(function() {
                $("#imagePreview").empty();
                if ( $("#image1").val()!="" ){
                    var url = $("#image1 option:selected").attr('alt');
                    alert(url);
                    $("#imagePreview").attr('href',url);
                    $("#imagePreview").append("<img src=\"" +$("#image1").val()  + "\" />");
                }
                else{
                    $("#imagePreview").append("");
                }
            });
        }); 
```

在此代码`$("#image1 option:selected").attr('alt');`中，将返回下拉列表中所选项目的“alt”属性值。在您的帮助下，`<a href="">`您可以提供指向相应 HTML 页面的链接。

# java - 如何在 Java 中对 jTable 列进行排序

> ID：15288612
> 
> 赞同：1
> 
> 时间：2013-03-08T07:10:54.063
> 
> 标签：java, swing, jtable

我通过 NetBean GUI 使 JTabel 名称为“infoTable”。使用 2 列（A 和 B）我将数据添加到此 JTabel（通过 GUI）我如何对第 1 列或第 2 列中的数据进行排序。我在 Google 中搜索，但所有答案都对我不起作用。有人可以给我一些代码吗？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T09:53:09.320

好吧，这不是最精彩的例子，但它说明了重点。

插入一些下降数据...

```
import java.awt.BorderLayout;
import java.awt.EventQueue;
import java.awt.GridLayout;
import java.awt.PopupMenu;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.List;
import javax.swing.Action;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.RowSorter;
import javax.swing.SortOrder;
import static javax.swing.SortOrder.ASCENDING;
import static javax.swing.SortOrder.DESCENDING;
import javax.swing.UIManager;
import javax.swing.UnsupportedLookAndFeelException;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.JTableHeader;
import javax.swing.table.TableModel;
import javax.swing.table.TableRowSorter;

public class TestTableSorter {

    public static void main(String[] args) {
        new TestTableSorter();
    }

    public TestTableSorter() {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
                } catch (ClassNotFoundException ex) {
                } catch (InstantiationException ex) {
                } catch (IllegalAccessException ex) {
                } catch (UnsupportedLookAndFeelException ex) {
                }

                try {
                    SimpleDateFormat sdf = new SimpleDateFormat("dd/mm/yyyy");
                    final JTable table = new JTable();
                    DefaultTableModel model = new DefaultTableModel(
                                    new Object[][]{
                        {"A", 1, sdf.parse("12/05/2000")},
                        {"B", 2, sdf.parse("12/06/2000")},
                        {"C", 3, sdf.parse("12/07/2000")},
                        {"D", 4, sdf.parse("12/08/2000")},
                        {"E", 5, sdf.parse("12/09/2000")},
                        {"F", 1, sdf.parse("12/10/2000")},
                        {"G", 2, sdf.parse("12/11/2000")},
                        {"H", 3, sdf.parse("12/12/2000")},
                        {"I", 4, sdf.parse("12/01/1990")},
                        {"J", 5, sdf.parse("12/02/1990")},
                        {"K", 1, sdf.parse("12/03/1990")},
                        {"L", 2, sdf.parse("12/04/1995")},
                        {"M", 3, sdf.parse("12/05/1995")},
                        {"N", 4, sdf.parse("12/06/1995")},
                        {"O", 5, sdf.parse("12/07/1995")},
                        {"P", 1, sdf.parse("12/08/1980")},
                        {"Q", 2, sdf.parse("12/09/1980")},
                        {"R", 3, sdf.parse("12/10/1980")},
                        {"S", 4, sdf.parse("12/11/1980")},
                        {"T", 5, sdf.parse("12/12/1980")},
                        {"U", 1, sdf.parse("12/01/1985")},
                        {"V", 2, sdf.parse("12/02/1985")},
                        {"W", 3, sdf.parse("12/03/1985")},
                        {"X", 4, sdf.parse("12/04/1985")},
                        {"Y", 5, sdf.parse("12/05/1985")},
                        {"Z", 1, sdf.parse("12/06/1985")},},
                                    new Object[]{"Name", "Number", "Date"});

                    table.setModel(model);
                    table.setAutoCreateRowSorter(true);

                    JPanel panel = new JPanel(new GridLayout(1, 3));
                    panel.add(createButton(table, 0));
                    panel.add(createButton(table, 1));
                    panel.add(createButton(table, 2));

                    JFrame frame = new JFrame("Test");
                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                    frame.setLayout(new BorderLayout());
                    frame.add(panel, BorderLayout.NORTH);
                    frame.add(new JScrollPane(table));
                    frame.pack();
                    frame.setLocationRelativeTo(null);
                    frame.setVisible(true);
                } catch (Exception exp) {
                    exp.printStackTrace();
                }
            }

            protected JButton createButton(JTable table, int col) {
                JButton btn = new JButton("");
                btn.addActionListener(new SortAction(table, col));
                return btn;
            }

        });
    }

    public class SortAction implements ActionListener {

        private JTable table;
        private int column;

        public SortAction(JTable table, int column) {
            this.table = table;
            this.column = column;
        }

        @Override
        public void actionPerformed(ActionEvent e) {
            RowSorter<? extends TableModel> rowSorter = table.getRowSorter();
            List<RowSorter.SortKey> sortKeys = new ArrayList<RowSorter.SortKey>(rowSorter.getSortKeys());
            boolean found = false;
            SortOrder order = SortOrder.ASCENDING;
            for (int index = 0; index < sortKeys.size(); index++) {
                RowSorter.SortKey key = sortKeys.get(index);
                if (key.getColumn() == column) {
                    found = true;
                    System.out.println("Found existing sort key for column " + column);
                    switch (key.getSortOrder()) {
                        case ASCENDING:
                            order = SortOrder.DESCENDING;
                            sortKeys.set(index, new RowSorter.SortKey(column, order));
                            break;
                        case DESCENDING:
                            order = SortOrder.UNSORTED;
                            sortKeys.remove(index);
                            break;
                    }
                    break;
                }
            }
            if (!found) {
                System.out.println("Add new sort key for column " + column);
                sortKeys.add(new RowSorter.SortKey(column, order));
            }
            System.out.println("List contains " + sortKeys.size());
            RowSorter newSorter = new TableRowSorter(table.getModel());
            newSorter.setSortKeys(sortKeys);
            table.setRowSorter(newSorter);
            switch (order) {
                case ASCENDING:
                    ((JButton) e.getSource()).setText("+");
                    break;
                case DESCENDING:
                    ((JButton) e.getSource()).setText("-");
                    break;
                default:
                    ((JButton) e.getSource()).setText(" ");
                    break;
            }
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T08:13:10.097

使用[JXTable](http://java.net/downloads/swingx/releases/1.6.2/)：内置排序，扩展 JTable。在 JTable 上点击排序确实很麻烦（但您*可以*在线找到分步教程）。

# c++ - MSVC 正在链接到调试版本中的发布库，而不是调试版本

> ID：15288619
> 
> 赞同：0
> 
> 时间：2013-03-08T07:11:30.637
> 
> 标签：c++, debugging, visual-c++, static-libraries

我正在使用 Microsoft Visual Studio 2008 (C++)。我有一个我想在调试模式下构建的解决方案。我正在引用一些第三方库（例如 MyGUI）。在调试构建结束时，链接器给出了一个致命错误（LNK1104），无法找到“MyGUIEngine.lib”。所以实际上在调试模式下，链接器应该链接到“MyGUIEngine_d.lib”。为什么要查找这个库的发布版本？

我正在构建多线程调试 DLL (/MDd)。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:20:59.687

“C/C++”->“代码生成”->“运行时库”设置（您已设置为“多线程调试 DLL”）控制您编译和链接的 C 和 C++ 运行时版本，并且具有与 3rd 方库（例如“MyGUIEngine”）无关。

要更改您链接到的“MyGUIEngine”版本，请将“Linker”->“Input”->“Additional Dependancies”中的值更改为“MyGUIEngine_d.lib”用于调试配置，将“MyGUIEngine.lib”用于发布配置。

# cuda - 错误：未在此范围内声明“blockIdx”

> ID：15288621
> 
> 赞同：2
> 
> 时间：2013-03-08T07:11:37.807
> 
> 标签：cuda, gpu

我尝试使用 CUDA 编写 GPU 程序。以下是我的功能：

```
__global__ static void
histogram_gpu(int * hist_out, unsigned char * img_in, int img_size, int nbr_bin){
    int i;
    const int bid = blockIdx.x;
    const int tid = threadIdx.x;
    // for ( i = 0; i < img_size; i ++){
    //     hist_out[img_in[i]] ++;
    // }
    for (i = bid*THREAD_NUM + tid; i < img_size; i += BLOCK_NUM*THREAD_NUM) {
        hist_out[img_in[i]]++;
    }
} 
```

当我在主函数中调用此函数时，会发生错误：

```
error: ‘blockIdx’ was not declared in this scope 
```

我在我的 MAC 机器上使用 CUDA 5.0，下面是 Makefile：

```
OSUPPER = $(shell uname -s 2>/dev/null | tr [:lower:] [:upper:])
OSLOWER = $(shell uname -s 2>/dev/null | tr [:upper:] [:lower:])

# Flags to detect 32-bit or 64-bit OS platform
OS_SIZE = $(shell uname -m | sed -e "s/i.86/32/" -e "s/x86_64/64/")
OS_ARCH = $(shell uname -m | sed -e "s/i386/i686/")

# These flags will override any settings
ifeq ($(i386),1)
    OS_SIZE = 32
    OS_ARCH = i686
endif

ifeq ($(x86_64),1)
    OS_SIZE = 64
    OS_ARCH = x86_64
endif

# Flags to detect either a Linux system (linux) or Mac OSX (darwin)
DARWIN = $(strip $(findstring DARWIN, $(OSUPPER)))

# Location of the CUDA Toolkit binaries and libraries
CUDA_PATH       ?= /Developer/NVIDIA/CUDA-5.0
CUDA_INC_PATH   ?= $(CUDA_PATH)/include
CUDA_BIN_PATH   ?= $(CUDA_PATH)/bin

ifneq ($(DARWIN),)
  CUDA_LIB_PATH  ?= $(CUDA_PATH)/lib
else
  ifeq ($(OS_SIZE),32)
    CUDA_LIB_PATH  ?= $(CUDA_PATH)/lib
  else
    CUDA_LIB_PATH  ?= $(CUDA_PATH)/lib64
  endif
endif

# Common binaries
NVCC            ?= $(CUDA_BIN_PATH)/nvcc
GCC             ?= g++

# Extra user flags
EXTRA_NVCCFLAGS ?=
EXTRA_LDFLAGS   ?=

# CUDA code generation flags
GENCODE_SM10    := -gencode arch=compute_10,code=sm_10
GENCODE_SM20    := -gencode arch=compute_20,code=sm_20
GENCODE_SM30    := -gencode arch=compute_30,code=sm_30 -gencode arch=compute_35,code=sm_35
GENCODE_FLAGS   := $(GENCODE_SM10) $(GENCODE_SM20) $(GENCODE_SM30)

GENCODE_FLAGS   := $(GENCODE_SM10) $(GENCODE_SM20) $(GENCODE_SM30)

# OS-specific build flags
# ifneq ($(DARWIN),) 
#       LDFLAGS   := -Xlinker -rpath $(CUDA_LIB_PATH) -L$(CUDA_LIB_PATH) -lcudart -lcublas -lcuda -lcufft -ltlshook 
#       CCFLAGS   := -arch $(OS_ARCH) 
# else
#   ifeq ($(OS_SIZE),32)
#       LDFLAGS   := -L$(CUDA_LIB_PATH) -lcudart
#       CCFLAGS   := -m32
#   else
      LDFLAGS   := -L$(CUDA_LIB_PATH)  -lcudart -lcublas -lcuda -lcufft -ltlshook
      CCFLAGS   := -m64
#   endif
# endif

# OS-architecture specific flags
ifeq ($(OS_SIZE),32)
      NVCCFLAGS := -m32
else
      NVCCFLAGS := -m64
endif

# Debug build flags
ifeq ($(dbg),1)
      CCFLAGS   += -g
      NVCCFLAGS += -g -G
      TARGET := debug
else
      TARGET := release
endif

# Common includes and paths for CUDA
INCLUDES      := -I$(CUDA_INC_PATH) -I. -I.. -I../../common/inc

# Add source files here
EXECUTABLE  := 5kk70-assignment-gpu
# Cuda source files (compiled with cudacc)
CUFILES     := 
# C/C++ source files (compiled with gcc / c++)
CCFILES     := main.cpp histogram-equalization.cu contrast-enhancement.cu

################################################################################
# Rules and targets
# All Phony Targets
.PHONY : everything clean

# Default starting position
everything : $(EXECUTABLE)

# Common includes and paths for CUDA
# INCLUDES      := -I$(CUDA_INC_PATH) -I. -I.. -I$(CUDA_INC_PATH)/samples/common/inc/

# Clean OBJECTS
clean :
    rm -f $(EXECUTABLE) $(OBJ)

$(EXECUTABLE) : $(CCFILES)
    $(NVCC) -o $@ $^ $(INCLUDES) $(LDFLAGS) $(EXTRA_LDFLAGS) $(GENCODE_FLAGS) 
```

我的代码有什么问题？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2014-04-13T22:20:21.590

当您在名为 .cpp 的文件中编写 cuda 代码并编译它时，就会出现此问题。将文件重命名为 .cu，编译器不会抱怨你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-03-11T21:36:19.393

在 bazel 构建规则中，尝试将 .cu.cc 文件放入 hdrs 而不是 srcs。

# sql - 员工ID自动生成带前缀

> ID：15288625
> 
> 赞同：3
> 
> 时间：2013-03-08T07:11:53.053
> 
> 标签：sql, visual-studio-2010, sql-server-2008, triggers

我很困惑，我希望员工 id 是自动生成的前缀格式我知道这可能在 sql server 中触发之前我关注帖子 [http://www.aspdotnet-suresh.com/2012/04/set-custom-自动生成的increment.html](http://www.aspdotnet-suresh.com/2012/04/set-custom-auto-generatedincrement.html)

```
USE [test1]
GO

/****** Object:  Table [dbo].[Users]    Script Date: 03/08/2013 12:28:08 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

SET ANSI_PADDING ON
GO

CREATE TABLE [dbo].[Users](
    [UserId] [varchar](50) NOT NULL,
    [UserName] [varchar](50) NULL,
    [LastName] [varchar](50) NULL,
    [Location] [varchar](50) NULL,
 CONSTRAINT [PK_Users] PRIMARY KEY CLUSTERED 
(
    [UserId] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO 
```

并且显示是

```
 UserId  UserName    LastName    Location
08U13000    SureshDasari    Dasari  Chennai
08U13001    SureshDasari    Dasari  Chennai
08U13002    SureshDasari    Dasari  Chennai
08U13003    SureshDasari    Dasari  Chennai
08U13004    SureshDasari    Dasari  Chennai
08U13005    SureshDasari    Dasari  Chennai
08U13006    SureshDasari    Dasari  Chennai
08U13007    SureshDasari    Dasari  Chennai
08U13008    SureshDasari    Dasari  Chennai
08U13009    SureshDasari    Dasari  Chennai
08U13010    SureshDasari    Dasari  Chennai
08U13011    SureshDasari    Dasari  Chennai
08U13012    SureshDasari    Dasari  Chennai
08U13013    SureshDasari    Dasari  Chennai
08U13014    SureshDasari    Dasari  Chennai
08U13015    SureshDasari    Dasari  Chennai 
```

[如何在SQL中自动创建具有以下系列A001000001 ... A001xxxxxx的主键？](https://stackoverflow.com/questions/12152960/how-to-automatically-create-the-primary-key-that-has-the-following-series-a00100)

但我想在触发器之前插入，并且这个触发器在同一个表和同一行中工作，例如 -

```
INSERT INTO Users (UserName,LastName,Location) VALUES('SureshDasari','Dasari','Chennai') 
```

和用户ID自动创建？喜欢--08U13015,08U13014

我是从插入到插入的表中做的，但是错误不能插入到插入或删除的表中
或任何其他方法请帮助我提前谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:46:34.373

[@marc_s](https://stackoverflow.com/a/12153031/569436)在问题中提供的答案是这样做的方法。

在您的情况下，它看起来像这样：

```
create table Users
(
  Id int identity (3000, 1),
  UserId as '08U1'+right('0000'+cast(Id as varchar(5)), 5) persisted,
  UserName varchar(50),
  LastName varchar(50),
  Location varchar(50),
  constraint PK_Users primary key (UserId)
) 
```

我不会像[这里](http://www.aspdotnet-suresh.com/2012/04/set-custom-auto-generatedincrement.html)建议的那样做。如果您曾经删除一行或在并发的情况下，您将有重复。

[SQL小提琴](http://sqlfiddle.com/#!3/a911c/1)

# android - 按下返回按钮时关闭 DatePickerDialog

> ID：15288627
> 
> 赞同：5
> 
> 时间：2013-03-08T07:12:04.913
> 
> 标签：android, android-fragments

在我看来，我有一个按钮，按下它会弹出一个 DatePickerDialog。弹出的对话框有一个“完成”按钮。当我按下该按钮时，所选日期将填充到 EditText 框中。

现在，当我按下返回按钮 ( ![返回键](../Images/8ecf87f6e546735e4ca295adadf1ca21.png)) 时，它仍会在 EditText 中填充日期。如何关闭对话框而不返回任何值。

这是我得到的代码-

调用片段的活动：

```
public class TransactionActivity extends FragmentActivity implements iRibbonMenuCallback {        
    .....
    public void selectDate(View view) { 
        // This is the method invoked by the button
        SelectDateFragment newFragment = new SelectDateFragment();
        newFragment.show(getSupportFragmentManager(), "DatePicker");
    }

    public void populateSetDate(int year, int month, int day) {
        // Puts the date in the EditText box
        mEdit = (EditText)findViewById(R.id.DateText);
        mEdit.setText(month+"/"+day+"/"+year);
    }
} 
```

对话框的片段（基于Android API 指南上的[此页面）：](http://developer.android.com/guide/topics/ui/controls/pickers.html)

```
public class SelectDateFragment extends DialogFragment implements DatePickerDialog.OnDateSetListener {
    @Override
    public Dialog onCreateDialog(Bundle savedInstanceState) {
        final Calendar calendar = Calendar.getInstance();
        int yy = calendar.get(Calendar.YEAR);
        int mm = calendar.get(Calendar.MONTH);
        int dd = calendar.get(Calendar.DAY_OF_MONTH);
        return new DatePickerDialog(getActivity(), this, yy, mm, dd);
    }

    public void onDateSet(DatePicker view, int yy, int mm, int dd) {
             // Calls a method on the activity which invokes this fragment
         ((TransactionActivity)getActivity()).populateSetDate(yy, mm+1, dd);    

    }
} 
```

似乎没有类似于 onDataSet 的方法来处理未设置数据的情况。

有没有办法取消/关闭弹出的日期选择器而不获得它的价值？

谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-08T08:23:27.990

看起来 Jelybean 存在一个错误，其中取消按钮不起作用（因此返回按钮）。这在[Jelly Bean DatePickerDialog 中有讨论 --- 有没有办法取消？](https://stackoverflow.com/questions/11444238/jelly-bean-datepickerdialog-is-there-a-way-to-cancel/)

在上述帖子中报告了错误和解决方法的[David Cesarino在](https://stackoverflow.com/users/489607/david-cesarino)[此处](https://docs.google.com/file/d/0B-Q8sq_qCRv3V1NEbk5kTlJXSm8/edit?pli=1)和[SO](https://stackoverflow.com/questions/11444238/jelly-bean-datepickerdialog-is-there-a-way-to-cancel/11493752#11493752)中发布了他的解决方案。

[Cavega](https://stackoverflow.com/users/947875/cavega)稍微修改了上述解决方案，以允许将 DatePickerDialog 中的日期初始化为今天日期以外的日期。代码可以在[这里](https://bitbucket.org/cavega/datepickerdialogsample/src)找到。我使用了他的解决方案并让它工作。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-11-02T20:55:22.763

我编写了标准 DatePickerDialog 的简单继任者，对我来说效果很好：

```
/**
 * Enhanced date picker dialog. Main difference from ancestor is that it calls
 * OnDateSetListener only when when pressing OK button, and skips event when closing with
 * BACK key or by tapping outside a dialog.
 */
public class IBSDatePickerDialog extends DatePickerDialog {

    public IBSDatePickerDialog(final Context context, final OnDateSetListener callBack, final int year, final int monthOfYear, final int dayOfMonth) {
        super(context, callBack, year, monthOfYear, dayOfMonth);
    }

    public IBSDatePickerDialog(final Context context, final int theme, final OnDateSetListener callBack, final int year, final int monthOfYear, final int dayOfMonth) {
        super(context, theme, callBack, year, monthOfYear, dayOfMonth);
    }

    @Override
    public void onClick(final DialogInterface dialog, final int which) {
        // Prevent calling onDateSet handler when clicking to dialog buttons other, then "OK"
        if (which == DialogInterface.BUTTON_POSITIVE)
            super.onClick(dialog, which);
    }

    @Override
    protected void onStop() {
        // prevent calling onDateSet handler when stopping dialog for whatever reason (because this includes
        // closing by BACK button or by tapping outside dialog, this is exactly what we try to avoid)

        //super.onStop();
    }
} 
```

使用对话框示例（免费奖励：向对话框添加取消按钮以获得更好的可用性）：

```
public static class datePickerFragment extends DialogFragment implements DatePickerDialog.OnDateSetListener {

    @Override
    public Dialog onCreateDialog(final Bundle savedInstanceState) {

        Calendar cal = Calendar.getInstance();
        IBSDatePickerDialog dlg = new IBSDatePickerDialog(myActivity, this, cal.get(Calendar.YEAR), cal.get(Calendar.MONTH), cal.get(Calendar.DAY_OF_MONTH));

        // Add Cancel button into dialog
        dlg.setButton(DialogInterface.BUTTON_NEGATIVE, "Cancel", (OnClickListener) null);

        return dlg;
    }

    @Override
    public void onDateSet(final DatePicker view, final int year, final int month, final int day) {
        // TODO: do whatever you want with date selected
    }
}

public void showDatePickerDialog() {
    final datePickerFragment f = new datePickerFragment();
    f.show(getSupportFragmentManager(), "datePicker");
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-12-20T13:55:31.340

我也为此苦苦挣扎，但解决方案非常简单。DialogFragment 实现了 DialogInterface.OnCancelListener 和 DialogInterface.OnDismissListener 并且因为 DialogInterface.OnCancelListener.onCancel 在 DialogInterface.OnDismissListener.onDismiss 之前被调用，所以您可以清除 onCancel 中的日期值并调用 onDismiss 中的 TransactionActivity.populateSetDate 方法，前提是日期值是不是0。

顺便说一句：为了使 Fragment 更加独立，最好在 Fragment 定义一个调用活动必须实现的公共接口，因此您可以在接口而不是活动上调用 populateSetDate 方法。

请参阅下面的代码以实现 onCancel 和 onDismiss：

```
public class SelectDateFragment extends DialogFragment
  implements DatePickerDialog.OnDateSetListener
{

  private int year;
  private int month;
  private int day;

  @Override
  public Dialog onCreateDialog(Bundle savedInstanceState) {
    final Calendar calendar = Calendar.getInstance();
    int yy = calendar.get(Calendar.YEAR);
    int mm = calendar.get(Calendar.MONTH);
    int dd = calendar.get(Calendar.DAY_OF_MONTH);
    return new DatePickerDialog(getActivity(), this, yy, mm, dd);
  }

  public void onDateSet(DatePicker view, int yy, int mm, int dd) {
    // Calls a method on the activity which invokes this fragment
    // ((TransactionActivity)getActivity()).populateSetDate(yy, mm+1, dd); 
    year = yy;
    month = mm;
    day = dd;
  }

  // Gets called before onDismiss, so we can erase the selectedDate
  @Override
  public void onCancel(DialogInterface dialog) {
    year = 0;
    month = 0;
    day = 0;
  }

  @Override
  public void onDismiss(DialogInterface dialog) {
    if (year != 0) {
      ((TransactionActivity)getActivity()).populateSetDate(year, month + 1, day);
    }
  }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-08T07:19:41.703

```
public class pickerdate extends Activity {
/** Called when the activity is first created. */
  private TextView mDateDisplay;
    private Button mPickDate;
    private int mYear;
    private int mMonth;
    private int mDay;

    static final int DATE_DIALOG_ID = 0;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        mDateDisplay = (TextView) findViewById(R.id.dateDisplay);
        mPickDate = (Button) findViewById(R.id.pickDate);

        mPickDate.setOnClickListener(new View.OnClickListener() {
            public void onClick(View v) {
                showDialog(DATE_DIALOG_ID);
            }
        });

        final Calendar c = Calendar.getInstance();
        mYear = c.get(Calendar.YEAR);
        mMonth = c.get(Calendar.MONTH);
        mDay = c.get(Calendar.DAY_OF_MONTH);

        updateDisplay();
    }
    private void updateDisplay() {
        mDateDisplay.setText(
            new StringBuilder()
                    // Month is 0 based so add 1
                    .append(mMonth + 1).append("-")
                    .append(mDay).append("-")
                    .append(mYear).append(" "));
    }
    private DatePickerDialog.OnDateSetListener mDateSetListener =
        new DatePickerDialog.OnDateSetListener() {

            public void onDateSet(DatePicker view, int year, 
                                  int monthOfYear, int dayOfMonth) {
                mYear = year;
                mMonth = monthOfYear;
                mDay = dayOfMonth;
                updateDisplay();
            }
        };
        @Override
        protected Dialog onCreateDialog(int id) {
            switch (id) {
            case DATE_DIALOG_ID:
                return new DatePickerDialog(this,
                            mDateSetListener,
                            mYear, mMonth, mDay);
            }
            return null;
        }
 } 
```

上面的代码对我有用。该对话框具有设置和取消按钮。设置将设置日期，取消将关闭对话框。根据您的需要进行相同的修改。单击后退按钮也将关闭对话框。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-08T07:17:16.317

我想你在问这个

```
 setOnCancelListener(new OnCancelListener() {
                @Override
                public void onCancel(DialogInterface dialog) {
    } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-08T07:22:31.287

您可以尝试将其包含在您的 alertDialog 中

如果取消对话框，mEdit 将返回为空。 `mEdit.setText("");`

```
 AlertDialog alertDialog;

    alertDialog.setOnCancelListener(new OnCancelListener() 
    {                   
           @Override
            public void onCancel(DialogInterface dialog) 
             {
               // TODO Auto-generated method stub
                    mEdit.setText(""); 
                    dialog.dismiss();                           

            }
}); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-08T07:52:11.453

使用以下方法，当用户按下**后退**按钮时调用该方法。这种方法是`Activity`。

```
@Override
public void onBackPressed() {
    // TODO Auto-generated method stub
    super.onBackPressed();

    dialog.dismiss();
} 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-12-11T08:35:30.117

您可以为正按钮实现自定义 OnClickListener，而不是实现自定义 DatePickerDialog：

```
DatePickerDialog dateDialog = new DatePickerDialog(this, null, year, month, day);
datePickerDialog.setButton(DialogInterface.BUTTON_POSITIVE,
    getResources().getString(R.string.text_done),
    new OnDoneClickListener(datePickerDialog));

// <...>

private class OnDoneClickListener implements DialogInterface.OnClickListener {

        private DatePickerDialog mPickerDialog;

        BirthDatePickerDialog(DatePickerDialog mPickerDialog) {
            this.mPickerDialog = mPickerDialog;
        }

        @Override
        public void onClick(DialogInterface dialog, int which) {
            SimpleDateFormat dateFormat = new SimpleDateFormat("dd/MM/yyyy");
            Calendar cal = Calendar.getInstance();
            DatePicker picker =  mPickerDialog.getDatePicker();
            cal.set(Calendar.YEAR, picker.getYear());
            cal.set(Calendar.MONTH, picker.getMonth());
            cal.set(Calendar.DAY_OF_MONTH, picker.getDayOfMonth());
            spinnerDateBirth.setText(dateFormat.format(cal.getTime()));
        }
} 
```

任何返回或点击空白区域都将关闭对话框，什么也不做。

# java - 在这种情况下使用合适的嵌套枚举？

> ID：15288630
> 
> 赞同：8
> 
> 时间：2013-03-08T07:12:19.247
> 
> 标签：java, design-patterns, enums

我需要支持多个`ChartTypes`. 这些图表类型中的每一种都可以支持许多`ChartSubTypes`. 例如`AreaChart`类型可以有`PercentArea`，`StackedArea`等等。我正在考虑使用枚举`ChartTypes`，`SubTypes`然后在某处维护一个地图，类似于：

```
Map<ChartType,List<ChartSubTypes> mapTypes; 
```

我可以在这里以某种方式使用嵌套枚举模式吗？如果是，那怎么办？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-08T07:19:43.983

如果该定义是常量（即您知道哪些子类型可以包含每种类型）您可以在此处使用枚举定义，如下所示

```
enum ChartSubTypes{
    PercentArea, StackedArea, ChartSubType3;
}

enum ChartTypes{
    AreaChart(ChartSubTypes.PercentArea, ChartSubTypes.StackedArea), 
    CharType2(ChartSubTypes.PercentArea, ChartSubTypes.ChartSubType3);

    private List<ChartSubTypes> subTypes = new ArrayList<ChartSubTypes>();

    private ChartTypes(ChartSubTypes ...chartSubTypes){
        for(ChartSubTypes subType : chartSubTypes){
            subTypes.add(subType);
        }
    }

    public List<ChartSubTypes> getSubTypes(){
        return Collections.unmodifiableList(subTypes);
    }
   } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-08T07:23:59.193

是的，您可以将图表子类型添加到图表类型，如下所示：

```
public enum ChartType {
    AreaChart(SubChartType.PercentArea, SubChartType.StackedArea), 
    AnotherChart(SubChartType.PercentArea);

    private List<SubChartType> subChartTypes = new ArrayList<>();

    ChartType(SubChartType... subChartTypes) {
        Collections.addAll(this.subChartTypes, subChartTypes);
    } 

    public List<SubChartType> getSubChartTypes() {
        return this.subChartTypes;
    }

    public static Map<ChartType,List<SubChartType>> getMapTypes() {
        HashMap<ChartType,List<SubChartType>> mapTypes = new HashMap<>();
        for (ChartType chartType : values()) {
            mapTypes.put(chartType, chartType.getSubChartTypes());
        }
        return mapTypes;
    }
} 
```

要获得您想要的地图，只需调用`ChartType.getMapTypes();`.

如果要求每个 ChartType 应该有一个或多个 SubChartType，那么您将需要此构造函数来强制执行该要求。

```
ChartType(SubChartType requiredSubType, SubChartType... subChartTypes) {
    this.subChartTypes.add(requiredSubType);
    Collections.addAll(this.subChartTypes, subChartTypes);
} 
```

Varargs 可以有零个参数。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T07:28:20.720

使用接口对枚举类型进行分组：

```
public interface ChartType {
    public someCommonMethod();
}

public enum AreaChart extends ChartType{
    PercentArea {
        public someCommonMethod(){
            //your code here
        }
    }, 
    StackedArea {
        public someCommonMethod(){
            //your code here
        }
    };
} 
```

您当然可以包含该接口的多个实现，即使您还不知道它。您也可以将接口用作参数（泛型或方法参数）类型。

# php - PHP foreach 循环自动将变量添加在一起

> ID：15288632
> 
> 赞同：0
> 
> 时间：2013-03-08T07:12:28.070
> 
> 标签：php, arrays, loops, foreach

我有一个 PHP 循环，它似乎以某种方式添加或存储不相关的数据，并且从它解释的数组的最后一个值开始，然后回显为有点混乱。这是我的代码：

```
$filenamewithext = explode("\n", $_POST['filename']);
foreach($filenamewithext as $line)
{   
    $filename = mysql_real_escape_string($line);
    $fileletter = substr($filename, 0, 1);
        if (ctype_alpha($fileletter)) {
            $folder = $folder.$fileletter."/";
        } else {
            $folder = $folder. "0-9" . "/";
        }   
    echo $folder;

} 
```

假设我们有 $filenamewithtext = test1, test2 和 test3 基于 POST 数据是什么，它是一个 HTML 文本区域，并且创建了一个数组，每个新行都是一个新值，它会输出类似的内容。

输出：

> /文件夹名/t//文件夹名/t/t/文件夹名/t/t/t/

我需要的是每次都只有 1 个“t”，而不是每次都重复第一个字符。我一直在努力解决这个问题已经有一段时间了，任何帮助都将不胜感激。谢谢。

更新：

用于启动 $folder 变量的代码。

```
if (array_key_exists('submit', $_POST)) {
$cat = $_POST['selectCat'];
switch ($cat){
    case "Adult" : 
        $tablename = "voxadultfilestable" ;
        $folder = "/imagesxxx/" ;
        break;
    case "clips" : 
        $tablename = "voxfilestable";
        $folder = "/images/" ;
        break;
    case "concerts" :
        $tablename = "voxconcertsfilestable";
        $folder = "/imagesconcerts/" ;          
        break;
    case "mixes" : 
        $tablename = "voxmixesfilestable";
        $folder = "/imagesmixes/"   ;       
        break;
    case "movies" : 
        $tablename = "voxmoviesfilestable";
        $folder = "/imagesmovies/"  ;
        break;
    case "mp3" : 
        $tablename = "voxmp3filestable";
        $folder = "/imagesmp3/" ;
        break;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:15:55.940

我相信问题是因为你的 foreach 正在循环一个变量并声明一个同名的变量：

```
foreach($filenamewithext as $filenamewithext) 
```

将其更改为类似

```
foreach($filenamewithext as $fext) {
} 
```

编辑，什么是`$filename1`和`$folder`？你继续追加到`$folder`. 在循环顶部重置它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T08:05:22.850

尝试添加

```
$folder = ''; 
```

内部 foreach 循环开始。看起来

$folder = $folder.$fileletter."/"; 正在添加旧的 $folder 并返回到 $folder

尝试一下

```
$filenamewithext = explode("\n", $_POST['filename']);
foreach($filenamewithext as $line)
{   
    $folder = ''; // empty $folder at beginning of loop
    $filename = mysql_real_escape_string($line);
    $fileletter = substr($filename, 0, 1);
        if (ctype_alpha($fileletter)) {
            $folder = $folder.$fileletter."/";
        } else {
            $folder = $folder. "0-9" . "/";
        }   
    echo $folder;

} 
```

# javascript - 根据组合框jquery中的动态值显示或隐藏div

> ID：15288641
> 
> 赞同：0
> 
> 时间：2013-03-08T07:13:07.547
> 
> 标签：javascript, jquery, html

我有一个名为**select_person** ={typeA, typeB} 的组合框。

选择一个选项时，我想显示其他组合框**has_id** ={has_id, has_no_id}

现在取决于在 typeA 或 typeB 中选择的值，并取决于 has_id 或 has_no_id 我想显示（或保持隐藏）相应的 div。

因此，如果注册表碰巧有一个 id 并且是 typeA，我将只显示一个输入字段，但如果是 typeA 并且没有 ID，我将显示 3 个输入字段，与 typeB 相同。

为此，我正在做类似的事情：

```
$(function () {
    $('#select_person').change(function () {
        $('#has_id').show();
        if ($('#select_person').val() == 'typeA') {
            $("#has_id").append("<option>" + $("#typeA_has_id").val() + "</option>");
            $("#has_id").append("<option>" + $("#typeA_has_no_id").val() + "</option>");
        }

        if ($('#select_person').val() == 'typeB') {
            $("#has_id").append("<option>" + $("#typeB_has_id").val() + "</option>");
            $("#has_id").append("<option>" + $("#typeB_has_no_id").val() + "</option>");
        }

    });
});

$(function () {
    $('#has_id').change(function () {
        $('.persons').hide();
                $('#' + $(this).val()).show();
            });      

    });
}); 
```

和 html

```
<Select id="select_person">
    <option value="0">Select person</option>
    <option value="typeA">typeA</option>
    <option value="typeB">typeB</option>
</Select>

<Select id="has_id" style="display:none"></Select>

<div id="person1" class="persons" style="display:none">
    <div class="form-left">Type A has id *</div>
    <input type="text" id="name" name="name" class="form-input"
    />
</div>
<div id="person1" class="persons" style="display:none">
    <div class="form-left">Type A has No id *</div>
    <input type="text" id="id" name="id" class="form-input"
    />
    <input type="text" id="name" name="name" class="form-input"
    />
    <input type="text" id="address" name="address" class="form-input"
    />
</div>

<div id="person2" class="persons" style="display:none">
    <div class="form-left">Type B has id *</div>
    <input type="text" id="nameB" name="nameB" class="form-input"
    />
</div>
<div id="person2" class="persons" style="display:none">
    <div class="form-left">Type B has No id *</div>
    <input type="text" id="idB" name="idB" class="form-input"
    />
    <input type="text" id="nameB" name="nameB" class="form-input"
    />
    <input type="text" id="addressB" name="addressB" class="form-input"
    />
</div> 
```

但不工作，你能帮帮我吗？[这是jsfiddle](http://jsfiddle.net/LEfbX/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T07:17:18.300

你`});`在文件的末尾有额外的......

你有两个同名的 id `person1`..这是无效的 HTML 标记..要么删除它..然后使用类

**根据您的评论**更新****

 **我已经创建了这个例子小提琴..阅读你的评论不确定这是否是你想要的..但​​我相信这会让你开始

[在这里摆弄](http://jsfiddle.net/bipen/LEfbX/18/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T07:19:26.153

一个小错误：}); 额外的

[http://jsfiddle.net/LEfbX/1/](http://jsfiddle.net/LEfbX/1/)

```
$(function () {
    $('#has_id').change(function () {
        $('.persons').hide();
                $('#' + $(this).val()).show();
            }); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T07:56:31.427

查看您的代码和 html 标记中发生了什么：

1.  `Your markup is invalid`因为它`used same ids for multiple elements`在同一页上。
2.  它也不清楚您将如何确定将值放入`$("#typeA_has_id").val()`.
3.  正如其他答案中提到的那样，您最后还有一个`});`额外的结束。

如果您想在您的`option`列表中添加一些值，`$('#has_id')`那么您可以尝试使用这个。

```
$("<option/>").val('a').text('a').appendTo("#has_id"); 
```

虽然如果你想看的话，我已经做了一些事情：

### [小提琴](http://jsfiddle.net/LEfbX/23/)

### 更改了html：

```
<div id="person-A-withID" class="persons" style="display:none"></div>
<div id="person-A-withoutID" class="persons" style="display:none"></div>
<div id="person-B-withID" class="persons" style="display:none"></div>
<div id="person-B-withoutID" class="persons" style="display:none"></div> 
```

### jQuery：

```
$(function () {
   $('#has_id').show();
   $('#select_person').change(function () {
     $('.persons').hide();
     if ($('#select_person').val() == 'typeA') {
        $("#has_id").html('');
        $("<option/>").val('0').text('--Choose Type A--').appendTo("#has_id");
        $("<option/>").val('person-A-withID').text('person-A-withID').appendTo("#has_id");
        $("<option/>").val('person-A-withoutID').text('person-A-withoutID').appendTo("#has_id");
     }

     if ($('#select_person').val() == 'typeB') {
        $("#has_id").html('');
        $("<option/>").val('0').text('--Choose Type B--').appendTo("#has_id");
        $("<option/>").val('person-B-withID').text('person-B-withID').appendTo("#has_id");
        $("<option/>").val('person-B-withoutID').text('person-B-withoutID').appendTo("#has_id");
     }
  });

  $('#has_id').change(function () {
    $('.persons').hide();
    $('#' + $(this).val()).show();
  });
}); 
```**

# mysql - Mule Studio，将字节数组转换为 MySQL

> ID：15288642
> 
> 赞同：0
> 
> 时间：2013-03-08T07:13:08.203
> 
> 标签：mysql, magento, mule

我已经建立并运行了一个 Magento 连接，并希望获得所有客户。我的子流程如下所示：

```
 <sub-flow name="listCustomers" doc:name="listCustomers">
    <magento:list-customers config-ref="MagentoConnecter" doc:name="Magento"/>
    <byte-array-to-object-transformer doc:name="Byte Array to Object"/>
    <json:object-to-json-transformer doc:name="Object to JSON"/>
    </sub-flow> 
```

结果是一个字符串。但我想将变量/客户数据插入 MySQL。我需要使用 foreach 组件吗？那么我该如何解决这些变量呢？

谢谢，克里斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T11:48:02.580

Foreach 似乎是实现这一目标的好方法。

要做的步骤如下：

1.  [使用JSON](http://www.mulesoft.org/documentation/display/current/Native+Support+for+JSON#NativeSupportforJSON-JSONTransformersAdded)转换器将 JSON 表示转换为地图列表（returnClass 将为 java.util.Map）
2.  引入foreach作用域
3.  在此范围内插入执行插入查询的[jdbc 出站端点](http://www.mulesoft.org/documentation/display/current/JDBC+Transport+Reference#JDBCTransportReference-BasicInsertUpdateDelete)

# prolog - 选择重做直到失败，为什么？

> ID：15288643
> 
> 赞同：0
> 
> 时间：2013-03-08T07:13:11.563
> 
> 标签：prolog, backtracking, gnu-prolog, redo

我有以下功能：

```
fillNonDrivers(Car, Pmd, Plo, ListOfPassengers) :-
  select(Passenger, Pmd, Plo1),
  Passenger = [_,n,_],
  /* etc */ 
```

我通过以下方式使用 trace on 调用它：

```
fillNonDrivers([hello, 2], [[david, n, punk]], PLO, LOP).
 1    1  Call: fillNonDrivers([hello,2],[[david,n,punk]],_29,_30) ? c
 2    2  Call: select(_111,[[david,n,punk]],_112) ? c
 2    2  Exit: select([david,n,punk],[[david,n,punk]],[]) ? c
 2    2  Redo: select([david,n,punk],[[david,n,punk]],[]) ? c
 2    2  Fail: select(_99,[[david,n,punk]],_100) ? c
 1    1  Fail: fillNonDrivers([hello,2],[[david,n,punk]],_29,_30) ? c
 no 
```

我不明白为什么在上面的跟踪中调用了重做。不应该选择“工作”，因此调用的下一行是

```
 Passenger = [_,n,_], 
```

有人可以在这里帮助解释重做的外观吗？先感谢您。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T12:32:41.990

GNU Prolog 似乎没有`=`在跟踪中显示统一目标 ( )。另请参阅此简化示例：

```
GNU Prolog 1.4.2
By Daniel Diaz
Copyright (C) 1999-2012 Daniel Diaz
| ?- [user].
compiling user for byte code...
f(X) :- X=3.

user compiled, 2 lines read - 182 bytes written, 12539 ms

(266 ms) yes
| ?- trace.
The debugger will first creep -- showing everything (trace)

yes
{trace}
| ?- f(N).
      1    1  Call: f(_17) ? 
      1    1  Exit: f(3) ? 

N = 3

yes
{trace}
| ?- 
```

`X=3`请注意，与 CappeliC 给出的 SWI 跟踪步骤 7 相比，没有类似的步骤。

所以它只是意味着`Passenger = ...`失败后的下一个目标。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T08:09:13.363

这意味着您的规则在绑定到乘客之前立即失败，鉴于测试用例，这永远不会发生。跟踪应该报告失败的原因，实际上是在 SWI-Prolog 中：

```
fillNonDrivers(Car, Pmd, Plo, ListOfPassengers) :-
  select(Passenger, Pmd, Plo1),
  Passenger = [_,n,_],
  /* etc */
  length(Plo1, 1). % expect a failure

4 ?- fillNonDrivers([hello, 2], [[david, n, punk]], PLO, LOP).
Call: (6) fillNonDrivers([hello, 2], [[david, n, punk]], _G995, _G996)
Call: (7) lists:select(_G1100, [[david, n, punk]], _G1102)
Exit: (7) lists:select([david, n, punk], [[david, n, punk]], [])
Call: (7) [david, n, punk]=[_G1093, n, _G1099]
Exit: (7) [david, n, punk]=[david, n, punk]
Call: (7) length([], 1)
Fail: (7) length([], 1)
Redo: (7) lists:select(_G1100, [[david, n, punk]], _G1102)
Fail: (7) lists:select(_G1100, [[david, n, punk]], _G1102)
Fail: (6) fillNonDrivers([hello, 2], [[david, n, punk]], _G995, _G996)
false. 
```

可能是您的 Prolog 调试器的错误？

# android - 如何以编程方式打开设备扩展坞设置？

> ID：15288644
> 
> 赞同：7
> 
> 时间：2013-03-08T07:13:11.703
> 
> 标签：android, settings, dock

我必须通过代码打开设备底座设置。我搜索但没有得到正确的解决方案。在三星 Galaxy s-3 中，它通过设置-> 附件。我尝试了以下代码但没有用

```
startActivityForResult(new Intent(Settings.System.getString(getContentResolver(), DOCK_SETTING)), 0); 
```

![在此处输入图像描述](../Images/e245ee748cf53f88a694b78f6cf7f4f6.png) ![在此处输入图像描述](../Images/519889b2ecb2b74ddd5207096fc8504a.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-11T07:22:31.867

如果我错了，请纠正我，但我相信这不起作用的原因，（以及为什么您无法在 Android[设置](http://developer.android.com/reference/android/provider/Settings.html)中找到适当的活动操作），是因为**附件**似乎是由三星为其提供的银河设备。因此，您将无法在标准的 Android SDK 中找到它（还没有？）。

我目前正在尝试找出解决方法，因此如果找到解决方案，我将编辑此帖子。

编辑：看起来 JoxTraex 找到了一种方法让您通过以下方式编辑设置：

```
Settings.System.putInt(getContentResolver(), "dock_sounds_enabled", 1); 
```

此外，如果您需要在用户对接设备时修改这些设置，您应该创建一个[BroadcastReceiver](http://developer.android.com/reference/android/content/BroadcastReceiver.html)来监听[ACTION_DOCK_EVENT](http://developer.android.com/reference/android/content/Intent.html#ACTION_DOCK_EVENT)广播。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-11T07:34:08.240

我能够通过查看设置并以编程方式配置设置来实现这一点：

```
android.provider.Settings.System.putInt(getContentResolver(), "dock_sounds_enabled", 1); 
```

您需要以下权限：

```
<uses-permission android:name="android.permission.WRITE_SETTINGS"/> 
```

上面的代码将写入在三星 s3 上启用基座声音设置的设置。**然而;** 而不是仅仅编写它，您应该告诉用户该设置已禁用并且您需要启用它并允许用户确认他们想要通过对话框启用它。

另一方面，我认为不可能直接进入设置->附件屏幕，因为它是三星添加的自定义设置。**Android SDK 中没有**提供此操作，因此需要一段时间才能得出实际操作是什么，或者即使它存在。

如果您想确认它，只需查询它：

```
String where = "name = 'dock_sounds_enabled'";
Cursor c = getContentResolver().query(android.provider.Settings.System.CONTENT_URI, null, where, null, null); 
```

## 更新

如何处理对话框响应以配置停靠设置的步骤：

*   抓住设置..如果它是0，打开对话框来启用它，否则继续你的处理

*   一旦对话框启动并且用户确认他们想要启用它：

*   确认：将 1 放入 Dock 声音中，然后关闭对话框

*   拒绝：不要设置停靠设置然后关闭对话框

# javascript - Chrome 扩展 - 写入不同域的本地存储

> ID：15288648
> 
> 赞同：6
> 
> 时间：2013-03-08T07:13:37.020
> 
> 标签：javascript, google-chrome-extension, local-storage

如何写入不同域的本地存储。这个想法是我需要我的 chrome 扩展在本地存储中写一些东西，当用户访问相关网站时，站点站点可以读取本地存储的内容。我正在尝试在用户的个人数据之间进行同步，而不必将它们存储在服务器中。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-08T10:45:51.190

[Content scripts](https://developer.chrome.com/extensions/content_scripts.html) have direct acccess to a page's localStorage.

If you want to store a value for a specific domain, just open a window or frame, then write to the window/page's local storage.

1.  Pick your favorite option to activate the page:

    *   [`chrome.tabs.create`](https://developer.chrome.com/extensions/tabs.html#method-create) to create an inactive tab, perhaps in the non-active window found by using [`chrome.tabs.query`](https://developer.chrome.com/extensions/tabs.html#method-query).
    *   The experimental `offscreenTabs` API (experimental, so not ready for use in production). See some of the [examples](https://stackoverflow.com/search?q=user:me%20%5Boffscreentabs%5D) I posted on SO.
    *   Create an IFrame and insert it in the current page.
    *   `window.open` (not recommended...)

    When you decide to open a page, pick one which is light-weight. `/robots.txt` is usually a good choice: It exists on most sites, *and* it is a plain text file.

2.  Activate the content script for the page. You can either use the manifest file and make use of the [messaging](https://developer.chrome.com/extensions/messaging.html) APIs, or add a callback to the `chrome.tabs.create` method which programatically inserts a content script ([`chrome.tabs.executeScript`](https://developer.chrome.com/extensions/tabs.html#method-executeScript)).

Here's a simple example. It requires the `tabs` API because I'm using `chrome.tabs.executeScript`. Furthermore, the origin you want to access should also be added to the permissions list.

```
chrome.tabs.create({
    active: false,
    url: 'http://stackoveflow.com/robots.txt'
}, function(tab) {
    chrome.tabs.executeScript(tab.id, {
        code: 'localStorage.setItem("key", "value");'
    }, function() {
        chrome.tabs.remove(tab.id);
    });
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-08T08:39:57.820

由于跨域限制，我认为唯一的解决方案是通过脚本注入。

```
var s = document.createElement('script');
s.src = chrome.extension.getURL("script.js");
s.onload = function() {
    this.parentNode.removeChild(this);
};
(document.head||document.documentElement).appendChild(s); 
```

将文件添加`script.js`到访问其他站点 localStorage 的扩展程序中，您必须`script.js`在清单文件中添加到“web_accessible_resources”。

请注意，脚本在完全加载后会自动删除，因此请确保您要执行的代码包含在自可执行函数中。

# jasperserver - Jaspersoft Server pro：如何在不选择 Ad Hoc 视图的情况下从域在线创建报告？

> ID：15288649
> 
> 赞同：0
> 
> 时间：2013-03-08T07:13:47.553
> 
> 标签：jasperserver

我正在下载 JasperReports Server pro 5，安装它。一切都好。

首先，我创建了一个数据源，链接没问题。然后我创建一个域。最后，我想从头开始创建一个报告，但我唯一能做的就是选择一个 Ad Hoc。![图片](../Images/975721dbb608c39567e56f6d9ca8fdaf.png)

我想从头开始创建报告，而不是选择 Ad Hoc View。你能告诉我该怎么做或我做错了什么吗？

谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-15T05:14:17.597

您可以在 iReport 中执行此操作。

1）创建到托管域的 jasperserver 的存储库连接

2）转到文件菜单，点击新建，从左侧面板中选择域报告

3) 选择您在步骤 1 中创建的 jasperserver 连接

4) 选择要用于创建报告的域 单击下一步

5）转到顶部的窗口菜单，选择域窗口。域窗口将出现在左下方

角落 。它将拥有 domain 公开的所有字段。

6) 右键单击​​任何字段，然后选择 Add (to report) 。它将被添加到字段中

部分。一个一个地选择所有字段。

7）现在您拥有所有字段@您的处置。您可以将其中的几个拖放到

详细信息带，然后单击预览。

8) 您可以通过单击域窗口中的发布按钮来发布此报告。在你之后

publish ，您可以在 jasperserver UI 中访问此报告。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-20T06:45:53.393

您应该选择菜单 Create -> Ad Hoc View

这是“从头开始创建报告”的起点。它会让你选择你想要的数据。有时这就是结束（当你想做的只是分析数据时）。但在您的情况下，您可能会在获得所需数据后继续保存报告。然后，您将拥有一个传统的报告，可以安排或用于您想要的任何目的。

# search - 开源搜索引擎：Lucene 的替代品

> ID：15288652
> 
> 赞同：0
> 
> 时间：2013-03-08T07:14:04.730
> 
> 标签：search, open-source, lucene, full-text-search, search-engine

目前我们正在使用 Lucene 作为我们的搜索引擎，但我们想看看一些替代品。我在网上看了几个，但似乎很多都过时了，或者开发停止了。这就是为什么我想问你们是否知道仍在开发中的 Lucene 的任何好的开源替代品？

亲切的问候，

梅林

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T07:18:53.880

尝试 Sphinx 搜索[http://sphinxsearch.com/](http://sphinxsearch.com/)。许多 NLP 研究人员都在使用它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-09T06:35:18.853

如果您正在寻找开源和基于 Java 的替代方案，那么您可以尝试[Terreir](http://terrier.org/%20Terrier)。请注意，Terrier 的目标是学术界。

如果语言不是问题，那么您可以查看[Xapian](http://xapian.org/%20Xapian)。我发现它的社区非常活跃，它曾多次参加 Google Summer of Code。

否则，你可以试试 Whoosh，一个基于 python 的搜索库。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-04T23:31:43.280

[FastcatSearch](https://github.com/fastcatgroup/fastcatsearch)也是开源和基于 java 的替代方案。

如您所知，Lucene 是一个 IR 库，Solr 是一个搜索服务器，FastcatSearch 是 Solr 的对应物。

它提供了基于 Web 的管理器，因此您可以轻松设置配置。

# ios - 填充分组的 UITableView

> ID：15288654
> 
> 赞同：1
> 
> 时间：2013-03-08T07:14:04.917
> 
> 标签：ios, objective-c, ios6, uitableview

我正在尝试`UITableView`使用`NSMutableArray`. 我希望数组中的每个元素都有自己的部分。ie ：每个部分一个元素（一行）。

这是我到目前为止编写的代码。

```
#import "MailViewController.h"

@interface MailViewController ()

@end

@implementation MailViewController

NSMutableArray *mailboxes;

- (id)initWithStyle:(UITableViewStyle)style
{
    self = [super initWithStyle:style];
    if (self) {

    }
    return self;
}

- (void)viewDidLoad
{
    [super viewDidLoad];

    mailboxes = [[NSMutableArray alloc] initWithObjects:@"Inbox", @"Drafts", @"Sent Items", nil];
}

- (void)didReceiveMemoryWarning
{
    [super didReceiveMemoryWarning];
}

#pragma mark - Table view data source

- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    return mailboxes.count;
}

- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return 1;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"Cell";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
    }
    cell.textLabel.text = [mailboxes objectAtIndex:indexPath.row];

    return cell;
}

@end 
```

目前这是它的外观。

![在此处输入图像描述](../Images/5dc85f4a748245d94f0f5f71583e0d2e.png)

我怎样才能按照我上面描述的方式得到这个？（第一部分：收件箱，第二部分：草稿，第三部分：已发送邮件等）我已经接近了，但还没有完全到那里。

谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-08T07:17:10.197

你应该改变：

```
cell.textLabel.text = [mailboxes objectAtIndex:indexPath.row]; 
```

至

```
cell.textLabel.text = [mailboxes objectAtIndex:indexPath.section]; 
```

这些行应该在`cellForRowAtIndexPath:`方法中。

您的数组索引应该基于部分而不是行。行始终固定为零。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T07:17:52.787

代替

```
 cell.textLabel.text = [mailboxes objectAtIndex:indexPath.row]; 
```

和

```
 cell.textLabel.text = [mailboxes objectAtIndex:indexPath.section]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T08:06:20.197

如果您还想要部分标题，请实现`- (NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section`并返回基于部分的字符串..

使用其他答案的代码，您将能够在每个部分中显示一个单元格。我更喜欢做的是拥有多维`NSArray`的预建单元格，当我需要它们时，它们位于 index 中`[section][row]`。

您目前有一个只有部分的数组，并尝试将它们作为行访问（正如其他答案所建议的那样）。如果您在一个表组中有更多邮箱，则您的代码将不起作用..

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-03-08T08:16:46.813

```
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
 {
    return [mailboxes count];
 }

   - (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection: (NSInteger)section
  {
   return 1;
  }

  - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
 {
   static NSString *CellIdentifier = @"Cell";
   UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
   if (cell == nil) {
    cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault     reuseIdentifier:CellIdentifier];
    }
      switch(indexpath.section){
             case 0:
              cell.textLabel.text = [mailboxes objectAtIndex:indexPath.section];
              case 1:
               cell.textLabel.text = [mailboxes objectAtIndex:indexPath.section];
               case 2:
               cell.textLabel.text = [mailboxes objectAtIndex:indexPath.section];
                default:
                 break;
             }
   return cell;
 } 
```

# javascript - 我可以将 OpenLayers 用于简单的自定义平铺网格系统吗？

> ID：15288655
> 
> 赞同：2
> 
> 时间：2013-03-08T07:14:05.307
> 
> 标签：javascript, html, maps, openlayers

我的数据库中有一个表，其中包含 2.500 个图块，因此为 50 x 50。前端大小为每个图块 256 像素 x 256 像素，应该没有缩放级别。然后是保存其他数据（建筑物、对象）的表，并且这些对象中的每一个都可能属于某个图块。

在前端，我想使用全屏 OpenLayers 来显示一组图块来填充屏幕，并且只使用拖动和异步。重新加载 OpenLayers 提供的图块。如果可能，如果到达世界地图的边界，甚至会自动停止拖动。

我也不想渲染图像（png） - 瓷砖应该是空`<div>`的或至少是透明的，因为身体的背景无论如何都是重复的草纹理，我想`<img>`根据与模型中的平铺。

任何熟悉 OpenLayers 的人都可以告诉我在后端使用如此简单的自定义模型是否可行？有关此特定案例的任何资源都会非常有帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T19:40:12.970

是的，如果表中的每个图块都有一些与之关联的地理空间数据，例如边界或角的纬度/经度，这在 OpenLayers 中是可能的。

OpenLayers 希望在浏览器的视口中按地理空间放置基础图层（您的瓦片为 WMS）和要素（您的建筑物和对象为 WMS、WFS 或矢量）。诀窍是将 OpenLayers 限制为单个缩放级别（分辨率）以匹配存储切片的隐式分辨率，然后设置 OpenLayers.Map 对象的 maxExtent 以匹配所有切片的范围，以便生成每个 WMS 切片请求由 OpenLayers 提供的边界框与您的一个图块相匹配。

这是 OpenLayers 为我拥有的简单基础层生成的 WMS 请求（BBOX 以米为单位）。该链接位于防火墙后面，因此对您不起作用：

```
http://kpnatsp8:9080/WmsServlet?SERVICE=USSTATES&TRANSPARENT=FALSE&FORMAT=image/png&LAYERS=USSTATES&SCALE=4000000.0000000005&SPHERICALMERCATOR=true&MAXEXTENT=-20037508.34,-20037508.34,20037508.34,20037508.34&REQUEST=GetMap&STYLES=&SRS=EPSG:900913&BBOX=-12812623.352549,3443367.869216,-11909512.729118,4346478.492647&WIDTH=640&HEIGHT=640 
```

我有一个 Java servlet 接受该请求并返回一个平铺图像。您将编写自己的 servlet 或服务器端脚本来接受请求，确定数据库中的哪个图块与 BBOX 边界匹配，然后将该图块作为图像响应返回。

对不起，如果我在这里迂腐，但你对 OpenLayers 听起来很陌生。这是我开始的方式，但我对更好的想法持开放态度。

# utf-8 - jsp中UTF-8魔法的讲解

> ID：15288660
> 
> 赞同：0
> 
> 时间：2013-03-08T07:14:30.083
> 
> 标签：utf-8

我刚刚开始使用国际化，我的系统配置如下：

1 .我已将我的数据库字符编码指定为 UTF-8

2 .在 my.cnf 中增加了 2 行

```
 default-character-set=utf8
 default-collation=utf8_general_ci 
```

3.在每个jsp页面添加

`<%@ page contentType="text/html;charset=UTF-8" language="java"%>`

4.在我的 server.xml 添加 URIEncoding="UTF-8"

现在我的问题是，每当我输入一个“数字”时，它在孟加拉语字体的“int”中有变量，它以英语存储在数据库中。但是，如果我以孟加拉语字体输入任何“字符串”，它将作为孟加拉语存储在数据库中。int 类型变量发生了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:25:35.553

它没有以“英文”形式存储在数据库中；它使用数据库自​​己的整数表示形式存储为整数（可能是二进制或二进制编码的十进制，具体取决于数据库）。在大多数情况下，这几乎肯定是您想要的。

从 a `String`（表示数字）转换为 an`int`称为“解析”。某处的某些代码可能正在调用`parse()`一个`NumberFormat`对象，并且此格式对象知道用户的语言环境（这可能允许但是数字是用孟加拉语编写的）。

相反（显示`int`为 a `String`）称为“格式化”，这也可以了解用户的语言环境。

# android - Android Layer-list 排列

> ID：15288662
> 
> 赞同：1
> 
> 时间：2013-03-08T07:14:43.450
> 
> 标签：android, layer

我正在使用以下图层列表文件来制作背景图像。

**图层列表：**

```
<?xml version="1.0" encoding="utf-8"?>
<!--  <bitmap xmlns:android="http://schemas.android.com/apk/res/android"
        android:src="@drawable/bgpattern"
        android:tileMode="repeat"
         /> -->
         <layer-list xmlns:android="http://schemas.android.com/apk/res/android"

             >
           <item >      
              <bitmap 
                   android:src="@drawable/bgpattern"
                   android:tileMode="repeat"

         />   
               </item>    

               <item android:drawable="@drawable/trans"

                   >      
              </item> 
              <item  android:bottom="2dp" android:left="2dp" >      
                   <bitmap 
                   **android:src="@drawable/colordots"**
                   android:gravity="bottom"

         />   
              </item> 

      </layer-list> 
```

但是**android:src="@drawable/colordots**图像出现在屏幕的中心底部，我需要它出现在屏幕的左下角。我该怎么做才能帮助我做到这一点。 android:left="2dp" 没有服用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:23:02.190

尝试`<bitmap android:gravity="left|bottom"/>`

# php - 如何将变量放入codeigniter $row->data

> ID：15288663
> 
> 赞同：-2
> 
> 时间：2013-03-08T07:14:46.597
> 
> 标签：php, database, codeigniter

我想通过更改其标题来使变量更简单..这是我的代码

```
<?php foreach($query->result() as $row) : ?>
            <?php $id = $this->uri->segment(1);?>
            <?php if($id === "product"){ $id === 'product'; }elseif($id === 'pabrikan'){ $id === 'pabrikan';}   ?>
            <?php $productTitle = str_replace(' ' ,'-', $row->.$id._title);?><?php endforeach;?> 
```

但是我想通过从 $id 中获取 $productTitle 可以是动态的。$row->product_title 怎么可能是 $row->$id_title $id 取自段 1。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:26:49.707

尝试这个：

```
<?php 
foreach($query->result_array() as $row)
{
    $id = $this->uri->segment(1);
    $var_title=$id.'_title';
    $productTitle=$row[$var_title];
    ..... 
```

# opencv - OpenCV 2.4.3 的视频问题

> ID：15288668
> 
> 赞同：0
> 
> 时间：2013-03-08T07:15:39.980
> 
> 标签：opencv, video-capture

我几乎遇到了这里描述的确切问题：

[Windows 中的 VideoCapture OpenCV 2.4.2 错误](https://stackoverflow.com/questions/12279833/videocapture-opencv-2-4-2-error-in-windows)

提供的建议都没有帮助，所以我想我会再问一次。我在 Windows 7 上使用 Visual Studio 2010 Express，但我也尝试过 Visual Studio 2008 Professional，结果完全相同。我能够编译并且当我运行应用程序时，我期望的所有 DLL 都被加载（没有来自其他版本的 OpenCV 的 DLL 被无意加载）。我还能做些什么来调试它吗？我正在使用创意直播！凸轮社交高清自动对焦。我认为其他人已经能够让这台相机与 OpenCV 一起使用。当我运行以下代码时：

```
#include "opencv2/opencv.hpp"
#include <iostream>
using namespace cv;
using namespace std;

int main(int, char**)
{
    VideoCapture cap("0"); // open the default camera
    if(!cap.isOpened())  // check if we succeeded
       {
     cout << "Error opening camera!";
     getchar();
     return -1;
 }
    // the camera will be deinitialized automatically in VideoCapture destructor
    return 0;
} 
```

我总是收到以下消息：

警告：打开文件时出错 (../../modules/highgui/src/cap_ffmpeg_impl.hpp:365) 打开相机时出错！

我将非常感谢任何建议。谢谢！

# java - 为什么此 Google App Engine 应用程序意外重定向到 Google 登录页面？

> ID：15288669
> 
> 赞同：0
> 
> 时间：2013-03-08T07:15:41.987
> 
> 标签：java, google-app-engine, jakarta-ee, gae-eclipse-plugin

我部署了一个使用 Java 和 Facebook Javascript SDK 创建的小型应用程序。该应用程序运行良好，直到它打开我的第一页 idex.jsp。在这里，我有一个名为“Enter”的提交按钮。当我点击它时，它会将我带到 Google 帐户的登录页面，而不是显示下一页的内容。如何删除此不需要的对 Google 登录的重定向？我的应用程序中没有执行此重定向的任何代码。
此外，当我在某些浏览器（例如 IE）中按 Enter 时，Enter 按钮没有任何作用！但是，当我通常使用 myapp.appspot.com 运行该应用程序时，它确实将我带到了我的应用程序的第二页。有人可以帮忙吗？

这是我在 index.jsp 中的部分代码，可将我带到下一页。

```
<form action="check_gender" name ="check_gender" method ="post">

<table width="100%" height="30" border="0"> 
  <tr>
      <td bgcolor="#C0C0C0"width="800" height="50" align="center"><img src="xyz.jpg" width="60%" height="302"></td>
  </tr>
</table>  
    <%String name=(String) request.getParameter("my_input_field");%>
    <%String gender=(String) request.getParameter("my_input_field1");
    System.out.println(request.toString());
    request.getSession().setAttribute("name",name);
    request.getSession().setAttribute("gender",gender);
    %>
  <table width="100%" height="30" border="0"> 
  <tr>
    <td><h2>Hello <%=name%>!</h2></td>
  </tr>
  <tr>
    <td align="center">
    <div id="header" style="background-color:#FFD700;">
<h1 style="margin-bottom:0;">some name</h1></div></td>
  </tr>

    <tr><td>&nbsp;</td></tr>
  <tr><td>&nbsp;</td></tr>
  <tr><td>&nbsp;</td></tr>
  <tr><td>&nbsp;</td></tr>
  <tr><td>&nbsp;</td></tr>
  <tr>
    <td height="31" align="center"><em>PLEASE PRESS ENTER TO CONTINUE</em></td>
  </tr>
  <tr>
    <td height="76" align="center"><input type="submit" name="enter" value="ENTER" style="width:140px; height:60px;"></td>
  </tr>
  <tr><td>&nbsp;</td></tr>
  <tr><td>&nbsp;</td></tr>
  <tr><td>&nbsp;</td></tr>
  <tr><td>&nbsp;</td></tr>
  <tr><td>&nbsp;</td></tr>
  <tr>
    <td height="76" align="center">
    <p>
     <div id="footer" style="background-color:#FFD700;clear:both;text-align:center;">    
            <p>Help us share  by liking this app. Click on the like button below.</p>
                    <div class="fb-like" data-href="http://apps.facebook.com/myappname" data-send="true" align="center"></div><br>
                    <div class="fb-facepile" data-href="http://apps.facebook.com/myappname" data-max-rows="1" data-width="450" align="center"></div></div>
            </td>
  </tr>

</table>
 </form> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-09T02:01:29.340

发现了问题。最后，我的 web.xml 有一个标签。

```
<security-constraint> <web-resource-collection> <web-resource-name>check_gender</web-resource-name> <url-pattern>/check_gender</url-pattern> </web-resource-collection> <auth-constraint> <role-name>*</role-name> </auth-constraint> </security-constraint> 
```

我完全忘记了这个！！

# django - 搜索错误中的Django多个字段

> ID：15288670
> 
> 赞同：0
> 
> 时间：2013-03-08T07:15:50.657
> 
> 标签：django, django-models, django-views

我在搜索字段中有六个文本框，用户可以输入任何一个值。我通过以下方式捕捉这些价值观：

```
if request.GET:
     result_list = []
     client_build = request.GET.get('client_build','')
     app_build = request.GET.get('app_build','')
     ws_build = request.GET.get('ws_build','')
     asset = request.GET.get('asset','')
     feature = request.GET.get('feature','')
     test_type = request.GET.get('test_type','')
result_lists = result.objects.filter(asset=asset,feature=feature,      test_type=test_type)
     job_list = job.objects.filter(client_build=client_build ,app_build =   app_build,ws_build = ws_build) 
```

当我尝试过滤它们时，它给出“invalid literal for int() with base 10: ''”错误！如何仅获取用户输入的值并相应地在过滤器中查询。

我提到了这篇文章[Django - 多个字段搜索问题](https://stackoverflow.com/questions/14626944/django-multiple-field-search-issues)，但我有六个文本框做多个 if 和 else 不是我想要的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:31:35.010

@vikalp.sahni 是正确的。您输入了一个整数，但您不知道输入会将您的答案转换为字符串。要解决这个问题，正如您所说，client_build 是唯一的整数，它必须是：

```
client_build = int(request.GET.get('client_build','')) 
```

总的来说，我认为您的查询是正确的。如果它是整数，请记住输入**int 。**

# mysql - 无法执行 .jsp 文件，出现错误 java.lang.classNotFoundException:com.mysql.jdbc.driver

> ID：15288672
> 
> 赞同：1
> 
> 时间：2013-03-08T07:15:53.600
> 
> 标签：mysql, jsp

我尝试在 JSP 和 mysql 作为数据库的帮助下执行 wab 页面。在执行第一个网页后，它永远不会显示登录页面中的凭据。在tomcat日志中，它给出了错误*`"java.lang.classNotFoundException:com.mysql.jdbc.driver"`*

将 mysqlconnector 下载到以下路径：*`"D:\mohit\mysql-connector-java-5.1.23"`*

我在系统*环境变量*中输入了一个 CLASS PATH作为*`D:\mohit\mysql-connector-java-5.1.23\mysql-connector-java-5.1.23-bin.jar`*

本地系统 java 安装在*`C:\Program Files\Java\jre1.6.0_17`*

请让我知道如何克服这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T12:58:10.877

您需要在某处包含`com.mysql.jdbc.Driver`类（所谓的 JDBC 驱动程序）的 JAR 文件。这个 JAR 需要在 Tomcat 中可见。因此，我建议将 mysql-jdbc.jar 放在`/WEB-INF/lib`项目目录的物理位置。

`ClassNotFoundException`如果 jar 不在物理位置，则会发生很多次。如果您不确定，请不要使用 Classpath。始终建议将外部“Jars”放在`/WEB-INF/lib`目录下并重新启动 Tomcat，其余的由它负责。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T07:41:23.300

将 mysql-connector jar 放入`tomcat/lib/ext`文件夹并重新启动 tomcat。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T07:31:37.387

我猜你是从 eclipse 本身在服务器上运行应用程序，jar 没有被推送到服务器。尝试将 jar 文件放在 WEB-INF/lib 文件夹中

# php - 会话不通过调用 session_set_save_handler 存储两页之间的数据

> ID：15288674
> 
> 赞同：0
> 
> 时间：2013-03-08T07:16:13.770
> 
> 标签：php, session

我在这里搜索了这个问题..但我无法得到正确的答案...所以请仔细阅读我的问题并回答我...谢谢提前..

`-------------- Session.php ------------------------`

```
<?php
class WSession
{
    function __construct() {
    }

    function sess_open($sess_path, $sess_name) {
        return true;
    }

    function sess_close() {
        return true;
    }

    function sess_read($sess_id) {
        mysql_connect("test", "test", "test");
    mysql_select_db("test");
        $result = mysql_query("SELECT Data FROM sessions WHERE SessionID = '$sess_id';");
        if (!mysql_num_rows($result)) {
            //Session found, pull out data field value
            $sess_Data = $results->data;

            $CurrentTime = time();
            mysql_query("INSERT INTO sessions (SessionID, DateTouched) VALUES ('$sess_id', $CurrentTime);");
            return $sess_Data;
        } else {
            $CurrentTime = time();
            extract(mysql_fetch_array($result), EXTR_PREFIX_ALL, 'sess');
            mysql_query("UPDATE sessions SET DateTouched = $CurrentTime WHERE SessionID = '$sess_id';");
            return "";
        }
    }

    function sess_write($sess_id, $data) {
        mysql_connect("test", "test", "test");
    mysql_select_db("test");        
        $CurrentTime = time();
        mysql_query("UPDATE sessions SET Data = '$data', DateTouched = $CurrentTime WHERE SessionID = '$sess_id';");
        return true;
    }

    function sess_destroy($sess_id) {
        mysql_connect("test", "test", "test");
    mysql_select_db("test");        
        mysql_query("DELETE FROM sessions WHERE SessionID = '$sess_id';");
        return true;
    }

    function sess_gc($sess_maxlifetime) {
        mysql_connect("test", "test", "test");
    mysql_select_db("test");        
        $CurrentTime = time();
        mysql_query("DELETE FROM sessions WHERE DateTouched + $sess_maxlifetime < $CurrentTime;");
        return true;
    }
}
?> 
```

`------------------- Index.php ---------(MAIN FILE)----------------`

```
require_once(session.php);

$handler = new WSession();
session_set_save_handler(array($handler, "sess_open"),
                         array($handler, "sess_close"),
                         array($handler, "sess_read"),
                         array($handler, "sess_write"),
                         array($handler, "sess_destroy"),
                         array($handler, "sess_gc"));

register_shutdown_function('session_write_close');

session_start();

$_SESSION['test']   = "testado"; 
```

然后，我们调用登录控制器（例如：login.php）。

`---------------------- login.php ----------------------`

重定向后，这里我们尝试使用保存处理程序保存会话。

```
$_SESSION['username'] = "XXXXXX";

$_SESSION['testing'] = "XXXXXX"; 
```

但它没有将上述值写入数据库。

* * *

它只存储主文件中的第一个数据，

`test|s:9:"testado";`

您能否指导保存其他值。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T08:28:45.350

我正在尝试实现类似的目标。但是我正在使用 PDO，并且我在 Session 类的构造函数中调用 session_set_save_handler。

看看这个简单的教程[http://www.devshed.com/c/a/PHP/Storing-PHP-Sessions-in-a-Database/](http://www.devshed.com/c/a/PHP/Storing-PHP-Sessions-in-a-Database/)

在将某些内容设置为 $_SESSION 之前，请确保您的会话正在 login.php 上运行。

# jakarta-ee - 如何将 Struts Action Form 对象发送到 EJB 会话的 bean 方法？

> ID：15288677
> 
> 赞同：0
> 
> 时间：2013-03-08T07:16:31.030
> 
> 标签：jakarta-ee, struts, ejb-3.0

我调用了 Struts 动作表单对象，`register`我需要将动作表单对象作为参数发送到会话 bean 方法，所以我完成了以下操作

```
public ActionForward execute(ActionMapping mapping, ActionForm form,
        HttpServletRequest request, HttpServletResponse response)
        throws Exception 
{
    Register register = (Register)form;
    home.registerUser(register);
    return mapping.findForward("success");
} 
```

`home`访问会话 bean 的存根在哪里，`registerUser`是会话 bean 方法。

现在的问题是我无法`Register`在会话 bean 中引用该类。

请帮助我如何将`register`对象发送到会话 bean。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-13T09:52:28.200

首先创建与您的注册数据相关的实体类对象，并将表单数据添加到接收到的对象中，并将其发送回 EJB 以存储在数据库中。

```
 Register register = (Register)form;        
    Customer customer = new Customer();        
    customer.setUsername(register.getName());
    customer.setPassword(register.getPassword());
    customer.setEmail_id(register.getEmailid());
    String result = home.registerUser(customer); 
```

`register`- 它是 ActionForm 对象。

`customer`- 注册表的实体类对象。

`home`- 它是 Home Interface 参考对象。

`registerUser`- 它是会话 bean 中的方法，其中包含`perist`将数据写入数据库的代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T08:06:18.353

在`Register`表单中，创建一个方法`registerUser`，然后从那里调用您的**SessionBean**方法`home.registerUser(this)`。现在，In action 的`execute`方法调用`register.registerUser()`。

# android - Android：SQLite，如何从多个字段中获取？

> ID：15288680
> 
> 赞同：1
> 
> 时间：2013-03-08T07:16:38.860
> 
> 标签：android, sql

基于本教程，有一个名为“fetchCountriesByName”的函数通过将“KEY_NAME”与输入的国家名称进行比较来过滤列表视图内容。只会显示匹配的“KEY_NAME”记录。

[http://www.mysamplecode.com/2012/07/android-listview-cursoradapter-sqlite.html](http://www.mysamplecode.com/2012/07/android-listview-cursoradapter-sqlite.html)

```
public Cursor fetchCountriesByName(String inputText) throws SQLException {
  Log.w(TAG, inputText);
  Cursor mCursor = null;
  if (inputText == null  ||  inputText.length () == 0)  {
    mCursor = mDb.query(SQLITE_TABLE, new String[] {KEY_ROWID,
    KEY_CODE, KEY_NAME, KEY_CONTINENT, KEY_REGION}, null, null, null, null, null);

}
else {
 mCursor = mDb.query(true, SQLITE_TABLE, new String[] {KEY_ROWID,
   KEY_CODE, KEY_NAME, KEY_CONTINENT, KEY_REGION}, 
   KEY_NAME + " like '%" + inputText + "%'", null,
   null, null, null, null);
 }
 if (mCursor != null) {
  mCursor.moveToFirst();
 }
 return mCursor;

} 
```

我的问题是如何从类似于输入文本的多个字段中获取？我希望输入的文本不仅与 KEY_NAME 进行比较，而且还与 KEY_REGION 进行比较。我在粗体区域添加了“KEY_REGION”，但它不起作用。如何获取 KEY_REGION 和 KEY_NAME？

```
 public Cursor fetchCountriesByName(String inputText) throws SQLException {
 Log.w(TAG, inputText);
 Cursor mCursor = null;
 if (inputText == null  ||  inputText.length () == 0)  {
  mCursor = mDb.query(SQLITE_TABLE, new String[] {KEY_ROWID,
  KEY_CODE, KEY_NAME, KEY_CONTINENT, KEY_REGION}, 
  null, null, null, null, null);

 }
 else {
  mCursor = mDb.query(true, SQLITE_TABLE, new String[] {KEY_ROWID,
    KEY_CODE, KEY_NAME, KEY_CONTINENT, KEY_REGION}, 
    KEY_NAME+           KEY_REGION        + " like '%" + inputText + "%'", null,
    null, null, null, null);
 }
 if (mCursor != null) {
  mCursor.moveToFirst();
 }
 return mCursor;

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T07:31:15.217

尝试这个：

 `````
 mCursor = mDb.query(true, SQLITE_TABLE, new String[] {KEY_ROWID,
    KEY_CODE, KEY_NAME, KEY_CONTINENT, KEY_REGION}, 
    KEY_NAME+" like '%?%' OR "+KEY_REGION+" like '%?%'", new String[]{inputText, inputText},
    null, null, null, null); 
````  `绑定变量 (?) 将保护您免受 SQL 注入攻击。您还需要考虑将 KEY_ROWID 更改为 _ID，因为这是 ListView 所期望的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-08T07:26:41.513

使用布尔逻辑运算符 AND 或 OR。

```
mCursor = mDb.query(true, SQLITE_TABLE, new String[] {KEY_ROWID,
KEY_CODE, KEY_NAME, KEY_CONTINENT, KEY_REGION}, 
KEY_NAME + " like '%" + inputText + "%' AND "+ KEY_REGION + " like '%" + inputText + "%'", null,
null, null, null, null); 
`````

# php - 显示上传图片列表中的一张图片

> ID：15288681
> 
> 赞同：0
> 
> 时间：2013-03-08T07:16:42.557
> 
> 标签：php, mysql, codeigniter, e-commerce

我正在开发一个基于 codeigniter 的电子商务网站，为一个产品上传多个图像。我还没有设置一个字段，用户可以选择将其中一个图像设为默认显示大，同时将所有其他图像作为其下方的拇指。我会编写什么样的查询来获取其中一张图像并将其显示为默认值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T09:00:44.667

因为我不知道你的数据库结构，这里有一些伪代码：

```
SELECT img_src 
FROM product_images, product_info 
WHERE product_info.id = product_images.product_id 
```

在模型中，您将它们排序在一个数组中，并在视图中执行 foreach：

```
if($i == 0): echo '<div class="big_img"><img src="' . $product_images[$i]['img_src'] . '" /></div>';
else: echo '<div class="thumb_img"><img src="' . $product_images[$i]['img_src'] . '" /></div>'; 
```

# arrays - 在matlab中将单元格的特定部分打印为字符串？

> ID：15288682
> 
> 赞同：0
> 
> 时间：2013-03-08T07:16:44.803
> 
> 标签：arrays, string, matlab, cell, printf

我有以下矩阵数组 B ：

```
B=[1 2 3; 10 20 30 ; 100 200 300 ; 500 600 800]; 
```

其中通过一个代码进行组合，形成值之间可能的组合。结果存储在单元格 G 中。这样 G ：

```
G=
[1;20;100;500]
[0;30;0;800]
[3;0;0;600]
.
.
etc 
```

我想根据`B`选择的值格式化结果：

```
[1 2 3]      = 'a=1 a=2 a=3'
[10 20 30]   = 'b=1 b=2 b=3'
[100 200 300]= 'c=1 c=2 c=3'
[500 600 800]= 'd=1 d=2 d=3' 
```

例如，使用提供的当前单元格中的结果：

```
[1;20;100;500]
[0;30;0;800]
[3;0;0;600] 
```

应该打印为

```
a=1 & b=2 & c=1 & d=1 
a=0 & b=3 & c=0 & d=3  % notice that 0 should be printed although not present in B
a=3 & b=0 & c=0 & d=2 
```

请注意，单元格 G 将根据代码而有所不同，并且不是固定的。用于生成结果的代码可以在这里查看：[需要帮助在 Matlab 中调试此代码](https://stackoverflow.com/questions/15287500/need-help-debugging-this-code-in-matlab)

* * *

如果您需要有关此的更多信息，请告诉我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:49:09.883

你可以试试这个：

```
k = 1; % which row of G

string = sprintf('a = %d, b = %d, c = %d, d = %d',...
    max([0 find(B(1,:) == G{k}(1))]),  ...
    max([0 find(B(2,:) == G{k}(2))]),  ...
    max([0 find(B(3,:) == G{k}(3))]),  ...
    max([0 find(B(4,:) == G{k}(4))])  ...
    ); 
```

例如，对于`k = 1`您的示例数据，这会导致

```
string =

a = 1, b = 2, c = 1, d = 1 
```

**这段代码的简短解释**（如评论中所要求的）如下。为简单起见，示例仅限于 G 的第一个值和 B 的第一行。

```
% searches whether the first element in G can be found in the first row of B
% if yes, the index is returned
idx = find(B(1,:) == G{k}(1));

% if the element was not found, the function find returns an empty element. To print  
% a 0 in these cases, we perform max() as a "bogus" operation on the results of  
% find() and 0\. If idx is empty, it returns 0, if idx is not empty, it returns 
% the results of find().
val = max([0 idx])

% this value val is now formatted to a string using sprintf
string = sprintf('a = %d', val); 
```

# html - 当声明的字段留空时，@ModelAttribute 不起作用

> ID：15288685
> 
> 赞同：1
> 
> 时间：2013-03-08T07:16:55.083
> 
> 标签：html, spring-mvc, controller, spring-roo

下面是我的代码...

```
@RequestMapping(value = "/submitnewstory", method = RequestMethod.POST)
    @ResponseBody
    public String save(@ModelAttribute("storyInsertForm") StoryInsertForm uploadForm, HttpSession session, Model map) {
} 
```

HTML 代码：

```
<form:form id="contentForm" class="cssform2" action="submitnewstory" method="post" enctype="multipart/form-data" modelAttribute="storyInsertForm">

</form:form> 
```

**怎么了？？**

假设我的模型中有两个字段（在这种情况下`StoryInsertForm`），即`String firstname`和`String lastname`。我必须在 中声明相同的变量`<form:form>`，如下所示

```
<form:form id="contentForm" class="cssform2" action="submitnewstory" method="post" enctype="multipart/form-data" modelAttribute="storyInsertForm">
    <input type="text" name="firstname" id="firstname" />
    <input type="text" name="lastname" id="lastname" />
</form:form> 
```

发生的情况是，如果您给第一个输入一个值而忽略第二个输入，则数据甚至不会到达控制器。但是，如果您提供所有值，即为两种输入类型文本提供输入，它会找到控制器并且一切正常。

另一项观察表明，如果您不声明其中一个字段，即类似于以下内容：

```
<form:form id="contentForm" class="cssform2" action="submitnewstory" method="post" enctype="multipart/form-data" modelAttribute="storyInsertForm">
    <input type="text" name="firstname" id="firstname" />
<!--    <input type="text" name="lastname" id="lastname" /> -->
</form:form> 
```

数据仍会与上述字段中提供的数据一起发布（在本例中为名字）。

**概括**

如果您已关联 html 中的字段，则必须在输入类型中输入一些值，否则控制器将无法接收任何内容。

期待您的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T12:28:02.810

我有同样的问题; 我无法解决它，但可以通过使用来规避它

```
<form></form> 
```

代替

```
 <form:form></form:form> 
```

希望能帮助到你！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-09T17:01:56.050

我怎么想，

您还必须绑定表单输入标签才能使用

Spring Form TagLib。

IE

```
<form:form id="contentForm" class="cssform2" action="submitnewstory" method="post" enctype="multipart/form-data" modelAttribute="storyInsertForm">
    <form:input  path="firstname" id="firstname" />
    <form:input  path="lastname" id="lastname" />
</form:form> 
```

另外我不知道你的控制器编码是什么，所以我认为以下几点值得一提 -

1> 在页面作为RequestMethod GET返回的函数中，为表单添加一个模型属性。

在这种情况下，完整编码应该是 -

```
@RequestMapping(value = "/getpage.htm", method = RequestMethod.POST)
public String getPage(Model model){
        ........
        Other Code Snippet
        .........

    StoryInsertForm uploadForm = new StoryInsertForm();
    model.addAttribute(“storyInsertForm”,  uploadForm);
    return “login”;
} 
```

2> 还将 BindingResult 参数添加到数据保存方法，否则你应该得到一个异常 -

所以保存方法的代码应该是 -

```
@RequestMapping(value = "/submitnewstory", method = RequestMethod.POST)
    @ResponseBody
    public String save(@ModelAttribute("storyInsertForm") StoryInsertForm uploadForm, BindingResult result,  HttpSession session, Model map) {
     ...........
     Your Save Business Logic and Other DAO Method call etc...
     ...........
} 
```

我希望，上面的代码应该可以解决您的问题。

# android - 如何通过 Facebook、电子邮件和短信分享您的 Android 应用程序？

> ID：15288691
> 
> 赞同：0
> 
> 时间：2013-03-08T07:17:21.897
> 
> 标签：android, facebook, email, android-intent, sms

通过 Facebook、短信和电子邮件共享您的 android 应用程序的程序或如何编码？

一个简单的问题，却让我很困惑！！！

是那个 FB-android SDk ......等等吗？？？

谢谢！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T07:20:40.447

将此添加到该共享按钮上

```
 String shareBody = "You app link for google play";
        Intent sharingIntent = new Intent(android.content.Intent.ACTION_SEND);
            sharingIntent.setType("text/plain");
            sharingIntent.putExtra(android.content.Intent.EXTRA_SUBJECT, "Subject Here");
            sharingIntent.putExtra(android.content.Intent.EXTRA_TEXT, shareBody);
            startActivity(Intent.createChooser(sharingIntent, getResources().getString(R.string.share_using))); 
```

# vb.net - 生成随机字母数字字符串

> ID：15288692
> 
> 赞同：5
> 
> 时间：2013-03-08T07:17:28.750
> 
> 标签：vb.net

我正在尝试像这样在 vb.net 中生成一个随机代码

```
 Dim r As New Random
        Response.Write(r.Next()) 
```

但我想生成 6 位数的代码，应该像 thie 一样是字母数字`A12RV1`，所有代码都应该是这样的。

我已经尝试过 vb.net 随机类，但我无法按照我的意愿进行操作。每次执行代码时，我都想获取字母数字代码。我如何在 vb.net 中实现这一点？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-08T07:30:00.507

尝试这样的事情：

```
Public Function GetRandomString(ByVal iLength As Integer) As String
    Dim sResult As String = ""
    Dim rdm As New Random()

    For i As Integer = 1 To iLength
        sResult &= ChrW(rdm.Next(32, 126))
    Next

    Return sResult
End Function 
```

或者您可以执行定义有效字符的通用随机字符串：

```
Public Function GenerateRandomString(ByRef iLength As Integer) As String
    Dim rdm As New Random()
    Dim allowChrs() As Char = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLOMNOPQRSTUVWXYZ0123456789".ToCharArray()
    Dim sResult As String = ""

    For i As Integer = 0 To iLength - 1
        sResult += allowChrs(rdm.Next(0, allowChrs.Length))
    Next

    Return sResult
End Function 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T08:01:56.700

我认为这将适合您的要求，

```
 Private sub GenerateString()

 Dim xCharArray() As Char = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".ToCharArray
 Dim xNoArray() As Char = "0123456789".ToCharArray
 Dim xGenerator As System.Random = New System.Random()
 Dim xStr As String = String.Empty

        While xStr.Length < 6

            If xGenerator.Next(0, 2) = 0 Then
                xStr &= xCharArray(xGenerator.Next(0, xCharArray.Length))
            Else
                xStr &= xNoArray(xGenerator.Next(0, xNoArray.Length))
            End If

        End While

        MsgBox(xStr)

 End Sub 
```

**笔记：** `Tested With IDE`

**编辑：** `Modified according to SYSDRAGON's Comment`

# javascript - “window.frame.openDialog”无法在 Mac OS X 中选择文件

> ID：15288695
> 
> 赞同：1
> 
> 时间：2013-03-08T07:17:41.417
> 
> 标签：javascript, macos, appjs

使用`window.frame.openDialog`时，我无法从 中的`Open`对话框中选择文件`Mac OS X`。我可以选择目录但不能选择文件。有什么方法可以选择文件吗？

我的代码是：

```
window.frame.openDialog({
  type: 'open',
  title: 'Open...',
  multiSelect: false,
  acceptTypes: {
    'Images': ['*.hwc']
  },
  dirSelect: false,
  initialValue: '/'
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-31T18:51:23.613

在 MAC 中，无法使用**window.frame.openDialog**选择文件，而您可以使用**fs.readFile**搜索和选择文件。

# php - 检索验证码并使用 curl php 提交验证码并登录

> ID：15288701
> 
> 赞同：1
> 
> 时间：2013-03-08T07:17:59.483
> 
> 标签：php, session, curl

我正在做一个项目。所以我必须从下面提到的网站获取验证码。用户将提交验证码和他的登录凭据，然后我必须提取数据（为了用户的利益）。但是在我提交验证码后，只是出现登录页面，没有任何反应。

我已经在多个站点上进行了尝试，并且只出现了登录页面。我知道登录后如何获取数据，但是验证码真的很头疼

```
<?php

 $cookie="cookie.txt";
function open($url)
{

    $ch = curl_init();

    curl_setopt($ch, CURLOPT_URL,$url);  
    curl_setopt($ch, CURLOPT_USERAGENT, 'Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.2) Gecko/20070219 Firefox/2.0.0.2');
    curl_setopt($ch, CURLOPT_HEADER, 0);
    curl_setopt($ch, CURLOPT_COOKIE, 1);
    curl_setopt($ch, CURLOPT_COOKIEJAR,$cookie);
    curl_setopt($ch, CURLOPT_COOKIEFILE,$cookie);
    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER,1); 
    curl_setopt ($ch, CURLOPT_REFERER, $url);
    $result = curl_exec($ch);  
    curl_close($ch);

    return $result;
}

function between($string, $start, $end)
{
    $out    = explode($start, $string);

    if(isset($out[1]))
    {
        $string = explode($end, $out[1]);
        echo $string[0];
        return $string[0];
    }

    return '';
}

function get_captcha()
{
    $url    = 'https://academics.vit.ac.in/student/stud_login.asp';

    $open   = open($url);

    $code   = between($open, '<img src='https://academics.vit.ac.in/student/captcha.asp', '">');

   // echo 'https://academics.vit.ac.in/student/captcha.asp' . $code;

    return 'https://academics.vit.ac.in/student/captcha.asp' . $code;
   //return ;

}

function rahul()
{
    $capth=htmlspecialchars($_POST['code']);

    echo $capth;

    $username="xyz"; 
$password="abc"; 
$url="https://academics.vit.ac.in/student/stud_login.asp"; 
$cookie="cookie.txt";
$veri=$capth;

$com="Login";

$postdata = "regno=".$username."&passwd=".$password."&vrfcd=".$veri."&submit=".$com;

$ch = curl_init(); 
curl_setopt ($ch, CURLOPT_URL, $url); 
curl_setopt ($ch, CURLOPT_SSL_VERIFYPEER, FALSE); 
curl_setopt ($ch, CURLOPT_USERAGENT, "Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.8.1.6) Gecko/20070725 Firefox/2.0.0.6"); 
curl_setopt ($ch, CURLOPT_TIMEOUT, 60); 
curl_setopt ($ch, CURLOPT_FOLLOWLOCATION, 1); 
curl_setopt ($ch, CURLOPT_RETURNTRANSFER, 1); 
curl_setopt ($ch, CURLOPT_COOKIEJAR, $cookie); 
curl_setopt ($ch, CURLOPT_COOKIEFILE, $cookie);  // <-- add this line
curl_setopt ($ch, CURLOPT_REFERER, $url); 

curl_setopt ($ch, CURLOPT_POSTFIELDS, $postdata); 
curl_setopt ($ch, CURLOPT_POST, 1); 
$result = curl_exec ($ch); 

echo $result;  

$data = curl_exec($ch);

}

?>

 <html>
 <body>
<form action="" method="post">
<img src="<?php echo get_captcha(); ?>" border="0" /><br />
<input type="text" name="code" value="<?= isset($_POST['code']) ? htmlspecialchars($_POST['code']) : '' ?>" /><br />
<input type="submit" name="submit" value="submit"/>
</form>

<?php

if(isset($_POST['submit'])) {
 rahul();
}
?>
</body>
</html> 
```

# node.js - 如果我想在 node.js 中使用 imagemagick，我必须安装 imagemagick CLI 工具吗？

> ID：15288703
> 
> 赞同：0
> 
> 时间：2013-03-08T07:18:07.640
> 
> 标签：node.js, imagemagick

我想使用 imagemagick [node-imagemagick](https://github.com/rsms/node-imagemagick)来做一些关于图像的工作，但是除了在我的应用程序中安装这个模块之外，我已经将 imagemagick 安装到我的计算机中了吗？

问题是我的应用程序部署在 Paas 平台上，我认为它不提供 imagemagick CLI，那么我可以选择其他方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:47:46.750

`node-imagemagick`实际上*调用*CLI 工具（使用`child_process`），因此依赖。

至于替代方案，它实际上取决于您需要哪种类型的图像处理（以及它们的依赖关系，因为它必须在 Paas 平台上运行）。[Node wiki](https://github.com/joyent/node/wiki/modules#wiki-graphics)上有一个很好的图形模块列表。

# qt - 在Qt中绘制只有2个角的矩形

> ID：15288708
> 
> 赞同：8
> 
> 时间：2013-03-08T07:18:22.993
> 
> 标签：qt

我正在开发一个应用程序，我需要使用 Painter 为像素图填充颜色。Pixmap 是具有（底边）2 个圆角的矩形类型。前 2 个角是平的/正常的。

我尝试使用 Qt 的 drawRoundedRect() API，但它使矩形的所有角都变圆了。我需要绘制只有 2 个圆角和其他两个平角的矩形。

如果有人遇到这种情况，请建议我解决方案。

谢谢

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-03-08T08:44:57.707

您可以为此使用 QPainterPath ：

```
 QPainterPath path;
    path.setFillRule( Qt::WindingFill );
    path.addRoundedRect( QRect(50,50, 200, 100), 20, 20 );
    path.addRect( QRect( 200, 50, 50, 50 ) ); // Top right corner not rounded
    path.addRect( QRect( 50, 100, 50, 50 ) ); // Bottom left corner not rounded
    painter.drawPath( path.simplified() ); // Only Top left & bottom right corner rounded 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-08T08:51:37.863

您可以使用样式表（在运行时或加载文件 qss）。你可以很容易地做到这一点：

```
QString str = "bottom-right-radius: 10px; top-right-radius: 0px....";
box->setStylesheet(str); 
```

我想该框是 QLabel 内的像素图（ label->setPixmap(...) ）

或者

将对象名称设置为某物（标签），然后使用

QLabel#name { bottom-right-radius: 10px ... }

在您加载的样式表中。

看看这个网站。它有帮助： [http ://border-radius.com/](http://border-radius.com/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2022-02-14T11:17:42.860

您也可以使用`arcTo()`创建圆角。

**展示：**

[![在此处输入图像描述](../Images/ced32f9ae42ed1a4259b4b9126867f8c.png)](https://i.stack.imgur.com/POVvG.png)

**代码：**

```
// Position of shape
qreal x = 100.0;
qreal y = 100.0;
// Size of shape
qreal width = 300.0;
qreal height = 200.0;
// Radius of corners
qreal corner_radius = 30.0;

QPainterPath path;
path.moveTo(x + corner_radius, y);
path.arcTo(x, y, 2 * corner_radius, 2 * corner_radius, 90.0, 90.0);
path.lineTo(x, y + (height - 2 * corner_radius));
path.arcTo(x, y + (height - 2 * corner_radius), 2 * corner_radius, 2 * corner_radius, 180.0, 90.0);
path.lineTo(x + (width - 2 * corner_radius), y + height);
path.lineTo(x + (width - 2 * corner_radius), y);
path.lineTo(x + corner_radius, y);

painter.drawPath(path); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2022-02-03T20:57:49.103

您可以分别绘制多边形和饼图以创建具有 2 个圆角的矩形 [![在此处输入图像描述](../Images/522a3d61ad1212f906f9dcb598c4222f.png)](https://i.stack.imgur.com/Kp3Mn.png)

**代码：**

```
// Position of shape
qreal x = 100;
qreal y = 100;
// Radius of corners
qreal border_radius = 30;
// Size of shape
qreal width = 300;
qreal height = 200;

QPolygonF myPolygon;
myPolygon << QPointF(x, y+border_radius) << QPointF(x+border_radius, y+border_radius)
          << QPointF(x+border_radius, y) << QPointF(x+width, y)
          << QPointF(x+width, y+height) << QPointF(x+border_radius, y+height)
          << QPointF(x+border_radius, y+height-border_radius)
          << QPointF(x, y+height-border_radius) << QPointF(x, y+border_radius);

QPainterPath myPath;
myPath.addPolygon(myPolygon);

QPainter painter(this);
painter.setRenderHints(QPainter::Antialiasing);
painter.setPen(Qt::NoPen);
QBrush myBrush(QColor(0, 0, 0), Qt::SolidPattern);
painter.setBrush(myBrush);

// Draw base polygon
painter.drawPath(myPath);
// Add rounded corners
painter.drawPie(x, y, 2*border_radius, 2*border_radius, 90*16, 90*16);
painter.drawPie(x, y+height-2*border_radius, 2*border_radius, 2*border_radius, 180*16, 90*16); 
```

**它看起来怎样：**

[![在此处输入图像描述](../Images/0fa87a04461a2ffe2bcf95d2fcaca1db.png)](https://i.stack.imgur.com/T2bOc.png)

*主多边形：*

```
QPolygonF myPolygon;
myPolygon << QPointF(x, y+border_radius) << QPointF(x+border_radius, y+border_radius)
          << QPointF(x+border_radius, y) << QPointF(x+width, y)
          << QPointF(x+width, y+height) << QPointF(x+border_radius, y+height)
          << QPointF(x+border_radius, y+height-border_radius)
          << QPointF(x, y+height-border_radius) << QPointF(x, y+border_radius);

QPainterPath myPath;
myPath.addPolygon(myPolygon);

// Draw base polygon
painter.drawPath(myPath); 
```

[![在此处输入图像描述](../Images/c2d3e489ed406961d3b01901773e1020.png)](https://i.stack.imgur.com/H236z.png)

*角落：*

```
// Add rounded corners
painter.drawPie(x, y, 2*border_radius, 2*border_radius, 90*16, 90*16);
painter.drawPie(x, y+height-2*border_radius, 2*border_radius, 2*border_radius, 180*16, 90*16); 
```

[![在此处输入图像描述](../Images/a4b299474c1ffbc3e29a2e0f0e888334.png)](https://i.stack.imgur.com/SOfhr.png)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-03-15T15:41:26.803

扩展 Romha Korev 的答案。这是一个只有圆角顶角（左上角，右上角）的盒子的例子。角落里的矩形是根据主矩形计算的！

```
qreal left = 5;
qreal top = 10;
qreal width = 100;
qreal height = 20;
QRectF rect(left, top, width, height);

QPainterPath path;
path.setFillRule( Qt::WindingFill );
path.addRoundedRect(rect, 5, 5 );
qreal squareSize = height/2;
path.addRect( QRect( left, top+height-squareSize, squareSize, squareSize) ); // Bottom left
path.addRect( QRect( (left+width)-squareSize, top+height-squareSize, squareSize, squareSize) ); // Bottom right
painter->drawPath( path.simplified() ); // Draw box (only rounded at top) 
```

# git - .gitignore 目录及其内容的白名单

> ID：15288712
> 
> 赞同：44
> 
> 时间：2013-03-08T07:18:52.527
> 
> 标签：git, gitignore

我正在尝试将 Zend Framework 2 供应商目录中的目录（及其内容）SupplierName 列入白名单。

/vendor 中的原始 .gitignore 文件如下所示：

```
# Add here the vendor path to be whitelisted
# Ex: for composer directory write here "!composer" (without quotes)
!.gitignore
* 
```

现在我想将目录 SupplierName 列入白名单，我认为这不应该太难。我已[阅读 gitignore 上的文档](https://www.kernel.org/pub/software/scm/git/docs/gitignore.html)并尝试了以下配置：

**首先尝试**，在说明我必须在此处添加白名单路径的评论之后添加 !SupplierName。

```
# Add here the vendor path to be whitelisted
!SupplierName
# Ex: for composer directory write here "!composer" (without quotes)
!.gitignore
* 
```

之后我执行`git status`了没有显示 vendor/SupplierName 目录的操作。`git add vendor/SupplierName`显示以下消息：

> 您的 .gitignore 文件之一会忽略以下路径：vendor/SupplierName

**第二次尝试**

```
# Add here the vendor path to be whitelisted
# Ex: for composer directory write here "!composer" (without quotes)
!SupplierName
!.gitignore
* 
```

之后我执行`git status`了没有显示 vendor/SupplierName 目录的操作。`git add vendor/SupplierName`显示以下消息：

> 您的 .gitignore 文件之一会忽略以下路径：vendor/SupplierName

**第三次尝试**

```
# Add here the vendor path to be whitelisted
# Ex: for composer directory write here "!composer" (without quotes)
!.gitignore
*
!SupplierName 
```

之后我执行`git status`了没有显示 vendor/SupplierName 目录的操作。`git add vendor/SupplierName` **似乎工作**。但是现在，当我想添加 Module.php 文件（以及其他一些文件、子目录等）时，会发生以下情况。`git add vendor/SupplierName/Module.php`-->

> 您的 .gitignore 文件之一会忽略以下路径：vendor/SupplierName/Module.php

```
# Add here the vendor path to be whitelisted
# Ex: for composer directory write here "!composer" (without quotes)
*
!.gitignore
!SupplierName
!SupplierName/
!SupplierName/* 
```

允许我直接在供应商/供应商名称中添加文件，但`git add vendor/SupplierName/config/module.config.php`仍会导致

> 您的 .gitignore 文件之一会忽略以下路径：vendor/SupplierName/config/module.config.php

我一直在寻找有关递归白名单的问题，因为这似乎是问题所在，但没有出现任何问题。

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2013-03-10T09:25:10.080

您可以使用 2 个`.gitignore`文件来实现所需的结果：

```
# vendor/.gitignore
*
!.gitignore
!SupplierName/
!SupplierName/*

# vendor/SupplierName/.gitignore
!* 
```

我使用测试存储库对此进行了测试，并且似乎可以在`vendor/SupplierName`目录下添加尽可能多级别的文件。

```
$ git add .

$ git status
# On branch master
# Changes to be committed:
#   (use "git reset HEAD <file>..." to unstage)
#
#   modified:   vendor/.gitignore
#   new file:   vendor/SupplierName/.gitignore
#   new file:   vendor/SupplierName/a
#   new file:   vendor/SupplierName/b
#   new file:   vendor/SupplierName/c
#   new file:   vendor/SupplierName/d
#   new file:   vendor/SupplierName/dir1/d
#   new file:   vendor/SupplierName/dir1/dir4/dir5/dir6/dir7/dir8/dir9/dir10/somefile
#   new file:   vendor/SupplierName/dir1/dir4/f1
#   new file:   vendor/SupplierName/dir1/dir4/f2
#   new file:   vendor/SupplierName/dir1/dir4/f3
#   new file:   vendor/SupplierName/dir1/dir4/f4
#   new file:   vendor/SupplierName/dir1/e
#   new file:   vendor/SupplierName/dir1/f
#   new file:   vendor/SupplierName/dir3/dir6/f5
#   new file:   vendor/SupplierName/dir3/dir6/f6
#   new file:   vendor/SupplierName/dir3/dir6/f7
#   new file:   vendor/SupplierName/dir3/dir7/f8
#   new file:   vendor/SupplierName/e
# 
```

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-03-10T23:37:04.880

您也可以只使用一个`.gitignore`文件（在您的项目根目录中）来实现这一点：

```
/*
!/.gitignore
!/vendor
/vendor/*
!/vendor/SupplierName 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2017-11-21T13:25:11.330

发现一篇有趣的文章：[https ://jasonstitt.com/gitignore-whitelisting-patterns](https://jasonstitt.com/gitignore-whitelisting-patterns)

杰森斯蒂特的所有功劳。文字是从上面的网站复制的：

> # 忽略一切，然后添加特定的子树
> 
> ```
> # Ignore everything
> *
> # But descend into directories
> !*/
> # Recursively allow files under subtree
> !/subtree/**
> # You can be specific with these rules
> !/some/other/deep/path/**
> !.gitignore 
> ```
> 
> 该`!*/`规则取消忽略所有目录。但是 Git 不跟踪目录，只跟踪文件，所以`!*/`它本身只允许下降到完整的目录树；它实际上不允许任何东西进入回购。有了该规则，您只需要一个使用`**`递归通配符的规则即可包含子树。
> 
> 如果您不使用`!*/`，则需要额外的规则来取消忽略 /subtree/ 及其子目录。
> 
> 不是每个人都喜欢`!*/`，因为这意味着如果任何其他规则允许在您不希望在 repo 中的某个目录中找到文件名模式，则该目录本身不会被阻止。您需要对要包含在此文件中的文件使用特定规则。
> 
> # 忽略根目录，然后添加整个子树
> 
> ```
> # Ignore everything in the root
> /*
> # Un-ignore all of subtree
> !/subtree/
> !.gitignore 
> ```
> 
> 这种模式比前一种更粗糙。该`/*`规则只会忽略 repo 目录结构的根目录中的项目，因此一旦您将目录列入白名单，即使不使用`*`或`**`通配符，也将允许该目录的所有内容。
> 
> # 忽略目录中的所有内容，但保留空目录
> 
> ```
> *
> !.gitignore 
> ```
> 
> Git 不想在 repo 中包含一个空目录，因为它会跟踪文件。将一个隐藏文件（如.gitignore）放入目录中，它将被保存。但是要保持目录为空，即使您有用于测试/开发目的的文件，最好忽略除 .gitignore 文件本身之外的所有内容。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-10T19:49:43.650

从 CVS 迁移到 Git 时，我遇到了类似的问题。

与 CVS 不同，Git 不查看目录，而是关注文件。

例如，您不能不忽略目录“a”，但不能忽略目录“a”中的所有文件，如下所示：!a/*

子目录也是如此。

如果目录“a”有一个子目录“b”并且你忽略了“!a/*”，那么你仍然会得到“a/b”中的所有文件。

因此，对于要列入白名单的所有子目录，您也必须忽略“！a/b/*”等等。

您只需要一个 .gitignore 文件。

所以你最终会得到类似的东西：

```
# ignore everything
*
# except for .gitignore files in the current directory
!.gitignore
# and all files in directory a
!a/*
#and all files in subdirectory b
!a/b/* 
```

有了这个，您仍然可以从 a/c 和 a/b/c 获取文件。我不确定是否有递归子目录的解决方法。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2015-10-25T03:15:30.313

您应该首先将所有内容都包含在黑名单中，然后将每个目录和子目录都包含在白名单中。例如，我只想将 DIR `/opt/source/`， DIR`/opt/nginx/`和 FILE`/home/test/.opt/hello.txt`放在白名单中，可以这样编写`.gitignore`文件以使其工作：

```
/*
!/.gitignore
!/opt
/opt/*
!/opt/source/
!/opt/nginx/
!/home
/home/*
!/home/test
/home/test/*
!/home/test/.opt
/home/test/.opt/*
!/home/test/.opt/hello.txt 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2019-07-26T09:32:45.093

这与 @Simon Lang 的第一个技术（归功于 Jason Stitt）有关，但适用于更广泛的案例。

假设您希望在项目根目录中只有一个 .gitignore，并假设您想忽略项目的某些子目录的大部分内容，但允许其中的一小部分。例如，假设您的 repo 包含一个`/vendor/`具有 3rd 方依赖项的目录，您选择在很大程度上保持该依赖项，但您将对其进行一些您希望 git 跟踪的轻微调整，也许有助于在不可避免的情况下进行反向移植新版本出现。

然后，您可以在根`.gitignore`文件中执行以下操作：

```
# ignore all files and folders in `/vendor/` and in its descendants
/vendor/**

# negated pattern to un-exclude all *folders* at any depth relative to `vendor/`
# as always git will ultimately ignore the folders for which you don't
# subsequently un-exclude any *files*.
!/vendor/**/

# negated pattern to un-exclude all files and folders at any depth below the deep
# path that contains files you want in git
!/vendor/supplier/version/module/component/src/** 
```

双星号的每个实例都是关键的。例如，尾随`vendor/**`匹配内部的所有内容 -`vendor`无限深度的所有文件和目录，因此排除其所有后代。

在类似`*.exe`or的“普通”通配符 gitignore 规则`*`中，glob 元字符匹配会发现任何目录中的任何文件，因为路径不受约束。不受约束的路径在这里完成繁重的工作，而不是通配符扩展。一旦你试图将忽略的范围限制在你的根目录的子目录中，那个繁重的提升器就消失了，你立即遇到了无法`*`下降到树中的问题。

西蒙的答案通过保持初始排除路径的尖端不受约束来起作用。它最初会排除包含 .gitignore 文件的目录中的每个文件（任何深度）。Mine 通过使用`**`对`/`. 您可以通过拥有多个 .gitignore 文件并在位于 的 .gitignore 文件中使用 Simon 的技术来实现相同的效果`/vendor/.gitignore`，但这更需要维护。

我不知道`**`像我在这里所做的那样使用是否会对性能产生影响。这可以通过比较看起来像的 .gitignore 的性能来测试

```
*
!*/
!a/b/c/d/** 
```

一个看起来像这样的

```
/**
!**/
!a/b/c/d/** 
```

在有很多文件的树中。我相信相同的内容会被包含和排除，但引擎盖下的实现可能会有所不同，性能也可能会有所不同。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2018-11-21T22:35:59.173

我创建了一个简单的 JS 片段脚本，可以在 Node 中运行以生成白名单规则，因为我发现手动编写规则有点令人困惑，如果我忘记如何手写它，我希望以后能够修改规则。

```
'use strict';

// Generating a "whitelist" wherein you only want a specific folder to be
// affected requires following .gitignore-style rules.
// https://github.com/prettier/prettier/issues/3328
//
// Handcrafting these rules is hard to reason about and error-prone, so I'm
// going to generate them.
// See: https://github.com/prettier/prettier/issues/3328
// And: https://git-scm.com/docs/gitignore
//

const path = require('path');

const whitelistDir = '/themes/simple/src/';

function generateIgnoreRule(dir) {
    let output = '# Auto-generated by ' + path.basename(__filename) + '\n';
    output += '# Exclude everything except `' + dir + '`\n';
    // Add exclude everything rule
    output += '/*' + '\n';

    // Split by path
    const parts = dir.split('/');
    if (parts[0] === '') {
        // Remove first item if its blank
        parts.shift();
    }
    if (parts[parts.length - 1] === '') {
        // Remove last item if its blank
        parts.pop();
    }

    let totalPart = '';
    for (let part of parts) {
        totalPart += '/' + part;
        output += '!' + totalPart + '\n';
        if (part !== parts[parts.length - 1]) {
            output += totalPart + '/*' + '\n';
        }
    }
    return output;
}

console.log(generateIgnoreRule(whitelistDir));
console.log(
    '\nCopy the above rules out of the console output and paste into your .gitignore / .prettierignore'
); 
```

# linux - linux中的Probe()方法需要重入吗？

> ID：15288715
> 
> 赞同：3
> 
> 时间：2013-03-08T07:19:00.670
> 
> 标签：linux, linux-kernel, linux-device-driver

有一个函数将从两个不同的平台驱动程序中调用。我想知道linux的平台驱动核心是否有机会同时调用两个不同设备的probe()？如果是，那么从这两个probe() 调用的公共函数应该被设计为可重入的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-09T15:35:31.820

官方规定，内核的每一个功能都必须是可重入的。也许您的功能现在不需要重入，但是，谁知道将来会发生什么？

`probe`函数调用，更具体地说，AFAIK，它们在启动时的总线枚举期间被序列化。但是，有些人可能会尝试将它们并行化以获得更快的启动。

此外，我们还可以想象两个设备同时插入的情况。总线驱动程序可能会`probe`在第一次尚未完成时第二次调用函数。

我的意见是你的探测功能必须是可重入的。

# facebook-graph-api - 在不登录的情况下使用扩展访问令牌

> ID：15288718
> 
> 赞同：0
> 
> 时间：2013-03-08T07:19:25.093
> 
> 标签：facebook-graph-api, facebook-access-token

我已将我的短期访问令牌转换为扩展令牌，即 60 天。该令牌具有 publish_stream 和 publish_actions 的权限。

我可以在不登录 facebook 的情况下使用图形 API 在 facebook 页面上发布内容吗？我只带了扩展令牌。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T08:06:16.223

是的，您可以使用 access_token 进行 Graph API 调用，直到令牌过期。

用户访问令牌在之后变为无效

```
2 hrs (if generated through client-side flow)
2 months (if generated through server-side flow)
Password change
De-authorization of app 
```

在它有效之前，您可以在不要求用户的情况下使用它`log in`

# ajax - ajaxupload el 未定义

> ID：15288721
> 
> 赞同：0
> 
> 时间：2013-03-08T07:19:30.923
> 
> 标签：ajax, jquery

我已经尝试使用 ajax 上传图片。这是我的代码

```
$(function () {
    var btnUpload = $('#post_pd_thumnail');

    if ($("#id").val()) var post_id = $("#id").val();
    else var post_id = 0;

    new AjaxUpload(btnUpload, {
        action: site_root_domain + "/product/upload_image/" + post_id,
        name: 'file_upload',
        onSubmit: function (file, ext) {
            if ($('#post_pd_thumnail').val() != '') {
                if (!(ext && /^(jpg|png|jpeg|gif)$/.test(ext))) {
                    jAlert(lang_error_upload_avatar, lang_alert_notice);
                    return false;
                }
            }

            $('#preview').html('<img style="margin-left:45px;margin-top:45px;" border="0" width="16" height="11" src="' + site_root_domain + '/templates/images/icons/loading_2.gif" />');
        },
        onComplete: function (file, response) {

            if (!response) {
                jAlert(lang_error_upload_avatar, lang_alert_notice);
            } else {
                img_upload = 1;
                $('#preview').html(response);
            }

            return;
        }
    });

}); 
```

我的 HTML 是：

```
<div id="preview">{$preview}</div>
<div class="fileupload">
    <input type="file" name="post_pd_thumnail" id="post_pd_thumnail" value="" />
</div>
<input type="hidden" name="id" id="id" value="{$data['product']['post_id']}" /> 
```

上传图片“el未定义”时出现此错误，并且该功能无法正常工作，谁能帮我解决这个问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-02-26T05:10:32.533

尝试改变`file element`喜欢`button`，

```
<div class="fileupload">
    <input type="button" name="post_pd_thumnail" id="post_pd_thumnail" value="" />
</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-02-02T11:15:03.790

这是解决方案。

```
* Attaches event to a dom element
 */
function addEvent(el, type, fn){

    // 610 BUG
    if (el == undefined) return;

    if (w.addEventListener){
        el.addEventListener(type, fn, false);
    } else if (w.attachEvent){
        var f = function(){
          fn.call(el, w.event);
        };          
        el.attachEvent('on' + type, f)
    }
} 
```

# c - 编写 C 程序以从包含符号的文本文件中删除出现

> ID：15288727
> 
> 赞同：-2
> 
> 时间：2013-03-08T07:19:55.840
> 
> 标签：c

我有一个**文本文件**，其模式如下：

```
1,2,3$
2,4,1,5,6$
3,1,2,9$
1,0,9,8,7,3$
3,8,2,9$
   .
   .
   .
   . 
```

我有一个`char new[]="3,1,2,9$"`

我需要一个 C 函数来检查上面提到的文本文件是否包含`char new[]="3,1,2,9$"`。

这是我的代码，但它不起作用：

```
int main(void)
{
    char new[100]="0,1268,1236$";
    FILE *my_file;
    char string[2000];
    int ind=0;
    int rest;
    int found = 0;

    my_file=fopen("test.txt", "r");

    while((string[ind++]=getchar())!=EOF)
    {
        if(string[ind]='$')
        {
            rest=strcmp(string,new);
            if(rest==0)
            {
                found =1;
                printf("found");
                ind=0;
            }
            strcpy(string, "");
        }
    }
    fclose(my_file);
} 
```

有人可以指出我的错误或让我知道更好的解决方案吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T07:23:27.477

您正在打开文件。但是，你似乎根本没有从中读到任何东西。

似乎是从控制台读取的`getchar()`，或者您没有正确发布代码。

请使用`fgets`或`fread`从文件中读取数据，然后进行比较。

# ios - 收到推送通知时在后台执行代码

> ID：15288730
> 
> 赞同：4
> 
> 时间：2013-03-08T07:20:04.747
> 
> 标签：ios, geolocation, push-notification, apple-push-notifications

我正在尝试找出 iOS 在后台任务方面的实际可能性。我有一个在后台运行并跟踪设备上的位置更改的应用程序。

现在，是否可以向设备发送推送通知并让设备将当前位置发送到服务器，而无需用户打开应用程序使其在前台运行？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2017-04-08T02:15:04.480

我知道这个问题有点老了，但我正在为那些像我一样在提出问题很久之后才来到这里的人回答。

> 现在，是否可以向设备发送推送通知并让设备将当前位置发送到服务器，而无需用户打开应用程序使其在前台运行？

是的。你现在可以这样做了。我目前在我的应用程序中做一些非常相似的事情。还有一些其他的 SO 问题现在可以正确地说明这一点。[这是一](https://stackoverflow.com/questions/28961393/ios-push-notification-code-execution-on-receive)

基本上，您必须启用`Background Execution`. `Remote Notifications`您可以通过转到应用程序的目标在 XCode 中执行此操作。打开`Capabilities`启用该`Background Modes`功能的选项卡并检查`Remote Notifications`清单中的项目。（我假设您已经启用了该`Push Notifications`功能）。

这样，您用于在前台处理通知的代码也将在后台为您服务，因为该`application:didReceiveRemoteNotification:fetchCompletionHandler`方法将在您的应用程序处于后台时被调用。这是 Swift 3.0 中的示例代码：

```
func application(_ application: UIApplication, didReceiveRemoteNotification userInfo: [AnyHashable: Any]) {
  // Print full message.
  print(userInfo)
}

func application(_ application: UIApplication, didReceiveRemoteNotification userInfo: [AnyHashable: Any],
                 fetchCompletionHandler completionHandler: @escaping (UIBackgroundFetchResult) -> Void) {

  // Print full message.
  print(userInfo)

  completionHandler(UIBackgroundFetchResult.newData)
} 
```

您可能想查看有关如何在后台处理网络请求的 SO question（和接受的答案）。[后台请求不执行 Alamofire Swift](https://stackoverflow.com/questions/31750066/background-request-not-execute-alamofire-swift)

[查看有关后台执行的文档。](https://developer.apple.com/library/content/documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/BackgroundExecution/BackgroundExecution.html)特别是关于推送通知的部分

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T07:33:00.100

不幸的是，我不这么认为。当您的应用处于暂停（冻结）状态时，推送通知由 SO 管理，用户需要重新打开应用。他们的另一种方法是为重大更改创建本地通知，当通知到达时，您的应用程序有最少的时间，发布数据是不够的，但您可以研究一些东西。我建议你阅读这个关于蓝牙和地理位置[链接的问题](https://stackoverflow.com/questions/9513249/battery-drain-when-using-corelocation-significant-location-monitoring-coreblue)

* * *

## 回答 #3

> 赞同：-4
> 
> 时间：2013-03-08T07:36:32.293

不可能。这个操作系统有一个原则——用户应该知道你（你的应用）做了什么。当您的应用程序暂停时，通知中心将收到您的推送消息。让您的应用程序知道这件事发生的唯一方法是通过通知中心启动您的应用程序.so.....

# oracle - 对 xml 的递归层次结构查询

> ID：15288731
> 
> 赞同：1
> 
> 时间：2013-03-08T07:20:05.890
> 
> 标签：oracle, recursion, hierarchy

要使用 dynatree( [https://code.google.com/p/dynatree/](https://code.google.com/p/dynatree/) )，我希望结果为下面的 xml 形式，但结果不是我想要的。dynatree 需要第二个来组织树。

有谁能够帮我？

```
SELECT 
  XMLELEMENT("div",xmlattributes('tree' AS "id"),
       (SELECT DBMS_XMLGEN.getXMLType(
     DBMS_XMLGEN.newContextFromHierarchy('
        SELECT LEVEL,
           case
             when CONNECT_BY_ISLEAF = 0 then
              XMLELEMENT("ul", XMLELEMENT("li", xmlattributes(empno AS "id"), ename))
             when CONNECT_BY_ISLEAF = 1 then
              XMLELEMENT("li", xmlattributes(empno AS "id"), ename)
           end
          FROM emp
         START WITH mgr is null
        CONNECT BY PRIOR empno = mgr '
        )
       ) FROM DUAL
      )) XMLDOC  
 FROM DUAL; 
```

当前结果

```
<div id="tree"><ul>
  <li id="7839">KING</li>
  <ul>
    <li id="7566">JONES</li>
    <ul>
      <li id="7788">SCOTT</li>
      <li id="7876">ADAMS</li>
    </ul>
    <ul>
      <li id="7902">FORD</li>
      <li id="7369">SMITH</li>
    </ul>
  </ul>
  <ul>
    <li id="7698">BLAKE</li>
    <li id="7499">ALLEN</li>
    <li id="7521">WARD</li>
    <li id="7654">MARTIN</li>
    <li id="7844">TURNER</li>
    <li id="7900">JAMES</li>
  </ul>
  <ul>
    <li id="7782">CLARK</li>
    <li id="7934">MILLER</li>
  </ul>
</ul>
</div> 
```

期望的结果

```
<ul>
  <li id="7839">KING
   <ul>
    <li id="7566">JONES
     <ul>
      <li id="7788">SCOTT
       <ul>
        <li id="7876">ADAMS</li>
       </ul>
      </li>
      <li id="7902">FORD
       <ul>
        <li id="7369">SMITH</li>
       </ul>
      </li>
     </ul>
    </li>
    <li id="7698">BLAKE
     <ul>
      <li id="7499">ALLEN</li>
      <li id="7521">WARD</li>
      <li id="7654">MARTIN</li>
      <li id="7844">TURNER</li>
      <li id="7900">JAMES</li>
     </ul>
    </li>
    <li id="7782">CLARK
     <ul>
      <li id="7934">MILLER</li>
     </ul>
    </li>
   </ul>
  </li>
 </ul> 
```

sql脚本如下。

```
CREATE TABLE EMP
       (EMPNO NUMBER(4) NOT NULL,
        ENAME VARCHAR2(10),
        JOB VARCHAR2(9),
        MGR NUMBER(4),
        HIREDATE DATE,
        SAL NUMBER(7, 2),
        COMM NUMBER(7, 2),
        DEPTNO NUMBER(2));

INSERT INTO EMP VALUES
        (7369, 'SMITH',  'CLERK',     7902,
        TO_DATE('17-12-1980', 'DD-MM-YYYY'),  800, NULL, 20);

INSERT INTO EMP VALUES
        (7499, 'ALLEN',  'SALESMAN',  7698,
        TO_DATE('20-02-1981', 'DD-MM-YYYY'), 1600,  300, 30);

INSERT INTO EMP VALUES
        (7521, 'WARD',   'SALESMAN',  7698,
        TO_DATE('22-02-1981', 'DD-MM-YYYY'), 1250,  500, 30);

INSERT INTO EMP VALUES
        (7566, 'JONES',  'MANAGER',   7839,
        TO_DATE('02-04-1981', 'DD-MM-YYYY'),  2975, NULL, 20);

INSERT INTO EMP VALUES
        (7654, 'MARTIN', 'SALESMAN',  7698,
        TO_DATE('28-09-1981', 'DD-MM-YYYY'), 1250, 1400, 30);

INSERT INTO EMP VALUES
        (7698, 'BLAKE',  'MANAGER',   7839,
        TO_DATE('01-05-1981', 'DD-MM-YYYY'),  2850, NULL, 30);

INSERT INTO EMP VALUES
        (7782, 'CLARK',  'MANAGER',   7839,
        TO_DATE('09-06-1981', 'DD-MM-YYYY'),  2450, NULL, 10);

INSERT INTO EMP VALUES
        (7788, 'SCOTT',  'ANALYST',   7566,
        TO_DATE('09-12-1982', 'DD-MM-YYYY'), 3000, NULL, 20);

INSERT INTO EMP VALUES
        (7839, 'KING',   'PRESIDENT', NULL,
        TO_DATE('17-11-1981', 'DD-MM-YYYY'), 5000, NULL, 10);

INSERT INTO EMP VALUES
        (7844, 'TURNER', 'SALESMAN',  7698,
        TO_DATE('08-09-1981', 'DD-MM-YYYY'),  1500, NULL, 30);

INSERT INTO EMP VALUES
        (7876, 'ADAMS',  'CLERK',     7788,
        TO_DATE('12-01-1983', 'DD-MM-YYYY'), 1100, NULL, 20);

INSERT INTO EMP VALUES
        (7900, 'JAMES',  'CLERK',     7698,
        TO_DATE('03-12-1981', 'DD-MM-YYYY'),   950, NULL, 30);

INSERT INTO EMP VALUES
        (7902, 'FORD',   'ANALYST',   7566,
        TO_DATE('03-12-1981', 'DD-MM-YYYY'),  3000, NULL, 20);

INSERT INTO EMP VALUES
        (7934, 'MILLER', 'CLERK',     7782,
        TO_DATE('23-01-1982', 'DD-MM-YYYY'), 1300, NULL, 10); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T09:57:44.050

您好，颠倒您的案例逻辑，我对其进行了测试，发现它可以正常工作

```
SELECT 
--  XMLELEMENT("ul",null,
       (SELECT DBMS_XMLGEN.getXMLType(
     DBMS_XMLGEN.newContextFromHierarchy('
        SELECT LEVEL,
           case
             when CONNECT_BY_ISLEAF = 1 then
              XMLELEMENT("ul", XMLELEMENT("li", xmlattributes(empno AS "id"), ename))
             when CONNECT_BY_ISLEAF = 0 then
              XMLELEMENT("ul", XMLELEMENT("li", xmlattributes(empno AS "id"), ename), null)
           end
          FROM emp
         START WITH mgr is null
        CONNECT BY PRIOR empno = mgr '
        )
       ) FROM DUAL
      )
--      ) XMLDOC  
 FROM DUAL; 
```

请检查您需要的输出是否与您在问题中指定的完全一致。

根据我的说法，输出应该如下所示：

```
<ul>
  <li id="7839">KING</li>
  <ul>
    <li id="7566">JONES</li>
    <ul>
      <li id="7788">SCOTT</li>
      <ul>
        <li id="7876">ADAMS</li>
      </ul>
    </ul>
    <ul>
      <li id="7902">FORD</li>
      <ul>
        <li id="7369">SMITH</li>
      </ul>
    </ul>
  </ul>
  <ul>
    <li id="7698">BLAKE</li>
    <ul>
      <li id="7499">ALLEN</li>
    </ul>
    <ul>
      <li id="7521">WARD</li>
    </ul>
    <ul>
      <li id="7654">MARTIN</li>
    </ul>
    <ul>
      <li id="7844">TURNER</li>
    </ul>
    <ul>
      <li id="7900">JAMES</li>
    </ul>
  </ul>
  <ul>
    <li id="7782">CLARK</li>
    <ul>
      <li id="7934">MILLER</li>
    </ul>
  </ul>
</ul> 
```

如果这是您需要的，请检查并更新。

# php - Apache + PHP同时多个脚本

> ID：15288732
> 
> 赞同：2
> 
> 时间：2013-03-08T07:20:07.890
> 
> 标签：php, ajax, apache, parallel-processing

再会。

首先，对不起我的英语不好=）

所以。我创建了脚本：

```
<?
sleep(10);
?> 
```

我的 Apache 有 MPM 模块，我显然没有在这个脚本中使用会话，只是……只是睡眠（10）。当我同时在浏览器中打开 2 个选项卡时，第一个选项卡会在 10 秒内加载，第二个选项卡会在 20 秒内加载。

但。当我同时在 2 个不同的浏览器中打开此脚本时，它会在 10 秒后加载每个浏览器。

所以，我开始想，我的问题是“连接：保持活动”。我改变了我的脚本：

```
<?
  header('Connection: close');
  phpinfo();
  sleep(10);
?> 
```

phpinfo() - 可以肯定的是，标头是在 sleep() 之前发送的。Buuuut ...我遇到了同样的问题。在 Chrome 的第一个选项卡中，我得到带有“连接：关闭”的标题，在第二个选项卡中，当第一个脚本未结束时，我无法获取响应标题。在两种不同的浏览器中- 一切正常。

现在我完全不知道我做错了什么。为什么 Chrome 不能对我的网站进行 2 个并行查询？我应该怎么做才能解决这个问题？

PS我不想为我的所有网站禁用keep-alive。我不介意，它是否会加快 CSS、图像和其他内容的加载速度。甚至其他脚本。但我希望能够在一个浏览器中并行运行一些脚本。PPS 例如：在一个页面上会有很长的 ajax 查询，例如 - 在服务器端处理一些大数据和间隔很小的 ajax 查询 - 以获得执行第一个查询的状态。显然，它们必须是平行的。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2016-07-12T16:41:37.990

我知道这是一个老问题，但我遇到了同样的问题并用[`session_write_close()`](http://php.net/manual/fr/function.session-write-close.php)! 没有它，PHP 会故意将同一会话的脚本排队。

**最简单的例子：**

**龙脚本#1：**

```
<?php

$_SESSION['progress'] = 0;

for ($i=0; $i < 100; $i++)
{
    session_start();
    $_SESSION['progress']++;
    session_write_close();
    sleep(1);// This is slowing script purposely!
}

?> 
```

**短脚本#2：**

```
<?php
session_start();
print_r($_SESSION['progress']);
?> 
```

现在试试看，打开第一个需要很长时间的脚本在新选项卡中打开第二个脚本，并在第一次仍在运行时立即更新进度！这么简单对吧？！;)

ajax 轮询长脚本和第二个 ajax 调用以获取进度的原理相同！

# shell - 在 sudo 之后在此处的文档中循环查找命令的输出

> ID：15288733
> 
> 赞同：2
> 
> 时间：2013-03-08T07:20:09.007
> 
> 标签：shell, unix, loops, find

```
#!/bin/bash

sudo -u rei_sh -H -s <<-EOM

echo "hi"

for i in $(find -name *.properties)

do

echo "ivalue is \$i"

done

exit

EOM 
```

我正在使用上面的代码。

当我运行代码时，只会打印“hi”。

但是如果我使用“for i in one two”，则会打印以下内容

```
ivalue is one
ivalue is two. 
```

为什么我不能在 here 文档中循环查找命令的输出？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T07:29:51.607

因为在开始`$(...)`之前运行`sudo`...你需要引用`EOM`：

```
sudo -u rei_sh -H -s <<-'EOM'
    echo "hi"
    for i in $(find -name *.properties)
    do
        echo "ivalue is $i"
    done
EOM 
```

`exit`是多余的。使用 引号`EOM`，您也不需要`$`在`echo`命令中转义 。您也可以转义`$`before`$(...)`以防止 pre- `sudo`shell 执行命令。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T10:33:48.487

进程替换和变量扩展发生在处理 heredocs 之前。

尝试转义 $ 符号和 glob (*)。

# python - 如何在vim中选择函数的当前参数

> ID：15288735
> 
> 赞同：3
> 
> 时间：2013-03-08T07:20:18.520
> 
> 标签：python, vim, editor, vi

使用 VIM 在 Python 中编码我经常不得不更改或删除函数的参数。我希望找到一个命令，比如`ci,`选择两个逗号之间的文本。不知何故，就像在匹配的括号或括号之间进行选择`ci"`和`ci(`。

```
def function1(a,b,delete_me, c):
    pass

def function2(a,b,delete_me):
    pass

def function3(a,b,delete_me=[1,2,3]):
    pass 
```

如何使用 VIM 将光标指向所需的参数，从而有效地实现预期结果？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-08T07:29:22.230

参数匹配很困难（尤其是嵌套函数调用和数组等结构），因为它取决于底层语法。这就是为什么没有内置的*内部/外部参数*文本对象。

我使用[argtextobj.vim 插件](http://www.vim.org/scripts/script.php?script_id=2699)，它工作得很好。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T07:26:11.977

我认为没有内置命令，但这里有一些可能会有所帮助的示例。

选择文本：

`ve`-- 单词边界
`vE`结束 -- 行尾

删除：

`de`-- 删除到字尾
`dE`-- 删除到行尾

如果您必须删除一堆相同的东西，一些正则表达式魔法也可以完成这项工作。
`:%s/\,d.*\]//g`-- 替换任何开头`,d`和结尾的`]`内容`""`

```
def function3(a,b,delete_me=[1,2,3]):
    pass 
```

变成

```
def function3(a,b):
    pass 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T07:35:03.820

对于简单的参数，`ciw`（change inside word）是等价的。

在您的第三个示例中，如果您的光标位于参数的开头，则`cf]`（更改为 find `]`）将起作用。

# oracle - Oracle apex 中的自动电子邮件

> ID：15288738
> 
> 赞同：3
> 
> 时间：2013-03-08T07:20:26.760
> 
> 标签：oracle, oracle-apex

数据库备份完成后，我需要在 Oracle APEX 中发送一封自动电子邮件。有什么方法可以确保数据库备份过程完成？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-08-24T07:51:48.247

如果 DB Backup 是通过类似`Submit`按钮的操作启动的，我们可以调用 a通过新进程`PL/SQL Script`发送电子邮件。`After Submit`

以下是用于发送电子邮件的 APEX 方法：

```
apex_mail.send(
    p_to   => to_list,   -- change to your email address
    p_from => sender, -- change to a real senders email address
    p_bcc => bcc_list,
    p_body      => l_body,
    p_body_html => l_body_html,
    p_subj      => subject); 
```

导航：

```
Page Definition -> Page Processing -> Processes 
```

以下是在 SQL Workshop 中创建的用于发送电子邮件的示例 PL/SQL 函数：

```
create or replace function sendemail(sender in varchar2, receiver in varchar2, subject in varchar2, content in CLOB, signature in varchar2) return boolean is
    sent_status boolean := false;
    l_body clob;
    l_body_html clob;
begin
    l_body := 'To view the content of this message, please use an HTML enabled mail client.'||utl_tcp.crlf;

    l_body_html := '<html>
        <head>
            <style type="text/css">
                body{font-family: Arial, Helvetica, sans-serif;
                    font-size:10pt;
                    margin:30px;
                    background-color:#ffffff;}

                span.sig{font-style:italic;
                    font-weight:bold;
                    color:#811919;}
             </style>
         </head>
         <body>'||utl_tcp.crlf;
    l_body_html := l_body_html ||content || utl_tcp.crlf;
    l_body_html := l_body_html ||' <span class="sig">'||signature||'</span><br />'||utl_tcp.crlf;
    l_body_html := l_body_html ||'</body></html>';
    apex_mail.send(
    p_to   => receiver,   -- change to your email address
    p_from => sender, -- change to a real senders email address
    p_bcc => sender,
    p_body      => l_body,
    p_body_html => l_body_html,
    p_subj      => subject);
    sent_status := true; 
    return sent_status;
end; 
```

# php - PHP 在符号中查找数据

> ID：15288740
> 
> 赞同：0
> 
> 时间：2013-03-08T07:20:30.223
> 
> 标签：php, regex, preg-match

我正在用 PHP 编写程序，我需要找到介于两组符号之间的数据，并将其转换为字符串。例如

```
$main = "Hello, everyone, my name is (-Jack-)"
$string = regex_function('(-', $main) #should return "Jack" 
```

我如何使用正则表达式函数或其他东西获得该输出

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:22:31.877

尝试这个 ：

```
$main  = 'Hello, everyone, my name is (-Jack-)';

preg_match_all('/\(\-(?P<name>.*)\-\)/', $main, $matches);

echo "<pre>";
print_r($matches);

echo $matches['name'][0]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T07:25:56.690

该函数被称为[`preg_match_all()`](http://www.php.net/manual/en/function.preg-match-all.php)。

```
$main = "Hello, everyone, my name is (-Jack-)";
preg_match_all('/\(\-(?P<name>\w+)\-\)/', $main, $string);
print_r( $string ); 
```

[键盘](http://codepad.viper-7.com/3cbwz9)上的示例输出。

* * *

参考[@Prasanth 的评论](https://stackoverflow.com/questions/15288740/php-find-data-within-symbols/15288821?noredirect=1#comment21573949_15288821)；这是一个更好的正则表达式。

```
$main = "Hello, everyone, my name is (-Jack stuff-) some more text (-John stuff-)";
preg_match_all('/\(\-(?P<name>[\s\w]+)\-\)/', $main, $string);
print_r( $string ); 
```

[键盘](http://codepad.viper-7.com/7JGOx2)链接。

# regex - 期望中的正则表达式？

> ID：15288745
> 
> 赞同：2
> 
> 时间：2013-03-08T07:20:46.820
> 
> 标签：regex, expect

我如何在期望中使用正则表达式将这样的模式拆分为 3 个变量？

```
set var Gi1/0/23 
```

请帮忙解释一下？

**正则表达式模式 $var abc**

这样

```
a --> Gi1
b --> 0
c --->23 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T09:03:29.140

此正则表达式应该可以捕获 3 组中的目标输入：

```
(\w+)/(\w+)/(\w+) 
```

仅供参考`\w`，意思是“word char”，即`[a-zA-Z0-9_]`，因此它应该适用于各种输入。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T08:38:42.697

以下正则表达式将捕获`Fa*number*`或`Gi*number*`在反向引用组 1 和反向引用组 2 中的最后一个数字

```
^((?:Fa|Gi)\d)/\d+/(\d+) 
```

**更新：**

根据您更新的问题，这样的事情将捕获您的通用模式：

```
^([A-Z][a-z]\d+)/(\d+)/(\d+) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T13:45:28.637

我通常遵循这个经验法则：如果您知道要保留什么，请使用正则表达式；如果您知道要丢弃什么，请使用拆分。在这里，您知道您想使用斜杠作为分隔符并获取剩余值，因此我将使用 split。

```
split $var / 
```

To assign the resulting values to variables, use one of these forms:

```
lassign [split $var /] a b c             ;# for recent versions of expect
foreach {a b c} [split $var /] {break}   ;# for old versions 
```

# blackberry - 我可以将我的 5.0 SDK 应用程序运行到具有 BB 7.1 操作系统的设备上吗？

> ID：15288748
> 
> 赞同：-1
> 
> 时间：2013-03-08T07:21:02.023
> 
> 标签：blackberry, sdk

我可以将我的 5.0 SDK 应用程序运行到具有 BB 7.1 操作系统的设备上吗？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T12:06:59.397

是的，有可能。您可以在 BB RIM OS 7.1 上运行它

但请注意，您的应用程序不会在 BB 10 平台上运行。最新支持的平台是 RIM OS 7.1

另请注意，要为最终用户提供最佳用户体验，请使用 Apache Ant 和 BB Ant 工具使用多个 SDK-s 编译您的应用程序。然后在设备上安装最合适的版本。

# c# - 如何删除作为 HttpResponseMessage 的 StreamContent 发送的文件

> ID：15288749
> 
> 赞同：19
> 
> 时间：2013-03-08T07:21:02.657
> 
> 标签：c#, asp.net, asp.net-web-api, httpresponse, dispose

在 ASP.NET webapi 中，我向客户端发送了一个临时文件。我打开一个流来读取文件并使用 HttpResponseMessage 上的 StreamContent。一旦客户端收到文件，我想删除这个临时文件（没有来自客户端的任何其他调用）一旦客户端收到文件，就会调用 HttpResponseMessage 的 Dispose 方法并处理流。现在，我现在也想删除临时文件。

一种方法是从 HttpResponseMessage 类派生一个类，覆盖 Dispose 方法，删除此文件并调用基类的 dispose 方法。（我还没有尝试过，所以不知道这是否有效）

我想知道是否有更好的方法来实现这一点。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-10-29T15:45:55.180

实际上[你的评论](https://stackoverflow.com/questions/15288749/how-to-delete-the-file-that-was-sent-as-streamcontent-of-httpresponsemessage#comment21586235_15288749)帮助解决了这个问题......我在这里写了：

[删除通过 ASP.NET Web API HttpResponseMessage 中的 StreamContent 发送的临时文件](http://www.leniel.net/2013/10/delete-temporary-file-sent-through-streamcontent-aspnet-webapi-httpresponsemessage.html)

这对我有用。请注意，内部调用的顺序`Dispose`与您的评论不同：

```
public class FileHttpResponseMessage : HttpResponseMessage
{
    private string filePath;

    public FileHttpResponseMessage(string filePath)
    {
        this.filePath = filePath;
    }

    protected override void Dispose(bool disposing)
    {
        base.Dispose(disposing);

        Content.Dispose();

        File.Delete(filePath);
    }
} 
```

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2016-09-21T07:03:30.193

从具有 DeleteOnClose 选项的 FileStream 创建您的 StreamContent。

```
return new HttpResponseMessage(HttpStatusCode.OK)
{
    Content = new StreamContent(
        new FileStream("myFile.txt", FileMode.Open, 
              FileAccess.Read, FileShare.None, 4096, FileOptions.DeleteOnClose)
    )
}; 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-02-03T20:04:54.833

我首先将文件读入 byte[]，删除文件，然后返回响应：

```
 // Read the file into a byte[] so we can delete it before responding
        byte[] bytes;
        using (var stream = new FileStream(path, FileMode.Open))
        {
            bytes = new byte[stream.Length];
            stream.Read(bytes, 0, (int)stream.Length);
        }
        File.Delete(path);

        HttpResponseMessage result = new HttpResponseMessage(HttpStatusCode.OK);
        result.Content = new ByteArrayContent(bytes);
        result.Content.Headers.ContentType = new MediaTypeHeaderValue("application/octet-stream");
        result.Content.Headers.Add("content-disposition", "attachment; filename=foo.bar");
        return result; 
```

# android - 我们如何仅使用画布绘制任何图形？

> ID：15288752
> 
> 赞同：1
> 
> 时间：2013-03-08T07:21:08.023
> 
> 标签：android

android中有很多奇怪的东西。

我想问的是关于用画布绘图。

当我覆盖 ondraw 函数时，

安卓给了我画布在设备上画一些东西。

我想回答**画布如何在内部绘制图像或一些图形**。

如果他们需要绘制某些东西，请使用表面抛掷器或 openglES 或核心图形或任何东西将图像从后缓冲区交换到设备显示中的前缓冲区。

我在这个链接中得到了一些类似的答案[Android GUI architecture - relationship between Surface/view/window/canvas](https://stackoverflow.com/questions/7776115/android-gui-architecture-relation-between-surface-view-window-canvas)

但是真的不够了解。。

因为我不明白他们如何初始化设备显示并在设备显示中绘制画布

我了解 ViewRoot 和 View 中的关系也浮出水面。

请让我知道**深入了解原生层的关键**。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T20:42:21.923

我强烈建议您将 API Demos 应用程序加载到 Eclipse 中并查看 Graphics 演示。它们数量众多，代码应该让您深入了解问题的解决方案。

要加载 API Demos 应用程序，请在 Eclipse 中单击 File > New > Other > Android Sample Project。

然后选择您的构建目标，例如 Android 4.2。

然后从示例应用程序列表中选择 API Demos 应用程序。

最后点击完成。

该应用程序中有 300 多个演示，因此可能难以导航。您想查看图形部分。

从您的描述中有点不清楚您的问题到底是什么，但是 API 演示涵盖了很多领域，您应该能够找到一些代码来帮助您。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T20:34:49.137

以下是一些 Graphics API Demo Java 源文件的列表：

*   AlphaBitmap
*   AnimateDrawables
*   弧线
*   位图解码
*   位图网格
*   位图像素
*   相机预览
*   剪裁
*   颜色过滤器
*   颜色矩阵样本
*   罗盘
*   创建位图
*   密度活动
*   指甲油
*   图层
*   测量文本
*   路径效应
*   路径填充类型
*   模式
*   图片
*   画点
*   PolyToPoly
*   地区
*   圆形矩形
*   ScaleToFit
*   传感器测试
*   SurfaceViewOverlay
*   窗口表面
*   扫
*   文本对齐
*   触控画
*   字体
*   UnicodeChart
*   顶点
*   Xfermodes

# matlab - Matlab图像按颜色分类

> ID：15288756
> 
> 赞同：1
> 
> 时间：2013-03-08T07:21:24.020
> 
> 标签：matlab

我有两个不同波段的不同卫星图像。我想看到的是像素之间的差异。为此，我减去了两个图像的值。结果，我得到了一张具有差异值的新图像（在波段的情况下）。我不知道这是否可能，但我会用颜色对这些值进行分类。例如，如果差值是从 0 到 20，我希望像素颜色为蓝色，如果从 30 到 40，则为绿色，如果高于 40，则为红色。是否有可能做到这一点？

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:57:14.740

```
img=rand(300,200)*256; // test image
image(img)
colorbar 
```

将使用默认颜色映射显示您的图像，正如您从颜色栏中看到的那样，它使用各种深浅不一的蓝色表示接近 0 的值，绿色表示大约 120 的值，红色表示最高值。

请注意，`image`它采用值从 0 到 255 的矩阵作为参数，而默认颜色映射包含 64 个条目，因此每个条目将用于四个相邻的值。但是，颜色图也可能有 256 行。

只需重新定义该颜色图，如下所示：

```
myMap = [repmat([0 0 1],20,1); ... %# blue for first 20 values
         repmat([0 1 0],20,1); ... %# green for next 20
         repmat([1 1 0.5],216,1)];  %# bright yellow for the rest
colormap(myMap); 
```

（这是假设您的图像值从 0 缩放到 255。如果颜色图中的行数少于图像中的值，则颜色图将被缩放并且颜色栏中的标签将与图像值不匹配。您可以但是创建一个颜色图，其行数对应于图像中的最大值（如果 <=255），以便匹配。如果不确定，请参阅 和 的帮助以获取详细信息。`image`）`colormap`

# .net - .NET 基本对象和运算符的成本

> ID：15288760
> 
> 赞同：-1
> 
> 时间：2013-03-08T07:21:37.817
> 
> 标签：.net, performance

我正在开发一个性能比我想要的更慢的应用程序。

我在 MSDN 上找到了这篇文章：http: [//msdn.microsoft.com/en-us/library/ms973852](http://msdn.microsoft.com/en-us/library/ms973852)

但这显然不是最新的，我知道他们一直在优化 CLR。对于 .net 4.0 或 4.5 的不同原语如何执行，是否有这样的好文档？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:30:35.030

除非您有充分的理由认为存在瓶颈，否则您不应过多考虑 CLR 的基本数据类型的性能。我建议你找一个好的分析器，从分析你的应用程序开始，找出瓶颈在哪里，例如在哪些方法上花费的时间最多。

# c# - UserControl TextBox 获取设置属性

> ID：15288763
> 
> 赞同：0
> 
> 时间：2013-03-08T07:22:10.250
> 
> 标签：c#, winforms, user-controls, get, set

我收到以下错误：

```
 An unhandled exception of type 'System.StackOverflowException'
 occurred in ciscontrols.dll 
```

以下是相关代码：

```
private int Dval;
public int DecPlaces
{
    get { return Dval; }
    set
    {
        DecPlaces = value;
        if (value < 2)
        {
            throw new ArgumentOutOfRangeException("decplaces", "decimal places minimum value should be 2.");
        }
        else this.Dval = value;
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T07:25:57.037

请参阅我在代码中的评论 -

```
private int Dval;
    public int DecPlaces
    {
        get { return Dval; }
        set
        {
            //DecPlaces = value;  **** This is calling set method again, hence the exception. Just comment this line

            if (value < 2)
            {
                throw new ArgumentOutOfRangeException("decplaces", "decimal places minimum value should be 2.");
            }
            else this.Dval = value;
        }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T07:24:04.090

您正在调用 Set Property Infinite Manner

```
 DecPlaces = value; 
```

使用一些 lcoal 变量来做到这一点。

```
int m= value; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T07:26:07.147

这是你的问题：

```
DecPlaces = value; 
```

你是自引用的。你一直打电话给你的二传手。只需删除那条线，你应该会很好。

# jquery - 如何在弹出 div 上为多个单击事件显示已加载的加载程序图标

> ID：15288766
> 
> 赞同：0
> 
> 时间：2013-03-08T07:22:19.167
> 
> 标签：jquery, popup

我在我的网络应用程序中使用 JQuery 1.8.1。我试图`display a loader icon`在我的弹出窗口上停留在 div 上，直到 ajax 请求完成。

要显示的图像是`already loaded and present (hidden) on the main page`。

```
<img id="myLoader" alt="" src="images/throbber.gif" style="display: none;"/> 
```

单击显示弹出窗口的链接时，我将加载程序图标放在弹出 div 上。当 ajax 请求完成时，div 会被接收到的数据覆盖。

```
$('a#popup').click(function(event){
        event.preventDefault();
        displayPop();
        $('div#popupdiv').html($('img#myLoader').show());
        $.ajax({
            url: 'someURL',
            type: 'POST',
            data: data,
            dataType: 'json',
            contentType: 'application/json'
        }).success(function(data){
             $('div#popupdiv').html(data);
        });
}); 
```

它只工作一次。对于所有其他`$('a#popup')`呼叫，它是空白的。在从萤火虫调试时，我看到它在第一次调用时返回，但`$('img#myLoader')`在其余的调用中返回。作为客户端编码的新手，我无法掌握正在发生的事情。`Object[img#myLoader images/throbber.gif]``Object[]`

如何在 ajax 请求完成之前在弹出的 div 上显示加载器图标？我不想对加载器本身使用任何 ajax 请求。请指教。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T08:01:55.137

您是否尝试过对链接使用类而不是 ID？

另外，我会移动：

```
event.preventDefault(); 
```

到函数的最后。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T07:35:37.390

您可以处理两个事件，它们可以完成您的任务

```
beforeSend: function () {
        loading();
    }, 
```

加载时显示加载图像

```
complete: function () {
     //here you disable that loading image.
    } 
```

更多活动请参考：api.jquery.com/jquery.ajax

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T08:44:12.537

我有同样的问题。问题在于将 jQuery 函数`html`应用于 jQuery 对象：`$('div#popupdiv').html($('img#myLoader'))`. 之后这个操作对象表现得很奇怪。文档明确说明您只能将`html`方法与`htmlString`. 我认为你可以通过使用`append`来解决你的问题`html`（这个可以使用`jQuery`）。我可以建议这样的事情：

`var imgLoader = $('img#myLoader').show().remove();`

```
$('a#popup').click(function(event){
    event.preventDefault();
    displayPop();
    $('div#popupdiv').append(imgLoader.clone());
    $.ajax({
        url: 'someURL',
        type: 'POST',
        data: data,
        dataType: 'json',
        contentType: 'application/json'
    }).success(function(data){
         $('div#popupdiv').html(data);
    }); 
```

});

# ios6 - 无法插入新的插座连接

> ID：15288773
> 
> 赞同：158
> 
> 时间：2013-03-08T07:22:49.177
> 
> 标签：ios6, xib, xcode4.6

无法插入新的插座连接：找不到该类的任何信息，也没有显示任何名为“ViewController”的类

我已经完成的解决方案： - 重新启动 XCode - 重新启动系统 - 从 /Library/developer/xcode 中删除了 Deriveddata 内容

但没有什么对我有用

这是错误的屏幕截图 ![在此处输入图像描述](../Images/d2c448081f115ae66bd1e681c7ea71fb.png)

* * *

## 回答 #1

> 赞同：256
> 
> 时间：2013-04-24T03:05:23.927

我今天遇到了和你一样的问题......我认为这是Xcode的一个错误，下面是解决这个问题的方法：

> 1.  关闭您正在处理的项目。
> 2.  删除项目的【DerivedData】文件夹。（此文件夹可能在您的项目文件夹内，或在 ~/Library/Developer/Xcode/DerivedData/(your project)/ 内）或您设置的其他地方。
> 3.  重新启动您的项目。

经过这些步骤，问题应该得到解决。而且根据我的经验，这些步骤可以解决很多 Xcode 问题，所以如果你再次遇到 Xcode 问题，请先尝试这些步骤。

* * *

## 回答 #2

> 赞同：134
> 
> 时间：2013-04-12T13:17:47.923

删除（删除引用，而不是删除）然后添加适当的文件（要添加插座的类的文件）实际上就足够了。

**编辑 1**我发现取消选中后（在 XCode 6.3.1 中）我必须等待几秒钟才能`Indexing`在项目名称框中出现并完成。倒退的方式也一样。这增加了在几乎所有（但不是所有）情况下解决问题的机会。

**编辑 2** 删除引用意味着您没有完全删除文件，而只是将其从项目中删除（它仍然存在于项目的文件夹中，稍后添加）。

[![在此处输入图像描述](../Images/c2a3dc49415d23fad958e592fa2f89d2.png)](https://i.stack.imgur.com/43sbx.png)

* * *

## 回答 #3

> 赞同：51
> 
> 时间：2013-03-08T07:35:00.050

这是最常见的问题`file indexing`。

要修复它，请尝试`clean your target`如果这不起作用，请转到您的`Derived Data`文件夹并在那里删除您的应用程序。这将强制 xCode 重新索引文件

* * *

## 回答 #4

> 赞同：13
> 
> 时间：2013-05-25T02:23:37.420

刚刚在 Xcode 4.6.2 上遇到了同样的问题。
尝试了不同答案/评论中提出的解决方案，但它仍然不起作用。

然后我所做的只是：

1.  保存我所有的工作；
2.  只需**退出 Xcode**并再次加载它；
3.  然后我能够成功插入新的插座连接。

希望这会为其他人节省一些时间/挫败感。

* * *

## 回答 #5

> 赞同：12
> 
> 时间：2013-07-23T10:37:16.860

就个人而言，我遇到了同样的问题：“无法插入新的插座连接”并且当我开始输入“UI ...”之类的内容时，XCode 没有做任何事情。我搜索了答案，尝试了几件事……但这只是一个未选中的框。当我创建一个新类时，XCode 取消选中将类链接到项目的框（我猜）。

我无法发布屏幕截图，因为我没有 10 个声望，但是当您创建课程时，XCode 会询问您要将其保存在哪里。在查找器窗口下方，您有“目标”和两个框：“YouProjectName”和“YouProjectNameTests”。你应该检查第一个（至少）。

希望这会有所帮助。我看到了关于这个主题的不同讨论。

![创建新课程时的屏幕截图](../Images/8bd022128749bd7bfc1c2088b07f55a6.png)

* * *

## 回答 #6

> 赞同：7
> 
> 时间：2013-08-02T06:58:34.397

我最近遇到了这个问题。我很快意识到原因是我自己做的。我以前在终端窗口中使用以下代码禁用了 XCode 索引（它曾经永远占用我的 RAM）：

```
defaults write com.apple.dt.XCode IDEIndexDisable 1 
```

要将 XCode 恢复为其默认状态，我在终端窗口中使用了以下行：

```
defaults write com.apple.dt.XCode IDEIndexDisable 0 
```

瞧！一切又好了。。

* * *

## 回答 #7

> 赞同：4
> 
> 时间：2013-07-22T11:59:29.297

如果您已将类导入 Xcode 项目，则必须手动将类（.m 文件）添加到“编译源”中。

选择项目图标 > TARGETS > Build Phases > Compile Sources 单击 + 按钮并添加您的 *.m 文件。

* * *

## 回答 #8

> 赞同：3
> 
> 时间：2013-03-08T13:28:36.597

最后，我通过从我的 Mac 中完全删除 xcode 并重新安装 xocde.dmg 文件，然后安装驻留在 /Applications/Xcode.app/Contents/Resources/Packages 上的 MobileDevice.pkg 和 MobileDeviceDevelopment.pkg 来做到这一点

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2013-06-29T07:31:14.790

确保您的源代码已包含在“构建阶段”位置。

这确实解决了我的问题。但我认为 Xcode 仍然非常有问题和烦人。

# gwt - Firefox , IE8 & 9 中的 GWT TabPanel

> ID：15288779
> 
> 赞同：0
> 
> 时间：2013-03-08T07:23:09.527
> 
> 标签：gwt

我有一个在 IE7 中开发的应用程序，它工作正常，但是当我们尝试在 Firefox、ie8 和 9 中运行它时，tabPanel 中的小部件无法加载/显示，除了没有在 tabpanel 中显示小部件之外，一切正常。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:31:19.157

您需要设置选项卡面板的高度，并且您应该保持包含在布局层次结构中。要么在任何地方使用布局面板，要么只使用面板。

> 我认为问题在于您同时使用了面板和布局面板。

有关更多信息，请参阅以下链接 -

[TabLayoutPanel 仅显示小部件 选项卡项可见](https://stackoverflow.com/questions/13738904/tablayoutpanel-not-showing-widgets-only-tab-items-are-visible/13739312#13739312)

# java - Struts.xml 动作配置

> ID：15288780
> 
> 赞同：1
> 
> 时间：2013-03-08T07:23:14.103
> 
> 标签：java, xml

如果没有为动作指定任何方法，那么将为该动作下的指定类调用哪个方法

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:25:20.050

覆盖动作类中的执行方法。如果struts.xml 文件的action 标签中没有提供方法，则默认调用execute 方法。

假设这是您的 struts 动作标签。HelloWorld 是提到的动作类。没有指定方法。然后将在动作类中调用执行方法。

```
<action name="add" class="example.HelloWorld">
    <result name="SUCCESS" type="redirect">HelloWorld</result>
</action> 
```

这是 HelloWorld 动作类。

```
public class HelloWorld extends ActionSupport {

    @Override
    public String execute() {       
        return SUCCESS;
    }
} 
```

# jquery - 基于元素类在Jquery中设置变量

> ID：15288781
> 
> 赞同：0
> 
> 时间：2013-03-08T07:23:24.390
> 
> 标签：jquery

我很困惑，我的头很痛，请帮助。

当元素具有“已选择”类时，我正在尝试将变量发送到 fancybox.js。这有效：

```
var showMe = true; 
```

这也有效：

```
if(a){
  var showMe = true;
} 
```

这会导致警告说“已选择课程”：

```
if($('#shuffle').hasClass('selected')){
  alert("class is selected"); 
} 
```

我还检查了 Firebug 并选择了该类。

问题是当我这样做时它不起作用：

```
if($('#shuffle').hasClass('selected')){
    var showMe = true;  
} 
```

showMe 未设置为 true。

我知道它一定很简单，在此先感谢您的帮助。

编辑这是有效的：由于某种原因，更改为选中的类没有设置 showMe = true。我向按钮添加了一个 .click 函数，它确实有效。不知道为什么，但是如果您知道我应该在哪里阅读此内容，请通过此处的链接。

```
$(function() {
  $("#shuffle").click(function(){

    showMe = true; 
    console.log( showMe);
  });
}); 
```

感谢所有回复的人，我猜您的答案不起作用的原因与我提出问题的方式有关。干杯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T07:43:56.590

通过使用`var showMe = 'true'`，您正在设置一个局部变量。如果要在函数外部使用该变量，只需使用`showMe = 'true'`< 即可设置全局变量。

像这样

```
if($('#shuffle').hasClass('selected')){
    showMe = true;  
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T07:28:06.303

也许你会看看这个：

```
var showMe = ($('#shuffle').hasClass('selected')) ? true : false;
alert(showMe); 
```

确保运行时 DOM 已准备就绪！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T07:45:27.380

在文档准备好或其他任何内容之前声明您的变量。这样，您将使其全球化。

```
<script type="text/javascript">
    var showMe = false;
    jQuery(document).ready(function($) {
        console.log( showMe );
        if ( $('#shuffle').hasClass('selected') )
        {
            showMe = true;
            console.log( showMe );
        }
    });
</script> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-08T07:40:05.103

尝试

```
if($('#shuffle').hasClass('selected')){
    showMe = true;  
} 
```

我已将其移至`showMe`全局范围（通过删除`var`关键字），现在无论您在何处访问它，都可以像使用它一样使用它

```
if(typeof(window.showMe) != 'undefined') 
 alert(showMe); 
```

# jquery - 如何重置表单的一部分

> ID：15288786
> 
> 赞同：-2
> 
> 时间：2013-03-08T07:23:29.897
> 
> 标签：jquery

我有这样的标记

```
<form>
    <div class="pane1">
        <input type="text" class="form element1">
        <input type="text" class="form element1">
    </div>
    <div class="pane2">
        <input type="text" class="form element2">
        <input type="text" class="form element2">
    </div>
    <div class="pane3">
        <input type="text" class="form element3">
        <input type="text" class="form element3">
        <input type="text" class="form element3">
    </div>
</form> 
```

现在我需要使用jquery清除pane3内的所有文本框是可能的。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:30:40.200

而不是选择每个`input`你可以选择pane3 div内的所有输入

试试这个

```
$('.pane3 input').val(''); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T07:29:16.967

```
var username=$("#spTxtUsername").val();
var password=$("#spTxtPassword").val(); 
```

// 做一些操作

```
$("#spTxtUsername").val("");
$("#spTxtPassword").val(""); 
```

如果您使用的是类

$(".form-element-3").val("");

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T07:31:15.310

如果要删除或隐藏pane3 div下的所有输入文本框，请在css样式表下使用——

.pane3 输入[type='text']{display:none;}

或者

如果删除输入框的值，那么使用这个——

$('.pane3 输入').val(' ');

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-08T07:31:25.307

```
$('.pane3 input').val(''); 
```

按pane3类选择输入元素并将它们的值设置为空..

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-08T07:38:03.817

试试这样。

```
$('.pane3 input').val(''); 
```

甚至更具体

```
$('.pane3 input.element3').val(''); 
```

# android - Android快速应用轮换崩溃

> ID：15288787
> 
> 赞同：1
> 
> 时间：2013-03-08T07:23:30.347
> 
> 标签：android, rotation, screen

当我登录 android 应用程序和快速旋转屏幕时，应用程序无法处理 onSaveInstanceState 和 onCreate（加载用户并执行登录）。所以我退出了。我可以以某种方式处理旋转，并且不允许这么快调用这些方法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:26:14.527

当您旋转设备时，您的 Activity 将重新创建，并且所有变量都将重新初始化。因此，在这种情况下，如果您希望某些值在 Rotation 上保持不变，您也可以使用 onSaveInstanceState() 存储它们的状态，并且您可以通过检查 Bundle is not null 再次在 onCreate() 中恢复。

```
if(savedInstanceState != null){
            // get the restore value from the Bundle
        } 
```

当您旋转设备时将调用 onConfigurationChanged()（请注意，仅当您选择了要使用的配置时才会调用此方法

```
@Override
public void onConfigurationChanged(Configuration newConfig) {
    super.onConfigurationChanged(newConfig);
        //Do stuff here
} 
```

# joomla - 如何在 joomla 中为非超级用户从后端删除美德市场组件

> ID：15288788
> 
> 赞同：0
> 
> 时间：2013-03-08T07:23:31.393
> 
> 标签：joomla, virtuemart

我想知道如何在 joomla 中为非超级用户从后端删除美德市场组件.. 提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T23:37:45.273

Joomla ACL 允许这样做。

转到美德玛特组件选项-> 应该有一个权限/安全选项卡，从那里删除管理员的访问权限。

**如果它不存在，只需将其添加到模块的配置中，它应该足以显示并使其工作：

```
<fieldset
    name="permissions"
    label="JCONFIG_PERMISSIONS_LABEL"
    description="JCONFIG_PERMISSIONS_DESC"
    >

    <field
        name="rules"
        type="rules"
        label="JCONFIG_PERMISSIONS_LABEL"
        filter="rules"
        validate="rules"
        component="com_virtuemart"
        section="component">
        <action
            name="core.admin"
            title="JAction_Admin"
            description="JACTION_ADMIN_COMPONENT_DESC" />
        <action
            name="core.manage"
            title="JAction_Manage"
            description="JACTION_MANAGE_COMPONENT_DESC" />
    </field>
</fieldset> 
```

# javascript - 使用 javascript 显示/隐藏脚本

> ID：15288790
> 
> 赞同：4
> 
> 时间：2013-03-08T07:23:48.723
> 
> 标签：javascript, html, toggle, show-hide

我有一个用于菜单的显示/隐藏脚本。当我单击主链接时，它会在其下方显示一个列表。我想知道是否有一种方法可以稍微改变它，以便当我单击链接时它会打开，但是当我单击下一个链接时它会关闭另一个而不是让它们全部打开，除非您再次单击它以关闭。

这是我的脚本：

```
<script type="text/javascript">
    function toggle_visibility(id) {
       var e = document.getElementById(id);
       if(e.style.display == 'block')
          e.style.display = 'none';
       else
          e.style.display = 'block';
    }
</script>

<a href="#" onclick="toggle_visibility('list1');">
       <p>List One</p>
       </a>
       <div id="list1" style="display:none;">
         <ul>
           <li>Item One</li>
           <li>Item Two</li>
           <li>Item Three</li>
         </ul>
       </div> 
```

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-08T07:30:22.130

假设这是您的代码：

```
<a href="#" onclick="toggle_visibility('list1');">
  <p>List One</p>
</a>
<div id="list1" style="display:none;">
  <ul>
    <li>Item One</li>
    <li>Item Two</li>
    <li>Item Three</li>
  </ul>
</div>
<a href="#" onclick="toggle_visibility('list2');">
  <p>List Two</p>
</a>
<div id="list2" style="display:none;">
  <ul>
    <li>Item One</li>
    <li>Item Two</li>
    <li>Item Three</li>
  </ul>
</div> 
```

将其更改为：

```
<a href="#" onclick="toggle_visibility('list1');">
  <p>List One</p>
</a>
<div id="list1" class="alist" style="display:none;">
  <ul>
    <li>Item One</li>
    <li>Item Two</li>
    <li>Item Three</li>
  </ul>
</div>
<a href="#" onclick="toggle_visibility('list2');">
  <p>List Two</p>
</a>
<div id="list2" class="alist" style="display:none;">
  <ul>
    <li>Item One</li>
    <li>Item Two</li>
    <li>Item Three</li>
  </ul>
</div> 
```

让你的 JavaScript 变成这样：

```
function toggle_visibility(id) {
    var list = document.getElementsByClassName("alist");
    for (var i = 0; i < list.length; i++) {
        list[i].style.display = 'none';
    }
    var e = document.getElementById(id);
    if(e.style.display == 'block') {
        e.style.display = 'none';
    } else {
        e.style.display = 'block';
    }
} 
```

这是一个[JSFiddle](http://jsfiddle.net/think123/FqqhY/)。

我建议您使用 jQuery，而不是使用纯 JavaScript。

以下是我在 jQuery 中的做法：

```
function toggle_visibility(id) {
  $(".list").hide();
  $("#" + id).toggle();
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-08T07:36:22.273

我会再添加一个函数来隐藏所有列表，但只有一个当前列表：

```
function toggle_visibility(id) {
    var e = document.getElementById(id);
    if (e.style.display == 'block') e.style.display = 'none';
    else e.style.display = 'block';

    hideAllBut(id);
}

function hideAllBut(id) {
    var lists = document.querySelectorAll('.list');
    for (var i = lists.length; i--; ) {
        if (lists[i].id != id) {
            lists[i].style.display = 'none';
        }
    }
} 
```

[http://jsfiddle.net/q2E5e/](http://jsfiddle.net/q2E5e/)

# jquery-ui - 手风琴中的标签在左边，内容在右边

> ID：15288797
> 
> 赞同：0
> 
> 时间：2013-03-08T07:24:10.927
> 
> 标签：jquery-ui, jquery-plugins, accordion, jquery-ui-accordion

我使用 jquery Accordion，我想像列表一样将左侧的听众对齐，这样当用户单击标题时，内容应该填充在右侧。我无法使用 jquery ui 手风琴来实现这一点。它显示了我不需要的听众下方的内容..

看看这个

[http://jsfiddle.net/qkXUJ/](http://jsfiddle.net/qkXUJ/)

```
<div class="accordion">
    <h3><a>tab 1</a></h3>
    <div>Lorem ipsum dolor sit amet... </div>
    <h3><a>tab 2 </a></h3>
    <div>Lorem ipsum dolor sit amet... </div>
</div>
h3{
    float: left;
} 
```

最初我让听众在左边，但点击第二个标题后它向上移动。我想保持在第一个听众之下。

帮助我实现这一目标。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-07T20:03:48.613

这可能不是您特定问题的答案，作为评论可能会更好，但我认为您想要 jQuery Tabs 小部件，它具有垂直实现而不是 Accordian。

试试这个链接，看看是否有帮助：http: [//jqueryui.com/tabs/#vertical](http://jqueryui.com/tabs/#vertical)

# c++ - 获取 FreeImage 像素数据格式？

> ID：15288798
> 
> 赞同：1
> 
> 时间：2013-03-08T07:24:13.263
> 
> 标签：c++, freeimage

这是一个简单的问题，但我似乎无法在文档的任何地方找到答案。我知道 FreeImage 支持`1, 4, 8, 16, 24, and 32+ bit`图像。但除此之外，文档提到`16 bit`图像可以是任何一种格式`555`或`565`格式。我想知道其他图像位深度存储为什么格式？或者如果格式是任意的，有没有办法从 FreeImage 库中动态检索格式？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-03T15:37:22.593

在 FreeImage 中很容易确定 555 与 565 模式：

```
unsigned red_mask, green_mask, blue_mask;
red_mask = FreeImage_GetRedMask(dib);
green_mask = FreeImage_GetGreenMask(dib);
blue_mask = FreeImage_GetBlueMask(dib);
if (FreeImage_GetBPP(dib) == 16)
{
   if ((red_mask == FI16_565_RED_MASK) && 
       (green_mask == FI16_565_GREEN_MASK) &&
       (blue_mask == FI16_565_BLUE_MASK))
   {
      // We are in RGB16 565 mode
   }
   else
   {
      // We are in RGB16 555 mode
   }
} 
```

而且您始终可以使用`FreeImage_ConvertTo16Bits555()`和`FreeImage_ConvertTo16Bits565()`函数转换为您想要的格式。

# drupal - Drupal 安装过时的风险？

> ID：15288800
> 
> 赞同：0
> 
> 时间：2013-03-08T07:24:19.630
> 
> 标签：drupal

我们最近在我们的一台服务器上发生了几次黑客攻击。我们被建议升级所有脚本。问题是 Drupal 安装。升级这些是一项艰巨的任务。我想知道，根据您的经验，在 Drupal 用户中，与升级 6.28（最新）相比，保留在 6.10 版上有多不安全？有没有一点可以说：现在真的太旧了，升级是绝对必要的？

我不太担心模块，我关心的是 Core Drupal 安装。它是否会成为安全风险，还是您可以继续使用旧版本？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T16:50:42.030

*“升级这些是一项艰巨的任务”*

不必要！我发现使用[git](http://git-scm.com/)是一种非常安全的方式来处理此类升级。

我的基本工作流程通常是： -使用当前 Drupal 版本
创建一个[存储库。](http://git-scm.com/book/en/Git-Basics-Getting-a-Git-Repository)
- 下载最新的核心版本
- 将当前版本与最新的核心版本同步
- 更新存储库

正如预期的那样，在检查一切正常后，我在本地版本上执行了上述所有操作。我更新远程存储库，然后从 git 更新实际的实时站点。

如果你不熟悉 git，基本教程很容易在网上找到。这里的想法不是详细解释该过程，而是将您引向正确的方向。您会发现这是一个非常灵活的工作流程，是更新模块和通常任何类型代码的好方法。

# shell - 用于用递增值替换字符串的 shell 脚本

> ID：15288801
> 
> 赞同：0
> 
> 时间：2013-03-08T07:24:35.277
> 
> 标签：shell

我有一个`.xml`文件，我必须在其中搜索“ `<reviseddate>`”标签。它可以在文件中出现多次。如果是这样，我必须将“ `<reviseddate>`”标签替换为“ `<reviseddate1>`”，我需要一个 shell 脚本

文本示例如下：

```
Manuscript received <receiveddate>June 7, 2005</receiveddate>; revised             
<reviseddate> February 4, 2006 </reviseddate>, <reviseddate> August 14, 2006 </reviseddate>,
and <reviseddate> October 7, 2006 </reviseddate>. This work was supported by the 
<supported><agency-name>California Department of Transportation through the California  
Center for Innovative Transportation and the California Partners for Advanced Highway 
and Transit Program</agency-name><grant-grp/></supported>. The contents of this paper 
reflect the views of the authors and do not necessarily indicate acceptance by the 
sponsors. The Associate Editor for this paper was M. M. Sokoloski.</affnote-para> 
```

输出应该如下

```
Manuscript received <receiveddate> June 7, 2005 <receiveddate>; revised             
<reviseddate1> February 4, 2006 </reviseddate1>, <reviseddate2> August 14, 2006 </reviseddate2>,        
and <reviseddate3> October 7, 2006 </reviseddate3>. This work was supported by the 
<supported><agency-name>California Department of Transportation through the California  
Center for Innovative Transportation and the California Partners for Advanced Highway 
and Transit Program</agency-name><grant-grp/></supported>. The contents of this paper 
reflect the views of the authors and do not necessarily indicate acceptance by the 
sponsors. The Associate Editor for this paper was M. M. Sokoloski.</affnote-para> 
```

我试过了：

```
for i in $c do 
   sed -e "s/<reviseddate>/<reviseddate$i>/g" $path/$input_file > $path/input_new.xml
   cp $path/input_new.xml $path/$input_file 
   rm -f input_new.xml 
done 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T08:33:46.363

我会使用这样的 Perl 脚本来完成这项工作：

```
#!/usr/bin/env perl
use strict;
use warnings;

my $i = 1;
while (<>)
{
    while (m%<reviseddate>([^<]+)</reviseddate>%)
    {
        s%<reviseddate>([^<]*)</reviseddate>%<reviseddate$i>$1</reviseddate$i>%;
        $i++;
    }
    print;
} 
```

对于每一行，对于每个未编号`<reviseddate>`的标签，将标签替换为适当编号的标签。

样本输出：

```
Manuscript received <receiveddate>June 7, 2005</receiveddate>; revised             
<reviseddate1> February 4, 2006 </reviseddate1>, <reviseddate2> August 14, 2006 </reviseddate2>,
and <reviseddate3> October 7, 2006 </reviseddate3>. This work was supported by the 
<supported><agency-name>California Department of Transportation through the California  
Center for Innovative Transportation and the California Partners for Advanced Highway 
and Transit Program</agency-name><grant-grp/></supported>. The contents of this paper 
reflect the views of the authors and do not necessarily indicate acceptance by the 
sponsors. The Associate Editor for this paper was M. M. Sokoloski.</affnote-para> 
```

您可以调整它以处理替代方案，例如一行的开始标签和下一行的结束标签。在你需要它之​​前，没有必要大惊小怪。使用正则表达式是一门艺术。您需要平衡所有可能场景的即时需求和弹性。

* * *

由于 Perl 显然不是“shell”（但`sed`它是），因此您可以安排足够频繁地处理文件以找到所有条目并更改它们。

```
tmp=$(mktemp ./revise.XXXXXXXXXXXX)
trap "rm -f $tmp; exit 1" 0 1 2 3 13 15

i=1
while grep -s '<reviseddate>' filename
do
    sed "1,/<reviseddate>/ s%<reviseddate>\([^<]*\)</reviseddate>%<reviseddate$i>\1</reviseddate$i>%" filename > $tmp
    mv $tmp filename
    i=$(($i+1))
done

rm -f $tmp # Should be a no-op
trap 0 
```

这会迭代地更新文件。该`1,/<reviseddata>`部分确保只有第一个`<reviseddate>`标签是更新`g`的（命令上没有`s%%%`，这是至关重要的）。陷阱代码确保不会留下临时文件。

这适用于您的样本数据，提供相同的输出。对于小文件，这很好。如果您要管理数 GB 的文件，Perl 会更好，因为它只处理文件一次。

# javascript - 跨多个演示文稿导航 - 可以使用 javascript 实现吗？

> ID：15288802
> 
> 赞同：0
> 
> 时间：2013-03-08T07:24:36.193
> 
> 标签：javascript, objective-c, cookies, session-cookies

我有两个演示文稿：

> 演示文稿 A 和 B
> 
> 我从演示文稿 A 开始，直到幻灯片 3 并导航到演示文稿 B，浏览了一些幻灯片并返回到演示文稿 A。

在这里，我应该降落在我之前离开的幻灯片 3 上吗？

可以通过 Javascript 使用 cookie 来完成吗？如果是这样，应该使用什么算法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:41:27.853

是的，这可以使用 javascript 来完成。至于算法：

1.  加载演示文稿时，检查您的 cookie。
2.  如果存在，则跳转到保存的幻灯片编号。
3.  如果不存在，则创建值为 1 的 cookie（参考第一张幻灯片）。

您应该使用一个特定于演示文稿的 cookie 名称，也许就是这样`sitename_presentation_[presentation_id]` 。[您可以在此处](http://www.w3schools.com/js/js_cookies.asp)找到有关在 javascript 中设置和读取 cookie 的更多信息。

# scripting - 如何退出我启动的所有 VB 脚本

> ID：15288803
> 
> 赞同：0
> 
> 时间：2013-03-08T07:24:54.047
> 
> 标签：scripting, vbscript, scripting-language

我有两个 VB 脚本，比如 First.vbs 和 Second.vbs。

每次发生某些动作/事件时，First.vbs 都会调用 Second.vbs。

我想编写一个新的 VB 脚本，比如 Third.vbs，它终止 First.vbs 和 Second.vbs 的所有实例，包括它自己，Third.vbs。

任何人都可以提供一些建议/参考吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T15:10:51.907

尝试这个：

```
Set wmi = GetObject("winmgmts://./root/cimv2")

Sub TerminateScript(name)
  qry = "SELECT * FROM Win32_Process WHERE CommandLine LIKE '%" & name & "%'"
  For Each p In wmi.ExecQuery(qry)
    p.Terminate
  Next
End Sub

TerminateScript "Second.vbs"
TerminateScript "First.vbs"

WScript.Quit(0)  'terminate self 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-02T09:02:00.873

您还可以使用以下查询：

"SELECT * FROM Win32_Process WHERE CommandLine LIKE '%wscript.exe%'"

请注意，这可能会停止机器中运行的所有进程，名称为 wscript.exe。

# bash - 如何使用 md5sum 后跟 diff 命令根据文件内容查找在 linux 目录之间更改的文件名

> ID：15288804
> 
> 赞同：0
> 
> 时间：2013-03-08T07:24:54.997
> 
> 标签：bash

我有两个 linux 目录 dir1 和 dir2 两个都有一些文件。现在我想要与 dir1 相比，在 dir2 中添加文件和删除文件的文件名列表。文件应根据文件中的数据或内容进行比较。我是 linux bash 脚本的新手。请帮我。

目前我这样做如下：

```
find dir1 -iname *.c -o -iname *.h -o -iname *.prm | xargs -n1 md5sum > dir1.fingerprint.md5sum
find dir2 -iname *.c -o -iname *.h -o -iname *.prm | xargs -n1 md5sum > dir2.fingerprint.md5sum
cat dir1.fingerprint.md5sum | cut -d" " -f1 | sort -u > dir1.fingerprint
cat dir2.fingerprint.md5sum | cut -d" " -f1 | sort -u > dir2.fingerprint
diff -NrU 2 dir1.fingerprint dir2.fingerprint 
```

我得到的结果是一些更改 id，如下所示：

```
--- dir1.fingerprint    2013-03-08 11:57:24.421311354 +0530
+++ dir2.fingerprint    2013-03-08 11:57:34.901311856 +0530
@@ -1,3 +1,3 @@
-43551a78e0f5b0be4aec23fdab881e65
-4639647e4f86eb84987cd01df8245d14
4c9cc7c6332b4105197576f66d1efee7
+9f944e70cb20b275b2e9b4f0ee26141a
+d41d8cd98f00b204e9800998ecf8427e 
```

我希望将结果作为修改或新添加到 dir2 的文件的文件名。如何得到这个。请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:28:23.213

使用参数 dir2 和 dir1 试试这个脚本

```
#!/bin/sh
if [ "x$1" == "x" ]
then
exit 0
fi
if [ "x$2" == "x" ]
then
exit 0
fi
#echo "DIFF $1 $2"
if [ -f $1 ]
then
        if [ -e $2 ]
        then
                diff $1 $2 >/dev/null
                if [ "$?" != "0" ]
                then
                        echo "DIFFERENT $1"
                fi
        fi
        exit 0
fi
if [ "x`ls $1`" != "x" ]
then
        for f in `ls $1`
        do
                $0 $1/$f $2/$f
        done
fi
exit 0 
```

编辑：

```
if [ "x`ls $1`" != "x" ]
then
        for f in `ls $1`
        do
           if [ -f $1/$f ]
           then
              for g in `ls $2`
              do
                  if [ -f $2/$g ]
                  then
                      diff $1/$f $2/$g >/dev/null
                      if [ "$?" == "0" ]
                      then
                          echo "SAME CONTENT $1/$f $2/$g"
                      fi
                  fi
              done
           fi
        done
fi 
```

# algorithm - 不相交集森林安排作业

> ID：15288806
> 
> 赞同：-1
> 
> 时间：2013-03-08T07:24:57.580
> 
> 标签：algorithm, greedy, disjoint-union

如何使用不相交的森林来安排带有惩罚的作业，从而将惩罚降到最低？

我们可以首先根据他们的惩罚程度将工作按降序排列。森林的每个节点 x 将代表作业编号，值 rank[x] 将代表其惩罚。但是我怎样才能最小化这个值 rank[x] 以便最小化惩罚？节点的顺序会给我作业的顺序，但是这个算法是什么？我该如何去造林？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-06T09:37:18.077

您的问题来自 CLRS 16-4 吗？最近我也在做这个练习。
在和朋友讨论中得到一些提示后，我终于在网上找到了类似的帖子。CSDN 博客上的两篇帖子由人们分享他们的代码。
阅读他们的帖子后，我认为他们的帖子确实有助于理解使用不相交集森林来解决调度作业问题。希望他们也能帮助你。
这两个网站是
[http://blog.csdn.net/hechenghai/article/details/6844356](http://blog.csdn.net/hechenghai/article/details/6844356) [http://blog.csdn.net/jxy859/article/details/6615119](http://blog.csdn.net/jxy859/article/details/6615119)

# gstreamer - 使用 LTIB 在 imx6 sabrelite 上安装 gst-plugins-gl 时出现 Gstreamer 错误

> ID：15288814
> 
> 赞同：0
> 
> 时间：2013-03-08T07:25:20.817
> 
> 标签：gstreamer

我正在尝试为 gstreamer 的 imx6 sabrelite 板构建 uImage。我正在尝试构建 gst-plugins-gl 但我收到如下错误主机是 arm-unknown-linux-gnu `checking for fbGetDisplay in -lEGL... no` `checking for X... no` `checking X11/Xlib.h usability... no` `checking X11/Xlib.h presence... no` `checking for X11/Xlib.h... no` `configure: cannot find X11 development files` `checking EGL/egl.h usability... no` `checking EGL/egl.h presence... no` `checking for EGL/egl.h... no` `checking GL/gl.h usability... no` `checking GL/gl.h presence... no` `checking for GL/gl.h... no` `configure: error: GL or EGL is required, consider installing libgl1-mesa-dev`

```
i installed libgl1-mesa-dev after recompiling it again i am still getting the same errors please guide me how can i build it sucessfully 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-24T23:26:33.000

要构建`gst-plugins-gl`，您需要选择`gpu-viv-bin-mx6q`包（在 LTIB 配置中，您可以使用 访问`./ltib -c`）。

您看到的错误（“考虑安装 libgl1-mesa-dev”）是指您的目标平台文件系统，而不是您的 Linux 主机。

# python - python - 努力设计这个

> ID：15288824
> 
> 赞同：0
> 
> 时间：2013-03-08T07:26:08.160
> 
> 标签：python

我今天在课堂上有一个测验，我很惨地失败了，测验如下。有人可以帮我解释一下吗。

1.  向 Link添加一个方法`open()`，将其从“左侧”的 Link 断开，从而打开项链，同时保持右侧的链条完好无损。例如，如果在 处抓住项链`link1`，则呼叫`link1.open()`将断开连接`link3`，`link1`但仍使持有链的人保持`link1`连接状态`link3`。

**这是我目前拥有的：**

```
class Diamond(object):
    def __str__(self):
        return "Diamond"

class Ruby(object):
    def __str__(self):
        return "Ruby"

class Visitor:
    def __str__(self):
        return self.__class__.__name__

class Link(object):
    def __init__(self, index, jewel = None):
        self.jewel = jewel
        self.index = index

    def connectTo(self, link):
        self.nextLink = link

    def __next__(self):
        return self.nextLink or None

    def attach(self, jewel):
        if not self.jewel:
            self.jewel = jewel

    def detatch(self):
        stone = self.jewel
        self.jewel = None
        return stone

    def open(self):
        pass

    def __str__(self):
        return "link%d" % (self.index)

class Necklace(object):
    def __init__(self, base):
        self.base = base

    def describe(self):
        link = self.base
        while True:
            print link, "with", link.jewel, "attatched to", link.nextLink, "with", link.nextLink.jewel
            link = link.nextLink
            if link == self.base:
                break

    def getJewel(self):
        link = self.base
        while True:
            link = link
            if isinstance(link.jewel, Diamond):
                print "a", link.detatch()
                break
            link = link.nextLink
            if link == self.base:
                print "nothing..."
                break

    def acceptVisitor(self, visitor):
        visitor.visit(self)

class DiamondThief(object, Visitor):
    def __init__(self, base):
        self.base = base
        self.jewel = self.base.jewel

    def visit(self, necklace):
        necklace.getJewel()

    def searchForDiamond(self):
        self.visit(myNecklace)

link1 = Link(1, Ruby())
link2 = Link(2, Diamond())
link3 = Link(3, Ruby())
link1.connectTo(link2)
link2.connectTo(link3)
link3.connectTo(link1)
myNecklace = Necklace(link1)
myNecklace.describe()

print "Uh on here comes a thief..."
thief = DiamondThief(link1)
print "Oh no he took "
thief.searchForDiamond()
myNecklace.describe() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T08:17:54.243

让我们看看**我们在每个类中需要哪些功能**？

1.  `Link`
    *   变量
        *   `name`（只是也许）
        *   `linked_to`或者`nextlink`
        *   `jewel`
    *   方法
        *   `connectTo(self,link)`
        *   `attach(self,jewel)`
        *   `detach(self)`
        *   `open(self)`
        *   `get_next(self)`
2.  `Necklace`（不在下面的代码中，请自行制作）
    *   变量
        *   `connections`
    *   方法
        *   `__next__(self)`或者`next_link(self)`
3.  `DiamondThief`
    *   变量
        *   `link`
        *   `diamond`
    *   方法
        *   `getDiamond(self)`
        *   `search(self)`
4.  `Jewels`喜欢`Diamond`或`Ruby`
    *   没有变量或方法

看到这段代码，我还添加了 DiamondThief 类...

```
class Necklace:
    '''My version of necklace'''
    def __init__(self, link):
        self.first = link
        self.current_link = link
    def next(self):
        self.current_link = self.current_link.get_next()
        if self.current_link == self.first:
            raise StopIteration
        return self.current_link
    def __iter__(self):
        return self

class Link(object):
    """A link of a necklace"""
    def __init__(self, name, jewel=None):
        self.name = name
        self.linkedTo = None
        self.jewel = None
        if jewel != None:
            self.attach(jewel)

    def connectTo(self, link):
        '''Connect to link'''
        if isinstance(link,Link):
            self.linkedTo = link
        else:
            raise TypeError

    def attach(self, jewel):
        '''Attach jewel'''
        if self.jewel == None:
            self.jewel = jewel
        else:
            msg = 'There is already a %s attached' % jewel.__class__.__name__
            raise AttributeError(msg)

    def detach(self):
        '''Detach jewel'''
        if self.jewel != None: # 
            je = self.jewel
            self.jewel = None
            return j
        else:
            msg = 'There is nothing to detach'
            raise AttributeError(msg)

    def __str__(self):
        if self.linkedTo != None:
            return "%s(%s) => %s" % \
                   (self.name,self.jewel.__class__.__name__, self.linkedTo.name)
        else:
            return "%s(%s) => %s" % \
                   (self.name,self.jewel.__class__.__name__,None)

    def get_next(self):
        '''Get the next chain'''
        return self.linkedTo

class Diamond(object):
    pass

class Ruby(object):
    pass

class DiamondThief:
    def __init__(self, necklace):
        self.necklace = necklace
        self.diamond = None

    def search(self):
        '''Go link by link to find the Diamond'''
        if self.diamond != None:
            print 'Have a diamond already'
            return 
        first = self.necklace.first
        link = first
        for link in self.necklace: # loop till
            if isinstance(link.jewel, Diamond): # diamond is found
                self.diamond = link.jewel
                link.jewel = None
                print 'Found Diamond'
                break

    def getDiamond(self):
        if self.diamond != None:
            return self.diamond
        else:
            return None

def main():
    # create
    l1 = Link('1',Diamond())
    l2 = Link('2',Ruby())
    l3 = Link('3', Ruby())
    l1.connectTo(l2)
    l2.connectTo(l3)
    l3.connectTo(l1)
    i = DiamondThief()
    try:
        l2.attach(Ruby())
    except AttributeError,e:
        print e
    print l1
    print l2
    print l3
    print '-'*16
    i.search()
    print l1
    print l2
    print l3
main() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T10:48:21.970

第 1 部分只是要求您使用`Link`类中描述的方法来构建指定的项链：

```
link1 = Link()
link1.attach(Ruby())
link2 = Link()
link2.attach(Diamond())
link3 = Link()
link3.attach(Ruby())

link1.connectTo(link2)
link2.connectTo(link3)
link3.connectTo(link1)

myNecklace = link1 
```

第 2 部分需要实现 Link 和 DiamondThief 类。

下面是我如何实现`Link`, 作为一个双向链表。您实际上并不需要第二个链接来实现我们在这部分中需要做的基本方法，但是`open`如果我们同时引用左右相邻链接，在第 3 部分中添加会容易得多。

```
class Link(object):
    def __init__(self):
        """Initialize an empty link."""
        self.left = None
        self.right = None
        self.jewel = None

    def connectTo(self, other):
        """Connect another link to the right of this one."""
        if self.right or other.left:
            raise ValueError("Links already have connections")
        self.right = other
        other.left = self

    def attach(self, jewel):
        """Add a jewel to this link."""
        if self.jewel:
            raise ValueError("Link already has a jewel attached")
        self.jewel = jewel

    def detatch(self):
        """Remove and return the jewel attached to this link."
        jewel = self.jewel
        self.jewel = None
        return jewel 
```

这是我对`DiamondThief`访问者的实现。它的主要方法是`visit`递归访问后续`Link`实例，直到找到钻石或它循环（或从打开的项链末端跑出）。你可以用`while`循环而不是递归来做同样的事情，但这似乎更简单。请注意，`or`递归调用中的表达式意味着 if`first`为 None （默认情况下将是） then`link`将作为`first`.

```
class DiamondThief(object):
    def __init__(self):
        """Initialize a DiamondThief"""
        self.diamond = None

    def visit(self, link, first=None):
        """Recursively visit a necklace, searching for a Diamond to steal."""
        if link == first: # looped
            return
        if isinstance(link.jewel, Diamond): # diamond found
            self.diamond = link.detatch()
            return
        if link.right is not None: # not at an open end
            self.visit(link.right, first or link)

    def getDiamond(self):
        return self.diamond 
```

第 3 部分要求您向类添加一个`open`方法`Link`。由于`Link`是双向链接的，因此很容易将列表断开到当前位置的左侧。如果您将其实现为单链表，则必须扫描整个项链（从每个链接到其右邻居），直到找到链接回第一个实例的那个。它在一条没有形成环的项链上根本不起作用。

无论如何，这是简单的实现：

```
def open(self):
    """Disconnect this link from it's left neighbor."""
    if self.left is None:
        raise ValueError("Link is not connected on the left")
    self.left.right = None
    self.left = None 
```

# c++ - C ++将模板类作为另一个类中的占位符

> ID：15288827
> 
> 赞同：1
> 
> 时间：2013-03-08T07:26:25.587
> 
> 标签：c++, templates

我正在尝试制作一个模板类作为占位符类，它可以包含类似字符串和类型 T 对象的内容。下面是我为此编写的代码。

```
#include <iostream>
#include <string>
#include <map>

using namespace std;

//A class which act as placeholder to hold
//unknown object. Something similar as Object
//in Java
template <typename T>
class Genric
{
    public:
        map<string, T> addP; //This will be placeholder for time
        // being.
};

class A
{
    public:
        Genric t1; //Have object of Genric class so that we can
        // access the member variable in future.
        void foo()
        {
            cout<<"Calling foo"<<endl;
        }
};

int main()
{
    A a1;
    a1.foo();
} 
```

但是当我尝试编译时，我遇到了错误。

```
$ g++ tempClass.cxx
tempClass.cxx:21:9: error: invalid use of template-name 'Genric' without an argument list 
```

上述通用类的目的只是充当将来可以填充的成员变量之一的占位符类。那么有没有办法我们可以编写这样的 Genric 类。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T08:43:37.687

在编译程序之前，模板是“通用的”。此时必须让编译器知道它必须处理什么类型。

如果您想要一些可以包含编译时未知（更好：未知）类型模板的东西不是解决方案。由于实际类型仅在运行时才知道，因此您必须转向基于运行时的多态（从多态基继承），最终包装在“处理程序”中。

本质上，您需要一个至少具有允许您检查类型的虚函数的基类，以及以适合`all`类型的方式实现该函数的泛型派生类。

boost::any 可以是一个实现，但可以有更简单的方法，特别是考虑到“允许发现运行时类型的函数”不过是 ... `dynamic_cast`。

你可以找到这样的解决方案

```
#include <memory>

class any_value
{
    template<class T>
    class wrapper; //see below

    class common_base
    {
    public:
        virtual ~common_base() {} //this makes the type polymorphic

        template<class T>
        T* has_value()
        { 
            auto* ptr = dynamic_cast<wrapper<T>*>(this); 
            return ptr? &ptr->m: nullptr;
        }
    };

    template<class T>
    class wrapper: public common_base
    {
    public:
        wrapper() :m() {}
        wrapper(const T& t) :m(t) {}

        T m;
    };

    std::unique_ptr<common_base> pb;

public:

    any_value() {}

    template<class T>
    any_value(const T& t) :pb(new wrapper<T>(t)) {}

    template<class T>
    any_value& operator=(const T& t)
    { pb = std::unique_ptr<common_base>(new wrapper<T>(t)); return *this; }

    any_value(any_value&&) =default;
    any_value& operator=(any_value&&) =default;

    //NOW THE GETTERS
    template<class T>
    T* get() const //nullptr if not holding a T*
    { return bool(pb)? pb->has_value<T>(): nullptr; }

    template<class T>
    bool get(T& t)
    { 
        T* pt = get<T>(); 
        if(pt)  t = *pt;
        return bool(pt);
    }
};

#include <iostream>
#include <string>

int main()
{
    any_value a(5), b(2.7192818), c(std::string("as a string"));
    int vi=0; double vd=0; std::string vs;

    if(!a.get(vi)) vi=0; //will go
    if(!a.get(vd)) vd=0; //will fail
    if(!a.get(vs)) vs.clear(); //will fail
    std::cout <<"vi = "<<vi<<", vd = "<<vd<<", vs = "<<vs<<" \n";
    if(!b.get(vi)) vi=0; //will fail
    if(!b.get(vd)) vd=0; //will go
    if(!b.get(vs)) vs.clear(); //will fail
    std::cout <<"vi = "<<vi<<", vd = "<<vd<<", vs = "<<vs<<" \n";
    if(!c.get(vi)) vi=0; //will fail
    if(!c.get(vd)) vd=0; //will fail
    if(!c.get(vs)) vs.clear(); //will go
    std::cout <<"vi = "<<vi<<", vd = "<<vd<<", vs = "<<vs<<" \n";
} 
```

* * *

**以下 Abhinav 评论：**

由于 C++ 类型系统是静态的，因此通常不能反序列化“未知”，除非您首先反序列化可能是“已知”的东西。

为此，您首先需要一种将 C++ 类型（不是对象）重新预置为可识别值（类型 uid）的方法，以及创建适合这些“值”的包装器的“工厂”。

保存时，您只需保存*该*uid，然后通过 common_base 虚函数请求保存包装的值。加载时，首先加载 uid，然后*创建一个具有适当类型的新包装器*（见下文），然后通过 common_base 虚函数加载值。

要创建适当的包装器，您需要一个将 uid-s 映射到创建与类型 uid 关联的包装器的函数的表。该表必须针对您需要能够序列化/反序列化的所有类型进行预初始化。

但这远离了你原来的问题，这并没有谈到序列化/反序列化。

如果问题是“序列化”，那么“类型擦除”并不是一个完整的解决方案。您应该更多地关注“工厂模式”。并发布另一个更适合该论点的问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-08T07:32:48.537

你需要类似的东西[`boost::any`](http://www.boost.org/doc/libs/1_46_0/doc/html/any.html)：

```
map<string, boost::any> anywayzz; 
```

您可以在其中存储任何对象。你不需要`Genric`类模板。

如果你不使用 boost，那么你可以`any`自己实现。在此站点上查找其实现或**类型擦除。**你肯定会有一些想法。从这里开始：

*   [类型擦除技术](https://stackoverflow.com/questions/5450159/type-erasure-techniques)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-08T07:32:56.140

您正在定义`Genric`为模板类，但随后尝试在`t1`不给它类型的情况下进行初始化。那就是你得到的错误。尝试例如：

```
Genric<int> t1; 
```

或者，如果您正在寻找真正的运行时泛型，请查看**boost::any**。

# kendo-ui - 如何对剑道编辑器字段进行编码？

> ID：15288832
> 
> 赞同：2
> 
> 时间：2013-03-08T07:27:09.800
> 
> 标签：kendo-ui, xss, html-encode

我正在使用剑道编辑器。如果我写任何 html 数据，例如 :`<img src=x onerror=alert(0) >`作为输入。脚本正在执行。表示剑道编辑器不安全。我如何在客户端对值进行编码？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T11:16:39.990

我不认为这里的问题是剑道编辑器不安全，更多的是 javascript 片段首先进入页面。

在初始化时，Kendo 编辑器仅逐字复制输入值并在包含在编辑器中的 iFrame 中使用它，因此脚本会执行。

通常，您会在显示之前在服务器端对用户内容进行编码/清理。生成 HTML 页面的是您的网站，因此您可以完全控制输出，并且需要首先确保不会将潜在危险值添加到输入值中。

可能值得研究[Microsoft 的 AntiXSS 产品](http://wpl.codeplex.com/)。

# windows-phone-8 - 是否可以在 windows phone 8 上使用 directx 视频加速？

> ID：15288834
> 
> 赞同：1
> 
> 时间：2013-03-08T07:27:21.403
> 
> 标签：windows-phone-8, dxva

我按照 MSDN 上 DXVA 的说明在 windows phone 8 上尝试，但由于 WP8 SDK 文件夹中没有 Dxva2.lib，我无法构建我的代码。没有lib我不能做DXVA，所以我想知道WP8是支持DXVA开发还是只有桌面版D3D支持？

# ios - 如何将动画应用到 GMSMarker

> ID：15288835
> 
> 赞同：5
> 
> 时间：2013-03-08T07:27:28.347
> 
> 标签：ios, google-maps, google-maps-markers, google-maps-sdk-ios, gmsmapview

我正在通过使用适用于 iOS V1.1.0 的 Google Maps SDK 将 iOS 地图迁移到谷歌地图来更改我的应用程序，并且我试图在添加/删除时为标记设置动画，但我在与此相关的文档中没有找到任何建议，请建议我如何在 GMSMarkers 上执行动画

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-11-24T18:48:03.493

在[GMSMarker Class Reference](https://developers.google.com/maps/documentation/ios/reference/interface_g_m_s_marker)中，它说，对于`appearAnimation`属性：

> 控制将此标记放置在 a 上时使用的动画`GMSMapView`（默认`kGMSMarkerAnimationNone`，无动画）。

使用[适用于 iOS 的 Google Maps SDK](https://developers.google.com/maps/documentation/ios/)，可以像这样制作标记：

```
GMSMarker *startMarker = [GMSMarker markerWithPosition:@"NYC"];
startMarker.appearAnimation = kGMSMarkerAnimationPop;
startMarker.title = @"Start";
startMarker.snippet = @"My address";
startMarker.map = mapView; 
```

# maven - 多模块 Maven 父 POM

> ID：15288843
> 
> 赞同：1
> 
> 时间：2013-03-08T07:27:53.607
> 
> 标签：maven, pom.xml, parent-pom

我的应用程序中有多个模块。它们都是 maven 项目。

所以我正在`parent pom`为所有这些项目创建一个并且能够创建一个并`maven build`在这个父 pom 上运行并且工作正常

但是当我在 Eclipse 中打开项目时，父 pom 不包含在显示的项目中，因此它正在为构建过程拾取它。我的项目结构如下

```
ProjectA
    |
    --------subProjects     
ProjectB  
   |
   --------subprojects
ProjectC    
   |
   --------subProjects
ProjectD
   |
    -------subprojects
Pom.xml 
```

那么我需要什么才能让 eclipse 识别这个父 pom 呢？我创建了另一个 maven 模块并将其设为父 pom 。但是有什么办法可以避免创建另一个项目并实现上述场景？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:32:13.210

您可以做的一件事是自己将全局结构作为maven项目导入，然后在eclipse中将子项目一一导入作为maven项目。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-02T11:54:17.523

您可以在命令行中对所有项目一一使用 mvn eclipse:eclipse，然后如果您选择 maven 项目顶部的目录，则可以通过导入（Maven 项目类型）所有 maven 项目来选择。在这种情况下，您在 pom 中进行所有设置，而在 eclipse 中没有其他配置。

# d3.js - 字体大小在我的 d3.js 代码中不起作用

> ID：15288850
> 
> 赞同：54
> 
> 时间：2013-03-08T07:28:21.233
> 
> 标签：d3.js

我正在编写 d3.js 来生成许多图表和图形。但是当没有数据时，我只是在 svg 后面附加一个文本并写“没有数据要显示”并分配一些属性，如 xy dy 等。类似的字体大小但除了字体大小，一切正常。

为什么？这是我的代码

```
var svg = d3.select(selector).append("svg")
  .attr("width", width + margin.left + margin.right)
  .attr("height", height + margin.top + margin.bottom)
  .append("g")
  .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

if (!data.IssueTrendsDAO.issueTrendList) {
  svg.append("text")
    .attr("font-size","34px")
    .attr("y", 79)
    .attr("x", 40)
    .attr("dy", ".47em")                        
    .style("text-anchor", "start")
    .style("fill", "#004669")
    .style("font-weight", "bold")
    .text("No data to display");
} 
```

* * *

## 回答 #1

> 赞同：113
> 
> 时间：2013-03-08T14:47:11.150

我认为如果您将 font-size 指定为样式而不是属性，您会发现它有效。

```
.style("font-size", "34px") 
```

（更好的是，分配一个 id 或 class 属性并在 CSS 中设置所有样式）

# ruby - 在“要求”中：没有要加载的文件 -- active_record (LoadError)

> ID：15288852
> 
> 赞同：1
> 
> 时间：2013-03-08T07:28:29.300
> 
> 标签：ruby, ruby-on-rails-3, activerecord, require, cloud-foundry

我希望cloudfoundry的vcap-service-base可以访问cloud_controller的数据库，那么我需要vcap-service-base中的provisioner.rb来要求'active_record'。所以我在 vcap-service-base 的 Gemfile 中添加了“gem”activerecord”，然后运行“bundle install”。在provisioner.rb中，我添加了“require 'active_record'”，在启动cloudfoundry时，总是报错：in `require': no such file to load -- active_record (LoadError)，如下：

```
/root/cloudfoundry/.deployments/devbox/deploy/rubies/ruby-1.9.2-p180/lib/ruby/gems/1.9.1/bundler/gems/vcap-services-base-1077d35ef73b/lib/base/provisioner.rb:9:in `require': no such file to load -- active_record (LoadError)
from /root/cloudfoundry/.deployments/devbox/deploy/rubies/ruby-1.9.2-p180/lib/ruby/gems/1.9.1/bundler/gems/vcap-services-base-1077d35ef73b/lib/base/provisioner.rb:9:in `<top (required)>'
from /root/cloudfoundry/.deployments/devbox/deploy/rubies/ruby-1.9.2-p180/lib/ruby/gems/1.9.1/bundler/gems/vcap-services-base-1077d35ef73b/lib/vcap_services_base.rb:4:in `require'
from /root/cloudfoundry/.deployments/devbox/deploy/rubies/ruby-1.9.2-p180/lib/ruby/gems/1.9.1/bundler/gems/vcap-services-base-1077d35ef73b/lib/vcap_services_base.rb:4:in `<top (required)>'
from /root/cloudfoundry/vcap/bin/../services/mysql/bin/mysql_node:7:in `require'
from /root/cloudfoundry/vcap/bin/../services/mysql/bin/mysql_node:7:in `<main>' 
```

根据错误，它是LoadError。但是当我在 /root/cloudfoundry/.deployments/devbox/deploy/rubies/ruby-1.9.2-p180/lib/ruby/gems/1.9.1/gems 中搜索 gem“active_record”时，它就在那里。现在我很困惑是 LoadError 还是我错过了一些重要的事情。为什么在 vcap-service-base 中找不到“require 'active_record'”？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T19:15:46.407

在 Cloud Foundry 上部署任何 rails-3 应用程序时，我们需要遵循以下步骤。

1.  如果在应用程序中使用了任何 gem，他们应该执行**bundle package**然后再次执行**bundle install**。

2.  在`config/environments/production.rb`文件中，修改行

    ```
    config.serve_static_assets = false 
    ```

    至

    ```
    config.serve_static_assets = true 
    ```

3.  使用以下命令预编译资产

    ```
    bundle exec rake assets:precompile 
    ```

4.  通过以下命令将应用推送到**vmc 。**

    ```
    vmc push --runtime ruby19 
    ```

# sql-server - SQL Server 2012 安装

> ID：15288854
> 
> 赞同：0
> 
> 时间：2013-03-08T07:28:38.683
> 
> 标签：sql-server, sql-server-2012

不确定这是否是正确的论坛。有没有办法结合 SQL Server 2012 安装的 x86 和 x64 设置。在以前的版本中，我们在单个 iso 中安装了两个安装程序，根据选项或检测到的体系结构调用相应的设置。但是在 2012 年，我们为 32 位和 64 位提供了不同的 iso。由于我们正在运送 SQL 服务器，因此我们需要组合安装程序。

关于如何实现这一点的任何想法？

在此先感谢， Dheena

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T07:37:42.180

[MSDN](http://msdn.microsoft.com)已将 x32 和 x64 的安装程序 DVD 映像组合在一起，因此第一步是与您的 Microsoft 代表交谈，看看您是否可以访问这些（或类似的）DVD 以进行分发。

> SQL Server 2012 标准版（x86 和 x64）- DVD（英文）
> SQL Server 2012 Enterprise Core Edition（x86 和 x64）- DVD（英文）
> SQL Server 2012 Enterprise Edition（x86 和 x64）- DVD（英文）
> ...

# c# - 让控件在 WPF Form C# VS 2010 中动态显示

> ID：15288855
> 
> 赞同：0
> 
> 时间：2013-03-08T07:28:43.353
> 
> 标签：c#, wpf, visual-studio-2010

我的应用程序上有一个用户输入表单，其中包含大量的文本框和数据网格。有些客户不会每次都使用它们......所以我希望一旦用户点击按钮或复选框，它们就会动态出现。

我试过在网上寻求帮助，但没有运气。

提前感谢您的任何建议

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:40:23.917

1) 第一个基本问题——你需要大量的文本框和数据网格吗？这听起来可能会使用户界面混乱。我总是首先尝试简化用户界面。

2) 控件是否必须采用固定布局？是否像打开和关闭控件的可见性一样简单？

3) 如果控件布局必须是动态的，您可以将控件“.Add(new Button(...))”动态添加到列表/网格中。我不确定我是否会推荐这种方法来进行一些简单的更改。

4) 是否有所有客户通用的控制措施？

5) 如果有公共控件，则考虑使用 UserControl 对它们进行分组，并使用 ContentPresenter 或其他控件将它们动态添加到表单中（执行此操作的确切方法可能取决于您是否使用 MVVM 架构）。您可以将 contentpresenter 绑定到作为 UserControl 的属性。

6) 最坏的情况是每个客户端的布局必须非常灵活，以至于您只需为每个客户端创建一个新的 UserControl。您绑定到的基础数据对象可以保持不变，但通过每个 UserControl 公开不同的方面。

您对 WPF 的体验如何？要真正有效地完成这类事情，您需要研究数据绑定、视图、内容呈现器、列表/网格、用户控件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T09:58:47.657

由于您刚刚开始使用 WPF，所以我想向您展示一些示例，这些示例可以帮助您了解触发器等其他内容，这可能会对您有所帮助..

```
<Window x:Class="WpfApplication1.Window1"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Window1" Height="300" Width="300"
        >
    <StackPanel>

        <ToggleButton x:Name="tgbtnTextBoxVisibility" Click="tgbtnTextBoxVisibility_Click" >
            <!-- Define the Style Trigger, to toggle the Text on the Toggle Button. If the ToggleButton is unchecked then display 'Hide TextBoxes'-->
            <!---Do not set the 'Content' property directly on the control, which overrides the 'Content' defined in Styles/Triggers, because of property precedence-->
            <ToggleButton.Style>
                <Style TargetType="ToggleButton">
                    <Setter Property="Content" Value="Show TextBoxes"/>
                    <Style.Triggers>
                        <Trigger Property="IsChecked"   Value="True" >
                            <Setter Property="Content" Value="Hide TextBoxes"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </ToggleButton.Style>
        </ToggleButton>

        <!-- When the StackPanel below is shown, you can observe the 'Show TextBlocks' button automatically slides down-->
        <StackPanel x:Name="spTextBoxes" Visibility="Collapsed">
            <TextBox x:Name="txtName" Width="100" Height="30"/>
            <TextBox x:Name="txtCompany" Width="100" Height="30"/>
        </StackPanel>

        <ToggleButton x:Name="tgbtnTextBlockVisibility" Click="tgbtnTextBlockVisibility_Click">
            <ToggleButton.Style>
                <Style TargetType="ToggleButton">
                    <Setter Property="Content" Value="Show TextBlocks"/>
                    <Style.Triggers>
                        <Trigger Property="IsChecked"   Value="True" >
                            <Setter Property="Content" Value="Hide TextBlocks"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </ToggleButton.Style>
        </ToggleButton>
        <StackPanel x:Name="spTextBlocks" Visibility="Collapsed">
            <!--'Text' property of TextBlock is directly bound to the corresponding TextBox's 'Text' properrty, which changes as you type in the text into source TextBox-->
            <TextBlock x:Name="tbkName" Text="{Binding ElementName=txtName,Path=Text}"  Width="100" Height="30"/>
            <TextBlock x:Name="tbkCompany" Text="{Binding ElementName=txtCompany,Path=Text}" Width="100" Height="30"/>
        </StackPanel>

    </StackPanel>
</Window> 
```

在代码隐藏中，我正在设置相应堆栈面板的可见性。 **注意：**使用 ValueConverter 更改可见性可能更合适。

```
 /// <summary>
    /// Interaction logic for Window1.xaml
    /// </summary>
    public partial class Window1 : Window
    {
        public Window1()
        {
            InitializeComponent();
        }

        private void tgbtnTextBoxVisibility_Click(object sender, RoutedEventArgs e)
        {
            ToggleButton tgbtnTextBoxes=sender as ToggleButton;

            if (tgbtnTextBoxes.IsChecked.HasValue && tgbtnTextBoxes.IsChecked.Value)
                spTextBoxes.Visibility = Visibility.Visible;
            else
                spTextBoxes.Visibility = Visibility.Collapsed; //Note: Visibility.Collapsed will resize the layout where as Visibility.Hidden will not.
        }

        private void tgbtnTextBlockVisibility_Click(object sender, RoutedEventArgs e)
        {
            ToggleButton tgbtnTextBlocks = sender as ToggleButton;

            if (tgbtnTextBlocks.IsChecked.HasValue && tgbtnTextBlocks.IsChecked.Value)
                spTextBlocks.Visibility = Visibility.Visible;
            else
                spTextBlocks.Visibility = Visibility.Collapsed; //Note: Visibility.Collapsed will resize the layout where as Visibility.Hidden will not.
        }
    } 
```

# android - 如何检测虚拟后退按钮的使用？

> ID：15288857
> 
> 赞同：1
> 
> 时间：2013-03-08T07:28:53.697
> 
> 标签：android

我使用片段，我想检测后退按钮以停止退出应用程序并做其他事情。但是....我尝试过的所有代码都不起作用：我已经在调试模式下进行了测试，断点进入功能，但是当我按下后退按钮并且应用程序退出时，似乎没有一个被调用。

```
 public class MyListFragment extends Fragment implements OnTouchListener, OnFocusChangeListener, OnClickListener, OnKeyListener{

// Test 1   
         public boolean onKeyDown(int keyCode, KeyEvent event) {
                    String a=null;
                    switch(keyCode)
                    {
                    case KeyEvent.KEYCODE_CAMERA:
                     Toast.makeText(getActivity(),"Pressed Camera Button",                             Toast.LENGTH_SHORT).show();
                        return true;
                    case KeyEvent.KEYCODE_1:
                     Toast.makeText(getActivity(), "Pressed 1", Toast.LENGTH_SHORT).show();
                        return true;
                    case KeyEvent.KEYCODE_HOME:
                     Toast.makeText(getActivity(), "Pressed Home Button", Toast.LENGTH_SHORT).show();
                        return true;
                    case KeyEvent.KEYCODE_BACK:
                     Toast.makeText(getActivity(), "Pressed Back Button", Toast.LENGTH_SHORT).show();
                        return true;
                    }
                    if (keyCode == KeyEvent.KEYCODE_BACK)
                    {
                    a=a;
                    }
                    return false;
                }
// Test 2
    @Override
    public boolean onKey(View v, int keyCode, KeyEvent event) {
        // TODO Auto-generated method stub
        String b=null;
        b=b;

        return false;
    }
// Test 3    
    public void onBackPressed() {
        String b=null;
        b=b;    
    }
// Test 4    
    public boolean onKeyUp(int keyCode, KeyEvent event) {
        String b=null;
        b=b;
        return false;   
    }
    } 
```

我不知道为什么没有任何工作，任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:30:56.450

此方法将为您提供解决方案`Activity`。

```
@Override
public void onBackPressed() {
    // TODO Auto-generated method stub
    super.onBackPressed();
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T09:54:21.143

在 Fragment 之间转换时，调用 addToBackStack() 作为 FragmentTransaction 的一部分：

```
FragmentTransaction tx = fragmentManager.beginTransation();
tx.replace( R.id.fragment, new MyFragment() ).addToBackStack( "tag" ).commit(); 
```

如果您需要更详细的控制（即当某些片段可见时，您想要抑制返回键），您可以在片段的父视图上设置 OnKeyListener：

```
fragment.getView().setOnKeyListener( new OnKeyListener()
{
    @Override
    public boolean onKey( View v, int keyCode, KeyEvent event )
    {
        if( keyCode == KeyEvent.KEYCODE_BACK )
        {
            return true;
        }
        return false;
    }
} ); 
```

# c# - 将 GridView id 传递给 asp.net 中的 javascript

> ID：15288871
> 
> 赞同：-1
> 
> 时间：2013-03-08T07:29:51.633
> 
> 标签：c#, javascript, asp.net

我正在使用下面的代码来处理客户端更改事件的 gridview 下拉列表。同时，我想为我的进一步处理传递行 ID。但它不起作用。但是当我调用没有 id 的 javascript 时它正在工作。如何将 id 传递给 javascript。

```
<asp:TemplateField ItemStyle-Width="10px" HeaderText="Status">
                                    <ItemTemplate>
                                        <asp:DropDownList ID="ddl_status" runat="server" onchange='chng_status("<%#Bind("FLD_ID") %>")' >
                                            <asp:ListItem></asp:ListItem>
                                            <asp:ListItem>Realised</asp:ListItem>
                                            <asp:ListItem>Non-Realised</asp:ListItem>
                                        </asp:DropDownList>
                                    </ItemTemplate>
                                </asp:TemplateField>

function chng_status(value) {
        alert('enter');
        alert(value);
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T09:02:06.027

你可以这样做：

```
 <asp:DropDownList ID="ddl_status" runat="server"
  onchange='<%# Eval("FLD_ID","chng_status(\"{0}\");") %>' > 
```

我正在使用字符串格式将值传递给 javascript 函数。

请注意，我不完全理解您要达到的目标

# sms - ctrl+z 什么都不做

> ID：15288879
> 
> 赞同：1
> 
> 时间：2013-03-08T07:30:13.947
> 
> 标签：sms, at-command, hyperterminal

我正在使用 AT 命令测试从 pc 发送短信到手机。我一直在参考以下链接：

[http://www.smssolutions.net/tutorials/gsm/sendsmsat/](http://www.smssolutions.net/tutorials/gsm/sendsmsat/) [http://www.developershome.com/sms/howToSendSMSFromPC.asp](http://www.developershome.com/sms/howToSendSMSFromPC.asp)

当我按 ctrl+z 时，没有任何反应。不管我等多久，它只会显示一个像这样闪烁的光标。理想情况下，几秒钟后，`+CMGS: 62`如果短信发送正确，它必须显示。

谁能指出可能出了什么问题？

![在此处输入图像描述](../Images/4af98df57f69b8554afc69150c454f76.png)

# ssis - 更新表中的数据。抬头 ？合并？

> ID：15288880
> 
> 赞同：0
> 
> 时间：2013-03-08T07:30:19.570
> 
> 标签：ssis

我需要一个解决方案。

我应该将表的数据从`PROD`服务器加载到`UAT`. 如果 中缺少记录`UAT`，则加载缺少的行。我应该怎么做？

第二个问题。

我正在`(EmpId,NAME,CreditCardNumebr)`从一些文本文件中获取一些数据。它们是基于 中`EmpId`的表进行协作的`SQL Server` `(ID,Address,ContactNumber)`。组合信息`(ID,NAME,ContactNumber,Address,Creditcard)`必须加载到主表中。如果记录不存在，`ADD`. 但是，如果当前记录的字段中缺少某些信息，`UPDATE`.

我能够从上传的查找视频会话中获取一些信息。但不能做要求的事情。

请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-09T17:48:23.723

要连接两个源的数据，您应该使用“合并连接”组件或“查找”组件。这取决于您在两个来源中有多少行。一旦你的两个来源被加入，你应该把这个结果写在一个临时表中。然后在暂存表和最终目标表之间应用 sql 合并语句。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-11T11:43:41.283

我不能有一个临时表。这是一个要求。无论如何，我确实为这个问题做了部分解决方案。

我们需要使用 2 次查找转换来获得所需的结果。1 用于协作平面文件和保存部分数据的表的数据。1 用于根据业务键（即ID（Primary Key））检查记录是否存在

平面文件源 --> LookUp（用于协作）--> LookUp（用于记录检查）--> OleDb 目标

（NO Match Output）中出来的记录填入表中。我需要找出更新记录的方法（在匹配输出中）

如果你们可以为我提供解决方案，将不胜感激。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T07:58:48.477

可能不是您要查找的内容，但如果是增量加载，您可以将数据导入“阶段”表并编写查询以将更新插入到活动表中。让它比较主键。如果相同，则测试字段的更改并更新，否则，插入新行。

希望它有所帮助。

# php - 或 codeigniter 上的组

> ID：15288882
> 
> 赞同：0
> 
> 时间：2013-03-08T07:30:25.473
> 
> 标签：php, mysql, codeigniter

我在codeigniter中有这样的代码

```
foreach ($where as $k=>$v){
    foreach ($v as $val){
        $this->db->or_where($k, $val);  
    }                   
} 
```

但是，我想要'或组'喜欢

```
select * from table where id = '1' and (category = 'tekno' OR category ='biologi'); 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-08T07:39:30.887

如果需要更复杂的 where 子句分组，我经常求助于手动构建查询。

```
$or_where = "";
foreach ($where as $k => $v) {
    foreach ($v as $val) {
        $or_where .= "OR category = '$val' ";
    }                   
} 
```

然后，您可以添加到现有的 Active Record 查询：

```
$this->db->where($or_where); 
```

或者

```
$this->db->or_where($or_where); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-08-03T15:52:10.727

您可以在这样的地方添加更多：

```
$this->db->where('id', 1);
$this->db->where('(category', 'tekno');
$this->db->or_where('category', 'biologi');
$this->db->where('1=1)'); 
```

# xaml - 有没有办法在 Windows8 中编辑 Toasts 中文本的 TextColor

> ID：15288884
> 
> 赞同：2
> 
> 时间：2013-03-08T07:30:32.263
> 
> 标签：xaml, windows-8

有没有办法在 Windows8 中编辑 Toasts 中文本的 TextColor ？

像这样创建的。

```
var toastXml = new XmlDocument();
var title = toastXml.CreateElement("toast");
var visual = toastXml.CreateElement("visual");
visual.SetAttribute("version", "1");
visual.SetAttribute("lang", "en-US");
var binding = toastXml.CreateElement("binding");
binding.SetAttribute("template", "ToastImageAndText02");
image.SetAttribute("src", ActualPathToSet);

//Here the Text is assigned
var heading = toastXml.CreateElement("text");
heading.SetAttribute("id", "1");
heading.InnerText = R.GetResourceString("Hello World");

title.AppendChild(visual);
visual.AppendChild(binding);
binding.AppendChild(image);
binding.AppendChild(heading);
var toast = new ToastNotification(toastXml); 
```

我已经创建了一个像上面这样的吐司，并且想要更改 TextColor 属性。

使用 C# +XAML + Win8

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-11T03:16:53.913

**更改清单文件中的前景色。**

![在此处输入图像描述](../Images/77723c13cbca6a7f2859227bcf782ca6.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T07:50:17.060

我认为这是不可能的，因为 Toast Notification 是系统内部功能，颜色由用户设置背景颜色给出。

# android - Android google maps api v2 - 缺少 Google Play 服务

> ID：15288885
> 
> 赞同：2
> 
> 时间：2013-03-08T07:30:32.727
> 
> 标签：android, google-maps, exception

> **设备**- HTC Wildfire
> **Android 操作系统版本**- 2.3.3

我正在尝试在手机上运行 google maps api v2 示例。

这些是 Logcat 消息 -

```
03-08 12:43:34.687: W/GooglePlayServicesUtil(5517): Google Play services is missing.
03-08 12:43:34.687: W/GooglePlayServicesUtil(5517): Google Play services is missing.
03-08 12:43:34.687: W/GooglePlayServicesUtil(5517): Google Play services is missing.
03-08 12:43:34.697: W/GooglePlayServicesUtil(5517): Google Play services is missing. 
```

在应用程序上，我得到一个按钮，上面写着 -**获取谷歌播放服务**。
当我点击按钮时，我得到了一个例外。Logcat 说 -

```
03-08 12:43:36.847: E/AndroidRuntime(5517): FATAL EXCEPTION: main
03-08 12:43:36.847: E/AndroidRuntime(5517): android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.VIEW dat=http://play.google.com/store/apps/details?id=com.google.android.gms flg=0x80000 pkg=com.android.vending }
03-08 12:43:36.847: E/AndroidRuntime(5517):     at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1569)
03-08 12:43:36.847: E/AndroidRuntime(5517):     at android.app.Instrumentation.execStartActivity(Instrumentation.java:1539)
03-08 12:43:36.847: E/AndroidRuntime(5517):     at android.app.Activity.startActivityForResult(Activity.java:2974)
03-08 12:43:36.847: E/AndroidRuntime(5517):     at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:817) 
```

根据上述消息，我知道我的手机上缺少 google play 服务。
我的手机有市场应用程序（不是谷歌播放）。

**几个问题**-

1.  如何将**市场**更新为**google play 商店**？
2.  有没有办法可以安装谷歌播放服务？（注意：通过搜索 Google Play 商店，无法看到 Google Play 服务 APK。当客户端库检测到设备缺少或不兼容的 Google Play 服务 APK 时，它会提供到 Google Play 商店的深层链接。）

我将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T08:51:25.093

我去了

> 设置 -> 软件更新 -> 立即检查

我的手机下载并安装了一些更新。
这次当我点击

> 获取 Google Play 服务（在应用程序中）

**市场**自动更新到**Google Play**。

地图正在正确显示。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-19T01:52:04.510

If you're writing an application that uses Google Maps API and requires your customers' phones to have it, be sure to handle the case that you find yourself in now. Many Gingerbread phones don't ship with Google Play Services, and the error message that is displayed by default has the wrong link in it. This is a known bug, which has a discussion on [Google Code](https://code.google.com/p/android/issues/detail?id=42543). You should check for installation on app startup, and safely send the user to the right place to download if needed.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-25T15:50:45.653

I got a HTC Evo 4G (the 2010 IO conference giveaway for Sprint U.S deployed Wimax networks) and while I never used it in a real Wimax network (not deployed in Sweden) it can otherwise come handy as a 2.3.3 test phone.

It updated to 2.3.3 the other day when I picked it up out of a forgotten drawer. The Market app that should automagically be replaced by the Google Play app still remains. I need Play so that the Google Maps v2 dependencies shipped inside Google Play come available to my app that use Google Maps v2\. I read clearing the Market app cache would be good, but no difference.

Any hints ?

# php - 如何在php中访问std类索引

> ID：15288890
> 
> 赞同：-1
> 
> 时间：2013-03-08T07:31:03.090
> 
> 标签：php, json

我有一个来自 Google geo api 的数组，这个结果来自 json，所以我使用 json_decode()。

```
stdClass Object
(
    [results] => Array
        (
            [0] => stdClass Object
                (
                    [address_components] => Array
                        (
                            [0] => stdClass Object
                                (
                                    [long_name] => 78213
                                    [short_name] => 78213
                                    [types] => Array
                                        (
                                            [0] => postal_code
                                        )

                                )

                            [1] => stdClass Object
                                (
                                    [long_name] => San Antonio
                                    [short_name] => San Antonio
                                    [types] => Array
                                        (
                                            [0] => locality
                                            [1] => political
                                        )

                                )

                            [2] => stdClass Object
                                (
                                    [long_name] => Bexar
                                    [short_name] => Bexar
                                    [types] => Array
                                        (
                                            [0] => administrative_area_level_2
                                            [1] => political
                                        )

                                ) 
```

但是，当我尝试访问`$result->0->address_components`时，我会收到此错误

> 解析错误：解析错误，在 C:\wamp\www\test.php 中需要 'T_STRING' 或 'T_VARIABLE' 或 "{" 或 "$"。

如何访问 0 索引值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:32:51.190

那是因为`results`是一个数组。您可以像这样访问它：

```
$thevar->results[0]->address_components 
```

使用`StdClass`与 json 的 atcual 映射可能很烦人。如果您将整个结构强制为关联数组，则更容易：

```
$data = json_decode($jsonString, true);
echo $dats['results'][0]['address_components'][0]['long_name']; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T07:33:03.227

用这个

```
echo $array->results[0]->address_components; 
```

并使用

```
 json_decode($array,true); // it will convert it to array 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T07:50:08.587

[结果] 是一个数组。而不是反对

你应该使用 $geocode 是你的谷歌返回的数据。

```
$output = json_decode($geocode);
$output->result[0]->address_components 
```

对于拳头 long_name 你应该使用。

```
$output->result[0]->address_components[0]->long_name 
```

# python - 如何使用 Python SimpleHTTPServer 提供 UTF-8 编码的文件？

> ID：15288891
> 
> 赞同：12
> 
> 时间：2013-03-08T07:31:11.530
> 
> 标签：python, webserver

我经常使用以下命令快速启动 Web 服务器以提供当前文件夹中的 HTML 内容（用于本地测试）：

```
python -m SimpleHTTPServer 8000 
```

有没有一种相当简单的方法可以做到这一点，但是让服务器使用 UTF-8 编码而不是系统默认编码来提供文件？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2014-07-01T19:12:05.537

有同样的问题，下面的代码对我有用。

要使用 UTF-8 编码启动 SimpleHTTPServer，只需在终端中复制/粘贴以下内容（对于 Python 2）。

```
python -c "import SimpleHTTPServer; m = SimpleHTTPServer.SimpleHTTPRequestHandler.extensions_map; m[''] = 'text/plain'; m.update(dict([(k, v + ';charset=UTF-8') for k, v in m.items()])); SimpleHTTPServer.test();" 
```

确保您事先在 HTML 文件中具有正确的字符集。

**编辑**：Python 3 的更新：

```
python3 -c "from http.server import test, SimpleHTTPRequestHandler as RH; RH.extensions_map={k:v+';charset=UTF-8' for k,v in RH.extensions_map.items()}; test(RH)" 
```

该`test`函数还接受诸如和之类的参数`port`，`bind`因此可以指定要侦听的地址和端口。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-07-02T09:07:39.613

您也可以使用 Python 脚本运行它。

```
from functools import partial
from http.server import SimpleHTTPRequestHandler, test
import os

print('http://localhost:8000/')
wk_dir = os.getcwd()
SimpleHTTPRequestHandler.extensions_map = {k: v + ';charset=UTF-8' for k, v in SimpleHTTPRequestHandler.extensions_map.items()}
test(HandlerClass=partial(SimpleHTTPRequestHandler, directory=wk_dir), port=8000, bind='') 
```

* * *

由于`test`is not in `http.server.__all__`so IDE 可能会显示警告，如果您不想看到它，可以使用`importlib`它来代替它。例如：

```
import importlib
http_server = importlib.import_module('http.server')
http_server.test(HandlerClass=partial(SimpleHTTPRequestHandler, directory=wk_dir), port=8000, bind='') 
```

# java - 在 Hudson CI 中查找特定工作的工作区

> ID：15288899
> 
> 赞同：0
> 
> 时间：2013-03-08T07:31:43.327
> 
> 标签：java, hudson

我正在编写一个 Hudson CI 插件。

问题：是否有任何功能可以为我提供特定工作的工作空间？我需要遍历这个工作区来获取这些工作区中的文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:35:28.000

[http://javadoc.jenkins-ci.org/hudson/model/AbstractBuild.html#getWorkspace%28%29](http://javadoc.jenkins-ci.org/hudson/model/AbstractBuild.html#getWorkspace%28%29)

```
hudson.model.AbstractBuild.getWorkspace().toURI() 
```

您应该在大多数地方都有参考，`build`这将很有用。

# r - 在 R 绘图的图例文本中使用下标/上标和特殊字符

> ID：15288900
> 
> 赞同：8
> 
> 时间：2013-03-08T07:31:44.303
> 
> 标签：r, plot, special-characters, legend, plotmath

我为多个数据集生成了一个图。每个数据集都应该有自己的图例，其中可能包含希腊字母、绘图符号或子和上标。我想循环生成图例文本。

如果只有一个图例文本，Bquote 可以正常工作。如果我尝试添加额外的图例文本，plotmath-commads 会丢失，...

```
x <- 0:10
y1 = x * x
y2 = x * 10

plot (1,1, type="n", xlab=bquote(Omega), ylab="Y", las=1, xlim=range(x), ylim=range(y1, y2))
lines(x, y1, col=1, pch=1, type="b")
lines(x, y2, col=2, pch=2, type="b")

# generate legend texts (in a loop)
legend_texts = c(
  bquote(Omega^2)
  , bquote(Omega%*%10)
)
# Using a single bquote works fine:
#legend_texts = bquote(Omega^2)
#legend_texts = bquote(Omega%*%10)

legend(
  "topleft"
  , legend = legend_texts
  , col = c(1:2)
  , pch = c(1:2)
  , lty = 1
  ) 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-08T07:42:28.073

试试这个：

```
 legend_texts = expression(
   Omega^2, Omega*10)

 legend(
   "topleft"
   , legend = legend_texts
   , col = c(1:2)
   , pch = c(1:2)
   , lty = 1
   ) 
```

我不知道您是否想要`Omega^10`or`Omega*10`或`Omega%*%10`，但它们都会产生可接受的绘图表达式。

![在此处输入图像描述](../Images/c2b7467e9d8453eb4e51e9d394131fc4.png)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-08T07:37:10.027

将“legend_texts”更改为：

```
# generate legend texts (in a loop)
legend_texts = c(
  as.expression(bquote(Omega^2))
  , as.expression(bquote(Omega%*%10))
) 
```

在 的帮助页面中`?legend`，“legend”参数被描述为：

> 字符或表达式向量。长度 ≥ 1 出现在图例中。其他对象将被 as.graphicsAnnot 强制。

输出：

![在此处输入图像描述](../Images/a83f2482f1930c752ea422df0a024187.png)

# macos - osx 上的 phpstorm：“带有行注释的注释”的快捷方式

> ID：15288904
> 
> 赞同：12
> 
> 时间：2013-03-08T07:31:50.003
> 
> 标签：macos, shortcut, phpstorm

似乎我还没有完全转变为 Mac 用户（来自 Windows），再次遇到键盘快捷键问题：

在 phpstorm 中，下拉菜单中显示了“带有行注释的注释”的以下快捷方式：

![评论快捷方式](../Images/da664432e6846078e5732c72bb2878c1.png)

现在，问题是，我的键盘上没有“/”键，输入斜线对我来说意味着按“SHIFT+7”。

我已经在 phpstorm 上找到了键盘映射选项（目前使用的是'Mac OS X 10.5+），并尝试在那里更改快捷方式，但到目前为止还没有成功。

**2018 年 9 月 27 日更新**

*   刚刚找到这篇博文，帮助映射德语 mac 笔记本电脑键盘： [https ://victorvolle.wordpress.com/2012/05/16/intellij-german-keyboard-shortcuts-reference/](https://victorvolle.wordpress.com/2012/05/16/intellij-german-keyboard-shortcuts-reference/)

*   还发现我的德语键盘的数字键盘部分有一个“/”字符，它的作用类似于英文键盘上的“/”键，因此可以用于“带行注释的注释”快捷方式`⌘/`

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-06-11T20:43:58.457

您可以在不编辑键盘映射的情况下使用评论快捷方式。做快捷方式时，只需按“：”按钮右侧的“=”按钮。

您可以在键盘映射编辑器中验证此行为：按“：”按钮将显示“。” 而是字符。

但是仍然存在错误的键盘映射。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-04-17T15:57:23.297

![在此处输入图像描述](../Images/3b4f80ee75bfe82c8a877fcd6bcf4d13.png)

该死的墨西哥人！等等，JetBrains 位于 CZ，该死的捷克人！;)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-11T16:46:29.293

正如我在上面的评论中提到的，我设法通过编辑键盘映射选项来创建自己的快捷方式。我在“添加键盘快捷键”对话框中不明白的是，当“第一次笔划”文本字段具有焦点时，我认为我应该*只按一个按钮。*

尽管我什至无法在键盘上键入默认快捷方式，但我仍然会感兴趣？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-04-23T09:55:33.550

我使用两个技巧来解决我认为是错误的问题。

*   `Ctl + Maj + A`，然后输入“comment”就足以用“Return”键选择“Comment with Line comment”。

*   使用大写锁定，这将使`Cmd + /`工作按预期进行

# css - 多个背景图像 css 不适合我

> ID：15288908
> 
> 赞同：0
> 
> 时间：2013-03-08T07:32:10.950
> 
> 标签：css, background

我想创建多个背景图像，但由于某种原因它不适合我。我在网上搜索并在 youtube 上观看了一些教程视频。我逐步按照教程说明进行操作，但我不知道为什么它对我不起作用。

我正在使用 Dreamweaver CS6。

这是我的代码：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1
<style type="text/css">
body
{ background: url(images/navi-bg.png) repeat-x 0 85px, url(images/gplaypattern.png) repeat;

}
</style>
</head>
<body>
</body>
</html> 
```

以下是图片的链接：

![在此处输入图像描述](../Images/ff963c86d5a71a91317aeebe20913d03.png)

![在此处输入图像描述](../Images/f955e1d9f48dd7805db45750f3390785.png)

我希望第一张图片有背景重复：重复-x背景位置（x）：0背景位置（y）85px

第二张图片应该重复

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:41:56.360

这是您缺少 html 和 head 标签并且忘记关闭 doctype 的解决方案

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
 <html>
 <head>
 <style type="text/css">
 body
 { background: url(http://i48.tinypic.com/23vyd6g.png) repeat-x 0 85px, url(http://i46.tinypic.com/oucxky.png) repeat;

 }
 </style>
 </head>

 <body>
 </body>
 </html> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T07:42:17.133

想法是这样的，用这个改变你的代码

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
 <style type="text/css">
body {
    background-image: url(images/navi-bg.png), url(images/gplaypattern.png);
    background-repeat: no-repeat, no-repeat;
    background-color: transparent, transparent;
}
</style>
 </head>

 <body>
</body>
</html> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-08T07:46:02.117

看看这个 jsFiddle 链接 - [http://jsfiddle.net/nFPLN/](http://jsfiddle.net/nFPLN/)

```
<style type="text/css">
    body { 
        background: url('http://oi48.tinypic.com/23vyd6g.jpg'),
        url('http://oi46.tinypic.com/oucxky.jpg');
        background-repeat: repeat-x, repeat;
    }
</style> 
```

# javascript - 如何从更新面板内的 iframe 调用父页面 javascript

> ID：15288911
> 
> 赞同：0
> 
> 时间：2013-03-08T07:32:25.923
> 
> 标签：javascript, asp.net, iframe, updatepanel

我想做的是我想在父页面中调用一个javascript函数来将窗口滚动到顶部。我有一个带有 JS 函数“顶部”的母版页，用于将页面滚动到顶部，在母版页内有更新面板，在更新面板内有 iframe。每次加载 iframe 时，我都希望母版页位于顶部。

我尝试过的解决方案：

但我收到编译时错误，无法将 onload 添加到 iframe，因为它位于更新面板内

我知道我的问题不是很清楚。仍然期待一些回应。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:37:53.950

*假设：* iframe 和父窗口都来自同一个域。

您可以这样做来检索对 iframe 的父 DOM 元素的引用：

```
var iframeParent = window.parent.document; 
```

通过该参考，您可以访问全局范围内的父函数，那么在您的情况下，用于滚动页面的“顶部函数”？

# gxt - 在 GXT 的 FormPanel 中自动调整 TextField 标签的大小

> ID：15288917
> 
> 赞同：0
> 
> 时间：2013-03-08T07:32:59.940
> 
> 标签：gxt, autosize, formpanel

使用 GXT 2.1.1 我有许多 FormPanel 实例，都具有默认的 FormLayout 布局。每个表单都包含许多 TextField 实例，主机表单会自动为每个文本字段放置一个标签。问题是在某些情况下，标签文本非常小，在标签和相应的文本字段之间放置了相当大的空间。在其他情况下，标签文本太大，迫使其内容换行。**我想做的是以某种方式将所有标签自动调整为该表单上最宽标签的宽度。**

FormLayout 确实有一个**setLabelWidth** (int pixel) 函数，但它的参数必须以像素为单位。我正在考虑使用 TextField.getFieldLabel() 来检索标签文本，但我不知道如何将其转换为像素。

感谢您的时间！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T08:29:42.403

表单面板中没有自动调整文本字段标签大小的功能。但您可以设置最大大小，如下所示

```
 FormPanel formPanel = new FormPanel();  
 formPanel.setBodyBorder(false);
 formPanel.setButtonAlign(HorizontalAlignment.CENTER);

    FormLayout layout = new FormLayout();  
    layout.setLabelAlign(LabelAlign.LEFT);
    layout.setLabelWidth(200);//Here you can set maximum size of your label
    formPanel.setLayout(layout); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T19:47:43.477

不知道这是否真的是问题的答案，但我希望它可能对未来的人有所帮助。我真的很喜欢 GWT 的 FlexTable 在我正在寻找的标签调整大小方面的表现方式。但是，GXT 将 GWT 的 Widget 实例视为 WidgetComponent，当放置在 FormPanel 中时，**不会遍历嵌套的 Field 实例。**所以我的最终解决方案是扩展 GXT 的 FormPanel 并覆盖它的 getFields() 和 getChildFields() 函数，后者的逻辑除了 Container 实例之外还查找 WidgetComponent 实例：

```
 for (Component comp : c.getItems()) {
    if (comp instanceof Field) {
      fields.add((Field<?>) comp);
    }
    else if (comp instanceof WidgetComponent) {
       if (((WidgetComponent) comp).getWidget() instanceof FlexTable) {

             // logic to retrieve Field instances from FlexTable

       }
    }
    else if (comp instanceof Container) {
      getChildFields((Container<Component>) comp, fields);
    }
  } 
```

为了补充这个逻辑，我还必须扩展 FlexTable 以允许设置和检索 Field 实例。

# c# - 避免从字符串中截断前导加号

> ID：15288920
> 
> 赞同：-1
> 
> 时间：2013-03-08T07:33:09.403
> 
> 标签：c#

```
DataTable dt = {a DataTable containing one column of strings in this format: "+12394837444"} 
```

所有成员都有前导加号，这个 DataTable 由这些成员组成并且只有一列。我想从这个表中获取一个完整的字符串：

```
for (int j = 0; j < dt.Rows.Count; j++)
                {
                    System.Data.DataRow drow = dt.Rows[j];
                    string total = drow.ItemArray.GetValue(0).ToString();
                }
if(total.StartsWith("+"))
   {
    // we are ok
   }
else
   {
    string edited = "+" + total;
   } 
```

但这会截断前导加号，并且由于这些不是双精度或数字类型，因此 ToString() 没有重载来定义加号不删除。必须有加号，但 ItemArray.Getvalue().ToString() 总是将其删除。我如何防止这种情况并获得领先标志？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:35:06.350

将其存储为带有前导 + 的字符串，或者像这样添加它：

```
string total = "+" + drow.ItemArray.GetValue(0); 
```

**编辑**

不确定类型是什么，但您可以检查 + 号是否已经存在：

```
string total = drow.ItemArray.GetValue(0).ToString();
if (total.IndexOf('+') != 0) {
    total = "+" + total;
} 
```

# c# - 在 C# 中将图像上传到多个 Facebook 帐户

> ID：15288923
> 
> 赞同：0
> 
> 时间：2013-03-08T07:33:46.330
> 
> 标签：c#, facebook, facebook-graph-api, facebook-c#-sdk, access-token

我有一个 Facebook 应用程序，用户可以在其中订阅。为了订阅，我制作了一个 PHP 网页，用户可以使用他的 Facebook 帐户信息登录，当他登录时，**我将用户 ID 和访问令牌存储到我的 MySQL 数据库中。**然后我将所有访问令牌作为 XML 文件发送到我的应用程序。

现在，我想将状态和照片发布到订阅的用户帐户。但是当我想上传照片到账户时，我必须在每次发布操作中将照片上传到每个账户，这种方法是没有用的。

我的发布代码如下：

```
public static bool PostImage(string ImageDesc, string ImagePath)
    {
        try
        {
            string accesstoken = "";

            if (ImagePath.Length < 0)
                return false;

            int progressMaxValue = Controller.participants.Descendants("participant").Count();
            int increment = 100 / progressMaxValue;

            PostImageCPanel.progressBar1.Value = 0;
            foreach (XElement xe in Controller.participants.Descendants("participant"))
            {
                try
                {
                    accesstoken = xe.Attribute("access_token").Value;

                    FacebookClient client = new FacebookClient(accesstoken); 
                    var imageStream = File.OpenRead(ImagePath);

                    dynamic res = client.Post("/me/photos", new
                    {
                        message = (ImageDesc"),
                        file = new FacebookMediaStream
                        {
                            ContentType = "image/jpg",
                            FileName = Path.GetFileName(ImagePath)
                        }.SetValue(imageStream)

                    });
                    PostImageCPanel.progressBar1.Value += increment;
                }
                catch (FacebookOAuthException ex)
                {
                    MessageBox.Show(ex);
                }                     
            } 
```

所以，我问我是否可以**只将照片上传到 MySQL DB 一次，然后将其发布到参与者的 Facebook 帐户**，而不是每次都为每个帐户上传。**或者另一种更快地发布照片的方法。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T13:42:17.017

是的，你可以，我在 2 天前刚刚测试过它，并且使用 CronJobs 对我来说效果很好。对你来说，这也需要一些时间，因为每次你发布照片时，Facebook 都会再次上传它。

# java - 如何为 SequenceFileInputFormat 定义映射函数的键和值输入？

> ID：15288924
> 
> 赞同：1
> 
> 时间：2013-03-08T07:33:57.070
> 
> 标签：java, hadoop

我正在尝试了解一个示例 hadoop 项目。它有以下代码块

```
jconf.setOutputKeyClass(Text.class);
jconf.setOutputValueClass(Text.class);
jconf.setInputFormat(SequenceFileInputFormat.class); 
```

从[这个链接](http://developer.yahoo.com/hadoop/tutorial/module4.html)，我读到对于 SequenceFileInputFormat，键和值是用户定义的。我需要为此实现 RecordReader 吗？我没有看到它在项目中实现。是否有任何默认分隔符用于将输入拆分为键、值对？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T09:56:51.013

您不必实现 RecordReader 来读取序列文件。

但是，生成序列文件并不像生成文本文件那么简单。所有命令，例如

hadoop fs -put

默认在 HDFS 中生成文本文件。

如果你想测试一个需要序列文件作为输入的 MR 程序，你首先需要将你的文本文件转换为序列文件并将其作为输入。

要从文本文件创建序列文件，您可以编写一个简单的带有身份映射器且没有reducer的MR。您需要将输入文件格式设置为文本并将文本文件作为输入传递；在此作业中将输出格式设置为序列文件.此作业的输出将是您的文本文件的序列文件格式的副本。确保选择此作业的输出键和值，记住任何使用序列文件的后续 MR 作业都必须接受它们为它的输入键和值。换句话说，序列文件中的键和值是在创建时确定的。

任何需要序列文件的后续 MR 作业（如您在问题中引用的那个）都可以使用上述序列文件，并且映射器输入中的“键”和“值”类型将与您之前发出的相同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T18:29:23.417

对于您的问题，“是否有用于识别密钥的默认分隔符？” 我认为你不必担心这一点。本质上，序列文件由二进制键/值对组成。您可以使用 SequenceFile.Writer#append 来写入键和值。

[http://hadoop.apache.org/docs/r1.1.1/api/org/apache/hadoop/io/SequenceFile.Writer.html#append%28java.lang.Object,%20java.lang.Object%29](http://hadoop.apache.org/docs/r1.1.1/api/org/apache/hadoop/io/SequenceFile.Writer.html#append%28java.lang.Object,%20java.lang.Object%29)

# assembly - x86 cmpl 和 jne

> ID：15288925
> 
> 赞同：12
> 
> 时间：2013-03-08T07:34:00.050
> 
> 标签：assembly, x86, att

我正在跟踪一些 x86 代码以进行分配，我想知道“cmpl”究竟做了什么以及如何预测是否会满足“jne”。

```
80484bf:    83 7d f0 07             cmpl   $0x7,-0x10(%ebp)
80484c3:    75 16                   jne    80484db 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-08T08:04:34.367

**[cmpl](https://www.felixcloutier.com/x86/cmp)** 从 $0x7 中减去 -0x10(%ebp) 并修改标志： **AF CF OF PF SF ZF**。

1.  如果 -0x10(%ebp) 处的内存等于立即数 0x7，则设置标志**ZF**。这低于 EBP，因此它可能是一个局部变量，如果这是使用 EBP 作为帧指针的未优化构建。
2.  **jne 80484db**表示如果两个比较的数不同（ZF=0），跳转到 **80484db**

总而言之，您的代码相当于：

```
compare A to 7
jump to 0x80484db if they are different. 
```

# asp.net-mvc - 在 MVC4 中使用 DropDownList 过滤 WebGrid

> ID：15288936
> 
> 赞同：1
> 
> 时间：2013-03-08T07:34:49.930
> 
> 标签：asp.net-mvc, asp.net-mvc-4, webgrid

我正在使用 WebGrid，我将其绑定到包含有关交付信息的对象列表。我希望能够使用包含客户的 DropDownList 过滤所述 WebGrid。当我在 DropDownList 中选择一个客户时，更改方法会发送一个 Ajax 调用，该调用应该为 WebGrid 获取新项目。

调用成功，但没有任何反应。WebGrid 根本没有改变。我什至尝试发送与排序列表时发送的相同的 Ajax 调用。但什么也没有发生。

我在这里做错了什么？

视图模型：

```
public class DeliveriesViewModel : PageViewModel<DeliveriesPage>
{
    public DeliveriesViewModel(DeliveriesPage currentPage) : base(currentPage)
    {
        DeliveryItems = new List<DeliveryItem>();
    }

    public List<DeliveryItem> DeliveryItems { get; set; }
    public List<SelectListItem> Customers { get; set; } 
} 
```

控制器：

```
 public ActionResult Index(DeliveriesPage currentPage, string customer)
    {

        var model = new DeliveriesViewModel(currentPage);
        model.Customers = _deliveryService.GetCustomers();
        model.DeliveryItems = customer == null ? _deliveryService.GetDeliveryItems() : _deliveryService.GetDeliveryItems(customer);

        return View(model);
    } 
```

看法：

```
@model DeliveriesViewModel
<h1>@Model.CurrentPage.PageName</h1>

@Html.DropDownList("customerDropDown", Model.Customers)
@Html.Partial("_grid", Model)
<script type="text/javascript">
    $("#customerDropDown").change(function () {
        $.get("?Customer="+$("#customerDropDown").val());
    });
</script> 
```

_grid 局部视图：

```
@model DeliveriesViewModel
@{
    var grid = new WebGrid(Model.DeliveryItems, canPage:true, canSort: true, ajaxUpdateContainerId:"container-grid");
}

<div id="container-grid">
@grid.GetHtml(
    columns: grid.Columns(
        grid.Column("DeliveryId"),
        grid.Column("CustomerName"),
        grid.Column("ShipNumber"),
        grid.Column("ShipName"),
        grid.Column("Product"),
        grid.Column("PlannedWeight"),
        grid.Column("TotalWeight"),
        grid.Column("ShipStatus"),
        grid.Column("TransportTo"),
        grid.Column("TransportFrom"),
        grid.Column("RevDate"),
        grid.Column("ShipStemDept"),
        grid.Column("ShipRealDept"),
        grid.Column("ShipStemArr"),
        grid.Column("ShipRealArr"),
        grid.Column("TranspMonth"),
        grid.Column("TranspYear")
        ))
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T07:39:03.810

`$.get("?Customer="+$("#customerDropDown").val());`向服务器发送 AJAX 调用，仅此而已。您尚未订阅成功回调来更新您的 DOM。*因此，没有任何事情发生*也就不足为奇了。

所以试试这样：

```
<script type="text/javascript">
    $('#customerDropDown').change(function () {
        var url = '@Url.Action("index")';
        $.get(url, { customer: $(this).val() }, function(result) {
            $('#container-grid').html(result);
        });
    });
</script> 
```

请注意我如何使用 UrlHelper 计算正确的 url 到您的控制器操作，然后我将下拉列表的选定值作为第二个参数传递给该`$.get`方法，最后但并非最不重要的是，我订阅了 ajax 请求的成功回调和使用控制器操作返回的结果更新了`#container-grid`div。

此外，由于您使用 AJAX 调用此操作，因此您应该只返回一个 PartialView 而不是整个 View。此局部视图应包含您的网格。否则，您最终会在 div 中注入重复的布局。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-06-16T08:49:20.147

```
Model

 public class EmployerTestResultsModel
    {

        [Display(Name = "Employer List")]
        public IEnumerable&lt;SelectListItem> EmployerList { get; set; }

        [Required]
        public string SelectedEmployerId { get; set; }

        public List<EmployerTestResultsModel> EmployerGrid { get; set; }

        public Int64 FileId { get; set; }

        [Display(Name = "File Name")]
        public string FileName { get; set; }

        [DataType(DataType.Date)]
        public DateTime Date { get; set; }

        [Display(Name = "Scheme Id")]
        public string SchemeId { get; set; }

        public string Status { get; set; }

        [Display(Name = "Validation Error Report")]
        public string ValidationErrorReport { get; set; }

}

controller

[HttpGet]
        public ActionResult EmployerTestResults()
        {
            EmployerTestResultsModel model = new EmployerTestResultsModel();

            ViewBag.HideSection = true;

            model.EmployerList = (from d in _context.Employers
                                  select new System.Web.Mvc.SelectListItem
                                  {
                                      Text = d.EmployerName,
                                      Value = d.EmployerId
                                  });

            model.EmployerGrid = (from efd in _context.EmployerFileDatas
            //                      join efhd in _context.EmployerFileHeaderDetails on efd.FileDataIdentityKey equals efhd.FileDataIdentityKey
                                  orderby efd.EmployerId , efd.Timestamp
                                  select new EmployerTestResultsModel
                                  { 
                                      FileId = efd.FileDataIdentityKey,
                                      FileName = efd.FileName,
                                      Date = efd.Timestamp,
                                      //SchemeId = efhd.SchemeId,
                                      Status = efd.ValidationStatus,
                                      ValidationErrorReport = "View"

                                  }).ToList();

            return View("EmployerTestResults", model);
        }

View:

@model EFITestHarness.Models.EmployerTestResultsModel
@using System.Web.Helpers;
@{
    ViewBag.Title = "EmployerTestResults";
    Layout = "~/Views/Shared/_Layout.cshtml";

}

&lt;script src="~/Scripts/jquery-1.7.1.js">&lt;/script>
&lt;script src="~/Scripts/jquery.unobtrusive-ajax.js">&lt;/script>

@using (Html.BeginForm("EmployerTestResults", "Home", FormMethod.Post, new { @class = "form-horizontal" }))
{

    <div class="text-danger" style="font-size:large;">
        @Html.ValidationSummary(true)

    </div>

    <div class="form-group ">
        @Html.LabelFor(s => s.EmployerList, null, new { @class = "col-md-2 control-label" })
        <div class="col-md-3">
            @Html.DropDownListFor(s => s.SelectedEmployerId, Model.EmployerList, "----All----", new { style = "width:250px", id = "ddl", @class = "dropdown1" })

            @Html.ValidationMessageFor(s => s.EmployerList, null, new { @class = "text-danger" })
        </div>
    </div>

    <div id="EmployeeViewGrid">

        @Html.Partial("~/Views/EmployerView.cshtml", Model.EmployerGrid)
    </div>

}

&lt;script type="text/javascript">

              $('#ddl').change(function (e) {

            var employer = $('#ddl').val();           
            $.get('@Url.Action("Filter")', { id: employer }, function (result) {
                $('#EmployeeViewGrid').html(result);

            });
            e.preventDefault();
        });

&lt;/script>

Controller:

[HttpGet]
        public ActionResult Filter(string id)
        {
            EmployerTestResultsModel model = new EmployerTestResultsModel();

            List<EmployerTestResultsModel> objEmployerDetails = new List<EmployerTestResultsModel>();

            objEmployerDetails = _repository.getEmployerDetails(id);

            model.EmployerGrid = objEmployerDetails;           

            return PartialView("~/Views/EmployerView.cshtml", model.EmployerGrid);

        }  

partial View:

@model IEnumerable<EFITestHarness.Models.EmployerTestResultsModel>
@using System.Web.Helpers;
@{
    ViewBag.Title = "EmployerTestResultsModel";
    //Layout = "~/Views/Shared/_Layout.cshtml";

}
&lt;script src="~/Scripts/jquery-1.7.1.js">&lt;/script>    
    <div id="gridposition" style="overflow: scroll; height: 300px; overflow-x: hidden;">
        @{

            var grid = new WebGrid(Model, canPage: true, rowsPerPage: 5, selectionFieldName: "selectedRow", ajaxUpdateContainerId: "gridposition"); grid.Pager(WebGridPagerModes.NextPrevious);

    @grid.GetHtml(tableStyle: "webGrid",
                footerStyle: "foot",
                headerStyle: "webGridHeader",
                alternatingRowStyle: "webGridAlt",
                htmlAttributes: new { id = "positionGrid" },
                selectedRowStyle: "select",
                fillEmptyRows: true,
                columns: grid.Columns(
                grid.Column("FileName"), //the model fields to display
                grid.Column("Date"),
                grid.Column("SchemeId"),
                grid.Column("Status"),
                grid.Column("ValidationErrorReport", format: (item => Html.ActionLink((string)(@item.ValidationErrorReport).ToString(), "EmployerValidationResults", new { FileId = @item.FileId, @style = "color:blue;" })))

                ))
        }

    </div> 
```

# android - KvmSerializable 对象类成员在服务器端为空

> ID：15288938
> 
> 赞同：1
> 
> 时间：2013-03-08T07:34:55.917
> 
> 标签：android, ksoap2

我必须将自定义对象传递给 WCF Web 服务。我已经提到了 从 Android 传递自定义对象 WCF 网络服务的[链接。](http://seesharpgears.blogspot.com.es/2010/10/ksoap-android-web-service-tutorial-with.html)但是在服务器端，没有分配类成员。例如，我已`Category.Name="test"`在 Web 服务客户端分配，但在服务器端，`Category`类成员为空。请指导我解决这个问题。

注意：我使用 KSOAP2 进行网络服务消费。

# sql - XML 中的空标签

> ID：15288943
> 
> 赞同：-1
> 
> 时间：2013-03-08T07:35:05.823
> 
> 标签：sql, xml, sql-server-2005

```
<Person>
  <id>12</id>
  <Fname>Phil</Fname>
  <Lname></Lname>
  //or
  <id>13</id>
  <Fname>Phil</Fname>
  <Lname>0</Lname>
</Person> 
```

我正在使用 xml path('Person') 从 sql server 2005 生成 XML

在这个 xml 结构中，而不是

`<Lname></Lname>`或者`<Lname>0</Lname>`我需要`<Lname/>`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T08:31:53.980

使用 XML 数据类型时，空标签将转换为[EmptyElemTag](http://www.w3.org/TR/REC-xml/#dt-empty)。但是，直接使用`for xml`不会这样做。

要获得您想要的结果，您可以将您的查询用作另一个查询的字段列表中的子`for xml path`查询。

```
select (
       select id,
              Fname,
              Lname
       from Person
       for xml path('Person'), type
       )
for xml path('') 
```

[SQL小提琴](http://sqlfiddle.com/#!6/4e50b/5)

# c# - 如何使用肥皂 UI 传递流

> ID：15288945
> 
> 赞同：5
> 
> 时间：2013-03-08T07:35:06.680
> 
> 标签：c#, wcf, testing, soapui

我无法使用接受 Stream 对象的肥皂 UI 测试 WCF 服务方法。这是服务方法作为输入参数的对象：

```
[DataContract(Namespace = Constants.NAMESPACE)]
public class RemoteFileInfo : IDisposable
{
    [DataMember(IsRequired = true, Order = 1)]
    public string FileName { get; set; }

    [DataMember(IsRequired = true, Order = 2)]
    public long Length { get; set; }

    [DataMember(IsRequired = true, Order = 3)]
    public System.IO.Stream FileByteStream { get; set; }

    public void Dispose()
    {
        if (FileByteStream != null)
        {
            FileByteStream.Close();
            FileByteStream = null;
        }
    }
} 
```

在soap UI中生成的请求：

```
...
<ws:File>
  <ws:FileName>?</ws:FileName>
  <ws:Length>?</ws:Length>
  <ws:FileByteStream>
    <sys:__identity>?</sys:__identity>
  </ws:FileByteStream>
</ws:File> 
```

我需要在soap UI 中做什么来测试这个方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-09T15:18:19.707

您只需使用特定的 TestRequest 属性调用您的请求。

打开TestRequest属性： `Inline Response Attachments`= True `Enable Inline Files`= True

此外，如果您的请求发送文件，您需要在请求中附加文件。

在您的请求中单击`tab attachments`并添加文件。

# java - 错误：“文件过早结束。”

> ID：15288952
> 
> 赞同：1
> 
> 时间：2013-03-08T07:35:42.757
> 
> 标签：java, grails, pdf-generation, itext

```
import java.io.*;
import com.lowagie.text.DocumentException;
import org.xhtmlrenderer.pdf.ITextRenderer;

public class FirstDoc {

    public static void main(String[] args) 
        throws IOException, DocumentException {

        String url= "http://www.facebook.com";

        String outputFile = "firstdoc.pdf";
        OutputStream os = new FileOutputStream(outputFile);

        ITextRenderer renderer = new ITextRenderer();
        renderer.setDocument(url);
        renderer.layout();
        renderer.createPDF(os);

        os.close();
    }
} 
```

但我收到了这个错误

```
> ERROR:  'Premature end of file.'
Exception in thread "main" org.xhtmlrenderer.util.XRRuntimeException: Can't load the XML resource (using TRaX transformer). org.xml.sax.SAXParseException: Premature end of file.
at org.xhtmlrenderer.resource.XMLResource$XMLResourceBuilder.createXMLResource(XMLResource.java:191)
at org.xhtmlrenderer.resource.XMLResource.load(XMLResource.java:71)
at org.xhtmlrenderer.swing.NaiveUserAgent.getXMLResource(NaiveUserAgent.java:205)
at org.xhtmlrenderer.pdf.ITextRenderer.loadDocument(ITextRenderer.java:102)
at org.xhtmlrenderer.pdf.ITextRenderer.setDocument(ITextRenderer.java:106)
at com.test.java.FirstDoc.main(FirstDoc.java:17)

Caused by: javax.xml.transform.TransformerException: org.xml.sax.SAXParseException: Premature end of file.
at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:720)
at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:313)
at org.xhtmlrenderer.resource.XMLResource$XMLResourceBuilder.createXMLResource(XMLResource.java:189)
... 5 more
Caused by: org.xml.sax.SAXParseException: Premature end of file.
at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1231)
at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transformIdentity(TransformerImpl.java:637)
at com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:708)
... 7 more 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-08T07:49:28.150

很可能`http://www.facebook.com`不返回 HTML 文档，而是 HTTP 重定向或其他内容，并且`ITextRenderer`可能不支持。

您应该通过使用一些不执行重定向的 URL 进行测试来验证这一点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-23T08:52:10.447

如果您在使用 IText 将第二个签名添加到 pdf 文件时遇到文件过早结束错误，请确保您正确执行以下操作。

*   第二个签名的名称应该与第一个不同
*   应以附加模式添加签名。例如： (PdfStamper.createSignature(reader, os, '\0', null, append);
*   确保 pdf 认证级别应支持添加第二个签名字段。例如:(appearance.setCertificationLevel(PdfSignatureAppearance.NOT_CERTIFIED);)
*   如果它是可见签名，请确保第二个签名在视觉上位于不同的位置。

# php - PHP GD 库调整照片大小

> ID：15288967
> 
> 赞同：2
> 
> 时间：2013-03-08T07:36:59.267
> 
> 标签：php, gd

我正在尝试使用 PHP 的 GD 库创建照片的缩略图。

这是我正在采取的步骤。

1.  创建 GD 图像资源。
2.  获取图像的高度和宽度
3.  创建一个 100 像素高、适当宽度的空白 gd 图像资源
4.  将资源图像复制到空白 gd 图像资源并保存两个图像

这是我的代码：

```
private function getExtension($filename) {
    $position=strrpos($filename, '.');
    $extension = strtolower(substr($filename, $position+1));
    if ($extension == "jpg") {
        $extension = "jpeg";
    }

    return $extension;
}

public function saveImage($parameters) {
    $extension=$this->getExtension($parameters['filename']);
    $createImageFunc="imagecreatefrom".$extension;
    $imgResource=$createImageFunc(SITE_PATH."tmp/{$parameters['filename']}");
    $width=imagesx($imgResource);
    $height=imagesy($imgResource);
    $ratio=$height/$width;
    $thumbnail=imagecreatetruecolor(100, 100*$ratio);

    imagecopyresized($thumbnail, $imgResource, 0, 0, 0, 0, 100*$ratio, 100, $width, $height);

    $imgResult=imagejpeg($imgResource, SITE_PATH."images/{$parameters['galleryName']}/{$parameters['filename']}");
    $thumbResult=imagejpeg($thumbnail, SITE_PATH."images/{$parameters['galleryName']}/thumbnails/{$parameters['filename']}");

} 
```

图像正在保存，但无法复制，缩略图中有空白区域。

这是原始图像： ![在此处输入图像描述](../Images/ec27a012e6d108df631f87218644aac5.png)

这是用gd再次保存的图像： ![在此处输入图像描述](../Images/86fd43b30c4f681f7edbb26504e7d562.png)

这是缩略图： ![在此处输入图像描述](../Images/0689955575042b3b03be23a4093f2dde.png)

我喜欢四重检查 imagecopyresize 并且据我了解，代码中的所有值都应该是正确的。

以下是 php.net 的值：

```
bool imagecopyresized ( resource $dst_image , resource $src_image , int $dst_x , int $dst_y , int $src_x , int $src_y , int $dst_w , int $dst_h , int $src_w , int $src_h ) 
```

有人有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-09-09T11:54:02.363

看看这个：[PHP/GD Imagestyle](https://github.com/lyrisias/PHP-GD-Imagestyle)
您可以轻松创建缩略图或您想要的任何内容

```
// create a thumbnail
$thumb = imagestyle($image,'autosize:100 100');
// resize the image # resize:200 0; means width=200 height=auto
$resized = imagestyle($image,'resize:200 0;');
// crop it # left=0, top=50, width=200, height=200
$cropped = imagestyle($image,'crop:0 50 200 200;');
// and more 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-01-10T22:28:34.503

使用 PHP/GD 可能很乏味，所以我编写了一个库来让事情变得更简单：[SimpleImage](https://github.com/claviska/SimpleImage)

使用 SimpleImage，您可以用两行简单的行创建缩略图：

```
// Load image from image.jpg
$image = new \claviska\SimpleImage('image.jpg');

// Create a 100x100 thumbnail, convert to PNG, and save to thumb.png
$image->thumbnail(100, 100)->toFile('thumb.png', 'image/png'); 
```

如果您仍然坚持手动操作，请检查您的`imagecopyresized`参数。为什么要乘以宽度`$ratio`？

# javascript - 在尝试使用 javascript 加载时在警报框中返回 iframe src 值

> ID：15288970
> 
> 赞同：0
> 
> 时间：2013-03-08T07:37:11.817
> 
> 标签：javascript, jquery

**但它返回空警报框..请任何人帮助我。** 我需要带有 iframe src（地址位置，[http://www.google.com](http://www.google.com)）值详细信息的警报框。

```
<iframe width="700px" height="900px" name="ifrm" id="ifrm" onload="load()"></iframe> 

<script type="text/javascript">
function load()
{
var oIframe = document.getElementById("ifrm");

var oDoc = oIframe.contentWindow || oIframe.contentDocument;

if (oDoc.document) {

    oDoc = oDoc.document;
}
alert(oDoc.ifrm.href);
}
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:47:04.933

使用 iframe 的 src 属性

```
alert(oDoc.ifrm.src); 
```

# magento - Magento 获取运输方式、付款方式和订单状态的 ID

> ID：15288971
> 
> 赞同：0
> 
> 时间：2013-03-08T07:37:12.807
> 
> 标签：magento, methods, module

如何调用运输方式、付款方式和订单状态的 ID。我只发现`getShippingDescription();`返回方法的全文和 getShippinid(); 不起作用。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T09:01:54.167

我假设您想获取订单的这些详细信息。如果你可以使用下面的代码：

```
 /*Just loading the Orders Collections*/
     $order = Mage::getModel('sales/order')->getCollection();
     /*Getting the First Order details in the collection*/  
     echo '<br/>Order Status : '.$order->getFirstItem()->getData('status');
     echo '<br/>Order Shipping method : '.$order->getFirstItem()->getData('shipping_method');
     $order_id = $order->getFirstItem()->getData('entity_id');
     /*Loading the Payments of an order*/
     $orderPayment = Mage::getResourceModel('sales/order_payment_collection')
                     ->addFieldToSelect('*')
                     ->addFieldToFilter('parent_id',$order_id);
     echo '<br/>Order Payment method : '.$orderPayment->getFirstItem()->getMethod();
     echo '<br/>Order Payment Id: '.$orderPayment->getFirstItem()->getData('entity_id'); 
```

另请查看我的其他答案[https://stackoverflow.com/a/15250093/777103](https://stackoverflow.com/a/15250093/777103)以获得最佳方法

# r - 如何绘制一个带有三个堆栈的条形图以进行一系列分布？

> ID：15288972
> 
> 赞同：0
> 
> 时间：2013-03-08T07:37:17.563
> 
> 标签：r, plot, stack

我有一系列数据

```
x<-rnorm(1000) 
```

我需要在三个堆栈中绘制一个水平条形图，其中包含 15%、70% 和 15% 的数据，如图所示。

![在此处输入图像描述](../Images/6f68ef190132d43d38afb1db5416a3a7.png)

我如何在 R 中绘制这个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T07:53:18.723

```
barplot(table(cut(x, breaks=quantile(x, probs=c(0,0.15, 0.85, 1) ) )  ) ) 
```

![在此处输入图像描述](../Images/a24613deddc80d76ade6d04c91f6868d.png)

这是一个水平图（我不会称之为“堆叠条形图”

```
plot(x=x, y=rep(1,length(x)) , type="n")
segments( x0=c( min(z), quantile(z, probs=c(0,0.15, 0.85) ) ), 
             x1 =quantile(z, probs=c(0,0.15, 0.85, 1) ) , 
             y0=rep(1, 4), y1=rep(1,4) , col=c("red", "green", "blue"), lwd=30, lend=10) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T08:16:05.373

这是一个工作示例：

```
x1 <- table(cut(x, breaks = quantile(x, probs = c(0,0.15, 0.85, 1))))

png(filename="~/test.png", width = 8, height = 2.5, units="in", res = 72)
barplot(
  as.matrix(x1), horiz = TRUE, 
  col = c("lightblue", "yellow", "palegreen"),
  axes = FALSE)
axis(1, at = c(0, cumsum(x1)), labels = c(0, 15, 85, 100))
dev.off() 
```

这将在您的工作目录中创建一个名为“test.png”的 png 文件，如下所示。

![在此处输入图像描述](../Images/a9922999912155ad6c3e9a6880ece18f.png)

# c++ - 未能安装按钮消息处理程序

> ID：15288976
> 
> 赞同：0
> 
> 时间：2013-03-08T07:37:42.923
> 
> 标签：c++, mfc

我一直在尝试编写一个基于框架的 MFC 应用程序，其中包含一个对点击有简单响应的按钮。不幸的是，按钮似乎对我的操作没有反应。这是应用程序的代码：
1) OS.cpp：

```
#include "stdafx.h"
#include "mfc_includes.h" // some general includes like afxwin.h
#include "OS.h"
#include "MainFrm.h"
#include "button.h"

#ifdef _DEBUG
#define new DEBUG_NEW
#endif

BEGIN_MESSAGE_MAP(COSApp, CWinApp)
END_MESSAGE_MAP()

COSApp::COSApp() {}
COSApp theApp;
    btnHelloWorld_t my_button;
BOOL COSApp::InitInstance()
{
    INITCOMMONCONTROLSEX InitCtrls;
    InitCtrls.dwSize = sizeof(InitCtrls);
    InitCtrls.dwICC = ICC_WIN95_CLASSES;
    InitCommonControlsEx(&InitCtrls);
    CWinApp::InitInstance();

    CMainFrame* pFrame = new CMainFrame;
    if (!pFrame)
        return FALSE;
    m_pMainWnd = pFrame;
    pFrame->Create(L"", L"The application", WS_OVERLAPPEDWINDOW, CRect(100, 100, 500, 500));
    my_button.Create(L"Hello World!", WS_CHILD | WS_VISIBLE | BS_PUSHBUTTON, CRect(30, 30, 150, 80), pFrame, btnHelloWorld_t::GetID());
    HFONT font = CreateFont(20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, L"Times New Roman");
    SendMessage(my_button.m_hWnd, WM_SETFONT, (WPARAM)font, true);
    pFrame->ShowWindow(SW_SHOW);
    pFrame->UpdateWindow();
    return TRUE;
} 
```

2）操作系统.h：

```
class COSApp : public CWinApp
{
public:
    virtual BOOL InitInstance();
    afx_msg void OnAppAbout();
    DECLARE_MESSAGE_MAP()
};
extern COSApp theApp; 
```

3）button.h（包含自定义按钮类）：

```
#pragma once
#include "mfc_includes.h"
class btnHelloWorld_t : public CButton
{
    static const int is_button = 0x200;
    static int id;
public:
    btnHelloWorld_t()
    {
        id++;
    };
    static const int GetID()
    {
        return id;
    };
    afx_msg void Click();
    DECLARE_MESSAGE_MAP()
};

int btnHelloWorld_t::id = 0x200;

afx_msg void btnHelloWorld_t::Click()
{
    SetWindowText(L"Hello!");
}

BEGIN_MESSAGE_MAP(btnHelloWorld_t, CButton)
    ON_BN_CLICKED(btnHelloWorld_t::GetID(), &btnHelloWorld_t::Click)
END_MESSAGE_MAP() 
```

你能告诉我有什么问题以及如何使按钮在单击后更改其文本吗？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T09:31:17.417

1.  您的 btnHelloWorld_t::GetID() 是静态方法！！创建第一个按钮时，GetID() 返回 201。然后调用消息映射时，GetID() 返回 202。然后如果再次调用消息映射，GetID() 返回 203。然后是 204、205....

2.  您必须在 CMainFrame 中处理 BN_CLICKED 命令，而不是 btnHelloWorld_t！如果单击该按钮，其父窗口将收到一条 WM_COMMAND 消息，其中 notifyCode == BN_CLICKED 和 controlID == 您传递给 CButton::Create() 的 ID。

# ios - 使用 MFMailComposeViewController 编写 HTML 消息

> ID：15288978
> 
> 赞同：3
> 
> 时间：2013-03-08T07:37:46.097
> 
> 标签：ios, mfmailcomposeviewcontroller

我想为我的电子邮件正文中的每个项目添加一些复选框，这是一些测试代码

```
 [mailPicker setMessageBody:@"<html>\
         <head>\
         <title> Insert title here </title>\
         <body> Insert the body of email here </body>.\
         <form>\
         <input type=\"checkbox\" /> I am a male <br />\
         <input type=\"checkbox\" /> I am a female\
         </form>\
         </html>" isHTML:YES]; 
```

出现 MFMailComposeViewController 时将显示该复选框，但是当我使用 mail.app 接收此邮件时，该复选框根本不显示。

有什么我错过的吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T10:02:44.930

以下是适合您的解决方案：

```
MFMailComposeViewController *mailController = [[MFMailComposeViewController alloc] init];
mailController.mailComposeDelegate = self;
NSString *emailBody = @"<p>Here Your HTML Code</p>";                         
[mailController setMessageBody:emailBody isHTML:YES]; 
[self mailController animated:YES completion:NO]; 
```

实施委托

```
- (void)mailComposeController:(MFMailComposeViewController *)controller didFinishWithResult:(MFMailComposeResult)result error:(NSError *)error __OSX_AVAILABLE_STARTING(__MAC_NA,__IPHONE_3_0)
{
// Notifies users about errors associated with the interface

switch (result)

{
    case MFMailComposeResultCancelled:

        // message.text = @"Result: canceled";

        break;

    case MFMailComposeResultSaved:

        // message.text = @"Result: saved";

        break;

    case MFMailComposeResultSent:

        //   message.text = @"Result: sent";

        break;

    case MFMailComposeResultFailed:

        // message.text = @"Result: failed";

        break;

    default:

        //  message.text = @"Result: not sent";

        break;

}

[self dismissViewControllerAnimated:YES completion:NO];
} 
```

# ruby-on-rails - ruby on rails 中的下拉列表

> ID：15288979
> 
> 赞同：1
> 
> 时间：2013-03-08T07:37:50.120
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.1, ruby-on-rails-3.2

我想显示值以从数据库中下拉列表。为此，在我的控制器类中，我执行了以下操作以从 db 获取值并使其正确获取。

```
 @value = Message.find(:all)

<Message ID: 14448, SlNo: 609">, #<Message ID: 14448, SlNo: 610"> 
```

如何将 SlNo 值显示到下拉列表。这是正在使用的代码并出现错误！我不知道如何在 collection_select 中设置值。请帮助我！

```
<% @value.each do |d| %>
<%=collection_select(:value, :id, @value, :id, { selected: params.fetch(:value, {})[:id].to_i, :prompt => "-Select a device" }) %>
<% end %> 
```

表名获取

```
["UniqueDeviceID", "SlNo"] 
```

模型

```
class MessageDetail < ActiveRecord::Base
  # attr_accessible :title, :body

  set_table_name 'DeviceDetails'
set_primary_key 'SlNo'
end 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-08T07:41:52.710

代替

```
<% @value.each do |d| %>
  <%=collection_select(:value, :id, @value, :id, { selected: params.fetch(:device, {})[:id].to_i, :prompt => "-Select a device" }) %>
<% end %> 
```

采用

```
<%= collection_select :value, :id, @value, :id, :S1No, { selected: params.fetch(:device, {})[:id].to_i, :prompt => "-Select a device" } %> 
```

更新：传递参数的解释

*   :value = 您要更新的记录的符号表示，它也可能不是实例记录，而只是将在选择标记的命名约定中使用的符号
*   :id = 您要更新的列
*   @value = 显示选项的集合
*   :id = 您要使用的方法，它将作为所选值的值传递
*   :S1No = 将用作选择标签选项标签的方法

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-12T09:56:55.433

```
# START
f.collection_select :id, Message.all(:order => "name"), :id, :name, :include_blank => true
# END 
```

或者

```
# START
messages_arr = []    
messages = Message.all(:order => "name")
messages.each do |msg|
 messages_arr << [msg.name, msg.id]
end
f.select(:id, options_for_select(messages_arr), {:include_blank => 'Include All'}, {:class=>"span12"})
# END 
```

# javascript - 尝试在 iPad 上的 Safari ios 中关闭浏览器选项卡/窗口时提示

> ID：15288980
> 
> 赞同：0
> 
> 时间：2013-03-08T07:37:51.413
> 
> 标签：javascript, ios, ipad, events, cross-browser

我想在我的用户尝试离开我的网页（这是一个表单）后提示他们确认他们想离开。即用户尝试关闭浏览器选项卡/窗口，用户会弹出一个提示“您确定要离开吗？您的某些数据可能尚未保存。” 我在 stackoverflow 上看到适用于 IE、Firefox、Chrome 等浏览器的代码，但没有一个适用于 iPad 的 Safari ios。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T07:43:54.683

像这样检查：

```
var p=prompt('what dya say?',' ');
if(!p)// cancel was *probably* clicked
else if(p===' ')//ok was clicked with no input
else// 
```

# jquery - 在页面继续加载时将 JSON 推送到 HTML 页面

> ID：15288982
> 
> 赞同：-2
> 
> 时间：2013-03-08T07:37:57.400
> 
> 标签：jquery, asp.net, ajax, json, push

我正在使用 ASP.NET 和 C# 来构建一个处理多个步骤的页面。我有另一个 HTML 页面，它发起了对 ASP.NET 页面的请求。

我试图找出一种方法，让 ASP.NET 页面在整个 ASP.NET 的多个步骤中通过 JSON 将状态更新“推送”回 HTML 页面。HTML 页面随后将接收状态更新并更新用户关于 ASP.NET 页面正在做什么。如（步骤 1：完成）、（步骤 2：完成）等。

我最初的想法是，这可以通过使用像 Response.Flush() 这样的东西来完成。

我正在使用 jQuery 来处理和监控我的 AJAX 请求。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:50:51.313

*注意：*客户端应该发起 ajax 请求。页面无法*推*送到客户端

这是一般的想法：

```
var onCompleteStep1 = function() {
    status.hide().html('Step 1 complete!').fadeIn();

    // first step complete, begin step 2
    $.ajax({
        success: onCompleteStep2
        ...
    });
};
var onCompleteStep2 = function() {
    status.hide().html('Step 2 complete!').fadeIn();

    // second step complete, begin step 3
    $.ajax({
        success: onCompleteStep3
        ...
    });
};
var onCompleteStep3 = function() {
    status.hide().html('Step 3 complete!').fadeIn();
};

// start up first step
$.ajax({
    success: onCompleteStep1
    ...
}); 
```

这个想法是ajax成功回调，你想用你的“步骤1：完成”更新状态文本。

我做了一个简单的小提琴： http: [//jsfiddle.net/YdQys/](http://jsfiddle.net/YdQys/) 该示例通过使用按钮模拟了 ajax 成功回调。但这是一般的想法。

# c++ - 性能和 SSE 代码

> ID：15288984
> 
> 赞同：0
> 
> 时间：2013-03-08T07:38:04.440
> 
> 标签：c++, performance, assembly, x86, sse

我的 SSE 代码的性能存在问题。我尝试计算 Pi 数并使用[http://en.wikipedia.org/wiki/Leibniz_formula_for_%CF%80](http://en.wikipedia.org/wiki/Leibniz_formula_for_%CF%80)。因此，当我进行 1*10^11 次迭代时，我的性能（-100%）比没有 SSE 的代码更差。如果我进行 1*10^10 次迭代，我的性能比没有 SSE 的代码更好。

我使用 Visual Studio C++ 编译器和英特尔编译器（没有优化！）。当然，我可以使用带有优化的编译器（我会得到完美的结果），但我想了解哪里出了问题。

我尝试对齐数据（你可以看到它），我使用 VS C++ 编译器获得了更好的性能（-40% 而不是 -100%），但是使用英特尔编译器的性能我得到 -85% 而不是 -100 :) 我使用 getTickCount来衡量时间。

我的处理器是 AMD Turon X2 Dual-Core Mobile-RM74。可能是有道理的:)

我的 SSE 代码

```
 double *a = (double*) _mm_malloc(4 * sizeof(double  ), 16);
double *i = (double*) _mm_malloc(sizeof(double), 64); //good point
double *k = (double*) _mm_malloc(sizeof(double), 64);
double *result = (double*) _mm_malloc(sizeof(double), 64);
double *temp = (double*) _mm_malloc(sizeof(double), 64);
*temp = 0.0;
*result = 0.0;
*k = 1.0;
a[0] = 1;
a[1] = -1;
for (*i = 1; *i < 100000000000; *i += 2, *k += 4.0) {
        a[2] = *k;
        a[3] = *k + 2;
    __asm {
        mov eax, dword ptr a

        movapd XMM0, xmmword ptr [eax ]
        movapd XMM1, xmmword ptr [eax + 16]

        divpd XMM0, XMM1

        movapd XMM1, XMM0

        psrldq XMM1,8

        addpd   XMM0,XMM1  
        mov eax, dword ptr temp;

        movsd [eax], XMM0
    }

    *result += *temp;
}

*result = *result * 4.0; 
```

**定时**getTickcount。小姐。

```
intel + O       | 942901
intel - O       | 1273139
intel + sse + O | 948096 
intel + sse - O | 2354382 |(unaligned data)
VS + O          | 949079
VS - O          | 1106749
VS + SSE + O    | 968189
VS + SSE - O    | 2180067 | (unaligned data)
VS + SSE - O    | 1674201 | (aligned data)
intel + sse - O | 1921437 |(aligned data) 
```

# ruby-on-rails - has_man 通过多个来源

> ID：15288991
> 
> 赞同：10
> 
> 时间：2013-03-08T07:38:41.133
> 
> 标签：ruby-on-rails

我正在尝试`has_many through`与多个来源建立关系。

例如，一个游戏有一个`home_team`和`away_team`一个锦标赛有多个游戏。

使用 has_many through games 关系让所有球队参加比赛的最佳方法是什么。

现在我的代码如下所示：

```
class Tournament
  has_many :teams, :through => :games, :source => :home_team, :uniq => true
end 
```

但我想要一些方法让它表现得像：

```
class Tournament
  has_many :teams, :through => :games, :source => [:home_team, :away_team], :uniq => true
end 
```

编辑：多对多关系不是我的问题。有没有一种好方法可以让锦标赛中的所有球队都假设结构如下。

```
class Game
  has_and_belongs_to_many :tournaments
  belongs_to :home_team, :class_name => Team, :foreign_key => :home_team_id
  belongs_to :away_team, :class_name => Team, :foreign_key => :away_team_id
end

class Tournament
  has_and_belongs_to_many :games
end 
```

有办法`Tournament.teams`吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T01:27:12.840

在花了一些时间试图找到一个内置的解决方案后，我最终编写了一个名为 team in games 的自定义查询。它通过 team_1 和 team_2 将团队加入游戏两次，并检查是否有任何游戏 id 列表在这两个加入中的任何一个中。

这个解决方案不是很好，因为它需要多个查询（其中一个只是所有游戏 id 的巨大列表），但我花了很多时间试图想出另一种方法，但我做不到。至少这种方式有效。

我很想学习更好的方法。

游戏内代码：

```
def self.teams
  joined_tables = Team.joins(:home_team).joins(:away_team)
  joined_tables.where('games.id in (?) or  away_team_games.id in  (?)',
                   select(:id), select(:id)).uniq
end 
```

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2013-03-08T13:06:53.537

像这样定义模型：

```
class Tournament
  has_many :games
  has_many :teams, :through => :games
end

class Game
  belongs_to :torunament
  belongs_to :team
end

class Team
  has_many :games
  has_many :tournaments, :through => :games
end 
```

然后调用控制器或任何地方：

```
tournament.teams 
```

编辑：

您可以在模型中定义`scope`此类问题。`Tournament`这更像是一些自定义查询，而是由开箱即用的 rails 支持。或者至少我现在不记得了。

你可以看看如何使用它们。

[http://guides.rubyonrails.org/active_record_querying.html](http://guides.rubyonrails.org/active_record_querying.html) [http://apidock.com/rails/ActiveRecord/NamedScope/ClassMethods/scope](http://apidock.com/rails/ActiveRecord/NamedScope/ClassMethods/scope) [http://ablogaboutcode.com/2011/02/19/scopes-in-rails- 3/](http://ablogaboutcode.com/2011/02/19/scopes-in-rails-3/)

您可以建立一个可以获取所有团队的查询。您可以创建任何您喜欢的查询。

# math - Mathematica：方差[]定义

> ID：15288992
> 
> 赞同：0
> 
> 时间：2013-03-08T07:38:43.430
> 
> 标签：math, statistics, wolfram-mathematica, variance

帮助系统部分告诉我 Variance[] 函数等同于：

```
Total[(list-Mean[list])^2]/(Length[list]-1) 
```

但我认为正确的定义应该是：

```
Total[(list-Mean[list])^2]/(Length[list]) 
```

我想不通。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:40:41.477

两个定义都是正确的：

*   当总体均值*未知*时，第一个公式给出总体方差的无偏估计。

*   当总体均值*已知*时，第二个公式给出了总体方差的无偏估计。

当真实均值未知且必须从数据中估计时，第二个公式将系统地低估方差。*直觉是，给定样本在估计*均值附近的离散度往往低于*真实*均值附近的离散度。分母中的 in 对此`-1`进行了校正。

请参阅[方差的点估计](http://www.statlect.com/variance_estimation.htm)。

# javascript - Javascript计算器不断将计算结果与输入的第一个数字连接起来以进行下一次计算

> ID：15288994
> 
> 赞同：3
> 
> 时间：2013-03-08T07:38:53.770
> 
> 标签：javascript, html

```
<body>
<FORM NAME="Calculator">
<TABLE BORDER=4>
<TR>
<TD>
<input type="text"   name="Input" Size="22" value="">

<br>
</TD>
</TR>
<TR>
<TD>
<INPUT TYPE="button" NAME="one"   VALUE="1" class ="digit" >
<INPUT TYPE="button" NAME="two"   VALUE="2" class ="digit" >
<INPUT TYPE="button" NAME="three" VALUE="3" class ="digit" >
<INPUT TYPE="button" NAME="plus"  VALUE="+" class ="operand">
<br>
<INPUT TYPE="button" NAME="four"  VALUE="4" class ="digit">
<INPUT TYPE="button" NAME="five"  VALUE="5" class ="digit">
<INPUT TYPE="button" NAME="six"   VALUE="6" class ="digit">
<INPUT TYPE="button" NAME="minus" VALUE="-" class="operand">
<br>
<INPUT TYPE="button" NAME="seven" VALUE="7" class ="digit">
<INPUT TYPE="button" NAME="eight" VALUE="8" class ="digit">
<INPUT TYPE="button" NAME="nine"  VALUE="9" class ="digit">
<INPUT TYPE="button" NAME="times" VALUE="*" class ="operand">
<br>
<INPUT TYPE="button" NAME="clear" VALUE="c" class ="special">
<INPUT TYPE="button" NAME="zero"  VALUE="0" class ="digit">
<INPUT TYPE="button" NAME="Execute"  VALUE="=" class ="solve">
<INPUT TYPE="button" NAME="div"   VALUE="/" class ="operand">
<br>
</TD>
</TR>
</TABLE>
</FORM>

<script type = "text/javascript" src="C:\Users\Quonn\Desktop\QBJS\calculatorjs.js">
</script>
</body> 
```

我正在构建一个可配置的计算器，但我的逻辑中有一些/让它完全按照我想要的方式运行。我有两个问题。

**问题＃1：**我怎样才能改变我的逻辑，以便我可以替换“邪恶的评估”？

```
var timer;
document.onclick = function(x) {
var info = x.target;
clearTimeout(timer);
 timer= setTimeout(function(){addDigit(x);},200);
} 
```

**问题 #2**：如何更改我在此函数中的逻辑，以便在显示计算结果后，为下一次计算输入的第一个数字不只是连接到前一次计算的结果？

```
function addDigit(x){
if (x.target.className === "digit" || x.target.className ==="operand") {
    document.Calculator.Input.value += "" + x.target.value;
}

else if (x.target.className === "solve") {
    result = eval(document.Calculator.Input.value);
    document.Calculator.Input.value = result;
}
else  {
   document.Calculator.Input.value = "";
}

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T08:07:19.620

您正在连接字符串。你应该看看[parseInt](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/parseInt) / [parseFloat](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/parseFloat)；注意基数，否则 JavaScript 会尝试猜测它...

# php - 我有一个字符串，我想使用 php 加密/解密，但加密的输出应该是小写字母数字

> ID：15288997
> 
> 赞同：-6
> 
> 时间：2013-03-08T07:39:07.120
> 
> 标签：php, security

我有一个字符串，我想使用 php 加密/解密，但加密后的转换输出只能是小写字母和数字。例如：“ae3ab9f41a8c737b1f81c0b5”。后来我应该能够解密它

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T07:43:23.997

按照您认为合适的方式进行加密。使用 Base32 编码。

通过将 Base32 流转换回原始编码进行解密，然后通过您选择的解密方法运行生成的字符串。

编辑：为什么我被否决了？是因为我没有在银盘上喂他代码吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-08T07:44:39.240

试试这个：

PHP Base32 解码器：http: [//php-classes.de/class/base32/](http://php-classes.de/class/base32/)

这只会生成小写字母。

# http - 找不到图像，提供图像占位符，但我使用什么状态码？

> ID：15288998
> 
> 赞同：2
> 
> 时间：2013-03-08T07:39:08.107
> 
> 标签：http

如果我正在处理对不存在的图像的请求并且我想提供丢失的图像占位符，那么哪个 http 状态代码更合适：302（临时移动）或仅 200（正常）？