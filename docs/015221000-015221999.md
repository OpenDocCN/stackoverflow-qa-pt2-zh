# StackOverflow 问答 15221000-15221999

# android - 应用程序的服务仍在运行时应用程序对象消失了吗？

> ID：15221002
> 
> 赞同：-4
> 
> 时间：2013-03-05T10:06:33.227
> 
> 标签：android, android-lifecycle

我`Application`在我的应用程序中对对象进行了子类化，并且我非常确信只要**任何**应用程序组件（`Activity`而且`Service`）在使用中，它就会保持活动状态。但是我现在正在观察我看到我`Service`一直在运行的情况，但是当我尝试访问应用程序时（`Service`发布正在进行的通知，当点击重定向到应用程序时`Activity`），`Application`正在再次创建对象（它的`onCreate()`）。这通常发生在应用程序长时间不使用时（因此它的所有活动都没有使用，但仍`Service`保持运行）。所以我的问题是：我是否错过了一些与应用程序对象或其生命周期相关的基本内容，我无法在文档中发现？

**编辑：**当应用程序处于“空闲”状态时意味着用户没有使用它，但如果有服务发布意味着一些任务正在执行，包括。将设备位置发布到 Web 服务。该设备并不缺乏内存来证明正在运行的应用程序被杀死是合理的，并且根据我的观察，只有在某些时间没有用户交互（足够长的时间来调试这个相当 PITA）时才会发生这种情况。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-05T13:33:38.427

> 所以我的问题是：我是否错过了一些与应用程序对象或其生命周期相关的基本内容，我无法在文档中发现？

不，但是您的过程在此过程中已重新启动。该`Application`对象永远不会被丢弃，除非整个过程终止。

> 该设备内存不足，无法证明正在运行的应用程序被杀

Android 有自己的算法来确定将服务承载进程保留多长时间。这个过程不会无限期地存在。操作系统不会考虑您认为“合理”的内容。

# java-ee-6 - IceFaces 中的 selectOneMenu 和 textEntry

> ID：15221014
> 
> 赞同：0
> 
> 时间：2013-03-05T10:06:49.207
> 
> 标签：java-ee-6, icefaces, selectonemenu, ace-editor, ice

我对 IceFaces 有疑问，我尝试更改 ace:textEntry 取决于在 ice:selectOneMenu 上选择的项目。

我也不需要去新页面，我希望它是 AJAX 并且每次我更改它时都会刷新。我尝试这样做：

```
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:ice="http://www.icesoft.com/icefaces/component"
xmlns:ace="http://www.icefaces.org/icefaces/components"
xmlns:icecore="http://www.icefaces.org/icefaces/core">

<f:view>

        <ice:selectOneMenu partialSubmit="true" onchange="submit()"
            value="#{testBean.selectedItem}"
            valueChangeListener="#{testBean.selectionChanged}"
            immediate="true">

            <f:selectItems value="#{testBean.standardList}"
                var="itemValue" itemLabel="#{itemValue}"
                itemValue="#{itemValue}" />
        </ice:selectOneMenu>

        <ace:textEntry labelPosition="left" label="Output text: " id="output" value="#{testBean.outputItem}" >  
        <ace:ajax render="@this"/>
        </ace:textEntry>
</f:view> 
```

**和豆：**

```
import java.util.Arrays;
import java.util.List;

import javax.faces.bean.CustomScoped;
import javax.faces.bean.ManagedBean;
import javax.faces.event.ValueChangeEvent;
import javax.inject.Inject;

import org.slf4j.Logger;

@ManagedBean
@CustomScoped(value = "#{window}")
public class TestBean {

@Inject
private Logger logger;

private String selectedItem;
private String outputItem;

private List<String> standardList = Arrays.asList("Artur","Adam","Mirek");

public void selectionChanged(ValueChangeEvent e){
    this.outputItem = this.selectedItem;
    logger.info(this.outputItem);
}

public String getSelectedItem() {
    return selectedItem;
}

public void setSelectedItem(String selectedItem) {
    this.selectedItem = selectedItem;
}

public List<String> getStandardList() {
    return standardList;
}

public void setStandardList(List<String> standardList) {
    this.standardList = standardList;
}

public String getOutputItem() {
    return outputItem;
}

public void setOutputItem(String outputItem) {
    this.outputItem = outputItem;
} 
```

但它不起作用，有什么解决办法吗？非常感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T03:07:42.510

首先，你`ace:ajax`的位置不对。它应该在`ice:selectOneMenu`.

其次，我建议`ice:selectOneMenu`您使用`h:selectOneMenu`. 随着时间的推移，我了解到，当您不使用任何来自`ice`. 混合`h`和`ace`工作得很好。

我创建了一个像你这样的示例项目，我能够让它像这样工作：

```
<h:form>
    <h:selectOneMenu value="#{Bean.valueOutput}">
        <f:selectItems value="#{Bean.values}" />
        <f:ajax event="change" render="output"/>
    </h:selectOneMenu>

    <ace:textEntry labelPosition="left" label="Output text: " id="output" value="#{Bean.valueOutput}" />
</h:form> 
```

Bean.java 中没有什么特别之处，只有普通的声明和 get/set。

*使用 ICEfaces 3.2 和 JSF 2.1.6 测试。*

# android - android中的tableview和listview

> ID：15221017
> 
> 赞同：0
> 
> 时间：2013-03-05T10:06:55.257
> 
> 标签：android, listview, tableview

我已成功使用表格视图将 mysql 中的数据显示到我的 android 应用程序中，但我想将该信息显示到列表视图中，以便我可以使其可点击，然后它可以进入新活动。问题是我不知道该怎么做，我在这里发布 java 和 xml 代码

postoffer.java

```
public class PostedOffer extends Activity{String data = "";
TableLayout tl;
TableRow tr;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.postedoffer);

    tl = (TableLayout) findViewById(R.id.maintable);

    final GetDataFromDB getdb = new GetDataFromDB();
    new Thread(new Runnable() {
        public void run() {
            data = getdb.getDataFromDB();
            System.out.println(data);

            runOnUiThread(new Runnable() {

                @Override
                public void run() {
                    ArrayList<Users> users = parseJSON(data);
                    addData(users);                     
                }
            });

        }
    }).start();
}

public ArrayList<Users> parseJSON(String result) {
    ArrayList<Users> users = new ArrayList<Users>();
    try {
        JSONArray jArray = new JSONArray(result);
        for (int i = 0; i < jArray.length(); i++) {
            JSONObject json_data = jArray.getJSONObject(i);
            Users user = new Users();
            user.setCity(json_data.getString("city"));
            user.setSource(json_data.getString("source"));
            user.setDestination(json_data.getString("destination"));
            users.add(user);
        }
    } catch (JSONException e) {
        Log.e("log_tag", "Error parsing data " + e.toString());  
    }
    return users;
}

void addHeader(){
    /** Create a TableRow dynamically **/
    tr = new TableRow(this);

    /** Creating a TextView to add to the row **/
    //City
    TextView city = new TextView(this);
    city.setText("City");
    city.setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));
    city.setPadding(5, 5, 5, 5);
    city.setBackgroundColor(Color.RED);
    LinearLayout Ll = new LinearLayout(this);
    LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT);
    params.setMargins(5, 5, 5, 5);
    //Ll.setPadding(10, 5, 5, 5);
    Ll.addView(city,params);
    tr.addView((View)Ll); // Adding textView to tablerow.

    // Source
    TextView place = new TextView(this);
    place.setText("Source");
    place.setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));
    place.setPadding(5, 5, 5, 5);
    place.setBackgroundColor(Color.RED);
    Ll = new LinearLayout(this);
    params = new LinearLayout.LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT);
    params.setMargins(0, 5, 5, 5);
    //Ll.setPadding(10, 5, 5, 5);
    Ll.addView(place,params);
    tr.addView((View)Ll); // Adding textview to tablerow.

    // Destination
    TextView destination = new TextView(this);
    destination.setText("Destination");
    destination.setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));
    destination.setPadding(5, 5, 5, 5);
    destination.setBackgroundColor(Color.RED);
    Ll = new LinearLayout(this);
    params = new LinearLayout.LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT);
    params.setMargins(0, 5, 5, 5);
    //Ll.setPadding(10, 5, 5, 5);
    Ll.addView(destination,params);
    tr.addView((View)Ll); // Adding textview to tablerow.

     // Add the TableRow to the TableLayout
    tl.addView(tr, new TableLayout.LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT));
}

@SuppressWarnings({ "rawtypes" })
public void addData(ArrayList<Users> users) {

    addHeader();

    for (Iterator i = users.iterator(); i.hasNext();) {

        Users p = (Users) i.next();

        /** Create a TableRow dynamically **/
        tr = new TableRow(this);

        // City
        TextView city = new TextView(this);
        city.setText(p.getCity());
        city.setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));
        city.setPadding(5, 5, 5, 5);
        city.setBackgroundColor(Color.GRAY);
        LinearLayout Ll = new LinearLayout(this);
        LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT);
        params.setMargins(5, 2, 2, 2);
        //Ll.setPadding(10, 5, 5, 5);
        Ll.addView(city,params);
        tr.addView((View)Ll); // Adding textView to tablerow.

        // Source
        TextView source = new TextView(this);
        source.setText(p.getSource());
        source.setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));
        source.setPadding(5, 5, 5, 5);
        source.setBackgroundColor(Color.GRAY);
        Ll = new LinearLayout(this);
        params = new LinearLayout.LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT);
        params.setMargins(0, 2, 2, 2);
        //Ll.setPadding(10, 5, 5, 5);
        Ll.addView(source,params);
        tr.addView((View)Ll); // Adding textview to tablerow.

        // Destination
        TextView destination = new TextView(this);
        destination.setText(p.getDestination());
        destination.setLayoutParams(new LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT));
        destination.setPadding(5, 5, 5, 5);
        destination.setBackgroundColor(Color.GRAY);
        Ll = new LinearLayout(this);
        params = new LinearLayout.LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT);
        params.setMargins(0, 2, 2, 2);
        //Ll.setPadding(10, 5, 5, 5);
        Ll.addView(destination,params);
        tr.addView((View)Ll); // Adding textview to tablerow.

        // Add the TableRow to the TableLayout
        tl.addView(tr, new TableLayout.LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT));
    }
}}class GetDataFromDB {

public String getDataFromDB() {
    try {
        String email=LoginActivity.get();
        HttpGet httppost;
        HttpClient httpclient;
        httpclient = new DefaultHttpClient();
        httppost = new HttpGet("http://10.0.2.2/ersindia/GetUsers.php?param="+email); // change this to your URL.....
        ResponseHandler<String> responseHandler = new BasicResponseHandler();
        final String response = httpclient.execute(httppost, responseHandler);
        return response.trim();
    }
    catch (Exception e) {
        System.out.println("ERROR : " + e.getMessage());
        return "error";
    }
}}class Users {

String city;
String source;
String destination;

public String getCity() {
    return city;
}
public void setCity(String city) {
    this.city = city;
}
public String getSource() {
    return source;
}
public void setSource(String source) {
    this.source = source;
}
public String getDestination() {
    return destination;
}
public void setDestination(String destination) {
    this.destination = destination;
}} 
```

postoffer.xml

```
<?xml version="1.0" encoding="utf-8"?><RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical"
android:background="#3b3b3b"
android:padding="10dip" >    
<TextView android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:text="Your Offers"
    android:textSize="30dip"
    android:gravity="center" />

<ScrollView
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:fillViewport="true"
android:scrollbars="none"
android:layout_below="@+id/textView1">

    <TableLayout
        android:layout_width="wrap_content"
        android:layout_height="0dp"
        android:stretchColumns="1,0,0"
        android:id="@+id/maintable" >
    </TableLayout>
</ScrollView> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:17:29.843

只需取一个`Listview`并将其分配给列表视图。

```
 for (int i = 0; i < jArray.length(); i++) {  
     //  just get all the values in the array

    }
 adapter = new ArrayAdapter<String>(this,
        android.R.layout.simple_list_item_1, android.R.id.text1,yourArray);
 listview.setAdapter(adapter); 
```

# url - Drupal 7 将数据发布到外部 url

> ID：15221022
> 
> 赞同：0
> 
> 时间：2013-03-05T10:07:07.687
> 
> 标签：url, drupal-7, http-post, external, http-get

任何人都可以就如何实现程序化 POST 请求提供一些指导吗？

我开发了一个模块，它需要将数据发送到外部 URL 作为其功能的一部分。

为此，我使用以下代码：

```
drupal_goto("https://external.secure.co.uk", array(
                'query' => array(
                    'nid'=>$submission->nid, 
                    'sid'=>$submission->sid
                ),
            )); 
```

这成功运行并将我的用户重定向到以下网址：

```
https://external.secure.co.uk?nid=271&sid=57 
```

**唯一的问题是我的数据是作为 GET 请求发送的。出于安全原因，我需要找到一个解决方案，允许我在 POST 请求中发送数据。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:43:19.370

看看`[drupal_http_request]`：[http ://api.drupal.org/api/drupal/includes!common.inc/function/drupal_http_request/7](http://api.drupal.org/api/drupal/includes!common.inc/function/drupal_http_request/7)

# java - 独立于容器的自定义领域（例如用于 Tomcat 和 Jetty）

> ID：15221024
> 
> 赞同：2
> 
> 时间：2013-03-05T10:07:10.427
> 
> 标签：java, tomcat, authorization, jetty

我想将我网站的现有数据库用户身份验证与例如 Tomcat 和 Jetty 的身份验证机制联系起来。目的是保护使用数据库中的用户访问“管理”区域中的某些 JSP。据我所知，用于身份验证的 Java 接口没有标准化，只有 XML 配置（？）。

这意味着如果我为 Tomcat 使用身份验证实现（例如`JDBCRealm`或自定义`RealmBase`），我将无法再在 Jetty 上运行我的 Web 应用程序。

我该如何解决这个问题？有谁知道例如一个好的框架作为抽象层？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T10:53:35.530

您可以为此使用[Spring Security](http://www.springsource.org/spring-security)，并且仍然能够在 Tomcat 或 Jetty 中运行应用程序。

Spring Security 允许您指定要保护的页面，强制用户登录。然后，它允许您编写一个自定义登录方法，该方法实际上可以做任何您想做的事情。在您的情况下，这将访问数据库以对用户进行身份验证。

我会推荐 Spring，因为它非常流行，并且在您的情况下，它可以在 Tomcat 和 Jetty（或其他应用程序服务器）上运行。

有关如何实现此功能的更多详细信息，我会推荐文档（请参阅链接）或那里的众多教程之一。

# php - 条件 sprintf codeigniter php

> ID：15221025
> 
> 赞同：2
> 
> 时间：2013-03-05T10:07:10.997
> 
> 标签：php, xml, codeigniter, printf

我们正在基于相同的 codeigniter 代码库创建 2 个应用程序。这两个应用程序都使用基于语言的 XML 文件（我们不能使用本机 CI 语言库），因此每个应用程序的每种语言都有一个 XML 文件。

在这些 XML 文件中是文本，根据您正在查看的应用程序，这些文本在输出时会采用不同的格式。（我们正在使用简单的 XML 加载 XML，然后按名称输出所需的元素）

应用程序 1 的示例 XML 提取可能是：

```
<instructions>
    <instruction>**<strong>**Lorem ipsum dolor sit**</strong>** amet, consectetur adipisicing elit, sed doeiusmod tempor incididunt ut labore et dolore magna aliqua</instruction>
</instructions> 
```

示例应用程序 2 提取可能是：

```
<instructions>
    <instruction>Lorem ipsum dolor sitamet, consectetur adipisicing elit, sed doeiusmod tempor incididunt ut labore et **<br /><br />**dolore magna aliqua</instruction>
</instructions> 
```

基本上，这些 XML 文件在 PHP 中输​​出时需要包含不同的标记来格式化它们。上面的两个示例都将作为 $app->instructions->instruction 回显。

目前，我已经使用 CDATA 占位符实现了格式的变化，然后我 sprintf 并替换了这些占位符。但是，在我看来，这不够灵活，需要 sprintf 函数中的多个参数来替换可能是大量标记元素的内容。到目前为止，我最需要替换的是 6 个 CDATA 令牌。

由于我还必须根据正在加载的应用程序使 sprintf 成为有条件的，因此这一点更加复杂。更糟糕的是，我选择在控制器中执行此操作，以免不必要的 PHP 污染 HTML。

切入正题，我想实现以下目标：

*   XML 没有 HTML 标记
*   HTML 不使用 PHP，或者至少尽量减少使用 PHP
*   控制器内绝对没有 HTML

似乎我正在以我尝试的方式妥协其中之一。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T13:24:26.283

你的问题是边缘回答它，但我还是尝试。你提出了三个要求：

1.  XML 没有 HTML 标记
2.  HTML 不使用 PHP，或者至少尽量减少使用 PHP
3.  控制器内绝对没有 HTML

要使 XML 远离 HTML 标记，请不要在其中放置任何 HTML 标记。或者，如果您想在其中包含 HTML，请对其进行正确编码。与 CDATA 或只是 XML 实体一样：

```
<instructions>
  <instruction>
    &lt;strong&gt;Lorem ipsum dolor sit&lt;/strong&gt; amet, consectetur 
    adipisicing elit, sed doeiusmod tempor incididunt ut labore et dolore magna
    aliqua
  </instruction>
</instructions> 
```

XML 对此完全没有问题，您也应该没有任何问题来获取该值。所以对于 1.)。

对于 2.) 我不明白你的意思。如果你想保持 PHP 的清晰，不要在里面放任何 PHP。如果您将 PHP 放入其中，您需要了解您也需要对其进行编码（如 HTML），否则您将创建所谓的处理指令 (pi)，这本身可能没有任何问题，但是在获取数据时您可能遇到问题。但无论如何，由于这些翻译是静态数据，所以无论如何您都不应该在其中放置任何 PHP。

处理该静态数据的逻辑很可能属于视图和/或控制器。

对于 3.) 只是不要将任何 HTML 放入控制器中，您应该可以继续使用（将其放入 Codeigniter 人员所称的视图中，即 Codeigniter 中 HTML 模板的组件）。

# c - C Loop : 打印印度地图

> ID：15221026
> 
> 赞同：-2
> 
> 时间：2013-03-05T10:07:18.330
> 
> 标签：c, for-loop

我正在编辑这个问题，因为我不允许添加新问题。

我发现这个程序的打印效果很棒，但不明白它是如何工作的。请帮助我理解其背后的逻辑。

```
#include <stdio.h>
int main()
{
   int a,b,c;
   int count = 1;
   for (b=c=10; a="- FIGURE?, UMKC,XYZHello Folks,\
                   TFy!QJu ROo TNn(ROo)SLq SLq ULo+\
                   UHs UJq TNn*RPn/QPbEWS_JSWQAIJO^\
                   NBELPeHBFHT}TnALVlBLOFAkHFOuFETp\
                   HCStHAUFAgcEAelclcn^r^r\\tZvYxXy\
                   T|S~Pn SPm SOn TNn ULo0ULo#ULo-W\
                   Hq!WFs XDt!" [b++ +21]; )
         for(; a-- > 64 ; )
              putchar (( ++c == 'Z') ? c = c /9 : 33^b&1);
  return 0;
} 
```

输出屏幕截图是

![在此处输入图像描述](../Images/80fb8fed8dfce2a092950cf7af9217ef.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:23:41.103

tab 键通常会被对话框管理器吞下，因为它用于将焦点从一个控件移动到另一个控件（即`IsDialogMessage`，`DialogBox`函数作为其内部消息循环的一部分调用的调用将过滤掉 tab 键按下而不让它通过到您的对话过程）。

我可以想到有几种方法可以解决这个问题，但我建议您可能应该选择另一个键来打开/关闭对话框，因为选项卡在 Windows 中已经具有众所周知且定义明确的含义。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T11:44:39.063

请阅读它声明的 msdn 的“EndDialog”描述：

> EndDialog 不会立即销毁对话框。相反，它设置一个标志并允许对话框过程将控制权返回给系统。系统在尝试从应用程序队列中检索下一条消息之前检查该标志。如果设置了标志，则系统结束消息循环，销毁对话框，并使用 nResult 中的值作为创建对话框的函数的返回值。

[http://msdn.microsoft.com/en-us/library/windows/desktop/ms645472%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms645472%28v=vs.85%29.aspx)

# php - 解析 PHP Curl 的内容

> ID：15221036
> 
> 赞同：-1
> 
> 时间：2013-03-05T10:07:47.620
> 
> 标签：php, parsing, curl

我对 PHP（早期入门级）相当陌生。我正在用 php 卷曲一个网页。但是我需要一个变量。

在终端中，我将页面卷曲到一个 txt 文件。文本文件是：

```
<input type="hidden" name="studentid" value="23019bdisakd" /></form> 
```

我需要 23019bdisakd 。在终端中，我执行以下操作：

```
grep "studentid" | tr -d '\"' | cut -d"=" -f4 | cut -d"/" -f1 | tr -d '\n' ; 
```

它可以做到。

但是，现在我需要在 PHP 中进行

是）我有的：

```
 $url = "www.hereisthewebpage.com";
 $ch = curl_init();
 curl_setopt($ch, CURLOPT_URL, $url);
 curl_setopt ($ch, CURLOPT_RETURNTRANSFER, 1);
 $lines = curl_exec ($ch);
 curl_close ($ch); 
```

我做了一些研究，发现了 parse_str()。我将如何使用它？我编造了以下内容： $StudentID= lines | grep "wosid" | tr -d '\"' | cut -d"=" -f4 | cut -d"/" -f1 | tr -d '\n' ; 但我 99% 这不是正确的方法。

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T10:12:05.347

我会用正则表达式。

类似的东西

```
$pattern = '/value="([a-zA-Z0-9]*)"/';
preg_match($pattern, $lines, $matches);

$studentId = $matches[0]; 
```

# delphi - 具有可变高度行的 TVirtualTreeView：滚动伪影

> ID：15221037
> 
> 赞同：3
> 
> 时间：2013-03-05T10:07:47.630
> 
> 标签：delphi, delphi-xe2, virtualtreeview

我将[VirtualTreeView](https://code.google.com/p/virtual-treeview/)与`OnMeasureItem`事件一起使用来显示可变大小的行。问题是事件似乎只有在绘制一行时才被调用（遵循虚拟范例）。但这会导致滚动条显示不正确。如果我滚动到底部（通过用鼠标拖动滚动框，而不是单击顶部或底部的滚动按钮），则不会显示最后一行（这是我所期望的），而是显示中间的某些行。之后，滚动条被更新，我可以进一步向下滚动。似乎组件使用`DefaultNodeHeight`来进行滚动计算。但由于我的行具有可变高度，我无法指定`DefaultNodeHeight`会导致正确结果的行。选项`toVariableNodeHeight`已启用。

以前有没有人经历过这种情况，也许找到了解决方法？还是我做错了？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-05T15:47:32.477

您需要设置`DefaultNodeHeight`为您将使用的最大值，并`OnMeasureItem`为当前节点设置自定义高度值。[此处](https://stackoverflow.com/questions/2839397/how-to-reliably-scroll-virtual-treeview-to-the-bottom/2840080#2840080)描述了类似的问题。

# java - 在 Java 中使用不同的打印机打印 .PDF 文件

> ID：15221044
> 
> 赞同：5
> 
> 时间：2013-03-05T10:08:05.667
> 
> 标签：java, printing, jdeveloper, printers, network-printers

我正在尝试为企业系统编写集成。

有一个 Web 服务器被来自两个不同地方的许多客户使用。此服务器上安装了两台网络打印机。

我想要做的是将 PDF 文档打印到这些打印机上。我希望程序将文档发送到请求的打印机。

我可以确定发出请求的位置。但是我无法在运行时设置默认打印机。

**由于它是在后台运行的 Web 服务器，因此我无法填充打印机对话框并让用户选择打印机。我必须能够设置将以编程方式使用的打印机。**

目前，我可以通过使用查看系统上注册的打印机， `PrinterJob.lookupPrintServices();`并且可以使用请求的打印机设置服务，但这不会更改默认打印机，系统会继续在默认打印机上打印。

请给我你的想法如何实现它。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-06T14:32:07.040

通过在网络上进行更多研究，我解决了我的问题。我在这里为可能需要它的其他人提供它；

我从这个网站得出了解决方案：

[http://webmoli.com/2008/11/03/java-print-pdf/](http://webmoli.com/2008/11/03/java-print-pdf/)

注意：您需要将[PdfRenderer](https://code.google.com/p/configurable-pdf-printing-library/downloads/detail?name=PDFRenderer.jar&can=2&q=) .jar 库安装到您的项目中以运行网站中给出的代码：此处最初在 PrintPdf.java 中的代码没有给出我的解决方案，但是作者在评论部分添加了一个方法来设置不同的打印机在运行时打印。

方法是：

```
/**
* Sets the printer service to be used for printing
*
* @param argPrintServiceName
* @throws PrinterException
*/
public void setPrintService(String argPrintServiceName) throws PrinterException {
PrintService[] printServices = PrinterJob.lookupPrintServices();
int i;
for (i = 0; i < printServices.length; i++) {
if (printServices[i].getName().equalsIgnoreCase(argPrintServiceName)) {
printerJob.setPrintService(printServices[i]);
break;
}
}
if (i == printServices.length) {
throw new PrinterException(“Invalid print service name: ” + argPrintServiceName);
}
} 
```

您需要对此方法进行一些更改。由于printerJob 不是全局变量，它不会影响打印。为此，将此方法的返回参数设置为 PrintService：

```
 public static PrintService setPrintService(String argPrintServiceName) throws PrinterException {
        PrintService psr = null;
    PrintService[] printServices = PrinterJob.lookupPrintServices();
    int i;
    for (i = 0; i < printServices.length; i++) {
    if (printServices[i].getName().equalsIgnoreCase(argPrintServiceName)) {
        psr = printServices[i];          
    break;
    }
    }
    if (i == printServices.length) {
    throw new PrinterException("Invalid print service name: " + argPrintServiceName);
    }
    return psr;
    } 
```

在 main 方法中调用如下方法：

```
PrintService ps = setPrintService("Printer Name Here"); 
```

现在，您需要将此服务发送到其他方法；

改变这个：

```
PrintPdf printPDFFile = new PrintPdf(fis, "Test Print PDF"); 
```

到

```
PrintPdf printPDFFile = new PrintPdf(fis, "Test Print PDF", ps); 
```

这些是您需要更改的其他方法：

```
public PrintPdf(byte[] content, String jobName, PrintService ps) throws  
        IOException, PrinterException 
        {
        initialize(content, jobName, ps);
    } 

 public PrintPdf(InputStream inputStream, String jobName, PrintService ps)
    {
     *
     *
     initialize(pdfContent, jobName, ps);
    } 
```

在分配 pjob 后添加这行代码：`pjob.setPrintService(ps);`

```
private void initialize(byte[] pdfContent, String jobName, PrintService ps) throws      
 IOException, PrinterException 
 {
  *
  *
        pjob = PrinterJob.getPrinterJob();
        pjob.setPrintService(ps);
  *
  *
  ...
 } 
```

此代码完美运行，并且能够直接打印 PDF。

# visual-studio-2010 - Sharepoint 2010 使用 UI 构建解决方案，然后导出为 wsp 模板，以部署在新环境中

> ID：15221046
> 
> 赞同：1
> 
> 时间：2013-03-05T10:08:07.857
> 
> 标签：visual-studio-2010, sharepoint-2010

我在 Sharepoint 2010 中使用 UI 构建了一个解决方案。解决方案包括创建一个新站点，作为使用团队站点模板的子站点。然后我添加了以下工件：

*   几个自定义列
*   2 使用上述列的自定义内容类型
*   使用我上面的内容类型的文档库
*   为上述文档库创建的几个自定义视图
*   1 可重用的工作流程（这是使用 sharepoint Designer 2010 开发的）
*   3 列出工作流程，使用“三态工作流程”模板
*   自定义站点导航（快速启动）
*   网站首页自定义
*   一些安全组
*   将用户添加到组

然后我将该站点导出为 wsp 模板，将其下载到本地驱动器。

我将它导入到 Visual Studio 2010 中，然后将部署方法更改为“农场解决方案”（不是沙盒解决方案）并将其打包。

我必须部署到新的共享点环境（新服务器），但到目前为止，功能激活存在问题（总共 5 个功能）。包含模块元素的功能有问题。

知道如何解决这个问题吗？

知道如何简化此过程以避免部署问题吗？

# django - Virtualenv PyCrypto 无法导入 Crypto 模块化

> ID：15221047
> 
> 赞同：0
> 
> 时间：2013-03-05T10:08:13.780
> 
> 标签：django, cryptography, virtualenv, pip, pycrypto

Python，Django 1.3.5
我正在使用 virtualenv，sudo pip install PyCrypto==2.6，它成功了。
但是Django的错误：

```
Traceback (most recent call last):
File "/Users/zhanglei/Develop/medweb-env/lib/python2.7/site-packages/django/core/servers/basehttp.py", line 283, in run
self.result = application(self.environ, self.start_response)
File "/Users/zhanglei/Develop/medweb-env/lib/python2.7/site-packages/django/core/handlers/wsgi.py", line 272, in __call__
response = self.get_response(request)
File "/Users/zhanglei/Develop/medweb-env/lib/python2.7/site-packages/django/core/handlers/base.py", line 169, in get_response
response = self.handle_uncaught_exception(request, resolver, sys.exc_info())
File "/Users/zhanglei/Develop/medweb-env/lib/python2.7/site-packages/django/core/handlers/base.py", line 214, in handle_uncaught_exception
if resolver.urlconf_module is None:
File "/Users/zhanglei/Develop/medweb-env/lib/python2.7/site-packages/django/core/urlresolvers.py", line 274, in _get_urlconf_module
self._urlconf_module = import_module(self.urlconf_name)
File "/Users/zhanglei/Develop/medweb-env/lib/python2.7/site-packages/django/utils/importlib.py", line 35, in import_module
__import__(name)
File "/Users/zhanglei/Develop/medweb/urls.py", line 9, in <module>
from website.views import index, home, login, register, read_verify_code, clinic_problems, \
File "/Users/zhanglei/Develop/medweb/website/views.py", line 13, in <module>
from api.views import alipay_data_process
File "/Users/zhanglei/Develop/medweb/api/views.py", line 26, in <module>
from api.alipay import check_with_rsa_ali, parse_notify_data, decrypt_with_rsa_chunyu
File "/Users/zhanglei/Develop/medweb/api/alipay/__init__.py", line 2, in <module>
from Crypto import Signature
ImportError: No module named Crypto 
```

但是当我在本地环境上安装 pycrypto 时，它可以通过 python 导入。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T03:59:52.740

当您使用 sudo 时，它以 root 身份运行并安装在系统目录中。当您在 virtualenv 中时，您想以普通用户身份运行它：

```
source medweb-env/bin/activate
pip install pycrypto==2.6 
```

# sql-server - 使用经典 asp 查询工作非常慢，但使用 asp.net 很好

> ID：15221050
> 
> 赞同：0
> 
> 时间：2013-03-05T10:08:32.373
> 
> 标签：sql-server, asp-classic

我有一个奇怪的情况。我们有一个传统的经典 asp 应用程序，它在后台使用 sql server 2008 R2，而 asp.net 应用程序使用与前一个相同的数据库。

来自经典 asp 的所有查询都非常缓慢，而来自 asp.net 的查询运行良好。相同的数据库，相同的用户，相同类型的查询，但经典的 asp 非常非常慢。

有什么想法可能导致这种情况吗？我们的服务器是 Win 2008 R2、SQL Server 2008 R2、IIS 7.5。IIS 和 SQL Server 在同一台机器上。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:17:17.760

尝试更改引用实例的方式。如果您将其引用为 computer_name\instance 或 (local)\instance，请尝试将服务器更新为 127.0.0.1。

您还需要在 sql server 配置管理器中更新您的 sql server 网络设置，以使 sql server 能够在此地址上工作。

# asp.net - Sitecore - 使用代理构建 URL

> ID：15221069
> 
> 赞同：0
> 
> 时间：2013-03-05T10:09:17.903
> 
> 标签：asp.net, sitecore, sitecore6

我有一个电子邮件发送类，当激活项目时，它会生成一个指向仪表板的链接，如下所示，

`Item dashboardItem = DatabaseManager.WebDatabase.GetItem"/sitecore/content/Public/Pages/Users/Dashboard"); string url = LinkManager.GetItemUrl(dashboardItem, opt);`

URL 生成为`http://mysite/Pages/Users/Dashboard`，这是预期的行为。这是用户可访问的 URL。

我正在尝试使用计划任务生成相同的电子邮件。但是当它运行并尝试执行如下生成的代码 URL 时，

`http://127.0.0.1/sitecore/content/Public/Pages/Users/Dashboard`

似乎当我们使用调度程序 LinkManager 时无法识别与项目映射的 URL。如何使用计划任务生成用户可访问的 URL？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-05T10:56:52.527

发生这种情况是因为计划任务在不同的 SiteContext 中运行。

在您的任务代码中，您应该手动切换到包含您要链接到的项目的 SiteContext。

这样：

```
using (new Sitecore.Sites.SiteContextSwitcher(
         Sitecore.Sites.SiteContext.GetSite("your_site_name")))
{
    // load item & generate url here ...
} 
```

`your_site_name`是配置中`<sites>`配置的站点名称。

# regex - 正则表达式：不匹配弯曲或方括号

> ID：15221078
> 
> 赞同：2
> 
> 时间：2013-03-05T10:09:39.770
> 
> 标签：regex

这不匹配。我想匹配一串不是`]`or的字符`)`。

我使用了这个正则表达式，但它不匹配 ' `[^\\)\\]]+`'

我确定它很简单，但是，请帮助:)

在 R 中工作：

```
gsub('[\\(\\[]{1}[^\\)\\]]+[\\)\\]]{1}','','JOSH [IS MY NAME]') 
```

不匹配任何东西。我希望它删除方括号之间的数据。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T10:20:58.843

正则表达式将是

```
\\[[^\\[\\]]+\\] 
```

这将替换括号内的任何内容..将其替换为`[]`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-05T10:40:09.260

啊。我必须设置 perl=TRUE 参数并且它起作用了。一切都好，谢谢大家！

# mysql - MySQL Slave 警告：配置不保证崩溃后中继日志信息保持一致

> ID：15221080
> 
> 赞同：9
> 
> 时间：2013-03-05T10:09:43.393
> 
> 标签：mysql, replication

**我想为MySQL 5.6**设置一个新的复制从属。就在 CHANGE MASTER 并启动 slave 之后，我在错误日志中看到了这一行：

```
[Warning] Slave SQL: If a crash happens this configuration does not guarantee that the relay log info will be consistent, Error_code: 0 
```

如果重要，这些设置包含在 my.ini 中：

```
skip-name-resolve
skip-host-cache

server-id = 111

report-host = myPC

relay-log-recovery

sync_master_info=1
sync_relay_log=1
sync_relay_log_info=1

replicate-do-db = myDB

skip-slave-start 
```

复制似乎工作，但这个警告是可怕的。知道是什么让 MySQL 发出此警告吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-07-04T09:04:45.013

警告是关于[崩溃安全复制](http://mysqlmusings.blogspot.de/2011/04/crash-safe-replication.html)的，这是 MySQL 5.6 中添加的一项功能。这并不意味着正在发生任何可怕的事情（基本上，复制工作与早期版本一样）但它通知您可以使用 MySQL 5.6 中的新功能集做得更好。

> 一个常见的要求是复制崩溃安全，即复制进度信息始终与实际应用于数据库的内容同步，即使在发生崩溃时也是如此。尽管服务器崩溃时事务不会丢失，但可能需要进行一些调整才能重新启动从属服务器。[...]
> 
> ### 碰撞安全大师
> 
> *   如果在轮换二进制日志时主服务器崩溃，则可能一些孤立的二进制日志文件最终会出现在二进制日志索引文件中。这在 5.1 中已修复，但也是崩溃安全复制难题中的一部分。
> *   写入二进制日志不是原子操作，如果在写入二进制日志时发生崩溃，则二进制日志末尾有可能发生部分事件。
> 
> ### 碰撞安全从站
> 
> *   如果复制信息和数据存储在同一个存储引擎中，它将允许数据和复制位置作为单个事务进行更新，这意味着它是崩溃安全的。
> *   如果复制信息和数据存储在不同的存储引擎中，但都支持 XA，它们仍然可以作为单个事务提交。复制信息与事务数据一起刷新到磁盘。因此，将复制信息直接写入 InnoDB 重做日志不会提供速度优势，但不会妨碍用户轻松读取复制进度信息。
> *   可以使用 SQL 命令从普通会话中读取这些表，这也意味着它可以合并到诸如存储过程和存储函数之类的东西中。

See the referenced blog post and the [MySQL documentation](http://dev.mysql.com/doc/refman/5.6/en/slave-logs.html) for details of operation and set up instructions.

# ios - iOS BoxSDK 为 sharedLink 返回 nil

> ID：15221081
> 
> 赞同：8
> 
> 时间：2013-03-05T10:09:43.507
> 
> 标签：ios, box-api

我们需要为文件创建一个共享链接，然后检索该链接，以便我们可以在我们的应用程序中显示它。我们能够为特定文件创建共享链接（我们可以在 Web 上的 Box Account 中看到它），但我们无法通过 API 检索 sharedLink。它总是 nil，尽管`isShared`方法返回 YES。

从头文件中`BoxObject.h`我们发现这两个方法提供了项目共享状态所需的信息。

```
@protocol BoxObject
// ...

// Information about the shared state of the item
@property (readonly, getter = isShared) BOOL shared;
@property (readonly) NSString *sharedLink;

//...
@end 
```

这就是我们创建共享链接的方式。

1.  找到我们想要共享的 BoxFile，让我们调用该对象*photo* 之前调用方法 shareWithPassword:message:emails:callbacks:，`[photo isShared]`返回 NO。
2.  我们称之为`[photo shareWithPassword:@"" message:@"" emails:[NSArray arrayWithObject:@""] callbacks:^(id<BoxOperationCallbacks> on1){...}];`
3.  在 on1.after 我们检查是否响应 == BoxCallbackResponseSuccessful 然后我们调用 [photo updateWithCallbacks:^(id on2){..}]
4.  在 on2.after 我们检查是否响应 == BoxCallbackResponseSuccessful
5.  成功响应`[photo isShared]`返回 YES 但 [photo sharedLink] 返回 nil

如果我们在 Web 上查看，我们可以看到该文件实际上是共享的，但我们无法从 Box SDK 中检索 sharedLink。

有人有同样的问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-06-12T17:57:34.850

这对我有用，基于已经发布的代码和在 github 上找到的[信息](https://github.com/box/box-ios-sdk-v2/issues/15)

```
- (void) getShareableLinkForFileId:(NSString *)fileId 
{
    BoxFileBlock fileSuccess = ^(BoxFile *file) {
            NSDictionary *fileInfo = file.rawResponseJSON;
            if (![fileInfo[@"shared_link"] isEqual:[NSNull null]]) { 
            NSDictionary *linkData = fileInfo[@"shared_link"];
            //Do something with the link
        } else {
            // failure
        }
    };
    BoxAPIJSONFailureBlock failure = ^(NSURLRequest *request, NSHTTPURLResponse *response, NSError *error, NSDictionary *JSONDictionary) {
         //Handle the failure 
    };

    BoxFilesRequestBuilder *builder = [[BoxFilesRequestBuilder alloc] init];
    BoxSharedObjectBuilder *sharedBuilder = [[BoxSharedObjectBuilder alloc] init];
    sharedBuilder.access = BoxAPISharedObjectAccessOpen;
    builder.sharedLink = sharedBuilder;
    [[BoxSDK sharedSDK].filesManager editFileWithID:fileId requestBuilder:builder success:fileSuccess failure:failure];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-11T21:07:18.703

您可以通过使用 Box V2 编辑其信息来创建共享链接：

```
 Box2FolderBlock folderSuccess = ^(Box2Folder *folder) {
    if (![[folder sharedLink] isEqual:[NSNull null]]) {
        NSString *sharedUrl = [[folder sharedLink] objectForKey:Box2APIObjectKeyURL];
    } else {
        // failure
    }
 };

 Box2FileBlock fileSuccess = ^(Box2File *file) {
    if (![[file sharedLink] isEqual:[NSNull null]]) {
       NSString *sharedUrl = [[file sharedLink] objectForKey:Box2APIObjectKeyURL];
    } else {
       // failure
    }
 };

 Box2APIJSONFailureBlock failure = ^(NSURLRequest *request, NSHTTPURLResponse *response, NSError *error, NSDictionary *JSONDictionary) {
 };

BoxSharedObjectBuilder *sharedLinkObject = [[BoxSharedObjectBuilder alloc] init];
sharedLinkObject.access = BoxAPISharedObjectAccessOpen;

BoxAPIJSONOperation *operation;

if (isFile == NO) {

    sharedLinkObject.canPreview = BoxAPISharedObjectPermissionStateEnabled;

    BoxFoldersRequestBuilder *requestBuilder = [[BoxFoldersRequestBuilder alloc] init];
    requestBuilder.sharedLink = sharedLinkObject;

    operation = [boxSDK.foldersManager editFolderWithID:fileOrFolderId requestBuilder:requestBuilder success:folderSuccess failure:failure];

} else {

    sharedLinkObject.canDownload = BoxAPISharedObjectPermissionStateEnabled;

    BoxFilesRequestBuilder *requestBuilder = [[BoxFilesRequestBuilder alloc] init];
    requestBuilder.sharedLink = sharedLinkObject;

    operation = [boxSDK.filesManager editFileWithID:fileOrFolderId requestBuilder:requestBuilder success:fileSuccess failure:failure];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-19T14:51:20.520

我能够通过刷新文件夹本身来获取共享链接。这是我想出的代码：

```
[boxFile shareWithPassword:@"" message:@"" emails:@[ @"" ] callbacks:^(id<BoxOperationCallbacks> on) {
    on.after(^(BoxCallbackResponse response) {
        if (response == BoxCallbackResponseSuccessful) {
            [self.rootFolder updateWithCallbacks:^(id<BoxOperationCallbacks> on) {
                on.after(^(BoxCallbackResponse response) {
                    BoxFile *updatedBoxFile = (BoxFile*)[self.rootFolder.children objectAtIndex:self.selectedIndexPath.row];
                    NSString *fileName = updatedBoxFile.name;
                    NSString *shareLink = updatedBoxFile.sharedLink;

                    NSLog(@"%@ [%@]: %@", fileName, updatedBoxFile.isShared ? @"YES" : @"NO", shareLink);
                });
            }];
        } else {
            [BoxErrorHandler presentErrorAlertViewForResponse:response];
        }
    });
}]; 
```

这是旧的 v1 API。不确定它是否随着较新的 ​​v2 发生了变化。

# algorithm - 根 n^3 函数之和的 Θ 复杂度是多少？

> ID：15221082
> 
> 赞同：0
> 
> 时间：2013-03-05T10:09:43.730
> 
> 标签：algorithm, time, complexity-theory

函数的复杂度（Θ 版本）是多少

n
∑ = 3 * i ^(3/2)
i=1

我认为它只是 Θ(n ² )，因为 n ²的增长速度比常数或平方根快，至少这在我看来是直观的。有没有办法正式证明这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T16:19:35.897

让我们考虑更简单的情况`Sum[i=1..n](i^(3/2))`。

让我们考虑以下积分`Integrate[i=(k-0.5)..(k+0.5)](i^(3/2))`，其中 k 是正整数。

```
 Integrate[i=(k-0.5)..(k+0.5)](i^(3/2))
= 2/5 * ((k+0.5)^(5/2) - (k-0.5)^(5/2)) 
```

可以*证明*，对于所有正整数 k：

```
k^(3/2) < 2/5 * ((k+0.5)^(5/2) - (k-0.5)^(5/2)) 
```

当我们尝试通过平方、扩展和分组直到平方根消失来解决时，我们最终会得到`40*k^6 - 0.024*k^4 + 0.008*k^2 + 0.0001 = 0`，这显然没有真正的解决方案。代入 0 表示 RHS > LHS。

（我不知道是否有更好的方法，但以上是一种证明方法）。

这导致：

```
k^(3/2) < Integrate[i=(k-0.5)..(k+0.5)](i^(3/2)) 
```

从中我们可以得出：

```
Sum[i=1..n](i^(3/2)) < Integrate[i=(0.5)..(n+0.5)](i^(3/2)) 
```

对于所有正整数 n。

我们知道：

```
 Integrate[i=(0.5)..(n+0.5)](i^(3/2))
= 2/5 * ((n+0.5)^(5/2) - 0.5^(5/2)) 
```

所以：

```
Sum[i=1..n](i^(3/2)) < 2/5 * ((n+0.5)^(5/2) - 0.5^(5/2))
Sum[i=1..n](i^(3/2)) = O(n^(5/2)) 
```

* * *

使用上面相同的技巧，让我们考虑积分`0.75 * Integrate[i=(k-0.5)..(k+0.5)](i^(3/2))`，其中 k 是某个正整数：

```
 0.75 * Integrate[i=(k-0.5)..(k+0.5)](i^(3/2))
= 0.75 * 2/5 * ((k+0.5)^(5/2) - (k-0.5)^(5/2))
= 0.3 * ((k+0.5)^(5/2) - (k-0.5)^(5/2)) 
```

可以*证明*，对于所有正整数 k：

```
k^(3/2) > 0.3 * ((k+0.5)^(5/2) - (k-0.5)^(5/2)) 
```

可以以与前面部分所示类似的方式完成证明。或者，您可以通过显示单调性并在 k = 1（域中允许的最小数字）处进行测试来做到这一点。

由此，我们可以得出：

```
Sum[i=1..n](i^(3/2)) > 0.75 * Integrate[i=(0.5)..(n+0.5)](i^(3/2)) 
```

对于所有正整数 n。

我们知道：

```
 Integrate[i=(0.5)..(n+0.5)](i^(3/2))
= 0.3 * ((n+0.5)^(5/2) - 0.5^(5/2)) 
```

所以：

```
Sum[i=1..n](i^(3/2)) > 0.3 * ((n+0.5)^(5/2) - 0.5^(5/2))
Sum[i=1..n](i^(3/2)) = Omega(n^(5/2)) 
```

所以，`Sum[i=1..n](i^(3/2)) = Theta(n^(5/2))`

**注：本帖如被迁移，证明有问题，请删除本帖**

# java - 在 Swing 应用程序中使用 JavaFX 图表

> ID：15221084
> 
> 赞同：3
> 
> 时间：2013-03-05T10:09:48.097
> 
> 标签：java, swing, javafx, jfreechart

我有一个传统的 Java swing 应用程序（扩展 JFrame 并有一个主类），它使用 JFreeCharts 来实现一些图表功能。我最近看到了 JavaFX，认为这些图表看起来让人耳目一新，会给我的用户带来更好的体验。我希望将 JavaFX 图表场景嵌入到 jInternalFrame（它又从我的 jDesktopPane 中调用）。

我遵循了一个关于如何创建 javafx 应用程序和 javafx 图表的简单教程，但我坚持如何在现有代码中获取场景。我经历过的一个例子向我展示了如何实现这一点，但这意味着将我的项目转换为扩展“应用程序”类的 javafx 项目。

我怎样才能达到我想要的？是否不可能将我现有的 JFrame 保留为顶级类，并简单地将 JFXPanel 添加到我的 jinternalframe。

任何帮助都会很棒，请注意我已经完成了一些教程，他们要求我将我的项目转换为 javafx - 我只想要在我现有的 Swing 应用程序中使用 javafx 场景。

非常感谢，

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-05T17:16:21.103

您无需将 Swing 应用程序转换为 JavaFX 应用程序。您可以将 JavaFX放置在[JFXPanel](https://docs.oracle.com/javase/8/javafx/api/javafx/embed/swing/JFXPanel.html)`Chart`中，该JFXPanel可以放置在 Swing 组件中。我链接的 javadoc 包含用于在 Swing 应用程序中嵌入 JavaFX 节点的示例代码。

[查看 Oracle为 Swing 开发人员提供](https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/fx_swing.htm)的官方JavaFX教程跟踪。

另请查看在Swing 应用程序中嵌入图表的Swing示例中的[Embedding JavaFX 。](http://www.oracle.com/technetwork/java/javase/overview/javafx-samples-2158687.html)`SwingInterop`该示例由 Oracle 在 BSD 开源许可下提供，以便您可以在应用程序中使用它。

尽管如此，我的建议是，除非它是一个大型的现有 Swing 代码库，您只想在其中使用几个 JavaFX 功能，否则将您的应用程序编写为纯 JavaFX 应用程序，而不是混合的 Swing/JavaFX 应用程序。

# jquery - 页面上的 Div 位置错误，直到触发页面调整大小

> ID：15221089
> 
> 赞同：1
> 
> 时间：2013-03-05T10:10:04.940
> 
> 标签：jquery, html, css

我不太确定我目前正在编码的这个页面发生了什么，但是由于某种原因，当它第一次加载容器 div 时，它位于页面底部附近，但是当你调整它的大小时，它会像它应该的那样以 jquery 为中心至。我将粘贴下面的代码，但我在下面链接了一个 jsfiddle，因此可以在肉体中看到它。 [http://jsfiddle.net/jhwNK/](http://jsfiddle.net/jhwNK/)

这是以一切为中心的 jquery

```
var positionContent = function () {
var width = $(window).width(); // the window width
var height = $(window).height(); // the window height
var containerwidth = $('.container').outerWidth(); // the container div width
var containerheight = $('.container').outerHeight(); // the container div height
if ((width >= containerwidth) && (height>=containerheight)){
$('.container').css({position:'absolute',
left: ($(window).width() - $('.container').outerWidth())/2,
top: ($(window).height() - $('.container').outerHeight())/2 }); 
} 
};
//Call this when the window first loads
$(document).ready(positionContent);
//Call this whenever the window resizes.
$(window).bind('resize', positionContent); 
```

这是CSS

```
 .logo {background:url(../images/logo/logo.png); width:255px; height:77px;}

    .menucontainer {min-width:300px; min-height:300px; float:left; background:#000;}

    .content {background:#eee; width:500px; float:left; padding:10px; overflow:auto;}

    /* #Base 960 Grid
    ================================================== */

      .container {padding: 20px;    margin: 20px 0; background-color:rgba(255, 255, 255, 0.9);      color: #525252;  position: relative; width: 960px; margin: 0 auto;}

    /* #Tablet (Portrait)
    ================================================== */

        /* Note: Design for a width of 768px */

    @media only screen and (min-width: 768px) and (max-width: 959px) {
                .container                                  { width: 768px;}
                .content {width:300px;}
                }

    /* #Tablet (Portrait)
    ================================================== */

        /* Note: Design for a width of 768px */

        @media only screen and (min-width: 960px) and (max-width: 1180px) {
            .container                                  { width: 768px;}
            .content {width:300px;} 
            }

            /*  #Mobile (Portrait)
    ================================================== */

        /* Note: Design for a width of 320px */

        @media only screen and (max-width: 767px) {
             .container { width: 300px;}
             .content {width:100px;}
             }

        /* #Mobile (Landscape)
    ================================================== */

        /* Note: Design for a width of 480px */

        @media only screen and (min-width: 480px) and (max-width: 767px) {
            .container { width: 420px;}
            .content {width:150px;}
            } 
```

和 html

```
 <div class="container">
    <div class="logo"></div>
     <div class="menucontainer"></div>
     <div class="content">
       <p>Passion stands for the enthusiasm and fervour we put into everything we do in the company, and in developing the right organisational mix to help others in every possible way<br />
         we want every guest to experience that passion for life by having the most relaxing, blissful and luxurious stay possible, a time filled with personal discovery, recovery and spiritual fulfillment.</p>
       <p>We want every employee to taste that passion for life by growing in confidence and skills, and feeling part of a close-knit global family.</p>
     </div>
    </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T10:19:58.237

问题是，当 DOM 准备好时，您最初定位元素。但那是一个可能仍然存在重大重绘的时候，例如，当图像或导入的样式表加载时。

因此，您还应该绑定到`window.onload`事件：

```
$(window).bind('resize load', positionContent); 
```

当所有资源都已加载且页面处于最终呈现状态时，这将再次触发定位。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:14:17.300

尝试`.resize()`在最后添加：

```
$(window).bind('resize', positionContent).resize(); 
```

# javascript - jQuery 滑块 - 最后到第一个过渡

> ID：15221097
> 
> 赞同：7
> 
> 时间：2013-03-05T10:10:14.870
> 
> 标签：javascript, jquery, html

我创建了这个滑块（不想使用插件）：

```
function slider(sel, intr, i) {
  var _slider = this;
  this.ind = i;
  this.selector = sel;
  this.slide = [];
  this.slide_active = 0;
  this.amount;
  this.selector.children().each(function (i) {
    _slider.slide[i] = $(this);
    $(this).hide();
  })
  this.run();
}
slider.prototype.run = function () {
  var _s = this;
  this.slide[this.slide_active].show();
  setTimeout(function () {
    _s.slide[_s.slide_active].hide()
    _s.slide_active++;
    _s.run();
  }, interval);
}
var slides = [];
var interval = 1000
$('.slider').each(function (i) {
  slides[i] = new slider($(this), interval, i);
}) 
```

我遇到的问题是我不知道如何在最后一张幻灯片（图像）之后得到它，它又回到了第一张幻灯片。现在，它只是 .hide 和 .show 直到最后，如果没有图像，它就不会重新开始。

有人可以帮我提供**一个代码建议**，使其采用滑块的 .length（其上的图像数量），如果它是最后一张幻灯片（图像），则返回到第一张幻灯片（图像）.. . 像一个循环。

**编辑：**滑块标记

```
 <div class="small_box top_right slider">
        <img class="fittobox" src="img/home10.jpg" alt="home10" width="854" height="592">
        <img class="fittobox" src="img/home3.jpg" alt="home3" width="435" height="392">
        <img class="fittobox" src="img/home4.jpg" alt="home4" width="435" height="392">
    </div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T10:56:14.780

看看这个**[Fiddle](http://jsfiddle.net/pFLG2/8/)**链接，这将帮助您以循环方式创建滑块。如果滑块到达最后一个图像，它将从第一个图像重新开始。

```
var index = $selector.index();   
if (index == (length - 1)) {   
    $('img').first().removeClass('invisible').addClass('visible');  
} 
```

我希望这会对您有所帮助。祝一切顺利。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T12:50:42.937

[在这里为您创建了一个固定版本](http://jsfiddle.net/barney/vbRLU/)。

最简单的方法是在您当前拥有的地方运行一个简单的数学运算

```
_s.slide_active++; 
```

相反，我得到`_s.slide_active`、 add `1`，然后将其通过模数 ( `%`) 运行到总长度 - 这给出了余数：

```
_s.slide_active = (_s.slide_active + 1) % _s.slide.length; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-07T11:02:08.387

您需要在长度为 1 后达到 0。一种简单的方法是对长度取模：

```
_s.slide_active++;
_s.slide_active %= length; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-07T11:18:14.950

未经测试，但希望有帮助：

```
function slider(sel, intr , i){
   ...
   this.count = this.selector.children().length;
   this.run();
}

slider.prototype.run = function(){
    var _s = this;
    this.slide[this.slide_active].show();
    setTimeout(function(){
        _s.slide[_s.slide_active].hide()
        if(_s.slide_active == this.count)
             _s.slide_active = 0;  
        else
             _s.slide_active++;
        _s.run();
    }, interval);
} 
```

# sharepoint - 如何在 SharePoint 2013 中启用 Web 分析？

> ID：15221101
> 
> 赞同：2
> 
> 时间：2013-03-05T10:10:33.113
> 
> 标签：sharepoint, web-analytics, sharepoint-2013

在我的 SharePoint 2013 网站中打开“站点 Web 分析报告”页面时，我收到以下消息： *“此站点没有可用的 Web 分析报告。此服务器上的使用处理或此站点的使用数据可能被禁用还没有处理。”*

我确实为我的 SharePoint Server 配置了使用情况和健康数据收集，并为我的 SharePoint 网站激活了报告功能。我仍然没有从我的 SharePoint 网站获得任何网络分析数据。

有人能帮我解决这个问题吗？

**编辑：**似乎数据库（WSS_UsageApplication）充满了数据。我不明白为什么 SharePoint 一直告诉我没有任何可用数据。

# java - 是整数π；是java中的有效语法吗？

> ID：15221105
> 
> 赞同：-8
> 
> 时间：2013-03-05T10:10:51.097
> 
> 标签：java, unicode, identifier

我有一些疑问，我想知道那是 int π; 在 Java 中是否是有效语法，因为 Java 支持 UNICODE 所以根据我的说法它可能是有效的，但我想确保

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-05T10:12:30.830

`int π;`是完全有效的——正如你所说，Java 支持 unicode，所以任何没有保留的东西都是标识符的公平游戏。

# android - Android 视频预览和视频录制

> ID：15221119
> 
> 赞同：1
> 
> 时间：2013-03-05T10:11:38.847
> 
> 标签：android, video, preview, recording

嗨，伙计们，我需要录制一段工作正常的特定持续时间的视频。但我需要在开始实际视频录制之前添加 30 秒的延迟，但同时我需要显示相机预览。我想知道如何实现它。相机对象初始化的代码是：

```
mCamera = Camera.open();
surfaceHolder = recorderView.getHolder();
surfaceHolder.addCallback(this);
surfaceHolder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS); 
```

我的记录器对象初始化如下：

```
File file = new File(path, filename);
mrec = new MediaRecorder();
mCamera.lock();
mCamera.unlock();
mrec.setCamera(mCamera);
mrec.setVideoSource(MediaRecorder.VideoSource.CAMERA);
mrec.setAudioSource(MediaRecorder.AudioSource.MIC);
mrec.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);
mrec.setVideoEncoder(MediaRecorder.VideoEncoder.MPEG_4_SP);
mrec.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);
mrec.setVideoSize(320, 240);
mrec.setPreviewDisplay(surfaceHolder.getSurface());
mrec.setOutputFile(path + filename);
mrec.prepare(); 
```

我在前 30 秒内使用倒数计时器，在其 onfinsh 实现中，我正在调用 a`mrec.start()`来开始实际录制，直到我没有得到相机预览。在启动录音机之前也有大约一两秒的延迟。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:25:01.163

这两行：

```
mCamera.unlock();
mrec.setCamera(mCamera); 
```

停止相机预览。您必须推迟它们（以及它们之后的所有设置），直到 30 秒过去。

我也不喜欢它，但它就是这样工作的。

# android - 在 Android 中处理软标签

> ID：15221120
> 
> 赞同：0
> 
> 时间：2013-03-05T10:11:40.590
> 
> 标签：android, android-widget, android-resources

我正在构建一个应用程序并在以下领域使用标签。

```
1\. Component Names (TextView, Buttons etc)
2\. Buttons in alert boxes
3\. Parameters to AsyncTask
4\. Key names in Intent extras
5\. Log tags 
```

我有 strings.xml 文件来存储和使用标签。我将它用于第 1 类。您认为对其他人来说最好的选择是什么？

res/strings.xml 或常量类？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:22:49.667

我会向你建议我通常会做的事情：

对于用户将在屏幕上阅读或以任何方式从 XML 布局中引用的所有内容，请使用 strings.xml。我认为这包括您的 1 和 2。但请记住，对于 AlertDialogues，您也​​可以使用`android.R.string.ok`or`android.R.string.cancel`等​​；这将因用途而异。

同样对于项目配置值或 API 密钥，您可以拥有一个带有字符串、整数等的 config.xml。这样可以在以后轻松更改这些值，而无需深入研究代码。

对于 AsyncTask，它所做的工作有很多不同，但通常是网络、数据库或磁盘操作，我尝试`private static final String URL_PT1 = "http://...";`在类本身中包含等，因为它们只对知道该地址（或数据库列）感兴趣, 或文件前缀)

对于键名（在 Intent 和 Fragment 参数中），我使用`private static final String KEY_VALUE = "renjith.Key.MyClassName.VALUE";`然后`public static Bundle getIntentExtras(String value)`在该类中创建一个将正确分配额外值的类。那是因为只有一个类需要知道它的 KEY 值，没有理由让这些公共可访问，这只会为外部类做错了错误。

对于 Logs (5)，在每个类上创建 a `private static final String TAG = "Renjith.ThisClassName";`（对于 Fragments，将 TAG 公开以用于事务）。这样您就可以在 LogCat Renjith.* 中创建一个过滤器，并且您可以轻松识别此日志的来源

**编辑：**

对于共享首选项，它取决于：

对于 GlobalSharedPreferences，我将创建一个类来使用静态 set/get 方法来处理它们，这些方法必须接收 Context 和`private static`该类中的所有键。

对于本地共享首选项（只有一个类对保存/检索感兴趣），我将在一个 SharedPreferences 文件中处理，该文件与该类具有相同的名称，并且所有键都在`private static`该类中。

同样，同样的哲学，只有真正需要了解这些细节的类才会知道它们，并通过直接方法调用抽象到其余的类。

# .net - 加速 list.contains

> ID：15221122
> 
> 赞同：0
> 
> 时间：2013-03-05T10:11:42.297
> 
> 标签：.net, list, generics

我们有一个 C# 库类，它继承自 List 但很慢，因为 List.Contains 很慢。我们不能将类更改为从 Dictionary 或 HashSet 之类的其他东西继承，因为很多客户端代码都依赖于该类，而且更改接口过于复杂。有没有一种简单的方法可以在不改变它的情况下加速这种方法？一些列表非常大，所以我们不希望内存中有两个副本。我们也不想覆盖 List 的每个方法。

```
public class UniqueList<T> : List<T>, IList<T>
{
    public new void Add(T item)
    {
        if (!this.Contains(item) && item != null)
        {
            base.Add(item);
        }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T11:38:40.277

从 List 继承是一个非常糟糕的主意，因为您无法控制客户端代码如何使用您的类

List.Contains 是一个**O(n)**操作。Dictionary.ContainsKey 是**O(1)**，所以我认为使用 Dictionary 是最好的建议，但如果你真的不想使用它，另一种可能性是保持列表排序以获得**O(log n)**

```
public void Add(T item)
{
    int index = BinarySearch(item);
    if (index < 0)
    {
        Insert(~index, item);
    }
} 
```

如果元素已经在列表中，BinarySearch 返回它的索引。如果该元素不在列表中，则 BinarySearch 方法返回一个负数，它是第一个元素的索引的二进制补码，该索引大于我传递给二进制搜索方法的元素。

在您的方案中可能无法使用 BinarySearch，因为它取决于 T 可以是：http: [//msdn.microsoft.com/en-us/library/w4e7fxsh.aspx](http://msdn.microsoft.com/en-us/library/w4e7fxsh.aspx)

*此方法使用类型 T 的默认比较器 Comparer.Default 来确定列表元素的顺序。Comparer.Default 属性检查类型 T 是否实现 IComparable 泛型接口并使用该实现（如果可用）。如果没有，Comparer.Default 检查类型 T 是否实现了 IComparable 接口。如果类型 T 未实现任一接口，Comparer.Default 将引发 InvalidOperationException。*

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-05T11:39:07.493

简而言之，没有。

因为您继承自`List<>`您基本上搞砸了，因为即使您隐藏 Contains 方法，您也无法阻止客户端代码将 a 传递`UniqueList`给接受 a 的方法`List<>`，这将隐藏您的新 Contains，并使用现有的一。

您需要以艰难的方式解决此问题，删除 上的继承`List<>`，实现您自己的 Contains，从列表中重新实现您需要的任何方法（在内部您可以使用 a`private List<>`进行存储，并在必要时简单地委托给它），并修复所有此更改中断的代码。

当你破坏东西时，你可以看看 C5 集合类，它促进了针对接口的开发，帮助你避免遇到这个问题（我知道，在马跑了之后更多地关闭谷仓门）

我知道这不是你要找的答案，但你不会得到你想要的答案（真的没有办法解决这个问题，你可以尝试类似[Castle Interceptors](http://docs.castleproject.org/Windsor.Interceptors.ashx)的东西，但我没有认为他们会在这种情况下工作......但我不能确定他们不会）

再次，为无法真正提供帮助而道歉。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T10:15:26.613

您可以拥有一个类级别的私有字典，如果在字典中找不到字典，则首先检查字典，然后转到列表并检查，它只是一种优化，它不是纯粹的解决方案，而且还需要额外的内存

# asp.net - 使用带有 ASP.Net 的 Windows Workflow Foundation 的缺点

> ID：15221126
> 
> 赞同：2
> 
> 时间：2013-03-05T10:12:02.093
> 
> 标签：asp.net, workflow

我们计划在 ASP.net 中使用 Microsoft Workflow，谁能告诉我在开发 asp.net 网站时需要考虑哪些要点以及使用 Windows Workflow 基础的缺点是什么

# gruntjs - npm：安装 grunt 插件时出现“错误：无效版本：1.0”

> ID：15221127
> 
> 赞同：1
> 
> 时间：2013-03-05T10:12:02.833
> 
> 标签：gruntjs

虽然昨天一切正常，但今天我收到下面的打印错误，当我尝试安装 grunt 插件时，它是官方的 grunt contrib 还是供应商插件。我正在运行 grunt v0.4、节点 v0.8.20 和 npm v1.2.11、System X 10.8.2。

```
npm install grunt-<plugin>-<name> --save-dev
npm ERR! Error: invalid version: 1.0
npm ERR!     at validVersion (/usr/local/lib/node_modules/npm/node_modules/read-package-json/read-json.js:590:40)
npm ERR!     at final (/usr/local/lib/node_modules/npm/node_modules/read-package-json/read-json.js:342:23)
... 
```

令我惊讶的是，官方的 grunt contrib 插件（grunt-contrib-xxx）也无法安装，尽管我希望它具有正确的 semver 版本语法。npm-debug.log 在控制台的详细输出中没有显示任何其他内容。

任何提示表示赞赏。

提前谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-23T15:07:13.123

很抱歉这么晚才回复。

我是 grunt/nodejs 的新手，所以我有点困惑，花了一段时间才明白出了什么问题：当时我更新`grunt`到 0.4.~ 没有编辑相关项目 package.json 以反映正确的 grunt 版本控制（ “1.0.0”而不是“0.1.0”）。谢谢你的帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-10-15T09:34:00.047

修改 package.json 为

```
"devDependencies" : {
   "grunt" : "latest" 
} 
```

现在运行

```
sudo npm install 
```

这将安装最新的 grunt。

[注意：将所需的依赖项添加到对象，该命令将在运行时全部安装]

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-10T10:25:35.533

由于 grunt 0.4 是针对 node v1 的，也许您尝试安装的插件需要 1.0 版本的 node，请尝试阅读您尝试安装的插件的 package.js。正如 glortho 所问，您可以明确地告诉我们是什么插件导致了问题

# c++ - 来自不兼容类型 c 的赋值

> ID：15221128
> 
> 赞同：0
> 
> 时间：2013-03-05T10:12:02.787
> 
> 标签：c++, c, linux, compilation, argv

我不经常使用 C 或 C++，但我即将完成编译一个使用 opencv 检测人脸的文件，该文件是已经为 Windows 执行的 c++ 文件的副本，用于在社交网络中进行标记，错误我get with code when compile 是下一个

```
In function 'main':
warning: assignment from incompatible pointer type 
```

* * *

```
int main( int argc, char** argv[])
{
    char* dea;

    int i=0;
    while(i<argc)
    {
        if(i==1){
            dea=argv[i];
        }
        i++;
    }

    char image[400],temp_image[400];

    IplImage  *img,*temp_img;
    int       key;

    storage = cvCreateMemStorage( 0 );
    cascade = ( CvHaarClassifierCascade* )cvLoad( face_cascade, 0, 0, 0 );

    if( !(cascade) )
    {
        fprintf( stderr, "ERROR: Could not load classifier cascade\n" );
        return -1;
    }

    sprintf(image,"dimage%d.jpg");

    img=cvLoadImage(dea,0);
    temp_img=cvLoadImage(dea,0);

    if(!img)
    {
        printf("Could not load image file and trying once again: %s\n",image);
    }
    printf("\n curr_image = %s",image);

    detectFacialFeatures(img,temp_img);

    cvReleaseHaarClassifierCascade( &cascade );
    cvReleaseMemStorage( &storage );

    cvReleaseImage(&img);
    cvReleaseImage(&temp_img);

    return 0;
} 
```

我希望能够将要解析的照片的位置作为可执行文件之后的第一个参数发送到 argv[]，因此我尝试使用循环分配给 char* dea; 当 i 为 1 时 argv[i] 的值。

我会做 dea=argv[1]

但这会引发另一种错误，所以我采用了这种方法。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-05T10:14:00.787

Argv 应声明为`char **argv`, 或`char *argv[]`，但您将其声明为`char **argv[]`三重*指针*。

您正在尝试将 a 分配`char *`给 a `char`。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-05T10:15:02.510

我认为您的参数声明错误应该是

```
char** args 
```

或者

```
char* args[] 
```

不是

```
char** args[] 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T11:37:28.200

```
dea=argv[i]; 
```

您正在将双指针分配给`char** argv[]`单指针`char* dea`。如果您想将 argv 的值分配给 dea 则将 dea 作为双指针。

```
char** dea;
dea[i] = argv[i]; 
```

# css - Class:hover 适用于 Firefox，但不适用于 Chrome 和 IE9

> ID：15221131
> 
> 赞同：1
> 
> 时间：2013-03-05T10:12:19.707
> 
> 标签：css, google-chrome, firefox, internet-explorer-9, rotateanimation

这里的问题是，我想让这个文本在鼠标悬停时旋转，这个代码在 Firefox 上完美运行，但在 Chrome（版本 25.0.1364.97 m）和 IE9 上都不能

[http://jsfiddle.net/B2u4j/1/](http://jsfiddle.net/B2u4j/1/)

```
<div class="holder circulate" > Hello World </div> 
```

**CSS**

```
.holder {
border: 10px solid #FFFFFF;
float: left;
margin-left:0px;
margin-top:0px;
box-shadow: 2px 2px 5px #333333;
overflow: hidden;
transition: all 0.5s Ease;
 }

.circulate:hover {

transform: rotate(360deg);
-ms-transform: rotate(360deg); /* IE 9 */
-webkit-transform: rotate(360deg); /* Safari and Chrome */
-o-transform: rotate(360deg); /* Opera */
-moz-transform: rotate(360deg); /* Firefox */  
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T10:16:40.887

您需要添加供应商前缀属性以`transition`获得更好的跨浏览器支持。

```
.holder {
    border: 10px solid #FFFFFF;
    ...
    -webkit-transition: all 0.5s ease;
       -moz-transition: all 0.5s ease;
         -o-transition: all 0.5s ease;
            transition: all 0.5s ease;
    } 
```

[您可以在http://css3please.com/](http://css3please.com/)上了解需要为哪些浏览器添加前缀的属性

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:17:35.547

采用`-webkit-transition: all 0.5s Ease;`

# neo4j - Neo4j - 将长文本添加到索引时出现 500 内部服务器错误

> ID：15221141
> 
> 赞同：1
> 
> 时间：2013-03-05T10:12:43.720
> 
> 标签：neo4j, py2neo

我正在使用 Neo4j-community-1.9.M04，与 python rest 客户端（py2neo 1.4.5）连接。当我尝试向索引添加长文本时，服务器返回 500 Internal Server Error。

使用 py2neo 客户端，我喜欢：

```
everything_idx = gdb.get_or_create_index(neo4j.Node, "everything", config={"type": "fulltext"})
everything_idx.add("everything", long_text, recommendation_node) 
```

其中 long_text 是一个包含从 URL 解析的文本的变量，而 Recommendation_node 是我要索引的 Node 实例。

这是我在 py2neo 日志中的内容：

```
INFO 2013-03-05 11:47:17,855 rest 11104 1108 POST /db/data/index/node/everything {'Content-Type': 'application/json', 'X-Stream': 'true', 'Accept': 'application/json', 'User-Agent': 'py2neo/1.4.6 (win32; python/2.7.2)'} (47486 bytes)
INFO 2013-03-05 11:47:17,894 rest 11104 1108 500 Internal Server Error {'content-length': '0', 'server': 'Jetty(6.1.25)'} 
```

在 Neo4j 日志中，我有以下内容：console.log：

```
11:47:19.733 [1695422617@qtp-1319007734-22] WARN  org.mortbay.log - header full: java.lang.ArrayIndexOutOfBoundsException
11:47:19.734 [1695422617@qtp-1319007734-22] ERROR org.mortbay.log - /db/data/index/node/everything
javax.ws.rs.WebApplicationException: null
        at org.neo4j.server.rest.repr.OutputFormat$1.write(OutputFormat.java:156) ~[neo4j-server-1.9.M04.jar:1.9.M04]
        at com.sun.jersey.core.impl.provider.entity.StreamingOutputProvider.writeTo(StreamingOutputProvider.java:71) ~[jersey-core-1.9.jar:1.9]
        at com.sun.jersey.core.impl.provider.entity.StreamingOutputProvider.writeTo(StreamingOutputProvider.java:57) ~[jersey-core-1.9.jar:1.9]
        at com.sun.jersey.spi.container.ContainerResponse.write(ContainerResponse.java:306) ~[jersey-server-1.9.jar:1.9]
        at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1437) ~[jersey-server-1.9.jar:1.9]
        at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349) ~[jersey-server-1.9.jar:1.9]
        at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339) ~[jersey-server-1.9.jar:1.9]
        at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416) ~[jersey-server-1.9.jar:1.9]
        at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537) ~[jersey-server-1.9.jar:1.9]
        at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:699) ~[jersey-server-1.9.jar:1.9]
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:820) ~[servlet-api-2.5-20081211.jar:na]
        at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511) ~[jetty-6.1.25.jar:6.1.25]
        at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:390) ~[jetty-6.1.25.jar:6.1.25]
        at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182) [jetty-6.1.25.jar:6.1.25]
        at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765) [jetty-6.1.25.jar:6.1.25]
        at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114) [jetty-6.1.25.jar:6.1.25]
        at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152) [jetty-6.1.25.jar:6.1.25]
        at org.mortbay.jetty.Server.handle(Server.java:326) [jetty-6.1.25.jar:6.1.25]
        at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542) [jetty-6.1.25.jar:6.1.25]
        at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:943) [jetty-6.1.25.jar:6.1.25]
        at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:756) [jetty-6.1.25.jar:6.1.25]
        at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218) [jetty-6.1.25.jar:6.1.25]
        at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404) [jetty-6.1.25.jar:6.1.25]
        at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410) [jetty-6.1.25.jar:6.1.25]
        at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582) [jetty-util-6.1.25.jar:6.1.25] 
```

在 neo4j.0.0.log 中：

```
Mar 5, 2013 11:47:19 AM com.sun.jersey.server.impl.application.WebApplicationImpl _handleRequest
SEVERE: The response of the WebApplicationException cannot be utilized as the response is already committed. Re-throwing to the HTTP container
javax.ws.rs.WebApplicationException
        at org.neo4j.server.rest.repr.OutputFormat$1.write(OutputFormat.java:156)
        at com.sun.jersey.core.impl.provider.entity.StreamingOutputProvider.writeTo(StreamingOutputProvider.java:71)
        at com.sun.jersey.core.impl.provider.entity.StreamingOutputProvider.writeTo(StreamingOutputProvider.java:57)
        at com.sun.jersey.spi.container.ContainerResponse.write(ContainerResponse.java:306)
        at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1437)
        at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)
        at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)
        at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)
        at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)
        at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:699)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)
        at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
        at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:390)
        at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
        at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)
        at org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)
        at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
        at org.mortbay.jetty.Server.handle(Server.java:326)
        at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
        at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:943)
        at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:756)
        at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)
        at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
        at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)
        at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582) 
```

我认为问题可能是我正在使用的其余客户端，所以我更改了它（我首先尝试了 neo4jrestclient）。

有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T09:54:35.347

事实证明，将此节点添加到全文索引失败的原因是它没有在事务中执行。我尝试使用以下代码，将 neo4jrestclient 与事务一起使用，它可以工作：

```
import urllib2, logging, logging.config, pdb, traceback
from neo4jrestclient.client import GraphDatabase, Node, Relationship

gdb = GraphDatabase("http://localhost:7474/db/data/")

everything_idx = gdb.nodes.indexes.create("everything_", type="fulltext", provider="lucene")
node = gdb.node(name="Node1")

with gdb.transaction() as tx:
    try:
        request = urllib2.urlopen("http://www.tripadvisor.com/Restaurant_Review-g35805-d451303-Reviews-Ramova_Grill-Chicago_Illinois.html")

        if request.getcode() == 200:
            long_text = unicode(request.read(), "utf-8")
            everything_idx["everything"][long_text] = node
    except Exception as e:
        pdb.set_trace() 
```

# android - Android 实例生命周期

> ID：15221142
> 
> 赞同：0
> 
> 时间：2013-03-05T10:12:46.243
> 
> 标签：android, singleton, lifecycle

这是一个非常简单的问题，我在我的主要活动中实现了一种单例模式，显然它没有很好地实现并且没有按预期工作，但我想更详细地了解原因。

这是我的代码：

```
public class UIthread extends SherlockFragmentActivity implements 
                                    WsP12GetDocPendantToSign.OnCallbackFunction{

private static final String TAG = "UIthread";

//mode
private static UIthread instance;
....

public static UIthread getInstance() {
    return instance;
}

protected void onCreate(Bundle savedInstanceState) {

    if (instance == null)
        instance = this;
    super.onCreate(savedInstanceState);

    instance.initialize();

} 
```

当我关闭我的应用程序并重新运行时，实例仍然存在并且应用程序有问题，所以当我第一次关闭应用程序时实例没有被删除，如果有人能解释为什么实例仍然存在，我将不胜感激.

谢谢！

# xml - SSIS如何从变量传递XSD路径

> ID：15221143
> 
> 赞同：3
> 
> 时间：2013-03-05T10:12:46.710
> 
> 标签：xml, variables, ssis, xsd, schema

我正在运行 SQL/BIDS 2005（当前的 PROD 环境）。

我正在尝试做一些基本的 POC，但任务相当简单：

*   从硬盘驱动器获取 XML 文件
*   做一些映射
*   使用结果更新数据库

我采取的步骤：

*   创建一个新包
*   添加数据流任务
*   在数据流中添加 XML 源任务

当我在 XML 源属性中提供 XML 和 XSD 位置时，一切正常。

我可以很好地看到所有 XML 字段，因此我可以继续进行映射等。

以上显然是不可接受的，我需要做的是从变量中传递 XML 和 XSD 值（以及稍后形成配置文件）。

所以我去了数据流的表达式并将 XML 和 XSD 指向变量（我评估了结果，结果很完美）。

…除了它不起作用。
当我尝试运行打开 XML 源任务时，它会抛出以下内容：

**组件在验证期间检测到潜在的元数据损坏。** 然后它将对象引用 nopt 设置为一个实例的堆栈...从 Dts.Pipeline.ManagedComponentHostValidate(IDTSManagedComponentWrapper90 包装器) 开始

正如我所提到的，我验证了 xml 文档和架构及其格式正确。当直接在 xml 源中传递它们时，它可以工作。仅当我尝试从数据流级别（作为表达式）传递这些值时，它才不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T18:35:13.890

您可能会发现 SSIS 2005 对数据流中添加的列反应不佳。在数据流的后续步骤之间的“箭头”中，它们似乎没有被很好地识别（这在 SSIS 的更高版本中得到了改进）。

您可以查看这些箭头上的属性，特别是“元数据”选项卡，以查看它们是否实际上包含您的所有列。恐怕我经常不得不删除所有数据流步骤并有条不紊地重新构建它们，确保我从头开始使用完整的列集。

是的，您可以在大多数地方使用变量。您需要寻找的是“表达式”属性。这并不总是显而易见的。这就是你告诉它使用变量的地方。当您在 BIDS 中执行此操作时，它将使用您开发环境中设置的任何变量，并将设置文本属性以反映该变量设置。这只是暂时的。稍后，在运行时，它实际上会使用您在运行时提供的变量。但是在开发过程中，您的变量必须实际指向，例如，具有正确结构的有效文件。否则，您将无法构建数据流。这就是 SSIS 的工作方式。这在以后的版本中没有改变。

[PS，我只是在此处为相关问题](https://stackoverflow.com/questions/15231486/how-do-i-set-up-a-dynamic-file-path-in-ssis-for-an-excel-file/15231568#15231568)添加了更多细节。

> 如果您“编辑”连接管理器，它将显示编辑窗口。那不是你想要的。查看“属性”窗口，您可以在其中找到“表达式”条目，位于一个空框前面。
> 
> 单击空框，它将显示一个带有三个点的按钮。单击该按钮。这会调出“属性表达式编辑器”。左侧有一个带有“ConnectionString”等属性的下拉列表。在右侧，还有一个带有三个点的按钮。单击该按钮以拉出“表达式生成器”。如果您声明了任何变量，您会发现它们列在左上角，例如 User::VariableName，然后您可以将它们拖到表达式框中，它们将显示为 @[User::VariableName] . 不明显，但可行。

# symfony - Symfony2 生成实体错误

> ID：15221144
> 
> 赞同：2
> 
> 时间：2013-03-05T10:12:52.700
> 
> 标签：symfony, entities

我正在尝试从数据库中的现有表生成实体，但在从第二个数据库（或实体管理器）导入的特定实体中不断收到相同的错误，但我在主数据库中重新创建了此表以使用相同的实体管理器并得到相同的错误，所以我对正在发生的事情感到迷茫。

这是我生成它的命令：

```
php app/console doctrine:mapping:convert yml ./src/MyShop/ProductBundle/Resources/config/doctrine/metadata/orm --from-database --filter="Product" --em=mysecondaryem 
```

*（顺便说一句，有没有办法强制精确过滤？我只需要产品）* 这似乎没问题：

```
Processing entity "ProductSold"
Processing entity "Product"

Exporting "yml" mapping information to... 
```

然后

```
php app/console doctrine:mapping:import MyShopProductBundle annotation --em=mysecondaryem 
```

这很奇怪，因为它正在记录有关此数据库中存在的所有其他表的信息，但它只生成与过滤后的“产品”相对应的信息（只有文件 ProductSold.php 和 Product.php 确实存在）：

```
Importing mapping information from "mysecondaryem" entity manager
  > writing C:\mysite\src\MyShop\ProductBundle/Entity/ProductSold.php
  > writing C:\mysite\src\MyShop\ProductBundle/Entity/Family.php
  > writing C:\mysite\src\MyShop\ProductBundle/Entity/Category.php
  > writing C:\mysite\src\MyShop\ProductBundle/Entity/Item.php
  > writing C:\mysite\src\MyShop\ProductBundle/Entity/Stock.php
  > writing C:\mysite\src\MyShop\ProductBundle/Entity/Product.php 
```

然后，在第三步，我得到一个错误：

```
php app/console doctrine:generate:entities MyShopProductBundle --no-backup

Generating entities for bundle "MyShopProductBundle"
  [RuntimeException]
  Bundle "MyShopProductBundle" does not contain any mapped entities.
doctrine:generate:entities [--path="..."] [--no-backup] name 
```

正如我所说，我尝试省略辅助实体管理器（在我的第一个数据库中复制表），我得到了同样的错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:34:27.730

您已验证`C:\mysite\src\MyShop\ProductBundle/Entity/Product.php`已创建，但您是否也检查过它是否实际包含映射实体？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T12:42:48.300

好的，我发现了错误，我缺少**--force**参数，第一步命令应该是：

```
php app/console doctrine:mapping:convert yml ./src/MyShop/ProductBundle/Resources/config/doctrine/metadata/orm --from-database --force --filter="Product" --em=mysecondaryem 
```

# java - 获取类的数组列表的索引。爪哇

> ID：15221146
> 
> 赞同：0
> 
> 时间：2013-03-05T10:12:57.433
> 
> 标签：java, arrays, class, arraylist

我有班级列表A：

```
public class lista {
            int i;
            String name;

            public lista(int i, String name)
            {
                this.i = i;
                this.name = name;
            }
    } 
```

我从这个类中制作了 ArrayList。

```
 public static ArrayList<lista> friends; 
```

添加一些日期：14 - 亚当 2 - 约翰 35 - 阿诺德 74 - x 54 - x

我想获得 IndexOf 74 并将名称从 x 更改为 Catrina。

怎么做？

```
friends.get(friends.indexOf(??)) = "catarina"; 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-05T10:15:39.370

看起来你会更好地使用 a`Map`因为它们能够更好地处理键值对，这就是你在这里所拥有的。

```
Map<Integer, String> friends = new HashMap<Integer, String>();

friends.put(14, "Adam");

friends.get(14); //Adam

friends.put(14, "John");

friends.get(14); //Now John 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:22:28.473

这不是它的工作方式。您的`i`班级`lista`中的 不是它在列表中的位置的索引。

首先，你必须改变你的班级。这不是很好的编码。

```
public class Friend { 
       //note1: Class Names Start With Capital Letter!
       //note2: Class names have meaning!

        private int i; //notice private modifier. 
        private String name; //notice private modifier.

        public Friend (int i, String name)
        {
            this.i = i;
            this.name = name;
        }
        /* getter and setter methods */
        public int getI() {
            return i;
        }
        public String getName()
            return name;
        }
        public void setName(String name)
            this.name = name;
        }
      /* don't forget equals() and hashCode() */

} 
```

当然，正确的 equals() 和 hashCode() 方法对于能够正确使用它们至关重要 - 但是网上有很多关于这个主题的材料......

给定该类，您必须遍历列表以查找元素：

```
for(Friend friend: friends) {
    if(&& friend.getI()==74) {
        friend.setName("Cristina");
    }
} 
```

但从这里开始，仍有一些改进要做。[整流罩的方法](https://stackoverflow.com/a/15221201/1667004)是正确的方向，但我会更进一步，通过使用`Map<Integer, Friend>`：

```
//create Map
Map<Intger, Friend> friends = new HashMap<Integer, Friend>();
//note: use interface for declaring variables where possible to hide implementation specifics!

//add friends:
friends.put(75, new Friend(75,"a")); 
//... left ot others for brevity

//modify part:
Friend f = friends.get(75);
if(f!=null) { //always check for null
   f.setName("Christina");
} 
```

与考尔斯的方法相比，你还能得到什么？如果您想向`Friend`类中添加字段 - 您可以自由地这样做，而不必处理转换所有内容......

# macos - 如何更改 mac osx 10.8.2 上的默认编译器

> ID：15221147
> 
> 赞同：1
> 
> 时间：2013-03-05T10:12:58.643
> 
> 标签：macos, gcc, compiler-construction

我正在使用带有 llvm-gcc (i686-apple-darwin11-llvm-gcc-4.2) 的 mac osx 10.8.2 和 Xcode v4.6，当我尝试安装软件时，我意识到这个旧软件与这个新软件不兼容编译器，所以我在 /usr/local/bin 中安装了旧版本 gcc-4.2 (i686-apple-darwin11-gcc-4.2.1)，而 llvm-gcc 在 /usr/bin 中，但我也看到 gcc-4.2在 /usr/bin 和 llvm-gcc 中。当我再次尝试安装该软件时，我仍然遇到相同的错误。我想我需要将默认值更改为 gcc-4.2。在网上搜索后，我尝试了许多建议的方法，但仍然没有成功。

任何帮助是极大的赞赏，

谢谢

# syntax-highlighting - Sublime Text 2 中的自定义语法高亮

> ID：15221150
> 
> 赞同：44
> 
> 时间：2013-03-05T10:13:05.437
> 
> 标签：syntax-highlighting, sublimetext2

我想使用 Sublime Text 作为日志查看器。这就是为什么我需要创建 tmlanguage 文件来突出显示单词“ERROR”（以及其他一些）。是否有任何 tmlanguage xml 规范，或者你能给我一些 sublime text 2 的语法高亮文件的基本示例吗？

我没有在类似的问题中找到答案：[Syntax specific highlighting with Sublime Text 2](https://stackoverflow.com/questions/9345222/syntax-specific-highlighting-with-sublime-text-2)

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2013-03-06T00:48:24.623

Sublime Text 使用与 TextMate 相同的语法高亮。语法可以在[这里](http://manual.macromates.com/en/language_grammars)找到。我建议在 JSON 中工作，然后转换为 XML，因为它更容易阅读（至少对我来说是这样）。PackageDev插件[将为](https://github.com/SublimeText/PackageDev)您提供定义新语法的起始片段。它还包含一些用于配置的语法突出显示，以及 Plist 到 JSON 的转换器。下面是突出显示特定单词的 protobuf 语法定义文件的片段。至于高光的颜色，您必须查看您的配色方案文件。在下面的示例中，您将为其使用的颜色查找范围“constant.language”。您可能不需要编辑配色方案，除非您想要的不是已经内置到您的方案中的东西。

```
{ 
    "name": "Protocol Buffers",
    "scopeName": "source.proto",
    "fileTypes": ["proto"],
    "patterns": [{
            "match": "\\b(bool|bytes|double|fixed32|fixed64|float|int32|int64|sfixed32|sfixed64|sint32|sint64|string|uint32|uint64)\\b",
            "name": "constant.language.proto"
    }],
    "uuid": "8c8714d5-43ef-43d2-abd9-c9088901ddd5"
} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-08-11T06:26:13.877

你可以玩这个应用程序。许多语言都有很好的定义，您可以使用它们。

[http://tmtheme-editor.herokuapp.com/#/Cobalt](http://tmtheme-editor.herokuapp.com/#/Cobalt)

# android - 是否有任何特殊网站可以为移动应用程序获取丰富的背景/图像？

> ID：15221151
> 
> 赞同：5
> 
> 时间：2013-03-05T10:13:07.650
> 
> 标签：android, image, background

现在我已经创建了一个 android 应用程序。但是我的应用程序看起来不像正式的应用程序。即，就像 Play 商店中可用的应用程序一样。

我的应用程序的背景、按钮图像和其他组件的图像/背景看起来非常简单，就像一个玩具应用程序。

到目前为止，我通过谷歌搜索了背景和图像，但我并不满意。

谁能告诉我是否有任何特殊的网站可以获得丰富的背景/图像，特别是对于移动应用程序。

建议请..

感谢您宝贵的时间！..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-05T10:23:19.583

我不确定*现成的*图形是否是制作更丰富的应用程序的**唯一**解决方案。图形明智的是。

移动开发与针对诸如网站之类的开发存在巨大差异。再次，图形明智。在某些时候，无论资源的来源或性质如何，您都必须构建自己的资源`styles`并`themes`使用上述资源，并找到不仅适合您，而且主要适合**用户**的组合。

您对迄今为止的发现感到满意是非常**主观**的。尽管如此，看看下面的任何链接是否可以帮助您找到您可能喜欢的内容。但每一个他自己。正如他们所说，没有考虑到口味。;-)

1.  [http://www.2expertsdesign.com/graphics/50-free-psd-files-for-mobile-design-and-development](http://www.2expertsdesign.com/graphics/50-free-psd-files-for-mobile-design-and-development)
2.  [http://www.medialoot.com/](http://www.medialoot.com/)
3.  [http://naldzgraphics.net/freebies/30-free-mobile-web-application-icons/](http://naldzgraphics.net/freebies/30-free-mobile-web-application-icons/)
4.  [http://365psd.com/](http://365psd.com/)
5.  [http://dailytekk.com/2012/07/31/200-graphic-app-web-design-tools-resources/](http://dailytekk.com/2012/07/31/200-graphic-app-web-design-tools-resources/)
6.  [http://www.awwwards.com/inspirational-and-useful-resources-for-app-designers.html](http://www.awwwards.com/inspirational-and-useful-resources-for-app-designers.html)
7.  [http://www.psdfreebies.com](http://www.psdfreebies.com)

顺便说一句，这些链接来自一个简单的[谷歌搜索](https://www.google.co.in/#hl=en&safe=off&sclient=psy-ab&q=mobile+app+graphic+resource&oq=mobile+app+graphic+resource&gs_l=hp.3..33i21.90.8785.0.9311.27.26.0.1.1.2.259.4260.0j24j2.26.0.les%3B..0.0...1c.1.5.psy-ab.Km1biplJPug&pbx=1&bav=on.2,or.r_gc.r_pw.r_cp.r_qf.&bvm=bv.43148975,d.bmk&fp=1ae9bc3e4ce8fa6d&biw=1440&bih=775)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:22:26.857

您可以在此处找到 Android 提供的有用资源，例如图标和样式：http: [//developer.android.com/design/downloads/index.html](http://developer.android.com/design/downloads/index.html)

# c# - hakmem 算法

> ID：15221152
> 
> 赞同：0
> 
> 时间：2013-03-05T10:13:09.323
> 
> 标签：c#

我看到了这个 hakmem 算法：

```
int pop(unsigned x) {
  unsigned n;

  n = (x >> 1) & 0x77777777;
  x = x - n;
  n = (n >> 1) & 0x77777777;
  x = x - n;
  n = (n >> 1) & 0x77777777;
  x = x - n;
  x = (x + (x >> 4)) & 0x0F0F0F0F;
  x = x * 0x01010101;
  return x >> 24;
} 
```

是否可以将其更改为长 64 位？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T10:37:13.987

您正在计算所谓的“汉明权重”，对于整数来说，这意味着数字中二进制“1”位的数量。对于二进制数，这也称为“人口计数”。

有几种方法可以实现 64 位。

[有关详细信息，请参阅 Wiki 页面](http://en.wikipedia.org/wiki/Hamming_weight)。

[这是从这里窃取](https://stackoverflow.com/questions/2960434/c-population-count-of-unsigned-64-bit-integer-with-a-maximum-value-of-15)的一个实现：

```
public int Pop(ulong w) 
{
    w -= (w >> 1) & 0x5555555555555555UL;
    w = (w & 0x3333333333333333UL) + ((w >> 2) & 0x3333333333333333UL);
    w = (w + (w >> 4)) & 0x0f0f0f0f0f0f0f0fUL;
    return (int)((w * 0x0101010101010101UL) >> 56);
} 
```

# python - 获取正在运行的 Python 程序的实例

> ID：15221155
> 
> 赞同：0
> 
> 时间：2013-03-05T10:13:15.943
> 
> 标签：python, multithreading, instance

假设一个 python 程序正在运行。假设该程序中的 Class 对象可以为您提供一些统计信息。因此，如果我必须开发一个 Web UI 来显示统计信息，我如何获取正在运行的该类的实例 [作为单独的桌面应用程序] 并在 Web 中显示统计信息，我将使用 web2py 或 django。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:43:46.013

您不能（轻松地）从外部“获取正在运行的程序的实例”。您当然可以检测您的程序，以便它以某种方式传达其统计信息，例如通过套接字，或者作为一种更低技术的解决方案，您可以让它定期将相关数据存储在磁盘上的文件或数据库中，您的网络应用程序可以阅读。

# .net - 将始终在顶部的表单捕捉到屏幕的角落

> ID：15221157
> 
> 赞同：1
> 
> 时间：2013-03-05T10:13:24.167
> 
> 标签：.net, windows, vb.net, docking, always-on-top

`FixedToolWindow`我有一个很小的 ​​VB.net 应用程序，它是我制作的单一表单`TopMost = True`并且部分透明。是否可以将这个“停靠”到屏幕的角落？我喜欢它坐在底角，但目前必须手动对齐它。

我在 Windows 7 机器上使用它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T13:24:42.470

您可以*将*其在代码中移动到角落。下面的代码会将它移动到它当前占用的屏幕的右下角：

```
Dim scr As Screen = Screen.FromControl(Me)
Me.Top = scr.WorkingArea.Top + scr.WorkingArea.Height - Me.Height
Me.Left = scr.WorkingArea.Left + scr.WorkingArea.Width - Me.Width 
```

`WorkingArea`将其放置在任务栏上方，`Bounds`如果您想将其放置在任务栏上方（如果可见） ，请使用

# .htaccess - 使用 htaccess 301 重定向将 www.domain.com/112 重定向到 www.domain.com/

> ID：15221164
> 
> 赞同：0
> 
> 时间：2013-03-05T10:13:44.243
> 
> 标签：.htaccess, redirect, http-status-code-301

我的网站上有数千个 URL，例如：

`www.domain.com/112` 和 `www.domain.com/113`

我想将这些直接重定向到`www.domain.com`.

有人可以解释我如何使用 301 重定向和 htaccess 来做到这一点吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T11:09:15.463

```
RewriteEngine on
RewriteRule ^(\d+)/?$ / [R=301,L] 
```

这会将文档根目录中的任何基于数字的请求重定向到索引页面

# c# - 如何在 XAML 中访问枚举值

> ID：15221165
> 
> 赞同：4
> 
> 时间：2013-03-05T10:13:45.400
> 
> 标签：c#, wpf, xaml

我有一个自定义字典，其中键作为枚举，值作为自定义对象。我需要在 xaml 中绑定这个对象。那我该怎么做呢？

我想做的是，

```
<Button Content="{Binding ButtonGroups[my enum value].Text}"></Button> 
```

我尝试过的，

```
<Button Content="{Binding ButtonGroups[local:MyEnum.Report].Text}"></Button>

<Button Content="{Binding ButtonGroups[x:Static local:MyEnum.Report].Text}">
</Button>

<Button Content="{Binding ButtonGroups[{x:Static local:MyEnum.Report}].Text}">
</Button> 
```

但以上任何一项都不适用于我。下面的代码正在显示枚举值，

```
<Button Content="{x:Static local:MyEnum.Report}"></Button> 
```

枚举文件，

```
public enum MyEnum
{
    Home,
    Report
} 
```

我的字典，

```
IDictionary<MyEnum, Button> ButtonGroups 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-05T10:22:24.767

你应该只需要使用`Enum`值，但`Button`没有`Text`属性，所以我使用了`Content`

```
 <Button Content="{Binding ButtonGroups[Home].Content}"> 
```

测试示例：

xml:

```
<Window x:Class="WpfApplication13.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MainWindow" x:Name="UI" Width="294" Height="79" >

    <Grid DataContext="{Binding ElementName=UI}">
         <Button Content="{Binding ButtonGroups[Home].Content}" />
    </Grid>
</Window> 
```

代码：

```
public partial class MainWindow : Window, INotifyPropertyChanged
{
    public MainWindow()
    {
        InitializeComponent();

        ButtonGroups.Add(MyEnum.Home, new Button { Content = "Hello" });
        NotifyPropertyChanged("ButtonGroups");
    }

    private Dictionary<MyEnum, Button> _buttonGroups = new Dictionary<MyEnum, Button>();
    public Dictionary<MyEnum, Button> ButtonGroups
    {
        get { return _buttonGroups; }
        set { _buttonGroups = value; }
    }

    public enum MyEnum
    {
        Home,
        Report
    }

    public event PropertyChangedEventHandler PropertyChanged;
    private void NotifyPropertyChanged(string property)
    {
        if (PropertyChanged != null)
        {
            PropertyChanged(this, new PropertyChangedEventArgs(property));
        }
    }
} 
```

结果：

![在此处输入图像描述](../Images/ed17f15b290211695bfcd25b328faeb5.png)

# php - 将变量传递到谷歌地图并刷新

> ID：15221166
> 
> 赞同：0
> 
> 时间：2013-03-05T10:13:45.790
> 
> 标签：php, javascript, variables, maps

工作正常

我只需要显示输入的用户名和密码的项目。我无法将 php 变量发送到 javascript 以回调数据库并更新地图

我有这个代码工作正常（只有一部分）：

```
function initialize() {
var myOptions = {
zoom: 10,
//center: new google.maps.LatLng(-33.9, 151.2),
mapTypeId: google.maps.MapTypeId.ROADMAP
}
var map = new google.maps.Map(document.getElementById("map_canvas"),
                            myOptions);
 <?
$query = mysql_query("SELECT lat2,lon2,idruta,FROM_UNIXTIME(time) as time FROM bus");
$valores="[";
$indice = 0;
while ($row = mysql_fetch_array($query)){
$namex=$row['idruta'];
$lat=$row['lat2'];
$lon=$row['lon2'];
$desc = $row['time'];
$name = $namex ." ".$desc;
$indice++;
$valores = $valores. "['$name',$lat,$lon,$indice],";
}
$valores = substr($valores, 0, -1);
$valores = $valores ."]";
echo ("setMarkers(map, $valores)");
?>

// setMarkers(map, beaches);
}
function codeAddress() {
 var myOptions = {
zoom: 10,
//center: new google.maps.LatLng(-33.9, 151.2),
mapTypeId: google.maps.MapTypeId.ROADMAP
 }
var map = new google.maps.Map(document.getElementById("map_canvas"),
                            myOptions);
<?
$query = mysql_query("SELECT lat2,lon2,idruta,FROM_UNIXTIME(time) as time FROM bus where user = $user");
$valores="[";
$indice = 0;
while ($row = mysql_fetch_array($query)){
$namex=$row['idruta'];
$lat=$row['lat2'];
$lon=$row['lon2'];
$desc = $row['time'];
$name = $namex ." ".$desc;
$indice++;
$valores = $valores. "['$name',$lat,$lon,$indice],";
}
$valores = substr($valores, 0, -1);
$valores = $valores ."]";
echo ("setMarkers(map, $valores)");
?>
}
function setMarkers(map, locations) {
 var image = new google.maps.MarkerImage('marker-panel.png',
 new google.maps.Size(220, 39),
 new google.maps.Point(0,0),
 new google.maps.Point(50, 39));
/* var shadow = new google.maps.MarkerImage('marker-panel.png',
      new google.maps.Size(37, 32),
      new google.maps.Point(0,0),
      new google.maps.Point(0, 32));*/
 var shape = {
      coord: [1, 1, 1, 20, 18, 20, 18 , 1],
      type: 'poly'
 };
 var bounds = new google.maps.LatLngBounds();
 for (var i = 0; i < locations.length; i++) {
      var beach = locations[i];
      var myLatLng = new google.maps.LatLng(beach[1], beach[2]);
      var marker = new google.maps.Marker({
           position: myLatLng,
           map: map,
           //shadow: shadow,
           icon: image,
           shape: shape,
           title: beach[0],
          zIndex: beach[3]
      });
      bounds.extend(myLatLng);
      var label = new Label({
           map: map
      });
      label.set('zIndex', 1234);
      label.bindTo('position', marker, 'position');
      label.set('text', beach[0]);
      //label.bindTo('text', marker, 'position');
  }
  map.fitBounds(bounds);
 }
 </script>
 </head>
 <body onload="initialize()">
 <div>
  <input id="usuario" type="textbox" value="usuario">
  <input id="password" type="password" value="password">
  <input type="button" value="Enviar" onclick="codeAddress()">
</div>
<div id="map_canvas" style="height:90%;top:30px"></div>
</body>
</html> 
```

但我只需要显示输入的用户积分和密码。我不知道

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T10:20:32.163

在调用这些 java 脚本函数之前，编写一段 php 代码来检查用户点和密码。如果用户点和密码正确，则意味着只调用那些脚本。

# android - 将 SVG 文件与 libgdx 一起使用

> ID：15221168
> 
> 赞同：16
> 
> 时间：2013-03-05T10:13:52.787
> 
> 标签：android, graphics, svg, libgdx

我打算创建平板电脑应用程序。我会要求一些指导。

我有像[这样](https://github.com/testeria/svgfiles/blob/master/roket.svg)的 SVG 格式的图片。

使用 SVG 很容易，您只需将填充参数更改为不同的颜色，但据我了解，libgdx 没有简单/稳定的 svg 处理。我仍然想使用 svg 文件为我的应用程序创建/存储图像。

*   您会推荐什么处理路径？
*   有没有一种简单的方法来转换 svg 路径/形状`com.badlogic.gdx.math.bezier`或多边形对象，然后在屏幕上绘制它们/在这个形状内获取用户输入（点击）？
*   或者我应该使用不同的对象/路径？

形状可以组合在一起，例如我想让房子里的两个窗户同时改变颜色。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-14T20:39:28.597

LibGDX 的编写方式是它为您提供了一种较低级别的方式来进行这种类型的渲染，但不提供开箱即用的方式来渲染 SVG。这实际上取决于您是在寻找具有性能的东西还是只是希望它绘制基本形状。

要简单地渲染形状，您可以使用[ShapeRenderer 之](http://libgdx.l33tlabs.org/docs/api/com/badlogic/gdx/graphics/glutils/ShapeRenderer.html)类的东西。这为您提供了一个非常接近 Java2D 绘图方式的接口。也许为了快速绘制一些基本的东西，这可能很方便。

如果您想做一些更强大的渲染版本，您可能需要考虑使用[Mesh](http://libgdx.l33tlabs.org/docs/api/com/badlogic/gdx/graphics/Mesh.html)并使用 OpenGL ES 的着色器。您可以在[LibGDX 测试](https://github.com/libgdx/libgdx/tree/master/tests/gdx-tests/src/com/badlogic/gdx/tests)中找到这些示例，也可以在线搜索示例/教程。

如果您想将 SVG 转换为纹理，您需要查看[Pixmap](http://libgdx.l33tlabs.org/docs/api/com/badlogic/gdx/graphics/Pixmap.html)，然后您可以使用它创建一个纹理并使用 Spritebatch 进行渲染。您将需要使用 Pixmap 编写要着色的像素等。但是，这样做会生成一个非托管纹理（即，当用户在按下或使设备进入睡眠状态后返回应用程序时，您必须重建它）。

# java - Neo4j 的高级映射模式性能

> ID：15221176
> 
> 赞同：4
> 
> 时间：2013-03-05T10:14:23.450
> 
> 标签：java, performance, neo4j, spring-data-neo4j

我在 Spring Data Neo4j 项目中使用了 Neo4j 的简单和高级映射模式。由于我已经从简单映射切换到高级映射，因此该项目的性能非常好，我的意思是比以前好多了。我没有确切的数字可以提供，但肯定是很多。有人可以澄清为什么高级映射模式优于简单映射吗？

我已经阅读了SDN 文档中的[编程模型](http://static.springsource.org/spring-data/neo4j/docs/2.2.0.RELEASE/reference/html/programming-model.html)页面，但我找不到确切的原因。

作为记录，我正在使用 Spring 的 @Transactional 支持。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-05T10:48:45.733

是的，这是真的，因为高级映射只是围绕节点和关系的一个薄包装器，并写入数据库（并且也读取）。简单映射复制数据进出。为了保持性能优势，只在事务中使用高级映射，你会很高兴。

如果您开始修改事务之外的实体，您将获得脏对象跟踪，并且它将开始再次将内容复制回来。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-30T11:58:04.603

我注意到，通过简单的映射，即使不应该有很多不必要的标签提取。即使您不使用@Fetch，SDN 仍然（出于某种原因）为相关 Set 中的所有节点获取标签，在某些情况下甚至更进一步。

例如，我有两个大约有 100 名成员的团队，并且这些团队也连接在一起（作为父子），而 @Fetch 没有在任何地方使用，性能仍然很糟糕。

所以我切换到高级映射来摆脱不必要的标签获取。在我看来，简单映射不应该再可用了，因为它与新的基于标签的 TypeRepresentationStrategy 配合得非常糟糕。似乎它不再适合标签。

# python - 具有预填充环境的 Python 子进程模块

> ID：15221177
> 
> 赞同：1
> 
> 时间：2013-03-05T10:14:28.653
> 
> 标签：python, python-2.7, subprocess

问题可能与[像命令行模拟器一样使用 python 子进程模块有关](https://stackoverflow.com/questions/15205597/use-python-subprocess-module-like-a-command-line-simulator)

我编写了一些名为 my_shell 的基础架构代码，您可以将我的应用程序的 shell 命令传递给它，如下所示

```
class ApplicationTestShell(object):
    def __init__(self):
        '''
        Constructor
        '''
        self.play_ground_dir = "/var/tmp/MyAppDir" 
        ensure_dir_exists_and_empty(self.play_ground_dir)

    def execute_command(self, command, on_success = None, on_failure = None):
        p = create_shell_process(self, self.play_ground_dir)
        sout, serr = p.communicate(input = command)
        if p.returncode == 0:
            on_success(sout)
        else:
            on_failure(serr)

    def create_shell_process(self, cwd):
        return Popen("/bin/bash", env= {WHAT DO I DO HERE?},cwd = test_dir, stdout=PIPE, stderr=PIPE, stdin=PIPE) 
```

对我来说有趣的是 env 参数。Python 期望所有环境变量的“地图”数据结构。我的应用程序需要导出和设置几个变量。用于设置和导出的脚本是通过运行 say '/bin/appload myapp' 生成的（假设 appload 在路径上始终可用）。我目前做的是当我打电话给 p.communicate 我做以下

```
p.communicate(input = "eval `/bin/appload myapp`;" + command) 
```

所以基本上在运行命令之前，我调用了基础设施设置。

1.  有没有办法在 Python 中以更好的方式做到这一点。我想以某种方式将 eval /bin/appload 部分推送到 Popen 类的 env 参数中，或者作为 shell 创建过程的一部分。
2.  我目前的实施有什么问题？（我觉得这很hacky，但我可能错了）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T18:02:21.423

1.  这取决于如何`/bin/appload myapp`工作。如果它只保证它会输出 bash 语法，那么在 Python 中解析该输出以构造环境对象几乎肯定会比它的价值更麻烦（您可能需要支持参数和变量扩展、子shell、进程替换等， ETC）。另一方面，如果你确定它`/bin/appload myapp`只会输出“ `VARIABLENAME=someword`”形式的行，那么在 Python 中解析就很简单了，如果你愿意，你可以将它移动到你的 Python 代码中。

    有很多不同的方向可以满足这些要求；您可以将输出捕获`appload myapp`到临时文件中并将子进程设置`$BASH_ENV`为该文件名；这将导致 shell 在以某些人可能认为更清洁的方式运行命令之前获取环境设置。您可以将您的命令（带有`eval`-ing 前缀）作为第一个参数`Popen`并传递给 pass `shell=True`，然后让其自行`Popen`执行调用（如有必要，显式设置为 bash ）。您可以使用 bash 的选项来指定要在命令行上运行的代码，而不是通过标准输入。您可以通过从 Python 调用 eval 的 shell 来采用多层方法`bash``$SHELL``-c``appload myapp`环境，然后 exec 在它下面的另一个 shell，这样第一个不会出现在 ps 列表中，并且给定的命令`create_shell_process`将 shell 全部归于它自己（尽管这并不重要）。您可以做很多事情，这取决于您对 shell 的调用方式、它在 ps 列表中的外观、如果`appload myapp`输出在 eval 时产生错误时是否希望您的命令仍然运行、等等。但对于一个通用的解决方案，我认为你所拥有的一切都很好。

2.  除了可能仅来自复制和粘贴代码的装饰性问题或次要问题外，我看不到实现的任何实际问题：`create_shell_process`不使用其`cwd`参数，`on_success`and`on_failure`参数看起来是可选的，但默认值将破坏东西（你不能打电话`None`）。

# javascript - 从 RGB 值或十六进制值获取颜色名称的 Javascript 函数

> ID：15221180
> 
> 赞同：0
> 
> 时间：2013-03-05T10:14:41.577
> 
> 标签：javascript

需要一个 javascript 方法来获取颜色名称。

希望javascript函数应该如下所示

```
function (r,g,b)
{
  ....
  return <color name>; // like blue, cyan, magneta etc etc
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T10:20:33.070

您可以使用 color_classifier.js [插件](http://gauth.fr/2011/09/get-a-color-name-from-any-rgb-combination/)来做到这一点。它工作得很好，并返回具有名称的最接近颜色的名称。

就这样使用

```
window.classifier = new ColorClassifier();
get_dataset('dataset.js', function (data){
    window.classifier.learn(data);
});
var result_name = window.classifier.classify("#aaf000"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-05T10:40:42.550

如果您知道颜色值表示与颜色匹配的组合，则可以使用：

```
function getName(r, g, b) {
  switch ((r >> 5)*100+(g >> 5)*10+(b >> 5)) {
    case 400: return "maroon";
    case 700: return "red";
    case 750: return "orange";
    case 770: return "yellow";
    case 440: return "olive";
    case 404: return "purple";
    case 707: return "fuchsia";
    case 777: return "white";
    case 070: return "lime";
    case 040: return "green";
    case 004: return "navy";
    case 007: return "blue";
    case 077: return "aqua";
    case 044: return "teal";
    case 000: return "black";
    case 666: return "silver";
    case 444: return "gray";
  }
} 
```

对于与颜色不匹配的颜色值，它可能会返回相似的颜色（例如`getName(230,240,250)`返回`"white"`），或`undefined`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T10:18:53.940

这里列出了所有标准的已知颜色：http: [//www.w3.org/TR/CSS21/syndata.html#color-units](http://www.w3.org/TR/CSS21/syndata.html#color-units)

这是已知颜色的最小集合，其他平台可能会给出更多颜色关键字如：[http ://www.w3schools.com/cssref/css_colornames.asp](http://www.w3schools.com/cssref/css_colornames.asp)

只需选择您已知的颜色集，将它们设为**(r, g, b) -> 名称**映射，此功能很容易实现

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-05T10:26:51.077

//将hex格式转换为rgb颜色的函数

```
function rgb2hex(rgb){
 rgb = rgb.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);
 return "#" +
  ("0" + parseInt(rgb[1],10).toString(16)).slice(-2) +
  ("0" + parseInt(rgb[2],10).toString(16)).slice(-2) +
  ("0" + parseInt(rgb[3],10).toString(16)).slice(-2);
} 
```

以下是如何将此代码与 jQuery 一起使用的示例：

```
document.write( rgb2hex($('#myElement').css('background-color')) );
// outputs: #222222 
```

现在您可以使用此输出并与任何开关功能进行比较以了解此颜色的名称

```
switch(color_code){
  case '#111111' : return ColorOne; break;
  case '#222222' : return ColorTwo; break;
  case '#333333' : return ColorThree; break;
} 
```

//将hex格式转换为rgb颜色的函数

```
function rgb2hex(rgb) {
var hexDigits = ["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];
rgb = rgb.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);
function hex(x) {
return isNaN(x) ? "00" : hexDigits[(x - x % 16) / 16] + hexDigits[x % 16];
}
return "#" + hex(rgb[1]) + hex(rgb[2]) + hex(rgb[3]);
} 
```

请参阅此 JSFiddle Link 可能会有所帮助。--> [点击这里](http://jsfiddle.net/Mottie/xcqpF/)

# c# - 跨多个分区的 Azure 表存储批量插入？

> ID：15221181
> 
> 赞同：11
> 
> 时间：2013-03-05T10:14:44.673
> 
> 标签：c#, azure, azure-storage, azure-table-storage

以下方法可用于将实体集合作为单个事务批量插入：

```
CloudTable.ExecuteBatch(TableBatchOperation batch) 
```

如果任何实体在插入期间失败，则不会从集合中插入任何内容。这仅在插入一个分区时可用。

**是否可以跨多个分区做这样的事情？**

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-03-05T10:19:07.783

不可以。批次中的所有实体必须具有相同的 PartitionKey。如果您的实体具有不同的 PartitionKey，则它们需要分批。有关实体批量事务的更多详细信息，请参见此处：http: [//msdn.microsoft.com/en-us/library/windowsazure/dd894038.aspx](http://msdn.microsoft.com/en-us/library/windowsazure/dd894038.aspx)。

# c# - Windows Phone 7.5 - AutoCompleteBox 填充事件

> ID：15221186
> 
> 赞同：1
> 
> 时间：2013-03-05T10:14:53.123
> 
> 标签：c#, silverlight, windows-phone-7, silverlight-toolkit

我为 WP7.5 开发应用程序。此应用使用 Silverlight Toolkit 中的 AutocompletexeBox。我为它创建了自定义逻辑。但我的问题是，填充事件被引发了两次，而不仅仅是一次。

这是我的代码：

```
void OnPopulating(object sender, PopulatingEventArgs e)
    {
        var populateAsyncCommand = PopulateAsyncCommand;

        if (populateAsyncCommand != null)
        {
            e.Cancel = true;
            populateAsyncCommand.Execute(new PopulateAsyncArgs{ CompleteAction = AssociatedObject.PopulateComplete, FilterParameter = e.Parameter});
        }
    } 
```

在这种情况下，我执行绑定在 View 中的命令。问题是，这个事件不是只提出一次，我无法解释，为什么。

谢谢你的建议。

# sql - 带有用户、角色和权限的 SQL SELECT 语句

> ID：15221188
> 
> 赞同：2
> 
> 时间：2013-03-05T10:15:00.983
> 
> 标签：sql, sql-server, select

可以说我有桌子：

1.  用户
2.  Users_in_Roles
3.  角色
4.  Rights_in_Roles
5.  权利

键是标准的（UserFk、RoleFk、RightFk）

问题是：如何让所有具有正确 X 角色的用户（id = 100）

我不知道如何解决这个问题。请帮助并为我的英语感到抱歉。

```
SELECT [dbo].[System_Users].[Id]
  ,[UserName]
  ,[FirstName]
  ,[LastName]
  ,[Email]
  ,RoleFk
  ,[dbo].[System_Roles].Name
  FROM [dbo].[System_Users]
INNER JOIN [dbo].[System_Roles_System_Users]
ON [dbo].[System_Roles_System_Users].UserFk = [dbo].[System_Users].Id
INNER JOIN [dbo].[System_Roles]
ON [dbo].[System_Roles].Id = [dbo].[System_Roles_System_Users].RoleFk

WHERE ? 
```

* * *

我试过这样，你能告诉我哪里错了吗？

```
SELECT 
DISTINCT System_Users.Id,
System_Users.FullName
FROM System_Users
INNER JOIN Dict_Rights_System_Users
ON System_Users.Id = Dict_Rights_System_Users.UserFk
INNER JOIN System_Roles_System_Users
ON System_Roles_System_Users.UserFk = System_Users.Id
WHERE
RightFk = 136
OR
136 IN (SELECT Dict_Rights_System_Roles.RightFk FROM Dict_Rights_System_Roles WHERE             
Dict_Rights_System_Roles.RoleFk = System_Roles_System_Users.RoleFk)
ORDER BY System_Users.FullName ASC 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-05T10:18:17.217

您将需要`JOIN`关于关键关系的表格。基本结构将是：

```
select u.Id, 
  u.UserName,
  u.FirstName,
  u.LastName,
  u.Email,
  r.RoleFk,
  r.Name RoleName,
  rt.Name RightName
from users u
inner join users_in_roles ur
  on u.id = ur.userfk
inner join roles r
  on ur.rolefk = r.id
inner join rights_in_roles rr
  on r.rolefk = rr.rolefk
inner join rights rt
  on rr.rightfk = rt.id
where rt.id = 100 
```

如果您需要帮助学习`JOIN`语法，这里是一个很好的参考：

*   [SQL 连接的可视化解释](http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-05T10:20:05.740

你可以试试这个：

```
SELECT  *
FROM    Users u
WHERE   EXISTS (
        SELECT  ur.RoleFk
        FROM    Users_in_Roles ur
        WHERE   u.UserPk = ur.UserFk
        AND     EXISTS
                (
                    SELECT  1
                    FROM    Rights_in_Roles rr
                    WHERE   rr.RoleFk = ur.RoleFk
                    AND     rr.RightFk = 100
                )
)
OR  EXISTS (

        SELECT  1
        FROM    Users_Rights uri
        WHERE   u.UserPk = uri.UserFk 
        AND     uri.RightFk = 100
) 
```

请注意，上面的查询不会为角色返回`RoleFk`和`Name`。

另一种方法是：

```
SELECT   u.Id
        ,u.UserName
        ,u.FirstName
        ,u.LastName
        ,u.Email
        ,rr.RoleFk
        ,r.Name
FROM    Users u

        -- get users that are in role that has right
LEFT JOIN   
        Users_in_Roles ur ON
        ur.UserFk = u.UserPk
LEFT JOIN   
        Rights_in_Roles rr ON
        rr.RoleFk = ur.RoleFk
AND     rr.RightFk = 100
LEFT JOIN   
        Rights r ON
        r.RolePk = rr.RoleFk

        -- get users that have a right granted to them directly
LEFT JOIN
        Users_Rights uri ON
        u.UserPk = uri.UserFk 
AND     uri.RightFk = 100

WHERE   rr.RoleFk IS NOT NULL OR uri.UserFk IS NOT NULL 
```

# c# - datagrid datacolumn_type“按钮”绑定不起作用

> ID：15221189
> 
> 赞同：0
> 
> 时间：2013-03-05T10:15:01.107
> 
> 标签：c#, wpf, mvvm, datagrid

我正在尝试使用以下代码`Button`在中的每一行中创建一个：`DataGrid`

```
<DataGrid SelectionMode="Single" ItemsSource="{Binding Path=SettingsCollection}" SelectedItem="{Binding SelectedSettings, Mode=TwoWay}" AutoGenerateColumns="False" Height="Auto" HorizontalAlignment="Stretch" Margin="5" Name="dataGrid1" VerticalAlignment="Stretch" Width="Auto" Grid.Row="1" CanUserAddRows="False">
    <DataGrid.Columns>
         <DataGridTemplateColumn Header="" CanUserResize="False" Width="38*" >
              <DataGridTemplateColumn.CellTemplate>
                   <DataTemplate>
                       <Button Command="{Binding ShowAdvancedSettings}" Name="btn" Visibility="Visible" Height="Auto" Width="Auto"  />
                   </DataTemplate>
              </DataGridTemplateColumn.CellTemplate>
         </DataGridTemplateColumn>
    </DataGrid.Columns>
</DataGrid> 
```

绑定不起作用。我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T15:03:33.187

确保命令“ShowAdvancedSettings”是 1-Public 2-放置在表示在数据网格上显示的对象而不是数据网格的视图模型的类上，即不是 SettingsCollection 所在的位置。

例如，您有一个名为的类`DataGridViewModel`，它有一个属性 `List<DataItemClass> SettingsCollection;`

该属性`ShowAdvancedSettings`应该在类内`DataItemClass`

# spring-mvc - Spring MVC 是否需要将实体复制/粘贴到 FormObject？

> ID：15221194
> 
> 赞同：2
> 
> 时间：2013-03-05T10:15:17.303
> 
> 标签：spring-mvc, data-binding

我正在开发我的第一个 Spring 3 webapp。在 Spring 2 中，我们曾经让 formBackingObject 从数据库中加载数据，然后让 Spring 绑定更新一些字段，然后 onSubmit 会持久化这些更改。

在 Spring 3 中，我似乎有两个选择：

1.  让用户编辑 100% 的持久对象。这意味着对象的 ID 需要是隐藏字段
2.  创建一个包含可编辑数据的表单对象，然后在提交时将其映射到持久对象

第一个选项并不是一个真正的选项，我们不能让用户编辑所有字段，我们宁愿不要在任何能够按 F12 的人都可以更改值的隐藏字段中显示数据。

第二种选择似乎是一种不错的设计方法。但是，它似乎需要基本上克隆每个可编辑的持久类。

```
@Entity
public class Company {
    private String uuid; // not editable!
    .. 30 other properties, 2 are not editable
}

public class CompanyForm {
    .. 28 of above properties
} 
```

然后一些映射机制有很多

```
public void map(CompanyForm cf, Company c) {
    cf.setName(c.getName());
    .. 27 other set(get())
} 
```

我祈祷这不是 Spring 的 MVC 绑定的“设计”方法。但是，到目前为止，我发现的所有教程都非常琐碎，并且从上面实现了选项 1。有人对实施选项 2 有什么建议吗？

谢谢，西蒙

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-10-21T17:14:27.157

数据绑定器 API

> 请注意，未能设置允许的字段数组可能会带来安全隐患。例如，在 HTTP 表单 POST 数据的情况下，恶意客户端可以尝试通过提供表单上不存在的字段或属性的值来破坏应用程序。在某些情况下，这可能会导致在命令对象或其嵌套对象上设置非法数据。因此，强烈建议在 DataBinder 上指定**allowedFields属性。**

您可以将它与选项 1 一起使用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-12T10:54:56.023

一种实用的方法是忽略更新语句中的不可编辑字段。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-16T17:16:58.147

实际上，我过去通过使用 @ModelAttribute 注释并检测请求中的 PK 来规避这一点，如果这样做，Spring 将使用从 @ModelAttribute 返回的对象并自动将提交的对象复制到它。

这是一种黑客攻击，但对于进来维护代码的人来说并不明显。

# java - 在executeBatch（）之前如何检查Prepared Statement是否有一些批次？

> ID：15221196
> 
> 赞同：3
> 
> 时间：2013-03-05T10:15:21.283
> 
> 标签：java, jdbc, prepared-statement

我对 Java 中的 Prepared Statement 有疑问，因为我对此不太了解。

我有一个必须使用 PreparedStatement 的用例。但我只是在编写代码之前想：

```
while(...)
{
   if(...)
   {
     preparedStatement.setString(1, fname);
     preparedStatement.setString(2, lname); 
      ...
     preparedStatement.addBatch();
   }
}
preparedStatement.executeBatch(); 
```

让我们考虑上面的代码。有一个 while 循环会做一些事情，然后检查一些条件，然后在准备好的语句中添加批处理。

1）所以，我的问题是，假设没有批次添加到准备好的语句中，我仍然说`executeBatch`。它会给我例外还是会执行得很好？

2）有什么方法可以在执行前检查preparedstatement中的批处理吗？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T10:29:58.927

它应该可以正常工作并返回一个空数组。要知道当前是否添加了批次，AFAIK 的唯一方法是自己跟踪它们。

另一方面，如果您只想知道实际*执行*了多少条语句，那么您可以使用返回的更新计数数组来检查运行了多少查询，以及其中的各个值来查看它们中的每一个是否它们成功了。[`executeBatch()`](http://docs.oracle.com/javase/7/docs/api/java/sql/Statement.html#executeBatch%28%29)有关详细信息，请参阅文档。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-01-17T20:04:49.973

您不必担心处理这种情况。一旦你熟悉了编写 API，你应该期望 javadoc 会给你一个 throws 子句的标准：

> 抛出：SQLException - 如果发生数据库访问错误，则在关闭的语句上调用此方法或驱动程序不支持批处理语句。如果发送到数据库的命令之一未能正确执行或尝试返回结果集，则引发 BatchUpdateException（SQLException 的子类）。SQLTimeoutException - 当驱动程序确定已超过 setQueryTimeout 方法指定的超时值时并且至少尝试取消当前正在运行的语句

此外，如果您持怀疑态度，请考虑返回类型、`int[] java.sql.Statement.executeBatch()` API 中的 Expect 对象为 null，以及返回空值或初始化值的标准原语/基本类型

正如 WDS 所说，它应该返回一个空的 int 数组。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-06-28T14:47:28.120

```
if(preparedstatement.executeBatch().length == 0){
//do somethimg
} 
```

基本上测试批次是否没有语句;-)

# php - mod_rewrite 发送不正确的结果

> ID：15221197
> 
> 赞同：0
> 
> 时间：2013-03-05T10:15:25.373
> 
> 标签：php, mod-rewrite

我的重写规则如下：

`RewriteRule ^groups/([0-9]+)/pg:([0-9]+);cr:(0|1);r:([a-z0-9-]+);rv:(0|1);eu:(0|1);fr:(0|1);de:(0|1);it:(0|1);ru:(0|1);es:(0|1);br:(0|1);la:(0|1);us:(0|1);au:(0|1)$ index.php?mod=groups&groups=$1&pg=$2&crossrealm=$3&realm=$4&reverse=$5&eu=$6&fr=$7&de=$8&it=$9&ru=$10&es=$11&br=$12&la=$13&us=$14&au=$15 [NC,L]`

哪个重定向成功，但是，`$_GET`发送显示不正确的结果：

```
$_GET:
array (size=16)
  'mod' => string 'groups' (length=6)
  'groups' => string '117' (length=3)
  'pg' => string '1' (length=1)
  'crossrealm' => string '1' (length=1)
  'realm' => string 'aegwynn' (length=7)
  'reverse' => string '0' (length=1)
  'eu' => string '1' (length=1)
  'fr' => string '0' (length=1)
  'de' => string '0' (length=1)
  'it' => string '0' (length=1)
  'ru' => string '1170' (length=4)
  'es' => string '1171' (length=4)
  'br' => string '1172' (length=4)
  'la' => string '1173' (length=4)
  'us' => string '1174' (length=4)
  'au' => string '1175' (length=4) 
```

有谁知道可能导致此问题的原因以及如何解决？

`EDIT`: 错误从 mod_rewrite 部分开始，它开始于`$10`，即`&ru=`。重写的 URL 正确返回，但实际的 URL 是`http://localhost/index.php?mod=groups&groups=117&pg=1&crossrealm=1&realm=aegwynn&reverse=0&eu=1&fr=0&de=0&it=1&ru=1170&es=1171&br=1172&la=1173&us=1174&au=1175`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T11:17:04.440

`mod-rewrite`不允许您捕获超过 9 个参数（从`$1`到`$9`）。

在你的情况下，`$10`读作`($1)0`，这就是你得到'1170'的原因。

您最好发送整个请求的 URI 并使用 PHP 分解它：

```
 list(
    $_GET['mod'], 
    $_GET['groups'], 
    $_GET['pg'], 
    $_GET['crossrealm'], 
    $_GET['realm'], 
    $_GET['reverse'], 
    $_GET['eu'], 
    $_GET['fr'], 
    $_GET['de'], 
    $_GET['it'], 
    $_GET['ru'], 
    $_GET['es'], 
    $_GET['br'], 
    $_GET['la'], 
    $_GET['us'], 
    $_GET['au']
  ) = explode( '/', $_GET['params']); 
```

# c# - 如何使用 ASP.NET 更改表单元素的操作部分？

> ID：15221200
> 
> 赞同：-1
> 
> 时间：2013-03-05T10:15:35.077
> 
> 标签：c#, asp.net, html, forms

使用 ASP.NET 创建的页面上的`form`元素如下所示（如果我从 Web 浏览器执行“查看页面源代码”）：

```
< form method="post" 
       action="Page.aspx?lang=en-US&amp;pp=10&amp;bi=10" 
       id="ctl01" enctype="multipart/form-data"> 
```

如何访问该表单元素？我需要`&amp;pp=10&amp;bi=10`从`action`元素中删除部分吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:18:53.837

如果您的页面上只有一个表单，请在您的 javascript 中尝试此操作

```
alert(document.forms[0].action); 
```

改变动作就这样做

```
var actionPath = document.forms[0].action;
// your logic to remove unwanted string with the help of string functions in JS
document.forms[0].action = actionPath; 
```

如果您知道表单的名称是什么，请像这样访问它。

```
document.forms['YOUR_FORM_NAME'].action 
```

或者您也可以使用客户端 ID 访问它，如果您想考虑您的表单有 runat="server 和它

```
document.getElementById(....)// Client Id of the form control 
```

# jquery - 从当前菜单列表项中删除链接

> ID：15221202
> 
> 赞同：0
> 
> 时间：2013-03-05T10:15:41.527
> 
> 标签：jquery, href, listitem

我有一个菜单，与大多数菜单一样，当当前页面与所选菜单项匹配时，它会将“current-menu-item”添加到列表项的类中。但是，我想从当前菜单项中删除链接。我正在使用以下代码，但没有任何乐趣。谁能指出出了什么问题：

```
jQuery(document).ready(function(){ 
    jQuery(".current-menu-item li:has(a[href=''])").remove();
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:18:30.763

尝试这个

```
jQuery('.current-menu-item li a').removeAttr( 'href' ); 
```

# objective-c - NSTextField 的单元格 setPlaceholderAttributedString - 获得焦点时占位符不可见

> ID：15221205
> 
> 赞同：2
> 
> 时间：2013-03-05T10:15:54.347
> 
> 标签：objective-c, cocoa

我确实使用对象来设置具有自定义字体和颜色的占位符`setPlaceholderAttributedString:`。`NSTextFieldCell`这是整个代码...

```
_statusMessageField = [[NSTextField alloc] initWithFrame:NSZeroRect];
[_statusMessageField setBordered:NO];
[_statusMessageField setBezeled:NO];
[_statusMessageField setFocusRingType:NSFocusRingTypeNone];
[_statusMessageField setDrawsBackground:NO];
[_statusMessageField setTextColor:TM_NS_COLOR(35, 37, 46)];
[_statusMessageField setFont:[NSFont systemFontOfSize:13.0]];

NSMutableAttributedString *placeholder = [[NSMutableAttributedString alloc] initWithString:@"What's up?"];
NSRange range = NSMakeRange( 0, [placeholder length] );
[placeholder addAttribute:NSFontAttributeName value:[NSFont systemFontOfSize:13.0] range:range];
[placeholder addAttribute:NSForegroundColorAttributeName value:TM_NS_COLORA( 92, 97, 114, 0.7 ) range:range];
[placeholder fixAttributesInRange:range];
[_statusMessageField.cell setPlaceholderAttributedString:placeholder];
_statusMessageField.translatesAutoresizingMaskIntoConstraints = NO;
[self addSubview:_statusMessageField]; 
```

...这让我发疯，因为...

*   占位符仅在`NSTextField`没有焦点时可见，
*   当我单击时`NSTextField`，插入符号可见，尚未输入任何内容，但占位符消失，这是错误的，应该可见，直到输入至少一个字符，

...当我替换`setPlaceholderAttributedString:`为（无归属）时，占位符的行为正确 - 在没有焦点或有焦点且尚未输入任何内容`setPlaceholderString:`时可见。`NSTextField`

知道有什么问题吗？

这是图像[http://d.pr/i/WoC9](http://d.pr/i/WoC9)的链接，您可以在其中看到差异。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T11:27:09.597

我认为您需要选中 NSTextField 状态下的“拒绝第一响应者”框。

这将解决问题。

```
- (void)applicationDidFinishLaunching:(NSNotification *)aNotification
{
    // Insert code here to initialize your application
    [_statusMessageField setBordered:NO];
    [_statusMessageField setBezeled:NO];
    [_statusMessageField setFocusRingType:NSFocusRingTypeNone];
    [_statusMessageField setDrawsBackground:NO];
    [_statusMessageField setTextColor:[NSColor blueColor]];
    [_statusMessageField setFont:[NSFont systemFontOfSize:13.0]];

    NSMutableAttributedString *placeholder = [[NSMutableAttributedString alloc] initWithString:@"What's up?"];
    NSRange range = NSMakeRange( 0, [placeholder length] );
    [placeholder addAttribute:NSFontAttributeName value:[NSFont systemFontOfSize:13.0] range:range];
    [placeholder addAttribute:NSForegroundColorAttributeName value:[NSColor greenColor] range:range];
    [placeholder fixAttributesInRange:range];
    [_statusMessageField.cell setPlaceholderAttributedString:placeholder];
    _statusMessageField.translatesAutoresizingMaskIntoConstraints = NO;
    [_statusMessageField setRefusesFirstResponder:NO];

}

- (void)awakeFromNib {

    [_statusMessageField setRefusesFirstResponder:YES];
} 
```

问候，尼拉姆

# android - 我如何解码相机捕获的图像？

> ID：15221206
> 
> 赞同：0
> 
> 时间：2013-03-05T10:16:03.120
> 
> 标签：android

请看这段代码。它只解码画廊图像而不是相机捕获的图像。如何`filePath`在相机捕获图像代码中指定 a ，以便它解码捕获的图像并压缩它们，并且只会解码画廊图像而不是相机捕获的图像。

```
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent imageReturnedIntent) {
    super.onActivityResult(requestCode, resultCode, imageReturnedIntent);

    if (requestCode == GALLERY_PICTURE) {
        Uri uri = imageReturnedIntent.getData();

        if (uri != null) {
            // User had pick an image.
            Cursor cursor = getContentResolver().query(uri, new String[] { android.provider.MediaStore.Images.ImageColumns.DATA }, null, null, null);
            cursor.moveToFirst();
            final String imageFilePath = cursor.getString(0);
            File photos = new File(imageFilePath);
            yourSelectedImage = decodeFile(photos);
            yourSelectedImage = Bitmap.createScaledBitmap(yourSelectedImage, 150, 150, true);
            imageView1.setImageBitmap(yourSelectedImage);
            cursor.close();
        } else {
            Toast toast = Toast.makeText(this, "No Image is selected.", Toast.LENGTH_LONG);
            toast.show();
        }
    } else if (requestCode == CAMERA_PICTURE) {
        if (imageReturnedIntent.getExtras() != null) {
            // here is the image from camera
            yourSelectedImage = (Bitmap)  
            imageReturnedIntent.getExtras().get("data");
            imageView1.setImageBitmap(yourSelectedImage);
            deleteLastCapturedImage();
        }
    }      
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T10:27:35.277

您访问相机图像的方式您将始终获得您必须使用意图启动相机的图像的缩略图，如果可能，请使用此功能单击图像

```
public void takePhoto1() {
        if (!android.os.Environment.getExternalStorageState().equals(
                android.os.Environment.MEDIA_MOUNTED)) {
            Toast.makeText(Add_View_Images_Activity.this,
                    "Please insert SDcard for capturing photo.",
                    Toast.LENGTH_SHORT).show();
        } else {

            try {

                photo1=new File(fWrapper.path+"/"+System.currentTimeMillis()+".jpg");
                Intent cameraIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);              
                cameraIntent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(photo1));
                cameraIntent.putExtra("return-data", true);

                startActivityForResult(cameraIntent, 4);
            } catch (Exception e) {
                Toast.makeText(Add_View_Images_Activity.this, ""+e, Toast.LENGTH_LONG).show();
            }
        }

    } 
```

此函数将图像保存在指定位置。现在您可以从onActivityResult中的文件photo1的路径中获取点击图像的路径。

像这样

```
String path=photo1.getAbsolutePath(); 
```

现在只需传递您获得此功能的路径，它始终 100% 工作。

```
 public Bitmap getImage(String path) throws IOException
        {
            BitmapFactory.Options options = new BitmapFactory.Options();
            options.inJustDecodeBounds = true;
            BitmapFactory.decodeFile(path, options);        
            int srcWidth = options.outWidth;
            int srcHeight = options.outHeight;
            int[] newWH =  new int[2];
            newWH[0] = srcWidth/2;
            newWH[1] = (newWH[0]*srcHeight)/srcWidth;

            int inSampleSize = 1;
            while(srcWidth / 2 >= newWH[0]){
                srcWidth /= 2;
                srcHeight /= 2;
                inSampleSize *= 2;
            }

            //      float desiredScale = (float) newWH[0] / srcWidth;
            // Decode with inSampleSize
            options.inJustDecodeBounds = false;
            options.inDither = false;
            options.inSampleSize = inSampleSize;
            options.inScaled = false;
            options.inPreferredConfig = Bitmap.Config.ARGB_8888;
            Bitmap sampledSrcBitmap = BitmapFactory.decodeFile(path,options);
            ExifInterface exif = new ExifInterface(path);
            String s=exif.getAttribute(ExifInterface.TAG_ORIENTATION);
            System.out.println("Orientation>>>>>>>>>>>>>>>>>>>>"+s);
            Matrix matrix = new Matrix();
            float rotation = rotationForImage(Add_View_Images_Activity.this, Uri.fromFile(new File(path)));
            if (rotation != 0f) {
                matrix.preRotate(rotation);
            }
            int newh = ( w * sampledSrcBitmap.getHeight() ) /sampledSrcBitmap.getWidth();
            Bitmap r=Bitmap.createScaledBitmap(sampledSrcBitmap, w, newh, true);
            Bitmap resizedBitmap = Bitmap.createBitmap(
                    r, 0, 0, w, newh, matrix, true);

            return resizedBitmap;
        } 
```

# event-handling - 如何模仿 enyo.Popup 行为

> ID：15221209
> 
> 赞同：0
> 
> 时间：2013-03-05T10:16:07.013
> 
> 标签：event-handling, popup, enyo

我目前正在尝试模仿这种`enyo.Popup`行为。我查看了[源代码](https://github.com/enyojs/enyo/blob/master/source/ui/Popup.js)，`github`但很难理解它。

特别是我遇到问题的代码：

```
handlers: {
    //...
    onRequestShow: "requestShow",
    onRequestHide: "requestHide"
},

//* @public
events: {
    //* Fires after the popup is shown.
    onShow: "",
    //* Fires after the popup is hidden.
    onHide: ""
}, 
```

在代码的其他地方，还有对`this.show()`.

首先，我没有找到`this.show()`. 其次，虽然我假设它必须分别在内部`this.show()`和`this.hide()`，但在哪里调用`onShow`和事件？`onHide`

最后，我定义了一种自己，也包含上面的代码。但是尽管`show()`and`hide()`方法有效，但我自己的`requestShow()`and`requestHide()`方法没有被调用。

我错过了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T22:07:53.267

首先，`show`是在 enyo.Control 上声明的函数：[http ://enyojs.com/api/#enyo.Control::show](http://enyojs.com/api/#enyo.Control::show)

`onShow`并且`onHide`是可以由弹出窗口的所有者订阅的事件（因此，它们在事件块中的声明）。它们在`showingChanged`函数中被调用。调用事件的方法是 do{EventNameWithoutOn}。在这种情况下： `doShow`。

查看有关事件的文档：[https](https://github.com/enyojs/enyo/wiki/Event-Handling)
://github.com/enyojs/enyo/wiki/Event-Handling （或者，您可以购买我的精美 Enyo 书！ [http: //roysutton.com/2013/01/31/print-书现在可用/](http://roysutton.com/2013/01/31/print-book-now-available/)）

处理程序块是控件订阅它（或其子）生成的消息的一种方式。话虽如此，我在代码中看不到任何生成`onRequestHide`事件的地方。

我希望这会有所帮助！

# iphone - 如何在按钮上调用方法单击自定义按钮

> ID：15221212
> 
> 赞同：0
> 
> 时间：2013-03-05T10:16:19.443
> 
> 标签：iphone, ipad, uitableview, uibutton

我有 CustomCell 我希望当我单击 CustomCell 中的按钮时它应该发出警报。那么如何访问那个 CustomCell 的方法

```
 @interface CustomCell : UITableViewCell {

IBOutlet UIImageView    *imageViewCell;
IBOutlet UILabel        *theTitle;
IBOutlet UIButton*imageButton;

  }

  @property(nonatomic,retain) IBOutlet UIButton*imageButton;
  @property(nonatomic,retain) UIImageView *imageViewCell;
  @property(nonatomic,retain) UILabel *theTitle;

 -(IBAction)imageButtonAction;

 @end

     @implementation CustomCell

     @synthesize imageViewCell;
     @synthesize theTitle;

    -(IBAction)imageButtonAction{

     } 
```

而不是在这里调用这个方法，我希望这个方法应该在我使用 CustomCell 的类中唤起任何想法如何做到这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T10:20:44.380

在您`cellForRowAtIndexPath`添加此代码：

```
[cell.imageButton addTarget:self action:@selector(imageButtonAction) forControlEvents:UIControlEventTouchUpInside]; 
```

`-(IBAction)imageButtonAction;`在您使用此自定义单元格的特定类中声明并定义此函数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-05T10:21:07.467

指定单元格后，在索引路径的 cellforrow 中添加以下行。当您单击单元格中的按钮时，它将调用该方法

```
[cell.button addTarget:self action:@selector(imageButtonAction) forControlEvents:UIControlEventTouchUpInside]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T10:32:22.187

在 cellforrowatindexpath 中使用以下行：方法

[cell.imageButton addTarget:self action:@selector(imageButtonAction) forControlEvents:UIControlEventTouchUpInside];

并且不要忘记为 imageButtonAction 制作方法

# java - XPath 和链接的问题

> ID：15221214
> 
> 赞同：1
> 
> 时间：2013-03-05T10:16:24.130
> 
> 标签：java, xpath, tag-soup

我第一次发帖！

我遇到的问题是我正在使用 XPath 和 Tag-Soup 来解析网页并读取数据。由于这些是新闻文章，有时它们在内容中嵌入了链接，这些是我的程序搞砸的地方。

我正在使用的 XPath 是`storyPath = "//html:article//html:p//text()";`页面具有以下结构的地方：

```
<article ...>
   <p>Some text from the story.</p>
   <p>More of the story, which proves <a href="">what a great story this is</a>!</p>
   <p>More of the story without links!</p>
</article> 
```

我与 xpath 评估相关的代码是这样的：

```
NodeList nL = XPathAPI.selectNodeList(doc,storyPath);

LinkedList<String> story = new LinkedList<String>();
    for (int i=0; i<nL.getLength(); i++) {
        Node n = nL.item(i);

        String tmp = n.toString();
        tmp = tmp.replace("[#text:", "");
        tmp = tmp.replace("]", "");
        tmp = tmp.replaceAll("‚Äô", "'");
        tmp = tmp.replaceAll("‚Äò", "'");
        tmp = tmp.replaceAll("‚Äì", "-");
        tmp = tmp.replaceAll("¬", "");
        tmp = tmp.trim();

        story.add(tmp);
    }

this.setStory(story);
...

private void setStory(LinkedList<String> story) {
    String tmp = "";
    for (String p : story) {
        tmp = tmp + p + "\n\n";
    }

    this.story = tmp.trim();
} 
```

这给我的输出是

```
Some text from the story.

More of the story, which proves 

what a great story this is

!

More of the story without links! 
```

有没有人有办法让我消除这个错误？我在某处采取了错误的方法吗？（我知道我很可能使用 setStory 代码，但看不到其他方式。

如果没有 tmp.replace() 代码，所有结果都会显示为 [#text: what a great story this is] 等

编辑：

我仍然遇到麻烦，尽管可能是另一种问题。。在这里杀死我的又是一个链接，但是 BBC 拥有他们的网站的方式，该链接位于单独的行上，因此它仍然会出现同样的问题如前所述（请注意，给出的示例已解决问题）。BBC页面上的代码部分是：

```
 <p>    Former Queens Park Rangers trainee Sterling, who 

    <a  href="http://news.bbc.co.uk/sport1/hi/football/teams/l/liverpool/8541174.stm" >moved to the Merseyside club in February 2010 aged 15,</a> 

    had not started a senior match for the Reds before this season.
    </p> 
```

在我的输出中显示为：

```
 Former Queens Park Rangers trainee Sterling, who 

    moved to the Merseyside club in February 2010 aged 15, 

         had not started a senior match for the Reds before this season. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T12:03:43.727

首先找到段落，： `storyPath = "//html:article//html:p`，然后对于每个段落，用另一个 xpath 查询取出所有文本，并将它们连接起来而不用换行，并在段落末尾放置两个新行。

另一方面，您不必这样做`replaceAll("‚Äô", "'")`。这肯定表明您打开文件不正确。当您打开文件时，您需要将 Reader 传递给标签汤。您应该像这样初始化 Reader：`Reader r = new BufferedReader(new InputStreamReader(new FileInputStream("myfilename.html"),"Cp1252"));`在其中为文件指定正确的字符集。字符集列表在这里：[http](http://docs.oracle.com/javase/1.5.0/docs/guide/intl/encoding.doc.html) ://docs.oracle.com/javase/1.5.0/docs/guide/intl/encoding.doc.html 我猜它是 Windows latin 1。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-05T12:24:42.950

`[#text:`事情只是 DOM Text 节点的表示`toString()`。`toString()`当您需要节点的字符串表示以进行调试时，应使用该方法。而不是`toString()`使用`getTextContent()`which 返回实际文本。

如果您不希望链接内容出现在单独的行上，那么您可以`//text()`从 XPath 中删除并直接获取元素节点的 textContent （`getTextContent()`对于元素返回所有后代文本节点的串联）

```
String storyPath = "//html:article//html:p";
NodeList nL = XPathAPI.selectNodeList(doc,storyPath);

LinkedList<String> story = new LinkedList<String>();
for (int i=0; i<nL.getLength(); i++) {
    Node n = nL.item(i);
    story.add(n.getTextContent().trim());
} 
```

您必须手动修复诸如此类的事实`"‚Äô"`表明您的 HTML 实际上是用 UTF-8 编码的，但您正在使用单字节字符集（例如 Windows1252）读取它。与其尝试事后修复它，不如首先弄清楚如何以正确的编码读取数据。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-05T15:07:18.350

对于 html 源代码中的新行进入文本文档的编辑问题，您需要在打印它们之前将其删除。而不是`System.out.print(text.trim());`做`System.out.println(text.trim().replaceAll("[ \t\r\n]+", " "));`

# google-plus - 如何从 google share api 获得响应。？

> ID：15221215
> 
> 赞同：1
> 
> 时间：2013-03-05T10:16:25.767
> 
> 标签：google-plus

我正在使用 google+ 分享按钮。它工作正常，内容也成功共享。但我想生成成功共享的通知，同样的错误。为此，我需要 google+ 分享的回应。如果有人知道如何从 google+ share api 获得响应，请分享。谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T14:56:21.160

[Google+ 分享按钮](https://developers.google.com/+/web/share)不提供检测网络帖子分享的机制。和参数在悬停事件上触发`onstartinteraction`，`onendinteraction`以防您需要监听其他事件。

[+1 按钮确实提供了回调](https://developers.google.com/+/web/+1button/#attr-callback)，但它不用于检测按钮的共享，而是用于检测 +1。此外，您需要小心确保遵守[Google+ 按钮政策](https://developers.google.com/+/web/buttons-policy)。

# eclipse - 可以在 Eclipse 中更改 CTRL + SHIFT + F 的设置吗？

> ID：15221225
> 
> 赞同：14
> 
> 时间：2013-03-05T10:17:34.523
> 
> 标签：eclipse

当我在 Eclipse 中使用`CTRL`++的组合来格式化代码时，我不喜欢它像这样刹车`SHIFT`：`F`

```
Toast.makeText(Activity_1.this, String.valueOf(numbersOfRows),
                Toast.LENGTH_LONG).show(); 
```

如果我想在行首添加像 // 这样的注释符号，那么我必须在第二行做同样的事情，否则我会出错！

有没有办法防止这样的刹车排？

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-03-05T10:32:16.107

您可以在“windows/Preferences/Java/Code Style/Formatter”中配置您的格式化程序选项。点击编辑您的个人资料。在这里，您有“换行”选项。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-07-23T11:55:40.607

在 Preferences/Java/Code Style/Formatter 中设置“预览窗口的线宽”选项和“最大线宽”选项。在此之前，您应该创建一个新的配置文件名称而不是默认配置文件名称

# java - java - 不活动20秒后结束会话

> ID：15221228
> 
> 赞同：0
> 
> 时间：2013-03-05T10:17:42.993
> 
> 标签：java, timer, session-timeout

每个人。

我正在实现一种类似于自定义计时器的会话。这是一个具有 start()、pause()、resume() 和 stop() 的单例类。我想要实现的是会话超时。比如说，如果调用了 pause() 并且 20 秒后没有调用 resume()，我想调用 stop() 来结束该会话。

任何想法如何实现这一点？

谢谢。

编辑：

不是真正的计时器，它更像是这样的秒表计时器：

```
public class MyTimer{
    private long startTime;
    private long endTime;

    public MyTimer getInstance(){//singleton}

    public void start(){//}
    public void stop(){//}
    public void resume(){//}
    public void pause(){//}
} 
```

辛格尔顿

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T10:29:15.170

为要超时的每个线程使用计时器，或者：

*   让每个线程都有自己的超时计数器
*   在单独的线程上，定期（通过计时器）迭代您的线程并查找自上次计时器重置操作以来的秒数
*   只要线程的时间用完就停止（）线程，否则增加秒数

尽管如此，stop()-ping 线程可能会导致各种问题。更好的是定期检查信号并将信号设置为“应该停止”并让线程自行终止。

# symfony - 如何在 Symfony 2.2 中使用“渲染”在 Twig 中插入控制器？

> ID：15221230
> 
> 赞同：34
> 
> 时间：2013-03-05T10:17:47.757
> 
> 标签：symfony, twig, symfony-2.2

我正在将我的项目从 Symfony 2.0.22 升级到 2.2.0 并查看一些更改，但我被阻止了：

我想用他们的控制器渲染（如在 Sf 2.0.X 中）一个标题，并且“渲染”树枝方法对我不起作用。他们是错误的：

> 渲染“OSSiteBundle:Index:index.html.twig”中的模板（“未找到“GET Index:header”的路由”）时引发异常。

这是实际的渲染方法：

> {# src/OS/SiteBundle/Resources/views/layout.html.twig #}
> 
> ...
> 
> {% render "OSSiteBundle:Index:header" with {'thisid' : block('thisid'), ... } %}

我试过 ：

```
{{ render('OSSiteBundle:Index:header' , {'thisid' : block('thisid'), 'thistitle' : block('thistitle'), 'thisunderpageid' : block('thisunderpageid'), 'thisbackground' : block('thisbackground') }) }}

{{ include("OSSiteBundle:Index:header.html.twig", {'thisid' : block('thisid'), 'thistitle' : block('thistitle'), 'thisunderpageid' : block('thisunderpageid'), 'thisbackground' : block('thisbackground') }) }} 
```

=>最后一个工作，但控制器不是以这种方式收集的

我什至尝试使用 routing.yml 中的路径进行渲染......我没有其他想法请帮帮我！

* * *

## 回答 #1

> 赞同：87
> 
> 时间：2013-03-05T10:24:27.620

在 Symfony >= 2.2.x 中，你应该像这样嵌入你的控制器：

```
{{ render(controller('AcmeArticleBundle:Article:recentArticles', { 'max': 3 })) }} 
```

看一下文档：

[创建和使用模板](http://symfony.com/doc/current/book/templating.html#embedding-controllers)

[升级-2.2](https://github.com/symfony/symfony/blob/2.2/UPGRADE-2.2.md)

# php - url的爆炸数组

> ID：15221231
> 
> 赞同：-2
> 
> 时间：2013-03-05T10:17:50.087
> 
> 标签：php, arrays, parse-url

我正在开发一个用于分析商店数据的网站。我需要数组的 url 部分看起来像这样：

```
array(
    'url'       => 'http://some.website.com:8080/SASStoredProcess/do?_username=user-123',
    '_password' => 'passwd',
    '_program'  => '/Utilisateurs/DARTIES3-2012/Mon dossier/analyse_dc',
    'annee'     => '2012',
    'ind'       => 'V',
    '_action'   => 'execute'
); 
```

我目前有这个并且正在努力将其转换为所需的格式：

```
array(
    'url' => 'url=http://some.website.com:8080/SASStoredProcess/do?_username=user-123&_password=passwd&_program=%2FUtilisateurs%2FDARTIES3-2012%2FMon+dossier%2Fanalyse_dc&annee=2012&ind=V&_action=execute',
    'otherKey' => 'otherValue'
); 
```

请有人可以帮我将第二个代码块中的 URL 转换为看起来像第一个代码块吗？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T10:28:27.743

您可能想使用：[parse_url()](http://www.php.net/manual/en/function.parse-url.php)和[parse_str()](http://www.php.net/manual/en/function.parse-str.php)在您的`$array['url']`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-05T10:42:52.467

因此，这将以您想要的形式提取 url，如下所示`$url`：

```
$myArray = array(
    'url' => 'url=http://some.website.com:8080/SASStoredProcess/do?_username=user-123&_password=passwd&_program=%2FUtilisateurs%2FDARTIES3-2012%2FMon+dossier%2Fanalyse_dc&annee=2012&ind=V&_action=execute',
    'otherKey' => 'otherValue'
);
parse_str($myArray['url']);
echo $url; 
```

您将需要决定下一步需要去哪里以及如何到达那里。

# php - Codeigniter：无法将数据从控制器传递到视图，但我的朋友可以

> ID：15221232
> 
> 赞同：0
> 
> 时间：2013-03-05T10:17:50.520
> 
> 标签：php, codeigniter, codeigniter-2

我已经使用 codeigniter 几个月了，突然之间，它不会让我将任何类型的信息传递给我的视图。它为一个事实加载了正确的视图，但我的变量都不能被回显，如果我这样做，我总是得到 NULL。但是，当我的同事这样做时，他认为变量很好。我们共享同一个存储库。有任何想法吗？我目前正在使用消息方法

```
<?php defined('BASEPATH') OR exit('No direct script access allowed');

class App_loader extends CI_Controller {
public $data = array();

function __construct()
{
    parent::__construct();
}

public function dashboard() {
    $this -> load -> view ('apps/dashboard/index');
}

public function appstore() {
    $this -> load -> view ('apps/appstore/index');
}

public function calendar() {
    $this -> load -> view ('apps/calendar/index');
}

public function messages() {
    $this->data["name"] = "Vincent";
    $this->load->view('apps/messages/index',$this->data);
}

public function profile() {
    $this -> load -> view ('apps/profile/index');
}

public function vendors() {
    $this -> load -> view ('apps/vendors/index');
}

public function settings() {
    $this -> load -> view ('settings');
}   
} 
```

在我看来，我所拥有的只是一个死亡声明 die($name); 和一些html。我得到NULL。（是的，它被正确的 php 标签包围。以前有人见过这样的东西吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T11:44:38.897

变量不需要使用**$this关键字。您可以像这样简单地使用：**

```
$data['name'] = 'Vincent';
$this->load->view('apps/messages/index',$data); 
```

在您看来，您可以通过**$name获得 name 的值**

```
echo $name; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:21:55.080

您必须使用普通数据数组，例如：

```
 $data=array(); 
 $data["name"] = "Vincent";
 $this->load->view('apps/messages/index',$data); 
```

不喜欢：

```
$this->data["name"] = "Vincent";
$this->load->view('apps/messages/index',$this->data);

if used like this you have to put 

$data = array(); in constructor 
```

而已！

# javascript - js幻灯片开始时的空白图像 - Ruby on Rails

> ID：15221234
> 
> 赞同：0
> 
> 时间：2013-03-05T10:18:00.483
> 
> 标签：javascript, ruby-on-rails, database, image, cycle

我还很新，所以请原谅我可能缺乏任何知识。

我在一个项目中使用了 cycle2 插件，并且我在我的索引页面上制作了一张幻灯片，效果很好，它完全没有问题，因为它从网上提取图像。

但是我想在展示页面上做一个幻灯片，以便为每个产品从数据库中提取产品图像。我已经做到了，但是这样做时，幻灯片的第一张图片总是空的，并且不断尝试加载，直到它从数据库中更改为图片。

我很确定它在 img src 中的某些东西我在获取图像时做错了，只是得到一张空白幻灯片，任何帮助将不胜感激！

到目前为止的代码是；

```
 <div id="slideshow">

                        <div class="cycle-slideshow" 
                            data-cycle-fx=scrollHorz
                            data-cycle-timeout=4000
                            style="z-index:-1;"
                            data-cycle-prev="#prev"
                            data-cycle-next="#next"
                            >
                            <!-- empty element for pager links -->
                            <div class="cycle-pager"></div>
                                <!-- empty element for overlay -->
                            <img src =  <%= link_to image_tag @product.image_url %>>
                        <!-- prev/next links -->
                        <div id=outside>
                        <span id=prev><a href="#" class="button1">?</a></span>
                        <span id=next><a href="#" class="button1">? </a></span>

                </div>
        </div> 
```

谢谢，本

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-01T21:50:27.077

使用这个：`<%= image_tag(product.image_url) %>`。这就是我用来做我的工作的东西。

# mongodb - MongoDB 数据建模：使用大量数据库有什么缺点吗？

> ID：15221236
> 
> 赞同：3
> 
> 时间：2013-03-05T10:18:02.507
> 
> 标签：mongodb, database-design, data-modeling

我最近搬到了 Web 应用程序后端的 MongoDB 部分，Web 应用程序本身就是一个验证工具，工作流程如下所示：

*   用户上传文件（通常数十万行）
*   验证器检查它是否输出大量消息（每行可能不止一条）
*   ...最后提供一些统计数据

我对我的应用程序进行了建模，以便每个用户都有自己的数据库，其中包含：

*   文件（通过 GridFS 保存）
*   包含消息的集合（在某些情况下可能超过一百万行）
*   带有统计信息的集合

我们有几百个用户，所以**MongoDB 最终会有几百个 DB**。

当然，我可以将所有数据保存在同一个数据库中，使用名称空间将来自不同用户的数据分开。但是我觉得在连接 URI 中发送数据库很方便，而且我发现发出“删除数据库”语句来清除用户更直观，而不是在大型数据库中搜索和删除其数据。

我对 MongoDB 很陌生，所以我的问题是：**在同一个 MongoDB 实例中拥有多个数据库有什么缺点吗？或者我应该对这个问题给予什么特别的考虑？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T16:10:43.650

我对 MongoDB 并不特别熟悉。通常，打开与数据库的连接是一个相对较慢的操作，并且会占用系统资源。在你的情况下这是否足够重要，我不能说。

为每个用户使用不同的数据库会使执行访问多个用户数据的查询变得困难。也许你没有必要这样做。

不过，我认为通常只在每条记录中放置一个用户 ID 而不是创建一个单独的数据库会简单得多。单独的数据库有什么好处？好的，删除用户意味着说“删除数据库”。但是从单个数据库中删除用户应该意味着说“从 user=? 的 tableX 中删除；从 user=? 的 tableY 中删除” 等等，无论您拥有多少相关表格。我无法想象它是数百，对吧？也许半打代码左右？

# jquery - 日期选择器 jquery 插件无法通过 jquery 加载方法在另一个页面中工作

> ID：15221238
> 
> 赞同：4
> 
> 时间：2013-03-05T10:18:08.107
> 
> 标签：jquery, jquery-ui-datepicker, jquery-load

我有两个 html main.html 和 a.html

```
<html>
<head>
<title> main.html   </title>
<script src="http://code.jquery.com/jquery-latest.js"></script>
<script>
$(document).ready(function() {
     $("#y").click(function()
     {
       $('#y1').load('a.html');
     });
});
</script>
</head>
<body>
  <div id="y">link1    </div>
  <div id="y1">frame   </div>
</body>
</html> 
```

一个.html

```
<html>
<head>
<title>a.html    </title>
<script src="http://code.jquery.com/jquery-latest.js"></script>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.1/themes/base/jquery-ui.css" />
<script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>
<link rel="stylesheet" href="/resources/demos/style.css" />
<script>
$(document).ready(function(){
      $("#date").datepicker();
      $("#y2").on("click",function(){
          alert("clicked data in a.html");
      });
});
</script>
</head>
<body>
  <div id="y2"> click here to get alert   </div>
  <input id="date" type="text" />
</body>
</html> 
```

当我打开 a.html 文件时，datepicker 工作正常，但打开 main.html 文件单击“link1”将 a.html 加载到 main.html datepicker 失败，我在 Firefox 错误控制台中收到一条错误消息

```
>Error: TypeError: $(...).datepicker is not a function
>Source File: http://code.jquery.com/jquery-latest.js?_=1362478481277
>Line: 605 
```

[编辑以改善我的问题]

现在我的 main.html

```
<html>
<head>
<title> main.html   </title>
<script src="http://code.jquery.com/jquery-latest.js"></script>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.1/themes/base/jquery-ui.css" />
<script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>  
<link rel="stylesheet" href="/resources/demos/style.css" />
<script>
$(document).ready(function() {
     $("#y").click(function()
     {
       $('#y1').load('a.html');
     });
     $("#y4").click(function()
     {
       $('#y1').load('b.html');
     });
});
</script>
</head>
<body>
  <div id="y">link1    </div>
  <div id="y4">link2    </div>
  <div id="y1">frame   </div>
</body>
</html> 
```

一个.html

```
<html>
<head>
<title>a.html    </title>
<script src="http://code.jquery.com/jquery-latest.js"></script>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.1/themes/base/jquery-ui.css" />
<script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>
<link rel="stylesheet" href="/resources/demos/style.css" />
<script>
$(document).ready(function(){
      $("#date").datepicker();
      $("#y2").on("click",function(){
          alert("clicked data in a.html");
      });
});
</script>
</head>
<body>
  <div id="y2"> click here to get alert   </div>
  <input id="date" type="text" />
</body>
</html> 
```

b.html

```
<html>
<head>
<title>b.html    </title>
<script src="http://code.jquery.com/jquery-latest.js"></script>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.1/themes/base/jquery-ui.css" />
<script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>
<link rel="stylesheet" href="/resources/demos/style.css" />
<script>
$(document).ready(function(){
      $("#date1").datepicker();
      $("#y3").on("click",function(){
          alert("clicked data in b.html");
      });
});
</script>
</head>
<body>
  <div id="y3"> click here to get alert   </div>
  <input id="date1" type="text" />
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:31:30.160

尝试添加

```
<script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.1/themes/base/jquery-ui.css"/> 
```

到您的 main.html 页面

好的，阅读本教程：[http ://webtutsdepot.com/2009/06/13/ajax-page-loading-with-jquery/](http://webtutsdepot.com/2009/06/13/ajax-page-loading-with-jquery/)

> 重要提示：当您将页面加载到另一个页面时，您加载的页面将从当前页面获取样式，这意味着您要加载的页面中所需要的只是标签内的内容。

因此，您需要在 main.html 页面中加载所有脚本文件，而在其他页面中您需要的是

*编辑更改 main.html 和 a.html 以反映您的问题，这将解决您的脚本冲突问题

main.html

```
<html>
<head>
<title> main.html   </title>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.1/themes/base/jquery-ui.css" />
<script src="http://code.jquery.com/jquery-latest.js"></script>
<script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>  
<script>
$(document).ready(function() {
    $("#y").click(function()
    {
       $('#y1').load('a.html #calendar'
       , function() {
            $("#date").datepicker();
            $("#y2").on("click",function(){
                alert("clicked data in a.html");
            });
       });
    });

    $("#y4").click(function()
    {
       $('#y1').load('b.html #calendar'
       , function() {
            $("#date1").datepicker();
            $("#y3").on("click",function(){
                alert("clicked data in b.html");
            });
       });
    });
});
</script>
</head>
<body>
  <div id="y">link1    </div>
  <div id="y4">link2    </div>
  <div id="y1">frame   </div>
</body>
</html> 
```

一个.html

```
<html>
<head>
<title>a.html</title>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.1/themes/base/jquery-ui.css" />
<link rel="stylesheet" href="/resources/demos/style.css" />
<script src="http://code.jquery.com/jquery-latest.js"></script>
<script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>
</head>
<body>
  <div id='calendar'>   
  <div id="y2"> click here to get alert   </div>
  <input id="date" type="text" />
  </div>
</body>
</html>

<script type="text/javascript">
$(document).ready(function(){
      $("#date").datepicker();

      $("#y2").on("click",function(){
      alert("clicked data in a.html");
      });
});
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-16T15:53:21.217

我遇到了同样的问题，使用以前版本的“JQuery-UI”解决了。在我的情况下，使用版本 1.9.2 和 1.10.3 到“JQuery”版本 1.10.1。知道原因，但我觉得最新的版本带来了一些紧凑性的问题，所以我选择使用总是倒退到过去。我希望它会有用

# regex - 平面文件转换后的元素重命名

> ID：15221240
> 
> 赞同：1
> 
> 时间：2013-03-05T10:18:15.410
> 
> 标签：regex, xslt

我实际上很难描述标题，所以让我告诉你我有什么：

我的 XML 最初是一个平面文件，并已转换为 XML 供我使用。下面是对原始 XML 的一些简化：

```
<Elements>
    <ElementBegin value="e1"/>
    <ElementBegin value="e2"/>
    <String>Some Blabla</String>
    <ElementEnd value="e2"/>
    <ElementBegin value="e2"/>
    <String>Some other Blabla</String>
    <ElementEnd value="e2"/>
    <ElementBegin value="e5"/>
    <String>Some more Blabla</String>
    <ElementEnd value="e5"/>
    <ElementEnd value="e1"/>
</Elements> 
```

有没有办法简单地“重命名”和`<ElementBegin value="e1"/>`使用正则表达式或其他东西？或者任何其他可行的方法？`<e1>``<ElementEnd value="e1"/>``</e1>`

所以最终的结果变成

```
<Elements>
   <e1>
      <e2>
         <String>Some Blabla</String>
      </e2>
      <e2>
         <String>Some other Blabla</String>
      </e2>
      <e5>
         <String>Some more Blabla</String>
      </e5>
   </e1>
</Elements> 
```

提前致谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-05T11:04:14.250

使用 XSLT 简单地重命名元素不需要正则表达式。你可以简单地做这样的事情：

```
<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output method="xml" indent="yes"/>

  <!-- Identity transform -->
  <xsl:template match="@*|node()">
    <xsl:copy>
      <xsl:apply-templates select="@*|node()"/>
    </xsl:copy>
  </xsl:template>

  <!-- Drop @value attribute -->
  <xsl:template match="@value"/>

  <!-- Rename <ElementBegin> and <ElementEnd> -->
  <xsl:template match="ElementBegin | ElementEnd">
    <!-- Use the value of the @value attribute as the new element name -->
    <xsl:element name="{@value}">
      <xsl:apply-templates select="@*|node()"/>
    </xsl:element>
  </xsl:template>
</xsl:stylesheet> 
```

但是，您的输入 XML 与您想要实现的结果之间存在一些差异。使用上面的样式表将产生以下结果：

```
<?xml version="1.0"?>
<Elements>
<e1/>
 <e2/>
  <String>Some Blabla</String>
 <e2/>
 <e2/>
  <String>Some other Blabla</String>
 <e2/>
 <e5/>
  <String>Some more Blabla</String>
 <e5/>
<e1/>
</Elements> 
```

我认为，这不是您想要的。为了实现正确的嵌套，您需要一个稍微复杂一点的样式表。像这样的东西应该可以工作（XSLT1.0 兼容）：

```
<?xml version="1.0" encoding="UTF-8"?>
<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">
  <xsl:output method="xml" indent="yes"/>

  <!-- Copy <String> elements as is -->
  <xsl:template match="String">
    <xsl:copy>
      <xsl:value-of select="."/>
    </xsl:copy>
  </xsl:template>

  <xsl:template match="Elements">
    <xsl:copy>
      <!-- Apply the first <ElementBegin> element -->
      <xsl:apply-templates select="ElementBegin[1]"/>
    </xsl:copy>
  </xsl:template>

  <xsl:template match="ElementBegin">
    <!-- Use the value of the @value attribute as the new element name -->
    <xsl:element name="{@value}">
      <!--
      Apply String elements whose first preceding <ElementBegin>
      sibling is the current element
      -->
      <xsl:apply-templates select="following-sibling::String
        [preceding-sibling::ElementBegin[1]
          [generate-id() = generate-id(current())]]"/>
    </xsl:element>
  </xsl:template>

  <!--
  Process <ElementBegin value="e1">. You could also use "ElementBegin[1]".
  -->
  <xsl:template match="ElementBegin[@value = 'e1']">
    <xsl:element name="{@value}">
      <!-- Apply all following <ElementBegin> siblings -->
      <xsl:apply-templates select="following-sibling::ElementBegin"/>
    </xsl:element>
  </xsl:template>

  <!-- Drop <ElementEnd> elements -->
  <xsl:template match="ElementEnd"/>
</xsl:stylesheet> 
```

### 输出

```
<?xml version="1.0"?>
<Elements>
  <e1>
    <e2>
      <String>Some Blabla</String>
    </e2>
    <e2>
      <String>Some other Blabla</String>
    </e2>
    <e5>
      <String>Some more Blabla</String>
    </e5>
  </e1>
</Elements> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-05T10:24:16.357

我不知道 xslt，但正则表达式可以很容易地完成这项任务。下面是一个使用 Perl 语法的示例：

```
s|<ElementBegin value="(\w+)"/>|<$1>|g;
s|<ElementEnd value="(\w+)"/>|</$1>|g; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-05T11:21:23.513

```
<?xml version="1.0" encoding="utf-8"?>
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
    <xsl:output method="xml" indent="yes"/>

    <xsl:template match="@* | node()">
        <xsl:copy>
            <xsl:apply-templates select="@* | node()"/>
        </xsl:copy>
    </xsl:template>

  <xsl:template match="ElementBegin">
    <xsl:value-of select="concat('&#60;', @value,'&#62;')" disable-output-escaping="yes"/>
  </xsl:template>
  <xsl:template match="ElementEnd">
    <xsl:value-of select="concat('&#60;/', @value,'&#62;')" disable-output-escaping="yes"/>
  </xsl:template>
</xsl:stylesheet> 
```

**解释：**

```
 <xsl:template match="ElementBegin">
        <xsl:value-of select="concat('&#60;', @value,'&#62;')" disable-output-escaping="yes"/>
      </xsl:template> 
```

上面的模板创建了一个新的开放标签，元素名称为@value，
示例：`<e1>`

和..

```
<xsl:template match="ElementEnd">
    <xsl:value-of select="concat('&#60;/', @value,'&#62;')" disable-output-escaping="yes"/>
  </xsl:template> 
```

此代码创建一个新的封闭标签，其中元素名称作为属性值的值。
例子：`</e1>`

因此，您的输出 XML 将如下所示：

```
<Elements>
   <e1>
      <e2>
         <String>Some Blabla</String>
      </e2>
      <e2>
         <String>Some other Blabla</String>
      </e2>
      <e5>
         <String>Some more Blabla</String>
      </e5>
   </e1>
</Elements> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-05T11:12:40.403

结合了开始和结束的正则表达式单行：

`<Element(?|Begin[^"]+"(\w+)"\/()|End[^"]+"(\w+)"(\/))`并替换为`<\2\1`

在这里解释演示：[http ://regex101.com/r/nA9rA8](http://regex101.com/r/nA9rA8)

# android - 呼出和呼入永远不会调用 OFF_HOOK STATE

> ID：15221242
> 
> 赞同：1
> 
> 时间：2013-03-05T10:18:17.390
> 
> 标签：android, android-activity, broadcastreceiver, telephonymanager

我编写了一个 BroadcastReceiver 来检测呼出和呼入。我正在监视用户在通话时的网络状态（即当电话状态为摘机时）。不幸的是，呼入和呼出都没有调用摘机状态。

这是广播接收器：

```
public class BroadcastReceiverImpl extends BroadcastReceiver{

    private ConnectivityManager connectivityManager;
    private TelephonyManager telephonyManager;
    private NetworkInfo networkInfo;
    private String networkStauts = "Not connected !!";

    //java.text.DateFormat.getDateTimeInstance().format(Calendar.getInstance().getTime().
    @Override
    public void onReceive(final Context context, Intent intent) {

        Toast.makeText(context, "Inside onReceive Method !!", Toast.LENGTH_SHORT).show();

        connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);
        networkInfo = connectivityManager.getActiveNetworkInfo();

        final Intent activityIntent = new Intent(context, ActivityImpl.class);

        telephonyManager = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);
        telephonyManager.listen(new PhoneStateListener(){

            @Override
            public void onCallStateChanged(int state, String incomingNumber) {

                switch (state) {

                case TelephonyManager.CALL_STATE_RINGING:
                     Toast.makeText(context, "Call State Ringing !!", Toast.LENGTH_SHORT).show();   
                    break;

                case TelephonyManager.CALL_STATE_OFFHOOK:
                    Toast.makeText(context, "Call State Offhook !!", Toast.LENGTH_SHORT).show();
                    while (networkInfo!=null && networkInfo.isConnectedOrConnecting()) {
                        networkStauts = "Network Connected";
                        try {
                            Thread.sleep(2000);
                        } catch (InterruptedException e) {
                            e.printStackTrace();
                        }
                    }
                    break;

                case TelephonyManager.CALL_STATE_IDLE:
                    Toast.makeText(context, "Call State Idle !!", Toast.LENGTH_SHORT).show();
                    activityIntent.putExtra("networkStatus", networkStauts);
                    activityIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
                    context.startActivity(activityIntent);
                    abortBroadcast();
                    break;
                default:
                    break;
                }

                super.onCallStateChanged(state, incomingNumber);
            }   

        }, PhoneStateListener.LISTEN_CALL_STATE);

    }

} 
```

每次通话结束时，我都会通过活动显示网络状态。但不幸的是，每次通话（呼出/呼入）都显示“未连接！！”。请让我知道问题所在。

我的清单文件：

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.monitornetwork_v10"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="16" />

    <uses-permission android:name="android.permission.PROCESS_OUTGOING_CALLS" />
    <uses-permission android:name="android.permission.READ_PHONE_STATE" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission android:name="android.permission.CHANGE_NETWORK_STATE" />

    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >

        <activity android:name="com.example.activity.NetworkMonitorActivityImpl"></activity>

        <receiver
            android:name="com.example.broadcastreceiver.BroadcastReceiverImpl"
            android:enabled="true" >
            <intent-filter>
                <action android:name="android.intent.action.ACTION_PHONE_STATE_CHANGED" />
                <action android:name="android.intent.action.NEW_OUTGOING_CALL" />
                <action android:name="android.net.conn.CONNECTIVITY_CHANGE" />
                <action android:name="android.intent.action.ANSWER" />
                <action android:name="android.intent.action.PHONE_STATE" />
                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </receiver>
    </application>

</manifest> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:59:49.537

你应该扩展 PhoneStateListener

```
TelephonyManager mTelManager;
final MyPhoneStateListener mPhoneStateListener = new MyPhoneStateListener(); 
```

在您的活动 onCreate

```
mTelManager = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);
mTelManager.listen(mPhoneStateListener, PhoneStateListener.LISTEN_CALL_STATE); 
```

创建一个内部类

```
protected class MyPhoneStateListener extends PhoneStateListener
{
    @Override
    public void onCallStateChanged(int state, String incomingNumber)
    {
        switch (state)
                {
                    case TelephonyManager.CALL_STATE_RINGING:

                       // do whatever you want here
                        break;

                    case TelephonyManager.CALL_STATE_OFFHOOK:
                        // do whatever you want here
                        break;

                    case TelephonyManager.CALL_STATE_IDLE:
                        // do whatever you want here
                }

    }
} 
```

在您的清单文件中添加

```
<uses-permission android:name="android.permission.READ_PHONE_STATE"/> 
```

# c# - 文本框中的简单查找和替换

> ID：15221245
> 
> 赞同：0
> 
> 时间：2013-03-05T10:18:22.490
> 
> 标签：c#, .net, xaml, windows-8, microsoft-metro

好的，我在 WinForms 应用程序中做了无数次，但这在 Metro 应用程序中不起作用。我不会发布我拥有的代码，因为我相信它只会让人感到困惑（因为相同的代码不适用于其他任何人的 Metro 应用程序）。

我想做的是允许某人在文本框中输入一串文本，然后在主文本框中找到该文本并突出显示/选择它。但这似乎几乎不可能完成。

我真的不知道该怎么办。我开始认为这是不可能的：-/

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T12:31:53.243

你应该检查[RichEditBox](http://msdn.microsoft.com/en-us/library/windows/apps/BR227548)

要选择您的文本，只需使用：

```
var sel = myRichEdit.Document.Selection;
    sel.StartPosition = 0;
    sel.EndPosition = 10; 
```

只需将值替换为您的选择。要在 RichEditBox 中搜索特定文本，只需使用 String 方法[IndexOf](http://msdn.microsoft.com//library/k8b1470s.aspx)。此方法应返回搜索值的索引。

# python - 使用 Matplotlib 进行主成分分析

> ID：15221246
> 
> 赞同：0
> 
> 时间：2013-03-05T10:18:24.793
> 
> 标签：python, colors, matplotlib, pca

我有一个约 1500 行的数据集，其中包含 6 个变量，我使用 PCA 处理并显示：

```
from matplotlib.mlab import PCA
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
from mpl_toolkits.mplot3d import proj3d
import numpy as np

data = np.array(data)

    try:
        results = PCA(data)
    except:
        raise

    #this will return an array of variance percentages for each component
    print results.fracs

    #
    print results.Wt

    #this will return a 2d array of the data projected into PCA space
    print results.Y 

    x = []
    y = []
    z = []
    for item in results.Y:
        x.append(item[0])
        y.append(item[1])
        z.append(item[2])

    fig1 = plt.figure() # Make a plotting figure
    ax = Axes3D(fig1) # use the plotting figure to create a Axis3D object.
    pltData = [x,y,z] 
    ax.scatter(pltData[0], pltData[1], pltData[2], 'bo') # make a scatter plot of blue dots from the data

    # make simple, bare axis lines through space:
    xAxisLine = ((min(pltData[0]), max(pltData[0])), (0, 0), (0,0)) # 2 points make the x-axis line at the data extrema along x-axis 
    ax.plot(xAxisLine[0], xAxisLine[1], xAxisLine[2], 'r') # make a red line for the x-axis.
    yAxisLine = ((0, 0), (min(pltData[1]), max(pltData[1])), (0,0)) # 2 points make the y-axis line at the data extrema along y-axis
    ax.plot(yAxisLine[0], yAxisLine[1], yAxisLine[2], 'r') # make a red line for the y-axis.
    zAxisLine = ((0, 0), (0,0), (min(pltData[2]), max(pltData[2]))) # 2 points make the z-axis line at the data extrema along z-axis
    ax.plot(zAxisLine[0], zAxisLine[1], zAxisLine[2], 'r') # make a red line for the z-axis.

    # label the axes 
    ax.set_xlabel("x-axis label") 
    ax.set_ylabel("y-axis label")
    ax.set_zlabel("y-axis label")
    ax.set_title("The title of the plot")

    plt.show() # show the plot 
```

例如，我现在想要的是如何根据另一个数据变量为颜色显示的点着色。例如，如果我在每一行数据中添加一个 ['blue', 'red', 'green'] 范围内的名为 color 的变量，我可以用它来显示点的颜色吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:44:00.947

我认为最简单的做法是，正如您所说，每个数据点都有一个颜色列表 colors=[ 'blue', 'red', 'green',...] ，然后分别绘制每个点：

```
for i,xi in enumerate(x):
    ax.scatter(x[i],y[i],z[i],color=colors[i]) 
```

另一种方法是看看[这个问题](https://stackoverflow.com/questions/8891994/matplotlib-3d-scatter-plot-with-color-gradient)。在这里，您可以为每个点分配一个数字，这些点在颜色图中表示为一种颜色。所以你可以显示给定参数的梯度。

编辑：要回答您的评论，颜色可以作为 0 到 1 之间的 3 个值 (RGB) 的元组给出

```
from matplotlib.colors import Normalize
xnorm=Normalize(x.min(),x.max())
ynorm=Normalize(y.min(),y.max())
colors=[(xnorm(x[i]),ynorm(y[i]),0) for i in range(x.size)]
ax.scatter(x,y,c=colors) 
```

# visual-studio-2012 - TFS2012 错误的用户缺少工作区

> ID：15221252
> 
> 赞同：2
> 
> 时间：2013-03-05T10:18:38.940
> 
> 标签：visual-studio-2012, migration

我对 TFS2012 有一个非常不寻常的问题，我们刚刚跨域迁移并从 TFS2010 升级到 TFS2012。

除了一位用户之外，一切似乎都可以正常工作，我们似乎无法让他的工作空间正常工作。

当我连接到 TFS 服务器时，我输入服务器名称和端口号，这会连接，但是在“连接到 Team Foundation Server”窗口中，左下角显示了我的登录凭据，即使用户已分类登录用户，他获得了我所有的 tfs 管理员权限。

如果我们连接，它会显示一个工作区 MB2，这个工作区在 tfs 服务器的任何地方都不存在（使用 TF Sidekick 查找该信息以及使用 tf 命令行确认。

我认为这个问题更多地与连接我的用户帐户的 TF 有关，因为他的所有工作空间都被标记为 MB2；Paul Talbot 而不是他的用户名，因此他看不到任何正在创建的这些工作空间。

有谁知道 VS2012 从哪里获取用户凭据，直到此刻我从未登录过这台笔记本电脑。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-05T10:57:33.510

我已经解决了，在一些奇怪的情况下（我保存了凭据），我的用户详细信息已输入到凭据管理器中，这导致 VS2012 使用我的帐户连接到 TFS。

# c# - 使用 Windows 服务和 XML 的计划任务

> ID：15221254
> 
> 赞同：0
> 
> 时间：2013-03-05T10:18:44.137
> 
> 标签：c#, windows-services, xml-serialization

我有下面的 xml，我使用它读取预定的日期和时间以在预定的时间运行应用程序。

```
<AvSchedule xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <Days>
    <Day Name="Monday">true</Day>
    <Day Name="Tuesday">false</Day>
    <Day Name="Wednesday">false</Day>
    <Day Name="Thursday">false</Day>
    <Day Name="Friday">false</Day>
    <Day Name="Saturday">false</Day>
    <Day Name="Sunday">false</Day>
  </Days>
  <Time Hour="12" Minutes="15" />
</AvSchedule> 
```

下面是我为反序列化 xml 而编写的代码：

```
AvSchedule avSchedule = null;

private void Deserialize()
{            
    FileStream fs = File.OpenRead(@"C:\Scheduler.xml");
    XmlSerializer serializer = new XmlSerializer(typeof(AvSchedule));
    Object obj = serializer.Deserialize(fs);
    if((obj != null) && (obj is AvSchedule))
    {
        avSchedule = obj as AvSchedule;
    }        
} 
```

下面是我在服务启动时运行应用程序的实现。

```
protected override void OnStart(string[] args)
{
    //System.Diagnostics.Debugger.Launch();
    base.OnStart(args);
    Deserialize();
    Thread thr = new Thread( new ThreadStart(ScheduleThread));
    thr.Start();     
}

 public void  ScheduleThread()
 {                
       //Process logic should go here
        try
        {
            System.Diagnostics.ProcessStartInfo processStartInfo = new System.Diagnostics.ProcessStartInfo();
            processStartInfo.Arguments = "/Task {21211-A06D-4558-B833-98E8C7F62}";
            processStartInfo.FileName = "C:\\Program Files (x86)\\Logic\application.exe";
            System.Diagnostics.Process process = new System.Diagnostics.Process();
            process.StartInfo = processStartInfo;
            process.Start();
        }
        catch (Exception e)
        {
            Console.WriteLine("Unable to run", e.Message);
        } 

    }
}

///Sleep for 1 minute
Thread.Sleep(TimeSpan.FromMinutes(1));
}

} 
```

现在我想在到达预定时间时运行上述应用程序。我需要将当前时间和日期与 xml 中的预定时间和日期进行比较，并按照预定的时间和日期运行应用程序。请为此提供实施帮助。

我还需要确保服务仅在达到预定时间和日期时运行（服务应该空闲，直到达到预定时间）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:32:44.493

我知道我没有直接回答你的问题，但是......不要重新发明轮子！

使用[Quartz.net](http://quartznet.sourceforge.net/)

> Quartz.NET 是一个功能齐全的开源作业调度系统，可用于从最小的应用程序到大型企业系统。

它非常健壮和可靠，您可以进行任何类型的调度。

它可以很好地处理不同的线程，而不是像您那样运行进程。

它具有 xml 配置，并且[功能齐全](http://quartznet.sourceforge.net/features.html)。

我在很多项目中都使用过它并且效果很好。

---评论后更新---------

使用[计时器](https://stackoverflow.com/questions/1416803/system-timers-timer-vs-system-threading-timer)

下面的代码只是一个示例，您可以根据自己的需要进行调整

```
public class ScheduleThread 
{
    private readonly TimeSpan _timeSpan;
    private readonly Timer _timer;
    public bool IsRunning { get; protected set; }   
    public ScheduleThread()
    {
        IsRunning = false;
                    //set the timespan according your config            
        _timeSpan = new TimeSpan();
    }
    public void Start()
    {
        if (IsRunning == false)
        {
            IsRunning = true;
            StartTimer();
        }
    }
    private void StartTimer()
    {
                    _timer = new Timer(CallBack);
        _timer.Change(_timeSpan, TimeSpan.Zero);
    }
    public void Stop()
    {
        if (IsRunning)
        {
            _timer.Dispose();
            IsRunning = false;
        }
    }
    private void CallBack(object obj)
    {
        //if process is not running
        //start process
    }       
} 
```

# android - 我可以在课堂上拥有超过 1 个对话框吗？

> ID：15221255
> 
> 赞同：0
> 
> 时间：2013-03-05T10:18:46.207
> 
> 标签：android, dialog, android-dialog

我正在开发一个图像编辑应用程序。我被困在某个时刻。我正在使用一个对话框来显示单击按钮的效果列表（比如 FX 按钮。）。它工作正常，但后来我尝试使用第二个按钮说颜色，以显示另一个对话框，但我不能。我必须为第一个按钮（即 FX）导入该对话框类。并且导入另一个对话框类会导致与第一个导入发生冲突。

我应该怎么办？而且我有 3 个按钮，所以我需要有 3 个对话框。那么有什么办法可以让它工作吗？请帮忙！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T10:33:09.427

你有2个选择。

(1) 为您的第二个对话框创建一个包装类。

```
public class SecondDialogBox extends DialogBox
{
} 
```

(2) 不要使用导入。只需按照 Thrakbad 的建议使用完整的包名称。

```
com.full.package.name.DialogBox dialog = new com.full.package.name.DialogBox(); 
```

# jsf-2 - 使用带有动态选项卡的 Richfaces tabPanel 时遇到问题

> ID：15221256
> 
> 赞同：1
> 
> 时间：2013-03-05T10:18:48.440
> 
> 标签：jsf-2, richfaces, ajax4jsf

我在 Richfaces 上看到了使用`rich:tabPanel`动态选项卡的最佳方式是 with `a4j:repeat`，但这在我的应用程序中不起作用。

这是我的代码：

```
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
    <title>Java EE 6 Starter Application</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />   
</h:head>
<h:body>
    <h:form>
        <div id="topArea">
            <ui:insert name="topArea"/>
        </div>
        <div id="mainArea">
            <ui:insert name="mainArea"/>  
        </div>
        <div id="footerArea">
            <ui:insert name="footerArea"/>
        </div>
    </h:form>
</h:body>
</html> 
```

在`topArea`，我有这个菜单：

```
<rich:panelMenu>
    <rich:panelMenuItem label="Clienti" name="Clienti"  action="#{tabsBean.addTab()}"     render="tabsPanel" />                                     
</rich:panelMenu> 
```

在`mainArea`，我有这个`tabPanel`：

```
<rich:tabPanel id="tabsPanel" switchType="client"  activeItem="#{tabsBean.activeTab}" >
    <a4j:repeat  value="#{tabsBean.tabs}" var="tab">
        <rich:tab name="#{tab.name}">
            <f:facet name="header">#{tab.name}</f:facet>
            <h:form>
                <h:outputText value="Enter Name:" />
                <h:inputText id="input" />
                <h:outputText value="Enter you interests:" />
                <h:inputTextarea cols="17" rows="3" />
                <h:outputText value="Choose your favourite color" />
                <h:selectOneMenu>
                    <f:selectItem itemLabel="Red" itemValue="0" />
                    <f:selectItem itemLabel="Black" itemValue="1" />
                    <f:selectItem itemLabel="Green" itemValue="2" />
                    <f:selectItem itemLabel="White" itemValue="3" />
                </h:selectOneMenu>
            </h:form>
        </rich:tab>
    </a4j:repeat>
</rich:tabPanel> 
```

我的烦恼是：

*   未创建选项卡
*   为什么陈列柜使用嵌套形式？嵌套表格不会造成麻烦吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T05:09:07.290

`a4j:repeat`仅从 4.3.0.Final 开始支持 动态选项卡，请参阅此处了解更多详细信息：http: [//www.bleathem.ca/blog/2013/01/dynamic-panels-with-a4jrepeat.html](http://www.bleathem.ca/blog/2013/01/dynamic-panels-with-a4jrepeat.html)

对于早期版本`c:forEach items="#{tabsBean.tabs}" var="tab"`可以使用。

# php - 2 个购物车应用程序在一台服务器上，本地主机

> ID：15221257
> 
> 赞同：0
> 
> 时间：2013-03-05T10:18:51.223
> 
> 标签：php, session, session-cookies

我在本地主机中开发了 2 个购物车应用程序。比如说 sc1 和 sc2。我在一个特定浏览器的两个不同选项卡中打开了这两个站点。

我在购物车 1 中添加了 3 项 sc1。但是当我尝试在购物车 2 中添加任何 sc2 项目时，它会将该项目与 sc1 的购物车 1 中的那些项目一起提供。

我在两个应用程序的 index.php 中启动了 session(session_start();)。如何解决这个问题。我知道使用 session.cookie_path 会解决。我试过但它没有解决我的问题。是否有任何额外的步骤要遵循或任何额外的功能要包含？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:22:44.083

打电话[`session_name("application name")`](http://us3.php.net/manual/en/function.session-name.php)之前`session_start()`。这将设置用于标识会话的 cookie 的名称（默认为“PHPSESSID”）。

为每个应用程序使用不同的名称。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:22:12.097

在新会话中打开浏览器？对于 IE => Alt 键、文件、新会话....

但是，对于您的应用程序，您最好检查 session_id...当 session_id 正确时，您可以将商品添加到购物车，否则离开。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T10:22:47.107

您在两个安装中使用相同的会话名称。每次安装更改会话名称就可以了。

例如，如果您在两者上都有一个名为 cart 的会话，那么您添加到 sc1 的任何内容都将出现在 sc2 中，但该项目将有所不同，因为存储在会话中的项目 ID 将匹配不同数据库中的不同 ID。这正是您所看到的。

最好的解决方案是在数据库设置表中存储一个会话名称，然后使用它在每个站点的基础上命名会话，然后它允许您在每个站点的基础上对其进行自定义。或者您可以在 config.s 中使用定义

# jquery - IE10 (9,8) 无法识别 DOCTYPE xhtml

> ID：15221265
> 
> 赞同：29
> 
> 时间：2013-03-05T10:19:12.600
> 
> 标签：jquery, internet-explorer, mootools, doctype

IE10 拒绝启动一些 jQuery 代码，就我在运行时发现的某个地方检测到错误的 doctype 并在 4.01 过渡版本之前添加了一些 jQuery 代码。

在 IE 的开发人员工具中查看我看到的控制台 `HTML1524: Invalid DOCTYPE. The shortest valid doctype is "<!DOCTYPE html>"`并遵循（运行时修改的）html：

我相信滥用 DOCTYPE 和一些 jQuery 无法正常工作都有一个共同的原因，但没有找到它是什么。

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><HTML 
xmlns="http://www.w3.org/1999/xhtml" slick-uniqueid="1"><HEAD><META 
content="IE=10.000" http-equiv="X-UA-Compatible">

<META http-equiv="X-UA-Compatible" content="IE=edge">
<META http-equiv="Content-Type" content="text/html; charset=windows-1250">
<TITLE>.... 
```

虽然**IE 声明在标准模式下运行，但仍有一些事情不起作用**（主要是用 jQuery 替换点击事件上的链接以显示内容而不是加载整个新页面 - 用于使用手风琴解压缩其他菜单分支，类别标题中的原始链接带有 href仅适用于 jQuery 无法为手风琴制作动画的情况）

太多的其他点击事件或 jQuery UI 函数使链接看起来像按钮在其他浏览器中工作时无法在 IE 中运行。

服务器提供的原始 HTML 如下：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="sk" lang="sk">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta http-equiv="Content-Type" content="text/html; charset=windows-1250" />
<title>... 
```

我被迫同时使用 MooTools 和 jQuery，并且知道 htm 属性中的 slick-uniqueid 来自 Moo，我不知道编辑 doctype 的人是否相同，但我确信它只发生在 IE 浏览器中， Chrome 和 Firefox 运行正常。

jQuery 脚本是从外部 js 文件加载的，包裹在**jQuery(function() {..**中，并且都使用完整的变量名 jQuery 而不是美元符号，例如 `jQuery("#myid").click( function(e){..`.

由于同时使用 mootools 和 jQuery（我知道我不应该但需要一些用于带有缩略图和 KenBurns 效果的幻灯片的 mootools 插件）并且**首先加载 jQuery**，并且在脚本中我只使用**jQuery()... MooTools**稍后使用，因为它只是在需要时在正文中加载（不确定是否可以，但这就是“visualslideshow”呈现它的方式）。

我很高兴听到有关如何识别或修复它以使 jQuery 正常工作的任何想法或建议（v1.8）。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-04-21T03:50:40.360

将您的 DOCTYPE 更改为：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 
```

（使用 XHTML 严格而不是过渡）

IE10 将停止在控制台中抛出错误。我不确定为什么 IE10 不再喜欢过渡 XHTML。如果有人有办法让 IE10 识别 XHTML 1.0 过渡 DOCTYPE，那就太好了。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-10-16T14:23:30.230

我能够通过使用摆脱错误

```
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9" /> 
```

代替

```
<meta http-equiv="X-UA-Compatible" content="IE=edge" /> 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-08-09T09:21:24.237

我有同样的问题。值得查看您正在使用的任何外部库。我使用的是 BXSlider，它对 IE10 上的 jQuery 1.8 不满意。因此 IE10 失败并显示消息。

```
 HTML1524: Invalid DOCTYPE. The shortest valid doctype is "<!DOCTYPE html> 
```

我的解决方案是将我的 JQuery 升级到 1.9.1 并且还包括 jQuery 迁移。

```
 <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
      <script src="http://code.jquery.com/jquery-migrate-1.1.0.js"></script> 
```

希望这可以帮助某人。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-07-15T17:55:55.087

您的~~第二个~~第一个`DOCTYPE`定义中有错字，W3C~~缺少一个~~额外的`c`：

```
 v-- extra "c"
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3c.org/TR/1999/REC-html401-19991224/loose.dtd">
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
```

尝试修复它并再次测试。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-07-15T17:30:30.457

这在 IE 和 FireFox 中发生在我身上，因为当我包含我写的 css 时`"< link rel="stylesheet" type="text/javascript ..."`

我只是把它改成它就可以`type="text/css"`了。

# c# - System.StackOverflowException 未处理

> ID：15221268
> 
> 赞同：1
> 
> 时间：2013-03-05T10:19:23.523
> 
> 标签：c#

请帮忙，我很困惑，我不知道为什么错误日志 `System.StackOverflowException`未处理。

我在设置 LekID 时不断收到错误消息。我该如何解决？

这是代码：

```
public Lager(long lekID, string lek, string proizvojdac, int kolicina, double cena)
{
    LekID = lekID;
    Lek = lek;
    Proizvodjac = proizvojdac;
    Kolicina = kolicina;
    Cena = cena;

}

public long LekID   
{
    get { return LekID; }
    set { LekID = value; }
}
public string Lek
{
    get { return Lek; }
    set { Lek = value; }
}
public string Proizvodjac
{
    get { return Proizvodjac; }
    set { Proizvodjac = value; }
}
public int Kolicina
{
    get { return Kolicina; }
    set { Kolicina = value; }
}
public double Cena
{
    get { return Cena; }
    set { Cena = value; }
} 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-05T10:21:19.730

您应该为私有变量和属性赋予不同的名称。否则，当您访问它时，您的属性会调用它自己。

例子：

```
long _lekID;
public long LekID
{
    get { return _lekID; }
    set { _lekID = value; }
} 
```

或者简单地说：

```
public long LekID { get; set; } 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-03-05T10:22:22.517

```
public long LekID   
{
    get { return LekID; }
    set { LekID = value; }
} 
```

这（和其他属性）会导致 StackOverflowException，因为您一遍又一遍地分配`value`给。`LekID`

您应该向属性添加一个字段并将值存储在那里：

```
private long _lekID;
public long LekID   
{
    get { return _lekID; }
    set { _lekID = value; }
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-05T10:21:04.267

属性正在调用自己。尝试像这样更改您的属性：

```
public string Lek
{
    get;
    set;
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-05T10:20:49.733

您在 setter 和 getter 中递归调用 Lek 属性

要么引入一个支持字段：

```
private string lek;

public string Lek
{
    get { return this.lek; }
    set { this.lek = value; }
} 
```

或使用自动属性：

```
public string Lek
{
    get; set;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-05T10:30:33.660

将此社区 wiki 标记为仅是旁白，但如果您足够懒惰，这一切都不会发生（这通常是编程的优点，而不是缺点）：

```
public long LekID {get;set;}
public string Lek {get;set;}
public string Proizvodjac {get;set;}
public int Kolicina {get;set;}
public double Cena {get;set;} 
```

少打字；没有错误；并且您已正确地将 API 公开为属性，因此您可以稍后根据需要添加验证/副作用，并且它将与绑定 API（通常不喜欢字段）一起使用。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-05T10:39:42.240

尝试使用像 prop/propfull 这样的代码片段，

片段将自动创建属性代码

# c++ - “refclock.h”头文件中的构建错误，Windows 平台 SDK 的一部分

> ID：15221270
> 
> 赞同：5
> 
> 时间：2013-03-05T10:19:42.170
> 
> 标签：c++, winapi, visual-c++, sdk

我正在构建一个 VC++ 解决方案并使用 Win& SDK 和 Win8 SDK（包括 VS2008 的 LIB 和 INCLUDE 设置中的这些路径）。但我在 refclock.h 头文件中收到以下构建错误。我不明白我们如何在标准的 MSFT 头文件中得到错误。谁能帮我解决这个问题？

```
c:\program files\microsoft sdks\windows\v7.0\samples\multimedia\directshow\baseclasses\refclock.h(80) : error C2061: syntax error : identifier 'CAMSchedule'
2>c:\program files\microsoft sdks\windows\v7.0\samples\multimedia\directshow\baseclasses\refclock.h(139) : error C2143: syntax error : missing ';' before '*'
2>c:\program files\microsoft sdks\windows\v7.0\samples\multimedia\directshow\baseclasses\refclock.h(139) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int
2>c:\program files\microsoft sdks\windows\v7.0\samples\multimedia\directshow\baseclasses\refclock.h(139) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int
2>c:\program files\microsoft sdks\windows\v7.0\samples\multimedia\directshow\baseclasses\refclock.h(139) : warning C4183: 'GetSchedule': missing return type; assumed to be a member function returning 'int'
2>c:\program files\microsoft sdks\windows\v7.0\samples\multimedia\directshow\baseclasses\refclock.h(178) : error C2143: syntax error : missing ';' before '*'
2>c:\program files\microsoft sdks\windows\v7.0\samples\multimedia\directshow\baseclasses\refclock.h(178) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int
2>c:\program files\microsoft sdks\windows\v7.0\samples\multimedia\directshow\baseclasses\refclock.h(178) : error C4430: missing type specifier - int assumed. Note: C++ does not support default-int
2>c:\program files\microsoft sdks\windows\v7.0\samples\multimedia\directshow\baseclasses\refclock.h(139) : error C2065: 'm_pSchedule' : undeclared identifier
2>c:\program files\microsoft sdks\windows\v7.0\samples\multimedia\directshow\baseclasses\refclock.h(166) : error C2065: 'm_pSchedule' : undeclared identifier
2>c:\program files\microsoft sdks\windows\v7.0\samples\multimedia\directshow\baseclasses\refclock.h(166) : error C2227: left of '->GetEvent' must point to class/struct/union/generic type 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-05T10:44:35.417

这是由 refclock.h 标头中的错误以及在 Visual Studio 中指定包含目录的顺序引起的。

您需要在 SDK 包含目录**之前**拥有 BaseClasses 目录（Samples/Multimedia/DirectShow） ，因为它们都有一个 schedule.h 文件，而 refclock.h 使用 <> 而不是 "" 作为包含目录。

# mime - 哪个字符集用于多部分/替代文本/纯文本？

> ID：15221280
> 
> 赞同：0
> 
> 时间：2013-03-05T10:20:17.950
> 
> 标签：mime, email-client

我的任务是发送大多数收件人会读为 HTML 的电子邮件。对于那些无法阅读 HTML 或选择不阅读的人，将包含一个 MIME 文本/纯文本替代方案。

HTML 为英文，包含来自 Latin-1 Supplement 和 General 标点的字符，因此 US-ASCII 或 ISO-8859-1 不会保留所有这些字符。我可以通过在编码之前替换字符来缓解。

我的问题是 text/plain 部分使用哪个字符集？US-ASCII、ISO-8859-1 或 UTF-8。相关问题是仍在使用哪些基于文本的电子邮件客户端，它们是否支持这些字符集？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-12T13:33:10.853

我没有关于基于文本的电子邮件客户端阅读字符集的能力的答案，所以我看看常见的电子邮件发件人如何编码他们的替代文本。

GMail 和 Outlook (2007) 都选择可以表示内容的最小字符集。换句话说，如果文本很简单，他们使用 US-ASCII，如果存在欧洲字符，他们使用 ISO-8859-*，或者对于大跨度的字符，他们使用 UTF-8。

Outlook 在我的一项测试中有点问题。我输入了一些通用标点符号。Outlook 使用 WINDOWS-1252 对其进行编码，但将其标记为 ISO-8859-1。

伪代码问题的答案是

```
for charset in us-ascii, iso-8859-1, utf-8
    if encode(text, charset)
        break 
```

字符集列表适合我期望的输入。

# c# - 如果不对其进行任何操作，浮点数是否会丢失精度

> ID：15221281
> 
> 赞同：2
> 
> 时间：2013-03-05T10:20:21.587
> 
> 标签：c#, floating-point

我有这样的课：

```
public class Test
{
    public void CheckValue(float val)
    {
        if (val == 0f)
        {
            //Do something
        }
    }
}

//Somewhere else..
void SomeMethod
{
    Test t = new Test();
    t.CheckValue(0f);
} 
```

是否保证检查`if (val == 0f)`会返回`true`？或者浮点数只会在您对它们执行操作时失去精度？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-05T10:23:00.243

他们不会失去精确度。用十进制描述一些浮点值是不准确的。在对它们进行操作时，这些不准确性可能会叠加或相互抵消。

在您的情况下，`0`可以用十进制和二进制浮点完全准确地描述，所以它应该可以工作。其他值可能不是，您应该（正如其他人指出的那样）不要依赖`==`浮点值。

在此处查看更多信息：http: [//floating-point-gui.de/](http://floating-point-gui.de/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-05T11:36:46.517

归结为，您不能完美地表示在 32 位内存中保存的每个浮点数（在所有它们的无限方差中）`float`。一个不能完美表示的数字只会有一个很小的误差值，但它会在那里。

例如，在最近的浮点表示中，1/3 是（大约）0.333333343267。你有 7 位十进制数字的准确性，然后它遇到了一些障碍。因此，假设您将 1 除以 3，然后再乘以 3。结果不是 1，而是 1.0000000298 并发生变化。所以`(1/3)*3 =/= 1`。

这些表示错误就是为什么直接比较浮点值被认为是不好的做法。

在您需要尽量减少这些小错误的影响的情况下，您应该尽一切可能阻止它们累积。例如，一次稍微旋转一组坐标会给您带来不完美的结果，因为每个旋转操作（使用不太可能具有完美浮点表示的值）引入的错误`sin`会`cos`随着时间的推移而累积。更好地跟踪总角度变化并每次旋转原始向量以获得更小的误差值。

另一个可能会咬你的地方是一个`for`循环。如果您想以每步 1/30000 执行 10,000 步，请使用 int 作为循环变量并将当前位置计算为除法。更慢，是的，但更准确。使用浮点数会累积错误，直到您只有大约 3 个可靠的十进制有效数字，而不是每次除法时超过 7 个。

速度很好，但在某些情况下精度更好。

是的，这看起来很傻，但是这些错误确实会增加。在某些地方并不那么重要，而在其他地方则猖獗的错误工厂。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2013-03-05T10:23:58.573

您永远不应该将浮点数与“==”进行比较。相反，您可以使用边框。例如，而不是比较 == 0 你可以做类似的事情

```
float border = 0.00000001;
if( (val - border) <= 0 && (val + border) >= 0) 
```

# google-app-engine - GAE远程api获取NoClassDefFoundError

> ID：15221286
> 
> 赞同：0
> 
> 时间：2013-03-05T10:20:35.617
> 
> 标签：google-app-engine, gwt

我正在使用 GWT 2.4、GAE 1.7.2 和 appengine-remote-api-1.7.2.jar。当我尝试在我的不同部署的 app.on 本地或 dev mod 上访问我部署的应用程序数据存储时，它的工作但在部署的应用程序中它在谷歌应用引擎上给出错误如下

```
 java.lang.NoClassDefFoundError: com/google/appengine/tools/remoteapi/RemoteApiOptions
at java.lang.Class.getDeclaredConstructors0(Native Method)
at java.lang.Class.privateGetDeclaredConstructors(Class.java:2406)
at java.lang.Class.getConstructor0(Class.java:2716)
at java.lang.Class.newInstance0(Class.java:343)
at java.lang.Class.newInstance(Class.java:325)
at org.mortbay.jetty.servlet.Holder.newInstance(Holder.java:153)
at org.mortbay.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:428)
at org.mortbay.jetty.servlet.ServletHolder.getServlet(ServletHolder.java:339)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)
at com.google.apphosting.utils.servlet.ParseBlobUploadFilter.doFilter(ParseBlobUploadFilter.java:125)
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
at com.google.apphosting.runtime.jetty.SaveSessionFilter.doFilter(SaveSessionFilter.java:35)
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)
at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)
at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)
at com.google.apphosting.runtime.jetty.AppVersionHandlerMap.handle(AppVersionHandlerMap.java:266)
at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
at org.mortbay.jetty.Server.handle(Server.java:326)
at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:923)
at com.google.apphosting.runtime.jetty.RpcRequestParser.parseAvailable(RpcRequestParser.java:76)
at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
at com.google.apphosting.runtime.jetty.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:146)
at com.google.apphosting.runtime.JavaRuntime$RequestRunnable.run(JavaRuntime.java:447)
at com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:454)
at com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:461)
at com.google.tracing.TraceContext.runInContext(TraceContext.java:703)
at com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:338)
at com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:330)
at com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:458)
at com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:251)
at java.lang.Thread.run(Thread.java:679)
  Caused by: java.lang.ClassNotFoundException:           com.google.appengine.tools.remoteapi.RemoteApiOptions
at com.google.appengine.runtime.Request.process-40e88cc1b5a9d01b(Request.java)
at java.lang.ClassLoader.loadClass(ClassLoader.java:266)
at java.lang.Class.getDeclaredConstructors0(Native Method)
at java.lang.Class.privateGetDeclaredConstructors(Class.java:2406)
at java.lang.Class.getConstructor0(Class.java:2716)
at java.lang.Class.newInstance0(Class.java:343)
at java.lang.Class.newInstance(Class.java:325)
at org.mortbay.jetty.servlet.Holder.newInstance(Holder.java:153)
at org.mortbay.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:428)
at org.mortbay.jetty.servlet.ServletHolder.getServlet(ServletHolder.java:339)
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:487)
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)
at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)
at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)
at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
at org.mortbay.jetty.Server.handle(Server.java:326)
at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:923)
at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
at com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:454)
at com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:461)
at com.google.tracing.TraceContext.runInContext(TraceContext.java:703)
at com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:338)
at com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedCo 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T17:17:15.883

[由于错误](https://code.google.com/p/googleappengine/issues/detail?id=6349)，您可能无法在 servlet 场景中使用它。只需验证解决方法是否有帮助。

另外，请参考[Google App Engine Remote Api](https://stackoverflow.com/questions/5688735/google-app-engine-remote-api)

# configuration - 单独的 Archiva 配置和安装目录

> ID：15221288
> 
> 赞同：4
> 
> 时间：2013-03-05T10:20:39.417
> 
> 标签：configuration, directory, installation, archiva

Archiva 文档指出：

> Archiva 的独立安装能够将其配置与安装分离

但是，我在 1.3.6 和 1.4（使用 Ubuntu 12.04）中没有做到这一点。

`$ARCHIVA_BASE`设置为`/var/archiva`并导出，但包装器似乎没有处理这个问题，并且总是在安装目录中启动。

此外，1.4 初始化脚本 (bin/archiva) 使用`$BASEDIR`而不是`$ARCHIVA_BASE`

有人有线索吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2019-01-31T11:08:58.210

帖子很旧，但我最近遇到了这个问题，想分享对我有用的东西，以使 Archiva 2.2.3 在 RHEL 6.8 上作为服务执行

*   Archiva 安装在`/opt/archiva`
*   `/var/archiva_data`使用[这些](http://archiva.apache.org/docs/2.2.3/adminguide/standalone.html)说明创建的 Archiva 数据目录
*   编辑`/opt/archiva/conf/wrapper.conf`并进行了以下更改

    ```
    set.default.ARCHIVA_BASE=/var/archiva_data
    ```

*   编辑`/opt/archiva/bin/archiva`并进行了以下更改

    ```
    RUN_AS_USER=foo
    ```

*   与`/etc/init.d/archiva`_`/opt/archiva/bin/archiva`
*   使用启动服务`service archiva start`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T14:33:53.883

我个人是怎么做的。我的存档应用程序安装在 /x1/archiva/archiva 中，带有存档 -> /x1/archiva/apache-archiva-1.4-M4-SNAPSHOT

以及 /x1/archiva/archiva-base 中的所有数据archiva.xml

存档启动脚本修改为：

基于=/x1/archiva/archiva/bin

BEDITIR_CONF="/x1/archiva/archiva-base"

WRAPPER_CONF="$BASEDIR_CONF/conf/wrapper.conf"

PIDDIR="$BASEDIR_CONF/logs"

它工作正常:-)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-08-24T10:40:09.277

这篇文章可能有点老了，但我还是想分享我使用 Archiva 2.2.1 的经验。通过简单的设置`$ARCHIVA_BASE`（如[http://archiva.apache.org/docs/1.4-M4/adminguide/standalone.html](http://archiva.apache.org/docs/1.4-M4/adminguide/standalone.html)中所述）将基础与安装目录分开仍然不起作用。我执行了以下操作来启动和运行 Archiva：

**我的设置**

*   */opt/archiva/current*中的 Archiva 二进制文件和安装文件 （*当前*是指向*apache-archiva-2.2.1*的符号链接）
*   目录*conf/data/logs/temp/*移动到*/data/archiva_data*

**Archiva 配置文件中的调整**

文件*/opt/archiva/current/bin*：

```
BASEDIR_CONFIG="/data/archiva_data"
WRAPPER_CONF="$BASEDIR_CONFIG/conf/wrapper.conf"
PIDDIR="$BASEDIR_CONFIG/logs" 
```

包装器配置文件*/data/archiva_data/conf/wrapper.conf*：

```
#Manually set the Archiva Basedir
set.default.ARCHIVA_BASE=/data/archiva_data 
```

[因此， olamy](https://stackoverflow.com/users/261734/olamy)指出的步骤确实有效，但是需要在包装器配置文件中进行进一步调整，以反映从安装目录中移出的配置。

更改后，我能够启动和使用 Archiva。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-03-17T16:25:14.620

1 当您将配置文件从原始 conf 文件夹复制到您的文件夹时，请记住使用 cp。

2 如果您尝试将archiva 作为服务运行，您需要在第14 行修改wrapper.conf 并添加您的ARCHIVA_BASE 文件夹。

# android - 主题背景

> ID：15221289
> 
> 赞同：1
> 
> 时间：2013-03-05T10:20:41.320
> 
> 标签：android, styles, themes, background-color

我需要为我的应用程序中的每个活动设置背景颜色。我宁愿在全球范围内设置它。出于这个原因，我更改了设置为应用程序主题的样式。

```
<resources xmlns:android="http://schemas.android.com/apk/res/android">
    <style name="AppTheme" parent="android:Theme.Holo.Light.DarkActionBar">
        <item name="android:background">@color/app_bg</item>
    </style>
</resources> 
```

问题是现在所有没有指定背景的 ImageViews 和 TextViews 都获得了应用程序背景，而不是父 Layout 的背景，例如

```
<RelativeLayout 
    android:id="@+id/mmc_rl"
    android:layout_width="match_parent"
    android:layout_height="@dimen/mm_central_height"
    android:background="@color/main_menu_central_bg"> 

    <ImageView
        android:id="@+id/mmc_iv_goto"
        android:layout_width="@dimen/mm_central_height"
        android:layout_height="@dimen/mm_central_height"
        android:layout_alignParentTop="true"
        android:layout_alignParentLeft="true"
        android:src="@drawable/button_goto_big3"  />

</RelativeLayout> 
```

ImageView 有背景`app_bg`而不是`main_menu_central_bg`预期的那样。我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:31:49.197

在 ImageView xml 中包含这一行：

```
android:background="@android:color/transparent" 
```

# wordpress - Wordpress Contact form 7 - 由于选项太多导致的下拉问题

> ID：15221290
> 
> 赞同：1
> 
> 时间：2013-03-05T10:20:41.857
> 
> 标签：wordpress, forms, drop-down-menu, contact

当下拉菜单中有太多选项时，我遇到了错误。如果有超过 222 个选项，它就会冻结。

我在 PHP 5.3.5 上运行，但在 PHP 5.3.13 上运行时也会发生这种情况。奇怪的是，使用 5.2.27 时不会发生此问题。

我一直在尝试回溯错误，我相信这与第 62 行 /includes/shortcodes.php 中的 do_shortcode () 中调用的 preg_replace_callback() 函数有关。

有没有人遇到过同样的问题，你知道如何解决吗？

谢谢

# java - Java Set 上的多个 for 循环

> ID：15221293
> 
> 赞同：0
> 
> 时间：2013-03-05T10:20:45.807
> 
> 标签：java, map, set

我有一个带有值的 Map 并使用 Map.keySet 方法获取一个 Set。在这段代码中：

```
Map<String, String> map = new HashMap<>(); 
map.put("1", "a"); 
map.put("2", "b"); 
map.put("3", "c"); 
Set<String> set = map.keySet();

for (int i = 0; i < 5; i++) {
    for (String key : set) {
        System.out.println(key);
    } 
} 
```

我能保证得到吗

```
1
2
3 
```

每次都写出来？这个保证写在哪里？在 Javadoc 中？

编辑：实际上我并不关心插入顺序，但我关心这样一个事实，即在集合上使用 for-each 循环会一遍又一遍地产生相同的结果，前提是 undelying 映射不会改变（我不调用 put，remove）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T10:22:43.477

如果要按照放置 key 的顺序进行检索，请使用[LinkedHashMap 。](http://docs.oracle.com/javase/1.4.2/docs/api/java/util/LinkedHashMap.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:23:06.220

不，你不是。但是您可以使用`LinkedHashMap`（[http://docs.oracle.com/javase/6/docs/api/java/util/LinkedHashMap.html](http://docs.oracle.com/javase/6/docs/api/java/util/LinkedHashMap.html)），然后您将得到保证。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T10:24:16.200

**LinkedHashMap**用于添加（放置）的顺序，而**TreeMap**（接口 SortedMap）用于键的顺序。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-05T10:24:45.177

不幸的是，HashMap 的文档指出该`keySet()`方法不返回 a `SortedSet`，它只返回 a `Set`，不能保证其顺序。

参见[HashMap.keySet()](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/HashMap.html#keySet%28%29)

尤其是阅读：*它不保证集合的迭代顺序；特别是，它不保证订单会随着时间的推移保持不变。*

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-05T10:48:21.110

不，您不能保证特定的顺序，除非您使用 HashMap 实现可以为您提供此保证的自定义**集。****Set** the HashMap 为您提供了一个*Iterator()方法，该方法以“**无特定顺序*”迭代元素。

阅读 java 文档：[http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Set.html#iterator()](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Set.html#iterator())

**如果您想要保证元素按顺序**迭代，即升序，请使用实现**SortedMap**的东西，如**TreeMap**。

树图文档：[http ://docs.oracle.com/javase/6/docs/api/java/util/TreeMap.html](http://docs.oracle.com/javase/6/docs/api/java/util/TreeMap.html)

在此页面上，您可以找到*getSet()*方法，该方法显示“*集合的迭代器按升序返回键*”。

# android - BOOT_COMPLETED 时 BroadcastReceiver 内的 AlarmManager

> ID：15221295
> 
> 赞同：6
> 
> 时间：2013-03-05T10:20:46.653
> 
> 标签：android, service, broadcastreceiver, alarmmanager, bootcompleted

我有一个服务“GroupsTaskAlarmChecker”，AlarmManager 在 Groups.class 活动的 onCreate 中每 20 秒调用一次：

```
int seconds = 20;

           Intent myIntent = new Intent(Groups.this, GroupsTaskAlarmChecker.class);
           pendingIntent = PendingIntent.getService(Groups.this, 0, myIntent, 0);

           AlarmManager alarmManager = (AlarmManager)getSystemService(ALARM_SERVICE);

           Calendar calendar = Calendar.getInstance();
           calendar.setTimeInMillis(System.currentTimeMillis());
           calendar.add(Calendar.SECOND, 10);
           alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), seconds * 1000, pendingIntent); 
```

这完美地工作。但是我需要在设备启动时这样做。然后我知道我必须像这样制作 AndroidManifest：

```
<uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
 <receiver android:name=".ReceiverBoot">
        <intent-filter>
            <action android:name="android.intent.action.BOOT_COMPLETED">
            <category android:name="android.intent.category.HOME">
        </category></action></intent-filter>
    </receiver> 
```

然后像这样 mi broadcastReceiver ：

```
 public class ReceiverBoot extends BroadcastReceiver {
@Override
public void onReceive(Context context, Intent intent) {
    int seconds = 20;

        Intent myIntent = new Intent(context, GroupsTaskAlarmChecker.class);
        pendingIntent = PendingIntent.getService(context, 0, myIntent, 0);

        AlarmManager alarmManager = (AlarmManager)getSystemService(ALARM_SERVICE);

        Calendar calendar = Calendar.getInstance();
        calendar.setTimeInMillis(System.currentTimeMillis());
        calendar.add(Calendar.SECOND, 10);
        alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), seconds * 1000, pendingIntent);

    }
} 
```

但是在这个 onReceive 里面我不知道我怎么能像以前一样做（意图和 alarmManager 每 20 秒启动一次服务）。此行中的错误：

```
 AlarmManager alarmManager = (AlarmManager)getSystemService(ALARM_SERVICE); 
```

有可能我不能在 BroadcastReceiver 中创建一个 AlarmManager 吗？

谢谢大家，我是一名 Android 初学者，我需要你们的帮助。对不起我的英语不好 ;）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-08-06T12:42:42.523

总结上面的答案和评论：onReceive 处理程序接收可用于访问*getSystemService*和 ALARM_SERVICE 的上下文。示例代码：

```
public class MyReceiver extends BroadcastReceiver {

    @Override
    public void onReceive(Context context, Intent intent) {

        // Start periodic service.
        Calendar cal = Calendar.getInstance();
        Intent srvIntent = new Intent(context, MyService.class);
        PendingIntent pIntent = PendingIntent.getService(context, 0, srvIntent, 0);
        // Use context argument to access service
        AlarmManager alarm = 
                        (AlarmManager)context.getSystemService(Context.ALARM_SERVICE);

        // Repeat every 5 seconds
        alarm.setInexactRepeating(AlarmManager.RTC_WAKEUP, cal.getTimeInMillis(),
                                5000, pIntent);
        }
    }
} 
```

使用此代码创建一个新类，当然将*MyReceiver*和*MyService*更改为您的实现中的名称。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-05T16:11:12.640

ALARM_SERVICE 既没有在 ReceiverBoot 类中定义，也没有在 BroadcastReceiver 中定义。

您应该引用 Context.ALARM_SERVICE 作为 getSystemService(String) 的参数。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2016-12-06T01:20:44.660

这里有一点贡献，我相信可以为实现这个问题的目标添加一个更完整的愿景。

**首先**：在您的应用程序的 AndroidManifest 中配置一个“接收器”。

```
<receiver
    android:name=".AlarmBroadcastReceiver"
    android:enabled="true">
    <intent-filter>
        <action android:name="android.intent.action.BOOT_COMPLETED"/>
    </intent-filter>
</receiver> 
```

**第二**：使用扩展抽象类广播接收器的类，您应该确定意图操作是否为“BOOT_COMPLETED”。如果满足条件，您可以从您的类中调用一个方法，该方法具有警报的所有构造。

请参阅下面的代码片段。

```
public class AlarmBroadcastReceiver extends BroadcastReceiver {

    String TAG   = "ALARMS";
    String CLASS = this.getClass().getSimpleName() + ": ";

    Context alarmContext;

    @Override
    public void onReceive(final Context context, Intent intent) {

        Log.d(TAG, CLASS + "[START] onReceive()... ");

        alarmContext = context;

        if (Intent.ACTION_BOOT_COMPLETED.equals(intent.getAction())) {
            Log.d(TAG, CLASS + "BOOT_COMPLETED action has been received.");
            setAlarmOnBoot();
        }

            Log.d(TAG, CLASS + "[END] onReceive()... ");

    }

    public void setAlarmOnBoot() {

        Log.d(TAG, CLASS + "[START] - setAlarmOnBoot()");

        final long beginAt  = SystemClock.elapsedRealtime() + 60 * 1000;
        final long interval = 300000; // 5 minutes

        try {
            AlarmManager alarm    = (AlarmManager)  alarmContext.getSystemService(Context.ALARM_SERVICE);
            Intent intent         = new Intent(alarmContext, AlarmBroadcastReceiver.class);
            PendingIntent pIntent = PendingIntent.getService(alarmContext, 0, intent, 0);
            alarm.setRepeating(AlarmManager.ELAPSED_REALTIME_WAKEUP, beginAt, interval, pIntent);
            Log.d(TAG, CLASS + "the Alarm has been configured successfully (5 minutes) of interval.");
        } catch (Exception e) {
            Log.d(TAG, CLASS + "an exception has ocurred while setting the Alarm...");
            e.printStackTrace();
        }  

        Log.d(TAG, CLASS + "[END] - setAlarmOnBoot()");

    }

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-05T10:54:31.157

在您的 onReceive 中：

```
if ("android.intent.action.BOOT_COMPLETED".equals (intent.getAction())){

   //start it again here

} 
```

# maven - 依赖管理和范围

> ID：15221299
> 
> 赞同：75
> 
> 时间：2013-03-05T10:20:52.547
> 
> 标签：maven, dependency-management

我通常会`<dependencyManagement>`在`parent-project/pom.xml`. 本`<dependencyManagement>`节包含我的子模块的所有依赖项的声明和版本，如下所示（即没有`<scope>`元素）：

```
<dependencyManagement>
  <dependencies>
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <version>4.10</version>
    </dependency>
  </dependencies> 
</dependencyManagement> 
```

在所有子模块（即 moduleX/pom.xml）中，我有：

```
 <dependencies>
    <dependency>
     <groupId>junit</groupId>
     <artifactId>junit</artifactId>
     <scope>test</scope>
    </dependency>
  </dependencies> 
```

显然，在这个例子中，我`<scope>test</scope>`对同一个依赖项重复了多次（在每个需要 junit 的子模块中一次）。

我的问题是：关于声明
的最佳做法是什么？ 放在里面比较好？ 还是将它放在子模块的部分中更好（就像在这篇文章中一样）？为什么？ 这个问题有确定的答案吗？ `<scope>`
`<dependencyManagement>`
`<dependencies>`

* * *

## 回答 #1

> 赞同：60
> 
> 时间：2013-12-23T19:36:02.503

聚会有点晚了，但我会加两分钱。

我最近遇到了一个非常难以调试的问题。
我有一个父 pom 用于管理跨多个项目的依赖项。我设置了所有常见的依赖项，包括,`groupId`和最*常见*的. 我的想法是，如果每个项目的实际依赖项部分符合*最常见的*. 当其中一些依赖项显示为传递依赖项时，就会出现问题。例如，如果：`artifactId``version`*`scope`*
*`scope`*

*   A 在编译范围内依赖于 B。
*   B 在编译范围内依赖于 C。
*   C 设置`dependencyManagement`为 parent 的提供。

然后确定提供了A对C的传递依赖。我不确定这是否有意义，但这确实令人困惑。

无论如何，省去你的麻烦，并离开`scope`你的`dependencyManagement`.

* * *

## 回答 #2

> 赞同：32
> 
> 时间：2013-03-05T10:32:14.640

`dependencyManagement`只是在这里定义所有项目子模块的依赖版本，本节中唯一相关的范围是`import`BOM。

范围必须在`dependencies`节中定义。

*（对于给定的依赖，它决定了使用上下文。它只允许在需要执行时才包含依赖。例如，ear 不会与 Java-ee 依赖（范围 `provided`）一起打包，因为它会在目标服务器上找到它们.)*

**[编辑]**

第一条语句有一个例外，节中的范围`provided`将`dependencyManagement`覆盖节中定义的范围`dependencies`。请参阅[DependencyManagement 以强制范围](http://maven.40175.n5.nabble.com/DependencyManagement-to-force-scope-td112273.html)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2015-02-25T17:01:19.413

与其他答案一样，最佳实践是从 dependencyManagement 中排除范围，并在定义依赖项时明确指定它。极少数情况下，您希望在不同范围内使用相同依赖项的不同版本，例如，在编译应用程序时使用一个版本，而在运行应用程序时使用不同版本——我能想到的唯一情况是您想显式运行您的测试不同版本的库，以防用户使用该版本而不是您指定的版本。

如果您在dependencyManagement 中定义范围，它将将该版本的使用限制为仅定义的范围——因此任何其他范围都将选择依赖项的随机版本。我昨天在dependencyManagement 中定义了junit 4.12 时遇到了这个问题，但是我们的通用测试框架模块使用的是带有编译范围的junit，所以它选择了4.8.2 版本。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-05T10:30:06.960

对于任何范围，将单个依赖项添加到依赖项管理中都没有任何好处。你所拥有的只是复制品。如果您希望版本可配置，请添加一个属性并在您的依赖项中使用它：

```
<properties>
        <junit.version>4.10</junit.version> 
    ...
    <dependency>
        <groupId>junit</groupId>
        <artifactId>junit</artifactId>
        <version>${junit.version}</version>
    </dependency>
</dependencies> 
```

但是，在某些情况下，依赖管理会大放异彩——当您使用`boms`以便为更大的工件集合编排版本时，例如使用 Java EE 实现的某个版本：

```
<dependencyManagement>
    <dependencies>
        <dependency>
            <groupId>org.jboss.bom</groupId>
            <artifactId>jboss-javaee-6.0-with-tools</artifactId>
            <version>${javaee6.with.tools.version}</version>
            <type>pom</type>
            <scope>import</scope>
        </dependency>
.... 
```

# php - 使用选择框更改启用和禁用

> ID：15221301
> 
> 赞同：1
> 
> 时间：2013-03-05T10:20:56.973
> 
> 标签：php, javascript, jquery, html, drop-down-menu

我不知道如何使用选择框选项启用和禁用文本字段。

也许我在下面的代码中完全错误地写了这个。如果我这样做了，请告诉我正确的代码。

```
<body>
<table width="500" border="1">
  <form style="text-align:center" id="form1" name="form1" method="post" action="">
    <tr>
      <th width="32" nowrap="nowrap">Status</th>
      <th width="32" nowrap="nowrap">Runs</th>
      <th width="16" nowrap="nowrap">6</th>
    </tr>
<?php
$('#Status1').change(function(){
var theVal = $('#Status1').val();
switch(theVal){
    case'0':
        $('#Runs1').prop('disabled', true);
        break;
    case'1':
        $('#Runs1').prop('disabled', false);
        break;
    case'2':
        $('#Runs1').prop('disabled', true);
        break;
    }
});
?>
<tr>
 <td align='center'>
   <select id='Status1'><option value='0'>Not Playing</option><option value='1'>Playing</option><option value='2'>Out</option></select></td>
 <td align='center'>
   <input style='font-weight:bold; background:#FFFFFF; text-align:right; color:#000000;' disabled='disabled' name='Runs1' type='text' id='Runs1' size='5' maxlength='5' value='' />    
 </td>
</tr>
</form>
</table>
</body> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T10:30:35.823

启用/禁用#Run1 输入框的代码嵌套在 PHP 标记之间（服务器端），但此代码是用 javascipt（客户端）编写的。

```
<body>
<table width="500" border="1">
  <form style="text-align:center" id="form1" name="form1" method="post" action="">
    <tr>
      <th width="32" nowrap="nowrap">Status</th>
      <th width="32" nowrap="nowrap">Runs</th>
      <th width="16" nowrap="nowrap">6</th>
    </tr>
<script type="text/javascript">
$('#Status1').change(function(){
var theVal = $('#Status1').val();
switch(theVal){
    case'0':
        $('#Runs1').prop('disabled', true);
        break;
    case'1':
        $('#Runs1').prop('disabled', false);
        break;
    case'2':
        $('#Runs1').prop('disabled', true);
        break;
    }
});
</script>
<tr>
 <td align='center'>
   <select id='Status1'><option value='0'>Not Playing</option><option value='1'>Playing</option><option value='2'>Out</option></select></td>
 <td align='center'>
   <input style='font-weight:bold; background:#FFFFFF; text-align:right; color:#000000;' disabled='disabled' name='Runs1' type='text' id='Runs1' size='5' maxlength='5' value='' />    
 </td>
</tr>
</form>
</table> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-05T10:28:12.957

用Rest替换`<?php`和一切都很好。`<script>``?>``</script>.`

你在php标签里写的代码是Jquery代码，所以应该在script标签下。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-05T10:32:20.980

在你的加载jquery`<head>`并在那里添加javascript..不在里面`<?php`（php代码）

```
<head>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script type="text/javascript">
$('#Status1').change(function(){
  var theVal = $('#Status1').val();
  switch(theVal){
  case'0':
    $('#Runs1').prop('disabled', true);
    break;
  case'1':
    $('#Runs1').prop('disabled', false);
    break;
  case'2':
    $('#Runs1').prop('disabled', true);
    break;
 }
});
</script>
<body>
....//rest of your code 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-05T10:33:43.860

您没有包含 jquery 文件并使用标签而不是 javascript 代码

```
<body>
<table width="500" border="1">
<form style="text-align:center" id="form1" name="form1" method="post" action="">
<tr>
  <th width="32" nowrap="nowrap">Status</th>
  <th width="32" nowrap="nowrap">Runs</th>
  <th width="16" nowrap="nowrap">6</th>
</tr>
<script src="../jquery.js"></script>
<script type="text/javascript">
$('#Status1').change(function(){
var theVal = $('#Status1').val();
switch(theVal){
 case'0':
    $('#Runs1').prop('disabled', true);
    break;
 case'1':
    $('#Runs1').prop('disabled', false);
    break;
case'2':
    $('#Runs1').prop('disabled', true);
    break;
   }
});
</script>
<tr>
 <td align='center'>
 <select id='Status1'><option value='0'>Not Playing</option><option value='1'>Playing</option><option value='2'>Out</option></select></td>
<td align='center'>
  <input style='font-weight:bold; background:#FFFFFF; text-align:right; color:#000000;' disabled='disabled' name='Runs1' type='text' id='Runs1' size='5' maxlength='5' value='' />    
</td>
</tr>
</form>
</table>
</body> 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-05T10:46:21.917

试试看：

**HTML**

```
<body>
    <table width="500" border="1">
      <form style="text-align:center" id="form1" name="form1" method="post" action="">
        <tr>
            <th width="32" nowrap="nowrap">Status</th>
            <th width="32" nowrap="nowrap">Runs</th>
            <th width="16" nowrap="nowrap">6</th>
        </tr>

        <tr>
            <td align='center'>
            <select id='Status1'><option value='0'>Not Playing</option><option value='1'>Playing</option><option value='2'>Out</option></select></td>
            <td align='center'>
            <input style='font-weight:bold; background:#FFFFFF; text-align:right; color:#000000;' disabled='disabled' name='Runs1' type='text' id='Runs1' size='5' maxlength='5' value='' />    
            </td>
        </tr>
    </form>
    </table>
</body> 
```

**脚本**

```
<script type="text/javascript">
$(document).ready(function(){
    $('#Status1').change(function(){
        var theVal = $('#Status1').val();
        switch(theVal){
            case'0':
                $('#Runs1').prop('disabled', true);
                break;
            case'1':
                $('#Runs1').prop('disabled', false);
                break;
            case'2':
                $('#Runs1').prop('disabled', true);
                break;
        }
    });
});
</script> 
```

但首先检查您是否`jquery library file`在`head section`.

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-05T11:18:21.083

朋友们，在你们的帮助下，这是我的问题的解决方案，谢谢。

```
<html>
<head>
<script type="text/javascript" src="../jquery.min.js"></script>
<SCRIPT LANGUAGE="JavaScript">
$(document).ready(function(){
    $('#Status1').change(function(){
        var theVal = $('#Status1').val();
        switch(theVal){
            case'0':
                $('#Runs1').prop('disabled', true);
                break;
            case'1':
                $('#Runs1').prop('disabled', false);
                break;
            case'2':
                $('#Runs1').prop('disabled', true);
                break;
        }
    });
});
</script>
</head>
<body>
    <table width="500" border="1">
      <form style="text-align:center" id="form1" name="form1" method="post" action="">
        <tr>
            <th width="32" nowrap="nowrap">Status</th>
            <th width="32" nowrap="nowrap">Runs</th>
            <th width="16" nowrap="nowrap">6</th>
        </tr>
        <tr>
            <td align='center'>
            <select id='Status1'><option value='0'>Not Playing</option><option value='1'>Playing</option><option value='2'>Out</option></select></td>
            <td align='center'>
            <input style='font-weight:bold; background:#FFFFFF; text-align:right; color:#000000;' disabled='disabled' name='Runs1' type='text' id='Runs1' size='5' maxlength='5' value='' />    
            </td>
        </tr>
    </form>
    </table>
</body>
</html> 
```

# javascript - Zurb Foundation Orbit 滑块自定义

> ID：15221305
> 
> 赞同：1
> 
> 时间：2013-03-05T10:20:59.873
> 
> 标签：javascript, slider, zurb-foundation, orbit

我正在使用轨道滑块，我需要调用图像计时器启动的函数。我正在使用基础 3.x

我尝试了辅助`shift: function (direction)`功能，但问题是它不会触发拳头时间（我认为初始化功能是第一次使用它）

我的目的是为了非常严格的要求将另一个滑块（由我写的）移动到轨道前面（但我只需要知道上面提到的一点）

如果你能引导我的话，我会欠你的

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T12:45:06.670

要在计时器第一次启动时触发您的函数，请将您的调用放在`startClock()`函数中，查看 jquery.foundation.orbit.js 中的第 275 行（Foundation Build 3.5.2 中的 Orbit 1.4.0）：

```
startClock: function () {

    yourFunctionCallHere();

    var self = this; 
```

此外，要在后续幻灯片上重复调用您的函数，请在 shift 函数中再次调用，查看第 512 行：

```
shift: function (direction) {

      yourFunctionCallHere();       

       var slideDirection = direction; 
```

# php - PHP，操作非常大的图像文件而不将它们加载到 RAM 中

> ID：15221309
> 
> 赞同：5
> 
> 时间：2013-03-05T10:21:07.703
> 
> 标签：php, image, algorithm

我一直在寻找这个，但我没有找到我想要的，所以这是我的问题：

使用 PHP，我想创建一个非常大的图像文件，比如说 20000 千兆像素，然后我想在这个大图像上的特定位置添加一个小图像。我的电脑没有足够的内存来加载整个图像并以这种方式操作像素，所以我认为我需要访问硬盘上的图像数据并以某种方式操作它们，所以有人知道该怎么做吗？谢谢你的协助 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T12:12:58.173

ImageMagick 支持对非常大的文件进行操作。我在 PHP/ImageMagick API 中看不到支持，但您可以调用 (exec) 到命令行程序并使用它的磁盘缓存或流选项之一。

这里有一些处理大文件的文档：[www.imagemagick.org](http://www.imagemagick.org/Usage/files/#massive)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-05T12:15:28.250

What would you do with an image that size? You couldn't serve it a browser, and even if you did manage to load it into the server, it would take up all the server resources, so you wouldn't be using the server for anything else in the meanwhile.

The short answer is that handling an image of that kind of scale as a single file in RAM is out of the question unless you've got an extremely powerful machine dedicated to it, and nothing else. At 20k x 20k pixels, even a simple monchrome image is going to take 400mb. Scale that up to any useful colour depth, and you're talking about gigabytes of RAM just to hold the graphic, and that's before we even start thinking about actually doing stuff with it.

I guess the solution is to look at what other people do, given the same problem.

Real applications that use images of that scale (eg mapping apps or panorama photos like [this one](http://btlondon2012.co.uk/pano.html)) store their image as a series of much smaller blocks. Each block is a smaller image in its own right. They'd also usually have separate sets of blocks for each zoom level too. Handling a single massive image file is implausible for any realistic server environment, but smaller chunks make it easy to handle for both browser and server. The server just sends the blocks to the user that are in the current view; when the user scrolls or zooms, they get sent more blocks.

Your question mentions adding a smaller image to a specific location on the big one. Again, looking at how others do this, google maps and others handle this kind of thing using a layering system. The layers are built up and sent to the browser separately.

I know that doesn't directly answer the question, but I hope it gives you some options to think about.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T14:19:14.390

只需保留一个简单的文件，而不是图像，并以任何自定义格式将像素数据存储在其中。PHP 有一个 fseek 函数，它允许您跳转到文件中的任何位置，因此您可以计算所需的位置并对其执行读/写。如果您有大小为 W x H 的图像，并且每个像素占用 3 个字节，则文件中像素 (X, Y) 的地址将为 (W * Y + X) * 3。

# c# - 如何抓取网站以获取信息？

> ID：15221315
> 
> 赞同：0
> 
> 时间：2013-03-05T10:21:38.430
> 
> 标签：c#, html-parsing

我希望我的程序仅自动从网站下载某些信息。在发现这几乎是不可能的之后，我认为程序最好只下载整个网页，然后在字符串中找到我需要的信息。

如何在特定单词之后找到某些单词/数字？我想要的数字之前的单词*总是*一样的。数字各不相同，这就是我的程序中需要的数字。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-05T10:25:13.723

听起来像屏幕刮擦。我推荐使用 CSQuery [https://github.com/jamietre/CsQuery](https://github.com/jamietre/CsQuery)（或者如果你愿意，可以使用 HtmlAgilityPack）。获取源，解析为对象，遍历所有文本节点并在那里进行字符串比较。执行此操作的实际方式在源 HTML 的完成方式上存在很大差异。

可能像这个从内存中编写的未经测试的示例（CSQuery）

```
var dom = CQ.Create(stringWithHtml);
dom["*"].Each((i, e) =>
{
    // handle only text nodes
    if (e.NodeType == NodeType.TEXT_NODE) {
        // do your check here
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-05T10:29:16.467

我已经将[HTML Agility Pack](http://html-agility-pack.net)用于多个应用程序，并且效果很好。也有很多选择。

这是一个可爱的 HTML 解析器，通常为此推荐。它将采用格式错误的 HTML 并将其转换为 XHTML，然后是可遍历的 DOM，例如 XML 类。因此，对于您在野外找到的代码非常有用。

# c# - 长文本和不透明度渐变蒙版

> ID：15221318
> 
> 赞同：1
> 
> 时间：2013-03-05T10:21:47.600
> 
> 标签：c#, wpf, silverlight, user-interface, user-controls

我有一个`WPF/Silverlight`控制 -`200px`宽度。问题是我想在上面放置一个项目标题，但我不能换行。我以为我可以缩放字体，但发现它毫无意义，因为这些标题可能很**长**。几分钟后，我决定在控件的 30 像素末端做一些不透明渐变蒙版之类的操作。

**例如**，当我有一个单词`QWERTYUIOPASDFGHJKL`时，控件可以显示的最大子字符串是`QWERTY`，那么`TY`就有一个不透明渐变蒙版。当我的鼠标指针进入我的写作区域时，将显示工具提示（或其他内容）（全文）。

我有两个问题：

1.  实现这种不透明渐变蒙版的最佳方法是什么？
2.  鼠标进入文本区域后如何显示整个文本（我认为`ToolTip`是一个糟糕的解决方案）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:37:51.210

1.  好吧，我不知道您是否要重新考虑这种方法。更容易实现并且可能更容易理解的方法是使用省略号。每个用户都知道，当他看到这样的省略号时，这只是标题的一部分。
    具有这样的`TextBlock`内置功能。感谢克莱门斯：`TextBlock.TextTrimming=CharacterEllipsis`

2.  为什么是`ToolTip`一个糟糕的方法？如果您不喜欢它的外观，您可以自定义样式。

# android - 选中复选框上的 ListView 删除按钮

> ID：15221320
> 
> 赞同：0
> 
> 时间：2013-03-05T10:21:50.557
> 
> 标签：android, listview, checkbox, adapter

我需要以下流程来解决：一旦我点击检查我的任何列表视图项目复选框，应该会出现一个删除按钮。如果我取消选中所有复选框，删除按钮应该会消失。我的问题是，一旦在我的 CheckBox 视图上设置一个 setOnCheckedChangeListener 以使 Delete 可见/消失，它会在我滚动列表视图后自动取消选中，并且它在我的屏幕上不再可见（`回收视图的原因） .

关于如何获得 total_number_of_checkboxes_checked 变量的任何想法，该变量将随 1 增加或减少。（我重复一遍，计算所有选中的复选框，而不仅仅是屏幕上可见的复选框）。

编辑：添加代码

* * *

## 适配器

* * *

```
public class AdminNotesAdapter extends BaseAdapter {

private ArrayList<AdminNoteShortenHolder> mNotesList = new ArrayList<AdminNoteShortenHolder>();

private AdminNoteShortenHolder mNoteHolder = new AdminNoteShortenHolder();
private ViewHolder holder = null;

private Activity activity;

public AdminNotesAdapter(ArrayList<AdminNoteShortenHolder> array,
        Activity activity) {
    this.activity = activity;
    this.mNotesList = array;

}

@Override
public int getCount() {
    return mNotesList.size();
}

@Override
public Object getItem(int position) {
    return null;
}

@Override
public long getItemId(int position) {
    return 0;
}

@Override
public View getView(int position, View convertView, ViewGroup parent) {
    mNoteHolder = mNotesList.get(position);

    if (convertView == null) {
        convertView = activity.getLayoutInflater().inflate(
                R.layout.row_adminnotes, null);
        holder = new ViewHolder(convertView);
        holder.cb_row_adminNotesCheck
                .setOnCheckedChangeListener(new OnCheckedChangeListener() {

                    @Override
                    public void onCheckedChanged(CompoundButton buttonView,
                            boolean isChecked) {
                        int getPosition = (Integer) buttonView.getTag();
                        mNotesList.get(getPosition).setSelected(isChecked);

                    }
                });
        convertView.setTag(holder);
        convertView.setTag(R.id.cb_row_adminnotesCheck,
                holder.cb_row_adminNotesCheck);
    } else {
        holder = (ViewHolder) convertView.getTag();
    }

    holder.img_row_adminnotesNew
            .setVisibility(0 == mNoteHolder.note_read ? View.VISIBLE
                    : View.GONE);

    holder.txt_row_adminnotesNoteSubject.setText(mNoteHolder.note_subject);
    holder.txt_row_adminnotesNoteUser.setText("from "
            + mNoteHolder.note_from_user + " | " + mNoteHolder.note_time);
    holder.txt_row_adminnotesNotePreview.setText(mNoteHolder.note_content);

    holder.cb_row_adminNotesCheck.setTag(position);
    holder.cb_row_adminNotesCheck.setChecked(mNotesList.get(position)
            .isSelected());

    return convertView;
}

static class ViewHolder {

    public ImageView img_row_adminnotesNew;
    public TextView txt_row_adminnotesNoteSubject;
    public TextView txt_row_adminnotesNoteUser;
    public TextView txt_row_adminnotesNotePreview;
    public CheckBox cb_row_adminNotesCheck;

    public ViewHolder(View convertView) {

        img_row_adminnotesNew = (ImageView) convertView
                .findViewById(R.id.img_row_adminnotesNew);

        txt_row_adminnotesNoteSubject = (TextView) convertView
                .findViewById(R.id.txt_row_adminnotesNoteSubject);
        txt_row_adminnotesNoteUser = (TextView) convertView
                .findViewById(R.id.txt_row_adminnotesNoteUser);
        txt_row_adminnotesNotePreview = (TextView) convertView
                .findViewById(R.id.txt_row_adminnotesNotePreview);
        cb_row_adminNotesCheck = (CheckBox) convertView
                .findViewById(R.id.cb_row_adminnotesCheck);

    }

}
} 
```

## AdminNoteShortenHolder（模型类）

```
public class AdminNoteShortenHolder extends BaseHolder {

public int note_id;
public String note_from_user;
public String note_subject;
public String note_content;
public String note_time;
public int note_read;

private boolean selected;

@Override
public void parse(JSONObject jsonObject) {

    note_id = jsonObject.optInt("note_id", -1);
    note_from_user = jsonObject.optString("note_from_user");
    note_subject = jsonObject.optString("note_subject");
    note_content = jsonObject.optString("note_content");
    note_time = jsonObject.optString("note_time");
    note_read = jsonObject.optInt("note_read", -1);
}

public boolean isSelected() {

    return selected;
}

public void setSelected(boolean selected) {
    this.selected = selected;
}
} 
```

这是我到目前为止所做的，所以我设法在 setTag / getTag 的帮助下在 ListView 的滚动上保持 CheckBoxes 状态。问题是，我的活动中有一个删除按钮，只要至少有一个复选框被选中或没有，它就应该可见/消失。如果您有任何想法，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T12:18:33.680

您应该维护/保留“已选中”复选框的状态，以使其在向上和向下滚动时保持检查状态，因为在向上/向下滚动列表视图时，列表适配器会重新创建每个列表项。

您可以使用 hashMap 将列表项保存为 KEY 并将“已检查”状态保存为值。当用户选中该框时，将键值添加到映射中，当用户取消选中该框时，则从映射中删除键。

在渲染列表视图中使用此地图。代码如下：

```
private Map<Integer, Boolean> map =  new HashMap<Integer, Boolean>();    

@Override
public View getView(final int position, View convertView, ViewGroup parent) {

     Boolean present = map.get(position);
     if(present != null && present.booleanValue()){
       // set checkbox checked
     } else {
       // set checkbox un-cheked
     }

     holder.cb_row_adminNotesCheck.setOnCheckedChangeListener(new OnCheckedChangeListener() {

            @Override
            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
                    int getPosition = (Integer) buttonView.getTag();
                    mNotesList.get(getPosition).setSelected(isChecked);
                    if(isChecked){
                       map.put(position, true);
                    } else {
                       map.remove(position);
                    }
                    setButtonVisibility();
                }
     });
}

 private void setButtonVisibility()
 {
    if(map.size() > 0){
       // set button visible
    } else {
       // set button invisible
    }
 } 
```

# sql-server - 如何获取所有对象的所有扩展属性的列表

> ID：15221338
> 
> 赞同：18
> 
> 时间：2013-03-05T10:22:28.157
> 
> 标签：sql-server

我的任务是创建一个将返回以下数据的查询：

[架构名称]、[对象名称]、[扩展属性名称]、[扩展属性值]

任何想法如何做到这一点？我找到了 fn_listextendedproperty 函数，但这并没有多大帮助。

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2013-03-05T10:28:43.950

使用这个特定于列的查询：

```
SELECT S.name as [Schema Name], O.name AS [Object Name], ep.name, ep.value AS [Extended property]
FROM sys.extended_properties EP
INNER JOIN sys.all_objects O ON ep.major_id = O.object_id 
INNER JOIN sys.schemas S on O.schema_id = S.schema_id
INNER JOIN sys.columns AS c ON ep.major_id = c.object_id AND ep.minor_id = c.column_id 
```

将此查询用于所有扩展属性：

```
SELECT S.name as [Schema Name], O.name AS [Object Name], ep.name, ep.value AS [Extended property]
FROM sys.extended_properties EP
LEFT JOIN sys.all_objects O ON ep.major_id = O.object_id 
LEFT JOIN sys.schemas S on O.schema_id = S.schema_id
LEFT JOIN sys.columns AS c ON ep.major_id = c.object_id AND ep.minor_id = c.column_id 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2018-09-10T17:40:32.297

这会带来特定对象的所有列，以及它的属性（如果存在）。

```
SELECT  
    O.name AS [Object Name],
    c.name, 
    ep.value AS [Extended property]
FROM 
    sys.columns AS c INNER JOIN 
    sys.all_objects O ON c.object_id = O.object_id LEFT JOIN 
    sys.extended_properties EP ON ep.major_id = c.object_id AND ep.minor_id = c.column_id   
WHERE
    O.name = 'table-name' 
```

# visual-studio-2010 - 我已经安装了正确的 .net 框架版本，但我的 .exe 文件没有运行

> ID：15221340
> 
> 赞同：-6
> 
> 时间：2013-03-05T10:22:30.520
> 
> 标签：visual-studio-2010

我已经在这台计算机上安装了 .net 框架版本 4.0.30319 但我的 .exe 文件不起作用，我使用的是 win7 X86

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T10:25:20.693

当您说“您的 exe 文件”时，您应该更准确一些。你是在 Visual Studio 中创建自己的吗？如果是，则从 MICROSOFT POWER PACK 中删除您使用的所有属性。如果没有手动将它们安装在您的计算机上，它们将无法在编译器之外工作。您也可以通过将调试按钮更改为发布按钮来发布您的程序。完成此操作后按 f7，您的程序应该可以运行。

# php - php在浏览器中打开fdf文件

> ID：15221351
> 
> 赞同：4
> 
> 时间：2013-03-05T10:22:55.340
> 
> 标签：php, cakephp, pdf, fdf

我正在使用 cakephp。[我需要通过从http://koivi.com/fill-pdf-form-fields](http://koivi.com/fill-pdf-form-fields)获取代码来填写我已为其生成 fdf 文件的 PDF 表单。

fdf 文件将生成良好，但我无法在浏览器中打开该文件。我已将实时 PDF 表单 URL 放在 fdf 文件中，并使用以下标题显示该文件。但显示 fdf 文件的原始内容。

```
header("Content-type: application/vnd.fdf");
echo file_get_contents($fdf_doc); 
```

请有人帮助在浏览器中显示 pdf 文件和 fdf 文件中的数据。

这是我针对上述两行代码得到的代码

```
%FDF-1.2
%âãÏÓ
1 0 obj
<< 
/FDF << /Fields [ <</T(First_Name_dyoZTsSYj7AaZZORUqwHRg)/V(m)>><</T(Last_Name_wtE2EKuY4zimhkLHVtbImQ)/V(Jhon)>><</T(Address_iw9xRob*WcfI6Yx1VvF6lA)/V(Steve)>><</T(City_hdYMQhyO73*HEfQYtnWpyg)/V(lahore)>><</T(ZIP_Code_lSOicM9dFoK1WNlOn*BMdg)/V(232323)>><</T(Phone_l3ZSQxhOYwSFuzdOta-WNw)/V(98989898)>><</T(Arrival_Date_Jy6nv5X38KS1lyDYw-*uAQ)/V(01/30/2010)>><</T(Departure_Date_uFmnQc6dxs4jn7s*g32RAA)/V(02/03/2010)>><</T(Number_of_guest_0iHYhUsjJEAoMGsWL9koXA)/V(5)>><</T(Flight_Number_zY9NGizqNvliyJFB0IEmxA)/V(PK-506)>><</T(Time_N18PoY40LFC6LCUUBXb4JA)/V(16:08)>><</T(ADDITIONAL_INFO_0MGHwGHCfZmli5zV6WpKPA)/V(this is for testing for hotel registration)>><</T(file_name)/V(AccommodationRegistration1.pdf)>>] 
/F (http://example.com/pdf_files/AccommodationRegistration1.pdf) /ID [ <2deb20b6495e049130fbca026c4fd1d3>
] >> 
>> 
endobj
trailer
<<
/Root 1 0 R 

>>
%%EOF 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-15T05:05:58.890

您[应该从 fdf 生成一个 pdf](http://koivi.com/fill-pdf-form-fields-filled)

有用的文章：

1.  [FDF](http://phpbootcamp.com/articles/fdf.htm)
2.  [在共享 Web 服务器上安装 PDFTK](https://stackoverflow.com/a/11531682/1427338)
3.  [将 pdftk 添加到 1and1 共​​享主机](http://jheslop.com/2009/11/11/adding-pdftk-to-1and1-shared-hosting/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-11T15:27:54.057

首先在回显文件后尝试 exit() 以防止 CakePHP 将输出添加到响应中。

一种更简洁的方法是使用 CakeResponse 传递文件：

```
return $this->response->file($fdf_doc); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-13T12:37:27.917

原因是浏览器无法识别内容类型。
所以它认为它是纯文本并且不知道这是PDF。
您的内容类型无效：

```
header("Content-type: application/vnd.fdf"); 
```

试试这个：

```
header('Content-type: application/pdf'); 
```

# javascript - 如何将此数组索引划分为单独的变量？

> ID：15221359
> 
> 赞同：0
> 
> 时间：2013-03-05T10:23:27.810
> 
> 标签：javascript, cordova

"友情短信:$@|5825|@$:4cing.com/mobile_app/uploads/pageicon/friendship.png"

如何溢出该数组 [0] 并存储到不同的数组中

我正在尝试 nsmaxrange

```
var subStar="|@$:";
var sub=":$@|"; 
```

通过使用该变量，如何将该字符串溢出将该字符串存储到不同的变量中

感谢和问候

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T11:01:09.260

怎么样：

```
var myarr = array[0].split(":"); 
```

然后

```
myarr [0] = "Friendship SMS",
myarr [1] = "$@|5825|@$"
myarr [2] = "4cing.com/mobile_app/uploads/pageicon/friendship.png" 
```

从 中提取一个数`myarr[1]`：

```
myarr [1] = myarr[1].match(/\d+/)[0]; 
```

或者

```
myarr [1] = myarr[1].match(/[0-9]+/)[0]; 
```

然后根据需要修剪每个数组成员。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T11:21:55.693

```
var reg = /(.+)\:\$@\|(\d+)\|@\$\:(.+)/
var somestring = "Friendship SMS:$@|5825|@$:4cing.com/mobile_app/uploads/pageicon/friendship.png";
var youranswerarray = somestring.match(reg).slice(1); 
```

您可以使用子组定义正则表达式，以从文本中选择您实际需要的三个部分。然后将匹配函数应用于字符串，并获得一个包含匹配字符串和匹配子组的数组。您只需要子组，因此您可以通过从 1 位置的元素开始获取该数组的切片/副本来丢弃匹配的字符串，即数组的第一个元素。

# python - 如何重启 PyQt4 应用程序

> ID：15221361
> 
> 赞同：1
> 
> 时间：2013-03-05T10:23:34.030
> 
> 标签：python, pyqt4, application-restart

有没有办法重新启动 PyQt 应用程序`QApplication`

我使用以下代码使用 pyqt4 和 python 2.6 创建了一个应用程序

`app = QtGui.QApplication(sys.argv)`

我有设置选项，我在其中设置了一些设置。现在，当我保存设置时，我需要重新加载应用程序以便新设置生效。无需最终用户退出并再次启动应用程序。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-09-03T21:52:32.303

我有一个类似的问题，只是在适当的地方使用它：

```
subprocess.Popen([__file__])
sys.exit(0) 
```

这是一个简单的应用程序，不需要任何进一步的参数。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-29T09:09:55.713

我解释了我是如何做到的：

我创建了一个额外的文件 main.py，它调用了我的实际主程序文件 dash.py。我发出一个重启信号（我的程序在 closeEvent 处自动更新），所以我需要为它发出一个信号。这是片段，希望对您有所帮助。

这个在我的主程序文件中 dash.py

```
def restart(self):
    # create a signal equivalent to "void someSignal(int, QWidget)"
    self.emit(QtCore.SIGNAL("RESTARTREQUIRED"), True) 
```

main.py 中的这个仅调用实际程序并重新启动应用程序

```
import sys
from PyQt4 import QtGui,QtCore
from bin import dash

if __name__ == "__main__":
    application = QtGui.QApplication(sys.argv)
    uDesk = dash.app()
    uDesk.show()
    uDesk.actionRestart.triggered.disconnect()
    # define restart slot
    @QtCore.pyqtSlot()
    def restartSlot():
        print 'Restarting app'
        global uDesk
        uDesk.deleteLater()
        uDesk = dash.app()
        uDesk.show()
        uDesk.actionRestart.triggered.disconnect()   
        uDesk.actionRestart.triggered.connect(restartSlot)
        print 'New app started !'

    QtCore.QObject.connect(uDesk,
                   QtCore.SIGNAL("RESTARTREQUIRED"),
                   restartSlot)
    uDesk.actionRestart.triggered.connect(restartSlot)
    sys.exit(application.exec_()) 
```

希望这有帮助！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-07-17T12:14:37.840

这就是我在**PySide中重新启动井字游戏的方式（在****PyQt**中应该相同）：

我有一个班级 - 一个`QWidget`班级 - 在其中编码**井字**游戏。要重新启动我使用的应用程序：

1.  `import subprocess`

2.  像`QPushButton()`这样：

    `self.button = QPushButton("Restart", self)`

3.  `button`到的连接`Slot`：

    `self.buton.clicked.connect(self.restartGame)`

4.  对于`Slot`这个按钮，像这样：

    `def restartGame(self): self.close() subprocess.call("python" + " TicTAcToe.py", shell=True)`

所有这些都在同一个 - 单类中。它们的作用是：关闭游戏的活动窗口并创建一个新窗口。

此代码在井字游戏类中的外观：

```
import subprocess
class TicTacToe(QWidget):
    def __init__(self):
        QWidget.__init__(self)
        self.button = QPushButton("Restart", self)
        self.buton.clicked.connect(self.restartGame)
    def restartGame(self):
        self.close()
        subprocess.call("python" + " TicTacToe.py", shell=True)

def main():
    app = QApplication(sys.argv)
    widget = TicTacToe()
    widget.show()
    sys.exit(app.exec_())

if __name__ == "__main__":
    main() 
```

**编辑**

我知道这不能回答问题（它不会重新启动 a `QApplication`），但我希望这可以帮助那些想要重新开始`QWidget`单节课的人。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-05T10:52:59.063

编辑：更改获取应用程序路径的方式

您可以开始一个新流程并退出您的流程，如下所示：（代码未测试，但基于[此答案](https://stackoverflow.com/questions/5129788/how-to-restart-my-own-qt-application#5129898)）

```
// Restart Application
def restart(self, abort):
    // Spawn a new instance of myApplication:
    proc = QProcess()
    //proc.start(self.applicationFilePath());
    import os
    proc.start(os.path.abspath(__file__))

    self.exit(0); 
```

如果您不想子类化，则将其编码为 Qapplication 的方法甚至函数

# javascript - Flash 到 JavaScript

> ID：15221362
> 
> 赞同：0
> 
> 时间：2013-03-05T10:23:37.313
> 
> 标签：javascript, jquery, html, flash, audio

我刚刚完成了这个网站的第一阶段：http: [//union42.com/](http://union42.com/)

它目前在第一页的酒吧场景中使用 Flash。我想做的是使用 javascript 重新创建这个酒吧场景，然后让它回退到 flash 版本。目前它使用闪存，然后有一个平面图像作为后备。

我想知道的是如何在酒吧场景中定位翻转以触发声音，这可能吗？我知道从一边到另一边的滚动是相当直接的。

# wpf - 使用服务定位器的 MVVM 模态对话框

> ID：15221367
> 
> 赞同：6
> 
> 时间：2013-03-05T10:23:46.760
> 
> 标签：wpf, mvvm, modal-dialog

我正在开发一个遵循 MVVM 模式的 WPF 应用程序。为了显示模式对话框，我尝试按照以下文章建议的方式进行操作。 [http://www.codeproject.com/Articles/36745/Showing-Dialogs-When-Using-the-MVVM-Pattern?fid=1541292&fr=26#xx0xx](http://www.codeproject.com/Articles/36745/Showing-Dialogs-When-Using-the-MVVM-Pattern?fid=1541292&fr=26#xx0xx)

但在这类文章中，我观察到，DialogService 接口的 ShowDialog 方法是从 MainWindowViewModel 调用的。

我的申请中的情况略有不同。MainWindow.xaml 包含一个用户控件，例如 ChildView，其中包含一个按钮 Add。MainWindowViewModel 包含另一个 ViewModel，例如 ChildVM，它与 ChildView 绑定。ChildVM 包含 AddCommand，我需要在调用 AddCommand 对应的 AddExecute 方法时显示 Modal Dialog。我怎样才能做到这一点？

编辑代码

```
 private Window FindOwnerWindow(object viewModel)
            {
                    FrameworkElement view = null;

        // Windows and UserControls are registered as view.
        // So all the active windows and userControls are contained in views
        foreach (FrameworkElement viewIterator in views)
        {
            // Check whether the view is an Window
            // If the view is an window and dataContext of the window, matches
            // with the viewModel, then set view = viewIterator
            Window viewWindow = viewIterator as Window;
            if (null != viewWindow)
            {
                if (true == ReferenceEquals(viewWindow.DataContext, viewModel))
                {
                    view = viewWindow;
                    break;
                }

            }
            else
            {
                // Check whether the view is an UserControl
                // If the view is an UserControl and Content of the userControl, matches
                // with the viewModel, then set view = userControl
                // In case the view is an user control, then find the Window that contains the
                // user control and set it as owner
                System.Windows.Controls.UserControl userControl = viewIterator as System.Windows.Controls.UserControl;
                if (null != userControl)
                {
                    if (true == ReferenceEquals(userControl.Content, viewModel))
                    {
                        view = userControl;
                        break;
                    }

                }
            }
        }
        if (view == null)
        {
            throw new ArgumentException("Viewmodel is not referenced by any registered View.");
        }

        // Get owner window
        Window owner = view as Window;
        if (owner == null)
        {
            owner = Window.GetWindow(view);
        }

        // Make sure owner window was found
        if (owner == null)
        {
            throw new InvalidOperationException("View is not contained within a Window.");
        }

        return owner;
        } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-05T14:23:21.443

好的，如果我没听错的话，您不是要从 MainWindowViewModel 而是从不同的 ChildViewModel 打开模态对话框吗？

查看您链接的 CodeProject 文章的 MainWindowViewModel 的构造函数：

ViewModel 有一个具有以下签名的构造函数：

```
public MainWindowViewModel(
            IDialogService dialogService,
            IPersonService personService,
            Func<IOpenFileDialog> openFileDialogFactory) 
```

这意味着对于构建，您需要显示模式对话框的服务、另一个服务 (personService)，这在此处无关紧要，以及用于打开文件的特定对话框的工厂 openFileDialogFactory。

为了使用服务，这是本文的核心部分，实现了一个简单的 ServiceLocator 并定义了一个默认构造函数，它使用 ServiceLocator 来获取 ViewModel 需要的服务的实例：

```
public MainWindowViewModel()
            : this(
            ServiceLocator.Resolve<IDialogService>(),
            ServiceLocator.Resolve<IPersonService>(),
            () => ServiceLocator.Resolve<IOpenFileDialog>())
        {} 
```

这是可能的，因为 ServiceLocator 是静态的。或者，您可以使用 ServiceLocator 在构造函数中设置服务的本地字段。上述方法更好，因为它允许您自己设置服务，如果您不想使用 ServiceLocator。

您可以在自己的 ChildViewModel 中执行完全相同的操作。

```
public ChildViewModel(IDialogService dialogService)
{
    _dialogService = dialogService;
} 
```

创建一个默认构造函数，它使用从 ServiceLocator 解析的服务实例调用上述构造函数：

```
public ChildViewModel() : this(ServiceLocator.Resolve<IDialogService>()) {} 
```

现在您可以在 ChildViewModel 中的任何位置使用该服务，如下所示：

```
_dialogService.ShowDialog<WhateverDialog>(this, vmForDialog); 
```

为了找到您的视图的所有者窗口，它不是视图本身，您需要修改`FindOwnerWindow`DialogService 的方法以找到视图的父窗口，而不是期望一个 Window 作为视图本身。您可以使用 VisualTreeHelper 来执行此操作：

```
private Window FindOwnerWindow(object viewModel)
    {
        var view = views.SingleOrDefault(v => ReferenceEquals(v.DataContext, viewModel));

        if (view == null)
        {
            throw new ArgumentException("Viewmodel is not referenced by any registered View.");
        }

        DependencyObject owner = view;

        // Iterate through parents until a window is found, 
        // if the view is not a window itself
        while (!(owner is Window))
        {
            owner = VisualTreeHelper.GetParent(owner);
            if (owner == null) 
                throw new Exception("No window found owning the view.");
        }

        // Make sure owner window was found
        if (owner == null)
        {
            throw new InvalidOperationException("View is not contained within a Window.");
        }

        return (Window) owner;
    } 
```

您仍然需要注册 UserControl，在 UserControl 上设置附加属性：

```
<UserControl x:Class="ChildView"
             ...
             Service:DialogService.IsRegisteredView="True">
   ...
 </UserControl> 
```

据我所知，这是可行的。

**附加信息：**

为了完成同样的事情，我使用了 PRISM 框架，它提供了很多功能来实现这种解耦、控制反转 (IoC) 和依赖注入 (DI)。也许值得为你看看它，也是。

希望这可以帮助！

**编辑考虑评论。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-22T03:03:20.027

看看你是否喜欢这个想法......我正在使用 Castle Windsor 和 Prism，所以你的里程可能会有所不同，但概念应该与另一个 MVVM 和 IoC 相同。

您从想要打开模式对话框的 MainViewModel.cs 开始

```
var view = ServiceLocator.Current.GetInstance<SomeDialogView>();
view.ShowDialog(); 
```

但当然它不尊重您在 MainView.xaml 中设置的内容

```
WindowStartupLocation="CenterOwner" 
```

讨厌！

但是等等，ServiceLocator 不能只给我 MainView 吗？

```
var view = ServiceLocator.Current.GetInstance<SomeDialogView>();
view.Owner = ServiceLocator.Current.GetInstance<MainView>();  // sure, why not?
view.ShowDialog(); 
```

此行会引发我的 IoC 配置异常，因为我的 IoC 将视图注册为具有“瞬态生命周期”。在 Castle Windsor 中，这意味着每个请求都提供了一个全新的实例，我需要MainView 实例本身，而不是尚未显示的新实例*。*

但是通过简单地从每个“瞬态”视图更改注册

```
container.Register(Classes.FromAssemblyNamed("WhateverAssemblyTheyreIn")
  .InNamespace("WhateverNamespaceTheyreIn")
  .LifestyleTransient()); 
```

通过使用流利的除非（）和如果（）稍微区分

```
container.Register(Classes.FromAssemblyNamed("WhateverAssemblyTheyreIn")
  .InNamespace("WhateverNamespaceTheyreIn")
  .Unless(type => type == typeof(MainView))
  .LifestyleTransient());  // all as before but MainView.

container.Register(Classes.FromAssemblyNamed("WhateverAssemblyTheyreIn")
  .InNamespace("WhateverNamespaceTheyreIn")
  .If(type => type == typeof(MainView))
  .LifestyleSingleton());  // set MainView to singleton! 
```

提供的 MainView*是*我们想要的！

高温高压

# php - 在 CodeIgniter 中的视图中包含视图的最佳方法

> ID：15221371
> 
> 赞同：71
> 
> 时间：2013-03-05T10:23:55.310
> 
> 标签：php, codeigniter, templates

我正在启动一个大型 codeigniter 项目，并想尝试为可能显示在不同页面/控制器上的数据循环等内容片段创建一些可重用的“迷你”视图。

从主控制器的视图中调用视图会更好吗？如果是这样，怎么做？或者我应该从控制器调用“迷你视图”，从而将视图的代码传递给主视图？

* * *

## 回答 #1

> 赞同：124
> 
> 时间：2013-03-05T10:38:26.033

其他视图中的视图称为**嵌套视图**。在 CodeIgniter 中包含嵌套视图有两种方法：

## 1.在控制器内部加载一个嵌套视图

提前加载视图并传递给另一个视图。首先将其放入控制器中：

```
<?php
// the "TRUE" argument tells it to return the content, rather than display it immediately
$data['menu'] = $this->load->view('menu', NULL, TRUE);
$this->load->view ('home', $data);
?> 
```

然后将`<?=$menu?>`您的视图放在您希望菜单出现的位置。

## 2.“从内部”加载视图

首先将其放入控制器中：

```
<?php
  $this->load->view('home');
?> 
```

然后把它放在`/application/views/home.php`视图中：

```
<?php $this->view('menu'); ?>

<p>Other home content...</p> 
```

关于最佳方法，我更喜欢第一种方法而不是第二种方法，因为使用第一种方法我不必混淆代码，它不像**包含**php。虽然间接两者是相同的，但第一种方法比第二种方法更清晰！

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2013-03-05T12:17:09.990

老实说，我更喜欢通过使用模板视图然后从控制器加载必要的数据来做到这一点，这意味着重复代码要少得多，并且比从视图加载视图更好地遵循 DRY 概念。特别是对于页眉、页脚和菜单等内容。

所以我的模板视图看起来像这样：

模板.php

```
$this->load->view('header',$title);
$this->load->view('sidebar',$sidebar_content);
$this->load->view('main_content',$main_content);
$this->load->view('footer'); 
```

然后在我的控制器中，我将所需的数据传递给模板，如下所示：

```
$data['title'] = 'Home Page';
$data['sidebar_content']='pages/standard_sidebar';
$data['main_content'] ='pages/my_home_page'; 
$this->load->view('template',$data); 
```

这样做有很多好处。首先是我可以有多个模板，例如，我有两个主要模板，一个用于没有侧边栏的完整页面视图，一个用于有侧边栏的页面，我还调用 if 语句来决定要包含哪个标题，常规的或带有管理菜单的。

是的，我可以在每个主视图页面中包含页眉、侧边栏和页脚，但这最终会导致大量重复代码。例如，如果我希望我的所有页面都有新的东西，或者其他一些小片段，会发生什么？使用模板，我将代码段添加到适当的模板中，然后就完成了。走另一条路，我找到每个页面并在那里添加片段视图，在我看来，这相当于在页面中添加 CSS，浪费且最终无法维护。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-03-05T10:26:25.737

**方法一**

我在视图中使用此方法将包含视图插入到我想要的位置

```
$this->load->view('include/include_view'); 
```

**方法二**

或者在控制器中，您可以加载的不仅仅是这样的视图：

```
$this->load->view('header_view');
$this->load->view('list_view');
$this->load->view('footer_view'); 
```

没有一种方法比另一种更好，这取决于您是否必须传递一些数据（在这种情况下使用方法 2）或者是否要在主视图的特定部分中包含视图（在这种情况下最好使用方法 1 )

**方法 3**

通过主视图将数据传递到包含视图

进入你的控制器：

```
$data['title'] = "Title";
$this->load->view('main_view',$data); 
```

在你看来

```
$data2['title'] = $title;
$this->load->view('include/include_view',$data2); 
```

如果您想将整个数据传递给您的包含视图，您可以这样做：在您的控制器中：

```
$data['nestedView']['title'] = 'title'; 
```

在你看来

```
$this->load->view('includes/included_view', $nestedView); 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-03-05T11:31:06.777

这是一种在视图中包含视图的简单方法。无需提前加载视图。只需将视图路径传递给其他视图。

在你的控制器中使用这个：

```
$data['middle'] = 'includeFolder/include_template_view';  //the view you want to include
$this->load->view('main_template_view',$data);  //load your main view 
```

在 main_template_view 中，您可以包含其他视图：

```
$this->load->view($middle); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2015-10-27T14:56:06.973

在我看来，为了以更有效的方式解决这个问题，我已经这样做了：

您创建一个新的助手（在 application/helpers 中），名称为（例如 common_helpers.php，下划线很重要）。在此文件中，您将所有功能（例如构建 html 片段）放在一起。

```
<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');

    function getHead(){
    require_once(APPPATH."views/common/head.php");
    }   

    function getScripts(){
    require_once(APPPATH."views/common/scripts.php");
    }

    function getFooter(){
    require_once(APPPATH."views/common/footer.php");
    } 
```

在您的控制器中，您只调用一个关于 MVC 的视图，并从您的自定义助手调用函数。

```
class Hello extends CI_Controller {

   public function index(){
       $this->load->helper('common');
       $this->load->view('index');   
   }

} 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2019-01-25T23:37:47.173

> 在控制器中

控制器

```
<?php
    public function view($page = NULL)
        {
          if ( ! file_exists(APPPATH.'views/pages/'.$page.'.php'))
        {
                 $data['title'] = ucfirst($page); // Capitalize the first letter
                // Whoops, we don't have a page for that
                show_404();

        }

        $data= array(''); 
        $data['title'] = ucfirst($page); // Capitalize the first letter 
         $data['page_layout']='pages/'.$page;    
         $this->load->view('page_layout', $data);
        }
?> 
```

> 在 Views 文件夹中创建一个名为 page_layout.php 的页面

```
page_layout.php

//This is where you set the layout to call any view through a variable called $page_layout declared in the controller//

 <?php
     $this->load->view('header');
     $this->view($page_layout);
     $this->load->view('footer');
  ?> 
```

# gdb - gdb/mi gdb 服务器调试

> ID：15221374
> 
> 赞同：2
> 
> 时间：2013-03-05T10:24:03.167
> 
> 标签：gdb, gnu-make, gdbserver, gdbm

**gdb mi 和 gdb server 有什么区别？两者都可以用于本地调试吗？**

我在使用 Red Hat 上的 gdb 服务器进行调试时遇到问题。调试启动器在 72 % 处停止。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-05T15:44:30.153

对于本地调试，您既不需要 MI 也不需要 gdb 服务器。你只需要gdb。

MI 被各种 GUI/IDE 用来与 gdb 通信。这基本上改变了命令，以便机器可以更好地解析它们（因此名称为机器接口）。

gdbserver 用于调试远程系统。您只在远程（目标）机器上运行 gdbserver（例如，这可以是一些运行 linux 的嵌入式系统），然后您从工作站上的 GDB（串行、以太网或类似）连接到 gdbserver。这允许您在工作站上进行调试，并且只需要目标来运行更简单的 gdbserver。

# php - 正则表达式 - 如何一次匹配一个模式

> ID：15221388
> 
> 赞同：2
> 
> 时间：2013-03-05T10:24:47.913
> 
> 标签：php, regex

我有这个函数可以解析一些内容以检索自制链接标签并将其转换为普通链接标签。

可能的输入：

```
<p>blabalblahhh <moolinkx pageid="121">text to click</moolinkx> blablabah</p> 
```

输出 ：

```
<p>blabalblahhh <a href="whateverpage.htm">text to click</a> blablabah</p> 
```

这是我的代码：

```
$regex = '/\<moolinkx pageid="(.{1,})"\>(.{1,})\<\/moolinkx\>/';
preg_match_all( $regex, $string, $matches ); 
```

如果字符串中只有一个，它会很好地工作。但是一旦有第二个，它就不起作用了。

输入：

```
<p>blabalblahhh <moolinkx pageid="121">text to click</moolinkx>  blablabah.</p>
<p>Another <moolinkx pageid="128">text to clickclick</moolinkx> again blablablah.</p> 
```

这就是我在 print_r($matches) 时得到的：

```
Array
(
[0] => Array
    (
        [0] => <moolinkx pageid="121">text to click</moolinkx>  blablabah.</p><p>Another <moolinkx pageid="128">text to clickclick</moolinkx>
    )

[1] => Array
    (
        [0] => 121">text to click</moolinkx>  blablabah.</p><p>Another <moolinkx pageid="128
    )

[2] => Array
    (
        [0] => text to clickclick
    )

) 
```

我对正则表达式不放心，所以它一定是非常微不足道的......但我无法确定它是什么:(

非常感谢您！

注意：这是我在这里的第一篇文章，尽管我多年来一直在使用这个很棒的问答！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:30:29.003

您正在使用贪婪选择器，它将第一个开始标记和最后一个结束标记之间的所有内容识别为标记之间的内容。将您的正则表达式更改为：

```
$regex = '/\<moolinkx pageid="(.+?)"\>(.+?)\<\/moolinkx\>/';
preg_match_all( $regex, $string, $matches ); 
```

注意`.{1,}`已更改为`.+?`。`+`表示一个或多个实例，并且告诉`?`正则表达式选择最少的字符来满足表达式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-05T10:55:15.240

使用负正则表达式：
`$regex = '/<moolinkx pageid="([^"]+)">([^<]+)<\/moolinkx>/';`

在这里解释演示：[http ://regex101.com/r/sI3wK5](http://regex101.com/r/sI3wK5)

# c++ - 在 iOS 上使用 Android C++ 库

> ID：15221389
> 
> 赞同：0
> 
> 时间：2013-03-05T10:24:48.620
> 
> 标签：c++, ios, java-native-interface

我正在开发一个带有最新 SDK 的 iOS 应用程序，它将使用 OpenCV。

这个应用程序是从 Android 应用程序迁移而来的，我将在我的 iOS 项目中使用它的所有 C++ 文件。

在 C++ 文件上，我有这样的函数签名：

`myFunction(JNIEnv * jenv, jclass jobj, jint width, jint height,jintArray leftDetectionRectArray, jintArray rightDetectionRectArray )`

我可以在不更改 iOS 代码的情况下使用这些 C++ 文件吗？还是我必须对它们进行一些更改？

你给我推荐什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:32:03.263

如果不进行修改，您将无法在 iOS 代码中使用这些 C/C++ 文件。

使用 JNI 的部分可能只是您真实代码的接口（在纯 C/C++ 中），在这种情况下，您可以删除它并直接使用 C/C++ 代码或创建一个 Objective-C 接口。

JNI 函数没有也不会在 iOS 上定义，因为在基于 iOS 的设备上没有 Java 虚拟机（至少在任何官方版本中都没有）。

# iphone - 如何设计支持所有 iphone 屏幕尺寸的单个故事板文件？

> ID：15221390
> 
> 赞同：-1
> 
> 时间：2013-03-05T10:24:48.967
> 
> 标签：iphone, objective-c, xcode

我正在使用故事板和 xcode 4.6 来设计 Iphone 应用程序。我有非常复杂的视图控制器和一些子视图（如滚动视图和自动完成标签视图）是动态生成的。当为 iphone 4 构建应用程序时，一切正常。但是，当使用 Iphone（retina-4 英寸）模拟器时，我注意到屏幕的顶部和底部有空间，并且一些子视图（如滚动视图和自动完成表视图 ..）错位并覆盖了该视图控制器中的其他子视图. 我尝试搜索并发现一些建议根据屏幕大小设计/加载两个 xib 文件。我已经启用了自动调整大小掩码和自动布局，但问题仍然存在。

***如何设计一个对 Iphone-4 和 Iphone-5 都可行的故事板文件。***

参考：[如何为 iPhone 5 屏幕分辨率开发或迁移应用程序？](https://stackoverflow.com/questions/12395200/how-to-develop-or-migrate-apps-for-iphone-5-screen-resolution)

**更新附加的屏幕截图**：故事板文件

![在此处输入图像描述](../Images/c45bb1cce6deda93a0906efa508588f5.png)

![在此处输入图像描述](../Images/c88f1f8e8c2d948fe7fb5bf289c8b2e3.png) 提前致谢...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-05T10:32:59.947

使用下图中的按钮在视网膜 4 英寸和 3.5 英寸之间切换。使用右上角大小检查器下的自动调整大小工具来让视图正确定位自己。

![xcode 按钮](../Images/72cee9123775ddb45a89b30a8bcfc280.png)

# linux - 选择文件的一部分并将其复制到 Linux 中的新文件中

> ID：15221392
> 
> 赞同：12
> 
> 时间：2013-03-05T10:24:54.253
> 
> 标签：linux, text

如何使用 Linux 将文件的特定内容复制到新文件中？

例如，我有一个名为 test.log 的文件，它包含大约 1000 行。从这 1000 行中，我需要复制 200 - 700 行之间的行。

LINUX/UNIX 中有单行命令吗？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-03-05T10:30:55.150

尝试这个：

```
sed -n '200,700p' logfilename > destinationFilename 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-05T10:34:16.303

试试这一行：

```
awk 'NR>700{exit}NR>=200{print $0 > "newfile"}' yourlog 
```

上面的行将在第 700 行之后停止处理。如果您的日志文件很大，这将很有帮助。

# jquery - 使用基于 jQuery DOM 的方法识别手风琴选择器和选项卡？

> ID：15221397
> 
> 赞同：0
> 
> 时间：2013-03-05T10:25:01.133
> 
> 标签：jquery, jquery-ui

我有这个功能，我在其中发送 jquery-ui-accordion 和 jquery-ui-tab 的 id。该函数改变了它的错误状态。

我想让这个函数自动识别选择器和选项卡，这样我就不需要向它发送任何参数。

```
function show_error(selector,tab) {
    var $this = $(selector);
    //  parent tab
    var parent = $("#accordion").parent();
    //parent.adderror();

    // the content
    $this.adderror();

    // the header
    var header = $this.attr("aria-labelledby");
    $("#"+header).adderror();

    // the tab
    //This didn't work -var tab = parent.attr("aria-labelledby");
    $("#"+tab).parent().adderror();
} 
```

将此函数调用用作

```
<div id="tabs-1">
    <div id="accordion_oms">
        <div>
            <script>show_error("#ui-accordion-accordion_oms-panel-0","ui-id-1")</script>
        </div>
        <div>
            <script>show_error("#ui-accordion-accordion_oms-panel-1","ui-id-1")</script>
        </div>
    </div>
</div>

<div id="tabs-2">
    <div id="accordion_fulfillment">
        <div>
            No error here
        </div>
        <div>
            <script>show_error("#ui-accordion-accordion_fulfillment-panel-1","ui-id-1")</script>
        </div>

    </div>
</div> 
```

问题是我在我的 rails 应用程序的很多地方都使用了它，如果有什么东西被改变/移动了，我需要相应地改变它们。有什么方法可以使函数像 show_error() 一样，然后它会自动拾取选项卡和选择器？我将在正确的位置调用该函数。因此对于例如： show_error() ，它会根据调用它的位置自动识别它用于哪个手风琴和标签。

如果你想实验，这里是一个 JSFiddle - [http://jsfiddle.net/bxeP7/5/](http://jsfiddle.net/bxeP7/5/)

有点像

```
<h3>Orders</h3>

    <div>

      <% if @order_error.present? %>
          <%= @order_error.html_safe %>
          <%= javascript_tag("$(function() {show_error('#ui-accordion-accordion_oms-panel-0','ui-id-1');});") %>
      <% else %>
          <%= render "trace/display_tabular_data", :data => @order %>
      <% end %>
    </div>

<h3> Order Items </h3>
<div>
...
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:59:34.060

将您的生成代码更改为：

```
<h3>Orders</h3>
<div>
  <% if @order_error.present? %>
      <%= @order_error.html_safe %>
      <div class="error-occured"></div>
  <% else %>
      <%= render "trace/display_tabular_data", :data => @order %>
  <% end %>
</div>

<h3> Order Items </h3>
<div>
    ...
</div> 
```

**然后你的 JavaScript，使用 jquery UI 生成的类**获取所有错误及其父手风琴内容和标题以及选项卡面板和选项卡标题。

```
function show_error() {
    // Get all errors occured
    var $errorsOccured = $('.error-occured');

    $errorsOccured.each(function () {
        var $currentError = $(this);

        // Get accordion elements
        var $parentAccordionContent = $currentError.closest('.ui-accordion-content');
        var $parentAccordionHeader = $parentAccordionContent.prev('.ui-accordion-header');

        // Get tab elements
        var $parentTabPanel = $parentAccordionHeader.closest('.ui-tabs-panel');
        var tabIndex = $parentTabPanel.index();
        var $parentTabHeader = $parentTabPanel.prev('.ui-tabs-nav').find('li').eq(tabIndex);

        // Call error function for all elements found
        $currentError.add(
        $parentAccordionContent).add(
        $parentAccordionHeader).add(
        $parentTabPanel).add(
        $parentTabHeader).adderror();
    });
} 
```

我没有测试它，努力更新你的小提琴，但它会起作用！

# java - 点击列表视图它必须去他们各自的活动？

> ID：15221400
> 
> 赞同：0
> 
> 时间：2013-03-05T10:25:15.877
> 
> 标签：java, android

我有一个`ListView`。它包含带有图像的文本。我知道如果我单击该`ListView`项目`Toast`会出现一个，但我想要的是单击该项目以打开它们各自的活动。

```
 @Override
        public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.main);

            ArrayList<Recipedetails> image_details = GetSearchResults();

            final ListView lv1 = (ListView) findViewById(R.id.listV_main);
            lv1.setAdapter(new ItemListBaseAdapter(this, image_details));

            lv1.setOnItemClickListener(new OnItemClickListener() {
                @Override
                public void onItemClick(AdapterView<?> a, View v, int position, long id) { 
                    Object o = lv1.getItemAtPosition(position);
                    Recipedetails obj_itemDetails = (Recipedetails)o;
                    Toast.makeText(SouthIndian.this, "You have chosen : " + " " + obj_itemDetails.getName(), Toast.LENGTH_LONG).show();

                     switch(obj_itemDetails.getName())
                     {
                     case "Vegterian":  
                        Intent newActivity = new Intent(SouthIndian.this, 
                                                     SouthIndianvegrecipes.class);     
                        startActivity(newActivity);
                       break;
                     case "Non-Vegterian":  
                        Intent new1Activity = new Intent(SouthIndian.this, 
                                SouthIndiannonvegrecipes.class);     
                        startActivity(new1Activity);
                       break;
                     //same for other Activity
                  }
                }  
            });
        }

        private ArrayList<Recipedetails> GetSearchResults(){
            ArrayList<Recipedetails> results = new ArrayList<Recipedetails>();

            Recipedetails item_details = new Recipedetails();
            item_details.setName("Vegterian");
            item_details.setItemDescription("Recipes made by raw materials");
            //item_details.setPrice("RS 310.00");
            item_details.setImageNumber(1);
            results.add(item_details);

            item_details = new Recipedetails();
            item_details.setName("Non-Vegterian");
            item_details.setItemDescription("Flesh of sweet animals");
            //item_details.setPrice("RS 350.00");
            item_details.setImageNumber(2);
            results.add(item_details);

            item_details = new Recipedetails();
            item_details.setName("Pickels");
            item_details.setItemDescription("Touchable dish  by Homemade");
            //item_details.setPrice("RS 250.00");
            item_details.setImageNumber(3);
            results.add(item_details);

            item_details = new Recipedetails();
            item_details.setName("Soups");
            item_details.setItemDescription("Startup for our food");
            //item_details.setPrice("RS 350.00");
            item_details.setImageNumber(4);
            results.add(item_details);

            return results;
        } 
```

我想要的是，如果我点击它必须去他们的第一张图片`Activity`。就像它必须进行各自的活动，而不是同一个活动。我怎样才能做到这一点？

我的 AndroidManifest.xml

```
 <activity
        android:name="com.example.recipestutors.MainActivity"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>

    <activity android:name="RecipeActivity" android:label="@string/activity_recipeview" android:theme="@style/AppTheme"></activity>
    <activity android:name="SouthIndian" android:label="@string/activity_SouthIndianrecipeview" android:theme="@style/AppTheme"></activity>
    <activity android:name="NorthIndian" android:label="@string/activity_NorthIndianrecipeview" android:theme="@style/AppTheme"></activity>
    <activity android:name="Western" android:label="@string/activity_Westernrecipeview" android:theme="@style/AppTheme"></activity>
    <activity android:name="Chinese" android:label="@string/activity_Chineserecipeview" android:theme="@style/AppTheme"></activity>
     <activity android:name="SouthIndianvegrecipes" android:label="@string/activity_Chineserecipeview" android:theme="@style/AppTheme"></activity>
     <activity android:name="SouthIndiannonvegrecipes" android:label="@string/activity_Chineserecipeview" android:theme="@style/AppTheme"></activity>
</application> 
```

logcat 显示错误

```
 03-05 10:47:36.091: E/AndroidRuntime(3485): FATAL EXCEPTION: main
03-05 10:47:36.091: E/AndroidRuntime(3485): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.recipestutors/com.example.recipestutors.MainActivity}: java.lang.ClassNotFoundException: Didn't find class "com.example.recipestutors.MainActivity" on path: /data/app/com.example.recipestutors-1.apk
03-05 10:47:36.091: E/AndroidRuntime(3485):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2106)
03-05 10:47:36.091: E/AndroidRuntime(3485):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2230)
03-05 10:47:36.091: E/AndroidRuntime(3485):     at android.app.ActivityThread.access$600(ActivityThread.java:141)
03-05 10:47:36.091: E/AndroidRuntime(3485):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1234)
03-05 10:47:36.091: E/AndroidRuntime(3485):     at android.os.Handler.dispatchMessage(Handler.java:99)
03-05 10:47:36.091: E/AndroidRuntime(3485):     at android.os.Looper.loop(Looper.java:137)
03-05 10:47:36.091: E/AndroidRuntime(3485):     at android.app.ActivityThread.main(ActivityThread.java:5039)
03-05 10:47:36.091: E/AndroidRuntime(3485):     at java.lang.reflect.Method.invokeNative(Native Method)
03-05 10:47:36.091: E/AndroidRuntime(3485):     at java.lang.reflect.Method.invoke(Method.java:511)
03-05 10:47:36.091: E/AndroidRuntime(3485):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
03-05 10:47:36.091: E/AndroidRuntime(3485):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
03-05 10:47:36.091: E/AndroidRuntime(3485):     at dalvik.system.NativeStart.main(Native Method)
03-05 10:47:36.091: E/AndroidRuntime(3485): Caused by: java.lang.ClassNotFoundException: Didn't find class "com.example.recipestutors.MainActivity" on path: /data/app/com.example.recipestutors-1.apk
03-05 10:47:36.091: E/AndroidRuntime(3485):     at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:65)
03-05 10:47:36.091: E/AndroidRuntime(3485):     at java.lang.ClassLoader.loadClass(ClassLoader.java:501)
03-05 10:47:36.091: E/AndroidRuntime(3485):     at java.lang.ClassLoader.loadClass(ClassLoader.java:461)
03-05 10:47:36.091: E/AndroidRuntime(3485):     at android.app.Instrumentation.newActivity(Instrumentation.java:1054)
03-05 10:47:36.091: E/AndroidRuntime(3485):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2097)
03-05 10:47:36.091: E/AndroidRuntime(3485):     ... 11 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T10:28:10.053

您可以在 onClickListener 中使用意图

喜欢

```
 lv1.setOnItemClickListener(new OnItemClickListener() {
        @Override
        public void onItemClick(AdapterView<?> a, View v, int position, long id) { 
            Intent intent = new Intent(firstActivity.this, SecondActivity.class);

            startActivity(intent);
        }  
    }); 
```

您可以在 onClick 中使用 Switch 或 if else 语句根据点击位置转到特定活动

喜欢

```
 switch (Array[position]) {

    case Array[1]: //if position1 is clicked
            Intent intent = new Intent(MainActivity.this, FirstActivity.class);

            startActivity(intent);
            break;
            case Array[2]: //if 2nd position is clicked..so on
            Intent intent = new Intent(MainActivity.this, SecondActivity.class);

           startActivity(intent);
           break; 
```

很快.....

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:31:40.330

用于`switch-case`根据 ListView 点击打开 Activity：

```
lv1.setOnItemClickListener(new OnItemClickListener() {
   @Override
     public void onItemClick(AdapterView<?> a, View v, int position, long id) { 
       Object o = lv1.getItemAtPosition(position);
        Recipedetails obj_itemDetails = (Recipedetails)o;
        Toast.makeText(SouthIndian.this, "You have chosen : " + " " + 
                           obj_itemDetails.getName(), Toast.LENGTH_LONG).show();
          switch(obj_itemDetails.getName())
           {
           case "Vegterian":  
              Intent newActivity = new Intent(SouthIndian.this, 
                                           Vegterian_Activity.class);     
              startActivity(newActivity);
             break;
           case "Non-Vegterian":  
              Intent newActivity = new Intent(SouthIndian.this, 
                                        Non_Vegterian_Activity.class);     
              startActivity(newActivity);
             break;
           .....//same for other Activity
        }
       }  
  }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T12:06:42.960

查看您的 logcat 输出，androidmenifest 文件中存在问题，应用程序无法找到活动类。您应该更改活动声明。

从：

```
<activity android:name="RecipeActivity" android:label="@string/activity_recipeview"  android:theme="@style/AppTheme"></activity> 
```

至：

```
<activity android:name=".RecipeActivity" android:label="@string/activity_recipeview" android:theme="@style/AppTheme"></activity> 
```

或者：

```
<activity android:name="FULL_PACKAGE_PATH.RecipeActivity" android:label="@string/activity_recipeview" android:theme="@style/AppTheme"></activity> 
```

注意：缺少 . 在活动声明中

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-05T12:56:50.297

就像 logcat 说的那样，你的清单文件上有错误。你没有正确注册活动。在您的清单中添加“。” 在所有像这样的活动名称之前

```
<activity android:name=".RecipeActivity" android:label="@string/activity_recipeview" android:theme="@style/AppTheme"></activity> 
```

或者你必须像这样指定

```
<activity android:name="com.example.recipestutors.RecipeActivity" android:label="@string/activity_recipeview" android:theme="@style/AppTheme"></activity> 
```

您需要编辑每一个。

# selenium - Selenium RC verifyTrue(selenium.isTextPresent(“string”))

> ID：15221406
> 
> 赞同：3
> 
> 时间：2013-03-05T10:25:39.180
> 
> 标签：selenium

我对 Selenium RC -> VerifyTextPresent 有几个问题，例如：`(verifyTrue(selenium.isTextPresent()));`

从 Selenium IDE 运行测试时，我在页面上的文本中发现拼写错误，但通过 Selenium RC/JUnit 运行测试时没有发现该错误。

我知道我需要将 method: 添加`checkForVerificationErrors();`到 java 代码中以获得与 IDE 中相同的结果。

例如此代码/行（验证）-> IDE：

```
<tr>
    <td>verifyTextPresent</td>
    <td>Search results: 1 - 30 of 50</td>
    <td></td>
</tr> 
```

硒 RC/JUnit：`verifyTrue(selenium.isTextPresent("Search results: 1 - 30 of 50"));`

在我添加`checkForVerificationErrors();`方法之后，Selenium RC 它作为 IDE 工作。

这是完整的代码：

```
package com.example.tests;

import com.thoughtworks.selenium.*;
import org.junit.After;
import org.junit.Before;
import org.junit.Test;
import static org.junit.Assert.*;
import java.util.regex.Pattern;

public class Dice_Search extends SeleneseTestCase {
    private Selenium selenium;

    @Before
    public void setUp() throws Exception {
        selenium = new DefaultSelenium("localhost", 4444, "*firefox", "http://www.dice.com/");
        selenium.setSpeed("2000");
        selenium.start();
        selenium.windowMaximize();
        selenium.windowFocus();
    }

    @Test
    public void testDice_Search() throws Exception {
        selenium.open("/");
        selenium.type("id=FREE_TEXT", "selenium");
        selenium.type("id=zipCodeCity", "Los Angeles, CA");
        selenium.click("id=searchSubmit");
        selenium.waitForPageToLoad("30000");
        verifyTrue(selenium.isTextPresent("Search results: 1 - 30 of 50"));
        verifyTrue(selenium.isTextPresent("Create Search Agent Matching These Results"));
        verifyTrue(selenium.isTextPresent("selenium"));
        verifyEquals("selenium", selenium.getText("css=div.undoLabel"));
        checkForVerificationErrors();
    }

    @After
    public void tearDown() throws Exception {
        selenium.stop();
    }
} 
```

现在的问题：

1.  添加 checkForVerificationErrors() 有什么好处？在每个 (verifyTrue(selenium.isTextPresent())) 之后；行还是可以像上面的代码一样在测试结束时添加？

2.  我怎么知道在 Selenium RC/JUnit 的哪一行测试失败了？在 Selenium IDE 的 Log 窗口中，它显示该行，该命令也标记为红色。在 JUnit 中只显示一个失败跟踪，而不是产生测试错误的行。

请参阅以下屏幕截图： ![IDE](../Images/d045bf79858249dff09fc2f072a400bc.png)

![JUnit](../Images/4b9b698591421e9f6b4bdc396e142742.png)

谢谢！祝你今天过得愉快！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-29T15:08:43.327

我对 RC 不是很好，但这是我的想法： 1\. 我不明白你为什么要使用 verifyTextPresent - 更好的解决方案是找到你需要的确切元素并检查元素内的文本？（类似于：verifyTrue(element.getText().equals("text"))） 2\. 阅读堆栈跟踪信息，如果您使用的是 Eclipse IDE，您可以单击控制台选项卡中的链接

# php - IBM DB2 和 Symfony - 从现有数据库生成实体

> ID：15221409
> 
> 赞同：3
> 
> 时间：2013-03-05T10:25:51.303
> 
> 标签：php, symfony, doctrine-orm, db2

我正在尝试使用 symfony 框架开发应用程序。这些实体存储在现有的 DB2 数据库中。

[http://symfony.com/doc/2.1/cookbook/doctrine/reverse_engineering.html](http://symfony.com/doc/2.1/cookbook/doctrine/reverse_engineering.html)

我尝试了文档中的步骤。但我收到一条错误消息：“没有要处理的元数据类”。如果我告诉教义将现有表转换为 xml 格式，就会发生这种情况。

任何想法，如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-13T09:58:35.380

尝试这个

```
php app/console doctrine:mapping:convert --from-database yml ./src/YourBundle/Resources/config/doctrine/metadata/orm
php app/console doctrine:mapping:import "YourBundle" yml 
```

# android - 像 iPhone 一样将 Activity 作为 Popover 视图启动

> ID：15221411
> 
> 赞同：0
> 
> 时间：2013-03-05T10:26:07.220
> 
> 标签：android, android-layout, android-ui

我已经使用
[https://github.com/lorensiuswlt/NewQuickAction](https://github.com/lorensiuswlt/NewQuickAction)和
[https://github.com/lorensiuswlt/NewQuickAction3D](https://github.com/lorensiuswlt/NewQuickAction3D)实现了简单的按钮列表。
使用简单的静态按钮可以正常工作。

![在此处输入图像描述](../Images/34883e9fc0ba3de833a6ca850892e9dc.png)

我的要求是在 iPad 中的**Popoverview Controller**等对话框中显示活动。**活动必须在 Popoverview 中开始的另一**件事仅适用于平板电脑。

![在此处输入图像描述](../Images/f992e5a2bc5effd7968becac4da33c8d.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-03-05T04:19:48.293

检查这个库[https://github.com/lupidan/PopoverView](https://github.com/lupidan/PopoverView)可能对你有帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:36:44.347

检查活动的主题，您可能会发现有用的对话框或面板主题

```
 <activity android:theme="@android:style/Theme.Dialog" /> 
```

[http://developer.android.com/guide/topics/ui/themes.html](http://developer.android.com/guide/topics/ui/themes.html)

# backbone.js - 未调用 Backbone.sync 成功函数

> ID：15221412
> 
> 赞同：3
> 
> 时间：2013-03-05T10:26:07.380
> 
> 标签：backbone.js, backbone-views, backbone-events

我有一个将数据发送到服务器的简单应用程序：

```
this.model.save(null, {success: dataSentOK}); 
```

然后从服务器@删除数据：

```
Backbone.sync("delete", data, {success: dataSentOK}); 
```

这两种方法都适用于服务器（添加和删除数据）。

但是，在第二种方法中，`Backbone.sync(...)`不调用成功回调。

**谁能告诉我我做错了什么？**我查看了 Backbone.js 源代码，我尝试过明确的函数调用：

```
{success: function(){
    console.log("Done");
}} 
```

以及各种形式的参数：

```
{success: function(data, textStatus, jqXHR){
    console.log("Done");
}} 
```

我所做的任何事情都不会调用成功函数。

请帮忙。

谢谢亚当

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-23T22:08:05.917

执行此操作的更好方法是遵循完善且强大的 JavaScript 事件。Backbone 触发了四个相当重要的事件：`sync`、`error`和。`destroy``invalid`

`sync`同步操作成功时触发。 `error`当同步操作失败时触发。 `invalid`当验证失败时被触发（如果你有那个）。 `destroy`销毁模型时触发。

因此，我会亲自为您关心的特定模型绑定到此事件，如果是全部，请在模型定义中绑定它。出于我的目的，我绑定到事件的内容会根据上下文发生变化，因此我在视图中按模型绑定它。

例子：

```
var MyModel = Backbone.Model.extend({
  // your model definition.
});

var MyView = Backbone.View.extend({
  // your view definition
  initialize : function() {
    this.model.on('sync', this.onSync);
    this.model.on('error', this.onError);
    this.model.on('destroy', this.onDestroy);
  },
  this.onSync : function(model, errors, options) {
    // your code
  },
  this.onError : function(model, errors, options) {
    // your code
  },
  this.onDestroy : function(model, errors, options) {
    // your code
  }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T15:11:16.603

Backbone.js 在幕后使用`JQuery.ajax(...)`. 所以我直接使用 JQuery 解决了我的 Backbone.js 通信问题。

Backbone 相信他们通过在自己的代码中包装一个非常好的功能性 API 来增加价值，因为他们选择在模型和用于 CRUD 模型对象的传输协议之间紧密耦合他们的架构。

Model 对象必须具有 URL 属性，这意味着您必须使用模型的`send(), fetch() etc`功能进行网络通信。实习生，这意味着如果你希望你的模型只是一个 DTO，那么你就不能使用 Backbone.js。这也意味着如果您想直接使用 JQuery，那么您可能根本不使用他们的 MVC 架构。

将 URL 附加到模型对象的含义也意味着应该对所有 CRUD 操作使用相同的 URL。这没有任何意义，尤其是在您使用 REST 服务的情况下。

一个好的架构将是模块化的，并且遵循[关注点分离的原则](http://en.wikipedia.org/wiki/Separation_of_concerns)。遗憾的是，Backbone.js 没有这样做，因为它是一个很有前途的框架，只要它不是那么紧密耦合并且难以用于最简单的任务。

# java - 在 DataHandler 中返回字符串

> ID：15221418
> 
> 赞同：6
> 
> 时间：2013-03-05T10:26:27.490
> 
> 标签：java, string, web-services, datahandler

我创建了一个 Web 服务，`Java`它返回一个`DataHandler`. 这必须能够返回 a `File`，它工作正常。但它也应该能够返回一个`String`. 知道如何`String`用 a转移 a`DataHandler`吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-05T11:29:46.030

[JavaMail](http://search.maven.org/#artifactdetails%7Cjavax.mail%7Cjavax.mail-api%7C1.4.6%7Cjar)有一个`ByteArrayDataSource`可以用于此目的：

```
DataSource ds = new ByteArrayDataSource(theString, "text/plain; charset=UTF-8");
DataHandler handler = new DataHandler(ds); 
```

mime 类型中的`charset`决定了它将使用什么编码来将字符串转换为字节。

# php - 使用 IN 将 PHP 数组与 MySQL 数据库进行比较，但只显示第一个结果

> ID：15221419
> 
> 赞同：0
> 
> 时间：2013-03-05T10:26:28.497
> 
> 标签：php, mysql

我有以下 MySQL 表

```
|   module  | module_id |
|    301    |      1    |
|    302    |      2    |
|    303    |      3    |
|    304    |      4    |
|    305    |      5    |
|    306    |      6    | 
```

模块的名称以 JSON 数组的形式传递给 PHP。我想选择并显示数组中包含的所有模块 ID。例如，如果将模块 301、303 和 306 传递给脚本，我想返回值 1、3 和 6。

我整理了以下*几乎*可以工作的脚本，但不幸的是它只返回第一个值 - 所以如果数组中有 301、303 和 306，则脚本返回“1”，而不是 1、3 和 6。

我敢肯定，我可能缺少一些非常基本的东西，但无法弄清楚它是什么。有人可以帮忙吗？

谢谢！

```
$conn = (DATABASE CONNECTION INFO);
$modules = $_REQUEST['modules'];
$insertmodules = json_decode(stripslashes($modules), true);
$inmods = implode(',', $insertmodules);
$getmodsquery = "SELECT module_id FROM modules WHERE module IN ('$inmods')";
$getmods = $conn->query($getmodsquery);

while($row = $getmods->fetch_assoc()) {
 foreach ($row as $value){
  print_r($value);
  }
 } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T10:29:41.330

从查询中删除报价并尝试此行：

```
$getmodsquery = "SELECT module_id FROM modules WHERE module IN ($inmods)"; 
```

# php - PHP 中的正则表达式帮助（8 个十六进制字符后跟一个下划线）

> ID：15221420
> 
> 赞同：3
> 
> 时间：2013-03-05T10:26:29.370
> 
> 标签：php, regex, preg-match

我想验证我的输入是否以 8 个十六进制字符开头，后跟一个下划线，然后是任意数量的任意值的章程。

我目前使用以下正则表达式：

```
preg_match('/^[0-9A-Fa-f]{8}_*/', $value); 
```

但是这个表达式不能满足我的需要，因为它的行为如下

结果：

```
1A345678            (true)
1A345678_add        (true)
1234567890          (true)
ABSDBASDB           (false) 
```

预期结果：

```
1A345678            (false)
1A345678_add        (true)
1234567890          (false)
ABSDBASDB           (false) 
```

我的正则表达式有什么问题？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-05T10:29:30.337

你只是缺少一个`.`

```
preg_match('/^[0-9A-Fa-f]{8}_.*/', $value); 
```

与`_*`您匹配 0 个或更多下划线。`*`是一个量词，它重复前面的字符或组 0 次或更多次。因此，它也匹配末尾没有下划线的字符串（_ 的 0 次重复）

`.`是一个正则表达式特殊字符，匹配任何字符（默认情况下，换行除外）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-05T10:29:06.753

尝试删除 *：

```
preg_match('/^[0-9A-Fa-f]{8}_/', $value); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-05T10:30:11.067

下划线后用 .* 替换 *

```
preg_match('/^[0-9A-Fa-f]{8}_.*/', $value); 
```

# php - Symfony 2.1 权限、单元测试、会话

> ID：15221421
> 
> 赞同：0
> 
> 时间：2013-03-05T10:26:31.317
> 
> 标签：php, unit-testing, session, jenkins, symfony-2.1

我正在创建基于`Symfony 2.1`. 我在本地编写代码，将其上传到服务器上，然后运行单元测试。当每次测试通过时，我都会运行`Jenkins`作业来检查代码样式等。

最近遇到一个很奇怪的问题。单元测试通过我的开发环境，但是当我运行时`Jenkins`，测试失败，因为有异常说`Headers already sent`。我使用 flashBag 来发送消息。我尝试将其删除，但另一个测试崩溃具有相同的异常，与会话无关。还有权限问题。有一段时间我从探查器那里得到异常说`ErrorException: Warning: mkdir(): Permission denied in`。我尝试使用 umask，`app*.php`但没有结果。

我没主意了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T10:35:16.653

在您的上下文中，在您尝试发送标头之前，“标头已发送”听起来像是某个类正在引发异常或打印错误消息。您的测试在 dev 上成功但在该过程的后期失败可能意味着它是导致问题的环境问题。

当您在探查器中提到权限错误时，下一个场景是否合理：

*   dev 的权限是正确的。
*   测试（或您正在构建的任何地方）的权限不正确。
*   由于缺乏正确的权限，某些事情会失败。
*   那东西会相应地打印一条错误消息。
*   您会收到标头已发送的消息。

这是一个长镜头，但你没有提供很多信息。

# css - 我可以通过@font-face 合并 CSS 中的字体系列以拥有更多的字体变量吗？

> ID：15221434
> 
> 赞同：9
> 
> 时间：2013-03-05T10:27:13.253
> 
> 标签：css, fonts

我有这个代码：

```
@font-face {
    font-family: 'Conv_Casper';
    src: url('fonts/Casper.eot');
    src: local('☺'), url('styles/casper/Casper.woff') format('woff'), url('fonts/Casper.ttf') format('truetype'), url('fonts/Casper.svg') format('svg');
    font-weight: normal;
    font-style: normal;
}

@font-face {
    font-family: 'Conv_Casper Italic';
    src: url('fonts/Casper Italic.eot');
    src: local('☺'), url('styles/casper/Casper Italic.woff') format('woff'), url('fonts/Casper Italic.ttf') format('truetype'), url('fonts/Casper Italic.svg') format('svg');
    font-weight: normal;
    font-style: normal;
}

@font-face {
    font-family: 'Conv_Casper Bold';
    src: url('fonts/Casper Bold.eot');
    src: local('☺'), url('styles/casper/Casper Bold.woff') format('woff'), url('fonts/Casper Bold.ttf') format('truetype'), url('fonts/Casper Bold.svg') format('svg');
    font-weight: normal;
    font-style: normal;
}

@font-face {
    font-family: 'Conv_Casper Bold Italic';
    src: url('fonts/Casper Bold Italic.eot');
    src: local('☺'), url('styles/casper/Casper Bold Italic.woff') format('woff'), url('fonts/Casper Bold Italic.ttf') format('truetype'), url('fonts/Casper Bold Italic.svg') format('svg');
    font-weight: normal;
    font-style: normal;
} 
```

它是相同的“字体”，但由于重量/样式而变化。我可以将这些样式合并到一个字体系列中吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-05T10:37:01.883

看来你可以，这是来自[W3 Spec](http://www.w3.org/TR/css3-fonts/#font-face-rule)：

> 这些描述符定义了字体的特征，并在将样式与特定字体匹配的过程中使用。对于使用多个@font-face 规则定义的字体系列，用户代理可以下载该系列中的所有字体或使用这些描述符有选择地下载与文档中使用的实际样式匹配的字体。这些描述符的值与相应字体属性的值相同，只是不允许使用相关关键字“粗体”和“浅色”。如果省略这些描述符，则采用默认值。

看看谷歌字体中的这个例子：

```
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 400;
  src: local('Open Sans'), local('OpenSans'), url(http://themes.googleusercontent.com/static/fonts/opensans/v6/cJZKeOuBrn4kERxqtaUH3T8E0i7KZn-EPnyo3HZu7kw.woff) format('woff');
}
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 600;
  src: local('Open Sans Semibold'), local('OpenSans-Semibold'), url(http://themes.googleusercontent.com/static/fonts/opensans/v6/MTP_ySUJH_bn48VBG8sNSnhCUOGz7vYGh680lGh-uXM.woff) format('woff');
}
@font-face {
  font-family: 'Open Sans';
  font-style: italic;
  font-weight: 300;
  src: local('Open Sans Light Italic'), local('OpenSansLight-Italic'), url(http://themes.googleusercontent.com/static/fonts/opensans/v6/PRmiXeptR36kaC0GEAetxh_xHqYgAV9Bl_ZQbYUxnQU.woff) format('woff');
} 
```

一个使用示例：

```
.will-use-the-first-font-face {
    font-family: 'Open Sans';
    font-style: normal;
    font-weight: 400;
}

.will-use-the-second-font-face {
    font-family: 'Open Sans';
    font-style: normal;
    font-weight: 600;
}

.will-use-the-third-font-face {
    font-family: 'Open Sans';
    font-style: italic;
    font-weight: 300;
} 
```

# sql-server - 目标上的服务代理行为已禁用

> ID：15221436
> 
> 赞同：1
> 
> 时间：2013-03-05T10:27:16.733
> 
> 标签：sql-server, service-broker

如果目标队列 ID 被禁用或无法访问，我需要了解发送方服务代理的行为。发件人经纪人无限重试直到生命周期并且CPU总是很忙？或者可以配置服务代理发件人以按计划时间重试（相同的复制）。谢谢 。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:49:03.107

每个目的地（目标地址）每分钟重试一次。分层流控制专门设计用于最大限度地减少对 CPU 的影响，即使有大量消息处于待处理状态。您无法配置重试计划。Service Broker 专为偶尔不可用的连续连接系统而设计。

# c# - 比较两个数据表（单元测试、集成测试、C#、TestMethod）

> ID：15221437
> 
> 赞同：7
> 
> 时间：2013-03-05T10:27:19.040
> 
> 标签：c#, unit-testing, datatable, integration-testing, assert

在比较应该不同且具有多行的Datatable时，应该在单元测试中进行什么样的测试。

```
 [TestMethod]
    public void ExecuteOutWithMultipleDataTables()
    {
        //Arrange
        int id1 = TestOrderBuilder.New().Build();
        DataTable dtDefault = CreateDefaultDataTable(id1, "OUT", "TableDesc", DateTime.Now);

        //Act
        object[] result = OracleDatabase.ExecuteOut(SqlStatements.Cursor, procedureParameters);
        DataTable dtResults = result[0] as DataTable;

        //Assert
        Assert.IsNotNull(dtDefault);
        Assert.IsNotNull(dtResults);
        Assert.AreNotEqual(dtDefault, dtResults);
        Assert.AreNotSame(dtDefault.Rows[0][0], dtResults.Rows[0][0]);
        Assert.AreNotSame(dtDefault.Rows[0][1], dtResults.Rows[0][1]);
    } 
```

这是我已经写过的一些内容的一个例子，但我不确定我是否走在正确的轨道上。

有人有建议吗？

苹果电脑

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-05T10:31:28.340

如果您需要验证每一行和每列的值，则需要编写一个辅助方法。

此外，它看起来不像是一个单元测试，因为它看起来你正在调用真正的数据库而不是模拟它。

可能如下所示

```
private bool IsTableSame(DataTable t1, DataTable t2)
    {
        if (t1 == null)
            return false;
        if (t2 == null)
            return false;
        if (t1.Rows.Count != t2.Rows.Count)
            return false;

        if (t1.Columns.Count != t2.Columns.Count)
            return false;

        if (t1.Columns.Cast<DataColumn>().Any(dc => !t2.Columns.Contains(dc.ColumnName)))
        {
            return false;
        }

        for (int i = 0; i <= t1.Rows.Count-1; i++)
        {
            if (t1.Columns.Cast<DataColumn>().Any(dc1 => t1.Rows[i][dc1.ColumnName].ToString() != t2.Rows[i][dc1.ColumnName].ToString()))
            {
                return false;
            } 
        }

        return true;
    } 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2017-01-10T23:59:45.127

我已经包装了上面相同的辅助方法来使用断言。它有助于调试单元测试。

```
private void AssertTableRecordsAreEqual(DataTable expectedTable, DataTable actualTable)
    {
        Assert.IsNotNull(actualTable, "Table is empty");
        Assert.AreEqual(expectedTable.Columns.Count, actualTable.Columns.Count, "Number of columns in actual and expected tables are different");
        Assert.AreEqual(expectedTable.Rows.Count, actualTable.Rows.Count, "Number of records in actual and expected tables are different");
        Assert.IsFalse(expectedTable.Columns.Cast<DataColumn>().Any(dc => !actualTable.Columns.Contains(dc.ColumnName)), "Table column names are different");

        for (int i = 0; i <= expectedTable.Rows.Count - 1; i++)
        {
            Assert.IsFalse(expectedTable.Columns.Cast<DataColumn>().Any(dc1 => expectedTable.Rows[i][dc1.ColumnName].ToString() != actualTable.Rows[i][dc1.ColumnName].ToString()), "Table row value is different");
        }
    } 
```

# java - 持久化数组列表 在绿道

> ID：15221440
> 
> 赞同：2
> 
> 时间：2013-03-05T10:27:28.417
> 
> 标签：java, orm, arraylist, greendao

正如标题所说，如何将 ArrayList 实体添加到我的 greenDao 模型中？官方网站没有帮助，也没有谷歌。任何帮助表示赞赏！

基本上我有一个 book 对象，它有一个 ArrayList 字段，我想将它保存到我的数据库中。最好的方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-18T14:23:12.807

That approach is not common when using relational databases. This is commonly done using to-many relations.

# javascript - Web SQL 从表中获取列列表

> ID：15221444
> 
> 赞同：5
> 
> 时间：2013-03-05T10:27:50.783
> 
> 标签：javascript, regex, sqlite, google-chrome, web-sql

我尝试从 Web sql（Chrome 本地数据库）获取列列表。Оne 的决定 - 从 sqlite_master 获取信息

```
SELECT name, sql FROM sqlite_master WHERE type="table" AND name = "'+name+'"; 
```

例如我得到这个结果

```
CREATE TABLE table_name ( id INTEGER PRIMARY KEY AUTOINCREMENT, 
number INTEGER unique, description TEXT, password TEXT, url TEXT ) 
```

因此，请帮助我编写用于获取列名的正则表达式，或者，也许，向我展示另一种获取列名的简单方法。

PS。我不会这样做`select * from table`......获取列名。我认为这是不好的解决方案..

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-05T12:29:35.193

要获取表的列，请执行`PRAGMA table_info(table_name)`：

> [PRAGMA table_info()](http://www.sqlite.org/pragma.html#pragma_table_info)
> 
> 为命名表的每一列返回一行。返回数据集的列是：
> 
> *   cid：列id（从左到右编号，从0开始）
> *   名称：列名
> *   type：列声明类型。
> *   notnull：如果“ `NOT NULL`”是列声明的一部分，则为真
> *   dflt_value：列的默认值（如果有）。

不幸的是，Chrome 会阻止所有`PRAGMA`s，所以这在 WebSQL 中不起作用。

* * *

在 WebSQL 中，您只能访问由您的应用程序创建的表，因此您应该只记住您的表有哪些列。

* * *

或者，您可以尝试从表格中读取：

```
SELECT * FROM table_name LIMIT 1 
```

使用该`LIMIT`子句，这将非常有效，因为您只读取了一些随机记录。（除非您在该记录中有一些非常大的斑点。）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-11-24T22:53:54.893

在 chrome 中，这对我[有用 html5sql](http://html5sql.com/)。我还制作了一个代码笔，它使用纯 HTML5 和一个很酷的基于 Promise 的查询功能，[在这里](http://codepen.io/konsumer/pen/yyNJEr/?editors=001)。

```
function getDB(cb){
    html5sql.process("SELECT * FROM sqlite_master WHERE name NOT LIKE 'sqlite\\_%' escape '\\' AND name NOT LIKE '\\_%' escape '\\'", function(txTables, rsTables, tables){
        if (!tables.length) return cb(null, []);
        tables.forEach(function(table){
            var s = table.sql.split(',');
            s[0] = s[0].replace(new RegExp('create\\s+table\\s+' + table.name + '\\s*\\(', 'i'),'');
            table.fields = s.map(function(i){
                return i.trim().split(/\s/).shift();
            })
            .filter(function(i){
                return (i.indexOf(')') === -1)
            })
        });
        cb(null, tables)
    }, cb);
} 
```

这将像这样击中您的`(error, tables)`回调：

```
[{
    "type": "table",
    "name": "Users",
    "tbl_name": "Users",
    "rootpage": 6,
    "sql": "CREATE TABLE Users(\n  id INTEGER PRIMARY KEY AUTOINCREMENT,\n  firstName VARCHAR(255),\n  lastName VARCHAR(255),\n  email VARCHAR(255),\n  created TIMESTAMP DEFAULT (DATETIME('now','localtime'))\n)",
    "fields": [
        "id",
        "firstName",
        "lastName",
        "email",
        "created"
    ]
}] 
```

请注意该`fields`部分。即使没有记录，这也有效。正则表达式/字符串解析可能需要一些改进，您也可以使用它来获取类型信息，但这似乎适用于我所有的用例。知道字段名后的另一种方法，在 SQL 中：

```
SELECT TYPEOF(id) as id, TYPEOF(firstName) AS firstName , TYPEOF(lastName) AS lastName, TYPEOF(email) AS email, TYPEOF(created) AS created FROM Users; 
```

# header - MS Header 控件仍然为自定义绘制的项目绘制边框

> ID：15221446
> 
> 赞同：1
> 
> 时间：2013-03-05T10:27:57.200
> 
> 标签：header, controls, border, common-controls, custom-draw

我们正在 VB6 中开发自定义网格控件（仍然需要使用经典的 VB - 抱歉 :)。它有一个基于来自 ComCtl 的标准 OS MS 标题控件的自定义标题，该控件是使用对 CreateWindowEx 的相应 WinAPI 调用创建的。标题项目是所有者绘制的（HDF_OWNERDRAW 标志），我们需要完全从头开始绘制它们，但是 MS Header 仍然在每个项目周围绘制这个奇怪的 3D 边框。

看起来，这在处理 WM_PAINT 时作为 WindowProc 中标准功能的一部分发生。但是我们根本无法抑制 WM_PAINT，因为在这种情况下，不会发送 WM_DRAWITEM 消息，并且我们没有地方绘制我们的标题项。

如何为我们的子类 API 标头摆脱这个标准的 3D 边框绘图？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T09:19:40.530

当只绘制“有用的内容”时，我们使用了所谓的所有者绘制的项目。但在我们的例子中，要从头开始绘制整个项目，我们需要 MS 通用控件中提供的通用自定义绘图技术。这意味着我们应该处理 NM_CUSTOMDRAW 通知消息。

这是一个来自真实工作代码的示例（控件父级的 WindowProc）：

```
Select Case uMsg

Case WM_NOTIFY
   CopyMemory tNMH, ByVal lParam, LenB(tNMH)

   Select Case tNMH.Code

   Case NM_CUSTOMDRAW
      Dim tNMCD As NMCUSTOMDRAW
      CopyMemory tNMCD, ByVal lParam, Len(tNMCD)
      Select Case tNMCD.dwDrawStage
      Case CDDS_PREPAINT
         WindowProcParent = CDRF_NOTIFYITEMDRAW Or CDRF_NOTIFYPOSTPAINT ' CDDS_ITEMPREPAINT (below) will be raised for every item
         Exit Function
      Case CDDS_ITEMPREPAINT
         pDrawItem tNMCD
         WindowProcParent = CDRF_SKIPDEFAULT ' totally draw the column header by ourselves
         Exit Function
      Case CDDS_POSTPAINT
         pPostPaint
         Exit Function
      End Select 
```

# java - Java Runtime.getRuntime().exec(); 没有运行程序

> ID：15221456
> 
> 赞同：1
> 
> 时间：2013-03-05T10:28:27.877
> 
> 标签：java, linux, debian, openjdk, proc

问题是我正在尝试制作一个游戏启动器，当您登录时它会开始实际游戏。

我被告知这样做的代码是`Runtime.getRuntime().exec();`

我可以运行简单的程序，`Runtime.getRuntime().exec("firefox");`但是当我尝试运行我的程序时，它没有启动。

这是我的代码

```
Map<String, String> g = System.getenv(); //find home dir
System.out.println("java -jar " + g.get("HOME") + "/.2DMC/bin/2DG.jar");
Runtime.getRuntime().exec("java -jar " + g.get("HOME") + "/.2DMC/bin/2DG.jar"); 
```

我也试过

```
Map<String, String> g = System.getenv(); //find home dir
System.out.println("java -jar " + g.get("HOME") + "/.2DMC/bin/2DG.jar");
Process proc = Runtime.getRuntime().exec("java -jar " + g.get("HOME") +
                                         "/.2DMC/bin/2DG.jar"); 
```

我正在使用 linux Debian

带`java -version`输出

```
java version "1.6.0_27"
OpenJDK Runtime Environment (IcedTea6 1.12.3) (6b27-1.12.3-1)
OpenJDK Client VM (build 20.0-b12, mixed mode, sharing) 
```

感谢所有帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T10:39:47.803

由于您没有解释尝试运行时会发生什么`java -jar`（异常？什么？你得到一个`Process`对象吗？），我可以想到它发生的一个原因。您的`HOME`环境变量包含一个空格（您在 Windows 下，不是吗），这使`exec()`.

如果我的理论是正确的，那么`exec()`实际上是按如下方式解析您的单字符串命令：假设`HOME`= `C:\Documents and Settings\Myself`-

*执行名为 的程序`java`，传入以下参数：*

1.  *`-jar`*
2.  *`C:\Documents`*
3.  *`and`*
4.  *`Settings\Myself\whatever.jar`*

最安全的执行方式是传入一个字符串数组。

```
Runtime.exec(new String[] {"java", "-jar", g.get("HOME")+"/.2DMC/bin/2DG.jar"}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:17:01.673

我发现了我的问题。它在我的第二个罐子边。我没有正确加载一些库，所以它不能在不同的位置工作。

我已经解决了我的问题。谢谢您的帮助

# asp.net - Ninject ASP.NET MVC4：“System.MissingMethodException：没有为此对象定义无参数构造函数。”

> ID：15221463
> 
> 赞同：1
> 
> 时间：2013-03-05T10:28:46.060
> 
> 标签：asp.net, asp.net-mvc-4, ninject

我已经通过 Nuget 安装了 Ninject，其中包括 Ninject、Ninject.Web.Common、Ninject.Web.Mvc(3)。我现在遇到一个问题，即尝试使用在 NinjectWebCommon 的 RegisterServices 中注册的服务不起作用，并且出现上述错误。这以前有效，所以我一定做了一些事情，把整个事情搞砸了。有什么帮助吗？

我的代码如下。

命名空间 NinjectTestProject.Controllers {

```
public interface ITest
{
    string Test();
}

public class Tester : ITest
{
    public string Test()
    {
        return "testing";
    }
}

public class HomeController : Controller
{
    private readonly ITest _test;

    public HomeController(ITest test)
    {
        _test = test;
    }

    public ActionResult Test()
    {
        return Content(_test.Test());
    }

} 
```

}

服务注册 NinjectWebCommon

……

```
 /// <returns>The created kernel.</returns>
    private static IKernel CreateKernel()
    {
        var kernel = new StandardKernel();
        kernel.Bind<Func<IKernel>>().ToMethod(ctx => () => new Bootstrapper().Kernel);
        kernel.Bind<IHttpModule>().To<HttpApplicationInitializationHttpModule>();

        RegisterServices(kernel);
        return kernel;
    }

    /// <summary>
    /// Load your modules or register your services here!
    /// </summary>
    /// <param name="kernel">The kernel.</param>
    private static void RegisterServices(IKernel kernel)
    {
        kernel.Bind<ITest>().To<Tester>();
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-03T14:27:09.353

您可以尝试遵循[http://silesiaresearch.com/blog/BlogCSharp#Blog_20131204](http://silesiaresearch.com/blog/BlogCSharp#Blog_20131204)中描述的解决方案基本上您需要`CreateKernel()`使用自定义扩展方法`DependencyResolver`，这意味着您的`RegisteredServices()`方法应该可以工作。

它确实在我的网站上工作。但是，对于相同的症状，我有不同的原因。我的绑定工作正常，但 MVC 框架抱怨我的控制器中缺少默认构造函数。事实证明，我错过了安装的 NUGET 组件，称为`Ninject.Mvc3`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:28:46.060

啊，我才在这一分钟找到路。我简单地为 MVC3 重新安装了 Ninject，它以某种方式解决了这个问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-12-15T10:23:25.417

我没有装配属性：

```
[assembly: PreApplicationStartMethod(typeof(NinjectWebCommon), "Start")]
[assembly: ApplicationShutdownMethod(typeof(NinjectWebCommon), "Stop")] 
```

# cakephp - 如何在 Cakephp 中定义一个变量

> ID：15221467
> 
> 赞同：0
> 
> 时间：2013-03-05T10:28:56.343
> 
> 标签：cakephp

我试图将 cakephp 中的变量传递给视图并得到错误 Undefined variable: view [APP\View\ItQueries\add.ctp, line 9] 和第 9 行是这个

```
<?php echo $this->Form->hidden('status_type', array('value'=>$view)); ?> 
```

这是我在控制器中定义我的变量的方式

```
class ItQueriesController extends AppController {

var $view = 'Open';

public function index() {
$this->ItQuery->recursive = 0;
$this->set('view', $this->view);

}

//Other Code

} 
```

这是我试图将变量作为隐藏字段传递的地方

```
<?php echo $this->Form->create('ItQuery'); ?>
<?php echo __('Add It Query'); ?></legend>
<?php
echo $this->Form->input('status_type', array('type' => 'hidden', 'value'=>$view));
?>
<?php echo $this->Form->end(__('Submit')); ?> 
```

有人可以告诉我如何解决这个问题吗

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:32:10.507

您需要将变量设置为 viewVars 的一部分。

为此，请将其添加到您的控制器操作中：

```
$this->set('view', $this->view); 
```

例如

```
class ItQueriesController extends AppController {

    var $view = 'Open';

    function index() {
        $this->set('view', $this->view);
    }

} 
```

然后，您可以直接使用在视图中访问它`$view`

您的隐藏字段如下所示：

```
echo $this->Form->input('status_type', array('type' => 'hidden', 'value'=>$view)); 
```

# android - 查找填充单击表格布局行的列表项：

> ID：15221470
> 
> 赞同：0
> 
> 时间：2013-03-05T10:29:13.727
> 
> 标签：android, list, onclick, android-tablelayout

我有一个包含 TableLayout 的活动。我正在通过列表中的数据以编程方式填充此表：

我需要做的是让每一行都可点击，当它被点击时，我需要在列表中找到相应的项目，这样我就可以从中获取额外的数据，这是我的`onCreate`代码：

```
protected void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.reports_list_activity_layout);
    application = (SGRaportManagerAppObj)getApplication();
    reportsRepository = application.reportsRepository.getReportsRepository();
    TableLayout table = (TableLayout) findViewById(R.id.tableReportsList);
    table.setStretchAllColumns(true);  
    table.setShrinkAllColumns(true);  

    for (Report tempReport : reportsRepository)
    {
        TableRow row = new TableRow(this);
        row.setClickable(true);
        TextView tvName = new TextView(this);
        tvName.setText(tempReport.getName());
        tvName.setGravity(Gravity.CENTER_HORIZONTAL);
        tvName.setTextColor(getResources().getColor(R.color.my_black));  
        row.addView(tvName);
        TextView tvPath = new TextView(this);
        tvPath.setText(tempReport.getPath());
        tvPath.setGravity(Gravity.CENTER_HORIZONTAL);
        tvPath.setTextColor(getResources().getColor(R.color.my_black));
        row.addView(tvPath);
        row.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) 
            {
                Map<String, String> map = new HashMap<String, String>();
                map.put(Report.JSON_KEY_ID, );
            }
        });
        table.addView(row);   
    }
} 
```

所以我在这里需要的是，当单击该行时，我需要在列表中找到它并获取在表中单击的报告的 ID 并放入 Map 对象以传递前言。有谁知道这是怎么做到的？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:54:04.410

使用哈希表映射您在表格行中显示的内容（例如报告 ID）与报告对象

所以像

```
Hashtable map = new Hashtable();
...
map.put(report.getId(), report); 
```

onClick 表行，设法获取报告 ID，然后查找您在类级别或可访问的地方维护的这个哈希表..

编辑（代码块）

```
class MyTableRow extends TableRow{

    Object report = null;
    public MyTableRow(Context context) {
        super(context);
    }

    public Object getReport() {
        return report;
    }

    public void setReport(Object report) {
        this.report = report;
    }   
} 
```

在您的活动的 onCreate() 中，只需使用 MyTableRow 类而不是 TableRow 像 tableRow = new MyTableRow(this) 并使用 tableRow.setMethod(reportObject) 来设置报告。应该管用..

# python - 如何从我的虚拟环境中更新/升级 pip 本身？

> ID：15221473
> 
> 赞同：742
> 
> 时间：2013-03-05T10:29:18.290
> 
> 标签：python, upgrade, virtualenv, pip, package-managers

我可以更新 pip 管理的软件包，但是如何更新 pip 本身？根据`pip --version`，我目前在我的 virtualenv 中安装了 pip 1.1，我想更新到最新版本。

那命令是什么？我需要使用分发还是有本地 pip 或 virtualenv 命令？我已经尝试过了`pip update`，`pip update pip`但没有成功。

* * *

## 回答 #1

> 赞同：1277
> 
> 时间：2013-03-05T12:03:10.687

`pip`只是一个[PyPI 包](https://pypi.python.org/pypi/pip)，就像其他包一样；您可以使用它来升级自身，就像升级任何软件包一样：

```
pip install --upgrade pip 
```

在 Windows 上，[推荐的命令](https://pip.pypa.io/en/stable/installing/#upgrading-pip)是：

```
python -m pip install --upgrade pip 
```

* * *

## 回答 #2

> 赞同：85
> 
> 时间：2016-03-01T16:00:17.793

更安全的方法是[通过 python 模块运行 pip](https://pip.pypa.io/en/stable/installing/#upgrading-pip)：

```
python -m pip install -U pip 
```

在 Windows 上，尝试替换自身的二进制文件似乎存在问题，此方法可以解决该限制。

* * *

## 回答 #3

> 赞同：55
> 
> 时间：2017-06-28T17:31:53.507

就我而言，我的 pip 版本已损坏，因此更新本身无法正常工作。

使固定：

```
(inside virtualenv):easy_install -U pip 
```

* * *

## 回答 #4

> 赞同：18
> 
> 时间：2018-01-29T14:58:51.050

我在 Debian Jessie 下尝试了上面提到的所有这些解决方案。它们不起作用，因为它只需要 debian 包管理器编译的最新版本，即 1.5.6，相当于版本 6.0.x。某些使用 pip 作为先决条件的软件包将无法作为结果运行，例如 spaCy（它需要选项 --no-cache-dir 才能正常运行）。

因此，解决这些问题的实际最佳方法是运行使用 wget、从网站或使用 curl 下载的**get-pip.py**，如下所示：

```
 wget https://bootstrap.pypa.io/get-pip.py -O ./get-pip.py
 python ./get-pip.py
 python3 ./get-pip.py 
```

这将安装在编写此解决方案时为 9.0.1 的当前版本，这远远超出了 Debian 提供的版本。

```
 $ pip --version
 pip 9.0.1 from /home/myhomedir/myvirtualenvdir/lib/python2.7/dist-packages (python 2.7)
 $ pip3 --version
 pip 9.0.1 from /home/myhomedir/myvirtualenvdir/lib/python3.4/site-packages (python 3.4) 
```

* * *

## 回答 #5

> 赞同：12
> 
> 时间：2019-04-01T12:30:07.717

如果您使用 venv，对 pip install 的任何更新都将导致升级系统 pip 而不是 venv pip。您还需要升级 pip 引导程序包。

```
 python3 -m pip install --upgrade pip setuptools wheel 
```

* * *

## 回答 #6

> 赞同：9
> 
> 时间：2019-02-25T06:41:41.757

由于可怕的证书问题，使用“ ***pip install --upgrade pip*** ”升级 pip 并不总是有效：[确认 ssl 证书时出现问题：[SSL：TLSV1_ALERT_PROTOCOL_VERSION] tlsv1 警报协议版本](https://stackoverflow.com/questions/51207770/pip-fails-due-to-ssl-cert-tlsv1-0)

我喜欢对虚拟环境使用*一行*命令：

```
curl https://bootstrap.pypa.io/get-pip.py | python - 
```

或者，如果您想将它安装在盒子范围内，您将需要

```
curl https://bootstrap.pypa.io/get-pip.py | sudo python - 
```

如果您想在自动化脚本中运行时使输出静音，您可以给 curl 一个**-s标志。**

* * *

## 回答 #7

> 赞同：7
> 
> 时间：2021-07-31T19:45:48.117

```
pip install --upgrade pip 
```

在 UBUNTU 18.04 中执行上述命令时出现以下错误：

```
ERROR: Could not install packages due to an EnvironmentError: [Errno 13] Permission denied: '/usr/local/bin/pip'
Consider using the `--user` option or check the permissions. 
```

下面的命令解决了我的问题：

```
pip install --upgrade pip --user 
```

* * *

## 回答 #8

> 赞同：4
> 
> 时间：2020-12-01T07:03:50.083

对于*窗户*，

*   转到*命令提示符*
*   并使用此命令
*   `python -m pip install -–upgrade pip`
*   不要忘记重新启动编辑器，以避免任何错误
*   您可以检查`pip`by的版本
*   `pip --version`
*   如果你想安装任何特定版本`pip`，例如`version 18.1` 然后使用这个命令，
*   `python -m pip install pip==18.1`

* * *

## 回答 #9

> 赞同：3
> 
> 时间：2018-08-18T13:37:39.970

使用管理员权限打开命令提示符，然后重复命令：

```
python -m pip install --upgrade pip 
```

* * *

## 回答 #10

> 赞同：3
> 
> 时间：2018-09-05T00:23:49.710

pip 版本 10 有问题。它将表现为错误：

```
ubuntu@mymachine-:~/mydir$ sudo pip install --upgrade pip
Traceback (most recent call last):
  File "/usr/bin/pip", line 9, in <module>
    from pip import main
ImportError: cannot import name main 
```

解决方案是在要升级的 venv 中，然后运行：

```
sudo myvenv/bin/pip install --upgrade pip 
```

而不仅仅是

```
sudo pip install --upgrade pip 
```

* * *

## 回答 #11

> 赞同：3
> 
> 时间：2019-05-27T19:34:27.207

我遇到了类似的情况，想更新 urllib3 包。对我有用的是：

```
pip3 install --upgrade --force-reinstall --ignore-installed urllib3==1.25.3 
```

* * *

## 回答 #12

> 赞同：3
> 
> 时间：2021-07-06T12:16:23.043

对于 Linux

python3 -m pip install --upgrade pip

对于窗户：

1.在 Windows 搜索框中键入命令提示符

2.在命令提示符下，输入“cd\”</p>

3.按回车，你会看到驱动器名称`C:\>`

4.找到你的Python应用路径，也就是你最初安装Python的文件夹

以下是 Python 应用程序路径的示例：

```
C:\Users\Ron\AppData\Local\Programs\Python\Python39 
```

5\. 检索到 Python 应用程序路径后，在命令提示符中键入以下命令：

`cd`后跟您的 Python 应用程序路径

对于我们的示例：

```
C:\>cd C:\Users\Ron\AppData\Local\Programs\Python\Python39 
```

6.按回车

7.`python -m pip install --upgrade pip`输入并回车

* * *

## 回答 #13

> 赞同：2
> 
> 时间：2017-06-20T13:16:10.623

在我的情况下，这可以从 Debian Stable 的终端命令行工作

```
python3 -m pip install --upgrade pip 
```

* * *

## 回答 #14

> 赞同：2
> 
> 时间：2018-02-14T13:44:20.380

为了让它对我有用，我必须使用 Python 命令提示符（在 VS CODE 的 WIN10 上）深入到 Python 目录中。就我而言，它位于我的“AppData\Local\Programs\Python\python35-32”目录中。从那里现在我运行命令......

```
python -m pip install --upgrade pip 
```

这行得通，我很高兴。

* * *

## 回答 #15

> 赞同：2
> 
> 时间：2021-07-06T11:53:31.510

首先，这样做：

`sudo apt install python3-pip python-setuptools-doc`

然后，来自非`root`操作系统用户（永远，永远不要在操作系统用户下运行`pip*`！！！`root`）：

```
# N.B. bash shell works for this, I have never tested with other shells!
. ....your_virtualenv_folder/bin/activate
pip3 install -U pip 
```

注意：据我所知，`-U`是 的同义词。`--upgrade`

* * *

## 回答 #16

> 赞同：1
> 
> 时间：2018-08-07T23:00:31.850

在装有 Windows 7 的笔记本电脑上，安装最新版本 pip 的正确方法是：

```
python.exe -m pip install --upgrade pip 
```

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2018-03-25T18:41:24.257

我已经在 C:\Python\Python36 中安装了 Python，所以我转到 Windows 命令提示符并键入“cd C:\Python\Python36”以进入正确的目录。然后输入“python -m install --upgrade pip”all好的！

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2018-09-21T13:38:17.560

**单行 Python 程序**
我发现最好的方法是编写一个单行程序，下载并运行官方的 get-pip 脚本。请参阅下面的代码。

官方文档建议使用 curl 下载 get-pip 脚本，但由于我在 windows 上工作并且没有安装 curl，我更喜欢使用 python 本身来下载和运行脚本。

这是可以使用 Python 3 通过命令行运行的单行程序：

```
python -c "import urllib.request; exec(urllib.request.urlopen('https://bootstrap.pypa.io/get-pip.py').read())" 
```

此行根据[安装说明](https://pip.pypa.io/en/stable/installing/)获取官方的“get-pip.py”脚本，并使用“exec”命令执行该脚本。

对于 Python2，您可以将“urllib.request”替换为“urllib2”：

```
python -c "import urllib2; exec(urllib2.urlopen('https://bootstrap.pypa.io/get-pip.py').read())" 
```

**注意事项**
值得注意的是，盲目地运行任何 python 脚本本质上是危险的。出于这个原因，官方说明建议下载脚本并在运行前检查它。

也就是说，许多人实际上并没有检查代码而只是运行它。这个单行程序使这更容易。

* * *

## 回答 #19

> 赞同：0
> 
> 时间：2018-12-12T22:11:07.987

我在树莓派上遇到了类似的问题。

问题是 http 需要 SSL，所以我需要强制它使用 https 来解决这个要求。

```
sudo pip install --upgrade pip --index-url=https://pypi.python.org/simple 
```

或者

```
sudo pip-3.2 --upgrade pip --index-url=https://pypi.python.org/simple/ 
```

* * *

## 回答 #20

> 赞同：0
> 
> 时间：2022-01-06T11:37:12.377

前往您的命令提示符并键入以下内容：

```
python -m pip install --upgrade pip 
```

* * *

## 回答 #21

> 赞同：-2
> 
> 时间：2018-08-14T04:14:00.887

非常简单。只需从[https://bootstrap.pypa.io/get-pip.py](https://bootstrap.pypa.io/get-pip.py)下载 pip 。将文件保存在某个 forlder 或 dekstop 中。我将文件保存在我的 D 驱动器中。然后从命令提示符导航到下载 pip 的文件夹。然后在那里输入

```
python -get-pip.py 
```

![pip安装截图](../Images/48dab2cb9af4b3812790a851093b962c.png)

* * *

## 回答 #22

> 赞同：-2
> 
> 时间：2022-02-05T20:18:10.317

在**linux中**

我将使用此代码进行更新

```
sudo -H pip3 install --upgrade pip 
```

# javascript - 为什么 $(document).append() 在 jQuery 1.9.1 中不起作用？

> ID：15221475
> 
> 赞同：15
> 
> 时间：2013-03-05T10:29:26.423
> 
> 标签：javascript, jquery

为什么自 jQuery 1.9.1 以来以下代码不起作用？与以前的版本工作正常。

```
$(function () { 
    $(document).append(test);
    document.write('done');
});
var test = {
    version: "1.0",
}; 
```

JSFiddle：http: [//jsfiddle.net/Chessjan/NsjqM/](http://jsfiddle.net/Chessjan/NsjqM)

在 JS 控制台中，它会发出如下错误：

```
TypeError: document is null
safeFrag = document.createDocumentFragment(); jquery-1.9.1.js (line 5823) 
```

编辑：

感谢大家快速而广泛的回答。观察到的问题是偶然发现的，当然`$(document.body).append()`是正确的做法。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-03-05T10:41:06.703

jQuery 1.9.x 调用

```
this[ 0 ].ownerDocument 
```

在其`buildFragment()`方法之内。由于您传入`document`, 调用

```
document.ownerDocument 
```

将引用`null`并导致错误。任何其他节点都将引用`document`，这当然可以。

* * *

结论：不要调用`$(document).append()`但使用`$(document.body)`例如。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-05T10:42:05.633

你的代码**永远不会**起作用。它必须`document.body` **不** `document`。

以下是不同版本的一些示例不起作用：

jQuery 1.6.4： http: [//jsfiddle.net/us9Kz/](http://jsfiddle.net/us9Kz/)
jQuery 1.7.2： http: [//jsfiddle.net/us9Kz/1/](http://jsfiddle.net/us9Kz/1/) jQuery
1.8.3： http: [//jsfiddle.net/us9Kz/3/](http://jsfiddle.net/us9Kz/3/)
1.9.1： http: [//jsfiddle.net/us9Kz/4/](http://jsfiddle.net/us9Kz/4/)
jQuery 2.0.0b1：http: [//jsfiddle.net/us9Kz/5/](http://jsfiddle.net/us9Kz/5/)

使用代码`document.body`（在 jQuery 1.9.1 上）：http: [//jsfiddle.net/us9Kz/6/](http://jsfiddle.net/us9Kz/6/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-05T10:35:27.013

为了回答你的问题，我在 JSfiddle 中尝试了所有可用的 jQuery 版本。它碰巧给出了同样的错误。

为什么它不起作用：当转换为字符串时，文档变成类似于[object HTMLDocument]的东西，当然没有这样的id，它会返回null。

以下作品：

```
var test = "1.0"
$('body').append(test); 
```

或者像你一样通过对象符号来做：

```
var test = {
    version: '1.0'
}
$('body').append(test.version) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-05T10:43:31.587

在 jQuery 代码中，它有这一行：

```
jQuery.buildFragment( args, this[ 0 ].ownerDocument, false, this ); 
```

`this`是您选择的 jQuery 对象。在你的情况下，文件。document 的 ownerDocument 值为 null，这是传递`document`给`document.createDocumentFragment();`. 因此，您会得到`document`null 的错误（那里的变量命名稍有错误，因为它使您认为文档对象本身以某种方式为 null）

正如其他人所说。改为附加到正文中，它将正常工作。

# opencv - 使用 Python OpenCV 在同一窗口中显示多个图像？

> ID：15221476
> 
> 赞同：4
> 
> 时间：2013-03-05T10:29:26.823
> 
> 标签：opencv, python-2.7

我想在左侧显示原始图像，在右侧显示灰度图像。下面是我的代码，我创建灰度图像并创建窗口，但我无法将灰度图像放在右侧。我怎样才能做到这一点？

```
import cv
import time
from PIL import Image
import sys

filePath = raw_input("file path: ")
filename = filePath

img = cv.LoadImage(filename)
imgGrayScale = cv.LoadImage(filename, cv.CV_LOAD_IMAGE_GRAYSCALE) # create grayscale image

imgW = img.width
imgH = img.height

cv.NamedWindow("title", cv.CV_WINDOW_AUTOSIZE)
cv.ShowImage("title", img )
cv.ResizeWindow("title", imgW * 2, imgH)

cv.WaitKey() 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2019-09-04T16:06:10.350

First concatenate the images either horizontally (across columns) or vertically (across rows) and then display it as a single image.

```
import numpy as np
import cv2
from skimage.data import astronaut
import scipy.misc as misc
img=cv2.cvtColor(astronaut(),cv2.COLOR_BGR2RGB)
numpy_horizontal_concat = np.concatenate((img, img), axis=1)
cv2.imshow('Numpy Horizontal Concat', numpy_horizontal_concat) 
```

[![enter image description here](../Images/92538f58c7c741b9604148c44e665619.png)](https://i.stack.imgur.com/rtJQW.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-05T10:31:59.993

据我所知，一个窗口，一个图像。所以用imgW*2创建一个新图像，并在从(originalimage.width,0)开始的区域复制灰度图像的内容。ROI 功能可能对您有所帮助。

# git - 詹金斯和 GIT 澄清

> ID：15221478
> 
> 赞同：1
> 
> 时间：2013-03-05T10:29:35.407
> 
> 标签：git, jenkins, continuous-integration

我在我的 AIX 服务器中有一个用于 Java 网站的 GIT 设置。

我已经设置了几个开发人员提交他们的代码的**裸**存储库，并且我的开发服务器中托管了几个**非裸存储库。**

我听说 Jenkins 可以监控 GIT-HUB 中的更改，然后在找到新提交时通过检查 GIT-HUB 中的最新内容来运行构建过程。

我可以将 Jenkins 配置为监控我的开发服务器中的**裸**存储库和**非裸**存储库，并在找到新提交时启动构建过程。

这里 GIT 和 Jenkins 都设置在同一个 Unix 服务器上。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T11:10:01.657

只要 Jenkins 有某种访问 git 存储库的方法，它就可以对其进行监控并在检测到更改时启动构建。如果 Jenkins 在同一台服务器上，您应该能够为其提供存储库的文件系统路径。

请注意，单个作业只能监控单个存储库。也就是说，如果您想监控多个存储库，您要么需要多个作业，要么需要某种将它们拉到一起的元存储库。如果这是您需要做的，您可能需要考虑[这个插件](https://wiki.jenkins-ci.org/display/JENKINS/Multiple+SCMs+Plugin)，尽管它仅处于早期 alpha 阶段。

# unix - 在 unix 中需要帮助以迭代 for 循环

> ID：15221481
> 
> 赞同：0
> 
> 时间：2013-03-05T10:29:39.567
> 
> 标签：unix, for-loop

波纹管代码不起作用。它没有遍历目录。

```
input={20132802,20132802}
for i in $(ls -1 /home/$input/*s.log)
do
...
done 
```

但是当在循环中提供输入时工作正常。

```
for i in $(ls -1 /home/{20132802,20132802}/*s.log)
do
...
done 
```

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T10:52:38.413

大括号扩展不能在变量中使用，因为它在任何其他扩展之前执行。来自`man bash`：

> 大括号扩展在任何其他扩展之前执行，并且任何其他扩展的特殊字符都保留在结果中。它是严格的文本。Bash 不对扩展的上下文或大括号之间的文本应用任何句法解释。为避免与参数扩展发生冲突，字符串 '${' 不适合大括号扩展。

但是，您可以使用`eval`来克服此限制：

```
input={20132802,20132802}
for i in $(eval ls -1 /home/$input/*s.log)
do
...
done 
```

必读：[`eval`是邪恶的](http://mywiki.wooledge.org/BashFAQ/048)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-05T10:33:02.370

尝试编写 ${input} 而不是 $input，因为 i 是 for 循环的索引，我猜在编写 $input ('$i'nput) 时使用了 $i。

# ruby-on-rails - 在 Rails 3.2 中实现捆绑安装时出错

> ID：15221483
> 
> 赞同：0
> 
> 时间：2013-03-05T10:29:45.830
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.2, bundler

我刚开始一个名为图书馆管理系统的新项目。在运行 bundle install 时`Windows XP 32 bit`。我还在我的系统上安装了 Python 3.3。我收到以下错误。

```
 D:\Projects\Library>bundle install
C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/bundler-1.0.22/lib/bundler/
dsl.rb:7:in `instance_eval': D:/Projects/Library/Gemfile:27: syntax error, unexp
ected tDOT2, expecting $end (SyntaxError)
        from C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/bundler-1.0.22
/lib/bundler/dsl.rb:7:in `evaluate'
        from C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/bundler-1.0.22
/lib/bundler/definition.rb:17:in `build'
        from C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/bundler-1.0.22
/lib/bundler.rb:138:in `definition'
        from C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/bundler-1.0.22
/lib/bundler/cli.rb:219:in `install'
        from C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/bundler-1.0.22
/lib/bundler/vendor/thor/task.rb:22:in `run'
        from C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/bundler-1.0.22
/lib/bundler/vendor/thor/invocation.rb:118:in `invoke_task'
        from C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/bundler-1.0.22
/lib/bundler/vendor/thor.rb:263:in `dispatch'
        from C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/bundler-1.0.22
/lib/bundler/vendor/thor/base.rb:386:in `start'
        from C:/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/bundler-1.0.22
/bin/bundle:13:in `<top (required)>'
        from C:/RailsInstaller/Ruby1.9.3/bin/bundle:19:in `load'
        from C:/RailsInstaller/Ruby1.9.3/bin/bundle:19:in `<main>' 
```

我的`Gemlock`文件如下：-

```
GEM
  remote: https://rubygems.org/
  specs:
    actionmailer (3.2.11)
      actionpack (= 3.2.11)
      mail (~> 2.4.4)
    actionpack (3.2.11)
      activemodel (= 3.2.11)
      activesupport (= 3.2.11)
      builder (~> 3.0.0)
      erubis (~> 2.7.0)
      journey (~> 1.0.4)
      rack (~> 1.4.0)
      rack-cache (~> 1.2)
      rack-test (~> 0.6.1)
      sprockets (~> 2.2.1)
    activemodel (3.2.11)
      activesupport (= 3.2.11)
      builder (~> 3.0.0)
    activerecord (3.2.11)
      activemodel (= 3.2.11)
      activesupport (= 3.2.11)
      arel (~> 3.0.2)
      tzinfo (~> 0.3.29)
    activeresource (3.2.11)
      activemodel (= 3.2.11)
      activesupport (= 3.2.11)
    activesupport (3.2.11)
      i18n (~> 0.6)
      multi_json (~> 1.0)
    api_taster (0.6.0)
      bootstrap-sass (~> 2.1)
      jquery-rails
      rails (>= 3.1.0)
      redcarpet
      remotipart (~> 1.0)
      sass-rails
    arel (3.0.2)
    bcrypt-ruby (3.0.1)
    bcrypt-ruby (3.0.1-x86-mingw32)
    bootstrap-sass (2.2.2.0)
      sass (~> 3.2)
    bootswatch-rails (0.4.0)
      railties (>= 3.1)
    builder (3.0.4)
    carrierwave (0.8.0)
      activemodel (>= 3.2.0)
      activesupport (>= 3.2.0)
    coffee-rails (3.2.2)
      coffee-script (>= 2.2.0)
      railties (~> 3.2.0)
    coffee-script (2.2.0)
      coffee-script-source
      execjs
    coffee-script-source (1.5.0)
    commonjs (0.2.6)
    devise (2.2.1)
      bcrypt-ruby (~> 3.0)
      orm_adapter (~> 0.1)
      railties (~> 3.1)
      warden (~> 1.2.1)
    erubis (2.7.0)
    execjs (1.4.0)
      multi_json (~> 1.0)
    hike (1.2.1)
    i18n (0.6.4)
    journey (1.0.4)
    jquery-rails (2.2.1)
      railties (>= 3.0, < 5.0)
      thor (>= 0.14, < 2.0)
    json (1.7.7)
    less (2.2.2)
      commonjs (~> 0.2.6)
    less-rails (2.2.6)
      actionpack (>= 3.1)
      less (~> 2.2.0)
    less-rails-bootstrap (2.2.1)
      less-rails (~> 2.2.0)
    mail (2.4.4)
      i18n (>= 0.4.0)
      mime-types (~> 1.16)
      treetop (~> 1.4.8)
    mime-types (1.21)
    multi_json (1.6.1)
    orm_adapter (0.4.0)
    pg (0.14.1)
    pg (0.14.1-x86-mingw32)
    polyglot (0.3.3)
    rack (1.4.5)
    rack-cache (1.2)
      rack (>= 0.4)
    rack-protection (1.3.2)
      rack
    rack-ssl (1.3.3)
      rack
    rack-test (0.6.2)
      rack (>= 1.0)
    rails (3.2.11)
      actionmailer (= 3.2.11)
      actionpack (= 3.2.11)
      activerecord (= 3.2.11)
      activeresource (= 3.2.11)
      activesupport (= 3.2.11)
      bundler (~> 1.0)
      railties (= 3.2.11)
    railties (3.2.11)
      actionpack (= 3.2.11)
      activesupport (= 3.2.11)
      rack-ssl (~> 1.3.2)
      rake (>= 0.8.7)
      rdoc (~> 3.4)
      thor (>= 0.14.6, < 2.0)
    rake (10.0.3)
    rdoc (3.12.2)
      json (~> 1.4)
    redcarpet (2.2.2)
    redis (3.0.2)
    redis-namespace (1.2.1)
      redis (~> 3.0.0)
    remotipart (1.0.2)
    resque (1.23.0)
      multi_json (~> 1.0)
      redis-namespace (~> 1.0)
      sinatra (>= 0.9.2)
      vegas (~> 0.1.2)
    resque-scheduler (2.0.0)
      redis (>= 2.0.1)
      resque (>= 1.20.0)
      rufus-scheduler
    rufus-scheduler (2.0.17)
      tzinfo (>= 0.3.23)
    sass (3.2.6)
    sass-rails (3.2.6)
      railties (~> 3.2.0)
      sass (>= 3.1.10)
      tilt (~> 1.3)
    sinatra (1.3.3)
      rack (~> 1.3, >= 1.3.6)
      rack-protection (~> 1.2)
      tilt (~> 1.3, >= 1.3.3)
    sprockets (2.2.2)
      hike (~> 1.2)
      multi_json (~> 1.0)
      rack (~> 1.0)
      tilt (~> 1.1, != 1.3.0)
    thor (0.17.0)
    tilt (1.3.4)
    treetop (1.4.12)
      polyglot
      polyglot (>= 0.3.1)
    twitter-bootstrap-rails (2.2.4)
      actionpack (>= 3.1)
      execjs
      railties (>= 3.1)
    tzinfo (0.3.35)
    uglifier (1.3.0)
      execjs (>= 0.3.0)
      multi_json (~> 1.0, >= 1.0.2)
    vegas (0.1.11)
      rack (>= 1.0.0)
    warden (1.2.1)
      rack (>= 1.0)

PLATFORMS
  ruby
  x86-mingw32

DEPENDENCIES
  api_taster
  bootswatch-rails
  carrierwave
  coffee-rails (~> 3.2.1)
  devise
  execjs
  jquery-rails
  less-rails-bootstrap
  pg
  rails (= 3.2.11)
  resque
  resque-scheduler
  sass-rails (~> 3.2.3)
  twitter-bootstrap-rails
  uglifier (>= 1.0.3) 
```

我的宝石文件：-

```
source 'https://rubygems.org'

gem 'rails', '3.2.11'

# Bundle edge Rails instead:
# gem 'rails', :git => 'git://github.com/rails/rails.git'

#gem 'sqlite3'

gem 'pg'

# Gems used only for assets and not required
# in production environments by default.
group :assets do
  gem 'sass-rails',   '~> 3.2.3'
  gem 'coffee-rails', '~> 3.2.1'

  # See https://github.com/sstephenson/execjs#readme for more supported runtimes
 #  gem 'therubyracer', :platforms => :ruby

  gem 'uglifier', '>= 1.0.3'
end

gem 'jquery-rails'

gem 'carrierwave'
                  <-----Line 27 
gem 'devise'

gem 'resque'
gem 'resque-scheduler', :require => 'resque_scheduler'

gem 'api_taster'

gem 'twitter-bootstrap-rails'

gem 'less-rails-bootstrap'

gem 'execjs'

# gem 'therubyracer'

gem 'bootswatch-rails'

# To use ActiveModel has_secure_password
# gem 'bcrypt-ruby', '~> 3.0.0'

# To use Jbuilder templates for JSON
# gem 'jbuilder'

# Use unicorn as the app server
# gem 'unicorn'

# Deploy with Capistrano
# gem 'capistrano'

# To use debugger
# gem 'debugger' 
```

你能帮我么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T04:02:38.540

似乎 gem 'twitter-bootstrap-rails' 和 gem 'less-rails-bootstrap' 给出了错误。我在`db:create`.

```
C:\Sites\Library>rake db:create
[WARNING] Please install gem 'therubyracer' to use Less.
rake aborted!
cannot load such file -- v8
C:/Sites/Library/config/application.rb:7:in `<top (required)>'
C:/Sites/Library/Rakefile:5:in `<top (required)>'
(See full trace by running task with --trace) 
```

所以我删除了它们。相反，我去了'bootstrap-sass' gem 在rails中实现引导程序，它似乎对我来说很好。不知道我是否正确

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T06:58:14.103

您可以从头开始重新开始一个项目，而不是做所有这些。请相应地更新您的`gemfile`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-05T13:12:33.420

好的，既然您已经发现了我建议安装我知道 100% 有效的“bootstrap-sass”gem 的问题。

我碰巧回答了一个类似的问题，所以这里是链接： [如何使用该宝石以及为什么](https://stackoverflow.com/questions/15222455/rails-3-2-12-with-less-and-twitter-bootstrap-v8-error/15223348#15223348)

# jquery - 编写 jQuery 插件的最短和最快的方法

> ID：15221484
> 
> 赞同：1
> 
> 时间：2013-03-05T10:29:49.550
> 
> 标签：jquery, jquery-templates

编写 jQuery 插件以拥有所有 jQuery 函数、方法和可用属性的最短和最快的方法是什么，但要避免这种在大多数情况下存储在`jquery.*-plugin.js`文件中的模式：

```
(function($){
    $.yourPluginName = function(el, radius, options){
        // To avoid scope issues, use 'base' instead of 'this'
        // to reference this class from internal events and functions.
        var base = this;

        // Access to jQuery and DOM versions of element
        base.$el = $(el);
        base.el = el;

        // Add a reverse reference to the DOM object
        base.$el.data("yourPluginName", base);

        base.init = function(){
            if( typeof( radius ) === "undefined" || radius === null ) radius = "20px";

            base.radius = radius;

            base.options = $.extend({},$.yourPluginName.defaultOptions, options);

            // Put your initialization code here
        };

        // Sample Function, Uncomment to use
        // base.functionName = function(paramaters){
        // 
        // };

        // Run initializer
        base.init();
    };

    $.yourPluginName.defaultOptions = {
        radius: "20px"
    };

    $.fn.yourPluginName = function(radius, options){
        return this.each(function(){
            (new $.yourPluginName(this, radius, options));

           // HAVE YOUR PLUGIN DO STUFF HERE

           // END DOING STUFF

        });
    };

})(jQuery); 
```

我正在寻找一个快速的 jQuery 插件模式/模板，我可以在我的`main.js`文件中使用它来执行我所有的 JavaScript 逻辑和 jQuery 的事情。

我想要做的是避免`jquery.*-plugin.js`为我的一些自定义插件使用文件，这些插件将仅用于我网站的某些部分和部分。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:32:38.930

这真的取决于您需要什么功能，但 jQuery 插件只是一个方法`jQuery.prototype`（别名为`jQuery.fn`），因此您可以这样做：

```
$.fn.myPlugin = function () {
    // `this` refers to the jQuery instance. Put your logic in here.
}; 
```

然后你可以这样称呼它：

```
$(".some-selector").myPlugin(); 
```

这是一个[工作示例](http://jsfiddle.net/jamesallardice/nRzR6/)。

# python - 使用 utf-16 解析 LXML Xpath 失败

> ID：15221499
> 
> 赞同：0
> 
> 时间：2013-03-05T10:30:44.893
> 
> 标签：python, parsing, xpath, lxml, utf-16

我正在解析以下页面：[http](http://www.amazon.de/product-reviews/B004K1K172) : //www.amazon.de/product-reviews/B004K1K172 使用基于 lxml 的 etree 进行解析。

包含整个页面内容的内容变量

代码：

```
myparser = etree.HTMLParser(encoding="utf-16") #As characters are beyond utf-8
tree = etree.HTML(content,parser = myparser)
review = tree.xpath(".//*[@id='productReviews']/tr/td[1]/div[1]/text()") 
```

这将返回一个空列表。

但是当我将代码更改为：

```
myparser = etree.HTMLParser(encoding="utf-8") #Neglecting some reviews having ascii character above utf-8
tree = etree.HTML(content,parser = myparser)
review = tree.xpath(".//*[@id='productReviews']/tr/td[1]/div[1]/text()") 
```

现在我正在使用相同的 Xpath 获取正确的数据。但是大多数评论都被拒绝了。那么这是基于 lxml 的 xpath 或我的 xpath 实现的问题吗？

如何使用 utf-16 编码解析上述页面？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:45:51.950

要自动从 http 标头获取字符编码：

```
import cgi
import urllib2

from lxml import html

response = urllib2.urlopen("http://www.amazon.de/product-reviews/B004K1K172")

# extract encoding from Content-Type 
_, params = cgi.parse_header(response.headers.get('Content-Type', ''))
html_text = response.read().decode(params['charset'])

root = html.fromstring(html_text)
reviews = root.xpath(".//*[@id='productReviews']/tr/td[1]/div[1]/text()") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:45:01.290

根据 nymk 的建议

Parsed the page using ISO-8859-15 encoding. 因此更改代码中的以下行。

myparser = etree.HTMLParser(encoding="ISO-8859-15")
但是必须在 SQL 中进行更改以接受 utf-8 以外的编码。

# html - 为 Internet Explorer 对齐左 img 标签，使父 div 变形

> ID：15221500
> 
> 赞同：0
> 
> 时间：2013-03-05T10:30:48.180
> 
> 标签：html, css

我的 html 中有这个标签：

```
<img border="0" src="images\Close.gif" alt="بستن" onclick="hideSearchPopUp(id);"/> 
```

在大多数已知的浏览器中没有问题，但在 Internet Explorer 中父`<div>`标签会变形。像这张照片：

![变形的父 div 标签](../Images/9f9bcc58de7e5667360d990c8680d8e2.png)

如您所见，父 div 的高度增加，关闭按钮移至左下角

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T06:03:47.293

好像是IE的bug！我为父母设置了高度，但在我设置宽度之前它不起作用！在设置宽度高度后实现，就像我设置的那样。

```
<div id="banner_div" style="overflow: auto; height: 16px; width: 120px;">
        <strong style=" float:right;">
            جستجو
        </strong>
    <img border="0" src="images\Cancel.gif" alt="بستن" onclick="hideSearchPopUp('to1');" align="left">
    <img border="0" src="images\loading.gif" alt="در حال جستجو" style="display:none;  " align="left" name="loading">
</div> 
```

# javascript - 带有 Google API 狂热字符的 Django 和 JSON POST

> ID：15221503
> 
> 赞同：2
> 
> 时间：2013-03-05T10:30:53.783
> 
> 标签：javascript, django, json, post, google-directions-api

**背景**

我正在构建一个帮助人们搜索电梯的应用程序。我正在使用 Django、Python2.7 和 Google 地图和方向 API。

在一个视图中，我使用地图并允许用户选择几个位置以及到达和离开时间。然后我使用 Google Directions API 来获取点之间的一些替代路线（如 JSON）。我解析 JSON 并以多种方式更改返回的信息，并将数据保存在新结构（称为`legs`）中。直到这里一切正常。

当用户按下“下一步”按钮时，将`legs`被字符串化并作为表单的一部分发布到下一个视图。像这样：

```
document.getElementById('legs_field').value = JSON.stringify(window.legs); 
```

还可能值得注意的是，这条线运行良好：

```
JSON.parse(JSON.stringify(window.legs)); 
```

**问题**

`legs`在下一个视图中，我似乎无法访问 JavaScript。所以我的问题是：如何`legs`在下一个视图中获得相同的数据结构？

**我试过的**

*方法一：*

视图.py

```
legs_json = request.POST.get('legs')
legs = json.loads(legs_json)
arbitrary_processing()
return render_to_response('foo.html',{
        'legs': SafeString(json.dumps(legs)),
        **snipped for brevity**
     }) 
```

模板

```
window.legs_json = '{{legs}}';
**snipped for brevity** 
```

js

```
window.legs = JSON.parse(window.legs_json); 
```

js报错：

```
SyntaxError: JSON.parse: bad escaped character 
```

我之前在处理 JSON 时使用过这种精确的技术，并且效果很好。所以我认为有一些疯狂的角色正在发生。

*方法2*

由于 SafeString 进行了转义，因此我摆脱了它...

我将 view.py 中的上下文更改为：

```
'legs': json.dumps(legs),
**snipped for brevity** 
```

js报错：

```
SyntaxError: JSON.parse: expected property name or '}' 
```

这是意料之中的。

*方法 3*

我将 view.py 中的上下文更改为：

```
'legs': legs_json,
**snipped for brevity** 
```

js报错：

```
SyntaxError: JSON.parse: expected property name or '}' 
```

这也是意料之中的

*方法 4*

我将 view.py 中的上下文更改为：

```
'legs': SafeString(legs_json),
**snipped for brevity** 
```

然后我得到python错误：

```
UnicodeEncodeError at /set_route/offer/0/
'ascii' codec can't encode character u'\xa9' in position 127: ordinal not in range(128) 
```

**我想到的东西**

由于我可以对 POST 后的对象进行字符串化和解析，并且可以在后续视图中解析生成的 JSON，因此我假设：POST 的 JSON 没有正确通过（在这种情况下，应该归咎于某些中间件），或者 Python json 模块对事物的编码方式与 JSON.js 所期望的方式不同（这确实令人不安）。

**问题**

我对 Django 和 JavaScript 方面的 JSON 工作方式的任何假设是否正确？如果是：我如何解决这个问题并`legs`安全地实例化？如果否：实际上出了什么问题？我怎样才能`legs`安全地实例化？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T11:02:38.993

鉴于 JSON 根据定义是有效的 Javascript，您可以简单地将其作为 JS 数据结构转储到模板中，而不是您随后解析的字符串。

```
window.legs_json = {{legs}}; 
```

# php - PHP页面在一段时间后变为空白

> ID：15221506
> 
> 赞同：0
> 
> 时间：2013-03-05T10:31:10.087
> 
> 标签：php, mysql, html

我已将我的 PHP 页面设置为刷新并从数据库中获取值，问题是它有时会变为空白。令人耳目一新的部分，一切正常。唯一的问题是页面变为空白

我用于刷新页面的代码是：

```
$url=$_SERVER['REQUEST_URI'];
header("Refresh: 1; URL=$url") 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T10:37:24.940

在静态页面中放置一个调用您的页面以刷新的 iframe。然后每秒刷新一次这个 iframe。使用这种模式，当动态页面返回空白一次时，它不会破坏功能。

**简单示例**

```
<html>

<script>
    setInterval("reload()", 2000);

    function reload(){
         document.getElementById('refresh').src = "./page_to_refresh.php";
    }
</script>

<iframe id="refresh" src="./page_to_refresh.php">
</html> 
```

# knockout.js - 避免带有敲除的双击事件（按钮+行）

> ID：15221508
> 
> 赞同：0
> 
> 时间：2013-03-05T10:31:28.103
> 
> 标签：knockout.js

我有以下淘汰赛html代码：

```
<table class="vehicles" data-bind="with: chosenCategoryData">
    <tbody data-bind="foreach: Vehicles">
        <tr data-bind="click: $root.goToVehicle">
            <td data-bind="text: Brand"></td>
            <td data-bind="text: Model"></td>
            <td data-bind="text: Registration"></td>
            <td><button data-bind="click: $root.deleteVehicle">Delete</button></td>
        </tr>     
    </tbody>
</table> 
```

单击任何行，将导航到详细信息页面。

单击删除按钮将删除该行上的元素。

此删除按钮位于最后一列。

**这里的问题**是，当我单击删除按钮时，触发了名为 deleteVehicle 的淘汰赛事件（ok），但也触发了 goToVehicle 事件（nok）。

单击删除按钮时，如何避免行上的单击事件？

谢谢。

* * *

更新

这是在 deleteVehicle 后面调用的事件：

```
self.deleteVehicle = function (vehicle)
{
    $.ajax({ url: "/api/vehicle?id=" + vehicle.VehicleId, type: "DELETE" });
    location.hash = vehicle.Category;
} 
```

如您所见，首先我执行 ajax 调用来删除元素。接下来我强制重新加载我的网格。如果我使用**clickBubble**事件处理程序，它会在我的 deleteVehicle 函数中执行我的 ajax 调用，但不会执行`location.hash = vehicle.Category;`。所以我的网格没有刷新？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T11:14:42.023

您的代码应该可以工作。我不知道它为什么不工作。也许您可以摆弄一下，以便我们弄清楚那是什么问题。

这也可以按您的预期工作：

将 id 添加到表格行和按钮

```
eg;)  <tr id ="tableRow" data-bind="click: $root.goToVehicle">
        <td data-bind="text: Brand"></td>
        <td data-bind="text: Model"></td>
        <td data-bind="text: Registration"></td>
        <td><button id="deleteBtn" data-bind="click: $root.deleteVehicle">Delete</button></td>
      </tr> 
```

如下更改您的 goToVehicle 方法：-

```
self.goToVehicle = function(data,event){
 if ( !$(event.target).is('deleteBtn') ) {  
    alert('clicked');  
    //some code here
 }  
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:33:38.250

您可以`clickBubble`在按钮上使用绑定。它将防止事件冒泡到 tr：

```
<table class="vehicles" data-bind="with: chosenCategoryData">
    <tbody data-bind="foreach: Vehicles">
        <tr data-bind="click: $root.goToVehicle">
            <td data-bind="text: Brand"></td>
            <td data-bind="text: Model"></td>
            <td data-bind="text: Registration"></td>
            <td><button data-bind="click: $root.deleteVehicle, clickBubble: false">Delete</button></td>
        </tr>     
    </tbody>
</table> 
```

# ruby-on-rails - 为什么我的 after_save 回调阻止我的 ActiveRecord 关联正确保存？

> ID：15221512
> 
> 赞同：0
> 
> 时间：2013-03-05T10:31:34.390
> 
> 标签：ruby-on-rails, activerecord, associations

当我注释掉我的`after_save`回电时，我的 ActiveRecord 关联工作得很好。在 Rails 控制台中，您会看到：

```
> @report = Report.create :name => "foo"
=> #<Report id: 9, name: "foo", created_at: "2013-03-05 09:51:55", updated_at: "2013-03-05 09:51:55"> 
> @question = @report.questions.create :description => "bar"
=> #<Question id: 18, standard_id: nil, description: "bar", element_id: nil, condition_id: nil, blueprint_name: nil, blueprint_url: nil, created_at: "2013-03-05 09:52:32", updated_at: "2013-03-05 09:52:32", additive: false, instructions: nil> 
> @report.questions
=> [#<Question id: 18, standard_id: nil, description: "bar", element_id: nil, condition_id: nil, blueprint_name: nil, blueprint_url: nil, created_at: "2013-03-05 09:52:32", updated_at: "2013-03-05 09:52:32", additive: false, instructions: nil>] 
> @question.reports
=> [#<Report id: 9, name: "foo", created_at: "2013-03-05 09:51:55", updated_at: "2013-03-05 09:51:55">] 
```

但是，当我将以下`after_save`回调添加到时，关联停止工作`question.rb`：

```
 def create_matching_surveys
    self.reports.each do |report|
      report.reviews.each do |review|
        review.competitors.each do |competitor|
          competitor.surveys.find_or_create_by_question_id(self.id)
        end
      end
    end
  end 
```

然后，在 Rails 控制台中，您将获得：

```
> @report = Report.create :name => "foo"
=> #<Report id: 13, name: "foo", created_at: "2013-03-05 10:20:51", updated_at: "2013-03-05 10:20:51">
> @question = @report.questions.create :description => "bar"
=> #<Question id: 24, standard_id: nil, description: "bar", element_id: nil, condition_id: nil, blueprint_name: nil, blueprint_url: nil, created_at: "2013-03-05 10:21:02", updated_at: "2013-03-05 10:21:02", additive: false, instructions: nil> 
> @report.questions
=> [#<Question id: 24, standard_id: nil, description: "bar", element_id: nil, condition_id: nil, blueprint_name: nil, blueprint_url: nil, created_at: "2013-03-05 10:21:02", updated_at: "2013-03-05 10:21:02", additive: false, instructions: nil>] 
> @question.reports
=> [] 
```

无论报告是否包含有竞争对手的评论，都会发生这种情况。

奇怪的是我认为回调是在问题被保存后发生的？所以按照权利，协会也应该在这一切发生之前保存，对吧？

我如何解决它？

**更新**

我想我必须在对象生命周期的正确位置调用回调，但我找不到那个位置。这就是我认为的原因：

```
> @report = Report.create :name => "foo"
=> #<Report id: 20, name: "foo", created_at: "2013-03-05 12:29:35", updated_at: "2013-03-05 12:29:35"> 
> @question = @report.questions.create :description => "bar"
=> #<Question id: 31, standard_id: nil, description: "bar", element_id: nil, condition_id: nil, blueprint_name: nil, blueprint_url: nil, created_at: "2013-03-05 12:30:14", updated_at: "2013-03-05 12:30:14", additive: false, instructions: nil> 
> @question.reports
 => [] 
> @question.update_attributes :description => "foo"
=> true 
> @question.reports
=> [#<Report id: 20, name: "foo", created_at: "2013-03-05 12:29:35", updated_at: "2013-03-05 12:29:35">] 
```

顺便说一句，该方法现在在 question_observer.rb 中：

```
class QuestionObserver < ActiveRecord::Observer

  def after_save(model)
    model.reload
    model.reports.reload
    model.reports.each do |report|
      report.reviews.each do |review|
        review.competitors.each do |competitor|
          competitor.surveys.find_or_create_by_question_id(model.id)
        end
      end
    end
    return true
  end

end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T02:54:11.767

`after_commit`答案是使用Rails 3 引入的一个简洁的新回调钩子。

请参阅[http://api.rubyonrails.org/classes/ActiveRecord/Transactions/ClassMethods.html#method-i-after_commit](http://api.rubyonrails.org/classes/ActiveRecord/Transactions/ClassMethods.html#method-i-after_commit)。

唯一的问题是`after_commit`不能“开箱即用”地使用事务性装置，但是有很多解决方案，我发现这个对我来说效果很好：https: [//supportbee.com/devblog/2012/01 /14/testing-after_commitafter_transaction-with-rspec/](https://supportbee.com/devblog/2012/01/14/testing-after_commitafter_transaction-with-rspec/)

# python - 使用 while 循环从字符串中一次打印一个字符

> ID：15221516
> 
> 赞同：8
> 
> 时间：2013-03-05T10:31:38.097
> 
> 标签：python, while-loop

我正在阅读“Core Python Programming 2nd Edition”，他们要求我使用“while”循环一次打印一个字符串。

我知道 while 循环是如何工作的，但由于某种原因，我无法想出如何做到这一点。我一直在环顾四周，只看到使用 for 循环的示例。

所以我必须做的：

用户提供输入：

```
text = raw_input("Give some input:  ") 
```

我知道如何从数组中读出每条数据，但我不记得如何对字符串执行任何操作。

现在我需要的是工作while循环，它打印字符串的每个字符，一次一个。

我想我必须使用 len(text)，但我不是 100% 确定如何在这个问题中使用它。

一些帮助会很棒！我确定这是一个非常简单的问题，但由于某种原因我无法想出它！

提前谢谢！:)

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-05T10:35:05.423

我很确定，互联网上到处都是 python while-loops，但是一个例子：

```
i=0

while i < len(text):
    print text[i]
    i += 1 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2015-07-05T20:43:52.950

字符串可以有 for 循环：

```
for a in string:
    print a 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-05T10:54:22.793

其他答案已经为您提供了使用`while`循环（或`for`循环）迭代字符串所需的代码，但我认为解释两种类型的循环之间的区别可能很有用。

`while`循环重复一些代码，直到满足某个条件。例如：

```
import random

sum = 0
while sum < 100:
    sum += random.randint(0,100) #add a random number between 0 and 100 to the sum
    print sum 
```

此代码将继续添加 0 到 100 之间的随机数，直到总数大于或等于 100。重要的是，此循环可以只运行一次（如果第一个随机数是 100）或者它可以永远运行（如果它保持选择 0 作为随机数）。在完成之前，我们无法预测循环将运行多少次。

`for`循环基本上只是 while 循环，但是当我们希望循环运行预设次数时会使用它们。Java`for`循环通常使用某种计数器变量（下面我使用`i`），并且通常使`while`和`for`循环之间的相似性更加明确。

```
for (int i=0; i < 10; i++) { //starting from 0, until i is 10, adding 1 each iteration
    System.out.println(i);
} 
```

这个循环将运行 10 次。这只是一个更好的写法：

```
int i = 0;
while (i < 10) { //until i is 10
   System.out.println(i);
   i++; //add one to i 
} 
```

for 循环最常见的用法是遍历一个列表（或一个字符串），Python 很容易做到这一点：

```
for item in myList:
    print item 
```

或者

```
for character in myString:
    print character 
```

但是，您不想使用`for`循环。在这种情况下，您需要使用其索引查看每个字符。像这样：

```
print myString[0] #print the first character
print myString[len(myString) - 1] # print the last character. 
```

知道可以`for`只使用循环和计数器来创建循环，并且知道可以通过索引访问单个字符，现在应该很容易使用循环`while`一次访问每个字符。`while`

**但是**，通常在这种情况下您会使用`for`循环，因为它更易于阅读。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-04-26T22:36:42.340

试试这个过程：

```
def procedure(input):
    a=0
    print input[a]
    ecs = input[a] #ecs stands for each character separately
    while ecs != input:
        a = a + 1
        print input[a] 
```

为了使用它，您必须知道如何使用程序，尽管它有效，但最终还是有错误，因此您也必须解决它。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-05T10:34:56.603

Python 允许您使用字符串作为迭代器：

```
for character in 'string':
    print(character) 
```

我猜你的工作是弄清楚如何把它变成一个while循环。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-05T14:49:14.893

```
 # make a list out of text - ['h','e','l','l','o']
   text = list('hello') 

   while text:
       print text.pop() 
```

:)

在 python 中，空对象被评估为 false。.pop() 删除并返回列表中的最后一项。这就是它反向打印的原因！

但可以使用以下方法修复：

```
text.pop( 0 ) 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-09-19T20:22:31.107

蟒蛇代码：

```
for s in myStr:
        print s 
```

或者

```
for i in xrange(len(myStr)):
    print myStr[i] 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2020-05-01T06:05:11.623

试试这个...

## 使用 while 循环打印每个字符

```
i=0
x="abc"
while i<len(x) :
    print(x[i],end=" ")
    print(i)
    i+=1 
```

* * *

## 回答 #9

> 赞同：-2
> 
> 时间：2015-04-28T09:10:26.660

这将打印文本中的每个字符

```
text = raw_input("Give some input:  ")
for i in range(0,len(text)):
   print(text[i]) 
```

# jquery - 如何为 iphone 或 android 使用不同的样式表？

> ID：15221520
> 
> 赞同：2
> 
> 时间：2013-03-05T10:31:45.167
> 
> 标签：jquery, css, detection

我正在尝试制作一个页面，其中某些元素仅对 android 和 iphone 可见。我正在考虑使用简单的 css 属性来隐藏元素，例如：

HTML：

```
<style>img{ display:none;} </style>

<img src="img1.jpg" class="other">
<img src="img2.jpg" class="iphone android">
<img src="img3.jpg" class="iphone">
<img src="img4.jpg" class="android">
<img src="img5.jpg" class="iphone android other"> 
```

CSS 1（适用于不同于 iphone / android 的设备）

```
.other{ display:inline;} 
```

CSS 2（适用于 iPhone）

```
.iphone{ display:inline;} 
```

CSS 3（适用于机器人）

```
.android{ display:inline;} 
```

我现在需要的只是以某种方式检测设备（我相信它可以通过 jQuery 完成并实现正确的 CSS 样式表）。

所以效果会是：

img1：仅在 iphone 和 android 以外的设备上显示

img2：仅在 iphone 和 android 设备上显示

img3：仅在 iphone 上显示

img4：仅在安卓设备上显示

img5：仅在所有设备上显示

如何让浏览器选择正确的样式表？我知道如何通过分辨率来做到这一点，但我知道对于操作系统它的工作方式不同并且可以在 jquery 中完成。如果我可以在一个部分中完成就完美了，这样我就可以在整个页面上使用样式。感谢您的时间和帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T10:44:52.637

另外，看看conditionizr，它似乎非常适合您的需求[http://conditionizr.com/](http://conditionizr.com/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-05T10:38:37.747

你可以这样做`javascript`：

根据这几点

```
img1: displayed only on devices other than iphone and android    
img2: displayed only on iphone and android devices
img3: displayed only on iphones    
img4: displayed only on android devices
img5: displayed only on all devices 
```

**CSS**

```
.show{display:block;}
.hide{display:none;} 
```

**HTML**

```
<div id="imageContainer">
    <img src="img1.jpg" id="image1" class="hide">
    <img src="img2.jpg" id="image2" class="hide">
    <img src="img3.jpg" id="image3" class="hide">
    <img src="img4.jpg" id="image4" class="hide">
    <img src="img5.jpg" id="image5" class="hide">
</div> 
```

**脚本**

```
var IS_IPHONE = navigator.userAgent.match(/iPhone/i) != null;
var IS_ANDROID = navigator.userAgent.match(/Android/i)  != null;

if(IS_IPHONE)
{
    $('#image3, #image2').removeClass('hide').addClass('show');
}
else if(IS_ANDROID)
{
    $('#image4, #image2').removeClass('hide').addClass('show');
}
else
{
    $('#image1').removeClass('hide').addClass('show');
}
$('#image5').removeClass('hide').addClass('show'); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-05T10:38:41.240

我们可以通过使用 javascript / jquery `navigator`obj 来实现这一点，

```
 <img id="img1" src="img1.jpg" class="other">
  <img id="img2" src="img2.jpg" class="iphone android">
  <img id="img3" src="img3.jpg" class="other">

   if ((navigator.userAgent.match(/iPhone/)) || (navigator.userAgent.match(/iPod/))) {
     // changing class of the dom element
     $('#img2').addClass('iphone');
     $('.iphone').show();
   }

   else if (navigator.userAgent.match(/Android/)) {
    $('#img2').addClass('android');
    $('.android').show();
   } 

   else {
     $('#img1').addClass('other');
     $('#img3').addClass('other');
     $('.other').show();
  } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-05T10:43:32.260

使用一个简单的 php 代码来执行此操作，该代码根据设备加载正确的 css：

```
<?php 
$iphone = strpos($_SERVER['HTTP_USER_AGENT'],”iPhone”);
$android = strpos($_SERVER['HTTP_USER_AGENT'],”Android”); 
$palmpre = strpos($_SERVER['HTTP_USER_AGENT'],”webOS”);
$ipod = strpos($_SERVER['HTTP_USER_AGENT'],”iPod”); 
if($iphone) { ?>
    <link rel="stylesheet" type="text/css" href="iphone.css">
<?php }  else if ($android) { ?>
    <link rel="stylesheet" type="text/css" href="android.css">
<?php } ?> 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-05T11:55:43.787

我的代码与其他解决方案的不同之处在于您不应用样式或动态读取 DOM — 您检测设备、设置类并让 CSS 完成其余工作。这意味着您可以立即运行脚本（不知道需要多少图像或其他内容），然后根据需要扩展您的 HTML 和 CSS。它的性能也更高，并且不需要任何库。

首先，更改您的 CSS 以匹配以下内容：

```
img{
  display:none;
}

html.other .other{
  display:inline;
}

html.iphone  .iphone {
  display:inline;
}

html.ipad    .ipad   {
  display:inline;
}

html.android .android{
  display:inline;
} 
```

基本上，我们依靠 HTML 上的一个类来推断设备是什么。如果您想要通用 iOS，那么您可以向图像添加另一个类并添加以下内容：

```
html.ipad    .ios,
html.iphone  .ios    {
  display:inline;
} 
```

然后我们运行一些脚本来推断并根据用户代理字符串应用它（恐怕只能推断，这是我们能做的最好的事情！）：

```
void function setUAclass(){
  var ua      = navigator.userAgent.toLowerCase();
  var agent   = 'other';
  var classes = [
    'ipad',
    'iphone',
    'android'
  ];

  for(var i = 0, l = classes.length; i < l; ++i){
    if(ua.indexOf(classes[i]) >= 0){
      agent = classes[i]
    }
  }

  document.lastElement.className += ' ' + agent;
}(); 
```

您可以在文档中的任何位置不使用 jQuery 运行它。无需等待 DOM 准备就绪，因为在任何脚本可以执行`document.lastElement`时`navigator.userAgent`总是随时可用。

# css - 两个固定宽度的 div 和一个动态的（无内容）

> ID：15221521
> 
> 赞同：1
> 
> 时间：2013-03-05T10:31:48.333
> 
> 标签：css, dynamic, width, fixed, multiple-columns

我想要3列

这是我的代码

```
div id="boundaries">
<div id="fenceleft"><img src="<?php bloginfo('stylesheet_directory'); ?>/img/fencescew.png" alt="fencescew" width="52" height="92" /></div>
<div id="fence"></div>
<div id="fenceright"><img src="<?php bloginfo('stylesheet_directory'); ?>/img/fencescew.png" alt="fencescew" width="52" height="92" /></div>
</div> 
```

和 CSS

```
#boundaries {
overflow: hidden;
position:absolute;
top:240px;
display:block;
width:100%;
max-width: 1395px;
height:92px;
z-index: 15;
}

#fenceleft {
float:left;
display: block;
width:52px;
max-width: 52px;
height:92px;
}

#fenceleft IMG {
-moz-transform: scaleX(-1); /* For Mozilla Firefox */
-o-transform: scaleX(-1);   /* For Opera */
-webkit-transform: scaleX(-1); /* For Safari, Google chrome */

/* For IE */
filter: FlipH;
-ms-filter: "FlipH";
}

#fence {
float: left;
background: url(img/fence.png) repeat-x;
display: block;
height:82px;
}

#fenceright {
float:right;
display: block;
width:52px;
max-width: 52px;
height:92px;
} 
```

在边界 div 内，我希望左栅栏和右栅栏包含它们所做的固定宽度图像。我希望#fence div 填充两个 div 之间的剩余空间，右侧图像需要固定在页面的右侧，左侧是左侧。剩下的我想要一个 div。

**注意这个问题很常见，但我的问题很独特。** 问题是中间或'#fence' div 没有内容，只有背景图像。使用这个选定的代码没有任何显示，因为它没有填充宽度的内容。

总结一下我想要 [52px div 固定在左边] [剩余宽度 div] [52px div 固定在右边]

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T11:33:28.917

据我了解，您需要这样的东西：

html:

```
<div class="leftFence"></div>
<div class="center"></div>
<div class="rightFence"></div> 
```

CSS：

```
.leftFence,
.rightFence {
    position: fixed;
    height: 100%;
    width: 52px;
    background: red;
    top: 0;
}
.leftFence {
    left: 0;
}
.rightFence {
    right: 0;
}
.center {
    margin: 0 52px;
    height: 100px;
    background: gray;
} 
```

[演示](http://jsfiddle.net/gZcBD/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-05T11:30:03.280

```
#fixwidth1{
width:52px;

}

#fixwidth2{
width:52px;

}

#dynamicwidth{
width:calc(100%-104px); //i.e 100% width of browser - sum of two fixed width 
background:#114455;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T11:04:12.810

`boundaries`将div 的css 更改为：

```
#boundaries {
   overflow: hidden;
   position:absolute;
   top:240px;
   display:block;
   left:0;
   right:0;
   height:92px;
   z-index: 15;
} 
```

这将正确地将您的整个内容宽度缩放到屏幕分辨率，nvr 曾经给出宽度，例如`width:1395px`. 因为你让你的`boundaries`容器是绝对的，你可以使用它的顶部、左侧、右侧底部值（以及宽度和高度）来拉伸它；

现在将您的`fenceleft`CSS更改为：

```
#fenceleft {
    position: relative;
    float:left;
    left:0;
    width:10%;
    height:100%;
} 
```

所以现在，对于任何分辨率，您的左栅栏将始终位于其父级即`boundaries`div 左边框的左侧 0 处。并给它一个百分比高度，这样，每当你需要调整高度时，你只需要调整父母班级，只需要一个班级。

将您的 fenceright css 更改为：

```
#fence {
    position: relative;
    height:100%;
    width:80%;
    float: left;
} 
```

现在注意：由于您已放置`float:left`在`fenceleft`div 上，栅栏将与自身对齐，即距边界（父）div 的左边界 10%（fenceleft 的宽度）。

此外，由于它的宽度为 80%，这意味着 80%+10%（从左侧）=90%，因此 100-90 = 10%，即`fence`div 右侧剩余 10% 的宽度。您可以在其中放置您的`fenceright`

把你改成`fenceright`这样：

```
#fenceright {
    position: relative;
    left:90%;
    width:10%;
    height:100%;
    border:Solid 1px #666666;
} 
```

现在你所有的 div 都正确对齐了，没有水平滚动，覆盖了屏幕的整个水平宽度。不要直接复制和粘贴这些。相应地组织你的CSS，做数学。考虑一系列分辨率，而不仅仅是您的屏幕。

[读这个。](http://alistapart.com/article/css-positioning-101)它会帮助你。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-05T11:19:09.877

在 html 中，中心 div 必须在左右 div 之后。

```
<div id="boundaries">
     <div id="fenceleft"><img src=""  width="52" height="92" /></div>
     <div id="fenceright"><img src="" width="52" height="92" /></div>
     <div id="fence"></div>
</div> 
```

在 CSS 中 **margin: 0 auto**让中心 div 填充剩余部分，并且必须给出中心 div 的**宽度。**#fence { 边距：0 自动；背景：url（）重复-x；显示：块；高度：92px；宽度：700px；位置：相对；
}

```
#fenceright {
     position:relative;
     float:right;
     display: block;
     width:52px;
     max-width: 52px;
     height:92px;
} 
```

嗨，一个例子，[见这里](http://jsfiddle.net/useED/.)。我希望这可以帮助你。

# antlr - 语法中的致命错误 - 分段定义

> ID：15221523
> 
> 赞同：1
> 
> 时间：2013-03-05T10:31:49.680
> 
> 标签：antlr, antlr3, context-free-grammar

我正在将语法从 LALR 翻译为 ANTLR，但在翻译这一规则时遇到了麻烦，即分段表达式。

附上示例语法：

```
grammar Test;
options {
  language = Java;
  output = AST;
}

parse : expression ';'
      ;

expression : binaryExpression
           | piecesExpression
           ;

binaryExpression : addingExpression (('=='|'!='|'<='|'>='|'>'|'<') addingExpression)*
                 ;

addingExpression : multiplyingExpression (('+'|'-') multiplyingExpression)*
                 ;

multiplyingExpression : unaryExpression 
                        (('*'|'/') unaryExpression)*
                      ;

unaryExpression: ('!'|'-')* primitiveElement;   

primitiveElement : literalExpression
                 | id
                 | '(' expression ')'
                 ;  

literalExpression : INT
                  ;              

id : IDENTIFIER
   ;

piecesExpression : 'piecewise' '{' piece expression '}'  ('(' expression ',' expression ')')? expression?
                 ;

piece : expression '->' expression ';' (expression '->' expression ';')*
      ;

// L E X I C A L   R U L E S      

INT : DIGITS ;   

IDENTIFIER : LETTER (LETTER | DIGIT)*;

WS  :   ( ' '
        | '\t'
        | '\r'
        | '\n'
        ) {$channel=HIDDEN;}
    ;

fragment LETTER : ('a'..'z' | 'A'..'Z' | '_') ;
fragment DIGITS: DIGIT+;
fragment DIGIT : '0'..'9'; 
```

ANTLR v3.5 抱怨piecesExpression 规则。它有 2 个致命错误，我宁愿不使用回溯选项。

预期成绩：

```
piecewise {t -> s; t -> x; 100}
piecewise {t -> s; t -> x; 100} (0, x+1) 
piecewise {t -> s; t -> x; 100} (0, x+1) y+5 
```

piecesExpression 是如何捕捉到上述结果的呢？

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T11:22:36.583

ANTLR 在确定（至少）2 种情况下采用哪些替代方案时存在问题：

1.  `piece`以 a 开头，`expression`但在 内部`piecewise{...}`，它也应该以 a 结尾`expression`
2.  `piecesExpression`结尾，`'(' expression ...`但也有一个可选的尾随`expression`（并且依次`primitiveElement`匹配）`'(' expression ...`

无需使用全局回溯，但无需重写许多规则，您确实需要添加一些谓词（`(...)=>`在下面的示例中）来解决上述两个问题。

试试这个：

```
piecesExpression
 : 'piecewise' '{' ((expression '->')=> piece)+ expression '}' 
     ( ('(' expression ',')=> '(' expression ',' expression ')' expression?
     |                        expression
     )
 ;

piece
 : expression '->' expression ';'
 ; 
```

# c# - ASP 自定义服务器控制数据流

> ID：15221529
> 
> 赞同：0
> 
> 时间：2013-03-05T10:32:05.070
> 
> 标签：c#, .net, asp.net-customcontrol

我必须构建一个自定义控件，我将在其中呈现一个我应该接受输入的文本框，并且在文本框更改事件中，我必须保留一个满足我从输入中获取的搜索字符串的对象列表，应该公开随时取用。我不知道如何对控件背后的代码进行异步调用。我对自定义控件非常陌生，最近我只开发了一个呈现一些 div 的控件。我对此感到非常困惑，任何人都可以告诉我如何做到这一点吗？我不是要代码，我可以自己弄清楚，但我缺少关于 asp 自定义控件的想法或一般知识。

# youtube-api - 如何从 YT API 获取注释数据

> ID：15221531
> 
> 赞同：1
> 
> 时间：2013-03-05T10:32:06.107
> 
> 标签：youtube-api

我搜索了文档，但不知道如何通过 API 在我的视频上获取注释。有人可以指出我正确的方向吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T18:22:20.847

注释现在无法通过 API 访问，但很快就会启用此功能。

# php - Expedia API 请求返回 XML 结果，但无法从中提取数据

> ID：15221533
> 
> 赞同：-1
> 
> 时间：2013-03-05T10:32:10.663
> 
> 标签：php, arrays

我不知道为什么，可能我只是愚蠢，但我已经尝试从 Expedia API 请求中提取内容超过 2 小时了。可能我今天在这个网站上工作了很长时间，所以我看不到一个简单的错误，但无论如何我没有找到它。API 请求“HotelList”对我造成了这个问题，获取 HotelDetails 并从返回的 XML 输出中提取数据工作得很好，并且在第一次尝试时工作得很好。

我的请求得到的请求/结果如下所示：

```
$result = $search->getHotels($dataArray);

--------------------------------------------

RESULT (print_r) LOOKS LIKE THIS

    Array
(
    [current_search] => Array
        (
            [check_in] => 05/08/2013
            [check_out] => 05/13/2013
        )

    [title] => 
    [hotels] => SimpleXMLElement Object
        (
            [customerSessionId] => XXXXXXXXXXXXX
            [numberOfRoomsRequested] => 1
            [moreResultsAvailable] => true
            [cacheKey] => XXXXXXXXXXXXXXXXX
            [cacheLocation] => XXXXXXXXXXXXXX
            [cachedSupplierResponse] => SimpleXMLElement Object
                (
                    [@attributes] => Array
                        (
                            [matchedLocale] => true
                            [matchedCurrency] => true
                            [tpidUsed] => 5102
                            [otherOverheadTime] => 5
                            [candidatePreptime] => 62
                            [supplierResponseTime] => 1950
                            [supplierResponseNum] => 5
                            [supplierRequestNum] => 513
                            [cachedTime] => 0
                            [supplierCacheTolerance] => NOT_SUPPORTED
                        )

                )

            [HotelList] => SimpleXMLElement Object
                (
                    [@attributes] => Array
                        (
                            [activePropertyCount] => 562
                            [size] => 5
                        )

                    [HotelSummary] => Array
                        (
                            [0] => SimpleXMLElement Object
                                (
                                    [@attributes] => Array
                                        (
                                            [ubsScore] => 2147483647
                                            [order] => 0
                                        )

                                    [hotelId] => 126913
                                    [name] => The New Yorker Hotel
                                    [address1] => 481 Eighth Ave.
                                    [city] => New York
                                    [stateProvinceCode] => NY 
```

我一直在尽一切努力获得这家酒店的名称，但我什至无法提取 check_in 返回结果或类似的东西。我只是在尝试这样的东西：

```
echo $result->hotels->HotelList->HotelSummary[0]->name;
echo $result->HotelList->HotelSummary[0]->name;
echo $result->$HotelSummary[0]->name; or
echo $result->current_search->check_in; 
```

可能像其他 20 种组合一样，但根本没有输出。

我真的希望有人可以在这里帮助我。

最好的问候托马斯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T10:37:17.470

它看起来像：`$result['hotels']->HotelList->HotelSummary[0]->name;` 但是obv。未经测试。

# c# - 由于 API 速率限制，无法获取用户 ID 列表的 screenName。我能做些什么？linqtotwitter c#

> ID：15221534
> 
> 赞同：1
> 
> 时间：2013-03-05T10:32:10.633
> 
> 标签：c#, twitter, linq-to-twitter

我的应用程序中有一个函数可以查找用户关注者的 ID。但我想获取这些关注者的屏幕名称。

我试图直接获取 Followers.screenName 但它不起作用，因为关注者类型是 SocialGraph 而不是字符串！我试图在字符串上转换它，但我不能，因为它返回一个列表。

例如，当我搜索拥有 1680 个关注者的人时，它会导致问题。它给了我错误：超出了速率限制。

我想知道是否可以用一组用户 ID 做同样的事情而不超过 API 的速率限制？我正在与 lintotwitter 合作...

我能做些什么？

我的代码如下：

```
 public List<string> RecupererFollower()
        {
            List<string> idFollowers=new List<string>();
            var followers =
                (from follower in MainPage.twitterCtxProp.SocialGraph
                 where follower.Type == SocialGraphType.Followers &&
                       follower.ScreenName == MainPage.texte 
                 select follower)
                 .ToList();
            idFollowers = followers[0].IDs;

            return idFollowers;

        }

        public List<User> GetScreenName()
        {
            List<string>idFollowers=RecupererFollower();
            int nbfollower = idFollowers.Count();
            List<User> listeFollowers = new List<User>();

            for (int i = 0; i < nbfollower; i++)
                {
                var usersResponse =
                   (from user in MainPage.twitterCtxProp.User
                    where user.Type == UserType.Lookup &&
                         user.UserID == idFollowers[i]
                    select user).SingleOrDefault();

                Users = new User                                                 //Un utilisateur est créé grâce aux données récupérées précédemment.

               {
                   Name = usersResponse.ScreenName,
                   Text = usersResponse.Status.Text,
                   ImageUrl = usersResponse.ProfileImageUrl,
                   Bio = usersResponse.Description,
                   Url = usersResponse.Url,
                   NbFollowers = usersResponse.FollowersCount,
                   NbFavorite = usersResponse.FavoritesCount,
                   NbStatus = usersResponse.StatusesCount,
                   NbFollowing = usersResponse.FriendsCount,
                   NbListe = usersResponse.ListedCount,
                   Timezone = usersResponse.TimeZone,
                   Location = usersResponse.Location,
               };
                listeFollowers.Add(Users);
                }
            return listeFollowers;
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T14:27:16.597

Twitter API 正在设置速率限制。限制是一个时间窗口内的一定数量的请求。时间窗口通常为 15 分钟。对于 Lookup，速率限制为 180。您可以使用 HelpType.RateLimits 查询：[http](http://linqtotwitter.codeplex.com/wikipage?title=Getting%20Rate%20Limits) ://linqtotwitter.codeplex.com/wikipage?title=Getting%20Rate%20Limits - 这将让您编写代码来计算速率极限是。然后，您可以最大化您的速率限制并等到下一个窗口继续。

# jquery - Flexslider 加载和滑动图像问题？

> ID：15221535
> 
> 赞同：0
> 
> 时间：2013-03-05T10:32:10.693
> 
> 标签：jquery, apache-flex, twitter-bootstrap, slider, flexslider

我正在为我的新模板使用 flexslider。该模板使用 twitter bootstrap 框架进行编码。但我对滑块有一些问题。滑块根本不加载任何图像，当然也不滑动。我在模板上看到的只是一个带阴影的框（滑块）。我已经搜索过这个问题，我认为这是因为模板和滑块的 jquery 冲突，这是我的源代码，你怎么看？

```
 <!DOCTYPE html>
            <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>Beautiful & Responsive HTML5 Template</title>
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <meta name="description" content="">
                <meta name="author" content="">

                <!-- Le styles -->
                <link href="css/bootstrap.css" rel="stylesheet">
                <link href="css/bootstrap-responsive.css" rel="stylesheet">
                <link href="css/main.css" rel="stylesheet">
                <link href="css/flexslider.css" rel="stylesheet">
                <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Open+Sans">

                <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
                <!--[if lt IE 9]>
                  <script src="js/html5shiv.js"></script>
                <![endif]-->

                <!-- Fav and touch icons -->
                <link rel="apple-touch-icon-precomposed" sizes="144x144" href="ico/apple-touch-icon-144-precomposed.png">
                <link rel="apple-touch-icon-precomposed" sizes="114x114" href="ico/apple-touch-icon-114-precomposed.png">
                  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="ico/apple-touch-icon-72-precomposed.png">
                                <link rel="apple-touch-icon-precomposed" href="ico/apple-touch-icon-57-precomposed.png">
                                               <link rel="shortcut icon" href="ico/favicon.png">
              </head>

              <body>
                        <!-- contact info -->
                        <div class="row" id="firstheader">

                            <div class="span5 offset2">
                                <ul class="topinfo">
                            <li class="email-address">Mo@yahoo.com</li>
                            <li class="phone-number">093</li>
                                </ul>
                            </div>
                            <!-- /contact info -->
                            <!-- Social icons -->
                            <div class="span4">
            <ul class="topsocial">
            <li><a href="http://www.twitter.com/your-username"><span style="background-image:url('img/twitter.png')" class="icon-img"></span></a></li>
            <li><a href="http://www.facebook.com/your-username"><span style="background-image:url('img/facebook.png')" class="icon-img"></span></a></li>
            <li><a href="https://plus.google.com/u/0/"><span style="background-image:url('img/google.png')" class="icon-img"></span></a></li>
            <li><a href="http://linkedin.com/your-username"><span style="background-image:url('img/linkedin.png')" class="icon-img"></span></a></li>
            <li><a href="http://dribbble.com/your-username"><span style="background-image:url('img/dribbble.png')" class="icon-img"></span></a></li>
            </ul>

                            </div>
                            <!-- /Social icons -->

                    </div>
                    <!-- /First Header -->
                <div class="row" id="secondheader">

                            <div class="span3 offset2">
                            <a class="brand" href="#"><img width="196" height="48" alt="Vixual" src="img/logo.png" style="vertical-align: middle;"></a>
                            </div>

                            <div class="span6">

            <nav id="nav">
                <ul id="navigation">
                    <li><a href="#" class="first">Home</a></li>
                    <li><a href="#">Services &raquo;</a>
                        <ul>
                            <li><a href="#">Web Development</a></li>
                            <li><a href="#"><a title="Logo Design" href="http://www.ourtuts.com/35-examples-of-food-inspired-logo-designs/">Logo Design</a></a></li>
                            <li><a href="#">Identity & Branding &raquo;</a>
                                <ul>
                                    <li><a href="#">Business Cards</a></li>
                                    <li><a href="#">Brochures</a></li>
                                    <li><a href="#">Envelopes</a></li>
                                    <li><a href="#">Flyers</a></li>
                                </ul>                   
                            </li>                   
                            <li><a href="#"><a title="Wordpress" href="http://www.ourtuts.com/wordpress-themes-january-2013/">WordPress</a></a></li>
                        </ul>
                    </li>
                    <li><a href="#">Portfolio &raquo;</a>
                        <ul>
                            <li><a href="#">Graphic Design</a></li>
                            <li><a href="#">Photography</a></li>
                            <li><a href="#">Architecture</a></li>
                            <li><a href="#">Calligraphy</a></li>
                            <li><a href="#">Film &raquo;</a>
                                <ul>
                                    <li><a href="#">John Carter</a></li>
                                    <li><a href="#">The Avengers</a></li>
                                    <li><a href="#">The Amazing SpiderMan</a></li>
                                    <li><a href="#">Madagascar 3</a></li>
                                </ul>                       
                            </li>
                            <li><a href="#">Graffity </a></li>
                        </ul>               
                    </li>
                    <li><a href="#">Testimonials</a></li>
                    <li><a href="#">Blog</a></li>
                    <li><a href="#" class="last">Contact</a></li>
                </ul>
            </nav>

                            </div>

                </div> 
            <div class="container">
                    <div class="span5" id="slider">
                    <section class="slider">
                    <div class="flexslider">
                      <ul class="slides">
                        <li>
                            <img src="img/kitchen_adventurer_cheesecake_brownie.jpg" />
                            </li>
                            <li>
                            <img src="img/kitchen_adventurer_lemon.jpg" />
                            </li>
                            <li>
                            <img src="img/kitchen_adventurer_donut.jpg" />
                            </li>
                            <li>
                            <img src="img/kitchen_adventurer_caramel.jpg" />
                            </li>
                      </ul>
                    </div>
                    </section>
                    </div>
                <!-- /slider -->
                <div class="row-fluid">
                    <div class="span12">

                        <div class="row-fluid">
                            <div class="span2"></div>
                            <div class="span8">Fluid 6</div>
                            <div class="span2"></div>
                        </div>
                    </div>
                </div>
            </div> <!-- /container -->

                <!-- Le javascript
                ================================================== -->
                <!-- Placed at the end of the document so the pages load faster -->
                <script src="js/bootstrap-transition.js"></script>
                <script src="js/bootstrap-alert.js"></script>
                <script src="js/bootstrap-modal.js"></script>
                <script src="js/bootstrap-dropdown.js"></script>
                <script src="js/bootstrap-scrollspy.js"></script>
                <script src="js/bootstrap-tab.js"></script>
                <script src="js/bootstrap-tooltip.js"></script>
                <script src="js/bootstrap-popover.js"></script>
                <script src="js/bootstrap-button.js"></script>
                <script src="js/bootstrap-collapse.js"></script>
                <script src="js/bootstrap-carousel.js"></script>
                <script src="js/bootstrap-typeahead.js"></script>

              <!-- jQuery -->
              <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>

              <!-- FlexSlider -->
              <script src="js/jquery.flexslider.js"></script>

             <script type="text/javascript">
            jQuery = jQuery.noConflict();
            jQuery(window).load(function() {
            jQuery('.featured-slider').flexslider();
            });

            </script>
              </body>
                </html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-08T22:12:18.657

你在一个不存在的元素上调用 flexslider

```
jQuery('.featured-slider').flexslider(); 
```

这应该是：

```
jQuery('.flexslider').flexslider(); 
```

# bash - 将 bash 中的组合 Alt、Primary 捕获到变量

> ID：15221536
> 
> 赞同：0
> 
> 时间：2013-03-05T10:32:14.143
> 
> 标签：bash, variables, keyboard-shortcuts

是否可以在以下示例中捕获 ++ B （例如）：

```
#!/bin/bash

echo "give your key combination and press <ENTER>:"

read input

echo $input 
```

我需要 B 从字面上看作为一个变量。= Ctrl 按钮

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T12:19:45.473

我会说不。使用不同的语言。如果您完全绝望，您可能会尝试其中一种[hack](http://mywiki.wooledge.org/ReadingFunctionKeysInBash)，但我不认可它们（除了 KEYBD 陷阱，它不是 Bash）。

# asp.net - 将 COllection 绑定到 Gridview

> ID：15221538
> 
> 赞同：2
> 
> 时间：2013-03-05T10:32:15.057
> 
> 标签：asp.net, gridview, collections

```
List<Person> pList = new List<Person>();
            pList.Add(new Person(1, "John", "", "Shields", 29, 'M'));
            pList.Add(new Person(2, "Mary", "Matthew", "Jacobs", 35, 'F'));
            pList.Add(new Person(3, "Amber", "Carl", "Agar", 25, 'M'));
            pList.Add(new Person(4, "Kathy", "", "Berry", 21, 'F'));
            pList.Add(new Person(5, "Lena", "Ashco", "Bilton", 33, 'F'));
            pList.Add(new Person(6, "Susanne", "", "Buck", 45, 'F'));
            pList.Add(new Person(7, "Jim", "", "Brown", 38, 'M'));
            pList.Add(new Person(8, "Jane", "G", "Hooks", 32, 'F'));
            pList.Add(new Person(9, "Robert", "", "", 31, 'M'));
            pList.Add(new Person(10, "Cindy", "Preston", "Fox", 25, 'F'));
            pList.Add(new Person(11, "Gina", "`enter code here`", "Austin", 27, 'F'));
            pList.Add(new Person(12, "Joel", "David", "Benson", 33, 'M'));
            pList.Add(new Person(13, "George", "R", "Douglas", 55, 'M'));
            pList.Add(new Person(14, "Richard", "", "Banks", 22, 'M'));
            pList.Add(new Person(15, "Mary", "C", "Shaw", 39, 'F'));
            gv1.DataSource = pList;
            gv1.DataBind(); 
```

我想在 gridview 中显示选定的字段。如何使用 EVAL 函数呢？还如何使用 DataField 属性？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:36:50.187

嗨，您可以像使用 ItemTemplate

```
<asp:GridView ID="GridView1" runat="server">
   <Columns>
    <asp:TemplateField>
        <ItemTemplate>
            <%# Eval("Name")%>
            <br/>
            <%# Eval("Age")%>
        </ItemTemplate>
    </asp:TemplateField>
    </Columns>
</asp:GridView> 
```

或查看以下链接：

[http://www.dotnetspider.com/resources/29877-Binding-Gridview-generic-list.aspx](http://www.dotnetspider.com/resources/29877-Binding-Gridview-generic-list.aspx)

# javascript - onmouseout 什么时候发生？

> ID：15221542
> 
> 赞同：0
> 
> 时间：2013-03-05T10:32:22.623
> 
> 标签：javascript, events, onmouseout

我的意思是当鼠标不在元素上时，它是否每时每刻都会发生？还是鼠标离开元素时的单个动作？这很重要，因为我需要知道鼠标指针何时离开元素，但我只需要知道它何时再次进入。我不希望我的脚本在鼠标指针不在元素上方时一遍又一遍地运行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T10:33:43.370

> 当用户将鼠标移出元素时触发 mouseout 事件。不幸的是，这些事件冒了出来。

[http://www.quirksmode.org/dom/events/mouseover.html](http://www.quirksmode.org/dom/events/mouseover.html)

如果您不希望事件冒泡，请添加`event.stopPropagation();`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:34:56.983

> 当鼠标离开一个元素时会引发 mouseout 事件（例如，当鼠标移出网页中的图像时，会针对该图像元素引发 mouseout 事件）。

**来源：** [MDN](https://developer.mozilla.org/en-US/docs/DOM/element.onmouseout)

这意味着它只发生一次而不是连续发生，因为鼠标只能在单个时间点离开元素。一旦鼠标离开元素，事件就会被触发。

# pentaho - 厨房被杀

> ID：15221543
> 
> 赞同：3
> 
> 时间：2013-03-05T10:32:26.810
> 
> 标签：pentaho, kettle, data-integration

我正在为 ETL 使用 pentaho 数据集成。我在 ubuntu 服务器中将作业作为 shell 脚本运行。它运行了一段时间后被杀死而没有抛出任何错误。请帮我解决问题并告诉我是否遗漏任何问题。

日志：

```
INFO  14-03 11:46:52,369 - set_var - Dispatching started for transformation         [set_variable]
INFO  14-03 11:46:52,370 - Get rows from result - Finished processing (I=0, O=0, R=1, W=1, U=0, E=
INFO  14-03 11:46:52,370 - Set var - Setting environment variables...
INFO  14-03 11:46:52,371 - Set var - Set variable BOOK_PATH to value [...........]
INFO  14-03 11:46:52,371 - Set var - Set variable FOLDER_NAME to value [...........]
INFO  14-03 11:46:52,375 - Set var - Finished after 1 rows.
INFO  14-03 11:46:52,375 - Set var - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
INFO  14-03 11:46:52,377 - validate - Starting entry [file]
INFO  14-03 11:46:52,378 - file - Loading transformation from XML file 
INFO  14-03 11:46:52,386 - file - Dispatching started for transformation [file][file:///c:/check/file.txt]
INFO  14-03 11:46:52,390 - path - Optimization level set to 9.
INFO  14-03 11:46:52,391 - filename - Finished processing (I=0, O=0, R=0, W=13, U=0, E=0)
INFO  14-03 11:46:52,403 - path - Finished processing (I=0, O=0, R=13, W=13, U=0, E=0)
INFO  14-03 11:46:52,407 - filenames - Finished processing (I=0, O=14, R=13, W=13, U=0, E=0)
INFO  14-03 11:46:52,409 - validate - Starting entry [Check_database]
INFO  14-03 11:46:52,410 - Check_database - Loading transformation from XML file[file:///c:/check/missing.ktr]
INFO  14-03 11:46:52,418 - count - Dispatching started for transformation [count]
INFO  14-03 11:46:52,432 - count - Finished reading query, closing connection.
INFO  14-03 11:46:52,433 - Set var - Setting environment variables...
INFO  14-03 11:46:52,433 - count - Finished processing (I=1, O=0, R=0, W=1, U=0, E=0)
INFO  14-03 11:46:52,433 - Set var - Set variable Count to value [0]
INFO  14-03 11:46:52,436 - Set var - Finished after 1 rows.
INFO  14-03 11:46:52,436 - Set var - Finished processing (I=0, O=0, R=1, W=1, U=0, E=0)
Killed ` 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2021-03-26T22:31:23.120

很可能您的机器无法从转换中提供内存需求，因此默默地杀死它。您可以通过调整spoon.sh 文件中的PENTAHO_DI_JAVA_OPTIONS 选项来修改PDI 内存分配。我有同样的问题，下面是我所做的：

*   在我的系统中创建了一个环境变量 PENTAHO_DI_JAVA_OPTIONS。如果未设置此变量，厨房将使用其默认值。创建此系统变量使我可以控制根据转换复杂性减少或增加内存分配（至少用于在我的本地机器上进行测试）。
*   我的机器有 8G 内存，包括厨房在内的所有过程都已经用完了。因此减少了 PDI 内存需求`export PENTAHO_DI_JAVA_OPTIONS=-Xms1g -Xmx3g`。分钟。1G 和最大 3G。

我可能错了，但它对我有用，即使转换引发了 GC 内存中断错误。至少它没有被无声无息地杀死。

不必在专用的独立服务器中进行上述设置，因为除了 PDI 之外没有其他进程在其中工作。

当进程被静默杀死时，我正在使用 PDI 8.3，iOS BigSur。

希望这可以帮助某人:)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-22T13:43:09.317

很可能您的内存不足。在运行 ETL 时检查您机器的资源。

# svn - svn merge：奇怪的树冲突

> ID：15221544
> 
> 赞同：1
> 
> 时间：2013-03-05T10:32:37.247
> 
> 标签：svn, tortoisesvn, svn-merge, tree-conflict

我在 SVN 中遇到树冲突。有点奇怪！

我有标准的主干、分支、标签结构，并遵循多团队模型。Branch1、Branch2 是从 Trunk 和 active 并行创建的

遵循的步骤：
1 `Branch1 Work`.：`newfile.c`添加并提交`Branch1`
2 `Merge`.：从 Branch1 -> Trunk（成功；文件添加到 Trunk）
3 `Merge`.：从 Trunk -> Branch2 向下合并。（成功；在 Branch2 中添加文件）
4\. `Branch2 Work`：执行常规的 Branch2 工作并提交。
5\. `Merge`: 从 Branch2 到 Trunk => 这一步会引发 Tree-conflict for`newfile.c`

`newfile.c`Branch2 团队遇到了他们根本没有接触过的树冲突。为什么会这样。请问有什么建议可以避免吗？这个问题困扰着我很多。

PS：我使用了 TortoiseSVN 客户端 1.6.0 和 TortoiseSVN 1.6.16 - 32 位（分别使用）

合并错误（以上步骤 5）：

```
>svn merge file:///E:/Treeconflict_test/svnRepo/Branches/Br2 Trunk
--- Merging r3 through r8 into 'Trunk':
   C Trunk\src\ARTransactionFeeDto2.java
U    Trunk\pom.xml
 G   Trunk
Summary of conflicts:
  Tree conflicts: 1

>svn status Trunk
 M      Trunk
      C Trunk\src\ARTransactionFeeDto2.java
      >   local obstruction, incoming add upon merge
M       Trunk\pom.xml 
```

PFB svn repo 日志（以上步骤 1-4）：

```
>svn log -v file:///E:/Treeconflict_test/svnRepo
------------------------------------------------------------------------
r8 | rohit | 2013-03-05 16:30:35 +0530 (Tue, 05 Mar 2013) | 1 line
Changed paths:
   M /Branches/Br2/src/ARTransactionFeeDto2.java

br2 branch changes
------------------------------------------------------------------------
r7 | rohit | 2013-03-05 16:29:34 +0530 (Tue, 05 Mar 2013) | 1 line
Changed paths:
   M /Branches/Br2
   M /Branches/Br2/pom.xml
   A /Branches/Br2/src/ARTransactionFeeDto2.java (from /Trunk/src/ARTransactionF
eeDto2.java:6)

dowm-merge from Trunk to branch-Br2
------------------------------------------------------------------------
r6 | rohit | 2013-03-05 16:26:56 +0530 (Tue, 05 Mar 2013) | 1 line
Changed paths:
   M /Branches/Br2/pom.xml

br2 branch changes
------------------------------------------------------------------------
r5 | rohit | 2013-03-05 16:22:26 +0530 (Tue, 05 Mar 2013) | 1 line
Changed paths:
   M /Trunk
   M /Trunk/pom.xml
   A /Trunk/src/ARTransactionFeeDto2.java (from /Branches/Br1/src/ARTransactionFeeDto2.java:4)

up-merge from branch-Br1 to Trunk
------------------------------------------------------------------------
r4 | rohit | 2013-03-05 16:20:48 +0530 (Tue, 05 Mar 2013) | 1 line
Changed paths:
   M /Branches/Br1/pom.xml
   A /Branches/Br1/src/ARTransactionFeeDto2.java

br1 changes
------------------------------------------------------------------------
r3 | rohit | 2013-03-05 16:19:07 +0530 (Tue, 05 Mar 2013) | 1 line
Changed paths:
   A /Branches/Br2 (from /Trunk:2)

created branch br2
------------------------------------------------------------------------
r2 | rohit | 2013-03-05 16:18:57 +0530 (Tue, 05 Mar 2013) | 1 line
Changed paths:
   A /Branches/Br1 (from /Trunk:1)

created branch Br1
------------------------------------------------------------------------
r1 | rohit | 2013-03-05 16:18:13 +0530 (Tue, 05 Mar 2013) | 1 line
Changed paths:
   A /Branches
   A /Tags
   A /Trunk
   A /Trunk/pom.xml
   A /Trunk/src
   A /Trunk/src/ARTransactionFeeDelegateResponse.java
   A /Trunk/src/ARTransactionFeeDto.java
   A /Trunk/src/ResponseARTransFeeDtlsDto.java

initial commit Trunk
------------------------------------------------------------------------ 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T11:54:03.447

~~在这个工作流程中这是不可能的，即使是 1.6。您必须显示**所有命令和输出**~~

根据日志，您是2009 版[“Tree Conflict”](http://svn.apache.org/repos/asf/subversion/trunk/notes/tree-conflicts/design-overview.txt)设计文档中提到的[“XFAIL conflict from merge of add over versioned file”的受害者。](https://stackoverflow.com/a/767882/960558)最重要的部分是

> r35341 中的固定期望

而且我不能说，如何将这个修订版翻译成带有错误修复的 TortoiseSVN 版本。我将在我最新的 1.6 ( `TortoiseSVN 1.6.16, Build 21511 - 32 Bit , 2011/06/01 19:00:35`) 上测试您的工作流程。

我的使用日志`TortoiseSVN 1.7.11, Build 23600 - 32 Bit`（所有合并 - 基于 GUI 的本地存储库）

```
>svn log -v file:///Z:/Repo/
------------------------------------------------------------------------
r10 | Badger | 2013-03-05 17:32:32 +0600 (Вт, 05 мар 2013) | 2 lines
Changed paths:
   M /trunk
   M /trunk/Base.txt
   M /trunk/C1.txt
   M /trunk/C2.txt

Merge from branches/b2:

------------------------------------------------------------------------
r9 | Badger | 2013-03-05 17:27:42 +0600 (Вт, 05 мар 2013) | 1 line
Changed paths:
   M /branches/b2/Base.txt
   M /branches/b2/C1.txt
   M /branches/b2/C2.txt

Anfanglichen Deutsch Korperregion
------------------------------------------------------------------------
r8 | Badger | 2013-03-05 17:19:28 +0600 (Вт, 05 мар 2013) | 2 lines
Changed paths:
   M /branches/b2
   M /branches/b2/Base.txt
   M /branches/b2/C1.txt
   M /branches/b2/C2.txt
   A /branches/b2/Reference.txt (from /trunk/Reference.txt:7)

Merge from trunk

------------------------------------------------------------------------
r7 | Badger | 2013-03-05 17:15:29 +0600 (Вт, 05 мар 2013) | 1 line
Changed paths:
   M /trunk
   M /trunk/Base.txt
   A /trunk/Reference.txt (from /branches/b1/Reference.txt:6)

Merge B1 branch changes
------------------------------------------------------------------------
r6 | Badger | 2013-03-05 17:12:26 +0600 (Вт, 05 мар 2013) | 1 line
Changed paths:
   M /branches/b1/Base.txt
   A /branches/b1/Reference.txt

Structure reflected
------------------------------------------------------------------------
r5 | Badger | 2013-03-05 17:09:46 +0600 (Вт, 05 мар 2013) | 1 line
Changed paths:
   M /trunk/C1.txt
   M /trunk/C2.txt

Edition 1
------------------------------------------------------------------------
r4 | Badger | 2013-03-05 17:06:38 +0600 (Вт, 05 мар 2013) | 1 line
Changed paths:
   A /branches/b2 (from /trunk:3)

Branching for task2
------------------------------------------------------------------------
r3 | Badger | 2013-03-05 17:05:49 +0600 (Вт, 05 мар 2013) | 1 line
Changed paths:
   A /branches/b1 (from /trunk:2)

Branching for task1
------------------------------------------------------------------------
r2 | Badger | 2013-03-05 17:03:21 +0600 (Вт, 05 мар 2013) | 1 line
Changed paths:
   A /trunk/Base.txt
   A /trunk/C1.txt
   A /trunk/C2.txt

Basic set
------------------------------------------------------------------------
r1 | Badger | 2013-03-05 16:59:36 +0600 (Вт, 05 мар 2013) | 1 line
Changed paths:
   A /branches
   A /tags
   A /trunk

Imported folder structure
------------------------------------------------------------------------ 
```

**评论**：

我试图尽可能准确地重复你的动作

*   r2-r4 - 准备好的测试区域：主干和两个分支
*   r5 - 更改主干以便有分歧的历史
*   r6 - 在分支 b1 (Reference.txt) 中添加了新文件
*   r7 - 合并分支 b1 到主干（Reference.txt 出现在主干中）
*   r8 - 将主干合并到分支 b2（Reference.txt 出现在 b2 中）
*   r9 - b2 中更改的文件，Reference.txt 未更改
*   r10 - 将 b2 合并到主干没有任何错误

**添加在**

用 1.6.16 测试，得到了描述的结果，即使我在合并树之前已经将**分支文件中的编辑预合并**到树干中

**附加组件 2**

妈的！！！它在最新的 1.7 中也不起作用。它让我发疯

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T08:23:36.673

错误消息可能看起来很神秘，但基本上可以解释问题：

> 局部阻塞，合并时传入添加

您正在将 r3 到 r8 从 BR2 移植到中继中。问题是在 r7 中添加`ARTransactionFeeDto2.java`：

```
r7 | rohit | 2013-03-05 16:29:34 +0530 (Tue, 05 Mar 2013) | 1 line
Changed paths:
   A /Branches/Br2/src/ARTransactionFeeDto2.java (from /Trunk/src/ARTransactionF
eeDto2.java:6) 
```

...但是由于文件已经存在，因此无法将此类更改移植到主干：

```
r5 | rohit | 2013-03-05 16:22:26 +0530 (Tue, 05 Mar 2013) | 1 line
Changed paths:
   A /Trunk/src/ARTransactionFeeDto2.java (from /Branches/Br1/src/ARTransactionFeeDto2.java:4) 
```

Subversion 提供了非常复杂的方法来避免它，但我建议您只使用 TortoiseSVN 进行合并，当提示 r7 中的冲突时，您选择保留本地文件（无论如何这与传入文件相同）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-27T14:21:27.957

I attempted to follow these steps (as closely as I could without the actual list of commands available) with SVN 1.7 and it seemed to work as expected for me.

I think that it may not be working for you because of the '--reintegrate' option that you need to use when merging a branch back into trunk. Are you sure that you used this option every time you merged from either branch back to trunk?

If you did use that option, then please disregard this answer.

# android - 在 Eclipse 中显示日文字符的问题

> ID：15221546
> 
> 赞同：2
> 
> 时间：2013-03-05T10:32:42.847
> 
> 标签：android, eclipse, eclipse-plugin

我的 ecliplse IDE 显示的是垃圾字符，而不是正确的日文字符...

尝试了很多策略，我的编码设置为 UTF-8 ......但仍然没有结果。

附上参考截图..

![我的 String.xml 中的垃圾字符](../Images/55e2531134389e007f44bf50a8f65938.png)

![我正在使用的eclipse版本...](../Images/cd7efd084ee9267c7668e9a11a343a36.png)

任何帮助都将被接受...在此先感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-10-05T03:45:15.357

1.  在您的 Workspace 目录中打开此文件：`<your_workspace_dir>\.metadata\.plugins\org.eclipse.core.runtime\.settings\org.eclipse.ui.ide.prefs`

2.  将此行附加到该文件：`IDE_ENCODINGS_PREFERENCE=EUC-JP'Shift_JIS'`

3.  重启 Eclipse
4.  打开设置：窗口 > 首选项 > 常规 > 工作区 > 文本文件编码。在`Other:`下拉列表中选择“EUC-JP”。

5.  好的->重新打开该文件；

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T15:21:17.430

1.  打开 eclipse 主文件夹中的 eclipse.ini 配置文件
2.  添加新参数 -Dfile.encoding=SJIS
3.  关闭并打开日食。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-25T16:00:06.237

xml 文件可能保存为 SJIS(MS932)。

也许这个页面可以帮助你：http: [//internetmarketingcoding.com/how-to-convert-japanese-shift-jis-text-to-utf-8](http://internetmarketingcoding.com/how-to-convert-japanese-shift-jis-text-to-utf-8)

# html - 在 IIS 6.1 中部署时的页脚 css 问题

> ID：15221548
> 
> 赞同：2
> 
> 时间：2013-03-05T10:32:46.440
> 
> 标签：html, .net, css, footer

我将页脚设置为固定，这样即使页面向下滚动，它的页脚也会保持原样。

当我在 Chrome 中的 VS 2010 运行/调试中浏览它时，它运行良好！

但是，当我将它部署到 IIS 6.1 并使用 Google Chrome 浏览它时，它并没有做我想要的。但是，它在 IE 和 Firefox 中确实有效。这是 Chrome 特有的问题吗？我正在做这样的事情：

```
<div id="footer">
   Footer goes here
</div> 
```

这是CSS：

```
#footer {
    background: #2d89ef;
    bottom: 0px;
    color: white;
    font-family: 'Segoe UI', 'Open Sans', Verdana, Arial, Helvetica, sans-serif;
    font-size: 18px;
    height: 50;
    left: 0%;
    position: fixed!important;
    position: fixed!important;
    right: 0%;
    text-align: center;
    top: expression((0-(footer.offsetHeight)+
    (document.documentElement.clientHeight?
    document.documentElement.clientHeight:
    document.body.clientHeight)+(ignoreMe=document.documentElement.scrollTop?
    document.documentElement.scrollTop:document.
    body.scrollTop))+'px');
    visibility: visible;
    width=100%;
} 
```

请建议可能的解决方案，谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T10:58:30.727

尝试（[重新启动](http://msdn.microsoft.com/en-us/library/ms957500%28v=cs.70%29.aspx)您的 IIS 管理器，然后[清除](http://www.wikihow.com/Clear-Your-Browser%27s-Cache)浏览器缓存。这可能会解决您的问题。

# jquery - 如何将 jGrid 集成到 Zend 1 中？

> ID：15221549
> 
> 赞同：0
> 
> 时间：2013-03-05T10:32:59.237
> 
> 标签：jquery, zend-framework

我面临一个问题，在我的 Zend 项目中，我需要在界面上显示一些数据库数据。我选择 jGrid (jQuery) 作为子网格，甚至新网格作为子网格。

我用谷歌搜索“Zend + jgrid”并完成下载 ZendX，Zend 的扩展，并将其放入 /library。

我还在 application.ini 中添加了条目：

```
autoloadernamespaces[] = "ZendX" 
resources.view.helperPath.ZendX_JQuery_View_Helper = "ZendX/JQuery/View/Helper"
pluginPaths.ZendX_Application_Resource = "ZendX/Application/Resource" 
```

然后在布局中添加： echo $this->jQuery();

最后在我看来：

```
$options = array(
    "colModel" => array(
        array(
            "name"   => "Inv No",
            "id"     => "id",
            "index"  => "id",
            "width"  => 75,
            "align"  => "center"
            ),
        array(
            "name"   => "Date",
            "id"     => "invdate",
            "index"  => "invdate"
        ),             
        array(
            "name"   => "Client",
            "id"     => "name",
            "index"  => "name"
        ),
    ),
    "rowNum"    => 10,
    "autowidth" => "true",
    "rowList"   => array(10, 20, 30),
    "sortorder" => "desc",
    "caption"   => "Example"
);
$this->_helper->jgrid($options); 
```

[以下来自此链接](http://framework.zend.com/wiki/display/ZFPROP/ZendX_JQuery_Jqgrid+-+Jason+Lentink)的用例 UC-1 我得到的是错误报告：

> 致命错误：在第 28 行对 D:\PROJEKTY\wtms_gui\application\views\scripts\jgrid\index.phtml 中的非对象调用成员函数 jgrid()

这是指代码行：

```
$this->_helper->jgrid($options); 
```

我缺少什么以及如何使用 jGrid 运行从数组中获取数据的简单表？

此致

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T11:37:52.883

The page you linked to is a *proposal* for a component, it doesn't look like it ever got past the proposal stage. There is no jGrid component in Zend Framework.

On the off chance you've downloaded a third party implementation, `$this->_helper->jgrid($options);` would be how you'd call a 'jgrid' action helper from a controller, so that line would only work inside a controller action. To call a view helper from within a view the syntax would be `$this->jgrid($options)`.

# nanoc - nanoc 在自动编译时找不到我的 PHP 文件

> ID：15221551
> 
> 赞同：1
> 
> 时间：2013-03-05T10:33:01.330
> 
> 标签：nanoc

我正在使用[nanoc](http://nanoc.ws)构建一个静态网站，其中包含用于发送邮件的 PHP 脚本。简化结构：

```
/content/index.html
/content/contact.html
/content/mail.php 
```

但是，当我`nanoc compile`在输出文件夹中执行一切操作时：

```
index.html
contact/index.html
mail/index.php 
```

但是在执行`nanoc autocompile`. `/contact/`工作，但`/mail/`没有。

这是我的规则文件的一部分：

```
route '*' do
    if item.binary?
        # Write item with identifier /foo/ to /foo.ext
        original_filename(item)
    else
        # Write item with identifier /foo/ to /foo/index.extension
        item.identifier + "index.#{item[:extension]}"
    end
end 
```

PHP 被视为非二进制。有谁知道我怎样才能让它工作`autocompile`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:50:04.720

如果有人遇到类似问题：我找到了[答案](https://groups.google.com/d/msg/nanoc/L2IC6jMavq4/Bp-EHzbsxz4J)：

> 自动编译器不支持 PHP 文件。如果请求目录，自动编译器会在其中查找 index.html 文件，但会忽略 index.php 文件。自动编译器找不到它的 MIME 类型，因此它将文件作为 application/octet-stream 发送回浏览器。

这很明显，但我没有想到自动编译运行的是不支持 PHP 的轻量级服务器（当然）。

# python - 筛选 从 SVN Log 到 Pick up only Ticket Number

> ID：15221557
> 
> 赞同：1
> 
> 时间：2013-03-05T10:33:23.440
> 
> 标签：python, perl, parsing, svn, xml-parsing

我正在使用 python 将 SVN 的 XML 日志转换为 CSV ......

```
#!/usr/bin/env python

import csv
import subprocess
import sys
import xml.etree.cElementTree as etree

log_text = subprocess.Popen(['svn', 'log', '--xml'] + sys.argv[1:],
                            stdout=subprocess.PIPE).communicate()[0]
log_xml = etree.XML(log_text)

csv_writer = csv.writer(sys.stdout)

for child in log_xml.getchildren():
        csv_writer.writerow([
                child.attrib['revision'],
                child.findtext('date'), 
                child.findtext('author').encode('utf-8'),
                child.findtext('msg').encode('utf-8'),
        ]) 
```

例如，它将给出输出...

```
2022,2013-01-02T06:11:40.500850Z,dave.d@email.com,"Ticket 16057735 - Blah "
2023,2013-01-02T06:43:22.247709Z,john.c@email.com,Ticket:16060718 Blah Blah
2027,2013-01-02T07:43:00.326583Z,dave.d@email.com,Ticket 16060936 - Blah Blah 
```

但我想`<msg>`在创建 .csv 输出时过滤/解析以仅获取票号。

使用 perl 之类的任何替代方法都不是问题。

**更新：**以任何方式跳过评论中没有票证####的修订日志（`<msg>`）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:47:09.247

这是一个简单的解决方案：查找 Ticket 后面的第一个数字：

```
if ($line =~ /Ticket\D+(\d+)/)
{
    $ticket_number = $1;
} 
```

使用 Perl 语法，但在 Python 中也应该很容易。

这是一个 Python 版本的尝试（注意，我不是 Python 程序员）：

```
matchObj = re.match( r'Ticket\D+(\d+)', child.findtext('msg').encode('utf-8'))

if matchObj:
   print matchObj.group(1) 
```

正则表达式`Ticket\D+(\d+)`匹配单词 ticket，然后是一个或多个非数字字符 ( `\D+`)，然后是一个或多个数字 ( `\d+`)。括号捕获第一个匹配组中模式的封闭部分。

如果您希望匹配更具体，您可以使用`(\d{8})`确保票号有八位数字。

**更新：**这两种解决方案都使用`if`语句来指示模式匹配。您可以通过跳过不匹配的行来跳过没有票号的行。

# c# - 计算器中的 if-else 命令

> ID：15221559
> 
> 赞同：-11
> 
> 时间：2013-03-05T10:33:36.317
> 
> 标签：c#

所以我目前正在为学校项目制作计算器。计算器的重点是计算三角形。用户必须提供 3 条信息，或者 2 边和 1 个角度或 2 个角度和 1 个边。

正如您在下面提供的代码中看到的那样，我不知道如何继续我的项目。我对 C# 很陌生。我必须检查是否提供了 A、B 和 c，它必须计算这个，如果提供了 A、B 和 b，它必须计算这个等等。但我不确定我如何执行“if-else”命令。

```
 private void button1_Click(object sender, EventArgs e)
    {
        List<double> angles = new List<double>();
        List<double> sides = new List<double>();
        double A = (AAngle.Text == "") ? 0.00 : Convert.ToDouble(AAngle.Text);
        double B = (BAngle.Text == "") ? 0.00 : Convert.ToDouble(BAngle.Text);
        double C = (CAngle.Text == "") ? 0.00 : Convert.ToDouble(CAngle.Text);
        double a = (ASide.Text == "") ? 0.00 : Convert.ToDouble(ASide.Text);
        double b = (BSide.Text == "") ? 0.00 : Convert.ToDouble(BSide.Text);
        double c = (CSide.Text == "") ? 0.00 : Convert.ToDouble(CSide.Text);
        if (!(A == 0.00))
            angles.Add(A);
        if (!(B == 0.00))
            angles.Add(B);
        if (!(C == 0.00))
            angles.Add(C);
        if (!(a == 0.00))
            sides.Add(a);
        if (!(b == 0.00))
            sides.Add(b);
        if (!(c == 0.00))
            sides.Add(c);
        if ((angles.Count() == 2 && sides.Count == 1) || (angles.Count == 1 && sides.Count == 2))
        {
           if ???
        }
        else
        {
            MessageBox.Show("NOT ENOUGH OR TOO MANY SIDES/ANGLES PROVIDED OR NOT A VALID TRIANGLE");
        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:38:41.613

使用这样的 else if 语句：

```
 if (angles.Count() == 2 && sides.Count == 1)
    {
       // calculate based on two angles and one side
    }
    else if (angles.Count == 1 && sides.Count == 2)
    {
       // calculate based on one angle and two sides
    }
    else
    {
       MessageBox.Show(...)
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:38:43.963

[您可以在此处](http://msdn.microsoft.com/en-us/library/vstudio/5011f09h.aspx)尝试 C# if-else 参考。

尝试自己编写代码。如果它没有按预期工作，请在此处跟进。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T10:44:41.750

作为一个快速的解决方案，我会将这两种情况分配给一些持有者布尔值并采取相应的行动：

```
var angles = (angles.Count >= 2 && sides.Count >= 1);
var sides = (angles.Count == 1 && sides.Count >= 2);
if (angles)
{ calculateTriangleFromAngles(); }
else if (sides)
{ calculateTriangleFromAngles(); }
else
{ MsgBox.... } 
```

正如@user1012630 所说，我使用 >= 来满足用户为角度和边提供两个以上的值...如果用户当然为不可能的三角形提供值，则应该添加一些边缘情况。

另一个旁注：不要使用`Convert.ToDouble()`，如果转换失败会抛出异常。更好地`Double.TryParse()`用于获取价值或优雅地失败。

# groovy - Gremlin：迭代地设置属性到现有的图形数据库

> ID：15221567
> 
> 赞同：0
> 
> 时间：2013-03-05T10:34:09.150
> 
> 标签：groovy, neo4j, jung, pagerank, gremlin

我正在尝试在我现有的 neo4j 图形数据库上运行 JUNGs PageRank 算法，并将节点的分数保存为属性以供将来参考。

所以我创建了以下 groovy 文件：

```
import edu.uci.ics.jung.algorithms.scoring.PageRank

g  = new Neo4jGraph('/path/to/graph.db')
j = new GraphJung(g)

pr = new PageRank<Vertex,Edge>(j, 0.15d)
pr.evaluate()
g.V.sideEffect{it.pagerank=pr.getVertexScore(it)} 
```

并通过 gremlin 运行它。

它运行顺利，如果我要通过`g.v(2381).map()`我检查财产，我会得到我所期望的。

但是，当我离开 gremlin 并启动我的 neo4j 服务器时，这些修改是不存在的。

谁能解释为什么以及如何解决这个问题？

我的预感是它与我在 gremlin 中嵌入的图形有关：

```
gremlin> g
==>neo4jgraph[EmbeddedGraphDatabase [/path/to/graph.db]] 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T11:02:43.687

您将需要`g.shutdown()`在 groovy 脚本的末尾添加一个。如果没有`g.shutdown()`对图表的所有更改，最有可能保留在内存中。从磁盘重新初始化图表（`/path/to/graph.db`在您的情况下），将丢失仍在内存中的更改。`g.shutdown()`会将当前事务从内存刷新到磁盘。这将确保您的更改持续存在，并在您再次尝试访问数据库时被检索。

希望这可以帮助。

**注意**：您对嵌入式数据库的预感是正确的。如果您使用 Neo4j 的 REST 接口，则不会出现此问题，因为每个 REST API 请求都被视为单个事务。

# drupal - 字段集合输出：未定义索引：template_field__custom_field drupal 7 中的实体

> ID：15221569
> 
> 赞同：0
> 
> 时间：2013-03-05T10:34:15.563
> 
> 标签：drupal, drupal-7, undefined-index, drupal-templates, drupal-entities

也许您知道我如何解决以下问题。我在我的 template.php 中重写了一个 field-collection-field 来更改输出。因此，我刚刚添加了一个包含特定值的新 var ($my_classes)。该值来自字段集合。一切正常（我的课程已添加 - 是的），除了我收到以下错误的问题：

> 注意：未定义索引：template_field__field_fc_page_fields() 中的实体（..

这个错误会弹出四次，所以每个即将到来的字段（-collection）都会抛出这个错误。这是我的代码：

```
function template_field__field_fc_page_fields($variables) {
kpr($variables);
$output = '';

// Render the label, if it's not hidden.
if (!$variables['label_hidden']) {
    $output .= '<div class="field-label"' . $variables['title_attributes'] . '>' . $variables['label'] . ': </div>';
}

// Render the items.
foreach ($variables['items'] as $delta => $item) {
// Custom class 
    $my_classes = $variables['items'][$delta]['entity']['field_collection_item'][$delta+1]['field_layout']['#items'][0]['value'];

    $classes = 'field-item ' . ($delta % 2 ? 'odd' : 'even');
    $output .= '<div class="' . $classes . ' ' . $my_classes .'"' . $variables['item_attributes'][$delta] . '>' . drupal_render($item) . '</div>';
}
// Render the top-level DIV.
$output = '<div class="' . $variables['classes'] . '"' . $variables['attributes'] . '>' . $output . '</div>';

return $output; 
```

我不是程序员，所以希望你能帮助我！非常感谢！！！

**这是解决方案：** 问题是，当您尝试更改字段集合的输出时，您还会更改字段集合中没有实体 ID 的继承字段。所以你只需要在 $classes 上使用 isset（感谢@Hans Nilson）并提取实体的 id 以在你的函数中使用它。这是代码中的解决方案：

```
function template_field__field_fc_page_fields($variables) {
        // kpr($variables);
        $output = '';

        // Render the label, if it's not hidden.
        if (!$variables['label_hidden']) {
            $output .= '<div class="field-label"' . $variables['title_attributes'] . '>' . $variables['label'] . ': </div>';
        }
        // Render the items.
        foreach ($variables['items'] as $delta => $item) {
            if (isset($variables['items'][$delta]['entity']) && (isset($variables['element']['#items'][$delta]['value']))) {
                $fc_id = ($variables['element']['#items'][$delta]['value']);
            $my_classes = $variables['items'][$delta]['entity']['field_collection_item'][$fc_id]['field_layout']['#items'][0]['value'];
            }
            if (isset($variables['items'][$delta]['entity'])) {
                $classes = 'field-item-custom ' . $my_classes . ' ' . ($delta % 2 ? 'odd' : 'even');
            }
            else {
                $classes = 'field-item ' . ($delta % 2 ? 'odd' : 'even');
            }
            $output .= '<div class="' . $classes . '"' . $variables['item_attributes'][$delta] . '>' . drupal_render($item) . '</div>';
        }
        // Render the top-level DIV.
        $output = '<div class="' . $variables['classes'] . '"' . $variables['attributes'] . '>' . $output . '</div>';

        return $output;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T10:39:01.903

这意味着在这一行中：

```
$my_classes = $variables['items'][$delta]['entity']['field_collection_item'][$delta+1]['field_layout']['#items'][0]['value']; 
```

此 $delta 中不存在键“实体”

您可以添加支票：

```
if (isset($variables['items'][$delta]['entity'])) { } 
```

但是，如果您认为它应该存在，那么尝试找出特定 delta 没有实体键的原因可能会更有意义。

# javascript - 用于更改值的 Javascript 浏览器脚本

> ID：15221573
> 
> 赞同：1
> 
> 时间：2013-03-05T10:34:25.670
> 
> 标签：javascript, facebook

我正在尝试使用我在网站等上看到的脚本来更改游戏的计时器，我不是很擅长，但我只需要一些帮助，我希望它不是服务器端的，无论如何我调查了来源该页面，我找到了计时器代码，它是这样的：

```
<div class="orange_control timer">
    <span class="min">04</span>:<span class="sec">00</span>
</div> 
```

现在我想问是否有任何 Javascript 脚本可以写入浏览器来更改 min 和 sec 值，例如：“javascript: sec=10;” （当然它没有用）感谢任何帮助的人！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T10:52:30.887

这是纯 JS 代码 这会改变

```
 <script language="javascript">

function changetime() {
        var dt = new Date();
       document.getElementById("sec").innerHTML=dt.getSeconds();
}
setInterval('changetime()', 1000);  
</script>

<div class="orange_control timer">
    <span id="min" class="min">04</span>:<span id="sec" class="sec">00</span>
</div> 
```

# unix - 通过 Expect 发送两次命令

> ID：15221574
> 
> 赞同：0
> 
> 时间：2013-03-05T10:34:32.457
> 
> 标签：unix, expect

我编写了一个登录到远程系统的 Expect 脚本，按顺序执行一些命令并将输出捕获到日志文件中。

一切都很好，除了当我检查日志文件时，一些命令似乎被发送了两次，这样下一个要发送的命令出现在前一个输出的中间。它还会在检测到提示时再次发送（这是正确的执行）。此外，这个问题并非在所有情况下都会发生，这更加令人费解。

我想补充一点，我已经自定义了提示以包含这个“--->”。这是为了让另一个脚本更容易解析输出。

这是期望的代码，

```
set prompt "(]|%|#|>|\\$)"

# go to bash shell
expect -re $prompt
send "/bin/bash\r"

# customize the prompt
expect -re $prompt
send "PS1=\"\\u@\\H ---> \"\r"

# set new prompt into variable
expect -re $prompt
set newPrompt " ---> "

# opens file containing command list
set commFile [open commands.txt]

# reads each line containing commands from file, stores it in "$theLine" variable and sends it.
while {[gets $commFile theLine] >= 0} { 
    expect "$newPrompt"
    send "$theLine\r"
}

close $commFile 
```

这就是我的输出出现的方式。

```
"prompt --->" command1
----output----
----output----
command2
----output----
----output----

"prompt --->" command2
----output----
----output---- 
```

希望你能明白。

我不理解这种行为，也无法在其他地方找到任何解决方案。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T12:02:08.200

有一点逻辑问题：发送后，`PS1=...`您期望旧提示。然后在循环中，您期望在发送另一个命令之前出现新的提示。这有帮助吗？

```
send "PS1=\"\\u@\\H ---> \"\r"
set newPrompt { ---> $}
expect -re $newprompt
set commFile [open commands.txt]
while {[gets $commFile theLine] >= 0} { 
    send "$theLine\r"
    expect -re "$newPrompt"
} 
```

# installshield - 如何在升级中从 InstallShield 中删除基于 IIS 的组件？

> ID：15221575
> 
> 赞同：1
> 
> 时间：2013-03-05T10:34:33.277
> 
> 标签：installshield, installshield-2011

在尝试按照[此处](https://stackoverflow.com/questions/15205982/how-can-we-migrate-existing-web-applications-from-net-2-0-to-4-0-in-installshie)的建议使用 InstallShield 创建主要升级现有 Web 应用程序时，我创建了一个新的应用程序池，但无法创建新的 IIS 应用程序。但是，虽然新安装会创建新池，但它不会更改现有虚拟目录以使用新池。日志说虚拟目录已经存在并将其保留在那里。

是否可以通过安装来更改现有组件，或者只是如何删除虚拟目录组件，因为删除文件表需要一个目录？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:44:02.837

最终通过

1.  使用字符串编辑器表中的网站名称的值创建了一个名为 WEBSITENAME 的属性（这是为了重用）
2.  创建了一个 VBscript 自定义操作，在**RemoveFolders**之后运行，条件如下：**IIS_VERSION <= "#6" and NOT INSTALLED**

代码是：

```
Dim objWebServer
Dim objVirtualDir
Dim strAppName
Dim intASPSessionTimeout
Dim SubVirtDir
On Error Resume Next
    CreateApplication = ERROR_SUCCESS
    strAppName = Session.Property("WEBSITENAME")    
    SubVirtDir = "/" + strAppName
    intASPSessionTimeout = 120
    Set objWebServer = GetObject("IIS://localhost/W3SVC/1/Root")
    'Delete the Virtual subdirectory
    Set objVirtualDir = objWebServer.Delete("IISWebVirtualDir", SubVirtDir) 
    Set objVirtualDir = objWebServer.Delete("IISWebVirtualDir", strAppName) 
```

这就是我需要做的。现在我需要想出一个类似的方法来有条件地 Enable32bitAppOnWin64！

# ios - 通过 UITableView 编辑 NSManagedObjects 的现有解决方案？

> ID：15221576
> 
> 赞同：1
> 
> 时间：2013-03-05T10:34:33.563
> 
> 标签：ios, objective-c, core-data, nsmanagedobject

在我的 iOS 应用程序中，有各种 Core Data 实体代表约会、便笺和联系人等内容。

我希望用户能够通过`UITableView`. 与 iOS 日历应用程序类似，当您单击“编辑”时，您会看到一个`UITableView`可编辑的开始时间、结束时间等值。

我突然想到这里可能会重复使用大量代码，所以我现在正在考虑创建一个通用类，`ManagedObjectEditorViewController`它接受一个托管对象，在表格视图中显示选定的属性值，并根据它们的格式进行格式化类型，并允许对其进行编辑。

我可以想到几种巧妙的方法来做到这一点，但在我花很长时间之前，我想知道是否已经有一些东西可以完成这项任务？这似乎是一种经常使用的方法，我不敢相信那里还没有一些开源代码。

有人听说过或使用过类似的东西吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T11:21:01.440

我即将做同样的事情。刚刚开始并工作至今。表示一个表`NSManagedObject`（主视图控制器的详细信息，具有主视图控制器本身的各个方面。）。

整张表代表一个`NSManagedOjbect`。有与简单属性相对应的字段和其他控件。

有一对一的引用，其中引用的对象只是显示但可以更改。

有一对一的引用是可编辑的 NSObjects 本身，其中 1 个和恰好 1 个存在。

有很多引用可以添加、删除和编辑。非常类似于日历应用程序或地址簿应用程序。（从功能的角度来看。它看起来不同）。

为此，我在表格单元格和视图控制器之间建立了一个委托。这主要是因为我尝试坚持 MVC 模式。

`UITextViews`例如，单元格充当`UITextFields`Buttons 的委托或目标等。拥有`NSManagedObject`和所有相关对象的（详细信息）视图控制器充当单元格的委托。它为单元格提供类似于 IBActions 的方法，以便单元格可以 1）通知事件和 2）如果需要（我需要相应地显示一些弹出窗口）和 3）对象本身，例如对象要删除的对象或要从地址簿中获取数据的人员对象等。然后视图控制器可以执行自己的职责，即调用其他视图控制器（发送邮件，从地址簿中选择，呈现带有供用户选择的选项的弹出窗口，...）。

我昨天晚上才建立起来的。（这是我的一个空闲时间项目）。到目前为止我很高兴，但这个概念还没有真正得到证实:)。

你目前最喜欢的方法是什么？

# java - 将最终记录器添加到内部静态类..如何？

> ID：15221577
> 
> 赞同：-1
> 
> 时间：2013-03-05T10:34:38.233
> 
> 标签：java, spring, logging

我有一个内部类，我想添加一个记录器，目前它正在通过构造函数添加它。

我的外部类（spring bean）具有以下内容：

```
private final Logger LOGGER = LoggerFactory.getLogger(getClass()); 
```

我的内部课程有以下内容：

```
private final static class car {

    final Logger LOGGER;

    public car(Logger LOGGER) {
     this.LOGGER = LOGGER;
    }

} 
```

我不喜欢上面的还有其他方法可以解决这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T10:36:56.240

你可以这样做：

```
public class Foo
{
    private final Logger logger = LoggerFactory.getLogger (getClass ());

    private static class Bar
    {
        private final Logger logger = Foo.this.logger;
    }
} 
```

但更好的方法可能是：

```
public class Foo
{
    private final static Logger logger = LoggerFactory.getLogger (Foo.class);

    private static class Bar
    {
        private final static Logger logger = LoggerFactory.getLogger (Bar.class);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:38:29.253

```
private final static Logger LOGGER = LoggerFactory.getLogger(getClass());

private final static class Car {
   void drive() {
       LOGGER.debug(msg);
   }
} 
```

或者

```
private final Logger LOGGER = LoggerFactory.getLogger(getClass());

    private final static class Car {
        private final Logger LOGGER = LoggerFactory.getLogger(Car.class);

        void drive() {
            LOGGER.debug(msg);
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T10:38:51.320

如果共享是您的意图，您可以要求提供给外部类的同一个记录器：

```
private final Logger LOGGER = LoggerFactory.getLogger(OuterClass.class); 
```

# css - 使用绝对定位调整大小

> ID：15221579
> 
> 赞同：3
> 
> 时间：2013-03-05T10:34:41.373
> 
> 标签：css, image, css-position, image-resizing

div#ipsko 改变宽度和高度以满足绝对定位。为什么 img#utas 没有？

JSFiddle：http: [//jsfiddle.net/pejh7/1/](http://jsfiddle.net/pejh7/1/)

HTML 代码：

```
<div id="upsko">
    <img id="utas" src="http://kharg.czystybeton.pl/108.png" />
    <div id="ipsko"></div>
</div> 
```

CSS 代码：

```
div#upsko {
    position: relative;
    top: 200px; left: 200px; width: 100px; height: 100px;
    background: rgba(255,0,0,0.5);
}

img#utas {
    position: absolute;
    top: 10px; left: 10px; right: 10px; bottom: 10px;
}

div#ipsko {
    position: absolute;
    top: 0; left: 0; bottom: 0; right: 0;
    background: rgba(0,255,0,0.5);
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-05T10:46:43.383

将`img`标签放在一个 div 中，给图像 100% 的宽度和高度，然后绝对定位容器`div`，例如

**HTML：**

```
<div id="upsko">
    <div id="utas">
        <img src="http://kharg.czystybeton.pl/108.png" />
     </div>
    <div id="ipsko"></div>
</div> 
```

**CSS：**

```
#upsko {
    position: relative;
    top: 200px; left: 200px; width: 100px; height: 100px;
    background: rgba(255,0,0,0.5);
}

#utas {
    position: absolute;
    top: 10px; left: 10px; right: 10px; bottom: 10px;
}
#utas img { height: 100%; width: 100%; }

#ipsko {
    position: absolute;
    top: 0; left: 0; bottom: 0; right: 0;
    background: rgba(0,255,0,0.5);
} 
```

[小提琴](http://jsfiddle.net/XQ3u6/)

您描述的问题是由于未指定图像宽度（如其他答案所述），不幸的是没有说明图像大小的 px 值（或将顶部/左侧/底部/右侧和高度+宽度转换为 %）没有办法在不添加额外 div 的情况下解决此问题。

我知道添加额外的 div 通常被认为是不好的做法，但是当它为您提供如上所述的灵活性时，我认为通常可以这样做。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-05T10:47:54.450

看到 div "div#ipsko" 没有自己的高度和宽度，所以它继承了它的父高度和宽度。但是图像有自己的高度和宽度。所以你必须指定图像的高度和宽度以适应 div。

```
img#utas {
    position: absolute;
    top: 0px;
    left: 0px;
    right: 0px;
    bottom: 0px;
    width: 100%;
    height: 100%;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T10:40:12.660

您图像的实际宽度和高度是压倒一切的。（浏览器将调整`img`元素的尺寸以匹配实际图像的尺寸，一旦它被下载并且可以分辨它们是什么，如果没有宽度和高度被指定为`img`或在 CSS 中的属性。）

使用法线`div`而不是图像，您可以将宽度和高度重置回`auto`如果它们被设置在其他地方，但`auto`对于图像，您可以回到实际的图像尺寸。如果您只是希望图像与容器的大小相匹配，则 100% 的宽度/高度可以解决问题，但如果您想要固定定位所隐含的不同大小，那将不起作用。

我唯一能想到的就是更改标记，以便您的图像在 a 中加载`div`，*然后*具有 100% 的宽度。

此处的示例[jsFiddle](http://jsfiddle.net/pejh7/4/)：

```
<div id="container">
   <img id="utas" src="http://kharg.czystybeton.pl/108.png" />
</div>

div#container {
    position: absolute;
    top: 10px;
    left: 10px;
    right: 10px;
    bottom: 10px;
    width: auto;
    height: auto;
}

img#utas {
    width: 100%;
    height: 100%;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-05T10:42:54.793

```
 div#upsko {
    position: relative;
    top: 20px;
    left: 20px;
    width: 100px;
    height: 100px;
    background: rgba(255,0,0,0.5);
}

img#utas {
    position: absolute;
    top: 0px;
    left: 0px;
    right: 0px;
    bottom: 0px;
    width: 100%;
    height: 100%;
}

iv#ipsko {
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    background: rgba(0,255,0,0.5);
} 
```

请尝试上面的代码。

# c++ - 用于服务器编程的 Wxwidgets (ftp apachelike)

> ID：15221580
> 
> 赞同：0
> 
> 时间：2013-03-05T10:34:41.390
> 
> 标签：c++, apache, networking, boost, wxwidgets

wxwidgets 的性能是否足以处理数千个套接字？从我看到的情况来看，它只有与它相关的事件，但没有像 winsock 的 iocp 或 boost 中的 io 服务那样接近。我应该改变我的工具包吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T11:50:25.553

wxWidgets 是一个 GUI 框架。为了方便起见，它碰巧有一个本地套接字库的包装器，但将它用于需要数千个套接字的东西可能不是一个好主意，其中 boost::asio 更有可能成功。您使用哪种 GUI 框架取决于品味和经验 - 使用您喜欢和最熟悉的那个。然而，如果 GUI 和套接字服务器被设计成独立的、协作的进程运行，结果可能会更好——这进一步取消了套接字库和 GUI 框架的选择。

# ruby-on-rails - 在 Rails 3 中使用 Cucumber 进行 BDD 时出现问题

> ID：15221581
> 
> 赞同：1
> 
> 时间：2013-03-05T10:34:51.733
> 
> 标签：ruby-on-rails, ruby-on-rails-3, cucumber, bdd

我正在为我的 Rails 应用程序使用黄瓜编写 BDD，但在运行“黄瓜”时遇到问题

我的测试数据库是“test_db”。当我运行 cucumber features/my_Feature_file.feature 时，它​​显示场景通过或失败，但同时它也在清理我的数据库。

我是黄瓜的新手。所以请告诉我，当你运行 cucumber 时，测试默认情况下，数据库将被清理。**就像如果我正在为用户登录编写 BDD，那么如果没有任何记录，那么我的步骤将如何检查用户是否有效？**

我在用：

Gemfile（用于测试）-

```
group :test do
  gem 'ZenTest'
  gem 'autotest-rails'
  gem 'autotest-growl'
  gem 'selenium'
  gem 'selenium-client'
  gem 'capybara'
  gem 'database_cleaner'
  gem 'cucumber-rails'
  gem 'cucumber'
  gem 'rspec-rails'
  gem 'spork'
  gem 'xpath'
  gem 'launchy'
  gem 'cucumber-sinatra'
  gem 'webrat'
end 
```

功能/支持/env.rb-

```
require 'cucumber/rails'
Capybara.default_selector = :css
ActionController::Base.allow_rescue = false

begin
  DatabaseCleaner.strategy = :transaction
  #DatabaseCleaner.strategy = nil
rescue NameError
  raise "You need to add database_cleaner to your Gemfile (in the :test group) if you wish to use it."
end

Cucumber::Rails::Database.javascript_strategy = :truncation 
```

我尝试使用：

> DatabaseCleaner.strategy = nil

和

> Cucumber::Rails::World.use_transactional_fixtures = false

*有人可以消除我的困惑并指导我正确的方式吗？高度赞赏帮助。*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T15:16:47.760

如果您不想清理数据库，您只需从 Gemfile 中删除 database_cleaner gem 并清理 env.rb 文件。

我强烈建议你保留它。为每个场景重置数据库的目的是证明功能在原始设置中起作用，而不是因为预先存在的数据条件。

每个场景都应该独立于其他场景。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T11:05:36.937

如果您不想使用，则不必使用它。我们的项目中没有它。`use_transactional_fixtures`如果您也不想使用它，则无需设置。

如果你想使用它，你可以通过注册一个新用户来开始你的功能测试，然后使用这个用户来验证登录和注销。运行测试后，DatabaseCleaner 将在最后删除用户。

# firefox - 隐藏菜单上的 Firebug / 检查元素

> ID：15221583
> 
> 赞同：1
> 
> 时间：2013-03-05T10:34:56.717
> 
> 标签：firefox, firebug

我想在 FireFox 13 中找到一个元素。问题是我无法右键单击我的元素。这是因为我的元素是一个隐藏菜单，左键单击打开，右键单击关闭。

还有其他选择吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-09T11:19:03.667

1.  您可以从 Firebug 中单击“检查元素”，而不是右键单击菜单。
2.  在“脚本”面板中，您还可以启用 Break-On-Next（暂停按钮），它将在下一个 JavaScript 语句执行时暂停调试器（即在您的情况下单击事件侦听器）。您也可以使用键盘快捷键`Alt`++启用此`Ctrl`功能`B`。

![萤火虫](../Images/44317550d43a2f6316280aea7d47786b.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-01-14T15:07:48.577

另一种解决方案是打开控制台选项卡并编写

```
 setTimeout(() => {debugger}, 5000) 
```

这将在 5 秒后触发调试器。因此，一旦您输入此命令，请单击菜单并等待调试器启动并冻结您的菜单。

如果 5 秒太短，请根据需要增加数字 5000。

# javascript - 按钮 onclick 未正确执行

> ID：15221585
> 
> 赞同：1
> 
> 时间：2013-03-05T10:35:03.500
> 
> 标签：javascript, xpages

我有一个带有 2 个控件的 xpages。

一个选项卡式控件，使用户可以在页面之间进行更改，而内容控件显然会发生变化。

现在我需要实现一个更改侦听器，以防止在值不正确时更改页面。当 CSJS 检查字段并设置文档脏（又名已更改）的标志时，将执行以下代码：

```
document.getElementById("#{id:button1}").click();
thisEvent.preventDefault();
thisEvent.stopPropagation(); 
```

当我执行`document.getElementById("#{id:button1}").click();`using firebug 时，事件处理程序已正确执行，并且文档按预期保存。当我使用另一个按钮执行代码时，正在执行页面刷新，但未保存文档。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T11:31:06.327

添加消息控件以查看是否有任何阻止保存的服务器端验证。您也可以尝试检查“未经验证的流程数据”以查看您的页面是否已保存。

# wpf - RadTileViewItem 在最小化状态下拖放

> ID：15221586
> 
> 赞同：0
> 
> 时间：2013-03-05T10:35:04.203
> 
> 标签：wpf, drag-and-drop, telerik, tiles

我`RadTileView`在我的项目中使用，默认情况下，`Tile`当它们处于恢复状态时启用拖放

![如图1](../Images/f024fa34adb8d4d2f0472661d2ea2bf1.png),

但是当 1 个磁贴处于最大化状态而所有其他磁贴处于最小化状态时，我无法实现相同的功能

![如图2](../Images/5cb40df88cde55a31ecc1c1d7521714f.png),

我认为 Telerik 并没有在他们的`RadTileView`控制下提供这个功能。实现这一目标的最佳方法是什么，或者是否可能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T07:09:01.753

在搜索了不同的博客后，我了解到 Telerik Tile 开箱即用的视图中不提供此功能，但他们已将其添加到他们的愿望清单中，您可以在这里投票支持此功能[http://www.telerik。 com/support/pits.aspx#/public/silverlight/2449](http://www.telerik.com/support/pits.aspx#/public/silverlight/2449)

然而，作为一项工作，我已经为 RadTileView 实现了一个我自己的行为，它将完成所需的任务。

```
public class RadTilesDragDropBehavior : Behavior<RadTileView>
{
    private RadTileViewItem draggingTile { get; set; }

    public TileViewDragDropBehavior()
    {
        // Insert code required on object creation below this point.
    }

    protected override void OnAttached()
    {
        base.OnAttached();
        // Insert code that you would want run when the Behavior is attached to an object.
        DragDropManager.AddDragInitializeHandler(AssociatedObject, OnDragInitialize);
        DragDropManager.AddDragDropCompletedHandler(AssociatedObject, OnDragAndDropCompleted);
        AssociatedObject.PreviewDragOver += MyTileView_PreviewDragOver;
    }
    private void OnDragInitialize(object sender, DragInitializeEventArgs args)
    {
        var tileView = sender as RadTileView;
        var tileViewItem = args.OriginalSource as RadTileViewItem;

        Point pt = Util.CorrectGetPosition((RadTileView)sender);
        HitTestResult result = VisualTreeHelper.HitTest(AssociatedObject, pt);
        if (result != null)
        {
            DependencyObject obj = result.VisualHit.ParentOfType<RadFluidContentControl>();
            if (obj != null)
            {
                //trying to drag from Tile content area, not allowed.
                return;
            }
        }

        if (tileViewItem != null && tileView != null && tileView.MaximizedItem != null)
        {
            args.Data = tileViewItem;
            var draggingImage = new Image
            {
                Source = new Telerik.Windows.Media.Imaging.RadBitmap(tileViewItem).Bitmap,
                Width = tileViewItem.RestoredWidth,
                Height = tileViewItem.RestoredHeight
            };

            if (tileView.MaximizedItem == tileViewItem)
            {
                args.DragVisualOffset = new Point(args.RelativeStartPoint.X - 50, args.RelativeStartPoint.Y-55);
            }
            args.DragVisual = draggingImage;
            tileViewItem.Opacity = 0;
            args.AllowedEffects = DragDropEffects.Move;
            args.Handled = true;
            // keep a copy of dragging tile
            draggingTile = tileViewItem;
        }
    }

    private void OnDragAndDropCompleted(object sender, DragDropCompletedEventArgs args)
    {
        if (args.OriginalSource.GetType() == typeof(RadTileViewItem))
        {
            if (AssociatedObject.MaximizedItem != null)
            {
                Point pt = Util.CorrectGetPosition((RadTileView)sender);
                HitTestResult result = VisualTreeHelper.HitTest(AssociatedObject, pt);
                if (result != null)
                {
                    DependencyObject obj = result.VisualHit.ParentOfType<RadTileViewItem>();
                    if (obj != null)
                    {
                        ((RadTileViewItem)obj).Position = draggingTile.Position;
                        draggingTile.Opacity = 100;
                    }
                    else
                    {
                        draggingTile.Opacity = 100;
                    }
                }
                else
                {
                    draggingTile.Opacity = 100;
                }
            }
        }
    }
    private void MyTileView_PreviewDragOver(object sender, System.Windows.DragEventArgs e)
    {
        FrameworkElement container = sender as FrameworkElement;
        if (AssociatedObject.MaximizedItem != null)
        {
            if (container == null)
            {
                return;
            }
            double tolerance = 60;
            double verticalPos = Util.CorrectGetPosition((RadTileView)container).Y;
            double offset = 20;
            ScrollViewer scrollViewer = AssociatedObject.FindChildByType<ScrollViewer>();

            if (verticalPos < tolerance) // Top of visible list?             
            {
                scrollViewer.ScrollToVerticalOffset(scrollViewer.VerticalOffset - offset); //Scroll up.             
            }
            else if (verticalPos > container.ActualHeight - tolerance) //Bottom of visible list?             
            {
                scrollViewer.ScrollToVerticalOffset(scrollViewer.VerticalOffset + offset); //Scroll down.                 
            }
        }
    }

    protected override void OnDetaching()
    {
        base.OnDetaching();
        // Insert code that you would want run when the Behavior is removed from an object.
        DragDropManager.RemoveDragInitializeHandler(AssociatedObject, OnDragInitialize);
        DragDropManager.RemoveDragDropCompletedHandler(AssociatedObject, OnDragAndDropCompleted);
        AssociatedObject.PreviewDragOver -= MyTileView_PreviewDragOver;
    }

}

public static class Util
{
    public static Point CorrectGetPosition(Visual relativeTo)
    {
        Win32Point w32Mouse = new Win32Point();
        GetCursorPos(ref w32Mouse);
        return relativeTo.PointFromScreen(new Point(w32Mouse.X, w32Mouse.Y));
    }

    [StructLayout(LayoutKind.Sequential)]
    internal struct Win32Point
    {
        public Int32 X;
        public Int32 Y;
    };

    [DllImport("user32.dll")]
    [return: MarshalAs(UnmanagedType.Bool)]
    internal static extern bool GetCursorPos(ref Win32Point pt);
}; 
```

XAML 会是这样的

```
<telerik:RadTileView  x:Name="MyTileView" ItemsSource={Binding TileItems}>
                    <i:Interaction.Behaviors>
                        <behaviors:RadTilesDragDropBehavior/>
                    </i:Interaction.Behaviors>
</telerik:RadTileView> 
```

# android - 安卓谷歌地图v2中的dragStart、dragEnd

> ID：15221590
> 
> 赞同：1
> 
> 时间：2013-03-05T10:35:20.857
> 
> 标签：android, google-maps-android-api-2

我无法检测相机何时移动以及何时停止。我找到了关于谷歌代码的解决方法（[http://code.google.com/p/gmaps-api-issues/issues/detail?id=4636](http://code.google.com/p/gmaps-api-issues/issues/detail?id=4636)）。

但是，对我来说，解决方法没有按我的意愿工作。在回调中，我有：

```
gMap.setOnCameraChangeListener(new OnCameraChangeListener() {
    @Override
    public void onCameraChange(CameraPosition cameraPosition) {
            if (!mMapIsTouched)
                Log.d("DEBUG", Map is not touched);
            else
                Log.d("DEBUG", Map is touched);
    }
}; 
```

在日志中，当用户放开手指时，我有“地图被触摸”，这是最后一个日志，在其他情况下，没关系。

# c++ - 如何判断一个函数没有返回值的结果？

> ID：15221597
> 
> 赞同：5
> 
> 时间：2013-03-05T10:36:00.197
> 
> 标签：c++, function, error-handling, coding-style, return-type

我有一个简短的问题。给定一个返回类对象作为结果的函数，如果没有结果（比如因为索引超出范围），我应该返回什么？我可以返回一个新的“空”对象，但我如何指出没有成功计算？

我想有一个共同的方法。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-05T10:38:36.500

C++ 中的常用方法是抛出异常或使用一些包装器，如[`boost::optional`](http://www.boost.org/doc/libs/1_53_0/libs/optional/doc/html/index.html).

如果是某种错误，则应抛出异常，如果它是`boost::optional`函数的有效用例以返回空结果，则 - 方法更合适。想到的一个例子是 SQL 的 NULL。`boost::optional`在我们的代码库中非常方便。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-05T10:40:46.357

这取决于操作的语义是什么。

如果发生*错误*，您绝对应该**抛出异常**：

```
#include <stdexcept> // Necessary for standard exceptions

X foo()
{
    ...
    if (/* something goes wrong... */)
    {
        // There may be a more appropriate exception class. You could
        // also derive your own exception class from std::exception...
        throw std::logic_error("Whatever!"); 
    }

    ...
}

...

try
{
    X x = foo();
    // Work with x...
}
catch (std::logic_error const& e) // Catch what is appropriate...
{
    std::cout << e.what();
} 
```

如果返回无值不表示错误情况，则可以使用[Boost.Optional](http://www.boost.org/doc/libs/1_53_0/libs/optional/doc/html/index.html)。或者，如果您可以创建一个类型为“空”的对象`X`，您可以考虑返回一对，其第二个成员是一个`bool`标志，该标志告诉第一个成员是否为有效对象，如下所示：

```
std::pair<X, bool> foo();

...

bool valid;
X x;
std::tie(x, valid) = foo();
if (valid)
{
    // Use x...
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-05T10:40:54.230

如果我们谈论错误的情况，抛出异常是正确的解决方案。

```
#include<exception>

Object * GenerateObject(int i)
{
    if (i < 0)
        throw std::out_of_range("i");

    return new Object(i);
}

int main(int argc, char * argv[])
{
     try
     {
         Object * obj = GenerateObject(-1);

         // Succeeded
         return 0;
     }
     catch (std::exception & e)
     {
         // Failed, exiting with error value
         return 1;
     } 
} 
```

如果允许空值，您可以为此类指定特定值，例如。

```
class Rectangle
{
private:
    int left, top, width, height;

public:
    Rectangle(l, t, w, h)
    {
        left = l;
        top = t;
        width = w;
        height = h;
    }

    public static Rectangle empty;
}

Rectangle Rectangle::empty = Rectangle(0, 0, -1, -1);

// ...

Rectangle DoSth(int i)
{
     // i < 0 is NOT considered an error here
     if (i < 0)
          return Rectangle::empty;

     // Further processing
} 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-03-05T10:38:38.170

[如果可能，按照vector::at](http://www.cplusplus.com/reference/vector/vector/at/)方法的理念抛出`out_of_range`异常。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-03-05T10:44:36.823

当值与预期结果不匹配时，您可以抛出异常。

可以在[http://www.cplusplus.com/doc/tutorial/exceptions找到教程](http://www.cplusplus.com/doc/tutorial/exceptions)

异常适用于 try and catch 原则。

程序“尝试”执行代码。如果发生意外情况，执行的代码会“抛出”一个对象、变量或其他任何东西，这将被捕获。在 catch 语句中，您可以放置​​代码，如果发生意外情况应该发生什么。

只需按照教程。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-05T22:07:23.753

您可以将枚举与返回的对象类型配对。如果返回的枚举为某个值，则该对象有效，否则该对象处于无效状态。

```
// This is a working C++11 example.
#include <utility>
#include <memory>

enum result
{
    ok,
    out_of_range,
    some_other_error
};

class object
{
    public:
        object() {}
};

typedef std::shared_ptr< object > object_ptr;

typedef std::pair< result, object_ptr > return_type;

return_type some_function( int index )
{
    if ( index > 5 )
    {
        return return_type{ result::out_of_range, nullptr };
    }

    return return_type{ result::ok, object_ptr{ new object() } };
}

int main()
{
    return_type res = some_function( 10 );
    if ( res.first == result::ok )
    {
        // Do something with res.second
    }
    else
    {
        // Handle the error
    }
} 
```

我可能会抛出一个异常。

# php - 通过 javascript 将动态文本框传递给 php

> ID：15221601
> 
> 赞同：0
> 
> 时间：2013-03-05T10:36:08.467
> 
> 标签：php, javascript, jquery, arrays

我有一个页面，用户可以在单击按钮时使用 jquery 创建可调整大小和可拖动的动态文本框。

我想将文本框中的数据以及它们在页面上的高度宽度和位置从 javascript 传递到 php。

我对此感到有点困惑，任何帮助表示赞赏。

这是我的代码

```
<!DOCTYPE html>
<html>
<meta charset="utf-8" />
<?
if($_SERVER['REQUEST_METHOD'] == "POST")  {
    $posted=$_POST['textarea']; 
    echo "posted=".$new_post."<br>";
}
?>
<head>
<style>
      body{background-color:#ccc;}
      .dragbox{position:absolute;top:20px;width:320px; height:0;padding: 0.0em; margin:25px; border:0;cursor:move; z-index:1;display: block; }
      .textarea1{ width: 300px; height: 300px; padding: 0.5em;}
      #handle{
          display: block; 
          height: 16px; 
          width: 100px; 
          background-color: red;
          position: relative;
          top:10px;
          font-size:10px;
          }
    </style>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.1/themes/base/jquery-ui.css" />  
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>  
<script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>  
</head>

<body>
<form id="frmMain" name="frmMain" enctype="multipart/form-data" action="dynamic_div.php" method="post">
<script>        
    var i=0;    
    var p=75;
    function creatediv1(id) {
        id=id+i;
        var xp=xp+i;
        var newdiv = document.createElement('div');
        newdiv.setAttribute('id', id);
        newdiv.setAttribute('class', 'dragbox');
        newdiv.setAttribute('contenteditable','true');

     newdiv.style.position = "relative";
     newdiv.style.top = p;
     newdiv.style.cursor='move';
     newdiv.innerHTML = "<div id='handle'>Drag me into position</div></div><br><textarea id="+i +" name='textarea["+i+"]' class='textarea1' width='300' style='overflow-y: auto;background-color:transparent;border: 2px dashed #000; '>some text here</textarea>";

    document.body.appendChild(newdiv);
    $(function() {                      
        $( "#"+id ).draggable({                                 
         // Find position where image is dropped.
            stop: function(event, ui) {
                // Show dropped position.
                var Stoppos = $(this).position();
                $("div#stop").text("STOP: \nLeft: "+ Stoppos.left + "\nTop: " + Stoppos.top);
                alert("left="+Stoppos.left+"top="+Stoppos.top);
            }
        }); 

        $("#"+i).resizable({
            stop: function(event, ui) {
            var width = ui.size.width;
            var height = ui.size.height;
            alert("width="+width+"height="+height);
            }
        });

        $("#"+i).draggable({handle:"#handle"});
    });  

    i++;
    p=p+25;
    }
    </script>
    <input id="btn1" type="button" value="Add New textbox" onclick="creatediv1('draggable');" />      
    <input type="submit" value="Submit"  >
   </form>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:59:25.467

从上面的讨论中，我了解到您在获取 PHP 中动态添加的文本框数据时遇到了问题，我可以建议尝试使用

```
<?php
print_r($_POST["textarea"]); //just for debugging
foreach ($_POST["textarea"] as $text_area) {
//do what you want with $text_area
}
?> 
```

**编辑**

从java脚本更改

```
....
newdiv.innerHTML = "<div id='handle'>Drag me into position</div></div><br><textarea id="+i +" name='textarea[]' class='textarea1' width='300' style='overflow-y: auto;background-color:transparent;border: 2px dashed #000; '>some text here</textarea>"; 
```

然后尝试上面的php代码。

**编辑 1**

```
<!DOCTYPE html>
<html>
<meta charset="utf-8" />
<?
if($_SERVER['REQUEST_METHOD'] == "POST")  {
    $posted=$_POST['textarea']; 
    echo "posted=".$new_post."<br>";
}
?>
<head>
<style>
      body{background-color:#ccc;}
      .dragbox{position:absolute;top:20px;width:320px; height:0;padding: 0.0em; margin:25px; border:0;cursor:move; z-index:1;display: block; }
      .textarea1{ width: 300px; height: 300px; padding: 0.5em;}
      #handle{
          display: block; 
          height: 16px; 
          width: 100px; 
          background-color: red;
          position: relative;
          top:10px;
          font-size:10px;
          }
    </style>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.1/themes/base/jquery-ui.css" />  
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>   
<script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>  
</head>

<body>
<form id="frmMain" name="frmMain" enctype="multipart/form-data" action="dynamic_div.php" method="post">
<script>        
    var i=0;    
    var p=75;
    function creatediv1(id)
    {
        id=id+i;
        var xp=xp+i;
        var newdiv = document.createElement('div');
        newdiv.setAttribute('id', id);
        newdiv.setAttribute('class', 'dragbox');
        newdiv.setAttribute('contenteditable','true');
        newdiv.style.position = "relative";
        newdiv.style.top = p;
        newdiv.style.cursor='move';
        newdiv.innerHTML = "<div id='handle'>Drag me into position</div></div><br><textarea id="+i +" name='textarea[]' class='textarea1' width='300' style='overflow-y: auto;background-color:transparent;border: 2px dashed #000; '>some text here</textarea>";

        //Updated this line
        document.getElementById("frmMain").appendChild(newdiv);
        $(function()
        {
            $( "#"+id ).draggable(
            {
                stop: function(event, ui)
                {
                    var Stoppos = $(this).position();
                    $("div#stop").text("STOP: \nLeft: "+ Stoppos.left + "\nTop: " + Stoppos.top);
                    $('.textarea1').append("left="+Stoppos.left+"top="+Stoppos.top);
                }
            }); 

            $("#"+i).resizable(
            {
                stop: function(event, ui)
                {
                    var width = ui.size.width;
                    var height = ui.size.height;
                    $('.textarea1').append("width="+width+"height="+height);
                }
            });

            $("#"+i).draggable({handle:"#handle"});
        });  

        i++;
        p=p+25;
    }
    </script>
    <input id="btn1" type="button" value="Add New textbox" onclick="creatediv1('draggable');" />      
    <input type="submit" value="Submit"  >
   </form>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T11:24:56.257

尝试这个 ：

```
name='textarea[]'

<?php
   echo "<pre>";
   print_r($_POST["textarea"]); //just for debugging
   echo "<pre>";

   for($i=0; $i<count($_POST["textarea"]);$i++) {
     //$_POST["textarea"][i] ...

   }
?> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T10:39:43.607

在此`$( "#"+id ).draggable({` 代码中，您将获得`undefined id error`因为`var id`不在全局范围内。

其次，如果你在 Global 中设置它，你将永远不会获得 id 的值，因为`creatediv1`函数设置`ID`了值，但它会在 html 完全加载时`document.ready`执行，因为代码将在 html 被加载时执行，所以`ID`值总是会出现错误，

尝试

```
<!DOCTYPE html>
<html>
<meta charset="utf-8" />
<?
if($_SERVER['REQUEST_METHOD'] == "POST")  {
    $posted=$_POST['textarea']; 
    echo "posted=".$new_post."<br>";
}
?>
<head>
<style>
      body{background-color:#ccc;}
      .dragbox{position:absolute;top:20px;width:320px; height:0;padding: 0.0em; margin:25px; border:0;cursor:move; z-index:1;display: block; }
      .textarea1{ width: 300px; height: 300px; padding: 0.5em;}
      #handle{
          display: block; 
          height: 16px; 
          width: 100px; 
          background-color: red;
          position: relative;
          top:10px;
          font-size:10px;
          }
    </style>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.1/themes/base/jquery-ui.css" />  
<script src="http://code.jquery.com/jquery-1.9.1.js"></script>   
<script src="http://code.jquery.com/ui/1.10.1/jquery-ui.js"></script>  
</head>

<body>
<form id="frmMain" name="frmMain" enctype="multipart/form-data" action="dynamic_div.php" method="post">
<script>        
    var i=0;    
    var p=75;
    function creatediv1(id)
    {
        id=id+i;
        var xp=xp+i;
        var newdiv = document.createElement('div');
        newdiv.setAttribute('id', id);
        newdiv.setAttribute('class', 'dragbox');
        newdiv.setAttribute('contenteditable','true');
        newdiv.style.position = "relative";
        newdiv.style.top = p;
        newdiv.style.cursor='move';
        newdiv.innerHTML = "<div id='handle'>Drag me into position</div></div><br><textarea id="+i +" name='textarea["+i+"]' class='textarea1' width='300' style='overflow-y: auto;background-color:transparent;border: 2px dashed #000; '>some text here</textarea>";

        document.body.appendChild(newdiv);
        $(function()
        {
            $( "#"+id ).draggable(
            {
                stop: function(event, ui)
                {
                    var Stoppos = $(this).position();
                    $("div#stop").text("STOP: \nLeft: "+ Stoppos.left + "\nTop: " + Stoppos.top);
                    $('.textarea1').append("left="+Stoppos.left+"top="+Stoppos.top);
                }
            }); 

            $("#"+i).resizable(
            {
                stop: function(event, ui)
                {
                    var width = ui.size.width;
                    var height = ui.size.height;
                    $('.textarea1').append("width="+width+"height="+height);
                }
            });

            $("#"+i).draggable({handle:"#handle"});
        });  

        i++;
        p=p+25;
    }
    </script>
    <input id="btn1" type="button" value="Add New textbox" onclick="creatediv1('draggable');" />      
    <input type="submit" value="Submit"  >
   </form>
</body>
</html> 
```

# web-applications - 如何在我的 Web 应用程序中实现 Sha512>？

> ID：15221606
> 
> 赞同：0
> 
> 时间：2013-03-05T10:36:28.637
> 
> 标签：web-applications, sha512

我想`sha512`在我的网络应用程序中实现，所以我的数据库上的密码不可见。有人如何编写代码来实现这一点？任何帮助是极大的赞赏！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-13T12:31:27.007

PHP：

```
$hashed = crypt("secret", '$6$xxxxxxxx$'); 
```

爪哇：

```
import org.apache.commons.codec.digest.Crypt;
String hashed = Crypt.crypt("secret", "$6$xxxxxxxx$"); 
```

重要的是，在加密密码时始终使用“Salt”，而不仅仅是保存 sha512(“secret”) 的输出以使“彩虹表”攻击更加困难。上面的“xxxxxxx”应该替换为字符集a–zA–Z0–9中的一个随机字符串。/

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-04T05:51:53.717

您可以像这样将 sha512 算法作为 javascript 文件包含在您的网页中，

```
 <script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/sha512.js">         </script>
 <script>
  var hash = CryptoJS.SHA512("Message");
 </script> 
```

有关更多信息，请查看页面：

[https://code.google.com/p/crypto-js/](https://code.google.com/p/crypto-js/) [https://crypto-js.googlecode.com/svn-history/r491/branches/3.x/src/sha512.js](https://crypto-js.googlecode.com/svn-history/r491/branches/3.x/src/sha512.js)

# mysql - 在 Rails 中添加具有默认值的 NOT NULL 列作为空字符串

> ID：15221607
> 
> 赞同：2
> 
> 时间：2013-03-05T10:36:31.433
> 
> 标签：mysql, ruby-on-rails, postgresql

我是 Ruby on Rails 的新手，并试图实现这一目标：

我想添加一个字符串列，它不是 NULL 并保存默认值''。

这是我的迁移：

```
add_column :campaigns, :from_name, :string, limit: 100, :null => false, :defualt => '' 
```

此迁移工作正常，但是当我在 pgAdmin (PostgresQL) 中看到表时，我看到已创建列但没有默认值：

```
from_name character varying(100) NOT NULL, 
```

我使用 pgAdmin 尝试了同样的事情，我可以创建

```
from_name character varying(100) NOT NULL DEFAULT ''::character varying, 
```

这里有什么问题？？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-25T20:56:35.297

看起来您输入的是：**defualt**而不是**default**。

尝试解决这个问题。

# objective-c - 我无法使用 imageNamed 但 initWithContentsOfFile 创建 NSImage

> ID：15221609
> 
> 赞同：2
> 
> 时间：2013-03-05T10:36:50.070
> 
> 标签：objective-c, macos, nsimage, nsbundle

使用以下代码：

```
NSString *imageString = [[NSBundle mainBundle] pathForResource:@"logo64x64" ofType:@"png"];
NSImage *testImage = [[NSImage imageNamed:@"logo64X64"] retain];
NSImage *testImage2 = [[NSImage alloc] initWithContentsOfFile:imageString]; 
```

`testImage`是 nil 但是`testImage2`一个`NSImage`实例。我不知道代码有什么问题。我确定我可以在包的资源目录中找到`logo64x64.png`和`logo64x64@2x.png`。我也尝试过`imageNamed:@"logo64X64.png"`，但仍然为零。

任何人都可以帮忙吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-05T10:43:07.733

尝试

```
[NSImage imageNamed:@"logo64x64"]; 
```

而不是

```
[NSImage imageNamed:@"logo64X64"]; 
```

请注意，在成功的代码中，您使用了小写字母`x`，而在失败的代码中，您使用了大写字母`X`( `logo64X64`)。`NSBundle`是区分大小写的，即使底层 HFS+ 文件系统只保留大小写。(`NSImage`的`+imageNamed:`方法用于`NSBundle`定位资源)。

# iphone - 仪器显示泄漏但没有物体

> ID：15221612
> 
> 赞同：0
> 
> 时间：2013-03-05T10:36:58.157
> 
> 标签：iphone, memory, memory-leaks, instruments

我可以在 Leaks 下方看到一条红线，但在调用树中什么也没有。我做错什么了吗？![在此处输入图像描述](../Images/58ad796af905fae8c705d0affe217772.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T10:59:57.997

您已选择调用树。选择泄漏...即使在此之后您什么也看不到...请提供该屏幕截图。

# import - 使用 IntelliJ IDEA 导入检查配置文件时出现问题

> ID：15221618
> 
> 赞同：0
> 
> 时间：2013-03-05T10:37:09.500
> 
> 标签：import, intellij-idea, code-inspection

我想将检查配置文件导入我的 IntelliJ IDEA 项目。我尝试了以下方法：单击检查器图标（窗口右下角）-> 配置检查-> 导入-> [选择配置文件 XML 文件]-> 确定。这样做之后，不会出现任何错误消息，看起来确实一切正常。但是当我再次查看可用检查配置文件列表时，最近导入的配置文件不可用。

难道我做错了什么？是否有关于此问题的任何已知错误？

这是文件包含的内容：

```
<?xml version="1.0" encoding="UTF-8"?>
<inspections version="1.0" is_locked="false">
  <option name="myName" value="Heavier Inspection" />
  <option name="myLocal" value="false" />
  <inspection_tool class="JavadocReference" enabled="true" level="WARNING" enabled_by_default="true" />
  <inspection_tool class="MissingClassJavaDoc" enabled="true" level="WARNING" enabled_by_default="true">
    <option name="methodDetectionLevel" value="private" />
    <option name="checkAnonymousClasses" value="true" />
    <option name="useSingleLineReferences" value="true" />
  </inspection_tool>
  <inspection_tool class="MissingFieldJavaDoc" enabled="true" level="WARNING" enabled_by_default="true" />
  <inspection_tool class="MissingMethodJavaDoc" enabled="true" level="WARNING" enabled_by_default="true">
    <option name="methodDetectionLevel" value="private" />
    <option name="checkAnonymousClasses" value="true" />
    <option name="useSingleLineReferences" value="true" />
  </inspection_tool>
  <inspection_tool class="RedundantSuppression" enabled="true" level="WARNING" enabled_by_default="true" />
  <inspection_tool class="SpellCheckingInspection" enabled="false" level="TYPO" enabled_by_default="false">
    <option name="processCode" value="true" />
    <option name="processLiterals" value="true" />
    <option name="processComments" value="true" />
  </inspection_tool>
  <inspection_tool class="TodoComment" enabled="true" level="WARNING" enabled_by_default="true" />
</inspections> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T10:39:57.087

您可以将您的 XML 文件复制/粘贴到 中`<your project path>/.idea/inspectionProfiles/`，然后它应该在设置对话框中可用以使其成为默认配置文件。

# .htaccess - 如何在 htaccess 中设置上传文件大小以上传较大的文件？

> ID：15221623
> 
> 赞同：0
> 
> 时间：2013-03-05T10:37:24.533
> 
> 标签：.htaccess, apache2, php

我有一个上传脚本，最多允许上传 2 GB。我的 apache2 服务器只允许 8MB 的 post_max_size。是否有任何解决方案可以从 htaccess 中的 php.ini 定义此类属性。我想让它像那样工作的原因是什么？我只想为我的应用程序而不是整个 apache2 服务器使用这么大的 post_max_size。

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T10:41:31.170

您可以`upload_max_filesize`在 php.ini、.htaccess 甚至 httpd.conf 中将该属性设置为您想要的任何值。如果您使用的是 PHP 5.3 以上版本，您还可以在 user.ini 中设置此属性

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:54:16.537

你可以在 htaccess 文件中试试这个：

```
php_value upload_max_filesize 100M
php_value post_max_size 100M 
```

或者您可以在项目的根文件夹中创建 php.ini 文件，将这两行

```
upload_max_filesize=100M
post_max_size=100M 
```

# maven - 每当我构建一个 Maven 项目时，pom 文件都会出现生命周期配置错误，为什么？

> ID：15221635
> 
> 赞同：0
> 
> 时间：2013-03-05T10:37:59.103
> 
> 标签：maven, m2eclipse, m2e

我是 m2e 和 Maven 方面的菜鸟。我现在想在 eclipse 中构建一个 Maven 项目，所以我安装了一个 M2E 插件。但是，每当我构建一个新的 Maven 项目时，最初的全新项目在pom文件。我检查了它，它总是发生在包装线上，我从来没有在构建新项目时自定义它，所以我应该是战争，但错误说
`"Plugin execution not covered by lifecycle configuration: org.apache.maven.plugins:maven-resources-plugin:2.4.3:resources (execution: default-resources, phase: process-resources)"` 和 `"Plugin execution not covered by lifecycle configuration: org.apache.maven.plugins:maven-resources-plugin:2.4.3:testResources (execution: default-testResources, phase: process-test-resources)-<packaging>war</packaging>"`

您能否提供一些有关如何解决此问题的提示？谢谢。

我尝试从不同类型的原型构建，但错误是相同的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T12:14:31.093

See: [http://wiki.eclipse.org/M2E_plugin_execution_not_covered](http://wiki.eclipse.org/M2E_plugin_execution_not_covered)

> To solve some long-standing issues, m2e 1.0 requires explicit instructions what to do with all Maven plugins bound to "interesting" phases (see M2E interesting lifecycle phases) of project build lifecycle. We call these instructions "project build lifecycle mapping" or simply "lifecycle mapping" because they define how m2e maps information from project pom.xml file to Eclipse workspace project configuration and behaviour during Eclipse workspace build.
> 
> Project build lifecycle mapping configuration can be specified in project pom.xml, contributed by Eclipse plugins and there is also default configuration for some commonly used Maven plugins shipped with m2e. We call these "lifecycle mapping metadata sources". m2e will create error marker like below for all plugin executions that do not have lifecycle mapping in any of the mapping metadata sources.
> 
> Plugin execution not covered by lifecycle configuration: org.apache.maven.plugins:maven-antrun-plugin:1.3:run (execution: generate-sources-input, phase: generate-sources) m2e matches plugin executions to actions using combination of plugin groupId, artifactId, version range and goal. There are three basic actions that m2e can be instructed to do with a plugin execution -- ignore, execute and delegate to a project configurator.

```
<build>
<pluginManagement>
    <plugins>
        <!-- Ignore/Execute plugin execution -->
        <!-- this is to eliminate eclipse import errors -->
        <plugin>
            <groupId>org.eclipse.m2e</groupId>
            <artifactId>lifecycle-mapping</artifactId>
            <version>1.0.0</version>
            <configuration>
                <lifecycleMappingMetadata>
                    <pluginExecutions>
                    <!-- copy-dependency plugin -->
                        <pluginExecution>
                            <pluginExecutionFilter>
                                <groupId>org.apache.maven.plugins</groupId>
                                <artifactId>maven-resources-plugin</artifactId>
                                <versionRange>[2.4.3,)</versionRange>
                                <goals>
                                    <goal>resources</goal>
                                    <goal>testResources</goal>
                                </goals>
                            </pluginExecutionFilter>
                            <action>
                                <ignore />
                            </action>
                        </pluginExecution>
                    </pluginExecutions>
                </lifecycleMappingMetadata>
            </configuration>
         </plugin>
    </plugins>
</pluginManagement> 
```

You can see more info here: [http://deepaksrivastav.com/?p=155](http://deepaksrivastav.com/?p=155)

# highcharts - 通过单击图例隐藏所有系列时的图表渲染问题

> ID：15221636
> 
> 赞同：3
> 
> 时间：2013-03-05T10:38:03.613
> 
> 标签：highcharts, highstock

重现步骤。

1.  我们有一个显示 4 个系列数据的图表，每个系列都有相应的图例。
2.  初始图表加载了 1 年的数据。
3.  然后，我们通过单击 4 个图例从图表中删除所有数据系列
4.  然后我们更改图表的缩放级别 - 例如从 6 个月缩放到 3 个月缩放。（注意：我们更改缩放而不显示数据系列）。
5.  然后，我们通过单击图例重新启用数据系列。
6.  图表未正确重绘。要让图表重绘，我们必须重新加载整个页面。

    ```
     <script src="http://code.highcharts.com/stock/highstock.js"></script>
          <script src="http://code.highcharts.com/stock/modules/exporting.js"></script>
          <div id="container" style="height: 500px; min-width: 600px"> </div>

           $(function() {
               var seriesOptions = [],
               yAxisOptions = [],
               seriesCounter = 0,
               names = ['MSFT', 'AAPL', 'GOOG'],
               colors = Highcharts.getOptions().colors;

        $.each(names, function(i, name) {
            $.getJSON('http://www.highcharts.com/samples/data/jsonp.php?filename='+ name.toLowerCase() +'-c.json&callback=?',   function(data) {
                seriesOptions[i] = {
                    name: name,
                    data: data
                };

                // As we're loading the data asynchronously, we don't know what order it will arrive. So
                // we keep a counter and create the chart when all the data is loaded.
                seriesCounter++;
                if (seriesCounter == names.length) {
                    createChart();
                }
            });
        });

        // create the chart when all data is loaded
        function createChart() {
            chart = new Highcharts.StockChart({
                chart: {
                    renderTo: 'container'
                },
                navigator: {
                                enabled: false
                            },
                legend: {
                                enabled: true
                            },

            rangeSelector: {
                selected: 4
            },
            scrollbar: {
                            enabled: false
                        },
            yAxis: {
                labels: {
                    formatter: function() {
                        return (this.value > 0 ? '+' : '') + this.value + '%';
                    }
                },
                plotLines: [{
                    value: 0,
                    width: 2,
                    color: 'silver'
                }]
            },

            plotOptions: {
                series: {
                    compare: 'percent'
                }
            },

            tooltip: {
                pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b> ({point.change}%)<br/>',
                valueDecimals: 2
            },
            series: seriesOptions
        });
    } 
    ```

    });

[JsFiddle 示例](http://jsfiddle.net/leewadhams/FDXBu/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T12:56:53.380

它看起来像一个错误，所以我在这里向我们的开发人员报告了它：[https ://github.com/highslide-software/highcharts.com/issues/1568](https://github.com/highslide-software/highcharts.com/issues/1568)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-24T09:41:05.303

**一个简单的解决方法**：
经过反复试验，我发现如果您不禁用导航器，则不会出现上述错误。（导航器默认启用。）

注释该行，如下所示：

```
navigator: {
     //enabled: false
} 
```

Js 小提琴：http: [//jsfiddle.net/msjaiswal/FDXBu/1/](http://jsfiddle.net/msjaiswal/FDXBu/1/)

当然，这是 Highcharts 中的一个错误，但我们可以接受上述简单的解决方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-07T15:47:05.967

此问题已在HighStock版本[1.3.2中得到解决。](http://www.highcharts.com/downloads/zips/Highstock-1.3.2.zip)

# java - Jenkins with Subversion 最好导出？

> ID：15221637
> 
> 赞同：1
> 
> 时间：2013-03-05T10:38:04.280
> 
> 标签：java, jenkins, svn, building, svn-checkout

使用 Jenkins 和 Subversion 构建项目时，使用**checkout**命令还是使用**export**
更好？

 ****我知道结帐，会给你一个工作副本，你可以使用 Subversion 的提交和更新命令（如果需要，稍后），你还可以获得 .svn 文件夹。通过使用导出，Subversion 只需获取项目的副本（并且没有 .svn 文件夹）。

构建项目的最佳实践是什么？

谢谢你的回答，

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-05T10:41:39.417

使用结帐和选项“模拟干净结帐”。

如果您使用导出，那么您将在每次构建时对您的项目进行全面检查，从而减慢速度，并在您的 SVN 服务器上增加负载。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-11-26T19:28:49.787

`svn checkout`是出了名的低效和缓慢。

如果 Jenkins 出于检查编译错误和/或运行单元测试的目的进行构建，则永远不需要进行任何进一步的 SVN 更改。因此`svn export`，在这种情况下当然应该使用。`svn export` *人们应该特别*喜欢它，因为它比`svn checkout`. 它还导致磁盘空间消耗大约是结帐的一半。

我对詹金斯为什么不提供`svn export`标准选项感到困惑。

[1] 在我雇主的一个示例回购中，`checkout`需要 12 - 13 分钟，`export`不到 2 分钟。生成的导出大小为 343MB；结帐的大小约为 646MB。****

# function - 函数变量中的jquery函数无法识别

> ID：15221641
> 
> 赞同：0
> 
> 时间：2013-03-05T10:38:14.733
> 
> 标签：function, variables, click, jquery

我有这两个函数（函数中的函数），但第二个函数没有触发，因为似乎 indxc 无法从父函数中捕获 id。

```
$(".guddi").live('click',function(){
    $("#licolor").show();
    var indx = $(this).attr("id");
    if (indx < 0) {
    $('#color').css('display','none');
    return;
    }
    var item = '<div class="fn_menu_title pointer risch"><span>Choose color</span></div><ul class="fn_menu">';
    for (g=0; g < menu[indx].color.length; g++){
    item += '<li><span class="pointer search_link" searchkey="'+ leString +' xdz'+ menu[indx].wert + ' xdz'+ menu[indx].color[g].farbe +'" id="'+[g]+'">' + menu[indx].color[g].farbe + '</span></li>';
    }

    $("#color").html(item+'</ul>').fadeIn();
    $("#color").menuFlip();

    $(".risch").live('click',function(){
        $("#liqual").show();
        var indxc = $(this).attr("id");
        if (indxc < 0) {
        $('#qual').css('display','none');
        return;
        }
        var item2 = '<div class="fn_menu_title pointer"><span>Choose quality</span></div><ul class="fn_menu">';
        for (i=0; i < menu[indx].color[indxc].quality.length; i++){
        item2 += '<li><span class="pointer search_link" searchkey="'+ leString +' xdz'+ menu[indx].color[indxc].quality[i].wert +'">' + menu[indx].color[indxc].quality[i].wert + '</span></li>';
        }

        $("#qual").html(item2+'</ul>').fadeIn();
        $("#qual").menuFlip();
    });
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T10:48:38.457

`live()`在 Jquery 中已贬值，因此您可以`on()`改用，例如

并尝试`alert`在第二个功能内。

```
$(".risch").on('click',function(){
   alert($(this).attr("id"));
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-05T10:46:37.090

你可以这样做：

```
$(document).on('click', ".guddi", function(){
   // all the stuff but not the second elem clik event
}); 
```

把它放在外面并这样做：

```
$(document).on('click', ".risch", function(){
   // all stuff related to this event.
}); 
```

你需要一个`event delegation`到`closest existing parent`. 在你的代码中很难得到，所以这就是为什么我委托给`document`它自己，因为这是页面中所有元素的父级。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T10:41:28.770

只需从函数内部删除 click 函数并将其写入外部，这应该可以工作..`live`已弃用，所以我正在使用`on`..

**你的问题**是..你在点击事件中有点击事件..所以要触发`.risch`点击事件你必须点击`.guddi`它又是不可能的，因为你不能一次点击两次......分开保存..现在文件可以找到每个点击事件并相应地触发它......所以它可以工作

```
$(".guddi").on('click',function(){
  $("#licolor").show();
  var indx = $(this).attr("id");
  if (indx < 0) {
   $('#color').css('display','none');
   return;
  }
  var item = '<div class="fn_menu_title pointer risch"><span>Choose color</span></div><ul class="fn_menu">';
  for (g=0; g < menu[indx].color.length; g++){
     item += '<li><span class="pointer search_link" searchkey="'+ leString +' xdz'+ menu[indx].wert + ' xdz'+ menu[indx].color[g].farbe +'" id="'+[g]+'">' + menu[indx].color[g].farbe + '</span></li>';
  }

  $("#color").html(item+'</ul>').fadeIn();
  $("#color").menuFlip();
});

$(".risch").on('click',function(){
    $("#liqual").show();
    var indxc = $(this).attr("id");
    if (indxc < 0) {
      $('#qual').css('display','none');
      return;
    }
    var item2 = '<div class="fn_menu_title pointer"><span>Choose quality</span></div><ul class="fn_menu">';
    for (i=0; i < menu[indx].color[indxc].quality.length; i++){
       item2 += '<li><span class="pointer search_link" searchkey="'+ leString +' xdz'+ menu[indx].color[indxc].quality[i].wert +'">' + menu[indx].color[indxc].quality[i].wert + '</span></li>';
    }

    $("#qual").html(item2+'</ul>').fadeIn();
    $("#qual").menuFlip();
 }); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-05T11:29:54.923

我发现了我的错误。谢谢@Devang Rathod ...这是主提示:)

```
var item = '<div class="fn_menu_title pointer risch"><span>Choose color</span></div><ul class="fn_menu">';
 for (g=0; g < menu[indx].color.length; g++){
 item += '<li><span class="pointer search_link" searchkey="'+ leString +' xdz'+ menu[indx].wert + ' xdz'+ menu[indx].color[g].farbe +'" id="'+[g]+'">' + menu[indx].color[g].farbe + '</span></li>'; 
```

}

改成这个

```
var item = '<div class="fn_menu_title pointer"><span>Choose color</span></div><ul class="fn_menu">';
  for (g=0; g < menu[indx].color.length; g++){
     item += '<li><span class="pointer search_link risch" searchkey="'+ leString +' xdz'+ menu[indx].wert + ' xdz'+ menu[indx].color[g].farbe +'" id="'+[g]+'">' + menu[indx].color[g].farbe + '</span></li>';
  } 
```

.risch 位于错误的 HTML 元素中

# c# - 使用 C# 将排序添加到嵌套的 Gridview ASP.net

> ID：15221643
> 
> 赞同：3
> 
> 时间：2013-03-05T10:38:26.460
> 
> 标签：c#, asp.net, visual-studio, sorting, gridview

我已经到处搜索了如何在我的页面上实现这一点。我有一个顶级gridview，它允许排序和嵌套gridviews，它们在页面编译时动态生成，所以'x'个嵌套gridviews位于动态html div中，可以在用户命令中从不可见切换到可见。我遇到的问题是，我无法弄清楚如何在不折叠 div/导致回发的情况下允许对这些嵌套的网格视图进行排序。

下面展示了在asp.net中如何生成主gridview（gvSalesDiv）和嵌套gridview（gvTheDivisionCustomers）

```
 <asp:GridView ID="gvSalesDiv" AllowSorting="true" onsorting="GridView1_Sorting" runat="server" GridLines="Both" OnRowDataBound="gvOrderLineDetail_RowDataBound" AutoGenerateColumns="False"
        Width="100%" Height="210px" BackColor="WhiteSmoke" AlternatingRowStyle-BackColor="#DADDE2"
        HeaderStyle-Font-Size="Medium"  Visible="true">
        <Columns>
        <asp:TemplateField HeaderText="Toggle Detail">
                    <ItemTemplate>
                        <a href="javascript:switchViews('div<%# Eval("SalesDivision") %>');">

                        <img id="imgdiv<%# Eval("SalesDivision") %>" alt="toggle"  border="0"
                         src="/salesconsole/toggle-off.png" />
                        </a>                      

                    </ItemTemplate>
                    </asp:TemplateField>

        <asp:BoundField DataField="SalesDivision"  HeaderText="Sales Division">

                <ItemStyle  Font-Bold="True" ForeColor="CornflowerBlue" HorizontalAlign="Center"></ItemStyle>
                </asp:BoundField>
                <asp:BoundField DataField="LastDay" SortExpression="LastDay" DataFormatString="{0:C}" HeaderText="Last 24 Hours" >

                </asp:BoundField>
                <asp:BoundField DataField="LastWeek" SortExpression="LastWeek" DataFormatString="{0:C}" HeaderText="Last 7 Days" >

                </asp:BoundField>
                <asp:BoundField DataField="Last30Days" SortExpression="Last30Days" DataFormatString="{0:C}" HeaderText="Last 30 Days" >

                </asp:BoundField>
                <asp:BoundField DataField="Last3Months" SortExpression="Last3Months" DataFormatString="{0:C}" HeaderText="Last 3 Months" >

                </asp:BoundField>
                <asp:BoundField DataField="Last6Months" SortExpression="Last3Months" DataFormatString="{0:C}" HeaderText="Last 6 Months" >

                </asp:BoundField>
                <asp:BoundField DataField="LastYear" SortExpression="LastYear" DataFormatString="{0:C}" HeaderText="Last Year" >

                </asp:BoundField>
                <asp:TemplateField>
                    <ItemTemplate>
                                 <tr>
                                 <td colspan="100">     
                             <div id="div<%# Eval("SalesDivision") %>" style="display:none;position:relative;left:25px;" >

         <h3 title="<%# Eval("SalesDivision") %> Sales"><%# Eval("SalesDivision") %> Sales Breakdown</h3>

        <asp:GridView ID="gvTheDivisionCustomers" AllowSorting="true" onsorting="GridView2_Sorting" BackColor="WhiteSmoke" AlternatingRowStyle-BackColor="#DADDE2"
          Width="100%" 
        AutoGenerateColumns="false" runat="server">
        <Columns>
        <asp:TemplateField HeaderText="Show More Detail">
                    <ItemTemplate>
                       <a href="sales-customers-detail.aspx?CustomerID=<%# Eval("CustomerID") %>&CustomerName=<%# Eval("CustomerName") %>" target="_blank" style="color:Blue; text-decoration:underline"> More Details
                        </a>                      

                    </ItemTemplate>
                    </asp:TemplateField>

        <asp:BoundField DataField="CustomerID" HeaderText="ID"/>
        <asp:BoundField DataField="CustomerName" HeaderText="Name"  />
        <asp:BoundField DataField="Last24Hours" HeaderText="Last 24 Hours" SortExpression="LastDay" DataFormatString="{0:C}"  />
        <asp:BoundField DataField="Last7Days" HeaderText="Last 7 Days" SortExpression="Last7Days" DataFormatString="{0:C}"  />
       <asp:BoundField DataField="Last30Days" HeaderText="Last 30 Days" SortExpression="Last30Days" DataFormatString="{0:C}"  />
       <asp:BoundField DataField="Last3Months" HeaderText="Last 3 Months" SortExpression="Last3Months" DataFormatString="{0:C}"  />
       <asp:BoundField DataField="Last6Months" HeaderText="Last 6 Months" SortExpression="Last6Months" DataFormatString="{0:C}"  />
       <asp:BoundField DataField="LastYear" SortExpression="LastYear" HeaderText="Last Year" DataFormatString="{0:C}" />

       </Columns>

        </asp:GridView>

                               </div>    
                                 </td></tr>    
                              </ItemTemplate>

                                            </asp:TemplateField>  
        </Columns>
        </asp:GridView> 
```

我在 Page_Load 上填充主网格视图，并使用 OnRowDataBound 方法创建嵌套的网格视图。我有一个用于主网格视图的排序方法，它也可以正常工作。下面是嵌套网格视图的 OnSorting 方法，这是我卡住的地方......我无法访问这个对象

```
 protected void GridView2_Sorting(Object sender, GridViewSortEventArgs e)
{
    // TO DO : Sort the nested gridview....All I can get at is the sort expressions or
    cast the sender into a gridview but even then I wouldn't know the correct SQL query to bind with unless I knew which 'div' I was in... 

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T11:58:02.393

所以基本上我们可以说，您正在寻找一个 ID 或其他可以为排序方法创建查询的东西？如果这是正确的，我们可以找到解决方案。在第一个 gridviews(gvSalesDiv) ItemTemplate 中放置一个新标签，如下所示：

```
 <asp:Label ID="lblID" runat="server" Text='<%# Bind("Id") %>'></asp:Label> 
```

在代码隐藏中你可以找到它：

```
Label lblID = (Label)((GridView)sender).NamingContainer.FindControl("lblID"); 
```

希望它有效！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T11:48:48.630

如果您正在寻找如何获取 gridview 所在的父 div，您可以使用以下命令：

首先，您需要将 sender 转换为 gridview，然后创建一个 html 元素并将其转换为 gridview 的父级。像这样：

```
 Dim test As Button = CType(sender, Button)
    Dim div As HtmlGenericControl
    div = CType(test.Parent, HtmlGenericControl)
    Dim t As String = test.ID 
```

在此示例中，我将发件人投射到一个按钮，但您可以轻松更改它。在这个例子中，你需要让 div 在服务器上运行，使用 "runat="server""。如果您不想在服务器端创建它，您可以更改从 HTMLGenericControl 转换为 ContentPlaceHolder 的方式。让我知道这是否有帮助或您需要更多信息。

# javascript - Dynamicjs 形状随着时间的推移颜色褪色

> ID：15221647
> 
> 赞同：0
> 
> 时间：2013-03-05T10:38:36.840
> 
> 标签：javascript, colors, html5-canvas, kineticjs

我有一个关于褪色的简单问题。

我想让一种颜色在持续时间内融入另一种颜色。如果我使用 kineticjs，您可以使用：.transitionTo()。您可以设置持续时间，他将在给定的持续时间内执行操作。

可悲的是，它仅适用于不透明度和运动。颜色仍然会立即放置，而不是随着时间的推移混合。我怎样才能仍然有两种颜色的淡入？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-05T16:50:00.713

TransitionTo 只用于数值，color 不是数值，所以不能在其上使用 transitionTo。

要过渡颜色，您必须创建自己的解决方案。

尝试一些现有的 jQuery：http: [//jsfiddle.net/sg3s/ktTD6/](http://jsfiddle.net/sg3s/ktTD6/)

```
jQuery(function($) {

$('#bg-animated').hover(function() {

    $(this).data('bg-original', $(this).css('backgroundColor')).animate({
        backgroundColor: '#FF0000'
    }, 500);

}, function() {

    $(this).animate({
        backgroundColor: $(this).data('bg-original')
    }, 500);

});

}); 
```

[使用 jquery 进行背景颜色更改过渡](https://stackoverflow.com/questions/14363220/background-color-change-transition-with-jquery)

# angularjs - Angularjs 与 jquery 插件的集成

> ID：15221654
> 
> 赞同：-1
> 
> 时间：2013-03-05T10:38:45.130
> 
> 标签：angularjs

我需要将 angularjs 与 Galleria 或超大图片库插件集成。

我的目的是在图像滑动时与服务器进行通信，问题是 Galleria 对不同的操作（例如图像更改）有自己的回调

```
Galleria.on('image', function(e) {
  Galleria.log(this); // the gallery scope
}); 
```

问题是如何在图像更改时通知 Angular js 控制器功能。

角度的新手，所以这可能是一个愚蠢的问题，但尝试了很多来弄清楚但无法找到任何东西。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T14:20:48.873

如果`this`回调中是一个 DOM 元素，您可以使用该元素所在的控制器访问范围：

```
var controllerScope= angular.element(this).scope();
/* update a variable in scope*/
controllerScope.someVar=this.src;
/* use $apply() so angular reacts to update*/
controllerScope.$apply(); 
```

DEMO（使用 jQuery 循环插件）

[http://jsfiddle.net/RUTN5/](http://jsfiddle.net/RUTN5/)

# java - Java 8 lambda 表达式和一等值

> ID：15221659
> 
> 赞同：30
> 
> 时间：2013-03-05T10:38:52.103
> 
> 标签：java, lambda, java-8

Java 8 的闭包真的是一流的价值，还是只是一种语法糖？

* * *

## 回答 #1

> 赞同：60
> 
> 时间：2013-03-06T07:27:40.710

我会说 Java 8 闭包（“Lambdas”）既不是语法糖，也不是一流的值。

[我在回答](https://softwareengineering.stackexchange.com/a/181743/59134)另一个 StackExchange 问题时已经解决了语法糖的问题。

至于 lambdas 是否是“头等舱”，这真的取决于你的定义，但我会证明 lambdas 并不是真正的头等舱。

从某种意义上说，lambda 想要成为一个函数，但 Java 8 并没有添加函数类型。而是将 lambda 表达式*转换为*函数式接口的实例。这允许将 lambdas 添加到 Java 8 中，只需对 Java 的类型系统进行少量更改。转换后，结果是一个引用，就像任何其他引用类型一样。事实上，使用 Lambda ——例如，在一个传递了 lambda 表达式作为参数的方法中——与通过接口调用方法没有区别。接收函数接口类型参数的方法无法判断它是否传递了 lambda 表达式或恰好实现该函数接口的某个类的实例。

有关 lambda 是否为对象的更多信息，请参阅此问题的[Lambda 常见问题解答](http://www.lambdafaq.org/are-lambda-expressions-objects/)。

鉴于 lambda 被转换为对象，它们继承（字面上）对象的所有特征。特别是对象：

*   有各种方法，如`equals`, `getClass`, `hashCode`, `notify`, `toString`, 和`wait`
*   有一个身份哈希码
*   可以被`synchronized`块锁定
*   可以使用`==`and`!=`和`instanceof`运算符进行比较

等等。事实上，所有这些都与lambda 的预期用途**无关。**他们的行为本质上是不确定的。您可以编写一个使用其中任何一个的程序，您会得到一些结果，但结果可能因版本而异（甚至运行运行！）。

更简洁地重申这一点，在 Java 中，对象具有*标识*，但值（特别是函数值，如果它们存在的话）不应该有任何标识的概念。Java 8 没有函数类型。相反，lambda 表达式被转换为对象，因此它们有很多与函数无关的包袱，尤其是身份。对我来说，这似乎不是“头等舱”。

**2013-10-24 更新**

自从几个月前发布我的答案以来，我一直在进一步思考这个话题。从技术角度来看，我上面写的一切都是正确的。结论可能更准确地表示为 Java 8 lambdas 不是*纯*值（与*first-class*相对），因为它们携带了大量对象包袱。然而，仅仅因为它们不纯并不意味着它们不是一流的。考虑一等函数的[维基百科定义。](https://en.wikipedia.org/wiki/First-class_function)简而言之，那里列出的考虑一流功能的标准是以下能力：

*   将函数作为参数传递给其他函数
*   从其他函数返回函数
*   将函数分配给变量
*   在数据结构中存储函数
*   让函数匿名

Java 8 lambda 满足**所有**这些标准。所以这确实让他们看起来是一流的。

文章还提到了没有特殊地位的函数名称，而是函数名称只是一个变量，其类型是函数类型。Java 8 lambda 不满足最后一个标准。Java 8 没有函数类型；它具有功能接口。这些可以像函数类型一样有效地使用，但它们根本不是函数类型。如果您有一个类型为函数式接口的引用，您不知道它是 lambda、匿名内部类的实例，还是碰巧实现该接口的具体类的实例。

总而言之，Java 8 的 lambda 比我最初想象的更具有一流的功能。它们只是不是*纯粹*的一流功能。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-05T10:43:41.387

**是**的，它们是一流的值（或者将是，一旦 Java 8 发布......）

从某种意义上说，您可以将它们作为参数传递，将它们组合成高阶函数，将它们存储在数据结构中等。您将能够将它们用于广泛的函数式编程技术。

有关“头等舱”在此上下文中的含义的更多定义，另请参见：

*   [http://en.wikipedia.org/wiki/First-class_citizen](http://en.wikipedia.org/wiki/First-class_citizen)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-05T10:45:57.430

正如我所看到的，它是语法糖，但除了类型推断、`java.util.functions`内部类的新包和语义之外，它确实显示为一等值。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-05T10:52:40.157

*将变量绑定到外部上下文*的真正闭包有一些开销。我会认为 Java 8 的实现是最优的，足够纯净。

至少它不仅仅是语法糖。

而且我不知道任何更优化的实现。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-09-23T11:02:49.983

对我来说，Java 8 中的 Lambdas 只是*语法糖*，因为你不能将它用作 First class Citizen ( [http://en.wikipedia.org/wiki/First-class_function](http://en.wikipedia.org/wiki/First-class_function) ) 每个函数都应该包装到对象中，与它相比它施加了很多限制具有纯一流功能的语言，如 SCALA。Java 8 闭包只能捕获不可变（“实际上是最终的”）非局部变量。

这里有更好的解释为什么它是语法糖[Java Lambdas 和 Closures](https://stackoverflow.com/questions/11404218/java-lambdas-and-closures)

# android - Theming ActionBarSherlock 给出 api 级别错误

> ID：15221660
> 
> 赞同：10
> 
> 时间：2013-03-05T10:38:55.137
> 
> 标签：android, actionbarsherlock

我将我的项目从 Android 4.2 更新到了 Android 4.2.2，我的 style.xml 中突然出现了这个错误：

```
<style name="Theme.Styled" parent="Theme.Sherlock.Light.DarkActionBar">
    <item name="actionBarStyle">@style/Widget.Styled.ActionBar</item>
   <!-- Requires level 11\. Current: 7 --> <item name="android:actionBarStyle">@style/Widget.Styled.ActionBar</item>
</style> 
```

我该如何解决？根据 ABS 文档，这就是应该这样做的方式。见：[http ://actionbarsherlock.com/theming.html](http://actionbarsherlock.com/theming.html)

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-07T00:49:36.877

我尝试重新启动，但我最终需要清理项目：单击“项目->清理...”

每次我保存我的 styles.xml 时，错误都会回来。目前，我在编辑该文件以避免错误时暂时将我的最低 API 级别设置为 11，然后当我想在我的低 API 级别模拟器上运行它时将其重置并清理。

**编辑：**如果您不喜欢人为地将最小 SDK 版本设置为高，我也可以将其更改为 14（其他一些较高的数字），保存 AndroidManifest.xml，将其更改回来，然后再次保存。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-03-17T23:06:12.380

我使用了建议的 Eclipse 快速修复（下划线元素上的 CTRL-1）并添加了警告抑制*工具：ignore="NewApi"*

```
<item name="android:actionBarStyle" tools:ignore="NewApi">@style/Widget.Styled.ActionBar</item> 
```

这样您就不必忽略整个 Lint 警告，这在其他情况下可能很方便，并且您可以编译项目而无需在每次编辑文件时重新调整目标 API。

*更新*：正如greg7gkb 在评论中指出的那样：不要忘记命名空间声明（`xmlns:tools="schemas.android.com/tools"`）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-11-10T16:20:49.813

最终，您确实应该在 API 特定的 styles.xml 文件中添加导致错误的属性。

这个 SO 答案比我描述的要好得多：[android:actionBarStyle requires API level 11](https://stackoverflow.com/questions/15339150/androidactionbarstyle-requires-api-level-11)

我认为所有其他答案都不是修复，而是解决方法（颠覆错误，但最终没有修复它）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-08-21T23:41:04.500

在 Intellij IDEA（可能也是 eclipse）中，您可以通过添加来抑制整个文件的 API 警告

```
<!--suppress AndroidLintNewApi --> 
```

在声明架构之前。因此，您的 xml 文件将如下所示：

```
<!--suppress AndroidLintNewApi -->
<resources xmlns:android="http://schemas.android.com/apk/res/android">
    < ... />
</resources> 
```

# maven - Maven 程序集包含工件的特定版本

> ID：15221661
> 
> 赞同：1
> 
> 时间：2013-03-05T10:38:57.687
> 
> 标签：maven, include, dependencies, maven-assembly-plugin

我在 DependencySet 包含部分中包含了几个 jar

```
<includes>
    <include>dom4j:dom4j:jar</include>
    <include>log4j:log4j:jar</include>
</includes> 
```

但是我得到了 dom4j-1.5.jar 和 log4j-1.2.jar。由于 repo 中有许多其他版本，我想为我的应用程序提取特定版本。[dom4j-1.6.1.jar 和 log4j-1.2.5.jar]

如何强制 maven 在 Assembly.xml 中拾取特定版本？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-05T11:33:34.233

尝试以下格式的包含：

```
(groupId:artifactId:type:[classifier:]version) 
```

或者，修复您的依赖关系。您可以通过将显式依赖项添加到要在 pom.xml 中用于调用程序集插件的依赖项的版本中来做到这一点。

# android - 如何将存储在设备上的电子邮件信息检索到我的应用程序中

> ID：15221664
> 
> 赞同：1
> 
> 时间：2013-03-05T10:39:01.987
> 
> 标签：android

我正在处理一项任务，我想将存储在设备上的电子邮件检索到我的应用程序中，就像我们可以使用 SMS 消息一样。任何人都可以帮助我如何做到这一点？如果我们无法检索电子邮件，那么 Google 或 Android 会自行给出任何具体原因。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:44:28.387

你不能这样做。

您可以检索 SMS，因为 Android 提供了一个内容提供程序来允许您访问 SMS 数据库。

但是，电子邮件主要由两个应用程序处理：Gmail 和股票电子邮件应用程序。这些应用程序都没有提供对其数据库的访问权限。此外，他们只在本地存储最近的电子邮件，并在需要时从服务器中提取更多。

如果您确实需要访问电子邮件，您可以随时要求用户使用您的应用登录他们的电子邮件帐户。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:43:25.837

据我所知不可能。原因是此电子邮件未本地存储在设备上，它是在用户登录时即时获取并存储的。

# ruby-on-rails - 清除用户头像

> ID：15221666
> 
> 赞同：1
> 
> 时间：2013-03-05T10:39:05.217
> 
> 标签：ruby-on-rails, paperclip

我通常会得到我们生产数据的数据库转储来测试和修复错误。由于我们允许用户上传他们自己的头像，当我尝试加载使用用户头像的页面时，我会收到很多 404。这会影响我的测试时间，所以我想从数据库中清除所有用户的头像。是否有捷径可寻？我用回形针。

```
User.rb

has_attached_file :avatar 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T10:40:25.387

最好使用 rake 任务来解决这个问题。

创建一个名为`avatars.rake`inside的文件`lib/tasks`

```
desc "Clear all avatars"
task clear_avatars: :environment do
  User.find_each do |user|
    user.avatar = nil 
    user.save(validate: false)
  end 
end 
```

然后只需`rake clear_avatars`在您的终端上调用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:45:43.063

正如 jvnill 所说，您应该手动删除该数据。
但是，如果您有很多用户，则遍历所有用户将花费大量时间。

```
task clear_avatars: :environment do
  User.update_all 'avatar = NULL'
end 
```

您只执行一个 SQL 查询并删除所有头像。

# c# - 执行批处理文件未在项目文件夹中使用空间运行

> ID：15221667
> 
> 赞同：0
> 
> 时间：2013-03-05T10:39:14.940
> 
> 标签：c#, file, batch-file, command, dos

我有一个简单的问题，但我不知道如何处理。那就是：我有一个简单的批处理文件，可以删除文件夹中的所有文件（例如）。我可以在任何地方运行它，但我想通过 C# 的应用程序执行它。一切都很好如果项目文件夹不包含空格（“示例：`C:\Project Test\test.bat`”将是错误“但” `C:\ProjectTest\test.bat`“完成”）。

下面是我要运行的源代码（我再说一遍：如果项目文件夹在文件夹名称中包含空格，则只会出错）。如果项目文件夹没有空间，则在运行文件批处理时不会出错。

```
 Process myProcess = new Process();
        myProcess.StartInfo.FileName = "cmd.exe";
        myProcess.StartInfo.Arguments = "D:\\prepare.bat";
        myProcess.StartInfo.WorkingDirectory = "D:\\";
        myProcess.StartInfo.UseShellExecute = false;
        myProcess.StartInfo.RedirectStandardOutput = true;

        //myProcess.StartInfo.WindowStyle = ProcessWindowStyle.Hidden;
        myProcess.Start();
        StreamReader myStreamReader = myProcess.StandardOutput;
        string myString = myStreamReader.ReadLine();
        MessageBox.Show(myProcess.StartInfo.Arguments + " " + myString);
        myProcess.WaitForExit(); 
```

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:44:13.603

而不是`"C:\Project Test\test.bat"`使用`"\"C:\Project Test\test.bat\""`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-05T10:42:14.093

尝试将脚本路径放在引号中：

```
myProcess.StartInfo.Arguments = "\"D:\\Project Test\\prepare.bat\""; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-05T10:43:18.307

将您的论点用引号括起来，如下所示：

```
myProcess.StartInfo.Arguments = "\"C:\\Project Test\\test.bat\"" 
```

或者

```
myProcess.StartInfo.Arguments = @"\"C:\Project Test\test.bat\"" 
```

传递给 cmd 时，必须引用参数。

# css - 导航栏 100% 的页面，居中图像

> ID：15221669
> 
> 赞同：0
> 
> 时间：2013-03-05T10:39:25.050
> 
> 标签：css, image, button, width, navbar

好的，所以我已经开始为我正在做的一个项目创建一个网站。我目前正在整理我的网站的布局，但卡在导航栏上。

我希望我的导航栏覆盖 100% 的网站，并水平/垂直居中我的按钮（图像）。

我有什么作品......但我只是想知道我是否以最有效的方式做这件事？

这是我的html。

```
<div id="wrapper">
  <div id="header">

    <div id="navbar_left">
    </div>

    <div id="navbar_buttons">
        <img src="../Originals/button_home.png" />
        <img src="../Originals/button_logo.png" />
    </div>

    <div id="navbar_right">
    </div>

  </div>
</div> 
```

这是我的CSS：

```
#wrapper {
    width: 100%;
    margin: 0 auto;
    padding: 0;
}

#header {
    height: 123px;
    width: 100%;
    background-image: url(../../Originals/header_background.png);
}

#navbar_left {
    width: 25%;
    height: 123px;
    float: left;
}

#navbar_buttons {
    height: 123px;
    width: 50%;
    float: left;
    line-height: 123px;
    text-align:center;
}

#navbar_buttons::after {
    content: ".";
    visibility: hidden;
}

#navbar_right {
    width: 25%;
    height: 123px;
    float: left;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T10:53:06.113

查看[这个 jsFiddle](http://jsfiddle.net/cherryflavourpez/DFBk6/)以了解如何简化标记和 CSS 的一个示例。它`inline-block`用于您的图像。

HTML（使用`header`元素）：

```
<div id="wrapper">
  <header>
    <img src="http://placehold.it/200x100" />
    <img src="http://placehold.it/200x100" />
  </header>
</div> 
```

和 CSS：

```
header {
    text-align: center;
    background: #222;
}
header img {
    display: inline-block;
    vertical-align: bottom;
} 
```

请注意，默认情况下是 a `div`，`display: block`因此您无需指定 100% 的宽度：它将填充可用宽度。同样，您不需要声明 a `margin`or`padding`因为他们没有做任何事情。

如果可以避免，我也会避免声明固定高度：只需让您的父`div`级扩展到其内容的高度即可。

# ms-access - vba代码根据ID将文件插入表中

> ID：15221672
> 
> 赞同：1
> 
> 时间：2013-03-05T10:39:39.870
> 
> 标签：ms-access

我开发了将文件插入到访问数据库表的附件字段中的代码。该表称为“报告”，附件字段称为“Field1”。目前，我的代码将文件插入到“报告”表中的第一条记录中，我想做的是根据记录的 ID 添加附件，例如（将附件添加到 ID = 某个值的 Field1 ) . 这可能有人可以帮助我吗？

```
Instantiate the parent recordset.
Set rsfile = db.OpenRecordset("Reports")

 Do While Not rsfile.EOF
If rsfile.Fields("ID").Value = 1 Then
' Activate edit mode.
rsfile.Edit

' Instantiate the child recordset.
Set rsReport = rsfile.Fields("Field1").Value

'Add a new attachment.
filePath = "C:\dbPDF\sitereport.pdf"
rsReport.AddNew
rsReport.Fields("FileData").LoadFromFile (filePath)
rsReport.Update

' Update the parent record
rsfile.Update

rsfile.MoveNext
Loop 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:58:02.087

如果条件匹配，您可以迭代思想报告并更新，应该类似于：

```
rsfile = db.OpenRecordset("Reports")

Do While Not rsfile.EOF
 If rsfile.Fields("ID").Value = 1 Then
    'Activate edit mode.
    rsfile.Edit

    'Instantiate the child recordset.
    Set rsReport = rsfile.Fields("Field1").Value
    'Add a new attachment.
    filePath = "C:\dbPDF\sitereport.pdf"
    rsReport.AddNew
    rsReport.Fields("FileData").LoadFromFile (filePath)
    rsReport.Update 
    'Update the parent record
    rsfile.Update
 End If
'Next row
 rsfile.moveNext
Loop 
```

# android-layout - 如何在android中对齐表格布局

> ID：15221675
> 
> 赞同：0
> 
> 时间：2013-03-05T10:39:46.383
> 
> 标签：android-layout

我正在开发一些基于 web 服务的 android 应用程序...我想在我的应用程序中显示下面的类型表视图..我该怎么办？

动态表格布局代码

```
for (int i = 0; i < 1; i++) {
                        final LinearLayout linear = new LinearLayout(
                                FifthActivity.this);
                        MainLayout.setWeightSum(1.0f);
                        TableRow row1 = new TableRow(FifthActivity.this);
                        row1.setId(1000 + sCount);
                        TextView text1 = new TextView(FifthActivity.this);
                        text1.setText(button.getText());
                        final Button button = new Button(FifthActivity.this);
                        EditText e = new EditText(FifthActivity.this);

                        e.setWidth(20);
                        e.setHeight(20);
                        button.setText(" X ");
                        button.setWidth(20);
                        button.setHeight(20);
                        button.setId(2000 + sCount);
                        button.setOnClickListener(new OnClickListener() {

                            @Override
                            public void onClick(View v) {
                                MainLayout.removeView(findViewById(v
                                        .getId() - 1000));
                            }
                        });

                        sCount++;
                        row1.setLayoutParams(new TableLayout.LayoutParams(TableLayout.LayoutParams.MATCH_PARENT, 0, 0.25f));      
                        row1.addView(text1);
                        row1.addView(e);
                        row1.addView(button);
                        MainLayout.addView(row1);

                    }
                    ll.addView(MainLayout);
                    // TODO Auto-generated method stub 
```

这是输出

![在此处输入图像描述](../Images/a8d0375413a895f18195f4aee9d19d36.png)

我怎样才能将此表格列对齐为视图格式....请任何人帮助我....提前谢谢.....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T11:29:29.440

你不应该去拜访`setWeightSum()`你的父母。

您的**MainLayout**的类型是什么？

我猜它不是**TableLayout ，因为****TableLayout**中的表格行会自动对齐。

所以让你`MainLayout`的 a`TableLayout`应该做你想做的事。

[请参阅此处](http://developer.android.com/reference/android/widget/TableLayout.html)的 TableLayout 文档。

# javascript - Javascript，检测触摸设备

> ID：15221680
> 
> 赞同：4
> 
> 时间：2013-03-05T10:39:59.490
> 
> 标签：javascript, touch

我正在使用此功能来检测设备是否为触摸设备：

```
function is_touch_device()
{
    return !!('ontouchstart' in window) || !!('onmsgesturechange' in window);
}; 
```

从这里获得此功能：[使用 JavaScript 检测“触摸屏”设备的最佳方法是什么？](https://stackoverflow.com/questions/4817029/whats-the-best-way-to-detect-a-touch-screen-device-using-javascript)

但由于 Chrome 25 (25.0.1364) 它在我的不是触摸设备的桌面上返回 true。此外，我已将 IE9 更新为 IE10，它在 IE 中返回 true！

四处搜索，但找不到任何有用的东西来解决这个问题，除了使用这样的东西：http: [//detectmobilebrowsers.com/](http://detectmobilebrowsers.com/)

你有什么建议吗？

我期待着您的回复！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-16T17:50:23.437

代码工作得很好，浏览器能够理解触摸事件，仅仅因为您的屏幕不可触摸并不意味着浏览器不支持该功能。您要测试的是无法真正测试的硬件功能。您总是可以使用不同的方法来查看用户在触摸一次后是否实际使用触摸界面，例如[本文](http://alastairc.ac/2010/03/detecting-touch-based-browsing/)描述的，或者大型库使用的许多其他方法，例如 Modernizer。

作为参考，上面文章中实际使用的代码是：

```
function isTouchDevice() {
   var el = document.createElement('div');
   el.setAttribute('ongesturestart', 'return;');
   if(typeof el.ongesturestart == "function"){
      return true;
   }else {
      return false
   }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-10-05T18:31:01.503

当我从笔记本电脑访问我一直在处理的网站时，我也遇到了误报 IE10 触摸问题。原来的`is_touch_device`方法，我用的基本一样。我将该语句的后半部分修改为以下内容：

```
function is_touch_device()
{
    return !!('ontouchstart' in window) || (!!('onmsgesturechange' in window) && !!window.navigator.maxTouchPoints);
} 
```

`window.navigator.maxTouchPoints`根据这篇文章，似乎是 IE10 中的特定内容：http: [//msdn.microsoft.com/en-us/library/hh772144 (v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/hh772144(v=vs.85).aspx)

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-06-12T11:04:33.973

您可以使用[Modernizr](http://modernizr.com/)来检测触摸功能。

这个问题非常类似于[What's the best way to detect a 'touch screen' device using JavaScript?](https://stackoverflow.com/questions/4817029/whats-the-best-way-to-detect-a-touch-screen-device-using-javascript) 也许应该被认为是重复的。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-03-05T12:39:14.800

这似乎有效：

```
function isTouchEnabled() { return !!document.createTouch; } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-07-15T08:40:38.500

您可以使用[51dergees.mobi](http://51degrees.mobi)在服务器上适当地更改页面视图进行检测。它具有 HasTouchScreen、IsSmartPhone、IsTablet 属性等。

# symlink - ack 找不到符号链接

> ID：15221681
> 
> 赞同：4
> 
> 时间：2013-03-05T10:40:07.073
> 
> 标签：symlink, ack

这是一个测试：

```
$ ln -nfs ~/.ssh ssh  # Create a symlink in current dir.
$ ack -g ssh          # => nothing found
$ ack -a -g ssh       # => same here
$ find . -name ssh    # => found: ./ssh 
```

我做错了什么？)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-05-05T06:43:58.697

有两件事出乎你的意料。

首先，如果您不使用`--follow`开关， ack 将忽略符号链接。

其次，更重要的是，`ack -g`没有找到目录。它只查找文件。ack 是一个基于文件的实用程序。它不是像`find`is 这样的通用实用程序。

# java - 以编程方式渲染 Play 2.0 视图

> ID：15221683
> 
> 赞同：0
> 
> 时间：2013-03-05T10:40:09.353
> 
> 标签：java, playframework-2.0

使用 Play 2.1.0，我有一个 Java 控制器，其动作负责呈现任意 html 视图。

例如：

```
class HtmlClientViews extends Controller {    
    public static void getView(String viewName) {
        return ok(/*How to render the view programmatically?*/)
    }
} 
```

在我看来，我有一个名为 account.html.scala 的视图。

我有这样的路线：

```
GET   /htmlclient/*viewName        controllers.HtmlClientViews.getView(viewName) 
```

如果我提出 /htmlclient/account.html 之类的请求，我想呈现名为 account.html.scala 的视图

我还没有尝试为此使用 Java 反射机制，但想知道实现这一目标的最有效方法是什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T17:02:08.173

你可以这样做：

1.  反射，就像在`Play Authenticate`使用示例中一样，它用于根据检测到的语言选择不同的视图
2.  如果您知道视图数量，您可以在控制器中使用简单的 switch 语句来返回视图`a`、`b`或。`c``d`
3.  也如没有。2 - 您可以`matching`根据某些变量在视图中使用语句来包含子视图。

# java - 使用 MultiActionController 的 Spring Rest API 定义

> ID：15221685
> 
> 赞同：0
> 
> 时间：2013-03-05T10:40:17.143
> 
> 标签：java, spring, rest, servlets, web.xml

我正在使用 JBoss servlet 引擎中的 Java/Spring/Maven 并利用 MultiActionController 设置 REST api。

`I want to do is to group requests to a Single controller`例如： all `/requestA goes to Controller a`，具有针对不同请求的多种方法，例如 -`/requestA/add.do goes to add-function`

*   `/requestA/delete.do goes to delete-function.`

我一直在阅读 Spring 文档： [http](http://static.springsource.org/spring/docs/3.0.0.M3/spring-framework-reference/html/ch18s02.html) ://static.springsource.org/spring/docs/3.0.0.M3/spring-framework-reference/html/ch18s02.html 和 [http://static.springsource.org /spring/docs/3.0.0.M3/spring-framework-reference/html/ch16s03.html#mvc-controller-multiaction](http://static.springsource.org/spring/docs/3.0.0.M3/spring-framework-reference/html/ch16s03.html#mvc-controller-multiaction)

但是我在 xml 中的调度程序配置中遇到了一些问题。有谁知道如何在 Spring MVC 中实现这一点的好例子。

springapp-servlet.xml

```
 <?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd">

    <bean name="/test/*.do" class="org.test.TestControllerA" />
</beans> 
```

web.xml

```
 <?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns="http://java.sun.com/xml/ns/javaee" xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
    id="WebApp_ID" version="2.5">
    <display-name>springTest</display-name>

    <servlet>
        <servlet-name>springapp</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
        <load-on-startup>1</load-on-startup>
    </servlet>

    <servlet-mapping>
        <servlet-name>springapp</servlet-name>
        <url-pattern>*.html</url-pattern>
    </servlet-mapping>
</web-app> 
```

和 Java 控制器

```
 public class TestControllerA extends MultiActionController {

    @RequestMapping("/TEST")
    public ModelAndView add(HttpServletRequest request, HttpServletResponse response) throws Exception {
    System.out.println("Test42");
    return new ModelAndView();
  }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T12:39:10.040

您缺少 servlet 映射

```
<servlet-mapping>
    <servlet-name>springapp</servlet-name>
    <url-pattern>*.do</url-pattern>
</servlet-mapping> 
```

您的网址具有扩展名`*.do`，但未映射到`springapp`. 因此，将上述配置添加到您的`web.xml`

# ajax - 为什么 Twitter API 授权数据可以通过 GET 或 POST 参数而不是 HTTP 标头发送？

> ID：15221686
> 
> 赞同：2
> 
> 时间：2013-03-05T10:40:19.270
> 
> 标签：ajax, oauth, http-headers, twitter

我在 Greasemonkey 脚本中使用 oauth.js 和 sha1.js：

```
// ==UserScript==
// @name        twitter_api
// @namespace   twitter
// @include     *
// @version     1
// @require http://oauth.googlecode.com/svn/code/javascript/oauth.js
// @require http://pajhome.org.uk/crypt/md5/sha1.js
// ==/UserScript==

var url = "https://api.twitter.com/1.1/statuses/update.json";
var accessor = {
  token: "XXX",
  tokenSecret: "XXX",
  consumerKey : "XXX",
  consumerSecret: "XXX"
};
var message = {
  action: url,
  method: "POST",
  parameters: {status: "apitest"}
};
OAuth.completeRequest(message, accessor);
OAuth.SignatureMethod.sign(message, accessor);
var authorization = "OAuth oauth_consumer_key=\"" + encodeURIComponent(OAuth.getParameterMap(message.parameters).oauth_consumer_key) + "\""
            + ", oauth_nonce=\"" + encodeURIComponent(OAuth.getParameterMap(message.parameters).oauth_nonce) + "\""
            + ", oauth_signature=\"" + encodeURIComponent(OAuth.getParameterMap(message.parameters).oauth_signature) + "\""
            + ", oauth_signature_method=\"HMAC-SHA1\""
            + ", oauth_timestamp=\"" + encodeURIComponent(OAuth.getParameterMap(message.parameters).oauth_timestamp) + "\""
            + ", oauth_token=\"" + encodeURIComponent(OAuth.getParameterMap(message.parameters).oauth_token) + "\""
            + ", oauth_version=\"1.0\""; 
```

将 Authorization 标头与 POST 请求一起使用：

```
GM_xmlhttpRequest({
  method: "POST",
  url: url,
  data: "status=apitest",
  headers: {
    "Content-Type": "application/x-www-form-urlencoded",
    "Authorization": authorization
  },
  onload: function(response) {
    alert(response.responseText);
  }
}); 
```

仅对 POST 请求使用 GET 参数：

```
GM_xmlhttpRequest({
  method: "POST",
  url: url + '?' + OAuth.formEncode(message.parameters),
  onload: function(response) {
    alert(response.responseText);
  }
}); 
```

仅对 POST 请求使用 POST 参数：

```
GM_xmlhttpRequest({
  method: "POST",
  url: url,
  data: OAuth.formEncode(message.parameters),
  headers: {
    "Content-Type": "application/x-www-form-urlencoded"
  },
  onload: function(response) {
    alert(response.responseText);
  }
}); 
```

当 Twitter 明确表示您必须发送 Authorization 标头时，为什么这 3 个 AJAX 请求会起作用？ [https://dev.twitter.com/docs/auth/authorizing-request](https://dev.twitter.com/docs/auth/authorizing-request)

如果 GET、POST、HTTP 标头授权都被接受，为什么我更喜欢 HTTP 标头，它更安全还是因为它是 API 调用而无关紧要？

# objective-c - ARC 已启用。为什么'dealloc'方法不调用？

> ID：15221689
> 
> 赞同：1
> 
> 时间：2013-03-05T10:40:28.747
> 
> 标签：objective-c, memory, automatic-ref-counting

ARC 已启用。为什么'dealloc'方法不调用？我应该在这里使用**@autoreleasepool**吗？为什么？谢谢你。

```
@interface Test : NSObject
@end

@implementation Test

+(id)testFromNothing
{
  id res = [Test alloc];
  return res;
}

-(void)dealloc
{
  NSLog(@"deallocated");
}

@end

int main(int argc, const char * argv[])
{
  Test* test = [Test testFromNothing];
  return 0;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-05T10:43:49.430

是的，您应该在`main`. 另一个问题是您没有在`testFromNothing`.

原因：您应该在输入线程（包括主线程）的任何地方创建自动释放池。当然，如果该线程只使用 C 代码，则不会自动释放 objc 对象，因此在这些情况下没有必要。

关于“为什么？” -- ARC 也使用自动释放并期望自动释放池始终存在。程序需要正确支持自动释放语义，因为 ARC 还假设它可以使用自动释放池，并且正确设置自动释放池是程序员的责任（在某些情况下）。ARC 与 GC 不同，并且在引用计数操作和引用计数操作发生的顺序方面与 MRC 非常相似。使用 GC，可以使用多种收集方案（例如，您可以在收集之前看到大量增长，或者收集可能发生在辅助线程上），但 ARC 的操作类似于结构良好的保留/释放/自动释放操作——加上一些技巧/扩展名。

# wpf - 编码的 UI 在 .Net 4.0 64 位应用程序中找不到正确的控制

> ID：15221690
> 
> 赞同：0
> 
> 时间：2013-03-05T10:40:29.650
> 
> 标签：wpf, .net-4.0, 64-bit, coded-ui-tests

Coded UI Editor 能够在`.Net 3.5 AnyCPU`应用程序中找到控件

但是此应用程序已移至`.Net 4.0`并定位到`64 bit Platform`.

现在应用程序第一次找到控件，当我们按下刷新按钮时，编辑器 ( `Coded UI Test Builder Popup`) 会显示

```
Unable to locate the selected UI control 
```

测试日志中的错误

```
W, 6404, 5, 2013/03/05, 15:58:51.140, 19627190016, CodedUITestBuilder.exe, Playback - [WARNING] Internal warning:Search failure: <[UIA]ControlType='TabList' && AutomationId='ADCTRL_TabControl'> | Performed (4) search retries, UI element not found 
V, 6404, 5, 2013/03/05, 15:58:51.141, 19627190318, CodedUITestBuilder.exe, Playback - 3.5.2013 @15:58:51 
E, 6404, 5, 2013/03/05, 15:58:51.141, 19627190475, CodedUITestBuilder.exe, Playback - {1} [FAILED] Function ElementFetcher::FindScreenElement failed to locate UI element (Searching: ;[UIA]ControlType='TabList' && AutomationId='ADCTRL_TabControl';[UIA]ControlType='TabPage' && AutomationId='TABITEM_GameSettings';[UIA]ControlType='Button' && AutomationId='SelectableText') (The object specified was not found.) 
E, 6404, 5, 2013/03/05, 15:58:51.281, 19627573969, CodedUITestBuilder.exe, Playback - [IMAGE] C:\Users\AD\AppData\Local\Temp\UITestLogs\CodedUITestBuilder\LastRun\RPFCBBB.png 
W, 6404, 5, 2013/03/05, 15:58:51.281, 19627574279, CodedUITestBuilder.exe, Playback - [WARNING] Internal warning: Couldn't find descendants that match QueryId 
W, 6404, 5, 2013/03/05, 15:58:51.282, 19627575169, CodedUITestBuilder.exe, PERF WARNING: FindAllDescendents: took 4909 ms. Expected it to take maximum 500 ms.
V, 6404, 5, 2013/03/05, 15:58:51.293, 19627604746, CodedUITestBuilder.exe, AL: Setting search timeout to 120000 ms
V, 6404, 5, 2013/03/05, 15:58:51.293, 19627604912, CodedUITestBuilder.exe, PERF: AL : SearchHelper.Search: took 5067 ms. 
```

我完全糊涂了。我在 .NET 3.5 但不是 .Net 4.0.... 任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-20T05:22:34.453

IF 编码 UI 无法找到控件尝试在使用控件执行操作之前发送焦点。这段代码对我有用。

// 在使用 UINOButton 控件之前将焦点设置到 UINOButton this.UIWindow2.UINOWindow.UINOButton.SetFocus();

# c# - 从子窗体重新加载 MDI 父级

> ID：15221692
> 
> 赞同：0
> 
> 时间：2013-03-05T10:40:33.857
> 
> 标签：c#, winforms

我需要在我的一个子表单事件中重新加载 Mdi Parent 表单。

我使用了下面的代码，但它不起作用

```
//Child form even
private void btnChange_Click(object sender, EventArgs e)
{
     this.ParentForm.Refresh();
} 
```

有什么解决方案请任何人建议我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T11:04:08.503

1) 您必须确保 MDI 父窗体的属性`IsMdiContainer`设置为`true`。
2）您必须确保子窗体的`MdiParent`属性设置为父窗体：

```
ChildForm child = new ChildForm();
child.MdiParent = this;
child.Show(); 
```

3）然后您可以从具有以下`MdiParent`属性的子级访问 MDI 父级：

```
this.MdiParent.Refresh(); // or this.MdiParent.Invalidate(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T12:35:04.543

如果您只想执行`Load`父表单的事件主体，您应该重新设计您的类以允许多次调用代码。

例如，假设您有一个名为`Form1`.

```
public partial class Form1 : Form
{
    public Form1()
    {
        InitializeComponent();
    }

    private void Form1_Load(object sender, EventArgs e)
    {
        InitializeFormData();
    }

    public void InitializeFormData()
    {
        // do the initialization
    }
} 
```

`InitializeFormData`现在您可以轻松地在任何子窗体上调用该方法：

```
((Form1)this.MdiParent).InitializeFormData(); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-05T12:08:46.857

在父表单中使用以下代码重新绘制 UI，

```
this.Controls.Clear();

this.InitializeComponent(); 
```

# html - 圆形覆盖不拉伸 100%

> ID：15221693
> 
> 赞同：0
> 
> 时间：2013-03-05T10:40:37.393
> 
> 标签：html, css

我正在尝试用悬停时显示橙色的图片动态填充圆圈。但是，我的图片有一个奇怪的橙色边框。关于如何“拉伸”图片以覆盖橙色的任何想法？先感谢您！下面的代码：

HTML 代码：

```
<div class='overlay'>
    <div class='circle' style='background:url(http://www.bigpicture.in/wp-content/uploads/2010/08/BlackAndWhitePortraitsPhotography26.jpg) 100% no-repeat;background-size:cover'>
</div> 
```

CSS 代码：

```
.circle {
    float: left;
    background: #d9d6d1;
    width: 180px;
    height: 180px;
    border-radius: 50%;
    -moz-border-radius: 50%;
    -webkit-border-radius: 50%;
    -moz-transition: all 0.5s; 
    -webkit-transition: all 0.5s; 
    -ms-transition: all 0.5s; 
    -o-transition: all 0.5s; 
    transition: all 0.5s; 
    opacity:1;
    filter:alpha(opacity=100);
}

.circle:hover {
    opacity: 0.5;
    filter:alpha(opacity=50);
}

.overlay {
    float: left;
    background:#fd761f;
    margin: 5px;
    width: 180px;
    height: 180px;
    border-radius: 50%;
    -moz-border-radius: 50%;
    -webkit-border-radius: 50%;
} 
```

jsfiddle：http: [//jsfiddle.net/hpPpD/](http://jsfiddle.net/hpPpD/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T11:33:08.503

这对我有用：

```
.overlay:hover {
    float: left;
    background:#fd761f;
    width: 180px;
    height: 180px;
    border-radius: 50%;
    -moz-border-radius: 50%;
    -webkit-border-radius: 50%;
} 
```

我唯一改变的是添加`:hover`到`.overlay`类并删除`margin:5px`

**注意：**图像在 CSS 中变圆和调整大小的方式取决于其原始大小。

# java - 从 unmodifiableSet 创建 unmodifiableSet

> ID：15221695
> 
> 赞同：0
> 
> 时间：2013-03-05T10:40:37.857
> 
> 标签：java, collections, immutability

[Collections.unmodifiableSet](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Collections.html#unmodifiableSet%28java.util.Set%29)允许我创建一个不可修改的集合视图。我假设这是通过包装提供的集合来完成的。如果从已经不可修改的集合中创建不可修改的集合，是否会有任何性能问题？

例如

```
Set<String> set = Collections.unmodifiableSet(Collections.unmodifiableSet(Collections.unmodifiableSet(new HashSet<String>()))); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T11:43:26.323

Collections.unmodifiableSet - 只是用 UnmodifiableSet 实例包装一个集合，它只是代理所有方法调用。额外的有限方法调用序列不是性能考虑的主题，如果你不是在谈论成千上万的包装器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T12:16:37.143

方法签名是：

```
public static <T> Set<T> unmodifiableSet(Set<? extends T> s) {
    return new UnmodifiableSet<T>(s);
} 
```

在课堂`Collections`上。它返回一个新的 object 实例`UnmodifiableSet`。现在这个类是内部静态类：

```
static class UnmodifiableSet<E> extends UnmodifiableCollection<E> implements Set<E>, Serializable 
```

在类中`UnmodifiableCollection`，方法如`add`,`remove`等。这就是为什么。`addAll``throws UnsupportedOperationException``Unmodifiable`

现在，如果您实例化数千次集合当然会出现问题。

# c# - StreamReader.ReadLine 抛出一个奇怪的 ArgumentOutOfRangeException

> ID：15221699
> 
> 赞同：1
> 
> 时间：2013-03-05T10:40:48.753
> 
> 标签：c#, .net, streamreader

我`StreamReader`在一个大文本文件（~300 MB）上使用 a 并在循环中调用 ReadLine() 最终会引发一个奇怪的问题`ArgumentOutOfRangeException`：

```
Index and count must refer to a location within the buffer.
Parameter name: bytes 
```

堆栈跟踪是：

```
at System.Text.DecoderNLS.GetChars(Byte[] bytes, Int32 byteIndex, Int32 byteCount,
Char[] chars, Int32 charIndex, Boolean flush)
at System.Text.DecoderNLS.GetChars(Byte[] bytes, Int32 byteIndex, Int32 byteCount,
Char[] chars, Int32 charIndex)
at System.IO.StreamReader.ReadBuffer()
at System.IO.StreamReader.ReadLine()
.... 
```

这是一些奇怪的记忆错误吗？它不会抛出`OutOfMemoryException`，所以我有点迷路了。它发生在第 2000 行左右。到那时，即使它继续执行成功的 ReadLine()，它也会开始在其他地方抛出奇怪的异常。因此，某处可能存在内存泄漏，但是有什么特定的`ReadLine()`或`StreamReader`需要查看的吗？

我的文本文件中的每一行正好是 24 个字符长。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:47:55.073

如果问题特定于 StremReader.ReadLine() 它可能是：

*   下一行的字符数大于 Int32.MaxValue
*   您传递给 StremReader 构造函数的缓冲区太小

# java - 类型错误的非法开始

> ID：15221703
> 
> 赞同：1
> 
> 时间：2013-03-05T10:40:58.293
> 
> 标签：java

有人可以帮我吗？我在 }) 行中有一个错误类型错误的非法开始；我对如何解决这个问题感到非常困惑。任何帮助将不胜感激。代码如下：

```
public SubokUlit(){
    String mgaPagkainTo[] = {"PM1 (Paa/ Spicy Paa with Thigh part)","PM2 (Pecho)","PM3 (Pork Barbeque 4 pcs.)","PM4 (Bangus Sisig)","PM5 (Pork Sisig)","PM6 (Bangus Inihaw)","SM1 (Paa)","SM2 (Pork Barbeque 2 pcs.)","Pancit Bihon","Dinuguan at Puto","Puto","Ensaladang Talong","Softdrinks","Iced Tea","Halo-Halo","Leche Flan","Turon Split"};
    JFrame frame = new JFrame("Mang Inasal Ordering System");
    JPanel panel = new JPanel();
    combo = new JComboBox(mgaPagkainTo);
    combo.setBackground(Color.gray);
    combo.setForeground(Color.red);
    panel.add(combo);
    frame.add(panel);

    combo.addActionListener(new ActionListener(){
        public void actionPerformed(ActionEvent e){
            String str = (String)combo.getSelectedItem();
            a = str;
            if(a == "PM1 (Paa/ Spicy Paa with Thigh part)"){
                Wew();
            }
            else if(a == "PM2 (Pecho)"){
                Wew1(); 
            }
        });  // I am getting an error in this line
    }

    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    frame.setSize(300,100);
    frame.setVisible(true);
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-05T10:42:47.030

你`);`放错地方了：它应该`}`在下一行之后：

```
combo.addActionListener(new ActionListener(){
    public void actionPerformed(ActionEvent e){
        String str = (String)combo.getSelectedItem();
        a = str;
        // Comparing strings should use equals, not ==
        if(a.equals("PM1 (Paa/ Spicy Paa with Thigh part)")){
            Wew();
        } else if(a.equals("PM2 (Pecho)")){
            Wew1(); 
        }
    } // <<== Not here: this brace ends the method
}); // <<== It should be after the brace that ends the anonymous class 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-05T10:43:28.780

更改您的代码

```
});  // I am getting an error in this line
} 
```

到

```
}  // I am getting an error in this line
});
 ^ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T10:44:35.497

做这个

```
}  // I am getting an error in this line
}); 
```

而不是这个：

```
});  // I am getting an error in this line
} 
```

# java - 用于查找创建 DB 连接且仍处于打开状态的 Java 类的实用程序？

> ID：15221706
> 
> 赞同：0
> 
> 时间：2013-03-05T10:41:07.023
> 
> 标签：java, jdbc

在项目中说某处连接未关闭。

那么Java中是否有任何东西（任何实用程序、api或其他东西）来检查我们打开数据库连接的Java类？

提前致谢 ..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T10:43:33.997

[FindBugs](http://findbugs.sourceforge.net/)可以找到这样的东西：[Method may fail to close database resource](http://findbugs.sourceforge.net/bugDescriptions.html#ODR_OPEN_DATABASE_RESOURCE)。

另一个工具是[PMD](http://pmd.sourceforge.net/)：[CloseResource](http://pmd.sourceforge.net/pmd-5.0.2/rules/java/design.html)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-05T10:43:54.387

您可以使用`netstat`命令查看所有打开的连接。如果您知道数据库的主机/端口，则可以检查到它的打开连接。

# c# - 在用户控件之间导航时的动画

> ID：15221707
> 
> 赞同：0
> 
> 时间：2013-03-05T10:41:09.013
> 
> 标签：c#, wpf, animation

我想在从一个 UserControl 导航到另一个 UserControl 时创建一些动画。它可以是任何简单的动画，就像我们在 MS PowerPoint 中的效果一样。

我该如何开始？

**编辑：**

让我们采取以下 xaml

```
<StackPanel>
                    <Label>
                        <Hyperlink Click="ConfigureAccounts_Click">
                            <TextBlock>Configure Accounts</TextBlock>
                        </Hyperlink>
                    </Label>
                    <Label>
                        <Hyperlink Click="ConfigurePassangersList_Click">
                            <TextBlock>Accounts</TextBlock>
                        </Hyperlink>
                    </Label>
                </StackPanel> 
```

在这里点击我正在做的超链接 -

```
private void ConfigureAccounts_Click(object sender, RoutedEventArgs e)
    {
        ContentGrid.Children.Clear();
        //Here is the animation
        ContentGrid.Children.Add(new ConfigureAccounts());
    }
    private void ConfigurePassangersList_Click(object sender, RoutedEventArgs e)
    {
        ContentGrid.Children.Clear();
        //Here is the animation
        ContentGrid.Children.Add(new ConfigurePassangersList());
    } 
```

我调用的两个构造函数只是 UserControls。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T16:04:02.657

[WPF Bag of Tricks](http://www.google.com.ar/url?sa=t&rct=j&q=wpf%20bag%20of%20tricks&source=web&cd=1&ved=0CDIQFjAA&url=https://github.com/thinkpixellab/bot&ei=aRY2UfmXBYK2rQGgsYB4&usg=AFQjCNGOVY3ndrESJo3rLj52RKTOPt-siw&bvm=bv.43148975,d.aWM)有一个`TransitionPresenter`类，它基本上是一个`ContentPresenter`支持动画转换的类：

基本用法：

```
 <bot:TransitionPresenter Content="{Binding SomeViewModelForWhichYouHaveADataTemplateDefined}">
      <bot:TransitionPresenter.Transition>
          <bot:FadeTransition Duration="00:00:00.3"/>
      </bot:TransitionPresenter.Transition>
  </bot:TransitionPresenter> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:43:45.827

您可以使用鼠标悬停选项..更改颜色。这将是一个简单的开始。

我不把它称为动画。如果你真的需要这个动画。你需要从 Flash 脚本动画开始。这是导航动画更好的动画。

希望这可以帮助。:)

# ios - 从自定义相册 ios 中删除照片

> ID：15221714
> 
> 赞同：0
> 
> 时间：2013-03-05T10:42:07.967
> 
> 标签：ios

我正在使用从自定义相册加载照片的 IOS 应用程序。现在我需要从自定义相册中删除照片。有什么方法可以删除照片。

在此先感谢 Varadharaj

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T10:53:32.843

抱歉，您无法删除用户相册中保存的任何照片。苹果没有提供 API 来做到这一点。

# validation - Symfony 2 - 设置 UniqueEntity 消息

> ID：15221716
> 
> 赞同：2
> 
> 时间：2013-03-05T10:42:09.637
> 
> 标签：validation, symfony, doctrine-orm

我有一个带有[UniqueEntity](http://symfony.com/doc/2.0/reference/constraints/UniqueEntity.html)约束的 Symfony 2/Doctrine 2 实体。如文档中所示，应该可以设置自定义错误消息。我绑定了以下语法，但这不起作用：

```
/**
 * @ORM\Entity
 * @ORM\Table(name="User")
 * @UniqueEntity("email", message="Your E-Mail adress has already been registered")
 */
class User 
```

UniqueEntity 约束消息的正确表示法是什么？还是文档完全错误？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-05T10:54:02.010

如果您在此注释中使用 only fields 选项，则可以将其用作默认选项（唯一没有名称的选项）。但是，当您指定其他设置时，您必须指定 fields 属性。

```
/**
 * @ORM\Entity
 * @ORM\Table(name="User")
 * @UniqueEntity(
 *     fields={"email"},
 *     message="Your E-Mail adress has already been registered"
 * )
 */
class User 
```

# sql - sql存储过程将代码转换为带有原始代码的字符串中的文本

> ID：15221722
> 
> 赞同：-4
> 
> 时间：2013-03-05T10:42:37.613
> 
> 标签：sql, sql-server-2008, stored-procedures

我有一个字符串，其中的代码用逗号分隔，

例子：

```
@inputText = "1,2,3,4,5" 
```

我需要转换为：

```
@outputText = "apple, peach, orange, banana, onion" 
```

我有代码表：

```
id name
-- ----
1  apple
2  peach
3  orange
4  banana
5  onion 
```

我正在使用 sql server 2008

我需要执行此操作的存储过程代码，谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-05T10:54:20.450

您可以使用`FOR XML PATH`with`LIKE`替换逗号分隔列表中的值：

```
declare @text varchar(50) = '1,2,3,4,5'

;with cte as 
(
    select @text list
) 
select 
(
    select ', '+c.name
    from codes c
    where ','+t1.list+',' like '%,'+cast(c.ID as varchar(10))+',%'
    for xml path(''), type
).value('substring(text()[1], 3)', 'varchar(max)') as NewList
from cte t1 
```

这是基于[@Mikael Eriksson的回答](https://stackoverflow.com/questions/14911167/split-function-in-sql-server-2008/14918846#14918846)

# jquery - 带有滚动条的 Kendo UI Grid 的延迟加载

> ID：15221725
> 
> 赞同：5
> 
> 时间：2013-03-05T10:42:44.330
> 
> 标签：jquery, kendo-grid, lazy-loading

如何虚拟地加载剑道网格？

假设我有 10,000 条记录，并且我想在页面加载时仅显示 30 条记录，当用户向下滚动时，如何延迟加载额外的 30 条记录块？就像脸书墙一样。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-05T14:08:19.477

我认为您正在寻找[此演示，](http://demos.kendoui.com/web/grid/virtualization-remote-data.html)它描述了如何设置 Kendo 网格以使用远程数据进行虚拟化，但简而言之，您需要指定网格将在初始化时进行虚拟化。

```
$("#grid").kendoGrid({                
    scrollable: {
        virtual: true
    }
}); 
```

# django - Django，gunicorn 4 工作人员的每秒请求数较低

> ID：15221727
> 
> 赞同：13
> 
> 时间：2013-03-05T10:42:46.993
> 
> 标签：django, django-templates, memcached, gunicorn

我试图看看为什么我的 django 网站（gunicorn 4 workers）在重负载下很慢，我做了一些分析[http://djangosnippets.org/snippets/186/](http://djangosnippets.org/snippets/186/)没有任何明确的答案，所以我从头开始使用一些负载测试`ab -n 1000 -c 100 http://localhost:8888/`

一个简单的 Httpreponse("hello world") 没有中间件 ==> 3600req/s

带有中间件（缓存会话、缓存身份验证）的简单 Httpreponse("hello world") ==> 2300req/s

一个简单的 render_to_response 只打印一个表单（缓存模板）==> 1200req/s（响应时间除以 2）

具有 50 个内存缓存查询的简单 render_to_response ==> 157req/s

Memcache 查询应该比这快得多（我使用的是 PyLibMCCache）？模板渲染和这个结果一样慢吗？

我尝试了不同的分析技术，但没有成功。

```
$ ulimit -a
core file size          (blocks, -c) 0
data seg size           (kbytes, -d) unlimited
scheduling priority             (-e) 0
file size               (blocks, -f) unlimited
pending signals                 (-i) 46936
max locked memory       (kbytes, -l) 64
max memory size         (kbytes, -m) unlimited
open files                      (-n) 400000
pipe size            (512 bytes, -p) 8
POSIX message queues     (bytes, -q) 819200
real-time priority              (-r) 0
stack size              (kbytes, -s) 8192
cpu time               (seconds, -t) unlimited
max user processes              (-u) 46936
virtual memory          (kbytes, -v) unlimited
file locks                      (-x) unlimited

$ sysctl -p

fs.file-max = 700000
net.core.somaxconn = 5000
net.ipv4.tcp_keepalive_intvl = 30 
```

我正在使用 ubuntu 12.04（6Go 内存，核心 i5）

请问有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-09T13:40:29.273

这实际上取决于执行 memcached 请求和打开新连接需要多长时间（django 在请求完成时关闭连接），您的工作人员和 memcached 都能够处理更多的压力，但当然如果需要 5/做一个 memcached 调用需要 10 毫秒，然后其中 50 个将成为瓶颈，因为网络延迟乘以调用次数。

现在你只是在对 django、gunicorn、你的机器和你的网络进行基准测试。

除非你在这个级别有什么严重错误，否则这个测试不会给你指出非常有趣的发现。

您的应用程序运行速度变慢的原因很可能与您使用 db 和 memcached 的方式有关（可能在模板渲染时）。

出于这个原因，我真的建议您获取 django 调试工具栏并查看实际页面中发生的情况。

如果事实证明打开与 memcached 的连接是瓶颈，您可以尝试使用连接池并保持连接打开。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-29T13:46:27.093

您可以调查 memcached 的性能。

```
$ python manage.py shell
>>> from django.core.cache import cache
>>> cache.set("unique_key_name_12345", "some value with a size representative of the real world memcached usage", timeout=3600)
>>> from datetime import datetime
>>> def how_long(n):
        start = datetime.utcnow()
        for _ in xrange(n):
            cache.get("unique_key_name_12345")
        return (datetime.utcnow() - start).total_seconds() 
```

通过这种往返测试，我发现 1 个 memcached 查找在我的服务器上大约需要 0.2 毫秒。

django.core.cache 和 pylibmc 的问题在于函数是阻塞的。在 HTTP 请求的往返行程中，您可能会获得该数字的 50 倍。50 乘以 0.2 毫秒已经是 10 毫秒。

如果您在没有 memcached 的情况下在 4 个 worker 上实现 1200 req/s，则平均 HTTP 往返时间为 1/(1200/4) = 3.33 ms。再加上 10 毫秒，它变成了 13.33 毫秒。4 名工人的吞吐量将下降到 300 req/s（这恰好在您的 157 号的范围内）。

# html - 谷歌浏览器中的css图像最大宽度不一致

> ID：15221728
> 
> 赞同：3
> 
> 时间：2013-03-05T10:42:48.887
> 
> 标签：html, css

我在调整表格单元格内某些图像的大小时遇到​​问题。

请在 chrome 中查看此页面，然后在 IE9/FF 中查看：

[http://jsbin.com/iqehip/1](http://jsbin.com/iqehip/1)

是的，我知道这个表格库标记非常可怕，很高兴它不是我的，糟糕的是我无法更改它，因为它是使用特殊标签从服务器加载的（即：{{gallery}}）

但这不是我目前遇到的问题。如您所见，如果您在 IE/FF 中查看顶部的代码，则缩略图图像不会像在 chrome 中那样缩小尺寸。

如果我给`table td img`a`width:100%;`它会在有很多缩略图时看起来很好，但是当只有 1 或 2 个缩略图时，图像将变得比它们的原始大小更大并且被像素化。

`max-width:100%;`是否有任何 CSS“hack”或技巧可以复制 chrome在 IE/FF 中呈现图像的方式？

谢谢你

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T02:57:45.823

在`<table>`您要添加的内部

```
table-layout: fixed; 
```

# excel - VBA 使用表和循环

> ID：15221733
> 
> 赞同：0
> 
> 时间：2013-03-05T10:42:57.447
> 
> 标签：excel, loops, resize, vba

创建一个 VBA 循环以重新调整 Excel 项目中所有表的大小。

表名列表存储在“Tlist”命名范围中

如果写入表名，则此代码所有工作。

代码在此循环中用于列计数，但在 x 的第二次引用（重新调整大小）时，出现“下标超出范围”的错误

将鼠标悬停在调试的第二个 x 上，Excel 似乎正确读取它，但我无法让它重新调整表格大小与列表对象函数不支持循环中的文本有关吗？还是我做错了这个循环并且需要以不同的方式定义 x ？非常感谢任何帮助。

```
 Sub RSizeTables()
    Dim rr As Integer
    Dim cc As Integer
    Dim x As Range
    Dim £Table As Range

    Set £Table = Range("Tlist")

    For Each x In £Table

    rr = 2
    cc = Range(x).Columns.Count

    With Sheets("Data").ListObjects(x)
    .Resize .Range.Resize(rr, cc)

    End With

    Next x

End Sub 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T11:21:01.630

此代码会将所有表的大小调整为两行：

```
Sub ResizeAll()
    Dim ws As Worksheet
    Dim lo As ListObject

    'If you only have tables in one sheet, use this
    Set ws = Sheets("Data")

    'Else this:
    'For Each ws in Sheets
    For Each lo In ws.ListObjects
        lo.Resize lo.Range.Resize(2)
    Next lo
    'Next ws
End Sub 
```

如果您只需要循环 中的表`TList`，这将完成这项工作：

```
Sub ResizeTList()
    Dim varTableName As Variant

    For Each varTableName In Range("TList")
        With Sheets("Data").ListObjects(varTableName)
            .Resize .Range.Resize(2)
        End With
    Next varTableName
End Sub 
```

# c++ - 在其定义中创建一个实例

> ID：15221734
> 
> 赞同：0
> 
> 时间：2013-03-05T10:42:59.670
> 
> 标签：c++

如何在其定义中创建类的实例？

```
class Test{
  Test _test;
}; 
```

这抛出

```
error: field _test has incomplete type 
```

使用指针是可行的，但我想尽可能避免使用指针。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-05T10:45:38.913

想象一下你可以做这样的事情：这将是一个递归定义。一个类型`Test`的对象包含一个类型的对象`Test`，它包含一个类型的对象`Test`，依此类推，直到你或你的编译器发疯。

我真的不认为你会想要这样的东西，即使它已经编译了。另一方面，使用指针是可以的，原因有两个：

*   指针可以为空，从而破坏了否则无限递归的`Test`对象链（在运行时将占用无限空间）；
*   指针具有固定大小，因此编译器不需要计算大小`Test`来计算`Test`自身的大小（导致编译时无限递归）。

> 使用指针是可行的，但我想尽可能避免使用指针。

如果您担心手动内存管理，只需使用智能指针：

```
#include <memory>

class Test
{
    std::unique_ptr<Test> _test;
}; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-05T10:50:58.603

回答这个问题：你的班级有多大？

我能想到的唯一两种解决方案是使用指针：

```
class Test
{
public:
    Test * data;
}; 
```

此解决方案在高级结构中很常见，例如列表或树。另一种方法是将内部字段声明为静态：

```
class Test
{
public:
    Test(int i);

    static Test data;
}

Test Test::data = Test(5); 
```

这种解决方案对于单件、多件或[类似结构](https://stackoverflow.com/questions/15216857/enums-within-a-class-with-explicit-scoping-pre-c11/15217031#15217031)很常见。但请注意，您只能从类中访问该字段，而不是从其实例中访问：

```
Test test = Test::data; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T11:29:16.077

类变量的内存是在创建类的对象时初始化的。但是，如果仅在其定义中创建类的对象，那么在此期间编译器将无法初始化类的变量，因为此时类的定义尚未完成。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-05T10:48:54.897

您的测试尚未定义完成，那么您如何创建它的实例。当然你可以创建指针。因为指针是不完全类型。这就是为什么 Singleton 类和链接列表有指向它们的引用的指针，而不是完整的对象本身。

# microsoft-sync-framework - 如何使用 Microsoft 同步框架将要同步的记录限制在某个限制

> ID：15221740
> 
> 赞同：0
> 
> 时间：2013-03-05T10:43:13.533
> 
> 标签：microsoft-sync-framework

这是关于我们将 Ipad 数据与 Sql 服务器数据库同步的 Microsoft 同步框架。它工作正常。

但是在这里，我想将我的记录限制为一次只能同步 20 条记录。现在，所有的记录都在同步。我有一个同步框架的开箱即用功能，这将使我们能够这样做。

如果没有，我该如何编写自定义代码来实现这一点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T11:01:46.660

你应该能够设置批处理。但它是在大小方面，而不是行数。您可以简单地获取行大小并乘以您想到的行数。

在文档中查找 SetDownloadBatchSize 和 SetBatchSpoolDirectory。

例如 config.SetDownloadBatchSize = 以 Kb 为单位的某个值

# php - 在 PHP 中为动态调用指定尚未定义的参数

> ID：15221744
> 
> 赞同：3
> 
> 时间：2013-03-05T10:43:20.653
> 
> 标签：php

我正在使用`PHP`和[`call_user_func_array`](http://php.net/manual/en/function.call-user-func-array.php)进行动态调用的功能。我创建了一个函数名称数组及其相应的参数，然后在循环中执行。例如：

```
$methods = [
    [ 'myfunction1', [$arg1, $arg2] ],
    [ 'myfunction2', [$arg3, $arg4] ],
];

foreach ($methods as $method) {
    call_user_func_array($method[0],$method[1]);
} 
```

虽然这很好用，但我面临的问题是，在我定义`$methods`数组的那一刻，一些参数尚未定义（例如`$arg1`，`$arg4`有`$arg2`和`$arg3`没有）但它们是在函数的时间定义的叫。

因此，我正在寻找一种方法来告诉函数在哪里可以找到该参数的值。到目前为止，我想出的是用表示变量名称的字符串替换变量：

```
$methods = [
     [ 'myfunction1', [$arg1, 'ARG2'] ],
     [ 'myfunction2', ['ARG3', $arg4] ],
]; 
```

然后在 foreach 循环中，我遍历每个参数，检查它是否是一个字符串，并且该字符串与一个变量匹配我用该变量的值替换该字符串：

```
foreach ($methods as $method) {
    foreach ($method[1] as $k => $arg) {
        if (is_string($arg)) {
            $name = strtolower($arg);
            if (isset(${$name})) {
                $method[1][$k] = ${$name};
            }
        }
    }
    call_user_func_array($method[0], $method[1]);
} 
```

虽然这可行，但我想知道 中是否使用了其他已知方法`PHP`，因为它可能会帮助我改进我的代码。

**您是否知道我可以定义动态调用的任何其他方式，其中一些参数在定义时未设置？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T12:42:36.517

您可以使用匿名函数作为未知参数，该函数在调用时返回参数的值。这是工作代码：

```
function myfunction($arg1, $arg2)
{
    echo "\nARGS: $arg1, $arg2";
}

$arg2func = function() {
    return 'foo';
};

$arg3func = function() {
    return 'bar';
};

$arg1 = 'baz';
$arg4 = 'chopchop';

$methods = [
    [ 'myfunction', [$arg1, $arg2func] ],
    [ 'myfunction', [$arg3func, $arg4] ],
];
foreach ($methods as $method) {
    foreach ($method[1] as $k => $arg) {
        if (is_callable($arg)) {
            $method[1][$k] = $arg();
        }
    }
    call_user_func_array($method[0], $method[1]);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:48:40.737

为什么你不通过数组给出参数。在您调用的方法中，您可以处理正确的参数以转到自己的方法...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-01T13:54:21.130

我最终做的是：
- 将运行时创建的变量定义为字符串：

```
$methods = [
   [ 'myfunction', [$arg1, arg4] ]
]; 
```

- 将在运行时创建的变量存储在数组中 -
添加一个例程，该例程遍历所有参数并查看是否需要替换一些参数：

```
foreach ($args as $k => $arg) {
    if (is_string($arg)) {
        // pass by reference
        if ($arg[0] == '&') {
            $arg = substr($arg, 1);
            // the vars class array contains the run-time variables
            if (isset($this->vars[$arg])) {
                $args[$k] = &$this->vars[$arg];
            }
        } else {
            if (isset($this->vars[$arg])) {
                $args[$k] = $this->vars[$arg];
            }
        }
    }
} 
```

# r - DocBook & R 与 Sweave/knitr

> ID：15221745
> 
> 赞同：1
> 
> 时间：2013-03-05T10:43:21.187
> 
> 标签：r, latex, sweave, knitr, docbook

R 和 LaTeX (...) 可以使用 Sweave 或 knitr 轻松组合。

有没有可能用 DocBook 完成同样的事情？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T14:19:16.577

不是每个“如何将标记格式 A 转换为标记格式 B”的答案吗？问题只是“pandoc”？

不确定确切的工作流程，但您会编写 R-flavour markdown，编织它，然后 pandoc 转换为 docbook。

写一本新的 O'Reilly 书？我知道他们喜欢文档！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:54:47.673

Knitr 和 Sweave 不提供 DocBook 作为后端。`r docbook`除了 2008 年关于 R-help 的一个问题，它询问了你做了什么之外，谷歌搜索并没有带来太多收获。你可以看看 knitr 如何使用 markdown，并将这些想法移植到 docbook。这可能是可行的，但工作量很大。

# android - 在android中重新启动前台服务

> ID：15221751
> 
> 赞同：2
> 
> 时间：2013-03-05T10:43:39.100
> 
> 标签：android, service, foreground

我有一个服务，它在前台运行。我知道如果前台服务被系统杀死，它会在资源可用后重新启动。

我想知道的是，即使前台服务是从“设置”的“运行服务”部分手动终止的，它是否会重新启动？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T13:17:05.843

如果您希望服务在被杀死后重新启动，请在服务对象中使用此方法：

```
@Override
public int onStartCommand(Intent intent, int flags, int startId) {
    handleCommand(intent);
    // We want this service to continue running until it is explicitly
    // stopped, so return sticky.
    return START_STICKY;
} 
```

# php - 将样式数组转换为常规 CSS

> ID：15221760
> 
> 赞同：0
> 
> 时间：2013-03-05T10:44:02.760
> 
> 标签：php, css

我有一个包含所有样式的数组，我必须通过在 PHP 中循环将它们更改为适当的 CSS。

例如，

```
Array
(
    [#outlook a] => Array
        (
            [padding] => Array
                (
                    [0] => 0
                )

        )

    [body] => Array
        (
            [width] => Array
                (
                    [0] => 100% !important
                )

            [-webkit-text-size-adjust] => Array
                (
                    [0] => none
                )

            [margin] => Array
                (
                    [0] => 0
                )

            [padding] => Array
                (
                    [0] => 0
                )

            [background-color] => Array
                (
                    [0] => #FAFAFA
                )

        )
[.preheaderContent div a] => Array
    (
        [color] => Array
            (
                [0] => #336699
            )

        [font-weight] => Array
            (
                [0] => normal
            )

        [text-decoration] => Array
            (
                [0] => underline
            )

    )

[.preheaderContent div a:visited] => Array
    (
        [color] => Array
            (
                [0] => #336699
            )

        [font-weight] => Array
            (
                [0] => normal
            )

        [text-decoration] => Array
            (
                [0] => underline
            )

    )

) 
```

像这样我将有一个包含所有样式信息的大数组。所以我必须把它转换成正确的 CSS。我知道这很简单。但我在递归循环的某个地方失败了。这是我为此使用的功能。

```
function cssbuild(&$cssArray)
{
    foreach ($cssArray as $selector => $style) 
    {
        if(is_array($style))
        {
            return $this->cssbuild($style);
        }
        else
        {
            $cssArray[$selector] = $cssArray[$selector].":".$style.";";
        }
    }
} 
```

任何关于如何做到这一点的想法将不胜感激......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T11:02:28.253

试试这个：

```
function createCSS($cssArray)
{
    $css = '';
    foreach ($cssArray as $classname => $properties)
    {
        $css .= "$classname{";
        foreach( (array) $properties as $propertyname => $propertyvalue )
        $css .= $propertyname .": ".$propertyvalue[0].";";
        $css .= "}";
    }
    return $css;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:53:27.097

在给定的示例中，您没有递归...

你可以用这个做一些递归

```
<?php
BuildList($arrayParent, 0);

function BuildList($arrayElements, $depth)
{
    foreach($arrayElements as $element => $style)
    {
        echo str_repeat("&nbsp;&nbsp;", $depth) . $element . ":" . $style;
        $depth++;
        if(count($element->subCSSElement) > 0)
            $depth = BuildList($element->subCSSElement, $depth);

        return $depth;
    }
}
?> 
```

# facebook - 如何通过 API 代码在 FB 应用用户墙上发帖

> ID：15221761
> 
> 赞同：1
> 
> 时间：2013-03-05T10:44:11.373
> 
> 标签：facebook, facebook-graph-api, post

我创建了一个 facebook 应用程序，需要在所有用户 FB WAll 上发帖，这些用户已授权应用程序代表那里发帖。

即，在某处组织的新活动，因此通过应用程序，管理员可以在每个应用程序用户 FB 墙上发布有关该活动的信息。

我正在使用 Graph API，但它不起作用。

任何指针/指导将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T12:19:40.963

在 JS SDK 中发布到用户的墙：

```
var body = 'Status Test';
FB.api('/me/feed', 'post', { message: body }, function(response) {
   if (!response || response.error) {
       alert('Error occured');
   } else {
       alert('Post ID: ' + response.id);
   }
}); 
```

[编辑]
在 PHP

```
 $ret_obj = $facebook->api('/me/feed', 'POST',
                array(                      
                  'message' => 'Posting with the PHP SDK!'
             )); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:54:25.617

您必须使用参数进行 api 调用才能在用户墙上发布。

编辑。：

这是下面的链接示例，并进行了一些解释：

```
<?php
 $attachment = array(
'message' => 'this is my message',
'name' => 'This is my demo Facebook application!',
'caption' => "Caption of the Post",
'link' => 'http://mylink.com',
'description' => 'this is a description',
'picture' => 'http://mysite.com/pic.gif'
);
?>
$result = $facebook->api('/me/feed/', 'post', $attachment); 
```

该`$attachment`数组包含墙柱的参数和`$facebook->api('/me/feed/','post',$attachment);`进行调用并将结果返回到`$result`.

在这里你可以找到来源：[你如何在 facebook 页面上发布到墙上（不是个人资料）](https://stackoverflow.com/questions/691425/how-do-you-post-to-the-wall-on-a-facebook-page-not-profile)

# php - PHP按值对数组中的数组进行分组

> ID：15221763
> 
> 赞同：0
> 
> 时间：2013-03-05T10:44:15.737
> 
> 标签：php, arrays, sorting, grouping, multidimensional-array

嗨，我有一个问题，我似乎无法找到答案。我有一个包含数组的数组，并希望根据字段的相同值将这些子数组分组。这是我的代码，允许我根据值中的数组对数组进行排序。如何根据共享值对结果进行分组？我可能不知道所有值，因为有些值是基于日期的，我想例如每天/每月分组

```
if($filter == "ORDER BY TODO_REF DESC"){
$type_sort = 0;
};
if($filter == "ORDER BY TODO_PRIO DESC"){
$type_sort = 2;
};
if($filter == "ORDER BY TODO_DEAD DESC"){
$type_sort = 3;
};

function aasort (&$array, $key) {
$sorter=array();
$ret=array();
reset($array);
foreach ($array as $ii => $va) {
    $sorter[$ii]=$va[$key];
}
asort($sorter);
foreach ($sorter as $ii => $va) {
    $ret[$ii]=$array[$ii];
}
$array=$ret;
}

 aasort($test_array, $type_sort);
print_r($test_array); 
```

电流输出：

```
priority
Array
 (

[3] => Array
    (
        [0] => 2
        [1] => sdfsdgdfgdfgdfg
        [2] => 3
        [3] => 2013-05-30 13:53:23
    )

[2] => Array
    (
        [0] => 1
        [1] => This must also be done
        [2] => 4
        [3] => 2013-03-28 12:13:34
    )

[1] => Array
    (
        [0] => 1
        [1] => testing this show me 2
        [2] => 5
        [3] => 2029-02-23 17:27:20
    )

[0] => Array
    (
        [0] => 1
        [1] => Do this task and make sure it gets done
        [2] => 5
        [3] => 2013-06-28 12:12:41
    )

) 
```

我想要的是这样的，它们根据子数组键 2 分成单独的数组：

```
Array
(
[3] => Array
    (
        [0] => 2
        [1] => sdfsdgdfgdfgdfg
        [2] => 3
        [3] => 2013-05-30 13:53:23
    )

)
Array
(
[2] => Array
    (
        [0] => 1
        [1] => This must also be done
        [2] => 4
        [3] => 2013-03-28 12:13:34
    )

)
Array
(
[1] => Array
    (
        [0] => 1
        [1] => testing this show me 2
        [2] => 5
        [3] => 2029-02-23 17:27:20
    )

[0] => Array
    (
        [0] => 1
        [1] => Do this task and make sure it gets done
        [2] => 5
        [3] => 2013-06-28 12:12:41
    )

) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T10:47:57.067

```
$array_1 = array();
$array_2 = array();
foreach($test_array as $item) {
  if($item[0] == 1) {
    $array_1[] = $item;
  } elseif($item[0] == 2) {
    $array_2[] = $item;
  }
}
$final_array = array($array_1, $array_2); 
```

必须有更优化的代码，但这应该可以满足您的需求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:49:23.060

`array_multisort()`是您所追求的，它将允许您按子数组对主数组进行排序并维护键值链接

我使用下面的方法对具有许多列和可排序列的表上的基于排序顺序箭头 asc/desc 的相当大的多维数组进行排序。它有点乱，但你应该能够遵循它。

```
if (strlen($_GET['col'])<1) {
                foreach ($dataarray as $key => $row) {
                    $spend[$key]  = $row[6];
                }
                array_multisort($spend, SORT_DESC, $dataarray);
            } else if ($_GET['col']=="spend"){
                foreach ($dataarray as $key => $row) {
                    $spend[$key]  = $row[3];
                }
                if ($_GET['order']=="asc") {
                    array_multisort($spend, SORT_ASC, $dataarray);
                } else {
                    array_multisort($spend, SORT_DESC, $dataarray);
                }
            } else if ($_GET['col']=="name"){
                foreach ($dataarray as $key => $row) {
                    $name[$key]  = $row[1];
                }
                if ($_GET['order']=="asc") {
                    array_multisort($name, SORT_ASC, $dataarray);
                } else {
                    array_multisort($name, SORT_DESC, $dataarray);
                }
            } else if ($_GET['col']=="avg"){
                foreach ($dataarray as $key => $row) {
                    $avg[$key]  = $row[4];
                }
                if ($_GET['order']=="asc") {
                    array_multisort($avg, SORT_ASC, $dataarray);
                } else {
                    array_multisort($avg, SORT_DESC, $dataarray);
                }
            } else if ($_GET['col']=="sites"){
                foreach ($dataarray as $key => $row) {
                    $sites[$key]  = $row[5];
                }
                if ($_GET['order']=="asc") {
                    array_multisort($sites, SORT_ASC, $dataarray);
                } else {
                    array_multisort($sites, SORT_DESC, $dataarray);
                }
            } else if ($_GET['col']=="rate"){
                foreach ($dataarray as $key => $row) {
                    $rate[$key]  = $row[6];
                }
                if ($_GET['order']=="asc") {
                    array_multisort($rate, SORT_ASC, $dataarray);
                } else {
                    array_multisort($rate, SORT_DESC, $dataarray);
                }
            } else {
                foreach ($dataarray as $key => $row) {
                    $spend[$key]  = $row[2];
                }
                array_multisort($spend, SORT_DESC, $dataarray);
            } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-08-26T13:10:22.003

1.  我总是推荐一个查找数组，然后是一个非常快速的调用，而不是一个`if-elseif-elseif-elseif...else`条件块来确定排序/分组列。`isset()`我发现这种语法更简洁、更易读、更易于维护。
2.  为了使分组数据正确排序，提前对数据进行排序（虽然它仍然是更简单的形式）。 `usort()`与宇宙飞船操作员（php7）一起为您完成所有的工作。只需确保`$groupsort`使用 . 将变量传递到函数范围即可`use`。
3.  在迭代输入数组时，隔离标识列值（并根据需要进行准备），然后将其用作临时键来确定`$row`应存储数据的组。
4.  最后，用于`array_values()`删除临时标识键（如果需要）。

代码：（[演示](http://sandbox.onlinephpfunctions.com/code/a1849b38c9a7469d4ab266cd92842058f7f4b070)）

```
$filter = "ORDER BY TODO_PRIO DESC";
$lookup = [
    "ORDER BY TODO_REF DESC" => 0,
    "ORDER BY TODO_PRIO DESC" => 2,
    "ORDER BY TODO_DEAD DESC" => 3
];
$groupsort = isset($lookup[$filter]) ? $lookup[$filter] : 0;  

$array = [
    [1, "Do this task and make sure it gets done", 5, "2013-06-28 12:12:41"],
    [1, "testing this show me 2", 5, "2029-02-23 17:27:20"],
    [1, "This must also be done", 4, "2013-03-28 12:13:34"],
    [2, "sdfsdgdfgdfgdfg", 3, "2013-05-30 13:53:23"],
    [2, "Another priority", 3, "2013-03-28 11:11:11"]
];

// sort DESC on $groupsort column values
usort($array, function($a, $b)use($groupsort) { return $b[$groupsort] <=> $a[$groupsort]; }); 

// group by $groupsort column values
foreach ($array as $row) {
    $id = $row[$groupsort];                             // just to improve readability
    if ($groupsort == 3) { $id = substr($id, 0, 10); }  // remove time from datetime stamp
    $result[$id][] = $row;                              // store the current value
}

var_export(array_values($result));                      // reindex first level (remove temp keys); 
```

输出：

```
array (
  0 => 
  array (
    0 => 
    array (
      0 => 1,
      1 => 'Do this task and make sure it gets done',
      2 => 5,
      3 => '2013-06-28 12:12:41',
    ),
    1 => 
    array (
      0 => 1,
      1 => 'testing this show me 2',
      2 => 5,
      3 => '2029-02-23 17:27:20',
    ),
  ),
  1 => 
  array (
    0 => 
    array (
      0 => 1,
      1 => 'This must also be done',
      2 => 4,
      3 => '2013-03-28 12:13:34',
    ),
  ),
  2 => 
  array (
    0 => 
    array (
      0 => 2,
      1 => 'sdfsdgdfgdfgdfg',
      2 => 3,
      3 => '2013-05-30 13:53:23',
    ),
    1 => 
    array (
      0 => 2,
      1 => 'Another priority',
      2 => 3,
      3 => '2013-03-28 11:11:11',
    ),
  ),
) 
```

# android - 防止启动的通知意图接管最近窗口

> ID：15221766
> 
> 赞同：1
> 
> 时间：2013-03-05T10:44:29.363
> 
> 标签：android, android-notifications, android-recents

我有一个通知，通知长时间操作已成功，并让用户在此之后执行某些操作。

将通知放在一边并打开应用程序，使应用程序出现在最近的应用程序中 - 即使按下后退并且活动堆栈为空。

问题在于，当用户单击通知时，通知意图随后会在最近记录中注册 - 而不是应用程序的主要活动。一遍又一遍地单击最近的消息会执行通知意图操作，而不是弹出应用程序。

**如何让应用程序停留在最近而不是最后一个通知意图？**

笔记：

*   当应用程序的活动堆栈不为空时，一切正常！
*   `FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS`是不可接受的，因为它会从最近的应用程序中完全删除应用程序，而不仅仅是通知意图。

# ruby - 红宝石中的常量

> ID：15221767
> 
> 赞同：-1
> 
> 时间：2013-03-05T10:44:32.327
> 
> 标签：ruby, string, constants

我有一个像下面这样的字符串，

```
STRING_FIRST = "Abcd. Efgh. ijkl" 
```

我需要在 ruby​​ 中将上述字符串声明为常量。但它在第一个点（。）上给出了编译时间错误。

任何人都可以帮忙。

更新实际代码类似。

```
class class_name << Test::Unit:TestCase
  include module1

  STRING_FIRST = "Abcd. Efgh. ijkl"

  def method1
    xxx
  end
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T11:14:35.080

在 Ruby 1.9.3 中，我遇到了一个不同的错误，正如[Frederick Cheung](https://stackoverflow.com/users/1064226/frederick-cheung)指出的那样，这是正确的：

```
 syntax error, unexpected tLSHFT, expecting '<' or ';' or '\n' 
```

您正在使用 shift 运算符进行继承，这是不正确的。

# windows-8 - 快速一：使用 Windows 应用商店的程序化动画

> ID：15221768
> 
> 赞同：1
> 
> 时间：2013-03-05T10:44:35.387
> 
> 标签：windows-8, windows-store-apps

这真的是在 Windows 应用商店应用程序中以编程方式设置动画目标的正确且唯一的方法吗？

```
Storyboard.SetTarget(animation, someElement);
Storyboard.SetTargetProperty(animation, "Width"); 
```

不在时间轴或情节提要上使用实例方法或属性似乎很奇怪。

这相当于进入车窗并使用内部把手打开车门的编程。

卢克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T17:15:13.120

这是正确的方法，是的。我确实同意它可以变得更简单，但自 WPF 以来就是这样。

# android - 检查接收者是否接听电话

> ID：15221771
> 
> 赞同：3
> 
> 时间：2013-03-05T10:44:35.840
> 
> 标签：android

在 Android 中，我需要确定接收方是否接听了拨出电话。这似乎不可能，因为 TelephonyManager 不提供该状态。其他人建议查看通话记录列表并检查最后一个通话号码的持续时间。这不好，因为最后一个被叫号码可能是几小时或几天前。还有其他建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T10:54:54.823

这是不可能的，因为当您开始拨打电话时，会调用呼叫状态摘机，甚至包括振铃时间，即使是掉线呼叫也包括在内，因此不能信任摘机。

[看到这个链接](https://stackoverflow.com/questions/10970732/how-make-call-log-app-in-android)

获取最后一次通话并按时间筛选，从中您可以获得通话时长。

来解决你的疑惑。

**拨号器的工作原理**

当接收者拿起电话时，它永远不会启动计时器，即使在接听电话之前，只需拿起您的电话号码，您就会看到计时器已启动。这只是摘机状态的时间，而不是用户拿起电话的时间。

此外，网络提供商不会通过任何应用程序通知您确切的通话时间和费用，并且您无法访问该数据。如果您只想要拨号器应用程序，那么 Drax 的答案很接近。

# android - 将文件私下保存到内部存储

> ID：15221773
> 
> 赞同：1
> 
> 时间：2013-03-05T10:44:41.563
> 
> 标签：android, android-file, android-assets

我想将文件私下保存到我的内部存储中，以便我的应用程序是唯一可以访问它的应用程序。根据 android 开发者网站，默认情况下，保存到内部存储中的文件对您的应用程序是私有的，其他应用程序无法访问他们（用户也不能）。但是，当我使用 Environment.getExternalStorageDirectory(); 保存文件时 任何人都可以清楚地访问该文件。我尝试使用 getFilesDir() 代替，因为显然这会使您的文件私有，但我的应用程序不断崩溃。下面是我的代码：

```
public class SaveOpen extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_save_open);
        isSDCardAvailable();

        Button david = (Button) findViewById(R.id.button1);
        david.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) {
                File pdfFile = new File(getFilesDir().getAbsolutePath() + "/MathBarsPDFDocumentTestNew/userg.pdf");
                Uri path = Uri.fromFile(pdfFile);
                Intent intent = new Intent(Intent.ACTION_VIEW);
                intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
                intent.setDataAndType(path, "application/pdf");
                try {

                    startActivity(intent);

                } catch (ActivityNotFoundException e) {
                    // No application to view, ask to download one
                    AlertDialog.Builder builder = new AlertDialog.Builder(
                            SaveOpen.this);
                    builder.setTitle("No Application Found");
                    builder.setMessage("Download one from Android Market?");
                    builder.setPositiveButton("Yes, Please",
                            new DialogInterface.OnClickListener() {
                                @Override
                                public void onClick(DialogInterface dialog, int which) {
                                    Intent marketIntent = new Intent(Intent.ACTION_VIEW);
                                    marketIntent.setData(Uri
                                            .parse("market://details?id=com.adobe.reader"));
                                    startActivity(marketIntent);
                                }
                            });
                    builder.setNegativeButton("No, Thanks", null);
                    builder.create().show();
                }

            }
        });

    }

    public void isSDCardAvailable(){

        String state = Environment.getExternalStorageState();

        if (Environment.MEDIA_MOUNTED.toString().equals(state.toString())) {

            //File sdDir = Environment.getExternalStorageDirectory();
            File sdDir = getFilesDir();

            File newdir = new File(sdDir.getAbsolutePath() + "/MathBarsPDFDocumentTestNew");
            newdir.mkdirs();
            File file = new File(newdir, "userg.pdf");

            try {

                FileOutputStream f = new FileOutputStream(file);
                AssetManager assetManager = getAssets();
                InputStream input = assetManager.open("userguide.pdf");

                byte[] buffer = new byte[1024];
                int read;
                while ((read = input.read(buffer)) != -1) {
                    f.write(buffer, 0, read);
                }
                f.close();
                input.close();

            } catch (Exception e) {
                Log.d("Downloader", e.getMessage());
            }

        }else{

            AlertDialog.Builder builder = new AlertDialog.Builder(
                    SaveOpen.this);
            builder.setTitle("No SD Card available");
            builder.setMessage("Please Insert SD Card");

            builder.setNegativeButton("Cancel", null);
            builder.create().show();
        }

        }

    } 
```

有什么建议么？下面是我的日志猫：

```
03-05 11:02:19.520: I/ActivityManager(164): START {act=android.intent.action.VIEW dat=file:///data/data/com.david.openpdf/files/MathBarsPDFDocumentTestNew/userg.pdf typ=application/pdf flg=0x4000000 cmp=com.adobe.reader/.AdobeReader} from pid 2684
03-05 11:02:19.570: I/ActivityManager(164): START {cmp=com.adobe.reader/.ARViewer (has extras)} from pid 2697
03-05 11:02:19.620: I/ActivityManager(164): Displayed com.adobe.reader/.AdobeReader: +77ms
03-05 11:02:19.660: D/OpenGLRenderer(2684): Flushing caches (mode 0)
03-05 11:02:19.680: V/TabletStatusBar(243): setLightsOn(true)
03-05 11:02:19.700: D/OpenGLRenderer(2684): Flushing caches (mode 1)

03-05 11:02:35.630: E/System(2697): Uncaught exception thrown by finalizer
03-05 11:02:35.630: E/System(2697): java.lang.NullPointerException
03-05 11:02:35.630: E/System(2697):     at com.omniture.AppMeasurementBaseSE13.finalize(AppMeasurementBaseSE13.java:43)
03-05 11:02:35.630: E/System(2697):     at java.lang.Daemons$FinalizerDaemon.doFinalize(Daemons.java:182)
03-05 11:02:35.630: E/System(2697):     at java.lang.Daemons$FinalizerDaemon.run(Daemons.java:168)
03-05 11:02:35.630: E/System(2697):     at java.lang.Thread.run(Thread.java:856)
03-05 11:02:35.660: D/dalvikvm(164): GC_CONCURRENT freed 1044K, 26% free 11680K/15751K, paused 2ms+5ms
03-05 11:02:44.640: I/wpa_supplicant(229): wlan0: WPA: Group rekeying completed with 00:1c:b3:ae:95:09 [GTK=CCMP] 
```

在我的屏幕上显示错误：文档路径无效

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:48:20.043

好吧，如果您想保存在内部存储上，您不必使用`Environment.getExternalStorageDirectory()`但您应该使用`getFilesDir()`（返回代表应用程序内部目录的文件）。

请参阅[有关该主题的官方 Android 文档，](http://developer.android.com/training/basics/data-storage/files.html)他们非常清楚。

# java - 使用 QRGen 库生成二维码时出错

> ID：15221775
> 
> 赞同：0
> 
> 时间：2013-03-05T10:44:44.337
> 
> 标签：java, android, qr-code, zxing, noclassdeffounderror

我正在使用 QRGen 库`ByteArrayOutputStream`为 QR 码生成一个并为其生成位图图像。

我已将以下 3 个 jar 导入到我的项目中：

*   qrgen-1.0.jar
*   zxing-core-1.7.jar
*   zxing-j2se-1.7.jar

这是生成二维码ByteArray的方法：

```
public Bitmap qrBitmapFromString(String qrText){
    ByteArrayOutputStream out = QRCode.from(qrText).to(ImageType.PNG).withSize(300, 300).stream();
    byte[] data = out.toByteArray();
    Bitmap bmp = BitmapFactory.decodeByteArray (data,0,data.length, null);
    return bmp;
} 
```

但我收到以下错误：

```
03-05 12:39:31.089: E/AndroidRuntime(1479): FATAL EXCEPTION: main
03-05 12:39:31.089: E/AndroidRuntime(1479): java.lang.NoClassDefFoundError: java.awt.image.BufferedImage
03-05 12:39:31.089: E/AndroidRuntime(1479):     at com.google.zxing.client.j2se.MatrixToImageWriter.toBufferedImage(MatrixToImageWriter.java:48)
03-05 12:39:31.089: E/AndroidRuntime(1479):     at com.google.zxing.client.j2se.MatrixToImageWriter.writeToStream(MatrixToImageWriter.java:75)
03-05 12:39:31.089: E/AndroidRuntime(1479):     at net.glxn.qrgen.QRCode.stream(QRCode.java:99)
03-05 12:39:31.089: E/AndroidRuntime(1479):     at co.emuze.emuzepay.PayCardFragment.qrBitmapFromString(PayCardFragment.java:27)
03-05 12:39:31.089: E/AndroidRuntime(1479):     at co.emuze.emuzepay.PayCardFragment.onCreateView(PayCardFragment.java:23)
03-05 12:39:31.089: E/AndroidRuntime(1479):     at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:795)
03-05 12:39:31.089: E/AndroidRuntime(1479):     at android.app.FragmentManagerImpl.moveToState(FragmentManager.java:998)
03-05 12:39:31.089: E/AndroidRuntime(1479):     at android.app.BackStackRecord.run(BackStackRecord.java:622)
03-05 12:39:31.089: E/AndroidRuntime(1479):     at android.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1330)
03-05 12:39:31.089: E/AndroidRuntime(1479):     at android.app.Activity.performStart(Activity.java:4474)
03-05 12:39:31.089: E/AndroidRuntime(1479):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1928)
03-05 12:39:31.089: E/AndroidRuntime(1479):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1980)
03-05 12:39:31.089: E/AndroidRuntime(1479):     at android.app.ActivityThread.access$600(ActivityThread.java:122)
03-05 12:39:31.089: E/AndroidRuntime(1479):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1146)
03-05 12:39:31.089: E/AndroidRuntime(1479):     at android.os.Handler.dispatchMessage(Handler.java:99)
03-05 12:39:31.089: E/AndroidRuntime(1479):     at android.os.Looper.loop(Looper.java:137)
03-05 12:39:31.089: E/AndroidRuntime(1479):     at android.app.ActivityThread.main(ActivityThread.java:4340)
03-05 12:39:31.089: E/AndroidRuntime(1479):     at java.lang.reflect.Method.invokeNative(Native Method)
03-05 12:39:31.089: E/AndroidRuntime(1479):     at java.lang.reflect.Method.invoke(Method.java:511)
03-05 12:39:31.089: E/AndroidRuntime(1479):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
03-05 12:39:31.089: E/AndroidRuntime(1479):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
03-05 12:39:31.089: E/AndroidRuntime(1479):     at dalvik.system.NativeStart.main(Native Method) 
```

什么会导致这种情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T12:11:08.897

堆栈跟踪回答了您的问题。`java.awt`类在 Android 中不存在。您不能使用使用 AWT 的库。你不能使用 QRGen，或者至少不能使用它的这一部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-23T18:46:01.537

2.0-SNAPSHOT 应该解决这个问题[https://oss.sonatype.org/content/repositories/snapshots/net/glxn/qrgen/android/2.0-SNAPSHOT/](https://oss.sonatype.org/content/repositories/snapshots/net/glxn/qrgen/android/2.0-SNAPSHOT/)

[https://github.com/kenglxn/QRGen](https://github.com/kenglxn/QRGen)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-21T18:58:04.973

2.0-SNAPSHOT 在 android 上运行良好，并且在上周变得更快。可以在这里找到一个例子：[https ://github.com/atomfrede/qrgen-android-example](https://github.com/atomfrede/qrgen-android-example)

# iphone - 在 appDelegate 中未调用motionEnded

> ID：15221782
> 
> 赞同：5
> 
> 时间：2013-03-05T10:44:57.957
> 
> 标签：iphone, ios

我想在整个应用程序中集成抖动功能。所以我在 appDelegate 中做所有事情。我需要推送一个viewController，我可以推送motionBegan，但我想做motionEnded。是的，运动结束确实在视图控制器中工作，但在应用程序委托中它没有被调用。作为

```
- (void)applicationDidBecomeActive:(UIApplication *)application {
     [self becomeFirstResponder];
}
- (BOOL)canBecomeFirstResponder{
    return YES;
} 
```

未调用motionEnded

```
-(void) motionEnded:(UIEventSubtype)motion withEvent:(UIEvent *)event {
    if(event.subtype==UIEventSubtypeMotionShake){
        NSLog(@"motionEnded called");
    }
} 
```

运动开始调用

```
-(void) motionBegan:(UIEventSubtype)motion withEvent:(UIEvent *)event {
    if(event.subtype==UIEventSubtypeMotionShake){
        NSLog(@"motionBegan called");
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T12:20:36.140

你基本上可以根据你的需要注册你`viewController`的或任何`applicationDidBecomeActiveNotification`

例如，在您`viewController`的`viewDidLoad`方法中，您可以将其注册为通知

```
[[NSNotificationCenter defaultCenter] addObserver:self
                                             selector:@selector(myMethod)
                                                 name:UIApplicationDidBecomeActiveNotification object:nil]; 
```

并在你的类中实现这个方法，`myMethod`每次你的应用程序激活时你都会调用

```
-(void) myMethod(){
 // do your stuff
} 
```

最后从 dealloc 方法中的通知中取消注册 viewController

```
-(void)dealloc{
[[NSNotificationCenter defaultCenter] removeObserver:self];
} 
```

# php - 基于 URL String 获取所有页面数据的有效方法

> ID：15221783
> 
> 赞同：-1
> 
> 时间：2013-03-05T10:44:59.433
> 
> 标签：php, performance, url, web

我见过很多网站，当打开任何页面时，URL 中都没有任何数字 ID 或类似的东西，只有在单词之间带有连字符 (-) 的 URL 字符串。这意味着页面正在从数据库中检索基于字符串的数据。有些 URL 很长。这意味着数据库中该字段上可能没有任何索引（因为它很长）。那么，这是一种有效的方法吗？如果不是，为什么这么多网站都使用这种方法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T10:52:36.057

**一些网站，比如这个（stackoverflow）使用一种混合方法，**既有数字索引又有url 的字符串规范标题。就像同一页面的网址一样：

```
stackoverflow.com/questions/15221783/is-it-efficient-way-to-get-all-the-page-data-on-the-base-of-url-string
//          Numeric index -----^                ^-------- canonical title 
```

这样，您就拥有了两全其美、快速的数字索引和语义 seo 友好的规范字符串标题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:53:11.893

它非常有效，因为您只能索引字符串的前 15 个字符。但是，这种方法通常是错误的，因为唯一的页面应该由唯一的 url 寻址，而页面标题可以编辑。

如果您编辑问题标题，旧网址将使您回到正确的页面。
在您描述的系统的情况下，如果标题被编辑，则无法返回。
因此，一个好的网站永远不会使用它，但是，就像 stackoerflow 一样，它将同时使用唯一索引和 slug。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-05T10:51:28.660

它的效率并不低，因为框架的路由系统将大部分搜索工作排除在外。例如，`products/en-gb/mens/shirts/light-blue-full-sleeve-twill-shirt`可以分解为 products 类别，然后是 en-gb，然后是 men 和 shirt，这些类别将相互链接，并且产品链接到 shirts 类别，因此您不会搜索整个数据库，但无论如何都是它的一个子集。

除非您在网站上有数百万个页面和类别，否则数据库可以在您眨眼之前轻松搜索数千条记录。

# android - 库成功加载后如何在 C 或 JAVA 编码中使用 libusb.so 库函数？

> ID：15221786
> 
> 赞同：1
> 
> 时间：2013-03-05T10:45:14.680
> 
> 标签：android, java-native-interface, usb, libusb, android-ndk-r5

我正在尝试使用 libusb.so 如何在我的 android 项目中使用 libusb 库。

我已经使用 libusb 源为我的 android 项目编译了 libusb 库。现在我想在我的代码中使用新生成的库 libusb.so 的功能。我使用了以下代码..只是检查功能是否正在加载..我应该怎么做才能使用 libusb 库在我的应用程序中列出设备信息。

jni目录中的代码..

# libTest.c

```
#include <string.h>
#include <jni.h>
#include <stdio.h>
#include <sys/types.h>
JNIEXPORT jstring JNICALL Java_com_example_loadlibrary_MainActivity_libTask(JNIEnv* env, jobject obj)
{
if( libusb_init(NULL) )
    return (*env)->NewStringUTF(env, "Library Loaded Successfuly!");
else
    return (*env)->NewStringUTF(env, "Can not load library........");
} 
```

# 安卓.mk

```
LOCAL_PATH := $(call my-dir)

include $(CLEAR_VARS)

include $(CLEAR_VARS)

LOCAL_MODULE := libusb-1.0

LOCAL_SRC_FILES := libusb-1.0.so

include $(PREBUILT_SHARED_LIBRARY)

include $(CLEAR_VARS)

LOCAL_MODULE    := libTest
LOCAL_SRC_FILES := libTest.c

include $(BUILD_SHARED_LIBRARY) 
```

# libusb-1.0.so

并且 src 包含这个 java 文件：

# MainActivity.java

```
package com.example.loadlibrary;

import android.os.Bundle;
import android.app.Activity;
import android.util.Log;
import android.view.Menu;
import android.widget.TextView;
import android.widget.Toast;

public class MainActivity extends Activity {

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    TextView  tv = new TextView(this);
    tv.setText(libTask());
    setContentView(tv);

}
@Override
public boolean onCreateOptionsMenu(Menu menu) {
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
}
private native String libTask();
static{
    System.loadLibrary("usb-1.0");
    System.loadLibrary("libTest");
 }

} 
```

但它在ndk编译中显示错误：

******错误：对“libusb_init”collect2 的未定义引用：ld 返回 1 个退出状态 make：****[obj/local/armeabi/libTest.so] 错误***1*****

 ***它表明我的代码中没有定义函数。那么我将如何使所有功能正常工作....

最后如果我这样做

替换： if( libusb_init(NULL) ) 为： if(1)

所有文件均已生成，但显示此错误：

目标`Loadlibrary.exe' failed makefile /Loadlibrary/Debug line 31 C/C++ Problem undefined reference to`_WinMain@16' 的配方加载库第 39 行，外部位置：\usr\src\debug\cygwin-1.7.17-1\winsup\cygwin\lib\libcmain.c C/C++ 问题制作：*** [Loadlibrary6.exe]错误 1 ​​加载库 C/C++ 问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T11:13:14.037

首先加载您的库，然后在其中使用函数

```
 static{
      System.loadLibrary("usb-1.0");
      System.loadLibrary("libTest");
      }
      public final static native String libTask(String st); //libTask is returning a string also... 
```

.so 文件位于“jni”文件夹中，所以首先检查构建后它们是否也在“libs/armeabi”文件夹中创建？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-05-07T06:42:02.373

我使用 NDK 和 libusb 支持构建的内容如下： 添加到您的 Android.mk

```
LOCAL_LDLIBS :=-L/path/to/your/compiled/libusb.so -lusb
```

试试看。希望这可以帮助。***

# android - Android：如何检测电子墨水屏幕？

> ID：15221787
> 
> 赞同：6
> 
> 时间：2013-03-05T10:45:19.447
> 
> 标签：android, screen, e-ink

我想让我的应用程序对电子墨水屏幕更友好，即减少渐变、删除动画等。在我可以为这些屏幕类型添加单独的布局之前，我首先需要一种检测它们的方法。有人找到了这样做的好方法吗？

[Display](http://developer.android.com/reference/android/view/Display.html)类看起来不像它提供了一种检测显示类型的方法 ......

编辑：我所说的电子墨水屏，是指使用[电子纸技术](http://en.wikipedia.org/wiki/Electronic_paper)的屏幕。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T12:19:16.047

与 LCD 和 OLED 显示器相比，当前的 ePaper 显示器的刷新速度非常慢，因此应该可以使用[Display.getRefreshRate()](http://developer.android.com/reference/android/view/Display.html#getRefreshRate%28%29)提供的值来检测它们。

```
boolean isEInk() { 
  return getWindowManager().getDefaultDisplay().getRefreshRate() < 5.0; 
} 
```

然而，在一些展会上，已经展示了支持视频的 ePaper 显示原型。因此，我假设下次刷新率可能会增加到示例代码中选择的 5.0 值以上。

# apache-flex - 使用 twitter API 获取我关注的推文的问题

> ID：15221795
> 
> 赞同：-1
> 
> 时间：2013-03-05T10:45:40.767
> 
> 标签：apache-flex, twitter, flash-builder, httpservice

我正在使用 Twitter API 和 Flex 4 来创建桌面应用程序。我需要分两部分显示推文：1）用户ABC的推文显示在一个部分中。2）用户ABC关注的人的推文，将显示在另一个部分。

### 我通过使用实现了第 1 点：

[https://api.twitter.com/1/statuses/user_timeline.xml?&screen_name=](https://api.twitter.com/1/statuses/user_timeline.xml?&screen_name=) "+ usrObj.username + "&count=" + usrObj.count;

但是在尝试第 2 点时遇到错误的身份验证错误。

我正在使用**HTTPSERVICE 访问**以下 URL ：

**[https://api.twitter.com/1.1/statuses/home_timeline.json](https://api.twitter.com/1.1/statuses/home_timeline.json)**

另外，我用过：

**[https://api.twitter.com/1/statuses/home_timeline.xml?&screen_name=](https://api.twitter.com/1/statuses/home_timeline.xml?&screen_name=) "+ usrObj.username + "&count=" + usrObj.count;**

其中**usrObj 是一个对象**。

收到以下错误消息：

**错误 #2032：流错误。网址：[https](https://api.twitter.com/1.1/statuses/home_timeline.json) : //api.twitter.com/1.1/statuses/home_timeline.json "errorID=2032**

请让我知道我是否遵循正确的网址和查询。谁能建议我如何准确获取推文？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T04:47:19.267

通过使用以下 url 检索家庭时间线完成了我的工作：

**[https://api.twitter.com/1/statuses/following_timeline.xml](https://api.twitter.com/1/statuses/following_timeline.xml)**

# asp.net-web-api - 带有存储过程的 ASP.NET WEB API 数据访问层

> ID：15221799
> 
> 赞同：0
> 
> 时间：2013-03-05T10:45:50.397
> 
> 标签：asp.net-web-api, data-access-layer

我对 MVC 框架和 ASP.NET WEB API 非常陌生

很长一段时间以来，我一直在使用具有 n 层架构的 ASP.NET AJAX 构建 Web 应用程序，并将数据作为存储过程。

我们正在尝试升级我们的产品之一以使用 HTML5 ASP.NET WEB API 进行开发，我们希望保持 DAL 和存储过程的完整性，并在 DAL 之上使用 ASP.NET WEB API 或 WCF 数据服务添加服务层HTML5 表示层将命中数据的服务层。

您能否建议这是否是我们希望保持数据库存储过程和 DAL 完整的可能情况？

正如我注意到的那样，EF5 中对存储过程的支持需要更加成熟才能支持我们的一些具有多表数据集的存储过程，我知道对此有解决方法。我已经看过 EF 6 Alpha 规范，我对这些功能感到兴奋。

有没有人有指向数据访问层之上的 ASP.NET WEB API 服务层的教程或示例的链接？或者你能提出一些建议或指出正确的方向吗

如果我必须对我想如何为我们当前的问题实施解决方案做出一个疯狂的猜测。我会说。

Present DAL 为我们提供了 Dataset 和 DataTable 数据集中的包装器以转换为 IQueryable 并在 ServiceLayer 中使用它们跳过整个 EF 解决方法。

提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-05T10:57:11.000

实际上你可以做到这一点。您可以将您的服务逻辑放入 Web API，但是，我不会这样做。我宁愿再增加一层抽象，以保持 API 尽可能轻量和简单。根据你的情况，你有这样的事情：

1.  带有存储过程的后端数据库服务器
2.  用于处理 1 号后端数据库的数据访问层组件。

现在您想在 2 之上构建 API。我对您的建议是添加服务层（也称为业务逻辑层），您可以在其中放置额外的逻辑，如计算、必要时额外的验证、消息传递服务等。

然后在服务层之上，我将添加 Web API。所以最后你的分层可能是这样的：

1.  带有存储过程的后端数据库服务器
2.  用于处理 1 号后端数据库的数据访问层组件。
3.  服务层（业务逻辑）
4.  ASP.NET Web API
5.  HTML5 客户端

这背后的想法是，在未来的某个时候，当您需要为您的产品添加其他功能时，您会在服务层中进行。不要继续增加 Web API 的复杂性。考虑维护、测试和未来扩展。

# maven - 使用 Maven 在 Fuse ESB/Servicemix 上自动提供功能

> ID：15221800
> 
> 赞同：1
> 
> 时间：2013-03-05T10:45:55.760
> 
> 标签：maven, osgi, fuseesb, jbossfuse, autodeploy

有没有办法通过 Maven 自动配置/部署功能来融合 ESB/Servicemix，比如 Tomcat 的货物？使用 ant+ssh 不是一个选项。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T07:49:27.223

I'm currently finalizing a client wrapped in a maven plugin that will do just that, but instead of the fusesource approach of using the hot deployment folder I connect directly to the remote karaf console and execute the commands required to (un)install features.

The auto deploy is part of automated regression tests executed by Jenkins through a set of SoapUI test scripts.

Basically I use apache SSHD to connect to karaf (see an example here: [https://cwiki.apache.org/KARAF/63-programmatically-connect-to-the-console.html](https://cwiki.apache.org/KARAF/63-programmatically-connect-to-the-console.html)) and some custom code to execute the commands and parse the result.

# spring - 在 applicationContext-security.xml 中解析 XML 文档时出现意外异常

> ID：15221803
> 
> 赞同：0
> 
> 时间：2013-03-05T10:45:58.143
> 
> 标签：spring, spring-security

在 Eclipse 中运行 Web 应用程序时出现此错误：

```
java.lang.NoSuchMethodError: org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.getLocalName(Lorg/w3c/dom/Node;)Ljava/lang/String; 
```

在一些网页中，我看到 spring 和 spring security 之间的冲突导致了这个异常，但我检查了库版本，它们都是 3.x 这里是类路径：

```
<?xml version="1.0" encoding="UTF-8"?>
<classpath>
<classpathentry kind="src" path="src"/>
<classpathentry kind="src" path="WebContent/WEB-INF"/>
<classpathentry exported="true" kind="con" path="org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/jre6">
    <attributes>
        <attribute name="owner.project.facets" value="java"/>
    </attributes>
</classpathentry>
<classpathentry exported="true" kind="con" path="org.eclipse.jst.server.core.container/org.eclipse.jst.server.tomcat.runtimeTarget/Apache Tomcat v6.0">
    <attributes>
        <attribute name="owner.project.facets" value="jst.web"/>
    </attributes>
</classpathentry>
<classpathentry exported="true" kind="con" path="org.eclipse.jst.j2ee.internal.web.container"/>
<classpathentry exported="true" kind="con" path="org.eclipse.jst.j2ee.internal.module.container"/>
<classpathentry exported="true" kind="lib" path="//10.60.2.7/Sabka/Salehnia/asvadi/lib/ojdbc14.jar"/>
<classpathentry exported="true" kind="lib" path="//10.60.2.7/Sabka/Salehnia/asvadi/lib/ojdbc14dms.jar"/>
<classpathentry exported="true" kind="lib" path="D:/SpringWS/SpringStruts2/WebContent/WEB-INF/lib/antlr-runtime-3.0.jar"/>
<classpathentry exported="true" kind="lib" path="D:/SpringWS/SpringStruts2/WebContent/WEB-INF/lib/commons-fileupload-1.2.1.jar"/>
<classpathentry exported="true" kind="lib" path="D:/SpringWS/SpringStruts2/WebContent/WEB-INF/lib/commons-io-1.3.2.jar"/>
<classpathentry exported="true" kind="lib" path="D:/SpringWS/SpringStruts2/WebContent/WEB-INF/lib/commons-logging-1.1.jar"/>
<classpathentry exported="true" kind="lib" path="D:/SpringWS/SpringStruts2/WebContent/WEB-INF/lib/freemarker-2.3.13.jar"/>
<classpathentry exported="true" kind="lib" path="D:/SpringWS/SpringStruts2/WebContent/WEB-INF/lib/junit-3.8.1.jar"/>
<classpathentry exported="true" kind="lib" path="D:/SpringWS/SpringStruts2/WebContent/WEB-INF/lib/ognl-2.6.11.jar"/>
<classpathentry exported="true" kind="lib" path="D:/SpringWS/SpringStruts2/WebContent/WEB-INF/lib/org.springframework.asm-3.0.0.M3.jar"/>
<classpathentry exported="true" kind="lib" path="D:/SpringWS/SpringStruts2/WebContent/WEB-INF/lib/org.springframework.beans-3.0.0.M3.jar"/>
<classpathentry exported="true" kind="lib" path="D:/SpringWS/SpringStruts2/WebContent/WEB-INF/lib/org.springframework.context-3.0.0.M3.jar"/>
<classpathentry exported="true" kind="lib" path="D:/SpringWS/SpringStruts2/WebContent/WEB-INF/lib/org.springframework.core-3.0.0.M3.jar"/>
<classpathentry exported="true" kind="lib" path="D:/SpringWS/SpringStruts2/WebContent/WEB-INF/lib/org.springframework.expression-3.0.0.M3.jar"/>
<classpathentry exported="true" kind="lib" path="D:/SpringWS/SpringStruts2/WebContent/WEB-INF/lib/org.springframework.web.servlet-3.0.0.M3.jar"/>
<classpathentry exported="true" kind="lib" path="D:/SpringWS/SpringStruts2/WebContent/WEB-INF/lib/org.springframework.web-3.0.0.M3.jar"/>
<classpathentry exported="true" kind="lib" path="D:/SpringWS/SpringStruts2/WebContent/WEB-INF/lib/struts2-convention-plugin-2.1.6.jar"/>
<classpathentry exported="true" kind="lib" path="D:/SpringWS/SpringStruts2/WebContent/WEB-INF/lib/struts2-core-2.1.6.jar"/>
<classpathentry exported="true" kind="lib" path="D:/SpringWS/SpringStruts2/WebContent/WEB-INF/lib/struts2-spring-plugin-2.1.6.jar"/>
<classpathentry exported="true" kind="lib" path="D:/SpringWS/SpringStruts2/WebContent/WEB-INF/lib/xwork-2.1.2.jar"/>
<classpathentry kind="output" path="build/classes"/>
</classpath> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T12:52:43.087

升级到 Spring [3.1.0](http://static.springsource.org/spring/docs/3.1.0.M1/javadoc-api/org/springframework/beans/factory/xml/BeanDefinitionParserDelegate.html#getLocalName%28org.w3c.dom.Node%29)或更高版本。[3.0.0.M3](http://static.springsource.org/spring/docs/3.0.0.M3/javadoc-api/org/springframework/beans/factory/xml/BeanDefinitionParserDelegate.html#getLocalName%28org.w3c.dom.Node%29)不包含 getLocalName 方法（javadocs 链接）。

我不确定是什么试图调用该方法（也许你可以粘贴更多的堆栈跟踪），但升级是第一件事。

# php - 将产品尺寸添加到购物车

> ID：15221804
> 
> 赞同：-1
> 
> 时间：2013-03-05T10:46:02.313
> 
> 标签：php, store, cart, shopping

基本上我已经按照教程在 php 中创建了一个与 mysql 数据库链接的基本购物车系统。[这是教程的链接](http://www.youtube.com/watch?v=65gV8JOgWkQ)

我能够使用 switch 语句在产品页面上显示正确的尺寸选项/下拉框。（通过管理面板在后端添加调整大小的选项）。

产品.php：

```
 <?php
 switch ($sizing) {
case "Womens_t":
    echo '<select name= "size">
        <option value="xsmlsml">X-Small - Small</option>
        <option value="smlmed">Small - Medium</option>
        <option value="medlge">Medium - Large</option>
        </select>';
    break;
case "Womens_b":
    echo '<select name= "size">
        <option value="8">AUS 8</option>
        <option value="10">AUS 10</option>
        <option value="12">AUS 12</option>
        <option value="14">AUS 14</option>
        </select>';
    break;
case "Mens_t":
    echo '<select name="size">
        <option value="xsmlsml">X-Small - Small</option>
        <option value="smlmed">Small - Medium</option>
        <option value="medlge">Medium - Large</option>
        </select>';
    break;
case "Mens_b":
    echo '<select name="size">
        <option value="8">AUS 8</option>
        <option value="10">AUS 10</option>
        <option value="12">AUS 12</option>
        <option value="14">AUS 14</option>
        </select>';
    break;
case "":
    echo '';
    break;

} 

  ?><input type="hidden" name="pid" id="pid" value="<?php echo $id; ?>" />
      <input type="submit" name="button" id="button" value="Add to cart" />
    <div class="table">

    </form> 
```

当它连接到 cart.php 页面时，它会出现一个错误，指出“size”是一个未定义的变量（第 135 行），它位于呈现购物车供用户查看的代码下方：

第 135 行

```
 $cartOutput .= '<td>' . $size .  '</td>'; 
```

所以我不确定大小是否只是在开始时没有定义，或者我是否必须将它从 cart_array 中拉出来？我有点难过，我还没有找到任何解决方案。我试过改变变量，但没有任何效果。

这是 cart.php 代码：

```
if (isset($_POST['pid'])) {
$pid = $_POST['pid'];
$size = $_POST['size'];
$wasFound = false;
$i = 0;
// If the cart session variable is not set or cart array is empty
if (!isset($_SESSION["cart_array"]) || count($_SESSION["cart_array"]) < 1) { 
    // RUN IF THE CART IS EMPTY OR NOT SET
    $_SESSION["cart_array"] = array(0 => array("item_id" => $pid, "size" => $size, "quantity" => 1));
} else {
    // RUN IF THE CART HAS AT LEAST ONE ITEM IN IT
    foreach ($_SESSION["cart_array"] as $each_item) { 
          $i++;
          while (list($key, $value) = each($each_item)) {
              if ($key == "item_id"&&"size" && $value == $pid&&$size) {
                  // That item is in cart already so let's adjust its quantity using array_splice()
                  array_splice($_SESSION["cart_array"], $i-1, 1, array(array("item_id" => $pid, "size" => $size, "quantity" => $each_item['quantity'] + 1)));
                  $wasFound = true;
              } // close if condition
          } // close while loop
       } // close foreach loop
       if ($wasFound == false) {
           array_push($_SESSION["cart_array"], array("item_id" => $pid,"size" => $size, "quantity" => 1));
       }
}
header("location: cart.php"); 
exit();
} 
```

然后这是呈现购物车供用户查看的代码：

```
$cartOutput = "";
    $cartTotal = "";
    $pp_checkout_btn = '';
    $product_id_array = '';
    if (!isset($_SESSION["cart_array"]) || count($_SESSION["cart_array"]) < 1) {
    $cartOutput = "<h2 align='center'>Your shopping cart is empty</h2>";
    } else {

    // Start PayPal Checkout Button

    $pp_checkout_btn .= '<form action="https://www.paypal.com/cgi-bin/webscr" method="post">
    <input type="hidden" name="cmd" value="_cart">
    <input type="hidden" name="upload" value="1">
    <input type="hidden" name="business" value="email@email.com">';

    // Start the For Each loop

    $i = 0; 
    foreach ($_SESSION["cart_array"] as $each_item) { 
    $item_id = $each_item['item_id'];
    $sql = mysql_query("SELECT * FROM products WHERE id='$item_id' LIMIT 1");
    while ($row = mysql_fetch_array($sql)) {
        $product_name = $row["product_name"];
        $price = $row["price"];
        $details = $row["details"];
    }
    $pricetotal = $price * $each_item['quantity'];
    $cartTotal = $pricetotal + $cartTotal;
    setlocale(LC_MONETARY, "en_AUS");
    $pricetotal = number_format($pricetotal, 2, '.',' ');

    // Dynamic Checkout Btn Assembly

    $x = $i + 1;
    $pp_checkout_btn .= '<input type="hidden" name="item_name_' . $x . '" value="' . $product_name . '">
    <input type="hidden" name="amount_' . $x . '" value="' . $price . '">
    <input type="hidden" name="on0_' . $x . '" value="size">
    <input name="size" type="hidden" value="' . $each_item['size'] . '" />
    <input type="hidden" name="quantity_' . $x . '" value="' . $each_item['quantity'] . '">  ';

    // Create the product array variable

    $product_id_array .= "$item_id-".$each_item['quantity'].","; 

    // Dynamic table row assembly

    $cartOutput .= "<tr>";
    $cartOutput .= '<td><a href="product.php?id=' . $item_id . '">' . $product_name . '</a><br /><img src="inventory_images/' . $item_id . '.png" alt="' . $product_name. '" width="40"                     height="52" border="1" /></td>';
    $cartOutput .= '<td>' . $details . '</td>';
    $cartOutput .= '<td>' . $size .  '</td>';
    $cartOutput .= '<td>$' . $price . '</td>';
    $cartOutput .= '<td><form action="cart.php" method="post">
    <input name="quantity" type="text" value="' . $each_item['quantity'] . '" size="1" maxlength="2" />
    <input name="adjustBtn' . $item_id . '" type="submit" value="change" />
    <input name="item_to_adjust" type="hidden" value="' . $item_id . '" />
    </form></td>';
    //$cartOutput .= '<td>' . $each_item['quantity'] . '</td>';
    $cartOutput .= '<td>' . $pricetotal . '</td>';
    $cartOutput .= '<td><form action="cart.php" method="post"><input name="deleteBtn' . $item_id . '" type="submit" value="X" /><input name="index_to_remove" type="hidden" value="' . $i . '" /></form></td>';
    $cartOutput .= '</tr>';
    $i++; 
} 
setlocale(LC_MONETARY, "en_AUS");
$cartTotal = number_format($cartTotal, 2, '.',' ');
$cartTotal = "<div style='font-size:18px; margin-top:12px;' align='right'>Cart Total : ".$cartTotal." USD</div>";

// Finish the Paypal Checkout Btn

$pp_checkout_btn .= '<input type="hidden" name="custom" value="' . $product_id_array . '">
<input type="hidden" name="notify_url" value="127.0.0.1/storescripts/my_ipn.php">
<input type="hidden" name="return" value="127.0.0.1/checkout_complete.php">
<input type="hidden" name="rm" value="2">
<input type="hidden" name="cbt" value="Return to The Store">
<input type="hidden" name="cancel_return" value="127.0.0.1/paypal_cancel.php">
<input type="hidden" name="lc" value="US">
<input type="hidden" name="currency_code" value="USD">
<input type="image" src="http://www.paypal.com/en_AUS/i/btn/x-click-but01.gif" name="submit" alt="Make payments with PayPal - its fast, free and secure!">
</form>';
} 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-05T11:05:08.847

您有一个 foreach 循环，它遍历您的会话项目数组。你忘了`$size`在这里定义

```
foreach ($_SESSION["cart_array"] as $each_item) { 
    $item_id = $each_item['item_id'];
    $size = $each_item['size'];         //Here :)

    $sql = mysql_query("SELECT * FROM products WHERE id='$item_id' LIMIT 1");
    while ($row = mysql_fetch_array($sql)) {
        $product_name = $row["product_name"];
        $price = $row["price"];
        $details = $row["details"];
     } 
```

此外，使用类似这样的查询（单独循环）轰炸您的数据库是一个坏主意：

```
$item_IDs = [];
foreach($_SESSION['cart_array'] as $each_item) {
    $item_IDs[] = $each_item['item_id'];
}

//Then the query becomes
SELECT * FROM products WHERE ID IN(". explode(',', $item_IDs) .") //and use this result 
```

并使用 mysqli 或 PDO 代替 mysql_ *，因为 mysql_*已被废弃 :) [http://net.tutsplus.com/tutorials/php/pdo-vs-mysqli-which-should-you-use/](http://net.tutsplus.com/tutorials/php/pdo-vs-mysqli-which-should-you-use/)

# html - 静态 pdf 不可用

> ID：15221809
> 
> 赞同：0
> 
> 时间：2013-03-05T10:46:22.417
> 
> 标签：html, spring-mvc, hyperlink, vmware-server

我在我的 Spring MVC 应用程序中提供了一个锚点，如下所示：

```
<a href='<c:url value="/resources/um.pdf"/>' type='application/pdf' target='_blank'>Download User Manual</a> 
```

但是，服务器没有提供 pdf 文件，而是返回**404**错误，而它正在从同一个锚点完美地提供同一目录中的 css、js 和图像文件。

# android - 发送带有图像的彩信

> ID：15221810
> 
> 赞同：0
> 
> 时间：2013-03-05T10:46:23.237
> 
> 标签：android, android-intent, mms

我在可绘制文件夹中有我的图像，并且我在 gridview 中获取了这些图像。我也在全屏选择中显示特定图像。现在我想发送带有图像附件的彩信。

这是我显示图像的代码。并发送彩信。如何让 Uri 投入使用或如何发送图像附件。

```
imageView.setImageResource(imageAdapter.mThumbIds[position]);

Intent sendIntent = new Intent(Intent.ACTION_SEND);
             sendIntent.putExtra("sms_body", "Hii");
             sendIntent.setType("image/png");

             startActivity(sendIntent); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T10:49:12.343

使用以下代码发送彩信。希望对您有所帮助。

```
 Intent intent = new Intent(Intent.ACTION_SEND);
    intent.putExtra("sms_body", "Hi how are you");
    intent.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(new File("/sdcard/file.gif")));
    intent.setType("image/gif"); 
    startActivity(Intent.createChooser(intent,"Send"));

Uri uri = Uri.parse("android.resource://your.package.here/drawable/image_name"); 
```

编辑：

```
Intent intent = new Intent(Intent.ACTION_SEND);
        intent.putExtra("sms_body", "Hi how are you");
        Uri uri = Uri.parse("android.resource:// com.example.stack/drawable/ic_launcher.png");
        intent.putExtra(Intent.EXTRA_STREAM,uri );
        intent.setType("image/png"); 
        startActivity(Intent.createChooser(intent,"Send")); 
```

# visual-studio-2012 - 是否可以使用插件在 Visual Studio 2012 中使用 Qt4 项目？

> ID：15221812
> 
> 赞同：5
> 
> 时间：2013-03-05T10:46:36.087
> 
> 标签：visual-studio-2012, qt4, add-in

我发现 Qt VS addin 1.1.x 与包括 2010 在内的 Visual Studios 一起使用。Qt VS addin 1.2.x 不支持 VS 2012 中的 Qt4。这个插件是否有任何分支可以处理 VS 2012 中的 Qt4？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2014-02-27T11:55:11.573

如何在 VS2012 (Qt 4.6.x) 中为 Qt 类启用调试可视化工具：

1.  下载并安装qt-vs-addin for Qt5 for VS2012（在1.2.2版本测试）；
2.  在编辑器中打开 Program Files (x86)\Microsoft Visual Studio 11.0\Common7\Packages\Debugger\autoexp.dat；
3.  取消注释 Qt4 的 QString 和 QByteArray 部分，并注释掉（使用 ';'）Qt5 的 QString 和 QByteArray 部分；
4.  运行VS2012，打开工具->选项->调试->编辑并继续。在 Native-only Options 的组框中，选中“Enable native Editor and Continue”。这将迫使 VS 使用 autoexp.dat，而不是基于 XML 的原生 vis 定义（即所谓的“调试器中的数据查看增强”）。
5.  利润！

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-09-09T12:00:41.090

是的，可以使用 VS 插件 1.2.2。我在 Visual Studio 2012 中将此插件版本和 Qt 4.8.1 一起使用。

该插件对 Qt4 有限制，但它为您完成了整个 moc 和 ui 的工作。

限制是：

*   您必须自行指定 Qt4 包含目录和库路径（不可点击）
*   您没有 Qt 4 文件模板（但在根据 Qt4 文件结构更改 Qt4 头文件的包含指令后仍然有效）

![Qt 版本](../Images/bbd99c719b8f14064b44214cd0dfa99e.png)

# android - Android：在设备移动时在 mapv2 上绘制路径

> ID：15221816
> 
> 赞同：3
> 
> 时间：2013-03-05T10:46:54.823
> 
> 标签：android, google-maps

我正在制作一个应用程序，**当我的设备移动时，我必须在地图上绘制路径**。我搜索了我的教程 **，但都显示以黑白两点**绘制路径，但我想在**设备移动时绘制路径**。对此的任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:51:47.440

你的设备移动是什么意思？无论哪种方式，您都必须使用位置侦听器获取位置更新，并且在每次新更新时，在新更新的坐标和前一个坐标之间创建一条折线。

**更新**：这里有一些帖子向您展示如何绘制带方向的折线：

[有没有办法在 Google Map API v2 中显示道路方向？](https://stackoverflow.com/questions/14554078/is-there-a-way-to-show-road-directions-in-google-map-api-v2)

[使用 Google Maps API v2 获取行车路线](https://stackoverflow.com/questions/14495030/google-map-api-v2-get-driving-directions/15053901#15053901)

我可以使用那里的概念为您画出您想要的线条。

# jquery - JQuery：获取属于输入标签的标签的值

> ID：15221817
> 
> 赞同：4
> 
> 时间：2013-03-05T10:46:56.143
> 
> 标签：jquery, html

我有一个标签，它使用`for`标签来识别它属于哪个输入标签。我想获取该标签中文本的值。这是代码：

```
<input type="radio" id="radio2" name="radio" checked="checked" value="SSN" /><label for="radio2">SSN</label> 
```

我需要标签标签包含的值：即 SSN .. 到目前为止我有这个：

```
var lbText = $('label[for="' + $('input:radio[name=radio]:checked').("out of ideas over here!") + '"]').html() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:53:39.717

```
$('label[for="' + $('input:radio[name=radio]:checked').attr("id") + '"]').html() 
```

这是[jsFiddle](http://jsfiddle.net/uKb3M/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:49:49.760

我想这就是你想要的.. :)

```
$('input:radio[name=radio]:checked').next().text(); 
```

[在这里摆弄](http://jsfiddle.net/bipen/qTHEy/)

# javascript - jQuery——使用插件的公共方法停止插件内的动画

> ID：15221825
> 
> 赞同：1
> 
> 时间：2013-03-05T10:47:11.607
> 
> 标签：javascript, jquery, jquery-plugins, jquery-animate

我正在使用[扩展的 jQuery Plugin Boilerplate](https://github.com/zenorocha/jquery-boilerplate/wiki/Extending-jQuery-Boilerplate)编写一个插件，该插件具有启动/停止在插件中运行的动画的公共方法；这个动画不是 CSS amin BTW，它只是一个计数器，所以我可以使用每个`step`.

动画从`init()`方法内部开始：

```
Plugin.prototype = {
    init: function () {
        // Place initialization logic here
        // You already have access to the DOM element and
        // the options via the instance, e.g. this.element
        // and this.options
        // you can add more functions like the one below and
        // call them like so: this.yourOtherFunction(this.element, this.options).
        console.log('init');

        $({ i: 0 }).animate({ i: 1000 }, {
            duration: 1000
        ,   step:     function () { console.log(this.i); }
        });
    },
    stop: function () { //yourOtherFunction: function () {
        // some logic
        console.log('stop');

        $(this.element).clearQueue();
        $(this.element).stop();
    }
}; 
```

并且确实开始很好，当被称为 like 时`$('.some-elements').wheels();`。

我想要一种通过调用公共函数来暂停或停止此动画的方法，例如：

```
var timeout = window.setTimeout(function () {
    $('#total.cont-email-wheel').wheels('stop');
}, 500); 
```

这个例子将在中途停止动画（我理解超时等的不准确性），但它没有；这就是我在这里的原因！

*注意：`stop`在中途标记附近记录到控制台，因此该方法被正确调用。*

我很确定，通过查看我需要调用的[jQuery 文档](http://api.jquery.com/clearQueue/)`clearQueue()`和`stop()`动画对象，在这种情况下，它是一个匿名对象 ( `{ i }`)，而不是元素，但我不知道如何做这个。

任何帮助将非常感激; 我试图尽可能简洁地解释，但如果不清楚，我会尝试在评论中澄清！

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T13:14:43.467

`clearQueue`假设我需要在动画对象上调用and方法似乎是正确的，所以我使用属性进行了`stop`扩展，这样我就可以动画它而不是匿名对象。`this.element``i`

这意味着我现在可以调用`clearQueue`和`stop`方法来暂停`this.element`对象上的动画，可以从插件中的任何方法访问该动画。

```
Plugin.prototype = {
    init: function () {
        // Place initialization logic here
        // You already have access to the DOM element and
        // the options via the instance, e.g. this.element
        // and this.options
        // you can add more functions like the one below and
        // call them like so: this.yourOtherFunction(this.element, this.options).
        console.log('init');

        $.extend(this.element, { i: 0 });

        $(this.element).animate({ i: 1000 }, {
            duration: 1000
        ,   step:     function () { console.log(this.i); }
        });
    },
    stop: function () { //yourOtherFunction: function () {
        // some logic
        console.log('stop');
        console.log($(this.element));

        $(this.element).clearQueue();
        $(this.element).stop();
    }
}; 
```

通过这样做，我现在不需要我自己的公共方法来停止动画，因为 jQuery 的本机`stop()`方法可以正常工作。此外，如果我想暂停/恢复动画，我现在可以使用大量可用的暂停/恢复插件。无需重新编写轮子！

# css - CSS背景图像并不总是显示

> ID：15221826
> 
> 赞同：2
> 
> 时间：2013-03-05T10:47:14.530
> 
> 标签：css, firefox, background, browser-cache

我正在使用 css 加载背景图像：

```
background:#000000 url(site/logo.jpg) no-repeat 
```

这工作正常。但是，使用 Firefox，当使用强制缓存刷新重新加载站点时，图像有时不会显示。在这些情况下，我需要采取一些单击操作（例如切换选项卡、标记文本、右键单击和查看站点信息或源）以使它们出现。我假设它们已加载但根本不显示。

当 Firefox 在没有强制缓存刷新的情况下加载站点时，即使缓存为空，也不会发生这种情况。使用 IE 或 Chrome 不会发生这种情况。事实上，这似乎在最近的 Firefox 19 发布之前并没有发生，但我不确定。

我找不到任何明显的原因。还有其他可能对此产生影响的事情吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T12:45:49.663

尝试单独使用：

`background:url('site/logo.jpg') no-repeat;`
`background-color: #000;`

我已经在我的浏览器（Firefox 19.0）中尝试过这段代码，即使在使用 F5 刷新后也能正常工作！
如果这对您不起作用，请发送您页面的链接。也许是因为你应用这种风格的元素......或者谁知道，可能有很多可能性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-11T10:02:42.977

Firefox 更新 19.0.2 似乎修复了这个问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-11T10:10:44.353

我们有类似的问题。我们的图像已作为 和 的背景放置在表格`<th>`中`<td>`。

看看这篇 [文章的结尾和](http://www.codingforums.com/archive/index.php/t-83176.html)**yasirmturk 提​​出**的 解决方案

 **1.  `<div style=‘clear:both’&gt;</div>`在包装器 DIV 结束之前添加
2.  添加`overflow:hidden;`到包装器 DIV
3.  添加`display:inline-block;`到包装器 DIV

我们解决它的另一种方法是切换到

```
border-collapse: separate; 
```**

# javascript - 用jquery检查父点击上的输入框

> ID：15221827
> 
> 赞同：1
> 
> 时间：2013-03-05T10:47:16.677
> 
> 标签：javascript, jquery, html

我有一堆包含输入字段的列表项，当单击列表项时，我想检查子项，这可能吗？

```
function setupToptions() {
    if ($('ul.top-options input').length) {
        $('ul.top-options li').each(function(){ 
            $(this).removeClass('active');
        });
        $('ul.top-options li input:checked').each(function(){ 
            $(this).parent('li').addClass('active');
        });                
    };
};

$(document).ready(function() {
    // Top options select
    $('ul.top-options li').click(function(){
        setupToptions();
    });
    setupToptions();
}); 
```

[http://jsfiddle.net/BKgdc/1/](http://jsfiddle.net/BKgdc/1/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T10:51:57.567

您只需要在子输入上设置检查值，如下所示：

```
$(document).ready(function() {
    // Top options select
    $('ul.top-options li').click(function(){
        $(this).find('input:radio').prop('checked', true); // Add this line     
        setupToptions();
    });
    setupToptions();
}); 
```

[http://jsfiddle.net/BKgdc/2/](http://jsfiddle.net/BKgdc/2/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-05T10:59:27.083

不是最好的答案（因为我已经改变了一切），而只是另一种没有`setupToptions`功能的可能解决方案：

```
$(document).ready(function() {

    $li = $('ul.top-options li');
    $li.click(function() {
        $li.removeClass('active')
        .filter(this).addClass('active').find('input').prop('checked', true);
    });
    $li.filter(':has(:checked)').click();

}); 
```

[http://jsfiddle.net/BKgdc/4/](http://jsfiddle.net/BKgdc/4/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T10:51:51.653

你可以很容易地做到这一点。只需添加此代码。

```
$("li").click(function(){
    $(this).find("input").attr('checked', 'checked');
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-05T10:52:43.463

您可以添加代码：

```
$('input', this).attr('checked', 'true'); 
```

到`li`点击功能。

## [jsFiddle](http://jsfiddle.net/BKgdc/3/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-05T10:54:36.663

一个完整的方法是注册`click`父级的和`change`单选按钮的。还值得注意的是，这可以在没有 JavaScript 的情况下通过正确使用`label`... 来实现，但为了这个问题，这里是 JavaScript。

```
// the click
function setChecked() {
    $('input', this).prop('checked', true).change();
}

// the change
function updateActive() {
    $('ul.top-options li').removeClass('active')
        .find('input:checked')
        .parent()
        .addClass('active');
}

// hooking it together
$(document).ready(function() {
    $('ul.top-options li').click(setChecked).find('input').change(updateActive);
}); 
```

## [jsFiddle 演示](http://jsfiddle.net/GeekyEggo/BKgdc/5/)

# google-app-engine - Mapreduce 作业随机失败并出现“BadValueError：名称必须低于 500”

> ID：15221828
> 
> 赞同：2
> 
> 时间：2013-03-05T10:47:22.320
> 
> 标签：google-app-engine, python-2.7, mapreduce

我正在运行一个映射大约 100k 记录的 map reduce 作业。

数千条记录（每次不同的地方）后，地图步骤失败，应用引擎日志中出现以下错误 *BadValueError: name must be under 500*

> 管道作业 ID：baada59c857d11e28527e1efd5a519d7
> 
> 输出 Blob 文件名：content_contributors_report_1362478582.csv

日志转储

```
 Final result for job '1581739058957C0CA88F5' is 'success' E2013-03-05
 12:25:21.637 name must be under 500 bytes. Traceback (most recent call
 last):   File
 "/python27_runtime/python27_lib/versions/third_party/webapp2-2.5.2/webapp2.py",
 line 1535, in __call__
     rv = self.handle_exception(request, response, e)   File "/python27_runtime/python27_lib/versions/third_party/webapp2-2.5.2/webapp2.py",
 line 1529, in __call__
     rv = self.router.dispatch(request, response)   File "/python27_runtime/python27_lib/versions/third_party/webapp2-2.5.2/webapp2.py",
 line 1278, in default_dispatcher
     return route.handler_adapter(request, response)   File "/python27_runtime/python27_lib/versions/third_party/webapp2-2.5.2/webapp2.py",
 line 1102, in __call__
     return handler.dispatch()   File "/python27_runtime/python27_lib/versions/third_party/webapp2-2.5.2/webapp2.py",
 line 572, in dispatch
     return self.handle_exception(e, self.app.debug)   File "/python27_runtime/python27_lib/versions/third_party/webapp2-2.5.2/webapp2.py",
 line 570, in dispatch
     return method(*args, **kwargs)   File "/base/data/home/apps/s~myap/a-276.365486148015822746/mapreduce/base_handler.py",
 line 68, in post
     self.handle()   File "/base/data/home/apps/s~myapp/a-276.365486148015822746/mapreduce/handlers.py",
 line 437, in handle
     spec, state, self.base_path())   File "/base/data/home/apps/s~myapp/a-276.365486148015822746/mapreduce/handlers.py",
 line 517, in _finalize_job
     mapreduce_spec.mapper.output_writer_class().finalize_job(mapreduce_state)
 File
 "/base/data/home/apps/s~myapp/a-276.365486148015822746/mapreduce/output_writers.py",
 line 454, in finalize_job
     files.blobstore.get_blob_key(filename)))   File "/base/data/home/apps/s~myapp/a-276.365486148015822746/mapreduce/lib/files/blobstore.py",
 line 112, in get_blob_key
     _BLOB_FILE_INDEX_KIND, ticket, namespace='')])[0]   File "/python27_runtime/python27_lib/versions/1/google/appengine/api/datastore_types.py",
 line 504, in from_path
     ValidateString(id_or_name, 'name')   File "/python27_runtime/python27_lib/versions/1/google/appengine/api/datastore_types.py",
 line 176, in ValidateString
     raise exception('%s must be under %d bytes.' % (name, max_len)) BadValueError: name must be under 500 bytes. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T20:17:08.340

不同版本的 mapreduce 可能会导致这个问题。基于在[非默认版本上运行 Map Reduce？](https://stackoverflow.com/questions/15148527/run-map-reduce-on-non-default-versions/15170392) 建议使用[https://code.google.com/p/appengine-mapreduce/](https://code.google.com/p/appengine-mapreduce/)

> 文档中陈旧的捆绑链接是一个错误。那很快就会被清理干净。
> 
> 我们的一些 SDK 包含一些 MapReduce（出于历史原因），但目前要采用开源版本。

# r - 在 R 的包函数中使用 ddply 的可视化绑定

> ID：15221830
> 
> 赞同：0
> 
> 时间：2013-03-05T10:47:42.367
> 
> 标签：r, package, plyr

我有一个类似的问题，就像这里已经讨论过的那样： [R CMD 检查中的全局变量注释没有可见的绑定](https://stackoverflow.com/questions/8096313/no-visible-binding-for-global-variable-note-in-r-cmd-check)

就我而言，我在自己的包中使用了函数 ddply，当我检查 R 包时，我收到一条注释，指出“全局变量 'VARX' 没有可见的绑定。

解决的代码行是：

```
subsample <- ddply(my_data, .(VARX), function(x){x[sample(nrow(x), 1), ]}) 
```

变量 VARX 是数据框中的一列，由包 (sysdata) 提供。为适当的 R 包改进该代码的良好做法是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-05T10:58:18.503

问题与 . 无关`ddply`，只是它`VARX`不是当前工作空间中的有效对象，因为它是`my_data`. 您链接的问题中的建议也保留在这里，可能`VARX = NULL`在您调用之前放置在某个地方`subsample <- ddply(my_data, .(VARX), function(x){x[sample(nrow(x), 1), ]})`将解决这个问题，因为现在`R CMD CHECK`看到有一个`VARX`对象。这也不会干扰调用，`ddply`因为作用域确保使用`VARX`in`my_data`而不是`VARX`全局作用域中的 in。

# ios - UITableView 的高度没有以编程方式改变

> ID：15221832
> 
> 赞同：0
> 
> 时间：2013-03-05T10:47:50.670
> 
> 标签：ios, uitableview

当从超级视图中删除子视图时，我想根据数组中项目的大小来刷新和调整表视图的大小以填充到表视图中。我通过创建一个框架来做到这一点，该框架为每个增加的项目增加 50 的高度。这是我的代码

```
- (IBAction) doneAddingUsers:(id)sender {

    [self.crewTable setHidden:NO];
    [self.crewTable reloadData];
    self.crewTable.frame = CGRectMake(self.crewTable.frame.origin.x, self.crewTable.frame.origin.y, self.crewTable.frame.size.width, [crewArray count]*50);

    NSLog(@"height: %f", crewTable.frame.size.height);
    [self.view bringSubviewToFront:self.crewMembersView];
    [self.crewMembersView removeFromSuperview];
} 
```

在日志中它显示了正确的高度，但在 UI 中它似乎没有改变表格视图的高度。我也禁用了滚动

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-26T22:42:43.190

您可以这样做，而不是在 doneAddingUsers: 中设置框架：

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    int count = [crewArray count];

    //Set the height of the tableview
    CGRect frame = self.tabPackageList.frame;

    frame.size.height = (count * 50);

    [self.tabPackageList setFrame:frame];

    // Return the number of rows in the section.
    return count;
} 
```

# iphone - 在 iphone 中使用缩放图像自动滚动

> ID：15221835
> 
> 赞同：-4
> 
> 时间：2013-03-05T10:47:56.890
> 
> 标签：iphone, ios, uiimageview, zooming, autoscroll

我是 iphone 新手，我正在做一个项目，我正在使用滚动视图自动滚动图像，我还必须放大和缩小图像。这可能吗？如果是的话怎么做。请给我一些代码。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:57:44.187

```
- (void)viewDidLoad
{
 [super viewDidLoad];

// 1
   UIImage *image = [UIImage imageNamed:@"photo1.png"];
   self.imageView = [[UIImageView alloc] initWithImage:image];
   self.imageView.frame = (CGRect){.origin=CGPointMake(0.0f, 0.0f), .size=image.size};
  [self.scrollView addSubview:self.imageView];

// 2
   self.scrollView.contentSize = image.size; 
  } 
```

**viewDidLoad**

> 1.  首先，您需要使用添加到项目中的 photo1.png 图像创建一个图像视图，并设置图像视图框架（它的大小和位置），使其成为图像的大小并位于父级中的 0,0 点. 最后，图像视图被添加为滚动视图的子视图。
>     
>     
> 2.  您必须告诉滚动视图其中包含的内容的大小，以便它知道可以水平和垂直滚动多远。在这种情况下，它是图像的大小。

```
- (void)viewWillAppear:(BOOL)animated {
[super viewWillAppear:animated];

// 1
CGRect scrollViewFrame = self.scrollView.frame;
CGFloat scaleWidth = scrollViewFrame.size.width / self.scrollView.contentSize.width;
CGFloat scaleHeight = scrollViewFrame.size.height / self.scrollView.contentSize.height;
CGFloat minScale = MIN(scaleWidth, scaleHeight);
self.scrollView.minimumZoomScale = minScale;

// 2
self.scrollView.maximumZoomScale = 1.0f;
self.scrollView.zoomScale = minScale; 
```

}

**视图将出现**

> 1.  接下来，您需要计算出滚动视图的最小缩放比例。缩放比例为 1 表示内容以正常大小显示。低于 1 的缩放比例显示缩小的内容，而大于 1 的缩放比例显示放大的内容。
>     
>     
> 2.  您将最大缩放比例设置为 1，因为放大超过图像的分辨率可以支持会导致它看起来模糊。您将初始缩放比例设置为最小值，以便图像开始完全缩小。

# c - 在c中初始化字符串数组的最佳方法是什么？

> ID：15221838
> 
> 赞同：2
> 
> 时间：2013-03-05T10:48:02.663
> 
> 标签：c, arrays, string

在c中初始化字符串数组的最佳方法是什么？

我尝试了两件事

```
char arr[10] = "\0";
char arr1[10] = {"\0"}; 
```

初始化这些字符串后，我尝试在 gdb 中显示，两者都给出了相同的初始化格式。

```
(gdb) p arr
$1 = "\000\000\000\000\000\000\000\000\000"
(gdb) p arr1
$2 = "\000\000\000\000\000\000\000\000\000"
(gdb) 
```

我想知道哪个是最好的，什么是优点和缺点。

代码：-

```
int main(){
    char arr[10] = "\0";
    char arr1[10] = {"\0"};

return 0;
} 
```

集会：-

```
(gdb) disass main
Dump of assembler code for function main:

0x00000000004004ec <+0>:    push   %rbp
0x00000000004004ed <+1>:    mov    %rsp,%rbp
0x00000000004004f0 <+4>:    movzwl 0xd5(%rip),%eax        # 0x4005cc
0x00000000004004f7 <+11>:   mov    %ax,-0x10(%rbp)
0x00000000004004fb <+15>:   movq   $0x0,-0xe(%rbp)
0x0000000000400503 <+23>:   movzwl 0xc2(%rip),%eax        # 0x4005cc
0x000000000040050a <+30>:   mov    %ax,-0x20(%rbp)
0x000000000040050e <+34>:   movq   $0x0,-0x1e(%rbp)
0x0000000000400516 <+42>:   mov    $0x0,%eax
0x000000000040051b <+47>:   pop    %rbp
0x000000000040051c <+48>:   retq 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-05T10:50:57.343

两种初始化是完全等价的。从标准：

> 字符类型的数组可以由字符串文字或 UTF-8 字符串文字初始化，可选地用大括号括起来。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-05T10:55:07.923

你的两个初始化是等价的。

除了您所展示的之外，还有几种方法可以初始化字符串（不仅是 [] 数组）：

```
// fixed size, depending on the lenght of the string, no memory "wasted"
char arr1[] = "value";

// fixed array size, depends on a given number, some memory may be unused
char arr2[10] = "value";

// C-array type initialiation
char arr3[] = {'v','a','l','u','e','\0'};

// special string, should never be modified, need not be freed
char* str1 = "value";

// a dynamic string based on a constant value; has to be freed, but can be reallocated at will
char* str2 = strdup("value"); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-05T10:51:17.333

`char arr[10] = "\0";`并且`char arr1[10] = {"\0"};`是平等的。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-05T10:52:23.133

声明

```
char arr[10] = "\0"; 
```

和

```
char arr1[10] = {"\0"}; 
```

完全一样。

# android - 使用 sdkmanager 更新 Eclipse 后，选项菜单无法正常工作

> ID：15221839
> 
> 赞同：1
> 
> 时间：2013-03-05T10:48:07.650
> 
> 标签：android, api, options-menu

我有一个应用程序，我已经开发了大约 6 个月。它在某些屏幕上使用选项菜单。在我将 eclipse 从 api ~14 更新到 17 之前，它一直有效。我也更新了工具。

选项菜单不再存在，谁能告诉我为什么？在 api 17 中有什么我必须做的不同的事情吗？

这是将用户登录到应用程序的选项菜单。

```
@Override
    public boolean onCreateOptionsMenu(Menu menu) {

        MenuInflater inflater = getMenuInflater();
        inflater.inflate(R.layout.menuentryoptionsmenu, menu);

        if(isAllowChangeUser.equalsIgnoreCase("false")){
            MenuItem mi = menu.findItem(R.id.changeuser);
            mi.setVisible(false);
        }
        return true;

    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item) {

        Cursor allFromCompIdTable = nfcscannerapplication.loginValidate.queryAllFromCompanyIdTable();

        if(allFromCompIdTable.getCount() > 0){

            if(allFromCompIdTable.moveToLast()){

                compId = allFromCompIdTable.getString(allFromCompIdTable
                        .getColumnIndex(LoginValidate.C_COMPANY_ID_OUTSIDE_APP_PURPOSES));

            }

        } 

        if(isAllowChangeUser.equalsIgnoreCase("false")){
            if(item.getItemId() == R.id.changeuser)
            item.setVisible(false);
            }

       switch (item.getItemId()) {

        case R.id.login:

            //if(gpsStatusStopped == true){

                Log.e(TAG, "gps engine has stopped now");

            ......... 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T12:53:04.183

我有同样的问题，也许尝试再次编译 api 级别 11。在 api 17 中，某些设备没有硬件按钮，这可能会造成混乱。

# java - 截断为整数...和 if 语句确定它是否不是整数

> ID：15221848
> 
> 赞同：1
> 
> 时间：2013-03-05T10:48:41.120
> 
> 标签：java, if-statement, decimal, truncate

我们的教授。不久前给了我们这个伪代码......我很难处理这部分

伪代码

并且数组索引值为 14，有 14 个字符串名称

Shell_Sort(Arr,N)

{ 如果(N=1) 那么

{

出口

}

将间隔设置为 N

而（间隔不是1）

{

将间隔设置为 ((Interval/3)+1) If(Interval is not a integer) then <--------- 这是我遇到问题的部分

{

截断间隔 <------------ 在这里我如何将间隔截断为整数？

}

将开始设置为 1

而（开始<=间隔）

{

种类（）

增量开始

}

}

}

种类（）

{

将 Unsrt_Indx 设置为（开始 + 间隔）

而（unsrt_Indx <= N）

{

如果 (Arr[Unsrt_Indx - 间隔] > arr[unsrt_Indx] 那么

{

将 str_indx 设置为 unsrt_indx

将温度设置为 arr[srt_indx]

while((str_indx >start && (arr[str_indx-Interval] > temp))

{

将 arr[set_indx] 设置为 arr[str_index-interval]

将 str_indx 设置为 (crt_index - 间隔)

}

将 arr[str_indx] 设置为 temp

}

将 unsrt_indx 设置为 (unsrt_indx + 间隔)

}

}

我如何使用 if 语句来确定它是否不是整数？

以及如何使用截断？将其截断成两三个。

```
ex.
4.6666666666667
how can i truncate it into
4.67
4.6
4 
```

类似的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:54:27.703

如果你知道你正在处理一个数字，你可以这样做：

```
if(x == (int)x) {
    //x is an int (ie: a whole number)
} 
```

否则，如果您的号码是字符串，您可以使用 try/catch 语句，在该语句中`Integer.parseInt()`对字符串执行 an。如果 parseInt() 成功，那么你正在处理一个 int。否则，您可以捕获 NumberFormatException。在这种情况下，转换不成功，您没有处理 int。

你会想看`Math.floor()`看做截断。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:51:12.037

尝试十进制格式。

```
DecimalFormat df = new DecimalFormat("0.##");
String result = df.format(4.6666666666667); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T10:51:15.997

我认为你的教授意味着`Math.floor(interval)`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-05T10:53:00.490

检查一个整数

```
if(Math.floor(interval) == interval)
{
    //interval is a whole number
} 
```

并四舍五入：

```
import java.math.RoundingMode;
import java.text.DecimalFormat;

public class Main
{
  final public static void main(String[] args)
  {
    double i = 4.6666666666667;
    DecimalFormat format = new DecimalFormat("#.#"); 
    format.setRoundingMode(RoundingMode.FLOOR); // *
    String s = format.format(i);
    i = Double.parseDouble(s);
    System.out.println(i); //should be 4.6
  }
} 
```

***而不是 RoundingMode.FLOOR 使用适合您需要的适当[RoundingMode 。](http://docs.oracle.com/javase/6/docs/api/java/math/RoundingMode.html)

如果你想把它变成一个整数（整数）

```
import java.math.RoundingMode;
import java.text.DecimalFormat;

public class Main
{
  final public static void main(String[] args)
  {
    double i = 4.6666667;
    DecimalFormat format = new DecimalFormat("#"); 
    format.setRoundingMode(RoundingMode.FLOOR); // *
    String s = format.format(i);
    int j = Integer.parseInt(s);;
    System.out.println(j);// should be 4
  }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-05T10:53:37.993

利用

```
java.lang.Math.round(double); 
```

# android - android.opengl.Matrix 操作在执行时会在堆上分配对象吗？

> ID：15221852
> 
> 赞同：0
> 
> 时间：2013-03-05T10:48:48.767
> 
> 标签：android, performance, heap-memory, opengl-es-2.0

我已经开始使用 Android 编写一个 OpenGLES20 应用程序。我最终从头开始编写所有矩阵操作函数，因为我害怕每次渲染帧时分配新对象，并且我担心如果我使用内置功能它可能会创建和销毁对象。

我对此很担心，因为我知道堆空间有限，而且我知道垃圾收集可能会影响性能。

查看`android.opengl.Matrix`（例如`multiplyMM`）中类的签名并稍微了解矩阵运算的工作原理，看起来新对象很可能会在执行业务时被分配和销毁。

我已经用谷歌搜索了，但找不到任何指向我的东西，所以有几个问题：
1\. 我是否应该如此专注于渲染帧时会发生什么？
2\. 我是否应该担心对象创建/堆管理，还是应该继续处理它？
3.`android.opengl.Matrix`我一直在担心的事情会不会影响手术？

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T15:17:30.870

您可以查看 android 源代码：http: [//grepcode.com/file_/repository.grepcode.com/java/ext/com.google.android/android/1.5_r4/android/opengl/Matrix.java/? v=来源](http://grepcode.com/file_/repository.grepcode.com/java/ext/com.google.android/android/1.5_r4/android/opengl/Matrix.java/?v=source)

是的，您应该担心每帧创建对象，请阅读：[http ://traxnet.wordpress.com/2013/02/25/android-game-development-tipstricks/](http://traxnet.wordpress.com/2013/02/25/android-game-development-tipstricks/)

# c# - VLC 媒体打开失败

> ID：15221855
> 
> 赞同：1
> 
> 时间：2013-03-05T10:49:00.900
> 
> 标签：c#, winforms, vlc

我已经设法在我的 winform 应用程序中设置并让 VideoLanDotNet 工作。按照示例程序，我可以让我的项目打开我想要播放的指定视频。但是，当我尝试在要打开的文件中进行硬编码时，我的 VLC 播放器调试文件会显示以下内容：

文件系统调试：打开文件C:\Test Video\UFC 127' 文件系统错误：无法打开文件 C:\Test Video\UFC 127（没有这样的文件或目录） 文件系统错误：无法打开文件 C:\Test Video\UFC 127（没有这样的文件或目录） 主要错误：文件读取失败 主要错误：文件读取失败 主要错误：VLC 无法打开文件“C:\Test Video\UFC 127”。（没有这样的文件或目录） 主要错误：VLC 无法打开文件“C:\Test Video\UFC 127”。（没有这样的文件或目录） 主调试：无法加载与“文件” 匹配的访问模块 主调试：无法加载与“文件”匹配的访问模块 主调试：TIMER module_need（）：5.145 ms - 总计 5.145 ms / 1 intvls （平均 5.145 毫秒）`C:\Test Video\UFC 127'
filesystem debug: opening file`

主要调试：TIMER module_need() : 5.145 ms - Total 5.145 ms / 1 intvls (Avg 5.145 ms)
main error: open of file:///C:/Test%20Video/UFC%20127' failed main error: Your input can '无法打开 主要错误：您的输入无法打开 主要错误：VLC 无法打开 MRL 'file:///C:/Test%20Video/UFC%20127'。检查日志以获取详细信息。 主要错误：VLC 无法打开 MRL 'file:///C:/Test%20Video/UFC%20127'。检查日志以获取详细信息。 `file:///C:/Test%20Video/UFC%20127' failed
main error: open of`

但是，我的文件确实存在，但我不知道为什么我的 vlc 播放器正在寻找 file:///C:/Test%20Video/UFC%20127，因为位置是 C:\Test Video\UFC 127： ![在此处输入图像描述](../Images/b75890309b95103be200d69b0681d4dc.png)

现在，当我使用以下代码时：

```
 if (openFileDialog.ShowDialog(this) == DialogResult.OK)
 {
      // location of video to play
      var media = new LocationMedia(openFileDialog.FileName);
      vlcControl.Media = media;
 } 
```

我可以手动转到我想播放的文件，它可以正常打开。

但。当我拿出：

```
 var media = new LocationMedia(openFileDialog.FileName);
 vlcControl.Media = media; 
```

并将其更改为：

```
 var media = new PathMedia("C:\\Test Video\\UFC 127");
    vlcControl.Media = media; 
```

那是我收到错误并且我的视频没有播放的时候。

有谁知道我做错了什么？我搜索了整个 VideoLanDotNet 讨论帖子，但找不到任何可以帮助我解决此问题的内容。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-01T10:09:48.280

我认为您忘记了视频的文件扩展名。WindowsExplorer 将其隐藏，但您必须在代码中输入它。在 Fileproperties 中查找带有扩展名的完整路径。

# drupal - 如何在drupal中添加多个输入搜索

> ID：15221861
> 
> 赞同：0
> 
> 时间：2013-03-05T10:49:27.093
> 
> 标签：drupal, drupal-7, hook, drupal-modules

我是 Drupal 的新手。我想在我的网站中添加多个输入搜索。

例如按名称、国家、州、位置等查找酒店

如何在我的 drupal 网站中添加这些过滤器。他们的任何模块可用？？？请给我一些指示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T11:08:51.490

您可以使用公开的过滤器创建视图，每个公开的过滤器将是单独的输入搜索过滤器。在这种情况下，您还可以在数据库中添加适当的索引以使其更快。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-05T11:16:33.023

尝试检查视图中的“暴露过滤器”。

# typo3 - TYPO3 - 在 Flexform 中使用 TS 或在 flexform 中使用 flexform

> ID：15221862
> 
> 赞同：1
> 
> 时间：2013-03-05T10:49:28.300
> 
> 标签：typo3

我想使用表中的数据和动态设置的 SQL 查询中的 PID 运行此 flexform 代码。

那可能吗？

```
<label>Selectbox from DB</label>
<config>
  <type>select</type>
  <items type="array">
    <numIndex index="0" type="array">
      <numIndex index="0"></numIndex>
      <numIndex index="1"></numIndex>
    </numIndex>
  </items>
  <foreign_table>tt_content</foreign_table>
  <foreign_table_where>
     AND tt_content.pid = 22   <<<< no good at all.... What to do?
  </foreign_table_where>
</config> 
```

如果只有 FF 可以访问 PID，任何这些都可以正常工作：

*   PID 设置为插件的存储文件夹
*   TS 中设置的 PID
*   PID 在另一个 flexform 字段中设置（重新加载），然后在查询中使用

BR。安德斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T15:04:38.317

“半”答案是为插入插件的页面设置的存储文件夹。可以使用标记###STORAGE_PID###直接访问页面存储文件夹

在上面的示例中使用此行：

```
 <foreign_table_where>
     AND tt_content.pid = ###STORAGE_PID###
  </foreign_table_where> 
```

但我仍然想知道如何重用像这样的 flexform 或静态扩展模板中设置的 TS 中的值：

```
 <foreign_table_where>
     AND tt_content.pid = FIELD:previousFieldInThisFlexformAvailableAfterReload
  </foreign_table_where> 
```

# javascript - 对 jQuery Accordion 稍作调整

> ID：15221864
> 
> 赞同：0
> 
> 时间：2013-03-05T10:49:37.850
> 
> 标签：javascript, jquery, accordion

我的演示中有一个基本的 jQuery Accordion。我单击“关于我们”，它会在其下方显示“团队”链接。耶！

现在，是否可以让这个 Accordion 工作*而*不必在超链接中包含“item”类？

所以，而不是`<a href="/about-us/" class="item">About Us</a>`它只是`<a href="/about-us/">About Us</a>`？我问的原因是当前从 WordPress 生成的代码不包括“项目”类，因此破坏了我的手风琴。

这是我的**演示**：http: [//jsfiddle.net/h32dj/](http://jsfiddle.net/h32dj/)

还有我的 JavaScript：

```
jQuery(function($) {

    $('#accordion a.item').click(function (e) {
    //remove all the "Over" class, so that the arrow reset to default
    $('#accordion a.item').not(this).each(function () {
    if ($(this).attr('rel')!='') {
    $(this).removeClass($(this).attr('rel') + 'Over');
    }
    $(this).siblings('ul').slideUp("slow");
    });

    //showhide the selected submenu
    $(this).siblings('ul').slideToggle("slow");

    //addremove Over class, so that the arrow pointing downup
    $(this).toggleClass($(this).attr('rel') + 'Over');
    e.preventDefault();
    });

}); 
```

非常感谢这里的任何指示:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T11:06:17.677

好，我们来分析一下这个`item`类是如何在这个脚本中使用的。据我所知，需要以某种方式区分第一级锚（手风琴窗格）和第二级锚（内容）。如果您需要删除此类，则需要其他方法。例如，您可以依赖标记和标签层次结构。具体而不是按类选择器：

```
'#accordion a.item' 
```

按层次结构使用选择器：

```
'#accordion > li > a' 
```

这是[演示](http://jsfiddle.net/URYzK/2/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T11:08:06.927

如果没有 item 类，它将按照以下方式工作：

```
 jQuery(function($) {

    $('#accordion > li > a').click(function (e) {
    //remove all the "Over" class, so that the arrow reset to default
        $('#accordion a').not(this).each(function () {
            if ($(this).attr('rel')!='') {
                $(this).removeClass($(this).attr('rel') + 'Over');
            }
        $(this).siblings('ul').slideUp("slow");
    });

    //showhide the selected submenu
    $(this).siblings('ul').slideToggle("slow");

    //addremove Over class, so that the arrow pointing downup
    $(this).toggleClass($(this).attr('rel') + 'Over');
        e.preventDefault();
    });

}); 
```

[**链接到 jsfiddle**](http://jsfiddle.net/martyk/UAGKM/)

# javascript - JavaScript 中电话号码的正则表达式

> ID：15221866
> 
> 赞同：3
> 
> 时间：2013-03-05T10:49:46.523
> 
> 标签：javascript, regex

我正在使用 RegEx 来验证用户电话号码。我对电话号码验证有一套要求。我对 RegEX 没有太多想法。任何人都可以帮助我为我的要求提供匹配的 reqex。这里的验证非常简单。

**条件**

```
 1\. It should allow numbers from 0-9.
 2\. It should allow + sign. (+ sign is not mandatory but not allow after even a single letter (ie: should be placed at front.)).
 3\. It should allow - sign. (- sign is also not mandatory and can be placed anywhere)
 4\. It should allow empty space everywhere.
 5\. No dots or no other chars allowed except the above said things. 
```

**正确的值**

```
+65-12345678
65-12345678
6512345678
65 12345678
65 123 45678
65 123-45678
+65 123-45678
1234 
```

**不正确的值**

```
12345+86666
123alpha 
```

谢谢

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-05T11:02:07.213

根据您的样本，试试这个：

```
^(?:\+?\d{2}[ -]?\d{3}[ -]?\d{5}|\d{4})$ 
```

它将匹配**所有**正确的值。

**描述：**

![正则表达式可视化](../Images/ba8b555760397e95b1ef2835f646952b.png)

**演示：**

[http://regexr.com?340nf](http://regexr.com?340nf)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-05T11:04:02.467

只是为了帮助您建立一些概念。
以下正则表达式将匹配您提供的前七个输入。

```
/^\+?\d{2}[- ]?\d{3}[- ]?\d{5}$/ 
```

`\+?`将匹配一个`+`标志。在`?`其中使`+`符号可选。
`\d{2}`匹配两个数字
`[- ]?`匹配 a`-`或 a `（空格）。`?`使`-`or `(space) 的出现是可选的。
`\d{5}`然后匹配 5 个数字。
`^`并且`$`是开始和结束锚点。``

 ``* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-05T11:11:42.017

根据您的示例尝试此模式。

```
^(?:\+?\d{2}[ -]?[\d -][\d -]+)$ 
`````

# javascript - 提交表单并观察 onsubmit 事件

> ID：15221873
> 
> 赞同：3
> 
> 时间：2013-03-05T10:50:06.290
> 
> 标签：javascript, prototypejs, dom-events

这应该是微不足道的，但我不明白：\

**HTML**

```
<form id="myform" action="#">
    <input type="submit" value="Submit" />
    <a href="#" onclick="$('myform').submit()">Submit</a>
</form> 
```

**JS（原型）**

```
$('myform').observe('submit', function(e) { 
    alert('submitted!');
    e.stop();
}); 
```

为什么只有通过输入提交才能触发提交？不应该`$('myform').submit()`也触发提交事件吗？

**JSFiddle**：http: [//jsfiddle.net/d8BdM/](http://jsfiddle.net/d8BdM/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T12:21:02.300

像这样改变表格：

```
<form id="myform" action="">
<input type="submit" value="Submit" id="sub_but" />
<a href="#" onclick="$('sub_but').click();">Submit</a>
</form> 
```

并保留其他代码；我在你的小提琴中进行了测试并且工作正常。

萨卢多斯 ;)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-08-06T12:29:39.047

像这样更改您的javascript代码：

```
$('myform').onsubmit = function() {
    alert('submitted!');
    return false;
}; 
```

# iphone - iPhone中单个UIButton的多个操作

> ID：15221874
> 
> 赞同：5
> 
> 时间：2013-03-05T10:50:07.460
> 
> 标签：iphone, ios5, uibutton

** 当在我的视图中单击一个按钮时，我想要两个文本字段和另一个按钮（删除）。如果我再次按下相同的动作最多重复 5 次。如果我点击删除按钮，两个文本字段有o删除，下面的文本字段必须出现*

```
-(IBAction)addBusiness:(id)sender
{
    txtprovName2 = [[UITextField alloc]init];
    [txtprovName2 setFrame:CGRectMake(13, 410,94, 30)];
    [txtprovName2 setBorderStyle:UITextBorderStyleRoundedRect];
    [txtprovName2 setAutocorrectionType:UITextAutocorrectionTypeNo];
    txtprovName2.textAlignment=UITextAlignmentCenter;
    txtprovName2.placeholder=@"";
    txtprovName2.font=[UIFont fontWithName:@"System" size:11];
    [testscroll addSubview:txtprovName2];

    txtprovEmail2 =[[UITextField alloc]init];
    [txtprovEmail2 setFrame:CGRectMake(121, 410,92, 30)];
    [txtprovEmail2 setBorderStyle:UITextBorderStyleRoundedRect];
    [txtprovEmail2 setAutocorrectionType:UITextAutocorrectionTypeNo];
    txtprovEmail2.textAlignment=UITextAlignmentCenter;
    txtprovEmail2.placeholder=@"";
    txtprovEmail2.font=[UIFont fontWithName:@"System" size:11];

    [testscroll addSubview:txtprovEmail2];

    btnRemove1 = [UIButton buttonWithType:UIButtonTypeRoundedRect];
    btnRemove1.frame = CGRectMake(220, 410,80, 30);
    [btnRemove1 setTitle:@"Remove" forState:UIControlStateNormal];
    [btnRemove1.titleLabel setFont:[UIFont fontWithName:@"Helvetica-Bold" size:14]];
    btnRemove1.titleLabel.textColor=[UIColor blackColor];

    [btnRemove1 addTarget:self
                   action:@selector(btnRemove1Clicked:)
         forControlEvents:UIControlEventTouchUpInside];

} 
```

我怎样才能对同一个按钮进行重复操作谢谢帮助

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-05T10:52:34.793

您可以使用按钮的标签属性；所以在你的 IBAction 方法里面

```
- (IBAction)buttonClicked:(UIButton *)sender {
    if (sender.tag == 1) {
        // perform your 1st functionality 
        button.tag = 2;   //To perform 2nd functionality

    }
    else if (sender.tag == 2) {
        // perform your Second functionality
        button.tag = 3; //To perform 3rd functionality

    }
    else if (sender.tag == 3) {
        // perform your 3rd functionality
        button.tag = 1; // To perform 1st functionality
    }
} 
```

**编辑：**

![在此处输入图像描述](../Images/31963ce5ee2a590b1d225ff4988c7352.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:58:38.580

只需通过标签即可。您将节省大量内存并且可以正常工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-28T10:34:10.423

或者你可以使用这种方法..

```
- (void)addTarget:(id)target action:(SEL)action forControlEvents:(UIControlEvents)controlEvents; 
```

&以后使用

```
- (void)removeTarget:(id)target action:(SEL)action forControlEvents:(UIControlEvents)controlEvents; 
```

这将解决您的问题。我希望。

# c++ - 在 Visual Studio 的同一解决方案中构建 C 项目以调用 C++ 库中的函数

> ID：15221876
> 
> 赞同：0
> 
> 时间：2013-03-05T10:50:12.323
> 
> 标签：c++, c, visual-studio

在 Visual Studio 中是否有可能在同一解决方案中拥有一个带有 C++ 库的项目和另一个用 C 编写的项目，并使用 C 调用该库中的函数？

我在库标题中有什么：

```
#ifdef __cplusplus
  #define EXTERN extern "C"
#else
  #define EXTERN
#endif

#ifndef LIB_API
  #ifndef LIB_STATIC
    #ifdef LIB_EXPORT
      #define LIB_API EXTERN __declspec(dllexport)
    #else
      #define LIB_API EXTERN __declspec(dllimport)
    #endif
  #else
    #define LIB_API
  #endif
#endif

LIB_API uint32_t Func(int8_t *arg); 
```

我想从我的 C 项目静态链接到这个库，所以我从库项目中选择依赖项，在预处理器定义中定义宏 LIB_STATIC，选择“编译为 C 代码 (/TC)”选项并调用此函数。我得到的是链接器错误

```
error LNK2019: unresolved external symbol _Func referenced in function _main 
```

当我查看 lib 文件时，我可以找到类似 Func 而不是 _Func 的东西。我做错了什么？

（忘了补充，在库的 .cpp 模块中有适当的函数实现）

**来自 Angew 和 AnatolyS 的回答**

我们需要在静态库的情况下将 LIB_API 定义为 EXTERN，因此正确的预处理器块将是：

```
#ifndef LIB_API
  #ifndef LIB_STATIC
    #ifdef LIB_EXPORT
      #define LIB_API EXTERN __declspec(dllexport)
    #else
      #define LIB_API EXTERN __declspec(dllimport)
    #endif
  #else
    #define LIB_API EXTERN
  #endif
#endif 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T11:16:11.520

要从 C 代码中使用 C++ 函数，您必须将此类函数导出为 C，因此更改 LIB_API 的定义以进行静态链接：

```
#else
 #define LIB_API EXTERN
#endif 
```

# javascript - 在 XML 声明中设置编码

> ID：15221877
> 
> 赞同：-1
> 
> 时间：2013-03-05T10:50:15.993
> 
> 标签：javascript, xml

我有一个 var `newMenuRoot = parseXML(SvgString,contextMenu)`，在这个 contextMenu （默认为 svg 的变量）是 Document 类型，哪个值就像这个节点内的一些子节点，所以我想通过 javascript 添加 encoding="utf-8" 到这个 xml 以便我的 svg支持 UTF-8 字符。

默认 contextMenu 应该是这样的

为我提供解决方案

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T11:39:00.077

如果有人要帮助您，您将需要提供比这更多的信息。您能否提供一个您传递给 parseXML() 的 XML 示例（例如 SvgString 或 contextMenu 的值）以及您是否可以直接控制它（例如 SvgString 或 contextMenu 是您编写的还是某些第三方插件什么的）。

我猜，从您那里获得的少量信息中，您只想对 SvgString 或 contextMenu 的值进行字符串替换或正则表达式替换，以替换当前编码用于您的编码'之后，但我认为这不会影响您的 SVG 处理其他字符等的能力。

# java - 围绕查找器方法的事务

> ID：15221879
> 
> 赞同：1
> 
> 时间：2013-03-05T10:50:23.407
> 
> 标签：java, transactions

围绕查找器方法启动事务是否明智：

```
@Transactional
public E getParticularEvent(final String id) {
    return (E)em.find(carClass, id);
} 
```

应该这样做吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T11:08:05.030

如果您什么都不做，然后从数据库中检索单个实体，则没有理由使用事务。

# actionscript-3 - 我如何根据条件修复第一行数据常量并根据日期对数据网格中的其余数据进行排序？

> ID：15221880
> 
> 赞同：0
> 
> 时间：2013-03-05T10:50:29.913
> 
> 标签：actionscript-3, apache-flex

我想根据列状态修复数据网格中的第一行数据，如果数据状态是新的，那么它应该在索引 0 第一行，并根据日期列对其他数据网格行进行排序。我已经根据单个日期对所有数据进行了排序。我也尝试使用给定的函数进行排序，但它不能正常工作。

```
public static function sortDataGridMultiColumn(columnOne: String, columnTwo: String, decending: Boolean, array: ArrayCollection): void {

   var sortThese: Sort = new Sort();
   sortThese.fields = [new SortField(columnOne, false, decending),
   new SortField(columnTwo, false, decending)];
   array.sort = sortThese;
   array.refresh();

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T05:26:27.383

首先我通过这个函数对数据网格中的数据进行排序

```
public static function sortDataGrid(columnId:String , decending:Boolean , array:ArrayCollection):void
        {

            var sortThese:Sort = new Sort();            
            sortThese.fields = [new SortField(columnId, false, decending)];
            array.sort = sortThese;             
            array.refresh();    
        } 
```

然后我使用此功能在第一个索引上手动设置所需的数据。

```
 public static function sortingNWFDataGrid(arrayCol:ArrayCollection):void 
            {
                var currentIndx:Number = 0;
                for(var i:int = 0 ; i < arrayCol.length; i++){
                    if(arrayCol.getItemAt(i).statusId == UserStatusConstants.NEW_STATUS_ID){
                        currentIndx = i;
                        break;
                    }
                }
                var newObj:Object = new Object();
                newObj = arrayCol.getItemAt(currentIndx) as Object;
                arrayCol.removeItemAt(currentIndx);
                arrayCol.refresh();
                arrayCol.addItemAt(newObj, 0);
                arrayCol.refresh();
            } 
```

任何有更好解决方案或不同方法的人请在此处提供。

# vb.net - 当文本长度ultraWinGrid的一列已满时添加第二行

> ID：15221881
> 
> 赞同：0
> 
> 时间：2013-03-05T10:50:42.527
> 
> 标签：vb.net, infragistics

当我的 ultraGrid 中的一列已满时，有没有办法自动添加新行或其他内容？有时，当我将一些文本加载到我的超网格中的列中时，它的值长度比可用的列字段长，因此某些文本保持隐藏状态。所以我想在发生这种情况时在另一行显示其余文本。这在 vb.net 中对于 ultrawingrid 是可能的吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T11:51:07.130

您可以设置 CellMultiLine 属性，如下例所示。（假设您有一个乐队，而带有长文本的列是第二个乐队）

```
UltraGrid1.DisplayLayout.Bands(0).Columns(1).CellMultiLine = DefaultableBoolean.True
UltraGrid1.DisplayLayout.Bands(0).Columns(1).VertScrollBar = True
UltraGrid1.DisplayLayout.Override.DefaultRowHeight = 100 
```

接下来的两行是可选的，但它们的目的是立即显示具有不同高度和垂直滚动条的列

# php - 用于提取网页内容的服务器端库

> ID：15221886
> 
> 赞同：0
> 
> 时间：2013-03-05T10:50:59.407
> 
> 标签：php, web, html-parsing, web-crawler

我正在寻找一个服务器端库（最好在 PHP 中）来解析和提取可免费用于商业用途的网页内容。它应该能够提取页面内容部分的标题和html（包括图像），但过滤掉广告和不相关的内容。

[Readability Parser API](http://www.readability.com/developers/api/parser)是一个非自由软件，可以做到这一点，但我正在寻找免费的替代品。

有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:52:59.313

我正在使用[Boilerpipe](http://code.google.com/p/boilerpipe/)。不幸的是，它适用于 Java，但如果您在 PHP 中找不到任何东西，它可能对您有用。显然，它并不完美，但值得一试。它也是开源的，因此可以进行必要的更改。

它有几个所谓的“提取器”，因此您可以选择最适合您需要的一个。

用法也很简单，例如：

```
URL url = new URL("http://example.com/article");
String articleText = ArticleExtractor.INSTANCE.getText(url); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T11:12:56.097

尝试使用[Simple HTML DOM](http://simplehtmldom.sourceforge.net/) 我用它为一个相当复杂的网站构建了一个爬虫。效果很好。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T20:26:25.820

从页面获取任何数据的最佳方式，例如来自维基百科的埃菲尔铁塔的地理位置，是 jQuery DOM。

```
<span class="geo-dms">
    <span class="geo-lat">48°51′29″&lt;/span>
    <span class="geo-lon">2°17′40″&lt;/span>
</span> 
```

在 FireBug 控制台中测试`jQuery('.geo-lat').text()`。jQuery 是一个 JavaScript 库，是使用服务器端 JavaScript web-server [Node.js](http://en.wikipedia.org/wiki/Node.js)获得的最佳结果。有很多很好的 Node.js 解决方案，用于通过 DOM 遍历进行网络爬取。

# bash - 在字符串中展开 bash var

> ID：15221887
> 
> 赞同：1
> 
> 时间：2013-03-05T10:51:02.860
> 
> 标签：bash

我有这个：

```
read -d '' foo <<-EOF
FOO "${filename}" BAR {\
\       FOO BAR FOO {BAR};\
\       FOO BAR FOO {BAR};\
};
EOF

filename="bar";

eval echo $foo; 
```

正如您可能已经猜到的那样，我正在尝试在 $foo 中扩展 $filename。

我究竟做错了什么？

编辑：

我得到的错误：

```
./test.sh: eval: line 10: syntax error near unexpected token `}'
./test.sh: eval: line 10: `echo FOO "" BAR { FOO BAR FOO {BAR}; FOO BAR FOO {BAR};};' 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T11:16:28.177

我不认为这是可能的（更新：阅读接受的答案；）你正在尝试做的事情。这是因为该`eval`命令要求它`$foo`包含有效的 bash 语法。

我会使用 bash 的字符串操作运算符来替换`$filename`：

```
#!/bin/bash

read -d '' foo <<'EOF'
FOO "$filename" {
       FOO BAR FOO BAR;
       FOO BAR FOO BAR;
};
EOF

filename="bar";

echo "${foo/\$filename/$filename}"

filename="bar2";

echo "${foo/\$filename/$filename}" 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-05T11:29:33.223

您需要执行以下操作：

*   引用这个词`EOF`，这样 heredoc 中的任何变量都不会被扩展。
*   转义分号
*   添加`-r`选项以`read`使其不将反斜杠视为转义字符

试试这个：

```
read -r -d '' foo <<-"EOF"
FOO "${filename}" BAR {\
\       FOO BAR FOO {BAR}\;\
\       FOO BAR FOO {BAR}\;\
}\;
EOF

filename="bar"

eval echo "$foo" 
```

输出：

```
FOO bar BAR {  FOO BAR FOO {BAR};  FOO BAR FOO {BAR};}; 
```

# jquery - Jquery在上传时验证文件ext

> ID：15221888
> 
> 赞同：2
> 
> 时间：2013-03-05T10:51:09.860
> 
> 标签：jquery

我有一个页面允许用户使用拖放上传他们的图像，我想限制他们只上传 jpg 文件。

我不得不承认，当谈到 jquery 时，我是一个完整的新手，所以我真的不知道如何完成这项工作。

到目前为止我有

```
var files = e.dataTransfer.files;
var ext = $('#drop-files').val().split('.').pop().toLowerCase();

// Show the upload holder
$('#uploaded-holder').show();

// For each file
$.each(files, function(index, file) {
    if($.inArray(ext, ['JPG','jpg','jpeg']) == -1) {
           alert('invalid extension!');
           return false;
       } 
```

因为它什么都不做，如果我删除'return false'，它会告诉我每个文件都是无效的并且无论如何都会上传它们。

谢谢

顺便说一句，我知道有未闭合的括号，我只是希望有人会看到我在我提供的代码部分中遗漏的明显内容

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T10:54:13.523

问题是因为您`false`从`each`循环中的函数返回，而不是提交处理函数。试试这个：

```
// For each file
var validExtension = false;
$.each(files, function(index, file) {
    if ($.inArray(ext, ['JPG','jpg','jpeg']) != -1 && !validExtension) {
        validExtension = true;
    }
}
return validExtension; 
```

# postgis - PostGIS CTE 的问题

> ID：15221892
> 
> 赞同：0
> 
> 时间：2013-03-05T10:51:18.073
> 
> 标签：postgis

我正在尝试从[http://www.postgis.us/downloads/oscon2009_PostGISTips.pdf](http://www.postgis.us/downloads/oscon2009_PostGISTips.pdf)`with-as`运行幻灯片 22 上的示例

当我将示例粘贴到 SQL-shell 中时，出现以下错误：

> 错误：运算符不存在：记录 - 整数第 14 行：... x, y, ST_SetSRID(ST_MakeBox2d(ST_Point(xmin + (x - 1)*g_wid... 提示：没有运算符与给定名称和参数类型匹配( s). 您可能需要添加显式类型转换

我正在使用`POSTGIS 1.4.1`我`Postgres 8.4` 使用幻灯片随附的数据 [http://www.bostongis.com/downloads/oscon2009/oscon2009_src.zip](http://www.bostongis.com/downloads/oscon2009/oscon2009_src.zip)

我还尝试了来自网络的状态数据：

```
shp2pgsql -s  2163  statesp020.shp public.states  > states.sql
psql -U postgres -d postgis -f states.sql 
```

但是得到了同样的错误。任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T20:45:27.497

错误“记录 - 整数”( `x - 1`) 可以通过给出`generate_series`预期别名的结果`x`和`y`. 找到这部分：

```
...
(SELECT generate_series(1,x_gridcnt) FROM usext) As x CROSS JOIN
(SELECT generate_series(1,y_gridcnt) FROM usext) As y CROSS JOIN
... 
```

其中`x`and`y`值实际上被称为`x.generate_series`and `y.generate_series`。

将其更改为：

```
...
(SELECT generate_series(1,x_gridcnt) As x FROM usext) As x CROSS JOIN
(SELECT generate_series(1,y_gridcnt) As y FROM usext) As y CROSS JOIN
... 
```

他们现在被称为`x.x`and `y.y`，或暗示为`x`和`y`。

# javascript - 检测实际的表单提交并显示加载器

> ID：15221894
> 
> 赞同：2
> 
> 时间：2013-03-05T10:51:31.583
> 
> 标签：javascript, jquery-validation-engine

我有一个启用了 jQuery-Validation-Engine 的表单，我想在表单实际提交时显示一个加载器，即当它没有错误时。如果我使用以下代码，即使表单有错误也会被调用。

```
$("#my-form").submit(function(){
  showLoaderGIF here;
}); 
```

我想知道如何检测实际的表单提交而不仅仅是点击提交按钮？有什么方法可以使用 jQuery-Validation-Engine 的“onSuccess”回调？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T11:37:22.757

最后，我能够使用以下代码实现这一点

```
$("my-form").validationEngine('attach', {    
  onValidationComplete: function(form,status){
    if(status == true){
      showLoader;
      return true;
    }
  }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T11:09:05.803

我会放弃`$("#my-form").submit`，编写几个函数来显示/隐藏我的加载器图像，并使用以下钩子：

```
jQuery("#my-form").validationEngine({
  ...
  onBeforeAjaxFormValidation: showLoader,
  onAjaxFormComplete: hideLoader,
  ...
}); 
```

**编辑**

好的，所以要显示表单是否有效但**不允许**提交，您可以使用[onValidationComplete](http://posabsolute.github.com/jQuery-Validation-Engine/#options/onvalidationcomplete)选项：

```
jQuery("#my-form").validationEngine('attach', {
  onValidationComplete: function(form, status){
    if(status) { showLoader(); }
  }  
}); 
```

# java - 如何在java中将标准日期转换为分钟？

> ID：15221896
> 
> 赞同：0
> 
> 时间：2013-03-05T10:51:47.760
> 
> 标签：java, date

如何将日期的标准输出转换为分钟数？

我的命令输出如下：

> 2013 年 3 月 4 日星期一 12:33:58

我需要将其转换为分钟数`minutes1`。

因为我有一个代码，它给出了当前时间的分钟数，代码是：

```
public class DateToMinutes {

   public static void main(String[] args) {

      Date date = new Date();

      long now = ((date.getTime()) / (60000));

      System.out.println("Total Minutes are  " + now);

   }

} 
```

这将在几分钟内输出`minutes2`。

我需要比较两者`minutes1`和`minutes2`。

因为我无法将标准日期转换为`minutes1`，所以现在不可能。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-05T11:00:12.143

查看 SimpleDateFormat 的 parse 方法，您会发现用于转换日期的格式。

[Javadocs 在这里](http://docs.oracle.com/javase/1.4.2/docs/api/java/text/SimpleDateFormat.html)

在你的情况下，这样的事情应该有效：

```
SimpleDateFormat sdf = new SimpleDateFormat("EEE MMM d HH:mm:ss yyyy");
Date theDate = sdf.parse ("Mon Mar 4 12:33:58 2013");
long minutes2 = theDate.getTime() / 60000; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T11:00:54.400

使用简单日期格式化程序。

```
DateFormat formatter = new SimpleDateFormat("mm");
Date one = ...
Date two = ...
formatter.format( one) ); // only the minutes remain
formatter.format( two) ); // only the minutes remain

// do whatever you want. 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T11:00:55.643

确定 minutes1 是**解析日期**并对其进行转换。

相关问题可在[此处](https://stackoverflow.com/questions/4496359/how-to-parse-date-string-to-date)和[此处](https://stackoverflow.com/questions/999172/how-to-parse-date-in-java)找到。

这应该根据您对日期格式的描述来完成工作：

```
SimpleDateFormat yourStandardDateFormat = new SimpleDateFormat("EEE MMM dd kk:mm:ss yyyy");
Date date = yourStandardDateFormat.parse( stringRepresentingDate );
long minutes1 = date.getTime() / 60000l; 
```

有关参考，请参阅[SimpleDateFormat 文档](http://docs.oracle.com/javase/1.4.2/docs/api/java/text/SimpleDateFormat.html)

# dynamics-crm-2011 - 从功能区按钮弹出 Javascript 日历

> ID：15221898
> 
> 赞同：1
> 
> 时间：2013-03-05T10:51:50.850
> 
> 标签：dynamics-crm-2011

有没有人有任何可以使用表单上的功能区按钮触发的日历弹出示例？

我正在寻找一个弹出窗口，用户可以在其中从日历中选择一个日期，然后将值传递回启动它的 javascript。我已经看到这可以通过一个 html 弹出窗口来完成，但到目前为止我创建它的努力并没有真正成功，所以希望有人能就最佳解决方案向我提供建议。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T15:19:20.360

我设法找到了用于此解决方案的好日历。它可以在**[https://github.com/dbushell/Pikaday找到](https://github.com/dbushell/Pikaday)**

有了这个，我把它放到一个 html 弹出窗口中，上面有一个文本框（它将存储选定的日期），并让我的功能区按钮上的 javascript 显示弹出窗口。

下载包括用于日历功能的 js 文件，通过对这些文件进行一些调整，您可以使日历在打开弹出窗口时立即出现，并且在选择日期时不隐藏。此外，文本框可以更改其选项，使其对用户不可见。

总而言之，这创建了一个看起来相当令人愉快的日历弹出窗口

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-26T21:48:34.350

您可以在不使用 javascript 的情况下使用 html 中的日期参数类型

```
<input type=date > 
```

# scribe - org.scribe.exceptions.OAuthException：响应正文不正确。无法从中提取令牌和秘密：' 当我使用 scribe 库将图像发布到 twitter 时，出现以下异常 org.scribe.exceptions.OAuthException: Response body is incorrect. Can't extrac 问问题 问问题 2013-03-05T10:51:58.767 1509 次 This question shows research effort; it is useful and clear 1 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. 当我使用 scribe 库将图像发布到 twitter 时，出现以下异常 org.scribe.exceptions.OAuthException: Response body is incorrect. Can't extract token and secret from this: ' 03-05 15:52:24.810: E/AndroidRuntime(28777): <hash>03-05 15:52:24.810: E/AndroidRuntime(28777): <request>/oauth/access_token</request> 03-05 15:52:24.810: E/AndroidRuntime(28777): <error>Invalid / expired Token</error> 03-05 15:52:24.810: E/AndroidRuntime(28777):</hash> 03-05 15:52:24.810: E/AndroidRuntime(28777): ' 03-05 15:52:24.810: E/AndroidRuntime(28777): at org.scribe.extractors.TokenExtractorImpl.extract(TokenExtractorImpl.java:41) 03-05 15:52:24.810: E/AndroidRuntime(28777): at org.scribe.extractors.TokenExtractorImpl.extract(TokenExtractorImpl.java:27) 03-05 15:52:24.810: E/AndroidRuntime(28777): at org.scribe.oauth.OAuth10aServiceImpl.getAccessToken(OAuth10aServiceImpl.java:103) 03-05 15:52:24.810: E/AndroidRuntime(28777): at org.scribe.oauth.OAuth10aServiceImpl.getAccessToken(OAuth10aServiceImpl.java:84) 03-05 15:52:24.810: E/AndroidRuntime(28777): at org.scribe.oauth.OAuth10aServiceImpl.getAccessToken(OAuth10aServiceImpl.java:89) 03-05 15:52:24.810: E/AndroidRuntime(28777): at com.android.twitter.TwitterActivity$1.onComplete(TwitterActivity.java:317) 03-05 15:52:24.810: E/AndroidRuntime(28777): at com.twitter.android.TwitterApp$1.handleMessage(TwitterApp.java:236) 03-05 15:52:24.810: E/AndroidRuntime(28777): at android.os.Handler.dispatchMessage(Handler.java:99) 03-05 15:52:24.810: E/AndroidRuntime(28777): at android.os.Looper.loop(Looper.java:137) 03-05 15:52:24.810: E/AndroidRuntime(28777): at android.app.ActivityThread.main(ActivityThread.java:5039) 03-05 15:52:24.810: E/AndroidRuntime(28777): at java.lang.reflect.Method.invokeNative(Native Method) 03-05 15:52:24.810: E/AndroidRuntime(28777): at java.lang.reflect.Method.invoke(Method.java:511) 03-05 15:52:24.810: E/AndroidRuntime(28777): at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793) 03-05 15:52:24.810: E/AndroidRuntime(28777): at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560) 03-05 15:52:24.810: E/AndroidRuntime(28777): at dalvik.system.NativeStart.main(Native Method) 为什么在 TSQL 中出现 DATETIME 转换错误？ 我知道关于这个话题有很多问题，甚至是我不久前问过自己的一个（这里）。现在我遇到了一个不同的问题，我自己和我的同事都不知道这种奇怪行为的原因是什么。 我们有一个相对简单的 SQL 语句，如下所示： SELECT CONVERT(DATETIME, SUBSTRING(MyText, CHARINDEX('Date:', MyText) + 8, 16) AS MyDate, SomeOtherColumn, ... FROM MyTable INNER JOIN MyOtherTable ON MyTable.ID = MyOtherTable.MyTableID WHERE MyTable.ID > SomeValue AND MyText LIKE 'Date: %' 这不是我的数据库，也不是我的 SQL 语句，而且我没有创建出色的模式来将日期时间值存储在 varchar 列中，所以请忽略这一点。 我们现在面临的问题是 SQL 转换错误 241（“从字符串转换日期和/或时间时转换失败。”）。 现在我知道查询优化器可能会更改执行计划，在尝试转换后可以使用 WHERE 子句过滤结果，但真正奇怪的是，当我删除所有 WHERE 子句时，我没有收到任何错误. 当我在上面的语句中添加一行时，我也没有收到任何错误，如下所示： SELECT MyText, -- This is the added line CONVERT(DATETIME, SUBSTRING(MyText, CHARINDEX('Date:', MyText) + 8, 16) AS MyDate, ... 一旦我删除它，我就会再次收到转换错误。手动检查 MyText 列中的值而不尝试转换它们并不表明存在任何可能导致问题的记录。 转换错误的原因是什么？当我还选择列作为 SELECT 语句的一部分时，为什么我没有遇到它？ 更新 这里是执行计划，虽然我认为它不会有帮助。 scribeandroid-twitter 4 0 回答 0 Related 1 python - 使用 django-facebook 连接 DjangoApp 时出现 db_type() 错误 1 php - 如何修复“未定义的偏移量”错误 2 android - OnActivityResults 到另一个意图 2 mysql - 从 mysql 中的函数调用 RAND() 返回相同的值： 1 objective-c - 如何在 UILabel 中插入数组 4 c# - 使用 MVC 更新 SQL Server 数据库中的值 1 c# - DataGrid 选择缺失项 1 c++ - 适用于 C 或 C++ 的 Google Drive API 1 eclipse - 带有 tomcat v5.5.30 的 servlet 3 xslt - 如何在 JBoss AS 7.0.2 托管服务器中将 org.apache.xalan.xsltc.trax.SmartTransformerFactoryImpl 设置为转换器 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641

> ID：15221904
> 
> 赞同：1
> 
> 时间：
> 
> 标签：scribe, android-twitter

当我使用 scribe 库将图像发布到 twitter 时，出现以下异常

```
org.scribe.exceptions.OAuthException: Response body is incorrect. Can't extract token and secret from this: '<?xml version="1.0" encoding="UTF-8"? 
```

我正在使用 scribe1.3.3 库。

我在谷歌搜索这个异常，但没有找到任何解决方案。

源代码：

```
 OAuthService oAuth = new ServiceBuilder()
                    .provider(TwitterApi.class)
                    .apiKey("6JyIkj71ZqG4wk3YF0Y4hw")        // REPLACE WITH YOUR OWN!!!
                    .apiSecret("sJl9aRVqlEt7nxlKvpMVK6tLULz5FSQ2KUOW0yie4")  // REPLACE WITH YOUR OWN!!!
                    .callback(TwitterDialog.redirectedurl)             // REPLACE WITH YOUR OWN!!!
                    .build();
 Uri uri = Uri.parse(TwitterDialog.redirectedurl);
            Token requestToken = new Token( uri.getQueryParameter("oauth_token"),uri.getQueryParameter("oauth_verifier"));
            Verifier verifier = new Verifier(uri.getQueryParameter("oauth_verifier"));
if(verifier!=null){
                Log.e("verifier created","created");
            }

            Token accesstoken=oAuth.getAccessToken(requestToken, verifier);

            Log.e("raw resp", accesstoken.getRawResponse());

 if(accesstoken!=null){

           Log.e("hello","hhello");
         Log.e("access token","hi"+accesstoken.toString());
        OAuthRequest request = new OAuthRequest(Verb.POST, "https://upload.twitter.com/1/statuses/update_with_media.json");

    oAuth.signRequest(accesstoken, request);  // ENTER USER'S ACCESS TOKEN

// ADD MULTIPART FORM

    try
    {
        MultipartEntity entity = new MultipartEntity();

        entity.addPart("status", new StringBody("insert vacuous statement here"));       // THIS IS THE TWITTER MESSAGE
        entity.addPart("media", new FileBody(new File("/storage/sdcard0/HelloAlbum/1361964305003.jpg")));  // THIS IS THE PHOTO TO UPLOAD

        ByteArrayOutputStream out = new ByteArrayOutputStream();
        entity.writeTo(out);

        request.addPayload(out.toByteArray());
        request.addHeader(entity.getContentType().getName(), entity.getContentType().getValue());
    }
    catch (UnsupportedEncodingException e) {e.printStackTrace();}
    catch (IOException e) {e.printStackTrace();}

// SEND REQUEST

    try {JSONObject response = new JSONObject (request.send().getBody());}
    catch (JSONException e) {Log.e("TOUR_APP_TAG", "JSONException Thrown: " + e.getMessage());}

   } 
```

日志输出：

```
 03-05 15:52:24.810: E/AndroidRuntime(28777): FATAL EXCEPTION: main
03-05 15:52:24.810: E/AndroidRuntime(28777): org.scribe.exceptions.OAuthException: Response body is incorrect. Can't extract token and secret from this: '<?xml version="1.0" encoding="UTF-8"?>
03-05 15:52:24.810: E/AndroidRuntime(28777): <hash>
03-05 15:52:24.810: E/AndroidRuntime(28777):   <request>/oauth/access_token</request>
03-05 15:52:24.810: E/AndroidRuntime(28777):   <error>Invalid / expired Token</error>
03-05 15:52:24.810: E/AndroidRuntime(28777): </hash>
03-05 15:52:24.810: E/AndroidRuntime(28777): '
03-05 15:52:24.810: E/AndroidRuntime(28777):    at org.scribe.extractors.TokenExtractorImpl.extract(TokenExtractorImpl.java:41)
03-05 15:52:24.810: E/AndroidRuntime(28777):    at org.scribe.extractors.TokenExtractorImpl.extract(TokenExtractorImpl.java:27)
03-05 15:52:24.810: E/AndroidRuntime(28777):    at org.scribe.oauth.OAuth10aServiceImpl.getAccessToken(OAuth10aServiceImpl.java:103)
03-05 15:52:24.810: E/AndroidRuntime(28777):    at org.scribe.oauth.OAuth10aServiceImpl.getAccessToken(OAuth10aServiceImpl.java:84)
03-05 15:52:24.810: E/AndroidRuntime(28777):    at org.scribe.oauth.OAuth10aServiceImpl.getAccessToken(OAuth10aServiceImpl.java:89)
03-05 15:52:24.810: E/AndroidRuntime(28777):    at com.android.twitter.TwitterActivity$1.onComplete(TwitterActivity.java:317)
03-05 15:52:24.810: E/AndroidRuntime(28777):    at com.twitter.android.TwitterApp$1.handleMessage(TwitterApp.java:236)
03-05 15:52:24.810: E/AndroidRuntime(28777):    at android.os.Handler.dispatchMessage(Handler.java:99)
03-05 15:52:24.810: E/AndroidRuntime(28777):    at android.os.Looper.loop(Looper.java:137)
03-05 15:52:24.810: E/AndroidRuntime(28777):    at android.app.ActivityThread.main(ActivityThread.java:5039)
03-05 15:52:24.810: E/AndroidRuntime(28777):    at java.lang.reflect.Method.invokeNative(Native Method)
03-05 15:52:24.810: E/AndroidRuntime(28777):    at java.lang.reflect.Method.invoke(Method.java:511)
03-05 15:52:24.810: E/AndroidRuntime(28777):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
03-05 15:52:24.810: E/AndroidRuntime(28777):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
03-05 15:52:24.810: E/AndroidRuntime(28777):    at dalvik.system.NativeStart.main(Native Method) 
```

# tsql - 为什么在 TSQL 中出现 DATETIME 转换错误？

> ID：15221905
> 
> 赞同：0
> 
> 时间：2013-03-05T10:52:02.983
> 
> 标签：tsql, datetime, type-conversion

我知道关于这个话题有很多问题，甚至是我不久前问过自己的一个（[这里](https://stackoverflow.com/questions/5191701/tsql-divide-by-zero-encountered-despite-no-columns-containing-0)）。现在我遇到了一个不同的问题，我自己和我的同事都不知道这种奇怪行为的原因是什么。

我们有一个相对简单的 SQL 语句，如下所示：

```
SELECT
    CONVERT(DATETIME, SUBSTRING(MyText, CHARINDEX('Date:', MyText) + 8, 16) AS MyDate,
    SomeOtherColumn,
    ...
FROM
    MyTable
INNER JOIN MyOtherTable
    ON MyTable.ID = MyOtherTable.MyTableID
WHERE
    MyTable.ID > SomeValue AND
    MyText LIKE 'Date: %' 
```

这不是我的数据库，也不是我的 SQL 语句，而且我没有创建出色的模式来将日期时间值存储在 varchar 列中，所以请忽略这一点。

我们现在面临的问题是 SQL 转换错误 241（“从字符串转换日期和/或时间时转换失败。”）。

现在我知道查询优化器可能会更改执行计划，在尝试转换后可以使用 WHERE 子句过滤结果，但真正奇怪的是，当我删除所有 WHERE 子句时，我没有收到任何错误.

当我在上面的语句中添加一行时，我也没有收到任何错误，如下所示：

```
SELECT
    MyText, -- This is the added line
    CONVERT(DATETIME, SUBSTRING(MyText, CHARINDEX('Date:', MyText) + 8, 16) AS MyDate,
    ... 
```

一旦我删除它，我就会再次收到转换错误。手动检查 MyText 列中的值而不尝试转换它们并不表明存在任何可能导致问题的记录。

转换错误的原因是什么？当我还选择列作为 SELECT 语句的一部分时，为什么我没有遇到它？

**更新**

这里是执行计划，虽然我认为它不会有帮助。 ![第1部分](../Images/24552f38a7fde9cc27424526599920f3.png) ![在此处输入图像描述](../Images/3e3db74ebb583ad28a8ff10e3daf4a20.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T11:04:34.657

有时，SQL Server 会通过在流程中更早地推送转换操作来进行积极优化，而不是它们原本需要的时间。（不应该。例如，请参阅[SQL Server 不应](http://connect.microsoft.com/SQLServer/feedback/details/537419/sql-server-should-not-raise-illogical-errors)在 Connect 上引发不合逻辑的错误）。

当您选择：

```
CONVERT(DATETIME, SUBSTRING(MyText, CHARINDEX('Date:', MyText) + 8, 16) 
```

然后优化器决定它可以作为表/索引扫描或查找的一部分执行此转换*-*`WHERE`就在它从表中读取数据的时候（重要的是，在子句过滤器之前或同时）。然后查询的其余部分可以只使用转换后的值。

当您选择：

```
MyText, -- This is the added line
CONVERT(DATETIME, SUBSTRING(MyText, CHARINDEX('Date:', MyText) + 8, 16) 
```

它决定让转换稍后发生。重要的是，现在（偶然）的转换发生在子句过滤器之后`WHERE`，按权利，子句过滤器应该在尝试转换之前过滤所有行。

* * *

处理此问题的唯一安全方法是在尝试转换之前强制过滤绝对发生。如果您不处理聚合，`CASE`则表达式可能足够安全：

```
SELECT CASE WHEN MyText LIKE 'Date: %' THEN CONVERT(DATETIME, SUBSTRING(MyText, CHARINDEX('Date:', MyText) + 8, 16) END 
```

否则，更安全的选择是将查询拆分为两个单独的查询，并将中间结果存储在临时表或表变量中（视图、CTE 和子查询不计算在内，因为优化器可以“看穿”此类构造）

# java - Java - 坐标问题

> ID：15221906
> 
> 赞同：0
> 
> 时间：2013-03-05T10:52:20.997
> 
> 标签：java, coordinates, lwjgl

我正在使用 LWJGL 库，并且正在尝试制作俄罗斯方块克隆。我想知道是否有人可以给我任何指示，因为我被困在坐标上。我有一个 277*500 的窗口，有 264 个图块。我计划让每个单独的瓷砖独立，这样我就可以随意改变它的颜色，这样我就可以制作 Tetrominoes。然而，这已经停止了，因为我无法弄清楚如何使每个瓷砖独立。目前我有一个用于创建图块的 for 循环，我打算为每个添加到 for 循环的数组赋予一个值，以便为每个图块提供一个独立的数组值，但我已经测试过并且无法弄清楚如何去做这个。这是我目前拥有的最好的，其中很多只是测试之类的，但就我所知。

```
 package tetris;

import static org.lwjgl.opengl.GL11.*;
import org.lwjgl.LWJGLException;
import org.lwjgl.opengl.*;
import org.lwjgl.input.*;

public class game {

int wx = 277;
int hy = 500;
String score = "0";

public game() throws LWJGLException {

    Display.setDisplayMode(new DisplayMode(wx, hy));
    Display.create();
    Display.setTitle("Tetris");

    glMatrixMode(GL_PROJECTION);
    glLoadIdentity();
    glOrtho(0, wx, 0, hy, 1, -1);
    glMatrixMode(GL_MODELVIEW);

        while(!Display.isCloseRequested()) {

            Display.update();
            Display.sync(500);

            simpleText.drawString(score, 3, 3); 

int[][][] coordsTable = new int[][][] {

            //   0          1          2          3          4          5          6          7          8          9          10          11             
/*  0 */    { {  1, 1 }, {  1, 2 }, {  1, 3 }, {  1, 4 }, {  1, 5 }, {  1, 6 }, {  1, 7 }, {  1, 8 }, {  1, 9 }, {  1, 10 }, {  1, 11 }, {  1, 12 } },
/*  1 */    { {  2, 1 }, {  2, 2 }, {  2, 3 }, {  2, 4 }, {  2, 5 }, {  2, 6 }, {  2, 7 }, {  2, 8 }, {  2, 9 }, {  2, 10 }, {  2, 11 }, {  2, 12 } },
/*  2 */    { {  3, 1 }, {  3, 2 }, {  3, 3 }, {  3, 4 }, {  3, 5 }, {  3, 6 }, {  3, 7 }, {  3, 8 }, {  3, 9 }, {  3, 10 }, {  3, 11 }, {  3, 12 } },
/*  3 */    { {  4, 1 }, {  4, 2 }, {  4, 3 }, {  4, 4 }, {  4, 5 }, {  4, 6 }, {  4, 7 }, {  4, 8 }, {  4, 9 }, {  4, 10 }, {  4, 11 }, {  4, 12 } },
/*  4 */    { {  5, 1 }, {  5, 2 }, {  5, 3 }, {  5, 4 }, {  5, 5 }, {  5, 6 }, {  5, 7 }, {  5, 8 }, {  5, 9 }, {  5, 10 }, {  5, 11 }, {  5, 12 } },
/*  5 */    { {  6, 1 }, {  6, 2 }, {  6, 3 }, {  6, 4 }, {  6, 5 }, {  6, 6 }, {  6, 7 }, {  6, 8 }, {  6, 9 }, {  6, 10 }, {  6, 11 }, {  6, 12 } },
/*  6 */    { {  7, 1 }, {  7, 2 }, {  7, 3 }, {  7, 4 }, {  7, 5 }, {  7, 6 }, {  7, 7 }, {  7, 8 }, {  7, 9 }, {  7, 10 }, {  7, 11 }, {  7, 12 } },
/*  7 */    { {  8, 1 }, {  8, 2 }, {  8, 3 }, {  8, 4 }, {  8, 5 }, {  8, 6 }, {  8, 7 }, {  8, 8 }, {  8, 9 }, {  8, 10 }, {  8, 11 }, {  8, 12 } },
/*  8 */    { {  9, 1 }, {  9, 2 }, {  9, 3 }, {  9, 4 }, {  9, 5 }, {  9, 6 }, {  9, 7 }, {  9, 8 }, {  9, 9 }, {  9, 10 }, {  9, 11 }, {  9, 12 } },
/*  9 */    { { 10, 1 }, { 10, 2 }, { 10, 3 }, { 10, 4 }, { 10, 5 }, { 10, 6 }, { 10, 7 }, { 10, 8 }, { 10, 9 }, { 10, 10 }, { 10, 11 }, { 10, 12 } },
/* 10 */    { { 11, 1 }, { 11, 2 }, { 11, 3 }, { 11, 4 }, { 11, 5 }, { 11, 6 }, { 11, 7 }, { 11, 8 }, { 11, 9 }, { 11, 10 }, { 11, 11 }, { 11, 12 } },
/* 11 */    { { 12, 1 }, { 12, 2 }, { 12, 3 }, { 12, 4 }, { 12, 5 }, { 12, 6 }, { 12, 7 }, { 12, 8 }, { 12, 9 }, { 12, 10 }, { 12, 11 }, { 12, 12 } },
/* 12 */    { { 13, 1 }, { 13, 2 }, { 13, 3 }, { 13, 4 }, { 13, 5 }, { 13, 6 }, { 13, 7 }, { 13, 8 }, { 13, 9 }, { 13, 10 }, { 13, 11 }, { 13, 12 } },
/* 13 */    { { 14, 1 }, { 14, 2 }, { 14, 3 }, { 14, 4 }, { 14, 5 }, { 14, 6 }, { 14, 7 }, { 14, 8 }, { 14, 9 }, { 14, 10 }, { 14, 11 }, { 14, 12 } },
/* 14 */    { { 15, 1 }, { 15, 2 }, { 15, 3 }, { 15, 4 }, { 15, 5 }, { 15, 6 }, { 15, 7 }, { 15, 8 }, { 15, 9 }, { 15, 10 }, { 15, 11 }, { 15, 12 } },
/* 15 */    { { 16, 1 }, { 16, 2 }, { 16, 3 }, { 16, 4 }, { 16, 5 }, { 16, 6 }, { 16, 7 }, { 16, 8 }, { 16, 9 }, { 16, 10 }, { 16, 11 }, { 16, 12 } },
/* 16 */    { { 17, 1 }, { 17, 2 }, { 17, 3 }, { 17, 4 }, { 17, 5 }, { 17, 6 }, { 17, 7 }, { 17, 8 }, { 17, 9 }, { 17, 10 }, { 17, 11 }, { 17, 12 } },
/* 17 */    { { 18, 1 }, { 18, 2 }, { 18, 3 }, { 18, 4 }, { 18, 5 }, { 18, 6 }, { 18, 7 }, { 18, 8 }, { 18, 9 }, { 18, 10 }, { 18, 11 }, { 18, 12 } },
/* 18 */    { { 19, 1 }, { 19, 2 }, { 19, 3 }, { 19, 4 }, { 19, 5 }, { 19, 6 }, { 19, 7 }, { 19, 8 }, { 19, 9 }, { 19, 10 }, { 19, 11 }, { 19, 12 } },
/* 19 */    { { 20, 1 }, { 20, 2 }, { 20, 3 }, { 20, 4 }, { 20, 5 }, { 20, 6 }, { 20, 7 }, { 20, 8 }, { 20, 9 }, { 20, 10 }, { 20, 11 }, { 20, 12 } },
/* 20 */    { { 21, 1 }, { 21, 2 }, { 21, 3 }, { 21, 4 }, { 21, 5 }, { 21, 6 }, { 21, 7 }, { 21, 8 }, { 21, 9 }, { 21, 10 }, { 21, 11 }, { 21, 12 } },
/* 21 */    { { 22, 1 }, { 22, 2 }, { 22, 3 }, { 22, 4 }, { 22, 5 }, { 22, 6 }, { 22, 7 }, { 22, 8 }, { 22, 9 }, { 22, 10 }, { 22, 11 }, { 22, 12 } }

};

int[] coords = new int[263];

    for(int j=22; j<hy; j+=22) {
        for(double i=2; i<wx; i+=23) {
            square(i, hy-j, 20.5, 1, 1, 1);
            }
        }
    }
}

public void square(double posX, double posY, double size, float r, float g, float b) {
    glBegin(GL_QUADS);
        glVertex2d(posX, posY);
        glVertex2d(posX, posY+size);
        glVertex2d(posX+size, posY+size);
        glVertex2d(posX+size, posY);
        glColor3f(r, g, b);
    glEnd();        
}
public static void main(String[] args) throws LWJGLException {

    new game();
    }
} 
```

任何帮助将不胜感激！:D

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-05T11:13:57.197

像这样只将`X, Y`坐标存储在多维数组中没有什么意义，因为您需要知道坐标才能获取/设置数组中的任何内容。您已经知道瓦片在哪里，您想存储瓦片是*什么*。

几天前，我最近用一种不太相似的方法制作了一款三消游戏。一些技巧...

*   使用数组索引来表示图块的位置`X`和位置`Y`
*   使用 Java 对象来表示图块而不是数组（上面的第三级数组）
*   使用 2D 数组中的位置来跟踪图块的位置，但使用`Tile`对象本身来跟踪颜色等属性
*   用于`null`表示瓦片网格中没有瓦片的间隙
*   使瓷砖网格延伸到可见屏幕的顶部上方，这样更容易产生新的四联骨牌（这使它更简单）
*   也许使用一个`Tetromino`类在它们下落时将它们组合在一起，或者表示不同的模式
*   通过从网格底部向上迭代使瓷砖掉落。如果您找到 a`Tile`并且其下方的单元格为空（即`null`），则将其向下移动。好，易于。

这样的事情可能会让你开始......

```
class Tile {
  private Color color;
   ... // getter/setter methods etc...
}

Tile[][] tiles = new Tile[12][22 + 4]; // 4 extra for space to spawn new tiles

// Create a new tetromino - lets say a 1x4 in the middle of the grid
// The first array index will the the X coordinate, and the second the Y coordindate
tiles[6][0] = new Tile(RED);
tiles[6][1] = new Tile(RED);
tiles[6][2] = new Tile(RED);
tiles[6][3] = new Tile(RED); 
```

# wpf - 如何将自定义样式应用到 AvalonDock

> ID：15221907
> 
> 赞同：4
> 
> 时间：2013-03-05T10:52:21.590
> 
> 标签：wpf, avalondock

有谁知道如何在 AvalonDock 2.0 中更改 LayoutAnchorable 和 LayoutDocument 的标题字体属性？我希望能够应用在我的 WPF 应用程序中随处使用的样式以保持一致性。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-05T11:01:06.857

您可以创建一个主题以在您的应用程序中使用。AvalonDock 发行版中有几个可用的主题，可以用作示例或模板来创建您自己的主题（例如[VS2010 主题](http://avalondock.codeplex.com/SourceControl/changeset/view/100414#1749975)）。

然后，您只需将其应用于您的 DockingManager：

```
<dock:DockingManager x:Name="dockingManager"
                     AnchorablesSource="{Binding DockModel.Tools}"
                     DocumentsSource="{Binding DockModel.Documents}"
                     ActiveContent="{Binding DockModel.ActiveContent, Mode=TwoWay}">

  <dock:DockingManager.Theme>
     <adCustom:DarkBlossomTheme />
  </dock:DockingManager.Theme>
  <dock:LayoutRoot/>
</dock:DockingManager> 
```

# javascript - 在 css 类中禁用控件的不同方法

> ID：15221910
> 
> 赞同：3
> 
> 时间：2013-03-05T10:52:25.537
> 
> 标签：javascript, jquery, css, webforms

有人可以告诉我禁用类中所有按钮的所有可能方法吗，我已经尝试过这个不起作用，

```
$("input.myClass").attr('disabled', true); 
```

我就是这样使用的

```
 <script type="text/javascript">
        $(document).ready(function() {

            var objA = $get('<%= checkbox.ClientID %>');

            $(objA).change(function() {

                if($(this).is(':checked'))
                {  
                    $(".anotherClass").sortable('disable'); //works
                    $("input.myClass").prop('disabled', 'disabled'); //doesn't work
                } 
```

CSS 很简单，

```
.myClass
{
    float: left; 
    width: 140px; 
    margin-left: 4px; 
    margin-right: 4px; 
    padding-top: 20px;
    text-align: center;
} 
```

HTML看起来像这样，

```
 <div class="myClass">
        <asp:Button ID="btn1" Text="bbb" runat="server" CausesValidation="False" CssClass="button" OnClientClick="return false;" />
        <asp:Button ID="btn2" Text="aaa" runat="server" CausesValidation="False" CssClass="button" OnClientClick="return false;" />
        <asp:Button ID="btn3" runat="server" CausesValidation="False" CssClass="button" OnClick="bt_Click" />
    </div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-05T10:57:20.340

jQuery 1.6+

要更改 disabled 属性，您应该使用 .prop() 函数。

```
$("input.myclass").prop('disabled', true);
$("input.myclass").prop('disabled', false); 
```

jQuery 1.5 及以下

.prop() 函数不存在，但 .attr() 类似：

设置禁用属性。

```
$("input.myclass").attr('disabled','disabled'); 
```

再次启用

```
$("input.myclass").removeAttr('disabled'); 
```

引用自：[堆栈问题](https://stackoverflow.com/questions/1414365/how-to-disable-an-input-with-jquery)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-05T10:53:44.647

采用[`.prop`](http://api.jquery.com/prop/)

```
$("input.myClass").prop("disabled", true); 
```

如果你想禁用 div 内的所有按钮类型输入，`myClass`类：

```
$(".myClass input[type=button]").prop("disabled", true); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-05T10:55:52.450

如果你想使用`attr()`，使用这个：

```
$("input.myClass").attr('disabled', 'disabled'); 
```

或者`prop()`：

```
$("input.myClass").prop('disabled', true); 
```

**关于更新的问题：**

1.  将您的脚本标签更改为`<script>`
2.  将其放在页面底部（而不是在头部）

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-05T10:57:01.090

禁用

```
$('input.myClass').attr('disabled', 'disabled'); 
```

// 启用

```
$('input.myClass').removeAttr('disabled'); 
```

// 或者你可以将 attr 设置为 ""

```
$('input.myClass').attr('disabled', ''); 
```

一些 SO 链接
[jQuery 禁用/启用提交按钮](https://stackoverflow.com/questions/1594952/jquery-disable-enable-submit-button)
[JQuery - 设置属性值](https://stackoverflow.com/questions/2009609/jquery-set-attribute-value)
[.attr("disabled", "disabled") 问题](https://stackoverflow.com/questions/3004885/attrdisabled-disabled-issue)
[使用 jQuery 切换输入禁用属性](https://stackoverflow.com/questions/4702000/toggle-input-disabled-attribute-using-jquery)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-05T11:02:01.007

由于您询问了所有可能的方法并且常见的方法都在那里，您始终可以通过执行以下操作来防止默认：

```
$('input.myClass').click(function(e){
    e.preventDefault();
}) 
```

防止默认，例如防止提交表单。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-03-05T11:03:33.507

您可以使用 $("input[type='button']").attr("disabled","disabled"); 禁用所有按钮。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-05T11:59:23.357

```
$(".myClass :input").attr('disabled', true); 
```

是唯一对我有用的代码。

# php - 父子关系到第 n 个孩子

> ID：15221918
> 
> 赞同：1
> 
> 时间：2013-03-05T10:52:43.470
> 
> 标签：php, mysql, parent-child

我有sql结构

```
id parent_id
1     0
2     1
3     2
4     3
5     4
6     5
7     1
8     7
9     8 
```

我想使用 php 调用 id=1 的所有子节点到第 n 个子节点

我怎么才能得到它。我是通过使用 php 回调函数来构建的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T10:59:15.483

通过使用递归，您可以...

```
<?php
$arrayParent = $this->ToDatabase->("SELECT * FROM table WHERE parent_id = 0");
BuildList($arrayParent, 0);

function BuildList($arrayElements, $depth)
{
    foreach($arrayElements as $element)
    {
        echo str_repeat("&nbsp;&nbsp;", $depth) . $element["id"];
        $depth++;
        $totalUnder = $this->ToDatabase->("SELECT * FROM table 
                        WHERE parent_id = " . (int)$element["id"]);
        if(count($totalUnder) > 0)
            $depth = BuildList($totalUnder, $depth); //$totalUnder fetch to array and step deeper...

        return $depth;
    }
}
?> 
```

# jquery - 使下拉列表中的值不可选

> ID：15221922
> 
> 赞同：0
> 
> 时间：2013-03-05T10:52:47.603
> 
> 标签：jquery

我创建了一个看起来有点像这样的下拉列表：

```
Item1
     Item2
     Item3
Item4
     Item5
     Item6
     Item7 
```

我想让 Item1 和 Item4 成为不可选择的项目。Jquery可以做到这一点吗？
后来编辑：我应该能够通过我的名为 fooheader 的类选择 item1 和 item4 （事件），其余的可选项目由 fooDetails 类调用。

目前我的临时修复使 Dll 中的下一个值成为选定的值，但我正在寻找一个更优雅的问题解决方案

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-05T11:02:28.550

你应该使用`<optgroup>`...

```
<select>
  <optgroup label="Item 1">
    <option>Item 2</option>
    <option>Item 3</option>
  </optgroup>
  <optgroup label="Item 4">
    <option>Item 5</option>
    <option>Item 6</option>
    <option>Item 7</option>
  </optgroup>
</select> 
```

这是一个jsFiddle ...

[http://jsfiddle.net/DKLwv/](http://jsfiddle.net/DKLwv/)

如果您不希望它们嵌套，请这样做...

```
<select>
  <optgroup label="Item 1"></optgroup>
  <option>Item 2</option>
  <option>Item 3</option>
  <optgroup label="Item 4"></optgroup>
  <option>Item 5</option>
  <option>Item 6</option>
  <option>Item 7</option>
</select> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:59:55.453

试试这个

```
 <select>
<option value="" disabled>---------------------</option>

</select> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T13:30:52.337

Emm .. 我终于完成了这部分 .. 我在修改 DDL 时遇到了一些问题，将选项放置在我的下拉列表中的几个字段中。这是我的解决方案，也许它可以帮助其他人（并在此过程中让我得到一些额外的支持：P）

```
 var $groups = $("#ddlId").filter(function () {
        return $(this).css('color') == 'rgb(0, 0, 0)'; // your condition of finding the optgroup elements 
    });
    $groups.each(function () {
        var $this = $(this);
        $this.nextUntil($groups).wrapAll($("<optgroup>", {
            label: $this.text()
        })).end().remove();
    }); 
```

# windows-phone-7 - 如何将图像数据流保存到windows phone中本地应用程序数据文件夹的根目录？

> ID：15221923
> 
> 赞同：0
> 
> 时间：2013-03-05T10:52:53.680
> 
> 标签：windows-phone-7, windows-phone-8

我正在尝试将图像数据流保存到文件中。不过，我能够将其保存到图片库。但我想将它保存到我的应用程序/项目根目录中的文件中。我正在尝试以下方法，但它不起作用。

```
 using (MediaLibrary mediaLibrary = new MediaLibrary())
         mediaLibrary.SavePicture(@"\DefaultScreen.jpg", stream); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T12:36:07.547

在这种情况下，您应该使用**LocalStorage**。这是一个简单的解决方案：

```
using (IsolatedStorageFile isoStore = IsolatedStorageFile.GetUserStoreForApplication())
{
  if (!isoStore.FileExists(fileName)
  {
    var sr = Application.GetResourceStream(new Uri(fileName, UriKind.Relative));

    using (var br = new BinaryReader(sr.Stream))
    {
      byte[] data = br.ReadBytes((int)sr.Stream.Length);
      string strBaseDir = string.Empty;
      const string DelimStr = "/";
      char[] delimiter = DelimStr.ToCharArray();
      string[] dirsPath = fileName.Split(delimiter);

      // Recreate the directory structure
      for (int i = 0; i < dirsPath.Length - 1; i++)
      {
          strBaseDir = Path.Combine(strBaseDir, dirsPath[i]);
          isoStore.CreateDirectory(strBaseDir);
      }

      using (BinaryWriter bw = new BinaryWriter(isoStore.CreateFile(fileName)))
      {
          bw.Write(data);
      }
    }
  }
} 
```

在这里您可以找到有关 Windows Phone 中数据的所有信息：

[http://msdn.microsoft.com/en-us/library/windowsphone/develop/ff402541(v=vs.105).aspx](http://msdn.microsoft.com/en-us/library/windowsphone/develop/ff402541%28v=vs.105%29.aspx)

# mysql - 无法执行“显示来自 abcvideo 的字段”：无法创建/写入文件“/tmp/#sql_1151_0.MYD”（错误代码：24）（1）

> ID：15221928
> 
> 赞同：1
> 
> 时间：2013-03-05T10:52:59.820
> 
> 标签：mysql, mysqldump

运行 mysql 自动备份脚本时出现以下错误。

> > mysqldump：无法执行“显示来自 abcvideo 的字段”：
> > 无法创建/写入文件“/tmp/#sql_1151_0.MYD”（错误代码：24）（1）

有人可以帮我吗？

# blackberry - 如何从浏览字段应用程序打开黑莓本机浏览器以获取外部链接

> ID：15221931
> 
> 赞同：0
> 
> 时间：2013-03-05T10:53:04.397
> 
> 标签：blackberry

我正在使用浏览字段为黑莓（jre 6.o 和 os 7.x）开发应用程序，并且应用程序运行良好。我想要的一件事是，当单击应用程序中的链接并且链接 url（域）与使用浏览字段在应用程序中调用的 url 不同时，在本机黑莓浏览器中打开链接。请帮助我如何做到这一点。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T13:39:44.103

您可以扩展 ProtocolController 类并覆盖其 handleNavigationRequest() 方法来执行自定义实现。

用法-oBrowserField.getConfig().setProperty(BrowserFieldConfig.CONTROLLER, new CustomProtocolController(oBrowserField));

其中 oBrowserField 是 BrowserField 实例，而 CustomProtocolController 是扩展 ProtocolController 的自定义类

# iphone - 如何获取 iPhone（越狱）中所有已安装应用程序的列表？

> ID：15221933
> 
> 赞同：-3
> 
> 时间：2013-03-05T10:53:06.083
> 
> 标签：iphone

如何获取 iPhone 中所有已安装应用程序的列表（越狱）。我想从应用商店获取已安装应用的完整列表？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T11:00:20.677

您无法从 Appstore 获取您设备的安装应用列表，但您可以从您的设备获取您的安装应用列表。我只是谷歌它并得到了最佳答案

[获取 iphone Objective-c 上已安装应用程序的列表](https://stackoverflow.com/questions/8645365/get-list-of-installed-applications-on-iphone-objective-c)

[获取 iPhone 上已安装应用程序的列表](https://stackoverflow.com/questions/4614114/get-list-of-installed-apps-on-iphone)

[获取所有已安装应用的列表](https://stackoverflow.com/questions/7226406/get-list-of-all-installed-apps)

你可以得到它： -

```
-(void)appInstalledList
{
      BOOL isDir = NO;
      NSDictionary *cacheDienter;
      NSDictionary *user;
      static NSString *const cacheFileName = @"com.apple.mobile.installation.plist";

    NSString *relativeCachePath = [[@"Library" stringByAppendingPathComponent: @"Caches"] stringByAppendingPathComponent: cacheFileName];
    NSString *path = [[NSHomeDirectory() stringByAppendingPathComponent: @"../.."] stringByAppendingPathComponent: relativeCachePath];
    if ([[NSFileManager defaultManager] fileExistsAtPath: path isDirectory: &isDir] && !isDir) // Ensure that file exists
    {
        cacheDienter    = [NSDictionary dictionaryWithContentsOfFile: path];
        user = [cacheDienter objectForKey: @"System"];
        NSLog(@"%@",user);
        // Then all the user (App Store /var/mobile/Applications) apps
    }
} 
```

# profiling - GC 未收集 ShinobiCharts 内存

> ID：15221934
> 
> 赞同：1
> 
> 时间：2013-03-05T10:53:10.653
> 
> 标签：profiling, xamarin.ios, xamarin-studio, shinobi

我最近的任务是使用 Xamarin Studio 分析用 Xamarin.iOS 编写的应用程序。我面临的问题是，当 XS 分析器说的与 Instruments 分析器不同时，我不知道我是否可以信任 Xamarin Studio 分析器。

我正在使用 ShinobiCharts 在我的应用程序中创建图表，并试图找出导致应用程序内存分配过多的原因。如果我要信任分析器，那么应​​用程序不会释放为图形分配的任何内存，即使我创建了一个新内存也是如此。

我假设如果我分配了先前分配的图形实例，则先前分配的内存将被标记为空闲，并且 GC 将收集。然而，情况似乎并非如此。

有没有人有这方面的信息？

快速说明：我曾尝试使用该`Dispose()`功能，但显然无济于事。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T12:33:31.510

在我看来，在这种情况下您不应该信任分析器！Xamarin 分析器将仅跟踪托管对象。“仪器”分析器跟踪本机对象。因此，本机对象（在本例中为 Shinobi）将不会显示在 Xamarin 分析器中。因此，图表可能已发布，但您没有看到这一点，因为您使用的是 Xamarin 分析器 - 它仅跟踪托管对象。

# c# - 在 ListView 中显示正在运行的进程图标

> ID：15221937
> 
> 赞同：0
> 
> 时间：2013-03-05T10:53:20.507
> 
> 标签：c#, listview, process, icons, taskmanager

我是编程新手，所以如果我问一些愚蠢的问题或使用错误的术语，我会提前道歉。我正在尝试查找所有正在运行的进程（如在任务管理器中，“应用程序”）并在 ListView 中使用图标列出它们。

我一直在四处寻找，发现了很多关于此的问答，但我正在努力让它发挥作用。

这是我确定它出错的部分：

```
ImageList imageListSmall = new ImageList();
Icon ico = Icon.ExtractAssociatedIcon(theprocess.MainModule.FileName);
imageListSmall.Images.Add(ico);
lvAppProg.SmallImageList = imageListSmall;

ListViewItem itemProcess = new ListViewItem(theprocess.ProcessName);
itemProcess.SubItems.Add(theprocess.Id.ToString());
lvAppProg.Items.AddRange(new ListViewItem[] {itemProcess}); 
```

我试图列出每个进程的 ID 和图标，据我了解，我需要做的就是创建一个“ImageList”，提取目标“进程”的图标位置，然后将小图像图标添加到 ListView带有进程名称和 ID。（我不知道该图标是否需要在单独的列中）非常感谢任何帮助！

谢谢！:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T11:03:43.237

您必须将 Imagelist 分配给 ListViewItem 并将 imageindex 设置为：

```
ListViewItem itemProcess = new ListViewItem(theprocess.ProcessName);
itemProcess.SubItems.Add(theprocess.Id.ToString());
lvAppProg.Items.AddRange(new ListViewItem[] {itemProcess});
itemProcess.ImageList = imageListSmall;
itemProcess.ImageIndex = YOURIMAGEINDEX 
```

# alfresco - Alfresco Share 在哪里存储它的数据列表条目

> ID：15221939
> 
> 赞同：0
> 
> 时间：2013-03-05T10:53:22.307
> 
> 标签：alfresco

Alfresco Share 究竟在哪里存储它的数据列表条目？在文件系统或数据库中的某个地方？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-05T11:38:50.870

Datalists 被建模为它们自己的 Alfresco 内容类型（在 datalistModel.xml 中定义）并存储在数据库中。只有文件存储在 Alfresco 的文件系统 (contentStore) 中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-05T13:45:00.027

好吧，我找到了一个名为`alf_content_url`包含存储库 url 的数据库表：

```
store://2012/9/24/22/58/e9d360e5-9292-4e8c-9cd4-8fe2e6724a45.bin 
```

并且文件本身存在于文件系统中，该文件系统包含一个二进制文件中的一个数据列表的所有条目：

```
alfresco-4.0.e/alf_data/contentstore/2012/9/24/22/58/e9d360e5-9292-4e8c-9cd4-8fe2e6724a45.bin 
```

# javascript - 参数来自到 javascript

> ID：15221951
> 
> 赞同：1
> 
> 时间：2013-03-05T10:53:49.663
> 
> 标签：javascript, html

我有一个`<ul>` `<li>`菜单。当点击`<a>`里面的元素时`<li>`，我需要运行一个Javascript函数，这个函数需要一些参数，比如id或name。我该怎么做？如何发送/检索参数？

示例 Javascript：

```
function addTab(title, uri) {
    var tabNameExists = false;
    $('#tabs ul li a').each(function(i) {
         if (this.text == title) {
             tabNameExists = true;
         }
    }); 
```

示例 HTML：

```
<ul>
    <li><a href="#">W to set parameters</a>
</ul> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:57:37.483

```
<a href="url" onClick="addTab(this);">link</a>

function addTab(this)
{
    $(this).attr('id');
    $(this).attr('name');
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:56:09.467

尝试

```
<a href="url" id="someUniqueID" title="SomeTitle" onClick = "addTab(this.title, this.href,this.id);" >link</a> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T10:56:16.847

无论如何，您的代码与您的问题不太相关，方法如下：

```
<li><a href="#" onclick="some_js_function(id,name)">W to set parameters</a></li> 
```

可以做更多的逻辑，取决于你如何写`some_js_function(id,name)`。

注意：如果要获取`<a>`or`<li>`标记的属性，可以使用@PSR 的答案。

# java - 逐行迭代文本文件的内容有限制，工作但没有完成整个文本

> ID：15221965
> 
> 赞同：0
> 
> 时间：2013-03-05T10:54:41.590
> 
> 标签：java, for-loop, iterator, limit

我正在研究一种 Java 方法，该方法将在永恒的 for 循环中逐行解析文本。

如您所见，我正在将 a 的内容分配给`bufferReader`列表

```
BufferedReader br = new BufferedReader(new FileReader("C:/feed.txt"));
            String strLine;
            ArrayList list = new ArrayList();    
while ((strLine = br.readLine()) != null) {
                list.add(strLine); 
```

这项工作完美无缺，`feed.txt`内容完全分配给`arrayList`with 18238 行。

但是当我尝试在for循环中使用和处理带有迭代器的列表内容时（以下代码），出现了问题：

```
Iterator itr;  
for (itr = list.iterator(); itr.hasNext();) { 
    String str = itr.next().toString();
} 
```

循环中的指令（业务流程）运行良好，直到程序停止迭代时的行号 5175。这是与迭代器相关的问题。

我认为这是关于迭代器的，因为这一行没有什么特别之处，即使删除它也是如此。问题依然存在。

迭代器有限制吗？我怎样才能把它升起来？

我正在尝试解析具有此行数的文件，但我应该在我的项目中开发一个永恒的永无止境的循环，一直接收行。

你能帮我吗 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-05T13:16:44.423

你问“我如何结合”？这是一个简单的例子。请注意，它不使用迭代器 - 因此您将能够看到您可以对输入文件中的所有行执行某些操作。它并没有真正回答您的问题，但它应该可以帮助您缩小问题所在。

```
BufferedReader br = new BufferedReader(new FileReader("C:/feed.txt"));
String strLine, str;
int numLines;
ArrayList list = new ArrayList();    
numLines = 0;
while ((strLine = br.readLine()) != null) {
    list.add(strLine);
    System.out.println(list.get(numLines));
    numLines++;
    // do whatever you were going to do with the iterator here
    str = strLine.toString();
}

System.out.printf("Read in %d lines; the last line read is \n%s\n", numLines, list.get(numLines-1)); 
```

虽然这并不是您所要求的，但当您运行此代码并查看它如何失败时，您将更接近解决您提出的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:59:27.707

这里有几件事：

首先，使用

```
List<String> list = new ArrayList<String>(); 
```

然后你可以迭代使用

```
for (String str : list) {
  // do something
} 
```

这能解决问题吗？

# html - Symfony Assetic 资源类型错误

> ID：15221966
> 
> 赞同：4
> 
> 时间：2013-03-05T10:54:44.307
> 
> 标签：html, css, apache, symfony

我对 symfony 2 有一个奇怪的问题。我正在开发一个项目，该项目的所有样式表和 javascript 文件都加载了资产（路径/到/文件），我决定将资产与 cssrewrite 和 yui_compressor 一起使用，所以我像这样添加它们：

```
// this is just one file for example
{% stylesheets
    'bundles/mybundle/css/main.css'
    filter='?cssrewrite, ?yui_css'
%} 
```

现在一切都在 prod env 中完美运行，但问题出在 dev 环境中。文件链接正确，我可以打开文件，但资源类型实际上是 text/html 而不是 text/css，即使类型设置为 text/css，如下所示：

```
<link rel="stylesheet" type="text/css" href="/app_dev.php/css/ab72c13_main_1.css"/> 
```

什么可能导致这个奇怪的问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T01:38:43.340

在@cordoval 的帮助下，我终于找到了问题所在。

我有两个配置资产的文件：use_controller，其中一个用 true 覆盖另一个。

所以解决这个问题的方法是设置assetic: use_controller : false 并使用assetic:dump --watch 自动转储assetic，以防你每次修改css/js文件时都不想这样做。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T11:54:39.730

尝试删除 yui_css 过滤器并单独测试另一个。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-10-27T01:05:41.240

检查您的`security.yml`并确保**所有**角色都可以访问 css 文件

```
access_control:
    - { path: ^/, role: IS_AUTHENTICATED_ANONYMOUSLY } 
```

# android - 如何从 FrameLayout 获取对 XML 文件的引用

> ID：15221967
> 
> 赞同：9
> 
> 时间：2013-03-05T10:54:45.513
> 
> 标签：android

我需要参考单独的 XML 文件，它是 FrameLayout，但我不知道该怎么做，这段代码不起作用：

```
FrameLayout desktopFrameLayout = (FrameLayout) findViewById(R.id.desktopsFramelayout);
desktopFrameLayout.setDrawingCacheEnabled(true);
desktopFrameLayout.buildDrawingCache();
Bitmap bitmap = desktopFrameLayout.getDrawingCache(); 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-03-05T10:57:06.713

为此，您必须使用膨胀视图。

```
LayoutInflater inflater = (LayoutInflater)getSystemService(Context.LAYOUT_INFLATER_SERVICE); 
View view = inflater.inflate(R.layout.mylayout, null);

FrameLayout item = (FrameLayout ) view.findViewById(R.id.desktopsFramelayout); 
```

# r - 来自 R CMD 检查的文档对象中的 \usage 中没有 \alias 的错误对象

> ID：15221972
> 
> 赞同：13
> 
> 时间：2013-03-05T10:54:55.393
> 
> 标签：r, package, roxygen2

我写了一个小包供我自己使用，使用 devtools 一切都很顺利。但是，我尝试在其上运行 R CMD Check，但出现了许多错误，这似乎是因为我的用法和示例使用了不在我的包中的基本 R 中的函数，例如这是我的最小函数和 roxygen 文档

```
#' Function to Sort a dataframe with a given list of columns
#' Cribbed from Spector, P. (2008). "Data Manipulation with R", UseR! Springer. Pg78
#' @param df Dataframe to be sorted
#' @param ... list of columns to sort on
#' @return A sorted dataframe
#' @author "Paul Hurley"
#' @export
#' @usage with(dataframe,sortframe(dataframe,column1, column2, column3))
#' @examples with(iris,sortframe(iris,Sepal.Length,Sepal.Width,Petal.Length))
sortframe<-function(df,...){df[do.call(order,list(...)),]} 
```

和 R CMD Check 给出

```
Undocumented arguments in documentation object 'sortframe'
  'dataframe' 'sortframe(dataframe, column1, column2, column3)'
Documented arguments not in \usage in documentation object 'sortframe':
  'df' '...'
Objects in \usage without \alias in documentation object 'sortframe':
  'with' 
```

有没有办法告诉 R CMD Check / roxygen2 这些功能在 base 中描述？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-07-29T23:28:39.810

您不应该包含`@usage`标签。Roxygen 会从你的代码中推断出来。你`@usage`真的是一个例子。R 抱怨是因为您指的是根本不在您的函数定义中的对象。 `@usage`, 如果你坚持自己装，应该只引用`sortframe`, `df`, 和`...`. 既然你已经有了一个`@example`，你应该可以省略`@usage`标签。

# c# - 如何在 C# 中将 BackgroundWork 转换为控件？

> ID：15221977
> 
> 赞同：-1
> 
> 时间：2013-03-05T10:55:06.927
> 
> 标签：c#, type-conversion, backgroundworker, new-operator

地狱我正在尝试将 BackgroundWork 转换为控制，但它说：

> 错误 6 参数 1：无法从 'System.ComponentModel.BackgroundWorker' 转换为 'System.Windows.Forms.Control'

这是代码

```
BackgroundWorker bw = new BackgroundWorker();
this.Controls.Add(bw);
bw.DoWork += new DoWorkEventHandler(bw_DoWork);
bw.RunWorkerAsync(); 
```

如何让事情发挥作用？

我尝试投 bw 来控制但同样的事情，这是我尝试的：

```
this.Controls.Add((this.Control)bw); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T10:58:03.583

欢迎来到 SO！

只需删除此行

```
this.Controls.Add(bw); 
```

`BackgroundWorker`不派生，`Control`因此您无法将其添加到`Controls`集合中，但无论如何您都不需要这样做。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T10:58:01.663

您不需要将 a 添加`BackgroundWorker`到表单的控件中。

它只是一个独立存在的对象。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-05T11:13:10.467

不知道为什么要将工作对象添加到控件集合中...

要发送电子邮件，您可以简单地传递一个绑定到 objects 的工作方法`DoWorkEventHandler`，看起来您已经在那里：-

```
BackgroundWorker bw = new BackgroundWorker();
this.Controls.Add(bw); //REMOVE THIS LINE
bw.DoWork += new DoWorkEventHandler(bw_DoWork);

//If your email relies on data from some object you can pass it in as a parameter
bw.RunWorkerAsync([email object]) 
```

然后你需要设置一个工作方法来处理电子邮件的发送： -

```
private void bw_DoWork(object sender, DoWorkEventArgs e)
{
     Email email = (Email)sender;
     //Send email
} 
```

您可能还想知道当前作业何时完成，在这种情况下，您可以在 do work 方法中使用类似这样的内容：-

```
this.Invoke(new JobDone(ReportProgress), result); 
```

委托定义为：

```
private delegate void JobDone(Result result); 
```

该`ReportProgress`方法看起来像：-

```
private void ReportProgress(Result result)
{

} 
```

# node.js - module.js:485 process.dlopen（文件名，module.exports）；

> ID：15221981
> 
> 赞同：2
> 
> 时间：2013-03-05T10:55:21.560
> 
> 标签：node.js, v8, node-gyp, gyp

我在创建的节点本机插件上收到此错误。它在我的开发机器上运行良好，但在测试机器上中断。

```
module.js:485 process.dlopen(filename, module.exports);

Error: The specified module could not be found.
j:\node_modules\mhl-dispatcher\node_modules\node-odp\libs\build\Release\odpnode.node 
```

在 c++ 代码中，我使用了一些 dll：

```
System.dll
System.Data.dll
Oracle.DataAccess.dll 
```

我正在使用 /clr 选项。有什么想法可能是什么问题？谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T09:52:43.743

我已经解决了问题，在机器 msvcp100d.dll 和 msvcr100d.dll 上运行 c++ natives 需要两个 dll。它们是通过安装 Ms visual c++ 2010 可再发行包来添加的。此外，对于那些运行 64 位的用户，您将使用 64 位版本的 dll，否则您会收到错误消息。

```
Error : %1  is not a valid Win32 Application 
```

希望这对其他人有帮助。干杯

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-05T12:43:09.793

节点在它尝试过的任何位置都找不到文件，或者对象文件没有导出 NODE_MODULE 符号。

# java - 在 GWT/GXT 中编译后更改 .properties 文件？

> ID：15221983
> 
> 赞同：0
> 
> 时间：2013-03-05T10:55:25.887
> 
> 标签：java, gwt, internationalization, constants, gxt

我想知道是否有任何方法可以让不使用 Eclipse 或任何编译器的人能够更改/编辑 .properties 文件并重新打包战争，以便他/她能够更改（例如）标签应用程序。

现在，我在工作区中项目的 war 文件夹中所做的任何修改似乎都不会在部署时影响应用程序。

希望对 GWT/GXT 有更多经验的人会花时间告诉我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-05T11:12:39.597

不，它们不会影响客户端。因为您的 app.chache.js 已经准备好，然后您尝试修改`.properties file`.

您在编译时将使用文件中的所有消息（标签）。`properties`稍后，即使您在那里更改，直到下一次`compile`他们不会`effect`。

对于动态标签更改，请使用[i18n](http://google-web-toolkit.googlecode.com/svn/javadoc/latest/com/google/gwt/i18n/client/Dictionary.html)或一些第三方[库](http://code.google.com/p/gwt-dmesg/)。

# android - 以 3d 方式动画位图

> ID：15221984
> 
> 赞同：0
> 
> 时间：2013-03-05T10:55:27.957
> 
> 标签：android, animation, canvas, 3d, bitmap

我在 View 类中使用 Canvas 绘制一些位图。用户滑动以更改位图。我想以这种方式动画位图之间的切换：

![在此处输入图像描述](../Images/502126cee47879c4db48dab4fe141f03.png)

![在此处输入图像描述](../Images/faf4a256df3f02617610407d4e6f47b7.png)

![在此处输入图像描述](../Images/228e2bddafa2f95e0a9165d1c2d7780c.png)

有什么帮助来实现这一目标吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T17:51:23.443

**Here is a 2d simulation of a rotating 3d cube.**

Wish I could say I did it myself, but I originally got the code here: [http://codentronix.com/2011/05/10/html5-experiment-a-rotating-solid-cube/](http://codentronix.com/2011/05/10/html5-experiment-a-rotating-solid-cube/)

Here is code and a Fiddle: [http://jsfiddle.net/m1erickson/3PwYm/](http://jsfiddle.net/m1erickson/3PwYm/)

```
<!DOCTYPE html>
<html>
<head>
    <title>HTML5 Experiment: A Rotating Solid Cube</title>
    <script type="text/javascript">
        window.onload = startDemo;

        function Point3D(x,y,z) {
            this.x = x;
            this.y = y;
            this.z = z;

            this.rotateX = function(angle) {
                var rad, cosa, sina, y, z
                rad = angle * Math.PI / 180
                cosa = Math.cos(rad)
                sina = Math.sin(rad)
                y = this.y * cosa - this.z * sina
                z = this.y * sina + this.z * cosa
                return new Point3D(this.x, y, z)
            }

            this.rotateY = function(angle) {
                var rad, cosa, sina, x, z
                rad = angle * Math.PI / 180
                cosa = Math.cos(rad)
                sina = Math.sin(rad)
                z = this.z * cosa - this.x * sina
                x = this.z * sina + this.x * cosa
                return new Point3D(x,this.y, z)
            }

            this.rotateZ = function(angle) {
                var rad, cosa, sina, x, y
                rad = angle * Math.PI / 180
                cosa = Math.cos(rad)
                sina = Math.sin(rad)
                x = this.x * cosa - this.y * sina
                y = this.x * sina + this.y * cosa
                return new Point3D(x, y, this.z)
            }

            this.project = function(viewWidth, viewHeight, fov, viewDistance) {
                var factor, x, y
                factor = fov / (viewDistance + this.z)
                x = this.x * factor + viewWidth / 2
                y = this.y * factor + viewHeight / 2
                return new Point3D(x, y, this.z)
            }
        }

        var vertices = [
            new Point3D(-1,1,-1),
            new Point3D(1,1,-1),
            new Point3D(1,-1,-1),
            new Point3D(-1,-1,-1),
            new Point3D(-1,1,1),
            new Point3D(1,1,1),
            new Point3D(1,-1,1),
            new Point3D(-1,-1,1)
        ];

        // Define the vertices that compose each of the 6 faces. These numbers are
        // indices to the vertex list defined above.
        var faces  = [[0,1,2,3],[1,5,6,2],[5,4,7,6],[4,0,3,7],[0,4,5,1],[3,2,6,7]];

        // Define the colors for each face.
        var colors = [[255,0,0],[0,255,0],[0,0,255],[255,255,0],[0,255,255],[255,0,255]];

        var angle = 0;

        /* Constructs a CSS RGB value from an array of 3 elements. */
        function arrayToRGB(arr) {
            if( arr.length == 3 ) {
                return "rgb(" + arr[0] + "," + arr[1] + "," + arr[2] + ")";
            }
            return "rgb(0,0,0)";
        }

        function startDemo() {
            canvas = document.getElementById("thecanvas");
            if( canvas && canvas.getContext ) {
                ctx = canvas.getContext("2d");
                setInterval(loop,33);
            }
        }

        function loop() {
            var t = new Array();

            ctx.fillStyle = "rgb(0,0,0)";
            ctx.fillRect(0,0,400,250);

            for( var i = 0; i < vertices.length; i++ ) {
                var v = vertices[i];
                var r = v.rotateX(angle).rotateY(angle);
                var p = r.project(400,250,200,4);
                t.push(p)
            }

            var avg_z = new Array();

            for( var i = 0; i < faces.length; i++ ) {
                var f = faces[i];
                avg_z[i] = {"index":i, "z":(t[f[0]].z + t[f[1]].z + t[f[2]].z + t[f[3]].z) / 4.0};
            }

            avg_z.sort(function(a,b) {
                return b.z - a.z;
            });

            for( var i = 0; i < faces.length; i++ ) {
                var f = faces[avg_z[i].index]

                ctx.fillStyle = arrayToRGB(colors[avg_z[i].index]);
                ctx.beginPath()
                ctx.moveTo(t[f[0]].x,t[f[0]].y)
                ctx.lineTo(t[f[1]].x,t[f[1]].y)
                ctx.lineTo(t[f[2]].x,t[f[2]].y)
                ctx.lineTo(t[f[3]].x,t[f[3]].y)
                ctx.closePath()
                ctx.fill()
            }
            angle += 2
        }
    </script>
</head>
<body>
        <canvas id="thecanvas" width="400" height="250">
        Your browser does not support the HTML5 canvas element. <a href=#>Click here</a> to watch the video.
    </canvas>

    </body>
</html> 
```

# ios - GoogleMaps SDK iOS 与哪个服务器联系

> ID：15221987
> 
> 赞同：2
> 
> 时间：2013-03-05T10:55:35.110
> 
> 标签：ios, google-maps, google-maps-sdk-ios

您好，哪个服务器是 Google Maps SDK for iOS 正在联系以接收新地图。

还是：“ [https://maps.googleapis.com/maps/api/js?sensor=true](https://maps.googleapis.com/maps/api/js?sensor=true) ”？

编辑：刚刚发现[http://google.com](http://google.com)应该足够了。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-11T00:48:55.380

根据[mitmproxy ，它向](http://mitmproxy.org/)[https://clients4.google.com/glm/mmap](https://clients4.google.com/glm/mmap)发出 POST 请求以获取其数据。

# r - 如何有效地将多个 rgl 图合并为一个图？

> ID：15221988
> 
> 赞同：4
> 
> 时间：2013-03-05T10:55:42.030
> 
> 标签：r, plot, ggplot2, png, rgl

`rgl`我使用包为我的数据的每个因子级别制作了 3D 图，并将它们保存为 png。我的数据有 30 个不同的级别，产生了 30 个不同的图像文件。现在我想将这些 png 组合成一个图。

我会这样显示它们：

![在此处输入图像描述](../Images/aea50cd7ea6e7e465b914462760f8917.png)

以下示例说明了我想做的事情：

```
library(rgl)
library(png)
library(gridExtra)
library(ggplot2)

## creates a png in the working directory which can be used as an example
example(surface3d)
rgl.snapshot("example.png")
rgl.close()

## imports the png files; in the example, the same file is imported multiple times.
if(exists("png.df")) rm(png.df)
for (i in 1:9) {
  png.i <- readPNG("example.png")

  g <- rasterGrob(png.i, interpolate=TRUE)
  g <- g$raster
  g <- as.vector(g)
  g <- matrix(g, nrow = 256, ncol = 256, dimnames = list(1:256, 1:256))

  df.i <- data.frame(i = rep(row.names(g), dim(g)[2]), j = rep(colnames(g), each = dim(g)[1]), col=as.vector(g))
  df.i$i <- as.numeric(as.character(df.i$i))
  df.i$j <- as.numeric(as.character(df.i$j))
  df.i$col <- as.character(df.i$col)
  df.i$title <- paste ( "Plot", i)

  if(exists("png.df")) {
    png.df <- rbind(png.df, df.i)
  } else {
    png.df <- df.i
  }
}
rm(df.i, g)

## plots the data
pl <- ggplot(png.df, aes( x = i, y = j))
pl <- pl + geom_raster(aes(fill = col)) + scale_fill_identity()
pl <- pl + scale_y_reverse()
pl <- pl + facet_wrap( ~ title)
pl <- pl + coord_equal() + theme_bw() + theme(panel.grid = element_blank(), axis.text = element_blank(), axis.title = element_blank(), axis.ticks= element_blank())
pl 
```

这工作得很好，但速度很慢。真正的 png 具有更高的分辨率，我想绘制 30 个 png，而不仅仅是 9 个，这导致我的机器在很长一段时间内完全没有响应（i7，8GB RAM）。

导入部分运行良好，但生成的数据框非常大（4.5e+07 行），ggplot（可以理解）无法正确处理。

如何以快速有效的方式创建情节？最好使用 R，但也可以使用其他软件。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-05T16:48:15.950

这是使用**网格**函数`grid.raster`和`xyplot`来自**lattice**的解决方案。我认为这`grid.raster`具有更快的屏幕渲染速度，因此它是性能的良好候选者。我选择 lattice 是因为它使用面板自定义更容易集成网格功能。

![在此处输入图像描述](../Images/7a1a4d5622d2b5c4a241264c6be90456.png)

首先我阅读了所有的 png，使用`readPNG`from `png`package （类似于你的解决方案）

```
ll <- list.files(path='c:/temp',patt='compo[0-9].*',full.names=T)
library(png)
imgs <- lapply(ll,function(x){
       as.raster(readPNG(x))  ## no need to convert to a matrix here!
   }) 
```

然后我为散点图准备数据：

```
x = 1:4   ## here 4 because I use  16 plots
y = 1:4
dat <- expand.grid(x,y) 
```

最后我使用`xyplot`自定义面板功能：

```
library(lattice)
library(grid)
xyplot(Var2~Var1|rownames(dat),data=dat,layout=c(4,4),
      panel=function(x,y,...){
        lims <- current.panel.limits()
        grid.raster(image =imgs[[panel.number()]],sum(lims$xlim)/2,sum(lims$ylim)/2,
                                      width =diff(lims$xlim),
                                          height=diff(lims$ylim),def='native' )

       }) 
```

PS：这就是我所说的**catty**解决方案。

# c++ - 控制台应用程序中的 ffmpeg avcodec_encode_video 崩溃

> ID：15221989
> 
> 赞同：-3
> 
> 时间：2013-03-05T10:55:46.260
> 
> 标签：c++, crash, ffmpeg

我想制作一个将原始图像编码为 h263 格式的编码器。但是在加载和初始化 ffmpeg 库后，我在 avcodec_encode_video 上崩溃了一个演示图像。

```
int _tmain(int argc, _TCHAR* argv[]) {
    avcodec_register_all();
    AVCodec *codec;
    AVCodecContext *c= NULL;
    int i, ret, x, y, got_output;
    FILE *f;
    AVFrame *frame;
    AVPacket pkt;

    int out_size, size, outbuf_size;

    AVFrame *picture;
    uint8_t *outbuf, *picture_buf;

    AVRational rp;   

    rp.den = 1;
    rp.num = 25;
    uint8_t endcode[] = { 0, 0, 1, 0xb7 };

    codec = avcodec_find_encoder(CODEC_ID_H263);

    c = avcodec_alloc_context3(codec);
    picture= avcodec_alloc_frame();
    c->bit_rate = 400000;
    /* resolution must be a multiple of two */
    c->width = 352;
    c->height = 288;
    /* frames per second */
    //c->time_base= (AVRational){1,25};
    c->time_base = rp;
    c->gop_size = 10; /* emit one intra frame every ten frames */
    c->max_b_frames=1;
    c->pix_fmt = PIX_FMT_YUV420P;
    avcodec_open(c, codec);

    outbuf_size = 100000;
    outbuf = (uint8_t*)malloc(outbuf_size);
    size = c->width * c->height;
    picture_buf = (uint8_t*)malloc((size * 3) / 2); /* size for YUV 420 */

    picture->data[0] = picture_buf;
    picture->data[1] = picture->data[0] + size;
    picture->data[2] = picture->data[1] + size / 4;
    picture->linesize[0] = c->width;
    picture->linesize[1] = c->width / 2;
    picture->linesize[2] = c->width / 2;

    /* encode 1 second of video */
    for(i=0;i<25;i++) {
        fflush(stdout);
        /* prepare a dummy image */
        /* Y */
        for(y=0;y<c->height;y++) {
            for(x=0;x<c->width;x++) {
                picture->data[0][y * picture->linesize[0] + x] = x + y + i * 3;
            }
        }
        /* Cb and Cr */
        for(y=0;y<c->height/2;y++) {
            for(x=0;x<c->width/2;x++) {
                picture->data[1][y * picture->linesize[1] + x] = 128 + y + i * 2;
                picture->data[2][y * picture->linesize[2] + x] = 64 + x + i * 5;
            }
        }
        /* encode the image */

        **Crash is here** --->                 ///////////////////////////////////////////////////
        out_size = avcodec_encode_video(c, outbuf, outbuf_size, picture);

        printf("encoding frame %3d (size=%5d)\n", i, out_size);
        fwrite(outbuf, 1, out_size, f);
    }
    /* get the delayed frames */
    for(; out_size; i++) {
        fflush(stdout);
        out_size = avcodec_encode_video(c, outbuf, outbuf_size, NULL);
        printf("write frame %3d (size=%5d)\n", i, out_size);
        fwrite(outbuf, 1, out_size, f);
    }
    /* add sequence end code to have a real mpeg file */
    outbuf[0] = 0x00;
    outbuf[1] = 0x00;
    outbuf[2] = 0x01;
    outbuf[3] = 0xb7;
    fwrite(outbuf, 1, 4, f);
    fclose(f);
    free(picture_buf);
    free(outbuf);

    avcodec_close(c);
    av_free(c);
    av_free(picture);
    printf("\n");
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-05T13:15:49.243

通过添加新的 ffmpeg 库解决了我的问题。

希望它可以帮助其他人。请保持最新。

# javascript - javascript平方

> ID：15221996
> 
> 赞同：0
> 
> 时间：2013-03-05T10:56:05.883
> 
> 标签：javascript

在javascript中使用什么更好地平方一些值。
数学.pow

```
Math.pow((circle2.x - circle1.x), 2) 
```

或者我自己的函数

```
square(circle2.x - circle1.x);

function square(a){
    return a*a;
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-05T11:05:15.027

使用库然后编写自己的代码几乎总是更好，除非您有充分的理由不这样做。原因：

*   它可以节省您的工作量。
*   这是经过良好测试的代码，而您的代码可能会引入错误。
*   查看您的代码的其他人会知道是什么`Math.pow`，因此它使您的代码更易于阅读。

显然这是一个非常简单的情况，您自己的函数不太可能导致问题。尽管如此，最好还是尽可能养成使用库的习惯。

顺便说一句，`Math.pow`执行[了很多特殊情况的处理](http://www.ecma-international.org/ecma-262/6.0/#sec-math.pow)。这说明即使是一个简单的函数也可能比最初看起来有更多的陷阱。通过使用库，您不必担心自己处理所有的边缘情况。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-05T10:57:24.147

你应该总是更喜欢使用库函数——重新发明轮子有什么意义？库函数经过优化，可能会满足您不知道的一些极端情况......

您是否也将提供自己的乘法实现？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-05T11:04:34.463

对于 2 的幂，我会使用乘法，因为你真的不会失去任何易读性。如果速度很重要，那么乘法可能会比函数调用更快。编辑：我的意思是甚至不创建函数......只是a * a。

# pyqt4 - 在 qlistwidget 中禁用用户选择

> ID：15221998
> 
> 赞同：1
> 
> 时间：2013-03-05T10:56:08.253
> 
> 标签：pyqt4, qlistwidget

我在pyqt4中有一个普通的qlistwidget。我有时想阻止用户进行选择，但仍想以编程方式设置选择。所以将选择模式设置为 noselection 是行不通的。有没有办法阻止用户进行选择？

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T17:47:40.393

我会在小部件上安装一个事件过滤器来捕获和丢弃鼠标事件。