# StackOverflow 问答 15803000-15803999

# sql - 日期不能是未来 SQL

> ID：15803002
> 
> 赞同：2
> 
> 时间：2013-04-04T05:15:07.527
> 
> 标签：sql, sql-server, date

我正在尝试添加一种约束，以防止用户将来输入日期，当用户尝试这样做时，我需要它来引发错误。

这是我到目前为止所拥有的：

```
Create Procedure CustomerBooks (@month int, @year int)
AS
BEGIN
    SELECT     
       SaleNumber, 
       month(saledate) as SaleMonth, year(saledate) as SaleYear,
       CustomerNumber, EmployeeNumber, SubTotal, GST, Total
    FROM         
       sale
    Where  
       month(saledate) = @month 
       and YEAR (saledate) = @year 
End

If salemonth > GETDATE(Month(saledate))  
   or saleyear > GETDATE(YEAR(saledate))
begin
   Raiserror ('Invalid entry, you cannot enter future dates',16,1)
end

EXEC dbo.CustomerBooks @month = '1', @year = '2012' 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T05:22:05.777

如果您使用的是 SQL Server，最简单的解决方案是添加一个`CHECK CONSTRAINT`以防止任何人输入超出（SQL Server）系统日期的日期。

```
ALTER TABLE Sale ADD CONSTRAINT CKC_SALE_SALEDATE CHECK (SaleDate <= GetDate()); 
```

* * *

**编辑 1** *关于 OP 关于向存储过程添加检查约束的评论*

a 的好处`CHECK CONSTRAINT`是如果不禁用它就无法绕过它。

总会有人插入/更新数据而不通过您设置的存储过程的情况。该约束将防止输入不正确的数据。

* * *

**编辑 2** *关于检查 GetDate() 时 OP 的错误*

以下构造当前无法编译

```
 If salemonth > GETDATE(Month(saledate))  
   or saleyear > GETDATE(YEAR(saledate)) 
```

错误消息提示这里有什么错误，GetDate() 函数不带任何参数。很可能，我怀疑你打算写这样的东西

```
 If salemonth > MONTH(GetDate())  
   or saleyear > YEAR(GetDate()) 
```

* * *

**编辑 3**

通过使用以下 if/then/else 构造来验证输入是否不在未来。另一种选择是将输入转换为实际日期并进行检查。

```
IF (YEAR(GetDate()) < @year)    
  Raiserror ('Invalid entry, you cannot enter future dates',16,1)
ELSE IF (YEAR(GetDate()) = @year) AND (MONTH(GetDate()) < @month) 
  Raiserror ('Invalid entry, you cannot enter future dates',16,1) 
```

[SQL 小提琴示例](http://www.sqlfiddle.com/#!6/02138/1)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T05:19:55.167

**改为使用触发器。**

```
Create or replace trigger tri_name
before insert on  sale 
begin
If salemonth > GETDATE(Month(saledate)) or saleyear > GETDATE(YEAR(saledate))
then 
Raiserror ('Invalid entry, you cannot enter future dates',16,1)
end;
/ 
```

**可能这会对你有所帮助。**

# java - 隐式超级构造函数 Seat() 未定义。必须显式调用另一个构造函数

> ID：15803003
> 
> 赞同：1
> 
> 时间：2013-04-04T05:15:08.343
> 
> 标签：java, eclipse

我已经阅读了与该主题相关的其他一些问题，老实说，我对所提供的答案感到非常迷茫，而我确实理解的那些似乎不起作用。

我正在介绍 ap comp sci 课程，所以更简单的答案将不胜感激。我的飞机构造函数出现错误，上面的错误是什么，不知道如何解决它我尝试使用超级方法但也许我做错了，因为错误仍然存​​在。

飞机等级：

```
public class Airplane {

    private Seat[][] seats;
    public static final int FIRST_CLASS = 1;
    public static final int ECONOMY = 2;
    private static final int FC_ROWS = 5;
    private static final int FC_COLS = 4;
    private static final int ECONOMY_ROWS = 5;
    private static final int ECONOMY_COLS = 6;

    public Airplane() {
        seats = new Seat[FC_ROWS][ECONOMY_COLS];
    }

    public String toString() {
        String str = "";
        for (int i = 0; i < FC_ROWS; i++) {
            for (int j = 0; j < ECONOMY_COLS; j++) {
                str = str + seats[i][j].toString();
            }
            str += "\n";
        }
        return str;
    }

    public class Seat {

        private int seatType;
        private boolean isReserved;
        public static final int WINDOW = 1;
        public static final int AISLE = 2;
        public static final int CENTER = 3;

        public Seat(int inSeatType) {
            seatType = inSeatType;
            isReserved = false;
        }

        public int getSeatType() {
            return seatType;
        }

        public void reserveSeat() {
            isReserved = true;
        }

        public boolean isAvailable() {
            if (isReserved = false) {
                return true;
            } else {
                return false;
            }
        }

        public String toString() {
            if (isReserved == false) {
                return "*";
            } else {
                return "";
            }
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T05:38:35.910

虽然你的代码不会有这样的编译错误。我将澄清问题标题的答案：

每当有继承，并创建子类的对象时，子类的构造函数都会调用层次结构中所有超类的构造函数。（直到 Object）默认情况下，它调用一个无参数的构造函数。（提醒一下，如果你没有定义任何构造函数，jvm会生成一个no-arg，但如果你定义了，jvm不会提供任何，你必须提供它。）

如果您在超类中提供了除无参数构造函数之外的任何其他构造函数，则期望无参数构造函数的子类将无法找到它，因为您既没有定义也没有 jvm 将提供 bcz其他构造函数的存在。

为避免这种情况，您有两个选择，要么在超类中使用无参数构造函数，要么使用`super`.

```
subClass(){
super(<params>)
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:07:36.073

尽管您没有在问题中提供任何此类信息，但我会抓住机会。

我猜你有一个`Seat`你没有向我们展示的子类。由于`Seat`没有默认构造函数（没有参数的构造函数），因此在子类的构造函数中，您需要显式调用`super`正确的`Seat`构造函数。例如，这将不起作用：

```
public class MySeat extends Seat {

    // just an example constructor. Could be a constructor with any arguments
    public MySeat() {
        // Will not work, since the constructor Seat() does not exist, and Java tries to invoke this constructor if no super call is given.
    }
} 
```

相反，你需要做

```
public class MySeat extends Seat {

    // Just an example constructor. Your constructor can take any arguments, but you need to invoke the correct super constructor
    public MySeat(int seatType) {
        super(seatType);
    } 
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-04T05:24:00.983

您已经定义了一个构造函数`Seat(int)`。默认`Seat()`情况下，如果没有定义构造函数，Java 将有一个无参数构造函数。由于您已经定义了一个，因此您还必须定义一个无参数构造函数`Seat()`，以防您从代码的任何部分调用 Seat() 也`if (isReserved = false)`将分配`false`给`isReserved`. 始终使用 == （或 equals() 视情况进行比较）。在这里，因为它是布尔值，你应该使用`if (!isReserved)`

编辑：根据评论，删除了提到在数组定义上创建 obj 的部分

# c# - C#：以最少的重复实现接口的抽象基础？

> ID：15803009
> 
> 赞同：1
> 
> 时间：2013-04-04T05:15:26.640
> 
> 标签：c#, interface, abstract-class, maintainability

我经常发现我需要以下内容：

```
public interface IMyThing
{
    void Function1();
    void Function2();
    void Function3();
    void Function4();
    void Function5();
}

public abstract class BaseMyThing : IMyThing
{
    // Implement a version of Function1, but Function 2-5 is up to the concrete class to do
    public void Function1()
    {
        // Do stuff.
    }

    public virtual void Function2();
    public virtual void Function3();
    public virtual void Function4();
    public virtual void Function5();
}

public class ConcreteMyThing : BaseMyThing, IMyThing
{
    public new void Function2() { /* something */ }
    public new void Function3() { /* something */ }
    public new void Function4() { /* something */ }
    public new void Function5() { /* something */ }
} 
```

这变得相当烦人 - 每次我向接口添加一些东西时，我都必须在抽象类中存根它。这不是世界末日，但我很好奇我是否在这里做一些次优的事情 - 有没有更好的方法来获得共享代码位的部分功能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T05:22:45.227

考虑从接口派生基类是否适用于您的情况。

您不需要从接口派生基类。只需使其提供共享功能并在派生类中实现接口（匹配的方法将由接口自动从基类中获取）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T05:32:51.543

我看不到任何实施`IMyThing`in 的理由`BaseMyThing`：

```
public interface IMyThing
{
    void Function2();
    void Function3();
    void Function4();
    void Function5();
}

public abstract class BaseMyThing
{
    public void Function1() {}
}

public class ConcreteMyThing : BaseMyThing, IMyThing
{
    public void Function2() { }
    public void Function3() { }
    public void Function4() { }
    public void Function5() { }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T05:25:54.037

我假设 Function2 到 Function5 不在基类中使用，而是在派生类中使用。那么它不应该被添加进去`IMyThing`，而是应该有一个单独的接口。

例子：

```
public interface IMyThing
{
    void Function1();
}

public abstract class BaseMyThing : IMyThing
{
    // Implement a version of Function1, but Function 2-5 is up to the concrete class to do
    public void Function1()
    {
        // Do stuff.
    }
}

public interface IMyThingConcrete{
  void FunctionConcrete();
}

public class ConcreteMyThing : BaseMyThing, IMyThingConcrete
{
    public void FunctionConcrete() { /* something */ }
} 
```

此外，您不需要在 ConcreteMyThing 中重新实现 IMyThing，它已经实现了 IMyThing，因为它继承了 BaseMyThing。

从 ConcreteMyThing 访问 FunctionConcrete 的示例：

```
public void AccessFunctionConcrete(IMyThingConcrete myThing){
  myThing.FunctionConcrete();
} 
```

# javascript - 如何在 BIRT 中包含 jQuery 库

> ID：15803011
> 
> 赞同：3
> 
> 时间：2013-04-04T05:15:42.987
> 
> 标签：javascript, jquery, birt

我试图在 BIRT 报告中包含 jQuery 库，我尝试了两种方法：

1.  我尝试在报告中使用属性为 HTML 和动态文本的文本元素，并将`jQuery.js`代码复制到`<script></script>`片段中，它确实适用于一些简单的操作，但它不像 jQuery 应该的那样工作
2.  所以我怀疑它应该包含在`<head>`标签中，然后我修改了以下文件：

    `birt/webcontent/birt/pages/layout\FramesetFragment.jsp` `birt/webcontent/birt/pages/layout\RequesterFragment.jsp` `birt/webcontent/birt/pages/layout\RunFragment.jsp`

包括`jquery.js`，但它也不起作用

任何想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-08T17:12:32.203

我用两种不同的方式完成了这件事。

第一个也是最简单的方法是在报告顶部包含一个 html 文本元素，以便首先使用指向 jquery 库的指针读取它：

```
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script> 
```

这仍然在您页面的正文中，但只要它高于其他所有内容，仍应首先阅读它。

第二种方法是使用修改后的 HTML 发射器，它允许您将元素添加到 HTML 页面的 HEAD 部分。这可[在此处](http://www.birt-exchange.org/org/devshare/designing-birt-reports/1490-modified-birt-html-emitter/ "这里")获得，由 johnw 编写。它要求您修改 birt 引擎中的 jar 文件。

# python - 复制给定矩阵的python程序

> ID：15803017
> 
> 赞同：-4
> 
> 时间：2013-04-04T05:16:10.377
> 
> 标签：python, matrix, numpy

我有一个`1x1x3`矩阵`A`和一个 2 元素数组`s= [m, n]`

我需要`m-by-n`平铺`A`. 所以预期的输出是`mxnx3 matrix`。帮助我找到所需输出的正确功能。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T05:36:47.430

让 1x1x3 矩阵

```
A =numpy.array([[[0, 0, 0]]]) 
```

然后使用`m= 3`tile`n= 3` 获取`mxnx3`矩阵

```
>>> a=tile((numpy.array([[[0, 0, 0]]])),(3,3,1))
>>> resol_val1 = a.shape
>>> resol_val1 
(3, 3, 3)
>>> a
array([[[0, 0, 0],
        [0, 0, 0],
        [0, 0, 0]],

       [[0, 0, 0],
        [0, 0, 0],
        [0, 0, 0]],

       [[0, 0, 0],
        [0, 0, 0],
        [0, 0, 0]]]) 
```

# javascript - RequireJS 缓存

> ID：15803021
> 
> 赞同：1
> 
> 时间：2013-04-04T05:16:27.127
> 
> 标签：javascript, html, browser, requirejs, browser-cache

我们在 RequireJS 每次请求时都没有获取新副本时遇到了一些问题。我们使用了以下内容但没有成功：

```
require.config({
    urlArgs: "bust=" + (new Date()).getTime()
}); 
```

查看网络日志时，页面会加载附加到 URL 的参数，但是如果再次调用相同的页面，它根本不会出现在网络日志中，因此它以某种方式来自缓存。

如果有人有任何想法，将不胜感激。

谢谢，瑞恩。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T07:15:13.187

这个[jsfiddle 示例](http://jsfiddle.net/9H7Fd/)显示`urlArgs`工作。

```
require.config({
    urlArgs: "bust=" + (new Date()).getTime(),
    paths: {
        "jquery": "http://code.jquery.com/jquery-1.9.1"
    }
});

require(["module", "jquery"], function (module, $) {
    console.log($.fn.jquery);
    console.log(module, module.config());
}); 
```

有了这个输出：

```
1.9.1
Object { id="_@r5", uri="./_@r5.js?bust=1365059426478", config=function()} Object {} 
```

Firebug 中的 Net 面板每次都会显示一个新版本的 jQuery 下载。

![Firebug 网络面板](https://i.stack.imgur.com/uFaGH.png)

您使用的是哪种浏览器？

# php - 在 symfony 和非 symfony 中处理多个配置文件

> ID：15803028
> 
> 赞同：1
> 
> 时间：2013-04-04T05:17:01.450
> 
> 标签：php, web, symfony1, symfony-1.4

在我的 Web 应用程序中，我的一些应用程序在 symfony 中，而一些在非 symfony 中。

结果有多个数据库连接文件（比如数据库连接文件，其中一个是 yml 文件，另一个是 php 文件。）

我正在考虑创建一个表并在该表中存储数据库连接，然后从中创建配置文件。

有没有其他方法可以解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:29:41.367

你应该保留`databases.yml`它并从你的非 symfony 应用程序中加载它。

在你的非 symfony 应用程序中，你可以使用[Symfony 2 中的 Yaml 组件](http://symfony.com/doc/master/components/yaml/introduction.html)：

```
use Symfony\Component\Yaml\Parser;

$yaml     = new Parser();
$database = $yaml->parse(file_get_contents('/path/to/config/databases.yml')); 
```

或者您可以使用[sfYaml](https://github.com/LExpress/symfony1/blob/master/lib/yaml/sfYaml.class.php)（将其复制/粘贴到您的非 symfony 项目中）并像这样加载 yml：

```
// if you don't use an autoload
require_once('/path/to/config/sfYaml.class.php');

$database = sfYaml::load('/path/to/config/databases.yml'); 
```

# php - 带有用户自己的分析代码的个人资料页面以跟踪访问者

> ID：15803032
> 
> 赞同：0
> 
> 时间：2013-04-04T05:17:16.770
> 
> 标签：php, javascript

我们将要求用户保存 Google 分析代码，类似于`UA-519****` 我们将在用户配置文件中使用的 Google 分析代码来跟踪流量。

所以用户可以在他自己的谷歌分析中看到他的个人资料流量。

```
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-51*****']); // Users Analytic token to track traffic 
  _gaq.push(['_trackPageview']);

  _gaq.push(['_setAccount', 'UA-3****']);// system Analytic token to track traffic 
  _gaq.push(['_setDomainName', 'example.com']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script> 
```

为了完成这个任务，我试过上面的代码。但似乎不起作用。是否有另一种方法来执行此任务？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T05:33:34.170

查看[文档](https://developers.google.com/analytics/devguides/collection/gajs/?hl=pl#MultipleCommands)页面。

它似乎能够处理多个跟踪帐户。尝试以下

```
_gaq.push(['_setAccount', 'UA-3*****']); // System Analytic token to track traffic 
_gaq.push(['_trackPageview']);

_gaq.push(['b._setAccount', 'UA-51****']); // Users Analytic token to track traffic 
_gaq.push(['b._trackPageview']);

_gaq.push(['_setDomainName', 'example.com']);

// Rest of Code 
```

# hibernate - 具有近 1000 个参数的构造函数

> ID：15803037
> 
> 赞同：0
> 
> 时间：2013-04-04T05:17:45.793
> 
> 标签：hibernate, struts2, multiple-columns

我的一张表包含近 1000 列。我正在创建一个 struts2-hibernate 应用程序。

因此，在基于表创建类时，我拥有具有近 1000 个参数的构造函数。这是否会产生任何问题...因为我使用的是 Hibernate

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T05:32:44.263

由于您使用的是休眠模式，因此您将需要一个[默认构造函数](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/persistent-classes.html#persistent-classes-pojo-constructor)，如果您有的话，我认为构造函数将有 1000 个参数没有任何问题。

# java - Java - 如何获取您的 java 代码所在的顶级文件夹？

> ID：15803041
> 
> 赞同：-3
> 
> 时间：2013-04-04T05:17:56.153
> 
> 标签：java

这是文件夹结构。文件夹 1 ---> 文件夹 2、文件夹 3。3里面有java代码。如何制作能够在顶级文件夹（即 1）中搜索文件或文件夹的 java 代码？这甚至可能吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T05:21:54.380

我认为您可以使用[File 的 getParent() 方法](http://docs.oracle.com/javase/6/docs/api/java/io/File.html#getParent%28%29)来完成您想要的工作。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-04T05:41:30.000

使用`getParent()`方法获取父目录名或顶级目录名。

```
import java.io.File;
public class DirectoryExample6 {
    public static void main(String args[]){
        File f = new File("D://tutorialData/java");
        String parent = f.getParent();
        System.out.println("Name of parent dir : "+parent);
    }
} 
```

来源： [http ://www.tutorialdata.com/examples/java/file-input-output/directory/get-name-of-parent-directory](http://www.tutorialdata.com/examples/java/file-input-output/directory/get-name-of-parent-directory)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-04-04T06:43:10.963

此代码获取路径 -

```
String absolutePath = new File(".").getAbsolutePath();
System.out.println(absolutePath);// Shows you the path of your Project Folder
int last = absolutePath.length()-1;
absolutePath = absolutePath.substring(0, last);//Remove the dot at the end of path
System.out.println(absolutePath);
String filePath =  "MyFolderInsideEclipseProject\\file.txt";//You know this
System.out.println(absolutePath + filePath);//Get the full path. 
```

# ruby - 如何从 Twitter Gem Twitter 对象返回完整的推文 JSON

> ID：15803043
> 
> 赞同：4
> 
> 时间：2013-04-04T05:17:58.570
> 
> 标签：ruby, json, mongodb, twitter

所以我有一些代码：

```
#twitter api access config up here
Twitter.status(27558893223) 
```

我知道我从该 Twitter.status 行中获得了所有推文信息。我想要的不是 Ruby 对象。我想要那条推文的完整 JSON，所以我可以直接使用它来填充我的 mongodb 实例。我可以就如何将该推文对象转换为 JSON 获得一些帮助吗？

谢谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T07:43:00.267

你不能使用[JSON.generate](http://www.ruby-doc.org/stdlib-1.9.3/libdoc/json/rdoc/JSON.html#method-i-generate)方法`Tweet.attrs`吗？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T07:43:25.787

这主要取决于您要在数据库中填充的所有列。[这里](http://rdoc.info/gems/twitter/Twitter/Tweet)的文档提到了关于您可以从中获取的所有元素的非常好的信息`Twitter::Tweet`。

例如，您可以执行如下所述的操作并将其相应地存储到您的数据库实例中。

```
Twitter.status(27558893223).source
Twitter.status(27558893223).from_user
Twitter.status(27558893223).from_user_id 
Twitter.status(27558893223).lang 
```

或者您可以`Twitter.status(27558893223).attrs`相应地处理 JSON。

让我知道我是否理解错误。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-11-02T15:30:35.610

对于**Twitter::Tweet**类的一个对象，使用**.attrs**

> Twitter.status(27558893223).attrs

对于对象数组，请使用**.map(&:attrs)**

> Twitter.user_timeline("[某人的推特名称]").map(&:attrs)

这是一个简单的 Sinatra 应用程序，用于返回 Katy Perry 的推文 :)

```
`require 'rubygems'
require 'sinatra'
require 'sinatra/jsonp'
require 'twitter'

class TwitterFetcher < Sinatra::Base
  helpers Sinatra::Jsonp

@@twitter_client = Twitter::REST::Client.new do |config|
    config.consumer_key       = ENV['consumer_key']
    config.consumer_secret    = #ENV['consumer_secret']
    # config.bearer_token       = ENV['bearer_token']
    config.access_token        = # ENV['access_token']
    config.access_token_secret = #ENV['access_token_secret']
  end

get '/' do
    result = @@twitter_client.user_timeline("katyperry")
    jsonp result.map(&:attrs)
  end
end` 
```

* * *

 `## 回答 #4

> 赞同：0
> 
> 时间：2020-03-16T09:05:57.267

也许这在以前是不存在的。

只需调用`.to_json`øn 推文对象：

```
client = Twitter::REST::Client.new(config)
client.status(27558893223).to_json 
````

# android - 使用 com.android.camera.action.CROP 在 HTC 设备中返回黑色图像的 Android 圆形裁剪图像

> ID：15803046
> 
> 赞同：0
> 
> 时间：2013-04-04T05:18:21.330
> 
> 标签：android, crop, android-camera-intent

在我的应用程序中，用户可以从 Android 中的相机或图库中选择图像。选择图像后，用户还可以从原始图像中裁剪圆形图像。但在圆形裁剪后，我从 HTC 设备（资源管理器和其他 HTC 设备）中得到黑色矩形图像。在三星设备中它工作正常。我正在使用下面的代码来裁剪图像：

```
intent.setDataAndType(selectedImage, "image/*");
intent.putExtra("crop", "true");
intent.putExtra("outputX", 96);
intent.putExtra("outputY", 96);
intent.putExtra("aspectX", 1);
intent.putExtra("aspectY", 1);
intent.putExtra("scale", true);
intent.putExtra("return-data", true);
intent.putExtra("circleCrop", "true");
startActivityForResult(intent, CROP_FROM_CAMERA); 
```

这是我的 onactivityresult 方法，我将在其中获得裁剪图像：

```
protected void onActivityResult(int requestCode, int resultCode, Intent data) {

    try {
    Bundle extras = data.getExtras();
    Bitmap photo = null;

    if (extras != null) {
    photo = extras.getParcelable("data");
    }
    if (photo != null) {
    ByteArrayOutputStream bytes = new ByteArrayOutputStream();
    photo.compress(Bitmap.CompressFormat.PNG, 100, bytes);
    byte[] b = bytes.toByteArray();
    FileOutputStream out;// = new FileOutputStream(filename);
    out = openFileOutput("cropImage.png", Context.MODE_PRIVATE);
    out.write(b);
    out.close();
     pref.edit().putString(PrefernceData.PREF_IMAGE_CROP_URL,"cropImage.png").commit();
    Log.i("capute", "success after crop......");
    }catch (Exception e) {
        Toast.makeText(this, "Can not find image crop app",
        Toast.LENGTH_SHORT).show();
    }
} 
```

在上面的代码中，当我删除这一行时：intent.putExtra("circleCrop", "true"); 它适用于所有 HTC 和三星设备上的矩形裁剪图像。但我只想要圆形裁剪图像。如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-03-19T16:11:49.417

您使用的意图实际上并不是 Dalvik 的官方部分。它适用于许多设备，但不能保证它在任何/所有设备上都能正常工作。[您可以在此博客](https://android-arsenal.com/details/1/205)中看到一些您可能使用的备用库。

可以在[这里](https://android-arsenal.com/tag/45)找到一些较新的替代品。

# ember.js - 您在 Ember.js 中将 XHR 调用保存在哪里？

> ID：15803047
> 
> 赞同：2
> 
> 时间：2013-04-04T05:18:26.207
> 
> 标签：ember.js

我想知道在 Ember.js 应用程序中将所有这些 XHR 调用保存在何处以用于非*ember-data*调用。

将 ember-data 与 REST 适配器一起使用时，事情变得简单明了，但如果：

*   **需要使用 WebSocket 进行连接**
*   **需要进行一些调用以从 API 检索数据，但与应用程序中的任何模型无关**

在控制器中编写 WebSocket/XHR 代码或创建一些适配器？

任何建议都赞赏如何布置 Ember.js 应用程序。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-03T03:25:36.807

Data access should occur in the model layer, either as class and instance methods of the models themselves, or in data access objects that the models collaborate with.

# jquery - 如何使用 jQuery val() 并将值显示为 html 正文中的文本

> ID：15803049
> 
> 赞同：-3
> 
> 时间：2013-04-04T05:18:27.893
> 
> 标签：jquery

```
<!DOCTYPE html>
<html>
<head>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js">
</script>
<script>
$(document).ready(function(){  - this is saying to wait until document is ready before          calling function

  $("button").click(function(){ - this is saying when "button" is click to perform function.

    alert("Value: " + $("#test").val()); - this is saying to show value in pop up box.
  });
});
</script>
</head>

<body>
<p>Name: <input type="text" id="test" value="Mickey Mouse"></p> - this is input for the value

<button>Show Value</button> - this is the button. 
</body>
</html> 
```

我想知道如何让值显示在 html 正文而不是弹出框中。我在想我可以使用 $(selector).document.write 函数，但它似乎不起作用。任何援助将不胜感激。先感谢您。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T05:19:48.810

[您可以使用append()](http://api.jquery.com/append/)为 body 赋值

```
$('body').append( $("#test").val()); 
```

或使用 id 选择器分配给特定元素

```
$('#divId').append( $("#test").val()); 
```

或使用类选择器分配给特定元素

```
$('.cssClassName').append( $("#test").val()); 
```

或使用 document.write 显示

```
document.write($("#test").val()); 
```

# html - 如何将图像放在移动段落旁边。响应式 Twitter 引导程序

> ID：15803051
> 
> 赞同：1
> 
> 时间：2013-04-04T05:18:39.887
> 
> 标签：html, css, twitter-bootstrap, mobile-website

我正在为我的网站寻找以下内容，即使在移动布局中，我也想要文本旁边的图像小缩略图：

![一种](https://cl.ly/image/1t16472W1f2l/Screen%20Shot%202013-04-04%20at%201.12.36%20AM.png)

但是，移动设备上的默认引导行为是将所有 div 流到另一个之下。img 似乎全宽，文本在其下方流动，这是不可取的。

引导程序中是否有内置的东西可以让我达到预期的结果，还是我必须使用一些自定义 CSS？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T05:29:13.547

> Bootstrap 样式基于网格系统，您无需为此编写自定义样式。您可以使用跨度类来满足您的要求

如果您使用的是流体布局，您可以使用类似这样的东西

```
<div class="span6">
  <div class="span6">
     here your image code
   </div>
   <div class="span6">
     here your description
   </div>                  
  </div>
</div> 
```

如果您使用的是固定布局

```
<div class="span6">
  <div class="span3">
     here your image code
   </div>
   <div class="span3">
     here your description
   </div>                  
  </div>
</div> 
```

您可以根据页面宽度选择**跨度类**

## 更新：

检查这个小提琴：

[http://jsfiddle.net/wLxen/3/](http://jsfiddle.net/wLxen/3/)

欲了解更多信息[http://twitter.github.com/bootstrap/scaffolding.html#gridSystem](http://twitter.github.com/bootstrap/scaffolding.html#gridSystem)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-12-12T17:55:13.917

我想我会从一年前回答我自己的问题，因为它已经被浏览了超过一千次。然后我也可以将其标记为已回答。

在由移动设备构建的 Boostrap v3 中，有用于移动设备的类“.col-xs-*”，它可以让您指定并排放置而不是堆叠的内容。

如果它们在没有 Bootstrap 3 或旧版本的 bootstrap 3 的情况下工作，显然可以创建这些媒体查询或样式。请参阅[bootstrap 文档](http://getbootstrap.com/css/#grid)或代码。

# r - 在R中的同一数据框中绑定具有相似列名的列

> ID：15803057
> 
> 赞同：7
> 
> 时间：2013-04-04T05:19:03.630
> 
> 标签：r

我有一个看起来像这样的数据框：

```
df <- data.frame(0:2, 1:3, 2:4, 5:7, 6:8, 2:4, 0:2, 1:3, 2:4)
colnames(df) <- rep(c('a', 'b', 'c'), 3)
> df
  a b c a b c a b c
1 0 1 2 5 6 2 0 1 2
2 1 2 3 6 7 3 1 2 3
3 2 3 4 7 8 4 2 3 4 
```

有多个具有相同名称的列。我想重新排列数据框，使具有相同名称的列组合成它们自己的超列，这样就只剩下唯一的列名了，例如：

```
> df
  a b c
1 0 1 2
2 1 2 3
3 2 3 4
4 5 6 2
5 6 7 3
6 7 8 4
7 0 1 2
8 1 2 3
9 2 3 4 
```

关于如何做到这一点的任何想法？提前致谢！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-04T05:25:17.393

我想这会成功的。

**解释**

`df[,names(df) == 'a']`将选择所有具有名称的列`a`

`unlist`将以上列转换为 1 个单个向量

`unname`将删除赋予这些向量的一些杂散行名。

`unique(names(df))`会给你唯一的列名`df`

`sapply`将内联函数应用于所有值`unique(names(df))`

```
> df
  a b c a b c a b c
1 0 1 2 5 6 2 0 1 2
2 1 2 3 6 7 3 1 2 3
3 2 3 4 7 8 4 2 3 4
> sapply(unique(names(df)), function(x) unname(unlist(df[,names(df)==x])))
      a b c
 [1,] 0 1 2
 [2,] 1 2 3
 [3,] 2 3 4
 [4,] 5 6 2
 [5,] 6 7 3
 [6,] 7 8 4
 [7,] 0 1 2
 [8,] 1 2 3
 [9,] 2 3 4 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-04T05:33:41.903

我的版本：

```
library(reshape)
as.data.frame(with(melt(df), split(value, variable)))
  a b c
1 0 1 2
2 1 2 3
3 2 3 4
4 0 1 2
5 1 2 3
6 2 3 4
7 0 1 2
8 1 2 3
9 2 3 4 
```

在使用`melt`我转换数据集的步骤中：

```
> melt(df)
Using  as id variables
   variable value
1         a     0
2         a     1
3         a     2
4         b     1
5         b     2
6         b     3
7         c     2
8         c     3
9         c     4
10        a     0
11        a     1
12        a     2
13        b     1
14        b     2
15        b     3
16        c     2
17        c     3
18        c     4
19        a     0
20        a     1
21        a     2
22        b     1
23        b     2
24        b     3
25        c     2
26        c     3
27        c     4 
```

然后我为每个独特的使用级别拆分`value`列：`variable``split`

```
$a
[1] 0 1 2 0 1 2 0 1 2

$b
[1] 1 2 3 1 2 3 1 2 3

$c
[1] 2 3 4 2 3 4 2 3 4 
```

那么这只需要一个`as.data.frame`成为你需要的数据结构。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-04T05:26:18.040

使用`%in%`和一些不上市

```
zz <- lapply(unique(names(df)), function(x,y) as.vector(unlist(df[which(y %in% x)])),y=names(df))
names(zz) <- unique(names(df))
as.data.frame(zz)
  a b c
1 0 1 2
2 1 2 3
3 2 3 4
4 5 6 2
5 6 7 3
6 7 8 4
7 0 1 2
8 1 2 3
9 2 3 4 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-04T05:34:14.223

我会`data.frame`按列名、取消列表排序，然后`as.data.frame`在 a 上使用`matrix`：

```
A <- unique(names(df))[order(unique(names(df)))]
B <- matrix(unlist(df[, order(names(df))], use.names=FALSE), ncol = length(A))
B <- setNames(as.data.frame(B), A)
B
#   a b c
# 1 0 1 2
# 2 1 2 3
# 3 2 3 4
# 4 5 6 2
# 5 6 7 3
# 6 7 8 4
# 7 0 1 2
# 8 1 2 3
# 9 2 3 4 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-04T05:25:03.577

*我现在不在电脑前，所以无法测试这个，但是*...... 这可能有效：

```
do.call(cbind, 
     lapply(names(df) function(x) do.call(rbind, df[, names(df) == x])) ) 
```

# php - 如何从主页的 H2 标签上删除博客文章的作者？

> ID：15803058
> 
> 赞同：1
> 
> 时间：2013-04-04T05:19:11.423
> 
> 标签：php, wordpress, vcf-vcard, author

我花了很长时间试图找到在我正在优化的网站主页上拉出的 H2 标记代码。

[http://tinyurl.com/cynvmka](http://tinyurl.com/cynvmka)

我猜 DATE + AUTHOR 的 H2 代码在我不看的地方被硬编码。

有人可以帮忙看看我在哪里可以找到拉起 H2 标签的代码吗？我想保留日历日期，只想删除作者。

提前谢谢你的帮助。

罗恩

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T05:22:06.550

更好地使用`firebug`firefox 或其他浏览器的任何其他开发工具来查看带有 name 和 id 属性的 html 标签显示它

然后创建一个隐藏它的css

```
.title_and_date{
  display:none;
} 
```

或者如果您希望在 wp find 的后端完成此操作

```
<?php the_author() ?>
<?php the_time('F j, Y'); ?> 
```

因为那会让你发布作者和日期

* * *

尝试将其添加到您的 css 我检查您的链接并查看它属于哪些 html 标签

```
 footer.entry-meta{
       display:none;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:37:34.503

[http://www.knocksteady.com/wp-content/themes/KSV3/style.css](http://www.knocksteady.com/wp-content/themes/KSV3/style.css)

在 style.css 行 no-993 并添加这个

footer.entry-meta { 颜色：#757575; 显示：无；字体大小：0.928571rem；行高：1.84615；边距顶部：0；}

# scala - Scala 检查 Future[Seq[String]] isEmpty

> ID：15803059
> 
> 赞同：2
> 
> 时间：2013-04-04T05:19:15.000
> 
> 标签：scala, future, sequences

我想检查 Future[Seq[String]] 是否为空并且我正在使用

```
if(!Future.sequence(sortSeq).isEmpty){
//doSomething
} 
```

但它给我带来了错误？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T05:28:51.450

我想的类型`sortSeq`是`Future[Seq[String]]`，所以你不需要`Future.sequence`。

您必须等待结果，`Future`然后检查结果是否为空：

```
import scala.concurrent.duration._
if(!Await.result(sortSeq.map{_.isEmpty}, 5.seconds){
  //doSomething
} 
```

如果你可以`doSomething`在不同的线程中执行，你可以试试这个：

```
val someRusultFuture = sortSeq.map{ rs =>
  if(!rs.isEmpty){
    //doSomething
  }
} 
```

但你必须等待`someRusultFuture`.

证明它有效：

```
scala> import concurrent.{Future, Await}
import concurrent.{Future, Await}

scala> import scala.concurrent.duration._
import scala.concurrent.duration._

scala> val sortSeq = Future{ Thread.sleep(10000); Seq("a") }
sortSeq: scala.concurrent.Future[Seq[String]] = scala.concurrent.impl.Promise$DefaultPromise@3592f7c6

scala> Await.result(sortSeq.map{_.isEmpty}, 11.seconds)
res1: Boolean = false 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-06-16T11:44:36.827

`Future.sequence`方法用于将 a`TraversableOnce[Future[A]]`转换为 a `Future[TraversableOnce[A]]`。

我认为您可以忘记是否`Seq`为空，只需`Seq`使用以下`map`功能即可`Future`

```
 val s = Future[Seq[String]](Seq("s", "e", "q"))
  val p  = s.map(s => s.foreach(println)) 
```

这是有效的，因为空检查是在后台隐式执行的。在下面的示例中，当`Seq`为空时，不会打印任何内容。

```
scala>   val s = Future[Seq[String]](Seq.empty)
s: scala.concurrent.Future[Seq[String]] = Future(<not completed>)

scala>   val p  = s.map(s => s.foreach(println))
p: scala.concurrent.Future[Unit] = Future(<not completed>) 
```

如果你**真的**想进行空检查，你也**可以**使用`withFilter`.

带非空`Seq`

```
scala>   val s = Future[Seq[String]](Seq("s", "e", "q"))
s: scala.concurrent.Future[Seq[String]] = Future(Success(List(s, e, q)))

scala>   val p  = s.withFilter(_.nonEmpty).map(s => s.foreach(println))
p: scala.concurrent.Future[Unit] = Future(<not completed>)

s
e
q 
```

带着一个空`Seq`

```
scala>   val s = Future[Seq[String]](Seq.empty)
s: scala.concurrent.Future[Seq[String]] = Future(Success(List()))

scala>   val p  = s.withFilter(_.nonEmpty).map(s => s.foreach(println))
p: scala.concurrent.Future[Unit] = Future(<not completed>) 
```

您也可以按照上面的答案进行空检查

```
val someRusultFuture = sortSeq.map{ rs =>
  if(!rs.isEmpty){
    //doSomething
  }
} 
```

希望这可以帮助。

# python - 从不与键关联的字典中读取值

> ID：15803061
> 
> 赞同：-2
> 
> 时间：2013-04-04T05:19:28.857
> 
> 标签：python, dictionary, key-value

我有这本词典

```
StudentDictionary = {"156" :{"name":"steve", "lastvisit":"10-02-2012", "age":12}} 
```

如果我有这本字典`S = {"name":"steve", "lastvisit":"10-02-2012", "age":12}`，我知道如何使用以下方法显示年龄：`pprint.pprint(S["age"])`

但我不知道如何显示值`ID = 156`或`age = 12`来自 complex `StudentDictionary`，知道`I don't have a key associated with that value.`

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T05:23:05.633

您必须遍历`StudentDictionary`值并匹配值。这不是一个好的解决方案，并且在现实生活中会非常慢，解决方案是将这些信息放入数据库中。但如果这是家庭作业或其他事情，它是可行的。

你通过它循环

```
for key in StudentDictionary: 
```

或者

```
for key, value in StudentDictionary.items(): 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T07:12:19.983

> “因为我的字典有很多学生”

我认为你最好有一个学生数据库，而不是这里的字典。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T05:27:43.713

就像 Lennart 建议的那样，对于 ID，您必须遍历项目。如果使用 python >= 2.7，则可以使用 dict-comprehension，例如：

```
steves = { k: v for k, v in StudentDictionary.iteritems() if v['name'] == 'steve' }
pprint.pprint(steves)
{'156': {'age': 12, 'lastvisit': '10-02-2012', 'name': 'steve'}}
IDs = steves.keys() 
```

# wso2 - 我们如何使用 wso2esb 将数据写入文本文件

> ID：15803063
> 
> 赞同：1
> 
> 时间：2013-04-04T05:19:37.700
> 
> 标签：wso2, wso2esb, wso2dss

我从前端获取数据或字符串我在一个属性中设置数据或字符串，我需要在每次发送数据时将属性数据发送到文本文件中我是否使用过 VFS 传输我在配置文件中未注释 vfs 的发件人部分，即使它在配置下无法正常工作

```
 <?xml version="1.0" encoding="UTF-8"?>
    <proxy xmlns="http://ws.apache.org/ns/synapse"
           name="FileWrite"
           transports="https http"
           startOnLoad="true"
           trace="disable">
       <description/>
       <target>
          <inSequence>
             <property name="error" expression="//error/text()" scope="default"/>
             <log level="full"/>
          </inSequence>
          <outSequence>
             <log>
 <property name="error" expression="get-property('error')" scope="default"/>
                <property name="OUT_ONLY" value="true"/>
             </log>
             <payloadFactory>
                <format>
                   <error>$1</error>
                </format>
                <args>
                   <arg expression="get-property('error')"/>
                </args>
             </payloadFactory>
             <log level="full"/>
             <send>
                <endpoint>
                   <address uri="vfs:file:///home/youtility2/Desktop/Errorlog.text"/>
                </endpoint>
             </send>
             <log level="full"/>
          </outSequence>
       </target>
       <parameter name="transport.vfs.Append">true</parameter>
    </proxy> 
```

我在桌面上创建了文本文件，但数据没有写入文本文件，也没有给出任何异常，也会为此引用一些东西

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T05:31:54.650

您必须为代理服务启用 VFS 传输。在代理创建/编辑向导中，您可以选择必要的传输。在axis2.xml 中启用VFS 传输后，VFS 将显示为服务的可用传输。因此，如果要在代理服务中使用它，也应该启用该特定服务。

因此，在您的代理元素中，传输属性将是 transports="https http vfs"

为了附加到同一个文件，使用文件 URI 定义 transport.vfs.Append 参数，如文档 [2] 中所述

[2] [http://docs.wso2.org/wiki/display/ESB450/VFS+Transport](http://docs.wso2.org/wiki/display/ESB450/VFS+Transport)

```
 <?xml version="1.0" encoding="UTF-8"?>
    <proxy xmlns="http://ws.apache.org/ns/synapse"
           name="FileWrite"
           transports="https http vfs"
           startOnLoad="true"
           trace="disable">
       <description/>
       <target>
          <inSequence>
             <property name="OUT_ONLY" value="true"/>
             <property name="error" expression="//error/text()" scope="default"/>
             <log level="full"/>
          </inSequence>
          <outSequence>
             <log>
 <property name="error" expression="get-property('error')" scope="default"/>
                <property name="OUT_ONLY" value="true"/>
             </log>
             <payloadFactory>
                <format>
                   <error>$1</error>
                </format>
                <args>
                   <arg expression="get-property('error')"/>
                </args>
             </payloadFactory>
             <log level="full"/>
             <send>
                <endpoint>
                   <address uri="vfs:file:///home/youtility2/Desktop/Errorlog.text?transport.vfs.Append=true"/>
                </endpoint>
             </send>
             <log level="full"/>
          </outSequence>
       </target>
       <parameter name="transport.vfs.Append">true</parameter>
    </proxy> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-10-28T10:34:44.513

下面的代码显示了将有效负载插入文件的能力。您不需要使用 vfs 作为传输。

```
<proxy xmlns="http://ws.apache.org/ns/synapse"
       name="WriteIntoFile"
       transports="https,http"
       statistics="disable"
       trace="disable"
       startOnLoad="true">
   <target>
      <inSequence>
         <property name="OUT_ONLY" value="true" scope="default" type="STRING"/>
         <property name="transport.vfs.ReplyFileName"
                   expression="fileName.xml')"
                   scope="transport"/>
         <send>
            <endpoint>
               <address uri="vfs:ftp://admin:admin@localhost:21/srcFolder?vfs.passive=true"/>
            </endpoint>
         </send>
      </inSequence>
   </target>
</proxy> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T05:54:45.223

1.  您必须在代理中将 VFS 设置为传输才能使用 vfs。
2.  你定义 transport.vfs.Append 参数的方式是错误的

它应该是在 URL

```
vfs:file:///home/user/test/out? transport.vfs.Append=true " 
```

作为参数

```
<parameter name="transport.vfs.ReplyFileURI">file:///home/user/test/out? transport.vfs.Append=true </parameter> 
```

1.  您的配置中缺少 vfs 参数。

对于 vfs 服务级别参数，您可以参考 [1]。

我只是粗略地编辑你的代理试试这个。

```
 <?xml version="1.0" encoding="UTF-8"?>
    <proxy xmlns="http://ws.apache.org/ns/synapse"
           name="FileWrite"
           transports="vfs" statistics="disable" trace="disable" startOnLoad="true">
       <description/>
       <target>
          <inSequence>
             <property name="error" expression="//error/text()" scope="default"/>
             <log level="full"/>
          </inSequence>
          <outSequence>
             <log>
 <property name="error" expression="get-property('error')" scope="default"/>
                <property name="OUT_ONLY" value="true"/>
             </log>
             <payloadFactory>
                <format>
                   <error>$1</error>
                </format>
                <args>
                   <arg expression="get-property('error')"/>
                </args>
             </payloadFactory>
             <log level="full"/>
             <send>
                <endpoint>
                   <address uri="vfs:file:///home/youtility2/Desktop/Errorlog? transport.vfs.Append=true"/>
                </endpoint>
             </send>
             <log level="full"/>
          </outSequence>
       </target>
       <parameter name="transport.PollInterval">10</parameter>
       <parameter name="transport.vfs.FileURI">file:///home/youtility2/Desktop/Errorlog.text</parameter>
       <parameter name="transport.vfs.FileNamePattern">.*.xml</parameter>
       <parameter name="transport.vfs.ContentType">text/xml</parameter>
       <parameter name="transport.vfs.ActionAfterFailure">MOVE</parameter>
    </proxy> 
```

[1]。[http://docs.wso2.org/wiki/display/ESB460/VFS+Transport](http://docs.wso2.org/wiki/display/ESB460/VFS+Transport)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-02-01T05:17:22.693

您也可以尝试wso2esb 中的**类中介**。在 java 类中使用 FileWriter 可以像这样写入文本文件：

```
FileWriter(File file, boolean append) 
```

或者

```
FileWriter(String fileName, boolean append) 
```

# android - android如何在Toast中显示USSD回复

> ID：15803066
> 
> 赞同：3
> 
> 时间：2013-04-04T05:19:45.663
> 
> 标签：android, ussd

我创建了如下运行的 USSD 函数

```
protected void call(String phoneNumber) {
    try {
        startActivityForResult(
                new Intent("android.intent.action.CALL", Uri.parse("tel:"
                        + phoneNumber)), 1);
    } catch (Exception eExcept) {
        this.view.append("\n\n " + "\n" + eExcept.toString());
    }
} 
```

上述功能，USSD回复消息显示在内置对话框中。但我想向 Toast 显示回复消息。我想在闪信后回去。下面是显示回复消息的编码。但终究不知道怎么回去。

```
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    USSD ussd = new USSD(4000, 4000);
    if (ussd.IsFound())
        this.view.append("\n" + ussd.getMsg());
    else
        this.view.append("" + R.string.error_ussd_msg);

} 
```

# unix - 如何将文件中的数据复制到目录中或将命令输出复制到目录中

> ID：15803068
> 
> 赞同：0
> 
> 时间：2013-04-04T05:19:54.643
> 
> 标签：unix, sed, awk

如何将此命令的输出复制到其他目录文件夹中？

```
cd folder2
cp `ls | sort -k1.5 | head -8` /folder1/ 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T05:34:11.397

您可以使用为过滤器返回的每个项目`xargs`运行：`cp`

```
cd folder2
ls | sort -k1.5 | head -8 | xargs -I % cp % /folder1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:36:39.180

如果安装了*并行*，您可以使用它：

```
ls | sort -k1.5 | head -8 |  parallel cp {} /folder1 
```

*并行*是如此强大，它可以做更复杂的事情，[如下所示](http://www.gnu.org/software/parallel/man.html#example__working_as_xargs__n1__argument_appending)+

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T10:19:20.690

在终端连接的三个描述符。这是0是标准输入，1是标准输出，2是标准错误

所以采取和使用这 3 个描述符的命令

像 ls 命令输出是

Birthday_details2013.ods Books.2/ IPC_with_sockets _power point_ppt_presentation_files/ 无标题文件夹/

此输出放置在该标准输出上

标准输出被重定向到另一个文件

```
home> ls 1>~/Desktop/file 
```

例如

```
 ls | wc -c | wc -l  1>file 
```

猫文件

1

另一个文件夹桌面包含该文件，该文件存储了 ls 命令输出

# javascript - 物理模拟基础

> ID：15803070
> 
> 赞同：1
> 
> 时间：2013-04-04T05:19:57.903
> 
> 标签：javascript, three.js, simulation, physics, game-physics

考虑一个 3D 太阳系模拟。

我的模拟循环：

```
[Calculate new positions]->[Render]->[Calculate new positions]->[Render] etc.... 
```

这个循环以 25FPS 的速度运行。

在我的模拟中，一颗行星正以非常快的速度向太阳移动（在碰撞过程中）。让我们看一下模拟循环：

1.  计算行星和太阳的位置（它们尚未碰撞，但彼此非常接近）。
2.  场景被渲染。
3.  由于 FPS 不是无限的，因此在下一次迭代之前会有一个小的停顿。
4.  计算行星和太阳的位置——这是我的问题的症结所在——它们没有发生碰撞，因为在“小暂停”期间，行星已经“穿过”太阳，它们的位置现在相距很远。碰撞检测算法不检测任何碰撞。

我在这里能看到的唯一解决方案是：

*   提高FPS
*   降低我的行星的速度（降低引力常数？？）
*   有一个单独的模拟循环，而不是在渲染循环旁边运行，但速度更快

对于任何感兴趣的人，我正在使用[three.js](http://mrdoob.github.com/three.js/)。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T05:34:49.940

射击游戏中的弹丸会发生。一种解决方案是让您的移动平台沿着前进路径拍摄一条线段，看看它是否会在下一帧之前撞到任何东西。这假设只有一个物体在快速移动。我想你也可以在最后一个位置和新位置之间运行一段，尽管我自己没有这样做。我也成功地将我的对撞机定义向前扩展为一个覆盖未检查区域的椭圆。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T13:25:54.960

您可以查看两个物体之间的角度变化，如果这接近 180 度或 pi 弧度，那么它们很可能会发生碰撞。可以使用一点线性代数（使用[点积](http://en.wikipedia.org/wiki/Dot_product)）来计算两个对象之间的角度变化：

```
dx0 = object[i].x - object[j].x;
dy0 = object[i].y - object[j].y;
dz0 = object[i].z - object[j].z;
dx1 = object[i].x + timeStep * object[i].u - object[j].x - timeStep * object[j].u;
dy1 = object[i].y + timeStep * object[i].v - object[j].y - timeStep * object[j].v;
dz1 = object[i].z + timeStep * object[i].w - object[j].z - timeStep * object[j].w;
dangle = acos((dx0 * dx1 + dy0 * dy1 + dz0 * dz1) / (sqrt(dx0 * dx0 + dy0 * dy0 + dz0 * dz0) * sqrt(dx1 * dx1 + dy1 * dy1 + dz1 * dz1))); 
```

您不必取反余弦，因为 cos(dangle) 将接近 -1 以使悬垂接近 180 度。

我不确定您应该采用哪个范围来成功检测碰撞，这部分需要进行一些试验和错误。而且我建议这不是碰撞检测的唯一步骤，并且在此检查之后它们会发生碰撞，假设两个物体在此时间步骤中以直线和恒定速度移动。要求解的方程将是一个二次方程，它可以有两个可能的答案（其中一个是它们是否会相互干扰并在另一侧发生碰撞）。但是，如果您对它们碰撞的确切时间不感兴趣，您仍然可以使用判别式来确定是否会发生碰撞。

# c# - 无法加载文件或程序集“System.Web.DataVisualization”或其依赖项之一

> ID：15803071
> 
> 赞同：3
> 
> 时间：2013-04-04T05:19:58.060
> 
> 标签：c#, asp.net

我收到了这个错误：

```
Server Error in Application.

Could not load file or assembly 'System.Web.DataVisualization' or one of its dependencies. This assembly is built by a runtime newer than the currently loaded runtime and cannot be loaded.
Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code.

Exception Details: System.BadImageFormatException: Could not load file or assembly 'System.Web.DataVisualization' or one of its dependencies. This assembly is built by a runtime newer than the currently loaded runtime and cannot be loaded.

Assembly Load Trace: The following information can be helpful to determine why the assembly 'System.Web.DataVisualization' could not be loaded. 
```

收到此错误后，我更改了`system.web.DataVisualization.dll`is的属性`Copy Local= true`，并且此 dll 也在 bin 目录中。但错误保持不变。

我应该怎么做才能摆脱这个错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-12-17T06:43:02.437

将 web.config 文件中的版本更改`System.Web.DataVisualization`为项目框架版本。

前任。

```
System.Web.DataVisualization, Version=4.0.0.0 
```

至

```
System.Web.DataVisualization, Version=3.5.0.0 
```

确保更改所有等效项。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T05:31:55.923

您可能需要检查您的项目是否使用了相对较新的 .Net 版本（4.0 或更高版本）。

请参阅 项目**属性**下的**目标框架**：

 **![项目属性](https://i.stack.imgur.com/scPII.png)**

# java - HttpServlet 的 Tomcat ClassNotFoundException

> ID：15803082
> 
> 赞同：2
> 
> 时间：2013-04-04T05:21:11.640
> 
> 标签：java, servlets

我们正在`java.lang.ClassNotFoundException: HttpServlet`Eclipse 中的 Apache Tomcat 服务器 (v5.5) 上运行一个 JSP 项目。Web-inf 下的 lib 文件夹确实有 servelt-api jar。此外，我们还导入了 javax.servlet.http.* 库。但我们仍然得到这个例外。

```
package com.bean;

import java.io.*;
import java.util.*;
import java.sql.*;
import javax.servlet.*;
import javax.servlet.http.*;
public class AdminLogin extends HttpServlet{
    ArrayList list=new ArrayList();

    public void doGet(HttpServletRequest request,HttpServletResponse response) throws ServletException,IOException{     

        try{
        response.setContentType("text/html");       
        PrintWriter out=response.getWriter();    
        String id=request.getParameter("user");
        String pass=request.getParameter("pass");
        System.out.println("ID==================>>"+id+"PASS========>>"+pass);
        if(id.equalsIgnoreCase("admin")&&pass.equalsIgnoreCase("admin"))
                {
                    response.sendRedirect("AdminPage.jsp");                 
                }
                else
                {
                    response.sendRedirect("Failure.html");        
                }           
        }
        catch (Exception e)
        {
            e.printStackTrace();
        }

        }
} 
```

错误堆栈跟踪：

```
java.lang.NoClassDefFoundError: HttpServlet
    java.lang.ClassLoader.defineClass1(Native Method)
    java.lang.ClassLoader.defineClassCond(Unknown Source)
    java.lang.ClassLoader.defineClass(Unknown Source)
    java.security.SecureClassLoader.defineClass(Unknown Source)
    org.apache.catalina.loader.WebappClassLoader.findClassInternal(WebappClassLoader.java:1847)
    org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.java:873)
    org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1326)
    org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1205)
    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)
    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:151)
    org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:870)
    org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)
    org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)
    org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)
    org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:685)
    java.lang.Thread.run(Unknown Source)
root cause

java.lang.ClassNotFoundException: HttpServlet
    org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1359)
    org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1205)
    java.lang.ClassLoader.defineClass1(Native Method)
    java.lang.ClassLoader.defineClassCond(Unknown Source)
    java.lang.ClassLoader.defineClass(Unknown Source)
    java.security.SecureClassLoader.defineClass(Unknown Source)
    org.apache.catalina.loader.WebappClassLoader.findClassInternal(WebappClassLoader.java:1847)
    org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.java:873)
    org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1326)
    org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1205)
    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)
    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:151)
    org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:870)
    org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)
    org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)
    org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)
    org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:685)
    java.lang.Thread.run(Unknown Source) 
```

Web.xml：

```
<?xml version="1.0" encoding="UTF-8"?>
<web-app id="WebApp_ID" version="2.4" xmlns="http://java.sun.com/xml/ns/j2ee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd">
    <display-name>CarPooling</display-name>
    <servlet>
        <description>
        </description>
        <display-name>AdminLogin</display-name>
        <servlet-name>AdminLogin</servlet-name>
        <servlet-class>com.bean.AdminLogin</servlet-class>
        </servlet>
        <servlet>
 <servlet-name>employee</servlet-name>
 <servlet-class>com.bean.UserLogin</servlet-class>
 </servlet>
    <servlet-mapping>
        <servlet-name>AdminLogin</servlet-name>
        <url-pattern>/demo</url-pattern>
    </servlet-mapping>  
  <servlet-mapping>   
  <servlet-name>employee</servlet-name>
 <url-pattern>/login</url-pattern>                             
 </servlet-mapping>  
    <welcome-file-list>
        <welcome-file>index.html</welcome-file>
        <welcome-file>index.htm</welcome-file>
        <welcome-file>index.jsp</welcome-file>      
    </welcome-file-list>
</web-app> 
```

项目文件夹结构： ![在此处输入图像描述](https://i.stack.imgur.com/aOJyN.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T06:31:05.797

> Web-inf 下的 lib 文件夹确实有 servelt-api jar。

无需将 servlet-api.jar 添加到 Classpath。IDE 会处理这个问题。

检查您的 Build Path 是否包含 Tomcat 库。

> 右键单击项目-> 属性。

**示例屏幕**

![在此处输入图像描述](https://i.stack.imgur.com/iCJdt.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T14:11:44.387

1：右键单击您的项目-> 2：构建路径-> 3：添加库-> 4：用户库-> 5：单击用户库-> 6：单击新建-> 7：给您喜欢的库名称-> 8：单击“添加外部 jars”-> 9：浏览并选择您需要的任何 jar 文件。

但在您的情况下，如果您需要**servlet-api.jar**它位于 TomcatX.X/lib/*.jar

如果您只缺少该 .jar 文件，请考虑此解决方案。对于核心库来说，这根本不是最佳实践。

如果您的 PC 配置正确，这些库文件将由 eclipse 自动加载到您的项目中。

# sql - SQL索引，属性顺序

> ID：15803085
> 
> 赞同：2
> 
> 时间：2013-04-04T05:21:19.627
> 
> 标签：sql

对于这个特定的 sql 查询：

```
select firstName
from students
where lastName = "john" 
```

在 (lastName, firstName) 上构建 B+ 树索引是否比在 (firstName, lastName) 上构建索引更快，为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T05:32:21.317

`INDEX name (lastName,FirstName)`会比`INDEX name (FirstName,lastName)`

它也可用于仅指定 lastName 值的查询，因为该列是索引的**最左侧**前缀

来自[MySQL 手册](http://dev.mysql.com/doc/refman/5.5/en/multiple-column-indexes.html)

> 如果表有一个多列索引，优化器可以使用索引的任何最左边的前缀来查找行。例如，如果您在 (col1, col2, col3) 上有一个三列索引，则您在 (col1)、(col1, col2) 和 (col1, col2, col3) 上有索引搜索功能。

# c++ - 为什么 clock::is_steady 返回 const bool 而不是 bool？

> ID：15803087
> 
> 赞同：3
> 
> 时间：2013-04-04T05:21:31.727
> 
> 标签：c++, c++11

根据 C++11 标准的表 59，*时钟*`::is_steady`函数返回`const bool`而不是`bool`. 无论哪种方式，返回类型都是内置类型的右值，因此不可修改，因此`const`似乎只添加了噪音。那么为什么`const bool`不简单`bool`呢？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-04T05:23:50.450

`is_steady`不是函数。它是一个静态成员。如果不是`const`你可以改变它。

# tsql - 为以下要求构造一个 T-SQL 查询

> ID：15803089
> 
> 赞同：1
> 
> 时间：2013-04-04T05:21:57.597
> 
> 标签：tsql, sql-server-2005

```
ID   Date1   T1   Date2   T2   Date3   T3   Date4   T4
1   DT11     Y    ----------NULL-----------------------  
2   DT11     N    DT22    Y    ----------NULL----------  
3   DT31     N    DT32    Y    DT33    Y    --NULL-----  
4   ----NULL---   DT42    Y    ---NULL---   DT44    Y
5   DT51     Y    ---NULL--    DT53    Y    --NULL----- 
```

我有一个具有上述结构的表 Table1。

要求：

1.  检查 (T1 - T5) 中哪一个有“Y”
2.  如果有多个“Y”，则比较日期以获取最近的日期
3.  在具有最近日期的日期字段的名称或部分名称的新字段中设置一个值。

所以，o/p 应该是

```
ID  Most-recent-Date-Flag
---------------------------------------------------    
1  "Date1 or T1"  -> Since all others are null
2  "Date2 or T2"  -> T2 has 'Y'
3  "Date3 or T3"  -> one 'N' and multiple 'Y', DT33 is most recent
4  "Date4 or T4"  -> multiple 'Y', DT44 is most recent
5  "Date5 or T5"  -> multiple 'Y', DT53 is most recent 
```

我已经设法创建查询来比较日期。如下：

```
 SELECT [ID]
    , MAX(UNPIVOT_DATE) AS MOST_RECENT_DATE
    FROM 
    (
    SELECT
    [ID]
    ,[Date1]
    ,[Date2]
    ,[Date3]
    ,[Date4]
    FROM TABLE1
    )SRC_TABLE
    UNPIVOT
    (
    UNPIVOT_DATE
    FOR DATES IN
    (
    [Date1]
    ,[Date2]
    ,[Date3]
    ,[Date4]
    )
    )UNPIVOT_TABLE
    GROUP BY [ID] 
```

我被困在检查（T1-T4）字段中的“Y”并在比较后获取最近日期的列名的地方。

希望这个解释有帮助！

08/04/2013
非常感谢@MarcinJuraszek。有用！！无论如何我也可以传递字段的列名（T1-T4）吗？我尝试了以下方法，但没有奏效。

```
SELECT t.[ID]
,MAX(t.Date) as MOST_RECENT_DATE
--,t.Column_Name 
FROM
(
    SELECT [ID]
    ,[Date1] as Date
    ,[T1] as T
--  ,COL_NAME(OBJECT_ID('Table1'), 2) AS Column_Name 
    FROM Table1
UNION ALL
    SELECT [ID]
    ,[Date2] as Date 
    ,[T2] as T 
--    ,COL_NAME(OBJECT_ID('Table1'), 4) AS Column_Name
    FROM Table1
  UNION ALL
    SELECT [ID] 
    ,[Date3] as Date
    ,[T3] as T 
--    ,COL_NAME(OBJECT_ID('Table1'), 6) AS Column_Name
    FROM Table1
  UNION ALL 
    SELECT [ID]
    ,[Date4] as Date
    ,[T4] as T 
--    ,COL_NAME(OBJECT_ID('Table1'), 8) AS Column_Name 
    FROM Table1
) t
WHERE t.T = 'Y'
GROUP BY t.[ID]
--, t.Column_Name
ORDER by [ID] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T06:50:19.200

替代`GROUP BY`+ `MAX()`，您可以使用`CROSS APPLY (SELECT TOP 1)`. 这将让您返回其他数据以及最大日期：

```
SELECT
  t.*,
  x.Date,
  x.FlagName
FROM TABLE1 AS t
CROSS APPLY (
  SELECT TOP 1
    Date,
    FlagName
  FROM (
    SELECT Date1, T1, 'T1' UNION ALL
    SELECT Date2, T2, 'T2' UNION ALL
    SELECT Date3, T3, 'T3' UNION ALL
    SELECT Date4, T4, 'T4' UNION ALL
    SELECT Date5, T5, 'T5'
  ) AS s (Date, T, FlagName)
  WHERE T = 'Y'
  ORDER BY Date
) AS x
; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T05:41:31.787

那个怎么样：

```
SELECT t.ID, MAX(t.Date) FROM
  (SELECT ID, Date1 as Date, T1 as T FROM Test
  UNION ALL
    SELECT ID, Date2 as Date, T2 as T FROM Test
  UNION ALL
    SELECT ID, Date3 as Date, T3 as T FROM Test
  UNION ALL 
    SELECT ID, Date4 as Date, T4 as T FROM Test) t
WHERE t.T = 'Y'
GROUP BY t.ID 
```

**[简单演示](http://sqlfiddle.com/#!3/d561b/18)**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-18T00:46:53.647

我终于得到了以下查询（偶然）并且它起作用了.....

1.  我创建了一个如下所示的视图

    CREATE VIEW View_Test 选择 [ID]，当 [T1] = 'Y' 然后 [D1] else null end 为 [D1] 时的情况，如果 [T2] = 'Y' 然后 [D2] else null end 作为 [D2] , 当 [T3] = 'Y' then [D3] else null end as [D3], case when [T4] = 'Y' then [D4] else null end as [D4] from Test

然后我在 unpivot 查询中使用了该视图，如下所示

```
select [ID], max(DATE_FIELD) as most_recent_date, max(Flag) as most_recent_flag
from View_Test
unpivot (
DATE_FIELD for Flag in 
(
[D1]
, [D2]
, [D3]
,[D4]
)
) as DATE_Unpivoted
group by [ID]
ORDER BY [ID] 
```

当我执行上述查询时，“max(flag)”给了我最近日期的日期字段的名称。我仍然不知道它是如何工作的。关于“旗帜”的那一点我仍然无法理解。但我不小心把它留在了查询中......从我尝试过但没有工作的不同查询中复制并粘贴:)

有人可以请教吗？:)

# iphone - 如何根据 iPhone 的屏幕大小更改 UIWebView？

> ID：15803091
> 
> 赞同：0
> 
> 时间：2013-04-04T05:21:59.063
> 
> 标签：iphone, objective-c, xcode

我正在构建一个只是 UIWebView 的 iPhone 应用程序。当我尝试在手机上运行此应用程序时，屏幕顶部和底部出现一个大黑条。我相信是因为它针对较小的屏幕进行了优化。不过，在我的 iPhone 5 上，它并不是最佳选择。

如何根据 iPhone 的类型（屏幕大小）更改 UIWebView 的大小？

![在此处输入图像描述](https://i.stack.imgur.com/dYOTZ.jpg)

这是我的 xib 文件的屏幕截图。 ![在此处输入图像描述](https://i.stack.imgur.com/wcwfb.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T05:26:25.020

`Default-568h@2x.png`首先，为您的项目添加一个名为的默认图像。这消除了 iPhone 5 上的黑条。然后，要更改每个屏幕的 Web 视图大小，在右侧窗格的界面生成器中，单击标尺图标，然后在窗格的左下方，更改设置它看起来像这样（这假设自动布局已关闭）

![在此处输入图像描述](https://i.stack.imgur.com/bixGB.png)

如果您不使用 IB，请执行@Dilip 所写的操作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T05:24:51.820

你可以做两件事：

1）设置一个 iPhone 5 特定的默认（启动）屏幕（Chris 列出的 Default-568h@2x.png 文件 ... +1 给他）

和

2）使用自动布局并确保您的网络视图在窗口/容器视图的顶部和底部边缘之间的宽度为零。

您可以通过选中此复选框在情节提要或 XIB 中打开它：

![在此处输入图像描述](https://i.stack.imgur.com/NGtpm.jpg)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T05:26:43.023

根据设备大小更改您的 webview 大小。

```
 - (void)viewDidLoad
    {
        CGRect screenBounds = [[UIScreen mainScreen] bounds];
            if (screenBounds.size.height == 568) {

    webView.frame= CGRectMake(yourX, yourY, yourWidth, yourHeight);
            } else {

    webView.frame= CGRectMake(yourX, yourY, yourWidth, yourHeight);
            }
     [super viewDidLoad];
    } 
```

而且你必须添加一个 Default-568h@2x.png(640 × 1136) 让iphone知道这个应用程序可以在iphone5上运行

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T05:28:32.983

为此，您必须在创建**UIWebView**时添加一个条件，

```
CGSize result = [[UIScreen mainScreen] bounds].size;
if(result.height == 480)
{
    UIWebView *aWebView = [[UIWebView alloc] initWithFrame:CGRectMake(0, 0, 320, 480)];
}
else if(result.height == 568)
{
  UIWebView *aWebView = [[UIWebView alloc] initWithFrame:CGRectMake(0, 0, 320, 568)];
} 
```

此条件检查屏幕大小。希望这可以帮助 ！！:)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-04T08:46:53.200

查找是否为 iPhone5

```
#define IS_IPHONE5 (([[UIScreen mainScreen] bounds].size.height-568)?NO:YES) 
```

定义高度

```
#define iPhoneScreenHeight   (([[UIScreen mainScreen] bounds].size.height-568)?480:568) 
```

# sql-server - 从电子邮件 ID 获取用户名

> ID：15803095
> 
> 赞同：2
> 
> 时间：2013-04-04T05:22:07.613
> 
> 标签：sql-server

我已经声明了变量 @email ，

```
Declare user_name varchar(500) 
```

如何将值传递给用户名，值是@email='ragkv@gmail.com' 然后用户名='ragkv' 我必须从电子邮件中获取它@。这该怎么做？提前致谢

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-04T05:52:16.280

所以你想在字符的第一个实例处修剪值？您可以通过将 charindex() 作为 substring() 的长度参数传递来做到这一点

```
DECLARE @email VARCHAR(20)='ragkv@gmail.com'
DECLARE @username VARCHAR(20)

SELECT @username = SUBSTRING(@email,0,charindex('@',@email,0))

SELECT @username 
```

# netty - 跨多个服务器和客户端引导重用 NioWorkerPool

> ID：15803096
> 
> 赞同：4
> 
> 时间：2013-04-04T05:22:18.630
> 
> 标签：netty

我可以创建 1 个 Netty NioWorkerPool 实例并在多个 ServerBootstrap 和 ClientBootstrap 实例之间共享它吗？我的应用程序有很多空闲线程，目前，每个 Bootstrap 都在创建自己的 NioWorkerPool 以用于我机器上 2* 的内核数。

如果我共享这个池子，会有什么后果？每个人最终都有机会运行，还是服务器或客户端连接会尝试占用所有内容？

即使拥有一个用于服务器和一个用于客户端的 NioWorkerPool 也比我拥有的要好。

据我所知，这不是一个重复的问题。我看到其他人谈论共享 Executor，我已经这样做了，我对共享实际的 NioWorkerPool 实例更感兴趣。我有我的进程的线程转储，我有大约 3000 个线程，其中大部分正在等待 Netty NIO 事件。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T07:46:10.423

是的你可以。这是一个例子：

```
ExecutorService executor = Executors.newCachedThreadPool();
NioClientBossPool clientBossPool = new NioClientBossPool(executor, clientBossCount);
NioServerBossPool serverBossPool = new NioServerBossPool(executor, serverBossCount);
NioWorkerPool workerPool = new NioWorkerPool(executor, workerCount);

ChannelFactory cscf = new NioClientSocketChannelFactory(clientBossPool, workerPool);
ChannelFactory sscf = new NioServerSocketChannelFactory(serverBossPool, workerPool);
...

ClientBootstrap cb = new ClientBootstrap(cscf);
ServerBootstrap sb = new ServerBootstrap(sscf); 
```

请注意，您不应`ChannelFactory`为您创建的每个引导实例创建一个新实例。你应该重用工厂。

在不同的连接之间共享工作池意味着客户端套接字和服务器套接字接受的套接字可以由属于工作池的同一 I/O 线程处理。假设这些通道的处理程序在被 I/O 线程调用时不会花费太多时间，这通常是一个好主意。

但是，如果某种类型的通道的处理程序比其他通道的处理程序花费更多的时间，您可能会观察到那些没有尽快轮到他们的通道的延迟响应。可以通过确保所有处理程序不阻塞并尽快完成其工作并快速返回来解决此问题。

# php - 使用 php 连接到 sql“服务器组”以在多个数据库上运行查询

> ID：15803097
> 
> 赞同：12
> 
> 时间：2013-04-04T05:22:20.603
> 
> 标签：php, sql, sql-server, sql-server-express

我正在尝试使用 PHP 连接到 MSSQL Server 组，并对视图执行选择查询。我可以从服务器连接并提取结果。我可以连接并从数据库中提取结果

使用注册服务器下的 MSSQL（左上角），您可以创建一个新的服务器组并将现有数据库添加为服务器注册，这允许单个查询在多个数据库上运行。我找不到有关如何从 PHP 连接到此的任何信息。

仅供参考：-设置服务器组：[https ://www.youtube.com/watch?v=bTz3OZKTdMg](https://www.youtube.com/watch?v=bTz3OZKTdMg)

我还尝试在每个数据库中创建一个视图，然后在一个数据库中创建一个将每个视图连接在一起的视图，它在管理工作室中工作，但我收到一个错误来自 PHP“未定义索引”

即db1：

```
Create View ffa 
```

数据库2：

```
Create view ffa 
```

:dblook

```
create view ffa as select * From db1.ffa union all select * From db2.ffa 
```

然后 php 查看 dblook.ffa 我得到一个连接但“未定义索引”错误？

我目前在 Express 上同时测试 SQL 和 Express 我更喜欢连接到服务器组选项（在管理工作室中似乎要快得多）但很高兴尝试任何其他解决方案

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-06-05T13:55:40.287

服务器组只是在 GUI 中对服务器进行分组的一种逻辑方式。它不是 SQL Server 数据库引擎的功能。

您指的是属于联邦数据库服务器概念的分区视图。

*   [联合数据库](http://msdn.microsoft.com/en-us/library/ms187075%28v=sql.105%29.aspx)
*   [分区视图](http://msdn.microsoft.com/en-us/library/ms190019%28v=sql.105%29.aspx)
*   [链接服务器](http://msdn.microsoft.com/en-us/library/ms188279.aspx)

基本上，使用链接服务器，您可以在将多个服务器联合在一起的每个数据库服务器上创建视图。然后负载平衡器可以指向任何数据库服务器。这仅发生在读取请求上，因为其他 CRUD 操作需要某种类型的路由。

# getjson - Highstock - 使用 JSON 从数据库中获取两个数据并使用 adderies 显示到图表中

> ID：15803102
> 
> 赞同：0
> 
> 时间：2013-04-04T05:23:02.033
> 
> 标签：getjson, highstock

我正在尝试使用 Highstock 来显示此示例中的图表。[JS小提琴](http://jsfiddle.net/gh/get/jquery/1.7.2/highslide-software/highcharts.com/tree/master/samples/stock/demo/candlestick-and-volume/)

我需要使用两个`JSON`代码，因为我想在我的数据库中显示来自不同表的两个数据。第一个数据是 OHLC 和体积。OHLC 和音量显示不同`yAxis`，就像上面的例子一样。

第二个数据是高低预测，我想将它与 OHLC 一起显示`yAxis`。虽然成交量保持不变（显示为`yAxis`与 OHLC 和预测不同）。

这是我到目前为止尝试过的代码，但它只显示 OHLC 和 Volume。不知何故，未添加预测数据。我认为`addSeries()`是问题所在。有人可以帮我吗？

谢谢你。

```
$.getJSON(url, function(data) {
    var ohlc = [];
    var volume = [];
    var dataLength = data.length;

    for (i = 0; i < dataLength; i++) {
        ohlc.push([
            data[i][0], // the date
            data[i][1],
            data[i][2],
            data[i][3],
            data[i][4] // open
        ]);

        volume.push([
            data[i][0], // the date
            data[i][5] // the volume
        ])
    }

    $('#container').highcharts('StockChart', {

        rangeSelector: {
            selected: 0,
        },

        title: {
            text: 'AAPL Historical'
        },

        yAxis: [{
            title: {
                text: 'OHLC'
            },
            height: 200,
            lineWidth: 2
        }, {
            title: {
                text: 'Volume'
            },
            top: 300,
            height: 100,
            offset: 0,
            lineWidth: 2
        }],

        series: [{
            type: 'candlestick',
            name: 'AAPL',
            data: ohlc,
        }, {
            type: 'column',
            name: 'Volume',
            data: volume,
            yAxis: 1,
        }]
    });
});

$.getJSON(urlprediction, function(data) {
    var forecast = [];
    var dataLength = data.length;

    for (i = 0; i < dataLength; i++) {
        forecast.push([
            data[i][0], // the date
            data[i][1],
            data[i][2], // open
        ])
    }

    var chart = $('#container').highcharts();
    chart.addSeries({
        type: 'arearange',
        name: 'ADBE',
        data: forecast,
    });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T12:11:33.310

In case when you get data by JSON secondly, you should not use var chart = $('#container').highcharts(); . I advice to use this construction:

```
$.getJSON(url, function(data) {
var ohlc = [];
var volume = [];
var dataLength = data.length;

for (i = 0; i < dataLength; i++) {
    ohlc.push([
        data[i][0], // the date
        data[i][1],
        data[i][2],
        data[i][3],
        data[i][4] // open
    ]);

    volume.push([
        data[i][0], // the date
        data[i][5] // the volume
    ])
}

var chart = $('#container').highcharts('StockChart', {

    rangeSelector: {
        selected: 0,
    },

    title: {
        text: 'AAPL Historical'
    },

    yAxis: [{
        title: {
            text: 'OHLC'
        },
        height: 200,
        lineWidth: 2
    }, {
        title: {
            text: 'Volume'
        },
        top: 300,
        height: 100,
        offset: 0,
        lineWidth: 2
    }],

    series: [{
        type: 'candlestick',
        name: 'AAPL',
        data: ohlc,
    }, {
        type: 'column',
        name: 'Volume',
        data: volume,
        yAxis: 1,
    }]
},function(chart){
$.getJSON(urlprediction, function(data) {
    var forecast = [];
    var dataLength = data.length;

    for (i = 0; i < dataLength; i++) {
        forecast.push([
        data[i][0], // the date
        data[i][1],
        data[i][2], // open
        ])
    }

    chart.addSeries({
        type: 'arearange',
        name: 'ADBE',
        data: forecast,
    });
    });

}); 
```

});

# docx - 使用 PHPword 和 simplehtmldom 转换后的 docx 文件中的额外行距

> ID：15803104
> 
> 赞同：0
> 
> 时间：2013-04-04T05:23:07.730
> 
> 标签：docx, fckeditor, simple-html-dom, phpword

我正在使用 PHPword 和 simplehtmldom 将 html 转换为 docx 格式。

我使用 fckeditor html 输出作为转换为 docx 的输入。单个换行符在 docx 转换文件中反映为多行。

我该如何解决 ？fckeditor 中使用的回车键是在 html 输出中添加一个标签。是否为 para 标记定义了任意数量的换行符。我该如何更改它或在哪里更改它。

请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T19:09:38.457

这应该会有所帮助：[http ://htmltodocx.codeplex.com/discussions/401122](http://htmltodocx.codeplex.com/discussions/401122)

或者

您可以注释掉：

```
$phpword_element->addTextBreak(); 
```

在第 357 行找到的 h2d_htmlconverter.php

# android - 如何为 Galaxy Nexus Note 2 创建 Avd？

> ID：15803105
> 
> 赞同：-1
> 
> 时间：2013-04-04T05:23:08.563
> 
> 标签：android

我想为 Galaxy Nexus Note 2 (5.5",Android OS 4.0 (Sandwitch)) 开发我的应用程序。

但我不明白如何在我的 Eclipse 中测试它。

我的设备定义中没有 Galaxy Note 选项。

如何创建它来测试我的应用程序，例如（Avd 创建和（图形布局设备选项））

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T05:29:41.420

您始终可以根据自己的要求创建自定义 AVD。

*   在 中的**设备定义选项卡**中单击**创建新设备**。**`AVD Manager`**
***   `AVD`提供要创建的详细信息。**

 **PS：没有设备名为 Galaxy Nexus Note 2。Nexus 或三星 Galaxy Note 2

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T05:32:38.553

如果设备未列出，我建议您克隆最相似的设备并手动更新新创建设备的规格。

/托马斯**

# java - 如何设置井字游戏项目的界面？

> ID：15803108
> 
> 赞同：1
> 
> 时间：2013-04-04T05:23:55.780
> 
> 标签：java, swing, jlabel, layout-manager

我正在尝试为井字游戏制作界面。我正在为我的 9 个字段使用 JLabels 方法。程序中没有错误，但有一些我不知道该怎么做。请阅读下面我的问题&请给我建议

```
 import javax.swing.*;
 import java.awt.*;
 import java.awt.geom.*;

 public class ticTac extends JFrame
   {
    static JLabel label0 = new JLabel();
    static JLabel label1 = new JLabel();
    static JLabel label2 = new JLabel();
    static JLabel label3 = new JLabel();
    static JLabel label4 = new JLabel();
    static JLabel label5 = new JLabel();
    static JLabel label6 = new JLabel();
    static JLabel label7 = new JLabel();
    static JLabel label8 = new JLabel();
    static JLabel[] choiceLabel = new JLabel[9];

    static ImageIcon burger = new ImageIcon("Cross.jpg");

 public static void main(String []args)
    {
        new ticTac().show();   
    }

 public ticTac()
    {
        setVisible(true);
        setSize(450,450);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);     

        getContentPane().setLayout(new GridBagLayout());
        GridBagConstraints myGrid = new GridBagConstraints();

        GridBagConstraints gridConstraints;
        choiceLabel[0] = label0;
        choiceLabel[1] = label1;
        choiceLabel[2] = label2;
        choiceLabel[3] = label3;
        choiceLabel[4] = label4;
        choiceLabel[5] = label5;
        choiceLabel[6] = label6;
        choiceLabel[7] = label7;
        choiceLabel[8] = label8; 
```

**此方法在水平行中绘制从 1 到 9 的标签，所以我不希望这样，我希望我的程序将在一行中绘制三个框，在第二行中绘制三个框和三个框。请帮我。**

```
 for (int i = 0; i < 9; i++)
            {
              gridConstraints = new GridBagConstraints();
              choiceLabel[i].setPreferredSize(new Dimension(burger.getIconWidth(), burger.getIconHeight()));
              choiceLabel[i].setOpaque(true);
              choiceLabel[i].setBackground(Color.RED);
              gridConstraints.gridx = i;
              gridConstraints.gridy = 0;
              gridConstraints.insets = new Insets(10, 10, 10, 10);
              getContentPane().add(choiceLabel[i], gridConstraints);

        pack();
        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();
        setBounds((int) (0.5 * (screenSize.width - getWidth())), (int) (0.5 * (screenSize.height - getHeight())), getWidth(), getHeight());
    }
}
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T05:33:29.847

你可以使用一个[`GridLayout`](http://docs.oracle.com/javase/tutorial/uiswing/layout/grid.html)

![在此处输入图像描述](https://i.stack.imgur.com/QAoYe.png)

```
import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.EventQueue;
import java.awt.GridBagConstraints;
import java.awt.GridLayout;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.UIManager;
import javax.swing.UnsupportedLookAndFeelException;
import static tictactoe.TicTacToe.choiceLabel;

public class LayoutTicTacToe {

    public static void main(String[] args) {
        new LayoutTicTacToe();
    }

    public LayoutTicTacToe() {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {
                }

                JFrame frame = new JFrame("Testing");
                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                frame.setLayout(new GridLayout(3, 3, 10, 10));

                choiceLabel[0] = new JLabel("_");
                choiceLabel[1] = new JLabel("_");
                choiceLabel[2] = new JLabel("_");
                choiceLabel[3] = new JLabel("_");
                choiceLabel[4] = new JLabel("_");
                choiceLabel[5] = new JLabel("_");
                choiceLabel[6] = new JLabel("_");
                choiceLabel[7] = new JLabel("_");
                choiceLabel[8] = new JLabel("_");

                for (int i = 0; i < 9; i++) {
                    choiceLabel[i].setText("_");
                    choiceLabel[i].setHorizontalAlignment(JLabel.CENTER);
                    choiceLabel[i].setVerticalAlignment(JLabel.CENTER);
                    choiceLabel[i].setOpaque(true);
                    choiceLabel[i].setBackground(Color.RED);
                    frame.add(choiceLabel[i]);
                }
                frame.pack();
                frame.setLocationRelativeTo(null);
                frame.setVisible(true);
            }
        });
    }
} 
```

或者，如果你真的坚持`GridBagLayout`...

```
import java.awt.Color;
import java.awt.EventQueue;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.Insets;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.UIManager;
import javax.swing.UnsupportedLookAndFeelException;
import static tictactoe.TicTacToe.choiceLabel;

public class LayoutTicTacToe {

    public static void main(String[] args) {
        new LayoutTicTacToe();
    }

    public LayoutTicTacToe() {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {
                }

                JFrame frame = new JFrame("Testing");
                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                frame.setLayout(new GridBagLayout());

                choiceLabel[0] = new JLabel("_");
                choiceLabel[1] = new JLabel("_");
                choiceLabel[2] = new JLabel("_");
                choiceLabel[3] = new JLabel("_");
                choiceLabel[4] = new JLabel("_");
                choiceLabel[5] = new JLabel("_");
                choiceLabel[6] = new JLabel("_");
                choiceLabel[7] = new JLabel("_");
                choiceLabel[8] = new JLabel("_");

                GridBagConstraints gbc = new GridBagConstraints();
                gbc.insets = new Insets(10, 10, 10, 10);
                int col = 0;
                int row = 0;
                for (int i = 0; i < 9; i++) {
                    gbc.gridx = col;
                    gbc.gridy = row;
                    choiceLabel[i].setText("_");
                    choiceLabel[i].setHorizontalAlignment(JLabel.CENTER);
                    choiceLabel[i].setVerticalAlignment(JLabel.CENTER);
                    choiceLabel[i].setOpaque(true);
                    choiceLabel[i].setBackground(Color.RED);
                    frame.add(choiceLabel[i], gbc);
                    col++;
                    if (col > 2) {
                        col = 0;
                        row++;
                    }
                }
                frame.pack();
                frame.setLocationRelativeTo(null);
                frame.setVisible(true);
            }
        });
    }
} 
```

**更新反馈**

只是一些友好的反馈...

*   扩展真的没有意义`JFrame`，你没有为它的功能添加任何重要的东西。最好使用`JPanel`，然后将其添加到`JFrame`. 如果不出意外，您现在可以选择将其添加到您喜欢的任何其他容器中。
*   在大多数情况下，不需要使用`JFrame#getContentPane`（除非您使用的是 Java 1.4 或更低版本），因为`setLayout`和`add`（在一大堆其他人中）被映射为`getContentPane`直接使用。
*   如果要将框架置于屏幕中间，请使用`setLocationRelativeTo(null)`. 使用起来更简单。`setBounds`如果可以的话，尽量避免使用。
*   您应该确保您的 UI 是在事件调度线程的上下文中启动的。查看[初始线程](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html)以获取更多详细信息

# wordpress - paginate_links 不显示第二页

> ID：15803110
> 
> 赞同：3
> 
> 时间：2013-04-04T05:23:58.070
> 
> 标签：wordpress, blogs

我想创建一个博客页面，每页仅显示 5 个帖子，如果有 7 个帖子，最后两个帖子将显示在第二页上。

这是我到目前为止所得到的：

```
<div style="float:left; padding-top: 20px;">
<?php
    $args = array( 'numberposts' => '','post_status'=>"publish",'post_type'=>"post",'orderby'=>"post_date", 'cat'=>1,'paged' => get_query_var('paged'));
    $postslist = get_posts( $args );
    foreach ($postslist as $post) : setup_postdata($post); 
?>
<div style="float:left;" class="three columns">

    <label style="color:#DB6903;"><?php the_date(); ?></label>
    <?php the_author(); ?><br>
    <?php comments_number(); ?>

    <div style="clear:both;"></div>
</div>

<div style="float:left; padding-top: 10px; " class="eight columns" >

    <a href="<?php the_permalink() ?>" target="_parent" style="color: black;">
        <h2 style="font-size: 28px;"><?php the_title(); ?></h2>
    </a>
    <div class="entry-summary">
        <p>         <?php the_excerpt(); ?></p>

    </div>
        <img src="wp-content/themes/quaero/images/grey_divider" width="100%"  alt="divider" />
</div>

<div style="clear:both;"></div>

<?php endforeach; ?>
</div><aside style="float:left; padding-left: 20px;" class="one-third columns">
    <?php get_sidebar(); ?>
</aside><div style="clear:both;"></div><?php posts_nav_link(); ?> 
```

当我单击第二页时，它不显示最后两个帖子。它仍然显示前 5 个帖子。我怎样才能解决这个问题？

更新：现在`posts_nav_link()`有效。但是即使在第二页之后，导航也会显示“«上一页下一页»”。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T05:41:59.513

您的查询`$args`不包含分页参数。

```
$args = array( 'numberposts' => '','post_status'=>"publish",'post_type'=>"post",
  'orderby'=>"post_date", 'cat'=>1,'paged' => get_query_var('paged')); 
```

# java - 我怎样才能写这个正则表达式反转？

> ID：15803112
> 
> 赞同：0
> 
> 时间：2013-04-04T05:24:01.047
> 
> 标签：java, regex

我正在尝试搜索此字符串“Spelled [wurd] Show IPA noun 1.a”

并使用以下方法删除 [ ] 之外的所有内容：

```
String pron = noHTML.replaceAll("\\[.*?]","");  //(there is a double \\ \\ here...) 
```

这取代了里面的一切..如何扭转它？:S

我试过组合！和 ^ 但它似乎没有工作。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T06:10:17.610

我只需将整个字符串替换为括号中的部分：

```
String pron = noHTML.replaceAll(".*?\\[(.*?)\\].*", "$1"); 
```

这 (1) 匹配整个字符串，(2) 捕获括号中的部分并将其存储在第一个捕获组中，并且 (3) 使用该组作为整个匹配字符串的替换。

在结果中包含括号只是一个问题或`()`向外移动一点：

```
String pron = noHTML.replaceAll(".*?(\\[.*?\\]).*", "$1"); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T05:30:06.647

试试这个 -

```
String pron = noHTML.replaceAll("(^.*\\[)|(\\].*$)",""); 
```

要包含括号，请使用*前瞻*和*后视*-

```
String pron = noHTML.replaceAll("(^.*(?=\\[))|((?<=\\]).*$)",""); 
```

有关*lookahead*和*lookbehind*的更多信息，请参阅[http://www.regular-expressions.info/lookaround.html](http://www.regular-expressions.info/lookaround.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T05:44:29.917

你需要这个：

```
String pron = noHTML.replaceAll("\[([^\[\]].*)\]",""); 
```

这里：

[http://rubular.com/r/95ETge7Pyv](http://rubular.com/r/95ETge7Pyv)

# python - 如何使用字典功能？

> ID：15803113
> 
> 赞同：7
> 
> 时间：2013-04-04T05:24:07.103
> 
> 标签：python, dictionary

我有字典

```
d = {'a':3, 'b':7, 'c':8} 
```

我想知道如何反转字典的顺序以使其看起来像这样：

```
d = {3:'a', 7:'b', 8:'c'} 
```

我想这样做，而不仅仅是这样写。有没有办法我可以使用第一个字典来获得新的结果？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-04T05:25:55.427

是的。您可以调用`items`字典以获取（键，值）对的列表。然后您可以反转元组并将新列表传递给`dict`：

```
transposed = dict((value, key) for (key, value) in my_dict.items()) 
```

Python 2.7 和 3.x 也有字典解析，这使它更好：

```
transposed = {value: key for (key, value) in my_dict.items()} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T06:08:18.477

```
transposed = dict(zip(d.values(), d)) 
```

# casting - 在 EntityDataSource 中连接两个 DataTime 字段

> ID：15803115
> 
> 赞同：2
> 
> 时间：2013-04-04T05:24:24.313
> 
> 标签：casting, entitydatasource, entity-sql

我有两个 Edm.DateTime 类型的字段。如何获得 h:mm 格式的时间并将它们连接到 EntityDataSource 的 CommandText 中：“01/02/2013 3:15 AM 和 01/02/2013 4:15 AM”应该是“15:15-16:15 " 我找到了 concat 的演员表，这是正确的解决方案：

```
CommandText="SELECT  CAST([DoctorAppointment].[Start] AS System.String) + '--'+ CAST([DoctorAppointment].[End] AS System.String) 
         as Name FROM  DatabaseEntities.DoctorAppointments as DoctorAppointment" 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-02-06T14:03:35.557

```
Select="String.Format(it.[interview_start_date], 'dd/ MM/ YYYY') as Display, 
```

这对我有用。

# windows - 使用批处理文件设置墙纸目录

> ID：15803116
> 
> 赞同：1
> 
> 时间：2013-04-04T05:24:25.860
> 
> 标签：windows, command-line, batch-file, desktop-application, wallpaper

我正在开发一个简单的应用程序，它从服务器下载桌面壁纸并将图像保存在`Wallpaper Downloads`. 我想将此目录设置为我的墙纸目录，正如我们在`Control Panel\Appearance and Personalization\Personalization\Desktop Background`. 我的意思是我想将此文件夹中的每个图像设置为我的壁纸一段时间，就像在`personalization`. 我已经看到将一张图像设置为墙纸但整个文件夹都没有设置的代码，这不可能吗？就像`Windows Personalization`我们可以浏览壁纸文件夹，然后将其中的所有图像设置为我们的壁纸，它们会随着指定的时间量而变化。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:59:01.973

`HKEY_CURRENT_USER\Control Panel\Desktop\WallPaper` 存储当前壁纸位置。

最简单的方法是设置该注册表值以查找“wallpaper.jpg”，然后以数字方式命名目标文件夹中的所有图像。使用一个简单的循环批处理文件，将一个数字读入批处理文件，添加一个，除非它是您拥有的最后一个图像的编号，然后将该数字写回文本文件。然后将具有该编号的文件的名称更改为“wallpaper.jpg”。然后使用任务计划程序让批处理文件间隔运行。我的电脑上有一个，每次登录时都会更改登录壁纸。

这是一个示例批处理脚本。

```
@echo off
cd C:\Users\kenneth\wallpapers\logon
set n=
set /p n=<numb.txt
move .\background.jpg .\%n%.jpg
if %n% == 30 set n=0
set /a n=%n%+1
move .\%n%.jpg .\background.jpg
ECHO %n%>numb.txt 
```

在这个例子中，我有 30 张 jpg 图像，编号为 1-30。您必须将第六行中的值调整为您拥有的文件数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-04-24T04:16:44.283

iCodeSometimes 代码片段的一个小改进（@admins：pwese 移至评论）：您可以检查文件是否存在，如果不存在，则重置计数器，而不是维护文件夹中的最大图片数量。就像是

```
if not exist "%n%.*" set n=0 
```

# javascript - 动态多下拉 Javascript Ajax

> ID：15803119
> 
> 赞同：0
> 
> 时间：2013-04-04T05:24:39.160
> 
> 标签：javascript, ajax

我想知道是否可以做一个动态下拉列表。假设我`got 3 dynamic dropdown`的值为三个用户，我希望它灵活。

`e.g`：

```
dropdown1 : UserA, UserB and UserC

dropdown2 : UserA, UserB and UserC

dropdown3 : UserA, UserB and UserC 
```

`if selected from dropdown1 = UserC, dropdown2 and dropdown3 will list out the remaining user UserA and UserB, and at the same time when selected from dropdown3 = UserA then the dropdown1 listed 2 user = UserB and UserC and dropdown2 will list only 1 user UserB.`

我知道这很棘手，但是可以使用 javascript 或使用 AJAX 创建吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T05:45:47.687

试试下面的代码，当有人再次选择第一个项目时，您可能需要添加逻辑来添加未选择的项目

```
<HTML>
    <BODY>
        <FORM name="addproductfrm" id="addproductform" method="POST" action="/storeproduct">
            <select name="dropdown1" id="dropdown1" onchange="removeSelectedItem(this)">
                <option value="">-- Select --</option>
                <option value="User A">User A</option>
                <option value="User B">User B</option>
                <option value="User C">User C</option>
            </select>

            <select name="dropdown2" id="dropdown2" onchange="removeSelectedItem(this)">
                <option value="">-- Select --</option>
                <option value="User A">User A</option>
                <option value="User B">User B</option>
                <option value="User C">User C</option>
            </select>

            <select name="dropdown2" id="dropdown2" onchange="removeSelectedItem(this)">
                <option value="">-- Select --</option>
                <option value="User A">User A</option>
                <option value="User B">User B</option>
                <option value="User C">User C</option>
            </select>
        </FORM>
    </BODY>

    <script type="text/javascript">
    function removeSelectedItem(selectedItem)
    {
        var selectedValue = selectedItem.options[selectedItem.selectedIndex].value
        console.log(selectedValue);
        var selectBoxes = document.getElementsByTagName("select");

        for (var i=0; i < selectBoxes.length; i++)
        {
            var curValue = selectBoxes[i].options[selectBoxes[i].selectedIndex].value

            for (var j=1; j < selectBoxes[i].options.length; j++)
            {
                if (j != selectBoxes[i].selectedIndex && selectBoxes[i].options[j].value == selectedValue)
                    selectBoxes[i].remove(j);
            }
        }
    }
    </script>
</HTML> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:38:49.933

检查这个

```
 Select User:<select name="userSelect" id="first">
    <option value="">-- Select --</option>
    <option value="userA">userA</option>
    <option value="userB">userB</option>
    <option value="userC">userC</option>
    </select>
    Select User:<select name="userSelect" id="second">
    <option value="">-- Select --</option>
    <option value="userA">userA</option>
    <option value="userB">userB</option>
    <option value="userC">userC</option>
    </select>
    Select User:<select name="userSelect" id="third">
    <option value="">-- Select --</option>
    <option value="userA">userA</option>
    <option value="userB">userB</option>
    <option value="userC">userC</option>
    </select>

     <script>
     $(document).ready(function() {
     $("select[name=userSelect]").change(
     function() {
     var all = [];
     var arrId=$("select[name=userSelect]");
     for(i=0;i<arrId.length;i++){
    //alert($(arrId[i]).attr('id'));
    all.push($(arrId[i]).attr('id'));
     }

    var index = all.indexOf($(this).attr('id'));
    all.splice(index, 1);
    for(i=0;i<all.length;i++){
    $('#'+all[i]+'').find("[value="+$(this).val()+"]").remove();
    }
   //var selectId=$(this).attr('id');
    //var selectedVal=$(this).val();
    //alert( $(this).val());
            });
     });

   </script> 
```

.但它没有像你提到的那样重新计算值尝试改变相同的......

# css - 过滤器：模糊（1px）；不适用于 Firefox、Internet Explorer 和 Opera

> ID：15803122
> 
> 赞同：31
> 
> 时间：2013-04-04T05:24:54.327
> 
> 标签：css, internet-explorer, firefox, browser, opera

我的 CSS 有问题。当我尝试做

```
-webkit-filter: blur(1px);
-moz-filter: blur(1px);
-ms-filter: blur(1px);
-o-filter: blur(1px);
filter: blur(1px); 
```

它在 Safari 和 Chrome 中看起来很完美，但在 Firefox、Opera 或 Internet Explorer 中根本不会出现模糊。那些浏览器支持吗？还是有另一种让整个页面模糊的方法？

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2013-04-04T14:00:13.107

尝试使用 SVG 过滤器。

```
img {
  filter: blur(3px);
  -webkit-filter: blur(3px);
  -moz-filter: blur(3px);
  -o-filter: blur(3px);
  -ms-filter: blur(3px);
  filter: url(#blur);
  filter: progid:DXImageTransform.Microsoft.Blur(PixelRadius='3');
}
```

```
<img src="https://i.stack.imgur.com/oURrw.png" />

<svg version="1.1" xmlns="http://www.w3.org/2000/svg">
   <filter id="blur">
       <feGaussianBlur stdDeviation="3" />
   </filter>
</svg>
```

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2014-10-23T10:09:53.527

```
filter: blur(3px);
-webkit-filter: blur(3px);
-ms-filter: blur(3px);
filter: url("data:image/svg+xml;utf9,<svg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'><filter%20id='blur'><feGaussianBlur%20stdDeviation='3'%20/></filter></svg>#blur");
filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius='3'); 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2015-08-06T00:36:30.427

这是一种新颖的模糊技术，适用于所有浏览器**（包括 Internet Explorer 10/11）**，不需要过滤器、画布或 JavaScript。

基本技术是缩小图像大小，然后在父级上使用 3D 缩放矩阵来缩放回全尺寸。这有效地对图像进行下采样并产生粗略的模糊效果。

```
body {
  font-family: Verdana;
  font-size: 14px;
  font-weight: bold;
}

.container {
  height: 500px;
  width: 500px;
  position: relative;
  overflow: hidden;
}

#image {
  background-image: url('http://i.imgur.com/HoWL6o3.jpg');
  background-size: contain;
  background-repeat: no-repeat;
  height: 100%;
  width: 100%;
  position: absolute;
}

#image.blur {
  transform: matrix3d(1, 0, 0, 0,
                      0, 1, 0, 0,
                      0, 0, 1, 0,
                      0, 0, 0, 0.05);
  background-size: 0 0;
}

#image.blur:before {
  transform: scale(0.05);
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  content: '';
  background-image: inherit;
  background-size: contain;
  background-repeat: inherit;
}
```

```
<div class="container">
  <div id="image" class="blur"></div>
</div>
```

演示： [http ://codepen.io/rkogan/pen/jPdGoM/](http://codepen.io/rkogan/pen/jPdGoM/)

* * *

## 回答 #4

> 赞同：7
> 
> 时间：2016-11-10T16:20:10.497

我尝试了上述所有方法，但像往常一样，Internet Explorer / Microsoft Edge 想要以不同的方式做事，所以我无法让它保持一致。

最后，我不得不跳过一系列的障碍，让它在所有现代浏览器中按我想要的方式工作：

1.  使用已经提到的 CSS，这样它就可以在非 IE 浏览器上运行，而不会产生我必须用于 IE 的修复开销：

    ```
    -webkit-filter: blur(1px);
    -moz-filter: blur(1px);
    -ms-filter: blur(1px);
    -o-filter: blur(1px);
    filter: blur(1px); 
    ```

2.  检测 Internet Explorer / Microsoft Edge 是否正在使用[此 JavaScript](https://stackoverflow.com/questions/19999388/check-if-user-is-using-ie-with-jquery#21712356)（感谢 Mario）。

3.  如果检测到 Internet Explorer / Microsoft Edge，则将图像加载到`img`页面上的隐藏字段中。您必须使用该`onload`函数执行此操作，以[确保在](https://stackoverflow.com/questions/2342132/waiting-for-image-to-load-in-javascript#2342181)操作之前已加载图像，否则下一步将失败（感谢 Josh Stodola）：

    ```
    var img = new Image();
    img.onload = function() { blurTheImage(); }
    img.src = "http://path/to/image.jpg"; 
    ```

4.  使用适用于 IE 和 Edge 的[StackBlur](http://quasimondo.com/StackBlurForCanvas/StackBlurDemo.html) JavaScript（感谢 Mario Klingemann）。该图像应由 CORS 提供。

    HTML：

    ```
    <div id="ie-image-area" style="display: none;">
        <img id="ie-image"/>
        <canvas id="ie-canvas"></canvas>
    </div> 
    ```

    JavaScript：

    ```
    function blurTheImage() {
        $("#ie-image").attr("src", "http://path/to/image.jpg");
        StackBlur.image('ie-image', 'ie-canvas', 1, false);
    } 
    ```

5.  碰巧我想设置为背景，所以我必须在设置数据之前转换图像（感谢[user3817470](https://stackoverflow.com/questions/2924837/jquery-and-canvas-todataurl#24637939)）：

    ```
    imageLinkOrData = document.querySelector('#ie-canvas').toDataURL("image/png");
    $('#background-image').css('background-image', 'url(' + imageLinkOrData + ')'); 
    ```

6.  加载并模糊后，我[使用 CSS 和透明度类](http://css3.bradshawenterprises.com/cfimg/)将其淡化，因为 jQuery`fadeTo`看起来不太好（感谢 Rich Bradshaw）：

    ```
    $('#background-image').toggleClass('transparent'); 
    ```

唷，我想我需要茶歇（或者更强烈的东西！）。

它的工作示例（感谢 Alex78191）：

```
function detectIE() {
  return navigator.userAgent.search(/MSIE|Trident|Edge/) >= 0;
}

let image = document.querySelector('#img-for-blur');
image.src = image.getAttribute('data-src');
if (detectIE()) {
  image.onload = function() {
    StackBlur.image('img-for-blur', 'ie-canvas', 4, false);
  };
} else {
  image.style.display = 'block';
}
```

```
img {
  filter: blur(4px);
  display: none;
}
```

```
<script src="https://cdnjs.cloudflare.com/ajax/libs/stackblur-canvas/1.4.0/stackblur.js"></script>
<img id="img-for-blur" data-src="https://i.stack.imgur.com/oURrw.png">
<canvas id="ie-canvas"></canvas>
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2013-04-04T05:28:07.343

这听起来很对，目前支持：

*   铬 18+
*   适用于 Android 25+ 的 Chrome
*   野生动物园 6+
*   iOS Safari 6+
*   黑莓浏览器 10+

[参考](http://caniuse.com/css-filters)

[这是](http://davidwalsh.name/css-image-filters-internet-explorer)David Walsh（在 Mozilla 工作）关于 Internet Explorer 特定过滤器的文章，例如 t 运动模糊：

```
.blur { filter:blur(add = 0, direction = 300, strength = 10); } 
```

看起来正常的模糊支持在 Internet Explorer 上是不完整的，我并不感到惊讶，尤其是 9 之前的版本。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-04-04T06:23:47.483

您可以在基于 Gecko 的浏览器中执行 SVG 模糊过滤器。但是你上面的东西是仅限 WebKit 而不是标准化的，所以没有其他人支持它。

# ios - 如何在 Objective c 中使用 SAP WSDL 服务？

> ID：15803124
> 
> 赞同：3
> 
> 时间：2013-04-04T05:25:02.033
> 
> 标签：ios, objective-c, wsdl, sap

要使用 WSDL 服务，我指的是来自[http://code.google.com/p/wsdl2objc/wiki/UsageInstructions](http://code.google.com/p/wsdl2objc/wiki/UsageInstructions)的代码。我的代码是

```
 ZESRV_PM_SEARCH_PARAMETERS *binding = [[ZESRV_PM_SEARCH_PARAMETERS alloc] initWithAddress:urlString]; 
   binding.logXMLInOut = YES;
   binding.authUsername = username; 
   binding.authPassword = password;

   NSMutableArray *array=[[NSMutableArray alloc]init];
   [array addObject:@"Karama"];
   [array addObject:@"Commercial"];
   [array addObject:@"Industrial"];

   ZESRV_PM_SEARCH_PARAMETERSSvc_TableOfZesrvLocation *request = [[ZESRV_PM_SEARCH_PARAMETERSSvc_TableOfZesrvLocation alloc] init];

   request.item=array;

   ZESRV_PM_SEARCH_PARAMETERSResponse *response = [binding ZesrvPmSearchParametersUsingParameters:request];
   NSLog(@"response %@",response);

   NSError * responseError = response.error;

   NSLog(@"responseError %@",responseError);

   NSArray *array=response.bodyparts;

   dispatch_async(dispatch_get_main_queue(), ^{
       [self processResponse:response];
   }); 
```

在这里我得到响应，响应错误为 Null。但我得到 response.bodypart 也是 NULL。为什么响应 bodyparts 得到 Null？

有谁能够帮我。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-01T11:40:21.137

我没有使用 wsdl2Objc，因为我为此编写了自己的代码。但是[wsdl2code](http://www.wsdl2code.com/pages/home.aspx)是一个更好的使用 Soap 的库。

# c# - 更改在 html 文件中定义的复选框的值，显示在 webbrowser 中，webbrowser 在用户控件中定义

> ID：15803135
> 
> 赞同：0
> 
> 时间：2013-04-04T05:25:33.960
> 
> 标签：c#, user-controls, webbrowser-control

我一直在尝试更改 html 文件中定义的复选框控件的值，此 html 文件显示在 webbrowser 控件中，并且 webbrowser 本身在 C# 中被定义为用户控件我愿意设置复选框的值来自包含我的用户控件的表单中的控件（在html文件和用户控件中定义）用户控件中的相关代码：

```
 public bool _checkBoxProperty
    {
        set
        {
            if (webBrowser1.Document != null && webBrowser1.Document.GetElementById("Checkbox1") != null)
            {
                bool s = false;
                string chpro = webBrowser1.Document.GetElementById("Checkbox1").GetAttribute("checked").ToString();
                if (chpro == "false")
                    s = false;
                s = value;
                webBrowser1.Document.GetElementById("Checkbox1").SetAttribute("checked", value.ToString());
            }
        }
        get
        {
            if (webBrowser1.Document != null && webBrowser1.Document.GetElementById("Checkbox1") != null)
            {
                {
                    string bls = webBrowser1.Document.GetElementById("Checkbox1").GetAttribute("checked");
                        return Convert.ToBoolean(bls);
                }
            }
            else
                return false;
        }
    } 
```

这段代码在我的表单中带来了 checkbox 属性，我可以设置它的值，但是当我运行程序时它会将自身重置为 null，我已经在这段代码上工作了好几天，我非常感谢一些帮助:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-11T09:01:38.523

您可以简单地做到这一点，在用户控件中设置 web-browser`Modifiers`属性`Public`：

在您的表单中，您可以直接访问网络浏览器：像这样：

```
 private void Form1_Load_1(object sender, EventArgs e)
    {
        userControl11.usercontrolbrowser.DocumentText="htmlfile";
        userControl11.usercontrolbrowser.DocumentCompleted += new WebBrowserDocumentCompletedEventHandler(usercontrolbrowser_DocumentCompleted);
    }

    void usercontrolbrowser_DocumentCompleted(object sender, WebBrowserDocumentCompletedEventArgs e)
    {
        //get
        userControl11.usercontrolbrowser.Document.GetElementById("Checkbox1").GetAttribute("checked");
        //set
        userControl11.usercontrolbrowser.Document.GetElementById("Checkbox1").SetAttribute("checked",true or false value);
    } 
```

在 OOP 中：

## 用户控制代码

```
 public partial class UserControl1 : UserControl
    {
        public UserControl1()
        {
            InitializeComponent();
        }

        public bool _checkBoxProperty
        {
            get
            {
                if (usercontrolbrowser.Document != null)
                {
                    return Convert.ToBoolean(usercontrolbrowser.Document.GetElementById("Checkbox1").GetAttribute("checked"));
                }
                else
                {
                    return false;//error
                }
            }

            set
            {
                if (usercontrolbrowser.Document != null)
                {
                    usercontrolbrowser.Document.GetElementById("Checkbox1").SetAttribute("checked", value.ToString());
                }
            }
        }
        public void DocHtml(string dochtml)
        {
            usercontrolbrowser.DocumentText = dochtml;
        }

    } 
```

## 表格代码

```
private void Form1_Load_1(object sender, EventArgs e)
{
    userControl11.DocHtml("htmlfile");
}

private void getcheckbox()
{
    var getval= userControl11._checkBoxProperty;
    userControl11._checkBoxProperty = false;//set value
} 
```

# .net - 在 xml 中读取 Cdata 部分

> ID：15803138
> 
> 赞同：1
> 
> 时间：2013-04-04T05:25:49.540
> 
> 标签：.net, xml

我正在开发 Metro 应用程序，我正在读取一个 xml 文件并显示它。

我能够读取 xml 文件，但只读取标签值。我需要阅读 xml 的 cdata 部分。

我可以在 的帮助下实现这一点，`FileOpenPicker`但它会打开所有特定类型的文件，并允许用户选择一个我不想要的文件。

我想直接`.xml`在指定位置打开文件。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:33:00.900

这是 C# 示例：

```
XElement xElement = XElement.Load(yourXMLfile);  
var queryCDATAXML = from element in XTemp.DescendantNodes()
                    where element.NodeType == System.Xml.XmlNodeType.CDATA
                    select element.Parent.Value.Trim(); 
```

# css - CSS 中的背景图像不适用于三星电视 SDK 2011 模型/模拟器

> ID：15803140
> 
> 赞同：0
> 
> 时间：2013-04-04T05:25:50.303
> 
> 标签：css, image, sdk, television

我正在三星电视 SDK 上制作应用程序，我正在尝试使用 CSS 上的背景图像显示图像，但它在 2011 模型/模拟器上没有得到尊重。我知道我可以在 html 上使用，但我需要将它放在我的 js 文件中。我怎样才能做到这一点？任何替代解决方案？任何帮助将不胜感激！谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:59:48.090

我能够解决这个问题并分享答案......在能够在 js 文件上使用图像时使用这个：

```
var image_name = "image.png";
$('#Sceneid').html('<img src="' + image_name + '"/>'); 
```

就是这样！HTML 5 不适用于 2011 型号。

# c - 在linux中找不到namei.c或super.c等

> ID：15803141
> 
> 赞同：0
> 
> 时间：2013-04-04T05:25:53.343
> 
> 标签：c, linux, filesystems, kernel

研究 linux 文件系统，尝试复制现有的 fs 并对其进行修改并将其挂载回 linux，并最终创建一个简单的文件系统。

这里的问题是我找不到文件系统的所有源文件。

正如谷歌所说，它们应该位于 /linux/fs/ext2/，但我看到的唯一文件是 Makefile。我已经搜索了整个文件系统磁盘，没有任何结果。

我尝试过的系统是 3 个 Ubuntu，1 个 redhat，它们都有内核 2.6

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T13:05:21.883

从“kernel.org”下载内核源代码，然后用“tar xfz”解压，然后你可以在“fs”下找到请求的“c”程序

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T18:12:49.760

除非性能绝对优越，否则最好编写一个用户模式文件系统模块，查看[fuse](http://fuse.sourceforge.net/)。

文件系统开发*很难*。要了解那里发生的事情，也许可以看看 Valerie Aurora 在[LWN](http://lwn.net)上的文章：UnionFS [part I](http://lwn.net/Articles/325369/)，[part II](http://lwn.net/Articles/326818/)。她在那里写了一些其他的，都值得一读。[也许还可以从这里](http://lwn.net/Articles/342892/)开始检查 BTRFS 。请注意，BTRFS 已经进行了 5 年多的密集开发，并且还远远没有被认为足够稳定以供个人实验使用......

# r - 如何在多面板格子图形 bwplot 中添加点？

> ID：15803149
> 
> 赞同：0
> 
> 时间：2013-04-04T05:26:18.990
> 
> 标签：r, lattice

我正在使用 bwplot 在 Lattice 中制作盒须图。我想为手段加分。我已经想出如何使用`panel.points`. `+`但是，当我使用and制作多面板 bwplot 时`outer=TRUE`，我不知道如何在不同的面板中放置不同的点。此示例说明了我尝试的解决方案的问题，该解决方案不起作用。（为了简单起见，它将“x”放在任意点而不是平均值。）

```
# make some data:
df <- data.frame(var1=rnorm(20), var2=runif(20), cat=rep(c("Z"),20))
# cat isn't doing anything, but I couldn't get the mwe to work without it.

bwplot(var1 + var2 ~ cat, data=df, pch="|", coef=0, outer=TRUE, 
       panel=function(data, ...){
         panel.bwplot(...)
         panel.points(x=c(.5,-.5), pch="x", cex=2)
       }
      ) 
```

（`outer=T`结合`var1 + var2`是导致创建两个面板的原因。有关更简单的示例，请参见下文。）

我得到的是两个面板，每个面板都有一个盒须图。“x”被放置在每个图上。在每个面板中，绘图上方 0.5 处都有一个“x”。与在第二个面板中使用 -.5 不同，该过程重新开始 - Lattice 再次抓取第一个点 0.5。

如何在不同面板的图上显示不同的点？

谢谢。

`+`后来补充：我现在意识到这个问题与`outer=TRUE`本身无关。使用常规 Lattice 条件可以得到相同的行为：

```
df <- data.frame(var1=rnorm(20), cat=rep("Z",20), cat2=rep(c("M","F"), 10))

bwplot(var1 ~ cat | cat2, data=df, pch="|", coef=0, outer=TRUE, 
           panel=function(data, ...){
             panel.bwplot(...)
             panel.points(x=c(.5,-.5), pch="x", cex=2)
           }
          ) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T19:33:28.637

您应该使用访问函数`panel.number()`来选择`x`每个面板的值：

```
df <- data.frame(var1=rnorm(20), cat=rep("Z",20), cat2=rep(c("M","F"), 10))

bwplot(var1 ~ cat | cat2, data=df, pch="|", 
           panel=function(...){
             panel.bwplot(...)
             panel.points(x=c(.5,-.5)[panel.number()], 
                          pch="x", cex=2)
           }
          ) 
```

编辑：但是，如果你想为手段加分，你真的不需要`panel.number`. 您可以定义一个`panel.mean`函数（按照[Deepayan 的示例](https://stat.ethz.ch/pipermail/r-help/2005-November/081980.html)）来计算和绘制它们：

```
panel.mean <- function(x, y, ...) {
    tmp <- tapply(y, factor(x), FUN = mean)
    panel.points(tmp, pch = 20, ...)
}

bwplot(var1 ~ cat | cat2, data=df,
       panel=function(...){
           panel.bwplot(..., pch='|')
           panel.mean(...)
           }
) 
```

# asp.net - 字符串或二进制数据将被截断。该语句已终止

> ID：15803151
> 
> 赞同：0
> 
> 时间：2013-04-04T05:26:29.380
> 
> 标签：asp.net

在我的 Web 应用程序中，我使用加密将密码存储在数据库中。密码字段的数据类型是 nvarchar(max)。即使我输入了 10 个字符的密码，例如“8427484274”，我也会收到错误消息。我通过搜索知道这是当我们尝试存储数据超过数据类型的容量时得到的错误。我想澄清的一件事是我的加密字符串中有'='符号......在那里数据类型有任何问题吗？如果是最大的数据类型，那么 varchar(8000)，我也尝试过，但仍然出现错误。如何解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T05:33:23.017

尝试 varchar(max)... 表示超过 8000...所以应该很好...也许您将值传递给存储过程并且其参数长度无效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T05:41:28.103

怀疑问题在于从应用程序传递值。检查命令参数的数据类型和长度。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T12:42:20.767

您是否有机会在数据中引用？会导致不好的事情发生。我通常做一个 string.Replace('''', '''''') 将单引号转换为双引号。

尝试在调试器中再次运行它，看看 cmd.commandtext 的值是什么。将它放在此处的响应中，以便我们可以看到实际运行的内容。

# r - 查看环境中可用的 S3 泛型方法

> ID：15803154
> 
> 赞同：7
> 
> 时间：2013-04-04T05:27:05.133
> 
> 标签：r, generics, methods, amazon-s3

抱歉，如果在这里遗漏了一些明显的东西......有没有办法提前查看当前环境中当前存在哪些 S3 泛型方法（例如`<environment: R_GlobalEnv>`。所有当前泛型方法的列表都`R`可以，但我似乎找不到一。

我问的原因是我`methods`为 a定义了`class`一些，其中一些已经是通用的 S3 方法，所以我想提前知道，而不必手动检查每个方法。

例如：

```
isGeneric("mean")
>TRUE

isGeneric("quantile")
>FALSE 
```

目前我最接近的是：

```
ls(,all.names=TRUE)[sapply(ls(, all.names=TRUE), FUN=isGeneric)] 
```

如果我已经定义了一个方法（但没有给出其他潜在的通用方法）并且当我在新`R`会话中将它作为第一个命令给出时给出以下错误，则该方法有效：

```
 invalid subscript type 'list' 
```

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-04-04T05:31:58.080

我怀疑在全局环境中会找到许多通用方法，它们更有可能在*package*的环境中。

修改帮助中的示例`?Filter`（其中列出了基本包环境中的所有功能）如下我们可以使用过滤`isGeneric`：

```
Filter(isGeneric,ls(all.names=TRUE, env = baseenv()))
## [1] "-"             "!="            "$"             "$<-"           "%%"            "%/%"           "&"             "*"            
## [9] "/"             "["             "[["            "[[<-"          "[<-"           "^"             "|"             "+"            
## [17] "<"             "<="            "=="            ">"             ">="            "abs"           "acos"          "acosh"        
## [25] "all"           "any"           "anyDuplicated" "as.character"  "as.data.frame" "as.difftime"   "as.double"     "as.numeric"   
## [33] "as.real"       "asin"          "asinh"         "atan"          "atanh"         "body<-"        "c"             "ceiling"      
## [41] "close"         "cos"           "cosh"          "cummax"        "cummin"        "cumprod"       "cumsum"        "digamma"      
## [49] "dim"           "dim<-"         "duplicated"    "exp"           "expm1"         "floor"         "format"        "gamma"        
## [57] "intersect"     "kronecker"     "length"        "lgamma"        "log"           "log10"         "log1p"         "log2"         
## [65] "max"           "min"           "names"         "print"         "prod"          "range"         "rep"           "rev"          
##  [73] "round"         "setdiff"       "sign"          "signif"        "sin"           "sinh"          "sort"          "sqrt"         
##  [81] "sum"           "summary"       "tan"           "tanh"          "trigamma"      "trunc"         "union"         "unique" 
```

如果您需要查找函数来自哪个包，请使用：

```
find('function') 
```

根据您的评论：要在搜索路径上搜索*所有*包以查找通用函数，请使用以下命令：

```
Filter(length,sapply(search(), function(x) {
  Filter(isGeneric,ls(all.names=TRUE,env = as.environment(x)))
    } )) 
```

请注意，这包含在另一个`Filter`语句中（以删除 where 元素 `length==0`）。

* * *

`.knownS3Generics`包环境中的内部对象`base`也很有用。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2018-10-27T01:40:37.140

这是另一种方法，`utils::isS3stdGeneric`优先使用`methods::isGeneric`.

我使用以下内容来获取`base`包中的功能：

```
objs1 <- mget(ls("package:base"), inherits=TRUE)
funs1 <- Filter(is.function, objs) 
```

现在删除那些 body 为 null 的（原语，如`sum`）或符号（`dontCheck(x)`，`force(x)`并且`identity(x)`都简单地 return `x`）：

```
genFuns0 <- sapply(
  funs1,
  function(X) {
    if (!is.null(body(X)) & !is.symbol(body(X))) {
      utils::isS3stdGeneric(X)
    }
  },
  simplify=FALSE
) 
```

然后

```
head(genFuns <- names(Filter(isTRUE, genFuns0))) 
```

给

```
[1] "all.equal"     "anyDuplicated" "aperm"         "as.array"     
[5] "as.Date"       "as.expression" 
```

R 版本 3.6.3 (2020-02-29)

# python - 检查一个数字在python的字典中出现了多少次？

> ID：15803159
> 
> 赞同：1
> 
> 时间：2013-04-04T05:27:38.913
> 
> 标签：python, dictionary, digit

我正在尝试检查一个数字在字典中出现的次数。

此代码仅在我输入一个数字时才有效。

```
numbers = input("Enter numbers ")

d = {}
d['0'] = 0
d['1'] = 0
d['2'] = 0
d['3'] = 0
d['4'] = 0
d['5'] = 0
d['6'] = 0
d['7'] = 0
d['8'] = 0
d['9'] = 0

for i in numbers:
    d[numbers] += 1

print(d) 
```

例如，如果我输入`8`输出将是

```
{'8': 1, '9': 0, '4': 0, '5': 0, '6': 0, '7': 0, '0': 0, '1': 0, '2': 0, '3': 0} 
```

但是，如果我输入`887655`，那么它会给我一个`builtins.KeyError: '887655'`

如果我输入`887655`输出实际上应该是

```
{'8': 2, '9': 0, '4': 0, '5': 2, '6': 1, '7': 1, '0': 0, '1': 0, '2': 0, '3': 0} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T05:30:09.560

改为使用[`collections.Counter`](http://docs.python.org/3.3/library/collections.html#collections.Counter)它 - 无需重新发明轮子。

```
>>> import collections
>>> collections.Counter("887655")
Counter({'8': 2, '5': 2, '6': 1, '7': 1}) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T05:30:12.797

你可能应该改变

```
d[numbers] += 1 
```

=>

```
d[i] += 1 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T05:32:55.523

我想你想要的实际上是这样的：

```
for number in numbers:
    for digit in str(number):
        d[digit] += 1 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T05:33:06.947

你应该使用`collections.Counter`

```
from collections import Counter
numbers = input("Enter numbers: ")
count = Counter(numbers)
for c in count:
    print c, "occured", count[c], "times" 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-04T06:03:10.077

我会推荐`collections.Counter`，但这是您的代码的改进版本：

```
numbers = input("Enter numbers ")

d = {} # no need to initialize each key

for i in numbers:
    d[i] = d.get(i, 0) + 1 # we can use dict.get for that, default val of 0

print(d) 
```

# cvs - CVS 相当于“bzr 信息”

> ID：15803169
> 
> 赞同：0
> 
> 时间：2013-04-04T05:28:14.147
> 
> 标签：cvs, bazaar

我想知道 CVS 分支的存储库 URL。我知道“bzr info”可以列出它，但是在搜索了一段时间后还没有找到它的 CVS 等价物。感谢您的任何提示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T11:34:32.670

自从我使用 CVS 已经有一段时间了，但我认为它在`CVS/Repository`您的工作目录的文件中。如果不是该特定文件，则为该目录中的文件之一。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T13:30:18.300

该`CVS/Root`文件显示 CVS 存储库的位置。

```
burhan@orion:/dev/shm/cvstest/test$ cat CVS/Root
:ext:burhan@cvs:/vol/cvsroot 
```

这些`CVS/Repository`文件显示了 CVS 存储库下当前目录的位置。

```
burhan@orion:/dev/shm/cvstest/test$ cat CVS/Repository 
cvstest/test 
```

我不确切知道`bzr info`您需要什么信息，但以上信息的组合应该会有所帮助。

# javascript - 如何通过 javascript 或 css 在浏览器中更改滚动条样式或隐藏滚动条？

> ID：15803171
> 
> 赞同：0
> 
> 时间：2013-04-04T05:28:19.117
> 
> 标签：javascript, css, scrollbar

有什么办法可以改变默认的滚动条样式？或隐藏滚动条并启用滚动？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T05:37:20.103

为了隐藏

```
body {
overflow:hidden; 
```

}

更改 chrome 和 safari 中的滚动条

```
::-webkit-scrollbar {
width: 12px; 
```

}

```
 ::-webkit-scrollbar-track {
-webkit-box-shadow: inset 0 0 6px #bebebe; 
-webkit-border-radius: 1px;
border-radius: 1px; 
```

}

```
 ::-webkit-scrollbar-thumb {
-webkit-border-radius: 1px;
border-radius: 1px;
background: #dcdcdc; 
-webkit-box-shadow: inset 0 0 6px #bebebe; 
```

}

```
::-webkit-scrollbar-thumb:window-inactive {
background: bebebe; 
```

}

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T05:44:06.900

您可以使用 jQuery 插件自定义滚动条

我推荐使用[jScrollPane](http://jscrollpane.kelvinluck.com/)

它易于使用..您可以根据您的要求进行自定义

还有一些其他插件也可能对您有用..您可以通过互联网搜索

# java - Spring MVC 3.1根据字段的值应用自定义验证

> ID：15803172
> 
> 赞同：2
> 
> 时间：2013-04-04T05:28:19.543
> 
> 标签：java, validation, spring-mvc

我有一个流动结构的豆子

```
public class Payment {
private String payType;
@Valid
private CreditCard creditCard;
private BankAccount bankAccount;
} 
```

信用卡类

```
public class CreditCard {
@Pattern(regexp="(\\d{16})")
private String cardNumber;
@NotEmpty
@Size(max=40)
private String name;
@NotEmpty
private String securityCode;
@Future
private Date expiration_Date;
} 
```

像这样验证也适用于银行帐户类。现在我想要的是如果 PayType 是 Credit，那么我需要验证 CreditCard，否则我需要验证 BankAccount。我知道对于这种类型，我们可以编写一个自定义验证器，如链接[JSR 303 Validation](http://blog.orange11.nl/2009/08/04/bean-validation-integrating-jsr-303-with-spring/)

但在这种情况下，我需要为类的所有字段编写验证逻辑。可以编写一些逻辑，以便根据 paytype 现有的验证将起作用。那只是我想要`@Valid`根据类型的注释。请帮我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T09:03:09.223

我终于得到了问题的解决方案，我发布了答案，以便对其他人有所帮助。逻辑是我需要提供一个自定义方法，该方法将返回我想要验证的对象。像下面

```
public class Payment {
private String payType;

private CreditCard creditCard;
private BankAccount bankAccount;

@Valid
public Object getValid(){
    if(creditCard!=null && payType.equals("credit"))
        return creditCard;
    if(bankAccount !=null&& payType.equals("bank")){
        return bankAccount;
    }
    return null;
}  
} 
```

# javascript - android+phonegap环境下如何获取触摸坐标？

> ID：15803181
> 
> 赞同：0
> 
> 时间：2013-04-04T05:28:38.327
> 
> 标签：javascript, html, cordova, touch

平台目标 - android 4.0 及以上。

环境 - html5+css3+javascript 使用 phonegap

在上述环境下的我的应用程序中，我想要一个弹出菜单，`<div>`当用户触摸它时，它只会出现在按钮顶部上方恰好几个像素的位置。到目前为止，我已经解决了这个问题：

```
<head>
<script type="text/javascript" charset="utf-8">

         var touchme=document.getElementById('#button');
         function onDeviceReady(){

                   touchme.addEventListener('touchstart',onNav, false);
         }
         function onNav() {

                popup=document.querySelector("#divPop");
                popup.style.display="block"; //this will make a popup appear
                touchme.getBoundingClientRect();
                navigator.notification.alert(touchme.top);
         }
</script>
</head> 
```

现在的问题是，甚至警报都没有出现。那么我将如何获得按钮的坐标呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T05:37:39.413

首先，在加载 DOM 后尝试该代码 - 您的脚本位于`<head>`标签中，并且您正尝试`#button`抢先访问该元素。

```
var touchme = null;
function onDeviceReady(){
    touchme = document.getElementById('#button');
    touchme.addEventListener('touchstart',onNav, false);
}

window.addEventListener("DOMContentLoaded", onDeviceReady, false); 
```

至于坐标，看一下事件的 screenX 和 screenY 属性（传递给 onNav）。要查找的属性与常规鼠标单击的属性基本相同。

```
function onNav(e) {
    alert(e.screenX + ' ' + e.screenY);
} 
```

# html - 如何在 HTML 的表格中每行只允许 4 个单元格？

> ID：15803188
> 
> 赞同：-4
> 
> 时间：2013-04-04T05:29:11.733
> 
> 标签：html, xhtml, html4

我想知道是否有办法在 HTML 中每行只允许 4 个单元格 .. 表中只允许 4 个单元格，如果超过 4 个 tds ，则创建另一行..

我怎么能在 HTML 中控制它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T05:48:57.117

不，你似乎不明白你在问什么。您不能*仅使用*html 自动执行此操作。您的问题与 Html 和 Php 有关。

这是一个快速的讨厌的工作：

```
$pdo = new PDO("mysql:host=$host;dbname=$dbName", $userName, $pwd);

$query = $pdo->prepare('select name from products order by id asc');
$query->execute();

echo '<table>';
echo '<tbody>';
$numCellsInRow = 0;
while ($curRow = $query->fetch())
{
    if ($numCellsInRow == 4)
    {
        printf("</tr>");
        $numCellsInRow = 0;
    }
    if ($numCellsInRow == 0)
    {
        printf("<tr>");
    }
    printf("<td>%s</td>", $curRow[0]);

    $numCellsInRow++;
}
echo '</tbody>';
echo '</table>'; 
```

**结果**

```
<table>
  <tbody>
    <tr>
      <td>1" tweeter</td>
      <td>6" sub</td>
      <td>Sony Headphones</td>
      <td>Magnifier</td>
    </tr>
    <tr>
      <td>Red Led</td>
      <td>Blue LED</td>
      <td>7 segment LED</td>
      <td>Lalique stained glass</td>
    </tr>
    <tr>
      <td>LED downlight</td>
      <td>BiPole light-switch</td>
      <td>DC, 10amp</td>
      <td>Monster Cable</td>
    </tr>
    <tr>
      <td>Sata 2.0 Cable</td>
      <td>Speaker Wire</td>
      <td>USB 2.0 A to B Cable</td>
    </tr>
  </tbody>
</table> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T05:49:44.973

试试这个。。没试过。。

```
 $count = 0; 
    echo("<table><tr>");
    foreach ($products as $product) { 
    if(($count % 4) == 0){

    echo("</tr><tr>\n");
    $count++;

    }if
    else{
    $count++;
    }

    echo("<td>$product<td>");

    }

    echo("</tr></table>"); 
```

# php - 在 CI 中发送邮件时出现不必要的附件？

> ID：15803190
> 
> 赞同：0
> 
> 时间：2013-04-04T05:29:21.343
> 
> 标签：php, codeigniter, email

大家好，我为我的应用程序需要发送两种邮件类型。场景是这样的，当用户批准某事时，我会向他们发送一封邮件，说明您已批准，而在其他情况下，在批准后将生成一张发票并将其作为邮件的附件发送。

现在发生的事情是这两封邮件在一分钟或更短的时间内发送给用户，因此对于第一封邮件，附件是不必要的。假设另一个用户也批准了另一件事。顺便说一下，不同用户的发票是不同的。但是对于第二个用户，第一个用户和第二个用户发票这两个文件都被附加了。

我知道这类事情会发生，这就是为什么我每次发送给数据库中的任何用户时都会保存整个邮件副本。在我看到不必要的附件的第一种情况的数据库中，没有附件，而在我看到两个附件的第二种情况下，只有数据库中属于用户 2 的附件。

注意：这整个邮件都是在 LAMP 环境中使用 CI 电子邮件类发送的。

我用来发送邮件的以下功能。这是一个辅助函数，我将在我想要的整个应用程序中调用。

```
function mail_send($to, $email_text_key, $subject_key_values, $message_key_values,$file)
{
    $CI = & get_instance();
    $CI->config->load('email_text');
    //      echo $to;echo $email_text_key;print_r($subject_key_values);print_r($message_key_values);
    $subject = $CI->config->item($email_text_key."_email_subject");
    $message = $CI->config->item($email_text_key."_email_body");// print_r($subject);print_r($message);
    send_mail($to, $subject, $message, $subject_key_values, $message_key_values,$file);
}

function send_mail($to, $subject, $message, $subject_key_values, $message_key_values,$file)
{
    $CI = & get_instance();
    $CI->config->load('email_text');
//  print_r($message_key_values);   
    foreach ( $subject_key_values as $key => $val ) {
        $subject = str_replace ("%$key%", $val, $subject);
    }

    foreach ( $message_key_values as $key => $val ) {
        $message = str_replace ("%$key%", $val, $message);
    }
    $message = str_replace ("%FAQ%", base_url()."index.php/welcome/faq", $message);
    $message = str_replace ("%LOGO%", base_url()."images/logo.png", $message);
    $message = str_replace ("%LOGO%", base_url()."images/Icon.ico", $message);
    $CI->load->library('email');

    $CI->email->from($CI->config->item('from_email'), $CI->config->item('from_email_name'));
    $CI->email->to($to);

    $CI->email->subject($subject);
    $CI->email->message($message);
    if($file !='') {
    $CI->email->attach($file);
    $file_type='pdf';
    $file_size = filesize($file);
    $fp = fopen($file,'r');
    $content = fread($fp,$file_size);
    $content = addslashes($content);
    fclose($fp);
    $CI->email->send();
    } else {
     $CI->email->send();
    }
    //make mail copied
    $CI->load->model('email_model');
    $user_data = array(
                        'to_email' =>$to,
                        'subject' =>$subject,
                        'message' =>$message,
                        'date_time' => date("Y-m-d H:i:s"),
                        'file_name' =>$file,
                        'file_type' =>$file_type,
                        'file_size' =>$file_size,
                        'content' =>$content,
                    );
    $CI->email_model->make_email_copy($user_data);              
} 
```

注意：请检查我在 if 和 else 条件下将文件附加到邮件的代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:06:37.370

$this->email->clear()

将所有电子邮件变量初始化为空状态。如果您在循环中运行电子邮件发送功能，则可以使用此功能，允许在循环之间重置数据。

```
foreach ($list as $name => $address)
{
    $this->email->clear();

    $this->email->to($address);
    $this->email->from('your@example.com');
    $this->email->subject('Here is your info '.$name);
    $this->email->message('Hi '.$name.' Here is the info you requested.');
    $this->email->send();
} 
```

如果您将参数设置为 TRUE，则任何附件也将被清除：

```
$this->email->clear(TRUE); 
```

# python - 在具有相移变量的方程上使用 scipy odeint

> ID：15803192
> 
> 赞同：3
> 
> 时间：2013-04-04T05:29:25.850
> 
> 标签：python, scipy, ode, odeint

**基本上**......我需要一种在我的微分方程中包含相移的方法。也就是说，我的系统函数定义中有返回 dY/dt 之类的 Y(t-3)。就像这个微分方程：

```
dY/dt = a*Y(t) + b*Y(t-tau) 
```

现在，如果我尝试将其编写为传递给 scipy.odeint 的系统定义函数，我会迷失方向：

```
def eqtnSystem(A,t):
    Y   = A
    a   = 1
    b   = 5
    tau = 3
    return a*Y + b*???       # how do I Y(t-tau) ? 
```

基本上就是这样。我真的希望有一个简单的答案，但我似乎无法找到一个。

**具体来说**......我正在尝试以数值方式计算由以下函数定义的系统的解决方案：

```
def etaFunc(A,t): 
    #...definition of all those constants is here...
    return array([(gamma[0,0]*xi(t-theta[0])[0] - eta[0] + zeta[0])/tau[0],\
           (gamma[1,1]*xi(t-theta[1])[1] - eta[1] + zeta[1])/tau[1],\
           (gamma[2,2]*xi(t-theta[2])[2] - eta[2] + zeta[2])/tau[2],\
           (   beta[3,0]*pastEta(t-theta[3])[0] \
             + beta[3,1]*pastEta(t-theta[4])[1] \
             + beta[3,2]*pastEta(t-theta[5])[2] -eta[3]+ zeta[3])/tau[3],\
           (   beta[4,3]*pastEta(t-theta[6])[3] \
             + beta[4,2]*pastEta(t-theta[7])[2] - eta[4] + zeta[4])/tau[4]]) 
```

然后这个函数随后被赋予 odeint，如下所示：

```
ETA = integrate.odeint(etaFunc,initCond,time) 
```

然后我可以像这样取出 ETA 的每个单独组件（如 eta_0）`ETA[:,0]`：

我在这里遇到的问题是`pastEta(t-theta[?])`. 目前，这是一个试图找到已经计算的 eta 值的函数（对于 when`start_time < t-theta[?] < t`和`theta[?] > 0`。这不是很好。

我看到在这种情况下，我可以单独找到 eta 的每个组件，然后获取先前计算的 eta 组件（eta_0、eta_1、eta_2）的计算值来计算 eta_3，并且类似地计算 eta_4，但这并不理想，因为它剥夺了我可以“即插即用”任何通用公式。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T15:53:34.267

有许多现有的库和示例可以做到这一点。

[http://www.google.fi/search?q=python+delay+differential+equation](http://www.google.fi/search?q=python+delay+differential+equation)给了我：

*   [http://zulko.wordpress.com/2013/03/01/delay-differential-equations-easy-with-python/](http://zulko.wordpress.com/2013/03/01/delay-differential-equations-easy-with-python/) （使用`scipy.integrate.ode`）
*   [https://pypi.python.org/pypi/PyDDE](https://pypi.python.org/pypi/PyDDE)
*   [http://pydelay.sourceforge.net/](http://pydelay.sourceforge.net/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2015-07-18T02:07:22.477

延迟不完全是线性函数。通常的阶跃延迟在拉普拉斯域中表示为`e**(a*s)/s`，其中`a`是延迟。

这意味着除非您有一些解决方法，否则“正常”ODE 求解器将无法工作。通常这种解决方法不是很容易做到，因为对于僵硬的问题，您通常无法使用足够好的近似值进行插值。

无论如何，其中一个解决方案是使用其他答案中发布的库。

另一种解决方案是象征性地进行（如果可以，您可以尝试[SymPy](http://sympy.org/)）。

第三种解决方案是存储过去的结果并进行插值以找到您需要的确切过去（可能不够好）。

第四种解决方案可能是某些模拟器文档所推荐的：`c2d()`在离散时间使用和模拟整个模型，并将过去的变量存储在列表/数组中（没有插值，但您可能需要使用小步骤以获得更好的准确性）。

第五个解决方案是使用[Padé 近似](https://en.wikipedia.org/wiki/Pad%C3%A9_approximant)来表示模型的延迟（可能会根据您的情况起作用）。python-control 中有一个[`pade()`函数](http://python-control.sourceforge.net/manual/matlab_strings.html#delay.pade)可以精确地近似这个。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T05:59:14.180

一种方法是在开始时间和结束时间之间`integrate.odeint()`运行`integrate.odeint()`许多短时间间隔，在列表中的每个短时间间隔之后存储时间值和输出 Y 值。例如，每次需要时，您都可以使用[scipy.interpolate.interp1d()](http://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.interp1d.html#scipy.interpolate.interp1d)在列表中插入 Y 值`Y(t-3)`。

当然，如果你这样做，你只会得到一个近似值`Y(t-3)`，但如果时间间隔足够接近，这种方法可能会让你满意。毕竟，`Y(t)`数值 ODE 求解器计算的值也是近似值。

# c# - 保存 OpenXML 文档时操作共享字符串表

> ID：15803196
> 
> 赞同：4
> 
> 时间：2013-04-04T05:29:46.687
> 
> 标签：c#, excel, openxml, vba

我正在尝试使用实体框架数据创建 Excel 2010 工作簿（EF 不是问题）。我或多或少在以下代码中： [CodeProject 链接](http://www.codeproject.com/Articles/97307/Using-C-and-Open-XML-SDK-2-0-for-Microsoft-Office)

在上面的链接中创建文本单元格的代码将所有文本创建为内联字符串。为了遵循最佳实践（至少就我对 OpenXML 的理解而言），我想将其更改为使用共享字符串表，因此我将遵循[此处](http://msdn.microsoft.com/en-us/library/office/hh180830(v=office.14).aspx)找到的代码以提供帮助。

为此，我从工作簿中获取共享字符串表，将我的字符串添加到其中，然后保存表。我的代码：

```
private static int InsertSharedStringItem(WorkbookPart wbPart, string value)
{
  int index = 0;
  bool found = false;
  var stringTablePart = wbPart.GetPartsOfType<SharedStringTablePart>()
                        .FirstOrDefault();

  if (stringTablePart == null)
  {
    // Create it.
    stringTablePart = wbPart.AddNewPart<SharedStringTablePart>();
  }

  var stringTable = stringTablePart.SharedStringTable;
  if (stringTable == null)
  {
    stringTable = new SharedStringTable();
  }

  foreach (SharedStringItem item in stringTable.Elements<SharedStringItem>())
  {
    if (item.InnerText == value)
    {
      found = true;
      break;
    }
    index += 1;
  } 
```

 ****```
 if (!found)
  {
    stringTable.AppendChild(new SharedStringItem(new Text(value)));
    stringTable.Save();
  } 
```**  **```
 return index;
} 
```

我已经突出显示（并且显然是分开的）问题区域）

不幸的是，我`InvalidOperationException: Cannot save DOM tree since this element is not associated with an OpenXmlPart`在 stringTable.Save(); 线

我试图通过将 if(!found) 块更改为：

```
if (!found)
{
    stringTable.AppendChild(new SharedStringItem(new Text(value)));
    wbPart.SharedStringTablePart.SharedStringTable = stringTable;
    stringtable.Save();
} 
```

当代码到达新行时，它返回一个`UnhandledArgument Exception: Cannot set the given root element to this part. The given part root element has already been associated with another OpenXmlPart.`

在这一点上，我对 my`stringtable`是否与 OpenXmlPart 相关联感到困惑。

有人可以看到我做错了什么，或者指出更好的方法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-16T03:00:51.227

添加 SharedStringTablePart 时，立即初始化与该部件关联的 SharedStringTable。然后你不检查 SharedStringTable 对象的无效性。尝试这个：

```
if (stringTablePart == null)
{
    // Create it.
    stringTablePart = wbPart.AddNewPart<SharedStringTablePart>();
    stringTablePart.SharedStringTable = new SharedStringTable();
}

var stringTable = stringTablePart.SharedStringTable;
//if (stringTable == null)
//{
//    stringTable = new SharedStringTable();
//} 
```

我希望该片段足以让您识别函数中的部分。如果 SharedStringTablePart 不为 null，则其中已经有一个 SharedStringTable 对象。如果它为空，那么......好吧，同时创建两者。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-09-13T01:48:17.400

Probably not useful for the original poster, but in case anyone else stumbles across this. Microsoft's example has a template excel file they use to modify. This answer is for creating an excel document from scratch. Hope this helps someone.

Try adding the `SharedStringTablePart` and `SharedStringTable` when creating and first saving the document. I'm creating a file and place it in the temp folder, then reopen the file to modify.

```
public string CreateSpreadsheet()
 {
    string filepath = Path.GetTempFileName();
    filepath = filepath.Replace(".tmp", ".xlsx");
    // Create a spreadsheet document by supplying the filepath.
    // By default, AutoSave = true, Editable = true, and Type = xlsx.
    SpreadsheetDocument spreadsheetDocument = SpreadsheetDocument.
    Create(filepath, SpreadsheetDocumentType.Workbook);

    // Add a WorkbookPart to the document.
    WorkbookPart workbookpart = spreadsheetDocument.AddWorkbookPart();
    workbookpart.Workbook = new Workbook();
    workbookpart.Workbook.Save();

    **WorkbookPart wbPart = spreadsheetDocument.WorkbookPart;
    var stringTablePart = wbPart.GetPartsOfType<SharedStringTablePart>().FirstOrDefault();
    if (stringTablePart == null)
    {
      // Create it.
      stringTablePart = wbPart.AddNewPart<SharedStringTablePart>();
    }
    stringTablePart.SharedStringTable = new SharedStringTable();**

    // Close the document.
    spreadsheetDocument.Close();
    return filepath;
    } 
```****

# ruby - 调用私有方法“open”# （无方法错误）

> ID：15803197
> 
> 赞同：0
> 
> 时间：2013-04-04T05:29:50.313
> 
> 标签：ruby

```
class Arun 
   def arun
    afile=File.new("arun1.txt")
      if afile
       afile.open("arun1.txt","w")
        afile.syswrite("hi from arunkumar.............")
       afile.close()
       afile.open("arun1.txt","r+")
        con=afile.sysread(30)

        puts con
       afile.close()
      else
        puts "can't open"
      end

    end
 end
 a=Arun.new
 a.arun 
```

在这里我无法访问它显示调用的`arun`私有方法的方法 （NoMethodError）`open``#<File:arun1.txt>`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T05:37:44.647

查看 File IO上的[Ruby 文档](http://ruby-doc.org/core-2.0/IO.html#method-c-write)

具体来说，为了写入文件，只需使用类似的东西

```
File.open("arun.txt", 'w') {|f| f.write("hi from arunkumar.............") } 
```

正如您的错误所示，该`open`方法不适用于对象。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-10-29T18:21:58.800

在程序的开头写下给定的语句。由于IO是一个类，代表InputOutput，包含了包括open在内的所有方法

需要 IO

# css - iframe 的宽度应该最大扩展到其容器的宽度

> ID：15803199
> 
> 赞同：1
> 
> 时间：2013-04-04T05:29:59.637
> 
> 标签：css

我有一个 DIV，其宽度在 CSS 类中定义。在这个 DIV 中，我正在渲染 Facebook 的 LIKE 按钮，但由于 LIKE 按钮在 IFRAME 内呈现，每当从无法访问 FACEBOOK 的机器上浏览页面时，就会看到“**无法显示页面**”的 LIKE 按钮。当用户确实有权访问 FACEBOOK 时，就会出现问题。在这里，IFRAME 不考虑其容器的宽度，它通过内联样式扩展到为 IFRAME 设置的宽度。

这是我在 CSS 中的内容：

```
.socialLinks {  /* This CSS is applied to the container DIV */
width: 97px;
float: right;
text-align: center;
} 
```

任何指针？

**更新 ：**

知道了 ！。

添加

```
overflow:hidden; 
```

到DIV类就解决了！

不管怎么说，还是要谢谢你 ！

# google-apps-script - 我可以在 Google 云端硬盘中列出我的所有脚本而不包含任何其他类型的文档吗？

> ID：15803202
> 
> 赞同：12
> 
> 时间：2013-04-04T05:30:05.293
> 
> 标签：google-apps-script

`Google Apps Scripts``Google Drive`去年就被整合了。

谁能告诉我如何`scripts`在`Google Drive` 没有任何其他类型的文档（例如`spreadsheets`文件）的情况下列出我的所有内容`text`。

[我可以通过这个URL](https://drive.google.com/?authuser=0#query/vr?view=2&filter=spreadsheets)过滤电子表格。

Google Drive的[帮助页面](http://support.google.com/drive/bin/answer.py?hl=en&answer=2375114)

表示过滤器仅适用于`document`, `spreadsheet`, `presentation`, `drawing`, `image`, `video`, `image_or_video`, `pdf`, 和`textdoc`.

我正在寻找一种类似的方式`"filter=scripts"`。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-17T16:37:27.147

您可以在 Google Drive 搜索栏中指明文件类型，[`type:application/vnd.google-apps.script`](https://drive.google.com/?authuser=0#search/type:application/vnd.google-apps.script).

![搜索栏](https://i.stack.imgur.com/yCz8l.png)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2016-04-15T20:10:42.627

上述答案不适用于新的 Google Drive 搜索（至少对我而言）。

搜索[`type:script`](https://drive.google.com/drive/u/0/search?q=type:script)确实有效（但不显示电子表格绑定的脚本）。

# wix - 是否可以在刻录主题中拥有完整的窗口背景图像？

> ID：15803209
> 
> 赞同：7
> 
> 时间：2013-04-04T05:30:27.057
> 
> 标签：wix, burn

当我设置一个`Image`来填充窗口时，它似乎渲染在其他控件的顶部，并且通常会使绘制窗口变得一团糟。文件中的顺序似乎没有帮助，但是如果我把它放在它自己的`Page`部分中，它的表现会好*一些*。

有没有办法在窗口中的所有内容后面显示图像？

此外，其他控件似乎没有正确呈现在它的顶部（文本有白色背景，按钮有白色方块），我猜他们需要在某处设置透明模式？

* * *

编辑：

这是问题的一个示例，按钮和复选框从鼠标悬停变得可见，并且文本从选择中变得可见：

![问题图片](https://i.stack.imgur.com/mdwpF.png)

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-09T14:19:27.457

我无法将其`Image`作为背景工作，但是我能够使用窗口背景获得我想要的东西。

`Window`允许您使用在 中指定的图像，`Theme/@ImageFile`然后将`Window/@SourceX`和`Window/@SourceY`偏移量指定为 0。但这还不够，因为**s`Window`引用的字体背景将覆盖窗口图像背景**。您需要使用没有指定背景的字体。

```
<主题 xmlns="http://wixtoolset.org/schemas/thmutil/2010"
     *ImageFile="background.png">*
    <窗口宽度="485" 高度="300" HexStyle="100a0000"
        FontId="0" *SourceX="0" SourceY="0"* >#(loc.Caption)</Window>
    <字体 ID="0" 高度="-12" 重量="500"
        Foreground="000000" Background="FFFFFF" >Segoe UI</Font>

```

我还必须解决另外两个问题：

*   复选框不服从背景颜色，但这是因为 wixstdba 使用的常见控件，只需要处理它。
*   进度文本发生了变化，但没有重新绘制背景，所以它会自行绘制，通过给它一个背景来解决问题。

![带有背景图像的对话框](https://i.stack.imgur.com/0dSt3.png)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-04T13:29:21.753

是的，有可能。如果您有一个主题中所有页面都相同的静态图像，那么您可以将`Image`元素放在所有页面元素之上。或者，如果您希望每页有不同的背景，则将图像放在页面的首位。我像这样组织我的主题：

```
<Theme>
   <Window />
   <Font /> <!-- as many as necessary -->

   <Image /> <!-- global background image -->

   <Page> <!-- repeat for each page -->
      <Image /> <!-- per-page background image -->
      <other controls /> 
```

控制元素的顺序反向定义了 Z 顺序。第一个控件位于底部，从那里向下的控件堆叠在顶部。这就是为什么`Image`首先需要背景。

至于透明文本，它可能具有不同程度的善意。首先要摆脱白色背景，您需要从用于透明文本`Background`的元素中删除属性。`Font`缺少`Background`属性意味着对文本使用空画笔，它本质上是透明的。

透明度的好坏程度取决于控制。复选框似乎从不尊重透明文本。此外，如果重绘透明文本，它也无法正常工作。您会看到遗留下来的旧文本。因此，透明度仅适用于`Text`未更新的情况。

无论如何，希望以上内容可以帮助您入门。如果您想为帮助提高透明度或主题做出贡献，我建议您查看`src\dutil\thmutil.cpp`. 也许你可以让我们弄清楚如何让它完美地工作。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-04-09T08:15:19.543

在尝试为 WIX 设置主题时，我刚刚发现了一个**关键字段。**

> 可见=“是”

**并不**意味着元素可见。这意味着元素**始终**可见。在每一页上。

# asp.net - 从 ASP.NET 执行查询时抛出超时过期异常

> ID：15803211
> 
> 赞同：4
> 
> 时间：2013-04-04T05:30:52.453
> 
> 标签：asp.net, sql

我有一个**包含 1000000**个值的表。从中我需要检索一些满足我条件的值。但是，当我从 ASP.NET 执行下面提到的查询时，它会引发**TimeOut expired**异常。如何避免这种情况

```
"SELECT ID,Intime,OutTime from [dbo].MasterLog 
WHERE CardId=(SELECT ID from User WHERE Name like 'ki%')" 
```

如果我得到答案，这将非常有用。提前致谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T05:40:57.463

听起来您需要在查询的 where 子句中为列添加索引。

[看一下这个](http://msdn.microsoft.com/en-us/library/ms190457.aspx)

[这也是](http://jahaines.blogspot.com/)

*   还要考虑**存储过程**
*   Coz 存储过程将有助于在短时间内从数据库中检索数据。
*   始终避免在前端编写查询。

但首先也是最重要的事情是索引，如果你有更多的数据意味着索引它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T05:42:11.057

除了更新你的连接和命令超时，如果你在 CardID 上添加一个非集群索引并包括列 ID、Intime、OutTime，这是一个覆盖索引，你的查询会更快，这将有所帮助。

```
 CREATE NONCLUSTERED INDEX [IX_NCI_MasterLog_CardID] ON [dbo].[MasterLog]
(
    [CardID] ASC
)
INCLUDE (   [ID],
            [InTime],
            [OutTime[) 
WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T05:34:02.763

1.  `WEB.CONFIG TIMEOUT`选项很长

2.  IIS 应用程序池`TIMEOUT`选项很长

3.  （当前页面）`Request Header KeepAlive = true`设置

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T05:35:52.737

试试这些，

1.  正确指定 SQL 连接超时和命令超时。
2.  为 CardId 上的表添加索引
3.  首先选择 TOP 100 / 1000 条记录，并在需要时尝试获取其余记录以提高查询性能

# c# - 如何在 Windows phone 8 中将任何类型的对象转换为字节数组？

> ID：15803215
> 
> 赞同：-3
> 
> 时间：2013-04-04T05:31:20.240
> 
> 标签：c#, windows-phone-7, windows-phone-8

我想以字节为单位存储数据。但是因为我是 Windows Phone 8 的新手；我不知道该怎么做。

任何形式的帮助将不胜感激..谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T05:41:58.137

```
DataContractSerializer serializer = new    DataContractSerializer(typeof(List<Dictionary<String, String>>));

byte[] byteArr;

using (var ms = new System.IO.MemoryStream())
{
 serializer.WriteObject(ms, stringlist);
 byteArr = ms.ToArray();
}
 return byteArr; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T05:48:17.923

```
System.Runtime.Serialization.DataContractSerializer serializer = new     System.Runtime.Serialization.DataContractSerializer(typeof(List<Dictionary<String, String>>));
List<Dictionary<String, String>> stringlist;
using (var ms = new System.IO.MemoryStream(byteArr))
{
stringlist = (List<Dictionary<String, String>>)serializer.ReadObject(ms);
}
return stringlist; 
```

此代码有助于将您的数据恢复到原始状态。我想这就是你要的

# linux - 在 dirname 和 basename 上获取“权限被拒绝”

> ID：15803227
> 
> 赞同：2
> 
> 时间：2013-04-04T05:32:11.787
> 
> 标签：linux, shell, dirname

就这样。他们只是不会为我工作。这次我做错了什么？

```
 # nquo is: /home/bryan/renametest/C D/y z

    # script:
    dirn=dirname "$nquo"
    echo "dirn $dirn"
    bnam=basename "$nquo"
    echo "bnam $bnam" 
```

运行结果：

```
 ./script3.sh: 208: /home/bryan/renametest/C D/y z: Permission denied
    dirn 
    ./script3.sh: 208: /home/bryan/renametest/C D/y z: Permission denied
    bnam 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-04T06:15:08.210

就目前而言，您的脚本正在尝试运行名为 in 的文件，`$nquo`首先将环境变量`dirn`设置为 value `dirname`，然后将变量`bnam`设置为 value `basename`。由于它不可执行，您会收到有关无法执行该文件的错误消息。

您大概打算在文件名上运行命令，这需要反引号或（最好）`$(...)`围绕它：

```
dnam=$(dirname "$nquo")
bnam=$(basename "$nquo") 
```

# iphone - 在突出显示 webview 文本字段时打开自定义键盘

> ID：15803228
> 
> 赞同：3
> 
> 时间：2013-04-04T05:32:18.397
> 
> 标签：iphone

我可以打开自定义键盘而不是默认键盘吗？

我有一个包含文本字段的 html 文件，当我开始输入时，默认键盘会打开。

我可以更改 html 文件中的键盘类型，但我不想更改 html 文件中的任何内容。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:05:30.717

@Jaiswal我不认为，您可以更改iPhone的默认外观样式，但是您当然可以通过HTML更改键盘的格式...

这是教程[http://www.bennadel.com/blog/1721-Default-To-The-Numeric-Email-And-URL-Keyboards-On-The-iPhone.htm](http://www.bennadel.com/blog/1721-Default-To-The-Numeric-Email-And-URL-Keyboards-On-The-iPhone.htm)

我已经测试了很多，但苹果只允许两种键盘外观样式“默认”和“警报”。如果您不想要这些样式，您也可以使用自己的键盘，只需在另一个视图中获取按钮并在需要键盘时向上滚动视图即可。

但是使用 UIWebView，然后制作自定义键盘是不可能的（我猜）。如果我错了或者您找到任何答案，请发布答案...... :)

而且你....认为这是一个HTML方面的问题而不是iPhone :)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T05:44:23.500

您通过点击文本字段来调用键盘，对吗？在那种情况下，为什么不使用此代码？

```
myField.keyboardType = UIKeyboardTypeNumberPad; 
```

通过此代码，您可以设置不同类型的键盘。

# ruby-on-rails - Rails：将值添加到 Activerecord 结果

> ID：15803230
> 
> 赞同：2
> 
> 时间：2013-04-04T05:32:35.763
> 
> 标签：ruby-on-rails, data-structures, rails-activerecord

抱歉，如果我使用了错误的术语，我对 Rails 还是很陌生。

**问题：**我在一个变量中检索一个 activerecord 关系，我想在数组中的每个项目中添加更多的键/值对，这样它们都可以在视图中轻松访问。我该怎么做呢？

**控制器**

```
def index
    @rooms = Room.all.reverse
    @sessions = Session.all
    ##returns => [#<Session id: 4,  user_ip: "127.0.0.1", user_token: "", room_session: "", position: 2 ...>], #<Session id: 3, ...>]
    @sessions.map  do |k, v|
      ##Add the room associated with each session & other k/v pairs
    end
    ##want to return => [#<Session id: 4, room: 'Marvin', spaghetti: 'monster' (etc...),  user_ip: "127.0.0.1", user_token: "", room_session: "", position: 2 ...>], #<Session id: 3, ...>]

    end
  end 
```

**看法**

```
- @sessions.each do |session|
  %tr
    %td= session.topic_id
    %td= session.room
    %td= session.spaghetti 
```

**编辑：** 我希望能够添加任意值，例如 'spaghetti' => 'monster' 和来自诸如 Session.room 等关系的信息

做这个的最好方式是什么？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T18:39:24.840

在 Session find 中包含房间只会在 Session db 查找期间将房间添加到会话中（例如，如果您查看日志，您会看到房间也在被找到。）然后您可以访问缓存的房间通过关联（即 session.room）

如果您要添加任意项目，最好的方法是通过模型中的方法......例如在您的 Session 类中：

```
def spaghetti
  "Monster" # or whatever else you wanted spaghetti to be.
end 
```

然后，您将能够像访问任何其他属性一样访问视图中的 spaghetti 属性，例如

```
session.spaghetti # => "Monster" 
```

希望有帮助。

# ajax - Ajax 按键事件（背后的工作）

> ID：15803248
> 
> 赞同：0
> 
> 时间：2013-04-04T05:33:38.867
> 
> 标签：ajax, algorithm, web-services, sorting

今天有一个非常有趣的问题问我。在实施一个实施 AJAX 按键事件的项目之前，我有一段时间。所以基本上每次在搜索栏中按下一个键时都会在数据库中查询它，结果会显示在 div 上。所以直到今天我才费心去了解它是如何实现的。由于 web 没有响应的保证，Ajax 怎么知道如何按顺序显示按键的结果

例如

如果我输入 a --> 显示 a 的结果，现在如果我添加一个 "b" 使其成为 ab ，它会显示 ab 的结果

但是由于网络不提供任何保证，ab 的响应可能会在 a 的响应之前（如果一个人快速键入字母）。

我想到的一些可能的解释

1）将请求与结果一起存储（但再次需要排序，并且不会在时间或空间上效率低下）2）时间戳（但由于没有时间保证，这可能完全具有误导性）

老实说，我不确定它是如何工作的，并且想知道它是如何实现的。

谢谢

编辑：如果我错误地提出问题，我深表歉意，我使用 javascript 将 GET 和 POST 请求发送到与数据库交互的 servlet

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-23T10:16:23.713

一种简单的方法是让答案描述自己。例如“'a' 的结果是 apple, aarvark, avocado”

如果您得到一个答案，其中提到的基本字符串与当前输入字符串不匹配，您将忽略它。即，如果您在输入“b”后得到上述内容，则它会被忽略。

# jquery - getJSON 中未调用 Fail 函数

> ID：15803251
> 
> 赞同：1
> 
> 时间：2013-04-04T05:33:44.613
> 
> 标签：jquery, json, jsp

我有一个 JSON 页面，内容`{"success":1} or {"success": 0}`取决于成功值，我必须显示错误消息或成功消息。如果页面不可用，那么我也应该给出错误消息。我在加载 div 中有一个微调器：这是我的代码。

```
url = "add.jsp";
$("#loading").show();
$.getJSON(url, dataToBeSent, function(data) {
    $.each(data, function(key, val) {
        if (val == 0) {
            $("#loading").hide();
            $("#add_response").show();
            $("#add_response #error_message").show();
            $("#add_response #success_message").hide();
        } else {
            $("#loading").hide();
            $("#add_response").show();
            $("#add_response #error_message").hide();
            $("#add_response #success_message").show();
        }
    })
    .fail(function(){
        $("#loading").hide();
        $("#add_response").show();
        $("#add_response #error_message").hide();
        $("#add_response #success_message").show();
    });
}); 
```

我的控制台中没有错误消息。我没有文件 add.jsp。因此`getJSON`应该失败。我究竟做错了什么？请帮我找出来。为什么根本不调用失败？

**跟进：**这是 Hardik 建议的答案后的代码

```
<script type="text/javascript">
var url = "add.jsp";
$("document").ready(function() {
    $('input[name=submit]').click(function(e) {
        var dataToBeSent = $("form").serialize();
        var url = 'db.jsp';
        $.ajax({
            url : url,
            data : dataToBeSent,
            dataType : 'json',
            success : function(response) {
                $('#response').text(response.success);
            },
            error : function(request, textStatus, errorThrown) {
                alert(request.status + ', Error: ' + request.statusText);
                // perform tasks for error 
            }
        });
        e.preventDefault();
    });
});
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T05:54:36.767

```
<script type="text/javascript" src="js/jquery.min.js"></script> 
// I have jquery.js under js directory in my webapp
<script type="text/javascript">
    var url = "add.jsp";
  $(function(){
        $.ajax({
            url : url, // Pass you Servlet/ JSP Url
            data : {
                empId : 0
            }, // data can be passed from outside
            dataType : 'json',
            success : function(response) {
                alert('Success');
                            // perform tasks for success 
            },
            error : function(request, textStatus, errorThrown) {
                alert(request.status + ', Error: ' + request.statusText);
                           // perform tasks for error 
            }
        });
});
</script> 
```

编辑——例如：

```
<script type="text/javascript">
  $(function(){
      function getData(url, dataToBeSent) {
          console.log(dataToBeSent);
          $.ajax({
                url : url,
                data :dataToBeSent,
                dataType : 'json',
                success : function(response) {
                    alert(response.success);
                },
                error : function(request, textStatus, errorThrown) {
                    alert(request.status + ', Error: ' + request.statusText);
                }
            });
      }
      getData('getData.jsp', '{name:Hardik}'); // You should use Servlet to get Data. This is just an example   
}); 
```

**获取数据.jsp**

```
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
<%
response.setContentType("application/json");
out.println("{\"success\":1}"); // Write values using JSONObject
%> 
```

# javascript - 如何在 Jade 中制作模板文件以便将其包含在其他页面中？

> ID：15803252
> 
> 赞同：0
> 
> 时间：2013-04-04T05:33:47.580
> 
> 标签：javascript, node.js, pug

我已经制作了一个头文件，我想将它包含在我的所有页面中，它还包含导航栏并在其中包含正文，简而言之就是这样

```
!!!
html
 head
  title
 body 
```

我希望能够将它包含在任何其他文件中，并且能够继续在正文中写入，如果我现在尝试包含它，我在新文件中写入的任何内容都会在关闭后出现，`</html>`所以我怎么能去做这个？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:31:29.403

使用`block`，但换个思路。创建一个包含共享部分的 base.jade，并对其进行扩展。

```
!!!
html
  head
    title
  body 
    block main
      p Hello 
```

比在您的其他文件中：

```
extends base
block append body
  p World 
```

这将导致

```
<html>
  <head>
    <title></title>
  </head>
  <body>
    <p>Hello</p>
    <p>World</p>
  </body>
</html> 
```

比有一个 command `include`，这不是你想要的，但也许值得一提。

```
!!!
html
  head
    include head.jade
  body 
    block main 
```

[文档](https://github.com/visionmedia/jade#readme)中的更多信息

# pycharm - 如何在 PyCharm 中添加自定义突出显示规则

> ID：15803253
> 
> 赞同：4
> 
> 时间：2013-04-04T05:33:52.573
> 
> 标签：pycharm

如何在 PyCharm 中添加自定义突出显示规则？我的意思是，例如：

```
html = """
    <html>
        <body>
            In %s hour(s) it will be %s.
        </body>
    </html>
    """ % (offset, dt) 
```

Pycharm 不会突出显示变量包含`%s`的字符串部分。`html`如何添加一条规则，使`%`字符串中的 和它后面的字母突出显示或以不同的颜色显示？这个功能在 Sublime Text 2 中可用，所以我希望 PyCharm 2.7.1 也能实现。

非常感谢您的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-10-23T09:46:18.520

经过大量研究，我意识到这是不可能的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-04-16T20:24:56.697

您无法向现有语言添加自定义规则 - 但您可以添加自定义文件类型/语言：[https://www.jetbrains.com/help/pycharm/2016.3/creating-and-registering-file-types。 html](https://www.jetbrains.com/help/pycharm/2016.3/creating-and-registering-file-types.html)

（这个答案没有具体解决这个问题，但是当谷歌试图弄清楚如何添加我自己的突出显示时，谷歌把我发到这里，所以添加这个来帮助其他人）

# django - 带有日历 Django 的 DateField

> ID：15803257
> 
> 赞同：1
> 
> 时间：2013-04-04T05:34:03.940
> 
> 标签：django, django-forms, django-admin, django-views

我想使用 django-admin 面板中的一种日历来选择日期。我尝试使用它，但它不显示日历。

```
aDate = forms.DateField(widget = AdminDateWidget) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:05:10.617

表格.py

```
from django import forms
from django.contrib.admin import widgets

from .models import MyModel         

class MyForm(forms.ModelForm):
    class Meta:
        model = MyModel

    def __init__(self, *args, **kwargs):
        super(MyForm, self).__init__(*args, **kwargs)
        self.fields['aDate'].widget = widgets.AdminDateWidget() 
```

在您的模板中添加这些 css 和 js

```
{% load static %}

<link rel="stylesheet" type="text/css"
    href="{% static 'admin/css/forms.css' %} "/>
<link rel="stylesheet" type="text/css"
    href="{% static 'admin/css/base.css' %} "/>
<link rel="stylesheet" type="text/css"
    href="{% static 'admin/css/global.css' %}"/>
<link rel="stylesheet" type="text/css"
    href="{% static 'admin/css/widgets.css' %}"/>

<script type="text/javascript"
    src="/admin/jsi18n/"></script>
<script type="text/javascript"
    src="{% static 'admin/js/core.js' %}"></script>
<script type="text/javascript"
    src="{% static 'admin/js/admin/RelatedObjectLookups.js' %}"></script>
<script type="text/javascript"
    src="{% static 'admin/js/jquery.js' %}"></script>
<script type="text/javascript"
    src="{% static 'admin/js/jquery.init.js' %}"></script>
<script type="text/javascript"
    src="{% static 'admin/js/actions.js' %}"></script>
<script type="text/javascript"
    src="{% static 'admin/js/calendar.js' %}"></script>
<script type="text/javascript"
    src="{% static 'admin/js/admin/DateTimeShortcuts.js' %}"></script> 
```

# javascript - 使用 YouTube 的 iFrame 播放器在 iOS webview 中内联渲染视频？

> ID：15803261
> 
> 赞同：3
> 
> 时间：2013-04-04T05:34:16.473
> 
> 标签：javascript, ios, html, webview, youtube

我正在尝试在 iOS 应用程序的 web 视图中使用 YouTube iFrame 播放器，但播放器坚持使用 iOS 播放器全屏呈现视频。我想在 webview 中播放视频。是否有一些价值我可以传递给播放器以说服它在网络视图中而不是移动 Safari 中，并且可以只在 iframe 中呈现视频？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-06-24T18:42:36.827

这是 Swift 中的一个示例，说明如何在不强制用户进入全屏播放器的情况下在线播放 YouTube 视频：

```
let webView = UIWebView(frame: CGRectMake(0, 30, self.view.frame.size.width, 500)) // or your custom rect, this is just an example

self.view.addSubview(webView)
self.view.bringSubviewToFront(webView)

// Play video in-line and start playback immediately
webView.allowsInlineMediaPlayback = true
webView.mediaPlaybackRequiresUserAction = false

// Set the id of the video you want to play
let videoID = "zN-GGeNPQEg" // https://www.youtube.com/watch?v=zN-GGeNPQEg

// Set up your player
let embededHTML = "<html><body style='margin:0px;padding:0px;'><script type='text/javascript' src='http://www.youtube.com/iframe_api'></script><script type='text/javascript'>function onYouTubeIframeAPIReady(){ytplayer=new YT.Player('playerId',{events:{onReady:onPlayerReady}})}function onPlayerReady(a){a.target.playVideo();}</script><iframe id='playerId' type='text/html' width='\(self.view.frame.size.width)' height='\(self.view.frame.size.height)' src='http://www.youtube.com/embed/\(videoID)?enablejsapi=1&rel=0&playsinline=1&autoplay=1' frameborder='0'></body></html>"

// Load the player
webView.loadHTMLString(embededHTML, baseURL: NSBundle.mainBundle().bundleURL) 
```

# linq - LINQ：在一个类别下选择产品，包括子类别

> ID：15803262
> 
> 赞同：2
> 
> 时间：2013-04-04T05:34:24.223
> 
> 标签：linq, entity-framework

下面的代码搜索与关键字匹配`s`或在与关键字匹配的类别下的产品`s`。

它工作但很乏味，我想知道是否有更短的方法可以做到这一点？

```
var products = context.Products.Where(x => 
                 x.Name.Contains(s) ||
                 x.Products_Categories.Any(pc => 
                     pc.Category.Name.Contains(s) || 
                     (pc.Category.Category1 != null && pc.Category.Category1.Name.Contains(s)) || 
                     (pc.Category.Category1 != null && pc.Category.Category1.Category1 != null && pc.Category.Category1.Category1.Name.Contains(s) || 
                     (pc.Category.Category1 != null && pc.Category.Category1.Category1 != null pc.Category.Category1.Category1.Category1 != null && &&pc.Category.Category1.Category1.Category1.Name.Contains(s))
               ); 
```

如果不明显：

`Products_Categories`是多对多的关系，a`Product`可以是一个或多个`Category`。

`Category1`是 的父类别`Category`。

请注意，它已链接到数据库，因此我无法使用`IsUnderCategory()`.
我目前不需要 Expression，因为此代码只使用一次。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:40:14.840

在 linq 中没有递归查询的捷径，在由 SQL 查询提供程序支持的 linq 中则更少。*但是，在执行之前先将*语句转换为 SQL 有一个好处：SQL 没有空引用的概念。`null`因此，您从语句中删除所有检查：

```
var products = context.Products.Where(x => 
                 x.Name.Contains(s) ||
                 x.Products_Categories.Any(pc => 
                     pc.Category.Name.Contains(s) || 
                     pc.Category.Category1.Name.Contains(s) || 
                     pc.Category.Category1.Category1.Name.Contains(s) || 
                     pc.Category.Category1.Category1.Category1.Name.Contains(s))
               ); 
```

它将被转换为具有许多外连接的 SQL 语句。如您所知，如果在外部联接表的字段没有记录时对其进行寻址，SQL 不会崩溃。

查询将是……可怕的。你必须假设层次结构的最大深度。改善这一点的唯一方法是在数据库中创建一个视图，该视图通过[递归 SQL 查询](http://msdn.microsoft.com/en-us/library/ms186243%28v=sql.105%29.aspx)返回产品的所有类别。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-10-02T23:05:32.847

使用 EF 的另一种方法是使用 while 循环简单地迭代地查询所有类别的子类别。

完成后，您将拥有所有 ID。第一次，查询计划还没有完成，它需要一点时间，但它非常快，具体取决于你的数据库有多可怕。

然后，您可以使用转换为的方法[查询具有任何类别 ID 列表的所有产品](https://stackoverflow.com/a/13342905/169034)`Contains``WHERE FieldName IN (1,2,3)`

这种方法的优点是它不依赖于您拥有多少级别的子类别。它总是有效，而另一种选择会默默地失败。

# javascript - 在highcharts条形图上打印一个值？

> ID：15803263
> 
> 赞同：9
> 
> 时间：2013-04-04T05:34:27.930
> 
> 标签：javascript, jquery, highcharts

我使用`highcharts.js`. 我将设备名称添加为 y 轴，并将数据包添加为 x 轴的字节。如何在条形图的条形图上添加设备接触时间。我在数组中有一个设备接触时间。我想要的是一种打印方式，即时间值在条形图上？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-04T08:35:58.340

您可以通过启用 dataLabels 并自定义它们来做到这一点。您还需要以特定方式格式化数据：

```
$(function () {
$('#container').highcharts({
    chart: { type:'bar',
    },
    xAxis: {
        categories: ['Device 1', 'Device 2']
    },

    plotOptions: {
        series: {
            dataLabels: {
                enabled: true,
                formatter:function() {
                    return this.point.t;
                }
            }
        }
    },

    series: [{
        data: [{y:29.9,t:"12:45"}, {y:71.5,t:"14:45"}]        
    }]
});
}); 
```

[http://jsfiddle.net/NPSEf/](http://jsfiddle.net/NPSEf/)

此示例中的数据有一个定义为“t”的附加字段，其中包含您要在条形图上显示的时间。在 dataLabel 格式化函数中，您可以使用 this.point.t 引用每个点内的所有数据，包括 't'。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-04T06:04:45.507

请分享您的代码...

你是不是在找这个...

从您的 highcharts 系列数据中调用 openData() 函数

```
series: [{
    name: 'BarName',
    data: openData()

}] 
```

**openData() 函数**

```
function openData() {
 var fromDate =$('#startDate').val();
 var toDate = $('#expireDate').val();

 if(fromDate == '' || toDate == '' ){
  //    return false;
 }

 var data = 'fromDate='+fromDate+'&toDate='+toDate;
 $.ajax({
    url: 'apAppOpenChart.php',
    data: data,
    success: function(data) {
        var chartData=[];
        var retdata = jQuery.parseJSON(data);
        var length =retdata.length;

            for(var i=0; i<length; i++){
                var jsDate = new Date(retdata[i][0]*1000); 
                var datejs = jsDate.getFullYear()+','+jsDate.getMonth()+','+jsDate.getDate();

            }
            chart.series[0].setData(retdata);
            chart.redraw();
        },
    cache: false
 });
} 
```

# hadoop - 名称节点处于安全模式。无法离开

> ID：15803266
> 
> 赞同：130
> 
> 时间：2013-04-04T05:34:51.537
> 
> 标签：hadoop, hdfs

```
root# bin/hadoop fs -mkdir t
mkdir: org.apache.hadoop.hdfs.server.namenode.SafeModeException: Cannot create directory /user/root/t. Name node is in safe mode. 
```

无法在 hdfs 中创建任何内容

我做了

```
root# bin/hadoop fs -safemode leave 
```

但显示

```
safemode: Unknown command 
```

问题是什么？

解决方案：[http ://unmeshasreeveni.blogspot.com/2014/04/name-node-is-in-safe-mode-how-to-leave.html?m=1](http://unmeshasreeveni.blogspot.com/2014/04/name-node-is-in-safe-mode-how-to-leave.html?m=1)

* * *

## 回答 #1

> 赞同：222
> 
> 时间：2013-04-04T06:04:46.877

为了强制让namenode离开安全模式，应该执行以下命令：

```
 bin/hadoop dfsadmin -safemode leave 
```

您`Unknown command`的命令出错，因为`-safemode`它不是 的子命令`hadoop fs`，但它是`hadoop dfsadmin`.

同样在上述命令之后，我建议您运行一次，`hadoop fsck`以便解决 hdfs 中出现的任何不一致问题。

**更新：**

对于较新的发行版，使用`hdfs`命令而不是`hadoop`命令。该`hadoop`命令已被弃用：

```
hdfs dfsadmin -safemode leave 
```

`hadoop dfsadmin`已被弃用，`hadoop fs`命令也是如此，所有与 hdfs 相关的任务都被移至单独的命令`hdfs`。

* * *

## 回答 #2

> 赞同：30
> 
> 时间：2015-01-03T10:53:36.757

试试这个，它会工作

```
sudo -u hdfs hdfs dfsadmin -safemode leave 
```

* * *

## 回答 #3

> 赞同：21
> 
> 时间：2014-02-23T11:39:58.150

The Command did not work for me but the following did

```
hdfs dfsadmin -safemode leave 
```

I used the `hdfs` command instead of the `hadoop` command.

Check out [http://ask.gopivotal.com/hc/en-us/articles/200933026-HDFS-goes-into-readonly-mode-and-errors-out-with-Name-node-is-in-safe-mode-](http://ask.gopivotal.com/hc/en-us/articles/200933026-HDFS-goes-into-readonly-mode-and-errors-out-with-Name-node-is-in-safe-mode-) link too

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2018-09-12T02:45:57.013

安全模式开启意味着（HDFS 处于只读模式）
安全模式关闭意味着（HDFS 处于可写和可读模式）

在`Hadoop 2.6.0`中，我们可以借助以下命令检查名称节点的状态：

检查名称节点状态

```
$ hdfs dfsadmin -safemode get 
```

进入安全模式：

```
$ hdfs dfsadmin -safemode enter 
```

离开安全模式

```
~$ hdfs dfsadmin -safemode leave 
```

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2015-11-19T09:46:21.997

如果您使用上面的 Hadoop 版本 2.6.1，当该命令有效时，它会抱怨它已贬值。我实际上无法使用，`hadoop dfsadmin -safemode leave`因为我在 Docker 容器中运行 Hadoop，并且该命令在容器中运行时神奇地失败了，所以我所做的就是这样。我检查了文档并`dfs.safemode.threshold.pct`在文档中发现

> 指定应满足 dfs.replication.min 定义的最小复制要求的块的百分比。小于或等于 0 的值意味着在退出安全模式之前不等待任何特定百分比的块。大于 1 的值将使安全模式永久化。

所以我将其更改`hdfs-site.xml`为以下内容（在较旧的 Hadoop 版本中，显然您需要这样做`hdfs-default.xml`：

```
<configuration>
    <property>
        <name>dfs.safemode.threshold.pct</name>
        <value>0</value>
    </property>
</configuration> 
```

* * *

## 回答 #6

> 赞同：6
> 
> 时间：2017-11-21T14:24:45.400

**尝试这个**

```
sudo -u hdfs hdfs dfsadmin -safemode leave 
```

检查安全模式的状态

```
sudo -u hdfs hdfs dfsadmin -safemode get 
```

如果它仍处于安全模式，则原因之一是节点空间不足，您可以使用以下命令检查节点磁盘使用情况：

```
df -h 
```

如果根分区已满，请删除文件或在根分区中添加空间，然后重试第一步。

* * *

## 回答 #7

> 赞同：5
> 
> 时间：2014-09-24T06:15:37.947

Namenode 在内存不足时进入安全模式。结果，HDFS 变得只读。这意味着不能在 HDFS 中创建任何额外的目录或文件。要退出安全模式，请使用以下命令：

```
hadoop dfsadmin -safemode leave 
```

如果您使用的是 cloudera 管理器：

```
go to >>Actions>>Leave Safemode 
```

但它并不总能解决问题。完整的解决方案在于在内存中腾出一些空间。使用以下命令检查您的内存使用情况。

```
free -m 
```

如果您使用的是 cloudera，您还可以检查 HDFS 是否显示出一些健康状况不佳的迹象。它可能必须显示一些与名称节点相关的内存问题。按照可用选项分配更多内存。如果您不使用 cloudera manager，我不确定要使用哪些命令，但必须有办法。希望能帮助到你！:)

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2017-08-23T05:43:16.200

使用 HDFS OS 用户运行以下命令以禁用安全模式：

```
sudo -u hdfs hadoop dfsadmin -safemode leave 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2017-09-14T06:47:15.440

使用以下命令关闭安全模式

$> hdfs dfsadmin -safemode 离开

# javascript - Backbone.js：如何从烧瓶端点显式请求 json？

> ID：15803269
> 
> 赞同：0
> 
> 时间：2013-04-04T05:35:03.857
> 
> 标签：javascript, json, backbone.js

所以我有一个文件，`index.html`：

```
<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<!--[if lt IE 9]><script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
<head>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Example</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.1.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/main.css">
</head>

<body>
<div class="container" id="content">
    <h1>User Manager</h1>
    <hr/>
    <div class="page"></div>
</div>

<!-- Third-Party Libraries -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore-min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.0.0/backbone-min.js"></script>

<!-- Application core -->
<script src="./src/common.js"></script>
<script src="./src/application.js"></script>

<!-- Modules -->
</body>
</html> 
```

引用两个 javascript 文件，`common.js`并且`application.js.`

`common.js`只包含通用功能，现在看起来像：

```
$.fn.serializeObject = function() {
    var o = {};
    var a = this.serializeArray();
    $.each(a, function() {
        if (o[this.name] !== undefined) {
            if (!o[this.name].push) {
                o[this.name] = [o[this.name]];
            }
            o[this.name].push(this.value || '');
        } else {
            o[this.name] = this.value || '';
        }
    });
    return o;
}; 
```

`application.js`拥有一个 Backbone.js 应用程序，如下所示，遵循[http://backbonetutorials.com/](http://backbonetutorials.com/)中的示例：

```
/** PREFILTER - points to our instance **/

$.ajaxPrefilter( function( options, originalOptions, jqXHR ) {
    options.url = 'http://backbonejs-beginner.herokuapp.com' + options.url;
});

/** COLLECTIONS **/

var Users = Backbone.Collection.extend({
    url: '/users'
});

/** ROUTES **/

var Router = Backbone.Router.extend({
    routes: {
        '': 'home'
    }
})

/** VIEWS **/

var userList = Backbone.View.extend({

    el: '.page',
    render: function() {
        var users = new Users();
        users.fetch({
            success: function () {
                this.$el.html("CONTENT HERE");  
            }
        })

    }

});

/** INSTANCES **/

/* VIEWS */
var userList = new userList();

/* ROUTES */
var router = new Router()

router.on('route:home', function() {
    userList.render();
})

/** START HISTORY **/
Backbone.history.start(); 
```

我可以使用 Chrome 开发人员工具来判断这适用于该站点提供的示例页面——它会提取 json 对象并进行预览。

但是，当我将预过滤器字符串切换到我自己的 heroku 实例时，我在控制台中得到以下信息：

> XMLHttpRequest 无法加载 {{our instance}}/users。Access-Control-Allow-Origin 不允许 Origin null。

即使我可以`{{our instance}}/users`在浏览器中访问并通过 Postman 查询，也会发生这种情况。我的猜测是，这与我让 Backbone 检索数据的方式有关，它通过标准请求而不是显式请求 JSON 来提取数据。这里是否有最佳实践，以便我可以在此端点抓取对象？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-22T11:51:21.767

我很确定这`XMLHttpRequest cannot load {{our instance}}/users. Origin null is not allowed by Access-Control-Allow-Origin.`与不使用标头的**cdnjs**`Access-Control-Allow-Origin: *`有关。

尝试自己提供这些文件（而不是 cdnjs），看看是否能解决您的问题

# c# - 浮点精度格式以抑制尾随零

> ID：15803273
> 
> 赞同：1
> 
> 时间：2013-04-04T05:35:29.313
> 
> 标签：c#, .net, double

我正在使用格式字符串`F2`来转换双精度值。我得到的格式化值是`9999.00`，如果双值是`9999`

我应该使用哪种格式字符串来避免尾随零`9999.00`？

更清楚地说，我需要的输出是当给定左侧的参数时，我收到右侧的输出

```
1.211 -> 1.21
1.245 -> 1.25
1.1   -> 1.1
1     -> 1 
```

有没有标准的字符串格式可以做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T05:39:57.217

你想要的字符串是F0。

文档在这里：

[http://msdn.microsoft.com/en-us/library/dwhawy9k.aspx](http://msdn.microsoft.com/en-us/library/dwhawy9k.aspx)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-04T14:55:07.190

您可以使用格式字符串，包括`#`可选地包含最多给定的小数位数，但不超过要求。例如，您可以使用格式字符串`"0.##"`。

```
double d = 1.245;
Console.WriteLine(d.ToString("0.##")); 
```

这将产生 1.25。`1.1`当给定具有该值的参数时，将产生与输出相同的格式字符串。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T05:44:26.340

```
double d = 9999;
Console.WriteLine(d.ToString("F0")); 
```

Outpur 将是；

```
9999 
```

这是一个[`DEMO`](http://ideone.com/IUcaIf).

查看更多信息[`Standard Numeric Format Strings`](http://msdn.microsoft.com/en-us/library/dwhawy9k.aspx)

# c# - 替换中 VarString 的唯一声明

> ID：15803290
> 
> 赞同：0
> 
> 时间：2013-04-04T05:36:41.753
> 
> 标签：c#, .net

我正在使用一些用于制作 Code Editor 的替换代码。

就像这样的场景，当我在`RichTextbox`（用作代码编辑器）示例中输入关键字时：我输入`"Ac"`（`RichTextbox`rtb）然后假设`ComboBox`（声明为 lb）会出现。

就像里面有字符串的上下文提示/智能感知：

```
public string[] Accep = { "AcceptRejectRule" };
public string[] Acces = { "AccessibleEvents" }; 
```

然后我使用`KeyEvent`args 代码如果我在最后一个单词中选择后按 Enter`ComboBox` 将替换为我之前键入的单词，就像当我键入 所有以in`"Ac"`开头的字符串时一样：`"Ac"``ComboBox`

--- 这适用于在richtextbox 中输入的每个单词

```
if (token == "letterA" || token.StartsWith("Ac") || token.StartsWith("ac") || token.StartsWith("AC"))
{
    int length = line.Length - (index - start);
    string commentText = rtb.Text.Substring(index, length);
    rtb.SelectionStart = index;
    rtb.SelectionLength = length;
    lb.Visible = true;

    KeyWord keywordsHint = new KeyWord();

    foreach (string str in keywordsHint.ac)
    {
        lb.Items.Add(str);
        lb.SelectedIndex = lb.FindStringExact(str);
    }                   
} 
```

--- 这是一个`KeyEvent`参数

```
if (e.KeyCode == Keys.Enter)
{    
    string Slb = lb.SelectedText.ToString();
    var trimmed = RemoveFromStart(Slb, new String[] { "Ac", "Accep", "Acces" });
    rtb.SelectedText = trimmed;

    lb.Hide();
} 
```

然后，当我在`ComboBox`示例中选择时`"Ac"`，我想在`ComboBox`( `"AcceptRejectRule"`, `"AccessibleEvents"`) 中选择 AccessibleEvent，当我按 Enter 时，输出将是`"AccessibleEvents"`因为它被声明为`"Ac`“将在替换代码上方和此参数内部时删除：

```
//Replacing Parameter:
public string RemoveFromStart(string s, IEnumerable<string> strings)
{
    foreach (var x in strings.Where(s.StartsWith))
    {
        return s.Remove(0, x.Length);
    }
    return s;
} 
```

但是当我键入时，`"Acces"`我选择`"AccessibleEvents"`输出将是： `"AccescessibleEvents"`而不是“AccessibleEvent”，因为“Ac”是我在`RemoveFromStart`方法中使用的最短字符串。

现在我的问题是如何在代码中创建每个字符串：

```
var trimmed = RemoveFromStart(Slb, new String[] { "Ac", "Accep", "Acces" }); 
```

唯一的我可以让`"Accep"`即使“也删除`"Ac`”被声明为最短的字符串。

非常感谢您，希望您能帮助我:(。真的非常需要帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:00:05.887

我认为简单的降序排序将首先匹配最长的字符串：

```
 var trimmed = RemoveFromStart(Slb, 
     (new String[] { "Ac", "Accep", "Acces" })
      .OrderByDescending(s=>s)); 
```

旁注：在您的代码中考虑不区分大小写的比较。

# c++ - C/C++ 中非常大的静态数组的算术运算

> ID：15803291
> 
> 赞同：6
> 
> 时间：2013-04-04T05:36:42.617
> 
> 标签：c++, c, arrays, static, stack

我是这个论坛的新手，`High Performance Computing`也是我的第一个问题，我长期以来一直是这个论坛的读者。

基本上我需要对非常大的数组进行算术运算，例如

```
double variable [9][4][300][300][300] (uninitialized) 
```

**案例1：**如果我将上面的数组声明为，`local/automatic`那么如果我在没有*像* “ `g++ file.cpp`”这样的优化的情况下进行编译，则会出现运行时错误。（错误是分段错误——堆栈溢出？？？）

**案例 2：**在与上述相同的情况下，如果我进行了优化编译，代码将按预期运行。`"g++ -O2 file.cp`p"（现在`array`在`bss`吗？？？）

**案例3：**如果我创建变量`global/static`，那么它编译得很好，但它仍然没有运行，只是`killed`在终端上给出一条消息“”并终止。

没有真正的问题，但我很好奇，想了解当声明超大数组时会发生什么，以及它们驻留在内存中的位置，具体取决于它们的数据类型。

我也知道在运行时使用 malloc 或 new 生成这些数组的方法。那么它当然会在堆上。

所以对我来说最重要的问题是 --> 在`g++`使用`linux clusters`.

感谢您的耐心阅读。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-04T05:43:30.983

无论优化标志如何，局部变量都将*始终在堆栈上。*这个数组大约有 7 GB！比任何可能的堆栈都大。

大小也可能是它无法启动的一个原因，就好像你把它作为一个全局/静态变量一样，那么你需要有超过 7 GB 或虚拟内存*可用*且*连续*才能加载程序。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-04T06:09:03.503

我可以提出以下建议：

```
typedef double slice[300][300][300];

std::vector<slice> variable[9] = { 4, 4, 4, 4, 4, 4, 4, 4, 4 }; 
```

这样 4 个`slice`对象的每个向量都会被动态分配，这 9 个向量的内容不需要彼此连续，堆栈消耗只够 9 个向量的元数据。

# css - Twitter Bootstrap / 横向模式问题

> ID：15803294
> 
> 赞同：0
> 
> 时间：2013-04-04T05:36:58.300
> 
> 标签：css, twitter-bootstrap

我正在使用 Twitter Bootstrap 和 Wordpress 来制作投资组合网站。我没有修改 Bootstrap 核心 CSS（bootstrap.css 和 responsive.css），但我添加了一个自定义 CSS 并进行了一些调整。

在这种情况下，我创建了一个包含 6 个拇指的 2 列库，使用它作为我的自定义 CSS：

```
 #featured-content {

    padding: 3.125%;

}

#featured-content article.span4 {

    float: left;
    width: 48.33333333333333%;
    margin: 0;
    padding: 0;
    margin-bottom: 20px;

}

#featured-content article.span4.even {

    margin-left: 3.33333333333334%;

}

#featured-content article.span4 img {

    min-width: 100%;

} 
```

这在纵向模式下就像一个魅力：

![人像模式](https://i.stack.imgur.com/5IDrWl.jpg)

但是，在横向模式下，我在最后两张图片中遇到了这个丑陋的错误：

![横向模式](https://i.stack.imgur.com/2Hd7Al.png)

图像大小相同，所以这不是问题。此外，我所有的 CSS 都是基于百分比的，所以一旦用户切换到横向，它应该在保持比例的同时进行缩放，对吗？

此外，这发生在最后两张图片中，这很奇怪。

谢谢！

# java - 无法引用二进制搜索静态方法的问题

> ID：15803295
> 
> 赞同：0
> 
> 时间：2013-04-04T05:36:58.523
> 
> 标签：java, compiler-errors, binary-search

我面临的问题是了解如何利用`binary search`搜索给定`array`（电影）的用户输入标题？我对搜索本身有感觉，但不明白如何使用返回值来显示找到或未找到的标题。

接下来的代码段包括我`bubble sort`进入`binary search`. 以下是我不断看到的一些错误消息。

```
C:\Users\goofy bastard\Documents\JAVA>javac CharlieBrownP5.java
CharlieBrownP5.java:115: error: non-static method binarySearch(Movie[],String) 
cannot be referenced from a static context   
binarySearch(movies, key) = x;

CharlieBrownP5.java:115: error: unexpected type
 binarySearch(movies, key) = x;

  required: variable
  found:    value
CharlieBrownP5.java:134: error: cannot find symbol        if(key.comparTo(movies[mid].getTitle()) > 0) {
  symbol:   method comparTo(String)
  location: variable key of type String
3 errors 
```

代码：

```
 public static void displayTotals(Movie[] movies) {
    double totalRevenue = 0;
    int totalMovies = Movie.getTotalMovies();
    for(int i = 0; i < movies.length; i++) {
        totalRevenue += movies[i].calcRevenue();
    }
    System.out.print("The total number of movies is " + totalMovies +
        " and their total revenue is ");
    System.out.printf("%8.3f", totalRevenue);
    System.out.print(" million dollars.\n\n");

}

public static void searchForMovie(Movie[] movies) {
    Scanner input = new Scanner(System.in);
    boolean needNextPass = true;
    String key;
    Movie temp;

    System.out.print("Enter the Title of the Movie to Search for: ");
    key = input.nextLine();

    for(int pass = 1; pass < movies.length && needNextPass; pass++)
    {
        needNextPass = false;
        for(int x=0; x< movies.length-pass; x++)
        {
            if(movies[x].getTitle().compareTo(movies[x+1].getTitle()) > 0)
            {
                temp = movies[x];
                movies[x] =  movies[x+1];
                movies[x+1] = temp;

                needNextPass = true;
            }
        }
    }
    int x;
    binarySearch(movies, key) = x;

    if (movies[x].getTitle() == key){
        System.out.printf(movies[x].toString());
    }
    else{
        System.out.print("There is no match item found for movie " +
            "with the title " + key);
    }
}

public static void getMenuChoice4() { 

}
public int binarySearch(Movie[] movies, String key) {
    int low = 0;
    int high = movies.length -1;
    while (high >= low) {
        int mid = (low + high) / 2;
        if(key.comparTo(movies[mid].getTitle()) > 0) {
            high = mid -1;
        }
        else if(key == movies[mid].getTitle()){
            return mid;
        }
        else{
            low = mid + 1;
        }

    }   
    return -low - 1; 
```

非常感谢任何帮助，我已经为此工作了几个小时。我对 java 很陌生，这是我的 java 类作业的一部分。请保持简单。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:21:24.927

该错误说明了一切 -`binarySearch`不是静态的，您正在尝试在静态函数中使用它。让它静态：

```
public static int binarySearch(Movie[] movies, String key) {
... 
```

对于另一个错误，您只需要交换函数调用和变量：

```
x = binarySearch(movies, key); 
```

因为`binarySearch(movies, key) = x;`意味着分配`x`给从函数返回的值（而不是相反），这没有意义，因为一旦表达式完成执行，返回的值就会消失。

而您只是输入`compareTo`错误（缺少`e`）。

# ruby-on-rails - Rails to_json 静态方法：TypeError X 不是符号

> ID：15803296
> 
> 赞同：2
> 
> 时间：2013-04-04T05:37:03.947
> 
> 标签：ruby-on-rails, json, serialization, static

我希望我的 to_json 包含来自控制器的静态方法。

```
class ApplicationController < ActionController::Base   
  def self.server_time
    Time.now
  end 
end 
```

我都试过了：

```
o.to_json(:methods => ApplicationController.server_time) 
```

和

```
o.to_json(:include => ApplicationController.server_time) 
```

但我得到**TypeError**：

```
TypeError: 2013-04-04 08:33:31 +0300 is not a symbol 
```

*o 是一个 ActiveRecord 对象*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T05:45:37.823

```
ApplicationController.server_time.to_json 
```

为我工作

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-10T18:29:39.853

不知道`o`你的上下文是什么，但你也可以：

```
[o, ApplicationController.server_time].to_json 
```

或者

```
{ApplicationController.server_time: o}.to_json 
```

在您的 json 中包含时间

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-15T10:53:12.980

如果您希望 JSON 像以前一样使用新的“时间”键，请执行以下操作：

```
o.as_json.merge({time:ApplicationController.server_time}).to_json
# => {time:123, id:1, name: 'name', ...} 
```

您还可以使用时间键和对象键：

```
{time: ApplicationController.server_time, object: o}.to_json
 # => {time:123, object: {id:1, name: 'name', ...} } 
```

感谢 Rails 的魔力，您不必`to_json`在控制器中指定：

```
render json: o.as_json.merge({time:ApplicationController.server_time})
# or the other option
render json: {time: ApplicationController.server_time, object: o} 
```

# xcode - 分支后项目根目录下有哪些文件？

> ID：15803300
> 
> 赞同：1
> 
> 时间：2013-04-04T05:37:23.180
> 
> 标签：xcode, git

当使用带有 Xcode 的本地存储库时，我想知道如果这些文件涉及多个分支，那么您在硬盘驱动器上的项目目录中看到的文件实际上是什么版本的文件。

由于文件的内容在不同的分支中可能不同，甚至在已保存与尚未提交时也可能不同，所以我假设很多这些东西只保存在 .git 文件夹中。但是在使用 git 的过程中，实际文件本身在什么时候发生了变化？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T05:59:27.207

> 在使用 git 的过程中，实际文件本身在什么时候发生变化

在 a [`git checkout aBranch`](http://git-scm.com/docs/git-checkout)(在 XCode 中称为[“切换分支”](http://useyourloaf.com/blog/2012/02/29/git-branch-management-with-xcode.html) )：如果文件内容与当前分支不同，则该文件将随之改变。

# android - 卸载应用程序时从 sd 卡中删除应用程序数据

> ID：15803304
> 
> 赞同：0
> 
> 时间：2013-04-04T05:37:48.477
> 
> 标签：android, emulation, uninstallation, android-sdcard

我正在使用路径将我的一些应用数据（例如视频）存储在外部缓存目录中

```
android.os.Environment.getExternalStorageDirectory(),"/Android/data/"+getPackag‌​eName()+"/cache/" 
```

当我卸载我的应用程序时，我的预期结果是从此指定路径中删除数据。当我使用模拟器执行此操作时效果很好。卸载应用程序时，应用程序数据将从 sdcard 中删除。但是，在这种情况下，当我在真实设备（即三星 Galaxy S）上执行我的代码时，卸载时不会删除应用程序数据。请告诉我这是可能的原因，我该如何克服。

我也试图在重复线程上找到解决方案，但这没有用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T06:23:21.747

如果您使用**API 级别 7 或更低**，请使用`getExternalStorageDirectory()`,**打开代表外部存储根目录的文件**。然后，您应该将数据写入以下目录：

```
/Android/data/<package_name>/files/ 
```

是您的`<package_name>`Java 风格的包名，例如`"com.example.android.app"`. 如果用户的设备运行**API 级别 8 或更高**，并且他们**卸载了您的应用程序，则此目录及其所有内容将被删除。**

有关更多详细信息，请查看这篇**[文章](http://developer.android.com/guide/topics/data/data-storage.html#filesExternal)**。

**编辑：**

检查一下，我刚刚`/Android/data/com.example.testdir/files/scanned.txt`使用以下代码创建了一个文件：

```
package com.example.testdir;

import java.io.File;
import android.app.Activity;
import android.os.Bundle;
import android.os.Environment;
import android.view.Menu;
import android.view.View;

public class MainActivity extends Activity {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }

    public void clickBtn(View v) {
        if (v.getId() == R.id.button1) {

            File sdcard = new File(Environment.getExternalStorageDirectory()
                    + "/Android/data/com.example.testdir/files/");

            if (!sdcard.exists())
                sdcard.mkdirs();

            File file = new File(sdcard, "scanned.txt");

            if (!file.exists()) {
                try {
                    file.createNewFile();
                } catch (Exception e) {
                    // TODO: handle exception
                    e.printStackTrace();
                }
            }
        }
    }
} 
```

我也添加了这个权限

```
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /> 
```

`<package_name>`它在我的案例中删除文件夹名称文件夹名称`com.example.testdir`来自`sdcard/android/data/com.example.testdir`.

# c++ - 鼠标悬停时更改图片框，鼠标离开时重置

> ID：15803305
> 
> 赞同：1
> 
> 时间：2013-04-04T05:37:50.733
> 
> 标签：c++, .net, winforms, image, visual-c++

我正在开发一个 Windows 窗体程序，并且很难找到如何在 C++ 中执行此操作。MSDN 有这个页面， http: [//msdn.microsoft.com/en-us/library/system.windows.forms.picturebox.image](http://msdn.microsoft.com/en-us/library/system.windows.forms.picturebox.image)，但与 VB 相比，缺少 C++ 文档。

这就是我到目前为止所拥有的。这种方法应该避免常见的闪烁问题，但我不确定从那里去哪里，因为我需要它在鼠标离开后返回到原始图像。

```
void InitializeComponent(void)
    {   
this->btnExit->BackColor = System::Drawing::Color::Transparent;
        this->btnExit->BackgroundImageLayout = System::Windows::Forms::ImageLayout::None;
        this->btnExit->Image = (cli::safe_cast<System::Drawing::Image^  >(resources->GetObject(L"btnExit.Image")));
        this->btnExit->Location = System::Drawing::Point(764, 4);
        this->btnExit->Name = L"btnExit";
        this->btnExit->Size = System::Drawing::Size(30, 20);
        this->btnExit->TabIndex = 3;
        this->btnExit->TabStop = false;
        this->btnExit->Click += gcnew System::EventHandler(this, &mainForm::btnExit_Click);
}

#pragma endregion
private: System::Void btnExit_OnMouseEnter(System::Object^  sender, System::EventArgs^  e) {
            Image^ get ();
            void set (Image^ value);
         } 
```

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T21:00:18.437

```
private: System::Void btnExit_MouseEnter(System::Object^  sender, System::EventArgs^  e) {
         btnExit->Image = Image::FromFile("C:\\Users\\...\\image.png");
 } 
```

有效，不确定它是否是正确的方法。

# python - 函数中的返回数

> ID：15803315
> 
> 赞同：2
> 
> 时间：2013-04-04T05:39:07.830
> 
> 标签：python, return

如果我们在 python 函数中使用许多返回位置会有什么害处吗？就像假设如果我想返回一个函数，如果**值不是 3 并且值不是 None**（只是一个场景）。所以它可以通过很多方式来完成，比如

```
def return_value(value):
 if value != 3:
  return None
 if value is not None:
  return None
 if value != 'string':
  return None 
```

或者可以这样做：

```
def return_value(value):
 if value != 3 or value is not None or value !='string':
  return None 
```

同样，我只想使用第二种编写代码的方式，但只是出于疑问，我要问有很多回报会以某种方式影响函数的性能吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T05:40:13.310

`return`不，拥有许多s并没有什么坏处。

也就是说，在这种情况下，我肯定会选择第二个版本。第一个更难阅读，也更慢（尽管在没有基准的情况下优化速度总是为时过早）。降低它的不是 many `return`s，而是 many `if`s。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-04T05:45:34.047

您在上面使用的这似乎是一个非常有趣的场景，但从概念上讲，函数中的多个返回点没有问题。

在实际场景中，您的测试条件很可能在逻辑上相似，并且将它们组合在一起，如您的第二个示例中那样，将具有良好的逻辑意义并使您的代码易于阅读。

干杯

# php - PHP中的不同会话ID

> ID：15803316
> 
> 赞同：0
> 
> 时间：2013-04-04T05:39:08.340
> 
> 标签：php, login, sessionid

我在`mysql`数据库中有两个用户，当一个用户登录时，它会得到一个`session id`. 但是当第一个用户注销和第二个用户登录时，它与`session id`第一个用户相同。我希望即使浏览器没有关闭，但同一个浏览器有多个登录和注销，`session id`每个登录的用户都应该改变。

我使用以下代码：

```
 session_unset();
 session_destroy(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T05:41:21.037

调用`session_destroy()`您的注销脚本。

如果新用户登录而旧用户未注销，您也可以在登录脚本中调用它。

从[文档](http://www.php.net/manual/en/function.session-destroy.php)中：

> **session_destroy()**销毁与当前会话关联的所有数据。它不会取消设置与会话关联的任何全局变量，也不会取消设置会话 cookie。要再次使用会话变量，必须调用**session_start() 。**
> 
> 为了完全终止会话，例如注销用户，还必须取消设置会话 ID。如果使用 cookie 传播会话 id（默认行为），则必须删除会话 cookie。**setcookie()**可以用于此。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T05:42:26.763

然后您需要显式[`destroy`](http://php.net/session_destroy)会话或[重新生成 id](http://php.net/session_regenerate_id)。
我猜你现在只是把它挂在那里。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T05:45:08.790

`session_destroy()`在您的注销按钮上使用。

# serial-port - 检查串行端口 GSM 调制解调器连接状态

> ID：15803318
> 
> 赞同：0
> 
> 时间：2013-04-04T05:39:19.763
> 
> 标签：serial-port, gsm

我有一个连接到串行端口的 GSM 调制解调器，我使用它在某些事件时发送 SMS。

由于它不是即插即用的，我对如何检测它的连接状态感到困惑。Win API 之类的`GetCommState`显然行不通。

我可以定期发送数据包并检查数据是否正在被消耗，但我对轮询性能和阻塞可能正在使用的缓冲区的风险持谨慎态度。

那么，有没有其他方法，或者一些基于中断的东西，我可以用来检查是否仍然通过串行端口连接到我的系统？

对于这方面的任何帮助，我将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T12:23:20.177

串行端口是非常原始的通信设备，它们可以追溯到计算的早期。这就是您将 ASR-33 电传打字机插入以开始敲击您的 Fortran 程序的内容。他们仍然存在的唯一原因是*因为*他们很简单，硬件供应商喜欢他们，因为他们不必花钱开发和支持自定义 api 来使用他们的设备。

尽管如此，即使在 60 年代，计算机也需要确定是否连接了电传打字机。这是通过硬件握手信号完成的。DSR 信号（数据集就绪）在设备上电时打开。如果您使用 .NET SerialPort 类，则可以使用 SerialPort.DsrHolding 属性检查该信号。如果您使用 winapi，则使用 GetCommModemStatus()、MS_DSR_ON 标志。

那仍然只告诉您连接了*某些*设备。如果您想找出它是您编写程序的调制解调器，那么您可以使用[AT 命令](http://en.wikipedia.org/wiki/Hayes_command_set)询问它，这是一种特定于调制解调器的协议。没有供应商以*完全相同*的方式实现这一点，但您通常可以依靠调制解调器使用 ATI 命令的标识。有关详细信息，请查看调制解调器的编程手册。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T10:08:59.647

从 Windows 7 开始，使用[Windows Mobile Broadband API](http://msdn.microsoft.com/en-gb/library/windows/desktop/dd323269%28v=vs.85%29.aspx)获取有关 GSM 调制解调器的信息。

# c++ - OpenNI 链接错误，大量未定义的引用

> ID：15803322
> 
> 赞同：1
> 
> 时间：2013-04-04T05:39:51.457
> 
> 标签：c++, openni

我正在发疯……我正在开发一个程序，以从带有 OpenNI 和 NiTE 的 Xtion Primesense 传感器读取关节坐标。我把程序分成 3 个部分。主要，sensorOpenNI.hpp 和 sensorOpenNI.cpp。现在，在将这些部分链接在一起时，我收到很多错误，说对某些 NiTE 函数有未定义的引用。我正在使用 Kubuntu 和 g++。NiTE 和 OpenNI 库位于名为 Include 的目录中...这是错误消息：

> /tmp/ccrPQHEg.o: 在函数`openni::VideoFrameRef::release()': sensorOpenNI.cpp:(.text._ZN6openni13VideoFrameRef7releaseEv[openni::VideoFrameRef::release()]+0x18): undefined reference to`oniFrameRelease' /tmp/ccrPQHEg.o: 在函数`openni::VideoFrameRef::_setFrame(OniFrame*)': sensorOpenNI.cpp:(.text._ZN6openni13VideoFrameRef9_setFrameEP8OniFrame[openni::VideoFrameRef::_setFrame(OniFrame*)]+0x25): undefined reference to`oniFrameAddRef' /tmp/ccrPQHEg.o: 在函数`nite::UserTrackerFrameRef::release()': sensorOpenNI.cpp:(.text._ZN4nite19UserTrackerFrameRef7releaseEv[nite::UserTrackerFrameRef::release()]+0x24): undefined reference to`niteUserTrackerFrameRelease' /tmp/ccrPQHEg.o: 在函数`nite::UserTracker::create(openni::Device*)': sensorOpenNI.cpp:(.text._ZN4nite11UserTracker6createEPN6openni6DeviceE[nite::UserTracker::create(openni::Device*)]+0x13): undefined reference to`niteInitializeUserTracker'sensorOpenNI.cpp:(。 text._ZN4nite11UserTracker6createEPN6openni6DeviceE[nite::UserTracker::create(openni::Device*)]+0x27)：未定义对`niteInitializeUserTrackerByDevice' /tmp/ccrPQHEg.o: In function`nite::UserTracker::destroy()' 的引用：sensorOpenNI.cpp:(.text._ZN4nite11UserTracker7destroyEv[nite:: UserTracker::destroy()]+0x1e): 未定义对`niteShutdownUserTracker' /tmp/ccrPQHEg.o: In function`nite::UserTracker::readFrame(nite::UserTrackerFrameRef*)' 的引用：sensorOpenNI.cpp:(.text._ZN4nite11UserTracker9readFrameEPNS_19UserTrackerFrameRefE[nite::UserTracker::readFrame(nite: :UserTrackerFrameRef*)]+0x1d): 未定义的引用`niteReadUserTrackerFrame' /tmp/ccrPQHEg.o: In function`nite::UserTracker::startSkeletonTracking(short)': sensorOpenNI.cpp:(.text._ZN4nite11UserTracker21startSkeletonTrackingEs[nite::UserTracker::startSkeletonTracking(short)]+0x1e): 未定义对`niteStartSkeletonTracking' /tmp/ccrPQHEg.o: In function`nite::NiTE::initialize()' 的引用: sensorOpenNI.cpp:(.text._ZN4nite4NiTE10initializeEv[nite::NiTE::initialize()]+0x7): 未定义对`niteInitialize' collect2: ld returned 1 exit status patrick@ubuntu:~/Koerpersteuerung$ g++ -c sensorOpenNI.cpp sensorOpenNI.hpp -I Include/ patrick@ubuntu:~/Koerpersteuerung$ g++ mainSensor.cpp sensorOpenNI.o -I Include/ sensorOpenNI.o: In function`openni::VideoFrameRef::release()' 的引用：sensorOpenNI.cpp:(.text._ZN6openni13VideoFrameRef7releaseEv[openni ::VideoFrameRef::release()]+0x18): 未定义对`oniFrameRelease' sensorOpenNI.o: In function`openni::VideoFrameRef::_setFrame(OniFrame*)' 的引用：sensorOpenNI.cpp:(.text._ZN6openni13VideoFrameRef9_setFrameEP8OniFrame[openni::VideoFrameRef::_setFrame(OniFrame*) ]+0x25): 未定义的引用`oniFrameAddRef' sensorOpenNI.o: In function`nite::UserTrackerFrameRef::release()': sensorOpenNI.cpp:(.text._ZN4nite19UserTrackerFrameRef7releaseEv[nite::UserTrackerFrameRef::release()]+0x24): 未定义引用`niteUserTrackerFrameRelease' sensorOpenNI.o: In function`nite::UserTracker::create(openni::Device *)'：sensorOpenNI.cpp:(.text._ZN4nite11UserTracker6createEPN6openni6DeviceE[nite::UserTracker::create(openni::Device*)]+0x13)：未定义对`niteInitializeUserTracker' sensorOpenNI.cpp:(.text._ZN4nite11UserTracker6createEPN6openni6DeviceE[nite::UserTracker::create(openni::Device*)]+0x27): undefined reference to`niteInitializeUserTrackerByDevice'sensorOpenNI.o 的引用：在函数`nite::UserTracker::destroy()': sensorOpenNI.cpp:(.text._ZN4nite11UserTracker7destroyEv[nite::UserTracker::destroy()]+0x1e): undefined reference to`niteShutdownUserTracker'sensorOpenNI.o 中：在函数`nite::UserTracker::readFrame(nite::UserTrackerFrameRef*)': sensorOpenNI.cpp:(.text._ZN4nite11UserTracker9readFrameEPNS_19UserTrackerFrameRefE[nite::UserTracker::readFrame(nite::UserTrackerFrameRef*)]+0x1d): undefined reference to`niteReadUserTrackerFrame'sensorOpenNI.o：在函数`nite::UserTracker::startSkeletonTracking(short)': sensorOpenNI.cpp:(.text._ZN4nite11UserTracker21startSkeletonTrackingEs[nite::UserTracker::startSkeletonTracking(short)]+0x1e): undefined reference to`niteStartSkeletonTracking'sensorOpenNI.o：在函数`nite::NiTE::initialize()': sensorOpenNI.cpp:(.text._ZN4nite4NiTE10initializeEv[nite::NiTE::initialize()]+0x7): undefined reference to`niteInitialize'collect2：ld 返回 1 退出状态

我这样调用 g++：

```
g++ -o test mainSensor.cpp sensorOpenNI.cpp -I Include/ 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-07-26T21:31:45.650

尝试像这样复制库 libOpenNI2.so 和 libNiTE2：

```
sudo cp ./OpenNI-Linux-x86-2.2/Redist/libOpenNI2.so /usr/local/lib 
sudo cp ./NiTE-Linux-x86-2.2/Redist/libNiTE2.so /usr/local/lib 
```

然后执行 sudo ldconfig 现在通过添加 -lOpenNI2 -lNiTE2 来编译程序

# ios - 字母中的单词

> ID：15803325
> 
> 赞同：-2
> 
> 时间：2013-04-04T05:39:59.840
> 
> 标签：ios, string, algorithm, nsarray

我在 iOS 中工作，我面临一个问题。我有 6 个字母，我想找到这 6 个字母可以生成的所有字符串。字符串的顺序和长度在这里无关紧要，字符串的含义也无关紧要，因为我们可以用字典检查字符串以查找它是否是有效单词。

那么有什么算法可以找到这个吗？

例如：

输入6个字母是：NTLPAE

预期输出将是：

```
plan
net
planet
lan
tea
lap
..
.. 
```

这里输出中的词只是有效词，但输出应该包含所有可能的词，甚至是无效词。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T13:39:11.877

这应该可以解决这个问题：

```
+ (void) logPermutations:(NSArray*)objects
{
    if (objects == nil || [objects count] == 0) {
        return;
    }
    NSMutableArray* copy = [objects mutableCopy];
    [self logPermutations:copy logedSoFar:@""];
}

+ (void) logPermutations:(NSMutableArray*)objects
              logedSoFar:(NSString*)log
{
    if (objects == nil || [objects count] == 0) {
        return;
    }
    NSUInteger count = [objects count];
    for (NSUInteger i = 0; i < count; ++i) {
        id removed = [objects objectAtIndex:i];
        [objects removeObjectAtIndex:i];
        NSString* newlog = [NSString stringWithFormat:@"%@%@",log,[removed description]];
        NSLog(@"%@",newlog);
        [self logPermutations:objects logedSoFar:newlog];
        [objects insertObject:removed atIndex:i];
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-12-29T13:50:36.183

```
-(NSMutableArray*)genValidWords:(NSString*)tiles
{
    /*===============EMPTY PREVIOUS ARRAY=================*/
    FINAL_VALID_WORDS=[[NSMutableArray alloc] init];
    posWords=[[NSMutableArray alloc] init];
    genWords=[[NSArray alloc] init];
    /*============EMPTY PREVIOUS ARRAY FINISH=============*/

    /*===============POSSIABLE NO OF WORDS FROM GIVEN LETTERS=================*/

    int length=[tiles length];
    int total=0;
    for(long i=2;i<[tiles length]+1;i++)
        total=total+([self factorialX:length]/[self factorialX:length-i]);
    NSLog(@"POSSIABLE NO OF WORDS FROM LETTERS \"%@\" IS %d",tiles,total);

    /*===============POSSIABLE NO OF WORDS FROM GIVEN LETTERS FINISH=================*/

    /*===============GET ARRAY OF ALL POSSIABLE WORDS FROM GIVEN LETTERS=============*/
    for(int i=2;i<[tiles length]+1;i++)
    {
        genWords=getPermutations(tiles, i);
        [posWords addObjectsFromArray:genWords];
     }
     NSLog(@"%@",posWords);
    return posWords;
}
static NSMutableArray *results;
void doPermute(NSMutableArray *input, NSMutableArray *output, NSMutableArray *used, int size, int level)
{
    if (size == level)
    {
        NSString *word = [output componentsJoinedByString:@""];
        //if(check(word))
        [results addObject:word];
        return;
    }
    level++;
    for (int i = 0; i < input.count; i++)
    {
        if ([used[i] boolValue])
        {
            continue;
        }
        used[i] = [NSNumber numberWithBool:YES];
        [output addObject:input[i]];
        doPermute(input, output, used, size, level);
        used[i] = [NSNumber numberWithBool:NO];
        [output removeLastObject];
    }
}
NSArray *getPermutations(NSString *input, int size)
{
    results = [[NSMutableArray alloc] init];

    NSMutableArray *chars = [[NSMutableArray alloc] init];

    for (int i = 0; i < [input length]; i++)
    {
        NSString *ichar  = [NSString stringWithFormat:@"%c", [input characterAtIndex:i]];
        [chars addObject:ichar];
    }

    NSMutableArray *output = [[NSMutableArray alloc] init];
    NSMutableArray *used = [[NSMutableArray alloc] init];

    for (int i = 0; i < chars.count; i++)
    {
        [used addObject:[NSNumber numberWithBool:NO]];
    }

    doPermute(chars, output, used, size, 0);

    return results;
}
-(double) factorialX: (int) num {
    double tempResult = 1;
    for (int i=2; i<=num; i++) {
        tempResult *= i;
    }
    return tempResult;
}
/*=======================Call Like this====================
NSmutableArray=getPermutations("Pass your string", pass your lenght);
NsmutableArray=getPermutations("Janak", 2);
NSMutableArray=[self genValidWords:@"Hello"];
will return all possiable combination of two letters
=======================xxxxxxxxxx====================*/ 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-06-13T15:36:03.717

我得到了解决方案，我想要以下内容。

```
-(NSArray*)totalWords:(NSArray*)letters
{
    NSMutableArray *output=[[NSMutableArray alloc]init];

    for (int i=0; i<letters.count; i++)
    {
        for (int j=0; j<letters.count; j++)
        {
            if (i==j) continue;
         for (int k=0; k<letters.count; k++)
         {
             NSString *str=[NSString stringWithFormat:@"%@%@%@",letters[i],letters[j],letters[k]];
             if(i!=j && j!=k && i!=k &&[self checkmeaning:str])
                 [output addObject:str];
            for (int l=0; l<letters.count; l++)
            {
                NSString *str=[NSString stringWithFormat:@"%@%@%@%@",letters[i],letters[j],letters[k],letters[l]];
                if(i!=j && j!=k && i!=k && l!=i && l!=j && l!=k &&[self checkmeaning:str])
                    [output addObject:str];
                for (int m=0; m<letters.count; m++)
                {
                    NSString *str=[NSString stringWithFormat:@"%@%@%@%@%@",letters[i],letters[j],letters[k],letters[l],letters[m]];
                    if(i!=j && j!=k && i!=k && l!=i && l!=j && l!=k && m!=i && m!=j && m!=k && m!=l &&[self checkmeaning:str])
                        [output addObject:str];
                    for (int n=0; n<letters.count; n++)
                    {
                        NSString *str=[NSString stringWithFormat:@"%@%@%@%@%@%@",letters[i],letters[j],letters[k],letters[l],letters[m],letters[n]];
                        if(i!=j && j!=k && i!=k && l!=i && l!=j && l!=k && m!=i && m!=j && m!=k && n!=i && n!=j && n!=k &&n!=m &&n!=l && m!=l&&[self checkmeaning:str])
                        [output addObject:str];
                    }
                }
            }
         }
        }
     }

    NSLog(@"count :%i",[output count]);
    NSLog(@"output array :\n%@",output);
    return output;
} 
```

# javascript - 浏览器后退按钮不起作用

> ID：15803326
> 
> 赞同：0
> 
> 时间：2013-04-04T05:40:02.363
> 
> 标签：javascript, jquery, asp.net-mvc-4, browser-history

我有这个菜单栏-

![在此处输入图像描述](https://i.stack.imgur.com/E0a1E.png)

当我加载此页面时，默认情况下页面重定向到仪表板，仪表板现在没有内容。

一切正常，直到我点击浏览器的后退按钮，此页面被重定向到登录页面。

我如何保留历史记录，以便每次单击浏览器的后退按钮时它都应该重定向到`Dashboard`页面？然后停止传播以获得更多点击。

**看看 HTML-**

```
<li class="active"><a href="/Home/Dashboard" rel="tooltip" data-original-title="What is new?"
                            data-placement="bottom"><i class="icon-home icon-white"></i>&nbsp;Dashboard</a></li>

                       <li><a href="#" id="_Layout_Contact" rel="tooltip" data-original-title="Manage Contacts"
                            data-placement="bottom"><i class="icon-white icon-user"></i>&nbsp;Contact</a></li>

                        <li><a href="#" id="_Layout_Task" rel="tooltip" data-original-title="Task House"
                            data-placement="bottom"><i class="icon-white icon-tasks"></i>&nbsp;Task</i></a></li>

                        <li><a href="#" id="_Layout_Appointment" rel="tooltip" data-original-title="Handle Appointments"
                            data-placement="bottom"><i class="icon-white icon-calendar"></i>&nbsp;Appointment</a></li>

                        <li><a href="#" id="_Layout_Project" rel="tooltip" data-original-title="Explore Projects"
                            data-placement="bottom"><i class="icon-white icon-briefcase"></i>&nbsp;Project</a></li>

                        <li><a href="#" id="_Layout_Sales" rel="tooltip" data-original-title="Check Sales"
                            data-placement="bottom"><i class="icon-white icon-barcode"></i>&nbsp;Sales</a></li>

                  <li><a href="#" title="" onclick="showDialog('/Opportunity/_Create' , 'Add Opportunity')"
                                    id="_Layout_AddOpportunityLink">Add Opportunity</a> </li> 
```

**我试过了-**

我读过 javascript 帮助我们保存历史，所以我尝试使用超引用作为 -

**前任。与联系页面-**

```
<li><a href="javascript:history.go(-1)" id="_Layout_Contact" rel="tooltip" data-original-title="Manage Contacts"
                                data-placement="bottom"><i class="icon-white icon-user"></i>&nbsp;Contact</a></li> 
```

但它一直在加载页面，什么也没发生。帮助？

我正在使用 MVC4 剃须刀视图引擎。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:20:03.830

对于较新的浏览器，您可以使用[HTML5 History API](http://diveintohtml5.info/history.html)。

```
history.pushState(null, null, $(window).attr("href"));
$(window).on("popstate", function (e) {
    e.preventDefault();
    alert("dashboard");
    //load dashboard
}); 
```

如果需要支持旧版浏览器，可以使用[history.js](https://github.com/browserstate/history.js)。

# android - Google Maps 和 ListView 在 android 的一项活动中？

> ID：15803327
> 
> 赞同：0
> 
> 时间：2013-04-04T05:40:02.680
> 
> 标签：android, google-maps, listview, android-activity

我正在尝试将 Google Maps View 和 ListView 放入一项活动中。MapsView 占上侧的 2/3，列表占下侧的 1/3（纵向）。

以这种方式假设它是肖像： ![在此处输入图像描述](https://i.stack.imgur.com/IoGjr.png)

MapsView 和 ListView 都将收到相同的 JSON 信息，它们将获得 onCreate()。我已经能够在屏幕的 2/3 上放置 MapsView，但 ListView 不会接收任何数据。有人可以告诉我，当超类不是时如何正确处理 ListView `ListActivity`？

这是我的代码：

```
// url to make request
    private static String url = ""; //here pass the url

 // JSON Node names
    private static final String TAG_LOCATION = "location";
    private static final String TAG_LOCATION1= "location";
    private static final String TAG_LOCATION_ID = "LocationID";
    private static final String TAG_NAME = "Name";
    private static final String TAG_PHONE = "Phone";
    private static final String TAG_FORMATTED_PHONE = "FormattedPhone";
    private static final String TAG_ADDRESS = "Address";
    private static final String TAG_CROSS_STREET = "CrossStreet";
    private static final String TAG_LAT = "Lat";
    private static final String TAG_LNG = "Lng";
    private static final String TAG_DISTANCE= "Distance";
    private static final String TAG_POSTAL_CODE = "PostalCode";
    private static final String TAG_CITY = "City";
    private static final String TAG_STATE = "State";
    private static final String TAG_COUNTRY= "Country";

 // contacts JSONArray
    JSONArray location = null;
    JSONObject location1=null;

    ListView locationList;
    private MapView mapView;
    LocationManager lm;
    LocationListener locationListener;
    MapController mapController;

    private ListAdapter adapter;

    private static final double lat = 11.9333;
    private static final double lng = 108.417;

    @Override
    public void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
        setContentView(R.layout.view_map);

        locationList=( ListView)findViewById(R.id.list_Surroundings);
        locationList.setAdapter(adapter);

        // Hashmap for ListView
        ArrayList<HashMap<String, String>> locationList = new ArrayList<HashMap<String, String>>();

     // Creating JSON Parser instance
        JSONParser jParser = new JSONParser();

     // getting JSON string from URL
        JSONObject json = jParser.getJSONFromUrl(url);

        try {
         // Getting Array of Category
        location=json.getJSONArray(TAG_LOCATION);

        //looping through all categories
        for(int i = 0; i < location.length(); i++){
            JSONObject c = location.getJSONObject(i);
            JSONObject c1=c.getJSONObject(TAG_LOCATION1);

            // Storing each json item in variable
                String LocationID = c1.getString(TAG_LOCATION_ID);
                String Name = c1.getString(TAG_NAME);
                String Phone = c1.getString(TAG_PHONE);
                String FormattedPhone = c1.getString(TAG_FORMATTED_PHONE);
                String Address = c1.getString(TAG_ADDRESS);
                String CrossStreet = c1.getString(TAG_CROSS_STREET);
                String Lat = c1.getString(TAG_LAT);
                String Lng = c1.getString(TAG_LNG);
                String Distance = c1.getString(TAG_DISTANCE);
                String PostalCode = c1.getString(TAG_POSTAL_CODE);
                String City = c1.getString(TAG_CITY);
                String State = c1.getString(TAG_STATE);
                String Country = c1.getString(TAG_COUNTRY);

            // creating new HashMap
               HashMap<String, String> map = new HashMap<String, String>();

            // adding each child node to HashMap key => value
               map.put(TAG_LOCATION_ID, LocationID);
               map.put(TAG_NAME, Name);
               map.put(TAG_PHONE, Phone);
               map.put(TAG_FORMATTED_PHONE, FormattedPhone);
               map.put(TAG_ADDRESS, Address);
               map.put(TAG_CROSS_STREET, CrossStreet);
               map.put(TAG_LAT, Lat);
               map.put(TAG_LNG, Lng);
               map.put(TAG_DISTANCE, Distance); 
               map.put(TAG_POSTAL_CODE, PostalCode);
               map.put(TAG_CITY, City);
               map.put(TAG_STATE, State);
               map.put(TAG_COUNTRY, Country);

               // adding HashList to ArrayList
               locationList.add(map);
        }
        } catch (Exception e) {
            // TODO: handle exception
            e.printStackTrace();
        }
        /**
         * Updating parsed JSON data into ListView
         * */

        adapter = new SimpleAdapter(this, locationList,
                R.layout.list_item,
                new String[] { TAG_NAME }, new int[] {
                        R.id.name});

        mapView = (MapView) findViewById(R.id.mapView);
        mapView.setBuiltInZoomControls(true);

        List mapOverlays = mapView.getOverlays();
        Drawable drawable = this.getResources().getDrawable(
                R.drawable.map_pin_red);
        CustomItemizedOverlay itemizedOverlay = new CustomItemizedOverlay(
                drawable, this);

        GeoPoint point = new GeoPoint((int) (lat * 1E6), (int) (lng * 1E6));
        OverlayItem overlayitem = new OverlayItem(point, "Hello",
                "I'm in Athens, Greece!");

        itemizedOverlay.addOverlay(overlayitem);
        mapOverlays.add(itemizedOverlay);

        mapController = mapView.getController();

        mapController.animateTo(point);
        mapController.setZoom(10);

        lm=(LocationManager)getSystemService(Context.LOCATION_SERVICE);
        locationListener= new MylocationListener();
        lm.requestLocationUpdates(LocationManager.GPS_PROVIDER, 0, 0, locationListener);
    }

    public class MylocationListener implements LocationListener{

        @Override
        public void onLocationChanged(Location loc) {
            // TODO Auto-generated method stub
            if(loc!=null){
                Toast.makeText(getBaseContext(), "Location Changed : Lat:" +loc.getLatitude() + "Lng: " + loc.getLongitude(), Toast.LENGTH_SHORT).show();
            }
            GeoPoint point = new GeoPoint((int) (lat * 1E6), (int) (lng * 1E6));
            mapController.animateTo(point);
            mapController.setZoom(10);
        }

        @Override
        public void onProviderDisabled(String provider) {
            // TODO Auto-generated method stub

        }

        @Override
        public void onProviderEnabled(String provider) {
            // TODO Auto-generated method stub

        }

        @Override
        public void onStatusChanged(String provider, int status, Bundle extras) {
            // TODO Auto-generated method stub

        }

    }

    @Override
    protected boolean isRouteDisplayed() {
        // TODO Auto-generated method stub
        return false;
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T05:57:19.527

您必须`adapter`在将其设置为`ListView`. 此外，您有两个名为 的变量`LocationList`，这通常是不好的做法。尝试：

```
public void onCreate(Bundle savedInstanceState) {
     // Hashmap for ListView
    ArrayList<HashMap<String, String>> listOfLocations = new ArrayList<HashMap<String, String>>();

    ... // existing code here

    adapter = new SimpleAdapter(this, listOfLocations,
        R.layout.list_item,
        new String[] { TAG_NAME }, new int[] {
               R.id.name});
    locationList.setAdapter(adapter);    
} 
```

# flash - 如何使用动作脚本创建 Flash 文件

> ID：15803328
> 
> 赞同：0
> 
> 时间：2013-04-04T05:40:07.547
> 
> 标签：flash, actionscript

我的网站上的图片很少。我想创建一个 Flash 文件，其中最初会显示一个图像，并且应该播放链接到该图像的音频。音频结束后，我想要一个显示 5 个其他图像的菜单。当使用点击任何图像时，该图像应该被显示并且相应的音频应该被播放。

我阅读了有关使用 actionscript 创建图片库的信息。但我无法理解从哪里开始以及如何解决它。

任何指向教程的链接都会有很大帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-07T01:04:56.333

您基本上需要学习以下技能才能做到这一点.. 1\. 用于导航图像的简单 Flash 动画..等 2\. 在 Flash 中加载和解析 XML 3\. 单击事件监听 4\. 如何在 Flash 中播放声音

您可以先学习上述技能以完成工作.. [http://www.gotoandlearn.com/](http://www.gotoandlearn.com/)

也有很好的 tuts。祝你好运 ：）

# php - 如何将 HTML 代码更新到 MySQL 字段中

> ID：15803331
> 
> 赞同：0
> 
> 时间：2013-04-04T05:40:23.927
> 
> 标签：php, mysql, xml

PHP 版本：5.3.19 MYSQL 版本：5.0.96

我有一个包含 xml 数据的字段的数据库表：

XML 数据：

```
<?xml version="1.0"?>
    <book>
        <page>
            <data>Page 1</data>
        </page>
        <page>
            <data>Page 2</data>
        </page>
        <page>
            <data>Page 3</data>
        </page>
    </book> 
```

我已经成功显示了 xml 数据，现在我正在尝试用 php 更新它

PHP代码：

```
$id = 1;
    $fav_id = $id;
    $userid = 1;
    $data_update = '<p style="text-align: center;"><span style="text-decoration: underline; font-size: xx-large;"><em><strong>Title</strong></em></span></p>';
    $page_number = 0;

    mysql_select_db($database_main, $main);
    $query_Recordset1 = "SELECT * FROM projects WHERE id = $id";
    $Recordset1 = mysql_query($query_Recordset1, $main) or die(mysql_error());
    $row_Recordset1 = mysql_fetch_assoc($Recordset1);
    $totalRows_Recordset1 = mysql_num_rows($Recordset1);

    $xmldata = (string)$row_Recordset1['projectData'];
    $parsed = simplexml_load_string($xmldata);
    $data = $parsed->xpath('//data');
        $data[$page_number] = $data_update;

    $x = 0;
    $array_length = count($data);
    while($x < $array_length){
            if($x==0){
                $finalData .= '<?xml version="1.0"?><book>';
            }
            $finalData .= "<page><data>$data[$x]</data></page>";
            if($x==$array_length-1){
                $finalData .= "</book>";    
            }
            $x++;

    }
    $FinalData = mysql_real_escape_string($finalData);
        $updateSQL = "UPDATE projects SET projectData=$finalData  WHERE id=$fav_id";
        mysql_select_db($database_main, $main);
    $Result1 = mysql_query($updateSQL, $main) or die(mysql_error()); 
```

我希望最终结果是：

```
<?xml version="1.0"?>
    <book>
        <page>
            <data>
                <p style="text-align: center;">
                    <span style="text-decoration: underline; font-size: xx-large;">
                        <em><strong>Title</strong></em>
                    </span>
                </p>
            </data>
        </page>
        <page>
            <data>Page 2</data>
        </page>
        <page>
            <data>Page 3</data>
        </page>
    </book> 
```

虽然当我尝试`addslashes()`并`mysql_real_escape_string()`得到：

数据：

```
<p center;\\\"="" style="\\\"text-align:">
    <span xx-large;\\\"="" font-size:="" underline;="" style="\\\"text-decoration:">
        <em>
            <strong>Title</strong>
        </em>
    </span>
</p> 
```

我的问题是为什么这两个函数 [`addslashes()`和`mysql_real_escape_string()`] 给了我上面的结果，我该如何防止它发生？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T05:49:43.323

[mysql_real_escape_string VSaddlashes](https://stackoverflow.com/questions/3473047/mysql-real-escape-string-vs-addslashes) 我希望这能给你addslashes() 和mysql_real_escape_string() 的答案。我不能发表评论。我知道这不是你问题的完整答案。这可以消除您对使用的疑虑。addlashes 是需要“\”的每个字符的 GENERIC 函数，而 mysql_real_escape_string 是 MySQL 特定的！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T05:51:34.617

通过添加一点额外功能`mysql_real_escape_string()`，这些功能`addslashes()`几乎可以做完全相同的事情。`mysql_real_escape_string()`

从[php.net](http://php.net/manual/en/function.mysql-real-escape-string.php)开始`mysql_real_escape_string()`

> mysql_real_escape_string() 调用 MySQL 的库函数 mysql_real_escape_string，该函数在以下字符前添加反斜杠：\x00、\n、\r、\、'、" 和 \x1a。

从[php.net](http://php.net/manual/en/function.addslashes.php)开始`add_slashes()`

> 在需要在数据库查询等中引用的字符之前返回带有反斜杠的字符串。这些字符是单引号 (')、双引号 (")、反斜杠 (\) 和 NUL（NULL 字节）。

要阻止这种情况发生，您无能为力，只需[`stripslashes()`](http://php.net/manual/en/function.stripslashes.php)在输出字段时使用即可。

# iphone - NSFetchRequest 未按正确顺序获取聊天消息

> ID：15803332
> 
> 赞同：0
> 
> 时间：2013-04-04T05:40:29.477
> 
> 标签：iphone, objective-c, core-data

我正在使用 iphone 中的核心数据实现聊天数据库。我创建了两个实体聊天用户和聊天消息。并且chatuser 和chatmessgae 实体之间存在一对多的关系。对于一个聊天用户，可以有许多聊天消息。我正在存储数据

```
NSFetchRequest *request = [[NSFetchRequest alloc] init];
        NSEntityDescription *entity = [NSEntityDescription entityForName:@"Chatuser"    
                                                  inManagedObjectContext:self.managedObjectContext];
        [request setEntity:entity];   

        NSPredicate *pred = [NSPredicate predicateWithFormat:@"chatuser == %@", chatuser];
        [request setPredicate:pred];

        NSArray *userArray=[self.managedObjectContext executeFetchRequest:request error:&error];

        if ([userArray count] > 0){
            Chatuser *user = [userArray objectAtIndex:0];

            Chatmessage *message = [NSEntityDescription insertNewObjectForEntityForName:@"Chatmessage" inManagedObjectContext:self.managedObjectContext];
            message.chatmessage = chatmessage;

            [user addAllchatmessagesObject:message];
            NSError *error;

            if(![self.managedObjectContext save:&error])
            {
                NSLog(@"whoops, couldn't save: %@", [error localizedDescription]);
            }           

        }
//    }
    else 
    {
        Chatuser *user = [NSEntityDescription insertNewObjectForEntityForName:@"Chatuser" inManagedObjectContext:self.managedObjectContext];
        user.chatuser = chatUser;

        Chatmessage *message = [NSEntityDescription insertNewObjectForEntityForName:@"Chatmessage" inManagedObjectContext:self.managedObjectContext];
        message.chatmessage = chatmessage;

        [user addAllchatmessagesObject:message];
        NSError *error;

        if(![self.managedObjectContext save:&error])
        {
            NSLog(@"whoops, couldn't save: %@", [error localizedDescription]);
        }
    } 
```

并以这种方式获取数据

```
managedObjectContext = appDelegate.managedObjectContext;
    NSFetchRequest *request = [[NSFetchRequest alloc] init];
    NSEntityDescription *entity = [NSEntityDescription
                                   entityForName:@"Chatuser" inManagedObjectContext:self.managedObjectContext];
    [request setEntity:entity];
    NSError *error;

    NSPredicate *pred = [NSPredicate predicateWithFormat:@"chatuser == %@", appDelegate.chatUser];
    [request setPredicate:pred];

    NSArray *userinfo = [self.managedObjectContext executeFetchRequest:request error:&error];

    if([userinfo count]>0)
    {

        Chatuser *user = [userinfo objectAtIndex:0];
        NSSet *messageset = user.allchatmessages;
        self.messageinfo = [messageset allObjects];
        int message_count=[self.messageinfo count];
        NSLog(@"Message count : %d", message_count);
        for(int i=(message_count-1);i>=0;i--)
        {
            Chatmessage *chatmsgnew = [self.messageinfo objectAtIndex:i];
            [tableArray addObject:chatmsgnew.chatmessage];
        }
    } 
```

现在的问题是聊天消息没有按照我存储它们的顺序出现。就像我正在存储消息 1、2、3、4。并且在获取 2,1,4,3 的同时......我没有遇到问题。任何人都可以提出任何建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:02:20.527

获取请求不一定按照对象插入数据库的顺序返回对象。如果你需要一个特定的顺序，你必须为`messageId`实体添加一个整数属性（例如），并在获取请求中添加一个排序描述符：

```
NSSortDescriptor *sort = [NSSortDescriptor sortDescriptorWithKey:@"messageId"
         ascending:YES];
[request setSortDescriptors:@[sort]]; 
```

*补充：*`Chatmessage`如果您获取对象，上述方法有效。因此，您可以为实体`Chatuser`创建一个获取请求，而不是获取第一个请求，其谓词如下`Chatmessage`

```
[NSPredicate predicateWithFormat:@"user.chatuser == %@", appDelegate.chatUser] 
```

（假设“用户”是从*Chatmessage*到*Chatuser*的反向关系），以及上述排序描述符。

或者，如果你有一个`Chatuser`对象，那么你可以`user.allchatmessages`这样排序：

```
NSSet *messageset = user.allchatmessages;
NSSortDescriptor *sort = [NSSortDescriptor sortDescriptorWithKey:@"messageId"
         ascending:YES];
self.messageinfo = [[messageset allObjects] sortedArrayUsingDescriptors:@[sort]]; 
```

# asp.net - 在 msi 安装程序将文件复制到目标目录之前备份目标目录

> ID：15803335
> 
> 赞同：0
> 
> 时间：2013-04-04T05:40:36.600
> 
> 标签：asp.net, installation, windows-installer

我正在使用常规的 Visual Studio 安装项目来部署我的 ASP.NET 应用程序。我需要处理目标目录中存在的现有 web.config 的情况。找到后，需要在安装之前对其进行重命名。如果这没有发生，新的 web.config 将不会覆盖旧的。在复制正在安装的文件之前，如何获得我的自定义操作来重命名旧的 web.config？到目前为止，我已经尝试从 System.Configuration.Install.Installer 派生并覆盖 OnBeforeInstall、Install 和 Commit。似乎所有这些方法都是在将新文​​件复制到目标目录之后发生的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-15T04:42:37.103

我自己找到了解决方案。！

您必须编辑 WebDeploy 项目右键单击并打开项目文件。并且其扩展名必须是 .wdproj。

添加这些属性组

```
<PropertyGroup>
<TransformWebConfigEnabled>False</TransformWebConfigEnabled>    <AutoParameterizationWebConfigConnectionStrings>False</AutoParameterizationWebConfigConnectionStrings>
<TargetFrameworkVersion>v4.0</TargetFrameworkVersion>
  </PropertyGroup> 
```

如需更多帮助，您可以点击链接。

**[1]:[之后无法重命名 MSI](https://stackoverflow.com/questions/17542919/cant-rename-msi-afterwards)**

并寻求帮助：

**[2]：[https ://www.simple-talk.com/dotnet/visual-studio/updates-to-setup-projects/](https://www.simple-talk.com/dotnet/visual-studio/updates-to-setup-projects/)**

# php - 通过添加两个表单域获取结束日期

> ID：15803339
> 
> 赞同：1
> 
> 时间：2013-04-04T05:41:01.720
> 
> 标签：php, javascript, html, forms

我在网页中有一个表单，我希望用户在其中输入开始日期，然后从选择字段中选择一个术语以确定结束日期。

我可以将普通数字相加，但我不知道如何将数字添加到日期以获取另一个日期。

这是我到目前为止使用的：

```
<script type="text/javascript">
  function sum(){
  //grab the values
  startdate = document.getElementById('startdate').value;
  term = document.getElementById('term').value;

  document.getElementById('enddate').value = parseFloat(startdate) + parseFloat(term);
  }
  </script>
<p>
<label for="startdate">Start Date:</label>
<input type="date" name="start-date" id="startdate" onblur="sum()">
</p>
<p>
<label for="term">Term:</label>
<select name="term" id="term" onblur="sum()">
<option value="30">30 Days</option>
<option value="60">60 Days</option>
<option value="90">90 Days</option>
</select>
</p>
<p>
<label for="enddate">End Date:</label>
<input name="enddate" type="date" id="enddate" readonly>
</p> 
```

此示例不生成日期，仅响应初始选择值。生成的数据将使用 PHP 插入到 mySQL 数据库中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T05:50:09.733

像这样使用它，它将添加天数并创建结束日期。

```
var someDate = new Date(document.getElementById('startdate').value);
var numberOfDaysToAdd = document.getElementById('term').value;
document.getElementById('enddate').value = someDate.setDate(someDate.getDate() + numberOfDaysToAdd); 
```

# wordpress - 固定链接有数字后缀

> ID：15803340
> 
> 赞同：0
> 
> 时间：2013-04-04T05:41:02.223
> 
> 标签：wordpress, permalinks

我正在使用 WordPress，并且创建了一个名为“联系”的联系页面。

现在每次我删除页面并再次添加它时，它都会为其添加一个数字后缀：

```
http://myurl/ik/contact-2/, http://myurl/ik/contact-3/ etc 
```

所以我相信数据库中必须已经存在占据标题的名称，所以我不能覆盖它们......

如何删除已删除页面的页面名称？

我只希望永久链接显示：

```
http://myurl/ik/contact/ 
```

但它不允许在管理面板中。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T05:53:18.520

进入页面-> 废纸篓。从垃圾箱部分中删除重复的页面。

# java - FileWrite BufferedWriter 和 PrintWriter 组合

> ID：15803350
> 
> 赞同：19
> 
> 时间：2013-04-04T05:42:05.993
> 
> 标签：java, filewriter, printwriter, bufferedwriter

好的，我正在学习 I/O，我在其中一张幻灯片中找到了以下代码。有人可以解释一下为什么需要 FileWrite、BufferedWriter 和 PrintWriter 吗？我知道 BufferedWriter 是用来缓冲输出并立即将其全部放入，但他们为什么要使用 FileWriter 和 PrintWriter 呢？他们在错误处理等方面有一点不同吗？

还有他们为什么要`bw`传给`PrintWriter`?

```
 FileWriter fw = new FileWriter (file);
      BufferedWriter bw = new BufferedWriter (fw);
      PrintWriter outFile = new PrintWriter (bw); 
```

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-04-04T05:51:41.160

大概他们使用 a 是`FileWriter`因为他们想写入文件。两者`BufferedWriter`都`PrintWriter`必须给另一个作家写信——你需要*一些*最终的目的地。

（我个人不喜欢`FileWriter`，因为它不允许您指定编码。我更喜欢使用`FileOutputStream`包装在 an 中`OutputStreamWriter`，但这是另一回事。）

`BufferedWriter`正如您所说，用于缓冲-尽管它不会缓冲*所有*输出，而只是缓冲固定量（缓冲区的大小）。它为底层作者创建了“更粗”的写入。

至于`PrintWriter`- 的使用，它暴露了一些额外的方法，例如`println`. 就我个人而言，我不喜欢它，因为它会吞下异常（您必须使用 明确检查`checkError`，它仍然没有提供详细信息，而且我认为我*从未见过*使用过），但这又取决于您在做什么。被`PrintWriter`传递`BufferedWriter`作为*它的*目的地。

因此，您显示的部分下方的代码可能`PrintWriter`会写入 ，后者将写入`BufferedWriter`，后者将（当其缓冲区已满，或者刷新或关闭时）写入`FileWriter`，进而将字符数据转换为磁盘上的字节。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-04-04T05:52:18.727

从[文档](http://docs.oracle.com/javase/6/docs/api/java/io/BufferedWriter.html)：

> 通常，Writer 将其输出立即发送到底层字符或字节流。除非需要快速输出，否则建议将 BufferedWriter 包装在任何 write() 操作可能代价高昂的 Writer 周围，例如 FileWriters 和 OutputStreamWriters。例如，

```
 PrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter("foo.out"))); 
```

> 将 PrintWriter 的输出缓冲到文件中。如果没有缓冲，每次调用 print() 方法都会导致字符转换为字节，然后立即写入文件，这可能非常低效。

你可以从中了解到，a`BufferedWriter`是一种高效的写东西的方式。

> 将文本写入字符输出流，缓冲字符，以便高效写入单个字符、数组和字符串。

将一个`FileWriter`对象传递给 ，`BufferedWriter`因为这里的目的是使用`BufferedWriter`.

最后，a`PrintWriter`用于.`print*``println()`

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-04T06:44:16.297

PrintWriter 从[这里](http://docs.oracle.com/javase/6/docs/api/java/io/PrintWriter.html)

> 将对象的格式化表示打印到文本输出流。此类实现了 PrintStream 中的所有打印方法。它不包含写入原始字节的方法，程序应该使用未编码的字节流。

从上面的陈述看来，使用 PrintWriter 的主要原因是为了获得`PrintStream`like`println()`等所有方法的访问权限`println(char [] x)`。

BufferedWriter，你说得对，它是写入文件的最佳方式之一，因为它会在直接写入文件之前将字符缓冲到虚拟内存中并想出一个`newLine()`方法。

FileWriter 从[这里](http://docs.oracle.com/javase/6/docs/api/java/io/FileWriter.html)

> FileWriter 用于写入字符流。要写入原始字节流，请考虑使用 FileOutputStream

.

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-04T05:50:17.607

`FileWriter`只是编写纯文本（不带格式），它不使用任何缓冲区机制，无论它以何种方式写入。

`BufferedWriter`是`Writer`类的包装器，以允许它能够使用缓冲区功能（以优化 IO）。

`PrintWriter`打印格式化文本，您可以提供格式字符串以及要打印的数据，尽管它可以直接与 any 一起使用`Writer/OutputStream`，只是为了提供缓冲，`Writer/OutputStream`首先传递给`BufferedWriter`然后将格式化文本传递给`PrintWriter`

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-04T05:50:00.157

通常，这种 Writer 链接是关于抽象的。[`PrintWriter`](http://docs.oracle.com/javase/7/docs/api/java/io/PrintWriter.html)如果您想将字符串和行打印到文件中，有一些有用`print`的`println`方法可以很方便。直接使用[`FileWriter`](http://docs.oracle.com/javase/7/docs/api/java/io/FileWriter.html)，您将不得不使用更“低级”的 API。正如你所说`BufferedWriter`的关于缓冲。因此，这基本上是您想要输出到文件的内容以及您喜欢哪种抽象级别的问题。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-04T05:56:45.733

对象按此顺序包装，因为您想使用最外层的 PrintWriter 进行更复杂的格式化。BufferedWriter 必须包裹在某些东西上。因此，FileWriter 是 BufferedWriter 包装的，并且是最里面的对象。

# c++ - C++ 我有一个我的类的数组，我想访问它的元素

> ID：15803357
> 
> 赞同：0
> 
> 时间：2013-04-04T05:42:32.807
> 
> 标签：c++, arrays, class

如果我使用的术语有误，我对编程很抱歉。

我必须创建一个控制台应用程序，用户可以在其中添加、修改、打印和删除食品。

我为我的食物做了一堂课

```
class food{
private:
bool isBasic;
nmfvg MeatOrOther;
string name;
public:
food::food(){
        isBasic=true;
        MeatOrOther = NONE;
        name = "";
}

food::food(string _name,bool _isBasic, nmfvg _MeatOrOther){
isBasic=_isBasic;
MeatOrOther=_MeatOrOther;
name = _name;
}}; 
```

我将用户正在制作的食物放入一系列类型的食物中。

```
food foods[100];
food temp("food1",true,VEG); 
foods[0]=temp; 
```

1-这是我储存食物的正确方式吗？2-如果是我该如何打印食物的名称[0]？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T05:44:12.347

没关系，但可能`vector`会更好。您可以打印`name`，通过添加`accessor`到名称

```
class food {
//
public:
   string get_name() const { return name; }
};

std::cout << foods[0].get_name() << std::endl; 
```

或通过使用某些功能/`operator <<`进行输出，或通过创建`name`公共成员然后简单地使用

```
std::cout << foods[0].name << std::endl; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T05:44:33.977

作为一种更好的做法，您可以将食物对象保存在 std::vector 中，而不是像这样的数组：

```
std::vector<food> foods;
foods.push_back(temp("food1",true,VEG)); 
```

要打印姓名成员，您可能需要一个公开的 get 方法：

```
std::string food::GetName()
{
   return name;
} 
```

然后您可以通过以下方式打印名称：

```
std::cout<<foods[0].GetName(); 
```

# php - 使 JavaScript 适应新的重写规则

> ID：15803360
> 
> 赞同：0
> 
> 时间：2013-04-04T05:42:44.883
> 
> 标签：php, javascript, url-rewriting

这是我的网站： [http ://www.globalmedicalaware.com/gma-new/home.php?city=Chennai](http://www.globalmedicalaware.com/gma-new/home.php?city=Chennai)

我使用 .htaccess 代码将网址更改为[http://www.globalmedicalaware.com/gma-new/home/city/Chennai](http://www.globalmedicalaware.com/gma-new/home/city/Chennai) ，如下所示

```
Options +FollowSymLinks
RewriteEngine on
RewriteRule /city/(.*) home.php?city=$1 
```

之后，我点击顶部标题上的任何城市，它改变了就像关注 [http://www.globalmedicalaware.com/gma-new/home/city/Chennai?city=Chennai](http://www.globalmedicalaware.com/gma-new/home/city/Chennai?city=Chennai)

因为我使用这段 JavaScript 代码来更改城市值：

```
url=document.location.href.split('?')[0];
key='?city='+city;
window.location=url+key; 
```

如何更改我的 JavaScript 代码以适应新的重写规则？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T05:49:24.623

试试这个。这应该可以帮助您获取旧网址：

```
var str = "http://www.globalmedicalaware.com/gma-new/home.php?city=Chennai";
url = str.substring(0,str.indexOf("home"))+"home.php?city="+city; 
```

# java - 抽象类初始化

> ID：15803375
> 
> 赞同：0
> 
> 时间：2013-04-04T05:44:12.410
> 
> 标签：java, abstract-class, abstract-methods

我有一个抽象类：

```
abstract class Shape {

    public String color;
    public Shape() {
    }
     public void setColor(String c) {
        color = c;
    }
    public String getColor() {
        return color;
    }

    public double area() {
        return 0;
    }
} 
```

它提供了非抽象方法，然后我想像这样初始化它：

```
 Shape object = new Shape(); 
```

所以在初始化时，它仍然给我一个错误，但是为什么呢？如果我在类中提供一个抽象方法，那么类无法初始化也是可以理解的。在这种情况下，为什么它仍然给出错误？任何帮助，将不胜感激

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-04T05:45:45.537

> 初始化它仍然给我一个错误，但为什么

因为类是抽象的。抽象类根本*无法*直接实例化，无论它是否具有抽象方法。从 JLS[部分 8.1.1.1](http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.1.1.1)：

> 如果尝试使用类实例创建表达式（第 15.9 节）创建抽象类的实例，则会出现编译时错误。

如果您没有任何抽象方法并且希望能够直接实例化该类，请将该类设为非抽象类。使没有抽象方法的类抽象的唯一原因*是*强制使用具体的子类。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T05:51:59.540

不，你永远不能实例化一个抽象类

# html - 定位：固定不固定？

> ID：15803376
> 
> 赞同：0
> 
> 时间：2013-04-04T05:44:12.983
> 
> 标签：html, css, facebook-like, position, fixed

我试图让我的 facebook like 按钮留在左上角，并且当用户向下滚动时，它会跟随他们......我的代码有什么问题？它显示，但当我向下滚动时，它不会随滚动而移动。在最新版本的 safari 和 firefox 上进行了本地测试。请帮忙！

```
 topleft{
   position: fixed;
   top: 0;
   left: 0;
 }

<top> FACEBOOK "LIKE BUTTON" IFRAME CODE HERE </top> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T05:55:55.183

您没有正确选择喜欢的按钮。您需要为 css 选择添加一个类属性。

尝试类似的东西

```
<div class="facebook">FACEBOOK IFRAME</div> 
```

注意“.facebook”而不仅仅是“facebook”。

```
.facebook {
   position: fixed;
   top: 0;
   left: 0;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T05:58:51.147

HTML 中没有`top`标签。

CSS 类名选择器前面应该有一个`.`（句点）。

```
 topleft{
   position: fixed;
   top: 0;
   left: 0;
 } 
```

应该

```
.topleft{
   position: fixed;
   top: 0;
   left: 0;
 } 
```

将您创建的样式分配给 iframe 应该可以工作。

```
 <iframe class="topleft" ...>
    ...
 </iframe> 
```

[JSFiddle](http://jsfiddle.net/wkhmt/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T06:03:28.090

这个问题可能是

对于左上角类

```
.topleft{
position: fixed;
top: 0;
left: 0;
} 
```

对于左上角的 id

```
#topleft{
position: fixed;
top: 0;
left: 0;
} 
```

否则它应该工作。

# spring - Spring 配置自定义命名空间

> ID：15803380
> 
> 赞同：-1
> 
> 时间：2013-04-04T05:44:33.583
> 
> 标签：spring

我有一个带有嵌入式 Apache FTP 服务器的独立 Spring 应用程序。配置看起来像这样 -

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:afs="http://mina.apache.org/ftpserver/spring/v1"
    xmlns:context="http://www.springframework.org/schema/context"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd
        http://mina.apache.org/ftpserver/spring/v1 http://mina.apache.org/ftpserver/ftpserver-1.0.xsd">    

    <context:property-placeholder location="classpath:config.properties" system-properties-mode="OVERRIDE"/>

    <afs:server id="server" anon-enabled="false">

        <afs:listeners>
            <afs:nio-listener name="default" port="2222"
                idle-timeout="60" />
        </afs:listeners>

        <!-- other AFS config -->

    </afs:server>
</beans> 
```

我想从属性文件中加载`port`属性`nio-listener`，但是

```
<afs:nio-listener name="default" port="${ftp.port}"
                    idle-timeout="60" /> 
```

不起作用，因为`port`在 xsd 中定义为`xs:int`. 我想知道是否有任何解决方法（使用 SpEL？）可以让我使用 AFS 命名空间*并*从文件或系统属性加载端口属性。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:42:59.170

您可以尝试使用`PropertyOverrideConfigurer`.

问题是您需要知道`<afs:server>`标签定义的 bean 名称（可能是“服务器”）和定义的属性类型`<afs:listeners>`（可能是 bean 定义的托管列表）。

查看 STS bean explorer 以找到正确的答案并尝试类似

```
<context:property-override location="classpath:config.properties" />

server.listeners[0].port=2222 
```

其他选项是在 xml 应用程序上下文中刷新之前禁用模式验证设置验证为 false。

```
 ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(
                        new String[] {"applicationContext.xml"}, false);
        context.setValidating(false);
        context.refresh(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T15:06:41.333

在探索了几个选项之后，我决定最简单的方法是跳出 afs 命名空间，只为侦听器配置。最终配置如下所示 -

```
<bean id="listenerFactory" class="org.apache.ftpserver.listener.ListenerFactory">
    <property name="port" value="${ftp.port}" />
    <property name="dataConnectionConfiguration">
        <bean factory-bean="dataConnectionConfigurationFactory"
            factory-method="createDataConnectionConfiguration" />
    </property>
</bean>

<bean id="dataConnectionConfigurationFactory" class="org.apache.ftpserver.DataConnectionConfigurationFactory" />

<bean id="nioListener" factory-bean="listenerFactory" factory-method="createListener" />

<afs:server id="server" anon-enabled="false">

    <afs:listeners>
        <afs:listener name="default">
            <ref bean="nioListener"/>
        </afs:listener>
    </afs:listeners>

    <!-- other AFS config -->

</<afs:server> 
```

# linux - 在 bash #2 中排序

> ID：15803382
> 
> 赞同：0
> 
> 时间：2013-04-04T05:44:34.853
> 
> 标签：linux, bash, sorting

排序此列表时如何忽略“吉隆坡”中的空格？我通过标记列来欺骗它并在选项卡上排序，这给了我正确的结果，但我想知道如何处理列中的空格，因为重新格式化列表似乎不是一个好习惯进入，尤其是在列表更大的情况下。那可能吗？

提前致谢

```
 Kuala Lumpur        78          56

  Seoul               86          66

  Karachi             95          75

  Tokyo               85          60

  Lahore              85          75

  Manila              90          85 
```

按城市：

```
Karachi             95          75

Kuala Lumpur        78          56

Lahore              85          75

Manila              90          85

Seoul               86          66

Tokyo               85          60 
```

我还按高温（高-低，第 2 列）和低温（低-高，第 3 列）对其进行排序

高温：

```
 Karachi             95          75

 Manila              90          85

 Seoul               86          66

 Lahore              85          75

 Tokyo               85          60

 Kuala Lumpur        78          56 
```

按低温：

```
 Kuala Lumpur        78          56

  Tokyo               85          60

  Seoul                86          66

  Karachi             95          75

  Lahore              85          75

  Manila              90          85 
```

原始无标签

```
 Kuala Lumpur 78 56

  Tokyo        85 60

  Seoul        86 66

  Karachi      95 75

  Lahore       85 75

  Manila       90 85 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:44:11.217

```
jim@HOME7 ~
$ cat test.dat
Kuala Lumpur 78 56
Tokyo        85 60
Seoul        86 66
Karachi      95 75
Lahore       85 75
Manila       90 85

jim@HOME7 ~
$ sort -k1.1,1.13 test.dat
Karachi      95 75
Kuala Lumpur 78 56
Lahore       85 75
Manila       90 85
Seoul        86 66
Tokyo        85 60

jim@HOME7 ~
$ sort -k1.14,1.15 test.dat
Kuala Lumpur 78 56
Lahore       85 75
Tokyo        85 60
Seoul        86 66
Manila       90 85
Karachi      95 75

jim@HOME7 ~
$ sort -k1.17,1.18 test.dat
Kuala Lumpur 78 56
Tokyo        85 60
Seoul        86 66
Karachi      95 75
Lahore       85 75
Manila       90 85 
```

# php - 仅从 mySQL 中的特定日期获取行

> ID：15803384
> 
> 赞同：0
> 
> 时间：2013-04-04T05:44:37.063
> 
> 标签：php, mysql

我试图仅从 mySQL 中的特定日期（如今天、昨天或 2 天前）获取行。我的行中有一个名为“日期”的列。（包括像 1365053426 这样的日期）。

```
$result=mysql_query("SELECT count(*) as total from track WHERE `date` >= CURRENT_DATE
  AND `date`  < CURRENT_DATE + INTERVAL 1 DAY"); 
```

我试过这个查询，但它返回“0”。这样做的正确方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T05:45:54.010

如何使用`BETWEEN`？

```
SELECT COUNT(*) as TotalCount
FROM   Track
WHERE  Date BETWEEN CURDATE() + INTERVAL -2 DAY AND CURDATE() 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T05:51:07.153

使用`datediff()`功能怎么样？

```
SELECT count(*) as total from track WHERE datediff(now(),date)=interval day 
```

*注意：间隔日可以从 0 声明 -> 取决于您要显示的前一个日期*

# haskell - 为什么我不能将乘以分数的函数映射到数字列表上？

> ID：15803386
> 
> 赞同：5
> 
> 时间：2013-04-04T05:45:01.113
> 
> 标签：haskell, types, lambda

我想列出`0.1`从`-150`到的每一个数字`150`。

为此，我创建了一个列表，然后尝试将分数乘法 lambda 映射到其上，如下所示：

```
let indices = [-1500,-1499..1500]
let grid = map (\x -> 0.1 *x) indices 
```

这使得 ghci 吐出一个错误。

另一方面，这两个都可以正常工作：

```
let a = 0.1*2 
```

和

```
let grid = map (\x -> 2 *x) indices 
```

这里发生了什么？为什么仅当应用于带有地图的列表时，Num 乘以小数才会失败？

编辑：我得到的错误是：

```
No instance for (Fractional Integer)
  arising from the literal `0.1'
Possible fix: add an instance declaration for (Fractional Integer)
In the first argument of `(*)', namely `0.1'
In the expression: 0.1 * x
In the first argument of `map', namely `(\ x -> 0.1 * x)' 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-04T06:05:39.400

您已经发现了“可怕的单态限制”。基本上，GHC 会推断出的类型`indices`是单型，`[Integer]`而不是`Num a => a`. 您可以提供类似的注释`indices :: [Float]`，也可以修改定义以避免限制。

例如（不是建议），如果你做`indices`一个函数：`let indices a = [-1500, -1499..1500]`，推断的类型是 now `(Enum t, Num t) => a -> [t]`。该`a`参数未使用，但违反了限制。然后你就可以做到了`map f (indices whatever)`。[**在 Haskell Wiki 中查看有关Monomorphism Restriction**](http://www.haskell.org/haskellwiki/Monomorphism_restriction)的更多信息。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-04-04T06:07:35.410

这是默认的。

您的`indices`变量`Num`默认为 Integer，而不是您可能期望的类型类的多态，此时您不能将其乘以`0.1`，因为`0.1`它将解析为某些 Fractional 类型。

您可以使用显式类型签名强制索引是多态的：

```
let indices :: (Enum a, Num a) => [a]; indices = [-1500,-1499..1500] 
```

尽管在实践中，您通常不希望以这种方式显式地多态列表。

haskell wiki上有一个关于单态限制的页面，虽然它不是特别简洁：[http ://www.haskell.org/haskellwiki/Monomorphism_restriction](http://www.haskell.org/haskellwiki/Monomorphism_restriction)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T09:06:25.747

```
let grid = map (\x -> 0.1 * (fromInteger x)) indices 
```

-- 网格 [-150.0,-149.9,-149.8,-149.70000000000002,-149.6,-149.5 ...]

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-04-04T06:00:18.563

以下代码对我有用

```
let indices = [-1500,-1499..1500]

let grid = map ( \x -> x /10 ) indices 
```

它不喜欢 0.1

有关完整说明，请参阅此[链接上的“单态故障”部分](http://en.wikibooks.org/wiki/Haskell/Type_basics_II)

# php - 使用未定义的常量主机 - 在 paypal 类中假定“主机”错误（codeigniter 库）

> ID：15803391
> 
> 赞同：0
> 
> 时间：2013-04-04T05:45:18.743
> 
> 标签：php, codeigniter, paypal, paypal-sandbox, paypal-ipn

我正在使用名为 paypal_class 的 codeigniter 库。一切都很好，但在验证 ipn 功能时我收到此错误。`Use of undefined constant host - assumed 'host'`这一定是邮件没有发送给用户的原因。什么都没有返回。

我是贝宝的新手。所以我希望有一个详细的解决方案。谢谢你。请询问您可能需要的任何其他信息。

* * *

错误在这一行：

```
 $fp = fsockopen($url_parsed[host], "80", $err_num, $err_str, 30); 
```

在哪里

```
$url_parsed = parse_url($this->paypal_url); 
```

这是ipn函数：

```
 function validate_ipn() {

    // parse the paypal URL
    $url_parsed = parse_url($this->paypal_url);

    // generate the post string from the _POST vars aswell as load the
    // _POST vars into an arry so we can play with them from the calling
    // script.
    $post_string = '';
    foreach ($_POST as $field => $value) {
        $this->ipn_data["$field"] = $value;
        $post_string .= $field . '=' . urlencode(stripslashes($value)) . '&';
    }
    $post_string.="cmd=_notify-validate"; // append ipn command
    // open the connection to paypal
    $fp = fsockopen($url_parsed['host'], "80", $err_num, $err_str, 30);
    if (!$fp) {

        // could not open the connection.  If loggin is on, the error message
        // will be in the log.
        $this->last_error = "fsockopen error no. $errnum: $errstr";
        $this->log_ipn_results(false);
        return false;
    } else {

        // Post the data back to paypal
        fputs($fp, "POST $url_parsed[path] HTTP/1.1\r\n");
        fputs($fp, "Host: $url_parsed[host]\r\n");
        fputs($fp, "Content-type: application/x-www-form-urlencoded\r\n");
        fputs($fp, "Content-length: " . strlen($post_string) . "\r\n");
        fputs($fp, "Connection: close\r\n\r\n");
        fputs($fp, $post_string . "\r\n\r\n");

        // loop through the response from the server and append to variable
        while (!feof($fp)) {
            $this->ipn_response .= fgets($fp, 1024);
        }
        fclose($fp); // close connection
    }

    if (preg_match("/VERIFIED/i", $this->ipn_response)) {

        // Valid IPN transaction.
        $this->log_ipn_results(true);
        return true;
    } else {

        // Invalid IPN transaction.  Check the log for details.
        $this->last_error = 'IPN Validation Failed.';
        $this->log_ipn_results(false);
        return false;
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:26:35.417

你需要改变这个：

```
 $fp = fsockopen($url_parsed[host], "80", $err_num, $err_str, 30); 
```

到

```
 $fp = fsockopen($url_parsed['host'], "80", $err_num, $err_str, 30); 
```

然后在这里调试返回值：

```
$url_parsed = parse_url($this->paypal_url);
var_dump($url_parsed); 
```

# cakephp - 无法在 cakephp edit.ctp 文件中获取图像名称

> ID：15803397
> 
> 赞同：-1
> 
> 时间：2013-04-04T05:45:49.867
> 
> 标签：cakephp

```
$image_name = $this->data['ApkCollection']['apk_image']['name'];
echo $image_name;   // it show result as number like 7 or 3 etc... 
```

当我在edit.ctp文件中上传图像时意味着它显示图像名称如上结果，但它在add.ctp文件上工作正常

谁来帮帮我...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:08:25.937

您的代码是来自控制器还是视图（edit.ctp）？如果您正在检查控制器中发布的数据，这表明了什么？

```
pr($this->request->data['ApkCollection']['apk_image']) 
```

如果它在视图中，那不就是这样吗？

```
$image_name = $this->data['ApkCollection']['apk_image'];
echo $image_name; 
```

我认为，文件详细信息数组（“名称”是其中的一部分）仅作为帖子的结果存在。

托比

# python - 所有 XML 元素中的 Python 搜索数据

> ID：15803400
> 
> 赞同：0
> 
> 时间：2013-04-04T05:46:00.217
> 
> 标签：python, lxml

新手 - 我正在尝试使用 lxml 在任何元素中查找“错误”（下面的示例 XML 文件，但无论标签的嵌套程度如何，它都应该可以工作）：

```
<test>
  <test1>
    error
  </test1>
  <test2>  
    <test3>
      error
    </test3>
  </test2>
</test> 
```

到目前为止，似乎 lxml 只能搜索标签而不是标签内的数据 - 这是正确的吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:29:51.900

您是在问是否有内置函数来搜索元素中的文本？`lxml`使用'`etree`解析器编写自己的搜索例程非常简单。例如：

**测试.xml**

```
<test>
  <test1>
    error
  </test1>
  <test2>  
    <test3>
      error
    </test3>
  </test2>
</test> 
```

并从命令行：

```
>>> import lxml.etree as etree
>>> for event, element in etree.iterparse("test.xml"):
...   # Print the tag of a matching element
...   if element.text.strip() == "error":
...     print element.tag
... 
test1
test3 
```

编辑：如果您最终走这条路并且不需要使用 XML 命名空间，我建议您检查`xml.etree.cElementTree`而不是`lxml.etree`. 它包含在 Python 标准模块中，与`lxml.etree`.

# android - 如何为 android 动态壁纸设置背景图像..？

> ID：15803402
> 
> 赞同：0
> 
> 时间：2013-04-04T05:46:18.123
> 
> 标签：android, live-wallpaper

嗨，我想从资源文件夹中为我的动态壁纸设置背景图像，在该图像上我想做一些其他动画的东西。这种背景不应该改变。这是我尝试过的代码，但没有工作......

```
@Override
        public void onCreate(SurfaceHolder holder) {
            super.onCreate(holder);
            Log.i("onCreate","onCreate");
            Canvas c = null;
            c = holder.lockCanvas();
            try {
                if(c != null)
                doDraw(c);
            } catch(Exception e) {
                Log.e(TAG, "Exception Accourd ");
            }
}

public void doDraw(Canvas c) {
            Resources res = getResources();
            Bitmap bm = BitmapFactory.decodeResource(res, R.drawable.bg_port);
            c.drawBitmap(bm, 0, 0, null);
        } 
```

图像未加载，其捕捉错误。

堆栈跟踪如下所示

```
04-05 00:10:07.211: W/System.err(979): java.lang.NullPointerException
04-05 00:10:07.221: W/System.err(979):  at com.exp.wallpaper.MyWallPaperService$MyWallPaperEngine.doDraw(MyWallPaperService.java:94)
04-05 00:10:07.221: W/System.err(979):  at com.exp.wallpaper.MyWallPaperService$MyWallPaperEngine.onCreate(MyWallPaperService.java:125)
04-05 00:10:07.231: W/System.err(979):  at android.service.wallpaper.WallpaperService$Engine.attach(WallpaperService.java:648)
04-05 00:10:07.231: W/System.err(979):  at android.service.wallpaper.WallpaperService$IWallpaperEngineWrapper.executeMessage(WallpaperService.java:875)
04-05 00:10:07.241: W/System.err(979):  at com.android.internal.os.HandlerCaller$MyHandler.handleMessage(HandlerCaller.java:61)
04-05 00:10:07.241: W/System.err(979):  at android.os.Handler.dispatchMessage(Handler.java:99)
04-05 00:10:07.241: W/System.err(979):  at android.os.Looper.loop(Looper.java:123)
04-05 00:10:07.241: W/System.err(979):  at android.app.ActivityThread.main(ActivityThread.java:3683)
04-05 00:10:07.251: W/System.err(979):  at java.lang.reflect.Method.invokeNative(Native Method)
04-05 00:10:07.251: W/System.err(979):  at java.lang.reflect.Method.invoke(Method.java:507)
04-05 00:10:07.251: W/System.err(979):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
04-05 00:10:07.251: W/System.err(979):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
04-05 00:10:07.251: W/System.err(979):  at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-25T19:51:00.313

试试这个代码............

```
public void drawFrame() {  final SurfaceHolder holder = getSurfaceHolder();
         try {
            c = holder.lockCanvas();
            c.save();
            if (c != null) {
                  doDraw(c);
            }
        } finally {
            if (c != null) holder.unlockCanvasAndPost(c);
        }
       mHandler.removeCallbacks(onadraw);
        if (mVisible) {
            mHandler.postDelayed(onadraw, 1000/25);
        }}
public void doDraw(Canvas c) {Resources res = getResources();
        Bitmap bm = BitmapFactory.decodeResource(res, R.drawable.bg_port);
        c.drawBitmap(bm, 0, 0, null);
    } 
```

# php - CSS - 类不适用于电子邮件模板

> ID：15803404
> 
> 赞同：0
> 
> 时间：2013-04-04T05:47:00.823
> 
> 标签：php, codeigniter, email, css

我正在使用表单值发送电子邮件。我使用这么多的 CSS 类创建了电子邮件模板。当我发送电子邮件时，发现电子邮件模板中没有应用任何类。

我正在寻找这个问题的解决方案，但没有找到满意的答案。有谁知道，如何为电子邮件模板应用 css 类。

我正在使用 CodeIgniter 框架并在“sendemail”操作中创建电子邮件。这是示例代码。

```
<style>
 .head{
  border: 2px solid black;
  padding: 5px;
 }
</style>

<div class='head'>
 Hello World !
</div> 
```

请让我知道是否有任何解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T05:56:19.797

在电子邮件模板中，css 类不会影响您将内联样式写入 html 标签，例如

```
<div style='border: 2px solid black;padding:5px;'>Hello World !</div> 
```

# asp.net-mvc-3 - 对 MVC 脚手架感到困惑

> ID：15803405
> 
> 赞同：0
> 
> 时间：2013-04-04T05:47:00.893
> 
> 标签：asp.net-mvc-3, asp.net-mvc-scaffolding, ef-database-first

我正在学习MVC3。我花了好几个小时尝试了一些东西，现在我想我完全迷路了。我首先创建了一个数据库，然后从中生成了模型。现在我想知道是否可以使用脚手架生成带有 CRUD 视图的模型？我尝试了几件事。首先是错误 - 无法获取元数据。谷歌搜索首先误导我 EF4.x 有问题。重新安装它并浪费时间。然后我尝试了自动代码生成功能，但它在先前生成的类之间给出了歧义错误。甚至有可能做我正在尝试的事情吗？如何？还是我必须为视图编码？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-03T19:21:15.973

转到您的控制器方法，右键单击并添加您的视图，您需要检查强类型视图，然后选择模型和脚手架模板。

如果您仍然收到错误，请确保使用属性 [key] 装饰主键，并确保所有属性与您的 DB 字段具有相同的名称，否则您将收到错误消息。

# java - 如何在加载面板时从 jTextfield 获取值？

> ID：15803407
> 
> 赞同：-3
> 
> 时间：2013-04-04T05:47:08.933
> 
> 标签：java, swing, input, runtime, jtextfield

如何在加载面板时从 aj Textfield 获取值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T05:48:33.550

> 从 JTextfield 获取值

```
String text = textField.getText(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T05:50:04.750

您可以使用正常的方式：

`txtField.getText();`

读取内容，但如果您尝试在应用程序启动的第一次加载时执行此操作，则当时不会设置内容，除非在这种情况下它在“硬编码”代码中设置，否则可以读取它直接地。

# knockout.js - 拖放目标与可排序容器分开

> ID：15803408
> 
> 赞同：0
> 
> 时间：2013-04-04T05:47:17.083
> 
> 标签：knockout.js, jquery-ui-draggable, knockout-sortable

我正在尝试使用 Knockout 和 jQuery 设置拖放克隆，但我无法弄清楚这一点。
我有[Niemeyer 写的可淘汰排序绑定](https://github.com/rniemeyer/knockout-sortable)，但我找不到一种方法来连接它。

我希望`connectClass`能够“捕捉”掉落并将它们传递到子元素 Sortable 中，但显然不是。这是我从 Niemeyer 派生的一个小提琴，它非常简单地显示了我正在尝试做的事情。

[http://jsfiddle.net/Kal_Torak/g74xN/3/](http://jsfiddle.net/Kal_Torak/g74xN/3/)

我的可排序绑定元素并不总是包含项目，因此列表本身将不可见，因此我需要能够拖放到父容器上的任何位置并按照您的预期添加它们。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T13:41:05.717

一种选择是添加一个与and绑定`droppable`很好的绑定。有几种方法可以做到这一点，但这是一种将处理程序传递给 droppable 的方法，它调用将新项目作为第一个参数传递的处理程序。`sortable``draggable`

```
ko.bindingHandlers.droppable = {
    init: function(element, valueAccessor) {
        var dropHandler = valueAccessor() || {};

        $(element).droppable({
            drop: function(event, ui) {
               var item = ko.utils.domData.get(ui.draggable[0], "ko_dragItem");

                if (item) {
                    item = item.clone ? item.clone() : item;
                    dropHandler.call(this, item, event, ui);
                }
            }
        });
    }
}; 
```

然后，您可以像这样绑定它：

```
<div id="main" data-bind="droppable: addTask"> 
```

通过`addTask`推送到您的 observbaleArray。

示例：http: [//jsfiddle.net/rniemeyer/3JBnh/](http://jsfiddle.net/rniemeyer/3JBnh/)

# android - Seekbar 和 setText 显示旧的输出

> ID：15803409
> 
> 赞同：0
> 
> 时间：2013-04-04T05:47:29.583
> 
> 标签：android, seekbar

我正在测试搜索栏组件以获得感觉，所以我将它添加到我的应用程序中。目标很简单，当您拖动光标时，它会更改文本以指示进度。但是由于某种原因，当在屏幕上拖动它时，它会留下光标的图像以及以前的结果，而不是仅仅用新的文本替换文本。这是代码。我认为非常基本。

```
public class Progressbar extends Activity implements OnSeekBarChangeListener 
```

{

```
SeekBar bar; // declare seekbar object variable
// declare text label objects
TextView textAction;
/** Called when the activity is first created. */

@Override
protected void onCreate(Bundle savedInstanceState) {

     super.onCreate(savedInstanceState);
     // load the layout
     setContentView(R.layout.activity_progressbar);     
     bar = (SeekBar)findViewById(R.id.seekBar1); // make seekbar object
     bar.setOnSeekBarChangeListener(this); // set seekbar listener.
     // since we are using this class as the listener the class is "this"

     // make text label for action
     textAction = (TextView)findViewById(R.id.textViewAction);

}

@Override
public void onProgressChanged(SeekBar seekBar, int progress,
        boolean fromUser) {
    // TODO Auto-generated method stub

    // change action text label to changing
    textAction.setText(textAction.getText() + "\n" +"SeekBar progress is at: "+ progress);

}

@Override
public void onStartTrackingTouch(SeekBar seekBar) {
    // TODO Auto-generated method stub
    textAction.setText("starting to track touch");

}

@Override
public void onStopTrackingTouch(SeekBar seekBar) {
    // TODO Auto-generated method stub
    seekBar.setSecondaryProgress(seekBar.getProgress()); // set the shade of the previous value.
    textAction.setText("ended tracking touch");     
} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T05:51:51.007

您正在将先前的文本附加到新的进度中。你为什么不这样做来检查 Seekbar。

```
textAction.setText(""+ progress); 
```

# linux - Shell脚本进程被自动杀死

> ID：15803410
> 
> 赞同：1
> 
> 时间：2013-04-04T05:47:29.987
> 
> 标签：linux, shell, process, linux-kernel, operating-system

我遇到了 shell 脚本的问题，我有一个将在无限循环中运行的脚本，所以说它有 PID X。进程运行了 4-5 小时，但进程自动被杀死。这只发生在长时间运行的系统中我在 2 小时后观察到它也被杀死了。

我无法找到它下降的原因为什么它被杀死。除了我之外没有人使用该系统。我正在以 root 用户身份运行该进程。

任何人都可以解释或怀疑杀死进程的原因。

下面是示例脚本

```
#!/bin/bash 

until ./test.tcl; do 
   echo "Server 'test.tcl' crashed with exit code $?. Respawing.." >&2 
done 
```

在**test.tcl**脚本中，我运行它进行无限循环，该脚本用于捕获信号并进行一些特殊操作。但我们发现**test.tcl**也在下降。那么有什么方法可以从我捕捉谁以及它是如何被杀死的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-05T14:28:40.787

在您的系统中启用核心转储，这是应用程序崩溃分析最常用的方法。我知道 gdb 核心文件有点痛苦，但或多或​​少你可以从中找到一些东西。这是您的参考链接。（[http://www.cyberciti.biz/tips/linux-core-dumps.html](http://www.cyberciti.biz/tips/linux-core-dumps.html)）。

另一种方法是通过“strace -p PID-X”跟踪你的脚本，注意它会减慢你的系统，特别是几个小时，但它可能是最后的手段。

以上希望对你有所帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-02T07:45:07.560

最好通过特定脚本检查操作系统当时生成和捕获的所有信号，这可能是导致进程终止的信号之一。

# asp.net - 将 IIS 或 ASP.NET 配置为在 Parallelism 中使用“登录用户”而不是“IIS APPPOOL\\MyAppPool”用户

> ID：15803411
> 
> 赞同：2
> 
> 时间：2013-04-04T05:47:31.530
> 
> 标签：asp.net, iis-7, .net-4.0, parallel-processing, sql-server-2008-r2

我在 ASP.NET 4 中有一个网站，需要使用 Parallelism 连接到 SQL Server 2008 R2，还使用 ​​IIS 7 和 Windows 身份验证，我使用`Parallel.Foreach`表达式，当我使用`Foreach`一切都很好，但`Parallel.Foreach`我得到一个错误：`Login failed for user: 'IIS APPPOOL\\MyAppPool'.`，所以经过一番搜索，我发现需要将应用程序池中的流程模型标识从`ApplicationPoolIdentity`更改为`LocalSystem`：

![在此处输入图像描述](https://i.stack.imgur.com/yOCV5.jpg)

或者我可以添加特定用户：

![在此处输入图像描述](https://i.stack.imgur.com/KdFzI.jpg)

但最后一个不是一个适当的解决方案。

所以我检查 SQL SPs 修改它并添加行：

![在此处输入图像描述](https://i.stack.imgur.com/UvFgJ.jpg)

然后结果是：当我使用`foreach`（意味着没有并行性）时，所有注册用户都是`MyLoginUser`但使用`Parallel.foreach`（和`LocalSystem`身份）注册的第一个用户是`MyLoginUser`，其他用户是`NT Authority System`。

我也发现了[Parallel Impersonation](https://stackoverflow.com/questions/12395819/wcf-parallel-impersonation)但也没有工作，我得到了同样的错误。

据我了解`MyLoginUser`，没有Multi Connect to sql的权限，对吗？

如果是，那么如何向该用户添加权限？

最后我尝试使用`ApplicationPoolIdentity`并`MyLoginUser`使用 Parallelism 连接到 SQL。有人有什么建议吗？

**更新：**

我发现与db的第一个连接是`MyLoginUser`然后ASP.NET尝试连接更多并让ApplicationPool这样做，但是applicationpool无法登录，因为没有权限，我也不想让它，唯一的用户可以连接必须是`myloginuser`.

所以问题可能是：

如何配置**IIS**或**ASP.NET**以使用`myloginuser`（与第一个用户相同）连接到 db 的所有连接（也在并行连接中）？

# windows-xp - 使用端口 80 的应用程序

> ID：15803416
> 
> 赞同：0
> 
> 时间：2013-04-04T05:48:08.930
> 
> 标签：windows-xp, port

我们如何才能检查是否有任何应用程序在**Windows XP中使用了****端口 80**？

 *** * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-14T22:44:24.050

使用`netstat -aon`并查找以 :80 结尾的地址，并在同一行中记下相应的 PID。然后转到任务管理器（CTRL-ALT-DEL），单击进程选项卡并在视图下单击选择列，然后检查 PID（进程标识符）。与 netstat -aon 中的 PID 匹配的进程中的 PID 正在侦听您的端口。

Skype 是一个非常常见的后台运行应用程序，是导致 80 端口被占用的常见原因。**

# iphone - uiwebview 方向字体大小问题

> ID：15803417
> 
> 赞同：3
> 
> 时间：2013-04-04T05:48:13.943
> 
> 标签：iphone, ios, objective-c, uiwebview, font-size

我在 web 视图中显示 html 字符串。在 iphone 5 中，我面临的问题是，当我从纵向到横向进行定向时，uiwebview 中文本的字体大小会发生变化。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-04T06:12:13.867

我试试这个，它有效。当您更改方向时，再次将字符串加载到 webView。

示例：[self.webView loadHTMLString:yourString baseURL:nil];

这是工作。！！

# linux - 在shell脚本中提取键值

> ID：15803419
> 
> 赞同：0
> 
> 时间：2013-04-04T05:48:29.630
> 
> 标签：linux, json, shell, unix

我想在 shell 脚本的变量中提取 pt & userId 的值。

我在变量中设置了以下值，该变量是动态出现的，需要提取 pt 和 userId

```
{"pt":"PT-24fesxPGJIHOe714iaMV-13dd3872781-sin_pos","userId":"66254363666003"} 
```

谁能告诉我如何在 shell 脚本中提取这些值？

注意：我不想使用 JSON 解析器来解析 2 个字符串。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T05:59:19.447

此字符串似乎是 JSON 字符串，最好使用专用 JSPN 解析器（如**[下划线](https://github.com/ddopson/underscore-cli)**）来解析此文本。安装`underscore cli`后，您可以执行以下操作：

```
# extract pt
echo $jsonStr | underscore select '.pt'

# extract userId
echo $jsonStr | underscore select '.userId' 
```

虽然不推荐，但如果你真的想在 shell 中解析它，你可以像这样使用 awk：

```
 awk -F, '$1 ~ "pt" {gsub(/[^:]+:"|"/, "", $1); print $1}
          $2 ~ "userId" {gsub(/[^:]+:"|"}/, "", $2); print $2}' 
```

或者更简单：

```
 awk -F'"' '{print $4 "\n" $8}' 
```

**输出：**

```
PT-24fesxPGJIHOe714iaMV-13dd3872781-sin_pos
66254363666003 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:12:06.037

您可以使用以下脚本

```
var={"pt":"PT-24fesxPGJIHOe714iaMV-13dd3872781-sin_pos","userId":"66254363666003"}
echo $var
pt=`echo $var|cut -d, -f1|awk -F':' '{ print $2 }'`
echo $pt
userId=`echo $var|cut -d, -f2|awk -F':' '{ print $2 }'|tr -d '}'`
echo $userId 
```

在此脚本中，将值存储在 2 个变量“pt”和“userId”中，您可以使用它们。

# android - 为 Android 重建 javacv.jar

> ID：15803421
> 
> 赞同：0
> 
> 时间：2013-04-04T05:48:32.497
> 
> 标签：android, javacv, javacpp

我讨厌听起来像一个 n00b，但我已经尝试了几个小时来解决这个问题，并且真的可以使用一些帮助。[通过使用此处](https://code.google.com/p/javacv/downloads/detail?name=javacv-0.4-cppjars.zip&can=2&q=)提供的 javacv.jar 和 javacpp.jar，我已经成功地能够在我的 Android 应用程序中使用 FFmpeg 和 OpenCV 。这一直很好，但是[javacv](https://code.google.com/p/javacv/source/detail?r=87516e8715d40c73e9e0e7ea65da70e345aa3498)和[javacpp](https://code.google.com/p/javacpp/source/detail?r=3934c45285d7de75c7c827b3a104cbe89658d6aa)发生了一些变化，我需要为我的应用程序重建这些。我已将这两个存储库检出到我的主目录中。我的主目录中也有 opencv-2.4.4。我能够通过在 javacpp 目录中运行“mvn install”来编译 javacpp 并获得一个 jar 文件。当我尝试在我的 javacv 目录中执行此操作时，我收到此错误：

```
[INFO] Scanning for projects...
[INFO] ------------------------------------------------------------------------
[INFO] Building JavaCV
[INFO]    task-segment: [install]
[INFO] ------------------------------------------------------------------------
[INFO] [dependency:properties {execution: properties}]
[INFO] [dependency:copy-dependencies {execution: copy-dependencies}]
[INFO] javacpp-0.4.jar already exists in destination.
[INFO] [resources:resources {execution: default-resources}]
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 9 resources
[INFO] [compiler:compile {execution: default-compile}]
[INFO] Nothing to compile - all classes are up to date
[INFO] [exec:exec {execution: javacpp}]
Generating source file:     /home/marwfair/javacv/target/classes/com/googlecode/javacv/cpp/jnicvkernels.cpp
Building library file: /home/marwfair/javacv/target/classes/com/googlecode/javacv/cpp/linux- x86_64/libjnicvkernels.so
g++ -I/usr/lib/jvm/java-7-openjdk-amd64/include -I/usr/lib/jvm/java-7-openjdk-amd64/include/linux  -I/usr/local/include /home/marwfair/javacv/target/classes/com/googlecode/javacv/cpp/jnicvkernels.cpp  -msse3 -ffast-math -Wl,-rpath,$ORIGIN/ -march=x86-64 -m64 -Wall -O3 -fPIC -shared -s -o   /home/marwfair/javacv/target/classes/com/googlecode/javacv/cpp/linux-x86_64/libjnicvkernels.so - L/usr/lib/jvm/java-7-openjdk-amd64/jre/lib/amd64/jamvm -Wl,-rpath,/usr/lib/jvm/java-7-openjdk- amd64/jre/lib/amd64/jamvm -ljvm 
In file included from   /home/marwfair/javacv/target/classes/com/googlecode/javacv/cpp/jnicvkernels.cpp:58:0:
/home/marwfair/javacv/target/classes/com/googlecode/javacv/cpp/cvkernels.h:22:33: fatal error:   opencv2/core/core_c.h: No such file or directory
compilation terminated. 
```

我已经阅读了适用于 Android 的 javacpp 的[文档和适用于 javacv 的](https://code.google.com/p/javacpp/#Instructions_for_Android)[文档](https://code.google.com/p/javacv/)。我正在运行 Ubuntu，并且对 Maven 很陌生。任何帮助将不胜感激。我觉得我真的错过了一些关键点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T03:09:13.310

是的，错过了一个非常关键的点。我的电脑上没有安装 OpenCV。[按照本指南](http://docs.opencv.org/doc/tutorials/introduction/linux_install/linux_install.html)安装 OpenCV后，我能够构建文件。

# selenium - selenium ide中日期的正则表达式

> ID：15803423
> 
> 赞同：0
> 
> 时间：2013-04-04T05:48:38.230
> 
> 标签：selenium

我试图为以下日期格式创建一个正则表达式，因为我无法证明这一点，请帮帮我。

`04-Apr-2013 [10:58:13 GMT+05:30]`

这就是我想出的：

`\\d{2}-\\w{3}-d{4} [\\d{2}:d{2}:d{2} \\w{3}+\\d{2}:d{2}]`

纠正我哪里出错了。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T16:56:27.690

您必须转义方括号，因为它们在正则表达式中具有特殊含义，而且您的一些数字指示符没有反斜杠前缀。我已经测试了以下正则表达式，它对我有用：

```
regexp:\d{2}-\w{3}-\d{4} \[\d{2}:\d{2}:\d{2} \w{3}\+\d{2}:\d{2}\] 
```

# sql - da.fill(dt) 上的值不能为空

> ID：15803434
> 
> 赞同：1
> 
> 时间：2013-04-04T05:49:31.700
> 
> 标签：sql, vb.net, winforms, combobox

```
 sqlconn.Open()
    Dim da As New SqlDataAdapter("select * from tblOfficeEquipmentCategory", sqlconn)
    Dim dt As DataTable
    da.Fill(dt)
    cmbCategory.DataSource = dt
    cmbCategory.DisplayMember = "CAT_ID"
    cmbCategory.ValueMember = "CAT_NAME"
    sqlconn.Close() 
```

返回指向 da.fill(dt) 的错误

抛出运行时异常：System.ArgumentNullException - 值不能为空。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T05:51:36.013

你应该分配你的`DataTable`with`new`关键字：

```
Dim dt As New DataTable() 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T06:08:04.117

```
Dim da As New SqlDataAdapter("select * from tblOfficeEquipmentCategory", sqlconn)
    Dim dt As NEW DataTable
    da.Fill(dt) 
```

如果没有 NEW，您的数据将没有地方存储，因为您只是获得变量但没有获得表格。

**更新**

除此之外，我刚刚发现您的数据不会显示并且会出现执行错误。

和`oledbcommand.executenonquery()`以前一样`sqlconn.close`，但我没有看到你的命令代码。

```
sqlconn.Open()
    Dim da As New SqlDataAdapter("select * from tblOfficeEquipmentCategory", sqlconn)
    Dim dt As DataTable
    da.Fill(dt)
    cmbCategory.DataSource = dt
    cmbCategory.DisplayMember = "CAT_ID"
    cmbCategory.ValueMember = "CAT_NAME"
oledbcommand.executenonquery()<<<< HERE
    sqlconn.Close() 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T06:41:50.900

```
sqlconn.Open()
    Dim da As New SqlDataAdapter("select * from tblOfficeEquipmentCategory", sqlconn)
    Dim dt As New DataTable
    da.Fill(dt)
    cmbCategory.DataSource = dt
    cmbCategory.DisplayMember = "CAT_NAME"
    cmbCategory.ValueMember = "CAT_ID"
    sqlconn.Close() 
```

它现在可以工作了，感谢您的回答，我刚刚重新分配了 displaymember 和 valuemember

它不返回不能绑定到值成员错误

# ruby-on-rails - Rails：无法将正则表达式转换为整数

> ID：15803437
> 
> 赞同：0
> 
> 时间：2013-04-04T05:49:41.837
> 
> 标签：ruby-on-rails, ruby, regex, ruby-on-rails-3, ruby-on-rails-3.1

我的 Rails 控制器中有以下代码：

```
@main_mastertest = $connection.execute("SELECT * FROM builds;")

@l2_tmp_mastertest = Array.new
@l2_tmp_mastertest = @main_mastertest.map {|y|[y[0]]}

@l2_mastertest = Array.new
@l2_mastertest = @l2_tmp_mastertest.inject(Hash.new(0)) { |hash,element|
hash[element] +=1
hash }

@l2_mastertest = @l2_mastertest.sort_by { |x, _| x }.reverse 
```

在那之后，我尝试在我看来做这样的事情：

```
<% @l2_mastertest.each_with_index do |row1, index1| %> 
   <% @l2_mastertest.each_with_index do |row2, index2| %> 
       <% if row2[0][ /(\d+\.\d+)/ ].to_s == row1[0].to_s %>      # LINE X
         ..................
       <% end %>
   <% end %>
<% end %> 
```

但它在 X 行给了我一个错误说：can't convert Regexp into Integer

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T09:14:57.610

如果我模拟我认为您问题中的数据结构正在发生的事情，我会得到：

```
@l2_mastertest = { '3.1.4' => 7, '1.2.3' => 8 }
 => {"3.1.4"=>7, "1.2.3"=>8}

@l2_mastertest.each_with_index { |row2,index| p row2,index }
["3.1.4", 7]
0
["1.2.3", 8]
1 
```

所以一个结构就像`row2[0][ /(\d+\.\d+)/ ]`是一样的，例如`"3.1.4"[ /(\d+\.\d+)/ ]`

编辑：删除了我之前的“答案”，因为实际上`"3.1.4"[ /(\d+\.\d+)/ ] => "3.1"`，这在 Ruby 中很好（我今天学到了一些东西:-)。其他东西（可能在未显示的代码中）使@l2_mastertest 散列的行为不符合预期。

这可能是一个数据库/模型问题，正如评论者所建议的那样，`row[0]`它不包含字符串。

我建议这样做`SELECT * FROM builds;`是有风险的，因为您依赖数据库以特定顺序返回列。您应该更改它以获取您需要的列数据，例如

```
SELECT version, result, build_id FROM builds; 
```

这样您就可以确定以后的处理正在处理您认为的列。简单地重新构建或传输数据库可能会更改 RDBMS 返回 a 中的列的顺序，`SELECT *`并使以前工作的代码中断。

# php - 从 Shoutcast/Icecast 流中提取艺术家和标题的 PHP 脚本

> ID：15803441
> 
> 赞同：12
> 
> 时间：2013-04-04T05:49:50.813
> 
> 标签：php, audio-streaming, shoutcast, icecast

我找到了一个脚本，它可以从 Icecast 或 Shoutcast 流中提取艺术家和标题名称。我希望脚本在歌曲更改时自动更新，目前它只有在我执行它时才起作用。我是 PHP 新手，因此我们将不胜感激。谢谢！

```
define('CRLF', "\r\n");

class streaminfo{
public $valid = false;
public $useragent = 'Winamp 2.81';

protected $headers = array();
protected $metadata = array();

public function __construct($location){
    $errno = $errstr = '';
    $t = parse_url($location);
    $sock = fsockopen($t['host'], $t['port'], $errno, $errstr, 5);
    $path = isset($t['path'])?$t['path']:'/';
    if ($sock){
        $request = 'GET '.$path.' HTTP/1.0' . CRLF . 
            'Host: ' . $t['host'] . CRLF . 
            'Connection: Close' . CRLF . 
            'User-Agent: ' . $this->useragent . CRLF . 
            'Accept: */*' . CRLF . 
            'icy-metadata: 1'.CRLF.
            'icy-prebuffer: 65536'.CRLF.
            (isset($t['user'])?'Authorization: Basic '.base64_encode($t['user'].':'.$t['pass']).CRLF:'').
            'X-TipOfTheDay: Winamp "Classic" rulez all of them.' . CRLF . CRLF;
        if (fwrite($sock, $request)){
            $theaders = $line = '';
            while (!feof($sock)){ 
                $line = fgets($sock, 4096); 
                if('' == trim($line)){
                    break;
                }
                $theaders .= $line;
            }
            $theaders = explode(CRLF, $theaders);
            foreach ($theaders as $header){
                $t = explode(':', $header); 
                if (isset($t[0]) && trim($t[0]) != ''){
                    $name = preg_replace('/[^a-z][^a-z0-9]*/i','', strtolower(trim($t[0])));
                    array_shift($t);
                    $value = trim(implode(':', $t));
                    if ($value != ''){
                        if (is_numeric($value)){
                            $this->headers[$name] = (int)$value;
                        }else{
                            $this->headers[$name] = $value;
                        }
                    }
                }
            }
            if (!isset($this->headers['icymetaint'])){
                $data = ''; $metainterval = 512;
                while(!feof($sock)){
                    $data .= fgetc($sock);
                    if (strlen($data) >= $metainterval) break;
                }
               $this->print_data($data);
                $matches = array();
                preg_match_all('/([\x00-\xff]{2})\x0\x0([a-z]+)=/i', $data, $matches, PREG_OFFSET_CAPTURE);
               preg_match_all('/([a-z]+)=([a-z0-9\(\)\[\]., ]+)/i', $data, $matches, PREG_SPLIT_NO_EMPTY);
               echo '<pre>';var_dump($matches);echo '</pre>';
                $title = $artist = '';
                foreach ($matches[0] as $nr => $values){
                  $offset = $values[1];
                  $length = ord($values[0]{0}) + 
                            (ord($values[0]{1}) * 256)+ 
                            (ord($values[0]{2}) * 256*256)+ 
                            (ord($values[0]{3}) * 256*256*256);
                  $info = substr($data, $offset + 4, $length);
                  $seperator = strpos($info, '=');
                  $this->metadata[substr($info, 0, $seperator)] = substr($info, $seperator + 1);
                    if (substr($info, 0, $seperator) == 'title') $title = substr($info, $seperator + 1);
                    if (substr($info, 0, $seperator) == 'artist') $artist = substr($info, $seperator + 1);
                }
                $this->metadata['streamtitle'] = $artist . ' - ' . $title;
            }else{
                $metainterval = $this->headers['icymetaint'];
                $intervals = 0;
                $metadata = '';
                while(1){
                    $data = '';
                    while(!feof($sock)){
                        $data .= fgetc($sock);
                        if (strlen($data) >= $metainterval) break;
                    }
                    //$this->print_data($data);
                    $len = join(unpack('c', fgetc($sock))) * 16;
                    if ($len > 0){
                        $metadata = str_replace("\0", '', fread($sock, $len));
                        break;
                    }else{
                        $intervals++;
                        if ($intervals > 100) break;
                    }
                }
                $metarr = explode(';', $metadata);
                foreach ($metarr as $meta){
                    $t = explode('=', $meta);
                    if (isset($t[0]) && trim($t[0]) != ''){
                        $name = preg_replace('/[^a-z][^a-z0-9]*/i','', strtolower(trim($t[0])));
                        array_shift($t);
                        $value = trim(implode('=', $t));
                        if (substr($value, 0, 1) == '"' || substr($value, 0, 1) == "'"){
                            $value = substr($value, 1);
                        }
                        if (substr($value, -1) == '"' || substr($value, -1) == "'"){
                            $value = substr($value, 0, -1);
                        }
                        if ($value != ''){
                            $this->metadata[$name] = $value;
                        }
                    }
                }
            }
            fclose($sock);
            $this->valid = true;
        }else echo 'unable to write.';
    }else echo 'no socket '.$errno.' - '.$errstr.'.';
}

public function print_data($data){
    $data = str_split($data);
    $c = 0;
    $string = '';
    echo "<pre>\n000000 ";
    foreach ($data as $char){
        $string .= addcslashes($char, "\n\r\0\t");
        $hex = dechex(join(unpack('C', $char)));
        if ($c % 4 == 0) echo ' ';
        if ($c % (4*4) == 0 && $c != 0){
          foreach (str_split($string) as $s){
            //echo " $string\n";
            if (ord($s) < 32 || ord($s) > 126){
              echo '\\'.ord($s);
            }else{
              echo $s;
            }
          }
          echo "\n";
          $string = '';
          echo str_pad($c, 6, '0', STR_PAD_LEFT).'  ';
        }
        if (strlen($hex) < 1) $hex = '00';
        if (strlen($hex) < 2) $hex = '0'.$hex;
          echo $hex.' ';
        $c++;
    }
    echo "  $string\n</pre>";
}

public function __get($name){
    if (isset($this->metadata[$name])){
        return $this->metadata[$name];
    }
    if (isset($this->headers[$name])){
        return $this->headers[$name];
    }
    return null;
 }
}

$t = new streaminfo('http://64.236.34.196:80/stream/1014'); // get metadata

echo Meta Interval: $t->icymetaint;
echo Current Track: $t->streamtitle; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T05:52:47.680

您将需要以设定的时间间隔不断地查询流以查找歌曲何时更改。

这可以通过安排一个[cron](http://en.wikipedia.org/wiki/Cron)作业来最好地完成。如果在 Windows 上，您应该使用[Windows 任务计划程序](http://support.microsoft.com/kb/308569)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-13T17:05:45.177

如果您想运行 PHP 脚本以使您的元数据保持最新（我假设您正在制作一个网站并在此处使用 html 音频标签），您可以使用带有 ajax 函数的 ontimeupdate 事件。如果您不是，您可能应该查看您的音频播放文档以获取类似的内容。

```
<audio src="http://ip:port/;" ontimeupdate="loadXMLDoc()"> 
```

你可以在这里找到一个很好的例子[http://www.w3schools.com/php/php_ajax_php.asp](http://www.w3schools.com/php/php_ajax_php.asp)

您想在脚本的最后使用一个 php 变量来一次使用 PHP 回显函数所有相关信息。

```
<?php ....
$phpVar=$streamtitle;
$phpVar2=$streamsong;
$result="I want my string to look like this: <br> {$phpVar} {$phpVar2}";
echo $result;
?> 
```

然后使用 .onreadystatechange 调用的函数通过使用 .resonseText 修改您想要在您的网站上的特定元素（这将包含与您的 PHP 脚本的回显相同的内容）。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2014-02-19T00:20:55.560

在网上搜索了 4 小时后，这是我发现的唯一有效的 Shoutcast 元数据脚本！谢谢你。

要不断地运行它，为什么不使用结合 jQuery 的 AJAX 调用的 setInterval 呢？

```
<script>
$(function() {
    setInterval(getTrackName,16000);
});

function getTrackName() {
    $.ajax({
    url: "track_name.php"
    })
    .done(function( data ) {
    $( "#results" ).text( data );
    });
}
</script> 
```

你最后几句“回声”台词也为我打破了剧本。只需在 Meta Interval 周围加上引号等......

# cosm - 如何使用 cosm javascript 库查询 cosm json 提要

> ID：15803444
> 
> 赞同：0
> 
> 时间：2013-04-04T05:50:03.700
> 
> 标签：cosm

我是 Web 开发的新手，我吃的东西比我能咀嚼的还多。

到目前为止，我已经成功创建了一个网站来查询 cosm.com 的最新数据

现在我正在尝试使用 cosm javascript 库将 cosm.com 提要中的最后 10 个数据点保存到一个数组中。我无法获得正确的语法，也找不到可以指导我的示例。

```
cosm.feed.history( 12068, duration:'30seconds', callback(data) );
console.log(data); 
```

[http://jsfiddle.net/spuder/29cFT/12/](http://jsfiddle.net/spuder/29cFT/12/)

[http://cosm.github.com/cosm-js/docs/](http://cosm.github.com/cosm-js/docs/)

*更新 2013-4-14* 实施@bjpirt 的解决方案后，我注意到我没有在指定的持续时间内返回“每个”值。通过在请求中添加“interval:0”来解决它。

```
 cosm.datastream.history( cosmFeed1, cosmDataStream1, {duration:'60seconds', interval:0}, getHistory ); 
```

[http://jsfiddle.net/spuder/ft2MJ/1/](http://jsfiddle.net/spuder/ft2MJ/1/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T08:51:54.823

您可能需要将`duration:'30seconds'`json 选项包装在`{}`

尝试类似：

```
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script src="http://d23cj0cdvyoxg0.cloudfront.net/cosmjs-1.0.0.min.js"></script>
<script>..
  cosm.setKey( "APIKEY" );
  cosm.feed.history(40360, {duration:'30seconds'}, function(data){
    console.log(data);
    console.log(data.datastreams);
  });
</script> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T09:26:47.743

@lebreeze 的建议是正确的。我让您的 JSFiddle 正常工作，以便它现在从 Cosm API 获取数据：

[http://jsfiddle.net/nLt33/2/](http://jsfiddle.net/nLt33/2/)

我必须进行一些更改才能使其正常工作，其中任何一个都会导致您出错：

*   提要 ID 和数据流 ID 不正确
*   你没有回调函数
*   选项不在 javascript 对象中

此外，该提要最近似乎没有更新。

这是更新后的代码，现在似乎可以正常工作：

```
 //read only key
    cosm.setKey("-Ux_JTwgP-8pje981acMa5811-mSAKxpR3VRUHRFQ3RBUT0g");
    var cosmFeed = 120687;
    var cosmDataStream = "sensor_reading";

    $(document).ready( function()  {
        var success = function(data){
            for(var datapoint in data.datapoints){
                var dp = data.datapoints[datapoint];
                $('#stuff').append('<li>Value: ' + dp.value + ' At: ' + dp.at + '</li>');
            }
        }

        //Print out the last 10 readings or so
        cosm.datastream.history( cosmFeed, cosmDataStream, {duration:'1day'}, success ); 
    }) 
```

很难只获得最后的 x 个数据点（我认为我们应该在 API 中更改） - 您通常会要求特定时间段。

希望这可以帮助。

# java - 从 ResultSet 中按行读取数据

> ID：15803448
> 
> 赞同：3
> 
> 时间：2013-04-04T05:50:10.237
> 
> 标签：java, postgresql, resultset

我有以下问题，是否可以按行从结果集中读取数据？例如，如果我通过以下语句读取了 12 行：

```
select * from months where data = 'whatever' and place_id = '1' 
```

我可以通过以下代码将数据读入字符串：

```
while (rs.next()) 
{
    for ( int i=1, y=0; i<numOfCols+1; i++,y++ ) 
{
    out.print("<td>" + rs.getString(i) + "</td>");
        avMaxTemp += rs.getString(i) +",";
    }
} 
```

如果我更改选择语句：

```
select * from months where data = 'whatever' and place_id in ('1', '2') 
```

我将如何将第二行数据读入：

```
string avMinTemp = 
```

我尝试了很多玩循环，但它从来没有给我预期的结果。任何帮助都非常感谢！！！我需要将第二行复制到字符串 avMinTemp 中，将第三行数据复制到字符串 meanTemp 中，依此类推...

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T06:00:21.123

您必须在 while 语句之前创建一个列表对象并将 avaMaxTemp 添加到此列表中（假设 avaMaxTemp 是一个字符串）

例如：

```
List<string> avaMaxTempList = new List<string>();
while (rs.next()) 
{
    for ( int i=1, y=0; i<numOfCols+1; i++,y++ ) 
{
    out.print("<td>" + rs.getString(i) + "</td>");
        avMaxTemp += rs.getString(i) +",";
    }
avaMaxTempList.Add(avaMaxTemp);
} 
```

# jsf - Primefaces 富编辑器

> ID：15803450
> 
> 赞同：0
> 
> 时间：2013-04-04T05:50:18.300
> 
> 标签：jsf, primefaces

我正在使用 primefaces(3.0.M2) 富编辑器来接收用户的输入。限制为 5000 个字符。当用户尝试从外部来源复制或美化内容时，会添加其他标签以保留格式。

现在要验证 5000 的最大长度，我需要去掉标签，只计算字符长度。如何从托管 bean 中单独获取字符进行验证？

客户端验证片段：

```
<p:editor    id="customerInfo"    value="#{companyBean.body}" 
      required="false"    requiredMessage="Info required"    height="250"    width="450"
      validatorMessage="Only 5000 characters allowed">
     <f:validateLength maximum="5000" />
 </p:editor> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-05-23T20:43:49.603

只是为了帮助像我这样的人，这也试图找到一些答案！

您可以使用 wigdteVar 访问编辑器值，如下所示：

```
 <p:editor
      id="iptTextoClausula"                     
      widgetVar="wvMyEditor"
      width="790"
      height="200"
      validator="clausulaEditorValidator"
      value="#{clausulasContratadasBean.selectedClauseFull.dsTexto}" />

<script language="Javascript">

     wvMyEditor.editor.doc.body.innerText

</script> 
```

# javascript - 如何将数组推送更改为特定数组？

> ID：15803451
> 
> 赞同：2
> 
> 时间：2013-04-04T05:50:26.513
> 
> 标签：javascript, arrays

我只想添加整数并忽略特定数组中的其他整数。我想在该数组的推送事件中添加此条件。

```
Array.prototype.push = function(){   

if(condition){

   //execute push if true

  }

  else
  {

    //return false

  }

} 
```

帮我如何编码？这会影响我代码中的所有数组。我只想在推送时检查特定数组的这种情况。有什么方法可以实现？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:05:13.020

jsFiddle：http: [//jsfiddle.net/QhJzE/4](http://jsfiddle.net/QhJzE/4)

将方法直接添加到数组中：

```
var nums = [];

nums.push = function(n) {
    if (isInt(n))
        Array.prototype.push.call(this, n);
}

nums.push(2);
nums.push(3.14);
nums.push('dawg');

console.log(nums); 
```

（有关函数，请参阅如何[检查数字是浮点数还是整数？](https://stackoverflow.com/questions/3885817/how-to-check-if-a-number-is-float-or-integer)`isInt`）

这里有一些很棒的信息： http: [//perfectionkills.com/how-ecmascript-5-still-does-not-allow-to-subclass-an-array/](http://perfectionkills.com/how-ecmascript-5-still-does-not-allow-to-subclass-an-array/)。我在这里展示的内容在那篇文章中称为“直接扩展”。

# wix - 如何使用 WIX 使用单个 MSI 包安装两个 MSI 包？

> ID：15803452
> 
> 赞同：3
> 
> 时间：2013-04-04T05:50:28.743
> 
> 标签：wix, windows-installer, chain, runner

我有一个使用单个 MSI 包安装两个 MSI 包的场景。

例如，我们有两个产品要安装即。Sample1.MSI 和 Sample2.MSI。我们需要将 Sample2.MSI 包嵌入到 Sample1.MSI 中。如果我们安装 Sample1.MSI，它应该同时安装 Sample1.MSI 和 Sample2.MSI，这应该在添加或删除程序 (appwiz.cpl) 中创建两个条目。

经过搜索，我发现了一个使用“EmbeddedChainer”标签的示例应用程序，该标签在安装时可以正常工作。但它没有正确卸载。

```
 <Directory Id="TARGETDIR" Name="SourceDir">
        <Directory Id="ProgramFilesFolder">
            <Directory Id="INSTALLLOCATION" Name="SampleSetup">

      <Component Id="InstallMSIComponent" Guid="{7091DE57-7BE3-4b0d-95D5-07EEF6463B62}">
        <File Id="ChainRunner.exe" Name="ChainRunner.exe"
              Source="C:\ChainRunner.exe"
              DiskId="1" KeyPath="yes"/>
        <File Id="TestFile.txt" Name="TestFile.txt" Source="TestFile.txt" />
        <File Id="Microsoft.Deployment.WindowsInstaller.dll" Name="Microsoft.Deployment.WindowsInstaller.dll" Source="C:\Microsoft.Deployment.WindowsInstaller.dll"/>
        <File Id="Microsoft.Deployment.WindowsInstaller.xml" Name="Microsoft.Deployment.WindowsInstaller.xml" Source="C:\Microsoft.Deployment.WindowsInstaller.xml"/>          
        <RemoveFolder Id='INSTALLLOCATION' On='uninstall' />
      </Component>

      <Component Id="SampleSetup2Component" Guid="{CB568AA4-9790-4efd-91BB-82682F063321}">
        <File Id="SampleSetup2.msi" Name="SampleSetup2.msi"
              Source="SampleSetup2.msi"
              DiskId="1" KeyPath="yes"/>      
      </Component>
            </Directory>
        </Directory>
    </Directory>
<EmbeddedChainer Id="Chainer" FileSource="ChainRunner.exe"/>

    <Feature Id="ProductFeature" Title="SampleSetup" Level="1">

  <ComponentRef Id="InstallMSIComponent"/>
  <ComponentRef Id="SampleSetup2Component"/>

        <ComponentGroupRef Id="Product.Generated" />
    </Feature> 
```

ChainRunner 代码

```
public class CustomActions
{

    static void Main(string[] args)
    {

        try
        {
            IntPtr ptr = new IntPtr(Convert.ToInt32(args[0], 16));
            ptr = System.Runtime.InteropServices.Marshal.StringToCoTaskMemAuto(args[0]);
            Transaction transaction = Transaction.FromHandle(ptr, true);
            transaction.Join(TransactionAttributes.JoinExistingEmbeddedUI);

            Installer.InstallProduct(@"C:\SampleSetup2.msi", "");
            transaction.Commit();
            transaction.Close();
        }
        catch (Exception e)
        {

            Console.WriteLine("Exception in Installation:"+e.Message+"\n"+e.StackTrace.ToString());
            Console.ReadKey();
            throw e;
        }
    }
    [CustomAction]
    public static ActionResult CustomAction1(Session session)
    {
        session.Log("Begin CustomAction1");

        return ActionResult.Success;
    }
} 
```

这哪里搞砸了？

请问除了这种方法还有其他最好的方法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-05-24T04:41:11.760

您可以使用 Wix Burn 创建包含多个应用程序安装程序的安装包：

*   [Wix 工具集：构建安装包捆绑包](http://wix.sourceforge.net/manual-wix3/authoring_bundle_intro.htm)；
*   [Neil Sleightholm 的博客：WiX Burn – 提示/技巧](http://neilsleightholm.blogspot.ru/2012/05/wix-burn-tipstricks.html)。

# git - 忘记推送并丢失更改

> ID：15803455
> 
> 赞同：2
> 
> 时间：2013-04-04T05:50:37.643
> 
> 标签：git, git-svn

Git 在我的本地机器上配置。我使用了以下命令

```
git add .
git commit -m "message " 
```

昨天忘记推了。我昨天做了几个改动。今天由于一些问题我不能`push`。我不知道今天早上发生了什么，但我所有的代码都消失了。

**我需要哪些命令来取回我的代码？**

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T05:54:08.877

如果你已经提交了你的代码（现在已经没有了），你可以检查[`git reflog`](http://git-scm.com/docs/git-reflog).

它将列出任何未引用的提交，供您返回。
参见例如“[撤消`git reset`？](https://stackoverflow.com/q/2510276/6309) ”或“[如何在 git 中撤消结帐？](https://stackoverflow.com/a/3601927/6309) ”。

# java - 如何清除 NoClassDefFoundError

> ID：15803456
> 
> 赞同：0
> 
> 时间：2013-04-04T05:50:39.457
> 
> 标签：java, hadoop, classpath

在运行我的 java 程序以将文件复制到 hdfs 时，我遇到了以下异常

```
hduser@master:~/Desktop/Source Code$ java -cp . Filesize monis.txt /home/hduser/Desktop/Source*/monis.txt /tmp/user/gutenberg

Exception in thread "main" java.lang.NoClassDefFoundError: org/apache/hadoop/conf/Configuration
at FileSize.copyFromLocal(FileSize.java:219)
at FileSize.main(FileSize.java:74)
    Caused by: java.lang.ClassNotFoundException: org.apache.hadoop.conf.Configuration
at java.net.URLClassLoader$1.run(URLClassLoader.java:366)
at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
at java.security.AccessController.doPrivileged(Native Method)
at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
at java.lang.ClassLoader.loadClass(ClassLoader.java:423)
at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)
at java.lang.ClassLoader.loadClass(ClassLoader.java:356)
... 2 more 
```

我已经`CLASSPATH`在文件中定义了我的变量`/etc/environment`，它看起来像这样

```
PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games" 

CLASSPATH="/usr/local/hadoop/hadoop-core-1.0.4.jar:/usr/local/hadoop/lib/commons-cli-1.2.jar:/usr/local/hadoop/lib/commons-logging-1.1.1.jar:/usr/local/hadoop/lib/log4j-1.2.15.jar:/home/hduser/Desktop/Source*/" 
```

我仍然得到这个例外。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T09:59:29.063

我会小心地将 CLASSPATH 环境变量和`-cp`标志混合到 java - 这很可能会覆盖您在 /etc/environment.xml 中设置的环境变量。

您还应该检查您对 /etc/environment 所做的更改是否已生效：

```
#> echo $CLASSPATH 
```

如果这没有显示您设置的值，那么您很可能需要重新启动您的 shell 会话，注销并再次登录，或者您可以只获取文件：

```
#> source /etc/environment 
```

附带说明一下，运行与 hadoop 交互的程序的最佳方式是通过 hadoop shell 脚本。您需要将您的类捆绑到一个 jar 文件中，但随后很容易调用您的程序，让脚本负责将 hadoop 和其他库依赖项添加到类路径：

```
#> /usr/local/hadoop/bin/hadoop myJar.jar \
      Filesize monis.txt \
      /home/hduser/Desktop/Source*/monis.txt \
      /tmp/user/gutenberg 
```

# ios - 如何从 plist 中检索字符串？

> ID：15803458
> 
> 赞同：3
> 
> 时间：2013-04-04T05:50:46.707
> 
> 标签：ios, nsarray, plist, nsdictionary

我在xcode中有一个名为“config.plist”的plist ![配置.plist](https://i.stack.imgur.com/GPVol.png)，我试图检索寄存器url（键：reg）但是当我打印结果时它显示空值？

这是我检索字符串的代码。请参考我的 plist 结构的图像。

```
NSMutableURLRequest *request =[[NSMutableURLRequest alloc] initWithURL:[NSURL URLWithString: [[_config objectForKey:@"URL"] objectForKey:@"reg"]]]; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T05:55:26.997

```
NSString *plist=[[NSBundle mainBundle] pathForResource:@"config" ofType:@"plist"];
NSDictionary *dict=[[NSDictionary alloc] initWithContentsOfFile:plist];
NSString *stringValue=dict[@"URL"][@"reg"]; 
```

**编辑：了解以下内容非常重要：**

在上面`dict`本身就是`objectForKey:@"Root"`

我/我们试图找到`[@"Root"][@"URL"][@"reg"]`不存在的。

因此，对于命名约定（它存储的内容）的可读性，它应该是：

```
NSString *plist=[[NSBundle mainBundle] pathForResource:@"config" ofType:@"plist"];
NSDictionary *rootDict=[[NSDictionary alloc] initWithContentsOfFile:plist];
NSString *stringValue=dict[@"URL"][@"reg"]; 
```

甚至

```
NSString *plist=[[NSBundle mainBundle] pathForResource:@"config" ofType:@"plist"];
NSString *stringValue=[[NSDictionary alloc] initWithContentsOfFile:plist][@"URL"][@"reg"]; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T05:53:27.437

尝试

```
NSString *path = [[NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0] stringByAppendingPathComponent:@"config.plist"]; 
NSDictionary *dictionary = [[NSDictionary alloc] initWithContentsOfFile:path];
NSString *result = [[[dictionary objectForKey:@"Root"] objectForKey:@"URL"]objectForKey:@"reg"]; 
```

**编辑**资源：

```
NSString *path = [[NSBundle mainBundle] pathForResource:@"config" ofType:@"plist"]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T06:28:16.427

```
 NSString *plist=[[NSBundle mainBundle] pathForResource:@"config" ofType:@"plist"];
    NSLog(@"path%@",plist);
    NSDictionary *dict=[[NSDictionary alloc] initWithContentsOfFile:plist];
    NSLog(@"d%@",dict);
    NSString *stringValue=[[dict objectForKey:@"URL"] valueForKey:@"reg"]; 
```

这东西对我有用..谢谢你的帮助

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-04T06:41:48.597

试试这个代码

```
NSString *plistFilePath=[[NSBundle mainBundle] pathForResource:@"config" ofType:@"plist"];
NSDictionary *urlDictionary=[[NSDictionary alloc] initWithContentsOfFile:plistFilePath];
NSString *urlString=[[urlDictionary objectForKey:@"URL"] valueForKey:@"reg"]; 
```

# javascript - jQuery数据表默认编辑点击事件

> ID：15803459
> 
> 赞同：0
> 
> 时间：2013-04-04T05:50:55.370
> 
> 标签：javascript, jquery, datatable

我在我的 web 应用程序上使用 jquery 数据表插件，具有内联编辑功能。默认编辑设置

```
$('#example').dataTable().makeeditable({
          null  //default editing
    }); 
```

仅在按下 Enter 按钮后触发编辑事件。有没有办法可以将其更改为类似于选择工作方式的“在框外单击”事件

```
$('#example').dataTable().makeeditable({
          indicator: 'Saving...',
          tooltip: 'Click to select option',
          loadtext: 'loading...',
          type: 'select',
          onblur: 'submit',
          data: "{'A; A':'B; B'}"                                    
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T05:55:55.977

使用 Jeditable 可能是理想的解决方案。[请在此处](http://datatables.net/examples/api/editable.html)查看示例。

# php - 如何使用php从网页的某些部分打印出来？

> ID：15803461
> 
> 赞同：2
> 
> 时间：2013-04-04T05:51:04.497
> 
> 标签：php, javascript

我想从网页中打印出来。我已经为此和这项工作编写了代码。代码是：

```
function printPage(){
        var tableData = '<table border="1">'+document.getElementsByTagName('table')[0].innerHTML+'</table>';
        var data = '<button onclick="window.print()">Print this page</button><br/>'+tableData;       
        myWindow=window.open('','','width=500,height=600');
        myWindow.innerWidth = screen.width;
        myWindow.innerHeight = screen.height;
        myWindow.screenX = 0;
        myWindow.screenY = 0;
        myWindow.document.write(data);
        myWindow.focus();
    }; 
```

但我不想打印出“打印此页”按钮。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T05:53:57.683

您可以使用@media css 样式方法：

```
@media print {
/* css here to take out the "print this */
} 
```

这只会在您打印时应用 css 样式。

例如，你可以给你的按钮一个类，比如`class="printbtn"`

然后：

```
@media print {

    .printbtn { display: none; }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:01:21.127

只需使用 css 将定义区域打印为....

```
 <style type="text/css">

    #printit { display: block; }

    @media print
    {
        #dont-printit { display: none; }
        #printit { display: block; }
    }
    </style> 
```

并用于`<div id="printit">`打印网页区域的部分......

# c# - 使用通用处理程序显示来自 Oracle 11g ex 数据库的图像

> ID：15803465
> 
> 赞同：0
> 
> 时间：2013-04-04T05:51:12.277
> 
> 标签：c#, asp.net, oracle, blob, generic-handler

我已完成将图像插入 Oracle 数据库。现在我正在尝试显示它。

我的处理程序代码是：

```
 public void ProcessRequest(HttpContext context)
    {
        OracleDataReader dr = null;
        OracleCommand cmd = null;
        OracleConnection conn = new OracleConnection("Data Source=(DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=localhost)(PORT=1521)))(CONNECT_DATA=(SERVER=DEDICATED)(SERVER_NAME=XE)));User Id=sakthi_studdb;Password=sakthi;");
        try
        {
            cmd = new OracleCommand
          ("select IMAGE from IMAGETBL where ID=" +
          context.Request.QueryString["imgid"], conn);
            conn.Open();
            dr = cmd.ExecuteReader();
            while (dr.Read())
            {
                context.Response.ContentType = "image/jpg";
                context.Response.BinaryWrite((byte[])dr["IMAGE"]);
            }
            if (dr != null)
                dr.Close();
        }
        finally
        {
            if (conn != null)
                conn.Close();
        }
    } 
```

我的 aspx 图像控件是：

```
 <div>
This is the student image requested:

    <asp:Image ID="picone" ImageUrl="~/Handler1.ashx?imgid=299" runat="server" />
</div> 
```

当运行 aspx 时，我没有发现任何错误。但是图像没有显示。您可以在下面找到我得到的输出的屏幕截图。

![在此处输入图像描述](https://i.stack.imgur.com/MrhVK.jpg)

我想知道出了什么问题。

```
 public void ProcessRequest(HttpContext context)
    {
        OracleConnection conn = new OracleConnection("Data Source=(DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=localhost)(PORT=1521)))(CONNECT_DATA=(SERVER=DEDICATED)(SERVER_NAME=XE)));User Id=sakthi_studdb;Password=sakthi;");
        try
        {
            long imageId = Convert.ToInt64(context.Request.QueryString["imgid"]);

            using (OracleCommand cmd = new OracleCommand("select IMAGE from IMAGETBL where ID=:ID", conn))
            {
                cmd.Parameters.Add(":ID", OracleDbType.Int64).Value = imageId;
                conn.Open();
                context.Response.ContentType = "image/gif";
                context.Response.BinaryWrite((byte[])cmd.ExecuteScalar());
            }                    

        }
        finally
        {
            if (conn != null)
                conn.Close();
        }
    } 
```

即使这样也行不通

# ios - 如何为 UIScrollView 中的 Imageview 设置多个 ImageView 和 UIview 以及一些动态标签？

> ID：15803471
> 
> 赞同：0
> 
> 时间：2013-04-04T05:51:39.513
> 
> 标签：ios, xcode, uiview, uiscrollview, frame

我正在使用 xcode 4.5 在 IOS 6 中开发一个应用程序，其中使用带有 StroyBoard 的 Master Detail View Controller 有一个 UIScrollview 并且我通过解析一些带有图像名称的 xml 文件添加多个图像。使用 do while 循环在 UIScrollview 中添加多个图像。还有另一个 UIView 命名为 cellSeparator 并且在该 UIView 中添加了一些标签，这些标签描述了 UIScrollView 中加载的图像

现在我的问题是 cellSeparator View 的标签位置不在正确的位置，并且所有标签都相互覆盖......所以任何人都可以帮助我......？

以下是我的函数，它创建了我上面所说的所有这些东西......

```
-(void) traverseElement:(TBXMLElement *)element { 
```

//假设这个 Do While Loop 函数将迭代 3 或 4 次...并添加 3 或 4 个图像 // 在 UIScrollView

```
 do {

        if ([[TBXML elementName:element] isEqualToString:@"subcategory"]) {
            TBXMLAttribute *idAttribute = element->firstAttribute;
            int i = [[TBXML attributeValue:idAttribute] intValue];
            checkSubCategoeyId =i;
        }
        if (element->firstChild)
            [self traverseElement:element->firstChild];
        if(subCategoryId == checkSubCategoeyId && [[TBXML elementName:element] isEqualToString:@"item"])
        {
            [self removeSubviewsOfView];
            int k=2001;
            TBXMLAttribute *idAttribute = element->firstAttribute;
            int j = [[TBXML attributeValue:idAttribute] intValue];

//This is my logic which will get data from my rest service and convert in to NSString Object which i will assign to labeltext       
           NSString *imageName = [TBXML textForElement:itemImageName];
           NSString *id = [NSString stringWithFormat:@"%d",j];
           NSString *url=@"http://192.168.3.12:8732/Service1/data/";

            NSString* strRR = [NSString stringWithFormat:@"%@%@", url, id];
           [self getDataFrom:strRR];
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////          

            UILabel *indexLabel = [[UILabel alloc] initWithFrame:CGRectMake(20, self.view.frame.size.height-150, self.view.frame.size.width/2,30)];
            [indexLabel setBackgroundColor:[UIColor clearColor]];
            indexLabel.textColor = [UIColor whiteColor];
            indexLabel.text = @"Details:-";
            indexLabel.font = [UIFont systemFontOfSize:20.00];
            UILabel *tagLabel = [[UILabel alloc] initWithFrame:CGRectMake(20, self.view.frame.size.height-120, self.view.frame.size.width/2, 30)];
            tagLabel.backgroundColor = [UIColor clearColor];
            tagLabel.text = [NSString stringWithFormat:@"The Id of Jewl Is:  %@",imageId];
            imageTypelabel = [[UILabel alloc] initWithFrame:CGRectMake(20, self.view.frame.size.height-90, self.view.frame.size.width/2, 30)];
            imageTypelabel.backgroundColor = [UIColor clearColor];
            imageTypelabel.text = [NSString stringWithFormat:@"The Type of Jewl Is:  %@",imageType];
            imageStylelabel= [[UILabel alloc] initWithFrame:CGRectMake(20, self.view.frame.size.height-60, self.view.frame.size.width/2, 30)];
            imageTypelabel.backgroundColor = [UIColor clearColor];
            imageStylelabel.text = [NSString stringWithFormat:@"The style of Jewl Is:  %@",imageStyle];
            imageWeightlabel = [[UILabel alloc] initWithFrame:CGRectMake(20, self.view.frame.size.height-30, self.view.frame.size.width/2, 30)];
            imageStylelabel.backgroundColor = [UIColor clearColor];
            imageWeightlabel.text = [NSString stringWithFormat:@"The weight of Jewl Is:  %@",imageWeight];
            imageWeightlabel.backgroundColor = [UIColor clearColor];
            imageWeightlabel.textColor = [UIColor whiteColor];
            imageTypelabel.textColor = [UIColor whiteColor];
            imageStylelabel.textColor = [UIColor whiteColor];
            tagLabel.textColor = [UIColor whiteColor];
            UIImage *imageBegin = [UIImage imageNamed:imageName];
            UIImageView *imageView = [[UIImageView alloc] initWithImage:imageBegin];
            UIView *cellSeparator = [[UIView alloc] initWithFrame:CGRectMake(0,545, self.view.frame.size.width ,3)];

            [cellSeparator setAutoresizingMask:UIViewAutoresizingFlexibleLeftMargin |
             UIViewAutoresizingFlexibleRightMargin | 
             UIViewAutoresizingFlexibleWidth];       
            [cellSeparator setContentMode:UIViewContentModeTopLeft];    
            [cellSeparator setBackgroundColor:[UIColor whiteColor]];
            [self.view addSubview:cellSeparator];           
            imageView.frame = CGRectMake(scrollX, scrollY,imageBegin.size.width , imageBegin.size.height);
            imageView.center = CGPointMake(self.view.center.x+scrollX, self.view.center.y-100);
            UIImage *mirrorImage = [UIImage imageNamed:imageName];
            UIImageView *mirrorImageView = [[UIImageView alloc] initWithImage:mirrorImage];
            mirrorImageView.frame = CGRectMake(scrollX, scrollY+imageView.frame.size.height-100, imageView.frame.size.width, 60);
            mirrorImageView.transform=CGAffineTransformMakeRotation(3.14);
            [mirrorImageView setBackgroundColor:[UIColor clearColor]];
            mirrorImageView.alpha= 0.2;
            mirrorImageView.center = CGPointMake(imageView.center.x, imageView.center.y+imageView.frame.size.height/2);
            UIPinchGestureRecognizer *pinchRecognizer = [[UIPinchGestureRecognizer alloc] initWithTarget:self action:@selector(pinchDetected:)];
            [imageView addGestureRecognizer:pinchRecognizer];
            [pinchRecognizer setDelegate:self];
            imageView.userInteractionEnabled = YES;
            UIRotationGestureRecognizer *rotationRecognizer = [[UIRotationGestureRecognizer alloc] initWithTarget:self action:@selector(rotationDetected:)];
            [imageView addGestureRecognizer:rotationRecognizer];
            [rotationRecognizer setDelegate:self];
            [itemScroll addSubview:indexLabel];
            [itemScroll addSubview:imageTypelabel];
            [itemScroll addSubview:imageWeightlabel];
            [itemScroll addSubview:imageStylelabel];
            [itemScroll addSubview:tagLabel];
            [itemScroll addSubview:mirrorImageView];
            imageView.userInteractionEnabled =YES;
            [itemScroll addSubview:imageView];
            self.itemScroll.delegate=self;
            scrollX = scrollX+self.view.frame.size.width;

        }

    } while (element = element->nextSibling);
} 
```

谁能给我适当的解决方案，将我的 cellSeparator 视图放置在 x 和 y 位置以及标签 x 和 y 位置，以便它可以放在适当的位置。

以下是整体视图的图形表示

![在此处输入图像描述](https://i.stack.imgur.com/nswK4.png)

# codenameone - 代号中的滑块

> ID：15803479
> 
> 赞同：1
> 
> 时间：2013-04-04T05:52:20.323
> 
> 标签：codenameone

谁能告诉我如何在代号一中添加滑块和移动表单（带有示例代码行），并且还想知道所有类型的设备都支持这些功能吗？问候， 梅加

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-13T14:01:27.060

我认为您的意思是如何为表单更改设置动画

```
Form.setTransitionInAnimator(CommonTransitions.somthing)
Form.setTransitionOutAnimator(CommonTransitions.somthing) 
```

接下来，您应该处理一些“手指滑动”事件。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-04-01T13:51:11.703

要添加滑块，您可以使用以下代码

```
 Slider jSlider = new Slider();
    jSlider.setMaxValue(255);
    jSlider.setMinValue(0); 
    jSlider.setProgress(50); // Set  the starting value
    jSlider.setEditable(true); // To it works as a slider instead of a progress bar 
```

现在您已经创建了一个滑块，您可以像在 Swing 中一样将其添加到您的组件中。您可以输入“jSlider”。在eclipse中找出你可以使用哪些其他方法，或者你可以去API：[http ://codenameone.googlecode.com/svn/trunk/CodenameOne/javadoc/com/codename1/ui/Slider.html](http://codenameone.googlecode.com/svn/trunk/CodenameOne/javadoc/com/codename1/ui/Slider.html)

我认为 min/maxValue 是不言自明的:)

如果您想打开一个新表单，只需创建一个新的类扩展表单或在代码中执行

```
Form form = new Form();
form.animate(); // To make it "slide in"
form.show(); 
```

同样值得注意的是，默认情况下滑块不适用于 lumia 皮肤，但您可以使其工作。我实际上也在这里问过这个问题： [Slider doesn't draw (CodeName One) with Windows phone skin](https://stackoverflow.com/questions/22145686/slider-doesnt-draw-codename-one-with-windows-phone-skin)

# android - 无法启动活动 ComponentInfo。java.lang.RuntimeException：您的内容必须有一个 id 属性为 'android.R.id.list' 的 ListView

> ID：15803484
> 
> 赞同：0
> 
> 时间：2013-04-04T05:52:51.967
> 
> 标签：android, android-listview, android-arrayadapter

我在列表适配器视图上工作，我在这方面遇到错误，我有两个布局，一个是会话布局，另一个是会话行布局。这是我的代码。

```
public class SessionListView extends ListActivity{

    private Button prev_btn;
    private Button next_btn;
    private ListView sessionListView;
    private SessionAdapter mAdapter;
    private Context mContext = this;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.session_layout);
        sessionListView = (ListView) findViewById(R.id.session_list);
        //ListView sessionListView = new ListView(this);

        ArrayList<Session> sessionList = new ArrayList<Session>();

        //initListView(this, sessionListView, "item", 30, android.R.layout.simple_list_item_1);
        prev_btn = (Button) findViewById(R.id.session_prev_btn);
        next_btn = (Button) findViewById(R.id.session_next_btn);

        mAdapter = new SessionAdapter(mContext, R.layout.sessions_row, sessionList);
        sessionListView.setAdapter(mAdapter);
        setupListneres();

    }

    public void initListView(Context context, ListView listView,String prefix, int numItems, int layout ){

        // By using setAdpater method in listview we an add string array in list.
        String[] arr = new String[numItems];
        for(int i = 0; i< arr.length; i++){

            arr[i] = prefix + (i +1);
        }

        listView.setAdapter(new ArrayAdapter<String>(context, layout, arr));
        listView.setOnItemClickListener(new OnItemClickListener() {

            @Override
            public void onItemClick(AdapterView<?> parent, View view, int position,
                    long id) {
                Context context = view.getContext();

                Intent intent = new Intent(context, SessionDetailsView.class);
                startActivity(intent);

                String msg = "item[" + position + "]= " + parent.getItemIdAtPosition(position);

                Toast.makeText(context, msg, 1000).show();
                System.out.println(msg);

            }
        });

    }

    private void setupListneres() {
        // TODO Auto-generated method stub
        next_btn.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View arg0) {
                if(prev_btn.getVisibility() == View.VISIBLE && next_btn.getVisibility() == View.VISIBLE){ 
                    initListView(getApplicationContext(), sessionListView, "item@third", 30, android.R.layout.simple_list_item_1);
                    next_btn.setVisibility(View.INVISIBLE);
                }else{
                    Toast.makeText(getApplicationContext(), "clicked On button", Toast.LENGTH_SHORT).show();
                    initListView(getApplicationContext(), sessionListView, "item@second", 30, android.R.layout.simple_list_item_1);
                    prev_btn.setVisibility(View.VISIBLE);
                }
            }
        });

        prev_btn.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View arg0) {
                if(prev_btn.getVisibility() == View.VISIBLE && next_btn.getVisibility() == View.VISIBLE){ 
                    initListView(getApplicationContext(), sessionListView, "item", 30, R.layout.my_simple_list_item_1);
                    prev_btn.setVisibility(View.INVISIBLE);
                }else if(prev_btn.getVisibility() == View.VISIBLE && next_btn.getVisibility() != View.VISIBLE){
                    Toast.makeText(getApplicationContext(), "clicked On button", Toast.LENGTH_SHORT).show();
                    initListView(getApplicationContext(), sessionListView, "item@second", 30, android.R.layout.simple_list_item_1);
                    next_btn.setVisibility(View.VISIBLE);
                }

            }
        });
    }

    public class SessionAdapter extends ArrayAdapter<Session>{

        ArrayList<Session> sessionList;

        public SessionAdapter(Context context, int textViewResourceId,
                ArrayList<Session> sesList) {
            super(context, textViewResourceId, sesList);
            sessionList = sesList;
        }

        @Override
        public View getView(int position, View convertView, ViewGroup parent) {

            View v = convertView;
            if (v == null) {
                LayoutInflater vi = (LayoutInflater)getSystemService(Context.LAYOUT_INFLATER_SERVICE);
                v = vi.inflate(R.layout.sessions_row, null);
            }

            // get list of sessions using position
            Session session = this.sessionList.get(position);

            // check if session is not null then assign list value to session_row layout view.
            if(session !=null){

                TextView sessionTitleTV = (TextView)findViewById(R.id.session_title);
                TextView sessionTimeTV = (TextView)findViewById(R.id.session_time);
                TextView sessionVenueTV = (TextView)findViewById(R.id.session_venue);

                String sessionTitle = session.getTitle();
                String sessionTime = "Start" + session.getStartTime() + "End" + session.getEndTime();
                String sessionVenue = "New york";

                sessionTitleTV.setText(sessionTitle);
                sessionTimeTV.setText(sessionTime);
                sessionVenueTV.setText(sessionVenue);
            }
            return v;
        }
    }
} 
```

和我的错误信息，如下。请帮忙。

```
04-04 05:36:20.566: E/AndroidRuntime(797): FATAL EXCEPTION: main
04-04 05:36:20.566: E/AndroidRuntime(797): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.tapon.views/com.tapon.views.SessionListView}: java.lang.RuntimeException: Your content must have a ListView whose id attribute is 'android.R.id.list'
04-04 05:36:20.566: E/AndroidRuntime(797):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2180)
04-04 05:36:20.566: E/AndroidRuntime(797):  at android.app.ActivityThread.startActivityNow(ActivityThread.java:2023)
04-04 05:36:20.566: E/AndroidRuntime(797):  at android.app.LocalActivityManager.moveToState(LocalActivityManager.java:135)
04-04 05:36:20.566: E/AndroidRuntime(797):  at android.app.LocalActivityManager.startActivity(LocalActivityManager.java:347)
04-04 05:36:20.566: E/AndroidRuntime(797):  at android.widget.TabHost$IntentContentStrategy.getContentView(TabHost.java:749)
04-04 05:36:20.566: E/AndroidRuntime(797):  at android.widget.TabHost.setCurrentTab(TabHost.java:413)
04-04 05:36:20.566: E/AndroidRuntime(797):  at android.widget.TabHost$2.onTabSelectionChanged(TabHost.java:154)
04-04 05:36:20.566: E/AndroidRuntime(797):  at android.widget.TabWidget$TabClickListener.onClick(TabWidget.java:546)
04-04 05:36:20.566: E/AndroidRuntime(797):  at android.view.View.performClick(View.java:4204)
04-04 05:36:20.566: E/AndroidRuntime(797):  at android.view.View$PerformClick.run(View.java:17355)
04-04 05:36:20.566: E/AndroidRuntime(797):  at android.os.Handler.handleCallback(Handler.java:725)
04-04 05:36:20.566: E/AndroidRuntime(797):  at android.os.Handler.dispatchMessage(Handler.java:92)
04-04 05:36:20.566: E/AndroidRuntime(797):  at android.os.Looper.loop(Looper.java:137)
04-04 05:36:20.566: E/AndroidRuntime(797):  at android.app.ActivityThread.main(ActivityThread.java:5041)
04-04 05:36:20.566: E/AndroidRuntime(797):  at java.lang.reflect.Method.invokeNative(Native Method)
04-04 05:36:20.566: E/AndroidRuntime(797):  at java.lang.reflect.Method.invoke(Method.java:511)
04-04 05:36:20.566: E/AndroidRuntime(797):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
04-04 05:36:20.566: E/AndroidRuntime(797):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
04-04 05:36:20.566: E/AndroidRuntime(797):  at dalvik.system.NativeStart.main(Native Method)
04-04 05:36:20.566: E/AndroidRuntime(797): Caused by: java.lang.RuntimeException: Your content must have a ListView whose id attribute is 'android.R.id.list'
04-04 05:36:20.566: E/AndroidRuntime(797):  at android.app.ListActivity.onContentChanged(ListActivity.java:243)
04-04 05:36:20.566: E/AndroidRuntime(797):  at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:273)
04-04 05:36:20.566: E/AndroidRuntime(797):  at android.app.Activity.setContentView(Activity.java:1881)
04-04 05:36:20.566: E/AndroidRuntime(797):  at com.example.views.SessionListView.onCreate(SessionListView.java:35)
04-04 05:36:20.566: E/AndroidRuntime(797):  at android.app.Activity.performCreate(Activity.java:5104)
04-04 05:36:20.566: E/AndroidRuntime(797):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1080)
04-04 05:36:20.566: E/AndroidRuntime(797):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2144)
04-04 05:36:20.566: E/AndroidRuntime(797):  ... 18 more 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T05:56:16.167

如果你在你的布局中使用 a应该`ListActivity`是@android **:id/list**，就像在这个例子中一样：`id``ListView`

 **```
 <ListView android:id="@android:id/list"
           android:layout_width="match_parent"
           android:layout_height="match_parent"
           android:background="#00FF00"
           android:layout_weight="1"
           android:drawSelectorOnTop="false"/> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T05:56:00.070

在 ListView 中的 session_layout.xml 中，将 id 更改为

```
android:id="@android:id/list" 
```**

# apache - vpc下的amazon ec2实例无法解析自己的主机名

> ID：15803486
> 
> 赞同：2
> 
> 时间：2013-04-04T05:52:59.807
> 
> 标签：apache, amazon-web-services, amazon-ec2, amazon-vpc

我注意到，当我尝试重新启动 apache 时，我收到以下警告： httpd：apr_sockaddr_info_get() failed for ip-10-0-0-55 httpd：无法可靠地确定服务器的完全限定域名，使用 127.0.0.1 作为 ServerName

而且当我运行主机名 -i 时，我得到“主机名：未知主机”

所以我认为这是一个网络配置问题，很可能是关于 dns。除了这些症状之外，服务器运行良好，没有任何其他问题。但是这个警告消息只是让我烦恼......也许我的 vpc 配置有问题。但在大多数情况下，我只是按照本指南中的步骤操作，[http://docs.aws.amazon.com/AmazonVPC/latest/GettingStartedGuide/ExercisePreqs.html](http://docs.aws.amazon.com/AmazonVPC/latest/GettingStartedGuide/ExercisePreqs.html)

感谢任何有用的指示！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T09:59:26.320

您需要`ServerName`在 Apache 配置中指定一个指令，如下所示：

```
ServerName yourdomain.com 
```

或者

```
ServerName localhost 
```

Apache 没有找到 ServerName，因此它试图对其进行有根据的猜测。它试图从您的主机名（第一条消息）中找出它，并且没有找到它假设的任何其他内容：

```
ServerName 127.0.0.1 
```

即本地主机（根据第二条消息）。

除非您有多个基于名称的虚拟主机，否则此设置不是那么重要（除了错误消息），这变得至关重要，因为它是 Apache 可以区分客户端尝试访问的主机的唯一方法。

# ios - OBJ-C：如何释放从方法返回的对象？

> ID：15803487
> 
> 赞同：3
> 
> 时间：2013-04-04T05:53:02.050
> 
> 标签：ios, objective-c, memory-leaks

我对从方法返回的对象的内存警告感到困惑。这是我的代码。

```
-(void)returnHeaderView
{
  self.headerView=[[UIView alloc]init];
  headerView.frame=CGRectMake(0, 0, 955, 45);

  UILabel *fromLabel=[self returnLabel];
  fromLabel.frame=CGRectMake(400, 5, 200, 44);
  fromLabel.text=@"Open Time";
  [headerView addSubview:fromLabel];
  [fromLabel release];(in correct decrement of the reference count of an object that is not owned at this point by the caller)

 [self.headerView addSubview:fromLabel];
 [self.view addSubview:self.headerView];
 [self.headerView release]; 
```

}

```
-(UILabel *)returnLabel
{
UILabel *label= [[UILabel alloc] init] ;
label.textColor = [UIColor blackColor];
label.font = FONT_TITLE;
label.numberOfLines=1;
label.textAlignment=UITextAlignmentLeft;
label.lineBreakMode=UILineBreakModeWordWrap;
label.backgroundColor=[UIColor clearColor];

return label;

} 
```

这是我的两种方法。1.-(void)returnHeaderView。2.-(UILabel *)returnLabel。

-returnLabel 是返回标签，方法返回的 UILabel 对象的引用传递给 returnHeaderView 方法的 fromLabel UILabel 对象。然后我释放 fromLabel 对象。

但它给出了内存警告（正确减少调用者此时不拥有的对象的引用计数）。

所以有人建议我这段代码有什么问题。以及如何释放方法返回的对象。![图片来自我的代码，它描述了分析程序生成的内存警告。](https://i.stack.imgur.com/9J73A.png)

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T06:59:21.473

在您的情况下，`returnHeaderView`您实际上并不保留`fromLabel`，因此您不拥有它，也不应该在那里释放它（警告“不正确地减少调用者此时不拥有的对象的引用计数”）。

最好的选择是自动释放返回的标签：`return [label autorelease];`让它一直存在，直到周围的自动释放池被耗尽。请注意，这也意味着`[fromLabel release];`从您的方法中删除调用`returnHeaderView`。

如果这听起来很复杂，请按照实际推荐的方式使用 ARC。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T07:04:23.153

请进行小的更改和泄漏删除，并自动释放 self.headerView 以删除其他内存泄漏警告：

```
-(void)returnHeaderView
{
  self.headerView=[[[UIView alloc]init] autorelease];
  headerView.frame=CGRectMake(0, 0, 955, 45);

  UILabel *fromLabel = [[self returnLabel] retain];
  fromLabel.frame    = CGRectMake(400, 5, 200, 44);
  fromLabel.text     = @"Open Time";
  [headerView addSubview:fromLabel];
  [self.headerView addSubview:fromLabel];
  [self.view addSubview:self.headerView];
  //[self.headerView release];
}

-(UILabel *)returnLabel
{
  UILabel *label= [[UILabel alloc] init] ;
  label.textColor = [UIColor blackColor];
  label.font = FONT_TITLE;
  label.numberOfLines=1;
  label.textAlignment=UITextAlignmentLeft;
  label.lineBreakMode=UILineBreakModeWordWrap;
  label.backgroundColor=[UIColor clearColor];
  return [label autorelease];
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T05:58:41.650

在我看来，您的`returnLabel`方法返回一个保留计数为 1 的对象，而不是编译器建议的零。我认为您可能只需要更改方法名称即可向编译器提示返回对象的所有权。尝试更改`returnLabel`为`createReturnLabel`. 然后该方法将符合[复制/创建命名约定](http://clang.llvm.org/docs/AutomaticReferenceCounting.html#auditing-of-c-retainable-pointer-interfaces)。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-04T06:26:45.420

您可以通过更改代码来避免泄漏，例如：

```
-(void)returnHeaderView
{
  self.headerView=[[UIView alloc]init];
  headerView.frame=CGRectMake(0, 0, 955, 45);

  UILabel *fromLabel = [[self returnLabel] retain];
  fromLabel.frame    = CGRectMake(400, 5, 200, 44);
  fromLabel.text     = @"Open Time";
  [headerView addSubview:fromLabel];
  [self.headerView addSubview:fromLabel];
  [self.view addSubview:self.headerView];

  [fromLabel release];
  [self.headerView release];

}

-(UILabel *)returnLabel
{
UILabel *label= [[UILabel alloc] init] ;
label.textColor = [UIColor blackColor];
label.font = FONT_TITLE;
label.numberOfLines=1;
label.textAlignment=UITextAlignmentLeft;
label.lineBreakMode=UILineBreakModeWordWrap;
label.backgroundColor=[UIColor clearColor];

return [label autorelease];

} 
```

建议：避免此类泄漏的最佳方法是使用 ARC。

# c++ - 需要有关在 C++ 中使用 struct 模板的帮助

> ID：15803490
> 
> 赞同：0
> 
> 时间：2013-04-04T05:53:16.043
> 
> 标签：c++, templates

我正在用 C++ 中的模板开发一个通用的 {int,short,double} 多维数组结构。

```
template <typename T>
struct Array {
   T *x;
   int size;
   int nDims;
   int N[ARRAYMAXNDIMS];
}; 
```

我在申报方面没有问题。但是，当我在函数调用中使用它时会出现问题。请帮我纠正错误。我在这里附上源代码并编译错误。

非常感谢，等待您的回复。

```
//============================================================================
// parse file parameter to memory
#include <cmath>
#include <cstdio>
#include <string>
#include <cstdlib>

#define ARRAYMAXNDIMS 4

using namespace std;

// multi-dimensional integer array with at most 4 dimensions
template <typename T>
struct Array {
   T *x;
   int size;
   int nDims;
   int N[ARRAYMAXNDIMS];
};

template <typename T> Array<T> reduceArrayDimension(Array<T> *a);

int main()
{
    Array<int> num;
    num.nDims = 4; 
    num.size = 16; 
    num.N[0] = 2; num.N[1] = 2; num.N[2] = 2; num.N[3] = 2;
    num.x = (int *)calloc(num.size,sizeof(int));

    for (int i=0;i < num.size; i++) {
        num.x[i] = i;
    };

    Array<int> b = reduceArrayDimension(&num);

    return 0;
}

template <typename T> Array<T> reduceArrayDim(Array<T> *a) {
// reduce 4D-array to 3D-array: [0,1,2,3] -> [0,1,2]
// B[i,j,k] = sum (A[i,j,k,l]) for all index l

    Array<T> b;

    b.nDims = 3;
    int ax1 = a->N[0], ax2 = a->N[1], ax3 = a->N[2], ax4 = a->N[3];

    b.N[0] = ax1; b.N[1] = ax2; b.N[2] = ax3; b.N[3] = 1;
    b.size = ax1*ax2*ax3;
    b.x = (T *)calloc(b.size,sizeof(T));

    int sum = 0;
    for (int i = 0; i < ax1; i++)
        for (int j = 0; j < ax2; j++)
            for (int k = 0; k < ax3; k++) {
                sum = 0;
                for (int l = 0; l <  ax4; l++)
                    sum += a->x[i + j*ax1 + k*ax1*ax2 + l*ax1*ax2*ax3];
                b.x[i + j*ax1 + k*ax1*ax2] = sum;   // sum over dimension 4
            }
    return b;
} 
```

错误日志：

```
$ g++ main1.cpp 
/tmp/ccFwJ3tA.o: In function `main':
main1.cpp:(.text+0xba): undefined reference to `Array<int> reduceArrayDimension<int>(Array<int>*)'
collect2: error: ld returned 1 exit status 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T05:54:24.633

宣言`reduceArrayDimension`

定义`reduceArrayDim`

所以，没有定义，`reduceArrayDimension`这就是为什么这里有未定义的引用。

# visual-studio-2010 - 区别：在 Visual Studio 和 sql sever 2008 中创建 sql 数据库

> ID：15803492
> 
> 赞同：2
> 
> 时间：2013-04-04T05:53:23.313
> 
> 标签：visual-studio-2010, ssms, sql-server-2008

我通常使用 Microsoft Visual Studio 2010 进行系统开发，并且总是使用 Visual Studio 中内置的 SQL Server Express 来创建和管理数据库。

目前，我正在学习 Microsoft SQL Server Management Studio 2008 来创建和管理数据库。

我在这里有一些问题：

1.  Visual Studio 和 SQL Server Management Studio 中内置 sql server 中的数据库有什么区别？例如功能和限制。

2.  在 SQL Server Management Studio 中创建和管理数据库会比在内置的 Visual Studio 数据库中更好吗？

3.  我遇到了一个问题，过去无法将我的内置 Visual Studio SQL 数据库上传到 Web 服务器。那么在 SQL Server Management Studio 中创建数据库非常适合将数据库文件上传到 Web 服务器吗？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-08T22:36:56.350

最新版本的 SSMS 说“由 Visual Studio 提供支持”，因此您的问题可能没有实际意义。我认为使用 SSMS 可以让您更接近数据库服务器本身——如果您也从事管理工作，这可能是一件好事。

# c++ - 自纪元以来的时间为-1

> ID：15803494
> 
> 赞同：2
> 
> 时间：2013-04-04T05:53:32.157
> 
> 标签：c++, epoch, ctime

我正在尝试获取自纪元以来经过的秒数。编码：

```
long parseTime(string time) {

  cout << "Time entered = " << time << endl;

  long timeSinceEpoch;

  //takes in time in string format - date + time and returns seconds from epoch.
  /* Steps:
   * 1\. Remove trailing and leading spaces.
   * 2\. Check format of date.
   * 3\. Convert to epoch.
   */

  //remove trailing and leading spaces.
  /*
  unsigned int leading = 0, trailing = 0;
  string whitespace = " \t";

  leading = time.find_first_not_of(whitespace);
  trailing = time.find_last_not_of(whitespace);

  string newTime = time.substr(leading, (trailing - leading + 1));
  cout << "Old time = " << time << " new time = " << newTime << endl;
  */
  string newTime = time;

  struct tm t;

  if(newTime.find("/") != string::npos) {
    //format of date is mm/dd/yyyy. followed by clock in hh:mm (24 hour clock).
    cout << "Time format contains slashes." << endl;
    if(strptime(newTime.c_str(), "%m/%e/%Y %H:%M", &t) == NULL) {
      cout << "Error. Check string for formatting." << endl;
    }
  } else if(newTime.find("-") != string::npos) {
    //format of date is yyyy-mm-dd hh:mm:ss (hh in 24 hour clock format).
    if(strptime(newTime.c_str(), "%Y-%m-%e %H:%M:%S", &t) == NULL) {
     cout << "Error. Check string for formatting of new date." << endl;
    }
  }

  if(t.tm_isdst) {
    t.tm_isdst = 0;
  }

  timeSinceEpoch = mktime(&t);
  cout << "Time since epoch = " << timeSinceEpoch << endl;

  return timeSinceEpoch;
} 
```

现在，当将包含日期和时间的字符串传递给函数时：
`3/26/2013 3:17`
它会导致时间自 epoch = -1。这是调试器的输出：

```
Breakpoint 2, parseTime (time=...) at informationExtractor.cpp:44
44        cout << "Time entered = " << time << endl;
(gdb) n
Time entered = 3/26/2013 3:17
66        string newTime = time;
(gdb)
70        if(newTime.find("/") != string::npos) {
(gdb) p newTime
$3 = {static npos = <optimized out>,
  _M_dataplus = {<std::allocator<char>> = {<__gnu_cxx::new_allocator<char>> = {<No data fields>}, <No data fields>},
    _M_p = 0x8004ab0c "3/26/2013 3:17"}}
(gdb) n
72          cout << "Time format contains slashes." << endl;
(gdb)
Time format contains slashes.
73          if(strptime(newTime.c_str(), "%m/%e/%Y %H:%M", &t) == NULL) {
(gdb)
83        if(t.tm_isdst) {
(gdb) p newTime.c_str()@strlen(newTime.c_str())
Only values in memory can be extended with '@'.
(gdb) n
84          t.tm_isdst = 0;
(gdb) p newTime
$4 = {static npos = <optimized out>,
  _M_dataplus = {<std::allocator<char>> = {<__gnu_cxx::new_allocator<char>> = {<No data fields>}, <No data fields>},
    _M_p = 0x8004ab0c "3/26/2013 3:17"}}
(gdb) n
87        timeSinceEpoch = mktime(&t);
(gdb) p t
$5 = {tm_sec = 1628993312, tm_min = 17, tm_hour = 3, tm_mday = 26, tm_mon = 2, tm_year = 113, tm_wday = 2, tm_yday = 84,
  tm_isdst = 0}
(gdb) n
88        cout << "Time since epoch = " << timeSinceEpoch << endl;
(gdb)
Time since epoch = -1
90        return timeSinceEpoch;
(gdb) 
```

如果你注意到，`tm_sec`in`t`是 1628993312`timesinceEpoch`而是 -1。`tm_sec`也在`long`数据类型的范围内`timesinceEpoch`。欢迎任何关于为什么以及如何解决这个问题的想法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T05:58:32.723

关键是在您的代码中 tm_sec 是一个未初始化的值。它应该是一个介于 0 和 59 之间的值。因此，将这行代码添加到您的第一个 if 分支。

```
if(strptime(newTime.c_str(), "%m/%e/%Y %H:%M", &t) == NULL) {
  cout << "Error. Check string for formatting." << endl;
}
t.tm_sec = 0; // initialise seconds field 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T08:38:53.613

约翰是对的。 `strptime`不初始化`tm`，仅触摸明确指定的字段（[参见strptime(3) 的“**注释**](http://linux.die.net/man/3/strptime)” ），因此`t.tm_sec`不初始化。

为了防止这种错误，您可以声明带有初始化的变量

```
struct tm t = { 0 }; // zero filled 
```

# unix - 在 UNIX 中减去计数值

> ID：15803497
> 
> 赞同：0
> 
> 时间：2013-04-04T05:53:44.940
> 
> 标签：unix

我正在尝试从另一个中减去一个计数值，但是，我在以下代码中遇到了问题：

计数=$？

计数1=$？

（然后一些操作和上面的计数值分别得到一些值假设1,2）

$count=$count1 - $count ==> 这里应该得到：2-1=1）

我不知道确切的语法，所以有人可以帮我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T05:56:53.347

您可以使用 shell 的表达式语法：

```
count=$(($count1-$count)) 
```

变量的`$`前缀在内部是可选的`$(())`，所以也可以写成：

```
count=$((count1-count)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T20:32:33.657

Unix 为您提供了`expr`让您评估任何您想要的算术表达式的命令。在 shell 提示符下尝试：

```
expr 2 - 3 + 5 '*' 8 
```

请记住，`*`它用作通配符，因此您需要以任何您想要的方式对其进行非专业化。

那么现在，您可以在任何地方使用 ` 来评估表达式：

```
count=`expr $count1 - $count` 
```

请注意，所有参数必须用空格分隔。

这适用于推荐用于 shell 脚本的 Bourne-shell。

# iphone - iphone 应用程序的 UI 对象未显示在 ipad 中

> ID：15803500
> 
> 赞同：1
> 
> 时间：2013-04-04T05:53:54.987
> 
> 标签：iphone, objective-c, ios5, user-interface, ipad

我有通用应用程序。而且我也遵循了苹果命名约定。

```
MyViewController~iphone.xib    //for iphone  
MyViewController~ipad.xib      //for ipad 
```

当我在 iPad 中运行我的 iphone 应用程序时，一些 UIButtons 和标签没有显示出来。这可能是什么解决方法？我是否缺少任何更改，因此支持将 iphone 应用程序放入 ipad 中？此外，我的应用程序对 iphone 和 ipad 有不同的目标。

当我在 iPad iOS6 设备上运行相同的应用程序时，它工作正常。iOS5 有问题。

当我尝试打印它给我的所有框架时

```
"<UIImageView: 0x5ea9860; frame = (0 0; 1024 768); autoresize = W+H; userInteractionEnabled = NO; layer = <CALayer: 0x5ea9890>>", 
```

对于我的 iphone 应用程序的背景图像视图。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-17T05:01:03.190

苹果的命名约定运行良好..

```
MyViewController~iphone.xib    //for iphone  
MyViewController~ipad.xib      //for ipad 
```

我只需要为 iPhone 和 iPad 使用不同的 ipa 对其进行测试，然后在 iPad 上运行这两个 ipa，现在运行良好。

我在模式中保存了最后一个包标识符，并显示了不正确的输出。

# java - 为什么键盘上的选项卡按钮在android中不起作用

> ID：15803504
> 
> 赞同：0
> 
> 时间：2013-04-04T05:54:15.803
> 
> 标签：java, android, android-layout, user-interface, keyboard-shortcuts

我是安卓新手。我正在尝试一个示例登录应用程序，一切正常，除了看下面的屏幕截图，我在其中输入了用户名字段，现在当我按下`TAB`键盘上的按钮时，它就像一个空格。知道为什么焦点不会转到下一个领域吗？

![在此处输入图像描述](https://i.stack.imgur.com/4Qb4I.png)

# asp.net-mvc - 在 nopcommerce 2.8 中使用 Telerik 插件的自定义网格

> ID：15803507
> 
> 赞同：5
> 
> 时间：2013-04-04T05:54:24.723
> 
> 标签：asp.net-mvc, telerik, telerik-grid, telerik-mvc, nopcommerce

我正在开发 nopcommerce2.8 版本。我在使用 Telerik 插件实现创建新网格时遇到问题。我正在实施一个概念，对于产品，我想为不同的客户提供不同的价格。因此，要为不同的客户分配新价格，在管理面板中，我正在使用 Telerik 在编辑产品变体页面中创建一个网格。我创建了一个新选项卡来显示这些详细信息。我能够在网格中显示客户名称和价格，但是当我在编辑一行后单击更新按钮时，我无法调用更新功能。我也调用了相同的更新函数来删除网格行，所以当我单击删除时，相同的更新函数会触发。我认为 View 中遗漏了一些设置。请帮我解决这个更新问题。

下面给出了我的 nopcommerce 的模型、视图和控制器。

谢谢。

```
//Model
using System.Collections.Generic;
using System.ComponentModel.DataAnnotations;
using System.Web.Mvc;
using FluentValidation.Attributes;
using Nop.Admin.Models.Customers;
using Nop.Admin.Validators.Catalog;
using Nop.Web.Framework;
using Nop.Web.Framework.Localization;
using Nop.Web.Framework.Mvc;
using Telerik.Web.Mvc;

namespace Nop.Admin.Models.Catalog
{
    public partial class CustomerProductPriceModel : BaseNopModel
    {
        public int Customer_Id { get; set; }
        [NopResourceDisplayName("Customer Name")]
        public string Customer_name { get; set; }

        [NopResourceDisplayName("Price")]
        public decimal Price { get; set; }

        [NopResourceDisplayName("Unit")]
        public string Units { get; set; }

    }
}

// view

  @(Html.Telerik().Grid<CustomerProductPriceModel>()
        .Name("Grid")
        .DataKeys(x =>
                    {
                        x.Add(y => y.Customer_Id);
                    })
                     .DataBinding(dataBinding =>
                    {
                            dataBinding.Ajax()
                            .Select("CustomerProductPriceList", "ProductVariant", new { productVariantId = Model.Id })
                            .Update("CustomerPriceUpdate", "ProductVariant", new { productVariantId = Model.Id })
                             .Delete("CustomerPriceUpdate", "ProductVariant", new { productVariantId = Model.Id });
                    })
        .Columns(columns =>
        {
            columns.Bound(y => y.Customer_name).Width(200).ReadOnly();
            columns.Bound(y => y.Price).Width(100);

            columns.Command(commands =>
            {
                commands.Edit().Text(T("Admin.Common.Edit").Text);
                commands.Delete().Text(T("Admin.Common.Delete").Text);
            }).Width(180);

        })
        .Editable(x =>
                {
                    x.Mode(GridEditMode.InLine);
                })
        .EnableCustomBinding(true)

      )

    // controller

    [GridAction(EnableCustomBinding = true)]
        public ActionResult CustomerPriceUpdate(GridCommand command, CustomerProductPriceModel model, int productVariantId)
        {
            if (!_permissionService.Authorize(StandardPermissionProvider.ManageCatalog))
                return AccessDeniedView();

             return CustomerProductPriceList(command, productVariantId);
        }

       [HttpPost, GridAction(EnableCustomBinding = true)]
        public ActionResult CustomerProductPriceList(GridCommand command, int productVariantId)
        {
            if (!_permissionService.Authorize(StandardPermissionProvider.ManageCatalog))
                return AccessDeniedView();

            var productVariant = _productService.GetProductVariantById(productVariantId);
            if (productVariant == null)
                throw new ArgumentException("No product variant found with the specified id");

            var CustomerPrices = PrepareCustomerProductPriceModel(productVariant.Product.Id);
            var CustomerPricesa = CustomerPrices
               .Select(x =>
               {
                   return new CustomerProductPriceModel()
                   {
                       Customer_Id = x.Customer_Id,
                       Price = x.Price,
                       Units = x.Units,
                       Customer_name = x.Customer_name
                   };
               })
               .ToList();
            var model = new GridModel<CustomerProductPriceModel>
            {
                Data = CustomerPricesa,
                Total = CustomerPrices.Count
            };
            return new JsonResult
            {
                Data = model
            };
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-08T22:57:48.580

是否有理由不使用 nopCommerce 中已有的内置客户价格水平，或者您想一次显示所有价格？

# amazon-web-services - 使用 AWS SES 从 WordPress 设置交易电子邮件

> ID：15803513
> 
> 赞同：1
> 
> 时间：2013-04-04T05:54:48.423
> 
> 标签：amazon-web-services, wordpress, amazon-ses

我一直在网上阅读不同的博客，寻找解决我问题的方法。我有生以来第一次使用 AWS VPS（带有 ubuntu 2.04.1 LTS）来托管我的 Wordpress 博客。我的问题是我不知道如何通过它发送交易邮件（用户订阅确认、密码重置）。我设置了一个 AWS SES 账户，并且已经验证了一个域并获得了生产访问权限。我不知道下一步该做什么。如何使用我的 Dreamhost 域验证发件人电子邮件地址以及如何开始从自定义域电子邮件地址向新用户发送欢迎电子邮件？

我发现了一些 wordpress 插件，例如 WP SES，但是当我尝试访问它们的设置时，我得到的只是一个空白页。

非常感谢您的帮助，谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T20:36:03.373

由于您使用的是 Wordpress，因此您可以轻松地使用插件通过 Amazon SES 发送。

我们的[AWS re:Invent 演示文稿](http://www.youtube.com/watch?v=f3xncKCdI_0)向您展示了如何配置 Amazon SES 和 Wordpress 以使用该服务进行发送。我们使用[配置 SMTP 插件](http://wordpress.org/extend/plugins/configure-smtp/)将 Wordpress 与 Amazon SES 连接起来。此插件通过 Amazon SES 发送由 Wordpress 生成的所有电子邮件。

此外，如果您具有生产访问权限并且您发送的域已经过验证，则无需验证电子邮件地址。Amazon SES 将接受来自已验证域中任何电子邮件地址的电子邮件。

# python - 导入 djorm_pgfulltext 时出现 ImportError

> ID：15803517
> 
> 赞同：0
> 
> 时间：2013-04-04T05:55:20.417
> 
> 标签：python, django, full-text-search

使用命令安装了 djorm-ext-pgfulltext

```
pip install djorm-ext-pgfulltext 
```

并尝试将其导入 django 中的全文搜索

```
from djorm_pgfulltext.models import SearchManager 
```

然后我得到这个错误

```
ImportError: Settings cannot be imported, because environment variable DJANGO_SETTINGS_MODULE is undefined. 
```

我该如何解决这个问题？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T09:37:06.500

该错误与您安装的新库无关。官方[文档](https://docs.djangoproject.com/en/1.3/topics/settings/#designating-the-settings)（链接适用于 Django 1.3）为您提供了一些解决问题的方法。最快的方法是`EXPORT`变量：

```
# Example for Unix Bash Shell
export DJANGO_SETTINGS_MODULE=mysite.settings
django-admin.py runserver 
```

另一种方法是将以下行添加到项目`__init__.py`文件中：

```
import os
os.environ['DJANGO_SETTINGS_MODULE'] = 'myapp.settings' 
```

你的项目结构如何？您创建的每个新 django 项目是否都遇到此错误？将您的项目根目录添加到`PYTHONPATH`env 变量对您来说也是一个可行的解决方案。

# java - java+cmd:classpath 资源文件未找到

> ID：15803519
> 
> 赞同：0
> 
> 时间：2013-04-04T05:55:25.653
> 
> 标签：java, cmd, classpath

我有一个spring应用程序..我的beans.xml有点：

```
<bean class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
    <property name="locations">
        <value>classpath:queue.properties</value>
    </property>
</bean>

<bean id="connectionFactory" class="org.apache.activemq.ActiveMQConnectionFactory">
        <property name="brokerURL">
        <value>${queue.url}</value>
        </property>
</bean> 
```

我的 queue.properties 文件位于资源文件夹中。我已将资源文件夹添加到我的类路径中。当我在 Eclipse 中运行应用程序时，它运行良好，但是当我在命令提示符下执行相同操作时，它会引发找不到异常文件！帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T11:55:24.400

您还需要在命令提示符下指定资源文件夹。像这样：

```
java -cp pathToYourResourcesFolder foo.bar.Main 
```

# ruby - 用空格字符分隔一些硒脚本以运行它们 ruby rake

> ID：15803522
> 
> 赞同：0
> 
> 时间：2013-04-04T05:55:28.070
> 
> 标签：ruby, selenium, webdriver, rake

我正在使用 Ruby Rake 在 Ruby 终端窗口上运行 Selenium Webdriver 脚本。所以，我在 rakefile.rb 中有如下代码：

```
task :default do
    if ENV['scripts']
       scripts = ENV['scripts'].split(',')
end 
```

代码“scripts = ENV['scripts'].split(',')”的意思是如果我想运行许多脚本例如：'test1.rb'&'test2.rb'，所以我必须使用逗号（ ,) 在我要运行的两个脚本的名称之间，如下所示：

```
C:\>rake scripts=test1.rb,test2.rb 
```

但现在我想更改代码，以便我可以使用空格字符 b/w 脚本而不是 (,)

```
C:\>rake scripts=test1.rb test2.rb 
```

我该怎么做，请帮助，非常感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T07:59:02.280

Rake 会将第二个脚本视为对任务的调用，因此您需要通过将参数括在引号中来对它们进行分组：

```
$ rake scripts='test1.rb test2.rb' 
```

然后，您可以`split`在 Rake 任务中不带参数地调用：

```
task :default do
  if ENV['scripts']
    scripts = ENV['scripts'].split
    p scripts
  end
end 
```

这将产生：

```
$ rake scripts='test1.rb test2.rb'
["test1.rb", "test2.rb"] 
```

另一种选择是自己摆弄命令行参数，然后使用命令行参数的名称动态定义任务，因此 rake 不会抱怨缺少任务。我已将其提取到`with_args`此处调用的方法中：

```
# expose command line arguments
def with_args &block
  args = ARGV.dup
  args.shift
  block.call(args)
  args.each{|arg| task(arg.to_sym) }
end 
```

你可以像这样使用它：

```
task :default => [:scripts]

task :scripts do
  with_args do |files|
    p files
  end
end 
```

然后以这种方式调用 rake 任务：

```
$ rake scripts test1.rb test2.rb
["test1.rb", "test2.rb"] 
```

最初的想法来自[这篇博](http://itshouldbeuseful.wordpress.com/2011/11/07/passing-parameters-to-a-rake-task/)文。

# twitter-bootstrap - 使用 Bootstrap 时如何在导航栏中放置警报？

> ID：15803523
> 
> 赞同：2
> 
> 时间：2013-04-04T05:55:29.200
> 
> 标签：twitter-bootstrap

我正在学习引导程序，并使用此示例构建站点：`http://twitter.github.com/bootstrap/examples/hero.html`

我想在导航栏中显示警报。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T07:29:56.980

这取决于你想要什么。您可以使用[标签和徽章](http://twitter.github.com/bootstrap/components.html#labels-badges)来显示短信或通知数量，并带有指向单独页面的链接。或者您可以将[工具提示](http://twitter.github.com/bootstrap/javascript.html#tooltips)或[弹出](http://twitter.github.com/bootstrap/javascript.html#popovers)框附加到它。例如

```
<a href="#" 
   data-html="true"
   data-placement="bottom"
   data-toggle="popover"
   data-content="Notification 1<br/>Notification 2"
   data-original-title="Notifications">
    <span class="badge badge-success">2</span> Notifications
</a> 
```

[http://jsfiddle.net/WBTf8/22/](http://jsfiddle.net/WBTf8/22/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:23:39.217

为此使用下拉导航...

**检查这个，**

[http://twitter.github.com/bootstrap/components.html#navs](http://twitter.github.com/bootstrap/components.html#navs)

[http://twitter.github.com/bootstrap/components.html#navbar](http://twitter.github.com/bootstrap/components.html#navbar)

谢谢

# c# - 文件存在总是返回 false

> ID：15803527
> 
> 赞同：2
> 
> 时间：2013-04-04T05:55:46.970
> 
> 标签：c#, .net, image, url

```
ImageURL = String.Format(@"../Uploads/docs/{0}/Logo.jpg", SellerID);
if (!File.Exists(ImageURL))
{
    ImageURL = String.Format(@"../Uploads/docs/defaultLogo.jpg", SellerID);
} 
```

每次我检查是否有文件时，我都会在图像中获得默认徽标，是否有超出权限检查的内容。

> 注意：这是网站上引用的类库

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T05:56:32.840

您必须提供物理路径而不是虚拟路径（url），您可以使用 webRequest 来查找给定的文件是否存在`url`。您可以阅读[本文](http://www.dotnetthoughts.net/how-to-check-remote-file-exists-using-c/)以查看检查给定 url 的资源是否存在的不同方法。

```
private bool RemoteFileExists(string url)
{
    try
    {
        //Creating the HttpWebRequest
        HttpWebRequest request = WebRequest.Create(url) as HttpWebRequest;
        //Setting the Request method HEAD, you can also use GET too.
        request.Method = "HEAD";
        //Getting the Web Response.
        HttpWebResponse response = request.GetResponse() as HttpWebResponse;
        //Returns TURE if the Status code == 200
        return (response.StatusCode == HttpStatusCode.OK);
    }
    catch
    {
        //Any exception will returns false.
        return false;
    }
} 
```

**根据评论进行**编辑，***在托管 url 访问的文件的服务器上运行代码*。我假设您的上传文件夹位于网站目录的根目录中。**

 **```
ImageURL = String.Format(@"/Uploads/docs/{0}/Logo.jpg", SellerID);
if(!File.Exists(System.Web.Hosting.HostingEnvironment.MapPath(ImageURL))
{

} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T06:39:07.607

如果这是在 Web 应用程序中，则当前目录通常不是您认为的那样。例如，如果 IIS 为网页提供服务，则当前目录可能是 inetsrv.exe 所在的位置或临时目录。要获取 Web 应用程序的路径，您可以使用

```
string path = HostingEnvironment.MapPath(@"../Uploads/docs/defaultLogo.jpg");
bool fileExists = File.Exists(path); 
```

[http://msdn.microsoft.com/en-us/library/system.web.hosting.hostingenvironment.mappath.aspx](http://msdn.microsoft.com/en-us/library/system.web.hosting.hostingenvironment.mappath.aspx)

MapPath 会将您提供的路径转换为与您的 Web 应用程序相关的路径。为了确保路径设置正确，您可以使用跟踪调试`Trace.Write`或将路径写入调试文件（使用调试文件的绝对路径）。**

# android - 在Android中绘画时如何掩盖一个简单的区域？

> ID：15803533
> 
> 赞同：4
> 
> 时间：2013-04-04T05:56:09.670
> 
> 标签：android, shape, mask

下面是一个简化的描述：想象一下，给我一个 View 类，它绘制了一面墙的图片，我想绘制它并切掉一个窗口。假设我扩展了该 View 类并重写了它的 dispatchDraw() 方法来执行以下操作。如果有可以通过窗口看到的背景，请先绘制背景。接下来我想以某种方式屏蔽矩形窗口区域，然后调用 super.dispatchDraw()。最后我想去掉面具，画一个站在窗边的人，这样他们就被画在背景和墙上。我怎样才能做到这一点？

这是一些似乎接近我需要的代码：

```
@Override
protected void dispatchDraw(Canvas into) {
    int w = into.getWidth();
    int h = into.getHeight();
    int w3 = w / 3;
    int h3 = h / 3;
    into.drawLine(0, 0, w, h, mPaint);
    Region protect = new Region(w / 3, h / 3, 2 * w / 3, 2 * h / 3);
    into.clipRegion(protect, Op.INTERSECT);
    into.drawColor(Color.MAGENTA); // or super.dispatchDraw() here.
} 
```

这给了我这个：

![在此处输入图像描述](https://i.stack.imgur.com/KenuS.png)

这与我想要的相反。请注意上面代码中名为“protect”的区域。我希望洋红色填充出现在*除*该区域之外的任何地方。具体来说，我想看到的是：

![在此处输入图像描述](https://i.stack.imgur.com/tiCP9.png)

以窗户的类比，然后我应该可以取消限制并以正常方式绘制一个人或某物，同时覆盖窗户和墙壁。

编辑：这是 Rajesh CP 答案的简化工作版本。我还在最后添加了一条红色的“前景”条纹，以显示我可以删除限制以及添加它们。谢谢拉杰什！

```
public class MaskTest extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(new ClippView(getApplicationContext()));
    }

    private class ClippView extends View {
        private Paint line_paint = new Paint();
        private Paint strip_paint = new Paint();

        public ClippView(Context context) {
            super(context);
            line_paint.setColor(Color.GRAY);
            line_paint.setStrokeWidth(20);
            strip_paint.setColor(Color.RED);
        }

        @Override
        protected void onDraw(Canvas canvas) {
            super.onDraw(canvas);
            int w = canvas.getWidth();
            int h = canvas.getHeight();
            int w3 = w / 3;
            int h3 = h / 3;
            // This line represents some unknown background that we are drawing over.
            canvas.drawLine(0, 0, w, h, line_paint);
            // 'protect' represents some area to not paint over until desired.
            Region protect = new Region(w3, h3, 2 * w / 3, 2 * h / 3);
            canvas.clipRegion(protect, Op.DIFFERENCE);
            // Paint magenta over the entire canvas, avoiding the protected region.
            canvas.drawColor(Color.MAGENTA);
            // Remove the protected region.
            Region all = new Region(0, 0, w, h);
            canvas.clipRegion(all, Op.UNION);
            // Draw a wide foreground strip over the entire canvas.
            canvas.drawRect(w / 2 - w / 20, 0, w / 2 + w / 20, h, strip_paint);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-05T07:58:52.373

```
public class ClippView extends View{
    private Paint paint= new Paint();

    public ClippView(Context context) {
        super(context);
    }

    private Region protect;
    /*
     * (non-Javadoc)
     * @see android.view.View#onDraw(android.graphics.Canvas)
     * @since Apr 12, 2013
     * @author rajeshcp
     */
    @Override
    protected void onDraw(Canvas canvas) { 
        super.onDraw(canvas);
        // view.buildDrawingCache();      

        int w = canvas.getWidth();
        int h = canvas.getHeight();
        int w3 = w / 3;
        int h3 = h / 3;
        canvas.drawLine(0, 0, w, h, paint);
        protect = (protect == null) ? new Region(w3, h3, 2 * w / 3, 2 * h / 3) : protect;
        canvas.clipRegion(protect, Op.DIFFERENCE);
        canvas.drawColor(Color.MAGENTA);

    }

} 
```

这样做我认为这就是你想要的。![在此处输入图像描述](https://i.stack.imgur.com/iTdUj.jpg)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-12T04:32:54.587

为什么不像这样画四个矩形作为蒙版 ![查看蒙版](https://i.stack.imgur.com/pwKlX.png)

# eclipse - Eclipse 作为 Web 应用程序的瘦客户端

> ID：15803534
> 
> 赞同：0
> 
> 时间：2013-04-04T05:56:12.180
> 
> 标签：eclipse, eclipse-rcp

我见过几个 IBM 客户端工具，它们使用 Eclipse 作为基于 Web 的应用程序的某种“包装器”。是否有任何参考或基础项目可以用来创建我自己的项目？

我知道 Eclipse 有一个允许执行此操作的 RCP SDK，但我更喜欢使用启动应用程序时转到的 URL 配置它这样简单的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T18:09:58.953

您可以只定义一个带有单个 View 的 RCP 应用程序，其中包含一个浏览器小部件。所以你可以放任何你想要的网址。[这里](http://www.eclipse.org/articles/Article-SWT-browser-widget/browser.html)的例子。但是这样你也可以只使用 SWT。[这](http://git.eclipse.org/c/platform/eclipse.platform.swt.git/tree/examples/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet128.java)是第二个的示例。

# axis2 - 将 SOAP 信封转换为文档时出错

> ID：15803539
> 
> 赞同：0
> 
> 时间：2013-04-04T05:56:32.197
> 
> 标签：axis2, rampart

我尝试使用本 [教程](http://jkrzemie.files.wordpress.com/2011/02/ws.pdf)为我的 Web 服务添加安全性，但是当我测试它时出现以下错误，我无法解释可能是什么原因？先感谢您

```
RROR] Error in extracting message properties
org.apache.axis2.AxisFault: Error in extracting message properties
    at org.apache.rampart.handler.RampartReceiver.setFaultCodeAndThrowAxisFault(RampartReceiver.java:180)
    at org.apache.rampart.handler.RampartReceiver.invoke(RampartReceiver.java:99)
    at org.apache.axis2.engine.Phase.invokeHandler(Phase.java:340)
    at org.apache.axis2.engine.Phase.invoke(Phase.java:313)
    at org.apache.axis2.engine.AxisEngine.invoke(AxisEngine.java:262)
    at org.apache.axis2.engine.AxisEngine.receive(AxisEngine.java:168)
    at org.apache.axis2.transport.http.HTTPTransportUtils.processHTTPPostRequest(HTTPTransportUtils.java:172)
    at org.apache.axis2.transport.http.AxisServlet.doPost(AxisServlet.java:146)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)
    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:936)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)
    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)
    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
    at java.lang.Thread.run(Unknown Source)
Caused by: org.apache.rampart.RampartException: Error in extracting message properties
    at org.apache.rampart.RampartMessageData.<init>(RampartMessageData.java:365)
    at org.apache.rampart.RampartEngine.process(RampartEngine.java:78)
    at org.apache.rampart.handler.RampartReceiver.invoke(RampartReceiver.java:92)
    ... 24 more
Caused by: org.apache.ws.security.WSSecurityException: Error in converting SOAP Envelope to Document
    at org.apache.rampart.util.Axis2Util.getDocumentFromSOAPEnvelope(Axis2Util.java:162)
    at org.apache.rampart.RampartMessageData.<init>(RampartMessageData.java:270)
    ... 26 more
Caused by: java.lang.ClassCastException: org.apache.axiom.soap.impl.dom.SOAPMessageImpl cannot be cast to org.apache.axiom.om.OMNode
    at org.apache.rampart.util.Axis2Util.getDocumentFromSOAPEnvelope(Axis2Util.java:135)
    ... 27 more 
```

# iphone - iphone 5 我要制作两个xib吗

> ID：15803543
> 
> 赞同：-5
> 
> 时间：2013-04-04T05:56:38.390
> 
> 标签：iphone, ios, objective-c, uiwebview

我必须为 iphone 5 开发应用程序。如果我添加约束，那么它会使应用程序在较低版本中崩溃。所以我不能使用约束。那么我应该如何开发屏幕。我是否必须使用两个 xib 进行开发，还是有其他方法。自动布局在某些情况下有效，但并非在所有情况下都有效。在复杂的情况下，我们必须设置框架。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T06:18:30.633

如果您想支持 iOS 4.3 或 5，请关闭 Autolayout。然后您必须在代码或界面生成器中正确设置 UIViewAutoresizing。

使用 UIView 上的 autoresizingMask，您可以使视图保持在一边并随着超级视图的大小而增长。

另一种方法是

您可以为 iPhone 5 和 iPhone 4S 设计单独的视图。与通用应用程序一样，检查屏幕大小并相应地加载视图。

```
if ([[UIScreen mainScreen] bounds].size.height == 568)
{
     //this is iphone 5 xib or retina display 4.0
   } 
else {
//do something for retina display 3.5
} 
```

# machine-learning - 完善的决策树分类

> ID：15803545
> 
> 赞同：2
> 
> 时间：2013-04-04T05:56:43.033
> 
> 标签：machine-learning, classification, decision-tree

想象一下，一组变量 V 的值与一组标签名称 T（分类标签）之间的所有已知映射的宇宙是已知的。此外，假设唯一变量值组合的总空间很大（> 100B 个点），标签集的大小相对较小（数千个元素）并且变量的数量非常少（4-10）。

什么是构建分类器函数的算法，它提供了从变量值到具有以下空间和时间复杂度目标的标签的完美映射（匹配没有误报或误报的先验知识）：

*   时间复杂度低于 O(|V|*log|T|)
*   空间复杂度小于 O(|V| ^k ), k ≤ *e*

或者，改写为决策树问题：

1.  如何调整决策树算法以创建完美映射？
2.  如何有效地表示训练数据以保证这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T08:28:20.770

您尝试实现的目标应该可以使用任何允许您以某种方式指定修剪级别的决策树分类器。这个想法是让它根本不做任何修剪。您最终得到的决策树将（可能）每个训练实例有一个叶子（即非常大），但会在预测时间 O(|V|*log|T|) 的情况下为您提供“完美”的准确性。

这完全独立于训练数据的表示方式（并且应该是）。唯一重要的是决策树诱导器可以读取和处理它。构建这种树的一种简单方法是为第一个示例添加路径，然后为第二个示例合并一个路径，依此类推。

当然，这样的分类器在实践中是否有用是一个完全不同的问题——在大多数情况下不会有用。

# postgresql - Postgres 主键同步

> ID：15803547
> 
> 赞同：0
> 
> 时间：2013-04-04T05:56:48.090
> 
> 标签：postgresql, primary-key, postgresql-9.1, data-synchronization

我有两个 postgres 数据库，必须在这些数据库之间同步相同的表（不是全部，只是其中几个）。

这会产生同步问题，如果我有表 A 和表 B（相同的结构，只是在不同的数据库中），如果有人插入表 A，则 pk id 可能是 5，但随后，有人可能会在表 B 上插入，得到pk id 也是 5。

在同步两个表时，我可能会发现两个寄存器具有相同的 pk，但内容不同。

我很确定必须有解决方案，必须有一个聪明的方法来保持 ids 同步。

到目前为止，我正在考虑创建一个简单的 web 服务，它将提供一个新的有效 pk id，但是这是有问题的，因为

1-它会减慢进程 2-它只是将问题转移到 Web 服务，Web 服务将如何找到下一个有效 id？

过去有没有人遇到过类似的问题？

环境是postgres 9.1

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:38:28.680

是的，人们经常遇到这种情况。您需要问的问题不是“我该怎么做”，而是“现有的广为人知和成熟的方法中哪一种最适合我的需求”。

研究用于在分片和分布式数据库中生成密钥的解决方案。

选项包括：

*   为每台机器分配不重叠的 ID 范围。一种常见的方法是将序列设置为以（例如）100 为单位递增，并为每台机器提供唯一的偏移量，因此机器 A 生成 101、201、301、401 等，机器 B 生成 102、202、302、402 , ... . 在您需要添加机器 #101 之前效果*很好。*您可以使用 bigint 密钥并为 10,000 台机器留出空间；这样，当您达到此限制时，无论如何您将重新设计整个系统三遍。

    （在您说“我将用完密钥”之前... max bigint 对于`9223372036854775807`10000 台机器范围而言，您正在查看每台机器的每个表大约 10 ^(15)或 2 ^(50 个)键，这大约是一个 21 PB 的表每条记录 25 个字节，包括开销，即非常小的记录）。

*   使用复合主键，如`(machine_id, locally_generated_sequence_id)`. 除非您正在处理坚持使用单值主键的脑残 ORM，否则是理想的。

*   对数据类型使用[巨大的随机主键 (UUID)](http://en.wikipedia.org/wiki/Universally_unique_identifier)`uuid`，提供 128 位空间和绝对极小的冲突概率。在大多数情况下都可以正常工作，尽管[生日悖论](http://en.wikipedia.org/wiki/Birthday_paradox)碰撞非常不寻常。偏执狂可以制定处理碰撞的计划。

*   使用通用服务生成大块密钥。不经常调用它并将可用的密钥存储在本地。由于密钥表上的锁争用，这往往会妨碍每个节点上的并发写入性能，所以我不推荐它。

*   ...可能更多我不记得或从未听说过。

最简单的选择通常是分配不重叠的 ID。这很简单，它是透明的，而且很有效。

# iphone - 解析检索到的 Facebook 好友详细信息数据

> ID：15803548
> 
> 赞同：2
> 
> 时间：2013-04-04T05:56:49.417
> 
> 标签：iphone, facebook, facebook-fql

我使用 FQL 查询来一次检索好友列表：

```
-(void)fetchSaveUserFriendDetails
{
 NSString* query = [NSString stringWithFormat:@"SELECT uid,name,birthday_date FROM user WHERE uid IN (SELECT uid2 FROM friend WHERE uid1 = me())"];

 // Set up the query parameter
  NSDictionary *queryParam = [NSDictionary dictionaryWithObjectsAndKeys:
                                    query, @"q", nil];
 // Make the API request that uses FQL
  [FBRequestConnection startWithGraphPath:@"/fql"
                                     parameters:queryParam
                                     HTTPMethod:@"GET"
                              completionHandler:^(FBRequestConnection *connection,
                                                  id result,
                                                  NSError *error) {
    if (!error)
    {
       NSLog(@"result is %@",result);

       NSArray *resultData = [result objectForKey:@"data"];
       if ([resultData count] > 0) {
       for (NSUInteger i=0; i<[resultData count] ; i++) {
          [self.friendsDetailsArray addObject:[resultData objectAtIndex:i]];
             NSLog(@"friend details are %@",friendsDetailsArray);
     }
   }
 }

        }];
 //Save friends to database stuff
 ..................
} 
```

我得到以下输出：

![在此处输入图像描述](https://i.stack.imgur.com/8yiaW.png)

我已经浏览了[Facebook Developers](https://developers.facebook.com/docs/howtos/run-fql-queries-ios-sdk/) FQL 查询的官方文档，但我无法找出如何解析数据。

我尝试了以下方法来解析检索到的数据：

```
NSString *jsonString = [[NSString alloc] initWithData:result encoding:NSUTF8StringEncoding];
NSDictionary *jsonValue = [jsonString JSONValue];
NSArray *values = [jsonValue objectForKey:@"friendinfo"]; 
```

其中结果以 JSON 格式保存所有朋友数据，但出现以下错误：

**`-JSONValue failed. Error is: Unexpected end of input`**

**更新信息**

我正在尝试解析所有检索到的数据（最终是 JSON 格式）并将所有 Facebook 朋友详细信息保存到我的数据库中。所有检索和保存到 db 部分的实现都是在 Facebook Sync 按钮操作中完成的。

需要一些帮助，任何帮助都会受到极大的赞扬，谢谢:)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-05T07:32:39.117

**更新：**

```
- (void)request:(FBRequest *)request didLoad:(id)result {
        if ([result isKindOfClass:[NSArray class]] && ([result count] > 0)) {
            result = [result objectAtIndex:0];
        }
        friends = [[NSMutableArray alloc] initWithCapacity:1];
        NSArray *resultData = [result objectForKey:@"data"];
        if ([resultData count] > 0) {
            for (NSUInteger i=0; i<[resultData count] && i < 25; i++) {
                [friends addObject:[resultData objectAtIndex:i]];
            }
            [friends retain];
            [tblInviteFriends reloadData];              
        } else {
                UIAlertView *alt=[[UIAlertView alloc]initWithTitle:@"No Friends" message:@"You have no friends." delegate:self cancelButtonTitle:@"Ok" otherButtonTitles:nil, nil];
                [alt show];
                [alt release];
        }
} 
```

`cellForRowAtIndexPath`并以如下方式显示该数据...

```
cell.textLabel.text = [[friends objectAtIndex:indexPath.row] objectForKey:@"name"] 
```

定义`yourDataArray`为 a`NSMutableArray`并将其`UITableView`用于数据显示

我希望这是对你有帮助的玩具...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:27:52.103

我不确定您是指具体使用 SQLite 还是 Core Data，但无论如何，您都需要以某种方式序列化这些数据。您可以使用许多方法和库。我个人最喜欢的是使用 Mantle 作为我自己模型的基准。

所以，假设我需要使用我得到的查询响应创建一个用户对象。

```
[FBRequestConnection startWithGraphPath:@"/fql"
                             parameters:queryParam
                             HTTPMethod:@"GET"
                      completionHandler:^(FBRequestConnection *connection,
                                          id result,
                                          NSError *error) {
                          if (!error) {
                              NSMutableArray *users = [NSMutableArray array];
                              for (NSDictionary *userInfo in result) {
                                  User *user = [User modelWithRemoteDictionary:userInfo];
                                  [users addObject:user];
                              }
                          }
                      }]; 
```

好的，所以分解一下。您正在对结果对象使用快速枚举来单独获取每个字典。然后，您将该字典序列化为`User`您为其创建模型的对象。Mantle 提供了`modelWithRemoteDictionary:`，它实际上只是针对您在`User`模型中预设为私有方法的键序列化字典，然后将它们设置为同一`User`模型的公共属性。最后，将每个对象添加到一个数组中。

你的最终产品是那个阵列，你可以用它来做任何你想做的事情。

我希望这有帮助！

**编辑：**

跳过模型：

```
[FBRequestConnection startWithGraphPath:@"/fql"
                             parameters:queryParam
                             HTTPMethod:@"GET"
                      completionHandler:^(FBRequestConnection *connection,
                                          id result,
                                          NSError *error) {
                          if (!error) {
                              self.users = [NSMutableArray array];
                              for (NSDictionary *userInfo in result) {
                                  [self.users addObject:userInfo];
                              }
                          }
                      }]; 
```

举个例子，让我们使用`cellForRowAtIndexPath:`来展示你稍后将如何使用这个数组：

```
- (UITableViewCell *)cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    // Allocate, and set the cell...

    NSDictionary *userDict = self.users[indexPath.row];

    cell.name = userDict[@"facebook_name"];
    cell.username = userDict[@"facebook_username"];
    cell.birthday = userDict[@"facebook_birthday"];
} 
```

# ant - 如何使用 ant 检索目录名称

> ID：15803552
> 
> 赞同：0
> 
> 时间：2013-04-04T05:57:00.390
> 
> 标签：ant

我有一个名为“BACKUP”的目录。有没有办法使用 ant 构建脚本检索该目录中存在的所有文件夹和文件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T14:46:32.167

文件：`<fileset dir="BACKUP" />`

文件夹：`<dirset dir="BACKUP" />`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T13:21:19.230

您可以使用[FileSet](http://ant.apache.org/manual/Types/fileset.html)类型：

`<fileset dir="BACKUP"/>`

# c# - 检测何时注册到属性更改事件

> ID：15803553
> 
> 赞同：1
> 
> 时间：2013-04-04T05:57:00.593
> 
> 标签：c#, events, inotifypropertychanged, propertychanged

我有一个`Property Change`活动，我想知道什么时候注册。

这是我的活动`class1`：

```
 public event PropertyChangedEventHandler PropertyChanged; 
```

这里我的寄存器`class2`（`MyObj`是 a 的一个实例`Class1`）：

```
 MyObj.PropertyChanged += MyObj_PropertyChanged; 
```

当注册发生时，我想运行一个特定的功能（从`class1`），我该怎么做？

我找不到任何办法这样做......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T06:00:05.747

使用此语法声明事件：

```
class MyClass
{
    private EventHandler myEvent;

    private void OnEventHandlerRegistered()
    {
        Console.WriteLine("Event handler registered.");
    }

    public event EventHandler MyEvent
    {
        add 
        {
            myEvent += value;
            OnEventHandlerRegistered();
        }
        remove
        {
            myEvent -= value;
        }
    }
} 
```

# css - 'full available height' 内部 div - 为什么这样有效？

> ID：15803565
> 
> 赞同：0
> 
> 时间：2013-04-04T05:58:43.087
> 
> 标签：css, flexbox

我有一个在 CSS 中工作的布局，但我不明白它*为什么*工作。CSS专家，请阐明这里发生了什么。

我的目标是有这样的布局：

![所需的布局](https://i.stack.imgur.com/CuJjv.png)

显着特点是：

1.  固定窗口顶部和底部的高度页眉和页脚
2.  占据页眉和页脚之间全部空间的内容区域
3.  内容区域有自己的滚动条（即它不会将页脚向下推到屏幕底部之外）。

我使用 css flex box 和 0% 高度的内容 div 内的 div 组合实现了它。出乎我的意料，0% 的高度 div 延伸到了完整的可用高度。

这是一个 JSFiddle： http: [//jsfiddle.net/2wunC/](http://jsfiddle.net/2wunC/)（它看起来不太正确，因为外部`height:100%`在 jsfiddle 容器内没有意义）。

HTML

```
<div id="everything">
  <div id="header">fixed-height header</div>
  <div id="workspace">
    <div class="docstretch"><div class="docwindow">
      filler text<br>filler text<br>filler text<br>...
    </div></div>
  </div>
  <div id="footer">fixed-height footer</div>
</div> 
```

CSS

```
#everything {display:-webkit-flex;-webkit-flex-flow:column;-webkit-align-items:stretch;height:100%;}
#header {height:2em;background:lightgray;}
#footer {height:2em;background:darkgray;}
#workspace {-webkit-flex:1 0 auto;display:-webkit-flex;-webkit-flex-flow:row;}
.docstretch {background:#05c;color:white;width:300px;overflow-y:scroll;}
.docwindow {height:0%;} /* why does this work? */ 
```

**我的问题**：带有内部 div 的嵌套 div（docstretch 和 docwindow）`height:0%`创建了我想要的内容 div，占据了页面的完整“内部空间”并拥有自己的滚动条。但为什么？这是一个安全的解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T12:22:31.583

如果你去掉所有的 Flexbox 属性，你会发现它和 Flexbox 完全没有关系：

[http://jsfiddle.net/2wunC/2/](http://jsfiddle.net/2wunC/2/)

问题是你有`height: 0%`. 删除 % ，它会按您的预期工作：

[http://jsfiddle.net/2wunC/1/](http://jsfiddle.net/2wunC/1/)

# html - 谷歌地图方向的html代码不起作用

> ID：15803568
> 
> 赞同：1
> 
> 时间：2013-04-04T05:59:07.453
> 
> 标签：html, css, api, google-maps

我试图让用户输入 2 个城市，使用谷歌的自动填充，然后在谷歌地图上画出它们之间的界线。自动填充对两个盒子都很好。起始位置有效（当用户输入一个城市时，地图会放大到该城市并出现标记），但输入结束位置时没有任何反应。如果有人看到问题出在哪里，我将不胜感激一些建议。

***方向.html***

```
<!DOCTYPE html>
<html>
<head>
<title>Google Maps JavaScript API v3 Example: Places Autocomplete</title>
<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&libraries=places"></script>

<style>
  body 
    {
        font-family: sans-serif;
        font-size: 14px;
    }
  #lred { color: #FF0000;}
  #map-canvas 
    {
        height: 400px;
        width: 600px;
        margin-top: 0.6em;
    }
  start {border: 1px solid  rgba(0, 0, 0, 0.5);}
  start.notfound 
    {
        background-color: #F5A9A9;
        }
  end {border: 1px solid  rgba(0, 0, 0, 0.5);}
  end.notfound 
    {
        background-color: #F5A9A9;
        }
 </style>

 <script>
  var directionDisplay;
  var directionsService = new google.maps.DirectionsService();
  function initialize() 
    {
            directionsDisplay = new google.maps.DirectionsRenderer();
        var mapOptions = 
            {
                center: new google.maps.LatLng(39.8282, -98.5795),
                zoom: 4,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };
        var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
            directionsDisplay.setMap(map);
        var options = 
            {
                types: ['(cities)'],
                componentRestrictions: {country: 'us'}
            };
        var start = document.getElementById('start');   
        var sAutocomplete = new google.maps.places.Autocomplete(start, options);
        var end = document.getElementById('end');   
        var eAutocomplete = new google.maps.places.Autocomplete(end, options);

        sAutocomplete.bindTo('bounds', map);
        eAutocomplete.bindTo('bounds', map);

        var infowindow = new google.maps.InfoWindow();
        var marker = new google.maps.Marker({ map: map });

        google.maps.event.addListener(sAutocomplete, 'place_changed', function() {
            infowindow.close();
            marker.setVisible(false);
            start.className = '';
            var place = sAutocomplete.getPlace();
                // Inform the user that the place was not found and return.
                if (!place.geometry) 
                    { 
                        start.className = 'notfound';
                        return;
                    }
                else 
                    {
                        map.setCenter(place.geometry.location);
                        map.setZoom(6);  // Why 17? Because it looks good.
                    }
            var image = 
                {
                    url: place.icon,
                    size: new google.maps.Size(71, 71),
                    origin: new google.maps.Point(0, 0),
                    anchor: new google.maps.Point(17, 34),
                    scaledSize: new google.maps.Size(35, 35)
                };
            marker.setIcon(image);
            marker.setPosition(place.geometry.location);
            marker.setVisible(true);
     });
    }

    function calcRoute() {
    var start2 = document.getElementById("start").value;
    var end2 = document.getElementById("end").value;
    var request = {
        origin:start2,
        destination:end2,
        travelMode: google.maps.TravelMode.DRIVING
    };
    directionsService.route(request, function(response, status) {
      if (status == google.maps.DirectionsStatus.OK) {
        directionsDisplay.setDirections(response);
      }
    });
   }

  google.maps.event.addDomListener(window, 'load', initialize);
  </script>
 </head>
 <body onload="initialize()">
 <div>
  <input id="start" onchange="calcRoute();" type="text" size="50">
  <input id="end" onchange="calcRoute();" type="text" size="50">
</div>
<div id="map-canvas"></div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:52:29.987

[在Komodo Edit](http://www.activestate.com/komodo-edit)等语法检查编辑器中加载您的 HTML 文件。它确定了这两行中的错误：

```
<input id="start" onchange="calcRoute(); type="text" size="50">
<input id="end" onchange="calcRoute(); type="text" size="50"> 
```

你看到了吗？两个标签中都缺少引号。

修复后，您的页面的行为会有所不同。现在它确实调用了以前根本没有调用过的`calcRoute()`函数。但是 JavaScript 控制台中显示了一个错误：

```
Uncaught ReferenceError: directionsService is not defined 
```

果然，我没有`directionsService`在代码中的任何地方看到定义。

交给你...

# wordpress - 带有 WordPress 图库的 FlexSlider

> ID：15803572
> 
> 赞同：0
> 
> 时间：2013-04-04T05:59:15.030
> 
> 标签：wordpress, flexslider

你如何让 FlexSlider 与 WordPress 画廊一起工作？

我正在创建一个自定义主题，理想情况下，我希望主题中的每个画廊都自动变成 FlexSlider 图像旋转器，而无需使用其他插件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-06-10T11:45:43.030

看看 t31os 对类似问题的回答：[如何从插件自定义 WP 图片库短代码的输出？](https://wordpress.stackexchange.com/a/4358/16034).

你要做的是用你返回的覆盖核心 gallery_shortcode 函数（wp-includes/media.php 的第 702 行）`$output`，将他的代码或类似的代码放在你的主题中的 functions.php 中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-22T18:33:11.893

我知道您说过您不想使用其他插件，但我建议您尝试使用图库扩展的高级自定义字段插件。

使用您自己的标记创建自定义画廊非常容易。[在这里查看](http://www.advancedcustomfields.com/docs/field-types/gallery/)

它确实解决了我想要的集成壁画灯箱的问题。只是一些示例代码，向您展示如何使用自定义字段：

```
<div id="slider" class="flexslider">
    <ul class="slides">
        <?php foreach( $images as $image ): ?>
            <li>
                <img src="<?php echo $image['url']; ?>" alt="<?php echo $image['alt']; ?>" />
                <p class="flex-caption"><?php echo $image['caption']; ?></p>
            </li>
        <?php endforeach; ?>
    </ul> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-10-12T10:01:59.297

我知道这已经 6 岁了，但我最近需要在 WP 5.0+ 安装上执行此操作，并且由于块编辑器（又名）的原因，它比预期的要难。古腾堡。

`parse_blocks`我通过使用和`render_block`手动重新渲染来解决它，可能会对性能造成重大影响（纠正我，如果我错了）`the_content`。

这在您的主题中`functions.php`：

```
<?php

function filter_gallery_blocks($content) {
    global $post;

    if ( has_blocks( $post->post_content ) ) {
        $blocks = parse_blocks( $post->post_content );
        $new_content = '';

        foreach ( $blocks as $key => $block ) {
            if ( $block['blockName'] === 'core/gallery' ) {
                $rendered_block = render_block($block);

                // do whatever replacement you like with the block HTML

                // in case of Flexslider I needed the following 3 lines
                $rendered_block = str_replace('<figure>', '', $rendered_block);
                $rendered_block = str_replace('</figure>', '', $rendered_block);
                $rendered_block = str_replace('wp-block-gallery', 'wp-block-gallery slides', $rendered_block);

                $new_content .= '<div class="gallery">'.$rendered_block.'</div>';
                continue;
            }

            // else just pass through
            $rendered_block = render_block($block);
            $new_content .= $rendered_block;
        }

        return $new_content;
    }
}
add_filter('the_content', 'filter_gallery_blocks', -5);

?> 
```

# callback - JSONP 回调将结果分配给上下文

> ID：15803573
> 
> 赞同：0
> 
> 时间：2013-04-04T05:59:15.470
> 
> 标签：callback, jsonp

我正在尝试使用 Apple 搜索 API 来收集两个应用程序的名称并用它替换原始 iTunes 链接。但我的代码似乎只用应用程序名称一个接一个地替换第二个 iTunes 链接。我觉得这与回调有关，但我是菜鸟……所以有人可以帮助我。

这是我的代码：

```
<div class = "appinfo">https://itunes.apple.com/us/app/rock-runners/id575506874?mt=8></div>

<div class = "appinfo">https://itunes.apple.com/en/app/anomaly-warzone-earth-hd/id431607423?mt=8</div>

<script type="text/javascript" src="http://code.jquery.com/jquery-latest.pack.js"></script>

<script>
    window.onload = function injectAppInfoBlocks()
    {
        this.appInfoBlocks = document.getElementsByClassName('appinfo');

        if(appInfoBlocks) {
            for(var i=0; i<appInfoBlocks.length; i++) {
                currentAppId = appInfoBlocks[i].innerHTML.match(/id(\d+)/)[1];
                this.currentBlockId = i;
                var self = this;

                $.ajax( "https://itunes.apple.com/lookup?id=" + currentAppId, { 
                       dataType: "jsonp",
                       context: self,
                       success: function () {
                        name = arguments[0].results[0].trackName;
                        self.appInfoBlocks[self.currentBlockId].innerHTML=name;

                       }
                });
            }
        }

    }
</script> 
```

不使用自我：

```
<div class = "appinfo">https://itunes.apple.com/us/app/rock-runners/id575506874?mt=8></div>

<div class = "appinfo">https://itunes.apple.com/en/app/anomaly-warzone-earth-hd/id431607423?mt=8</div>

<script type="text/javascript" src="http://code.jquery.com/jquery-latest.pack.js"></script>

<script>
    window.onload = function injectAppInfoBlocks()
    {
        appInfoBlocks = document.getElementsByClassName('appinfo');

        if(appInfoBlocks) {
            for(var i=0; i<appInfoBlocks.length; i++) {
                currentAppId = appInfoBlocks[i].innerHTML.match(/id(\d+)/)[1];
                currentBlockId = i;

                $.ajax( "https://itunes.apple.com/lookup?id=" + currentAppId, { 
                       dataType: "jsonp",
                       success: function () {
                        name = arguments[0].results[0].trackName;
                        appInfoBlocks[currentBlockId].innerHTML=name;

                       }
                });
            }
        }

    }
</script> 
```

我也有一种感觉，我不应该使用 currentBlockID 将“i”传递给回调函数，但是......我不知道该怎么做。

提前致谢！

# python - 如何从 python 正则表达式中排除特定字符串

> ID：15803574
> 
> 赞同：4
> 
> 时间：2013-04-04T05:59:15.570
> 
> 标签：python, regex

我正在尝试解析`/etc/mtab`但排除`/boot`. 我认为也许非捕获组将是要走的路，但它并没有像我预期的那样工作。这是我构造的正则表达式：

```
proc = subprocess.Popen(["ssh", server, "cat", mtab],stdout = subprocess.PIPE)
for line in proc.stdout:
  fsMatch = re.search(r'([\w/:]+) (/([\w/:-]+)|(?:boot)) (nfs|ext3)', line)
  if fsMatch:
    print fsMatch.group(1,2,4) 
```

输出：

```
('/dev/sda1', '/boot', 'ext3')
('/dev/mapper/foo1', '/export/foo1', 'ext3')
('/dev/mapper/foo2', '/export/foo2', 'ext3')
('/dev/mapper/foo3', '/export/foo3', 'ext3')
('/dev/mapper/foo4', '/export/foo4', 'ext3')
('/dev/mapper/foo5', '/export/foo5', 'ext3')
('servernfs:/install', '/mnt', 'nfs') 
```

我非常有信心这`|`是错误的（显然更多是错误的），但遇到了障碍。

我正在寻找所有匹配项，`/[\w/:-]+`但排除匹配项`/boot`

建议？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T06:25:15.847

您需要使用负后瞻或负前瞻，[此处](http://www.codinghorror.com/blog/2005/10/excluding-matches-with-regular-expressions.html)描述并带有以下提示：

```
r'^(?!/boot).*$' 
```

如果您需要捕获“servernfs:”而不是“servernfs:/boot”，则需要添加一点“|” 和 '([az]+:)' 在顶部某处（在 '^' 之后）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T06:03:58.713

只需排除以下行：

```
for line in proc.stdout:
  if 'boot' not in line:
      # the rest 
```

但是，由于`mtab`是用空格分隔的，因此您可以使用`split`：

```
>>> with open('foo.txt') as f:
...     lines = [line.split(' ') for line in f if 'boot' not in line]
... 
```

# asp.net - Asp.net 防止 Direct url 使用

> ID：15803580
> 
> 赞同：0
> 
> 时间：2013-04-04T05:59:37.987
> 
> 标签：asp.net, url, redirect, url-routing

我正在 asp.net 中创建一个具有登录功能的应用程序。要访问当前用户信息，我将使用重定向功能传递用户电子邮件，例如

```
Session["email"] = TextBox1.Text;
Response.Redirect("home.aspx?Id=" + Session["email"]); 
```

通过这个我得到我的下一页 home.aspx?Id=example@example.com

在这个 home.aspx 页面中，我从 page_load 函数中获取值，如下所示

```
string url = HttpContext.Current.Request.Url.AbsoluteUri;
Uri myUri = new Uri(url);
keyid = HttpUtility.ParseQueryString(myUri.Query).Get("Id"); 
```

问题是当用户粘贴任何用户的直接网址时，它允许他们访问他们的帐户。是否可以将此类用户重定向到登录页面。

[从登录页面进来的用户只能访问该帐户]

我用谷歌搜索了很多，但我无法找到答案。有谁知道这个的解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:02:02.530

在下一页上只需收到这样的电子邮件：

```
string email= Session["email"] 
```

会话存储在服务器中，您不需要在 URL 中传递它。

检查是否`Session["email"]`为空/空，如果是则将它们重定向到登录/帐户页面。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:12:02.110

@abatishchev / @highwingers 指定的答案是正确的并且会起作用，除了一件事。

“会话不存储在浏览器中，而是存储在服务器上。”

尽管如此，从主页中的会话中获取电子邮件似乎是这里的方法。

# json - MVC 4 Web API - 自定义对象的 JSON 序列化

> ID：15803583
> 
> 赞同：7
> 
> 时间：2013-04-04T05:59:43.983
> 
> 标签：json, asp.net-mvc-4

我有几个对象如下：

```
public class Person
{
    string FirstName;
    string LastName;
    public Person(string fn, string ln)
    {
        FirstName = fn;
        LastName = ln;
    }
}

public class Team
{
    string TeamName;
    Person TeamLeader;
    List<Person> TeamMembers;

    public Team(string name, Person lead, List<Person> members)
    {
        TeamName = name;
        TeamLeader = lead;
        TeamMembers = members;
    }
}

public class Response
{
    int ResponseCode;
    string ResponseMessage;
    object ResponsePayload;
    public Response(int code, string message, object payload)
    {
        ResponseCode = code;
        ResponseMessage = message;
        ResponsePayload = payload;
    }
} 
```

(1) 这是带有 Get 方法的 Person 控制器：

```
public class PersonController : ApiController
{
    public Response Get()
    {
        Person tom = new Person("Tom", "Cruise");
        Response response = new Response(1, "It works!", tom);
        return response;
    }
} 
```

(2) 这是带有 Get 方法的 Team 控制器：

```
public class TeamController : ApiController
{
    public Response Get()
    {
        Person tom = new Person("Tom", "Cruise");
        Person cindy = new Person("Cindy", "Cullen");
        Person jason = new Person("Jason","Lien");
        Team awesome = new Team("Awesome", jason, new List<Person>(){tom,cindy});
        Response response = new Response(1, "It works!", awesome);
        return response;
    }
} 
```

我想要的是在用户调用 [http://www.app123.com/api/person之后](http://www.app123.com/api/person)

我收到这样的 JSON 结果：

```
{
   "ResponseCode":1,
   "ResponseMessage":"It works!",
   "ResponsePayload":
   {
     "FirstName":"Tom",
     "LastName":"Cruise"
   } 
} 
```

并致电 [http://www.app123.com/api/team](http://www.app123.com/api/team)

我收到这样的 JSON 结果：

```
{
   "ResponseCode":1,
   "ResponseMessage":"It works!",
   "ResponsePayload":
   {
     "TeamLeader":
      {
          "FirstName":"Jason",
          "LastName":"Lien"
      }
      "TeamMember":
      [
         {
            "FirstName":"Tom",
            "LastName":"Cruise"
         },
         {
             "FirstName":"Cindy",
             "LastName":"Cullen"
         }
      ]
   } 
} 
```

但他们从来没有为我工作，你知道如何使用 ASP.NET MVC 4 生成上面的 JSON 结果吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-06-13T07:35:52.967

首先，确保您使用的是 JSON 格式化程序，例如将以下代码添加到 Application_Start

```
var json = config.Formatters.JsonFormatter;
json.SerializerSettings.Formatting = Newtonsoft.Json.Formatting.Indented; 
```

其次，只需返回您的自定义对象，JSON 格式化程序将完成剩下的工作，您将在客户端获得漂亮的 JSON 数据。

```
[HttpGet]
public HttpResponseMessage GetPeopleList()
{
    var people = // create a list of person here...
    return Request.CreateResponse(HttpStatusCode.OK, people);
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-04T14:30:28.933

这个对我有用：

```
public object Get()
{
    Person tom = new Person("Tom", "Cruise");
    Person cindy = new Person("Cindy", "Cullen");
    Person jason = new Person("Jason", "Lien");
    Team awesome = new Team("Awesome", jason, new List<Person>() { tom, cindy });
    Response response = new Response(1, "It works!", awesome);
    JsonResult jsonResult = new JsonResult { 
        Data= response,
        JsonRequestBehavior = JsonRequestBehavior.AllowGet
    };
    return jsonResult.Data;
} 
```

我们还需要为**Response、Person**和**Team**类注解**[Serializable] 。**

 ***** * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-04T06:05:25.397

您需要返回 JSON。试试这个

```
public class PersonController : ApiController
{
public Response Get()
{
    Person tom = new Person("Tom", "Cruise");
    Response response = new Response(1, "It works!", tom);
     return Json(response, JsonRequestBehavior.AllowGet);
}
} 
```

并在其他控制器方法中也遵循相同的方法..****

# ios - 使用 iPhone SDK 中的其他 AppStore 应用程序发起下载请求

> ID：15803584
> 
> 赞同：0
> 
> 时间：2013-04-04T06:00:02.737
> 
> 标签：ios, objective-c, xcode, download, app-store

我基本上想打开另一个应用程序以从我的应用程序下载项目。我要打开的示例 AppStore 应用程序是 Phone Drive。场景是这样的，我`UIWebView`将从我的应用程序中加载一个，然后当用户点击下载链接时，我会`UIActionSheet`提示用户使用电话驱动器或任何其他将从中下载所述项目的应用程序`UIWebView`. _

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:05:43.033

您可以使用 URLScheme 从您的应用中打开另一个应用。看到这个[苹果文档](http://developer.apple.com/library/ios/#featuredarticles/iPhoneURLScheme_Reference/Introduction/Introduction.html#//apple_ref/doc/uid/TP40007899)和[这个链接](http://mobile.tutsplus.com/tutorials/iphone/ios-sdk-working-with-url-schemes/)来实现它。

# javascript - 在正则表达式中，这是什么--->“？！”

> ID：15803587
> 
> 赞同：0
> 
> 时间：2013-04-04T06:00:11.123
> 
> 标签：javascript, regex

我想反转正则表达式，我想匹配其中没有特殊电子邮件用户名的所有字符串。像：

```
my email is myriam@example.com and I love programming
my email is myriam@yahoo.com and I love programming
my email is myriam@google.com and I love programming
my email is myriam@gmail.com and I love programming 
```

一切都不应该匹配。

如果我想匹配它们，我使用`/myriam@.*[\.].*/`. 一个朋友告诉我，如果我想反转它，我必须使用`?!`，但我不知道如何？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:14:23.283

`(?!)`是**负前瞻**

所以你的正则表达式是

```
^(?!.*myriam@example\.com).*$ 
```

* * *

`Regex`这个问题不需要，您可以改为使用[indexOf](http://www.w3schools.com/jsref/jsref_indexof.asp)方法来检查字符串是否包含该特定电子邮件！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:03:58.150

这是负面的前瞻性。看[这里](http://www.regular-expressions.info/lookaround.html)

# php - Doctrine DBAL 对存储过程的支持

> ID：15803588
> 
> 赞同：1
> 
> 时间：2013-04-04T06:00:14.370
> 
> 标签：php, mysql, stored-procedures, doctrine

我刚刚将 Doctrine DBAL 安装到一个简单的测试 PHP 项目中，并创建了一个测试数据库并成功进行了一些查询。包括同时使用位置参数和命名参数的查询，例如：

```
echo '<br/>';
echo 'Simple SELECT WHERE Query using prepaired statements with positional paramaters:<br/>';
$Users_FirstName = 'Bill';
$sql = "SELECT * FROM users WHERE Users_FirstName = ?";
$stmt = $conn->prepare($sql);
$stmt->bindValue(1, $Users_FirstName);
$stmt->execute();
while ($row = $stmt->fetch()) {
    echo $row['Users_FirstName'].'<br/>';
}

echo '<br/>';
echo 'Simple SELECT WHERE Query using prepaired statements with named paramaters:<br/>';
$Users_FirstName = 'Bill';
$sql = "SELECT * FROM users WHERE Users_FirstName = :Users_FirstName";
$stmt = $conn->prepare($sql);
$stmt->bindValue('Users_FirstName', $Users_FirstName);
$stmt->execute();
while ($row = $stmt->fetch()) {
    echo $row['Users_FirstName'].'<br/>';
} 
```

以上所有工作都没有问题。现在我正在尝试执行一个简单的存储过程。
目标数据库是 MySQL 5.1.37。存储过程如下：

```
delimiter //
DROP PROCEDURE IF EXISTS TestProcedure//
CREATE PROCEDURE TestProcedure(INOUT TestParam VARCHAR(50)) 
BEGIN 
    SELECT CONCAT('Hi ', TestParam, '!!') INTO TestParam; 
END// 
```

我已经在 MySQL 中使用以下 SQL 代码对此进行了测试：

```
delimiter ;
SET @testParam = 'Bill';
CALL `TestProcedure`(@testParam);
SELECT @testParam; 
```

它正确地返回结果

```
'Hi Bill!!' 
```

现在我正在尝试使用 Doctrine DBAL 执行与 PHP 相同的存储过程，代码如下：

```
echo '<br/>';
echo 'Call Stored Procedure with INOUT Parm:<br/>';
$INOUTParam = 'Bill';
$sql = "CALL TestProcedure(?)";
$stmt = $conn->prepare($sql);
$stmt->bindParam(1, $INOUTParam);
$stmt->execute();
echo $INOUTParam; 
```

但是，这会返回以下错误：

使用 INOUT Parm 调用存储过程：带有消息“SQLSTATE [42000] 的异常“PDOException”：语法错误或访问冲突：例程 phptestdb.TestProcedure 的 1414 OUT 或 INOUT 参数 1 不是 BEFORE 触发器中的变量或新伪变量” [路径已删除]\Doctrine\DBAL\Statement.php:138 堆栈跟踪：#0

我到处搜索，找不到任何使用带有 INOUT 或 OUT 参数的 bindParam 调用存储过程的示例。有谁知道 Doctrine 是否支持存储过程，如果有，你怎么称呼它？在他们的网站上找不到任何示例。

问候，

斯科特。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:13:56.233

本机 SQL 是一种选择，您甚至可以使用存储过程进行数据检索。

[http://www.doctrine-project.org/blog/doctrine2-native-queries.html](http://www.doctrine-project.org/blog/doctrine2-native-queries.html)

或者您也可以在 MySQL 中使用触发器。触发器不涉及 Doctrine、symfony 或 PHP 中的任何编码。只是存储过程。为此，请查看 Doctrine 的记录侦听器或记录挂钩。

[http://docs.doctrine-project.org/projects/doctrine1/en/latest/index.html#record-listeners](http://docs.doctrine-project.org/projects/doctrine1/en/latest/index.html#record-listeners) [http://docs.doctrine-project.org/projects/doctrine1/en/latest/index.html #记录挂钩](http://docs.doctrine-project.org/projects/doctrine1/en/latest/index.html#record-hooks)

我希望它有帮助..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-30T07:11:39.007

好的，发现导致错误的根本问题是由 MySQL 中的错误引起的。

请参阅此处：[存储过程、MySQL 和 PHP](https://stackoverflow.com/questions/118506/stored-procedures-mysql-and-php/4502524#4502524)

这里有一个链接：http: [//bugs.mysql.com/bug.php ?id=11638](http://bugs.mysql.com/bug.php?id=11638)

据我所知，它是在 2005 年确定的，并且从未修复到 MySQL 5.6.10，因为这是我测试的最后一个版本。

希望这对其他人有帮助;-)

# android - Soap Setter 吸气剂 android

> ID：15803593
> 
> 赞同：0
> 
> 时间：2013-04-04T06:00:28.157
> 
> 标签：android

我使用 jsoup 成功地从 xml 内容中提取标签作为一个元素。

```
 class Post {

    private String a;
    private String b;

    public void setA (String a){
           this.a = a;

    }

    public void setB(String b){
           this.b =b;

    }

    public String getA(){

    return a;
    }

    public String getB(){

    return b;
    }

   } 
```

通过使用数组列表

```
public ArrayList<Post> PostList = new ArrayList<Post>(); 
```

那么如何使用 jsoup 将 ab 的值存储在不同的索引下。我提取单个标签

```
Document doc = Jsoup.parse(soap_xml_content);

Element element1 = doc.select("a");
Element element2 = doc.select("b");
Element compte = doc.select("comptes");

String value_a = element1.text();
String value_b = element2.text();

Post currentPost = new Post(); 
```

对于每个`compte`我想在 Post 类中设置元素 a 和 b 并使用方法 get 访问它。

```
for( Element element : compte ){

                System.out.println(": "+element);
                currentPost.setA(element);
                            currentPost.setB(element);
                            Poslist.add(currentPost);
                            currentPost = new Post();
            } 
```

我知道错了，但我不知道如何执行此步骤，请帮忙。

* * *

**xml:**

```
<soap:Envelope xmlns:soap="schemas.xmlsoap.org/soap/envelope/"> 
    <soap:Body> 
        <liste> 
            <comptes> 
                <a>pen drive</a> 
                <b>jsoup</b> 
            </comptes> 
            <comptes> 
                <a>pen drive</a> 
                <b>jsoup</b> 
            </comptes> 
            <comptes> 
                <a>pen drive</a> 
                <b>jsoup</b> 
            </comptes> 
        </liste> 
    </soap:Body> 
</soap:Envelope>

04-04 10:39:25.535: E/AndroidRuntime(2532): FATAL EXCEPTION: AsyncTask #1
04-04 10:39:25.535: E/AndroidRuntime(2532): java.lang.RuntimeException: An error occured while executing doInBackground()
04-04 10:39:25.535: E/AndroidRuntime(2532):     at android.os.AsyncTask$3.done(AsyncTask.java:200)
04-04 10:39:25.535: E/AndroidRuntime(2532):     at java.util.concurrent.FutureTask$Sync.innerSetException(FutureTask.java:274)
04-04 10:39:25.535: E/AndroidRuntime(2532):     at java.util.concurrent.FutureTask.setException(FutureTask.java:125)
04-04 10:39:25.535: E/AndroidRuntime(2532):     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:308)
04-04 10:39:25.535: E/AndroidRuntime(2532):     at java.util.concurrent.FutureTask.run(FutureTask.java:138)
04-04 10:39:25.535: E/AndroidRuntime(2532):     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1088)
04-04 10:39:25.535: E/AndroidRuntime(2532):     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:581)
04-04 10:39:25.535: E/AndroidRuntime(2532):     at java.lang.Thread.run(Thread.java:1019)
04-04 10:39:25.535: E/AndroidRuntime(2532): Caused by: java.lang.NullPointerException: null format argument
04-04 10:39:25.535: E/AndroidRuntime(2532):     at java.lang.String.format(String.java:2173)
04-04 10:39:25.535: E/AndroidRuntime(2532):     at java.lang.String.format(String.java:2151)
04-04 10:39:25.535: E/AndroidRuntime(2532):     at .Convertor$loadingTask.doInBackground(Convertor.java:201)
04-04 10:39:25.535: E/AndroidRuntime(2532):     at .Convertor$loadingTask.doInBackground(Convertor.java:1)
04-04 10:39:25.535: E/AndroidRuntime(2532):     at android.os.AsyncTask$2.call(AsyncTask.java:185)
04-04 10:39:25.535: E/AndroidRuntime(2532):     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:306)
04-04 10:39:25.535: E/AndroidRuntime(2532):     ... 4 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:05:34.087

在您的 Post 类中创建一个构造函数 public Post(A,B)

```
public Post(String a, String b){
 this.a =a;
 this.b =b;

} 
```

和：

```
for( Element element : compte ){

    System.out.println(": "+element);

    Poslist.add(new Post(ElementA,ElementB));

} 
```

您不会在上述解决方案中使用 Setters。您只是在 Post 类型的 ArrayList 中添加类对象。要使用 get 方法，您将这样做。

```
String A = Poslist.get(YOUR_POSTION).getA();
String B = Poslist.get(YOUR_POSTION).getB(); 
```

# c# - 如何通过标签或名称引用菜单项

> ID：15803594
> 
> 赞同：0
> 
> 时间：2013-04-04T06:00:34.787
> 
> 标签：c#, toolstripmenu

我正在研究访问控制列表，其中我必须根据分配的角色显示/隐藏菜单项。我已经通过 TAG 参考了每个菜单项。现在我有一个存储所有标签名称的数组。

是否有可能我只是循环通过标记名称数组并仅通过标记或名称引用菜单项控件而不循环通过所有 menuStrip 项并比较当前控件并使其可见？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:47:26.713

我不完全了解您要实现的目标，但也许这段代码对您有所帮助：

```
 private void button1_Click(object sender, EventArgs e) {
        var menus = new string[] { "Every", "menu", "you", "want", "to", "show" };
        foreach (var mnu in this.GetType().GetFields(
            BindingFlags.Instance | 
            BindingFlags.NonPublic | 
            BindingFlags.GetField)) {
            var member = mnu.GetValue(this) as MenuStrip;
            if (null != member) {
                member.Visible = (menus.Contains(member.Tag.ToString()));
            }
        }
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:44:16.667

我想我现在理解得更好了。以下代码变为`ToolStripMenuItem`可见（或更改为您的对象的任何类型）。我使用名称，因为要使用标签，您必须枚举所有对象。

```
 private void ShowItem(string menuItemName) {
        var field = this.GetType().GetField(
            menuItemName, 
            BindingFlags.Instance |
            BindingFlags.NonPublic |
            BindingFlags.GetField);
        var mnu = field.GetValue(this) as ToolStripMenuItem;
        if (null != mnu) {
            mnu.Visible = true;
        }
    } 
```

注意`this`必须是包含菜单的Form。

# lambda-calculus - Lambda 演算的 Beta 化简

> ID：15803601
> 
> 赞同：1
> 
> 时间：2013-04-04T06:01:04.207
> 
> 标签：lambda-calculus

我知道这可能真的很简单，但我在弄清楚如何减少这种情况时遇到了问题。以下是我的等式。

```
(λx λy . y x) z 
```

我只需要知道从哪里开始，因为我完全迷失了。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-06-20T10:14:20.613

那个 lambda 表达式在语法上不正确，我认为你的意思是这样写：

```
(λx.λy.y x) z 
```

或者

```
(λxy.y x) z 
```

这很重要，因为有效的 lambda 表达式是 λx.M 而不是 λx M 的形式，或者使用语法糖你可以写 λxy.M 但不能写 λxλy.M 并且这个 (λx.λy.yx) 令人困惑，因为它看起来像一个应用程序。

我会同时减少`(λx.λy.y x) z`和`(λx.λy.yx) z`

1) `(λx.λy.y x) z`
2)`(λx.λy.y x)`通过将 x 应用到 来减少`λx.λy.y`，因此`(λx.λy.y x) z`减少到`λy.y z` 3)`λy.y z`通过将 z 应用到 来减少`λy.y z`，结果将是 z。

如果你的意思是`(λx.λy.yx)`z

1) `(λx.λy.yx) z` 2) `λx.(λy.yx) z` 3) 将 z 应用于第一个抽象：`λy.yz` 4) 减少结果的其他方法是：`λy.yz`

我建议您查看 lambda-calculus 定义并了解应用程序、抽象和变量之间的区别。

另外在早期最好使用 () 并且总是以扩展的方式编写 lambda 表达式，这样你就会少犯错误。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-18T17:02:46.857

您的 lambda 表达式可以采用两个输入参数，但只有一个输入 z。因此，这导致部分应用。

在您的情况下，这意味着参数 x 的值是 z。因此，该表达式中所有出现的 x 都将替换为 z。但是，参数 y 没有被赋予任何值，因为没有任何输入，所以参数 y 保持绑定。

正如 fsvieira 所说，λy.yz 是正确的答案。

# javascript - html/javascript：常规 html 中的模板选项

> ID：15803602
> 
> 赞同：0
> 
> 时间：2013-04-04T06:01:11.443
> 
> 标签：javascript, html, frontend, templating, client-side-templating

将项目从 django 转换为烧瓶 API 后端 + 主干.js 前端

能够`{% include %}`在 HTML 中执行选项以使其更加模块化，这很好，即我能够分离出离散的 navbar.html、base.html 等。

如果我只是在 HTML / JS 中构建前端，是否有一种简单的方法可以在没有 Web 框架的情况下重新创建相同的结构？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T06:04:59.630

有很多选择，尝试搜索。我通常搭配[Mustache](http://mustache.github.com/)或[Handlebars](http://handlebarsjs.com/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T06:27:49.157

如果您正在寻找非常轻量级的东西，您可以试试这个[https://github.com/psychobunny/dcp.templates](https://github.com/psychobunny/dcp.templates)

它模仿了 Smarty / phpBB 等 PHP 模板引擎，但没有太多复杂性……非常适合抽象模板文件。

否则就像约瑟夫说的那样，把手是要走的路！

# php - Mysql/Codeigniter - 加密/解密用户数据安全 - 最佳实践

> ID：15803603
> 
> 赞同：2
> 
> 时间：2013-04-04T06:01:17.690
> 
> 标签：php, mysql, codeigniter, encryption

我正在建立一个私人网站，每个用户都有私人数据。我想为他们的内容提供良好的安全性。为此，我计划：

- 在站点范围内使用 SSL（站点不大，所以我想我会在站点范围内使用 ssl） - 我正在`crypt()`使用我的 codeigniter 配置加密密钥对用户密码进行哈希处理。

我想让用户能够选择他们的部分或全部私人帖子在数据库中进行加密。

我想让他们指定一个私钥，我将用它来加密帖子正文，然后将其插入数据库字段。我希望他们负责他们在哪里使用哪个密钥。他们可以使用一把钥匙，也可以选择使用不同的钥匙。

*   关于帖子表列是否有任何特殊考虑？现在该字段创建为`mediumtext utf8_unicode_ci`.

*   假设一个强大的 provacy 协议将配合 SSL 的使用，我还能做些什么来让我的用户感觉到他们的数据尽可能安全？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T09:15:53.130

db 字段没问题。

您可以使用`unique encryption key for each user,`这样 db 中的数据将由该密钥加密，该密钥是`long unique hash`

那么你可以使用 2 个独立的数据库（不是表）

1`db for users encryption keys`

1`db for users data encrypted by keys`

然后我与您分享我的`encrypt/decrypt library`哪些用途`AES`，这是我发现的最好的：

```
<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');
/**
 * Crypto encrypt/decrypt Class it uses AES by $secret_key
 *
 * @access    public
 * @param     array/value
 * @return    array/value
 */
class Crypto(){

    function encrypt($data,$secret_key){
        $array = array();

        if(is_array($data)){
            foreach($data as $key=>$value){
                 $array[$key] = trim(
            base64_encode(
                mcrypt_encrypt(
                    MCRYPT_RIJNDAEL_256,
                    $secret_key, $value, 
                    MCRYPT_MODE_ECB, 
                    mcrypt_create_iv(
                        mcrypt_get_iv_size(
                            MCRYPT_RIJNDAEL_256, 
                            MCRYPT_MODE_ECB
                            ), 
                        MCRYPT_RAND)
                    )
                )
            );
            }
            return $array;

        }else{

           return trim(
            base64_encode(
                mcrypt_encrypt(
                    MCRYPT_RIJNDAEL_256,
                    $secret_key, $data, 
                    MCRYPT_MODE_ECB, 
                    mcrypt_create_iv(
                        mcrypt_get_iv_size(
                            MCRYPT_RIJNDAEL_256, 
                            MCRYPT_MODE_ECB
                            ), 
                        MCRYPT_RAND)
                    )
                )
            );
       }
   }

   function decrypt($data,$secret_key)
   {
    $array = array();

        if(is_array($data)){
            foreach($data as $key=>$value){
                 $array[$key] = trim(
            mcrypt_decrypt(
                MCRYPT_RIJNDAEL_256, 
                $secret_key, 
                base64_decode($value), 
                MCRYPT_MODE_ECB,
                mcrypt_create_iv(
                    mcrypt_get_iv_size(
                        MCRYPT_RIJNDAEL_256,
                        MCRYPT_MODE_ECB
                        ), 
                    MCRYPT_RAND
                    )
                )
            );
            }
            return $array;
        }else{
        return trim(
            mcrypt_decrypt(
                MCRYPT_RIJNDAEL_256, 
                $sSecretKey, 
                base64_decode($sValue), 
                MCRYPT_MODE_ECB,
                mcrypt_create_iv(
                    mcrypt_get_iv_size(
                        MCRYPT_RIJNDAEL_256,
                        MCRYPT_MODE_ECB
                        ), 
                    MCRYPT_RAND
                    )
                )
            );
    }
}

}
//end class Crypto 
```

***注意：*** `$secret_key`是用户密钥，`$data`是您要加密或解密的数据

# css - 不褪色的分隔线背景颜色的不透明度

> ID：15803605
> 
> 赞同：0
> 
> 时间：2013-04-04T06:01:26.943
> 
> 标签：css, background, opacity, background-color, divider

有没有办法让分隔线的背景图像改变它的不透明度而不影响文本？我正在开发的网站是[ubertechnews.com](http://ubertechnews.com)，用于首页上的类别背景。很烦人。

具体代码如下所示：

```
.recent-cat .entry.orange h3 {
background: #e8af00;
width: 207px;
text-shadow: 1px 1px 1px #c19100;
opacity: .6; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:09:03.510

我不确定您是否在谈论您的 css 中的背景图像或背景颜色，但如果它是 css3 浏览器（不是 internet explorer 8 及以下版本），您可以执行 rgba()。

```
 .recent-cat .entry.orange h3 {
 background: rgba(232,175,0,0.6);
 width: 207px;
 text-shadow: 1px 1px 1px #c19100;
 } 
```

# c# - 哪种是批量插入 Oracle 数据库的最有效方法？

> ID：15803609
> 
> 赞同：2
> 
> 时间：2013-04-04T06:01:48.123
> 
> 标签：c#, performance, oracle, bulkinsert, odp.net

作为办公室需求的一部分，我需要编写一个 C# 控制台应用程序，该应用程序从 Oracle CRM ON Demand 服务器中提取大量数据并将其推送到本地 Oracle 数据库。

现在，经过大量研究，我决定使用 ODP.NET 的数组绑定功能，据我所知，它可以提供最佳性能。

但问题是，我需要提取的数据每条记录/行总共有 50 多个字段/列。所以我需要创建那么多字符串数组？

我可以使用具有 50 多列的数据表而不是字符串数组来实现相同的（数组绑定）吗？如果是这样，怎么做？（我已经对此进行了足够的研究，但找不到解决方案）我知道我可以使用 OracleBulkCopy 类，但从我在这里读到的内容来看，它效率不高，与数组绑定相比性能很差。

另外，如果我使用这么多数组，我的应用程序仍然有效吗？因为当我与同事讨论此选项时，他们声称在您的应用程序中拥有如此多的数组并不是一个好的设计。

在过去的几天里，上述问题一直困扰着我，谁能帮我找到解决问题的最佳方法？我需要尽快解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T09:51:43.853

> 但问题是，我需要提取的数据每条记录/行总共有 50 多个字段/列。所以我需要创建那么多字符串数组？

不幸的是，是的。我有完全相同的问题，我没有找到比你建议的更好的解决方案。仅当您要使用经典 ADO.NET 时，才可以选择 DataTable。

不要担心性能问题：我的应用程序使用 Array Binding 每天插入 2000 万行，而且我没有性能或内存问题。但我同意你的同事，代码并不漂亮。

# java - SqlServer 异常遇到“VARCHAR”

> ID：15803613
> 
> 赞同：0
> 
> 时间：2013-04-04T06:02:00.390
> 
> 标签：java, sql, sql-server, sqlexception

我收到了不允许我创建表的错误。它说存在语法错误。

代码：

```
@Override
public void create() throws SQLException {
    String sqlString = String
            .format("create table %s(%s VARCHAR(20), %s VARCHAR(20), %s VARCHAR(50), %s VARCHAR(20), %s VARCHAR(5), %s VARCHAR(10), %s VARCHAR(20), %s VARCHAR(20), primary key (%s) )",
                    _tableName, ID, DESCRIPTION, STREET, CITY, PROVINCE, POSTALCODE, STOREPHONE, AUTOSERVICEPHONE, ID);
    super.create(sqlString);
} 
```

例外

```
Exception in thread "main" java.sql.SQLSyntaxErrorException: Syntax error: Encountered "VARCHAR" at line 1, column 133.
... 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:11:16.610

一个有根据的猜测，但如果你的变量几乎肯定是空白的，或者包含一个空白。

通常我会对此发表评论，但这是我能想到的唯一可能的原因。

打印出 SQL 字符串以确保。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:17:18.230

尝试转义您的列名，以防您的某些列名是 SQL 中的保留字。

```
 @Override
public void create() throws SQLException {
    String sqlString = String
            .format("create table [%s] ([%s] VARCHAR(20), [%s] VARCHAR(20)...... 
```

# css - 同一样式表中不同分辨率的响应式设计

> ID：15803619
> 
> 赞同：1
> 
> 时间：2013-04-04T06:02:54.300
> 
> 标签：css, responsive-design

我正在尝试使用 Stylish Chrome 扩展程序和一些媒体查询魔法为我最喜欢的视频网站之一创建一个小补丁：

```
@media screen (min-width: 1920px, max-width: 2559px) {
    div#player div#player-api {
        width: 1280px;
        height: 720px;
    }
}

@media screen (min-width: 2560px) {
    div#player div#player-api {
        width: 1920px;
        height: 1080px;
    }
} 
```

不幸的是，我似乎总是*同时满足这两个*条件，就好像根本不需要媒体查询一样。以上是有效的CSS吗？我是否有基于浏览器大小使用 CSS 动态缩放元素的正确想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T19:06:49.967

你只是错过了一些小东西。

```
@media screen and (min-width: 1920px)and (max-width: 2559px) {
    div#player div#player-api {
        width: 1280px;
        height: 720px;
    }
}

@media screen and (min-width: 2560px) {
    div#player div#player-api {
        width: 1920px;
        height: 1080px;
    }
} 
```

我建议你写一篇关于[Mediaqueries的](http://webdesignerwall.com/tutorials/css3-media-queries)[好博客](http://webdesignerwall.com/tutorials/css3-media-queries)以 供进一步阅读。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:12:33.347

尝试`@media screen and (min-width: 1920px) and (max-width: 2559px)`

# php - 无法使用基本授权和 cURL 登录服务器。（用户/通行证+证书）

> ID：15803621
> 
> 赞同：2
> 
> 时间：2013-04-04T06:03:01.830
> 
> 标签：php, web-services, curl, authorization

我正在尝试从我自己的应用程序访问服务器及其数据。要登录，我需要用户名和密码以及我拥有的证书。我的问题是我显然发送此信息是错误的，因为我一直收到 401。我应该能够在此页面上，在登录后从该服务器获取一些 HAL+JSON 数据。它从前一页发布了一个字段，并应将其提交给服务器以获取数据。

这是我的代码：

```
$username = 'foo';
$password = 'bar';
$auth_token = $username . '-' . $password;

$url = 'https://data.service.com'.$_POST['url'].'?callback=?';
$ch = curl_init($url); 
/* Upon receiving the right certificate 
*  I should have a cookie with this information. 
*/
$data_string = array('cert_url' => 'https://data.service.com/cert/2364o872ogfglsgw8ogiblsjy');    
/* That hash at the end corresponds to the Public Key ID 
*  in the certificate. No idea how to retrieve this, 
*  or if I need to do it to login
*/
curl_setopt($ch, CURLOPT_HTTPAUTH, CURLAUTH_BASIC);      
curl_setopt($ch, CURLOPT_USERPWD, "$username:$password");
curl_setopt($ch, CURLOPT_HEADER, true);     
curl_setopt($ch, CURLOPT_HTTPHEADER, array(   
      'Accept: application/javascript',
      'Access-Control-Allow-Origin: *',                                                                       
      'Content-Type: application/javascript',
      "Authorization: Basic " . base64_encode($username.":".$password)
   ));  
curl_setopt($ch, CURLOPT_RETURNTRANSFER, false);  
curl_setopt($ch, CURLOPT_FAILONERROR, true);  
curl_setopt($ch, CURLOPT_UNRESTRICTED_AUTH, true);    
curl_setopt($ch, CURLOPT_VERBOSE, true);                                                                                                            
$result = curl_exec($ch);  
if(curl_exec($ch) === false){
      echo 'Curl error: ' . curl_error($ch);
      print_r(error_get_last());
} else {
      echo 'Operation completed without any errors';
curl_close($ch);
$response = json_decode($result, true); ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:47:41.997

看看[http://www.php.net/manual/ru/function.curl-setopt.php#98164](http://www.php.net/manual/ru/function.curl-setopt.php#98164)

尽量不要使用

```
"Authorization: Basic " . base64_encode($username.":".$password) 
```

或者让 curl 选择一种身份验证方法，试试

```
curl_setopt($ch, CURLOPT_HTTPAUTH, CURLAUTH_ANY); 
```

对于 curl 不喜欢远程服务器上的 ssl 证书的情况，请尝试以下操作：

```
curl_setopt( $ch , CURLOPT_SSL_VERIFYPEER , false ); 
curl_setopt( $ch , CURLOPT_SSL_VERIFYHOST , false ); 
```

PS你确定 CURLOPT_RETURNTRANSFER 在你的情况下应该是假的吗？

# grails - grails 2.2.1 不重新加载类

> ID：15803623
> 
> 赞同：0
> 
> 时间：2013-04-04T06:03:10.233
> 
> 标签：grails, intellij-idea, grails-2.0

我似乎无法让任何 grails 项目在开发模式下重新加载任何类。在 Windows7 上运行 2.2.1，使用 IntelliJ 11.1.4 和 12.1

有任何想法吗？ ![在此处输入图像描述](https://i.stack.imgur.com/B5Vjx.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:17:22.653

我在 IntelliJ 12.02 和 Grails 2.1.3 中遇到了同样的问题。我发现的修复已写在这篇文章中。

[http://youtrack.jetbrains.com/issue/IDEA-98131](http://youtrack.jetbrains.com/issue/IDEA-98131)

新版本的 IntelliJ 也解决了我的自动重载问题。

# android - Android Intent.createChooser 不适用于 Intent.ACTION_SEND

> ID：15803625
> 
> 赞同：4
> 
> 时间：2013-04-04T06:03:20.713
> 
> 标签：android, android-intent

我有一个 android 应用程序，我`ListView`通过自定义将办公地点加载到`Adapter`.

在每个里面`ListViewItem`我有一个`ImageView`which 是一个电子邮件图标，并且我已经绑定了一个自定义`OnClickListener`，`ImageView`它应该允许用户创建一封电子邮件以发送到办公室位置。

我希望用户能够从他们设备上的电子邮件应用程序中进行选择，所以我`Intent.CreateChooser()`在我的自定义中使用`OnClickListener`如下：

```
 private class EmailOnClickListener implements OnClickListener {
        private Context context;
        private String email;

        public EmailOnClickListener(Context context, String email) {
            this.context = context;
            this.email = email;
        }

        @Override
        public void onClick(View v) {
            Intent intent = new Intent(Intent.ACTION_SEND);
            intent.setType("message/rfc822");
            intent.putExtra(android.content.Intent.EXTRA_EMAIL, new String[] {email});
            intent.putExtra(android.content.Intent.EXTRA_SUBJECT, "Test Subject");

            context.startActivity(Intent.createChooser(intent, "Send mail..."));
        }
    } 
```

我一直`OnClickListener`通过我的自定义绑定我的自定义`Adapter`，如下所示：

```
 ImageView email = (ImageView) v.findViewById(R.id.btnEmail);
    email.setOnClickListener(new EmailOnClickListener(context, contact.getEmail())); 
```

我目前正在 Android 2.3 的 HTC Desire HD 上对此进行测试，即使我的设备上有 Gmail 和默认邮件，当我点击电子邮件图标时，它并没有显示选择器，而是直接加载到 Gmail .

为什么选择器不显示？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T06:38:54.090

我从这个问题中找到了答案（寻找 doreamon 的答案）[发送电子邮件意图](https://stackoverflow.com/questions/8701634/send-email-intent)

为了快速参考，我已将`onClick`方法中的代码更改为以下内容：

```
Intent intent = new Intent(Intent.ACTION_SENDTO, Uri.fromParts("mailto", email, null));
intent.putExtra(android.content.Intent.EXTRA_SUBJECT, "Test Subject");

context.startActivity(Intent.createChooser(intent, "Send mail...")); 
```

# php - PHP 模板模式 UI 和内容解耦

> ID：15803629
> 
> 赞同：0
> 
> 时间：2013-04-04T06:03:31.727
> 
> 标签：php, templates, design-patterns, user-interface

尊重地，

我正在寻找一种方法来在 PHP 中组织我的 HTML 标记，以便在提供主要静态内容的网站中使用（阅读：对于 .edu 网站）。（虽然这是这个问题的主旨，但我肯定也对非静态案例感兴趣，因为我可能很快“需要”处理会话和用户登录事件等）

我经常看到用于 PHP（以及 Coldfusion、.NET 等其他语言）的模式如下：

```
// define header stub in header.php
<!DOCTYPE html>
<html>
    <body>
        <div id="headerWrapper">
            <!-- header content goes here -->
        </div>
        <div id="contentWrapper">
// end header stub

// define footer stub in footer.php
        </div><!-- end contentWrapper -->
        <div id="footer">
            <!-- footer content goes here -->
        </div>
    </body>
</html>
// end footer stub 
```

要使用这种模式，我会这样定义一个内容文件：

```
// define content stub in contentFile.php
<?php include("header.php") ?>
            <p>hello world</p>
            <!-- other content goes here -->
<?php include("footer.php") ?>
// end content stub 
```

我正在寻找更多。我在上面的例子中遇到的问题是一般模式所需的耦合级别。也就是说，例如 header.php 和 footer.php 之间存在一些重要的依赖关系（即页面结构、悬空的 contentWrapper div 标签，以及在较低级别上，不可避免的 css 和 js 包含并非每个页面都需要） . 我正在寻找专门的封装。我理想的内容页面应该是这样的：

```
 // ideal.php
    <?php
        $someObj.pageTitle="My First Page!!!";
        $someObj.headInclude("/css/960.css");
        $someObj.headInclude("/js/myFancyThing.js");
        $someObj.preferedTemplate = "default"; /* or maybe "MathDept" or something like that */
    ?>
    <!-- page content goes here, just semantic and structural markup, let the 
template handle H1 and Paragraph formatting :) -->
    // end ideal stub 
```

最后一种模式是我非常希望看到的。在我看来，对于内容与演示的分离来说，这是一个更优雅的解决方案。我不知道如何在 PHP 中表达这一点，但我怀疑这是可行的。非常感激任何的帮助！谢谢！！！:)

/* 我希望我所问的内容具有适当的范围和标题。否则请原谅我；我对 Stack Exchange、PHP 和几乎所有东西还是有点陌生​​，哈哈 */

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T12:06:04.897

有了这种（优秀的）思维和方法，您很快就会发现自己重新发明了 MVC 设计模式。我强烈建议您查看 Zend 框架的表示层方法。他们使用两步设计（布局+视图）。这是该模式的一个简单示例：

控制器：

```
public function someAction()
{
    // Add the CSS files.
    $this->view->headLink()
        ->appendStylesheet($this->view->baseUrl() . '/css/site.css')
        ->appendStylesheet($this->view->baseUrl() . '/css/ie6.css', 'screen', 'IE 6')
        ->appendStylesheet($this->view->baseUrl() . '/js/jquery/plugins/ui/css/ui-lightness/jquery-ui-1.8.18.custom.css', 'screen')

    // Add the JavaScript files.
    $this->view->headScript()
        ->appendFile($this->view->baseUrl() . '/js/jquery/jquery-1.9.1.min.js')
        ->appendFile($this->view->baseUrl() . '/js/jquery/plugins/ui/jquery-ui-1.8.17.custom.min.js')
        ->appendFile($this->view->baseUrl() . '/js/modernizr.js');

    // Add the meta tags.
    $this->view->headMeta()
        ->appendHttpEquiv('X-UA-Compatible', 'IE=edge')
        ->appendName('description', '...')
        ->appendName('keywords', '...');

    // Render the View.
    $this->view->render();
} 
```

布局：

```
<?php
$this->headMeta()->appendHttpEquiv('Content-Type', 'text/html;charset=utf-8');
echo $this->doctype(); ?>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <?php echo $this->headMeta(); ?>
    <?php echo $this->headTitle(); ?>
    <?php echo $this->headLink();?>
    <?php echo $this->headScript();?>
</head>
<body>

    <div id="wrapper">

        <?php echo $this->partial('partials/header.phtml');?>

        <?php echo $this->layout()->content;?>

        <?php echo $this->partial('partials/footer.phtml');?>

    </div>

</body>
</html> 
```

看法：

```
<h1>This View script is rendered by the View and will get injected into the layout.</h1>
<div>Page specific markup goes in this file</div> 
```

如果您决定走这条路，请在自己编写框架代码之前三思而后行。

链接： http: [//framework.zend.com/manual/2.0/en/modules/zend.view.quick-start.html](http://framework.zend.com/manual/2.0/en/modules/zend.view.quick-start.html)

# ios - 为不同的语言设置 info.plist 文件

> ID：15803630
> 
> 赞同：1
> 
> 时间：2013-04-04T06:03:32.080
> 
> 标签：ios

我希望我的应用程序适用于英语和法语。有没有办法为不同的语言设置 info.plist 文件？我的意思是设置目标项目'Info.plist File'的方式

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:42:36.817

我认为您需要本地化文件。有关本地化 iOS 应用程序的详细信息，请查看本[教程](http://www.raywenderlich.com/2876/how-to-localize-an-iphone-app-tutorial)

# android - 按下下一行键时如何添加特殊字符？

> ID：15803631
> 
> 赞同：1
> 
> 时间：2013-04-04T06:03:33.257
> 
> 标签：android, keyboard

我想在 android mobile 中按下下一行按钮（键）时添加一个特殊字符。

请帮我处理 Android 2.2 键盘。

我正在尝试使用此代码，但它不支持我...

```
etDetail.addKeyPressHandler(new KeyDownHandler() {
        public void onKeyPress(KeyPressEvent event) {
              int charCode = event.getUnicodeCharCode();
              if (charCode == 0) {
                // it's probably Firefox
                int keyCode = event.getNativeEvent().getKeyCode();
                // beware! keyCode=40 means "down arrow", while charCode=40 means '('
                // always check the keyCode against a list of "known to be buggy" codes!
                if (keyCode == KeyCodes.KEY_ENTER) {
                  doOnEnterKeyPressed();
                }
              } else if (charCode == 13) {
                doOnEnterKeyPressed();
              }  
            }
        }); 
```

添加了哪些包来完成这项任务或给出一些想法

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:39:14.840

请试试这个。我希望这个代码片段对你有帮助

```
editText.setOnKeyListener(new OnKeyListener() {

        public boolean onKey(View v, int keyCode, KeyEvent event) {

            if (keyCode == KeyEvent.KEYCODE_ENTER && event.getAction() == KeyEvent.ACTION_DOWN) {

                doOnEnterKeyPressed();

            }

            return true;
        }
    }); 
```

# asp.net - 网格视图中的数组

> ID：15803632
> 
> 赞同：2
> 
> 时间：2013-04-04T06:03:38.190
> 
> 标签：asp.net

我有一个字符串数组 data[]。我需要将此字符串数组绑定为 gridview 中的数据源。我在数据数组中有值。我写了代码 gridview_forecast.DataSource = data; gridview_forecast.DataBind(); 我收到一个**错误**，因为“在容器中找不到数据项。容器必须实现 IDataItemContainer，或者具有名为 DataItem 的属性。”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:35:42.320

您不能直接将数组分配给`GridView DataSource`when`GridView.AutoGenerateColumns`为 False。一种方法是将您的数组转换为`ArrayList`or `DataTable`，然后将其分配给`GridView DataSource`.

示例[请点击这里](http://www.aspsnippets.com/articles/binding-arrays-to-gridview-in-asp.net.aspx)

# iphone - 支持 AutoLayout 和传统布局

> ID：15803637
> 
> 赞同：1
> 
> 时间：2013-04-04T06:03:49.203
> 
> 标签：iphone, ios, uibutton, autolayout, autoresizingmask

我有一个 UIButton 的自定义子类，我想在多个项目中重复使用它，其中一些使用界面构建器和情节提要，而其中一些可能不使用。它涉及在几个地方设置按钮的框架。

如果我添加

```
 self.translatesAutoresizingMaskIntoConstraints = YES; 
```

在初始化中，一切看起来和工作正常，但是，我得到：

```
Unable to simultaneously satisfy constraints.
Probably at least one of the constraints in the following list is one you don't want. Try this: (1) look at each constraint and try to figure out which you don't expect; (2) find the code that added the unwanted constraint or constraints and fix it. (Note: If you're seeing NSAutoresizingMaskLayoutConstraints that you don't understand, refer to the documentation for the UIView property translatesAutoresizingMaskIntoConstraints) 
Will attempt to recover by breaking constraint…etc 
```

登录到控制台。但是，如果我设置

```
 self.translatesAutoresizingMaskIntoConstraints = NO; 
```

按钮大小都不起作用，按钮完全坏了。

**有没有办法可以抑制错误，因为它似乎降级为正确的东西，或者我可以以某种方式手动删除有问题的约束？**

我尝试在按钮初始化后转储约束，但是，它似乎不包含约束 AutoLayout 最终会破坏。

已编辑：以下是示例项目的链接，然后是我的按钮代码。在情节提要中关闭自动布局时效果很好，但是，当打开自动布局时，按钮似乎位于原点（似乎是因为调用 initWithCoder 时，按钮没有超级视图或任何位置信息）。

[http://www.kudit.com/dump/KFB.zip](http://www.kudit.com/dump/KFB.zip)

[http://www.kudit.com/dump/KuditConfirmButton.zip](http://www.kudit.com/dump/KuditConfirmButton.zip)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T19:30:04.307

您的猜测是正确的，因为当从情节提要（使用 initWithCoder:) 初始化按钮时，框架为零 - 对于使用自动布局的视图，这是预期的 - 直到稍后才会分配框架。

通过创建一个名为 hasSetup 的布尔 ivar，我的示例项目主要在自动布局下工作，它在 setup 方法中设置为 YES。如果帧为零，则设置方法不会运行。我也从 再次调用它`layoutSubviews`。这解决了故事板问题中使用自动布局时不工作的问题。

但是，各个层的大小仍然不正确。您可能需要考虑从 layoutSubviews 调整它们的大小。

您也不能`setFrame`在自动布局下使用 - 您需要确保调整视图上的任何约束（例如情节提要中的大小约束）。处理这两种可能性会变得非常混乱。

不过它们看起来确实不错——希望在您整理完这些问题后在 GitHub 上看到它们。

# servlet-filters - 更改 URL 映射 -Javamelody

> ID：15803638
> 
> 赞同：3
> 
> 时间：2013-04-04T06:03:55.013
> 
> 标签：servlet-filters, java-melody

我在我的应用程序中使用**Javamelody**。我只需要 root 用户来访问统计信息。Javamelody 默认可以访问

```
http://localhost/webapp/monitoring 
```

我需要将其更改为

```
http://localhost/webapp/monitor/monitoring 
```

我已经完成了以下过滤器映射

```
<filter>
    <filter-name>monitoring</filter-name>
    <filter-class>net.bull.javamelody.MonitoringFilter</filter-class>
</filter>
<filter-mapping>
    <filter-name>monitoring</filter-name>
    <url-pattern>/*</url-pattern>
</filter-mapping>
<listener>
    <listener-class>net.bull.javamelody.SessionListener</listener-class>
</listener> 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-07-11T02:22:43.083

```
<filter>
        <filter-name>monitoring</filter-name>
        <filter-class>net.bull.javamelody.MonitoringFilter</filter-class>
        <init-param>
                <param-name>monitoring-path</param-name>
                <param-value>/admin/monitoring</param-value>
        </init-param>
</filter> 
```

# php - Jquery 脚本未在 while 循环中运行

> ID：15803641
> 
> 赞同：-5
> 
> 时间：2013-04-04T06:04:01.847
> 
> 标签：php, jquery

我正在尝试使用jquery在while循环中单击查看按钮时显示div详细信息，但它只显示第一条记录而不显示其余记录，谁能告诉我解决这个问题..

这是示例代码：

```
 <html>
<head>
<script src="js/jquery-1.8.3.min.js"></script>
<script type="text/javascript">
$(function(){ 
    $('#view').click(function() {
    var user=$('#user').text();
      alert(user);
    }); 
  });
</script>
<style type="text/css">
#content div{display:inline-block;}
</style>
</head>
<body>
<?php
$i=0;
while($i<5)
{
?>
<div id="content">
<div id="user">Street(<?=$i+1?>)</div>
<div id="view" style="color:green;cursor:pointer;">View</div>
</div>
<?php
$i++;
}
?>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:05:58.297

`id`意味着是唯一的（在 Jquery 中使用 表示`#`）。尝试改用`class`（在 Jquery 中使用 表示`.`）。

```
<div class="content">
<div class="user">Street(<?=$i+1?>)</div>
<div class="view" style="color:green;cursor:pointer;">View</div>
</div> 
```

和javascript：

```
<script type="text/javascript">
    $(function(){ 
        $('.view').click(function() {
            var user=$(this).parent().find('.user').text();
            alert(user);
        }); 
    });
</script> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:10:04.280

你已经设置了 id="user"，所以你会得到 5 个具有相同 id 的 div，所以很明显它只会打印第一个。所以使用类。

要获取当前元素的值，请使用

```
$(this).text(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T06:16:00.593

试试这个它对你有用..

```
<html>
<head>
<script src="js/jquery-1.8.3.min.js"></script>
<script type="text/javascript">
$(function(){ 
    $('.view').click(function() {        
        var id = $(this).attr('id');
        var user=$('#user'+id).text();
        alert(user);
    }); 
  });
</script>
<style type="text/css">
#content div{display:inline-block;}
</style>
</head>
<body>
<?php
$i=0;
while($i<5)
{
?>
<div id="content">
<div class="user" id="user<?php echo $i+1;?>">Street(<?php echo $i+1;?>)</div>
<div class="view" id="view<?php echo $i+1;?>" style="color:green;cursor:pointer;">View</div>
</div>
<?php
$i++;
}
?>
</body>
</html> 
```

# linq - C# 过滤列表的扩展方法

> ID：15803646
> 
> 赞同：0
> 
> 时间：2013-04-04T06:04:25.073
> 
> 标签：linq, c#-4.0, extension-methods

我发现了以下过滤列表的扩展方法。我对此很陌生，因此我想检查是否有人可以帮助我。此方法比较精确值，但我想使用包含而不是精确比较。有什么想法吗

```
 public static IEnumerable<T> FilterByProperty<T>(this IEnumerable<T> source,string property,object value)
    {
        var propertyInfo = typeof(T).GetProperty(property);
        return source.Where(p => propertyInfo.GetValue(p, null) == value);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:29:10.743

如果要将等号更改`==`为`Contains`. 尝试这个：

```
public static IEnumerable<T> FilterByProperty<T>(this IEnumerable<T> source,string property,object value)
    {
        var propertyInfo = typeof(T).GetProperty(property);
        return source.Where(p => propertyInfo
                                      .GetValue(p, null)
                                      .ToString() //be aware that this might be null
                                      .Contains(value));
    } 
```

# asp.net - 绕过证书错误

> ID：15803647
> 
> 赞同：0
> 
> 时间：2013-04-04T06:04:28.683
> 
> 标签：asp.net, ssl, iis-7, internet-explorer-8, ssl-certificate

有没有办法绕过/忽略/禁用证书错误？我在 IE8 上遇到这个问题，服务器使用的是 IIS 7。情况是我创建了一个 asp.net 网站，我使用“https”访问这个网站。我的其他网站在这种情况下没有问题，但我的其他网站有。我只想在 web.config 或除（服务器端代码、创建自签名证书、重定向网站）之外的任何其他方式中执行此操作。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:11:19.410

你为什么一开始就看到错误？如果您没有安装证书，请确保您没有在站点的任何地方使用 HTTPS。

它基于浏览器...您无法控制警告消息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:15:08.643

在 IE 中，请按照以下步骤操作。这个对我有用。

1.  单击工具并选择 Internet 选项
2.  点击安全
3.  选择“受信任的站点”图标并将安全级别设置为“中低”。
4.  关闭所有窗口。然后打开浏览器。

# jquery - jquery如何获取表的id

> ID：15803661
> 
> 赞同：0
> 
> 时间：2013-04-04T06:05:11.290
> 
> 标签：jquery, html

我有一张桌子，

```
<table border="1" id="hide">
        <tr id="col">
            <th>Company Ticker</th>
            <th>SubordinationID</th>
            <th>Currency</th>
            <th>ThreeM</th>
            <th>SixM</th>
            <th>NineM</th>
            <th>OneY</th>
            <th>TwoY</th>
            <th>FiveY</th>
            <th>TenY</th>
            <th>FifteenY</th>
            <th>TwentyY</th>
            <th>ThirtyY</th>
        </tr>
        <%
            Connection connection2 = ConnectionFactory.getConnection();
            Statement statement2 = connection.createStatement();
            ResultSet resultSet2 = statement
                    .executeQuery("select * from CDSCURVE");
        %>

        <tr id="row">
            <td id="a">Dummy1</td>
            <td id="b">Dummy2</td>
            <td id="c">Dummy3</td>
            <td id="d">Dummy4</td>
            <td id="e">Dummy5</td>
            <td id="f">Dummy6</td>
            <td id="g">Dummy7</td>
            <td id="h">Dummy8</td>
            <td id="i">Dummy9</td>
            <td id="j">Dummy0</td>
            <td id="k">Dummy11</td>
            <td id="l">Dummy12</td>
            <td id="m">Dummy13</td>
        </tr>

    </table> 
```

在这里，我想在变量中获取名为 (a,b,c,d,e,f,g...) 的 id 属性的值。需要帮助来创建 jquery 函数

还有一件事我有多行具有不同的ID，那么如何检索特定于该行的列的ID。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:06:53.013

您可以将所有 id 推送到这样的数组中：

```
var IdArray = [];
$("#row").find("td").each(function(){
    IdArray.push(this.id); 
}); 
```

* * *

另一种方法是使用[地图](http://api.jquery.com/jQuery.map/)：

```
var IdArray = $("#row").find("td").map(function() { 
                  return this.id; 
              }).get(); //["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m"] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T06:21:28.157

试试这个

```
 var id = [];
    var values = [];
    $("#row > td").each(function(index){
       id.push($(this).attr("id")); // [a,b,c,....]
       values.push($(this).text()); //[ Dummy1, Dummy2, Dummy3, Dummy4,..]
    }); 
```

[小提琴演示](http://jsfiddle.net/E7TN4/1/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T06:08:10.357

浏览 jquery 选择器。

你应该尝试这样的事情

```
var arrayVar = new Array();
$("#hide").find("td").each(function(){
alert($(this).attr("id"));
arrayVar.push($(this).attr("id"));
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T06:23:59.127

```
 <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script>
        $(document).ready(function () {
            $("#hide tr td").click(function () {
                var id = this.id;
                alert($("#" + id).html());
            });
        });
    </script> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-04T06:38:43.490

我会做这样的事情：

```
var result = []
var id = $('#row').children();
for (i=0, i < id.length(), i++){
    r = id[i].attr('id')
    result.push(r)
};
final = result.join(''); 
```

今晚可能喝了太多龙舌兰酒

# c# - 如何绘制尽可能清晰的图像？

> ID：15803664
> 
> 赞同：0
> 
> 时间：2013-04-04T06:05:18.550
> 
> 标签：c#, winforms, graphics, gdi+

我知道大多数人总是试图获得平滑的设置，但这次，因为我正在打印条形码，我需要找出如何告诉 e.Graphics 以尽可能清晰的设置打印我的图像。请记住，我当前的设置产生了迄今为止我能够测试的最佳设置，但是，一旦我将其打印到文件并放大 500%，您仍然可以看到一些平滑度。

到目前为止，这是我的代码：

```
private void printDocument1_PrintPage_1(object sender, PrintPageEventArgs e)
{

    double pdf417_widthDPI = Math.Round(((double)picpdf417.Image.Width / (double)288) * 2, 2);
    double pdf417_heightDPI = Math.Round(((double)picpdf417.Image.Height / (double)288) * 2, 2);

    int newWidth = (int)Math.Round(pdf417_widthDPI * 96);
    int newHeight = (int)Math.Round(pdf417_heightDPI * 96);

    Rectangle pdf417_location_size = new Rectangle(0, 100, newWidth, newHeight);

    e.Graphics.CompositingQuality = CompositingQuality.HighSpeed;
    e.Graphics.SmoothingMode = SmoothingMode.None;
    e.Graphics.InterpolationMode = InterpolationMode.Low;
    e.Graphics.PixelOffsetMode = PixelOffsetMode.None;

    e.Graphics.DrawImage(picpdf417.Image, pdf417_location_size);
} 
```

# sql - 如何查询SQL dts包

> ID：15803672
> 
> 赞同：0
> 
> 时间：2013-04-04T06:05:53.837
> 
> 标签：sql, sql-server, sql-server-2008, ssis, dts

我在 SQL 和文件系统（.dts 文件）中都有 dts pacakege。我想查询两个包以检索包名称数量、任务信息（任务名称等）等信息。

这样做的正确方法是什么？

我尝试执行给出 dts 包列表的命令。但是我不知道如何检索其余信息。执行 msdb..sp_enum_dtspackages

阿图尔

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-18T00:00:13.900

不久前我遇到了同样的问题并找到了答案。请看一下我的脚本，看看它是否有用。

```
dim strInputFile, strOutputFile

for each arg in WScript.Arguments
    select case mid(arg, 1, 3)
        case "/i:"
            strInputFile = mid(arg, 4)
        case "/o:" 
            strOutputFile = mid(arg, 4)
    end select
next

dim oPackage
set oPackage = CreateObject("DTS.Package2")
oPackage.LoadFromStorageFile strInputFile, "", "", "", ""

dim FileSys, OutputFile
set FileSys = CreateObject("Scripting.FileSystemObject")
set OutputFile = FileSys.OpenTextFile (strOutputFile, 2, 1)

dim oTasks, oProperties
set oTasks = oPackage.Tasks

for each oTask in oTasks
    OutputFile.write (vbCrLf)
    OutputFile.write (string(12 + len(oTask.Description), "-"))
    OutputFile.write (vbCrLf)
    OutputFile.write ("-- Task: "  & oTask.Description & " --") 
    OutputFile.write (vbCrLf)
    OutputFile.write (string(12 + len(oTask.Description), "-"))
    OutputFile.write (vbCrLf)

    set oProperties = oTask.Properties

    for each oProperty in oProperties
        OutputFile.write (oProperty.Name & " = [" & trim(oProperty.Value) & "]")
        OutputFile.write (vbCrLf)
    next 
next 

OutputFile.close

set OutputFile = Nothing
set oTasks = Nothing
set oProperties = Nothing
set oPackage = Nothing
set FileSys = Nothing 
```

关键是要知道从文件系统或 SQL Server 加载 DTS 包的方法。

例如

```
...
dim oPackage
set oPackage = CreateObject("DTS.Package2")
oPackage.LoadFromStorageFile strInputFile, "", "", "", ""
... 
```

可以在 MSDN 上找到更多详细信息：http:
[//msdn.microsoft.com/en-us/library/aa197290%28v=sql.80%29.aspx](http://msdn.microsoft.com/en-us/library/aa197290%28v=sql.80%29.aspx)（LoadFromSQLServer 方法）
[http://msdn.microsoft.com/en -us/library/aa197287%28v=sql.80%29.aspx](http://msdn.microsoft.com/en-us/library/aa197287%28v=sql.80%29.aspx)（LoadFromStorageFile 方法）

# php - 为动态行应用样式表类

> ID：15803674
> 
> 赞同：0
> 
> 时间：2013-04-04T06:05:56.783
> 
> 标签：php, css

我正在尝试将 css 类应用于 php 中的动态行。但它没有发生。这是我的代码，请有人建议我哪里出错了。我已经为行声明了一个计数器，但没有在哪里增加它的计数。

```
 <table width='100%' border='0' cellspacing='0' cellpadding='2'>
          <tr>
            <td class='tddash'>10 latest unpaid customer invoices</td>
          </tr>
          <tr>
            <td valign='top'>";

            $SQL = "SELECT salesorders.orderno,
                        debtorsmaster.name,
                        custbranch.brname,
                        salesorders.customerref,
                        salesorders.orddate,
                        salesorders.deliverydate,
                        salesorders.deliverto,
                        salesorders.printedpackingslip,
                        salesorders.poplaced,
                        SUM(salesorderdetails.unitprice*salesorderdetails.quantity*(1-salesorderdetails.discountpercent)/currencies.rate) AS ordervalue
                    FROM salesorders INNER JOIN salesorderdetails
                        ON salesorders.orderno = salesorderdetails.orderno
                        INNER JOIN debtorsmaster
                        ON salesorders.debtorno = debtorsmaster.debtorno
                        INNER JOIN custbranch
                        ON debtorsmaster.debtorno = custbranch.debtorno
                        AND salesorders.branchcode = custbranch.branchcode
                        INNER JOIN currencies
                        ON debtorsmaster.currcode = currencies.currabrev
                    WHERE salesorderdetails.completed=0
                    GROUP BY salesorders.orderno,
                        debtorsmaster.name,
                        custbranch.brname,
                        salesorders.customerref,
                        salesorders.orddate,
                        salesorders.deliverydate,
                        salesorders.deliverto,
                        salesorders.printedpackingslip,
                        salesorders.poplaced
                    ORDER BY salesorders.orderno";
                    $SalesOrdersResult1 = DB_query($SQL,$db);

                    echo "<table width='100%' celpadding='2' class='selection'><tbody>";
                            $TableHeader = "<tr><th> Customer </th><th>Order Date</th><th>Delivery Date</th><th>Delivery To</th><th>Order Total</th></tr> ";

                            $k = 0;

                    while ($row = DB_fetch_array($SalesOrdersResult1))

                        {

if ($k == 1){
                echo '<tr class="EvenTableRows">';
                $k = 0;
            } else {
                echo '<tr class="OddTableRows">';
                $k = 1;
            }
                            $FormatedOrderValue1 = locale_number_format($row['ordervalue'],$row['currdecimalplaces']);
                            //$TotalOrderValue = $array_sum($FormatedOrderValue1);
                            //$FormatedOrderValue1 = locale_number_format($myrow['ordervalue'],$_SESSION['CompanyRecord']['decimalplaces']);
                            $FormatedOrderDate = ConvertSQLDate($row['orddate']);
                            $FormatedDelDate = ConvertSQLDate($row['deliverydate']);

                            echo " <td> " . $row['name'] . " </td>";
                            echo " <td>$FormatedOrderDate</td><td>$FormatedDelDate</td><td> " . $row['deliverto'] . " </td><td>$FormatedOrderValue1</td> ";

            }
                        //echo "<tr><td colspan='3'>Total</td><td colspan='2'>$TotalOrderValue</td></tr></tbody>";
                        //echo $array_sum($FormatedOrderValue1);
            echo "</table>";

            echo"</td>
          </tr>
        </table> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:10:38.500

试着把它放在你的 while 循环中。

```
if ($k == 1){
            echo '<tr class="EvenTableRows">';
            $k = 0;
        } else {
            echo '<tr class="OddTableRows">';
            $k = 1;
        } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T06:17:20.243

如果你想装饰你的桌子，你可以使用 css 使用它。不要使用服务器端语言

```
tr:nth-child(even) {background: #CCC}
tr:nth-child(odd) {background: #FFF} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T06:19:10.227

您的代码存在三个问题（如果您计算出大量 HTML 应该被移到不在 php 中回显的事实，则为四个）

1）你没有$k++；增加你的 $k 价值

2) 您在 $row['name'] 行中有一个“tr”需要删除。

3) 您需要将整个 if($k) 块移动到 while() 循环的内部。

# javascript - 设计一个小部件

> ID：15803677
> 
> 赞同：0
> 
> 时间：2013-04-04T06:06:04.333
> 
> 标签：javascript, jquery, html, jquery-ui

我想设计/使用这样的小部件。

![在此处输入图像描述](https://i.stack.imgur.com/zcTsY.png)

我的主要目的是根据需要改变绿色/黄色/蓝色部分/百分比。有没有像这样的小部件。

# android - 与 android facebook sdk 集成混淆。无法解决

> ID：15803680
> 
> 赞同：0
> 
> 时间：2013-04-04T06:06:11.697
> 
> 标签：android, facebook, logout, facebook-login

我在将 facebook sdk 3.0 实施到我的 android 应用程序时遇到问题。我已经阅读了大量的教程和示例。但无法解决。我还阅读**了有关 facebook 开发人员的文档**。

但是我应该如何**退出 facebook 帐户**以及**如何向登录的 facebook 帐户发送帖子**。

我已经完美地将 facebook sdk 设置为我的 android 应用程序。我面临更多代码和步骤的问题。任何人都可以与我分享有关**登录**、**注销**、**向 Facebook 帐户发送帖子**的代码。我被困在这一步很长一段时间..

任何帮助将不胜感激。在此先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:22:37.930

我不确定您是否已阅读并遵循本教程，但它基本上是 SDK3.0 所需要的。它结构良好，易于遵循教程。 [https://developers.facebook.com/docs/getting-started/facebook-sdk-for-android/3.0/](https://developers.facebook.com/docs/getting-started/facebook-sdk-for-android/3.0/)。只是个人笔记，不要跳过任何步骤并注意第4步。运行Samples，您需要在其中创建Key hash。希望有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:23:52.060

使用这条线，您可以与设备上安装的其他应用程序共享

```
Intent shareIntent = new Intent(Intent.ACTION_SEND);
shareIntent.setType("text/plain");
shareIntent.putExtra(Intent.EXTRA_TEXT,"body text"); 
```

这些链接可以帮助您分享。

[通过 ACTION_SEND 从 Android 应用程序在 Facebook 上分享文本](https://stackoverflow.com/questions/3515198/share-text-on-facebook-from-android-app-via-action-send)

[http://mobile.tutsplus.com/tutorials/android/android-sdk-implement-a-share-intent/](http://mobile.tutsplus.com/tutorials/android/android-sdk-implement-a-share-intent/)

# ruby-on-rails - link_to 检查一个复选框

> ID：15803682
> 
> 赞同：2
> 
> 时间：2013-04-04T06:06:27.863
> 
> 标签：ruby-on-rails, checkbox, link-to

我有以下代码并且想要它，以便您可以单击“删除”它会选中复选框。有一个简单的解决方案吗？我不知道如何使用link_to 来做到这一点。

```
<%= f.fields_for :photos do |photo_fields| %>
  <% unless photo_fields.object.new_record? %>

    <%= link_to image_tag(photo_fields.object.photo.url(:user_thumbnail)), photo_fields.object.photo.url(:original), class: "fancybox"%>
    <%= photo_fields.check_box :_destroy %> <span> delete  </span>

  <% end %>
<% end %> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T06:21:21.273

如果您使复选框标签的文本部分，单击它应该切换复选框。例如，更改：

```
<%= photo_fields.check_box :_destroy %> <span> delete  </span> 
```

到：

```
<label>
  <%= photo_fields.check_box :_destroy %>
  <span> delete  </span>
</label> 
```

# python - flask/python：导入和解析 sqlite 文件的最佳方法

> ID：15803684
> 
> 赞同：0
> 
> 时间：2013-04-04T06:06:40.733
> 
> 标签：python, sqlite, flask

在我的工作中，我们经常使用 sqlite 文件来执行故障排除。我想创建一个网页，可能在烧瓶中，允许用户上传 .sqlite 文件并自动运行简单的预定义查询。

在 Flask 应用程序中导入 .sqlite 文件、对其运行查询然后设置自身以重复该过程的最佳方式是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T14:56:29.053

首先，您需要将该文件上传到服务器，为此，您可以开始阅读以下内容：[http](http://flask.pocoo.org/docs/patterns/fileuploads/) ://flask.pocoo.org/docs/patterns/fileuploads/ 然后，您可以连接到该 .sqlite 文件像这样，然后执行查询：

```
import sqlite3
connection = sqlite3.connect('/path/to/your/sqlite_file')
cursor = connection.cursor()
cursor.execute('my query')
cursor.fetchall() # If you used a select statement
# OR
connection.commit() # If you inserted date for example 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T06:35:51.430

使用带有特定查询的 sqlite 文件的最佳方法是使用`sqlite3`包，只需：

```
import sqlite3
db = sqlite3.connect('PATH TO FILE')
result = db.execute(query, args)
... 
```

# ruby - 语法错误，意外的keyword_end，期待$end

> ID：15803686
> 
> 赞同：0
> 
> 时间：2013-04-04T06:06:47.270
> 
> 标签：ruby, syntax-error

我刚刚开始我的 ruby​​ 之旅，而且对编程也很陌生。这是家庭作业的代码。我收到标题中描述的语法错误。我知道我在预期文件结尾时添加了一些额外的结尾？正确的？但是这个额外的“结束”在哪里。

编码：

```
class WrongNumberOfPlayersError < StandardError ; end
class NoSuchStrategyError < StandardError ; end

def rps_result(move1,move2)

  if (move1 == "r" && move2 == "s") || (move1 == "s" && move2 == p) || (move1 == "p" && move2 == "r")
    return true 
  else 
    return false
  end 
```

结尾

```
 def rps_game_winner(player1, player2)    
    strategy = /[rps]/
    raise NoSuchStrategyError unless (move1 =~ strategy) & (move2 =~ strategy) 

    move1 = player1[1].downcase
    move2 = player2[2].downcase

    rps_result(move1, move2)? player1 : player2
  end
end

def rps_tournament_winner(game)
  round_winners = []

  if game.length < 2
    raise WrongNumberOfPlayersError
  else
    game.each_slice(2) do
      |l1 , l2|
      round_winners << rps_game_winner(l1, l2)
    end

    rps_tournament_winner(round_winners) 
  end
end

rps_tournament_winner([[[["Richard", "S"], ["Dave", "S"]], [["Richard", "R"], ["Michael", "S"]]], [[["Allen", "S"], ["Omer", "P"]], [["David E.", "R"], ["Richard X.", "P"]]]]) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:13:42.273

该`rps_result`方法永远不会关闭。`end`将末尾的第二个移动`rps_game_winner`到方法的最后一个预期行`rps_result`。

Ps 对不起所有`end`的 :)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:02:00.767

我已经修改了第二个代码块。请检查它是否有效。

```
def rps_game_winner(player1, player2)    
    strategy = /[rps]/
    raise NoSuchStrategyError unless (move1 =~ strategy) && (move2 =~ strategy) 

    move1 = player1[1].downcase
    move2 = player2[2].downcase

    rps_result(move1, move2) ? player1 : player2
end    

def rps_tournament_winner(game)
  round_winners = []

  if game.length < 2
    raise WrongNumberOfPlayersError
  else
    game.each_slice(2) do |l1 , l2|
      round_winners << rps_game_winner(l1, l2)
    end

    rps_tournament_winner(round_winners) 
  end
end

rps_tournament_winner([[[["Richard", "S"], ["Dave", "S"]], [["Richard", "R"], ["Michael", "S"]]], [[["Allen", "S"], ["Omer", "P"]], [["David E.", "R"], ["Richard X.", "P"]]]]) 
```

做了4个改动：

1.  `end`在`rps_game_winner`方法中删除了额外的内容。

2.  `rps_game_winner`在方法中的三级运算符之间添加了空格。

3.  `rps_game_winner`方法，第二行，`unless`条件只有一个`&`。

4.  在方法中`rps_tournament_winner`，将 args 移到.`|l1, l2|``do`

# mips - 为 mips 目标配置和构建 libunwind

> ID：15803689
> 
> 赞同：1
> 
> 时间：2013-04-04T06:06:56.813
> 
> 标签：mips, stack-unwinding

有谁知道如何为 mips 目标（不是正在构建库的主机）配置和构建 libunwind？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-04-04T06:15:39.863

[它是官方支持的](http://savannah.nongnu.org/forum/forum.php?forum_id=5772)，只需查看文档或写信到他们自己的邮件列表。

# php - 使用 php crypt 或 Mysql 加密函数进行字段加密？

> ID：15803690
> 
> 赞同：0
> 
> 时间：2013-04-04T06:07:07.963
> 
> 标签：php, mysql, encryption

需要能够加密/解密特定字段和特定记录的 CodeIgniter 应用程序。

我正在考虑两种可能的方法来做到这一点：

1.  使用 crypt() php 函数并将结果传递给 SQL 语句
2.  使用 MySql 加密函数

我应该选择哪一个，为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:14:14.343

使用允许最佳前向兼容性的选项。

如果将来您不再使用 MySQL 数据库，您的密码学将变得无法使用。

几乎所有主要的程序语言都支持某种形式的**[mcrypt](http://php.net/manual/en/book.mcrypt.php)** ，如果您需要将代码从 php 移到其他地方，您将能够移植它。

同样，在开发代码时考虑前向兼容性。

# jquery - 我们如何使用 data-inline="true" 作为按钮类型？

> ID：15803693
> 
> 赞同：1
> 
> 时间：2013-04-04T06:07:13.843
> 
> 标签：jquery, css, jquery-mobile, markup, jquery-mobile-button

谁能告诉我如何使用`data-inline="true"`JQuery mobile 中的按钮类型？

例如： `<button type="submit" data-inline="true" data-theme="b">Save</button>`

当我尝试它不起作用时，它仅适用于锚标签。

例如：`<a href="index.html" data-role="button" data-inline="true" data-theme="b">Save</a>`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T08:13:45.670

可以使用网格来完成，但该解决方案看起来不太好，因为输入框和按钮之间总是有很大的差距。

然后还有另一种方法，用一点 css 我们可以改变一切，让它看起来更流畅：

工作示例：http: [//jsfiddle.net/Gajotres/cbWHm/](http://jsfiddle.net/Gajotres/cbWHm/)

**HTML：**

```
<!-- FIRST SOLUTION -->

<div id="hidden-wrapper">
    <input type="text" name="name" data-inline="true" id="basic" value=""  /> 
    <button type="reset" data-inline="true" data-theme="b">Reset</button>
</div>

<!-- SECOND SOLUTION -->

<div id="hidden-wrapper2">
    <div id="text-container">
        <input type="text" name="name" data-inline="true" id="basic" value=""  /> 
    </div>
    <div id="btn-container">
        <button type="reset" data-inline="true" data-theme="b">Reset</button>
    </div>        
</div> 
```

**CSS：**

```
/* FIRST SOLUTION */
#hidden-wrapper .ui-input-text {
   width: 68% !important;
    display: inline-block !important;
}

#hidden-wrapper .ui-btn {
   width: 19% !important;
}

/* SECOND SOLUTION */

#text-container, #btn-container {
    display: inline-block;
    height: 40px;
}

#text-container {
    width: 70%;     
}

#btn-container {
    width: 28%;  
}

#btn-container .ui-btn {
    margin-top: -9px !important;
    width: 100% !important;
} 
```

你只需要关心按钮的宽度，这个例子是为了适应你当前的按钮。在任何其他情况下，修改第一个和第二个 css 样式宽度。

第二种解决方案可能是最好的解决方案。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-04T08:46:58.930

这是另一个使用`grids`. 网格对这种情况很有用，因为它们响应迅速。当方向改变时，您不必担心。

[演示](http://jsfiddle.net/Palestinian/Bkvh8/)

标记

```
<div class="ui-grid-a">
 <div class="ui-block-a">
  <input type="text" name="" value="" />
 </div>
 <div class="ui-block-b">
    <button type="reset" data-theme="b">Reset</button>
 </div>
</div> 
```

CSS

```
.ui-block-b {
 width: 25% !important;
}
.ui-block-a {
 width: 75% !important;
 padding-top: 3px !important; // to push down input box.
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T06:09:36.883

## 更新

您不能使用 data-inline 属性在同一行中混合按钮和文本输入。

而是[使用 Grids](http://view.jquerymobile.com/1.3.0/docs/widgets/grids/)。

```
<div class="ui-grid-a">
    <div class="ui-block-a"><input type="text" name="name" data-inline="true" id="basic" value=""  /> </div>
    <div class="ui-block-b" align="right"><button type="reset" data-inline="true" data-theme="b">Reset</button></div>
</div> 
```

现场小提琴示例可在[http://jsfiddle.net/mayooresan/ewaBd/1/](http://jsfiddle.net/mayooresan/ewaBd/1/)

## 旧答案

```
<button type="submit" data-inline="true" data-theme="b">Save</button> 
<button type="submit" data-inline="true" data-theme="b">Rest</button> 
```

它工作正常。

看看这个`**[Live fiddle](http://jsfiddle.net/mayooresan/BFWvG/)**` [http://jsfiddle.net/mayooresan/BFWvG/](http://jsfiddle.net/mayooresan/BFWvG/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T06:22:33.087

样式运行良好；检查@MayuMayooresan 的小提琴，但如果你想href 正在努力；像这样做：

```
<a href="index.html"><button type="submit" data-inline="true" data-theme="b">Save</button></a> 
```

看：http: [//jsfiddle.net/BFWvG/3/](http://jsfiddle.net/BFWvG/3/)

# unity3d - Kinect 与 Unity 结合的有用示例？

> ID：15803694
> 
> 赞同：0
> 
> 时间：2013-04-04T06:07:14.503
> 
> 标签：unity3d, kinect

我和我的同事正在开展一个项目，我们需要使用 Kinect 来控制在 Unity 中制作的应用程序。我们已经熟悉了 Kinect 和 Unity，但我们找不到任何关于如何将两者结合使用的示例或教程。有人对此有任何有用的资源吗？正如我的项目伙伴所说：例子越多越好。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T13:52:02.710

这是一个很好的网站，有很多人从事过的 kinect 项目，其中有很多是 Unity+KinectSDK [http://channel9.msdn.com/search?term=kinect+unity](http://channel9.msdn.com/search?term=kinect+unity)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-08-16T19:46:55.670

Kinect 与 MSSDK - [https://www.assetstore.unity3d.com/#/content/7747](https://www.assetstore.unity3d.com/#/content/7747)

Kinect 与 OpenNI 1.5 - [https://www.assetstore.unity3d.com/#/content/7225](https://www.assetstore.unity3d.com/#/content/7225)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-13T19:03:58.197

使用 kinect（或 asus xtion live pro 或 carmine）的无标记动作捕捉，以及统一的面部动画：h​​ttp: [//www.faceshift.com/unity](http://www.faceshift.com/unity)

# windows-7 - 如何从特定局域网进行 PPPoE 登录？

> ID：15803695
> 
> 赞同：1
> 
> 时间：2013-04-04T06:07:15.440
> 
> 标签：windows-7, lan, pppoe

我正在使用带有 3 个 NIC 的 Windows 7，我需要使用 PPPoE 连接登录。我有 3 条租用线路。我的 isp 正在使用 MAC 安全性。我想问一下，如何从特定的网卡进行pppoe登录，并且可以进行多个pppoe登录？如果是，那么如何在 win 7 中进行负载平衡？（使用 win 7 Ultimate。）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-26T18:54:29.977

我的理解是 Windows PPPoE 客户端会自动搜索 PPPoE 服务以连接到所有 NIC。如果您没有在 PPPoE 连接的属性选项卡中设置服务名称，那么找到的第一个将是连接到的服务名称（假设用户和密码经过身份验证）。

否则，请向您的 ISP 询问他们的 PPPoE 服务名称，并在 Windows 的 PPPoE 客户端连接中配置服务名称。在您的情况下，您可以创建 3 个不同的 PPPoE 连接，每个连接都有不同的服务名称（假设每个 ISP 都有唯一的服务名称）。

从理论上讲，您可以同时连接到所有三个。至于负载平衡，在 Windows 下，唯一可行的方法是分析您的流量并设置特定的路由。不理想。

# apache-flex - FastInject 未检测到 Parsley 中的 objectId

> ID：15803696
> 
> 赞同：0
> 
> 时间：2013-04-04T06:07:17.323
> 
> 标签：apache-flex, dependency-injection, inject, parsley

我最近刚开始使用 Parsley，遇到了这个问题。问题是我的项目中有一个自定义组件，它由 Parsley “配置”，并且有一段代码如下：

```
<fx:Script>
<![CDATA[
            ...
            [Inject(id="dateFormatter")]
            [Bindable] public var dateFormatter:DateFormatter;
            ...
]]>
</fx:Script>

<fx:Declarations>
<parsley:Configure />
</fx:Declarations> 
```

我的问题是我不希望 Parsley 完全配置组件。我想简单地`FastInject`在 MXML 中使用，而不是使用`Configure`，例如：

```
<parsley:FastInject objectId="dateFormatter" property="dateFormatter" type="{DateFormatter}" /> 
```

从我在网上搜索时发现，`objectId`in`FastInject`与`[Inject(id="dateFormatter")]`. 这是它的[来源](http://www.spicefactory.org/parsley/docs/2.4/api/parsley-flex/org/spicefactory/parsley/dsl/view/FastInject.html#objectId%28%29)。如果我错了，请纠正我:)。

但是当我使用它时，我遇到了以下错误： `Error: More than one object of type mx.formatters::DateFormatter was registered`

这是否意味着被注入的属性的 ID 没有被拾取？当我配置整个组件并使用 时，它工作正常`Inject` `meta-tag`，但我不想配置整个组件。

有人可以提出解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T09:54:58.107

如果在上下文中声明的对象具有 id，则通过 id 进行快速注入有效。

## 上下文配置

```
<fx:Declarations>
    <foo:FooBar1 />
    <foo:FooBar2 id="fooBar2" />
</fx:Declarations> 
```

## 在您的组件中快速注入

```
<fx:Declarations>
    <parsley:FastInject injectionComplete="handlerInjectComplete(event)">
        <parsley:Inject property="foobar1" type="{FooBar1}" />
        <parsley:Inject property="foobar2" objectId="fooBar2"/>
    </parsley:FastInject>
</fx:Declarations>
<fx:Script>
    <![CDATA[
        [Bindable]
        public var foobar1:FooBar1;
        [Bindable]
        public var foobar2:FooBar2;

        protected function handlerInjectComplete(event:Event):void
        {
            if(foobar1) trace("foobar1 available");
            if(foobar2) trace("foobar2 available");
    }
    ]]>
</fx:Script> 
```

这对我有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-19T09:31:10.027

Parsley FastInject 当你从类 A 继承 B 并希望通过 id 注入两者时会感到困惑，同时指定类型。

您只需要使用 FastInject 的 objectId / type 属性之一

# .net - 将 .net 2.0 dll 转换为 .net 4.0 dll

> ID：15803697
> 
> 赞同：1
> 
> 时间：2013-04-04T06:07:25.190
> 
> 标签：.net

我想将 .net dll 从 2.0 版转换为 .net 4.0。问题是我只有 .dll 没有源代码。有什么办法吗？

谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:10:21.970

您可以使用 .NET 反编译器生成基于 DLL 的源代码，并使用 v4.0 编译器重新编译生成的代码。如果您使用不推荐使用的方法，则可能会出现编译错误。

反编译器：

*   [http://www.jetbrains.com/decompiler/](http://www.jetbrains.com/decompiler/)
*   [http://www.reflector.net/](http://www.reflector.net/)
*   等等

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-05-01T22:52:36.510

我使用 Reflector 对程序集进行逆向工程，然后使用 Visual Studio 重建它。请注意，如果您没有用于签署程序集的原始 .snk 文件，则公钥令牌会有所不同。例如，如果您在 BizTalk 中使用它，您将需要在所有 BizTalk 工件中搜索旧 PKT 并将其替换为新 PKT。如果 PKT 无关紧要，那么您就可以开始了。

# windows-phone-8 - 在 Windows 8 手机中无需任何用户交互即可自动发送短信或电子邮件

> ID：15803698
> 
> 赞同：1
> 
> 时间：2013-04-04T06:07:31.223
> 
> 标签：windows-phone-8, windows-phone

我想在紧急情况下自动发送短信或电子邮件，无需任何用户交互。

以下代码帮助我撰写短信或电子邮件，但需要用户点击发送按钮

```
 private static void SendSms(string mobileNumber)
    {
        SmsComposeTask smsComposeTask = new SmsComposeTask();
        smsComposeTask.To = mobileNumber;
        smsComposeTask.Body = "Alert: Save me! My last location was -";
        smsComposeTask.Show();
    } 

    private static void SendEmail(string emailAddress)
    {
        EmailComposeTask emailComposeTask = new EmailComposeTask();
        emailComposeTask.To = emailAddress;
        emailComposeTask.Subject = "Alert: Save me!";
        emailComposeTask.Body = "Please save me my last location was - ";
        emailComposeTask.Show();
    } 
```

有没有什么方法可以让我通过用户点击动作来发送短信？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T07:05:57.413

这在 Windows Phone 中是不可能的。您可以准备短信或电子邮件，但用户必须将其发送出去。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-04T11:52:11.817

虽然它不像使用内置功能那么容易，但如果您愿意使用 Web 服务，就可以做到。例如，twilio 可以让您以大约 0.01 美元/条的价格发送 SMS 消息（还有其他 SMS 服务，因此可能会有更好的定价）。

如果您有足够的冒险精神，您甚至可以编写自己的 SMS 服务，无需第三方的帮助就可以发送消息（同样，不推荐，因为除非您发送大量消息，否则 ROI 可能不会存在）。

通过 Web 服务发送电子邮件可能是一种更简单的解决方案，因为编写一些可以为您发送电子邮件消息的 .NET 代码并不难（当您拥有完整的 .NET Framework 时）。

一旦您拥有可以为您发送消息的 Web 服务，您的手机应用程序无需任何用户交互即可调用该服务是一件简单的事情。

# database - Oracle 中的触发器以保持数据完整性

> ID：15803699
> 
> 赞同：2
> 
> 时间：2013-04-04T06:07:35.193
> 
> 标签：database, oracle, triggers, constraints

我有一个包含商店和出租副本的数据库。每个出租副本都分配给一个商店。我想创建一个触发器，如果​​您删除某个商店，它将将该商店中的所有副本分配给另一个预定义的商店（cvr）。

我试过这样：

```
 CREATE OR REPLACE TRIGGER delete_trig
 BEFORE DELETE ON Store
 FOR EACH ROW
 BEGIN
 UPDATE RentalCopy SET cvr = 123456789
 WHERE cvr = :old.cvr;
 END; 
```

我收到一条错误消息，指出我违反了先前添加的约束（负责处理这两个表之间的外键），因为它找到了一条子记录。我该如何解决？

这些表的表定义：（相关部分）

租借副本：

```
 barcode INTEGER NOT NULL,
   CVR INTEGER NOT NULL,    
   PRIMARY KEY(barcode),
   CONSTRAINT fk_storeinfo
   FOREIGN KEY (CVR) REFERENCES Store 
```

店铺：

```
 CVR INTEGER NOT NULL,  
 store_name VARCHAR2(30) NOT NULL,                     
  PRIMARY KEY(CVR) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:36:09.050

查看您的代码，您的表 RentalCopy 似乎通过两个表的列 CVR 上的外键连接到 Store。

因此，RentalCopy 中的 CVR 值必须在 Store 表上具有相应的 cvr，否则您将收到外键错误。

您收到的错误可能是因为您试图从 Store 删除/更新 cvr 记录（因为表 RentalCopy 的外键在 Store 表中没有 cvr 作为子项），而不是因为任何触发器语法错误

# c - 为什么我的双链表插入失败？

> ID：15803703
> 
> 赞同：0
> 
> 时间：2013-04-04T06:07:59.927
> 
> 标签：c, linked-list

我正在编写一个带有双链表的简单计时器。如果我将链表头定义如下，它将起作用。

```
struct timer_head
{
    struct timer* prev;
    struct timer* next;
    pthread_spinlock_t lock;
}; 
```

但是如果我将头部定义如下，那么插入就会失败，每次插入后我都会丢失前一个节点。

```
struct timer_head
{
    struct timer* next;
    struct timer* prev;

    pthread_spinlock_t lock;
}; 
```

## 我的部分代码：

```
struct timer
{
    struct timer* prev;
    struct timer* next;
    struct timespec start;
    struct timespec interval;
    void* par, *par2; 
    /*if handle return 0    */
    /*then delete this timer    */
    /*else restart it       */
    int (*handler) (void* par);
};

struct timer_head
{
    struct timer* prev;
    struct timer* next;
/*
*if i changed the previous definition to 
*code below, then my list insertion will failed
*why?
*/
/*  struct timer* next;
    struct timer* prev;
*/
    pthread_spinlock_t lock;
};
void timer_queue_init(struct timer_head* lst)
{
    pthread_spin_init(&lst->lock, PTHREAD_PROCESS_SHARED);
    lst->next = lst->prev = (struct timer*)lst;
}

static void print_queue(struct timer_head* lst)
{
    pthread_spin_lock(&(lst->lock));
    struct timer* fst = lst->next;

    printf("list travserse:\t");
    while (fst != (struct timer*) lst)
    {
    printf("inteval : %ld, ", fst->interval.tv_nsec);
    fst = fst->next;
    }
    printf("\n");
    pthread_spin_unlock(&(lst->lock));
}

void timer_queue_insert(struct timer_head* lst, struct timer* nt)
{
    pthread_spin_lock(&(lst->lock));
    struct timer* ptr = lst->next;

    /*insert into list, sorted as earlist execute time  */
    while (ptr != (struct timer*) lst &&
        timespec_cmp(&(ptr->start), &(ptr->interval),
        &(nt->start), &(nt->interval)) <= 0)
    {
    printf("next\n");
    ptr = ptr->next;
    }
    nt->next = ptr;
    nt->prev = ptr->prev;

    nt->prev->next = nt;
    ptr->prev = nt;

    /* send signal to manage thread */
    if (!qlen)
    {
    printf("start :%ld s, %ld ns ", nt->start.tv_sec, nt->start.tv_nsec);
    printf("interval :%lds, %ld ns\n", nt->interval.tv_sec, nt->interval.tv_nsec);
    pthread_cond_signal(&wait);
    }
    ++qlen;
    pthread_spin_unlock(&(lst->lock));

    printf("traver after insert\t");
    print_queue(lst);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:13:31.950

此代码将指向 a 的指针转换为指向 a`struct timer_head`的指针`struct timer`。

```
void timer_queue_init(struct timer_head* lst)
{
   pthread_spin_init(&lst->lock, PTHREAD_PROCESS_SHARED);
   lst->next = lst->prev = (struct timer*)lst; /* HERE */
} 
```

只要它们具有相同的结构，这（幸运）就可以工作。你`struct timer`看起来像这样：

```
struct timer
{
  struct timer* prev;
  struct timer* next;
  ... 
```

因此，放在`prev`before`next`允许演员“碰巧”保留 and 的值`prev`，`next`尽管您绝对不应该这样做。“碰巧”工作的代码的问题是有时它会碰巧不起作用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T06:18:56.670

查看您的代码，问题在于您将 a`timer_head *`转换为`timer *`. 如果`timer_head`看起来像

```
struct {
  struct timer * next;
  struct timer * prev;
  ...
} 
```

然后在内存中你（可能）有以下布局

```
[next][prev] 
```

. 如果同时`timer`看起来像

```
struct {
  struct timer * prev;
  struct timer * next;
  ...
} 
```

，就像在您的代码中一样，它在内存中具有不同的布局，即类似于

```
[prev][next] 
```

. 你从一个指针到另一个指针的转换会改变 prev 和 next 的含义。（在一种情况下是内存中的第一个和第二个指针，在另一种情况下是内存中的第二个和第一个指针）。

# javascript - 使用三个js生成AI检测的坐标图

> ID：15803713
> 
> 赞同：0
> 
> 时间：2013-04-04T06:08:34.253
> 
> 标签：javascript, artificial-intelligence, three.js

我想生成以下示例中的演示地图坐标。我了解代码，但无法了解开发人员如何生成地图坐标。 [http://www.isaacsukin.com/news/2012/06/how-build-first-person-shooter-browser-threejs-and-webglhtml5-canvas](http://www.isaacsukin.com/news/2012/06/how-build-first-person-shooter-browser-threejs-and-webglhtml5-canvas)。 [http://icecreamyou.github.com/Nemesis/game.html](http://icecreamyou.github.com/Nemesis/game.html)运行示例。

此外，HTML5 游戏 TEACHMETOFLY 中使用了相同的地图事物

请帮助我有关此地图的生成？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:30:21.523

该地图是一个游戏级别，因此它可能是使用 Photoshop 或类似工具生成的。

# php - 如何在 php5/windows 中安装 pspell

> ID：15803716
> 
> 赞同：3
> 
> 时间：2013-04-04T06:08:46.333
> 
> 标签：php, apache, windows-7, pspell

我已经安装了 pspell

[http://pritomkumar.blogspot.com/2013/04/enabling-pspell-for-php-in-xampp-on.html](http://pritomkumar.blogspot.com/2013/04/enabling-pspell-for-php-in-xampp-on.html)

但是当尝试重新启动 xampp apache 时显示错误：

`PHP Startup: Invalid library (maybe not a PHP library) 'php_pspell.dll'`

# android - Android 应用程序在我的机器上构建时崩溃了，但不是从其他机器上构建

> ID：15803721
> 
> 赞同：0
> 
> 时间：2013-04-04T06:09:14.120
> 
> 标签：android

我正在使用 mac 机器构建一个 android 应用程序，但是在设备上运行时它会崩溃。但是使用相同的代码和密钥，我使用另一台机器（Windows）构建应用程序。它在设备上运行良好。

使用我的 Mac，我已经构建了其他几个应用程序，并且运行良好。

谁能给我一个解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:07:21.380

首先按照 Kumar 的建议获取客户端设备的反馈。

获取客户的设备规格、屏幕截图并尝试在模拟器上重现。究竟是什么导致了错误可能希望你问他要遵循哪些步骤来重现错误。等等

> 是否可以在不更改任何代码的情况下在模拟器上测试此应用程序？

是的。你有一个 DDMS 透视图。只需转到编码窗口上方的右上角。那里有一种加号 (+) 按钮。从那里你有一个 DDMS 透视图。在这个透视图中，你可以控制模拟器。你可以在此处输入 GPS 坐标。

看这个

![GPS控制](https://i.stack.imgur.com/ftZlC.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:17:00.327

听起来您正在使用一些您的客户端没有的新 API。他可能正在运行较旧的操作系统。运行 Android Lint 检查并查看是否收到 API 警告。

检查您客户的操作系统版本和您自己的操作系统版本。使用客户端的操作系统版本创建模拟器，看看它是否崩溃。

# asp.net-mvc - 如何检查与哪个控制器关联的视图？

> ID：15803725
> 
> 赞同：3
> 
> 时间：2013-04-04T06:09:26.590
> 
> 标签：asp.net-mvc, asp.net-mvc-3

我刚刚被分配到一个 ASP MVC 项目。它有很多控制器和很多视图......我对哪个视图与控制器的哪个方法相关联感到困惑？

如何检查哪个控制器和方法与视图相关联？或者添加了哪个控制器视图？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:28:52.417

好吧，ASP.NET MVC 遵循“约定优于配置”的经验法则。

所以除非你在你的项目中配置了一些特殊的东西，否则它应该遵循一个约定。

约定是，每个控制器操作都会有一个同名的视图。即，如果我们有一个名为“Users”的控制器和一个控制器方法，public ActionResult MyView()，那么对应的视图将在名为“Users”的文件夹中命名为 MyView.aspx 或 MyView.shtml 或 MyView.cshtml。

希望这能回答你的问题。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T06:16:29.933

如果您想知道控制器中方法的视图，请右键单击方法名称。也就是说，如果`public ActionResult Index(string returnUrl)`是您的控制器方法，右键单击`Index`，然后您可以看到选项`Go To View`。单击以转到该方法的视图。希望这可以帮助..

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-04T15:21:35.367

从视图中单击鼠标右键；选择转到控制器

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-04T06:56:04.643

在 MVC 中有很多方法可以创建 URL。1 在文件中配置 Route 并分配控制器名称和操作 2 您可以检查 URL 并找到控制器和操作。IE。[http://www.abc.com/customer/address](http://www.abc.com/customer/address)在此控制器中，名称为“客户”，操作名称为“地址”

使用动作名称，如果没有视图名称，您可以找到视图名称是否定义，这意味着视图名称与控制器名称文件夹下的动作名称相似。

# sql - 数据结构：将一个表链接到其他几个表中的一个

> ID：15803727
> 
> 赞同：0
> 
> 时间：2013-04-04T06:09:32.163
> 
> 标签：sql, database

我有一个`SavedData`包含字段的数据库表`type_data`。我需要将该表链接到其中一个表`SpecificData1`，`SpecificData2`并且`SpecificData3`取决于`type_data`字段中的内容。

我已经想到了一些解决方案，但没有一个看起来很棒......：

1.  ~~`SavedData`在call和 中有 3 个字段`specificdata1_id`， 其中一个被设置，另外 2 个被设置。然后我可以使用 id 不为空的特定数据。`specificdata2_id``specificdata3_id``NULL`~~看了一会，发现这个真的很烂，可以理解。

2.  `SavedData`在called中有 1 个字段`specificdata_id`，具体取决于`type_data`我知道我需要在哪个表中查找该 ID。

3.  将 3 个特定数据表中的所有字段放入表中，`SavedData`并根据 的值仅使用我需要的数据`type_data`。

什么是最好的解决方案？还有其他可以解决我的问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:28:40.680

您需要一个单独的表来保存 2 列。`Type_data, specificdata_id`使用此表仅保存您之间的关系`SavedData and Specificdat1/2/3`

# ruby-on-rails-3.2 - 如何使用 mongoid 在 rails3 中填充开发数据库？

> ID：15803730
> 
> 赞同：0
> 
> 时间：2013-04-04T06:09:39.100
> 
> 标签：ruby-on-rails-3.2, mongoid

我正在使用带有 rails3.x 的 mongodb 和 mongoid gem。我想填充开发数据库。请建议方式或可用的宝石

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:28:17.283

您可以使用该`db/seeds.rb`文件来填充您的开发数据库。它不仅适用于 SQL 的东西。查看[http://xyzpub.com/en/ruby-on-rails/3.2/seed_rb.html](http://xyzpub.com/en/ruby-on-rails/3.2/seed_rb.html)并以可以填充 mongodb 的方式使用它。

# android - android CheckBox如何区分用户点击和setChecked

> ID：15803733
> 
> 赞同：5
> 
> 时间：2013-04-04T06:09:58.343
> 
> 标签：android, checkbox

我在我的应用程序中使用复选框作为打开或关闭某些东西的按钮。但是操作（从网络加载文件）是在异步任务中完成的，所以我不希望在异步任务成功完成之前进行检查，就像这样

```
protected void onPostExecute(String result) {

            if(result==null) {
                return;
            }
            // loaded ok, turn on check mark
            MainActivity.mMp3Cb.setChecked(true); 
```

问题是，`setChecked(true)`导致`OnCheckedChangeListener`再次触发，就好像它是用户输入一样

有没有办法避免这种情况？或者至少检测到它`onCheckedChanged`？

谢谢

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2014-08-18T05:52:06.240

您可以使用`isPressed()`按钮视图对象的方法。这是 Android 中切换按钮的示例。`buttonView.isPressed()`仅当用户单击按钮时才为真。

```
@Override
public synchronized void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {

    if (buttonView.isPressed()) {
        // human input  
    } else {
        // result of setChecked(boolean)
    }
} 
```

# ruby-on-rails - 如何根据每页的最大字数进行分页

> ID：15803735
> 
> 赞同：0
> 
> 时间：2013-04-04T06:10:07.483
> 
> 标签：ruby-on-rails, pagination, will-paginate

我基于 pg_search 的内部网站搜索引擎有时会在其搜索结果中返回太多文本，以至于 Heroku 无法加载页面。

问题是，有些搜索结果太长了，我每页只能发布一个，而其他搜索结果太短，我可以轻松地一次发布 20 个。

所以我想对我的搜索结果进行分页，但我想通过字数而不是结果数来限制我在每个页面上发布的内容数量。

我查看了 Ruby Toolbox 上的主要分页 gem，例如 will_paginate，但我找不到任何提供此功能的。

是否存在合适的宝石？或者有没有像 will_paginate 这样的 gem 的直接方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-14T17:19:25.960

[仅显示 rails 中字符串的前 x 个单词](https://stackoverflow.com/questions/7049116/displaying-only-the-first-x-words-of-a-string-in-rails)

我修改了这个方法得到

```
def get_n_words_with_offset(message, first_n_words=1, offset=0)
   string_arr = message.split(' ')
   string_arr.count > first_n_words ? "#{string_arr[offset..(offset+first_n_words-1)].join(' ')}..." : self
end 
```

从那里您可以创建一个伪模型，它将“分页”或重新拆分由字数返回的模型数组。让其中一个模型封装一个页面，您可以使用分页 gem，其中每个页面上都有这些模型之一。

# google-app-engine - HTTPException：在 Google AppEngine 上等待 HTTP 时超过了最后期限

> ID：15803736
> 
> 赞同：0
> 
> 时间：2013-04-04T06:10:08.077
> 
> 标签：google-app-engine, python-2.7

在 Python AppEngine 上收到以下错误：

> HTTPException：等待来自 URL 的 HTTP 响应时超出了期限：[https ://www.googleapis.com/books/v1/users/115429583296661000087/bookshelves/1001/volumes?maxResults=12&startIndex=0](https://www.googleapis.com/books/v1/users/115429583296661000087/bookshelves/1001/volumes?maxResults=12&startIndex=0)

URL 是 .json 格式，我通过我的应用程序中的以下代码获取它：

```
request = urllib2.Request(bookShelfUrl, None, {'Content-Type': 'application/json'})
bookShelfJsonRaw = urllib2.urlopen(request)  
bookShelfJsonObject = json.load(bookShelfJsonRaw) 
```

在本地主机中测试时工作正常，只会在生产中出错。直到今天它神秘地开始返回该错误时，它在生产中也运行良好。

有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:59:26.797

我不知道是谷歌解决了这个问题，还是在我修改代码并指定 timout 参数而不是 http 实例化的 deafults 后它立即开始工作：

```
httplib2.Http(timeout=15) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-28T20:28:50.927

Google Books gData API 超时，因为我没有传入国家代码。无论出于何种原因，在没有本地测试服务器上的国家/地区的情况下它都可以正常工作，但是每当我将其推送到生产环境时，它都会超时。添加 country=US 后，json 提要运行良好。

```
bookShelfUrl = 'https://www.googleapis.com/books/v1/users/' + \
bookShelfId + \
'/bookshelves/1001/volumes?' + \
'maxResults=' + str(maxResults) + \
'&startIndex=' + str(startIndex) + \
'&country=US' 
```

# java - JTables 单元格对齐

> ID：15803737
> 
> 赞同：0
> 
> 时间：2013-04-04T06:10:09.883
> 
> 标签：java, swing, jtable

我有两个`JTable`s 在里面水平对齐`JScrollBar`。当我在第一个中选择一个单元格时，`JTable`我希望另一个上的相应单元格`JTable`对齐。

我正在做的是，每次`JTable`选择第一个单元格时，我使用`JTable.getCellRect()`获取每个单元格的 y 位置然后使用`JTable.scrollRectToVisible(firstJTableCell)`. 然后第二个中的单元格`JTable`变得可见，但我想知道如何将其与第一个中的选定单元格对齐`JTable`。 当在第一个中选择一个单元格时
，我有办法知道在第二个中选择哪个单元格。我想知道的是如何以编程方式对齐两个 JTables 单元格。`JTable``JTable`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:00:00.900

可能有更好的方法来实现相同的结果，但本质上，您可以使用 an`AdjustmentListener`和 a`ListSelectionListener`来监视对`JScrollPane`s 和`JTable`s 的更改并将这些结果同步回另一个表（基于原始事件的源）

```
import java.awt.BorderLayout;
import java.awt.Component;
import java.awt.Container;
import java.awt.Dimension;
import java.awt.EventQueue;
import java.awt.GridLayout;
import java.awt.event.AdjustmentEvent;
import java.awt.event.AdjustmentListener;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.UIManager;
import javax.swing.UnsupportedLookAndFeelException;
import javax.swing.event.ListSelectionEvent;
import javax.swing.event.ListSelectionListener;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.TableModel;

public class SyncedTables {

    public static void main(String[] args) {
        new SyncedTables();
    }

    public SyncedTables() {
        EventQueue.invokeLater(new Runnable() {
            @Override
            public void run() {
                try {
                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {
                }

                JFrame frame = new JFrame("Testing");
                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                frame.setLayout(new BorderLayout());
                frame.add(new TestPane());
                frame.pack();
                frame.setLocationRelativeTo(null);
                frame.setVisible(true);
            }
        });
    }

    public class TestPane extends JPanel {

        private JTable left;
        private JTable right;

        public TestPane() {

            setLayout(new GridLayout(1, 2));
            left = new JTable(createTableModel("L"));
            right = new JTable(createTableModel("R"));

            left.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);
            right.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);

            JScrollPane leftScrollPane = new JScrollPane(left);
            JScrollPane rightScrollPane = new JScrollPane(right);

            AdjustmentHandler ah = new AdjustmentHandler(leftScrollPane, rightScrollPane);

            leftScrollPane.getVerticalScrollBar().addAdjustmentListener(ah);
            leftScrollPane.getHorizontalScrollBar().addAdjustmentListener(ah);
            rightScrollPane.getVerticalScrollBar().addAdjustmentListener(ah);
            rightScrollPane.getHorizontalScrollBar().addAdjustmentListener(ah);

            SelectionHandler sh = new SelectionHandler(left, right);
            left.getSelectionModel().addListSelectionListener(sh);
            right.getSelectionModel().addListSelectionListener(sh);

            add(leftScrollPane);
            add(rightScrollPane);

        }

        protected TableModel createTableModel(String prefix) {
            DefaultTableModel model = new DefaultTableModel(0, 50);
            for (int row = 0; row < 100; row++) {
                Object[] rowData = new Object[50];
                for (int col = 0; col < 50; col++) {
                    rowData[col] = prefix + "-" + row + "x" + col;
                }
                model.addRow(rowData);
            }
            return model;
        }

        @Override
        public Dimension getPreferredSize() {
            return new Dimension(400, 400);
        }
    }

    public class SelectionHandler implements ListSelectionListener {

        private JTable left;
        private JTable right;
        private boolean ignore;

        public SelectionHandler(JTable left, JTable right) {
            this.left = left;
            this.right = right;
        }

        @Override
        public void valueChanged(ListSelectionEvent e) {
            if (!ignore) {
                ignore = true;
                if (e.getSource() == left.getSelectionModel()) {
                    sync(left, right);
                } else if (e.getSource() == right.getSelectionModel()) {
                    sync(left, right);
                }
                ignore = false;
            }
        }

        protected void sync(JTable master, JTable slave) {
            slave.clearSelection();
            int[] selectedRows = master.getSelectedRows();
            for (int row : selectedRows) {
                slave.addRowSelectionInterval(row, row);
            }
            int[] selectedColumns = master.getSelectedColumns();
            for (int cols : selectedColumns) {
                slave.addColumnSelectionInterval(cols, cols);
            }
        }
    }

    public class AdjustmentHandler implements AdjustmentListener {

        private JScrollPane left;
        private JScrollPane right;
        private boolean ignore;

        public AdjustmentHandler(JScrollPane left, JScrollPane right) {
            this.left = left;
            this.right = right;
        }

        @Override
        public void adjustmentValueChanged(AdjustmentEvent e) {
            if (!ignore) {
                ignore = true;
                Container parent = ((Component) e.getSource()).getParent();
                if (parent == left) {
                    sync(left, right);
                } else if (parent == right) {
                    sync(right, left);
                }
                ignore = false;
            }
        }

        protected void sync(JScrollPane master, JScrollPane slave) {
            slave.getHorizontalScrollBar().setValue(master.getHorizontalScrollBar().getValue());
            slave.getVerticalScrollBar().setValue(master.getVerticalScrollBar().getValue());
        }
    }
} 
```

# c++ - 如何使用 makefile 使用 Visual Studio 编译代码

> ID：15803738
> 
> 赞同：22
> 
> 时间：2013-04-04T06:10:10.433
> 
> 标签：c++, visual-studio, makefile

我刚刚下载了一个开源项目，据说是使用 Visual Studio C++ 编译的。它包含 3 个 makeFile（makeFile、makeFile(1) 和 makeFile(2)） 我总是使用 .sln 文件在 VS 中打开程序，现在我不知道如何处理这个 makeFile。谁能指导我如何处理它。

问候

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T06:30:52.570

你可以试试[NMake](http://msdn.microsoft.com/en-us/library/a23f7tc4.aspx)。请参阅[NMake 参考](http://msdn.microsoft.com/en-us/library/dd9y37ha.aspx)和[Stackoverflow](https://stackoverflow.com/a/318554/1654121)帖子。

NMake 包含在 Visual Studio 中。您可以尝试使用您可能想要使用的 Visual Studio 版本附带的 NMake。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-09-27T07:54:04.727

如果您只熟悉 Visual Studio 项目和解决方案，那么处理 makefile 可能是一个挑战。以下链接将从 Visual Studio 的角度很好地介绍 makefile。

[面向 Visual Studio 开发人员的 Makefile 简介](http://cognitivewaves.wordpress.com/makefiles/)

将 Linux makefile 转换为 Visual Studio 解决方案将是一项手动工作。

`NMake`看起来很有希望。但是，以下链接采用简单的`Makefile`方式并解释了人们可能遇到的一些基本问题。

[Windows 中的 Makefile](https://cognitivewaves.wordpress.com/makefiles-windows/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-05-20T18:15:17.840

## `make`VS2017 和带有linux 二进制文件的跨平台开发

如果您在 Windows 10 上工作，则可以`make`工作并编译 linux 二进制文件：

*   已安装 lxss，并已安装 gdb 服务器、ssh 服务器：

    `sudo apt update && sudo apt install -y build-essential gdbserver openssh-server`

*   确保您可以通过 ssh 连接到本地计算机：

    `sudo vi /etc/ssh/sshd_config && sudo service ssh start`

*   确保你有安装*了 c++*包的 linux 开发（VS2017 安装）

*   确保您通过 VS/tools/options/connection manager 中的 ssh 将您的连接配置为 lsxx（搜索中的“连接”）。

*   确保有一个 linux 项目（新项目/其他语言/vc++/crossplatform/linux）

*   然而，`make`在项目/属性中添加你的命令。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-05-19T23:33:17.090

我刚刚遇到了同样的问题，对我来说解决方案是：打开“VS2012 Native Command Prompt”，名称因 MSVS 的不同版本而异。然后只需键入“nmake makefile.vc”。nmake 是命令，makefile.vc 是您自己的本地文件夹中的 makefile。并完成（如果没有进一步的错误发生）

# file-in-use - windows中正在使用的文件

> ID：15803744
> 
> 赞同：0
> 
> 时间：2013-04-04T06:10:43.013
> 
> 标签：file-in-use

如何知道在windows中阻止文件的进程，例如：尝试删除正在使用的文件时，如何知道使用该文件的进程？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:19:39.933

使用 Microsoft/Sysinternal 的[ProcessMonitor](http://technet.microsoft.com/en-us/sysinternals/bb896645)。曾经是文件 FileMon，但我认为现在所有内容都已合并到 ProcessMonitor 中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:21:55.243

我也遇到过同样的问题。我为此使用[Process Explorer](http://technet.microsoft.com/en-in/sysinternals/bb896653.aspx)。这是免费的，就像具有高级功能的任务管理器工具。

只需按 Ctrl+F 或选择查找并键入您要查找的文件或驱动器的全名或部分名称。从搜索结果中选择文件。这会将您带到窗口的底部，显示文件和保持打开状态的进程。

只需右键单击并选择关闭句柄。它会询问是/否，选择是，你就完成了。如果您无法安全地移除笔式驱动器或类似硬件，也可以使用此工具。只需搜索驱动器号（例如 G:）并关闭所有打开的句柄。

> 请确保您不会滥用此工具来关闭系统文件的句柄、破坏系统或对他人造成伤害。

希望这可以帮助！

维韦克

# themes - 在 LWUIT 资源编辑器中自定义的日历组件未正确显示

> ID：15803745
> 
> 赞同：0
> 
> 时间：2013-04-04T06:10:44.870
> 
> 标签：themes, lwuit, resource-editor

我在 LWUIT 资源编辑器中为使用日历组件的应用程序创建了一个主题。但是在设备中测试应用程序时，日期并没有完全显示。

对于 21，它完全显示 2 和 1 的一半。未显示 1 的一部分！必须更改资源编辑器中的哪个参数才能解决此问题。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T06:00:32.260

我想问题出在组件的填充上。尝试调整填充，看看它是否有效。

通常这种问题是由于不正确的填充和边距值而发生的。

# java - file.toURI() 返回一个错误的值？

> ID：15803747
> 
> 赞同：0
> 
> 时间：2013-04-04T06:10:49.440
> 
> 标签：java, eclipse, eclipse-rcp, rcp

我在 Java RCP 应用程序中工作。我正在执行以下代码行：

```
File file = new File(location);
String filePath = file.toURI().toString();
Desktop desktop = Desktop.getDesktop();
desktop.browse((new URL(filePath)).toURI()); 
```

其中位置是一个字符串。

当 location 的值为：[http://www.google.com](http://www.google.com)时，

```
file.toURI() 
```

将“file:/C:/eclipse%203.7.2/eclipse/”附加到该值，因此它变为 file:/C:/eclipse%203.7.2/eclipse/http:/www.google.com

但是当值为：C:\Program Files，

```
file.toURI() 
```

没有附加任何东西并正确返回相同的值。

是否存在与以 http:// 或其他内容开头的路径相关的限制。有人对此有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:42:54.417

java.io.File 使用文件路径而不是 URL。

因此，它将提供的初始化参数转换为本地文件系统支持的表示形式。

“http://”对您的本地文件系统没有任何意义，它只是一个文件名（好吧，错误的文件名，但无论如何）。

在“ [http://www.google.com](http://www.google.com) ”的第一种情况下，它在提供的值中看不到磁盘驱动器号，因此它被视为相对路径，当前工作目录绝对路径添加为前缀（“user.home” env var 如果我没记错的话）。

在第二种情况下，您添加了一个绝对路径“C:\Program Files”。它在里面看到磁盘驱动器号，添加任何东西作为前缀是没有意义的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:44:25.580

我们有两种类型的文件位置：相对和绝对。当位置类似于`C:\User`MS Windows 或`/home`Linux 中的位置时，位置是绝对的，不需要在它们的开头附加一些东西！但是当位置是程序时，`http://google.com`将您的程序位置附加到它的开头。

我认为您需要搜索`URI`and `URL`。你用错了！

# ruby-on-rails - rails 2中的page.replace_html方法

> ID：15803749
> 
> 赞同：0
> 
> 时间：2013-04-04T06:10:57.347
> 
> 标签：ruby-on-rails

这是我在客户端/订单控制器中的代码。

```
render :update do |page|
            page.replace_html "example_check" ,:partial=>'customer/orders/pending_orders',:object=> "Your Message Has Been Sent "
        end 
```

在客户/订单/pending_orders.html.erb

```
<div id="example_check">replace here</div> 
```

我想`"Your Message Has Been Sent "`在另一个名为`'customer/orders/pending_orders'`. 相同控制器的更换工作正常。任何解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:43:18.657

试试看嘛

```
 page.replace_html "example_check", "Your Message Has Been Sent" 
```

# javascript - 我如何使用 javascript 在 IE7、IE8、Safari 和其他支持的浏览器中播放 .Wav 声音

> ID：15803756
> 
> 赞同：1
> 
> 时间：2013-04-04T06:11:17.263
> 
> 标签：javascript, jquery, audio, playback

成功后我需要播放 .Wav 声音。我试过这个，但它在 IE7、IE8 和 Safari 中不起作用，这里有什么问题？

```
var currentFile = "";
function playAudio() {
        var oAudio = document.getElementById('myaudio');

        // See if we already loaded this audio file.
        if (jQuery("#audiofile").val() !== currentFile) {

            oAudio.src = jQuery("#audiofile").val();
            currentFile = jQuery("#audiofile").val();

        }

            var test = jQuery("#myaudio");
            test.src = jQuery("#audiofile").val();
            oAudio.play();   
    }

    if (Modernizr.audio) {
            if (Modernizr.audio.wav) {
               jQuery("#audiofile").val("sound/smw_save_menu.wav"); 

            }
            if (Modernizr.audio.mp3) {
                jQuery("#audiofile").val("sound/mario_coin.mp3");

            }
        }
        else {
          jQuery("#HTML5Audio").hide();
          jQuery("#OldSound").html('<embed src="sound/smw_save_menu.wav" autostart=false width=1 height=1 id="LegacySound" enablejavascript="true" >');

        } 
```

成功后我需要播放 .Wav 声音。我试过这个，但它在 IE7、IE8 和 Safari 中不起作用，这里有什么问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:19:57.637

我认为进入`#OldSound`容器的 HTML 需要更接近于这样的东西：

```
var flashAudioHTML =
'<object data="sound/smw_save_menu.wav"  width="1" height="1" other_attrs...>' +
    '<embed src="sound/smw_save_menu.wav" width="1" height="1" other_attrs...>' +
'</object>';
jQuery("#OldSound").html( flashAudioHTML ); 
```

# c++ - C++ 预处理器在类关键字之后和类名之前定义

> ID：15803761
> 
> 赞同：11
> 
> 时间：2013-04-04T06:11:52.090
> 
> 标签：c++, class, c-preprocessor

我最近在某人的 opengl 着色器类中遇到了这种代码，但不确定它的用途。

正如我从阅读[IBM 的文档](http://publib.boulder.ibm.com/infocenter/lnxpcomp/v8v101/index.jsp?topic=%2Fcom.ibm.xlcpp8l.doc%2Flanguage%2Fref%2Fdefine.htm)中了解到的那样，#define ONEWORD 将删除后续文本中出现的任何 ONEWORD。

如果删除所有匹配项，那么在此代码中使用 ONEWORD 的目的是什么？在类关键字之后但在类名之前有这样的标记是什么意思？
我过去只将#define 用于包含守卫，所以这对我来说是全新的。

```
#define ONEWORD

class ONEWORD FooClass
{
    FooClass();
    ~FooClass();
}; 
```

我在其中看到的代码在这里：[https](https://dl.dropbox.com/u/104992465/glsl.h)
://dl.dropbox.com/u/104992465/glsl.h 以防万一我把它的上下文弄得太抽象了。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-04T06:18:23.893

它允许您轻松地将编译器特定的关键字添加到您的类声明中。例如对于 Visual Studio，如果你想把这个类放在一个 DLL 中，你可以将你的定义更改为

```
#define ONEWORD __declspec( dllexport ) 
```

另一个例子见[这里](http://msdn.microsoft.com/en-us/library/81h27t8c%28v=vs.80%29.aspx)

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-04-04T06:21:21.097

哦，所以在查看**实际**代码后，它不是`ONEWORD`，而是`GLSAPI`。这些`XYZ_API`宏通常用于有条件地指定特定于平台的链接，例如一些`__attributes__`需要在 Windows 和 Unix 上进行不同处理的链接。因此，您可以期望`GLSAPI`在其中一个头文件（可能在`config.h`）中定义，如下所示：

```
#ifdef WIN32
#    define GLSAPI __dllimport
#elif defined __linux__
#    define GLSAPI __attribute__((visibility("visible")))
#else
#    define GLSAPI
#endif 
```

（伪代码，我不确定所有属性和链接“限定符”，但您可以在代码中查找它们。）

# performance - grails 2 / groovy 2 / JDK7：如何获得收益？

> ID：15803763
> 
> 赞同：9
> 
> 时间：2013-04-04T06:12:01.023
> 
> 标签：performance, grails, groovy, java-7, invokedynamic

我真的很喜欢 Grails，但我想知道如何获得 Groovy 2 的性能优势。问题是如何配置开发和生产环境以获得“接近 Java”的性能提升。

所以，如果我设置：

```
* JDK 7
* Groovy 2 (indie JAR to use invokedynamic)
* Grails 2.2 
```

是否有任何指导方针可以真正加快我的 webapp*开箱即用的*速度？

我需要在我的 Grails webapp 代码库中进行任何重构吗？我的意思是像在控制器中引用服务这样的依赖注入东西应该是静态编译的，还是应该像文档说的那样继续编写代码？

ps：我猜[Groovy @CompileStatic 和Grails](https://stackoverflow.com/questions/12180178/groovy-compilestatic-and-grails)可能是一个相关的问题......

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-05T13:51:14.473

这取决于可能会减慢您的 Web 应用程序速度的原因 :) 我知道“它取决于”通常是答案，但它仍然是正确的。

无论如何，我已经四处询问，似乎 Grails 和 invokedynamic 还不会一起使用。重新加载代理需要更新，Hibernate 使用的 cglib/asm 库可能存在问题。

无论如何，Grails 在内部越来越多地使用 @CompileStatic（用于尚未用 Java 编写的东西），因此除非您的应用程序本身做了很多工作，否则您不太可能看到 invokedynamic 的巨大提升.

有一些关于这方面的官方信息会很有用，但现在还没有。

# iis - IIS 7 本机模块问题

> ID：15803772
> 
> 赞同：0
> 
> 时间：2013-04-04T06:13:05.973
> 
> 标签：iis, module, native

我目前正在将我们的 ISAPI 过滤器迁移到 IIS 模块。在我们的 ISAPI 过滤器中，我们定义了 HttpFilterProc() 和 HttpExtensionProc() ，并且每个都有不同的代码流。

该模块负责显示登录页面并验证用户帐户（登录页面根据用户正在访问的URL显示。）

我现在在模块中定义了 OnBeginRequest()、OnAuthenticateREquest() 等。我能够显示登录页面，但问题是立即调用所有通知（OnBeginRequest() 到 OnEndRequest()）并且不等待用户帐户身份验证的实际完成。

在用户输入凭据并尝试验证帐户之前调用 CHttpModule 派生类的析构函数。

是否应该使用另一组 OnBeginRequest() 到 OnEndRequest() 来处理。我已阅读有关 CloneContext() 和 ExecuteRequest() 的信息。我应该通过克隆上下文来创建子请求吗？

问候，乔治

# wix - 设置失败时的回滚事件

> ID：15803773
> 
> 赞同：2
> 
> 时间：2013-04-04T06:13:06.903
> 
> 标签：wix, wix3.5

我在 InstallFinalize 之后安排了自定义操作。当我运行安装程序但它失败时，我注意到我收到错误屏幕，提示安装程序失败并且我的计算机没有进行任何更改，但如果我再次运行安装程序，它有修复、更改或删除的选项。我认为这是因为未触发回滚事件。我怎样才能让它发生？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T12:37:05.620

`InstallFinalize`动作是安装事务提交到机器时。在该点之后（或之前`InstallInitialize`）发生的任何事情都发生在事务之外。这意味着它们无法回滚。

相反，您需要*在前后**的* `InstallInitialize`某个时间安排您的自定义操作，以使其出错并导致回滚。此外，修改机器状态的自定义操作应该是. [MSI SDK 中的这个主题](http://msdn.microsoft.com/en-us/library/windows/desktop/aa368268%28v=vs.85%29.aspx)是一个很好的起点，然后可以阅读有关它的主题。 *`InstallFinalize``deferred`*

 *如果您想查看编写自定义操作方式的示例，我建议您查看`src\ca\wixca\dll`. 根据 MSI SDK，许多不同类型的自定义操作以我希望是“正确”的方式做事。*

# mysql - 内部连接后mysql左连接给出错误的记录集

> ID：15803774
> 
> 赞同：0
> 
> 时间：2013-04-04T06:13:10.090
> 
> 标签：mysql

```
SELECT  
    op.sub_order_id, 
    s.supplier_id, 
    GROUP_CONCAT(opb.box_id SEPARATOR ','),
    op.delivery_country

FROM 
    order_p op
INNER JOIN 
    supplier s ON s.supplier_id = op.supplier_name
LEFT JOIN
    order_boxes opb ON op.sub_order_id = opb.sub_order_id
WHERE
    op.order_active=0
    AND op.ship_date>='2013-01-01'
    AND op.ship_date<='2013-04-24'
ORDER BY op.ship_date DESC 
```

我不太擅长加入，所以请耐心等待。

我有这个查询，我需要从`order`给定日期范围之间的表中选择所有数据，以便表中存在匹配的供应商映射`supplier`。现在连同这些信息，我还需要获取任何框，如果它存在于`order_boxes`由 sub_order_id 字段链接的表中。

现在，如果我只是加入订单和供应商表，我会得到大约 1000 条记录的正确记录集，但是一旦我尝试添加到 box 表中，我只会得到一行。我猜这是因为 box 表中只有一条记录，但我需要它从 order 表中获取所有记录以及 box 表。如果我尝试`INNER JOIN`而不是`LEFT JOIN`只获得在框表中映射的匹配子订单的一条记录，但是使用左连接，我将获得日期范围内的第一条记录，而与框表中的 sub_order_id 和值无关。

请帮忙。另外，如果您需要更多信息，请告诉我。

**编辑：**很抱歉我之前没有发布完整的内容，但我认为问题出在 GROUP_CONCAT 上，它将整个记录集分组，因为我只想对 box 表中的记录进行分组....也许我应该使用子查询？

电流输出

```
179-1  |  2  |  2,4,3 |  Canada 
```

预期产出

```
168-1  |  1  |        |  Texas
.....
......
179-1  |  2  |  2,4,3 |  Canada
.....
...... 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:22:57.140

尝试转换日期

```
 WHERE
op.order_active=0
AND op.ship_date>=
convert(datetime,cast('2013-01-01' as varchar),101)
AND op.ship_date<=
convert(datetime,cast('2013-04-24' as varchar),101)
                        ORDER BY op.ship_date DESC 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:19:23.540

```
SELECT * FROM
(
  SELECT  * FROM order op INNER JOIN 
  supplier s ON s.supplier_id = op.supplier_name

  WHERE
    op.order_active=0
    AND op.ship_date>='2013-01-01'
    AND op.ship_date<='2013-04-24'
  ORDER BY op.ship_date DESC
) AS a 

LEFT JOIN order_boxes opb ON a.sub_order_id = opb.sub_order_id 
```

试试这个，告诉我这是否对你有帮助。

# php - 现有网站的 Zen 购物车

> ID：15803776
> 
> 赞同：0
> 
> 时间：2013-04-04T06:13:13.757
> 
> 标签：php, javascript, html, zen-cart

当然 ZenCart 可以用来构建一个电子商务商店的整个网站，但是 ZenCart 可以在现有网站上使用，有点像“模块”吗？

假设我目前有一个网站，我决定销售一些产品（添加电子商务功能），但我想保留原始网站的外观（CSS 和总体布局）。ZenCart 是否适合此目的？当网站访问者进入网站的电子商务部分时，我看到一些网站的外观和感觉完全不同。我不想要那个。

我的问题：

1.  那么，ZenCart 是否可以像嵌入现有（php）网页的“小部件”或“模块”一样使用？
2.  如果是，是否有关于如何完成此操作的教程？
3.  如果没有，您对不同的“插入式”购物车模块有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T10:07:47.743

问题 1 的答案是否定的。问题 3 的答案是 Foxycart 或 Paypal。

# python - Sendkeys 功能有问题

> ID：15803777
> 
> 赞同：0
> 
> 时间：2013-04-04T06:13:18.943
> 
> 标签：python, parameters, python-2.7, sendkeys

所以我下载了一个用于 python 2.7 的 Sendkeys 版本。它工作得很好！...对于可以输入字符串的字母和数字。

该函数具有以下形式：

```
def SendKeys(keys, 
             pause=0.05, 
             with_spaces=False, 
             with_tabs=False, 
             with_newlines=False,
             turn_off_numlock=True):
    """
    Sends keys to the current window.

    `keys` : str
        A string of keys.
    `pause` : float
        The number of seconds to wait between sending each key
        or key combination.
    `with_spaces` : bool
        Whether to treat spaces as ``{SPACE}``. If `False`, spaces are ignored.
    `with_tabs` : bool
        Whether to treat tabs as ``{TAB}``. If `False`, tabs are ignored.
    `with_newlines` : bool
        Whether to treat newlines as ``{ENTER}``. If `False`, newlines are ignored.
    `turn_off_numlock` : bool
        Whether to turn off `NUMLOCK` before sending keys.

    example::

        SendKeys("+hello{SPACE}+world+1")

    would result in ``"Hello World!"``
    """ 
```

并给出了这些代码：

```
CODES = {
    'BACK':         8,
    'BACKSPACE':    8,
    'BS':           8,
    'BKSP':         8,
    'BREAK':        3,
    'CAP':          20,
    'CAPSLOCK':     20,
    'DEL':          46,
    'DELETE':       46,
    'DOWN':         40,
    'END':          35,
    'ENTER':        13,
    'ESC':          27,
    'HELP':         47,
    'HOME':         36,
    'INS':          45,
    'INSERT':       45,
    'LEFT':         37,
    'LWIN':         91,
    'NUMLOCK':      144,
    'PGDN':         34,
    'PGUP':         33,
    'PRTSC':        44,
    'RIGHT':        39,
    'RMENU':        165,
    'RWIN':         92,
    'SCROLLLOCK':   145,
    'SPACE':        32,
    'TAB':          9,
    'UP':           38,
    'DOWN':         40,
    'BACKSPACE':    8,
    'F1':           112,
    'F2':           113,
    'F3':           114,
    'F4':           115,
    'F5':           116,
    'F6':           117,
    'F7':           118,
    'F8':           119,
    'F9':           120,
    'F10':          121,
    'F11':          122,
    'F12':          123,
    'F13':          124,
    'F14':          125,
    'F15':          126,
    'F16':          127,
    'F17':          128,
    'F18':          129,
    'F19':          130,
    'F20':          131,
    'F21':          132,
    'F22':          133,
    'F23':          134,
    'F24':          135,
} 
```

我只是不知道如何使用它们！具体来说，我希望能够退格。

非常感谢您！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T07:00:16.587

忽略 CODES 字典中的所有值。（即 8、8、8、3、20、20 等）唯一重要的是键（'BACK'、'BACKSPACE'、'BS' 等），您可以通过用括号括起来并调用函数：

```
import SendKeys
send = "dirx{BACKSPACE}{ENTER}"
SendKeys.SendKeys(send) 
```

这会发送一个“dir”命令。

这里的所有都是它的！

# sql - 在 Oracle Apex 中显示触发器 DBMS_OUTPUT.PUT_LINE

> ID：15803779
> 
> 赞同：1
> 
> 时间：2013-04-04T06:13:30.417
> 
> 标签：sql, oracle, plsql, triggers, dbms-output

我有一个触发器：

```
CREATE OR REPLACE TRIGGER Med_Allergy_Warning BEFORE INSERT ON Prescription FOR EACH ROW
BEGIN
    IF (Find_ADR(:NEW.Visit_ID, :NEW.Medication_ID) != 'GOOOO') THEN
        DBMS_OUTPUT.PUT_LINE('Medication ('||:NEW.Medication_ID||') May cause an allergic reaction… You are warned!');
    ELSE
        DBMS_OUTPUT.PUT_LINE('Medication ('||:NEW.Medication_ID||') was prescribed successfully!');
END IF;
END;/ 
```

每当用户输入可能导致过敏反应的处方时，它就会输出 DBMS_OUTPUT.PUT_LINE。但是，用户在 APEX 中创建条目 - 无论如何创建一个区域以在同一页面上显示此 DBMS_OUTPUT.PUT_LINE 消息？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T06:20:52.677

理论上，您应该能够调用`DBMS_OUTPUT.GET_LINE`以获取 APEX 代码中的数据并显示该数据。但是，构建依赖于写入的应用程序功能`DBMS_OUTPUT`是一种糟糕的方法。如果您想记录有关潜在过敏反应的信息，您真的应该将其记录到您的 APEX 应用程序随后可以报告的表中。希望无论应用程序问题`INSERT`已启用`DBMS_OUTPUT`，更不用说为输出分配足够大的缓冲区，更不用说碰巧记得从缓冲区中读取并将其显示给人类，这是一个非常糟糕的主意。

# asp.net - 如何在模板按钮事件上从网格视图中获取值并存储到文本框中？

> ID：15803780
> 
> 赞同：0
> 
> 时间：2013-04-04T06:13:31.630
> 
> 标签：asp.net

我已经创建了一个用于保存中等详细信息的表单，列是 MID、MediumName、CreationDate、Status。我在一个名为 gvmedium 的 gridview 中绑定了完整表，我在表单上有一个文本框。我想从网格中填充文本框在模板按钮单击事件上查看 MediumName 列的值。有人可以帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:20:59.147

您可以使用 CommandName 和 Command Argument 来实现它，并在代码后面使用`RowCommand`事件。

```
 <ItemTemplate>
        <asp:LinkButton ID="lnkResetPassword" Text="Reset Password" runat="server" CommandName="ResetPassword" CommandArgument='<%# Bind("UserId") %>'></asp:LinkButton>
   </ItemTemplate> 
```

然后在这里做你的工作

```
 protected void grdUserGroupList_RowCommand(object sender, GridViewCommandEventArgs e)
        {
            if (e.CommandName == "ResetPassword")
            {
               GridViewRow gvr = (GridViewRow)(((LinkButton)e.CommandSource).NamingContainer);
               int RowIndex = gvr.RowIndex; 
               lblMId.Text = e.CommandArgument.ToString(); 
               txtMedium.Text=gvMedium.Rows[RowIndex ].Cells[0].Text; 
            }
        } 
```

# javascript - jquery中变量的未定义属性

> ID：15803784
> 
> 赞同：2
> 
> 时间：2013-04-04T06:13:40.930
> 
> 标签：javascript, jquery

使此代码工作的正确方法是什么？

```
$(function(){

    var base = {
            $wrapper: $('.homepage_main'),
            $main: base.$wrapper.find('#primary').find('.home_slides').closest('[data-id="Colleague"]'),
            $panel: base.$wrapper.find('#sidebar').find('.home_slides').closest('[data-id="Colleague"]'),

            Template: {
                $img: function () { return $('img'); }
            },

            Modal: {
                $modalInterrupt: $('#searching_interruption'),
                Suggestion: {
                    $self: $('#suggested_colleague'),
                    $loading: base.Modal.Suggestion.$self.find('.gif_loading'),
                    $paging: base.Modal.Suggestion.$self.find('.pagination'),
                    $itemContainer: base.Modal.Suggestion.$self.find('.request_items'),
                    $itemClone: base.Modal.Suggestion.$itemContainer.find('[data-id="Clonable"]').clone().removeAttr('data-id').removeClass('hide'),
                    $lblCount: base.Modal.Suggestion.$self.find('[data-id="SuggestCount"]'),
                    $listItems: function () {
                        return base.Modal.Suggestion.$itemContainer.find('.coll_panel_content:not([data-id="Clonable"])');
                    }
                }
            }
        };
}); 
```

`Uncaught TypeError: Cannot read property '$wrapper' of undefined`当您查看 Google Chrome 控制台时， 我得到了。

[一些小提琴](http://jsfiddle.net/MyNameIsCode/DuFLd/1/)

我试着拔出`$wrapper`，现在我得到了新的错误：

```
Uncaught TypeError: Cannot read property 'Modal' of undefined 
```

[另一个小提琴样本](http://jsfiddle.net/MyNameIsCode/XX4Zh/)

我采用这种方法是因为它更易于管理。例如，如果我在我的 html 页面上更改了一些类名或 id，我只需在我的 jquery 代码中修改 1 个特定变量，一切都会再次正常。如果你知道更好的方法，请分享给我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T06:22:50.743

在定义变量时，您不能使用它。所以一个更简短的例子是：

```
var hi = "hi" + hi.length; 
```

因为变量还没有完全定义。

要使您的代码正常工作，请预先定义您需要的变量：

```
$(function(){
    var $wrapper = $('.homepage_main'),
        $modalSelf = $('#suggested_colleague'),
        $itemContainer = $modalSelf.find('.request_items');
    var base = {
            $main: $wrapper.find('#primary').find('.home_slides').closest('[data-id="Colleague"]'),
            $panel: $wrapper.find('#sidebar').find('.home_slides').closest('[data-id="Colleague"]'),

            Template: {
                $img: function () { return $('img'); }
            },

            Modal: {
                $modalInterrupt: $('#searching_interruption'),
                Suggestion: {
                    $loading: $modalSelf.find('.gif_loading'),
                    $paging: $modalSelf.find('.pagination'),
                    $itemClone: $itemContainer.find('[data-id="Clonable"]').clone().removeAttr('data-id').removeClass('hide'),
                    $lblCount: $modalSelf.find('[data-id="SuggestCount"]'),
                    $listItems: function () {
                        return $itemContainer.find('.coll_panel_content:not([data-id="Clonable"])');
                    }
                }
            }
        };
}); 
```

# javascript - JQuery UI Draggable包含不适用

> ID：15803786
> 
> 赞同：0
> 
> 时间：2013-04-04T06:13:48.460
> 
> 标签：javascript, jquery, jquery-ui

```
$("div.con_user").draggable({ 
        delay: 100,
        revert: true,
        containment: $(this).closest(".roomblock_content"), 
        start: function( event, ui) {
            $(this).css("z-index", "200");
        },
        stop: function( event, ui) {
            $(this).css("z-index","50");
        }
    }); 
```

JQuery UI 的包含选项似乎被破坏了。除非我克隆 div.con_user 并重新应用可拖动对象，否则它似乎根本不尊重包含选项。

可能是因为我的页面中有许多 .roomblock_content 元素，还是因为我的可拖动对象包含在可放置对象中？

编辑：对不起，我忘记了 HTML 标记。这里是：

```
<div class="roomblock_content">
    <div class="roomblock_col1">
        <div class="roomblock_pool_box">
            <span class="roomblock_pool_title"> Pool </span>

            <ul class="roomblock_slots">
                <li>
                    <div class="con_user prepaid_con"> </div>
                </li>
                <li>
                    <div class="con_user prepaid_con"> </div>
                </li>
            </ul>
        </div>
    </div>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:32:59.517

我认为您错误地设置了可拖动的包含选项。它应该如下所示：

```
 containment: ".roomblock_content", 
```

**[演示](http://jsfiddle.net/maheshsapkal/JtQKK/)**

希望这对你有用:)

# html - 使用 Servlet 中的会话属性为 JSP 中的标签设置类属性

> ID：15803787
> 
> 赞同：0
> 
> 时间：2013-04-04T06:13:49.147
> 
> 标签：html, jsp, servlets

如果 JSP 中的标记中某些条件为真，如何设置类属性？在我的 JSP 页面中，我有一些选项卡。在第一个选项卡中，我有一个表单字段，提交后，它将调用 servlet，对其进行处理，然后转发到同一个 JSP 页面并设置会话属性值*（比如下一个选项卡的 id）*并在我的 JSP 页面中如果从会话属性获得的字符串是某个值，则在**LI**标记中，我将类属性设置为活动。但我无法得到它。

这是servlet代码的一部分

```
String dataloadType=request.getParameter("dataloadType");
if(dataloadType.equals("fromDB"))
        {
            request.setAttribute("activeTab", "fromDatabase");
            RequestDispatcher rd=request.getRequestDispatcher("index.jsp");
            rd.forward(request, response);
        } 
```

一部分`index.jsp`是

```
<div class="navbar btn-navbar">
            <div id="tabs" class="tabbable">
                <ul id="myTab" class="nav nav-tabs">
                    <li><a href="#datacollector" target="main"
                        data-toggle="tab">Data Collector</a></li>
                    <li id="fromDB" class="selectDataloadType <c:if test="${activeTab == 'fromDatabase'}">active</c:if>" style="display: none;"><a
                        href="#fromDatabase" target="main" data-toggle="tab">Data Load
                            Database</a></li>
                    <li id="fromFile" class="selectDataloadType" style="display: none;"><a
                        href="#fromFiles" target="main" data-toggle="tab">Data Load
                            File</a></li>
                    <li id="email" class="selectDataloadType" style="display: none;"><a
                        href="#fromEmail" target="main" data-toggle="tab">Data Load
                            Email</a></li>
                    <li id="webServices" class="selectDataloadType"
                        style="display: none;"><a href="#fromWebServices"
                        target="main" data-toggle="tab">Data Load Web</a></li>
                    <li><a href="#datamap" target="main" data-toggle="tab">Data
                            Map</a></li>
                    <li><a href="#schedule" target="main" data-toggle="tab">Schedule</a></li>
                </ul> 
```

**如果会话属性为“fromDatabase”，则ID为*fromDB的***LI**将类属性设置为活动，但它不起作用，因为它没有将该部分作为代码。这是 index.jsp**

 **![在此处输入图像描述](https://i.stack.imgur.com/Heav0.jpg)

它在页面中显示代码，所以它不接受它。我该如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T10:53:43.013

我认为你没有正确设置类属性...... LI 标签的类属性是`selectDataloadType [space] active`，所以最终它只是`selectDataloadType`我认为......

为什么不这样：

```
<li id="fromDB" <c:if test="${activeTab == 'fromDatabase'}">class="active"</c:if>... 
```

如果在任何情况下都需要类属性，则可以使用`choose`而不是...`if`**

# android - Android：如何在不使用 JDBC、PHP 或任何其他网络服务的情况下将数据发送到 MySQL DB？

> ID：15803789
> 
> 赞同：6
> 
> 时间：2013-04-04T06:14:05.403
> 
> 标签：android, mysql, web-services, jdbc

我正在开发一个 Android 应用程序来将数据发送到 MySQL DB。我正在使用 Apache 服务器。我知道使用 JDBC、PHP 将数据发送到 MySQL DB。现在的挑战是不使用 JDBC 和其他 Web 服务

```
1\. can it be possible to send data. 
2\. If yes, Please help me to achieve this.
3\. If no, what is the solution to overcome this. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:52:34.397

> 1.  是否可以发送数据。

简短的回答：**不**，这是不可能的。你会怎么想象？您需要一些机制（Web 服务、servlet 等）如何接收和发送数据到远程数据库/服务器。由于没有“这种机制”它是远程的，因此不可能实现您的目标。

所以解决方案是使用提到的“机制”。你别无选择。

# integration-testing - WebFlowTestCase registerFlow() 多个流可能吗？

> ID：15803794
> 
> 赞同：1
> 
> 时间：2013-04-04T06:14:55.833
> 
> 标签：integration-testing, spring-webflow

嗨，我有一个 WebFlowTestCase 并且工作正常，但是当我需要测试同一控制器（groovy）中的另一个流时遇到了问题。这是我的控制器的样子：

```
 class MyController {

    def someService
    def dateHelper = new DateHelper()
    def index = {... }
    def myCreateFlow = {
              start{}
              createCase{}
              finishCancel{
    }
    def myViewFlow = {...}
    def myEditFlow = {...}
    } 
```

我已经成功地为**myCreateFlow**创建了测试，如下所示：

```
 class MyControllerTest  extends WebFlowTestCase {

        def myController =  new MyController();

        @Override
        public Object getFlow() {
            // TODO Auto-generated method stub
             return myController.myCreateFlow
        }
        protected void setUp() {
            super.setUp()
        }

        protected void tearDown() {
            super.tearDown()
        }

        void testmyCreateFlow()
        {
            ...
        }
} 
```

我的问题是 myEditFlow 和 myViewFlow 怎么样？getFlow() 只返回 myCreateFlow 时，如何注册或使用它？有没有我可以在一个 webflowtest 中使用所有这些而不创建新的 webflowtestclass 的方法？或者有没有一种方法可以将它放在 getflow 中，使用一些 switch/if else 方法，例如：

```
@Override
            public Object getFlow() {
                // TODO Auto-generated method stub
                if condition
                            return myController.myCreateFlow
                         else return myController.myEditFlow
            } 
```

因为当我尝试创建 testmyEditFlow() 时出现以下错误，我知道这是因为 get 流仅返回 myCreateFlow。至少这是我对测试错误消息的看法。

> 在流“test”中找不到 ID 为“myEditFlow”的状态——已知状态 ID 为“array['start','createCase'...'finishCancel']'

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-27T20:23:10.917

您可以在 setUp 方法中注册其他流程，如下所示：

```
 protected void setUp() {
    super.setUp()
    registerFlow("myController/myEdit", myController.myEditFlow)
    registerFlow("myController/myView", myController.myViewFlow)
} 
```

# c# - 无法从 Windows 服务应用程序运行批处理文件

> ID：15803795
> 
> 赞同：0
> 
> 时间：2013-04-04T06:14:56.193
> 
> 标签：c#, .net, service, batch-file, windows-services

我有批处理文件：sample.bat，代码如下：

```
@ECHO OFF

SET /a INT1=%1
SET /a INT2=%2

SET /a ANSWER=INT1*INT2

ECHO %ANSWER%

PAUSE 
```

还创建了另一个批处理文件：`cmdSample.bat`使用以下代码：

样品 2 4

所以如果我运行 cmdSample.bat 文件，它会给我正确的结果。

之后，我创建了 1 个 Windows 服务应用程序，在其中我尝试调用该批处理文件并传递命令，如下所示：

```
private void DoWork()
    {
        try
        {
            string fname = @"C:\Users\of4\Desktop\sample.bat";
            string cmd = "sample 2 4";
            RunSampleBatch(fname, cmd);
        }
    }

    private void RunSampleBatch(string fname, string cmd)
    {
        Process p = new Process();
        p.StartInfo.FileName = fname;
        p.StartInfo.Arguments = cmd;
        p.Start();
    } 
```

谁能帮助我，为什么我无法通过 Windows 服务应用程序执行批处理文件？

提前致谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:18:44.757

您的参数已关闭，您将“sample”作为第一个参数提供给 sample.bat。

您的服务可能未在您的用户帐户下运行。也许它甚至无法访问您的文件。

您需要使用 cmd.exe 启动批处理文件。[你可以在这里](https://stackoverflow.com/questions/5519328/executing-batch-file-in-c-sharp)找到一个很好的解释。

你想做什么？从 Windows 服务运行批处理文件没有多大意义，您将无法看到结果。也许您应该首先尝试使用控制台应用程序来调试您的问题。

下次您可能还想发布一个实际错误，因为以上所有内容都只是猜测，我们需要更多信息，而不仅仅是“不起作用”。

# php - 当我将我的 uri 重定向到另一个页面时无法获取用户 ID

> ID：15803799
> 
> 赞同：0
> 
> 时间：2013-04-04T06:15:14.717
> 
> 标签：php, facebook, sdk

我的主页要求用户登录，一旦他们登录一切正常......我想让redirect_uri转到www.domain.com/file.php但是当我尝试完成它时它不会发送用户 ID 或任何信息与页面**www.domain.com/file.php**显示用户 ID：0，与没有重定向时相比，有一些**用户 ID：2132312312** .. 这是我的代码

**头文件.php**

```
<?php 
require 'php-sdk/facebook.php';
$facebook = new Facebook(array(
    'appId' => 'code',
    'secret' => 'code'
    ));
$user = $facebook->getUser();
?> 
```

**索引.php**

```
<?php
if ($user): //check for existing user id
    echo '<p>User ID: ', $user, '</p>';

    //print logout link
    echo '<p><a href="logout.php">logout</a></p>';
else: //user doesn't exist
    $loginUrl = $facebook->getLoginUrl(array(
        'scope'=>'email',
        'redirect_uri' => 'http://domain.com/file.php'
    ));
    echo '<p><a id ="fb_connect" href="', $loginUrl, '"><img alt="Connect Using Facebook" src="images/fb_connect.png"></a></p>';
endif; //check for user id  
?> 
```

**文件.php**

```
<?php 

 echo '<p>User ID: ', $user ,'</p>';
 if ($user) {
echo '<a id="logout" href="logout.php" >Logout</a>';
}
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:25:17.600

使用会话变量来存储用户 ID。＆然后在您想要的任何页面上获取它们

# php - 为什么我们在使用 Slim 类之前添加 \Slim？

> ID：15803800
> 
> 赞同：1
> 
> 时间：2013-04-04T06:15:16.717
> 
> 标签：php, prefix, slim

一旦我们使用 require 函数包含了 SLIM PHP 类，为什么我们还要用**\Slim**前缀来实例化 Slim 类。

```
<?php
    $app = new \Slim\Slim(); // Why \Slim before Slim();
    $app->get('/hello/:name', function ($name) {
       echo "Hello, $name";
    });
$app->run();
?> 
```

请帮我理解这里前缀“\Slim”的作用。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T06:20:17.140

那是因为`Slim`类是在`\Slim`命名空间下定义的；无论您是否拥有`require()`该文件，都需要规范参考。

为避免代码中出现较长的类引用，您可以这样做：

```
use \Slim\Slim;

$app = new Slim(); 
```

# iphone - UIImageView 不接受图片并给出Null？如何解决？

> ID：15803804
> 
> 赞同：0
> 
> 时间：2013-04-04T06:15:35.617
> 
> 标签：iphone, ios, ios5, iphone-sdk-3.0, iphone-4

UIImageView 没有获取图像并给出 null，我也尝试过使用惰性代码，但它仍然给出 null。

```
UIImageView *image_view=[[UIImageView alloc]initWithFrame:CGRectMake(10, 2, 50, 58)];

  NSString *StrImg=[[NSString alloc]init];

  StrImg=[NSString stringWithFormat:@"%@",[[Array_FinalobjectAtIndex:indexPath.row]objectForKey:@"coverphoto"]];

  NSLog(@"StrImg value=%@",StrImg);

 [image_view setImageWithURL:[NSURL URLWithString:StrImg] placeholderImage:[UIImage imageNamed:@"star.png"] success:^(UIImage *image) {}failure:^(NSError *error){}]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:32:09.693

```
NSString *str = @"http://www.hdwallpaperspk.com/wp-content/uploads/2013/02/windows-7-wallpaper.jpg";

UIImageView *imv=[[UIImageView alloc]initWithFrame:CGRectMake(10, 2, 50, 58)];

[self.view addSubview:imv];
imv.image = [UIImage imageWithData:[NSData dataWithContentsOfURL:[NSURL URLWithString:str]]]; 

Try this code. and Please make sure that your sting is valid. means load it in web browser. it must load image in browser. 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:14:54.667

我建议您使用 AsyncImageView 一个漂亮的实现，它由 iCarousel 之父 Nicklockwood 提供。

[https://github.com/nicklockwood/AsyncImageView](https://github.com/nicklockwood/AsyncImageView)

使用起来非常简单。

```
 #import "AsyncImageView.h" 
```

并且在所有 imageViews 中都这样做。

```
 [imageView setImage:@"default.png"];
    [imageView setImageURL:@"whateverurl/whateverimage.png"]; 
```

它就像一个魅力，我的代码正在生产中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-08-08T08:21:07.317

请检查您的网址。图像名称和图像路径。

例如，试试这个链接并检查图像是否出现。

```
http://thebooksmugglers.com/wp-content/uploads/2012/09/Kat-Zhang.jpeg 
```

我希望这会奏效

# performance - 计算子集的唯一交集

> ID：15803808
> 
> 赞同：3
> 
> 时间：2013-04-04T06:15:51.787
> 
> 标签：performance, algorithm, set, intersection, discrete-mathematics

给定一个集合*S* = {s [i] : {z [j] : z ∈ *N } }，计算**S*的子集的唯一交集的高效算法是什么？

作为背景，我正在处理这个问题的几个版本，有些版本比其他版本大。在最小的一个 | *小号*| ≈ 1,000, |s [i] | ≈ 10,000，值是邮政编码。

为清晰起见的小例子：

```
输入：S = {{},{1},{2,3},{3,4,5,6,7,8,9,10}}
输出：{{},{1},{2,3},{3,4,5,6,7,8,9,10},{3}}

```

| *小号*| = 4 并且有 2 ⁴ = 16 个*S*的子集。但是，只有五组独特的子集交集。前四个是*S*本身的成员。第五个是{3}。空集已经是*S*的成员。所有其他 10 个子集交集也产生空集。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T13:30:10.453

这是一个可能值得的快速预处理步骤。

称元素 x 和 y*等价*，如果对于每个集合 s [i]， x 和 y 都属于或不属于 s [i]。通过删除除每个等价类的一个代表之外的所有元素来简化问题。最后，将每个代表扩展到其类。

为简化起见，一个一个地扫描集合，同时维护从每个元素到其等价类的标签的映射，其中等价性是相对于迄今为止处理的集合确定的。最初，所有元素都在同一个类中，因此此映射将每个元素发送到相同的标签。要处理一个集合，请初始化一个新标签的空映射。对于集合中的每个元素 x，设 k 为 x 的当前标签。如果新标签映射中存在键 k，则 k 对应的值成为 x 的新标签。否则，我们分配一个新标签并将其分配给 x 并添加从 k 到新标签的映射。

这是您输入的执行。

1.  最初标签 = {1：a，2：a，3：a，4：a，5：a，6：a，7：a，8：a，9：a，10：a}。
2.  扫描 {}。没发生什么事。
3.  扫描 {1}。将标签 [1] 更改为 b。
4.  扫描 {2, 3}。将 label[2] 和 label[3] 更改为 c。
5.  扫描 {3, 4, 5, 6, 7, 8, 9, 10}。将 label[3] 更改为 d，将 label[4..10] 更改为 e。
6.  最后，label = {1: b, 2: c, 3: d, 4: e, 5: e, 6: e, 7: e, 8: e, 9: e, 10: e}。选择 1 (b) 和 2 (c) 以及 3 (d) 和 4 (e) 来表示他们的类。所有其他都被删除。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:34:21.217

**渐近时间复杂度：**

**n：**集合的数量，**在执行过程中会改变**

**m：**平均集合大小

**时间：** T(Search-Matching-Sets) x T(Intersection) x SUM { k } for k: 1..n

**时间：** 2m x 2m x 1/2 n(n+1)

**时间：** O(4 m^2 x 1/2 nx (n+1)) ~ **O(n^2 m^2)**

**建议的算法：**

```
FOR i: 1..n
{

    FOR j: i..n
    {

        IF i = j THEN SKIP

        INTERSECTION := FIND-INTERSECTION ( SETS[i], SETS[j] )

        IF INTERSECTION ⊄ SETS[] THEN ADD INTERSECTION TO SETS[]

    }

} 
```

# jquery - 加载时jQuery元素不能垂直居中

> ID：15803810
> 
> 赞同：0
> 
> 时间：2013-04-04T06:16:02.130
> 
> 标签：jquery, center

我让这段代码在 jsfiddle 上完美运行，但是当我在 Dreamweaver 中编写代码并在 Chrome（和其他浏览器）中预览时，加载时中央 div（带有测试的 3 个图像）不是垂直集中的。只有当我缩放浏览器窗口时，它才会像我预期的那样正确居中..

任何人都可以帮忙吗？谢谢！

[http://jsfiddle.net/nampham/v6HLT/](http://jsfiddle.net/nampham/v6HLT/)

**HTML**

```
<!--menu-->
<a href="#" id="logo"><b>bitchism<br>.</b></a>
<a href="#" id="projects"><b>projects<br>.</b></a>
<a href="#" id="writings"><b>writings<br>.</b></a>
<a href="#" id="contact"><b>.<br>contact</b></a>
<!--menu-->

<div id="first">
<img src="image/circle.gif" style="width:30%;display:inline-block"/> 
<img src="image/cloud3.gif" style="width:30%;display:inline-block"/> 
<img src="image/circle2.gif" style="width:30%;display:inline-block"/>
<br />Testing
</div> 
```

**脚本**

```
$(document).ready(function(){

$(window).resize(function(){

    $('#projects').css({
        position:'fixed',
        top: ($(window).height() - $('#projects').outerHeight())/2
    });

    $('#writings').css({
        position:'fixed',
        top: ($(window).height() - $('#writings').outerHeight())/2
    }); 

    $('#logo').css({
        position:'fixed',
        left: ($(window).width() - $('#logo').outerWidth())/2
    });

    $('#contact').css({
        position:'fixed',
        left: ($(window).width() - $('#contact').outerWidth())/2
    });

    $('#first').css({
        position:'fixed',
        top: ($(window).height() - $('#first').outerHeight())/2,
        left: ($(window).width() - $('#first').outerWidth())/2
    });

});

$(window).resize();

});

body
{
background-color:#FFF;
background-image:url(image/dot.png);
background-repeat:repeat;
font-family: 'VT323', cursive;
text-align:center;  
}

a{
text-decoration:none;
color:#F00;
font-size: 20px;
}

a:hover{
text-decoration:underline;
}

a:active{
text-decoration:line-through;
color:#F00;
}

#logo
{
position:fixed;
left:50%;
top:0;
padding-top:10px;
}

#contact
{
position:fixed;
left:0;
bottom:0;
padding-bottom:10px;    
}

#projects
{
position:fixed;
left:0;
top:50%;
transform:rotate(-90deg);
-ms-transform:rotate(-90deg); /* IE 9 */
-moz-transform:rotate(-90deg); /* Firefox */
-webkit-transform:rotate(-90deg); /* Safari and Chrome */
-o-transform:rotate(-90deg); /* Opera */"

}

#writings
{
position:fixed;
right:0;
top:50%;
transform:rotate(90deg);
-ms-transform:rotate(90deg); /* IE 9 */
-moz-transform:rotate(90deg);  /*Firefox */
-webkit-transform:rotate(90deg); /* Safari and Chrome */
-o-transform:rotate(90deg); /* Opera */
}

#first
{
position:fixed;
top:50%;
    left:50%;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:23:54.723

试试这个，你应该把你的代码放到一个命名函数中，然后调用这个函数。

例如：

```
function onResize() { ... } 
```

然后

```
$(document).ready(function(){
    $(onResize);
    $(window).resize(onResize);
}); 
```

或者

```
$(document).ready(function(){
    $(window).load('resize', onResize);
    $(window).bind('resize', onResize);
}); 
```

阅读更多：[jQuery 调整大小功能在页面加载时不起作用](https://stackoverflow.com/questions/2597152/jquery-window-resize-doesnt-work-on-load)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:31:08.517

试试这个

[**在这里**](http://jsfiddle.net/YAppA/1/)生活小提琴[](http://jsfiddle.net/YAppA/1/)

 **```
 function center_div(){
            $('#projects').css({
            position:'fixed',
            top: ($(window).height() - $('#projects').outerHeight())/2
        });

        $('#writings').css({
            position:'fixed',
            top: ($(window).height() - $('#writings').outerHeight())/2
        }); 

        $('#logo').css({
            position:'fixed',
            left: ($(window).width() - $('#logo').outerWidth())/2
        });

        $('#contact').css({
            position:'fixed',
            left: ($(window).width() - $('#contact').outerWidth())/2
        });

        $('#first').css({
            position:'fixed',
            top: ($(window).height() - $('#first').outerHeight())/2,
            left: ($(window).width() - $('#first').outerWidth())/2
        });
    }

$(window).load(center_div);
$(window).resize(center_div); 
```**

# c# - 使用 Aforge 保存图像

> ID：15803811
> 
> 赞同：0
> 
> 时间：2013-04-04T06:16:12.400
> 
> 标签：c#, aforge

我写了一个代码来访问网络摄像头并点击，将图片保存到一个文件夹中。

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using AForge.Imaging;
using AForge.Imaging.Filters;
using AForge.Video;
using AForge.Video.DirectShow;

namespace cam
{
public partial class Form1 : Form
{
    public static Bitmap _latestFrame;
    public Form1()
    {
        InitializeComponent();
    }
    private FilterInfoCollection webcam;
    private VideoCaptureDevice cam;
    Bitmap bitmap;

    private void Form1_Load(object sender, EventArgs e)
    {
        webcam = new FilterInfoCollection(FilterCategory.VideoInputDevice);
        foreach (FilterInfo VideoCaptureDevice in webcam)
        {
            comboBox1.Items.Add(VideoCaptureDevice.Name);

        }
        comboBox1.SelectedIndex = 0;
      }

    private void button1_Click(object sender, EventArgs e)
    {
        cam = new VideoCaptureDevice(webcam[comboBox1.SelectedIndex].MonikerString);
        cam.NewFrame += new NewFrameEventHandler(cam_NewFrame);
        cam.Start();

    }
    void cam_NewFrame(object sender, NewFrameEventArgs eventArgs)
    {
        bitmap = (Bitmap)eventArgs.Frame.Clone();

        pictureBox1.Image = bitmap;
    }
    private void pictureBox1_Click(object sender, EventArgs e)
    {
        pictureBox1.Image = bitmap;
    }
    private void button3_Click(object sender, EventArgs e)
    {
        if (cam.IsRunning)
        {
            cam.Stop();
        }

    }

    private void button2_Click(object sender, EventArgs e)
    {
        Bitmap current = (Bitmap)_latestFrame.Clone();
        string ActiveDir = AppDomain.CurrentDomain.BaseDirectory;
        string filepath = System.IO.Path.Combine(ActiveDir, @"D://picture/");
        if (!System.IO.Directory.Exists(filepath))
        {
            System.IO.DirectoryInfo OutputDir = System.IO.Directory.CreateDirectory(filepath);
            string fileName = System.IO.Path.Combine(filepath, @"name.bmp");
            if (!System.IO.File.Exists(fileName))
            {
                current.Save(fileName);
            }
        }
        current.Dispose(); 
    }

    }

    } 
```

在 button2 中，我编写了保存图片的代码，在构建程序时，给定的 line( `Bitmap current = (Bitmap)_latestFrame.Clone();`)显示了一个空引用异常

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:06:55.013

据我在您的代码中看到的，新的图像框架被复制到您的成员变量`bitmap`中。静态成员`_latestFrame`似乎从未被分配。

因此，在您的`button2_Click`方法中，将第一行更改为：

```
Bitmap current = (Bitmap)bitmap.Clone(); 
```

现在，如果您在单击按钮时至少从网络摄像头接收到一帧，则该帧应该已正确保存。

我也认为你`filepath`在方法中过度使用了设置`button2_Click`。首先，只需通过将您的方法更改为以下方式来验证图片是否可以正确保存到活动目录`button2_Click`：

```
private void button2_Click(object sender, EventArgs e)
{
    Bitmap current = (Bitmap)bitmap.Clone();
    string filepath = Environment.CurrentDirectory;
    string fileName = System.IO.Path.Combine(filepath, @"name.bmp");
    current.Save(fileName);
    current.Dispose();
} 
```

这将确保每次单击“*捕获*”按钮时都会将新图像写入“当前目录”。

我已经使用上述更改测试了您的代码，并且它可以完美运行。

# android - Android 加速度计累积

> ID：15803812
> 
> 赞同：3
> 
> 时间：2013-04-04T06:16:20.507
> 
> 标签：android, accelerometer

我在运行时连续获取加速度计值（即）X 和 Y 值。我的问题是，当加速度计的值在移动设备中发生变化时，应根据变化累积相应的值。

这是我的代码：

```
public class MainActivity extends Activity implements SensorEventListener {
    private SensorManager sensorManager;

    private float accumulation_x = 0;
    private float accumulation_y = 0;
    private float accumulation_z = 0;

    private TextView acessTextview, angleTextview;
    private float value;

    @Override
    public void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        findViewById();

        sensorManager = (SensorManager) getSystemService(SENSOR_SERVICE);
        sensorManager.registerListener(this,
                sensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER),
                SensorManager.SENSOR_DELAY_NORMAL);

    }

    public void onAccuracyChanged(Sensor sensor, int accuracy) {

    }

    public void onSensorChanged(SensorEvent event) {

        if (event.sensor.getType() == Sensor.TYPE_ACCELEROMETER) {

            int count = 1;
                    while(count!=0){

                        float x = (float) 0.9887777;
                        float y = (float) 0.187359372; 
                        float z = (float) 0.0228636;

                float X_axis = (float) (x + (0.02724095));
                float Y_axis = (float) (y + (-0.027792556));
                float Z_axis = (float) (z - (0.105689));

                accumulation_x = accumulation_x + X_axis;
                accumulation_y = accumulation_y + Y_axis;
                accumulation_z = accumulation_z + Z_axis;

                value = (y / z);
                float angle = (float) Math.toDegrees(Math.atan(value));
                angleTextview.setText("Angle:" + angle);

                acessTextview.setText("accumulation_x  :" + X_axis + "\n"
                        + "accumulation_y :" + Y_axis + "\n"
                        + "accumulation_z  :" + Z_axis);

                count++;

                    }

        }

    }

    private void findViewById() {
        // TODO Auto-generated method stub
        acessTextview = (TextView) findViewById(R.id.accessTextview);
        angleTextview = (TextView) findViewById(R.id.angleTextview);
    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:26:49.267

您的代码是正确的，只需要进行微小的更改，我已经使用名为 refreshValues() 的额外方法更新了您的代码。此方法会将 X、Y 的最新值设置为 TextView。此方法将从 onSensorChanged() 方法调用。

```
public class MainActivity extends Activity implements SensorEventListener {
    private SensorManager sensorManager;

    private float accumulation_x = 0;
    private float accumulation_y = 0;
    private float accumulation_z = 0;

    private TextView acessTextview, angleTextview;
    private float value;

    @Override
    public void onCreate(Bundle savedInstanceState) {

        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        findViewById();

        sensorManager = (SensorManager) getSystemService(SENSOR_SERVICE);
        sensorManager.registerListener(this,
                sensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER),
                SensorManager.SENSOR_DELAY_NORMAL);

    }

    public void onAccuracyChanged(Sensor sensor, int accuracy) {   }

    public void onSensorChanged(SensorEvent event) {

        if (event.sensor.getType() == Sensor.TYPE_ACCELEROMETER) {

            int count = 1;
                    while(count!=0){

                        float x = (float) 0.9887777;
                        float y = (float) 0.187359372; 
                        float z = (float) 0.0228636;

                float X_axis = (float) (x + (0.02724095));
                float Y_axis = (float) (y + (-0.027792556));
                float Z_axis = (float) (z - (0.105689));

                accumulation_x = accumulation_x + X_axis;
                accumulation_y = accumulation_y + Y_axis;
                accumulation_z = accumulation_z + Z_axis;

                value = (y / z);
                float angle = (float) Math.toDegrees(Math.atan(value));
                angleTextview.setText("Angle:" + angle);

                acessTextview.setText("accumulation_x  :" + X_axis + "\n"
                        + "accumulation_y :" + Y_axis + "\n"
                        + "accumulation_z  :" + Z_axis);

                count++;

                    }

        }

        refreshValues ( accumulation_x,accumulation_y );
    }

    private void findViewById() {
        // TODO Auto-generated method stub
        acessTextview = (TextView) findViewById(R.id.accessTextview);
        angleTextview = (TextView) findViewById(R.id.angleTextview);
    }

    private void refreshValues ( float x, float y )
    {
        acessTextview.setText ( String.valueOf(x) );
        angleTextview.setText( ( String.valueOf(y)));
    }

} 
```

# c# - SelectCommand 属性在调用“Fill”之前尚未初始化。在 WinForm 中

> ID：15803816
> 
> 赞同：12
> 
> 时间：2013-04-04T06:16:39.317
> 
> 标签：c#

我正在使用 C# 构建一个 Windows 应用程序。在我的登录表单中，我得到*Select Command 属性在调用 fill 方法之前没有被初始化*。

这是代码：

```
public partial class frmlogin : Form
{
    SqlConnection con = new SqlConnection("Data Source=TH07L019;Initial Catalog=loginerror;Integrated Security=True");
    DataTable dt = new DataTable();
    SqlCommand cmd = new SqlCommand();
    SqlDataAdapter adp = new SqlDataAdapter();

    public frmlogin()
    {
        InitializeComponent();
    }

    private void Form1_Load(object sender, EventArgs e)
    {
        cmd.Connection = con;
    }

    private void button1_Click(object sender, EventArgs e)
    {
        con.Open();
        cmd.CommandText = "select * from login where username='" + txt1.Text + "' and password='" + txt2.Text +"'";
        adp.Fill(dt);
        if (dt.Rows.Count > 0)
        {
            frmmain main = new frmmain();
            main.Show();
        }
        else
        {
            MessageBox.Show("Please enter correct name and passowrd", "Error", MessageBoxButtons.OK, MessageBoxIcon.Error);
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-04-04T06:24:02.047

在填充表之前，您必须指定 SqlDataAdapter 的选择命令。你没有这样做。您的 SqlCommand 对象未以任何方式连接到您的 SqlDataAdapter。

```
 adp.SelectCommand=cmd; 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2016-06-25T22:23:06.493

另一种实现方法是将 SQLCommand 作为参数简单地传递到您的数据适配器中，如下所示 -

```
SqlCommand cmd = new SqlCommand();
SqlDataAdapter adp = new SqlDataAdapter(cmd); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-04-25T07:39:00.817

SQL 数据适配器与数据表交互。它用于从 SQL Server 数据库中填充数据表。在填充数据表之前，数据适配器应该知道它将要执行的命令。所以我们必须填充 SQL 命令类型的对象，即

```
SqlDataAdapter da = new SqlDataAdapter(cmd); 
```

这`cmd`是 SQL 命令的对象。

现在，数据适配器将知道在填充数据表之前要执行哪个命令。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-09-20T11:18:56.217

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;
using System.Data.SqlClient;

namespace Employees_Details_Management_System
{
    public partial class ShowEmpDtlsFrm : Form
    {

        SqlConnection con = new SqlConnection(@"Data Source = (local); Initial Catalog = sp_emp; Integrated Security = True");

        public SqlCommand cmd { get; private set; }

        // private SqlCommand cmd;

        public ShowEmpDtlsFrm()
        {
            InitializeComponent();
        }

        private void dataGridView1_CellContentClick(object sender, DataGridViewCellEventArgs e)
        {

        }

        private void Form1_Load(object sender, EventArgs e)
        {
            ShwEmpDtlsLbl.Text = "Employee Database Management";
            comboBox1.Text = "Click";
        }

        private void comboBox1_SelectedIndexChanged(object sender, EventArgs e)
        {

        }
        public void DataGridChk()//Check if DataGrid is empty or not
        {
           if (dataGridView1.RowCount == 1)
            {
                dataGridView1.Visible = false;
                MessageBox.Show("The Given " + comboBox1.Text+ " is Invalid  \nEnter Valid " + comboBox1.Text);
            }
        }

        public void DbDataFetch(String Qry)//For Fetching data from database
        {
            SqlCommand cmd = new SqlCommand(Qry, con);
            SqlDataAdapter da = new SqlDataAdapter(cmd);
            DataSet ds = new DataSet();
            da.Fill(ds, "emp");
            dataGridView1.DataSource = ds.Tables["emp"].DefaultView;
            DataGridChk();
        }

        public void SrchBtn_Click(object sender, EventArgs e)
        {
            try
            {
                if (comboBox1.Text == "Employee ID" || comboBox1.Text == "Department ID" || comboBox1.Text == "Manager ID")
                {
                    if (textBox1.Text != "")
                    {
                        con.Open();
                        dataGridView1.Visible = true;
                        if (comboBox1.Text == "Employee ID")
                        {
                            string Qry = "select * from emp where emp_id='" + textBox1.Text + "' ";
                            DbDataFetch(Qry);
                        }
                        else if (comboBox1.Text == "Department ID")
                        {
                            string Qry = "select * from emp where  dep_id='" + textBox1.Text + "'  ";
                            DbDataFetch(Qry);
                        }
                        else if (comboBox1.Text == "Manager ID")
                        {
                            string Qry = "select * from emp where manager_id='" + textBox1.Text + "' ";
                            DbDataFetch(Qry);
                        }
                        con.Close();
                    }
                    else
                    {
                        MessageBox.Show("Please Enter the ID...");
                    }
                }
                else
                {
                    MessageBox.Show("Choose Valid Option...");
                }
            }
            catch (System.Data.SqlClient.SqlException sqlException)
            {
                System.Windows.Forms.MessageBox.Show(sqlException.Message);
                con.Close();
            }
        }

        private void button1_Click(object sender, EventArgs e)
        {
            EmpDtlsFrm edf = new EmpDtlsFrm();
            edf.Show();
            this.Hide();
        }
    }
} 
```

# matlab - 如何欺骗这个 Matlab MEX 再次读取函数？

> ID：15803821
> 
> 赞同：0
> 
> 时间：2013-04-04T06:17:08.220
> 
> 标签：matlab, mex

我使用的是闭源 MEX 函数，所以我不知道这在幕后工作。我将函数名称作为字符串提供给它，MEX 会以很长的延迟（几秒到几分钟）重复调用此函数。在开发过程中，我想在不重新启动 MEX 功能的情况下更改我提供的功能。

```
the_MEX_function( 'my_function' ); 
```

我试过这个：

*   只是编辑`my_function`
*   调用`my_function_2`和`my_function`编辑`my_function_2`

你对还有什么可以工作有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:56:18.027

你没有说为什么打电话不起作用`my_function_2`。`my_function`这似乎是正确的策略，但`my_function`应在开发期间执行之前清除`my_function_2`以确保重新加载；因此，无论是从命令行还是在 内`my_function`，包括：

```
clear my_function_2 
```

在生产代码中删除它以避免显着的性能影响。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-04T07:42:43.097

在第一次打电话给 mex 之前

1.  制作一个包含所需代码的文本文件（最好是一行）。这应该决定做什么`my_function`。
2.  更改`my_function`为执行以下读取文本文件和`eval`那里的代码。
3.  运行 mex 文件`my_function`
4.  在 mex 执行期间，您可以更改 txt 文件的内容以指向`my_function`不同的代码。

虽然不是一个很好的做法......

# ios - NSPredicate：比较没有时间的日期（目标 C）

> ID：15803826
> 
> 赞同：0
> 
> 时间：2013-04-04T06:17:22.700
> 
> 标签：ios, objective-c, date, nspredicate, nsfetchrequest

我在表中有 DATE 数据类型的列。我想设置谓词，我想在其中只比较没有时间的日期。由于日期的原因，我没有得到正确的结果。

我当前的代码 -

```
[fetchRequest setPredicate:[NSPredicate predicateWithFormat:@"((install_date > %@) AND (install_date <= %@))", fromDate,toDate]] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:26:18.513

我使用此功能从 NSDate 中抽出时间

```
+(NSDate *)dateWithOutTime:(NSDate *)datDate
{
if( datDate == nil ) {
    datDate = [NSDate date];
}
NSDateComponents* comps = [[NSCalendar currentCalendar] components:NSYearCalendarUnit|NSMonthCalendarUnit|NSDayCalendarUnit fromDate:datDate];
return [[NSCalendar currentCalendar] dateFromComponents:comps];

} 
```

我的建议是取出所有匹配的值，然后通过比较没有时间的日期来相应地过滤它们，因为你不能在 CoreData 中取出没有时间的日期，或者你必须先在没有时间的情况下存储它。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-12-19T06:12:12.240

在这种情况下，我使用此解决方案仅比较没有时间的日期，我的日期格式是 yyyy-MM-dd：

```
NSDateFormatter * formatter = [NSDateFormatter new];
[formatter setDateFormat:@"yyyy-MM-dd"];
NSString * dateString = [formatter stringFromDate:[NSDate date];
NSDate *rdate = [formatter dateFromString:dateString];

NSPredicate *datePre = [NSPredicate predicateWithFormat:@"date = %@", rdate]; 
```

# java - NullPointerException 未在 try 块中捕获

> ID：15803827
> 
> 赞同：-4
> 
> 时间：2013-04-04T06:17:29.470
> 
> 标签：java, error-handling, nullpointerexception, log4j, double

以下尝试`NullPointerException`通过日志记录捕获的代码不起作用。有人可以看看这个并指导我。

```
try {
    if (results1 != 00.00) {
        throw new Exception("Data must be added");
    }
}
catch (Exception e) {  
    log.error("You have an error", e);
} 
```

用户必须为 results1 输入一个值，因为它用于计算。Results1 是一个双倍，因为它是一个百分比，我愿意将它更改为一个 int 如果这就是让它工作所需要的。如果用户不小心添加了 % 符号，我还想检查一下 try and catch 技术。我希望我的记录器捕获 NumberFormatException 以进行测试。

更新：好的，感谢您的反馈（我不知何故忽略了这一点）。它仍然不起作用。我认为这可能是问题所在：

```
 (results1 != 00.00) 
```

这是检查双精度输入是否为空的最佳方法吗？另外我如何检查是否添加了字符串？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:19:15.073

`NullPointerExeption``NumberFormatException`不是因此它没有被抓住的一个例子。

您应该了解这两者的共同祖先，这里是文档：[NumberFormatException](http://docs.oracle.com/javase/7/docs/api/java/lang/NumberFormatException.html)和 [NullPointerException](http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html)。但从我的角度来看，最好`IllegalArgumentException`正确地抛出和处理它。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T06:19:31.733

`NullPointerException`不是一个`instanceof` `NumberFormatException`。您需要捕获正确的异常。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T06:21:44.490

如果您将代码更改为此它应该可以工作：

```
try {
   if (results1 != 00.00 ) { 
    throw new Exception("Data must be added"); 
   }
} catch (Exception e)   {  
   log.error("You have an error", e);
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T06:22:35.900

您必须将空指针异常作为另一个 catch 块来捕获。空指针异常不是 Numberformat 异常的实例

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-04T06:36:12.180

您应该捕获 NullPointerException 而不是 NumberFormatException。

# c# - 如何在 C#.net 中获取此计数查询

> ID：15803829
> 
> 赞同：1
> 
> 时间：2013-04-04T06:17:36.120
> 
> 标签：c#, .net

下面的代码正在执行，但该值未在屏幕上打印

```
 protected void Button1_Click(object sender, EventArgs e)
    {
        if (CheckBox1.Checked)
        {

        string OIMSquery = "SELECT COUNT(name) AS PolicySold FROM TestDate WHERE name='divi'";
        SqlCommand OIMScmd = new SqlCommand(OIMSquery, OIMS_01);
        OIMS_01.Open();
        OIMScmd.ExecuteNonQuery();
        OIMS_01.Close();      

        }       
   } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T06:19:07.263

你应该像这样调用[ExectueScaler](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.executescalar.aspx)

```
int count = (int) OIMScmd.ExecuteScalar(); 
```

[执行标量](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.executescalar.aspx)

> 执行查询，并返回查询返回的结果集中第一行的第一列。其他列或行将被忽略。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T06:19:11.157

用于`ExecuteScalar()`获取单个值

```
string OIMSquery = "SELECT COUNT(name) AS PolicySold FROM TestDate WHERE name='divi'";
SqlCommand OIMScmd = new SqlCommand(OIMSquery, OIMS_01);
OIMS_01.Open();
int _result = Convert.ToInt32(OIMScmd.ExecuteScalar());
OIMS_01.Close(); 
```

*   [执行标量（）](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.executescalar.aspx)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T06:19:16.710

你有一个查询。因此这个调用是不合适的：

```
OIMScmd.ExecuteNonQuery(); 
```

相反，您应该使用[`ExecuteScalar()`](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.executescalar.aspx)：

```
int count = (int) OIMScmd.ExecuteScalar(); 
```

（它可能会返回 a`long`而不是 an `int`- 我不确定。）

此外，您应该使用`using`语句`SqlCommand`并为每个操作创建一个新连接：

```
using (var connection = new SqlConnection(...))
{
    connection.Open();
    using (var command = new SqlCommand(query, connection))
    {
        int count = (int) command.ExecuteScalar();
        // Now use the count
    }
} 
```

也不清楚这是什么类型的应用程序 - 如果它在本地 GUI（WinForms 或 WPF）中，您*不*应该在 UI 线程上执行数据库访问。UI 将在数据库访问发生时被冻结。（如果这是在 Web 应用程序中，更重要的是每次都创建一个新的数据库连接……您不希望两个单独的请求同时尝试使用同一个连接。）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T06:28:58.617

尝试`OIMScmd.ExecuteReader();`返回`SqlDataReader`类对象的方法，然后从中读取值。

或者

使用，`Convert.ToInt32(OIMScmd.ExecuteScalar())`然后打印该值。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-04T06:19:33.690

使用`SqlCommand.ExecuteScalar()`而不是`ExecuteNonQuery()`返回任何内容。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-04T06:19:42.660

您需要使用：[ExecuteScalar()](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.executescalar.aspx)

> 执行查询，并返回查询返回的结果集中第一行的第一列。其他列或行将被忽略。

```
int result = Convert.ToInt32(OIMScmd.ExecuteScalar()); 
```

代替

```
OIMScmd.ExecuteNonQuery(); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-04-04T06:19:59.177

您可以使用[`SqlCommand.ExecuteScalar`](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlcommand.executescalar.aspx)方法；

> 执行查询，并返回查询返回的结果集中第一行的第一列。其他列或行将被忽略。

```
int i = (int)OIMScmd.ExecuteScalar(); 
```

由于此方法返回`object`，您应该将其隐式转换为`int`.

```
 using (SqlConnection OIMS_01 = new SqlConnection(connString))
 {
      SqlCommand OIMScmd = new SqlCommand(OIMSquery, OIMS_01);
      try
      {
          OIMS_01.Open();
          int i = (int)OIMScmd.ExecuteScalar();
      }
      catch (Exception ex)
      {
          Console.WriteLine(ex.Message);
      }
 } 
```

# android - 请求其他应用程序数据

> ID：15803834
> 
> 赞同：0
> 
> 时间：2013-04-04T06:18:06.003
> 
> 标签：android, shared, broadcast

在不同 APK 之间建立通信的好方法是什么？一个应用可以向其他应用发送请求并等待响应。

我能想到：

1.使用广播接收器：发送“请求”广播并接收返回的广播（结果）。这似乎是一个不错的干净解决方案，没有安全问题，但是如何将所有结果恢复为“一个” - 通常我会发送广播以收集应用程序标识，并获得类似数组的结果。

2\. 在所有这些应用程序之间使用 sharedUserId 并直接在应用程序上收集或执行我需要的任何内容。但这里有几个更松散的结局：
- 我如何获取应用程序列表（通过已安装包的列表？）
- 是否使用 sharedUserId 和相同的签名可以访问其他应用程序内部？像注册/注销组件等？

谢谢！

# 编辑：

一直在阅读有关有序广播的更多信息，到目前为止，这似乎是不错的选择。使用订单广播，其他每个应用程序将填写自己的数据部分，结果将返回给提供的“最终”接收器。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T09:35:26.710

我正在使用有序广播。发送广播时，每个接收者添加其信息，最后一个接收者调用 resultReceiver。

# windows-phone-7 - Window phone 7 SDK 到 Window phone 8 SDK

> ID：15803838
> 
> 赞同：0
> 
> 时间：2013-04-04T06:18:32.153
> 
> 标签：windows-phone-7

我使用window phone 7 SDK 制作了一个简单的应用程序，并在其中使用EmailComposeTask 实现了一个邮件任务。当我测试应用程序以发送邮件时，它说我设置帐户并且您无法发送邮件。我找到了一个解决方案，我必须安装 window phone 8 sdk 才能检查此邮件功能。所以问题如果我安装window phone 8 SDK，那么我的其他代码会正常工作吗？运行我当前的应用程序我还需要注意什么。

谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:52:29.423

如果 WP 应用程序是针对 WP 7.1 开发的，那么无论您是在 WP 7 sdk 还是 WP8 sdk 中运行它都没有关系。因此，即使您在 WP8 sdk 中运行，您的代码也是一样的。

顺便说一句，如果您无法在 WP7 模拟器中检查电子邮件任务，您可以在设备中进行测试。当然，它需要一个开发者帐户才能这样做。

此外，WP8 Emulator 仅适用于 Windows 8 Pro 版本。因为它需要 Hyper-V。你的硬件也应该支持这一点。

祝你好运 ！！

# asp.net - 如果使用 vb.net 在 asp.net 中的下拉列表，如何获取当前值

> ID：15803843
> 
> 赞同：1
> 
> 时间：2013-04-04T06:18:44.197
> 
> 标签：asp.net, vb.net

`Dim zonename As String = DropDownList1.SelectedItem.Text`

它总是显示下拉列表中的第一个值

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:25:38.443

[在参考](http://msdn.microsoft.com/en-in/library/system.web.ui.page.ispostback.aspx?cs-save-lang=1&cs-lang=vb#code-snippet-1)中尝试绑定`is not postback`

如果您绑定页面加载，您将始终获得下拉列表的第一个值。

```
private void Page_Load()
{
   if (!IsPostBack)
   {
        //bind your dropdown here
   }
} 
```

在 VB 中

```
Sub Page_Load
  If Not IsPostBack
    ' bind your dropdown list
    Validate()
  End If
End Sub 
```

## 编辑 1

存储连接字符串，您可以使用 web.config 文件

[http://www.connectionstrings.com/Articles/Show/store-connection-string-in-web-config](http://www.connectionstrings.com/Articles/Show/store-connection-string-in-web-config)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:25:03.633

使用 page.ispostback

在页面加载事件中...

```
if NOT page.isPostBack Then
Dim zonename As String = DropDownList1.SelectedItem.Text
End if 
```

# html - CSS / HTML：无论父位置如何，浏览器窗口中的绝对元素居中（父也绝对）

> ID：15803850
> 
> 赞同：1
> 
> 时间：2013-04-04T06:19:16.047
> 
> 标签：html, css

在浏览器窗口中水平居中元素（div，但这不是重点）时出现问题。与其父元素相比，定位它没有问题，但希望它摆脱这个水平 - 但仍然保持它与它的垂直关系。也许我要求太多了？:-) 我可以使用 position:fixed 来做到这一点，但是不管怎样，元素都会在浏览器中的一个位置冻结...

```
 #parent li {
    display:inline;
    text-align:center;
    float:left;
    position:relative;
    padding: 12px 10px 4px 10px;
    margin-right:10px;
    height:28px;
    border:none;

    }
.child {
    margin:16px 0px 0px 0px;
    float:left;
    z-index: 100;
    position:absolute;
    text-align:left;
    padding:0;
    border:1px solid #BBBBBB;
    border-top:none;
    line-height:14px;
} 
```

我也可以用另一种方式问：这就是我想要的水平：

```
.child { 
margin:16px 0px 0px 0px; 
float:left; 
z-index: 100;
left: calc(50% - 400px); 
left: -moz-calc(50% - 400px); 
left: -webkit-calc(50% - 400px); 
position:fixed; 
top:inherit; 
text-align:left; 
padding:0; 
border:1px solid #BBBBBB; 
border-top:none; 
line-height:14px;
} 
```

这使它在父母的中间。伟大的。但是 - 当您在页面上向下滚动时，如果孩子可见，它会保持原样，而其余内容会滚动。而且，如果您滚动了一点，因此父级不在其顶部的原始位置，则子级将不会与父级对齐，而是从父级最初所在的顶部出现，像素明智……这不是最佳的…… ：-/

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:27:51.550

为您在 div 中的位置提供一些 (top,bottom) 属性。

```
#parent li {

position:relative;
top:50px;
left:50px;
}

.child {

position:relative;
top:50px;
left:50px;
} 
```

# php - 如何检查从日期和至今之间的两个日期

> ID：15803852
> 
> 赞同：0
> 
> 时间：2013-04-04T06:19:17.040
> 
> 标签：php, datetime

我有两个日期`from-date`& `to-date`。

我必须从下面显示的现有日期对它们进行比较，是否有任何一天在它们之间或不使用 php？
我可以做单日期检查，但我对两个日期检查感到困惑。

示例：我必须检查这些日期：-> from= `15 March 2013` &`15 April 2013` 在以下日期之间，无论是否有任何日子在这两个日期之间。

## 以下来自 db 表的数据

```
 #       from date            to-date
-----------------------------------------
1     01 April 2013         30 April 2013   //here we will find as falling
2     01 May 2013           15 May 2013   
3     01 June 2013          20 June 2013 
```

目前，在我看来，甚至没有一个逻辑可以尝试。请给我有关此问题的任何逻辑或建议..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T06:41:58.427

比较日期的最简单方法是将它们转换为[unix 时间戳](http://en.m.wikipedia.org/wiki/Unix_time)

因为 unix 时间戳是一个整数，所以您可以简单地使用关系运算符来比较它们。

**例子**

```
// set some example data
$referenceDate = '01 April 2013';
$fromDate = '01 January 2013';
$toDate = '01 June 2013';

// convert dates to timestamps (strings to integers)
$referenceTimestamp = strtotime( $referenceDate );
$fromTimestamp = strtotime( $fromDate );
$toTimestamp = strtotime( $toDate );

// isBetween is Boolean TRUE if reference date is greater or equal fromDate and smaller or equal toDate
$isBetween = $referenceTimestamp >= $fromTimestamp and $referenceTimestamp <= $toTimestamp; 
```

**编辑 1**

要实际回答您的问题：

你有两个范围需要测试重叠，这个问题已经在这里得到了回答[什么是测试两个整数范围重叠的最有效方法是什么？](https://stackoverflow.com/questions/3269434/whats-the-most-efficient-way-to-test-two-integer-ranges-for-overlap)

```
// our two ranges overlap if the following conditions are met
$dateRangeOverlaps = $referenceFromTimestamp <= $toTimestamp and $fromTimestamp <= $referenceToTimestamp; 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-04T06:35:09.900

请尝试代码，

```
 $ourdate = strtotime('1 April 2013'); // Your date which is to be checked

    $from = strtotime('15 March 2013'); // From date
    $to = strtotime('15 April 2013'); // To date

    if ($ourdate >= $from && $ourdate <= $to)
    {
      echo "Date falls";
    }
    else
    {
    echo "No Date falls";
    } 
```

如果您需要检查多个日期，请将其作为数组传递，如下所示...

```
 $i=0;
   $dates= array("11 April 2013","16 April 2013");
   foreach($dates as $ourdates)
   {
    $ourdate= strtotime($ourdates); //Your dates to be checked
    $from = strtotime('15 March 2013'); // From date
    $to = strtotime('15 April 2013'); // To date

          if ($ourdate >= $from && $ourdate <= $to)
              {
                 $i++;
              }
    }
    if($i>0)
    {
    echo "Date falls";
    }
    else
    {
    echo "No Date falls";
    } 
```

# php - 使用 MySQLi 将行插入 MySQL 数据库

> ID：15803853
> 
> 赞同：5
> 
> 时间：2013-04-04T06:19:17.837
> 
> 标签：php, mysql, mysqli

有人可以发现错误：

```
mysqli_query($connection, "INSERT INTO comments (event_id, fulltext, date_posted) VALUES (5, 'Hallo', 430234)"); 
```

连接已建立，但它只是不插入新行。

```
include("../../connect.php");

$event_id = intval($_GET["event_id"]);
$fulltext = $_GET["fulltext"];
$date = intval($_GET["date"]);

mysqli_query($connection, "INSERT INTO comments ('event_id', 'fulltext', 'date_posted') VALUES (5, 'Hallo', 430234)");

echo "INSERT INTO comments (event_id, fulltext, date_posted) VALUES (5, 'Hallo', 430234)";

mysqli_close($connection); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-04T06:21:58.380

**FULLTEXT**是**mysql**中的保留字，您不能将其用作列名，在查询下方使用```周围的列名

```
mysqli_query($connection, "INSERT INTO comments 
(`event_id`, `fulltext`, `date_posted`) VALUES (5, 'Hallo', 430234)"); 
```

# java - 无法暂停活动？

> ID：15803854
> 
> 赞同：3
> 
> 时间：2013-04-04T06:19:23.043
> 
> 标签：java, android, android-logcat

我是 Android 开发的新手。我编写了这段代码，但我无法弄清楚是什么导致我的应用程序崩溃。它告诉我活动无法暂停。我确定这是我要遗漏的东西。我写了过去工作的非常相似的代码，所以我不知道从哪里开始。

**SplashActivity.java**

```
public class SplashActivity extends Activity
{
    @Override
    protected void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_splash);

        ImageView logo = (ImageView) findViewById(R.id.ImageViewLogo);
        Animation twistIn = AnimationUtils.loadAnimation(this, R.anim.twist_in);
        logo.startAnimation(twistIn);
        twistIn.setAnimationListener(new AnimationListener()
        {
            public void onAnimationStart(Animation animation)
            {
                return; // do nothing
            }
            public void onAnimationRepeat(Animation animation)
            {
                return; // do nothing
            }
            public void onAnimationEnd(Animation animation)
            {
                startActivity(new Intent(SplashActivity.this, MenuActivity.class));
                SplashActivity.this.finish();
            }
        });
    }

    @Override
    protected void onPause()
    {
        super.onPause();

        TextView logo = (TextView) findViewById(R.id.ImageViewLogo);
        logo.clearAnimation();
    }
} 
```

这是 LogCat 的抱怨：

```
04-04 02:09:10.460: W/dalvikvm(12531): threadid=1: thread exiting with uncaught exception (group=0x4001e578)
04-04 02:09:10.480: E/AndroidRuntime(12531): FATAL EXCEPTION: main
04-04 02:09:10.480: E/AndroidRuntime(12531): java.lang.RuntimeException: Unable to pause activity {com.swapwords/com.swapwords.SplashActivity}: java.lang.ClassCastException: android.widget.ImageView
04-04 02:09:10.480: E/AndroidRuntime(12531):    at android.app.ActivityThread.performPauseActivity(ActivityThread.java:2358)
04-04 02:09:10.480: E/AndroidRuntime(12531):    at android.app.ActivityThread.performPauseActivity(ActivityThread.java:2315)
04-04 02:09:10.480: E/AndroidRuntime(12531):    at android.app.ActivityThread.handlePauseActivity(ActivityThread.java:2295)
04-04 02:09:10.480: E/AndroidRuntime(12531):    at android.app.ActivityThread.access$1700(ActivityThread.java:117)
04-04 02:09:10.480: E/AndroidRuntime(12531):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:942)
04-04 02:09:10.480: E/AndroidRuntime(12531):    at android.os.Handler.dispatchMessage(Handler.java:99)
04-04 02:09:10.480: E/AndroidRuntime(12531):    at android.os.Looper.loop(Looper.java:130)
04-04 02:09:10.480: E/AndroidRuntime(12531):    at android.app.ActivityThread.main(ActivityThread.java:3691)
04-04 02:09:10.480: E/AndroidRuntime(12531):    at java.lang.reflect.Method.invokeNative(Native Method)
04-04 02:09:10.480: E/AndroidRuntime(12531):    at java.lang.reflect.Method.invoke(Method.java:507)
04-04 02:09:10.480: E/AndroidRuntime(12531):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:912)
04-04 02:09:10.480: E/AndroidRuntime(12531):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:670)
04-04 02:09:10.480: E/AndroidRuntime(12531):    at dalvik.system.NativeStart.main(Native Method)
04-04 02:09:10.480: E/AndroidRuntime(12531): Caused by: java.lang.ClassCastException: android.widget.ImageView
04-04 02:09:10.480: E/AndroidRuntime(12531):    at com.swapwords.SplashActivity.onPause(SplashActivity.java:57)
04-04 02:09:10.480: E/AndroidRuntime(12531):    at android.app.Activity.performPause(Activity.java:3893)
04-04 02:09:10.480: E/AndroidRuntime(12531):    at android.app.Instrumentation.callActivityOnPause(Instrumentation.java:1194)
04-04 02:09:10.480: E/AndroidRuntime(12531):    at android.app.ActivityThread.performPauseActivity(ActivityThread.java:2345)
04-04 02:09:10.480: E/AndroidRuntime(12531):    ... 12 more
04-04 02:09:12.452: I/dalvikvm(12531): threadid=4: reacting to signal 3
04-04 02:09:12.452: I/dalvikvm(12531): Wrote stack traces to '/data/anr/traces.txt'
04-04 02:09:18.878: I/dalvikvm(12531): threadid=4: reacting to signal 3
04-04 02:09:18.878: I/dalvikvm(12531): Wrote stack traces to '/data/anr/traces.txt' 
```

我只是迷路了。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T06:21:06.830

采用

```
ImageView logo = (ImageView) findViewById(R.id.ImageViewLogo); 
```

代替

```
TextView logo = (TextView) findViewById(R.id.ImageViewLogo); 
```

在`onPause()`方法中，因为当前您正在尝试将`ImageView`（您已在 xml 布局中添加）转换为`TextView`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T06:21:23.643

您正在尝试使用 Textview 引用 ImageView 所以它会抛出`ClassCastException`

改变这个

```
 TextView logo = (TextView) findViewById(R.id.ImageViewLogo); 
```

对此

```
 ImageView logo = (ImageView) findViewById(R.id.ImageViewLogo); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T06:21:46.003

在 Oncreate() 方法中看到这一行

```
 ImageView logo = (ImageView) findViewById(R.id.ImageViewLogo); 
```

并且**onPause() 方法**使用已经写**了 TextView 而不是 ImageView**像上面一样

```
 TextView logo = (TextView) findViewById(R.id.ImageViewLogo); 
```

所以这给了你 classcast 异常..**将 TextView 更改为 ImageView**

# asp.net - 通过 RSS Feed 阅读 Gmail 收件箱

> ID：15803857
> 
> 赞同：4
> 
> 时间：2013-04-04T06:19:25.497
> 
> 标签：asp.net

我想通过 RSS 获取收件箱，我可以在使用 Response.Redirect 时获取 XML，但无法获取 XML 格式，它会抛出（401）未经授权的错误我的代码是

```
 string url = "https://myusername:mypassword@mail.google.com/mail/feed/atom";
    XmlReader reader = XmlReader.Create(url);
    SyndicationFeed feed = SyndicationFeed.Load(reader);
    reader.Close(); 
```

-->Response.redirect(url); //它正在工作任何人都可以对它有任何想法，或者是框架2.0的AE.Net.Mail.dll的任何版本

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:39:40.627

该类`XmlReader`无法解析来自 URL 的身份验证信息，您必须创建一个`XmlSettings`实例并将其`XmlResolver`属性设置为一个`XmlUrlResolver`实例，该实例的凭据设置为用户名和密码。然后，当您创建`XmlReader`实例时，您提供自定义`XmlSettings`实例。以下代码可以解决问题：

```
// Create a resolver with your credentials
XmlUrlResolver resolver = new XmlUrlResolver();
resolver.Credentials = new NetworkCredential("myusername", "mypassword");

// Set the reader settings object to use the resolver.
XmlReaderSettings settings = new XmlReaderSettings();
settings.XmlResolver = resolver;

string url = "https://mail.google.com/mail/feed/atom";

// Create the reader using the specified URL and settings
XmlReader reader = XmlReader.Create(url, settings);

SyndicationFeed feed = SyndicationFeed.Load(reader);
reader.Close(); 
```

但是，我尝试了此代码并`XmlException`抛出以下内容： *“名称为 'feed' 和命名空间 ' [http://purl.org/atom/ns#](http://purl.org/atom/ns#) '的元素不是允许的提要格式。”*

Google 输出的提要格式似乎与`SyndicationFeed`该类不兼容。欲了解更多信息，请参阅：[http ://www.eggheadcafe.com/tutorials/csharp/9faa101f-0a1a-465f-a41a-3e52dd9f7526/everything-rss--atom-feed-parser.aspx](http://www.eggheadcafe.com/tutorials/csharp/9faa101f-0a1a-465f-a41a-3e52dd9f7526/everything-rss--atom-feed-parser.aspx)

# worker - 工作排队软件的工作原理

> ID：15803859
> 
> 赞同：1
> 
> 时间：2013-04-04T06:19:32.617
> 
> 标签：worker, job-queue

我有一个小网站，我允许人们注册帐户。我希望在某人注册后，向他/她发送一封欢迎电子邮件和一封确认电子邮件。我想尝试使用工作排队系统来做到这一点.

我以前从未使用过工作排队系统，但这是我想做的。

我希望有一些工作优先于其他人。例如，如果有人来自我的区号，我希望尽快或立即发送确认电子邮件，而如果用户来自国外，我想在之后发送确认电子邮件几分钟，比如说五分钟。

我的问题是如何处理实际工作。如果工作优先于其他工作并且其他一些工作人员在工作开始前等待五分钟或更长时间，是否可以让工作人员立即处理一些工作。

第二个问题，作业排队系统如何知道队列中有一些作业？排队系统是否在每个设定的时间（即 5 分钟）后轮询队列，或者是否有某种机制让它通知新到达的作业？

# vb.net - 思杰服务器中的浏览器控制问题？

> ID：15803861
> 
> 赞同：1
> 
> 时间：2013-04-04T06:19:36.793
> 
> 标签：vb.net, webbrowser-control, citrix

我在我的 Win Form 中使用 Web 浏览器控件，当我尝试在本地打开应用程序时，它安装在 citrix 服务器中，它工作正常（即使在 IE 中）没有任何错误。当我尝试打开相同的应用程序后在服务器中部署，在 Web 浏览器控件内部加载表单时出现一些 Java 脚本错误。

JavaScript 错误是：（Internet Explorer 脚本错误）

1.  URL 中的字符无效

2.  ASP.NET Ajax 客户端框架失败

3.  “系统”未定义。

此错误是因为在控件中打开的站点还是缺少任何配置或 IE 问题？请帮忙

提前致谢。

# python - 用 html 运行 python

> ID：15803871
> 
> 赞同：1
> 
> 时间：2013-04-04T06:20:18.747
> 
> 标签：python, html

我很难做到这一点。每次我运行查看照片按钮时，它只显示 python 脚本而不是应用程序本身。

我正在尝试运行下面的 Python 脚本：

```
from os.path import join, dirname, exists
from pymt import *
current_dir = dirname(__file__)
fontname_title=join(current_dir,'fonts','7.ttf')
fontname_author_desc=join(current_dir,'fonts','author_desc.ttf')

css='''
.desktop-background,
.desktop-coverflow {
draw-background: 1;
bg-color: #000000;
}
.desktop-author,
.desktop-description {
color: #999999;
}
.desktop-title {
font-size: 60;
}
'''

css_add_sheet(css)

class Desktop(MTBoxLayout):
layout_def = '''
<MTBoxLayout orientation='"vertical"' cls='"desktop-background"'>
    <MTCoverFlow size_hint='(1, .7)' cls='"desktop-coverflow"'
        thumbnail_size='(256, 256)' cover_distance='150' id='"coverflow"'/>
    <MTAnchorLayout size_hint='(1, .3)'>
        <MTBoxLayout cls='"form"' padding='20' orientation='"vertical"'>
            <MTLabel id='"title"' label='"Unknown Title"' autosize='True'
                cls='"desktop-title"' anchor_x='"center"'/>
            <MTLabel id='"author"' label='"Unknown Author"' autosize='True'
                cls='"desktop-author"' anchor_x='"center"'/>
            <MTLabel id='"description"' label='"Unknown Description"' autosize='True'
                cls='"desktop-description"' anchor_x='"center"'/>
        </MTBoxLayout>
    </MTAnchorLayout>
</MTBoxLayout>
'''

def __init__(self, **kwargs):
    super(Desktop, self).__init__(**kwargs)
    self.xml = xml = XMLWidget(xml=Desktop.layout_def)
    self.xml.autoconnect(self)
    self.add_widget(self.xml.root)
    self.coverflow = xml.getById('coverflow')
    self.title = xml.getById('title')
    self.author = xml.getById('author')
    self.description = xml.getById('description')
    self.title.font_name=fontname_title
    self.author.font_name=fontname_author_desc
    self.description.font_name=fontname_author_desc
    self.populate()

def populate(self):
    # search plugins
    self.plugins = plugins = MTPlugins(plugin_paths=[
        join(current_dir, 'app')])
    plugins.search_plugins()

    # populate the coverflow with plugin list
    first_entry = None
    for key in plugins.list():
        plugin = plugins.get_plugin(key)
        infos = plugins.get_infos(plugin)

        icon = None
        for icon_filename in ('icon-large.png', 'icon-large.jpg',
                              infos['icon'], 'icon.png'):
            icon = join(infos['path'], icon_filename)
            if exists(icon):
                break
            icon = None

        # no icon ?
        if icon is None:
            print 'No icon found for', infos['title']
            continue

        # create an image button for every plugin
        button = MTImageButton(filename=icon)
        if first_entry is None:
            first_entry = button
        button.infos = infos
        button.plugin = plugin
        self.coverflow.add_widget(button)

    # display first entry
    if first_entry:
        self.show_plugin(first_entry)

def on_coverflow_change(self, widget):
    '''Called when the coverflow widget is changed
    '''
    self.show_plugin(widget)

def on_coverflow_select(self, widget):
    '''Called when the coverflow widget have a selection
    '''
    plugin = widget.plugin
    win = self.parent
    self.plugins.activate(plugin, self.parent)
    btn_close = MTImageButton(filename=join(current_dir,'icons','home.png'))
    btn_close.connect('on_release', curry(
            self.on_plugin_close, self.parent, plugin))
    self.parent.add_widget(btn_close)
    self.parent.remove_widget(self)

def on_plugin_close(self, win, plugin, *largs):
    '''Called when the close button is hitted
    '''
    self.plugins.deactivate(plugin, win)
    win.children.clear()
    win.add_widget(self)

def show_plugin(self, widget):
    '''Show information about a plugin in the container
    '''
    self.title.label = widget.infos['title']
    self.author.label = widget.infos['author']
    self.description.label = widget.infos['description']

if __name__ == '__main__':
runTouchApp(Desktop())` 
```

使用下面的按钮

```
<html>
        <div class="art-blockcontent">
    <p style="text-align: center;"><img width="176" height="132" alt="" src="images/boat.jpg"></p>
<p style="text-align: center;">&nbsp;
<a href="Python\pictures\malacca.py" class="art-button">View Photo</a>&nbsp;<br></p></div>
</html> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T06:39:17.537

由于您的 python 文件的 URL 中有反斜杠，我将猜测您做错了什么。

Python 不会在您的网络浏览器中运行。因此，如果您直接从硬盘加载 HTML 文件（即使用`file://`URL），那么浏览器将只显示您的源代码。

您需要设置一个 Web 服务器来运行 python。如何让服务器运行 python 代码取决于服务器。而且你可能想要重新编写你的 python 代码。它似乎是根据已被有效放弃多年的 CGI 标准编写的。每次请求页面时，CGI 都会运行一个程序，其中 HTML 被“打印”——因为它每次都会启动一个新进程，速度非常慢。现代系统加载代码一次，然后在每次请求页面时调用代码中的方法，该方法返回 HTML，或者更一般地说是包含 HTML 和元数据的“响应对象”。

我建议检查[Flask](http://flask.pocoo.org/)或[cherrypy](http://www.cherrypy.org/)作为简单的起点。

# entity-framework - 在 POCO 对象中存储 DbContext 引用会出现什么问题？

> ID：15803874
> 
> 赞同：0
> 
> 时间：2013-04-04T06:20:24.910
> 
> 标签：entity-framework, unit-testing, c#-4.0, design-patterns

我是一个 15 岁的应用程序的新手。团队负责人已开始使用 Entity Framework + 以及现有的 WebForms + Sprocs。

EF 中的一些 POCO（域实体）具有包含对 DbContext 的引用的属性，通常是对象图顶部的父对象。当我尝试编写测试时，我不断收到 Context Disposed 异常。

```
 public EmployerService(int UserID, Entities entities) // business layer
    {
        this.UserID = UserID;
        _entities = entities;
    }        

    internal Employer CreateEmployer()
    {
        Employer  employer = _entities.Employers.Create();
        employer.MasterItem = _entities.MasterItems.Create();
        employer.MasterItem.LastModified = _entities.ItemLastModifieds.Create();
        employer.DBContext = _entities;
        ...
        return employer;
    } 
```

更重要的是，项目引用不干净。POCO 引用数据和业务逻辑层。我正在构建一个案例以从 POCO 对象中获取 DbContext 引用，但我的搜索才刚刚开始。

所以我的问题是，哪些设计原则支持或拒绝从 POCO 引用 DAL 层？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:33:09.923

您的 DAL 层潜入业务逻辑层。服务现在与实体框架紧密耦合（顺便说一句，我认为将 EntityFramework.dll 的引用添加到您的域项目中不是一个好主意）。考虑我们正在迁移到 NHibernate。你应该改变什么？每个人都会认为这是 DAL 任务。但是等等，我的域中有一些 DAL！我们应该改变 EmployerService 类。

因此，请让您的域实体始终保持无知。尤其是让他们不知道您正在使用的具体持久性技术。我认为创建雇主的更好地方是工厂。另外我不明白你为什么不在这里使用简单的构造函数？看起来您可以在创建雇主期间避免使用实体框架。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T15:52:50.067

最重要`vocal` `design principle`的是**您在**当前设计中遇到问题。

`DbContext`应该被用作`short-living`- 并且它不应该被存储`for later`。您所持有的参考资料并没有多大意义，因为它得到了`Disposed`.

至少你应该检查它是否是`Disposed`（你可以通过覆盖`Dispose`我猜，设置一个标志或其他东西来做到这一点）。**但如果是怎么办？**

基本上，如果你仍然那样使用它——确保你的 POCO 对象也是“短命的”——但我敢肯定这会很痛苦。

# javascript - 跳转到图像地图上的特定位置

> ID：15803875
> 
> 赞同：3
> 
> 时间：2013-04-04T06:20:26.817
> 
> 标签：javascript, html, image, imagemap

我有一个带有 HTML 的大图像`<map>`，我想跳转到该图像上的特定区域。我已经使用`<area />`标签来标记位置

看一下代码：

```
<img src="demo_files/k3.png" id="target" alt="Map" usemap="#powerpuffgirls" />
<map name="powerpuffgirls">
    <area shape="rect" coords="624,137,671,167" href="#" id="ppg" title="The Powerpuff Girls" alt="The Powerpuff Girls" />
    <area shape="rect" coords="99,2685,161,2723" href="#" name="ppg1" title="The Powerpuff Gidrls" alt="The Powerpuff sGirls" />
</map> 
```

但是，我无法移动到图像上的任何区域。

**编辑：**移动到图像特定区域的任何其他方法都会很棒！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-06T07:33:42.377

试试这个[链接](http://jsfiddle.net/55tdu/)

```
$('a.links').click(function(e){
  e.preventDefault();
  var coor = $(this.hash).attr('coords').split(',');
  $('html,body').scrollTo(coor[0], coor[1]);
}); 
```

我使用了插件[scrollTo](http://yckart.github.io/jquery.scrollto.js/)

该脚本将阻止标签的默认功能，并将从区域标签中获取坐标属性，并从 href 属性中获取 id 并计算位置并滚动到该位置

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:48:31.723

检查我创建的这个**演示......**

尝试通过 id 导航区域...

```
<div><a href="#ppg">Go to one</a> <a href="#ppg1">Go to two</a></div> 
```

您必须使用其中的区域坐标...

[http://jsfiddle.net/D9W6C/](http://jsfiddle.net/D9W6C/)

# sql-server - 每次更改帐号时都会重置运行总计

> ID：15803876
> 
> 赞同：1
> 
> 时间：2013-04-04T06:20:36.583
> 
> 标签：sql-server

表具有如下所示的数据。它包含两个帐号的数据

```
P_ID AcctNo 日期 金额
1 111A 04/03/2011 -331
2 111A 04/03/2011 600
3 111A 04/03/2011 20000
4 111A 05/03/2011 -20000
5 111A 10/03/2011 -260
6 111B 01/08/2011 2
7 111B 12/09/2012 500
8 111B 13/09/2012 -166
9 111B 13/09/2012 -225

```

我正在寻找一个查询来给我运行总计，如下所示（运行总计在帐户更改时重置）：

```
P_ID AcctNo 日期 金额 运行总计
1 111A 04/03/2011 -331 -331
2 111A 04/03/2011 600 269
3 111A 04/03/2011 20000 20269
4 111A 05/03/2011 -20000 269
5 111A 10/03/2011 -260 9
6 111B 01/08/2011 2 2
7 111B 12/09/2012 500 502
8 111B 13/09/2012 -166 336
9 111B 13/09/2012 -225 111

```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T06:56:27.973

如果您使用的是 SQL Server 2012，这是一个非常简单的查询：

```
declare @t table (P_ID int,AcctNo char(4), [Date] date, Amount int)
insert into @t(P_ID,AcctNo,Date,Amount) values
(1,'111A','20110304',-331),
(2,'111A','20110304',600),
(3,'111A','20110304',20000),
(4,'111A','20110305',-20000),
(5,'111A','20110310',-260),
(6,'111B','20110801',2),
(7,'111B','20120912',500),
(8,'111B','20120913',-166),
(9,'111B','20120913',-225)

select *,SUM(Amount) OVER (PARTITION BY AcctNo ORDER BY P_ID
      RANGE UNBOUNDED PRECEDING) from @t order by P_ID 
```

结果：

```
P_ID        AcctNo Date       Amount      
----------- ------ ---------- ----------- -----------
1           111A   2011-03-04 -331        -331
2           111A   2011-03-04 600         269
3           111A   2011-03-04 20000       20269
4           111A   2011-03-05 -20000      269
5           111A   2011-03-10 -260        9
6           111B   2011-08-01 2           2
7           111B   2012-09-12 500         502
8           111B   2012-09-13 -166        336
9           111B   2012-09-13 -225        111 
```

这使用了 SQL Server 2012 中的新功能，可以在范围内应用聚合函数 - 事实上，[`RANGE`](http://msdn.microsoft.com/en-us/library/ms189461.aspx)在这种情况下甚至不需要该子句，因为：

> 如果`ROWS/RANGE`未指定但`ORDER BY`已指定，`RANGE UNBOUNDED PRECEDING AND CURRENT ROW`则用作窗口框架的默认值

但我在这里添加它是为了更清楚地发生了什么。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T06:45:16.017

试试这个 ：-

```
SELECT P_ID,AcctNo, Amount,
(SELECT SUM(Amount)  as total
    FROM YourTable s 
    WHERE s.P_ID <= a.P_ID and s.AcctNo=a.AcctNo   
 ) AS b
FROM YourTable a 
```

[SQLFIDDLE](http://sqlfiddle.com/#!3/35775/10)中的演示

结果

```
╔══════╦════════╦════════╦═══════╗
║ P_ID ║ ACCTNO ║ AMOUNT ║   B   ║
╠══════╬════════╬════════╬═══════╣
║    1 ║ 111A   ║   -331 ║  -331 ║
║    2 ║ 111A   ║    600 ║   269 ║
║    3 ║ 111A   ║  20000 ║ 20269 ║
║    4 ║ 111A   ║ -20000 ║   269 ║
║    5 ║ 111A   ║   -260 ║     9 ║
║    6 ║ 111B   ║      2 ║     2 ║
║    7 ║ 111B   ║    500 ║   502 ║
║    8 ║ 111B   ║   -166 ║   336 ║
║    9 ║ 111B   ║   -225 ║   111 ║
╚══════╩════════╩════════╩═══════╝ 
```

# java - Java Swing 处理状态

> ID：15803893
> 
> 赞同：0
> 
> 时间：2013-04-04T06:21:40.597
> 
> 标签：java, multithreading, swing, animation

我正在尝试实现一个摆动框架。在此，我想在执行所需任务时使用不同的线程在 textPanel 中显示处理状态。我尝试了以下代码。当然，逻辑有问题。请为我提供正确的方法

```
import java.awt.EventQueue;

import javax.swing.JFrame;
import javax.swing.JTextField;
import javax.swing.JButton;
import java.awt.event.ActionListener;
import java.awt.event.ActionEvent;

public class SampleSwing {

private JFrame frame;
public static JTextField textField;
public static boolean processing=false;

/**
 * Launch the application.
 */
public static void main(String[] args) {
    EventQueue.invokeLater(new Runnable() {
        public void run() {
            try {
                SampleSwing window = new SampleSwing();
                window.frame.setVisible(true);
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
    });
}

/**
 * Create the application.
 */
public SampleSwing() {
    initialize();
}

/**
 * Initialize the contents of the frame.
 */
private void initialize() {
    frame = new JFrame();
    frame.setBounds(100, 100, 450, 300);
    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    frame.getContentPane().setLayout(null);

    textField = new JTextField();
    textField.setBounds(0, 31, 434, 20);
    frame.getContentPane().add(textField);
    textField.setColumns(10);

    JButton btnNewButton = new JButton("New button");
    btnNewButton.addActionListener(new ActionListener() {
        public void actionPerformed(ActionEvent arg0) {
            processing=true;
            Processingstatus ps=new Processingstatus();
            ps.start();
            /*perform the actual task*/
            processing=false;
        }
    });
    btnNewButton.setBounds(174, 74, 89, 23);
    frame.getContentPane().add(btnNewButton);
}
}

class Processingstatus extends Thread{
public void run() {
    try {
        while(SampleSwing.processing) { 

            SampleSwing.textField.setText("Processing");
            Thread.sleep(1000);
            SampleSwing.textField.setText("Processing..");
            Thread.sleep(1000);
            SampleSwing.textField.setText("Processing...");
            Thread.sleep(1000);
        } 
    }
    catch (InterruptedException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
}

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:36:43.840

首先我想，“你应该使用`SwingWorker`，因为它有处理进度和 EDT 更新的方法......”

但是当我仔细观察时，您实际上并不真正关心流程本身，您只是想要一些地方来显示流程正在运行......它们是两个独立的实体，它们只是相关的，因为一个（UI 更新）只要另一个正在运行，它就会运行。

所以，相反，我使用了`javax.swing.Timer`. 这允许我安排一个事件每`n`毫秒发生一次，并在 EDT 中触发它，干净利落……

![在此处输入图像描述](https://i.stack.imgur.com/EfVTR.png)

```
import java.awt.EventQueue;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.List;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JTextField;
import javax.swing.SwingWorker;
import javax.swing.Timer;

public class SampleSwing {

    private JFrame frame;
    public static JTextField textField;
    public static boolean processing = false;

    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {
            public void run() {
                try {
                    SampleSwing window = new SampleSwing();
                    window.frame.setVisible(true);
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
        });
    }

    public SampleSwing() {
        initialize();
    }
    private Timer processTimer;

    private void initialize() {
        frame = new JFrame();
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setLayout(new GridBagLayout());

        GridBagConstraints gbc = new GridBagConstraints();
        gbc.gridwidth = GridBagConstraints.REMAINDER;

        textField = new JTextField(25);
        frame.add(textField, gbc);

        processTimer = new Timer(500, new ActionListener() {
            private StringBuilder dots = new StringBuilder(3);
            @Override
            public void actionPerformed(ActionEvent e) {
                dots.append(".");
                if (dots.length() > 3) {
                    dots.delete(0, dots.length());
                }
                textField.setText("Processing" + dots.toString());
            }
        });

        JButton btnNewButton = new JButton("New button");
        btnNewButton.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent arg0) {
                if (!processing) {
                    processing = true;
                    processTimer.start();
                } else {
                    processTimer.stop();
                    processing = false;
                    textField.setText(null);
                }
            }
        });
        frame.add(btnNewButton, gbc);
        frame.pack();
        frame.setLocationRelativeTo(null);
    }
} 
```

*ps*对于您的原始代码不起作用的原因，请参阅我在上述评论部分的评论；）

# javascript - 调用动态函数javascript

> ID：15803900
> 
> 赞同：0
> 
> 时间：2013-04-04T06:22:02.380
> 
> 标签：javascript

```
var VariableName = {
    Test: function () {
        alert("test");
    }
};
window["VariableName.Test"](); 
```

这给出了错误。如何调用测试功能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:23:36.870

如果您尝试使用字符串作为对象和属性名称，您可以这样做：

```
window["VariableName"]["Test"](); 
```

但是，如果您已经知道这些名称，则可以是这样的：

```
window.VariableName.Test(); 
```

或者如果只`Test`提前知道名称：

```
window["VariableName"].Test(); 
```

# php - 将 PHP 与便携式 MySQL 连接起来

> ID：15803901
> 
> 赞同：-4
> 
> 时间：2013-04-04T06:22:07.287
> 
> 标签：php, mysql, database-connection, portable-database

是否可以将 PHP 与便携式 MySQL 文件连接起来？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:27:59.297

如果您想要一个“文件”数据库，请查看 sqlite，但是，如果您的目标是中/高流量，则不应在网站的生产中使用它，但对于本地测试，它是可以的。

# vb.net - 引用的对象没有任何值

> ID：15803902
> 
> 赞同：0
> 
> 时间：2013-04-04T06:22:10.910
> 
> 标签：vb.net

如何在这里解决“引用的对象没有任何价值”.....
logDTO 对象具有字符串类型的属性。
一些属性的值是空的。它抛出上面引用的错误。我尝试使用 .ToString() 但仍然抛出错误。

```
 Public Sub WriteJobLog(ByVal logDTO As JobLogDTO)
  Dim strArray As String() = {logDTO.Mode.ToString(), logDTO.UniqueId.ToString(), logDTO.ThreadId.ToString(), _
                         logDTO.StartTime.ToString(), logDTO.FinishTime.ToString(), logDTO.TimeTaken.ToString(), _
                         logDTO.PropertyId.ToString(), logDTO.ChannelId.ToString(), logDTO.URL.ToString(), _
                         logDTO.ExceptionOrResult.ToString(), logDTO.AvblWorkerThread.ToString(), logDTO.AvblPortThread.ToString(), _
                         logDTO.AcqrdWorkerThread.ToString(), logDTO.AcqurdPortThread.ToString(), logDTO.JobsToProcess.ToString()}
  Dim lLogObj As Logging = New Logging(JobType.JOB_TRANSACTTIONAL)
  lLogObj.WriteLogFile(String.Join(Configuration.LogDelimiter, strArray))
End Sub 
```

**作业日志DTO**

```
 public class JobLogDTO
  {
    public string  Mode { get; set; }
    public string  UniqueId { get; set; }
    public string  ThreadId { get; set; }
    public string  StartTime { get; set; }
    public string  FinishTime { get; set; }
    public string  TimeTaken { get; set; }
    public string  PropertyId { get; set; }
    public string  ChannelId { get; set; }
    public string  URL { get; set; }
    public string  ExceptionOrResult { get; set; }
    public string  AvblWorkerThread { get; set; }
    public string  AvblPortThread { get; set; }
    public string  AcqrdWorkerThread { get; set; }
    public string  AcqurdPortThread { get; set; }
    public string  JobsToProcess { get; set; }
  } 
```

**更新：**
logDTO 对象的值

```
 AcqrdWorkerThread  "24"    String
        AcqurdPortThread    "24"    String
        AvblPortThread      "400"   String
        AvblWorkerThread    "399"   String
        ChannelId           Nothing String
        ExceptionOrResult   Nothing String
        FinishTime          Nothing String
        JobsToProcess      "24" String
        Mode               "Parallel"   String
        PropertyId          Nothing String
        StartTime          "04.04.2013 12:17:25"    String
        ThreadId           "5"  String
        TimeTaken          Nothing  String
        UniqueId           "97693c1b-2bbc-4e40-a542-291568aeee4c"   String
        URL                Nothing  String 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:03:16.583

通常`.ToString()`function 将 any 的值转换`instance`为其等效`string`表示。但在这里你`instance`什么都不是。这就是它引发异常的原因`Referenced object has value of nothing`。

我建议您可以`Trim()`在您的情况下使用。`empty string`即使传递`argument`的是，它也会简单地返回一个`nothing`。

**前任：**

```
trim(logDTO.Mode) 
```

# ruby - 我想在 ruby 中为 windows 制作一个 shell 命令程序，但一切都在 linux 中

> ID：15803908
> 
> 赞同：0
> 
> 时间：2013-04-04T06:22:27.933
> 
> 标签：ruby, windows, shell

我有一个名为 options 的 ruby​​ 程序，我想从命令行运行它，其中包含一些选项，例如

```
options -add 400
options -sub 600
options -h 
```

我已经在使用 optparse 来解释命令，但我想将程序作为自己的脚本运行，但必须将其运行为

```
ruby options -add 400 
```

我查了一下，找到了一些答案，比如[如何创建支持 Ruby 的 shell 命令？](https://stackoverflow.com/questions/9710337/how-to-create-a-shell-command-supporting-ruby/9710596#9710596)这似乎是 linux，我不确定要放入哪个 bin 等解释的一部分，或者像[Shell 从 Ruby 执行](https://stackoverflow.com/questions/1527003/shell-execute-from-ruby)的答案，其答案仍然需要命令中的 ruby​​。任何人都可以更深入地解释如何做到这一点，或者将我引导到一个解释它而不依赖于 linux 平台的来源？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:30:41.890

假设您`PATH`在 Windows 上安装了 ruby​​，您是否可以创建包装脚本并将其放置在您的文件夹中`PATH`？

```
ruby options %* 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:37:42.320

你有没有想过把它做成宝石？有一个简单的指南[http://guides.rubygems.org/](http://guides.rubygems.org/)，然后你可以制作可以在 linux 和 windows 上运行的 gem。我不知道你是否知道，但是当我在 shell 或 bash 下做可用的软件时，我使用了 slop（[https://github.com/injekt/slop](https://github.com/injekt/slop)），它是非常方便的 gem。请查看 slop 的源代码，因为它是 gem 的示例，构建 gem 的所有结构和必要的文件。

# windows-phone-8 - 如何在 Windows Phone 中以编程方式访问开始键和搜索键？

> ID：15803912
> 
> 赞同：-1
> 
> 时间：2013-04-04T06:22:37.837
> 
> 标签：windows-phone-8, state

我想禁用 windows phone 中的开始键和搜索键。

当我在设备上按下开始键后单击我的应用程序图标时，我想检索应用程序的最后一页或最后一个状态。如果可能与否。

请帮我。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T18:47:27.643

我认为您应该研究以下内容：

[http://msdn.microsoft.com/en-us/library/windowsphone/develop/ff967548(v=vs.105).aspx](http://msdn.microsoft.com/en-us/library/windowsphone/develop/ff967548(v=vs.105).aspx)

这个链接听起来可能会回答你的一些问题。您不能禁用硬件启动和搜索按钮。

# php - 复选框和 foreach

> ID：15803914
> 
> 赞同：0
> 
> 时间：2013-04-04T06:22:40.573
> 
> 标签：php, mysql

我即将制作一个复选框，将其存储在我检查的位置，但出现错误：

`You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ' Array, 5' at line 1`

我现在更新了我的代码，我得到一个新的错误：

“无法添加或更新子行：外键约束失败 ( `dashboard`. `das_custermers_employees`, CONSTRAINT `das_custermers_employees_ibfk_5`FOREIGN KEY ( `das_employess_id`) REFERENCES`das_employer_roles` ( `id`))”

希望有人可以提供帮助...我已将所有代码放入 så 希望有人能看到问题所在

我的 HTML

```
 <div class="contact_form_div">
            <form method="post">
                <?php
                global $wpdb;                        

if (isset($_POST['add_contact_btn'])) {

    mysql_query("DELETE FROM das_custermers_employees WHERE das_custermers_id = $user_custermers_id") or die(mysql_error());

    if (!empty($_POST['role_checkbox']) && is_array($_POST['role_checkbox'])) {
    foreach ($_POST['role_checkbox'] as $employess_roles) {
        foreach ($employess_roles as $em_id ){
            $employess_hidden = $_POST["employess_hidden_$em_id"];
        mysql_query("INSERT INTO das_custermers_employees(das_employess_id, employees_role_id, das_custermers_id) VALUES ($employess_hidden, $em_id, $user_custermers_id) ") or die(mysql_error());

        }
    }
    }
}
                        $show_employess = mysql_query("SELECT * FROM das_employess") or die(mysql_error());

                while ($my_employess = mysql_fetch_array($show_employess)) {

                    ?>                        
                        <b><? echo " " . $my_employess['first_name'] . " ";
                            echo $my_employess['last_name'] . " "; ?></b>
                        <?
                        $show_role = mysql_query("SELECT * FROM das_employer_roles") or die(mysql_error());

                        while ($my_role = mysql_fetch_array($show_role)) {

                            ?>
                            <input type="hidden" name="employess_hidden_<? echo $my_role['id']; ?>" value="<? echo $my_employess['id']; ?>" />
                            <em><p class="role_checkbox"><input type="checkbox" name="role_checkbox[][<? echo $my_role['id']; ?>]" <? //if (mysql_num_rows($role_query) == 1) echo 'checked="checked"'; ?> value="<? echo $my_role['id']; ?>"/><? echo " " . $my_role['role']; ?> </p></em>
                                <? } ?>                        
    <?
}

?>
                    <input value="Gem" name="add_contact_btn" type="submit" >
                    </form>
            </div> 
```

这是表架构： ![这是数据库架构：](https://i.stack.imgur.com/a9zxm.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:27:20.547

我认为：

```
mysql_query("INSERT INTO das_custermers_employees(das_employess_id, employees_role_id, das_custermers_id) VALUES ($employess_hidden, $employess_roles, $user_custermers_id ") or die(mysql_error()); 
```

应该：

```
mysql_query("INSERT INTO das_custermers_employees(das_employess_id, employees_role_id, das_custermers_id) VALUES ($employess_hidden, $em_id, $user_custermers_id ") or die(mysql_error()); 
```

您试图将数组插入到`INSERT`语句中，而不是`foreach`循环中的元素。

另外，改变：

```
$employess_hidden = $_POST["employess_id_$em_id"]; 
```

至：

```
$employess_hidden = $_POST["employess_hidden_$em_id"]; 
```

您的表单中没有`employess_id_XXX`输入。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:24:43.457

你错过了什么..在下面检查...

```
mysql_query("INSERT INTO das_custermers_employees(das_employess_id, employees_role_id, das_custermers_id) VALUES ($employess_hidden, $em_id, $user_custermers_id)") or die(mysql_error()); 
```

# actionscript-3 - 在 Flex 中鼠标滚出的数字步进器的文本输入中隐藏光标

> ID：15803915
> 
> 赞同：0
> 
> 时间：2013-04-04T06:22:40.827
> 
> 标签：actionscript-3, flex3

如何在 Flex 中的鼠标滚出事件上隐藏数字步进器的文本输入字段中的光标？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T13:08:48.583

适用于 flex4

```
<s:NumericStepper x="370" y="102" mouseOut="stage.focus=null"/> 
```

# web-applications - 启动 Cinema 4D [R13+] 和 Three.js

> ID：15803916
> 
> 赞同：5
> 
> 时间：2013-04-04T06:22:46.557
> 
> 标签：web-applications, 3d, three.js, webgl, cinema-4d

我刚开始创建一个 3D 网站，我正在使用 Cinema 4D。现在我的问题是如何将我的 3D 模型用于我的网站？他们指向使用 Py4d - 一个插件，但自该软件的第 12 版以来它已被删除。我现在应该怎么做才能在我的网站上使用我的 3D 模型和 three.js？提前致谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T08:39:01.137

一个选项是导出到 OBJ。然后使用`OBJLoader`.

[http://mrdoob.github.com/three.js/examples/webgl_loader_obj.html](http://mrdoob.github.com/three.js/examples/webgl_loader_obj.html) [http://mrdoob.github.com/three.js/examples/webgl_loader_obj_mtl.html](http://mrdoob.github.com/three.js/examples/webgl_loader_obj_mtl.html)

# meteor - 如何创建管理/服务器端命令？

> ID：15803923
> 
> 赞同：3
> 
> 时间：2013-04-04T06:23:17.343
> 
> 标签：meteor

Meteor 中有没有办法将您自己的命令添加到`meteor`给定项目的命令中？所以在服务器端你可以有一些类似于 Django 的管理命令的命令。像用于导入/更新数据的命令，也许是 cron 作业，诸如此类？问题是，我希望命令能够访问 Meteor 提供的所有库和环境，尤其是这样我可以确定存储在数据库中的数据与 Meteor 兼容。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T15:17:16.370

目前，如果不编辑流星的来源，这是不可能直接实现的。如果您使用的是陨石，您可以拥有一个本地化的流星版本，它不会影响您的其他流星应用程序。

您可能必须`/tools/meteor.js`在这个分叉/修改的流星中添加一个自定义函数。

和：

```
Commands.push({
    name: "yourcustomcommand",
    help: "..",
    func: function (argv) {
        //Custom stuff
    }); 
```

# matlab - 使用 Matlab 访问网络服务器上的文件

> ID：15803931
> 
> 赞同：1
> 
> 时间：2013-04-04T06:23:49.357
> 
> 标签：matlab

我编写了一个 Matlab 脚本来对记录在不同位置的音频样本进行一些分析。我有一个记录音频并将其存储在网络服务器上的移动应用程序。有没有办法可以从 Matlab 访问这个文件作为脚本的输入？url 和单个文件名将可用，我假设有一个使用此信息的 Matlab 命令。

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T09:01:30.747

尝试这样的事情：

```
str = urlread('http://stackoverflow.com'); 
```

# javascript - jQuery 动画排序

> ID：15803934
> 
> 赞同：0
> 
> 时间：2013-04-04T06:23:55.967
> 
> 标签：javascript, jquery, html, css

我已经在 jsFiddle 中大致重新创建了我目前在我的网站上拥有的内容。我想把点击功能变成一个基于时间的动画，从第一个 div（在我的例子中是图像）被“选择”开始。几秒钟后，比如 2000 毫秒，它应该动画返回 10px 到默认状态，下一个 div 应该动画下降 10px 到“选定”状态，它会暂停 2000 毫秒。我希望继续这样做，直到所有元素都以这种方式进行动画处理，然后通过在最后一个 div 动画完成时将第一个 div 返回到“选定”状态来无限期地重复动画过程。我一直在尝试自己解决这个问题，但我似乎无法正确设置延迟。

这是当前功能的演示：http: [//jsfiddle.net/uFPtw/5](http://jsfiddle.net/uFPtw/5)和下面的js：

```
var prevLeft = 0;
var zInd = $('#projects div').length + 1;
$('#projects div').each(function() {
    prevLeft = prevLeft + 40;
    zInd = zInd - 1;
    $(this).css({
        'left': (prevLeft-40)+'px',
        'z-index': zInd
    });
});
$('#projects div').on('click', function() {
    $(this).css({
        'z-index': $('#projects div').length,
        'box-shadow': '0 0 20px #000',
        'cursor': 'default'
    }).animate({
        'top': '+10px'
    }, 200);
    if ( $('#projects div').css('top') != '0' ) {
        $(this).siblings('div').css({
            'box-shadow': '0 0 10px rgba(0,0,0,0.5)',
            'cursor': 'pointer'
        }).animate({
            'top': '0'
        }, 200);
    }
    zInd1 = 4;
    $(this).prevAll().each(function() {
        zInd1 = zInd1 - 1;
        $(this).css({
            'z-index': zInd1
        });
    });
    $(this).nextAll().each(function() {
        zInd1 = zInd1 - 1;
        $(this).css({
            'z-index': zInd1
        });
    });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:30:44.440

我认为您首先捕获 div`s 的总数（在您现在的情况下），然后当触发点击事件或您的自动化功能启动时，您可以检查是否已到达最后一个 div，据此您可以恢复到第一个 div 并再次调用目标函数。

# jquery - 倒数计时器到期时重新启动

> ID：15803937
> 
> 赞同：1
> 
> 时间：2013-04-04T06:24:12.860
> 
> 标签：jquery, countdown

我在这里使用倒数计时器[http://keith-wood.name/countdown.html](http://keith-wood.name/countdown.html)

我想如果我的计时器过期了，它会重新启动。我下面的实现在到期后没有重新启动计时器。请帮忙。

**HTML**

```
 <span id="divtimerholder"></span> 
```

**JavaScript**

```
 $(document).ready(function() {
          startCountdown();
        function startCountdown() {
            $('#divtimerholder').countdown({ layout: '{mnn} : {snn}', timeSeparator: ':', until: 60, onExpiry: restartCountdown
            });

        }
        function restartCountdown() {
            $('#divtimerholder').destroy();
            startCountdown();
        }
    }); 
```

**JSFiddle** [http://jsfiddle.net/zD2M2/](http://jsfiddle.net/zD2M2/)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-04T07:13:14.943

设置选项：

```
$('#divtimerholder').countdown('option', {until: 3}); 
```

[http://jsfiddle.net/zD2M2/1/](http://jsfiddle.net/zD2M2/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T06:31:04.843

看起来取消倒数计时器的代码应该是：

```
$("#divtimerholder").countdown('destroy'); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-06-06T03:01:32.973

```
$('#divtimerholder').countdown('option', {until: 3}); 
```

奇迹般有效。感谢您的回答

# javascript - XML - JavaScript -> 如何将 XML 标签显示为 HTML

> ID：15803939
> 
> 赞同：0
> 
> 时间：2013-04-04T06:24:20.867
> 
> 标签：javascript, xml, xslt

*我遇到的问题是，当 XML 节点没有值时，打开和关闭标签位于不同的行上，如下所示*

```
<td ID="ref_4b73aa95ffd2289_phrPayer_1_DateEffective">
</td>
<td ID="ref_4b73aa95ffd2289_phrPayer_1_DateTerminated">
</td> 
```

*当节点有数据时，打开和关闭标签在一行：*

```
<td ID="ref_4b73ba85ffd2289_phrPayer_1_Company">Medicare Parts A&amp;B</td> 
```

**我遇到的问题是，当我读取数据时，它是逐行读取的。以下是使用的 XML 数据：**

```
 <tr>
     <td ID="ref__phrPayer_1_Company">Medicare Parts A&amp;B</td>
     <td ID="ref__phrPayer_1_DateEffective">
     </td>
     <td ID="ref__phrPayer_1_DateTerminated">
     </td>
     <td ID="ref__phrPayer_1_PolicyNumber">
     </td>
     <td ID="ref__phrPayer_1_GroupNumber">
     </td>
     <td ID="ref__phrPayer_1_SubscriberName">AdamJulie</td>
 </tr> 
```

**以上编码由 6 列组成，虽然如上所示，有 10 行编码。这是主要问题。**

当我尝试将数据拆分为`Array`使用***以下内容***时：

```
var purposeArray = purposeOfVisit.innerHTML.split("\n"); 
```

**我收到的数据是：**

```
Medicate Parts A&amp;B,,,,,,,,,AdamJulie 
```

**什么时候应该：**

```
Medicare Parts A&amp;B,,,,,AdamJulie 
```

数组的长度与行数相同，在这种情况下为 10，应为 5。

*我想知道的是我如何读取`td`带有数据的标签*。

***我希望 innerHTML 以读取以下代码为例：***

```
<td ID="ref__phrPayer_1_Company">Medicare Parts A&amp;B</td>
<td ID="ref__phrPayer_1_DateEffective">
</td>
<td ID="ref__phrPayer_1_DateTerminated">
</td>
<td ID="ref__phrPayer_1_PolicyNumber">
</td>
<td ID="ref__phrPayer_1_GroupNumber">
</td>
<td ID="ref__phrPayer_1_SubscriberName">AdamJulie</td> 
```

*代替：*

```
Medicare Parts A&amp;B
.
.
.
.
.
.
.
.
AdamJulie 
```

表示一个空`.`值。

这可能吗？如果是这样，我该怎么做？或`<td>`用`&lt;<td>`和替换`</td>`标签`</td>&lt;`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-08T09:18:45.120

**您可以通过这样的流读取 xml 字符串，**而不是以这种方式使用 XML 解析器：****

 **```
var XMLString = "<tbody><tr><td ID=''>Medicare Parts A&amp;B</td><td ID=''></td><td ID=''></td><td ID=''></td><td ID=''></td><td ID=''>AdamJulie</td></tr><tr><td ID=''>Test2</td><td ID=''></td><td ID=''></td><td ID=''>123</td><td ID=''></td><td ID=''></td></tr></tbody>"; 
```

您可以`split`在每列之后的字符串：

```
myXMLArray = XMLString .split("</td>"); 
```

并使用正则表达式删除所有标签。

```
var regex = /(<([^>]+)>)/ig;

for( var x = 0; x < XMLString .length; x++)
{
result[x] = XMLString [x].replace(regex, "");
} 
```

*祝你好运...*

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-08T09:58:27.303

也许去看看[Sarissa](http://dev.abiss.gr/sarissa/)图书馆。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T06:30:08.027

innerHTML 方法返回 HTML 标记内的任何内容。如果你想用数据获取 HTML 标签，我建议你使用类似的东西：

```
document.getElementsByTagName('td') 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T07:17:31.027

您正在尝试编写自己的 XML 解析器，但您做错了。您不能简单地在行边界处拆分 XML，然后分别解析每一行。

有很多好的 XML 解析器可用，最好使用其中之一。如果您必须自己解析 XML，那么您需要学习解析器编写的艺术；这不是业余爱好者的工作。**

# javascript - Sencha Touch 日期代码在 Chrome 中运行良好，但在 Safari 上失败

> ID：15803941
> 
> 赞同：0
> 
> 时间：2013-04-04T06:24:38.187
> 
> 标签：javascript, google-chrome, extjs, safari, sencha-touch

我有以下代码

```
var date = Ext.Date.format('2013-04-02', 'Y-n-j')
var formattedDate=Ext.Date.format('2013-04-02', 'M d')
console.log(date);
console.log(formattedDate); 
```

在 Chrome 上，它会在控制台上正确打印出日期。在 Safari 中它失败了。谁是正确的，更重要的是，处理这个问题的最佳方法是什么？

Safari 抛出以下错误：

TypeError: 'undefined' 不是一个对象（评估 'utilDate.monthNames[month].substring'）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:30:14.903

Safari 不知道这个错误，在 ipad 上看到：不处理这样的原生 Date 创建`new Date("2013-04-02")`。

这可能是问题所在，您必须在此之前进行拆分工作，因此直接提供 Date 对象：`new Date(2013, 3, 2)`而不是您的日期字符串。

这完全解释了您的问题：未解析的日期没有用 getMonth 回答月份，因此本月没有月份名称不是一个月，因此当从没有此方法的东西调用时子字符串失败，因为它不是字符串。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T06:27:05.153

我无法解释为什么它会在 Chrome 中工作，但你在第二个之后缺少一个单引号`.format(`

# c# - 如何在 asp.net 中创建具有用户名和密码的 wcf Web 服务？

> ID：15803943
> 
> 赞同：1
> 
> 时间：2013-04-04T06:24:47.267
> 
> 标签：c#, asp.net, wcf, web-services

我想在.so 中创建`wcf web service`它，`username`以便通过提供该用户名和密码，我们可以使用任何 Web 方法。我已经创建了 wcf Web 服务，但我想在 Web 服务中添加用户名和密码。`password``asp.net`

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-10-20T23:25:42.350

以下是实现您要求的所需步骤：

1) 使用 Visual Studio 的“新建项目”界面创建一个新的 WCF 项目：您最终会得到两个主要文件：**Service1.svc**（代码文件）和**IService1.cs**（界面文件）。

2) 打开**IService1.cs**文件并定义您的方法，如下所示：

```
[ServiceContract]
public interface IService1
{
    [...]

    // TODO: Add your service operations here

    [OperationContract]
    string GetToken(string userName, string password);
} 
```

3）打开**Service1.cs**文件，添加方法的实现方式如下：

```
/// <summary>
/// Retrieve a non-permanent token to be used for any subsequent WS call.
/// </summary>
/// <param name="userName">a valid userName</param>
/// <param name="password">the corresponding password</param>
/// <returns>a GUID if authentication succeeds, or string.Empty if something goes wrong</returns>
public string GetToken(string userName, string password)
{
    // TODO: replace the following sample with an actual auth logic
    if (userName == "testUser" && password == "testPassword")
    {
        // Authentication Successful
        return Guid.NewGuid().ToString();
    }
    else
    {
        // Authentication Failed
        return string.Empty;
    }
} 
```

基本上就是这样。您可以使用此技术检索（过期和安全）令牌以在任何后续调用中使用 - 这是最常见的行为 - 或在所有方法中实施该用户名/密码策略：这完全是您的调用。

*要测试您的新服务，您可以在调试模式下*启动您的 MVC 项目并使用内置的**WCF 测试工具**：您必须输入上面指定的示例值（*testUser*、*testPassword*），除非您更改它们。

有关此特定主题的更多信息和其他实施示例，您还可以[阅读](http://www.ryadel.com/en/create-soap-web-service-asp-net-wcf-c-sharp-visual-studio-iis-8/)我博客上的这篇文章。

# lua - 需要一个使用另一个 Lua 文件中声明的函数的 Lua 文件

> ID：15803945
> 
> 赞同：0
> 
> 时间：2013-04-04T06:24:57.037
> 
> 标签：lua, require

我在 Lua 中有这个问题，我有 2 个文件。FileA 可能如下所示：

```
require "FileB"
local function foo(bar)
    -- random stuff
end 
```

FileB 看起来像这样

```
foo(bar) 
```

但是会弹出一个错误，说这`foo`是一个无效的功能。有什么解决办法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:16:00.730

通常的做法是将函数放在所需的文件中，而不是调用代码中。

在任何情况下，因为您有上面的代码，所以您在定义它之前调用了 foo 。所以把require移到foo的定义下面，不要用local。

```
function foo(bar)
    -- random stuff
end

require "FileB" 
```

# macros - Racket，使用任意数量的参数执行任意函数

> ID：15803948
> 
> 赞同：1
> 
> 时间：2013-04-04T06:25:01.847
> 
> 标签：macros, scheme, racket

我想按照以下方式定义一个通用函数：

```
(define (gen-func other-func)
   (other-func)) 
```

这将执行传递给它的函数。但是，我希望能够使用`other-func`. 所以如果我有：

```
(define (add-test a b c d)
    (+ a b c d)) 
```

和

```
(define (divide-test a b)
    (/ a b)) 
```

那我可以做

```
(gen-func divide-test 3 4) 
```

和

```
(gen-func add-test 1 2 3 4) 
```

但它实际上会做我想要的（通过传递任意数量的参数来执行函数）。这是我学习 Racket 过程的一部分。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T07:25:15.683

您正在寻找的是`apply`和休息的论点：

```
(define (gen-func func . args)
   (apply func args)) 
```

虚线参数列表`func . args`导致第一个参数之后的所有参数都被收集到列表中`args`。这样做的原因`(func . args)`与 相同`(cons func args)`，因此在调用函数时，`func`设置为`(car arglist)`，并`args`设置为`(cdr arglist)`which 是第一个参数之后的参数列表。

# android - Android Phonegap 2.5.0：构建phonegap项目时出错

> ID：15803952
> 
> 赞同：0
> 
> 时间：2013-04-04T06:25:15.160
> 
> 标签：android, cordova, adt

我已经按照Windows[上的 Android 入门](http://docs.phonegap.com/en/2.5.0/guide_getting-started_android_index.md.html)创建了一个 phonegap 2.5.0 项目模板。

我正在使用[Get the Android SDK](http://developer.android.com/sdk/index.html)中的 ADT Bundle IDE 。从现有代码设置新的 Android 项目后，我收到了一些阻止构建项目的错误。我已经解决*了 AndroidManifest.xml*、*main.xml*、*strings.xml*、*config.xml*。但我仍然遇到主要错误是

```
Archive for required library: '~/libs/cordova-2.5.0.jar' in project 'xxx' cannot be read or is not a valid ZIP file 
```

以前有人遇到过这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:02:03.720

为方便起见，您可以使用 phonegap 包提供的命令 create 创建项目。一旦创建，您应该能够直接编译它而不会出现任何错误。

要回答您的问题，请确保您的库中有 cordova-2.5.0.jar。如果没有，请使用右键单击项目添加它 -> 构建路径 -> 添加外部档案。然后选择罐子。

# javascript - javascript访问对象

> ID：15803955
> 
> 赞同：0
> 
> 时间：2013-04-04T06:25:20.863
> 
> 标签：javascript

考虑以下代码：

```
 <script>
  person={
          firstname:"John",
          lastname:function(){alert(this.firstname)}
         }
          person.lastname();
 </script> 
```

就像局部变量可以从函数内的任何地方访问，要访问对象的属性为什么要使用**this** 关键字？既然我们在对象内部使用**this**关键字是强制性的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:29:49.323

这是因为在 JavaScript 中，当您使用 时`firstname`，解释器会在当前作用域中查找该变量，然后在所有父作用域中查找该变量。但是对象并没有形成范围。

因此，您需要`firstname`通过特殊变量 -访问`this`。

**提示：**函数正在创建范围，例如：

```
 var person = function () {
     var firstname = "John";

     return {
         lastname: function () {
             alert(firstname)
         }
     };
 }(); 
```

没有`this`.

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T06:42:21.240

`this`与其他语言相比，JavaScript 中的关键字在某种程度上有所不同。当前作用域内绑定的对象`this`是由当前函数的调用方式决定的，不能在执行时通过赋值来设置，每次调用函数时都可以不同！

```
var person1 = {
    firstname: "John",
    lastname: function () { alert(this.firstname) }
}

var person2 = {
    firstname: "James",
}
person2.lastname = person1.lastname.bind(person2);

var firstname = "Rick"; 
```

简单调用：

```
person1.lastname();  // "John" 
```

上下文更改调用：

```
person1.lastname.call(window);  // "Rick" 
```

绑定函数调用：

```
person2.lastname();  // "James" 
```

`this`在`prototype chain`或在`DOM event handlers`

# extjs - sencha架构师的登录页面

> ID：15803957
> 
> 赞同：0
> 
> 时间：2013-04-04T06:25:24.240
> 
> 标签：extjs, sencha-architect

我被登录页面卡住了，我按照以下链接中给出的步骤进行操作，几乎但无法登录 [http://docs.sencha.com/architect/2/#!/guide/views_forms_touch](http://docs.sencha.com/architect/2/#!/guide/views_forms_touch) 在我的 json 文件中，我有名称、id、手机等，所以我使用名称作为用户名，使用手机作为密码，只是为了进行更改但无法登录。从上面的链接中，我在配置中找到了该字段名称是指的一个（我从链接中猜测，因为它提到了“将其名称配置更改为用户名”）所以我将用户名字段的名称配置更改为名称和密码字段的名称配置为移动，但结果是登录失败..我认为从如果用户名和密码正确，上面的代码应该显示登录成功。我只是根据我的 json 文件进行了一些修改，即 Name 代替用户名，Mobile 代替密码，但结果相同（登录失败）。 .我处于两难境地，无论是它的名称还是配置中的 ID，我应该参考什么。对于源，我已将我的 json 文件作为文本格式发布，并将我的架构师文件夹发布在论坛中[http://www.sencha.com/forum/showthre...983#post952983](http://www.sencha.com/forum/showthre...983#post952983) 任何人都可以检查它并给我打电话..提前谢谢！！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T07:47:01.553

当请求到时，您的代码显示登录失败

```
http://csi01:888/SenchaService/Sencha.asmx/GetUserList 
```

失败。作为第一步，我将在浏览器中对其进行测试并检查检查器网络选项卡以查看发出的请求和失败的请求。在我看来，您的问题不在于 sencha 代码，而在于服务器端代码。

# c# - 在 C# 中使用 new 关键字

> ID：15803965
> 
> 赞同：7
> 
> 时间：2013-04-04T06:25:57.853
> 
> 标签：c#, .net, inheritance

我有两节课

```
class  A
{
     public virtual void Metod1()
     {
         Console.WriteLine("A.Method1");
     }
}

class B : A
{
    public new void  Metod1()
    {
        Console.WriteLine("B.Method1");
    }
} 
```

然后我编写了一些代码来声明这些类的实例，并调用它们的方法

```
 static void Main(string[] args)
    {
        A a = new B();
        a.Metod1();
        B b = new B();
        b.Metod1();
        Console.ReadKey();
    } 
```

我给出了以下结果：

```
A.Method1
B.Method1 
```

但是当我从 B 类的签名方法 1 中删除关键字 new 并运行 Main 方法时，我得到了相同的结果。问题：方法签名中的新关键字是否只是为了更好的可读性？

编辑：是否存在我们不能没有新关键字的情况？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-04T06:30:10.810

*new*关键字让代码阅读器知道此方法将在其基中隐藏具有相同名称的方法。即使你省略了它，编译器也会以同样的方式处理它，但会警告你。

由于您将该方法声明为*virtual*，因此在编译时会收到以下警告：

> 'B.Metod1()' 隐藏继承的成员 'A.Metod1()'。要使当前成员覆盖该实现，请添加 override 关键字。否则添加新关键字。

但是，如果您通过删除*virtual*来更改声明：

*   没有*虚拟*输入的声明`A`

    ```
    class A {
        public void Metod1() {
            Console.WriteLine("A.Method1");
        }
    }

    class B: A {
        public void Metod1() {
            Console.WriteLine("B.Method1");
        }
    } 
    ```

仍将编译，但警告消息将是：

> 'B.Metod1()' 隐藏继承的成员 'A.Metod1()'。**如果要隐藏，**请使用 new 关键字。

在上述任何一种方式中，以下内容：

*   测试代码

    ```
    var b=new B();
    b.Metod1();
    (b as A).Metod1(); 
    ```

将输出：

```
B.方法1
A.方法1

```

但是，如果您声明如下：

*   带有*覆盖*的声明`B`

    ```
    class A {
        public virtual void Metod1() {
            Console.WriteLine("A.Method1");
        }
    }

    class B: A {
        public override void Metod1() {
            Console.WriteLine("B.Method1");
        }
    } 
    ```

那么输出将是：

```
B.方法1
B.方法1

```

这是因为`Method1`基类不仅被**隐藏**，而且**被**派生类覆盖。

您**不能**只使用*new*的情况是 if`Method1`是抽象类中的*抽象*方法：

*   必须在派生类中使用*覆盖的代码*

    ```
    abstract class A {
        public abstract void Metod1();
    }

    class B: A {
        public override void Metod1() { // use `new` instead of `override` would not compile
            Console.WriteLine("B.Method1");
        }
    } 
    ```

在这种情况下，您不能只使用*new*，因为`A`需要派生类来覆盖`Method1`。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-04-04T06:28:25.787

[知道何时使用覆盖和新关键字（C# 编程指南）](http://msdn.microsoft.com/en-us/library/ms173153%28v=vs.110%29.aspx)

> 在 C# 中，派生类中的方法可以与基类中的方法同名。您可以使用 new 和 override 关键字指定方法如何交互。override 修饰符扩展了基类方法，**而 new 修饰符隐藏了它**。

还

> 通过使用 new，您断言您知道它修改**的成员隐藏了从基类继承的成员**。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-04-04T06:30:53.097

是的，你是对的，这是为了在这种情况下更好的可读性。

但是仔细检查你应该有一个警告，在隐藏基本方法时不要使用 new 。

你可以在这里阅读更多：http: [//msdn.microsoft.com/en-us/library/vstudio/435f1dw2.aspx](http://msdn.microsoft.com/en-us/library/vstudio/435f1dw2.aspx)

# html - 我的表格 td 垂直边框没有出现

> ID：15803966
> 
> 赞同：1
> 
> 时间：2013-04-04T06:26:03.663
> 
> 标签：html, css

我正在创建一个表格来显示我所有的主题内容。

我的表格td垂直边框没有出现，下面是css代码。

请帮忙。

```
table.subjects {
border-width: 1px;
border-spacing: 2px;
border-style: solid;
border-color: gray;
border-collapse: collapse;
background-color: white;}

table.subjects th {
border-width: 1px;
padding: 1px;
border-style: inset;
border-color: gray;
background-color: white;
-moz-border-radius: ;}

table.subjects td {
border-width: 1px;
padding: 1px;
border-style: solid;
border-color: gray;
background-color: white;
-moz-border-radius: ;} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T09:32:32.107

你可以使用css类

.tableborder{ 边框：1px 纯灰色；

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:34:40.590

在 html 中，您应该将 table 属性的边框设置为 1 。你做了吗？这是解决方案：

```
<table border="1"> 
```

# android - AlarmManager 如何取消重复

> ID：15803971
> 
> 赞同：0
> 
> 时间：2013-04-04T06:26:26.837
> 
> 标签：android

```
private void scheduleAlarms(Context context) {
        AlarmManager alarmManager = (AlarmManager)context.getSystemService(Context.ALARM_SERVICE);
        Intent intentOnAlaramReceiver = new Intent(context, OnAlarmReceiver.class);
        PendingIntent pendingIntent = PendingIntent.getBroadcast(context, 0, intentOnAlaramReceiver, 0);

        String listOfIntervalConnection = Utils.getStringFromProperties(context, Properties.SP_LIST_OF_ENABLE_INTERVAL_CONNECTIONS, Properties.ENABLE_AFTER);
        long enableAfter = DateUtils.MINUTE_IN_MILLIS * Long.parseLong(listOfIntervalConnection);

        alarmManager.setRepeating(AlarmManager.ELAPSED_REALTIME_WAKEUP, SystemClock.elapsedRealtime() + enableAfter, enableAfter, pendingIntent);
    } 
```

我尝试取消警报

```
 AlarmManager alarmManager = (AlarmManager)context.getSystemService(Context.ALARM_SERVICE);
            Intent intentOnAlaramReceiver = new Intent(context, OnAlarmReceiver.class);
            PendingIntent pendingIntent = PendingIntent.getBroadcast(context, 0, intentOnAlaramReceiver, 0);

            alarmManager.cancel(pendingIntent); 
```

但有时会被取消，有时仍然有效。为什么以及如何？我能做些什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:03:41.753

在启动服务和取消服务时，您在 PendingIntent 中使用了不同的 Intent 实例。

将服务意图设置为实例变量，并在服务的启动和取消中使用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-22T14:07:28.830

尝试使用`PendingIntent.FLAG_UPDATE_CURRENT`而不是0；像这样：

```
 PendingIntent pendingIntent = PendingIntent.getBroadcast(context, 0, intentOnAlaramReceiver, PendingIntent.FLAG_UPDATE_CURRENT); 
```

# spring - Spring Webflow - 表单 - 在后退/下一个之间维护表单值

> ID：15803978
> 
> 赞同：0
> 
> 时间：2013-04-04T06:26:57.950
> 
> 标签：spring, spring-mvc, spring-webflow

我有一个 spring webflow 应用程序，它是一个表单向导 - 由 3 个步骤组成（每个步骤都是一个单独的 jsp）。

我正在使用表单支持对象来更新向导第 1 页和第 2 页上的对象的值。

在第 2 步结束时，表单在服务器上得到验证和处理。

我需要做的是维护用户在每个页面上输入的表单值，以便如果他们来回（在提交之间）然后填写值。

我不知道该怎么做 - 欢迎任何帮助。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-07T02:39:07.543

如果您的模型对象在流范围内，则其值将通过转换保持。

# mysql - 如果存在临时表则加入

> ID：15803981
> 
> 赞同：1
> 
> 时间：2013-04-04T06:27:10.937
> 
> 标签：mysql

简要地，

我如何创建我的临时表

```
CREATE TEMPORARY TABLE _tmp_table SELECT * FROM db1; 
```

然后，

```
# if tmp_table does exist
SELECT db2.*, _tmp_table.* FROM 'db2' LEFT OUTER JOIN _tmp_table ON _tmp_table.key = db2.id;
# if tmp_table does NOT exist
SELECT db2.* FROM db2; 
```

如何只进行一个查询来处理我的临时表是否存在？

环境：`Mysql 5.5.15`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:29:02.003

你不能在一个声明中做到这一点。

您需要确保您要加入的表存在，否则您将遇到异常。我宁愿为检查表是否存在创建一个存储过程。

# c# - 为什么在神经网络中使用 Sigmoid 的导数？

> ID：15803984
> 
> 赞同：2
> 
> 时间：2013-04-04T06:27:38.610
> 
> 标签：c#, neural-network

我创建了一个具有典型激活函数（-1 或 1）的简单感知器，它似乎工作正常。然后我阅读了关于 sigmoid 及其在值之间更平滑过渡的用途，但在使用导数时我总是得到 0.0，这会弄乱计算。sigmoid 本身很好，对于较小的数字它是十进制的，对于较大的数字它又是 -1 或 1。那么导数有什么用呢？
我的意思是一个例子：

```
double actual (-1 or 1 when using the "old" function)
double AdjustWeight(int input1,input2, expected, actual)
{
   double error=expected-actual;   //when actual is derivative, is 0 for me, instead of -1 or 1
 ....
} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-05T13:01:02.063

感知器网络是单层的。由于它们的非持续激活功能，您不能对它们使用反向传播算法，因此它们不能是多层的。相反，Sigmoid 函数是一个可微函数，您可以对它们使用反向传播算法。在 Perception 中，您想调整使用的权重：

```
W(new) = W(old) + a·(t-x)·y 
```

when`a`是学习率，`t`是目标值，`x`是你的输入向量，`y`是输出。

相反，当您想使用 Sigmoid 函数时，您必须使用基于梯度的算法。在这些算法中，您根据误差导数调整权重。

```
W(new) = W(old) - a·(dE/dW) 
```

在多层网络中，您不能使用感知算法，因为它需要正确的输出，而您不知道隐藏神经元的正确输出。因此，在多层网络中，您必须使用基于梯度的算法和反向传播来反向传播 Error 和`dE/dW`.

在单层神经网络中，您可以使用感知或基于梯度的算法。你不能告诉女巫更好。感知给你更好的分组和基于梯度的给你更多的抗噪性。

在基于梯度的算法中，您使用激活函数的导数来找到 dE/dW。if`Z`是神经元的总输入 (Z = [sum on i] Wi·Xi)：

```
dE/dWi = Xi·(dE/dZ)

dE/dZ = -f'(Z)·(dE/dY) 
```

在我们的例子中，因为我们使用了 Sigmoid 函数，所以对于二元 Sigmoid，f'(Z) 是 Y(1-Y)，对于双极 Sigmoid，f'(Z) 是 0.5(1-Y)(1+Y)。

通常我们使用以下等式来计算误差（成本函数）：

```
E = 0.5(T-Y)^2 
```

所以我们的方程将转换为：

```
dE/dY = Y-T

dE/dZ = -0.5(1+Y)(1-Y)·(Y-T)

dE/dWi = - 0.5Xi·(1+Y)(1-Y)·(Y-T)

W(new) = W(old) + 0.5a·Xi·(1+Y)(1-Y)·(Y-T) 
```

如果您使用以下算法更新权重，我认为您的问题将得到解决。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-05-01T05:17:40.290

下面是Sigmoid函数的微分。“np.exp”是一样的；*数字 e，一个数学常数，是自然对数的底：自然对数等于 1 的唯一数。它大约等于 2.71828*。（维基百科）

```
# This is how mathematical the derivative of sigmoid is computed.
# Variables are only used as example for differentiation.
import numpy as np

x = 0.32

sigmoid = 1 / 1 + np.exp(-x)
differentiate = np.exp(-x) / (1+np.exp(-x)**2
differentiate_1 = np.exp(-x) - 1 / (1+np.exp(-x)**2
differentiate_2 = (1+np.exp(-x) / (1+np.exp(-x)**2) - (1/1+np.exp(-x))**2
differintiate_3 = sigmoid - sigmoid**2
sigmoid_prime = sigmoid * (1- sigmoid) 
```

传递函数或 sigmoid 函数将值转换为从 0 到 1 的概率。Sigmoid prime 具有良好的曲线，可以将值转换为 0 到 0.5 范围内的值。

# c++ - 将 Arduino RGB LED 从一种颜色褪色到另一种颜色？

> ID：15803986
> 
> 赞同：9
> 
> 时间：2013-04-04T06:27:45.973
> 
> 标签：c++, colors, arduino, rgb, led

我目前已经设法让我的 LED 在我选择的八种颜色之间循环。一切正常，除了我想要一种更自然的感觉，并且想从一种颜色淡化/过渡到另一种颜色，而不是让它们相互替换。

到目前为止，这是我的代码：

```
int redPin = 11;
int greenPin = 10;
int bluePin = 9;

void setup()
{
    pinMode(redPin, OUTPUT);
    pinMode(greenPin, OUTPUT);
    pinMode(bluePin, OUTPUT);
}

void loop()
{
    setColor(250, 105, 0);   // Yellow
    delay(1000);

    setColor(250, 40, 0);    // Orange
    delay(1000);

    setColor(255, 0, 0);     // Red
    delay(1000);

    setColor(10, 10, 255);   // Blue
    delay(1000);

    setColor(255, 0, 100);   // Pink
    delay(1000);

    setColor(200, 0, 255);   // Purple
    delay(1000);

    setColor(0, 255, 0);     // Green
    delay(1000);

    setColor(255, 255, 255); // White
    delay(1000);
}

void setColor(int red, int green, int blue)
{
    analogWrite(redPin, 255-red);
    analogWrite(greenPin, 255-green);
    analogWrite(bluePin, 255-blue);
} 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-04-04T16:24:54.933

关于这个主题的其他答案忽略了一个事实，即人类对光强度的感知是[对数的，而不是线性](http://www.youtube.com/watch?v=FfdsXqpnCEs)的。`analogWrite()`例程设置输出引脚的PWM[占空比](http://en.wikipedia.org/wiki/Pulse-width_modulation)，并且是线性的。因此，通过采用最小占空比（例如`0`）和最大占空比（例如，为了便于数学计算，这是`10`）并将其分成相等的块，您将*线性*控制强度，这不会给出令人满意的结果。

你需要做的是以指数方式设置你的强度。假设你的最大强度是`255`。您可以通过将您的强度视为提高某个数字的力量来生成此结果。在我们的例子中，鉴于我们正在处理喜欢二进制的计算机，所以 2 的幂是方便的。所以，

```
2^0 =1
2^8=256 
```

所以我们可以有8个强度级别。实际上，请注意 out minimum 现在没有完全关闭（`1`不是`0`），我们的最大值超出了范围（`256`不是`255`）。所以我们修改公式为

> ```
> output = 2 ^ intensity - 1 
> ```

或者在代码中

```
int output = 1<<intensity - 1; 
```

这会产生从 0 到 255 的强度级别从`0`到`8`（含）的值，因此我们实际上得到了九个强度级别。如果您想要更平滑的过渡（即更多级别的强度），并且仍然使用对数强度，您将需要浮点数学。

如果您将这种计算强度的方法应用于每个通道（R、G、B），那么您的感知将与您的代码所说的一致。

* * *

至于如何在各种颜色之间平滑过渡，答案取决于您希望如何导航颜色空间。最简单的做法是将色彩空间想象成一个三角形，以 R、G 和 B 作为顶点：

![在此处输入图像描述](https://i.stack.imgur.com/EojvP.jpg)

那么问题是如何导航这个三角形：你可以沿着边走，从 R 到 G，再到 B。这样你就永远不会看到白色（所有通道完全打开）或“黑色”（所有通道完全关闭）。你可以把你的色彩空间想象成一个六边形，带有额外的紫色 (R+B)、黄色 (G+B) 和棕色 (R+G) 颜色，并且还可以在周边导航（同样，没有白色或黑色）。有多少种方法可以在这些内部导航，以及我们可能想到的其他数字，就有多少种褪色的可能性。

当我构建这样的渐变程序时，我喜欢的颜色空间和遍历如下：将每个通道想象成一个二进制位，所以现在你有三个（R、G 和 B）。如果您将每种颜色视为完全打开这些通道的某种组合，您将获得 7 种颜色（不包括黑色，但包括白色）。取第一种颜色，从黑色渐变到黑色，然后再转到下一种颜色。这是一些执行类似操作的代码：

```
int targetColor = 1;
int nIntensity = 0;
int nDirection = 1;         // When direction is 1 we fade towards the color (fade IN)
                            // when 0 we fade towards black (fade OUT)
#define MAX_INTENSITY 8
#define MIN_INTENSITY 0
#define MAX_TARGETCOLOR 7

void loop() {
    for (;;) {

        // Update the intensity value
        if (nDirection) {
            // Direction is positive, fading towards the color
            if (++nIntensity >= MAX_INTENSITY) {
                // Maximum intensity reached
                nIntensity = MAX_INTENSITY;  // Just in case
                nDirection = 0;             // Now going to fade OUT
            } // else : nothing to do
        } else {
            if (--nIntensity <= MIN_INTENSITY) {
                nIntensity = MIN_INTENSITY; // Just in case
                // When we get back to black, find the next target color
                if (++targetColor>MAX_TARGETCOLOR) 
                    targetColor=1;          // We'll skip fading in and out of black
                nDirection = 1;             // Now going to fade IN
            } // else: nothing to do
        }

        // Compute the colors
        int colors[3];
        for (int i=0;i<3;i++) {
            // If the corresponding bit in targetColor is set, it's part of the target color
            colors[i] = (targetColor & (1<<i)) ? (1<<nIntensity) -1 : 0;
        }

        // Set the color
        setColor(colors[0], colors[1], colors[2]);

        // Wait
        delay(100);     
    }
} 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2014-01-17T09:10:18.533

确实可以在不同颜色之间褪色。我在 Arduino 书籍和网络上的代码中通常也缺少的是，可以在 Arduino IDE 中编写 C++ 类。因此，我将展示一个使用 C++ 类在颜色之间渐变的示例。

应该解决的一个问题是应该对哪些引脚进行模拟写入，因为并非所有引脚都能够进行脉冲宽度调制 ( [PWM](http://en.wikipedia.org/wiki/Pulse-width_modulation) )。在 Arduino 设备上，支持 PWM 的引脚用波浪号“~”表示。Arduino UNO 有数字引脚 ~3、~5、~6、~9、~10 和 ~11。大多数 Arduino 将这些引脚用于 PWM，但请检查您的设备以确保。您可以通过将 LED 打开 1 毫秒和 1 毫秒来在常规数字引脚上创建 PWM，这模拟了 LED 上 50% 的功率。或者将其打开 3 毫秒和 1 毫秒，这模拟了 75% 的功率。

为了使 LED 变暗，您必须减少/增加 PWM 值并稍等片刻。您将不得不等待一会儿，否则 arduino 会每秒尝试使 LED 褪色/变暗数千次，而您将看不到褪色效果，尽管它可能在那里。因此，您正在寻找一种方法来逐渐减少/增加第二个参数以`analogWrite( )`用于三个 LED；有关更详尽的解释，请参见[Arduino Cookbook](http://shop.oreilly.com/product/0636920022244.do)的第 7 章。无论如何，这本书对于 Arduino 粉丝来说都是一本好书！

所以我修改了 OP 的代码以包含一个“rgb_color”类，它或多或少只是一个红色、绿色和蓝色值的容器。但更重要的是推子类。构造推子实例时，正确的引脚应分别位于构造函数中的红色、绿色和蓝色。推子包含一个成员函数`void fade( const rgb_color& const rgb_color&)`，它将在输入和输出颜色之间进行渐变。默认情况下，该函数从输入颜色到输出颜色需要 10 毫秒的 256 步。（请注意，由于整数除法，这并不意味着每一步都是 1/256 th，但从感知上讲你不会注意到它）。

```
/*
 * LedBrightness sketch
 * controls the brightness of LEDs on "analog" (PWM) output ports.
 */

class rgb_color {

  private:
    int my_r;
    int my_g;
    int my_b;
  public:
    rgb_color (int red, int green, int blue)
      :
        my_r(red),
        my_g(green),
        my_b(blue)
    {
    }

    int r() const {return my_r;}
    int b() const {return my_b;}
    int g() const {return my_g;}
};

/*instances of fader can fade between two colors*/
class fader {

  private:
    int r_pin;
    int g_pin;
    int b_pin;

  public:
    /* construct the fader for the pins to manipulate.
     * make sure these are pins that support Pulse
     * width modulation (PWM), these are the digital pins
     * denoted with a tilde(~) common are ~3, ~5, ~6, ~9, ~10 
     * and ~11 but check this on your type of arduino. 
     */ 
    fader( int red_pin, int green_pin, int blue_pin)
      :
        r_pin(red_pin),
        g_pin(green_pin),
        b_pin(blue_pin)
    {
    }

    /*fade from rgb_in to rgb_out*/
    void fade( const rgb_color& in,
               const rgb_color& out,
               unsigned n_steps = 256,  //default take 256 steps
               unsigned time    = 10)   //wait 10 ms per step
    {
      int red_diff   = out.r() - in.r();
      int green_diff = out.g() - in.g();
      int blue_diff  = out.b() - in.b();
      for ( unsigned i = 0; i < n_steps; ++i){
        /* output is the color that is actually written to the pins
         * and output nicely fades from in to out.
         */
        rgb_color output ( in.r() + i * red_diff / n_steps,
                           in.g() + i * green_diff / n_steps,
                           in.b() + i * blue_diff/ n_steps);
        /*put the analog pins to the proper output.*/
        analogWrite( r_pin, output.r() );
        analogWrite( g_pin, output.g() );
        analogWrite( b_pin, output.b() );
        delay(time);
      }
    }

};

void setup()
{
  //pins driven by analogWrite do not need to be declared as outputs
}

void loop()
{
  fader f (3, 5, 6); //note OP uses 9 10 and 11
  /*colors*/
  rgb_color yellow( 250, 105,   0 );
  rgb_color orange( 250,  40,   0 );
  rgb_color red   ( 255,   0,   0 );
  rgb_color blue  (  10,  10, 255 );
  rgb_color pink  ( 255,   0, 100 );
  rgb_color purple( 200,   0, 255 );
  rgb_color green (   0, 255,   0 );
  rgb_color white ( 255, 255, 255 );

  /*fade colors*/
  f.fade( white, yellow);
  f.fade( yellow, orange);
  f.fade( orange, red);
  f.fade( red, blue);
  f.fade( blue, pink);
  f.fade( pink, purple);
  f.fade( purple, green);
  f.fade( green, white);
} 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2016-08-22T15:41:48.833

这可能就是您正在寻找的。每当我们想要在光谱上移动颜色并以圆形和平滑运动的方式转换颜色时，我们真正要做的是在 HSI/HSV（色相、饱和度、强度/值）颜色空间中使用 HUE 来移动光。

如果你愿意，就拿这个图：

[![在此处输入图像描述](https://i.stack.imgur.com/leqbL.jpg)](https://i.stack.imgur.com/leqbL.jpg)

我们将为色调附加一个 0-360 的值，因为色调具有 360 度的颜色。饱和度的值为 0.00 - 1.00，强度/值的值为 0.00 -1.00

这是我在 MEGA 2560 上的电路： [![在此处输入图像描述](https://i.stack.imgur.com/3DZ6W.jpg)](https://i.stack.imgur.com/3DZ6W.jpg)

这是此代码运行的视频：

```
<iframe width="560" height="315" src="https://www.youtube.com/embed/gGG-GndSKi0" frameborder="0" allowfullscreen></iframe>
```

因此，让我们构建一个函数，我们可以在循环函数中传递色调值和一个 for 循环，以调用该值 360 次以切换完整的彩虹色。

```
//Define the pins we will use with our rgb led
int redPin = 9;
int greenPin = 10;
int bluePin = 11;

//define that we are using common anode leds
#define COMMON_ANODE

void setup()
{
  pinMode(redPin, OUTPUT);
  pinMode(greenPin, OUTPUT);
  pinMode(bluePin, OUTPUT);
}

int rgb[3];
//Arduino has no prebuilt function for hsi to rgb so we make one:
void hsi_to_rgb(float H, float S, float I) {
  int r, g, b;
  if (H > 360) {
    H = H - 360;
  }
  // Serial.println("H: "+String(H));
  H = fmod(H, 360); // cycle H around to 0-360 degrees
  H = 3.14159 * H / (float)180; // Convert to radians.
  S = S > 0 ? (S < 1 ? S : 1) : 0; // clamp S and I to interval [0,1]
  I = I > 0 ? (I < 1 ? I : 1) : 0;
  if (H < 2.09439) {
    r = 255 * I / 3 * (1 + S * cos(H) / cos(1.047196667 - H));
    g = 255 * I / 3 * (1 + S * (1 - cos(H) / cos(1.047196667 - H)));
    b = 255 * I / 3 * (1 - S);
  } else if (H < 4.188787) {
    H = H - 2.09439;
    g = 255 * I / 3 * (1 + S * cos(H) / cos(1.047196667 - H));
    b = 255 * I / 3 * (1 + S * (1 - cos(H) / cos(1.047196667 - H)));
    r = 255 * I / 3 * (1 - S);
  } else {
    H = H - 4.188787;
    b = 255 * I / 3 * (1 + S * cos(H) / cos(1.047196667 - H));
    r = 255 * I / 3 * (1 + S * (1 - cos(H) / cos(1.047196667 - H)));
    g = 255 * I / 3 * (1 - S);
  }
  rgb[0] = r;
  rgb[1] = g;
  rgb[2] = b;

}
void setColor(int red, int green, int blue)
{
  #ifdef COMMON_ANODE
    red = 255 - red;
    green = 255 - green;
    blue = 255 - blue;
  #endif
  analogWrite(redPin, red);
  analogWrite(greenPin, green);
  analogWrite(bluePin, blue);
}

///here we have our main loop and the for loop to shift color
void loop()
{
//the for loop counts to 360 and because its in our control loop it will run forever
// We will use int i to increment the actual desired color 
for (int i=0; i<=360;i++){
  hsi_to_rgb(i,1,1);
  setColor(rgb[0],rgb[1],rgb[2]);
  //Changing the delay() value in milliseconds will change how fast the
  //the light moves over the hue values 
  delay(5);
  }

} 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-04-05T10:35:35.477

如果您想在颜色之间渐变，请在一个颜色空间中工作，使其变得容易，然后在最后转换回 RGB。

例如，在[HSL 颜色空间](http://en.wikipedia.org/wiki/HSL_and_HSV)中工作，保持 S 和 L 不变（比如完全饱和且明亮的颜色），然后围绕圆圈“淡化”H - 您将从红色变为绿色、蓝色并返回红色。转换回 RGB，然后将这些值用于您的 LED 驱动器。我将这种技术用于[“情绪灯”应用程序](https://github.com/martinjthompson/MoodLamp)，其他[颜色空间转换代码](https://stackoverflow.com/a/9493060/106092) 可以在 SO 上找到。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-04T07:44:59.690

您可以通过为颜色使用结构来简化代码。

```
struct Color
{
    unsigned char r;
    unsigned char g;
    unsigned char b;
}; 
```

然后，很容易有褪色功能

```
// the old color will be modified, hence it is not given as reference
void fade(Color old, const Color& newColor)
{
    // get the direction of increment first (count up or down)
    // each of the inc_x will be either 1 or -1
    char inc_r = (newColor.r - old.r)/abs(newColor.r-old.r); // note, that the right hand side will be sign extended to int according to the standard.
    char inc_g = (newColor.g - old.g)/abs(newColor.g-old.g);
    char inc_b = (newColor.g - old.g)/abs(newColor.g-old.g);

    fadeOneColor(old.r, newColor.r, inc_r, old);
    fadeOneColor(old.g, newColor.g, inc_g, old);
    fadeOneColor(old.b, newColor.b, inc_b, old);
}

void fadeOneColor( unsigned char& col_old, 
                   const unsigned char& col_new, 
                   const char inc, 
                   Color& col)
{
    while(col_old != col_new)
    {
        col_old += inc;
        SetColor(col); 
        delay(20);
    }        
} 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2021-01-08T14:24:30.350

我想提供一个对*用户更友好的*答案，以帮助理解它的工作原理。

在下面的示例中，我使用的是共阳极 RGB LED。

然而，在我的项目中：要将颜色设置为 RGB LED，我通过硬件串行发送一个字符串。

**命令示例：** `RGB000255000`

这个作为字符串的命令分为 4 个部分，每个部分 3 个字符。使用上面的命令示例：

*   "RGB" : 过滤命令执行的位置。
*   “000”：第二个 3 个字符代表红色值。
*   “255”：第三个 3 个字符代表绿色值。
*   “000”：第 4 个 3 个字符代表蓝色值。

**结果：**这将在您的 LED 上输出绿色。

**请参阅下面的代码：**

```
// Set your LED Pins.
const int rPin = 9;
const int gPin = 10;
const int bPin = 11;

// Set the variables that will assign a value to each Color Pin.
int rVal = 255;
int gVal = 255;
int bVal = 255;

// Fade Red Pin (In / Out).
void FadeRed(int red)
{
  // When Red Value on Red Pin is Inferior to the New Value: Fade In.
  if (rVal < red)
  {
    // Fade Out.
    for (int r = rVal; r <= red; r++)
    {
      // Set the Variable and Pin values.
      rVal = r;
      analogWrite(rPin, rVal);

      // Delay Slighlty (Synchronously). For Asynchronous Delay; you may try using "millis".
      delay(6);
    } 
  }

  // When Red Value on Red Pin is Superior to the New Value: Fade Out.
  else
  { 
    for (int r = rVal; r >= red; r--)
    {
      rVal = r;
      analogWrite(rPin, rVal);
      delay(6); 
    }
  }
}

// Fade Green Pin (In / Out).
void FadeGreen(int green)
{
  if (gVal < green)
  {
    for (int g = gVal; g <= green; g++)
    {
      gVal = g;
      analogWrite(gPin, gVal);
      delay(6);
    }
  }

  else
  { 
    for (int g = gVal; g >= green; g--)
    { 
      gVal = g;
      analogWrite(gPin, gVal);
      delay(6);
    }
  }
}

// Fade Blue Pin (In / Out).
void FadeBlue(int blue)
{
  if (bVal < blue)
  {
    for (int b = bVal; b <= blue; b++)
    {
      bVal = b;
      delay(6);
      analogWrite(bPin, b);
    }
  }

  else
  {
    for (int b = bVal; b >= blue; b--)
    {
      bVal = b;
      delay(6);
      analogWrite(bPin, b);
    }
  }
}

void FadeColor(int red, int green, int blue)
{
    // Debug Only.
    Serial.println("\n[+] Received Values");
    Serial.println(red);
    Serial.println(green);
    Serial.println(blue);

    // Code.
    FadeRed(red);
    FadeGreen(green);
    FadeBlue(blue);

    // Debug Only.
    Serial.println("\n[+] Pin Values \n");
    Serial.println(rVal);
    Serial.println(gVal);
    Serial.println(bVal);
}

/* Set RGB LED Color According to String Value. (i.e: RGB000000000) */
void SetColor(String color)
{  
  // Retrieve the New Color from String.
  /* Split a String : Start Position; End Position */
  String red = color.substring(3, 6);   /* Get the 1st 3 Characters Corresponding to RED   */
  String green = color.substring(6, 9); /* Get the 2nd 3 Characters Corresponding to GREEN */
  String blue = color.substring(9, 12); /* Get the Last 3 Characters Corresponding to BLUE */

  int r = atoi(red.c_str());
  int g = atoi(green.c_str());
  int b = atoi(blue.c_str());

  int redVal = 255 - r;
  int grnVal = 255 - g;
  int bluVal = 255 - b;

  FadeColor(redVal, grnVal, bluVal);
}

void setup()
{  
  pinMode(rPin, OUTPUT);
  pinMode(gPin, OUTPUT);
  pinMode(bPin, OUTPUT);

  pinMode(rPin, HIGH);
  pinMode(gPin, HIGH);
  pinMode(bPin, HIGH);

  analogWrite(rPin, rVal);
  analogWrite(gPin, gVal);
  analogWrite(bPin, bVal);
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2015-12-08T16:29:15.107

Here's a fast linear fade between two RGB values stored in `uint32_t` as `0x00RRGGBB` as is used in many addressable RGB pixel strips such as in NeoPixel (and is inspired by some of the code in the NeoPixel Arduino library).

It doesn't take colour space into consideration but still looks nice and smooth in practice.

```
uint32_t fadeColor(uint32_t const x, uint32_t const y, uint8_t const fade)
{
  // boundary cases don't work with bitwise stuff below
  if (fade == 0)
  {
    return x;
  }
  else if (fade == 255)
  {
    return y;
  }

  uint16_t const invFadeMod = (255 - fade) + 1;
  uint16_t const fadeMod = fade + 1;
  // overflows below to give right result in significant byte
  uint8_t const xx[3] // r g b
  {
    static_cast<uint8_t>((uint8_t(x >> 16) * invFadeMod) >> 8),
    static_cast<uint8_t>((uint8_t(x >> 8) * invFadeMod) >> 8),
    static_cast<uint8_t>((uint8_t(x >> 0) * invFadeMod) >> 8),
  };
  uint8_t const yy[3] // r g b
  {
    static_cast<uint8_t>((uint8_t(y >> 16) * fadeMod) >> 8),
    static_cast<uint8_t>((uint8_t(y >> 8)* fadeMod) >> 8),
    static_cast<uint8_t>((uint8_t(y >> 0)* fadeMod) >> 8),
  };
  return ((uint32_t)(xx[0] + yy[0]) << 16) | ((uint32_t)(xx[1] + yy[1]) <<  8) | (xx[2] + yy[2]);
} 
```

# jquery - JQuery 可重复字段 CSS 列表最后一个按钮隐藏

> ID：15803991
> 
> 赞同：0
> 
> 时间：2013-04-04T06:28:14.750
> 
> 标签：jquery, css, field

这更像是一个 CSS 问题而不是一个 JQuery 问题，但它包括两者。

我正在尝试向表单添加一个可重复的字段......到目前为止，除了我的 CSS 之外，一切都很好......

可重复字段的 HTML：

```
 <a class="repeatable-add top-link tooltip-link" href="#" rel="tooltip" data-placement="top" data-original-title="Add a new Address Field">
        <i class="icon-plus-sign"></i>
    </a>
    <div class="controls" id="GMAddresses">
        <ul id="GMAddress-repeatable" class="custom_repeatable" style="list-style:none;margin-left:0;">
            <li>
                <div class="input-prepend input-append" style="margin-left:1%;margin-top:2%;">
                    <span class="add-on"><i class="icon-home"></i> <a class="repeatable-up" href="#"><i class="icon-arrow-up"></i></a></span>
                    <input type="text" name="GMAddress[0]" style="width:85%;" placeholder="Address Here" required>
                    <span class="add-on"><a class="repeatable-down" href="#"><i class="icon-arrow-down"></i></a> <a class="repeatable-remove" href="#"><i class="icon-minus-sign"></i></a></span>
                </div>
            </li>
        </ul>
    </div> 
```

可重复添加按钮的 JQuery：

```
 //Repeatable Add Button
    $('.repeatable-add').click(function() {
        //Check if there is any open address fields
        var e_error = new Boolean;
        e_error = false;
        $('ul.custom_repeatable').each(function() {
            $(this).find('li').each(function() {
                var mytext = "";
                mytext = $(this).find('input[type=text]').val();
                if(mytext === "") {
                    e_error = true;
                    return false;
                }
            });
        });
        //Check if the max (7) number of addresses has been reached
        if($('ul.custom_repeatable li').length < 7) {
            if(e_error === false) {
                //Add the extra field if there are no errors
                field = $(this).closest('div').find('.custom_repeatable li:last').clone(true);
                fieldLocation = $(this).closest('div').find('.custom_repeatable li:last');
                $('input', field).val('').attr('name', function(index, name) {
                    return name.replace(/(\d+)/, function(fullMatch, n) {
                        return Number(n) + 1;
                    });
                })
                field.insertAfter(fieldLocation, $(this).closest('div')).hide().show('slow');
                $('ul.custom_repeatable li:last input').focus();
                return false;
            } else {
                //Show popup if there was an open address field
                $('#extra_address_error2').popover('show');
                setTimeout(function() {
                    $('#extra_address_error2').popover('hide');
                }, 5000);
                $('ul.custom_repeatable li:last input').focus();
            }
        } else {
            //Show popup if max (7) number of addresses has been reached
            $('#extra_address_error1').popover('show');
            setTimeout(function() {
                $('#extra_address_error1').popover('hide');
            }, 5000);
        }
    }); 
```

好的，除了可重复的向上和向下按钮外，这工作正常......这些按钮允许用户根据需要向上和向下移动字段但是向上按钮不应显示在第一个字段上，并且不应显示向下按钮在最后一个领域...

这是我使用的 CSS：

```
 ul.custom_repeatable > li:first-child .repeatable-up {
        visibility: hidden;
        clear:both;
    }
    ul.custom_repeatable > li:last-child .repeatable-down {
        visibility: hidden;
        clear:both;
    } 
```

CSS工作正常，直到我通过添加按钮添加一个新字段......然后可重复向下按钮不会显示在新字段上......

如果我使用 JQuery 刷新/重新排序字段，则 CSS 适用于两个按钮...

请帮忙...

谢谢！

# actionscript-3 - 在flex中使用jpeg编码器编码时如何设置图像大小

> ID：15803996
> 
> 赞同：0
> 
> 时间：2013-04-04T06:28:32.547
> 
> 标签：actionscript-3, apache-flex, flash-builder

```
var dt : Date = new Date();
var jpg:JPEGEncoder= new JPEGEncoder;
var ba:ByteArray = jpg.encode(parentDocument.newBitmapData);    
file.save(ba,'Screenshot at'+dt.time+'.jpg'); 
```

我必须以不同的尺寸保存图像

例如：800x600、640x480 等

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:57:06.963

您可以在编码之前缩放 bitmapData：

```
 var bd800x600:BitmapData = new BitmapData(800, 600);
    bd800x600.perlinNoise(10, 10, 8, 21, true, true);

    var newW:int = 640;
    var newH:int = 480;

    var bd640x480:BitmapData = new BitmapData(newW, newH);
    var mt:Matrix = new Matrix();
    mt.scale(newW/bd800x600.width, newH/bd800x600.height);
    bd640x480.draw(bd800x600, mt); 
```

而不是使用您的代码来保存缩放的位图数据。

# php - 如何在 PHP 中构建连字符分隔的字符串

> ID：15803998
> 
> 赞同：1
> 
> 时间：2013-04-04T06:28:36.627
> 
> 标签：php, replace

我想根据用户提交的帖子标题制作一个连字符分隔的字符串以在 URL 中使用。假设如果用户输入帖子的标题如下

```
$title = "USA is going to deport indians -- Breaking News / News India"; 
```

我想将其转换如下

```
$url = "usa-is-going-to-deport-indians-breaking-news-news-india"; 
```

可能还有一些我也想转换的字符。例如 '&' 到 'and' 和 '#'、'%' 到连字符 (-)。其中一种方法是使用 php 替换功能。但是使用这种方法，我不得不多次调用replace函数。这很耗时。另一个问题是标题字符串中可能有多个连字符 (-)，我想将多个连字符 (-) 转换为一个连字符 (-)。

有没有稳健有效的方法来解决这个问题？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-04T06:33:31.850

您可以使用`preg_replace`函数来执行此操作：

**输入 ：**

```
$string = "USA is going to deport indians -- Breaking News / News India";

$string = preg_replace("/[^\w]+/", "-", $string);
echo strtolower($string); 
```

**输出 ：**

```
usa-is-going-to-deport-indians-breaking-news-news-india 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-09-06T11:56:22.150

我建议使用该`sanitize_title()`功能检查[文档](https://developer.wordpress.org/reference/functions/sanitize_title/)

# javascript - Componentart 网格替代方案

> ID：15803999
> 
> 赞同：3
> 
> 时间：2013-04-04T06:28:39.313
> 
> 标签：javascript, asp.net, web, datatables, componentart

有没有人知道使用组件艺术网格的好选择？我有一种情况，其中一页的视图状态为 1.5MB，因为网格有 1800 行必须是客户端，因为它们是可编辑的，结果是页面上的所有回发都非常慢，因为所有视图状态都需要上传。

所以我正在考虑用诸如[http://www.datatables.net/](http://www.datatables.net/)之类的替代方法替换 componentart 网格，我喜欢那个网格，但不幸的是我需要更多功能，例如可扩展行，最多三个级别。这也很棒[http://www.ext.net/](http://www.ext.net/)，但是许可证非常昂贵，当我只需要一个网格时，我不确定我的要求是否适用于整个框架。您还可以推荐其他客户端表/网格吗？

这是当前解决方案的示例（审查敏感信息）： ![网格示例](https://i.stack.imgur.com/559NQ.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T07:27:29.767

Jq网格对你来说是个不错的选择.....这里是链接......

[http://www.trirand.com/blog/jqgrid/jqgrid.html..](http://www.trirand.com/blog/jqgrid/jqgrid.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-17T10:10:55.690

试试[DevExpress](http://devexpress.com) .. 它不是免费的，但这是最好的工具之一..

[http://demos.devexpress.com/RWA/WebmailClient/](http://demos.devexpress.com/RWA/WebmailClient/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-17T22:41:24.583

您可以将客户端网格视为整个网格的窗口，仅加载和保存当前显示的值。