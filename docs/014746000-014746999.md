# StackOverflow 问答 14746000-14746999

# php - 查找在javascript php中单击了哪个按钮

> ID：14746002
> 
> 赞同：-3
> 
> 时间：2013-02-07T07:38:05.473
> 
> 标签：php, javascript

如何找出单击了哪个按钮。

```
`<input type="submit" name="quest" id="ques" value="quest" />
<input type="submit" name="answer" id="ans" value="answer"  />` 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T07:44:01.800

很容易你可以像我一样编码

代码：

```
<html>
   <head>
      <script language="javascript">         
         function checkBtn(event) {
               alert(event.target.name);
         }
      </script>

   </head>
   <body>
      <br /><br />
      <form action="multiSubmit.php" method="post" onSubmit="return false;">
         <input type="submit" name="quest" id="quest" value="quest" onClick="checkBtn(event)" /><br />
         <input type="submit" name="answer" id="answer" value="answer" onClick="checkBtn(event)" /><br />
      </form>

   </body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T07:43:26.473

代码应如下所示

```
<script language="javascript">         
   function checkBtn(event) {
         alert(event.target.name);
     }
</script> 
```

`onClick="checkBtn(event)"`为您的每个按钮添加一个。否则，您可以`onsubmit`像这样在表单中添加`onSubmit="checkBtn(event)"`

# iphone - iOS - 在 iphone 5 分辨率上支持 xib

> ID：14746015
> 
> 赞同：1
> 
> 时间：2013-02-07T07:38:41.580
> 
> 标签：iphone, ios, ios5, ios6

我在 xib 文件中设计了一个 3.5 大小的视图。当我以 iphone 5 分辨率运行时，它会在底部显示一个空格。

有没有办法支持一个 xib 进入两种分辨率。

谢谢。

编辑

```
if( IS_IPHONE_5 )
{
    _helpButton = [[UIButton alloc] initWithFrame:self.view.bounds];
    _LogoImage = [[UIImageView alloc] initWithFrame:self.view.bounds];
    [_helpButton setAutoresizingMask:UIViewAutoresizingFlexibleWidth|UIViewAutoresizingFlexibleHeight];
    [_LogoImage setAutoresizingMask:UIViewAutoresizingFlexibleWidth|UIViewAutoresizingFlexibleHeight];
    CGRect frameRect = _helpButton.frame;
    frameRect.origin.y += 300;
    _helpButton.frame = frameRect;

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T07:41:50.283

要么 1) 打开 xib 文件的自动布局，让它根据屏幕高度自动调整，要么 2) 关闭自动布局，然后设置字符串和支柱以根据其大小扩展视图，或者 3) 使用插座并以编程方式设置它的高度。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T07:50:21.383

3.5寸设备有xib没问题，支持iOS<6.0就不要使用**AutoLayout 。**

您只需设置 UIView 调整大小属性，如下所示，应用程序应该可以正常工作而无需任何更改。

![自动调整视图大小](../Images/a93985b62d5597447eb7393ef8e366c5.png)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-07T07:52:01.607

检查您是否在某处硬编码了视图的高度

# php - 我如何加入或内爆以下数组代码？

> ID：14746016
> 
> 赞同：0
> 
> 时间：2013-02-07T07:38:47.227
> 
> 标签：php, sql

在下面的代码中，我想在一行中加入或内爆所有 $trackersurl 数组。我在不同的行中得到结果，所以我想加入一行。谁能帮我吗？

我正在stackoverflow中搜索结果，但无法遵循。

我的代码在下面：

```
$sql = "SELECT * FROM announce WHERE torrent = $id ORDER BY seeders DESC";
$query = @mysql_query($sql);
while ($result  = @mysql_fetch_array($query)) {

$trackersurl1 = $result['url'];
$trackersurl2 = "&tr=".$trackersurl1;
$trackersurl = array($trackersurl2);

} 
```

html页面中[var.trackersurl]的结果如下：

```
&tr=http:ajgdsjhg/ann
&tr=udp://iuysidfu/ann
&tr=udp:wutefghgw/ann
&tr=http://sdhgsjdhgj/ann 
```

我想在下面的一行中加入他们

```
&tr=http:ajgdsjhg/ann&tr=udp://iuysidfu/ann&tr=udp:wutefghgw/ann&tr=http://sdhgsjdhgj/ann 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T07:52:00.767

你应该小心sql注入。

您是否要创建一个包含所有跟踪器字符串的数组 ['trackers'] 以用于磁力链接？

```
<?php
$sql = "SELECT * FROM announce WHERE torrent = ".mysql_real_escape_string($id)." ORDER BY seeders DESC";
$query = mysql_query($sql);

$tracker = null;
if(mysql_num_rows($query)>=1){
    while ($result  = mysql_fetch_array($query)) {
        $tracker .= "&tr=".$result['url'];
    }
}
$tracker = array('trackers'=>$tracker);

//$tracker['trackers'] = "&tr=a.com&tr=b.com&tr=c.com";
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T07:57:29.613

试试这个代码

```
$newArray=array();
while ($result  = @mysql_fetch_array($query)) {
    $trackersurl1 = $result['title'];
    $newArray[] = "&tr=".$trackersurl1;
}
$urlString=implode('',$newArray); 
```

# c# - 如何在 HTCAPTION 上捕捉 mousemove

> ID：14746018
> 
> 赞同：0
> 
> 时间：2013-02-07T07:38:54.470
> 
> 标签：c#, mousemove

我有一个表单，将其所有背景设置为 HTCAPTION 作为下面的源代码。

```
 protected override void WndProc(ref Message m)
    {
        base.WndProc(ref m);

        switch(m.Msg)
        {
            case Global.WM_NCHITTEST:
                Point mouseCursor = PointToClient(Cursor.Position);

                if (mouseCursor.X < borderSize && mouseCursor.Y < borderSize)
                    m.Result = (IntPtr)Global.HTTOPLEFT;
                else if (mouseCursor.X < borderSize && mouseCursor.Y > Height - borderSize)
                    m.Result = (IntPtr)Global.HTBOTTOMLEFT;
                else if (mouseCursor.X < borderSize)
                    m.Result = (IntPtr)Global.HTLEFT;
                else if (mouseCursor.X > Width - borderSize && mouseCursor.Y < borderSize)
                    m.Result = (IntPtr)Global.HTTOPRIGHT;
                else if (mouseCursor.X > Width - borderSize && mouseCursor.Y > Height - borderSize)
                    m.Result = (IntPtr)Global.HTBOTTOMRIGHT;
                else if (mouseCursor.X > Width - borderSize)
                    m.Result = (IntPtr)Global.HTRIGHT;
                else if (mouseCursor.Y < borderSize)
                    m.Result = (IntPtr)Global.HTTOP;
                else if (mouseCursor.Y > Height - borderSize)
                    m.Result = (IntPtr)Global.HTBOTTOM;
                else
                    m.Result = (IntPtr)Global.HTCAPTION;
                break;
        }
    } 
```

问题是当设置 HTCAPTION 时，我无法触发 From.MouseMove 事件。

```
 private void FormMain_MouseMove(Object sender, MouseEventArgs e)
    {
        Point p = e.Location;

        Console.WriteLine(p);
    } 
```

如何捕捉 MouseMove 事件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-20T16:46:21.877

在 VB.net 中是

```
MyBase.WndProc(m) 
```

所以，如果我错了，请纠正我，但我猜是在 C# 中。

```
this.WndProc(m) 
```

? 把它放在你的 if 语句之前。

# objective-c - 有没有办法在目标 c 中以左右手势播放（倒带/快进）暂停的电影

> ID：14746019
> 
> 赞同：0
> 
> 时间：2013-02-07T07:38:55.457
> 
> 标签：objective-c, animation, mpmovieplayercontroller

我有一个视频剪辑，当应用程序启动时它会像介绍视频一样工作。视频包含许多来自各个方向并相互融合的对象。

我有两种方法可以做到这一点：

*   我以暂停模式开始视频。视频通过手指左右移动向前或向后移动，与`MPMoviePlayerController`. （视频将保持暂停状态，不会播放）

*   我将每个对象分开并在内部`UIScrollView`根据视频描述在`- (void)scrollViewDidScroll:(UIScrollView *)scrollView`方法的帮助下移动它们。

第二种方式太复杂了，因为视频太长并且有近 45 个对象。那么如何选择第一个选项？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T07:59:15.410

您应该将电影导出为一系列图像。然后使用 [UIImageView animationImages:listOfImages] 并在您的 imageView 上绑定 UIGestureRecognizer 并根据幻灯片的方向显示图像而不是另一个图像。

# filepicker.io - 使用裁剪功能而无需初始上传到 s3

> ID：14746023
> 
> 赞同：0
> 
> 时间：2013-02-07T07:39:16.153
> 
> 标签：filepicker.io

我们正在对我们的图片上传实施裁剪功能。

以下是事件的顺序。

```
1a)We call Filepicker.pick method to upload file to filepicker, 
1b)Then filepicker uploads it to s3\. 
2a)Then we call filepicker.stat method to get dimensions.
2b)Then we call filepicker.convert to get small preview image and set that in crop dialog on the user end.
3a)When user adjusts the cropping area using jquery, we capture the dimensions.
3b)Then when user presses the crop button, we call filepicker.crop to get the cropped image.
4a)After that we call filepicker.convet to get 3 sizes. Thumb, small, medium.
5a) Then we move these images to S3 upon save on the user end. 
```

我们的最终目标是让我们在上传/裁剪文件时的用户体验尽可能顺畅和快速。目前这是一个挑战，整个过程很慢。所以我们正在尝试消除步骤 1b，因为它实际上是不需要的。

我们的整个过程在您看到此功能实现的经验中是否有意义？

非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T18:30:06.920

为了进行必要的处理，文件必须以某种形式在线存在。如果图像是从 facebook、Dropbox 等中提取的，则不会将其上传到 S3。但是，如果文件是本地文件，则必须先将其上传到 S3 才能进行处理，因此无法绕过此步骤。

# oracle - sql plus 创建方法体

> ID：14746030
> 
> 赞同：0
> 
> 时间：2013-02-07T07:39:36.770
> 
> 标签：oracle, methods, sqlplus

我已经完成了以下操作，并且在创建体型时遇到了问题。请帮忙！！

```
 SQL> desc theater_t
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 TNO                                                NUMBER
 NAME                                               VARCHAR2(15)
 ADDRESS                                            ADDRESS_TY
 PHONE                                              PH_TY
 START_DATE                                         DATE
 END_DATE                                           DATE

METHOD
------
 MEMBER FUNCTION FEATURED_DAYS RETURNS NUMBER

SQL> desc theaters
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 TNO                                                NUMBER
 NAME                                               VARCHAR2(15)
 ADDRESS                                            ADDRESS_TY
 PHONE                                              PH_TY
 START_DATE                                         DATE
 END_DATE                                           DATE

SQL> desc nowshowing
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 FILM                                      NOT NULL NUMBER
 THEATER                                            REF OF THEATER_T 
```

Theatres 是一个类型为theater_t 的表。我想创建一个返回 end_date-start_date 的 features_days。但我做不到。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T10:10:31.857

```
CREATE OR REPLACE type theater_t AS OBJECT
     (    tno        NUMBER,
          name       VARCHAR2(10),
          address    VARCHAR2(20),
          phone      NUMBER,
          start_date DATE,
          end_date   DATE,
          member FUNCTION featured_days
          return number); 
```

我创建的身体部分是：

```
CREATE OR REPLACE TYPE BODY theater_t
IS
     MEMBER FUNCTION FEATURED_DAYS  RETURN NUMBER
IS
BEGIN
     RETURN (end_date- start_date);
END;
END;
/ 
```

您可以将 FEATURED_DAYS 的值返回为：

```
SET serveroutput ON
declare
     obj theater_t := theater_t ( 1,'ajmal','my_address',9876,to_date('01-jan-2013','dd-mon-yyyy'),to_date('07-feb-2013','dd-mon-yyyy'));
BEGIN
     DBMS_OUTPUT.PUT_LINE (obj.name||' '||obj.featured_days||' days');
END; 
```

你会得到：

```
anonymous block completed

ajmal 37 days 
```

希望这是你正在尝试的。

# android - android自定义列表适配器记住数据库ID

> ID：14746031
> 
> 赞同：0
> 
> 时间：2013-02-07T07:39:37.463
> 
> 标签：android

如何创建一个记住 id 和内容的列表适配器？

我希望在初始化适配器时，向它提供一个映射，其中 id 作为键，内容作为值，而不仅仅是一个字符串列表。

我必须对什么进行子类化，以及我为构造函数添加了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:24:04.597

您可以使用 sharePreferneces 进行尝试。它试过了，对我来说效果很好。

```
SharedPreferences myPrefs = this.getSharedPreferences("myPrefs", MODE_WORLD_READABLE);
SharedPreferences.Editor prefsEditor = myPrefs.edit();
prefsEditor.putInt(key,value);
prefsEditor.commit(); 
```

# android - 在GridView中动态添加整行，或者拆分View

> ID：14746032
> 
> 赞同：3
> 
> 时间：2013-02-07T07:39:38.683
> 
> 标签：android, layout, gridview, split, row

我有一个有 4 列的 GridView，当一个被选中时，我想在所选单元格下方动态添加一整行，并在其中膨胀一个布局，以便我可以添加一些有关所选单元格的信息。有没有办法做到这一点？或者，有没有办法将视图分成两半，然后在完成后将其粘合在一起？听起来很疯狂。

本质上，我正在寻找可以在 iTunes 11 上找到的东西（见下图）。

![在此处输入图像描述](../Images/3afe17aaaa4da944dc124cafd14b9105.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:13:42.150

您的问题的解决方案是简单地使用 TabHost 小部件：

XML 文件如下：

```
<?xml version="1.0" encoding="utf-8"?>
<TabHost xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@android:id/tabhost"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">

    <LinearLayout
        android:orientation="vertical"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent">
        <TabWidget
            android:id="@android:id/tabs"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content" />
        <FrameLayout
            android:id="@android:id/tabcontent"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"/>
    </LinearLayout>

         <LinearLayout
        android:orientation="vertical"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent">
        <TabWidget
            android:id="@android:id/tabs"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content" />

        <FrameLayout
            android:id="@android:id/tabcontent"
            android:layout_width="fill_parent"
            android:layout_height="match_parent" />

    </LinearLayout>
<LinearLayout
        android:orientation="horizontal"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent">
        <TabWidget
            android:id="@android:id/tabs"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content" />
        <FrameLayout
            android:id="@android:id/tabcontent"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"/>
    </LinearLayout>

</TabHost> 
```

其java代码如下：

```
public class AndroidTabLayoutActivity extends TabActivity {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        TabHost tabHost = getTabHost();

        // Tab for Photos
        TabSpec photospec = tabHost.newTabSpec("Photos");
        photospec.setIndicator("Photos", getResources().getDrawable(R.drawable.icon_photos_tab));
        Intent photosIntent = new Intent(this, PhotosActivity.class);
        photospec.setContent(photosIntent);

        // Tab for Songs
        TabSpec songspec = tabHost.newTabSpec("Songs");
        // setting Title and Icon for the Tab
        songspec.setIndicator("Songs", getResources().getDrawable(R.drawable.icon_songs_tab));
        Intent songsIntent = new Intent(this, SongsActivity.class);
        songspec.setContent(songsIntent);

        // Tab for Videos
        TabSpec videospec = tabHost.newTabSpec("Videos");
        videospec.setIndicator("Videos", getResources().getDrawable(R.drawable.icon_videos_tab));
        Intent videosIntent = new Intent(this, VideosActivity.class);
        videospec.setContent(videosIntent);

        // Adding all TabSpec to TabHost
        tabHost.addTab(photospec); // Adding photos tab
        tabHost.addTab(songspec); // Adding songs tab
        tabHost.addTab(videospec); // Adding videos tab
    } 
```

希望这对你有用。希望这是你所要求的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T07:58:33.603

是的。你可以这样做。您定义网格视图的 xml 文件，在其下方也定义了一个线性布局，并通过添加以下代码使其不可见：

```
android:visibility="invisible" 
```

单击 GridView 时，扩展该布局并设置其可见性并使用以下 java 代码：

```
LinearLayout l2=(LinearLayout)findViewById(R.id.linearLayout);
LayoutInflater inflater = (LayoutInflater)this.getSystemService(Context.LAYOUT_INFLATER_SERVICE);           
View detailView = inflater.inflate(R.layout.yourInformationLayoutOfGridItem, l2, false); 
```

通过java代码设置可见性真/假：

```
Visibile: l2.setVisibility(0);
Invisible: l2.setVisibility(4); 
```

# javascript - 尝试使用 id==buttonNode 注册小部件，但该 id 已注册

> ID：14746036
> 
> 赞同：1
> 
> 时间：2013-02-07T07:39:53.480
> 
> 标签：javascript, dojo

```
 <script>

require(["dojo/dom", "dojo/dom-construct", "dojo/on", "dojo/domReady!"], function(dom, domConstruct, on) {
             domConstruct.empty(dom.byId("buttonNode"));
        });

    var count=1;
    function change() {
        if(count == 1) {
        require(["dojo/ready", "dijit/form/Button", "dojo/dom"], function(ready, Button, dom){
        ready(function(){
            var myButton = new Button({
                label: "Count 1",
                onClick: function(){
                    count++;
                    change();
                }
            }, "buttonNode");
        });
    });
        } else if(count ==2) {
            require(["dojo/ready", "dijit/form/Button", "dojo/dom"], function(ready, Button, dom){
                ready(function(){
                    var myButton = new Button({
                        label: "Count 2",
                        onClick: function(){
                            count++;
                            change();
                        }
                    }, "buttonNode");
                });
            });
        }
    }
    </script>
    </head>
    <body class="claro" onload="change()">
        <button id="buttonNode" type="button" onclick="change()"></button>
    </body>
    </html> 
```

单击按钮时，它的显示尝试使用 id==buttonNode 注册小部件，但该 id 已注册，但我在使用 domConstruct.empty 创建新按钮之前删除旧按钮。我尝试了 domConstruct.empty("buttonNode"); domConstruct.empty(dom.byId("buttonNode"));

我想要为不同的登录用户提供不同的按钮，例如发送请求、取消请求等，所以我正在检查条件并创建新按钮。问题是如果按钮已经用那个 ID 创建了我无法替换按钮请帮助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T09:09:09.493

我认为在注册表中使用已经创建的小部件比删除它并再次创建它更好：

```
 } else if(count ==2) {
        require(["dojo/ready", "dijit/form/Button", "dojo/dom", "dijit/registry"], function(ready, Button, dom, registry){
            ready(function(){
                var myButton = registry.byId("buttonNode");
                if (myButton) {
                    myButton.setLabel("Count 2");
                } else {
                    myButton = new Button({
                        label: "Count 2",
                        onClick: function(){
                            count++;
                            change();
                        }
                    }, "buttonNode");
                }
            });
        });
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:28:24.040

我对 Dojo 1.6 比 1.7+ 更熟悉，但绝对在 1.6 中，您需要先从注册表中删除一个小部件。

因此，我认为您需要使用**dijit/registry**而不是**dojo/dom-construct**。

```
require(["dojo/dom", "dijit/registry", "dojo/on", "dojo/domReady!"], function(dom, registry, on) {
    registry.remove(dom.byId("buttonNode"));
}); 
```

# css - 如何使内容 div 不重叠标题？

> ID：14746038
> 
> 赞同：1
> 
> 时间：2013-02-07T07:40:05.373
> 
> 标签：css, html

我得到了一个如下的html结构，

```
<div id="page-wrap">
    <header>
        <div id="logo">
        </div>
        <nav>
            <ul>
                <li><a href="">text 1</a><li>
                <li><a href="">text 2</a></li>
                <li><a href="">text 3</a></li>
            </ul>
        </nav>
    </heder>

    <div id="main-content">
        <h1>Some Heading</h1>
        <p>Some Text</p>
        <div>A div</div>
    </div> <!-- end of main-content -->
</div> <!-- end of page-wrap --> 
```

用CSS

```
#page-wrap {
max-width:850px;
top:0;
bottom:0;
height:100%;
margin: 0 auto;
} 

header {
padding: 80px 0px 0px 0px ;
position: relative;
}

#logo {
position: absolute;
left:0;
width:123px;
height:122px;
background:transparent url(../images/logo.png) no-repeat;
}

header nav {
position: absolute;
right:0;
}

header nav ul {

}

header nav ul li {
display:inline;
list-style: none;
} 
```

如上.. main-content div与标题重叠>.<请建议propper css来获取main-content与标题底部的距离为80px ..（标题上有一个高度为122px的徽标）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T07:49:13.060

HTML

```
<div id="page-wrap">
    <header>
        <div id="logo"> </div>

        <nav>
            <ul>
                <li><a href="">text 1</a><li>
                <li><a href="">text 2</a></li>
                <li><a href="">text 3</a></li>
            </ul>
            <div class="clear"> </div>
        </nav>
        <div class="clear"> </div>
    </header>

    <div class="clear"> </div>

    <div id="main-content">
        <h1>Some Heading</h1>
        <p>Some Text</p>
        <div>A div</div>
    </div> <!-- end of main-content -->
</div> <!-- end of page-wrap --> 
```

CSS：

```
html, body {
    height: 100%;
}

#page-wrap {
    max-width:850px;
    height:100%;
    margin: 0 auto;
} 

header {
    margin: 80px 0 0 0;
}

#logo {
    width:123px;
    height:122px;
    background: url("../images/logo.png") no-repeat;
    float: left;
}

header nav {
    float: right;
}

header nav ul {

}

header nav ul li {
    display:inline;
    list-style: none;
}
#main-content {
 margin: 80px 0 0 0;
}

.clear {
    clear: both;
} 
```

查阅 CSS `clear: both`，你就会明白我为什么使用`clear`.

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-02-07T07:56:34.610

尝试为主要内容提供一些最高边距...

代码：

```
<div id="main-content">
//somecode
<div> 
```

CSS：

```
# main-content
{
margin-top:somepixel;
} 
```

# php - Php For 循环在另一个 for 循环中不能正常工作？

> ID：14746040
> 
> 赞同：0
> 
> 时间：2013-02-07T07:40:11.273
> 
> 标签：php, for-loop, erp

以下是我的代码。第一部分运行良好，但第二个循环没有产生任何结果。它的作用是查找时间表，然后取出其中的类，复制所有这些并创建一个具有相同数据但名称不同的新 timtable。

另一个 for 循环是将学生添加到时间表的班级中。有人好心一点，帮助我解决这个问题，因为我已经为此苦苦挣扎了 5 天。

先感谢您。编码：

```
 <?php
$Q = "INSERT INTO time_table(name, term, year) VALUES
               ('".$name."', '".$term."', '".$year."')";
$res = $db->query($Q);
//for generating the max table id
        $sql2 = "select MAX(table_id) as table_id 
        from time_table 
        ";
        $res2 = $db->query($sql2);
        $count2 = $res2->num_rows;
        $row2 = $res2->fetch_assoc();

      $table_id = $row2['table_id'];
$Q = "SELECT class_id as tcid, day as d, teacher_id as tei, location as l
 FROM class_time_table 
 WHERE term='".$copy."'";
$res = $db->query($Q);
$num_results = $res->num_rows;
      for ($i = 0; $i <$num_results; $i++) {
         $row = $res->fetch_assoc();
            $Q4 = "SELECT * FROM students_class WHERE class_id = '".$row['tcid']."' and term = '".$copy."'";
            $res4 = $db->query($Q4);
            $row2 = $res4->fetch_assoc();
            //for generating the max table id
            $class_sysq = "select MAX(class_sys_id) as class_sys_id 
            from students_class 
            ";
            $class_sysr = $db->query($class_sysq);
            $count_class_sys = $class_sysr->num_rows;
            $class_row = $class_sysr->fetch_assoc();

            $class_sys_idf = $class_row['class_sys_id']+1;
            $Q5 = "INSERT INTO students_class (class_sys_id, teachers_id, location, max_students, class_term_fee, class_name, class_sub_name, term, year) VALUES ('".$class_sys_idf."', '".$row2['teachers_id']."', '".$row2['location']."', '".$row2['max_students']."', '".$row2['class_term_fee']."', '".$row2['class_name']."', '".$row2['class_sub_name']."', '".$term."', '".$year."')";
            $res5 = $db->query($Q5);
            //for generating the max table id
            $max_c_id = "select MAX(class_id) as ci 
            from students_class 
            ";
            $r_mci = $db->query($max_c_id);
            $count_class_sys = $r_mci->num_rows;
            $mci_row = $r_mci->fetch_assoc();
            $max_c_idf = $mci_row['ci'];

            $query2 = "INSERT INTO class_time_table(class_id, teacher_id, table_id, location, day, term, year) VALUES
               ('".$max_c_idf."', '".$row['tei']."', '".$table_id."', '".$row['l']."', '".$row['d']."', '".$term."', '".$year."')";
            $result2 = $db->query($query2);

        $student_q = "SELECT students.first_name as fn, students.last_name as ln, students.email as e, students.mobile_phone as mp, students.home_phone as hp, students.gender as g, students.dob as dob, students.term_fee as tf, students.join_date as jd, students.date_added as da, student_attending_class.class_id as ci FROM students, student_attending_class, class_time_table where students.student_sys_id = student_attending_class.student_id and student_attending_class.class_id = class_time_table.class_id and class_time_table.class_id = '".$row['tcid']."'";
            $student_res = $db->query($student_q);
            $student_num_results = $student_res->num_rows;
            for ($i = 0; $i < $student_num_results; $i++) {
            $theRow = $student_res->fetch_assoc();

            //for generating the new system id
            $sql3 = "select MAX(student_sys_id) as ssi 
            from students";
            $res3 = $db->query($sql3);
            $count3 = $res3->num_rows;
            $row8 = $res3->fetch_assoc();
            $student_system_num = $row8['ssi']+1;

            $query10 = "INSERT INTO students(student_sys_id, first_name, last_name, email, mobile_phone, home_phone, gender, dob, fee_due, registration_fee, term_fee, fee_paid, join_date, date_added) VALUES
               ('".$student_system_num."', '".$theRow['fn']."', '".$theRow['ln']."', '".$theRow['e']."', '".$theRow['mp']."', '".$theRow['hp']."', '".$theRow['g']."', '".$theRow['dob']."', '".$theRow['tf']."', 0, '".$theRow['tf']."', 0, '".$theRow['jd']."', '".$theRow['da']."')";
            $result10 = $db->query($query10);
            $query11 = "INSERT INTO student_attending_class(class_id, student_id, waiting_list) VALUES ('".$max_c_idf."', '".$student_system_num."', '0')";
            $result11 = $db->query($query11);

            }

        }   

?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T07:44:07.400

不要在第二个循环中使用 $i 而是 $n 例如。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T07:44:53.373

我不确定，但你在两个循环中都使用了相同的变量 $i 所以可能是因为你的第二个循环不起作用。在第二个循环中尝试另一个变量 $j。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-07T07:46:30.090

代码的格式很差，因此很容易错过您对两个循环使用相同的变量，因此当第二个循环开始时，第一个循环会丢失其进度。使用`foreach()`, 或第二个循环的不同变量名。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-07T07:49:53.810

由于嵌套循环都使用相同的变量，您可能会遇到超时，`$i`并且它只是不断增加。

尝试像这样更改第二个循环：

```
for($j = 0; $j < $student_num_results; $j++){
   ...
} 
```

# php - AJAX 调用问题

> ID：14746041
> 
> 赞同：1
> 
> 时间：2013-02-07T07:40:13.893
> 
> 标签：php, jquery

我从这里下载了脚本 [http://www.webresourcesdepot.com/fly-to-basket-effect-with-jquery/](http://www.webresourcesdepot.com/fly-to-basket-effect-with-jquery/) 它很好，但有一些错误，例如双击 => 3 个项目添加到购物篮三次点击 => 7 个项目添加到篮子我试图修复它但仍然无法得到一些东西..然后我看到这个链接[禁用链接动画篮子](https://stackoverflow.com/questions/3064886/disable-link-while-animated-basket) 但我可以理解我放置这个代码的位置..任何人都可以帮我修复它...

```
$(document).ready(function(){ 

$("#basketItemsWrap li:first").hide();

$(".productPriceWrapRight a img").click(function() {
    var productIDValSplitter    = (this.id).split("_");
    var productIDVal            = productIDValSplitter[1];

    var productX        = $("#productImageWrapID_" + productIDVal).offset().left;
    var productY        = $("#productImageWrapID_" + productIDVal).offset().top;

    if( $("#productID_" + productIDVal).length > 0){
        var basketX         = $("#productID_" + productIDVal).offset().left;
        var basketY         = $("#productID_" + productIDVal).offset().top;         
    } else {
        var basketX         = $("#basketTitleWrap").offset().left;
        var basketY         = $("#basketTitleWrap").offset().top;
    }

    var gotoX           = basketX - productX;
    var gotoY           = basketY - productY;

    var newImageWidth   = $("#productImageWrapID_" + productIDVal).width() / 3;
    var newImageHeight  = $("#productImageWrapID_" + productIDVal).height() / 3;

    $("#productImageWrapID_" + productIDVal + " img")
    .clone()
    .prependTo("#productImageWrapID_" + productIDVal)
    .css({'position' : 'absolute'})
    .animate({opacity: 0.4}, 100 )
    .animate({opacity: 0.1, marginLeft: gotoX, marginTop: gotoY, width: newImageWidth, height: newImageHeight}, 1200, function() {
                                                                                                                                                                                                                                                                                                                $(this).remove();

        $("#notificationsLoader").html('<img src="images/loader.gif">');

        $.ajax({  
            type: "POST",  
            url: "inc/functions.php",  
            data: { productID: productIDVal, action: "addToBasket"},  
            success: function(theResponse) {

                if( $("#productID_" + productIDVal).length > 0){
                    $("#productID_" + productIDVal).animate({ opacity: 0 }, 500);
                    $("#productID_" + productIDVal).before(theResponse).remove();
                    $("#productID_" + productIDVal).animate({ opacity: 0 }, 500);
                    $("#productID_" + productIDVal).animate({ opacity: 1 }, 500);
                    $("#notificationsLoader").empty();

                } else {
                    $("#basketItemsWrap li:first").before(theResponse);
                    $("#basketItemsWrap li:first").hide();
                    $("#basketItemsWrap li:first").show("slow");  
                    $("#notificationsLoader").empty();          
                }

            }  
        });  

    });

});

$("#basketItemsWrap li img").live("click", function(event) { 
    var productIDValSplitter    = (this.id).split("_");
    var productIDVal            = productIDValSplitter[1];  

    $("#notificationsLoader").html('<img src="images/loader.gif">');

    $.ajax({  
        type: "POST",  
        url: "inc/functions.php",  
        data: { productID: productIDVal, action: "deleteFromBasket"},  
        success: function(theResponse) {

            $("#productID_" + productIDVal).hide("slow",  function() {$(this).remove();});
            $("#notificationsLoader").empty();

        }  
    });  

}); 
```

});

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:19:20.503

我认为您可能要做的是在单击事件函数结束时取消绑定事件`http://api.jquery.com/unbind/ $(this).unbind();`

一旦ajax完成，您可能会再次绑定它

# php - 编写mysql脚本以在循环中检索数据

> ID：14746042
> 
> 赞同：1
> 
> 时间：2013-02-07T07:40:14.583
> 
> 标签：php, python, mysql, shell, scripting

背景：具有 bash shell 脚本知识的非开发人员需要查询只读数据库实例并为给定变量生成数据。

现有文件中的数据

```
A1 B1
A2 B2
......
...
....
An Bn 
```

我想在 bash 脚本中连接到 mysql 数据库并循环选择语句“n”次

```
select x, y,z from table tablet_vendors where a=A1 and b=B1 
```

除了 A1 和 B1 第一次需要作为参数传递，A2 和 B2 需要在下一次作为参数传递，然后在 for 循环中传递给 n。我知道事物的外壳方面，但不知道如何整合两者。

尝试了一些可以在 shell 脚本开头定义“a”所有可能值的方法，但这太乏味了。任何帮助表示赞赏。

如果其他脚本语言易于使用 mysql 并且您可以提供一些指导，我愿意接受有关使用其他脚本语言的建议。我的搜索指向 php 和 python??

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T07:50:22.310

```
#!/usr/bin/python
# -*- coding: utf-8 -*-
import _mysql, sys

argumentfile = sys.argv[1]

with open(argumentfile) as f:
    sqlarguments = f.readlines()

con = None
username, password = 'testuser', 'testpass'
database = 'testdb'

try:
    con = _mysql.connect('localhost', username, password, database)

    for line in sqlarguments:
        con.query("SELECT x, y,z FROM TABLE tablet_vendors WHERE a='%s' and b='%s;'" % line.split('\t'))

        result = con.use_result()
        print "MySQL data returned: %s" % \
            result.fetch_row()[0]
except _mysql.Error, e:
    print "Error %d: %s" % (e.args[0], e.args[1])
    sys.exit(1)

finally:
    if con:
        con.close() 
```

有关 Python 和 MySQL 的更多信息：http: [//zetcode.com/db/mysqlpython/](http://zetcode.com/db/mysqlpython/) *（如果您已经安装了 MySQL 和所有设置，请跳至“第一个示例”）*

请注意，它的检索`sqlarguments`取自文本文件，该文本文件作为参数传递给脚本，作为第一个也是唯一的参数，例如：`python2 script.py sqlfile.txt`. 另请注意，我假设 SQL 参数由 \t （制表符）而不是空格分隔，然后我将其作为空格传递`a='...'`并`b='...'`封装在`'`空格中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:34:40.767

这是一个更简单的版本：

```
import MySQLdb as mysql
import csv

con = mysql.connect('localhost','user','password','dbname')
cur = con.cursor()

q = "select x, y,z from tablet_vendors where a=%s and b=%s"

with open('somefile.txt') as f:
  rows = csv.reader(f,delimiter='\t')
  for row in rows:
     cur.execute(q,row)
     result = cur.fetchone()
     while result:
        print result
        result = cur.fetchone() 
```

MySQL 抛出的任何错误都将停止执行。您可以将这些`cur.`行包装在 try/except 块中以更优雅。

# x86 - Core i7 中每核 L2 和 L3 之间的互连

> ID：14746049
> 
> 赞同：4
> 
> 时间：2013-02-07T07:40:45.303
> 
> 标签：x86, computer-architecture, cpu-cache

英特尔酷睿 i7 具有每个核心的 L1 和 L2 高速缓存，以及大型共享 L3 高速缓存。我需要知道什么样的互连将多个 L2 连接到单个 L3。我是一名学生，需要写一个缓存子系统的粗略行为模型。是横梁吗？单车？戒指？我遇到的参考文献提到了缓存的结构细节，但没有一个提到存在什么样的片上互连。

谢谢，

-neha

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-01T23:35:12.793

现代 i7 使用环。来自[汤姆的硬件](http://www.tomshardware.com/reviews/sandy-bridge-core-i7-2600k-core-i5-2500k,2833-2.html)：

> 今年早些时候，我有机会与英特尔的高级首席工程师 Sailesh Kottapalli 进行了交谈，他解释说，他看到 Xeon 7500 系列 LLC 的持续带宽接近 300 GB/s，这是由环形总线实现的. 此外，英特尔在 IDF 上证实，其目前正在开发的每一款产品都采用环形总线。

您的模型将非常粗糙，但您可以从与 L3 相关的 i7 性能计数器的公共信息中收集更多信息。

# visual-studio - 如何在不选择任何内容的情况下关闭 Visual Studio 中的智能感知菜单？

> ID：14746052
> 
> 赞同：1
> 
> 时间：2013-02-07T07:40:56.200
> 
> 标签：visual-studio

当我输入一个字母时，`intellisense`Visual Studio 中会弹出一个下拉功能列表。当我按 Tab 时，它会选择该功能。按右，它会出来一个括号。我想问我怎么能逃出来`intellisense`。我需要用鼠标单击VS中的某个地方才能不选择该功能。很麻烦。是否有任何热键可以从`intellisense`下拉列表中逃脱并关闭？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-07T07:43:01.847

要“***逃离***智能感知”（你的话，强调我的），你按下`Esc`，即“Escape”。

# c - 释放可变参数函数中的所有参数 - c

> ID：14746053
> 
> 赞同：-4
> 
> 时间：2013-02-07T07:40:58.220
> 
> 标签：c, variadic-functions

我的任务是创建接收可变数量的参数并释放所有参数的函数，任何类型的参数。我尝试使用可变参数函数来做到这一点，但问题是我不知道参数的类型。

有什么建议怎么做吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T07:47:43.200

将每个指针视为`void *`; 将其传递给`free()`：

```
void free_anything(void *arg1, ...)
{
    va_list args;
    void *vp;
    free(arg1);
    va_start(args, arg1);
    while ((vp = va_arg(args, void *)) != 0)
        free(vp);
    va_end(args);
} 
```

示例调用：

```
free_anything(p1, p2, p3, p4, (void *)0); 
```

另一种设计将要释放的参数数量作为第一个参数传递：

```
free_everything(4, p1, p2, p3, p4); 
```

替代功能的实现留作练习......

* * *

请注意，带有计数器 ( `free_everything()`) 的设计可能更好；您可以编写一个函数来清除函数中的多个分配：

```
void memory_intensive(int size)
{
    int *p1 = malloc(size * sizeof(*p1));
    char *p2 = malloc(size * 32);
    struct wotnot *p3 = malloc(sizeof(*p3));
    struct onemore *p4 = malloc(size * sizeof(*p4));
    struct later *p5 = 0;
    struct muchlater *p6 = 0;

    if (some_condition(p1, p3, size))
    {
        p5 = malloc(size * sizeof(*p5));
        ...
    }
    if (another_condition(p2, p4, size))
    {
        p6 = malloc(size * sizeof(*p6));
        ...
    }

    free_everything(6, p1, p2, p3, p4, p5, p6);
} 
```

这将在单个函数调用中释放所有已分配的内存，无论是否`p5`已`p6`分配（或任何其他分配失败）。然而，这正在扩大限制。然而，在这样的设计中，关键是不要停在第一个空指针处……以防万一列表后面有非空指针。

# jquery - jQuery 平滑缩放效果

> ID：14746055
> 
> 赞同：0
> 
> 时间：2013-02-07T07:41:11.810
> 
> 标签：jquery

我期待像这样的平滑缩放效果：

[http://www.twoixter.com/experiments/jquery-growshrink](http://www.twoixter.com/experiments/jquery-growshrink)

我无法达到这个效果。请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T07:57:06.950

不要忘记导入插件运行所需的所有必要库，例如[jQuery](http://jquery.com)。

# javascript - datepicker 未在显示事件前触发

> ID：14746056
> 
> 赞同：0
> 
> 时间：2013-02-07T07:41:20.460
> 
> 标签：javascript, jquery, datepicker

下面是我在对话框中的日期选择器代码，效果很好，但我想根据 php 服务器时间而不是本地时区设置我的默认日期和日历日期。为此，我正在尝试做一个预演，但根本没有开火。

任何人的任何建议？？？

```
 $('#chooseDt').click(function() { 
                $("#Date_calendar").dialog({
                        open: function(event, ui) {
                                    $( "#dpicker" ).datepicker({
                                        autoSize: true,
                                        showOtherMonths: true,
                                        numberOfMonths: 3,                          
                                        showCurrentAtPos: 1,
                                        onSelect: function(input, inst) {
                                            var currentDate = new Date(inst.selectedYear, inst.selectedMonth, inst.selectedDay);
                                            var unixdate = currentDate.getTime() / 1000;
                                            $(this).datepicker('destroy');
                                            $(this).parent("div#Date_calendar").dialog( "close" );
                                            window.location.href="xxxxxx.php?homeday="+(unixdate);
                                        },
                                        beforeShow: function() {
                                            alert("A");
                                            //var theDate = new Date();
                                            //theDate.setDate('<?php echo date("d",strtotime($c_date)); ?>');
                                            // calenderDate is my global php variable with date used as currentdate in my php page
                                            //$(this).datepicker('option','defaultDate',calenderDate);         
                                        }
                                    });
                        },
                        close: function(event,ui) {
                            $(this).datepicker('destroy');
                        },
                        resizable: false,
                        modal: true,
                        minWidth: 760
                }).height("auto");
                $( "#Date_calendar" ).dialog('widget').css({'top' : '25%', 'left' : '30%','margin-top' : '-10%', 'margin-left' : '-100px'});    
            return false;   
    }); 
```

# c# - form.Show in function 调用时不起作用

> ID：14746061
> 
> 赞同：1
> 
> 时间：2013-02-07T07:41:55.293
> 
> 标签：c#, .net, winforms

```
public static object loadForm(Form formToLoad, TabControl homeTabControl)
{
    //Check if formToLoad parameter is NULL
    if (formToLoad == null) throw new ArgumentNullException("formToLoad");

    //get the parent/ownining form
    Form form1 = new Form1();

    //set formToLoad properties
    formToLoad = new Form
    {
        Owner = form1,
        FormBorderStyle = FormBorderStyle.None,
        TopLevel = false,
        Dock = DockStyle.Fill
    };

    //add formToLoad to tabControl tabPage
    homeTabControl.TabPages["tabPageHome"].Controls.Add(formToLoad);
    formToLoad.Show();

    return formToLoad;
} 
```

当我通过单击按钮调用我的代码时，为什么 formToLoad 不显示在 tabControl 页面中？

```
private void button3_Click(object sender, EventArgs e)
{
    LeaveMainForm lM = new LeaveMainForm();
    AppCode.FormLoader.loadForm(lM, homeTabControl);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T07:59:26.927

您正在使用新实例覆盖您尝试加载的实际表单`Form`，在此行中：

```
formToLoad  = new Form 
```

尝试这个 ：

```
//set formToLoad properties
formToLoad.Owner = form1;
formToLoad.FormBorderStyle = FormBorderStyle.None;
formToLoad.TopLevel = false; 
formToLoad.Dock = DockStyle.Fill; 
```

# ios - PhoneGap 构建和本地开发

> ID：14746062
> 
> 赞同：4
> 
> 时间：2013-02-07T07:42:01.363
> 
> 标签：ios, xcode, cordova, mobile, phonegap-build

我正在创建一个应用程序，它将使用 PhoneGap Build 为不同的平台打包。现在我的项目结构如下：

```
+--- css
+--- img
+--- js
+--- res
+--- config.xml
+--- icon.png
\--- index.html 
```

这是 PhoneGap 的启动项目之后的标准。我可以将它作为 zip 文件上传到 PhoneGap Build 服务器并取回包。

现在我想知道我应该如何最好地进行一些本地开发（每次更改后不通过 PhoneGap Build 进行构建）；我应该在单独的文件夹中创建一个“普通”PhoneGap 项目并将文件放在我的项目资产（html、js、css、img）中吗？这个普通的PhoneGap 项目我可以通过例如Xcode 运行。

我想知道以上是最好的方法还是有替代方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-09T08:54:53.340

您是否尝试过其中一种：

1.  **Chrome：**如果您的开发不需要PhoneGap API，您可以简单地使用启用“模拟触摸事件”的Chrome。我经常使用它，因为大部分时间我都在处理 CSS 和 JavaScript，因此可以完美地单独使用 Chrome。设置“设备指标”也是一个很好的帮手。
2.  **iPhone 模拟器：**如果您在 Mac 上工作，您可以使用 iPhone 模拟器并使用 Safari 检查您的项目。
3.  **Ripple 模拟器：**要模拟 PhoneGap API，您可以使用此模拟器：[http ://emulate.phonegap.com/](http://emulate.phonegap.com/)

只要您主要开发纯 HTML、CSS 和 JavaScript，此设置就可以帮助您提高工作效率。我认为这就是@simap 对“在本地主机上开发”的含义。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-07T02:36:08.077

他们有一个称为 hydration 的功能，可以加快测试过程，但您仍然需要完成上传和构建步骤。[https://build.phonegap.com/docs/hydration](https://build.phonegap.com/docs/hydration)

如果你可以不用api，那么在本地开发和测试非常容易，只需在本地浏览器中打开即可。这比重新编译和部署到本地模拟器要快。如果您只需要几个 API，您可以考虑将这些 API 存根。这也使得为您的代码编写自动化测试变得更加容易。

另一种选择是使用 phonegap 模拟器 chrome 插件。[http://emulate.phonegap.com/](http://emulate.phonegap.com/)这个可以模拟phonegap apis。

# eclipselink - eclipselink 刷新模式 COMMIT OUT of Memory

> ID：14746063
> 
> 赞同：0
> 
> 时间：2013-02-07T07:42:02.860
> 
> 标签：eclipselink, out-of-memory, flush

我在我的 Java 项目中使用 eclipselink JPA

```
 <persistence-unit name="...." transaction-type="JTA">
    <provider>org.eclipse.persistence.jpa.PersistenceProvider</provider>
    <mapping-file>META-INF/tm-mapping.xml</mapping-file>
    <class>...</class>
    <properties>
        <property name="eclipselink.jdbc.batch-writing" value="Oracle-JDBC" />
        <property name="eclipselink.jdbc.cache-statements" value="true" />
        <property name="eclipselink.jdbc.native-sql" value="true" />
        <property name="eclipselink.cache.size.default" value="1000" />
        <property name="eclipselink.persistence-context.flush-mode" value="COMMIT" />
    </properties>
</persistence-unit> 
```

为了提高性能，我使用刷新模式提交。但是当我为脚本提供更多数据时，我会内存不足，GC 会发疯。正如我在堆转储中看到的，用于插入的 Eclipse 链接缓存太大，所以当缓存很大时，可能有任何参数可以刷新插入。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T12:29:23.760

如果您正在使用创建数千个对象的批处理过程，则需要确保您的 JVM 有足够的内存来保存所有这些对象。每个持久调用都需要 EntityManager 保存实体，直到它被释放。当 EntityManager 关闭、清除或实体被驱逐时会发生这种情况。

您可以每隔一段时间使用 em.clear() 强制清除缓存，并在此之前调用 em.flush() 以确保首先将更改推送到数据库。

# google-plus - window.googleapis 未定义

> ID：14746064
> 
> 赞同：10
> 
> 时间：2013-02-07T07:42:05.893
> 
> 标签：google-plus, google-plus-one

我正在尝试在我的网页上添加一个 G+ +1 按钮。我正在按照[Google 开发人员页面](https://developers.google.com/+/plugins/+1button/)上提供的步骤进行操作，但出现以下错误**window.googleapis is undefined**。[即使在Google 开发人员页面](https://developers.google.com/+/plugins/+1button/)（在 Firebug 中查看）上也会出现相同的错误。

为什么会出现这个错误？以及如何解决？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-08T09:09:39.980

看起来只有在打开萤火虫时才会出现此错误。关闭 firebug 并刷新页面

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-25T08:17:22.227

我可以在 Firefox 18.0.2 + Firebug 1.11.1 上重现该错误，尽管正如我之前所说的，不能在 Firefox 19.0（具有相同的配置文件）上重现。显然，这已在 Firefox 19.0 中修复。如果有人仍然看到那个 Firefox 版本的问题，请在[issue 6280](http://code.google.com/p/fbug/issues/detail?id=6280)发表评论。

# binary-search-tree - 何时使用中序、前序和后序遍历

> ID：14746065
> 
> 赞同：5
> 
> 时间：2013-02-07T07:42:10.427
> 
> 标签：binary-search-tree

我了解如何在二叉搜索树上进行中序、前序和后序遍历的代码。但是，我对应用程序感到困惑。

你什么时候使用每个？说明每种遍历方法何时最有意义的情况将非常有帮助。

谢谢！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-07T07:56:26.113

中序遍历只是按定义的顺序处理项目。例如，如果你有一个单词或名称列表的 BST，inorder traversal 会按顺序打印出来。

前序和后序遍历最常适用于二叉搜索树以外的树。例如，要计算一个像 的表达式`A + B * C`，你可以像这样创建一个树：

![在此处输入图像描述](../Images/431a0b7c6a85f4da4a6628b107548582.png)

为了评估表达式，您以后序遍历树，将每个运算符应用于其每个子树的值。

如果您想（例如）以 Lisp 之类的语言生成输出，则可以将前序遍历用于大致相同的目的，因此表达式应该输出为`(add A (mul B C))`.

# asp.net-mvc - 来自 resx 的 asp mvc 图像参考

> ID：14746066
> 
> 赞同：0
> 
> 时间：2013-02-07T07:42:12.463
> 
> 标签：asp.net-mvc, resx

我有 ASP MVC 4 网站。我使用 ResX 文件将站点本地化为不同的语言。在我的一个页面中，我显示了包含图像的本地化 HTML 内容（案例研究）。整个本地化内容存储在一个文件中，ResX 文件引用它。这很好用。

问题是如何从本地化内容中引用图像？图像存储在 ~/Content/Img1.jpg （等等）中。

现在我只是简单地放了 /Content/Img1.jpg 但如果网站将部署到子目录而不是根域，这将不会很好。

谢谢你，伊多。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T07:50:50.247

我认为如果你给图片起相同的名字，并且这张图片已经嵌入到资源中，那么你不需要做任何其他事情，只需像往常一样改变Culture和UICulture。如果它们不同，那么您可能希望通过在编译后检查资源文件来查看确切的名称。如果您的内容总是引用相同的静态图像，那么像往常一样放置正常路径应该不是问题。以 ~ 开头的引用将始终从根开始，例如，结构可以是 ~Content/en-US/picture1.jpg。让我知道是否有帮助，

# c# - 如何更改图像中像素的颜色

> ID：14746069
> 
> 赞同：1
> 
> 时间：2013-02-07T07:42:24.140
> 
> 标签：c#, colors

我使用以下代码从图像中读取单个像素：

```
private void CheckArea(Point where)
{
    Bitmap test = (Bitmap)PanelToBitmap(panel2);
    var pixel = test.GetPixel(where.X, where.Y);
} 
```

我想改变这个像素的颜色。首先，我尝试将其转换为图像，但这不起作用。然后我尝试更改 ARGB 值，但它们是写保护的。

如何更改给定图像中像素的颜色`Point`？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T07:44:38.183

您可以使用 ：

```
test.SetPixel(where.X, where.Y, Color.FromArgb(0x78FF0000)); 
```

[微软](http://msdn.microsoft.com/en-us/library/system.drawing.bitmap.setpixel.aspx)

颜色是一个不可变的结构，所以你不能改变它的值。

# java - 如何在 1 秒内执行 n 次循环

> ID：14746072
> 
> 赞同：9
> 
> 时间：2013-02-07T07:42:28.493
> 
> 标签：java, loops, timer

我正在尝试在一秒钟内执行 N 次指令或函数。我怎么能在java中做到这一点？如下...

```
//in one second
while(N)
{
  printf(".........");
  int x=0;
  printf("The value of x is ");
} 
```

但问题实际上更深一些..我正在尝试手动绘制像素，我想要每秒旋转次数的效果......所以基本上，它必须在一秒钟内执行 N 次（但这是无限次完成的）

提前致谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-07T07:45:12.423

你永远不能确定它每秒会发生 N 次，但它是这样的：

```
long taskTime = 0;
long sleepTime = 1000/N;
while (true) {
  taskTime = System.currentTimeMillis();
  //do something
  taskTime = System.currentTimeMillis()-taskTime;
  if (sleepTime-taskTime > 0 ) {
    Thread.sleep(sleepTime-taskTime);
  }
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-07T07:54:21.057

我会翻转这个问题：不要在一秒钟内将循环限制为 N 次。取而代之的是，处理 N 个均匀分布在所需时间内的工作单元。

*也就是说，计算自开始*（或*之前的工作*）以来已经过去了多少时间，将其插入到*工作速率中*，然后*做那么多的工作*（考虑开始/之前的时间和已经完成的工作量）。这是许多游戏/动画引擎的基本基础—— [“增量时间”](https://www.scirra.com/tutorials/67/delta-time-and-framerate-independence/page-1)。

然后`yield`在每个循环结束时调用“be nice”——或者更确切地说，防止消耗 99%+ 的 CPU 使用率！产量本身具有最小分辨率¹，但效果通常是足够的，尤其是在适当插值时。

因为使用了插值方法，所以这应该适用于所有 N（*可以*在分配的时间内运行），即使这意味着每个循环要执行更多 N。也有可能对于一个小的 N 没有任何特定的循环可以做任何工作，但是这`yield`使得这种“额外繁忙的循环”在 CPU 利用率方面变得便宜²。

* * *

下面是一些伪代码，可以在一秒钟内打印出 20 个“x”，其中`now`返回小数秒：

```
rate = 20       // per second - "N times per second"
done = 0
goal = 1 * rate // same as rate for 1 second
start = now()
while done < goal:
    target = floor((now() - start) * rate)
    work = (target - done) // work might be 0, that's okay
    for 0 upto work:
         print("x")
    done += work
    yield() 
```

在这种情况下，由于恒定速率公式，很容易从开始时间进行插值。使用基于自上次工作（或循环）以来的时间的“增量时间”是类似的，适用于没有离散公式的情况，但稍微复杂一些，可能导致细微的漂移错误。

* * *

¹*实际* 的时间分辨率`sleep/yield`取决于实现，并因系统而异。例如，它的范围可能从[Linux 上的 1ms 到 windows 上的 10-15ms](http://www.javamex.com/tutorials/threads/sleep.shtml)不等。

²根据 Dariusz Wawer 的回答，除了处理时间增量*之外*`sleep`，还可以更改周期。然而，这增加了复杂性，一个简单`yield`的通常就足够了。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-01-15T11:59:30.907

提出的解决方案很难准确。不是计算迭代之间的间隔，而是计算应该执行下一次迭代的绝对时间。这更准确，因为迭代不依赖于以前的迭代。

```
long startTime = System.currentTimeMillis();
long msPerIteration = 1000000/iterationsPerSecond;
long i=0;
while (true) {
    // do stuff

    long msWaiting = startTime + (msPerIteration * ++i) - System.currentTimeMillis();

    if (msWaiting > 0)
        Thread.sleep(msWaiting);
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-12-24T03:22:45.073

我今天必须写一个游戏循环。我使用了一个溢出变量来确保如果前一个滴答声太快，下一个滴答声将等待更长的时间。每个滴答都会删除一半的溢出并使用它来影响帧时间。

```
new Thread() {
        public void run() {
            long overflow = 0; // The greater the overflow, the slower the game had calculated the last tick, and the shorter this tick's wait needs to be
            long lastStartTime = System.nanoTime();
            while(true) {
                long startTime = System.nanoTime();
                overflow += (startTime - lastStartTime) - 16666667; // 16.67 milliseconds = 60 fps

                tick();

                long endTime = System.nanoTime();
                long waitTime = 16666667 - (endTime - startTime) - overflow / 2;
                try {
                    Thread.sleep(waitTime / 1000000, (int) (waitTime % 1000000));
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }

                overflow /= 2; // Do not remove all overflow at once to prevent oscillation of ticktime
                lastStartTime = startTime;
            }
        }
    }.start(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-07T07:45:57.163

将循环更改为`while(true)`.

`while`在循环之前检查时间（以毫秒为单位） 。在`while`循环结束时获取以毫秒为单位的时间，并查看其中是否有 1000 个已经过去。如果是这样`break`。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-07T07:48:19.503

伪代码：

```
Create Timer t;
t.Start;
int counter = N;
While ((t.Elapsedtime < 1 Second) AND (N > 0))
{
    call your_function();
    N--;
}

your_function()
{
    printf(".........");
    int x=0;
    printf("The value of x is ");
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-07T07:49:20.203

```
long start = System.currentTimeMillis();
while (System.currentTimeMillis() - start <= 1000) {
  // Your code goes here
} 
```

它需要注意的是您的代码将循环 1000 毫秒。它完成的次数是不确定的，并且每次运行可能会有所不同。

# hadoop-streaming - 在 Hadoop Streaming 的情况下如何找出 MapReduce 算法的复杂性。？

> ID：14746073
> 
> 赞同：1
> 
> 时间：2013-02-07T07:42:29.050
> 
> 标签：hadoop-streaming

我现在正在使用 Python 来运行我的程序，我想估计它们的确切时间复杂度。

但由于它使用流，即直接从 HDFS 文件系统读取输入，我对它的复杂性感到很困惑。

例如：如果使用本地内存来存储完整的输入文件，我的一个程序的复杂度为 O(n2)。但是在通过流式传输运行它之后，它实际上花费的时间比 O(n2) 的原始复杂度要少得多。我想要它的准确估计，即在直接从 HDFS 文件系统读取输入的情况下减少了多少时间？

请帮忙。

# sql-server - 如何将外部文件的属性加载到 T-SQL 过程中？

> ID：14746080
> 
> 赞同：1
> 
> 时间：2013-02-07T07:43:17.333
> 
> 标签：sql-server

我有 T-SQL 存储过程做一些数据处理。对于一些未处理的值，它仍应使用预先设置的值填充表。例如，“N/A”或“未处理”。

```
declare @nA varchar(100)
set @nA = 'N/A' 
... 
... 
update #temptable
set someField = @nA
where... 
```

我将这些值存储在过程本身中，但我希望将这些值保存在外部文件中。我能做到吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T07:52:47.057

您可以使用`BULK INSERT`从文件中读取数据：

```
CREATE TABLE #tablename
(col1 VARCHAR(100))

BULK INSERT #tablename FROM 'D:\value.txt' WITH ( FIELDTERMINATOR ='|' )

declare @nA varchar(100)
SELECT @nA = col1 FROM #tablename

DROP TABLE #tablename

update #temptable
set someField = @nA
where... 
```

# jquery - jQuery AJAX 页面刷新以显示更改，随后是消息反馈

> ID：14746084
> 
> 赞同：0
> 
> 时间：2013-02-07T07:43:32.330
> 
> 标签：jquery, ajax, wordpress, jquery-ui, refresh

我有一个 Wordpress 列表表，每一行都有删除的选项。单击时`<a class="delete_gallery" href="&action=delete">`会弹出一个 jQueryUI 对话框。确认操作时，会发生 ajax 或其他什么，并处理一些服务器端的东西。成功后，我希望刷新页面并显示一条 wordpress 消息，说明删除成功。

我希望页面刷新的原因是因为我的 WP_List_Table 没有 ajaxified，我需要看到更改。

页面刷新后如何显示消息？我目前的方式在调用刷新后立即显示消息。我不想要延迟或任何东西：一旦单击对话框中的确认，我希望页面刷新，发生服务器端的事情，然后显示成功消息。

这是我的一些代码，为简单起见，删除了服务器端 var/info。注意：我使用的是 Wordpress 内置的 Ajax。

```
jQuery(".delete_gallery").click(function(event) {

    event.preventDefault();     
var link = jQuery(this).attr('href');
var link = link.substring(0, link.indexOf('?'));

jQuery("#deleteconf").dialog({
  height: 150,
  width: 350,
  resizable : false,
  modal: true,
  buttons: {
      "Delete all items": function() {
     jQuery(this).dialog("close");
        jQuery.post(
        MyAjax.ajaxurl,
        {
        action : 'delete_gallery',
        postCommentNonce : MyAjax.postCommentNonce,
        },
    function(response) {
        window.location.reload(link);   
        jQuery('#message p').html('The gallery was deleted successfully');
        jQuery('#message').show();      
    }); return false;

    },
    Cancel: function() {
    jQuery(this).dialog("close"); return false;
    }
}
}); 

}); 
```

这是最好的方法吗？如果是这样，我如何在刷新后显示消息。如果没有，最好的方法是什么？我真的很想使用 jQueryUI，我不希望有人必须单击“好的，项目已删除”来刷新页面并显示更改。

我有类似的东西，但它使用表单和 php 来捕获按钮提交 $_POST，我不确定在使用 jQueryUI 按钮时是否可行。无论哪种方式，它都不会处理刷新后的响应。

谢谢，我感谢所有帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-04T04:07:15.217

差不多 7 个月后，我意外地解决了这个问题。

在 AJAX 响应成功时，我需要提交一个具有隐藏值的表单，而不是调用刷新，以显示我想要显示的消息。如果我希望消息是有条件的，我可以在表单提交之前简单地填充它。

**html表单**

```
<form action="" method="post" id="new-message-form">
    <input type="hidden" name="message" value="Success Message" />
</form> 
```

**ajax响应，成功**

```
function(response) {      
    $('#new-message-form').submit();    
}); 
```

**附加 jquery** - 此代码获取所有 $_POST 并查看您想要的是否存在。

```
<script>
jQuery(document).ready(function($) {
    // grab all $_POST
    var post = <?php echo json_encode($_POST); ?>;

    // if $_POST is set
    if('message' in post) {
        $('.success').html(post['message']); // display contents in .success
    }
});
</script> 
```

# android - 有时在移动设备中未收到推送通知 GCM

> ID：14746092
> 
> 赞同：7
> 
> 时间：2013-02-07T07:44:21.247
> 
> 标签：android, push-notification, google-cloud-messaging

我面临一个奇怪的问题。我在我的手机中收到推送通知，如果它在从服务器端发送消息时连接到互联网。但如果它当时没有连接到互联网，而是我在一段时间后连接到互联网。我没有收到该通知。据我所知，所有这些通知都应该在我们在线时显示，因为 GCM 服务器存储了所有这些消息。我收到所有其他应用程序的通知。我也在清单中给予了唤醒锁权限。可能是什么问题？来自服务器端、客户端或移动端的任何东西？请帮忙...

**此值从 3rd 方服务器（.Net 服务器）发送到 GCM 服务器：**

```
String postdata= "collapse_key=score_update&time_to_live=2419200&delay_while_idle=1&data.message=‌​" + 
message + "&data.time=" + System.DateTime.Now.ToString() + "&registration_id=" + deviceToken + "" 
```

提前致谢

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-07T16:12:18.953

`delay_while_idle=1`矛盾的`Also I have given wakelock permission in manifest`

`delay_while_idle=1`表示如果设备处于空闲状态（关闭、离线、锁定屏幕等），消息将不会到达设备。如果您希望您的唤醒锁权限有所作为，请将其更改为 0。

只是为了澄清 - 消息应该在设备停止空闲后到达设备（只要它没有空闲太久，其中“太长”由指定的 确定`time_to_live`）。

这是来自 GCM 文档的相关报价：

> **delay_while_idle**
> 
> 如果包含，则表示如果设备空闲，则不应立即发送消息。服务器将等待设备变为活动状态，然后仅发送每个 collapse_key 值的最后一条消息。可选的。默认值为 false，并且必须是 JSON 布尔值。
> 
> **time_to_live**
> 
> 如果设备离线，消息应在 GCM 存储中保留多长时间（以秒为单位）。可选（默认生存时间为 4 周，并且必须设置为 JSON 数字）。

# laravel - 在哪个应用程序中使用restful？

> ID：14746093
> 
> 赞同：-1
> 
> 时间：2013-02-07T07:44:34.743
> 
> 标签：laravel, laravel-3

Laravel 中的动词 restful 如何完成任务，什么是基本功能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T07:46:46.983

在发布这样一个基本问题之前，请阅读[Laravel 文档。](http://www.laravel.com/docs/controllers#restful-controllers)

> 您可以使用它们应该响应的 HTTP 动词作为前缀，而不是使用“action_”作为控制器动作的前缀。

这意味着您的函数“响应”给定的命令 - 即 GET、POST、PUT、DELETE。因此，一个非 RESTful 控制器将具有：

```
public function action_login()
{
    if ($_POST)
    {
       // Try and login user
    }
    else
    {
       // Show login form
    }
} 
```

但是一个安静的控制器将是：

```
public function post_login()
{
       // Try and login user
}

public function get_login()
{
       // Show login form
} 
```

# php - 在主 IF 之外打印数组值

> ID：14746095
> 
> 赞同：0
> 
> 时间：2013-02-07T07:44:43.547
> 
> 标签：php

我有一个问题，并试图修复它很长时间，但仍然没有运气。希望有人会在这里帮助我。

我正在尝试验证表单，在验证过程中我使用数组来存储错误消息。然后我需要从我的验证代码中打印该数组。

这是我的验证码..

```
// For storing registration errors:
$reg_errors = array();

// Check for Write Testimonial form submission:
if ($_SERVER['REQUEST_METHOD'] == 'POST') {

    // Check for Name:
    if (preg_match ('/^[A-Z \'.-]{2,80}$/i', $_POST['name'])) {
        $name = mysqli_real_escape_string ($dbc, $_POST['name']);
    } else {
        $reg_errors['name'] = 'Name : This field is required.';
    }

    // define a constant for the maximum upload size
    define ('MAX_FILE_SIZE', 1048576 );

    if (array_key_exists('testimonial_image', $_POST)) {

        // Create a temporary file name:
        $file = time() . '-' . $_FILES['testimonial_photo']['name'];

        // convert the maximum size to KB
        $max = number_format(MAX_FILE_SIZE/1024, 1).'KB';

        // create an array of permitted MIME types
        $permitted = array('image/gif', 'image/jpeg', 'image/pjpeg', 'image/png');

        // begin by assuming the file is unacceptable
        $sizeOK = false;
        $typeOK = false;

        // check that file is within the permitted size
        if ($_FILES['testimonial_photo']['size'] > 0 && $_FILES['testimonial_photo']['size'] <= MAX_FILE_SIZE) {
            $sizeOK = true;
        }

        // check that file is of an permitted MIME type
        foreach ($permitted as $type) {
            if ($type == $_FILES['testimonial_photo']['type']) {
                $typeOK = true;
                break;
            }
        }

        if ($sizeOK && $typeOK) {
            switch($_FILES['testimonial_photo']['error']) {
                case 0:

                // check if a file of the same name has been uploaded
                if (!file_exists(UPLOAD_DIR.'/'.$file)) {
                    // move the file to the upload folder and rename it
                    $success = move_uploaded_file($_FILES['testimonial_photo']['tmp_name'], UPLOAD_DIR.'/'.$file);
                } 

                if (!$success) {
                    $reg_errors[] = "Error uploading $file. Please try again.1";
                    echo "Error uploading $file. Please try again.1";
                }
                break;
                case 3:
                    $reg_errors[] = "Error uploading $file. Please try again.2";
                    echo "Error uploading $file. Please try again.2";
                    exit(); // Quit the script.                         

                default:                    
                    $reg_errors[] = "System error uploading $file. Contact webmaster.";                     
                    echo "System error uploading $file. Contact webmaster.";                        
            }

        } elseif ($_FILES['testimonial_photo']['error']) {      
                        $reg_errors[] = 'No file selected';                 
                        echo 'No file selected';                    
        } else {                
            $reg_errors[] = "$file cannot be uploaded. Maximum size: $max. Acceptable file types: GIF, JPEG, PNG.";         
            echo  "$file cannot be uploaded. Maximum size: $max. Acceptable file types: GIF, JPEG, PNG.";           
        }

        echo $file;
    }

    // Delete the file if it still exists:
    if (file_exists ($_FILES['testimonial_photo']['tmp_name']) && is_file($_FILES['testimonial_photo']['tmp_name']) ) {
        unlink ($_FILES['testimonial_photo']['tmp_name']);
    }
    //print_r( $reg_errors);    
} 
```

然后我试图在`$reg_errors`这个主要条件之外打印数组，`IF`但它没有打印它的值。但主要`IF`是打印它的值。

```
<div class="group">

    <!-- Display Error Messages -->
    <?php
        global $reg_errors; 
        print_r( $reg_errors); 

        if(!empty($reg_errors)) {
            echo '<div class="error">
                        <img src="images/error.png" />
                        <h3>Errors found in this form</h3>
                        <h4>Whoops! - There is a problem with the form, please check and correct the following.</h4>
                        <ul>';
                foreach( $reg_errors AS $error ) {
                    echo "<li>$error</li>";
                                            }

            echo '   </ul>
                    </div>';                                    
        }
?>  
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T07:53:15.800

为什么要`global $reg_errors;`在第二个代码块的开头添加 ？我猜你`$reg_errors`从你的第一个代码块覆盖你的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T07:53:39.123

从您的验证代码中创建一个函数（返回 $reg_errors）。并在你想要的地方调用它。不要使用全局变量。

如果是同一个文件，删除全局 $reg_errors，它应该可以工作。

# matlab - matlab 类的每个实例的常量

> ID：14746101
> 
> 赞同：0
> 
> 时间：2013-02-07T07:45:01.847
> 
> 标签：matlab, object, properties, constants, instance

我想将数据保存到一个常量字段（每个实例不同）。
把它想象成一个带有对象创建日期的字段。
我不知道该怎么做。[使用常量值](http://www.mathworks.de/de/help/matlab/matlab_oop/properties-with-constant-values.html)读取[属性属性](http://www.mathworks.de/de/help/matlab/matlab_oop/property-attributes.html)和属性告诉我常量只能用于整个类（一种静态）。 有没有不使用变量属性（不是动态属性）的解决方案？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T07:52:58.057

听起来您正在寻找一个[不可变的属性](http://www.mathworks.com/help/matlab/matlab_oop/mutable-and-immutable-properties.html)，而不是一个常数。

在 Java 中，这基本上是一个 final 属性，而常量是一个类似 final 的静态属性。

# android - 在android的AsyncTask中长时间运行XML解析时如何避免ANR？

> ID：14746103
> 
> 赞同：2
> 
> 时间：2013-02-07T07:45:03.777
> 
> 标签：android, android-asynctask

我正在从服务器下载文件，然后解析并插入本地数据库，而此操作我正在使用进度条显示操作进度。由于文件非常大，因此解析需要 2-4 分钟，因此我在进度条上收到 ANR下载完成后进度条也没有更新，它只显示 50% 的进度。如何避免这种 ANR？我附上我的代码如下...

```
@Override
    protected void onPreExecute() 
    {
            flag = false;
            progressCount = 0;
            ProgressDialog progressBar = DdownoadProgressBar(context,
            progressCount);
            progressBar.show(); 

    }

    @Override
    protected Integer doInBackground(String... urls) {
        checkNetworkConnection();

        if (connectionFlag) {
            downloadFile1();
            progressCount = 1;
            publishProgress(progressCount);

            downloadFile2();
            progressCount = 2;
            publishProgress(progressCount);

            downloadFile3();
            progressCount = 3;
            publishProgress(progressCount);

            downloadFile4();
            progressCount = 4;
            publishProgress(progressCount);

            downloadFile5();
            progressCount = 5;
            publishProgress(progressCount);

            downloadFile6();
            progressCount = 6;
            publishProgress(progressCount);

            downloadflag = true;
        }
        return null;
    }

    @Override
    protected void onProgressUpdate(Integer... progress) 
    {
        Log.v(TAG, "In progressUpdate...");

        progressBar.setProgress(progressCount);

    }

    @Override
    protected void onPostExecute(Integer progress) {
        if (downloadflag) {
            try {

                Log.v(TAG, "Inside onPostExecute....");

                 parseFile1();
                 progressCount=7;
                 publishProgress(progressCount);

                 parseFile2();
                 progressCount=8;
                 publishProgress(progressCount);

                 parseFile3();
                 progressCount=9;
                 publishProgress(progressCount);

                 parseFile4();
                 progressCount=10;
                 publishProgress(progressCount);

                 parseFile5();
                 progressCount=11;
                 publishProgress(progressCount);

                 parseFile6();
                 progressCount=12;
                 publishProgress(progressCount);

                 progressBar.dismiss();
                 Toast.makeText(SynchronizeData.this,"Data is successfully downloaded from server.......", Toast.LENGTH_LONG).show();

            } catch (Exception e) {

                e.printStackTrace();
            }
        } else {

            progressBar.dismiss();

            Toast.makeText(
                    getApplicationContext(),
                    "File is not downloaded....Error in network connection...........",Toast.LENGTH_LONG).show();
            Log.v(TAG, "File is not downloaded...............");

        }
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:01:32.780

将解析逻辑移动到 doinBackground() ，如下面的代码。

```
@Override
protected void onPreExecute() 
{
        flag = false;
        progressCount = 0;
        ProgressDialog progressBar = DdownoadProgressBar(context,
        progressCount);
        progressBar.show(); 

}

@Override
protected Integer doInBackground(String... urls) {
    checkNetworkConnection();

    if (connectionFlag) {
        downloadFile1();
        progressCount = 1;
        publishProgress(progressCount);

        downloadFile2();
        progressCount = 2;
        publishProgress(progressCount);

        downloadFile3();
        progressCount = 3;
        publishProgress(progressCount);

        downloadFile4();
        progressCount = 4;
        publishProgress(progressCount);

        downloadFile5();
        progressCount = 5;
        publishProgress(progressCount);

        downloadFile6();
        progressCount = 6;
        publishProgress(progressCount);

        downloadflag = true;
    }

    if (downloadflag) {
        try {

             parseFile1();
             progressCount=7;
             publishProgress(progressCount);

             parseFile2();
             progressCount=8;
             publishProgress(progressCount);

             parseFile3();
             progressCount=9;
             publishProgress(progressCount);

             parseFile4();
             progressCount=10;
             publishProgress(progressCount);

             parseFile5();
             progressCount=11;
             publishProgress(progressCount);

             parseFile6();
             progressCount=12;
             publishProgress(progressCount);

        } catch (Exception e) {

            e.printStackTrace();
        }
    }
    return null;
}

@Override
protected void onProgressUpdate(Integer... progress) 
{
    Log.v(TAG, "In progressUpdate...");

    progressBar.setProgress(progressCount);

}

@Override
protected void onPostExecute(Integer progress) {

        try {

            Log.v(TAG, "Inside onPostExecute....");

             progressBar.dismiss();
             Toast.makeText(SynchronizeData.this,"Data is successfully downloaded from server.......", Toast.LENGTH_LONG).show();

        } catch (Exception e) {

            e.printStackTrace();
        }

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T07:46:49.137

将您的解析逻辑移动到 doInBackground 方法中。没有理由在后台线程上进行 Web 调用并在 UI 线程上进行解析。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-07T07:50:03.810

正如 Rich 所说：在 doInBackground 中解析文件。

其他选项是在 onPostExecute 中运行尽可能多的异步任务。

但是如果文件很大，你应该考虑使用线程/队列工作者模式/服务！

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-07T07:55:56.473

是的，您所做的任何非 UI 任务都必须在 doInBackground() 方法中完成。如果您将在主线程中工作的 AsyncTask 方法中执行长时间运行的任务，那么它将给您 ANR。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-07T09:32:02.673

在使用 AsyncTask 之前，请阅读： [AsyncTask 在概念上真的存在缺陷还是我只是遗漏了什么？](https://stackoverflow.com/questions/3357477/is-asynctask-really-conceptually-flawed-or-am-i-just-missing-something)

简而言之：从 Activity 的方法调用 AsyncTask 在概念上是有缺陷的，因为长时间的操作可能比启动它的 Activity 寿命更长。这样的操作应该是模型的责任（在 MVC 意义上），在这种情况下，它可能会比 AsyncTask 更严重。

# c# - 使用不同结构将相关数据发送到 WCF 的最佳方式

> ID：14746104
> 
> 赞同：0
> 
> 时间：2013-02-07T07:45:06.057
> 
> 标签：c#, php, .net, wcf

我们开发了自己的自托管 WCF 服务，并且几个 PHP 应用程序使用该服务与设备进行通信。

要将数据发送到我们需要的设备，设备信息和我们要发送的数据，我们也有相反的方式，获取数据。

我们有几个结构来管理数据：设备、用户、用户信息、显示信息、事件、日志......当我们发送数据时，我们使用类似的东西：

```
bool SetUsers(Device d, User[] u); 
```

这工作正常，但是使用 PHP，我们每个设备发送数据，所以如果我们有 50 个设备和 2000 个用户，我们发送 2000 个用户的 50 倍，你可以看到这可以做得更好。

所以我们认为我们可以使用类似的东西：

```
bool SetUsers(Device[] d, User[] u); 
```

这也行得通，但大多数时候并不是所有用户都必须访问所有设备，所以最新的方法是不行的，第一种方法是发送大量冗余数据。

我的问题是：一次通话向 50 台设备发送 2000 个用户或 2000 个 userInfo 或 2000 个 displayInfo 的最佳方式是什么？

我想到了三种可能的方法：

1.  在 Device Struct 中包含几个 Struct 的可变属性。发送数据的最佳方式，组织数据的麦汁方式。
2.  在每个 Struct、User、UserInfo... 中包含 Device Struct，然后我们将在我们的代码中对它进行相应的排序。喜欢它，但不认为是最好的方法。
3.  发送所有设备 + 所有数据相关 + 第三个 Struct 关联它们两者。我必须在每个结构中生成自定义 ID 并创建一个多对多结构。（不知道具体如何）。

你认为哪一种是最好的方法？也许是一个新的和改进的？

谢谢！！！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T07:55:23.797

如果我理解正确，您的设备对象可以与多个用户、UserInfo 或 DisplayInfo 相关联，在这种情况下，我会在逻辑上将它们分组为 DeviceUser、DeviceUserInfo 和 DeviceDisplayInfo 对象，并在其中包含 User / UserInfo / DisplayInfo 的 IEnumerable 集合。

例子，

```
DeviceUser
- DeviceId (int)
- Users (IEnumerable<User>)
- Make (string)
- Year (int) 
```

# android - BalloonItemizedOverlay 项目未显示

> ID：14746105
> 
> 赞同：2
> 
> 时间：2013-02-07T07:45:08.930
> 
> 标签：android, android-mapview, itemizedoverlay

这是我的 CustomOverlay

```
class CustomOverlay extends BalloonItemizedOverlay<OverlayItem>
{
    private ArrayList<OverlayItem> mOverlays = new ArrayList<OverlayItem>();
    Context mContext;

    public CustomOverlay(Drawable defaultMarker, MapView mapView)
    {
        super(defaultMarker, mapView);
        mContext = mapView.getContext();
    }

    public void addOverlay(OverlayItem overlay)
    {
        mOverlays.add(overlay);
        populate();
    }

    @Override
    protected OverlayItem createItem(int i)
    {
        return mOverlays.get(i);
    }

    @Override
    public int size()
    {
        return mOverlays.size();
    }

    @Override
    protected boolean onBalloonTap(int index)
    {
        Toast.makeText(mContext, "onBalloonTap for overlay index " + index,
                Toast.LENGTH_LONG).show();
        return true;
    }
} 
```

这是我的主要活动：

```
public void onCreate(Bundle savedInstanceState)
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.map_outlets);

    mapView = (MapView) findViewById(R.id.mapView);
    mapView.setBuiltInZoomControls(true);
    mapView.setStreetView(true);

    lm = (LocationManager) getSystemService(Context.LOCATION_SERVICE);
    lm.requestLocationUpdates(LocationManager.PASSIVE_PROVIDER, 1000L,
            500.0f, this);

    Location l = new Location(LocationManager.NETWORK_PROVIDER);
    l = lm.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);

    mc = mapView.getController();
    p = new GeoPoint((int) (l.getLatitude() * 1E6),
            (int) (l.getLongitude() * 1E6));
    mc.setCenter(p);
    mc.setZoom(18);
    mc.animateTo(p);

    Drawable redmarker = this.getResources().getDrawable(R.drawable.pinr);
    Drawable greenmarker = this.getResources().getDrawable(R.drawable.pin);

    mapOverlays = mapView.getOverlays();

    // Overlay 1
    overlay1 = new CustomOverlay(greenmarker, mapView);

    OverlayItem oi1 = new OverlayItem(new GeoPoint((int) (33.733492*1E6), (int) (73.088302*1E6)), "Evacuee Trust Cafe", "It sucks");
    overlay1.addOverlay(oi1);

    OverlayItem oi2 = new OverlayItem(new GeoPoint((int) (33.734547*1E6), (int) (73.08599*1E6)), "Balochistan Mosque", "Where muslim men convene");
    overlay1.addOverlay(oi2);

    // Overlay 2
    overlay2 = new CustomOverlay(redmarker, mapView);
    OverlayItem oi3 = new OverlayItem(new GeoPoint((int) (33.73287*1E6), (int) (73.086205*1E6)), "Agha Khan Road", "Its a Road ofc.");
    overlay2.addOverlay(oi3);

    mapOverlays.add(overlay1);
    mapOverlays.add(overlay2);

    mapView.invalidate();
} 
```

覆盖项目未显示在 mapView 上。

PS 我正在使用 SherlockMapActivity。而且我更改了 android-mapviewballoons 清单文件，因为我没有旧的 api。我将其更改为最低 8 和目标 16。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T07:56:19.837

如果您使用的是[https://github.com/jgilfelt/android-mapviewballoons/](https://github.com/jgilfelt/android-mapviewballoons/)那么您应该覆盖方法（在 CustomOverlay 中）：

```
protected BalloonOverlayView<CustomOverlayItem> createBalloonOverlayView() {
    // use our custom balloon view with our custom overlay item type:
    return new CustomBalloonOverlayView<OverlayItem>(getMapView().getContext(), getBalloonBottomOffset();   
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:36:07.450

错误在这里：

```
public CustomOverlay(Drawable defaultMarker, MapView mapView)
{
    super(defaultMarker, mapView);
    mContext = mapView.getContext();
} 
```

它需要是：

```
public CustomOverlay(Drawable defaultMarker, MapView mapView)
    {
        super(boundCenter(defaultMarker), mapView);
        mContext = mapView.getContext();
    } 
```

# jquery - jQ/UI 升级后无法使用 cookie 使 jQ UI 手风琴工作

> ID：14746108
> 
> 赞同：1
> 
> 时间：2013-02-07T07:45:23.280
> 
> 标签：jquery, jquery-ui, cookies, accordion, jquery-ui-accordion

我有这段代码，它使用 cookie 使 jquery 手风琴选择通过刷新保持不变

问题是它只适用于 jQuery UI 1.7.2 和 jQuery JavaScript Library v1.4.1

如果我更新到 jQuery UI - v1.10.0 和 jQuery JavaScript Library v1.9.0，它不再持续存在（没有错误，只是没有在页面加载时持续手风琴选择）

这是代码

```
$( function()
{
    var cookieName = 'stickyAccordion';

    $( '#accordion' ).accordion( {
        active: ( $.cookies.get( cookieName ) || 0 ),
        change: function( e, ui )
        {
    $.cookies.set( cookieName, $( this ).find( 'h3' ).index ( ui.newHeader[0] ) );
        }
    } );
} ); 
```

在我的 html 中我有

```
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="jquery-ui.js"></script>
<script type="text/javascript" src="jquery.cookies.js"></script> 
```

cookie 由[http://code.google.com/p/cookies/提供](http://code.google.com/p/cookies/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T11:21:58.483

cookie 代码很好，但 jQuery UI Accordion API 已随着您的升级而更改，`change`因此不再是有效事件 - 它已更改为`activate`. 我们还可以调整`activate`方法的主体，使其比每次都重新查询标题更有效。

这是正在使用的新 API 的现场演示：http: [//jaaulde.com/test_bed/stickyaccordionNewAPI/](http://jaaulde.com/test_bed/stickyaccordionNewAPI/)

这是特定的JS：

```
$(function () {
    var cookieName = 'stickyAccordionNewAPI',
        $accordion = $('#accordion'),
        $headers = $accordion.children('h3');

      $accordion.accordion( {
          active: ($.cookies.get(cookieName ) || 0),
          activate: function (e, ui) {
              $.cookies.set(cookieName, $headers.index(ui.newHeader));
          }
      });
}); 
```

它不像 UI 选项卡所经历的那样剧烈的变化，但仍然是一个变化。

# amazon-ec2 - 将根服务器克隆到 Amazon Cloud

> ID：14746109
> 
> 赞同：0
> 
> 时间：2013-02-07T07:45:29.357
> 
> 标签：amazon-ec2, debian, clone

我有一个旧的 debian 根服务器，它托管在德国的提供商处。机器现在大约 6 岁了，我想把它移到云端。

问题是是否有一种简单的方法可以克隆根服务器（dd 或其他）并将其用作亚马逊（或其他）云服务器。

有什么办法吗，还是我必须将整个服务器迁移到云中的新实例。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T14:30:39.490

查看此工具[http://aws.amazon.com/ec2/vmimport/](http://aws.amazon.com/ec2/vmimport/)它应该可以满足您的要求。

第一种方法是使用 Amazon EC2 API 工具导入您的 VM 映像。要开始，只需：

*   从 Amazon EC2 API 工具下载 VM Import 命令行工具。
*   通过 ec2-import-instance API 导入 VMDK、VHD 或 RAW 文件。导入实例任务捕获正确配置 Amazon EC2 实例属性（实例大小、可用区和安全组）所需的参数并将磁盘映像上传到 Amazon S3。
*   如果 ec2-import-instance 在没有完成上传的情况下中断或终止，请使用 ec2-resume-import 恢复上传。导入任务将从中断处继续。
*   使用 ec2-describe-conversion-tasks 命令监控导入进度并获取生成的 Amazon EC2 实例 ID。
*   导入任务完成后，您可以通过将实例 ID 指定给 ec2-run-instances API 来启动 Amazon EC2 实例。
*   最后，使用 ec2-delete-disk-image 命令行工具从 Amazon S3 中删除您的磁盘映像。

# php - 在 smarty 中获取 foreach 循环的数据

> ID：14746118
> 
> 赞同：0
> 
> 时间：2013-02-07T07:46:10.033
> 
> 标签：php, sql, foreach, smarty

我正在尝试将 smarty 用于新网站，但在将数据从 sql 查询分配到 smartyt foreach 循环时遇到了一点问题。我没有从查询中获得任何数据到我的模板。

在我的 class.designs.php 我有这个：

```
 function listAllDesigns() {
            global $db;

            $row = $db->query("
SELECT ds.*, count(com.comment) AS countcom 
FROM designs ds LEFT JOIN comments com ON com.design_id = ds.id 
WHERE ds.approved = 1 
GROUP BY ds.id 
ORDER BY ds.date_added ASC")->resultset();        

            $smarty = new Smarty;        
            $smarty->assign('designs', $row);

            return;        
        } 
```

和我的 index.php

```
include_once("includes/connect.php"); //Database connection
include_once("includes/config.php"); //Configuration file
include_once("includes/classes/class.designs.php"); //Main design class

require('smarty/libs/Smarty.class.php');

$designs = new Designs();
$designs->listAllDesigns();

$smarty = new Smarty;
$smarty->debugging = true;
$smarty->caching = true;
$smarty->cache_lifetime = 120;

$smarty->assign("charset", $config->charset);
$smarty->assign("pagetitle", $config->pagetitle);
$smarty->display('index.tpl'); 
```

在 index.tpl 我有这个：

```
{foreach $designs as $r}
  <li>{$r.name}</li>
{foreachelse}
   No results 
{/foreach} 
```

它只是打印“无结果”，我收到“未定义的索引设计”错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T07:50:36.313

```
include_once("includes/connect.php"); //Database connection
include_once("includes/config.php"); //Configuration file
include_once("includes/classes/class.designs.php"); //Main design class

require('smarty/libs/Smarty.class.php');

$designs = new Designs();
$designs->listAllDesigns();

$smarty = new Smarty;
$smarty->debugging = true;
$smarty->caching = true;
$smarty->cache_lifetime = 120;

// TO USE some value ($designs in your case) at your template you must assign it
// 1st is its name and 2nd is the value
$smarty->assign("designs", $designs);

$smarty->assign("charset", $config->charset);
$smarty->assign("pagetitle", $config->pagetitle);
$smarty->display('index.tpl'); 
```

# batch-file - 为什么我在运行此脚本时无法在 Python 中加载 _tkinter 模块？

> ID：14746127
> 
> 赞同：3
> 
> 时间：2013-02-07T07:46:34.487
> 
> 标签：batch-file, python-2.7

我正在尝试使我的 Python 程序对所有用户都可运行。我已经弄清楚如何通过 Windows 批处理文件运行 Python：

```
@ECHO OFF
bin\python\python bin\main.py
PAUSE 
```

但它给了我这个错误：

```
File "xyz/bin/python/lib/lib-tk/Tkinter.py", line 39,
in <module>
    import _tkinter
ImportError: No module named _tkinter
press any key to continue... 
```

我在谷歌上搜索过多次，它说你需要安装 TCL/TK。所以我重新安装了 Python（确保我包含了 TCL/TK），但它仍然无法正常工作。如果我自己使用python，它就没有那个错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-24T07:30:39.720

尝试将 python libs\ 路径添加到“PATH”变量中。例如`set PATH=c:\Python27\libs` ，您似乎已经在一些嵌套文件夹中安装了 python，并运行了取决于它所在位置的 bat 文件。也许您的 PATH 环境变量已过时另外，您可以尝试使用`PYTHONPATH`

# ios - 在 iOS 表视图中使用简单的 Fetch 和 Predicate 或 Fetched Result Controller 的最佳实践？

> ID：14746136
> 
> 赞同：0
> 
> 时间：2013-02-07T07:47:19.753
> 
> 标签：ios, uitableview, core-data, nsfetchedresultscontroller, nsfetchrequest

在几种情况下使用 Core Data 之后，我只是想知道在哪种情况下哪种解决方案是最好的？甚至 fetchedResultController 也被广泛使用和流行，尤其是在 Apple 文档中，我猜这不是最好的解决方案，或者在代码必须获取多个 managedObject 等的其他情况下也很合适。有几次它促使开发人员使用两个或多个 fetchedResultControllers 这是真正复杂和僵化的解决方案。我从 Marcus Zarra 为 Fetch/Predicate 解决方案找到了几个漂亮且非常简单的解决方案，并且喜欢 Jeff LaMarche 的[基于导航的精美 fetchedResultController](http://iphonedevelopment.blogspot.hu/2010/01/navigation-based-core-data-application.html "Jeff LaMarche 的博客")，但真正的区别是什么？

# java - JVM如何初始化超类和子类中的字段？

> ID：14746138
> 
> 赞同：3
> 
> 时间：2013-02-07T07:47:24.777
> 
> 标签：java, jvm, jls

任何人都可以说出为什么以下代码的输出为“null”吗？构造复杂对象并将细节委托给其子类的最佳方法是什么？

```
 package com.test;

public class ClassA {

    ClassA() {
        initHeader();
        initBody();
        initFooter();
    }

    void initHeader() {}

    void initBody() {}

    void initFooter() {}

    public static void main(String[] args) {
        ClassB a = new ClassB();
        System.out.println(a.obj);
    }
}

class ClassB extends ClassA {

    public Object obj = null;

    ClassB() {
        super();
    }

    void initHeader() {
        obj = new Object();
    }

} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-07T07:53:46.643

首先，`ClassA`初始化 的字段。

然后调用的构造函数`ClassA`，调用`ClassB.initHeader()`.

之后，字段的`ClassB`初始化覆盖`initHeader()`所做的事情。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T08:04:07.703

这段代码不`initHeader`从 ClassB 调用是不正确的。您可以通过将调试输出添加到`initHeader`两个类的方法来验证它。

`public Object obj = null;`包含两部分：

1.  宣言`public Object obj`
2.  执行`obj = null`

构造函数运行时已知的第一部分（此时`null`默认初始化为 obj） 第二部分**在构造函数**之后执行，因此在`initHeader`并覆盖 obj 之后。

尝试替换`public Object obj = null;`为`public Object obj;`

# python - 列表和生成器 - 调用者或函数责任

> ID：14746139
> 
> 赞同：0
> 
> 时间：2013-02-07T07:47:27.247
> 
> 标签：python

调用接受列表的函数时，谁负责（调用者 - 用户，或被调用者 - 函数）确保它是 a`list`而不是 a `generator`？

一个例子：

```
>>> def print_collection(coll):
...     for element in coll:
...         print element

>>> def print_collection_twice(coll):
...     print_collection(coll)
...     print_collection(coll) 
```

有了一个列表，它就可以毫无意外地工作：

```
>>> print_collection_twice( [x*2 for x in xrange(3)] )
0
2
4
0
2
4 
```

对于生成器，显然它只打印一次，这可能会导致一个讨厌的错误：

```
>>> print_collection_twice( (x*2 for x in xrange(3)) )
0
2
4 
```

这里的*最佳做法*是什么？一个函数是否应该假设一个列表，并且用户有责任提供`list`，或者该函数应该始终`real_list = list(input_list)`在开始时执行以便用户不关心？

**编辑**

我*知道*如何检查元素的类型，而且`assert`我的问题相当高级

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T07:55:36.887

任何一种方法都是站得住脚的。函数的责任是*记录*它想要什么样的参数，调用者的责任是传递与文档一致的参数。如果函数说它需要一个列表并且你传递了一个生成器，则不能保证它会起作用。

真正的问题是函数应该*说它*想要什么，答案是它应该只说它需要什么，仅此而已。因此，如果您真正需要的只是一个可迭代的，请不要说您需要一个列表。一般来说，如果你的函数需要使用一般可迭代对象没有的列表特性（例如，索引），那么它应该只使用这些特性，如果有人传入一个不具备的参数，自然会引发异常支持他们。如果您的函数不需要这些功能，则不需要列表。

您的示例有些不切实际，因为它所做的只是打印参数。在现实生活中，除了消耗可迭代对象之外，您几乎总是需要做一些事情，而“您需要做的事情”的性质将阐明您应该接受什么样的论点。但是，对于您的具体示例，我会说是的，请调用`list`它（在里面`print_collection_twice`，而不是在里面`print_collection`）。原因是`print_collection_twice`想要多次使用数据，这对于通用迭代是不可能的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T07:55:47.993

最佳实践当然是*记录*您的需求。记录参数是否应该是可迭代的或序列。Python 的哲学是使用鸭子类型，因此您应该简单地尝试使用参数，就好像它是一个序列一样。

如果你想检查参数是否是一个序列，一个不创建新列表的简单方法是使用`len`内置函数：

```
>>> len(iter([1,2,3]))
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: object of type 'listiterator' has no len() 
```

如果你得到异常，你可以调用`list`，或者`tuple`获取一个序列，或者让异常通过并让用户处理它。选择哪种“政策”取决于您，这完全取决于您。Python 程序员应该仔细阅读文档并传递可以正常工作的参数，因此您可以声明您想要一个可迭代的参数并始终调用`list`以获取序列，或者声明您想要一个序列并在对象是可迭代的。当您还允许可迭代时，我不认为说明参数应该是一个序列的意义。

顺便说一句，如果你只是想对一个可迭代对象进行多次迭代，你可以使用[`itertools.tee`](http://docs.python.org/2/library/itertools.html#itertools.tee).

例如：

```
def print_twice(iterable):
    old, new = itertools.tee(iterable)
    for element in old:
        # do stuff
    for element in new:
        # do stuff 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-07T07:52:40.473

在我看来，这取决于函数内部的应用程序。重要的是，您要*记录*您的函数是否也只接受列表或迭代器。函数内部的显式`list()`调用可能会导致长列表的多余开销，如果您只想迭代列表/生成器一次，则这是不必要的。

# regex - 小丑试图用 RegEx 清理字符串

> ID：14746141
> 
> 赞同：0
> 
> 时间：2013-02-07T07:47:30.220
> 
> 标签：regex, autohotkey

我正在尝试解析一个 mht （文本）文件并仅提取某些行。RegExMatch 可以很好地做到这一点。但是，在我的循环中，我想从那些特定的行中删除所有内容，除了由字母“E”后跟 6 个数字组成的 7 位字符串。

这是我最近失败的尝试。这个小丑显然不太了解RegEx。

帮助？

谢谢

```
If RegExmatch(A_LoopReadLine,"E\d\d\d\d\d\d")
    {
    ECode := RegExReplace(A_LoopReadLine, "^[Ed\d\d\d\d\d\d]", "")
    FileAppend, %ECode%., G:\2013.txt
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T07:50:36.020

它应该是

```
 RegExReplace(A_LoopReadLine, "^.*(E\d{6}).*$", "$1") 
```

`\d{6}`表示 6 位数字..`{}`是一个量词..so`{n}`表示匹配前面的字符 n 次

`()``$n`代表一个组..因此可以通过其中 n 是组号来引用组内捕获的所有内容。

# watin - 通过索引识别对象

> ID：14746142
> 
> 赞同：0
> 
> 时间：2013-02-07T07:47:30.537
> 
> 标签：watin

是否可以通过 Watin 中的索引来识别对象（就像 selenium //input[2] ）

例如，如果我们有输入字段

输入字段：<< 输入 id="userid" type="text">>

输入字段：<< 输入 id="userid" type="text">>

输入字段：<< 输入 id="userid" type="text">>

输入字段：<< 输入 id="userid" type="text">>

如何通过索引识别每一个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:17:01.013

Yes there is:

```
browser.TextFields.Filter(Find.ById("id_name"))[0]; 
```

# java - 具有用 Java 实现的自定义路由规则的负载均衡器？

> ID：14746143
> 
> 赞同：2
> 
> 时间：2013-02-07T07:47:33.380
> 
> 标签：java, load-balancing

我正在寻找一种方法来设置一个简单的负载均衡器，其中包含用 Java 实现的自定义路由规则。自定义路由规则正在根据请求发送的 cookie 查找目的地。必须在每个请求上检索目的地，因为它可能会随着时间而改变。因此，我无法提前生成静态路由规则。

我更喜欢在 Java 中实现自定义路由规则，因为我已经有了所有逻辑来根据 cookie 找出目的地。但是，我找不到允许插入用 Java 实现的自定义路由规则的负载均衡器。有什么提示吗？

我不想从头开始用 Java 实现路由器，而只提供路由逻辑。那可能吗？

# ruby-on-rails - 不确定我在 Mountain Lion 上安装了哪个版本的 Ruby..？

> ID：14746147
> 
> 赞同：0
> 
> 时间：2013-02-07T07:47:39.677
> 
> 标签：ruby-on-rails, ruby, macos, osx-mountain-lion, homebrew

您好 Ruby/Rails 用户！

我想使用 gem 'simplecov' 进行覆盖率分析。我安装了 gem，但是当我运行测试时，我收到一条消息说 simplecov 未激活并且无法使用，因为我没有使用 ruby​​ 1.9+

虽然，当我跑步时

```
brew which ruby 
```

我得到：

```
ruby: 1.9.3-p362 
```

这表明我有 ruby​​ 1.9+

但是当我跑步时，`ruby -v`我得到：

```
ruby 1.8.7 (2012-02-08 patchlevel 358) [universal-darwin12.0] 
```

那么我有哪个版本的红宝石？以及如何清理我的 mac repo 以便我只有 ruby​​ 1.9+ 而不是 1.8.7 版本？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-07T07:50:41.750

两个都。OS X 带有 Ruby 1.8.7 作为操作系统的一部分，删除它不是一个好主意（如果可能的话），因为它可能在意想不到的地方（应用程序、工具等）需要。您需要做的是更改您的 $PATH 以在 1.8.7 之前拥有 1.9.3 可执行文件。

有关更改路径的更多信息，请参阅[https://superuser.com/questions/353775/installing-ruby-with-homebrew](https://superuser.com/questions/353775/installing-ruby-with-homebrew)

# c# - 如何调试由另一个线程中的操作触发的 SQL 查询超时？

> ID：14746153
> 
> 赞同：0
> 
> 时间：2013-02-07T07:48:26.713
> 
> 标签：c#, .net, multithreading, azure, concurrency

我正面临一些“不可能的行为”的情况，我需要以某种方式对其进行调试。

我有两个线程，A 和 B。线程 B 类有这三个变量：

```
public class ThreadBClass() {
    private static bool shouldStop = false;
    private static objects shouldStopLock = new object();
    public static void SetShouldStop()
    {
        lock( shouldStopLock ) {
           shouldStop = true;
        } 
    }
    public void Run()
    {
        while( true ) {
            lock( shouldStopLock ) {
                if( shouldStop ) {
                   break;
                }
            }
            doStuff(); << this thing queries SQL Azure database
        }
    }
} 
```

线程 A 有这个

```
var bClass = new threadBClass();
var controlledThread = new Thread( bClass.Run ); 
```

线程 B`Run()`以无限循环运行，定期查询 SQL Azure 数据库。

现在这两个线程在 Windows Azure Web 角色中运行，当角色停止时会发生以下情况。角色`OnStop()`在线程 A 中运行并执行以下操作：

```
ThreadBClass.SetShouldStop();
const int count = 20;
for( int i = 0; i < count; i++ ) {
   if( controlledThread.IsAlive ) {
       break;
   }
   Thread.Sleep( 1000 );
} 
```

如果在设置标志时线程 B 碰巧没有查询数据库，那么一切都会干净地退出。但是大约 40% 的情况下 SQL 数据库查询会失败，但以下情况除外：

```
System.Data.SqlClient.SqlException
Timeout expired.  The timeout period elapsed prior to completion of
the operation or the server is not responding.
at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection)
at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning()
at System.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
at System.Data.SqlClient.TdsParserStateObject.ReadSni(DbAsyncResult asyncResult, TdsParserStateObject stateObj)
at System.Data.SqlClient.TdsParserStateObject.ReadNetworkPacket()
at System.Data.SqlClient.TdsParserStateObject.ReadByte()
at System.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
at System.Data.SqlClient.TdsParser.TdsExecuteTransactionManagerRequest(Byte[] buffer, TransactionManagerRequestType request, String transactionName, TransactionManagerIsolationLevel isoLevel, Int32 timeout, SqlInternalTransaction transaction, TdsParserStateObject stateObj, Boolean isDelegateControlRequest)
at System.Data.SqlClient.SqlInternalConnectionTds.ExecuteTransactionYukon(TransactionRequest transactionRequest, String transactionName, IsolationLevel iso, SqlInternalTransaction internalTransaction, Boolean isDelegateControlRequest)
at System.Data.SqlClient.SqlInternalConnection.BeginSqlTransaction(IsolationLevel iso, String transactionName)
at System.Data.SqlClient.SqlConnection.BeginTransaction(IsolationLevel iso, String transactionName)
//my code of Run() here 
```

我试过输出`ThreadState`每个线程的。线程 B 的状态是`Running`，所以它肯定没有中止。

所以整个情况对我来说看起来很疯狂 - 一个线程获得了一段时间的锁，然后轮询另一个线程，`IsAlive`并且恰好在那个时候 SQL 查询在另一个线程中超时。*而且这是偶尔*可以重现的。

我该如何调试？是否有任何事件、全局变量以及 .NET 运行时公开的任何其他内容，并且我可以使用它们来查找实际发生的情况？

# ubuntu-12.04 - partition gets disappear while mounting

> ID：14746159
> 
> 赞同：-1
> 
> 时间：2013-02-07T07:48:58.397
> 
> 标签：ubuntu-12.04

im using ubuntu 12.04 I created 4 partition in ext4 and one in ext3\. I can see all the partition in computer but whenever I try to mount partition I used to click on the partition it supposes to get mount but now its getting disappear from the computer.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:40:29.663

try command line tools like `fdisk` and `mount`

Try this:

1.  check whether you still have those partitions:

    ```
    fdisk /dev/sda 
    ```

    `/dev/sda` replace by your hard disk, inside program write `p`, program will output all the partitions on your hard drive, exit `fdisk` by pressing `q`

2.  mount the partition:

    ```
    mount /dev/sda3 /mnt/something 
    ```

    sda3 replace by your partition and /mnt/something by dir where you'd like to have the partition mounted.

Most likely, your graphical program (you didn't mention name) stopped working for some reason. Command lines works well and something goes wrong some error/warning will be outputted

# c# - 将日期时间从 asp.net 中的日历插入到 Microsoft sql 的问题

> ID：14746160
> 
> 赞同：0
> 
> 时间：2013-02-07T07:49:01.333
> 
> 标签：c#, asp.net, sql, sql-server

我正在尝试将 asp.net 中日历中的选定日期插入 Microsoft SQL 数据库。

当我选择时间喜欢`01/04/2012`它的工作时，但是当我尝试插入时，`30/01/2012`我收到了消息：

> 将 char 数据类型转换为 datetime 数据类型会导致 datetime 值超出范围。

当我`datetime`使用创建对象时`closeDateCalender.SelectedDate`，c# 中的代码是：

```
sb.AppendFormat("Values('{0}', '{1}' ,'{2}', '{3}','{4}','{5}','{6}','{7}')",
    opportunity.UserId, 
    opportunity.AccountId, 
    opportunity.OpportunityName, 
    opportunity.CloseDate, 
    opportunity.Stage, 
    opportunity.Probability, 
    opportunity.Amount, 
    opportunity.Description);
String prefix = "INSERT INTO Opportunities " + "([User_Id],Account_Id,Opportunity_Name,Close_Date,Stage,Probabilty,Amount,[Description])";
        command = prefix + sb.ToString(); 
```

知道如何解决吗？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:00:01.170

为了摆脱格式化和其他事情的所有这些痛苦，请改用准备好的语句或参数化查询，它会处理所有这些格式化的东西。就像是：

```
string YourSQL = "INSERT INTO Tablename(columns list) Values(?, ?, ?, ..) ";

command.Parameters.Add("CloseDate", 
                       DbType.DateTime).Value = opportunity.CloseDate;
...
...// do the same for the rest of the fields. 
```

这种方式`opportunity.CloseDate`应该是数据类型`DateTime`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T07:52:53.510

您的服务器设置为接受美国格式而不是欧洲格式的日期。如果您重新格式化日期，使其格式不变`yyyy-MM-dd`，它将起作用。

试试这个：

```
sb.AppendFormat("Values('{0}', '{1}' ,'{2}', '{3}','{4}','{5}','{6}','{7}')",
  opportunity.UserId, 
  opportunity.AccountId, 
  opportunity.OpportunityName, 
  opportunity.CloseDate.ToString("yyyy-MM-dd"), 
  opportunity.Stage, 
  opportunity.Probability, 
  opportunity.Amount, 
  opportunity.Description); 
```

# jquery - jquery datatables如何从js数组创建复杂表

> ID：14746168
> 
> 赞同：0
> 
> 时间：2013-02-07T07:49:26.663
> 
> 标签：jquery, datatables

我正在使用 DataTables 并想根据以下示例从 js 创建动态表：

[http://datatables.net/release-datatables/examples/data_sources/js_array.html](http://datatables.net/release-datatables/examples/data_sources/js_array.html)

如果我想创建一些更复杂的行，如

```
 <tr>
    <td><div class="checksquared"><input type="checkbox" name="checkbox[]" /><label></label></div></td>     
    <td>Title Name</td>
    <td>18769</td>
    <td>
        <span class="checkslide">
            <input type="checkbox" checked="checked" />
            <label data-on="On" data-off="Off"></label>
        </span>
    </td>
    <td>
      <span class="tip" ><a href="modalEdit.html?idEdit=edit" class="pop_box" title="Edit" ><img src="images/icon/icon_edit.png" ></a></span> 
      <span class="tip" ><a href="javascript:void(0)" class="Delete" data-name="delete name" title="Delete"><img src="images/icon/icon_delete.png" ></a></span> 
     </td>
  </tr> 
```

编辑：我的服务器端是 ASP.NET

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T10:44:04.003

我认为您正在寻找的是函数`mRender`（[http://datatables.net/ref#mRender](http://datatables.net/ref#mRender)）它​​允许返回您想要的任何内容（在您的情况下为 HTML）并且您可以访问整行。

你可以使用这个：

```
"mRender": function ( data, type, full ) {
    return '<span class="checkslide"> <input type="checkbox" checked="checked" value='+data+' /><label data-on="On" data-off="Off"></label></span>';
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T07:59:43.577

这可能会有所帮助... [http://datatables.net/release-datatables/examples/server_side/server_side.html](http://datatables.net/release-datatables/examples/server_side/server_side.html)

在**服务器端 (PHP) 代码**内部的链接中，您可以根据需要修改自定义行。

# java - 如何使用 MaxMind 的 GeoIP 数据库来确定位置？

> ID：14746169
> 
> 赞同：1
> 
> 时间：2013-02-07T07:49:29.460
> 
> 标签：java, geolocation, location, inet

所以，我在上一个问题中被告知，我可以使用[MaxMind 提供的数据库](http://dev.maxmind.com/geoip/geolite)来确定位置。

所以，我从他们的网站下载了他们的数据库。它们是`csv`文件并在 Excel 中打开。

`InetAddress ip = InetAddress.getLocalHost()`是我如何获得我的电脑的IP。从那里我做`String justIP = ip.getHostAddress()`

我的问题是：

*   如何`justIP`使用我刚刚下载的数据库解析到城市位置？？？
我对此很陌生，因此将不胜感激。

其中一个文件具有三列。`startIPNum`，`endIPNum`而且`locID`我不知道这些是做什么的，但我猜想`locID`映射到另一个文件中的城市和国家/地区位置。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T08:19:11.463

您是否尝试过 Maxmind 的 Java 示例？[http://dev.maxmind.com/geoip/downloadable#Java-8](http://dev.maxmind.com/geoip/downloadable#Java-8)字段说明
见[http://dev.maxmind.com/geoip/csv](http://dev.maxmind.com/geoip/csv)

# java - 类型类 java.net.URL 的提供程序返回空值 (Arquillian)

> ID：14746181
> 
> 赞同：3
> 
> 时间：2013-02-07T07:50:24.643
> 
> 标签：java, jboss, junit, integration-testing, jboss-arquillian

我一直在努力使这个测试工作：

```
@RunWith(Arquillian.class)
@RunAsClient
public class AnnotatedEchoServletTestCase {
    @Deployment(testable = false)
    public static WebArchive getTestArchive() {
        return ShrinkWrap.create(WebArchive.class, "servlet-test.war").addClass(EchoServlet.class);
    }

    @ArquillianResource
    URL deploymentUrl;

    @Test
    public void shouldBeAbleToInvokeServletInDeployedWebApp() throws Exception {
        String requestUrl = deploymentUrl + EchoServlet.URL_PATTERN.substring(1) + "?" + EchoServlet.MESSAGE_PARAM + "=hello";
        String body = StreamReaderUtil.readAllAndClose(new URL(requestUrl).openStream());
        Assert.assertEquals("Verify that the servlet was deployed and returns expected result", "hello", body);
    }
} 
```

但是，我收到此错误：

```
Provider for type class java.net.URL returned a null value 
```

如果我`@ArquillianResource URL`从代码中删除，测试通过而没有错误。

如果我有这个 arquillian.xml，可能会缺少什么：

```
<?xml version="1.0" encoding="UTF-8"?>
<arquillian xmlns="http://jboss.org/schema/arquillian"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="
        http://jboss.org/schema/arquillian
        http://jboss.org/schema/arquillian/arquillian_1_0.xsd">

    <container qualifier="jbossas-managed" default="true">
        <configuration>
            <!-- If you want to use an existing JBoss AS installation, change the value of this property to that path -->
            <!-- If you've already set the JBOSS_HOME environment variable, you can remove this configuration block -->
            <property name="jbossHome">target/jboss-as-7.1.1.Final</property>
            <property name="outputToConsole">true</property>
        </configuration>
    </container>

</arquillian> 
```

# c - VGA 编程中的“扫描”是什么？

> ID：14746187
> 
> 赞同：0
> 
> 时间：2013-02-07T07:50:37.717
> 
> 标签：c, x86, driver, vga

我一直在阅读这个参考资料：[http](http://www.osdever.net/FreeVGA/vga/vgafx.htm) ://www.osdever.net/FreeVGA/vga/vgafx.htm 来学习 VGA 编程，但是因为我是一个刚开始学习低级编程的学生，我觉得很难去理解。参考文献说“扫描”是什么意思？

尤其是文章中的“分屏操作”部分，不清楚“扫描”与分屏有什么关系。

如果有人可以简要解释或将我链接到另一个我可以了解它的参考资料，我将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-07T07:58:50.030

扫描[线](http://en.wikipedia.org/wiki/Scan_line)是水平穿过屏幕的单通道。

# php - 控制器动作调用了两次

> ID：14746190
> 
> 赞同：2
> 
> 时间：2013-02-07T07:50:42.380
> 
> 标签：php, laravel

我正在使用 Laravel 开发一个网络应用程序，我遇到了这种“奇怪”的行为。一些控制器动作被调用两次。我知道是因为在我的日志中我看到（对于一页刷新）两套完整的条目。我的控制器动作是这样开始的：

```
public function action_edit($rid=-1) {
    // Calc Input
    $id  = Input::get('id', $rid);
    Log::TWICE("?? {$id} - {$rid}"); 
```

其中 $rid 是根据 url 请求编辑的对象 id，但是如果我在输入中得到一个 id，那么我会使用这个 id。因此，当我通过以下网址调用我的控制器时：

.../我的控制器/编辑/1

我的日志文件中有两个条目：

```
2013-02-07 00:49:15 TWICE - ?? 1 - 1
2013-02-07 00:49:16 TWICE - ?? img - img 
```

第一个是我应该看到的正常，但是第二个我不明白它来自哪里。我使用 Chrome 的开发人员工具（网络选项卡和控制台选项卡）进行了检查，但没有第二个请求的迹象！！我最初认为我可能会尝试使用一些相对 url 为 img 或 ../img 的资源，但我没有发现任何线索。当然 img 是我的模板上的图像文件夹的名称，但在我的代码中没有任何地方的相对 url img 本身......

您对这个问题有什么建议吗？我应该检查/检查我的代码中的其他什么地方？还有什么可以触发第二个电话？

**注意**：我在我的代码上使用了以下调用，但引用的操作是“显示”而不是“编辑”！

Laravel\Routing\Controller::call($controller.'@show', ...

先感谢您！

平底锅

* * *

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-07T07:55:49.210

这可能是浏览器试图请求[Favicon](http://en.wikipedia.org/wiki/Favicon)。

尝试使用 curl，您很可能不会看到该请求。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-01-15T05:09:45.943

我遇到了类似的问题，原因是我们落后的趋势科技防火墙。

数据中心正在抓取每个提交的 URL，导致它被命中两次。

这篇文章有更多信息

[http://community.trendmicro.com/t5/Worry-Free-Business-Security/WFBS-Trend-Micro-sending-our-data-from-an-IP-in-Tokyo/td-p/15600](http://community.trendmicro.com/t5/Worry-Free-Business-Security/WFBS-Trend-Micro-sending-our-data-from-an-IP-in-Tokyo/td-p/15600)

我与我们的网络管理员交谈过，他说他将从 TrendMicros 链接站点检查中排除该站点

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-03-29T09:22:33.980

这是一个老问题，但是当我搜索解决方案时，我仍然在谷歌结果的顶部看到这个，所以我决定在终于找到问题后添加这个答案。

当前标记为正确的答案只是部分正确：它与图像有关，但不限于 Favicon。

不知何故，所有主要浏览器（至少对于 IE、Firefox 和 Chrome）都决定当有一个空链接提供到应该是图像的任何地方时，它们会将其设为当前 URL。可能导致问题的地方的一些示例：

```
<img src="">
<div class="background-image:url()"></div>
<link rel="icon" type="image/x-icon" href=""> 
```

提供链接或简单地删除该行将解决问题。

# batch-file - 编写批处理脚本来编辑 .cs 文件中的文本

> ID：14746197
> 
> 赞同：1
> 
> 时间：2013-02-07T07:51:19.617
> 
> 标签：batch-file, jenkins, c#

我想知道是否有人知道如何编写批处理脚本来编辑 .cs 文件中的某些文本。我想要做的是更改 "AssemblyVersion("1.0.0.0")" "AssemblyVersion("1.0.0.x")" 其中 x++ 每次构建詹金斯的工作。最好的问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T09:30:34.390

您只想为此使用批处理脚本吗？您还可以使用**Execute Groovy Script**选项并编写一些简单的 groovy 脚本来实现这一点

```
file = new File("folder/path/myfile.cs")
fileText = file.text;
fileText = fileText.replaceAll(srcExp, replaceText);
file.write(fileText); 
```

您还可以使用 jenkins 作业中的可用环境变量来构造替换文本。这些变量将出现在 /env-vars.html

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T11:44:39.327

远离“批处理文件自动化”——只会让你伤心。
（对于初学者来说，不同版本的 Windows 支持不同的批处理命令集）

您应该将脚本中的内部版本号作为*环境变量*合并-
使用“内置”`%BUILD_NUMBER%`参数或使用 Formatted Version-Number Plugin 设置您自己
的**[格式](https://wiki.jenkins-ci.org/display/JENKINS/Version+Number+Plugin)**。

如果您确实需要编辑该“CS”文件，我建议使用**Perl**或**PowerShell**。

干杯

# c# - 从课堂下载更新表单中的进度条

> ID：14746199
> 
> 赞同：0
> 
> 时间：2013-02-07T07:51:37.183
> 
> 标签：c#, winforms, asynchronous, progress-bar

我知道这里有很多问题，但我经历了很多，但运气不佳。我是事件和后台工作人员的新手，我只是不知道实现这一点的最佳方法。

我在 C# 中有一个基本的 Windows 窗体。它包含一个进度条。我正在调用一个下载文件的类。我希望进度条根据该下载进行更新。如果一切都在同一个班级，我可以正常工作，但在这种情况下我无法让它工作。处理此问题的最佳方法是什么，我该如何处理？目前我正在这样做：

```
WebClient downloader = new WebClient();             
downloader.DownloadFileCompleted += new AsyncCompletedEventHandler(Completed);
downloader.DownloadProgressChanged += new DownloadProgressChangedEventHandler(ProgressChanged); 
```

然后为了进步改变我这样做：

```
public void ProgressChanged(object sender, DownloadProgressChangedEventArgs e)
{
    pbDownload.Value = e.ProgressPercentage;
} 
```

但是当我把除了进度条之外的所有内容放在一个单独的类中时，它就变得一团糟了。想法？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:03:40.633

我有这个女巫与您尝试做的事情大致相同并且工作正常 FStatus ... 表格参考

```
 FrmStatus FStatus = null;

        public void ProgressInit(String caption, string opis, int Max)
        {
            FStatus = new SZOKZZ.FrmStatus();
            FStatus.InitProc(Max);
            FStatus.SetCaption(caption, opis);
            FStatus.Show();
        }

        public void DLProgress(string curl, string cdl)
        {
            WebClient webClient = new WebClient();
            webClient.DownloadFileCompleted += new AsyncCompletedEventHandler(DLDone);
            webClient.DownloadProgressChanged += new DownloadProgressChangedEventHandler(DLSetProc);
            webClient.DownloadFileAsync(new Uri(curl), cdl);
        }
        private void DLSetProc(object sender, DownloadProgressChangedEventArgs e)
        {
            this._FileProcentDownloaded = e.ProgressPercentage;
            FStatus.SetProcDL(this._FileProcentDownloaded);

        }
        private void DLDone(object sender, AsyncCompletedEventArgs e)
        {
            _DlError = e.Error;
            FStatus.Dispose();
            FStatus = null;
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T10:45:49.833

你应该调用 Application.DoEvents(); 强制您的表单根据控件的新值更新控件：

```
 public void ProgressChanged(object sender, DownloadProgressChangedEventArgs e)
        {
            pbDownload.Value = e.ProgressPercentage;
            Application.DoEvents();
        } 
```

问候

# jquery - 在 Bxslider 连续滑块不起作用？

> ID：14746221
> 
> 赞同：0
> 
> 时间：2013-02-07T07:53:02.587
> 
> 标签：jquery, bxslider

在 Bxslider 中，滑块在某个幻灯片运行时停止。自动回调不起作用。请帮助！

在这里，我在代码中尝试过：

```
<script type="text/javascript"> 
        $(document).ready(function(){
            $('#slider1').bxSlider({
                infiniteLoop: true,
                auto: true,
                pager: true
            });
        });
    </script> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T08:02:11.563

有用。

尝试这个，

```
$('.bxslider').bxSlider({
  auto: true,
  autoControls: true
}); 
```

您可以根据需要使用其他选项。如果您不想显示控件，可以将其从 CSS 中隐藏。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-06T07:23:15.100

```
$(document).ready(function () {
    var slider = $('.bxslider').bxSlider({
        mode: 'horizontal', //mode: 'fade',  
        speed: 500,
        auto: true
    });
}); 
```

# c - 计数器的用户输入

> ID：14746224
> 
> 赞同：0
> 
> 时间：2013-02-07T07:53:18.587
> 
> 标签：c, algorithm, input

我对此完全陌生，我正在尝试边做边学。我有一些 c 的基本技能，并且通过研究其他应用程序并试图了解它们是如何构建的，我已经制作了大约 2 周的小型简单应用程序。

我现在正在尝试制作一个计数器，该计数器应该计算进出的人数。

除了让用户定义最大数量之外，我让一切都完美地工作。我想让用户在文本字段中输入最大数量，然后按下一个名为 start 的按钮，这将为变量 max 提供在文本框中输入的值。

我能得到一些帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T07:59:38.353

伪代码：

```
mx = Max from User;
nrPersons = 0;

While (Userinput is not ExitProgramm) do
{
   if (0 < nrPersons < mx)  // allwoed range
   {
       run your programm that works
   }
   else
   {
       if (nrPersons > mx)  =>  take action

       if (nrPersons < 0)   =>  take action
   }
} 
```

# security - 如何保护我的应用的在线 API？

> ID：14746235
> 
> 赞同：1
> 
> 时间：2013-02-07T07:53:51.997
> 
> 标签：security, login, passwords, basic-authentication

我正在为 Windows Phone 和 Android 创建一个应用程序。所以现在我正在构建一个他们都可以使用的 webapi，但我想保护它，然后我的应用程序可以使用它。我该怎么做？没有其他人然后我的应用程序将访问这些 API。

*我不想实现 OAuth。*

我有两个我正在考虑的场景：

**首先**（我在客户端存储用户名和哈希密码）：

*   通过 https/ssl 的基本身份验证，就是这样。

**第二**（我在客户端存储访问令牌）：

*   通过 https/ssl 进行基本身份验证以接收访问令牌。
*   为了获得访问令牌，用户发送一个请求 requestoken 一个令牌，验证客户端和服务器都知道客户端密钥。
*   对于对 API 的每次调用，都必须发送访问令牌以检查访问权限

我看到第二种方法的问题是服务器将 accesstoken 发送到客户端，如果有人从哪里得到它，他们将拥有用户的访问权限。

在现实世界中是如何做到的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-12T18:04:34.063

**您可以对First**稍作修改：

*   在客户端存储用户名和*密码*
*   基于 https 的基本身份验证

在客户端存储一个密码*散列*，然后发送散列并与数据库中的散列进行比较，相当于在数据库中存储一个纯文本密码，因为**散列变成了密码**。因此，您的应用程序应该像任何人类用户一样使用用户名和密码进行身份验证。

但是您对第二种方法的担忧也适用。如果有人截获了消息，他就有了你的凭据。

更安全的解决方案是**HMAC 身份验证**（现在我们正在谈论“真实世界”）。

*   用户有一个存储在服务器和客户端上的*密钥*
*   每个请求都被规范化（转换为不同的字符串，其中包含请求方法、URI、参数和时间戳）
*   规范化的请求使用密钥与 HMAC 进行散列，散列和用户 ID 在 HTTP`Authorization`标头中传递
*   在服务器上，使用相同的算法（带有来自 HTTP`Date`标头的时间戳）生成散列，并与发送的散列进行比较。
*   如果结果相等，则请求通过身份验证

一个示例是**[Amazon S3 REST API](http://s3.amazonaws.com/doc/s3-developer-guide/RESTAuthentication.html)** - 链接的文档也是如何为您自己的 API 实现它的一个很好的示例。

# python - Django：在多对多关系中交换元素

> ID：14746236
> 
> 赞同：1
> 
> 时间：2013-02-07T07:53:56.713
> 
> 标签：python, django, many-to-many, django-orm

我以标准方式在两个模型上设置了多对多关系。

```
class UserSet(models.Model):
    name = models.CharField(max_length=256)
    items = models.ManyToManyField(Item, blank=True, through='ItemUserSet')

class ItemUserSet(models.Model):
    set = models.ForeignKey(UserSet)
    item = models.ForeignKey(Item)
    order = models.IntegerField() 
```

所以我基本上有很多项目，任何数量的用户都可以为他们的个人列表创建项目集。

我想允许用户将其列表中的一个项目与另一个项目交换，并且此操作还会在碰巧拥有一个用户交换的项目的任何其他用户的列表上执行交换。

```
orig_item = Item.objects.get(uuid=orig_uuid)
repl_item = Item.objects.get(uuid=repl_uuid)
board_uuid = request.GET['board'] or None

board = UserSet.objects.filter(uuid=board_uuid) 
ius = ItemUserSet.objects.filter(item__uuid=orig_uuid)

for u_set in board:
    u_set.items_set.remove(orig_item)
    u_set.items_set.add(repl_item)
    c['msg']='OK'
for sets in ItemUserSet:
    sets.item = repl_item.pk
    sets.save() 
```

但这不起作用。我得到这个错误。

```
'ManyRelatedManager' object has no attribute 'remove' 
```

基本上，当一个用户选择要交换的两个项目时，如果该项目在任何用户板上，则应该进行交换。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T15:27:18.043

所以我弄清楚我做错了什么。

显然，在这种情况下，您需要通过“通过”模型对多对多关系本身进行任何操作。（因此可能是这个名字？）我想这就是 django 文档试图说的关于这个.. ：/

所以我把它整理出来：

```
for s in ius:
    s.item = repl_item
    s.save() 
```

它工作得很好。希望这对其他人有帮助。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-07T09:33:51.347

我不确定这是否对您来说是正确的答案，但似乎您正试图从管理器对象而不是项目本身中删除。

我没有时间对此进行测试，但是如果您可以尝试将 .all() 放在

> board = UserSet.objects.filter(uuid=board_uuid)

这实际上会拉出物品，而不仅仅是退货经理。前段时间我在模板中遇到了类似的问题，它帮助了我。

# c# - NRefactory 5 添加空行

> ID：14746237
> 
> 赞同：1
> 
> 时间：2013-02-07T07:53:59.990
> 
> 标签：c#, nrefactory

我正在使用 NRefactory 5 生成 C# 代码。在某些情况下，我需要在我的输出代码中插入一个空行以获得更易读的代码。
我在 NRefactory 中找不到任何命令来执行此操作，因此目前我发现的唯一一个解决方案是在从 syntaxTree.getText() 函数获得的输出字符串中添加一个 '\n'。
有更好的解决方案吗？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-19T17:28:39.667

您可以在 AST 中插入换行节点。例如，要在 前面插入换行符`node`：

```
node.Parent.InsertChildBefore(node, new UnixNewLine(), Roles.NewLine); 
```

输出访问者会忽略您使用的换行符类型；它最终会打电话`textWriter.WriteLine();`。

# jquery - 为 textarea 着色 CSS 语法

> ID：14746238
> 
> 赞同：0
> 
> 时间：2013-02-07T07:54:00.780
> 
> 标签：jquery, css, jquery-plugins

如果我在 textarea 中编辑 CSS，我有一个页面。我想要某种插件，在我编辑时为我的代码着色。

有没有像 CKEditor 这样的编辑器可以让你完成这个任务？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T08:07:36.303

有一个名为[ace](http://ace.ajax.org)的编辑器。这是一个多用途的编辑器。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T08:22:35.423

[您可以在此处](https://stackoverflow.com/questions/1232764/jquery-plugin-for-html-editor-with-syntax-coloring)找到更多关于语法着色的建议

# android - 使用 0 或 BIND_AUTO_CREATE 作为 bindService 的标志

> ID：14746245
> 
> 赞同：20
> 
> 时间：2013-02-07T07:54:34.920
> 
> 标签：android

通过引用[bindService(Intent service, ServiceConnection conn, int flags)](http://developer.android.com/reference/android/content/Context.html#bindService%28android.content.Intent,%20android.content.ServiceConnection,%20int%29)

我可以知道，我们什么时候应该使用 0 `flags`，什么时候应该使用`BIND_AUTO_CREATE`for `flags`？该文档没有解释标志 0 的含义。

## 使用 0 作为示例`flags`

```
// Start auto complete service.
autoCompleteServiceIntent = new Intent(AutoCompleteService.class.getName()); 
startService(autoCompleteServiceIntent);
bindService(autoCompleteServiceIntent, serviceConnection, 0); 
```

## 使用`BIND_AUTO_CREATE`as 的示例`flags`

```
mContext.bindService(new Intent("com.android.vending.billing.InAppBillingService.BIND"),
                             mServiceConn, Context.BIND_AUTO_CREATE); 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-07T08:27:06.143

对于方法`bindService(Intent, ServiceConnection, flag)`if`flag = Context.BIND_AUTO_CREATE`使用，它将绑定`service`并启动服务，但如果`"0"`使用，方法将返回 true 并且不会启动服务，直到调用 like`startService(Intent)`来启动`service`. 的常见用途之一`"0"`是，如果该服务正在运行，则连接到本地服务的活动，否则您可以启动该服务。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2014-08-13T15:34:18.380

从语义上讲，`BIND_AUTO_CREATE`如果您要绑定到一个服务，该服务的生命周期仅在它具有绑定到它的客户端时才有效。那是因为一旦所有客户端都解除绑定，它就会下降。

不要使用`BIND_AUTO_CREATE`- 或者我应该换个说法：`BIND_AUTO_CREATE`如果你真的只是暂时绑定到服务以查询或控制它，那么使用它是没有意义的，并且在你完成后该服务将继续存在是合理的. 对于这些情况，绑定用于建立连接，服务的生命周期应使用`startService()`and `stopService()`（或`stopSelf()`在某些情况下）进行管理。

谷歌在[绑定服务](http://developer.android.com/guide/components/bound-services.html)的文档中清楚地描述了后一种情况的一个常见例子：

> “......例如，音乐播放器可能会发现允许其服务无限期运行并提供绑定很有用。这样，活动可以启动服务以播放一些音乐，即使用户离开，音乐也会继续播放应用程序。然后，当用户返回应用程序时，活动可以绑定到服务以重新获得播放控制权。”

总的来说，我会说标志的使用确实区分了两种非常不同类型的用例，而不是同一事物的微调版本。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-11-16T18:16:05.580

如果您调用，则使用with`startService()`绑定到服务，然后调用，在这种情况下，服务将不会停止，直到所有绑定的客户端都解除绑定。`bindService()``BIND_AUTO_CREATE``stopService()`

在同样的情况下，如果你调用`bindService()`Service`0`将被停止并且它`onUnbind()`和`onDestroy()`回调被调用。

# javascript - jquery hide 隐藏并立即再次显示

> ID：14746246
> 
> 赞同：0
> 
> 时间：2013-02-07T07:54:44.343
> 
> 标签：javascript, jquery

jQuery 对我来说做了一些奇怪的事情：它只是不起作用并且只隐藏 div 一秒钟。我究竟做错了什么？

有问题的代码尽可能简单。

```
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<title>Experiment</title>
<script type="text/javascript" 
           src="http://code.jquery.com/jquery.min.js"></script>
</head>
<body>
<script>

        function doHiding() {
           $("div.thread").each(function() {
                    $(this).hide();
           });
        }

</script>
<a href="" onClick="doHiding()">Hide</a>

<div class="thread">I like trains.</div>
</body>
</html> 
```

我在 Linux 上使用 Chromium。我看到 div 瞬间消失，但​​它立即再次出现。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T07:57:13.187

```
 function doHiding() {
       $("div.thread").each(function() {
                $(this).hide();
       });
      return false;
    } 
```

它没有再次隐藏它是正在刷新的页面，因为`href=""`链接到同一页面

注意：我猜你`onClick="doHiding()"`只是为了演示而使用（否则在 jquery 范围内处理你的事件）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T08:04:36.103

你可以尝试改变

```
<a href="" onClick="doHiding()"> 
```

进入

```
<a href="#" onClick="doHiding()"> 
```

见：http: [//jsfiddle.net/aVNuf/](http://jsfiddle.net/aVNuf/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-07T08:07:08.027

尝试

```
href="#" 
```

它在这种情况下的工作

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-07T08:10:50.500

您可以尝试`click event`在 jquery 中`instead doing it inline`。

`[http://jsbin.com/iseref/1/edit](http://jsbin.com/iseref/1/edit)`

## html:

* * *

```
<a href="#">Hide</a>
<div class="thread">I like trains.</div> 
```

* * *

## jQuery：

* * *

```
 $(function(){
    $('a').on('click', function(e){
     e.preventDefault();
     doHiding();
    });
 });
function doHiding() {
  $("div.thread").each(function() {
    $(this).hide();
  });
} 
```

# windows-phone-8 - Windows Phone 8上的Toast通知间隔时间

> ID：14746247
> 
> 赞同：0
> 
> 时间：2013-02-07T07:54:43.863
> 
> 标签：windows-phone-8, windows-phone

我将使用后台代理的定期任务制作一个简单的 toast 通知，我要问的是如何在特定时间（例如：5 分钟）显示深度 toast 通知。注意：我们使用了这个方法 ScheduledActionService.LaunchForTest(string name, TimeSpan delay) 来检查模拟器。这是否适用于具有自定义时间间隔的设备？请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T12:52:22.447

> 定期代理通常每 30 分钟运行一次。为了优化电池寿命，周期性代理可能会与其他后台进程一起运行，因此执行时间可能会漂移多达 10 分钟。

[http://msdn.microsoft.com/en-us/library/windowsphone/develop/hh202942%28v=vs.105%29.aspx#BKMK_ConstraintsforPeriodicAgents](http://msdn.microsoft.com/en-us/library/windowsphone/develop/hh202942%28v=vs.105%29.aspx#BKMK_ConstraintsforPeriodicAgents)

但是，您可以通过推送通知服务发送祝酒词。您可以随时这样做。

# ruby-on-rails-3 - Nginx 子域关闭问题

> ID：14746248
> 
> 赞同：0
> 
> 时间：2013-02-07T07:54:52.447
> 
> 标签：ruby-on-rails-3, nginx, passenger, linode

我有两个在 linode 上运行的 rails 应用程序。操作系统是ubuntu，nginx服务器。子域实例给出问题。1天后它正在下降。在重新启动服务器时，它工作正常。

错误日志显示-“*1 上游超时（110：连接超时），同时从上游读取响应标头”。

我搜索了这个问题，发现增加 proxy_read_timeout 值可以解决问题。但我找不到原因。

是否存在过度利用资源的问题？如 linode 管理器所示，我有 24 GB 的存储空间和 512 MB 的 RAM。我总共有 10 个 cron 工作（每个应用程序中有 5 个）。它们都同时开始。这可能是问题吗？

请告诉我它的原因和解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T19:08:21.383

这听起来绝对像是一个资源问题......或者其他东西正在扼杀/占用你的应用程序。通常，上游请求是从 Web 服务器到应用服务器的请求，因此如果您的应用正在做一些不正常的事情，这将导致超时发生。我不确定默认超时是多少，但我猜它相当短。增加超时至少可以让您有时间查看进程堆栈的系统资源，以尝试找出发生了什么。

# wpf - 如何使用 WCF、Iobservable 和 iobserver 向所有客户端发送通知

> ID：14746249
> 
> 赞同：1
> 
> 时间：2013-02-07T07:55:00.350
> 
> 标签：wpf, wcf, system.reactive

我将 WPF 和 WCF 用于客户端服务器应用程序。但我有一个问题。

如何将客户端的任何更新通知给其他客户端。

```
Server(WCF)
Client1(WPF)
Client2(WPF) 
```

如果 client1 输入任何新记录，立即通知发送到 client2。

请建议我完成这项完整任务的最佳方法。

谢谢..

# php - PHP QueryString 404 对象未找到

> ID：14746251
> 
> 赞同：0
> 
> 时间：2013-02-07T07:55:15.360
> 
> 标签：php, curl, query-string, file-get-contents

我是一名 Android 开发人员，对 PHP 知之甚少。从查询字符串中读取变量时，我遇到了 404 Error Object Not Found 这个问题。我添加了 .htaccess 文件，结果错误确实消失了，但变量没有被读取。虽然如果我读取没有查询字符串的 URL，它会完美运行。我想不出它不应该工作的原因。这是我尝试过的：

PHP 文件：

文件名：file_getTest.php

```
function file_get_contents_curl($url) {
  $ch = curl_init();
  $timeout = 5;
  curl_setopt($ch, CURLOPT_URL, $url);
  curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
  curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, $timeout);
  $data = curl_exec($ch);
  curl_close($ch);
  return $data;
}
$baseUrl='http://xyz.com?language=en';
$language = $_GET['language'];
$session = $_GET['sessionID'];
$placeOrigin=$_GET['place_origin'];
$typeOrigin=$_GET['type_origin']; 
$nameOrigin=$_GET['name_origin'];
$homePage =($baseUrl."&sessionID=".$session."&place_origin=".$placeOrigin."&type_origin=".$typeOrigin."&name_origin=".$nameOrigin);

//if "echo file_get_contents($baseUrl)" is executed it works fine

//echo file_get_contents($homePage); //I have tried file_get_contents but no use

echo file_get_contents_curl($homePage); 
```

.ht 访问代码：

```
RewriteEngine on
RewriteRule .* file_getTest.php 
```

如果没有 .htacess 文件并使用**curl()**我收到此错误：

在此服务器上未找到请求的 URL /test/file_getTest.php&sessionID= **value read** &place_origin= **value read** &type_origin= **value read** &name_origin= **value read 。**

使用 .htaccess 文件并使用**curl()**我收到以下错误：

HTTP/1.1 404 对象未找到

如果没有 .htacess 文件并使用**file_get_contents()**我收到此错误：

在此服务器上未找到请求的 URL /test/file_getTest.php&sessionID= **value read** &place_origin= **value read** &type_origin= **value read** &name_origin= **value read 。**

使用 .htaccess 文件并使用**file_get_contents()**我收到以下错误：

file_get_contents( [http://xyz.com?language=en&sessionID=&place_origin=&type_origin=&name_origin=](http://xyz.com?language=en&sessionID=&place_origin=&type_origin=&name_origin=) )：打开流失败：HTTP 请求失败！HTTP/1.1 404 Object Not Found in C:\wamp\www\file_getTest.php 第 20 行

我将不胜感激任何帮助。我已经在这个问题上停留了一段时间，似乎无法找到解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T21:03:33.600

问题已解决。这看起来很奇怪，但我所做的只是将 $homepage 中的双引号 "" 与其余变量中的单引号交换。之后，我对所有查询字符串参数进行了编码，它就像一个魅力。

所以最终代码如下所示：

```
$baseUrl="http://xyz.com?language=en";

$session = $_GET["sessionID"];
$placeOrigin=$_GET["place_origin"];
$typeOrigin=$_GET["type_origin"]; 
$nameOrigin=$_GET["name_origin"];

$placeDestination=$_GET["place_destination"];
$typeDestination=$_GET["type_destination"];
$nameDestination=$_GET["name_destination"];

$sessionE=urlencode($session);
$placeOriginE=urlencode($placeOrigin);
$typeOriginE=urlencode($typeOrigin);
$nameOriginE=urlencode($nameOrigin);

$placeDestinationE=urlencode($placeDestination);
$typeDestinationE=urlencode($typeDestination);
$nameDestinationE=urlencode($nameDestination);

$homepage=$baseUrl.'&sessionID='.$sessionE.'&place_origin='.$placeOriginE.'&type_origin='.$typeOriginE.'&name_origin='.$nameOriginE.'&place_destination='.$placeDestinationE.'&type_destination='.$typeDestinationE.'&name_destination='.$nameDestinationE; 
```

# css - 为什么专业网站的 #id 和 .class 名称很奇怪？

> ID：14746261
> 
> 赞同：44
> 
> 时间：2013-02-07T07:55:50.240
> 
> 标签：css

我注意到 facebook 和 gmail 的 #id 和 .class 名称非常奇怪。

他们是否故意混淆它们？还是他们的 IDE 做到了？为开发取这样难以理解的名称似乎不合逻辑

例如 - 这是 gmail 的刷新按钮。将 id/class 设置为“刷新”是合理的

```
<div class="G-Ni J-J5-Ji" style="">
<div class="T-I J-J5-Ji nu T-I-ax7 L3" act="20" role="button" tabindex="0" style="-webkit-user-select: none;" data-tooltip="Refresh" aria-label="Refresh">
<div class="asa">
<span class="J-J5-Ji ask">&nbsp;</span><div class="asf T-I-J3 J-J5-Ji"></div></div></div></div> 
```

和 facebook 的发布按钮用于状态更新

```
<button class="_42ft _42fu _11b selected _42g-" type="submit">Post</button> 
```

关于性能 - 较短的名称真的会影响加载时间吗？看起来（对于 facebook 或 gmail 之类的大页面）多出 100kb，而今天的宽带线路在所需的时间内可以忽略不计

例外情况 - twitter 和 pinterest 具有可读的名称

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-02-07T12:39:13.273

### 更新：CSS 模块

这种做法现在被称为“CSS 模块”，并且随着 Webpack 的流行而被广泛采用。这个概念是将 CSS 选择器转换（散列）成唯一的类名，以确保模块之间没有样式冲突。

Webpack的[css-loader 模块](https://github.com/webpack-contrib/css-loader#css-modules)有一个`modules`启用此功能的选项。它通常与 React 一起使用，您可以通过导入 CSS 文件提供的 JS 对象在标记中分配类名，例如

```
import styles from './style.css 
```

如果那个 CSS 文件有一个选择器，例如`.sidebar`，它通过

```
className={styles.sidebar} // JSX 
```

Webpack 将散列类名和匹配选择器以确保唯一性。

### 原答案↓</h3>

这将是缩小和压缩的产物。毫无疑问，它会用人类可读的 id 和类名来编写，但就像 Zeta 评论的那样，然后用缩写代替这些以节省字节。这样的事情对于一般的网站来说并不重要，但是当你每分钟获得数十亿的网页浏览量时，这一切都很重要。

看看jQuery的[开发](http://code.jquery.com/jquery-1.9.1.js)版和[生产版之间的区别。](http://code.jquery.com/jquery-1.9.1.min.js)这是缩小和压缩结果的示例。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-18T12:36:54.753

发生这种情况是因为他们编译了他们的代码，我的意思是，像谷歌一样，他们用 Java 编写代码，其余的一切都是用[GWT](http://code.google.com/webtoolkit/)处理的，他们使用 C 编写的 facebook，然后做同样的事情。

# .net - 在桌面下打开和关闭 Windows 8 触摸键盘 tabtip

> ID：14746263
> 
> 赞同：5
> 
> 时间：2013-02-07T07:55:51.933
> 
> 标签：.net, windows, keyboard

我需要从 Windows 8（桌面 winform .NET）下的程序中关闭 tabtip 键盘。我发现在需要时打开它，运行 TabTip.exe 以显示 Windows 8 Touch 键盘，但我无法在需要时关闭它！我试图用 process.kill 杀死进程，但它不起作用，有人知道怎么做吗？

问候让-克劳德

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2015-09-27T17:04:47.017

Tabtip.exe 打开，然后在再次关闭之前生成两个进程。所以 process.kill 命令不起作用，因为原始进程已经关闭。

这会查看所有打开的进程并关闭任何与 tabtip 相关的内容。

```
For Each pkiller As Process In Process.GetProcesses
      If String.Compare(pkiller.ProcessName, "tabtip", True) = 0 Then
          pkiller.Kill()
      End If
Next 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-30T13:53:09.857

试试下面的 - 用 TabTip 替换 Osk

公开课形式1

```
Private oskProcess As Process

Private Sub openButton_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles openButton.Click
    If Me.oskProcess Is Nothing OrElse Me.oskProcess.HasExited Then
        If Me.oskProcess IsNot Nothing AndAlso Me.oskProcess.HasExited Then
            Me.oskProcess.Close()
        End If

        Me.oskProcess = Process.Start("osk")
    End If
End Sub

Private Sub closeButton_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles closeButton.Click
    If Me.oskProcess IsNot Nothing Then
        If Not Me.oskProcess.HasExited Then
            'CloseMainWindow would generally be preferred but the OSK doesn't respond.
            Me.oskProcess.Kill()
        End If

        Me.oskProcess.Close()
        Me.oskProcess = Nothing
    End If
End Sub 
```

结束类

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-12-01T22:44:04.907

我发现了一个未记录的用于控制屏幕键盘的 COM 接口。查看我的其他答案以获取详细信息[https://stackoverflow.com/a/40921638/332528](https://stackoverflow.com/a/40921638/332528)

# sql-server - 签入时如何解决 TFS 错误 TF246021 和 SQL Server 错误 500200？

> ID：14746267
> 
> 赞同：19
> 
> 时间：2013-02-07T07:55:59.140
> 
> 标签：sql-server, tfs

我正在尝试签入一个文件，并且一个文件（一个且只有一个文件）在签入时出现问题。该文件已被多次删除并取消删除（由于架构和设计冲突）现在是 TFS抛出此错误：

> TF246021: 处理您的请求时出错。技术信息（针对管理员）：SQL Server 错误：500200

正如我们看到事件查看器的日志文件，问题是：

> 违反主键约束“PK_tbl_PendingDelta”。无法在对象“dbo.tbl_PendingDelta”中插入重复键。

但是， 中没有待处理的更改`dbo.tbl_PendingDelta`。事实上，这张桌子完全是空的。这里有什么问题？我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2014-06-27T01:50:03.080

这似乎与工作区有关。我在一个工作区遇到了这个问题，但能够在另一个工作区执行触发错误（回滚先前的回滚）的源代码控制操作，没有任何问题。

重新创建工作区可能是一种解决方案。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2020-01-11T18:25:15.973

1.从**文件**菜单中，单击**源代码管理**，然后单击**工作区**。

2.在管理**工作区**对话框中，在名称列下，突出显示要**删除**的工作区，然后单击**删除**。

3.在确认对话框中，单击确定。

你的工作完成了。

并再次映射您的解决方案，然后您就可以正常工作。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-11-11T10:29:12.573

我的解决方案是排除罪魁祸首并检查其余部分。
然后我检查了罪魁祸首。

（如果您有门控签到，则可能必须先将其关闭。）

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-06-06T13:15:53.513

我怀疑更改集中的项目以某种方式两次使用相同的 ID，所以第一个 INSERT 很好，但第二个会导致违规。但是，由于它们在同一个事务中，第一个 INSERT 被回滚，之后您在 tbl_PendingDelta 中看不到任何内容。

有关此问题的另一个示例，请参阅[http://connect.microsoft.com/VisualStudio/feedback/details/693450/tfs-2010-violation-of-primary-key-constraint-pk-tbl-pendingdelta](http://connect.microsoft.com/VisualStudio/feedback/details/693450/tfs-2010-violation-of-primary-key-constraint-pk-tbl-pendingdelta)。

我认为您应该通过[Microsoft 产品支持服务](http://support.microsoft.com/)来解决这个问题。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-03-10T19:34:05.963

我也发生过类似的事情。以前我已经回滚了一些更改，并在解决方案和项目文件中再次以相同的名称重新引入了这些更改。我发现的问题是 sql 脚本重命名不在 Sql.proj 文件中，我需要添加它，然后关闭解决方案以接受对 proj 文件的更改。一旦我更正了重命名，确保它在项目文件中，然后我可以将其签入。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2015-07-14T08:40:23.677

我重命名了我的工作区文件夹（包含 $tf 的顶层），然后在我想要的分支上获取了最新信息，然后取消搁置工作。

# lua - lua - 从表中访问表项

> ID：14746269
> 
> 赞同：4
> 
> 时间：2013-02-07T07:56:05.497
> 
> 标签：lua

首先，我刚刚开始 Lua，所以如果这不可能或很明显，对不起。

我正在尝试做一个面向对象的实现，例如：

```
Parent = {
  ChildVariable = "Hello",
  ChildFunction = function ()
     print(Parent.ChildVariable)
  end  
} 
```

我想知道的是，除了做'Parent.ChildVariable'，我是否可以做'ChildVariable'，它在表格中，所以我认为有一些方法可以访问它。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-07T07:58:16.463

```
Parent = {
  ChildVariable = "Hello",
  ChildFunction = function(self)
     print(self.ChildVariable)
  end  
}

Parent:ChildFunction() 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-07T07:59:53.960

Lua 有一个特殊的结构：冒号操作符。以下两行是等效的：

```
tbl.func(tbl) 
```

和

```
tbl:func() 
```

# actionscript-3 - AS3 air iOS Android 应用控制音量

> ID：14746276
> 
> 赞同：0
> 
> 时间：2013-02-07T07:56:32.557
> 
> 标签：actionscript-3, air

我想知道是否有人可以阐明如何从空中应用程序中控制设备（iOS 和 Android）的音量？

我正在使用 URLRequest 加载我想控制音量的 MP3 文件。我试过 SoundTransform 但这似乎没有任何作用。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:07:26.323

通过 SoundTransform 对象设置音量值。你检查这个链接做 [http://livedocs.adobe.com/flex/3/html/help.html?content=Working_with_Sound_12.html](http://livedocs.adobe.com/flex/3/html/help.html?content=Working_with_Sound_12.html)

# c# - 使用 .net 为 x64 显式编译是否有意义？

> ID：14746279
> 
> 赞同：3
> 
> 时间：2013-02-07T07:56:53.830
> 
> 标签：c#, visual-studio, compilation, x86, 64-bit

目前，我正在创建一个 MSI，用于在 x64 系统上安装我的 .net 编写的 (C#) 软件。这是必要的，因为我生成了一些注册表项，并且我不想以编程方式决定我必须指向哪个注册表路径（避免 WOW6432 节点）。

在此期间，我问自己，是否有必要为 x64 系统（运行配置“x64”）显式编译我的软件。目前，我总是在 Visual Studio 平台上编译我的软件，与“任何 CPU”无关。在我的源代码中，我不区分 x64 和 x86。

CIL 代码由 JIT 编译器编译，所以我认为它会在运行时显式编译为 64 位，还是我错了？

Visual Studio 中显式的“x64”编译和与平台无关的编译之间有什么区别？x64 标志如何影响编译？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T08:13:27.620

如果您的程序（使用任何 CPU）在 64 位平台上启动，它将以 64 位模式启动。这通常会很好地工作 - 例外情况是，如果您的程序依赖于*只有 32 位版本*可用的本机库。然后，当调用它时，它将无法加载该库（因此任何问题都可能不会立即显现）。

也可以在运行时使用标志强制 32 位模式。

# postgresql - 如何更新（替换）Postgis 表？

> ID：14746280
> 
> 赞同：0
> 
> 时间：2013-02-07T07:56:57.597
> 
> 标签：postgresql, postgis, shapefile

我想“更新”一个“世界各国”-postgis-table，方法是用我的开发服务器中的另一个 shapefile（从 Postgis 数据库中转储）形式来替换它。

现在，我不能只执行“pgsql2shp”，因为这会引发错误，因为表已经存在。并且将现有表重命名为“xx_original”之类的名称也不起作用（“xx_geom_gist 已经存在”，然后是错误消息）。

我不想直接删除（旧）表，因为我想将其保留为备份。

那么，解决这个问题的“正确”方法是什么？感谢您的任何提示！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-24T06:12:49.430

如果您正在寻找 upsert 功能，那么如果您使用的是 PostgreSQL 9.1 或更高版本，那么显而易见的方法是将数据复制到临时表中，然后使用 CTE 进行更新。

一个例子可能是：

```
 WITH upsert as (
     UPDATE my_countries set shape = (select shape from temp_countries t 
                                       where t.name = my_countries.name)
      WHERE name IN (select name from temp_countries)
    RETURNING *
 )
 INSERT INTO my_countries
 SELECT * FROM temp_countries
  WHERE name NOT IN (select name from upsert); 
```

# solr - 基于用户的solr搜索

> ID：14746287
> 
> 赞同：0
> 
> 时间：2013-02-07T07:57:26.627
> 
> 标签：solr, lucene

我是 solr 的新手。所以请多多包涵。

## 用例

*   用户可以将他的照片分享给朋友或公开或将其设为私有。
*   用户可以搜索人物或照片（他应该只查看与他共享的公开照片）。

我已将我的关系数据非规范化为 solr 模式。我已将用户对象和照片对象合并到 solr 架构中 ![架构](../Images/5f6fc06b97dd4764ab3f300c1e951aa1.png)

所以，

*   如果用户 jack（用户 3）正在搜索“picnic”，他不应该看到 photo_1，而是看到 photo_2。
*   如果用户 venu 正在搜索“picnic”，他应该会看到 photo_1 和 photo_2。

如何强制 solr 查看friends_ids、share_level 字段？我可以使用 facet.field 吗？动态字段是否适用于这种情况？我已经阅读了一些教程，但我没有得到清晰的图片。

希望你们对此有所了解。这样我就可以前进了。我希望这应该是可能的。

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T08:11:35.173

您应该有一个字符串字段`share_level`，可能的值为`private, public, friends`。

您还应该有一个 multiValued 字段`friends_ids`，
它应该存储每个用户 id 而不是当前的 CSV 格式

注意：您应该修改此列类型，**切勿**在 mysql 中使用 CSV，使用正确的实体关系

因此，一旦您准备好字段并完成重新索引，
搜索照片将只是：

```
+name:$search +(share_level:public (+share_level:friends +friends_ids:$uid))

$search = picnic
$uid = 3 (jack) 
```

# c - 如何设置寄存器中的位？

> ID：14746290
> 
> 赞同：1
> 
> 时间：2013-02-07T07:57:40.957
> 
> 标签：c, registry, bit, memory-address

有注册地址（第一个？）SPI1。有带偏移的结构。我想这意味着 SPI1_REG_BASE + offset = 一些 SPI 注册表的地址

```
#define SPI1_REG_BASE         (0x01F0E000)
//-----------------------------------------------------
//Register Structure & Defines
//-----------------------------------------------------
typedef struct
{
  volatile uint32_t SPIGCR0;        // 0x0000
  volatile uint32_t SPIGCR1;        // 0x0004
  volatile uint32_t SPIINT;         // 0x0008
  volatile uint32_t SPILVL;         // 0x000C
  volatile uint32_t SPIFLG;         // 0x0010
  volatile uint32_t SPIPC0;         // 0x0014
  volatile uint32_t SPIPC1;         // 0x0018
  volatile uint32_t SPIPC2;         // 0x001C
  volatile uint32_t SPIPC3;         // 0x0020
  volatile uint32_t SPIPC4;         // 0x0024
  volatile uint32_t SPIPC5;         // 0x0028
  volatile uint32_t RSVD0[3];       // 0x002C
  volatile uint32_t SPIDAT0;        // 0x0038
  volatile uint32_t SPIDAT1;        // 0x003C
  volatile uint32_t SPIBUF;         // 0x0040
  volatile uint32_t SPIEMU;         // 0x0044
  volatile uint32_t SPIDELAY;       // 0x0048
  volatile uint32_t SPIDEF;         // 0x004C
  volatile uint32_t SPIFMT0;        // 0x0050
  volatile uint32_t SPIFMT1;        // 0x0054
  volatile uint32_t SPIFMT2;        // 0x0058
  volatile uint32_t SPIFMT3;        // 0x005C
  volatile uint32_t INTVEC0;        // 0x0060
  volatile uint32_t INTVEC1;        // 0x0064
} spi_regs_t; 
```

有一些定义和指针*spi的定义

```
#define CSDEF0 (0x00000001) //bit 0
#define CSHOLD (0x10000000) //bit 28
spi_regs_t *spi = (spi_regs_t *)SPI1_REG_BASE; 
```

我误解了位的设置。例如，

```
spi->SPIDEF |= CSDEF0 //set 0 bit in the registry field 
```

我知道 SPIDEF - 是具有偏移地址
4Ch (0x01F0E000 + 0x4C) 的 SPI 寄存器。但是为什么 CSDEF0 是位 0 ？SIDEF 注册表中有一个字段 CSDEF（0-7 位）。这是否意味着 7 位 CSDEF 的地址为 0x00000008 ？5位的地址为0x00000006？

但是为什么 SPIDAT1 注册表的 CSHOLD 字段的地址为 0x10000000 ？

```
spi->SPIDAT1 |= CSHOLD  //set bit 28 
```

SPIDAT1 寄存器有偏移地址 3Ch (0x01F0E000 + 0x3C) 它确实有字段 CSHOLD (第 28 位)

|= 在这种情况下如何工作？

我将不胜感激任何帮助弄清楚...所有这些 %)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-07T08:21:41.637

我认为您误解了寄存器的地址和值的概念。

当您说`CSDEF0`SPI1 模块的寄存器位于 address时，您是对的（基于您提供的结构描述） `0x01F0E000 + 0x4C`。这个地址永远不会改变，它是由硬件设计定义的。

现在使用以下语句，您不是在操作地址，而是在操作寄存器的值：

```
spi->SPIDEF |= CSDEF0; //set 0 bit in the registry field 
spi->SPIDAT1 |= CSHOLD;  //set bit 28 
```

运算符是`|=`按位 OR 和赋值运算符。它相当于以下内容：

```
spi->SPIDEF = spi->SPIDEF | CSDEF0; //set 0 bit in the registry field 
spi->SPIDAT1 = spi->SPIDAT1 | CSHOLD;  //set bit 28 
```

正如`CSDEF0`定义的那样`0x00000001`，在第一条语句中，您实际上是在设置`SPIDEF`寄存器的 LSB 位，而将所有其他位保留为其原始值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T08:18:22.267

> 但是为什么 CSDEF0 是位 0 ？

因为：

```
#define CSDEF0 (0x00000001) //bit 0 
```

它们的意思不是“值为 0 的位”，而是“位置 0 的位”。

关于：

> #define CSHOLD (0x10000000) //bit 28

看看将十六进制表示法转换为二进制表示法，它就会变得清晰。

> |= 在这种情况下如何工作？

这些位置（0 和 28）处的 1 位被**或**运算*到*之前在该变量中的值中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-07T08:19:37.057

**但是为什么 CSDEF0 是位 0 ？**

此宏的目的是将位 0 ​​设置为 1。如果此宏与任何寄存器进行或运算，则该寄存器的位 0 设置为 1。

例如

让我们采取`spi->SPIDEF = 0x050A`即0x050A ==> 0000 0101 0000 1010

现在使用 CSDEF0 设置 spi->SPIDEF 的第 0 位。

```
0x050A     ==> 0000 0101 0000 1010 
CSDEF0     ==> 0000 0000 0000 0001
               -------------------- 
```

`spi->SPIDEF ==> 0000 0101 0000 1011`

**为什么 SPIDAT1 注册表的 CSHOLD 字段的地址为 0x10000000？**

与 CSDEF0 用于表示第 0 位的方式相同，CSHOLD 用于第 28 位。

我猜你对 0x000001 和 000001 (???) 的十六进制和二进制表示感到困惑。

```
0x01 is 01\. 
0x02 is 10\. 
0x100 is 1 0000 0000 
0x1000 is 1 0000 0000 0000 
0x10000000 is 1 0000 0000 0000 0000 0000 0000 0000
              ^-- Bit 28 starting from bit-0 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-07T08:21:31.497

位没有单独的地址。

相反，嵌入式世界中的一种常见做法是将几个小属性连接到一个更大的寄存器。例如，可以将实时调度程序的一些内部定义为：

```
 31 30 29 28 27     26 25 24 32 22     21 20 19     18          0
 [ max_priority  ] [ current_priority] [ reserved]   [  address_xxxx ] 
```

这里 max_priority 是 5 位无符号整数，值为 0-31；也可以将 max_priority0 定义为该值的最低有效位。所有这些参数都将在相同的绝对地址（REG_BASE + 偏移量）内访问。

# jquery - 如何在特定日期的多日事件栏中显示图标？

> ID：14746295
> 
> 赞同：1
> 
> 时间：2013-02-07T07:57:58.610
> 
> 标签：jquery, fullcalendar

我正在寻找在 FullCalendar 月视图的多日事件中的特定日期显示图标的最佳方式。这里的想法是在更长的时间内显示里程碑日期。

我使用 Event div 中的相对定位模拟了这个屏幕截图，但我怀疑这可能会很快变得非常难看。

`eventRender`在回调的上下文中是否有样板方法来执行此操作？是否可以确定某一天在事件下方/内部的位置？

```
<div class="fc-event-inner fc-event-skin">
    <span class="fc-event-title">SB-019902</span>
    <img title="Stone 1" style="position: relative; left: 100px;" src="w.png" />
    <img title="Stone 2" style="position: relative; left: 200px;" src="w.png" />
</div> 
```

![在此处输入图像描述](../Images/45e4ead0c038019528d0b8b2a4d5706f.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T00:14:50.713

为了结束这个问题的循环，我的实现有点像这样：

在 FullCalendar.js 的第 4662 行和第 4663 行之间添加了代码，以每天注入一个包含一个单元格的表格标签，并使用序列化日期添加 CSS 类属性来指示该单元格的日期：

```
html +=
    "<div class='dayTableWrapper  " + ((seg.isStart) ? "isStart" : "isEnd") + "'><table class='dayTable'><tr>";

    for (var colNum = leftCol; colNum <= rightCol; colNum++) {
        var classDateString = formatDate(t.cellDate({ row: seg.row, col: colNum }), 'u').substring(0, 10);
        html +=
        "<td class='dayContainer dayContainer-" + colNum + " date-" + classDateString + "'></td>";
    }
html +=
    "</tr></table></div>";
html +=
    "</div>"; 
```

它产生这样的标记：

```
<div class="fc-event-inner fc-event-skin">
    <span class="fc-event-title _fc1">Event Title</span>
    <div class="dayTableWrapper  isEnd">
        <table class="dayTable">
            <tbody>
                <tr>
                    <td class="dayContainer dayContainer-0 date-2013-04-07"></td>
                    <td class="dayContainer dayContainer-1 date-2013-04-08"></td>
                    <td class="dayContainer dayContainer-2 date-2013-04-09"></td>
                    <td class="dayContainer dayContainer-3 date-2013-04-10"></td>
                    <td class="dayContainer dayContainer-4 date-2013-04-11"></td>
                    <td class="dayContainer dayContainer-5 date-2013-04-12"></td>
                    <td class="dayContainer dayContainer-6 date-2013-04-13"></td>
                </tr>
            </tbody>
        </table>
    </div>
</div> 
```

然后，我能够按索引或日期值定位一周中的各个单元格，以便添加代表里程碑元素的图标图像。

# silverlight - 创建便携式silverlight用户控件

> ID：14746296
> 
> 赞同：0
> 
> 时间：2013-02-07T07:58:04.740
> 
> 标签：silverlight, windows-phone-7, user-controls, portable-class-library

我正在尝试制作一个可移植的 silverlight 用户控件，用于 2 个单独的项目：一个是 WP8 项目，另一个是 Windows Store。

在他们两个中，我都使用 xaml/C#，并基于 silverlight。但是我创建的silverlight 控件只在WP8 中有效，在Windows Store 中无效。

```
cannot convert from 'Controls.ProfileBox' to 'Windows.UI.Xaml.UIElement' 
```

是否可以创建一个可在两个项目中使用的控件的 silverlight 类库？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:22:19.170

你如何编译你的不同项目？

在 c#/xaml 中的框架之间共享代码的最简单方法是在所需的farmework 中编译代码：

您需要使用“添加为链接”功能（右键单击项目 -> 添加现有项目 -> 将“添加”按钮更改为“添加为链接”）。这样，您只有一个版本的源文件，但您有 N 个项目用于要编译的 N 个框架。

# linq - Linq：如何测试列表 对于其中任何一个值 == true 的条件？

> ID：14746306
> 
> 赞同：5
> 
> 时间：2013-02-07T07:58:50.217
> 
> 标签：linq

我有一个清单，

```
List<bool> MyList;
MyList.Add(true);
MyList.Add(false);
MyList.Add(false); 
```

什么是使用 linq 测试任何值是否为真的干净方法？我试过

```
MyList.Find(SomeBoolean=>SomeBoolean) 
```

但结果很奇怪。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-07T08:01:40.730

尝试 ：

```
bool test = MyList.Any(x => x); 
```

但是你必须在插入任何东西之前初始化你的列表。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-07T08:01:56.313

使用任何

```
var anyTrue = MyList.Any(i => i); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-07T08:28:49.880

如果要列出所有`true`值

```
List<bool> MyList = new List<bool>();
MyList.Add(true);
MyList.Add(false);
MyList.Add(false);
var listTrue = MyList.Where(c => c); 
```

我想知道，您的实际情况是什么，`Class`因为如果您愿意，`.Find`结果是一样的。

```
var b = MyList.Find(c => c) 
```

也许你忘了声明`var`or `DataType`？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T20:29:47.260

myList 是一个布尔列表

myList=getSelectedChannels(); 列出所有True= myList.FindAll(a => a == true);

allTrue 将是符合条件的 bool 列表（bool 为真）。现在只需说 allTrue.Count 即可获取该列表中的项目数。

# c# - 来自外部数据库驱动程序的意外错误 (22)

> ID：14746308
> 
> 赞同：0
> 
> 时间：2013-02-07T07:59:06.900
> 
> 标签：c#

这是我的代码，它位于将 .xls 文件转换为 .csv 的方法的开头。

```
sourceFile="C:\\Users\\myUser\\Desktop\\Folder\\myFile.xls";

string strConn = "Provider=Microsoft.ACE.OLEDB.12.0;Data Source=" + sourceFile + ";Extended Properties=\"Excel 8.0;HDR=No;IMEX=1\"";

OleDbConnection conn = new OleDbConnection(strConn);

conn.Open(); 
```

它在最后一行崩溃，抛出这个异常：来自外部数据库驱动程序的意外错误（22）。

我尝试删除 IMEX=1 部分，但它仍然不起作用。

问题是什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-08-29T18:08:45.573

我也遇到了同样的问题，但我不得不将电子表格重命名为更短的名称，然后它才起作用。（SQL 2012 Dev）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-14T07:32:01.763

奇怪的是，我替换了另一个文件夹中的文件并且它起作用了。我不知道为什么会这样。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-07T08:06:42.130

尝试使用`Microsoft.Jet.OLEDB.4.0`提供者。另外，我建议您使用`OleDbConnectionStringBuilder`来构建`OleDbConnectionString`：

```
var oleConnectionStringBuilder = new OleDbConnectionStringBuilder { Provider = "Microsoft.Jet.OLEDB.4.0" };
oleConnectionStringBuilder.DataSource = sourceFile;
oleConnectionStringBuilder.Add("Extended Properties", "Excel 8.0");
oleConnectionStringBuilder.Add("HDR", "No"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-07T08:32:15.857

Microsoft Excel 驱动程序似乎有问题。尝试在另一台 PC 上执行该程序，看看是否出现此错误。

请看一下这篇知识库文章：

[http://www.codeproject.com/KB/database/ReadExcel07.aspx](http://www.codeproject.com/KB/database/ReadExcel07.aspx)。您可以使用 OleDb 连接 Excel 文件。

我希望这可以帮助您，并在您尝试后随时跟进。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-03-16T05:00:58.493

我已通过卸载 Microsoft access DB Engine 安全更新来解决此问题。还卸载 Access DB 引擎 2007 的 Service pack3 更新。希望这将工作...

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-07-20T09:49:33.163

就我而言，我重命名了 excel 文件的工作表名称（它太长了），之后它就起作用了。 [![在此处输入图像描述](../Images/cdaaca286cc8004520701fb842a83907.png)](https://i.stack.imgur.com/by36Z.png)

我正在使用 ：

```
string connectionString = "Provider=Microsoft.ACE.OLEDB.12.0;Data Source=" + FilePath + ";Extended Properties=\"Excel 12.0 Xml; IMEX=1;Importmixedtypes=text;\""; 
```

# javascript - jquery getScript 数据

> ID：14746310
> 
> 赞同：0
> 
> 时间：2013-02-07T07:59:12.580
> 
> 标签：javascript, jquery

```
<script>
$.getScript("javascriptfile.js", function(data ){

   alert("Script loaded and executed."+data);

});
</script> 
```

数据返回未定义。我想获取 javascriptfile.js 的响应数据或内容

下面测试不工作

```
$.getScript("http://code.jquery.com/jquery-1.9.1.min.js", function(data){

   alert("Script loaded and executed."+data);

}); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-07T08:32:11.043

有问题

```
//This one will NOT work
$.getScript("http://jquerymobile.com/branches/popup-widget/js/", 
        function (data) {
               alert("Script loaded and executed." + data);
});

//This one will work
$.getScript("js/jquery.min.js", 
        function (data) {
               alert("Script loaded and executed." + data);
}); 
```

`$.getScript()`如果您在域之外发出跨源请求，则不提供脚本文件的内容。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-07T08:09:44.410

请运行此程序并回复异常消息，以便我可以跟进您：

```
$.getScript("javascriptfile.js")
.done(function(script, textStatus) {
    alert(textStatus);
})
.fail(function(jqxhr, settings, exception) {
    alert(exception);
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-07T08:05:29.473

我不知道为什么你想要文件的内容，因为 getScript 在加载它后执行它，并且回调只是对你刚刚加载的必要调用函数/插件/任何内容的回调；如果您想要文件的内容，`$.get`但无论如何

```
do 
function(data, textStatus, jqxhr) {
    console.log(data); //data returned
    console.log(textStatus); //success
    console.log(jqxhr.status); //200
    console.log('Load was performed.');
  }); 
```

发现“问题”（如果有）（来自[http://api.jquery.com/jQuery.getScript/](http://api.jquery.com/jQuery.getScript/)）

# box2d - box2djs中的弹簧效果

> ID：14746312
> 
> 赞同：4
> 
> 时间：2013-02-07T07:59:18.010
> 
> 标签：box2d, box2dweb

我想使用 box2djs 模拟弹簧效果。经过大量搜索后，我认为可以使用该距离关节（我不确定）。我尝试了以下代码，但我没有看到身体之间的任何关节。

```
 distance_joint = new b2DistanceJointDef();

distance_joint.body1 = Body1;

distance_joint.body2 = Body2;

distance_joint.localAnchorA = new b2Vec2(0, 0);

distance_joint.localAnchorB = new b2Vec2(0, 0);

distance_joint.length = 3;

distance_joint.collideConnected = true;

return world.CreateJoint(distance_joint); 
```

任何想法...

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-07T08:28:56.630

你是对的，距离接头可以用作弹簧。这在 Box2D 手册中说：

> 距离接头也可以制成柔软的，如弹簧-阻尼器连接。请参阅测试平台中的 Web 示例以了解其行为方式。
> 
> 柔软度是通过调整定义中的两个常数来实现的：频率和阻尼比。将频率视为谐波振荡器的频率（如吉他弦）。频率以赫兹为单位指定。通常，频率应小于时间步长频率的一半。因此，如果您使用 60Hz 时间步长，则距离关节的频率应小于 30Hz。原因与奈奎斯特频率有关。
> 
> 阻尼比是无量纲的，通常介于 0 和 1 之间，但可以更大。在 1 时，阻尼至关重要（所有振荡都应该消失）。
> 
> ```
> jointDef.frequencyHz = 4.0f;
> jointDef.dampingRatio = 0.5f; 
> ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T05:24:02.120

CreateJoint returns b2Joint(the joint created), but that is not the issue... I found out the issue. Actually i was setting local anchor point as

`distance_joint.localAnchorA = new b2Vec2(0, 0);`

`distance_joint.localAnchorB = new b2Vec2(0, 0);`

rather i should created the anchor point in the world like

`distance_joint.anchorPoint1.Set(0.0, 0.0);`

`distance_joint.anchorPoint2.Set(0.0, 0.0);`

Now, the joint is created correctly. One more issue...since i am trying to implement spring effect i try to set anchor point in the middle of the sencond body, but i am not getting success.

any idea..

Thanks

# angularjs - AngularJS - 为什么需要 $apply 才能正确解决 $q 承诺？

> ID：14746314
> 
> 赞同：31
> 
> 时间：2013-02-07T07:59:24.073
> 
> 标签：angularjs

我正在尝试在我的 Angular 应用程序中编写一个小服务，这将使我能够选择在全局 Javascript 对象中指定的配置参数。除非文档准备好，否则我不想尝试访问全局配置对象（因为我无法保证将脚本元素插入 HTML 的顺序）。

但是，我不明白为什么我需要调用以`$apply`使分辨率实际传播到`then`回调。

```
myModule.service('GlobalConfigService', ['$q', '$rootScope', function($q, $rootScope) {
    var def = $q.defer();
    $(document).ready(function() {
        def.resolve(MyConfig.val);
        $rootScope.$apply();
    });

    def.promise.then(function () {
        console.log('I am called only when $apply() is called. Why?');
    });

    return def.promise;
}]); 
```

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2013-02-07T22:18:09.657

在 AngularJS 中，resolve() 的结果是在 $digest 循环内异步传播的，而不是立即传播。这意味着使用 then() 注册的回调将仅在发生摘要循环时（稍后）被调用。

在您的代码中，没有什么会导致 Angular 进入摘要循环，因此永远不会调用 then() 回调。调用 $apply() 是导致摘要循环运行的一种方法。另一种方法：使用 ng-click 添加一个不执行任何操作的按钮，然后单击该按钮，它将导致摘要循环，您应该会看到结果：

```
<button ng-click="">Force digest by clicking me</button> 
```

另请参阅[https://stackoverflow.com/a/14657974/215945](https://stackoverflow.com/a/14657974/215945)

# macos - 如何附加到 LLDB 中的子进程

> ID：14746315
> 
> 赞同：25
> 
> 时间：2013-02-07T07:59:25.780
> 
> 标签：macos, process, lldb

我的进程启动子进程，我也想调试它们，在 OS X 上使用 LLDB。我在调试器中找不到任何选项来自动附加。怎么做？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-02-07T07:59:25.780

谷歌在这个问题上真的很沉默，但我找到了一个解决方法。

运行您的主进程并在它剥离任何子进程之前停止它。然后在函数上放一个断点`fork`：

```
b fork 
```

让程序继续。当它即将启动一个子进程时，将触发断点。此时，运行另一个 LLDB 实例并让它等待并自动附加到您的进程：

```
attach -w -n yourapp 
```

现在让父程序继续。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2017-10-05T11:47:02.020

[https://bugs.llvm.org/show_bug.cgi?id=17972](https://bugs.llvm.org/show_bug.cgi?id=17972)似乎是一个相关的 LLDB 问题。

# java - JPA OneToOne 双向。

> ID：14746318
> 
> 赞同：6
> 
> 时间：2013-02-07T07:59:29.110
> 
> 标签：java, jpa, jpa-2.0

我有两个实体类在 @OneToOne 关系中。示例代码如下：

```
public class A {
@Id
private int id;
private String name;
@JoinColumn(name = "B_ID", referencedColumnName = "id")
@OneToOne(cascade=CascadeType.ALL)
private B b;

//setters and getters

}

public class B {
@Id
private int id;
private String name;
@OneToOne(mappedBy="b")
    private A a;
//setter and getters

} 
```

我的问题是“我可以在 B 类中使用 setA(A a) 方法吗？我的意思是这样......

```
em.getTransaction().begin();
A aa = new A();
aa.setId(1);
aa.setName("JJ");
em.persist(aa);

B bb = new B();
bb.setId(1);
bb.setName("CC");
bb.setA(aa);
em.persist(bb);
em.getTransaction().commit(); 
```

当我这样尝试时，表A（B_ID）中的foreign_key字段被保存为null。
请帮我。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-02-07T08:07:37.710

在这里，您已经`mappedBy`在上面指定了 B 类`private A a;`。在**双向**关系中，`mappedBy`意味着我不是所有者。所以这意味着A是关系的所有者。

在 A 表中，您将拥有 B 表的外键。由于 A 是所有者，因此 A 假设将操作级联到 B。理想情况下，您应该尝试`a.setB()`然后持久化 a。

试试下面：

```
em.getTransaction().begin();
//first create B.
B bb = new B();
bb.setId(1);
bb.setName("CC");
em.persist(bb);

//create A with B set in it.
A aa = new A();
aa.setId(1);
aa.setName("JJ");
aa.setB(bb);
em.persist(aa);
em.getTransaction().commit(); 
```

或者

```
em.getTransaction().begin();
//first create B.
B bb = new B();
bb.setId(1);
bb.setName("CC");
// no need to persist bb.

//create A with B set in it.
A aa = new A();
aa.setId(1);
aa.setName("JJ");
aa.setB(bb);
em.persist(aa); // because of cascade all , when you persist A ,
// B will also be persisted.
em.getTransaction().commit(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T18:52:08.800

使用 @Cascade({CascadeType.SAVE_UPDATE}) 级联更改

```
public class B {
@Id
private int id;
private String name;
@OneToOne(mappedBy="b")
 @Cascade({CascadeType.SAVE_UPDATE}) 
    private A a;
//setter and getters

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-04-08T05:56:26.733

您需要在 em.persist(bb) 之前添加 aa.setB(bb)

```
em.getTransaction().begin();
A aa = new A();
aa.setId(1);
aa.setName("JJ");
em.persist(aa);

B bb = new B();
bb.setId(1);
bb.setName("CC");

aa.setB(bb);//this line should be added
bb.setA(aa);

em.persist(bb);
em.getTransaction().commit(); 
```

# jquery - 从多个复选框中获取值并将其附加到 html？

> ID：14746327
> 
> 赞同：2
> 
> 时间：2013-02-07T08:00:02.673
> 
> 标签：jquery, html, twitter-bootstrap

我正在使用来自 twitter bootstrap 的模态，我想制作一个模态，当用户单击按钮时，它会出现具有特定值的复选框，并且当模态隐藏添加到我的 html 的值时（在 a.btn 旁边) ..

这是html

```
<body>

<!-- Get the button problem  -->

<!-- Button to trigger modal --> 
```

启动演示模式

```
<!-- Modal -->
<div id="myModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
    <h3 id="myModalLabel">Modal header</h3>
  </div>
  <div class="modal-body">
    <label for="value">
        <input type="checkbox" name="value1" value="1">value1
    </label>
     <label for="value">
        <input type="checkbox" name="value2" value="2">value2
    </label>
     <label for="value">
        <input type="checkbox" name="value3" value="3">value3
    </label>
  </div>
  <div class="modal-footer">
    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
    <button class="btn btn-primary">Save changes</button>
  </div>
</div> 
```

这是我的脚本：

```
<script type="text/javascript">
  jQuery(document).ready(function($) {
    $('#myModal .btn').last().on('click', function(){
        var checkbox_val = $('input:checkbox:checked').val();
        var MyModal = $('#myModal');
        function get_value() {
            var allVals = [];
            $('input:checkbox:checked').each(function() {
                allVals.push(checkbox_val);
            });

            $('a.btn').after("<p>" + allVals + "</p>");
        }
        MyModal.modal('hide').on('hidden', function(){
           get_value();

        })

    });
  });
</script> 
```

**编辑** 这是我选择所有复选框 ["1", "1", "1"] 时 allVals 的值

我希望值为 ["1", "2", "3"]

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T08:36:26.293

我认为问题在于，当您`allVals.push(checkbox_val);`在`.each`循环内执行操作时，您一直在推动相同的值，这就是您得到 [1,1,1] 的原因。所以更新你的jQuery：

```
jQuery(document).ready(function($) {
    $('#myModal .btn').last().on('click', function(){
        var MyModal = $('#myModal');
        function get_value() {
            var allVals = [];
            $('input:checkbox:checked').each(function() {
                allVals.push($(this).val()); //Use the $('this') selector
            });

            $('a.btn').after("<p>" + allVals + "</p>");
        }
        MyModal.modal('hide').on('hidden', function(){
           get_value();

        })

    });
  }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:03:11.397

在控制台中，数组返回 "1","1"

```
$('input:checkbox:checked').each(function() {
    allVals.push(checkbox_val);// it will return first checkbox value '1' alway
}); 
```

为此，将此行替换`allVals.push(checkbox_val);`为`allVals.push($(this).val());`

# c# - 单个视图上的多个 WebGrid 更新任何操作上的所有 WebGrid

> ID：14746328
> 
> 赞同：2
> 
> 时间：2013-02-07T08:00:14.623
> 
> 标签：c#, asp.net-mvc-3, webgrid

我在使用相同模型的单个视图上有 2 个 WebGrid。现在的问题是，每当我对单个 webgrid 应用排序时，它也在对另一个 webgrid 进行排序。我正在使用 fieldNamePrefix 仍然有问题。这是我的代码：

**第一个部分视图：**

```
<%@ Control Language="C#" Inherits="System.Web.Mvc.ViewUserControl<IEnumerable<CRMEvent.Models.CRM.DatabaseEntities.CRM_Dashboard_Requests>>" %>
<%    
     var grid = new WebGrid(source: Model, defaultSort: "CRM_ID",fieldNamePrefix:"grid2", canSort: true);%>
<%=
        grid.GetHtml( htmlAttributes: new { id = "grid2" },tableStyle: "GridTable", headerStyle: "GridHeader", columns: grid.Columns(
          grid.Column(columnName: "CRM_ID", header: "CRM ID", canSort: true),
         grid.Column(columnName: "MDLNO", header: "MDLNO", canSort: true),
         grid.Column(columnName: "EMP_Name", header: "Employee", canSort: true),
         grid.Column(columnName: "SERVICE_TYPE", header: "Service Type", canSort: true),
         grid.Column(columnName: "Requested_Amount", header: "Amount", canSort: true),
                 grid.Column(columnName: "Created_Date", header: "Date", canSort: true, format: item => item.Created_Date.ToString("dd-MM-yyyy"))
         ))
   %> 
```

**第二部分视图：**

```
<%@ Control Language="C#" Inherits="System.Web.Mvc.ViewUserControl<IEnumerable<ApricaCRMEvent.Models.CRM.DatabaseEntities.CRM_Dashboard_Requests>>" %>
 <%    
     var grid = new WebGrid(source: Model, defaultSort: "CRM_ID",fieldNamePrefix:"grid1", canSort: true);%>
     <%=
        grid.GetHtml( htmlAttributes: new { id = "grid1" },tableStyle: "GridTable", headerStyle: "GridHeader", columns: grid.Columns(
          grid.Column(columnName: "CRM_ID", header: "CRM ID", canSort: true),
         grid.Column(columnName: "MDLNO", header: "MDLNO", canSort: true),
         grid.Column(columnName: "EMP_Name", header: "Employee", canSort: true),
         grid.Column(columnName: "SERVICE_TYPE", header: "Service Type", canSort: true),
         grid.Column(columnName: "Requested_Amount", header: "Amount", canSort: true),
                 grid.Column(columnName: "Created_Date", header: "Date", canSort: true, format: item => item.Created_Date.ToString("dd-MM-yyyy"))
         ))
   %> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T09:43:19.913

webgrid中有一个名为“ajaxUpdateContainerId”的属性。此属性可以帮助您解决问题。

第一个局部视图

```
<%@ Control Language="C#" Inherits="System.Web.Mvc.ViewUserControl<IEnumerable<CRMEvent.Models.CRM.DatabaseEntities.CRM_Dashboard_Requests>>" %>
<%    
 var grid1 = new WebGrid(source: Model, defaultSort: "CRM_ID",fieldNamePrefix:"grid2", canSort: true, ajaxUpdateContainerId:"FirstDiv");%>
<div id="FirstDiv">
<%=
    grid1.GetHtml( htmlAttributes: new { id = "grid2" },tableStyle: "GridTable", headerStyle: "GridHeader", columns: grid.Columns(
      grid1.Column(columnName: "CRM_ID", header: "CRM ID", canSort: true),
     grid1.Column(columnName: "MDLNO", header: "MDLNO", canSort: true),
     grid1.Column(columnName: "EMP_Name", header: "Employee", canSort: true),
     grid1.Column(columnName: "SERVICE_TYPE", header: "Service Type", canSort: true),
     grid1.Column(columnName: "Requested_Amount", header: "Amount", canSort: true),
             grid1.Column(columnName: "Created_Date", header: "Date", canSort: true, format: item => item.Created_Date.ToString("dd-MM-yyyy"))
     ))
%>
</div> 
```

第二部分视图

```
<%@ Control Language="C#" Inherits="System.Web.Mvc.ViewUserControl<IEnumerable<ApricaCRMEvent.Models.CRM.DatabaseEntities.CRM_Dashboard_Requests>>" %>
 <%    
 var grid = new WebGrid(source: Model, defaultSort: "CRM_ID",fieldNamePrefix:"grid1", canSort: true, ajaxUpdateContainerId:"SecondDiv");%>
 <div id="SecondDiv">
<%=
    grid.GetHtml( htmlAttributes: new { id = "grid1" },tableStyle: "GridTable", headerStyle: "GridHeader", columns: grid.Columns(
      grid.Column(columnName: "CRM_ID", header: "CRM ID", canSort: true),
     grid.Column(columnName: "MDLNO", header: "MDLNO", canSort: true),
     grid.Column(columnName: "EMP_Name", header: "Employee", canSort: true),
     grid.Column(columnName: "SERVICE_TYPE", header: "Service Type", canSort: true),
     grid.Column(columnName: "Requested_Amount", header: "Amount", canSort: true),
             grid.Column(columnName: "Created_Date", header: "Date", canSort: true, format: item => item.Created_Date.ToString("dd-MM-yyyy"))
     ))
  %>
  </div> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T08:50:32.467

您可能不应该在两个网格上使用相同的 var 名称。试试 var gridA 和 var gridB。

# android - Android，侧载应用程序并通过 Google Play 保持最新状态

> ID：14746330
> 
> 赞同：19
> 
> 时间：2013-02-07T08:00:59.180
> 
> 标签：android, google-play, apk, sideloading

我的公司想为我们选定的一组客户提供一台 Android 设备。

这样做，我们想为用户提供我们的移动应用程序。该应用程序已经在 Google Play 上，但我们希望避免用户自行下载和安装。我们更愿意让设备准备就绪，并且已经安装了应用程序。

我们找到了几种无需登录市场即可在手机上手动安装 APK 的方法。但似乎这样做，用户将无法通过 更新应用程序`Google Play`，因为该应用程序不会被识别为已安装。

任何的想法？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2015-01-25T11:29:49.830

根据 2015 年 1 月，这似乎是不可能的。以下是我从 Google Play 开发者支持处得到的回复：

> 侧面加载的应用程序不会通过 Play 商店进行更新。如果您希望更新该应用程序，您需要在手机上卸载该应用程序并通过 Play 商店重新安装该应用程序。

我想知道是否有人找到解决方法？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-10-30T18:23:06.027

总结[@Android-Developer](https://stackoverflow.com/users/1511776/android-developer)和 OP 评论讨论的答案：

无论安装源如何，Google Play 都能识别 APK 的应用签名。只要您在生成 APK 时使用相同的包名称和密钥库，Google Play 就能够检测到较新的版本并触发更新。

要在不登录 Google 帐户的情况下安装应用程序，请在“设置”中启用“从未知来源安装”选项。安装完成后，您可以禁用它。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2016-03-31T08:32:13.930

如果您的手机已root，您可以安装Titanium Backup，然后长按您侧面加载的应用程序包并选择“附加到市场”选项。现在您可以通过 Google Play 收到更新。
我不建议这样做，我的意思是永远不要安装破解或修补过的应用程序，因为版权或安全风险，但安装修改版的 Google Play 可以使修补过的侧载应用程序在通过 Titanium Backup 将它们附加到市场后进行升级。购买的应用程序不需要这样做，因为它们已在您的 Google 帐户中注册，因此附加到市场就足够了。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-10-27T08:23:32.817

要让 MANUALLY INSTALLED APK 显示在 Google Play Store 中的 UPDATES 或 INSTALLED 部分，请执行以下任一操作：

1.) 手动安装 APK 与 Google 知道的应用程序相同的 APK 文件名（即从 APK 下载网站，如 APKMirror.com）。

2.) 如果您在保存时更改了 APK 名称，它将不会作为已安装的应用程序显示在 Google Play 商店中。

但是，如果应用程序有更新，您必须在商店中一次性搜索该应用程序并进行更新。它会在应用程序的商店页面上为您提供更新选项。一旦通过商店更新，它将从现在开始显示在商店的已安装/更新部分。

为什么这行得通？因为 UPDATE 将通过商店完成，并且它在更新过程中使用的 APK 名称是 Google 所知道的应用程序的名称。

如果没有更新，请执行选项 #1。

我总是将应用程序名称和版本信息添加到文件名的前面，这样我就知道它是什么供以后使用（因为如果我手动安装，我可能会将其保存用于多个/未来的设备）。我还在末尾保留了原始名称，因此如果需要，我可以将其重命名为原始名称。Android 是我见过的唯一一个在安装过程中文件名很重要的操作系统。

# php - PHPExcel 使第一行加粗

> ID：14746332
> 
> 赞同：82
> 
> 时间：2013-02-07T08:01:20.903
> 
> 标签：php, phpexcel

我正在尝试使第一行中的单元格为粗体。

这是我为此目的创建的方法。

```
function ExportToExcel($tittles,$excel_name)
 {
  $objPHPExcel = new PHPExcel();
  $objRichText = new PHPExcel_RichText();
  // Set properties
  $objPHPExcel->getProperties()->setCreator("SAMPLE1");
  $objPHPExcel->getProperties()->setLastModifiedBy("SAMPLE1");
  $objPHPExcel->getProperties()->setTitle("SAMPLE1");
  $objPHPExcel->getProperties()->setSubject("SAMPLE1");
  $objPHPExcel->getProperties()->setDescription("SAMPLE1");

  // Add some data
  $objPHPExcel->setActiveSheetIndex(0);

  $letters = range('A','Z');
  $count =0;
  $cell_name="";
  foreach($tittles as $tittle)
  {
   $cell_name = $letters[$count]."1";
   $count++;
   $value = $tittle;
   $objPHPExcel->getActiveSheet()->SetCellValue($cell_name, $value);
   // Make bold cells
   $objPHPExcel->getActiveSheet()->getStyle($cell_name)->getFont()->setBold(true);
  }
  // Save Excel 2007 file
  $objWriter = new PHPExcel_Writer_Excel2007($objPHPExcel);
  //$objWriter->save(str_replace('.php', '.xlsx', __FILE__));
  $objWriter->save($excel_name.".xlsx");
 } 
```

问题在于输出 excel 文件中的单元格不是粗体。

* * *

## 回答 #1

> 赞同：134
> 
> 时间：2013-02-07T08:08:04.607

试试这个单元格范围：

```
$from = "A1"; // or any value
$to = "B5"; // or any value
$objPHPExcel->getActiveSheet()->getStyle("$from:$to")->getFont()->setBold( true ); 
```

或单细胞

```
$cell_name = "A1";
$objPHPExcel->getActiveSheet()->getStyle( $cell_name )->getFont()->setBold( true ); 
```

希望有帮助

* * *

## 回答 #2

> 赞同：50
> 
> 时间：2013-12-10T06:11:34.183

尝试这个

```
$objPHPExcel->getActiveSheet()->getStyle('A1:D1')->getFont()->setBold(true); 
```

* * *

## 回答 #3

> 赞同：30
> 
> 时间：2014-09-04T19:53:33.010

```
$objPHPExcel->getActiveSheet()->getStyle('1:1')->getFont()->setBold(true); 
```

这样你就得到了完整的第一行

* * *

## 回答 #4

> 赞同：19
> 
> 时间：2013-08-06T18:15:33.937

假设标题位于从 A1 开始的工作表的第一行，并且您知道其中有多少，这是我的解决方案：

```
$header = array(
    'Header 1',
    'Header 2'
);

$objPHPExcel = new PHPExcel();
$objPHPExcelSheet = $objPHPExcel->getSheet(0);
$objPHPExcelSheet->fromArray($header, NULL);
$first_letter = PHPExcel_Cell::stringFromColumnIndex(0);
$last_letter = PHPExcel_Cell::stringFromColumnIndex(count($header)-1);
$header_range = "{$first_letter}1:{$last_letter}1";
$objPHPExcelSheet->getStyle($header_range)->getFont()->setBold(true); 
```

* * *

## 回答 #5

> 赞同：16
> 
> 时间：2018-06-25T20:41:25.780

用这个：

```
$sheet->getStyle('A1:'.$sheet->getHighestColumn().'1')->getFont()->setBold(true); 
```

* * *

## 回答 #6

> 赞同：10
> 
> 时间：2016-08-28T15:08:56.793

这些是制作细胞的一些技巧`Bold`，，`Big font``Italic`

假设我有从`A`到的列`L`

`A1`- 是你的起始细胞

`L1`- 是你的最后一个细胞

```
$objPHPExcel->getActiveSheet()->getStyle('A1:L1')->getFont()->setBold(true);
$objPHPExcel->getActiveSheet()->getStyle('A1:L1')->getFont()->setSize(16);
$objPHPExcel->getActiveSheet()->getStyle('A1:L1')->getFont()->setItalic(true); 
```

* * *

## 回答 #7

> 赞同：8
> 
> 时间：2017-07-24T17:24:12.517

```
$objPHPExcel->getActiveSheet()->getStyle("A1:".$objPHPExcel->getActiveSheet()->getHighestDataColumn()."1")->getFont()->setBold(true); 
```

我发现这是一个可行的解决方案，您可以将 的两个实例替换为`1`行号。该`HighestDataColumn`函数返回例如 C 或 Z，它为您提供包含任何数据的工作表中的最后/最高列。还有`getHighestColumn()`，一个将包括空的但具有样式或属于其他功能的单元格。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2017-10-28T14:33:24.760

这会遍历特定行的**可变数量的列，在这种情况下是第一行：**

```
$rownumber = 1;
$row = $this->objPHPExcel->getActiveSheet()->getRowIterator($rownumber)->current();

$cellIterator = $row->getCellIterator();
$cellIterator->setIterateOnlyExistingCells(false);

foreach ($cellIterator as $cell) {
    $cell->getStyle()->getFont()->setBold(true);
} 
```

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2021-02-08T06:20:33.733

制作粗体标题的简单方法：

```
$row = 1;
foreach($tittles as $index => $tittle) {
    $worksheet->getStyleByColumnAndRow($index + 1, $row)->getFont()->setBold(true);
    $worksheet->setCellValueByColumnAndRow($index + 1, $row, $tittle);
} 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2017-10-30T11:58:48.600

尝试这个

```
    $objPHPExcel = 新 PHPExcel();
    $objPHPExcel->getProperties()->setCreator("Maarten Balliauw")
                                 ->setLastModifiedBy("Maarten Balliauw")
                                 ->setTitle("Office 2007 XLSX 测试文档")
                                 ->setSubject("Office 2007 XLSX 测试文档")
                                 ->setDescription("Office 2007 XLSX 测试文档，使用 PHP 类生成。")
                                 ->setKeywords("office 2007 openxml php")
                                 ->setCategory("测试结果文件");
    $objPHPExcel->setActiveSheetIndex(0);
    $sheet = $objPHPExcel->getActiveSheet();
    $sheet->setCellValue('A1', 'No');
    $sheet->setCellValue('B1', '工作 ID');
    $sheet->setCellValue('C1', '作业完成日期');
    $sheet->setCellValue('D1', '工作存档日期');
    $styleArray = 数组（
        '字体' => 数组（
        '粗体' => 真
        )
    );
    $sheet->getStyle('A1')->applyFromArray($styleArray);
    $sheet->getStyle('B1')->applyFromArray($styleArray);
    $sheet->getStyle('C1')->applyFromArray($styleArray);
    $sheet->getStyle('D1')->applyFromArray($styleArray);
    $sheet->getPageSetup()->setRowsToRepeatAtTopByStartAndEnd(1, 1);

```

这是给我如下链接的输出。（[https://www.screencast.com/t/ZkKFHbDq1le](https://www.screencast.com/t/ZkKFHbDq1le)）

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2014-07-06T05:50:43.540

你可以试试

```
$objPHPExcel->getActiveSheet()->getStyle(1)->getFont()->setBold(true); 
```

# wordpress - Wordpress 管理子页面元字段

> ID：14746340
> 
> 赞同：0
> 
> 时间：2013-02-07T08:02:03.113
> 
> 标签：wordpress

我只是想知道是否可以将 som 用户元字段移动到子页面所以我有 2 个子页面一个称为帐户和一个配置文件？

我已经弄清楚如何创建子页面，但是如何将元字段移动到该子页面。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T15:31:29.720

你不*移动*它们。您必须通过 CSS 和/或 jQuery 隐藏，因为[**`/wp-admin/user-edit.php`**](http://core.trac.wordpress.org/browser/tags/3.5/wp-admin/user-edit.php).

然后在您的自定义页面中复制相同的字段，并使用适当的更新功能：[`wp_update_user`](http://codex.wordpress.org/Function_Reference/wp_update_user)或[`update_user_meta`](http://codex.wordpress.org/Function_Reference/update_user_meta).

# c# - 如何使用 C# 在 TableCell 中添加文件上传控件

> ID：14746348
> 
> 赞同：0
> 
> 时间：2013-02-07T08:02:41.680
> 
> 标签：c#, asp.net

我正在使用 TableCell 和 GridViewRow 在代码中创建网格视图

数据是从数据库表中获取的。

我的代码是：

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;
using System.Data;
using System.Data.SqlClient;

public partial class gv1 : System.Web.UI.Page
{
    SqlConnection cn;
    SqlCommand cmd;
    DataSet ds;
    SqlDataAdapter da;

   protected void Page_Load(object sender, EventArgs e)
  {
     cn = new SqlConnection("Data Source=AMIR-PC\\MOHEMMAD;Initial Catalog=CRM_InvestPlus;Integrated Security=True");

  }
  protected void Button1_Click(object sender, EventArgs e)
 {
    cn.Open();
    cmd = new SqlCommand("Select * from Customer_Master", cn);
    da = new SqlDataAdapter(cmd);
    ds = new DataSet();
    da.Fill(ds);
    cn.Close();

    GridView gr1 = new GridView();
    Table t = new Table();
    gr1.Controls.Add(t);

        for (int i = 0; i < 6; i++)
       {
           GridViewRow row = new GridViewRow(i, i, DataControlRowType.DataRow, DataControlRowState.Normal);
           TableCell cell1 = new TableCell();
           TableCell cell2 = new TableCell();
           TableCell cell3 = new TableCell();

           cell1.Text = ds.Tables[0].Rows[i][0].ToString();
           cell2.Text = ds.Tables[0].Rows[i][1].ToString();
           cell3.Text = ds.Tables[0].Rows[i][2].ToString();
           row.Cells.Add(cell1);
           row.Cells.Add(cell2);
           row.Cells.Add(cell3);

            gr1.Controls[0].Controls.AddAt(i, row);    

        }
        form1.Controls.Add(gr1);
    }
} 
```

Gridview 生成良好。但我的问题是在 Cell3 的位置显示 FileUploadControl（即我想将 FileUploadControl 放在 Cell3 中）

请帮忙..

提前致谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:13:57.040

试试这个：

```
FileUpload fileUpload = new FileUpload();
cell3.Controls.Add(fileUpload); 
```

# android - 如何在列表视图的 onitemclicklistener 中更改仅选定列表视图行的布局

> ID：14746349
> 
> 赞同：2
> 
> 时间：2013-02-07T08:02:41.890
> 
> 标签：android, listview, custom-adapter

我需要创建`ListView`类似`Samsung Contact List`. 我需要显示该行的自定义布局，而该行是`swiped`. 并且还需要在该行的背景显示联系方式。请给我一些想法或参考。

谢谢你。

```
list.setOnItemClickListener(stationSelectionListener);
final ListSwipeDetector listSwipeDetector=new ListSwipeDetector();
list.setOnTouchListener(listSwipeDetector);
new UserAndMessageCount(StationListActivity.this).execute();
list.setOnItemClickListener(new OnItemClickListener() {
        public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
                if (listSwipeDetector.swipeDetected()){
                    Toast.makeText(StationListActivity.this,"sWIPE1",Toast.LENGTH_LONG).show();
                    LayoutInflater inflater=(LayoutInflater)getApplicationContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
                    View viewNew=inflater.inflate(R.layout.view_flow_common_page, null);
                    view=viewNew;
                } 
                else {
                    ConstantValues.STATION_NAME=((TextView)view.findViewById(R.id.textView)).getText().toString();
                    LayoutInflater inflater=(LayoutInflater)getApplicationContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
                    View viewNew=inflater.inflate(R.layout.view_flow_common_page, null);
                    //startActivity(new Intent(getApplicationContext(), StationSelectionActivity.class));
                }
            }
    });
    list.setOnItemLongClickListener(new OnItemLongClickListener() {
        public boolean onItemLongClick(AdapterView<?> parent, View view,int position, long id) {
            if (listSwipeDetector.swipeDetected()){
                Toast.makeText(StationListActivity.this,"sWIPE3",Toast.LENGTH_LONG).show();
            } else {
                Toast.makeText(StationListActivity.this,"sWIPE4",Toast.LENGTH_LONG).show();
            }
            return false;
        }
    }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T08:10:24.767

之内`onItemClickListener`，可以实施`onItemClick (AdapterView<?> parent, View view, int position, long id)`。如果您检索`view`，则可以在用户单击该项目时对其进行所需的更改。

对于刷卡，您可以修改适配器的`getItem()`功能并添加一个`GestureListener`或类似[此代码](https://github.com/krishjlk/android-listview-swipe-delete-example-sample-tuorial)的内容。然后，您可以收听滑动并采取相应措施。

# ios - Objective-c 从 sqlite 读取图像

> ID：14746350
> 
> 赞同：1
> 
> 时间：2013-02-07T08:02:47.400
> 
> 标签：ios, objective-c, sqlite

```
 NSData *imageData = UIImageJPEGRepresentation(PhotoImage, 100);
    NSString* queryString = ; 
    [SQLiteAccess insertWithSQL:
[NSString stringWithFormat:@"insert into images (photo) values ('%@')", imageData] // photo - blob column
]; // i use class SQLiteaccess 
```

插入正常，但是当我从 sqlite 读取图像时

```
NSArray *photoSelectArray = [SQLiteAccess selectManyRowsWithSQL: [NSString stringWithFormat:@"select photo from places where id=%i", idPlace]]; 
NSDictionary *imageDataDic = [photoSelectArray objectAtIndex:0];
NSData *dataForCachedImage = [[NSData alloc] initWithData: [imageDataDic objectForKey:@"photo"]];
 UIImage *cachedImage = [UIImage imageWithData:dataForCachedImage]; 
```

我有一个错误 - SIGABRT`(Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[__NSCFString bytes]: unrecognized selector sent to instance 0x1e5c46d0')`

用于轻松访问 sqlite 的 ps 类 - SQLiteAccess.h - [http://pastebin.com/BFxFry7T](http://pastebin.com/BFxFry7T) - SQLiteAccess.m - [http://pastebin.com/m67yNVLm](http://pastebin.com/m67yNVLm)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:31:10.897

是的，我认为问题出在这里：

`[NSString stringWithFormat:@"insert into images (photo) values ('%@')", imageData]]; // i use class SQLiteaccess`

直接使用 SQLite 时，您应该通过 设置二进制数据`sqlite3_bind_blob()`，但实际上您将二进制数据设置为字符串。

所以当你取回数据时，它不是二进制数据，它是一个`String`对象，当然，一个字符串对象不响应`-[NSData bytes]`

* * *

同时我认为您应该检查 SQLite DB 文件中的字段类型。是否`photo`实际设置为`blob`.

# python - 如何通过 Python 脚本安装 debian 包？

> ID：14746354
> 
> 赞同：1
> 
> 时间：2013-02-07T08:03:23.290
> 
> 标签：python, debian

我正在尝试通过 Python 脚本安装 Debian 软件包文件。所以我使用了下面的脚本。

```
import os
os.system('echo %(passwd)s | sudo dpkg -i 34.deb' %locals())
```

运行 Python 脚本后，未安装软件包。它显示以下消息。

```
sudo：不存在 tty，也没有指定 askpass 程序
```

但是当我尝试通过终端安装软件包时，它已正确安装。我在终端中给出的命令如下。

```
sudo dpkg -i 34.deb
```

如果你知道，请告诉我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:16:20.507

python too have the subprocess Module

```
import subprocess as sp
sp.call(["sudo","dpkg","-i", "some.deb"]) 
```

Must work

you can add each parameter

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T08:11:11.243

~~似乎`sudo`不接受管道密码~~，因此请遵循文档

> 通常，如果 sudo 需要密码，它会从用户终端读取密码。如果指定了 -A (askpass) 选项，则会执行一个（可能是图形的）帮助程序来读取用户的密码并将密码输出到标准输出。如果设置了 SUDO_ASKPASS 环境变量，它指定了帮助程序的路径。否则，如果 /etc/sudo.conf 包含指定 askpass 程序的行，则将使用该值。例如：
> 
> ```
>  # Path to askpass helper program
>                    Path askpass /usr/X11R6/bin/ssh-askpass 
> ```
> 
> 如果没有可用的 askpass 程序，sudo 将退出并出现错误。

你应该用`-A`标志传递一个 askpass 程序。

**编辑：**似乎`sudo`接受密码`stdin`，使用`-S`标志。

# c# - 当变量类型为 [int?] 时，为什么我必须在 C# 中强制转换为 (int?)

> ID：14746355
> 
> 赞同：3
> 
> 时间：2013-02-07T08:03:26.060
> 
> 标签：c#, .net

有人可以解释一下我必须投到的*逻辑原因吗*`null``int?`

什么时候左参数类型可以同时具有它们的两种类型？

决定做

```
 int? k = (DateTime.Now.Ticks%5 > 3 ? 1 : null); 
```

我必须这样做

```
 int? k = (DateTime.Now.Ticks%5 > 3 ? 1 : (int?) null); 
```

虽然`int? k = null`是完全有效的。

**一个相反的例子：**

我不必这样做：

`string k = (DateTime.Now.Ticks%5 > 3 ? "lala" : null);`

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-07T08:08:40.987

```
int? k = (DateTime.Now.Ticks%5 > 3 ? 1 : (int?) null); 
```

在这种情况下，我们所拥有的是 1`int`并且`null`实际上是`null` 现在混淆是三元运算符被混淆为什么是返回类型`int`或以及`null`因为`int`它不会接受`null`

因此，您需要将其转换为可为空的`int`

现在在另一种情况下，您有一个字符串，并且 null 完全可以接受`string`

进一步的解释可以在[类型推断中找到 - Eric](http://blogs.msdn.com/b/ericlippert/archive/2006/05/24/type-inference-woes-part-one.aspx)

> ?: 运算符的第二个和第三个操作数控制条件表达式的类型。设 X 和 Y 是第二个和第三个操作数的类型。然后，
> 
> *   如果 X 和 Y 是相同的类型，那么这是条件表达式的类型。
>     
>     
> *   否则，如果存在从 X 到 Y 的隐式转换，但不存在从 Y 到 X 的转换，则 Y 是条件表达式的类型。
>     
>     
> *   否则，如果存在从 Y 到 X 的隐式转换，但不存在从 X 到 Y 的转换，则 X 是条件表达式的类型。
>     
>     
> *   否则，无法确定表达式类型，并出现编译时错误。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-07T08:14:56.470

因为编译器不使用左侧变量的类型来确定右侧表达式的类型。首先它确定表达式的类型，然后确定是否可以将其放入变量中。

There is no type close enough that is common between an `int` and a `null` value. You have to either make the `int` value nullable or the `null` value "intable" for the compiler to find a common ground for the values.

When you have a `string` and a `null` value the compiler can simply use one of the types, because a string is already nullable.

# google-maps-api-3 - 选择 RSS 提要中的哪些元素出现在地图上的信息框中

> ID：14746356
> 
> 赞同：0
> 
> 时间：2013-02-07T08:03:28.123
> 
> 标签：google-maps-api-3

我有一个来自 Flickr 集的 GeoRSS 提要，在地图上显示为 KML 图层，并且图像按预期显示在信息框中。

图片上方是文本“Flickr 用户名发布了一张图片”，它是来自提要项目的内容元素的文本。

我想删除它，并试图找到一种简单的方法，只在信息框中显示我想要的提要中的元素。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T11:59:19.390

您必须取消默认的 infoWindows 并创建自己的。

几个小时前我[**在这里**](https://stackoverflow.com/questions/14727002/google-weather-library/14733063#comment20624301_14733063)描述了它是如何工作的（那里的问题是关于weatherLayer，但工作流程完全相同）。

被点击的项目的内容存储在 KMLMouseEvent 对象的 featureData 属性中[，](https://developers.google.com/maps/documentation/javascript/reference?hl=en#KmlMouseEvent)作为参数传递给点击回调。您必须解析这些数据并为 infoWindow 创建所需的内容。

# javascript - 如何将值 js 控制器传递给 js 控制器？

> ID：14746357
> 
> 赞同：0
> 
> 时间：2013-02-07T08:03:37.523
> 
> 标签：javascript, alfresco, alfresco-share

我是 Alfresco 框架的新手。所以我想将值从 js 控制器传递给其他 js 控制器。我不知道如何通过。示例：workflow-form.js 中组名的值改为 sample-module.js。

请给我一个指示。提前谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T12:27:23.150

如果你想在控制器之间传递变量，你应该像这样在模型中声明变量：

```
var newVar = document.properties.name;
model.newVar = newVar; 
```

# magento - 在magento中使用nu soap的soap api抛出会话过期错误

> ID：14746359
> 
> 赞同：1
> 
> 时间：2013-02-07T08:03:40.493
> 
> 标签：magento, session, soap, response

首先，我的站点使用 Apache 运行，当时来自其他服务器的 shop api 请求被 magento 成功接受，但现在我的服务器使用 nginx 和 magento php 版本 5.3.10，之后来自其他服务器的 shop api 请求不接受并显示错误：

> 会话已过期尝试重新登录。Array ( [faultcode] => 5 [faultstring] => Session expired. Try to relogin.) Array5: Session expired。尝试重新登录。

我还检查了其他服务器用来发送请求以更新我在 magento 中的订单状态的 Web 服务用户和角色。

是配置错误还是php版本问题？

# php - 滚动条不起作用

> ID：14746362
> 
> 赞同：0
> 
> 时间：2013-02-07T08:03:47.793
> 
> 标签：php, html, css

我正在尝试在购物车中生成最近添加的项目列表，代码如下所示

```
<ol style = "overflow: -moz-scrollbars-vertical; overflow-y: scroll;">
        <?php foreach($_items as $_item): ?>
            <?php echo $this->getItemHtml($_item) ?>
        <?php endforeach; ?>
        </ol> 
```

我得到了这些项目，但滚动不起作用。请帮我。我是一个崭露头角的开发者。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:17:29.943

如果您想在 ol 容器达到一定高度后进行垂直滚动，请使用下面列出的代码

``<ol style = "overflow-y: scroll;">``

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T08:13:31.633

使用`overflow:auto`css 的属性而不是`scroll`，并`height`为您的列表提供一些。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-07T08:07:55.327

像这样指定一个高度

```
<ol style = "overflow: -moz-scrollbars-vertical; overflow-y: scroll;height:50px;">
 <?php foreach($_items as $_item): ?>
 <?php echo $this->getItemHtml($_item) ?>
 <?php endforeach; ?>
</ol> 
```

# mysql - 复合mysql选择后外连接

> ID：14746364
> 
> 赞同：1
> 
> 时间：2013-02-07T08:03:57.140
> 
> 标签：mysql, sql, join, left-join, outer-join

我有一个包含列 (a, b) 的表 A 和一个包含列 (b, c) 的表 B。我想做以下事情：

```
STEP 1: do a   A LEFT OUTER JOIN B ON A.b = B.b
STEP 2: convert all c = NULL in the Joined table to c = <default_value>
STEP 3: SUM(A.a * B.c) over the table I get after STEP 2 
```

有没有一种快速的方法可以在一个复合语句中做到这一点？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:06:20.330

您可以在一个查询中执行三个步骤，首先`LEFT OUTER JOIN`并使用`IFNULL`将`NULL`值设置为默认值，然后使用`SUM`：

```
SELECT
  SUM(A.a + IFNULL(B.c, <default_value>))
FROM A 
LEFT OUTER JOIN B ON A.b = B.b; 
```

SQL 小提琴演示：

*   [**第 1 步，第 2 步**](http://www.sqlfiddle.com/#!2/4f322/2)。

*   [**第 3 步**](http://www.sqlfiddle.com/#!2/4f322/4)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:06:48.700

```
select
  sum(A.a + IFNULL(B.c, some_default)) as some_sum
FROM
  A
  LEFT JOIN B
    ON
      B.b = A.b 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-07T08:07:46.240

```
 select sum(A.a * (case when B.c = null then <default> else B.c end)) as joined_sum
 from A left outer join B on (A.b = B.b); 
```

# javascript - 使用 JavaScript 调用 cmd.exe

> ID：14746367
> 
> 赞同：-3
> 
> 时间：2013-02-07T08:04:05.560
> 
> 标签：javascript, cmd

有没有办法使用客户端 javascript 调用 cmd.exe？到目前为止，我一直在使用 WCF 服务来运行远程进程并执行 cmd.exe。但我需要一种更可靠的方法，因为我不想在不同的系统上托管 WCF 服务。

任何示例代码将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T08:05:54.573

没有任何插件和大客户端放松安全设置？

你当然不能。甚至 IE 也不会让您如此轻易地破坏用户安全。

# jquery - RequireJS 和使 validate 方法在 js 文件中可用

> ID：14746369
> 
> 赞同：1
> 
> 时间：2013-02-07T08:04:10.573
> 
> 标签：jquery, requirejs

我有以下 config.js

```
require.config({
  baseUrl: "/static/js",
  paths: {
    jquery: "src/jquery-1.7.2",
    jqueryui: "src/jquery-ui-1.10.0.custom/js/jquery-ui-custom", 
    angular: "src/angular/1.0.4/angular",
    bootstrap: "bootstrap/js/bootstrap"
  },
  shim: {
    "jquery-validation-1.10.0/dist/jquery.validation.min" : {
        deps: ["jquery"],
        exports: "jquery.validation"
    }
  }
}); 
```

在我正在加载的一个 js 文件（名为`signup.js`）中，我试图使`validate`来自 jquery 验证插件的方法可用。

```
# File signup.js

define(["jquery"], function($) {

$('#beta_signup_form button[type=submit]').attr("disabled", "disabled");

$('#beta_signup_form').validate({
    rules: {
        name: {
            required: true,
            minlength: 4
        },
        email: {
            required: true,
            email: true 
        }
    },
    focusCleanup: true,
    onkeyup: false,
    errorElement: "span",
      ... the rest of the code ... 
```

我在控制台中收到一个错误，上面写着`Uncaught TypeError: Object [object Object] has no method 'validate'`.

如何将`validate`方法传递给我的`signup.js`脚本？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T09:22:08.733

您需要稍微调整一下配置。通常，在填充模块时，您还需要为其指定路径：

```
require.config({
  baseUrl: "/static/js",
  paths: {
    jquery: "src/jquery-1.7.2",
    jqueryui: "src/jquery-ui-1.10.0.custom/js/jquery-ui-custom", 
    angular: "src/angular/1.0.4/angular",
    bootstrap: "bootstrap/js/bootstrap",
    // Give validate a path
    "jquery-validate": "jquery-validation-1.10.0/dist/jquery.validation.min" 
  },
  shim: {
    // Now shim it
    "jquery-validate": {
        deps: ["jquery"],
        exports: "jquery.validation"
    }
  }
});

// Define it as a dependency. If the plugin doesn't return a value
// (most just augment the jQuery.fn) then no need to pass an argument 
// to your callback.    
define(["jquery", "jquery-validate"], function($) {
    // module code
}); 
```

如果插件不导出值，您可以进一步缩短代码：

```
 shim: {
    "jquery-validate": ["jquery"]
  } 
```

官方文档中的更多示例 - [http://requirejs.org/docs/api.html#config-shim](http://requirejs.org/docs/api.html#config-shim)

# java - 使用静态变量堆叠 switch 语句并循环 main 方法

> ID：14746376
> 
> 赞同：1
> 
> 时间：2013-02-07T08:04:55.603
> 
> 标签：java

我正在用java制作一个单位转换器，当我在循环后运行程序时遇到问题。我不确定它是否与我的静态变量、switch 语句或循环有关 - 我是 java 新手，这是我的第一个程序。我遇到的主要问题是，在第二次运行它之后，切换要转换的单元类型会出现**这个**：

"输入转换值：33

33 公斤 = 145.50525 磅

输入转换值："

但我希望它这样做**：**

“33 公斤 = 145.50525 磅

是否要继续并执行另一次转换？('Y' 或 'N')"

这是代码（我知道它有很多需要查看）

```
import java.util.Scanner;

public class Unitconverter {

public static class displayer{
    static int x,a,b,c,z1,z2,z3;
static Scanner mType = new Scanner(System.in);
static Scanner mDirect = new Scanner(System.in);
static Scanner mValue = new Scanner(System.in);
static Scanner YN = new Scanner(System.in);
static String YorN = "y";

public static void main(String args[]) {

    mainMenu();
    Type();
    Direction();
    Loop();

}

public static void  mainMenu(){
    System.out.println ("Unit Converter!");
    System.out.println("");
    System.out.println("What type of measurement would you like to convert?");
    System.out.println("1\. Convert length");
    System.out.println("2\. Convert weight");
    System.out.println("3\. Convert volume");
    x = mType.nextInt();

}

public static void Type(){
switch(x){
case 1:
    System.out.println ("1\. Feet to Meters");
    System.out.println ("2\. Meters to Feet");
    System.out.println ("Select conversion direction:"); 
    a =mDirect.nextInt();
    break;
case 2:
    System.out.println ("1\. Pounds to Kilograms");
    System.out.println ("2\. Kilograms to Pounds");
    System.out.println ("Select conversion direction:"); 
    b =mDirect.nextInt();
    break;
case 3:     
    System.out.println ("1\. Gallons to liters");
    System.out.println ("2\. Liters to gallons");
    System.out.println ("Select conversion direction:"); 
    c =mDirect.nextInt();   
    break;  
}

}

public static void Direction(){ 

    switch(a){
        case 1: System.out.println("Enter Value for Conversion:");
        z1 =mValue.nextInt(); 
        System.out.println(z1 +" "+ "Feet =" +" "+ z1*0.3048 +" "+ "Meters");
        break;

        case 2:System.out.println("Enter Value for Conversion:");
        z1 =mValue.nextInt(); 
        System.out.println(z1 +" "+ "Meters =" +" "+ z1*3.28084 +" "+ "Feet");
        break;

        }
    switch(b){

        case 1: System.out.println("Enter Value for Conversion:");
        z2 =mValue.nextInt(); 
        System.out.println(z2 +" "+ "Pounds =" +" "+ z2*0.453592 +" "+ "Kilograms");
        break;

        case 2:System.out.println("Enter Value for Conversion:");
        z2 =mValue.nextInt(); 
        System.out.println(z2 +" "+ "Kilograms =" +" "+ z2*4.40925 +" "+ "Pounds");
        break;

        }
    switch(c){
        case 1: System.out.println("Enter Value for Conversion:");
        z3 =mValue.nextInt(); 
        System.out.println(z3 +" "+ "Gallons =" +" "+ z3*3.78541 +" "+ "Liters");
        break;

        case 2:System.out.println("Enter Value for Conversion:");
        z3 =mValue.nextInt(); 
        System.out.println(z3 +" "+ "Liters =" +" "+ z3*0.264172 +" "+ "Gallons");
        break;
    }

}

public static void Loop() {

        while (YorN.equalsIgnoreCase("y")){
            System.out.println("");
            System.out.println ("do you want to continue and perform another conversion? ('Y' or 'N')");
            YorN = YN.nextLine();
            main(null);

        }
    }
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:08:29.553

将以下行添加到`Type`函数的顶部以**解决您当前的问题**。

```
a=b=c=-1; 
```

这可确保一次只有一个变量具有有效值`case`。

另外，您正在导致无限堆栈问题..

将循环更改为如下（或者像 Quoi 那样，一个更好的选择）

```
System.out.println("");
System.out.println ("do you want to continue and perform another conversion? ('Y' or 'N')");
YorN = YN.nextLine();
if(YorN.equalsIgnoreCase("y"))
    main(null); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:10:15.970

如果我理解正确:)，请使用`do-while`n 次获得工作。

```
public static void main(String args[]) {
  do{
       mainMenu();
      Type();
      Direction();
      System.out.println ("do you want to continue and perform another conversion? ('Y' or 'N')");
      String input = YN.nextLine();  
   }while(YorN.equalsIgnoreCase(input));
} 
```

# jquery - 使用 jquery DataTables 将数据添加到第一行

> ID：14746377
> 
> 赞同：0
> 
> 时间：2013-02-07T08:05:02.370
> 
> 标签：jquery, datatables

我正在使用[DataTables](http://datatables.net)来显示我的数据。我正在使用 fnAddData 将新数据添加到行。此函数在表的最后插入新行。我想要的是当我添加新行时，它成为表格上的第一行。我怎样才能做到这一点？

这是我的代码：

```
$('#example').dataTable().fnAddData( [
                            caption,
                            grade,
                            "<span class='edit'>Edit</span><span class='delete'>Delete</span>",
                            id,
                            kind,
                            oTable.fnGetData().length ]
                        ); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-11-10T11:08:23.200

如果设置为“bSort”：false，你可以在你的代码之后做这样的事情

```
var my_array = $('#table').dataTable().fnGetNodes( );
var last_element = my_array[my_array.length - 1];
console.log(last_element);        
$(last_element).insertBefore($('#table tbody tr:first-child')); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T17:59:52.923

如果启用了排序，那么它将显示排序放置的位置。因此，您必须按将其置于顶部的列进行排序。

如果未启用排序，那么它几乎就像：[如何通过 jQuery 在 <table> 中向上或向下移动 <tr>？](https://stackoverflow.com/questions/1845600/how-to-move-a-tr-up-or-down-within-table-via-jquery)

如果未启用排序，您可以尝试以下操作，我不确定这是否适用于插件，您最好不要使用 DataTables.net：

```
var oTable = $('#example').dataTable()
function MoveRowDown(tableId, index)
{
    var rows = oTable.$("tr");

    rows.eq(index).insertAfter(rows.eq(index + 1));
}

function MoveRowUp(tableId, index)
{           
    var rows = oTable.$("tr");

    rows.eq(index).insertBefore(rows.eq(index - 1));
} 
```

# javascript - 骨干事件没有触发？

> ID：14746378
> 
> 赞同：0
> 
> 时间：2013-02-07T08:05:08.253
> 
> 标签：javascript, backbone.js, zepto

所以我有这个简单的主干设置：

```
$(function() {
  var chooser  = Backbone.View.extend({
    el: $('#content'),

    events: {
      'mouseenter .class': 'showInfo'
    },

    showInfo: function(evt) {
      console.log('YEAH!');
    }
  });

  window.testview = new chooser();
}); 
```

但是，我只能让 click 和 mousemove 事件起作用。我试过hover、mouseenter、mouseout，它们似乎都没有触发。我不确定这样一个简单的设置会出现什么问题。在过去的一个小时里，我一直在查看这段代码，所以也许我遗漏了一些东西。

假设 DOM 设置正确。

忘了提，我正在使用带有 Zepto 的 Backbone。下载美联储 6。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T11:13:16.113

和事件不是标准事件`mouseenter`，`mouseleave`它们本身仅在 Internet Explorer 上受支持。jQuery 使用事件时间检查`mouseover`来模拟这些事件。`mouseout`也是如此`hover`，它实际上是使用 mouseenter/leave 构建的。

Zepto 没有定义这些事件，因此它们根本不可用。尽管 Zepto 适用于桌面浏览器，但它主要专注于移动浏览器，因为显而易见的原因，鼠标事件与移动浏览器无关。

# vb.net - 报表中的打印参数

> ID：14746381
> 
> 赞同：1
> 
> 时间：2013-02-07T08:05:22.990
> 
> 标签：vb.net, report, reportviewer

这是我的 VB.NET (2012) 代码，用于显示基于`Combobox` *(cmbCustomer)*选择的报告，我想`cmbCustomer.text`在报告上打印该参数。

```
Private Sub btnShow_Click(sender As Object, e As EventArgs) Handles btnShow.Click
        Me.rpt_customerByDateTableAdapter.Fill(Me.customerByDateDataSet.rpt_customerByDate,
        cmbCustomer.Text)
        Me.ReportViewer1.RefreshReport()
End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:13:13.780

假设您已经在您的[`rldc`](https://stackoverflow.com/questions/5512117/create-a-parameter-in-rdlc-report)

```
Dim customer As String = cmbCustomer.text
Dim CustomerParam As New ReportParameter("yourCustomerParameter", customer)

Dim reportParameters() As ReportParameter = {CustomerParam}

Me.DataTable1TableAdapter.Fill(Me.customerByDateDataSet.rpt_customerByDate,
        cmbCustomer.Text)

Me.ReportViewer1.LocalReport.SetParameters(reportParameters)
Me.ReportViewer1.RefreshReport() 
```

# html5-video - HTML5 视频 - 未设置当前时间

> ID：14746384
> 
> 赞同：1
> 
> 时间：2013-02-07T08:05:38.457
> 
> 标签：html5-video

这让我发疯！

```
video.addEventListener 'ended', (e) =>
    e.target.currentTime = 0
    console.log e.target.currentTime
    # 5.33 seconds NOT 0 
```

视频播放，结束事件被调用，但 currentTime 没有改变。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-08-26T10:12:31.353

这可能会帮助您：

```
video = document.getElementById('video');
begin_play  = 50;
play_video_frist = true; //if you want to run only frist time    
video.addEventListener("play", capture, false);

function capture(event) 
{
     if (event.type == "play") {
         if (play_video_frist) {
             play_video_frist = false;
             video.currentTime = begin_play;
          }
     }
} 
```

# coffeescript - CoffeeScript 中的 BusterJs 测试

> ID：14746387
> 
> 赞同：0
> 
> 时间：2013-02-07T08:06:12.213
> 
> 标签：coffeescript, buster.js

我有以下测试。由于某种原因，`@$e`我在 before 函数中设置的在测试中未定义：

```
assert = buster.assert
buster.testCase 'BaseChart',

  before: ->
    @el = sinon.spy()
    @$el = [@el]
    console.log(@$el) 
    ##[LOG] [function spy() {}]

  'updates when the model changed': ->
    console.log(@$el)
    ##[LOG] undefined 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T21:20:50.443

这是一个疯狂的猜测，但有变化：

`before: ->`至`before: =>`

看看这是否有帮助。

# android - Android - PhoneGap 应用程序（密钥库文件错误）

> ID：14746390
> 
> 赞同：1
> 
> 时间：2013-02-07T08:06:37.810
> 
> 标签：android, cordova, android-keystore, phonegap-build

我正在通过 Eclipse 在 Android 平台上开发一个 PhoneGap 应用程序。我的代码已准备好并完美运行。

现在，我已经在发布模式下创建了一个签名的[APK](http://en.wikipedia.org/wiki/APK_%28file_format%29)文件。**因此，当我在“ build.phonegap.com** ”上上传此密钥库文件并单击时`Submit key`，我收到如下错误：

> 错误：扩展名与预期不匹配（密钥库）”

我不知道这出了什么问题。有合适的解决方案吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-07T08:10:37.710

命令行解决方案：

```
keytool -genkey -v -keystore yourappname.keystore -alias appnamealias -keyalg RSA -keysize 2048 -validity 10000 
```

根据：[这篇文章](http://sikitech.blogspot.com/2013/02/howto-solve-error-extension-did-not.html)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-02-14T16:38:58.470

我们需要哪些工具来开发 Android 密钥库文件？

1.  Android 密钥库文件可以在 Java 开发工具包 (JDK) 中创建，要下载安装文件，请单击此链接：[安装 JDK](http://www.oracle.com/technetwork/java/javase/downloads/index.html)。

2.  我们如何创建 Android 密钥库文件？

    标准程序：首先您需要以**管理员身份打开命令提示符**

    要从一个目录转到其父目录，请写入**cd..**（按下`Enter`按钮）。继续这样做，直到到达**c:>**。

    当您在**c:/**时，编写**cd 程序文件**（按下`Enter`按钮）。

    `cd Java`（按下`Enter`按钮）。

    `cd jdk1.7.0_03`（按下`Enter`按钮）。

    **`cd bin`（按下`Enter`按钮）。**

    ** `keytool -genkey -v -keystore Your_personal_file_title.keystore -alias Your_personal_alias -keyalg RSA -keysize 2048 -validity 10000**`（按下`Enter`按钮）。

    **记得编辑这两个文本文件`Your_personal_file_title`和`Your_personal_alias`.**

    并输入您的个人资料信息。

    之后它将在您的 C:\Program files\Java\jdk1.7.0_03\bin 目录中创建您的 Android 密钥库文件，并使用您给它的名称...</p>

3.  您现在拥有了密钥库文件，并且可以在生成 Android 应用程序的任何应用程序（例如 build.phonegap.com）中激活它。

请记住以***管理员***身份使用 CMD 。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-25T14:56:57.513

在 Eclipse 中创建密钥库文件时，请确保手动将文件扩展名设置为“.keystore” - 而不是没有扩展名的默认文件名。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-07T08:13:18.377

您需要创建自己的 .keystore 文件。去做这个：

*   打开 CMD
*   类型：

    ```
    cd C:\java path\java\jdk7\bin
    keytool -genkey -v -keystore yourappname.keystore -alias appnamealias -keyalg RSA -keysize 2048 -validity 10000 
    ```

之后，您将拥有一个新的发布密钥库。

# r - 在 knitr 中的循环内调用时的文本和绘图偏移

> ID：14746391
> 
> 赞同：1
> 
> 时间：2013-02-07T08:06:41.393
> 
> 标签：r, knitr

当我尝试在 knitr 的循环中输出文本和绘图时，我观察到了一种奇怪的行为。当我运行下面的代码时，文本和绘图输出是偏移的：

*   第一个文本后面没有任何情节
*   第二个文本后面是第一个情节
*   第三个文本后面是第二个图
*   等等
*   最后一个文本后面是倒数第二个和最后一个图

有没有办法纠正这个问题，即每个文本后跟相应的情节？

```
```{r  echo=FALSE}

for (i in 1:5){

  cat("\nIteration number: ")

  cat(i)

  plot(1:i)

}

``` 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-08T02:59:32.960

`evaluate`这是已修复的软件包中的一个旧错误。有关详细信息，请参阅[问题 #403](https://github.com/yihui/knitr/issues/403)。解决方案是[常见问题解答 1](https://github.com/yihui/knitr/blob/master/FAQ.md)。

# eclipse - OpenERP 7 开发环境：找不到 web 模块

> ID：14746394
> 
> 赞同：0
> 
> 时间：2013-02-07T08:06:56.297
> 
> 标签：eclipse, openerp

我设置了一个 Ubuntu 环境并使用 bzr 来获取 3 个主干：插件、服务器、网络

一切正常，服务器启动正常。

然后我在 Eclipse 中加载了项目并尝试运行 openerp-server。我收到此错误（模块 web：找不到模块）。然后，我将 openerp-server.conf 中的条目（addons_path）从 /etc/ 复制到 server/install 文件夹中的 conf 文件中。我还创建了这个文件的一个副本并粘贴到服务器文件夹中，希望 eclipse 会选择它。

但我仍然遇到同样的错误。请问三个问题：

1.  我应该添加这个路径供 eclipse 使用哪个 conf 文件？该文件位于何处？

2.  如果我必须使用命令行开关来指定 web/addons 路径，那么我该如何在 eclipse 中做到这一点？

3.  曾经有一个文件包含很多不同的变量，例如 pg_path、rpc 等。那个文件还在吗？也许这就是我需要做这个条目的地方？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T14:38:01.453

我必须添加一个“-c /etc/openerp-server.conf”参数。右键单击 openerp-server 文件，启动属性窗口，选择运行/调试设置，选择唯一可用的启动配置，编辑，选择参数选项卡。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-09T06:44:05.293

我手动将它们添加到 Eclipse 运行配置 > 参数中。

例如

```
--db_host = {host}
--db_port = {port}
--db_user = {user}
--db_password = {password}
--addons = ../addons,../server/addons 
```

# html - 如果内容在 SEO 上可以吗

> ID：14746397
> 
> 赞同：-1
> 
> 时间：2013-02-07T08:07:23.267
> 
> 标签：html, seo, semantics

我正在建立一个包含新闻的网站。我有一个包含新闻文章列表的页面。第二页显示文章的详细信息。

我有一些关于显示单篇文章的页面结构的问题。

页面如下所示：

```
<body>
    <header data-role="header">
        <h1>Article detail</h1>
    </header>

    <div data-role="content">

        <article>
            <header>
                <h2>Article title</h2>
                <p class="lead">Lead</p>
                <p><time datetime="2012-10-15" pubdate="pubdate">October 15, 2012</time></p>
            </header>
            <p>Article content</p>
        </article>

    </div>
</body> 
```

从 SEO 的角度来看，如果`<h1>`始终相同并且仅`<h2>`根据文章进行更改，可以吗？

我想把文章标题`<h1>`也放在里面。但这意味着我们将拥有相同的`<h1>`and `<h2>`。我真的不知道这是否是一个好习惯。

你有什么建议？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T04:15:46.780

我认为将“文章详细信息”作为标题在这里没有意义。如果 Stack Overflow 上这个问题的顶部标题是“问题”，那将是相似的。或者，如果博客文章的标题为“博客文章”。

您的示例（假设文章标题是“John Doe 获胜！”）将产生以下[大纲](http://gsnedders.html5.org/outliner/)：

```
- Article detail
-- John Doe wins! 
```

该页面不包含“文章详细信息”，它*是*文章本身，对吗？

由于您的页面是网站的一部分，因此整个页面的标题可能应该是*网站标题*（属于该网站的所有页面都相同）。

文章标题将是该页面的主要内容，但它仍然是站点的“子”，因此它具有层次结构级别 2。

如果您有网站导航（“所有新闻”、“联系方式”……），这也将达到 2 级。

因此（假设该站点名为“ACME News”）这将是该页面的合适大纲：

```
- ACME News
-- John Doe wins!
-- (Navigation) 
```

只要您使用切片元素（`section`、`article`、`nav`、`aside`），您就可以`h1`在任何地方使用。或者，正如您在示例中所做的那样，使用标题`h2`-`h6`根据（“计算”）大纲。语义上没有区别。

搜索引擎是否以及如何处理这个问题……嗯，有些人可能理解 HTML5，有些人不理解。有人谈论它，有人不谈论它。（好的）搜索引擎将能够解释 HTML5 文档的结构（不要仅仅因为它们根据规范使用 HTML5 就“降级”页面）。这是标记页面的方式，甚至现在*还有更多*。

对于您的网站，我敢打赌大多数搜索引擎甚至不会打扰您选择哪种方式。这是一个相对较小的细节（每页只有 2-3 个标题）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T11:20:20.270

通常在 SEO 中 h1 标签用于表示文章标题。

在博客中，h1 用于突出自然是页面标题的文章的起点。

现在，如果您希望保持航向不变，则不会有太大的不同。

如果你这样做会发生什么

您将在同一标题下拥有很多文章，这反过来可能会为您提供一个反向链接，因为它可能会根据访问量最大的文章对您的页面进行排名。

因此，就美学观点和更好的索引而言，我们应该为不同的文章使用不同的 H1 标签。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-12T07:11:45.653

我认为将文章标题放在 h2 标签中会提高您的 SEO 分数。H1 标签更重要，但您还必须在文章内容中定义其他 SEO 标签，如 h1 到 h6、粗体、斜体、em 标签、首字母缩略词标签、dfn 标签、abbr 标签和强标签，以获得更好的 SEO 结果。

现在，您还可以在您的内容中定义文章标签来表示您的文章内容。它将您的文章内容与您网站上的其他内容分开。

# facebook-graph-api - 以用户身份发布到应用程序时间线

> ID：14746403
> 
> 赞同：0
> 
> 时间：2013-02-07T08:07:41.817
> 
> 标签：facebook-graph-api, post, facebook-timeline

我需要代表用户将状态、链接、图片发布到申请时间线。我唯一可用的选项是使用具有 manage_page 权限的“/PAGE_NAME/feed”更新应用程序页面。

我已经使用上面的图形路径成功发布了状态。但是 Facebook 正在显示/跟踪这些状态，链接作为应用程序帖子而不是用户的活动。

它不是在帖子详细信息中显示用户名，而是显示应用程序名称。没有区分用户帖子的选项。

是否有任何选项可以代表用户发布应用程序墙/时间线？facebook没有检测到用户的访问令牌是一个错误吗？

有谁能回答我吗？我希望我的问题对所有人都很清楚，如果需要，我可以为新手用户提供解释。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T12:19:35.163

如果我们尝试发布状态，Facebook 将视为应用状态更新。IE。使用消息参数发布。如果我们尝试使用链接、图片发布，Facebook 将接受作为用户的帖子。

现在它工作正常。方法没有变化。感谢所有在没有意识到问题的情况下投票的人。

POST "message" : "USER MESSAGE" => 应用状态更新（不会跟踪用户）

POST "message" : "USER MESSAGE","link": "LINK" => 用户在时间线上发布更新（将跟踪用户名）

我希望这会对某人有所帮助。请检查我的问题的评论。

# .net - 使用 Npgsql 检查 PostgreSQL 表是否存在

> ID：14746404
> 
> 赞同：0
> 
> 时间：2013-02-07T08:07:43.263
> 
> 标签：.net, npgsql

到目前为止，在 Windows 上使用 PostgreSQL 数据库时，使用 Npgsql 驱动程序而不是 ODBC 没有任何区别。但现在我找到了一个。

我有这样的代码来检查表是否存在 ODBC：

```
Public Function dbTableExists(ByVal dbTable As String, ByVal dbName As String) As Boolean

    Dim retval As Boolean = False
    Dim nCon As New OdbcConnection
    Dim btCommand As OdbcCommand = Nothing
    nCon.ConnectionString = "Dsn=" + dbDsn + _
                            ";database=" + dbName & _
                            ";server=" + dbServer + _
                            ";port=" + dbPort + _
                            ";uid=" + dbUser + _
                            ";pwd=" + dbPass
    Try
        nCon.Open()
        btCommand = New OdbcCommand("SELECT 1 FROM pg_tables WHERE tablename='" & dbTable + "'", nCon)
        retval = CBool(btCommand.ExecuteNonQuery())

    Catch ex As Exception
        MsgBox(ex.Message, MsgBoxStyle.Critical)
        retval = False
    End Try

    Return retval
End Function 
```

使用此代码，如果确定的数据库中存在特定表，则我得到 True，否则得到 False。
当我尝试使用 Npgsql 而不是 ODBC 函数时非常相似：

```
Public Function tExists(ByVal dbTable As String, ByVal dbName As String) As Boolean

    Dim retval As Boolean = False
    Dim btCommand As NpgsqlCommand = Nothing
    Dim nCon As New NpgsqlConnection(String.Format( _
                    "Server={0};Port={1};User Id={2};Password={3};Database={4};", _
                    dbServer, dbPort, dbUser, dbPass, dbName))
    Try
        nCon.Open()
        btCommand = New NpgsqlCommand("SELECT 1 FROM pg_tables WHERE tablename='" & dbTable + "'", nCon)
        retval = CBool(btCommand.ExecuteNonQuery())

    Catch ex As Exception
        MsgBox(ex.Message, MsgBoxStyle.Critical)
        retval = False
    End Try

    Return retval
End Function 
```

但这不会按预期工作。
无论是否存在特定表，我总是得到 True 作为结果。

知道如何让 Npgsql 函数工作吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-15T09:32:20.090

我不知道您是否不想/不能更改您的查询，但我建议您使用该`information_schema`表而不是使用`pg_tables`. 我个人使用这种方法：

```
 public override bool TableExists(string tableName)
    {
        string sql = "SELECT * FROM information_schema.tables WHERE table_name = '" + tableName + "'";
        using (var con = new NpgsqlConnection(preparedConnectionString))
        {
            using (var cmd = new NpgsqlCommand(sql))
            {
                if (cmd.Connection == null)
                    cmd.Connection = con;
                if (cmd.Connection.State != ConnectionState.Open)
                    cmd.Connection.Open();

                lock (cmd)
                {
                    using (NpgsqlDataReader rdr = cmd.ExecuteReader())
                    {
                        try
                        {
                            if (rdr != null && rdr.HasRows)
                                return true;
                            return false;
                        }
                        catch (Exception)
                        {
                            return false;
                        }
                    }
                }
            }
        }
    } 
```

（不关心注射或类似的）

# ios - iOS6中的presentModalViewController

> ID：14746407
> 
> 赞同：20
> 
> 时间：2013-02-07T08:07:51.770
> 
> 标签：ios, cocoa-touch, ios6

在我的应用程序代码中，我仍然使用 presentModalViewController 模态呈现视图控制器。这在 iOS 6 中已弃用。这是否意味着此方法对运行 iOS 6 的设备没有影响？

如果是，我怎样才能让我的应用程序在 iOS 6 上以模态方式呈现视图控制器？我的 Xcode 版本不支持 iOS 6，所以我无法使用 iOS 6 中的所有新方法。

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2013-07-06T06:36:57.533

**如果你有**

```
[self presentModalViewController:aController animated:YES]; 
```

**将其更改为**

```
[self presentViewController:aController animated:YES completion:nil]; 
```

* * *

## 回答 #2

> 赞同：41
> 
> 时间：2013-02-07T08:12:33.717

已弃用意味着您不应再使用此方法。它仍然有效，但可能会在下一次更新中完全删除。

要以模态方式显示视图控制器，您可以使用`-presentViewController:animated:completion:`iOS 5.0 中引入的新方法。
解雇新方法是`-dismissViewControllerAnimated:completion:`.

[https://developer.apple.com/documentation/uikit/uiviewcontroller](https://developer.apple.com/documentation/uikit/uiviewcontroller)

# java - 使用 SWT 在树项单击时填充表行

> ID：14746408
> 
> 赞同：0
> 
> 时间：2013-02-07T08:07:53.353
> 
> 标签：java, swt, jface

单击树项后是否有填充表行？我不想使用 SWT/Jface TreeTableViewer。假设我有一棵树，里面有一些树木物品，比如化妆品、粉末。当我点击化妆品时，相关值应填入表中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:48:31.177

这是一个小例子：

```
public static void main(String[] args)
{
    Display display = new Display();
    Shell shell = new Shell(display);
    shell.setLayout(new GridLayout(1, true));

    final Tree tree = new Tree(shell, SWT.SINGLE);
    tree.setLayoutData(new GridData(SWT.FILL, SWT.FILL, true, true));

    /* initialize columns */

    TreeItem cosmetics = new TreeItem(tree, SWT.NONE);
    cosmetics.setText(0, "cosmetics");
    /* other text */

    TreeItem powder= new TreeItem(tree, SWT.NONE);
    powder.setText(0, "powder");
    /* other text */

    /* add selection listener to add children */
    tree.addListener(SWT.Selection, new Listener()
    {
        @Override
        public void handleEvent(Event arg0)
        {
            /* get selection */
            TreeItem[] items = tree.getSelection();

            if(items.length > 0)
            {
                String parent = items[0].getText();
                System.out.println(parent);

                /* add new child */
                TreeItem newItem = new TreeItem(items[0], SWT.NONE);
                newItem.setText(0, "new Item, parent: " + parent);

                /* Expand parent */
                items[0].setExpanded(true);
            }
        }
    });

    shell.pack();
    shell.open();
    while (!shell.isDisposed())
    {
        if (!display.readAndDispatch())
            display.sleep();
    }
    display.dispose();
} 
```

它会为您每次点击添加一个新的孩子`TreeItem`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T01:42:28.983

我有解决办法

```
TreeViewer treeViewer= new TreeViewer(comp);
final TableViewer viewer= new TableViewer(comp1, SWT.BORDER);
treeViewer.addSelectionChangedListener(new ISelectionChangedListener()
{
    public void selectionChanged(SelectionChangedEvent event) 
{ 
    IStructuredSelection selection = (IStructuredSelection) event.getSelection(); 
    Object obj= selection.getFirstElement();
    viewer.setInput(obj);
 } 
});
    } 
```

# c# - 尝试运行 imagemagixNET 应用程序时出现 FileNotFoundException？

> ID：14746411
> 
> 赞同：0
> 
> 时间：2013-02-07T08:08:00.727
> 
> 标签：c#, imagemagick, imagemagick.net

我正在使用 imagemagix.Net dll 构建图像转换器应用程序，无论我做什么我都会收到这个错误..文件存在的东西，甚至它将 dll 复制到项目调试文件夹。任何建议为什么？错误：

```
 System.IO.FileNotFoundException was unhandled
  HResult=-2147024770
  Message=Could not load file or assembly 'ImageMagickNET.dll' or one of its dependencies. The specified module could not be found.
  Source=WindowsFormsApplication1
  FileName=ImageMagickNET.dll
  FusionLog=""
  StackTrace:
       at WindowsFormsApplication1.Form1.button1_Click(Object sender, EventArgs e)
       at System.Windows.Forms.Control.OnClick(EventArgs e)
       at System.Windows.Forms.Button.OnClick(EventArgs e)
       at System.Windows.Forms.Button.OnMouseUp(MouseEventArgs mevent)
       at System.Windows.Forms.Control.WmMouseUp(Message& m, MouseButtons button, Int32 clicks)
       at System.Windows.Forms.Control.WndProc(Message& m)
       at System.Windows.Forms.ButtonBase.WndProc(Message& m)
       at System.Windows.Forms.Button.WndProc(Message& m)
       at System.Windows.Forms.Control.ControlNativeWindow.OnMessage(Message& m)
       at System.Windows.Forms.Control.ControlNativeWindow.WndProc(Message& m)
       at System.Windows.Forms.NativeWindow.DebuggableCallback(IntPtr hWnd, Int32 msg, IntPtr wparam, IntPtr lparam)
       at System.Windows.Forms.UnsafeNativeMethods.DispatchMessageW(MSG& msg)
       at System.Windows.Forms.Application.ComponentManager.System.Windows.Forms.UnsafeNativeMethods.IMsoComponentManager.FPushMessageLoop(IntPtr dwComponentID, Int32 reason, Int32 pvLoopData)
       at System.Windows.Forms.Application.ThreadContext.RunMessageLoopInner(Int32 reason, ApplicationContext context)
       at System.Windows.Forms.Application.ThreadContext.RunMessageLoop(Int32 reason, ApplicationContext context)
       at System.Windows.Forms.Application.Run(Form mainForm)
       at WindowsFormsApplication1.Program.Main() in c:\Users\serak\Documents\Visual Studio 2012\Projects\WindowsFormsApplication1\WindowsFormsApplication1\Program.cs:line 18
       at System.AppDomain._nExecuteAssembly(RuntimeAssembly assembly, String[] args)
       at System.AppDomain.ExecuteAssembly(String assemblyFile, Evidence assemblySecurity, String[] args)
       at Microsoft.VisualStudio.HostingProcess.HostProc.RunUsersAssembly()
       at System.Threading.ThreadHelper.ThreadStart_Context(Object state)
       at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
       at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state, Boolean preserveSyncCtx)
       at System.Threading.ExecutionContext.Run(ExecutionContext executionContext, ContextCallback callback, Object state)
       at System.Threading.ThreadHelper.ThreadStart()
  InnerException: 
```

源代码 ：

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using ImageMagickNET;
namespace WindowsFormsApplication1
{
    public partial class Form1 : Form
    {
        string fileloc;
        MagickNet m;
        public Form1()
        {
            InitializeComponent();
        }

        private void Form1_Load(object sender, EventArgs e)
        {
            MagickNet.InitializeMagick();
        }

        private void button1_Click(object sender, EventArgs e)
        {
            MagickNet.InitializeMagick();
            OpenFileDialog fl= new OpenFileDialog ();
            if (fl.ShowDialog() == DialogResult.OK)
            {
                fileloc = fl.FileName;
                using (ImageMagickNET.ImageList im = new ImageMagickNET.ImageList())
                {
                    im.ReadImages(fileloc);
                    int i = 0;
                    foreach (ImageMagickNET.Image image in im)
                    {
                        image.Quality = 100;
                        image.CompressType = ImageMagickNET.CompressionType.LosslessJPEGCompression;
                        image.Write(fileloc.Substring(0, fileloc.LastIndexOf('\\')) + i + ".jpg");
                        ++i;
                    }
                }
            }

        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:31:26.033

它的漫长过程我只是想将压缩的 Tiff 图像转换为未压缩的 200dpi 图像......无论如何，这个问题的解决方案是这个......在这里总结一下：（我使用的是 8 位版本......只要在下面的说明中提到“8”的地方替换为“16”）

1) 下载此项目并将其解压缩到任何地方。2) 在您的项目中，引用 bin\Q8 文件夹中的 ImageMagickNET.dll。3) 转到[http://image_magick.veidrodis.com/image_magick/binaries/](http://image_magick.veidrodis.com/image_magick/binaries/)并下载“ImageMagick-6.5.3-10-Q8-windows-dll.exe” 4) 运行安装，接受所有默认设置。5) 将 C:\Program Files\ImageMagick-6.5.3-Q8 中的所有 DLL 复制到项目的 ROOT 文件夹中。（不是 bin 文件夹） 6）将“复制到输出目录”设置为“始终复制”

如果您将 DLL 复制到 bin 文件夹，当您调试（或发布）时，它们将与可执行文件不在同一个文件夹中，并且会出现此错误。通过将它们复制到根文件夹，它们将被复制到与可执行文件相同的目录中。

现在，如果只有帮助文档更好……**

# google-app-engine - Google-app 脚本：从辅助邮箱地址发送邮件

> ID：14746416
> 
> 赞同：0
> 
> 时间：2013-02-07T08:08:12.330
> 
> 标签：google-app-engine, google-apps-script, google-apps

我有以下情况：

*   xxx@gmail.com (gmail 登录)
*   xxx@company.be（邮件是从这个邮箱地址发送的标准邮件）

到现在为止还挺好。我使用谷歌应用程序中的脚本向我的所有联系人发送简报。

该脚本始终使用 xxx@gmail.com 地址而不是 xxx@company.be

这是脚本的特定部分：

> var emailYourAddr = Session.getUser().getEmail();

有人知道如何更改脚本以便从标准邮件地址发送邮件吗？

非常感谢您！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T10:05:40.383

您必须首先使用 gmail 配置公司邮件，然后使用公司电子邮件作为别名发送以发送邮件，其中 from 字段将显示公司电子邮件。

以下两个链接可能对您有所帮助。

[http://support.google.com/mail/bin/answer.py?hl=en&answer=22370](http://support.google.com/mail/bin/answer.py?hl=en&answer=22370)

[https://developers.google.com/apps-script/class_gmailapp#getAliases](https://developers.google.com/apps-script/class_gmailapp#getAliases)

# javascript - Nvd3 多条形图 - 在 xAxis 上显示数据间隙

> ID：14746417
> 
> 赞同：1
> 
> 时间：2013-02-07T08:08:13.337
> 
> 标签：javascript, d3.js, bar-chart, nvd3.js

我不久前才开始使用 nvd3，现在我在使用多条形图时遇到了一个大问题：我的 xAxis 数据之间存在间隙，例如 [1,2,3,4,9,24,120]。我希望这些间隙显示在图表中，但 nvd3 只显示所有条形相邻的条，因此，x 值为 2 和 3 的条之间的距离与具有 9 和 24 的条之间的距离相同。有吗有什么办法可以改变这一点，以便您可以看到数据中的所有空白？我使用的代码与 nvd3s 示例代码相同。

非常感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-12T08:56:07.617

当然有。您将为所有缺失值填写 0。对于每个对应于缺失值的 y，您将设置 x = 0。这就是您需要做的所有事情（这并不像听起来那么简单，因为可能存在系列没有数据的情况等等，但这是主要技巧）。

# javascript - 如何在javascript中增加页面加载范围内的值？

> ID：14746418
> 
> 赞同：-4
> 
> 时间：2013-02-07T08:08:13.627
> 
> 标签：javascript, html

例如，我想增加 javascript 中标签之间的值

```
<span class="quantity">1</span> 
```

页面加载后会是这样

```
<span class="shopp-quantity">2</span> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:11:20.503

[这与昨天的](https://stackoverflow.com/questions/14728228/how-to-increase-the-value-of-text-field-on-page-load-in-javascript)大致相同：

```
<span class="quantity"></span>
<script>
   localStorage['myid'] =
      document.getElementsByClassName('quantity')[0].innerHTML =
          parseInt(localStorage['myid'] || '0') + 1;
</script> 
```

# php - 照片标记 - 悬停在名称上以显示标记的框

> ID：14746421
> 
> 赞同：0
> 
> 时间：2013-02-07T08:08:31.887
> 
> 标签：php, jquery, html, mysql, ajax

我正在尝试这样做，以便当列表中的标签名称悬停时，它应该在它被标记的位置显示一个框（如 Facebook）。

这是我的代码：

查看标签.php

```
<?php
$sql = "SELECT * FROM image_tag ORDER BY `pic_id`";
$qry = mysql_query($sql);
$rs = mysql_fetch_array($qry);

if ($rs){
  do{
    echo '<li rel="'.$rs['pic_id'].'"><label>'.$rs['name'].'</label></li>';
  }while($rs = mysql_fetch_array($qry));
}
?> 
```

索引.php

```
.tagview
    {
      border:solid 3px #fff;
      width:100px;
      height:100px;
      position:absolute;
      display:none;
}

$('#taglist li').on('mouseover mouseout',function(event){
      pic_id = $(this).attr("rel");
      if (event.type == "mouseover"){
        $('#view_' + pic_id).show();
      }
      if (event.type == "mouseout"){
        $('#view_' + pic_id).hide();
      }
});

    viewlist();

    function viewlist()
    {
     $.post('viewtag.php', function(data){
            $('#taglist ol').html(data);
          });

}

<?php
    $query = mysql_query("SELECT * FROM image_tag");
    $run = mysql_fetch_array($query);
    if($run){
        do{
?>
            <div class="tagview" style = "top:<?php echo $top; ?>px; left:<?php echo $left; ?>px;" id="view_<?php echo $number; ?>"></div>
<?php
        }while($run = mysql_fetch_array($query));
    }
?>

<div id="taglist"> 
    <span class="tagtitle">List of Tags</span> 
        <ol> 
        </ol>
</div> 
```

这很令人困惑，所以我已经发布了到目前为止我所尝试的内容。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:12:11.880

首先 pic_id 是你的变量，那么为什么你这样声明`var`

```
pic_id = $(this).attr("rel"); 
```

对此进行了更改`var pic_id = $(this).attr("rel");`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-18T09:53:29.727

[http://www.wellbro.com/view_tutorial?t_cat=3&t_i=3](http://www.wellbro.com/view_tutorial?t_cat=3&t_i=3)

这是“JQuery, PHP - 照片标记系统”教程的 URL

# c - C 编程语言中有模板吗？

> ID：14746425
> 
> 赞同：11
> 
> 时间：2013-02-07T08:08:40.917
> 
> 标签：c, templates

我正在用 C 编写一个链表实现，并希望使用与 C++*模板*等效的语言功能来简化我的工作。

有这样的功能吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-07T08:14:14.367

C has no templates like C++, though you can achieve something similar with "clever" (or WTFey, depending on how you look at it) use of `#define` macros.

However, take a look at how for example GLib does it for [singly linked lists](https://developer.gnome.org/glib/stable/glib-Singly-Linked-Lists.html) or [doubly linked lists](http://developer.gnome.org/glib/stable/glib-Doubly-Linked-Lists.html).

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-07T08:30:14.647

模板是 C++ 的特性，但如果您想要单链表或双链表的类型无关实现，可以借助宏来实现，或者您可以简单地将`void*`指针存储在结构中。

当然，互联网上有很多这样的实现。[@MohamedKALLEL](https://stackoverflow.com/a/14746465/693538)和[@hyde](https://stackoverflow.com/a/14746493/693538)已经给出了来自 Linux 内核和 GLib 的示例，我只想添加一个关于漂亮的小库[**uthash**](http://troydhanson.github.com/uthash/)的注释。

它在 C 中实现了一个哈希表，但它也有一个[**utlist.h**](http://troydhanson.github.com/uthash/utlist.html) *，它完全*在宏上实现单链和双链（甚至循环）列表。也就是说，您可以简单地获取此文件，将其包含在内，然后按原样使用这些宏，或者根据需要对其进行修改。同样好的是您可以使用任何数据结构：它只需要有`next`指针（并且`prev`，如果是双重链接的）。

*Ps 但是在使用宏时要记住：**能力越大，责任越大**。宏很强大，但可能会变得非常不安全和不可读。谨防！*

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-07T08:12:50.153

是的，有[list.h](http://isis.poly.edu/kulesh/stuff/src/klist/list.h)。它是一个循环链表：

以下链接包含如何使用它的[示例。](http://isis.poly.edu/kulesh/stuff/src/klist/)

包含与管理循环链表相关的`list.h`所有函数，如定义、添加头部、添加尾部、删除、foreach 函数以浏览循环链表......

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2019-08-22T05:08:53.290

如果您`make`用来构建您的软件，您可以用来实现类似结果的一种方法是让 make 根据您编写的模板生成您的代码，方法是调用 sed 或 awk 之类的东西。我已经多次使用这种方法，虽然它缺乏 C++ 模板提供的灵活性和功能，但它非常透明（与宏不同），构建非常高效，并且除了久经考验的老式 unix 实用程序外，不需要添加任何工具（例如`make`和`sed`）。主要缺点是您将在与代码不同的位置（*Makefile*中的一行）指定查找/替换字符串。

请注意，通常情况下，使用函数指针和 void 指针来编写一个通用的代码库会更好。但是，如果您希望通过消除不必要的函数调用来获得额外的性能，例如在紧密循环中，模板可能会更好，并且可以模拟如下：

1.  使用占位符名称编写模板代码，并使用诸如*code.template.c 之类的模板名称*

2.  在替换为适当的名称后，使用对模板代码的函数调用编写非模板代码，例如`my_int_func()`或`my_string_func()`

3.  可能，使用#include 将您的模板代码包含在您的非模板代码中（例如，如果您的模板将具有`inline`功能）

4.  将您的 Makefile 写入：

    *   从 template.c 文件生成“真正的”C 文件。每个模板目标都有一个 Makefile 条目，例如*code.generated.c*。`sed`是一个很好的替代工具，但您也可以使用 eg`replace`或`awk`或其任何 Windows 等效工具
    *   酌情编译生成的 C 文件并链接生成的对象

* * *

例如：

*代码模板.c*

```
/* Makefile will call sed to replace DATANAME, DATATYPE and SPECIFIER */
void print_DATANAME_data(DATATYPE x) {
  printf("%SPECIFIER\n", x);
} 
```

*代码.c*

```
#include <stdio.h>
#include "printfuncs.generated.c"

int main() {
  int i = 99;
  print_int_data(99);

  char *s = "hello";
  print_str_data(s);

  float f = 1.234;
  print_float_data(f);
} 
```

*生成文件*

```
all: my_program

my_program: code.c
    CC -o $@ code.c

code.c: printfuncs.generated.c

printfuncs.generated.c: code.template.c
    rm -f printfuncs.generated.c
    cat code.template.c | sed 's/DATANAME/int/g;s/DATATYPE/int/g;s/SPECIFIER/i/g;' >> printfuncs.generated.c
    cat code.template.c | sed 's/DATANAME/str/g;s/DATATYPE/char */g;s/SPECIFIER/s/g;' >> printfuncs.generated.c
    cat code.template.c | sed 's/DATANAME/float/g;s/DATATYPE/float/g;s/SPECIFIER/f/g;' >> printfuncs.generated.c 
```

**建造**

```
make 
```

这将生成 printfuncs.generated.c（如果该文件不存在或修改时间少于 code.template.c），如下所示：

```
/* Makefile will call sed to replace int, int and i */
void print_int_data(int x) {
  printf("%i", x);
}
/* Makefile will call sed to replace str, char * and s */
void print_str_data(char * x) {
  printf("%s", x);
}
/* Makefile will call sed to replace float, float and f */
void print_float_data(float x) {
  printf("%f", x);
} 
```

任何编译器错误都将指向此文件，您可以直接修改此文件以使其编译（之后您需要更新模板以防止您的更改丢失），或编辑模板。无论哪种情况，在您编辑之后，您需要做的就是`make`再次运行（尝试）编译。

**跑**

`./my_program`（或者`my_program.exe`如果建立在胜利之上）

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2017-02-27T02:36:45.187

嗨，我不知道链表，但是对于模板函数，您可能可以使用宏或具有不同数量参数的函数作为该程序的示例

```
#include <stdarg.h>
#include <stdio.h>
#define INT 0
#define STR 1
void foo( int type, ... )
{
    va_list ap;
    int i;
    char *s;
    va_start( ap, type );
    switch( type ) {
    case INT:
        i = va_arg( ap, int );
        printf( "INT: %i\n", i );
        break;
    case STR:
        s = va_arg( ap, char * );
        printf( "STR: %s\n", s );
        break;
    default:
        break;
    }
    va_end( ap );
}
#define SWAP( type, a, b ) {                    \
        type t;                                 \
        t = a;                                  \
        a = b;                                  \
        b = t;                                  \
    }
int main( void )
{
    foo( INT, 3 );
    foo( STR, "baz" );
    int ia = 0, ib = 3;
    SWAP( int, ia, ib );
    printf( "%i %i\n", ia, ib );
    float fa = 0.5, fb = 3.14;
    SWAP( float, fa, fb );
    printf( "%f %f\n", fa, fb );
    return 0;
} 
```

将产生输出

```
INT: 3
STR: baz
3 0
3.140000 0.500000 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-03-14T01:56:18.947

看看这篇[文章](https://levelup.gitconnected.com/using-templates-and-generics-in-c-968da223154d)。

C 没有静态模板，但您可以使用宏来模拟它们。

### 最简单的静态模板形式，定义宏：

```
// define a macro 
#define DEF(type, name, val) type name = val 
// call the macro 
DEF(int, foo, 5); 
// print the called macro 
printf("%d", foo); 
```

“这个模板允许定义具有基本类型的变量所需的代码被概括和抽象。目标是使代码在类型之间可共享和相似。然而，这个例子是微不足道的，因为它只提供了很少的简化写出声明。真正的力量来自执行更复杂任务的代码。

### 这是您可以尝试的剪切和粘贴示例

```
#include <stdio.h>

int main()
{
#define FOREACH(type, start, end, fn)                                    \
    for (type _foreach_var = start; _foreach_var != end; _foreach_var++) \
    {                                                                    \
        fn(_foreach_var);                                                \
    }

#define PRINT_INT(n) printf("%d\n", n)
    // use FOREACH
    FOREACH(int, 0, 5, PRINT_INT)
} 
```

*   首先我们定义我们的 FOREACH 宏。
*   然后我们可以使用它来循环，例如这里：`FOREACH(int, 0, 5, PRINT_INT)`

# python - 列出文件中定义的所有函数

> ID：14746426
> 
> 赞同：5
> 
> 时间：2013-02-07T08:08:57.213
> 
> 标签：python, vim

在 vim 中编辑 python 文件时；

什么是列出所有函数或类以及跳转到定义它们的行的好方法？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-07T08:16:23.160

有点“手动”但是：

```
:g/def\ .* 
```

将向您显示行，在正常模式下，您可以按`<line number>gg`跳到该行。

基于 jan 自己找到的答案如下：

用户命令 GJ（用于 GrepJump！）

```
command! -nargs=1 GJ vimgrep <q-args> % | copen 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T08:15:03.347

TagList 或 Tagbar 插件。您将需要安装 ctags 或[exuberant ctags](http://ctags.sourceforge.net/)。

摘自我的`.vimrc`：

```
Bundle "majutsushi/tagbar"
  nmap <script> <silent> <unique> <F4> :TagbarToggle<CR> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-07T08:49:46.980

知道了。如果您使用该`:vim`命令，您的搜索将重定向到 quickfixlist。因此，

```
:vim /def\ ./ %
:copen 
```

即“在当前文件中执行vim [grep]”和“打开快速修复窗口”以跳转到匹配项将完成任务。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-07T09:08:46.867

假设您使用 ctags 或某些变体，默认值`:tag foo<Tab>`或`:tag <Tab>`命令可能就足够了，但您可能会从其他文件中获取标签：

![:tag foo<Tab>](../Images/3dedf641ecd430a90a911bd8f847feaf.png)

`:ilist def .*`是另一种解决方案。在提示符下，键入`:<Number><CR>`：

![:ilist 定义 .*](../Images/e84634bb72a52bba1d605ffdfccddc9b.png)

但我喜欢[CtrlP](http://www.vim.org/scripts/script.php?script_id=3736)的`:CtrlPBufTag`：

![:CtrlPBuf标签](../Images/1d7cb9ca9c25d6af41a0f09673c4969e.png)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-07T08:15:17.097

我喜欢将方法/类代码折叠与[jpythonfold](http://www.vim.org/scripts/script.php?script_id=2527)一起使用：

![使用 jpythonfold 的 vim 编辑会话的屏幕截图](../Images/0e9d52f5afd3b8107b89afc8f819a5ae.png)

不完全符合您的要求，但它确实提供了可以快速导航的类、方法和函数的良好显示。

# jquery-ui-datepicker - Datepicker 第一次无法正常工作

> ID：14746428
> 
> 赞同：0
> 
> 时间：2013-02-07T08:09:03.993
> 
> 标签：jquery-ui-datepicker

我面临一个问题，即 Datepicker 第一次无法正常工作，即第一次打开页面并单击“from”/“to”输入字段时，datepicker 打开但我无法选择日期，因为我收到错误控制台：“此日期选择器的未捕获的缺失实例数据”。但是当我刷新页面时，它完美地工作！

为什么会发生这种情况？

* * *

这是我的代码：

```
$('.datepicker').live('focus',function(){
            $(this).datepicker({
                defaultDate : "+1w",
                changeMonth : true,
                numberOfMonth : 1,
                dateFormat: 'dd-mm-yy'
            });
        }); 
```

你能说在这里使用'.live'方法是否正确？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-30T14:29:29.290

我猜你正在这样做

```
$("#datepicker").click(function(){
$(this).datepicker({ dateFormat: 'yy-mm-dd' }).val();
}); 
```

可能只有这对我有用

```
$(function() {
$("#datepicker").datepicker({ dateFormat: 'yy-mm-dd' }).val();
}); 
```

如果它用于多个输入，则只需使用类名而不是 id。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-04-24T21:50:14.043

你可以试试这个

```
$('body').on('focus',".datepicker", function(){
    $(this).datepicker();
});​ 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-12-16T07:26:21.927

让它第一次显示你可以在点击内部执行此操作：

```
$("#datepicker").datepicker().datepicker( "show" ) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-12-16T07:42:46.200

```
$('.datepicker').on('focus',function(){
        $(this).datepicker({
            defaultDate : "+1w",
            changeMonth : true,
            numberOfMonth : 1,
            dateFormat: 'dd-mm-yy'
        });
    }); 
```

尝试这个

# java - ManagedBean中的primefaces自动完成事件itemSelect侦听器值null

> ID：14746429
> 
> 赞同：3
> 
> 时间：2013-02-07T08:09:07.487
> 
> 标签：java, jsf-2, primefaces

我正在使用 Primefaces 3.4.2 自动完成功能。

在 ManagedBean 中，当我在自动完成中键入字符时选择一行时，我无法获取方法`handleSelect(SelectEvent event)`{

这可能是什么原因？理想情况下，当我从自动完成值中选择一行时，我想填充或填充 jsf 页面中的其他列。

用于自动完成的 JSF 代码

```
<p:autoComplete value="#{empMB.selectedEmployee}"
                            id="basicPojo" minQueryLength="3" 
                            completeMethod="#{myMB.complete}" var="p"
                            itemLabel="#{p.empName}" 
                             converter="#{employeeNameConverter}"
                            forceSelection="true" >                           
                            <p:ajax event="itemSelect" 
                            listener="#{myMB.handleSelect}" /> 
```

ManagedBean 方法

```
public void handleSelect(SelectEvent event) {
String value = (String) event.getObject();
System.out.println("selected "+value); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T08:17:14.133

The reason is you didn't provide `itemValue` attribute in `p:autoComplete` component.

# java - 统计大文本文件的词频

> ID：14746430
> 
> 赞同：5
> 
> 时间：2013-02-07T08:09:31.003
> 
> 标签：java, algorithm, data-structures, text-files, word-count

我有一个巨大的文本文件（大于可用的 RAM 内存）。我需要计算所有单词的频率并将单词和频率计数输出到一个新文件中。结果应按频率计数的降序排序。

我的方法：

1.  对给定文件进行排序 - 外部排序
2.  依次统计每个单词的频率，将计数存储在另一个文件中（连同单词）
3.  根据频率计数对输出文件进行排序 - 外部排序。

我想知道是否有更好的方法来做到这一点。我听说过基于磁盘的哈希表吗？或 B+ 树，但以前从未尝试过。

注意：我在 SO 上看到过类似的问题，但没有一个必须解决数据大于内存的问题。

编辑：根据评论，同意实践中的字典应该适合当今计算机的内存。但是，让我们假设一个单词词典，它大到不适合记忆。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-07T08:15:39.070

I would go with a `map reduce` approach:

1.  Distribute your text file on nodes, assuming each text in a node can fit into RAM.
2.  Calculate each word frequency within the node. (using `hash tables` )
3.  Collect each result in a master node and combine them all.

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-07T08:16:32.610

All unique words probably fit in memory so I'd use this approach:

*   Create a dictionary (`HashMap<string, int>`).
*   Read the huge text file line by line.
*   Add new words into the dictionary and set value to 1.
*   Add 1 to the value of existing words.

After you've parsed the entire huge file:

*   Sort the dictionary by frequency.
*   Write, to a new file, the sorted dictionary with words and frequency.

Mind though to convert the words to either lowercase or uppercase.

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-07T08:24:01.240

实现它的最佳方法是逐行读取文件并将单词存储到 Multimap（例如[Guava](http://code.google.com/p/guava-libraries/wiki/NewCollectionTypesExplained#Multimap)）中。如果此 Map 扩展了您的内存，您可以尝试使用键值存储（例如 Berkeley JE DB 或[MapDB](https://github.com/jankotek/MapDB)）。这些键值存储的工作方式类似于地图，但它们将值存储在 HDD 上。我使用 MapDB 解决了类似的问题，而且速度非常快。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-07T08:15:00.247

If the list of unique words and the frequency fits in memory (not the file just the unique words) you can use a hash table and read the file sequentially (without storing it).

You can then sort the entries of the hash table by the number of occurrences.

# php - Webhook 未发布到 URL

> ID：14746436
> 
> 赞同：0
> 
> 时间：2013-02-07T08:10:29.170
> 
> 标签：php, curl, webhooks

我有一个我正在尝试配置的 Webhook。用户填写表单，它也连接到 Webhook 以将表单数据发送到另一个位置。似乎不起作用，当我提交表单时，webhook 目的地似乎没有处理/发送数据。

这是 Json 数据：

```
 data.json   { "Account_Name": [ "Test Name" ], "Email": [ "test@test.com" ], "Phone": [ "5555555555" ], "camp_id": [ "18052" ], "hs_a_t": [ "1360223458579" ], "ip_address": [ "" ], "referrer": [ "" ], "source": [ "3" ], "time_submitted": [ "07:51 AM UTC" ] }
    data.xml    <?xml version='1.0'?> <form_data> <Account_Name>Test Name</Account_Name> <Phone>5555555555</Phone> <Email>test@test.com</Email> <camp_id>18052</camp_id> <hs_a_t>1360223458579</hs_a_t> <source>3</source> <referrer/> <ip_address></ip_address> <time_submitted>07:51 AM UTC</time_submitted> </form_data>
    extra_data.json { "rapleaf": {} }
    extra_data.xml  <?xml version='1.0'?> <extra_data> <rapleaf/> </extra_data>
    page_id a75948fc-70f6-11e2-8dd8-12313e008101
    page_name   Test
    page_url    http://unbouncepages.com/test33333
    variant a 
```

这是 webhook 指向的 php 代码：

```
 <?php 
    function stripslashes_deep($value) {
    $value = is_array($value) ?
    array_map('stripslashes_deep', $value) :
    stripslashes($value);

    return $value;
    }

    if (get_magic_quotes_gpc()) {
    $unescaped_post_data = stripslashes_deep($_POST);
    } else {
    $unescaped_post_data = $_POST;
    }
    $form_data = json_decode($unescaped_post_data['data_json']);

    /*******************************
PARSE DATA FROM UNBOUNCE
    *******************************/
    $email_address          = $form_data->email[0];
    $page_id            = $_POST['page_id'];                              //Unbounce Page ID
    $page_url           = $_POST['page_url'];                       //Unbounce Page URL
    $variant            = $_POST['variant'];                        //Unbounce Page Variant   

    function mytheme_post_to_another_script($form)
    {

// Rewrite the post variables

$post = array(

    'Account_Name' => $_POST['name'], // Change iphorm_X_X to name field unique ID

    'Email' => $_POST['email_address'], // Change iphorm_X_X to email field unique ID

    'Phone' => $_POST['phone_number'], // Change iphorm_X_X to phone field unique ID

    'Website_URL' => $_POST['iphorm_1_4'],

    'Camp_ID' => $_POST['Camp_ID'],

    'Source' => $_POST['Source'],

'Email_List_ID' => $_POST['Email_List_ID'],

    'hs_a_t' => $_POST['hs_a_t']

);

// Create a new cURL resource

$ch = curl_init();

// Set URL and other appropriate options

curl_setopt($ch, CURLOPT_URL, 'http://Reports.rankupmedia.com/Client/Sales/Lead/');

curl_setopt($ch, CURLOPT_POST, true);

curl_setopt($ch, CURLOPT_POSTFIELDS, http_build_query($post));

// Grab URL and pass it to the browser

curl_exec($ch);

// Close cURL resource, and free up system resources

curl_close($ch);

    }

    ?> 
```

# visual-studio-2010 - 当访问方法为“随机”时，Visual Studio 2010 数据源的行为究竟如何？

> ID：14746439
> 
> 赞同：0
> 
> 时间：2013-02-07T08:10:38.060
> 
> 标签：visual-studio-2010, random, datasource, webtest, load-testing

在 Visual Studio 2010 中，如果将数据源绑定到 Web 性能测试，则可以选择将访问方法设置为“随机”，[定义如下](http://msdn.microsoft.com/en-us/library/ms404707%28v=vs.100%29.aspx)：

> 随机移动表格中的行。此访问方法将在整个测试期间循环遍历表中的数据。

我们一直在解析这个定义，但不确定到底发生了什么。是否意味着：

*   每次访问源时，都会随机选择一行（即，您可能会在连续两次测试中偶然获得同一行）；或者
*   源首先被打乱成随机顺序，然后数据源将“循环通过”打乱后的数据（即每行使用一次，然后第二次看到任何行）；或者
*   还有什么？

请注意，我们只有一个代理，因此无需担心来自该来源的重复。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T16:21:16.103

测试确认该行确实是完全随机选择的。

使用简单的数据源：

```
value
0
1
2
3 
```

我刚刚运行的测试中选择的值的顺序是：

```
3
3
3
1
1
2
3
...etc 
```

对于实际的“shuffle”实现，您需要编写自己的 WebTestPlugin 或 WebTestRequestPlugin。

# pentaho - 使用 Pentaho 生成命令行报告

> ID：14746440
> 
> 赞同：3
> 
> 时间：2013-02-07T08:10:38.183
> 
> 标签：pentaho

我想使用 Pentaho 报表设计器使用*命令行*自动化整个报表生成过程。是否有可能在 Pentaho 中实现它？

输入 = 存储在数据库中的结果数据 输出 = 使用报表设计器生成报表（例如图表形式）

谢谢凯利

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T11:36:54.280

如果您根本不想使用 BI 服务器，另一种选择是使用 PDI/Kettle 中的 Pentaho 报告输出步骤。这对于预定的工作非常有用。与在 BI 服务器中运行计划相比，它的优势在于您可以对它们进行 cron 定时，然后如果 BI 服务器关闭，您的报告仍将运行！即它更可靠。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:56:56.960

尝试使用 wget 并提交 xaction 的 URL。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-04-23T10:45:17.277

有一个问题[*作为报告用户，我希望能够通过简单的 GUI 工具或通过命令行运行报告，而无需*](http://jira.pentaho.com/browse/PRD-2368)自 2009 年 12 月以来打开 GUI。

根据[*运行报告的命令行工具，*](http://jira.pentaho.com/browse/BISERVER-433)截至 2014 年 3 月还没有计划。

# css - CSS 不透明度 - 无法覆盖下面 div 的文本

> ID：14746441
> 
> 赞同：0
> 
> 时间：2013-02-07T08:10:38.427
> 
> 标签：css, opacity

我有一个 div，里面有一些文本，并且“悬停”，我想显示另一个 div 和一些其他文本。

问题是从第一个 div 到第二个 div 的文本似乎都混在一起了。我希望第二个 div 完全覆盖第一个。

这是[jsfiddle](http://jsfiddle.net/3zPYV/)

HTML

```
<div class="outer_box">
        <div class="inner_box">
            Main</div>
            <span class="caption">Caption</span>
</div> 
```

CSS

```
.outer_box {
    width:100px;
    height:100px;
    background-color:orange;

}

.inner_box{
    width:100px;
    height:100px;
    position:absolute;

}

.caption {
    width:100px;
    height:100px;

    background:black;
    color:rgba(255,255,255,1);
    opacity:0;
}

.outer_box:hover .caption{
    opacity:1;
} 
```

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:17:20.933

```
.inner_box:hover {
    opacity: 0.0;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T08:19:46.520

将此添加到您的 CSS 中：

```
.outer_box:hover, .inner_box:hover {
    opacity:0;
} 
```

如果您注意到，我确保包含 .outer_box:hover 选择器，以防您的意图是使外框明显大于内框。

更多关于 opacity 属性行为的有用信息可以在这里找到： http: [//www.w3schools.com/cssref/css3_pr_opacity.asp](http://www.w3schools.com/cssref/css3_pr_opacity.asp)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-07T08:19:51.503

您需要设置第一个 div 中的文本样式，使其在悬停时消失：

```
.inner_box:hover .text {
  visibility:hidden;
} 
```

# visual-studio-2010 - Visual Studio 2010“INS”和“OVR”

> ID：14746445
> 
> 赞同：11
> 
> 时间：2013-02-07T08:11:14.607
> 
> 标签：visual-studio-2010, visual-studio

vs 2010屏幕右下角的“INS”和“OVR”消息是什么意思？

![vs 2010 ins & ovr 消息](../Images/de5e2ed9826c2e48bb2a45b2065ce51f.png)

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-07T08:13:09.513

INSERT 或 OVERTYPE 或类似的东西。

它的作用与您按下键盘上的 INSERT 触摸相同。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-02-07T08:13:35.790

它会告诉您您是处于“插入”还是“改写”模式。

来自[维基百科](http://en.wikipedia.org/wiki/Insert_key)：

> 它主要用于在个人计算机 (PC) 或文字处理器上的两种文本输入模式之间切换。**第一种是改写模式，在这种模式下，光标在键入时会覆盖当前位置上和之后出现的任何文本。另一种是插入模式，光标在其当前位置插入一个字符，强制所有字符超过它一个位置。**插入/改写模式切换对于计算机或者甚至对于单个应用程序来说不是全局的，而是对于按下插入键的文本输入窗口来说是本地的。
> 
> 在早期的基于文本的计算环境和终端上，当光标处于改写模式时，它被表示为一个围绕整个字母的块以被重击；在插入模式下，光标由在现代应用程序中非常常见的竖线组成，或者在将插入新字符的位置下方的闪烁下划线组成。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-07T08:13:32.830

```
INS - Insertion
OVR - Overwriting 
```

当模式为 INS 时，它将在插入点插入文本，否则将覆盖。

# asp.net - 使用 ASP.NET 从服务器下载所有类型的文件

> ID：14746454
> 
> 赞同：1
> 
> 时间：2013-02-07T08:12:06.860
> 
> 标签：asp.net

我在服务器中有一个文件。

我想下载这个文件。

我使用此代码

```
try
    {
        Response.Clear();
        Response.ClearContent();
        Response.ClearHeaders();
        Response.BufferOutput = true;

        if (File.Exists(Server.MapPath("~/Upload/" + file)))
        {
            Response.AddHeader("Content-Disposition", "attachment; filename=" + file);
            Response.ContentType = "application/octet-stream";
            Response.WriteFile(("~/Upload/" + file));
            Response.End();
            HttpContext.Current.ApplicationInstance.CompleteRequest();
        }
        else
        {
            if (Request.UrlReferrer != null)
            {
                Type csType = GetType();
                string jsScript = "alert('File Not Found');";
                ScriptManager.RegisterClientScriptBlock(Page, csType, "popup", jsScript, true);
            }
        }
    }
    catch (Exception ex)
    {
        string errorMsg = ex.Message;
        ScriptManager.RegisterClientScriptBlock(Page, GetType(), "popup", errorMsg, true);
    } 
```

但是当我使用它时，我得到了错误

> 无法计算表达式，因为代码已优化或本机框架位于调用堆栈顶部。

在代码中

> 响应。结束（）；

如何下载所有类型的文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:15:13.673

Is this Web Forms, MVC, or a custom IHttpHandler?

In any event, you don't need to call `Response.End()` or `HttpContext.Current.ApplicationInstance.CompleteRequest()`, just `return` from your function and ensure nothing else is written to the response.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:29:59.997

你有没有尝试过 ：

```
Response.TransmitFile(Server.MapPath("~/Upload/" + file)); 
```

代替 ：

```
Response.WriteFile(("~/Upload/" + file)); 
```

您还应该删除 BufferOutput （不带的坏`Response.End()`主意`Response.Flush()`）

# jquery - 语法错误：尝试从远程机器获取数据时标签无效

> ID：14746463
> 
> 赞同：1
> 
> 时间：2013-02-07T08:12:44.640
> 
> 标签：jquery, json, jsonp

我正在尝试使用 jquery ajax 请求从另一台机器中的控制器获取数据：

```
var url = 'http://192.168.1.206/publish' + '/Home/GetStudentById/';
var datas = 'studentId=' + 13;
$.ajax({
    type: 'POST',
    url: url,
    async: false,
    data: datas,
    crossDomain: false,
    jsonpCallback: 'jsonCallback',
    contentType: "application/json",
    dataType: 'jsonp',
    error: function (data) {
        alert('bad');
    },
    success: function (data) {
        alert('good');
    },
    complete: function (data) {
        debugger;
        alert('foo');
    }
}); 
```

它返回数据但总是给我这个错误**`Syntax Error: invalid label`**

![在此处输入图像描述](../Images/6f9c27c571b9ba5f114d9f9937ca65f6.png)

和 json 结果看起来像：

```
{"Student0":{"StudentID":"13","RegisterationNo":"125426","FullName":"mohamed bader mohamed bader","ClassName":"First Primary","ClassroomName":"1/5","Phone":"11212","CivilID":"153641789","CurrentClassID":"4","CurrentYearID":"1"},"Student1":{"StudentID":"13","RegisterationNo":"125426","FullName":"mohamed bader mohamed bader","ClassName":"First Primary","ClassroomName":"1/2","Phone":"11212","CivilID":"153641789","CurrentClassID":"4","CurrentYearID":""},"Student2":{"StudentID":"13","RegisterationNo":"125426","FullName":"mohamed bader mohamed bader","ClassName":"First Primary","ClassroomName":"1/3","Phone":"11212","CivilID":"153641789","CurrentClassID":"4","CurrentYearID":""},"Student3":{"StudentID":"13","RegisterationNo":"125426","FullName":"mohamed bader mohamed bader","ClassName":"First Primary","ClassroomName":"1/4","Phone":"11212","CivilID":"153641789","CurrentClassID":"4","CurrentYearID":""},"Student4":{"StudentID":"13","RegisterationNo":"125426","FullName":"mohamed bader mohamed bader","ClassName":"First Primary","ClassroomName":"1","Phone":"11212","CivilID":"153641789","CurrentClassID":"4","CurrentYearID":""}} 
```

# php - MYSQL ON UPDATE CURRENT_TIMESTAMP 在使用 INSERT OR REPLACE 时不更新？

> ID：14746473
> 
> 赞同：1
> 
> 时间：2013-02-07T08:13:18.937
> 
> 标签：php, mysql, sql, timestamp

我无法`NOW`在 last_updated cloumn 中更新当前时间（）。

因为我已经从文本文件中读取了这个查询。

```
INSERT OR REPLACE INTO table_name (kb_corporate_guid,kb_user_guid,
                                   name,last_updated) 
VALUES ('100','121','FAQ','2013-02-07 07:06:05'); 
```

`ignore last_updated`即使我在查询和`replace with NOW()`值中指定了 last_updated cloumn，我也想cloumn 值 '2013-02-07 07:06:05'。

我试过这个，但它对我不起作用。

```
ALTER TABLE table_name
   CHANGE `last_updated` `last_updated`  timestamp NOT NULL DEFAULT '0000-00-00 00:00:00' ON UPDATE CURRENT_TIMESTAMP; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T09:21:15.603

**选项1**

`last_updated`您可以在插入/更新上创建触发器，该触发器将使用 MySql函数更新字段`NOW()`，它会覆盖字段值，但是当您进行批量插入/更新时，它可能会减慢该过程。

**选项 2**

从文本文件中查找并替换 last_updated 字段和时间戳值的文本。

**选项 3**

创建具有相同架构的临时表并导入到临时表中，然后使用`INSERT INTO main_table SELECT corp_id, user_id, name, NOW() FROM temp_table`表插入到主表中。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T08:14:58.370

Default is used when the value is not sent in the query, use now in the query instead of timestamp..

# sitemesh - sitemesh 在更大的页面大小上花费更多时间

> ID：14746481
> 
> 赞同：1
> 
> 时间：2013-02-07T08:13:41.933
> 
> 标签：sitemesh

使用 sitemesh 版本 2.4.2

page-size 50k 时耗时 10ms；
页面大小为 100k 时耗时 30ms；
当页面大小为 300k 时，它会花费 60ms。

变大时如何减少耗时`page-size`？

# javascript - 如何在 jqGrid 的 tr 中获得特定的 td？

> ID：14746484
> 
> 赞同：1
> 
> 时间：2013-02-07T08:13:51.323
> 
> 标签：javascript, jquery, jqgrid

我有这个`$('#' + rowid)`

和所有的tds`$('#' + rowid).find("td")`

但是如何找到单个 td？不是全部。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T08:27:09.617

尝试使用`getCell('row_id', 'column_index')`方法。

[在此处](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3amethods)查看文档

[编辑]

通过本机 Javascript；

```
 var row = document.getElementById('row_id');
    var cell = row.cells[cell_index]; //cell_index will be integer starting with 0 

    /* 
      do whatever you want with cell
    */ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:38:49.880

您可以使用

```
.children(':first') 
```

或者

```
index() 
```

或者

```
find("td :first") 
```

# php - 处理文件/变量中的 php 标签

> ID：14746487
> 
> 赞同：0
> 
> 时间：2013-02-07T08:13:55.580
> 
> 标签：php, tags, backend

我有很多文件，里面可能有也可能没有 php 标签（`<?php... ?>`）。

首先，我需要检查这些文件中是否存在 php 标签。这里没问题。我使用 fopen，将内容保存到变量中，然后使用 strpos 来执行此操作。

接下来，如果它有 php 标签，我将其保存到一个临时文件中，然后使用`ob_start()`包含，并将`ob_get_clean()`输出保存到一个变量中以供进一步处理。

有没有其他方法可以替代这种方法？也许一个更简单的，比如不必将它保存到一个临时文件，而是从变量中处理它？

我想到的另一种选择是使用 fopen 和 strpos 检查文件中是否存在标签，然后使用`ob_start()`, include （原始文件），并将`ob_get_clean()`输出保存到变量中以供进一步处理。

任何意见？

我将不胜感激任何回应和/或评论。

顺便说一句，如果您可能会问，我正在开发一个后端，该后端接受来自用户的输入，这些输入可能包含也可能不包含 php 标签。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-09T15:44:56.857

这是我能想到的最简单的方法：

```
<?php
  function fileHasPHPTags($fileName) {
    return strpos(file_get_contents($fileName),"<?php")!==false;
  }
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-09T15:39:19.673

你的问题并没有真正提到你实际上在做什么，所以我假设你正在做非常危险的“解析 <?php ?> 块中的代码以便它可以运行”。简短的回答：不要这样做。

好吧，我想这不是一个答案，更像是一个声明。但这就是原因：即使您的用户都是值得信赖的用户，而且他们都在您的个人朋友圈中并且他们都是专家，您只需要一次失误就可以搞砸整个系统。意外的 unlink()？太糟糕了，现在你们都搞砸了。不，“我们不必担心，每个人都很酷”不是一个好的反驳。有人，在某个时候，会搞砸，时间越长，你失去的就越多=)

话虽如此，这取决于你想做什么。如果你想全部运行它，那么只需将输入保存到一个临时文件，包含（）该文件，然后再次取消链接（）它。整个事情将在范围内执行，它会被视为系统上的普通 PHP 文件。

**警告** *这是非常危险的，切勿在非沙盒的公共服务器上执行此操作，即使它位于 Intranet 上。这种方法实际上是一个完全匿名的远程访问解决方案* **警告**

如果你想把代码和非代码剥离出来分别处理，好像它们之间没有任何关系，一个简单的非贪婪的preg_match_all找到代码块，然后做一个str_replace来杀死它们原始提交的内容将为您提供一个代码块数组，以及一个删除了这些块的输入字符串。工作完成（尽管我不确定为什么在这种情况下您不会对内容和代码使用单独的提交过程，因为它们将彼此独立）。

# jquery - 通过jquery在悬停事件上填充单选按钮的颜色？

> ID：14746489
> 
> 赞同：0
> 
> 时间：2013-02-07T08:13:57.113
> 
> 标签：jquery, radio-button

是否可以通过鼠标悬停事件来控制单选按钮的显示？

目标是当鼠标悬停时它看起来被选中，而当鼠标离开时它看起来未被选中。但它只有在被点击时才会被检查，就像评级一样。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:22:16.567

不幸的是，默认浏览器单选按钮的背景颜色无法通过 CSS、jQuery 或任何其他方式设置样式。您可能想考虑使用自定义图像。

[更新] 使用 CSS 类，并且只使用 jQuery 来切换类。

```
$('body').on('click', '.fav-icon', function() {
    $(this).toggleClass('active');
}); 
```

见jsfiddle：http: [//jsfiddle.net/samliew/TWduB/5/](http://jsfiddle.net/samliew/TWduB/5/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T08:23:31.677

简单的答案是：

**不，您不能更改单选按钮的颜色。**

相反，您可以使用这样的 img sprites 根据您的需要自定义它：

![在此处输入图像描述](../Images/18ad880f79029b388a4f99f34b8db509.png)

有关它的更多信息[**：自定义收音机**](http://ryanfait.com/resources/custom-checkboxes-and-radio-buttons/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-07T08:25:11.860

[Shreya，据我所知，如果没有任何外部插件或库（类似于This](http://ryanfait.com/resources/custom-checkboxes-and-radio-buttons/) ） ，元素（圆点本身）将很难修改。

这是因为元素是浏览器的一部分。

但是，当您尝试针对某个浏览器时，它会变得更容易。

在这个平台上也有人问过类似的问题，你可以在[这里](https://stackoverflow.com/questions/4253920/how-do-i-change-the-color-of-radio-buttons)找到它。

希望能帮助到你！祝你好运！

# ruby - 使用 data_mapper (Ruby 1.8.7) 运行时如何解决 DataObjects::ConnectionError

> ID：14746490
> 
> 赞同：0
> 
> 时间：2013-02-07T08:14:05.310
> 
> 标签：ruby, linux, ruby-datamapper, sqlite3-ruby

当我运行这段代码

```
require 'rubygems'
require 'data_mapper'
require "sqlite3"

DataMapper::setup(:default, "sqlite3://#{Dir.pwd}./prod.db")

class Person
  include DataMapper::Resource
  property :id, Serial

  def initialize(name)
    self[:name] = name
    self.save!
  end

end

DataMapper.finalize.auto_migrate! 
```

抛出此错误

> DataObjects::ConnectionError: 无法打开数据库文件（代码：14，sql 状态：，查询：，uri：）。

它似乎在抱怨这`DataMapper.finalize.auto_migrate!`条线。

如果我注释掉 person 类，代码运行良好，尽管有点无用。

我遇到错误的操作系统是 Linux Mageia 2。我在运行 Ruby 1.9.3 的 WindowsXP 和 Windows7 上运行良好，但我怀疑问题是旧的 ruby​​ 版本不是操作系统的问题。

另外，告诉你包含该文件的文件夹的权限非常开放（-rwxrwxrwx）对我来说可能很重要（它可能不适合日常使用，但我迫切希望让 data_mapper 工作） .

以下是其他可能有趣的规格 我的本地宝石 sqlite3 (1.3.7, 1.3.3) sqlite3-ruby (1.3.3) data_mapper (1.2.0)

我知道这里有很多变量可以改变。我想我会先把它放在那里，看看它是否是我愚蠢地失踪的简单修复:)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T12:28:23.893

在您的代码中，您有 DataMapper 设置说明

```
DataMapper::setup(:default, "sqlite3://#{Dir.pwd}./prod.db") 
```

这表明 sqlite 数据库文件位置位于名为：当前工作目录 + 的目录`.`中，无法找到该目录，因此出现错误。因此，从 URI 中删除点应该可以解决该部分的问题。

注意`#{Dir.pwd}`指向当前工作目录；指向相对于当前文件的绝对路径可能更安全，而是说 - 例如：`File.dirname(File.expand_path(__FILE__))`. 原因是如果文件在它所在的目录之外使用，是可以找到的。

现在为类定义。在您的初始化中，您引用了一个不存在的方法/属性，称为`name`. 我认为您正在寻找的只是一个属性声明，例如

```
property :name, String 
```

你不需要一个初始化器，你可以使用，例如，`Person.create(:name => 'Foo')`将对象持久化到数据库中。

说到这，回到默认的数据库连接，您可能有兴趣使用内存中的 sqlite 进行测试。你可以这样做

```
DataMapper.setup(:default, "sqlite::memory:') 
```

每次使用该文件时，这都会从一个干净的状态启动数据库。

# jquery - jQuery 从 XML 获取数据并将其发送到灯箱

> ID：14746491
> 
> 赞同：0
> 
> 时间：2013-02-07T08:14:06.783
> 
> 标签：jquery, xml, ajax

我正在使用 jQuery 从 XML 文件中获取结果并在 div 中显示每个条目。这是可行的，但现在我想这样做，以便如果我单击 div，它会在灯箱中显示来自 xml 的更多数据。

我在[这里](http://jsfiddle.net/zSfZ8/)创建了一个 jsfiddle ，但它不起作用：

这是我的html：

```
<section id="page3">
    <section class="portfolio row">
        <! Hier komen cases uit xml !>
                <div id="clearfix"></div>
            </section>
            <section class="portfolio_detail">
               <span class="prev">&lt;</span>
               <section class="ajax_image"></section>
               <span class="next">&gt;</span>
               <span class="close">X</span>
               <section class="watermark">
               <p>Thomas More &copy; Insilencio<br>
               Corporate identity maximum two lines</p>
               </section>
            </section>
        </section> 
```

这是我的 jQuery：

```
 $.ajax({
    type: 'GET',
    url: "hellojames.commefort.com/onepager/data.xml",
    dataType: "xml",
    success: function (data) {
        //console.log(data);
        $(data).find("case").each(function () {
            var dezeCase = $(this);
            var id = dezeCase.find("id").text();
            var titel = dezeCase.find("titel").text();
            var thumb = dezeCase.find("thumb").text();
            var full = dezeCase.find("full");
            var images = full.find('img');
            var imagesArray = images;
            var html = '<div class="portfolio_item col" id="' + titel + '"><img src="' + thumb + '" alt="' + titel + '"><p class="caption">' + titel + '</p></div>';

            $('.portfolio').prepend(html);
            mouseHover();
            caseClick(imagesArray);
        });
    }
});

function mouseHover() {
    $('.portfolio_item').mouseover(function () {
        $(this).children('img').addClass("hover");
        $(this).children('.caption').show();
        //console.log('hover');
    }).mouseout(function () {
        $(this).children('img').removeClass("hover");
        //console.log('stophover');
        $('.caption').hide();
    });
};

function caseClick(afbeeldingen) {
    /* Detailpagina */
    $('.portfolio_item').on('click', function () {
        var lightbox = $('.portfolio_detail');
        $(".ajax_image").empty();
        lightbox.show().children().hide();
        lightbox.animate({
            width: '100%',
            height: "100%"
        }, 'fast');
        lightbox.children().fadeIn('slow');
        var inhoud = "<img src='" + afbeeldingen + "'>";
        $(".ajax_image").append(inhoud);
    });

}; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:43:26.817

不确定，但这可能会有所帮助：

由于您的 div`.portfolio_item`是动态生成的，因此您必须`delegate the event to the existing closest parent elem`或者`simply delegate to the document itself`哪个是页面上所有元素的父级。

```
function caseClick(afbeeldingen) {
  $(document).on('click', '.portfolio_item', function () {
      var lightbox = $('.portfolio_detail');
      $(".ajax_image").empty();
      lightbox.show().children().hide();
      lightbox.animate({
        width: '100%',
        height: "100%"
      }, 'fast');
      lightbox.children().fadeIn('slow');
      var inhoud = "<img src='" + afbeeldingen + "'>";
      $(".ajax_image").append(inhoud);
  });
} //<-----------';' not required same applies to function mouseover(){} 
```

你应该`;`在什么时候使用

```
var caseClick = function(afbeeldingen){
    // all your code stuff
}; // <----------------------here `;` needed 
```

制作这样的功能。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:48:56.200

```
var $body=$(document.body); 
$body.on({

  'mouseover':function(e) {
    //..
      }
  ,'mouseout':function(e) {//...
   }

  ,'click', function () {
    var lightbox = $('.portfolio_detail');
    $(".ajax_image").empty();
    lightbox.show().children().hide();
    lightbox.animate({
        width: '100%',
        height: "100%"
    }, 'fast');
    lightbox.children().fadeIn('slow');
    var inhoud = "<img src='" + $(this).data("imgsrc") + "'>";
    $(".ajax_image").append(inhoud);
}
, '.portfolio_item');

 $.ajax({
type: 'GET',
url: "hellojames.commefort.com/onepager/data.xml",
dataType: "xml",
success: function (data) {
    var html='';
     //console.log(data);
    $(data).find("case").each(function () {
        var dezeCase = $(this);
        var id = dezeCase.find("id").text();
        var titel = dezeCase.find("titel").text();
        var thumb = dezeCase.find("thumb").text();
        var full = dezeCase.find("full");

        html += '<div class="portfolio_item col" data-imgsrc="'+full.find('img')+'" id="' + titel + '"><img src="' + thumb + '" alt="' + titel + '"><p class="caption">' + titel + '</p></div>';

    });
    $(html).prependTo($('.portfolio'));
}
}); 
```

为了优化它，在添加/添加之前将您的项目包装在一个容器中

# sql-server - Is there a way to connect LOCALHOST without using ComputerName in SQL Server?

> ID：14746496
> 
> 赞同：3
> 
> 时间：2013-02-07T08:14:33.960
> 
> 标签：sql-server, sql-server-2008, sql-server-2012

Is it possible to connect `LOCALHOST DatabaseEgnine` without providing the computer name like `MyComputerName\LOCALHOST` ?

(I use SQL Server 2012 - Standard Edition installed)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T12:27:02.707

`MyComputerName\LOCALHOST`是在您的计算机上调用的[**命名实例。**](http://msdn.microsoft.com/en-us/library/ms143531%28v=sql.100%29.aspx)`LOCALHOST`要连接到它，您必须指定实例名称（并运行[SQL Server Browser 服务](http://msdn.microsoft.com/en-us/library/ms181087%28v=sql.105%29.aspx)）或显式指定侦听端口（并将实例[配置为侦听静态端口](http://support.microsoft.com/kb/823938)，非默认，因为默认为动态端口）。因此，以下任何一项都将起作用：

*   `.\LOCALHOST`
*   `localhost\LOCALHOST`
*   `local\LOCALHOST`
*   `127.0.0.1\LOCALHOST`
*   `machinename\LOCALHOST`
*   `.:<port>`
*   `localhost:<port>`
*   `127.0.0.1:<port>`
*   ETC

您实际上不太可能安装一个名为 LOCALHOST 的命名实例。您可能没有阅读设置对话框并错误配置了实例名称。我的建议是再次安装它，选择默认实例（即未命名）或更方便且不易混淆的实例名称。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T08:17:14.677

you can use `.` as servername e.g.

```
 .\mssqlserver 
    .\sqlexpress 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-07T10:39:56.703

对于默认实例:::

（本地）或 . （这是一个点）

命名实例：（本地）\InstanceName（或）.\InstanceName

# php - 如何在 Zend 框架 2 中为 Zend/Form 生成的标签添加属性

> ID：14746497
> 
> 赞同：24
> 
> 时间：2013-02-07T08:14:45.703
> 
> 标签：php, forms, zend-framework2, label, zend-form2

我正在使用 Zend/Form 向我的页面添加表单。

我通过如下定义来添加元素：

```
 $this->add(array(
            'name' => 'value',
            'attributes' => array(
                    'type'  => 'text',
                    'id' => 'value',
                    'autocomplete' => 'off',
                    'placeholder' => 'Cost',
            ),
            'options' => array(
                    'label' => 'Cost',
            ),
    )); 
```

如您所见，有一个 'label' => 'cost' 节点，这会生成一个与输入元素一起使用的标签。

如何向此标签添加类、属性？

* * *

## 回答 #1

> 赞同：49
> 
> 时间：2013-02-07T08:27:16.407

请试试这个，我没有测试或使用过这个，但是从源代码来看它应该可以正常工作：

```
$this->add(array(
    'name'       => 'value',
    'attributes' => array(),
    'options'    => array(
        'label_attributes' => array(
            'class'  => 'mycss classes'
        ),
        // more options
    ),        
)); 
```

如果这不起作用，请给我留言。如果它不起作用，则无法使用这种方法，因为`FormLabel`限制了`validAttributes`很多：

```
protected $validTagAttributes = array(
    'for'  => true,
    'form' => true,
); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-10-03T12:45:45.213

这在 Zend Framework 2.3 中运行良好：

```
$this->add(array(
  'name' => 'userName',
  'attributes' => array(
      'type'  => 'text',
      'class' => 'form-control',
      'placeholder' =>'Username',
  ),
  'options' => array(
      'label' => 'Username',
      'label_attributes' => array('class' => 'control-label')
  ),

)); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-30T23:58:48.247

```
$element->setOptions(array('label_class' => array('class' => 'control-label'))); 
```

生成如下代码：

```
<label class="control-label">
  <input type="radio" name="option1" id="option1" value="1">
  Option 1
</label>
<label class="control-label">
  <input type="radio" name="option2" id="option2" value="2">
  Option 2
</label> 
```

我试过这个。它在 Zend Framework One 中工作。

请注意，如果您使用

> $element->setOptions(array('label_attributes' => array('class' => 'control-label')));

由于某种原因，您会得到不良影响

```
<label attributes="control-label">
  <input type="radio" name="option1" id="option1" value="1">
  Option 1
</label> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-10-24T20:14:33.530

对于 ZF2+ 的编程方法，请尝试以下操作：

```
$element->setOptions(array(
    'label_attributes' => array(
        'style' => 'color:gray;'
    )
)); 
```

受到达蒙回答的启发。

# visual-studio - Visual Studio 调试实例不再显示表单

> ID：14746506
> 
> 赞同：0
> 
> 时间：2013-02-07T08:15:07.933
> 
> 标签：visual-studio, debugging, visual-studio-2008

我有一个项目（来自 SVN 存储库），它昨天在我启动一个新的调试实例时运行。它会给我一个表格，让我在上面做一些事情。今天，我尝试再次运行一个新的调试实例（旧的已关闭/停止）。它没有向我显示表单，尽管似乎一切都已开始并且没有显示任何错误。

我什至尝试将 SVN 存储库恢复到最后一个版本（我开始使用的版本，它有效）。尽管如此，它并没有向我显示表格，所以我在想也许我切换了一个设置或什么？

我对 Visual Studio 2008 不太熟悉，所以我想先在这里问一下。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T09:09:27.437

如果您正在运行 Winforms，则 Form_Load EventHandler 会出现问题，即如果出现错误，则不会被抛出。我会在 Form_Load 方法的开始处放置一个断点并逐步执行它以确保没有任何问题。请参阅此[SO 问题](https://stackoverflow.com/questions/1583351/silent-failures-in-c-seemingly-unhandled-exceptions-that-does-not-crash-the-pr)。

如果这不起作用，我会将您的断点放在 Forms Constructor 中并单步执行您的代码，以确保 InitializeComponent 方法没有问题。

您还在评论中提到您的问题与 Com 端口有关。如果您之前运行过您的程序并且它挂起或从未真正退出，那么您的程序实例仍有可能仍在运行，您需要检查您的 TaskManager。它可以锁定端口并阻止您打开它（*我去过那里并做过*）。我不得不杀死我的程序的所有实例，如果这不起作用重新启动计算机和远程设备。

# iphone - EKEditviewController keeps showing the title in the navigationbar

> ID：14746513
> 
> 赞同：0
> 
> 时间：2013-02-07T08:15:18.507
> 
> 标签：iphone, ios, objective-c, eventkit, ekeventkit

I'm working with the `EventKit Framework`. It is working almost perfect but I have still some issues. When I push my on an Event, it goes to the details of that Event. It shows correctly the details and I can also edit and save it. The problem is with the navigation bar.

It shows the titles inside the navigation bar.These titles are *Event Details and Edit*. Also it is not showing a backbutton, to go back to my calendar. What I also should mention is that I'm using the Kal Calendar framework.

I'm pushing to de detailsViewController like this.

```
 Appointment *appointment = [dataSource appointmentAtIndexPath:indexPath];

    // Upon selecting an event, create an EKEventViewController to display the event.
    self.detailViewController = [[EKEventViewController alloc] initWithNibName:nil bundle:nil];
    self.detailViewController.title = @"";
    detailViewController.event = appointment.event;

    // Allow event editing.
    detailViewController.allowsEditing = YES;

   [calendar.navigationController pushViewController:detailViewController animated:YES]; 
```

And this is how my delegate looks like

```
// Overriding EKEventEditViewDelegate method to update event store according to user actions.
- (void)eventEditViewController:(EKEventEditViewController *)controller
          didCompleteWithAction:(EKEventEditViewAction)action {

    NSError *error = nil;
    EKEvent *thisEvent = controller.event;
    controller.title = @"";
    switch (action) {
        case EKEventEditViewActionCanceled:
            // Edit action canceled, do nothing.
            break;

        case EKEventEditViewActionSaved:
            // When user hit "Done" button, save the newly created event to the event store,
            // and reload table view.
            // If the new event is being added to the default calendar, then update its
            // eventsList.
            if (self.defaultCalendar ==  thisEvent.calendar) {
                [self.eventsList addObject:thisEvent];
            }
            [controller.eventStore saveEvent:controller.event span:EKSpanThisEvent error:&error];
            //[calendar reloadData];
            break;

        case EKEventEditViewActionDeleted:
            // When deleting an event, remove the event from the event store,
            // and reload table view.
            // If deleting an event from the currenly default calendar, then update its
            // eventsList.
            if (self.defaultCalendar ==  thisEvent.calendar) {
                [self.eventsList removeObject:thisEvent];
            }
            [controller.eventStore removeEvent:thisEvent span:EKSpanThisEvent error:&error];
            //[calendar reloadData];
            break;

        default:
            break;
    }
    // Dismiss the modal view controller
    [controller dismissModalViewControllerAnimated:YES];

}

// Set the calendar edited by EKEventEditViewController to our chosen calendar - the default calendar.
- (EKCalendar *)eventEditViewControllerDefaultCalendarForNewEvents:(EKEventEditViewController *)controller {
    EKCalendar *calendarForEdit = self.defaultCalendar;
    return calendarForEdit;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-02-11T16:04:48.007

我想出了这个解决方案：

```
EKEventEditViewController * controller = [[EKEventEditViewController alloc] init];
    controller.eventStore = self.eventStore;
    controller.event = result;
    controller.title = @"";
    controller.navigationItem.title = @"";
    controller.navigationItem.titleView = [UIView new];
    NSArray * array =controller.navigationBar.items;
    UINavigationItem * titleItem = array.firstObject;
    titleItem.title = @"";
    controller.editViewDelegate = (id)self;
    [self presentViewController:controller animated:YES completion:NULL]; 
```

`EKEventEditViewController`没有嵌入到导航控制器中，它有自己的`UINavigationBar`，如果Apple将来更改它并将其嵌入到导航控制器中，我会保留导航项。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:51:31.127

我认为您已在情节提要或 nib 文件中添加了导航项。去掉它。

制作`self.title=nil;`或`self.title=@"";`

# iphone - 如何使用 CATransform3DMakeRotation 从左到右旋转视图

> ID：14746517
> 
> 赞同：1
> 
> 时间：2013-02-07T08:15:28.557
> 
> 标签：iphone, ios, calayer, catransform3d

我知道如何从右到左旋转视图

```
CATransform3D transform = CATransform3DIdentity;
transform = CATransform3DMakeRotation(M_PI, 0.0f, 1.0f, 0.0f);
transform.m34 = 0.0015;
view.layer.transform = transform; 
```

但我不能从左到右旋转它。请帮我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-08T08:33:16.863

我不确定您所说的“从左到右”和“从右到左”是什么意思。无论如何，正如您所发现的，您无法仅通过设置变换矩阵来控制动画的方向，因为 -M_PI 和 +M_PI 具有相同的最终效果，因此Core Animation无法可靠地知道您选择哪种方式想让它旋转。

相反，您可以[为图层的关键路径](http://developer.apple.com/library/ios/documentation/cocoa/conceptual/coreanimation_guide/Key-ValueCodingExtensions/Key-ValueCodingExtensions.html#//apple_ref/doc/uid/TP40004514-CH12-SW1)[设置动画`transform.rotation.y`](http://developer.apple.com/library/ios/documentation/cocoa/conceptual/coreanimation_guide/Key-ValueCodingExtensions/Key-ValueCodingExtensions.html#//apple_ref/doc/uid/TP40004514-CH12-SW1)。这有点复杂，特别是因为您想要动画视图的图层而不是独立图层（不受视图控制）。

无论如何，这是我测试的代码：

```
- (IBAction)rotateButtonWasTapped:(id)sender {
    // Establish the perspective to be used during the animation.
    CATransform3D transform = CATransform3DIdentity;
    transform.m34 = 0.0015;
    self.imageView.layer.transform = transform;

    static CGFloat kAngle = -M_PI;

    [CATransaction begin]; {
        // After the animation completes, make the transform “permanent”.  Otherwise it
        // will be undone when the animation is removed from the layer.
        [CATransaction setCompletionBlock:^{
            self.imageView.layer.transform = CATransform3DRotate(transform, kAngle, 0, 1, 0);
        }];

        // Animate the rotation using Core Animation's extension to Key Value Coding.
        // The sign of kAngle determines the direction of rotation.
        CABasicAnimation *animation = [CABasicAnimation
            animationWithKeyPath:@"transform.rotation.y"];
        animation.fromValue = @0;
        animation.toValue = @(kAngle);
        animation.duration = 1;
        [self.imageView.layer addAnimation:animation forKey:animation.keyPath];
    } [CATransaction commit];
} 
```

这会旋转视图，以使视图的左边缘在旋转期间“更靠近”用户。如果这不是您所说的“从左到右”，请更改`kAngle`to的定义，`M_PI`它将向另一个方向旋转。我已经测试了两种方式。您甚至可以在一个动画中多次旋转图层。例如，尝试定义`kAngle`为`-3 * M_PI`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:29:35.193

我在函数文档中没有找到任何内容，但我认为您可以将旋转角度设为负值以旋转到另一个方向。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-08T07:53:27.513

如果你想旋转视图，回到初始位置......只需这样做：

```
transform = CATransform3DMakeRotation(0, 0.0f, 1.0f, 0.0f) 
```

或者你可以“组合”更多..

```
CATransform3D transform = CATransform3DIdentity;
transform = CATransform3DMakeRotation(-M_PI_2, 0.0f, 1.0f, 0.0f);
transform = CATransform3DMakeRotation(0, 0.0f, 1.0f, 0.0f);
transform.m34 = 0.0015;
view.layer.transform = transform; 
```

您可以尝试...使用`CATransform3D transform = starLayer.transform;`而不是`CATransform3D transform = CATransform3DIdentity;`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-04-27T20:11:50.940

-(void)updateTimer { if(update<125) update=update+1;

```
NSTimeInterval now = [NSDate timeIntervalSinceReferenceDate];
NSTimeInterval interval = now - start;
int inter = (int)(interval*update);
inter*=10;

milliSec = (inter) % 1000;
seconds = (inter/1000) % 60;
minutes = (inter/60000) % 60;

timeValue = oldTimeValue+inter;

// Set Digital clock

// Set Analog clock hands

secHand.layer.transform = CATransform3DMakeRotation (Degrees2Radians(-(timeValue%1000)*360/1000), 0, 0, 1); 
```

}

# php - 获取图片扩展

> ID：14746518
> 
> 赞同：14
> 
> 时间：2013-02-07T08:15:28.360
> 
> 标签：php, image

我想要上传图片扩展。

据我所知，最好的方法是`getimagesize()`功能。

但是这个函数的哑剧，`image/jpeg`当图像有`.jpg`或也有`.JPEG`扩展名时返回。

如何才能得到确切的扩展？

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2013-02-07T08:21:31.360

您可以将[`image_type_to_extension`](http://www.php.net/manual/en/function.image-type-to-extension.php)函数与返回的图像类型一起使用`getimagesize`：

```
$info = getimagesize($path);
$extension = image_type_to_extension($info[2]); 
```

* * *

## 回答 #2

> 赞同：30
> 
> 时间：2013-02-07T08:16:52.830

```
$ext = pathinfo($filename, PATHINFO_EXTENSION); 
```

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2013-02-07T12:54:50.387

您还可以使用 strrpos 和 substr 函数来获取任何文件的扩展名

```
$filePath="images/ajax-loader.gif";

$type=substr($filePath,strrpos($filePath,'.')+1);

echo "file type=".$type; 
```

> 输出：gif

如果你想要像 .gif 这样的扩展名

```
$type=substr($filePath,strrpos($filePath,'.')+0); 
```

> 输出：.gif

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2013-02-07T08:19:03.747

```
$image = explode(".","test.file.hhh.kkk.jpg");
echo end($image); 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2013-02-07T08:21:59.880

另一种方法：

```
$ext = strrchr($filename, "."); // .jpg 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2018-02-18T10:51:20.743

```
$file_ext = pathinfo($_FILES["file"]["name"], PATHINFO_EXTENSION); 
```

或者让它变得干净

```
$filename= $_FILES["file"]["name"];
$file_ext = pathinfo($filename,PATHINFO_EXTENSION); 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-07T08:29:06.880

你也可以用点来分解文件名，并把数组的结尾取为如下：

```
$ext = end(explode('.', 'image.name.gif')); 
```

根据：[在PHP中查找文件扩展名的两种不同方法](http://sikitech.blogspot.com/2013/02/two-different-ways-to-find-file.html)

还有一种新方法，哈哈：

```
$ext = explode('.', 'file.name.lol.lolz.jpg');
echo $ext[count($ext) - 1]; 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-04-11T08:31:44.543

对于那些想要检查图像类型是 JPEG、PNG 等的人，您可以使用[exif_imagetype](http://php.net/manual/en/function.exif-imagetype.php)函数。此函数读取图像的第一个字节并检查其签名。这是一个来自 php.net 的简单示例：

```
<?php
if (exif_imagetype('image.gif') != IMAGETYPE_GIF) {
   echo 'The picture is not a gif';
}
?> 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2016-09-07T03:54:10.573

```
$size = getimagesize($filename);
$ext = explode('/', $size['mime'])[1]; 
```

# android - android setAlpha slow

> ID：14746524
> 
> 赞同：3
> 
> 时间：2013-02-07T08:15:56.940
> 
> 标签：android, view, alpha

If I do `setAlpha(0.5f)` on a few (image) views, my app gets horribly slow, at least on my Android 4.+ tablets.

If I remove the `setAlpha` calls, the app (scrolling and paging) works smoothly.

Is there an alternative/faster method for making my views semitransparent?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:19:13.747

如果您提供一些代码，我可以尝试看看有什么问题，没有理由和解释使应用程序变慢，代码/项目/布局中必须有其他东西使您的应用程序运行更慢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:19:46.527

尝试在绘制其子项之前创建一个调用 Canvas.saveLayerAlpha() 的自定义视图。Android 3.0+ 版本有一个 View.setAlpha() api..

您也可以创建透明或不透明背景。这是链接 [http://zaman91.wordpress.com/2010/03/22/android-how-to-create-transparent-or-opeque-background/](http://zaman91.wordpress.com/2010/03/22/android-how-to-create-transparent-or-opeque-background/)

希望能帮助到你。

# mongodb - 在哪里可以找到 MongoDB 的 map/reduce 中使用的 emit() 函数实现？

> ID：14746537
> 
> 赞同：2
> 
> 时间：2013-02-07T08:17:00.333
> 
> 标签：mongodb, mapreduce, emit

我正在尝试更深入地了解 MongoDB 中的 map/reduce。

我认为实现这一点的最佳方法是查看 emit 的实际实现。我在哪里可以找到它？

更好的是只是一个简单的实现`emit()`。在 MongoDB 文档中，他们展示了一种`emit()`通过自己编写进行故障排除的方法，但是他们给出的基本实现实在是太基础了。

我想了解分组是如何进行的。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T09:01:27.170

我认为您正在寻找的定义位于此处：

[https://github.com/mongodb/mongo/blob/master/src/mongo/db/commands/mr.cpp#L886](https://github.com/mongodb/mongo/blob/master/src/mongo/db/commands/mr.cpp#L886)

虽然要完全理解正在发生的事情，但需要相当多的上下文。我承认，我没有。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-17T18:22:46.963

1.Mongo所需的JS版本不再在O.Powell的url中，已经死了。我找不到它了。

2.下面的代码似乎是最感兴趣的片段。这个 cpp 函数 switchMode 计算要使用的发射函数。它目前在； [https://github.com/mongodb/mongo/blob/master/src/mongo/db/commands/mr.cpp#L815](https://github.com/mongodb/mongo/blob/master/src/mongo/db/commands/mr.cpp#L815)

3.我试图查看 emit 是否默认包含 _id 键，这似乎是通过 _mrMap 发生的，此处未显示。在其他地方，它被初始化为 {}，即空地图。

```
void State::switchMode(bool jsMode) {
    _jsMode = jsMode;
    if (jsMode) {
        // emit function that stays in JS
        _scope->setFunction("emit",
                            "function(key, value) {"
                            " if (typeof(key) === 'object') {"
                            " _bailFromJS(key, value);"
                            " return;"
                            " }"
                            " ++_emitCt;"
                            " var map = _mrMap;"
                            " var list = map[key];"
                            " if (!list) {"
                            " ++_keyCt;"
                            " list = [];"
                            " map[key] = list;"
                            " }"
                            " else"
                            " ++_dupCt;"
                            " list.push(value);"
                            "}");
        _scope->injectNative("_bailFromJS", _bailFromJS, this);
    }
    else {
        // emit now populates C++ map
        _scope->injectNative( "emit" , fast_emit, this );
    }
} 
```

# git - Moving more than one subdirectory in a git repo into a separate repository

> ID：14746538
> 
> 赞同：1
> 
> 时间：2013-02-07T08:17:04.653
> 
> 标签：git

I have a git repo with mutiple subdirectories. I want to migrate a few subdirectories into another git repo. I'm able to migrate a single subdirectory by following the instructions given at [http://www.geekaholic.org/2010/02/splitting-git-repo.html](http://www.geekaholic.org/2010/02/splitting-git-repo.html). Can I migrate more than one subdirectory into a git repo of their own?

Example :

My current project structure

```
MyProjectRepo
--dir1
--dir2
:
--dirn
.git 
```

Now I want to keep MyProjectRepo as it is, I have another repo called NewRepo, where I want a structure like this:

```
NewRepo
--dir4
--dir7
--dir10
.git 
```

Thank You

# sql - 如何从表名是局部变量的表中选择（informix）

> ID：14746540
> 
> 赞同：2
> 
> 时间：2013-02-07T08:17:08.123
> 
> 标签：sql, database, stored-procedures, informix, dynamic-sql

我想从**表名是局部变量**而**列名是另一个局部变量**的表中进行选择，但出现以下错误：

指定的表`ll_tb_name`不在数据库中

```
CREATE PROCEDURE rmg_request_file ( al_task_code integer)
RETURNING integer as byte;

DEFINE ll_task_code integer;
DEFINE ll_pdf_column varchar(50);
DEFINE ll_tb_name varchar(60);
DEFINE ll_request_file REFERENCES BYTE;

SELECT pdf_column,table_name INTO  ll_pdf_column ,ll_tb_name  FROM rnmtask WHERE task_code = al_task_code;

FOREACH   

SELECT  ll_pdf_column into  ll_request_file FROM ll_tb_name   

return ll_request_file  with resume ;
end foreach;

end procedure 
```

* * *

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T21:31:03.333

假设您有足够新的 Informix (11.70) 版本，您应该能够像这样在 SPL 中使用动态 SQL：

```
BEGIN;

CREATE TABLE rnmtask
(
    pdf_column VARCHAR(32) NOT NULL,
    table_name VARCHAR(32) NOT NULL,
    task_code  INTEGER NOT NULL PRIMARY KEY
);

INSERT INTO rnmtask VALUES("symbol", "elements", 1);
INSERT INTO rnmtask VALUES("name", "elements", 2);
INSERT INTO rnmtask VALUES("atomic_number", "elements", 3);

CREATE PROCEDURE rmg_request_file(al_task_code INTEGER)
    RETURNING VARCHAR(255) AS colval;

    DEFINE ll_pdf_column    VARCHAR(50);
    DEFINE ll_tb_name       VARCHAR(60);
    DEFINE stmt             VARCHAR(255);
    DEFINE result           VARCHAR(255);

    SELECT pdf_column, table_name
      INTO ll_pdf_column, ll_tb_name
      FROM rnmtask
     WHERE task_code = al_task_code;

    LET stmt = "SELECT " || ll_pdf_column || " FROM " || ll_tb_name;
    PREPARE p FROM stmt;
    DECLARE C CURSOR FOR p;
    OPEN C;
    WHILE sqlcode = 0
        FETCH C INTO result;
        IF sqlcode != 0 THEN
            EXIT WHILE;
        END IF;
        RETURN result WITH RESUME;
    END WHILE;

    CLOSE C;
    FREE C;
    FREE p;

END PROCEDURE;

EXECUTE PROCEDURE rmg_request_file(1);
EXECUTE PROCEDURE rmg_request_file(2);
EXECUTE PROCEDURE rmg_request_file(3);

ROLLBACK; 
```

这假设您的数据库中有一个方便的元素表：

```
CREATE TABLE elements
(
    atomic_number   INTEGER NOT NULL PRIMARY KEY CONSTRAINT c1_elements
                    CHECK (atomic_number > 0 AND atomic_number < 120),
    symbol          CHAR(3) NOT NULL UNIQUE CONSTRAINT c2_elements,
    name            CHAR(20) NOT NULL UNIQUE CONSTRAINT c3_elements,
    atomic_weight   DECIMAL(8, 4) NOT NULL,
    period          SMALLINT NOT NULL
                    CHECK (period BETWEEN 1 AND 7),
    group           CHAR(2) NOT NULL
                    -- 'L' for Lanthanoids, 'A' for Actinoids
                    CHECK (group IN ('1', '2', 'L', 'A', '3', '4', '5', '6',
                                     '7', '8', '9', '10', '11', '12', '13',
                                     '14', '15', '16', '17', '18')),
    stable          CHAR(1) DEFAULT 'Y' NOT NULL
                    CHECK (stable IN ('Y', 'N'))
);

INSERT INTO elements VALUES(  1, 'H',   'Hydrogen',        1.0079, 1, '1',  'Y');
INSERT INTO elements VALUES(  2, 'He',  'Helium',          4.0026, 1, '18', 'Y');
INSERT INTO elements VALUES(  3, 'Li',  'Lithium',         6.9410, 2, '1',  'Y');
INSERT INTO elements VALUES(  4, 'Be',  'Beryllium',       9.0122, 2, '2',  'Y');
INSERT INTO elements VALUES(  5, 'B',   'Boron',          10.8110, 2, '13', 'Y');
INSERT INTO elements VALUES(  6, 'C',   'Carbon',         12.0110, 2, '14', 'Y');
INSERT INTO elements VALUES(  7, 'N',   'Nitrogen',       14.0070, 2, '15', 'Y');
INSERT INTO elements VALUES(  8, 'O',   'Oxygen',         15.9990, 2, '16', 'Y');
INSERT INTO elements VALUES(  9, 'F',   'Fluorine',       18.9980, 2, '17', 'Y');
INSERT INTO elements VALUES( 10, 'Ne',  'Neon',           20.1800, 2, '18', 'Y');
INSERT INTO elements VALUES( 11, 'Na',  'Sodium',         22.9900, 3, '1',  'Y');
INSERT INTO elements VALUES( 12, 'Mg',  'Magnesium',      24.3050, 3, '2',  'Y');
INSERT INTO elements VALUES( 13, 'Al',  'Aluminium',      26.9820, 3, '13', 'Y');
INSERT INTO elements VALUES( 14, 'Si',  'Silicon',        28.0860, 3, '14', 'Y');
INSERT INTO elements VALUES( 15, 'P',   'Phosphorus',     30.9740, 3, '15', 'Y');
INSERT INTO elements VALUES( 16, 'S',   'Sulphur',        32.0650, 3, '16', 'Y');
INSERT INTO elements VALUES( 17, 'Cl',  'Chlorine',       35.4530, 3, '17', 'Y');
INSERT INTO elements VALUES( 18, 'Ar',  'Argon',          39.9480, 3, '18', 'Y'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:20:17.113

我认为您应该在每次出现`ll_tb_name`and之前`ll_pdf_column`加上 @ 符号，即使在您的`SELECT INTO`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-07T08:20:19.287

使用**NDS**（本机动态 SQL）：

```
EXECUTE IMMEDIATE "SELECT  ll_pdf_column into  ll_request_file FROM :@ll_tb_name"
USING @ll_tb_name; 
```

# binding - wxPython：如何绑定按钮？

> ID：14746549
> 
> 赞同：1
> 
> 时间：2013-02-07T08:18:04.567
> 
> 标签：binding, wxpython

我刚开始使用 wxPython，但绑定有问题。

通常我发现绑定按钮事件的例子都是用`self.Bind(wx.EVT_BUTTON, self.OnWhatEverFunction, button)`. 我有一个框架，里面有一个面板和一个按钮，我试过什么，结果总是一个闪烁的框架，在瞬间出现，就是这样。由于代码不多，我将其附在此处，并希望你们中的某个人能告诉我解决我的小问题的方法。

在此先感谢，托马斯

```
#!/usr/bin/python
import wx

class CPFSFrame(wx.Frame):
    def __init__(self, parent, title):
        super(CPFSFrame, self).__init__(parent, title=title,
                                    style = wx.BORDER | wx.CAPTION | wx.SYSTEM_MENU | wx.CLOSE_BOX,
                                    size=(350, 200))
        panel = wx.Panel(self, -1)

        pNumberLabel = wx.StaticText(panel, -1, 'Project number: ')
        pNumberText = wx.TextCtrl(panel, -1, '', size=(175, -1))
        pNumberText.SetInsertionPoint(0)

        pNameLabel = wx.StaticText(panel, -1, 'Project name: ')
        pNameText = wx.TextCtrl(panel, -1, '', size=(175, -1))
        pNameText.SetInsertionPoint(0)

        pButton = wx.Button(panel, label='Create')
        pButton.Bind(wx.EVT_BUTTON, self.OnCreate)

        sizer = wx.FlexGridSizer(cols=2, hgap=6, vgap=6)
        sizer.AddMany([pNumberLabel, pNumberText, pNameLabel, pNameText, pButton])
        panel.SetSizer(sizer)

        statusBar = self.CreateStatusBar()

    def OnCreate(self, evt):
        self.Close(True)

        self.Centre()
        self.Show()

if __name__ == '__main__':
    app = wx.App()
    CPFSFrame(None, title='Create New Project Folder Structure')
    app.MainLoop() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T14:22:36.207

您需要将“self.Show()”方法放在代码的**init**部分。起初我以为 OnCreate() 正在运行，如果是，那么它会立即关闭框架，这样你就什么也看不到了。我将其称为 OnClose。这是一个工作示例：

```
import wx

class CPFSFrame(wx.Frame):
    def __init__(self, parent, title):
        super(CPFSFrame, self).__init__(parent, title=title,
                                    style = wx.BORDER | wx.CAPTION | wx.SYSTEM_MENU | wx.CLOSE_BOX,
                                    size=(350, 200))
        panel = wx.Panel(self, -1)

        pNumberLabel = wx.StaticText(panel, -1, 'Project number: ')
        pNumberText = wx.TextCtrl(panel, -1, '', size=(175, -1))
        pNumberText.SetInsertionPoint(0)

        pNameLabel = wx.StaticText(panel, -1, 'Project name: ')
        pNameText = wx.TextCtrl(panel, -1, '', size=(175, -1))
        pNameText.SetInsertionPoint(0)

        pButton = wx.Button(panel, label='Create')
        pButton.Bind(wx.EVT_BUTTON, self.OnClose)

        sizer = wx.FlexGridSizer(cols=2, hgap=6, vgap=6)
        sizer.AddMany([pNumberLabel, pNumberText, pNameLabel, pNameText, pButton])
        panel.SetSizer(sizer)

        statusBar = self.CreateStatusBar()
        self.Show()

    def OnClose(self, evt):
        self.Close(True)

if __name__ == '__main__':
    app = wx.App()
    CPFSFrame(None, title='Create New Project Folder Structure')
    app.MainLoop() 
```

# uiview - 滚动问题时的石英绘图

> ID：14746554
> 
> 赞同：0
> 
> 时间：2013-02-07T08:18:19.257
> 
> 标签：uiview, uiscrollview, quartz-graphics, drawrect

我有一个 UIView 的子类，我在上面画了一个图表。

**GraphingView.h**

```
@interface GraphingView : UIView
...
@end 
```

我在这里画东西：

**GraphingView.m**

```
- (void)drawRect:(CGRect)rect
{
...
} 
```

然后，从另一个控制器，我通过初始化并添加该子视图来调用此图

```
graphView = [[GraphingView alloc] init];
...
[self.view addSubview:graphView]; 
```

但我实际上在不同页面中使用 UIScrollView 多次调用此子视图。假设 3 页 3 个不同的图表。如果我只需要 3 个静态图，一切正常。由于我的滚动条是无限的，每次我向左或向右滑动滚动条时，滚动条都会生成一个较旧或较新的图形，它位于方向图的前面或旁边。出于这个原因，我`scrollViewDidScroll`用来检测和插入新图。但是，`scrollViewDidScroll`由于尚未停止，因此对子视图进行了太多调用。所以，这意味着我用 Quartz 2D 重新绘制了太多，这会导致应用程序崩溃。这听起来是不是 Quartz 的内存泄漏？

就此而言，我决定改为调用图形子视图`scrollViewDidEndDecelerating`。但是滚动一段时间后，应用程序就像上面一样崩溃，因为我仍然多次调用具有 drawRect 方法的子视图。

**我的问题是，我如何防止这个 Quartz 因为`drawRect`被调用的次数超过它应该的次数而崩溃？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T16:38:42.507

内存泄漏实际上是由 sqlite3 引起的，因为我在每个图形视图中查询数据。

对于那些处理内存泄漏的人来说，有一篇出色的文章我强烈推荐[什么时候泄漏不是泄漏？使用 Heapshot 分析发现不希望的内存增长](http://www.friday.com/bbum/2010/10/17/when-is-a-leak-not-a-leak-using-heapshot-analysis-to-find-undesirable-memory-growth/)

# css - 使 span 标签覆盖 div 的整个宽度

> ID：14746560
> 
> 赞同：22
> 
> 时间：2013-02-07T08:18:53.047
> 
> 标签：css, width, html

我有以下html结构：-

```
<div>
  <span>
    <a href="wherever">Wherever</a>
  </span>
</div> 
```

如果我希望跨度覆盖 div 的整个宽度，我该如何在 chrome 中做到这一点？

我尝试在css中使用

```
span{
  background:#FFF;
  width:100%;
} 
```

它适用于 Firefox 和 ie，但不适用于 chrome。

* * *

## 回答 #1

> 赞同：60
> 
> 时间：2013-02-07T08:20:57.273

`span`元素是内联的。内联元素会自动调整其宽度并忽略您的`width:`表达式。

使其成为块级：

```
span {
    display: block;
} 
```

但它基本上只是一个`<div>`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-07T08:34:33.310

有两种方法可以解决您的问题。

作为 span 标签根据其中的内容调整它们的宽度。所以为了给这个标签分配宽度，我们将使用带有宽度的左浮动。

```
span{
 background:#FFF;
 width:100%;
 float: left;
} 
```

第二种方法是使用带有代码的显示块

```
 span{
 background:#FFF;
 width:100%;
 display: block;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-07T08:21:00.947

将 span 的 CSS 更改为：

```
span {
display: block;
} 
```

* * *

## 回答 #4

> 赞同：-2
> 
> 时间：2013-02-07T08:24:06.557

试试这个：

```
div{
    padding:0px;
}
span{
    background:#FFF;
    width:100%;
} 
```

# stored-procedures - 删除重复项的通用程序 - 无 PK

> ID：14746561
> 
> 赞同：0
> 
> 时间：2013-02-07T08:18:58.257
> 
> 标签：stored-procedures, sql-server-2008-r2

我编写了一个以表名作为参数的存储过程，用于检查该表中是否存在重复行。当然，这些语句是动态构建的：

```
INSERT INTO tmpTable
SELECT col1, col2,... FROM table GROUP BY col1, col2, ... HAVING COUNT(*) > 1;

DELETE FROM tablename FROM tablenname 
INNER JOIN tmpTable ON ISNULL(tablename.col1, 0) = ISNULL(tmpTable.col1, 0)
AND ISNULL(tablename.col2, 0) = ISNULL(tmpTable.col2, 0)
AND ...;

INSERT INTO tablename SELECT * FROM tmpTable; 
```

到目前为止应该可以工作，但问题是，当表有 blob 列时它会失败，比如文本。那些是无法比拟的`JOIN`。我也试过

```
DELETE FROM tablename GROUP BY col1, col2, ... HAVING COUNT(*) > 1; 
```

但在没有自连接的情况下直接`GROUP BY`在语句中不支持。`DELETE`

此外，无法查询`information_schema`该表的主键，因为这些表都没有主键。

有任何想法吗？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:26:25.220

由于该语句已经动态构建，因此添加转换相关列以`varchar(max)`用于连接。不难确定哪些列是：

```
select c.name, quotename(c.name, '[')
from
  sys.columns c
  inner join sys.types t on c.system_type_id = t.system_type_id
where
  c.object_id = object_id(@TABLE_NAME)
  and c.is_computed = 0
  and t.name in ('text', 'image', 'timestamp', 'xml') 
```

# c# - Asp.Net 获取屏幕宽度

> ID：14746564
> 
> 赞同：4
> 
> 时间：2013-02-07T08:19:09.910
> 
> 标签：c#, asp.net

如何在 Asp.net (C#) 项目中获取服务器端的屏幕宽度？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2014-03-19T16:07:12.597

把它放在你的表格上：

```
<input type="hidden" value=""
   name="clientScreenHeight" id="clientScreenHeight" />
<input type="hidden" value=""
   name="clientScreenWidth" id="clientScreenWidth" /> 
```

这是加载脚本：

```
$(document).ready(function () {
    $("#clientScreenWidth").val($(window).width());
    $("#clientScreenHeight").val($(window).height());
}); 
```

这是服务器端代码：

```
string height = HttpContext.Current.Request.Params["clientScreenHeight"];
string width = HttpContext.Current.Request.Params["clientScreenWidth"]; 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-07T08:20:46.147

您可以使用 javascript 读取它并将结果提交到服务器。
仅服务器端的解决方案不存在，因为 html 不会在请求中自动提交此类数据。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2017-08-08T06:52:53.630

使用下面的代码

```
int width = (Request.Browser.ScreenPixelsWidth) * 2 - 100;
int height = (Request.Browser.ScreenPixelsHeight) * 2 - 100; 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2016-03-07T12:13:50.867

获取字符

```
Request.Browser.ScreenCharactersWidth
Request.Browser.ScreenCharactersHeight 
```

获得决议

您需要使用 javascript 或 jquery 从客户端发送数据我使用此代码它的工作很好

```
var ScreenPixelsHeight  = window["innerHeight"];  
var ScreenPixelsWidth  = window["innerWidth"];
var JSLink = "http://www  +  "&ScreenPixelsHeight="+ScreenPixelsHeight+
"&ScreenPixelsWidth="+ScreenPixelsWidth; 
```

# html - 尽管我的 Linux 上存在 Helvetica.ttf，但 Helvetica 还是回落到 arial

> ID：14746568
> 
> 赞同：0
> 
> 时间：2013-02-07T08:19:25.567
> 
> 标签：html, css, linux, windows, fonts

[我的研究](https://stackoverflow.com/questions/12461533/helvetica-renders-as-arial-on-windows-os)表明，对于 Windows，Helvetica 回退到 Arial，但对于 linux 也是如此吗？

**编辑**

Helvetica.ttf 存在于我的系统上。同样在另一个不存在它的系统上，可以看到相同的行为。

**编辑**

不知道如何，但这是 Firefox 如何渲染它和 Chrome 如何渲染它的比较（我已经删除了图像中不需要的部分）：

![Firefox/Chrome 字体渲染](../Images/119db7fc355260e759b7d6f35bd7c281.png)

可以看出，两个浏览器上的前两个“GR”都在 Helvetica 中（技术上），但只有 Firefox 呈现 Helvetica，而 Chrome 没有。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:31:03.300

不，这不会影响 Linux 计算机。

Windows 默默地将“Helvetica”映射到 Arial 字体——这可能是大多数网页设计师使用 Mac 时的遗留问题，Mac OS X 带有 Helvetica，但 Windows 没有，相反它有微软的 Helvetica 仿制品：Arial . 当时的设计者在他们的 CSS 文档中过度使用 Helvetica，而没有为 Windows 指定一个好的回退，甚至没有指定回`sans-serif`退系列，所以当它是 IE 3.0 和 4 中的基线默认值时，Windows 用户会得到 Time New Roman 或其他一些衬线字体（请记住当网页默认为灰色背景而不是白色时？）。

Linux 不是 Windows，因此没有这个问题 - 相反它更糟糕：（大多数）Linux 用户没有安装 Helvetica 或 Arial - 所以他们非常依赖 CSS 作者指定基线系列（`sans-serif`, `serif`, `monospace`, `fantasy`)。但是现在你可以使用 WOFF 在网页中嵌入字体而不依赖于它们是否安装，但要小心，因为字体大小通常为 30KB-300KB，甚至更大（中文字体通常为 30MB！）。

# windows - 由于窗口错误导致应用程序崩溃

> ID：14746572
> 
> 赞同：0
> 
> 时间：2013-02-07T08:19:46.863
> 
> 标签：windows, crash

我运行了一个 Windows 应用程序，该应用程序自上周以来突然崩溃。

它显示以下错误：

```
Description:
  Stopped working 
```

事件查看器中记录了以下 Windows 事件：

```
Problem signature:
  Problem Event Name:   APPCRASH
  Application Name: abc.exe
  Application Version:  1.0.0.0
  Application Timestamp:    510fbb25
  Fault Module Name:    KERNELBASE.dll
  Fault Module Version: 6.1.7601.18015
  Fault Module Timestamp:   50b8479b
  Exception Code:   e053534f
  Exception Offset: 0000000000009e5d
  OS Version:   6.1.7601.2.1.0.274.10
  Locale ID:    1033

Read our privacy statement online:
  http://go.microsoft.com/fwlink/?linkid=104288&clcid=0x0409

If the online privacy statement is not available, please read our privacy statement offline:
  C:\Windows\system32\en-US\erofflps.txt 
```

系统操作系统为 Windows Server 2008 R2。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2020-03-27T16:26:36.243

从 .net 框架 4.7.2 或 4.8 降级到 4.6.2

# c# - 来自 Url\Device 的 DataTemplate 中的图像

> ID：14746574
> 
> 赞同：0
> 
> 时间：2013-02-07T08:19:53.750
> 
> 标签：c#, .net, silverlight, windows-phone-7

我有`DataTemplate`这个`ListBox`：

```
<local:SearchTemplateSelector.VideoTemplate>
  <DataTemplate>
    <Grid>
      <Rectangle Height="1" HorizontalAlignment="Stretch" VerticalAlignment="Top" Fill="Black" Opacity="0.3" />
      <Grid>
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="100" />
          <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <Image Margin="0" HorizontalAlignment="Left" Source="{Binding Path=ImgUrl}" Width="100" Height="100" />
        <Grid Grid.Column="1" Margin="10,0,8,0">
          <Grid.RowDefinitions>
            <RowDefinition Height="60"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
          </Grid.RowDefinitions>
          <TextBlock Text="{Binding Name}" FontSize="20" Foreground="Black" TextWrapping="Wrap" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />
          <StackPanel Orientation="Horizontal" Margin="0,-5,0,0" Grid.Row="1">
            <TextBlock Text="Views:  " FontSize="20" Foreground="Black"/>
            <TextBlock Text="{Binding ViewCount}" FontSize="20" Foreground="Black"/>
          </StackPanel>
          <TextBlock Text="{Binding TimeStr}" FontSize="20" Foreground="Black" Grid.Row="2" Margin="0,0,0,0" />
        </Grid>
      </Grid>
    </Grid>
  </DataTemplate>
</local:SearchTemplateSelector.VideoTemplate> 
```

现在我有我从我的对象的 ImgUrl 绑定的图像。我想知道是否有可能做这样的事情：如果图像在设备中，则从设备中获取，如果不下载并将其保存在下次设备，每张图片都有一个唯一的ID，所以我可以保存它`id.png`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T15:27:55.897

如果我理解你是正确的，你必须为`ImgUrl`属性添加逻辑。您必须在 中添加一些方法`Set{}`，该方法将从中`try`加载图像`isolatedStorage`，以及`catch`异常，其中它将使用方法将图像加载和保存到`isolatedStorage`。

# c# - C#：使用 Linq 创建 XML 文档没有正确的输出？

> ID：14746575
> 
> 赞同：-1
> 
> 时间：2013-02-07T08:19:55.920
> 
> 标签：c#, xml, linq

我正在尝试从我的数据创建 xml 数据，创建成功但输出不好我该如何解决这个问题？

这是我的代码：

```
private void btnGenerate_Click(object sender, EventArgs e)
    {
        XElement xml = new XElement("Navigation",
            new XElement("NavigationSets"));
        foreach (DataRow row_navs in GetNavigationSets().Rows)
        {
            xml.Add(new XElement("NavigationName", row_navs["name"].ToString()));
            foreach (DataRow row_sets in GetMenusInNavigationSetByNavigation(2).Rows)
            {
                if (int.Parse(row_sets["id"].ToString()) == int.Parse(row_navs["id"].ToString()))
                {
                    foreach (DataRow row_menus in GetMenuById(int.Parse(row_sets["menu_id"].ToString())).Rows)
                    {
                        xml.Add(new XElement("MenuName", row_menus["name"].ToString()));
                    }
                }
            }
        }
        xml.Save("data.xml");
    } 
```

我期待这样的输出

```
 <?xml version="1.0" encoding="utf-8"?>
<Navigation>
    <NavigationSets>
        <NavigationName>
            <MenuName></MenuName>
        </NavigationName>
    <NavigationSets/>
</Navigation> 
```

在我当前的代码中，我的输出是这样的

```
 <?xml version="1.0" encoding="utf-8"?>
<Navigation>
    <NavigationSets/>
        <NavigationName></NavigationName>
    <MenuName></MenuName>
</Navigation> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T08:32:46.720

要添加到 Jon Skeets 的答案中，

你也可以使用

```
using System.Xml.Linq; 
```

循环遍历列表，所以这是一个语句，

```
new XElement("NavigationSets",
    menus.Select(menu => new XElement("MenuName"))
) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T08:23:09.107

查看添加元素的时间：

```
xml.Add(new XElement("NavigationName", row_navs["name"].ToString()));
xml.Add(new XElement("MenuName", row_menus["name"].ToString())); 
```

`xml`这个元素在哪里：

```
XElement xml = new XElement("Navigation",
           new XElement("NavigationSets")); 
```

这意味着`xml`是`Navigation`元素，而*不是*`NavigationSets`元素。我怀疑你想要类似的东西：

```
XElement outer = new XElement("Navigation");
XElement inner = new XElement("NavigationSets");
outer.Add(inner); 
```

...然后添加到`inner`.

# android - 如何将 Android 中的 LatLng 变量存储在 SQL Lite 数据库中以供以后使用？

> ID：14746582
> 
> 赞同：3
> 
> 时间：2013-02-07T08:20:45.033
> 
> 标签：android, latitude-longitude

我正在尝试将标记信息存储在 Android 设备上的 SQL Lite 数据库中，我目前正在将`LatLng`变量转换为 a`String`并以这种方式保存。

```
LatLng latLng
coords = latLng.toString(); 
```

问题是，我已经尝试了很多事情，将`string`返回转换为`latLng`变量，以便可以再次使用它。

查看`LatLng`变量，我看到它是`doubles`由逗号分隔的两个变量，我正在考虑拆分`string`并转换为`doubles`然后将其作为 a 传递，`Latlng`但我不知道如何在 Android 中执行此操作。

关于如何做到这一点的任何想法？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-07T12:25:51.620

我通过这样做解决了它：

```
LatLng latLng;
Double l1=latlng.latitude;
Double l2=latlng.longitude;
String coordl1 = l1.toString();
String coordl2 = l2.toString();
l1 = Double.parseDouble(coordl1);
l2 = Double.parseDouble(coordl2);

googleMap.addMarker(new MarkerOptions()
                    .position(new LatLng(l1, l2))
                    .title(title)
                    .snippet(info)); 
```

所以从一个 Latlng 变量到两个双打，再到字符串，再回到双打并传递到新标记位置，它就可以工作了！

:)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-07T08:30:47.373

我将经纬度分开保存，也许这也是您的解决方案

```
LocationManager lm = (LocationManager)getSystemService(Context.LOCATION_SERVICE); 
Location location = lm.getLastKnownLocation(LocationManager.GPS_PROVIDER);
double longitude = location.getLongitude();
double latitude = location.getLatitude(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-02-11T15:45:51.593

作为替代方案，您可以将位置存储在`SharedPreferences`. 这是[TypedPreferences 库](https://github.com/johnjohndoe/TypedPreferences)和[`LatLngPreference`帮助程序类](https://github.com/johnjohndoe/TypedPreferences/wiki/TypedPreferences-Commons#latlngpreference)，可以轻松完成此操作。

# ruby - 以哈希值为条件的数组的 Ruby 哈希键

> ID：14746586
> 
> 赞同：3
> 
> 时间：2013-02-07T08:20:54.183
> 
> 标签：ruby, hash

我想在满足条件时将哈希键值提取到数组中。例如，使用 hash h 我想提取值为“true”的键：

```
h = { :a => true, :b => false, :c =>true } 
```

我想出了这个：

```
h.map {|k,v| k if v==true} - [nil] 
```

有什么选择吗？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-07T08:24:11.213

```
h.select { |_, v| v }.keys 
```

将做同样的事情，但以更具可读性的方式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T10:11:38.053

你也可以做

```
s = {}
h.each do |k,v|
   s[k] = v if v==true
end 
```

# c# - SerializeObject 添加 unicode c#

> ID：14746591
> 
> 赞同：2
> 
> 时间：2013-02-07T08:21:28.147
> 
> 标签：c#, json, unicode, entity

我有一个 WCF 服务，它以 JSON 格式返回数据库表。SeralizeObject 将 unicode 添加到我的 httpresponse，我该如何删除它？

代码：

```
using (var db = new newTestDBContext())
        {
          var query = from b in db.Roads
                       orderby b.roadID
                     select b;
          Road rr = query.First();
          var serializerSettings = new JsonSerializerSettings { PreserveReferencesHandling = PreserveReferencesHandling.Objects };
          return JsonConvert.SerializeObject(rr, Formatting.Indented, serializerSettings); 
```

回应：

```
"{\u000d\u000a  \"$id\": \"1\",\u000d\u000a  \"roadparts\": [\u000d\u000a    {\u000d\u000a      \"$id\": \"2\",\u000d\u000a      \"Road\": {\u000d\u000a 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T10:05:50.183

> ResponseFormat = WebMessageFormat.Json

这将对带注释的方法的返回值进行 JSON 编码。如果返回值已经是 JSON 字符串，那么您将进行两次 JSON 编码。首先是`Road`对象，然后是前者产生的 JSON 字符串。

所以只需返回`Road`对象并让`WebMessageFormat.json`处理 json 编码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-09-28T03:31:32.623

删除 json 调用中的 Formatting.Indented 。那应该解决它。

# php - 如何获取数组的键值？

> ID：14746596
> 
> 赞同：-1
> 
> 时间：2013-02-07T08:21:38.157
> 
> 标签：php, arrays, key

如何获取任何数组项的键值？就像 foreach 循环如何将它变成 $k => $v...除了我只想做一次，所以不需要循环。我真的需要制作一个可以翻转的新数组吗？

以此为例。

```
1 => array(
               'street' => 'Street Address ',
               'town' => 'Town/City '
              ),
    2 => array(
               'state' => 'State '
              ), 
```

这些是更大数组中的数组。现在我试图做到这一点

```
array_flip($thatarrayupthere[2]['state']) 
```

我想从中得到的是“状态”，因为那是键名。但是我遇到了错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:55:11.427

```
$key  = array_keys($array[2]);

print_r($key); 
```

参考： http: [//php.net/manual/en/function.array-keys.php](http://php.net/manual/en/function.array-keys.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:25:54.473

我不确定您不想要什么，但如果您只想获取任何给定数组中第二个数组的键，这可能会有所帮助。

```
$key = key($array[2]); 
```

在上面的示例中，您将在 $key 变量中获得“状态”。

# ruby-on-rails - Rails 3 路由。如何为发生的特定操作创建 /controller/id/action 路由格式？

> ID：14746598
> 
> 赞同：1
> 
> 时间：2013-02-07T08:21:40.187
> 
> 标签：ruby-on-rails, ruby, routing

好的，这是 rails 3 应用程序的基本路由问题。我有一个名为contact_infos 的控制器。对于编辑操作，我想匹配如下 /contact_infos/id/action 的路线。我这样做的原因是专门针对 ajax 功能。这是我到目前为止所做的。这条路线运行良好。

```
match ':controller(/:id(/:action))(.:format)' 
```

但是这条路线打破了我的包罗万象的路线。

```
match ':controller(/:action(/:id))(.:format)' 
```

所以这对我的申请是不可接受的。

我知道我可以通过以下方式定位我的特定路线

```
 controller :contact_infos do

  end 
```

但我不确定如何将 url 匹配为 /contact_infos/id/action 仅用于编辑操作而不破坏任何其他 contact_infos 操作。

有任何想法吗？如果你给出正确的答案，我肯定会给你打分。谢谢！亚历克斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T09:05:22.983

尝试通过以下语法使用...

```
 match "contact_infos/:id/edit" , :to => "contact_infos#edit", :as => 'contact_infos_edit' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T09:23:26.360

请注意，虽然不是您的问题的一部分，但一条包罗万象的路线是一个非常糟糕的主意。

一段时间以来，这一直被认为是危险的，因此不建议这样做。它将允许应用程序响应所有 HTTP 方法的操作（例如 GET 用于真正应该被 PUT 的东西）。这会使您面临 CSRF 攻击，因为 CSRF 令牌仅用于 PUT、POST 和 DELETE 请求。

您应该始终使用路由助手为您提供的所有资源显式路由，以确保应用程序只会响应正确的请求（例如，删除操作的 DELETE 请求）

# php - XAMPP 中的 PHP 错误日志记录

> ID：14746599
> 
> 赞同：1
> 
> 时间：2013-02-07T08:21:41.060
> 
> 标签：php, apache, xampp, error-logging, error-log

我正在使用 XAMPP 进行 PHP 开发。我在我的 XAMPP 文件的“logs”目录中找到了一个名为“error_log”的文件，它似乎记录了服务器上发生的每个错误。我想做的是设置各种错误日志，只记录特定 php 文件中发生的错误。谁能告诉我如何设置它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T08:31:33.783

你不能指定它。您可以在 php.ini 中设置错误级别并为每个项目添加单独的日志文件。

# infowindow - 谷歌地图信息窗口数据显示

> ID：14746602
> 
> 赞同：1
> 
> 时间：2013-02-07T08:21:45.963
> 
> 标签：infowindow

我对信息窗口数据有错误。我无法得到请帮我检查我的代码。

```
function initialize() {

    map = new google.maps.Map(document.getElementById(map), {
    center: new google.maps.LatLng(1.352083, 103.819836),
    zoom: 12,
    mapTypeId: google.maps.MapTypeId.ROADMAP

    });

      //var infowindow;
      if (markers) {

        for (var level in markers) {
          for (var i = 0; i < markers[level].length; i++) {
            var details = markers[level][i];
                //var infowindow;
                  markers[level][i] = new google.maps.Marker({
                  title: details.name,
                  position: new google.maps.LatLng(
                  details.location[0], details.location[1]),
                  clickable: true,
                  draggable: false,
                  icon: details.icon
                });
                var infowindow = new google.maps.InfoWindow({
                    content: details.description,
                    //content : markers[level][i].description,
                    position: new google.maps.LatLng(details.location[0], details.location[1])
                    //position: markers[level][i].position
                });
            google.maps.event.addListener(markers[level][i], 'click', function() {
                infowindow.setPosition(this.position);
                alert(this.position);
                //infowindow.setContent(markers[level][i].description);
                infowindow.open(map,markers[level][i]);
            });
         }
        }
      } 
```

我无法获取描述数据。请帮我检查我的代码。

# c - 如何在给定范围内找到C中素数的总和？

> ID：14746603
> 
> 赞同：1
> 
> 时间：2013-02-07T08:21:51.937
> 
> 标签：c, logic, primes

我对编程很陌生，我被要求使用`while`循环查找给定范围内的素数之和。如果输入为 5，则答案应为`28 (2+3+5+7+11)`。我尝试编写代码，但似乎逻辑不正确。

**代码**

```
#include <stdio.h>
int main()
{
    int range,test;
    int sum = 2;
    int n = 3;
    printf("Enter the range.");
    scanf("%i",range);
    while (range > 0)
    {
        int i =2;
        while(i<n)
        {
            test = n%i;
            if (test==0)
            {
             goto end;
            }
                  i++;
        }
        if (test != 0)
        {
            sum = sum + test;
            range--;
        }
        end:
                  n++;
    }
    printf("The sum is %i",sum);
    return 0;
} 
```

如果您能指出我的错误并可能告诉我如何从那里开始，那就太好了。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-07T08:26:07.460

首先，在`scanf`使用`&range`和不`range`

```
scanf("%i",&range); 
```

其次这个指令不正确

```
sum = sum + test; 
```

它应该是

```
sum = sum + n; 
```

还有

```
while (range > 0) 
```

应该改为

```
while (range > 1) 
```

因为在您的算法中，您已经将范围的第一个元素放在总和中`sum = 2`，所以 while 应该循环`range - 1`时间而不是`range`时间

就这样

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:33:30.480

好的，我的 C 语言真的很糟糕，但试试下面的代码。可能不会编译，但如果是家庭作业或其他什么，你最好自己弄清楚：

更新：根据要求将其设为 while 循环。

```
#include <stdio.h>
int main()
{
    int range, test, counter, innerCounter, sum = 1;
    int countPrimes = 1;
    int [50] primesArray;
    primesArray[0] = 1;

    printf("Enter the range.");
    scanf("%i",range);

    counter = 2;
    while (counter <= range) {
        for (innerCounter = 1; innerCounter < countPrimes; innerCounter++) {
            if (counter % primesArray[innerCounter] == 0)
                continue;
            primesArray[countPrimes + 1] = counter;
            countPrimes ++;
            sum += counter;
        }

        counter ++
    }

    printf("The sum is %i",sum);
    return 0;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-07T08:36:39.800

我有一段时间没有做过 C，但我会做一些函数来简化你的逻辑：

```
#include <stdio.h>
#include <math.h>

int is_prime(n) {
    int i;

    for (i = 2; i <= sqrt(n); i++) {
        if (n % i == 0) {
            return 0;
        }
    }

    return 1;
}

int main() {
    int range, i, sum, num_primes = 0;

    printf("Enter the range: ");
    scanf("%d", &range);

    for (i = 2; num_primes < range; i++) {
        if (is_prime(i)) {
            sum += i;
            num_primes++;
        }
    }

    printf("The sum is %d", sum);

    return 0;
} 
```

使用`goto`所有代码并将其塞入其中`main()`会使您的程序难以调试。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-01-16T06:20:53.453

在这里尝试最简单的方法。检查[C 程序以查找 1 和 n 数字之间的所有素数的总和](http://www.codeforwin.in/2015/06/c-program-to-find-sum-of-all-prime.html)。

**代码**

```
#include <stdio.h>

int main()
{
    int i, j, n, isPrime, sum=0;

    /*
     * Reads a number from user
     */
    printf("Find sum of all prime between 1 to : ");
    scanf("%d", &n);

    /*
     * Finds all prime numbers between 1 to n
     */
    for(i=2; i<=n; i++)
    {

        /*
         * Checks if the current number i is Prime or not
         */
        isPrime = 1;
        for(j=2; j<=i/2 ;j++)
        {
            if(i%j==0)
            {
                isPrime = 0;
                break;
            }
        }

        /*
         * If i is Prime then add to sum
         */
        if(isPrime==1)
        {
            sum += i;
        }
    }

    printf("Sum of all prime numbers between 1 to %d = %d", n, sum);

    return 0;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-01-16T07:31:37.193

[从这里](http://see-programming.blogspot.in/2013/07/c-program-to-find-sum-of-first-n-prime.html)复制粘贴。

```
#include <stdio.h>

  int main() {
        int i, n, count = 0, value = 2, flag = 1, total = 0;

        /* get the input value n from the user */
        printf("Enter the value for n:");
        scanf("%d", &n);

        /* calculate the sum of first n prime nos */
        while (count < n) {
                for (i = 2; i <= value - 1; i++) {
                        if (value % i == 0) {
                                flag = 0;
                                break;
                        }
                }
                if (flag) {
                        total = total + value;
                        count++;
                }
                value++;
                flag = 1;
        }

        /* print the sum of first n prime numbers */
        printf("Sum of first %d prime numbers is %d\n", n, total);
        return 0;
  } 
```

**输出：**

```
Enter the value for n:5
Sum of first 5 prime numbers is 28 
```

# php - 无法使用php从存储过程中获取参数

> ID：14746612
> 
> 赞同：0
> 
> 时间：2013-02-07T08:22:25.460
> 
> 标签：php, oracle

在执行此函数以执行存储过程时，我将数组作为输出参数。

```
function ExecuteProcedure($procedureName, $parameters)
{       $query = "begin " . $procedureName . "(" ;
    for($i=0; $i<count($parameters); $i++)
    {
        if($i==0)
            $query = $query . ":" . $parameters[$i][0] ;
        else
            $query = $query . ", :" . $parameters[$i][0] ;
    }

    $query = $query . "); end;"; 

    //echo $query . "<br />";

    $this->stmt = ociparse($this->con, $query) or die (ocierror()); 

    for($i=0; $i<count($parameters); $i++)
    {

        $valueList = $parameters[$i];
        if(count($valueList) == 2)
            ocibindbyname($this->stmt, $valueList[0], $valueList[1]) or die (ocierror()); 
        else if(count($valueList) == 3)
            ocibindbyname($this->stmt, $valueList[0], $valueList[1], $valueList[2]) or die (ocierror()); 
        else{
        ocibindbyname($this->stmt, $valueList[0], $valueList[1], $valueList[2], $valueList[3]) or die (ocierror()); 
        }
    }

    @ociexecute($this->stmt, OCI_DEFAULT) or die (ocierror()); 

    return $parameters;

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T14:39:06.767

我建议您首先尝试一个简单的示例，遵循包含有关 OUT 变量信息的[文档：](http://www.php.net/manual/en/function.oci-bind-by-name.php)

> 使用 OUT 绑定时必须指定 maxlength，以便 PHP 分配足够的内存来保存返回值。

建立一个简单的过程：

```
CREATE PROCEDURE foo (p OUT VARCHAR2) IS 
BEGIN
   p := 'bar';
END foo; 
```

然后在 PHP 中：

```
$stid = oci_parse($conn, 'begin foo(:p1); end;');
oci_bind_by_name($stid, ':p1', $p1, 3);
echo $p1; 
```

# java - Selenium - Java 等待页面加载在测试脚本中失败

> ID：14746618
> 
> 赞同：0
> 
> 时间：2013-02-07T08:23:04.370
> 
> 标签：java, unit-testing, selenium, selenium-rc

我使用 JAVA 和一些 Selenium 脚本在 Eclipse IDE 中创建测试用例。

我的问题是，有时，测试用例的连续运行会在 selenium.waitForPageToLoad("30000") 方法中产生错误/失败的测试。我提出了一个解决方案，该方法将循环直到满足特定条件，所以我来到了这段代码。但这不起作用。

会发生这种情况：运行 Junit Test > @Test1,2,3..n > 页面未加载 @Test n > 执行下一行代码 > 在 @Test n 中测试失败 > 因为页面未加载，因此无法完成下一个脚本（页面中缺少必需的元素，因为它没有加载）。

这应该发生的事情：运行 Junit Test > @Test1,2,3..n > 页面不加载 @Test n > 等待页面加载，直到满足特定条件（例如元素 X 已经存在于页面中） > 执行下一行代码 > 在@Test n 中通过测试

我需要一个等待页面加载的解决方案，直到出现下一行脚本所需的元素。

此代码不起作用。我非常需要你的帮助。谢谢

```
//Wait for Page to Load until Expected Element is not Present   
public void waitForPageToLoadElement(final String isElementPresent){

boolean elementBoolean;
do{
selenium.waitForPageToLoad("30000");
elementBoolean = selenium.isElementPresent(isElementPresent);
if (elementBoolean==false){
try{Thread.sleep(3000);}
catch (Exception e) {
//catch
}}
}
while(elementBoolean==false);
}
//Wait for Page to Load until Expected Text is not Present
public void waitForPageToLoadText(String isTextPresent){

boolean elementBoolean;
do{
selenium.waitForPageToLoad("30000");
elementBoolean = selenium.isTextPresent(isTextPresent);
if (elementBoolean==false){
try{Thread.sleep(3000);}
catch (Exception e) {
//catch
}}
}
while(elementBoolean==false);

}

//Opens url until Expected Element is not Present
public void openUrl(String url){

boolean userNameBoolean, passwordBoolean;
do {
selenium.open(url);
userNameBoolean = selenium.isElementPresent("id=loginForm:username");
passwordBoolean = selenium.isElementPresent("id=loginForm:password");
if (userNameBoolean==false && passwordBoolean==false){
try{Thread.sleep(3000);}
catch (Exception e) {
//catch
}}
}while (userNameBoolean==false && passwordBoolean==false);

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T13:35:47.090

这种类型的逻辑可能对你有帮助

```
public static void waitforElement(Selenium selenium,String element)
{

        try
        {
            int second;
            for (second = 0; ; second++) 
            {

                if (selenium.isElementPresent(element))
                {   
                    break;
                } 
                if (second >= 20)
                { 
                    break;
                }
                Thread.sleep(1000);
            }
        }
        catch(Exception e)
        {
            e.printStackTrace();
        }
  } 
```

在对任何元素进行任何操作之前，只需为该元素调用此方法，以便如果未找到该元素，它将等待该元素直到达到超时（即 20 秒）。

**例子**

```
waitforElement(selenium,"id=loginForm:username");
selenium.type("id=loginForm:username","username");
waitforElement(selenium,"id=loginForm:password");
selenium.type("id=loginForm:password","password");
selenium.click("submit"); 
```

# asp.net - 如何不仅在 http://localhost:49809 下运行 asp.net 应用程序

> ID：14746623
> 
> 赞同：-1
> 
> 时间：2013-02-07T08:23:23.180
> 
> 标签：asp.net, visual-studio-2010

是否可以通过 Visual Studio 2010 运行 asp.net 应用程序并不总是在下`http://localhost:49809`？

问题：我有一个页面有一些路径错误，但在`/`它下面运行良好。但我想测试它，例如在如下网址下：

```
http://localhost:49809/mypage/foo/[and here the page as before] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:38:42.807

您不必使用 Visual Studio 来运行该站点。安装 IIS 并在那里创建一个指向项目磁盘位置的站点。这样，您的代码中的任何更改也将在那里反映出来，与以前相同。

现在要调试它，您必须：

1.  以管理员身份运行 Visual Studio
2.  单击调试 --> 附加到进程
3.  选择 w3wp.exe 并确认。

就是这样，现在您可以像之前通过 VS 本身托管时一样进行调试。

如果您愿意，您还可以在需要始终调试的任何时候将这样的行添加到您的代码中：

```
System.Diagnostics.Debugger.Launch(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T09:04:21.500

转到您的应用程序 -> 属性（快捷方式`F4`）。您可以在此处设置端口号和虚拟路径（如有必要）：

![在此处输入图像描述](../Images/6e145c1e85f6d7396187b79db2a94c1e.png)

# c# - Windows Workflow Foundation 按 ID 暂停

> ID：14746628
> 
> 赞同：0
> 
> 时间：2013-02-07T08:23:59.847
> 
> 标签：c#, workflow-foundation-4

如果我拥有的唯一信息是流程的 ID，是否可以暂停正在运行的工作流程？

```
 workflowApp.Run();
        var workflowId = workflowApp.Id; 
```

我的要求是我有一个网络应用程序，多个用户可以在其中启动和暂停进程，并且进程的 id 将存储在数据库中。

据我所知，我需要一个参考`System.Activities.WorkflowApplication`来暂停应用程序，如下所示：

`workflowApp.Unload();`

如果我只有正在运行的进程的 ID，我如何调用`Unload()`来暂停正在运行的进程？

我注意到只有`[System.Activities.DurableInstancing].[InstancesTable]`在调用 Unload() 方法时才会将进程的条目添加到。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T10:22:35.797

如果您使用 WorkflowApplication 运行工作流，则您负责管理它。如果您想委派该职责并使用 Workflow Control Endpoint 按 id 卸载或挂起工作流实例，则可以使用 WorkflowServiceHost。

# reporting-services - 带有 SSRS 的 PowerView

> ID：14746629
> 
> 赞同：1
> 
> 时间：2013-02-07T08:23:59.593
> 
> 标签：reporting-services, powerview

是否需要共享点服务器才能在 SSRS 中使用 PowerView？我有带有 MSBI 2012 的 SQL Server。我是 BI 开发人员。我想用power view来探索。我从 microsoft 门户（用于 Reporting Services 的 PivotViewer Extension – CTP2）获得了一个 SSRS 插件。但是 relese notes 说它需要 Share Point。

我有另一个下载链接（Microsoft SQL Server 2012 With Power View For Multidimensional Models CTP）这是一个 2 GB 的文件，听起来像是独立于共享点。我很困惑。请帮助我了解 PowerView 与 SSRS 的工作原理。许多Thnaks。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T11:52:02.080

这是一本电子书，解释了可用于 SQL Server 2012 的所有 SSRS 模型，并附有演练

[http://www.scribd.com/doc/102370834/SQL-Server-2012-Tutorials-Reporting-Services](http://www.scribd.com/doc/102370834/SQL-Server-2012-Tutorials-Reporting-Services)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-08T05:36:24.397

SSRS 中的 Power View 需要 Sharepoint 服务器。请查看此文档： http: [//msdn.microsoft.com/en-us/library/hh231687.aspx](http://msdn.microsoft.com/en-us/library/hh231687.aspx) Excel 2012 中也包含 Power View（请参阅[http://office.microsoft.com/en-us/excel-help /power-view-explore-visualize-and-present-your-data-HA102835634.aspx](http://office.microsoft.com/en-us/excel-help/power-view-explore-visualize-and-present-your-data-HA102835634.aspx)）。它可以访问工作表中的数据以及外部数据源，并具有相同的可视化功能。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-30T02:23:15.217

Power View 现在可通过 Excel 2013 Professional Plus 获得。

您可以连接到外部数据源或使用内部 PowerPivot 模型。

![Excel 插入功能区中的 Power View](../Images/bf055619d9a9e39d303613279ddaa1ff.png)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-04-19T04:43:46.117

您现在可以在 SSRS 中使用 Power BI 创建报告，例如“Power View”报告。

[![在此处输入图像描述](../Images/75337f43311e8cd37a72dace694f9e85.png)](https://i.stack.imgur.com/uIlmi.png)

2017 年 1 月发布的 SQL Server Reporting Services 中 Power BI 报告的技术预览版。您现在可以下载该软件并将其安装在您自己的本地 VM 或服务器上。在后一种情况下，您需要：

*   您自己的虚拟机或服务器（不是生产中使用的）
*   Windows Server 2012 或更高版本（或 Windows 8 或更高版本）
*   .NET Framework 4.5.2 或更高版本 SQL
*   服务器数据库引擎（2008 或更高版本），用于存储报表服务器数据库
*   SQL Server Analysis Services（2012 SP1 CU4 或更高版本），用于存储您的数据模型

有关详细信息，请参阅以下链接：
[SQL Server Reporting Services 中的 Power BI 报告：2017 年 1 月技术预览现已推出](https://blogs.msdn.microsoft.com/sqlrsteamblog/2017/01/17/power-bi-reports-in-sql-server-reporting-services-january-2017-technical-preview-now-available/)

# php - PHP中的喜欢和不喜欢系统

> ID：14746632
> 
> 赞同：0
> 
> 时间：2013-02-07T08:24:03.867
> 
> 标签：php, mysql

我正在为高中生开发一个社区网站。我正在尝试使用 PHP 实现一个相似和不同的系统。这是我得到的：

*   在 MySQL中命名的表`likes`具有 3 列，即 app_id VARCHAR(32)、用户 VARCHAR(12)、休眠 VARCHAR(6)。

*   唯一（app_id，用户）

当有人喜欢我网站上的某个页面时，会在`likes`表格中插入或更新一行，并使用`dormant = false`.

当一个人不喜欢一个页面时，当前行再次更新为`dormant = true`。这是删除行的替代方法，因为它对于快速处理喜欢和不喜欢的人来说有点密集。

我想知道，当有人不喜欢该页面时，我是否应该删除该行而不是更新它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:39:32.517

不要删除该行。您可以收集的每一个数据都是一个有价值的数据点。我会说你也应该为每一个不同的地方创建一个新记录。

这些数据将有助于您将来了解用户行为。

有些人可能会时不时地喜欢它，然后又不喜欢它，然后又喜欢它，依此类推。

也许在未来你想看看为什么这么多喜欢一个项目的人突然不喜欢它然后又喜欢它。

所以我说尽可能多地收集数据。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:57:44.927

看起来您没有记录用户喜欢或不喜欢页面的数量。在这种情况下，**LIKES**应该是一个**多**表，并且应该有另一个名为 APPS（或您希望的任何名称）的表来存储页面：

```
**USER**
+---------+-------+-----+
| user_id |  name | ....|
+---------+-------+-----+
|    1    |  ...  | ... |
+---------+-------+-----+
|    2    |  ...  | ... |
+---------+-------+-----+

**APPS**
+---------+-------+-----+
| app_id  |  name | ....|
+---------+-------+-----+
|    1    |  ...  | ... |
+---------+-------+-----+
|    2    |  ...  | ... |
+---------+-------+-----+

**LIKES**
+---------+-------+----------+----------+
| like_id |user_id|  app_id  | is_liked |
+---------+-------+----------+----------+
|    1    |  1    |    2     |   1      |
+---------+-------+----------+----------+
|    2    |  1    |    3     |   0      |
+---------+-------+----------+----------+ 
```

如果用户点击喜欢`( is_liked = 1)`或不喜欢`( is_liked = 0)`页面，您可以在哪里切换

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-07T08:26:20.000

听起来像过早的优化。不要那样做。

设计你的应用程序，因为你想使用它/因为它应该工作。当它变得忙碌时，找出瓶颈并解决它们。

如果您想设计您的应用程序以实现数百万的可扩展性，请考虑完全使用不同的数据库引擎/编程平台。

# vb.net - vb如何使用4位数字

> ID：14746635
> 
> 赞同：0
> 
> 时间：2013-02-07T08:24:10.433
> 
> 标签：vb.net

我需要`0 - 9999`在 VB 中计算。如何制作格式`0000 - 9999`，以便输出为：

```
0000, 0001, 0002, 0003, ....... 
```

我使用了以下代码

```
Dim p4num As Integer = 0
Dim p3num As Integer = 0
Dim p2num As Integer = 0
Dim p1num As Integer = 0

p4num += 1
If p4num = 10 Then
    p4num = 0
    p3num += 1
    If p3num = 10 Then
        p3num = 0
        p2num += 1
        If p2num = 10 Then
            p2num = 0
            p1num += 1
        End If
    End If
End If 
```

但我会用另一种方式来做。任何的想法？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T08:40:03.583

可能会`ToString()`有所帮助。怎么样

```
myint.ToString("0000") 
```

或者

```
myint.ToString("D4"); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-07T08:40:36.247

```
For i as integer = 0 to 9999
     Debug.WriteLine(i.ToString("0000"))
next 
```

未经测试的代码，但应该可以工作......

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-07T08:46:26.263

您的向导

```
Dim numbers As IEnumerable(Of Integer) = Enumerable.Range(0, 9999).ToArray()
'object j = string.Join(", ", numbers);
For Each item As var In numbers
    Console.WriteLine(item.ToString("#0000"))
Next 
```

# html - 如何使更多的 div 彼此不包装，但整个列表包装？

> ID：14746638
> 
> 赞同：1
> 
> 时间：2013-02-07T08:24:34.310
> 
> 标签：html, css

我有一个看起来像这样的div。

```
<div class="tag">one tag</div>
<div class="tag">second tag</div>
<div class="tag">third tag</div>
...50 more of them....

(in CSS)

.tag {
    display:inline
} 
```

我发现我有太多的它们，它们开始在中间断裂，我不想要那样。

但是，当我像这样设置 nowrap

```
.tag {
    display:inline;
    white-space:nowrap;
} 
```

所有这些都在一条线上，使窗口超过100％。我不想要那个。

我想要的是：如果一行中有太多这些 div，则 div 列表可能会中断，但 div 本身不会。我只是不想破坏中间的div。

我希望我说得足够清楚。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:28:22.480

如果我理解正确，您希望它们并排放置，然后在行满时换行，而不是在 div 中间。

所有你需要的是

```
.tag {
    float: left;
} 
```

请参阅[此处的小提琴](http://jsfiddle.net/sd8xf/)进行演示。

`padding-left: 5px;`如果您希望它们之间有一些空间，您也可以添加。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T11:15:23.867

根据您需要/想要支持的浏览器，您可能会发现使用

```
.tag {
    display:inline-block;
    vertical-align:top;
} 
```

一个更好的解决方案。由于它是`<div>`您想要应用的，因此该样式**不适**用于 IE5-7 - 请参阅[http://www.quirksmode.org/css/display.html#t03](http://www.quirksmode.org/css/display.html#t03)。当然有解决方法 -[如何在 IE6 上修复 display:inline-block？](https://stackoverflow.com/questions/3754469/how-to-fix-displayinline-block-on-ie6)- 如果您想在这些浏览器中使用它。

这样做的好处`inline-block`是您不需要`clear`浮动内容，并且您的元素不会*超出正常流程*。我尽量避免浮动元素，因为根据我的经验，它会导致布局问题。

但是，这种方法有几个潜在的问题。我已经通过添加`vertical-align:top`规则解决了其中一个问题。请参阅先前的答案以了解为什么会发生这种情况 - [https://stackoverflow.com/a/12950536/637889](https://stackoverflow.com/a/12950536/637889)

另一个是由于元素之间*可能*不需要的空白。`inline-block`有关此问题的一些巧妙方法，请参阅[http://css-tricks.com/fighting-the-space-between-inline-block-elements/](http://css-tricks.com/fighting-the-space-between-inline-block-elements/)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-07T08:27:13.373

```
.tag {
    display:inline;
    white-space:nowrap;
    float:left;
} 
```

那行得通。（并在其下添加“清除”空 div 和 clear:both。）

# javascript - 更新模态 jquery 框不起作用

> ID：14746640
> 
> 赞同：0
> 
> 时间：2013-02-07T08:24:48.027
> 
> 标签：javascript, html, jquery-ui, grails

我有一个带有验证及其工作的创建 jquery 模态框。但是对于我的更新 jquery 模态框，它不起作用。bvalid 没有运行验证，因为我试图在取消按钮中提交表单并且它可以工作。让我给你们看一下代码。

```
$(function() {
      var username = $( "#username" ),
      email = $( "#email" ),
      password = $( "#password" ),
      accountexpired = $( "#account_expired" ),

      allFields = $( [] ).add( username ).add( email ).add( password ).add( accountexpired ),
      tips = $( ".validateTips" );

    function updateTips( t ) {
      tips
        .text( t )
        .addClass( "ui-state-highlight" );
      setTimeout(function() {
        tips.removeClass( "ui-state-highlight", 1500 );
      }, 500 );
    }

    function checkLength( o, n, min, max ) {
      if ( o.val().length > max || o.val().length < min ) {
        o.addClass( "ui-state-error" );
        updateTips( "Length of " + n + " must be between " +
          min + " and " + max + "." );
        return false;
      } else {
        return true;
      }
    }

    function checkRegexp( o, regexp, n ) {
      if ( !( regexp.test( o.val() ) ) ) {
        o.addClass( "ui-state-error" );
        updateTips( n );
        return false;
      } else {
        return true;
      }
    }

    $( "#edit1" ).dialog({
      autoOpen: false,
      height: 700,
      width: 500,
      modal: true,
      buttons: {
        "Update": function() {
             var bValid = true;
             allFields.removeClass( "ui-state-error" );

              bValid = bValid && checkLength( username, "Length of username must be between 3 and 16\. Username may consist of a-z, 0-9, underscores, begin with a letter. ", 3, 16 );
              bValid = bValid && checkLength( email, "Length of email must be between 6 and 80\. eg. ui@mail.com", 6, 80 );
              bValid = bValid && checkLength( password, "Length of password must be between 5 and 16\. Password field only allow : a-z 0-9", 5, 16 );

              bValid = bValid && checkRegexp( username, /^[a-z]([0-9a-z_])+$/i, "Username may consist of a-z, 0-9, underscores, begin with a letter." );
              bValid = bValid && checkRegexp( email, /^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i, "eg. ui@jquery.com" );
              bValid = bValid && checkRegexp( password, /^([0-9a-zA-Z])+$/, "Password field only allow : a-z 0-9" );

          if ( bvalid ) {
              $( this ).dialog( "close" );
              $('#editUser').submit();

          }
        },
        Cancel: function() {

          $( this ).dialog( "close" );
        }

      }

    }); 
```

至于html：

```
<%--Update user box --%>
            <div id="edit1" title="Update user">
                  <form id="editUser" method="post" name="editUser">
                      <p class="validateTips"><g:message code="default.error.requiredforms.message" />.</p>

                        <g:each in="${Query1}">
                <table id="editpage" style="border-collapse: collapse;">

                    <tr>
                        <td><label for="username"><g:message code="default.searchcustomer.username.message" />:</label></td>
                        <td><input type="hidden" name="username" id="username"
                            style="border: 1px solid black" value="${it.username}" /><label>${it.username}</label></td>
                    </tr>
                    <tr>
                        <td style="white-space: nowrap"><label for="account_expired"><g:message code="default.searchcustomer.accexpired.message" />:</label></td>
                        <td style="text-align: left"><input type="radio"
                            name="account_expired" id="account_expired" value="${true}"
                            ${it.account_expired == true ? 'checked="checked"' : ''}>
                            True <input type="radio" name="account_expired" id="account_expired" value="${false}"
                            ${it.account_expired == false ? 'checked="checked"' : ''}>
                            False</td>
                    </tr>

                    <tr>
                        <td><label for="password"><g:message code="default.searchcustomer.password.message" />:</label></td>
                        <td><input type="password" name="password" id="password"
                            style="border: 1px solid black" value="${it.password}" /></td>
                    </tr>

                    <tr>
                        <td><label for="email"><g:message code="default.searchcustomer.email.message" />:</label></td>
                        <td><input type="text" name="email" id="email"
                            style="border: 1px solid black" value="${it.email}" /></td>
                    </tr>

                    </table>
                    </g:each> 
                            </form>
                  </div> 
```

我确实在其中实现了一些 ajax，但我不知道为什么验证不起作用并阻止我提交表单。有大佬能帮我解决这个吗？非常感谢你们。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:50:52.050

看来您正在循环内输出“editpage”表。如果输出多个，则最终会得到许多具有相同名称和 id 的元素，这是无效的。单击“更新”时，验证可能会查看涉及 id 的第一个字段，而不是您尝试验证的字段。

当然，所有这些都`${Query1}`返回不止一行。

如果对话框被删除但单击更新时表单未提交，我想在关闭对话框之前尝试提交表单也是值得的，尽管我怀疑这会有所不同，因为关闭对话框只是将其隐藏起来。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:40:07.280

定义动作`form`

```
<form id="editUser" method="post" name="editUser" action=""> 
```

# c# - 没有调用jquery？

> ID：14746642
> 
> 赞同：1
> 
> 时间：2013-02-07T08:25:11.420
> 
> 标签：c#, jquery, asp.net

```
<div>
<asp:Button ID="btnCalculate" runat="server" Text="Calculate Claim" OnClientClick="cfrm();"/>
</div>
<div style="visibility: hidden;">
    <asp:Button ID="btnYes" runat="server" OnClick="btnYes_Clicked" />
</div>

<script language="javascript" type="text/javascript">
            function cfrm() {
                var fee = $('[id$=lblTotalProcedureFee]').text();
                if (fee > 500) {
                    if (confirm('Are you sure to do this operation?')) {
                    $('#<%= this.btnYes.ClientID %>').click();
                    }
                }
            }
</script> 
```

我正在尝试从查询中调用“btnYes_Clicked”。参考上面的代码。它不起作用..然后我编辑代码只是为了测试。第一次单击，它不起作用。第二次单击，它转到 btnYes_Clicked 事件。我正在使用具有更新面板的母版页。请帮忙。谢谢..

```
<script language="javascript" type="text/javascript">
            function cfrm() {
                    $('#<%= this.btnYes.ClientID %>').click();                     
            }
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:51:31.577

也许你可以尝试这样的事情，使用`return`in`OnClientClick`和 in`cfrm`来防止表单不需要的表单提交：

```
<div>
<asp:Button ID="btnCalculate" runat="server" Text="Calculate Claim" OnClientClick="return(cfrm());"/>
</div>

<script language="javascript" type="text/javascript">
            function cfrm() {
                var fee = $('[id$=lblTotalProcedureFee]').text();
                if (fee > 500) {
                    if (confirm('Are you sure to do this operation?')) {
                    $('#<%= this.btnYes.ClientID %>').click();
                    }
                }
                return false;
            }
</script> 
```

希望这会有所帮助

# javascript - 解析工作时间字符串的正则表达式模式

> ID：14746644
> 
> 赞同：3
> 
> 时间：2013-02-07T08:25:22.517
> 
> 标签：javascript, python, regex, datetime, python-2.7

我正在编写一个 python 库来解析不同的工作时间字符串并生成标准的时间格式。我陷入了以下情况：

我的正则表达式应该返回组`Mon - Fri 7am - 5pm Sat 9am - 3pm`as`['Mon - Fri 7am - 5pm ', 'Sat 9am - 3pm']`但如果第一个和第二个之间有逗号，那么它应该返回`[]`。

逗号也可以在任何地方，但不应该在两个工作日和持续时间之间。例如：`Mon - Fri 7am - 5pm Sat 9am - 3pm and available upon email, phone call`应该返回`['Mon - Fri 7am - 5pm ', 'Sat 9am - 3pm']`.

这是我尝试过的，

```
import re
pattern = """(
    (?:mon|tue|wed|thu|fri|sat|sun|mo|tu|we|th|fr|sa|su|m|w|f|thurs) # Start weekday
\s*[-|to]+\s* # Seperator
(?:mon|tue|wed|thu|fri|sat|sun|mo|tu|we|th|fr|sa|su|^(?![ap])m|w|f|thurs)?  # End weekday
\s*[from]*\s* # Seperator
(?:\d{1,2}(?:[:]\d{1,2})?)\s*(?:[ap][.]?m.?) # Start hour
\s*[-|to]+\s* # Seperator
(?:\d{1,2}(?:[:]\d{1,2})?)\s*(?:[ap][.]?m.?) # Close hour
)"""

regEx = re.compile(pattern, re.IGNORECASE|re.VERBOSE)

print re.findall(regEx, "Mon - Fri 7am - 5pm Sat 9am - 3pm")
# output ['Mon - Fri 7am - 5pm ', 'Sat 9am - 3pm']
print re.findall(regEx, "Mon - Fri 7am - 5pm Sat - Sun 9am - 3pm")
# output ['Mon - Fri 7am - 5pm ', 'Sat - Sun 9am - 3pm']
print re.findall(regEx, "Mon - Fri 7am - 5pm, Sat 9am - 3pm")
# expected output []
# but I get ['Mon - Fri 7am - 5pm,', 'Sat 9am - 3pm']
print re.findall(regEx, "Mon - Fri 7am - 5pm , Sat 9am - 3pm")
# expected output []
# but I get ['Mon - Fri 7am - 5pm ', 'Sat 9am - 3pm'] 
```

我也在我的正则表达式中尝试了负前瞻模式

```
pattern = """(
(?:mon|tue|wed|thu|fri|sat|sun|mo|tu|we|th|fr|sa|su|m|w|f|thurs)
\s*[-|to]+\s*
(?:mon|tue|wed|thu|fri|sat|sun|mo|tu|we|th|fr|sa|su|^(?![ap])m|w|f|thurs)?
\s*[from]*\s*
(?:\d{1,2}(?:[:]\d{1,2})?)\s*(?:[ap][.]?m.?)
\s*[-|to]+\s*
(?:\d{1,2}(?:[:]\d{1,2})?)\s*(?:[ap][.]?m.?)
(?![^,])
)""" 
```

但我没有得到预期。我应该明确编写检查条件的代码吗？有什么方法可以改变我的正则表达式而不是写明确的条件检查？

我喜欢实施的另一种方法是如果逗号不存在，则在两个工作日持续时间之间添加逗号，并将我的正则表达式更改为按逗号分组/拆分。`"Mon - Fri 7am - 5pm Sat 9am - 3pm"`=>`"Mon - Fri 7am - 5pm, Sat 9am - 3pm"`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T10:01:04.037

我认为你可以简单地通过匹配整个表达式来做到这一点，以便逗号（和其他字符是不允许的：

```
pattern = """^(
(
    (?:mon|tue|wed|thu|fri|sat|sun|mo|tu|we|th|fr|sa|su|m|w|f|thurs) # Start weekday
\s*[-|to]+\s* # Seperator
(?:mon|tue|wed|thu|fri|sat|sun|mo|tu|we|th|fr|sa|su|^(?![ap])m|w|f|thurs)?  # End weekday
\s*[from]*\s* # Seperator
(?:\d{1,2}(?:[:]\d{1,2})?)\s*(?:[ap][.]?m.?) # Start hour
\s*[-|to]+\s* # Seperator
(?:\d{1,2}(?:[:]\d{1,2})?)\s*(?:[ap][.]?m.?) # Close hour
)
)+$"" 
```

这将输出：

```
[('Sat 9am - 3pm', 'Sat 9am - 3pm')]
[('Sat - Sun 9am - 3pm', 'Sat - Sun 9am - 3pm')]
[]
[] 
```

希望能帮助到你，

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-13T07:05:52.193

无法弄清楚如何在单个正则表达式中做到这一点，很难找到一个好问题。我可以做你需要的，但要知道我并不为此感到骄傲。

假设你有一个功能来做到这一点......

```
def sample_funct(unparsed_schedule)
    result = []

    # Day Pattern
    pattern = """
    (?:mon|tue|wed|thu|fri|sat|sun|mo|tu|we|th|fr|sa|su|m|w|f|thurs) # Start weekday
    \s*[-|to]+\s* # Seperator
    (?:mon|tue|wed|thu|fri|sat|sun|mo|tu|we|th|fr|sa|su|^(?![ap])m|w|f|thurs)?  # End weekday
    \s*[from]*\s* # Seperator
    (?:\d{1,2}(?:[:]\d{1,2})?)\s*(?:[ap][\.]?m\.?) # Start hour
    \s*[-|to]+\s* # Seperator
    (?:\d{1,2}(?:[:]\d{1,2})?)\s*(?:[ap][\.]?m\.?) # Close hour
    """

    # No commas pattern
    pattern2 = "%s\s*[^,]\s*%s" % (pattern, pattern)

    # Actual Regex Pattern Items
    schedule     = re.compile(pattern, re.IGNORECASE|re.VERBOSE)
    remove_comma = re.compile(pattern2, re.IGNORECASE|re.VERBOSE)

    # Check we have no commas in the middle
    valid_result = re.search(remove_comma, unparsed_schedule)
    if valid_result:
        # Positive result, return the list with schedules
        result = re.findall(schedule, validresult.group(0))

    # If no valid results will return empty list
    return result 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-07T10:21:49.473

如果逗号在两个工作日期间不存在，我写了几行代码来检查和插入逗号。所以我可以得到相同的格式`"Mon - Fri 7am - 5pm, Sat 9am - 3pm"`，我可以继续前进。

# node.js - 为什么域不会捕获以下异常？

> ID：14746645
> 
> 赞同：1
> 
> 时间：2013-02-07T08:25:26.633
> 
> 标签：node.js, node.js-domains

为什么域不处理以下错误？

```
var globalDomain = domain.createDomain();

globalDomain.run( function() {
    // Why below exception does not get handled by globalDomain?
    throw "some error"; 
});

globalDomain.on('error', function(msg) {
    console.log("In global error event:" + msg);
}); 
```

同样，它与以下代码完美配合，

```
var globalDomain = domain.createDomain();

globalDomain.run( function() {
    setTimeout(function(){
        throw "some error from timeout";
    },0);
});

globalDomain.on('error', function(msg) {
    console.log("In global error event:" + msg);
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T11:42:59.900

```
var globalDomain = domain.createDomain();

globalDomain.on('error', function(msg) {
    console.log("In global error event:" + msg);
});

globalDomain.run( function() {
    //  exception gets handled by globalDomain !!
    throw "some error"; 
}); 
```

# windows - Sublime 不在新窗口/实例中打开文件

> ID：14746646
> 
> 赞同：1
> 
> 时间：2013-02-07T08:25:33.793
> 
> 标签：windows, file, sublimetext2

当我从 o/s 文件浏览器打开文件时，如何让 Sublime 在相同/现有的 Windows 实例中打开？不要在分开的情况下打开。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:26:12.187

添加：`"open_files_in_new_window": false,`在..“设置-默认”文件中。

# linux - 如何杀死使用nodejs ssh2执行的尾进程？

> ID：14746648
> 
> 赞同：3
> 
> 时间：2013-02-07T08:25:53.223
> 
> 标签：linux, node.js, ssh, tail

如何杀死我在此查询中执行的尾部进程？

```
var c = new Ssh2();
   c.on('connect', function() {
     console.log('Connection :: connect');
   });
   c.on('ready', function() {
     console.log('Connection :: ready');
     c.exec('tail -f test.txt', function(err, stream) {
    if (err) throw err;
    stream.on('data', function(data, extended) {
        console.log((extended === 'stderr' ? 'STDERR: ' : '')
                   + data);
    });
    stream.on('exit', function(code, signal) {
        c.end();
    });
     });
   });
   c.on('error', function(err) {
     console.log('Connection :: error :: ' + err);
   });
   c.on('end', function() {
     console.log('Connection :: end');
   });
   c.on('close', function(had_error) {
     console.log('Connection :: close');
   });        
   c.connect({
     host: '127.0.0.1',
     port: 22,
     username: 'test',
     password: 'test'
   }); 
```

或者有什么建议`tail -f`使用nodejs执行？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T11:05:53.950

最简单的方法是在命令行中使用这样的形式：'tail -f test.txt & read; 杀死$！'。

然后当你想杀死进程时，只需`stream.write('\n');`

# coldfusion - 如何通过计划任务检测脚本是否正在运行

> ID：14746656
> 
> 赞同：1
> 
> 时间：2013-02-07T08:26:26.150
> 
> 标签：coldfusion, scheduled-tasks, railo, cfml

有没有办法检测脚本是否由计划任务运行。

我有一个脚本，它会抛出一个`ClientAbortException`，因为我正在使用`cfflush`. 我需要检测脚本是否通过计划任务运行，以便脚本可以成功运行。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T08:26:26.150

看来您可以通过 CGI.HTTP_USER_AGENT 进行检查：

```
<cfif CGI.HTTP_USER_AGENT NEQ "CFSCHEDULE">
  <cfflush>
</cfif> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T13:02:08.983

正如 Travis 所说，这是一个重复的问题，但另一个答案是您可以向计划任务添加一个 url 参数，例如 ?auto= 这将允许您检查 url 范围以确定它是如何运行的。

# iphone - 为 xcode 4.6 中的架构“armv7”选择了不支持的编译器“GCC 4.2”

> ID：14746657
> 
> 赞同：1
> 
> 时间：2013-02-07T08:26:27.507
> 
> 标签：iphone, ios, gcc, zxing

我不小心将我的 iphone 更新到了 6.1，当这种情况发生时，我才知道我必须将 xcode 版本也更新到版本 4.6 (4H127)，我这样做了。我需要阅读我使用 Zxing 的 qrcode，它运行良好。在所有更新之后，它在构建失败时抛出错误。错误说 **“为架构'armv7'选择了不支持的编译器'GCC 4.2'”** 我尝试搜索答案将编译器从默认更改为LLVM GCC 4.2，从默认的APPLE LLVM Compiler 4.2但没有任何变化。

请指导我解决问题。

![我的项目目标（构建设置](../Images/1a6067f2032f6212a5d49d312888ae67.png)

![构建设置（项目）](../Images/03e0dddb019fa78d9f419482777ee2ee.png)

# proxy - QWebview、HTTP代理、html5视频不工作

> ID：14746660
> 
> 赞同：1
> 
> 时间：2013-02-07T08:26:34.927
> 
> 标签：proxy, html5-video, qtwebkit, qwebview

我正在使用 QWebView 来显示聊天记录。

```
webView = new QWebView(this);
QWebSettings::globalSettings()->setAttribute(QWebSettings::PluginsEnabled, true);
webView->settings()->setAttribute(QWebSettings::PluginsEnabled, true);
webView->settings()->setAttribute(QWebSettings::LocalStorageEnabled, true);
webView->settings()->setAttribute(QWebSettings::PrivateBrowsingEnabled, true);
webView->settings()->setMaximumPagesInCache(0);
webView->settings()->setAttribute(QWebSettings::DeveloperExtrasEnabled, true); 
```

如果未设置 QWebView 的代理，则这样的 HTML 代码可以正常工作。

```
<iframe width=\"100%\" height=\"315\" frameborder=\"0\" allowfullscreen src=\"http://www.youtube.com/embed/" + rxYouTube.cap(11) + "\" ></iframe> 
```

但是当我做这样的事情时

```
QNetworkProxy proxy;
proxy.setType(QNetworkProxy::HttpProxy);
proxy.setHostName("_ip_");
proxy.setPort(_port_);
proxy.setUser("_login_");
proxy.setPassword("_passsword_");
QNetworkProxy::setApplicationProxy(proxy); 
```

YouTube 告诉我我的浏览器不支持 HTML5。

我该如何解决这个问题？

PS平台：Qt 4.8、Windows、VC

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-01T22:18:04.530

I haven't tested going through a proxy yet, although my LAN uses a transparent auto-proxy so at least that much works, but I have worked out how to get general HTML5 Video support in a QWebView on Windows. I've written a blog post about that you can read here: [http://blog.enthought.com/open-source/fun-with-qtwebkit-html5-video/](http://blog.enthought.com/open-source/fun-with-qtwebkit-html5-video/) It involves building Qt + qt-mobility, and also a bug fix in qt-mobility.

# html - 响应式网页设计 css 媒体查询和 Iphone 不同的分辨率

> ID：14746661
> 
> 赞同：3
> 
> 时间：2013-02-07T08:26:41.310
> 
> 标签：html, css, responsive-design

我在我的应用程序上使用媒体查询，它似乎运行良好并且在[http://www.responsinator.com/](http://www.responsinator.com/)中显示良好，但是当我在真正的 iPhone 4 中查看时，我的网页根本不可读。看起来都放大了。

试图找出实际原因，似乎 responsinator 将 iPhone 4 的分辨率显示为 320 x 480，而该网站[http://www.iphoneresolution.com/](http://www.iphoneresolution.com/)显示为 640×960。我的 iPhone 看起来是 640×960。我应该如何处理 CSS 媒体查询中的这些情况？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-07T09:29:32.487

将 viewport 元标记添加到`head`html 文件的 -area：

```
<meta name="viewport" content="width=device-width, initial-scale=1.0" /> 
```

此代码可让您的网站正确扩展。

# php - 如何将所选项目保留在php的下拉列表中？

> ID：14746662
> 
> 赞同：-2
> 
> 时间：2013-02-07T08:26:44.203
> 
> 标签：php

我正在使用此代码在我的网站中切换语言。一切正常，但是当我更改语言时，总是选择第一个项目。我想继续选择哪种语言是网站语言。这是我的代码。

```
<td width="85%" align=right class=top_section> 
          <form method='POST'>
          <select name="switchlanguage" onchange="this.form.submit()"> 
          <option value="en" <?php if($_POST['switchlanguage'] == 'en') echo 'selected';?>English</option> 
          <option value="ru" <?php if($_POST['switchlanguage'] == 'ru') echo 'selected';?>Русский</option> 
          <option value="tj" <?php if($_POST['switchlanguage'] == 'tj') echo 'selected';?>Точики</option> 
          </select> 

    </form>
    </td> 
```

如何让它正常工作？如果选择俄语，则应保留为俄语。但它总是用英语。

并使用此代码更改网站语言

```
if(!isset($_POST['switchlanguage']))
  {
  include_once($DOCUMENT_LANG.'en.lng.php');
  }
  else
  {
  include_once($DOCUMENT_LANG.$_POST['switchlanguage'].'.lng.php');
  } 
```

即使我使用制表符进入下拉框并使用向下键，它也会自动转到第一项。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T13:05:32.500

我发现了问题所在。我不知道 smarty 我们需要 <{php}> 和 <{/php}> 标签。因此，smarty 并不知道写作。我终于写了这段代码，它工作了。

```
<form method='POST'>
      <select name="switchlanguage" onchange="this.form.submit()"> 
      <option value="en" <{php}>if($_POST['switchlanguage'] == 'en') echo 'selected="selected"';<{/php}>> English</option> 
      <option value="ru" <{php}>if($_POST['switchlanguage'] == 'ru') echo 'selected="selected"';<{/php}>> Русский</option> 
      <option value="tj" <{php}>if($_POST['switchlanguage'] == 'tj') echo 'selected="selected"';<{/php}>> То?ик?</option> 
      </select> 
```

感谢所有帮助过我的人。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:30:38.903

嗯，使用cookies怎么样？我认为这对于这个问题应该是相当标准的，除非你因为某种原因不能使用它们（即你不想关心关于 cookie 的欧盟法律？）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-07T08:34:23.530

你应该使用

```
selected="selected" 
```

不是 PHP 程序员，但你可以试试

```
<td width="85%" align=right class=top_section> 
          <form method='POST'>
          <select name="switchlanguage" onchange="this.form.submit()"> 
          <option value="en" <?php if($_POST['switchlanguage'] == 'en') echo 'selected="selected"';?>English</option> 
          <option value="ru" <?php if($_POST['switchlanguage'] == 'ru') echo 'selected="selected"';?>Русский</option> 
          <option value="tj" <?php if($_POST['switchlanguage'] == 'tj') echo 'selected="selected"';?>Точики</option> 
          </select> 

    </form>
    </td> 
```

嘿，试试

```
<form method='POST'>
          <select name="switchlanguage" onchange="this.form.submit()"> 
          <option value="en" <?php if($_POST['switchlanguage'] == 'en') echo 'selected="selected"';?>> English</option> 
          <option value="ru" <?php if($_POST['switchlanguage'] == 'ru') echo 'selected="selected"';?>> Русский</option> 
          <option value="tj" <?php if($_POST['switchlanguage'] == 'tj') echo 'selected="selected"';?>> Точики</option> 
          </select> 

    </form> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-07T08:49:10.847

对于您的问题，您可以使用以下一项或多项：

*   匿名用户选择语言：寻找一个 PHP 脚本，它使用所选语言的值设置一个 cookie，例如 setcookie("switchlanguage", 'en', time()+3600, "/", "example.com") ;
*   经过身份验证的用户：您可能会考虑将当前用户的首选语言存储在您的数据库中（然后制作一个脚本来存储和检索选择）
*   你总是可以考虑使用会话来存储语言，但是当用户离开你的网站时它会过期（开始一个新的会话）

在上述任何一种情况下，您都需要编写一个脚本，在 Cookie、Session 或 DB 中设置 lang val，然后重定向回原始页面。或者更好地对这个存储 val 的 PHP 脚本进行 Ajax 调用，然后返回一个带有值集或错误的 JSON 对象。

最后，您需要调整您的 HTML 以选择正确的语言（例如使用 cookie）：

```
<select name="switchlanguage" onchange="this.form.submit()"> 
<option value="en" <?php if(!isset($_COOKIE['switchlanguage']) || empty($_COOKIE['switchlanguage']) || $_COOKIE['switchlanguage'] == 'en') echo 'selected';?>English</option> 
<option value="ru" <?php if($_COOKIE['switchlanguage'] == 'ru') echo 'selected';?>Русский</option> 
<option value="tj" <?php if($_COOKIE['switchlanguage'] == 'tj') echo 'selected';?>Точики</option> 
</select> 
```

我还添加了您缺少的默认情况： (!isset($_COOKIE['switchlanguage']) || empty($_COOKIE['switchlanguage']) ) 当仍然没有选择语言时选择英语。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-07T10:16:52.673

由于找不到更好的解决方案，我做了一个小技巧……我又添加了一个选项。它总是会转到第一个选项。第一个选项是选择语言。如果有人找到另一种方法，我会很高兴。目前我找不到更好的解决方案。

```
<td width="85%" align=right class=top_section> 
    <form method='POST'>
          <select name="switchlanguage" onchange="this.form.submit()"> 
          <option  > Choose language</option> 
          <option value="en" > English</option> 
          <option value="ru" > Русский</option> 
          <option value="tj" > Точики</option> 
          </select> 

    </form>
    </td> 
```

我知道这不好，但总比没有好。我不会接受这个答案，因为它没有解决我的问题。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-07T08:59:36.127

这是这个帖子的结果

```
<?php if($_POST['switchlanguage'] == 'en') echo 'selected="selected"';?. ?> 
```

来自其他页面，或者您是否正在更改此页面本身的语言。如果它是通过发布请求来自其他页面，那么没关系，但如果您正在更改此页面本身的语言，请使用 javascript 选择特定字段。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-07T08:37:35.453

您的代码中有一些错字。看到这个

```
<option value="en" <?php if($_POST['switchlanguage'] == 'en') echo 'selected';?>English</option> 
```

这应该是

```
<option value="en" <?php if($_POST['switchlanguage'] == 'en') echo 'selected'; ?>>English</option> 
```

注意选项开始标签的右大括号（在英语和其他语言之前）。

您可以将您的选择代码替换为以下代码：

```
<select name="switchlanguage" onchange="this.form.submit()"> 
    <option value="en" <?php if($_POST['switchlanguage'] == 'en') echo 'selected'; ?>>English</option> 
    <option value="ru" <?php if($_POST['switchlanguage'] == 'ru') echo 'selected'; ?>>Русский</option> 
    <option value="tj" <?php if($_POST['switchlanguage'] == 'tj') echo 'selected'; ?>>Точики</option> 
</select> 
```

**编辑：**

你的编辑代码看起来像这样吗，

```
<?php
$_POST['switchlanguage'] ='ru';
?>
<table>
<tr>
    <td width="85%" align=right class=top_section> 
        <form method='POST'>
            <select name="switchlanguage" onchange="this.form.submit()"> 
                <option value="en" <?php if($_POST['switchlanguage'] == 'en') echo 'selected'; ?>>English</option> 
                <option value="ru" <?php if($_POST['switchlanguage'] == 'ru') echo 'selected'; ?>>Русский</option> 
                <option value="tj" <?php if($_POST['switchlanguage'] == 'tj') echo 'selected'; ?>>Точики</option> 
            </select> 
        </form>
    </td>
</tr>
</table> 
```

我已经对此进行了测试，并且工作正常。

# php - 关闭数据库连接

> ID：14746663
> 
> 赞同：0
> 
> 时间：2013-02-07T08:26:49.387
> 
> 标签：php, database

我正在使用 mongodb 和 zendframework 2 做项目，所以在这里我在构造函数中创建连接

```
private $conn;

public function __construct(){
    $this->conn = new \MongoClient('mongodb://example.com:27017', array("connect" => TRUE));
} 
```

它包含几个操作来执行数据库操作，如 createdb、dropdb、renamedb 一样明智。所以我在 __distruct() 方法中关闭了该连接

```
public function __destruct(){
    $this->conn->close();
} 
```

我的代码工作正常。但我想知道这样可以吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:49:44.750

PHP 自动关闭数据库连接。

[您可以在这篇文章](https://stackoverflow.com/questions/4942596/automatic-db-connection-close-in-php)中阅读更多相关信息

***但是*** [读这个](http://www.php.net/manual/en/mysqli.close.php)

***引用：*** “打开的连接（和类似的资源）在脚本执行结束时会自动销毁。但是，您仍然应该在不再需要所有连接、结果集和语句句柄时立即关闭或释放它们。这将有助于返回资源到 PHP 和 MySQL 的速度更快。”

所以基本上，如果你有大量的东西进出数据库，那么是的，你可能想在之后立即关闭。

在我看来，它是相当可选的，您可以自己选择是否终止该进程。

# php - 无需登录即可获取 Google Analytics 数据

> ID：14746664
> 
> 赞同：1
> 
> 时间：2013-02-07T08:26:56.367
> 
> 标签：php, api, google-analytics

我玩过 Analytics API 并使用 oauth 并设法从我的 Analytics 帐户中提取数据，这并不太麻烦，而且效果很好。

问题是我正在为我的客户构建一个小型“数据图表”服务，这基本上会将来自谷歌分析、电话跟踪和其他一些服务的数据输入一个中心区域，该区域将显示有多少人从他们的网站。

问题是要使用 Google Analytic API，您需要通过 oauth 进行身份验证，这会提示用户登录 Google 帐户。

有没有一种方法可以让我获得我的 GA 数据而无需手动使用 oauth 进行身份验证？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T10:13:59.483

你可以试试**GAPI - Google Analytics API PHP Interface**

这是该项目的 Google 代码页面： [http ://code.google.com/p/gapi-google-analytics-php-interface/](http://code.google.com/p/gapi-google-analytics-php-interface/)

**功能**（如 GAPI 项目页面所述）：

*   支持 CURL 和 fopen HTTP 访问方法，具有自动检测功能
*   用于 Google Analytics 指标和维度的 PHP 数组
*   账户数据对象映射——获取参数的方法
*   报表数据对象映射 - 获取指标和参数的方法
*   轻松过滤，为 Google Analytics 过滤器使用 GAPI 查询语言
*   完整的 PHP5 面向对象代码，可在您的 PHP 应用程序中使用

# android - 在 libgdx 中使用 BitmapFont 渲染文本

> ID：14746666
> 
> 赞同：1
> 
> 时间：2013-02-07T08:27:06.530
> 
> 标签：android, libgdx

我正在尝试`BitmapFont`在**libgdx 演示 Super Jumper**中对 Bob 进行“生命计数” 。我补充说：

```
Assets.font.draw(batch, "20", world.bob.position.x, world.bob.position.y); 
```

在类的`renderBob()`方法中`WorldRenderer`。

但是文本以巨大的尺寸呈现，在屏幕底部几乎看不到：

![超级跳线鲍勃跳过一个巨人](../Images/0d41d88fa24f8c33cfc6f73357af6118.png)

我应该怎么做才能使生命计数文本正确呈现在 Bob 的头顶上？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T11:17:06.690

在 WorldRenderer 类中，您有不同的相机/分辨率设置，只有以下分辨率：

`static final float FRUSTUM_WIDTH = 10; static final float FRUSTUM_HEIGHT = 15;`

所以你要做的是：在里面画你的字符串`GameScreen.presentRunning`，但是你必须重新计算 Bob 到你的 GameScreen-Camera 的位置。

我认为这应该在 presentRunning 中工作（现在无法测试）：

`Assets.font.draw(batcher, "20", world.bob.position.x / 10 * 320, world.bob.position.y / 15 * 480);`

# c# - Entity Framework 5 MVC 4 - 脚手架错误 - 没有键

> ID：14746673
> 
> 赞同：4
> 
> 时间：2013-02-07T08:27:18.203
> 
> 标签：c#, asp.net-mvc, entity-framework, scaffolding

首先，我不得不说我是 MVC 和 EF 的新手。我首先使用数据库创建了模型，并选择了两个表用户--->用户详细信息（相关）

模型生成得很好，它们验证得很好，如果我尝试做简单的数据访问，这也很好。

现在，当我尝试将其与 MVC 4 脚手架结合并选择新的控制器/EF 框架添加/更新/删除等时，我放入 User Model + UserContext 它抱怨自动生成的模型没有密钥。

实体类型 - “用户”没有键。所以我打开模型，看到实际上有一个键，它勾选了复选框实体键，以及属性旁边的小“键”标志。

我到处寻找唯一可行的解​​决方案是手动打开 User.cs 并将 [Key] 属性放在键旁边 - 这对我来说很可怕，因为这个文件显然是自动生成的，我不想这样做每个键都有这个？难道我做错了什么？

无论如何，我离题了，现在我已经将密钥添加到 User 和 UserDetails cs 文件中，它停止抱怨，现在开始抱怨：

无法检索元数据：对于用户。无法确定 User 和 UserDetail 之间关联的原则结束。此关联的主体端必须使用关系流式 API 或数据注释显式配置。

我现在有两个问题：

1.  我应该像这样弄乱自动生成的文件吗？还是我做错了什么？2/我该如何解决第二个问题？

我觉得有些不对劲，因为我不应该在这样的问题后遇到问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T20:29:54.787

我有一个类似的“无法检索类型的元数据......”错误。假设（如果有的话）您之间的关系`Users`并`UserDetails`正确实施，您可以尝试以下操作，这是我为解决错误所做的：

在您的 Web.config 文件（根文件，在解决方案资源管理器的最后）`name`中，您的连接字符串从这里更改...

```
<connectionStrings>
 <add name="YourContext" connectionString="Data Source=|DataDirectory|YourNamespace.Models.YourDBName.sdf" providerName="System.Data.SqlServerCe.4.0" />
</connectionStrings> 
```

...对此：

```
<connectionStrings>
 <add name="DefaultConnection" connectionString="Data Source=|DataDirectory|YourNamespace.Models.YourDBName.sdf" providerName="System.Data.SqlServerCe.4.0" />
</connectionStrings> 
```

改变就行了`name`，别无他法。然后构建您的解决方案并尝试运行它。可能是一个长镜头，但它对我有用。[来自这里](https://stackoverflow.com/questions/14483860/mvc-4-add-controller-with-scaffolding-giving-error-unable-to-retrieve-metadat/14503668#comment20657402_14503668)的更多信息，我在那里问了一个类似的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-06-27T18:15:13.090

密钥的使用如下：

```
public class Item()
{
    [Key]
    public int Id {get;set;}
    public string Name {get;set;}
} 
```

键用于告诉实体这是带有数据注释的主键。

# java - 杀死后台进程

> ID：14746674
> 
> 赞同：0
> 
> 时间：2013-02-07T08:27:26.210
> 
> 标签：java, windows, process

我正在运行一个 Java 程序，它充当我的程序的服务器，使用`CreateProcess`无窗口（使用[此处](https://stackoverflow.com/questions/14729940/do-i-need-to-close-handles-to-standard-i-o-after-createprocess)显示的设置）。我有一个对象，它在其构造函数中运行进程，保存进程句柄，并在析构函数中使用它`TerminateProcess`来杀死它。

我的问题是，当我的窗口在角落里的 X 关闭时，这个析构函数永远不会被调用并且进程继续在后台运行，句柄丢失了，我没有迹象表明它仍在运行或杀死它（其他任务管理器）。我怎样才能确保它被杀死。

**大图**
这是我需要做的。如果您可以提出更好的方法来完成此任务，那也很好。
每次运行我的程序（有时甚至在程序中多次）时，我都需要这个 java 服务器的一个新实例。我想在没有任何可见指示（窗口等）的情况下运行它，但这不是必需的。我*确实*需要能够确保无论发生什么情况，我打开的服务器在我完成后都会被杀死，或者确保没有正在运行的实例，如果是这样，在我开始之前杀死它一个新的。（或者更好的是，两者都是。）使用进程名称并不好，因为它只是`java`，而且我不想杀死计算机上的所有 Java 实例。我*可以*（如果我知道如何）检查程序是否正在侦听此服务器使用的端口，如果是，请关闭它。

**编辑**
我忘了提到（如果有区别的话）GUI 是 C#，我无法控制它或 Java 程序本身。我正在用 C++ 编写一个从 C# GUI 调用并需要使用 Java 服务器的库。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:37:22.913

创建一个名为“看门狗”的新后台进程。此进程获取主 GUI 和后台 Java 服务器的句柄，然后在 GUI 的进程句柄上调用 WaitForSingleObject。当此调用返回时，您将终止 Java 服务器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:41:08.960

修改您的[DllMain](http://msdn.microsoft.com/en-us/library/ms682583%28v=VS.85%29.aspx)入口点以处理 DLL_PROCESS_DETACH。它的响应应该是执行您想要的任何清理。

# windows-phone-8 - 如何更新 WMAppManifest.xml 定义的 IconicTile 和 LockScreen

> ID：14746675
> 
> 赞同：0
> 
> 时间：2013-02-07T08:27:33.403
> 
> 标签：windows-phone-8, windows-phone, live-tile

我正在尝试为 Windows Phone 8 创建一个 IconicTile。我已经使用 VS2012 将 Tile 模板的类型定义为 TemplateIconic 并添加了一个 Tile Title 和两个用于中小型的图像。

如果我将我的应用固定到开始屏幕，我可以像预期的那样在中小型磁贴之间进行选择。

现在我想更新我在 WMAppManifest.xml 中定义的 IconicTile。据我了解 IconicTile，它需要在代码中更新，并且如果我定义了 LockScreen 图标和计数，它也会更新。我添加了一个 DeviceLockImageURI 和这个扩展：

```
<Extensions>
  <Extension ExtensionName="LockScreen_Notification_IconCount" ConsumerID="{111DFF24-AA15-4A96-8006-2BFF8122084F}" TaskID="_default"/>
  <Extension ExtensionName="LockScreen_Notification_TextField" ConsumerID="{111DFF24-AA15-4A96-8006-2BFF8122084F}" TaskID="_default" />
</Extensions> 
```

**第一个问题：这个 ConsumerID 总是相同还是它是哪个 ID？**

要更新我在 WMAppManifest.xml 中定义的 IconicTile，我需要在屏幕上获取我的应用程序的所有固定 Tiles。我已经阅读了很多解释如何从您的应用程序手动添加磁贴的教程，但我只想使用我在 WMAppManifest.xml 中定义的磁贴。因此，所有教程都建议使用以下代码获取当前活动的 Tile：

```
ShellTile.ActiveTiles.FirstOrDefault(); 
```

ActiveTiles 是一个 IEnumeration，只为我提供：Equals、GetEnumerator、GetHashCode、GetType 和 ToString

**第二个问题：我在这里错过了什么？FirstOrDefault 是否仅适用于 FlipTiles 或 CycleTiles？我只想使用 IconicTile！**

所以我坚持在屏幕上识别当前活动的 IconicTile，以便我可以使用 IconicTileData 对象来更新 IconicTile 的计数或文本。我在这里想念什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T09:38:43.380

**对于第一个问题：**

当您从 Xml 创建 IconicTile 时，我[看到了 Tile ID：](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj207009%28v=vs.105%29.aspx)

```
<wp:Tile Id="[Tile ID]" Template="IconicTile"> 
```

也许是这个ID？否则，我将始终使用相同的静态 ID，因为没有关于如何创建此 ID 的文档。

**对于第二个问题：**

我发现了错误：我失踪了

```
using System.Linq; 
```

这种使用允许访问使用 FirstOrDefault 或类似命令所需的 Linq 方法。我被误导了

```
using System.Xml.Linq; 
```

这绝对不是同一个 Linq 类；）

# sharepoint - 以编程方式访问外部列表关联列

> ID：14746678
> 
> 赞同：0
> 
> 时间：2013-02-07T08:27:53.650
> 
> 标签：sharepoint, sharepoint-2013, bcs

嗨，我有 2 个外部列表“A”和“B”。与 A 中的关联列查找 B。当我在浏览器中查看/编辑项目时，它显示正确的值，如下图所示。

![在此处输入图像描述](../Images/d02481fd15b9f2a671b067d047e981ea.png)

但是当我尝试访问代码中的列表时，我可以访问所有列值，但关联的列值为空。代码看起来像这样：

```
 items = listReports.GetItems();

                            System.Collections.Generic.List<ReportItem> reportItems = new List<ReportItem>();
                            foreach (SPListItem it in items)
                            {
                                if (it != null)
                                {

                                    ReportItem item = new ReportItem();
                // extItem comes null
                var extItem = it["ExtCol"];
                // extItem comes null

                  DateTime date;
                                    if (DateTime.TryParse(it["GeneratedOn"].ToString(), out date))
                                    {
                                        item.dateGenerated = date.Date;
                                    }

                                    DateTime time;
                                    if (DateTime.TryParse(it["GeneratedOn"].ToString(), out time))
                                    {
                                        item.timeGenerated = time.Date;
                                    }

                                    reportItems.Add(item);

                                }

                            } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T12:14:24.597

我不确定，但是，“ExtCol” - 是您的外部类型中字段的正确名称吗？对于外部项目，sharepoint 可以在源字段名称中替换外部项目/列的名称。

# java - 使用正则表达式进行模式匹配

> ID：14746681
> 
> 赞同：1
> 
> 时间：2013-02-07T08:28:14.477
> 
> 标签：java, regex

我有这两个字符串：

1.  “2013-01-28 12:10:01.680000”。

2.  “2013-01-28 12:10:01”。

我想要一个正则表达式，它将对所有以: 开头的字符串返回 true `xxxx-xx-xx xx:xx:xx`，当 x 是一个数字时，无论后缀是什么（从该点开始的值）。

现在我使用：

`final String ACCEPTED_FORMAT = "\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}.\\d{6}";`

但我不想检查字符串中点之后的值。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T08:30:56.187

这应该做我认为的工作：

```
final String ACCEPTED_FORMAT = 
        "\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}(\\.\\d{6})?"; 
```

它使'。后面的 6 位数字是可选的。

* * *

但是，这不是验证日期的好方法，因为它允许各种胡说八道，包括不存在的月份、月底之后的日子等等。有适当的日期解析器......如果你想正确验证日期，你应该使用一个。

（而且我发现很难想象为什么您*不想*正确验证日期。允许用户输入废话的实用程序是什么`"2011-02-32 99:99:99"`？）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-07T08:34:57.700

我认为你的正则表达式必须是

```
\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}(\\.\\d{6})? 
```

编辑：-@Stephen C-点字符也必须转义。（点将匹配任何字符）

# lua - 使用 libCurl 登录

> ID：14746682
> 
> 赞同：0
> 
> 时间：2013-02-07T08:28:21.907
> 
> 标签：lua, libcurl

我试图使用 LibCurl 登录。实际上我在 Lua 中使用 LuaCurl 绑定 libCurl。我指的是这个网页：[http ://www.hackthissite.org/articles/read/1078](http://www.hackthissite.org/articles/read/1078)

我试过这个：

```
> require("libcurl")
> c=curl.new()
> c:setopt(curl.OPT_USERAGENT,"Mozilla/4.0")
> c:setopt(curl.OPT_AUTOREFERER,true)
> c:setopt(curl.OPT_FOLLOWLOCATION,true)
> c:setopt(curl.OPT_COOKIEFILE,"")
> c:setopt(curl.OPT_URL,"https://www.chase.com")
> res=c:perform() 
```

但是在最后一次操作之后，程序就像在等待什么一样卡住了。我在这里做错了什么？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T21:28:16.137

我试过你的程序，它似乎工作正常。我得到的是给定站点的内容被抽到`stdout`. 看来你只是有网络问题......

如果您想将整个输出捕获为字符串并在以后处理它，您必须提供一个回调，使用`OPT_WRITEFUNCTION`该回调将使用您可以保存的更多数据调用。这是我如何`GET`在我的简单网络挖掘工具箱[WDM](https://github.com/mkottman/wdm/blob/master/wdm.lua#L243)中实现该方法的简化版本。

```
local c = curl.new()
... 
function get(url)
    c:setopt(curl.OPT_URL,url)
    local t = {} -- output will be stored here
    c:setopt(curl.OPT_WRITEFUNCTION, function (a, b)
        local s
        -- luacurl and Lua-cURL friendly way
        if type(a) == "string" then s = a else s = b end
        table.insert(t, s) -- store this piece of data
        return #s
    end)
    assert(c:perform())
    return table.concat(t) -- return the whole content
end 
```

# c# - URL请求中的默认值与否

> ID：14746687
> 
> 赞同：0
> 
> 时间：2013-02-07T08:28:35.150
> 
> 标签：c#, asp.net, .net, coding-style

请提出您对编码风格的想法。

在 Web 表单中，有一个选项，但不需要选择。其值为 1、2 和“全部”。值 "All" 是加载表单时的默认值，'All" 表示 1 和 2。根据选择的值，将请求发送到服务器进行处理。服务器将解析该值并返回结果响应。在用户选择“全部”值的情况下，我有两种方法：

> 1.  不要在请求中包含选项值。我的示例 URL 将是**"../Process.aspx"**。服务器将检测并知道用户选择了“全部”值。
> 2.  在请求中包含具有特定值的选项值（例如：-1）。我的示例 URL 将是**"../Process.aspx?option=-1"**。服务器将检测并知道值是否为 -1，这意味着用户已选择“全部”值。

请为此建议我最好的解决方案。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T08:36:25.770

变体 1 对我来说似乎更自然。它没有指定过滤器，所以很自然地，*所有*元素都应该返回。

它也与 RESTful API 的工作方式一致：`http://server/api/files`将返回所有文件。`http://server/api/files/test.txt`将返回一个特定的文件。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-07T09:12:15.867

我会选择选项一的变体。

如果选项的值未知或未指定，则使用默认值。如果选项值为 -1（或与默认选择关联的任何值），请确保以相同的方式处理此问题。在未知值的情况下，我也会记录该值。即，如果您使用记录器，请将其记录为调试信息。当您添加新值并且无法弄清楚系统似乎忽略这些的方式时，这通常会变得非常方便。

将未知值作为默认值处理可确保带有已弃用选项的书签/链接在一定程度上仍能工作，从而提供比错误消息更好的用户体验

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-07T08:55:14.240

我会采取方法一。

首先检查是否设置了option参数。如果没有，请在您的代码中为其分配一个默认值。如果已分配，请检查输入并进行处理。这样，您还需要在 1 个地方管理您的代码。（默认值）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-07T08:36:35.317

“全部”应该被赋予一个数值（如 3）。元素的标记应该如下所示：

```
<select name="fieldname">
    <option value="1">Value1</option>
    <option value="2">Value2</option>
    <option value="3">All</option>
</select> 
```

服务器应该读取 POST 响应并使用 switch 控制语句来决定如何处理这些值。

```
switch(postvar):

case 1: // processing for 1 value goes here

case 2: // processing for 2 value goes here

case 3: // processing for "All" value goes here

endswitch; 
```

# asp.net-mvc - 在 Asp .Net 框架 4.0 中编码特定字符串的语法？

> ID：14746693
> 
> 赞同：0
> 
> 时间：2013-02-07T08:28:58.360
> 
> 标签：asp.net-mvc, asp.net-mvc-4

在 Asp .Net framework 4.0 中编码特定字符串的语法 请回答这个问题。

![在此处输入图像描述](../Images/2c1911fa190350bb7c22c38e7fb4900f.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T09:38:03.160

对于 Asp .Net framework 4.0，选项 C 是答案

# windows - 如何使 Eclipse IDE 以更大的字体显示日文/中文

> ID：14746696
> 
> 赞同：0
> 
> 时间：2013-02-07T08:29:07.317
> 
> 标签：windows, eclipse, fonts, font-size

如何使 Eclipse IDE 以更大的字体显示日文/中文？

例子。在 Eclipse IDE 中

![在此处输入图像描述](../Images/9249a7bf97f4eff67b63447e54c3d512.png)

复制到 Outlook 的相同文本

![在此处输入图像描述](../Images/f379425d3217b8074292f82e08e273e4.png)

那就是汉字太小了，看不懂。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T02:21:48.427

也许你可以试试这个，希望能帮到你。 [http://www.rapidsnail.com/Tutorial/t/2012/1123/7/31785/win7-next-eclipse-37-42-chinese-font-partial-small-problem-solving.aspx](http://www.rapidsnail.com/Tutorial/t/2012/1123/7/31785/win7-next-eclipse-37-42-chinese-font-partial-small-problem-solving.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-07-24T07:50:02.713

尝试将所有基本文本的字体更改为 Courier New。

Eclipse -> 首选项 > 常规 > 外观 > 颜色和字体 > 基本 > 文本字体。

参考： [https ://www.programering.com/a/MDMyQTMwATk.html](https://www.programering.com/a/MDMyQTMwATk.html)

# iphone - 架构 i386 的重复符号错误

> ID：14746699
> 
> 赞同：4
> 
> 时间：2013-02-07T08:29:23.227
> 
> 标签：iphone, ios, objective-c, ipad, fmod

当我尝试构建时出现此错误：

“重复符号 __Z8ERRCHECK11FMOD_RESULT 在：

```
/Users/codemenmini2012-2/Library/Developer/Xcode/DerivedData/MagicSleepFullVersion-agxulkdijnxbqmbuigucmrczufyw/Build/Intermediates/MagicSleepFullVersion.build/Debug-iphonesimulator/MagicSleepFullVersion.build/Objects-normal/i386/MagicSleepViewController.o

/Users/codemenmini2012-2/Library/Developer/Xcode/DerivedData/MagicSleepFullVersion-agxulkdijnxbqmbuigucmrczufyw/Build/Intermediates/MagicSleepFullVersion.build/Debug-iphonesimulator/MagicSleepFullVersion.build/Objects-normal/i386/MagicSleepViewControllerIpad.o 
```

ld：架构 i386 clang 的 1 个重复符号：错误：链接器命令失败，退出代码为 1（使用 -v 查看调用）“

各位大佬怎么解决？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-02-07T08:41:44.907

当您将一个文件的内容复制并粘贴到另一个具有其接口名称的文件时，可能会发生错误，这意味着两个具有相同接口名称的类。

> 在您的代码中，您有两个具有相同接口名称的不同文件。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-07-27T13:39:43.780

对我来说，发生这个错误是因为我笨到将下载的 lib 的整个文件夹复制到项目中，并且里面有一个演示项目。所以我有两个 main.m 文件。希望这对任何人都有帮助！

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2014-09-01T13:22:02.013

在我的情况下，我不小心导入了 .m 文件，而不是 .h 文件。希望它可以帮助某人解决这种愚蠢的错误。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-02-07T09:49:30.623

当您在两个不同的类中创建具有相同名称的布尔变量时，就会出现此错误。“重复符号 __Z8ERRCHECK11FMOD_RESULT in”所以检查你的两个类 MagicSleepViewController.m 和 MagicSleepViewControllerIpad.m。对于相同的布尔变量。

更改布尔变量名称，您的问题将解决。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-02-07T08:34:38.117

看起来您至少有一个（可能更多）符号（或方法、函数等）在 MagicSleepViewController.m 和 MagicSleepViewControllerIpad.m 之间重复。

您需要 1) 更改一组重复方法的名称或 2) 找出合并 MagicSleepViewController.m 和 MagicSleepViewControllerIpad.m 的方法，以便相同的代码可以在 iPhone 和 iPad 上运行（例如使用运行时条件或其他来确定您的代码当前运行在哪种设备上）。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-10-07T00:44:44.023

我将#defines 放在两个完全相同的文件中... DOH。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2014-12-18T17:22:49.337

对我来说，在查找器中搜索命名的重复项很有帮助。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-09-20T08:38:01.250

我的问题是由于“编译源”中的多个引用引起的。所以我从 Project->Build Phases-> Compile Sources 中删除了一个。

# c# - 如何从目录中查找丢失的文件

> ID：14746707
> 
> 赞同：0
> 
> 时间：2013-02-07T08:29:52.843
> 
> 标签：c#, asp.net, .net, file, directory

我有一个存储“wav”文件的目录。这些文件的名称按顺序排列，即 1.wav、2.wav、3.wav.... 等。

我必须找出丢失的 wav 文件，比如如果 3.wav 丢失了，那么我必须找出它并且应该将名称“3”赋予一个变量。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:33:12.697

您可以使用一个简单的循环并将变量分配给循环计数器并使用`File.Exists`：

```
List<yourType> missingFiles = new List<yourType>();
string path;

for (var i = 0; i<length; i++) {
   path = "path\" + i + ".wav";
   if (!File.Exists(path) {
       missingFiles.Add(path);
   }
} 
```

[http://msdn.microsoft.com/en-us/library/system.io.file.exists.aspx](http://msdn.microsoft.com/en-us/library/system.io.file.exists.aspx)

# data-structures - 如何在 k-ary 级顺序简洁特里获得父级？

> ID：14746708
> 
> 赞同：1
> 
> 时间：2013-02-07T08:29:54.513
> 
> 标签：data-structures, computer-science, trie, bitvector

我正在实现一个级别顺序简洁特里，我希望给定节点不能跳回他的父节点。

我尝试了几种等级/级别的组合，但我无法理解这个......

我使用这篇文章作为基础文档： [http ://stevehanov.ca/blog/index.php?id=120](http://stevehanov.ca/blog/index.php?id=120)

它解释了如何遍历孩子，但不解释如何向上。

感谢这个麻省理工学院讲座（[http://www.youtube.com/watch?v=1MVVvNRMXoU](http://www.youtube.com/watch?v=1MVVvNRMXoU)）我知道这是可能的（在 15:50 所述的恒定时间内），但演讲者只解释二进制特里（例如：使用公式 select1(floor(i/2)) )。

我怎么能在 k-ary trie 上做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T06:32:44.820

好吧，我不知道是什么`select1()`，但另一部分 ( `floor(i/2)`) 看起来就像你在嵌入数组的二叉树中使用的技巧，就像[这里](http://en.wikipedia.org/wiki/Min_heap#Heap_implementation)描述的那样。您将除以 2，因为每个父级恰好有 2 个子级 -> 每个级别使用父级空间的两倍。

如果您在每个节点中没有相同数量的子节点（除了叶子和可能具有较少子节点的节点），则不能使用此技巧。

如果您想知道任何给定节点的父节点，则需要在每个节点中添加指向父节点的指针。

但是，由于树通常从根开始遍历并向下遍历，因此通常要做的是将指向路径节点的指针存储在数组中。在任何给定点，当前节点的父节点都是数组中的前一个元素。这样您就不需要在每个节点中添加指向父节点的指针。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-08T07:57:02.747

我想我找到了答案。Guy Jacobson 的这篇论文在第 3.2 节 Level-order 一元度数序列中对其进行了解释。

父母（x）{选择1（排名0（x））}

节省空间的静态树和图 [http://www.cs.cmu.edu/afs/cs/project/aladdin/wwwlocal/compression/00063533.pdf](http://www.cs.cmu.edu/afs/cs/project/aladdin/wwwlocal/compression/00063533.pdf)

只要你不像我一样搞乱你的节点编号，这项工作就很好。

# android - Android：GridLayout是否适合这种设计

> ID：14746714
> 
> 赞同：1
> 
> 时间：2013-02-07T08:30:15.943
> 
> 标签：android, android-layout

在我的应用程序中，我必须显示一些人的信息。我必须一次只显示三个成员。在从左向右滑动时，我必须显示另外三组成员。这是设计![在此处输入图像描述](../Images/a893cfe1a40d384b1b4e765db9998e80.png)

首先我想，我们可以使用三个列表视图，即 LV1、LV2、LV3，并为这三个列表视图设置一个列表适配器。并且在 ListAdapter 中，listview 的第一行可以获取 Title 详细信息，然后为连续的行获取 Listviews。即每个白盒都有单独的列表视图，我们无法预测一个成员存在多少个白盒。

我可以为一个 listView 发送一个名为 Member 的对象，并且成员对象的属性之一是 ArrayList，即

```
 List mem1 = new ArrayList();
mem1.add(member1)
List mem2 = new ArrayList();
mem2.add(member2)
List mem3 = new ArrayList();
mem3.add(member3) 
```

我可以为 LV1 适配器发送 mem1，为 LV2 适配器发送 mem2，为 LV3 适配器发送 mem3

但我无法在白框中填充项目详细信息。

请给我最好的方法来做到这一点......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T09:04:33.327

最好在表单中放置一个列表视图。然后创建一个单独的**“row.xml”**布局作为列表视图的行。row.xml包含3**个****文本框。**
对于标题，您创建一个文本视图并放入表单中。然后您应该根据以下代码片段填充列表视图

```
class MyAdapter extends ArrayAdapter {
        ArrayList items;

        MyAdapter(ArrayList items) {
            super(OrderSummary.this, R.layout.row, items);
            this.items = items;
        }

        public View getView(int position, View convertView, ViewGroup parent)
        {
            //Your business login to insert data in the text boxes
        }
    }

MyAdapter mSchedule = new MyAdapter(mylist);
listView.setAdapter(mSchedule); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T09:24:47.123

我得到了解决方案，

我考虑了三个 listview 并为 listview 创建自定义视图。这里列表视图只包含一行。该行的设计是

```
<LinearLayout
    android:id="@+id/dd"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical" >

    <TextView
        android:id="@+id/title"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:clickable="true"
        android:gravity="center_horizontal"
        android:textColor="#FFFFFF"
        android:textSize="27dp"
        android:textStyle="bold" />

    <TextView
        android:id="@+id/subtitle"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:gravity="center_horizontal"
        android:textColor="#FFFFFF"
        android:textSize="15dp"
        android:textStyle="bold" />

    <Button
        android:id="@+id/action"
        android:layout_width="fill_parent"
        android:layout_height="55dp"
        android:layout_marginBottom="5dp"
        android:layout_marginLeft="10dp"
        android:layout_marginRight="10dp"
        android:layout_marginTop="5dp"
        android:background="@drawable/blue_button_bg"
        android:text="action"
        android:textStyle="bold" />

    <TextView
        android:id="@+id/ttt"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:gravity="center_horizontal"
        android:textColor="#FFFFFF"
        android:textSize="27dp" />
</LinearLayout>

<GridLayout
    android:id="@+id/projects"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:layout_marginBottom="5dip"
    android:layout_marginTop="5dip"
    android:layout_weight="1"
    android:clipToPadding="true"
    android:columnCount="1"
    android:orientation="horizontal"
    android:useDefaultMargins="true" >
</GridLayout> 
```

# c# - 为 jquery.ajax() 生成自定义错误

> ID：14746717
> 
> 赞同：4
> 
> 时间：2013-02-07T08:30:24.367
> 
> 标签：c#, jquery, asp.net, ajax

让我们假设我的 httphandler (.ashx) 中有以下方法：

```
private void Foo()
{
    try
    {
        throw new Exception("blah");
    }
    catch(Exception e)
    {
        HttpContext.Current.Response.Write(
            serializer.Serialize(new AjaxError(e)));
    }
}

[Serializable]
public class AjaxError
{
    public string Message { get; set; }
    public string InnerException { get; set; }
    public string StackTrace { get; set; }

    public AjaxError(Exception e)
    {
        if (e != null)
        {
            this.Message = e.Message;
            this.StackTrace = e.StackTrace;
            this.InnerException = e.InnerException != null ? 
                e.InnerException.Message : null;

            HttpContext.Current.Response.StatusDescription = "CustomError";
        }

    }
} 
```

当我`$.ajax()`调用该方法时，我将在`success`回调中结束，无论后端是否出现问题，我最终都会进入`catch`块中。

我对 ajax 方法进行了一些扩展以规范错误处理，因此无论是“jquery”错误（解析错误等）还是我的自定义错误，我都会在错误回调中结束。

现在，我想知道的是，我应该添加类似

```
HttpContext.Current.Response.StatusCode = 500; 
```

最终出现在 jQuerys 错误处理程序中，或者我应该处理我的

```
HttpContext.Current.Response.StatusDescription = "CustomError"; 
```

在 jqXHR 对象上，并假设它在那里出现错误？

如果有不清楚的地方，请告诉我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-28T15:17:12.680

您至少需要使用状态码，因为这样您的 $.ajax 可以像这样实现失败函数：

```
$.ajax({...})
    .fail(function(xhr) {
        console.log(xhr.statusText); // the status text
        console.log(xhr.statusCode); // the status code
    }); 
```

如果您只想将文本直接发送给用户，您可以使用 statusText。如果需要，您还可以为不同的错误执行不同的状态代码（即使状态代码不是常规的），如下所示：

```
$.ajax({...})
    .fail(function(xhr) {
        switch(xhr.statusCode) {
            case 401:
                // ... do something
                break;
            case 402:
                // ... do something
                break;
            case 403:
                // ... do something
                break;
        }
    }); 
```

# php - 如何在 netsuite php 工具包 2012.2 中获取自定义项目字段？

> ID：14746718
> 
> 赞同：9
> 
> 时间：2013-02-07T08:30:30.077
> 
> 标签：php, netsuite

这是我的代码：

```
$service    = new NetSuiteService();
$getRequest = new GetRequest();
$getRequest->baseRef = new RecordRef();
$getRequest->baseRef->internalId = "custitem3";
$getRequest->baseRef->type = "itemCustomField";

$result = $service->get($getRequest);
echo "<pre>";
var_dump($result);
echo "</pre>"; 
```

结果是：该记录不存在。

但是该自定义项目字段显示在 netsuite 后端的**设置 > 自定义 > 项目字段中**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T16:24:57.687

如果您在自定义项目字段的值之后，则应加载项目记录本身。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-04T05:01:13.440

答案是：内部 id 必须以大写形式发送：CUSTITEM3

# python - urllib 是否加密身份验证数据？

> ID：14746724
> 
> 赞同：2
> 
> 时间：2013-02-07T08:30:49.683
> 
> 标签：python, security, urllib

如果我使用 Python 的 urllib 执行以下操作，它的安全性如何？

```
username = raw_input("Enter your username: ")
password = getpass.getpass("And password: ")
auth = urllib.urlencode({"username": username,"password": password})
validated = urllib.urlopen('https://loginhere.com', auth) 
```

观看用户机器与本地网络之间的HTTP请求流量的人能否得到密码？或者 urllib 是否加密登录数据？

我一直在查看[urllib 文档](http://docs.python.org/2/library/urllib.html)，并看到有关不检查 https 证书的警告，但看不到有关加密的任何内容。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:31:58.157

urllib 什么都不加密，它只使用从套接字类传递的 SSL 库。每个 sae 的 urllib 只是按照您的定义发送数据。

通过以下方式验证 SSL：

```
import urllib2

try:
    response = urllib2.urlopen('https://example.com') 
    print 'response headers: "%s"' % response.info()
except IOError, e:
    if hasattr(e, 'code'): # HTTPError
        print 'http error code: ', e.code
    elif hasattr(e, 'reason'): # URLError
        print "can't connect, reason: ", e.reason
    else:
        raise 
```

# wcf - WCF 限制来自一个客户端的同时进行的线程数量

> ID：14746732
> 
> 赞同：3
> 
> 时间：2013-02-07T08:31:05.003
> 
> 标签：wcf, web-services, silverlight, asmx, silverlight-5.0

我在 asp.net 应用程序中创建了 wcf-service，它也托管了 silverlight 应用程序，它只有一种方法：

```
public void TestMethod(int idRequest)
    {
                System.Diagnostics.Debug.WriteLine(idRequest);
                System.Threading.Thread.Sleep(new TimeSpan(1, 0, 0));
    } 
```

我通过按下按钮从 silverlight 应用程序异步激活此方法：

```
 private static int countRequest = 0;

    private void Button_Click(object sender, RoutedEventArgs e)
    {
                countRequest++;

                WCFServiceManager.WCFServiceClient serviceRef = new WCFServiceManager.WCFServiceClient();
                serviceRef.TestMethodAsync(countRequest);
    } 
```

只能激活该方法 6 次（我查看 VS，窗口输出），其他查询在该行中，而 6 个线程中的一个不会完成其执行，新的一个不会在 TestMethod 中启动。客户端发送了超过 6 个查询（显示在 httpFox 中）。与限制有什么关系？例如，我们如何将数量从 6 增加到 50？先感谢您。我感谢您的帮助。

WS 2010，窗口输出：imageshack.us/a/img580/1416/outputqn.png

HttpFox：imageshack.us/a/img546/6461/httpfox.png

[项目，vs2010，silverlight 5.0](http://zalil.ru/34239236)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-26T12:52:05.747

我想这是关于与防止 DOS 攻击有关的 Silverlight 安全限制。除此之外，它还与浏览器配置有关。每个浏览器都有不同的连接限制，例如 6、8、12 次调用。您可以对此进行测试，但不要使用 1 小时睡眠。:) 10 秒就足以检测到。另请关注[此问题](https://stackoverflow.com/questions/12259466/silverlight-concurrent-wcf?rq=1)以获取更多信息。

# pyqt - 如何使用 QSortFilterProxyModel 自定义 QCompleter 完成规则？

> ID：14746733
> 
> 赞同：0
> 
> 时间：2013-02-07T08:31:06.220
> 
> 标签：pyqt, qcombobox, qcompleter, qsortfilterproxymodel

例如，我的 QComboBox 下拉列表中有这三个项目

```
chicken soup
chilli peppers
grilled chicken 
```

输入“ch”将匹配“鸡汤”和“辣椒”，但不匹配“烤鸡”。

我想要的是能够输入“ch”并匹配所有这些，或者更具体地说，“chicken”并匹配“鸡汤”和“烤鸡”。

参考： [https ://bugreports.qt-project.org/browse/QTBUG-7830](https://bugreports.qt-project.org/browse/QTBUG-7830)

以下代码只能运行一次，为什么？如果输入 'a'，所有包含 'a' 的字符串都会正确显示，返回 3 个结果，'Jane Doe','Albert Einstein', 'Alfred E Newman' 但如果继续输入 'n'，没有结果显示在下拉菜单中。

编辑：它可以工作，但弹出的QListView没有正确显示（如果你按下箭头键，匹配的项目将显示在组合框编辑区域，但下拉列表不显示）

```
from PyQt4.QtCore import *
from PyQt4.QtGui import *

from PyQt4 import QtGui,QtCore

import sys

import signal
signal.signal(signal.SIGINT, signal.SIG_DFL)

class MyGui(QDialog): 

    def __init__(self, parent=None): 

        super(MyGui,self).__init__(parent)

        model = QtGui.QStringListModel()
        wordList = ['John Doe','Jane Doe','Albert Einstein', 'Alfred E Newman']
        model.setStringList(wordList)

        layout = QtGui.QVBoxLayout(self)
        self.line = QtGui.QLineEdit(self)
        layout.addWidget(self.line)

        self.combobox = QComboBox(parent)
        layout.addWidget(self.combobox)
        self.combobox.addItems(wordList)
        self.combobox.setEditable(True)

        self.setLayout(layout)

        complete = CustomQCompleter2(self)
        complete.setModel(model)
        complete.setCaseSensitivity(QtCore.Qt.CaseInsensitive)
        complete.setCompletionMode(QCompleter.UnfilteredPopupCompletion)
        complete.setWrapAround(False)

        self.line.setCompleter(complete)
        self.combobox.setCompleter(complete)
        self.combobox.setEditText('')

        self.setGeometry(200, 100, 400, 300)

class CustomQCompleter2(QCompleter):
    def __init__(self, parent=None):
        super(CustomQCompleter2, self).__init__(parent)
        self.local_completion_prefix = ""
        self.source_model = None

    def setModel(self, model):
        self.source_model = model
        super(CustomQCompleter2, self).setModel(self.source_model)

    def updateModel(self):
        local_completion_prefix = self.local_completion_prefix
        class InnerProxyModel(QSortFilterProxyModel):
            def filterAcceptsRow(self, sourceRow, sourceParent):
                index0 = self.sourceModel().index(sourceRow, 0, sourceParent)
                searchStr = local_completion_prefix.lower()
                modelStr = self.sourceModel().data(index0,Qt.DisplayRole).toString().toLower()
                print searchStr,' in ',modelStr, searchStr in modelStr
                return searchStr in modelStr

        proxy_model = InnerProxyModel()

        proxy_model.setSourceModel(self.source_model)

        super(CustomQCompleter2, self).setModel(proxy_model)
        print 'match :',proxy_model.rowCount()

    def splitPath(self, path):
        self.local_completion_prefix = str(path)
        self.updateModel()
        return ""

if __name__ == '__main__':

    app = QtGui.QApplication(sys.argv)
    gui = MyGui()
    gui.show()
    sys.exit(app.exec_()) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-08T03:23:43.230

将以下代码添加到 `updateModel` 完成者方法的末尾可以解决问题，但我不知道它为什么会起作用。

```
cr=QRect(QPoint(1, 1), QSize(1, 1))
self.complete(cr) 
```

# android - Android如何制作类似于JellyBean(4.1) TextView的自定义TextView

> ID：14746736
> 
> 赞同：1
> 
> 时间：2013-02-07T08:31:15.420
> 
> 标签：android

我确实想在低于 JellyBean 到 Froyo(2.2) 的 Android 版本上使用 JellyBean TextView，以支持文本的本地语言呈现。通过说`want to use`我指的是如何制作`TextView`类似于`JellyBean TextView`.JellyBean TextView 的自定义轻松呈现本地语言（在我的情况下为尼泊尔语）字体。您可能会建议使用`TypeFace.createFromAsset`机制，但这样做时，`font glyph`正如我在这个[问题](https://stackoverflow.com/questions/12635080/android-custom-font-not-mapping-properly)上所说的那样，它没有正确呈现.

我再次想澄清`stackoverflow moderators`我不是在问同样的问题，但我想知道如何移植回`JellyBean TextView`旧设备（<4.1）的技术。

# .htaccess - 将一个uri重写为另一个uri而不更改地址

> ID：14746743
> 
> 赞同：1
> 
> 时间：2013-02-07T08:31:41.397
> 
> 标签：.htaccess, url-rewriting

我正在尝试使用以下规则将[http://www.mydomain.com/catalog/signup/newsletter](http://www.mydomain.com/newsletter)*重写* 为[http://www.mydomain.com/newsletter ：](http://www.mydomain.com/catalog/signup/newsletter)

```
RewriteCond %{HTTP_HOST} ^(www.)?mydomain.com [NC]
RewriteRule ^newsletter$ /catalog/signup/newsletter [P,L] 
```

这适用于我们的开发服务器，但不适用于生产。我们的主人已经指出，`[P] (Proxy)`应该只用于`absolute URLs`，而不是`local URIs`。

我希望地址反映[http://www.mydomain.com/newsletter](http://www.mydomain.com/newsletter)而**不是** *301 转发*到另一个更长的 URI。

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:42:09.337

您是否尝试过没有 [P] 的规则？

用这个参数试试你的规则：[QSA,L]

# c++ - 动态数组分配 C++

> ID：14746748
> 
> 赞同：0
> 
> 时间：2013-02-07T08:32:00.963
> 
> 标签：c++

我知道如果我新建一些数组，我必须删除它：

```
 int *i=new i[10];

    delete[] i; 
```

静态数组怎么样：

```
 int i[100]; 
```

或者

```
 int i[]={1,2,3,4}; 
```

应该删除吗？

假设代码如下：

```
 bool fu()
    {
      for(int i=0;i<100;i++
      {
       int j[]={1,2,3,4};
      }
      return 0;
    } 
```

j[] 是从 RAM 中消失（在返回 0 之后）还是保留在那里并在多次迭代后使 RAM 充满？

因为我想在 micro 上编程有点担心。谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T08:33:43.163

你不需要删除那些。它们位于内存中的堆栈上，而不是堆上，并且一旦您离开它们的范围就会被清除。

在您的示例中： j 在您离开循环时被清除。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-07T08:37:22.537

> 静态数组怎么样：

```
int i[100];
int i[]={1,2,3,4}; 
```

> 应该删除吗？

不...`static`当程序终止或范围退出时，数据（当此类定义出现在任何函数范围之外时使用）和基于堆栈的数据（用于函数内的变量）都会自动销毁（如果需要）。变量的内存`static`不需要由程序显式“释放” - 操作系统将在程序终止时回收内存。堆栈内存有点像海滩上的波浪......当进入和退出范围时，使用（覆盖）相同的内存（想想海滩上的区域）然后自动释放，然后重用......

```
bool fu()
{
  for(int i=0;i<100;i++
  {
   int j[]={1,2,3,4};
  }
  return 0;
} 
```

在这里，`j[]`在堆栈上重新创建 - 尽管 C++ 标准没有讨论此类实现细节，但每次循环可能在相同的地址 - 但它可以通过从 {1, 2 的常量（静态）数组中重新复制数据来重新初始化, 3, 4} 是为此目的而存储的。（如果优化器推断您从未更改它，它可能会跳过重新初始化，甚至删除堆栈变量并直接访问常量数组值，甚至删除常量数组并将访问的特定值移动到机器代码操作码中的立即值 -优化器几乎可以做任何事情，只要它不影响程序性能以外的任何事情）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-07T08:33:43.473

不，通常不得删除堆栈上的变量。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-07T08:40:38.570

看看[http://www.learncpp.com/cpp-tutorial/79-the-stack-and-the-heap/](http://www.learncpp.com/cpp-tutorial/79-the-stack-and-the-heap/)你会在哪里找到你的问题的解释

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-07T08:41:48.790

如果您这样声明一个“静态”数组，

静态int i[100]；

为 100 个整数分配的内存会在程序的整个生命周期中保留。但为此，

诠释我[100]

当超出范围时，内存正在释放并超出堆栈（因为这是本地的）。

# python - 使用 python 将请求发布到 asp.net 页面

> ID：14746750
> 
> 赞同：8
> 
> 时间：2013-02-07T08:32:07.937
> 
> 标签：python, http-post, web-scraping

[我想从“ http://www.indiapost.gov.in/pin/](http://www.indiapost.gov.in/pin/) ”废弃 PINCODE ，我正在编写以下代码。

```
import urllib
import urllib2
headers = {
    'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',
    'Origin': 'http://www.indiapost.gov.in',
    'User-Agent': 'Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.17 (KHTML, like Gecko)  Chrome/24.0.1312.57 Safari/537.17',
    'Content-Type': 'application/x-www-form-urlencoded',
    'Referer': 'http://www.indiapost.gov.in/pin/',
    'Accept-Encoding': 'gzip,deflate,sdch',
    'Accept-Language': 'en-US,en;q=0.8',
    'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.3'
}
viewstate = 'JulXDv576ZUXoVOwThQQj4bDuseXWDCZMP0tt+HYkdHOVPbx++G8yMISvTybsnQlNN76EX/...'
eventvalidation = '8xJw9GG8LMh6A/b6/jOWr970cQCHEj95/6ezvXAqkQ/C1At06MdFIy7+iyzh7813e1/3Elx...'
url = 'http://www.indiapost.gov.in/pin/'
formData = (
    ('__EVENTVALIDATION', eventvalidation),
    ('__EVENTTARGET',''),
    ('__EVENTARGUMENT',''),
    ('__VIEWSTATE', viewstate),
    ('__VIEWSTATEENCRYPTED',''),
    ('__EVENTVALIDATION', eventvalidation),
    ('txt_offname',''),
    ('ddl_dist','0'),
    ('txt_dist_on',''),
    ('ddl_state','2'),
    ('btn_state','Search'),
    ('txt_stateon',''),
    ('hdn_tabchoice','3')
)

from urllib import FancyURLopener
class MyOpener(FancyURLopener):
    version = 'Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.17 (KHTML, like Gecko) Chrome/24.0.1312.57 Safari/537.17'

myopener = MyOpener()

encodedFields = urllib.urlencode(formData)

f = myopener.open(url, encodedFields)
print f.info()

try:
fout = open('tmp.txt', 'w')
except:
print('Could not open output file\n')

fout.writelines(f.readlines())
fout.close() 
```

我收到来自服务器的响应“对不起，此站点遇到严重问题，请尝试重新加载页面或联系网站管理员。” 请建议我哪里出错了..

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-02-07T09:04:28.297

你从哪里得到价值`viewstate`和`eventvalidation`？一方面，它们不应该以“...”结尾，你一定遗漏了一些东西。另一方面，它们不应该被硬编码。

一种解决方案是这样的：

1.  [通过 URL“ http://www.indiapost.gov.in/pin/](http://www.indiapost.gov.in/pin/) ”检索页面，没有任何表单数据
2.  解析和检索表单值，例如`__VIEWSTATE`and `__EVENTVALIDATION`（您可以使用[BeautifulSoup](http://www.crummy.com/software/BeautifulSoup/)）。
3.  通过添加步骤 2 中的重要表单数据来获取搜索结果（第二个 HTTP 请求）。

**更新**：

根据上面的思路，我稍微修改一下你的代码，让它工作：

```
import urllib
from bs4 import BeautifulSoup

headers = {
    'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',
    'Origin': 'http://www.indiapost.gov.in',
    'User-Agent': 'Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.17 (KHTML, like Gecko)  Chrome/24.0.1312.57 Safari/537.17',
    'Content-Type': 'application/x-www-form-urlencoded',
    'Referer': 'http://www.indiapost.gov.in/pin/',
    'Accept-Encoding': 'gzip,deflate,sdch',
    'Accept-Language': 'en-US,en;q=0.8',
    'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.3'
}

class MyOpener(urllib.FancyURLopener):
    version = 'Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.17 (KHTML, like Gecko) Chrome/24.0.1312.57 Safari/537.17'

myopener = MyOpener()
url = 'http://www.indiapost.gov.in/pin/'
# first HTTP request without form data
f = myopener.open(url)
soup = BeautifulSoup(f)
# parse and retrieve two vital form values
viewstate = soup.select("#__VIEWSTATE")[0]['value']
eventvalidation = soup.select("#__EVENTVALIDATION")[0]['value']

formData = (
    ('__EVENTVALIDATION', eventvalidation),
    ('__VIEWSTATE', viewstate),
    ('__VIEWSTATEENCRYPTED',''),
    ('txt_offname', ''),
    ('ddl_dist', '0'),
    ('txt_dist_on', ''),
    ('ddl_state','1'),
    ('btn_state', 'Search'),
    ('txt_stateon', ''),
    ('hdn_tabchoice', '1'),
    ('search_on', 'Search'),
)

encodedFields = urllib.urlencode(formData)
# second HTTP request with form data
f = myopener.open(url, encodedFields)

try:
    # actually we'd better use BeautifulSoup once again to
    # retrieve results(instead of writing out the whole HTML file)
    # Besides, since the result is split into multipages,
    # we need send more HTTP requests
    fout = open('tmp.html', 'w')
except:
    print('Could not open output file\n')
fout.writelines(f.readlines())
fout.close() 
```

# c - 在C中剪切字符串的字符

> ID：14746755
> 
> 赞同：0
> 
> 时间：2013-02-07T08:32:15.453
> 
> 标签：c, string, cut

这是一些代码。

```
#include <stdio.h>

int main()
{
    char npass[] = "$1$bUZXMjKz$08Ps4NPTfj6ZNkoqrsP/D.";
    char salt [12];
    int i;
    for (i = 0; i < 12; i++)
    {
            npass[i+3] = salt[i];
            i++;
    }
    salt[12] = '\0';
    puts(salt);
    return 0;
} 
```

基本上，*npass*是一个`md5crypt`结果（密码是管理员）。为了验证这一点，我需要将盐与结果分开。

我的理解是，一个字符串`C`实际上是一个`char array`单独包含所有字母的字符串（`'\0'`末尾带有）。我使用`for`循环来剪切前三个字符，但我猜是因为`ASLR`，我得到的结果总是随机的。实际上，*没有* `ASLR`，我总是得到相同的随机结果。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-07T08:34:16.970

当然你得到“随机”数据，你分配*给*哈希而不是盐。你想要相反的方式：

```
salt[i] = npass[i+3]; 
```

或者您可以跳过循环并执行以下操作：

```
memcpy(salt, npass + 3, sizeof(salt) - 1);
salt[sizeof(salt) - 1] = '\0'; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:47:24.490

已经指出了所有错误，并进行了一些美学修复，您最终应该得到这样的结果：

```
#include <stdio.h>
#include <string.h>

#define SALT_N 12

int main()
{
    const char npass[] = "$1$bUZXMjKz$08Ps4NPTfj6ZNkoqrsP/D.";
    char salt [SALT_N+1];

    memcpy(salt, npass, SALT_N);
    salt[SALT_N] = '\0';
    puts(salt);
    return 0;
} 
```

# r - 如何根据 gtkTreeView 中的选择删除 rGtkDataFrame 中的一行

> ID：14746761
> 
> 赞同：0
> 
> 时间：2013-02-07T08:32:33.723
> 
> 标签：r, user-interface, gtk

我正在将一个 GUI 从 gWidgets 移植到 RGtk2。gui 的一部分是应该用于分析的文件列表。我希望能够从此列表中选择文件并按下一个按钮来删除选定的文件。我可以使用以下代码创建它的剥离版本。

当 setMode 设置为“多个”时，当我运行 getSelectedRows 时，我会获得所选行的路径列表。我被困在如何将其转换为从 TreeModel 中删除这些行的方式。据我了解，不能直接删除 TreeModel 中的行或列，所以我必须提取数据，删除选定的行，然后用新数据更新 rGtkDataFrame？

任何帮助表示赞赏...

最佳/托马斯

```
filelist <- rGtkDataFrame(data.frame(Datafiles=character(), stringsAsFactors=FALSE))
mainWindow <- gtkWindow(show=FALSE)
datafileSelect <- gtkHBox(FALSE, 5)
mainWindow$add(datafileSelect)
files <- gtkTreeView(filelist)
files$insertColumnWithAttributes(position=-1, title='MS datafiles', cell=gtkCellRendererText(), text=0)
files$setHeadersVisible(FALSE)
fileSelect <- files$getSelection()
fileSelect$setMode('multiple')
datafileSelect$packStart(files)
datafileSelectButtons <- gtkVBox(FALSE, 5)
datafileSelect$packStart(datafileSelectButtons, expand=FALSE, fill=FALSE)
fileAddButton <- gtkButton(label='Add')
gSignalConnect(fileAddButton, 'clicked', f=function(widget, ...){
    file <- gtkFileChooserDialog(title='Select MS datafiles', parent=mainWindow, action='open', 'gtk-ok', GtkResponseType['ok'], 'gtk-cancel', GtkResponseType['cancel'], show=FALSE)
    file['select-multiple'] <- TRUE
    gSignalConnect(file, 'response', f=function(dialog, response, data){
        if(response == GtkResponseType['ok']){
          files <- as.character(dialog$getFilenames())
          filelist$appendRows(data.frame(Datafiles=files, stringsAsFactors=FALSE))
          setwd(dirname(files[1]))
        }
        dialog$destroy()
        })
    file$show()
    })
fileRemoveButton <- gtkButton(label='Remove')
gSignalConnect(fileRemoveButton, 'clicked', f=function(widget, ...){
    selected <- fileSelect$getSelectedRows()
    })
datafileSelectButtons$packStart(fileAddButton, expand=FALSE, fill=FALSE)
datafileSelectButtons$packStart(fileRemoveButton, expand=FALSE, fill=FALSE)
mainWindow$setDefaultSize(250, 300)
mainWindow$show() 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T12:45:27.870

没关系-我想通了...

gtkTreePathToString 函数返回选择的索引，比更新 rGtkDataFrame 中的 TreeModel 更容易。因此，删除按钮的 gSignalConnect 是：

```
gSignalConnect(fileRemoveButton, 'clicked', f=function(widget, ...){
    selected <- sapply(fileSelect$getSelectedRows()$retval, function(x) as.numeric(x$toString())+1)
    filelist$setFrame(filelist[-selected, , drop=FALSE])
    }) 
```

# git - 为不同的操作系统分叉 git 项目

> ID：14746765
> 
> 赞同：0
> 
> 时间：2013-02-07T08:32:47.243
> 
> 标签：git, git-branch, git-submodules, branching-and-merging

我有一个用 python 构建的 OSX 应用程序。像许多 OSX 应用程序一样，它内部有许多（全部？）依赖项。例如...

```
./git_repo
└── mac (dir)
    ├── myapp.app (dir)
    │   ├── Frameworks (dir)
    │   ├───MacOS (dir)
    │   ├───Resources (dir)
    │   │   ├──main.py
    │   │   ├──lib1.py
    │   │   ├──lib2.py
            ├─img(dir) 
```

目录结构比这大得多，每个目录中有很多文件，但你明白了

我的第一个 fork 将用于 Linux，其中我需要 main.py、lib1.py、lib2.py 和 img 目录。我在 Resources 目录或任何其他目录中不需要任何其他内容。我还将添加 Mac 不需要的 Linux 特定文件。整体的dir结构会比mac结构扁平很多。

之后，我将使用我为 Linux 列出的文件以及 mac/linux 不需要的一些 Windows 特定文件来为 Windows 分叉。

我在这里阅读了类似的主题，但我无法想象整个目录结构将如何工作。我看到了几个选项。

1.  在需要时使用单独的 git 分支并合并/樱桃选择更改（这可能很困难，因为所有 3 的目录结构将完全不同
2.  使用 git 子模块 - 一直在阅读这方面的内容，但不确定我应该将哪些组件制作为子模块 - 常见项目还是附加项目？
3.  使用单独的存储库 - 不确定这是否与分支有任何不同

最终，我只需要跟踪所有 3 个操作系统的主要文件的更改，同时将更改分开，并且在处理特定操作系统/分支时无需采取大量步骤（例如制作文件等）

实现这一目标的最佳方法是什么？谢谢阅读

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T10:11:14.867

如果跨平台的源文件全部或大部分相同，则没有理由您应该维护单独的分支、分支或子模块来强制它们进入不同的结构。

解决此问题的最佳方法是将您的项目构建为标准的 setuptools/distutils 项目，并带有`setup.py`. 然后，使用[py2app 扩展](http://svn.pythonmac.org/py2app/py2app/trunk/doc/index.html#abstract)来构建您的 OS X 应用程序包，并[使用 py2exe 扩展](http://www.py2exe.org/)来构建您的 Windows 可执行文件。

第二好的方法是以对您有意义的方式来构建您的项目，并使用构建脚本将适当的文件复制到适当的位置。例如，有一个`src/`包含所有 Python 源代码的`build/`文件夹，一个被 Git 忽略的文件夹，以及一个在`build-mac.sh`其中创建应用程序包`build/`并将 Python 源文件复制到适当位置的文件夹。

底线是，将所有代码保存在一个地方，然后有一种方法可以在您开始实际构建可再分发的二进制文件时自动将其复制到适当的结构中。每次发布时为每个平台运行一个脚本要比始终保持两个或三个相同的存储库同步要容易得多。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:38:36.030

您应该使用`git-submodule`和制作公共部分子模块，并将它们链接到适当的平台分支中。

# android - DialogFragment 去除黑边

> ID：14746766
> 
> 赞同：3
> 
> 时间：2013-02-07T08:32:49.170
> 
> 标签：android, background, android-dialogfragment

我看到了[这个问题](https://stackoverflow.com/q/10433764/1056359)，也看到了[这个](https://stackoverflow.com/q/11717052/1056359)问题和其他一些问题，但没有什么能真正帮助我。

我正在`DialogFragment`为我的列表视图构建一个快速操作，并尝试根据[android dev guide](http://developer.android.com/guide/topics/ui/dialogs.html#CustomLayout)为其设置自定义视图。

## view_quick_action.xml

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:background="@android:color/white" >

    <ImageView
        android:id="@+id/quick_action_image"
        android:layout_width="50dp"
        android:layout_height="50dp"
        android:layout_margin="20dp"
        android:scaleType="fitXY"
        android:src="@drawable/windows1" />

    <TextView
        android:id="@+id/quick_action_name"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignTop="@+id/quick_action_image"
        android:layout_toRightOf="@+id/quick_action_image"
        android:ellipsize="end"
        android:singleLine="true"
        android:text="Lilly"
        android:textColor="#585858"
        android:textSize="16sp" />

    <TextView
        android:id="@+id/quick_action_activity"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignBottom="@+id/quick_action_image"
        android:layout_toRightOf="@+id/quick_action_image"
        android:text="Updated 4 minutes ago"
        android:textColor="#a3a3a3"
        android:textSize="15sp" />

    <ImageButton
        android:id="@+id/popup_grid_leave"
        android:layout_width="50dp"
        android:layout_height="50dp"
        android:layout_alignParentLeft="true"
        android:layout_below="@+id/quick_action_activity"
        android:layout_margin="20dp"
        android:layout_marginTop="30dp"
        android:background="@color/transperent"
        android:src="@drawable/ic_action_leave" />

    <ImageButton
        android:id="@+id/popup_grid_silence"
        android:layout_width="50dp"
        android:layout_height="50dp"
        android:layout_alignBottom="@+id/popup_grid_leave"
        android:layout_alignTop="@+id/popup_grid_leave"
        android:layout_centerHorizontal="true"
        android:background="@color/transperent"
        android:src="@drawable/ic_action_silence" />

    <ImageButton
        android:id="@+id/popup_grid_mark_as_read"
        android:layout_width="50dp"
        android:layout_height="50dp"
        android:layout_alignBottom="@+id/popup_grid_leave"
        android:layout_alignParentRight="true"
        android:layout_alignTop="@+id/popup_grid_leave"
        android:layout_marginRight="15dp"
        android:background="@color/transperent"
        android:src="@drawable/ic_action_mark_as_read" />

</RelativeLayout> 
```

## QuickActionFragment.java

```
public class QuickActionFragment extends DialogFragment {

    @Override
    public Dialog onCreateDialog(Bundle savedInstanceState) {
    AlertDialog.Builder builder = new AlertDialog.Builder(mContext);

        View v = LayoutInflater.from(mContext).inflate(
        R.layout.view_quick_action, null, false);

        // SET ALL THE VIEWS

        builder.setTitle(null);

        AlertDialog dialog = builder.create();
        dialog.setView(v, 0, 0, 0, 0);
        // this line didn't change anything
        // dialog.getWindow().setBackgroundDrawable(new ColorDrawable(0));

        return dialog;
    }
} 
```

毕竟，当我运行时，`dialogFragment.show(getSupportedFragmentManager())`我仍然会得到如图所示的黑色边框： ![快速动作图像](../Images/126286a238e9100ffbefd8eaeb2bc4f5.png)

关于如何解决这个问题的任何想法？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-07T08:50:31.657

试试下面的代码：

```
public class QuickActionFragment extends DialogFragment {

    @Override
    public Dialog onCreateDialog(Bundle savedInstanceState) {
        Dialog m_dialog = new Dialog(QuickActionFragment.this, R.style.Dialog_No_Border);
        LayoutInflater m_inflater = LayoutInflater.from(CustomDialogActivity.this);
        View v = LayoutInflater.from(mContext).inflate(R.layout.view_quick_action, null, false);
        // SET ALL THE VIEWS
        m_dialog.setTitle(null);
        m_dialog.setContentView(m_view);
        m_dialog.show();
        return dialog;
    }
} 
```

在文件中添加`Dialog_No_Border`样式。`res/value/style.xml`

```
<style name="Dialog_No_Border">
    <item name="android:windowIsFloating">true</item>
    <item name="android:windowBackground">@android:color/transparent</item>
</style> 
```

此样式导致`R`清理后被删除

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-04-25T08:19:17.800

我无法在 Xamarin - Android 上完成这些工作。也许这个解决方案可以为外面的人节省一些时间：

```
public override void OnCreate(Bundle savedInstanceState)
{
    base.OnCreate(savedInstanceState);
    SetStyle(DialogFragmentStyle.NoFrame, 0);
}

public override void OnResume()
{
    base.OnResume();
    Dialog.Window.SetBackgroundDrawableResource(Resource.Color.transparent);
} 
```

如果资源中没有颜色“透明”，则可以创建它或使用 Android 的默认值。[我在自定义MvvmCross Fingerprint Plugin](https://github.com/smstuebe/xamarin-fingerprint)的对话框片段时遇到了这个问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-11-19T15:50:39.213

在创建实例时尝试使用 setStyle(style, theme) 方法，如下所示：

```
public static YourDialog newInstance() {
    YourDialog frag = new YourDialog();
    // your code
    frag.setStyle(DialogFragment.STYLE_NO_FRAME, 0);
    // your code
    return frag;
} 
```

我希望这会有所帮助。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-01-19T05:00:53.863

由于顶部和底部被截断，我无法得到任何关于 Gingerbread 工作的答案，但我找到了一种解决方法：您可以在顶部和底部设置额外的填充以抵消截断。

```
if(Build.VERSION.SDK_INT < Build.VERSION_CODES.HONEYCOMB) {
    int padding = getResources().getDimensionPixelSize(R.dimen.your_padding);
    view.setPadding(0, padding, 0, padding);
} 
```

然后按照其他答案的规定设置视图

```
demoDialog.setView(view, 0, 0, 0, 0); 
```

# android - 如何在 Android 中使用“video/x-ms-asf”内容类型流式传输音频？

> ID：14746775
> 
> 赞同：1
> 
> 时间：2013-02-07T08:33:20.830
> 
> 标签：android, audio-streaming, android-mediaplayer

我对 Android 中的 MediaPlayer 有疑问。它不能以“video/x-ms-asf”格式进行流式传输。

任何人都可以帮助我或有任何示例代码来播放它吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-10T04:51:10.130

为了播放这些类型的流，您需要使用诸如 FFmpeg 之类的库来解码音频并将原始字节提供给 AudioTrack。

ServeStream 能够播放这些类型的流。[您可以在此处](http://svn.code.sf.net/p/servestream/code/trunk "服务流")查看源代码。

# java - 记录器上阻塞的 Java 线程

> ID：14746776
> 
> 赞同：2
> 
> 时间：2013-02-07T08:33:30.197
> 
> 标签：java, multithreading, logging, jboss, log4j

我们的 Java（Web）应用程序在 JBoss 6x 中运行。当报告缓慢时：

1.  线程堆栈转储被采取（详情如下）
2.  检查内存 - 发现内存使用率非常高，几乎接近最大允许堆大小，但没有内存不足。

线程堆栈转储显示大多数线程在日志记录中被这些类型的错误阻塞：

```
waiting for monitor entry [0x000000004b6be000]
   java.lang.Thread.State: BLOCKED (on object monitor)
    at org.jboss.logmanager.handlers.WriterHandler.doPublish(WriterHandler.java:59)
    - waiting to lock <0x00002aaac9a2de68> (a java.lang.Object)
    at org.jboss.logmanager.ExtHandler.publish(ExtHandler.java:64) 
```

像这样：

```
 java.lang.Thread.State: BLOCKED (on object monitor)
    at java.io.PrintStream.println(PrintStream.java:756)
- waiting to lock <0x00002aaac9817a08> (a com.whatever.SomeClass)
at com.something.ThatClass.thatMethod(ThatClass.java:169) 
```

com.whatever.SomeClass 使用 org.apache.log4j.Logger
我们使用 Log4j 进行日志记录。

似乎线程在某些日志记录操作上都被阻塞了。这个问题过去也发生过，而且似乎是随机的，它会减慢/停止应用程序。

有任何想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T08:46:18.037

Jasper，所有日志框架都有一个同步块，它们将数据写入磁盘。这是为了防止在超过 1 个线程写入日志时出现乱码（您发布了一个示例 - 上的 BLOCKED 线程`java.io.PrintStream.println`）。

但是有一个解决方案，就是使用[异步 appender](http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/AsyncAppender.html)。在工作中，我们有一些高吞吐量/低延迟的应用程序，我们必须对其进行配置以防止线程争用。

使用异步附加程序时需要考虑的一件事是，如果您的应用程序崩溃或被强制终止，您将不会在日志中看到最后的日志记录语句，因为它们可能没有写入磁盘.

# c++ - 使用 MySQL 支持编译 QuickFIX C++

> ID：14746778
> 
> 赞同：1
> 
> 时间：2013-02-07T08:33:40.003
> 
> 标签：c++, quickfix

我正在尝试从下载的源代码编译 quickfix c++，我在 config_windows.h 文件中启用了 have mysql 选项，但它会产生错误。我检查了文档站点，但我在理解此说明时遇到了问题

#define HAVE_MYSQL 1 将 MySQL 支持编译到 QuickFIX。如果启用此选项，则 mysql 包含和库目录必须位于 Visual Studio 搜索路径中。

我想这似乎是我的问题，如果有人可以进一步阐述该声明，我将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-09T10:15:59.600

解决了！想我必须下载数据库的库并包含在源代码中。

# ruby - 如何在 ruby on rails 中设置选择标签？

> ID：14746782
> 
> 赞同：0
> 
> 时间：2013-02-07T08:34:05.340
> 
> 标签：ruby, ruby-on-rails-3, knockout.js, ruby-on-rails-3.2

我的任务是在 rails 上使用 ruby​​ 来敲除.js。我的实际html代码是

```
 <%= javascript_include_tag "knockout-2.2.0","country-state" %>
<%= form_for(@employee) do |f| %>
  <% if @employee.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@employee.errors.count, "error") %> prohibited this employee from being saved:</h2>

      <ul>
      <% @employee.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>

  <% end %>

<table>
    <thead>
        <tr>

            <th>Country</th>
            <th>State</th> 
            <th> </th>
        </tr>
    </thead>
    <tbody data-bind='foreach: lines'>
        <tr>
            <td>
                <select data-bind='options: sampleStateCountry,optionsCaption: "select", optionsText: "country",  value: country'> </select>
            </td>
            <td data-bind="with: country">
                <select data-bind='options: state, optionsText: "state", optionsCaption: "select", value: $parent.state'> </select>
            </td>
        </tr>
    </tbody>
</table>

<button data-bind='click: save'>Submit</button>
<% end %>

<script>
$(document).ready(function() {

var location = function() {
    var self = this;
    self.country = ko.observable();
    self.state = ko.observable();
};

var map = function() {

    var self = this;
    self.lines = ko.observableArray([new location()]);
    self.save = function() {
        var dataToSave = $.map(self.lines(), function(line) {
            return line.state() ? {
                state: line.state().state,
                country: line.country().country
            } : undefined
        });

        alert("Could now send this to server: " + JSON.stringify(dataToSave));

        $.ajax({
        url: '/employees/<%=@employee.id%>',
        dataType: 'json',
        //async: false,
        //contentType: 'application/json',
        type: 'PUT',
        data: {total_changes: JSON.stringify(dataToSave)},
        //data:JSON.stringify(dataToSave),
        //data:dataToSave,
        success: function(data) {
            alert("Successful");
          },
          failure: function() {
            alert("Unsuccessful");
          }
        });
    };
};

ko.applyBindings(new map());
});
</script> 
```

但我想像这样在红宝石中设置它。

```
<%= form_for(@employee) do |f| %>
  <% if @employee.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@employee.errors.count, "error") %> prohibited this employee from being saved:</h2>

      <ul>
      <% @employee.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

 <div class='label'>
        <%= f.label :country %><br />
        <%= f.text_field :country %>
  </div>
  <div class="field">
    <%= f.label :state %><br />
    <%= f.text_field :state %>
  </div>
   <div class="actions">
    <%= f.submit %>
  </div>
  <% end %> 
```

这是一个例子。如何将其设置为 ruby​​ 代码进行编辑？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T11:46:03.167

您可以使用`options_from_collection_for_select`助手，它看起来像这样：

```
f.select(:country_id, options_from_collection_for_select(@countries, :id, :name, @selected_country_id), {:include_blank => 'Select a Country'},{:onchange=>"alert('foo')"}) 
```

我认为`@countries`在控制器中设置比`Country.all`在视图中设置更好。`@selected_country_id`必须设置为您实际想要选择的内容。

这里有一些关于如何设置所选选项的替代方法的[文档。](http://api.rubyonrails.org/classes/ActionView/Helpers/FormOptionsHelper.html#method-i-options_from_collection_for_select)

# c# - 删除列表中除第一项以外的所有内容

> ID：14746783
> 
> 赞同：23
> 
> 时间：2013-02-07T08:34:06.680
> 
> 标签：c#, .net, list

让我们考虑如下列表

列表包含值`a,b,c,d`....

我需要一个查询来删除列表中除“a”之外的所有值。

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2013-02-07T08:36:52.713

[`List.RemoveRange`](http://msdn.microsoft.com/en-us/library/vstudio/y33yd2b5.aspx)是你要找的：

```
if(list.Count > 1)
    list.RemoveRange(1, list.Count - 1); 
```

[**演示**](http://ideone.com/kaXgqZ)

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-02-07T08:36:18.033

```
List<T> elements = ....

elements.RemoveAll(x => x != a) 
```

**UPD**

如蒂姆施梅尔特所说，除了首先要删除之外，您还需要使用 RemoveRange 。

或使用第一个元素创建新列表。元素.First()

# java - 如何使用 SoundCloud api wrapper for java 更新播放列表

> ID：14746785
> 
> 赞同：1
> 
> 时间：2013-02-07T08:34:08.810
> 
> 标签：java, api, soundcloud

soundcloud 文档没有使用 java 包装器更新播放列表的示例。我尝试过这样的事情，但它没有更新曲目。并且没有返回错误消息。

```
HttpResponse resp = wrapper
  .put(Request.to("/me/playlists/123")
  .with("playlist[title]", "updated title", "playlist[tracks]", "[
    {id: 10001},
    {id: 10002}
  ]")); 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-13T15:26:09.653

问题是您混合使用了 Rails 样式的表单参数和 JSON。

有两种选择：

1）只使用表单参数：

```
HttpResponse resp = api.put(Request.to("/playlists/123")                          
        .with("playlist[title]", "updated title")                         
        .with("playlist[tracks][][id]", 10001)     
        .with("playlist[tracks][][id]", 10002)); 
```

2) 以 JSON 格式提交播放列表数据：

```
private void updatePlaylist() {
    JSONObject json = createJSONPlaylist("updated title", 10001, 10002);
    HttpResponse resp = api.put(Request.to("/playlists/123")                     
        .withContent(json.toString(), "application/json"));
}

private JSONObject createJSONPlaylist(String title, long... trackIds) throws JSONException { 
    JSONObject playlist = new JSONObject();                                                  
    playlist.put("title", title);                                                            

    JSONObject json = new JSONObject();                                                      
    json.put("playlist", playlist);                                                          

    JSONArray tracks = new JSONArray();                                                      
    playlist.put("tracks", tracks);                                                          

    for (long id : trackIds) {                                                               
        JSONObject track = new JSONObject();                                                 
        track.put("id", id);                                                                 
        tracks.put(track);                                                                   
    }                                                                                        
    return json;                                                                             
} 
```

查看包装器中的测试以查看它们的实际效果：

*   [没有 JSON](https://github.com/soundcloud/java-api-wrapper/blob/b2bead043b48f8c278cfe0f76a1e060a7e4247c4/src/test/java/com/soundcloud/api/CloudAPIIntegrationTest.java#L93)
*   [使用 JSON](https://github.com/soundcloud/java-api-wrapper/blob/b2bead043b48f8c278cfe0f76a1e060a7e4247c4/src/test/java/com/soundcloud/api/CloudAPIIntegrationTest.java#L124)

# javascript - 将类添加到在 javascript 的 document.write() 中定义的 pargraph 元素时出错

> ID：14746791
> 
> 赞同：-3
> 
> 时间：2013-02-07T08:34:25.640
> 
> 标签：javascript, html, css

这是我的 js 代码-

```
var str1 = "Wardrobe Makeover";
var str2 = "Female Fashion Makeover";
var str3 = "Male Fashion Makeover";
var menu1=new Array()
menu1[0]= document.write("<p>" + str2.link("http://abc.com/mystylemuse/wardrobe_makeover") + "</p>");
menu1[1]= document.write("<p>" + str2.link("http://abc.com/mystylemuse/female") + "</p>");
menu1[2]= document.write("<p>" + str3.link("http://abc.com/mystylemuse/male") + "</p>"); 
```

每当我在里面添加一个 css 类名`<p>`时，`document.write("<p class="abc">" + str2.link("http://abc.com/mystylemuse/wardrobe_makeover") + "</p>");`就像它显示错误一样。请告诉我如何在`<p>`元素中添加一个类。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:38:02.150

它应该是：

`document.write("<p class=\"abc\">" + str2.link("http://abc.com/mystylemuse/wardrobe_makeover") + "</p>");`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:43:34.220

如果您的字符串包含双引号，那么您可以使用单引号作为字符串分隔符，反之亦然。

```
'<p class="abc">' 
```

或者

```
"<p class='abc'>" 
```

# sql - 我可以关闭 SSMS 但让存储过程运行吗？

> ID：14746796
> 
> 赞同：8
> 
> 时间：2013-02-07T08:34:36.360
> 
> 标签：sql, sql-server, stored-procedures

是否可以在存储过程运行时关闭 ms sql server management studio，而不停止存储过程？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-07T10:25:23.330

如果您的意思是您在 SSMS 中运行的 SP，那么不会。显然，关闭您自己的 SSMS 不会影响服务器上其他用户运行的 SP。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-08T15:27:57.897

你真的不能，但是你可以创建一个 SQL 代理作业来执行存储的过程你需要返回给你的结果集还是你正在更新数据？

如果它是一个更新，我认为你可以从代理运行它，如果不是，你返回一个长时间运行的存储过程的结果集的下一个最简单的方法是创建一个 SSIS 包，将结果集输出到 csv，excel doc 什么是合适的。这个包也可以由 SQL 代理执行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-07T10:35:00.277

是的，您可以，但是如果返回某些内容，您将无法看到 SP 的结果。一旦将执行权交给服务器，服务器将执行 SP 而不是 SSMS。

# sql - 删除或更新 SQL 记录

> ID：14746800
> 
> 赞同：2
> 
> 时间：2013-02-07T08:34:48.900
> 
> 标签：sql, sqlite, sql-update, sql-delete

我有一个包含以下两个字段的表

```
jobid |  statusCode 
```

现在这是我想要做的，我想“如果 statusCode 小于某个值，则删除具有给定 jobid 的记录，否则使用新的 statusCode 更新此记录”

我的问题是是否有一些单一的 SQL 操作来执行上述工作，或者我是否必须使用多个 SQL “if - else” 类型的查询。我的数据库是 SQlite3

问候， Farrukh Arshad。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:42:02.737

SQLite 有一个命令[UPDATE OR REPLACE](http://www.sqlite.org/lang_update.html)，它结合了更新和插入，但这仅适用于您希望避免插入重复的常见情况。

[DELETE](http://www.sqlite.org/lang_delete.html)命令没有您想要的功能。

SQLite 没有任何控制流语句，因此最好的办法是执行两个 DELETE/UPDATE 语句：

```
DELETE FROM MyTable
WHERE jobid = ?
  AND statusCode < ?;

UPDATE MyTable
SET statusCode = ?
WHERE jobid = ?;        -- does nothing if record was deleted 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:50:27.010

这样的事情应该会有所帮助：

```
CASE WHEN status_code < some_value 
THEN
  DELETE FROM MyTable
  WHERE jobid = ?
ELSE
  UPDATE MyTable
  SET statusCode = ?
  WHERE jobid = ?
END 
```

# accordion - ExtJS 4.1.1a：边框布局中的嵌套手风琴布局不能有没有宽度的标题

> ID：14746804
> 
> 赞同：0
> 
> 时间：2013-02-07T08:35:02.083
> 
> 标签：accordion, extjs4.1

我已经创建了一个带有边框布局的视口，我试图在西部地区有一个“面板”手风琴侧栏，如下所示

```
Ext.create('Ext.container.Viewport', {
  layout : 'border',
  items : [{
      xtype : 'panel',
      region : 'west',
      title : 'Panels',
      layout : {
        type : 'accordion'
      },
      items : [
        {
          title : 'Item 1',
          html : 'Content 1'
        },
        {
          title: 'Item 2',
          html: 'Content 2'
        }
      ]
    }
  ]
}); 
```

这不起作用，因为 ExtJS 给了我一个“布局运行失败”的消息。以下两个选项中的任何一个都可以解决问题，但这不是我想要的：

1.  删除手风琴面板的标题配置。
2.  将宽度配置添加到手风琴面板。

有没有办法在不设置宽度的情况下设置标题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-01T15:03:52.980

“边框”布局必须有一个“中心”区域。当您将中心区域添加到父边框布局时，这应该可以工作。

# eclipse - 如何在 RSA“准备部署”中为 ejb 存根配置输出文件夹

> ID：14746805
> 
> 赞同：1
> 
> 时间：2013-02-07T08:35:06.403
> 
> 标签：eclipse, svn, websphere, code-generation

在 RSA 8.0 中进行“准备部署”时，我想为 WAS 7.0 生成的 EJB 存根配置输出文件夹。

目前生成的存根的源是生成到eclipse项目的正常源文件夹中的。因为生成和手动编辑的代码是混合的。这就是为什么我不能轻易地为这些生成的文件创建 SVN 忽略。所以我希望将这些文件生成到另一个源文件夹，`ejbmodule-gen`而不是`ejbmodule`包含手动编辑的源的源文件夹。

在首选项中，我可以设置`output folder`一个`EJB Project`under `Java EE -> Project`。但是，这没有效果。

我还可以使用一些更精细的模式来忽略 SVN。但是我不想弄乱它们，因为它们已经在构建文件和项目的其他地方重复得太频繁了。

那么如何确保选择`Java EE -> Prepare for Deployment`将生成的源文件放到项目的原始源文件夹之外的另一个文件夹中呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-11T13:02:55.553

恐怕对于**EJB 2.1 ，** **Rational 版本 8.0**存在以下限制：

**[EJB 项目不支持多个输出文件夹](http://publib.boulder.ibm.com/infocenter/radhelp/v8/index.jsp?topic=/com.ibm.j2ee.doc/topics/relimitcurrent.html)**

但是，如果项目中有足够的灵活性，我建议手动使用[createEJBStubs](http://pic.dhe.ibm.com/infocenter/wasinfo/v6r1/index.jsp?topic=/com.ibm.websphere.ejbfep.multiplatform.doc/info/ae/ae/rejb_3stubscmd.html) Websphere 命令来生成 EJB 存根，或者（更好）使用[ANT](http://www-01.ibm.com/support/docview.wss?uid=swg21393419)（或其他）构建脚本来根据您的偏好构建二进制文件。

# jquery - 将查询结果数组传递给 jQuery Autocomplete 源属性

> ID：14746809
> 
> 赞同：0
> 
> 时间：2013-02-07T08:35:34.377
> 
> 标签：jquery, coldfusion

尝试将查询结果传递给 jquery 自动完成的源属性时，我遇到了一个问题......

```
 <cfloop query="MyQuery">
      <cfset head=#ValueList(MyQuery.pname,",")#>
      <cfset head1=#listtoarray(head)#>
    </cfloop> 
```

这里我想将head1数组发送到jquery代码，jquery自动完成代码如下..

```
 <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.0/themes/base/jquery-ui.css" />
    <script src="http://code.jquery.com/jquery-1.8.3.js"></script>
    <script src="http://code.jquery.com/ui/1.10.0/jquery-ui.js"></script>
    <link rel="stylesheet" href="/resources/demos/style.css" />
    <script>

    $(function() {
    var availableTags = head1;
    $("#k").autocomplete({
    source:availableTags
      });

  });

 </script>
 </cfif> 
```

如何将 head1 传递给 availableTags

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T11:38:16.157

首先，您的 cfloop 什么都不做，只是一遍又一遍地运行`valuelist`，`listtoarray`结果相同。将它放在查询循环中是没有意义的。查看[valueList的详细信息](http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-6d19.html)

您可以在 CF 中简单地执行以下操作：

```
<cfset head=#ValueList(MyQuery.pname,",")#>
<cfset head1=#listtoarray(head)#> 
```

ColdFusion 有一个很好的函数叫做[toScript](http://help.adobe.com/en_US/ColdFusion/9.0/CFMLRef/WSc3ff6d0ea77859461172e0811cbec22c24-6e9d.html)

> 创建一个 JavaScript 或 ActionScript 表达式，将 ColdFusion 变量的值分配给 JavaScript 或 ActionScript 变量。此函数可以将 ColdFusion 字符串、数字、数组、结构和查询转换为定义等效变量和值的 JavaScript 或 ActionScript 语法。

要使用 CF 数组创建 JS 数组，您可以执行以下操作：

```
$(function() {
    <cfoutput>var #ToScript(head1, "availableTags")#;</cfoutput>
    $("#k").autocomplete({
        source:availableTags
    });
}); 
```

toScript 的输出看起来像

```
var availableTags =  new Array();
availableTags[0] = "something";
availableTags[1] = "something else";
availableTags[2] = "another something";
availableTags[3] = "even more something"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T09:54:31.103

我使用 serializeJson 来解决问题..你刚刚给了我另一个好方法......（toScript）......谢谢...... :)

```
$(function() {
     <cfoutput>var states = <cfoutput>#serializeJson(head1)#</cfoutput>                                                                                             $("#k").autocomplete({
     source:availableTags
  });
  }); 
```

# c# - 如何将int转换为字符串列？

> ID：14746814
> 
> 赞同：-1
> 
> 时间：2013-02-07T08:35:50.133
> 
> 标签：c#, sql, entity-framework

其中表达式：

```
 filtrationResult = filtrationResult.Where(string.Format("Convert.ToString({0}).Contains(@0)", filter.Field), filter.Value); 
```

filter.Field 是名称列 (Int32)

我得到错误：

```
LINQ to Entities does not recognize the method 'System.String ToString(Int32)' method, and this method cannot be translated into a store expression. 
```

如何正确转换？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:40:33.613

我将创建一个包含所有可能值的 switch 语句`filter.Field`，然后使用 EF 生成的属性。

# c - 传递数组中的访问冲突错误

> ID：14746818
> 
> 赞同：0
> 
> 时间：2013-02-07T08:36:04.257
> 
> 标签：c, fortran, fortran-iso-c-binding, metis

[在为我之前提出的](https://stackoverflow.com/questions/14730349/calling-metis-apiwrtten-in-c-language-in-fortran-program)问题找到答案之前，我为非常小的网格（只有两个三角形）编写了非常简单的代码，如下所示在 fortran 中调用 C 函数。为了代码的简单。这里既没有使用接口模块，也没有使用 iso_c_binding(as possible)。[和这篇文章](https://stackoverflow.com/questions/14078401/metis-seg-faults-when-run-from-fortran)很相似，还有一个错误。

```
program METIS_NoInterface

  implicit none

  integer :: ne, nn
  integer, dimension(:), allocatable      :: eptr, eind
  integer, pointer                        :: vwgt=>null(), vsize=>null()
  integer                                 :: nparts
  real, pointer                           :: tpwgts=>null()
  integer, dimension(0:39)                :: opts
  integer                                 :: objval
  integer, dimension(:), allocatable      :: epart, npart

  ! Input  => 2 tri: too small mesh
  !ne = 2
  !nn = 4
  !nparts = 2
  !allocate(eptr(0:2), eind(0:5))
  !eptr=[0,    3,     4]
  !eind=[0,1,3,1,2,3]

  ! Output
  !allocate(epart(0:1), npart(0:4))

  ! Input  => 4 quad : reasonable result
  ne = 4  
  nn = 9
  nparts = 2
  allocate(eptr(0:ne), eind(0:15))
  eptr=[0,4,8,12,16]
  eind=[0,1,8,7,1,2,3,8,3,4,5,8,5,6,7,8]

  ! Output
  allocate(epart(0:ne-1), npart(0:nn-1))

  ! METIS function call
  call METIS_SetDefaultOptions(opts)
  !call METIS_PartMeshNodal(ne,ne,eptr,eind,vwgt,vsize,nparts,tpwgts,&  !<=syntax error
   call METIS_PartMeshNodal(ne,nn,eptr,eind,vwgt,vsize,nparts,tpwgts,&
                                opts,objval,epart,npart) 

  ! Result print
  write(*,*) epart
  write(*,*) ''
  write(*,*) npart
  write(*,*) ''
end program 
```

由于**eind** ，它给出了访问冲突错误。**如果传递c_null_ptr**而不是**eind**，它无论如何都会运行。数组**eind**的大小和**元素个数**是一致的。如何修复？=>**已解决。谢谢！**

**我遇到的问题**是调用 METIS_PartMeshNodal 时出现系统税错误，第二个参数是 ne，与第一个参数 ne 相同。应该是**nn**。
**解决方案**是将第二个参数替换为**nn**。上面的代码可以编译执行。

**注意：**由于 METIS 的方案，太小的网格可能没有合理的解决方案。
请参考另一篇[文章](https://stackoverflow.com/questions/14730349/calling-metis-apiwrtten-in-c-language-in-fortran-program)以使用接口模块。

# testing - Angularjs e2e 测试 - 如何使用 input(name).enter(value)？

> ID：14746820
> 
> 赞同：0
> 
> 时间：2013-02-07T08:36:07.767
> 
> 标签：testing, angularjs, jasmine

我在编写用于`e2e`测试的场景方面非常陌生`Angularjs`。我想写一个场景来测试登录。我有一个表单，其中包含如下电子邮件字段：

```
<input type="email" placeholder="Enter your e-mail" name="email" ng-model="form.email" value="" required autofocus > 
```

在我的场景中，我有以下行，它试图将一些电子邮件地址传递给该输入字段：

```
input('form.email').enter('blabla@blabla.com'); 
```

但不幸的是，我在运行测试后收到以下错误：

*6ms input 'form.email' enter 'blabla@blabla.com'
Selector [ng\:model="form.email"] did not match any elements。*

有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-10T20:42:38.507

检查以确保您拥有：

```
browser().navigateTo('/'); 
```

如果不导航第一个角度，则不会对 DOM 有任何引用。

您还可以使用：

```
pause(); 
```

在运行 e2e 测试时，准确查看浏览器在给定时间显示的内容。

# emacs - Emacs 骨架在一个缓冲区中工作，但在另一个缓冲区中不工作

> ID：14746826
> 
> 赞同：0
> 
> 时间：2013-02-07T08:36:26.463
> 
> 标签：emacs

我有一个这样定义的骨架

```
 (define-skeleton mp-apt-title
    "Insert an apt title" nil
    '(setq str (skeleton-read "Title? "))
    '(when (string= str "") (setq str " no title "))
    '(setq parameters (list str (getenv "USER") (format-time-string "%e. %B %Y")))
    '(setq lengths (mapcar 'length parameters))
    '(setq maxl (+ 6 (max (nth 0 lengths) (nth 1 lengths) (nth 2 lengths))))
    '(setq seperator (make-string maxl ?-))
    > seperator \n
    > (nth 0 parameters) \n
    > seperator \n
    > (nth 1 parameters) \n
    > seperator \n
    > (nth 2 parameters) \n
    > \n
    ) 
```

在定义它的文件中，我通过 Mx mp-apt-title 尝试了骨架，它工作正常。如果我切换缓冲区并再试一次，我会被问到“标题？”。我输入标题，然后响应：“错误的类型参数：数字或标记-p，无”。

我想念什么？

马蒂亚斯

# c# - 相同的字符串不等于另一个

> ID：14746829
> 
> 赞同：1
> 
> 时间：2013-02-07T08:36:40.027
> 
> 标签：c#

```
string s =@"&#173;";
string r = HttpUtility.HtmlDecode(s);

string r3 = string.Format("1{0}Jan{0}2007",r);
Console.WriteLine(r3);
if(r3 == "1-Jan-2007")
{
    Console.WriteLine("Equal");
    Console.WriteLine("1-Jan-2007");
}
else
{
    Console.WriteLine("Not Equal");
    Console.WriteLine("1-Jan-2007");

} 
```

输出是

2007 年 1 月 1 日不等于 2007 年 1 月 1 日

但是当我用“-”替换 r 时，即 string.Format("1{0}Jan{0}2007","-"); 输出是

2007 年 1 月 1 日 等于 2007 年 1 月 1 日

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-07T08:40:47.243

`&#173;`是 Unicode 字符“软连字符”(U+00AD)。虽然它看起来与 Unicode 字符 'HYPHEN-MINUS' (U+002D) 非常相似，但这两个字符并不相同。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:39:13.240

试试这个：

```
if(r3.Equals("1-Jan-2007", StringComparison.InvariantCultureIgnoreCase)) 
```

# php - 以 h:i:s 格式添加时间

> ID：14746836
> 
> 赞同：0
> 
> 时间：2013-02-07T08:37:08.233
> 
> 标签：php

我有如下数组：

```
array
(
    [0] => 505:25:32
    [1] => 480:00:01
    [2] => 504:00:01
    [3] => 480:00:02
) 
```

我想添加它并获得总时间`h:i:s`。我想过把这个数组分成三个

```
hour_array(
        [0] => 505
        [1] => 480
        [2] => 504
        [3] => 480
)
min_array(
        [0] => 25
        [1] => 00
        [2] => 00
        [3] => 00
)
sec_array(
        [0] =>32
        [1] => 01
        [2] => 01
        [3] => 02
) 
```

然后单独添加每个数组，然后对它们求和。但是这个解决方案似乎有点冗长，还有另一个解决方案

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:56:29.597

```
<?php
$original_array = array
(
        '505:25:32',
        '480:00:01',
        '504:00:01',
        '480:00:02'
);

$hours=0;
$minutes=0;
$seconds=0;
foreach($original_array AS $value){
    $chunks= explode(":", $value);
    $hours += $chunks[0];
    $minutes += $chunks[1];
    $seconds += $chunks[2];
}

$minutes += floor($seconds / 60);
$seconds %= 60;

$hours += floor($minutes /60);
$minutes %= 60;

var_dump(get_defined_vars());
?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:45:02.143

如果您仍然要解析字符串，那么您可以添加到总数中，如下所示：

```
$totalHours = 0;
$totalMinutes = 0;
$totalSeconds = 0;
for($i = 0; $i < count($times); $i++)
{
   $parsedTime = FunctionToParseStringIntoTime($times[$i]);
   $totalHours += $parsedTime['hours'];
   $totalMinutes += $parsedTime['minutes'];
   $totalSeconds += $parsedTime['seconds'];
} 
```

我最近一直在使用这里的功能，[将时间转换为秒](https://stackoverflow.com/questions/6047693/convert-time-to-seconds)

这将为您提供总分钟数。为了让它给出一个关联数组，我会这样做：

```
function FunctionToParseStringIntoTime($theTime) 
 {
    $t = explode(':', $theTime);
    return array("hours" => intval($t[0]), "minutes" => intval($t[1]), "seconds" => intval($t[2]));
 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-07T08:45:27.437

foreach 在您的原始数组中

```
$hours= array();
$min= array();
$sec= array();
foreach($original_array AS $key=> $value){
  $chunk= explode(":", $value);
  $hour[$key]= $chunk[0];
  $min[$key]= $chunk[1];
  $sec[$key]= $chunk[2];
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-07T08:45:42.017

尝试使用多维数组。

这应该使您的工作更容易，代码更具可读性。

您只能在显示屏上添加“：”。

# c# - 如何通过 ASP.NET 网站中的 WCF 服务传递值

> ID：14746837
> 
> 赞同：0
> 
> 时间：2013-02-07T08:37:08.833
> 
> 标签：c#, asp.net, vb.net, wcf, outlook-addin

我正在为我们的网站开发 Outlook 插件。我想将选定的日期、时间和主题从 Outlook 日历传递到我们的网站，该网站在 Outlook 内的 web 控件中加载。Web 服务是 WCF。

我可以像这样将日历值传输到 WCF：

```
 [OperationContract]
string getBookingURL(string guid, BookingRequest request,string token,string exitURL); 
```

BookingRequest 是我传递日历值的类：

```
[ServiceContract]
public class BookingRequest
{
    public long bookingID { get; set; }
    public DateTime startUTC { get; set; }
    public DateTime endUTC { get; set; }
    public string subject { get; set; }
    public int numParticipants { get; set; }
} 
```

现在下一步在我的 asp.net 网站上将是这样的：

```
Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load

if (BookingRequest!=Null) then
FromDateTextfield.Text = BookingRequest.startUTC
ToDateTextfileld.Text = BookingRequest.EndUTC
SubjectTextfield.Text = BookingRequest.subject
End If

End Sub 
```

问题是我不知道如何在加载时将值从 WCF 传递到网页。

也许有一个没有 WCF 的解决方案。你能帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:57:38.307

我假设您已经在客户端创建了代理类。因此使用该对象，您可以使用代理对象调用服务。如下：

```
 ProxyServClient client = new ProxyServClient();
 BookingRequest bookingrequest = client.GetBookingDetails();
 if(BookingRequest!=Null)
  {
    FromDateTextfield.Text = BookingRequest.startUTC;
    ToDateTextfileld.Text = BookingRequest.EndUTC;
    SubjectTextfield.Text = BookingRequest.subject;
  } 
```

为此，您必须创建具有属性的预订请求属性类，因为您的服务将返回。

# mysql - 在mysql中指定id替换成

> ID：14746838
> 
> 赞同：3
> 
> 时间：2013-02-07T08:37:14.380
> 
> 标签：mysql, replace

我正在为我的网站使用 mysql REPLACE INTO 语法。下面是我的测试表结构，

```
id  name  address
1   Tom   US
2   Dick  UK
3   Harry US
4   Jony  Spain 
```

询问：

```
REPLACE INTO table_name VALUES (3, 'Roni', 'India') 
```

现在执行这个查询mysql说，

**2 行受影响。插入的行 ID：4（查询耗时 0.0003 秒）**

谁能解释一下上面提到的文字是什么意思？为什么**2 行受到影响**？

问候

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T08:44:32.237

两行受到影响，因为 REPLACE INTO 将在键冲突上执行删除，然后执行插入，因此您最终会执行 2 次操作，首先是删除（受影响的 1 行），然后是插入（受影响的第二行）。

您可能需要考虑其他解决方案，因为 DELETE 的成本很高，因为需要更新索引。在许多情况下，基于 DUPLICATE KEY UPDATE 的查询的 INSERT ... 会更快。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T08:55:13.570

MySQL REPLACE like UPDATE 语句如下：

```
REPLACE INTO table_name SET column_name1 = value1 AND column2 = value2 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-07T08:48:45.623

使用这样的查询：

```
EXPLAIN REPLACE INTO table_name VALUES (3, 'Roni', 'India') 
```

注意添加“EXPLAIN”关键字！这样 MySQL 将解释发生了什么。

但是请注意，REPLACE INTO 与 INSERT INTO 相同，但如果存在则将替换该行，如果不存在则将其插入。因此，当存在时，它将删除该行然后插入新行，这就是为什么您有两行受到影响。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-07T09:00:58.623

在你的情况下，它看起来像 id no 3 被删除然后再次插入。这就是为什么它说有 2 条记录受到影响。您的表可能有第 3 行，Roni 和 India 插入和删除第 3 行，Harry，US

# php - LinkedIn：使用linkedin按钮自动登录，无需按下按钮

> ID：14746844
> 
> 赞同：1
> 
> 时间：2013-02-07T08:37:38.223
> 
> 标签：php, linkedin

我已经为我的应用程序创建了 Linkedin 标志，并且我需要在不按linkedin 按钮的情况下使用linkedin 进行自动登录（即，使用linkedin 自动登录它应该加载按钮）。在这里，我尝试了以下代码。

```
<script type="text/javascript" src="http://platform.linkedin.com/in.js">
    api_key: key comes here
    onLoad: onLinkedInLoad
    authorize: true
</script> 
```

但我从来没有得到正确的答案..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T11:41:13.820

你应该包括 `IN.User.authorize();`

像这样

```
function onLinkedInLoad() {
                IN.ENV.js.scope = new Array();
                IN.ENV.js.scope[0] = "r_emailaddress";
                IN.ENV.js.scope[1] = "r_contactinfo";  
                IN.User.authorize();
                IN.Event.on(IN, "auth", onLinkedInAuth);
            } 
```

# syntax-highlighting - Aptana 语法高亮问题 - JavaScript

> ID：14746848
> 
> 赞同：0
> 
> 时间：2013-02-07T08:38:06.860
> 
> 标签：syntax-highlighting, aptana3

在 Aptana 的最后一次更新之后，它停止了语法高亮显示我所有的 JavaScript 代码。几天来，我尝试通过重新安装编辑器、使用 Eclipse 并将 Aptana 作为插件安装并调整不同的设置来解决此问题。

![Aptana 代码高亮](../Images/17cdeccad4339dc21f013b83a20adf48.png)

正如您在图像上看到的，第 224 行之后的所有代码都变为白色。而且我还没有发现任何似乎会触发此错误的特定代码组合。

值得一提的是，当您更改行中的某些内容时，某些代码会再次开始突出显示，有时 Aptana 仍然会在文档中进一步突出显示代码。

如果有人对此问题有解决方案，我将不胜感激。

我最好的~本都

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-01-14T17:35:47.550

有同样的问题。原来有一个“错误的”空白字符。如果您激活选项“显示空白字符”，您可以区分常规“空格”字符（由行中间的点标记）和其他空白字符。

[http://i.stack.imgur.com/3bMsg.png](http://i.stack.imgur.com/3bMsg.png) --> 条件中的“错误”空白字符（在“||”之后）

# tsql - 将 HH:MM:SS 字符串转换为分钟数

> ID：14746849
> 
> 赞同：3
> 
> 时间：2013-02-07T08:38:16.100
> 
> 标签：tsql

我有以下查询。

```
select cast(dateadd(minute, datediff(minute, TimeIn, TimeOut), 0) as time(0) ) 
```

我从 hrs-min-seconds 格式的两列中得到结果。我只想要 min 的格式。所以`02:47:00`会读`167`。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-07T08:47:18.493

SQL 服务器查询：

```
SELECT cast(substring('02:47:00',1,2) AS int)*60+
       cast(substring('02:47:00',4,2) AS int)+ 
       cast(substring('02:47:00',7,2) AS int)/60.0 AS minutes 
```

MYSQL 查询：

```
SELECT TIME_TO_SEC('02:47:00') / 60 
```

结果：

```
| MINUTES |
-----------
|     167 | 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-07T09:17:07.617

```
declare @Time DATETIME = '01:05:00'

select ((DATEPART(HOUR, @Time)*60) + (DATEPART(MINUTE, @Time))) 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-07T08:43:59.107

试试这个：

```
datediff(minute, 0, '02:47') 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-02-07T08:45:19.480

对于 SQL Server（也适用于 2005）：

```
select Datediff(mi,convert(datetime,'00:00:00',108), convert(datetime,'02:47:00',108)) 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2017-05-29T05:34:17.850

扩展贾斯汀的答案。这允许小时数大于 2 位的情况。

```
declare @time varchar(50) = '102:47:05'

SELECT cast(right(@time,2) AS int)+
       cast(left(right(@time,5),2) AS int)*60+ 
       cast(left(@time,len(@time)-6) AS int)*3600 AS seconds,
       (cast(right(@time,2) AS int)+
       cast(left(right(@time,5),2) AS int)*60+ 
       cast(left(@time,len(@time)-6) AS int)*3600)/60.0 AS minutes 
```

结果：

```
seconds     minutes
----------- ---------------------------------------
370025      6167.083333 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-07T08:51:46.877

```
SELECT DATEDIFF(minute,CAST('00:00' AS TIME), CAST('02:47' AS TIME)) AS difference 
```

给你：

```
| DIFFERENCE |
--------------
|        167 | 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2019-08-17T04:53:39.903

不幸的是，如果您想对超过 24 小时的值使用 DATEPART 函数，您将收到错误消息：

> 从字符串转换日期和/或时间时转换失败。"

您可以使用以下代码对其进行测试：

```
declare @Time DATETIME = '32:00:00'
select ((DATEPART(HOUR, @Time)*60) + (DATEPART(MINUTE, @Time))) 
```

为了解决这个问题，我使用了另一种方法：

```
declare @tbl table(WorkHrs VARCHAR(8))
insert into @tbl(WorkHrs) values ('02:47:00')
insert into @tbl(WorkHrs) values ('32:00:00')
-- Sum in minutes
SELECT TRY_CAST(([HOURS] * 60) + [MINUTES] + ([SECOND] / 60) AS INT) as TotalInMinutes
FROM (
SELECT 
    -- Use this aproach to get separated values 
    SUBSTRING(WorkHrs,1,CHARINDEX(':',WorkHrs)-1) AS [HOURS],
    SUBSTRING(WorkHrs,4,CHARINDEX(':',WorkHrs)-1) AS [MINUTES],
    SUBSTRING(WorkHrs,7,CHARINDEX(':',WorkHrs)-1) AS [SECOND] -- probably you can ignore this one
    FROM @tbl
)
tbl
-- Sum in seconds
    SELECT TRY_CAST(([HOURS] * 3600) + ([MINUTES] * 60) + [SECOND] AS INT) as TotalInSeconds
    FROM (
    SELECT 
    -- Use this aproach to get separated values 
    SUBSTRING(WorkHrs,1,CHARINDEX(':',WorkHrs)-1) AS [HOURS],
    SUBSTRING(WorkHrs,4,CHARINDEX(':',WorkHrs)-1) AS [MINUTES],
    SUBSTRING(WorkHrs,7,CHARINDEX(':',WorkHrs)-1) AS [SECOND]
    FROM @tbl
)
tbl 
```

此代码将返回如下：

[![在此处输入图像描述](../Images/bf1b0a489afcc676e3f0c477372a6311.png)](https://i.stack.imgur.com/mLe1P.png)

* * *

## 回答 #8

> 赞同：-1
> 
> 时间：2013-02-07T08:56:29.713

```
$time = '02:47:00';

$time = explode(":",$time); 

$total = ($a[0]*60)+$a[1];

echo 'Minutes : '.$total;<br>
echo 'Seconds : '.$a[2]; 
```

# javascript - 在浏览器重新加载/关闭浏览器/退出页面之前执行Javascript函数？

> ID：14746851
> 
> 赞同：8
> 
> 时间：2013-02-07T08:38:22.320
> 
> 标签：javascript

有没有办法在用户选择重新加载/关闭浏览器/退出页面之前执行功能？

我需要这个用于我正在尝试编写的“在线/离线”状态功能。我想检测用户是否仍在页面上。

有任何想法吗？:)

也许有更好的方法来解决这个问题？

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-02-07T08:40:15.903

内联函数：

```
window.onbeforeunload = function(evt) {

    // Cancel the event (if necessary)
    evt.preventDefault();

    // Google Chrome requires returnValue to be set
    evt.returnValue = '';

    return null;
}; 
```

或通过事件监听器（推荐）：

```
window.addEventListener("beforeunload", function(evt) {

    // Cancel the event (if necessary)
    evt.preventDefault();

    // Google Chrome requires returnValue to be set
    evt.returnValue = '';

    return null;
}); 
```

或者如果你有 jQuery：

```
$(window).on("beforeunload", function(evt) {

    // Cancel the event (if necessary)
    evt.preventDefault();

    // Google Chrome requires returnValue to be set
    evt.returnValue = '';

    return null;
}); 
```

笔记：

> 当此事件返回非空值时，将提示用户确认页面卸载。在大多数浏览器中，事件的返回值显示在此对话框中。
> 
> 自 2011 年 5 月 25 日起，HTML5 规范规定在此事件期间可能会忽略对 window.showModalDialog()、window.alert()、window.confirm() 和 window.prompt() 方法的调用。

[请参阅https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onbeforeunload](https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onbeforeunload)上的文档

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:42:04.703

使用 window.onbeforeunload，当用户离开你的页面时触发它：http: [//geekswithblogs.net/hmloo/archive/2012/02/15/use-window.onbeforeunload-event-to-stop-browser-from-closing-或禁用.aspx](http://geekswithblogs.net/hmloo/archive/2012/02/15/use-window.onbeforeunload-event-to-stop-browser-from-closing-or-disable.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-15T07:59:41.827

尝试这个：

```
$( window ).unload(function() {
  alert( "Handler for .unload() called." );
}); 
```

或者，如果你想要构象警报

```
<script>
window.onbeforeunload = function(e) {  
   return 'Your dialog message';
};
</script> 
```

# sql - 选择语句不适用于 Oracle 中的双引号

> ID：14746856
> 
> 赞同：3
> 
> 时间：2013-02-07T08:38:44.627
> 
> 标签：sql, oracle

我的表有名为`select`（或`NOT`，或其他保留键）的列。

我尝试了选择`'select'`列，但我不能，因为 oracle 会抛出这样的异常：

> 无效的 user.table.column 或 table.column 或列规范

我的选择语句是这样的：

```
 select f.select 
 from foo f. 
```

我在互联网上搜索并找到了公认的答案：[如何在 Oracle 中转义保留字？](https://stackoverflow.com/questions/1162381/how-do-i-escape-a-reserved-word-in-oracle)

然后，我改变了我的查询：`Select "f"."select" from foo f`，但也像这样抛出异常：

> "c"."select": 无效标识符。

如何在选择（或更新、插入）语句中使用“选择”列？

PS：我正在使用 pl/sql 开发工具来查询数据。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T08:43:25.687

尝试，

```
Select f."select" from foo f; 
```

![在此处输入图像描述](../Images/0698c04524840bb28e8da68a3ba737d3.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-07T08:45:34.890

在 Oracle 中引用标识符时，它们区分大小写。

因此，您可能必须编写以下内容：

```
select f."SELECT" from foo f 
```

（或者`"Select"`，或者你实际上已经写了列名）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-07T08:40:21.693

这应该可以正常工作：

```
Select f."select" from foo f 
```

# python - 如何找到 SSL 证书文件的路径？

> ID：14746857
> 
> 赞同：15
> 
> 时间：2013-02-07T08:38:47.107
> 
> 标签：python, ssl, python-requests

我想使用 Python 请求来获取公司内部网页的内容（例如[https://internal.com](https://internal.com)）。我可以在浏览器中看到这个页面，并且可以“查看证书”。

所以现在我想获取带有请求的网页，所以我这样做：

```
import requests
requests.get('https://internal.com') 
```

但后来我得到一个 SSLError：

```
SSLError: [Errno 1] _ssl.c:504: error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed 
```

所以我想我需要指定一个证书文件：

```
requests.get('https://example.com', cert=('/path/server.crt', '/path/key')) 
```

但是如何找到证书文件的路径？查看网页时，我可以从 Chrome 或 IE 获取此信息吗？还是我错过了一些更基本的东西？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-08T15:38:19.033

该`cert`参数用于客户端身份验证。如果你想向服务器证明你的身份。如果这是问题所在，您将在服务器上收到错误消息。

您需要的是服务器端身份验证。服务器必须证明它的身份。由于您正在连接到内部服务器请求，因此提供的捆绑包中没有此服务器证书，因此无法确认服务器身份。您必须使用内部 CA 捆绑提供请求。为此，您必须先从浏览器中提取它。

从文档：

```
You can also pass "verify" the path to a "CA_BUNDLE" file for private certs.
You can also set the "REQUESTS_CA_BUNDLE" environment variable. 
```

铬（短版）：

*   把它放在你的网址栏中`chrome://settings/certificates`
*   选择选项卡“当局”
*   找到您的内部 CA 并单击`export`
*   最佳格式是“Base64 编码证书链”
*   保存到您将再次找到它的位置
*   现在你可以使用`request.get(url, verify=)

您还可以通过以下方式访问证书管理器：

（chrome的步骤，其他浏览器非常相似）

*   前往设置
*   点击底部的“显示高级设置”
*   HTTPS/SSL -> “管理证书”
*   看上面

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-11-20T15:51:20.430

确保在导出 crt 时，在文件类型中选择另存为下拉菜单“带链导出” - 这样它将所有三个证书合二为一。那是我的问题。

# json - spring MVC可以将JSON解析成@RequestParams吗

> ID：14746866
> 
> 赞同：12
> 
> 时间：2013-02-07T08:39:13.587
> 
> 标签：json, spring-mvc

是否可以使用注释`@RequestParam`从请求中解析 json 格式的数据，就像可以解析`application/x-www-form-urlencoded`编码数据一样？

即，如果我的请求正文是：

```
{ firstName : "John", lastName : "Doe" } 
```

我希望能够有一个看起来像的方法

```
public void savePerson(@RequestParam String firstName, @RequestParam lastName) {
    // handle data
} 
```

其中的值为`firstName`“John”，值为`lastName`“Doe”。我试图使这项工作，但它只适用于`application/x-www-form-urlencoded`编码数据。发送 json 格式的数据时，我收到一条`400`回复说参数丢失。

我使用的是 Spring 3.2.0，并且`Content-Type`我的请求标头与数据格式匹配。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-07T08:43:42.543

不，改成这个

```
public void savePerson(@RequestBody Person) { 
```

和这个

```
{"person" : { "firstName" : "John", "lastName" : "Doe" } 
```

# c# - 请求失败，HTTP 状态为 401：已授权从 C# asp.net 访问 sharepoint Web 服务

> ID：14746869
> 
> 赞同：1
> 
> 时间：2013-02-07T08:39:37.753
> 
> 标签：c#, asp.net, web-services, sharepoint

我遇到以下错误：

```
The request failed with HTTP status 401: Unauthorized. 
```

**编码**

代码如下：

```
 protected void Execute_Click(object sender, EventArgs e)
    {

        /*Declare and initialize a variable for the Lists Web service.*/
        //Web_Reference.Lists myservice = new Web_Reference.Lists();
        ListsWebService.Lists myservice = new ListsWebService.Lists();

        /*Authenticate the current user by passing their default 
        credentials to the Web service from the system credential 
        cache. */
        myservice.Credentials =
           System.Net.CredentialCache.DefaultCredentials;

        /*Set the Url property of the service for the path to a subsite. Not setting this property will return the lists in the root Web site.*/
        //listService.Url = "http://Server_Name/Subsite_Name/_vti_bin/Lists.asmx";
        myservice.Url = "http://teamsites.ntu.edu.sg/sce/hrdev/_vti_bin/Lists.asmx";

        try
        {
            /*Declare an XmlNode object and initialize it with the XML 
            response from the GetListCollection method. */
            System.Xml.XmlNode node = myservice.GetListCollection();

            /*Loop through XML response and parse out the value of the
            Title attribute for each list. */
            foreach (System.Xml.XmlNode xmlnode in node)
            {
                Label1.Text += xmlnode.Attributes["Title"].Value + "\n";
            }
        }
        catch (Exception excep)
        {
            Label1.Text = excep.Message;
        }

    } 
```

**IIS 设置**- 仅启用 Windows 身份验证。

**Web.Config 文件**

```
<configuration>
<configSections>
    <sectionGroup name="applicationSettings" type="System.Configuration.ApplicationSettingsGroup, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=bxxxxxxxx9" >
        <section name="ReadSharePointList.Properties.Settings" type="System.Configuration.ClientSettingsSection, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=bxxxxxxxx9" requirePermission="false" />
    </sectionGroup>
</configSections>
<system.web>
    <compilation debug="true" targetFramework="4.0" />
    <customErrors mode="Off"/>
</system.web>

<system.serviceModel>
    <bindings>
        <basicHttpBinding>
            <binding name="ListsSoap" closeTimeout="00:01:00" openTimeout="00:01:00"
                receiveTimeout="00:10:00" sendTimeout="00:01:00" allowCookies="false"
                bypassProxyOnLocal="false" hostNameComparisonMode="StrongWildcard"
                maxBufferSize="65536" maxBufferPoolSize="524288" maxReceivedMessageSize="65536"
                messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered"
                useDefaultWebProxy="true">
                <readerQuotas maxDepth="32" maxStringContentLength="8192" maxArrayLength="16384"
                    maxBytesPerRead="4096" maxNameTableCharCount="16384" />
                <security mode="None">
                    <transport clientCredentialType="None" proxyCredentialType="None"
                        realm="" />
                    <message clientCredentialType="UserName" algorithmSuite="Default" />
                </security>
            </binding>
        </basicHttpBinding>
    </bindings>
    <client>
        <endpoint address="http://mainsite/subsite/_vti_bin/lists.asmx"
            binding="basicHttpBinding" bindingConfiguration="ListsSoap"
            contract="StaffRole.ListsSoap" name="ListsSoap" />
    </client>
</system.serviceModel>
<applicationSettings>
    <ReadSharePointList.Properties.Settings>
        <setting name="ReadSharePointList_ListsWebService_Lists" serializeAs="String">
            <value>http://mainsite/subsite/_vti_bin/lists.asmx</value>
        </setting>
    </ReadSharePointList.Properties.Settings>
</applicationSettings>
</configuration> 
```

我会在哪里失踪？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T19:03:46.303

您的 C# ASP.NET 是否与 SharePoint 在同一物理服务器上运行？

如果是这样，那么它很有可能是[“本地环回检查”](http://www.harbar.net/archive/2009/07/02/disableloopbackcheck-amp-sharepoint-what-every-admin-and-developer-should-know.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T20:14:35.440

如果您的 ASP.Net 页面在同一个 Intranet 中，您可以使用 System.Net.CredentialCache 方法。请参阅参考： http: [//msdn.microsoft.com/en-us/library/hh134614 (v=office.14).aspx](http://msdn.microsoft.com/en-us/library/hh134614(v=office.14).aspx)

如果您的 ASP.Net 页面不在同一个 Intranet 中，则需要通过 Sharepoint 站点的身份验证提供程序。请参阅参考资料： http: [//msdn.microsoft.com/en-us/library/hh147177 (v=office.14).aspx](http://msdn.microsoft.com/en-us/library/hh147177(v=office.14).aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-07T09:52:26.770

由于您在服务器端仅启用了“Windows 身份验证”，请尝试更改配置，如下所示：

```
<security mode="TransportCredentialOnly">
        <transport clientCredentialType="Ntlm" proxyCredentialType="None"
                 realm="" /> 
```

# wordpress - 创建一个安静的登录 API

> ID：14746870
> 
> 赞同：1
> 
> 时间：2013-02-07T08:39:41.473
> 
> 标签：wordpress, rest, oauth, restful-authentication, hmac

我已经阅读了一些关于这个主题的文章，但我真的只是在寻找更多的建议。

我有一个 WordPress 站点，该站点具有登录功能和用户数据库。

我需要做的是允许第 3 方应用程序根据我的 WordPress 数据库验证它收到的详细信息。

我在想最好的方法是将数据发送到 REST API，但在安全方面，我想不出如何在不被用户轻易复制的情况下返回成功登录。

我已阅读有关 oAuth 和 HMAC 的信息，但不确定我应该走哪条路线。

非常感谢任何帮助，谢谢。

伊恩

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T11:36:36.223

WordPress 为这些东西提供了 XML-RPC API。这就是 iPad/iPhone 应用程序所使用的。

查看法典。

*   [http://codex.wordpress.org/XML-RPC_Extending](http://codex.wordpress.org/XML-RPC_Extending)
*   [http://codex.wordpress.org/XML-RPC_WordPress_API](http://codex.wordpress.org/XML-RPC_WordPress_API)

有关更多一般信息，请参阅 Wikipedia 条目[http://en.wikipedia.org/wiki/XML-RPC](http://en.wikipedia.org/wiki/XML-RPC)。

# c# - vcalendar 的正确 mime 类型是什么

> ID：14746872
> 
> 赞同：2
> 
> 时间：2013-02-07T08:39:46.030
> 
> 标签：c#, windows-phone-8, mime-types, nfc, vcalendar

我正在尝试为 nfc 标签创建 vcalendar，但正确的 mime 类型是什么？它应该是这样的

> WindowsMime:WriteTag.Text/vcalendar
> 
> WindowsMime:WriteTag.Text/x-vcalendar

但是当我尝试读取标签时，提示信息是“抱歉您的手机无法识别此类文件”

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-07T10:37:09.510

[RFC mime 类型](https://www.rfc-editor.org/rfc/rfc5545)是`text/calendar`而不是`text/vcalendar`，这行得通吗？

你是如何创建文件的？有一个 BSD 许可的用于 .NET 的 iCal 类库，称为[DDay.Ical](http://sourceforge.net/projects/dday-ical/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-03-07T00:29:52.927

vCalendar 的类型似乎是`text/x-vcalendar`（来源：[原始标准](http://www.imc.org/pdi/vcal-10.txt)。）

对于*iCalendar*（较新的格式），答案是`text/calendar`（来源：[RFC5545](https://www.rfc-editor.org/rfc/rfc5545)）。

iCalendar 本质上是 vCalendar 格式的 v2.0。如果某种格式的 v2.0 为新版本的格式引入了新的 MIME 类型，我一直不清楚旧版本的格式是否也获得了新的 MIME 类型。IANA 注册管理机构也无助于澄清事情。

# jquery - 如何重复应用 css3 变换到 div 元素

> ID：14746877
> 
> 赞同：0
> 
> 时间：2013-02-07T08:40:09.570
> 
> 标签：jquery, css, transform

我有一个 div，我正在应用 css3 转换将其向右移动（向其中添加移动类）和向左移动（从中删除移动类）。添加移动类以使我的 div (id=container) 向右移动后，我希望能够在第二次添加移动类后使 div 再次向右移动。当分别单击“向右移动”和“向左移动”按钮时，使用 jquery 添加或删除移动类。

这是我的代码：

```
 <script type="text/javascript" src="jquery.min.js"></script>
    <script type="text/javascript">
    $(function(){
        $('#bMoveRight').on('click', function(e){
            $('#container').addClass('move');
        });

        $('#bMoveLeft').on('click', function(e){
            $('#container').removeClass('move');
        });
    });     
    </script>
    <style>
    #container{
        width:100px;
        height:100px;
        background-color:red;
        box-shadow:5px 5px 10px #000;
        word-wrap:break-word;
        transition: translateX 2s;
        -webkit-transition: translateX 2s;
    }

    .move{
        transform: translateX(100px);
        -webkit-transform: translateX(100px);
    }
    </style>
        </head> (should match the opening <head> tag, omitted due to restraints on the posting)
            <body>
<div id="container">This is a good testing container that I hope will behave itself</div>
<p><button id="bMoveLeft">Move left</button>
<button id="bMoveRight">Move right</button></p>
</body> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T08:58:57.117

根据您的回复，我通过稍微调整您的想法得到了我想要的。我删除了 css 类并使用 jquery 即时应用转换。我的代码现在看起来像这样：

```
 <script type="text/javascript" src="jquery.min.js"></script>
    <script type="text/javascript">
    $(function(){
        var count = 0;
        $('#bMoveRight').on('click', function(e){
            ++count;
            $('#container').css('-webkit-transform', 'translateX(' + count + '00px)');
        });

        $('#bMoveLeft').on('click', function(e){
            --count;
            $('#container').css('-webkit-transform', 'translateX(' + count + '00px)');
        });
    });     
    </script>
    <style>
    #container{
        width:100px;
        height:100px;
        background-color:red;
        box-shadow:5px 5px 10px #000;
        word-wrap:break-word;
        transition: transform 2s;
        -webkit-transition: -webkit-transform 2s;
    }
    </style>

            <body>
        <div id="container">This is a good testing container that I hope will behave itself</div>
        <p><button id="bMoveLeft">Move left</button>
        <button id="bMoveRight">Move right</button></p>
  </body> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T10:10:08.113

没有办法将同一个类两次应用于一个元素。您可以做的是检查当前应用到元素的类，然后应用正确的转换类（move2、move3 等），每个类都具有越来越大的转换属性：

```
.move2 {
    transform: translateX(200px);
    -webkit-transform: translateX(200px);
} 
```

# c++ - 在“getline”之后从文件中读取第一行的问题

> ID：14746879
> 
> 赞同：1
> 
> 时间：2013-02-07T08:40:19.210
> 
> 标签：c++, getline

输入后`getline`，我的输入文件中的第一行数字被忽略，程序从第二行开始直到结束。

这是代码：

```
while (!file.eof())
{
    getline(file, lineBuffer);
    if(lineBuffer.length()==0)
    {
        continue; //ignore empty lines
    }
    else 
    {
       // file.open("test.txt");
        while (file >> A >> B >> N)
        {

            for(int count=1; count<=N; count++)
            {
                if(count%A == 0 && count%B == 0) { cout << "FB "; }

                else if(count%A == 0) { cout << "F "; }

                else if(count%B == 0) { cout << "B "; }

                else { cout << count << " "; }

            }
            cout << endl;
        }
    }
} 
```

输入文件包含 3 行整数，仅处理第二行和第三行。我对此进行了广泛的查找，但没有人提到与我类似的案例。通常他们会处理那些试图在一个`getline`函数之后获得用户输入的人。任何想法将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T08:45:01.837

`getline(file, lineBuffer)`从 中读取一行`file`并将其存储在`lineBuffer`. 如果你想使用它，你应该处理`lineBuffer`而不是读取`file`（第一行已经被跳过）。要使其工作，只需删除 inner 之外的所有代码`while`。这将一次从文件中读取 3 个数字，当提取其中一个数字失败时停止。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:46:04.020

上面的代码是真实的还是示例？

如果它是真实的，则无需跳过空行。运算符>> 将为您跳过空格。

以下没有任何换行的代码对“AB N”行执行相同的读取：

```
// outer loop is not needed, either remove it, or include error checking
// while (!file.eof() && !file.fail())
{
    while (file >> A >> B >> N)
    {
        for(int count=1; count<=N; count++)
        {

            if(count%A == 0 && count%B == 0) { cout << "FB "; }
.... 
```

如果由于某种原因您根本无法删除 getline，请记住 getline 始终读取该行（好吧，除非流指针到达其末尾）。这意味着您的代码会跳过空行，然后读取第一个非空行，注意到该行不为空并中断循环。请注意，它**已读取 line**，因此，您的第一行数据现在位于**linebuffer**中，而不再位于流中。现在您必须**取消**整行（如果您的流支持它）或**按行的长度倒**回流（如果您的流支持它），或者 -**只需从行中读取数据**- 例如使用**istringstream**类。

通常，混合 getline 和 operator>> 是可行的，但很棘手，（尤其是当您首先通过 >> 阅读然后想要跳过 1 或 2 行时），因为它们在缓冲和空白处理方面的行为略有不同。如果您真的想要，请搜索此主题 - 有很多示例如何同步它们。

# c - 在C中从无符号转换为有符号字符

> ID：14746889
> 
> 赞同：4
> 
> 时间：2013-02-07T08:41:01.850
> 
> 标签：c, casting, char, unsigned-char

我正在将输入`raw pcm`流转换为`mp3`使用`lame`. 该库中的编码函数返回`mp3`类型为数组的编码样本`unsigned char`。这个 mp3 编码的流现在需要放置在一个`flv`容器中，该容器使用一个将编码样本写入`char`数组的函数。我的问题是我将数组从`lame`（类型`unsigned char`）传递到`flv`库中。以下代码（仅象征性）说明了我的问题：

```
/* cast from unsigned char to char. */

#include <stdio.h>
#include <stdlib.h>

void display(char *buff, int len) {

  int i = 0;
  for(i = 0; i < len; i++) {
    printf("buff[%d] = %c\n", i, buff[i]);
  }
}

int main() {

  int len = 10;
  unsigned char* buff = (unsigned char*) malloc(len * sizeof(unsigned char));
  int i = 0;

  for(i = 65; i < (len + 65); i++) {
    buff[i] = (unsigned char) i;
    printf("char = %c", (char) i);
  }

  printf("Displaying array in main.\n");
  for(i = 0; i < len; i++) {
    printf("buff[%d] = %u\n", i, 'buff[i]');
  }

  printf("Displaying array in func.\n");
  display(buff, len);

  return 0;
} 
```

我的问题：
1\. 下面代码中的隐式类型转换是否安全（通过传递`buff`到函数中证明是`display`安全的？是否可能发生一些奇怪的行为？
2\. 鉴于我别无选择，只能坚持使用函数它们存在，是否有将 s 数组转换为`unsigned char`s的“安全”方法`char`？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-07T08:46:53.830

`unsigned char *`转换为`char *`（反之亦然）的唯一问题是它*应该*是一个错误。用石膏固定它。

```
display((char *) buff, len); 
```

**注意：**此演员表是不必要的：

```
printf("char = %c", (char) i); 
```

这可以：

```
printf("char = %c", i); 
```

`%c`格式化程序以arg`int`开头，因为无论如何都不可能将 a 传递`char`给`printf()`（它总是会转换为`int`，或者在极不可能的情况下，`unsigned int`.）

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-07T09:46:37.723

您似乎非常担心不需要的类型安全。由于这是 C 而不是 C++，因此没有强类型系统。只要从未设置“符号位”，从`unsigned char`to`char`的转换*通常是无害的。*避免问题的关键是真正理解它们。C中存在以下问题/功能：

*   默认`char`类型具有实现定义的签名。永远不应该对它的符号性做出任何假设，也不应该在任何类型的算术中使用它，尤其是按位运算。`char`应该只用于存储/打印 ASCII 字母。它不应该与十六进制文字混合，否则可能会出现细微的错误。
*   C 中的整数提升隐式地将所有小整数类型（其中`char`和`unsigned char`）提升为可以保存其结果的整数类型。这在实践中总是如此`int`。
*   形式上，不同类型之间的指针转换可能是未定义的行为。但是 unsigned char 和 char 之间的指针转换实际上是安全的。
*   字符文字 '\0' 等是`int`C中的类型。
*   printf 和类似函数默认将所有字符参数提升为 int。

您还在转换 malloc 的 void* 结果，这在 C 中完全没有意义，并且在 C 标准的旧版本中可能有害，如果没有可见的函数原型，则将函数转换为“默认 int”。

然后你有各种奇怪的逻辑相关的错误和不好的做法，我已经修复了，但不会详细评论。使用此修改后的代码：

```
#include <stdio.h>
#include <stdlib.h>

void display(const char *buff, int len) {

  for(int i = 0; i < len; i++) {
    printf("buff[%d] = %c\n", i, buff[i]);
  }
}

int main() {

  int len = 10;
  unsigned char* buff = malloc(len * sizeof(unsigned char));

  if(buff == NULL)
  {
    // error handling
  }

  char ch = 'A';
  for(int i=0; i<len; i++)
  {
    buff[i] = (unsigned char)ch + i;
    printf("char = %c\n", buff[i]); 
  }

  printf("\nDisplaying array in main.\n");
  for(int i = 0; i < len; i++) {
    printf("buff[%d] = %u\n", i, buff[i]);
  }

  printf("\nDisplaying array in func.\n");
  display((char*)buff, len);

  free(buff);

  return 0;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-07T08:44:38.120

保证从任何整数类型到任何其他相同或更大的整数类型的 C/C++ 强制转换不会产生数据丢失。有符号和无符号字段之间的强制转换通常会产生上溢和下溢的危险，但您要转换的缓冲区实际上指向的原始数据的类型实际上是 void*。

# c# - htttwebresponse 方法中的 Messagebox.show 错误

> ID：14746890
> 
> 赞同：0
> 
> 时间：2013-02-07T08:41:05.387
> 
> 标签：c#, windows-phone-8

我有以下响应代码。当调用 Messagebox.sohw() 方法显示代码：200 时，我在 System.Windows.ni.dll 中发生了类似“System.UnauthorizedAccessException”类型的异常但未在用户代码错误中处理的错误。我的 Json 就像 {"meta":{"code":200}}

```
 private void ReadWebRequestCallback(IAsyncResult ar)
          {
           HttpWebRequest myReq = (HttpWebRequest)ar.AsyncState;
            HttpWebResponse myResponse = (HttpWebResponse)myReq.EndGetResponse(ar);
uritext.Text = myResponse.ResponseUri.ToString();
            using (StreamReader httpwebStreamReader = new StreamReader(myResponse.GetResponseStream()))
            {
                string results = httpwebStreamReader.ReadToEnd();    
            }
            myResponse.Close();
           var root = JsonConvert.DeserializeObject<RootObject>(jsondata);
           String codenum = root.meta.code.ToString();
           Messagebox.sohw(codenum);
           }
   public class Meta
    {
        public int code { get; set; }
    }

    public class RootObject
    {
        public Meta meta { get; set; }
    } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T08:49:42.113

问题是`HttpWebRequest`来自非 UI 线程的回调发生。

以下是您可以`MessageBox.Show`在 UI 线程上执行的操作：

```
Dispatcher.BeginInvoke(() => MessageBox.Show(codenum)); 
```

# xpages - 动态计算文件下载 xpages 的 allowDelete 属性

> ID：14746894
> 
> 赞同：0
> 
> 时间：2013-02-07T08:41:10.563
> 
> 标签：xpages, xpages-ssjs

我正在使用文件下载控件，我想根据文档是处于编辑模式还是读取模式来动态设置“allowDelete”属性的值。但是，此属性是在页面加载时计算的。我尝试在按钮的 onclick 事件或自定义控件的“beforeRenderResponse”事件上调用函数“setAllowDelete(boolean)”，并进行部分或全部更新以更改属性的值，但它没有改变。

你知道是否有办法做到这一点？

提前非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T12:27:41.543

我遇到了同样的问题。有两种解决方法。

1）使用两个控件，一个启用删除，另一个禁用删除，并根据编辑状态（或用户角色）使用呈现的属性。

2）由您自己呈现下载控件，作为数据表或重复。但是，这种解决方案也有[其自身的问题](https://stackoverflow.com/questions/13570624/is-there-java-ssjs-equivalent-of-attachmentmodifiedtimes)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T09:35:53.387

您是否尝试过像这样计算属性？

```
<xp:fileDownload .... >
    <xp:this.allowDelete><![CDATA[${javascript:
        return document.isEditable()}]]>
    </xp:this.allowDelete>
</xp:fileDownload> 
```

# c# - 如何在单击时捕获图像的 URL 并将图像保存在使用 silverlight 的隔离存储中

> ID：14746895
> 
> 赞同：-1
> 
> 时间：2013-02-07T08:41:10.447
> 
> 标签：c#, xml, silverlight

从网站单击图像后，我想在任何容器中捕获并保存图像的 URL，然后将图像保存在隔离存储中。

有没有人可以为此提供代码？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-08T08:38:19.187

要下载图像，您需要获取 URI。一旦你得到它，它非常简单：

```
 public class ServiceImageDownloader
{
    private readonly BitmapImage _downloadedBmpImage = new BitmapImage();

    public ServiceImageDownloader()
    {
        _downloadedBmpImage.ImageOpened += DownloadedBmpImageImageOpened;
        _downloadedBmpImage.ImageFailed += DownloadedBmpImageImageFailed;
        _downloadedBmpImage.CreateOptions = BitmapCreateOptions.BackgroundCreation;
    }

    public void DownloadImage(string imageUri)
    {
      _downloadedBmpImage.UriSource = imageUri;
    }

    private void DownloadedBmpImageImageOpened(object sender, RoutedEventArgs e)
    {
        try
        {
            OnImageDownloaded(new WriteableBitmap(_downloadedBmpImage));
        }
        catch
        {
            //manage other classic errors
        }
    }

    private void OnImageDownloaded(WriteableBitmap wbImTemp)
    {
        //here you get your image as a writeableBmp and you can do whatever you wish,
        //as save it in your IS in your example
    }
} 
```

现在对于 IS，我建议您将您的图像用作流或可序列化的对象。它可能是这样的：

```
 public bool WriteImage(string imageName, Stream streamImage)
    {
        IsolatedStorageFile store = null;
        Stream stream = null;

        try
        {

            using (store = IsolatedStorageFile.GetUserStoreForSite())
            {                    
                // Open/Create the file for writing
                stream = new IsolatedStorageFileStream(imageName,
                    FileMode.Create, FileAccess.Write, store);

                streamImage.CopyTo(stream);

                stream.Close();
                streamImage.Close();
            }
            return true;

        }
        catch (Exception ie)
        {
           //manage error the way you prefer (think especially to quota management)
        }
    } 
```

希望能帮助到你。

# javascript - 如何在 JS 中从 IST 字符串创建日期对象

> ID：14746897
> 
> 赞同：1
> 
> 时间：2013-02-07T08:41:31.127
> 
> 标签：javascript, localization, timezone

在 Javascript 中运行以下代码： var d = Date.UTC("Wed Jan 30 16:27:50 IST 2002");

结果 d 是 NaN，使用 ICT（印度支那时间）而不是 IST（以色列标准时间）也是如此，尽管两者似乎都是有效的[时区缩写](http://www.timeanddate.com/library/abbreviations/timezones/)。当我改用 EST 时，我得到了预期的 Date 对象。

是否存在任何解决方法？我可以用 UTC+2 替换 IST，但我不想手动匹配任何不受支持的时区，特别是因为我不知道支持哪些时区，哪些不支持......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T08:57:51.607

不要使用时区缩写。请参阅 RFC 2822，其中 Date 用于字符串格式，[https://www.rfc-editor.org/rfc/rfc2822#page-14](https://www.rfc-editor.org/rfc/rfc2822#page-14) 它只是不知道所有时区缩写，而是依赖于数字偏移量到格林威治标准时间。

或者，您可以通过询问全能的 Google 找到许多页面的一个示例，[http://corneliusweiss.de/2008/10/14/dealing-with-time-zones-in-javascript/](http://corneliusweiss.de/2008/10/14/dealing-with-time-zones-in-javascript/)

# php - 我不能使用 APC。我可以使用什么 PHP 框架？

> ID：14746898
> 
> 赞同：0
> 
> 时间：2013-02-07T08:41:32.207
> 
> 标签：php, apc

我必须建立几个将托管在共享托管环境中的网站。这两个应用程序具有不同的功能，通常的 cms 无法轻松解决这些功能。这不是商业的东西，所以没有钱买其他东西，而且空间是免费提供的。环境是php 5.3.6。

我通常会选择 symfony 2 来快速开发并省去很多麻烦，但是性能有一个很大的问题：没有 APC 或等效的加速器，事情真的很慢。

我知道有很多“什么是最好的 php 框架？” 问题在那里，但这是针对特定环境的，以避免特定问题。

当您没有加速器时，用 php 开发的最佳解决方案是什么？

您建议使用哪些框架或组件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:46:50.447

PHP 微框架：

Silex [http://silex.sensiolabs.org/](http://silex.sensiolabs.org/) - 基于 Symfony 2，所以你可能很熟悉

苗条[http://www.slimframework.com/](http://www.slimframework.com/)

PIP [http://gilbitron.github.com/PIP/](http://gilbitron.github.com/PIP/)

航班： http: [//flightphp.com/](http://flightphp.com/)

雅夫：[http ://www.yafdev.com/](http://www.yafdev.com/)

加上一些（*一小撮盐*）基准：[http ://www.ruilog.com/blog/view/b6f0e42cf705.html](http://www.ruilog.com/blog/view/b6f0e42cf705.html)

# java - eclipse 无法删除某些断点

> ID：14746899
> 
> 赞同：16
> 
> 时间：2013-02-07T08:41:40.037
> 
> 标签：java, eclipse, breakpoints

双击eclipse左侧的蓝条设置断点。再次双击删除断点。这对我很有用，但是如果我使用 git 来检查不同的分支，通常断点的蓝点会“混淆”或其他东西。我不能再双击取消设置它们。我被迫进入调试视角，在“断点”视图中找到断点，然后右键单击并删除。有人对此有更简单的解决方案吗？我在 Windows 7 上用 Java 编写代码，以获得它的价值。

我可以用这段代码重现这个错误（假设 if 是第 1 行）：

```
if(bool)
{
  // comment
  doSomething();
} else {
  doOther();
} 
```

我在第 4 行断点 - `doSomething()`。然后我在 if 上方添加了一个新行来将所有内容向下移动。（在第 5 行移动断点）。然后我做`git stash save`。当我单击返回 Eclipse 时，蓝点显示在正确的行上，但断点窗口仍然显示第 5 行。如果我双击禁用，它实际上在第 4 行添加了第二个断点。

我觉得我应该向 Eclipse 家伙报告这个。

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2013-02-07T08:45:34.597

开放`debug`视角[右转]

去`breakpoints`

单击`clear all breakpoints`[double X] 或滚动直到找到不想消失的断点并将其删除。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2017-01-20T08:05:55.353

这里没有一个解决方案对我有用。因为我从断点视图中删除了断点，但无法在编辑器中摆脱它们。我认为这是一种错误。它对我有用的只是

1.  选择整个班级 ( `Ctrl`+ `a`)

2.  删减全班（`Ctrl`+ `x`）

3.  粘贴回来（`Ctrl`+ `v`）

有时，解决方案比我们想象的要容易:)

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2015-04-27T04:49:44.760

转到运行 -> 删除所有断点。这将清除所有无法单独删除的断点。

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2013-02-07T08:56:16.150

右键单击断点 -> 禁用断点。应该管用。此外，如果您再次单击（在同一菜单中）“切换断点”，它会完全消失；在第一种情况下，它只是禁用它，但它仍然存在。

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2014-02-24T18:12:00.927

这有时会发生在我身上。在 Debug Perspective 中有一个断点选项卡。即使断点在编辑器中变得不可见，它们也可能在该列表中可见。因此，您可以安全地删除您想要摆脱的断点。

# java - NoClassDefFoundError 使用 jna.jar 和 platform.jar

> ID：14746900
> 
> 赞同：2
> 
> 时间：2013-02-07T08:41:40.570
> 
> 标签：java, swing, internet-explorer-9, java-native-interface, jna

我需要找到一种方法来更改 IE 9 上的代理设置。

我知道一种直接在注册中的方法，但是在我设置它们之后 ie9 不会刷新。我尝试对 jna 使用另一种解决方案：

[调用使用 Java + JNA 的 WinInet 函数](https://stackoverflow.com/questions/5501787/invoke-wininet-functions-used-java-jna)

就我而言，我只使用：

```
System.out.println("Set refreshed...");

if (!WinInet.INSTANCE.InternetSetOption(
    hInternet, WinInet.INTERNET_OPTION_REFRESH, (Pointer) null, len)) {
        System.out.println("InternetSetOption failed!:"
            + Kernel32.INSTANCE.GetLastError()); 
```

但我收到此错误：

```
Set refreshed...
Exception in thread "AWT-EventQueue-0" java.lang.NoClassDefFoundError:
    com/sun/jna/platform/win32/WinDef$DWORD 
```

我从这里下载了 lib jar：

[http://java.net/projects/jna/downloads/directory/3.3.0](http://java.net/projects/jna/downloads/directory/3.3.0)

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T08:49:02.747

确保你有`platform-3.4.0.jar`并且`jna-3.4.0.jar`在你的类路径中

# javascript - 是否可以为 Google Maps Javascript API 请求声明响应地址？

> ID：14746913
> 
> 赞同：0
> 
> 时间：2013-02-07T08:42:30.800
> 
> 标签：javascript, google-maps, google-maps-api-3

当我说 Google Maps Javascript API 的响应可以由客户端操纵时，与 Google Maps 员工交谈时，他告诉我请求可以由客户端发出，并且答案会直接发送到我的服务器。不幸的是，我找不到声明响应地址的可能性。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T13:14:41.173

AFAIK 没有实施的方法来做到这一点（也许有一个带有营业执照的选项）。

你可以做什么：设置一个服务器端脚本，当响应到达时将立即（通过 ajax）调用并将响应传递给该脚本。您现在可以将原始响应存储在服务器上，并且不必再信任来自客户端的数据。（当然，如果有经验的用户愿意，这也可能会被拦截）

# html - CSS 样式和内联样式在 Outlook 2007 中不起作用

> ID：14746916
> 
> 赞同：1
> 
> 时间：2013-02-07T08:42:49.680
> 
> 标签：html, css

我有一个 html 时事通讯页面。我需要将其发送到给定的邮件 ID。在 Outlook 中，我看不到样式化的 html 页面，但在浏览器 css 和内联样式中效果很好。那么为什么在 Outlook 中不能使用内联或 Css 样式呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T09:21:58.653

为了获得良好的交叉兼容性，明智的做法是采用上个世纪的网络实践。

使用表格进行结构、内联样式、使用像素测量并为图像失败做好准备。

这些基础知识为大多数客户提供了可靠的结果。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T09:46:11.953

最好也避免使用背景图像，因为它们在 Outlook 中也不起作用。

# python - 是否可以在没有安装 Iron python 的 PC 上运行编译好的 Iron python 脚本？

> ID：14746917
> 
> 赞同：0
> 
> 时间：2013-02-07T08:42:53.127
> 
> 标签：python, ironpython, exe

我正在使用 pyc 工具将 IronPython 脚本编译为可执行文件，但它们可以在没有安装 IronPython 的情况下运行吗？如果是这样，我必须包括什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T08:44:24.297

是的，您可以在其他 PC 上运行它，而无需安装 IronPy 或 Visual Studi（ergo，即兴发挥）。有时您可能需要用于编译应用程序的 Windows 运行时库，但除此之外.. 是的，您可以在任何其他 Windows PC 上执行它，与您编译它的 PC 相同。（例如，在 win7 上编译很可能会立即在 win7 上运行，但不会在没有编译机上使用的运行时库的 XP 上运行）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:45:55.463

我认为使用 py2exe 和 .net 框架

# c# - 带有汉字的PDFSharp

> ID：14746920
> 
> 赞同：3
> 
> 时间：2013-02-07T08:43:09.787
> 
> 标签：c#, pdf, character, pdfsharp

我在 C# 中的 PDFSharp 中显示中文字符时遇到问题。在创建 PDF 字符串的过程中可以，但是在创建 pdf 文件后它不显示它。我找到了一种解决方案

```
XFont font_small2 = new XFont("微软雅黑", 9, XFontStyle.Regular, options) 
```

该解决方案适用于我的本地主机，但是当我在 beta 服务器上发布它时，它不显示中文字符。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-25T04:24:38.663

您可以将原始中文字体嵌入到您的pdf文件中并使用正确的CMAP。

```
var options = new XPdfFontOptions(PdfFontEmbedding.Always);
var font = new XFont("微软雅黑", 9, XFontStyle.Regular, options); 
```

或者

```
var page = new PdfPage();
var gfx = XGraphics.FromPdfPage(page);
gfx.MFEH = PdfFontEmbedding.Automatic; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:55:01.313

确保字体在 beta 服务器上正确安装，并确保应用程序具有足够的权限。确保字体嵌入在 PDF 文件中。

根据 PDFsharp FAQ，不支持 CJK 字体。但是，如果环境设置正确，您仍然应该在服务器和本地计算机上获得相同的结果。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-12-16T15:53:27.697

这两种解决方案都不适用于较新版本的库，所以我想出了一个解决方法，将字符绘制到位图，然后将位图添加到 PDF：

```
 Font font = GetFont(fieldInfo, fontSize * 0.97f); // Chosen empirically
        using (var imageStream = new MemoryStream())
        {
            // Draw string as an image
            using (var bitmap = new Bitmap((int) fieldRect.Width, (int) (fieldRect.Height * 1.5f)))
            using (Graphics graphics = Graphics.FromImage(bitmap))
            {
                graphics.TextRenderingHint = System.Drawing.Text.TextRenderingHint.AntiAlias;
                graphics.DrawString(fieldValue, font, Brushes.Black, PointF.Empty);
                bitmap.Save(imageStream, ImageFormat.Png);
            }

            // Draw image on PDF
            using (XImage xImage = XImage.FromStream(imageStream))
            {
                double labelPositionX = fieldRect.X1 + 2;
                double labelPositionY = fieldRect.Y2 - 2;
                xGraphics.DrawImage(xImage, labelPositionX, page.Height - labelPositionY);
            }
        } 
```

# android - 在下面的谷歌代码示例中使用 Handler 执行回调的目的是什么

> ID：14746925
> 
> 赞同：1
> 
> 时间：2013-02-07T08:43:32.767
> 
> 标签：android

我参考了[谷歌的应用内购买示例代码中的以下代码](http://developer.android.com/training/in-app-billing/preparing-iab-app.html#GetSample)

```
/**
 * Asynchronous wrapper for inventory query. This will perform an inventory
 * query as described in {@link #queryInventory}, but will do so asynchronously
 * and call back the specified listener upon completion. This method is safe to
 * call from a UI thread.
 *
 * @param querySkuDetails as in {@link #queryInventory}
 * @param moreSkus as in {@link #queryInventory}
 * @param listener The listener to notify when the refresh operation completes.
 */
public void queryInventoryAsync(final boolean querySkuDetails,
                           final List<String> moreSkus,
                           final QueryInventoryFinishedListener listener) {
    final Handler handler = new Handler();
    checkSetupDone("queryInventory");
    flagStartAsync("refresh inventory");
    (new Thread(new Runnable() {
        public void run() {
            IabResult result = new IabResult(BILLING_RESPONSE_RESULT_OK, "Inventory refresh successful.");
            Inventory inv = null;
            try {
                inv = queryInventory(querySkuDetails, moreSkus);
            }
            catch (IabException ex) {
                result = ex.getResult();
            }

            flagEndAsync();

            final IabResult result_f = result;
            final Inventory inv_f = inv;
            handler.post(new Runnable() {
                public void run() {
                    listener.onQueryInventoryFinished(result_f, inv_f);
                }
            });
        }
    })).start();
} 
```

让我感到疑惑的是，为什么我们需要一个`Handler`来执行`onQueryInventoryFinished`回调？为什么我们不能让新创建的线程直接执行函数呢？

```
 final IabResult result_f = result;
            final Inventory inv_f = inv;
            listener.onQueryInventoryFinished(result_f, inv_f); 
```

除非是那个原因，否则我们想`onQueryInventoryFinished`使用 UI 线程来执行。但是，这是不正确的。代码示例是`Handler`通过空参数构造函数创建的。就好像我们想使用 UI 线程执行它一样，我们假设通过创建我们`Handler`的

```
Handler handler = new Handler(Looper.getMainLooper()); 
```

我可以知道，`Handler`在上面的谷歌代码示例中，有什么特别的理由可以用来执行回调吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:55:54.857

处理程序将在创建它的线程上运行/处理您发送给它的 Runnables 和消息。它是一个方便的工具，可以通过在 Android 上传递消息来进行适当的线程间通信。

从您粘贴的代码中，尚不清楚哪个线程执行此方法。它很可能是 UI 线程，在这种情况下，创建的 Handler 将在 UI 线程上执行传递的 Runnable。否则，我认为开发人员只想确保异步任务在启动任务的同一线程上通知调用者其完成状态。

# ruby-on-rails - 在后台进程中运行 rails -windows

> ID：14746931
> 
> 赞同：3
> 
> 时间：2013-02-07T08:43:47.380
> 
> 标签：ruby-on-rails, windows, ruby-on-rails-3.2, detach

我在 windows pc 上的 rails 安装程序上创建了一个桌面浏览器应用程序。现在我正在尝试运行`rails s -p3001 -e production -d`。它不在电脑上运行。

如何分离windows pc上的应用程序服务器进程？

这是错误

```
=> Booting Thin
 > Rails 3.2.7 application starting in production on http://0.0.0.0:3000
C:/ibt/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/activesupport-3.2.7/lib
/active_support/core_ext/process/daemon.rb:3:in `fork': fork() function is unimp
lemented on this machine (NotImplementedError)
    from C:/ibt/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/activesupp
 ort-3.2.7/lib/active_support/core_ext/process/daemon.rb:3:in `daemon'
    from C:/ibt/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/rack-1.4.1
/lib/rack/server.rb:314:in `daemonize_app'
    from C:/ibt/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/rack-1.4.1
 /lib/rack/server.rb:254:in `start'
    from C:/ibt/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/railties-3
.2.7/lib/rails/commands/server.rb:70:in `start'
from C:/ibt/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/railties-3
2.7/lib/rails/commands.rb:55:in `block in <top (required)>'
    from C:/ibt/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/railties-3
2.7/lib/rails/commands.rb:50:in `tap'
    from C:/ibt/RailsInstaller/Ruby1.9.3/lib/ruby/gems/1.9.1/gems/railties-3
.2.7/lib/rails/commands.rb:50:in `<top (required)>'
     from script/rails:6:in `require'
     from script/rails:6:in `<main>' 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T10:10:59.970

错误信息说得很清楚：`fork() function is unimp lemented on this machine (NotImplementedError)`.

rails server 被守护的方式是通过调用`fork system call`机器上的。这是来自 rails repo 的相关代码：[`exit if fork`](https://github.com/rails/rails/blob/3-2-stable/activesupport/lib/active_support/core_ext/process/daemon.rb#L3)

它在 Windows pc 上失败，因为`Windows Operating System`没有实现`fork`系统调用。

一种选择可能是安装`Cygwin`在 windows pc 上，如[windows has to fork() 的最接近的东西是什么的答案中所建议的那样？](https://stackoverflow.com/a/985374/429758)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-12T09:52:57.317

I have solved this question with reference of the link :: [run rails in background process -windows](https://stackoverflow.com/questions/7630512/how-do-i-install-this-service-wrapper-for-mongrel-rails-on-my-windows-server)

Thanks for the answers Murthy

# python - Python - 对来自外部文本文件的数据进行冒泡排序

> ID：14746933
> 
> 赞同：-1
> 
> 时间：2013-02-07T08:43:52.190
> 
> 标签：python, algorithm, file, text, bubble-sort

我开发了一个简单的冒泡排序算法，当变量 myList = 说，[1,4,2,3,5] 时有效，但我需要从外部文本文件加载文本。这就是我所拥有的。

```
#New Bubble sort
f = open('Users/Luke/Dropbox/Programming/numbers.txt', 'r')
my_list = f.read()
print(my_list)
length = len(my_list)

for i in range(length):
    for j in range(length-1):
        if my_list[j] > my_list[j+1]:
            my_list[j], my_list[j+1] = my_list[j+1], my_list[j]
            print(my_list)

f.close() 
```

这给我带来了：

```
FileNotFoundError: [Errno 2] No such file or directory: 'Users/Luke/Dropbox/Programming/numbers.txt' 
```

该目录确实存在，并且我尝试了不同的变体（反/前斜杠，包括'C：/'）等。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:48:23.860

你错过了第一个'/' `/Users/Luke/Dropbox/Programming/numbers.txt`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T13:29:13.197

You should use os.path Specificaly: os.path.join This function handles path delimiters for you, so it will be always correct independent from os.

Like:

from os import path
my_path = path.join('Users', 'Luke', 'Dropbox', 'Programming', 'numbers.txt')

For further info, see: [http://docs.python.org/2/library/os.path.html](http://docs.python.org/2/library/os.path.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-07T08:49:09.707

您需要反斜杠而不是正斜杠，如下所示：

`file = open('C:\\Users\\Luke\\Dropbox\\Programming\\numbers.txt' ,'r')`

而且由于反斜杠是转义字符，因此需要添加其中两个（第一个转义第二个）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-07T08:50:00.280

你可能需要类似的东西：

```
'C:\\Users\\Luke\\Dropbox\\Programming\\numbers.txt' 
```

或者

```
r'C:\Users\Luke\Dropbox\Programming\numbers.txt' 
```

记住`'\'`是 Python 中的转义字符。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-07T09:00:24.287

要获得文件的绝对确定路径：

*   转到文件，`ctrl`+`right-click`然后从菜单中选择“复制为路径”。

*   或者打开文件属性并获取其文件夹名称，然后您可以将其名称组合在一起以获得完整路径。

*   或者您可以创建一个快捷方式，然后查看快捷方式的属性以查看目标位置。

*   或者您可以将文件拖到打开的控制台中，然后查看显示的路径。

换句话说，这不应该是一个确定的问题......

要在您的程序中处理这个问题，以防它可以输入，请检查`os.path.exists(path)`

# azure - 我可以确定一旦提出 Azure 角色停止，该角色就不会在同一进程中重新运行吗？

> ID：14746940
> 
> 赞同：0
> 
> 时间：2013-02-07T08:44:15.450
> 
> 标签：azure

Azure 角色具有`RoleEnvironment.Stopping`在角色停止时引发的事件。我在一些不相关的代码中发现了一些问题，在角色停止的情况下需要特殊处理。就像是：

```
public class SomeFarAwayClass {
  void someFarAwayFunction()
     if( roleIsBeingStopped ) {
         workSpecially();
     } else {
        workUsually();
     }
  }
} 
```

现在我想订阅`RoleEnvironment.Stopping`并在事件处理程序中`roleIsBeingStopped`永久提升。像这样的东西：

```
public class SomeFarAwayClass {
  //
  private static bool roleIsBeingStopped = false;
  public void SetBeingStopped() { roleIsBeingStopped = true; }
}

class MyRoleClass : RoleEntryPoint {
    overribe bool OnStart()
    {
        RoleEnvironment.Stopping += stopping;
        return base.OnStart();
    }

    void stopping(object sender, RoleEnvironmentStoppingEventArgs args)
    {
        SomeFarAwayClass.SetBeingStopped();
    }
} 
```

这个解决方案意味着角色永远不会在同一个进程中重新启动，否则我需要在某个时候重置标志。到目前为止，我从未见过 Azure 角色在同一个进程中重新启动，每次都是一个新进程。

我可以确定一旦提出 Azure 角色停止，该角色就不会在同一进程中重新运行吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T09:13:19.583

我认为您可能可以，但同时您不需要这样做，因为您还可以使用 OnStart 调用来重新设置标志。我通常更喜欢不依赖我不需要的东西（其中有很多！），这是我个人会避免的。

# java - javafx listview 项目顺序

> ID：14746946
> 
> 赞同：2
> 
> 时间：2013-02-07T08:44:45.150
> 
> 标签：java, listview, javafx

我在使用 JavaFX 的 ListView 项目时遇到问题。问题是我找不到在运行时重新排序它们的方法。只需用鼠标拖动项目。我还想更改底层 ObservableList 中的项目顺序。

怎么可能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T17:48:25.177

您可以随时更改构成 ListView 基础模型的 ObservableList 的顺序，以更改列表视图项的顺序...

...例如：要使用 Comparator 重新排序列表视图的内容，您可以使用以下内容：

```
javafx.scene.control.ListView<TYPE> listView; // Your ListView, defined somewhere else.

java.util.Collections.sort(listView.getItems(), new java.util.Comparator<TYPE>() {
    @Override
    public int compare(TYPE o1, TYPE o2) {
        // Implement your comparator here.
    }
}); 
```

...而“TYPE”与您的 ListView 实例的类型匹配。

有关列表视图项定义的更多详细信息，请参见[http://docs.oracle.com/javafx/2/api/javafx/scene/control/ListView.html#itemsProperty](http://docs.oracle.com/javafx/2/api/javafx/scene/control/ListView.html#itemsProperty)。您可以随意添加、删除和随机播放项目，ListView 将自动调整其外观...

# oracle - 从表中选择值并创建 oracle 对象

> ID：14746947
> 
> 赞同：0
> 
> 时间：2013-02-07T08:44:46.123
> 
> 标签：oracle, user-defined-types

我想通过从其他表中选择值来将值插入到 oracle 对象类型

表格和插入语句看起来像这样。

```
CREATE TYPE Test_obj AS OBJECT (
  attr1           VARCHAR2(20),
  attr2 VARCHAR2(20),
  attr3 VARCHAR2(25)  );
/

CREATE TABLE resultrow_obj (
  resultrow         Test_obj ,
  RESULTTABLEID    NUMBER(20,0),
  ROWNUMBER NUMBER(20,0) );
  /

  INSERT INTO resultrow_obj VALUES (
  Test_obj (select col1,col2,col3 from Table2 where rownum<=1), 
 1,123 );
 / 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T09:36:22.190

你几乎是对的：

```
SQL> INSERT INTO resultrow_obj
  2  VALUES((SELECT Test_obj('A', 'B', 'C') 
  3            FROM dual WHERE rownum <= 1), 
  4         1, 123);

1 row inserted 
```

# jdbc - aries 事务管理器何时关闭 jdbc 连接？

> ID：14746951
> 
> 赞同：1
> 
> 时间：2013-02-07T08:45:01.353
> 
> 标签：jdbc, apache-camel, xa, fuseesb, aries

我不完全了解 aries 事务管理器在 FUSE ESB 7.1.0 中的工作方式。如果有人可以解释以下情况，我会很高兴。

我在我的包中使用了 jdbc XADataSource (org.postgresql.xa.PGXADataSource)，这就是我所看到的：当在事务路由中处理消息并更改位置时，aries 事务管理器似乎没有关闭 jdbc 连接提交给数据库。连接处于空闲状态。但过了一段时间，它们终于关闭了。

当我尝试使用连接池时，这导致我遇到了很大的问题：应用程序非常快地耗尽了连接池，并且所有打开的连接都处于忙碌状态。

我有关于 aries 事务管理器的下一个问题：

1.  它什么时候关闭 jdbc 连接？
2.  当处理消息并提交更改时，如何告诉它关闭 jdbc 连接？

# c# - 接口与抽象类（在特定情况下）

> ID：14746956
> 
> 赞同：6
> 
> 时间：2013-02-07T08:45:21.853
> 
> 标签：c#, .net

我在这个网站上做了一些搜索以避免重复，但是大多数问题都是关于接口和抽象类之间的抽象比较。

我的问题更多是针对我的具体情况，尤其是我的同事和我，我们不同意相同的方法。

我有 3 节课

1.  节点（文件夹结构中的抽象节点）
2.  文件夹（包含子文件夹和文件）
3.  文件

我们使用复合模式来获取每个用户/组的所有文件夹及其权限

类`Node`，应该是接口还是抽象类？ `Folder`并`File`从节点继承。

在我看来，我认为`Node`应该是一个抽象的，因为`File`不应该有所有的方法，`Folder`例如`AddFolder(Node node)`

我的同事说最好使用接口进行更好的编码。

编辑：我重写了我的节点如下：

```
public abstract class Node 
{
    public string Name { get; set; }
    public string FullName { get; set; }
    public Node Parent { get; set; }

    public List<PermissionEntry> Permissions { get; set; }

    protected Node(string fullName)
    {
        FullName = fullName;
        Permissions = new List<PermissionEntry>();
    }

    public void AssignPermission()
    {
       // some Codes
    }
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-07T08:49:33.467

这里没有正确的答案。这真的归结为这个问题

“是否`Node`有任何与和通用的***实现***？”`File``Folder`

如果答案是*肯定*的，那么需要一个抽象类，可选地带有一个描述其行为的接口

如果答案是*no*，那么您可以将其设为接口，可选择使用 Abstract 基本实现。

所以你看 - 这两种方式基本相同。

* * *

此外，没有什么可以阻止`Folder`添加未定义的不会共享的其他`Node`方法`File`。

例如，

```
public interface INode
{
   void SomethingCommon();
}

public File: INode
{
    public void SomethingCommon(){...}  // I must implement this   
}

public Folder : INode
{
    public void SomethingCommon(){...}  // I must implement this   
    public void AddFolder(string name)
    {
        // File doesnt need this method, its not on the interface!
    }
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-07T08:49:13.390

您拒绝该界面的理由似乎不对。如果是抽象类为什么`File`会有方法，但如果它是接口则没有？`AddFolder``Node`

如果您拥有所有孩子共享的通用功能，您通常会选择创建一个抽象类。在这种情况下，这个通用功能将由抽象基类实现，因此不必在所有子类中实现。

在许多情况下，您甚至同时拥有：

1.  描述合约的接口
2.  实现接口和一些常用功能的抽象类

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-07T08:49:42.513

从你说的......

无论Node是接口还是类，如果它上面有“AddFolder”方法，而File不能实现，那么你的设计就有问题。

问题是，Node 不够抽象，你需要把它缩小到通用接口。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-07T08:53:18.463

您关于为什么 Node 应该是抽象的论点是因为 File 不应该具有与 Folder 相同的方法。为什么使节点成为接口意味着它们将具有相同的方法？INode 可以是 File 和 Folder 都实现的标记接口。如果文件夹具有一组不同的操作（它会自动执行），那么我将为该 IFolder 提供另一个接口，其中定义了这些操作。

从简短的问题来看，我会在这种情况下亲自使用接口，因为通过使用继承，很容易在 Node 上定义 File 将继承的不属于文件的东西。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-07T08:58:57.313

我通常使用这个规则：

如果两个类有一些共同的方法，但它们的实现不同，则使用接口。

如果两个类有一些共同的方法并且它们共享一些共同的实现，则使用抽象类作为基类。

# ruby-on-rails - def self.up, def up, def self.down, def down 是什么意思？

> ID：14746960
> 
> 赞同：6
> 
> 时间：2013-02-07T08:45:29.507
> 
> 标签：ruby-on-rails

有人可以解释一下接下来的事情有什么区别吗？

1.  def self.up
2.  向上定义
3.  def self.down
4.  向下定义

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-07T08:54:36.263

`self.up`并`up`包含迁移时运行的代码`rake db:migrate`。`self.up`是旧版本的`up`. 我不确定他们是什么时候引入的，但是直到 3.0，他们才使用`self.up`.

`self.down`并且`down`应该包含反转`up`方法效果的代码。因此，如果您在 上创建了一个表`up`，则应该将该表放在`down`. 这些方法在运行时被调用`rake db:rollback`。

实际上，有一种名为迁移的新方法，`change`如果 Rails 很容易确定与创建表相反的操作，通常会使用该方法。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-07T08:51:41.010

`def self.up`是类方法（您可以将其发送给类：）`Klass.up`，`def up`是普通方法（您可以将其发送给对象）。下也一样。

# xna - 无边框窗口单机游戏

> ID：14746964
> 
> 赞同：3
> 
> 时间：2013-02-07T08:45:47.307
> 
> 标签：xna, monogame, borderless

我正在尝试将 XNA 游戏移植到 MonoGame。我只想针对 Windows 平台。我想在无边框窗口中显示游戏。我在我的 XNA 游戏中这样做：

```
private void SetForm()
    {
        Form myForm = (Form)Form.FromHandle(this.Window.Handle);
        myForm.Name = "WIPForm";            
        int width = 1024;
        int height = 768;           
        IntPtr auxptr = (this.Window.Handle);
        SafeNativeMethods.MoveWindow(
            (int)auxptr,
            0,
            0,
            Properties.Settings.Default.width,
            Properties.Settings.Default.height,
            1);
        myForm.FormBorderStyle = FormBorderStyle.None;
        myForm.SetBounds(0, 0, width, height);
    } 
```

当我在 monogame 版本中测试此代码时，myForm = null。单机版有什么办法可以画出无边框的窗口吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-05-07T16:30:37.097

在 MonoGame 游戏类的构造函数中：

放：

```
Window.IsBorderless = true; 
```

根据： [https ://monogame.codeplex.com/discussions/432292](https://monogame.codeplex.com/discussions/432292)

# magento - 通过 CSV 更新 Magento 中的可配置产品

> ID：14746970
> 
> 赞同：1
> 
> 时间：2013-02-07T08:46:05.573
> 
> 标签：magento, csv, import, configurable

我正在制作一个 Magento 网上商店，它使用 CSV 的数据流导入从我们单独的库存管理系统自动创建产品。

首次导入产品时，没有错误，导入过程正常。但是 - 当我再次导入它们以更新库存、描述等时，可配置产品给了我这个错误：

```
SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '875-135' for key 'UNQ_CATALOG_PRODUCT_SUPER_ATTRIBUTE_PRODUCT_ID_ATTRIBUTE_ID' 
```

有没有办法让它正确覆盖？

# maven - 构建 Maven 站点时，为什么我的注释处理器运行两次并中断构建？

> ID：14746971
> 
> 赞同：4
> 
> 时间：2013-02-07T08:46:07.620
> 
> 标签：maven, maven-site-plugin

我有一个构建，它使用[注释处理器插件通过](https://code.google.com/p/maven-annotation-plugin/)[Hibernate JPA 2 Metamodel Generator](http://docs.jboss.org/hibernate/stable/jpamodelgen/reference/en-US/html_single/)生成 JPA 标准类。

这在进行 normal 时效果很好`mvn clean package`，但是当我构建站点时，它会失败：

```
[INFO] --- maven-processor-plugin:2.1.0:process (generate-jpa-metamodel) @ phtool-api ---
[INFO] Source directory: C:\jp\esv-projects\phtool\phtool-api\target\generated-sources\jpa added
[INFO] javac option: -cp
[INFO] javac option: ...
[INFO] javac option: -proc:only
[INFO] javac option: -processor
[INFO] javac option: org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor
[INFO] javac option: -d
[INFO] javac option: C:\jp\esv-projects\phtool\phtool-api\target\classes
[INFO] javac option: -s
[INFO] javac option: C:\jp\esv-projects\phtool\phtool-api\target\generated-sources\jpa
[INFO] diagnostic Note: Hibernate JPA 2 Static-Metamodel Generator 1.2.0.Final
[INFO] diagnostic C:\jp\projects\phtool\phtool-api\target\generated-sources\jpa\phtool\impl\resource\ImageImpl_.java:10: error: duplicate c
lass: phtool.impl.resource.ImageImpl_ 
```

我注意到该插件在站点生成期间运行了两次，但我不知道为什么。也许这是一个已知的[Javadoc 插件错误](https://jira.codehaus.org/browse/MJAVADOC-281)？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-05T07:34:58.340

现在通过更改父 POM 解决了这个问题。我不能确切地说出是什么改变解决了这个问题，但这里是我的 POM 中的相关版本：

```
 <groupId>org.bsc.maven</groupId>
      <artifactId>maven-processor-plugin</artifactId>
      <version>2.2.4</version>

      <groupId>org.apache.maven.plugins</groupId>
      <artifactId>maven-compiler-plugin</artifactId>
      <version>3.1</version>

      <groupId>org.apache.maven.plugins</groupId>
      <artifactId>maven-site-plugin</artifactId>
      <version>3.3</version>

      <groupId>org.apache.maven.plugins</groupId>
      <artifactId>maven-javadoc-plugin</artifactId>
      <version>2.9</version> 
```

请注意，Javadoc 插件的版本没有改变！

# javascript - 独立按钮

> ID：14746972
> 
> 赞同：-1
> 
> 时间：2013-02-07T08:46:17.077
> 
> 标签：javascript

我有一个 Javascript 代码，它创建按钮 OnLoad，其属性是从数据库中获取的 ASP 页面的值。但是无论我希望每个按钮执行什么事件，所有其他按钮都会执行此操作，并且它会在显示按钮之前执行。请帮忙...

```
function createButtons(tbID, tbClass, tbType, tbValue, onClick) {
return '\n<input'
                + (tbID ? ' id=\'' + tbID + '\'' : '')
                + (tbClass ? ' class=\'' + tbClass + '\'' : '')
                + (tbType ? ' type=\'' + tbType + '\'' : '')
                + (tbValue ? ' value=\'' + tbValue + '\'' : '')
                + (onClick ? ' onclick=\''+ onClick + '\'':'')
                + '>';

}

function DisplayButtons(cableData) {

var newContent = '';

$.each(cableData, function (i, item) {

newContent += createButtons(item.CommonCable, null, "submit",       item.CommonCable,alert("clicked"));

});

$('#Categories').html(newContent); 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T08:54:24.517

不要在创建按钮的函数调用中调用“alert('clicked')”（或单击按钮时要执行的任何操作），否则它将立即执行。相反，创建一个匿名函数并将调用包装在其中。例如

```
newContent += createButtons(item.CommonCable, null, "submit",       item.CommonCable,"alert('clicked')"); 
```

**编辑：**没有注意到您将按钮构建为 html 文本。在这种情况下，只需将要执行的代码（函数调用）作为文本传递。编辑了上面的代码以反映这一点。

# asp.net - ASP 表与下一列重叠

> ID：14746976
> 
> 赞同：0
> 
> 时间：2013-02-07T08:46:26.807
> 
> 标签：asp.net, html, css

我的桌子布局有问题。正如您在屏幕截图中看到的那样，gridview 中有一个网格视图。您看到的示例有 3 个网格视图，主视图和两个表中的一个。我想将描述放在价格 2 列中并删除第 3 个网格视图。你们能帮我找到让第二个表与下一列重叠的解决方案吗？

谢谢

```
http://img43.imageshack.us/img43/9384/tabelf.jpg

</head>
<body>
    <form id="form1" runat="server">

    <div>
    <asp:GridView ID="GridView1" runat="server" AutoGenerateColumns="False" 
        AutoGenerateDeleteButton="False" AutoGenerateEditButton="False" 
        onrowcancelingedit="GridView1_RowCancelingEdit" 
        onrowdeleting="GridView1_RowDeleting" onrowediting="GridView1_RowEditing" 
        onrowupdating="GridView1_RowUpdating" OnRowCommand="GridView1_RowCommand" style='table-layout: inherit'>
        <Columns>
        <asp:TemplateField HeaderText="Site ID">
            <ItemTemplate>
                <asp:Label ID="lblID" runat="server" Text='<%#Eval("ID") %>'></asp:Label>
         <%--<asp:Label ID="Label1" runat="server" Text='<%# Container.DataItemIndex%>'></asp:Label>--%>
            </ItemTemplate>
        </asp:TemplateField>
        <asp:TemplateField HeaderText="Service Name">
            <ItemTemplate>
                <asp:Label ID="lbl" runat="server" Text='<%#Eval("firstName") %>'></asp:Label>
            </ItemTemplate>
            <EditItemTemplate>
                <asp:TextBox ID="txt" runat="server" Text='<%#Eval("firstName") %>'></asp:TextBox>
            </EditItemTemplate>
        </asp:TemplateField>

        <asp:TemplateField HeaderText="Price 1">
            <ItemTemplate>
                <asp:Label ID="lblPriceOne" runat="server" Text='test'></asp:Label>                              
                <asp:GridView ID="GridView2" runat="server" AutoGenerateColumns="False" 
                    AutoGenerateDeleteButton="False" AutoGenerateEditButton="False">
                     <Columns>
                        <asp:BoundField DataField="lastName" HeaderText="lastName" SortExpression="lastName">
                            <ItemStyle Width="20%"/>
                        </asp:BoundField>
                        <asp:BoundField DataField="firstName" HeaderText="Discription" SortExpression="firstName">
                            <ItemStyle Width="20%" />
                        </asp:BoundField>  
                     </Columns>       
                </asp:GridView>                                                              
            </ItemTemplate>
        </asp:TemplateField>

        <asp:TemplateField HeaderText="Price 2">
            <ItemTemplate>
                <asp:Label ID="lblPriceTwo" runat="server" Text='test2'></asp:Label>
                <asp:GridView ID="GridView3" runat="server" AutoGenerateColumns="False" 
                    AutoGenerateDeleteButton="False" AutoGenerateEditButton="False">
                     <Columns>
                        <asp:BoundField DataField="lastName" HeaderText="lastName" SortExpression="lastName">
                            <ItemStyle Width="20%" />
                        </asp:BoundField>
                        <asp:BoundField DataField="firstName" HeaderText="Discription" SortExpression="firstName">
                            <ItemStyle Width="20%" />
                        </asp:BoundField>                        
                     </Columns>       
                </asp:GridView> 
            </ItemTemplate>
        </asp:TemplateField>        

        <asp:TemplateField HeaderText="">
            <ItemTemplate>
               <asp:Button ID="btnShow" runat="server" Text="Expand" CommandName="Show" CommandArgument='<%# Container.DataItemIndex%>' />
            </ItemTemplate>
        </asp:TemplateField>

        </Columns>

    </asp:GridView>
    </div>
    </form>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T13:11:23.813

有一篇文章可能有用：

[http://www.codeproject.com/Articles/249155/Rows-and-Columns-Merging-in-ASP-NET-GridView-Contr](http://www.codeproject.com/Articles/249155/Rows-and-Columns-Merging-in-ASP-NET-GridView-Contr)

# list - 员工信息.tpl prestashop

> ID：14746978
> 
> 赞同：0
> 
> 时间：2013-02-07T08:46:34.120
> 
> 标签：list, controller, smarty, prestashop

我的问题：我需要在

> admin\themes\default\template\controllers\products\informations.tpl：
> 
> [http://darkplace.pl/wp-content/uploads/2013/02/1111111111.png](http://darkplace.pl/wp-content/uploads/2013/02/1111111111.png)

所以我将代码粘贴到：

> \覆盖\类\Product.php

```
<?php
class Product extends ProductCore
{
public static function getEmployees()
{
  return Db::getInstance()->executeS('
   SELECT `id_employee`, `firstname`, `lastname`
   FROM `'._DB_PREFIX_.'employee`
   WHERE `active` = 1
   ORDER BY `lastname` ASC
  ');
}

}
?> 
```

&&

> admin\themes\default\template\controllers\products\informations.tpl：

```
<select name="id_employee_forward" style="vertical-align: middle;">
 <option value="-1">{l s='-- Choose --'}</option>
 {foreach $employees as $employee}
  <option value="{$employee.id_employee}"> {Tools::substr($employee.firstname, 0, 1)}. {$employee.lastname}</option>
 {/foreach}
 <option value="0">{l s='Someone else'}</option>
</select> 
```

它不起作用我认为我需要在某处引入此代码。

```
$employees = Product::getEmployees(); 
```

但在我自己弄清楚之前，地狱会冻结。就这样。任务4最好。 **请帮我 ！**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-12T13:35:13.767

您需要使用 smarty 分配数据，从您的屏幕截图看来，您需要在位于 /controllers/admin/ 的文件 AdminProductsController.php 中执行此操作

您可以使用以下代码实现此目的。

`$this->context->smarty->assign("employees", Product::getEmployees());`

我会将此代码放在函数中`renderForm()`

# delphi - IntToStr 未声明的标识符错误

> ID：14746979
> 
> 赞同：1
> 
> 时间：2013-02-07T08:46:39.487
> 
> 标签：delphi

我想在备忘录、列表框或其他任何东西中显示某些整数。我已经尝试过备忘录、列表框和 showmessage()，但每个都会引发字符串和整数之间的不兼容错误。

这是它开始出错的地方：

```
Memo1.Lines.Add('Physical Functioning: '+PhysFunc div PhysCount); 
```

PhysFunc 和 PhysCount 是进一步向上计算的整数。我试过了，例如：

```
Memo1.Lines.Add('Physical Functioning: '+IntToStr(PhysFunc div PhysCount)); 
```

和：

```
Memo1.Lines.Add(IntToStr('Physical Functioning: '+PhysFunc div PhysCount)); 
```

和：

```
Memo1.Lines.Add(('Physical Functioning: '+PhysFunc div PhysCount).AsString); 
```

ListBox 和 showmessage() 也是如此。但没有一个工作。IntToStr 返回 E2003 未声明的标识符并且 .AsString 返回错误，整数不包含成员“AsString”。有没有其他选择？

我在 Delphi 中使用 SDI 应用程序 - 这可能是问题吗？

谢谢

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-07T09:00:50.017

您正在调用接收单个参数类型的`Add`方法。您需要连接一个字符串和一个整数。为此，您必须将整数转换为字符串。`TStrings``string`

您尝试使用`IntToStr`这是一种完全合理的方法来做到这一点。但这失败了，因为编译器找不到`IntToStr`. 现在，`IntToStr`在`SysUtils`单元中声明，因此您必须将该单元添加到您的`uses`子句中。

但是，我可能会[`Format`](http://docwiki.embarcadero.com/Libraries/XE3/en/System.SysUtils.Format)在这里使用。就像`IntToStr`，这个函数被声明在`SysUtils`你必须使用的地方。

```
Memo1.Lines.Add(Format('Physical Functioning: %d', [PhysFunc div PhysCount])); 
```

有关格式的更多详细信息，请阅读[格式字符串](http://docwiki.embarcadero.com/Libraries/XE3/en/System.SysUtils.Format#Format_Strings)的文档。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T09:00:14.900

第一行代码不起作用，因为*PhysFunc div PhysCount*是一个整数，它没有转换为字符串。

第二行代码应该可以工作，但我会检查*PhysFunc*和*PhysCount*的实际值。*PhysCount*是否有可能以某种方式等于 0？

第三行代码不起作用，因为*IntToStr*需要整数，而您给了他一个字符串等。

第四行代码不起作用，因为正如您所说，**整数不包含成员“AsString”**

你还说：

*IntToStr 返回 E2003 未声明的标识符*

这也可能是问题所在：两个变量之一未声明。确保它们都在*var*部分中声明。

总结：

1.  检查是否声明了两个变量；
2.  检查评估时*PhysCount*是否<>0。

祝你好运！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-07-11T13:32:37.270

**如果包含SysUtils**，只需查看用途 。

# c# - 自定义键绑定以覆盖现有键绑定

> ID：14746980
> 
> 赞同：0
> 
> 时间：2013-02-07T08:46:50.077
> 
> 标签：c#, javascript, jquery, asp.net-mvc-3, jqgrid

大家好，我正在创建一个带有可编辑 jqGrid（v4.4）的 Web 应用程序，默认情况下，当您处于编辑模式（内联编辑）并按下 Enter 键时，它会调用 jqGrid 的 saveRow 方法，该方法实际上试图保存行。

问题是我一直在使用自定义方式来保存我的行，并且我只在我先做一些其他事情之后才使用 saveRow。

我为 Enter 创建了一个键绑定，如下所示：

```
$(document).keyup(function (e) {
                if (e.keyCode == 13) {
                    if (lastsel) {
                        jQuery('#list').jqGrid('saveRow', lastsel, false, 'clientArray');
                        var rowData = jQuery('#list').jqGrid('getRowData', lastsel);
                        // alert(rowData);
                       // alert(JSON.stringify(rowData));
                        jQuery.post('Home/Save?inputEmployee=', JSON.stringify(rowData));
                        lastsel = false;
                    }
                }
              }); 
```

问题是它既完成了 jqGrid 为绑定定义的操作，也完成了我在上面所做的操作。

在我使用之前，有什么办法可以摆脱之前对 Enter 的绑定？

编辑：我引入了我的 HomeController Save 方法：

```
public void Save(string inputEmployee)
{
    Employee employeeData = JsonConvert.DeserializeObject(inputEmployee.ToString(), typeof(Employee)) as Employee;
    var context = new EmployeeDataContext();
    Employee employee = context.Employees.Single(e => e.ID == employeeData.ID);
    employee = employeeData;
    context.SubmitChanges();
} 
```

所以我所做的是我创建了一个 LINQ to SQL 模型，并使用它的上下文从/向数据库获取/设置数据。所以我想我会传递一个 Employee 字符串化对象作为参数，然后用我的控制器反序列化它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T09:27:48.597

在我看来，您选择的不是实现需求的最佳方式。从您发布的代码中可以看出您想要使用本地编辑（[editRow](http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3ainline_editing#editrow)`url: "clientArray"`的选项），但您还希望在保存行后执行一些*额外的操作。*在这种情况下，最好的选择可能是使用回调。所以调用可能是这样的*`aftersavefunc``editRow`*

 *```
onSelectRow: function (id) {
    var $this = $(this);
    ...
    $this.jqGrid("editRow", id, {
        keys: true,
        url: "clientArray",
        aftersavefunc: function (rowid) {
            $.post("Home/Save",
                JSON.stringify($this.jqGrid("getRowData", rowid)));
        }
    });
    ....
} 
```

我不确定您希望如何将数据发送到`Home/Save`URL。您使用`inputEmployee`了没有任何值的参数。您可以根据您的确切要求调整上面的代码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T09:12:59.870

您可以利用 jQuerys 的 .data() 方法来获取元素的现有事件处理程序

基本上你

*   获取旧的处理程序
*   删除事件
*   添加您自己的处理程序
    *   必要时执行原始处理程序

这是一个例子

```
 var el = $(document)
    el.on("keydown",function (e) {
       console.log("First Event"); //Set the first Handler
    });

    var h = jQuery._data( document, "events" ).keydown[0].handler; //The (first) Handler

    el.off("keydown",h)

    el.on("keydown",function (e) {
        console.log("Second Handler")
        h(e);
    }); 
```

然后[输出看起来像](http://jsfiddle.net/cR98a/)

```
//Second Handler
//First Handler 
```

我记得我曾经这样做过，`el.data("events")`但[似乎已被弃用](https://stackoverflow.com/questions/2518421/jquery-find-events-handlers-registered-with-an-object)*

# php - PHP 5.x 中是否仍然存在增量操作的未定义行为？

> ID：14746983
> 
> 赞同：0
> 
> 时间：2013-02-07T08:47:02.387
> 
> 标签：php

> **可能重复：[echo ++$a + $a++ 的输出应该是什么](https://stackoverflow.com/questions/14118282/what-should-be-the-output-of-echo-a-a)**

此问题针对 PHP 5.x。

在手册中：http: [//php.net/manual/en/language.operators.precedence.php#example-111](http://php.net/manual/en/language.operators.precedence.php#example-111)

```
// mixing ++ and + produces undefined behavior
$a = 1;
echo ++$a + $a++; // may print 4 or 5 
```

结果在什么平台或版本上我可以得到 5？似乎 4 每次都是合乎逻辑且正确的答案。

我知道在 Java 中这不是未定义的行为，所以我想知道这是否也在 PHP 5.x 中解决了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T08:54:19.547

未定义的行为意味着它可能会在 PHP 的未来版本中发生变化，因为运算符优先级的规则对于这种表达式是不明确的。

这并不意味着你会在同一个版本中随机获得 4 或 5 个，如果它在未来发生变化，我会感到惊讶。只是页面上呈现的规则模棱两可。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-07T08:54:13.223

似乎在 php 5.3 中消失了

尝试过：

```
while (true) {
    $a = 1;
    $test = ++$a + $a++;
    if ($test != 4) {
            die ($test);
    }
} 
```

# sql - 数据库 - 如何以不同的刷新率管理大量数据？

> ID：14746988
> 
> 赞同：1
> 
> 时间：2013-02-07T08:47:31.317
> 
> 标签：sql, sql-server, database-design, logging, model

我需要设计一个能够在不同时间尺度上记录不同数据的**Sql 服务器数据库。**

基本上我必须记录的是随时来自大量电池的电池数据。

这是数据库的基本模型。图像上的数据类型不是我使用的那种。

我对它们中的大多数使用 tinyInt（2 个字节）

*   时间为 3 个字节
*   日期为 2 个字节

![数据库基本模型](../Images/916acc07fc5c1d279bd9fc8eed321f4c.png)

所以想象一下：

**每 24 小时**发出 1 个单元报告文件。但：

单元格的每个属性**不会以相同的频率刷新。**

例如 ：

*   时间属性每秒刷新一次
*   安培属性每秒刷新一次
*   Temp1 属性每分钟刷新一次
*   每天刷新日期

并且该单元**多年来一直在报告 24/7。**

如果全世界有 1000 个电池链接到数据库，每个电池有 20 个电池。

20 000 个细胞报告 24/7

**所以这里是问题：**

如果只有一个属性更改，我不希望重新存储整行。如果是这样，对于 20 000 个细胞，我需要 1To 一年。（这是使用 Null 存储而不是未刷新的值）。

我希望解释足够清楚，不要犹豫，询问更多信息

像往常一样，我为我的英语道歉：/

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T10:46:39.727

您每秒需要 20k 次插入，这当然是可行的，但它显示了这是多少数据。以这种速度批量插入完全没有问题，但是您还必须将数据保留一段时间。这将是*很多*行和 TB。

我会考虑以自定义格式存储它：您可以在每个电池和每小时存储一个二进制 blob。在那个 blob 中，您可以随意对更改进行编码。您可以通过根本不存储它们来非常有效地存储不变的列。您还可以在存储之前压缩 blob。

该方案仍然为您提供电池和时间的索引。只是时间分辨率降低到一小时。您的应用必须解码 blob 并从中提取所需的数据。

数据将很容易压缩，因为它是如此冗余。对于压缩，有非常快的方案，如 LZO、LZ4 和 QuickLZ。您可以使用 7z 之类的东西获得更多压缩。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-07T10:05:06.797

可能是一个带有`Key`和`Value`列的简单表格。

例如。

```
RowID  BattID  Dt                   Key   Value
1      1       07/02/2013 10:00:01  Amps  1.852
2      1       07/02/2013 10:00:02  Amps  1.809
3      1       07/02/2013 10:00:03  Amps  1.758
4      1       07/02/2013 10:00:03  Tmp1  18.4
5      1       07/02/2013 10:00:04  Amps  1.725 
```

键的数据类型可以是 tinyint 以节省空间。

一旦你有了这些数据，只要索引是正确的，你就可以使用 PIVOT 查询来重新构建你想要的数据。

# c# - 如何在数据表中追加数据

> ID：14746990
> 
> 赞同：0
> 
> 时间：2013-02-07T08:47:38.417
> 
> 标签：c#, asp.net, gridview, datatable

我有两个文本框和一个按钮。在按钮单击事件中，我将文本框中捕获的值添加为我的 grdiview 中的新行。现在我想要的是当我的页面再次加载时，我的 gridview 将显示我添加到其中的现有数据并在不使用数据库的情况下追加新记录。

**这是我的代码：**

```
private void BindGrid(int rowcount)
{
    DataTable dt = new DataTable();
    DataRow dr;

    dt.Columns.Add("First Name", typeof(String));
    dt.Columns.Add("Last Name", typeof(String));

    if (ViewState["CurrentData"] != null)
    {
        for (int i = 0; i < rowcount + 1; i++)
        {
            dt = (DataTable)ViewState["CurrentData"];
            if (dt.Rows.Count > 0)
            {
                dr = dt.NewRow();
                dr[0] = dt.Rows[0][0].ToString();

            }
        }
        dr = dt.NewRow();
        dr[0] = TextBox1.Text;
        dr[1] = TextBox2.Text;
        dt.Rows.Add(dr);
    }
    else
    {
        dr = dt.NewRow();
        dr[0] = TextBox1.Text;
        dr[1] = TextBox2.Text;

        dt.Rows.Add(dr);
    }

    // If ViewState has a data then use the value as the DataSource
    if (ViewState["CurrentData"] != null)
    {
        GridView1.DataSource = (DataTable)ViewState["CurrentData"];
        GridView1.DataBind();
    }
    else
    {
        // Bind GridView with the initial data assocaited in the DataTable
        GridView1.DataSource = dt;
        GridView1.DataBind();
    }
    // Store the DataTable in ViewState to retain the values
    ViewState["CurrentData"] = dt;
} 
```

**按钮点击事件：**

```
protected void Button1_Click(object sender, EventArgs e)
{
    // Check if the ViewState has a data assoiciated within it. If
    if (ViewState["CurrentData"] != null)
    {
        DataTable dt = (DataTable)ViewState["CurrentData"];
        int count = dt.Rows.Count;
        BindGrid(count);
    }
    else
    {
        BindGrid(1);
    }
    TextBox1.Text = string.Empty;
    TextBox2.Text = string.Empty;
    TextBox1.Focus();
} 
```

这是我的 ASPX 页面：

```
<%@ Page Language="C#" AutoEventWireup="true" CodeFile="Default2.aspx.cs"   Inherits="Default2" %>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml">
    <head runat="server">
        <title></title>
     </head>
    <body>
        <form id="form1" runat="server">
       <div>

        <asp:TextBox ID="TextBox1" runat="server"/>&nbsp;&nbsp;&nbsp;&nbsp;
        <asp:TextBox ID="TextBox2" runat="server"/>&nbsp;&nbsp;&nbsp;&nbsp;
        <asp:Button ID="Button1" runat="server" Text="Add" OnClick="Button1_Click" />
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<asp:GridView          ID="GridView1" runat="server" CellPadding="4" ForeColor="#333333" 
            GridLines="None" > <AlternatingRowStyle BackColor="White" />
            <EditRowStyle BackColor="#2461BF" />
         <FooterStyle BackColor="#507CD1" Font-Bold="True" ForeColor="White" />
        <HeaderStyle BackColor="#507CD1" Font-Bold="True" ForeColor="White" />
         <PagerStyle BackColor="#2461BF" ForeColor="White" HorizontalAlign="Center" />
        <RowStyle BackColor="#EFF3FB" />
        <SelectedRowStyle BackColor="#D1DDF1" Font-Bold="True" ForeColor="#333333" />
        <SortedAscendingCellStyle BackColor="#F5F7FB" />
        <SortedAscendingHeaderStyle BackColor="#6D95E1" />
         <SortedDescendingCellStyle BackColor="#E9EBEF" />
         <SortedDescendingHeaderStyle BackColor="#4870BE" />
       </asp:GridView>

        &nbsp;</div>
        </form>
    </body>
  </html> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-07T09:11:26.213

这是一个适合您的代码

```
private void BindGrid()
{
    GridView1.DataSource = GetDataTable();
    GridView1.DataBind();
}

protected void Button1_Click(object sender, EventArgs e)
{
    DataRow dr;
    DataTable dt = GetDataTable();
    dr = dt.NewRow();
    dr[0] = TextBox1.Text;
    dr[1] = TextBox2.Text;
    dt.Rows.Add(dr);
    ViewState["CurrentData"] = dt;
    TextBox1.Text = string.Empty;
    TextBox2.Text = string.Empty;
    TextBox1.Focus();
    //**updated**
    BindGrid();
}

protected DataTable GetDataTable()
{
    DataTable dt;
    if (ViewState["CurrentData"] != null)
    {
        dt = (DataTable)ViewState["CurrentData"];
    }
    else
    {
        dt = new DataTable();
        dt.Columns.Add("First Name", typeof(String));
        dt.Columns.Add("Last Name", typeof(String));
        //**Update**/
        ViewState["CurrentData"] = dt;
    }
    return dt;
} 
```

`BindGrid`并在页面加载时调用该函数。

## 编辑-1

如果您在访问另一个页面后想要它，那么您应该使用`session`而不是`viewstate`
相应地更改功能

```
protected DataTable GetDataTable()
{
    DataTable dt;
    if (Session["CurrentData"] != null)
    {
        dt = (DataTable)Session["CurrentData"];
    }
    else
    {
        dt = new DataTable();
        dt.Columns.Add("First Name", typeof(String));
        dt.Columns.Add("Last Name", typeof(String));
        Session["CurrentData"] = dt;
    }
    return dt;
} 
```

# iphone - UITextChecker：学习数千个单词的内存问题

> ID：14746992
> 
> 赞同：5
> 
> 时间：2013-02-07T08:47:40.683
> 
> 标签：iphone, ios, memory-management, csv

我正在尝试解析医学词典（.csv 文件），然后通过`UITextChecker`: learnword 方法学习所有这些单词，以便拼写检查器将这些医学术语批准为有效单词。

我在另一个线程中调用此方法，但 csv 文件中的字数约为 50K。

```
- (void)parseMyCSVFile{

for (int i = 1; i < [csvContent count]; i++) {
    NSString *learntWord = [NSString stringWithFormat:@"%@",[csvContent objectAtIndex:i]];

    NSString *s = learntWord;
    NSCharacterSet *doNotWant = [NSCharacterSet characterSetWithCharactersInString:@" ()\n\""];
    s = [[s componentsSeparatedByCharactersInSet: doNotWant] componentsJoinedByString: @""];

    if ([UITextChecker hasLearnedWord:s]){

        NSLog(@"skipped");

    }
    else
    {
        [UITextChecker learnWord:s]; // Memory Issue Here
        NSLog(@"learning");
    }

    HUD.detailsLabelText = [NSString stringWithFormat:@"%i of %i",i,[csvContent count]];
}

[self performSelectorOnMainThread:@selector(bgWorkEnded) withObject:nil waitUntilDone:YES];

} 
```

我应用了 Instruments Time Profiler，发现问题出在我在循环内学习单词的那一行。

该应用程序尝试加载字典直到 5000 个单词（大约）然后崩溃。

任何帮助，将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-06-19T06:40:39.563

你不能在后台线程上调用 UIKit 类方法——这**会**导致崩溃。此外，您**必须**在方法内创建一个自动释放池，以免泄漏任何对象。由于 UITextChecker 必须在主线程上使用，我建议一次只添加几个单词，然后返回运行循环，这样您就不会停止应用程序。在此过程中向用户显示一个微调器，以便他们知道它在做什么。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-19T07:18:56.863

只需更改 i = 0 的值。这将对您有所帮助。例如：

```
for (i=0; i<[csvContent count]; i++) 
```

# javascript - 从谷歌街道获取点的坐标

> ID：14746993
> 
> 赞同：1
> 
> 时间：2013-02-07T08:48:01.780
> 
> 标签：javascript, google-maps, google-maps-api-3

我在 javascript 中使用谷歌地图 api，当我不在谷歌街道模式时，我正在使用此代码来获取一个点的纬度/经度：

```
 function addClickListener() {
        google.maps.event.addListenerOnce(map, "click", function (event) {
            var latFromMap = event.latLng.lat();
            var lngFromMap = event.latLng.lng();
            // populate yor box/field with lat, lng
            document.getElementById("lat").value = latFromMap;
            document.getElementById("long").value = lngFromMap;
        });
    } 
```

它工作得很好，但我想在谷歌街道模式下有一个选项来获取坐标，所以我可以点击一个点，我会像我在常规地图中知道的那样得到纬度/经度...有人知道它是否可能？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-07T11:00:35.843

街景没有点击事件，但您可以观察保存地图的节点的点击事件，并在发生时检查街景是否可见：

```
 google.maps.event.addDomListener(map.getDiv(), 'click', function(){
          if(map.getStreetView().getVisible()){
            //streetview is selected,do something
            alert(map.getStreetView().getPosition().toString());
          }
        }); 
```

注意：这将为您提供街景的位置，在街景模式下可能无法检索点击事件的确切坐标，因为这需要投影，而该投影不可用。

# caching - 如何在 Adob e CQ 5 中关闭缓存 CSS

> ID：14746996
> 
> 赞同：0
> 
> 时间：2013-02-07T08:48:13.080
> 
> 标签：caching, content-management-system, aem

Adobe CQ 正在为我正在构建的组件缓存我的 css。我创建了一个 clientlibs 文件夹来将 CSS 添加到组件中。接下来，我使用

```
<cq:includeClientLib categories="includes" /> 
```

标记以在我的 jsp 中包含 CSS。

如何禁用缓存，CQ 中的 CSS。（我已经清除了浏览器缓存，这不是浏览器缓存问题）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-03-06T05:37:57.273

这些只是我清除服务器缓存的两种常用方法。希望它可以帮助某人。

## 调度程序刷新

* * *

导航到[http://yourdomain.com:4502/etc/replication/agents.author/flush.html](http://yourdomain.com:4502/etc/replication/agents.author/flush.html) 并单击`Test Connection`。

## 使调度程序缓存无效（[源](http://dev.day.com/docs/en/cq/current/deploying/dispatcher/page_invalidate.html#Manually)）

* * *

1.  打开 AEM 工具控制台。( [http://yourdomain.com:4502/miscadmin#/etc](http://yourdomain.com:4502/miscadmin#/etc) )

2.  在作者的工具/复制/代理下打开所需的复制代理。您可以使用默认安装的 Dispatcher Flush 代理。

3.  单击编辑，并在设置选项卡中确保选择启用。

4.  在 Transport 选项卡上，输入访问 Dispatcher 所需的 URI。如果您使用标准 Dispatcher Flush 代理，您可能需要更新主机名和端口；例如，http://:/dispatcher/invalidate.cache

    单击确定以激活代理。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-11T09:40:54.217

要禁用 clientlib 机制，请导航到 felix 控制台 yourhost:port/system/console/configMgr

搜索“ **HTML 库管理器**”选中“调试”并保存。

现在所有 CSS 和 JS 资产都作为单个文件提供。此外，所有缓存都无效。请求您的页面一次，完成后关闭“调试”模式。

大多数情况下，这有助于缓存文件。我不建议将其用于生产系统！

如果您通过在其他客户端库中的“嵌入”语句编译客户端库，请编辑 css.txt 文件并附加注释行。同时删除 var/clientlibs/etc 下的缓存客户端库

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-01-10T12:46:59.263

如果您将 CQ5 与 LESS（已包含在内）一起使用，则可以在开发人员控制台中执行以下操作：

```
localStorage.clear() 
```

这将删除您的 LESS 缓存。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-12T21:51:19.413

以下是如何在 AEM 6.1 上执行此操作

在 AEM-Author 上，您可以启用“Dispatcher Flush”代理以使 AEM 发布实例上的缓存无效。

URI 将是这样的： [http://txpubt01:80/dispatcher/invalidate.cache](http://txpubt01:80/dispatcher/invalidate.cache)

其中“txpubt01”是发布实例服务器；“80”是 Apache 在“txpubt01 服务器”上运行的端口。

[![管理复制代理的主页](../Images/769489dcd474ac3103062a7c13ff3029.png)](https://i.stack.imgur.com/fSozX.jpg)

[![作者代理](../Images/114fec5b1c93ff477445adfb08951c06.png)](https://i.stack.imgur.com/WJ6nC.jpg)

[![调度程序刷新](../Images/d332d23d58c45987ec4ddfa3bf2569c7.png)](https://i.stack.imgur.com/7ADdA.jpg)

# windows-phone-8 - windows phone 8 应用程序开发中如何将数据迁移到新数据库？

> ID：14746998
> 
> 赞同：0
> 
> 时间：2013-02-07T08:48:19.367
> 
> 标签：windows-phone-8

我在 msdn 网站上搜索过，但没有可用的示例......你能告诉我如何进行迁移吗？``

# ios - 当恢复我的应用程序时，所有子视图都像渲染了两次

> ID：14746999
> 
> 赞同：0
> 
> 时间：2013-02-07T08:48:19.847
> 
> 标签：ios

我在 iOS6 上开发，遇到一个奇怪的问题。
有时当我按下主页按钮并等待一段时间时，恢复我的应用程序会看到所有子视图都被渲染了两次。
当我打印日志时，发现之前调用`applicationWillEnterForeground`了所有子视图`drawRect`，但我不知道是谁做的。
查了ViewController的生命周期，还是不能解释，谁能帮忙？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-07T09:21:19.817

好吧，操作系统为你做了很多工作。如果它必须在后台释放渲染的东西，我并不感到惊讶。然后它会在需要时重新绘制。

您可以检查是否正在调用 setNeedsLayout 和 setNeedsDisplay 和/或框架是否更改。