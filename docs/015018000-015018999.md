# StackOverflow 问答 15018000-15018999

# c# - 是否可以将 null(" ") 值插入数据库中的日期时间字段

> ID：15018003
> 
> 赞同：-2
> 
> 时间：2013-02-22T06:13:38.997
> 
> 标签：c#, asp.net, sqldatetime

我有两个字段 DOB（出生日期）和（加入日期）如果用户输入日期，则在数据库中插入->日期，否则插入->空

我已将**属性**定义为

```
 public DateTime DOB
    {
        get;
        set;
    }
    public DateTime DOJ
    {
        get;
        set;
    } 
```

现在在 save_click 事件中

```
 IFormatProvider provider = new System.Globalization.CultureInfo("en-CA", true);
        String datetime = txtDOB.Text.Trim();
        DateTime date = DateTime.Parse(datetime, provider, System.Globalization.DateTimeStyles.NoCurrentDateDefault);
        objEmp.DOB = date;

        provider = new System.Globalization.CultureInfo("en-CA", true);
        datetime = txtDOJ.Text.Trim();
        date = DateTime.Parse(datetime, provider, System.Globalization.DateTimeStyles.NoCurrentDateDefault);
        objEmp.DOJ = date; 
```

**类.cs**

```
 param[7] = new Service.SqlParameter();
        param[7].ParameterName = "@DOB";
        param[7].Value = DOB;
        param[7].SqlDbType = Service.SqlDbType.DateTime;

        param[8] = new Service.SqlParameter();
        param[8].ParameterName = "@DOJ";
        param[8].Value = DOJ;
        param[8].SqlDbType = Service.SqlDbType.DateTime; 
```

我希望当用户没有插入任何日期时，应该插入 null ......但是通过这段代码，我得到一个错误的 **存储过程**

```
@FK_EmployeeTypeID Numeric(18,0),
    @EmployeeName NVARCHAR(50), 
    @CellNo  NVARCHAR(50),  
    @PhNo  NVARCHAR(50),    
    @Address  NVARCHAR(Max),    
    @Email  NVARCHAR(50),   
    @DOB DATETIME,
    @DOJ DATETIME,
    @DOR NVARCHAR(12),
    @Status NVARCHAR(50),
    @Remarks NVARCHAR(Max)

AS
BEGIN
    -- SET NOCOUNT ON added to prevent extra result sets from
    -- interfering with SELECT statements.
    SET NOCOUNT ON;

    -- Insert statements for procedure here
    BEGIN TRY
        BEGIN TRANSACTION Employee_Insert
    INSERT 
    INTO
    Employee
    (
        FK_EmployeeTypeID,
        EmployeeName,   
        CellNo, 
        PhNo,   
        Address,    
        Email,  
        DOB,
        DOJ,
        DOR,
        Status,
        Remarks

    )
    VALUES
    (

        @FK_EmployeeTypeID,
        @EmployeeName,  
        @CellNo,    
        @PhNo,  
        @Address,   
        @Email, 
        @DOB,
        @DOJ,
        @DOR,
        @Status,
        @Remarks
    )

        COMMIT TRANSACTION Employee_Insert
    SELECT '1'
    END TRY
    BEGIN CATCH
        SELECT 'Error : ' + ERROR_MESSAGE()
        ROLLBACK TRANSACTION Employee_Insert
    END CATCH 
```

**网络服务**

```
[WebMethod]
    public string InsUpdDel(string Conn, string ProcName, SqlParameter[] p)
    {
        try
        {
            using (SqlConnection cn = new SqlConnection(Conn))
            {
                if (cn.State == ConnectionState.Open || cn.State == ConnectionState.Broken || cn.State == ConnectionState.Connecting || cn.State == ConnectionState.Executing || cn.State == ConnectionState.Fetching)
                    cn.Close();
                cn.Open();
                SqlCommand cmd = new SqlCommand(ProcName, cn);

                cmd.CommandType = CommandType.StoredProcedure;

                foreach (SqlParameter param in p)
                {
                    cmd.Parameters.Add(param);
                }
                SqlDataReader dr = cmd.ExecuteReader();
                dr.Read();
                if (dr[0].ToString() == "1")
                {
                    return "1";
                }
                else
                {
                    return dr[0].ToString();
                }
                dr.Close();
                cn.Close();
            }
        }
        catch (Exception ex)
        {
            return "Error : " + ex.Message.ToString();
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-14T07:10:07.907

此代码适用于在 sql 的日期时间字段中插入空值

```
cmd.Parameters.AddWithValue("@from_date", SqlDbType.DateTime).Value = DBNull.Value; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T06:21:57.373

首先，您需要检查您的日期列是否接受空值。
如果没有，则允许 null 存在。

然后你可以使用

```
command.Parameters.AddWithValue("@param", DBNull.Value); 
```

结合所有看起来像这样

```
 param[8] = new Service.SqlParameter();
 param[8].ParameterName = "@DOJ";
 param[8].Value = DOJ==null?DBNull.Value:DOJ;
 param[8].SqlDbType = Service.SqlDbType.DateTime; 
```

你的财产应该是这样的

```
public DateTime? DOJ
{
    get;
    set;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T06:22:07.083

您需要进行 3 处更改才能使您的代码正常工作，

**更改 1：**首先将您的 DateTime 变量设置为[DateTime？](http://www.dotnetperls.com/nullable-datetime)

```
public DateTime? DOB { get; set; }
public DateTime? DOJ { get; set; } 
```

**更改 2：**改用 DateTime.TryParse

```
DateTime DOB;
IFormatProvider provider = new System.Globalization.CultureInfo("en-CA", true);
String datetime = txtDOB.Text.Trim();
DateTime.TryParse(datetime, provider, System.Globalization.DateTimeStyles.NoCurrentDateDefault, out DOB);
if (DOB != DateTime.MinValue)
{
    objEmp.DOB = null; 
}
else
{
    objEmp.DOB = date;
} 
```

为司法部做同样的事情。

**更改 3：**此外，当 datetime 的值为 null 时，请确保在将 DOB 的值分配给 sql 参数时进行 null 检查，如果 DOB 为 null 然后分配`DBNull.Value`

*例如 ：*

```
param[7].ParameterName = "@DOB";
if(DOB == null)
{
    param[7].Value = DBNull.Value;
}
else
{
    param[7].Value = DOB;   
}
param[7].SqlDbType = Service.SqlDbType.DateTime; 
```

是的，欢迎来到 Stackoverflow！

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T06:20:13.857

使您的属性可以为空

```
public DateTime? DOB
    {
        get;
        set;
    }
    public DateTime? DOJ
    {
        get;
        set;
    } 
```

让你的代码像这样

```
IFormatProvider provider = new System.Globalization.CultureInfo("en-CA", true);
        String datetime = txtDOB.Text.Trim();

if(DateTime.TryParse(datetime, provider, System.Globalization.DateTimeStyles.NoCurrentDateDefault, out date))
{
  objEmp.DOB = date;
} 
```

# jsp - 用jsp生成图片嵌入的doc文件

> ID：15018009
> 
> 赞同：1
> 
> 时间：2013-02-22T06:14:07.367
> 
> 标签：jsp

我想生成一个带有嵌入图像的 .doc 文件。目前我面临一个问题，即我从我的 jsp 脚本动态生成的文件未在离线模式下显示图像。我想让它们像原始文档一样嵌入，以便可以查看以供离线使用

请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:19:53.483

您可以使用[apache POI](http://poi.apache.org/)生成 doc 文件，并插入图像，例如：

```
String savePath= "c:\\temp\\";  
String docFile= savePath+ "test.doc";  
String imgFile= savePath+ "img.jpg";  

HWPFDocument poiDoc = new HWPFDocument(new FileInputStream(docFile));  
  List picList=poiDoc.getPicturesTable().getAllPictures();  
  Picture picture=(Picture)picList.get(0);  
    try {  
            picture.writeImageContent(new FileOutputStream(imgFile));  
      } catch (FileNotFoundException e) {  
              e.printStackTrace();      
} 
```

# c++ - 构建混合 c/c++ 代码

> ID：15018011
> 
> 赞同：0
> 
> 时间：2013-02-22T06:14:13.163
> 
> 标签：c++, c

我有一个`.cc`同时使用`iostream`和的文件`malloc`。我怎样才能编译它？使用`g++`，它说

```
 error: 'malloc' was not declared in this scope 
```

使用`gcc`，它说

```
 fatal error: iostream: No such file or directory 
```

源代码位于[http://sequitur.info/sequitur_simple.cc](http://sequitur.info/sequitur_simple.cc)

**更新**

我更改`malloc`为`new`并更改`free`为`delete`. 我仍然有很多错误。例如

```
 /usr/include/c++/4.6/new:103:14: error:   initializing argument 2 of âvoid* operator new(std::size_t, void*)â [-fpermissive] 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T06:16:45.430

包括`<stdlib.h>`或包含`<cstdlib>`并更改`malloc`为`std::malloc`- 编译`g++`。包含`<cstdlib>`是新 C++ 代码的**首选方式**，“name.h”样式在 C++ 中已弃用。

**虽然这会解决您的问题，但迁移到`new`/`delete`**可能是一个更好的主意，以便更一致地使用 C++。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T06:17:31.770

您是否尝试过包括

```
#include <stdio.h>      
#include <stdlib.h> 
```

并使用 g++？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T06:20:53.153

在 C++ 代码中使用 new 和 delete。不要混用 new 和 malloc。从您发布的代码来看，AFAIK 没有任何理由您不能使用 new 和 delete

# objective-c - 单文件版本控制最佳实践？

> ID：15018017
> 
> 赞同：1
> 
> 时间：2013-02-22T06:14:38.317
> 
> 标签：objective-c

用户正在通过 NSOpenPanel 选择相当大的单个 XML 文件。该应用程序正在对文件进行适度更改，因此我想包含一个选项，即根据选择的原始文件的目录在子文件夹中创建备份。创建新的子文件夹没问题，但有人有创建上述 foo.xml 备份的好方法吗，是否有这样的做法，或者是否像创建副本并将其重命名为 foo.back01.xml 一样简单？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:50:33.787

不确定，这种方法在多大程度上符合您的要求，但这就是我正在做的，

-- 在系统的临时文件夹中有一个目录：假设一旦应用程序关闭，所有这些文件都将被删除，

-- 要在文件中具有唯一性，使用以下模式生成文件名，有一个函数说 [+(NSString *) generateFileNameForExtension:(NSString *)extension Create:(bool)bCreate]

假设输入是 .xml 和 false ，它可能会给 fileName 这样的东西，

AppName128908765445.xml ，即 [AppName][UTCTimeStamp].[Fileextension]

-- 一旦你认为它完成了，可能会有函数调用 [self addToDeleteList:(NSString *)fileName] 它将添加一个文件到删除列表，

-- 会有一个函数，它会调用一个计时器 1 分钟，并且每隔一分钟它会读取所有文件被添加到删除列表中然后删除它。

如果需要，将与您分享代码...

# java - 短信在android中压缩

> ID：15018020
> 
> 赞同：0
> 
> 时间：2013-02-22T06:14:53.810
> 
> 标签：java, android, sms, compression

我们如何压缩短信以使其在 android 中达到 160 个字符的限制。

1.  有可能吗：[https ://groups.google.com/forum/?fromgroups=#!topic/android-developers/erP922RXvCI](https://groups.google.com/forum/?fromgroups=#!topic/android-developers/erP922RXvCI)

2.  gzip 没用 [输出字符串比输入字符串长。]

3.  LZMA 呢？它有巨大的字典大小。

4.  任何其他可以在这里有用的算法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:20:20.050

一个很好的方法是使用[Huffman coding](http://en.wikipedia.org/wiki/Huffman_coding)。它实现起来很简单，我认为它是最有效的文本编码系统，只看字符频率。如果我要尝试压缩 SMS，我会使用它。您可以相对轻松地实现 50% 的压缩率。

# iphone - 如何摆脱 iPhone 中 UITableView 单元格内内容的覆盖

> ID：15018021
> 
> 赞同：0
> 
> 时间：2013-02-22T06:14:54.997
> 
> 标签：iphone, ios, objective-c

//在表格中显示内容

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath 
{
     [tableView deselectRowAtIndexPath:indexPath animated:NO];
    static NSString *CellIdentifier = @"Cell";      
    UITableViewCell *cell = [tableView       dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier] autorelease];
        cell.selectionStyle=UITableViewCellSelectionStyleNone;
    }

    UIImage  *ibnLogo = [[UIImage imageNamed:@"IBN.jpeg"]autorelease];

    News *news= [[xmlParser newsArray] objectAtIndex:indexPath.row];

    CGRect imageFrame = CGRectMake(2, 8, 40, 40);
    self.customImage = [[[UIImageView alloc] initWithFrame:imageFrame] autorelease];
    self.customImage.image = ibnLogo;
    [cell.contentView addSubview:self.customImage];

    CGRect contentFrame = CGRectMake(45, 2, 265, 30);
    UILabel *contentLabel = [[[UILabel alloc] initWithFrame:contentFrame] autorelease];
    contentLabel.numberOfLines = 2;
    contentLabel.font = [UIFont italicSystemFontOfSize:12];
    contentLabel.text = [news content];
    [cell.contentView addSubview:contentLabel];

    CGRect dateFrame = CGRectMake(45, 40, 265, 10);
    UILabel *dateLabel = [[[UILabel alloc] initWithFrame:dateFrame] autorelease];
    dateLabel.font = [UIFont systemFontOfSize:10];
    dateLabel.text = [news dateCreated];
    [cell.contentView addSubview:dateLabel];

    return cell;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:32:23.920

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath 
    {
         [tableView deselectRowAtIndexPath:indexPath animated:NO];
        static NSString *CellIdentifier = @"Cell";      
        UITableViewCell *cell = [tableView       dequeueReusableCellWithIdentifier:CellIdentifier];
        if (cell == nil) {
            cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier] autorelease];
            cell.selectionStyle=UITableViewCellSelectionStyleNone;

             UIImage  *ibnLogo = [[UIImage imageNamed:@"IBN.jpeg"]autorelease];

        News *news= [[xmlParser newsArray] objectAtIndex:indexPath.row];

        CGRect imageFrame = CGRectMake(2, 8, 40, 40);
        self.customImage = [[[UIImageView alloc] initWithFrame:imageFrame] autorelease];
        self.customImage.image = ibnLogo;
        [cell.contentView addSubview:self.customImage];

        CGRect contentFrame = CGRectMake(45, 2, 265, 30);
        UILabel *contentLabel = [[[UILabel alloc] initWithFrame:contentFrame] autorelease];
        contentLabel.numberOfLines = 2;
        contentLabel.font = [UIFont italicSystemFontOfSize:12];
        contentLabel.text = [news content];
        [cell.contentView addSubview:contentLabel];

        CGRect dateFrame = CGRectMake(45, 40, 265, 10);
        UILabel *dateLabel = [[[UILabel alloc] initWithFrame:dateFrame] autorelease];
        dateLabel.font = [UIFont systemFontOfSize:10];
        dateLabel.text = [news dateCreated];
        [cell.contentView addSubview:dateLabel];

        }

        return cell;
    } 
```

`if (cell == nil)`在Condition之间添加所有元素（组件） 。

# c - 获取地址 IP 并使用套接字连接到它

> ID：15018023
> 
> 赞同：1
> 
> 时间：2013-02-22T06:15:01.477
> 
> 标签：c, sockets, gethostbyname

我正在使用 UNIX 套接字（作为家庭作业的一部分）编写一个 HTTP 客户端。我目前有这个工作代码来连接到给定的 IP 地址：

```
int sockfd = socket(AF_INET, SOCK_STREAM, 0);
char *server_address = "127.0.0.1";
struct sockaddr_in address;
if (sockfd < 0) {
    printf("Unable to open socket\n"); 
    exit(1);
}

// Try to connect to server_address on port PORT
address.sin_family = AF_INET;
address.sin_addr.s_addr = inet_addr(server_address);
address.sin_port = htons(PORT);

if (connect(sockfd, (struct sockaddr*) &address, sizeof(address)) < 0) {
    printf("Unable to connect to host\n");
    exit(1);
} 
```

但是，我现在想修改它，使其`server_address`也可以是不是 IP 的东西，例如“google.com”。我一直在试图弄清楚如何使用 来做到这一点`gethostbyname`，但我遇到了麻烦。

**gethostbyname 是否会同时接受 IP 地址或“google.com”之类的地址并使其正常工作？**（或者我应该先尝试在地址上运行正则表达式，如果它是 IP 地址，则执行其他操作）？

我已尝试使用以下代码尝试使其与“google.com”之类的东西一起使用，但我收到了警告`warning: assignment makes integer from pointer without a cast`

```
struct hostent *host_entity = gethostbyname(server_address);
address.sin_addr.s_addr = host_entity->h_addr_list[0]; 
```

我知道我做错了，但 gethostbyname 文档很糟糕。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T06:32:55.780

你想要的也许是`getaddrinfo(3)`：

```
#include <sys/socket.h>
#include <netdb.h>

static int
resolve(const char *host, const char *port)
{
        struct addrinfo *aires;
        struct addrinfo hints = {0};
        int s = -1;

        hints.ai_family = AF_UNSPEC;
        hints.ai_socktype = SOCK_STREAM;
        hints.ai_flags = 0;
#if defined AI_ADDRCONFIG
        hints.ai_flags |= AI_ADDRCONFIG;
#endif  /* AI_ADDRCONFIG */
#if defined AI_V4MAPPED
        hints.ai_flags |= AI_V4MAPPED;
#endif  /* AI_V4MAPPED */
        hints.ai_protocol = 0;

        if (getaddrinfo(host, port, &hints, &aires) &lt; 0) {
                goto out;
        }
        /* now try them all */
        for (const struct addrinfo *ai = aires;
             ai != NULL &&
                     ((s = socket(ai->ai_family, ai->ai_socktype, 0)) &lt; 0 ||
                      connect(s, ai->ai_addr, ai->ai_addrlen) &lt; 0);
             close(s), s = -1, ai = ai->ai_next);

out:
        freeaddrinfo(aires);
        return s;
} 
```

这个版本让你从主机/端口对中获得一个套接字。它还采用 IP 地址作为主机和服务字符串作为端口。但是，它将已经连接到有问题的主机。

# html - CSS跨浏览器图像对齐问题

> ID：15018024
> 
> 赞同：0
> 
> 时间：2013-02-22T06:15:09.080
> 
> 标签：html, internet-explorer, css, cross-browser

我在肯大学网站上工作，我遇到了跨浏览器的问题。

在 IE 8 中它没有正确显示。但在 Firefox 和 chrome 中它工作正常。

这是我要修复的带有文本框的图像..

这是演示页面。 [http://safijustonline.com/Forms/Student/StudentRegistration.aspx](http://safijustonline.com/Forms/Student/StudentRegistration.aspx)

请在IE和Firefox中检查它..

如何解决这个跨浏览器图像对齐问题？

登录详细信息：

用户名 = alinisar@ken.com 通行证 =123

* * *

更新：

我还在我的主题中添加了 reset.css 文件。

我的代码生成的 HTML：

```
<div id="CPH_Content_TabContainerStudentRegistration_TabPanelMain_Cmb_Shift" class="WindowsStyle" style="display:inline-block;">
<table id="CPH_Content_TabContainerStudentRegistration_TabPanelMain_Cmb_Shift_Cmb_Shift_Table" class="ajax__combobox_inputcontainer" cellspacing="0" cellpadding="0" style="border-width:0px;border-style:None;border-collapse:collapse;display:inline-block;position:relative;top:5px;">
<tbody>
<tr>
<td class="ajax__combobox_textboxcontainer">
<td class="ajax__combobox_buttoncontainer">
<button id="CPH_Content_TabContainerStudentRegistration_TabPanelMain_Cmb_Shift_Cmb_Shift_Button" type="button" style="height: 25px; width: 25px; margin: 0px; padding: 0px; visibility: visible;"></button>
</td>
</tr>
</tbody>
</table>
<ul id="CPH_Content_TabContainerStudentRegistration_TabPanelMain_Cmb_Shift_Cmb_Shift_OptionList" class="ajax__combobox_itemlist" style="display: none; visibility: hidden; z-index: 10000; overflow: hidden; width: 215px; position: absolute; height: 30px;">
<li>Morning</li>
<li>Evening</li>
</ul>
<input id="CPH_Content_TabContainerStudentRegistration_TabPanelMain_Cmb_Shift_Cmb_Shift_HiddenField" type="hidden" value="0" name="ctl00$CPH_Content$TabContainerStudentRegistration$TabPanelMain$Cmb_Shift$Cmb_Shift_HiddenField">
</div> 
```

我的按钮和图像的CSS：

```
.WindowsStyle .ajax__combobox_inputcontainer .ajax__combobox_buttoncontainer button {
    background-image: url("Images/windows-arrow.gif");
    background-position: left top;
    border: 0 none;
    height: 22px;
    margin: -10px 0 0;
    padding: 0;
    width: 22px;
} 
```

按钮顶部的图像。 ![在此处输入图像描述](../Images/05d011fabdbcd30ef20b77a6079ed559.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:11:09.453

您的解决方案很简单：只需添加`display: block`到这些元素样式。它已经解决了 IE 10 上的问题。

未显示的元素`block`不要使用:`padding`和`margin`. 我的建议是，尝试使用内联样式编码的类。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-31T08:33:24.137

你试过位置：相对；或位置：绝对；

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T06:30:26.317

尝试在 Head 部分添加以下元标记

```
<meta http-equiv="X-UA-Compatible" content="IE=8">
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">
<meta http-equiv="X-UA-Compatible" content="chrome=1"> 
```

请记住，顶部的元标记将被优先考虑

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T06:31:54.863

添加这个并尝试

```
 .ajax__combobox_textboxcontainer{
    vertical-align:top;
} 
```

我在IE8中测试过。有用

**[演示](http://jsfiddle.net/uagA3/1/)**

# android - 无法将数据库从版本 2 降级到 1

> ID：15018025
> 
> 赞同：6
> 
> 时间：2013-02-22T06:15:12.087
> 
> 标签：android, database-connection

任何人都可以帮我解决我的代码中发生的这个异常吗？

```
02-10 17:16:32.406: E/AndroidRuntime(8619): android.database.sqlite.SQLiteException: Can't downgrade database from version 2 to 1 
```

我陷入了困境。我真的应该关心这个“数据库版本”吗？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-22T06:19:34.857

假设您正在使用，如果您希望能够在设备上使用比您的代码可以处理的更高版本的数据库运行您的应用程序，则`Android SQLiteOpenHelper`需要覆盖。`onDowngrade`

如果您的数据库模式将要更改（并且通常很有可能），您应该关心这个“数据库版本的事情”。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-16T06:45:40.543

检查您的 Database SqliteOpenHelper 构造函数，如果您在 SQLitehelper （如 ORM）上使用更多，则最后一个参数应该相同

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-07-19T17:52:40.660

我试图将 SQLite 版本 1 更改为 2，因为我必须增加版本才能将新列添加到我的表中（alter）。它运行良好。然后，为了好玩，我尝试将 2 更改为 1，如下所示：

从：

```
public DatabaseHelper(Context context) {super(context, DB_NAME, null, 2);} 
```

至：

```
public DatabaseHelper(Context context) {super(context, DB_NAME, null, 1);} 
```

然后我得到了这个：

```
FATAL EXCEPTION: main
                                                 Process: com.example.android.vocab, PID: 3360
                                                 android.database.sqlite.SQLiteException: Can't downgrade database from version 2 to 1 
```

正如我之前解释过的，我们不能在增加 SQLite 版本后减少它。所以你需要改回`2`或大于`2`：

```
public DatabaseHelper(Context context) {
   super(context, DB_NAME, null, 2);
} 
```

**如果您正在尝试更新您的表格，**可能需要通过`3`not`2`并且每次您需要更新表格时，您都需要**增加版本（而不是减少）**。

如果您真的想降级版本，您可以覆盖`onDowngrade()`@Matthieu 在他的回答中表达的内容。

# mysql - SQL SELECT WHERE NOT IN 从同一个表查询

> ID：15018026
> 
> 赞同：11
> 
> 时间：2013-02-22T06:15:21.263
> 
> 标签：mysql, sql

我遇到以下 SQL 查询和 MySQL 的问题

```
SELECT
  id, cpid, label, cpdatetime
FROM
  mytable AS a
WHERE
  id NOT IN
  (
    SELECT
      id
    FROM
      mytable AS b
    WHERE
      a.label = b.label
    AND
      a.cpdatetime > b.cpdatetime
  )
AND
  label LIKE 'CB%'
AND
  cpid LIKE :cpid
GROUP BY label
ORDER BY cpdatetime ASC 
```

桌子看起来像这样

```
1 | 170.1 | CB55 | 2013-01-01 00:00:01
2 | 135.5 | CB55 | 2013-01-01 00:00:02
3 | 135.6 | CB59 | 2013-01-01 00:00:03
4 | 135.5 | CM43 | 2013-01-01 00:00:04
5 | 135.5 | CB46 | 2013-01-01 00:00:05
6 | 135.7 | CB46 | 2013-01-01 00:00:06
7 | 170.2 | CB46 | 2013-01-01 00:00:07 
```

我希望我的查询返回

```
3 | 135.6 | CB59
5 | 135.5 | CB46 
```

**编辑**

标签是狗/猫，cpids 是临时家庭饲养狗/猫。

狗/猫从一个家庭搬到另一个家庭。

我需要找到属于 :userinput 家庭的狗/猫，但前提是它们以前不在另一个家庭中

我无法更改数据库，只需要按原样处理数据，而且我不是编写应用程序/数据库模式的人。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-22T06:53:05.720

尽量避免使用相关的子查询`LEFT JOIN`：

```
SELECT a.id, a.cpid, a.label, a.cpdatetime
FROM mytable AS a
LEFT JOIN mytable AS b ON a.label = b.label AND a.cpdatetime > b.cpdatetime
WHERE a.label LIKE 'CB%' AND a.cpid LIKE :cpid
  AND b.label IS NULL
GROUP BY a.label
ORDER BY a.cpdatetime ASC 
```

[**小提琴**](http://sqlfiddle.com/#!2/ccccf/20)

如果连接条件失败，则第二个表别名的字段`b`将设置为`NULL`。

或者，使用不相关的子查询：

```
SELECT a.id, a.cpid, a.label, a.cpdatetime
FROM mytable AS a
INNER JOIN (
  SELECT label, MIN(cpdatetime) AS cpdatetime
  FROM mytable
  WHERE label LIKE 'CB%'
  GROUP BY label
) AS b ON a.label = b.label AND a.cpdatetime = b.cpdatetime
WHERE a.cpid LIKE '135%'
ORDER BY a.cpdatetime 
```

首先，您找到每个标签的最小值`cpdatetime`，然后将其与添加附加`cpid`条件的第一个表连接起来。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T06:46:22.763

我认为这确实是您想要做的 - 选择每个标签的最早 ID 的 ID，然后从这些记录中选择具有 135 cpid 和 CB 标签的记录。

```
SELECT
  A.id, cpid, A.label, cpdatetime
FROM
  mytable AS a inner join
 (select id, label from mytable
  group by label
  having min(cpdatetime)) as b
on A.label=B.label and A.id=B.id
WHERE
  A.label LIKE 'CB%'
AND
  cpid LIKE '135%'
GROUP BY A.label
ORDER BY cpdatetime ASC; 
```

[http://sqlfiddle.com/#!2/ccccf/16](http://sqlfiddle.com/#!2/ccccf/16)

# java - 检查回文字符串（java）（新手状态）

> ID：15018030
> 
> 赞同：0
> 
> 时间：2013-02-22T06:15:24.007
> 
> 标签：java, logic, palindrome

我正在尝试检查是否输入了一个字符串，该字符串是否是回文

如果它显示一些积极的东西如果不是......一些消极的东西（无效）

我目前两次都得到无效的答案（无论输入什么）我不太确定 for 循环或布尔语句是否存在问题。

```
 //ACTION FROM BUTTON PERFORMED HERE
private void ButtonActionPerformed(ActionEvent evt) {
    //creating variables
    String myString = textField1.getText();
    int stringLength = myString.length();
    char arrayOne[] = new char[stringLength];
    char arrayTwo[] = new char[stringLength];
    boolean palindrome = false;

    //for loop to setup ARRAY ONE
    for(int i = 0; i < stringLength-1; i++){
        arrayOne[i] = myString.charAt(i);
    }

    //for loop to setup ARRAY TWO
    for(int i = stringLength-1; stringLength-1 > i; i--){
        arrayTwo[i] = myString.charAt(i);
    }

    //for loop checking if array indexes are equivalent in value (char)
    for(int i = 0; i < stringLength-1; i++){
        if(arrayOne[i] != arrayTwo[i]){
            palindrome = false;
        }
        else{
            palindrome = true;
        }
    }

    //assigning text to the text boxes based on boolean palindrome
    if(palindrome == true){
        textField2.setText("Valid");
    }
    if(palindrome ==false){
        textField2.setText("Invalid");
    }
} 
```

}

我想我是血统的评论它

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T06:16:54.710

改变

```
for(int i = stringLength-1; stringLength-1 > i; i--) 
```

至

```
for(int i = 0; i < stringLength-1; i++) 
```

和改变

```
for(int i = stringLength-1; i-1 > 0; i--) 
```

至

```
for(int i = stringLength-1; i-1 >= 0; i--) 
```

**编辑：**

那是一个调试盛宴！

这是一个工作代码：

```
 String myString = textField1.getText();
    int stringLength = myString.length();
    char arrayOne[] = new char[stringLength];
    char arrayTwo[] = new char[stringLength];
    boolean palindrome = true;
    //for loop to setup ARRAY ONE
    for(int i = 0; i <= stringLength-1; i++){
        arrayOne[i] = myString.charAt(i);
    }

    //for loop to setup ARRAY TWO
    for(int i = stringLength-1, pos = 0; i >= 0; i--, pos++){
        arrayTwo[pos] = myString.charAt(i);
    }

    //for loop checking if array indexes are equivalent in value (char)
    for(int i = 0; i <= stringLength-1; i++){
        if(arrayOne[i] != arrayTwo[i]){
            palindrome = false;
            break;
        }
    }

    //assigning text to the text boxes based on boolean palindrome
    if(palindrome == true){
          textField2.setText("Valid");
    }
    else{
        textField2.setText("Invalid");
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T06:24:32.543

我同意关于您的错误的其他答案，但我认为更简洁的解决方案是

```
boolean isPalindrome(String myString) {    
    int n = myString.length;
    for( int i = 0; i < n/2; i++ )
        if (myString.charAt(i) != myString.charAt(n-i-1)) return false;
    return true;    
} 
```

你的代码现在是

```
private void ButtonActionPerformed(ActionEvent evt) {
    String myString = textField1.getText();     
    textField2.setText( isPalindrome(myString) ? "Valid" : "Invalid" );
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T06:18:21.033

这个循环复制除了最后一个可能不是你想要的字符之外的所有字符：

```
//for loop to setup ARRAY ONE
for(int i = 0; i < stringLength-1; i++){
    arrayOne[i] = myString.charAt(i);
} 
```

它可能应该像这样修复：

```
//for loop to setup ARRAY ONE
for(int i = 0; i < stringLength; i++)
{
    arrayOne [i] = myString.charAt (i);
} 
```

这个循环的主体：

```
//for loop to setup ARRAY TWO
for (int i = stringLength-1; stringLength-1 > i; i--)
{
    arrayTwo [i] = myString.charAt (i);
} 
```

`i`永远不会执行，因为:的初始值`stringLength - 1`不满足循环条件：`stringLength - 1 > i`。

您可能应该将其更改为：

```
// For loop to setup ARRAY TWO
for (int i = 0; i < stringLength; i++)
{
    arrayTwo [i] = myString.charAt (stringLength - i - 1);
} 
```

此外，在此循环之后：

```
// for loop checking if array indexes are equivalent in value (char)
for (int i = 0; i < stringLength-1; i++)
{
    if (arrayOne [i] != arrayTwo [i])
    {
        palindrome = false;
    }
    else
    {
        palindrome = true;
    }
} 
```

变量`palindrome`将仅包含最后比较的结果，因此如果除最后一个字符之外的所有字符都不同但最后一个字符相等，`palindrome`那么`true`这可能不是您想要的。可能您应该像这样更改代码：

```
palindrome = true;
for (int i = 0; i < stringLength; i++)
{
    if (arrayOne [i] != arrayTwo [i])
    {
        palindrome = false;
    }
} 
```

请注意，我也更改`stringLength - 1`为`stringLength`，否则您将忽略最后一个字符。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-22T06:20:06.277

```
//for loop to setup ARRAY TWO
for(int i = stringLength-1; stringLength-1 > i; i--){
    arrayTwo[i] = myString.charAt(i);
} 
```

这在第一次迭代后会失败。

您需要将其更改为：

```
//for loop to setup ARRAY TWO
for(int i = stringLength-1; i > 0; i--){
    arrayTwo[i] = myString.charAt(i);
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-22T06:23:24.193

```
public static void main(String[] args) {
    String s = "akaq";
    boolean b = false;
    for (int i = 0, j = s.length() - 1; i < j; i++, j--) {
        if (s.charAt(i) == s.charAt(j)) {
            b = true;
            continue;
        } else {
            b = false;
            break;
        }
    }
    if (b)
        System.out.println("Palindrome");
    else
        System.out.println("Not Palindrome");
} 
```

尝试这样的事情，而不是 2-3 for 循环。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-22T06:20:45.490

在java中测试回文的最简单方法

```
String str = "Able was I ere I saw Elba"
boolean palindrome = str.equalsIgnoreCase(new StringBuilder(str).reverse().toString()); 
```

是的，就是这样。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-22T06:26:51.840

将第一个 for 循环从 stringLength-1 更改为 stringLength 因为您使用的是 < 而不是 <=

将第二个 for 循环更改为

```
if(int i = stringLength-1; i>=0; i--) 
```

此外，将回文默认设置为 true 并删除

```
else{
    palindrome = true;
} 
```

部分是因为现在如果循环的第一个和最后一个字符相同，但不是中间，它将返回 true。

编辑：第三个 for 循环也应该是 stringLength 而不是 stringLength-1 因为你使用的是 < 而不是 <=

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-02-22T06:34:40.237

无需将所有内容复制到数组中。字符串基本上是一个数组本身。您可以使用 访问各个字符`charAt()`。

此外，由于相等是关联的，因此无需循环 String 的整个长度。

所以只需使用：

```
public boolean isPalindrome(String s) {
    for (int i = 0; i < s.length() / 2; i++) {                  // only until halfway
        if (s.charAt(i) != s.charAt(s.length() - i - 1)) {      // accessing characters of String directly
            return false;
        }
    }
    return true;
} 
```

最后一点：如果字符串的长度是奇数，则不需要检查中间字符。所以在上面的代码中

# bash - BASH - 位置参数

> ID：15018034
> 
> 赞同：3
> 
> 时间：2013-02-22T06:15:42.173
> 
> 标签：bash

我想知道这是否可能：

脚本名称：`testing`

```
#! /bin/bash
i=2

arg=`echo "$"$i`

echo $arg      #value should be the value of $2 and not just '$2' string

echo $2

exit 0 
```

命令：`testing a b`

输出

```
$2

b 
```

除了直接将 $2 的值分配给 $arg,arg=$2 之外，有没有办法使 $arg 的值等于 $2 的值，即“b”，而不是只显示字符串“$2”？

尝试执行此 arg=`echo ${$i}`但我收到此错误：测试：${$i}: 错误替换

提前致谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-22T06:24:51.407

是的; 您可以使用*间接扩展*，如下所示：

```
i=2
arg="${!i}"          # equivalent to:    arg="$2" 
```

请参阅[*Bash 参考手册*](http://www.gnu.org/software/bash/manual/bash.html#Shell-Parameter-Expansion)[中第3.5.3 节“Shell 参数扩展”的第四段](http://www.gnu.org/software/bash/manual/bash.html#Shell-Parameter-Expansion)*。*

# iphone - 当我将许多 UIView 作为子视图添加到单元格时，如何使用 dequeueReusableCellWithIdentifier？

> ID：15018035
> 
> 赞同：2
> 
> 时间：2013-02-22T06:15:46.203
> 
> 标签：iphone, uitableview

我有`UITableView`大量数据。我`UITableViewCell`每次都像这样创建：

```
 UITableViewCell *cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:strCellIdentifier]; 
```

之后，我将许多`UIView`作为子视图添加到`UITableViewCell`例如

```
UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];
                [button addTarget:self action:@selector(onDocumentLogoTapped:) forControlEvents:UIControlEventTouchUpInside];
                button.frame = imageRect;
                button.tag = indexPath.row;
                [cell addSubview:button]; 
```

就像这样，我还添加了`UIImageView`. 问题是由于内存问题，我`UITableView`变得非常慢并且应用程序有时会崩溃。

任何人都可以建议我`UITableViewCell`在添加 subView 时使用正确的方法吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T06:25:27.720

在`cellForRowAtIndexPath`方法中使用它：

```
static NSString *CellIdentifier = @"Cell";

UITableViewCell *cell = [self.tableView dequeueReusableCellWithIdentifier:CellIdentifier];

if (cell == nil) {

cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier] autorelease];

} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T06:36:40.743

像下面这样：

**在添加子视图之前，首先删除以前的子视图**

```
for(UIView *sv in [cell.contentView subViews])
{
   [sv removefromsuperview];
}

[cell.contentView addSubview:button]; 
```

**希望这个帮助！**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T06:21:13.793

我认为如果您使用自定义单元格会更好，那么您可以使用此方法作为

```
 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{

            NSArray *nib;
        static NSString *cellIdentifier= @"cell";

        UITableViewCell *theCell = [tableView dequeueReusableCellWithIdentifier:cellIdentifier];

        if(theCell== nil)
        {
            {
                nib = [[NSBundle mainBundle] loadNibNamed:@"<your custom cell xib name>" owner:self options:nil]; 
            }
            theCell = [nib objectAtIndex:0];

             theCell.selectionStyle = UITableViewCellSelectionStyleBlue;
        }

        UIImageView *imageView=(UIImageView*)[[theCell contentView] viewWithTag:101];
//assuming it has a image view with tag 101 you can use any thing

} 
```

# objective-c - 如何从 NSArray 中的每个 NSDictionary 获取特定键的所有值？

> ID：15018037
> 
> 赞同：24
> 
> 时间：2013-02-22T06:15:57.040
> 
> 标签：objective-c, nsarray, nsdictionary, key-value-coding

我有一个包含字典对象的数组。在每个字典中，键都是通用的。现在我想获取该键的所有值。我通过迭代获得了这些值，但我正在寻找一些直接的方法或默认方法来完成这项工作。

你能帮我找到一种可以达到目的的默认方法吗？谢谢。

数据结构是这样的：

```
<array>
    <dict>
        <key>Match</key>
        <string>Football</string>
        <key>Stadium</key>
        <string>XXXXX</string>
    </dict>
    <dict>
        <key>Match</key>
        <string>HOCKY</string>
        <key>Stadium</key>
        <string>XXXXX</string>
    </dict>
 </array> 
```

我现在正在这样做：

```
NSMutableArray * matches = [[NSMutableArray alloc] init];
        for (int i = 0; i< myArray.count; i++){
            [matches insertObject:[[myArray objectAtIndex:i] objectForKey:@"Match"] atIndex:i];
        }
        [matchDataArray addObjectsFromArray:matches]; 
```

它给了我正确的答案。但我不想做这个迭代。我想要一个方法，它可以从数组的所有索引中返回“匹配”键的所有值，并立即保存在另一个数组中。新创建的数组将只有数组所有索引中的 Match 键的值。

这可能吗？？

* * *

## 回答 #1

> 赞同：68
> 
> 时间：2013-02-22T07:10:03.560

键值编码有一个巧妙的技巧可以做到这一点：

```
NSArray *matches = [myArray valueForKey: @"Match"]; 
```

这是一个实际的例子：

```
NSArray *anArray = @[
                      @{@"aWord" : @"I"},
                      @{@"aWord" : @"have"},
                      @{@"aWord" : @"an"},
                      @{@"aWord" : @"array"},
                      @{@"aWord" : @"which"},
                      @{@"aWord" : @"contains"},
                      @{@"aWord" : @"dictionary"},
                      @{@"aWord" : @"objects."},
                      @{@"aWord" : @"Etc."},
                      ];

NSArray *aWordArray = [anArray valueForKey:@"aWord"]; 
```

在最后一行之后，`aWordArray`将包含与原始字典数组中的顺序相同的单词。

# drupal - 如何在drupal7中显示webform提交的数据

> ID：15018041
> 
> 赞同：1
> 
> 时间：2013-02-22T06:16:33.947
> 
> 标签：drupal

我想在 drupal 7 中显示 webform 提交的数据，并且该调查只有管理员才能看到。提交后，我想以表格格式向管理员显示提交的数据，并且还想以 excel 表格格式下载该数据。我应该遵循什么方法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T05:57:03.213

安装此模块[http://drupal.org/project/webform_report](http://drupal.org/project/webform_report)它将以表格格式显示，您还可以自定义报告，它还将创建单独的内容类型。

以下是网络表单报告的屏幕截图，您还可以从报告本身查看、编辑和删除。

![在此处输入图像描述](../Images/28cb27962b05b76a8e2f75fed86bf1b4.png)

希望你的要求能符合这个！！！

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-23T08:28:15.733

您可以调用此函数，该函数在将数据插入 Web 表单后调用。这个钩子将为您提供节点 ID 和提交 ID。使用此提交 ID，您可以访问您插入的所有数据，并可以在其中执行您的任务。

```
function  hook_webform_submission_insert($node, $submission) {
   //do your task

} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-12-14T15:58:50.037

嗯..我认为本机表生成器非常实用。它包括一个下载按钮。

以管理员身份登录，然后转到：Content --> Webforms Tab --> Your webform --> Submissions (or better = TABLES !) 查看用户提交的内容。TABLE 显示屏的最右侧是一个下载按钮。通过此选择，您可以在方便的 XL 表中下载所有内容。

我知道我是这个聚会的迟到者，也许这种增强是软件的后期添加。此处提供的解决方案可在未来帮助他人。

# c# - 如何让属性充当 [Conditional("DEBUG")]？

> ID：15018043
> 
> 赞同：1
> 
> 时间：2013-02-22T06:16:44.807
> 
> 标签：c#, attributes

我有一个 C# 程序，其中的某些部分代码是使用 D 风格的 mixins 生成的（即，方法的主体被编译、执行，并将结果插入到一个类中）。该方法带有标记`[MixinAttribute]`，自然我不希望它被编译到程序中。是否有一些便宜的方法可以防止使用此属性装饰的方法被包含在构建中？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T06:18:47.923

唯一的方法是使用编译器条件：

```
#if DEBUG
[MixinAttribute]
// method you don't want included
#endif 
```

这种方法的问题在于，您创建了一个在未定义 DEBUG 的构建中不可用的成员。然后你必须用条件标记所有用法，我认为这不是你想要的。这不是很清楚，但我认为您真正要问的是如何在构建时创建动态调用站点，或者更确切地说，在 JIT 时（这是`ConditionalAttribute`控制的内容）。如果是这种情况，如果不使用某种动态调度覆盖（使用一些代理库）或使用 PostSharp 之类的后处理工具来操作编译器输出，您将无法在 C# 中轻松做到这一点。

# c# - 保护我的 iCalendar

> ID：15018049
> 
> 赞同：1
> 
> 时间：2013-02-22T06:16:47.463
> 
> 标签：c#, .net, icalendar

我有自己的带有日历的应用程序。每天我将数据导出到 iCalendar (ics) 文件。这个 ics 文件在我的网络服务器上，我可以成功导入到我的 Outlook 中。我的问题是，什么阻止了其他人连接我的日历？有没有办法保护它，以便 Outlook 在导入此 Web 日历之前要求输入登录名和密码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T09:14:31.183

您可以在托管日历的目录上应用 HTTP 身份验证。如果您使用的是 Apache，请参阅[http://httpd.apache.org/docs/2.2/howto/auth.html](http://httpd.apache.org/docs/2.2/howto/auth.html)。

请注意，它在 Outlook 2007 上似乎存在问题。其他客户端（如 Thunderbird+Lightning）可以正确导入受 http 密码保护的 ics 文件，但 Outlook 2007 无法将其识别为有效的 ics 文件。（我现在被这个问题困住了，所以如果有人可以帮助我找到解决方案，我将不胜感激。）

# macos - 如何在文件图标上显示进度条

> ID：15018052
> 
> 赞同：6
> 
> 时间：2013-02-22T06:17:19.727
> 
> 标签：macos, cocoa, progress-bar

您知道当我们使用 safari 和 chrome 复制文件或下载文件时，文件图标上有一个迷你进度条。

我想知道当我用自己的代码复制或下载文件时如何让它显示在 Finder 窗口中。

有人可以帮我吗？

非常感谢。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-27T13:01:50.083

我自己通过查询文件/目录属性来解决问题。这很简单。

获取要在其图标上显示进度条的文件的属性

```
NSDictionary *fileAttr = [[NSFileManager defaultManager] attributesOfItemAtPath:filePath error:nil]; 
```

获取扩展属性

```
NSDictionary *extendAttr = [fileAttr objectForKey:@"NSFileExtendedAttributes"]; 
```

创建extendAttr的可变副本并更改其中的一些值

```
NSMutableDictionary *mutableExtendAttr = [NSMutableDictionary dictionaryWithDictionary:extendAttr];
// create data of progress value
NSData *progressData = [@"0.1" dataUsingEncoding:NSASCIIStringEncoding];
// change it
[mutableExtendAttr setObject:progressData forKey:@"com.apple.progress.fractionCompleted"]; 
```

创建 fileAttr 的可变副本

```
 NSMutableDictionary *mutableFileAttr = [NSMutableDictionary dictionaryWithDictionary:fileAttr];
 // change extend attr
 [mutableFileAttr setObject:[NSDictionary dictionaryWithDictionary:mutableExtendAttr] forKey:extendAttrKey];
 // change file/dir create date to the special one
 // if not , progress bar will not show
 [mutableFileAttr setObject:[NSDate dateWithString:@"1984-01-24 08:00:00 +0000"] forKey:NSFileCreationDate];
 // set attribute to file
 [[NSFileManager defaultManager] setAttributes:mutableFileAttr ofItemAtPath:filePath error:&error]; 
```

现在你会发现它出现了进度条。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:08:00.593

一个起点是使用 a `NSProgressIndicator`, then `[progressIndicator setIndeterminate:NO];`。然后，您的更新/后台操作不应**阻塞**主线程。`NSProgressIndicator`对于 AppKit 小部件来说有点不同——它允许从辅助线程进行*一些*更新。当然，对“当前进度”的更新也可以在主线程的运行循环中排队。

# java - 使用 Hibernate 中的现有表创建历史表

> ID：15018055
> 
> 赞同：0
> 
> 时间：2013-02-22T06:17:37.637
> 
> 标签：java, hibernate

我有一个名为 Employee 的类，映射到 employee.hbm.xml 。我有一个新的要求，即我应该有一个历史表，即 Employee_history，它应该使用新的额外字段（如 lastUpdated 和 dateCreated）来保存 Employee 表的记录。当我在 Employee 中创建或更新新记录时，它也应该更新到 Employee_History 表中。那么更好的方法应该是什么？我对休眠非常陌生，或者可以说今天就开始了。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T07:13:20.940

[Envers](http://www.jboss.org/envers)会为您做到这一点：

> Envers 项目旨在实现对持久类的轻松审计/版本控制。您所要做的就是使用@Audited 注释您想要审计的持久类或其某些属性。对于每个被审计的实体，将创建一个表，其中将保存对该实体所做的更改的历史记录。然后，您可以轻松检索和查询历史数据。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T07:59:13.427

另一种简单的方法是将修改后的记录（当然不包括旧值）插入到历史表中。可能需要对代码进行一些更改。因此，无论您在代码中保存已编辑记录的任何位置，只需添加几行即可将现有记录以及您需要的其他字段（例如 lastupdated 等）移动到历史记录表中。

# wix - 使用 wix 创建 msi

> ID：15018058
> 
> 赞同：1
> 
> 时间：2013-02-22T06:17:49.387
> 
> 标签：wix

我正在开发一个 wix 代码来创建一个 msi。我已将所有组件和库添加到我的 wix 项目中。但是，我无法根据需要创建 msi。请帮帮我。这是我的代码，

```
<?xml version='1.0' encoding='UTF-8'?>
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">

<Product Name='SmartViewer'
          Id="*"
          Language='1033'
          Codepage='1252'
          Version='1.0.0'
          UpgradeCode='9C5E4073-EFDE-419B-935D-CE2632BC560E'>

    <Package Keywords='Installer,MSI'
             InstallerVersion='100'
             Languages='1031'
             Compressed='yes'
             SummaryCodepage='1252' />

    <Media Id="1" Cabinet="myapp.cab" EmbedCab="yes" />

    <Directory Id="TARGETDIR" Name="SourceDir">
        <Directory Id="ProgramFilesFolder">
            <Directory Id="MyProgramDir" Name="myproject" >
                <Directory Id="INSTALLFOLDER" Name="proj1" />
            </Directory>
        </Directory>

    <DirectoryRef Id="INSTALLFOLDER">
        <Component Id='MainExecutable' Guid='*'>
            <File Id='ExecutableFile' Name='mv.exe' DiskId='1' Source='mv.exe' KeyPath='yes'/>
        </Component>
        <Directory Id="imageformats" Name="imageformats">
            <Component Id='jpeg4Library' Guid='*'>
                <File Id='jpeg4' Name='jpeg4.dll' DiskId='1' Source='jpeg4.dll' KeyPath='yes' />
            </Component>
        </Directory>

        <Component Id='Network4Library' Guid='*'>
            <File Id='Network4' Name='Network4.dll' DiskId='1' Source='Network4.dll' KeyPath='yes' />
        </Component>

        <Component Id='Multimedia4Library' Guid='*'>
            <File Id='Multimedia4' Name='Multimedia4.dll' DiskId='1' Source='Multimedia4.dll' KeyPath='yes' />
        </Component>

        <Component Id='QtGui4Library' Guid='*'>
            <File Id='Gui4' Name='Gui4.dll' DiskId='1' Source='Gui4.dll' KeyPath='yes' />
        </Component>

        <Component Id='Designer4Library' Guid='*'>
            <File Id='Designer4' Name='Designer4.dll' DiskId='1' Source='Designer4.dll' KeyPath='yes' />
        </Component>

        <Component Id='Core4Library' Guid='*'>
            <File Id='Core4' Name='Core4.dll' DiskId='1' Source='Core4.dll' KeyPath='yes' />
        </Component>

        <Component Id='libmfxsw32Library' Guid='*'>
            <File Id='libmfxsw32' Name='libmfxsw32.dll' DiskId='1' Source='libmfxsw32.dll' KeyPath='yes' />
        </Component>

        <Component Id='libiomp5mdLibrary' Guid='*'>
            <File Id='libiomp5md' Name='libiomp5md.dll' DiskId='1' Source='libiomp5md.dll' KeyPath='yes' />
        </Component>

        <Component Id='ippcore7.1Library' Guid='*'>
            <File Id='ippcore7.1' Name='ippcore-7.1.dll' DiskId='1' Source='ippcore-7.1.dll' KeyPath='yes' />
        </Component>

        <Component Id='ippccw77.1Library' Guid='*'>
            <File Id='ippccw77.1' Name='ippccw7-7.1.dll' DiskId='1' Source='ippccw7-7.1.dll' KeyPath='yes' />
        </Component>

        <Component Id='ippccv87.1Library' Guid='*'>
            <File Id='ippccv87.1' Name='ippccv8-7.1.dll' DiskId='1' Source='ippccv8-7.1.dll' KeyPath='yes' />
        </Component>

        <Component Id='ippccs87.1Library' Guid='*'>
            <File Id='ippccs87.1' Name='ippccs8-7.1.dll' DiskId='1' Source='ippccs8-7.1.dll' KeyPath='yes' />
        </Component>

        <Component Id='ippccp87.1Library' Guid='*'>
            <File Id='ippccp87.1' Name='ippccp8-7.1.dll' DiskId='1' Source='ippccp8-7.1.dll' KeyPath='yes' />
        </Component>

        <Component Id='ippccg97.1Library' Guid='*'>
            <File Id='ippccg97.1' Name='ippccg9-7.1.dll' DiskId='1' Source='ippccg9-7.1.dll' KeyPath='yes' />
        </Component>

        <Component Id='ippcc7.1Library' Guid='*'>
            <File Id='ippcc7.1' Name='ippcc-7.1.dll' DiskId='1' Source='ippcc-7.1.dll' KeyPath='yes' />
        </Component>

        <Component Id='EULALibrary' Guid='*'>
            <File Id='EULA' Name='EULA.rtf' DiskId='1' Source='EULA.rtf' KeyPath='yes' />
        </Component>
    </DirectoryRef> 

    <Directory Id="ProgramFilesFolder">
        <Directory Id="MyProgramDir" Name="myproj" >
                <Directory Id="INSTALLFOLDER" Name="proj1" /
                    <Component Id="TextFileComponent" Guid="*">
                        <File Id="TextFile" Name="Logs.txt" DiskId="1"
                              Source="Logs.txt" KeyPath="yes" />
                    </Component>
        </Directory>
    </Directory>

    <Directory Id="DesktopFolder">
        <Component Id="ExecutableFileShortcutComponent" Guid="*">
            <Shortcut Id="ExecutableFileShortcut" Name="smart viewer" 
                  Description="Shortcut To Executable File"
                  Target="[INSTALLFOLDER]mv.exe" />
    </Directory>

    <Directory Id="ProgramMenuFolder">
        <Directory Id="MyProgramDir" Name="myproj">
            <Component Id="ExecutableFileShortcutComponent" Guid="*">
                <Shortcut Id="ExecutableFileShortcut" Name="smart viewer"
                      Description="Shortcut To Executable File"
                      Target="[INSTALLFOLDER]mv.exe" />

        </Component>
     </Directory>

  </Product>
 </Wix> 
```

组件没有获取 dll 路径。我尝试将路径传递给文件 id 中的源，但我仍然发现相同的问题。期待一个好的建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T11:41:24.430

您需要引用文件的完整路径：

```
<File Id="Microsoft.Practices.Unity"
      Name="jpeg4.dll"
      Source="$(var.BuildOutputDir)\jpeg4.dll" /> 
```

`$(var.BuildOutputDir)`文件夹的完整路径在哪里。如果这些文件在另一个引用项目的输出中，那么您可以使用`$(var.OtherProject.TargetDir)`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:10:12.317

您的文件不包含有效的 XML。以下片段已损坏。

```
<Directory Id="ProgramFilesFolder">
    <Directory Id="MyProgramDir" Name="myproj" >
            <Directory Id="INSTALLFOLDER" Name="proj1" /
                <Component Id="TextFileComponent" Guid="*">
                    <File Id="TextFile" Name="Logs.txt" DiskId="1"
                          Source="Logs.txt" KeyPath="yes" />
                </Component>
    </Directory>
</Directory> 
```

线

```
 <Directory Id="INSTALLFOLDER" Name="proj1" / 
```

应该

```
 <Directory Id="INSTALLFOLDER" Name="proj1" > 
```

`</Directory>`缺少一个。您还应该`</Component>`在两个位置添加。尝试加载 .WXS 文件时指向无效 XML 的 WiXEdit。

此外，您应该添加一个`<feature>`.

# wordpress - 将 Wordpress 帖子编辑为全角

> ID：15018062
> 
> 赞同：1
> 
> 时间：2013-02-22T06:18:12.647
> 
> 标签：wordpress, wordpress-theming

我试图弄清楚这是否值得，但我喜欢这个主题。问题出在这个[例子](http://wp.contempographicdesign.com/wp_journal/?p=488)上。我想让帖子全宽，如果我禁用小部件它们只会变成空白。有没有办法告诉它用空白文本填充它？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T11:23:25.133

您可以使用 CSS 轻松解决此问题，当然最好是删除代码中的那些侧边栏调用。

您可以使用以下 CSS 使您的帖子容器全宽：

```
#left-sidebar{
    display:none;
}

#right-sidebar{
    display:none;
}

#content{
    width:940px;
} 
```

# php - php 可编写脚本的网络浏览器

> ID：15018067
> 
> 赞同：2
> 
> 时间：2013-02-22T06:18:25.210
> 
> 标签：php, browser, web, scriptable

我想要 php 中的 url 重定向跟踪器函数，例如[http://www.wheregoes.com/](http://www.wheregoes.com/)。

我想检测四种重定向：

*   Http 301 重定向
*   Http 302 重定向
*   元标记重定向
*   javascript重定向

如果我使用 curl，我可以轻松检测到 301、302 重定向，但很难检测到其他两个重定向。

所以我想要一个可编写脚本的网络浏览器，我将使用如下库：

```
$browser = Browser::createBrowser('chrome');
$delay = 10; // (This is a important parameter for detecting javascript or meta tag redirection).

$browser->load($url, $delay, function onLoadComplete($arr_track_url){
    print_r($arr_track_url);
}); 
```

我搜索并遇到了一些库，例如[http://www.simpletest.org/en/browser_documentation.html](http://www.simpletest.org/en/browser_documentation.html)，但它们不支持 javascript 和元标记重定向。

是否有任何 php 可编写脚本的浏览器？或者我可以轻松检测到 javascript 或元标记重定向吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T06:30:13.637

如果我做对了，您想知道某个链接*最终*指向的位置，如果该最终 url 与最初实际点击的 url 不同？

如果是这样，我认为最好的方法是让浏览器完成它的工作，然后在它出现的地方找到它。通过这种方式，您可以获得浏览器的“正常”行为，而不是某些库的行为。

使用（隐藏的）iframe 将网址加载到其中。然后等待 window.load 事件或其他事件，然后查询文档位置。我现在没有尝试过，但对我来说听起来可行......

# jquery - 使用 CSS 包含后，使用 jQuery 获取背景图像的大小

> ID：15018068
> 
> 赞同：3
> 
> 时间：2013-02-22T06:18:26.973
> 
> 标签：jquery, css

```
#img {
    width:300px;
    height:300px;
    overflow:hidden;
    background-repeat: no-repeat !important;
    background-position: center !important;
    background-size: contain !important;
    color:#fff;
}
    $('#get').click(function () {
        var width = $('#img').css('background-size').width();
        var height = $('#img').css('background-size').height();

        alert('Width: ' + width + ' Height: ' + height);
    });

    //I DON'T want the size of the orginal image. I want the size after the background size has been contained. 

<div id="img" style="background:url(http://img.phombo.com/img1/photocombo/987/cache/wide-wallpaper-1440x900-013_display.jpg) #1BA5E0;">
</div>
    <p>
        <button id="get">Get Contained Size</button> 
```

我想使用 jQuery 获取原始背景图像大小，但是在包含背景之后（完成此操作后：背景大小：包含；）。有可能这样做吗？

[http://jsfiddle.net/QyfG2/](http://jsfiddle.net/QyfG2/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-12-24T05:58:01.147

我认为这个计划的缺陷是背景图像在页面加载时并不是真正的 DOM 的一部分。当您查询时，`.css('background-size')`您将返回分配给该规则键的 CSS 规则*值*（即键：值）。

因此，如果我有`div`一个背景，`#000`并且我要求 jQuery 返回`$('div').css('background')`，它将返回`#000`.

由于您使用容器来缩放背景图像，将其压缩到新的尺寸，因此您的值`.css('background-size')`永远不会是像“100px 500px”这样的计算值。它可能是“自动”。此外， 的属性`background-size`没有属性，`width`因此`.css('background-size').width()`不会在上面的 jQuery 中返回值。

我能想到的唯一解决方案是使用 JS 找到图像的初始尺寸，然后在页面呈现后它的容器的最终尺寸，并使用数学和 if-else 语句计算两者之间的比率。

# 例子：

```
IMG original dimensions: 1000px x 400px
container's dimensions after page renders: 600px x 200px

// Compare the ratio of height / height and width / width
widthRatio = .6
heightRatio = .5

// image should scale proportionally, so it must scale to the smallest ratio
// e.g. if it needs to be 50% as tall, it has to be 50% as wide, even though
// it could fit set at 60% its original width

// so multiply ratio (.5) by original dimensions of image (1000px x 400px)
newImgBgDimensions = 500px x 200px 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-24T06:59:21.160

**使用下面的代码这可能会帮助您在包含后获得背景大小**

```
function get(img){

    var imageSrc = $(img).css('backgroundImage')
                   .replace(/url\((['"])?(.*?)\1\)/gi, '$2')
                    .split(',')[0];    
    var image = new Image();
    image.src = imageSrc;
    var bgwidth = image.width,
    bgheight = image.height,    
    bgContainWidth = $(img).width();

    var bgContainHeight = (bgheight*bgContainWidth)/bgwidth;

    var decimal = bgContainHeight.toString().split('.');

    if(decimal[0]>=5)
    {
       bgContainHeight = Math.ceil(bgContainHeight);
    }
    else
    {
       bgContainHeight = Math.floor(bgContainHeight);
    }

    alert('bg Contain width = ' + bgContainWidth
           + ',bg Contain Height = ' + bgContainHeight);

}

$('#get').click(function () {
   get('#img');
}); 
```

见演示小提琴：http: [//jsfiddle.net/c4yHf/1/](http://jsfiddle.net/c4yHf/1/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T06:59:19.450

您找不到背景图像的高度宽度。css 无法找到背景图像的高度宽度等属性。您可以做的是使用 javascript 或 jquery 加载图像，然后获取这些图像的高度/宽度。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T06:21:07.013

```
window.onload = function() {

    var imageSrc = document
                    .getElementById('hello')
                     .style
                      .backgroundImage
                       .replace(/url\((['"])?(.*?)\1\)/gi, '$2')
                        .split(',')[0];

    // I just broke it up on newlines for readability        

    var image = new Image();
    image.src = imageSrc;

    var width = image.width,
        height = image.height;

    alert('width =' + width + ', height = ' + height)  

} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-22T06:25:21.247

```
 function getheightwidth(id) {
        var element = document.getElementById(id);
        if (element && element.tagName.toLowerCase() == 'img') {
            return {
                width: element.width,
                height: element.height
            };
        }

    }

    <img id="imageid" src="......jpg" alt="" onclick="getheightwidth(this.id)"/>

     var dimensions= getheightwidth();
    alert("Width is " + dimensions.width +"Height is "+ dimensions.height); 
```

这应该可以解决您的问题:)

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2013-02-22T07:57:54.907

实际上，您正在寻找容器 ( `<div id="img">`) 的大小，而不是图像。如果您将获得容器尺寸，您将获得其中图像的大小（它是背景）。我会给你 jQuery 解决方案：

```
$(document).ready(function(){
    alert('width: ' + $('#img').width() +'; height: ' +  $('#img').height() );
}) 
```

您还可以检查容器大小是否大于原始图像大小。

# java - 如何将java属性文件放入apk？

> ID：15018074
> 
> 赞同：1
> 
> 时间：2013-02-22T06:18:39.240
> 
> 标签：java, android, properties, apk

我有一个 android 应用程序项目，它使用来自第三方的 android lib 项目（没有源代码）。“ant clean release”生成apk，应用运行良好。现在将一个 java 属性文件添加到 lib 项目中，位于项目文件夹的根目录下。构建并安装apk，日志显示新添加的属性文件没有加载。解压并 dex2jar 的 apk，无法从任何地方看到属性文件。所以似乎属性文件不包含在 apk 构建中。所以我的问题是如何将属性文件包含到 apk 中，我应该做些什么额外的事情吗？谢谢您的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:21:18.433

如果你可以配置 3rd 方库读取配置文件的位置，你可以把它放在`res/assets`. 此目录中的文件将打包到您的 .apk 文件中，并作为文件安装在 Android 文件系统中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-15T12:28:41.637

我有同样的问题。我发现有用的解决方案在这里解释：

[http://www.maxters.net/2012/08/android-source-apk-x-res/](http://www.maxters.net/2012/08/android-source-apk-x-res/)

您必须修改 build/core 下的 3 个文件，然后您可以在更新 Android.mk 文件后将任何文件/文件夹添加到您的 apk。

# iphone - AVAudioPlayer 行为处理问题

> ID：15018075
> 
> 赞同：0
> 
> 时间：2013-02-22T06:18:44.070
> 
> 标签：iphone, ios, avaudioplayer, avaudiosession, background-music

我一直在努力学习`AVAudioPlayer`它的行为。

所以首先我写了

```
AVAudioPlayer *player = [[AVAudioPlayer alloc] initWithContentsOfURL:soundFileURL error:nil];
player.numberOfLoops = -1;
[player play]; 
```

只要应用程序没有进入后台，它确实运行良好。所以我再次搜索，发现我需要在plist中添加条目并且还编写了以下代码

```
NSError *activationError = nil;
    if([[AVAudioSession sharedInstance] setCategory:AVAudioSessionCategoryPlayback error:&activationError] == NO)
        NSLog(@"*** %@ ***", activationError);

    [[AVAudioSession sharedInstance] setActive: YES error: nil];
    [[UIApplication sharedApplication] beginReceivingRemoteControlEvents]; 
```

现在我的示例应用程序也在后台播放声音。然后我遇到了另一个问题。如果我将睡眠放在所有这些处理之前，请在睡眠期间将我的应用程序置于后台并开始从其他应用程序播放音乐，在这种情况下，我的应用程序无法播放声音。这可能是因为它没有获得其他音乐应用程序所占用的音频会话。

**问题** **1.**我知道有一种方法可以检测是否有任何其他声音正在播放，但我找不到如何停止它。有一些方法可以停止像 iPod 这样的标准应用程序声音，但是否有任何通用方法可以停止任何其他应用程序的声音。 **2.** `[player play];`给出`NO`失败的结果。我如何找到失败的原因。我已经实现`audioPlayerDecodeErrorDidOccur:error:`了方法，但它从未被调用过。

请分享您对此的了解。我已经解决了大多数关于相同问题的堆栈溢出问题，但没有发现任何对这个特定问题有用的东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:43:52.383

```
-(void)loadPlayer
{
        NSURL *audioFileLocationURL = [NSURL URLWithString:[[NSBundle mainBundle] URLForResource:@"01-YedhiYedhi[www.AtoZmp3.in]" withExtension:@"mp3"]];
        NSError *error;
        audioPlayer = [[AVAudioPlayer alloc] initWithContentsOfURL:audioFileLocationURL error:&error];
        [audioPlayer setNumberOfLoops:-1];
        if (error)
        {
            NSLog(@"%@", [error localizedDescription]);

            [[self volumeControl] setEnabled:NO];
            [[self playPauseButton] setEnabled:NO];

            [[self alertLabel] setText:@"Unable to load file"];
            [[self alertLabel] setHidden:NO];
        }
        else
        {
            [[self alertLabel] setText:[NSString stringWithFormat:@"%@ has loaded", str]];
            [[self alertLabel] setHidden:NO];

            //Make sure the system follows our playback status
            [[AVAudioSession sharedInstance] setCategory:AVAudioSessionCategoryPlayback error:nil];
            [[AVAudioSession sharedInstance] setActive: YES error: nil];

            //Load the audio into memory
            [audioPlayer prepareToPlay];
        }
    }
    if (!self.audioPlayer.playing) {
        [self playAudio];

    } else if (self.audioPlayer.playing) {
        [self pauseAudio];

    }
}

- (void)playAudio {
    [audioPlayer play];
} 
```

# css - 使用项目符号在导航菜单中指示当前页面

> ID：15018079
> 
> 赞同：0
> 
> 时间：2013-02-22T06:18:51.957
> 
> 标签：css, navigation

我有一个垂直显示的导航菜单。我希望在当前正在查看的页面左侧出现一个项目符号点。我已经阅读了一些关于使用背景更改`li`来指示页面的内容，但我不知道如何将其应用于使用项目符号..有什么想法吗？

```
<nav>
        <ul>
            <li><a href="#home">home</a></li>
            <li><a href="#about">about</a></li>
            <li><a href="#lookbook">lookbook</a></li>
            <li><a href="#services">services</a></li>
            <li><a href="#contact">contact</a></li>
            <li><a href="#">blog</a></li>
        </ul>
    </nav>

nav {
    position: fixed;
    right: 13%;
    top: 65%;
}

nav ul li {
    text-align: right;
} 
```

[http://jsfiddle.net/jtRws/](http://jsfiddle.net/jtRws/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-27T02:36:37.710

### 更新

[所有提议的解决方案的实时示例](http://johnsuarez.com/so/cssNav/index.html)

与 AMC 合作，确定 JavaScript 解决方案在满足要求的情况下会更好地工作。所有内容都将出现在一个页面上，因此根据我的发现，CSS 解决方案将无法正常工作。我提出了简单的 jQuery 代码，以便在单击链接时显示一个项目符号。

jQuery

```
$(window).load(function(event) {
    $('a').click(function() {
        $('#Nav li').removeClass();
        $(this).parent().addClass("current");                   
    });
}); 
```

CSS

```
#navcontainer3 ul {
    width: 200px;
    list-style-type:disc;
}

#navcontainer3 ul li {
    color: #ccc;
    float:right;
    clear:right;
}

#navcontainer3 ul li.current {
    color: #000;
} 
```

[此页面包含所有解决方案的示例，](http://johnsuarez.com/so/cssNav/index.html)但您可以在此链接中找到单独的 jQuery 解决方案：http: [//jsfiddle.net/jtRws/10/](http://jsfiddle.net/jtRws/10/)。

* * *

有趣的问题。显然，有 JavaScript 解决方案，但看起来你想要一个纯 CSS 解决方案。

### 解决方案 0

通过将列表样式颜色设置为背景颜色来隐藏其他列表项项目符号。

所有页面都将具有相同的导航 HTML，但每个页面`<body>`都将具有该页面的`id`唯一性。例如：`<body id="home">`,`<body id="products">`等。然后，使用一些巧妙的 CSS，当前页面将获得特定的样式定义（最后一个定义如下）。

```
#navcontainer0 ul {
    width: 200px;
    list-style-type:disc;
}

#navcontainer0 ul li {
    color: #fff;
    float:right;
    clear:right;
}

body#home #homenav0,
body#products #prodnav0 {
    color: #000;
} 
```

### 解决方案 1

用于`background`显示和隐藏项目符号图像。[基于这篇文章](http://hicksdesign.co.uk/journal/highlighting-current-page-with-css)，我使用了以下代码。[这篇文章更详细地解释了这项技术。](http://hicksdesign.co.uk/journal/highlighting-current-page-with-css)您将在下面找到与实际示例相同的代码。

CSS

```
#navcontainer ul {
    width: 200px;
    padding:0;
    margin:0;
    text-align:right;
}

#navcontainer ul li a:hover {
    color: #930;
    background: #f5d7b4;
}

body#home a#homenav,
body#products a#prodnav,
body#faq a#faqnav,
body#contact a#connav {
    background:url(bullet.gif) 0 50% no-repeat no-repeat;
    padding-left:15px;
} 
```

产品页面

```
<body id="products">
    <div id="navcontainer">
        <ul id="navlist">
            <li><a id="homenav" href="index.html">Home</a></li>
            <li><a id="prodnav" href="products.html" >Products</a></li>
        </ul>
    </div>
</body> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-27T04:59:41.900

我假设您正在使用锚点来浏览页面部分，所以我现在能想到的唯一方法是使用 javascript(jQuery)。

我已经更新了您的代码示例：[http ://tinyurl.com/a6ypyuz](http://tinyurl.com/a6ypyuz)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-27T08:22:33.680

我了解您只想要当前页面的项目符号。所以首先我们要消除普通子弹。

```
ul {list-style-type:none;} 
```

比我看到你在每个页面上都使用 id 作为内容 div。将其与属性选择器相结合，这是您可以执行的操作的示例：

```
#home li a[href='#home']:before, #about li a[href='#about']:before {
content:"•";pointer-events:none; text-decoration:none;
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-27T11:48:41.447

除了@earthdesigner 答案，如果您不想添加 jquery，请改用此 javascript：

[http://jsfiddle.net/7uxcg/31/](http://jsfiddle.net/7uxcg/31/)

```
window.onload = function() {
    // var nav = document.getElementById('nav');
    var nav = document.getElementsByTagName('NAV')[0].children[0];

    for(c in nav.children) {
        var li = nav.children[c];
        if(li.nodeName == 'LI') {
            li.onclick = function() {
                changeClass(this.children[0].hash);
            }
        }
    }

    function changeClass(cur) {
        var nav = document.getElementsByTagName('NAV')[0].children[0];

        for(c in nav.children) {
            var li = nav.children[c];
            if(li.nodeName == 'LI' && li.children[0].hash == cur)
                li.className = 'active';
            else
                li.className = ''
        }        
    }
}; 
```

# php - 如果 $arr1 和 $arr2 具有相同值的元素，有没有办法组合 array_count_values($arr1) 和 array_count_values($arr2) 的结果？

> ID：15018080
> 
> 赞同：0
> 
> 时间：2013-02-22T06:18:52.923
> 
> 标签：php, linux, unix

有没有一种有效的方法来组合`array_count_values($arr1)`和`array_count_values($arr2)`if的返回数组`$arr1`并且`$arr2`具有相同值的元素？

我正在尝试通过经典的“从包含 10 亿行搜索请求的文档中生成前 100 个搜索请求”。

我的方法是使用 unix`split`将文档分割成更小的文件，用 计算每个文件中每个搜索词的出现次数`array_count_values`，然后将所有这些文件减少到一个文件中，该文件的列表按每个搜索查询的流行度降序排列.

**编辑** 例如

```
$arr1 = array('kurt', 'curt', 'kurt', 'dave', 'krist');
$arr2 = array('dave' 'dave', 'krist', 'krist');

array_count_values($arr1) // ('kurt' => 2, 'curt'=>1, 'dave'=>1, 'krist'=>1)
array_count_values($arr2) // ('dave' => 2, 'krist'=>2) 
```

如何将两者结合起来形成以下数组

```
('kurt' => 2, 'dave'=>3, 'krist'=>3, 'curt'=>1) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:40:22.240

试试这个 ：

```
$arr1 = array('kurt', 'curt', 'kurt', 'dave', 'krist');
$arr2 = array('dave', 'dave', 'krist', 'krist');

$cnt_arr1  = array_count_values($arr1); // ('kurt' => 2, 'curt'=>1, 'dave'=>1, 'krist'=>1)
$cnt_arr2  = array_count_values($arr2); // ('dave' => 2, 'krist'=>2)

$res_arr   = array_merge_recursive($cnt_arr1,$cnt_arr2);

$res       = array();
foreach($res_arr as $key=>$val){
 if(is_array($val)){
    $res[$key]= array_sum($val);
 }else{
    $res[$key]= $val;
 }

}

echo "<pre>";
print_r($res); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T06:22:59.703

试试这个 ：

```
$arr = array_merge($arr1,$arr2);
$count = array_count_values($arr); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T06:42:05.280

请尝试以下代码。它会工作，

```
$arr1 = array('kurt', 'curt', 'kurt', 'dave', 'krist');
$arr2 = array('dave', 'dave', 'krist', 'krist');

$array1Count = array_count_values($arr1); // ('kurt' => 2, 'curt'=>1, 'dave'=>1, 'krist'=>1)
$array2Count = array_count_values($arr2); // ('dave' => 2, 'krist'=>2)
$resultArray = array();
foreach($array1Count as $key => $value) {
    if(array_key_exists($key, $array2Count)) {
        $resultArray[$key] = $array1Count[$key] + $array2Count[$key];
    }
    else {
        $resultArray[$key] = $array1Count[$key];
    }
    unset($array2Count[$key]);
}
$finalResultArray = array_merge($array2Count, $resultArray);
print_r($finalResultArray); 
```

# mule - Mule Studio 如何创建全局变量

> ID：15018086
> 
> 赞同：0
> 
> 时间：2013-02-22T06:19:13.107
> 
> 标签：mule, mule-studio

[点击收听查看我的流程图片](http://kongarn.com/images/mule2.png)

我的测试骡子应用程序。我使用 curl json 将数据发布到 http-end-point 并将 json 转换为对象并在我的数据库中插入名称（**#[message.payload.name]**）

我使用 catch-exception-strategy 保留错误日志（案例唯一名称）

我想用字段 #[message.payload.name] 中的条件更新我的表 - 意思是 Update mytable set Firstname = #[message.payload.name]

但在 catch-exception-strategy 中无法访问 #[message.payload.name]

我的配置

```
 <?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:jdbc-ee="http://www.mulesoft.org/schema/mule/ee/jdbc" xmlns:data-mapper="http://www.mulesoft.org/schema/mule/ee/data-mapper" xmlns:http="http://www.mulesoft.org/schema/mule/http"
    xmlns:json="http://www.mulesoft.org/schema/mule/json"
    xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns:spring="http://www.springframework.org/schema/beans" version="EE-3.3.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="
http://www.mulesoft.org/schema/mule/json http://www.mulesoft.org/schema/mule/json/current/mule-json.xsd 
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd 
http://www.mulesoft.org/schema/mule/ee/jdbc http://www.mulesoft.org/schema/mule/ee/jdbc/current/mule-jdbc-ee.xsd 
http://www.mulesoft.org/schema/mule/ee/data-mapper http://www.mulesoft.org/schema/mule/ee/data-mapper/current/mule-data-mapper.xsd 
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd 
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd ">
    <data-mapper:config name="Mapper" transformationGraphPath="mapper.grf" doc:name="DataMapper"></data-mapper:config>
    <jdbc-ee:mysql-data-source name="MySQL_Data_Source1" url="jdbc:mysql://localhost:3306/mule" user="root" password="1234" transactionIsolation="UNSPECIFIED" doc:name="MySQL Data Source"/>
    <jdbc-ee:connector name="Database" dataSource-ref="MySQL_Data_Source1" validateConnections="true" queryTimeout="-1" pollingFrequency="0" doc:name="Database"/>
    <flow name="httpPostTestFlow1" doc:name="httpPostTestFlow1"> 
        <http:inbound-endpoint exchange-pattern="request-response" host="localhost" port="8081" path="httpPost" doc:name="httpPost"></http:inbound-endpoint>

        <json:json-to-object-transformer doc:name="JSON to Object" returnClass="java.util.Map"></json:json-to-object-transformer>

                <jdbc-ee:outbound-endpoint exchange-pattern="one-way" queryKey="INSERT_TOKEN"  connector-ref="Database" doc:name="Database">
                    <jdbc-ee:query key="INSERT_TOKEN" value="insert into users(FirstName) values(#[message.payload.name]);"/>
                </jdbc-ee:outbound-endpoint>

              <!--  <http:outbound-endpoint exchange-pattern="request-response" host="localhost" port="80" path="post-debug.php" contentType="application/x-www-form-urlencoded" doc:name="post-debug.php"/> --> 

         <catch-exception-strategy doc:name="Catch Exception Strategy">
            <expression-component doc:name="Create error response">#[message.payload = "{\"status\":\"error\", \"message\":\"" + exception.cause.message + "\"}"]</expression-component>
            <jdbc-ee:outbound-endpoint exchange-pattern="one-way"   connector-ref="Database" doc:name="Database" queryTimeout="-1" queryKey="UPDATE_TOKEN">
                    <jdbc-ee:query key="UPDATE_TOKEN" value="update users SET fail_message = #[message.payload]"/>
                </jdbc-ee:outbound-endpoint>
        </catch-exception-strategy>

    </flow>
</mule> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:29:19.330

根据您希望拥有某种全局变量的标题，一种方法是您可以尝试使用 flowVars 作为快速修复。使用 Mule Studio 它与变量相同（在变形金刚下）。

您在 catch 异常策略中得到的消息就是异常。

# regex - 带或不带空格的电话号码的正则表达式

> ID：15018092
> 
> 赞同：1
> 
> 时间：2013-02-22T06:19:29.300
> 
> 标签：regex

如何创建一个正则表达式来匹配号码中带或不带空格的电话？

我已经找到：

```
^\+?\d+$ 
```

从另一篇文章，但我如何修改它以允许数字中有 0 个或更多空格？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:33:41.353

这是一个例子： /^(?:\s*\d{3})?\s*\d{3}\s*\d{4}\s*$/

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T06:34:58.180

有很多方法可以匹配电话号码（以及很多有效的电话格式）。这是一个简单的正则表达式来匹配“5555555555”、“555 555 5555”、“(555) 555-5555”、“555-555-5555”或“555.555.5555”

^(?\d{3})?( |-|.)?\d{3}( |-|.)?\d{4}$

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T06:42:19.620

您需要考虑的第一件事是包含空格的电话号码的确切格式。例如：

```
+535 233 4444 
```

那一个好吗？它的意思是分开的：`3 3 4`。您可以根据需要调整以下正则表达式：

```
^\+?\d{3}\s?\d{3}\s?\{d}{4}$ 
```

只需更改量词（`{3}`,`{4}`等）即可更改组长度。

# file-permissions - 如何访问 system32？

> ID：15018096
> 
> 赞同：-1
> 
> 时间：2013-02-22T06:19:37.097
> 
> 标签：file-permissions

我一直在尝试删除“System32”中的文件，因为它所做的只是一个无用的弹出窗口。

但是，每当我尝试删除该文件时，它都会说我需要来自 TrustedInstaller 的权限。

**如何获得该文件的权限？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-06T13:45:16.913

您无权删除文件系统中的**任何文件。**有些是系统文件，如果丢失，可能会导致您的 Windows 出错。Windows 不允许您删除这些。

请注意，您有权删除的某些文件可能会导致您的系统变得不稳定。通常，您应该非常小心地删除文件`Windows`夹内的文件。进行研究，向人们询问您的特定文件以及删除它是否安全（或知道后果）。如果您决定这样做，请务必在进行任何更改之前备份您的系统。

# php - jquery移动页面在ajax响应负载上波动

> ID：15018097
> 
> 赞同：0
> 
> 时间：2013-02-22T06:19:50.237
> 
> 标签：php, ajax, html, jquery, jquery-mobile

我正在使用一个移动应用程序，其中第一页有

**html**

```
 <ul>
    <li>121212</li>
    <li>123233</li>
    <li>232323</li>
    <li>4323423</li>
    <ul> 
```

当用户单击“li”时，他/她进入下一页，该页面将通过 检索与所选“li”相关的数据`Ajax`。这几乎进展顺利..

但是当`Ajax`响应页面波动2次时。意味着一次页面加载，下一次页面完全白色，然后再次显示页面`Ajax`响应。为什么 ？？？

**J查询**

```
 $("clickOnLi").click(function(){
        var id= $(this).val(); //get the selected li value
        $('.loadingGif').css({ 'display':'block' });
        $("#ulShowContent").html(''); // to remove old inner HTML to show new result html
        var dataString = 'selectedid='+id;
        $.ajax({
            type: "POST",
            url: remoteUrl+"handler.php",
            data : dataString,
            cache: true,
            success: function(response) {
                if(response){
                    $('.loadingGif').css({ 'display':'none' });
                    $("#ulShowContent").html(response); 
                }
                }
        });
    })

**and the result will show in this html** 

<ul id="ulShowContent" data-role="listview"> 
    <li class="comment chatsend">
        <div class="comment-meta">
            data 1
        </div>
    </li>

    <li class="comment chatsend">
        <div class="comment-meta">
            data 2
        </div>
    </li>
</ul> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T09:09:22.260

您将需要更改处理页面更改和**AJAX**调用的方式。

我从你的问题中了解到，点击**`LI`**元素后，页面更改被初始化并将**`AJAX`**调用发送到**`PHP`**服务器。

您将需要更改此逻辑。页面波动是由**`AJAX`**在从一个页面转换到另一个页面期间执行的调用引起的。

这可以像这样修复：

*   在第一页**`HREF`**从列表元素中删除属性
*   为每个列表元素添加点击事件
*   **`AJAX`**调用应在点击事件上执行，同时显示您的自定义加载器（或使用默认加载器）
*   当检索到服务器端数据时，您需要存储它，以便可以从另一个页面访问它。在这里你会找到我的另一个**[答案](http://www.gajotres.net/document-onpageinit-vs-document-ready/)**，在那里你可以找到在页面转换期间存储数据的各种方法，或者在**[这里](https://stackoverflow.com/a/14469041/1848600)**找到它，只需搜索一个名为：**页面转换之间的数据/参数操作**的章节（你最好的选择是 a **`localstorage`**）。
*   **`changePage`**使用函数初始化页面更改
*   在**`pagebeforeshow`**事件期间（页面尚未显示）将新数据附加到新容器
*   当最终显示第二页时，一切都会在那里，并且

# android - PhoneGap Android：如何强制应用程序使用asset\www\res 中的图标而不是res\drawable 文件夹？

> ID：15018098
> 
> 赞同：12
> 
> 时间：2013-02-22T06:19:51.890
> 
> 标签：android, eclipse, cordova, icons, android-drawable

我已经使用 eclipse 创建了新的 Android phonegap 项目，并将我现有的 WWW 文件夹放入我的 iphone phonegap 项目中。

我在 Android 文件夹中为 Android 设备添加了所有图标和屏幕，如此处所示.. 并将其添加到我的 config.xml

对于 HDPI，我有以下图标和屏幕。

**资产\www\res\icon\android\icon-72-hdpi.png**

**资产\www\res\screen\android\screen-hdpi-portrait.png**

当我在模拟器中运行应用程序时，它一直显示默认的 PhoneGap 图标和启动屏幕。

我为 LDIP、MDPI、HDPI、XHDPI 添加了图标和屏幕。

这是我的 config.xml

```
 <icon src="icon.png" />
<icon src="res/icon/android/icon-36-ldpi.png"   gap:platform="android"    gap:density="ldpi" />
<icon src="res/icon/android/icon-48-mdpi.png"   gap:platform="android"    gap:density="mdpi" />
<icon src="res/icon/android/icon-72-hdpi.png"   gap:platform="android"    gap:density="hdpi" />
<icon src="res/icon/android/icon-96-xhdpi.png"  gap:platform="android"    gap:density="xhdpi" /> 
```

我需要设置什么来使用**assets\www\res**文件夹而不是默认的 eclipse **EclipseProjectRoot\res\drawable**文件夹吗？

谢谢

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-04-09T15:30:38.843

config.xml 仅由 PhoneGap Build 服务使用。

- 在本地构建，此文件被忽略并使用您的 res/drawable 目录中的文件。
- 使用 PGBuild 构建，该服务会在项目的根目录（index.html 旁边）查找此文件，并使用它来识别应将哪些图像复制到其末端的 res/drawable 文件夹中，以生成具有正确权限的 apk图像（在 Android 的情况下）。

由于 PGBuild 为许多平台构建，config.xml 是他们在 html/js/css 之外提供尽可能多的自定义功能的方式。其中一些只是为了为每个平台选择你的图标/启动图像，但你也可以做更多的事情。PGBuild 根据上传文件的内容为每个平台执行每个本机所需的操作。

我希望这足够清楚。

# r - 预测功能的工作原理

> ID：15018102
> 
> 赞同：1
> 
> 时间：2013-02-22T06:20:06.383
> 
> 标签：r

我在 R 中使用此命令来构建决策树：

```
> library(party) 
> ind = sample(2,nrow(iris),replace=TRUE,prob=c(0.8,0.2))
> myFormula <- Species ~ Sepal.Length + Sepal.Width + Petal.Length + Petal.Width
> iris_ctree <- ctree(myFormula,data = iris[ind==1,])
> predict(iris_ctree) 
```

predict 函数究竟计算了什么以及它如何执行计算？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:00:11.807

该示例首先基于概率为 0.8 的 1 和概率为 0.2 的 2 的采样构造“ind”。然后它指定一个公式来定义模型的假设函数。然后，它使用采样数据拟合条件推理树来估计基于假设规范的参数 - 这只是包含 1 的数据。

然后它根据 1 和 2 的完整样本运行预测。

所以基本上它在 1 上训练，但在 1 和 2 上运行预测。

# c++ - 如何在函数中初始化 CString& 参数

> ID：15018105
> 
> 赞同：0
> 
> 时间：2013-02-22T06:20:11.063
> 
> 标签：c++, initialization, cstring

我有一个现有的函数，我想添加一个参数并为其设置一个默认值，这样它就不会影响使用它的其他模块。

```
BOOL myFunc(int A, CString& strTest); 
```

将其初始化为 NULL 或 0 会给我一条错误消息。如何在我的 func 声明中初始化 strTest？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T06:37:44.477

可能将其初始化为一个空字符串：

```
CString dummy = "";

BOOL myFunc(int A, CString &strTest=dummy); 
```

如果您允许使用默认值，您可能希望将其设为对`const`字符串的引用：

```
BOOL myFunc(int A, CString const &strTest = dummy); 
```

不过，您可能需要考虑使用重载——让现有函数保持原样（没有额外参数），并编写第二个函数（可能转发到第一个函数），该函数采用额外参数：

```
BOOL myFunc(int A);
BOOL myFUNC(int A, CString const &strTest); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T07:14:48.247

你可以这样试试

## 啊

```
class A{
    public:
      static CString defArg;
      bool myFunc(int A, CString& strTest=defArg);
 }; 
```

## A.cpp

```
CString A::defArg = "defArg";

bool myFunc(int A, CString& strTest){
 //what you need to do
} 
```

# jquery - jquery选项卡在ie 7中不起作用

> ID：15018119
> 
> 赞同：0
> 
> 时间：2013-02-22T06:21:12.517
> 
> 标签：jquery, html

我正在尝试在网站中使用 Jquery Tabs 并对其进行了一些样式设置...我已请朋友检查它在 ie 7 中的外观，但它变坏了...所有标签

*   元素以无序列表的形式出现......

    以下是它们在所有当前浏览器中的外观和功能： ![完整的标签](../Images/e73c3a0ee1244fb247e23e6b4aa91f42.png)

    这是他们在 ie 7 中的样子 ![损坏的标签](../Images/63d86da2460eca517016fe58befd4ed4.png)

    另一个问题是非选定选项卡中包含的元素应保持隐藏，而选定选项卡的内容应显示在其下方...整个系统已损坏，即仅显示所有未选定选项卡的内容

    编码：

    ```
    <div class = 'midContentContainer'>
                    <div id = 'buttonAddBlog'>
                        <a href = '#tabs-3'></a>
                    </div>
                    <div id="tabs">
                      <ul>
                        <li><a id = 'tab1'href="#tabs-1">Questions</a></li>
                        <li><a id = 'tab2'href="#tabs-2">Blogs</a></li>
                        <li><a id = 'tab3'href="#tabs-3">Create Your Own <span style = 'color:#0499ff'> NEW! </span></a></li>
                      </ul>

                      <div id="tabs-1">
                        <p style = 'font-size: 14px; font-family: "Helvetica Neue",sans-serif; color: #444;'> Ask any academic question and our Quick GPA team and active community will respond in a timely manner. Whether it's tips on school, math equations, or even philosophical studies, we are there to make sure you get the answer you need. </p>

                        <br/>
                        <div class = 'createYourOwnText' style = 'background-color: #fefefe; padding: 10px; border: 1px dashed #1585b8;'>
                            <strong> Ask your own question by clicking the 'create your own' link above! </strong>
                            </div>
                        <h3 id = 'questionsHeader'> Questions </h3>

                       <?php
                                $allPostsArray = retrieveAllPosts();
                                displayAllPostsFrom($allPostsArray);
                            ?>
                            <div class = 'dialog'>
                            </div>
                      </div>
                      <div id="tabs-2">
                        <p style = 'font-size: 14px; font-family: "Helvetica Neue",sans-serif; color: #444;'> Read our wide variety of blogs, written by both the Quick GPA Team and our active community. These cover all spectrums of academics. Now, you can create your own blog to be posted on our site. </p>

                        <br/>
                        <div class = 'createYourOwnText' style = 'background-color: #fefefe; padding: 10px; border: 1px dashed #1585b8;'>
                            <strong> Create your own article by clicking the 'create your own' link above! </strong>
                            </div>
                        <h3 id = 'questionHeader'> Articles </h3>
                        <?php
                            $allPostsArray = retrieveAllArticles();
                            displayAllArticlesFrom($allPostsArray);
                        ?>

                      </div>
                      <div id="tabs-3">
                        <div id = 'tabs2'>
                            <ul style = 'text-transform: uppercase;'>
                                <li><a id = 'tab1'href="#tabs-4">Ask a Question</a></li>
                                <li><a id = 'tab2'href="#tabs-5">Write a Blog</a></li>
                              </ul>
                                <div id = 'tabs-4' style = 'height: 460px;'>
                                <form action = "insertBlog.php" id = 'questionInsertForm' method = 'post'>
                                        <span style = 'font-size: 15px; font-weight: bold; font-family: "Helvetica Neue";'>Question</span><br/><br/>
                                        <input placeholder = 'title of your question? be specific...'style = 'border: 1px solid #bbb; width: 250px;'type = 'text' name = 'subject' ><br/><br/>
                                        <span style = 'font-size: 15px;font-weight: bold; font-family: "Helvetica Neue";'>More Detail (Optional)</span><br/><br/>
                                        <textarea name = 'body' style = 'width: 85%; height: 120px;'></textarea>
                                        <br/><br/>

                                        <input type = 'text' style= 'width: 400px; font-size: 12px;'name = 'tags' placeholder = "what's your question category"><br/><br/>
                                        <input type = 'text' style = 'width: 400px;' id = 'email2'name = 'user' placeholder = 'Your email...'> 
                                        <span id = 'questionError' style = 'font-size: 12px; color: red;font-family: "Helvetica Neue";'>
                                            <br/>
                                            Your Email information is completely hidden to users and will be used only to notify you when you get a response.
                                            <br/>
                                        </span>
                                        <br/>
                                        <button id = 'questionButton' class = 'btn blue'> Create </button>
                                    </form>
                                </div>
                                <div id = 'tabs-5' style = 'height: 460px;'>
                                    <form action = "insertArticle.php" id = 'articleInsertForm' method = 'post'>
                                        <span style = 'font-size: 15px; font-weight: bold; font-family: "Helvetica Neue";'>Title</span><br/><br/>
                                        <input placeholder = 'Title of your article, be specific...'style = 'border: 1px solid #bbb; width: 250px;'type = 'text' name = 'subject' ><br/><br/>
                                        <span style = 'font-size: 15px;font-weight: bold; font-family: "Helvetica Neue";'>Post</span><br/><br/>
                                        <textarea name = 'body' style = 'width: 85%; height: 120px;'></textarea><br/><br/>

                                        <input type = 'text' style= 'width: 400px; font-size: 12px;'name = 'tags' placeholder = "what's your post category"><br/><br/>
                                        <input type = 'text' style= 'width: 400px; font-size: 12px;' id = 'email' name = 'user' placeholder = 'Your email...'> 
                                        <span id = 'emailError' style = 'font-size: 12px; color: red;font-family: "Helvetica Neue";'>
                                            <br/>
                                            Your Email information is completely hidden to users and will be used only to notify you when you get a response.
                                            <br/>
                                        </span> 
                                        <br/>
                                        <button id = 'submitArticle' class = 'btn blue'> Create </button>
                                    </form>
                                </div>
                            </div>
                      </div>
                    </div>

                    <?php include_once('includes/activeSideBar.php'); ?>

                </div>

                <?php include_once('includes/footer.php'); ?>
            </div>
        </div>
        <?php require_once('includes/facebookShareFooter.php'); ?>
    </div> 
    ```

    和样式表：

    ```
    #tabs{
        width: 68%;
        float: left;
        margin-top: 20px;
        background: transparent; 
        border: none; 
    }
    #tabs ul{
        list-style: none;
    }
    #tabs .ui-widget-header { 
        background: transparent; 
        border: none; 
        border-bottom: 1px solid #c0c0c0; 
        -moz-border-radius: 0px; 
        -webkit-border-radius: 0px; 
        border-radius: 0px; 
    } 
    #tabs .ui-tabs-nav .ui-state-default { 
        background: transparent; 
        border: none; 
    } 
    #tabs .ui-tabs-nav .ui-state-active { 
        background: transparent url(arrow2.png) no-repeat bottom center; 
        border: none; 
    } 
    #tabs .ui-tabs-nav .ui-state-default a { 
        color: #c0c0c0; 
        outline: none;
    } 
    #tabs .ui-tabs-nav .ui-state-active a { 
        color: #459e00; 
        outline: none;
    } 
    ```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:57:50.807

如果它不起作用，请使用 Jquery，

```
<ul>
    <li class="nav_li"><a id = 'tab1'href="#tabs-1">Questions</a></li>
    <li class="nav_li"><a id = 'tab2'href="#tabs-2">Blogs</a></li>
    <li class="nav_li"><a id = 'tab3'href="#tabs-3">Create Your/li>
</ul>

$(function(){
   $(".nav_li").css("float","left"); 
}) 
```

我已经更新了代码，试试这个

# ios - 我的应用因违反数据存储指南而被拒绝

> ID：15018122
> 
> 赞同：-1
> 
> 时间：2013-02-22T06:21:22.520
> 
> 标签：ios

我的应用程序中有设置可以限制可以为应用程序下载的 PDF 大小。

当已下载的 PDF 大小超过该大小时，部分 PDF 将被删除。

我下载 PDF 并将其存储到`documents`文件夹中。

然后，我的应用程序被拒绝，因为不遵循此[指南](https://developer.apple.com/icloud/documentation/data-storage/)。据我所知，我仍然可以将 PDF 文件下载到`documents`文件夹，但可以使用`NSURLIsExcludedFromBackupKey`.

所以我的问题是，`NSURLIsExcludedFromBackupKey`存储PDF时是否可以，因此它不会再次被Apple拒绝？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:15:03.440

我曾经有一个应用程序出于同样的原因被拒绝。在将下载的文件排除在备份之外后，它被批准了。为了设置该属性，我使用以下方法：

```
// We do not want to backup this file to iCloud
+ (BOOL)addSkipBackupAttributeToItemAtURL:(NSURL *)URL {
    const char* filePath = [[URL path] fileSystemRepresentation];
    const char* attrName = "com.apple.MobileBackup";
    if (&NSURLIsExcludedFromBackupKey == nil) {
        // iOS 5.0.1 and lower
        u_int8_t attrValue = 1;
        int result = setxattr(filePath, attrName, &attrValue, sizeof(attrValue), 0, 0);
        return result == 0;
    } else {
        // First try and remove the extended attribute if it is present
        int result = getxattr(filePath, attrName, NULL, sizeof(u_int8_t), 0, 0);
        if (result != -1) {
            // The attribute exists, we need to remove it
            int removeResult = removexattr(filePath, attrName, 0);
            if (removeResult == 0) {
                NSLog(@"Removed extended attribute on file %@", URL);
            }
        }

        // Set the new key
        return [URL setResourceValue:[NSNumber numberWithBool:YES] forKey:NSURLIsExcludedFromBackupKey error:nil];
    }
} 
```

您提到使用缓存不是选项，因为您无法控制文件是否保留在缓存中。您可以通过使用自定义缓存来解决这个问题。如果您想查看示例，请查看：[https ://github.com/evermeer/EVURLCache](https://github.com/evermeer/EVURLCache)

# php - 如何在我的示例中使用 urlencode()？

> ID：15018123
> 
> 赞同：5
> 
> 时间：2013-02-22T06:21:24.927
> 
> 标签：php, forms, get, urlencode

我检查`php.net`并阅读了一些有关如何`urlencode( )`工作的示例，但不知何故我无法做到正确。有人可以帮帮我吗？

这将是很多例子，所以希望我的简短例子是有意义的。

我有一个名为的页面`2.php`，它被调用来显示`.txt`在`1.php`.

我被告知要创建一个链接`3.php`，该链接应该类似于`/3?filename=a.txt` 以文件名作为`GET`参数名并确保`GET`参数值正在`urlencoded`使用该`urlencode( )`函数。

但我很困惑我应该如何以及在哪里`urlencode()`让它发挥作用。

我将在这里粘贴我的 2.php 代码...我简化了代码...

```
<?php

$fileContents = file("./aaa/" . $_GET["course"] . ".txt");

echo "<table border=\"1\">";

foreach($fileContents as $row)
{
    echo "<tr>";
    $contents = preg_split("/,/", $row);

    foreach($contents as $eachline)
    {
        echo "<td>";
        if(!(preg_match("/@/", $eachline)))
        {
        echo trim(ucfirst($eachline));
        }
        else
        {
        echo trim(strtolower($eachline));
        }
        echo "</td>";
    }
    echo "</tr>";
}

    echo "</table>";

    echo "<a href='./1.php'>Choose another txt file</a><br/>";
    echo "or<br/>";
    echo "<a href='.3.php?'>Work with this txt file</a>";
?> 
```

但是... 3.php 选项必须附加一个查询字符串：在 1 中选择的文本文件的名称，因此 url 应该是 ./3?filename= 这样的东西而不是 ./3.php asdf.txt

使用“文件名”作为 GET 参数名称。确保使用 urlencode( ) 函数对 GET 参数值进行 urlencoded。

但我只是不确定如何让它工作....

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T06:26:07.100

您可以将应该在字符串中的函数中进行 url 编码的部分包装起来：

```
$url = 'http://www.google.com?q=' . urlencode($search);

OR in html

http://www.google.com?q=<?php echo urlencode($search); ?> 
```

`.`2 个输出的串联在哪里。

# android - 更改加载屏幕

> ID：15018126
> 
> 赞同：0
> 
> 时间：2013-02-22T06:21:43.573
> 
> 标签：android, splash-screen

我已经创建了一个 android 应用程序，一切正常，但是当你第一次点击图标启动应用程序时，它会在加载完整界面之前与标题栏一起闪烁白色一两秒。

我有一个以前的应用程序，它在启动前只闪烁一两秒钟，没有标题栏，但我似乎无法在设置/代码中找到使它做到这一点的不同之处。

应用程序加载后，我将删除带有以下行的标题栏`onCreate`

```
requestWindowFeature(Window.FEATURE_NO_TITLE); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:33:46.143

试试这个。在您的清单活动中包括 android:theme="@android:style/Theme.Light.NoTitleBar"

```
 <activity
        android:name=".MainScreen"
        android:theme="@android:style/Theme.Light.NoTitleBar">
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T06:35:32.973

`Manifest`在文件中添加以下行`splashaActivity`，

```
<activity android:name="splashActivity" android:theme="@android:style/Theme.NoTitleBar.Fullscreen" /> 
```

希望这能解决您的问题。

# c# - 带有面板和按钮的用户控件

> ID：15018129
> 
> 赞同：0
> 
> 时间：2013-02-22T06:21:56.973
> 
> 标签：c#, winforms, events, panel

我的 Windows UserControl 有一个面板和 2 个按钮。UserControl 位于 WPF 应用程序内的 WindowsFormsHost 内。
UserControl 接收来自 3rd 方 api 的视频作为我加载到面板中的 winform 控件，当鼠标悬停在面板的某个点（视频）时，我想设置按钮 .visibile = true。

现在我只能通过在第 3 方 api 控件上设置 MouseEnter 和 MouseMove 事件来实现这一点。
我想在面板上设置事件而不依赖于第 3 方控件，但如果我这样做 - 不会触发这些事件，因为面板被控制占用了..

如何设置面板来处理事件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:58:42.350

您应该能够像这样将事件从 3rd 方控件转发到您的面板...

```
private void yourPanel_MouseEnter(object sender, EventArgs e)
{
    // panel MouseEnter event;
}

private void thirdParyCtrl_MouseEnter(object sender, EventArgs e)
{
    this.yourPanel_MouseEnter(sender, e);
} 
```

# asp.net-mvc-4 - 如何设置登录？表单认证

> ID：15018134
> 
> 赞同：0
> 
> 时间：2013-02-22T06:22:35.010
> 
> 标签：asp.net-mvc-4, forms-authentication

所以我开始使用模板在 MVC 4 中构建一个网站，一切都很顺利。但是，我觉得模板中已经添加了很多我一点都不理解的功能，因此正确使用其中一些功能是一个挑战。其中一项功能是登录系统。

现在我设法轻松地设置并与我的外部数据库交谈，但我完全不知道模板如何知道用户名以及他已登录。

所以我试图重新创建/设置相同的功能，但是从头开始，这样我就可以理解它是如何工作的。话虽这么说……我迷路了！

```
[AllowAnonymous]
 public ActionResult Login(LoginModel model)
 {
     try
     {
         var canLogin = Services.Login(model.Username, model.Password);
         var cas = Services.CheckAcountStatus(canLogin.Token);

         if (cas.Payload.Items.Exists(m => !m.IsSynchronized)) RedirectToAction("VerifyPin", "Account", cas.Payload);

         return RedirectToAction("Index", "MyPage");
     }
     catch (CustomException ase)
     {
          ModelState.AddModelError("", ErrorCodeToString(ase.Error));
     }

      return View(model);
 } 
```

这就是我迄今为止所拥有的。

```
<authentication mode="Forms">
    <forms name="MyName" loginUrl="~/Account/Login" timeout="30" />
</authentication> 
```

很多示例都解释了使用 EF 等设置数据库，但恐怕这是我的外部数据库的等价物。

数据库真的需要知道用户是否登录吗？或者它只是一个饼干？

除此之外，我不知道该去哪里。如果有人至少可以为我指明一个好的方向，我将不胜感激。

最后，我唯一真正的目标是在用户登录的页面之间建立一种简单的通信方式。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T11:47:17.620

```
if (Request.IsAuthenticated)
        {
            // Lets us know if the Request is authenticated
        } 
```

一个简单的答案：“最后，我唯一真正的目标是在用户登录的页面之间建立一种简单的通信方式。”

我建议阅读 web.config 中有关表单身份验证的配置选项以及研究表单身份验证票证的内部工作原理。MVC 还具有您可以使用的授权属性。

[http://msdn.microsoft.com/en-us/library/system.web.mvc.authorizeattribute(v=vs.108).aspx](http://msdn.microsoft.com/en-us/library/system.web.mvc.authorizeattribute(v=vs.108).aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T14:16:04.967

ASP.NET MVC 4 引入了一个名为 SimpleMemberhsip 的新成员提供程序，它非常灵活且易于使用。这是[一篇向您展示如何自定义 SimpleMembership](http://kevin-junghans.blogspot.ie/2013/01/seeding-customizing-aspnet-mvc.html)的文章，这可能是您最好的方法，而不是尝试从头开始构建与 ASP.NET 表单身份验证兼容的安全框架。表单身份验证依赖于 cookie 来判断用户是否跨页面登录。我在您的代码示例中看不到任何处理 cookie 的内容。如果您查看由 Internet 模板生成的 Login 方法，您将看到 WebSecurity.Login 方法不仅处理用户身份验证，还处理 cookie 的生成。

# javascript - .length 或 .size() 在 chrome 中返回额外的值

> ID：15018135
> 
> 赞同：0
> 
> 时间：2013-02-22T06:22:46.633
> 
> 标签：javascript, jquery, xml

我正在尝试获取 XML 节点的子节点的长度。除 chrome 外，其他浏览器似乎给出了准确的结果。假设如果孩子的数量是 6，chrome 返回 13。因此，方法`hasChildNodes()`或`hasChildren()`返回`Uncaught TypeError: Cannot call method 'hasChildNodes' of undefined`错误。您能否建议我一些替代方案，以便我可以在 Chrome 中运行我的代码。

```
$.ajax({
  type: "GET",
  url: "tree1.xml",
  dataType:"xml",
  success: function(xml){     

    var root=xml.documentElement;

    var childs1=root.childNodes;
    var len=$(childs1).size();

    alert(len); 
```

这是代码的一部分，我在其中提醒孩子的数量。根元素有 6 个子元素。但 chrome 警告 13

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:43:23.027

你想要的是`.children`而不是`.childNodes`.

后者也包括文本节点，因此通常会返回更高的数字；更糟糕的是，它们不支持与元素相同的方法。

要确定子元素的数量，您可以使用该`.length`属性而不是将其包装在 jQuery 中。

```
var childs1 = root.children;
var len = childs1.length; 
```

# performance - 加载 WinRT XAML 需要很长时间的图像

> ID：15018139
> 
> 赞同：3
> 
> 时间：2013-02-22T06:22:58.770
> 
> 标签：performance, xaml, windows-runtime, imagebrush

在我们的 WinRT 应用程序中，我们通过 XAML 为网格和按钮提供了图像作为背景。

我们观察到图像需要很长时间才能加载，应用程序首先只显示其他文本控件（如 TextBlock），然后在一段时间后加载我们的图像。直到我们只在页面中看到文本控件。

我们正在设置背景如下

```
<ImageBrush ImageSource="ms-appx:////Images/image.png"/> 
```

请告诉我，我们能做些什么来解决这个问题。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:56:18.690

你可以

*   降低图像的分辨率
*   在显示页面之前等待它加载 - 通过以某种方式更早地启动它或通过将页面完全显示为黑色，例如，在图像加载时淡入
*   使用较低分辨率的图像或其他资源，直到图像加载
*   根本不使用该图像

我有一种预感，如果图像源设置得足够早 - WinRT 会在显示新页面之前等待一小段时间（几分之一秒），以便在图像开始运行过渡动画等之前有机会加载图像。 ，因此完全降低图像分辨率或在加载更高分辨率之前使用较低分辨率是一种方法。

另一种选择是让背景位于根框架之外 - 例如，修改 App.xaml.cs 以将网格作为根视觉对象，并将背景图像和框架放在其中，以便您可以随时更改图像。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T06:56:16.863

这是一种奇怪的行为，但是您可以尝试选择尺寸/分辨率较小的图像来优化渲染时间。

此外，尝试在页面的构造函数中设置背景图像 - 因为，微软可能（我不确定）通过异步操作处理 XAML 解析

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-06-09T23:15:08.947

而不是`ImageBrush`尝试使用`Image`将[CashMode](https://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.uielement.cachemode.aspx)属性设置为“ *BitmapCache* ”的常规：

```
<Grid>
    <Image Source="ms-appx:////Images/image.png"
           CacheMode="BitmapCache" />

    <!-- Your other content above background image -->
</Grid> 
```

# php - pdf文件没有上传到yii框架中的服务器

> ID：15018142
> 
> 赞同：0
> 
> 时间：2013-02-22T06:23:16.787
> 
> 标签：php, yii, yii-extensions

嗨，我正在使用 CActiveFrom fileField 将文件上传到服务器，但 pdf 文件没有保存剩余的所有扩展名都保存在这里是我的控制器代码来保存文件

## 控制器

```
 if(isset($_POST['Uploadinfo']))
        {
            $model->attributes=$_POST['Uploadinfo'];

            $file = CUploadedFile::getInstance($model, 'imageId');

            $model->imageId=CUploadedFile::getInstance($model, 'imageId');

            $valid = $model->validate();

            date_default_timezone_set('Asia/Kolkata');
            $serverTime = date("Y-m-d H:i:s", time());

            if(!empty($file->name) && $valid)
            {

                $modelFileLocation->filename = microtime() . $file->name;
                $modelFileLocation->orgfilename = $file->name;
                $modelFileLocation->type = 1;
                $modelFileLocation->createdOn = $serverTime;
                $modelFileLocation->lastModifiedBy = 'lecturer';

                $valid = $modelFileLocation -> validate();

                $modelFileLocation->deptId = $_POST['Uploadinfo']['departmentId'];
                print_r($file);

                if ($modelFileLocation->save())
                {
                    $file = CUploadedFile::getInstance($model, 'imageId');
                    print_r($modelFileLocation);
                print_r($file);
                die();  

                $model->userId = $_POST['Uploadinfo']['userId'];
                $model->imageId = $modelFileLocation->id;
                $model->departmentId = 1;
                $model->createdOn = $serverTime;
                $model->lastModifiedBy = 'lecturer';

                    if ($model->save())
                    {

                        $modeldocumentinfo->property = $file->type;
                        $modeldocumentinfo->fileName = $modelFileLocation->filename;
                        $modeldocumentinfo->creator = 'lecturer';
                        $modeldocumentinfo->lastUploadedOn = $serverTime;
                        $modeldocumentinfo->uploadId = $model->id;
                        $modeldocumentinfo->viewers = 0;

                        $modeldocumentinfo->save();

                        $file->saveAs('uploads/files/' . $modelFileLocation->filename);
                            print_r($file);
            die();
                        //Yii::app()->user->setFlash('uploadsuccess', "File Uploaded Successfully...");
                        $this->redirect(array('lmaterialitview'));
                    }
                } 
```

在上面的代码中，我在 $modelFileLocation 模型保存之前和之后打印文件实例，然后这个模型保存文件实例正在获取，但是在保存模型之后，文件实例变空

这是实例代码

## 实例消息

```
 CUploadedFile Object ( [_name:CUploadedFile:private] => example.pdf [_tempName:CUploadedFile:private] => C:\wamp\tmp\php4BB.tmp [_type:CUploadedFile:private] => application/pdf [_size:CUploadedFile:private] => 205374 [_error:CUploadedFile:private] => 0 [_e:CComponent:private] => [_m:CComponent:private] => ) 
```

在第二个 print_r() 中它正在消失，但对于剩余的扩展，它正在出现并保存

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-24T22:04:25.470

只需将 $deleteTempFile 参数设置为 false

```
$file->saveAs('uploads/files/' . $modelFileLocation->filename, false); 
```

# c++ - WinDbg中通过地址获取类型

> ID：15018145
> 
> 赞同：1
> 
> 时间：2013-02-22T06:23:34.200
> 
> 标签：c++, debugging, windbg

假设我有一个放置在非托管堆中的对象的地址。如何在 WinDbg 中获取对象的 C++ 类型？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T22:23:25.030

这不是万无一失的，但它通常有效。

1.  运行`!heap -x ADDR`。这将提供用户指针。
2.  运行`dps USERPOINTER`。对于 C++ 对象，这通常会给您一个 vtable 符号名称。

# c# - 如何将两个堆叠面板垂直放置在网格中？

> ID：15018148
> 
> 赞同：1
> 
> 时间：2013-02-22T06:23:47.987
> 
> 标签：c#, wpf

我将这样的网格放置在第一列的网格中

```
<Grid Grid.Column="0">
<Grid.RowDefinitions>
    <RowDefinition Height="*"/>
    <RowDefinition Height="*"/>
</Grid.RowDefinitions>

<StackPanel Orientation="Horizontal" Grid.Row="0">
    <Image Source="{Binding PictureUrl}" Width="100" Height="100" Stretch="Fill" HorizontalAlignment="Left"></Image>
</StackPanel>
<StackPanel Orientation="Horizontal"  HorizontalAlignment="Right" Grid.Row="1">
    <HyperlinkButton Content="{Binding Path=GeoLocation}"/>
    <TextBlock Text="{Binding Path=FormattedTimeStamp}"/>
</StackPanel>
</Grid> 
```

图像放置良好。但我无法看到地理位置。我认为根据图像它只需要 100 宽度，所以它不会出现。但我想把图像放在左边。和右侧图像下方的地理位置。谁能帮我找到解决方案..这个网格是数据模板的内容，仅供参考。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:16:37.180

正如@coder 所说，您可能应该将代码更改为：

```
<Grid Grid.Column="0">
<Grid.ColumnDefinitions>
    <ColumnDefinitionsHeight="*"/>
    <ColumnDefinitionsHeight="*"/>
</Grid.ColumnDefinitions>

<StackPanel Grid.Column="0">
    ...
</StackPanel>
<StackPanel HorizontalAlignment="Right" Grid.Column="1">
    ...
</StackPanel> 
```

# android - Android ant 无法在 Windows 上运行

> ID：15018150
> 
> 赞同：1
> 
> 时间：2013-02-22T06:23:58.627
> 
> 标签：android, windows, ant, jar

我已经在这方面经历了一些线程，并通过查看接受的答案来完成所提到的内容。

我正在使用 Ant 构建我的 Android 项目二进制文件。在 Linux 系统上它工作正常并按预期生成二进制文件，但在 Windows 上它显示错误。

我正在使用一个已添加到`libs`文件夹中的 lib jar。在 Windows 中，当 Ant 执行时，它会显示 jar 文件中的那些类的导入错误。

在 Linux 系统中运行良好的 Ant 设置应该可以正常运行，只是在属性文件中更改了一些本地路径，我已经完成并验证了很多次。

我在 Windows 上的设置可能有什么问题/遗漏？

# python - 从打印中提取python中的特定行

> ID：15018151
> 
> 赞同：0
> 
> 时间：2013-02-22T06:24:08.087
> 
> 标签：python, coding-style, lines

我有一个包含一大堆数据信息的数据文件，我试图从文件中提取 IP 时间和长度。我设法提取时间，但我不确定你如何提取长度和 IP。有没有办法搜索，当它看到长度时，它会打印任何长度？

```
import sys
import string

text_file = file('MyTraceOutput.txt', "r")

for line in text_file:
    columns = line.split(' ')

    if columns:
        print "Time", columns[0] 
```

我到目前为止所拥有的

这是继续的数据文件的一部分...

```
reading from file enel573-project1-1-0.pcap, link-type EN10MB (Ethernet)

2.000000 arp who-has 192.168.0.1 (ff:ff:ff:ff:ff:ff) tell 192.168.0.2
2.000023 arp who-has 192.168.0.1 (ff:ff:ff:ff:ff:ff) tell 192.168.0.3
2.000044 arp reply 192.168.0.1 is-at 00:00:00:00:00:01
2.000044 IP (tos 0x0, ttl  64, id 0, offset 0, flags [none], proto: TCP (6), length: 40, bad cksum 0 (->f97c)!) 192.168.0.2.49153 > 192.168.0.1.80: S, cksum 0x0000 (incorrect (-> 0x6e3d), 0:0(0) win 65535
2.000116 arp reply 192.168.0.1 is-at 00:00:00:00:00:01
2.000128 arp who-has 192.168.0.2 (ff:ff:ff:ff:ff:ff) tell 192.168.0.1
2.000128 arp reply 192.168.0.2 is-at 00:00:00:00:00:02
2.000141 IP (tos 0x0, ttl  64, id 0, offset 0, flags [none], proto: TCP (6), length: 40, bad cksum 0 (->f97b)!) 192.168.0.3.49153 > 192.168.0.1.80: S, cksum 0x0000 (incorrect (-> 0x6e3c), 0:0(0) win 65535
2.000152 arp who-has 192.168.0.3 (ff:ff:ff:ff:ff:ff) tell 192.168.0.1
2.000165 arp reply 192.168.0.3 is-at 00:00:00:00:00:03
2.000178 IP (tos 0x0, ttl  64, id 1, offset 0, flags [none], proto: TCP (6), length: 40, bad cksum 0 (->f97a)!) 192.168.0.1.80 > 192.168.0.3.49153: S, cksum 0x0000 (incorrect (-> 0x6e2b), 0:0(0) ack 1 win 65535
2.000189 IP (tos 0x0, ttl  64, id 1, offset 0, flags [none], proto: TCP (6), length: 40, bad cksum 0 (->f97a)!) 192.168.0.3.49153 > 192.168.0.1.80: ., cksum 0x0000 (incorrect (-> 0x6e2c), ack 1 win 65535
2.000202 IP (tos 0x0, ttl  64, id 2, offset 0, flags [none], proto: TCP (6), length: 44, bad cksum 0 (->f975)!) 192.168.0.3.49153 > 192.168.0.1.80: ., cksum 0x0000 (incorrect (-> 0x18d3), 1:5(4) ack 1 win 65535
2.000214 IP (tos 0x0, ttl  64, id 2, offset 0, flags [none], proto: TCP (6), length: 40, bad cksum 0 (->f979)!) 192.168.0.1.80 > 192.168.0.3.49153: ., cksum 0x0000 (incorrect (-> 0x6e28), ack 5 win 65535
2.000253 IP (tos 0x0, ttl  64, id 3, offset 0, flags [none], proto: TCP (6), length: 44, bad cksum 0 (->f974)!) 192.168.0.3.49153 > 192.168.0.1.80: ., cksum 0x0000 (incorrect (-> 0x18cf), 5:9(4 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T06:32:11.413

一种可能的方法是使用 str.translate

```
>>> from string import printable, digits
>>> select_set = ''.join(set(printable) - set(digits + '. '))
>>> st = "2.000000 arp who-has 192.168.0.1 (ff:ff:ff:ff:ff:ff) tell 192.168.0.2"
>>> st.translate(None, select_set).split()
['2.000000', '192.168.0.1', '192.168.0.2'] 
```

另一种选择是使用正则表达式

```
>>> import re
>>> re.findall('[\d\.]+',st)
['2.000000', '192.168.0.1', '192.168.0.2'] 
```

所以你的程序更改为

```
import sys
import string

text_file = file('MyTraceOutput.txt', "r")

for line in text_file:
    columns = re.findall('[\d\.]+',line)

    if columns:
        print "Time {}, IP_Range {}-{}".format(*columns) 
```

# c# - XElement.Elements(XName) 方法无法读取具有属性的 xml 节点

> ID：15018153
> 
> 赞同：1
> 
> 时间：2013-02-22T06:24:19.753
> 
> 标签：c#, wpf, xml, linq-to-xml, xelement

我正在尝试使用 Linq to Xml 过滤 xmldata，问题是我无法使用 XElement.Elements(Xname) 方法获取元素，但是在使用 XElement.Desendents(Xname) 方法时它工作正常但显示所有元素我不想要。我想要它应该显示所有元素和属性，其元素和属性名称在两个文本框中传递。

XML:

```
<?xml version="1.0" ?> 
<Summary AvailableRules="71000" SelectedRules="445" OmittedRules="6887">
  <BBCE AvailableRules="69" SelectedRules="4" OmittedRules="65">
    <SelectedRules>
      <Rule RuleID="jc_0201" Priority="Strongly Recommended" /> 
      <Rule RuleID="jc_0211" Priority="Strongly Recommended" /> 
      <Rule RuleID="jc_0221" Priority="Strongly Recommended" /> 
      <Rule RuleID="jc_0231" Priority="Strongly Recommended" /> 
    </SelectedRules>
    <OmittedRules>
      <Rule RuleID="ar_0001" Priority="Mandatory" /> 
      <Rule RuleID="ar_0002" Priority="Mandatory" /> 
      <Rule RuleID="db_0143_a" Priority="Strongly Recommended" /> 
      <Rule RuleID="db_0143_b" Priority="Strongly Recommended" /> 
      <Rule RuleID="jc_0311" Priority="Mandatory" /> 
      <Rule RuleID="jc_0321" Priority="Mandatory" /> 
      <Rule RuleID="jc_0331" Priority="Mandatory" /> 
      <Rule RuleID="jc_0341" Priority="Mandatory" /> 
      <Rule RuleID="jc_0011" Priority="Strongly Recommended" /> 
      <Rule RuleID="jc_0021" Priority="Strongly Recommended" /> 
      <Rule RuleID="na_0004_a" Priority="Recommended" /> 
      <Rule RuleID="na_0004_b" Priority="Recommended" /> 
      <Rule RuleID="db_0043" Priority="Strongly Recommended" /> 
      <Rule RuleID="db_0042" Priority="Strongly Recommended" /> 
      <Rule RuleID="na_0005" Priority="Strongly Recommended" /> 
      <Rule RuleID="jc_0081" Priority="Recommended" /> 
      <Rule RuleID="jm_0002" Priority="Mandatory" /> 
      <Rule RuleID="db_0142" Priority="Strongly Recommended" /> 
      <Rule RuleID="jc_0061" Priority="Recommended" /> 
      <Rule RuleID="db_0146" Priority="Strongly Recommended" /> 
      <Rule RuleID="db_0140" Priority="Recommended" /> 
      <Rule RuleID="jm_0013" Priority="Strongly Recommended" /> 
      <Rule RuleID="db_0032" Priority="Strongly Recommended" /> 
      <Rule RuleID="db_0141" Priority="Strongly Recommended" /> 
      <Rule RuleID="jc_0171" Priority="Strongly Recommended" /> 
      <Rule RuleID="jm_0010" Priority="Strongly Recommended" /> 
      <Rule RuleID="jc_0281" Priority="Strongly Recommended" /> 
      <Rule RuleID="na_0008" Priority="Recommended" /> 
      <Rule RuleID="na_0009" Priority="Strongly Recommended" /> 
    </OmittedRules>
  </BBCE>
</Summary> 
```

C#代码：

```
var button = sender as Button;
var parent = button.Parent as FrameworkElement;

//(Textbox to take element`s name)
var textBox = parent.FindName("textbox1") as TextBox;

var textbl = parent.FindName("abc") as TextBlock;
var com = parent.FindName("cbox1") as ComboBox;

//(Textbox to take ATTRIBUTE`s name)  
var textBox1 = parent.FindName("textbox2") as TextBox;

XElement ele = XElement.Load(txtFileName.Text);

//working with Xelement.desendents it works fine
var fil = from item in ele.Elements(textbl.Text)
          select item.Element(textBox.Text).Attribute(textBox1.Text);

foreach (var f in fil)
{
    Label lb = new Label();
    lb.Content = f;
    canvas1.Children.Add(lb);
} 
```

我观察到的是，仅使用 BBCE 元素时它可以正常工作，但是在添加带有属性（元素方法）的摘要元素时将无法正常工作。

我错过了什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:35:06.507

[Elements(name)](http://msdn.microsoft.com/en-us/library/bb348975.aspx)方法返回节点的子元素。[Descendants(name)](http://msdn.microsoft.com/en-us/library/bb360635.aspx)方法返回节点的后代元素。那是预期的行为。

So, when you are calling `ele.Elements(textbl.Text)` then search will occur only between direct children of `ele` elements. When you are loading file via `XElement ele = XElement.Load`, then `ele` element will be root element of xml. I.e. `<Summary>` element in your case. It has single child `<BBCE>`. That's why you can find only `<BBCE>` when you are using `Elements()` method to search.

`Descendants()` method in your case will search for any element in document, except `<Summary>` node itself.

# c - gtk gchar 标注

> ID：15018154
> 
> 赞同：0
> 
> 时间：2013-02-22T06:24:23.180
> 
> 标签：c, gtk

当我尝试运行以下代码片段时，我不断收到此错误和奇怪的乱码：

错误是：

**(foo:11333): Pango-WARNING **: 传递给 pango_layout_set_text() 的 UTF-8 字符串无效**

结构定义：

```
typedef struct chat_info ChatInfo;
struct chat_info {
  GtkWidget *text_line1;
  GtkWidget *text_line2;
  GtkWidget *text_line3;
  GtkWidget *entry;

}; 
```

这段代码使第三个标签上出现了奇怪的乱码（第二个标签为空）

```
static void send_message(GtkWidget *window, gpointer data){
    GuiInfo *g = (GuiInfo *) data;

    ChatInfo *c = g->chat;

    const gchar *message = gtk_entry_get_text(GTK_ENTRY(c->entry));  
    const gchar *oldtext1 = gtk_label_get_text( (GtkLabel *) c->text_line1);
    const gchar *oldtext2 = gtk_label_get_text( (GtkLabel *) c->text_line2);

    gtk_label_set_text( (GtkLabel *) c->text_line1, message);
    gtk_label_set_text( (GtkLabel *) c->text_line2, oldtext1);
    gtk_label_set_text( (GtkLabel *) c->text_line3, oldtext2);

} 
```

我查看了错误，我猜这可能是由于我应该给出一个 gchar 字符串时给出一个指针地址之类的东西？一切看起来都不错。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-25T19:31:28.040

我认为问题在于，在您再次调用调用之前，从您的`_get_text()`调用中返回的内存正在被释放。`GtkLabel``_set_text()`

例如，当您调用时`gtk_label_set_text(c->text_line1, message)`，您检索到的指针`oldtext1`无效（调用`gtk_label_get_text()`返回指向字符串内部副本的指针）。

现在您可以通过重新排序代码以删除该依赖项来解决此问题：

```
gtk_label_set_text( (GtkLabel *) c->text_line3, oldtext2);
gtk_label_set_text( (GtkLabel *) c->text_line2, oldtext1);
gtk_label_set_text( (GtkLabel *) c->text_line1, message); 
```

或者也许为了可读性，您应该`strdup()`从中获取字符串`_get_text()`，然后将它们传递给`_set_text()`并在以后释放它们。

# sql - 如何在每 15 分钟的时段中获取最高记录？

> ID：15018163
> 
> 赞同：1
> 
> 时间：2013-02-22T06:25:07.833
> 
> 标签：sql, sql-server-2008-r2

我必须根据日期时间、15 分钟时段、30 分钟时段和 1 小时对数据进行分类。我写了这样的查询 1 小时，

```
select
    a.datetime, feederid,
    vr, vy, vb
from (
    select datetime,feederid, vr, vy, vb, tt, DENSE_RANK() OVER (
        partition by dateadd(hour, datediff(hour, 0, datetime), 0), feederid
        ORDER BY feederid,datetime
    ) rank1
    from pseb.dbo.datasource
    where 
    convert(datetime,datetime) between '2011-06-12' and '2011-06-12 23:59:00'
) a
where rank1 = 1 
```

但我不知道如何将数据分区为 15 分钟插槽值。

我的表格结果集是这样的

```
 DATETIME           FeederID  VR     VY  VB
    2011-06-12 00:09:50 4731    199.148 0   212.69
    2011-06-12 00:05:31 4731    178.531 0   242.838
    2011-06-12 00:36:20 4731    174.622 0   239.756
    2011-06-12 01:10:03 4731    175.645 0   240.328
    2011-06-12 13:10:07 4731    196.387 76.991  241.798
    2011-06-12 18:35:46 4731    207.719 54.756  251.855 
```

这里 00:00 到 15:00 分钟的时段有 2 条记录，我需要按日期时间降序排列的前 1 个订单。

帮我做。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T06:44:01.140

使用窗口函数或分组依据。真正的诀窍是使用 15 分钟窗口的排序键。

```
Select * from 
  (
    Select
      dateadd(
        second, -1 * datepart(second, datetime)
        , dateadd(minute, mod(datepart(minute, datetime),15) * -1, datetime)
      )
      , feederid, vr, vy, vb
      , rank() over (
        partition by dateadd(
          second
          , -1 * datepart(second, datetime)
          , dateadd(minute, mod(datepart(minute, datetime),15) * -1, datetime)
        ) order by datetime desc
      ) rnk
   ) where rnk = 1 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T06:45:55.063

首先，要准确并更深入地解释您的问题是一个谦虚的要求。

尽管如此，我还是根据你的问题给出了解决方案。试试这个。请告知它是否工作？

```
declare @s datetime 
select @s=(SELECT
CONVERT(VARCHAR(8),GETDATE(),108) AS HourMinuteSecond
)
print @s
select top 1 * from tablename where m like @s group by datetime desc 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T06:31:03.570

您需要首先获取 15 分钟槽内的所有记录，并使用 desc 按列日期时间对它们进行排序，并将限制设置为 1 以将获取的行的最顶行返回到有关限制的更多信息，请 [参见 http://php.about。 com/od/mysqlcommands/g/Limit_sql.htm](http://php.about.com/od/mysqlcommands/g/Limit_sql.htm)

[http://www.w3schools.com/sql/sql_top.asp](http://www.w3schools.com/sql/sql_top.asp)

# mysql - 如何在 MySQL 的列中查找重复次数最多的单词？

> ID：15018167
> 
> 赞同：3
> 
> 时间：2013-02-22T06:25:35.507
> 
> 标签：mysql

我有一张用户评论表，例如：

```
id  Comments
1   The battery drains off very soon 
2   Screen Quality is very good
3   Even I have the same battery problem
4   Battery can be imporved
5   Screen goes blank sometimes...
6   Over all build is nice 
```

因此，在上述情况下，我想找到手机中最受关注的功能。因此，我可以将结果显示为 50% 的人谈论电池，30% 的人谈论屏幕，20% 的人谈论其他。

怎样才能做到这一点？以及如何从结果集中排除介词、连词等。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T06:29:39.147

如果您有关键字列表，则可以执行以下操作：

```
select kw.keyword, count(*) 
       from t cross join keywords kw on concat(', ', t.title, ',') like concat(', ', kw.keyword, ',') 
```

但是，正如其他人所提到的，您有一个非关系数据库设计。标题中的关键字应存储在单独的行中，而不是作为逗号分隔的列表。

如果您的数据很小（几十万行或更少），您可以将其放入 Excel，使用文本到列功能，重新排列关键字，并在数据库中创建一个新的、更好的表。

# jquery-masonry - 禁用 jQuery 砌体

> ID：15018174
> 
> 赞同：6
> 
> 时间：2013-02-22T06:26:16.973
> 
> 标签：jquery-masonry

我正在尝试为我网站上某个页面的某些状态禁用[jQuery masonry](http://masonry.desandro.com/)，但似乎找不到解决方法。你知道我怎么能做到这一点吗？谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-08T12:43:41.983

这是方法列表 [http://desandro.github.io/masonry/docs/methods.html#content](http://desandro.github.io/masonry/docs/methods.html#content)

假设您的 Masonry 容器 ID 是 #masonry

```
$('#masonry').masonry( 'destroy' ); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-09-23T23:31:32.070

我使用了@kaverzniy 的答案，但将其包裹在

```
var container = $('#container'); // or whatever your container is
if(container.masonry()) {
    $('#masonry').masonry( 'destroy' );
} 
```

避免在初始化之前调用砌体上的方法（以防它尚未初始化）。

# java - Spring注入获取空指针异常

> ID：15018180
> 
> 赞同：0
> 
> 时间：2013-02-22T06:26:47.443
> 
> 标签：java, spring

尝试注入对象时出现空指针异常。这是我的代码：

```
<context-param>
<param-name>contextConfigLocation</param-name>
<param-value>
/WEB-INF/applicationContext.xml
</param-value>
 </context-param>' 
```

应用程序上下文.XML

```
<bean id="accessDao" 
 Class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean" 
  autowire-candidate="true">
  <property name="transactionManager" ref="txManager" />   
  <property name="target" ref="accessDaoTarget" />   
   <property name="transactionAttributes">   
   <props>   
  <prop key="*">PROPAGATION_REQUIRED</prop>   
   </props>   
  </property>   

</bean>   ' 
```

普通豆

```
import com.domain.dao.IDao;
@Named
public class CommonBean implements Serializable{

/**
 * 
 */

private static final long serialVersionUID = 1L;
@Inject
private IDao accessDao;

public IDao getAccessDao()

      {
        return accessDao;
      }

 public void setAccessDao(IDao accessDao)
  {
    this.accessDao = accessDao;
  }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:54:09.273

我想的原因是组件扫描应该包括 Spring 注释的所有文件。因此，要使其正常工作，请扩大要扫描的包的范围。

从改变

```
<context:component-scan base-package="com.myjsf.appl.CommonBean" /> 
```

至

```
 <context:component-scan base-package="com.domain,com.myjsf" /> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-22T18:29:17.423

我认为原因是因为您指的是实现 IDAO 接口的“accessDao”bean。在 applicationContext.xml 上声明的 bean accessDao 是 org.springframework.transaction.interceptor.TransactionProxyFactoryBean 类型，它实现了 BeanFactoryAware 接口而不是 IDAO 接口。

因此，spring 将无法识别您尝试注入的 bean（IDAO accessDAO），并且您的属性将不会被初始化。

# matlab - 使用最速下降算法的自适应线性组合器

> ID：15018181
> 
> 赞同：0
> 
> 时间：2013-02-22T06:26:47.050
> 
> 标签：matlab

我为自适应线性组合器（最速下降）编写了以下代码，并在输入端添加了随机信号。：M=16;

```
M=16;
k=[1:200];
R=[0.5 0.46;0.46 0.5];
P=[0;-0.38];
wstar=[-5 30];
s=sin((2*pi*k)/M);  %input signal
d=cos((2*pi*k)/M);  %desired signal
**x=s+randn(1,M);** %input signal + noise
mu=1;
for i=1:M           %steepest descent algorithm
    w(1)=wstar;
    g(i)=2*R*w(i)-2*P;
    w(i+1)=w(i)+mu*(-g(i));
end
for i=1:M
    y(i) = sum(w(i)*x(i),w(i+1)*x(i+1)); %output signal
    e(i) = d(i)-y(i);  %error signal
end
subplot(221),plot(k,d),ylabel('Desired Signal');
subplot(222),plot(k,s),ylabel('Input Signal+Noise');
subplot(223),plot(k,e),ylabel('Error');
subplot(224),plot(k,y),ylabel('Adaptive Desired output'); 
```

出于某种原因，它说 x=s+randn(1,N) 处有错误。有人可以让我知道我哪里出错了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:56:03.750

`s`是一个长度为 200 的向量（因为`k = 1:200`），并且您正在添加它`randn(1, M)`，这是一个长度为 的向量`M = 16`。这些应该如何加在一起？

# cakephp-2.1 - cakephp 从另一个表下拉

> ID：15018182
> 
> 赞同：1
> 
> 时间：2013-02-22T06:26:49.313
> 
> 标签：cakephp-2.1

我有两张桌子

**声音**：

*   ID
*   Lecturer_id
*   ...

**讲师**：

*   ID
*   讲师
*   代码

add.ctp 用于声音，但有一个列出讲师的下拉列表。那么 Lecturer 的 id 应该保存在 voices 表的 Lecturer_id 中

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T19:04:16.530

我解决了这个问题并想与你分享：

在语音模块中：

```
public $belongsTo = 'Lecturer'; 
```

我在 Voicescontroller 中添加了一些代码来添加操作：

```
 $this->set('lecturers', $this->Voice->Lecturer->find(
            'list',
            array(
                'fields' => array('Lecturer.Lecturer'),
                'order' => array('Lecturer.Lecturer')
            ))); 
```

在 add.ctp 中作为我的下拉列表：

```
 echo $this->Form->input('lecturer_id',  array(
            'options' => array($lecturers),
            'empty' => '(choose one)'
             )); 
```

# c# - C# VS2010 IDE 不友好

> ID：15018183
> 
> 赞同：-4
> 
> 时间：2013-02-22T06:26:49.797
> 
> 标签：c#, ide

我正在使用 VB.NET 和 C#，而 VB.NET 在建议和格式方面非常友好。它很好地格式化了我的行，即使我不小心忘记了对一行进行缩进，它也会在我忘记它时自动添加大括号以及其他让我的生活更轻松的事情。

然而，C# IDE 非常僵化且不友好。例如我写了“Mess”，按空格，以为它会自动选择MessageBox，然后我简单地添加“Some text”并按Enter，它变成了

```
 Message "Some Text 
```

自动提示不够快，无法滚动到“MessageBox”，所以它变成了“Message”。

它也没有自动添加大括号。

也许我要求的太多了，但是否可以选择更正我的代码？我非常喜欢 C#，但输入代码可能会更容易一些，花费的时间也更少。

即使我习惯了正确的操作，如果我必须输入 10 个或 20 个键才能获得正确的结果，对我来说仍然会有所不同。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T06:34:41.337

Visual Studio 功能是自学的。当您键入“混乱”时，它会尝试找到您的意思。在 C# 中（我猜也是在 VB 中）有多个以“Mess”开头的关键字和类，所以它选择了第一个。您使用此功能选择第一个以外的东西的次数越多（例如总是从输入“Mess”时弹出的列表中选择MessageBox），这将成为默认值。尝试放慢速度并从列表中选择 MessageBox 几次，Intellisense 下次会建议将 MessageBox 作为默认值。

合上大括号时会检查并纠正缩进。如果您需要重新格式化，最快的方法是删除并重新输入您想要格式化的任何范围的右括号。

至于牙套，您必须自己设置。有像 R# 这样的工具可以为您做到这一点，但好的工具需要花钱。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T06:39:14.240

您可以调整 InteliSense 以使其工作得更好一些（请参阅[此处](http://msdn.microsoft.com/en-us/library/hcw1s69b%28v=vs.100%29.aspx)），并且您使用它的次数越多，它就会变得越智能，但除了显示可用于当前变量/对象的选项列表或自动添加右括号或引号，你永远不会读懂你的想法。

像 ReSharper 这样的工具也可以提供帮助，但即使是好的工具也需要配置和成本（有时相当多）。

# css - 将按钮与基础css中的文本输入对齐

> ID：15018185
> 
> 赞同：4
> 
> 时间：2013-02-22T06:26:53.103
> 
> 标签：css, zurb-foundation

如何使用基础 css 框架让按钮与文本输入对齐？我尝试使用“内联”类将标签与文本输入垂直对齐，但它不适用于按钮。默认情况下，按钮的顶部边缘似乎与文本输入的顶部边缘内联。

```
<form>
    <div class="row">
        <div class="three columns">
            <input type="text" />
        </div>
        <div class="two columns end">
        <button type="button" class="button inline">Do Something</button>
    </div>
    </div>
</form> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-25T00:28:02.103

添加`margin-top:-3px`到按钮

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-06-13T14:20:54.203

好吧，Foundation 的做法就是将字段和按钮放在同一行

```
 <div class="row"> 
```

并分配每个字段/按钮列，如下所示

```
<div class="row">
  <%= form_tag search_path, method: 'get' do %>
    <div class="small-9 columns"> 
      <%= text_field_tag :query, params[:query], type: "search", class: "search-field" %>
    </div>
    <div class="small-3 columns"> 
      <%= submit_tag "Search", name: nil, class: "search-form tiny button" %>
    </div>
  <% end %>
</div> 
```

嗯，类似的东西。用您的表格替换逻辑。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T07:34:41.190

您是否尝试过将您的 div 设置为具有垂直对齐的内联块？

```
div{display:inline-block;vertical-align:middle;} 
```

jsFiddle 示例[http://jsfiddle.net/v4ALL/1](http://jsfiddle.net/v4ALL/1)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-04-27T18:18:08.363

我不确定这是否是同一个问题，但这可能会有所帮助。我被困在使用基础 4 的文本输入字段中获取按钮，发现 input[type="text"] 宽度设置为 100% 并设置为 display:block，因此输入按钮没有空间适合内联。

使用 CSS 钩子

```
input[type="text"].yourClassName 
```

如果您覆盖这些属性

```
display:line;
width:80%; 
```

然后按钮将能够插入右侧。

希望有帮助。

# android - 游标索引超出范围“请求的索引 0：大小为 0”

> ID：15018186
> 
> 赞同：1
> 
> 时间：2013-02-22T06:27:08.893
> 
> 标签：android, android-cursor

我在收件箱中搜索短信时收到`cursor index out of bounds` ***“请求索引 0：大小为 0”错误。我编写了以下代码：***

```
 @Override
        public void onClick(View arg0) {
            // TODO Auto-generated method stub              
            Cursor cursor = getContentResolver().query(Uri.parse("content://sms/inbox"), null, null, null, null);
            cursor.moveToFirst();
            do{

               String msgData = "";
               for(int idx=0;idx<cursor.getColumnCount();idx++)
               {
                   msgData += " " + cursor.getColumnName(idx) + ":" + cursor.getString(idx);
                   Toast.makeText(getApplicationContext(), msgData, Toast.LENGTH_LONG).show();
               }
            }while(cursor.moveToNext());
        }
    });  
 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:40:27.850

只需检查您的 cursor.moveToNext() 如下：

```
if(cursor.moveToNext())
{
    while(!cursor.isAfterLast())
    {
         //do your job.
         cursor.moveToNext();
    }
} 
```

出现问题是因为您正在**使用 do while 循环**，**甚至没有检查**游标**是否有任何行**。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T06:33:02.537

```
Cursor cursor = getContentResolver().query(Uri.parse("content://sms/inbox"), null, null, null, null);
       if ( cursor.getCount() > 0 )
          for(int i=0;i<cursor.getCount();i++)
          {
              cursor.moveToPosition(i);

           String msgData = "";
           for(int idx=0;idx<cursor.getColumnCount();idx++)
           {
               msgData += " " + cursor.getColumnName(idx) + ":" + cursor.getString(idx);
               Toast.makeText(getApplicationContext(), msgData, Toast.LENGTH_LONG).show();
           }

        }else
           Toast.makeText(getApplicationContext(), "No message was found in device", Toast.LENGTH_SHORT).show(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T06:31:25.157

在调用 Cursor 上的任何方法之前，您需要检查您的查询是否返回结果。你可以通过检查来做到这一点`cursor.getCount() > 0`。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-22T06:31:37.080

您应该检查的返回值`cursor.moveToFirst()`或简单地检查`cursor.getCount()`

# c# - 我应该抛出 Global.asax 的 Application_Error 处理程序中发生的异常吗？

> ID：15018190
> 
> 赞同：7
> 
> 时间：2013-02-22T06:27:30.637
> 
> 标签：c#, asp.net, exception-handling, global-asax

aspx.cs 中未处理的错误代码将被 global.asax 中的 Application_Error 处理程序捕获。
我已经在 Application_Error 处理程序中编写了一些代码来记录在 aspx.cs 中发生的此类未处理的错误
但是如果日志本身的代码也失败并生成了异常。（可能是由于 I/O 或文件系统问题）
我应该抛出这样的异常吗?
如果我把它扔掉，哪个事件应该收到这样的异常？
或者如果我写“抛出”语法没有区别？
代码示例如下

```
protected void Application_Error(object sender, EventArgs e)
{
    try
    {
        // my codes to log exception to Database System here....
    }
    catch(Exception)
    {
        throw;  //Should I write "throw" syntax here ? 
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T07:52:35.397

Application_Error 是您可以记录在线程（目前正在处理您的请求）被中止之前发生的异常的最后一个地方。

你不需要抛出任何异常，因为它会在函数退出后自动抛出。

这是它的合理[实现](http://www.wduffy.co.uk/blog/using-application_error-in-asp-net-mvcs-global-asax-to-handle-errors/)。

我认为您最关心的是如果您的故障转移机制失败该怎么办。在这种情况下，它是您的日志记录。这在计算机中是一个更大的问题，但是构建链式故障转移机制通常是浪费时间，因为最终一切都*可能*失败（对您自己的研究的建议：尽量保持一切无状态）。您最好的选择是拥有一个非常可靠的日志记录机制作为您最后的手段，这将在 99.9% 的时间内成功。不打算讨论如何创建这样的机制（而且自己做也不是一个好主意 - 无论如何都要创建自己的记录器，因为有很多技巧需要知道以确保您的日志记录足够高效且不引人注目）但总的来说，我建议你使用[elmah](http://code.google.com/p/elmah/)，它可能是目前可用的最好的日志框架，它将为您服务。

对于可能会出现的极少量错误（在现实生活中它们可能不会），我不会为它们失眠。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T06:31:32.540

*   `Server.GetLastException()`登录后要扔吗？这取决于该异常的性质和原因。我会在特殊的占位符或弹出窗口中显示它
*   如果尝试记录该异常发生抛出异常？那么你肯定想吞下它

# json - 在 NV D3 水平条形图中如何使用 Json 作为数据？

> ID：15018193
> 
> 赞同：0
> 
> 时间：2013-02-22T06:27:45.953
> 
> 标签：json, d3.js, nvd3.js

它现在是nv d3条形图程序的源程序我分离了条形图数据的硬代码，即data.json，它现在不显示图表。

```
 <script>
   d3.json("Data.json", function (data) {
   var chart;
   nv.addGraph(function() {
   chart = nv.models.multiBarHorizontalChart()
  .x(function(d) { return d.label })
  .y(function(d) { return d.value })
  .margin({top: 30, right: 20, bottom: 50, left: 175})
  .showValues(true)
  .tooltips(false)
  .showControls(false);

   chart.yAxis
  .tickFormat(d3.format(',.2f'));

  d3.select('#chart1 svg')
  .datum(data)
  .transition().duration(500)
  .call(chart);

  nv.utils.windowResize(chart.update);

 chart.dispatch.on('stateChange', function(e) { nv.log('New State:', JSON.stringify(e));                   
   });

  return chart;
  });

  });

  </script> 
```

这是我从源中分离出来的data.json，它不起作用

```
 [
  { 
    "label" : "Group A" ,
    "value" : -1.8746444827653
  } , 
  { 
    "label" : "Group B" ,
    "value" : -8.0961543492239
  } , 
  { 
    "label" : "Group C" ,
    "value" : -0.57072943117674
  } , 
  { 
    "label" : "Group D" ,
    "value" : -2.4174010336624
  } , 
  {
    "label" : "Group E" ,
    "value" : -0.72009071426284
  } , 
  { 
    "label" : "Group F" ,
    "value" : -0.77154485523777
  } , 
  { 
    "label" : "Group G" ,
    "value" : -0.90152097798131
  } , 
  {
    "label" : "Group H" ,
    "value" : -0.91445417330854
  } , 
  { 
    "label" : "Group I" ,
    "value" : -0.055746319141851
  }
] 
```

请帮助我分离json时出了什么问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:33:06.773

除非之前声明过，否则您不会将任何数据传递给图表...

```
d3.select('#chart1 svg')
   .datum(long_short_data) 
```

这应该是：

```
d3.select('#chart1 svg')
   .datum(data) 
```

如果您打算从 json 文件加载图表数据...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T17:17:31.230

坚持[示例代码](https://github.com/novus/nvd3/blob/master/examples/multiBarHorizontalChart.html)中使用的格式，您需要提供*系列*数据，即使您只有一个系列。您还可以选择为每个系列设置颜色名称。

```
long_short_data = [
  {
    key: 'Series1',   // optional
    color: '#d62728', // optional
    values: [
      {
        "label" : "Group A" ,
        "value" : -1.8746444827653
      } ,
      {
        "label" : "Group B" ,
        "value" : -8.0961543492239
      } 
    /* ... */
  }
]; 
```

# php - 在mysql中同时选择和更新时出错

> ID：15018197
> 
> 赞同：1
> 
> 时间：2013-02-22T06:28:06.020
> 
> 标签：php, mysql

我陷入无法追踪的 php/mysql 错误。我的表 user_like 结构包含示例数据

```
id user_id song_id like
1  1       1        1
2  1       2        0 
```

0代表不喜欢，1代表喜欢。现在我已经使用 php 查询表，例如 [http://myhost.net/server/services/songlike.php?uid=1&song_id=1](http://myhost.net/server/services/songlike.php?uid=1&song_id=1) 并且我在使用以下代码段的查询中也得到了类似的结果。

```
$query="select * from atr_like  where user_id='$uid' and song_id='$songid' limit 1 ";
$rs = mysql_query($query);
$row = mysql_fetch_assoc($rs);
print_r($row);
echo "<br>";
$like=$row['like'];
echo $like; 
```

我成功地得到了这个值。我正在做的是，如果 like 不存在意味着 null 然后在 table 中插入 like。否则我只是通过更新来切换它的值，如果它是零然后是一，反之亦然。在这里我收到错误。我的 PHP 代码是

```
 if(mysql_num_rows($rs) > 0 && $like!=null)
        {
    if($like==1)
    {
    // "user has liked it already so dislike it update like to 0 ";
    $query1="update  atr_like set like=0 where user_id='$uid' and song_id='$songid'";
    }   
    else
    {
    //"user has disliked it previously already so  update like to 1 ";
    $query1="update  atr_like set like=1 where user_id='$uid' and song_id='$songid'";
    }

        }
        else
        {
        echo "first time so insert record . user is going to like";
        $query1="insert into  atr_like   (user_id,song_id,like) values ('$uid','$songid',1)";
        }
$rs1 = mysql_query($query1)or  die(mysql_error());
mysql_close($conn); 
```

错误信息是：

`You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'like=1 where user_id='1' and song_id='1375'' at line 1.`

是否由于 mysql 问题，您无法更新先前查询的 sql 选择中存在的任何记录？语法看起来不错，但仍然显示语法错误。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T06:33:40.463

您正在使用 mysql 保留关键字[`like`](http://dev.mysql.com/doc/refman/5.0/en/reserved-words.html)

Like 子句在列中使用指定模式

> 喜欢的是
> 
> [`expr LIKE pat [ESCAPE 'escape_char']`](http://dev.mysql.com/doc/refman/5.0/en/string-comparison-functions.html#operator_like)
> 
> 模式匹配使用 SQL 简单的正则表达式比较。返回 1 (TRUE) 或 0 (FALSE)。如果 expr 或 pat 为 NULL，则结果为 NULL。

所以要么使用反引号，所以它的行为就像列名，否则最好不要使用保留关键字作为列名

> [**请不要`mysql_*`在新代码中使用函数**](https://stackoverflow.com/questions/12859942/why-shouldnt-i-use-mysql-functions-in-php/14110189#14110189)。它们不再被维护[并被正式弃用](https://wiki.php.net/rfc/mysql_deprecation)。改为了解[*准备好的语句*](http://j.mp/T9hLWi)，并使用[PDO](http://php.net/pdo)或[MySQLi](http://php.net/mysqli)

恕我直言，仅使用 PDO

* * *

如果有，也避免使用单例

```
$like=$row['like'];
echo $like; 
```

我认为不需要创建变量`$like`，您可以简单地`echo $row['like'];`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T06:30:23.897

更改您的查询

```
$query1="update  atr_like set like=0 where user_id='$uid' and song_id='$songid'"; 
```

至

```
$query1="update  atr_like set `like`=0 where user_id='$uid' and song_id='$songid'"; 
```

`like`是mysql中的保留字。如果您将列命名为与 mysql 的保留字相同，则必须使用反引号作为列名。

也改变这个查询。

```
$query1="insert into  atr_like   (`user_id`,`song_id`,`like`) values ('$uid','$songid',1)"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T06:34:07.857

尝试

```
$query1 = "update atr_like set `like` = 0 where user_id = '".$uid."' and song_id = '".$songid."'"; 
```

用于插入

```
$query1 = "insert into atr_like (user_id,song_id,`like`) values ('".$uid."','".$songid."',1)"; 
```

# ektron - 使用 API 在 Ektron 中获取表单的默认值

> ID：15018200
> 
> 赞同：2
> 
> 时间：2013-02-22T06:28:16.913
> 
> 标签：ektron

我在 Ektron 8.02 中工作。

我正在尝试获取与工作区中的 Ektron“HTML 表单”相关的数据。我需要使用 API 获取表单字段名称及其默认值。我尝试使用 Ektron.Cms.API.Content.Form.GetFormFieldList API。但我无法获得与表单字段关联的默认值。是否有任何其他 API 提供此数据？有人可以为我提供一些见解吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-09T03:45:59.820

我刚刚回答了一个类似的问题 - [Ektron 中的 FormBlock Server Control](https://stackoverflow.com/questions/14380764/formblock-server-control-in-ektron/17536437#17536437)

没有办法（我能找到）使用 Ektron API 获得你需要的东西。无论出于何种原因，API 都不会为您提供默认值。但是，表单的 HTML 确实包含默认值。您可以使用该属性从 FormBlock 服务器控件获取 HTML `EkItem.Html`，也可以使用 ContentAPI。我的第一个想法是使用 FormAPI 并获取 FormData 对象，但奇怪的是，FormData 返回一个空的 Html 属性。因此，要仅使用 API 调用来执行此操作，您需要实例化两个类： `Ektron.Cms.API.Content.Content`用于 HTML 和`Ektron.Cms.API.Content.Form`用于表单字段列表。

所以，长话短说，这里有一些代码会给你一个字典，其中键是字段的名称，值是字段的默认值。

```
private Dictionary<string, string> GetFormFieldDefaults(long formId)
{
    var defaults = new Dictionary<string, string>();
    var formApi = new Ektron.Cms.API.Content.Form();
    var contentApi = new Ektron.Cms.API.Content.Content();

    var formFields = formApi.GetFormFieldList(formId);
    var formData = formApi.GetForm(formId); // Can't use FormData; have to use ContentAPI / ContentData to get the HTML
    //if (string.IsNullOrEmpty(formData.Html)) throw new Exception("FormData with empty HTML. Eeek!");

    var contentData = contentApi.GetContent(formId);
    var formXml = string.Concat("<ekForm>", contentData.Html, "</ekForm>");
    var ekForm = XElement.Parse(formXml);
    var inputs = ekForm.Descendants("input");
    foreach (var fieldDefinition in formFields.Fields)
    {
        var name = fieldDefinition.FieldName;
        var input = inputs.FirstOrDefault(i => i.Attribute("id").Value == name);
        if (input == null) continue;

        var defaultValue = input.Attribute("value").Value;
        defaults.Add(name, defaultValue);
    }
    return defaults;
} 
```

此代码仅查找`<input />`字段，因此如果您想要下拉列表的默认值，可能需要做一些额外的工作。

# java - Java - SHA-256 散列：无效的 AES 密钥长度：64 字节

> ID：15018206
> 
> 赞同：1
> 
> 时间：2013-02-22T06:29:01.963
> 
> 标签：java, aes, sha256

```
public static String doGenerate() {
    int val = 10000000;
    Random r = new Random();
    int gen = r.nextInt(89999999);
    int gen1 = r.nextInt(89999999);
    gen = val + gen;
    gen1 = val + gen1;
    String reply = gen + "" + gen1;
    return reply;
} 
```

这是我用来生成下面给出的 AES 算法所需的密钥的方法。

```
public static void decryptFile(String keyString, String fileName){
    try {
        KeyGenerator kgen = KeyGenerator.getInstance("AES");
        kgen.init(128);
        SecretKey key = (SecretKey) new SecretKeySpec(
            keyString.getBytes(), "AES");// kgen.generateKey();

        AESEncrypter encrypter = new AESEncrypter(key);

        encrypter.decrypt(new FileInputStream(
            new java.io.File("").getCanonicalFile() +
            File.separator + "Received"+
            File.separator + fileName),
            new FileOutputStream(new java.io.File("").getCanonicalFile() +
            File.separator + "Decrypted" + 
            File.separator + fileName));
    } catch (Exception e) {
        e.printStackTrace();
    }
} 
```

这是 AESEncrypter 方法。

```
 public AESEncrypter(SecretKey key) {
    // Create an 8-byte initialization vector
    byte[] iv = new byte[] { 0x00, 0x01, 0x02, 0x03, 0x04, 0x05, 0x06,
            0x07, 0x08, 0x09, 0x0a, 0x0b, 0x0c, 0x0d, 0x0e, 0x0f };

    AlgorithmParameterSpec paramSpec = new IvParameterSpec(iv);
    try {
        ecipher = Cipher.getInstance("AES/CBC/PKCS5Padding");
        dcipher = Cipher.getInstance("AES/CBC/PKCS5Padding");

        // CBC requires an initialization vector
        ecipher.init(Cipher.ENCRYPT_MODE, key, paramSpec);
        dcipher.init(Cipher.DECRYPT_MODE, key, paramSpec);
    } catch (Exception e) {
        e.printStackTrace();
    }
} 
```

解密后我得到一个无效的密钥异常：java.security.InvalidKeyException: Invalid AES key length: 64 bytes。为什么会这样？有解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:14:32.213

您的密钥生成功能存在缺陷 - 它仅生成整数并将其转换为字符串，从而大大减少了可用的密钥空间并显着削弱了您的密钥。

但是，它确实会产生适合 AES 密钥的 16 字节值。我只能假设您在上次收到错误消息后更改了代码？

我强烈建议您恢复为仅使用`KeyGenerator`来生成 AES 密钥。这将以安全的方式进行。

# c# - 列表的深度克隆 没有，其中 T 是 IClonable

> ID：15018208
> 
> 赞同：1
> 
> 时间：2013-02-22T06:29:20.277
> 
> 标签：c#, collections, clone

我有下面的类来生成层次树结构

```
public class DynaTreeNode
{
    #region---Property---
    public string title { get; set; }     
    public string key { get; set; }
    public object icon { get; set; }
    List<DynaTreeNode> _children = new List<DynaTreeNode>();
    public List<DynaTreeNode> children
    {
        get { return _children; }
        set { _children = value; }
    }      
} 
```

我也有一个 DynaTreeNode 列表

```
List<DynaTreeNode> wholeTree = new List<DynaTreeNode>();//originally from DB 
```

现在我想将此列表集合克隆到一个新列表中

Todo this 我想用

```
wholeTree.Select(i => i.Clone()).ToList(); 
```

在这种情况下，我需要为 DynaTreeNode 实现 IClonable 接口。但问题是 IClonable 不会做深拷贝。来自[http://blogs.msdn.com/b/brada/archive/2003/04/09/49935.aspx](http://blogs.msdn.com/b/brada/archive/2003/04/09/49935.aspx)

参考[如何在 C# 中克隆通用列表？](https://stackoverflow.com/questions/222598/how-do-i-clone-a-generic-list-in-c)

这个答案也使用 IClonable。

***如何使用深拷贝克隆我的列表？***.

**注意：**我希望所有的孩子（列表）也应该被克隆。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T06:44:54.467

如果性能不是太大问题，您可以使用序列化来实现通用的深度克隆方法（例如，请参阅[此问题](https://stackoverflow.com/questions/1251277/net-deep-cloning-what-is-the-best-way-to-do-that/1822146#1822146)、[此问题](https://stackoverflow.com/questions/4152733/how-to-implement-clone-and-copy-method-inside-a-class/4152767#4152767)、[此问题](https://stackoverflow.com/questions/8935056/cloning-objects-without-serialization)或查看[本文](http://www.codeproject.com/Articles/23832/Implementing-Deep-Cloning-via-Serializing-objects)）。

如果这不是一个选项（例如，由于性能问题），您将必须实现一个专用方法来克隆您的节点。例如，您的方法

```
wholeTree.Select(i => i.Clone()).ToList(); 
```

是完全[有效](https://stackoverflow.com/questions/222598/how-do-i-clone-a-generic-list-in-c/222640#222640)的。你自己实现的 Clone 方法当然可能会返回一个深克隆（ICloneable 没有指定是深还是浅；这就是很多人认为 ICloneable 有害的原因）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T08:20:53.503

我的回答很简单（对不起，我的英语不好，很难回答:)）

您可以对选择子元素使用递归。

您需要编写函数，该函数将调用 self 并返回子元素

# syslog - 在 Graylog2 中使用 Syslog 功能

> ID：15018210
> 
> 赞同：0
> 
> 时间：2013-02-22T06:29:28.483
> 
> 标签：syslog, graylog2

我安装了 Graylog2 v 0.9.6，它的系统日志服务器正在侦听 UDP 端口 33000。下面是它的配置：

```
# On which port (UDP) should we listen for Syslog messages? (Standard: 514)
syslog_listen_port = 33000
syslog_protocol = udp

# ElasticSearch URL (default: http://localhost:9200/)
elasticsearch_url = http://localhost:9200/
elasticsearch_index_name = graylog2

# Always try a reverse DNS lookup instead of parsing hostname from syslog message?
force_syslog_rdns = false

# MongoDB Configuration
mongodb_useauth = false
mongodb_user = grayloguser
mongodb_password = 123
mongodb_host = localhost
#mongodb_replica_set = localhost:27017,localhost:27018,localhost:27019
mongodb_database = graylog2
mongodb_port = 30000 
```

graylog2 服务器中没有错误，并且已使用 netstat 验证 syslog 服务器正在侦听配置的端口。

使用 Unix 实用程序 nc，我尝试向它发送消息，但它没有显示在 Graylog2 GUI 上。

我尝试了以下命令：

> nc -u 127.0.0.1 33000 < cron.1

其中 cron.1 是一个日志文件，其中包含 cron 作业发出的消息。

我错过了什么？在哪里检查 graylog2 是否接受了消息？为什么他们不出现在 GUI 上？

请帮助，

侯赛因

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T12:30:40.780

您的 netcat 命令根本没有模拟 syslog，因为它发送的整个文件也很可能不是 syslog 格式。

# c# - WCF 服务 (NetTcpBinding) 在负载平衡环境中无法正常工作

> ID：15018212
> 
> 赞同：0
> 
> 时间：2013-02-22T06:29:31.370
> 
> 标签：c#, wcf

我在负载平衡环境中运行时遇到错误 WCF windows 应用程序。

* * *

## 登录错误

## 无法连接到 net.tcp://192.168.1.63:7000/FFSecuritySVC。连接尝试持续了 00:00:21.0609450 的时间跨度。TCP错误码10060：连接尝试失败，因为连接的一方在一段时间后没有正确响应，或者连接的主机没有响应192.168.1.63:7000，建立连接失败。

## 好的

我使用“nettcpbinding”方法进行绑定和代码如下。

```
<behaviors>
  <serviceBehaviors>
    <behavior name="CommonBehavior"/>
  </serviceBehaviors>
  <endpointBehaviors>
    <behavior name="CommonBehavior">
      <dataContractSerializer maxItemsInObjectGraph="65536000" />
    </behavior>
  </endpointBehaviors>
</behaviors>

<bindings>
  <netTcpBinding>
    <binding name="netTcpBinding" maxReceivedMessageSize="9000000" transferMode="Buffered"  listenBacklog="500" maxBufferPoolSize="9000000"  maxBufferSize="9000000"  maxConnections="500"
                     closeTimeout="02:02:00" openTimeout="02:02:00" receiveTimeout="02:02:00" sendTimeout="02:02:00">
      <readerQuotas maxDepth="32"  maxStringContentLength="9000000"  maxArrayLength="9000000"  maxBytesPerRead="9000000" maxNameTableCharCount="9000000" />
      <reliableSession ordered="true" inactivityTimeout="02:02:00"
           enabled="false" />
      <security mode="None">
        <transport clientCredentialType="Windows" protectionLevel="None" />
        <message clientCredentialType="Windows" />
      </security>
    </binding>
  </netTcpBinding>
</bindings> 
```

请给我解决这个问题的解决方案......

# c# - 使用c#在Excel中链接2个单元格

> ID：15018215
> 
> 赞同：0
> 
> 时间：2013-02-22T06:29:42.230
> 
> 标签：c#, excel, office-interop, excel-interop

我需要链接来自 2 个不同 excel 工作簿的 2 个单元格。我怎样才能做到这一点？示例：假设`A1`单元格 of`Book1`和`B2`of`Book2`是否已链接。如果我用 更新 A1 单元格`Book1`，`1000`那么应该自动更新`B2`为. 知道如何在 c# 中链接单元格吗？`Book2``1000`

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:31:03.730

我会使用标准方法：在 excel 中构建正确的公式，查看部件并在 C# 中构建字符串。然后将此字符串值分配给 range.formula 属性，您就完成了...

# extjs - EXTJS Radio Group 背景颜色为白色

> ID：15018219
> 
> 赞同：0
> 
> 时间：2013-02-22T06:30:04.193
> 
> 标签：extjs, radio-button, radio-group

我正在尝试将我的广播组的背景颜色设置为 . 但是，以下代码的背景颜色仍然是白色：

```
xtype: 'radiogroup',
hideLabel: true,
id: 'rtse1',
disabled: true,
width: 255,
bodyStyle: 'background-color: #DDE5E9;',
style: 'padding-left:85px',
items: [
   {boxLabel: 'Static', name: 'rb-auto17', inputValue: 'Y', checked: true},
   {boxLabel: 'Default', name: 'rb-auto17', inputValue: 'N'}
] 
```

有没有办法解决这个问题。非常感谢您的帮助。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:50:33.817

`bodyStyle`不是无线电组的配置，它不扩展面板。相反，您应该只设置`style`配置或`cls`属性并通过 css 完成。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-19T11:21:21.003

`style`应用到`radiogroup`未正确应用。
所以我申请`cls`了（正如@EvanTrimboli 建议的那样）

```
cls: 'custom_group' 
```

在css文件中：

```
.custom_group .x-panel-body{
    background-color: #DDE5E9;
} 
```

# internet-explorer - 是否有任何工具可用于检查 IE 兼容性？

> ID：15018220
> 
> 赞同：0
> 
> 时间：2013-02-22T06:30:06.963
> 
> 标签：internet-explorer

是否有任何工具可用于检查 IE 兼容性并列出不兼容的项目？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:04:15.680

试试这个： [http ://www.modern.ie/](http://www.modern.ie/)

最近由 Microsoft 创建并突出了一些需要测试的棘手的东西（兼容模式等）

# vala - Alsa 以 2 倍的频率播放 vorbis

> ID：15018239
> 
> 赞同：2
> 
> 时间：2013-02-22T06:31:46.720
> 
> 标签：vala, alsa, vorbis

我目前正在尝试学习如何使用 Alsa 播放音频文件。我似乎大部分时间都拥有它，文件加载和播放，但我必须将频率降低一半才能让它正确播放。为什么会这样，我该如何解决？

这是我目前使用的 Vala 代码：

```
using Alsa;
using Gee;
using OGG;

namespace SoundTest
{
    public class Sound : Object
    {
        private PcmDevice sound_device;
        private char[] sound_data;

        private uint8[] alsa_data;
        private long bit_rate;

        public class Sound()
        {
        }

        ~Sound()
        {
            sound_device.drain();
            sound_device.close();
        }

        public void init()
        {
            read_sound_file();
            setup_sound_player();
        }

        public void play_sound_file()
        {
            sound_device.writei(alsa_data, sound_device.bytes_to_frames(alsa_data.length));
        }

        private uint8[] convert_data(char[] buffer)
        {
            uint8[] conversion;

            // Just need to convert to an array of uint8s.
            conversion = new uint8[buffer.length];
            for (int i = 0; i < buffer.length; i++)
            {
                conversion[i] = (uint8)buffer[i];
            }

            return conversion;
        }

        private void setup_sound_player()
        {
            // Open the sound device.
            if (PcmDevice.open(out sound_device, "default", PcmStream.PLAYBACK, 0) != 0)
            {
                critical("Unable to open a sound device\n");
                return;
            }

            // Set the parameters to use for playback.
            if (sound_device.set_params(PcmFormat.S16_LE, PcmAccess.RW_INTERLEAVED, 2, (int)bit_rate/2, 1, 500000) != 0)
            {
                critical("Could not set params properly\n");
                return;
            }

            // Prepare the device for playback.
            if (sound_device.prepare() != 0)
            {
                critical("Could not prepare the device\n");
                return;
            }
        }

        private void read_sound_file()
        {
            char[] buffer;
            int stream;
            long bytesRead;
            string filename;
            File inputFile;
            Info? soundInfo = null;
            Vorbis soundFile;
            ArrayList<char> data;

            filename = "./Median_test.ogg";

            // Make sure the file exists.
            inputFile = File.new_for_path(filename);
            if (inputFile.query_exists())
            {
                // Set the file to be read.
                message("Reading file: %s\n", filename);
                soundFile = Vorbis(filename);

                // Get the information about the sound file.
                soundInfo = soundFile.get_info(-1);

                if (soundInfo != null)
                {
                    stdout.printf("Version: %d\nChannels: %d\nRate: %ld\nBitrate: %ld, %ld, %ld\n\n",
                                  soundInfo.version, soundInfo.channels,
                                  soundInfo.rate, soundInfo.bitrate_lower,
                                  soundInfo.bitrate_nominal, soundInfo.bitrate_upper);

                    // Store the bitrate information of the sound file.
                    bit_rate = soundInfo.rate;
                }

                // Read the data from the file. Here I read a small array worth of
                // data and then store it in an array list. I then need to turn
                // that array list into a single array. I wish there was a function
                // to do it from the list, but I'll just loop.
                buffer = new char[4096];
                stream = 0;
                data = new ArrayList<char>();
                bytesRead = soundFile.read(buffer, 0, 2, 1, ref stream);
                while (bytesRead > 0)
                {
                    for (int i = 0; i < bytesRead; i++)
                    {
                        data.add(buffer[i]);
                    }

                    bytesRead = soundFile.read(buffer, 0, 2, 1, ref stream);
                }
                stdout.printf("Bytes read: %ld\n", bytesRead);

                sound_data = new char[data.size];
                for (int i = 0; i < data.size; i++)
                {
                    sound_data[i] = data[i];
                }

                // Now convert the vorbis data into the type of data alsa needs.
                alsa_data = convert_data(sound_data);
            }
            else
            {
                critical("No such file:\n\t%s\n\n", filename);
            }
        }

        public static int main(string[] args)
        {
            Sound test;

            stdout.printf("Starting Sound Test\n");

            test = new Sound();
            test.init();
            test.play_sound_file();

            stdout.printf("Done\n");

            return 0;
        }
    }
} 
```

感谢您提供的任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-23T09:54:45.993

您正在为两个通道配置声音设备，但该文件实际上只有一个。

# entity-framework - 如何检查 .edmx 模型是否在 C# 中使用 DbContext 或 ObjectContext

> ID：15018242
> 
> 赞同：0
> 
> 时间：2013-02-22T06:31:54.787
> 
> 标签：entity-framework, c#-4.0, visual-studio-2012, entity-framework-5

如何以编程方式检查我的 .edmx 实体框架模型是否在 c# 中使用 DbContext 或 ObjectContext？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:19:51.943

使用 DbContext 的不是您的 .edmx。如果您不使用默认生成器模板，则上下文由您选择的模板生成。

在运行时，您可以检查您的上下文对象是 DbContext 还是 ObjectContext

```
if(_ctx is DbContext)
{...} 
```

# java - Java程序从MacOSX上的终端抛出无头异常

> ID：15018248
> 
> 赞同：0
> 
> 时间：2013-02-22T06:32:18.903
> 
> 标签：java, swing, headless

我有一个带有 swing gui 和 graphics2d 的 java 程序，它在 Eclipse 中运行良好，但是当我导出它并运行它（在同一台机器上）时，我得到了这个错误：

```
Exception in thread "main" java.awt.HeadlessException
at java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:202)
at java.awt.Window.<init>(Window.java:534)
at java.awt.Frame.<init>(Frame.java:420)
at javax.swing.JFrame.<init>(JFrame.java:224)
at com.lunumia.frame.MainFrame.createFrame(MainFrame.java:17)
at com.lunumia.start.Lunumia.main(Lunumia.java:26) 
```

它是一个 macbook pro.. 不是服务器或任何东西。

编辑：第 26 行：

```
MainFrame.createFrame(); 
```

在 createFrame() 中：

```
frame = new JFrame("Lunumia");
frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
frame.setSize(900, 600);
frame.setLocationRelativeTo(null);
panel = new PanelLogin(frame);
frame.addKeyListener(new KeyboardListener());
frame.addMouseListener(new MouseClickListener(panel));
frame.add(panel);
frame.setVisible(true); 
```

编辑：发现由 Java 1.7 引起，在没有的计算机上工作。但是，我不能降级，它只是说当我删除 java 时安装了 java 1.7 internal。我怎样才能让它工作？

# prolog - 地图列表错误？

> ID：15018251
> 
> 赞同：3
> 
> 时间：2013-02-22T06:32:37.093
> 
> 标签：prolog, gnu-prolog

以下使用的 maplist 在 swi-prolog 而不是 gprolog 中工作：

```
GNU Prolog 1.3.1
By Daniel Diaz
Copyright (C) 1999-2009 Daniel Diaz
| ?- maplist(writeln,[1,2,3]).
uncaught exception: error(existence_error(procedure,maplist/2),top_level/0)
| ?- 
```

问候！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T07:03:46.633

我刚刚在我的 gprolog 上对其进行了测试：

```
GNU Prolog 1.4.1
By Daniel Diaz
Copyright (C) 1999-2012 Daniel Diaz
| ?- maplist(write,[1,2,3]).  
123 
```

因此`maplist`在较新的版本中定义。

另请注意，`writeln`gprolog 中没有，所以如果你需要它，你必须先定义它。

# windows-8 - Windows8使用winjs xhr POST将图像上传到php服务器

> ID：15018252
> 
> 赞同：0
> 
> 时间：2013-02-22T06:32:40.300
> 
> 标签：windows-8

我在将图像上传到服务器时遇到问题。我使用winjs xhr post将图像上传到服务器

问题是 php 中的 upload_field index not defined 错误请在下面找到用于从 Windows 8 上传图像的代码库。

```
function pickImage() {
// Create the picker object and set options
var openPicker = new Windows.Storage.Pickers.FileOpenPicker();
openPicker.viewMode = Windows.Storage.Pickers.PickerViewMode.thumbnail;
openPicker.suggestedStartLocation = Windows.Storage.Pickers.PickerLocationId.picturesLibrary;
// Users expect to have a filtered view of their folders depending on the scenario.
// For example, when choosing a documents folder, restrict the filetypes to documents for your application.
openPicker.fileTypeFilter.replaceAll([".png", ".jpg", ".jpeg"]);

// Open the picker for the user to pick a file
openPicker.pickSingleFileAsync().then(function (file) {
    if (file) {
        // Application now has read/write access to the picked file
        WinJS.log && WinJS.log("Picked photo: " + file.name, "sample", "status");
var fdata = new FormData();
fdata.append('upload_field',file);

       WinJS.xhr({
            type: "post",
            url: "http://localhost/imgupload.php",
            data: fdata,
            // headers: { "Content-type": "application/octet-stream" }

        }).done(function (result) {
            console.log(result.responseText)
        });

        document.getElementById('imgCapture').src
    = window.URL.createObjectURL(file);
    } else {
        // The picker was dismissed with no selected file
        WinJS.log && WinJS.log("Operation cancelled.", "sample", "status");
    }
}); 
```

}

下面是我的 php 代码库。

```
$filesize = filesize($_FILES['upload_field']['tmp_name']); 
echo "The uploaded file size is " . $filesize . " bytes\n";
echo "Stored in: " . $_FILES["upload_field"]["tmp_name"];
$timestamp = time();

if (file_exists("upload/" . $_FILES["upload_field"]["name"]))
  {
  echo $_FILES["upload_field"]["tmp_name"] . " already exists. ";
  }
else
  {   
  $fname = $timestamp.$_FILES["upload_field"]["name"];
  move_uploaded_file($_FILES["upload_field"]["tmp_name"],
  "upload/" . $fname);
  echo "Stored in: " . "upload/" .$fname ;
  }
 echo "image uploaded"; 
```

请帮助我 - 感谢您的帮助。！！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T20:20:33.930

您不应该直接使用文件对象。您必须打开该文件并使用它创建一个 Blob。试试这样：

```
openPicker.pickSingleFileAsync().then(function (file) {
  file.openAsync(Windows.Storage.FileAccessMode.read).done(function (stream) {
      var blob = MSApp.createBlobFromRandomAccessStream("image/jpg", stream);
      var fdata = new FormData();
      fdata.append('upload_field',blob);

      WinJS.xhr({
          type: "post",
          url: "http://localhost/imgupload.php",
          data: fdata,
          // headers: { "Content-type": "application/octet-stream" }

      }).done(function (result) {
          console.log(result.responseText)
      });
  });
}); 
```

# php - PHP：表单提交问题

> ID：15018253
> 
> 赞同：0
> 
> 时间：2013-02-22T06:32:44.797
> 
> 标签：php, forms, post, submit

我的页面中有一个表格，表格的每一行都有每种商品的一些值，并且在该行的最后一列中，我有“编辑”按钮，它将数据发送到其他一些 php 页面。

为此，使用下面的（PHP）FORM 并尝试在同一页面本身上发布值。我的问题是我无法检索下面评论语句中给出的值。

如果我只使用 HTML 表单，它工作得很好，但我不想使用，因为表格非常大，可以在资源管理器页面上的“查看代码”中轻松看到信息，而且信息很少保密。所以想到只使用 PHP 表单。

下面是我的代码。

```
<FORM METHOD="post" ACTION="inventory.php">
    <?php '<input name="number" type="hidden" id="number"  value="'. $list[$i] .'">'?>
    <?php '<input name="model" type="hidden" id="model"  value="'.$model[$i].'"> '?>
    <?php '<input name="details" type="hidden" id="details"  value="'. $detail[$i].'">'?>
    <?php '<input name="type" type="hidden" id="type" value="'.$type[$i].'">'?>
    <?php echo '<button type="submit" class="button" value="'.$list[$i] .'" name="edit">Edit</button>';?> </FORM> 

if (isset ($_POST['edit']))  
{
    echo $_POST['edit'];               // Able to retrieve value of number (In chrome explorer), In (IE) it just displays as 'Edit'
    echo $_POST['number'];             // Not able to retrieve any value for this
    echo $model=$_POST['model'];       // Not able to retrieve any value for this
    echo $details=$_POST['details'];   // Not able to retrieve any value for this
    echo $type=$_POST['type'];         // Not able to retrieve any value for this
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:38:43.730

你的输入框还没有echo，怎么渲染

例如你应该写

```
<?php echo '<input name="number" type="hidden" id="number"  value="'. $list[$i] .'">'; ?> 
```

代替

```
 <?php '<input name="number" type="hidden" id="number"  value="'. $list[$i] .'">'?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T06:46:50.507

```
<form method="post" action="inventory.php">
    <input name="number" type="hidden" id="number"  value="<?php echo $list[$i]; ?>">
   <input name="model" type="hidden" id="model"  value="<?php echo $model[$i];?>"> 
   <input name="details" type="hidden" id="details"  value="<?php echo $detail[$i]; ?>">
    <input name="type" type="hidden" id="type" value="<?php echo $type[$i]; ?>">
    <input type="submit" class="button" value="Edit" name="edit">
 </form> 

if (isset ($_POST['edit']))  
{
echo $_POST['number']; //Not able to retrive any value for this
echo $model=$_POST['model'];//Not able to retrive any value for this
echo $details=$_POST['details'];//Not able to retrive any value for this
echo $type=$_POST['type'];//Not able to retrive any value for this
} 
```

真的，你应该从头开始学习php。

# hadoop - KFS 上的 Mapreduce 是如何发生的？

> ID：15018254
> 
> 赞同：0
> 
> 时间：2013-02-22T06:32:49.217
> 
> 标签：hadoop, mapreduce

我想了解 mapreduce 是如何在 Hadoop 中使用 KFS 作为文件系统发生的。

> > # ./bin/start-mapred.sh
> > 如果 map/reduce 作业/任务跟踪器启动，所有 I/O 将完成到 KFS。

那么，假设我的输入文件分散在不同的节点（Kosmos 服务器），我（使用 KFS 作为文件系统的 hadoop 客户端）如何发出 Mapreduce 命令？

此外，在发出 Mapreduce 命令后，我的 hadoop 客户端是否会从不同服务器获取所有数据到我的本地计算机，然后执行 Mapreduce，或者它是否会在输入文件所在的计算机上启动 TaskTracker 守护进程，并且在那里执行 Mapreduce？如果我错了，请纠正我，但我认为输入文件顶部 Mapreduce 的位置是由函数 getFileBlockLocations (FileStatus, long, long) 返回的。

非常感谢您抽出时间帮助我。

问候， 尼基尔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:40:39.073

不，MapReduce 是一个以分布式方式在所有节点中运行的程序。主节点就像负责完成工作的所有数据/从节点的主管。 ![图。1](../Images/a03a06718727831c2d981c985822d7fe.png)

**映射减少任务**

*   MapReduce 作业通常将输入数据集拆分为独立的块，这些块由地图任务以完全并行的方式处理。

*   该框架对映射的输出进行排序，然后将其输入到 reduce 任务。

*   通常，作业的输入和输出都存储在
    文件系统中。

*   该框架负责调度任务、监视它们并
    重新执行失败的任务。

![图：2](../Images/24be0e5610c3b76fbf9ccd66a0e70f73.png) ![图：3](../Images/f2b6e493d7ee34c20bd4db818e7cb6d4.png) 上图：3 显示了 MapReduce 如何在节点级别发生。

**现在关于您的 KFS：**

当 Hadoop map/reduce 跟踪器启动时，这些进程（在本地和远程节点上）现在需要加载 KFS 的 libkfsClient.so 库。

为了简化此过程，建议将其存储`libkfsClient.so`在 NFS 可访问目录中（类似于存储 Hadoop 二进制文件/脚本的位置）；然后，修改 Hadoop 的 conf/hadoop-env.sh 添加以下行并为

```
<path>:
export LD_LIBRARY_PATH=<path> 
```

查看此链接：[http ://hadoop.apache.org/docs/current/api/org/apache/hadoop/fs/kfs/package-summary.html](http://hadoop.apache.org/docs/current/api/org/apache/hadoop/fs/kfs/package-summary.html)

# java - 我可以在运行时添加一个junit测试用例吗？

> ID：15018257
> 
> 赞同：4
> 
> 时间：2013-02-22T06:33:00.337
> 
> 标签：java, junit

我有一个需要测试大量`xml`模板的测试程序。

`xml`但是我发现我必须为每个模板编写一个测试用例。

junit 是否有这样一种机制，我可以在一个测试用例中生成另一个测试用例？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T10:51:27.577

您可以使用[@Parameterized](https://github.com/junit-team/junit/wiki/Parameterized-tests)。这会给你你想要的。这是一个简单的案例，对单个目录中的所有文件运行测试：

```
@RunWith(Parameterized.class)
public class ParameterizedTest {
    @Parameters(name = "{index}: file {0}")
    public static Iterable<Object[]> data() {
        File[] files = new File("/temp").listFiles();

        List<Object[]> objects = new ArrayList<Object[]>(files.length);

        for (File file : files) {
            objects.add(new Object[] { file.getAbsolutePath() });
        }

        return objects;
    }

    private final String filename;

    public ParameterizedTest(String filename) {
        this.filename = filename;
    }

    @Test
    public void test() {
        System.out.println("test filename=" + filename);
    }
} 
```

文件中的每个测试对返回的列表中的每个条目运行一次`data()`。您显然可以对文件做您想做的事情，但如果您正在动态构建测试列表，那么您还需要有某种方法来构建通过/失败标准。因此，如果您要将大量 xml 转换为其他 xml，那么您也需要生成的 xml，可能位于不同的目录中或具有不同（但可预测的）名称。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T06:52:08.153

不，没有“测试用例内的测试用例”类型的功能——除了循环！

循环救援！

```
@Test
public void xmlShouldBeValid() {
    String[] templates = new String[]{ TEMPLATE1, TEMPLATE2, TEMPLATE3 };
    for (String template : templates) {
        testTemplate(template);
    }
}

private void testTemplate(String template) {
    assertEquals("whatever", template);
} 
```

这样的事情可能会有所帮助。我经常使用的另一个技巧是创建辅助 assert* 方法。所以如果我检查 XML 有 3 个属性 a、b 和 c，我可能会写

```
private void assertTemplate(String template, String a, String b, int c) {
    String aFromTemplate = parseAfromTemplate(template); // normally this is done inline
    String bFromTemplate = parseBfromTemplate(template); // but a function to read easier
    String cFromTemplate = parseCfromTemplate(template);
    assertEquals(a, aFromTemplate);
    assertEquals(b, bFromTemplate);
    assertEquals(c, cFromTemplate);
} 
```

现在您可以在一个测试函数中多次调用 assertTemplate：

```
@Test
public void xmlShouldBeValid() {
    assertTemplate("<hardcoded xml object>", "a", "b", "c");
    assertTemplate("<hardcoded xml object>", "r", "s", "t");
    assertTemplate("<hardcoded xml object>", "x", "y", "z");
} 
```

当然，不要使用 String 作为模板类型，而是将 XML 对象替换为您正在使用的任何框架（如果有）。

# uml - UML 建模组件缩放（直径）

> ID：15018261
> 
> 赞同：0
> 
> 时间：2013-02-22T06:33:04.983
> 
> 标签：uml, dia

有什么方法可以使图表中的图表根据缩放视图切换查看的信息。假设我有一个模型-视图-控制器架构。有时我想看到高级别的视图。但是，有时我想查看模型、视图或控制器中的特定类。有没有办法用 dia 或任何其他建模软件来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T12:14:45.117

通常，您会为每个所需的抽象级别创建不同的图表。一些建模工具允许它们之间的超链接（例如 Enterprise Architect）。您是否尝试过使用 UML 组件图来进行概述，您是否使用类图来获取详细信息？这样你就不会混淆事情了。使用您的方法，您必须为每个元素定义允许出现的缩放级别。这会导致问题，因为 UML 不建议任何图表具有缩放级别相关的行为。

如果您需要依赖于缩放的行为来将您的想法传达给其他人，那么您最好使用帮助器进行演示，例如 Prezi。

# postgresql - postgresql 中的左外连接性能问题

> ID：15018263
> 
> 赞同：-1
> 
> 时间：2013-02-22T06:33:06.847
> 
> 标签：postgresql, postgresql-performance

如何提高下面给出的查询的性能

```
select 
     distinct o1.id as c1, 
              a1.id as c2,
              o1.t1_id as c3, 
              o1.t2_id as c4,
              o1.t_p_id as c5 
from 
     ord o1 
     left outer join 
     acc a1 
       on o1.end_user_id=a1.id 
     left outer join 
     acc a2 
       on 1.t1_id=a2.id 
     left outer join 
     acc a3 
       on o1.t2_id=a3.id 
     left outer join 
     acc a4 on 
       o1.t_p_id=account4_.id 
where 
     a1.account_id=1 or a2.account_id=1 or a3.account_id=1 or a4.account_id=1; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:01:25.143

在我看来，同一个 acc 表上有这么多**左外连接**可能是导致性能问题的原因。

我建议弄清楚你的意图，然后尝试消除同一张桌子上的这么多左连接。

对于一般分析，我认为@ScottMarlowe 是对的，您需要提供更多信息，例如索引、解释结果等...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-23T13:26:17.157

我不是专家，但从我的角度来看，您可以使用“exists”命令而不是使用“左连接”。

我尝试使用如下所示的“存在”命令编写您的查询：

```
select 
     distinct o1.id as c1, 
              a1.id as c2,
              o1.t1_id as c3, 
              o1.t2_id as c4,
              o1.t_p_id as c5 
from ord o1 
        where exists (select 1 
                        from acc a1 where o1.end_user_id=a1.id and a1.account_id=1)
        or exists (select 1 
                        from acc a2 where o1.end_user_id=a2.id and a2.account_id=1)  
        or exists (select 1 
                        from acc a3 where o1.end_user_id=a3.id and a3.account_id=1)  
        or exists (select 1 
                        from acc a4 where o1.end_user_id=a4.id and a4.account_id=1); 
```

我希望它有所帮助。

# ios - 我可以更改 iOS 应用程序的网址吗？

> ID：15018266
> 
> 赞同：0
> 
> 时间：2013-02-22T06:33:24.170
> 
> 标签：ios

我目前正在开发一个连接到 Web 服务器的 iOS 应用程序。该功能位于客户端仅为用户可视化的 Web 服务器上。为了访问 Web 服务器，我在 xcode 中硬编码了 Web 服务器的 URL。

但是当我发布应用程序时，每个用户都有自己的网络服务器和 URL。我的想法是让用户有机会在应用启动后自行更改 url。我将显示一个用于输入 url 的小窗口。

问题是我读到苹果不允许以这种方式更改网址。那么原因是，当我更改此 url 时，也可以修改应用程序的功能。

这是正确的吗 ？

我可以用其他方式解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:43:11.613

有几种方法可以解决这个问题。

1.  如果这是供开发人员使用的库，请从 plist 文件中读取 URL。
2.  使用标准 URL 结构并重定向到正确的 URL。例如，让用户输入一个“帐户 ID”1234，它会调用您服务器上的 URL [http://example.com/accounts/1234](http://example.com/accounts/1234)，它会执行 302 重定向到正确的 URL。您需要在服务器/数据库中维护 ID 到端点的映射。
3.  在您的主机上为用户提供一个子域，并为每个帐户设置一个 CNAME 到用户自己的服务器。同样，让用户输入他们的帐户 ID 1234。然后在[http://a1234.example.com](http://a1234.example.com)上设置一个 CNAME，指向[http://usersdomain.com](http://usersdomain.com)。

我敢肯定还有其他方法可以解决这个问题，但首先想到的是这些。

# vtiger - 在vtiger中集成highcharts？

> ID：15018267
> 
> 赞同：0
> 
> 时间：2013-02-22T06:33:25.307
> 
> 标签：vtiger

我正在尝试将 vtiger 图形外观更改为 highchart 外观。但我是 vtiger 的新手，所以请帮我更改 vtiger 图形布局。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2017-05-04T13:37:08.513

我已将 vTiger 中的 Highcharts 与自定义仪表板集成在一起。

请按照以下步骤在 vTiger 中集成 highcharts：

*   包含所有 highcharts JS 文件
*   添加新的 tpl 文件 /layouts/vlayout/modules/Home/Dashboards/customreports.tpl 和

*   将其包含在 DashboardPreProcess.tpl 文件中

*   您的 JS 文件应如下所示：

    ```
    jQuery.Class("Home_ChartView_Js",{
    },{
    lead_by_status : function(){

        var form=jQuery('#frm_slreport');

        form.find('.btn_sl_report').on('click',function(e){
            console.log("Click");
        var sl_fromdate  = form.find('[name="sl_fromdate"]').val();
        var sl_todate  = form.find('[name="sl_todate"]').val();
        console.log(sl_fromdate);
        console.log(sl_todate);

                /* AJAX CALL */

        var progressIndicatorElement = jQuery.progressIndicator({
            'position' : 'html',
            'blockInfo' : {
            'enabled' : true,
            'elementToBlock' : jQuery('#sl_report')
        }
        });
        var params = {};
        params['module'] = 'Accounts';
        params['parent'] = '';
        params['view'] = 'LoadChartData';
        params['mode'] = 'loadChart_lead_by_status';
        params['edate'] = sl_todate;
        params['start_date'] = sl_fromdate;
        //console.log(params);

        AppConnector.request(params).then(function(data){
                var returnedData = JSON.parse(data);
                var fdata=returnedData.result.fdata;
                console.log(fdata);
                                    //fdata=JSON.parse(fdata);
                var data1=[{
                                name: 'Counter',
                                colorByPoint: true,
                                data: eval(fdata)
                           }];
                $('#sl_report').highcharts({
                        chart: {
                        type: 'column'
                        },
                        title: {
                        text: sl_fromdate+' to '+sl_todate
                        },
                        xAxis: {
                        type: 'category'
                        },

                        legend: {
                        enabled: false
                        },

                        plotOptions: {
                        series: {
                            borderWidth: 0,
                            dataLabels: {
                                enabled: true
                            }
                        }
                        },

                        series: data1,
                        drilldown: {}
                });

                progressIndicatorElement.progressIndicator({mode : 'hide'});
        });

                /* AJAX CALL */

    });
    },
    }); 
    ```

*   `btn_sl_report`id 应该存在于 customreports.tpl

*   使用您在 Ajax 调用中提到的函数名称更新视图文件。

希望它能帮助您在 vTiger 中集成 highcharts。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-12T11:10:12.113

你指的是哪个图表？尽管您可以检查这些文件：

> *VTRoot->* /modules/Dashboard/horizo ​​ntal_bargraph.php
> *VTRoot->* /modules/Dashboard/vertical_bargraph.php
> *VTRoot->* /modules/Potentials/Charts.php

按来源领先：

> *VTRoot->* /modules/Dashboard/Chart_pipeline_by_lead_source.php

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-07-31T09:32:24.940

转到布局/vlayout/modules/Vtiger/resources/dashboards/Widget.js

您将在那里看到图表代码。删除当前库代码并在那里添加 Highchart 代码。您将从 Vtiger 获取数据。您应该为 Highchart 准备数据并在那里更新。

# c# - 如何在 C# 中使用自定义 VC++ dll

> ID：15018269
> 
> 赞同：1
> 
> 时间：2013-02-22T06:33:29.337
> 
> 标签：c#, visual-c++, clr, pinvoke

我正在尝试在我的 c# 项目中使用自定义 VC++ dll。为此，我按照[这篇](http://msdn.microsoft.com/en-us/library/vstudio/ms235636.aspx)文章创建了一个自定义。我能够在另一个 c++ 项目 ( ***MyExecRefsDLL.vcxproj*** ) 中创建 DLL、链接和调用。

现在，我的意图是在 C# 代码中使用相同的 DLL。因此，我创建了另一个 C# 控制台项目并尝试添加引用（通过右键单击 -> 添加引用 -> 选择项目“ *MathFuncDLL* ”），如上面链接中所建议的那样。我收到一条错误消息 - “无法添加对 'MathFuncDLL' 的引用”。

为了克服这个问题，我尝试使用项目模板 -> Visual C++ -> 类库为 VC++ dll 即***MathFuncDLL2创建另一个项目。***这次我可以在 C# 中引用该项目。现在在运行时从 DLL 调用方法时出现错误 - “EnteryPointNotFoundException 未处理”“无法在 DLL 'MathFuncDLL2.dll' 中找到名为 'Add' 的入口点。”

我创建了一个可以从此[链接](https://skydrive.live.com/?cid=CB9B95B4DD4D63A6&id=CB9B95B4DD4D63A6%21179#cid=CB9B95B4DD4D63A6&id=CB9B95B4DD4D63A6%211054)下载的示例。

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-10-18T18:16:54.600

我刚刚遇到了同样的问题。我所做的是将我的 VC++ DLL 项目的 Common Language Runtime Support 更改为**Common Language Runtime Support (/clr)**。

右键单击项目 -> 属性 -> 常规 -> ProjectDefaults -> 公共语言运行时支持。

然后我能够添加对 C# 项目的引用。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T09:57:51.770

您的问题可能是 C++ 在导出时修饰了函数名。因此，`Add`，实际上可能是`@Add34ZZ`。

运行时`dumpbin /exports MathFuncsDLL2.dll`，返回的内容如下：

```
 ordinal hint RVA      name

          1    0 00001193 ?Add@MyMathFuncs@MathFuncs@@SANNN@Z = ?Add@MyMathFuncs
@MathFuncs@@SANNN@Z (public: static double __cdecl MathFuncs::MyMathFuncs::Add(d
ouble,double))
          2    1 000011A5 ?Divide@MyMathFuncs@MathFuncs@@SANNN@Z = ?Divide@MyMat
hFuncs@MathFuncs@@SANNN@Z (public: static double __cdecl MathFuncs::MyMathFuncs:
:Divide(double,double))
          3    2 0000119F ?Multiply@MyMathFuncs@MathFuncs@@SANNN@Z = ?Multiply@M
yMathFuncs@MathFuncs@@SANNN@Z (public: static double __cdecl MathFuncs::MyMathFu
ncs::Multiply(double,double))
          4    3 00001199 ?Subtract@MyMathFuncs@MathFuncs@@SANNN@Z = ?Subtract@M
yMathFuncs@MathFuncs@@SANNN@Z (public: static double __cdecl MathFuncs::MyMathFu
ncs::Subtract(double,double)) 
```

因此，可用的解决方案是：

*   将您的函数声明为`extern "C" __declspec(dllexport)`（并删除命名空间）

*   `dumpbin`编译和使用时运行`[DllImport("Math.dll", EntryPoint="?Add@MyMathFuncs@MathFuncs@@SANNN@Z")]`如果这样做，请将 DllImport 声明更改为`[DllImport("MathFuncDLL2.dll", EntryPoint="<functionName>", CallingConvention=CallingConvention.Cdecl)]`. 好消息是：通话有效。坏消息是：它似乎返回了一个指向结果的指针。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T09:25:38.213

使用 [DllImport] 可以从任何标准 dll 调用函数

阅读[这篇文章](http://msdn.microsoft.com/en-us/magazine/cc164123.aspx)

# iphone - 如何显示新的数组值

> ID：15018271
> 
> 赞同：2
> 
> 时间：2013-02-22T06:33:30.690
> 
> 标签：iphone, uitableview

我有类似的数组`arraypartno`，它包含`80`值，必须显示下一个按钮的`20-20 values`输入`tableview cell`和`next 20 values`打开`click`，如分页。
但是当我点击下一个按钮时，它会添加值并增加单元格`40`，然后是`60`值等等。但我想`20 values`先`20 values`在`tableview`单元格上再下一个，比如分页....

请指导我解决这个问题。感谢您

这是表格视图单元格的代码：-

```
 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

  static NSString *CellIdentifier = @"Cell";
UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease];

cell.accessoryType = UITableViewCellAccessoryDisclosureIndicator;
cell.backgroundColor=[UIColor clearColor];

UILabel *lblplate1 = [[UILabel alloc]initWithFrame:CGRectMake(20, 0, 200, 30)];

lblplate1.text = [arraypartno  objectAtIndex:indexPath.row];

lblplate1.textAlignment=UITextAlignmentLeft;
lblplate1.textColor = [UIColor colorWithRed:2.0/255.0 green:143.0/255.0 blue:213.0/255.0 alpha:1];
lblplate1.backgroundColor =[UIColor clearColor];
lblplate1.font = [UIFont fontWithName:@"Helvetica" size:14];
[cell.contentView addSubview:lblplate1];
[lblplate1 release];
lblplate1 = nil;

return cell; 
```

}

低值从0初始化，点击next按钮时增加

```
 -(void)next:(id)sender
 {
  lowvalue= lowvalue+20;

  NSString *str = [[NSString alloc]initWithFormat:@"http://demo.com/New/web_serv/wspartsearch.php?search=%@&start=%d&count=20",searchText,lowvalue];

} 
```

单击上一个按钮时它会减少

```
-(void)previous:(id)sender
{
lowvalue= lowvalue-20;

 NSString *str = [[NSString alloc]initWithFormat:@"http://demo.com/New/web_serv/wspartsearch.php?search=%@&start=%d&count=20",searchText,lowvalue];

} 
```

我一次只想要 20 个值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:45:58.153

就像是，

初始化`totalShowCount = 20;` `(totalShowCount < [arraypartno count])`

1) 在`numberOfRowsInSection`数据源方法中`return totalShowCount-1;`

2) 在下一个按钮操作中，`totalShowCount`使用下一个 20 值更新，例如`totalShowCount+=20`；

3)`[tableview reloadData];`

您可能需要在下一步按钮上设置一些条件，`if(totalShowCount<[arraypartno count])`然后只执行第 2 步和第 3 步。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T06:50:17.447

**默认 numberOfItemsToDisplay = 20;**

```
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
    {
        if (numberOfItemsToDisplay >= [self.aryAlerts count])
        {
            numberOfItemsToDisplay = [self.aryAlerts count];
            return 1;
        }
        return 2;
    }

    - (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
    {
        if (section == 0)
        {
            return numberOfItemsToDisplay;
        }
        else
        {
            return 1;
        }
    }

    - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
    {
        if (indexPath.section == 0)
        {
            static NSString *CellIdentifier = @"YourCustomCell";
            YourCustomCell *objYourCustomCell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
            if (objYourCustomCell == nil)
            {
                NSArray *topLevelObjects = [[NSBundle mainBundle] loadNibNamed:@"YourCustomCell" owner:self options:nil];
                for(id currentObject in topLevelObjects)
                {
                    if ([currentObject isKindOfClass:[YourCustomCell class]])
                    {
                        objYourCustomCell = (AlertsCustomCell *) currentObject;
                        break;
                    }
                }
            }
            objYourCustomCell.lbl.text = [[self.aryAlerts objectAtIndex:indexPath.row]valueForKey:@"vName"];
            return objYourCustomCell;
        }
        else
        {
            static NSString *CellIdentifier = @"Cell";
            UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
            if (cell == nil)
            {

                cell=[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
                [cell.contentView addSubview:[self loadMoreViewForTable:self.view]];
            }
            return cell;
        }
    }
    - (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
    {
        [self.tblAlertsList deselectRowAtIndexPath:indexPath animated:YES];
        if (indexPath.section == 1)
        {
            numberOfItemsToDisplay =  [self loadMore:numberOfItemsToDisplay arrayTemp:self.aryAlerts tblView:self.tblAlertsList];
            [self.tblAlertsList endUpdates];
        }else
        {
           // action if it is not LoadMore
        }
    }

    + (NSInteger)loadMore : (NSInteger)numberOfItemsToDisplay arrayTemp:(NSMutableArray*)aryItems tblView:(UITableView*)tblList
    {
        int count =0;
        NSUInteger i, totalNumberOfItems = [aryItems count];
        NSUInteger newNumberOfItemsToDisplay = MIN(totalNumberOfItems, numberOfItemsToDisplay + kNumberOfItemsToAdd);
        NSMutableArray *indexPaths = [[NSMutableArray alloc] init];
        for (i=numberOfItemsToDisplay; i<newNumberOfItemsToDisplay; i++)
        {
            count++;
            [indexPaths addObject:[NSIndexPath indexPathForRow:i inSection:0]];
        }
        numberOfItemsToDisplay = newNumberOfItemsToDisplay;
        [tblList beginUpdates];
        [tblList insertRowsAtIndexPaths:indexPaths withRowAnimation:UITableViewRowAnimationLeft];
        if (numberOfItemsToDisplay == totalNumberOfItems) {
            [tblList deleteSections:[NSIndexSet indexSetWithIndex:1] withRowAnimation:UITableViewRowAnimationLeft];
        }
        NSIndexPath *scrollPointIndexPath;
        if (newNumberOfItemsToDisplay < totalNumberOfItems)
        {
            scrollPointIndexPath = [NSIndexPath indexPathForRow:numberOfItemsToDisplay-kNumberOfItemsToAdd inSection:0];
        }
        else
        {
            scrollPointIndexPath = [NSIndexPath indexPathForRow:i-count inSection:0];
        }
        dispatch_after(dispatch_time(DISPATCH_TIME_NOW, 100000000), dispatch_get_main_queue(), ^(void){
            [tblList scrollToRowAtIndexPath:scrollPointIndexPath atScrollPosition:UITableViewScrollPositionNone  animated:YES];
        });
        return numberOfItemsToDisplay;
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T07:55:21.293

我假设您已经预定义了 80 个对象的初始化数组，`NSMutableArray`为数据源创建了第二个，我将其命名为`dataElements`将在`tableView`.Now 中显示数据。现在每次`ViewDidLoad`（或者如果您在同一视图中，则在您的 中进行此更新`nextMethod`）进行循环并`dataElements`从您的“ ”中复制 20 个值，`arraypartno`例如 1.Make `int counter=0;` 2.make `NsMutableArray`。我将其命名为`dataElements`

```
-(IBAction)nextButtonPressed:(id)sender{

            if(counter < 20){
                for(int i=0 ; i<20 ;i++ ){
                    [dataElements addObject:[arraypartno objectAtIndex:i]];
                    counter++;
                }
            }else if(counter<40){
                for(int i=20 ; i<40 ;i++ ){
                    [dataElements replaceObjectAtIndex:i withObject:[arraypartno objectAtIndex:i]];
                    counter++;
                }
            }else if(counter<60){
                for(int i=40 ; i<60 ;i++ ){
                    [dataElements replaceObjectAtIndex:i withObject:[arraypartno objectAtIndex:i]];
                    counter++;
                }
            }else if(counter<80){
                for(int i=60 ; i<80 ;i++ ){
                    [dataElements replaceObjectAtIndex:i withObject:[arraypartno objectAtIndex:i]];
                    counter++;
                }
            }
            [self.tableView reloadData];
    }
    -(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section{
    return [dataElements count];

    //OR
    // return 20;
    } 
```

如果您仍然有困惑，请询问。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T06:36:20.997

首先，您需要先删除已经存在的对象，`NSArray`然后再添加接下来的 20 个对象。

尝试：

```
[myArray removeAllObjects]; 
```

然后在您的数组中添加接下来的 20 个对象。

然后重新加载您的表格视图。

# android - "market://details?id=" 表示未找到项目

> ID：15018272
> 
> 赞同：1
> 
> 时间：2013-02-22T06:33:31.757
> 
> 标签：android, android-intent, google-play, rate

我正在尝试在我的应用程序[https://github.com/codechimp-org/AppRater](https://github.com/codechimp-org/AppRater)中添加评分功能，但是，每次我点击`rate now`它时都会显示`The item you requested could not be found`。我该如何摆脱这个麻烦。我在用

```
public void onClick(DialogInterface dialog, int id) {
                        context.startActivity(new Intent(Intent.ACTION_VIEW, Uri
                                .parse("market://details?id=com.xxx.xxx"))); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:46:09.257

您的网址似乎不正确。

它应该是`"market://details?id="+ context.getPackageName().toString()`

看来你真的试图复制/粘贴一些样本而没有真正理解你在写什么......

# objective-c - 如何从可可中的另一个委托类调用 TableViewDelegate 函数（objective-c）

> ID：15018274
> 
> 赞同：2
> 
> 时间：2013-02-22T06:33:41.037
> 
> 标签：objective-c, xcode, cocoa

我尝试`NSSearchField`在用户按下 enter 键后将文本添加到 NSTableView `NSSearchField`。我为 NSTableView 和`NSSearchField`.

`SearchFieldController`我在（委托）中使用此代码：

```
-(void)controlTextDidEndEditing:(NSNotification *)notification
{
      // See if it was due to a return
      if ( [[[notification userInfo] objectForKey:@"NSTextMovement"] intValue] == NSReturnTextMovement )
      {
         NSArray *myarr = [NSArray arrayWithObjects:@"123" ,@"456" , @"789" , nil];

        [(TableViewController *) MySelf addObjects:myarr];
        NSLog(@"Return was pressed!");
     }
} 
```

SearchFieldController.h：

```
#import <Foundation/Foundation.h>
#import "TableViewController.h"

@interface SearchFieldController : NSSearchField{
@public
    IBOutlet NSSearchField *searchField;
    BOOL isEnterKey;
    TableViewController *MySelf;
}

//@property (assign) BOOL isEnterKey;

@end 
```

TableViewController.m (Delegate) 中的这个函数用于添加对象：

```
- (void)addObjects:(NSArray *)Objects{
    for (NSString *file in Objects) {
        Item *item = [[Item alloc] init];
        item.name = file;
        [list addObject:item];
        [tableView reloadData];
        [item release];
    }
} 
```

但是当我测试应用程序时，什么也没有发生！什么都没有添加到我的`UITableView`，我没有收到任何错误！知道我做错了什么吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:40:41.643

在其中添加对象后，您忘记保留数组。

```
- (void)addObjects:(NSArray *)Objects{
    for (NSString *file in Objects) {
        Item *item = [[Item alloc] init];
        item.name = file;
        [list addObject:item];
        [list retain];
        [tableView reloadData];
        [item release];
    }
} 
```

# quickbooks - 无法转换 COM 对象

> ID：15018278
> 
> 赞同：1
> 
> 时间：2013-02-22T06:33:56.063
> 
> 标签：quickbooks

使用下面的代码，我正在尝试使用 QBFC 从快速书籍中读取项目数据。

但我收到错误：

无法将“System.__ComObject”类型的 COM 对象转换为接口类型“Interop.QBFC11.IItemSalesTaxRetList”。此操作失败，因为 IID 为“{C53D1081-9FE4-4569-9181-A9D7E0155907}”的接口的 COM 组件上的 QueryInterface 调用失败，原因是以下错误：不支持此类接口（来自 HRESULT 的异常：0x80004002 (E_NOINTERFACE)） .

我在下面的链接中看到了这个；

[http://blogs.msdn.com/b/vsnetsetup/archive/2012/10/05/unable-to-cast-com-object-of-type-system-comobject-to-interface-type.aspx](http://blogs.msdn.com/b/vsnetsetup/archive/2012/10/05/unable-to-cast-com-object-of-type-system-comobject-to-interface-type.aspx)

但这是安装软件的问题（安装后）。但这个问题与问题不同。

让我知道为什么...我使用相同的流程来获取客户和供应商数据...我没有收到任何错误...

代码：

```
IItemSalesTaxRet itemRet = default(IItemSalesTaxRet);

IItemSalesTaxRetList itemRetList = default(IItemSalesTaxRetList);

IResponse response = responseSet.ResponseList.GetAt(0);

if ((response.Detail != null))

            {

     itemRetList = (IItemSalesTaxRetList)response.Detail; // here i am getting error

                if ((itemRetList != null))
                {

                    for (int j = 0; j <= itemRetList.Count - 1; j++)
                    {
                        itemRet = itemRetList.GetAt(j);
                        if ((itemRet != null))
                        {

                           if (itemRet.Name != null)
                           {

                                Name = GetStringValue(itemRet.Name);
                              Name = Name.Replace(',', ' ');

                           }
                           else
                          {
                              Name = string.Empty;
                          }

               }
        }
  } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-06-24T23:46:10.117

我看到这篇文章很老了，但是有成千上万的开发人员使用 Intuit 的 SDK 有相同/相似的问题。不知道这是否会有所帮助，但 Quickbooks 库中的许多界面不再受支持，即使它们显示在屏幕参考上。您甚至可能会得到显示受支持的方法的智能感知，但是当他们（重新）编译他们的 dll 时，他们忘记了删除一些接口。我已经多次遇到这个令人抓狂的问题——“IItemSalesTaxRetList”似乎是他们删除的方法之一。

# c# - 如何使用 RegEx 替换字符串中所有不需要的字符？

> ID：15018283
> 
> 赞同：2
> 
> 时间：2013-02-22T06:34:21.873
> 
> 标签：c#, .net, regex

在 ac# 应用程序中，我需要用“Ã”替换所有不需要的字符。以下是允许的字符数组。

```
string[] wantedCharacters = new string[] { " ", "!", "\"", "#", "$", "%", "&", "\'", "(", ")", "*", "+", ",", "-", ".", "/", "0", "1", "2", "3", "4", "5", "6", "7", "8", "9", ":", ";", "<", "=", ">", "?", "@", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "[", "\\", "]", "^", "_", "`", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "{", "|", "}", "~" }; 
```

除此以外的所有字符都应使用“Ã”替换。我已经用 Loopin 完成了所有字符串字符。但是执行起来太费时间了。我正在寻找一个正则表达式来做到这一点。任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T06:38:01.680

我不会使用 RegEx，它的可读性会降低。

```
string input "..";
HashSet<char> wantedCharactersSet = new HashSet<char>(wantedCharacters);
for (int i = 0; i < input.Length; i++)
{
    if (!wantedCharactersSet.Contains(input[i]))
        input[i] = placeholderChar;
} 
```

请注意，`HashSet<T>.Contains()`它的性能为 O(1)，而 Array 仅为 n。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-22T06:39:54.160

您似乎正试图将字符限制为 ASCII 中的可打印字符（代码为 0x20 到 0x7E 的字符）。所以你可以使用这个正则表达式：

```
[^\x20-\x7E] 
```

正则表达式将匹配所有**不需要的**字符。

将上面的正则表达式放在文字字符串中：

```
@"[^\x20-\x7E]" 
```

将此正则表达式与`Replace`函数一起使用并替换为空字符串以删除所有不需要的字符，或替换为您选择的一些占位符字符。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-22T06:40:44.797

`[^c]`意思是：不是的一切`c`。您应该`c`用您允许的字符替换并使用该正则表达式替换方法：

```
var reg = new Regex(@"[^ !""#$%&'()*+,-./0-9:;<=>?@A-Z\[\\\]^_`a-z{|}~]");
var result = reg.Replace(inputString, "Ã"); 
```

# xcode4.5 - 如何在使用 xcode4.3 及更高版本启用编辑选项时在表格视图中获取 StrikeOnText 效果？

> ID：15018284
> 
> 赞同：0
> 
> 时间：2013-02-22T06:34:30.150
> 
> 标签：xcode4.5, tableview, strikethrough, rowdeleting

![穿透效果](../Images/0a97c24167ee593b785e9ada35a7af2c.png)

```
How to get Strike Text Animation while we select edit option for the table view
and also when we swipe on a table row.We need to get this type of style before deleting! 
```

**我想要在 xcode4.5**

> 请通过提供建议和帖子来帮助我，这将是可观的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-27T06:44:47.753

此[删除线标签库](https://github.com/shodgin/StrikeThroughLabel)具有将文本设置为删除线的属性。

您可以根据表格视图编辑状态打开和关闭它

# php - 使用多维数组数据在 MySQL 中查找数据

> ID：15018286
> 
> 赞同：2
> 
> 时间：2013-02-22T06:34:31.710
> 
> 标签：php, mysql, syntax, multidimensional-array

我一直在尝试搜索这个，但我一直在寻找“MySQL 到多维数组”问题的解决方案

我有一个多维数组，我想使用数组中的值来搜索我的 MySQL 数据库并输出我需要的任何内容。

我使用`WHERE`从句吗？`IN`条款？我需要一些帮助

我有这个数组：

```
Array
(
    [0] => Array
        (
            [id] => 333
            [name] => Watches
            [pluralName] => Watches
            [shortName] => Watches
        )

    [16] => Array
        (
            [id] => 111
            [name] => Bar
            [pluralName] => Bars
            [shortName] => Bar
        )

) 
```

如果我有这样的语法：

```
$categorySet = $dbh->prepare("SELECT c.*,ci.*,b.business_id,b.idbusiness FROM
categories c 
JOIN categories_items ci ON ci.idcategory = c.idcategory
JOIN businesses b ON b.idbusiness = ci.id_items
WHERE c.id = :id OR c.name LIKE :name");
$categorySet -> bindParam(:name, $array['id']);
$categorySet -> bindParam(:name, '%'.$array['name'].'%');
$categorySet -> execute(); 
```

我想搜索 MySQL，但想从数组中获取带有手表或条的输出。

有人能帮我吗？

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T06:44:34.150

要检查条件，您总是需要`WHERE`子句，因此您必须需要它。

第二个`IN`子句允许在数组形式时使用数组`array(1,2,3,4,5);`。

**示例**

```
SELECT
 *
FROM table_name 
WHERE
  fields IN (array(1,2,3,4,5)); 
```

**更多信息**

```
$id_sql = array();
$name_sql = array();

foreach($conditionArray as $arry)
{
       $name_sql[] = $arry['name'];
       $id_sql[]    = $arry['id'];
}

$ids    = implode(',',$id_sql);
$names  = implode(',',$name_sql);

SELECT * FROM table WHERE id IN ($ids) AND name IN ($names) 
```

如果可以的话，请为名称和 ID 创建单独的数组，这样您就不需要只使用`for-each`它`implode`并在`MySQL`声明中发送它。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-22T06:44:55.860

```
<?php

$arr_queries = array ('values','values','values')
$arr_results = array();

foreach($arr as $values)
{
  $sql = //do sql query here using $values,
  if(mysql_num_rows($sql) != 0)
  {
     while($row = mysql_fetch_array($sql))
     {
         $temp = array();
         $temp[] = $row[0]// get first column value, add other column value on $temp array
     } 
  }

  $arr_results[] = $temp;
}

?> 
```

# mongodb - Mongodb 删除分片 - 一次不能有多个排水分片

> ID：15018291
> 
> 赞同：1
> 
> 时间：2013-02-22T06:34:42.990
> 
> 标签：mongodb

我有一个由 8 个分片组成的 mongodb 集群，其中包含许多数据库。我们已经对大的集合进行了分片，而其他集合则不分片。过去的某个时候，当我们运行 2.0 时，我们移除了两个分片，所以这两个分片进入了耗尽状态。由于这些分片上有未分片的集合，因此排水永远无法完成。

现在，当我们将集群升级到 2.2 时，我试图摆脱这两个分片（耗尽的分片）。所以我把所有的原色移到其他分片并试图删除分片，我得到了这个：

```
mongos> db.runCommand( { removeShard: "shard0000" } )
{ "ok" : 0, "errmsg" : "Can't have more than one draining shard at a time" } 
```

现在我无法移除任何碎片。我希望有人会知道发生了什么以及如何解决它。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-31T23:12:10.377

要完成删除操作，请检查状态，如果块移动已完成，请再运行一次删除命令。这将“完成”删除命令并允许运行另一个删除碎片命令。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-06-05T06:06:15.113

我认为自己回答这个问题会很好，因为以后我可以找到摆脱这种情况的方法。我所做的是：首先，将原色从分片移到另一个分片。当所有主节点都移动到另一个分片时，我手动从 config.shard 集合中删除了该条目。最后重新启动了mongos。如果您有多个 mongos，则重新启动所有 mongos'。

# c - 有时会崩溃，一个使用队列插入级别订单的程序

> ID：15018293
> 
> 赞同：0
> 
> 时间：2013-02-22T06:34:52.640
> 
> 标签：c, data-structures

在 C 语言中，我使用队列（链表）制作了用于级别顺序插入的程序，但有时它会崩溃，否则按预期工作。我使用队列来管理级别排序。我已经在 Dev C++ 和 Borland 5.5 上运行了这个程序，结果都一样。

```
#include<stdlib.h>
#include<stdio.h>

typedef struct ListNode
{
    struct TreeStructure *node;
    struct Listnode *next;
}*List;

typedef struct ListQueue
{
    struct ListNode *rear;
    struct ListNode *front;
}*Queue;

typedef struct TreeStructure
{
    int data;
    struct TreeStructure *left;
    struct TreeStructure *right;
}*Tree;

Queue Creation()
{
    List tmp;
    Queue Q=(Queue)malloc(sizeof(struct ListQueue));
    if(!Q)
        return NULL;
    tmp=(List)malloc(sizeof(struct ListNode));
    Q->rear=Q->front=NULL;
    return Q;
}

int isEmpty(Queue Q)
{
    return Q->front==NULL;
}

void Enqueue(Queue Q ,Tree Root )
{
    List tmp;
    tmp=(List)malloc(sizeof(struct ListNode));
    if(!tmp) {
        printf("\nMemory error");
        return;
    }
    tmp->node=Root;                 
    tmp->next=NULL;
    if(!Q->rear)
        Q->rear=tmp;
    else
    {
        Q->rear->next=(List)tmp;   // only warning here
        Q->rear=tmp;
    }

    if(!Q->front)
        Q->front=Q->rear;
}

Tree Dequeue(Queue Q)
{
    Tree node;
    List tmp;
    if(isEmpty(Q))
        printf("\nUnderflow");
    else
    {
        tmp=Q->front;
        Q->front=(List)Q->front->next;
        node=tmp->node;
        free(tmp);
        return node;
    }
}  

void DeleteQueue(Queue Q)
{
    Queue tmp;
    while((Q->front!=NULL)&&(Q->front!=Q->rear))
    {
        tmp=(Queue)Q->front;
        Q->front=(List)Q->front->next;
        free(tmp);
    }
    if(Q->rear)
        free(Q->rear);
    if(Q->front)
        free(Q->front);
    Q->rear=Q->front=NULL;
}

// Tree Insertion 

Tree Insertion(Tree Root,int data)
{
     Tree tmp,newnode,ptr;
     Queue Q;
     ptr=Root;
     newnode=(Tree)malloc(sizeof(struct TreeStructure));    
     if(!newnode) {
         printf("\nMemory Error");
         exit(1);
     }
     newnode->data=data;
     newnode->left=newnode->right=NULL;
     if(!Root)
         return newnode;
     Q=Creation();
     Enqueue(Q,Root);
     printf("\nInside Happy");
     while(!isEmpty(Q))
     {     
         Root=Dequeue(Q);        
         if(Root->left)
             Enqueue(Q,Root->left);
         else
         {
             Root->left=newnode;
             DeleteQueue(Q);
             return ptr;
         } 
         if(Root->right)
             Enqueue(Q,Root->right);
         else
         {
             Root->right=newnode;
             DeleteQueue(Q);
             return ptr;
         }

    }
    DeleteQueue(Q);
}

void Preorder(Tree Root)
{
    if(Root)
    {
        printf("\n Element is %d",Root->data);
        Preorder(Root->left);
        Preorder(Root->right);
    }
}

int main()
{
    int i;
    Tree p,Root=NULL;
    for(i=0;i<10000;i++)
    {
        Root=Insertion(Root,i+98);
    }
    printf("\nInsertion finished");
    Preorder(Root);
    getch();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-08-18T05:56:29.677

您的系统中可能存在内存分配问题，您可以尝试其他编译器或仔细进行代码审查。

# playframework-2.1 - play2.1 中可用的控制器标签有哪些？

> ID：15018300
> 
> 赞同：0
> 
> 时间：2013-02-22T06:35:24.387
> 
> 标签：playframework-2.1

有没有我可以参考的文档来获取有关控制器标签的完整详细信息，例如 play framework 2.1 中可用的“@input”？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T21:06:07.067

您可以在 API 中找到所有标签，附带一个小文档：

*   [API](http://www.playframework.com/documentation/api/2.1.0/scala/index.html#views.html.helper.package)
*   [来源](https://github.com/playframework/Play20/tree/master/framework/src/play/src/main/scala/views/helper)

# encryption - 在 PasswordDeriveBytes 中使用 SHA256

> ID：15018301
> 
> 赞同：0
> 
> 时间：2013-02-22T06:35:31.927
> 
> 标签：encryption, aes, sha1, sha256

目前，我正在开发一个**.NET 应用程序，该应用程序需要对存储在****SQL Server 2008**数据库中的数据进行加密。

我使用了 AES 加密，密钥是使用密码和盐组合生成的，这些组合使用**PasswordDeriveBytes使用****SHA1**进行散列。现在，我需要将散列算法更改为**SHA256**，据我所知**PasswordDeriveBytes**只接受 MD5 和 SHA1 作为散列参数。我只想知道是否可以使用 PasswordDeriveBytes 来实现 SHA256。

 ******如果没有，出于相同目的，.NET 中的替代内置类是什么？我可以手动实现吗？如果手动实施是唯一的解决方案，我可能需要帮助。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T09:15:54.690

另一种选择是[`Rfc2898DeriveBytes`](http://msdn.microsoft.com/en-us/library/system.security.cryptography.rfc2898derivebytes.aspx)。使用起来更安全，尤其是当您需要超过 20 个字节的输出时。它当然与 PasswordDeriveBytes 不兼容。对于超过 20 个字节的任何值，PasswordDeriveBytes 都会被破坏。不幸的是，PBKDF2 也有一个缺点：它对散列大小上的任何值重复所有迭代。在这种情况下，您可能希望将其与 KBKDF 配对。

因此，如果不恢复到其他库，您似乎无法做到这一点。这就是充气城堡可能出现的地方。它具有 PBKDF2 功能，您可以简单地使用 HMAC 进行初始化，然后您可以使用给定的哈希算法进行初始化。请参阅[此](https://stackoverflow.com/questions/3210795/pbkdf2-in-bouncy-castle-c-sharp)stackoverflow 问题中 PBKDF2 的使用。您可以简单地将摘要替换为，`Sha256Digest`并且您应该正在路上。

注意：加密中没有什么是简单的，看来你需要有弹性的源来实现这一点。******

# android - 如何限制用户只能从图库中选择 JPG 图片？

> ID：15018308
> 
> 赞同：6
> 
> 时间：2013-02-22T06:36:17.250
> 
> 标签：android, android-gallery, android-selector

在我的应用程序中，我有一个选项允许用户从图库中选择图像并在应用程序中使用它。但是我想限制用户只选择带有`.jpg`扩展名的图像。我该如何做到这一点？

到目前为止，我已经尝试了以下方法，但每种类型的图像都可以通过这种方法处理：

```
Intent intent = new Intent(Intent.ACTION_PICK);
intent.setType("image/*");
startActivityForResult(intent, RESULT_LOAD_IMAGE); 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-22T06:48:16.893

**1.**您可以使用

```
intent.setType("image/jpeg"); 
```

或者

```
intent.setType("image/jpg"); 
```

**2.**或者您可以使用 onActivityResult 来检查文件：

```
filePath.endsWith(".jpg") 
```

如果**文件是 .jpg 或 .jpeg 类型，则仅实现**您的**逻辑，否则 Toast 文件应为 .jpg 格式。**

# google-chrome-extension - 可以在 chrome 扩展中执行浏览器后退或前进操作

> ID：15018309
> 
> 赞同：1
> 
> 时间：2013-02-22T06:36:18.637
> 
> 标签：google-chrome-extension

可以在 chrome 扩展中执行浏览器后退或前进操作吗？有没有相关的api？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T08:35:21.663

您可以为浏览器后退和前进操作注入[**`Content Scripts`**](https://developer.chrome.com/extensions/content_scripts.html)和执行[**`window.history`**](https://developer.mozilla.org/en-US/docs/DOM/window.history)方法。

# c# - Windows Phone 7 合并从相机录制的视频

> ID：15018311
> 
> 赞同：1
> 
> 时间：2013-02-22T06:36:26.267
> 
> 标签：c#, .net, windows-phone-7, video, windows-phone-8

我想知道是否可以将从应用程序本身录制的两个单独的视频合并到一个文件中。

如果它在 WP7 中不可能，那么在 WP8 中是否可能？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T12:33:10.860

它在 WP7 上是不可能的。

在 WP8 上，您可以从代码访问 Direct3D，并且应该能够利用它来操作视频。从这里开始。准备好做 C++

[http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj207198(v=vs.105).aspx](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj207198(v=vs.105).aspx)

# android - 当“未找到处理意图的活动”通过查看 Play 商店时，是否有 Android 应用程序可以解决意图？

> ID：15018315
> 
> 赞同：3
> 
> 时间：2013-02-22T06:36:27.397
> 
> 标签：android, android-intent, android-activity, resolver

当出现“未找到处理意图的活动”错误时，我需要在 Play Google 应用商店中搜索相应的应用程序。有没有办法通过 Intent 在 Play Store 中找到应用程序，列出它们并显示给用户？然后用户可以选择一个来下载和安装。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:23:08.563

有趣的概念，但您谈论的是通过大约一百万个应用程序并返回可以满足所需意图的应用程序。当然，这不可能在您的应用程序中执行，即使至少有这样的功能，Google Play 也应该使用 SDK 实现它。

# php - 在 PHP 网站上缓存大量写入和大量读取

> ID：15018319
> 
> 赞同：0
> 
> 时间：2013-02-22T06:36:47.970
> 
> 标签：php, caching, iis, windows-server-2008-r2, couchbase

目前，我们正面临 IIS/PHP 的问题 - 我们有时会在负载较重的网站上出现“服务不可用”错误。服务器正在运行 FastCGI，但不使用任何操作码缓存，例如 APC。

每秒有一个 2.5KB 的 XML 文件被写入磁盘至少 20 次 - 这正在从商品市场获取价格更新。这被页面用于每秒或更少的 AJAX 加载。当用户数量增加时，我们面临 php-cgi.exe 进程排队并导致网站不可用的问题。

基本上它只是一组数据被写入和读取。

我们计划使用 CouchBase 解决方案从磁盘替换文件，以便将文件内容写入缓存并由文件从缓存中读取。

我担心的是：“据说缓存有利于更少的写入和更多的读取”。在这种大量写入和读取的情况下，CouchBase 将如何执行？或者有人对上述情况有任何其他解决方案吗？

我们已经尝试从 MySQL 数据库存储和使用它，然后因为 MySQL 无法处理负载而转移到基于文件的解决方案。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-24T15:46:50.493

我用过 couchbase，它的速度比 mongodb 或 mysql 快。

看看这个基准测试结果：[http ://www.slideshare.net/renatko/couchbase-performance-benchmarking](http://www.slideshare.net/renatko/couchbase-performance-benchmarking)

对于大量写入，读取沙发底座是一个怪物

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-24T23:35:49.400

在传统的基于 SQL 的数据库中，我们被教导尽量**不要**访问数据库。

在 Couchbase 中，读取和写入速度非常快，以至于微不足道。**这意味着与传统的 RDBMS 解决方案相比，**您可以执行更多的任务，而不会增加负载。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T06:51:45.080

使用数据库...例如MySQL innodb，因为insert不会锁定整个表。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-28T15:57:18.973

Couchbase 就是以此为基础构建的，它是一个非常快速且可扩展的数据库。

Couchbase 使用 memcache 协议（速度）直接在内存中读/写，并将数据异步保存到磁盘（复制到另一个节点）。这就是 Couchbase 如何快速读写。

试一试你会惊讶的！

# android - 使用 Parcelable 将包含对象列表的对象传递给另一个活动

> ID：15018321
> 
> 赞同：5
> 
> 时间：2013-02-22T06:36:54.837
> 
> 标签：android, object, android-intent, parcelable

我有我的活动 WorkerActivity 和一些工人的列表，我试图将点击的工人对象传递给我的 WorkerDetailActivity。我对 java 和 android 比较陌生，所以我正在寻找可能的解决方案，因为在大多数答案中，建议不要序列化并建议使用 parcelable，我尝试像这里建议的那样执行此操作：
[How to pass a parcelable object that contains对象列表？](https://stackoverflow.com/questions/6300608/how-to-pass-a-parcelable-object-that-contains-a-list-of-objects)

最后 3 行代码，该部分`in.readList(machinePossession, null);` 向我显示以下错误：

> 类型不匹配：无法从 void 转换为 List<Machine>

我不知道如何处理这个问题，很乐意接受任何建议。

我删除了包和所有构造函数、setter 和 getter，以保持发布的代码干净。

```
import java.util.ArrayList;
import java.util.List;

import android.os.Parcel;
import android.os.Parcelable;
import android.util.Log;

public class Worker implements Parcelable{

private String workerID;
private String workerPersonnelNR;
private String workerLastName;
private String workerName;
private String workerCategory;
private String historyName;
private String historyID;
private String historyFrom;
private String historyTo;
private String historyActive;
private String historyDays;
public List<Machine> machinePossession = new ArrayList<Machine>();
public List<Machine> machinePossibility = new ArrayList<Machine>();
public List<Machine> machineHistory = new ArrayList<Machine>();

public String error;

public static class WorkerWrapper{

    public List<Worker> workers;

    public WorkerWrapper(List<Worker> workers) {
        this.workers = workers;
    }
}

public Worker(){
    //default constructor
}

    /*REMOVED CONSTRUCTORS / SETTERS / GETTERS */

//parcel
public void writeToParcel(Parcel dest, int flags) {
    Log.v("", "writeToParcel..." + flags);
    dest.writeString(workerID);
    dest.writeString(workerPersonnelNR);
    dest.writeString(workerLastName);
    dest.writeString(workerName);
    dest.writeString(workerCategory);
    dest.writeString(historyName);
    dest.writeString(historyID);
    dest.writeString(historyFrom);
    dest.writeString(historyTo);
    dest.writeString(historyActive);
    dest.writeString(historyDays);        
    dest.writeList(machinePossession);
    dest.writeList(machinePossibility);
    dest.writeList(machineHistory);
}

public static final Parcelable.Creator CREATOR = new Parcelable.Creator() {
    public Worker createFromParcel(Parcel in) {
        return new Worker(in);
    }

    public Worker[] newArray(int size) {
        return new Worker[size];
    }
};

@Override
public int describeContents() {
    return 0;
}

private Worker(Parcel in) {
    workerID = in.readString();
    workerPersonnelNR = in.readString();
    workerLastName = in.readString();
    workerName = in.readString();
    workerCategory = in.readString();
    historyName = in.readString();
    historyID = in.readString();
    historyFrom = in.readString();
    historyTo = in.readString();
    historyActive = in.readString();
    historyDays = in.readString(); 
    machinePossession = in.readList(machinePossession, null);
    machinePossibility = in.readList(machineHistory, null);
    machineHistory = in.readList(machineHistory, null);
    }
} 
```

编辑：

感谢@Archie.bpgc
所以要摆脱错误，你必须像这样编码：

```
private Worker(Parcel in) {
    workerID = in.readString();   
    ....
    historyDays = in.readString(); 
    in.readList(machinePossession, null);
    in.readList(machineHistory, null);
    in.readList(machineHistory, null);
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T06:48:44.150

那是因为你的`machinePossession is a List of <Machine>`

和`in.readList(machinePossession, null) returns void`

因此，在这一步：

```
machinePossession = in.readList(machinePossession, null); 
```

你得到

> 类型不匹配：无法从 void 转换为 List

在试图保持`void in a List<Machine>`

来自[文档](http://developer.android.com/reference/android/os/Parcel.html#readList%28java.util.List,%20java.lang.ClassLoader%29)

> public final void readList (List outVal, ClassLoader loader)
> 
> 在 API 级别 1 中添加 从当前 dataPosition() 的 parcel 中读取现有 List 对象，使用给定的类加载器加载任何封闭的 Parcelables。如果为 null，则使用默认的类加载器。

所以我认为

```
in.readList(machinePossession, null); 
```

就足够了。不要将其分配给`List<machine>`，而是将其用于`read in to`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T06:52:25.187

有一个非常简单的解决方案。如果您的 Object 属于实现 parcelable 或 serializable 的类。你可以这样做：

因为你的工人阶级实现了 parcelable。

从活动1

```
Bundle bundle = new Bundle();
bundle.putParcelable("worker", workerObject);
bundle.putParcelableArray("workerArray", workerArrayObject);
bundle.putParcelableArrayList("workerArrayList", workerArrayList);
Intent i = new Intent(this, Activity2.class);
i.putExtras(bundle);
startActivity(i); 
```

在 Activity2 的 onCreate() 内部

```
Bundle bundle = getIntent().getExtras();
Worker workerObject = bundle.getParceable("worker");
Worker[] workerArray = bundle.getParceableArray("workerArray");
ArrayList<Worker> workerArrayList = bundle.getParceableArrayList("workerArrayList"); 
```

处理类型转换，你很高兴......

希望能帮助到你

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-06-26T11:10:36.693

我解决了一个类似的问题来传递一个带有列表字段的 Parcelable，它对我来说效果很好，这是示例（如果对您有帮助，请给我一个大拇指）：</p>

```
 /**
  * Note: You have to keep an order of writing and reading
  * If you have more than one field.
  **/
 public class Test implements Parcelable {

   // Machine also implements Parcelable.
   private List<Machine> machinePossession;

   public static final Creator<Test> CREATOR = new Creator<Test>() {

      @Override
      public Test createFromParcel(Parcel in) {
         return new Test(in);
      }

      @Override
      public DirectStoreProductBean[] newArray(int size) {
         return new DirectStoreProductBean[size];
      }
   };

   protected Test(Parcel in) {

      // This is a must to make sure the machinePossession isn't null.
      // Anyway, you can ignore this line If you can make sure machinePossession isn't null.
      machinePossession = new ArrayList<>();

      // You have to make Machine class implement Parceable and create a CREATOR in it.
      in.readTypedList(machinePossession, Machine.CREATOR);
   }

   @Override
   public void writeToParcel(Parcel dest, int flags) {
      // It's better to log machinePossession's info here to make suer it contains values.
      dest.writeTypedList(machinePossession);
   }

 } 
```

# c# - 将匿名类型绑定到中继器

> ID：15018323
> 
> 赞同：1
> 
> 时间：2013-02-22T06:36:59.230
> 
> 标签：c#, asp.net, linq, c#-4.0, asp.net-4.0

我想将一个可枚举的匿名类型绑定到这样的转发器：

```
protected void Page_Load(object sender, EventArgs e)
{
    var obj = myEnumerable.Select(x => new { foo = x.bar, ... });

    myRepeater.DataSource = obj;
    myRepeater.DataBind();
} 
```

如何访问in的`foo`属性？`e.Item.DataItem``OnItemDataBound`

```
protected void myRepeater_ItemDataBound(object sender, RepeaterItemEventArgs e)
{
    if (e.Item.ItemType == ListItemType.Item || e.Item.ItemType == ListItemType.AlternatingItem)
    {
        myFunction(e.Item.DataItem.foo);
    }
} 
```

我不知道该投什么`e.Item.DataItem`，我错过了什么吗？如果不创建强类型类，这可能吗？

我不能直接绑定`myEnumerable`到，`myRepeater`因为我必须先操作它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T06:42:59.617

您可以将匿名类型的序列绑定到转发器，但是如果您需要从另一个方法访问该类型，那么是时候定义一个适当的类了。

当您不需要保留类型信息时，匿名类型在狭窄范围内很有用***。在你的情况下，你需要它，所以定义一个类。

* * *

*从技术上讲，这种类型当然会存在。编译器在幕后生成一个类，并给它起一个对你来说难以形容的名字。但这发生在幕后、幕后和幕后。在内部。

# asp.net - 在 ASP.NET C# 中调整图像大小

> ID：15018327
> 
> 赞同：1
> 
> 时间：2013-02-22T06:37:30.733
> 
> 标签：asp.net, image-resizing

我想在 ASP.NET C# 中单击一个按钮将一个图像调整为多个图像，例如 thumb_image、Small_image、big_image。

请为我提供相同的帮助或示例代码..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:54:02.893

你可以做这样的事情。

```
 var thumbNail = CreateThumbnail(100, 100, fullPath);

        public static Image CreateThumbnail(int maxWidth, int maxHeight, string path)
    {

        var image = Image.FromFile(path);
        var ratioX = (double)maxWidth / image.Width;
        var ratioY = (double)maxHeight / image.Height;
        var ratio = Math.Min(ratioX, ratioY);
        var newWidth = (int)(image.Width * ratio);
        var newHeight = (int)(image.Height * ratio);
        var newImage = new Bitmap(newWidth, newHeight);
        Graphics.FromImage(newImage).DrawImage(image, 0, 0, newWidth, newHeight);
        image.Dispose();
        return newImage;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-30T15:03:19.147

我希望你使用图书馆来做到这一点。有很多代码示例，但它们不是为服务器端使用而设计的，而[ImageResizer](http://imageresizing.net) *是*.

至少[阅读这篇文章，了解如果您决定采用复制和粘贴路线，应避免哪些陷阱](http://www.nathanaeljones.com/blog/2009/20-image-resizing-pitfalls)。

# c++ - 将 malloc 更改为新的会导致错误

> ID：15018331
> 
> 赞同：0
> 
> 时间：2013-02-22T06:37:54.717
> 
> 标签：c++

[在http://sequitur.info/sequitur_simple.cc](http://sequitur.info/sequitur_simple.cc)有一个代码

我改变了`malloc`和`free`线

```
R = (rules **) malloc(sizeof(rules *) * num_rules);
free(R); 
```

到`new`和`delete`

```
R = (rules **) new(sizeof(rules *) * num_rules);  //ERROR
delete(R); 
```

但是`g++`显示此错误：

```
error: expected type-specifier before â;â token
error: invalid conversion from âlong unsigned intâ to âvoid*â [-fpermissive]
/usr/include/c++/4.6/new:103:14: error:   initializing argument 2 of âvoid* operator new(std::size_t, void*)â [-fpermissive] 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T06:40:03.817

假设您的变量类型是正确的，它应该是

```
R = new rules*[num_rules]; 
```

稍后，当您要释放它时，请使用

```
delete[] R; 
```

* * *

但很可能，OP 正试图解决这里的“错误”问题（设计这段代码时所做的假设可能不正确......）。[有关更多详细信息，请参阅 Jerry Coffin在此处](https://stackoverflow.com/a/15018444/690061)的回答

关于何时`new`像函数一样使用（放置新），请参阅 refp 的答案[here](https://stackoverflow.com/a/15018377/690061)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-22T06:42:10.537

`malloc`并且`new`两者都分配存储，但它们有很大的不同，不仅在逻辑上而且在语法上也是如此。一个是普通函数，另一个是运算符。

* * *

要为您分配存储空间，`num_rules` `rules*`您需要使用以下内容。

```
rules ** R;

...

R = new rules* [num_rules];

...

delete [] R; 
```

* * *

### 但我见过被`new`称为函数吗？

并非如此，您可能已经看到看起来像*函数调用*的东西，但事实并非如此。

在下面的代码片段中，我们将告诉 new 在*adress* `0x123123`处初始化一个对象，我们**没有**`0x123123`为number 个分配内存`Obj`。这通常被称为*“placement-new”*。

```
Obj * p = new (0x123123) Obj; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T06:47:00.013

这是你真正应该在做任何事情之前仔细查看代码的地方。 ~~void print() { R = (rules **) malloc(sizeof(rules *) * num_rules); memset(R, 0, sizeof(rules *) * num_rules); R[0] = &S; Ri = 1;~~

 ~~```
 for (int i = 0; i < Ri; i ++) {
    cout << i << " -> ";
    p(R[i]);
  }
  free(R);
} 
```~~ 

仔细看看。请特别注意它为`num_rules`指针分配空间的事实，但实际上只*使用*其中*一个*指针 ( `R[0]`)。

与其重写代码以更改 from `malloc`，`new`不如完全消除动态分配，并在此过程中大大简化代码，得到如下内容：

```
void print() { 
    cout << "0 -> " << p(&S);
} 
```

~~我想我应该补充一点，~~我没有进行`p`非常彻底的分析——我想它实际上可能正在使用分配的额外数据。如果是这样，代码需要更认真的重写——这太可怕了（不幸的是，`R`and`Ri`是全局变量的事实表明这太可能了）。

底线：无论您如何看待它，您都在这里解决了错误的问题。`malloc`vs.`new`是完全错误的地方。

如果您确实决定进行更改，看起来您可以在`std::vector`此处使用 a 没有任何问题。

```
void print() { 
    std::vector<rules *> R(num_rules);

    R[0] = &S;

    // ...
} 
```

编辑：多看一点`p`，看起来我的第二个想法是有道理的——我很确定第一次重写不会正常工作。`p`不仅使用了 中的剩余空间`R`，*还*修改`Ri`了 ，所以最初看起来只执行一次的循环实际上会执行多次。

结论：把写这个烂摊子的人称为一文不值的白痴将是对一文不值的白痴的侮辱。

# spring - 什么 CMS 用于 Spring MVC Web 应用程序和设备响应式 Web 设计？

> ID：15018332
> 
> 赞同：25
> 
> 时间：2013-02-22T06:38:00.143
> 
> 标签：spring, spring-mvc, responsive-design, magnolia, opencms

我正在寻找为我的企业设计一个小型电子商务网站。我将在后端使用 Spring 和 Java 的东西。并且网站应该是设备响应的。我很困惑决定使用哪个 CMS。请有人帮助我。

* * *

## 回答 #1

> 赞同：35
> 
> 时间：2013-02-22T07:21:15.983

电子商务：如果是商店，您可能想了解**BroadLeaf Commerce**：它不是 CMS，而是开源商店系统，但建立在您正在寻找的技术堆栈之上。 [http://www.broadleafcommerce.org/](http://www.broadleafcommerce.org/)

除此之外：我曾经使用**OpenCms**多年（自 2005 年以来），您可以将其与 Spring 集成（这就是我们所做的，请在此处查看我对这个问题的回答：[What java based CMS can manage existing pages' content ?](https://stackoverflow.com/questions/13490509/what-java-based-cms-can-manage-existing-pages-content)以及[Java 应用程序与 OpenCms 的集成](https://stackoverflow.com/questions/3263558/integration-of-javaapplication-with-opencms/3266127#3266127)）

但是，如果我在 Java 上使用 CMS 构建了一个新站点，我可能会选择**Magnolia CMS**，因为文档和社区更成熟，尽管它比 OpenCms 更新。 [http://www.magnolia-cms.com/](http://www.magnolia-cms.com/) 春季集成：[https ://wiki.magnolia-cms.com/display/WIKI/Magnolia+Blossom](https://wiki.magnolia-cms.com/display/WIKI/Magnolia+Blossom)

关于架构：Magnolia 使用 Jackrabbit 作为与 JCR 兼容的存储库，而 OpenCms 使用自己的方法，缺点是它们将所有内容文件存储在 MySQL 数据库中而不是文件系统中。这并没有带来太多好处，只有缺点。

关于您对响应式设计的要求：您选择哪种 CMS 并不重要，因为您将呈现为前端的内容（无论是 html5、json、xml）对于 CMS 的选择并不重要。我会说，选择具有与您的一组需求相匹配的最佳功能特性的 CMS 或电子商务系统，然后查看 UI，您会发现哪个最吸引人。

关于架构和底层技术，以上三个应该都做的很好。

**== 2016 年 5 月 20 日更新 ==**

只是为了证实我三年前提出的上述建议：在使用 OpenCms 大约 10 年后，我在 2 年前完全切换到 Magnolia 并且不后悔。恕我直言，它是目前可以与大玩家竞争的最好的开源 WebCMS。社区和文档非常好。我使用免费的社区版。顺便说一句：我不为 Magnolia International Ltd 或他们的任何合作伙伴工作，这只是我个人的意见和经验。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2017-11-01T20:18:33.937

如果您想在 CMS 或电子商务平台中使用 Spring 框架，我知道的前 3 个是：
magnolia cms
broadleaf
Liferay

并列出一些基于（或支持）Spring 框架的 CMS。

Craftercms
craftercms.org/
[http://craftercms.org/downloads](http://craftercms.org/downloads)
Crafter 是一个纯 Spring 框架，最好入手。

wallride
[http://wallride.org/](http://wallride.org/)
由 100% 纯 Java 制作，使用 Spring 框架、Hibernate 和 Thymeleaf。

HIPPO CMS
[https://www.onehippo.org](https://www.onehippo.org)
Spring Framework 的许多核心功能，例如依赖注入和面向方面的编程，都在 Hippo 的交付层 (HST) 中用于管理其内部组件。

asbrusoft
[http://wcm.asbrusoft.com/](http://wcm.asbrusoft.com/)
- 纯春天。对个人来说不是免费的，但对企业来说很便宜

[http://www.broadleafcommerce.com/](http://www.broadleafcommerce.com/)
- 纯春天

Walrus CMS
[http://walrus.lt/](http://walrus.lt/)
- 基于 Spring 框架的 java CMS

dotcms
[https://dotcms.com/cms-platform/features](https://dotcms.com/cms-platform/features)
– 完全支持spring

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2018-02-14T16:24:44.087

还有[Spring Content](https://paulcwarren.github.io/spring-content/)。这使您可以在您选择的组件之上构建自己的 CMS，而不是被迫使用 CMS 代表您选择的任何内容。请参阅上面关于 MySQL 的评论。可以只使用一个类和两个接口来构建内容服务。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-03-06T10:26:43.533

CoreMedia 也是一流的内容管理系统，与所有电子商务平台紧密集成，并且基于 Spring。

以下是我发表的关于 CoreMedia 的一些内容：

使用 Commerce Beans 开始行动 -[链接](https://bobbalfe.blog/2019/03/05/spring-into-action-with-commerce-beans/)

CoreMedia YouTube 系列让一切变得简单 -[链接](https://www.youtube.com/playlist?list=PLhNYtwk4oIbdB8js0ZhGNbdG0Zp95rMYR)

# c++ - 拼接中的 OpenCV 断言错误

> ID：15018337
> 
> 赞同：1
> 
> 时间：2013-02-22T06:38:33.890
> 
> 标签：c++, opencv

我正在对两个图像进行拼接，并在调试时出现此错误（编译成功但运行时中断）：

断言失败 ==CV_8Uc3> 在未知函数中。

这是代码：

```
int main(int argc, char ** argv)
{
    Mat im1=imread("panorama_image1.jpg", CV_LOAD_IMAGE_GRAYSCALE);
    Mat im2=imread("panorama_image2.jpg", CV_LOAD_IMAGE_GRAYSCALE);

    Mat result;
    vector<Mat> imgs;
    imgs.push_back(im1);
    imgs.push_back(im2);
    cv::Stitcher stitcher=cv::Stitcher::createDefault(false);
    stitcher.stitch(imgs,result);

    namedWindow("Mosaic", CV_WINDOW_AUTOSIZE);
    imshow("Mosaic",result);
    waitKey(0);

    return 0;
} 
```

我无法在此代码中找到错误。并且链接器库是正确的（使用 D 版本，例如`opencv_core244d.lib`，`opencv_stitching244d.lib`等

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-05-02T03:42:02.283

我认为[sgarizvi](https://stackoverflow.com/users/1231073/sgarizvi)是对的，加载颜色为我解决了类似的问题：

```
Mat im1=imread("panorama_image1.jpg", CV_LOAD_IMAGE_COLOR);
Mat im2=imread("panorama_image2.jpg", CV_LOAD_IMAGE_COLOR); 
```

# javascript - Primefaces Watermark：点击时隐藏占位符

> ID：15018342
> 
> 赞同：0
> 
> 时间：2013-02-22T06:39:09.200
> 
> 标签：javascript, css, jsf, jsf-2, primefaces

Primefaces Watermark 组件的当前行为是在输入字段不为空时隐藏占位符文本。如果有人点击输入字段，有什么方法可以实现这种行为？任何建议都会非常有帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T13:35:44.460

这是一个丑陋的 Javascript hack，但以下工作：

`onclick="$(this).attr('placeholder', '');"`

当放置在输入元素上时。

# php - 导出的 csv 文件包含 html 标签

> ID：15018350
> 
> 赞同：-1
> 
> 时间：2013-02-22T06:39:55.263
> 
> 标签：php, jquery, mysql, ajax, csv

我想创建一个 csv 文件。

问题是生成的 csv 文件包含 html 标签和其他无用信息。

我尝试了以下代码：

```
<?php
    mysql_connect("localhost","root","");
    mysql_select_db("XXXXXXX");
    $query = "SELECT * FROM table";
    $filename = $file."_".date("Y-m-d_H-i",time());

   //Generate the CSV file header
   header('Content-Type: text/csv; charset=utf-8');
   header("Content-type: application/vnd.ms-excel");
   header("Content-disposition: csv" . date("Y-m-d") . ".csv");
   header("Content-disposition: filename=".$filename.".csv");

   $result = mysql_query($query) or die(mysql_error());
   $vilaio='';
   $vilaio.="\n\tID\tEmail id\n";
   while($row = mysql_fetch_array($result)){
      $vilaio.="\n\t$row[eid_id]\t$row[eid_email]"; 
   }

  print $vilaio;
?> 
```

代码有问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:50:07.390

尝试使用 strip_tags() 如下所示：

```
$result = mysql_query($query) or die(mysql_error());
$vilaio='';
 $vilaio.="\n\tID\tEmail id\n";
 while($row = mysql_fetch_array($result)){
      $vilaio.="\n\t$row[eid_id]\t".strip_tags($row[eid_email]); 
 }
print $vilaio; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T06:53:56.693

标题方式不是创建一个 csv 文件的推荐方式。PHP 有一个名为`PHPExcel`.

[PHPExcel](http://phpexcel.codeplex.com/)库：

[已经在这里](https://stackoverflow.com/questions/11390343/php-simple-excel-lib/11390457#11390457)回答了

# ruby-on-rails - PhusionPassenger：无法启动 Ruby（机架）应用程序

> ID：15018351
> 
> 赞同：0
> 
> 时间：2013-02-22T06:40:00.057
> 
> 标签：ruby-on-rails, passenger

我是 Rails 开发人员的新手，我已经在我的服务器上部署了 rails 应用程序。但是现在它没有启动并且在浏览器上给出错误如下：

## 错误信息：

```
There was an error while trying to write to Gemfile.lock. It is likely that you need to allow write permissions for the file at path: /var/www/PCMI/zil/Gemfile.lock (Bundler::InstallError) 
```

## 异常类：

```
PhusionPassenger::UnknownError 
```

## 应用程序根：

```
/var/www/PCMI/zil 
```

## 回溯：

```
0  /usr/local/rvm/gems/ruby-1.9.3-p125@domain_name/gems/bundler-1.2.0/lib/       bundler/definition.rb  238  in `rescue in lock'

1  /usr/local/rvm/gems/ruby-1.9.3-p125@domain_name/gems/bundler-1.2.0/lib/bundler/definition.rb 223     in `lock'

2   /usr/local/rvm/gems/ruby-1.9.3-p125@domain_name/gems/bundler-1.2.0/lib/bundler/environment.rb   39  in `lock'

3   /usr/local/rvm/gems/ruby-1.9.3-p125@domain_name/gems/bundler-1.2.0/lib/bundler/runtime.rb   39  in `setup'

4   /usr/local/rvm/gems/ruby-1.9.3-p125@domain_name/gems/bundler-1.2.0/lib/bundler.rb   116     in `setup'

5   /usr/local/rvm/gems/ruby-1.9.3-p125@domain_name/gems/passenger-3.0.17/lib/phusion_passenger/utils.rb    326     in `prepare_app_process'

6   /usr/local/rvm/gems/ruby-1.9.3-p125@domain_name/gems/passenger-3.0.17/lib/phusion_passenger/rack/application_spawner.rb     156     in `block in initialize_server'

7   /usr/local/rvm/gems/ruby-1.9.3-p125@domain_name/gems/passenger-3.0.17/lib/phusion_passenger/utils.rb    563     in `report_app_init_status'

8   /usr/local/rvm/gems/ruby-1.9.3-p125@domain_name/gems/passenger-3.0.17/lib/phusion_passenger/rack/application_spawner.rb     154     in `initialize_server'

9   /usr/local/rvm/gems/ruby-1.9.3-p125@domain_name/gems/passenger-3.0.17/lib/phusion_passenger/abstract_server.rb  204     in `start_synchronously'

10  /usr/local/rvm/gems/ruby-1.9.3-p125@domain_name/gems/passenger-3.0.17/lib/phusion_passenger/abstract_server.rb  180     in `start'

11  /usr/local/rvm/gems/ruby-1.9.3-p125@domain_name/gems/passenger-3.0.17/lib/phusion_passenger/rack/application_spawner.rb     129     in `start'

12  /usr/local/rvm/gems/ruby-1.9.3-p125@domain_name/gems/passenger-3.0.17/lib/phusion_passenger/spawn_manager.rb    253     in `block (2 levels) in spawn_rack_application'

13  /usr/local/rvm/gems/ruby-1.9.3-p125@domain_name/gems/passenger-3.0.17/lib/phusion_passenger/abstract_server_collection.rb   132     in `lookup_or_add'

14  /usr/local/rvm/gems/ruby-1.9.3-p125@domain_name/gems/passenger-3.0.17/lib/phusion_passenger/spawn_manager.rb    246     in `block in spawn_rack_application'

15  /usr/local/rvm/gems/ruby-1.9.3-p125@domain_name/gems/passenger-3.0.17/lib/phusion_passenger/abstract_server_collection.rb   82  in `block in synchronize'

16  < td=""> <> prelude>    10:in `synchronize'

17  /usr/local/rvm/gems/ruby-1.9.3-p125@domain_name/gems/passenger-3.0.17/lib/phusion_passenger/abstract_server_collection.rb   79  in `synchronize'

18  /usr/local/rvm/gems/ruby-1.9.3-p125@domain_name/gems/passenger-3.0.17/lib/phusion_passenger/spawn_manager.rb    244     in `spawn_rack_application'

19  /usr/local/rvm/gems/ruby-1.9.3-p125@domain_name/gems/passenger-3.0.17/lib/phusion_passenger/spawn_manager.rb    137     in `spawn_application'

20  /usr/local/rvm/gems/ruby-1.9.3-p125@domain_name/gems/passenger-3.0.17/lib/phusion_passenger/spawn_manager.rb    275     in `handle_spawn_application'

21  /usr/local/rvm/gems/ruby-1.9.3-p125@domain_name/gems/passenger-3.0.17/lib/phusion_passenger/abstract_server.rb  357     in `server_main_loop'

22  /usr/local/rvm/gems/ruby-1.9.3-p125@domain_name/gems/passenger-3.0.17/lib/phusion_passenger/abstract_server.rb  206     in `start_synchronously'

23  /usr/local/rvm/gems/ruby-1.9.3-p125@domain_name/gems/passenger-3.0.17/helper-scripts/passenger-spawn-server     99  in `' 
```

请检查浏览器中显示的错误。请帮助我解决我的问题。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:45:32.690

看起来乘客无法写入您的 gem 文件的锁定文件。基本上它不能确定你没有运行捆绑，因为它不能获得对该文件的排他锁。

确保用户乘客正在运行（apache 默认为 www-data）对该文件具有写入权限。

您可以通过使用`chown`和`chmod`

# jquery - 如何根据是否选中一个复选框并且另一个单元格使用 jQuery 满足某些条件来修改表格单元格的值？

> ID：15018353
> 
> 赞同：0
> 
> 时间：2013-02-22T06:40:12.360
> 
> 标签：jquery, select, html-table, row, each

我有一个简单的表格，如果选中该行中的复选框并且另一个单元格的值至少为 5，我想在 td 单元格中创建一个标志。我可以弄清楚如何执行复选框并更改单元格，但我无法弄清楚如何将 jQuery 用于“并且另一个单元格至少为 5”部分。这是我的 jsfiddle 和到目前为止的示例。我还希望在用户更改复选框的值时重新检查。[http://jsfiddle.net/silvajeff/yZbQP/](http://jsfiddle.net/silvajeff/yZbQP/)

```
$('.mySortedTable').ready(function() {
    $(".mySortedTable input.myChkBox:checked").closest('tr').find('td:eq(2)').text("Yes"); 
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:55:02.097

看到这个：http: [//jsfiddle.net/yZbQP/1/](http://jsfiddle.net/yZbQP/1/)

```
$('.mySortedTable').ready(function() {

 $('.mySortedTable').find('tr').each(function(){

  if($(this).find('input.myChkBox').is(':checked') && parseInt($(this).find('td:eq(1)').html(),10) > 4)
    {
        $(this).find('td:eq(2)').text("Yes");
    }
 });
}); 
```

# c# - 关于绑定的使用：WPF Solid Color Brushes

> ID：15018354
> 
> 赞同：0
> 
> 时间：2013-02-22T06:40:13.053
> 
> 标签：c#, wpf

我有一个 UserControl，它定义了一个像这样的网格：

```
<Grid ClipToBounds="True"
      x:Name="GHeader"
      Grid.Row="0"
      Grid.Column="0"
      Background="{DynamicResource BrushRoomHeaderBackground}"
      > 
```

ResourceDictionary 中定义了以下样式，它们在开始时加载：

```
<SolidColorBrush x:Key="BrushRoomHeaderBackground" 
                 Color="{DynamicResource ColorPassive}"
                 /> 

<Color x:Key="ColorPassive">#FF9499C0</Color> 
```

应该使用 DynamicResource 绑定还是 StaticResource ？这里可能有任何内存泄漏吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:47:13.790

正如 Manish 所解释的，您应该查看他的链接，以更好地了解静态资源和动态资源之间的区别。

短篇小说是：

*   在加载 XAML 期间解析静态资源（即使在应用程序运行之前也仅解析一次）
*   DynamicResource 在运行时被解析，并且会在源字典改变时更新

所以对你来说，问题是：你是否打算在运行时更新你的字典，或者至少你的资源是在网格声明之后定义的？如果没有，为了清晰和性能，更喜欢 StaticResource。

# iphone - 获取从当前位置获取的城市的城市代码，例如纽约，纽约

> ID：15018355
> 
> 赞同：0
> 
> 时间：2013-02-22T06:40:14.403
> 
> 标签：iphone, reverse-geocoding, currentlocation

在我的应用程序中，我使用从当前位置获取城市名称`MKReverseGeocoder`

我也得到国家代码，但我也想要城市代码。

例如，如果我去纽约市，而不是我想去纽约。所以我可以展示**纽约，纽约**

任何人都可以帮助我如何获得或任何链接？

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T06:58:36.940

NY 不是“城市代码”，它是纽约州的缩写。`administrativeArea`就`MKPlacemark`/而言，美国的州是一个`CLPlacemark`。地理编码器只提供一个规范的城市名称——如果你想要它的缩写，你就得去别处找了。

另请注意，在 iOS 5.0 及更高版本上，您应该使用`CLGeocoder`. 而不是已弃用的`MKReverseGeocoder`.

# java - java bean 可重用性组件是什么

> ID：15018356
> 
> 赞同：3
> 
> 时间：2013-02-22T06:40:16.853
> 
> 标签：java, jsp, javabeans

当我查看有关 java bean 的不同站点时，我看到它说它是一个可重用组件，但可重用组件在实际中意味着什么。我找不到任何可以重复使用的例子，我也找不到任何描述相同的例子。请为此提供一个示例。Java bean 有 getter 和 setter 方法，那么它在什么意义上是可重用的？

```
public JavaBean{
    public String msg;
    public JavaBean()
    {
        msg="hwllo";
    }
    public string getMsg()
    {
        retrun msg;
    }
    public void setmsg(String msg)
    {
        this.msg=msg;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:43:13.187

“可重用”意味着您可以在许多不同的项目中使用代码。例如，所有 Swing 组件也是 Java Bean。您可以使用 JFrame 任意多个程序。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:04:50.657

Java bean 是简单的 Java 类，它们符合某些规则，例如：

1) 无 arg（默认）公共构造函数 2) 对于每个属性都应该有一个访问器 (get) 和一个修改器 (set) 方法 3) Get/Set 方法应该遵循一定的命名约定 4) 类应该是可序列化的

如果您遵循这些规则，那么其他（可能是第 3 方）软件可以`discover`在运行时使用您的类的功能并重用它。例如`struts tags`，在许多 Web 应用程序中重用的简单 Java bean。通常，Java Bean 以某种`container`管理生命周期的方式执行，例如创建、方法调用、销毁等。容器（例如 servlet 容器、spring 容器等）甚至可以在您实际使用之前实例化您的类并填充其属性在你的代码中。通过这种方式，从重用它的代码中取出了许多样板/重复逻辑（对象的创建、属性的填充）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T07:10:57.487

可重用组件只是预先构建的用于执行特定功能的编程代码。
Bean 是代码的“胶囊”，每一个都是为特定目的而设计的。Java Bean 相对于标准编程控件的优势在于 Bean 是独立的，并且不特定于操作系统或开发环境。在一个开发环境中创建的 Bean 可以很容易地被另一个环境复制和修改。这使得 Java Beans 在企业计算中具有更大的灵活性，因为组件很容易在开发人员之间共享。Beans 背后的一个令人兴奋的概念源于这样一个事实，即用 Java 创建的应用程序可以用作 Bean，它可以用来构建其他应用程序。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T07:14:49.927

***Java Bean***和***可重用组件***是稍微不同的东西。里面说了很多[关于](https://stackoverflow.com/questions/3295496/what-is-a-java-bean-exactly)Java *Beans*的话，请看**一下**。最后 - 它只是一组约定，一些框架、应用程序和其他程序员 :) 期望从您的代码中获得这些约定。没有其他的。

***可重用组件***更通用，意味着您可以在系统/应用程序的不同部分重用代码。甚至其他应用程序也可以使用您的代码，以 API 的形式公开。处理字符串的简单*实用程序类*、一些*域对象*（例如 Student 类，哦， **Java Bean**也在那里！）、一些*电子邮件发送服务*、 *XML 解析器*——所有这些都是可重用的组件。

**UPD。**从评论中回答问题，简单的*打印*可重用组件

```
public class OutStd {

  public static void print(String string) {
      System.out.println(string);
  }

}

public class SomeOtherComponent() {

  public void doSomeImportantStuff() {
    // reuse existing print functionality
    OutStd.print("Some string");
    // other stuff
  }

} 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-02-27T04:12:21.850

是的，java beans 是一段可重用的代码，这意味着你可以在任何地方重用它。下面是一个例子。

```
package customer;
import java.io.*;
import java.util.*;
import java.sql.*;

public class Customer implements Serializable
{

        private String custID;
        private String custName;
        private int qty;
        private float price;
        private float total;
        private int storeCust;

        public String getCustID() {
            return custID;
        }

        public void setCustID(String custID) {
            this.custID = custID;
        }

        public String getCustName() {
            return custName;
        }

        public void setCustName(String custName) {
            this.custName = custName;
        }

        public int getQty() {
            return qty;
        }

        public void setQty(int qty) {
            this.qty = qty;
        }

        public float getPrice() {
            return price;
        }

        public void setPrice(float price) {
            this.price = price;
        }

        public float getTotal() {
            return total;
        }

        public void setTotal(float total) {
            this.total = total;
        }

        public int setStoreCust() 
        {
            try{
            Class.forName("com.mysql.jdbc.Driver");
            Connection con=DriverManager.getConnection("jdbc:mysql://localhost:3306/usermaster","admin","password");
            PreparedStatement pstmt=null;
            String query=null;
            query="insert into customer values(?,?,?,?,?)";
            pstmt=con.prepareStatement(query);
            pstmt.setString(1,custID);
            pstmt.setString(2,custName);
            pstmt.setInt(3,qty);
            pstmt.setFloat(4,price);
            pstmt.setFloat(5,total);
            int i=pstmt.executeUpdate();

            this.storeCust=i;
            }
            catch(Exception e)
            {

            }
            return storeCust;
        }
} 
```

这是一个jsp页面

```
<%@ page contentType="text/html" pageEncoding="UTF-8"%>
<%@ page import="java.util.*" %>
<%@ page import="customer.Customer" %>
<html>
    <head>
        <title>JSP and JavaBean</title>

        <%-- create an instance of Customer class --%>
        <jsp:useBean id="cObj" scope="request" class="customer.Customer">

        <%-- Set the value of attribute such as CustID --%>
        <jsp:setProperty name="cObj" property="*" />
        </jsp:useBean>

    </head>
<body>

<%
            int x=cObj.setStoreCust();

            if(x>=1)
            {
        %>
                <jsp:forward page="Success.jsp" />
        <%

            }
            else
            {
        %>
                <jsp:forward page="Failure.jsp" />
        <%

            }

        %> 
```

当您运行此 jsp 页面时，它会询问客户 ID、数量、总数等，并在您提交后将其插入数据库。例如，您要输入 1000 条记录，因此此时您不是创建 1000 次 java 文件，只需创建一次，然后一切都将由 bean 完成。

以下是javabeans的一些规则，请记住

1.javabean 必须包含一个不接受任何争论的构造函数。2.javabean不能声明任何公共实例变量；3.javabeans 必须包含JSP 需要访问的所有属性的get 和set 方法。

# mysql - 在 EC2 和 RDS 上设置 Rails

> ID：15018360
> 
> 赞同：1
> 
> 时间：2013-02-22T06:40:38.743
> 
> 标签：mysql, ruby-on-rails, amazon-ec2, amazon-rds

我有一个带有 Rails 代码的 EC2 实例，我正在尝试将其设置为与 Amazon RDS 通信，但是当我尝试启动我不知道如何更正的 rails 服务器时出现错误：

```
/opt/bitnami/ruby/lib/ruby/gems/1.9.1/gems/mysql2-0.3.11/lib/mysql2/client.rb:44:in `connect': Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2) (Mysql2::Error) 
```

在我的 database.yml 文件中，我有这个：

```
development:
  adapter: mysql2
  encoding: utf8
  reconnect: false
  database: development
  pool: 5
  username: root
  password: secret
  host: localhost

production:
  adapter: mysql2
  encoding: utf8
  database: mydbname
  username: myusername
  password: mypassword
  host: mypublicdnsformydb
  port: 3306 
```

我将 RDS 实例分配给与我的 EC2 相同的安全组，该安全组具有：

```
22 (SSH)    0.0.0.0/0
80 (HTTP)   0.0.0.0/0   
443 (HTTPS) 0.0.0.0/0 
```

当我添加我的 PC 的 CIDR 时，我可以很好地连接到实例，所以我很确定我的用户名、密码和主机是正确的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-28T03:32:47.357

为了解决这个问题，我在我的 database.yml 中添加了这一行以用于生产

```
socket: /opt/bitnami/mysql/tmp/mysql.sock 
```

我运行了我的 Rails 服务器，将生产指定为环境：

```
rails s -e production 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T19:59:34.073

我认为问题在于您的开发环境指向本地mysql，而不是RDS。默认情况下，Rails 运行的是开发环境而不是生产环境，所以我会尝试在开发环境中添加与生产环境相同的配置：

```
 development:
  adapter: mysql2
  encoding: utf8
  database: mydbname
  username: myusername
  password: mypassword
  host: mypublicdnsformydb
  port: 3306 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-08-14T04:01:48.073

这对我来说很好，添加到 Gemfile 的第一行

```
if RUBY_VERSION =~ /1.9/
Encoding.default_external = Encoding::UTF_8
Encoding.default_internal = Encoding::UTF_8
end 
```

来源：Alan Ho 评论： [http ://www.a.rnaud.net/2011/10/how-to-fix-invalid-byte-sequence-in-us-ascii-in-bundler-installation/](http://www.a.rnaud.net/2011/10/how-to-fix-invalid-byte-sequence-in-us-ascii-in-bundler-installation/)

# c - C 中的字节复制（使用 memcpy？）

> ID：15018367
> 
> 赞同：-1
> 
> 时间：2013-02-22T06:41:04.063
> 
> 标签：c

我有一条包含 5 个字节和 5 个字段（每个 1 个字节）的消息。我需要将第 5 个字节复制到缓冲区。如何使用 memcpy 做到这一点？

5 字节只是一个例子。这可能会有所不同。但是到目前为止，请给出一个 5 个字节的解决方案，例如。字节可以是字符类型或整数。最好是性格。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T06:44:16.623

```
char message[5] = {'H', 'e', 'l', 'l', 'o'};
char byte5;

memcpy(&byte5, message+4, 1);

printf("Byte #5 is %c\n", byte5); 
```

* * *

## 回答 #2

> 赞同：-3
> 
> 时间：2013-02-22T06:48:35.393

您应该首先发布您尝试过的方式以及遇到困难的地方。

但是，例如，

```
char buf[5]; /*your message buffer*/
char req_byte;  /*your required byte */ 
```

你可以使用 memcpy 作为，

```
memcpy(&req_byte, (buf+4), 1); 
```

这会将您的消息的第五个字节复制到 req_byte。您可以在源缓冲区中 (+) 之后更改数字以复制所需的字节。

希望能帮助到你....

# asp.net-mvc - 如何将果园租户专用于模块？

> ID：15018369
> 
> 赞同：1
> 
> 时间：2013-02-22T06:41:17.960
> 
> 标签：asp.net-mvc, asp.net-mvc-4, orchardcms

我想使用 Orchard 基础设施和 Orchard 模块，就好像它是一个独立的、专用的应用程序一样。这不是我的设计.decision

我看到这样做的方式是在启用多租户的 Orchard 灌输上，这是我的雇主用于大多数网站的一种方式，即为我的招聘网站创建一个租户，并在该租户上安装招聘模块。然后，我需要一种方法将我的模块设置为该 Orchard 租户的起始页。

我的总体思路可以吗，我将如何实现最后一部分，即起始页？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T09:08:43.630

使用 AliasUI 将主页指向您的操作。

# python - 如何在 python 中使用 Selenium WebDriver 截取部分截图？

> ID：15018372
> 
> 赞同：83
> 
> 时间：2013-02-22T06:41:47.240
> 
> 标签：python, selenium

我为此搜索了很多，但找不到解决方案。这是[一个类似的问题](https://stackoverflow.com/questions/10848900/how-to-take-partial-screenshot-frame-with-selenium-webdriver)，在 java 中有一个可能的解决方案。

Python中有类似的解决方案吗？

* * *

## 回答 #1

> 赞同：152
> 
> 时间：2013-04-08T03:16:37.957

除了 Selenium，此示例还需要 PIL Imaging 库。有时这是作为标准库之一，有时不是，但如果你没有它，你可以安装它`pip install Pillow`

```
from selenium import webdriver
from PIL import Image
from io import BytesIO

fox = webdriver.Firefox()
fox.get('http://stackoverflow.com/')

# now that we have the preliminary stuff out of the way time to get that image :D
element = fox.find_element_by_id('hlogo') # find part of the page you want image of
location = element.location
size = element.size
png = fox.get_screenshot_as_png() # saves screenshot of entire page
fox.quit()

im = Image.open(BytesIO(png)) # uses PIL library to open image in memory

left = location['x']
top = location['y']
right = location['x'] + size['width']
bottom = location['y'] + size['height']

im = im.crop((left, top, right, bottom)) # defines crop points
im.save('screenshot.png') # saves new cropped image 
```

最后的输出是...... Stackoverflow 标志！！！

![在此处输入图像描述](../Images/f6dc764a83f798ac9fcf83e4c002f335.png)

当然，这对于仅抓取静态图像来说是过大的，但如果您想抓取需要 Javascript 才能实现的东西，这可能是一个可行的解决方案。

* * *

## 回答 #2

> 赞同：41
> 
> 时间：2017-12-24T10:13:10.777

在 python3.5 中为我工作

```
from selenium import webdriver

fox = webdriver.Firefox()
fox.get('http://stackoverflow.com/')
image = fox.find_element_by_id('hlogo').screenshot_as_png 
```

ps

保存到文件

```
image=driver.find_element_by_id('hlogo').screenshot(output_file_path) 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2016-06-20T14:17:52.643

我写了这个有用的 python3 函数。

```
from base64 import b64decode
from wand.image import Image
from selenium.webdriver.remote.webelement import WebElement
from selenium.webdriver.common.action_chains import ActionChains
import math

def get_element_screenshot(element: WebElement) -> bytes:
    driver = element._parent
    ActionChains(driver).move_to_element(element).perform()  # focus
    src_base64 = driver.get_screenshot_as_base64()
    scr_png = b64decode(src_base64)
    scr_img = Image(blob=scr_png)

    x = element.location["x"]
    y = element.location["y"]
    w = element.size["width"]
    h = element.size["height"]
    scr_img.crop(
        left=math.floor(x),
        top=math.floor(y),
        width=math.ceil(w),
        height=math.ceil(h),
    )
    return scr_img.make_blob() 
```

它以字节形式返回显示元素的 png 图像。限制：元素必须适合视口。
您必须安装 wand 模块才能使用它。

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2017-06-21T21:38:16.160

这是一个可以做到这一点的函数，在传递给裁剪函数之前，必须将大小转换为整数：

```
from PIL import Image
from StringIO import StringIO
def capture_element(element,driver):
  location = element.location
  size = element.size
  img = driver.get_screenshot_as_png()
  img = Image.open(StringIO(img))
  left = location['x']
  top = location['y']
  right = location['x'] + size['width']
  bottom = location['y'] + size['height']
  img = img.crop((int(left), int(top), int(right), int(bottom)))
  img.save('screenshot.png') 
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2018-01-28T20:13:56.890

扩展评论以响应 RandomPhobia 的非常好的答案，这里有两个具有正确导入语句的解决方案，它们将打开全屏屏幕截图而无需先保存到文件：

```
from selenium import webdriver
from PIL import Image
from StringIO import StringIO
import base64

DRIVER = 'chromedriver'
browser = webdriver.Chrome(DRIVER)

browser.get( "http:\\\\www.bbc.co.uk" )

img 1 = Image.open(StringIO(base64.decodestring(browser.get_screenshot_as_base64())))

img 2 = Image.open(StringIO(browser.get_screenshot_as_png())) 
```

而且因为我确定您的下一个问题是，“这很好，但哪个最快？”，这里是如何确定它（我发现第一种方法是最快的一段距离）：

```
import timeit

setup = '''
from selenium import webdriver
from PIL import Image
from StringIO import StringIO
import base64

DRIVER = 'chromedriver'
browser = webdriver.Chrome(DRIVER)
browser.get( "http:\\\\www.bbc.co.uk" )

file_name = 'tmp.png'
'''

print timeit.Timer('Image.open(StringIO(browser.get_screenshot_as_png()))', setup=setup).repeat(2, 10)
print timeit.Timer('Image.open(StringIO(base64.decodestring(browser.get_screenshot_as_base64())))', setup=setup).repeat(2, 10)
print timeit.Timer('browser.get_screenshot_as_file(file_name); pil_img = Image.open(file_name)', setup=setup).repeat(2, 10) 
```

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2019-11-25T08:47:07.127

**元素截图：**

```
from PIL import Image
from io import BytesIO

image = self.browser.driver.find_element_by_class_name('example.bla.bla').screenshot_as_png
im = Image.open(BytesIO(image))  # uses PIL library to open image in memory
im.save('example.png') 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2021-02-27T19:16:19.797

就这么简单：

```
element = driver.find_element_by_class_name('myclass')
element.screenshot('screenshot.png') 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2020-01-10T21:11:30.020

我将@randomphobia 的答案转换为一个函数。我还使用了@bummis 的建议，即使用`location_once_scrolled_into_view`而不是`location`为了概括页面的大小。

```
from selenium import webdriver
from PIL import Image
from io import BytesIO

def take_screenshot(element, driver, filename='screenshot.png'):
  location = element.location_once_scrolled_into_view
  size = element.size
  png = driver.get_screenshot_as_png() # saves screenshot of entire page

  im = Image.open(BytesIO(png)) # uses PIL library to open image in memory

  left = location['x']
  top = location['y']
  right = location['x'] + size['width']
  bottom = location['y'] + size['height']

  im = im.crop((left, top, right, bottom)) # defines crop points
  im.save(filename) # saves new cropped image 
```

这是一个要点：[https ://gist.github.com/WittmannF/b714d3ceb7b6a5cd50002f11fb5a4929](https://gist.github.com/WittmannF/b714d3ceb7b6a5cd50002f11fb5a4929)

# javascript - 页面重新加载后未检查 Javascript 复选框

> ID：15018373
> 
> 赞同：-4
> 
> 时间：2013-02-22T06:41:58.727
> 
> 标签：javascript, checkbox

我的 HTML 为：

====================================

```
<input type="checkbox" id="Red" onclick="changeURL('WineType', 'Red')"> Red (30499)
<input type="checkbox" id="White" onclick="changeURL('WineType', 'White')"> White (22840) 
```

====================================

首先我调用 changeURL() 然后调用 isChecked() 函数。

但是当这两个函数都被执行时，该复选框仍然未被选中。

====================================

```
function changeURL(fieldname, facetname) {
    var ref= window.location.href ;
    if(fieldname == "WineType") {
        var matchPrice = location.href.match(/&fq=%7B%21tag%3Ddt1%7DWineType%3A/);

        if(matchPrice == '&fq=%7B%21tag%3Ddt1%7DWineType%3A' )
        {
            var ndStart = ref.indexOf("WineType%3A%28");
            var ndEnd = ref.indexOf("%29",ndStart );        
            ref = ref.substring(0,ndStart+12) + ref.substring(ndStart+12, ndEnd) +" OR " +facetname + ref.substring(ndEnd);
        }
        else {
            ref = ref + "?&fq=%7B%21tag%3Ddt1%7DWineType%3A%28"+facetname+"%29";
        }
    }
    window.location.href = ref;
    isChecked(facetname);
};

function isChecked(element)
{
     var field = document.getElementById(element); 
     if (element) { 
          if (field.checked) { 
                document.getElementById(element).checked= false;
          } else { 
                document.getElementById(element).checked= true; 
          } 
     }   
}; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:00:26.290

使用 localStorage 并确保无论何时检查/取消选中都更新您的 localStorage。每当加载页面时，您首先检查您的 localStorage ，如果它不为空，那么您使用它标记所有复选框的检查。如果它是空的，则意味着页面是第一次加载或没有进行检查。

实现 localStorage 的最简单方法：[这里](http://www.w3schools.com/html/html5_webstorage.asp)
这个很棒：[Doc](http://diveintohtml5.info/storage.html)

PS 有些人可能会遇到问题，因为我建议使用 w3schools，但对于第一次使用它的人来说，这是 localStorage 最简单的解决方案和实现

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-25T04:44:07.613

该解决方案在这里尝试并为我工作，如下所示：
1）我发送了复选框状态以及查询字符串。
2）当页面重新加载时，我从查询字符串中提取复选框状态，然后相应地设置复选框的状态为**checked**或**unchecked**。

# c++ - 枚举内存范围内的页面

> ID：15018376
> 
> 赞同：4
> 
> 时间：2013-02-22T06:42:06.390
> 
> 标签：c++, memory, probe

我在 Visual Studio 2012 下的 Windows 上使用 C++。

我有一个开始和结束内存地址，需要生成两个地址之间的页面基地址/句柄列表。我考虑过手动探测页面的可能性，但认为必须有更好的方法来枚举它们。

这种方式存在吗？

*免责声明；*最后的页面句柄必须是基地址，这样当窗口页面的大小添加到它们时，结果地址不会重叠到下一页。首选解决方案不是特定于平台的，并且与带有/不带有 WOW64 的 32 位兼容。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-22T06:51:18.807

[`VirtualQuery`](http://msdn.microsoft.com/en-us/library/windows/desktop/aa366902.aspx)几乎是你唯一的选择。它应该相当有效：

> 该函数确定区域中第一页的属性，然后扫描后续页面，直到它扫描整个页面范围或直到遇到具有不匹配属性集的页面。

因此，您首先在您关心的范围的开头调用它，然后您将返回一个页面块。下一个调用将在该块之后立即开始，然后是下一个，依此类推。

这是一个完全未经测试的函数，它将填充结构数组[`MEMORY_BASIC_INFORMATION`](http://msdn.microsoft.com/en-us/library/windows/desktop/aa366775.aspx)：

```
int EnumVirtualAllocations(const void* ptr, size_t length, MEMORY_BASIC_INFORMATION* info, int size)
{
    const void* end = (const void*)((const char*)ptr + length);
    int index = 0;
    while (index < size && ptr < end &&
        VirtualQuery(ptr, &info[index], sizeof(*info)) == sizeof(*info))
    {
        MEMORY_BASIC_INFORMATION* i = &info[index];
        if (i->State != MEM_FREE) index++;
        ptr = (const void*)((const char*)(i->BaseAddress) + i->RegionSize);
    }
    return index;
} 
```

# asp.net-mvc - asp.net mvc4 vs2012 vs vs2010

> ID：15018378
> 
> 赞同：0
> 
> 时间：2013-02-22T06:42:10.960
> 
> 标签：asp.net-mvc, visual-studio-2010, asp.net-mvc-4, visual-studio-2012

我打算在 ASP.Net MVC 4 上开始一个新项目。

手头的问题是：是否可以通过使用此[vsix](http://www.microsoft.com/web/handlers/webpi.ashx?command=getinstallerredirect&appid=MVC4VS2010_Loc)从 Vs2010 使用 Vs2012 中存在的所有功能。

我真的需要知道这次升级是否会帮助我花在更新 VS 版本上的钱物有所值。还有一个问题是，如果 vs2012 的更新计划通过像这样的更新版本扩展到[vs2010](http://weblogs.asp.net/scottgu/archive/2012/12/14/announcing-the-asp-net-and-web-tools-2012-2-release-candidate.aspx)。

请在您的答案中包含有关此问题的任何链接和建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:01:56.850

只要您不想使用 ASP.NET 4.5 功能（例如访问未经验证的请求数据），您就可以使用 VS2010 和 MVC 4，您的目标框架将是 4.0，因为 MVC 4 是在 ASP.NET 之上编写的4.0

# c# - 抛出异常时将文本写入响应不起作用

> ID：15018385
> 
> 赞同：0
> 
> 时间：2013-02-22T06:42:43.207
> 
> 标签：c#, asp.net, .net

我试图在该行抛出异常之前写一些文本，我想查看响应写的文本，无论如何我看不到，但只显示异常，我现在在哪里可以找到该文本.. 下面的代码可以给出清晰的画面。

```
res.Write(col1);
res.Write(colms);
String colName = colms[col1]; 
```

现在我在第三行得到了这个异常：

> 指数超出范围。必须是非负数且小于集合的大小。参数名称：索引

我想查看代码中显示的那些值，但这不起作用。在Java中，我曾经做过类似的事情

```
System.out.println(col1); 
```

这将打印到 netbeans 控制台。现在我正在使用VS2010。如何在这里实现同样的目标？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T06:44:44.120

您可以使用[`Debug.Print`](http://msdn.microsoft.com/en-us/library/9azyssyh.aspx)打印到附加的调试侦听器（大概是 VS）：

```
System.Diagnostics.Debug.Print(col1.ToString()); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T06:45:24.807

您询问了以下错误

> 指数超出范围。必须是非负数且小于集合的大小。参数名称：索引

问题可能是

```
 String colName = colms[col1]; 
```

索引超出范围意味着您正在尝试访问不在范围内的索引。

## 编辑 1

您可以设置断点以查看变量中的值。
这是关于断点的好链接
[http://weblogs.asp.net/scottgu/archive/2010/04/21/vs-2010-debugger-improvements-breakpoints-datatips-import-export.aspx](http://weblogs.asp.net/scottgu/archive/2010/04/21/vs-2010-debugger-improvements-breakpoints-datatips-import-export.aspx)

## 编辑 2

您还可以利用即时窗口。

[如何在 Visual Studio 中使用即时窗口？](https://stackoverflow.com/questions/794255/how-do-you-use-the-immediate-window-in-visual-studio)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T06:47:40.637

将您的代码放入 try 块中，您将能够访问 catch 块中的 col1。

# mysql - 在多列上分组

> ID：15018391
> 
> 赞同：1
> 
> 时间：2013-02-22T06:43:18.140
> 
> 标签：mysql

对我来说看起来很容易但很难。idx 1、2、3 的 src/dest 路径具有相同的值。所以我只需要 1 行给他们。

```
idx Src_path           dest_path        code
1   /abc/aaa.txt    /abc/dec_aaa.txt    01
2   /abc/aaa.txt    /abc/dec_aaa.txt    02
3   /abc/aaa.txt    /abc/dec_aaa.txt    03
4   /abc/aaa.txt    /abc2/dec_aaa.txt   04
5   /abc/bbb.txt    /abc2/dec_bbb.txt   01
6   /abc/ccc.txt    /abc2/dec_ccc.txt   01

        the result rows should be like below..  

idx Src_path           dest_path        code
3   /abc/aaa.txt    /abc/dec_aaa.txt    03
4   /abc/aaa.txt    /abc2/dec_aaa.txt   04
5   /abc/bbb.txt    /abc2/dec_bbb.txt   01
6   /abc/ccc.txt    /abc2/dec_ccc.txt   01 
```

有点..对我来说很难..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T06:46:09.807

不……你有点懒，但感谢上帝，星期五。

```
SELECT MAX(idx), src_path, dest_path, MAX(code) 
FROM yourtable
GROUP BY src_path, dest_path 
```

应该解决。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:51:32.613

使用`SELECT DISTINCT`Src_path

否则你可以使用

GROUP_CONCAT(Src_path) 但你将不得不 GROUP_BY

# google-plus - 如何从 google+ 信息流中获取帖子

> ID：15018395
> 
> 赞同：2
> 
> 时间：2013-02-22T06:43:30.117
> 
> 标签：google-plus

我需要从流中获取 google+ 帖子并将其发布到我的网站上。我知道谷歌没有 api 来做到这一点。但是像suck [http://www.friendsplus.me/](http://www.friendsplus.me/)这样的一些服务可以做到这一点。有人知道怎么做吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2014-01-20T20:54:48.647

首先，您应该去 google apis 并启用 Google Plus 服务。它来了;

1.  转到[API 控制台](https://code.google.com/apis/console/)。
2.  选择服务
3.  启用 Google+ API 服务。
4.  选择 API 访问权限
5.  简单的 API 访问 > 获取您的 API 密钥。

您可以使用以下代码阅读流帖子；

```
<?php

$google_plus_id = '106670447018211124292';
$appKey = 'app_key_here';
$streams = json_decode(file_get_contents('https://www.googleapis.com/plus/v1/people/' . $google_plus_id . '/activities/public?key='. $appKey));

foreach ($streams->items as $item) {
  echo $item->title .
    date('F jS Y @ H:i:s',strtotime($item->published)) .
    $item->object->content .
    '<br />';
} 
```

您还可以在 google api 控制台上测试此代码的工作。

**1.)**转到[API 控制台](https://code.google.com/apis/console/)并选择 Google+ API

**2.)**在左侧菜单中选择**APIs**菜单

**3.)**点击该页面上的**public.activities.list**

![在此处输入图像描述](../Images/e47917733f3a52e6bee32d2b42b57d7b.png)

**4.)**在**userId**部分输入您的**个人资料 ID ，然后在****collection**部分输入“public”，然后单击**Execute**。您可以在下面看到；

 ******![在此处输入图像描述](../Images/c99869a83a3a3752d8b1a511e5400995.png)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-22T10:42:51.147

根据您的具体需求，[https://developers.google.com/+/api/](https://developers.google.com/+/api/)中记录的 Google+ API可能会满足您的需求。它可以显示来自特定用户的公开帖子。您还可以在[https://bakingdisasters.com/](https://bakingdisasters.com/)上查看一些示例代码来说明这一点。

但是，它不能向您显示该用户允许您发布的私人帖子，或者向您显示您可能已经看到的所有帖子（公共或私人）。******

# c++ - 隐式转换为模板

> ID：15018396
> 
> 赞同：5
> 
> 时间：2013-02-22T06:43:37.863
> 
> 标签：c++, casting, overloading, implicit-conversion

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-22T07:11:01.587

There is no direct way to get the conversion from `point` to `vec<2>`, because at the time when the function call `foo(v1,p1)` is processed, a function `foo` that expects a `vec<2>` as second argument does not exist yet. It's just a function template, and in order for this to be instantiated to a `foo(const vec<2> &,const vec<2> &)`, a function call with these exact argument types would have to be given.

In order for the code to work, the compiler would have to guess *both* how to instantiate the template parameters, *and* what type the `point` argument to convert to. This is too much in the general case (although in your particular code it appears simple, because there is no other possible way to interpret the intent of the programmer).

In terms of solving this, the only thing I can think of is to create highly templated conversion functions:

```
template <typename T>
struct make_vec
{ };

template <unsigned d>
struct make_vec<vec<d>>
{
  static constexpr unsigned dim = d;
  using type = vec<dim>;

  static const type &from(const type &v)
  { return v; }
};

template <>
struct make_vec<point>
{
  static constexpr unsigned dim = 2;
  using type = vec<dim>;

  static type from(const point &p)
  { return type(p); }
};

template <typename T>
typename make_vec<typename std::decay<T>::type>::type make_vec_from(T&& arg)
{ return make_vec<typename std::decay<T>::type>::from(std::forward<T>(arg)); } 
```

And then implement the `foo` and `bar` functions as general templates (accepting all kinds of types, not only `vec<d>`, using `make_vec` defined above to convert the given types to the right kind of `vec<d>`):

```
namespace detail {
  /* Your original implementation of foo. */
  template<unsigned d> vec<d> foo(vec<d>, vec<d>) {
    return vec<d>(/* ... */);
  }
}

/* Templated version of foo that calls the conversion functions (which do
   nothing if the argument is already a vec<d>), and then calls the
   foo() function defined above. */
template <typename T, typename... Ts>
typename make_vec<typename std::decay<T>::type>::type foo(T&& arg, Ts&&... args)
{ return detail::foo(make_vec_from(arg),make_vec_from(args)...); } 
```

In the case of `bar` you also need a way to calculate the return type, which is `vec<d1+d2+d3...>`. For this, a sum calculator is required, also templated:

```
template <typename... Ts>
struct dsum {
  static constexpr unsigned value = 0;
};

template <typename T, typename... Ts>
struct dsum<T,Ts...> {
  static constexpr unsigned value = make_vec<typename std::decay<T>::type>::dim + dsum<Ts...>::value;
}; 
```

Then, the return type of `bar()` is `vec<dsum<T,Ts...>::value>`.

A fully working example is here: [http://liveworkspace.org/code/nZJYu$11](http://liveworkspace.org/code/nZJYu%2411)

Not exactly simple, but might be worth it if you really have extremely many different combinations of arguments.

# c# - 在 MVC 中验证

> ID：15018397
> 
> 赞同：0
> 
> 时间：2013-02-22T06:43:43.507
> 
> 标签：c#, .net, asp.net-mvc, validation

嗨，我是 MVC 的初学者，我已经编写了用于验证的代码，但它不起作用，任何人都可以帮助我。这是模型代码：

```
[Required]
public string Name { get; set; } 
```

这是查看代码：

```
 @Html.TextBoxFor(m => m.ContactDetailSubSections[i].Name)
            @Html.ValidationMessageFor(m=>m.ContactDetailSubSections[i].Name) 
```

在此先感谢您的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:19:05.537

首先，您不需要任何用于 ASP.NET MVC 服务器验证的 JS 库。
其次，您应该在控制器中检查模型是否有效。

```
if (ModelState.IsValid) {
    //do something
}
return View(); //you can return view with optional parameters 
```

此外，您应该检查您使用哪种发送数据的方法（POST 或 GET）并检查该方法是否在控制器中使用（发送数据始终使用 POST 方法）。

```
[HttpPost]
public ActionResult Index(YourModel model) {
    if (ModelState.IsValid) {
       //do something
    }
    return View();
} 
```

这是适合您的项目（Validation.zip）：[http](http://sdrv.ms/UP3DIE) ://sdrv.ms/UP3DIE （我使用的是 VS 2012）
只有一个字段具有必填属性和自定义错误消息（模型 LocalValidationTestModel）。在视图中有两种显示错误的方法：
@Html.ValidationSummary() 和@Html.ValidationMessageFor(x => x.TestField)

所有的 JS 脚本和 CSS 样式都被剪掉了。

另外，你为什么使用数组？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:38:57.970

我认为您应该参考 jquery 的几个文件。然后在行动中，你必须做一些事情，像这样：

```
if(ModelState.IsValid) { //TODO } return View(); 
```

并且动作必须添加属性是`[HttpPost]`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T08:30:04.333

您可以使用 MVC 的启用客户端验证功能进行标准验证，这不需要控制器中的任何服务器端代码。

[启用客户端验证](http://www.dotnet-tricks.com/Tutorial/mvc/bcWO151212-How-to-Enable-and-Disable-Client-Side-Validation-in-MVC.html)

[启用客户端 Validation-2](https://stackoverflow.com/questions/3695186/enable-client-validation-in-razor-views-asp-mvc-3)

但是，您还必须在控制器级别检查 ModestState.IsValid() 以获得更好的安全性。

# list - Prolog 结合两个列表

> ID：15018398
> 
> 赞同：1
> 
> 时间：2013-02-22T06:43:47.443
> 
> 标签：list, prolog, append

我是 prolog 的新手，希望对以下问题有任何帮助：

我需要编写一个程序，它接受两个列表并将第二个附加到第一个并显示这个新列表及其长度。我知道 prolog 可能有一些内置函数可以让这一切变得更容易......但我不想使用这些。

例如：`newlist([a,b,c],[d,e,f],L3,Le).`将返回`L3=[a,b,c,d,e,f]`并且`Le=6`

这是我到目前为止所拥有的：

```
newlist([],List,List,0) 

newlist([Element|List1],List2,[Element|List3],L) :- newlist(List1,List2,List3, LT), L is LT + 1. 
```

这会正确追加，但我只能得到第一个列表的长度，而不是组合列表的长度。有没有办法让我将第二个列表的长度添加到第一个列表中以获得组合列表长度？

谢谢，如果这个问题很简单，我很抱歉......我是新手。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:11:40.733

> 有没有办法让我将第二个列表的长度添加到第一个列表中以获得组合列表长度？

你应该更换：

```
newlist([],List,List,0). 
```

和：

```
newlist([],List,List,X):-length(List,X). 
```

# html - 在 CSS 按钮中垂直和水平对齐文本

> ID：15018399
> 
> 赞同：0
> 
> 时间：2013-02-22T06:43:49.790
> 
> 标签：html, css

我有一个在 CSS 中被设置为看起来像一个按钮的样式。我遇到的问题是按钮必须是 185px 宽和 75px 高。我猜对了，但是按钮的文本漂浮在左上方的某个地方。

如何让文本准确显示在按钮的中间？我创建了一个[JSfiddle](http://jsfiddle.net/cGDUw/)，所以你们可以检查一下。

```
//Ignore this comment. 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T06:45:27.470

将高度更改为`line-height`并添加`text-align:center`

```
.button-large{
    text-decoration: none;
  display: inline-block;
text-align:center;
  width: 185px;
  line-height: 75px;
  font-family: sans-serif;
  color: rgb(116, 79, 145);
  font-size: 24px;
  padding: 10px;
  text-shadow: 0px -1px 0px rgba(30, 30, 30, 0.6);
  -webkit-border-radius: 5px;
  -moz-border-radius: 5px;
  border-radius: 5px;
  background: rgb(156, 125, 185);
  background: -moz-linear-gradient(90deg, rgb(156, 125, 185) 30%, rgb(170, 150, 201) 70%);
  background: -webkit-linear-gradient(90deg, rgb(156, 125, 185) 30%, rgb(170, 150, 201) 70%);
  background: -o-linear-gradient(90deg, rgb(156, 125, 185) 30%, rgb(170, 150, 201) 70%);
  background: -ms-linear-gradient(90deg, rgb(156, 125, 185) 30%, rgb(170, 150, 201) 70%);
  background: linear-gradient(0deg, rgb(156, 125, 185) 30%, rgb(170, 150, 201) 70%);
  -webkit-box-shadow: 0px 2px 1px rgba(0, 0, 0, 0.4);
  -moz-box-shadow:    0px 2px 1px rgba(0, 0, 0, 0.4);
  box-shadow:         0px 2px 1px rgba(0, 0, 0, 0.4);

} 
```

**[演示](http://jsfiddle.net/cGDUw/2/)**

# html - 导航子菜单一页网站

> ID：15018401
> 
> 赞同：1
> 
> 时间：2013-02-22T06:43:51.690
> 
> 标签：html, css, web, submenu

我并不真正了解所有这些编码术语，所以我很难找到问题的答案。通常我只是复制粘贴现有代码并尝试对我想要的内容进行一些调整。无论如何，我正在研究单页网站上的导航菜单。所以到现在为止，这行得通。但是，我想要一个子菜单。我尝试了一些东西，但我无法真正得到我想要的。我想要的是当我点击一个菜单项时，子菜单打开并激活第一个子菜单项。

我找到了一个例子：http: [//inthe7heaven.com/fb-john-doe/dark/](http://inthe7heaven.com/fb-john-doe/dark/)

照片部分。我试图复制它，但我认为子菜单与相册的过滤功能有关。

有人可以给我一些指导吗？

HTML

```
 <nav class="on_caption">
    <ul class="pagination">
        <li class="home current"><a href="#0">Home</a></li>
        <li class=""><a href="#1">About EJ</a></li>
        <li class=""><a href="#2">Services</a></li>
        <li class="photos">
            <a href="#3">Photos</a>
        <div id="filter" class="category_filter_list">
            <span class="active_link" id="all">All</span>
            <span id="cookies">Cookies</span>
            <span id="bread">Bread</span>
            <span id="baking">Baking</span>
        </div>
        </li>
        <li class=""><a href="#4">Classes</a></li>
        <!--<li class=""><a href="#5">Testimonials</a></li>-->
        <li class=""><a href="#6">Contact</a></li>
    </ul>
</nav> 
```

CSS

```
 nav {   
       position: absolute;
       z-index: 999;
       right: 0;
       top: 0;
       width: 158px;
       height: 600px;
       display: block;
       overflow: hidden;
       behavior: url(js/PIE.htc);
    }

    nav.on_caption {
       background: rgba(20,11,19,.6);
       -pie-background: rgba(20,11,19,.6);
    }

nav.on_caption a {
       color: #d0ced0;
    }

    nav.off_caption {
       background: rgba(20,11,19,.08);
       -pie-background: rgba(20,11,19,.08);
    }

    nav.off_caption a {
       color: #524b51;
    }

    nav a {
       font-size: 1.143em;
       text-transform: uppercase;
    }

nav > a { 
       padding-left: 24px;
    }

    ul.pagination {
       margin: 0;
       padding: 0;
       padding-bottom: 8px;
       list-style:none;
    }

    ul.pagination li {
       margin: 0px 0px 0px 0px;
       clear: both;
       padding: 8px 10px 0px 24px;
       list-style: none;
    }

ul.pagination li:first-child {
       padding-top: 25px;
    }

    nav > a:hover, 
    nav ul.pagination li a:hover, 
    nav ul.pagination li.current a {
       color: #90705B;
    } 
```

因此，我根据上面提供的网站获得了此代码。我想要与照片部分相同的效果，然后是未连接到过滤器的普通菜单项。也就是说，当单击菜单项时，菜单会随子菜单一起扩展，并且页面会转到子菜单中的第一项。此外，子菜单项被激活。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T06:28:25.750

谷歌`"scrollto jquery"`

这是一个简单的

[http://flesler.blogspot.in/2007/10/jqueryscrollto.html](http://flesler.blogspot.in/2007/10/jqueryscrollto.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T15:46:17.450

我设法使用树形菜单在 jsfiddle 中展开和折叠子菜单。我在 jsfiddle 中对其进行了测试，并且可以正常工作。但是，它在我的网站上不起作用。菜单没有展开。我使用它的网站是一个单页网站。所以菜单项指向页面上的一个部分。所以，我猜我的 href="sub-1" 不起作用，因为它指向页面的第三部分。

有一个简单的解决方法吗？我不需要任何花哨的 jquery 效果，它只需要打开。

此外，当点击父项时，子菜单需要展开，需要激活第一个子项。我怎样才能做到这一点？

HTML

```
<nav class="on_caption">
    <ul class="pagination">
        <li class="home current"><a href="#0">Home</a></li>
        <li class=""><a href="#1">About EJ</a></li>
        <li class=""><a href="#sub-1">Services</a>
            <ul id="sub-1">
                <li class=""><a href="#">Test</a></li>
                <li class=""><a href="#">Test</a></li>
            </ul>
        </li>
        <li class=""><a href="#3">Photos</a></li>
        <li class=""><a href="#4">Classes</a></li>
        <li class=""><a href="#6">Contact</a></li>
    </ul>                   
</nav> 
```

CSS

```
.pagination > li ul {
    display: none;
}

.pagination > li ul:target {
    display: block;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-24T00:23:08.830

取得了一些进展。

HTML

```
<nav class="on_caption">
    <ul class="pagination">
        <li class="home current"><a href="#0">Home</a></li>
        <li class=""><a href="#1">About EJ</a></li>
        <li class=""><a href="#sub-1">Services</a>
            <ul id="sub-1">
                <li class=""><a href="#">Test</a></li>
                <li class=""><a href="#">Test</a></li>
            </ul>
        </li>
        <li class=""><a href="#3">Photos</a></li>
        <li class=""><a href="#4">Classes</a></li>
        <li class=""><a href="#6">Contact</a></li>
    </ul>                   
</nav> 
```

CSS

```
.pagination > li ul {
    display: none;
} 
```

jQuery

```
jQuery(
  function($)
  {
    $('.pagination a').click(function(){$(this).next('ul').toggle();});
  }
); 
```

这现在有效。当我单击菜单项时，子菜单会被扩展。但是，当单击另一个菜单项时，如何让子菜单再次折叠？以及如何让页面在点击菜单项时默认自动跳转到第一个子菜单项？

# c# - C# 中的 DataGrid 分页（带有下一个和上一个链接）

> ID：15018402
> 
> 赞同：0
> 
> 时间：2013-02-22T06:43:55.623
> 
> 标签：c#, datagrid, paging

我有一个数据网格，最多可容纳 250 行，其中包含名为 Tab 顺序的 unquie 列。现在我只需要 5 行，剩下的行应该只有在我单击下一步按钮时才可见，依此类推..

下面是我的代码片段，当 for 循环完成时，它会将所有 250 行数据加载到数据网格中。我需要在这里实现分页概念，任何人都可以帮助指导我走上正确的道路

提前致谢

代码片段：

```
private void buttonUpload_Click(object sender, EventArgs e)
        {
            LoadFile(pdfFullPath, txtPassword.Text);

            form = document.getDocumentCatalog().getAcroForm();
            java.util.List FieldTypes = form.getFields();

            formFieldCount = FieldTypes.size();
            totalPages = document.getNumberOfPages();

            ///cmbpage --- Code pasted here 
            ArrayList lstPages = new ArrayList();
            ArrayList lstTabs = new ArrayList();
            ArrayList lstNames = new ArrayList();
            ArrayList lstTypes = new ArrayList();

            if (formFieldCount != 0)
            {
               int formField = 1; 
                for (int i = 0; i < formFieldCount; i++)
                {
                    pdfFields = (PDField)form.getFields().get(i);
                    fieldName = pdfFields.getFullyQualifiedName();

                    FieldType type = new FieldType();
                    if (pdfFields is PDTextbox)
                    {
                        type = FieldType.Text;
                        System.String iAsString = Integer.toString(formField);
                        pdfFields.setValue(iAsString);

                    }

                    else if (pdfFields is PDCheckbox)
                    {
                        type = FieldType.CheckBox;
                        System.String iAsString = Integer.toString(formField);
                        checkBoxList.Add(fieldName, formField);
                    }
                    else if (pdfFields is PDRadioCollection)
                    {
                        type = FieldType.RadioButton;
                        System.String iAsString = Integer.toString(formField);
                        radioButtonsList.Add(fieldName, formField);
                    }
                    else if (pdfFields is PDPushButton)
                    {
                        type = FieldType.PushButton;
                        System.String iAsString = Integer.toString(formField);
                    }

                        DataRow newRow = availableFieldsTable.NewRow();              
                        newRow["Field Type"] = type;
                        newRow["Tab Order"] = formField;
                        newRow["Field Name"] = fieldName;

                        availableFieldsTable.Rows.Add(newRow);  --> adds up data in data grid                
                    formField++;
                }

             }

            document.save(dummyPDFPath);
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:02:08.237

DataGrid 将如下所示：

```
<asp:datagrid id=DataGrid1 runat="server" PageSize="5" GridLines="Vertical"
CellPadding="3" BackColor="White" BorderWidth="1px" BorderStyle="None"
BorderColor="#999999" AutoGenerateColumns="False" AllowSorting="True"
DataSource="" Height="64px" Width="120px" AllowPaging="True"
DataMember="MeetingMinutes">
//whatever here..
</Datagrid> 
```

如果您想要下一个和上一个导航，

```
<PagerSettings Mode="NextPrevious" NextPageText="Next"
 PreviousPageText="Previous" /> 
```

如果您希望第一个和最后一个选项卡显示第一页和最后一页，则可以使用此选项。

```
<PagerSettings FirstPageText="First" LastPageText="Last"
 Mode="NextPreviousFirstLast" NextPageText="Next" PreviousPageText="Previous" /> 
```

这是一个一旦执行 PageIndexChanging 事件，就会为 PageIndexChanged 分页触发该事件。在这种情况下，您可以安全地再次绑定网格以访问第二页。最好缓存用于绑定数据源的数据。

protected void DataGrid_PageIndexChanging(object sender, DataGridPageEventArgs e) { DataGrid.PageIndex = e.NewPageIndex; 绑定数据（）；}

# jsf - 在 Tomcat 服务器上部署 JSF 应用程序时出错

> ID：15018404
> 
> 赞同：0
> 
> 时间：2013-02-22T06:44:04.670
> 
> 标签：jsf, tomcat, deployment

当我在 localhost 中使用 glassfish 服务器开发我的 JSF 应用程序时，它可以工作，但是当我将它部署到我的服务器（Tomcat 7.0）中时，它显示以下异常，任何人都可以解决这个问题吗？

```
org.apache.jasper.JasperException: Unable to convert string "#{initParam.pageWidth}" to class "javax.el.ValueExpression" for attribute "value": Property Editor not registered with the PropertyEditorManager

        org.apache.jasper.runtime.JspRuntimeLibrary.getValueFromPropertyEditorManager(JspRuntimeLibrary.java:846)

        org.apache.jsp.details_jsp._jspx_meth_h_005foutputText_005f0(details_jsp.java:415)

        org.apache.jsp.details_jsp._jspService(details_jsp.java:159)

        org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)

        javax.servlet.http.HttpServlet.service(HttpServlet.java:722)

        org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:433)

        org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:389)

        org.apache.jasper.servlet.JspServlet.service(JspServlet.java:333)

        javax.servlet.http.HttpServlet.service(HttpServlet.java:722)

        com.sun.faces.context.ExternalContextImpl.dispatch(ExternalContextImpl.java:546)

        com.sun.faces.application.view.JspViewHandlingStrategy.executePageToBuildView(JspViewHandlingStrategy.java:363)

        com.sun.faces.application.view.JspViewHandlingStrategy.buildView(JspViewHandlingStrategy.java:153)

        com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:100)

        com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)

        com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:139)

        javax.faces.webapp.FacesServlet.service(FacesServlet.java:594)

note The full stack trace of the root cause is available in the VMware vFabric tc Runtime 2.6.1.RELEASE/7.0.20.B.RELEASE logs. 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-22T07:06:09.490

你必须检查主要的 3 个库::jsf-api.jar,jsf-impl.jar,jstl.jar 来解决这个问题。

# c# - 如何在 C# 中使用带有动态参数的 INSERT INTO SQL 查询？

> ID：15018405
> 
> 赞同：0
> 
> 时间：2013-02-22T06:44:15.797
> 
> 标签：c#, sql, visual-studio

您好，我有一个方法可以在 SQL 中保存一些数据，但有时并不是每个参数都设置好了，这给了我一个例外，因为它的 NULL。

这是我的方法：

```
 public string getBookingURL(string guid, BookingRequest request, string token, out string exitURL)
    {

        if (validateToken(token))
        {
            string command = "INSERT INTO OUTLOOKADDIN (GUID, TOKEN, BOOKINGID, STARTUTC, ENDUTC, SUBJECT, NUMPARTICIPANTS) VALUES (@GUID, @TOKEN, @BOOKINGID, @STARTUTC, @ENDUTC, @SUBJECT, @NUMPARTICIPANTS)";
            SqlConnection connection = new SqlConnection(GetConnectionString());
            connection.Open();
            try
            {
                SqlCommand cmd = new SqlCommand(command, connection);
                cmd.Parameters.Add("@GUID", guid);
                cmd.Parameters.Add("@TOKEN", token);
                cmd.Parameters.Add("@BOOKINGID", request.bookingID);
                cmd.Parameters.Add("@STARTUTC", request.startUTC);
                cmd.Parameters.Add("@ENDUTC", request.endUTC);
                cmd.Parameters.Add("@SUBJECT", request.subject);
                cmd.Parameters.Add("@NUMPARTICIPANTS", request.numParticipants);
                cmd.ExecuteNonQuery();
                cmd.Parameters.Clear();
                cmd.Dispose();
                cmd = null;
            }

            catch (Exception ex)
            {
                log.Error(ex.Message + "\n\rStackTrace:\n\r" + ex.StackTrace);
            }
            finally
            {
                connection.Close();
            }

            HttpContext current = HttpContext.Current;
            string baseUrl = current.Request.Url.Scheme + "://"
                + current.Request.Url.Authority
                + current.Request.ApplicationPath.TrimEnd('/');

            exitURL = baseUrl + "/index.html";
            return baseUrl + '/'
                + "WebPage/Booking/BBooking.aspx?"
                + "OPS"
                + guid; ;

        }
        exitURL = null;
        return null;
    } 
```

我认为这个 SQL 查询...

> string command = "INSERT INTO OUTLOOKADDIN (GUID, TOKEN, BOOKINGID, STARTUTC, ENDUTC, SUBJECT, NUMPARTICIPANTS) 值 (@GUID, @TOKEN, @BOOKINGID, @STARTUTC, @ENDUTC, @SUBJECT, @NUMPARTICIPANTS)";

...应该动态运行还是有任何其他解决方案可以防止在参数为空时添加参数？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T06:57:13.417

除了[vignesh](https://stackoverflow.com/users/848841/vignesh)的帖子`DBNull.Value`，如果 DB 字段可以为空，则用于空值。

**编辑：**在您使用您的方法之前检查这些值可能会更好`getBookingURL()`。如果您在达到这一点之前进行了适当的验证，那么您可以完全避免整个问题。

```
if (/* date is null or not valid */)
    cmd.Parameters.Add("@mydate", SqlDbType.DateTime).Value = DBNull.Value;
else
    cmd.Parameters.Add("@mydate", SqlDbType.DateTime).Value = myDate; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T06:52:53.773

您可以在前端添加验证以防止空值

或者

您可以在添加参数之前检查空值

```
if(value!=null)
{
cmd.Parameters.Add("@GUID", guid);
} 
else
{
cmd.Parameters.Add("@GUID", "somestring or value");
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T07:00:23.900

如果您在 db 表中的字段不可为，您必须在前端验证这些值并向用户显示警告。

如果列可以为空，您可以将 DBNull 发送到数据库，它不会抛出异常。我的解决方案：

```
cmd.Parameters.AddWithValue("@ParameterName",
            (a == null) ? (object)DBNull.Value : a); 
```

# c - 流行的 C 图表工具或方法

> ID：15018409
> 
> 赞同：1
> 
> 时间：2013-02-22T06:44:25.380
> 
> 标签：c, uml, diagram, call-graph

来自 java（和其他 OO 背景），我对我的对象、自然封装和多态性非常熟悉。

这一切都是我所期待的，我没想到的是错过了我的类图！

当事情变得艰难或你开始担心过度耦合时，它总是我的第一站。但我似乎找不到 C 风格的等价物（不是从 90 年代中期开始的）图表系统或 C 实用程序。

我刚刚错过了什么吗？那里有隐藏的宝石吗？甚至只是显示文件之间的函数调用的东西，这样我就可以了解在哪里发生了什么。

简而言之：是否有人对如何建模 C 文件集有建议（或工具）？函数调用、包含等。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T08:42:33.273

您可以使用 UML 应用程序（例如[IBM Rational Rhapsody](https://stackoverflow.com/tags/rhapsody/info)或基于 Eclipse 的开源[Topcased](https://stackoverflow.com/tags/topcased/info) ）从类图生成 C 代码。

您可以使用由[graphviz提供支持的](https://stackoverflow.com/tags/graphviz/info)[doxygen](https://stackoverflow.com/tags/doxygen/info)从 C 代码生成调用图、调用图和依赖图。

# python - 运行 wxPython 时如何防止打开 shell 或 IDLE shell

> ID：15018411
> 
> 赞同：0
> 
> 时间：2013-02-22T06:44:39.400
> 
> 标签：python, python-2.7, wxpython

我尝试过使用 pythonw ，这只有在我将文件拖放到它上面时才有效。我记得在某处读过有一种方法可以防止这种情况在代码中发生，但我找不到。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T06:52:17.157

要运行它，`pythonw.exe`只需给你的文件一个`.pyw`扩展名。

# c# - 无法通过 C# 代码在 WPF 中应用样式

> ID：15018415
> 
> 赞同：1
> 
> 时间：2013-02-22T06:44:50.873
> 
> 标签：c#, wpf, styles

我发现了问题所在，它与 C# 代码本身无关，而是在 XAML 中，问题是我在 XAML 中设置的默认颜色覆盖了我的样式颜色。

因此，总而言之，当您通过 XAML 设置任何属性时，它总是会在运行时覆盖由 C# 代码设置的后续样式，这对我来说似乎很奇怪，但至少这对我来说是这样的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:43:57.423

XAML 代码中的默认背景颜色避免了在面板上应用 C# 的样式（至少避免了将新样式应用于默认样式`Background`）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:00:47.723

您还没有发布您的风格创作，也许那里缺少一些东西？

StackOverflow 上有[另一个类似的答案](https://stackoverflow.com/questions/1729368/creating-a-style-in-code-behind)，这是在代码中创建和设置样式的一个非常好的简短示例：

> **问：**有谁知道如何在后面的代码中创建 wpf 样式，我在网络或 MSDN 文档上找不到任何东西。我已经尝试过了，但它不起作用：

**答：**您需要在样式中添加 setter，而不是使用 RegisterName。以下代码在 Window_Loaded 事件中将创建一个新的 TextBlock 样式，该样式将成为 Window 中所有 TextBlock 实例的默认样式。如果您希望在一个特定的 TextBlock 上显式设置它，则可以设置该控件的 Style 属性，而不是将样式添加到 Resources 字典。

```
private void Window_Loaded(object sender, RoutedEventArgs e)
{
    Style style = new Style(typeof (TextBlock));
    style.Setters.Add(new Setter(TextBlock.ForegroundProperty, Brushes.Green));
    style.Setters.Add(new Setter(TextBlock.TextProperty, "Green"));
    Resources.Add(typeof (TextBlock), style);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T07:28:16.763

我使用了您的代码并稍作修改以进行验证。似乎工作正常。看一看：

```
 Style Style_Panel = new Style(typeof(Panel));

        public void Init_Style()
        {
            // Create Styles :
            #region "Create Styles"

            Style_Panel.Setters.Add(new Setter()
            {
                Property = Panel.BackgroundProperty,
                Value = new SolidColorBrush(Colors.Red)
            });
            Resources.Add(Style_Panel.TargetType, Style_Panel);

            #endregion

            // Apply Styles :
            #region "Apply Styles"

            List<Visual> List_Visual = new List<Visual>();
            List_Visual.Add(new StackPanel() { Name = "btn" });
            //Enum_Visual(Panel_Main, List_Visual);
            foreach (Visual visual in List_Visual)
            {
                if (visual is Panel)
                {
                    Panel panel = visual as Panel;
                    //if (Tagged(panel, "titlebar"))
                    //{

                    //}
                    //else if (Tagged(panel) == false)
                    {
                        // panel.Background = new SolidColorBrush( Colors.Red ); // <- WORKS .
                        panel.Style = Style_Panel; // <- DOES NOT WORKS !
                    }
                }
            }

            #endregion
        } 
```

# ruby-on-rails - RoR 上的简单表单网站 - 让用户转到他可以共享的自定义链接，显示他刚刚输入的内容

> ID：15018416
> 
> 赞同：0
> 
> 时间：2013-02-22T06:44:51.673
> 
> 标签：ruby-on-rails, forms, webforms, rubygems, formtastic

我是一个相当大的 RoR 新手，但我在寻找从哪里开始时遇到了很多问题。我正在寻找任何可以让用户用 ruby​​ 填写简单表单、获取该信息、重定向到另一个页面并发布信息的应用程序示例或教程。用户将能够与其他人共享该唯一链接，从而显示该信息。

我看过各种 gem，例如 Formtastic 和 Simpleforms，但 Railscast 上的教程已经过时，很难开始工作。我相信这是因为我在 Rails 3 上。我在这里迷失了方向，如果有任何事情可以促使我从哪里开始/给我应该如何解决这个问题的总体策略，我将不胜感激. 这似乎非常容易，但我让自己比现在更难。

*   我实际上希望在几周内参加强化 RoR 课程，但我需要在截止日期前完成这个简单的 MVP 应用程序（它将包括 nimbb API 的视频）......所以虽然我绝对应该投入努力学习而不是欺骗和漂移，这次你的帮助真的很棒:)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:55:42.583

在很大程度上，这在功能上被嵌入到 rails 中。最简单的方法是没有任何额外的宝石（除了默认宝石）：

在您的终端运行：

```
rails g scaffold form name:string message:text 
```

然后用户可以访问 example.com/forms/new 并输入他们的信息。一旦他们提交表单，rails 就会自动将他们重定向到新数据的视图页面。该页面的 URL 类似于 /forms/n ，其中 n 是某个整数，是要共享的链接。

如果您在 Rails 概念上苦苦挣扎，我会查看 Rails 指南，尤其是：http: [//guides.rubyonrails.org/getting_started.html](http://guides.rubyonrails.org/getting_started.html)

# php - 发送带有样式的自定义邮件

> ID：15018419
> 
> 赞同：0
> 
> 时间：2013-02-22T06:45:00.607
> 
> 标签：php

您好我正在尝试通过电子邮件发送整个网页。我在 Mac 的 Mail.app 中收到它，我可以看到它。但是当我在 gmail 或 hotmail 中看到它时，它没有得到样式

我怎样才能正确地做到这一点。或者如何将网页转换为 PDF 或 PNG 并通过 Mail 发送[我无法在服务器上安装任何东西]

编辑：它发送所有信息但没有样式

我的代码：

```
$mail = $_POST['mail'];

    if(($Content = file_get_contents("http://google.com")) === false) {
        $Content = "";
    }

    $Headers  = "MIME-Version: 1.0\n";
    $Headers .= "Content-type: text/html; charset=iso-8859-1\n";
    $Headers .= "From: a@a.com <a@a.com>\n";
    $Headers .= "Reply-To: a@a.com\n";
    $Headers .= "X-Sender: <a@a.com>\n";
    $Headers .= "X-Mailer: PHP\n"; 
    $Headers .= "X-Priority: 1\n"; 
    $Headers .= "Return-Path: <a@a.com>\n";  

    if(mail($mail, $subject, $Content, $Headers) == false) {
        //Error
    } 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:37:10.810

删除所有外部样式表。页面上的所有样式都应内联或在页面内定义

# sqlite - Sqlite3 给出“错误：约束失败” - 连接到 AM1808

> ID：15018420
> 
> 赞同：0
> 
> 时间：2013-02-22T06:45:08.523
> 
> 标签：sqlite, embedded-database

您好，我正在使用 sqlite3 为我的 AM1808 进行数据库管理。我创建了一个名为 MilkRateChartEditDetail 的新表。

```
const char *SQL_CREATE_MILKRATECHARTDETAILEDITTABLE   = 
"CREATE TABLE IF NOT EXISTS MilkRateChartEditDetail ( \
    MilkRateChartEditDetailId   INTEGER, \
    MilkRateChartId         INTEGER \
        REFERENCES MilkRateChart(MilkRateChartId) \
        ON UPDATE RESTRICT ON DELETE RESTRICT, \
    EffectiveDate           DATE, \
    EffectiveShift          UNSIGNED TINYINT, \
    MilkType                UNSIGNED TINYINT, \
    RCD_RateChartId         UNSIGNED INT,\
    SocietyCode             STRING, \
    RateType                STRING, \
    FAT                     FLOAT, \
    LRCLR                   FLOAT, \
    SNF                     FLOAT, \
    Solid                   FLOAT, \
    Rate                    FLOAT, \
    NewRate                 FLOAT, \
    UpdatedBy               INTEGER \
        REFERENCES UserMaster(UsermasterId) \
        ON UPDATE RESTRICT ON DELETE RESTRICT, \
    UpdatedOn               DATE, \
    FlagGSM                 UNSIGNED TINYINT, \
    FlagUSB                 UNSIGNED TINYINT, \
    PRIMARY KEY (MilkRateChartEditDetailId))"; 
```

现在我正在尝试使用以下查询将数据插入表中。

```
const char *INSERT_MILKRATECHARTEDITDETAILTABLE =
    "INSERT INTO MilkRateChartEditDetail \
         (MilkRateChartEditDetailId,MilkRateChartId, \
         EffectiveDate,EffectiveShift,MilkType, \
         RCD_RateChartId,SocietyCode,RateType, \
         FAT,LRCLR,SNF,Solid,Rate,NewRate, \
         UpdatedBy,UpdatedOn,FlagGSM,FlagUSB) \
     VALUES(NULL,?,?,?,?,?,?,?,?,?,?,?,?,?,NULL,?,?,?)"; 
```

我的数据是：

```
RateChartId : 1
EffectiveDate : 10-12-2012
Shift : E
RateType : FAT
MilkRateChartId : 30
FAT : 11.100000
SNF : 0.000000
Solid : 0.000000
CLR : 0.000000
Updatedby : 1
MilkType : C
Rate : 0.000000
NewRate : 0.000000 
```

我收到一个错误：

> 插入 MILKRATECHARTEDITDETAILTABLE，条目：'约束失败'

我不明白是什么问题？我怎样才能摆脱这个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:21:59.027

您设置了一些外键（简称 FK）约束，并且您还具有主键约束。

如果您尝试使用相同的主键 ( ) 插入记录，或使用外部表中不存在的 FK (或) 的`MilkRateChartEditDetailId`某些值，您将收到此错误消息。`MilkRateChartId``UpdatedBy`

解决的办法是多看一下这些FK和PK是不是用的好，还是扔掉。

# vb.net - Visual Basic 表单 .close() 方法

> ID：15018421
> 
> 赞同：1
> 
> 时间：2013-02-22T06:45:09.487
> 
> 标签：vb.net, vb.net-2010

我有以下代码片段：

```
'Handle level specific properties
Select Case ScoreCard.CurrentDifficulty
    Case 1
        intImageCount = 2 'This is the number of images to show at any given time on screen +1

        'debug
        ScoreCard.CurrentDifficulty = 6
    Case 2
        intImageCount = 3 'This is the number of images to show at any given time on screen +1
    Case 3
        intImageCount = 5 'This is the number of images to show at any given time on screen +1
    Case 4
        intImageCount = 2  'This is the number of images to show at any given time on screen +1
    Case 5
        intImageCount = 5 'This is the number of images to show at any given time on screen +1
    Case 6
        frmLevel3_HouseOfMirrors.Show()
        Me.Close()
        Return
End Select 
```

何时`case 6`执行`frm3_HouseOfMirrors.Show()`执行并打开我的新表单。`Me.close`也可以执行，但我的问题是脚本然后到达返回行。不`me.Close()`应该停止当前表单上所有代码的执行并从内存中卸载其自身吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T08:13:52.820

只需调用`frmLvl3_HouseOfMirrors.ShowDialog()`而不是`.Show()`，这将停止执行代码，直到关闭新表单。

或者，如果您想取消其余代码的执行，请尝试使用[Exit](http://msdn.microsoft.com/en-us/library/t2at9t47%28v=vs.80%29.aspx)指令。您必须检测到您想要完成并将其添加到此之外`Sub`，因为`.Close()`没有停止代码的执行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T07:03:22.727

不，“close”方法只是关闭表单，但程序会继续执行。如果您想在表单关闭之前停止代码执行，您可以将其设为模态。

在 VBA 中，它看起来像这样：frmLevel3_HouseOfMirrors.Show vbModal

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-26T10:38:42.723

> 不`me.Close()`应该停止当前表单上所有代码的执行并从内存中卸载其自身吗？

不[`Close`](http://msdn.microsoft.com/en-us/library/system.windows.forms.form.close.aspx)，正如它所说的那样：它关闭了表单的可视化、交互式表示。¹它不直接影响代码执行。但是，它*确实*确保调用`Form_Closing`then 。`Form_Closed`但是其余的代码执行不受影响；特别是当前方法运行正常。之后，表单上的其他方法可能会或可能不会根据需要被调用（并且，如前所述，`Closing`将`Closed` *被*调用）。

* * *

¹而且，是的，它会释放表单的资源，除非表单显示为 via`ShowDialog`而不是 plain `Show`。

# ios - Xcode 如何自动补全动态方法

> ID：15018422
> 
> 赞同：1
> 
> 时间：2013-02-22T06:45:11.703
> 
> 标签：ios, objective-c, xcode, cocoa-touch, cocoa

例如，如果您在 .h 中声明：

`@property (strong, nonatomic) Foo *bar`

在您的 .m 中，您将获得以下自动完成功能：

`+(NSSet *)keyPathsForValuesAffectingBar`

我知道这是 KVO 的一个特性，我很好奇它是如何实现的。可以自动完成`+(id)myOwnDynamicMethodForBar`吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T10:45:19.840

它与 KVO 无关，而是与`DVTFoundation`Xcode 使用的私有框架有关（DVT 代表 Developer Toolkit）。该框架，或者换句话说，Xcode，将检测您在编辑器中输入的内容，并为您提供一些自动完成的建议。如果您想让自己的动态方法能够自动完成（例如 的形式`myOwnDynamicMethodFor<Key>`），您可能必须实现一个插件来更改 Xcode 的自动完成操作。

如果您想这样做，您可能需要查看一些插件教程，例如[WRITING YOUR OWN XCODE 4 PLUGINS](http://blacksmithsoftware.com/blog/2012/11/19/writing-your-own-xcode4-plugins)或[Creating an Xcode4 Plugin](http://www.blackdogfoundry.com/blog/creating-an-xcode4-plugin/)。流行的 Xcode 插件[KSImageNamed](https://github.com/ksuther/KSImageNamed-Xcode)为方法实现了自动完成功能：-imageNamed:，这将是一个很好的示例和起点。

祝你好运~

# c - 如何解决警告：#undef 指令末尾的额外标记 [默认启用]

> ID：15018423
> 
> 赞同：-1
> 
> 时间：2013-02-22T06:45:15.693
> 
> 标签：c, gcc

作为我们构建的一部分，我们生成了一个 conf.h 文件，其中包含如下行：

```
#undef something-notdefined 
```

警告针对存在“连字符”的列。conf.h 包含许多带有连字符的行，并且对于所有行，都会抛出这些警告。

undef 指令名称不应包含 hypen ；从上述警告中推断是否正确？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:47:04.157

你应该在`#undef`like之后写一个评论

```
 #undef something /*something-notdefined*/ 
```

并且您应该更改您的`conf.h`生成机器，以便它生成具有有效`#define`或`#undef`指令的有效 C 代码。

回想一下，宏名称以字母（或`_`不赞成的 a）开头，并包含字母、数字、下划线。

您需要更改`conf.h`生成器以使其符合规则。

# iphone - 可可中的渐变边框？

> ID：15018427
> 
> 赞同：0
> 
> 时间：2013-02-22T06:45:33.467
> 
> 标签：iphone, ios, objective-c, cgcontext

如何将边框颜色设置为渐变？假设我希望它从黑色变为白色。

```
[layer setBorderColor: <some gradient object>]?

[layer setBorderColor: UIColor[graident..].CGcolor]? 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T07:27:17.820

```
UIColor *gradientColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"borderColor.png"]];
layer.borderWidth = 10;
layer.borderColor = gradientColor.CGColor; 
```

`borderColor.png`应该是适合您视图的渐变 png 。也许它不是一个完美的方法，但它可以轻松使用和处理问题。

比如我的测试（我没有渐变png，就用普通的png做个测试，边框颜色是我的png颜色，你应该让你的png是渐变png）：![在此处输入图像描述](../Images/f074d893b4a92801f2815786e727bccc.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T08:07:43.807

`CAGradientLayer`您可以在视图中插入一个子图层，而不是使用边框。

看看这里：[UIView 上的渐变和 iPhone 上的 UILabels](https://stackoverflow.com/questions/422066/gradients-on-uiview-and-uilabels-on-iphone/1931498#1931498)

# android - Android 获取下一个或上一个枚举

> ID：15018439
> 
> 赞同：1
> 
> 时间：2013-02-22T06:46:22.893
> 
> 标签：android, enums, iteration

我需要一种方法来获取下一个/上一个枚举。
我的问题是我无法以正常方式迭代：

```
for( Mode m: Mode.values() ) {
    . . .
} 
```

每次调用它时，我都需要在方法中获取下一个枚举：
注意**Mode**是一个系统枚举，因此我无法定义方法，除非我创建自己的 Enum，这是一种解决方案，但不太受欢迎。

```
public class A {

    private Mode m;

    A() {
        m = Mode.CLEAR;
    }

    ...

    protected onClick(View v) {
        ...
        v.getBackground().SetColorFilter(R.color.azure, m);
        m = m.next();  // <-- I need something like this
        ...
    } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T06:53:59.603

```
//Store these somewhere in your class
Mode[] modes = Mode.values();
int modeCount = modes.length;

protected void onClick(View v) {
    //Get the next mode, wrapping around if you reach the end
    int nextModeOrdinal = (m.ordinal() + 1) % modeCount;
    m = modes[nextModeOrdinal];
} 
```

对于 Kotlin，您可以在所有枚举类型上声明一个扩展函数，这将允许您`next()`在所有枚举实例上定义一个函数：

```
/**
 * Returns the next enum value as declared in the class. If this is the last enum declared,
   this will wrap around to return the first declared enum.
 *
 * @param values an optional array of enum values to be used; this can be used in order to
 * cache access to the values() array of the enum type and reduce allocations if this is 
 * called frequently.
 */
inline fun <reified T : Enum<T>> Enum<T>.next(values: Array<T> = enumValues()) =
    values[(ordinal + 1) % values.size] 
```

然后你可以有类似的东西：

```
enum class MyEnum {
    ONE, TWO, THREE
} 
```

然后你可以使用`val two = MyEnum.ONE.next()`

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-22T07:00:51.780

实现这个方法：

```
public static Mode nextMode(Mode mode) {
    return (mode.ordinal() < Mode.values().length - 1) ? Mode.values()[mode.ordinal() + 1] : null;
} 
```

# c# - 在 jQuery AJAX POST firefox 中传递标头值

> ID：15018447
> 
> 赞同：1
> 
> 时间：2013-02-22T06:47:27.830
> 
> 标签：c#, jquery, firefox, xmlhttprequest

我在 jQuery AJAX POST 方法中调用了一个 Rest 服务。我需要在标题中传递两个值。Firefox 既不将标头值传递给服务，也不调用 REST 服务。
我的 Jquery 代码

```
var postCall = function () {
    $.support.cors = true;
    var HFAssoRefId = document.getElementById('MainContent_HFAssoRefId').value;      
    var Input = {
        AssoRefId: HFAssoRefId
    };   
    alert(JSON.stringify(Input));
    var url = document.URL;
    var name = "samuel";        
    $.ajax({ 
        type: "POST",
        beforeSend: function (xhr) {
            xhr.setRequestHeader("PartnerName", name);
            xhr.setRequestHeader("URL", url);
        },
        url: "http://localhost:40680/Service.svc/TokenInsertion",
        data: JSON.stringify(Input),
        contentType: "application/json",
        dataType: "json",
        success: function (response) {
            alert(response);
        },
        error: function (xhr, status, error) {              
            alert(status);
        }
    });
} 
```

是否有任何其他方法可以在 jQuery AJAX 中传递标头值。它适用于 Internet Explorer 8。如何使其也与 Firefox 浏览器兼容？

我尝试了其他发布这样的方法。方法一：

```
$(document).ready(function () {
    $("#button").click(function(){   
        var name1 = "samuel";
        var url1 = document.URL;  
        $.post('http://localhost:41855/IntegrationCheck/Default.aspx', {
            name : name1,
            url  : url1
        },function (data) {
            alert(data);
        });
    });
}); 
```

和 AJAX jQuery 中的方法 2：

```
function setHeader() {
    var xhr = new XMLHttpRequest();
    xhr.open("POST", url, true); 
    xhr.setRequestHeader('Accept', '');
    xhr.setRequestHeader("Content-Type", "application/json");
    xhr.setRequestHeader("Accept", "text/xml;application/json");
    xhr.setRequestHeader("PartnerName", name);
    xhr.setRequestHeader("URL", url);
} 
```

但是没有传递标头值，并且在 Firefox 中没有调用该服务。有什么建议么..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T11:57:03.330

我曾经按照以下方法设置请求标头。如果对您有用，请尝试一下。

[脚本]

```
 $("#element").ajaxSuccess(function (evt, request, settings) {
    $('.Status').html(request.getResponseHeader("Status"));
  }); 
```

[看法]

```
 <h2>Status:</h2><h2 class="Status" style="color:Red;"> 
```

[控制器]

```
 [AcceptVerbs(HttpVerbs.Post)]
    public ActionResult Save(Order orders)
    {
        string status = string.Empty;

        if (orders != null)
        {
            OrderRepository.Update(orders);
            status = "Updated";
        }

        Response.AddHeader("Status", status);            
        return data.GridActions<EditableOrder>();
    } 
```

![响应头](../Images/69ee9ee885b456c01712b12020f35166.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:57:16.763

在[jQuery.ajax](http://api.jquery.com/jQuery.ajax/)中阅读有关**标头**的信息。

[在 jQuery AJAX GET 调用中传递请求标头](https://stackoverflow.com/questions/3258645/pass-request-headers-in-a-jquery-ajax-get-call)

# php - 如何将 cjuidailog 框中的选定数据添加到文本框中？

> ID：15018449
> 
> 赞同：0
> 
> 时间：2013-02-22T06:47:47.500
> 
> 标签：php, yii

如何将 cjuidailog 框中的选定数据添加到文本框中？

status ：添加项目的表单。这是项目列表。 ![在此处输入图像描述](../Images/38ad10a84a9202bddf06a437b3fba329.png)

当我单击第一行的 HS 代码时。弹出框（CJUiDialog 框）会出来。 ![在此处输入图像描述](../Images/e57749b8afddb6425ead696b01938306.png)

我选择了聚。项目列表将像这样显示。 ![在此处输入图像描述](../Images/f6d6e87867a995f27ffeb3961bdc8b5f.png)

然后我点击第三行的HS代码。弹出框（CJUiDialog 框）会出来。我选择“按钮”。此时按钮的数据填充到第一行和第三行如下img。 ![在此处输入图像描述](../Images/02c36c8b8be36552a1bc90c3d1d2bb9c.png)

这是视图表

```
<?php

            for($i=1; $i < 5; $i++)
            {
                ?>
                <tr>
                    <td><input type="text" style="width: 25px;" id="item_no_1_<?php echo $i; ?>"></td>
                    <td><input type="text" style="width: 90%;"></td>
                    <td>
                        <div id="loadingdiv<?php echo $i; ?>" style="float:left; margin-right:0px; width:25px;">&nbsp;</div>
                        <?php echo CHtml::ajaxLink(Yii::t('hs_code','HS Code'),$this->createUrl('hsCode/listing', array('txt_name' =>$i )),array(
                            //'onclick'=>'alert('.$i.');',//$("#hscode'. $i .'").dialog("open"); return false;',
                            'update'=>'#hscode'. $i,
                            'beforeSend' => 'function() {           
                                $("#loadingdiv'. $i .'").addClass("ajaxloading");
                            }',
                            'complete' => 'function() {
                                $("#loadingdiv'. $i .'").removeClass("ajaxloading");
                            }', 
                            ),array('id'=>'showhscodelist' . $i, 'class'=>'btn btn-primary', 'style'=>'float:left; margin-right: 10px;','title'=>'HS Code'));?>   
                        <input type="text" style="width: 70%; float:left;" name="item_description_<?php echo $i; ?>" id="item_description_<?php echo $i; ?>">
                        <div id="hscode<?php echo $i; ?>"></div>
                    </td>
                    <td class="mpz" style="width: 60px;">
                        <input type="text" style="width: 50px;" id="hs_code_pre_<?php echo $i; ?>" name="hs_code_pre_<?php echo $i; ?>" maxlength="6" class="hs_code_pre" readonly>
                    </td>
                    <td class="mpz" style="width: 30px;">
                        <input type="text" style="width: 20px;" id="hs_code_mid_<?php echo $i; ?>" name="hs_code_mid_<?php echo $i; ?>" class="hs_code_mid" maxlength="2" readonly>
                    </td>
                    <td class="mpz" style="width: 30px;">
                        <input type="text" style="width: 20px;" id="hs_code_post_<?php echo $i; ?>" name="hs_code_post_<?php echo $i; ?>" class="hs_code_post" maxlength="2" readonly>
                    </td>
                    <td class="mpz" style="width: 60px;">
                        <input type="text" style="width: 40px;" id="unit_pre_<?php echo $i; ?>" name="unit_pre_<?php echo $i; ?>" maxlength="6">
                    </td>
                    <td class="mpz" style="width: 30px;">
                        <input type="text" style="width: 20px;" id="unit_mid_<?php echo $i; ?>" name="unit_mid_<?php echo $i; ?>" maxlength="2">
                    </td>
                    <td class="mpz" style="width: 30px;">
                        <input type="text" style="width: 20px;" id="unit_post_<?php echo $i; ?>" name="unit_post_<?php echo $i; ?>" maxlength="2">
                    </td>
                </tr>
                <?php 
            }

            ?> 
```

这是 hscode/listing（控制器）

```
public function actionListing()
    {
        $model=new HsCode('search');
        $model->unsetAttributes();  // clear any default values
        if(isset($_GET['HsCode']))
            $model->attributes=$_GET['HsCode'];
        //unset($txt_name);

        if(isset($_GET['txt_name']))
            $txt_name = $_GET['txt_name'];

        //unset($_GET['txt_name']);

        $this->renderPartial('hscode_listing',array('model'=>$model, 'txt_name'=>$txt_name),false,true);
    } 
```

这是视图/hs_code/hscode_listing

```
<?php 
$this->beginWidget('zii.widgets.jui.CJuiDialog',array(
                'id'=>'hscode' . $txt_name,
                'options'=>array(
                    'title'=>Yii::t('hscode' . $txt_name,'H.S Code List'),
                    'autoOpen'=>true,
                    'modal'=>'true',
                    'width'=>'950',
                    'height'=>'500',
                ),
                ));
?>
<?php $this->renderPartial('_hscode_listing', array('model'=>$model, 'txt_name'=>$txt_name)); ?>

<?php $this->endWidget('zii.widgets.jui.CJuiDialog');?> 
```

这是_hscode_listing

```
<?php $this->widget('zii.widgets.grid.CGridView', array(
    'id'=>'hs-code-grid',
    'dataProvider'=>$model->search(),
    'filter'=>$model,       
    'columns'=>array(
        array(
            'name'=>'code',
            'header'=>'HS Code',
            'value'=>'$data->code',
            'htmlOptions'=>array('class'=>'hs_code'),  
        ),

        array(
            'name'=>'description',
            'header'=>'Description',    
            'value'=>'$data->description',
            'htmlOptions'=>array('class'=>'description'),
        ),
        array(
            'name'=>'id_rate',
            'header'=>'Import Duty Rate',   
            'value'=>'$data->id_rate',
            'htmlOptions'=>array('class'=>'id_rate'),
        ),
        array(
            'name'=>'ct_rate',
            'header'=>'C.T Rate',   
            'value'=>'$data->ct_rate',
            'htmlOptions'=>array('class'=>'ct_rate'),
        ),
        array(
            'class'=>'CButtonColumn',
            'template'=>'{select}',
            'buttons'=>array
            (
                'select' => array
                (
                    'imageUrl'=>Yii::app()->request->baseUrl.'/protected/assets/images/gridview/icon_select.gif',
                    'options'=>array('style'=>'width:10px; border:none'),
                    'click'=>'function(){
                        alert( ' . $txt_name . ');
                        var hs_code = $(this).parents(\'tr\').find(\'.hs_code\').text();                        
                        var hscode_pre = hs_code.substr(0,6);
                        var hscode_mid = hs_code.substr(6,2);
                        var hscode_post = hs_code.substr(8,2);
                        var description = $(this).parents(\'tr\').find(\'.description\').text();
                        var id_rate = $(this).parents(\'tr\').find(\'.id_rate\').text();
                        var ct_rate = $(this).parents(\'tr\').find(\'.ct_rate\').text();
                        //var temp = $("#item_des").val(itemID);
                        $("#hs_code_pre_'.$txt_name.'").val(hscode_pre);
                        $("#hs_code_mid_'.$txt_name.'").val(hscode_mid);
                        $("#hs_code_post_'.$txt_name.'").val(hscode_post);
                        $("#item_description_'.$txt_name.'").val(description);
                        $("#id_rate_'.$txt_name.'").val(id_rate);
                        $("#ct_rate_'.$txt_name.'").val(ct_rate);
                        $("#hscode' . $txt_name .'").dialog("close");
                    }',
                ),      
            ),
        ),
        array(
            'type'=>'raw',
            'value'=>'$data->id',
            //'filter'=>array('style'=>'visible:none'), 
            'headerHtmlOptions'=>array('style'=>'width:0px; display:none; border:none; textdecoration:none'),
            'htmlOptions'=>array('style'=>'display:none; border:none;', 'class'=>'recei-id'),  
            'header'=>false,
            //'filter'=>false,
        ),
    ),
)); ?>

<style>
#jobs-grid td:last-child, #jobs-grid th:last-child {display: none}
</style> 
```

ံ如何解决我的问题，如何将 cjuidailog 框中的选定数据添加到文本框中而不是 2 位条目？

谢谢

# android - 如何使用 AndEngine 和 Box2D 创建“跳跃”效果

> ID：15018455
> 
> 赞同：1
> 
> 时间：2013-02-22T06:48:25.170
> 
> 标签：android, box2d, andengine

我正在使用 Box2D 扩展开发类似于 AndEngine 中愤怒的小鸟的游戏。

我的目标是让动画精灵跳跃（就像在愤怒的小鸟中一样）并让它反弹多次，具体取决于用户触摸事件施加的力。我试图这样做如下：

```
private static float mImpulseY = 10f;
private static float mLinearVelocityX = 8.0f;
_playerBody.setLinearVelocity(mLinearVelocityX, _playerBody.getLinearVelocity().y);  
_playerBody.applyLinearImpulse(0,mImpulseY,_playerBody.getPosition().x,_playerBody.getPosition().y); 
```

跳跃正在创建适当的抛物线形状，但它没有多次弹跳。请建议我如何克服这个问题。任何有关 Box2D 物理和 AndEngine 的教程链接也将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-05T14:12:34.473

当您使用 FixtureDef 对象创建 Body Object 时，您是否尝试过在 FixtureDef 中设置弹性参数？

# android - 为什么在使用 lwuit 创建图像时会出现 IOException？

> ID：15018457
> 
> 赞同：0
> 
> 时间：2013-02-22T06:48:32.703
> 
> 标签：android, java-me, lwuit

当我尝试在 lwuit 中创建图像时出现 IOException。以下是代码： InputStream is = img.getResourceAsStream(); 图片 img = Image.createImage(is);

图片的实际大小为 1 mb 及以上。我可以使用相同的代码创建大小为 100 或 200 kb 的图像。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-24T12:07:27.830

是的，您的图像大小是原因

尝试使用此站点 [http://www.picresize.com/调整图像大小](http://www.picresize.com/)

# slideshow - How to create an image slideshow in an xe:Dialog?

> ID：15018460
> 
> 赞同：0
> 
> 时间：2013-02-22T06:48:40.523
> 
> 标签：slideshow, xpages, repeat, preload

I am trying to create a slideshow in an xe:dialog

within the dialog I have repeat populated from a notesdocumentcollection containing one image for each document. and two buttons. Next and Previous

When the user in the dialog click "Next" the next image in my collection should be displayed and when I click previous the previous image in my collection should be displayed.

As these images can be very big I do not want to preload them, the actual image should be retrieved at the time when the user click the "Next" button.

How can I do this?

the problem I have is that I do not know how to navigate to the next image. there is probably a very simple solution. I have tried using different techniques like setRowIndex and setIndex etc.

I first thought I could set the repeats repeat limit to "1" and then navigate to next by incrementing the index but could not get that to work.

So what I thought about then was to set the repeat limit to 1000 and hide all images using css but then all images would be preloaded.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:36:27.470

Instead of document collection, you can store document id's in a vector and put it into viewscope. You also put a current index in the viewScope. Next/previous will change index variable and since xe:dialog supports partial refresh, it will be easy and convenient.

# php - PHP 文件搜索在 WAMP 中有效，但在 LAMP 中无效

> ID：15018461
> 
> 赞同：2
> 
> 时间：2013-02-22T06:48:43.823
> 
> 标签：php, wamp, virtualbox, lamp

我编写了一个 PHP 脚本来查找视频文件并在我的本地 WAMP 服务器上对其进行了测试。它在那里工作。但是，当脚本移动到我的 LAMP 服务器上时，脚本无法找到相同的文件。它检查指定的目录是否存在，所以我知道它看到了 /var/www/videos 目录（脚本从 /var/www/web 运行）。

LAMP 服务器正在 VirtualBox 上运行，并且 /var/www/videos 安装到我在脚本开发期间使用的 Windows 7 主机上的目录中。

我最好的猜测是与权限有关，这听起来像正确的路径吗？

脚本在这里：[http](http://pastebin.com/9MTKaUep) : //pastebin.com/9MTKaUep --一个错误，最后一个 if 语句在我的 LAMP 版本上如下：

```
if (isset($search)):
        $videos = glob_files($search, '../videos');
endif; 
```

权限如下所示

```
-rw-r--r-- 1 root root   177 Feb 21 22:44 index.html
drwxrwxrwx 1 root root 49152 Feb 21 22:53 videos
drwxr-xr-x 3 root root  4096 Feb 21 23:29 web 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:47:17.497

您可能必须将该视频文件夹复制到虚拟框中

# c# - 尝试在实体框架中读取或写入受保护的内存

> ID：15018467
> 
> 赞同：0
> 
> 时间：2013-02-22T06:49:32.313
> 
> 标签：c#, .net, entity-framework, exception-handling

我正在尝试动态更改实体框架（v4.4）上下文的连接字符串，我收到此错误：

> System.AccessViolationException 未处理
> 
> 消息：试图读取或写入受保护的内存。这通常表明其他内存已损坏。

导致错误的代码如下所示（我更改了名称）。

```
private Project1.Data.Context _db;

public ConstructorMethod(string connectionString ="")
{
    _db = new Project1.Data.Context();
    _db.Database.Connection.ConnectionString = connectionString;
} 
```

这是一个 DAO 类，用于保存数据访问方法，在构造函数上我想传递连接字符串，但由于某种原因，我无法让它工作。是否有其他方法可以通过构造函数传递连接字符串？

该站点上有关此错误的所有帖子似乎都与 EF 无关。

**编辑** 在尝试使用最少代码的单独项目时。我收到以下错误：

> 不支持关键字：“元数据”

这使我找到了我在下面发布的解决方案。我仍然想知道为什么会这样，因为它似乎适用于 MVC 4 应用程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:54:16.967

添加一个允许在生成的上下文类文件中传递连接字符串的构造函数解决了我的问题

```
public SomeContext(string connectionStringOrName)
        : base (connectionStringOrName)
    {
    } 
```

我仍然想知道为什么会发生错误，因为它在使用相同版本的 Entity Framework 的其他项目上确实可以正常工作。

# java - 从 java 获取 Linux 发行版

> ID：15018474
> 
> 赞同：6
> 
> 时间：2013-02-22T06:49:57.157
> 
> 标签：java, operating-system, linux-distro

从 java，我得到了我正在工作的操作系统的名称。见下面的代码：

```
System.out.println(System.getProperty("os.name")); 
```

在 windows xp 中，它打印如下：`Windows XP`

但在 ubuntu/fedora 中，它只显示`Linux`.

任何人都可以帮助我使用 java 代码找到我正在使用的 linux 版本（如 ubuntu 或 fedora）吗？是否可以从 java 中找到 linux 发行版？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T07:00:34.663

此代码可以帮助您：

```
String[] cmd = {
"/bin/sh", "-c", "cat /etc/*-release" };

try {
    Process p = Runtime.getRuntime().exec(cmd);
    BufferedReader bri = new BufferedReader(new InputStreamReader(
            p.getInputStream()));

    String line = "";
    while ((line = bri.readLine()) != null) {
        System.out.println(line);
    }
} catch (IOException e) {

    e.printStackTrace();
} 
```

**更新**

如果您只需要版本，请尝试使用 uname -a

**更新**

一些 linux 发行版在 /proc/version 文件中包含发行版。这是一个从 java 打印它们而不调用任何 SO 命令的示例

```
//lists all the files ending with -release in the etc folder
File dir = new File("/etc/");
File fileList[] = new File[0];
if(dir.exists()){
    fileList =  dir.listFiles(new FilenameFilter() {
        public boolean accept(File dir, String filename) {
            return filename.endsWith("-release");
        }
    });
}
//looks for the version file (not all linux distros)
File fileVersion = new File("/proc/version");
if(fileVersion.exists()){
    fileList = Arrays.copyOf(fileList,fileList.length+1);
    fileList[fileList.length-1] = fileVersion;
}       
//prints all the version-related files
for (File f : fileList) {
    try {
        BufferedReader myReader = new BufferedReader(new FileReader(f));
        String strLine = null;
        while ((strLine = myReader.readLine()) != null) {
            System.out.println(strLine);
        }
        myReader.close();
    } catch (Exception e) {
        System.err.println("Error: " + e.getMessage());
    }
} 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-06-09T21:55:08.420

从这里开始，我扩展了代码以包含不同的回退方案，以便在多个平台上获得操作系统版本。

*   Windows 具有足够的描述性，您可以从“os.name”系统属性中获取信息*   Mac OS：您需要根据版本保留发布名称列表*   Linux：这是最复杂的，这里是后备列表：
    - 如果发行版符合 LSB，则从 LSB 发行文件中
    获取信息 - 如果 /etc/system-release 存在，则从 /etc/system-release
    获取信息 - 从中​​获取信息/etc/ 中任何以 '-release' 结尾的文件
    - 从 /etc/ 中以 '_version' 结尾的任何文件获取信息（主要用于 Debian）
    - 从 /etc/issue 获取信息（如果存在
    ） - 最坏的情况，获取/proc/version 中的哪些信息可用

您可以在此处获取实用程序类：
[https ://github.com/aurbroszniowski/os-platform-finder](https://github.com/aurbroszniowski/os-platform-finder)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T06:59:38.357

获取 Linux 发行版名称的一种特别方法是读取`/etc/*-release`文件的内容。它会给你类似的东西`CentOS release 6.3 (Final)`。

从 Java 中读取该文件的内容是直截了当的。

可能不是最好的方法，但它会完成工作，这也只适用于 *nix 盒子而不是 Windows。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T07:08:39.400

可以用java运行`uname -r`，得到结果；这通常会显示发行版，除非它是由某个家伙在他的地下室从源头编译的。对于我的机器：

```
mao@korhal ~ $ uname -r
3.4.9-gentoo 
```

并运行它：

```
Process p = Runtime.getRuntime().exec("uname -r");  
BufferedReader in = new BufferedReader(  
                    new InputStreamReader(p.getInputStream()));  
String distro = in.readLine();  

// Do something with distro and close reader 
```

**编辑**：对于一般的发行版来说，也许`uname -a`会更好。或者查看`/etc/*-release`文件，这似乎是在大多数将军身上普遍定义的。

# android - SQLite 数据库打开后 Android 应用程序崩溃

> ID：15018479
> 
> 赞同：0
> 
> 时间：2013-02-22T06:50:51.910
> 
> 标签：android, sqlite

我正在尝试创建一个应用程序来获取您当前的地理位置并将其存储到 SQLite 数据库中。然后，我希望能够检索该位置以查看。我有获取位置的代码，但是在创建数据库后，应用程序崩溃了。

这是我的主要活动代码

```
public class WhereAmI extends Activity {

SQLiteOpenHelper dbhelper;
SQLiteDatabase database;

double lat;
double lng;

@Override
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.main);

LocationManager locationManager;
String context = Context.LOCATION_SERVICE;
locationManager = (LocationManager)getSystemService(context);

Criteria criteria = new Criteria();
criteria.setAccuracy(Criteria.ACCURACY_FINE);
criteria.setAltitudeRequired(false);
criteria.setBearingRequired(false);
criteria.setCostAllowed(true);
criteria.setPowerRequirement(Criteria.POWER_LOW);
String provider = locationManager.getBestProvider(criteria, true);

  Location location = locationManager.getLastKnownLocation(provider);
updateWithNewLocation(location);

locationManager.requestLocationUpdates(provider, 2000, 10,
                                       locationListener);

//Open Database
dbhelper = new dbHelper(this);
database = dbhelper.getWritableDatabase();

//ContentValues cv = new ContentValues();
//cv.put(dbHelper.COULMN_LON, lng);
//cv.put(dbHelper.COLUMN_LAT, lat);
//database.insert(dbHelper.TABLE_LOCATION, null, cv);
}

private final LocationListener locationListener = new LocationListener() {
public void onLocationChanged(Location location) {
  updateWithNewLocation(location);
}

public void onProviderDisabled(String provider){
  updateWithNewLocation(null);
}

public void onProviderEnabled(String provider){ }
public void onStatusChanged(String provider, int status, 
                            Bundle extras){ }
};

private void updateWithNewLocation(Location location) {
String latLongString;
TextView myLocationText; 
myLocationText = (TextView)findViewById(R.id.myLocationText);
if (location != null) {
  lat = location.getLatitude();
  lng = location.getLongitude();
  latLongString = "Lat:" + lat + "\nLong:" + lng;
} else {
  latLongString = "No location found"; 
}
myLocationText.setText("Your Current Position is:\n" + 
                       latLongString);

}

}

Here is my Database Class

package com.paad.whereami;

import android.content.Context;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteOpenHelper;

public class dbHelper extends SQLiteOpenHelper {

public static final String DATABASE_NAME = "geo.db";
public static final int DATABASE_VERSION = 1;

public static final String TABLE_LOCATION = "tablename";
public static final String COLUMN_ID = "locationId";
public static final String COULMN_LON = "longitude";
public static final String COLUMN_LAT = "latitude";

private static final String TABLE_CREATE = "CREATE TABLE " + TABLE_LOCATION + 
        " (" + COLUMN_ID + " INTEGER RIMARY KEY AUTOINVREMENT, " 
        + COULMN_LON + " DOUBLE, " + COLUMN_LAT + " DOUBLE, " + ")";

//Context context;

public dbHelper(Context context) {
    super(context, DATABASE_NAME, null, DATABASE_VERSION);
}

@Override
public void onCreate(SQLiteDatabase db) {
    db.execSQL(TABLE_LOCATION);

}

@Override
public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
    db.execSQL("DROP TABLE IF EXISTS " + TABLE_LOCATION);
    onCreate(db);

}

} 
```

这是我得到的 Android 运行时错误。

```
02-22 06:46:57.543: E/AndroidRuntime(1526): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.paad.whereami/com.paad.whereami.WhereAmI}: android.database.sqlite.SQLiteException: near "tablename": syntax error (code 1): , while compiling: tablename
02-22 06:46:57.543: E/AndroidRuntime(1526):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2180)
02-22 06:46:57.543: E/AndroidRuntime(1526):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2230)
02-22 06:46:57.543: E/AndroidRuntime(1526):     at android.app.ActivityThread.access$600(ActivityThread.java:141)
02-22 06:46:57.543: E/AndroidRuntime(1526):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1234)
02-22 06:46:57.543: E/AndroidRuntime(1526):     at android.os.Handler.dispatchMessage(Handler.java:99)
02-22 06:46:57.543: E/AndroidRuntime(1526):     at android.os.Looper.loop(Looper.java:137)
02-22 06:46:57.543: E/AndroidRuntime(1526):     at android.app.ActivityThread.main(ActivityThread.java:5039)
02-22 06:46:57.543: E/AndroidRuntime(1526):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
02-22 06:46:57.543: E/AndroidRuntime(1526):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
02-22 06:46:57.543: E/AndroidRuntime(1526): Caused by: android.database.sqlite.SQLiteException: near "tablename": syntax error (code 1): , while compiling: tablename
02-22 06:46:57.543: E/AndroidRuntime(1526):     at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)
02-22 06:46:57.543: E/AndroidRuntime(1526):     at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:882)
02-22 06:46:57.543: E/AndroidRuntime(1526):     at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:493)
02-22 06:46:57.543: E/AndroidRuntime(1526):     at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:588)
02-22 06:46:57.543: E/AndroidRuntime(1526):     at android.database.sqlite.SQLiteProgram.<init>(SQLiteProgram.java:58)
02-22 06:46:57.543: E/AndroidRuntime(1526):     at android.database.sqlite.SQLiteStatement.<init>(SQLiteStatement.java:31)
02-22 06:46:57.543: E/AndroidRuntime(1526):     at android.database.sqlite.SQLiteDatabase.executeSql(SQLiteDatabase.java:1663)
02-22 06:46:57.543: E/AndroidRuntime(1526):     at android.database.sqlite.SQLiteDatabase.execSQL(SQLiteDatabase.java:1594)
02-22 06:46:57.543: E/AndroidRuntime(1526):     at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:252)
02-22 06:46:57.543: E/AndroidRuntime(1526):     at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:164)
02-22 06:46:57.543: E/AndroidRuntime(1526):     at android.app.Activity.performCreate(Activity.java:5104)
02-22 06:46:57.543: E/AndroidRuntime(1526):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1080)
02-22 06:46:57.543: E/AndroidRuntime(1526):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2144) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T06:59:38.747

这是 onCreate 方法中的一个简单错误，您使用了错误的常量。

将 onCreate 方法更改为

```
public void onCreate(SQLiteDatabase db) {
    db.execSQL(TABLE_CREATE);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T06:58:50.610

PRIMARY KEY 和 AUTOINCREMENT 中的拼写错误

最后一个 DOUBLE 之后还有一个额外的“，”

改成...

```
private static final String TABLE_CREATE = "CREATE TABLE " + TABLE_LOCATION + 
        " (" + COLUMN_ID + " INTEGER PRIMARY KEY AUTOINCREMENT, " 
        + COULMN_LON + " DOUBLE, " + COLUMN_LAT + " DOUBLE );"; 
```

# mysql - Hibernate - 我如何执行 UNION 并返回项目列表？

> ID：15018482
> 
> 赞同：0
> 
> 时间：2013-02-22T06:50:59.650
> 
> 标签：mysql, hibernate, union

如何在休眠中运行 UNION 查询。我是学习休眠的新手，现在我有一个这样的命名查询，

```
<query>
    SELECT product.defaultSk.name FROM Product product
    WHERE product.defaultSk.name LIKE :name 
    AND product.defaultSk.activeStartDate &lt;= :currentDate
    AND (product.defaultSk.activeEndDate &gt; :currentDate OR product.defaultSk.activeEndDate = null)
    AND (product.archiveStatus.archived IS NULL OR product.archiveStatus.archived = 'N')        
    UNION
    SELECT category.name FROM Category category
    WHERE category.name LIKE :name
    AND (archived = 'N')
</query> 
```

当我执行上述查询时，我只得到第一个查询的结果，而我的第二个查询没有返回任何结果。我的控制台只显示第一个查询的触发，我找不到第二个查询被触发。为什么它不运行第二个查询...

这是我运行查询后的控制台，

安慰：

```
 Hibernate: select skimpl1_.NAME as col_0_0_ from PRODUCT productimp0_, BLC_SK skimpl1_ left outer join PRODUCT_SK_XREF skimpl1_1_ on skimpl1_.SK_ID=skimpl1_1_.SK_ID where productimp0_.DEFAULT_SK_ID=skuimpl1_.SK_ID and (skimpl1_.NAME like ?) and skimpl1_.ACTIVE_START_DATE<=? and (skimpl1_.ACTIVE_END_DATE>? or skimpl1_.ACTIVE_END_DATE is null) and (productimp0_.ARCHIVED is null or productimp0_.ARCHIVED='N') 
```

我已经实现了 jquery 自动完成以从表中生成结果，现在我想合并两个表结果。我将使用联合查询，因为它合并了来自两个表的结果。我做错了什么吗？我已经阅读了一些 SO 帖子，说明在 Hibernate 中无法进行联合。如果是这样，这个问题的解决方法是什么。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:08:54.923

HQL 不支持`union`. 您必须执行两个不同的查询，或者使用 SQL。

# node.js - MongoDB：尝试使用聚合 $unwind 来获取嵌入式文档

> ID：15018483
> 
> 赞同：5
> 
> 时间：2013-02-22T06:51:06.213
> 
> 标签：node.js, mongodb, mongoose, mongohq

我有一个 MongoDB 集合 [Users]，每个集合都有一个嵌入式文档 [Photos] 数组。我希望能够有一个列出最近照片的页面，例如 - 任何用户上传的最后 10 张照片。

**用户**

```
[
    {
        _id: ObjectID
        name: "Matthew"
        Photos: [
            {
                _id: ObjectID
                url: "http://www.example.com/photo1.jpg"
                created: Date("2013-02-01")
            },
            {
                _id: ObjectID
                url: "http://www.example.com/photo3.jpg"
                created: Date("2013-02-03")
            }
        ]
    },
    {
        _id: ObjectID
        name: "Bob"
        Photos: [
            {
                _id: ObjectID
                url: "http://www.example.com/photo2.jpg"
                created: Date("2013-02-02")
            },
            {
                _id: ObjectID
                url: "http://www.example.com/photo4.jpg"
                created: Date("2013-02-04")
            }
        ]
    }
] 
```

我第一次尝试解决这个问题是找到所有照片不为空的用户，并按创建日期对其进行排序：

```
User.find({images:{$ne:[]}}).sort({"images.created":-1}) 
```

不幸的是，这并不像我需要的那样工作。它按最近的图像对用户进行排序，但仍然返回所有图像，并且无法限制函数返回的图像数量。

我开始研究聚合，似乎它可能是我正在寻找的解决方案，但我很难找到如何让它工作。

理想情况下，我希望返回的结果类型是这样的：

```
results: [
    {
        _id: ObjectID (from Photo)
        name: "Bob"
        url: "http://www.example.com/photo4.jpg"
        created: Date("2013-02-04")
    }
    {
        _id: ObjectID (from Photo)
        name: "Matthew"
        url: "http://www.example.com/photo3.jpg"
        created: Date("2013-02-03")
    }
] 
```

每个结果都应该是一张照片，我应该能够将结果限制在特定数量，并跳过结果以进行分页查看。

如果您需要更多信息，请告诉我，并感谢您的回复。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-22T07:13:40.693

您需要聚合框架：

```
db.users.aggregate(
  { $project: {"Photos" : 1, _id: 0, name:1 }},
  { $unwind: "$Photos" },
  { $sort: {"Photos.created" : -1} },
  { $skip: 1 },
  { $limit: 2 }
) 
```

结果将是这样的：

```
{
    "result" : [ 
        {
            "name" : "Matthew",
            "Photos" : {
                "_id" : 2,
                "url" : "http://www.example.com/photo3.jpg",
                "created" : "2013-02-03"
            }
        }, 
        {
            "name" : "Bob",
            "Photos" : {
                "_id" : 3,
                "url" : "http://www.example.com/photo2.jpg",
                "created" : "2013-02-02"
            }
        }
    ],
    "ok" : 1
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T06:55:54.280

我想你想要这样的东西：

```
db.Users.aggregate( [
{$unwind:"$Photos"},
{$sort: {"Photos.created":-1},
{$limit: 10}
] ); 
```

# javascript - extjs 网格分页在页面加载时加载所有数据

> ID：15018484
> 
> 赞同：1
> 
> 时间：2013-02-22T06:51:07.047
> 
> 标签：javascript, extjs

我正在使用 extjs 进行分页网格，但在页面加载时它一次显示我的所有数据......但我将 pagesize 设置为 15 这是我的代码

```
 Ext.require(['Ext.grid.*',
                     'Ext.data.*',
                     'Ext.util.*',
                     'Ext.toolbar.Paging']);            
            Ext.onReady(function () {       

                var storedata=new Ext.data.Store(    {
                    pageSize: 15, 
                    autoLoad: true,
                    fields:[
                            {name: 'dimEAColumn'},
                            {name: 'dimEntitytable'},            
                            {name: 'dimtableName'}, 
                            {name: 'is_scan_enabled'},
                            {name: 'name'},
                            {name: 'scanType'},
                            {name: 'severity'}

                        ],
                     proxy: {
                         type: 'rest',
                          url : 'data/grid1.json',
                            reader: {
                                type: 'json',
                                root: 'CompositionDAO'

                                }
                        },

               });  

                storedata.load();

            // create the grid
            var grid = new Ext.grid.GridPanel({
                store: storedata,

                columns: [
                    {header: "Severity", width: 70,dataIndex: 'severity', sortable: true},
                    {header: "Scan Name", width: 275, dataIndex: 'name', sortable: true},
                    {header: "Status", dataIndex: 'is_scan_enabled', sortable: true},
                    {header: "Master Data Dimension",width:130, dataIndex: 'scanType', sortable: true},
                    {header: "Entity",  dataIndex: 'dimEntitytable', sortable: true },
                    {header: "Attribute",dataIndex: 'scanType', sortable: true}

                ],

                // paging bar on the bottom
                bbar: Ext.create('Ext.PagingToolbar', {
                    store: storedata,
                    displayInfo: true,
                    displayMsg: 'Displaying topics {0} - {1} of {2}',
                    emptyMsg: "No topics to display",

                }),
                renderTo:'QualityScans',
                width:797,
                height:200,
                loadMask: true,
                viewConfig: {emptyText: '<span style="position:absolute; margin-left:300px; font-size:12px; top:50px;color:#004669;font-weight:bold;">No data to display</span>'}
            });
            }); 
```

这是我的 json 数据

```
{
"CompositionDAO": [
    {
        "dimEAColumn": "F_BIRTHDATE_VALUE",
        "dimEntitytable": "PERSON",
        "dimtableName": "PERSONDM",
        "is_scan_enabled": 1,
        "name": "Invalid Birth Dateeeeeeeeeeeeeeeeeeeeeeeeeeeeee",
        "scanType": "Quality",
        "severity": "High"
    },
    {
        "dimEAColumn": "F_GIVEN_NAME_ONE",
        "dimEntitytable": "PERSONNAME",
        "dimtableName": "PERSONDM",
        "is_scan_enabled": 1,
        "name": "Company Stored as Person (Given Name)",
        "scanType": "Quality",
        "severity": "High"
    },
    {
        "dimEAColumn": "F_GIVEN_NAME_ONE",
        "dimEntitytable": "PERSONNAME",
        "dimtableName": "PERSONDM",
        "is_scan_enabled": 0,
        "name": "Given Name One Anonymous Value",
        "scanType": "Quality",
        "severity": "High"
    }, and so on 
```

请告诉我会有什么问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-22T06:20:31.103

请检查您的 json 响应。您缺少总数 您的回复应类似于 { totalCount":"255", "CompositionDAO":[ {your data}]

它会帮助你

# java - 故意抛出运行时异常

> ID：15018487
> 
> 赞同：0
> 
> 时间：2013-02-22T06:51:25.937
> 
> 标签：java, exception-handling

我正在通过以下代码：

```
public int returnSomething() {
    try {
        throw new RuntimeException("foo!");
    } finally {
        return 0;
    }
} 
```

请解释这段代码在做什么。我的分析是我们在方法内部抛出了一个运行时异常，但是在那之后，“finally”块肯定会执行。那是对的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:00:39.827

答案在[Java 语言规范 14.20.2 部分](http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.20.2)。您需要注意返回算作“突然完成”：

> ...
> 
> *   如果 try 块的执行由于抛出值 V 而突然完成，则有一个选择
>     
>     
>     *   [...]
>     *   如果 finally 块因为任何原因突然完成，那么 try 语句也会因为同样的原因而突然完成。

（所有路径都有相同的终点，但措辞略有不同。）

所以总体结果是返回0，丢弃异常。

从一个`finally`街区返回很少是一个好主意。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T06:59:35.987

快速测试表明这返回 0，而不是传播 RuntimeException。

```
public class Test {
  public static int returnSomething() {
    try {
      throw new RuntimeException("foo!");
    } finally {
      return 0;
    }
  }

  public static void main(String[] args) {
    int i=returnSomething();
    System.out.println(i);
  }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T06:56:21.750

finally 块的内容总是被执行。我知道它不会执行的唯一几个原因是当你拔掉插头或你的 JVM 崩溃时。所以我认为这将返回 0。

# mysql - 如何编写将数据插入到 phpmyadmin 中的表的程序？

> ID：15018488
> 
> 赞同：12
> 
> 时间：2013-02-22T06:51:28.403
> 
> 标签：mysql, database, stored-procedures, phpmyadmin

我创建了如下表：

```
student:
+----+------+-----------+--------+
|uid | name | user_name | branch |
+----+------+-----------+--------+
|    |      |           |        |
+----+------+-----------+--------+ 
```

我想使用过程将数据插入到表中。

我写的程序是：

> 创建过程 add(in_name varchar(50),in_user_name varchar(50),in_branch varchar(50))
> 开始
> 插入学生 (name,user_name,branch) 值 (in_name,in_user_name,in_branch);
> 结尾;

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-02-22T06:56:03.203

试试这个-

```
CREATE PROCEDURE simpleproc (IN name varchar(50),IN user_name varchar(50),IN branch varchar(50))
BEGIN
    insert into student (name,user_name,branch) values (name ,user_name,branch);
END 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-03-12T04:23:00.190

```
# Switch delimiter to //, so phpMyAdmin will not execute it line by line.
DELIMITER //
CREATE PROCEDURE usp_rateChapter12

(IN numRating_Chapter INT(11) UNSIGNED, 

 IN txtRating_Chapter VARCHAR(250),

 IN chapterName VARCHAR(250),

 IN addedBy VARCHAR(250)

)

BEGIN
DECLARE numRating_Chapter INT;

DECLARE txtRating_Chapter VARCHAR(250);

DECLARE chapterName1 VARCHAR(250);

DECLARE addedBy1 VARCHAR(250);

DECLARE chapterId INT;

DECLARE studentId INT;

SET chapterName1 = chapterName;
SET addedBy1 = addedBy;

SET chapterId = (SELECT chapterId 
                   FROM chapters 
                   WHERE chaptername = chapterName1);

SET studentId = (SELECT Id 
                   FROM students 
                   WHERE email = addedBy1);

SELECT chapterId;
SELECT studentId;

INSERT INTO ratechapter (rateBy, rateText, rateLevel, chapterRated)
VALUES (studentId, txtRating_Chapter, numRating_Chapter,chapterId);

END //

//DELIMITER; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-05-22T09:43:36.653

这种方法对我有用：

```
DELIMITER $$
DROP PROCEDURE IF EXISTS db.test $$
CREATE PROCEDURE db.test(IN id INT(12),IN NAME VARCHAR(255))
 BEGIN
 INSERT INTO USER VALUES(id,NAME);
 END$$
DELIMITER ; 
```

# iphone - 在 iphone SDK 中修改日期选择器

> ID：15018489
> 
> 赞同：0
> 
> 时间：2013-02-22T06:51:29.180
> 
> 标签：iphone, ios, objective-c, xcode, datepicker

在我的应用程序中，我显示了一个日期选择器，但它也显示了以前的日期。

**我只想显示今天日期的日期。**

我从不想在日期选择器中显示今天的旧日期。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-02-22T06:56:31.793

作为`[NSDate date]`或`Date()`返回当前的今天日​​期。

**在 Objective-C 中**

设置日期选择器的 minimumDate 属性：

```
datePicker.minimumDate = [NSDate date]; 
```

**在 Swift 4.x 中**

```
datePicker.minimumDate = Date() 
```

（其中 datePicker 是对您的引用`UIDatePicker`）

# java - 将泛型数组传递给构造函数

> ID：15018492
> 
> 赞同：1
> 
> 时间：2013-02-22T06:51:31.533
> 
> 标签：java, generics

有没有办法将有界泛型类型的数组传递给具有相同泛型类型的参数而不引发 ClassCastException 的方法？：

```
public class Heap<E extends Comparable>  implements java.lang.Cloneable{

    private java.util.ArrayList<E> list = new java.util.ArrayList<E>();

    public Heap(E[] objects) {
         for (int i = 0; i < objects.length; i++) {
            add(objects[i]);
        }
    }

    private  void add(E newObject){
    ...
    }

    @Override
    protected Heap<E> clone() {
        return new Heap<E>((E[])list.toArray());
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:06:20.807

Joshua Bloch 的 Effective Java（第 25 条）：

> 创建泛型类型、参数化类型或类型参数的数组是非法的。这些数组创建表达式都不是合法的 new `List<E>[]`、 new `List<String>[]`、`new E[]`。

所以使用列表而不是带有泛型的数组。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:25:22.073

如果您对所有应该这样做的未经检查的演员表都满意：

```
class Heap<E extends Comparable>  implements java.lang.Cloneable{

    private java.util.ArrayList<E> list = new java.util.ArrayList<E>();
    Class<E> classE;

    public Heap(E[] objects) {
        Class<? extends Object[]> aClass = objects.getClass();
        this.classE = (Class<E>) aClass.getComponentType();
        for (int i = 0; i < objects.length; i++) {
            add(objects[i]);
        }
    }

    private  void add(E newObject){
        ...
    }

    @Override
    protected Heap<E> clone() {
        return new Heap<E>(list.toArray((E[])Array.newInstance(classE, list.size())));
    }
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-22T06:56:27.790

```
 return new Heap<E>((E[])list.toArray()); 
```

不，数组不能进行类型转换（好吧，只能从`Object`）。

改用：

```
 return new Heap<E>(list.toArray((E[])new Comparable[0])); 
```

（假设您使用有界类型的`Comparable`，否则使用：

```
return new Heap<E>(list.toArray((E[])new Object[0])); 
```

)

这将返回一个类型为 的数组`E[]`。

# python - 带线程的 Python 超时上下文管理器

> ID：15018519
> 
> 赞同：10
> 
> 时间：2013-02-22T06:54:18.927
> 
> 标签：python, timeout, contextmanager, time-limiting

我有`timeout`上下文管理器，它与信号完美配合，但它在多线程模式下引发错误，因为信号只在主线程中工作。

```
def timeout_handler(signum, frame):
    raise TimeoutException()

@contextmanager
def timeout(seconds):
    old_handler = signal.signal(signal.SIGALRM, timeout_handler)
    signal.alarm(seconds)
    try:
        yield
    finally:
        signal.alarm(0)
        signal.signal(signal.SIGALRM, old_handler) 
```

我见过装饰器实现，`timeout`但我不知道如何`yield`在派生自`threading.Thread`. 我的变种不起作用。

```
@contextmanager
def timelimit(seconds):
    class FuncThread(threading.Thread):
        def run(self):
            yield

    it = FuncThread()        
    it.start()
    it.join(seconds)

    if it.isAlive():
        raise TimeoutException() 
```

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-03T20:12:09.233

如果上下文管理器保护的代码是基于循环的，请考虑以人们处理线程终止的方式来处理它。杀死另一个线程通常是不安全的，因此标准方法是让控制线程设置一个对工作线程可见的标志。工作线程定期检查该标志并干净地关闭自己。以下是你可以如何做一些与超时类似的事情：

```
class timeout(object):
    def __init__(self, seconds):
        self.seconds = seconds
    def __enter__(self):
        self.die_after = time.time() + self.seconds
        return self
    def __exit__(self, type, value, traceback):
        pass
    @property
    def timed_out(self):
        return time.time() > self.die_after 
```

这是一个单线程使用示例：

```
with timeout(1) as t:
    while True: # this will take a long time without a timeout
        # periodically check for timeouts
        if t.timed_out:
            break # or raise an exception
        # do some "useful" work
        print "."
        time.sleep(0.2) 
```

和一个多线程的：

```
import thread
def print_for_n_secs(string, seconds):
    with timeout(seconds) as t:
        while True:
            if t.timed_out:
                break # or raise an exception
            print string,
            time.sleep(0.5)

for i in xrange(5):
    thread.start_new_thread(print_for_n_secs,
                            ('thread%d' % (i,), 2))
    time.sleep(0.25) 
```

这种方法比使用信号更具侵入性，但它适用于任意线程。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-26T02:05:39.447

我看不到用上下文管理器做你提议的方法，你不能`yield`从一个线程流到另一个线程。我要做的是用一个带有超时的可中断线程来包装你的函数。这是一个 [食谱](http://code.activestate.com/recipes/473878/)。

您将有一个额外的线程，语法不会那么好，但它会起作用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-07-06T12:05:53.090

我知道已经很晚了，但我只是在读这个，但是创建自己的信号器/上下文管理器怎么样？我是 python 新手，希望有经验的开发人员对此实现的反馈。

这是基于“Fooz先生”的回答

```
class TimeoutSignaller(Thread):
    def __init__(self, limit, handler):
        Thread.__init__(self)
        self.limit = limit
        self.running = True
        self.handler = handler
        assert callable(handler), "Timeout Handler needs to be a method"

    def run(self):
        timeout_limit = datetime.datetime.now() + datetime.timedelta(seconds=self.limit)
        while self.running:
            if datetime.datetime.now() >= timeout_limit:
                self.handler()
                self.stop_run()
                break

    def stop_run(self):
        self.running = False

class ProcessContextManager:
    def __init__(self, process, seconds=0, minutes=0, hours=0):
        self.seconds = (hours * 3600) + (minutes * 60) + seconds
        self.process = process
        self.signal = TimeoutSignaller(self.seconds, self.signal_handler)

    def __enter__(self):
        self.signal.start()
        return self.process

    def __exit__(self, exc_type, exc_val, exc_tb):
        self.signal.stop_run()

    def signal_handler(self):
        # Make process terminate however you like
        # using self.process reference
        raise TimeoutError("Process took too long to execute") 
```

用例：

```
with ProcessContextManager(my_proc) as p:
    # do stuff e.g.
    p.execute() 
```

* * *

## 回答 #4

> 赞同：-3
> 
> 时间：2013-02-22T06:57:10.623

系统调用的超时是通过信号完成的。大多数阻塞系统调用在信号发生时返回 EINTR，因此您可以使用警报来实现超时。

这是一个适用于大多数系统调用的上下文管理器，如果花费太长时间，则会从阻塞系统调用中引发 IOError。

```
import signal, errno
from contextlib import contextmanager
import fcntl

@contextmanager
def timeout(seconds):
    def timeout_handler(signum, frame):
        pass

    original_handler = signal.signal(signal.SIGALRM, timeout_handler)

    try:
        signal.alarm(seconds)
        yield
    finally:
        signal.alarm(0)
        signal.signal(signal.SIGALRM, original_handler)

with timeout(1):
    f = open("test.lck", "w")
    try:
        fcntl.flock(f.fileno(), fcntl.LOCK_EX)
    except IOError, e:
        if e.errno != errno.EINTR:
            raise e
        print "Lock timed out" 
```

# vim - Vim 脚本：检查当前单词是否是/不是 C/C++ 关键字

> ID：15018520
> 
> 赞同：3
> 
> 时间：2013-02-22T06:54:20.927
> 
> 标签：vim, vim-plugin

我正在开发一个小型 vim 插件，它应该在光标空闲后突出显示当前单词的出现。我有一个高亮部分，我需要检查当前单词是否不是 C/C++ 关键字。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T07:06:43.617

您可以根据当前的语法高亮脚本来执行此操作。比如说，如果您的光标位于某个访问修饰符（ 、 等）或某些 C++ 类型（例如 、 等）上，则此`public`函数`protected`返回`bool`：

```
function! IsCppAccessOrType()
   return match(synIDattr(synID(line("."), col("."), 1), "name"), '\v\CcppAccess|cppType') >= 0
endfunction 
```

但是，这将完全取决于当前的语法脚本。上面的例子取决于`syntax/cpp.vim`Vim 7.3 提供的标准。

* * *

顺便说一句，有一个非常有用的技巧来处理语法高亮的东西：

```
" Show syntax highlighting groups for word under cursor 
nnoremap <silent> <F10> :call <SID>SynStack()<CR>
function! <SID>SynStack()
   if !exists("*synstack")
      return
   endif
   echo map(synstack(line('.'), col('.')), 'synIDattr(v:val, "name")')
endfunc 
```

将此添加到您的`vimrc`, 当您按下 时`F10`，将回显一堆语法项（`:help synstack`更多详细信息，请参见 ）。

我在[http://vimbts.com](http://vimbits.com)的某个地方发现了这个技巧。

# c# - OnModelCreating

> ID：15018521
> 
> 赞同：0
> 
> 时间：2013-02-22T06:54:24.213
> 
> 标签：c#, entity-framework, ef-code-first, entity-framework-5

我有三个类`Address`：`User`和`Application`。两者`User`都有`Application`一个地址字段。

用户：

```
 [Required, ForeignKey("HomeAddress")]
    public int HomeAddressId { get; set; }
    public virtual Address HomeAddress { get; set; } 
```

应用：

```
 [Required, ForeignKey("PresentAddress")]
    public int PresentAddressId { get; set; }
    public virtual Address PresentAddress { get; set; } 
```

我正在编写以下代码来解决“循环或多级联路径”问题。我想删除`Application`. 下面的代码是否正确？

```
 protected override void OnModelCreating(DbModelBuilder modelBuilder)
    {
        modelBuilder.Entity<Application>()
            .HasRequired(x => x.PresentAddress)
            .WithMany()
            .HasForeignKey(x => x.PresentAddressId)
            .WillCascadeOnDelete(false);
    } 
```

# c - 如何使用数字集作为数组索引？

> ID：15018522
> 
> 赞同：1
> 
> 时间：2013-02-22T06:54:31.710
> 
> 标签：c, algorithm, set, dynamic-programming, traveling-salesman

我想用 C 实现旅行商问题（动态编程）。我有以下伪代码：

```
** Ignoring the base cases**
** C[i][j] is cost of the edge from i to j**
for m = 2,3,4..n:
    for each set S of size m which is subset of {1,2,3...n}:
        for each J in S, j ≠ 1:
            A[S][j] = min  of { A[S-{j}][k] + C[k][j] } for all k is in S and k ≠ j: 

 return min of { A[{1,2,3...n},j] + C[j][1] } for all j from 2 to n 
```

A[S][j] 存储从 1 到 j 的最短路径，该路径恰好访问 S 中的所有顶点一次。（S 包括 1 和 j）。

时间复杂度为 O(n ² 2 ^n )。

我的问题是，在这个伪代码中，他们使用集合作为数组索引，时间复杂度表明查找没有元素 j ( `S - {j}`) 的集合需要恒定时间。

我想到的是使用由 m、i 和 j 索引的 3D 数组。其中“i”指向存储在由 m,i 索引的不同集合数组中的集合。

但问题是我无法`A[S-{j}[k]]`在恒定时间内进行查找。

我的问题是，如何在不改变原始算法的时间复杂度的情况下实现由“集合”索引的数组。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T07:15:49.007

让每条路径由一个二进制字符串表示，其中每个位表示是否访问了一个城市。

所以

```
(123456)
 011001 
```

表示访问了城市 2、3 和 6。

您将上述内容用作数组索引。

当您想查找没有城市的路径时，只需将该位设置为 0 并将输出用作索引。

第一个城市总是会被访问，所以你真的不需要那个城市。

# windows-phone-7 - 提交应用开发中心时无法上传 .XAP 文件

> ID：15018523
> 
> 赞同：2
> 
> 时间：2013-02-22T06:54:42.363
> 
> 标签：windows-phone-7, windows-phone-7.1, windows-phone

我开发了一个 windowsphone7 应用程序，我使用了 Visual Studio 2010 和 WP7 SDK 来开发该应用程序，并且我有一个注册的开发者帐户。

现在该应用程序已准备好在市场上上传，我有 XAP 文件。

我完成了应用程序提交过程，在包上传步骤，它只允许“.appxupload”文件，但不允许“.xap”文件。

任何人都可以指导我上传我的应用程序 xap 文件。

提前致谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-01T16:18:37.707

Windows 8 商店[http://dev.windows.com](http://dev.windows.com) 需要 .appxupload

Windows Phone 商店[http://dev.windowsphone.com](http://dev.windowsphone.com)需要 .xap

如果您有 .xap 并且它要求 .appxupload，那么您在错误的商店中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-23T15:59:35.077

我相信实际的 XAP 上传组件仍然使用 Silverlight（我上传时总是看到 Silverlight 加载动画出现）。尝试确保您已安装 Silverlight 并使用支持它的浏览器。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-01T20:37:09.317

您需要使用安装了 silverlight 的 Internet Explorer，否则它只会挂起和崩溃。不要使用 Chrome。这是对应用程序提交的死刑判决。

# c# - MVC 4 控制器 - 使用动态 StaffID 和 BusinessID 而不是硬编码的

> ID：15018524
> 
> 赞同：0
> 
> 时间：2013-02-22T06:54:43.357
> 
> 标签：c#, sql-server, asp.net-mvc, asp.net-mvc-4

我正在建立一个在线预约系统，以便人们可以在线预约医生。我已经粗略地构建了我的 MVC 4 控制器，以便我可以使用我必须为每个医生获取可用预约的存储过程来测试它。

下面你会看到我在控制器中硬编码了 10 位医生，但我需要从 URL 中提取医生 ID，并且医生的数量可能会有所不同（第一页可能有 10 位医生，但最后一页只有 1 位医生页）。

注意：我还需要将“BusinessID”添加到控制器和存储过程中，因为每个医生都可以在多个企业工作。

URL 将类似于（DOC ID 将有 2 个部分：StaffID-BusinessID）：

```
http://mydomain.com/Bookings?start=2013-01-01&StaffID=1-1&StaffID=2-1&StaffID=3-1&StaffID=4-1&StaffID=5-1&StaffID=6-1 
```

我的问题是：

1.  如何更改控制器，以便医生 ID（StaffID）和 BusinessID 可以从 url 动态完成（参见上面的示例 URL）？
2.  如何为 URL 中的每个 SaffID-BusinessID 动态构建控制器中的部分（请参阅注释中带有***的部分）？
3.  我怎样才能更好地优化它？

----获取可用时隙控制器----

```
 public ActionResult Index(DateTime? start)
    {
        if (!start.HasValue )
        {
            start = DateTime.Today;
        }

        //get date information (this will always be 7 days)
        var day1 = start.Value.Date;
        var day2 = day1.AddDays(1);
        var day3 = day1.AddDays(2);
        var day4 = day1.AddDays(3);
        var day5 = day1.AddDays(4);
        var day6 = day1.AddDays(5);
        var day7 = day1.AddDays(6);

        //***NOTE: THIS IS HARD CODED TO TEN DOCTORS BUT WILL NEED TO BE ABLE TO GET A DYNAMIC AMOUNT OF DOCTORS AS SOME PAGES MAY ONLY HAVE A FEW DOCTORS ON IT
        //NOTE: Stored Procedure = SP_GetAvailableAppointments @StaffID int = 0, @StartDate Date = NULL, @NumberOfDays INT = 1);
        //get doc1 appointments for the next 7 days
        var model1 = db.SP_GetAvailableAppointments(1, start, 1);
        var model2 = db.SP_GetAvailableAppointments(1, day2, 1);
        var model3 = db.SP_GetAvailableAppointments(1, day3, 1);
        var model4 = db.SP_GetAvailableAppointments(1, day4, 1);
        var model5 = db.SP_GetAvailableAppointments(1, day5, 1);
        var model6 = db.SP_GetAvailableAppointments(1, day6, 1);
        var model7 = db.SP_GetAvailableAppointments(1, day7, 1);

        //get doc2 appointments for the next 7 days
        var model8 = db.SP_GetAvailableAppointments(2, day1, 1);
        var model9 = db.SP_GetAvailableAppointments(2, day2, 1);
        var model10 = db.SP_GetAvailableAppointments(2, day3, 1);
        var model11 = db.SP_GetAvailableAppointments(2, day4, 1);
        var model12 = db.SP_GetAvailableAppointments(2, day5, 1);
        var model13 = db.SP_GetAvailableAppointments(2, day6, 1);
        var model14 = db.SP_GetAvailableAppointments(2, day7, 1);

        //get doc3 appointments for the next 7 days
        var model15 = db.SP_GetAvailableAppointments(2, day1, 1);
        var model16 = db.SP_GetAvailableAppointments(2, day2, 1);
        var model17 = db.SP_GetAvailableAppointments(2, day3, 1);
        var model18 = db.SP_GetAvailableAppointments(2, day4, 1);
        var model19 = db.SP_GetAvailableAppointments(2, day5, 1);
        var model20 = db.SP_GetAvailableAppointments(2, day6, 1);
        var model21 = db.SP_GetAvailableAppointments(2, day7, 1);

        //get doc4 appointments for the next 7 days
        var model22 = db.SP_GetAvailableAppointments(2, day1, 1);
        var model23 = db.SP_GetAvailableAppointments(2, day2, 1);
        var model24 = db.SP_GetAvailableAppointments(2, day3, 1);
        var model25 = db.SP_GetAvailableAppointments(2, day4, 1);
        var model26 = db.SP_GetAvailableAppointments(2, day5, 1);
        var model27 = db.SP_GetAvailableAppointments(2, day6, 1);
        var model28 = db.SP_GetAvailableAppointments(2, day7, 1);

        //get doc5 appointments for the next 7 days
        var model29 = db.SP_GetAvailableAppointments(2, day1, 1);
        var model30 = db.SP_GetAvailableAppointments(2, day2, 1);
        var model31 = db.SP_GetAvailableAppointments(2, day3, 1);
        var model32 = db.SP_GetAvailableAppointments(2, day4, 1);
        var model33 = db.SP_GetAvailableAppointments(2, day5, 1);
        var model34 = db.SP_GetAvailableAppointments(2, day6, 1);
        var model35 = db.SP_GetAvailableAppointments(2, day7, 1);

        //get doc6 appointments for the next 7 days
        var model36 = db.SP_GetAvailableAppointments(2, day1, 1);
        var model37 = db.SP_GetAvailableAppointments(2, day2, 1);
        var model38 = db.SP_GetAvailableAppointments(2, day3, 1);
        var model39 = db.SP_GetAvailableAppointments(2, day4, 1);
        var model40 = db.SP_GetAvailableAppointments(2, day5, 1);
        var model41 = db.SP_GetAvailableAppointments(2, day6, 1);
        var model42 = db.SP_GetAvailableAppointments(2, day7, 1);

        //get doc7 appointments for the next 7 days
        var model43 = db.SP_GetAvailableAppointments(2, day1, 1);
        var model44 = db.SP_GetAvailableAppointments(2, day2, 1);
        var model45 = db.SP_GetAvailableAppointments(2, day3, 1);
        var model46 = db.SP_GetAvailableAppointments(2, day4, 1);
        var model47 = db.SP_GetAvailableAppointments(2, day5, 1);
        var model48 = db.SP_GetAvailableAppointments(2, day6, 1);
        var model49 = db.SP_GetAvailableAppointments(2, day7, 1);

        //get doc8 appointments for the next 7 days
        var model50 = db.SP_GetAvailableAppointments(2, day1, 1);
        var model51 = db.SP_GetAvailableAppointments(2, day2, 1);
        var model52 = db.SP_GetAvailableAppointments(2, day3, 1);
        var model53 = db.SP_GetAvailableAppointments(2, day4, 1);
        var model54 = db.SP_GetAvailableAppointments(2, day5, 1);
        var model55 = db.SP_GetAvailableAppointments(2, day6, 1);
        var model56 = db.SP_GetAvailableAppointments(2, day7, 1);

        //get doc9 appointments for the next 7 days
        var model57 = db.SP_GetAvailableAppointments(2, day1, 1);
        var model58 = db.SP_GetAvailableAppointments(2, day2, 1);
        var model59 = db.SP_GetAvailableAppointments(2, day3, 1);
        var model60 = db.SP_GetAvailableAppointments(2, day4, 1);
        var model61 = db.SP_GetAvailableAppointments(2, day5, 1);
        var model62 = db.SP_GetAvailableAppointments(2, day6, 1);
        var model63 = db.SP_GetAvailableAppointments(2, day7, 1);

        //get doc10 appointments for the next 7 days
        var model64 = db.SP_GetAvailableAppointments(2, day1, 1);
        var model65 = db.SP_GetAvailableAppointments(2, day2, 1);
        var model66 = db.SP_GetAvailableAppointments(2, day3, 1);
        var model67 = db.SP_GetAvailableAppointments(2, day4, 1);
        var model68 = db.SP_GetAvailableAppointments(2, day5, 1);
        var model69 = db.SP_GetAvailableAppointments(2, day6, 1);
        var model70 = db.SP_GetAvailableAppointments(2, day7, 1);

        //new Json Object - myDates
        var myDates = new 
        {
            date1 = day1.ToShortDateString(),
            date2 = day2.ToShortDateString(),
            date3 = day3.ToShortDateString(),
            date4 = day4.ToShortDateString(),
            date5 = day5.ToShortDateString(),
            date6 = day6.ToShortDateString(),
            date7 = day7.ToShortDateString(),
            dname1 = day1.DayOfWeek.ToString(),
            dname2 = day2.DayOfWeek.ToString(),
            dname3 = day3.DayOfWeek.ToString(),
            dname4 = day4.DayOfWeek.ToString(),
            dname5 = day5.DayOfWeek.ToString(),
            dname6 = day6.DayOfWeek.ToString(),
            dname7 = day7.DayOfWeek.ToString(),
            ndate = day1.AddDays(7).ToString("yyyy-MM-dd"), //next start date
            pdate = day1.AddDays(-7).ToString("yyyy-MM-dd") //previous start date
        };

        //***NOTE: THIS IS HARD CODED TO TEN DOCTORS BUT WILL NEED TO BE ABLE TO GET A DYNAMIC AMOUNT OF DOCTORS AS SOME PAGES MAY ONLY HAVE A FEW DOCTORS ON IT
        //new Json Object - doc1
        var doc1 = new
        {
            staffid = 1,
            day1 = model1,
            day2 = model2,
            day3 = model3,
            day4 = model4,
            day5 = model5,
            day6 = model6,
            day7 = model7
        };

        //new Json Object - doc2
        var doc2 = new
        {
            staffid = 2,
            day1 = model8,
            day2 = model9,
            day3 = model10,
            day4 = model11,
            day5 = model12,
            day6 = model13,
            day7 = model14
        };

        //new Json Object - doc3
        var doc3 = new
        {
            staffid = 3,
            day1 = model15,
            day2 = model16,
            day3 = model17,
            day4 = model18,
            day5 = model19,
            day6 = model20,
            day7 = model21
        };

        //new Json Object - doc5
        var doc4 = new
        {
            staffid = 4,
            day1 = model22,
            day2 = model23,
            day3 = model24,
            day4 = model25,
            day5 = model26,
            day6 = model27,
            day7 = model28
        };

        //new Json Object - doc5
        var doc5 = new
        {
            staffid = 5,
            day1 = model29,
            day2 = model30,
            day3 = model31,
            day4 = model32,
            day5 = model33,
            day6 = model34,
            day7 = model35
        };

        //new Json Object - doc6
        var doc6 = new
        {
            staffid = 6,
            day1 = model36,
            day2 = model37,
            day3 = model38,
            day4 = model39,
            day5 = model40,
            day6 = model41,
            day7 = model42
        };

        //new Json Object - doc7
        var doc7 = new
        {
            staffid = 7,
            day1 = model43,
            day2 = model44,
            day3 = model45,
            day4 = model46,
            day5 = model47,
            day6 = model48,
            day7 = model49
        };

        //new Json Object - doc8
        var doc8 = new
        {
            staffid = 8,
            day1 = model50,
            day2 = model51,
            day3 = model52,
            day4 = model53,
            day5 = model54,
            day6 = model55,
            day7 = model56
        };

        //new Json Object - doc10
        var doc9 = new
        {
            staffid = 9,
            day1 = model57,
            day2 = model58,
            day3 = model59,
            day4 = model60,
            day5 = model61,
            day6 = model62,
            day7 = model63
        };

        //new Json Object - doc10
        var doc10 = new
        {
            staffid = 10,
            day1 = model64,
            day2 = model65,
            day3 = model66,
            day4 = model67,
            day5 = model68,
            day6 = model69,
            day7 = model70
        };

        //Output the Json results
        return Json(new
        {
            myDates,
            doc1,
            doc2,
            doc3,
            doc4,
            doc5,
            doc6,
            doc7,
            doc8,
            doc9,
            doc10
        }, JsonRequestBehavior.AllowGet); 
```

----需要的JSON结果----

```
{
"myDates": {
    "date1": "22/02/2013",
    "date2": "23/02/2013",
    "date3": "24/02/2013",
    "date4": "25/02/2013",
    "date5": "26/02/2013",
    "date6": "27/02/2013",
    "date7": "28/02/2013",
    "dname1": "Friday",
    "dname2": "Saturday",
    "dname3": "Sunday",
    "dname4": "Monday",
    "dname5": "Tuesday",
    "dname6": "Wednesday",
    "dname7": "Thursday",
    "ndate": "2013-03-01",
    "pdate": "2013-02-15"
},
"doc1": {
    "staffid": 1,
    "day1": [{
        "ID": 34022,
        "StaffID": 1,
        "BusinessID": 1,
        "SlotDay": "Friday",
        "SlotTime": {
            "Ticks": 324000000000,
            "Days": 0,
            "Hours": 9,
            "Milliseconds": 0,
            "Minutes": 0,
            "Seconds": 0,
            "TotalDays": 0.375,
            "TotalHours": 9,
            "TotalMilliseconds": 32400000,
            "TotalMinutes": 540,
            "TotalSeconds": 32400
        },
        "StartDate": "\/Date(1325336400000)\/",
        "EndDate": "\/Date(1577797200000)\/",
        "SlotType": 1,
        "Created": "\/Date(1361389440000)\/",
        "CreatedBy": null,
        "Modified": "\/Date(1361389440000)\/",
        "ModifiedBy": null,
        "Active": true,
        "SlotDate": "\/Date(1361451600000)\/"
    }]
}
} 
```

---更新：----我能够从我的控制器获得以下 json 输出，但我需要从 myDates 和 myStaff 中删除“键”和“值”，并按日期对约会时间进行分组 - 例如：date0 ，日期1，日期2..

```
{
"myDates": [{
    "Key": "date0",
    "Value": "23/02/2013"
}, {
    "Key": "date1",
    "Value": "24/02/2013"
}, {
    "Key": "date2",
    "Value": "25/02/2013"
}, {
    "Key": "date3",
    "Value": "26/02/2013"
}, {
    "Key": "date4",
    "Value": "27/02/2013"
}, {
    "Key": "date5",
    "Value": "28/02/2013"
}, {
    "Key": "date6",
    "Value": "1/03/2013"
}, {
    "Key": "dname0",
    "Value": "Saturday"
}, {
    "Key": "dname1",
    "Value": "Sunday"
}, {
    "Key": "dname2",
    "Value": "Monday"
}, {
    "Key": "dname3",
    "Value": "Tuesday"
}, {
    "Key": "dname4",
    "Value": "Wednesday"
}, {
    "Key": "dname5",
    "Value": "Thursday"
}, {
    "Key": "dname6",
    "Value": "Friday"
}, {
    "Key": "ndate",
    "Value": "2013-03-02"
}, {
    "Key": "pdate",
    "Value": "2013-02-16"
}],
"myStaff": [{
    "Key": "staff0",
    "Value": [
        [{
            "SlotID": 42501,
            "StaffID": 1,
            "BusinessID": 1,
            "SlotDate": "23/02/2013",
            "SlotDay": "Saturday",
            "SlotTime": "10:00"
        }, {
            "SlotID": 42502,
            "StaffID": 1,
            "BusinessID": 1,
            "SlotDate": "23/02/2013",
            "SlotDay": "Saturday",
            "SlotTime": "10:30"
        }],
        [{
            "SlotID": 47001,
            "StaffID": 1,
            "BusinessID": 1,
            "SlotDate": "24/02/2013",
            "SlotDay": "Sunday",
            "SlotTime": "10:00"
        }, {
            "SlotID": 47002,
            "StaffID": 1,
            "BusinessID": 1,
            "SlotDate": "24/02/2013",
            "SlotDay": "Sunday",
            "SlotTime": "10:30"
        }]
    ]
}]
} 
```

基本上，我需要得到如下格式的 json：

```
{
"myDates": [{
    "date0": "23/02/2013",
    "date1": "24/02/2013",
    "date2": "25/02/2013",
    "date3": "26/02/2013",
    "date4": "27/02/2013",
    "date5": "28/02/2013",
    "date6": "1/03/2013",
    "dname0": "Saturday",
    "dname1": "Sunday",
    "dname2": "Monday",
    "dname3": "Tuesday",
    "dname4": "Wednesday",
    "dname5": "Thursday",
    "dname6": "Friday",
    "ndate": "2013-03-02",
    "pdate": "2013-02-16",
}],
"myStaff": [{
    "staff0": {[ 
      "date0": {[
        [{
            "SlotID": 42501,
            "StaffID": 1,
            "BusinessID": 1,
            "SlotDate": "23/02/2013",
            "SlotDay": "Saturday",
            "SlotTime": "10:00"
        }, {
            "SlotID": 42502,
            "StaffID": 1,
            "BusinessID": 1,
            "SlotDate": "23/02/2013",
            "SlotDay": "Saturday",
            "SlotTime": "10:30"
        }],
      "date1": {[
            "SlotID": 47001,
            "StaffID": 1,
            "BusinessID": 1,
            "SlotDate": "24/02/2013",
            "SlotDay": "Sunday",
            "SlotTime": "10:00"
        }, {
            "SlotID": 47002,
            "StaffID": 1,
            "BusinessID": 1,
            "SlotDate": "24/02/2013",
            "SlotDay": "Sunday",
            "SlotTime": "10:30"
        }]
    ]}
}]
}]
} 
```

这是我的控制器：

```
 public ActionResult Index(DateTime start, string id = null)
    {

        var allids = Request.QueryString["id"];

        // split the input into anonymous objects containing staffid and businessid
        var staffids = from staffid in allids.Split(',').Select(x => x.Split('-'))
            select new { sid = int.Parse(staffid[0]), bid = int.Parse(staffid[1]) };

        // get the days you need
        var days = Enumerable.Range(0, 7).Select(x => start.AddDays(x));

        // create myDates
        int i = 0;
        var myDates = (from day in days
                       select new  KeyValuePair<string, string>(
                          String.Format("date{0}", i++),
                          day.ToShortDateString())).ToList();
        i = 0;
        myDates.AddRange(
                      (from day in days
                       select new  KeyValuePair<string, string>(
                          String.Format("dname{0}", i++),
                          day.DayOfWeek.ToString())).ToList());
        myDates.Add(new KeyValuePair<string, string>("ndate", days.First().AddDays(7).ToString("yyyy-MM-dd")));
        myDates.Add(new KeyValuePair<string, string>("pdate", days.First().AddDays(-7).ToString("yyyy-MM-dd")));

        // receive all the stored_procedures
        i = 0;
        var myStaff = from staff in staffids
                      select new KeyValuePair<string, object>(
                         String.Format("staff{0}", i++),
                         (from day in days
                          select db.Database.SqlQuery<GetAvailableAppointments>("EXEC SP_GetAvailableAppointments @StaffID, @BusinessID, @StartDate",
                            new SqlParameter("StaffID", staff.sid),
                            new SqlParameter("BusinessID", staff.bid),
                            new SqlParameter("StartDate", day))).ToList()
                     );

        return Json(new { myDates, myStaff }, JsonRequestBehavior.AllowGet);

    } 
```

任何帮助，将不胜感激 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:18:41.380

也许您还想为此使用 mvc 路由，添加一个新路由（具有 ScheduleController）

```
//Added UrlParameter.Optional so you can set Default values
routes.MapRoute(
    name: "Schedule",
    url: "Schedule/Get/{start}/{id}",
    defaults: new { 
                   controller = "Schedule", 
                   action = "index", 
                   start = UrlParameter.Optional, 
                   id = UrlParameter.Optional 
              }
); 
```

这样你就可以用一个像这样的 url 调用 action 方法

```
 http://mydomain.com/Bookings/Get/2013-2-23/1-3,2-5 
```

如果控制器动作索引有签名

```
 public ActionResult Index(DateTime? start, string id = "") 
```

然后，MVC 模型绑定将自动将 url 中的参数绑定到签名变量。

在你的模型文件夹“MyJsonModels.cs”中创建一个模型并用生命填充它......

```
public class Mydate
{
    public string ndate { get; set; }
    public MyDateNDay[] dates { get; set; }
    public string pdate { get; set; }
}

public class MyDateNDay {
    public string date {get; set;}
    public string day { get; set; }
}

public class Mystaff
{
    public Staff[] staff { get; set; }
}

public class Staff
{
    public int StaffID { get; set; }
    public int BusinessID { get; set; }
    public SlotDate[] SlotDates {get; set; }
}

public class SlotDate
{
    public string Date { get; set; }
    public string SlotDay { get; set; }
    public TimeSlot[] slots { get; set; }
}

public class TimeSlot
{
    public int SlotID { get; set; }
    public string SlotTime { get; set; }
}

public class InputData
{
    public int SlotID { get; set; }
    public int StaffID { get; set; }
    public int BusinessID { get; set; }
    public DateTime SlotDate { get; set; }
    public string SlotDay { get; set; }
    public string SlotTime { get; set; }

    public InputData(int sid, int stid, int bid, DateTime day, string time )
    {
        SlotID = sid;
        StaffID = stid;
        BusinessID = bid;
        SlotDate = day;
        SlotDay = day.DayOfWeek.ToString();
        SlotTime = time;
    }
} 
```

然后在 Index 方法中，您必须执行实际操作...（这不会产生您要求的确切结果，我只是展示如何使用 linq 来简化代码并消除冗余。也许您将使用自行创建的对象来存储结果，而不是使用 KeyValuePairs。同样，它只是一个快速但有效的示例）

```
 public ActionResult Index(DateTime? start, string id = "")
    {

        var startdate = start ?? DateTime.Today;

        // split the input into anonymous objects containing staffid and businessid
        var staffids = from staffid in id.Split(',').Select(x => x.Split('-'))
                       select new { sid = int.Parse(staffid[0]), bid = int.Parse(staffid[1]) };

        // get the days you need
        var days = Enumerable.Range(0, 7).Select(x => startdate.AddDays(x));

        // create myDates
        int i = 0;
        Mydate MyDates = new Mydate() {
            ndate = days.First().AddDays(7).ToString("yyyy-MM-dd"),
            pdate = days.First().AddDays(-7).ToString("yyyy-MM-dd"),
            dates = (
                        from day in days
                            select new MyDateNDay { 
                               date = day.ToShortDateString(), 
                               day  = day.DayOfWeek.ToString()
                            }
                    ).ToArray()
        };

        // example InputData - Array as it might be returned by the sql procedure
        /* I added this Array to simulate a possible procedure result your DB could return,
           maybe you can even add a new procedure that would return the data just as in the
           following Array
        */
        var input = new [] { 
           new InputData( 40501, 1, 1, new DateTime(2013, 02, 20), "09:00"),
           new InputData( 40502, 1, 2, new DateTime(2013, 02, 20), "11:00"),
           new InputData( 42501, 1, 3, new DateTime(2013, 02, 23), "10:00"),
           new InputData( 42502, 1, 3, new DateTime(2013, 02, 23), "10:30"),
           new InputData( 45001, 2, 3, new DateTime(2013, 02, 21), "13:00"),
           new InputData( 45002, 2, 4, new DateTime(2013, 02, 22), "15:30"),
           new InputData( 47001, 2, 5, new DateTime(2013, 02, 24), "10:00"),
           new InputData( 47002, 2, 5, new DateTime(2013, 02, 24), "10:30"),
        };

        // receive all the stored_procedures
        i = 0;
        Mystaff MyStaff = new Mystaff()
        {
            staff = (from staff in staffids
                     select new Staff()
                     {
                         StaffID = staff.sid,
                         BusinessID = staff.bid,
                         SlotDates = (from day in days
                                      select new SlotDate()
                                      {
                                          Date = day.ToShortDateString(),
                                          SlotDay = day.DayOfWeek.ToString(),
                                          slots = ( from result in input
                                                    where // filter Slots that fit the requirements
                                                        day == result.SlotDate
                                                        && result.StaffID == staff.sid
                                                        && result.BusinessID == staff.bid
                                                   select new TimeSlot()
                                                   {
                                                       SlotID = result.SlotID,
                                                       SlotTime = result.SlotTime
                                                   }
                                                  ).ToArray()
                                      }
                                     // filter out days that don't have free slots
                                     ).Where(x => x.slots.Length > 0).ToArray()
                     }
                    ).ToArray()
        };

        return Json(new { MyDates, MyStaff}, JsonRequestBehavior.AllowGet);

    }
} 
```

此 Action-Method 将返回以下 JSON

```
{
    "MyDates":
    {
        "ndate": "2013-03-02",
        "dates": [
            {
                "date": "23.02.2013", "day": "Saturday"
            }, {
                "date": "24.02.2013", "day": "Sunday"
            }, {
                "date": "25.02.2013", "day": "Monday"
            }, {
                "date": "26.02.2013", "day": "Tuesday"
            }, {
                "date": "27.02.2013", "day": "Wednesday"
            }, {
                "date": "28.02.2013", "day": "Thursday"
            }, {
                "date": "01.03.2013", "day": "Friday"
            }],
        "pdate": "2013-02-16"
    },
    "MyStaff":
        {
            "staff": [
                {
                    "StaffID": 1,
                    "BusinessID": 3,
                    "SlotDates": [
                        {
                            "Date": "23.02.2013",
                            "SlotDay": "Saturday",
                            "slots": [
                                { "SlotID": 42501, "SlotTime": "10:00" },
                                { "SlotID": 42502, "SlotTime": "10:30" }
                            ]
                        }]
                }, {
                    "StaffID": 2,
                    "BusinessID": 5,
                    "SlotDates": [
                        {
                            "Date": "24.02.2013",
                            "SlotDay": "Sunday",
                            "slots": [
                                { "SlotID": 47001, "SlotTime": "10:00" },
                                { "SlotID": 47002, "SlotTime": "10:30" }
                            ]
                        }
                    ]
                }
            ]
        }
}; 
```

我同意，这不是您所要求的……但是看看它，它实际上就是您想要的……只是我冒昧地删除了冗余在 JavaScript 中，您可以轻松地浏览数据显示它。使用像上面的 MyJsonClasses 这样的辅助模型可以帮助您以您想要的方式设计 Json-Outputs。

好吧，我希望我没有忘记任何事情。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:11:01.423

首先，将您的控制器签名更改为以下内容：

```
public ActionResult Index(DateTime? start, string staffID) 
```

然后，添加一些逻辑以将其解析`staffID`为您想要的结果，如下所示：

```
var ids = staffID.Split(',');
var staffIds = ids.Select(p => p.Split('-').First()).ToList();
var businessIds = ids.Select(p => p.Split('-').Last()).ToList(); 
```

之后，您可以根据上面的列表进行`staffIds`循环`businessIds`。

# c# - C# mousedown 事件连续按键

> ID：15018525
> 
> 赞同：0
> 
> 时间：2013-02-22T06:54:48.777
> 
> 标签：c#, winforms, sendkeys, mousedown

好的，所以我想做的是，当鼠标按下时，我希望它连续按下一个键。它应该不断地按下这个键，直到我松开。

想象一下，如果你愿意的话，一个窗口窗体上的左右按钮，然后通过单击并按住右键，字母“R”会连续显示在文本框上，直到你释放按钮。我正在做的事情与这种情况几乎没有关系，但你会得到我在这里想要做的事情。

我到底在鼠标中放了什么来保持 sendkeys 在不锁定应用程序的情况下永远运行？

我希望我的问题是有道理的。哈哈。

谢谢

逆转录

```
private void pictureBoxKeyboard_MouseDown(object sender, MouseEventArgs e)
{
//something goes here
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:01:57.800

这值得一读……

[http://msdn.microsoft.com/en-us/library/ms171548.aspx](http://msdn.microsoft.com/en-us/library/ms171548.aspx)

SendKeys.Send("r")

这可能只触发一次，您可能想要附加一个在 MouseDown 事件上启动并在 MouseUp 事件上停止的计时器。然后您可以将 SendKeys 放入 Timer.Tick 事件中。

```
 private void Form1_Load(object sender, EventArgs e)
    {
        this.timer1.Interval = 500;
    }

    private void button1_MouseUp(object sender, MouseEventArgs  e) 
    {
        timer1.Stop();
        this.Text = "moose-Up";
    }

    private void button1_MouseDown(object sender, EventArgs e)
    {
        timer1.Start();
        this.Text = "moose-Down";
        this.richTextBox1.Select();
    }

    private void timer1_Tick(object sender, EventArgs e)
    {
        SendKeys.Send("r");
        Debug.Print("tickling");
    } 
```

选择您希望接收 SendKeys 值的控件...

# python - Python SciPy 卷积与 fftconvolve

> ID：15018526
> 
> 赞同：10
> 
> 时间：2013-02-22T06:54:51.070
> 
> 标签：python, scipy, fft, convolution

我知道一般来说`FFT and multiplication`通常比​​直接`convolve`操作要快，当数组比较大的时候。但是，我将一个非常长的信号（比如 1000 万点）与非常短的响应（比如 1000 点）进行卷积。在这种情况下，这`fftconvolve`似乎没有多大意义，因为它强制第二个数组的 FFT 与第一个数组的大小相同。在这种情况下直接进行卷积会更快吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-22T17:06:05.850

看看我在这里做的比较：

[http://scipy-cookbook.readthedocs.io/items/ApplyFIRFilter.html](http://scipy-cookbook.readthedocs.io/items/ApplyFIRFilter.html)

您的情况可能接近使用普通卷积和使用基于 FFT 的卷积之间的过渡，因此您最好的选择（正如@Dougal 在评论中所建议的那样）是自己计时。

（请注意，在该比较中，我没有进行重叠添加或重叠保存。）

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-05T06:36:10.110

感谢您的帮助。现在我自己做了测试，我用 2 个数组进行卷积，大小分别为 2^20 和 2^4，结果如下：

```
numpy.convolve: 110 ms
scipy.signal.convolve: 1.0 s
scipy.signal.fftconvolve: 2.5 s 
```

所以我们有一个赢家，numpy convolve 比其他的要快得多。我仍然不知道为什么。

* * *

现在我尝试了 2 个更长的数组，大小分别为 2^22 和 2^10。结果是：

```
numpy.convolve: 6.7 s
scipy.signal.convolve: 221 s
scipy.signal.fftconvolve: MemoryError 
```

差别只会越来越大。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-02-22T08:46:40.117

通过重叠添加或重叠保存算法的 FFT 快速卷积可以通过使用仅比脉冲响应大一小倍（例如 2X）的 FFT 在有限的内存中完成。它将长 FFT 分解为适当重叠的较短但零填充的 FFT。

即使有重叠开销，对于足够大的 N 和 M，O(NlogN) 的效率也会超过 M*N。

# php - 如何在onbeforeunload运行脚本

> ID：15018527
> 
> 赞同：3
> 
> 时间：2013-02-22T06:54:54.840
> 
> 标签：php, javascript

嗨，有人请向我解释为什么我的这段代码不起作用

```
 $(document).ready(function()
    {wireUpEvents(); 
    });

    function  wireUpEvents()
    {window.onbeforeunload = function()
        {
        window.location="link"; // on before unload i will run this link first.
        }
    } 
```

当我刷新我的页面时，此代码将运行，但在加载之前它不会转到链接（window.location）但是当我添加这样的警报时

```
window.location="link"; alert("anything"); 
```

它会在加载前转到我的链接。我喜欢消除那个奇怪的alert()。

请随时建议对我的代码进行任何处理。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:08:32.147

试试下面的代码

```
window.onbeforeunload=testfunc;

function testfunc()
{
window.location="link";
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T06:59:36.320

尝试这个 ：

```
<script type="text/javascript"> 
    $(window).bind('beforeunload', function() { 
            window.location="link"; 
        } 
    );
</script> 
```

# arrays - 如何在bash中通过另一个变量获取变量？

> ID：15018528
> 
> 赞同：0
> 
> 时间：2013-02-22T06:54:56.497
> 
> 标签：arrays, bash, variables

我在 bash 中有三个数组。

```
 arr1=(arr2 arr3)
 arr2=(1 2 3 4)
 arr3=(6 7 8 9)
 #How can I get a element of arr2 by arr1? like below:
 ${${arr1[0]}[0} # To get first element in arr2 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T13:07:35.613

一个`eval`少的答案：

```
tmp=arr1[0]
tmp2=${!tmp}
echo ${!tmp2[0]} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T06:58:56.867

使用评估：

```
eval echo \${${arr1[0]}[0]} 
```

# wpf - Datagrid前面的文本框显示失真

> ID：15018529
> 
> 赞同：0
> 
> 时间：2013-02-22T06:54:59.597
> 
> 标签：wpf, mvvm, datagrid, componentone

请查看此图片![http://postimage.org/image/ejdo207rz/](../Images/4bcb4ff2bb0937c659043f012ceeb790.png)

当我在一个数据网格组件前面显示一个文本框时，文本框显示如上。如果我将文本框放在它不在数据网格前面的位置，它会显示得很好。任何想法为什么？可能的解决方案？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T01:14:03.540

我最终通过阅读这篇文章[http://www.rqna.net/qna/znvkk-wpf-richtextbox-selected-text-distorted.html解决了这个问题](http://www.rqna.net/qna/znvkk-wpf-richtextbox-selected-text-distorted.html)

xaml.cs 构造函数中的这行代码似乎可以清除它。

```
RenderOptions.ProcessRenderMode = System.Windows.Interop.RenderMode.SoftwareOnly; 
```

它仍然有点模糊，但至少现在可读。

# ajax - Primefaces 从另一个表单中更新

> ID：15018533
> 
> 赞同：1
> 
> 时间：2013-02-22T06:55:17.023
> 
> 标签：ajax, jakarta-ee, primefaces

我不确定我的 HTML 代码有什么问题。从我读到的，它应该工作。我什至尝试使用`prependId="false"`which 并没有解决找不到 UI 组件的问题。

```
<p:tabView>
        <p:tab title="Tab1" id="tab1">
            <h:form id="form1" prependId="false">
                <p:panelGrid columns="2" id="grid1">

                    <h:outputLabel for="minDraw" value="Starting draw number:" />
                    <p:inputText id="minDraw" value="#{LottoMaxBacking.minDraw}" />
                    <p:commandButton value="Get Frequency From Begining"
                        actionListener="#{LottoMaxBacking.loadAllDrawFreq}"
                        update=":form2:freqTable" />
                </p:panelGrid>
            </h:form>
            <h:form id="form2" prependId="false">
                <p:dataTable var="entry" value="#{LottoMaxBacking.drawFreqList}"
                    id="freqTable">
                    <f:facet name="header">
                        <h:outputText value="#{LottoMaxBacking.tableHeader}" />
                    </f:facet>
                    <p:column sortBy="#{entry.key}" headerText="Ball Number">

                        <h:outputText value="#{entry.key}" />

                    </p:column>
                    <p:column sortBy="#{entry.value}" headerText="Frequency">

                        <h:outputText value="#{entry.value}" />

                    </p:column>

                </p:dataTable>
            </h:form>
        </p:tab>
        <p:tab title="Tab 2"></p:tab>
    </p:tabView> 
```

我试过`":tab1:form2:freqTable"`, `":freqTable"`，`"freqTable"`但它们都不起作用。当我将两个表单作为一个表单放在一起时，它会发现 freqTable 很好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T22:38:14.847

好的，我在再次查看错误消息后终于弄清楚了。

**找不到从“j_idt54:j_idt56”引用的标识符为“:form2:freqTable”的组件**

idt54 指的是 TabView，idt56 指的是命令按钮。所以事实证明，我的按钮的 AJAX 更新字符串不够原始，我的所有其他尝试都引用了错误的父容器。我向 p:tabView 添加了一个 id 并更改了更新字符串并且它起作用了。

```
<p:commandButton value="Get Frequency From Begining" 
    actionListener="#{LottoMaxBacking.loadAllDrawFreq}"
    update="tv:form2:freqTable" /> 
```

# php - Laravel .htaccess 重写规则转换为 IIS

> ID：15018538
> 
> 赞同：11
> 
> 时间：2013-02-22T06:55:39.067
> 
> 标签：php, iis, iis-7, url-rewriting, laravel

Laravel4 框架带有一个默认的 .htaccess 规则来创建漂亮的 url。

规则是这样的。

```
<IfModule mod_rewrite.c>
    Options -MultiViews
    RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^ index.php [L]
</IfModule> 
```

**问题：** IIS 中的等价物是什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-22T15:34:51.993

您可以使用[导入 Apache 规则功能](http://www.iis.net/learn/extensions/url-rewrite-module/importing-apache-modrewrite-rules)将 Apache 规则转换为 IIS。

在您的情况下，它将如下所示：

![进口](../Images/31e718fcf4ab4290247cd5b7346eea0a.png)

或者在`web.config`文件中：

```
<rule name="Imported Rule 1" stopProcessing="true">
    <match url="^" ignoreCase="false" />
    <conditions logicalGrouping="MatchAll">
        <add input="{REQUEST_FILENAME}" matchType="IsFile" ignoreCase="false" negate="true" />
    </conditions>
    <action type="Rewrite" url="index.php" />
</rule> 
```

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-11-29T20:31:29.097

感谢 Oli Folkerd，这对我有用：

```
<?xml version="1.0" encoding="utf-8"?>
<configuration>
    <system.webServer>
        <rewrite>
            <rules>
                <rule name="Laravel4" stopProcessing="true">
                    <match url="^" ignoreCase="false" />
                    <conditions logicalGrouping="MatchAll">
                        <add input="{REQUEST_FILENAME}" matchType="IsDirectory" negate="true" />
                        <add input="{REQUEST_FILENAME}" matchType="IsFile" negate="true" />
                    </conditions>
                    <action type="Rewrite" url="index.php" appendQueryString="true" />
                </rule>
            </rules>
        </rewrite>
    </system.webServer>
</configuration> 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-05-01T11:46:27.130

有几个额外的部分值得放在您的 web.config 文件中

下面的代码允许您使用附加的 PUT 和 DELETE HTTP 动词创建 restfull 控制器，并允许在远程调试服务器时显示 laravel 的自定义错误页面：

```
<?xml version="1.0" encoding="utf-8"?>
<configuration>
    <system.webServer>
        <rewrite>
            <rules>
                <rule name="Laravel4" stopProcessing="true">
                    <match url="^" ignoreCase="false" />
                    <conditions logicalGrouping="MatchAll">
                        <add input="{REQUEST_FILENAME}" matchType="IsDirectory" negate="true" />
                        <add input="{REQUEST_FILENAME}" matchType="IsFile" negate="true" />
                    </conditions>
                    <action type="Rewrite" url="index.php" appendQueryString="true" />
                </rule>
            </rules>
        </rewrite>
        <handlers>
            <remove name="PHP53_via_FastCGI" />
            <add name="PHP53_via_FastCGI" path="*.php" verb="GET,HEAD,POST,PUT,DELETE" modules="FastCgiModule" scriptProcessor="C:\Program Files (x86)\PHP\v5.3\php-cgi.exe" resourceType="Either" requireAccess="Script" />
        </handlers>
        <httpErrors errorMode="Detailed" />
    </system.webServer>
</configuration> 
```

# android - Gmail 帐户同步完成时获取广播接收器

> ID：15018540
> 
> 赞同：2
> 
> 时间：2013-02-22T06:55:51.343
> 
> 标签：android

我正在开发一个android应用程序，当Gmail帐户同步完成时，我的应用程序应该获得广播接收器意图我该怎么做请告诉我

```
contentResolver.registerContentObserver(Uri.parse("content://gmail-ls"), true, gmailObserver); 
```

# c++ - 为什么我们需要 memset 总是为零？

> ID：15018542
> 
> 赞同：2
> 
> 时间：2013-02-22T06:55:56.880
> 
> 标签：c++, c

每当我们使用`memset`时，我们将其设置为零。

为什么？为什么不使用 1 或 2 或其他东西。

此外，将结构设置为 0 似乎有效，但设置为 1 则无效：

```
typedef struct abc{
    int a;
} abc;

int main()
{
    abc* ab;
    memset(ab, 0, sizeof(abc));// it sets abc->a = 0; correct
} 
```

但是，`0`如果我使用`1`类似：

```
memset(ab, 1, sizeof(abc)); 
```

那么`abc->a = garbage`或的值`not equals to 1`

为什么？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-02-22T07:07:36.360

你并不总是需要`memset`0，这只是最常见（和有用）的事情。

`memset`将每个**字节**设置为某个给定值。An`int`由 4 个字节组成，因此，当`memset`ing to时`1`，您将这 4 个中的每一个设置为`1`，然后您将拥有`00000001 | 00000001 | 00000001 | 00000001`[2] = `16843009`[10]（第一个数字是二进制的，最后一个是十进制的）。

另外 - 请注意，您永远不会为`ab`. 即使您的代码现在可以工作，它也不安全。这将是：

```
abc ab;
memset(&ab, 0, sizeof(abc)); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-22T07:12:18.730

正如其他人所提到的，`0`在很大程度上是任意的。但是，如果我们必须选择原因，那是为了方便（以安全为代价——如果你依赖它们，你应该更喜欢显式初始化变量）：

*   0 主要被理解为整数的初始值，有符号或无符号，因为无论宽度或字节顺序如何，它都表示 0
*   0 是`char*`s的字符串结尾
*   对于浮点数，0 通常是 0.0
*   0 通常`NULL`在 C 中，保证`NULL`在 C++ 中

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-22T07:07:53.920

用于将内存设置为的值`memset()`取决于您的需要。就这样。没有人阻止您使用任何其他值来初始化内存。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-22T07:01:44.173

如您的程序中所示，定义变量时，默认情况下它将指向任何位置，并且任何垃圾数据都可以在此之前可用。

我们通常将 memset 设置为 (0)zero 以确保变量被初始化为零，以便稍后在程序中我们可以相信分配给变量的值是真正分配的值而不是任何垃圾。

希望能帮助到你.....

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-02-22T07:09:20.363

首先，您的程序有一个未定义的行为，原因是 abc* ab 的内存；永远不会分配！

其次，要求字符串应该以“null”结尾，这意味着它是结束，所以受此启发，我们在 memset 中使用 null。但是你可以使用任何你想要的值......

# string - 如何索引 Golang 字符串中的字符？

> ID：15018545
> 
> 赞同：127
> 
> 时间：2013-02-22T06:56:04.503
> 
> 标签：string, go, character

如何获得“E”输出而不是 69？

```
package main

import "fmt"

func main() {
    fmt.Print("HELLO"[1])
} 
```

Golang 是否具有将 char 转换为 byte 的功能，反之亦然？

* * *

## 回答 #1

> 赞同：188
> 
> 时间：2013-02-22T08:51:37.360

解释的字符串文字是双引号 "" 之间的字符序列，使用单个字符的（可能是多字节）UTF-8 编码。在 UTF-8 中，ASCII 字符是对应于前 128 个 Unicode 字符的单字节字符。字符串的行为类似于字节片。符文是标识 Unicode 代码点的整数值。所以，

```
package main

import "fmt"

func main() {
    fmt.Println(string("Hello"[1]))              // ASCII only
    fmt.Println(string([]rune("Hello, 世界")[1])) // UTF-8
    fmt.Println(string([]rune("Hello, 世界")[8])) // UTF-8
} 
```

输出：

```
e
e
界 
```

* * *

读：

[Go Programming Language Specification](http://golang.org/ref/spec)关于[转换](http://golang.org/ref/spec#Conversions)的部分。

[Go 博客：Go 中的字符串、字节、符文和字符](https://blog.golang.org/strings)

* * *

## 回答 #2

> 赞同：24
> 
> 时间：2013-02-22T07:08:36.687

[这个](http://play.golang.org/p/LXo0XFKfoE)怎么样？

```
fmt.Printf("%c","HELLO"[1]) 
```

正如彼得指出的那样，允许的不仅仅是 ASCII：

```
fmt.Printf("%c", []rune("HELLO")[1]) 
```

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2018-03-24T11:04:32.203

也可以通过切片完成

```
package main

import "fmt"

func main() {
    fmt.Print("HELLO"[1:2])
} 
```

**注意：**此解决方案仅适用于 ASCII 字符。

* * *

## 回答 #4

> 赞同：10
> 
> 时间：2019-10-03T12:32:09.180

您也可以尝试使用字符串进行类型转换。

```
package main

import "fmt"

func main() {
    fmt.Println(string("Hello"[1]))
} 
```

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2013-02-22T16:18:49.190

Go 并没有真正的字符类型。byte 常用于 ASCII 字符，rune 用于 Unicode 字符，但它们都只是整数类型（uint8 和 int32）的别名。因此，如果您想强制将它们打印为字符而不是数字，则需要使用`Printf("%c", x)`. `%c`格式规范适用于任何整数类型。

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2013-02-22T07:29:58.120

将 char 解释为字符串的一般解决方案是`string("HELLO"[1])`.

当然，Rich 的解决方案也有效。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2019-06-07T12:46:38.617

**试试这个通过他们的索引来获取字符**

```
package main

import (
      "fmt"
      "strings"
)

func main() {
   str := strings.Split("HELLO","")
    fmt.Print(str[1])
} 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2020-10-01T15:32:56.957

字符串字符是符文，因此要打印它们，您必须将它们转回字符串。

`fmt.Print(string("HELLO"[1]))`

* * *

## 回答 #9

> 赞同：-3
> 
> 时间：2015-01-08T04:50:43.227

隔离字符串中字符的另一种解决方案

```
package main
import "fmt"

   func main() {
        var word string = "ZbjTS"

       // P R I N T 
       fmt.Println(word)
       yo := string([]rune(word)[0])
       fmt.Println(yo)

       //I N D E X 
       x :=0
       for x < len(word){
           yo := string([]rune(word)[x])
           fmt.Println(yo)
           x+=1
       }

} 
```

对于字符串数组也：

```
fmt.Println(string([]rune(sArray[0])[0])) 
```

// = 注释行

* * *

## 回答 #10

> 赞同：-3
> 
> 时间：2021-07-27T01:57:32.247

解决方案将是：

```
 package main

 import "fmt"

func main() {
  str := "HELLO"
  string(str[0])//H
  string(str[1])//E
  string(str[2])//L
  string(str[3])//L
  string(str[4])//O
} 
```

# asp.net-web-api - 从 ASP.NET MVC WEB API 中的存储库层返回更新状态的最佳方法

> ID：15018547
> 
> 赞同：0
> 
> 时间：2013-02-22T06:56:14.520
> 
> 标签：asp.net-web-api

我正在使用带有实体框架和 Backbone.js 的 ASP.NET Web API

我正在开发一个更新模块，允许用户更新他的 XYZ。

现在，更新时可能会出现3种情况

*   成功
*   失败的
*   未找到

所以我决定使用这个名为

```
enum UpdateStatus
{
    Success = 1,
    Failed = 0,
    NotFound = 2
} 
```

所以这就是我的方法的样子

```
public UpdateStatus UpdateXYZ(Model model)
{
    var data = _repo.Table.where(m => m.id == model.id);
    if(data.count == 0)
    {
        return UpdateStatus.NotFound;
    }

    try
    {
        // update here
        return UpdateStatus.Sucess; 
    }
    catch
    {
        // log errors
        return UpdateStatus.Failed;
    }
} 
```

然后稍后在服务层中，我将向我的 web api 操作返回相同的值。然后在 web api 操作中，我会有类似...

```
public HttpResponseMessage Put(Details details)
{
    if (ModelState.IsValid)
    {
        //The server has fulfilled the request and the user agent SHOULD reset the document view which caused the request to be sent.
        //return new HttpResponseMessage(HttpStatusCode.ResetContent);
        UpdateStatus = _magicService.UpdateXYZ(details);
        if (UpdateStatus.Success)
        {
            return new HttpResponseMessage(HttpStatusCode.NoContent);
        }
        else if(UpdateStatus.NotFound)
        {
            return new HttpResponseMessage(HttpStatusCode.Gone);
        }
        return new HttpResponseMessage(HttpStatusCode.Conflict);
    }
    else
    {
        string messages = string.Join("; ", ModelState.Values.SelectMany(x => x.Errors).Select(x => x.ErrorMessage + " - " + (x.Exception == null ? "" : x.Exception.Message)));
        return Request.CreateResponse<string>(HttpStatusCode.BadRequest, messages.ToString());
    } 

} 
```

我已经在我的 repo 层中定义了我的 UpdateStatus 枚举，并且也在 Service 和 Web 层中使用它。想对这种方法发表意见，还是有其他方法可以做到这一点？

请分享您对此的看法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:08:00.803

只要您的域模型不离开您应该使用视图模型的 Web API 的边界，就可以了。

# javascript - jquery自动完成。当你有自动完成并按'enter'时，我不想搜索，实际上它会搜索

> ID：15018548
> 
> 赞同：0
> 
> 时间：2013-02-22T06:56:15.150
> 
> 标签：javascript, input, autocomplete, enter

输入自动完成，你按'enter'键，我会搜索一些东西。但是当你有自动完成并按'enter'时，我不想搜索，实际上当你按'enter'时它会搜索，因为它会捕获 enter 事件并执行搜索功能。

这是第一个功能：自动完成代码：

```
$('input[name=fieldInputName]').autocomplete(names, {
         max: max,    
         minChars: minChars ,   
         width: 149,     
         scrollHeight: 500,   
         matchContains: true,    
         autoFill: false, 
         sortable: true,
         matchSubset :false,
         formatItem: function(row, i, max) {
             return  row[returnSearchkey];
         },
         formatMatch: function(row, i, max) {
             return row[returnSearchkey] ;
         },
         formatResult: function(row) {
            return row[returnSearchkey];
         }
     }).result(function(event, row, formatted) {

     }); 
```

这是第二个功能：将进行搜索的 pressenter 代码：

```
function pressEnter(e){
        e = e || event;
        if (e.keyCode == 13) {
        submitSearch()();
        }
} 
```

输入的HTML：

```
 <input onkeyup="pressEnter(event);"type='text' name='createdBy' /> 
```

当您触发自动完成并通过按“输入”选择一项时，它将执行自动完成并填充所选值，但它也会调用第二个函数“pressEnter（e）”。实际上我想在按下回车时您触发了自动完成但没有执行第二个功能（按Enter）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T09:12:17.073

DOM 中的事件从树中的某处开始，一直到元素（捕获阶段），然后它们冒泡到 DOM（冒泡阶段）。

您可以捕获事件并阻止它传播。它不会被进一步传播，也不会调用附加到例如包装元素的其他事件处理程序（如您的第二个函数）。

在自动完成的事件处理程序中，您应该调用`stopPropagation()`该事件。尽管这不适用于所有浏览器。在 IE9 之前的 IE 中调用该方法`cancelBubble(true)`。

为了防止浏览器的默认行为，您可以这样做`event.preventDefault()`

您可以通过搜索“事件取消”或“事件传播”来了解更多信息，因为这是 JavaScript 中的一个棘手主题

# facebook - 如何通过 Meteor 的账户-facebook 查询 Facebook 用户图片？

> ID：15018552
> 
> 赞同：12
> 
> 时间：2013-02-22T06:56:25.283
> 
> 标签：facebook, meteor

我正在尝试获取经过身份验证的 Facebook 用户的个人资料图片，以便在 Meteor 应用程序中使用。我试过以下

```
Meteor.publish("facebook_avatar_url", function() {
    return Meteor.users.find({_id: this.userId}, {fields: {
        'services.facebook.id': 1,
        'services.facebook.name': 1,
        'services.facebook.gender': 1,
        'services.facebook.picture': 1,
        'services.facebook.picture.data': 1,
        'services.facebook.picture.data.url': 1
    }});
}); 
```

它只返回 id、name 和性别。这似乎是我想要的，也是推荐的解决方案。唯一的问题是没有返回有关用户图片的数据。

在其他一些帖子的建议下，我尝试将以下内容添加到 server/server.js，但它 a) 似乎不是推荐的方法，并且 b) 似乎没有做任何事情。所以，这似乎是一个死胡同，但似乎有人认为它可以用来加载个人资料图片。

```
var getFbPicture;

Accounts.loginServiceConfiguration.remove({
    service: "facebook"
});

Accounts.onCreateUser(function(options, user) {
    if (options.profile) {
        options.profile.picture = getFbPicture(user.services.facebook.accessToken);
        user.profile = options.profile;
    }
    return user;
});

getFbPicture = function(accessToken) {
    var result;
    result = Meteor.http.get("https://graph.facebook.com/me", {
        params: {
            access_token: accessToken,
            fields: 'picture'
        }
    });
    if (result.error) {
        throw result.error;
    }
    return result.data.picture.data.url;
}; 
```

所以，我现在有点不确定该往哪个方向走。这是需要在 Facebook Graph API 上设置权限的东西吗？还是在 Facebook 应用程序上？我在发布功能中有语法错误吗？我需要重新访问 onCreateUser 函数吗？

* * *

## 回答 #1

> 赞同：36
> 
> 时间：2013-02-22T07:32:22.067

改用这个，你不需要访问令牌或任何特殊的东西来获取他们的[个人资料图片](https://developers.facebook.com/docs/reference/api/user/)，只需要他们的 facebook 用户 ID。

```
Accounts.onCreateUser(function(options, user) {
    if (options.profile) {
        options.profile.picture = "http://graph.facebook.com/" + user.services.facebook.id + "/picture/?type=large";
        user.profile = options.profile;
    }
    return user;
}); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-09-16T18:26:35.600

如果你想为 facebook 获取图片

```
Accounts.onCreateUser(function(options, user) {
    if (typeof(user.services.facebook) != "undefined") {
        user.services.facebook.picture = "http://graph.facebook.com/" + user.services.facebook.id + "/picture/?type=large";
    }
    return user;
}); 
```

你可以添加这个辅助函数

```
UI.registerHelper("getImageUser", function (userId) {
    var user= Meteor.users.findOne(userId);
    if (user.services)
    {
        if (user.services.facebook)
            return user.services.facebook.picture;
        if (user.services.twitter)
            return user.services.twitter.profile_image_url;
        if (user.services.google)
            return user.services.google.picture;
    }
    else
    {
        return "images/withOutPhoto.png";
    }
}); 
```

在你的 html

```
<img src="{{getImageUser this._id}}" alt="..."> 
```

# opencv - 浮点矩阵OpenCV中的缺失值

> ID：15018556
> 
> 赞同：2
> 
> 时间：2013-02-22T06:56:33.950
> 
> 标签：opencv, floating-point, missing-data, mat

我想在 OpenCV 的浮点矩阵中重建缺失值。Mat 包含最小值为 0 的浮点值。我试过这个：

1.  将浮点 Mat 转换为 CV_8U 。显示时的 CV_8U 图像（浮动 Mat 中为 0 的点显示为黑色）：

    ![浮动垫到图像](../Images/46f14c96ad65eef33454819e8a0f5984.png)

2.  通过检查 4 邻域中的至少一个当前像素为零的非零像素来生成掩码。**掩码描述要重建的像素**（255 个缺失像素，否则为 0）掩码是：

![面具](../Images/4c315f1e986e9ff0a4632b1eaae7ad23.png)

1.  使用步骤 1 中获得的图像和步骤 2 中的掩码的修复[函数。修复结果：](http://docs.opencv.org/modules/photo/doc/inpainting.html)

![修复结果](../Images/5e8044842ca06b475954317b56324ceb.png)

现在我在缺失的位置（上图）有像素值，但是这个修复不能直接应用于浮点 Mat。它只接受 8 位 1 通道或 3 通道图像。**如何重建/获取浮点 Mat 中的缺失值？**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T16:46:11.963

如果整个图像都可以接受从 float-uchar 转换中丢失精度，则可以执行以下操作：

```
cv::Mat result;
inpainted_image.convertTo(result, CV_32F); 
```

如果您只想填写缺失值，请执行上述操作，然后传输`result`掩码非零的值。

# qt - 如何清除 QSharedMemory

> ID：15018561
> 
> 赞同：2
> 
> 时间：2013-02-22T06:57:03.920
> 
> 标签：qt, shared-memory

我有一个应用程序，它不断地轮询 a`QSharedMemory`以检查是否有东西被写入其中。

但是一旦某些内容被写入和检索，我想清除其内容的共享内存。

有没有办法做到这一点？我不希望再次分离并附加到它，因为我可能希望获得重要信息。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:17:08.887

尝试以下操作：

```
QSharedData data(...);
data.lock();
memset(data.data(), '\0', data.size());
data.unlock(); 
```

# android - Android - 如何使用 DDMS 将文件夹从文件系统复制到 SD 卡？

> ID：15018562
> 
> 赞同：4
> 
> 时间：2013-02-22T06:57:05.923
> 
> 标签：android, android-sdcard, ddms

我在文件系统上有一个文件夹。
该文件夹包含大约**200 个文件**。
我想将其复制到 SD 卡上的特定文件夹中。

**问题是**——

```
DDMS only gives the option of pushing a file onto device? 
Do we have any option of Pushing the complete folder onto device? 
```

我知道有办法以编程方式复制此文件夹，方法是将它们保存在资产中或压缩文件夹并复制它，但我的问题是专门针对`Android DDMS`.

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T07:09:51.953

推吧:-)

例如，您有文件夹`/data/tmp`，并且想将其推送到`/mnt/sdcard`：

```
adb push /data/tmp /mnt/sdcard 
```

抱歉，我忘记了您使用 DDMS。但我只知道如何使用[`adb`](http://developer.android.com/tools/help/adb.html). 您可以在文件`adb`夹中找到该文件`[android-sdk]/platform-tools/`。如果您运行的是 Windows，它可能是`adb.bat`或`adb.exe`.

# asp.net-mvc - 代码优先实体框架连接字符串

> ID：15018563
> 
> 赞同：0
> 
> 时间：2013-02-22T06:57:07.687
> 
> 标签：asp.net-mvc, entity-framework, connection-string

我正在尝试按照此链接 [http://www.asp.net/mvc/tutorials/getting-started-with-aspnet-mvc3/cs/accessing-your-model%27s-data-from-a-controller](http://www.asp.net/mvc/tutorials/getting-started-with-aspnet-mvc3/cs/accessing-your-model%27s-data-from-a-controller)开始.

在使用代码优先方法创建实体时，如何在 VS 中创建 .mdf。我的连接字符串应该是什么？

我的连接字符串

```
<add name="MovieDBContext"
        connectionString="Data Source=|DataDirectory|Movies.mdf"
        providerName="System.Data.EntityClient"/> 
```

创建控制器时在 DataSource 中出现错误。.MDF 的数据源应该是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:11:12.837

如果您尝试使用 LocalDb（即 mdf）

*   providerName 需要首先是“System.Data.SqlClient”。
*   然后您的连接字符串需要更多信息，如下所示：

    "数据源=(LocalDb)\v11.0；初始目录=yourDbName；集成安全=SSPI；AttachDBFilename=|DataDirectory|\Movies.mdf"

如果你想使用 SqlServerCe (sdf) 那么：

*   providerName 需要是“System.Data.SqlServerCe.4.0”
*   连接字符串：

    “数据源=|数据目录|Movies.sdf”

# javascript - 为什么我的 js 文件无法运行？

> ID：15018564
> 
> 赞同：-5
> 
> 时间：2013-02-22T06:57:08.683
> 
> 标签：javascript

我在 html 中有这个：

```
<head>
<meta charset="UTF-8">
<title>asgmt6</title>
<link rel="stylesheet" type="text/css" href="css/asgmt6.css" />
<script type="text/javascript" src="js/linkHandler.js"></script>
</head>

<body>

<div id="menu">
    <ul>
        <li>&nbsp;</li>
        <li><a id="home" href="index.html">HOME</a></li>
   </ul> 
</div> 
```

我的文件路径是正确的，因为它位于与 html 文件位于同一文件夹中的 js 文件夹中。

这是我的名为 linkHandler.js 的 js 文件，它所做的只是加载页面、运行文件，并在单击链接时显示消息。现在我有了和书一样的东西，但它根本不起作用。

```
var HomeLink =
{
init: function()
{
    var link = document.getElementById("home");
    link.onclick = HomeLink.clickHandler;
},
clickHandler: function()
{
alert("Didn't think so....");
}
};

Core.start(HomeLink); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T07:00:08.513

如果您使用的是 firefox，请打开错误控制台窗口。您的脚本中有错误。

```
Timestamp: 22/02/2013 13:58:55
Error: ReferenceError: Core is not defined
Source File: file:///C:/Users/iswanto/Desktop/linkHandler.js
Line: 14 
```

指的是：`Core.start(HomeLink);`

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-22T06:58:20.750

您正在使用一个`Core`未在任何地方定义的名为的对象。
大概它在您忘记包含的另一个文件中。

# graphviz - GraphViz 点文件是确定性的吗？

> ID：15018569
> 
> 赞同：6
> 
> 时间：2013-02-22T06:57:15.433
> 
> 标签：graphviz, dot

我正在使用 Doxygen 在我的源代码中制作一些 GraphViz 点图。

问题：由特定点文件生成的图形是否保证总是产生相同的输出？

对于不同的计算机、一天中的不同时间、不同的体系结构等，情况是否如此？

我正在考虑使用罗盘点来优化我的图表并让它看起来更好。

我想知道图形布局的初始播种是否存在任何“随机性”，或者布局引擎的任何“实现定义”部分是否存在。如果在其他系统上看起来不一样，我不想花很多精力来优化我的系统的输出。这将由 Windows 和 Mac 用户使用。TIA

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2018-03-16T01:45:59.873

我已经尝试了很多不同的渲染环境，比如在线/cli。

如果您使用不同的 graphviz 版本，您很有可能获得不同的结果。在同一个版本中，我从来没有在点图中遇到过不确定性问题。

另一个主题可能是，如果您使用特殊的 utf 字体，它可能会在不同的系统上呈现不同。例如，在 windows 和 mac/unix 上渲染 emoji-Flags。

也许包装器/调用工具（如 doxygen/understand/pygraph/jgraph/gograph 等）可能是不同系统上不同点文件的来源。

我会说点图本身在同一版本中是非常确定的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-06-27T04:35:26.960

我相信，默认情况下，从 graphviz 生成的图是确定性的，因为初始节点放置和求解器就是这样。要生成不同的图像，图形属性“开始”设置为 rand。

参考：[https ://www.graphviz.org/pdf/neatoguide.pdf](https://www.graphviz.org/pdf/neatoguide.pdf)

# haskell - 是否可以让 Leksah 为其工作区使用 cabal-dev 环境？

> ID：15018570
> 
> 赞同：4
> 
> 时间：2013-02-22T06:57:17.320
> 
> 标签：haskell, cabal, leksah, cabal-dev

我试图确保我不会通过使用 cabal-dev 进入依赖地狱，并且我也在尝试将 leksah 用于我的 IDE。但是，当将包添加到 leksah 中的本地工作区时，它会构建包并将其安装到我的用户 ~/.cabal 包空间。

如何强制 leksah 将软件包依赖项安装到我设置的 cabal-dev 环境中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T04:21:19.737

好吧，这不是您正在寻找的快速而干净的解决方案，但是....有一个 leksah 的开发版本可用，它具有“实验性 cabal-dev”支持。如果您`src`稍微浏览一下该目录并检查相关文件，您会看到 IDE 首选项菜单中添加了一个选项，允许您使用 cabal-dev。也有一些更新的代码来相应地安装依赖项。链接在这里：

[https://github.com/leksah/leksah](https://github.com/leksah/leksah)

希望有帮助。

# android - 从 logcat 获取 Android 源信息的 shell 脚本出错

> ID：15018571
> 
> 赞同：0
> 
> 时间：2013-02-22T06:57:19.813
> 
> 标签：android, bash, shell, android-ndk

我正在尝试使用此 shell 脚本从 ndk 获取详细的错误，如此处所述[[link]](https://groups.google.com/d/msg/android-ndk/YeoQxKvf08M/_Ew2IsV1If4J)。但是我遇到了一些错误，我不知道 shell 脚本，有人可以在这里帮助我吗？

**代码**

```
if [ $# -lt 1 ]
then
    echo usage: $0 app
    exit 0
fi

APP=$1
LOG_FILE=$2

if [ ! -n "${ANDROID_NDK}" ]
then
    ANDROID_NDK=`dirname $0`
    echo ANDROID_NDK is not set using ${ANDROID_NDK}
fi

ADDR2LINE=${ANDROID_NDK}/toolchains/arm-linux-androideabi-4.4.3/prebuilt/windows/bin/arm-eabi-addr2line

if [ ! -s $LOG_FILE ]
then
    echo File $LOG_FILE does not exist or empty.
    exit 0
fi

while read LINE
do
    echo $LINE

    if [[ $LINE =~ ^.+\#[0-9]{2}\ +pc\ +([0-9A-Fa-f]{8})\ +(.+\.so).?$ ]] 
    then
            ADDR=${BASH_REMATCH[1]}
            SO=`basename ${BASH_REMATCH[2]}`
            SRC=`${ADDR2LINE} -C -f -e ${ANDROID_NDK}/out/apps/${APP}/armeabi/$
{SO} ${ADDR} 2>/dev/null`
            echo ${SRC} 
```

**输出**

```
./stack.sh: line 42: conditional binary operator expected
./stack.sh: line 42: syntax error near `=~'
./stack.sh: line 42: `        if [[ $LINE =~ ^.+#[0-9]{2}\ +pc\ +([0-9A-Fa-f]{8})\ +(.+\.so).?$ ]] ' 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-30T09:02:21.883

该`=~`运算符是在 Bash 版本 3 中添加的；您可能需要更新。

# iphone - 'NSInternalInconsistencyException'，原因：'NIB 数据无效。' 对于自定义单元

> ID：15018578
> 
> 赞同：3
> 
> 时间：2013-02-22T06:58:14.637
> 
> 标签：iphone, ios, xcode, ios5, ios6

我收到类似的错误
`*** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'The NIB data is invalid.'`

`iOS 5.0`即使我取消选中 AutoLayout 并为 customcell 的所有版本的 iOS 提供部署支持。

```
 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
    {

        static NSString *CustomCellIdentifier = @"GroupListCell";

        GroupListCell *cell = (GroupListCell *)[tableView dequeueReusableCellWithIdentifier: CustomCellIdentifier];

            if (cell == nil)
            {
                NSArray *nib;

                if(UI_USER_INTERFACE_IDIOM()==UIUserInterfaceIdiomPad)
                {
                    nib= [[NSBundle mainBundle] loadNibNamed:@"GroupListCell" owner:self options:nil];
                }
                else{
                    nib= [[NSBundle mainBundle] loadNibNamed:@"GroupListiPhoneCell" owner:self options:nil]; // sigabrt
                }
                // cell implementation code..
           }
} 
```

此代码适用于 iOS6.0，但不适用于 iOS 5.0。
问题是什么？我错过了什么吗？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-22T07:48:38.363

使用下图中设置的值检查 nib 文件
![在此处输入图像描述](../Images/122b1feaccb396af2b5c5e62dd21d142.png)

还要检查`UILabel` `UIButton`文本

![在此处输入图像描述](../Images/b21e4875514cba38c6cf6ab5b40d21bd.png)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-08-15T09:47:34.747

一段时间`AutoLayout`也可能会导致问题。所以采取 xib 文件-检查器窗格-取消勾选`autolayout`。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-22T11:04:22.763

最后我发现了问题。

我的单元格中有一个 textview，即使 Text 属性定义为“Plain”，它也具有属性文本。它在“普通”中没有改变。因为手动更改文本并使用 enter 关键字转到下一行。在内部，它被认为是“属性”。

所以检查 TextView 的文本属性 2 次。:)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-22T07:07:50.830

在您的情况下，可能缺少用于提取单元格的代码。希望以下更正的代码有效。

```
if (cell == nil)
            {
                NSArray *nib;

                if(UI_USER_INTERFACE_IDIOM()==UIUserInterfaceIdiomPad)
                {
                    nib= [[NSBundle mainBundle] loadNibNamed:@"GroupListCell" owner:self options:nil];

                  cell = [nib objectAtindex:0]; 
                }
                else{
                    nib= [[NSBundle mainBundle] loadNibNamed:@"GroupListiPhoneCell" owner:self options:nil]; // sigabrt
                  cell = [nib objectAtindex:0];
                }
                // cell implementation code..
           } 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2014-10-26T06:36:32.143

对于较低版本的 iOS 6，它可能会发生。

为了解决这个问题

然后选择故事板

在`File Inspector`->`Interface Builder Document`取消选中`Use Auto Layout`

和

在`File Inspector`->`Localization`取消选中`Base`并选中`English`

# css - 使用 CSS 创建图像阴影

> ID：15018579
> 
> 赞同：-1
> 
> 时间：2013-02-22T06:58:17.880
> 
> 标签：css

有谁知道如何创建这样的 CSS：

![在此处输入图像描述](../Images/f1232c6afa259250d7490196d4d9cd0d.png)

请帮帮我，实际创建按钮的阴影。

好的，我已经尝试过了，很难创建阴影：

CSS 代码

```
 a{ 
   display: inline-block;
   width:9px; 
   height:9px; 
   border-radius:50px; 
   font-size:20px; 
   color:#fff; 
   line-height:100px; 
   text-align:center; 
   text-decoration:none; 
   background-color: #1f1f1f !important; 
   margin: 2px 2px 2px 2px !important; 
   border: 1px #bebebd inset; 
 }

 a.active {
   display: inline-block;
   width:10px;
   height:10px;
   border-radius:50px;
   font-size:20px;
   color:#fff;
   line-height:100px;
   text-align:center;
   text-decoration:none;
   background-color: #2880d7 !important;
   margin: 2px 2px 2px 2px !important;
   border: 0px;
} 
```

代码

```
<a href="#"></a>
<a href="#" class="active"></a> 
```

请帮帮我，实际创建按钮的阴影。

预先感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:38:44.260

```
a{ 
   display: inline-block;
   width:9px; 
   height:9px; 
   border-radius:50px; 
   font-size:20px; 
   color:#fff; 
   line-height:100px; 
   text-align:center; 
   text-decoration:none; 
   background-color: #1f1f1f !important; 
   margin: 2px 2px 2px 2px !important; 
   border: 1px #bebebd inset;  
    box-shadow: 2px 2px 5px #888888;
 } 
```

用你的 CSS`a{}`类替换它

如果这对您来说还不够，请参阅此[链接](http://www.css3.info/preview/box-shadow/)

# sql - 如何在 SQL SERVER 2008 R2 中连接两个或多个字符串？

> ID：15018582
> 
> 赞同：-1
> 
> 时间：2013-02-22T06:58:26.500
> 
> 标签：sql, sql-server, sql-server-2008, sql-server-2005, sql-server-2008-r2

我想在 SQL Server 2008 R2 中连接两个或多个字符串并将它们逐行显示在一条记录中。

![在此处输入图像描述](../Images/09d0bbf4757e2d14bafa197d12a5fa18.png)

我所拥有的是，

```
shipsite|RatingMonth|Prior|Revised|Comments                    |
mopha   |Nov 2012   | 1   | 2     |rating.element.manual.asn   |
mopha   |Nov 2012   | 1   | 2     |rating.element.packaging    |
mopha   |Nov 2012   | 1   | 2     |rating.element.asn.accuracy |
mopha   |Nov 2012   | 1   | 2     |rating.element.over.shipment|
mopha   |Nov 2012   | 1   | 2     |rating.element.cum.imbalance| 
```

我需要的是，

```
shipsite|RatingMonth|Prior|Revised|Comments                    |
mopha   |Nov 2012   | 1   | 2     |rating.element.manual.asn   |
        |           |     |       |rating.element.packaging    |
        |           |     |       |rating.element.asn.accuracy |
        |           |     |       |rating.element.over.shipment|
        |           |     |       |rating.element.cum.imbalance| 
```

我不能在连接操作中使用任何逗号（，）或撇号（'）或没有特殊字符。那么你对此有什么想法吗？

我的示例查询，

```
select DISTINCT 
 D30.SPGD30_SHIP_SITE_C As ShipSite, LEFT(DATENAME(MONTH, D30.SPGD30_RATING_MONTH_Y), 3) + ' ' + DATENAME(YEAR, D30.SPGD30_RATING_MONTH_Y) As RatingMonth,
 D30.SPGD30_PRIOR_SCORE_R As Prior, D30.SPGD30_REVISED_SCORE_R As Revised, 

case when SUBSTRING(D30.SPGD30_TRACKED_ADJUSTMENT_X,1,1)='D' then 'Dispute - '+D30.SPGD30_TRACKED_ADJUSTMENT_X --
when SUBSTRING(D30.SPGD30_TRACKED_ADJUSTMENT_X,1,1)='R' then 'Return Of Points - '+D30.SPGD30_TRACKED_ADJUSTMENT_X --
when (CHARINDEX('-',D30.SPGD30_TRACKED_ADJUSTMENT_X) > 0 )then 'Score Calculation - '+CONVERT( VARCHAR(8), CAST(D30.SPGD30_TRACKED_ADJUSTMENT_X as DATETIME) , 1)--MM/DD/yy

END AS Adjustments,
J02.SPGJ02_MSG_CODE_X As Comments,
--D31.SPGA04_RATING_ELEMENT_D As Comments,
 D30.SPGD30_LAST_TOUCH_Y As LastUpdated,
D30.SPGD30_LAST_TOUCH_C As LastUpdatedCDSID 

from 
CSPGD30_TRACKING D30, CSPGD31_TRACKING_RATING_ELEMNT D31,
CSPGA04_RATING_ELEMENT_MSTR A04 , CSPGJ02_MSG_OBJ J02, CSPGJ03_MSG_TRANSLN J03

Where D30.SPGD30_SHIP_SITE_C = D31.SPGD30_SHIP_SITE_C -- D30 and D31
and D30.SPGD30_RATING_MONTH_Y = D31.SPGD30_RATING_MONTH_Y --D30 and D31
and D31.SPGA04_RATING_ELEMENT_D = A04.SPGA04_RATING_ELEMENT_D --D31 and A04
and J02.SPGJ02_MSG_K = J03.SPGJ02_MSG_K --J02 and J03

and A04.SPGJ02_MSG_K = J02.SPGJ02_MSG_K --A04 and Jo2
and d30.SPGA02_BUSINESS_TYPE_C = 'prod' -- org
and d30.SPGA03_REGION_C = 'EU' -- region
and d30.SPGD30_SHIP_SITE_C = 'ms01a' -- shipsite
and D30.SPGD30_LAST_TOUCH_Y between '2013-01-01 00:00:00.000'  --rating month
and '2013-01-30 23:59:59.000' -- rating month
and d30.SPGD30_LAST_TOUCH_C = 'sadalara' --CDSID 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:08:37.093

```
SELECT shipsite, RatingMonth, Prior, Revised, Comments = STUFF((
  SELECT CHAR(13) + CHAR(10) + comments
    FROM dbo.YourTable AS x2 
      WHERE x2.shipsite = x.shipsite
      AND x2.RatingMonth = x.RatingMonth
      AND x2.Prior = x.Prior
      AND x2.Revised = x.Revised
    FOR XML PATH, 
    TYPE).value(N'/text().[1]', N'nvarchar(max)'), 1, 2, N'')
FROM dbo.YourTable AS x
GROUP BY shipsite, RatingMonth, Prior, Revised; 
```

# java - 查找连接 GSM 调制解调器/加密狗的 USB 端口的端口号

> ID：15018585
> 
> 赞同：1
> 
> 时间：2013-02-22T06:58:36.597
> 
> 标签：java, usb, gsm

我正在开发 Java EE 应用程序，我想在其中向手机号码发送/接收消息。

为此，我使用了 GSM 调制解调器/加密狗。我在其中插入了 SIM 卡，我将从中将我的消息传输到其他手机或从其他手机传输。

因此，要与 GSM 调制解调器建立连接，我必须找到连接 GSM 调制解调器的 USB 端口号。

所以我的问题是如何找到我的 GSM 调制解调器连接的端口号。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2018-06-02T02:00:02.447

使用[调制解调器管理器](https://www.freedesktop.org/software/ModemManager/man/1.0.0/mmcli.8.html)：

```
mmcli -L # list modems
mmcli -m <modem> # show modem 
```

如果您想获取端口，请参见[此处](https://stackoverflow.com/a/50652831/435504)。

# networking - OpenStack Nova VM 实例没有互联网连接

> ID：15018588
> 
> 赞同：2
> 
> 时间：2013-02-22T06:58:41.077
> 
> 标签：networking, openstack, openstack-nova

我有一个基本的 DevStack 设置。我正在使用 Ubuntu 云映像。我安装 DevStack 的机器正在连接互联网。但是当我登录到一个实例并运行`apt-get update`时，我发现该实例没有互联网连接。我是否缺少允许访问 VM 的步骤？那一步到底是什么？PS：我已经为实例分配了一个浮动IP。这就是我到目前为止所做的一切。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T13:36:02.593

是否`ifconfig`返回正确的 IP？

如果一切正常，请尝试通过 . 检查系统的路由状态`route`。您的 Linux 可能为您选择了错误的默认网关。见[http://www.cyberciti.biz/faq/linux-setup-default-gateway-with-route-command/](http://www.cyberciti.biz/faq/linux-setup-default-gateway-with-route-command/)

# jquery - IE中插入的DOMNode

> ID：15018590
> 
> 赞同：0
> 
> 时间：2013-02-22T06:58:50.027
> 
> 标签：jquery, internet-explorer, cross-browser, dom-manipulation, mutation-events

为什么这段代码在 IE 中不起作用？请帮助修复它：

```
jQuery('body').live('DOMNodeInserted',function(e){
    var parent = jQuery(e.target).parent();
    parent.find("a").css('color','#AA62C6');
    parent.find('a').removeAttr('onmousedown');
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:06:35.363

IE 不支持此事件。这被添加到 IE9，但在实现中似乎有问题。

一个解决方案是在基础（更改 dom 的方法）级别处理 dom 操作。

```
function update(){
    //do some dom manipulation
    $(window).trigger('customupdatedom', parent);
}
$(window).on('customupdatedom', function(e, parent){
    //handle dom change
}) 
```

您还可以
[在 IE 中阅读以下 DOMNodeInserted 等效项吗？](https://stackoverflow.com/questions/2143929/domnodeinserted-equivalent-in-ie)
[DOMNodeInserted 事件](http://help.dottoro.com/ljmcxjla.php)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-06T04:22:54.270

对 IE使用[onreadystatechange ：](http://msdn.microsoft.com/en-us/library/ms536957)

```
var parent;

if (!!document.addEventListener)
  {
  jQuery('body').live('DOMNodeInserted',function(e){
    parent = jQuery(e.target).parent();
    parent.find("a").css('color','#AA62C6');
    parent.find('a').removeAttr('onmousedown');
    });
  }
else
  {
  jQuery("body").get(0).addBehavior("foo.htc");
  jQuery('body').get(0).attachEvent('onreadystatechange',function(e){
    parent = jQuery(e.target).parent();
    parent.find("a").css('color','#AA62C6');
    parent.find('a').removeAttr('onmousedown');
    });  
  } 
```

# heroku - 无法在 Windows 7 中为 heroku 生成 ssh 公钥

> ID：15018591
> 
> 赞同：31
> 
> 时间：2013-02-22T06:58:50.833
> 
> 标签：heroku, ssh, public-key, heroku-toolbelt

当我`heroku login`在我的机器上尝试通过 cmd 时，它说

> 找不到现有的公钥
> 你想生成一个吗？[YN]

之后，当我按“y”并输入时，它说

> 生成新的 ssh 公钥
> 无法生成密钥：“ssh-keygen”不被识别为内部或外部命令可运行程序或批处理文件

请帮我。

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-02-22T19:50:04.737

Heroku 工具带包含 git 分发，其中包含所需的 ssh-keygen.exe 。我刚刚在 C:\Program Files\git\bin 找到它。找到您的 git 文件夹并将其添加到您的系统路径中，如下所述：[superuser.com/questions/284342/](https://superuser.com/questions/284342/what-are-path-and-other-environment-variables-and-how-can-i-set-or-use-them)

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-04-10T09:30:14.257

我有同样的问题，刚刚解决了。我安装了另一个名为 Git Bash 的 CMD，您可以免费下载它（[http://git-scm.com/downloads](http://git-scm.com/downloads)），然后重复其中的命令，它就成功了！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-11-28T18:09:31.843

对于 Win7 64 位用户，该文件`%HerokuPath%s\bin\ssh-keygen.bat`如下所示：

```
@SETLOCAL
@SET HOME=%USERPROFILE%
@"%HerokuPath%\..\Git\bin\ssh-keygen.exe" %* 
```

但是 Heroku 将 Git 安装在 中`Program Files (x86)`，因此如果您将`.bat`文件更新为：

```
@SETLOCAL
@SET HOME=%USERPROFILE%
@"C:\Program Files (x86)\Git\bin\ssh-keygen.exe" %* 
```

然后你应该能够生成你的 ssh 密钥。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-03-01T13:00:40.417

视窗 10-64 位

我已经安装了 git，然后是 heroku toolbelt（我认为它重新安装了 git）

我有`C\Program Files (x86)\Heroku\bin`我的环境变量（可能是在我安装 heroku 工具带时生成的），如果我查看那个文件路径，我有一个 ssh-keygen.bat - 所以看起来我应该能够`ssh-keygen -t rsa`从命令行运行。

那太容易了，相反我得到：

```
C:\Program Files (x86)\Git\bin>ssh-keygen -t rsa -f id_rsa
'"C:\Program Files (x86)\Heroku\..\Git\bin\ssh-keygen.exe"' is not recognized as an internal or external command,
operable program or batch file. 
```

**解决方案**

输入`bash` **命令行**进入 git bash 模式然后运行`ssh-keygen -t rsa`

**混帐巴什：**

```
mamwo@DESKTOP-9GVG6K8 MINGW32 /bin
$ ssh-keygen -t rsa
Generating public/private rsa key pair.
Enter file in which to save the key (/c/Users/mamwo/.ssh/id_rsa):
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /c/Users/mamwo/.ssh/id_rsa.
Your public key has been saved in /c/Users/mamwo/.ssh/id_rsa.pub.
The key fingerprint is:
SHA256:MMMYYYPPPUUUBBBLLIIICCKKEEEEYYYY mamwo@DESKTOP-9GVG6K8
The key's randomart image is: 
```

现在，当我查看 C/User/mamwo/.ssh（对我来说最好的方法是通过 pycharms 文件夹 - Windows 很烂）时，我看到了我的 id_rsa 和 id_rsa.pub

但是这个“无法生成公钥”问题对我来说都是开始的，因为当我将我的仓库（从 gi​​thub）克隆到一台新计算机并发现我可以推送到 github 时，我遇到了一个“我没有要添加的公钥”的问题，但是不是heroku。

现在我有了钥匙 - 我必须添加它们

```
C:\Users\mamwo\Desktop\mv>git push heroku master
Permission denied (publickey).
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.

C:\Users\mamwo\Desktop\mv>heroku keys
You have no keys.

C:\Users\mamwo\Desktop\mv>heroku keys:add
Found an SSH public key at C:/Users/mamwo/.ssh/id_rsa.pub
Would you like to upload it to Heroku? [Yn] 
```

# c# - 不断增长的日志数据

> ID：15018595
> 
> 赞同：3
> 
> 时间：2013-02-22T06:58:56.633
> 
> 标签：c#, database, optimization, logging, database-performance

在我们的应用程序（预订/预订类型）中，我们通过单个`DBAudit`表处理日志数据。

问题在于，由于该表中数据的增长，基于它生成的报告已经“大幅”放缓。有哪些选择（**时间证明**）？

这些可以是有效的选择吗：

1.  通过多个表处理日志
2.  定期自动删除旧数据
3.  将旧数据迁移到其他存档数据库

具有大量活动日志的其他应用程序如何维护这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T07:10:55.780

您可以尝试每隔一段时间预先计算数据中的重要指标，然后根据这些指标构建您的报告。

这将允许您将旧日志数据归档到数据仓库中，而不会影响您的报告。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-24T04:37:34.180

是的，所有这些都是不错的选择，您可能应该尝试实现所有这些：

1.  通过多个表处理日志——也许考虑只在主表中保留最新数据，然后稍后将它们移动到一些历史表中。这取决于运行报告真正需要多少数据。
2.  定期自动删除旧数据——我会考虑在删除数据之前先计算指标。尝试创建尽可能多的不同指标，以减少空间消耗，然后在处理数据时保留结果并删除实际数据。
3.  将旧数据迁移到其他存档数据库——我只会在您真的无法删除任何数据的情况下这样做。

除此之外，您始终可以尝试将索引添加到最常用列的报告表和/或尝试尽可能优化查询。如果这些表中已经存在索引，请确保您定期重新构建这些索引。

# php - 如何创建具有相同名称的不同模块的路由？

> ID：15018597
> 
> 赞同：0
> 
> 时间：2013-02-22T06:59:01.180
> 
> 标签：php, symfony1, propel

我有 2 种不同的模型：类别和页面。我的 schema.yml：

```
propel:
  wiki_category:
    id:           ~
    address:      { type: varchar(255) }
    name:         { type: varchar(255), required: true }
    text:         { type: longvarchar }

  wiki_page:
    id:           ~
    category_id:  { type: integer, foreignTable: wiki_category, foreignReference: id, required: true}
    address:      { type: varchar(255) }
    name:         { type: varchar(255), required: true }
    text:         { type: longvarchar, required: true } 
```

我的路由.yml：

```
category_show:
  url:     /:address.:sf_format
  class:   sfPropelRoute
  options: { model: WikiCategory, type: object }
  param:   { module: category, action: show, sf_format: html }
  requirements: { sf_method: get }
homepage:
  url:   /
  param: { module: category, action: index }
page_show:
  url:     /:address/:address
  class:   sfPropelRoute
  options: { model: WikiPage, type: object }
  param:   { module: page, action: show, sf_format: html }
  requirements: { sf_method: get } 
```

我想制作一条路线，例如`/:address`（来自类别）`/:address`（来自页面）

有没有办法做到这一点？

这个想法是制作一个类别页面，其中包含指向该类别页面的链接。通过按链接执行页面的动作显示。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:37:57.710

由于您有两个具有相同名称的字段，因此 Propel 将无法理解其中一个（来自`/:address/:address`）是用于获取`WikiPage`对象的字段。

第一个*最简单*的选择是`address`在架构中重命名一个。喜欢`address_page`for `wiki_page`，所以你将能够拥有这样的路线`/:address/:address_page`，Propel 将知道如何检索`WikiPage`对象

**但我会向您推荐第二种选择。**

不要使用类`sfPropelRoute`来检索您的对象。改为使用`sfRequestRoute`。然后，您可以为参数指定您想要的任何名称。更明确的东西，例如`/:address_category/:address_page`：

```
page_show:
  url:     /:address_category/:address_page
  class:   sfRequestRoute
  param:   { module: page, action: show, sf_format: html }
  requirements: { sf_method: get } 
```

然后，在动作内部，您必须手动检索对象：

```
$wikiPage = WikiPageQuery::create()
  ->filterByAddress($request->getParameter('address_page'))
  ->leftJoin('WikiPage.WikiCategory')
  ->where('WikiCategory.address = ?', $request->getParameter('address_category'))
  ->findOne(); 
```

只是为了让您知道 sfPropelRoute 的作用（基本上）：

*   尝试使用请求参数和路由配置检索对象
*   如果找不到对象重定向到 404

在您的情况下，您已经检索到对象，如果它不存在，您现在只需转发到 404：

```
$this->forward404Unless($wikiPage); 
```

# python - python中的类相关错误：基本级别

> ID：15018599
> 
> 赞同：0
> 
> 时间：2013-02-22T06:59:14.247
> 
> 标签：python

```
from __future__ import print_function
import pysolr

class SolrFunc:
    def __init__(self,urlx,timex=60):
        self.url=urlx
        self.timer = timex

    def filter_add(self,fill):
        self.filterx = []
        self.filterx.append(fill)

    def filter_adds(self,fills):
        self.filtery= []
        x = fills.split(',')
        for i in x:         
            self.filtery.append(i)

    def query(self):
        solr = pysolr.Solr(self.url,self.timex)
        solr.optimize()
        results = solr.search('*:*',fq = self.filtery)
        for result in results:
            print(result['raw_location']

urly = "http://url/solr/"
testr = SolrFunc(urly,10)
testr.filter_adds('gender:male','country_code:in')
tester.query() 
```

在上面的代码中，我得到：

```
 File "xyz.py", line 26
    urly = "http://url/solr/"
   ^ 
```

SyntaxError：无效的语法

类声明或其他内容是否有问题，因为 url 应该是字符串并且在我执行 urllib.urlopen.read() 时工作​​正常

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T06:59:47.383

您在上一行缺少右括号：

```
print(result['raw_location'] 
```

# python - 如何将值传递给 python 中的@property？

> ID：15018606
> 
> 赞同：0
> 
> 时间：2013-02-22T06:59:30.480
> 
> 标签：python, oop, decorator

所以我正在编写一个修改电视节目标题的python脚本。这比任何事情都更适合练习。我正在尝试使用@property 装饰器，但我误以为当您执行“var.property”时，我认为 var 会传递给属性...所以我正在尝试获取 splitName()能够使用基类中的 hasDots 属性，但我不确定如何将名称 Var 传递给属性。我知道我可以用一种方法来做到这一点，但我正在尝试学习如何使用属性。一旦我可以让基类正常工作， splitName() 方法将成为主要方法。

对此的任何帮助将不胜感激。我对python也很陌生，所以如果我正在做任何“非pythonic”的事情，请告诉我。

```
exceptibleExts = ['.avi','.mkv','mp4']

class Base(object):

    def __init__(self, source):
        self.source = source
        self.isTvShow()

    # this method will return the file name
    def fileName(self):
        for name in self.source:
            name, ext = os.path.splitext(name)
            yield name, ext

    @property
    def isTvShow(self):
        names = self.fileName()
        for name in names:
            if str(name[1]) in exceptibleExts and str(name[1]).startswith('.') == False:
                return True
            else:
                return False

    @property
    def hasDots(self):
        names = self.fileName()
        for name in names:
            if '.' in str(name[0]):
                return True
            else: 
                return False

    @property
    def hasDashes(self):
        names = self.fileName()
        for name in names:
            if '-' in str(name[0]):
                return True
            else:
                return False

    @property
    def startswithNumber(self):
        names = self.fileName()
        for name in names:
            if str(name[0].lstrip()[0].isdigit()):
                return True
            else:
                return False

    @property
    def hasUnderscore(self):
        names = self.fileName()
        for name in names:
            if '_' in str(name[0]):
                return True
            else:
                return False

class names(Base):
    def __init__(self, source):
        self.source = source
        #pass

        self.splitName()

    #this method returns true if the show title is in the file name... if not it will return false
    def hasShowTitle(self):
        pass

    def splitName(self):
        #names = self.fileNames
        showInfo = {}
        for name in self.fileName():
            print name.hasDots 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:35:36.223

当你学习一些东西时，仔细阅读文档是个好主意。

在这里查看第三个代码示例[http://docs.python.org/3/library/functions.html#property](http://docs.python.org/3/library/functions.html#property)

```
class C:
    def __init__(self):
        self._x = None

    @property
    def x(self):
        """I'm the 'x' property."""
        return self._x

    @x.setter
    def x(self, value):
        self._x = value

    @x.deleter
    def x(self):
        del self._x 
```

这就是您为使用内置`property`装饰器定义的属性定义设置器和删除器的方式。

PS：相应的 Python 2 文档在这里：[http ://docs.python.org/2/library/functions.html#property](http://docs.python.org/2/library/functions.html#property)

# coldfusion - Coldfusion线程慢..可能是什么原因造成的..？

> ID：15018613
> 
> 赞同：1
> 
> 时间：2013-02-22T06:59:42.730
> 
> 标签：coldfusion

最近我通过电子邮件从我的 CF 服务器收到错误消息，指出：

> “ColdFusion：无响应服务器警报激活”
> 
> 10 个或更多线程忙碌超过 60 秒。
> 
> *   运行请求总数 - 28
> *   排队的请求总数 - 0
> *   模板运行请求 - 28
> *   模板队列请求 - 0
> *   Flash Remoting 运行请求 - 0
> *   Flash Remoting 排队请求 - 0
> *   CFC 方法 运行请求 - 0
> *   CFC 方法 排队的请求 - 0
> *   Web 服务运行请求 - 0
> *   Web 服务排队请求 - 0

原因会是使用 a`cfthread`需要很长时间吗？在我们的网站上进行处理时，他们有时不得不消耗大量来自外部服务的数据。还是可能是由于`cfthread`任务相互重叠？

任何帮助是极大的赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T20:50:13.020

检查您的 Coldfusion 管理员（在请求调整下），它允许您增加可用线程的数量、当您的请求超过可用线程时将它们排队的深度，以及在终止线程之前让线程运行多长时间。

如果您将自己限制为 10（我认为是默认值）并且 10 个人都点击了占用您可用线程的页面，那么 CF 会将进一步的请求排队。如果您的队列超过了它的限制，则不会接受新的请求（或者它被杀死了？）。那些运行超过 60 秒的线程将被终止，以使这些资源可供下一个人使用。

您确实需要找出需要 60 秒以上的时间来完成和优化它。如果你不能，那么你将不得不增加对更多线程的允许（这将需要更多内存）或者至少让你的队列加深（这会让你的用户感到沮丧，因为他们直到他们的线程得到一个响应才会得到响应执行的机会）。

# c# - 如何以及在何处使用实体框架在 MVVM 模式中应用多个过滤器

> ID：15018614
> 
> 赞同：1
> 
> 时间：2013-02-22T06:59:43.307
> 
> 标签：c#, entity-framework, mvvm, filtering

美好的一天，MVVM 和实体框架大师的大师们！我正在使用 SimpleMVVM 脚手架和 EF 编写基于 MVVM 的应用程序。它应该能够根据来自多个 ComboBox 的多个参数过滤 DataGrid 中的列表。所以可能根本没有过滤（没有选择组合框中的选项）或者可以启用多个过滤器。

我想简单地接近它。因此我编写了 serviceAgent（由 SimpleMVVM 框架提供），它实现了

```
List<event> ListAllEventsOf(int level, int partner, int place, int sport, int participant); 
```

功能。它的所有参数都是事件列表可能具有的所有可能的过滤器。所以这个函数将检查每个参数是否具有有效值。如果是这样，该函数将应用基于位置的选择。

这是我的计划，但我觉得它有问题。MVVM 和 EF 中多重过滤的常用方法是什么？

# c++ - FindChessboardCorners 无法通过长焦距镜头在超大图像上检测棋盘

> ID：15018620
> 
> 赞同：19
> 
> 时间：2013-02-22T07:00:04.913
> 
> 标签：c++, opencv, computer-vision, camera-calibration

我可以将 FindChessboardCorners 函数用于小于 15 兆像素的图像，例如 2k x 1.5k。但是，当我在 DSLR 的图像上使用它时，分辨率为 3700x5300，它不起作用。

我尝试使用 resize() 直接减小图像大小，然后就可以了。

显然，OpenCV 源代码中有一些硬编码或错误。

你能帮我弄清楚，或者给我一个补丁吗？

[我发现有人在 2006 年在这里](http://tech.groups.yahoo.com/group/OpenCV/message/41563)发布了类似的问题，所以看起来问题仍然存在。

我使用的代码就像

```
found = findChessboardCorners( viewGray, boardSize, ptvec,
                                CV_CALIB_CB_ADAPTIVE_THRESH + CV_CALIB_CB_FILTER_QUADS + CV_CALIB_CB_NORMALIZE_IMAGE + CV_CALIB_CB_FAST_CHECK); 
```

**更新**

只是在这里澄清一下。我认为该算法适用于大图像分辨率，但当棋​​盘占据图像的较大比例时它会失败。例如，当我在同一相机位置使用 50mm 固定镜头时，FindChessboardCorners 永远不会失败。在我将其更改为 100mm 固定镜头后，该功能开始停止检测图案。我认为这与比例或焦距有关。

下图是 100mm 镜头的结果。

**更新 2**

我为大图像添加了锐化滤镜，它开始解决问题。

首先我用

```
//do a sharpen filter for the large resolution image
if (viewGray.cols > 1500)
{
  Mat temp ;
  GaussianBlur(viewGray,temp, Size(0,0), 105) ; //hardcoded filter size, to be tested on 50 mm lens
  addWeighted(viewGray, 1.8, temp, -0.8,0,viewGray) ; //hardcoded weight, to be tested.
//imwrite("test"+ imageList[k][i], viewGray) ;

}

found = findChessboardCorners( viewGray, boardSize, ptvec,
CV_CALIB_CB_ADAPTIVE_THRESH + CV_CALIB_CB_FILTER_QUADS + CV_CALIB_CB_NORMALIZE_IMAGE + CV_CALIB_CB_FAST_CHECK); 
```

**上传图片：**

原始分辨率为 3744 x 5616 的 jpg 图像，如果此站点强制转换，请确保您使用正确的分辨率。

![原始分辨率为 3744 x 5616 的 jpg 图像，如果此站点强制转换，请确保您使用正确的分辨率。](../Images/3a40e1a91b7eeea4022a20040cf638e5.png)

* * *

## 回答 #1

> 赞同：32
> 
> 时间：2013-02-25T19:22:59.867

几点。

1.  正如您所注意到的，缩小尺寸有助于检测器。这是因为 OpenCV 中用于查找角点的角点检测过滤器具有固定大小，并且卷积掩码的大小可能太小而无法检测到角点 - 在该比例下，全尺寸图像实际上可能看起来“平滑”，特别是稍微模糊的地方。但是，通过缩小比例，您会丢掉一些角落位置的准确性。
2.  出于同样的原因，锐化也有帮助。然而，它也违背了准确性，因为它会增加角落的子像素位置的偏差——即使在没有噪声的理想情况下也是如此。为了让自己相信这种情况，请考虑 1D 模拟：拐角处的图像强度（在 1D 中，清晰的黑白过渡）在理想情况下看起来像 sigmoid 曲线（具有平滑拐角的斜坡），并且您想要找到其拐点的位置。锐化使曲线更陡峭，这通常会移动该点的位置。当您考虑到锐化通常会放大噪音时，情况会变得更糟。
3.  可能的正确方法是从较低的分辨率开始（即缩小尺寸），然后放大由此找到的角的位置，并将它们用作在全分辨率下运行 cvFindCornersSubpix 的初始估计。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-21T20:54:56.190

如果您可以访问 OpenCV 源并且可以重建它，那么也许您可以调试`cvFindChessboardCorners`.

您必须这样做`#define` `DEBUG_CHESSBOARD`，然后您将对理解算法有所帮助。

我认为 OpenCV 2.4 具有这种能力（例如参见[https://github.com/Itseez/opencv/blob/2.4/modules/calib3d/src/calibinit.cpp](https://github.com/Itseez/opencv/blob/2.4/modules/calib3d/src/calibinit.cpp)）。

此外，即使它似乎不适用于您的情况，OpenCV 文档也对校准目标提出了要求：

> **注意**：该功能需要在电路板周围留有空白（如方形粗边框，越宽越好），以使检测在各种环境中更加稳健。否则，如果没有边框且背景较暗，则无法正确分割外部黑色方块，因此方块分组和排序算法失败。

[http://docs.opencv.org/modules/calib3d/doc/camera_calibration_and_3d_reconstruction.html#findchessboardcorners](http://docs.opencv.org/modules/calib3d/doc/camera_calibration_and_3d_reconstruction.html#findchessboardcorners)

问题中的棋盘对于行（6 个角）和列（8 个角）都有偶数个内角，而[参考 OpenCV 棋盘](https://docs.opencv.org/3.4.3/pattern.png) [![在此处输入图像描述](../Images/ad069d22e21be4bf3535ba2da90ec3d9.png)](https://i.stack.imgur.com/XjGu5.png)有偶数/奇数个角，即 9x6，我不知道这是否可能是个问题。

# jsf-2 - 执行 ajax 命令时如何处理验证错误（在 p:dataTable 中）

> ID：15018622
> 
> 赞同：0
> 
> 时间：2013-02-22T07:00:10.370
> 
> 标签：jsf-2, primefaces, validation

我有一个`<p:dataTable editable="true">`包含一个`<p:inputText>`有的`<f:validateLength/>`
_并且有相同的验证我如何在我的 bean 中处理这个验证错误来做我尝试过的某项业务`<p:inputText>``<f:validateLength/>`
`<p:inputText>`

```
FacesContext context = FacesContext.getCurrentInstance();
Iterator<FacesMessage> messages = context.getMessages(); 
```

但我收到消息该怎么办，
我也尝试过

```
FacesContext context = FacesContext.getCurrentInstance();
boolean validationError = context.isValidationFailed(); 
```

我还阅读了文档[FacesContext#isValidationFailed](http://docs.oracle.com/javaee/6/api/javax/faces/context/FacesContext.html#isValidationFailed%28%29)
并且它没有提供有关如何使用它的任何新细节，
但是如果验证成功或失败，它总是返回 false
我是否以错误的方式使用它，或者我错过了这个函数

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:54:38.770

最好的实现方式是创建一个自定义验证器并从组件中调用它。由于您是从组件传递标签，因此您可以在验证器中添加类似**{0} XXXXXXXXXXXXX的消息。**这样，您可以为不同的组件提供不同的错误消息。您可以在属性文件中配置错误消息并在验证器类中读取。

希望这会有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:15:04.803

检查输入字段的[`f:validateLength`](http://docs.oracle.com/javaee/6/javaserverfaces/2.0/docs/pdldocs/facelets/index.html)长度，具体取决于您添加到标签的`maximum`和属性，例如：`minimum`

```
<f:validateLength maximum="5" minimum="2"/> 
```

由于这是 JSF 内置验证器之一，如果您为组件添加`p:message`or`h:message`标记或为整个页面添加全局标记，您将收到一条标准错误消息（如果您愿意，可以更改默认错误消息）。

对于自定义验证，您应该获取的`validator`属性`p:inputText`并将其绑定到支持 bean 中的验证器方法。然后你可以验证你喜欢的任何东西。

# php - php soapserver 加载外部资源

> ID：15018624
> 
> 赞同：0
> 
> 时间：2013-02-22T07:00:16.687
> 
> 标签：php, web-services, soap, wsdl

我有一个 php soapserver 正在运行。它是用原生 php soap 扩展编写的。该服务加载一个本地文件并处理它。

```
file_get_contents("C:/xampp/htdocs/test.xml"); 
```

但是如果我尝试获取这样的网络服务器文件

```
file_get_contents("http://192.168.10.11/test.xml"); 
```

它不起作用，webservie 返回“无法加载外部实体 http”

我无法通过 http 获取文件的 php soapserver 中是否有任何限制？？？？

实际的问题是，我想在那个soapserver 中调用一个webservice。就像一个网络服务链......但这总是失败并出现上述错误消息......

你有什么解决方案吗？

非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:04:34.473

我喜欢使用 curl：

```
$curl_init = curl_init();
curl_setopt($curl_init, CURLOPT_URL, 'http://example.com/test.xml');
curl_setopt($curl_init, CURLOPT_RETURNTRANSFER, 1);
$output = curl_exec($curl_init); 
```

我不明白为什么你正在做的事情不应该工作。有时服务器关闭连接的速度可能很慢......根据这篇文章最多 90 秒： [PHP file_get_contents very slow when using full url](https://stackoverflow.com/questions/3629504/php-file-get-contents-very-slow-when-using-full-url)

你确定网址是正确的？可以在浏览器中访问吗？

# android - 获取纬度和经度的小数点后十二位

> ID：15018636
> 
> 赞同：2
> 
> 时间：2013-02-22T07:01:16.477
> 
> 标签：android, service, geolocation, gps

我有一个应用程序，我必须从纬度和经度中获取用户的当前位置。对于这两个值，我必须得到小数点后的 12 位数字。

这是用于获取用户位置的 gps 跟踪器类：

```
public class GPSTracker extends Service implements LocationListener {

    private final Context mContext;

    // flag for GPS status
    boolean isGPSEnabled = false;

    // flag for network status
    boolean isNetworkEnabled = false;

    // flag for GPS status
    boolean canGetLocation = false;

    Location location; // location
    double latitude; // latitude
    double longitude; // longitude
    private String locationUsing;

    // The minimum distance to change Updates in meters
    private static final long MIN_DISTANCE_CHANGE_FOR_UPDATES = 10; // 10 meters

    // The minimum time between updates in milliseconds
    private static final long MIN_TIME_BW_UPDATES = 1000 * 60 * 1; // 1 minute

    // Declaring a Location Manager
    protected LocationManager locationManager;

    public GPSTracker(Context context) {
        this.mContext = context;
        getLocation();
    }

    public Location getLocation() {
        try {
            locationManager = (LocationManager) mContext.getSystemService(LOCATION_SERVICE);

            // getting GPS status
            isGPSEnabled = locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER);

            // getting network status
            isNetworkEnabled = locationManager.isProviderEnabled(LocationManager.NETWORK_PROVIDER);

            if (!isGPSEnabled && !isNetworkEnabled) 
            {
                // no network provider and GPS is enabled
                Log.d("No GPS & Network", "no network provider and GPS is enabled");
            } 

            else 
            {
                this.canGetLocation = true;
//==================================================================================================================
//First it will try to get Location using GPS if it not going to get GPS 
//then it will get Location using Tower Location of your network provider
//==================================================================================================================

                // if GPS Enabled get lat/long using GPS Services
                if (isGPSEnabled) 
                {
                    locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER,MIN_TIME_BW_UPDATES,MIN_DISTANCE_CHANGE_FOR_UPDATES, this);
                    Log.d("GPS", "Get loc using GPS");
                    if (locationManager != null) 
                    {
                        Log.d("locationManager", "locationManager not null");
                        location = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);
                        if (location != null) 
                        {
                            Log.d("location", "location Not null");
                            latitude  = location.getLatitude();
                            longitude = location.getLongitude();
                            setLocationUsing("GPS");
                        }
                    }
                }
                //if GPS is Off then get lat/long using Network
                if (isNetworkEnabled) 
                {                   
                    if (location == null) 
                    {
                        Log.d("Network", "Get loc using Network");
                        locationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER,MIN_TIME_BW_UPDATES,MIN_DISTANCE_CHANGE_FOR_UPDATES, this);

                        if (locationManager != null) 
                        {
                            location = locationManager.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);
                            if (location != null) 
                            {
                                latitude = location.getLatitude();
                                longitude = location.getLongitude();
                                setLocationUsing("Network");
                            }
                        }
                    }
                }

            }

        } 
        catch (Exception e) 
        {
            e.printStackTrace();
        }

        return location;
    }

    /**
     * Stop using GPS listener
     * Calling this function will stop using GPS in your app
     * */
    /*public void stopUsingGPS()
    {
        if(locationManager != null)
        {
            locationManager.removeUpdates(GPSTracker.this);
        }       
    }*/

    /**
     * Function to get latitude
     * */
    public double getLatitude()
    {
        if(location != null)
        {
            latitude = location.getLatitude();
        }

        // return latitude
        return latitude;
    }

    /**
     * Function to get longitude
     * */
    public double getLongitude()
    {
        if(location != null)
        {
            longitude = location.getLongitude();
        }

        // return longitude
        return longitude;
    }

    /**
     * Function to check GPS/Network enabled
     * @return boolean
     * */
    public boolean canGetLocation() {
        return this.canGetLocation;
    }

    /**
     * Function to show settings alert dialog
     * On pressing Settings button will launch Settings Options
     * */
    public void showSettingsAlert(){
        AlertDialog.Builder alertDialog = new AlertDialog.Builder(mContext);

        // Setting Dialog Title
        alertDialog.setTitle("GPS is settings");

        // Setting Dialog Message
        alertDialog.setMessage("GPS is not enabled. Do you want to go to settings menu?");

        // On pressing Settings button
        alertDialog.setPositiveButton("Settings", new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dialog,int which) {
                Intent intent = new Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS);
                mContext.startActivity(intent);
            }
        });

        // on pressing cancel button
        alertDialog.setNegativeButton("Cancel", new DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dialog, int which) {
            dialog.cancel();
            }
        });

        // Showing Alert Message
        alertDialog.show();
    }

    @Override
    public void onLocationChanged(Location location) {
    }

    @Override
    public void onProviderDisabled(String provider) {
    }

    @Override
    public void onProviderEnabled(String provider) {
    }

    @Override
    public void onStatusChanged(String provider, int status, Bundle extras) {
    }

    @Override
    public IBinder onBind(Intent arg0) {
        return null;
    }

    public String getLocationUsing() {
        return locationUsing;
    }

    void setLocationUsing(String locationUsing) {
        this.locationUsing = locationUsing;
    }
} 
```

这是我从中访问 GPSTracker 类的服务类：

```
public class MyAlarmService extends Service {

        String device_id;
    // GPSTracker class
       GPSTracker gps;

       String date_time;

       String lat_str;
       String lon_str;

       static String response_str=null;
        static String response_code=null;
@Override
public void onCreate() {
 // TODO Auto-generated method stub
    //Toast.makeText(this, "Service created", Toast.LENGTH_LONG).show();

    //---get a Record---

    }

@Override
public IBinder onBind(Intent intent) {
 // TODO Auto-generated method stub
 //Toast.makeText(this, "MyAlarmService.onBind()", Toast.LENGTH_LONG).show();
 return null;
}

@Override
public void onDestroy() {
 // TODO Auto-generated method stub
 super.onDestroy();
 //this.stopSelf();
 //Toast.makeText(this, "Service Destroyed.", Toast.LENGTH_LONG).show();
}

@Override
public void onStart(Intent intent, int startId) {
 // TODO Auto-generated method stub
 super.onStart(intent, startId);

 //Toast.makeText(this, "Service Started.", Toast.LENGTH_LONG).show();

//create class object

 gps = new GPSTracker(this);

     // check if GPS enabled        
     if(gps.canGetLocation())
     {

        //double latitude = gps.getLatitude();
        double latitude = gps.getLatitude();
        double longitude =gps.getLongitude();
        String locationUsing = gps.getLocationUsing();

        makeAToast("Latitude: "+latitude+", "+" Longitude: "+longitude);

         final TelephonyManager tm =(TelephonyManager)getBaseContext().getSystemService(Context.TELEPHONY_SERVICE);

         String deviceid = tm.getDeviceId();

         Date formattedDate = new Date(System.currentTimeMillis());

         SimpleDateFormat sdf = new SimpleDateFormat("MM/dd/yyyy hh:mm a", Locale.US);

         date_time = sdf.format(formattedDate);

         SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);
         final String part_id=preferences.getString("Part_Id","");

         final String Tracker = preferences.getString("Tracker_enabled","");

        lat_str=""+latitude;
        lon_str=""+longitude;

        if(haveNetworkConnection())
        {
            if (Tracker.contains("true"))
            {

            Log.i("Tracker value: ", Tracker);  
            sendPostRequest(part_id,deviceid,lat_str,lon_str,date_time);
            }
        }
        else
        {
            //Toast.makeText( getApplicationContext(),"No Internet connection or Wifi available",Toast.LENGTH_LONG).show();
        }
     }
     else
     {
        // GPS or Network is not enabled
        Toast.makeText(getApplicationContext(), "No Network or GPS", Toast.LENGTH_LONG).show();
     }
}

@Override
public boolean onUnbind(Intent intent) {
 // TODO Auto-generated method stub
 // Toast.makeText(this, "Service binded", Toast.LENGTH_LONG).show();
 return super.onUnbind(intent);
}

//=======================================================================================================
//check packet data and wifi
//=======================================================================================================
private boolean haveNetworkConnection() 
{
    boolean haveConnectedWifi = false;
    boolean haveConnectedMobile = false;

    ConnectivityManager cm = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);
    NetworkInfo[] netInfo = cm.getAllNetworkInfo();
    for (NetworkInfo ni : netInfo) 
    {
        if (ni.getTypeName().equalsIgnoreCase("WIFI"))
            if (ni.isConnected())
                haveConnectedWifi = true;
        if (ni.getTypeName().equalsIgnoreCase("MOBILE"))
            if (ni.isConnected())
                haveConnectedMobile = true;
    }
    return haveConnectedWifi || haveConnectedMobile;
}
//=======================================================================================================
    //checking packet data and wifi END
    //=======================================================================================================

//sending async post request---------------------------------------------------------------------------------------
    private void sendPostRequest(final String part_id, final String device_id,final String lat,final String lon, final String status_datetime) {

        class SendPostReqAsyncTask extends AsyncTask<String, Void, String>{

            @Override
            protected String doInBackground(String... params) {

                String result = "";
                HttpClient hc = new DefaultHttpClient();
                String message;

                SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(MyAlarmService.this);
                  final String url_first = preferences.getString("URLFirstPart","");

                HttpPost p = new HttpPost(url_first+"SetTrakerLatLon");
                JSONObject object = new JSONObject();

                try {
                    object.put("PartId",part_id);
                    object.put("DeviceId",device_id);
                    object.put("Lat", lat);
                    object.put("Lon", lon);
                    object.put("DateTime", status_datetime);

                } catch (Exception ex) {

                }

                try {
                message = object.toString();

                p.setEntity(new StringEntity(message, "UTF8"));
                p.setHeader("Content-type", "application/json");
                    HttpResponse resp = hc.execute(p);

                    response_code=""+ resp.getStatusLine().getStatusCode();

                        InputStream inputStream = resp.getEntity().getContent();
                        InputStreamReader inputStreamReader = new InputStreamReader(inputStream);
                        BufferedReader bufferedReader = new BufferedReader(inputStreamReader);
                        StringBuilder stringBuilder = new StringBuilder();
                        String bufferedStrChunk = null;

                        while((bufferedStrChunk = bufferedReader.readLine()) != null){
                            stringBuilder.append(bufferedStrChunk);
                        }

                        response_str= stringBuilder.toString();

                        Log.i("Tracker Response: ",response_str);

                    if (resp != null) {
                        if (resp.getStatusLine().getStatusCode() == 204)
                            result = "true";

                    }

                } catch (Exception e) {
                    e.printStackTrace();

                }

                return result;

            }

            @Override
            protected void onPostExecute(String result) {
                super.onPostExecute(result);

            }           
        }

        SendPostReqAsyncTask sendPostReqAsyncTask = new SendPostReqAsyncTask();
        sendPostReqAsyncTask.execute();     
    }

    //-----------------------------------------------------------------------------------------------

//public void sendDataToServer(String time, String date) {
public void sendDataToServer(String deviceid,String date_time,String latitude,String longitude) {
    // TODO Auto-generated method stub

    try {
        HttpClient client = new DefaultHttpClient();  
        String postURL = "http://192.168.1.60/trackme/trackservice.svc/SetLatLon?";
        HttpPost post = new HttpPost(postURL); 
            List<NameValuePair> params = new ArrayList<NameValuePair>();
            params.add(new BasicNameValuePair("mobileId", deviceid));
            params.add(new BasicNameValuePair("lat", latitude));
            params.add(new BasicNameValuePair("lon", longitude));
            params.add(new BasicNameValuePair("udate", date_time));
            UrlEncodedFormEntity ent = new UrlEncodedFormEntity(params,HTTP.UTF_8);
            post.setEntity(ent);
            Log.i("URL: ",EntityUtils.toString(ent));
            HttpResponse responsePOST = client.execute(post);  
            HttpEntity resEntity = responsePOST.getEntity();  
            if (resEntity != null) {    
                Log.i("RESPONSE",EntityUtils.toString(resEntity));
            }
    } catch (Exception e) {
        e.printStackTrace();
    }
}

private StringBuilder inputStreamToString(InputStream is) {
String line="";
StringBuilder total=new StringBuilder();
BufferedReader buf=new BufferedReader(new InputStreamReader(is));
try {
    while ((line=buf.readLine())!=null) {
        total.append(line); 
    }
} catch (Exception e) {
    // TODO: handle exception
    makeAToast("Cannot connect to server from your device");
}
return total;
}

//to display a toast in case of message
    public void makeAToast(String str) {
        //yet to implement
        Toast toast = Toast.makeText(this,str, Toast.LENGTH_SHORT);
        toast.setGravity(Gravity.CENTER, 0, 0);
        toast.show();
    }

} 
```

目前，我的纬度和经度都得到小数点后 4 位数字。我应该怎么做才能在纬度和经度值之后获得 12 位数字？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T10:41:44.197

用十进制度测量时，您不必在逗号后面加上 12 位数字，这是常见的表示。它不是由任何人完成的。

7 位数字在毫米范围内。

12 位是千分之一毫米。

保留 7 位数字，也可以表示为整数。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T10:53:40.157

根据美国政府

> 用户获得的实际精度取决于政府无法控制的因素，包括大气效应和接收器质量。美国联邦航空局收集的真实数据显示，一些高质量的 GPS SPS 接收器目前提供优于 3 米的水平[**GPS.gov**](http://www.gps.gov/systems/gps/performance/accuracy/)

此精度与小数点后 5 位有关

0.0001 = 11.1 米

0.00001 = 1.11 米

因此，对于安卓设备来说，4 位的准确度是合理的。

# objective-c - 替换、移动 NSMutableArray 中的对象

> ID：15018637
> 
> 赞同：2
> 
> 时间：2013-02-22T07:01:17.100
> 
> 标签：objective-c, xcode, arrays, for-loop, nsmutablearray

我有一个数组，我已经将容量设置为 5。我想要做的是，当我添加一个对象并且容量超过 5 时，它会将对象的整个数组结构移动一个。例如 1,2,3,4,5（数组）。然后当添加 6 时，它必须替换 5 并删除 1 以产生 2、3、4、5、6 等等。所以换句话说，它只需要保存最后 5 个对象。但与实际编码一样，它将坐标对象保存在容量为 100+ 的数组中，因此它必须快速高效。我尝试使用 int 来查看它的进展情况：

```
 NSMutableArray *array = [[NSMutableArray alloc] initWithCapacity:5];

            int i;
            for (i = 0; i<=20;i++ ) {
                NSNumber *number = [NSNumber numberWithInt:i];
                if (i>=5) {
                [array insertObject:number atIndex:5];
                }else{
                [array addObject:number];
                }
                NSLog(@"array = %@, count = %i",array, array.count);
            } 
```

但它将所有 20 个存储在排序中，如 1,2,3,4,20,19,18,17...6 任何帮助将不胜感激！先感谢您..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T07:12:42.813

你可以这样做：

即使您可以将 addTo:withValueLast: 作为一个类别：

```
-(NSMutableArray *)addTo:(NSMutableArray *)array withLastValue:(NSNumber *)number{
    if (array.count<5) {
        [array addObject:number];
    }
    else{
        [array removeObjectAtIndex:0];
        [array addObject:number];
    }
    return array; }

- (void)applicationDidFinishLaunching:(NSNotification *)aNotification {
    NSMutableArray *array = [[NSMutableArray alloc] initWithCapacity:5];

    for (int i=0; i<=20; i++) {
        NSNumber *number = [NSNumber numberWithInt:i];
        [self addTo:array withLastValue:number];
        NSLog(@"array = %@, count = %ld",array, array.count);
    } 
} 
```

* * *

使用类别：

.h 文件：

```
@interface NSMutableArray (Slide)
-(NSMutableArray *)slideWithValue:(NSNumber *)number;
@end 
```

.m 文件：

```
#import "NSMutableArray+Slide.h"

@implementation NSMutableArray (Slide)

-(NSMutableArray *)slideWithValue:(NSNumber *)number{
    if (self.count<5) {
        [self addObject:number];
    }
    else{
        [self removeObjectAtIndex:0];
        [self addObject:number];
    }
    return self; 
} 
@end 
```

现在您的代码如下：

```
NSMutableArray *array = [[NSMutableArray alloc] initWithCapacity:5];
for (int i=0; i<=20; i++) {
    NSNumber *number = [NSNumber numberWithInt:i];
    [array slideWithValue:number];

    NSLog(@"array = %@, count = %ld",array, array.count);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T07:12:28.377

像这样创建向数组添加值的方法。当它超过 5 时它将删除第一个对象并添加最后一个对象。

```
-(void)addObjectToArray:(id)lastObj
{
   [array addObject:lastObj];
    if ([array count]>5) {
        [array removeObjectAtIndex:0];
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T07:12:28.673

如果 index 已被占用，则 index 处及之后的对象会通过将其索引加 1 来移动以腾出空间。所以你可以使用的是`replaceObjectAtIndex:withObject`：这将替换对象。但是如果你想删除第一个对象，你可以自己做。首先检查数组的长度。如果大于 5，则删除第一个元素并将所有对象移动到较低的索引。然后添加新对象。

```
if ([array count]>=5)
{
[array removeObjectAtIndex:index];

[array insertObject:new object atIndex :5]; 
```

# jquery - 在表单元素的右侧显示 Jquery 表单验证错误消息

> ID：15018641
> 
> 赞同：0
> 
> 时间：2013-02-22T07:01:28.527
> 
> 标签：jquery, css, jquery-validate

我有一个表单，我正在使用这个[jquery Validation Plugin](http://bassistance.de/jquery-plugins/jquery-plugin-validation/)来验证它。验证工作正常，但问题是错误消息显示在我的表单元素的底部。我试图将它显示在表单元素的右侧。

请你帮助我好吗？

请检查[jsfiddle上的整个代码](http://jsfiddle.net/SxFBF/)

我的表格

```
<form id="commentForm" class="form-horizontal" method="post">
    <div class="control-group">
      <label class="control-label" for="input">Name <span style="color: red;">*</span></label>
       <div class="controls">
        <input type="text" name="name" class="input-small required" id="name" value="" />
        </div>
    </div>

    <div class="control-group">
      <label class="control-label" for="input">Email <span style="color: red;">*</span></label>
       <div class="controls">
        <input type="text" name="name" class="input-small required email" id="email" value="" />
        </div>
    </div>

    <input type="submit" class="btn" value="submit"  />

</form> 
```

错误的 CSS

```
form label.error{font:10px Tahoma,sans-serif;color:#ED7476;margin-left:5px}
form input.error,form input.error:hover,form input.error:focus,form select.error,
form textarea.error{border:1px solid #ED7476;background:#FFEDED} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T07:09:54.647

这个问题可以通过给css`display:inline;`中的类来解决。`label.error`

```
form label.error{
    font:10px Tahoma,sans-serif;
    color:#ED7476;
    margin-left:5px;
    display:inline;
} 
```

[在此处查看修改后的小提琴示例](http://jsfiddle.net/SxFBF/1/)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T07:10:53.153

使用`display: inline-block`或`display: inline`用于跨度错误

```
form label.error { display:inline-block;
font:10px Tahoma,sans-serif;
color:#ED7476;
margin-left:5px } 
```

[演示](http://jsfiddle.net/fauzi/SxFBF/2/)

# tcl - 多次包含源时 TCL 崩溃

> ID：15018645
> 
> 赞同：0
> 
> 时间：2013-02-22T07:01:40.650
> 
> 标签：tcl

我有一个 receive.tcl 脚本，它只包含一个由一些 1KLOC 组成的 proc

```
puts "DEBUG_1"
proc Receive { arg1 arg2} {
puts "DEBUG_2"
... TCL Code
}
puts "DEBUG_3" 
```

现在我需要在这么多不同的脚本中使用这个 proc Receive；让我们说; `1.tcl` `2.tcl` `3.tcl`依此类推，所有这些`1.tcl` `2.tcl`都是从 Master( `Master.tcl`) 调用的。

`source PATH/receive.tcl`是否有必要在每个等中包含/写入`1.tcl` `2.tcl`；使用`Receive`.

或者

我可以从一些 Master( ) 脚本中调用“source PATH/receive.tcl” `Master.tcl`，它可以在任何`1.tcl` `2.tcl`等等中进一步使用，而无需单独包含任何内容；TCL 解释器会存储/记住这个 proc Receive 并可以在任何进一步的脚本中使用吗？

**问题：**当我“`$PATH/receive.tcl`在每个`1.tcl` `2.tcl`等等中而不是在`Master.tcl`；`Master.tcl`包含`source $PATH/1.tcl` `source $PATH/2.tcl`等等；然后我正在执行`Master.tcl`。

1.  在第一次迭代中`1.tcl`成功执行；
2.  口译员会进去`receive.tcl`；它正在打印`DEBUG_1`，`DEBUG_3`并被成功`proc Receive`使用。`1.tcl`
3.  但是当解释器移动到`2.tcl`它时发现`source $PATH/receive.tcl`
4.  口译员前往`receive.tcl`
5.  TCL一次又一次地崩溃；意味着我只能看到`DEBUG_1`；之后的分段错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:41:31.180

好的，首先有几件事：Tcl 不应该崩溃（如果你不使用任何 3rd 方 dll）。如果是这样，请考虑[创建一个错误报告](http://sourceforge.net/tracker/?group_id=10894&atid=110894)。

1kloc 对我来说听起来很糟糕，也许别的更好。我认为您尝试解析一些输入并调用不同的东西，如果是这种情况，请查看[`interp`](http://wiki.tcl.tk/1477)Tcl 中我最喜欢的宝石之一。

**要回答您的问题：** 您可以在 master 中获取文件，并从以后获取的其他文件中使用它。

在您的情况下（该文件的唯一目的是由其他文件调用），您可以创建一个包。创建包时最大的问题是决定安装它的位置（使用`TCL_LIBRARY`环境变量，在 中选择一个目录`$auto_path`，将文件夹添加到`$auto_path`代码中）。查看[Tcl 教程](http://www.tcl.tk/man/tcl8.5/tutorial/Tcl31.html)以获取一些参考。

# vbscript - 未找到 VBS 脚本 800A004C Line:3 Char 1

> ID：15018646
> 
> 赞同：0
> 
> 时间：2013-02-22T07:01:43.667
> 
> 标签：vbscript

我无法打开 vbs 文件，我想用于 microsoft office 2013

```
Set objFSO=CreateObject("Scripting.FileSystemObject")
outFile="qemu\qemu.cmd"
Set objFile = objFSO.CreateTextFile(outFile,True)
objFile.Write "@ECHO OFF" & vbCrLf
objFile.Write "pushd ""%~dp0""" & vbCrLf
objFile.Write "rem cd qemu" & vbCrLf
objFile.Write "start qemu.exe ^" & vbCrLf
objFile.Write "-smbios type=1,manufacturer=Intel,version=1.01234,uuid=564d81c6-cd3a-                        d8e4-db29-756df139acb9 ^" & vbCrLf
objFile.Write "-uuid 564d81c6-cd3a-d8e4-db29-756df139acb9 ^" & vbCrLf
objFile.Write "-net nic,vlan=0 -net user,vlan=0 -redir tcp:1688::1688 ^" & vbCrLf
objFile.Write "-m 350 ^" & vbCrLf
objFile.Write "-hda Bios\kmsm4WOen.rom ^" & vbCrLf
objFile.Write ("-rtc base=" & Year(Now) & "-" & Month(Now) & "-" & Day(Now) & "T" &     Hour(Now) & ":" & Minute (Now) & ":" & Second (Now) & ",clock=host ^") & vbCrLf
objFile.Write "-name ""KMSmicro v4.0.WO-En IP-127.0.0.1-254:1688"" ^" & vbCrLf
objFile.Write "-M pc ^" & vbCrLf
objFile.Write "-L Bios" & vbCrLf
objFile.Write "popd" & vbCrLf
objFile.Write "exit" & vbCrLf
objFile.Close
Set WshShell = WScript.CreateObject("WScript.Shell")
Return = WshShell.Run ("qemu\qemu.cmd",,True)
Set obj = CreateObject("Scripting.FileSystemObject")
obj.DeleteFile(outfile) 
```

我所有的vbs文件我都无法打开它请告诉我如何修复我，谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:49:31.927

第 3 行的错误“800a004c - Path not found”被抛出，因为子文件夹`qemu`不存在。`.CreateTextFile()`将创建一个文件，但不会创建文件路径中的文件夹。

**PS：**

由于`.CreateTextFile()`和`.Run()`使用相对路径，在`qemu`某处“拥有”一个文件夹将无济于事。它必须是当前目录的子文件夹。避免此问题的最佳方法是使用绝对/硬编码路径。

```
outFile="a:\b\c d\qemu\qemu.cmd"
Set objFile = objFSO.CreateTextFile(outFile,True)
...
outFile = """" & outFile & """"
Return = WshShell.Run (outFile,,True) 
```

# python - 使用 Google App Engine (Python) 将图像上传到 MYSQL

> ID：15018652
> 
> 赞同：0
> 
> 时间：2013-02-22T07:02:01.523
> 
> 标签：python, mysql, google-app-engine

我正在开发用户上传图像的应用程序。我必须将它存储到mysql数据库中。稍后显示它。我试过以下代码。

```
import MySQLdb as mdb
// Lines of code here
img=self.request.get('img')
cursor.execute("UPDATE Candidate SET  profile_pic=%s ",(mdb.escape_string(img)))
// lines of code here
conn.commit()
conn.close() 
```

它在本地主机上运行，​​但是当我在服务器上部署应用程序时，它会出现以下错误。

**ImportError: No module named _mysql** 任何指南？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T10:11:01.727

```
from google.appengine.api import rdbms
conn = rdbms.connect(instance='instance_name', database='database', user='user', password='password') 
```

[将 Google Cloud SQL 与 App Engine Python SDK 结合使用](https://developers.google.com/appengine/docs/python/cloud-sql/developers-guide)

Mysql 不是 Google Cloud SQL。

根据评论扩展此答案，对于本地开发，您使用 mySQL，但您通过 GAE 提供的云界面进行。然后，当您部署时，您将不会遇到这些问题。尽管事实上这是您在本地真正使用的，但您根本不需要导入 MySQL。

# android - 滑动菜单通过触摸和从右向左滑动关闭

> ID：15018654
> 
> 赞同：0
> 
> 时间：2013-02-22T07:02:12.837
> 
> 标签：android, actionbarsherlock, slidingmenu

我从[SlideMenu](https://github.com/jfeinstein10/SlidingMenu)的滑动菜单开始。我尝试了一个示例，效果很好，但是当显示菜单时，触摸右窗格或从左到右滑动会关闭滑动菜单。

我需要滑动菜单仅在从右到左滑动时关闭，或者可能在触摸时关闭。我不想从左向右滑动来关闭菜单。如何明确处理以上 3 种情况？

```
public class MainActivity extends SherlockFragmentActivity {

SlidingMenu menu;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setTheme(com.actionbarsherlock.R.style.Theme_Sherlock_Light);
    setContentView(R.layout.activity_main);
    menu = new SlidingMenu(this);
    menu.setTouchModeAbove(SlidingMenu.TOUCHMODE_FULLSCREEN);
    menu.setMode(SlidingMenu.LEFT);
    menu.setShadowWidth(5);
    menu.setFadeDegree(0.0f);
    menu.attachToActivity(this, SlidingMenu.SLIDING_CONTENT);
    menu.setBehindWidth(200);
    menu.setMenu(R.layout.menulayout);
    ActionBar actionBar = getSupportActionBar();
    actionBar.setHomeButtonEnabled(true);
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // TODO Auto-generated method stub
    getSupportMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
}

@Override
public boolean onMenuItemSelected(int featureId, MenuItem item) {
    if (item.getItemId() == android.R.id.home) {
        menu.toggle();
    }

    return true;
}
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T15:52:35.683

你的错误是：

```
public boolean onOptionsItemSelected(MenuItem item) 
{       
    switch (item.getItemId()) 
    {
        case android.R.id.home:
            SlidingMenu menu = getSlidingMenu();
            menu.setBehindOffsetRes(R.dimen.slidingmenu_offset);
            menu.toggle();
            return true;
    }

    return super.onOptionsItemSelected(item);
} 
```

也检查这个答案：

[滑动菜单上的奇怪偏移行为](https://stackoverflow.com/questions/14711892/strange-offset-behavior-on-slidingmenu/14712390#14712390)

# php - PHP4 的 simplexml_load_string 的替代方案

> ID：15018656
> 
> 赞同：0
> 
> 时间：2013-02-22T07:02:15.193
> 
> 标签：php, xml, string, simplexml

我正在使用`simplexml_load_string`XML 字符串从 REST API 的结果中解释为对象。它在我使用 PHP5 的本地服务器上运行良好。但是我的托管服务提供商给了我 PHP4。

为此，我需要将 XML 字符串解释为对象的方式更改为另一种方法，我不知道该怎么做。

任何人都可以为我编辑它吗？[http://codepad.viper-7.com/OYxzLD](http://codepad.viper-7.com/OYxzLD)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T07:06:02.773

您可以使用[DOM](http://php.net/dom)，它支持 PHP4 来解析 XML。

请看下面的例子：

* * *

```
XML Data:
<data>
<Report ID="1">
    <Date>REVIEW</Date>
    <AuthorID>1</AuthorID>
</Report>
<Report ID="2">
    <Date>REVIEW</Date>
    <AuthorID>2</AuthorID>
</Report>
</data> 
```

* * *

```
<?php
$xmlDoc = new DOMDocument();
$xmlDoc->load( 'data.xml' );

$searchNode = $xmlDoc->getElementsByTagName( "Report" );

foreach( $searchNode as $searchNode )
{
    $valueID = $searchNode->getAttribute('ID');

    $xmlDate = $searchNode->getElementsByTagName( "Date" );
    $valueDate = $xmlDate->item(0)->nodeValue;

    $xmlAuthorID = $searchNode->getElementsByTagName( "AuthorID" );
    $valueAuthorID = $xmlAuthorID->item(0)->nodeValue;

    echo "$valueID - $valueDate - $valueAuthorID\n";
}
?> 
```

* * *

输出：

1 - 审查 - 1 2 - 审查 - 2

* * *

# android - 如何在 Google play 中使用 apk 上传扩展文件

> ID：15018657
> 
> 赞同：0
> 
> 时间：2013-02-22T07:02:22.057
> 
> 标签：android, apk-expansion-files

我必须在我的应用程序中播放本地视频，但它有 200 MB 的视频大小。而谷歌播放不允许超过 50MB 的 apk 文件。

此应用程序适用于手机和平板电脑。因此，我需要根据分辨率上传视频。简而言之，我需要在 Google Play 中为 phione 视频和平板电脑视频上传两个文件夹。

我如何在 Google Play 中使用 apk 上传额外的文件，当用户从 Google Play 下载应用程序时，如何在我的应用程序中使用这些上传的文件？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T08:37:56.723

您可以逐步上传 50 MB 以上的 APK [http://developer.android.com/google/play/expansion-files.html](http://developer.android.com/google/play/expansion-files.html)。

根据我的经验，加载超过 50 MB 对用户来说是非常糟糕的体验。相反，您可以将视频上传到 You Tube 并显示。您可以参考此应用程序表单 google play 了解更多详情

[https://play.google.com/store/apps/details?id=com.nike.ntc&feature=search_result#?t=W251bGwsMSwxLDEsImNvbS5uaWtlLm50YyJd](https://play.google.com/store/apps/details?id=com.nike.ntc&feature=search_result#?t=W251bGwsMSwxLDEsImNvbS5uaWtlLm50YyJd)

# javascript - 使用javascript在aspx中打开一个窗口

> ID：15018658
> 
> 赞同：0
> 
> 时间：2013-02-22T07:02:27.643
> 
> 标签：javascript, asp.net

我正在使用下面的代码打开一个新窗口，同时函数返回成功消息。同时我想关闭自我窗口。现在我收到错误：

> 新窗口未定义

```
 var value = getQueryStrings();
 var cust_id = value["cust_id"];
 try {

     PageMethods.add_plan_items(unescape(items), cust_id, device, OnGetMessageSuccess, OnGetMessageFailure);

 } catch (ex) {
     alert(ex);
 }

 function OnGetMessageSuccess(result, userContext, methodName) {
     try {
         var ret_array = result.toString().split(':');
         if (ret_array[0] == "Success Alert ") {

             var left = (screen.width / 2) - 1015 / 2;
             var top = (screen.height / 2) - 550 / 2;

             self.close(); //Close the opened window

             //Enter here and self window is closed

             var newwindow = window.open('test.aspx?id=Y&cust_id=' + cust_id, 'Add Items', 'height=550,width=1000,toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=0,left=' + left + ', top=' + top + ',screenX=' + left + ',screenY=' + top + '');
             if (window.focus) {
                 newwindow.focus()
             }
             return false;
         } else {
             self.close(); //Close the opened window
             alert('Error Alert : Error for adding plans in your specified device. Please try again later!');
         }

     } catch (ex) {
         alert(ex);
     }

 }

 function OnGetMessageFailure(error, userContext, methodName) {
     alert(error.get_message());
 } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:07:44.160

不要先关闭你的父窗口
保存父窗口，然后打开你的子窗口（新窗口），然后关闭你的父窗口

```
var parentWindow = self.window;
var newWindow = window.open(...);

parentWindow.close(); 
```

# apache - 使用 V 主机为多个子域清漆 VCL 设置？

> ID：15018659
> 
> 赞同：0
> 
> 时间：2013-02-22T07:02:35.630
> 
> 标签：apache, subdomain, virtualhost, varnish, multiple-domains

为简单起见，因为我是 Varnish 的初创公司，所以我有一个**服务器**，`Varnish`里面有一个服务器`Apache`。Apache 中有多个子域作为虚拟主机。

可以说我有：

*   sub1.example.com
*   sub2.example.com
*   sub3.example.com

然后我**只**将 Apache 的`httpd.conf`端口更改为：

```
Listen 8080 
```

再说一次，到目前为止我在 VCL 中的后端设置是：

```
backend default{
  .host = "127.0.0.1";
  .port = "8080";
} 
```

现在我的问题是：

*   这种设置是否足够？说真的，我在这里错过了什么？
*   我仍然需要清除的是，首先，在 Apache`httpd.conf`端，是否只需要更改`Listen`值？

这个怎么样：

```
NameVirtualHost *:80 
```

以及每个子域的 V.Host 设置：

```
<VirtualHost *:80>
..
..
</VirtualHost> 
```

*   我是否**还需要**更改这些端口以`8080`取悦 Apache 方面？

最后在 VCL 配置中，我看到了以下内容：

```
if (req.http.host == ".........com") {
    ..
} 
```

..在其他论坛。

*   我的 VCL 中没有这种设置
*   那么我需要这样的东西和/或认真地为我的架构缺少什么吗？

谢谢大家！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T07:24:40.320

Varnish 将在`port 80`. 因此，Apache 应该在任何其他端口上运行`port 80`。我个人准备像[Apache Tomcat](http://tomcat.apache.org/)`port 81`一样`port 8080`正常使用Apache 。

听 Apache 上`port 81`。 **httpd.conf** (/etc/httpd/conf/httpd.conf)。

```
Listen 81
NameVirtualHost *:81 
```

Varnish 的默认配置文件。 **默认.vcl** (/etc/varnish/default.vcl)。

```
backend default {
  .host = "127.0.0.1";
  .port = "81";
} 
```

sub1.example.net 和 sub2.example.net 的虚拟主机。 **vhosts.conf** (/etc/httpd/conf.d/vhosts/example.net.conf)。

```
# vhost : sub1.example.net
<VirtualHost *:81>
  ...
  ServerName sub1.example.net
  ...
  <Directory "/var/www/html/vhosts/example.net/sub1/public_html">
    ...
  </Directory>
  ...
</VirtualHost>

# vhost : sub2.example.net
<VirtualHost *:81>
  ...
  ServerName sub2.example.net
  ...
  <Directory "/var/www/html/vhosts/example.net/sub2/public_html">
    ...
  </Directory>
  ...
</VirtualHost> 
```

# ruby-on-rails - 视图之间的主干过渡

> ID：15018660
> 
> 赞同：0
> 
> 时间：2013-02-22T07:02:53.147
> 
> 标签：ruby-on-rails, backbone.js

在客户端带有backbone.js的rails应用程序中，我的每个页面都有不同的视图，当我浏览我的页面时，我得到一个标准的转换（第一页消失，第二个出现）。但我需要在视图转换之间创建一些视觉效果，比如[usatoday](http://www.usatoday.com/ "今日美国")或[goldmansachs](http://www.goldmansachs.com/) 有人知道怎么做吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T23:26:10.970

您可能会发现 Backbone.ViewKit ( [https://github.com/scttnlsn/backbone.viewkit](https://github.com/scttnlsn/backbone.viewkit) ) 很有用。它管理视图之间的导航和转换。有几个内置的过渡（滑动和淡入淡出），但您也可以编写自己的过渡。

# iphone - 按钮添加为表格视图中的子视图，也显示在其他单元格中

> ID：15018665
> 
> 赞同：1
> 
> 时间：2013-02-22T07:03:21.997
> 
> 标签：iphone, object, user-interface, location

我有表格视图，在第二部分的行中我放置了一个按钮，当我滚动表格视图时，这个按钮也会出现在其他行中。

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *kCellID = @"cellID";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:kCellID];/////self...ramesh
    if (cell == nil)
    {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:kCellID];
    }

    if (indexPath.row==1)
    {
        cell.accessoryView=[[UIView alloc]initWithFrame:self.warmUpSwitch.frame];
        cell.textLabel.text=@"Warm Up(5 min.)";
        [cell.accessoryView addSubview:self.warmUpSwitch];
    }
    if (indexPath.row==2)
    {
        cell.accessoryView=[[UIView alloc]initWithFrame:self.coolDownSwitch.frame];

        cell.textLabel.text=@"Cool Down(5 min.)";
        [cell.accessoryView addSubview:self.coolDownSwitch];
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T04:30:29.077

尝试这个，

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
  static NSString *CellIdentifier = @"Cell"; 
UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
if (cell == nil)
{
    cell = [[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:CellIdentifier] autorelease];

}
  if (indexPath.row==1)
    {

     UIButton *btnwarmUpSwitch = [[UIButton buttonWithType:UIButtonTypeRoundedRect] retain];
     btnwarmUpSwitch.frame = CGRectMake(250,20,100,50);  //set frame where you want to set
    [btnwarmUpSwitch setTitle:@"Warm Up(5 min.)" forState:UIControlStateNormal];
     btnwarmUpSwitch.tag=indexPath.row;
    [btnwarmUpSwitch addTarget:self action:@selector(selectwarmUpSwitch:) forControlEvents:UIControlEventTouchUpInside];
     [cell.contentView addSubview:btnwarmUpSwitch];

    }
    if (indexPath.row==2)
    {
        UIButton *btncoolDownSwitch = [[UIButton buttonWithType:UIButtonTypeRoundedRect] retain];
     btncoolDownSwitch.frame = CGRectMake(250,20,100,50);  //set frame where you want to set
    [btncoolDownSwitch setTitle:@"Cool Down(5 min.)" forState:UIControlStateNormal];
     btncoolDownSwitch.tag=indexPath.row;
    [btncoolDownSwitch addTarget:self action:@selector(selectcoolDownSwitch:) forControlEvents:UIControlEventTouchUpInside];
     [cell.contentView addSubview:btncoolDownSwitch];
    }
   return cell;
 }
 - (void) selectwarmUpSwitch:(id)sender
 {

 }
 - (void) selectcoolDownSwitch:(id)sender
 {

 } 
```

# r - R编程修复错误

> ID：15018668
> 
> 赞同：0
> 
> 时间：2013-02-22T07:03:39.753
> 
> 标签：r, average, mean

[大家好，我之前在这里](https://stackoverflow.com/questions/14983347/how-to-handle-more-than-multiple-sets-of-data-in-r-programming/14984173#comment21098039_14984173)问过一个类似的问题，我得到了一些非常棒的答案。但事实证明我有更多的数据需要处理。所以我有这种格式的样本数据，它是使用 head(data) 生成的。所以我有 3 个带有自己的时间和速度数据的样本……我并没有将速度用于我的实际数据

```
Time Speed Time.1 Speed.1 Time.2 Speed.2

Error in unique.default(x) : unique() applies only to vectors 
```

各位大神能不能告诉我怎么办？我可以用公式在 excel 中做到这一点，但我有太多数据导致 excel 崩溃，所以我真的需要“R”，但对此知之甚少......谢谢大家......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:18:48.327

运行相同的代码。你为什么要编辑`by=3`？你想创建`idx = 1, 3, 5 ...`. `by=3`, 将创建`1, 4, 7...`. 你的数据，只要是格式的`Time, data, Time, data, Time, data, ..., ...`，都可以用**同样**的代码

```
require(IRanges)
# by equals 2 because we want to get the `Time` column index every time
idx <- seq(1, ncol(data), by=2)
# idx is now 1, 3, 5\. It will be passed one value at a time to `i`.
# that is, `i` will take values 1 first, then 3 and then 5 and each time
# the code within is executed.
o <- lapply(idx, function(i) {  
    ir1 <- IRanges(start=seq(0, max(data[[i]]), by=401), width=401)
    ir2 <- IRanges(start=data[[i]], width=1)
    t <- findOverlaps(ir1, ir2)
    d <- data.frame(mean=tapply(data[[i+1]], queryHits(t), mean))
    cbind(as.data.frame(ir1), d)
}) 
```

给我这个数据：

```
# > o
# [[1]]
#   start end width mean
# 1     0 400   401 1.05
# 
# [[2]]
#   start end width mean
# 1     0 400   401  1.1
# 
# [[3]]
#   start end width     mean
# 1     0 400   401 1.383333 
```

# arrays - 删除 G(j,i) 个条目

> ID：15018670
> 
> 赞同：0
> 
> 时间：2013-02-22T07:03:47.957
> 
> 标签：arrays, data-structures, graph

我正在解决一个图形问题。它是一个无向图。假设有 4 个顶点 (1,2,3,4)，顶点链接如下。

```
1,2
1,3
1,4
2,1
3,1
4,1 
```

G(i,j) 和 G(j,i) 都存在如上（G-图，i-源顶点，j-目的顶点）。现在，我需要从中删除所有 G(j,i)。这可能是有效的方式。

我尝试将所有 i 顶点插入一个数组，将 j 顶点插入另一个数组。就像是

```
a[0] = 1 and b[0] = 2
a[1] = 1 and b[1] = 3
so on.. 
```

但是我很难删除 G(j,i) 条目。我有 3 个问题。

1.  是否有任何有效的算法可以删除重复项（这里重复我说，bcoz G(i,j) = G(j,i).

2.  除了使用数组之外，是否有任何数据结构可以更轻松地执行此操作。

3.  哪种数据结构通常用于图问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:12:29.310

图通常以邻接矩阵形式或邻接列表表示。

设 n = 节点数，m = 边数，节点 ID 是标记为 0 - (n-1) 的整数

在邻接矩阵中，您基本上有一个大小为 nx n 的二维数组。如果节点和`[i][j]` 之间没有边，则index 处的值为 0 ，否则为非零。如果您的图未加权，则矩阵通常是二进制的（0 表示无边，1 表示有边），您可以使用布尔值矩阵来节省空间。如果您的图是无向图，请注意矩阵将是对称的，因为在 处的边表示在 处的边。`i``j``[i][j]``[j][i]`

但是，如果空间效率是一个问题，并且您的图形在边方面是稀疏的，那么将有大量空间浪费，因为无论边数如何，数据结构都将占用 O(n^2)。

另一种方法是邻接表，它占用 O(n + m) 空间。这里我们可以有一个一维数组，其中数组的每个元素都是一个容器（比如链表或哈希集）。数组的第`i`th 个容器保存连接到该`ith`节点的节点的 ID。

为了解决以您拥有的“edgelist”格式删除重复项的问题，您似乎需要一个无向图，这意味着从 to 的边意味着从to的`i`边。在邻接矩阵中，这可以简单地通过设置来完成。在邻接列表中，最好使用容器来保证没有重复的边缘。因此，当您在边缘列表中看到从to的边缘时，您只需索引到第th 单元格并添加 in ，然后索引到第th 单元格并添加 in 。稍后当您看到to时，您将执行相同的操作，但将重复值添加到哈希集中将无济于事。`j``j``i``[i][j] = [j][i] = true``set``set``i``j``i``j``j``i``j``i`

# wpf - 虚拟化属性回收和 CacheLength

> ID：15018674
> 
> 赞同：1
> 
> 时间：2013-02-22T07:04:19.170
> 
> 标签：wpf, xaml

我的 ListView 设置为 Virtualziation=true 和 VirtualizationMode=Recycling。使用 .net 4.5，我可以设置 CacheLength。然后我会在缓存中有项目，这些项目在视口中并不实际。滚动时，回收属性将开始重用项目。那么缓存的项目会发生什么？据我了解，他们永远不会使用。同时使用这两个属性是否会提高性能？

# wso2 - WSO2 工作流部署失败

> ID：15018678
> 
> 赞同：0
> 
> 时间：2013-02-22T07:04:51.397
> 
> 标签：wso2

对于 WSO2 BPS 专家，我有一个非常有趣的挑战。我们正在尝试开发一种功能，通过单击按钮将高级模型转换为 WSO2 的工作流程。reqd 文件（.bpel、.wsdl、任何外部文件、deploy.xml）似乎生成得很好。然而问题是当我尝试上传压缩文件时它会抛出异常

**找不到调用服务 { [http://dummyserviceinterface.services.mycompany.com/](http://dummyserviceinterface.services.mycompany.com/) }DummyServiceInterface 的 WSDL 定义。在 BPEL 包 ExtractSocialNetworkProcess-2 中找不到所需资源。**

我花了 2 天时间试图弄清楚这一点（已审查的命名空间、合作伙伴链接、导入等）并找到阻止 zip 文件部署的问题。我还尝试在 WSO2 Studio 中重新创建完全相同的工作流程，令我惊讶的是，WSO2 Studio 生成的 zip 文件似乎部署得很好。现在最大的问题是“当我们生成文件时我错过了什么......”如果你比较两组文件，它们非常相同，但它是如此奇怪以至于一个部署而另一个没有部署。由于我无法附加 zip 文件，我将在下面列出各个文件的内容供您参考...谢谢，我们将不胜感激

**ExtractSocialNetworkProcess.bpel [从我们的工具生成]**

```
<process xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
     xmlns:client="http://wso2.org/bps/samples/ExtractSocialNetworkProcess" 
     xmlns:ns1="http://dummyserviceinterface.services.mycompany.com/" 
     xmlns:sxed="http://www.sun.com/wsbpel/2.0/process/executable/SUNExtension/Editor"
     xmlns:sxt="http://www.sun.com/wsbpel/2.0/process/executable/SUNExtension/Trace" 
     xmlns:tns="http://wso2.org/bps/samples/ExtractSocialNetworkProcess" 
     xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
     name="ExtractSocialNetworkProcess" 
     suppressJoinFailure="yes"
     targetNamespace="http://wso2.org/bps/samples/ExtractSocialNetworkProcess">

<import namespace="http://wso2.org/bps/samples/ExtractSocialNetworkProcess"   location="ExtractSocialNetworkProcess.wsdl" importType="http://schemas.xmlsoap.org/wsdl/" />
<import namespace="http://dummyserviceinterface.services.mycompany.com/" location="DummyServiceInterfaceSchema.wsdl" importType="http://schemas.xmlsoap.org/wsdl/" />
<partnerLinks>
   <partnerLink name="client" partnerLinkType="client:ExtractSocialNetworkProcess" myRole="ExtractSocialNetworkProcessProvider" />
   <partnerLink name="DummyServiceInterface" partnerLinkType="client:DummyServiceInterfacePL" partnerRole="DummyServiceInterfaceRole" />
</partnerLinks>

<variables>
  <variable name="inputVariable" messageType="client:ExtractSocialNetworkProcessRequestMessage" />
  <variable name="outputVariable" messageType="client:ExtractSocialNetworkProcessResponseMessage" />
  <variable name="InvokeESNService_extractSocialNetwork_InputVariable" messageType="ns1:extractSocialNetwork" />
  <variable name="InvokeESNService_extractSocialNetwork_OutputVariable" messageType="ns1:extractSocialNetworkResponse" />
</variables>

<sequence name="main">
<receive name="receiveInput" partnerLink="client" portType="client:ExtractSocialNetworkProcess" operation="process" variable="inputVariable" createInstance="yes" />
<scope name="ExtractSocialNetworkProcess">
  <sequence>
     <assign name="Mapping_InvokeESNService_Inputs">
      <copy>
        <from>$inputVariable.payload/client:input</from>
      <to variable="InvokeESNService_extractSocialNetwork_InputVariable" part="arg0" />
      </copy>
    </assign>
    <invoke name="InvokeESNService" partnerLink="DummyServiceInterface" portType="ns1:DummyServiceInterface" operation="extractSocialNetwork" inputVariable="InvokeESNService_extractSocialNetwork_InputVariable" outputVariable="InvokeESNService_extractSocialNetwork_OutputVariable" />
    <assign name="AssignOutputParams">
        <copy>
            <from>
                <literal>
                    <client:ExtractSocialNetworkProcessProcessResponse xmlns:client="http://wso2.org/bps/samples/ExtractSocialNetworkProcess" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                        <client:output>testing</client:output>
                    </client:ExtractSocialNetworkProcessProcessResponse>
                </literal>
            </from>
            <to variable="outputVariable" part="payload"></to>
      </copy>         
      <copy>
        <from variable="InvokeESNService_extractSocialNetwork_OutputVariable" part="return" />
        <to>$outputVariable.payload/client:output</to>
      </copy>
    </assign>
  </sequence>
</scope>
<reply name="replyOutput" partnerLink="client" portType="client:ExtractSocialNetworkProcess" operation="process" variable="outputVariable" />
</sequence>
</process> 
```

**ExtractSocialNetworkProcess.wsdl [从我们的工具生成]**

```
<definitions xmlns="http://schemas.xmlsoap.org/wsdl/" 
         xmlns:bpws="http://docs.oasis-open.org/wsbpel/2.0/varprop"
      xmlns:client="http://wso2.org/bps/samples/ExtractSocialNetworkProcess"
         xmlns:ns1="http://dummyserviceinterface.services.mycompany.com/" 
         xmlns:plnk="http://docs.oasis-open.org/wsbpel/2.0/plnktype" 
         xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" 
     xmlns:tns="http://wso2.org/bps/samples/ExtractSocialNetworkProcess" 
         xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" 
         xmlns:xsd="http://www.w3.org/2001/XMLSchema"
         name="ExtractSocialNetworkProcess" 
         targetNamespace="http://wso2.org/bps/samples/ExtractSocialNetworkProcess">

<plnk:partnerLinkType name="DummyServiceInterfacePL">
  <plnk:role name="DummyServiceInterfaceRole" portType="ns1:DummyServiceInterface" />
</plnk:partnerLinkType>

<import location="DummyServiceInterfaceSchema.wsdl" namespace="http://dummyserviceinterface.services.mycompany.com/"/>
<import location="DummyServiceInterface.wsdl" namespace="http://dummyserviceinterface.services.mycompany.com/"/>

<types>
  <schema xmlns="http://www.w3.org/2001/XMLSchema" attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://wso2.org/bps/samples/ExtractSocialNetworkProcess">

  <element name="ExtractSocialNetworkProcessProcessRequest">
    <complexType>
      <sequence>
        <element name="input" type="string" />
      </sequence>
    </complexType>
  </element>
  <element name="ExtractSocialNetworkProcessProcessResponse">
    <complexType>
      <sequence>
        <element name="output" type="string" />
      </sequence>
    </complexType>
   </element>     

  </schema>
</types>

<message name="ExtractSocialNetworkProcessRequestMessage">
  <part name="payload" element="client:ExtractSocialNetworkProcessProcessRequest" />
</message>
<message name="ExtractSocialNetworkProcessResponseMessage">
  <part name="payload" element="client:ExtractSocialNetworkProcessProcessResponse" />
</message>

<portType name="ExtractSocialNetworkProcess">
  <operation name="process">
    <input message="client:ExtractSocialNetworkProcessRequestMessage" />
    <output message="client:ExtractSocialNetworkProcessResponseMessage" />
  </operation>
</portType>
<plnk:partnerLinkType name="ExtractSocialNetworkProcess">
  <plnk:role name="ExtractSocialNetworkProcessProvider" portType="client:ExtractSocialNetworkProcess" />
 </plnk:partnerLinkType>

 <binding name="ExtractSocialNetworkProcessBinding" type="client:ExtractSocialNetworkProcess">
   <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http" />
   <operation name="process">
     <soap:operation soapAction="http://wso2.org/bps/samples/ExtractSocialNetworkProcess" />
      <input >
        <soap:body use="literal" />
      </input>
  <output >
    <soap:body use="literal" />
  </output>
  </operation>
  </binding>

  <service name="ExtractSocialNetworkProcessService">
         <port name="ExtractSocialNetworkProcessPort" binding="client:ExtractSocialNetworkProcessBinding">
  <soap:address location="http://localhost:9763/services/ExtractSocialNetworkProcessService" />
  </port>
 </service>
 </definitions> 
```

**deploy.xml [从我们的工具自动生成]**

```
<?xml version="1.0" encoding="UTF-8"?>
<deploy xmlns="http://www.apache.org/ode/schemas/dd/2007/03" xmlns:ns1="http://dummyserviceinterface.services.mycompany.com/" xmlns:tns="http://wso2.org/bps/samples/ExtractSocialNetworkProcess">
  <process name="tns:ExtractSocialNetworkProcess">
    <active>true</active>
    <retired>false</retired>
    <process-events generate="all"/>
    <provide partnerLink="client">
      <service name="tns:ExtractSocialNetworkProcessService" port="ExtractSocialNetworkProcessPort" />
    </provide>
    <invoke partnerLink="DummyServiceInterface">
      <service name="ns1:DummyServiceInterface" port="DummyServiceImplPort" />
    </invoke>
  </process>
</deploy> 
```

**DummyServiceInterface.wsdl [工作流程中使用的第三方 wsdl]**

```
<?xml version="1.0" encoding="UTF-8"?>
<!-- Published by JAX-WS RI at http://jax-ws.dev.java.net. RI's version is Metro/2.2-b13 (branches/2.2-6964; 2012-01-09T18:04:18+0000) JAXWS-RI/2.2.6-promoted-b20 JAXWS/2.2 svn-revision#unknown. -->
<!-- Generated by JAX-WS RI at http://jax-ws.dev.java.net. RI's version is Metro/2.2-b13 (branches/2.2-6964; 2012-01-09T18:04:18+0000) JAXWS-RI/2.2.6-promoted-b20 JAXWS/2.2 svn-revision#unknown. -->
<definitions xmlns="http://schemas.xmlsoap.org/wsdl/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:tns="http://dummyserviceimpl.services.mycompany.com/" xmlns:wsam="http://www.w3.org/2007/05/addressing/metadata" xmlns:wsp="http://www.w3.org/ns/ws-policy" xmlns:wsp1_2="http://schemas.xmlsoap.org/ws/2004/09/policy" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd" xmlns:xsd="http://www.w3.org/2001/XMLSchema" targetNamespace="http://dummyserviceimpl.services.mycompany.com/" name="DummyServiceInterface">
  <import namespace="http://dummyserviceinterface.services.mycompany.com/" location="DummyServiceInterfaceSchema.wsdl" />
  <binding xmlns:ns1="http://dummyserviceinterface.services.mycompany.com/" name="DummyServiceImplPortBinding" type="ns1:DummyServiceInterface">
    <soap:binding transport="http://schemas.xmlsoap.org/soap/http" style="rpc" />
    <operation name="extractSocialNetwork">
      <soap:operation soapAction="" />
      <input>
        <soap:body use="literal" namespace="http://dummyserviceinterface.services.mycompany.com/" />
      </input>
      <output>
        <soap:body use="literal" namespace="http://dummyserviceinterface.services.mycompany.com/" />
      </output>
    </operation>
    <operation name="extractTopics">
      <soap:operation soapAction="" />
      <input>
        <soap:body use="literal" namespace="http://dummyserviceinterface.services.mycompany.com/" />
      </input>
      <output>
        <soap:body use="literal" namespace="http://dummyserviceinterface.services.mycompany.com/" />
      </output>
    </operation>
    <operation name="extractEvents">
      <soap:operation soapAction="" />
      <input>
        <soap:body use="literal" namespace="http://dummyserviceinterface.services.mycompany.com/" />
      </input>
      <output>
        <soap:body use="literal" namespace="http://dummyserviceinterface.services.mycompany.com/" />
      </output>
    </operation>
    <operation name="extractSentiment">
      <soap:operation soapAction="" />
      <input>
        <soap:body use="literal" namespace="http://dummyserviceinterface.services.mycompany.com/" />
      </input>
      <output>
        <soap:body use="literal" namespace="http://dummyserviceinterface.services.mycompany.com/" />
      </output>
    </operation>
    <operation name="translateOntologies">
      <soap:operation soapAction="" />
      <input>
        <soap:body use="literal" namespace="http://dummyserviceinterface.services.mycompany.com/" />
      </input>
      <output>
        <soap:body use="literal" namespace="http://dummyserviceinterface.services.mycompany.com/" />
      </output>
    </operation>
    <operation name="translateSchemas">
      <soap:operation soapAction="" />
      <input>
        <soap:body use="literal" namespace="http://dummyserviceinterface.services.mycompany.com/" />
      </input>
      <output>
        <soap:body use="literal" namespace="http://dummyserviceinterface.services.mycompany.com/" />
      </output>
    </operation>
    <operation name="saveToDB">
      <soap:operation soapAction="" />
      <input>
        <soap:body use="literal" namespace="http://dummyserviceinterface.services.mycompany.com/" />
      </input>
      <output>
        <soap:body use="literal" namespace="http://dummyserviceinterface.services.mycompany.com/" />
      </output>
    </operation>
  </binding>
  <service name="DummyServiceInterface">
    <port name="DummyServiceImplPort" binding="tns:DummyServiceImplPortBinding">
      <soap:address location="http://dev-irpg-stds:8080/dummyServiceImpl/DummyServiceInterface" />
    </port>
  </service>
</definitions> 
```

**DummyServiceInterfaceSchema.wsdl [由于第三方服务是使用dotnet和metro stack创建的，它分为两部分（一个是Binding + Service，另一个是Msgs和Porttype）**

```
<?xml version='1.0' encoding='UTF-8'?><definitions xmlns:tns="http://dummyserviceinterface.services.mycompany.com/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="http://schemas.xmlsoap.org/wsdl/" targetNamespace="http://dummyserviceinterface.services.mycompany.com/">
<types/>
<message name="extractSocialNetwork">
<part name="arg0" type="xsd:string"/>
</message>
<message name="extractSocialNetworkResponse">
<part name="return" type="xsd:string"/>
</message>
<message name="extractTopics">
<part name="arg0" type="xsd:string"/>
<part name="arg1" type="xsd:string"/>
</message>
<message name="extractTopicsResponse">
<part name="return" type="xsd:string"/>
</message>
<message name="extractEvents">
<part name="arg0" type="xsd:string"/>
<part name="arg1" type="xsd:string"/>
</message>
<message name="extractEventsResponse">
<part name="return" type="xsd:string"/>
</message>
<message name="extractSentiment">
<part name="arg0" type="xsd:string"/>
<part name="arg1" type="xsd:string"/>
</message>
<message name="extractSentimentResponse">
<part name="return" type="xsd:string"/>
</message>
<message name="translateOntologies">
<part name="arg0" type="xsd:string"/>
<part name="arg1" type="xsd:string"/>
</message>
<message name="translateOntologiesResponse">
<part name="return" type="xsd:string"/>
</message>
<message name="translateSchemas">
<part name="arg0" type="xsd:string"/>
<part name="arg1" type="xsd:string"/>
<part name="arg2" type="xsd:string"/>
<part name="arg3" type="xsd:string"/>
</message>
<message name="translateSchemasResponse">
<part name="return" type="xsd:string"/>
</message>
<message name="saveToDB">
<part name="arg0" type="xsd:string"/>
<part name="arg1" type="xsd:string"/>
</message>
<message name="saveToDBResponse">
<part name="return" type="xsd:string"/>
</message>
<portType name="DummyServiceInterface">
<operation name="extractSocialNetwork">
<input xmlns:ns1="http://www.w3.org/2007/05/addressing/metadata" ns1:Action="http://dummyserviceinterface.services.mycompany.com/DummyServiceInterface/extractSocialNetworkRequest" message="tns:extractSocialNetwork"/>
<output xmlns:ns2="http://www.w3.org/2007/05/addressing/metadata" ns2:Action="http://dummyserviceinterface.services.mycompany.com/DummyServiceInterface/extractSocialNetworkResponse" message="tns:extractSocialNetworkResponse"/>
</operation>
<operation name="extractTopics" parameterOrder="arg0 arg1">
<input xmlns:ns3="http://www.w3.org/2007/05/addressing/metadata" ns3:Action="http://dummyserviceinterface.services.mycompany.com/DummyServiceInterface/extractTopicsRequest" message="tns:extractTopics"/>
<output xmlns:ns4="http://www.w3.org/2007/05/addressing/metadata" ns4:Action="http://dummyserviceinterface.services.mycompany.com/DummyServiceInterface/extractTopicsResponse" message="tns:extractTopicsResponse"/>
</operation>
<operation name="extractEvents" parameterOrder="arg0 arg1">
<input xmlns:ns5="http://www.w3.org/2007/05/addressing/metadata" ns5:Action="http://dummyserviceinterface.services.mycompany.com/DummyServiceInterface/extractEventsRequest" message="tns:extractEvents"/>
<output xmlns:ns6="http://www.w3.org/2007/05/addressing/metadata" ns6:Action="http://dummyserviceinterface.services.mycompany.com/DummyServiceInterface/extractEventsResponse" message="tns:extractEventsResponse"/>
</operation>
<operation name="extractSentiment" parameterOrder="arg0 arg1">
<input xmlns:ns7="http://www.w3.org/2007/05/addressing/metadata" ns7:Action="http://dummyserviceinterface.services.mycompany.com/DummyServiceInterface/extractSentimentRequest" message="tns:extractSentiment"/>
<output xmlns:ns8="http://www.w3.org/2007/05/addressing/metadata" ns8:Action="http://dummyserviceinterface.services.mycompany.com/DummyServiceInterface/extractSentimentResponse" message="tns:extractSentimentResponse"/>
</operation>
<operation name="translateOntologies" parameterOrder="arg0 arg1">
<input xmlns:ns9="http://www.w3.org/2007/05/addressing/metadata" ns9:Action="http://dummyserviceinterface.services.mycompany.com/DummyServiceInterface/translateOntologiesRequest" message="tns:translateOntologies"/>
<output xmlns:ns10="http://www.w3.org/2007/05/addressing/metadata" ns10:Action="http://dummyserviceinterface.services.mycompany.com/DummyServiceInterface/translateOntologiesResponse" message="tns:translateOntologiesResponse"/>
</operation>
<operation name="translateSchemas" parameterOrder="arg0 arg1 arg2 arg3">
<input xmlns:ns11="http://www.w3.org/2007/05/addressing/metadata" ns11:Action="http://dummyserviceinterface.services.mycompany.com/DummyServiceInterface/translateSchemasRequest" message="tns:translateSchemas"/>
<output xmlns:ns12="http://www.w3.org/2007/05/addressing/metadata" ns12:Action="http://dummyserviceinterface.services.mycompany.com/DummyServiceInterface/translateSchemasResponse" message="tns:translateSchemasResponse"/>
</operation>
<operation name="saveToDB" parameterOrder="arg0 arg1">
<input xmlns:ns13="http://www.w3.org/2007/05/addressing/metadata" ns13:Action="http://dummyserviceinterface.services.mycompany.com/DummyServiceInterface/saveToDBRequest" message="tns:saveToDB"/>
<output xmlns:ns14="http://www.w3.org/2007/05/addressing/metadata" ns14:Action="http://dummyserviceinterface.services.mycompany.com/DummyServiceInterface/saveToDBResponse" message="tns:saveToDBResponse"/>
</operation>
</portType>
</definitions> 
```

**ExtractSocialNetworkProcess.bpel [由 WSO2 工作室生成]**

```
<!-- ExtractSocialNetworkProcess BPEL Process [Generated by the Eclipse BPEL Designer] -->
<!-- Date: Mon Mar 05 12:13:11 IST 2012 -->
<bpel:process name="ExtractSocialNetworkProcess"
         targetNamespace="http://wso2.org/bps/sample"
         suppressJoinFailure="yes"
         xmlns:tns="http://wso2.org/bps/sample"
         xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
         xmlns:ns="http://dummyserviceinterface.services.mycompany.com/" xmlns:ns1="http://www.w3.org/2001/XMLSchema">

    <!-- Import the client WSDL -->
    <bpel:import namespace="http://dummyserviceinterface.services.mycompany.com/" location="DummyServiceInterfaceSchema.wsdl" importType="http://schemas.xmlsoap.org/wsdl/"></bpel:import>
    <bpel:import location="ExtractSocialNetworkProcessArtifacts.wsdl" namespace="http://wso2.org/bps/sample" 
            importType="http://schemas.xmlsoap.org/wsdl/" />

    <!-- ================================================================= -->         
    <!-- PARTNERLINKS                                                      -->
    <!-- List of services participating in this BPEL process               -->
    <!-- ================================================================= -->         
    <bpel:partnerLinks>
        <!-- The 'client' role represents the requester of this service. -->
        <bpel:partnerLink name="client"
                     partnerLinkType="tns:ExtractSocialNetworkProcess"
                     myRole="ExtractSocialNetworkProcessProvider"
                     />
        <bpel:partnerLink name="DummyServiceInterfacePL" partnerLinkType="tns:DummyServiceInterfacePLType" partnerRole="DummyServiceInterfaceRole"></bpel:partnerLink>
    </bpel:partnerLinks>

    <!-- ================================================================= -->         
    <!-- VARIABLES                                                         -->
    <!-- List of messages and XML documents used within this BPEL process  -->
    <!-- ================================================================= -->         
    <bpel:variables>
        <!-- Reference to the message passed as input during initiation -->
        <bpel:variable name="input" messageType="tns:ExtractSocialNetworkProcessRequestMessage"/>

        <!-- 
          Reference to the message that will be returned to the requester
          -->
        <bpel:variable name="output" messageType="tns:ExtractSocialNetworkProcessResponseMessage"/>
        <bpel:variable name="DummyServiceInterfacePLResponse" messageType="ns:extractSocialNetworkResponse"></bpel:variable>
        <bpel:variable name="DummyServiceInterfacePLRequest" messageType="ns:extractSocialNetwork"></bpel:variable>
        <bpel:variable name="temp" type="ns1:string"></bpel:variable>
    </bpel:variables>

    <!-- ================================================================= -->         
    <!-- ORCHESTRATION LOGIC                                               -->
    <!-- Set of activities coordinating the flow of messages across the    -->
    <!-- services integrated within this business process                  -->
    <!-- ================================================================= -->         
    <bpel:sequence name="main">

        <!-- Receive input from requester. 
             Note: This maps to operation defined in ExtractSocialNetworkProcess.wsdl 
             -->
        <bpel:receive name="receiveInput" partnerLink="client"
                 portType="tns:ExtractSocialNetworkProcess"
                 operation="process" variable="input"
                 createInstance="yes"/>

        <!-- Generate reply to synchronous request -->
        <bpel:assign validate="no" name="AssignInputParams">

            <bpel:copy>
                <bpel:from part="payload" variable="input">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:input]]></bpel:query>
                </bpel:from>
                <bpel:to part="arg0" variable="DummyServiceInterfacePLRequest"></bpel:to>
            </bpel:copy>

        </bpel:assign>
        <bpel:invoke name="InvokeESNService" partnerLink="DummyServiceInterfacePL" operation="extractSocialNetwork" portType="ns:DummyServiceInterface" inputVariable="DummyServiceInterfacePLRequest" outputVariable="DummyServiceInterfacePLResponse"></bpel:invoke>

        <bpel:assign validate="no" name="AssignOutputParams">
            <bpel:copy>
                <bpel:from>
                    <bpel:literal>
                        <tns:ExtractSocialNetworkProcessResponse xmlns:tns="http://wso2.org/bps/sample" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><tns:result>tns:result</tns:result>

                        </tns:ExtractSocialNetworkProcessResponse>
                    </bpel:literal>
                </bpel:from>
                <bpel:to variable="output" part="payload"></bpel:to>
            </bpel:copy>
            <bpel:copy>
                <bpel:from part="return" variable="DummyServiceInterfacePLResponse"></bpel:from>
                <bpel:to part="payload" variable="output">
                    <bpel:query queryLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath1.0"><![CDATA[tns:result]]></bpel:query>
                </bpel:to>
            </bpel:copy>
        </bpel:assign>
        <bpel:reply name="replyOutput" 
               partnerLink="client"
               portType="tns:ExtractSocialNetworkProcess"
               operation="process" 
               variable="output"
               />
    </bpel:sequence>
</bpel:process> 
```

**ExtractSocialNetworkProcessArtifacts.wsdl [由 WSO2 工作室生成]**

```
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<definitions xmlns="http://schemas.xmlsoap.org/wsdl/" 
             xmlns:plnk="http://docs.oasis-open.org/wsbpel/2.0/plnktype" 
             xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" 
             xmlns:tns="http://wso2.org/bps/sample" 
             xmlns:vprop="http://docs.oasis-open.org/wsbpel/2.0/varprop" 
             xmlns:wsdl="http://dummyserviceinterface.services.mycompany.com/" 
             name="ExtractSocialNetworkProcess"
             targetNamespace="http://wso2.org/bps/sample">

<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
     TYPE DEFINITION - List of types participating in this BPEL process 
     The BPEL Designer will generate default request and response types
     but you can define or import any XML Schema type and use them as part 
     of the message types.
     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->    
    <plnk:partnerLinkType name="DummyServiceInterfacePLType">
      <plnk:role name="DummyServiceInterfaceRole" portType="wsdl:DummyServiceInterface"/>
    </plnk:partnerLinkType>
    <import location="DummyServiceInterfaceSchema.wsdl" namespace="http://dummyserviceinterface.services.mycompany.com/"/>

    <types>
        <schema xmlns="http://www.w3.org/2001/XMLSchema" attributeFormDefault="unqualified" elementFormDefault="qualified" targetNamespace="http://wso2.org/bps/sample">

            <element name="ExtractSocialNetworkProcessRequest">
                <complexType>
                    <sequence>
                        <element name="input" type="string"/>
                    </sequence>
                </complexType>
            </element>

            <element name="ExtractSocialNetworkProcessResponse">
                <complexType>
                    <sequence>
                        <element name="result" type="string"/>
                    </sequence>
                </complexType>
            </element>
        </schema>
    </types>

<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
     MESSAGE TYPE DEFINITION - Definition of the message types used as 
     part of the port type defintions
     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->    
    <message name="ExtractSocialNetworkProcessRequestMessage">
        <part element="tns:ExtractSocialNetworkProcessRequest" name="payload"/>
    </message>
    <message name="ExtractSocialNetworkProcessResponseMessage">
        <part element="tns:ExtractSocialNetworkProcessResponse" name="payload"/>
    </message>

<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
     PORT TYPE DEFINITION - A port type groups a set of operations into
     a logical service unit.
     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->    

    <!-- portType implemented by the ExtractSocialNetworkProcess BPEL process -->
    <portType name="ExtractSocialNetworkProcess">
        <operation name="process">
            <input message="tns:ExtractSocialNetworkProcessRequestMessage"/>
            <output message="tns:ExtractSocialNetworkProcessResponseMessage"/>
        </operation>
    </portType>   
<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
     PARTNER LINK TYPE DEFINITION
     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->    
    <plnk:partnerLinkType name="ExtractSocialNetworkProcess">
        <plnk:role name="ExtractSocialNetworkProcessProvider" portType="tns:ExtractSocialNetworkProcess"/>
    </plnk:partnerLinkType>

<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
     BINDING DEFINITION - Defines the message format and protocol details
     for a web service.
     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
    <binding name="ExtractSocialNetworkProcessBinding" type="tns:ExtractSocialNetworkProcess">
        <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
        <operation name="process">
            <soap:operation soapAction="http://wso2.org/bps/sample/process"/>
            <input>
                <soap:body use="literal"/>
            </input>
            <output>
                <soap:body use="literal"/>
            </output>
        </operation>
    </binding>

<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
     SERVICE DEFINITION - A service groups a set of ports into
     a service unit.
     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
    <service name="ExtractSocialNetworkProcess">
        <port binding="tns:ExtractSocialNetworkProcessBinding" name="ExtractSocialNetworkProcessPort">
            <soap:address location="http://localhost:8080/ExtractSocialNetworkProcess"/>
        </port>
    </service>
</definitions> 
```

**deploy.xml [由 WSO2 工作室生成]**

```
<?xml version="1.0" encoding="UTF-8"?>
<deploy xmlns="http://www.apache.org/ode/schemas/dd/2007/03" 
       xmlns:dummyserviceimpl.services.mycompany.com="http://dummyserviceimpl.services.mycompany.com/" 
       xmlns:sample="http://wso2.org/bps/sample">
  <process name="sample:ExtractSocialNetworkProcess">
    <active>true</active>
    <retired>false</retired>
    <process-events generate="all"/>
    <provide partnerLink="client">
      <service name="sample:ExtractSocialNetworkProcess" port="ExtractSocialNetworkProcessPort"/>
    </provide>
    <invoke partnerLink="DummyServiceInterfacePL">
      <service name="dummyserviceimpl.services.mycompany.com:DummyServiceInterface" port="DummyServiceImplPort"/>
    </invoke>
  </process>
</deploy> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T11:57:50.843

您可以将原始 bpel 包和自动生成的 bpel 包上传到某个位置并共享链接。然后我可以检查导致问题的原因。或者您可以向 wso2 的开发人员邮件列表发送邮件，其中包含相关的 bpel 包。

问候南迪卡

# c++ - Boost c++ 和属性映射 - 将数组放入向量

> ID：15018679
> 
> 赞同：1
> 
> 时间：2013-02-22T07:05:08.677
> 
> 标签：c++, json, boot

如何使用从 json 解码的 boos 属性映射将数组转换为 stl 的向量

```
 hash = {'time_series':[1.0,1.0])

                ptree pt2;
        std::istringstream is (content); read_json (is, pt2);
        std::vector<double> time_series = pt2.get("time_series");

../src/rtbTimeSeries.cpp:172:62: error: no matching function for call to ‘boost::property_tree::basic_ptree<std::basic_string<char>, std::basic_string<char> >::get(const char [12])’ 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:09:15.707

你应该使用这样的东西

```
std::vector<double> v;
pt::ptree subtree = p.get_child("time_series");
for (const auto& tree : subtree)
{
  v.push_back(tree.second.get<int>(""));
}
for (auto i : v)
{
   std::cout << i << std::endl;
} 
```

[http://liveworkspace.org/code/WlrPt](http://liveworkspace.org/code/WlrPt) 16 美元

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T07:14:39.313

您的错误首先出现是因为您没有为`get`函数指定模板类型。请参阅[五分钟教程](http://www.boost.org/doc/libs/1_41_0/doc/html/boost_propertytree/tutorial.html)以了解如何读取数组。

我认为没有简单的方法可以作为容器读取，但似乎可以将[迭代器传递给 children](http://www.boost.org/doc/libs/1_53_0/doc/html/boost_propertytree/container.html)。可以将它与向量的构造函数一起使用。

# jquery - 使用双向选项使 div 无限滚动

> ID：15018687
> 
> 赞同：1
> 
> 时间：2013-02-22T07:05:57.917
> 
> 标签：jquery, carousel, infinite-scroll

我正在使用插件 Smooth Div Scroll 的 ( [http://www.smoothdivscroll.com/](http://www.smoothdivscroll.com/) ) 快速演示。一切都很好，除了一件事：让它无限循环；为双方。

我试过了，试过了，试过了。还没有运气。

希望有人可以提供帮助。

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:10:00.643

这里给出了正确的代码。也许你错过了一些东西：

```
manualContinuousScrolling: true, 
```

将此选项也与代码一起使用。

# flash - 如果在 swf 中为 Presenter 使用 _global 会有什么麻烦

> ID：15018701
> 
> 赞同：0
> 
> 时间：2013-02-22T07:07:09.913
> 
> 标签：flash, global, presenter

我必须将很多 swf 转换为在 Presenter 中使用它们。它们是旧的（AS1），并且到处都有很多“_root”（“_root”在 Presener 中不起作用）。

所以我的想法是设置一个像这样的全局变量：

`_global.myUniqueVariable = this;//on the first image of the scene, this = _level0 or _root`

并将 _root 替换为 _global.myUniqueVariable。

但是在 Presenter 7 的文档中（我正在研究 8），Adobe 警告不要使用 _root、_level#、stage 和 _global。但我试过了，它奏效了。

那么，如果我使用它会出现什么样的问题。我能想象的唯一麻烦是覆盖 Presenter 的变量（但它不会附加一个非常具体的名称）。

谢谢，格雷格

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-26T16:43:12.297

如果你用loadMovie命令将swf1加载到另一个swf2中，并且为不同的播放器版本编译了swf1和swf2，就会有不同的_globals。调试器可能不会显示这个事实。

如果您将一些 swf 加载到不同的关卡或电影中，并且该 swf 与“单个数据交换点 _global”协调，则可能无法正常工作...

# c++ - Valgrind报告写入错误？为什么？

> ID：15018712
> 
> 赞同：0
> 
> 时间：2013-02-22T07:08:13.033
> 
> 标签：c++, valgrind

在运行 Valgrind 的 memcheck 时，偶尔 valgrind 会报如下错误：

```
==2745== Memcheck，内存错误检测器
==2745== 版权所有 (C) 2002-2010 和 GNU GPL，由 Julian Seward 等人提供。
==2745== 使用 Valgrind-3.6.0 和 LibVEX；使用 -h 重新运行以获取版权信息
==2745== 命令：./HSFramework
==2745==
==2745== 大小为 8 的无效写入
==2745== 在 0x3B81C097C0：do_lookup_x（在 /lib64/ld-2.12.so 中）
==2745== 由 0x1C31032D: ???
==2745== 由 0x3B81C09E19：_dl_lookup_symbol_x（在 /lib64/ld-2.12.so 中）
==2745== 地址 0x7feffee78 在线程 1 的堆栈上
==2745==

平台：Linux 2.6.32-220.el6.x86_64 x86_64 x86_64 x86_64 GNU/Linux

```

此错误报告中没有关于我的代码的线索。我不知道这个错误报告。
什么原因会导致这个错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:12:26.113

这意味着该`do_lookup_x`函数执行了无效的写访问。该函数是[运行时库](https://stackoverflow.com/questions/11768919/what-is-dl-lookup-symbol-x-c-profiling)的一部分（不太可能是问题的根源）。我会联系 HSFramework 的作者，看看他们是否可以像你一样通过运行 valgrind 来解决这个问题

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:16:06.083

此错误意味着您在 do_lookup_x 中遇到缓冲区溢出，如果您获得了它的源代码，请查看或与我们分享。

[http://valgrind.org/docs/manual/quick-start.html](http://valgrind.org/docs/manual/quick-start.html)

# ios - 生成视频缩略图会使 tableview 变慢

> ID：15018714
> 
> 赞同：1
> 
> 时间：2013-02-22T07:08:19.717
> 
> 标签：ios, uitableview, slowdown, video-thumbnails

我正在为存储在我的文档目录中的视频生成缩略图，并将其显示在 UITableview 中。这行得通，但是当我滚动时，它使我的表格视图变得缓慢而生涩。我也使用过 GCD (dispatch_async)，但结果是一样的。有人可以告诉我如何正确实施吗？我怎样才能在没有缓慢、生涩的表格视图的情况下实现这一目标？

注意：我更喜欢在需要时生成缩略图，而不是在第一次创建视频时生成和存储多个缩略图。

这是我使用 MPMoviePlayer 控制器生成缩略图的代码：

```
movie= [[MPMoviePlayerController alloc] initWithContentURL:[NSURL fileURLWithPath:Path]];
thumbnail = [movie thumbnailImageAtTime:1.0 timeOption:MPMovieTimeOptionNearestKeyFrame];[player stop];
[player stop];        
player = nil; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T09:47:43.960

我在[从库中提取的视频的 UIImagePickerController 缩略图中](https://stackoverflow.com/questions/5719135/uiimagepickercontroller-thumbnail-of-video-which-is-pick-up-from-library)找到了解决我的问题的解决方案。要获得非常快速的响应，请使用 GCD（块）实现代码

# c# - 当我想从列表中添加时，为什么会收到空错误异常？

> ID：15018717
> 
> 赞同：-4
> 
> 时间：2013-02-22T07:08:31.133
> 
> 标签：c#, list

我正在从列表中读取一件盔甲的坐标。当它找到那个特定的盔甲时，它应该获取那个盔甲对象，并将其添加到另一个列表中。然而我收到一个空对象错误（对象引用未设置为对象的实例）？

```
foreach (Armour item in armousOnMap)
        {
            if (item.Row == _yPosition && item.Column == _xPosition)
            {                    
                armourInventory.Add((Armour)item);
            }
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:13:37.397

您需要先初始化列表，然后将项目添加到其中。

```
var armourInventory = new List<Armour>(); 
```

在您制作清单时添加此行。

```
var armourInventory = new List<Armour>();
foreach (Armour item in armousOnMap)
{
    if (item.Row == _yPosition && item.Column == _xPosition)
    {                    
        armourInventory.Add((Armour)item);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T10:42:58.477

所有坐标都填充了吗？即不是空值？

```
var armourInventory = new List<Armour>();

foreach (Armour item in armousOnMap)
{
    if ((item.Row != null && item.Row == _yPosition) && (item.Column != null && item.Column == _xPosition))
    {                    
        armourInventory.Add((Armour)item);
    }
} 
```

# iphone - 如何在 iOS 应用程序中嵌入 Flash 文件

> ID：15018719
> 
> 赞同：2
> 
> 时间：2013-02-22T07:08:33.227
> 
> 标签：iphone, objective-c, xcode, flash

我有一些 flash 文件，我需要将这些文件集成到 iPad 应用程序中。我搜索了很多，但每个人的答案都是

**- iOS 将不支持闪存。**

**- 即使你整合Flash文件应用商店也不会接受。**

但我的应用程序不适用于应用商店，这是一个企业应用程序。我们可以在我们的objective-c 本身中完成所有动画，而不是集成flash 文件。但客户要求在 iPad 应用程序中集成 Flash 文件。是否有任何替代解决方案。请指导我。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T09:46:28.837

当然，您可以在 iOS 上运行 Flash 应用程序，您只需使用[AIR](http://www.adobe.com/devnet/air.html)构建它们：

> Adobe AIR 是一个跨平台运行时，使您能够使用现有的 Flash/ActionScript 或 HTML/JavaScript 开发技能和工具在浏览器之外和移动设备上构建和部署应用程序、游戏和视频。

这是有关如何构建针对任何 iOS 设备的 Flash ActionScript 3 应用程序[的特定资源页面。](http://www.adobe.com/devnet/air/air_for_ios.html)

AIR 的美妙之处在于，如果您的应用程序代码组织良好，您可以将其中的大部分代码重用于任何构建，无论是用于 Android、iOS、Blackberry，甚至是桌面应用程序（windows 和 macosx）或 Web。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-10-03T18:58:01.363

***混合方式：***

Flash 到 html5 的转换然后使用 webview 打开 HTML 文档

*   **谷歌迅捷：**

瑞士法郎到 HTML 5

*笔记：*

目前最多只能转换 1 mb

*关联：*

[点击这里](https://www.google.com/doubleclick/studio/swiffy/)

*   **Adobe 小袋鼠：**

Fla 到 HTML 5

*笔记：*

目前只支持cs5，低版本需要在cs5中重新保存才能转换。

*关联：*

[点击这里](http://adobe-wallaby.en.malavida.com/)

***原生方式：***

*   **土坯空气：**

可以直接在 ios 设备中运行 actionscript flash 内容。

*笔记：*

目前，您只能制作无法与现有应用程序集成的独立 ios 应用程序。

*关联：*

[点击这里](http://www.adobe.com/inspire/2012/12/ios-apps-flash-cs6.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T07:17:58.343

这只是绕道而行，但您可以安装[Photon](https://itunes.apple.com/en/app/photon-flash-video-player/id430200224?mt=8)浏览器并从您的应用程序中调用它。

# sql - 映射 SQL 类型以导入向导类型

> ID：15018724
> 
> 赞同：1
> 
> 时间：2013-02-22T07:08:46.283
> 
> 标签：sql, csv, import, sql-server-2008-r2

是否有表格显示 SQL Server 2008 的类型如何映射到其自己的导入向导中的数据类型？例如`varchar`映射到`DT_STR`，`bigint`映射到什么？

我说的是这个向导： ![SQL2008 导入向导](../Images/d00dbe30e84255f810f7b1a77f2148fe.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T07:18:24.600

也许你可以使用`DT_I8`for `bigint`。

更多：[SSIS 数据类型](http://msdn.microsoft.com/en-us/library/ms141036.aspx)部分：集成服务数据类型到数据库数据类型的映射

# iphone - 如何在 iOS 后台取消所有 NSURLConnections

> ID：15018726
> 
> 赞同：2
> 
> 时间：2013-02-22T07:08:55.950
> 
> 标签：iphone, ios, objective-c

我正在使用 NSURLCONnections 下载一些图像（大约 200-300 个拇指图像）。我有这些图像的 url 数组。连接开始下载这些图像。但在某些情况下，我想取消所有这些下载。怎么可能。我可以取消所有这些 NSURLConnections。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T07:21:30.130

创建 NSOperationQueue 并通过此队列使用 NSURLConnection 会更好。

例如：

```
NSOperationQueue *queue = [NSOperationQueue new];
NSInvocationOperation *operation = [[NSInvocationOperation alloc] initWithTarget:self selector:@selector(sendRequest)];

- (void) sendRequest {
    NSURL *url = [NSURL URLWithString:@"http://www.google.com"];
    NSMutableURLRequest *theRequest = [NSMutableURLRequest requestWithURL:url];
    NSURLConnection *theConnection = [[[NSURLConnection alloc] initWithRequest:theRequest delegate:self] autorelease];
    ...
} 
```

NSOperationQueue 有方法`cancelAllOperations`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T07:11:53.363

`[connection cancel]`用于取消一个 NSURLConnection。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T07:52:36.897

我会`NSURLConnection`结合使用同步`NSOperationQueue`来下载数据：

```
[queue addOperationWithBlock:^{
    NSData *data = [NSURLConnection
        sendSynchronousRequest:…
        returningResponse:… error:…];
}]; 
```

这样，您可以轻松控制并发下载的数量并使用`[queue cancelAllOperations]`. 请注意，取消队列不会停止已经开始的下载，但如果您只下载小缩略图并且有相当大的并发下载限制，那将不是问题。

同步`NSURLConnection`模式的优点是比异步委托 API 更易于使用。

# google-app-engine - com.google.appengine.api.files.FileServiceImpl.translateException 处的 java.io.IOException（FileServiceImpl.java:586）

> ID：15018727
> 
> 赞同：3
> 
> 时间：2013-02-22T07:09:09.463
> 
> 标签：google-app-engine, google-cloud-storage

我在本地和生产中收到以下错误。我正在使用 SDK1.6.3。@production 我还在“google api 控制台”的团队选项卡中添加了 XXXXXXXX@appspot.gserviceaccount.com。

```
 FileService fileService = FileServiceFactory.getFileService(); 
  GSFileOptionsBuilder optionsBuilder = new GSFileOptionsBuilder() .setBucket(BUCKETNAME) .setKey(FILENAME) .setMimeType("text/html") .setAcl("public_read") .addUserMetadata("myfield1", "my field value"); 
  AppEngineFile writableFile = fileService.createNewGSFile(optionsBuilder.build()); 
```

这是我的代码，我收到错误

```
AppEngineFile writableFile = fileService.createNewGSFile(optionsBuilder.build()); 
```

我使用的上述代码并出现以下错误..

```
java.io.IOException
    at com.google.appengine.api.files.FileServiceImpl.translateException(FileServiceImpl.java:586)
    at com.google.appengine.api.files.FileServiceImpl.makeSyncCall(FileServiceImpl.java:561)
    at com.google.appengine.api.files.FileServiceImpl.create(FileServiceImpl.java:479)
    at com.google.appengine.api.files.FileServiceImpl.createNewGSFile(FileServiceImpl.java:149)
    at com.yamaha.StogareTestServlet.doGet(StogareTestServlet.java:34)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
    at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)
    at com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:35)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:60)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:122)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)
    at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)
    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)
    at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)
    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)
    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)
    at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)
    at com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:78)
    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
    at com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:363)
    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)
    at org.mortbay.jetty.Server.handle(Server.java:326)
    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)
    at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:923)
    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:547)
    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)
    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)
    at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)
    at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)
Caused by: com.google.apphosting.api.ApiProxy$ApplicationException: ApplicationError: 705: Parameter x-goog-meta-myfield1 is not supported
    at com.google.appengine.api.files.dev.LocalFileService.throwError(LocalFileService.java:196)
    at com.google.appengine.api.files.dev.FileMetadata.checkParameters(FileMetadata.java:211)
    at com.google.appengine.api.files.dev.GSFile.create(GSFile.java:98)
    at com.google.appengine.api.files.dev.LocalFileService.create(LocalFileService.java:217)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at com.google.appengine.tools.development.ApiProxyLocalImpl$AsyncApiCall.callInternal(ApiProxyLocalImpl.java:498)
    at com.google.appengine.tools.development.ApiProxyLocalImpl$AsyncApiCall.call(ApiProxyLocalImpl.java:452)
    at com.google.appengine.tools.development.ApiProxyLocalImpl$AsyncApiCall.call(ApiProxyLocalImpl.java:430)
    at java.util.concurrent.Executors$PrivilegedCallable$1.run(Executors.java:463)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.util.concurrent.Executors$PrivilegedCallable.call(Executors.java:460)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
    at java.util.concurrent.FutureTask.run(FutureTask.java:138)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)
    at java.lang.Thread.run(Thread.java:619)

Caused by:
com.google.apphosting.api.ApiProxy$ApplicationException: ApplicationError: 705: Parameter x-goog-meta-myfield1 is not supported
    at com.google.appengine.api.files.dev.LocalFileService.throwError(LocalFileService.java:196)
    at com.google.appengine.api.files.dev.FileMetadata.checkParameters(FileMetadata.java:211)
    at com.google.appengine.api.files.dev.GSFile.create(GSFile.java:98)
    at com.google.appengine.api.files.dev.LocalFileService.create(LocalFileService.java:217)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at com.google.appengine.tools.development.ApiProxyLocalImpl$AsyncApiCall.callInternal(ApiProxyLocalImpl.java:498)
    at com.google.appengine.tools.development.ApiProxyLocalImpl$AsyncApiCall.call(ApiProxyLocalImpl.java:452)
    at com.google.appengine.tools.development.ApiProxyLocalImpl$AsyncApiCall.call(ApiProxyLocalImpl.java:430)
    at java.util.concurrent.Executors$PrivilegedCallable$1.run(Executors.java:463)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.util.concurrent.Executors$PrivilegedCallable.call(Executors.java:460)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
    at java.util.concurrent.FutureTask.run(FutureTask.java:138)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:885)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:907)
    at java.lang.Thread.run(Thread.java:619) 
```

请帮帮我。在此先感谢 - Shri Kant

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-18T22:47:12.403

请升级到最新版本的 Java SDK（2013 年 5 月 18 日为 1.8.0）：[https ://developers.google.com/appengine/downloads#Google_App_Engine_SDK_for_Java](https://developers.google.com/appengine/downloads#Google_App_Engine_SDK_for_Java)

当前版本的 SDK 不再包含您在错误中列出的堆栈跟踪：

```
at com.google.appengine.api.files.dev.LocalFileService.throwError(LocalFileService.java:196) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-07T21:24:43.993

我必须查看 com.google.appengine.api.files.GSFileOptions (gae java sdk 1.8.1.1) 的源代码才能找出有效的存储桶名称应该是什么。

第37行：this.fileName = FileServiceImpl.GS_FILESYSTEM_PREFIX + bucket + "/" + key；

Javadoc 不提供有关存储桶格式的任何信息。在这种情况下，不要在您的存储桶名称中包含 /gs/ 前缀或 / 结尾（就像我所做的那样。）如果您使用过其他 API（例如[BlobStor API](https://developers.google.com/appengine/docs/java/blobstore/#using-blobstore-with-gcs)），这可能会令人困惑，因为它们需要 /gs/字首。

我得到了与 1.8.1.1 相同的异常和堆栈跟踪，因此错误的存储桶名称可能是原因。

此外，您可能想尝试[Google Cloud Storage Client Library](https://developers.google.com/appengine/docs/java/googlecloudstorageclient/#about_the_google_cloud_storage_gcs_client_library)。

# java - 堆排序问题

> ID：15018731
> 
> 赞同：2
> 
> 时间：2013-02-22T07:09:16.267
> 
> 标签：java, algorithm, sorting, heapsort

我正在处理一个涉及 java 中的堆排序实现的作业问题。这是我到目前为止所拥有的

```
public class HeapSort {

    public static void maxHeapify(int[] a, int i) {
        int largest;
        int l = 2*i;
        int r = (2*i)+1;
        if (l<=a.length-1 && a[l]>a[i]) {
            largest = l;
        }
        else {
            largest = i;
        }
        if (r<a.length-1 && a[r]>a[largest]) {
            largest = r;
        }
        if (largest != i) {
            int temp = a[i];
            a[i] = a[largest];
            a[largest] = temp;
            maxHeapify(a,largest);
        }
    }

    public static void buildMaxHeap(int[] a) {
        for (int i=(a.length-1/2); i>=1; i--) {
            maxHeapify(a,i);
        }
    }

    public static void heapSort(int[] a) {
        buildMaxHeap(a);
        for (int i=a.length-1; i>=1; i--) {
            int temp = a[0];
            a[0] = a[i];
            a[0] = temp;
            maxHeapify(a,1);
        }
    } 
```

这是我放在一起测试的主要内容（带输出）

```
public static void main(String[] args) {
    int[] tester = {3,2,9,45,7,15,21,11,36};
    System.out.println(Arrays.toString(tester));
    heapSort(tester);
    System.out.println(Arrays.toString(tester));
}

[3, 2, 9, 45, 7, 15, 21, 11, 36]
[3, 45, 36, 21, 9, 15, 2, 11, 7] 
```

我目前没有收到任何错误，但输出有点偏离。很感谢任何形式的帮助。谢谢！

*编辑添加示例输出

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:24:37.993

快速浏览一下，我会说您错过了一些对 maxHeapify() 的调用。看起来你只有 maxHeapify() 堆的一半（在最右边的分支结束的一半），而不是其余的。您必须为 a[0] 到 a[length/2] 中的所有元素调用 maxHeapify()。

您应该将对 maxHeapify() 的递归调用移出交换条件。对于堆的初始构建，您必须一直传播到根。而且你不是 maxHeapify() '最大'元素，而是堆上一层的元素，所以总是如此`i/2`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:31:58.243

```
 if (r<a.length-1 && a[r]>a[largest]) {
        largest = r;
    } 
```

应该

```
 if (r<=a.length-1 && a[r]>a[largest]) {
        largest = r;
    } 
```

我相信您还必须调用`maxHeapify(a,0);`而不是`maxHeapify(a,1);`在最后一个循环中调用。除了上面提到的评论中的 -1/2 排序问题。那应该做的工作。

# php - 标头位置和元标记

> ID：15018733
> 
> 赞同：0
> 
> 时间：2013-02-22T07:09:21.313
> 
> 标签：php

我的脚本索引页面正在运行随机查询。

**示例：**点击 index.php 和 index.php 重定向到 topic.php?id=RANDOMID

我的重定向代码：

```
header("Location:topic.php?id=$randomId"); 
```

就在这里。

但是当我在谷歌上写 mysite.com 时，谷歌给了我主题的标题和元标签。我只想要主页标题和元标记。

我想要主页 > 标题、元标签和主题页 > 标题、元不同。

对不起我的英语不好..谢谢你..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:14:44.937

你*没有*主页，你有一个重定向。由于您没有主页，因此它不能包含将显示在搜索索引中的元数据。

# html - 如何在 html 中使用嵌套的 iframe？

> ID：15018738
> 
> 赞同：8
> 
> 时间：2013-02-22T07:09:46.063
> 
> 标签：html

我正在尝试这样。但是 frame1 是可见的。我无法显示frame2。代码如下，

```
 <!DOCTYPE html>
<html>
<body>

<iframe src="http://www.w3schools.com" width="1000" height="1000" id="frame1" name="frame1">
  <iframe width="200" height="200" src="http://www.bing.com" id="frame2" name="frame2">
  </iframe></iframe></body></html> 
```

谁能帮帮我吗。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-22T07:12:29.170

如果框架被禁用或不支持，iframe 的子元素是可供使用的*替代内容。*

要么使子框架成为同级框架，要么将其移动到您加载到外部框架中的文档中。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2016-02-08T02:00:48.967

如果您想在 iframe 中使用 iframe，您应该执行以下操作：

访问此页面的链接应该`?interframe=true`在它的末尾。
例如，`http://www.example.com/test.html?interframe=true`
您**不应该**添加`?interframe=true`到 andthough 的`http://www.w3schools.com`末尾`http://www.bing.com`。

说清楚：
假设您的主页是`http://www.example.com`您需要帮助的页面是`http://www.example.com/test`

带给你的`<a>`标签应该是`http://www.example.com``http://www.example.com/test.html``<a href="http://www.example.com/test.html?interframe=true">example text</a>`

我希望这有帮助。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-22T07:14:40.137

你可以把它叠起来。但是对于嵌套，您需要对其进行编辑。

主页有指向 page1 的 iframe 代码。第 1 页的 iframe 代码指向第 2 页。

不要将它们嵌套在一页中。如果您无法编辑第 1 页，则将它们堆叠起来。

主页.html

```
<DOCTYPE html><html><body>
<iframe src="page1.html" width="1000" height="1000" id="frame1" name="frame1"></iframe>
</body></html> 
```

Page1.html

```
<!DOCTYPE html><html><body>
<iframe width="200" height="200" src="page2.html" id="frame2" name="frame2"></iframe>
</body></html> 
```

对于堆叠，请参阅@Andri 答案。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-22T07:19:51.743

尝试将您的标记更改为以下内容：

```
<!DOCTYPE html>
<html>
    <body>
        <iframe src="http://www.w3schools.com" width="1000" height="1000" id="frame1" name="frame1">
        </iframe>
        <iframe width="200" height="200" src="http://www.bing.com" id="frame2" name="frame2">
        </iframe>
    </body>
</html> 
```

# javascript - 纯动态页面——是否可行

> ID：15018744
> 
> 赞同：2
> 
> 时间：2013-02-22T07:10:13.553
> 
> 标签：javascript, html

我正在建立一个网站并考虑使用纯动态页面，即没有 html 文件，一切都由 javascript 中的路由器处理，DOM 元素全部由 javascript 创建并插入到文档中。

我只是想知道这是否是个好主意。恕我直言，事件可以在创建时附加到 DOM 元素，这可能会使代码更具可读性。静态和动态部分可能会更好地结合起来。但是页面格式可能会变得不清楚。而且我不太确定性能是否会受到影响。

有人知道实际使用这种方法的任何网站吗？

非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:52:43.133

这个问题有点含糊，但您可能正在寻找任何数量的新时代 JavaScript 前端 MVC 框架：

*   [http://angularjs.org/](http://angularjs.org/)
*   [http://meteor.com/](http://meteor.com/)
*   [http://backbonejs.org/](http://backbonejs.org/)
*   等等

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T08:24:03.563

试试[pure](http://beebole.com/pure/)，一个 javascript 库，它将表示（HTML）和逻辑（js）分开，使代码清晰易懂。它还支持与主要 javascript 库的集成。

## pure.js 示例

### HTML 模板

```
<div class="hello">
<span class="who"></span>
</div> 
```

### 渲染指令

```
{
  "span.who":"who"
} 
```

### JSON数据

```
{
  "who":"Hello Wrrrld"
} 
```

### 生成的 HTML

```
<div class="hello">
<span class="who">Hello Wrrrld</span>
</div> 
```

# java - 将扫描仪与字符串进行比较

> ID：15018745
> 
> 赞同：0
> 
> 时间：2013-02-22T07:10:18.753
> 
> 标签：java, string, compare

我试图让用户输入一个字符（“y”/“n”）并检查这是否是正确的答案。我收到以下错误：“无法比较的类型：java.util.Scanner 和 java.lang.String”

```
Scanner userInput = new Scanner(System.in);

System.out.printf("Is this word spelled correctly?: %s", wordToCheck);
        rightCheck(userInput); 
```

* * *

```
public boolean rightCheck(Scanner usersAnswer)
{
    if(usersAnswer == "y")
    {
        //"Correct!"
        //Increment User's Score
    }
    else
    {
        //"Incorrect"
        //Decrement User's Score
    }
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T07:13:55.237

是的，因为扫描仪是一种*获取输入*的方式，而不是值本身。您想从输入中获取下一个值，然后进行比较。像这样的东西：

```
String answer = scanner.next();
if (answer.equals("y")) {
    ...
} else if (answer.equals("n")) {
    ...
} 
```

请注意，您通常（包括这种情况）*不应该*将字符串与进行比较`==`，因为这会比较两个操作数是否引用完全相同的字符串对象 - 您只对它们是否引用*相等*的对象感兴趣。（有关更多详细信息，请参阅[此问题](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)。）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:14:25.090

我相信您应该首先从 Scanner 获取字符串（通过 next() 也许？）。然后在您的方法中，不要使用“==”作为字符串比较器。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T07:18:35.893

我已经修改了您的代码，尚未对其进行测试，但它应该可以工作：

```
 Scanner userInput = new Scanner(System.in);

System.out.println("Is this word spelled correctly?:" + wordToCheck);
        rightCheck(userInput.next());//send the string rather than the scanner

public boolean rightCheck(String usersAnswer)//convert the parameter type to String
{
    if(usersAnswer == "y")
    {
        //"Correct!"
        //Increment User's Score
    }
    else
    {
        //"Incorrect"
        //Decrement User's Score
    }
} 
```

# jquery-ui-tabs - JQuery UI选项卡内容未在生成的内容div中加载？

> ID：15018747
> 
> 赞同：1
> 
> 时间：2013-02-22T07:10:21.367
> 
> 标签：jquery-ui-tabs

这是我的代码：

```
<div class="tabs">
<ul>
    <li><a href="#tabs-1">tab1</a></li>
    <li><a href="#tabs-2">tab2</a></li>
    <li><a href="#tabs-3">tab3</a></li>
    <li><a href="#tabs-4">tab4</a></li>
</ul>
   <div id="tabs-1">
      tab1
   </div>
   <div id="tabs-2">
      tab2
  </div>
   <div id="tabs-3">
      tab3
   </div>
   <div id="tabs-4">
      tab4
   </div>
</div>
<script>$(function() { $( ".tabs" ).tabs(); });</script> 
```

标签标题很好，但内容显示不正确，这是一个截图 ![在此处输入图像描述](../Images/ff752e9d03bf5cfb92aac4e991f0d76d.png)

当我查看 firebug 的代码时，我发现内容选项卡已加载但内容未包含在其中。如何解决这个问题？

![在此处输入图像描述](../Images/f19aa8ef37a6dd182bafbad5b2db559c.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T17:13:16.860

在您的脚本标签中尝试以下操作：

```
$(document).ready(function() {
        $("#tabs").tabs();
}); 
```

看起来您正在尝试将类选择器与您的脚本一起使用。

# javascript - 尝试在 'pjax:popstate' 上设置事件 'click' - 不工作

> ID：15018750
> 
> 赞同：0
> 
> 时间：2013-02-22T07:10:31.950
> 
> 标签：javascript, jquery, pjax

Pjax 的小例子：http: [//indapublic.ru/pjax/](http://indapublic.ru/pjax/)

函数**处理程序**设置事件单击“测试链接”并在 Javascript 控制台中输出“处理程序”。

```
function handler() {
    console.log('handler');
    // console.log($('#testLink'));

    $('#testLink').click(function(event) {
        event.preventDefault();
        console.log('click');
    })
} 
```

函数**处理程序**在**pjax:success pjax:popstate**事件上执行。

```
$(document).on('pjax:success pjax:popstate', function() {
    handler();
}); 
```

尝试直接加载或通过 Pjax 加载后单击“测试链接”。它将在 Javascript 控制台上输出“点击”。但是，如果您使用“返回”按钮返回 - 函数**处理程序**将被执行，但单击“测试链接”不起作用。

为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T04:00:04.390

尝试使用事件委托，将其排除在处理程序方法之外

```
$(function(){
    $('body').on('click', '#testLink', function(event) {
            event.preventDefault();
            console.log('click');
    })
}); 
```

# iphone - 隐藏后的CustomView（UITableView）必须访问Customview区域下的UITextFields

> ID：15018756
> 
> 赞同：-1
> 
> 时间：2013-02-22T07:11:01.593
> 
> 标签：iphone, uitableview, xcode4.5

在我的功能完成后，我开始编辑时会隐藏这个`UITableView`。`UITextField`

我已经采取了 static `UITableView`。我的问题是隐藏`UITableView`（CustomView）后我无法在下面访问`UITextFields`（在 UITableView 区域中存在）

```
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string{
        if(textField==CompanyName)
        {
            autocompleteTableView.hidden = NO;
                NSString *substring = [NSString stringWithString:textField.text];
                substring = [substring stringByReplacingCharactersInRange:range withString:string];
                [self searchAutocompleteEntriesWithSubstring:substring];
                return YES;
                if([CompanyName.text length]==0)
                {
                    autocompleteTableView.hidden = YES;

                }
        }

        if([arr4 count]!=0)
        {
            self.autocompleteUrls = [[[NSMutableArray alloc] init]autorelease];
            viewForautoCompleteTableView = [[UIView alloc]initWithFrame:CGRectMake(10, 110, 195, 230)];

            if(autocompleteTableView)
                [autocompleteTableView removeFromSuperview];

            autocompleteTableView = [[UITableView alloc] initWithFrame:CGRectMake(0,0,195,150) style:UITableViewStyleGrouped];
            autocompleteTableView.delegate = self;
            autocompleteTableView.dataSource = self;
            autocompleteTableView.scrollEnabled = YES;
            autocompleteTableView.backgroundColor = [UIColor lightTextColor];
            autocompleteTableView.rowHeight=28;

            autocompleteTableView.backgroundView = nil;
            autocompleteTableView.backgroundColor = [UIColor whiteColor];

            autocompleteTableView.separatorStyle = UITableViewCellSeparatorStyleNone;
            [autocompleteTableView setSeparatorColor:[UIColor orangeColor]];
            [viewForautoCompleteTableView setFrame:CGRectMake(10,110 ,195,autocompleteTableView.frame.size.height)];

            [viewForautoCompleteTableView addSubview:autocompleteTableView];
            [self.view addSubview:viewForautoCompleteTableView];

            [autocompleteUrls removeAllObjects];
            for(int i=0;i<[arr4 count];i++)
            {
                NSString *curString = [[arr4 objectAtIndex:i] valueForKey:@"Name"];
                [autocompleteUrls addObject:curString];

            }
        }
    [autocompleteTableView reloadData];
}

- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    if(currentHtmlElement==@"5")
    {
        UITableViewCell *selectedCell = [tableView cellForRowAtIndexPath:indexPath];
        CompanyName.text = selectedCell.textLabel.text;
        autocompleteTableView.hidden=YES;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T09:44:39.607

添加 textField 委托如下：它会帮助你..

```
- (void)textFieldDidEndEditing:(UITextField *)textField
{
    [self.view bringSubviewToFront:btnuserLocation];
    autocompleteTableView.hidden=true;
} 
```

对于 UIbutton 的按钮更改控制事件，从 UIControlEventTouchDown 到 UIControlEventTouchUpInside 如下所示：

```
[btnuserLocation addTarget:self
                    action:@selector(showLocation:)
                forControlEvents:UIControlEventTouchUpInside]; 
```

每当从 textField 中移除焦点时，它将隐藏您的表格视图。并让您单击 tableView 后面的按钮。

# jsf - 无法在 JSF 中加载 css

> ID：15018759
> 
> 赞同：0
> 
> 时间：2013-02-22T07:11:06.140
> 
> 标签：jsf

我正在使用 JSF 2.2。我无法`.css`在我的`.xhtml`页面中添加。代码在`.xhtml`

```
<h:head>
    <title>Login Page</title>
</h:head>

<h:body>
<h:outputStylesheet library="resources/css" name="style.css" id="cascade1"/> 
```

我也尝试将其声明为`<h:head>`具有相同结果的 a 。FireBug 正在查看此资源，但显示消息：

> 重新加载页面以获取源代码 .../javax.faces.resource/style.css.xhtml;...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T07:26:15.763

不需要使用`library`属性：

```
<h:outputStylesheet name="css/style.css"  /> 
```

这样，JSF servlet 期望`style.css`文件位于`/resources/css`路径中。

# c# - 如何使用 C# 以编程方式获取正在运行的程序的产品（而非程序集）版本？

> ID：15018762
> 
> 赞同：1
> 
> 时间：2013-02-22T07:11:24.000
> 
> 标签：c#, visual-studio, installshield

我有一个我编写的程序，并正在尝试为其创建一个关于框。我最近将程序的产品版本更新为 1.00.0003，我希望这反映在 about 窗口中。

aboutBox 的默认设置显示值 1.0.0.0，这是**程序集**版本，而不是**产品**版本。从那以后，我一直在互联网上寻找如何获得要显示的**产品**版本。我已经尝试了所有这些：

```
{
    Assembly assembly = Assembly.GetExecutingAssembly();
    FileVersionInfo fileVersionInfo = FileVersionInfo.GetVersionInfo(assembly.Location);
    string version = fileVersionInfo.ProductVersion;

    Debug.WriteLine(version);
    Debug.WriteLine(assembly.GetName().Version);
    string v = VersionNumber;
    Debug.WriteLine(v);
    Debug.WriteLine( fileVersionInfo.FileVersion);
    Debug.WriteLine(Application.ProductVersion);
    Debug.WriteLine(AssemblyProductVersion);

    Assembly assembly2 = Assembly.GetEntryAssembly();
    FileVersionInfo fileVersionInfo2 = FileVersionInfo.GetVersionInfo(assembly.Location);
    string version2 = fileVersionInfo2.ProductVersion;
    Debug.WriteLine(version2);
    Debug.WriteLine(assembly2.GetName().Version);

    return version;
}

private string _ourVersion = "Version: v";

private string VersionNumber
{
    get
    {
        System.Reflection.Assembly _assemblyInfo =
        System.Reflection.Assembly.GetExecutingAssembly();
        if (System.Deployment.Application.ApplicationDeployment.IsNetworkDeployed)
            _ourVersion += ApplicationDeployment.CurrentDeployment.CurrentVersion.ToString();
        else
        {
            if (_assemblyInfo != null)
                _ourVersion += _assemblyInfo.GetName().Version.ToString();
        }
        return _ourVersion;
    }
}

private static string AssemblyProductVersion
{
    get
    {
        object[] attributes = Assembly.GetExecutingAssembly()
            .GetCustomAttributes(typeof(AssemblyInformationalVersionAttribute), false);
        return attributes.Length == 0 ?
            "" :
            ((AssemblyInformationalVersionAttribute)attributes[0]).InformationalVersion;
    }
} 
```

这些中的每一个都返回 1.0.0.0（是的，我确实在控制台中查找了它们的输出，而不是实际显示的内容），而不是像我需要的那样返回 1.00.0003。产品版本在 InstallShield 设置的常规信息选项卡中设置。安装后，转到“程序和功能”会显示 1.00.0003 的产品版本，所以我无法弄清楚为什么以编程方式检索该值如此困难。有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:15:53.193

您的产品版本应该与程序集版本匹配 - 查看[如何使产品版本属性自动匹配可执行文件的版本号](https://stackoverflow.com/questions/4055831/how-to-make-product-version-property-match-executables-version-number-automatic)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T07:22:30.930

您要检索的版本 1.00.0003 是您的产品安装程序的版本。要以编程方式获取此版本，您需要检查安装程序（MSI 文件），而不是已安装的文件。我不确定这是否是您想要做的，但有一个问题的答案[Checking ProductVersion of an MSI programatically](https://stackoverflow.com/a/4347828/98607)解释了如何做到这一点。

如果您希望您的可执行文件包含相同的版本号，您需要以某种方式使用 .NET 属性[`AssemblyFileVersion`](http://msdn.microsoft.com/en-us/library/system.reflection.assemblyfileversionattribute.aspx)或 Windows[`VERSIONINFO`](http://msdn.microsoft.com/en-us/library/windows/desktop/aa381058%28v=vs.85%29.aspx)资源来存储版本号。

InstallShield 允许您在命令行上指定产品版本。这允许您将产品版本存储在单个文件中，然后将其用作安装程序中嵌入的产品版本以及`AssemblyFileVersion`程序集的来源。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T07:23:21.433

如果只有安装程序知道此版本信息，那么您*可以*从中检索它的唯一地方就是注册表。

[卸载注册表项](http://msdn.microsoft.com/en-gb/library/windows/desktop/aa372105%28v=vs.85%29.aspx)：

> 以下安装程序属性给出了注册表项下写入的值：
> 
> VersionMinor 派生自 ProductVersion 属性
> 
> VersionMajor 派生自 ProductVersion 属性
> 
> 从 ProductVersion 属性派生的版本

但我会接受@devdigital 的（暗示的）建议——你应该有一个实际匹配你的安装程序版本的程序集版本。

# uitableview - Cocos2D z-index 问题与 openGLView

> ID：15018767
> 
> 赞同：0
> 
> 时间：2013-02-22T07:11:42.893
> 
> 标签：uitableview, cocos2d-iphone, z-index, nsopenglview

我有一个显示分数和名称的 UITableView。我也有在屏幕上移动的动画对象..但是它们在 tableview 下并且无论有什么 z-index 值都不可见..我怎样才能让动画对象在我的 UITableView 之上？谢谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T12:36:13.337

在继续之前（samfisher 的解决方案可以将所有 UIKit 放在 cocos2d 视图下）请记住这一点：

在 cocos2d 中有一个 UIKit 视图在技术上是不可能的，因为 cocos2d 会同时在 UIKit 视图的前面和后面绘制节点。

换句话说：**一个 UIKit 视图可以完全在所有 cocos2d 节点之前，也可以完全在所有 cocos2d 节点之后**。

原因是 cocos2d 是从 UIKit 的角度来看的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:22:17.370

您必须将 UITableView 添加为 CCDirector 的 openGLView 的子视图。

所有带有对象的 COCOS2D 动画都在 openGLView 上进行，这显然低于 TableView，因此 z 索引在这种情况下不起作用。

您所要做的就是将 UITableView 直接插入 UIWindow 并将其移动到 openGLView 下方。您还可以使用：

```
[<UIWindow> insertSubview:<TableView> belowSubview:<openGLView>]; 
```

您需要做的就是使您的 openGLView 透明并确保您没有在 CCLayer 上添加背景图像（否则它将覆盖 ）

所以问题是锄头让你的openGLView - 透明

```
-(void) initGLDefaultValues
{
    // This method SHOULD be called only after openGLView_ was initialized
    NSAssert( openGLView_, @"openGLView_ must be initialized");

    [self setAlphaBlending: YES];
    [self setDepthTest: YES];
    [self setProjection: CCDirectorProjectionDefault];

    // ***** NEW CODE: make open gl view transparent
    openGLView_.opaque = NO;
    glClearColor(0.0f, 0.0f, 0.0f, 0.0f);

    // disable regular, opaque clear color
    //glClearColor(0.0f, 0.0f, 0.0f, 1.0f);
        // ***** NEW CODE end
} 
```

# codeigniter - 使用 codeigniter 日历库创建多用户多项目时间表

> ID：15018770
> 
> 赞同：1
> 
> 时间：2013-02-22T07:11:55.233
> 
> 标签：codeigniter, calendar

我想使用 codeigniter 日历库创建一个时间表。我使用了 nettus Day 10 日历库教程来帮助我创建正常的约会日历。

我需要的是员工输入他们为他们处理的每个项目工作的时间（他们一次处理几个）以及他们的直接主管批准的时间。我需要使用 codeigniter，因为时间表只是我在 codeigniter 中完成的 HR 系统中的一个模块。我有一个在日历模板中添加额外列的想法，但事实证明这是徒劳的。

如何使用 codeigniter 日历库创建多用户多项目时间表？

# android - 如何从android中的XML获取字符串数组中的值

> ID：15018771
> 
> 赞同：0
> 
> 时间：2013-02-22T07:11:59.813
> 
> 标签：android, arrays

我在变量中有一个字符串值，例如 ID

XML 喜欢

```
<DocumentElement><Contact ID="1" Name="Test1" 1/><Contact ID="2" Name="TEST" /></DocumentElement> 
```

我在 _s2 中获得了我的 id

我想在像 EmailArr 这样的字符串数组中添加所有 id

我已经做好了

```
Count=0;
EmailArr=new String[Count];

                String _s2=event.getAttribute("ID").getValue();

                if(_s2=="" || _s2==null){
                    _s2="N/A";
                }

                if(_s2!=null){
                    EmailArr[Count]=_s2;
                    Count=Count++;
                } 
```

我得到异常`java.lang.ArrayIndexOutOfBoundsException`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:20:59.473

您需要使用 Xml 值创建一个数组：-

```
int count=XMlData.getPropertyCount();// Get the XML Data count/ some thing related to get  Count of XMl Details

    EmailArr=new String[Count]; // create Array EmailArr with that Count 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:23:03.090

你应该给你的数组一些初始大小：

```
EmailArr=new String[Count];//where count is number of records 
```

# python - 登录 Django 1.5

> ID：15018772
> 
> 赞同：5
> 
> 时间：2013-02-22T07:12:11.447
> 
> 标签：python, django, email, login

我在 Django 1.5 中使用 MyUser 模型和电子邮件登录：模型：

```
class MyUser(AbstractBaseUser):
    email = models.EmailField(
        verbose_name='email address',
        max_length=255,
        unique=True,
        db_index=True,
    )
    last_name=models.CharField(max_length=30)
    first_name=models.CharField(max_length=30)
    second_name=models.CharField(max_length=30, blank=True)
    post=models.CharField(max_length=30, blank=True)

    objects = MyUserManager()

    USERNAME_FIELD = 'email'
    REQUIRED_FIELDS = ['last_name','first_name','second_name','post', ....]

    def get_full_name(self):
       return self.email

    def get_short_name(self):
       return self.email

    def __unicode__(self):
        return self.email

    def has_perm(self, perm, obj=None):
       return True

    def has_module_perms(self, app_label):
       return True

    @property
    def is_staff(self):
        return self.is_admin 
```

我尝试使用 from django.contrib.auth.views import login 的方法：

网址：

```
(r'^login/$', login, {'template_name': 'enter.html'}), 
```

观点：没什么。

它适用于经典用户模型的超级用户，不适用于 MyUser。

然后我尝试了：

看法：

```
def login_view(request):
    username = request.POST['email']
    password = request.POST['password']
    user = authenticate(username=username, password=password)
    if user is not None and user.is_active:
        login(request, user)
        return HttpResponseRedirect("/n1.html")# Redirect to a success page.
    else:
        return HttpResponseRedirect("/account/invalid/")# Return a 'disabled account' error message 
```

模板：

```
{% if form.errors %}
<p>Something is wrong</p>
{% endif %}

<form action="" method="post">
    {% csrf_token %}
    <label for="email">Login:</label>
    <input type="text" name="email" value="" id="email"/>
    <label for="password">Password:</label>
    <input type="password" name="password" value="" id="username">

    <input type="submit" value="login" />
    <input type="hidden" name="next" value="{{next|escape}}" />

</form> 
```

网址：

```
(r'^login/$', login_view, {'template_name': 'enter.html'}), 
```

但我得到错误`login_view() got an unexpected keyword argument 'template_name'` 我做错了什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T07:20:05.887

`login_view() got an unexpected keyword argument 'template_name'`意味着你的视图函数应该有`template_name`参数：

```
def login_view(request, template_name):
   'your code' 
```

如果您不需要它，请不要在 urls.py 中传递它：

```
(r'^login/$', login_view), 
```

更新。

您`login_view`处理您的 POST 方法。您可以通过这种方式重写它以在 GET 上呈现表单

```
def login_view(request):
    if request.method == 'POST':
        username = request.POST['email']
        password = request.POST['password']
        user = authenticate(username=username, password=password)
        if user is not None and user.is_active:
            login(request, user)
            return HttpResponseRedirect("/n1.html")
        return HttpResponseRedirect("/account/invalid/")
    form = LoginForm()
    return render(request, 'enter.html', {'login_form': LoginForm}) 
```

# sql - oracle的外部表？

> ID：15018775
> 
> 赞同：1
> 
> 时间：2013-02-22T07:12:19.647
> 
> 标签：sql, oracle11g, external-tables

嗨朋友我试图使用oralce_loader访问驱动程序将数据从平面文件加载到外部文件我的代码是

```
create  table test_ext (
    id_1 varchar(35),
    emp_name varchar(25),
    e_mail varchar(25)) 
organization external (
    type oracle_loader default directory new_dir access parameters
        ( records delimited by newline fields(
             id_1 char(30),
             e_name char(25),
             mail char(25)))
    location('test.csv')) reject limit unlimited; 
```

和我的数据文件：

```
"E.FIRST_NAME||','||E.EMAIL||','||MANAGER_ID"
-----------------------------------------------
"Jennifer,JWHALEN,101"
"Michael,MHARTSTE,100"
"Susan,SMAVRIS,101"
"Hermann,HBAER,101"
"Shelley,SHIGGINS,101"
"William,WGIETZ,205"
"Steven,SKING,"
"Neena,NKOCHHAR,100"
"Lex,LDEHAAN,100"
"Alexander,AHUNOLD,102"
"Bruce,BERNST,103"
"David,DAUSTIN,103"
"Valli,VPATABAL,103"
"Diana,DLORENTZ,103"
"Nancy,NGREENBE,101"
"Daniel,DFAVIET,108"
"John,JCHEN,108" 
```

在运行上面的查询时，我得到了

```
**ORA-29913: error in executing ODCIEXTTABLEOPEN callout
ORA-29400: data cartridge error
KUP-04043: table column not found in external source: EMP_NAME
29913\. 00000 -  "error in executing %s callout"
*Cause:    The execution of the specified callout caused an error.
*Action:   Examine the error messages take appropriate action.** 
```

我尝试了很多东西，但我做不到。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T08:13:29.720

首先你的 csv 文件看起来不对。

```
"Alexander,AHUNOLD,102" 
```

删除所有引号，否则它将看起来像一个字段。

其次，您使用“字段”语法建议您需要固定长度的 csv 文件，但您的 dat 文件是逗号分隔的。所以我认为你想修复你的 csv 以删除引号和两个虚假的标题行并将你的表 DDL 更改为：

```
create  table test_ext (
    id_1 varchar(35),
    emp_name varchar(25),
    e_mail varchar(25)) 
organization external (
    type oracle_loader default directory new_dir access parameters
        ( 
         records delimited by newline 
         fields terminated by ',' optionally enclosed by '"')
    location('test.csv')) reject limit unlimited; 
```

例如：

```
SQL> host cat test.csv
Jennifer,JWHALEN,101
Michael,MHARTSTE,100
Susan,SMAVRIS,101
Hermann,HBAER,101
Shelley,SHIGGINS,101
William,WGIETZ,205
Steven,SKING,
Neena,NKOCHHAR,100
Lex,LDEHAAN,100
Alexander,AHUNOLD,102
Bruce,BERNST,103
David,DAUSTIN,103
Valli,VPATABAL,103
Diana,DLORENTZ,103
Nancy,NGREENBE,101
Daniel,DFAVIET,108
John,JCHEN,108
SQL> create  table test_ext (
  2      id_1 varchar(35),
  3      emp_name varchar(25),
  4      e_mail varchar(25))
  5  organization external (
  6      type oracle_loader default directory new_dir access parameters
  7          (
  8           records delimited by newline
  9           fields terminated by ',' optionally enclosed by '"')
 10      location('test.csv')) reject limit unlimited;

Table created.

SQL> select * from test_ext;

ID_1                                EMP_NAME                  E_MAIL
----------------------------------- ------------------------- -------------------------
Jennifer                            JWHALEN                   101
Michael                             MHARTSTE                  100
Susan                               SMAVRIS                   101
Hermann                             HBAER                     101
Shelley                             SHIGGINS                  101
William                             WGIETZ                    205
Neena                               NKOCHHAR                  100
Lex                                 LDEHAAN                   100
...etc... 
```

# email - 如何从 Visual Basic 2010 Professional 发送邮件

> ID：15018776
> 
> 赞同：1
> 
> 时间：2013-02-22T07:12:21.737
> 
> 标签：email, smtp, system.net.mail, system.net

我想使用 gmail id 发送邮件，我的代码如下所示，但是发生了错误。我该如何解决这个问题？

```
Imports System.Net
Imports System.Net.Mail

Public Class Form1

    Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click
        MsgBox("This will send a mail...")
        Try

            Dim smtpserver As New SmtpClient()
            Dim mail As New MailMessage()
            smtpserver.Credentials = New Net.NetworkCredential("myname@gmail.com", "password")
            smtpserver.Port = 465
            smtpserver.Host = "smtp.gmail.com"
            mail = New MailMessage()
            mail.From = New MailAddress("myname@gmail.com")
            mail.To.Add("to mail id")
            mail.Subject = "Test by bharat"
            mail.Body = "hello ooooooooooooooooooooooo"
            smtpserver.Send(mail)
            MsgBox("Mail Sent")
        Catch ex As Exception
            MsgBox(ex.ToString)
            Close()
        End Try

    End Sub
End Class 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-13T02:09:31.640

下面是使用 Visual Basic 10 发送电子邮件的示例，首先您需要构建一个包含字段 to、from、text 和 email_send 按钮的表单，现在下面的代码

```
Private Smtp_Server As New SmtpClient()

Private Sub email_send_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles email_send.Click
Try

Dim e_mail As New MailMessage()
Smtp_Server.Credentials = New Net.NetworkCredential("yener.turkeli@v-basic.net", "password")
Smtp_Server.Port = 25
Smtp_Server.Host = "mail.v-basic.net"
e_mail = New MailMessage()
e_mail.From = New MailAddress(from_txt.Text)
e_mail.To.Add(to_txt.Text)
e_mail.Subject = "VB.NET Email Sending"
e_mail.Body = text_txt.Text
Smtp_Server.Send(e_mail)

Catch error_t As Exception
MsgBox(error_t.ToString)
End Try
End Sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-07T12:54:10.047

您可以创建一个名为“邮件”的新类。如果您上课，如果您想发送超过 1 封电子邮件，则无需再次输入所有代码。

```
Imports System.Net.Mail
Public NotInheritable Class Mail
    Public Property subject As String
    Public Property body As String
    Public Property receiver As String

    Public Sub send()
        Try
            Dim smtpServer As New SmtpClient()
            Dim mail As New MailMessage()
            smtpServer.UseDefaultCredentials = False
            smtpServer.Credentials = New Net.NetworkCredential("yener.turkeli@v-basic.net", "password"))
            smtpServer.Port = 587
            smtpServer.EnableSsl = True
            smtpServer.Host = "smtp.gmail.com"

            mail = New MailMessage()
            mail.From = New MailAddress("yener.turkeli@v-basic.net")
            mail.To.Add(receiver)
            mail.Subject = subject
            mail.Body = body
            smtpServer.Send(mail)
        Catch ex As Exception
            MsgBox(ex.Message & vbNewLine & ex.StackTrace)
        End Try

    End Sub
End Class 
```

然后你可以在你的代码中创建一个新对象，在你想发送电子邮件的地方和时间：

```
Dim email as new Mail
email.receiver = "receiver@example.com"
email.subject = "Subject"
email.body = "Message"
email.send() 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-09-27T20:44:26.350

```
Imports System.Net.Mail
Public Class Form1

    Private Sub Form1_Load(sender As Object, e As EventArgs) Handles MyBase.Load

    End Sub

    Private Sub Button1_Click(sender As Object, e As EventArgs) Handles Button1.Click

        Try
            Dim Smtp_Server As New SmtpClient
            Dim e_mail As New MailMessage()
            Smtp_Server.UseDefaultCredentials = False
            Smtp_Server.Credentials = New Net.NetworkCredential("myemail@gmail.com", "Password")
            Smtp_Server.Port = 587
            Smtp_Server.EnableSsl = True
            Smtp_Server.Host = "smtp.gmail.com"

            e_mail = New MailMessage()
            e_mail.From = New MailAddress(TextBox1.Text)
            e_mail.To.Add(TextBox2.Text)
            e_mail.Subject = "Email Sending"
            e_mail.IsBodyHtml = False
            e_mail.Body = txtmsg.Text
            Smtp_Server.Send(e_mail)
            MsgBox("Mail Sent")

        Catch error_t As Exception
            MsgBox(error_t.ToString)
        End Try

    End Sub

End Class 
```

# c - 获取由 CreateProcess() 启动的进程的 PID

> ID：15018778
> 
> 赞同：14
> 
> 时间：2013-02-22T07:12:26.520
> 
> 标签：c, windows, winapi, pid, createprocess

让我先声明我不是`C`背景。我是一名 PHP 开发人员。因此，到目前为止，我编写的所有代码都是通过从其他示例中获取点点滴滴并对其进行微调以满足我的要求。所以，如果我问得太基本或明显的问题，请多多包涵。

我开始`FFmpeg`使用`CreateProcess()`通过

```
int startFFmpeg()
{
    snprintf(cmd, sizeof(cmd), "D:\\ffpmeg\bin\ffmpeg.exe -i D:\\video.mpg -r 10 D:\\frames");

    PROCESS_INFORMATION pi;
    STARTUPINFO si={sizeof(si)};
    si.cb = sizeof(STARTUPINFO);
    int ff = CreateProcess(NULL, cmd, NULL, NULL, TRUE, 0, NULL, NULL, &si, &pi);
    return ff;
} 
```

我需要做的是获取该`PID`进程，然后稍后检查它是否在一段时间后仍在运行。这基本上是我正在寻找的：

```
int main()
{
    int ff = startFFmpeg();
    if(ff)
    {
       // great! FFmpeg is generating frames
       // then some time later
       if(<check if ffmpeg is still running, probably by checking the PID in task manager>) // <-- Need this condition
       {
            // if running, continue
       }
       else
       {
           startFFmpeg();
       }
    } 
  return 0;   
} 
```

我做了一些研究，发现它`PID`在 中返回`PROCESS_INFORMATION`，但我找不到显示如何获取它的示例。

### 一些元数据

操作系统：**Windows 7**
语言：**C**
IDE：**Dev C++**

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-02-22T07:16:06.857

在您的情况下，将其从作为最后一个参数传递给的[PROCESS_INFORMATION](http://msdn.microsoft.com/en-us/library/windows/desktop/ms684873%28v=vs.85%29.aspx)结构中拉出`CreateProcess()`**`pi.dwProcessId`**

但是，要检查它是否仍在运行，您可能只想等待进程句柄。

```
static HANDLE startFFmpeg()
{
    snprintf(cmd, sizeof(cmd), "D:\\ffpmeg\bin\ffmpeg.exe -i D:\\video.mpg -r 10 D:\\frames");

    PROCESS_INFORMATION pi = {0};
    STARTUPINFO si = {0};
    si.cb = sizeof(STARTUPINFO);
    if (CreateProcess(NULL, cmd, NULL, NULL, TRUE, 0, NULL, NULL, &si, &pi))
    {
        CloseHandle(pi.hThread);
        return pi.hProcess;
    }
    return NULL;
} 
```

在您的启动`main()`中，您可以执行类似...

```
int main()
{
    HANDLE ff = startFFmpeg();
    if(ff != NULL)
    {
        // wait with periodic checks. this is setup for
        //  half-second checks. configure as you need
        while (WAIT_TIMEOUT == WaitForSingleObject(ff, 500))
        {
            // your wait code goes here.
        }

        // close the handle no matter what else.
        CloseHandle(ff);
    }
    return 0;
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-22T07:15:48.470

您可能想使用 win32 api 功能`GetProcessId()`。

```
#include <windows.h>

...

BOOL bSuccess = FALSE;
LPTSTR pszCmd = NULL;
PROCESS_INFORMATION pi = {0};
STARTUPINFO si = {0};
si.cb = sizeof(si);

pszCmd = ... /* assign something useful */

bSuccess = CreateProcess(NULL, pszCmd, NULL, NULL, TRUE, 0, NULL, NULL, &si, &pi);

if (bSuccess)
{
  DWORD dwPid = GetProcessId(pi.hProcess);
  ...
}
else
  ... /* erorr handling */ 
```

有关详细信息，请参阅此处：http: [//msdn.microsoft.com/en-us/library/windows/desktop/ms683215%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms683215%28v=vs.85%29.aspx)

# rdf - 使用 Jena 解析 Protege 生成的枚举数据类型

> ID：15018784
> 
> 赞同：2
> 
> 时间：2013-02-22T07:12:35.507
> 
> 标签：rdf, jena, ontology, protege

我有一个 Protege 4.2.0 生成的本体文件。它包括如下定义的 DatatypeProperty。

```
<owl:DatatypeProperty rdf:about="http://example.com/NLPSchema.owl#race">
    <rdf:type rdf:resource="&owl;FunctionalProperty"/>
    <rdfs:domain rdf:resource="http://example.com/NLPSchema.owl#Person"/>
    <rdfs:subPropertyOf rdf:resource="http://example.com/NLPSchema.owl#semanticProperty"/>
    <rdfs:range>
        <rdfs:Datatype>
            <owl:oneOf>
                <rdf:Description>
                    <rdf:type rdf:resource="&rdf;List"/>
                    <rdf:first>african_american</rdf:first>
                    <rdf:rest>
                        <rdf:Description>
                            <rdf:type rdf:resource="&rdf;List"/>
                            <rdf:first>asian</rdf:first>
                            <rdf:rest>
                                <rdf:Description>
                                    <rdf:type rdf:resource="&rdf;List"/>
                                    <rdf:first>caucasian</rdf:first>
                                    <rdf:rest>
                                        <rdf:Description>
                                            <rdf:type rdf:resource="&rdf;List"/>
                                            <rdf:first>hispanic</rdf:first>
                                            <rdf:rest>
                                                <rdf:Description>
                                                    <rdf:type rdf:resource="&rdf;List"/>
                                                    <rdf:first>other</rdf:first>
                                                    <rdf:rest rdf:resource="&rdf;nil"/>
                                                </rdf:Description>
                                            </rdf:rest>
                                        </rdf:Description>
                                    </rdf:rest>
                                </rdf:Description>
                            </rdf:rest>
                        </rdf:Description>
                    </rdf:rest>
                </rdf:Description>
            </owl:oneOf>
        </rdfs:Datatype>
    </rdfs:range>
</owl:DatatypeProperty> 
```

在 Protege 中，它看起来像这样：

![Protégé 屏幕截图](../Images/d2a27ccfcd7798deea56cd26f046eb71.png)

现在我正在使用 Jena 来解析 Ontology 文件。我能够获得与“范围”标签对应的 OntClass 对象：

```
DatatypeProperty p = ontModel.getDatatypeProperty("http://example.com/NLPSchema.owl#race");
OntClass range = p.getRange().asClass(); 
```

那么我怎样才能得到像 Protege 中的枚举数组 {"african_american" , "asian" , "caucasian" , "hispanic" , "other"} 呢？

我知道 DataRange 有一个名为“listOneOf”的方法，但是我不知道如何制作 DataRange 对象，至少“p.isDataRange()”返回 false。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-09-25T20:01:19.420

考虑这个简单地声明一个 DatatypeProperty 的小型本体，`hasFlavor`（首先，在 RDF/XML 中，因为这是您使用的）：

```
<rdf:RDF
    xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
    xmlns="http://example.org/icecream#"
    xmlns:owl="http://www.w3.org/2002/07/owl#"
    xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
    xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">
  <owl:Ontology rdf:about="http://example.org/icecream"/>
  <owl:DatatypeProperty rdf:about="http://example.org/icecream#hasFlavor">
    <rdfs:range>
      <rdfs:Datatype>
        <owl:oneOf>
          <rdf:List>
            <rdf:first>chocolate</rdf:first>
            <rdf:rest>
              <rdf:List>
                <rdf:first>strawberry</rdf:first>
                <rdf:rest>
                  <rdf:List>
                    <rdf:first>vanilla</rdf:first>
                    <rdf:rest rdf:resource="http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"/>
                  </rdf:List>
                </rdf:rest>
              </rdf:List>
            </rdf:rest>
          </rdf:List>
        </owl:oneOf>
      </rdfs:Datatype>
    </rdfs:range>
  </owl:DatatypeProperty>
</rdf:RDF> 
```

一次又一次，但这次是在 Turtle 中，因为它更容易阅读：

```
@prefix :      <http://example.org/icecream#> .
@prefix rdfs:  <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl:   <http://www.w3.org/2002/07/owl#> .
@prefix xsd:   <http://www.w3.org/2001/XMLSchema#> .
@prefix rdf:   <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .

:hasFlavor  a       owl:DatatypeProperty ;
        rdfs:range  [ a          rdfs:Datatype ;
                      owl:oneOf  [ a          rdf:List ;
                                   rdf:first  "chocolate" ;
                                   rdf:rest   [ a          rdf:List ;
                                                rdf:first  "strawberry" ;
                                                rdf:rest   [ a          rdf:List ;
                                                             rdf:first  "vanilla" ;
                                                             rdf:rest   ()

                                                           ]
                                              ]
                                 ]
                    ] .

<http://example.org/icecream>
        a       owl:Ontology . 
```

Protégé 中的重要属性及其领域：

![Protégé 的 hasFlavor 属性](../Images/cdbae66216fa1a1f7edca31696e4306e.png)

现在，您需要做的就是获取`rdf:List`枚举资源。 `hasFlavor`有一个`rdfs:range`which 是一个`owl:Datatype`，并且`owl:Datatype`与 的枚举有关`owl:oneOf`。

```
import java.util.List;

import com.hp.hpl.jena.ontology.DatatypeProperty;
import com.hp.hpl.jena.ontology.OntModel;
import com.hp.hpl.jena.ontology.OntModelSpec;
import com.hp.hpl.jena.rdf.model.ModelFactory;
import com.hp.hpl.jena.rdf.model.RDFList;
import com.hp.hpl.jena.rdf.model.RDFNode;
import com.hp.hpl.jena.rdf.model.Resource;
import com.hp.hpl.jena.vocabulary.OWL;
import com.hp.hpl.jena.vocabulary.RDFS;

public class ExtractEnumeratedDatatypeElements {
    public static void main(String[] args) {
        // Load the ontology.
        final OntModel iceCream = ModelFactory.createOntologyModel( OntModelSpec.OWL_DL_MEM );
        iceCream.read( "file:///home/taylorj/tmp/ontologies/icecream/icecream.owl" );

        // Get to the property and the datatype that is its range.
        final DatatypeProperty hasFlavor = iceCream.createDatatypeProperty( "http://example.org/icecream#hasFlavor" );
        final Resource datatype = hasFlavor.getPropertyResourceValue( RDFS.range );

        // The datatype is related to a list of values by owl:oneOf.
        final RDFList enumeration = datatype.getPropertyResourceValue( OWL.oneOf ).as( RDFList.class );

        // The RDFList can be converted to a Java List.
        final List<RDFNode> list = enumeration.asJavaList();
        System.out.println( list );
    }
} 
```

这将产生输出：

```
[chocolate, strawberry, vanilla] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T12:25:16.483

Remove the

```
<rdf:type rdf:resource="&rdf;List"/> 
```

this blocks compact notation in Turtle.

```
@prefix rdfs:    <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl:     <http://www.w3.org/2002/07/owl#> .
@prefix rdf:     <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .

<http://example.com/NLPSchema.owl#race>
      a       owl:FunctionalProperty , owl:DatatypeProperty ;
      rdfs:domain <http://example.com/NLPSchema.owl#Person> ;
      rdfs:range
              [ a       rdfs:Datatype ;
                owl:oneOf ("african_american" "asian" "caucasian" "hispanic" "other")
              ] ;
      rdfs:subPropertyOf <http://example.com/NLPSchema.owl#semanticProperty> . 
```

# java - 如何避免在运行石英 schedular.start() 时收到的异常

> ID：15018787
> 
> 赞同：0
> 
> 时间：2013-02-22T07:12:51.910
> 
> 标签：java, jakarta-ee

我在运行quartz schedular.start() 时遇到了一些异常。我正在使用DB2 数据库，并且我也在使用DB2java.jar 和DB2Jcc.jar。我的应用程序是一个简单的Java 独立应用程序并尝试使用Quartz schedular.I 运行已完成所有必需的设置..但仍然出现以下异常..异常如下：

```
Starting scheduler...
[INFO   ] [2013-02-22 12:38:14,237] [main           ] Initializing scheduler.
[INFO   ] [2013-02-22 12:38:14,628] [main           ] MLog clients using log4j logging.
[INFO   ] [2013-02-22 12:38:15,581] [main           ] Initializing c3p0-0.9.1.1 [built 15-March-2007 01:32:31; debug? true; trace: 10]
[DEBUG  ] [2013-02-22 12:38:15,737] [main           ] MBean: com.mchange.v2.c3p0:type=PooledDataSource[2zlqav8t7atpi1xeubjp|6b416b41] registered.
[INFO   ] [2013-02-22 12:38:15,862] [main           ] Using default implementation for ThreadExecutor
[INFO   ] [2013-02-22 12:38:15,972] [main           ] Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
[INFO   ] [2013-02-22 12:38:15,987] [main           ] Quartz Scheduler v.2.1.6 created.
[INFO   ] [2013-02-22 12:38:15,987] [main           ] Registering Quartz Job Initialization Plug-in.
[INFO   ] [2013-02-22 12:38:15,987] [main           ] Registering Quartz shutdown hook.
[INFO   ] [2013-02-22 12:38:15,987] [main           ] Using db table-based data access locking (synchronization).
[INFO   ] [2013-02-22 12:38:16,003] [main           ] JobStoreTX initialized.
[INFO   ] [2013-02-22 12:38:16,003] [main           ] Scheduler meta-data: Quartz Scheduler (v2.1.6) 'ap_preprocess_scheduler' with instanceId 'WW973D48906A1361516895893'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 5 threads.
  Using job-store 'org.quartz.impl.jdbcjobstore.JobStoreTX' - which supports persistence. and is clustered.
[INFO   ] [2013-02-22 12:38:16,003] [main           ] Quartz scheduler 'ap_preprocess_scheduler' initialized from default resource file in Quartz package: 'quartz.properties'
[INFO   ] [2013-02-22 12:38:16,003] [main           ] Quartz scheduler version: 2.1.6
[INFO   ] [2013-02-22 12:38:16,003] [main           ] Starting scheduler.
[DEBUG  ] [2013-02-22 12:38:16,284] [main           ] incremented pending_acquires: 1
[DEBUG  ] [2013-02-22 12:38:16,284] [main           ] incremented pending_acquires: 2
[DEBUG  ] [2013-02-22 12:38:16,284] [main           ] incremented pending_acquires: 3
[DEBUG  ] [2013-02-22 12:38:16,284] [main           ] com.mchange.v2.resourcepool.BasicResourcePool@dca0dca config: [start -> 3; min -> 1; max -> 5; inc -> 3; num_acq_attempts -> 30; acq_attempt_delay -> 1000; check_idle_resources_delay -> 0; mox_resource_age -> 0; max_idle_time -> 0; excess_max_idle_time -> 0; destroy_unreturned_resc_time -> 0; expiration_enforcement_delay -> 0; break_on_acquisition_failure -> false; debug_store_checkout_exceptions -> false]
[INFO   ] [2013-02-22 12:38:16,284] [main           ] Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 2zlqav8t7atpi1xeubjp|6b416b41, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> COM.ibm.db2.jdbc.app.DB2Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 2zlqav8t7atpi1xeubjp|6b416b41, idleConnectionTestPeriod -> 0, initialPoolSize -> 3, jdbcUrl -> jdbc:db2:DBVPADEV, lastAcquisitionFailureDefaultUser -> null, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 0, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 5, maxStatements -> 0, maxStatementsPerConnection -> 120, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[DEBUG  ] [2013-02-22 12:38:16,284] [main           ] acquire test -- pool size: 0; target_pool_size: 3; desired target? 1
[DEBUG  ] [2013-02-22 12:38:16,284] [main           ] awaitAvailable(): [unknown]
[DEBUG  ] [2013-02-22 12:38:16,284] [main           ] trace com.mchange.v2.resourcepool.BasicResourcePool@dca0dca [managed: 0, unused: 0, excluded: 0]
[DEBUG  ] [2013-02-22 12:38:16,987] [Thread-5       ] Checking for available updated version of Quartz...
[DEBUG  ] [2013-02-22 12:38:17,753] [Thread-5       ] Quartz version update check failed: www.terracotta.org
[DEBUG  ] [2013-02-22 12:38:21,065] [r$PoolThread-#0] decremented pending_acquires: 2
Exception in thread "com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#0" java.lang.AbstractMethodError: java/sql/Connection.getHoldability()I
    at com.mchange.v2.c3p0.impl.NewPooledConnection.<init>(NewPooledConnection.java:106)
    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:198)
    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:171)
    at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:137)
    at com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1014)
    at com.mchange.v2.resourcepool.BasicResourcePool.access$800(BasicResourcePool.java:32)
    at com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java:1810)
    at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)
Exception in thread "com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#2" java.lang.AbstractMethodError: java/sql/Connection.getHoldability()I
    at com.mchange.v2.c3p0.impl.NewPooledConnection.<init>(NewPooledConnection.java:106)
    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:198)
    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:171)
    at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:137)
[DEBUG  ] [2013-02-22 12:38:22,550] [r$PoolThread-#2] decremented pending_acquires: 1

    at com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1014)
    at com.mchange.v2.resourcepool.BasicResourcePool.access$800(BasicResourcePool.java:32)
    at com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java:1810)
    at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547)

[DEBUG  ] [2013-02-22 12:38:24,050] [r$PoolThread-#1] decremented pending_acquires: 0
Exception in thread "com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread-#1" java.lang.AbstractMethodError: java/sql/Connection.getHoldability()I
    at com.mchange.v2.c3p0.impl.NewPooledConnection.<init>(NewPooledConnection.java:106)
    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:198)
    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:171)
    at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:137)
    at com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1014)
    at com.mchange.v2.resourcepool.BasicResourcePool.access$800(BasicResourcePool.java:32)
    at com.mchange.v2.resourcepool.BasicResourcePool$AcquireTask.run(BasicResourcePool.java:1810)
    at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:547) 
```

请帮帮我..问候，普里塔姆

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:54:49.173

似乎是不正确的 JDBC 版本。你用的是什么版本的jdbc？请尝试使用不同的。

# android - android 2.3.3 未在 android 4.0.3 上运行

> ID：15018788
> 
> 赞同：0
> 
> 时间：2013-02-22T07:12:52.660
> 
> 标签：android

我正在开发一个将 minSdkVersion=10 用于姜饼的应用程序。它在所有姜饼设备上运行良好，但是当我尝试在 4.0.3 模拟器（ICS）上运行它时，它总是停止。我需要调整什么设置吗？

这是我的清单

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example.das"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="10"
    android:targetSdkVersion="15" /> 
```

logcat 上的错误是这样的

```
 02-22 15:03:40.217: E/global(514): Deprecated Thread methods are not supported.
02-22 15:03:40.217: E/global(514): java.lang.UnsupportedOperationException
02-22 15:03:40.217: E/global(514):  at java.lang.VMThread.stop(VMThread.java:85)
02-22 15:03:40.217: E/global(514):  at java.lang.Thread.stop(Thread.java:1280)
02-22 15:03:40.217: E/global(514):  at java.lang.Thread.stop(Thread.java:1247)
02-22 15:03:40.217: E/global(514):  at         com.example.SpelloGrande.splash$1.run(splash.java:48) 
```

飞溅活动

```
public class splash extends Activity {

//how long until we go to the next activity
protected int _splashTime = 3000; 

private Thread splashTread;

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.splash);
    setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);
    final splash sPlashScreen = this; 

    // thread for displaying the SplashScreen
    splashTread = new Thread() {

        @Override
        public void run() {
            try {
                synchronized(this){

                        //duration
                        wait(_splashTime);

                }

            } catch(InterruptedException e) {}
            finally {
                finish();

                //start a new activity
                Intent i = new Intent();
                i.setClass(sPlashScreen, MainActivity.class);
                        startActivity(i);

                stop();
            }
        }
    };

    splashTread.start();
}

//Function that will handle the touch
@Override
public boolean onTouchEvent(MotionEvent event) {
    if (event.getAction() == MotionEvent.ACTION_DOWN) {
        synchronized(splashTread){
                splashTread.notifyAll();
        }
    }
    return true;
}

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:35:38.547

试试下面的代码，它适用于所有 Android 版本。

```
public class Act_Splashscreen extends Activity
{
    private int delay = 5000;

    public void onCreate(Bundle savedInstanceState) 
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.splash_screen);

        try
        {

            Timer timer = new Timer();
            TimerTask task = new TimerTask() 
            {
                @Override
                public void run() 
                {
                    // TODO Auto-generated method stub

                    Intent intent = new Intent(Act_Splashscreen.this, newactivity.class);
                    startActivity(intent);
                    finish();
                }

            };

            timer.schedule(task, delay);
        } catch (Exception e) {
            // TODO: handle exception
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:17:55.047

您使用的方法在 4.0.3 中已弃用，但在 2.3.3 中未弃用。基本上 2.3.3 有这个功能，但 4.0.3 没有。无论 Splash 中第 48 行的功能是什么，都是您需要删除的方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T07:18:27.963

在 Android 中，它更好地`Handler`用于管理`Thread`和`Runnables`

创建一个处理程序实例

```
Handler handler = new Handler(); 
```

创建一个可运行线程

```
Runnable runnable = new Runnable() {

        @Override
        public void run() {
            Log.d("runnable started", "inside run");
            handler.removeCallbacks(runnable);
            handler.postDelayed(runnable, 1000);
        }
    }; 
```

并使用 Handler 启动 Runnable

```
handler.postDelayed(runnable, 1000); 
```

并停止 Runnable 使用

```
handler.removeCallbacks(runnable); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T07:21:42.043

尝试使用 Runnable Thread

```
 splashThread = new Thread(new runnable(){
        public void run(){

        //do your things here

        }
  });
  splashThread.start(); 
```

**编辑**

您不必包括 stop(); 在你的线程中。一旦完成任务，您的线程将停止。除非你使用 Thread.sleep();

# xcode - removePersistentDomainForName 不适用于 NSUserDefaults

> ID：15018796
> 
> 赞同：3
> 
> 时间：2013-02-22T07:13:16.497
> 
> 标签：xcode, nsuserdefaults

我正在编写一个 OS X 应用程序。我正在尝试清除 NSUserDefaults。

我目前正在做：

```
[[NSUserDefaults standardUserDefaults] removePersistentDomainForName:[[NSBundle mainBundle] bundleIdentifier]]; 
```

但它不起作用，即当我打印用户默认值时，所有键值对仍然存在。

我也尝试添加：

```
[[NSUserDefaults standardUserDefaults] synchronize]; 
```

仍然没有运气。

有人可以帮忙吗？提前致谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-05-28T02:39:09.393

似乎*在 OS X 10.8 上*`removePersistentDomainForName:`不起作用。此外，这些东西也不起作用：

 *```
[[NSUserDefaults standardUserDefaults] setPersistentDomain:@{} forName:[NSBundle mainBundle].bundleIdentifier];

[[NSUserDefaults standardUserDefaults] setValuesForKeysWithDictionary:@{}]; 
```

要解决此问题，您可以为域设置任意键值对，然后删除该对：

```
[[NSUserDefaults standardUserDefaults] setPersistentDomain:@{@"": @""} forName:[NSBundle mainBundle].bundleIdentifier];
[[NSUserDefaults standardUserDefaults] removeObjectForKey:@""];

NSLog(@"%@", [[NSUserDefaults standardUserDefaults] persistentDomainForName:[NSBundle mainBundle].bundleIdentifier]); // => (null) 
```*

# spring-mvc - url-pattern 在 spring mvc 应用程序中不起作用

> ID：15018801
> 
> 赞同：0
> 
> 时间：2013-02-22T07:13:36.730
> 
> 标签：spring-mvc, web.xml, url-pattern

我在spring mvc框架上做了一个基本的应用程序。

当我在 web.xml 上编写以下 url 模式时：

```
<servlet-mapping>
        <servlet-name>springxml</servlet-name>
        <url-pattern>*.jsp</url-pattern>
  </servlet-mapping> 
```

并运行应用程序（使用 ../SpringMVCXML/welcome.jsp），它显示 HTTP 状态 404 错误。

当我更改 .jsp 以外的 url 模式时，应用程序运行良好。

为什么应用程序没有在**.jsp** url 模式上运行？

我曾使用以下 java 类充当控制器。

```
@Controller
@RequestMapping(value="/welcome",method=RequestMethod.GET)
public class ControllerHello {
    @RequestMapping(method=RequestMethod.GET)
    public String printHello(ModelMap map) {
        map.addAttribute("message", "Hello Spring MVC Framework");
        return "hello";
    }
} 
```

另外，我的 springxml-servlet.xml 有以下代码：

```
<bean  class="org.springframework.web.servlet.view.InternalResourceViewResolver">
        <property name="prefix" value="/WEB-INF/jsp/"/>
        <property name="suffix" value=".jsp"/>
    </bean> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:11:40.520

假设你还有 springxml servlet 也服务于 *.jsp 之外的其他视图（你的 web.xml 中可能有其他 servlet-mappings），情况如下：

您为路径 /welcome 注册了一个控制器，而不是为 /welcome.jsp。因此，/welcome.jsp 没有映射到 Spring mvc 控制器。/welcome HelloController 将为您提供字符串输出 hello。

/welcome.jsp 将给出错误 404，因为它位于 WEB-INF 中并且该 url 没有 Spring MVC 控制器。

org.springframework.web.servlet.view.InternalResourceViewResolver 旨在将您的 jsp 文件放在 /WEB-INF 中。查看[http://www.mkyong.com/spring-mvc/spring-mvc-internalresourceviewresolver-example/](http://www.mkyong.com/spring-mvc/spring-mvc-internalresourceviewresolver-example/)了解 InternalResourceResolver 的作用的简单说明。基本上，它使 Spring MVC 能够使用不在公共资源中的 jsp 作为视图。这不是将这些 jsps 注册为有效 url 的机制。

url 在请求映射中确定。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:21:47.990

您可能没有任何弹簧控制器映射到此 URL **/welcome.jsp** 您使用的是什么版本的弹簧？如果您使用的是 spring 2.5 或更高版本，请尝试以下代码

```
@RequestMapping(value = "welcome.jsp")
public String welcomeJSP(){
    return "welcome";
} 
```

# java - 如何使用 HttpUnit servlet runner 运行 servlet 测试？使用 ServletUnit 启动时出现问题？

> ID：15018809
> 
> 赞同：1
> 
> 时间：2013-02-22T07:14:07.520
> 
> 标签：java, http-unit

我打算通过 ServletUnit 对我的 Servlet 进行单元测试，但遇到了一些问题：
- 作为起点，我们应该创建一个 ServletRunner 对象。其中一个构造函数需要带有 web.xml 文件的 File 对象。我提供了我的 web.xml 文件的完整路径，但不知何故它忽略了提供的路径并在顶级文件夹中搜索。代码片段和错误消息如下：

**代码片段**

```
 ServletRunner sr = new ServletRunner(new File("* C:/eclipse-workspaces/pocs/lms-csd/src/main/webapp/WEB-INF/web.xml*")); 
ServletUnitClient sc = sr.newClient(); 
 WebRequest request = new PostMethodWebRequest("path to be specified" ); request.setParameter( "userId", "test" );
 request.setParameter( "password", "csd" );
  WebResponse response = sc.getResponse(request);
  String text = response.getText(); 
```

Assert.assertTrue(text.contains("欢迎离开管理系统"));

**堆栈跟踪**

```
 com.meterware.httpunit.HttpInternalErrorException:
 Error on HTTP request: 500 org.apache.jasper.JasperException: java.io.FileNotFoundException: * C:\eclipse-workspaces\pocs\lms-csd\WEB-INF\web.xml* 
(The system cannot find the path specified) 
```

[http://localhost/login] - 为什么系统一直查看文件夹结构为.../WEB-INF/web.xml。我的项目是一个 Maven 项目，我不想改变项目的结构以适应这种方式。如何使 ServletRunner 类从指定的文件夹中读取？- 在 Servlet 代码中，我使用以下代码：

```
 String result = null if (someCondition) result = "/welcome.jsp"; } else { logger.warn("Password Validation failed"); request.setAttribute("failedlogin", new Boolean(true)); result = "/index.jsp"; } } RequestDispatcher requestDispatcher = getServletContext().getRequestDispatcher(result); requestDispatcher.forward(request, response); 
```

ServletUnit 再次期望welcome.jsp 位于根目录，尽管jsp 文件存在于.../src/main/webapp/ 文件夹中。同样，如何告知 ServletUnit 目标文件夹位置？

提前谢谢了。

最好的问候 M.SuriNaidu

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-23T04:59:12.217

这就是我做的事情。这是我的 servlet 测试的基类的复制品。在这种情况下，我传递了 web.xml 文件的相对路径，因为它存在于我的源代码树中。我从 ant 和 eclipse 运行这些测试。

```
abstract public class ServletTestCase {

    protected ServletRunner       m_runner;
    protected ServletUnitClient   m_client;
    protected String              m_userAgent = "something/1.0";

    @Override
    protected void setUp() throws Exception {
        super.setUp();
        initHttpUnit();
    }

    @Override
    protected void tearDown() throws Exception {
        shutdownHttpUnit();
        super.tearDown();
    }

    protected void initHttpUnit() throws IOException, SAXException {
        shutdownHttpUnit();

        // We are expecting UTF-8 character handling in URLs, make it the default
        HttpUnitOptions.setDefaultCharacterSet("UTF-8");

        // Find the servlet's web.xml file and use it to init servletunit
        File file = new File("tests/web.xml"));
        m_runner = new ServletRunner(file);
        m_client = m_runner.newClient();
        m_client.getClientProperties().setUserAgent(m_userAgent);
    }

    protected void shutdownHttpUnit() {
        if (m_runner != null) {
            m_runner.shutDown();
        }
        m_client = null;
        m_runner = null;
    }
} 
```

# javascript - 注销操作后如何阻止浏览器返回查看的页面？

> ID：15018814
> 
> 赞同：2
> 
> 时间：2013-02-22T07:14:37.160
> 
> 标签：javascript, jsf, browser, jsf-2, logout

我在主页中有注销链接，单击该链接我将用户重定向到登录页面。

当用户在浏览器中单击返回时，它会在 loutout 后重定向到主页。

如何阻止这种情况。

我尝试在登录页面的标题处使用 javascript 代码。

```
<script type="text/javascript">
            function noBack() { window.history.forward() }
            noBack();
            window.onload = noBack;
            window.onpageshow = function (evt) { if (evt.persisted) noBack() }
            window.onunload = function () { void (0) }
</script> 
```

帮帮我。

# xslt-1.0 - col结束标签没有被调用

> ID：15018819
> 
> 赞同：0
> 
> 时间：2013-02-22T07:14:46.120
> 
> 标签：xslt-1.0

我的 XML 文档有以下部分。在这里，当我在这个 XML 文档上运行我的 xslt 时， col 类...里面的 colgroup 被调用，colgroup 被调用但 col 类的结束标记没有被调用。请让我知道如何关闭 col 类...最后一个代码包含我的 xml html 输出。

```
<table frame="all" width="100%">
        <tgroup cols="2">
            <colspec colnum="1" colname="col1" colwidth="18%"/>
            <colspec colnum="2" colname="col2" colwidth="82%"/>
            <thead>
                <row>
                    <entry namest="col1" nameend="col2">
                        <para>A timeline of British Virgin Islands company law</para>
                    </entry>
                </row>
            </thead>
            <tbody>
                <row>
                    <entry>
                        <para>1884</para>
                    </entry>
                    <entry>
                        <para>Companies Act passed into law.</para>
                    </entry>
                </row>
                <row>
                    <entry>
                        <para>1984</para>
                    </entry>
                    <entry>
                        <para>International Business Companies Act passed into law.</para>
                    </entry>
                </row>
                <row>
                    <entry>
                        <para>2004</para>
                    </entry>
                    <entry>
                        <para>BVI Business Companies Act passed into law, coming into force on 1 January 2005.</para>
                    </entry>
                </row>
                <row>
                    <entry>
                        <para>2005</para>
                    </entry>
                    <entry>
                        <para>All three corporate statutes exist in parallel and it is possible to incorporate companies under any of them.</para>
                    </entry>
                </row>
                <row>
                    <entry>
                        <para>2006</para>
                    </entry>
                    <entry>
                        <para>Incorporation provisions in the International Business Companies Act and the Companies Act are repealed on 31 December 2005; the Acts remain in force but new companies may only be incorporated under the BVI Business Companies Act.</para>
                    </entry>
                </row>
                <row>
                    <entry>
                        <para>2007</para>
                    </entry>
                    <entry>
                        <para>International Business Companies Act repealed on 31 December 2006\. Transitional provisions come into effect for companies incorporated under that act.</para>
                    </entry>
                </row>
                <row>
                    <entry>
                        <para>2009</para>
                    </entry>
                    <entry>
                        <para>Companies Act repealed on 31 December 2008\. Transitional provisions come into effect for companies incorporated under that Act.</para>
                    </entry>
                </row>
            </tbody>
        </tgroup>
    </table> 
```

下面是我的xslt。

```
<?xml version="1.0" encoding="utf-8"?>
<xsl:stylesheet version="1.0" 
                xmlns:xsl="http://www.w3.org/1999/XSL/Transform" 
                xmlns:ntw="Number2Word.uri" 
                exclude-result-prefixes="ntw">
  <xsl:variable name="ThisDocument" select="document('')"/>
  <xsl:template match="/">
    <html>
      <head>
        <meta http-equiv="Content-Type" 
              content="text/html; charset=UTF-8"/>
        <title>
          <xsl:value-of select="chapter/title"/>
        </title>
        <link rel="stylesheet" href="er:#css" type="text/css"/>
      </head>
      <body>
        <xsl:apply-templates/>
        <hr/>
        <section class="tr_footnotes">
          <xsl:apply-templates select="//footnote" 
                               mode="footnote"/>
        </section>
      </body>
    </html>
  </xsl:template>
  <xsl:template match="chapter">
    <section>
      <div class="chapter">
        <a name="BVI-CH-{@num}"/>
        <xsl:variable name="cnum">
          <xsl:choose>
            <xsl:when test="starts-with(@num,'0')">
              <xsl:value-of select="substring-after(@num,'0')"/>
            </xsl:when>
            <xsl:otherwise>
              <xsl:value-of select="@num"/>
            </xsl:otherwise>
          </xsl:choose>
        </xsl:variable>
        <div class="chapter-title">
          <span class="chapter-num">
            <xsl:value-of select="concat('Chapter ',$cnum,' ')"/>
          </span>
          <xsl:apply-templates select="title"/>
        </div>                          
        <xsl:apply-templates select="child::node()[not(self::title)]"/>
      </div>
    </section>
  </xsl:template>
  <xsl:template match="chapter/para">
    <div class="para align-right">
      <span class="format-smallcaps">Para</span>.
    </div>
  </xsl:template>
  <!-- Index templates -->
  <xsl:template name="toc" match="chapter/toc">
    <div class="toc">
      <xsl:call-template name="toc-part"/>
    </div>
  </xsl:template>
  <xsl:template name="toc-part" match="chapter/toc/toc-part">
    <div class="toc-part">
      <xsl:call-template name="toc-div"/>
    </div>
  </xsl:template>
  <xsl:template name="toc-div" match="chapter/toc/toc-part/toc-div">
    <table class="toc-div">
      <tbody>
        <xsl:for-each select="current()/toc-part/toc-div/*">
          <xsl:call-template name="toc-item"/>
        </xsl:for-each>
      </tbody>
    </table>
  </xsl:template>
  <xsl:template name="toc-item" match="chapter/toc/toc-part/toc-div/toc-item">
    <xsl:variable name="tocpg">
      <xsl:value-of select="concat('#P',current()/toc-pg/text())"/>
    </xsl:variable>
    <xsl:variable name="tocpgtag" select="translate($tocpg,'.', '-')"/>
    <xsl:variable name="chapternumber">
      <!-- Get num attribute of parent node -->
      <xsl:value-of select="ancestor::chapter[1]/@num"/>
    </xsl:variable>
    <xsl:variable name="itemlevel">
      <xsl:value-of select="$ThisDocument//ntw:nums[@num=$chapternumber]/@word"/>
    </xsl:variable>
    <xsl:variable name="tocitemlevel">
      <xsl:value-of select="concat('toc-item-', $itemlevel,'-level')"/>
    </xsl:variable>
    <table class="{$tocitemlevel}">
      <tbody>
        <tr>
          <td class="toc-item-num">
            <xsl:value-of select="current()/@num"/>
          </td>
          <td class="toc-title">
            <xsl:value-of select="current()/toc-title"/>
          </td>
          <td class="toc-pg">
            <a href="{$tocpgtag}">
              <xsl:value-of select="current()/toc-pg"/>
            </a>
          </td>
        </tr>
      </tbody>
    </table>
  </xsl:template>
  <!-- Index Templates Complete -->
  <!-- Paragraph templates -->

  <xsl:template name="section" match="section">
    <!-- Variables-->
    <xsl:variable name="classname">
      <!--Get name attribute of current node -->
      <xsl:value-of select="concat('section-',@level)"/>
    </xsl:variable>
    <xsl:variable name="chapternumber">
      <!-- Get num attribute of parent node -->
      <xsl:value-of select="ancestor::chapter[1]/@num"/>
    </xsl:variable>
    <xsl:variable name="sectnum">
      <xsl:number level="any" count="section" format="1"/>
    </xsl:variable>
    <!--Create a string variable by concat string method  -->
    <xsl:variable name="sectionname">
      <xsl:value-of select="concat('CH-',$chapternumber,'-SEC-0', $sectnum)"/>
    </xsl:variable>
    <!-- Template Content  -->
    <div class="{$classname}">
      <a name="{$sectionname}"> </a>
      <div class="section-title">
        <span class="section-num">
          <xsl:value-of select="@num"/>
        </span>
        <xsl:apply-templates select="title"/>
      </div>
      <xsl:apply-templates select="child::node()[not(self::title)]"/>
    </div>
  </xsl:template>

  <xsl:template name="para" match="section/para">

    <div class="para">
      <xsl:apply-templates select="phrase"/>
      <span class="phrase">
        <xsl:value-of select="current()/phrase"/>
      </span>
      <xsl:apply-templates select="child::node()[not(self::phrase)]"/>
    </div>

  </xsl:template>

  <xsl:template name="phrase" match="phrase">
    <xsl:variable name="phrase">
      <xsl:value-of select="concat('P',text())"/>
    </xsl:variable>
    <xsl:variable name="newphrase" select="translate($phrase,'.','-')"/>
    <a>
      <xsl:attribute name="name"><xsl:value-of select="$newphrase"></xsl:value-of></xsl:attribute>
    </a>
  </xsl:template>

  <!-- Table Templates  -->
  <xsl:template name="table" match="table">
    <table style="frame-{current()/@frame} width-{translate(current()/@width,'%','')}">
      <xsl:apply-templates/>
    </table>
  </xsl:template>

  <xsl:template match="tgroup">
    <colgroup>
      <xsl:apply-templates select=".//colspec"/>
    </colgroup>
    <xsl:apply-templates select="child::node()[not(self::colspec)]"/>

  </xsl:template>       

  <xsl:template name="tbody" match="tgroup/tbody">
    <tbody>
      <xsl:for-each select="current()/row">
        <xsl:call-template name="row"/>
      </xsl:for-each>
    </tbody>
  </xsl:template>
  <xsl:template name="thead" match="tgroup/thead">

    <xsl:for-each select="current()/row"><thead>

      <tr>
        <xsl:for-each select="current()/entry">
          <xsl:call-template name="headentry"/>
        </xsl:for-each>
      </tr>
    </thead>
    </xsl:for-each>
  </xsl:template>
  <xsl:template name="colspec" match="colspec">

    <col class="colnum-{current()/@colnum} colname-{current()/@colname} colwidth-{translate(current()/@colwidth,'%','')}"></col>
  </xsl:template>
  <xsl:template name="row" match="tbody/row">
    <tr>
      <xsl:for-each select="current()/entry">
        <xsl:call-template name="entry"/>
      </xsl:for-each>
    </tr>
  </xsl:template>
  <xsl:template name="entry" match="entry">
    <xsl:variable name="count">
      <xsl:value-of select="count(preceding-sibling::* | following-sibling::*)"/>
    </xsl:variable>
    <xsl:choose>
      <xsl:when test="$count &lt; 2">
        <xsl:if test="position()=1">
          <td>
            <div class="para align-center">
              <xsl:value-of select="para[position()=1]"/>
            </div>
          </td>
          <td>
            <div class="para">
              <xsl:value-of select="following-sibling::node()"/>
            </div>
          </td>
        </xsl:if>
      </xsl:when>
      <xsl:when test="$count &gt; 1">
        <td>
          <div class="para">

            <xsl:apply-templates/>
          </div>
        </td>
      </xsl:when>
    </xsl:choose>
  </xsl:template>
  <xsl:template name="headentry">
    <th>
      <xsl:if test="translate(current()/@namest,'col','') != translate(current()/@nameend,'col','')">
        <xsl:variable name="colspan">
          <xsl:value-of select="translate(current()/@nameend,'col','') - translate(current()/@namest,'col','') + 1"/>
        </xsl:variable>
        <xsl:attribute name="colspan"><xsl:value-of select="$colspan"></xsl:value-of></xsl:attribute>
      </xsl:if>
      <div class="para">
        <xsl:value-of select="current()/para/text()"/>
      </div>
    </th>
  </xsl:template>
  <!-- Table Templates complete  -->

  <!--List templates -->
  <xsl:template name="orderedlist" match="orderedlist">
    <ol class="orderedlist">
      <xsl:apply-templates/>
    </ol>
  </xsl:template>
  <xsl:template name="orderitem" match="orderlist/item">
    <li class="item">
      <xsl:apply-templates/>
    </li>
  </xsl:template>
  <xsl:template name="orderitempara" match="item/para">
    <xsl:variable name="itemnumber">
      <xsl:value-of select="parent::item[1]/@num"/>
    </xsl:variable>
    <li class="item">
      <div class="para">
        <span class="item-num">
          <xsl:value-of select="parent::item[1]/@num"/>
        </span>
        <xsl:apply-templates/>
      </div>
    </li>
  </xsl:template>
  <!--List templates Complete -->
  <!-- Paragraph templates Complete -->
  <!-- Footnote Templates-->
  <xsl:template match="footnote">
    <sup>
      <a>
        <xsl:attribute name="name"><xsl:text>footnoteref</xsl:text><xsl:number level="any" count="footnote" format="1"/></xsl:attribute>
        <xsl:attribute name="href"><xsl:text>#footnote</xsl:text><xsl:number level="any" count="footnote" format="1"/></xsl:attribute>
        <xsl:attribute name="class"><xsl:text>tr_ftn</xsl:text><xsl:number level="any" count="footnote" format="1"/></xsl:attribute>
        <xsl:number level="any" count="footnote" format="1"/>
      </a>
    </sup>
  </xsl:template>
  <xsl:template match="footnote" mode="footnote">
    <sup>
      <li style="list-style-type:none;indent:0">
        <a>
          <xsl:attribute name="name"><xsl:text>footnote</xsl:text><xsl:number level="any" count="footnote" format="1"/></xsl:attribute>
          <xsl:attribute name="href"><xsl:text>#footnoteref</xsl:text><xsl:number level="any" count="footnote" format="1"/></xsl:attribute>
          <xsl:attribute name="class"><xsl:text>tr_ftn</xsl:text><xsl:number level="any" count="footnote" format="1"/></xsl:attribute>
          <xsl:number level="any" count="footnote" format="1"/>
        </a>
        <xsl:text> </xsl:text>
        <xsl:apply-templates/>
      </li>
    </sup>
  </xsl:template>
  <xsl:template match="footnote/para/uri">

    <xsl:variable name="url1">
      <xsl:value-of select="translate(@href, '&#x003C;','')" />
    </xsl:variable>
    <xsl:variable name="url2">
      <xsl:value-of select="translate($url1, '&#x003E;','')" />
    </xsl:variable>
    <a href="{$url2}">
      <xsl:value-of select="." />
    </a>

  </xsl:template>
  <!-- Footnote Templates Complete -->
  <xsl:template match="content-style">
    <xsl:choose>
      <xsl:when test="@format='smallcaps'">
        <xsl:value-of select="translate(normalize-space(.),'ABCDEFGHIJKLMNOPQRSTUVWXZ','abcdefghijklmnopqrstuvwxyz')"/>
      </xsl:when>
      <xsl:when test="@format='superscript'">
      </xsl:when>

      <xsl:otherwise>
        <xsl:apply-templates/>
      </xsl:otherwise>
    </xsl:choose>
  </xsl:template>
  <!-- Namespace ntw-->
  <ntw:nums num="01" word="first"/>
  <ntw:nums num="02" word="second"/>
  <ntw:nums num="03" word="third"/>
  <ntw:nums num="04" word="forth"/>
  <ntw:nums num="05" word="fifth"/>
  <ntw:nums num="06" word="sixth"/>
  <ntw:nums num="07" word="seventh"/>
  <ntw:nums num="08" word="eighth"/>
  <ntw:nums num="09" word="nighth"/>
  <ntw:nums num="10" word="tenth"/>
  <!-- Namespace ntw ends -->
</xsl:stylesheet> 
```

xml 的 HTML 输出。

```
table style="frame-all width-100">
            <colgroup>
    <col class="colnum-1 colname-col1 colwidth-18"> //here / is missing in the end
    <col class="colnum-2 colname-col2 colwidth-82">//here / is missing in the end
            </colgroup> 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T13:33:23.843

欢迎来到堆栈溢出！

您的样式表没有指定输出方法，但您的输出是可识别的 HTML。所以您的样式表使用的是 HTML 输出方法，而不是 XML 输出方法。在 HTML 输出方法中，始终为空的元素（如`col`）使用 SGML 样式的结束标记，因此您显示的输出是正确的。

如果您想要 XML 输出，请将 xsl:output 元素添加到样式表（作为 xsl:stylesheet 的第一个子元素）并`method="xml"`在其上指定，因此：

```
<xsl:output method="xml"/> 
```

（请注意，如果您要创建 XHTML 输出，则需要将输出元素放在 XHTML 命名空间中。）

当我将输出元素添加到样式表时，输出中的 colgroup 元素采用以下形式，这似乎是您要查找的内容：

```
 <colgroup>
    <col class="colnum-1 colname-col1 colwidth-18"/>
    <col class="colnum-2 colname-col2 colwidth-82"/>
  </colgroup> 
```

# javascript - 我应该总是将函数绑定到 $scope 对象吗？

> ID：15018821
> 
> 赞同：7
> 
> 时间：2013-02-22T07:14:48.470
> 
> 标签：javascript, angularjs

当我创建控制器时，我总是向`$scope`对象添加函数，如下所示：

```
function DummyController($scope) {

  $scope.importantFunction = function () { /*...*/ };

  $scope.lessImportantFunction = function () { /*...*/ };

  $scope.bussinessLogicFunction = function () { /*...*/ };

  $scope.utilityFunction = function () { /*...*/ };

} 
```

当然，我会很好地封装我的控制器，确保业务逻辑位于适当的组件（通过 DI 注入）或服务中。因此控制器专注于协调 UI 和后端之间的事情。

但是，正如您所看到的 - 仍然有许多不同类型的功能。我喜欢保留更多，因为它提高了恕我直言的可读性。

**问题** 是将许多函数附加到 $scope 对象是一个好习惯吗？它有性能开销吗？我知道这`$scope`是一种特殊的对象，在 Angular 的摘要周期中不断被评估，所以我这样做是对的，还是坚持我的方法会自找麻烦？

（请注意：我不是在寻找替代方法。我在寻找对了解 Angular 内部结构的人的一些深思熟虑的分析。）

谢谢！

更新：

Anders 的回答非常好，向您展示了一些可以遵循的路径。今天碰到了这个美女，一个[Angular Js 调试和性能监控的 chrome 扩展](http://blog.angularjs.org/2012/07/introducing-angularjs-batarang.html)。它向您展示了所有范围和分配的变量，以及一些有趣的性能图表。任何 Angular 开发人员都必须拥有！

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-02-22T08:21:07.513

*更新：*

1.  **我应该将所有函数和变量添加到范围吗？**

    不，如果您需要在模板中访问它们，您应该只将函数和变量添加到您的范围。仅在控制器函数中访问的变量不应该在范围内，它应该是控制器函数的本地变量。

2.  **如果我在范围内添加很多功能会影响性能吗？**

    一般来说，没有。在您的范围内执行的函数`ng-click="myFunction()"`不应以明显的方式影响性能。但是如果你的函数是这样执行的：`{{myFunction()}}`它将为每个摘要执行，因为 Angular 需要知道它的返回值是否已更改，以便它可以更新 UI。

3.  **如果我在作用域中添加很多变量会影响性能吗？**

    如果你在 Angular 会脏检查它们的地方使用它们，它可能会影响性能。这些情况是您将它们打印出来的地方`{{myVariable}}`，如果您在`ng-model="myVariable"`,`ng-show="myVariable"`等中使用它们。类似的指令`ng-click`不会执行脏检查，因此不会减慢速度。Angular 背后的人建议你不要在一页上使用超过 2000 个需要重新绘制/脏检查的表达式，因为在那之后你的性能会开始下降。2000 的限制是他们在研究 Angular 性能时发现的。

    请注意，仅仅因为您在范围上添加了一个属性，并不意味着 Angular 会对它执行脏检查。它们必须在您的模板中使用才能执行脏检查（但不能用于 ng-click）。

4.  **如果我想在我的 Angular 应用程序中获得最佳性能，我应该注意什么？**

    就像我上面提到的，尝试将绑定模板表达式的数量保持在 2000 以下。如果您在您的范围内实现 watch，请确保 watch 的表达式执行得非常快。这是你不应该这样做的一个例子：

    ```
    $scope.items = [];
    for (var i = 0; i < 1000; i++) {
        $scope.items.push({prop1: 'val1', prop2: 'val2', prop3: 'val3'});
    }

    $scope.$watch('items', function() {

    }, true); 
    ```

    通过将`true`第三个参数添加到 $watch 中，您是在告诉 Angular 循环遍历`$scope.items`每个摘要周期以检查一千个项目的任何属性是否已更改，这在时间和内存上都将耗费大量时间。

    你应该做的是：

    ```
    $scope.items = [];
    for (var i = 0; i < 1000; i++) {
        $scope.items.push({prop1: 'val1', prop2: 'val2', prop3: 'val3'});
    }

    $scope.$watch('items.length', function() {

    }); 
    ```

    也就是说，仅检查何时`$scope.items.length`更改。该表达式将执行得非常快。

* * *

**原帖：**

如果您的问题是“向模板公开函数是否比对象更好”，那么是的，您应该尽可能多地使用函数。这样你就可以将逻辑封装在控制器内部，而不是让它渗入你的模板。举个例子：

```
<div ng-show="shouldShow">Toggled div</div>
<button ng-click="shouldShow = !shouldShow">Toggle<button> 
```

这里的模板对正在发生的事情有太多的了解。相反，这应该像这样解决：

```
// controller
var shouldShow = false;
scope.toggle = function() {
    shouldShow = !shouldShow;
}
scope.shouldShow = function() {
    return shouldShow;
}

<!-- template -->
<div ng-show="shouldShow()">Toggled div</div>
<button ng-click="toggle()">Toggle<button> 
```

通过这样做，在不触及模板的情况下扩展控制器中的逻辑是微不足道的。虽然您现在的要求可能只是在按下按钮时切换 div，但明天的要求可能是在发生这种情况时更新应用程序的其他部分。如果您改用函数，则可以很容易地在函数中添加该逻辑，而无需更改模板。

作用域上的函数比使用属性的开销要多一些，但是当那一天到来时，这些开销可能不会成为减慢应用程序速度的原因。所以在有意义的时候使用函数。

但是你仍然应该尽量保持你的控制器尽可能小。如果它们增长到包含大量功能/功能，您可能应该将您的控制器拆分为可重用的指令。

# eclipse - 为什么 CMake-CDT4-NMake-Build 这么慢？

> ID：15018823
> 
> 赞同：0
> 
> 时间：2013-02-22T07:14:50.473
> 
> 标签：eclipse, visual-c++, cmake

我正在 Windows 7 上编译 OpenCascade 社区版 ( [https://github.com/tpaviot/oce/](https://github.com/tpaviot/oce/) )。构建文件是使用 CMake 2.8.8 生成的。

当我使用“Visual Studio 10”生成器并从控制台使用 msbuild 编译项目时，整个构建过程需要 17 分钟。另一方面，如果我选择“Eclipse CDT4 - NMake Makefiles”并在 Eclipse 中启动构建过程，则需要 87 分钟。

有谁知道这种差异的原因？有没有办法让 Eclipse 构建得更快？

使用 msbuild 我不使用并行构建。此外，当我查看任务管理器时，似乎两个构建过程的 CPU 使用率几乎相同。

我搜索了很多，但没有找到任何线索。先感谢您。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T14:11:49.987

是的，VS IDE 项目进行并行构建。nmake 没有。一个认为您可以尝试的是 jom 或其他工具，请参阅此处了解信息： [http ://www.kitware.com/blog/home/post/434](http://www.kitware.com/blog/home/post/434)

我没有注意到你说 msbuild 没有做并行。你是怎么做到的？这将是默认的并行目标构建。

# c# - 为什么编译器不能解析这些泛型类型

> ID：15018825
> 
> 赞同：8
> 
> 时间：2013-02-22T07:14:58.497
> 
> 标签：c#, generics

如果我有这样的方法：

```
public void Foo<T1, T2>(T1 list)
    where T1 : IList<T2>
    where T2 : class
{
    // Do stuff
} 
```

现在，如果我有：

```
IList<string> stringList = new List<string>();
List<object> objectList = new List<object>();
IList<IEnumerable> enumerableList = new List<IEnumerable>(); 
```

然后编译器无法解析要选择的泛型，这将失败：

```
Foo(stringList);
Foo(objectList);
Foo(enumerableList); 
```

而且您必须明确指定要使用的泛型：

```
Foo<IList<string>, string>(stringList);
Foo<IList<object>, object>(objectList);
Foo<List<object>, object>(objectList);
Foo<IList<IEnumerable>, IEnumerable>(enumerableList); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-22T07:36:32.467

通用方法类型推断故意不*从*约束中进行任何推论。相反，从*参数*和*形式参数*中进行推导，然后根据约束检查推导的类型参数。

有关约束和方法签名的一些设计问题的详细讨论，包括几十个人告诉我认为现有设计是明智的我是错误的，请参阅我关于该主题的文章：

[http://blogs.msdn.com/b/ericlippert/archive/2009/12/10/constraints-are-not-part-of-the-signature.aspx](http://blogs.msdn.com/b/ericlippert/archive/2009/12/10/constraints-are-not-part-of-the-signature.aspx)

[这是[Eric Lippert 对类似问题的回答](https://stackoverflow.com/a/7171527/572644)的精确副本。
我决定复制它，因为这个问题更简洁明了。]

# asp.net-mvc - 如何运行我的果园模块？

> ID：15018836
> 
> 赞同：1
> 
> 时间：2013-02-22T07:16:04.043
> 
> 标签：asp.net-mvc, asp.net-mvc-4, orchardcms

我有一个几乎独立的 Orchard 模块。它是一个包含控制器和视图集合的应用程序，并执行它自己的基于 EF 的数据访问。

一旦我在 Orchard 中安装并激活了这个模块，我如何请求它的控制器操作并获得它的视图作为响应？我知道它必须有一个`Routes`类，并且怀疑这是我必须做的事情才能访问我的模块。我知道一个模块实际上是一个区域，但我仍然努力理解这个`Routes`类。

假设我的模块有一个控制器、动作和视图、Home、Index 和 Index，即 Home/Index。一旦 Orchard 启动并运行，我如何访问这个特定的`Index`肌动蛋白？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T09:51:41.063

Orchard 文档中有一个很好的指南来[创建使用自己的控制器的 Orchard 模块](http://docs.orchardproject.net/Documentation/Building-a-hello-world-module)。

下面是取自该指南的代码示例，它为名为 HelloWorld 的模块创建路由：

```
using System.Collections.Generic;
using System.Web.Mvc;
using System.Web.Routing;
using Orchard.Mvc.Routes;

namespace HelloWorld {
    public class Routes : IRouteProvider {
        public void GetRoutes(ICollection<RouteDescriptor> routes) {
            foreach (var routeDescriptor in GetRoutes())
                routes.Add(routeDescriptor);
        }

        public IEnumerable<RouteDescriptor> GetRoutes() {
            return new[] {
                new RouteDescriptor {
                    Priority = 5,
                    Route = new Route(
                        "HelloWorld",
                        new RouteValueDictionary {
                            {"area", "HelloWorld"},
                            {"controller", "Home"},
                            {"action", "Index"}
                        },
                        new RouteValueDictionary(),
                        new RouteValueDictionary {
                            {"area", "HelloWorld"}
                        },
                        new MvcRouteHandler())
                }
            };
        }
    }
} 
```

如果你创建一个实现 IRouteProvider 的类，你可以让 Orchard 知道你的控制器的路由。

# javascript - 估计 MongoDB 中的 JS 对象存储大小

> ID：15018838
> 
> 赞同：1
> 
> 时间：2013-02-22T07:16:05.963
> 
> 标签：javascript, mongodb

估计 json 对象（如果可用的 JSON 大小）将在 MongoDB 中占用多少存储内存的最佳方法是什么？是否有某种相关公式？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T07:27:28.343

有`Object.bsonsize()`方法[mongo Shell Quick Reference / Miscellaneous](http://docs.mongodb.org/manual/reference/mongo-shell/#miscellaneous)。

它将以 BSON 表示形式为您提供对象的大小。

```
> Object.bsonsize({"_id" : ObjectId("51271c0c45fdc20bd005d1ef")})
22
> Object.bsonsize({"_id" : ObjectId("51271c0c45fdc20bd005d1ff")})
22
> Object.bsonsize({ "a" : 1, "b" : 2})
27
> Object.bsonsize({ "a" : 1, "b" : 2, "_id" : ObjectId("51271c0c45fdc20bd005d1ef") })
44 
```

请记住，如果您计划让 mongodb 自动将 ObjectId 分配给您的对象，它将花费额外的大小。

此外，由于填充机制，对象在集合中占用的有效空间量将超过对象的大小。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T07:19:08.207

如果你有实际的文档，你可以像这样在 mongo shell 中使用它：

```
> Object.bsonsize(<yourdochere>) 
```

这将为您提供文档的存储大小。

# javascript - 为什么使用电子邮件和密码创建用户会导致 502 Bad Gateway？

> ID：15018840
> 
> 赞同：0
> 
> 时间：2013-02-22T07:16:09.950
> 
> 标签：javascript, firebase

我正在尝试向我的 Firebase 应用程序添加电子邮件和密码身份验证：

```
this.authClient = new FirebaseAuthClient(options.ref, this.onAuth.bind(this)) 
```

正如预期的那样，在错误和用户设置为 null 的情况下触发回调。

要为用户创建一个帐户，我按照文档运行 createUser：

```
 this.authClient.createUser(
     this.$el.find('.not-logged-in .email').val(),
     this.$el.find('.not-logged-in .password').val(),
     function(error, user) {
         alert('This point is never reached')
     }
) 
```

相反，我在控制台中看到一个失败的请求：

```
GET https://auth.firebase.com/auth/firebase/create?&firebase=PRIVATE&email=PRIVATE%40PRIVATE&password=test&callback=FirebaseAuthClient._callbacks._firebaseXDR136151713871233 502 (Bad Gateway) 
```

（我遗漏了我的 firebase 名称和我的电子邮件。它们都有预期的值）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:20:50.777

在 Auth 下启用 Firebase Forge 中的“电子邮件和密码”身份验证提供程序。

# asp.net - 如何在 asp.net 中创建共享网络

> ID：15018846
> 
> 赞同：0
> 
> 时间：2013-02-22T07:16:31.543
> 
> 标签：asp.net, visual-studio-2012, webforms

我正在开发用于报告的 asp.net 应用程序。我需要开发大约 50 多份报告。在每份报告中，我需要在几乎每个 .aspx 页面上包含可能包含 start-date 、 end-date、 name 、 company 等的选择标准。这些控件可以是下拉菜单、文本框或日历等类型。

在每个页面上使用一个可编辑 + 共享（不是 100% 相同）网络表单的任何想法。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:29:15.570

您可以创建[ASP.NET 自定义控件](http://msdn.microsoft.com/en-us/library/zt27tfhy%28v=vs.100%29.aspx)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T09:41:14.060

使用 ASP.NET 自定义控件将允许您创建一个可以插入到所有页面中的模块。

您也可以查看此内容以更快地开始。

[http://www.codeproject.com/Articles/1739/User-controls-in-ASP-NET](http://www.codeproject.com/Articles/1739/User-controls-in-ASP-NET)

如果您想让所有应用程序相似但不是 100% 相同，那么只需创建可用于调整不同页面上的控件属性的公共属性。例如，如果某个文本框应该在某个页面上可见而在其他页面上不可见，则只需在控件中创建一个名为 EnableTextBoxABC 的公共属性

# c++ - cin.eof() 的组合键

> ID：15018849
> 
> 赞同：1
> 
> 时间：2013-02-22T07:16:44.623
> 
> 标签：c++, windows

`cin.eof()`此代码中所述的输入键是什么

```
while (1) {
  int i = cin.get(); 
  if (cin.eof()) 
     break;
  ...
} 
```

在 linux 中，我知道它是 CTRL+D，但该组合键在 Visual Studio 中不起作用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:18:50.883

`F6`或`ctrl`+`z`是常用的（`F6`通常首选 -- `ctrl`+`z`只有在 之前和之后才能可靠地工作`Enter`）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T07:18:44.410

在 DOS/Windows 控制台中，它应该是`Ctrl`+ `Z`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T07:20:02.550

在 Linux/Unix 中，Ctrl + D 向控制终端/进程发送信号 (SIGQUIT)。这与 cin.eof() 无关。

您可以使用 Ctrl-C 中断 VS 中的控制台应用程序，但这会终止进程。

见[这里](http://www.tutorialspoint.com/unix/unix-signals-traps.htm)。

# ajax - 使用jquery/ajax的成功事件填充和设置下拉列表值

> ID：15018853
> 
> 赞同：0
> 
> 时间：2013-02-22T07:17:04.500
> 
> 标签：ajax, web-services, jquery, asp.net-ajax

我有一个 Ajax 请求来填写一个编辑表单，比如..

```
function FillLiveDetail(event, LiveID)
{
$.ajax
({
    type: "POST",
    url: MyUrl + '/GetLiveDetail',
    data: '{LiveID: "' + LiveID + '"}',
    contentType: "application/json; charset=utf-8",
    dataType: "json",
    success: function(data)
    {
        var LiveDetail = data.d;
        $('#ClassName').val(LiveDetail[0].Title);
        $('#ClassDesc').val(LiveDetail[0].Desc);
        $('#SearchKey').val(LiveDetail[0].Keys);
        $('#Date').val(LiveDetail[0].Date);
        $('#Hour').val(LiveDetail[0].Hours);
        $('#Minute').val(LiveDetail[0].Minuts);
        $('#AM_PM').val(LiveDetail[0].AmPm);
        $('#Duration').val(LiveDetail[0].Duration);
        $('#rdbLivePrivacy).prop('checked',true);
        CategoryList(event, 'MyddlCategory');
        $('#MyddlCategory').val(LiveDetail[0].CategoryID);
    }
});
}

function CategoryList(event, ddl_Category_ID)
{
    var ddl_Category = $('#'+ddl_Category_ID);
    event = event || window.event || e.srcElement;
    event.preventDefault();
    $.ajax
    ({
        type: "POST",
        url: ServiceUrl +'/FillAllCategories',
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function(data)
        {
            var MyCategoryList = data.d;
            $(ddl_Category).html('<option value="0" selected="selected">All Category</option>'); 
            for(var m=0; m<MyCategoryList.length; m++)
            {
                var row = ['<option value="'+MyCategoryList[m].CategoryID+'">'+MyCategoryList[m].CategoryName+'</option>'].join('\n');
                $(ddl_Category).append(row);
            }
        }
    });
} 
```

我的问题是，我无法更改函数的定义，`CategoryList()`因为我在项目的许多地方都使用了它......
在这种情况下，成功：函数事件`CategoryList()`成功时触发：`FillLiveDetail()`函数事件完成这就是为什么我无法设置`MyddlCategory`...的值
请建议我任何可能有用的东西..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T12:50:47.577

关闭此行中的选择器引号`$('#rdbLivePrivacy').prop('checked',true);`

尝试将`async`ajax调用的属性设置为`false`

```
$.ajax
({
    type: "POST",
    async: false,
    url: ServiceUrl +'/FillAllCategories',
... 
```

# java - APK 文件在写入 SD 卡时损坏

> ID：15018855
> 
> 赞同：1
> 
> 时间：2013-02-22T07:17:13.943
> 
> 标签：java, android, file, apk, httpresponse

我点击了托管我的 apk 文件的 URL，然后将收到的字节写入文件。

```
class DownloadAPKFile extends AsyncTask<String, Void, Boolean>{

    private byte[] fileBytes;

    @Override
    protected Boolean doInBackground(String... params) {
        Log.d("begin", "begun");
        HttpClient client = new DefaultHttpClient();
        HttpGet get = new HttpGet("http://www.website/Path/my.apk");

        try {
            HttpResponse response = client.execute(get);
            Log.d("Login", "Response " + response.getEntity());
            Log.d("Login", "contentLength " + response.getEntity().getContentLength());
            String responseBody = EntityUtils.toString(response.getEntity());
            fileBytes = responseBody.getBytes();

            Log.d("fileBytes", "fileBytes");
            String filePath = Environment.getExternalStorageDirectory()  + "/myappdir/" + "my" + ".apk";

            File file = new File(filePath);
            file.getParentFile().mkdirs();
            file.createNewFile();

            BufferedOutputStream objectOut = new BufferedOutputStream(new FileOutputStream(file));
            Log.d("objectOut", "objectOut");
            objectOut.write(fileBytes);
            Log.d("write", "write");
            objectOut.close();

        } catch (ClientProtocolException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

        return null;
    }

} 
```

这就像一个魅力，我遇到的问题是实体的内容长度是，`582504`但是当我查看文件管理器时，大小会上升到`863145`. 我认为在将文件写入 SD 卡时正在添加一些数据。有什么解决办法吗？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-22T07:29:47.527

这是我的代码，它工作正常，请检查这是否适合你

```
public class downloadApk extends AsyncTask<Integer, Integer, Integer>
    {

        @Override
        protected Integer doInBackground(Integer... params) {
            // TODO Auto-generated method stub

            try {

                URL url = new URL("http://www.tagsinfosoft.com/android/shelf/Shelf_Cam.apk");
                HttpURLConnection c = (HttpURLConnection) url.openConnection();
                c.setRequestMethod("GET");
                c.setDoOutput(true);
                c.connect();

                String PATH = Environment.getExternalStorageDirectory() + "/download/";
                File file = new File(PATH);
                file.mkdirs();
                File outputFile = new File(file, "Shelf_Cam.apk");
                FileOutputStream fos = new FileOutputStream(outputFile);

                InputStream is = c.getInputStream();

                byte[] buffer = new byte[1024];
                int len1 = 0;
                while ((len1 = is.read(buffer)) != -1) {
                    fos.write(buffer, 0, len1);
                }
                fos.close();
                is.close();//till here, it works fine - .apk is download to my sdcard in download file

            } catch (Exception e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }

            return null;

        }

        @Override
        protected void onPostExecute(Integer result) {
            // TODO Auto-generated method stub
            super.onPostExecute(result);
            Context context=shelf.this;
            pd.dismiss();
            Intent intent = new Intent(Intent.ACTION_VIEW);
            intent.setDataAndType(Uri.fromFile(new File(Environment.getExternalStorageDirectory() + "/download/" + "Shelf_Cam.apk")), "application/vnd.android.package-archive");
            startActivity(intent);  

        }

        @Override
        protected void onPreExecute() {
            // TODO Auto-generated method stub
            super.onPreExecute();
            pd=ProgressDialog.show(shelf.this,"Updating","Please wait....." );
        }

    } 
```

# java - 错误 JSONException：没有值

> ID：15018856
> 
> 赞同：1
> 
> 时间：2013-02-22T07:17:16.143
> 
> 标签：java, android

我想用 jsonarray 显示数据

我的代码活动

```
params.add(new BasicNameValuePair("id_gadai", id_gadai));          
        // getting JSON string from URL
        String json = jsonParser.makeHttpRequest(URL_GADAI_DETAIL, "GET",
                params);

        // Check your log cat for JSON reponse
        Log.d("Data Gadai Detail: ", json);

        try {
            JSONObject jObj = new JSONObject(json);
            if(jObj != null){
                nama_brg = jObj.getString(TAG_NAMA_BRG);
                taksiran = jObj.getString(TAG_TAKSIRAN);
                pinjaman = jObj.getString(TAG_PINJAMAN);
            }          

        } catch (JSONException e) {
            e.printStackTrace();
        }

        return null;
    } 
```

我来自数据库的 jsonarray `{"data_gadai_detail":[{"id_gadai":"3","nama_brg":"BERLIAN L FINE GOLD BERSERTIFIKAT NO.SERI JS 006 DTM 24K BRT 10 GRAM","pinjaman":"2000000","taksiran":"4000000","tgl_bts_tebus":"05-May-2013","tgl_bts_lelang":"09-May-2013"}]}`

显示错误：错误 JSONException：nama_brg 没有值

我的问题需要帮助。谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T07:27:36.813

您的 JSON 表示具有一个字段的对象`data_gadai_detail`：：

```
{"data_gadai_detail": ...} 
```

该字段的值是具有单个元素的数组：

```
{"data_gadai_detail": [...]} 
```

这个单个元素是一个具有多个字段的对象，其中一个是`nama_brg`.

所以你的代码应该先将字段`data_gadai_detail`作为一个数组获取，将该数组的第一个元素作为另一个JSON对象，最后获取`nama_brg`该对象中的String。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:28:02.427

您有一个名为“data_gadai_detail”的 JSONArray 作为 root，然后您需要获取第一个 JSONObject，然后您可以获取 JSONStrings

试试这个：

```
JSONObject jObj = new JSONObject(json);
if(jObj != null){
    nama_brg = jObj.getJSONArray("data_gadai_detail").getJSONObject(0).getString(TAG_NAMA_BRG);
    taksiran = jObj.getJSONArray("data_gadai_detail").getJSONObject(0).getString(TAG_TAKSIRAN);
    pinjaman = jObj.getJSONArray("data_gadai_detail").getJSONObject(0).getString(TAG_PINJAMAN);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T07:35:22.730

试试这个。。

```
 JSONObject jObj = new JSONObject(json);

    JSONArray arr = jObj.getJSONArray("data_gadai_detail");

    for (int i = 0; i < arr.length(); i++) {

        JSONObject c = arr.getJSONObject(i);
        nama_brg = c.getString(TAG_NAMA_BRG);
        taksiran = c.getString(TAG_TAKSIRAN);
        pinjaman = c.getString(TAG_PINJAMAN);
    } 
```

# android - 如何从另一个活动中获取一个活动中的编辑文本值作为字符串值？

> ID：15018862
> 
> 赞同：6
> 
> 时间：2013-02-22T07:17:58.750
> 
> 标签：android

如何将edittext值从一个活动提取到另一个活动中以获取字符串？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:22:46.573

传递意图中的值......但如果该活动没有出现在同一流中使用 SharedPreferences，将值存储在原始活动中，然后在以后的活动中检索它。共享首选项代码：

```
 SharedPreferences pref = context.getSharedPreferences("PREF_NAME", Context.MODE_PRIVATE);

    pref.edit().putString("NAME", editText.getText().toString()).commit(); 
```

在其他活动中

```
 SharedPreferences pref = context.getSharedPreferences("PREF_NAME", Context.MODE_PRIVATE);
    String ediTextVal = pref.getString("NAME", "anyDefaultValue"); 
```

如果两个活动都在一个流中，则意图解决方案，在活动 1 中使用 editText ：

```
 Intent intent = new Intent(Activity1.this, Activity2.class);
    intent.putExtra("editTextVal", editText.getText().toString); 
    startActivity(intent); 
```

在需要editText值的activity2中：

```
 Bundle extras = getIntent().getExtras(); 
String editTextVal= null;
if(extras !=null && extras.containsKey("editTextVal"))
{
    editTextVal= extras.getString("editTextVal");

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:25:46.887

你可以通过这种方式做到这一点

来自 FirstActivity

```
 Intent intent = new Intent(FirstActivity.this, SecondActivity.class);
   intent.putExtra("str", content1); //content1 is String you want to pass in another activity
   startActivity(intent); 
```

从第二个活动获取数据

```
Intent intent = getIntent();
String str = intent.getStringExtra("str"); 
```

希望这对你有帮助

# svn - 合并两个 SVN 存储库时如何管理修订号？

> ID：15018872
> 
> 赞同：1
> 
> 时间：2013-02-22T07:18:36.217
> 
> 标签：svn, merge, repository, svnadmin, revision-history

这个问题：[SVN：将存储库主干移动到另一个分支（带有历史记录）](https://stackoverflow.com/questions/1646003/svn-moving-repository-trunk-to-anothers-branch-with-history)概述了一个历史保存过程，用于将一个存储库合并为另一个存储库的子目录。我需要进行类似的合并，但我试图了解如何在新的组合存储库中管理修订号。

假设“RepositoryA”和“RepositoryB”都已经有一个“revision 5”，如果“RepositoryA/trunk”的revision 5被重新定位到“RepositoryB/RepAProject/trunk”，它的编号是多少？是否会更新两个存储库的修订号？或者合并的存储库是否会获得适合合并日期的新的连续修订号？

作为一个额外的问题，用户是否仍然可以`svn switch --relocate`从旧的存储库到新的子目录，或者新的存储库 UUID 会阻止这种情况发生吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T14:58:58.550

合并的存储库将获得适合插入新输入提交的新的连续修订号（在您的示例中为 6 - 10），但它们的时间戳将与您在原始存储库中看到的一致。

`svnadmin load`将按顺序导入五个修订中的每一个。

导入旧仓库（有 5 个修订版）后，目标仓库将有 10 个修订版，但修订版 6-10 的时间戳将早于修订版 1-5。

请注意，在实时系统中，其他提交区域允许中间导入过程。

正如您正确回答的那样，UUID 的更改将阻止`svn switch --relocate`命令工作。

# python-3.x - end=''python 语法错误

> ID：15018875
> 
> 赞同：1
> 
> 时间：2013-02-22T07:18:43.137
> 
> 标签：python-3.x

几天前一直在尝试学习python，遇到语法错误，但似乎在我正在学习的教程中有效，这是代码

```
def func(a):
    for i in range(a,10):
        print(i,end=' ') 
```

函数（2）

和错误

```
print(i,end=' ')
           ^ 
```

> SyntaxError：无效的语法

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2016-08-29T12:59:57.890

在 Python 3 中这应该几乎可以正常工作，但是这在 Python 2 中不起作用，因为它是不同的语法这里是修改后的代码以适用于不同的 Python 版本

# 蟒蛇 3

```
def func(a):
    for i in range(a,10):
        print(i,end=' ')
>>> func(1)
>>> 1 2 3 4 5 6 7 8 9 
```

# 蟒蛇2

```
def func(a):
    for i in range(a,10):
        print i, # Trailing comma to signify not to start a new line

>>> func(1)
>>> 1 2 3 4 5 6 7 8 9 
```

附加细节

[https://docs.python.org/3/whatsnew/3.0.html#common-stumbling-blocks](https://docs.python.org/3/whatsnew/3.0.html#common-stumbling-blocks)

# c# - 按钮单击仅在 IE9 中的更新面板中不起作用

> ID：15018881
> 
> 赞同：1
> 
> 时间：2013-02-22T07:18:52.040
> 
> 标签：c#, jquery, asp.net, html, internet-explorer-9

目前我正在研究 asp.net c# 项目。

我在更新面板中使用 select2。

回发后，我的按钮单击不起作用。

我使用此代码在更新面板中重新绑定此 JQuery 插件。

```
<script type="text/javascript">
        var frm = document.getElementById("aspnetForm");
        if (frm) {
            frm.onsubmit = function () { return false; };
        }

  Sys.WebForms.PageRequestManager.getInstance().add_endRequest(EndRequestHandler);
        function EndRequestHandler(sender, args) {
            if (args.get_error() == undefined) {
                bind();
            }
        }
   function bind() {
        $(document).ready(function () {
            $(".chzn-select").select2();
            $(".option-listing").select2();
        });
    }
    </script> 
```

回发按钮单击后仅在 IE9 中不起作用。没有控制台错误..在其他浏览器中正常工作。

如果我评论此`Bind()`功能，我的按钮可以正常工作。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T07:27:47.127

您可以在此处检查您的 jquery 框架是否与 ie9 [http://msdn.microsoft.com/en-us/library/ie/hh180175%28v=vs.85%29.aspx兼容](http://msdn.microsoft.com/en-us/library/ie/hh180175%28v=vs.85%29.aspx)

# c++ - 创建可在大多数 PC 上运行的 C++ 程序

> ID：15018883
> 
> 赞同：3
> 
> 时间：2013-02-22T07:18:53.877
> 
> 标签：c++, .net, frameworks

我有一个项目需要为小型可执行文件编写代码。我使用 Visual C++ express 2010 IDE 来创建这个文件。完成代码编写后，我尝试将其复制到几台不同的 PC 上。每次我单击此文件执行它时，它都会给我一条错误消息。该消息指出我必须安装（.NET 框架）。我在 YouTube 上观看了几个视频，解释了如何通过将运行时库从多线程调试 DLL (/MDd) 更改为多线程调试 (/Mtd) 来克服这个问题。然而; IDE 无法调试 C++ 代码，因为当我使用 CLR 模板创建项目时！有没有办法解决这个问题？我可以创建一个类似的程序，一旦我在不同的 PC 上使用就不需要进一步下载了吗？

学习 JAVA 或 C# 等不同的语言是否有助于创建在大多数 Window 平台机器上运行的小程序（如我的程序）？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-22T07:39:17.030

只需使用 Qt——它可以在 Windows、Linux、MacOS 上运行，计划今年支持 Android 和 iOS，此外它还支持嵌入式平台和一些更晦涩的移动平台。此外，刚刚开始支持 Windows RT。一个完整的库，具有大量功能、良好的文档和大量的教育资源。它提供了大量的工具，从隐式共享容器到线程、信号和插槽、2D 和 3D 图形、小部件、多媒体、传感器……等等……

您甚至可以在 LGPL 许可下开发商业应用程序。

还附带了一个相当不错的 IDE——Qt Creator。

您可以开发标准 C++ 应用程序或使用 QML，这是一种类似于 JavaScript 的标记和脚本语言，用于从 C++ 实现的组件构建应用程序。您还可以扩展 QML。使用 QML 进行开发要快得多，并且您仍然可以在后台获得平台原生二进制文件的优势。

请注意，您仍然需要在您的应用程序中提供一些 DLL。当然，除非您使用静态构建，这需要您将应用程序开源，或者购买商业许可证......这并不便宜......

但是，几 MB 的 DLL 仍然比整个 .NET 框架好得多。静态构建将生成大约 8-9 MB 的可执行文件，没有外部依赖项。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-22T07:21:36.640

坚持 C++ 标准，避免 Microsoft 扩展（托管代码），并且只调用操作系统的 POSIX 函数，那么您应该能够编写可移植程序。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T07:37:47.890

您似乎创建了一个`Managed C++ Project`. 而是创建一个空`Win32 C++ project`文件，然后添加您的 .cpp/.h 文件。这将限制您使用所有具有 C++ 运行时的 PC 上可用的默认库。如果您也想删除该依赖项，则使用该`/MT`选项在运行时静态编译。详情@http: [//msdn.microsoft.com/en-us/library/2kzt1wy3(v=vs.71).aspx](http://msdn.microsoft.com/en-us/library/2kzt1wy3(v=vs.71).aspx)

当您继续前进时，您需要了解您依赖哪些库以及这些库可用的操作系统版本，或者您是否需要将它们与您的位打包在一起。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-22T07:31:12.223

Java 和 C# 都将有助于制作可移植的程序。但是，通常人们必须为用这两种语言编写的可执行文件安装运行时环境。如今，C++ 比以往任何时候都更便携。您可以在浏览器中轻松运行 C++ 可执行文件：

[https://github.com/kripken/emscripten](https://github.com/kripken/emscripten)

[http://code.google.com/p/nativeclient/](http://code.google.com/p/nativeclient/)

这使得 Java 和 C# 出现的许多原因变得无关紧要。

像 OpenGL 这样的开放标准也使可移植的 GUI 编程比以往更容易。如果您想用 C++ 编写简单的 GUI，请尝试 Qt。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-22T09:46:32.667

注意：**如果您没有使用 .NET 框架，则可以在任何计算机上运行 C++ 程序而无需安装任何东西**。在您的情况下，可能有两个原因会在目标计算机中触发错误。

1.  新计算机不需要运行时汇编。
2.  新计算机没有安装必需的 .NET 框架。

………………………………………………………………………………………………………………………………………………

**那么该怎么办：**

1.  在开始您的程序之前，您必须设计天气是否要使用 .NET 框架支持。如果您在开发程序时使用.NET 框架，那么您在目标计算机上安装相同或更高版本的.NET 框架。

2.  如果您不需要使用 .NET 组件，那么您的目标计算机应该只包含运行时程序集。如何摆脱 .net 框架

    *   在解决方案中右键单击项目-> 属性-> 常规-> 通用语言运行时支持-> 选择“无通用语言运行时支持”。

………………………………………………………………………………………………………………………………………………

那么您需要的只是相关的运行时程序集在目标计算机中。

**运行时程序集如何在新计算机中：**

有两种方法：

1.  在目标计算机上安装合适的 C++ 争议环境（如果你使用 VS2008 SP1，C++ RD 包应该是[这个](http://www.microsoft.com/en-us/download/details.aspx?id=5582)。请在下载前考虑解决方案构建架构（32 位/64 位））。

2.  使用您的解决方案包部署运行时程序集。（我喜欢这个，因为用户不需要安装任何第三方组件）

………………………………………………………………………………………………………………………………………………

**如何在我的项目中部署程序集：**

1.  为此，您的所有 DLL、LIB、EXE 都应使用相同的运行时版本。（如果没有，您将面临通过“清单”文件重定向程序集的麻烦）。

2.  如何检查运行时版本。通过visual studio打开DLL、EXE（打开->文件）->展开RT_MANIFEST->双击其下的文件->然后程序集依赖细节将打开。-> 复制右栏中的数据并粘贴到记事本。

你会在那里看到这种线。还有你的特定 DLL 或 EXE 使用的版本运行时程序集。

```
assemblyIdentity type="win32" name="Microsoft.VC90.CRT" version="9.0.21022.8" processorArchitecture="x86"..... 
```

在确定运行时程序集的版本后，请按照[本](http://helgeklein.com/blog/2010/03/deploying-visual-c-runtime-files-as-private-assemblies/)教程并尝试在新安装的计算机上运行。

**最后：**如果你认为这个 bla.. bla.. 很复杂，你的程序很简单，那么你可以考虑“运行时程序集静态链接”（试试谷歌）。但我个人不喜欢这种方法。

祝你好运！

# memory-management - arch_vma_name 未定义内核模块

> ID：15018886
> 
> 赞同：0
> 
> 时间：2013-02-22T07:19:02.583
> 
> 标签：memory-management, linux-kernel, kernel-module

尝试插入模块时出现以下错误

```
insmod: error inserting 'memory.ko': -1 Unknown symbol in module 
```

当我制作模块时会发生以下情况

```
make -C /lib/modules/2.6.32-279.19.1.el6.x86_64/build SUBDIRS=/work modules
make[1]: Entering directory `/usr/src/kernels/2.6.32-279.19.1.el6.x86_64'
    Building modules, stage 2.
    MODPOST 1 modules
WARNING: "arch_vma_name" [/work/memory.ko] undefined!
make[1]: Leaving directory `/usr/src/kernels/2.6.32-279.19.1.el6.x86_64' 
```

你可以看到错误的原因是arch_vma_name

这是我使用它的代码块

```
const char *name = arch_vma_name(vma); 
```

我已经包含了头文件

```
#include <linux/mm.h> 
```

我无法理解原因。

# asp.net-mvc-3 - 数据读取器与模型不兼容。类型的成员，在数据读取器中没有同名的对应列

> ID：15018889
> 
> 赞同：0
> 
> 时间：2013-02-22T07:19:16.687
> 
> 标签：asp.net-mvc-3, entity-framework

我正在使用实体框架，我必须使用存储过程更新表，但出现错误

**“数据读取器与指定模型“backupmodel.company”不兼容。companyid 类型的成员，在数据读取器中没有同名的对应列。**

如何纠正这个..请提出解决方案..

存储过程：

```
ALTER PROCEDURE [dbo].[sp_UpdateCompany]
(
     @CompanyId int
    ,@CompanyName varchar(50)
    ,@CompanyUrl varchar(50)
    ,@CompanyType varchar(50)
    ,@Country varchar(50)
    ,@State varchar(50)
    ,@ZipCode varchar(10)
    ,@Industry varchar(50)
    ,@RevenueSize int
    ,@Vertical int
    ,@Employee int
)
as
BEGIN
    set @CompanyUrl=REPLACE(@CompanyUrl,' ','') 
    UPDATE Companies 
    SET
    CompanyName=@CompanyName,
    CompanyUrl=@CompanyUrl,
    CompanyType=@CompanyType,
    Country=@Country,
    State=@State,
    ZipCode=@ZipCode,
    Industry=@Industry,
    RevenueSize=@RevenueSize,
    Vertical=@Vertical,
    EmpSize=@Employee
    where
    CompanyId=@CompanyId    
END 
```

显示错误：

```
public ObjectResult<Company> sp_UpdateCompany(Nullable<global::System.Int32> companyId, global::System.String companyName, global::System.String companyUrl, global::System.String companyType, global::System.String country, global::System.String state, global::System.String zipCode, global::System.String industry, Nullable<global::System.Int32> revenueSize, Nullable<global::System.Int32> vertical, Nullable<global::System.Int32> employee)
    {
        ObjectParameter companyIdParameter;
        if (companyId.HasValue)
        {
            companyIdParameter = new ObjectParameter("CompanyId", companyId);
        }
        else
        {
            companyIdParameter = new ObjectParameter("CompanyId", typeof(global::System.Int32));
        }

        ObjectParameter companyNameParameter;
        if (companyName != null)
        {
            companyNameParameter = new ObjectParameter("CompanyName", companyName);
        }
        else
        {
            companyNameParameter = new ObjectParameter("CompanyName", typeof(global::System.String));
        }

        ObjectParameter companyUrlParameter;
        if (companyUrl != null)
        {
            companyUrlParameter = new ObjectParameter("CompanyUrl", companyUrl);
        }
        else
        {
            companyUrlParameter = new ObjectParameter("CompanyUrl", typeof(global::System.String));
        }

        ObjectParameter companyTypeParameter;
        if (companyType != null)
        {
            companyTypeParameter = new ObjectParameter("CompanyType", companyType);
        }
        else
        {
            companyTypeParameter = new ObjectParameter("CompanyType", typeof(global::System.String));
        }

        ObjectParameter countryParameter;
        if (country != null)
        {
            countryParameter = new ObjectParameter("Country", country);
        }
        else
        {
            countryParameter = new ObjectParameter("Country", typeof(global::System.String));
        }

        ObjectParameter stateParameter;
        if (state != null)
        {
            stateParameter = new ObjectParameter("State", state);
        }
        else
        {
            stateParameter = new ObjectParameter("State", typeof(global::System.String));
        }

        ObjectParameter zipCodeParameter;
        if (zipCode != null)
        {
            zipCodeParameter = new ObjectParameter("ZipCode", zipCode);
        }
        else
        {
            zipCodeParameter = new ObjectParameter("ZipCode", typeof(global::System.String));
        }

        ObjectParameter industryParameter;
        if (industry != null)
        {
            industryParameter = new ObjectParameter("Industry", industry);
        }
        else
        {
            industryParameter = new ObjectParameter("Industry", typeof(global::System.String));
        }

        ObjectParameter revenueSizeParameter;
        if (revenueSize.HasValue)
        {
            revenueSizeParameter = new ObjectParameter("RevenueSize", revenueSize);
        }
        else
        {
            revenueSizeParameter = new ObjectParameter("RevenueSize", typeof(global::System.Int32));
        }

        ObjectParameter verticalParameter;
        if (vertical.HasValue)
        {
            verticalParameter = new ObjectParameter("Vertical", vertical);
        }
        else
        {
            verticalParameter = new ObjectParameter("Vertical", typeof(global::System.Int32));
        }

        ObjectParameter employeeParameter;
        if (employee.HasValue)
        {
            employeeParameter = new ObjectParameter("Employee", employee);
        }
        else
        {
            employeeParameter = new ObjectParameter("Employee", typeof(global::System.Int32));
        }

        return base.ExecuteFunction<Company>("sp_UpdateCompany", companyIdParameter, companyNameParameter, companyUrlParameter, companyTypeParameter, countryParameter, stateParameter, zipCodeParameter, industryParameter, revenueSizeParameter, verticalParameter, employeeParameter);
    } 
```

我正在调用存储过程，例如：

```
BDE_backupEntities obj = new BDE_backupEntities();
 public ActionResult Save(string Name, string Url, string RecordOwner)
        {
            var x = obj.Companies.ToList();
            x = (from n in obj.Companies where n.CompanyUrl.Contains(Url) select n).ToList();
            int? Id=x[0].CompanyId;
            obj.sp_UpdateCompany(Id, Name, Url, "solutions", "USA", "us", "s1234", "IT", 0, 0, 0);
            return View("CompanyDetails");
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-11T17:50:04.980

如果您使用 EF 并使用带有输出参数的存储过程，则需要在函数导入中将返回类型标记为 NONE。

# algorithm - 寻找搜索算法名称

> ID：15018893
> 
> 赞同：1
> 
> 时间：2013-02-22T07:19:34.063
> 
> 标签：algorithm, search

我假设我在这里描述的内容有一个名称。

基本上，如果我搜索“word1 word2 word3”（不带引号）并且我有这个数组：

```
 ["word1 word2",
 "word1 word2 word3",
 "word3 word2 word1",
 "word2 word3 word1",
 "word1 word3 word2 word4",
 "word1 word4 word3",
 "word4 word1 word2 word3"] 
```

它应该返回这些找到的结果：

```
word1 word2 word3
word3 word2 word1
word2 word3 word1
word1 word3 word2 word4
word4 word1 word2 word3 
```

这种算法有什么名字吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:21:45.450

描述将是：

“搜索包含以下单词所有排列的所有字符串”。所以也许它应该被称为“排列搜索”：[http ://www.keyworddiscovery.com/feature-permutation-search.html](http://www.keyworddiscovery.com/feature-permutation-search.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:42:17.030

如果您还允许`word1 word4 word2 word3`返回，则将其称为“基于关键字的搜索”或“全文搜索”，其限制是搜索文本应包含所有关键字（而不仅仅是一个子集）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T07:47:19.563

你在做什么基本上是

```
Search : search-set{1,2,3}

In :
sample-space-set{
 set{1,2,3}
 set{1,2,3,4}
 set{2,3,4,5}
}

Result:
result-set{
 set{1,2,3}
 set{1,2,3,4} 
} 
```

可以更简洁地说，
从“搜索集是子集”的样本空间集中查找所有结果集。

所以基本上，算法的名称可以是
**“找到所有的子集之母”**

（我真的不知道子集关系的反面是什么。如果你知道，请告诉我们所有。）

# javascript - 单击输入提交按钮时如何添加fancybox？

> ID：15018903
> 
> 赞同：2
> 
> 时间：2013-02-22T07:20:28.017
> 
> 标签：javascript, jquery, html, fancybox

显然这个fancybox似乎只适用于具有ID或类的锚标签？但我想在提交按钮中使用它......有没有办法在那个元素中使用它？

例如这不起作用，因为fancybox需要一个href来拉取内容

```
<input type="submit" id="submitme" name="submitme" value="SUBMIT ME" /> 
```

花哨的盒子代码

```
$("#submitme").fancybox(); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T07:21:25.970

通过#引用它，

```
$("#submitme").fancybox(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-22T08:40:23.050

问题不在于fancybox 是否可以绑定到`submit`按钮。实际问题是您的`submit`按钮不会告诉fancybox 要打开的目标内容以及`type`它的内容。

所以有这个：

```
<input type="submit" id="submitme" name="submitme" value="SUBMIT ME" /> 
```

...如果您对缺少的元素`href`和`type`您的 cotom 脚本进行硬编码，例如：

```
$("#submitme").fancybox({
    type : "iframe",
    href : "http://jsfiddle.net"
}); 
```

见**[JSFIDDLE](http://jsfiddle.net/BQ5zc/)**

或者，您也可以对任何 html 内容进行硬编码，例如：

```
$("#submitme").fancybox({
    content : "<p>Any html as content</p>"
}); 
```

见**[JSFIDDLE](http://jsfiddle.net/F9m5p/)**

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-22T07:29:31.857

您在节点参考中缺少 # 。但这可能只是因为您在问题中输入了代码。您总是可以将超链接设置为看起来像一个按钮，给它一个 URL 并将fancybox 附加到它：

```
<!--<input type="submit" id="submitme" name="submitme" value="SUBMIT ME" />-->
<a href="somewhere.htm" id="submitme" name="submitme" value="SUBMIT ME" >SUBMIT ME</a>

$("#submitme").click(function(event){
    event.preventDefault();//stop the hyperlink from navigating away from the current page
}).fancybox(); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-05-09T22:37:31.420

我试图将其添加到 shopify

```
<form action="//mailchimpurlcodehere" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>

<input type="email" value="" name="EMAIL" style="padding:10px; background:#C7DAE5; border:0px; color:#000; width:220px; font-weight:bold;" id="mce-EMAIL" placeholder="Email address here" required><input style="padding:10px; background:#134F73; border:0px; color:#000; font-weight:bold;" type="submit" value="STAY TUNED" name="subscribe" id="mc-embedded-subscribe" class="button" 
```

但我不知道把它不起作用的javascript字符串放在哪里。我什至尝试为这段代码添加一个文件夹并将其命名为 jquery.fancybutton.js：

```
 $("#mc-embedded-subscribe").fancybox({
type : "iframe",
href : "mailchimpurlcodehere"}); 
```

所以我可以将其添加为 {{ 'jquery.fancybutton.js' | shopify_asset_url | script_tag }} 但它不起作用帮助。

# php - ubuntu 上的 PHP 和 Skype 集成

> ID：15018904
> 
> 赞同：4
> 
> 时间：2013-02-22T07:20:29.023
> 
> 标签：php, api, skype, skype4com

我刚开始研究 Skype 开发人员 api 来包装在 Web 应用程序中发送的 Skype 短信。

我只想使用 Web 应用程序发送和接收 Skype 消息。

我在这里有一些问题。

1.  我正在 Ubuntu(Linux) 上开发。是否可以在 ubuntu 上开发 Skype 应用程序。
2.  Skype4com 包含一个 dll 文件，是 Linux 的任何替代文件。
3.  我想在我的系统上不安装 Skype 的情况下向用户发送 Skype 消息。
4.  任何教程或示例都会有所帮助。

请帮助并建议我更好的方法来做到这一点。

感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:28:51.037

有一个 linux skype api 可以满足您的需要： [http ://dev.skype.com/desktop-api-reference#Linux](http://dev.skype.com/desktop-api-reference#Linux)

但是，它需要在发送框上运行 Skype 客户端。（因为它是一种向 Skype 客户端发送命令的方式，而不是直接发送命令的方式）。而且我看不到向该客户端发送登录请求的方法，因此您需要确保 Skype 正在运行并以所需用户身份登录。最后，您需要单击 Skype 中的某些内容以授权您的应用程序控制 Skype。

# java - 如何使用java运行mysql存储过程

> ID：15018908
> 
> 赞同：1
> 
> 时间：2013-02-22T07:20:54.167
> 
> 标签：java, mysql, sql, stored-procedures

我有一个mysql存储过程。

```
DELIMITER //  
CREATE PROCEDURE GetRecordsByAge(IN Age INT)  
BEGIN 
  SELECT * FROM test1 WHERE age = Age;  
END //  
DELIMITER ; 
```

当我通过 java 运行这个存储过程时，它会给出表的所有记录。

但是，如果我在 select 语句中有条件。为什么会这样？

这是我的代码行：-

```
CallableStatement cStmt = null;
cStmt = con.prepareCall("{ CALL GetSpecificRecord(?) }");
cStmt.setInt(1, 25);
cStmt.execute();
ResultSet rs1 = cStmt.getResultSet(); 
```

当我打印这个结果集时，这将给出表的所有记录。

问题出在哪里？

谢谢

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-22T07:22:32.093

您获取所有记录的原因是由于*列名冲突*导致`WHERE`子句始终为真。更改与您要比较的列名称不同的参数名称，

```
DELIMITER //  
CREATE PROCEDURE GetRecordsByAge(IN _Age INT)  
BEGIN 
  SELECT * FROM test1 WHERE age = _Age;  
END //  
DELIMITER ; 
```

第二个是，您正在调用不同的存储过程。而不是`GetRecordsByAge`，您正在调用`GetSpecificRecord`。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-22T07:22:24.867

因为条件`WHERE age = Age`总是真实的。

将参数名称更改为`Age`其他名称：

```
DELIMITER //  
CREATE PROCEDURE GetRecordsByAge(IN AgeParam INT)  
BEGIN 
  SELECT * FROM test1 WHERE age = AgeParam;  
END //  
DELIMITER ; 
```

# gcc - 链接到静态库的两种方式

> ID：15018909
> 
> 赞同：0
> 
> 时间：2013-02-22T07:20:56.110
> 
> 标签：gcc, ld, unix-ar

以下是使用**ar**压缩的静态库中的函数的几种方法（即 libSOMTEHING.a）：

> ld -Lpath/to/library -lname myapp.o -o 结果
> ld path/to/library/libname.a myapp.o -o 结果

有什么区别？例如，整个库是链接在可执行文件中，还是只是需要的函数？在第二个示例中，切换 lib 和目标文件的位置是否重要？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T09:05:32.933

在第一行中，在目录中的静态库 (libname.a) 之前搜索动态库 (libname.so)。此外，标准库路径也会搜索 libname.*，而不仅仅是 /path/to/library。

来自“男人 ld”

> 在支持共享库的系统上，ld 还可以搜索 libnamespec.a 以外的文件。具体来说，在 ELF 和 SunOS 系统上，ld 将在目录中搜索名为 libnamespec.so 的库，然后再搜索名为 libnamespec.a 的库。（按照惯例，“.so”扩展名表示共享库。）

第二行强制链接器使用 path/to/lib 处的静态库。

如果没有构建动态库 (libname.so)，并且唯一可用的库是 path/to/library/libname.a，那么这两行将生成相同的“结果”二进制文件。

# hyperlink - Silverlight 5 超链接更改样式基于相同的基本样式但不同的前景

> ID：15018911
> 
> 赞同：1
> 
> 时间：2013-02-22T07:21:15.667
> 
> 标签：hyperlink, silverlight-5.0, base, foreground

我正在尝试为超链接控件设置不同的样式。新样式基于与设置为控件的先前样式相同的基本样式，并且 Foreground 属性已被覆盖为新颜色。但是在应用程序中，前景不会改变。

几点注意事项：如果覆盖属性是 FontSize，事情似乎工作正常。
在 Silverlight 4 中，一切正常。
如果我删除了 BasedOn 属性（不要从基类派生），事情就可以正常工作。
第一次设置样式有效，但随后尝试更改样式无效。
如果我复制样式并更改前景色，则一切正常。
*一切正常=前景正确改变。

**基本风格：**

```
<Style TargetType="HyperlinkButton" x:Key="NormalHyperlinkStyle">
    <Setter Property="FontFamily" Value="{StaticResource ContentFontFamily}"/>
    <Setter Property="FontSize" Value="{StaticResource DataGridFontSize}"/>
    <Setter Property="Background" Value="Transparent" />
    <Setter Property="Cursor" Value="Hand" />
    <Setter Property="Foreground" Value="{StaticResource BaseColor4}" />
    <Setter Property="HorizontalContentAlignment" Value="Left" />
    <Setter Property="Padding" Value="1"/>
    <Setter Property="VerticalContentAlignment" Value="Top" />
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="HyperlinkButton">
                <Grid Background="{TemplateBinding Background}" Cursor="{TemplateBinding Cursor}">
                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroup x:Name="CommonStates">
                            <VisualState x:Name="Normal" />
                            <VisualState x:Name="MouseOver">
                                <Storyboard>
                                    <ColorAnimation Duration="0" To="{StaticResource AccentColor}" Storyboard.TargetProperty="(Control.Foreground).(SolidColorBrush.Color)" Storyboard.TargetName="contentPresenter" />
                                    <DoubleAnimation Duration="0" To="1.0" Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="Underline" />
                                </Storyboard>
                            </VisualState>
                            <VisualState x:Name="Pressed" />
                            <VisualState x:Name="Disabled">
                                <Storyboard>
                                    <ColorAnimation Duration="0" To="#FFA0A0A0" Storyboard.TargetProperty="(Control.Foreground).(SolidColorBrush.Color)" Storyboard.TargetName="contentPresenter" />
                                </Storyboard>
                            </VisualState>
                        </VisualStateGroup>
                        <VisualStateGroup x:Name="FocusStates">
                            <VisualState x:Name="Focused">
                                <Storyboard>
                                    <DoubleAnimation Duration="0" Storyboard.TargetName="FocusVisualElement" Storyboard.TargetProperty="(FrameworkElement.Opacity)" To="1" />
                                </Storyboard>
                            </VisualState>
                            <VisualState x:Name="Unfocused" />
                        </VisualStateGroup>
                    </VisualStateManager.VisualStateGroups>

                    <StackPanel Margin="{TemplateBinding Padding}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" UseLayoutRounding="True">
                        <ContentControl x:Name="contentPresenter" Content="{TemplateBinding Content}" ContentTemplate="{TemplateBinding ContentTemplate}" Foreground="{TemplateBinding Foreground}" />
                        <Rectangle x:Name="Underline" Height="1" VerticalAlignment="Bottom" Fill="{StaticResource AccentColorBrush}" Margin="0,1,0,2" Opacity="0" />
                    </StackPanel>

                    <Rectangle x:Name="FocusVisualElement" IsHitTestVisible="False" Margin="0" Opacity="0" RadiusX="2" RadiusY="2" Stroke="{StaticResource FocusVisualBrush}" StrokeThickness="{StaticResource FocusVisualStrokeThickness}" />
                </Grid>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style> 
```

**派生风格：**

```
<Style x:Key="ToolbarHyperlinkSelectedStyle" TargetType="HyperlinkButton" BasedOn="{StaticResource NormalHyperlinkStyle}">
    <Setter Property="Foreground" Value="{StaticResource AccentColor}" />
</Style> 
```

**代码背后：**

```
 selectedButton.Style =
            (Style)Application.Current.Resources["ToolbarHyperlinkSelectedStyle"]; 
```

# java - 如何在android中使用json数组限制问题的长度？

> ID：15018917
> 
> 赞同：0
> 
> 时间：2013-02-22T07:21:32.097
> 
> 标签：java, android, limit

嘿，伙计们，我正在开发一个测验，其中存储了 50 个问题，然后我希望它只显示 10 个问题..问题是随机显示的..但我的问题是应该在测验中显示 10 个问题。请帮助我...帮助真的很感激..

```
public class Question1 extends Activity {

Intent menu = null;
BufferedReader bReader = null;
static JSONArray quesList = null;
static int index = 50;

/** Called when the activity is first created. */
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.question10);

    Thread thread = new Thread() {
        public void run() {
            try {
                Thread.sleep(1 * 1000);
                finish();
                loadQuestions();
                Intent intent = new Intent(Question1.this,
                        Question2.class);
                Question1.this.startActivity(intent);
            } catch (Exception e) {
            }
        }
    };
    thread.start();

}

private void loadQuestions() throws Exception {
    try {

        InputStream questions = this.getBaseContext().getResources()
                .openRawResource(R.raw.questions);
        bReader = new BufferedReader(new InputStreamReader(questions));
        StringBuilder quesString = new StringBuilder();
        String aJsonLine = null;
        while ((aJsonLine = bReader.readLine()) != null) {
            quesString.append(aJsonLine);
        }

        Log.d(this.getClass().toString(), quesString.toString());
        JSONObject quesObj = new JSONObject(quesString.toString());
        quesList = quesObj.getJSONArray("Questions");
        Log.d(this.getClass().getName(),
                "Num Questions " + quesList.length());

    } catch (Exception e) {

    } finally {
        try {
            bReader.close();
        } catch (Exception e) {
            Log.e("", e.getMessage().toString(), e.getCause());
        }

    }

}

public static JSONArray getQuesList()throws JSONException{

      Random rnd = new Random();

        for (int i = quesList.length() - 1; i >= 0; i--)
        {
          int j = rnd.nextInt(i + 1);
          // Simple swap
          Object object = quesList.get(j);
          quesList.put(j, quesList.get(i));
          quesList.put(i, object);
        }
        return quesList;

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T07:34:45.430

由于您希望在每个测验中都有 10 个动态问题，因此您可以使用 ArrayList`Collections.shuffle(YourList)`打乱，并从该打乱列表中取出前 10 个。

但是，当您拥有 JSONArray 时，您必须对其进行迭代并准备 ArrayList，这样您就可以使用`shuffle()`.

## 更新：

参考 ogzd 的答案，这样你就会有**问题**，`List<JsonObject>`现在你只需调用我上面提到的 shuffle 方法：

```
Collections.shuffle(questions); 
```

现在，它将随机排列问题列表，因此您必须从中复制或获取前 10 个项目。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:26:34.567

尝试：

```
 List<JsonObject> questions = new ArrayList<JsonObject>();
 int n = Math.min(10, quesList.length());
 for(int i = 0; i < n; i++) {
     JsonObject question = quesList.getJsonObject(i);
     questions.add(question);
 } 
```

# c# - 将嵌入式 XSLT 包含到另一个嵌入式 XSLT

> ID：15018919
> 
> 赞同：2
> 
> 时间：2013-02-22T07:21:38.580
> 
> 标签：c#, xslt

我正在创建一个使用 XSLT 来转换传入 XML 消息的应用程序。我有多个 XSLT，其中一些包括其他 XSLT。

例如，B.XSLT 包括 A.XSLT，其中包含一些常用功能。

我已将所有 XSLT 标记为嵌入式资源，因此它将嵌入到可执行文件中。现在，当我使用以下代码加载 XSLT 时，

```
using (Stream objXSLTStream = Assembly.GetAssembly(this.GetType()).GetManifestResourceStream("MyNamespace.XSLContainer.Transaction.B.xslt"))
{
    using (XmlReader objXSLTReader = XmlReader.Create(objXSLTStream))
    {
        XslCompiledTransform objXSL = new XslCompiledTransform(true);
        objXSL.Load(objXSLTReader);
        XmlReader objXMLReader = XmlReader.Create(new StringReader(InputXML));
        StringBuilder sbOutputXML = new StringBuilder();
        XmlDocument docOutputXML = new XmlDocument();
        XmlWriter objXMLWriter = XmlWriter.Create(new StringWriter(sbOutputXML));
        objXSL.Transform(objXMLReader, ArgsList, objXMLWriter);
        docOutputXML.LoadXml(sbOutputXML.ToString());

        return docOutputXML;
     }
} 
```

它给了我错误

> 找不到路径“..\Bin_Folder_Location\General\A.xslt”的一部分。

在我的 XSLT B 中，我使用此语句包含 A.xslt

```
<xsl:include href ="../General/A.xslt"/> 
```

任何人都可以建议我将嵌入式 xslt 包含到 C# 中的另一个 xslt 中的正确解决方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:45:35.633

您需要在 xsl:include 中使用绝对路径或使用自定义 XmlUrlResolver，如下所示：

```
class MyXmlUrlResolver : XmlUrlResolver
    {
        public override Uri ResolveUri(Uri baseUri, string relativeUri)
        {
            if (baseUri != null)
                return base.ResolveUri(baseUri, relativeUri);
            else
                return base.ResolveUri(new Uri("http://mypath/"), relativeUri);
        }
    } 
```

并在 XslCompiledTransform 的加载函数中使用它，

```
resolver=new MyXmlUrlResolver();
xslt.Load(xR,null,resolver); 
```

[如何解决从字符串加载 XSL 的转换中包含的 XSL？](https://stackoverflow.com/questions/995591/how-to-resolve-xsl-includes-in-a-transformation-that-loads-xsl-from-a-string)

# javascript - Facebook JS SDK 加载资源失败

> ID：15018921
> 
> 赞同：0
> 
> 时间：2013-02-22T07:21:44.060
> 
> 标签：javascript, facebook, sdk

我正在尝试将 Facebook 登录名与我的网站集成，并且我现在正在通过本地主机测试我的 Facebook 登录名。这是我按照 Facebook JavaScript SDK 指南上的说明生成的代码。

```
<html>
<body>
<div id="fb-root"></div>
<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '*************', // App ID
      channelUrl : 'http://localhost', // Channel File
      status     : true, // check login status
      cookie     : true, // enable cookies to allow the server to access the session
      xfbml      : true  // parse XFBML
    });

    FB.getLoginStatus(function(response) {
  if (response.status === 'connected') {
    // connected
    testAPI();
  } else if (response.status === 'not_authorized') {
    // not_authorized
    login();
  } else {
    // not_logged_in
    login();
  }
 });
  };

  function login() {
    FB.login(function(response) {
        if (response.authResponse) {
            // connected
            testApi();
        } else {
            // cancelled
            console.log('Login failed!');
        }
    });

    function testAPI() {
    console.log('Welcome!  Fetching your information.... ');
    FB.api('/me', function(response) {
        console.log('Good to see you, ' + response.name + '.');
    });
}
}

  (function(d){
     var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement('script'); js.id = id; js.async = true;
     js.src = "//connect.facebook.net/en_US/all.js";
     ref.parentNode.insertBefore(js, ref);
   }(document));
</script>
<script src="//connect.facebook.net/en_US/all.js"></script>
</body>
</html> 
```

就是说加载资源失败：`file://connect.facebook.net/en_US/all.js`基本上是 GET all.js 失败。怎么了？

我的 Facebook 应用程序仪表板`localhost`的 AppDomain 和站点 URL 为`http://localhost`.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:33:15.727

试试下面的代码。

```
(function(){
var e   = document.createElement('script');
e.type  = 'text/javascript';
e.src   = 'http://connect.facebook.net/en_US/all.js';
e.async = true;
document.getElementById('fb-root').appendChild(e);
}()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-01-14T16:54:16.650

2018 年更新的答案：

1）测试HTML文件无法加载，因为`file://` 它需要在Web服务器下加载（例如`http://localhost/test.html`：）

2) 禁用脚本/广告拦截器。他们中的大多数人将 FB SDK 视为“邪恶”并阻止它。

# linux - 是否有将各种 HH:MM:SS 格式转换为秒的 unix 程序？

> ID：15018930
> 
> 赞同：0
> 
> 时间：2013-02-22T07:22:27.440
> 
> 标签：linux, unix, awk

我有一个包含以下格式数据的平面文件

```
(1+01:01)
(06:18)
(00:02) 
```

如果它是秒的形式，我可以使用 awk 来总结数据

```
16
32
64

cat file | awk '{SUM+=$1} END {print SUM}' 
```

有没有办法可以将存储在平面文件中的值转换为秒？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-22T08:52:27.573

GNU date 非常擅长解析日期，但`1+01:01`不受支持。如果你让 sed 稍微修改一下输入，你仍然可以使用它，并假设它意味着`1 hour + 1 hour + 1 minute`.

这是您可以使用 GNU grep、sed 和日期解析文件的一种方法：

```
<infile grep -o '[^()]*' | 
sed 's/^([0-9]+)[+-]/\1 hour /; 
     s/^/date -d "/; 
     s/$/ 1970-01-01 UTC" +%s/e' 
```

输出：

```
7260
22680
120 
```

离开`e`标志以查看 sed 正在执行的命令。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T07:34:37.840

为什么不`awk`也用于这个呢？查看这个 stackoverflow 答案：[Simple way to convert HH:MM:SS (hours:minutes:seconds.split seconds) to seconds](https://stackoverflow.com/questions/2181712/simple-way-to-convert-002040-28-hoursminutesseconds-split-seconds-to-secon)

# javascript - jquery自定义延迟函数

> ID：15018931
> 
> 赞同：13
> 
> 时间：2013-02-22T07:22:29.990
> 
> 标签：javascript, jquery, jquery-deferred, deferred

我正在尝试运行三个功能，前两个正在做一些需要数据供第三个使用的异步内容。我希望第三个函数仅在 1 和 2 都完成时触发。这是一般结构，但最终功能是在 1 和 2 完成之前触发。

```
function run() {
    var data1 = {};
    var data2 = {};

    $.when(first(), second()).done(constructData());

    function first() {
        var d = new $.Deferred();

        //do a bunch of stuff async
        data1 = {};

        d.resolve();
    }
    function second() {

        var d = new $.Deferred();

        //do a bunch of stuff async
        data2 = {};
        d.resolve();
    }
    function constructData() {
        //do stuff with data1 and data2
    }

} 
```

答案是不要立即调用构造数据

```
 $.when(first(), second()).done(constructData); 
```

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-02-22T07:39:29.157

您应该返回承诺对象。您在此行中也有错误：

```
$.when(first(), second()).done(constructData()); 
```

它应该是

```
$.when(first(), second()).done(constructData); // don't call constructData immediately 
```

所以总的来说它可能是：

```
function run() {
    var data1 = {};
    var data2 = {};

    $.when(first(), second()).done(constructData);

    function first() {
        return $.Deferred(function() { // <-- see returning Deferred object
            var self = this;

            setTimeout(function() {   // <-- example of some async operation
                data1 = {func: 'first', data: true};
                self.resolve();       // <-- call resolve method once async is done
            }, 2000);
        });
    }
    function second() {
        return $.Deferred(function() {
            var self = this;
            setTimeout(function() {
                data2 = {func: 'second', data: true};
                self.resolve();
            }, 3000);
        });
    }
    function constructData() {
        //do stuff with data1 and data2
        console.log(data1, data2);
    }
} 
```

[http://jsfiddle.net/FwXZC/](http://jsfiddle.net/FwXZC/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T07:30:49.023

我认为您应该拥有`first()`并`second()`返回一个承诺：`return d.promise();`. 从[文档](http://api.jquery.com/jQuery.when/)：

> 如果将单个参数传递给 jQuery.when 并且它不是 Deferred 或 Promise，它将被视为已解决的 Deferred，并且任何附加的 doneCallbacks 都将立即执行。

我怀疑这可能是`when`电话打得`constructData`太快的原因。

很难从您的代码中分辨出来，但请确保您`d.resolve()`在异步操作完成后调用。

您可能会发现一种更自然的显式设置方法`data1`是`data2`使用`resolve`调用时提供的数据。这意味着您的`when`电话看起来像这样：

```
$.when(first(), second()).done(function(result1, result2) {
    data1 = result1[0];
    data2 = result2[0];

    constructData();
}); 
```

请注意，提供给该`done`方法的结果的确切格式取决于延迟对象的性质。如果从调用返回承诺`$.ajax`，则结果应为`[data, statusText, jqXhrObject]`.

# php - 如何将这些数组组合成一个多维数组

> ID：15018939
> 
> 赞同：0
> 
> 时间：2013-02-22T07:22:52.670
> 
> 标签：php, arrays

假设我有这些数组：

```
$group1= array('id' => '1','title' => 'Group 1','description' => 'This is group1');
$group2= array('id' => '2','title' => 'Group 2','description' => 'This is group2');
$group3= array('id' => '3','title' => 'Group 3','description' => 'This is group3'); 
```

如何将它们组合成一个多维数组，如下所示：

```
$groups=array(array('id' => '1','title' => 'Group 1','description' => 'This is group1'),array('id' => '2','title' => 'Group 2','description' => 'This is group2'),array('id' => '3','title' => 'Group 3','description' => 'This is group3')) 
```

我试过使用 array_map 但它没有产生我需要的数组。谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-22T07:24:39.103

你在找`$groups = array($group1, $group2, $group3);`吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-22T07:24:35.790

```
$new_arr = array($group1,$group2,$group3); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-22T07:27:32.403

```
$groups[] = array_merge ($group1,$group1,$group1); 
```

# javascript - 在 Firefox 中重定向到新标签后关闭标签

> ID：15018943
> 
> 赞同：-1
> 
> 时间：2013-02-22T07:23:09.410
> 
> 标签：javascript, firefox

我正在尝试在 Firefox 上使用 JavaScript 关闭选项卡。我经历了 Stackoverflow 上发布的一些较早的问题，并且我了解 Firefox 不允许使用 JavaScript 关闭选项卡，除非该选项卡已从 JavaScript 本身打开。

但是，我可以使用打开一个空白选项卡来代替现有选项卡 `window.open('about:blank','_self','');`。

我的问题是，既然空白选项卡已通过 JavaScript 打开，为什么我不能使用关闭它`window.close();`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:28:48.347

> 我的问题是因为空白选项卡已通过 JavaScript 打开

该选项卡**未**使用 JS 打开。调用只是使用`window.open`了现有选项卡的名称，因此文档被加载到那里而不是打开一个新窗口。

# java - 内联图像不适用于 Play Framework 2.1

> ID：15018944
> 
> 赞同：0
> 
> 时间：2013-02-22T07:23:19.457
> 
> 标签：java, html, image, playframework

我正在尝试使用 Play Framework 通过 BufferedArray 渲染图像。未使用以下任何方法渲染图像。任何指针都非常有帮助

1.  从 Bean返回**byte[]并****使用 @bean.property 在 main.scala 中**呈现。我可以通过查看源来查看数据。
2.  将图像写入临时位置并使用“>”标签中返回的 URL。没有成功。
3.  使用内联图像方法（[http://en.wikipedia.org/wiki/Data_URI_scheme](http://en.wikipedia.org/wiki/Data_URI_scheme)）（有和没有 Base64 编码和图像文件大小小于 32KB）但仍然没有运气。

任何帮助/指针都非常感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T11:53:37.163

我正在使用**Play!Framework 2.1.0**。让，图像位于`D:\\Images\\juventus.jpg`（我是**Windows**用户）。以下是您的问题的解决方案：

```
public static Result showImage() {
    try {
        byte[] array = Files.toByteArray(new File("D:\\Images\\juventus.jpg"));
        return ok(array); // render image
    } catch (IOException e) {
        Logger.error("An IO Exception is occured while reading file!");
    }
    return internalServerError("An IO Exception is occured while reading file!");
} 
```

那应该将图像呈现为响应。愿这篇文章有用.. ;)

# php - 如何在wordpress的后端存储数据？

> ID：15018945
> 
> 赞同：0
> 
> 时间：2013-02-22T07:23:21.357
> 
> 标签：php, wordpress

我已经在页面中应用了联系表格 7，并且还希望将值存储在后端。现在值将发送到电子邮件 ID。请帮我。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:32:20.010

查看主页，您似乎可以安装 flamingo 插件来完全执行 wordpress.org/extend/plugins/contact-form-7。链接到 flamingo [wordpress.org/extend/plugins/flamingo](http://wordpress.org/extend/plugins/flamingo)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:29:42.083

在发送邮件之前挂钩插件。

```
function save_email (&$WPCF7_ContactForm) {

  # write the code to get the email address
  # and save it to your database
  # you might want to use print_r($WPCF7_ContactForm)
  # to get the values used by the form
}
add_action("wpcf7_before_send_mail", "save_email"); 
```

如果您不喜欢编写自己的东西，这个[插件可能会对您有所帮助。](http://wordpress.org/extend/plugins/contact-form-7-to-database-extension/)

# blackberry - 黑莓自定义选项卡适合所有设备屏幕

> ID：15018958
> 
> 赞同：1
> 
> 时间：2013-02-22T07:24:54.143
> 
> 标签：blackberry, java-me

我想知道，如何在黑莓上调整我的制表栏。因为我的标签与黑莓 9700 匹配，但对于黑莓 9900，我的标签太小了。我希望我的标签适合所有设备屏幕。
提前致谢 ：）

这是代码，我从其他帖子中得到的。抱歉：
**BottomPanel 类** 

```
public class BottomPanel extends VerticalFieldManager implements
    FieldChangeListener {

Bitmap home_bit = Bitmap.getBitmapResource("home.png");
Bitmap home_bit_hover = Bitmap.getBitmapResource("home_h.png");
Bitmap map_bit = Bitmap.getBitmapResource("map.png");
Bitmap map_bit_hover = Bitmap.getBitmapResource("map_h.png");
Bitmap contact_bit = Bitmap.getBitmapResource("contact.png");
Bitmap contact_bit_hover = Bitmap.getBitmapResource("contact_h.png");
PictureBackgroundButtonField home_pic, map_pic, contact_pic;

HorizontalFieldManager hr;
int current_index = 0;

public BottomPanel(int current_index) {
    super(FOCUSABLE);
    this.current_index = current_index;
    VerticalFieldManager ver = new VerticalFieldManager(USE_ALL_WIDTH
            | USE_ALL_HEIGHT) {
        protected void sublayout(int width, int height) {
            super.sublayout(width, home_bit.getHeight());
            setExtent(width, home_bit.getHeight());
        }
    };
    hr = new HorizontalFieldManager(FIELD_HCENTER);
    if (current_index == 1) {
        home_pic = new PictureBackgroundButtonField(home_bit.getWidth(),
                home_bit.getHeight(), Field.NON_FOCUSABLE
                        | Field.FIELD_VCENTER, home_bit_hover,
                home_bit_hover);
    } else {
        home_pic = new PictureBackgroundButtonField(home_bit.getWidth(),
                home_bit.getHeight(),
                Field.FOCUSABLE | Field.FIELD_VCENTER, home_bit,
                home_bit_hover);
    }
    home_pic.setChangeListener(this);
    hr.add(home_pic);

    if (current_index == 2) {
        map_pic = new PictureBackgroundButtonField(map_bit.getWidth(),
                map_bit.getHeight(), Field.NON_FOCUSABLE
                        | Field.FIELD_VCENTER, map_bit_hover, map_bit_hover);
    } else {
        map_pic = new PictureBackgroundButtonField(map_bit.getWidth(),
                map_bit.getHeight(), Field.FOCUSABLE | Field.FIELD_VCENTER,
                map_bit, map_bit_hover);
    }
    map_pic.setChangeListener(this);
    hr.add(map_pic);

    if (current_index == 3) {
        contact_pic = new PictureBackgroundButtonField(
                contact_bit.getWidth(), contact_bit.getHeight(),
                Field.NON_FOCUSABLE | Field.FIELD_VCENTER,
                contact_bit_hover, contact_bit_hover);
    } else {
        contact_pic = new PictureBackgroundButtonField(
                contact_bit.getWidth(), contact_bit.getHeight(),
                Field.FOCUSABLE | Field.FIELD_VCENTER, contact_bit,
                contact_bit_hover);
    }
    contact_pic.setChangeListener(this);
    hr.add(contact_pic);

    ver.add(hr);
    add(ver);
}

public void fieldChanged(Field field, int context) {
    if (field == home_pic) {
        LoadingScreen loadingScreen = new LoadingScreen(1);
        UiApplication.getUiApplication().popScreen(
                UiApplication.getUiApplication().getActiveScreen());
        UiApplication.getUiApplication().pushScreen(loadingScreen);
        loadingScreen.createGUI();
    } else if (field == map_pic) {
        LoadingScreen loadingScreen = new LoadingScreen(2);
        UiApplication.getUiApplication().popScreen(
                UiApplication.getUiApplication().getActiveScreen());
        UiApplication.getUiApplication().pushScreen(loadingScreen);
        loadingScreen.createGUI();
    } else if (field == contact_pic) {
        LoadingScreen loadingScreen = new LoadingScreen(3);
        UiApplication.getUiApplication().popScreen(
                UiApplication.getUiApplication().getActiveScreen());
        UiApplication.getUiApplication().pushScreen(loadingScreen);
        loadingScreen.createGUI();
    }
} 
```

**加载屏幕类**

```
public class LoadingScreen extends MainScreen {
private LabelField text;
private LabelField texthasil;
private VerticalFieldManager manager;

int current_index = 0;
BottomPanel bottomPanel;

public LoadingScreen(int current_index) {

    this.current_index = current_index;
    bottomPanel = new BottomPanel(current_index);
    setStatus(bottomPanel);
}

public void createGUI() {

    manager = new VerticalFieldManager(Manager.VERTICAL_SCROLL
            | Manager.VERTICAL_SCROLLBAR);

    setStatus(bottomPanel);
} 
```

**图片背景按钮字段类**

```
public class PictureBackgroundButtonField extends Field {
private String _label;
private int _labelHeight;
private int _labelWidth;
private Font _font;

private Bitmap _currentPicture;
private Bitmap _onPicture;
private Bitmap _offPicture;

public PictureBackgroundButtonField(int width, int height, long style,
        Bitmap picture, Bitmap selectedPic) {
    super(style);

    _font = getFont();
    _label = "";
    _labelHeight = height;
    _labelWidth = width;
    _currentPicture = picture;
    _onPicture = selectedPic;
    _offPicture = picture;
}

protected void drawFocus(Graphics graphics, boolean on) {
    // Do nothing
}

public int getPreferredHeight() {
    return _labelHeight;
}

public int getPreferredWidth() {
    return _labelWidth;
}

protected void layout(int width, int height) {
    setExtent(getPreferredWidth(), getPreferredHeight());
}

protected boolean navigationClick(int status, int time) {
    fieldChangeNotify(1);
    return true;
}

protected void onFocus(int direction) {
    _currentPicture = _onPicture;
    invalidate();
}

protected void onUnfocus() {
    _currentPicture = _offPicture;
    invalidate();
}

protected void paint(Graphics graphics) {
    graphics.drawBitmap(0, 0, getPreferredWidth(), getPreferredHeight(),
            _currentPicture, 0, 0);
    graphics.setFont(_font);
    graphics.drawText(
            _label,
            4,
            2,
            (int) (getStyle() & DrawStyle.ELLIPSIS | DrawStyle.HALIGN_MASK),
            getWidth() - 6);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-23T04:47:49.730

你没有向我们展示你有什么样的标签栏背景，解决方案确实有点依赖于此。如果您很高兴拥有一个始终具有相同**高度**（以像素为单位）的标签栏，但只是更改了**width**，那么您可以使用类似的东西。

我创建了一个名为 Manager 的子类`TabBarManager`。它将跨越屏幕的整个宽度，并具有固定的高度。它可以`Field`像任何普通管理器一样添加对象。它旨在将按钮字段添加到其中，以便当您单击按钮字段时，会发生一些事情。可能您还希望更改按钮字段的外观，具体取决于选择的选项卡。但是，不清楚这个问题是关于那个问题的，所以我没有展示那个代码。这段代码所做的只是给你一个管理器来添加标签字段，这将绘制一个全角背景。

您添加到此的选项卡栏字段应包含具有透明背景的图标图像和/或标签。例如，如果选项卡是地图视图，则地球的白色剪影图标。透明背景显示到`TabBarManager`背景。

该技术是绘制（在 Photoshop 或其他任何工具中）三个图像。*左*、*右*和中心*图像*。考虑绘制一个完整的标签栏图像。然后，裁剪掉左边的几个像素，并另存为`TabBar-left.png`. 裁剪右边的几个像素并另存为`TabBar-right.png`，然后从中心裁剪几个像素，并另存为`TabBar-center.png`. 示例图像显示在代码下方：

```
 /**
    * A TabBarManager provides a horizontal bar of button fields, that serve as a tab bar 
    * header or footer, used to select between available subviews in a larger Screen.
    */
   private final class TabBarManager extends HorizontalFieldManager {

      private int height;
      private Bitmap left;
      private Bitmap center;
      private Bitmap right;

      public TabBarManager() {
         super(HorizontalFieldManager.NO_VERTICAL_SCROLL);  // tab bar itself doesn't scroll
         left = Bitmap.getBitmapResource("TabBar-left.png");
         right = Bitmap.getBitmapResource("TabBar-right.png");
         center = Bitmap.getBitmapResource("TabBar-center.png");
         height = left.getHeight();
      }

      public void sublayout(int width, int h) {
         super.sublayout(width, height);
         setExtent(width, height);   // restrict height to a fixed value
      }

      public int getPreferredHeight() {
         return height;
      }

      public void paint(Graphics g) {
         // draw the background image for the tab bar with two sides and a center section, 
         //  to account for the fact that different devices have different widths
         int width = Display.getWidth();         
         g.drawBitmap(0, 0, left.getWidth(), height, left, 0, 0);

         // fill in the center by repeating the center image as many times as needed
         int x = left.getWidth();
         int centerWidth = center.getWidth();
         int leftEdgeOfRightBitmap = width - right.getWidth();
         while (x < leftEdgeOfRightBitmap) {
            g.drawBitmap(x, 0, centerWidth, height, center, 0, 0);
            x += centerWidth;
         }

         // draw right side
         g.drawBitmap(leftEdgeOfRightBitmap, 0, right.getWidth(), height, right, 0, 0);

         // use super.paint() to draw the icons/labels on top of our background
         super.paint(g);
      }
   } 
```

左、中和右 PNG（高度必须相同...宽度无关紧要）：

![在此处输入图像描述](../Images/9189e7e408aa40575a07d8a8a6e7300b.png), ![在此处输入图像描述](../Images/e9a256cfabaf4c8c098b5bb3c2f9c5b9.png),![在此处输入图像描述](../Images/8b028cd1507bb68432fa7b7a6fc37c9e.png)

## 你如何使用它

在您显示的代码中，您可以将`hr`变量替换为 my 的实例`TabBarManager`。或者，您可以将我的`TabBarManager`类重命名为`BottomPanel`，并向其中添加您需要的其他代码……例如当前索引和字段更改侦听器回调。

## 限制

上面的实现只会拉伸标签栏的*宽度*。高度是固定的。对于完全可拉伸的标签栏，您可以通过绘制 9 个图像（左上、中上、右上、左、中、右、左下、中下、右下）来模仿[9 块](https://stackoverflow.com/a/10549944/119114)图像）。或者使用[类似的东西来为 BlackBerry 获取 9-patch 可拉伸图像](https://github.com/mobiata/BlackBerry-NinePatch)

## 参考

[http://supportforums.blackberry.com/t5/Java-Development/Create-tabbed-view-screens/ta-p/444969](http://supportforums.blackberry.com/t5/Java-Development/Create-tabbed-view-screens/ta-p/444969)

# android - 使用 android API 开发的 Android 应用程序无法与 google API 完美配合

> ID：15018959
> 
> 赞同：0
> 
> 时间：2013-02-22T07:24:59.377
> 
> 标签：android, google-api

我的应用程序通过网络连接数据库，该应用程序将像往常一样执行一些登录和注册程序，该应用程序在针对 ANDROID API 的 AVD 上运行良好，但是当我更改为 Google API-8 时，我无法与网络通信。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-27T08:37:43.950

通过将 API 更改为 17 解决的问题

# ruby-on-rails - 回形针覆盖子类中的 validates_attachment

> ID：15018961
> 
> 赞同：0
> 
> 时间：2013-02-22T07:25:03.953
> 
> 标签：ruby-on-rails, paperclip, paperclip-validation

我正在尝试覆盖`validates_attachment`，`Subclass`但我注意到它仅适用于`Superclass`验证；我想知道为什么我`validates_attachment`的子类不起作用。有人遇到过这个问题吗？你是如何解决这个问题的？这是一个示例代码：

```
class Superclass
    validates_attachment :logo, :image_ratio => { :ratio  => {"1:1" => "28", "4:1" => "50", "5:1" => "40"} }
end

class Subclass < Superclass
  validates_attachment :logo, :image_ratio => { :ratio  => {"1:1" => "40", "2:1" => "60"} }
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T09:16:26.620

我建议您应该将两个类的字段放在不同的表中。因此，您可能会遇到问题。

但是，如果您真的只想为这两个类提供一个表，那么我相信您可以使用这样的东西：

```
validates_attachment :logo, :image_ratio => { :ratio  => {"1:1" => "40", "2:1" => "60"} }, :unless => Proc.new {|attach| attach.type == "SubClass"} 
```

我假设您有一个`attach_type`列，但取决于您如何确定附件类型是否为 a `SubClass`，由您来更改它。

您也可以尝试`validates_attachment`从您的模型中删除`Subclass`，而是尝试`with_options`在您的模型中，如下所示：

```
with_options :unless => :attach_type == "SubClass" do |attach|
   attach.validates_attachment :logo, :image_ratio => { :ratio  => {"1:1" => "40", "2:1" => "60"}}
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-20T21:16:05.937

这对我有用... rails 4

```
 validates :photo, :presence => true,
  :attachment_content_type => { :content_type => "image/jpg" },
  :attachment_size => { :in => 0..10.kilobytes } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-05-19T10:53:54.737

万一其他人遇到问题，他们需要实例访问才能验证我使用以下内容：

```
class AttachmentDynamicContentTypeValidator < Paperclip::Validators::AttachmentContentTypeValidator
   def validate_each(record, attribute, value)
      @record = record
      super
   end

   def allowed_types
      @record.my_valid_types_array || ["text/plain"]
   end

   def check_validity!; end
end 
```

在实际的资产实例中，我添加了以下内容：

```
class Asset < ActiveRecord::Base
   validates :asset, attachment_dynamic_content_type: :asset_content_type
end 
```

希望对某人有所帮助。

# asp.net - Treeview 节点将转到其他相邻节点先前单击的相同 postbackurl

> ID：15018966
> 
> 赞同：1
> 
> 时间：2013-02-22T07:25:40.353
> 
> 标签：asp.net, .net, vb.net, treeview, postbackurl

我有一个 treeview asp.net 控件。我有以下 Treeview1 的 SelectedNodeChanged 事件。

```
Private Sub TreeView1_SelectedNodeChanged(ByVal sender As Object, ByVal e As System.EventArgs) Handles TreeView1.SelectedNodeChanged           
        Try    
            Dim type As Boolean = False    
            Dim nodetext As String = TreeView1.SelectedNode.Value    
            Dim depth As Integer = TreeView1.SelectedNode.Depth    
            If nodetext = "Root" Then    
                btnCreateComp.Visible = True                   
                btnCreateComp.Text = "Create Company"    
                btnCreateUser.Visible = False    
            Else    
                type = getNodeType(nodetext)    
                'if it is true its USER
                'if false it is COMPANY

                If type = True Then                           
                    btnCreateComp.Visible = False                      
                    btnCreateUser.Visible = True
                    btnCreateUser.Text = "Edit User"
                    btnCreateUser.PostBackUrl = "~/Account/User.aspx"    
                Else                    
                    btnCreateComp.Visible = True
                    btnCreateComp.Text = "Edit Company"                      
                    btnCreateUser.Visible = True
                    btnCreateUser.Text = "Create User"    
                    btnCreateUser.PostBackUrl = "~/Account/User.aspx"    
                End If    
            End If    
        Catch ex As Exception    
        End Try    
    End Sub 
```

当我点击一个节点时，如果它不是“root”，它会显示 2 个按钮，如果我点击 btnCreateUser 按钮，它会转到一个页面“user.aspx”，这是 btnCreateUser 的 postbackurl。

这可以。但是当下一次单击“Root”以外的节点时，它直接转到postbackurl页面“User.aspx”，即使我没有单击按钮btnCreateUser。

这仅在我第一次单击“btnCreateUser”后发生一次。

有人可以帮忙吗？

# jquery - 在 JQM 中填充 tel 属性

> ID：15018972
> 
> 赞同：-2
> 
> 时间：2013-02-22T07:26:17.827
> 
> 标签：jquery, html, jquery-mobile

请问如何获取这段代码来调用存储在 id = "bookTel" 中的号码，该号码是从数据库中检索的？

```
<a href="tel:<???>"data-role="button"> Call <span id="bookTel"></span></a> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:39:09.387

尝试这个：

```
<a id="telephoneNum" href="tel:<???>"data-role="button"> Call <span id="bookTel"></span></a>

$(document).ready(function(){
   var num= $('#bookTel').text();
   $('#telephoneNum').attr('href','tel:'+num);
}); 
```

# php - 仅使用 PHP 显示特定类别的投资组合帖子

> ID：15018975
> 
> 赞同：0
> 
> 时间：2013-02-22T07:26:43.060
> 
> 标签：php, wordpress

再会。

我正在使用一个有投资组合的主题。投资组合当前显示列出的所有类别。如何将其更改为仅显示某些类别，即。设计和图像？

这是投资组合模板页面的代码

```
<?php
/*
Template Name: Portfolio page
*/
?>

<?php get_header(); ?>
<?php
global $wp_query;
$post = $wp_query->post;
$gogo_select_portfolio_cat = get_post_meta($post->ID, 'gogo_select_portfolio_cat', true);
$gogo_portfolio_items_order = get_post_meta($post->ID, 'gogo_portfolio_items_order', true);
$gogo_portfolio_text_no_posts = get_post_meta($post->ID, 'gogo_portfolio_text_no_posts', true);
$gogo_select_portfolio_template = get_post_meta($post->ID, 'gogo_select_portfolio_template', true);
$gogo_select_portfolio_sidebar_position = get_post_meta($post->ID, 'gogo_select_portfolio_sidebar_position', true);
?>

<div class="block clearfix">

<header class="box-headline">
    <h4 class="main-headline"><?php the_title(); ?></h4>
</header>

<?php if ($gogo_select_portfolio_template=='portfolio-fourthcol') { 
    load_template(TEMPLATEPATH . '/lib/includes/portfolio/portfolio-4col.php');
} ?>

<?php if ($gogo_select_portfolio_template=='portfolio-threecol') { 
    load_template(TEMPLATEPATH . '/lib/includes/portfolio/portfolio-3col.php');
} ?>

<?php if ($gogo_select_portfolio_template=='portfolio-twocol') { 
    load_template(TEMPLATEPATH . '/lib/includes/portfolio/portfolio-2col.php');
} ?>

</div>

<?php get_footer();?>. 
```

**Portfolio-4col.php 内容：**

```
<ul id="filterOptions" class="horizontal" data-option-key="filter">
    <li><a class="selected" href="#filter" data-option-value="*">Show all</a></li>
    <?php
    $categories=  get_categories('taxonomy=portfolio_cat&title_li='); 
    foreach ($categories as $category){ ?>
    <li><a href="#filter" data-option-value=".<?php echo $category->slug;?>" title="Filter by <?php echo $category->name;?>"><?php echo $category->name;?></a></li>
    <?php }?> 
</ul>

<ul class="isotope-holder horizontal four-columns">
<?php rewind_posts(); ?>
<?php
$paged = (get_query_var('paged')) ? get_query_var('paged') : 1;
query_posts( array( 
                     'post_type' => 'portfolio', 
                     'posts_per_page' => -1,
                     'ignore_sticky_posts' => 1
                     )
              );
$postcount = 0;
if ( have_posts() ) : while ( have_posts() ) : the_post(); $postcount++;?>

<!--Retrieve posts meta from custom post types -->
<?php
$gogo_portfolio_short_desc = get_post_meta($post->ID, 'gogo_portfolio_short_desc', true);
$gogo_portfolio_video_url = get_post_meta($post->ID, 'gogo_portfolio_video_url', true);
$gogo_portfolio_custom_link = get_post_meta($post->ID, 'gogo_portfolio_custom_link', true);
$gogo_portfolio_display_image_link = get_post_meta($post->ID, 'gogo_portfolio_display_image_link', true);
$gogo_portfolio_display_article_link = get_post_meta($post->ID, 'gogo_portfolio_display_article_link', true);
$gogo_portfolio_display_external_link = get_post_meta($post->ID, 'gogo_portfolio_display_external_link', true); ?>

<li class="element <?php $terms = wp_get_post_terms($post->ID,'portfolio_cat'); foreach ($terms as $term) {  echo ' ' .$term->slug. ' '; } ?>">
<div class="view view-sixth">
<?php if (has_post_thumbnail()) { ?>
<figure>
<?php $thumbnail = wp_get_attachment_image_src(get_post_thumbnail_id(), 'large');
echo '<img src="'.get_template_directory_uri().'/timthumb.php?src='.$thumbnail[0].'&amp;w=218&amp;h=200&amp;zc=1&amp;q=100&amp;s=1" alt="'.get_the_title().'" />';?>
</figure>
<?php } ?>

<div class="mask">
        <header class="box-headline">
            <?php echo '<h4><a href="'.get_permalink().'">'; echo ''.get_the_title().''; echo '</a></h4>'; ?>
        </header>
    <div class="content">
        <p><?php echo $gogo_portfolio_short_desc; ?></p>
        <a href="<?php echo get_permalink(); ?>" class="info"><span>Read More &raquo;</span></a>
    </div>
</div>

</div>
</li>
<?php endwhile; ?>
<?php else : ?>
<?php endif; ?>
</ul>

<script type="text/javascript">
var $j = jQuery.noConflict();
$j(window).load(function() {

var $jcontainer = $j('ul.isotope-holder');

$jcontainer.isotope({
  itemSelector : '.element',
  resizable: false, // disable normal resizing
  // set columnWidth to a percentage of container width
  masonry: { columnWidth: $jcontainer.width() / 4 }
});

// update columnWidth on window resize
$j(window).smartresize(function(){
  $jcontainer.isotope({
    // update columnWidth to a percentage of container width
    masonry: { columnWidth: $jcontainer.width() / 4}
  });
});

var $joptionSets = $j('#filterOptions'),
    $joptionLinks = $joptionSets.find('a');

$joptionLinks.click(function(){
  var $jthis = $j(this);
  // don't proceed if already selected
  if ( $jthis.hasClass('selected') ) {
    return false;
  }
  var $joptionSet = $jthis.parents('#filterOptions');
  $joptionSet.find('.selected').removeClass('selected');
  $jthis.addClass('selected');

  // make option object dynamically, i.e. { filter: '.my-filter-class' }
  var options = {},
      key = $joptionSet.attr('data-option-key'),
      value = $jthis.attr('data-option-value');
  // parse 'false' as false boolean
  value = value === 'false' ? false : value;
  options[ key ] = value;
  if ( key === 'layoutMode' && typeof changeLayoutMode === 'function' ) {
    // changes in layout modes need extra logic
    changeLayoutMode( $jthis, options )
  } else {
    // otherwise, apply new options
    $jcontainer.isotope( options );
  }

  return false;
});
});

</script> 
```

任何帮助将不胜感激

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T08:08:47.260

只显示一个类别而不是所有类别：

替换这个：

```
$categories =  get_categories('taxonomy=portfolio_cat&title_li='); 
```

有了这个：

```
$categories[] = get_category('cat=4'); // replace 4 with category ID you're looking for 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:49:51.080

编辑：看到投资组合页面后。您可以根据需要更改 query_post 命令。

```
query_posts( 'cat=id' ); 
```

其中“id”是您的类别的编号 id。

有关详细信息，请参阅[http://codex.wordpress.org/Function_Reference/query_posts#All_Posts_in_a_Category](http://codex.wordpress.org/Function_Reference/query_posts#All_Posts_in_a_Category)。

# android - 无法在 Eclipse 中将库添加到 Android 项目

> ID：15018977
> 
> 赞同：10
> 
> 时间：2013-02-22T07:26:46.707
> 
> 标签：android, eclipse, project, libraries

我正在尝试将库添加到 Eclipse 中的现有项目中。我将项目文件夹本身和库文件夹保存在桌面上标记为“ANDROID”的文件夹中。当我尝试将>现有代码导入工作区>选择“ANDROID”时。唯一添加的项目是应用程序本身而不是库。我什至尝试自己添加库，它会显示在导入列表中，但不会有带有“完成”选项的“勾选框”。我什至右键单击我的应用程序 - 属性 > Android > 并注意到该库有一个红色的“X”并且不允许我搜索新库。我究竟做错了什么？这个相同的应用程序和库正在为朋友而不是我使用相同版本的 eclipse。

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-07-07T23:22:48.527

确保库和项目在同一个地方，即

1.  **将库复制到与您的项目相同的文件夹中**
2.  导入库（文件 > 导入 > 工作区中的现有项目）
3.  打开库的属性 > Android 并选择`Is Library`
4.  打开项目属性 > Android > 添加（库）
5.  选择图书馆
6.  保存属性

如果这对您不起作用，请从其 lib 文件夹中复制 jar 文件并将其粘贴到项目 lib 中。仅当上述方法不起作用时才应执行此操作

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-22T08:09:02.673

在 eclipse 中导入库项目。然后右键单击项目并转到属性-> Android（左侧菜单）-> 在底部（在项目构建目标下方），您将看到一个名为**Library**的复选框选中该框。现在您已经将您的项目变成了一个库。

然后在您要添加库的原始项目中再次转到属性-> Android（左侧菜单）-> 在底部（在项目构建目标下方）单击添加按钮，您会发现该库项目可见。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-06-18T12:27:19.487

当您从某个位置导入项目时会发生这种情况。如果我们导入某个项目，那么它不会引用该工作区的支持库。因此，请始终选中复选框（将项目复制到工作区）转到文件>导入项目>浏览>选择一个项目>将复制项目选中到工作区。希望它能解决问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-02-06T16:47:26.543

**一个迟到的答案，虽然我想给这个问题一个深入的答案。**

1.  首先将您的文件夹结构从 Android 切换到**Project**。

[![在此处输入图像描述](../Images/e70def5eb3994718ee7aba3ea26d9696.png)](https://i.stack.imgur.com/Mgfwr.png)

2.  现在在 app - build 文件夹中搜索**libs 文件夹。**

[![在此处输入图像描述](../Images/5db2cf38ac8ab8dc80fd6b1682ad4045.png)](https://i.stack.imgur.com/nueZ3.png)

3.  将 .jar 文件粘贴到 libs 文件夹后。右键单击 jar 文件，最后单击**Add as library**。这将负责在 build.gradle 添加编译文件（'libs/library_name.jar'）

[![在此处输入图像描述](../Images/1dbf70461948798844e1843227f7636b.png)](https://i.stack.imgur.com/CT3oJ.png)

***现在您可以开始在项目中使用该库了。***

# php - 如何使用 php 或 javascript 或 jquery 制作包含图像和文本的 html div 的屏幕截图？

> ID：15018979
> 
> 赞同：1
> 
> 时间：2013-02-22T07:26:52.643
> 
> 标签：php, javascript, jquery

是否可以捕获特定的 div 内容并且 div 包含图像或文本或任何内容？

如果有任何可能的脚本方法，请告诉我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-22T07:31:43.870

我不知道“截屏”元素的方法，但您可以做的是将 div 绘制到画布元素中，然后使用`HTMLCanvasElement`对象的`toDataURL`函数获取`data:`包含图像内容的 URI。

作为

```
var c = document.getElementById('the_canvas_element_id');
var t = c.getContext('2d');
/* then use the canvas 2D drawing functions to add text, etc. for the result */ 
```

当用户单击“捕获”时，执行以下操作：

```
window.open('', document.getElementById('the_canvas_element_id').toDataURL()); 
```

这将打开一个带有“屏幕截图”的新选项卡或窗口，允许用户保存它。

# antlr - 左递归 ANTLR 文法

> ID：15018980
> 
> 赞同：4
> 
> 时间：2013-02-22T07:26:54.880
> 
> 标签：antlr, antlr3, antlrworks, left-recursion

我写了一个语法，但得到一个左递归错误。

```
grammar Lang;

options
{
    output  = AST;
    language    = C;
    ASTLabelType= pANTLR3_BASE_TREE;
    backtrack   = true;
}

start   : primary_expression+
    ;

primary_expression
                : '{' expression '}'
                | expression ',' expression
                ;

expression
                : logical_or_expression
                | logical_or_expression '?' expression ':' expression
                | logical_or_expression '?' ':' expression
                | logical_or_expression '?' expression
                ;

logical_or_expression
                : logical_and_expression
                | logical_and_expression '|' logical_or_expression
                ;

logical_and_expression
                : primary_expression
                | primary_expression '&' logical_and_expression
                ; 
```

我收到以下错误：

> [12:41:35] 错误（210）：以下规则集是相互左递归的 [primary_expression、logical_and_expression、logical_or_expression、expression]
> [12:41:35] 中止，因为以下规则是相互左递归的：[ [Lang.primary_expression,index=2,line=19], [Lang.logical_and_expression,index=5,line=36], [Lang.logical_or_expression,index=4,line=31], [Lang.expression,index=3 ,线=24]]

* * *

### 更正语法

```
grammar Lang;
options 
{
    // Note that in the C implementation, all implementations of trees and
    // adaptors pass around pANTLR3_BASE_TREE, which contains a super pointer
    // to your own implementation of a tree node and tree and so on. Hence
    // the node type is ALWAYS pANTLR3_BASE_TREE and there is no need to define
    // the type (the definition is silently ignored if you leave it there)
    //
    //output    = AST;
    language    = C;
    //ASTLabelType= pANTLR3_BASE_TREE;
    backtrack   = true;
}

start   : primary_expression+
    ;

primary_expression
                : '{' expression '}'
                | expression ',' expression
                ;

expression
                : logical_or_expression
                | logical_or_expression '?' expression ':' expression
                | logical_or_expression '?' ':' expression
                | logical_or_expression '?' expression
                ;

logical_or_expression
                : logical_and_expression
                | logical_and_expression '|' logical_or_expression
                ;

logical_and_expression
                : STRING
                | STRING '&' logical_and_expression
                ;

/* We're going to ignore all white space characters */
WS  
    :   (' ' | '\t' | '\r'| '\n') {$channel=HIDDEN;}
    ;

STRING
    :   ('a'..'z' | 'A'..'Z' | '0'..'9' | '_')+
    ; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-30T01:21:11.687

Antlr 4 可以处理直接左递归，但不能处理间接左递归。在第一种情况下，“primary_expression”和“logical_and_expression:primary_expression ...”形成了间接左递归。但是现在 antlr4 不能生成 'c' 代码。

```
grammar test3;

options
{
    language    = Java;
}

start   : 
    expression+
    ;

expression : 
    primary_expression
    | expression '&' expression
    | expression '|' expression
    | expression '?' expression ':' expression
    | expression '?' expression 
    | expression '?' ':' expression 
    | expression ',' expression
    | '{' expression '}'
    ;

primary_expression : // variable or constant definition, such as
    VARIABLE 
    | NUMBER
    ;
VARIABLE :
    ('A'..'Z')+
    ;

NUMBER :
    ('0'..'9') +
    ; 
```

# asp.net - 插入数据库时 未设置对象变量

> ID：15018981
> 
> 赞同：0
> 
> 时间：2013-02-22T07:27:11.557
> 
> 标签：asp.net, html, sql-server, vb.net

我有将数据插入数据库的问题。

```
Dim PostId As Object = DirectCast(Repeater1.FindControl("lblPostId"), Label) 
```

我必须使用 Findcontrol，因为页面无法自动找到 lblPostId。然后我像这样定义 InsertCommand 和参数：

```
Dim cmd As SqlCommand = conn.CreateCommand()
        cmd.CommandText = "INSERT INTO [Comments] ([CommentText], [UserName], [PostId]) VALUES (@CommentText, @UserName, @PostId)"
        cmd.Parameters.Add("@PostId", System.Data.SqlDbType.Int).Value = PostId.Text
        cmd.Parameters.Add("UserName", System.Data.SqlDbType.NVarChar).Value = Context.User.Identity.Name
        cmd.Parameters.Add("CommentText", System.Data.SqlDbType.NText).Value = text.Text
        cmd.ExecuteNonQuery() 
```

这是 m HTML，标签在 Repeater 内（由 sqldatasource 绑定）：

```
<asp:Label ID="lblPostId" runat="server" Text='<%# Eval("PostId") %>' /> 
```

但它返回错误，该*Object 变量或未*在 PostId 参数上设置变量。我不知道为什么？我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T08:51:38.890

当您在Repeater 中搜索控件时，您应该考虑在Repeater 控件中显示了多少ItemsTemplate。

[FindControl](http://msdn.microsoft.com/en-us/library/486wc64h.aspx)方法_

> 在当前命名容器中搜索具有指定 id 参数的服务器控件

如果您的转发器返回 2 行数据，那么您在转发器内部有两个“命名容器”，每行一个，它们由 Items 集合中的单独实例表示。

所以你得到的代码`lblPostID`应该如下

```
Dim PostId As Label = DirectCast(Repeater1.Items(0).FindControl("lblPostId"), Label) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:30:54.703

```
Dim PostId As Object = DirectCast(Repeater1.FindControl("lblPostId"), Label) 
```

应该

```
Dim PostId As Label = DirectCast(Repeater1.FindControl("lblPostId"), Label) 
```

并且，总是按它们出现的顺序添加参数

```
Dim cmd As SqlCommand = conn.CreateCommand()
        cmd.CommandText = "INSERT INTO [Comments] ([CommentText], [UserName], [PostId]) VALUES (@CommentText, @UserName, @PostId)"
        cmd.Parameters.Add("@CommentText", System.Data.SqlDbType.NText).Value = text.Text
        cmd.Parameters.Add("@UserName", System.Data.SqlDbType.NVarChar).Value = Context.User.Identity.Name
        cmd.Parameters.Add("@PostId", System.Data.SqlDbType.Int).Value = CInt(PostId.Text)
        cmd.ExecuteNonQuery() 
```

# .net - MSMQ MessageQueueException 启动后一小会儿

> ID：15018989
> 
> 赞同：3
> 
> 时间：2013-02-22T07:27:38.780
> 
> 标签：.net, vb.net, msmq

我有一个多用户计划应用程序，其中客户端将包含其更改的 msmq 消息发送到服务器应用程序，服务器应用程序处理它们，计算库存/时间短缺，然后向所有连接的客户端发送消息以更新其数据以显示更改。

这工作得很好，除了一个一直困扰着我的例外。

这基本上只发生在我们一些速度更快的 PC（带有 SSD、I7 等）上。

```
ExceptionInformation: System.Messaging.MessageQueueException
Stack:
   at System.Messaging.MessageQueue+MQCacheableInfo.get_ReadHandle()
   at System.Messaging.MessageQueue.StaleSafeReceiveMessage(UInt32, Int32, MQPROPS, System.Threading.NativeOverlapped*, ReceiveCallback, System.Messaging.Interop.CursorHandle, IntPtr)
   at System.Messaging.MessageQueue.ReceiveCurrent(System.TimeSpan, Int32, System.Messaging.Interop.CursorHandle, System.Messaging.MessagePropertyFilter, System.Messaging.MessageQueueTransaction, System.Messaging.MessageQueueTransactionType)
   at System.Messaging.MessageQueue.Receive()
   at Europlanner_.MSMQHandler.ReceiveMessage()
   at System.Threading.ThreadHelper.ThreadStart_Context(System.Object)
   at System.Threading.ExecutionContext.runTryCode(System.Object)
   at System.Runtime.CompilerServices.RuntimeHelpers.ExecuteCodeWithGuaranteedCleanup(TryCode, CleanupCode, System.Object)
   at System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext, System.Threading.ContextCallback, System.Object)
   at System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext, System.Threading.ContextCallback, System.Object, Boolean)
   at System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext, System.Threading.ContextCallback, System.Object)
   at System.Threading.ThreadHelper.ThreadStart() 
```

如果他们在启动后一分钟左右打开应用程序，则不会出现错误。因此，尽管这确实不是破坏游戏的错误，但我想修复它。

我已经对异常进行了一些搜索，我猜它与权限有关，但奇怪的是它只在启动后不久发生。

出于测试目的，我尝试设置队列的权限，以便所有人和匿名登录具有完全控制权。但这似乎没有帮助。

这些机器都在同一个域中，并且队列在域中我们的一台服务器上。

发生异常的代码如下：

```
Private Sub ReceiveMessage()
    While KeepReading
        Dim MSG As Message = ClientQue.Receive()
        If Not DateDiff(DateInterval.Minute, MSG.SentTime, Now) >= 1 Then
            HandleMessage(MSG)
        Else : DebugHandler.WriteLine(DebugTypes.Network, "Removed MSMQ message due to age. (Older than 1 minute") : End If
        LastServerCommunication = 0
    End While
End Sub 
```

我自己的机器比用户的机器更老更慢，我个人似乎无法在我自己的机器上重现这个错误。我可以使用用户机器进行测试的时间范围是有限的。

有没有人碰巧知道是什么导致了这个异常？

如果我需要发布任何其他信息，请询问。

感谢您的关注。

编辑以回答 Kjell-Åke 的问题：

我使用这个小功能来检查服务是否启动：

```
Private Function QueueServiceStarted() As Boolean
    Dim Services As List(Of ServiceController) = ServiceController.GetServices().ToList
    Dim MSMQueue As ServiceController = Services.Find(Function(o) o.ServiceName = "MSMQ")
    If Not MSMQueue Is Nothing Then If MSMQueue.Status = ServiceControllerStatus.Running Then Return True
    Return False
End Function 
```

编辑以添加异常消息：

```
"Unable to establish connection with Active Directory Domain Services. Verify that   there are sufficient permissions to perform this operation." 
```

编辑：添加更多信息

该应用程序似乎在 Windows 日志中的以下事件之后工作。

```
"The Message Queuing service is online with Active Directory and fully operational." 
```

所以基本上我猜问题会变成：为什么在我们更快的 PC 上发生这种情况需要这么长时间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-10T07:55:39.827

我遇到了这个问题，最后我最终使用了事件日志触发器并等待 MSMQ 与广告服务器握手。

我只是讨厌使用 try/catch/sleep 循环直到它出现的想法。仅仅修复它可能有点过于复杂，但我发现它值得。

这样，您可以构建代码以区分客户端计算机上的启动错误和 MSMQ 只是在等待 AD 服务器。

[消息队列 Active Directory 操作](http://technet.microsoft.com/en-us/library/cc773641%28v=ws.10%29.aspx)

[订阅事件日志中的事件](http://msdn.microsoft.com/en-us/library/bb671202.aspx)

# mysql - 创建跟踪每个更改列的审计表

> ID：15018991
> 
> 赞同：0
> 
> 时间：2013-02-22T07:27:49.603
> 
> 标签：mysql, triggers

我有一个包含 10 个字段的表，许多用户将更改这方面的数据。我想报告用户更改的内容，即我还需要每列信息，例如旧值和新值。我必须使用触发器，但历史表应该是什么样子。？

我的想法：1.主表2.历史表3.列表

1.  主表是我的用户表。
2.  历史表是一个自动递增的表，其中包含进行更改的日期和用户信息。
3.  列表将具有来自历史表和列名、旧值和新值的键

这是最好的方法吗？

我的另一个问题是如何循环遍历触发器中的每一列

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:35:15.760

而是使用名称和日期等列创建表。而是存储创建 10 个字段创建 10 行和创建日期。每当有新更新时，插入带有字段名称和更新日期的新行。

通过这种方式，您可以保留它的历史记录。

```
id 名称 值 日期
1个名字suresh 2013-1-1
2 电子邮件suresh@gmail.com 2013-1-1

```

# android - 对于 VGA 级别的 16:9 纵横比，哪个宽度和高度最适合？

> ID：15018993
> 
> 赞同：0
> 
> 时间：2013-02-22T07:27:57.570
> 
> 标签：android, resolution

众所周知，VGA的分辨率为640×480，纵横比为4:3。但是如果我想得到VGA级别16:9纵横比的分辨率，如何计算呢？

是否有任何规则可以获得正确的值？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:34:07.493

一般来说，找出方面的方法是这样的：

```
ClippedWidth = ScreenWidth
ClippedHeight = 9 * ScreenWidth / 16 
```

对于 VGA，出现在`640 x 360`.

如果它比实际屏幕高度大，那么您需要反转公式：

```
ClippedWidth = 16 * ScreenHeight / 9
ClippedHeight = ScreenHeight 
```

请注意，我假设您正在尝试将 16:9 的数据适合 4:3。很容易走另一条路。实际上，您甚至不需要方面：

```
ClippedHeight = SourceHeight * ScreenWidth / SourceWidth 
```

或者

```
ClippedWidth = SourceWidth * ScreenHeight / SourceHeight 
```

在所有情况下，这些计算都保持方形像素的概念。

# html - 带有 HTML 编辑栏的 textarea 元素

> ID：15018999
> 
> 赞同：-2
> 
> 时间：2013-02-22T07:28:36.030
> 
> 标签：html, textarea, styling

我正在寻找一种在 HTML 或 PHP 中实现文本区域元素的方法，您可以在其中输入文本并对其应用样式，例如粗体、斜体、突出显示和颜色等。

就像我正在输入这个问题的那个。有人可以建议一些东西。

提前致谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T07:31:00.367

这称为富文本编辑器，某些浏览器确实有内置的，但您也可以从库中获得它们。

[http://en.wikipedia.org/wiki/Online_rich-text_editor](http://en.wikipedia.org/wiki/Online_rich-text_editor)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-22T07:32:27.147

看看这个：[http ://ckeditor.com/](http://ckeditor.com/)

我以前用过它，它真的很好。

这是另一篇关于如何使用它的文章：[how to add or embed CKEditor in php page](https://stackoverflow.com/questions/8151889/how-to-add-or-embed-ckeditor-in-php-page)