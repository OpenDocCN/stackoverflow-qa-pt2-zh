# StackOverflow 问答 15804000-15804999

# jquery - Magento上ajac更新（php和js）后页面更新忘记下拉选择

> ID：15804001
> 
> 赞同：0
> 
> 时间：2013-04-04T06:28:43.877
> 
> 标签：jquery, magento

我们有以下代码生成一个复选框（选择付款方式）。当一个人选择第一种方法（理想/银行）时，会显示一个带有银行的下拉列表

现在，当用户选择银行时，在此之后页面由 F5 刷新或 ajax 请求生成相同的 html 代码，但我从列表中选择的银行被忘记了

现在，我将如何监视下拉列表以及何时更改保存值/选择（甚至可能仅在内存中仅用于 ajax 请求，仅在整个页面不重新加载的情况下）以及新的 ajax 请求返回并打印输出（没有选择）设置选择回来？

我们使用 Magento 1.7 和 jquery

希望有人知道一个漂亮的技巧

```
<ul class="form-list" id="payment_form_<?php echo $_code ?>" style="display:none">
        <li>
            <label for="<?php echo $_code ?>_bank"><?php echo $this->__(Mage::getStoreConfig('payment/sisow/issuerchoice')) ?> <span class="required">*</span></label><br/>
            <select id="<?php echo $_code ?>_bank" name="payment[<?php echo $_code ?>_bank]" class="input-text validate-text required-entry">
                <option value=""><?php echo $this->__('Selecteer een bank...'); ?></option>
                <?php foreach($banks as $bank)
                {
                ?>
                    <option value="<?php echo $bank['value'];?>"><?php echo $bank['label']; ?></option>
                <?php
                }
                ?>
            </select>
            <br/>
            <?php echo $this->__(Mage::getStoreConfig('payment/sisow/payoff')) ?>
        </li>
    </ul> 
```

以下 HTML 是通过 AJAX 生成的

现在我们如何保存在`<select id="sisow_bank"`(可能通过 onchange) 下选择的选项，然后在通过 ajax 重新加载块时触发 unload 事件。

```
<dl class="sp-methods">
    <dt>
            <input id="p_method_sisow" value="sisow" type="radio" name="payment[method]" title="Betalen met iDEAL (NL)" onclick="payment.switchMethod('sisow')" checked="checked" class="radio" autocomplete="off">
            <label for="p_method_sisow">Betalen met iDEAL (NL) </label>
    </dt>
        <dd>

    <ul class="form-list" id="payment_form_sisow" style="">
        <li>
            <label for="sisow_bank">Kies uw bank <span class="required">*</span></label><br>
            <select id="sisow_bank" name="payment[sisow_bank]" class="input-text validate-text required-entry" autocomplete="off">
                <option value="">Selecteer een bank...</option>
                                    <option value="01">ABN Amro Bank</option>
                                    <option value="02">ASN Bank</option>
                                    <option value="04">Friesland Bank</option>
                                    <option value="05">ING</option>
                                    <option value="06">Rabobank</option>
                                    <option value="07">SNS Bank</option>
                                    <option value="08">RegioBank</option>
                                    <option value="09">Triodos Bank</option>
                                    <option value="10">Van Lanschot Bankiers</option>
                                    <option value="11">Knab</option>
                            </select> 
```

我们尝试了

```
jQuery(document).ready(function(){

    var item = window.localStorage.getItem('payment_select');
    jQuery('select[name=payment[sisow_bank]]').val(item);

    jQuery('select[name=payment[sisow_bank]]').change(function() {
       window.localStorage.setItem('payment_select', $(this).val());
    });

}); 
```

但它看起来不像在 div 部分的 ajax 重新加载后调用 ready 函数

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T19:06:51.673

使用 jQuery 就绪函数的胆量创建一个新函数。从 jQuery.ready 函数调用该新函数（除了对您现在添加的新函数的函数调用外，该函数现在为空）。在您的 ajax 调用结束时，添加对新函数的调用。

# android - Android - 启动完成后运行服务并且有互联网连接

> ID：15804004
> 
> 赞同：1
> 
> 时间：2013-04-04T06:28:53.833
> 
> 标签：android, broadcastreceiver

我有一个在启动时运行的服务来更新用户的数据库，但我需要等到他们有互联网连接，否则我的服务会失败。这是我到目前为止所拥有的 -

```
<uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED"/>
<receiver android:name=".ClockReceiver">
<intent-filter >
   <action android:name="android.intent.action.BOOT_COMPLETED"/>
   <action android:name="android.intent.action.QUICKBOOT_POWERON" />
</intent-filter>
</receiver> 
```

是否可以让广播等到互联网连接可用？

# c# - 从数据库中获取随机记录以进行问答游戏

> ID：15804005
> 
> 赞同：0
> 
> 时间：2013-04-04T06:28:56.713
> 
> 标签：c#, asp.net, sql-server, web-services, windows-phone-7

我需要您的帮助来创建查询。我是软件职业的新手，我正在尝试为 Windows Mobile 应用程序开发 KBC 类型测验游戏。为此，我想尝试从数据库中获取随机记录，如果一条记录出现一次，则该记录将不再出现。我使用此查询`"SELECT TOP 1 * FROM Quiz ORDER BY NEWID()"`，但记录重复。

我的表结构如下所示。

```
ColumnName  DataType

Id          int
Que         varchar(150)
Ans1        varchar(100)
Ans2        varchar(100)
Ans3        varchar(100)
TrueAns     varchar(100) 
```

我也尝试创建一个存储过程，如下所示

```
DECLARE @counter int, @randno int, @uBound int, @lBound int

        SELECT @uBound = Max(Id) FROM Quiz
        SELECT @lBound = Min(Id) FROM Quiz

        SELECT @randno = Round(((@uBound - @lBound) * Rand() + @lBound), 0)
        SET @Counter = 0

        WHILE @counter = 0
        BEGIN
            IF EXISTS(SELECT Id FROM Quiz WHERE Id = @randno)
            BEGIN
                SET NOCOUNT OFF
                SELECT * FROM Quiz WHERE Id = @randno
                SET @counter = 1
            END
            ELSE
            BEGIN
                SELECT @randno = Round(((@uBound - @lBound -1 ) * Rand() + @lBound), 0)
            END
        END 
```

但我无法获得成功。我的表包含此字段 Que、Ans1、Ans2、Ans3、TrueAns。请帮我解决这个问题。我还想创建一个返回所有记录的网络服务

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:13:44.243

只需在 Quiz isread 中添加一列作为 bool 并将其设置为默认 false

然后使您的存储过程像它一样可以帮助您使用Web服务方法

```
DECLARE @counter int, @randno int, @uBound int, @lBound int

        SELECT @uBound = Max(Id) FROM Quiz
        SELECT @lBound = Min(Id) FROM Quiz

        SELECT @randno = Round(((@uBound - @lBound) * Rand() + @lBound), 0)
        SET @Counter = 0

        WHILE @counter = 0
        BEGIN

If(( select count(*) from Quiz where isread= true)=( select count(*) from Quiz ))
BEGIN
 update Quiz SET isread=false  
End

            IF EXISTS(SELECT Id FROM Quiz WHERE Id = @randno and isread=false )
            BEGIN
            update Quiz SET isread=true  WHERE Id = @randno                   
            SET NOCOUNT OFF
                SELECT * FROM Quiz WHERE Id = @randno

                SET @counter = 1
            END
            ELSE
            BEGIN
                SELECT @randno = Round(((@uBound - @lBound -1 ) * Rand() + @lBound), 0)
            END
        END 
```

# iphone - iphone：如何为uibeizserpath设置描边颜色设置动画？

> ID：15804013
> 
> 赞同：0
> 
> 时间：2013-04-04T06:29:21.377
> 
> 标签：iphone, uibezierpath, stroke, cashapelayer

我有一个带有水平和垂直 beizer 路径的视图。生成的视图看起来像下面的![在此处输入图像描述](https://i.stack.imgur.com/Gv0KB.png)

现在在触摸视图时，如果用户触摸了路径之一，我必须通过动画更改该路径的颜色，这意味着在触摸路径时，路径的 storke 颜色将被动画更改。

我可以用正常的方式做到这一点，这意味着当用户触摸路径时，我可以改变颜色但不能改变动画效果。

我已经创建了具有 defaultStorkeColor、SelectedStorkeColor 等属性的 UIBeizerPath 的子类，并且我在 drawrect 中操作它们。

我的drawrect是

```
-(void)drawRect:(CGRect)rect 
```

{

```
CGContextRef context = UIGraphicsGetCurrentContext();

for(BCBeizerPath * path in pathsArray)
{
    if(path.selected)
    {
        [path.selectedStrokeColor set];

    }
    else 
    {
        [path.defaultStrokeColor set];   
    }

    [path stroke];

} 
```

}

请帮助我实施。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-09-03T13:53:55.097

我没有尝试此代码，但之前遇到了相同的情况，我通过执行以下操作解决了这个问题：

在使用`-drawRect`中绘制这些模式并将其添加到您的`CAShapeLayer``UIBezierPath``CustomView``layer`

```
[self.layer addSubLayer:self.shapeLayer_main]; 
```

然后获取您希望使用绘制笔划的矩形框架

```
-(void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event {    
    UITouch *touch = [[event allTouches] anyObject];    
    CGPoint touchLocation = [touch locationInView:self];    
    //Check in which rect in your view contains the touch location    
    //Then call the method to draw the stroke with the detected rect as the parameter    
    [self drawStrokeWithRect:touchedRect];    
} 
```

在方法中，

```
-(void)drawStrokeWithRect:(CGRect )touchedRect {
//Create a shapeLayer with desired strokeColor, lineWidth and path(A UIBezierPath)
//This is the layer your are going to animate
//Add this shapeLayer to your self.shapeLayer_main added to the customView's layer
CAShapeLayer * shapeLayer = [CAShapeLayer layer];
shapeLayer.lineWidth = 4;
shapeLayer.strokeColor = strokeColor.CGColor;
shapeLayer.fillColor = transparentColor.CGColor;
shapeLayer.path = [[UIBezierPath bezierPathWithRect:touchedRect]CGPath];
[self.shapeLayer_main addSublayer:shapeLayer];

//Adding Animation to the ShapeLayer
CABasicAnimation *drawAnimation = [CABasicAnimation animationWithKeyPath:@"strokeEnd"];
drawAnimation.duration = 1.0;
drawAnimation.removedOnCompletion = NO;
drawAnimation.fromValue = [NSNumber numberWithFloat:0.0f];
drawAnimation.toValue   = [NSNumber numberWithFloat:1.0f];

[shapeLayer addAnimation:drawAnimation forKey:@"StrokeAnimation"];
} 
```

每次点击视图时，都会使用您在动画中提供的笔触颜色绘制一个矩形。

# asp.net - 哪种是将会话存储在 HashTable 中或逐个存储的最佳方法

> ID：15804014
> 
> 赞同：0
> 
> 时间：2013-04-04T06:29:23.963
> 
> 标签：asp.net, session, hashtable

我对存储多个会话值的最佳方式有些困惑。我的一位朋友告诉我们，定义会话 3-4 次很重，而不是在 HashTable 中定义。就像下面的场景：问题是哪个更好以及为什么。

```
 Hashtable ht = new Hashtable();
        ht.Add("UserID", txtUser.Text);
        ht.Add("Type", type.Text);
        ht.Add("PaypalID", paypal.Text);
        Session["hashtab"] = ht;          //-- Is this better way or below one.

        Session["UserID"] = txtUser.Text;
        Session["Type"] = type.Text; 
        Session["PaypalID"] = paypal.Text; 
```

**任何建议真的很感激！**

*请注意，在上面的场景中，我的 TL 告诉我哈希表在服务器上占用了少量内存（假设它需要 500 kb）而不是一个接一个（假设它需要 3MB）。*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:33:13.960

我会使用第二种风格。

这不太可能是影响应用程序性能的领域。

如果您的会话状态正在进行中，则任何节省都可能微不足道。

如果您的会话状态保存在状态服务器或 SQL Server 中，那么 IPC 开销和序列化成本可能会淹没任何像这样的微优化。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:36:12.677

第二种风格通常是首选，请查看：http: [//msdn.microsoft.com/en-us/library/ms178581%28v=vs.100%29.aspx](http://msdn.microsoft.com/en-us/library/ms178581%28v=vs.100%29.aspx)

另一方面，您也可以检查一下：[ASP.NET: Multiple Session objects in a single application](https://stackoverflow.com/questions/722171/asp-net-multiple-session-objects-in-a-single-application)

# javascript - 如何在浏览器中运行javascript代码

> ID：15804016
> 
> 赞同：0
> 
> 时间：2013-04-04T06:29:29.837
> 
> 标签：javascript, asp.net

我在 asp.net 中有一个 java 脚本代码，它在所有浏览器中都可以正常工作，但是当浏览器中禁用 javascript 时，脚本不起作用，所以任何人都可以建议我在哪里编写代码

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:30:21.310

> 所以任何人都可以建议我在哪里编写代码

除了在服务器上进行之外，您别无选择。当然，有些级别的交互只能使用 javascript 进行。例如 AJAX 调用，订阅 DOM 元素中的事件，如`onchange`，... 如果用户禁用 javascript，您的网站将变得不那么动态，这是肯定的。

如果您绝对需要使用 javascript，您可以告诉用户您的网站需要它才能正常工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T06:30:51.373

不幸的是，没有办法解决它...如果禁用了javascript...然后给用户一条消息以重新打开它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T06:44:29.253

您可以使用 noscript-tag 提醒用户他或她应该重新打开它 javascript

```
 <noscript>
       Javascript is disabled
    </noscript> 
```

# c# - 更新存储过程不起作用

> ID：15804021
> 
> 赞同：0
> 
> 时间：2013-04-04T06:30:04.810
> 
> 标签：c#, asp.net, stored-procedures

我想知道以下用于更新地址的存储过程有什么问题（如果有的话）：我还给出了我的数据库图像以获得清晰的想法......

```
ALTER PROCEDURE [dbo].[usp_UpdateAddress] 
    (@OriginalEmail nvarchar(50), @FirstName varchar(50), @LastName varchar(50), 
     @Country_ID int, @AddressLine1 varchar(50), @AddressLine2 varchar(50),
     @AddressLine3 varchar(50), @Telephone varchar(50), @Email nvarchar(50), 
     @City varchar(50), @State_ID int, @PostalCode varchar(50), @Mobile varchar(50))
AS
BEGIN
   DECLARE @User_ID INT

   SELECT @User_ID = ID FROM AUser Where Email = @OriginalEmail

   UPDATE [AUserAddress] 
   SET [AUser_ID] = @User_ID, [FirstName] = @FirstName, [LastName] = @LastName, 
       [Country_ID] = @Country_ID, [AddressLine1] = @AddressLine1, 
       [AddressLine2] = @AddressLine2, [AddressLine3] = @AddressLine3, 
       [Telephone] = @Telephone, [Email] = @Email, [City] = @City, 
       [State_ID] = @State_ID, [PostalCode] = @PostalCode, [Mobile] = @Mobile 
   WHERE
       Email = @OriginalEmail
END 
```

从 C# 调用：

```
private void UpdateAddress()
{
        try
        {

            string strSession = objGetSession.GetEmailFromSession();
            con.Open();
            SqlCommand sqlCmd = new SqlCommand("usp_UpdateAddress", con);
            sqlCmd.CommandType = CommandType.StoredProcedure;
            sqlCmd.Parameters.Add("@OriginalEmail ", SqlDbType.NVarChar, 50).Value = strSession;
            sqlCmd.Parameters.Add("@FirstName", SqlDbType.VarChar, 50).Value = txtFirstName.Text;
            sqlCmd.Parameters.Add("@LastName", SqlDbType.VarChar, 50).Value = txtLastName.Text;
            sqlCmd.Parameters.Add("@AddressLine1", SqlDbType.VarChar, 50).Value = txtAddressLine1.Text;
            sqlCmd.Parameters.Add("@AddressLine2", SqlDbType.VarChar, 50).Value = txtAddressLine2.Text;
            sqlCmd.Parameters.Add("@AddressLine3", SqlDbType.VarChar, 50).Value = txtAddressLine3.Text;
            sqlCmd.Parameters.Add("@Telephone", SqlDbType.VarChar, 50).Value = txtTelephone.Text;
            sqlCmd.Parameters.Add("@Email", SqlDbType.NVarChar, 50).Value = txtEmailAddress.Text;
            sqlCmd.Parameters.Add("@Country_ID", SqlDbType.Int).Value = ddlCountry.SelectedItem.Value;
            sqlCmd.Parameters.Add("@City", SqlDbType.VarChar, 50).Value = txtCity.Text;
            sqlCmd.Parameters.Add("@State_ID", SqlDbType.Int).Value = ddlState.SelectedValue.ToString();
            sqlCmd.Parameters.Add("@PostalCode", SqlDbType.VarChar, 50).Value = txtPostalCode.Text;
            sqlCmd.Parameters.Add("@Mobile", SqlDbType.VarChar, 50).Value = txtMobile.Text;

            sqlCmd.Connection = con;

            sqlCmd.ExecuteNonQuery();

            con.Close();

            mpeTest.Show();
            Response.Write("<script> alert('Address Updated!') </script>");
        }
        catch (Exception e)
        {
            Response.Write("An Error Occurred" + e);
        }
    } 
```

![D b](https://i.stack.imgur.com/g3dA5.png)

存储过程没有执行吗？调试显示在 Update Address() 中它确实采用了新值，但是执行完成后，数据库没有更新......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:42:50.550

如果你`UPDATE`直接加入表格怎么办？

```
UPDATE  a
SET     a.[auser_id] = b.ID, 
        a.[firstname] = @FirstName, 
        a.[lastname] = @LastName, 
        a.[country_id] = @Country_ID, 
        a.[addressline1] = @AddressLine1, 
        a.[addressline2] = @AddressLine2, 
        a.[addressline3] = @AddressLine3, 
        a.[telephone] = @Telephone, 
        a.[email] = @Email, 
        a.[city] = @City, 
        a.[state_id] = @State_ID, 
        a.[postalcode] = @PostalCode, 
        a.[mobile] = @Mobile 
FROM    [auseraddress] a
        INNER JOIN AUser b 
            ON  a.Email = b.Email
WHERE   b.email = @OriginalEmail 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:00:20.057

你的存储过程是错误的。

根据您的图像， AUserAddress 表不包含名为*Email*的列。

# css - 如何从 HTML 表格中删除特定单元格？

> ID：15804029
> 
> 赞同：2
> 
> 时间：2013-04-04T06:30:34.600
> 
> 标签：css, html, html-table, cell

假设我有 HTML 表格，我想从 HTML 表格中删除一个单元格，如下所示：

![在此处输入图像描述](https://i.stack.imgur.com/wJe4Z.png)

我已将单元格边框颜色更改为白色，因为整个表格的边框颜色为黑色，因此显示为灰色。问题是我无法删除表格边框，所以我使用了**border-collapse:collapse**

那么如何更改它以使边框颜色保持黑色并且单元格不出现在表格中？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T06:31:57.987

你会使用这样的东西：

```
table tr:last-child td:first-child { display: none; } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T06:48:48.127

`visibility`您可以通过将 设置为来隐藏单元格`hidden`。

[http://jsfiddle.net/S5tnv/](http://jsfiddle.net/S5tnv/)

**CSS**

```
td {
    visibility: hidden;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-06-22T11:45:08.780

这对我有用，只需尝试将样式属性放在您希望没有边框且边框大小属性为零像素的单元格中：

```
<td style="border:0px"></td> 
```

# windows-phone-7 - 列表框项目没有被解雇

> ID：15804030
> 
> 赞同：0
> 
> 时间：2013-04-04T06:30:35.873
> 
> 标签：windows-phone-7, listbox, click, listitem

我在全景图中使用列表框，例如如果全景图有 5 个项目，那么每个全景图项目都包含一个列表框。

该列表项有时不会被解雇，主要是第二次。对于第一个它们，当单击列表项时，它会导航到下一页。当我再次回来时，我点击列表项不会被解雇。

我正在将 SelectionChanged 用于列表单击侦听器。

我从网络搜索中得到了使用 stackpannel 而不是 grid in 的建议，但是在某些地方由于组件排列而无法使用 stackpannel。

请建议我更改为 stackpannel 是唯一的方法，或者是否有任何其他解决方案。

欢迎任何想法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:22:11.130

当在 ListBox 中选择一项时，它会保留 selectedindex 的记录。当再次点击相同的元素时， selectedindex 没有变化，因此不会触发 SelectionChanged。因此，您可以做的是在每次选择后或返回到列表框页面后将 selectedindex 设置回 -1

```
//In the onnavigatedto function, set the listbox selectedindex to -1
protected override void OnNavigatedTo(System.Windows.Navigation.NavigationEventArgs e)
    {
        MyListBox.SelectedIndex = -1;
    } 
```

并像这样修改您的 selectionchanged 事件

```
 private void MyListBox_SelectionChanged(object sender, SelectionChangedEventArgs e)
    {
        //let our code run only if index is not -1
        if (MyListBox.SelectedIndex != -1)
        {
            //Your selectionchanged code
        }
    } 
```

希望这可以帮助

更新：对于您的全景案例

```
private void MyListBox_SelectionChanged(object sender, SelectionChangedEventArgs e)
    {
        ListBox listbox = (sender as ListBox);
        //let our code run only if index is not -1
        if (listbox.SelectedIndex != -1)
        {
            //Your selectionchanged code
            At the end of it set the index back to -1
            listbox.SelectedIndex = -1;
        }
    } 
```

# java - 在网站上显示摄像头供稿以扫描 QR 码

> ID：15804044
> 
> 赞同：1
> 
> 时间：2013-04-04T06:31:18.887
> 
> 标签：java, web, qr-code

我正在使用小程序扫描二维码。我在我的网站上使用这个小程序。使用小程序的优点是，因为它是 java 程序，所以扫描速度很快。但问题是它是一项古老的技术。用户还需要下载 JRE 才能运行小程序。

另一种选择是使用 jquery 来访问网络摄像头。但问题是 jquery 的 QR 扫描非常慢。

任何人都请帮助找到更好的技术来使用 java 在我的网站中构建二维码扫描仪，因为它非常快。

此致，

阿伦利 MJ

# android - 我想将画布的内容保存到位图

> ID：15804047
> 
> 赞同：1
> 
> 时间：2013-04-04T06:31:25.433
> 
> 标签：android, android-canvas

我正在使用带有画布的普通视图我使用以下代码将视图内容获取到位图

`this.setDrawingCacheEnabled(true); gSaveBitmap= this.getDrawingCache();`

但它给了我以下错误。

```
 FATAL EXCEPTION: main
java.lang.IllegalArgumentException: bitmap size exceeds 32bits
at android.graphics.Bitmap.nativeCreate(Native Method)
at android.graphics.Bitmap.createBitmap(Bitmap.java:695)
at android.view.View.buildDrawingCache(View.java:6630)
at android.view.View.getDrawingCache(View.java:6475)
at android.view.ViewGroup.drawChild(ViewGroup.java:1657)    
at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1459)
at android.view.ViewGroup.drawChild(ViewGroup.java:1730)
at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1459)
at android.view.ViewGroup.drawChild(ViewGroup.java:1730)
at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1459)
at android.view.View.draw(View.java:6973)
at android.widget.FrameLayout.draw(FrameLayout.java:357)
at android.view.ViewGroup.drawChild(ViewGroup.java:1732)
at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1459)
at android.view.ViewGroup.drawChild(ViewGroup.java:1730)
at android.view.ViewGroup.dispatchDraw(ViewGroup.java:1459)
at android.view.View.draw(View.java:6973)
at android.widget.FrameLayout.draw(FrameLayout.java:357)
at com.android.internal.policy.impl.PhoneWindow$DecorView.draw(PhoneWindow.java:1997)
at android.view.ViewRoot.draw(ViewRoot.java:1600)
at android.view.ViewRoot.performTraversals(ViewRoot.java:1321)
at android.view.ViewRoot.handleMessage(ViewRoot.java:1957)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:150)
at android.app.ActivityThread.main(ActivityThread.java:4277)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:507)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
at dalvik.system.NativeStart.main(Native Method) 
```

如果你们有解决方案，请告诉我。以下是我的 onDraw()。

```
 @Override
protected void onDraw(Canvas canvas) 
{       
    try
    {
        super.onDraw(canvas);

            Matrix matrix = canvas.getMatrix();
            matrix.preScale(scaleFactor,scaleFactor, (currentScreenX + (MapConfig.getScreenSize().x/2)), (currentScreenY + MapConfig.getScreenSize().y/2));//here
            canvas.setMatrix(matrix);

            try
            {
                if(save_stare)
                {
                    if(gSaveBitmap!=null)
                        canvas.drawBitmap(gSaveBitmap, tileBitmaprect.left, tileBitmaprect.top, null);
                }
            }
            catch(Exception e)
            {
                Log.e("draw xception--- >", e.toString());
            }
        canvas.drawPaint(canvasPaint);          
        if (currentTiles==null)
            return;
        currentTileSet = currentTiles.entrySet();
        currentTileIterator = currentTileSet.iterator();
        Integer col;
        Integer row;

        Bitmap tileBitmap;
        String[] tileRowCol;
        while (currentTileIterator.hasNext())
        {
            Map.Entry<String,Bitmap> me = (Map.Entry<String,Bitmap>)currentTileIterator.next();             
            tileRowCol = me.getKey().toString().split(",");             
            col = Integer.parseInt(tileRowCol[0]);
            row = Integer.parseInt(tileRowCol[1]);
            tileBitmaprect.left = MapUtils.columnToScreen(col);
            tileBitmaprect.top = MapUtils.columnToScreen(row);
            tileBitmaprect.right = tileBitmaprect.left + MapConfig.tileSize;
            tileBitmaprect.bottom = tileBitmaprect.top + MapConfig.tileSize;
            tileBitmap = (Bitmap)me.getValue();
            if ((tileBitmap != null) && (tileBitmap.equals(MapConfig.noTileBitmap)==false))             
                canvas.drawBitmap(tileBitmap, null, tileBitmaprect, null);
            if (MapConfig.labelTiles)
                canvas.drawText("(" + col + "," + row + ")", tileBitmaprect.left, tileBitmaprect.top, textPaint);           
        }

        Overlays.drawCustomPois(canvas, currentLevel);
        Overlays.drawPanoPointer(canvas, currentLevel);
        Overlays.drawLocationPointer(canvas, currentLevel);
        Overlays.drawPoiBubble(canvas);
    }
    catch (Exception ex)
    {
        ex.printStackTrace();
    }
} 
```

# java - 调试 - ConfigurationUtils.locate()：基数为空

> ID：15804055
> 
> 赞同：1
> 
> 时间：2013-04-04T06:32:22.200
> 
> 标签：java, apache, apache-commons

我正在使用 apache common PropertiesConfiguration 来加载属性文件，目前我正在使用类似这样的东西

```
public class PropertiesConfig {
private Configuration config;
private Logs logger = new Logs();

public PropertiesConfig(){
    try {
        config = new PropertiesConfiguration(Constant.PROP_FILE_PATH+Constant.PROP_FILE_NAME);
    } catch (ConfigurationException e) {
        logger.error(e.getMessage(), e);
    }
    logger.info("Properties File Loaded : "+Constant.PROP_FILE_PATH+Constant.PROP_FILE_NAME);
    }
 public String[] getPropertiesByArray(String key){
    return config.getStringArray(key);
}
} 
```

这就是我在控制器类中加载它的方式

```
 public void loadConfig(){
    this.dir = config.getPropertiesByArray(Constant.PROP_DIR_CONFIG);
    logger.info("Loading Dir path list from propeties config");
    for(String d : dir){
        logger.info("Dir Set: "+d);
} 
```

但在我的控制台中，我有这个调试消息

```
2013-04-04 14:14:18,657
DEBUG - ConfigurationUtils.locate(): base is null, name is conf/configuration.properties

2013-04-04 14:14:18,672
DEBUG - Loading configuration from the path conf\configuration.properties

2013-04-04 14:14:18,688
INFO  - Properties File Loaded : conf/configuration.properties 
```

它正在加载我的属性文件，但我不确定如何摆脱该调试消息

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-08T15:58:41.060

前两条消息只是调试消息。您的记录器必须配置为显示它们。

您必须将您的记录器配置为将`org.apache.commons.configuration.ConfigurationUtils`消息过滤为 INFO（或以上）。

# vb.net - datagridview currentcell 中的 if 语句更改

> ID：15804057
> 
> 赞同：1
> 
> 时间：2013-04-04T06:32:37.617
> 
> 标签：vb.net, datagridview, indexing, row

当您移动到另一个单元格时，检查当前行的正确条件是什么。

我试试这段代码：

```
Private Sub Legal_RecordsDataGridView_CurrentCellChanged(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Legal_RecordsDataGridView.CurrentCellChanged

    if Legal_RecordsDataGridView.CurrentRow.Index = Legal_RecordsDataGridView.CurrentCellAddress.Y then

        msgbox("changed")
        else
        msgbox("no")

    endif
End Sub 
```

我总是得到“否”的结果，因为它们总是具有相同的索引。

当我移动到另一个单元格时，如何检查`CurrentRow`索引是否相同，例如当我移动到另一个单元格但我想要结果的同一行`no`但当我移动到另一个单元格时，就像我在column1 但我移到 column2 但不同的行然后结果是`changed`

我希望你明白我的意思！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-28T03:28:44.353

尝试在 CurrenCellChanged 事件之后获取行索引..

例如..

```
Private Sub Legal_RecordsDataGridView_CurrentCellChanged(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Legal_RecordsDataGridView.CurrentCellChanged

'Add the condition here..
'Say, what's the value of last row index? If you don't have a value for last row index, then exit sub

'get here the last row index (set the variable), this should give you the row index that you can use in your next cell change event..
mynewrowindex = Legal_RecordsDataGridView.currentrow.index

End Sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:08:41.267

试试这个代码

`mRow_Leave`是一个全局变量

```
Dim mRow_Leave as integer

Private Sub DataGridView1_CurrentCellChanged(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles DataGridView1.CurrentCellChanged

        If mRow_Leave = DataGridView1.CurrentCell.RowIndex Then

            MsgBox("no")
        Else
            MsgBox("change")
        End If
        mRow_Leave = DataGridView1.CurrentCell.RowIndex
    End Sub

Private Sub DataGridView1_RowLeave(ByVal sender As System.Object, ByVal e As System.Windows.Forms.DataGridViewCellEventArgs) Handles DataGridView1.RowLeave

   mRow_Leave = e.RowIndex

End Sub 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:26:00.240

```
Private Sub Legal_RecordsDataGridView_CurrentCellChanged(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Legal_RecordsDataGridView.CurrentCellChanged

    if Legal_RecordsDataGridView.cells.Index = Legal_RecordsDataGridView.CurrentCellAddress.Y then

        msgbox("changed")
        else
        msgbox("no")

    endif
End Sub 
```

# c# - 选择一个表单标签和所有输入项

> ID：15804058
> 
> 赞同：0
> 
> 时间：2013-04-04T06:32:58.657
> 
> 标签：c#, html

嗨，任何人都知道任何可以在包含 HTML 的字符串中选择表单的好的 C# 库

```
<html>
<body>
some text or layout
..
<form id="blabla" name="blabla" method="post" action="register.aspx">
<input type="hidden" name="token" value="12345">
<input type="text" name="username" value="">
<input type="text" name="password" value="">
</form>
..
some text or layout
</body>

string HTML = (above)
FormObject formtag = GetForm(HTML); // get only the <form>..</form>
var a = formtag.Method // get or post
var b = formtag.Action // get the URL it post

// construct the post string
// username={0}&password={1}&token=12345
var poststring = string.Format(GetPostString(formtag), "Anima", "abcdef");
// result
// username=Anima&password=abcdef&token=12345 
```

是否有任何 C# 库可以获取表单和表单内的所有输入项？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:34:40.033

您可以查看[`HTML Agility Pack`](http://htmlagilitypack.codeplex.com/)允许您解析 HTML 的库：

```
var htmlDoc = new HtmlAgilityPack.HtmlDocument();
htmlDoc.LoadHtml(html);
var form = htmlDoc.DocumentNode.SelectSingleNode("//form[@id='blabla']");
if (form != null)
{
    ...
} 
```

# c# - 运行 System.Threading.Tasks.Task 时出现异常

> ID：15804059
> 
> 赞同：9
> 
> 时间：2013-04-04T06:33:00.247
> 
> 标签：c#, .net, task-parallel-library, task

考虑以下代码，它使用带有 CancellationTokenSource 的基本任务库功能。它启动一个线程，用价格填充字典并从 SQL 服务器数据库中读取数据。线程在大约 10 分钟后结束，每 2 小时再次启动，首先调用 Cancel 以防线程仍在运行。

```
private CancellationTokenSource mTokenSource = new CancellationTokenSource();

internal Prices(Dictionary<string, Dealer> dealers)
{
    mDealers = dealers;
    mTask = Task.Factory.StartNew
            (() => ReadPrices(mTokenSource.Token), mTokenSource.Token);
}

internal void Cancel() 
{
    mTokenSource.Cancel();
}
private void ReadPrices(CancellationToken ct) 
{
     using (SqlConnection connection = 
            new   SqlConnection(ConfigurationManager.AppSettings["DB"]))   
     {
         connection.Open();
         var dealerIds = from dealer in mDealers.Values 
                         where dealer.Id != null 
                         select dealer.Id;
         foreach (var dealerId in dealerIds) 
         {
             if (!ct.IsCancellationRequested)
             {
                 FillPrices(connection);
             }
             else
                break;
        }
    }
} 
```

现在，应用程序在某个时候崩溃，事件日志中出现以下异常。

> 应用程序：Engine.exe 框架版本：v4.0.30319 描述：进程因未处理的异常而终止。异常信息：System.AggregateException 堆栈：在 System.Threading.Tasks.TaskExceptionHolder.Finalize()

它必须与这里的代码有关，因为任务库没有在其他任何地方使用，但我无法弄清楚代码有什么问题。有谁知道这里可能出了什么问题？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2013-04-04T06:53:41.930

任务喜欢被倾听。好像有什么不开心的。但是，您确实有“最后的机会”来听到它：

```
TaskScheduler.UnobservedTaskException += (sender, args) =>
{
    foreach (var ex in args.Exception.InnerExceptions)
    {
        Log(ex);
    }            
    args.SetObserved();
}; 
```

请注意，这不是*修复*- 它旨在让您看到什么`Task`正在爆炸以及出现什么错误。这`SetObserved()`将防止它杀死您的应用程序。但这里的*修复*是理想的：

*   不要让你的任务丢掉，
*   或确保您稍后在那里检查任务的状态

它很可能对您的取消检测不满意。IIRC 的首选方法是：

```
foreach(...) {
    if(ct.IsCancellationRequested) {
        // any cleanup etc
        ct.ThrowIfCancellationRequested();
    } 
    ...
} 
```

或者更简单地说，如果不需要清理，只需：

```
foreach(...) {
    ct.ThrowIfCancellationRequested();
    ...
} 
```

同样，它可能只是一个数据访问异常。与数据库交谈时可能会发生**许多异常。**超时、死锁、无法连接等

# c# - 在 XML 中的特定位置插入数据

> ID：15804063
> 
> 赞同：1
> 
> 时间：2013-04-04T06:33:10.463
> 
> 标签：c#, xml, string

我想读取一个 XML 文件并匹配标签`</contrib-group>`并在这个标签之后写一个字符串

```
string Final = File.ReadAllText(Npath);
string Oxml = path + "\\" + Oword + ".abs.xml";
if (File.Exists(Oxml))
{
    StreamReader xml = new StreamReader(Oxml,Encoding.UTF8);
    string xmltag = xml.ReadToEnd();
    //File.OpenWrite(Oxml);
    xml.Close();
    StreamWriter write = new StreamWriter(Oxml, true, Encoding.UTF8);
    Match tag = Regex.Match(xmltag, @"</contrib-group>");
    if (tag.Success == true)
    {
        write.WriteLine(Environment.NewLine);
        write.Write(Final);

    }
} 
```

所以我需要将字符串写入匹配的 XML 标记后`Final`调用的 XML 文件`Oxml``</contrib-group>`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:56:36.260

如果您愿意将新内容保存为可以使用的有效 XML 文件，您应该使用 XML 类来实现该方法，这应该如下所示（未经测试）：

```
XmlDocument doc = new XmlDocument();
doc.Load("YourFile.xml");
XmlElement root = doc.DocumentElement;
XmlNodeList elemList = root.GetElementsByTagName("contrib-group");
for (int i=0; i < elemList.Count; i++)
{       
    XmlNode xnode = elemList[i];
    XmlNode xnodeParent = xnode.ParentNode;
    XMLNode newNode = doc.CreateNode(XmlNodeType.Element, "NodeName", "");
    newNode.InnerText = "ContentInsideTheNode";
    xnodeParent.InsertAfter(newNode, xnode);
}
doc.Save("YourFile.xml"); 
```

如果您只需要将字符串替换为其他目的，而不是将其保存在不存在有效 XML 的地方，您可以将其作为字符串处理并使用[String.Replace (String, String)](http://msdn.microsoft.com/en-us/library/fk49wtc1.aspx)方法

```
string searchedTag = @"</contrib-group>";    
string tagAndNewContent = @"</contrib-group>" + newContent;
string fileContentString = File.ReadAllText("YourFile.xml");    
string ouput = fileContentString.Replace(searchedTag, tagAndNewContent); 
```

# python - 如何将主页重定向到我们自己的？（OpenERP 版本 7）

> ID：15804065
> 
> 赞同：1
> 
> 时间：2013-04-04T06:33:20.230
> 
> 标签：python, xml, openerp

当我们启动 OpenERP 7 时，它将加载并显示**消息**页面作为其主页。如何从主页更改该页面并重定向到我们自己的页面？

[开瓶器 7]

# android - 如何每行显示两个项目，android listview

> ID：15804072
> 
> 赞同：-4
> 
> 时间：2013-04-04T06:33:37.603
> 
> 标签：android, android-listview

我在设计和实施布局时遇到问题，例如：![在此处输入图像描述](https://i.stack.imgur.com/LCJus.png)

谁能指导我如何每行添加两个项目？

**我尝试过gridview，但无法实现这个完美的设计。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:49:46.770

创建一个列表`Pair<YourObjectType, YourObjectType>`并在您的适配器中根据 pair.first、pair.second 对象设置您的视图

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:53:29.867

实际上，看起来每行有 4 个项目：2`ImageView`和 2 `TextView`。要实现这一点，您需要使用自定义`ArrayAdapter`查看我昨天给出的有关如何创建的答案：

[如何根据从 web 服务收到的结果构建 ArrayAdapter？](https://stackoverflow.com/questions/15799814/how-to-build-arrayadapter-from-result-received-from-webservice/15799946#15799946)

# wordpress - 使用 twitter 引导程序的不需要的锚标记

> ID：15804075
> 
> 赞同：0
> 
> 时间：2013-04-04T06:33:52.680
> 
> 标签：wordpress, twitter-bootstrap, anchor

我正在使用 twitter bootstrap（不确定这是否是问题，但可能值得一提）和 wordpress。这是一个自定义页面，我完全使用 html 编辑器编写它（没有使用所见即所得编辑器完成）

我想做一个可点击的缩略图，后跟一个标题

```
<li class="span4">
<a class="thumbnail text-center" href="#">
<center><img alt="" src="[acf field='thumb1']" /></center>
<h3>Mobilier de Bureau</h3>
</a>
Nous avons un vaste choix de mobilier de bureau pour tous types de besoins. Notre premier objectif: fournir un mobilier de bureau de qualité, assorti d'un service après-vente personnalisé. Les meubles montrés sur notre site ne sont qu'une infime partie de ce que nous pouvons vous proposer. N'hésitez pas à nous contacter. S'il vous faut un mobilier, nous l'avons.
</li> 
```

但是当我转到我的页面时，我得到了一个奇怪的不需要的锚标记，它不知从何而来：

```
<li class="span4">
<a class="thumbnail text-center" href="#">
<center>
<img alt="" src="http://www.jeango.net/burama/assets/mobilier.png"/>
</center>
<p/>
<h3>Mobilier de Bureau</h3>
</a>
<p>
<a class="thumbnail text-center" href="#"/> <------------ Unwanted anchor
<br/>
Nous avons un vaste choix de mobilier de bureau pour tous types de besoins. Notre premier objectif: fournir un mobilier de bureau de qualité, assorti d’un service après-vente personnalisé. Les meubles montrés sur notre site ne sont qu’une infime partie de ce que nous pouvons vous proposer. N’hésitez pas à nous contacter. S’il vous faut un mobilier, nous l’avons.
</p>
</li> 
```

# websocket - 实时应用需要推送服务建议

> ID：15804077
> 
> 赞同：2
> 
> 时间：2013-04-04T06:33:59.460
> 
> 标签：websocket, socket.io, firebase, pusher, pubnub

我正在寻找一个实时托管的推送/套接字服务（付费很好），它将处理来自许多客户端（JS）和服务器 api 的许多连接/通道，它可以从 PHP 脚本订阅/发布到这些通道。

这是一个例子：

客户端 UI 渲染了 100 辆卡车的车队，当卡车被修改时，其数据被推送到频道（例如 /updates/truck/34）到服务器（PHP 订阅者），更新数据库并将收据/数据发送回单一卡车通道。

我们有一个在 Firebase.io 中工作的原型，但我们不需要 firebase 数据库，我们只需要实时传输。firebase.io 的一大特点是它很轻，我们可以一次订阅许多小频道。这有助于减少有效负载，因为仅传输已更改的对象数据。

如果我错了，请纠正我，但我认为 pusher 和 pubnub 将允许我为每个打开网站的客户创建 100 个卡车 pub/sub（在本例中）？

任何人都可以提供建议吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T13:00:18.543

我可以确认您可以使用[Pusher](http://pusher.com)来实现这一点 -*我为 Pusher 工作*。

PubNub 以前将每个通道都算作一个连接，但现在他们似乎引入了多路复用。[此常见问题解答](https://help.pubnub.com/entries/21882797-How-Many-Channels-does-Multiplexing-Support-)说明您可以通过多路连接支持 100 个通道。

因此，这两种服务都将能够实现您的需求。通过我维护的这个[实时 Web 技术指南](http://www.leggetter.co.uk/real-time-web-technologies-guide)，还将提供更多选项。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T21:49:49.767

[我为 Firebase 工作]

即使您不需要持久性功能，Firebase 也应该继续为您工作。我们不知道在任何情况下，我们的坚持实际上会让事情变得更难，而且在许多情况下，它实际上会让你的生活变得更轻松。例如，您可能希望能够询问“卡车的当前位置是什么”，而无需等待下一次发送更新。

如果您遇到坚持实际上对您不利的情况，我们很乐意听到。这当然不是我们的意图。

另外——我们不是 Firebase.io——我们只是 Firebase（尽管我们拥有 firebase.io 域名）。

# c++ - C++ 计时器类没有编译，我不明白为什么

> ID：15804090
> 
> 赞同：0
> 
> 时间：2013-04-04T06:34:48.443
> 
> 标签：c++

我想在 Windows 上使用一个很棒的 C++ 计时器类：

[http://www.songho.ca/misc/timer/timer.html](http://www.songho.ca/misc/timer/timer.html)

[http://www.songho.ca/misc/timer/files/timer.zip](http://www.songho.ca/misc/timer/files/timer.zip)

但是，当我尝试在 VS2010 上构建它时，它告诉我例如“endCount”没有声明。

但是，我可以看到它是。

“#ifded WIN32”部分没有变灰，所以我猜这部分是“触手可及”并被执行。

```
#ifdef WIN32
    LARGE_INTEGER frequency;                    // ticks per second
    LARGE_INTEGER startCount;                   //
    LARGE_INTEGER endCount;                     // 
```

我想总体上有些东西坏了，但我看不出是什么。

有人可以看看这个项目，看看为什么会出错？

这是cpp的一部分：

```
#include "Timer.h"
#include <stdlib.h>
#include "stdafx.h"
///////////////////////////////////////////////////////////////////////////////
// constructor
///////////////////////////////////////////////////////////////////////////////
Timer::Timer()
{
#ifdef WIN32
    QueryPerformanceFrequency(&frequency);
    startCount.QuadPart = 0;
    endCount.QuadPart = 0;
#else
    startCount.tv_sec = startCount.tv_usec = 0;
    endCount.tv_sec = endCount.tv_usec = 0;
#endif

    stopped = 0;
    startTimeInMicroSec = 0;
    endTimeInMicroSec = 0;
} 
```

这是标题：

```
#ifndef TIMER_H_DEF
#define TIMER_H_DEF

#ifdef WIN32   // Windows system specific
#include <windows.h>
#include "stdafx.h"
#else          // Unix based system specific
#include <sys/time.h>
#endif

class Timer
{
public:
    Timer();                                    // default constructor
    ~Timer();                                   // default destructor

    void   start();                             // start timer
    void   stop();                              // stop the timer
    double getElapsedTime();                    // get elapsed time in second
    double getElapsedTimeInSec();               // get elapsed time in second (same as getElapsedTime)
    double getElapsedTimeInMilliSec();          // get elapsed time in milli-second
    double getElapsedTimeInMicroSec();          // get elapsed time in micro-second

protected:

private:
    double startTimeInMicroSec;                 // starting time in micro-second
    double endTimeInMicroSec;                   // ending time in micro-second
    int    stopped;                             // stop flag 
#ifdef WIN32
    LARGE_INTEGER frequency;                    // ticks per second
    LARGE_INTEGER startCount;                   //
    LARGE_INTEGER endCount;                     //
#else
    timeval startCount;                         //
    timeval endCount;                           //
#endif
};

#endif // TIMER_H_DEF 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T06:50:14.307

在VC中，之前的一切都`#include "stdafx.h"`被忽略了。包括`Timer.h`和`stdlib.h`之后`stdafx.h`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T06:51:51.707

`#include "stdafx.h"`应该始终是 .cpp 文件中的第一个包含。在编译器跳过它之前包含它，因为它假定这些是预编译头文件的一部分。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:22:07.723

作为替代方案，禁用包含预编译的标头。

在项目属性 -> C/C++ -> 预编译头文件中。

将“创建/使用预编译头”设置为“不使用预编译头”。

# refinerycms - 如何获取炼油厂当前用户的姓名？

> ID：15804093
> 
> 赞同：0
> 
> 时间：2013-04-04T06:34:54.797
> 
> 标签：refinerycms

在 RefineryCMS 中，对于某些功能，我必须存储当前登录用户的名字和姓氏。

如何获取登录用户的名字和姓氏？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-29T10:05:26.847

在完成这个实现的过程中，我发现了 r`efinery user table does not have column to store first name, last name`或者关于用户的任何基本细节。

因此，第一步是根据要求创建一个具有 first_name、last_name 等的迁移文件。

> $ rails 生成迁移 AddFirstNameLastNameToRefineryUsers first_name:string last_name:string

然后运行

> $ 耙分贝：迁移

现在，为用户模型创建一个装饰器。

> 路径 :: /app/decorators/models/refinery/user_decorator.rb

创建装饰器：[用于创建装饰器的炼油厂文档链接](http://refinerycms.com/guides/extending-controllers-and-models-with-decorators)

在该模型中添加此行

> attr_accessible :first_name, :last_name
> 
> 验证 :first_name,:last_name, :presence => true

现在在视图区域添加这条线

> *   /app/views/users/new.html.erb

```
 <div class='field'>
    <%= f.label :first_name %>
    <%= f.text_field :first_name, :class => 'larger widest' %>
  </div>
  <div class='field'>
    <%= f.label :last_name %>
    <%= f.text_field :last_name, :class => 'larger widest' %>
  </div> 
```

现在，当用户第一次登录时，Rails 将保存这些值。

# java - 我想在android中的if条件中创建方法

> ID：15804094
> 
> 赞同：-2
> 
> 时间：2013-04-04T06:34:59.163
> 
> 标签：java, syntax-error

通过使用 onItemClick 并且如果条件我将字符串数组与原始文件夹 MP3 文件匹配通过单击 listview 歌曲，我需要通过调用该 mplay 方法来播放其他活动中的歌曲。请帮助我....

```
public void onItemClick(AdapterView<?> parent, View view, int position,long id) 
{     
    Intent intent = new Intent(this, Play.class);
    startActivity(intent);

    MediaPlayer mPlayer2;
    MediaPlayer mPlayer3;

    if(position==0)
    {
        public void mplay() **<--------- I Get error in this Line**
                    {
        mPlayer2= MediaPlayer.create(this, R.raw.gayatri);
        mPlayer2.start();
                    }

    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:41:56.067

您必须调用`mplay()`，而不是在 if 条件下创建 mpaly()

```
public void onItemClick(AdapterView<?> parent, View view, int position,long id) 
{     
    Intent intent = new Intent(this, Play.class);
    startActivity(intent);

    MediaPlayer mPlayer2;
    MediaPlayer mPlayer3;

    if(position==0)
    {
       mplay();
      //or mplay(R.raw.gayatri);
    }

}

 public void mplay()
                    {
        mPlayer2= MediaPlayer.create(activity.this, R.raw.gayatri);
        mPlayer2.start();
                    }

  public void mplay(int id)
                        {
            mPlayer2= MediaPlayer.create(activity.this, id);
            mPlayer2.start();
                        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:41:59.770

在 Java 中你不能做这样的事情，但你可以返回一个匿名类的实例，其中只包含一个方法。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T06:44:38.863

在项目上单击

```
if(position==0)
{
   mplay();
} 
```

在您的活动中定义方法 mplay()

```
 public void mplay()
       {

        //do something
       } 
```

# javascript - 如何在可视化 Web 开发人员中将脚本添加到 aspx 表单

> ID：15804096
> 
> 赞同：0
> 
> 时间：2013-04-04T06:35:03.033
> 
> 标签：javascript, asp.net, visual-web-developer-2010

我已经在网上搜索并观看了有关此的视频，但没有人真正提供帮助。我想要做的是在 Visual web developer 中将一个已经键入的 java 脚本文件添加到我的 aspx 表单中。所有人都告诉我，我应该添加：

```
<html>
<head> 
<title><title>
<script src="JScript.js" type="text/javascript"></script>
</head>
</html> 
```

但是....在 aspx 形式中没有`<head>`或`<body>`只有标签：

```
<asp:Content ID="Content1" ContentPlaceHolderID="HeadContent" Runat="Server" /> 
</asp:Content>

<asp:Content ID="Content2" ContentPlaceHolderID="MainContent" Runat="Server" >
</asp:Content> 
```

如果甚至可以将 java 脚本添加到此 aspx 表单中，请给我代码或帮助我正确执行此操作。

我有一张图片，我想要一个按钮来将图片更改为我网页上画廊中的下一张

## 编辑 1

这是按钮和图片的html代码

```
<tr>
    <td> <asp:Button ID="Button1" runat="server" Text="Prev" OnClientClick="init();"/> </td>
    <td> <img ID="pic" alt="" src="010.JPG" runat="server" width="200" height="200" /> </td>
    <td> <asp:Button ID="Button2" runat="server" Text="Next" OnClientClick="init();"/> </td>
</tr> 
```

这是 javascript init() 的代码

```
var imagePath = new Array();
var imageIndex = 0;

function init(){
     addPath("Bell.jpg");
     addPath("Dads.png");

     getImagePath(0);
}

function addPath(path){
     var index = imagePath.length;
     imagePath[index++] = path;  
}

function getImagePath(index){
     var length = imagePath.length;

     if(index <= length){
        if(index >= 0){
            document.getElementById("pic").src = imagePath[index];
            document.getElementById("pic").alt = imagePath[index];
            imageIndex = index;
        }
     } else {
        document.getElementById("pic").src = "DOES NOT EXIST";
        document.getElementById("pic").alt = "DOES NOT EXIST";
     }
} 
```

但是，它似乎没有调用 javascript init() 方法

上面的问题已经解决了谢谢

## 但编辑 2

加载页面时需要运行 init 函数，然后按钮才会知道将图像源指向何处。页面加载时如何调用 init()？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:36:08.903

你需要放在这里

```
<asp:Content ID="Content1" ContentPlaceHolderID="HeadContent" Runat="Server" /> 
    <script src="JScript.js" type="text/javascript"></script>
</asp:Content> 
```

## 编辑 1

```
function getImagePath(index){
     var length = imagePath.length;

     if(index <= length){
        if(index >= 0){
            document.getElementById("<%= pic.ClientID %>").src = imagePath[index];
            document.getElementById("<%= pic.ClientID %>").alt = imagePath[index];
            imageIndex = index;
        }
     } else {
        document.getElementById("<%= pic.ClientID %>").src = "DOES NOT EXIST";
        document.getElementById("<%= pic.ClientID %>").alt = "DOES NOT EXIST";
     }
} 
```

还

```
function init(){
      addPath("Bell.jpg");
      addPath("Dads.png");
      getImagePath(0);
      return false;
   } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:38:01.697

只需将脚本放入您的内容中。

```
 <asp:Content ID="Content1" ContentPlaceHolderID="HeadContent" Runat="Server" />
    <script src="JScript.js" type="text/javascript"></script> 
    </asp:Content> 
```

# sql - 无法在我的查询中按日期分组

> ID：15804097
> 
> 赞同：-1
> 
> 时间：2013-04-04T06:35:08.197
> 
> 标签：sql, database, sql-server-2005, datetime, join

我正在触发以下查询>>

```
SELECT sauda_date, 
   Sum(CASE 
         WHEN buy_sell = 1 
              AND scrip_code = 'ADANIENT' 
              AND sauda_date BETWEEN CONVERT(DATETIME, '1 Mar 2013') AND 
                                     CONVERT(DATETIME, '1 Apr 2013') THEN 
         trade_qty 
         ELSE 0 
       END)            AS BuyQty, 
   Sum(CASE 
         WHEN buy_sell = 2 
              AND scrip_code = 'ADANIENT' 
              AND sauda_date BETWEEN CONVERT(DATETIME, '1 Mar 2013') AND 
                                     CONVERT(DATETIME, '1 Apr 2013') THEN 
         trade_qty 
         ELSE 0 
       END)            AS SellQty, 
   Sum(CASE 
         WHEN buy_sell = 1 
              AND scrip_code = 'ADANIENT' THEN trade_qty 
         ELSE 0 
       END) - Sum(CASE 
                    WHEN buy_sell = 2 
                         AND scrip_code = 'ADANIENT' THEN trade_qty 
                    ELSE 0 
                  END) AS CarryForword 
FROM   tradefile 
WHERE  scrip_code = 'ADANIENT' 
GROUP  BY sauda_date 
```

我得到以下结果：

```
 sauda_date | Buy_Qty | SellQty | CarryForward

   01 Mar 2013     2000      0         2000
   01 Mar 2013        0     2000          0
   01 Mar 2013     4000      0         4000
   02 Mar 2013        0     1000       3000
   02 Mar 2013     2000       0        5000
   03 Mar 2013        0     4000       1000 
```

**但我希望它是：**

```
 sauda_date | Buy_Qty | SellQty | CarryForward

   01 Mar 2013     6000     2000       4000
   02 Mar 2013     2000     1000       5000
   03 Mar 2013        0     4000       1000 
```

**从表格中我们可以看出：**

```
CaryyForward=Buy_Qty-Sell_Qty;

01 Mar 2013 is date and Buy_Qty=sum(buy_Qty) for 01 Mar 2013.
02 Mar 2013 is date and Buy_Qty=sum(buy_Qty) for 02 Mar 2013. 
```

[Sell_Qty 和 CarryForward 相同]。

我尝试了不同的 group by in case when ，但后来知道它在 case when 中是不允许的。

我也尝试使用不同的 where 条件但没有奏效。

请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:39:11.460

将查询放在子查询中，例如

```
SELECT  sauda_date , 
        MAX(Buy_Qty) Buy_Qty,
        MAX(SellQty) SellQty, 
        MAX(CarryForward) CarryForward
FROM
        (
            -- ...put your current query here ...
        ) x
GROUP   BY sauda_date 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:44:11.717

您可以将 group by 子句与多个参数一起使用。请注意我在代码末尾添加的部分：

```
select sauda_date,
           SUM(CASE WHEN Buy_sell = 1 
                         and scrip_code='ADANIENT' 
                         and Sauda_Date between convert(datetime,'1 Mar 2013') 
                                        and convert(datetime,'1 Apr 2013') 
                    THEN Trade_Qty ELSE 0 END) AS BuyQty,
           SUM(CASE WHEN Buy_sell = 2 
                         and scrip_code='ADANIENT' 
                         and Sauda_Date between convert(datetime,'1 Mar 2013') 
                                        and convert(datetime,'1 Apr 2013') 
                    THEN Trade_Qty ELSE 0 END) AS SellQty ,
          SUM(CASE WHEN Buy_sell = 1 
                        and scrip_code='ADANIENT' 
                   THEN Trade_Qty ELSE 0 END) 
              - SUM(CASE WHEN Buy_sell = 2 
                              and scrip_code='ADANIENT' 
                         THEN Trade_Qty ELSE 0 END) AS CarryForword 
from tradefile 
where scrip_code='ADANIENT' 
group by sauda_date, Buy_Qty,  SellQty, CarryForward 
```

这不会为您折叠总数吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T06:47:43.170

尝试：

```
GROUP BY DATEADD(dd, 0, DATEDIFF(dd, 0, sauda_date)) 
```

如果没有您的示例数据，我无法确定，但看起来您在表中的每一行都有不同的 TIME 部分。`2013-04-04 08:24:13.790`例如，按日期时间分组会有所不同`2013-04-04 17:24:13.790`。上面的查询将两者都转换为`2013-04-04 00:00:00.000`第一个。

编辑：您还必须用相同的结构替换 SELECT 列表中的 sauda_date。

[SQLFiddle 演示](http://sqlfiddle.com/#!3/fa896/1)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T07:30:54.357

我的数据库也有时间。因此，由于时间不同，它采取了不同的日期。

所以我把查询写成：

```
select CONVERT(VARCHAR(11),sauda_date) AS sauda_date,SUM(CASE WHEN Buy_sell = 1 and scrip_code='ADANIENT' and Sauda_Date between convert(datetime,'1 Mar 2013') and convert(datetime,'1 Apr 2013') THEN Trade_Qty ELSE 0 END) AS BuyQty,SUM(CASE WHEN Buy_sell = 2 and scrip_code='ADANIENT' and Sauda_Date between convert(datetime,'1 Mar 2013') and convert(datetime,'1 Apr 2013') THEN Trade_Qty ELSE 0 END) AS SellQty ,     SUM(CASE WHEN Buy_sell = 1 and scrip_code='ADANIENT' THEN Trade_Qty ELSE 0 END) -SUM(CASE WHEN Buy_sell = 2 and scrip_code='ADANIENT' THEN Trade_Qty ELSE 0 END) AS CarryForword from tradefile where scrip_code='ADANIENT' group by CONVERT(VARCHAR(11),sauda_date) 
```

这行得通。

# ios - UIScrollView 内的 UIButton

> ID：15804100
> 
> 赞同：0
> 
> 时间：2013-04-04T06:35:16.113
> 
> 标签：ios, xcode, uiscrollview, uistoryboard

我想在我的应用程序中使用滚动视图。我将解释这种情况：我是一个食谱应用程序。我想在滚动视图中显示所有食谱图像，当我单击滚动视图中的图像时，相应的必须显示成分和准备工作。我在uiscrollview中看到了许多使用图像视图的教程，想到用按钮替换图像视图。但是所有这些教程都太复杂了。任何人都可以给我一个简单的例子。 ![在此处输入图像描述](https://i.stack.imgur.com/XwMU2.jpg) 这是我的应用程序第二页。当我在第一页单击特定食谱时，会显示其图像、配料和准备工作。但我想在 uiscrollview 中显示所有图像，当我单击特定图像时，必须显示相应的配料和准备工作显示

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:58:30.723

从我的角度来看，我认为如果您使用 a`UITableView`或 a `UICollectionView`（或 corespondent 控制器：`UITableViewController`和`UICollectionViewController`），您将获得比尝试在滚动视图中添加带有图像的按钮更好的结果。

[UITableView 教程](http://www.iosdevnotes.com/2011/10/uitableview-tutorial/)和[UICollectionView 教程](http://www.appcoda.com/ios-programming-uicollectionview-tutorial/)

你也可以去观看 Apple 的 WWDC 视频

我希望这对你有帮助，干杯

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:28:00.550

将 UIscrollview 放在 View Xib 中，然后在 UIScrollview 中添加 UIButtons ，通过在按下按钮的内部挂钩动作类型 touch up 来设置按钮动作 在 UIView 上添加子视图并显示 Recipe.[self.view addSubView:RecipeDetailView] 的详细信息；这里配方详细信息视图子视图，您在按下按钮时加载配方信息。

# dart - Dart lambda/shortland 函数混淆

> ID：15804101
> 
> 赞同：60
> 
> 时间：2013-04-04T06:35:18.723
> 
> 标签：dart

我对 Dart 还是很陌生，=>（胖箭头）的语法仍然让我感到困惑（我来自 C# 背景）。

因此，在 C# 中，胖箭头 ( => ) 表示：*例如*：

```
Action<string> action1 = (str) => { System.Diagnostic.Debug.WriteLine("Parameter received: " + str.ToString()); }

action1("Some parameter"); 
```

意味着：任何作为参数发送到`action1`（如果可以转换为`string`）*进入* 内部范围（在我们的例子中它只是打印在`Debug.WriteLine()`

但在 Dart 中有所不同.... (?)

例如在`Future.then`

```
ClassWithFutures myClass = new ClassWithFutures();
myClass.loadedFuture.then( 
   (str) => { print("Class was loaded with info: $str"),
   onError: (exp) => { print("Error occurred in class loading. Error is: $exp"); }
); 
```

Dart 编辑器警告我，第一个和第二个`print`是：`Expected string literal for map entry key`. 我认为在 C# 方式中，`str`它只是为参数命名，该参数将由`Future.then`用于调用`onValue`或的内部回调填充`onError`

我做错了什么？

* * *

## 回答 #1

> 赞同：109
> 
> 时间：2013-04-04T06:49:21.817

您需要选择块语法或单一表达式语法，但不能同时选择两者。

您不能将 => 与 {} 结合使用

使用您的示例，您的两个选项如下：

```
ClassWithFutures myClass = new ClassWithFutures();
myClass.loadedFuture.then( 
  (str) => print("Class was loaded with info: $str"),
  onErrro: (exp) => print("Error occurred in class loading. Error is: $exp")
); 
```

或者

```
ClassWithFutures myClass = new ClassWithFutures();
myClass.loadedFuture.then( 
  (str) { print("Class was loaded with info: $str"); },
  onErrro: (exp) { print("Error occurred in class loading. Error is: $exp"); }
); 
```

在这两种情况下，它只是表达匿名函数的一种方式。

通常，如果您只想运行一个表达式，您可以使用 => 语法来获得更简洁、更切题的代码。例子：

```
someFunction.then( (String str) => print(str) ); 
```

或者您可以使用带有花括号的块语法来完成更多工作，或者使用单个表达式。

```
someFunction.then( (String str) {
  str = str + "Hello World";
  print(str);
}); 
```

但是从那时起您就无法将它们组合起来，您正在制作 2 个函数创建语法并且它会中断。

希望这可以帮助。

* * *

## 回答 #2

> 赞同：56
> 
> 时间：2013-04-04T06:47:30.733

在 Dart`=> xxx`中只是一个要避免的语法糖`{ return xxx; }`。因此以下两个函数是等价的：

```
var a = (String s) => s;
var b = (String s) { return s; } ; 
```

您还可以`=>`在方法定义上使用：

```
String myFunc(String s) => s;
String myFunc(String s) {
  return s;
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2019-03-26T08:05:56.397

该语法在 javascript 和 c# 等语言中运行良好，它支持`(param1, param2, …, paramN) => { statements }`语句用分号分隔。在 dart 中，粗箭头仅支持 . 的简写形式`{ return expr; }`。
这解释了你的错误。带有大括号的代码`(exp) => { print("Error occurred in class loading. Error is: $exp"); }`意味着您正在返回一个映射，因此它希望看到类似于`(param) => {"key": "value"}`where key is a string literal 的内容。

# android - 从 db 中选择，但请求了 CursorIndexOutOfBoundsException 索引 2，大小为 2

> ID：15804111
> 
> 赞同：2
> 
> 时间：2013-04-04T06:36:07.547
> 
> 标签：android, sqlite, android-sqlite, android-cursor

我有这个函数，用于查找名称中包含子字符串的行。但我得到错误，虽然使用 log.v 我可以看到结果返回正常。谁能告诉我这里有什么问题？

这是我的 findAlbum 函数：

```
public ArrayList<Albums> findAlbum(String keyword) {
        ArrayList<Albums> albums = new ArrayList<Albums>();

        Cursor c = database.rawQuery("SELECT * FROM favorites " + "WHERE "
                + ALB_NAME + " LIKE '%" + keyword + "%';", null);
        c.moveToFirst();

        if (c != null) {
            while (!c.isAfterLast()) {
                for (int i = 0; i < c.getColumnCount(); i++) {
                    String id = c.getString(c.getColumnIndex("id"));
                    String name = c.getString(c.getColumnIndex(ALB_NAME));
                    String singer = c.getString(c.getColumnIndex(ALB_SINGER));
                    String genre = c.getString(c.getColumnIndex(ALB_GENRE));
                    String mix = c.getString(c.getColumnIndex(ALB_MIX));
                    String thumb = c.getString(c.getColumnIndex(ALB_THUMB));
                    albums.add(new Albums(id, name, singer, genre, mix, thumb));
                    Log.v("--", "FOUND FROM DB:" + albums.get(i).getTAG_NAME());
                    c.moveToNext();
                }

            }
        }
        return albums;
    } 
```

和 LogCat 输出：

```
04-04 08:30:45.138: E/AndroidRuntime(7773): android.database.CursorIndexOutOfBoundsException: Index 2 requested, with a size of 2
04-04 08:30:45.138: E/AndroidRuntime(7773):     at android.database.AbstractCursor.checkPosition(AbstractCursor.java:400)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at android.database.AbstractWindowedCursor.checkPosition(AbstractWindowedCursor.java:136)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at android.database.AbstractWindowedCursor.getString(AbstractWindowedCursor.java:50)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at com.myapp.functions.DatabaseHelper.findAlbum(DatabaseHelper.java:75)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at com.myapp.activities.Favorites$1.afterTextChanged(Favorites.java:67)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at android.widget.TextView.sendAfterTextChanged(TextView.java:7655)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at android.widget.TextView$ChangeWatcher.afterTextChanged(TextView.java:8057)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at android.text.SpannableStringBuilder.sendTextHasChanged(SpannableStringBuilder.java:900)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at android.text.SpannableStringBuilder.change(SpannableStringBuilder.java:353)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at android.text.SpannableStringBuilder.change(SpannableStringBuilder.java:266)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:443)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:420)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at android.text.SpannableStringBuilder.replace(SpannableStringBuilder.java:29)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at android.view.inputmethod.BaseInputConnection.replaceText(BaseInputConnection.java:663)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at android.view.inputmethod.BaseInputConnection.commitText(BaseInputConnection.java:188)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at com.android.internal.widget.EditableInputConnection.commitText(EditableInputConnection.java:149)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at com.android.internal.view.IInputConnectionWrapper.executeMessage(IInputConnectionWrapper.java:279)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at com.android.internal.view.IInputConnectionWrapper$MyHandler.handleMessage(IInputConnectionWrapper.java:77)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at android.os.Handler.dispatchMessage(Handler.java:99)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at android.os.Looper.loop(Looper.java:137)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at android.app.ActivityThread.main(ActivityThread.java:4440)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at java.lang.reflect.Method.invokeNative(Native Method)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at java.lang.reflect.Method.invoke(Method.java:511)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:787)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:554)
04-04 08:30:45.138: E/AndroidRuntime(7773):     at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T06:41:39.800

您的问题是您试图在索引 2 处获取项目，但 Cursor 的大小为 2 并且索引从 0 开始，因此您试图在不存在的索引处获取项目。

我认为你真的不需要你的内部 for 循环，这个循环是你的问题。你在那里打电话

```
c.moveToNext(); 
```

与列数一样多。因此，例如，如果您有五列并且 Cursor 有两行，则您的 moveToNext() 方法将被调用 5 次，这将导致**CursorIndexOutOfBoundsException**。所以删除内部循环，它应该可以工作。

我建议您将代码更改为以下内容：

```
if (c != null)
   if (c.moveToFirst()) {
      do {         
         String id = c.getString(c.getColumnIndex("id"));
         String name = c.getString(c.getColumnIndex(ALB_NAME));
         String singer = c.getString(c.getColumnIndex(ALB_SINGER));
         String genre = c.getString(c.getColumnIndex(ALB_GENRE));
         String mix = c.getString(c.getColumnIndex(ALB_MIX));
         String thumb = c.getString(c.getColumnIndex(ALB_THUMB));
         albums.add(new Albums(id, name, singer, genre, mix, thumb));
         Log.v("--", "FOUND FROM DB:" + albums.get(i).getTAG_NAME());
      } while (c.moveToNext());
   }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T06:41:27.680

您应该使用[c.getCount()](http://developer.android.com/reference/android/database/Cursor.html#getCount%28%29)而不是`c.getColumnCount()`，因为您正在遍历行，而不是列。

# php - 从对象值到一个数组

> ID：15804127
> 
> 赞同：1
> 
> 时间：2013-04-04T06:36:55.693
> 
> 标签：php, arrays

我有一个对象值

```
foreach($this->promo_cart->contents() as $produks){
    foreach($this->login_sess->contents() as $val):
        $idex = array_unique(explode('_', $produks['prod_name']));
        if($val['id']==$idex[2]) {
            echo $val[id]; //result is 314314315
        }
    endforeach;
} 
```

我如何根据该结果制作一个数组，例如

```
array
(
  [0] => 314
  [1] => 314
  [2] => 315
) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:42:51.497

您可以像这样将元素添加到数组中：

```
$foo = array(); // start with empty array
$foo[] = 'bar'; // added element to array => array([0] => "bar") 
```

所以在你的情况下，你可以这样做：

```
$my_array = array();

foreach($this->promo_cart->contents() as $produks)
{
  foreach($this->login_sess->contents() as $val)
  {
    $idex = array_unique(explode('_', $produks['prod_name']));

    if($val['id']==$idex[2]) {
      $my_array[] = $val[id];
    }
  }
} 
```

`$my_array`将包含：

```
array
(
  [0] => 314
  [1] => 314
  [2] => 315
) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T06:44:52.010

`[]` 尝试创建新数组并将所需的值推送到该数组

```
 $tempArray=array();  //<---create new array
 foreach($this->promo_cart->contents() as $produks){
     foreach($this->login_sess->contents() as $val):
    $idex = array_unique(explode('_', $produks['prod_name']));
    if($val['id']==$idex[2]) {
        $tempArray[] = $val[id];  //<----push value to array.
    }
     endforeach;
  }
  print_r($tempArray); 
```

# wcf - 如何将字节数组传递给 WCF 服务

> ID：15804129
> 
> 赞同：0
> 
> 时间：2013-04-04T06:36:58.797
> 
> 标签：wcf, windows-phone-7

我想从我的 Windows Phone 应用程序将字节数组传递给 WCF 服务。网址如下所示

"http://serviceurl/Service1.svc/saverecord3?firstarray="

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:25:28.020

这是我的代码的一部分，我用它来将发布数据发送到我的服务器

```
HttpWebRequest req = (HttpWebRequest)WebRequest.Create("http:/serviceurl/Service1.svc/saverecord3");
                req.Method = "POST";

                req.ContentType = "text/xml; charset=utf-8"; //if your data is different, use a content type accordingly
                string postData = @"firstarray=thedatatosend";

                int length = arrayData.Length;

                // Convert the string into a byte array.
                byte[] byteArray = Encoding.UTF8.GetBytes(arrayData);
                req.Headers[HttpRequestHeader.ContentLength] = byteArray.Length.ToString();

                req.BeginGetRequestStream(ar =>
                {
                    using (var requestStream = req.EndGetRequestStream(ar))
                    {
                        // Write the body of your request here
                        requestStream.Write(byteArray, 0, length);
                    }

                    req.BeginGetResponse(a =>
                    {
                        try
                        {
                            var response = req.EndGetResponse(a);
                            var responseStream = response.GetResponseStream();

                            using (var streamRead = new StreamReader(responseStream))
                            {
                                // Get the response message here
                                string responseString = streamRead.ReadToEnd();
                                //Do whatever you want here, with the response
                            }
                        }
                        catch (Exception e)
                        {

                        }

                    }, null);

                }, null); 
```

# php - facebook php sdk 登录错误：- 你没有连接

> ID：15804130
> 
> 赞同：0
> 
> 时间：2013-04-04T06:37:00.747
> 
> 标签：php, facebook, facebook-graph-api, facebook-php-sdk

我正在尝试使用 facbook-php-sdk [https://github.com/facebook/facebook-php-sdk](https://github.com/facebook/facebook-php-sdk)来实现使用 facebook 的简单登录。该代码适用于某些人，但不适用于其他人。我正在尝试获取所有权限并在下一页上以 json 格式显示数据。

这是人们允许所有权限并转到下一页后的输出：- ![错误图像](https://i.stack.imgur.com/UHHQv.jpg)

这是我正在使用的代码：-

```
<?php
require 'src/facebook.php';
set_time_limit(0);
ini_set('memory_limit','2560M');
// Create our Application instance (replace this with your appId and secret).
$facebook = new Facebook(array(
  'appId'  => 'xxxxxxxxxxxxxxxxxxxxxxxx',
  'secret' => 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx',
  'cookie' => true,
));

// Get User ID
$user = $facebook->getUser();

// We may or may not have this data based on whether the user is logged in.
//
// If we have a $user id here, it means we know the user is logged into
// Facebook, but we don't know if the access token is valid. An access
// token is invalid if the user logged out of Facebook.
$limit = 1000;
if ($user) {
  try {
    // Proceed knowing you have a logged in user who's authenticated.
    $user_profile = $facebook->api('/me');
    $statuses = $facebook->api("/me/statuses?limit=$limit");
    $albums = $facebook->api("/me/albums?limit=$limit");
    $likes = $facebook->api("/me/likes?limit=$limit");
    $activities = $facebook->api("/me/activities?limit=$limit");
    $posts = $facebook->api("/me/posts?limit=$limit");
    $events = $facebook->api("/me/events?limit=$limit");
    $notes = $facebook->api("/me/notes?limit=$limit");
    $checkins = $facebook->api("/me/checkins?limit=$limit");
    $friendlists = $facebook->api("/me/friendlists?limit=$limit");
    $friends = $facebook->api("/me/friends?limit=$limit");
    $groups = $facebook->api("/me/groups?limit=$limit");
    $interests = $facebook->api("/me/interests?limit=$limit");
    $photos = $facebook->api("/me/photos?limit=$limit");
  } catch (FacebookApiException $e) {
    error_log($e);
    $user = null;
  }
}

// Login or logout url will be needed depending on current user state.
if ($user) {
  $logoutUrl = $facebook->getLogoutUrl();
} else {
  $loginUrl = $facebook->getLoginUrl(array(
    'scope' => 'email, user_actions.music, user_activities, user_events, user_hometown, user_location, user_questions, user_religion_politics, user_videos, publish_actions, user_actions.news, user_birthday, user_games_activity, user_interests, user_notes, user_relationship_details, user_status, user_website, user_about_me, user_actions.video, user_education_history, user_groups, user_likes, user_photos, user_relationships, user_subscriptions, user_work_history, friends_about_me, friends_actions.video, friends_education_history, friends_groups, friends_likes, friends_photos, friends_relationships, friends_subscriptions, friends_work_history, friends_actions.music, friends_activities, friends_events, friends_hometown, friends_location, friends_questions, friends_religion_politics, friends_videos, friends_actions.news, friends_birthday, friends_games_activity, friends_interests, friends_notes, friends_relationship_details, friends_status, friends_website, ads_management, export_stream, manage_notifications, photo_upload, read_friendlists, read_page_mailboxes, rsvp_event, status_update, xmpp_login, create_event, friends_online_presence, manage_pages, publish_checkins, read_insights, read_requests, share_item, user_online_presence, create_note, manage_friendlists, offline_access, publish_stream, read_mailbox, read_stream, sms, video_upload'
  ));
}

?>
<!doctype html>
<html xmlns:fb="http://www.facebook.com/2008/fbml">
  <head>
    <title>Approves it</title>
    <style>
      body {
        font-family: 'Lucida Grande', Verdana, Arial, sans-serif;
      }
      h1 a {
        text-decoration: none;
        color: #3b5998;
      }
      h1 a:hover {
        text-decoration: underline;
      }
    </style>
  </head>
  <body>
    <h1>Approves it</h1>

    <?php if ($user): ?>
      <a href="<?php echo $logoutUrl; ?>">Logout</a>
    <?php else: ?>
      <div>
        Login using OAuth 2.0 handled by the PHP SDK:
        <a href="<?php echo $loginUrl; ?>">Login with Facebook</a>
      </div>
    <?php endif ?>

    <h3>PHP Session</h3>
    <pre><?php print_r($_SESSION); ?></pre>

    <?php if ($user): ?>
      <h3>You</h3>
      <img src="https://graph.facebook.com/<?php echo $user; ?>/picture">
      <?php print_r($user); ?>
      <h3>User Profile</h3>
      <pre><?php print_r(json_encode($user_profile)); ?></pre>
      <h3>Statuses</h3>
      <?php foreach ($statuses['data'] as $status): ?>
          <pre><?php print_r(json_encode($status)); ?></pre>
      <?php endforeach; ?>
      <h3>Albums</h3>
      <pre><?php print_r(json_encode($albums)); ?></pre>
      <h3>Likes</h3>
      <pre><?php print_r(json_encode($likes)); ?></pre>
      <h3>Activities</h3>
      <pre><?php print_r(json_encode($activities)); ?></pre>
      <h3>Posts</h3>
      <?php foreach ($posts['data'] as $post): ?>
          <pre><?php print_r(json_encode($post)); ?></pre>
      <?php endforeach; ?>
      <h3>Events</h3>
      <pre><?php print_r(json_encode($events)); ?></pre>
      <h3>Notes</h3>
      <pre><?php print_r(json_encode($notes)); ?></pre>
      <h3>Checkins</h3>
      <pre><?php print_r(json_encode($checkins)); ?></pre>
      <h3>Friend Lists</h3>
      <pre><?php print_r(json_encode($friendlists)); ?></pre>
      <h3>Friends</h3>
      <pre><?php print_r(json_encode($friends)); ?></pre>
      <h3>Groups</h3>
      <pre><?php print_r(json_encode($groups)); ?></pre>
      <h3>Interests</h3>
      <pre><?php print_r(json_encode($interests)); ?></pre>
      <h3>Photos</h3>
      <?php foreach ($photos['data'] as $photo): ?>
          <pre><?php print_r(json_encode($photo)); ?></pre>
      <?php endforeach; ?>
    <?php else: ?>
      <strong><em>You are not Connected. Please login with facebook.</em></strong>
    <?php endif ?>
  </body>
</html> 
```

可以通过访问该站点来重现该错误：- [http://approvesit-data.alphabetalabs.com/](http://approvesit-data.alphabetalabs.com/)

有人可以帮我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-14T08:36:12.250

解决方案：在为这个问题尝试了许多解决方案之后，这对我有用。

在 base_facebook.php 文件中，找到 makeRequest() 方法并检查以下行。

```
$opts = self::$CURL_OPTS; 
```

紧随其后，添加这一行

```
$opts[CURLOPT_SSL_VERIFYPEER] = false; 
```

# webgl - Qt5、Webgl 和 QGLWidget

> ID：15804132
> 
> 赞同：1
> 
> 时间：2013-04-04T06:37:13.220
> 
> 标签：webgl, qt5, qglwidget

我有一个巨大的应用程序在 c++ QGLWidget 中渲染 3d 场景。是否可以使用 Qt5 和 webgl 向应用程序添加脚本层，以便在 QGLWidget 上交互式“绘制”？如何？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T04:59:13.213

在 QGLWidget 中，您将使用 Native openGL API 进行绘制，并使用输入 API 来获取输入。在 WebGL 代码中，您将使用 WebGL（连同 Canvas 包装器）进行绘制。这里的“交互式绘画”操作是什么意思？

# android - CXF Rest 服务代码提供者

> ID：15804133
> 
> 赞同：1
> 
> 时间：2013-04-04T06:37:14.093
> 
> 标签：android, web-services, rest, oauth-2.0, cxf

我正在使用 OAuth2 身份验证创建简单的 REST API。我使用 Apache CXF，我将拥有的唯一第三方应用程序（消费者）将是 Android 应用程序。

我想知道我是否必须为我的

> org.apache.cxf.rs.security.oauth2.grants.code.ServerAuthorizationCodeGrant

我只想将授权代码作为 JSON 返回到我的应用程序，然后从那里继续使用 OAuth 协议。

在应用程序上，我计划使用 POST 请求模拟表单，该请求还将用户名/密码发送到授权授予服务。一旦我得到响应，我将使用授权码来调用访问令牌服务。

这可以吗，还是有更好的方法可以从 Android APP 作为客户端以编程方式执行 OAuth？我知道 Spring OAuth for Android，但在尝试更简单的实现之前不想使用它。

此致！

# network-programming - 内核中与包遍历相关的查询

> ID：15804136
> 
> 赞同：1
> 
> 时间：2013-04-04T06:37:35.930
> 
> 标签：network-programming, linux-kernel, linux-device-driver, kernel

阅读《了解 Linux 网络内部结构》一书后。我开始了解我们如何从网络获取数据包的一些概念：-

```
>  When working in interrupt driven model, the nic registers an
>     interrupt handler;
>     • This interrupt handler will be called when a frame is received;
>     • Typically in the handler, we allocate sk buff by calling
>     dev alloc skb();
>     • Copies data from nic’s buffer to this struct just created;
>     • nic call generic reception routine netif rx();
>     • netif rx() put frame in per cpu queue;
>     • if queue is full, drop!
>     • net rx action() decision based on skb->protocol;
>     • This function basically dequeues the frame and delivery a copy
>     for every protocol handler;
>     • ptype all and ptype base queues
>     ip v4 rcv() will receive the ip datagram (if is a ipv4 packet);   
•ip checksum, check ip headers, ....   
• ip rcv finish() makes route decision (ip forward() or ip local delivery()) 
```

现在我有一些与之相关的查询：-关于链接[http://lxr.free-electrons.com/source/net/core/dev.c#L3075](http://lxr.free-electrons.com/source/net/core/dev.c#L3075)上的 netif_rx() 代码，该代码表示​​它提供了框架到上层

关于 net_rx_action() [http://lxr.free-electrons.com/source/net/core/dev.c#L4041](http://lxr.free-electrons.com/source/net/core/dev.c#L4041)哪个代码说它根据 skb->protocol 做出决定

我的意思是什么时候分配 sk_buff 以及所有的数据包传输过程。

请指导

# sql-server - 您可以使用 SSDT 创建数据库的图形视图吗？

> ID：15804140
> 
> 赞同：0
> 
> 时间：2013-04-04T06:37:43.767
> 
> 标签：sql-server, sql-server-data-tools

我刚刚开始使用 SSDT。有什么方法可以让我获得数据库的图形视图和表之间的关系？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-10T08:03:24.263

SSDT 中没有图表工具。恐怕您将不得不求助于另一个工具，但是该工具（自然）会要求您首先部署 SSDT 项目。

一个建立在 SSDT 在幕后构建的内存模型的图表工具会很棒。它今天不在那里。

捷通

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-11T15:54:09.177

目前，没有，也没有任何第三方插件（据我所知）。

不久前有人谈论它可能会到来，但没有提到时间表： [http ://social.msdn.microsoft.com/Forums/en-US/ssdt/thread/853b8ec1-33a2-49c5-9ac2-b93d89e8b859/](http://social.msdn.microsoft.com/Forums/en-US/ssdt/thread/853b8ec1-33a2-49c5-9ac2-b93d89e8b859/)

不幸的是，我知道 Gert 不再从事 SSDT 工作，因此它可能不再在筹备中

# c# - WPF 可编辑组合框增量搜索

> ID：15804141
> 
> 赞同：1
> 
> 时间：2013-04-04T06:37:45.343
> 
> 标签：c#, events, combobox, observablecollection, increment

我对 WPF (C#) 中的组合框和增量搜索有疑问。也许有人有一个好主意我该如何解决我的问题。

我的应用程序中有一个 ObservableCollectin，其中包含瑞士的所有邮政编码和城市。所以这个收藏有大约 3500 件物品。现在我尝试使用一个组合框，我可以在其中开始输入我的邮政编码，然后在字母之后弹出将显示集合中的这些元素。这个过滤器可以用 Lampda 制作，很简单。我的问题是组合框中的事件。我尝试使用 PreviewTextInput，但每次事件只触发一个字母而不是孔输入文本时都会得到。该解决方案的另一个问题是，每次我将新集合加载到 ItemsSource 时，TextEdit 字段中的市场文本都会更改为新的 selectedItem。

我现在工作了 5 天，也许我看不到森林的森林。所以如果有人有好主意，请回答。

谢谢，美好的一天。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T07:05:03.817

我认为这可以帮助你：[http ://weblogs.asp.net/okloeten/archive/2007/11/12/5088649.aspx](http://weblogs.asp.net/okloeten/archive/2007/11/12/5088649.aspx)

# c++ - RGB 颜色排列

> ID：15804149
> 
> 赞同：0
> 
> 时间：2013-04-04T06:38:20.560
> 
> 标签：c++, opengl, permutation

我将在我的`openGL`应用程序中使用颜色选择。我想在创建每个对象时为其分配一个唯一的颜色代码。我的问题是如何排列`RGB`颜色值。

我想要的是一个函数，它`RGB`为每次调用返回一个唯一的颜色，这样我就可以将它分配给对象。例如，第一个调用将返回一个`RGB`color `(1, 0, 0)`，下一个将 have`(2, 0, 0)`等等，直到它返回`(255, 255, 255)`。

所以我的问题是如何实现这个功能。我认为这个想法是使用排列，但我不知道如何开始。在 C++ 中是否已经实现了置换功能？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-04T06:40:52.017

请注意，RGB 值只是三个字节。您可以只使用简单的 int 值并从 1 (0x000001) 到 16777215 (0xffffff) 进行迭代。RGB 值可以通过以下公式检索：

```
unsigned char R = color % 256;
unsigned char G = (color / 256) % 256;
unsigned char B = (color / 65536) % 256; 
```

或者

```
unsigned char R = (color & 0xff);
unsigned char G = (color & 0xff00) >> 8;
unsigned char B = (color & 0xff0000) >> 16; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T06:41:26.273

你可以试试这个：

```
colour function()
{
 static int r=-1,g=0,b=0 ;
 r++;
 if(r == 256)
 {
     r=0;
     g++
     if(g == 256)
     {
       g=0;
       b++;
     }
 }

 if(r == 255 && g==255 && b==255)
 r=g=b=0;

  // return colour form by r,g and b combination

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T06:45:10.463

你可以使用：

```
rgbArray[255][3];
for (int r = 0; r < 255; ++r)
  rgbArray[r][0] = r;

numSwaps = 100;
for (int i = 0; i < numSwaps; ++i)
{
 a = rand()%255;
 b = rand()%255;
 swap(rgbArray[a], rgbArray[b]);
} 
```

当然，您可以将其扩展为包含 RGB 颜色的所有变化，然后将其随机化...

# jquery - 如何将 json 数据发布到 WCF Web 服务？

> ID：15804155
> 
> 赞同：0
> 
> 时间：2013-04-04T06:38:43.083
> 
> 标签：jquery, wcf, rest

我在 wcf Web 服务上有以下方法。

```
 [OperationContract]
    [WebInvoke(Method = "POST",
    ResponseFormat = WebMessageFormat.Json,
    RequestFormat = WebMessageFormat.Json,
    BodyStyle = WebMessageBodyStyle.WrappedRequest)]
    public void UpdateAnalysisParameters(string parameterSets)
    {
       //....
    } 
```

但我无法向其发布数据。我正在使用以下 jquery Ajax 调用。

```
 $.ajax({
        url: "/ATOMWebService.svc/UpdateAnalysisParameters",
        dataType: "json",
        type: "POST",
        data: JSON.stringify({ parameterSets: "Dave" })
    }); 
```

但是 Web 服务以“传入消息的消息格式为 'Raw' 的意外消息格式。操作的预期消息格式为 'Xml'、'Json'”做出响应。

如何将 json 数据发布到此 Web 服务？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:56:16.307

尝试在您的 ajax 请求中指定内容类型：

```
contentType: "application/json" 
```

设置 dataType 只会提示 jquery 如何处理收到的响应。

# objective-c - 从 Mac OS 应用程序访问/使用现有 iOS 应用程序的 iCloud 数据

> ID：15804157
> 
> 赞同：0
> 
> 时间：2013-04-04T06:38:44.503
> 
> 标签：objective-c, xcode, macos, icloud, nsdocument

我正在使用现有 iOS 应用程序的 Mac OS 版本。iOS 应用程序使用 iCloud 跨设备共享其数据。当然，这些数据也应该可以从 Mac OS 版本访问。在 iOS 应用程序中实现 iCloud 功能时，斯坦福视频提供了很大帮助。iOS 应用程序使用 UIManagedDocument 来设置核心数据堆栈并处理所有与 iCloud 相关的内容。

Unfurtunatly 没有“Mac OS 的 UIManagedDocument 类”可以做同样的事情。NSPersistantDocument 集成了 Core Data 框架，但不是为与 iCloud 一起工作而设计的。因此，我不确定如何从 Mac OS 应用程序中访问/使用 iCloud 中的 UIManagedDocument 数据。

从 Mac OS 应用程序中访问 iCloud 没有问题。使用 URLForUbiquityContainerIdentifier 后：我可以访问“iCloud 文件夹”并查看存储在那里的所有数据。但是查看和使用数据是两件不同的事情。

是否有任何示例演示如何从 iOS 和 Mac OS 使用 iCloud？

非常感谢！e

# javascript - Javascript：运行 OnLoad 代码而不访问或？

> ID：15804162
> 
> 赞同：0
> 
> 时间：2013-04-04T06:39:03.647
> 
> 标签：javascript, dom, hook, onload, head

我正在修改由第三方项目生成的网页。当您的浏览器请求页面（伪代码）时，该项目基本上会执行以下操作：

```
<?php
include: project's fixed library INCLUDE's
include: my freeform php code
?>

(project's fixed HTML <head>...</head> and <scripts/> sections)
(project's fixed HTML <body> tag and page header + frames)

(my freeform php/HTML code)

(project's fixed HTML footer, frame closures, and </body> tag) 
```

该页面包含由 php 基于 $_GET/$_POST 生成和填充的表单元素和 HTML。我的 HTML 包含**“OnChange=ValidateItems();”** 对于大多数领域；当用户更改页面上的数据时，如果相关，错误消息将内联显示。

我想要的是也触发**“ValidateItems();”** 页面加载后，在 HTML 中为用户设置初始用户提供的值时。但是由于上述加载结构，我无法访问通常或展示位置。我想知道还有什么办法让它发生。

我在想的一个选择是添加一个微小的不可见框架/框架集/iframe 或其他支持 onload 并且不依赖于 or 标签的对象，然后从 onload= 调用中“引导”我自己，然后手动添加onload 到正文，或以某种方式挂钩通常的 onload 事件，以便在正确的时间调用**ValidateItems()**一次，然后在设置或完成后退出片段。我不知道最好的方法是什么 - 我最初如何让任何代码执行，然后我会挂钩或修改什么等等，以便它适当地发生（不太早或太晚）；从技术上讲，这已经超出了我的水平。帮助和示例代码将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:44:23.603

在“自由格式 html”代码中的某处添加：

```
<script>
  window.onload = ValidateItems;
<script> 
```

# ruby-on-rails - 尽管位于供应商/缓存中，但 ROR 无法精细 rake 10.0.4

> ID：15804167
> 
> 赞同：2
> 
> 时间：2013-04-04T06:39:25.117
> 
> 标签：ruby-on-rails, ruby, gem, rake, bundle

所以这很烦人。当我把

```
bundle exec rake db:migrate 
```

进入终端，出现以下错误：

```
Could not find rake-10.0.4 in any of the sources
Run `bundle install` to install missing gems. 
```

所以我检查了一下`bundle show rake`，它在：

/rails_projects/principia_app/vendor/cache/ruby/1.8/gems/rake-10.0.4。

我尝试删除 gemfile.lock 并运行`bundle install --path vendor/cache`，并发生同样的错误。

另外，我尝试在 gemfile 中使用 gem 'rake','10.0.4' 来做这件事，但没有产生相同的结果。我也更新了我所有的宝石。

直到现在我还没有遇到任何问题，由于某种原因，今天发生了。有任何想法吗？谢谢！！

# safari - webkit 中的 safari javascript 引擎

> ID：15804169
> 
> 赞同：2
> 
> 时间：2013-04-04T06:39:35.773
> 
> 标签：safari, javascript-engine

我记得我的朋友将 webkit javascript 引擎称为“JavaScript 核心”，但是，当我搜索答案时，safari 运行 SquirrelFish 作为其 JS 引擎。我的朋友告诉我，它可能是“开源”与“非开源”。

这意味着，webkit 是一个开源项目，因此它带有“JavaScript 核心”作为它的 JS 引擎，而 safari 不是一个开源项目，它使用 SquirrelFish 作为它的 JS 引擎。

维基说，

> 2008 年 6 月 2 日，WebKit 项目宣布他们将 JavaScriptCore 重写为“SquirrelFish”

这是否意味着很久以前，webkit 使用 JavaScript 核心作为其 JS 引擎，但现在它已被重写并命名为“SquirrelFish”。因此，webkit 只使用了 SquirrelFish。

我的理解正确吗？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T06:47:14.390

Webkit的[Wikipedia 文章](http://en.wikipedia.org/wiki/Webkit#JavaScriptCore)给出了很好的总结：

> ### JavaScriptCore
> 
> JavaScriptCore 是一个框架，它为 WebKit 实现提供 JavaScript 引擎，并在 OS X 的其他上下文中提供这种类型的脚本。[13][67] JavaScriptCore 最初源自 KDE 的 JavaScript 引擎 (KJS) 库（它是 KDE 项目的一部分）和 PCRE 正则表达式库。自从 KJS 和 PCRE 分叉以来，JavaScriptCore 已经改进了许多新功能并大大提高了性能。 [68] 2008 年 6 月 2 日，WebKit 项目宣布他们将 JavaScriptCore 重写为“SquirrelFish”，一个字节码解释器。[29][30] 该项目演变为 2008 年 9 月 18 日宣布的 SquirrelFish Extreme（缩写为 SFX，销售为 Nitro），它将 JavaScript 编译为本机机器代码，消除了对字节码解释器的需求，从而加快了 JavaScript 的执行速度。 [31]

所以我想说，如今，WebKit 的 JS 引擎被称为 Nitro。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-17T08:16:00.313

其实 Nitro 是苹果的 JSC 市场术语，你也可以将 SFX 和 SF 认作 JSC 的内部版本名称。

# c++ - 传递参数时的宏扩展问题

> ID：15804171
> 
> 赞同：2
> 
> 时间：2013-04-04T06:39:48.293
> 
> 标签：c++

想不通这个是怎么回事。这是我正在尝试做的一个例子。

```
class WhatThe
{
 public:
  WhatThe(std::string Type, int channel) {}
  ~WhatThe() {}

  void Doitnow() {}
};

#define DO_SOMETHING_TEST1 WhatThe("TEST1", channel)
#define DO_SOMETHING_TEST2 WhatThe("TEST2", channel)

#define DO_IT(type, channel) \
        DO_SOMETHING_##type.Doitnow() 
```

然后打电话

```
DO_IT(TEST1,1); 
```

我收到一个 -- 错误：“通道”未在此范围内声明

我什至可以做的是，你能在宏中包含宏并通过它们传递参数吗？我本来以为

```
DO_SOMETHING_##type.Doitnow() 
```

最终会扩大到

```
WhatThe("TEST1", 1).DoitNow() 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:47:33.687

```
#define DO_SOMETHING_TEST1(channel) WhatThe("TEST1", channel)
#define DO_SOMETHING_TEST2(channel) WhatThe("TEST2", channel)

#define DO_IT(type, channel) \
        DO_SOMETHING_##type(channel).Doitnow() 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-04T06:53:57.273

```
#define TEST "TEST1"
#define CHANNEL 1

WhatThe(TEST, CHANNEL).DoitNow() 
```

每当您想要执行不同的 TEST 或 CHANNEL 时，这与您提出的解决方案具有相同数量的代码更改。要进行不同的测试，只需更改定义。

要组合参数，请执行以下操作：

```
#ifdef TEST1_CHANNEL1
    #define TEST "TEST1"
    #define CHANNEL 1
#endif

#ifdef TEST1_CHANNEL2
    #define TEST "TEST1"
    #define CHANNEL 2
#endif

... 
```

# android - 如何使用服务接收短信并从收件箱读取短信并将短信从收件箱发送到Android中的另一个活动？

> ID：15804172
> 
> 赞同：0
> 
> 时间：2013-04-04T06:39:53.773
> 
> 标签：android

我正在开发一个 Android 项目。在这个项目中，我将一些数据从 android 应用程序发送到 webserver。现在我可以使用 PHP-MySQL 完美地将数据从 Android 客户端发送到 WebServer。现在我的问题是如何制作一个 android 应用程序以便我可以接收短信和收到短信后，如何从收件箱中读取短信，然后如何将读取（检索）短信发送到正在向网络服务器发送数据（消息）的应用程序。我想完全在后台接收、阅读和发送到活动。

# ios - 从应用程序委托重新加载 webview 不起作用

> ID：15804173
> 
> 赞同：0
> 
> 时间：2013-04-04T06:40:00.213
> 
> 标签：ios, objective-c, uiwebview

当我的应用程序进入前台时，我想在我的视图控制器中重新加载一个 webview。我在我的应用程序委托`-applicationWillEnterForeground`和`-applicationDidBecomeActive`方法中创建了一个视图控制器对象。但我无法刷新我的 webview。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:04:06.767

applicationWillEnterForeground 可能不是最好的方法。

在包含 webView 的类中添加如下通知方法

```
[[NSNotificationCenter defaultCenter] addObserver:self
 selector:@selector(didEnterForeground)
 name:UIApplicationWillEnterForegroundNotification
 object:nil];

-(void) didEnterForeGround
{
//[webView reload];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:45:45.923

当您的应用程序进入前台时，应用程序处于活动状态，特别是 viewdidload 或 viewdidAppear 方法 [WEBVIEW ReloadData] 上的视图控制器；就是这样，你不想在 appdelegate 类中做任何事情

# javascript - 如何使用 html/javascript 限制用户输入小数点后 6 位数字

> ID：15804174
> 
> 赞同：-1
> 
> 时间：2013-04-04T06:40:06.657
> 
> 标签：javascript, html

我有一个数字类型的输入框。我需要的是限制用户在小数点后输入不超过 6 位。我搜索了一些，但我得到的只是`max`and`step`属性。是否可以使用任何 html 属性？也可以使用 javascript 解决方案，但**最好使用 html 解决方案。**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:45:52.943

有了今天的 HTML 支持，在我们拥有[pattern 属性](http://www.whatwg.org/specs/web-apps/current-work/multipage/common-input-element-attributes.html#the-pattern-attribute)之前，没有 JavaScript 就无法做到。

这是一个基于 JavaScript 的解决方案，可防止任何错误输入：

```
var lastValue='';
yourinput.onkeyup = function(e) {
  if (!/^\d*\.?\d{0,6}$/.test(this.value)){
    this.value = lastValue;
  }
  lastValue = this.value;
} 
```

[示范](http://jsbin.com/uxezun/1/edit)

除了阻止输入，您还可以简单地显示一条消息：

```
<input id=yourinput pattern="\d+">
<span id=bad style="display:none;color:red">BAD</span>

document.getElementById('yourinput').onkeyup = function(e) {
  document.getElementById('bad').style.display = 
    /^\d*\.?\d{0,6}$/.test(this.value) ? 'none' : 'block';
} 
```

[示范](http://jsbin.com/uxezun/2/edit)

# asp.net - UserPrincipal.FindByIdentity 有时会因 DirectoryServicesCOMException 失败：发生操作错误

> ID：15804177
> 
> 赞同：1
> 
> 时间：2013-04-04T06:40:16.573
> 
> 标签：asp.net, visual-studio, active-directory, claims-based-identity

我们是一个团队，我们每个人都会遇到这种有点随机的错误。该错误在下面列出并出现在以下行： UserPrincipal.FindByIdentity(principalContext, windowsPrincipal.Identity.Name);

**它工作得很好几天/几周/几个月，然后我们中的一个人得到这个错误。**

在我们的测试服务器上，我们不会像本地机器那样频繁地部署更改，它在我们得到这个错误之前工作了好几个月。

如果我们将应用程序池从 ApplicationPoolIdentity 更改为 NetworkService，则可以。但是，切换回 ApplicationPoolIdentity 后，会出现相同的错误。

IISreset 没有帮助。

重新启动计算机总是可以解决问题，因此 ApplicationPoolIdentity 每天都可以对我们进行身份验证。

这是我们使用的代码（稍作修改）：

```
var windowsPrincipal = principal as WindowsPrincipal;
if (windowsPrincipal == null)
    return null;
try
{
    var principalContext = new PrincipalContext(ContextType.Domain);
    var userPrincipal = UserPrincipal.FindByIdentity(principalContext, windowsPrincipal.Identity.Name);
    if (userPrincipal == null) return null;
    return userPrincipal.Surname;
} 
```

这是错误消息：

```
An operations error occurred.
Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code.

Exception Details: System.DirectoryServices.DirectoryServicesCOMException: An operations error occurred.

Source Error:
var principalContext = new PrincipalContext(ContextType.Domain);
var userPrincipal = UserPrincipal.FindByIdentity(principalContext, windowsPrincipal.Identity.Name);

Stack Trace:

[DirectoryServicesCOMException (0x80072020): An operations error occurred.
]
   System.DirectoryServices.DirectoryEntry.Bind(Boolean throwIfFail) +628309
   System.DirectoryServices.DirectoryEntry.Bind() +44
   System.DirectoryServices.DirectoryEntry.get_AdsObject() +42
   System.DirectoryServices.PropertyValueCollection.PopulateList() +29
   System.DirectoryServices.PropertyValueCollection..ctor(DirectoryEntry entry, String propertyName) +63
   System.DirectoryServices.PropertyCollection.get_Item(String propertyName) +163
   System.DirectoryServices.AccountManagement.PrincipalContext.DoLDAPDirectoryInitNoContainer() +521413
   System.DirectoryServices.AccountManagement.PrincipalContext.DoDomainInit() +51
   System.DirectoryServices.AccountManagement.PrincipalContext.Initialize() +161
   System.DirectoryServices.AccountManagement.PrincipalContext.get_QueryCtx() +42
   System.DirectoryServices.AccountManagement.Principal.FindByIdentityWithTypeHelper(PrincipalContext context, Type principalType, Nullable`1 identityType, String identityValue, DateTime refDate) +29
   System.DirectoryServices.AccountManagement.UserPrincipal.FindByIdentity(PrincipalContext context, String identityValue) +81 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-06T14:39:05.477

如果您不将其丢弃在 finaly 块中，您最终将耗尽资源......

```
Using (var principalContext = new PrincipalContext(ContextType.Domain)) 
{
var userPrincipal = UserPrincipal.FindByIdentity(principalContext, 
  windowsPrincipal.Identity.Name);
if (userPrincipal == null) return null;
  return userPrincipal.Surname;
} 
```

应该有帮助

# vim - 如何删除，包括当前字符？

> ID：15804179
> 
> 赞同：19
> 
> 时间：2013-04-04T06:40:28.060
> 
> 标签：vim

假设我输入了“abcdefg”，光标位于末尾。我想删除回c，这样我就只剩下“abc”了。

有没有这样的命令`d`包含当前字符？我知道我可以做到`dTcx`，但`x`感觉像是一种变通方法，我想有更好的解决方案。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-04T07:09:09.180

不。向后运动总是从当前字符的左侧开始`c`，这在某种程度上是合乎逻辑的`y`，`d`但也令人不安。

我能想到的唯一“干净”解决方案意味着先移动到字符`c`，然后再进行前向删除：

```
Tcde 
```

或使用视觉模式：

```
vTcd
v3hd 
```

但是，鉴于您的样本并假设您只是为了进行校正而进入正常模式，整个事情对我来说听起来非常浪费。

如何保持插入模式并简单地做`←</kbd>`←</kbd>`←</kbd>`←</kbd>?````

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-04T07:51:44.883

试试这个：

```
TcD 
```

这将留给`abc`你的例子......好吧，如果这`abcdefg`是该行的最后一个词。

如果它不是该行中的最后一个单词，您可以这样做：

```
ldTc 
```

或打高尔夫球，在 3 次击键内完成：

```
3Xx or l4X 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-11-06T13:04:01.483

请参阅类似问题的[答案](https://stackoverflow.com/a/9518819/353612)：允许超出行尾的设置

从文档：

> 虚拟编辑意味着可以将光标定位在没有实际字符的地方。这可以在制表符的中间或超出行尾。对于在可视模式下选择矩形和编辑表格很有用。“onemore”不一样，它只允许在行的最后一个字符之后移动光标。这使得一些命令更加一致。以前，如果该行为空，则光标总是超过该行的末尾。但它与 Vi 不兼容。它也可能会破坏一些插件或 Vim 脚本。例如因为 |l| 可以将光标移动到最后一个字符之后。小心使用！使用该`$`命令将移动到行中的最后一个字符，而不是超过它。这实际上可能会将光标向左移动！这`g$`命令将移动到屏幕行的末尾。将“all”与“onemore”结合起来是没有意义的，但您不会收到警告。

简而言之，您可以尝试一下`:set virtualedit=onemore`，看看您的环境是否稳定。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-04T06:44:26.947

使用`d?c` 这将启动`d`模式，搜索回“c”，然后删除到您的光标位置。

编辑：不，不包括当前位置...

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-04T06:48:00.347

我可能误解了您的要求，但确实`3hd$`做到了吗？

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-12-10T10:58:22.300

我会`vFdd`在这个例子中使用。我认为它比其他解决方案更好，因为该命令明确显示了要删除的内容。删除时包括当前字符和指定字符。

*   `v`：进入视觉模式（标记文本）
*   `F`: 向后查找/转到字符
*   `d`: 将被删除的字符“d”。
*   `d`: 删除命令

由于是可视模式，因此在执行实际删除之前也可以移动光标`d`。这使得该命令甚至可以通过首先标记靠近字符的特殊字符然后调整位置来删除最多非唯一字符。

# java - 类中过多的泛型类型是否意味着糟糕的设计？

> ID：15804185
> 
> 赞同：5
> 
> 时间：2013-04-04T06:41:00.577
> 
> 标签：java, generics

我有一个接受*三个*泛型类型参数的类。我想知道这样做是否好。我的意思是这被认为是设计气味吗？假设某个类的泛型参数数量的近似限制更多？

```
class InnerStateMachine<ST extends Enum<?>,EV extends Enum<?>,PEV extends Enum<?>>{

} 
```

在哪里

`ST`- 是内部状态机的状态

`EV`- 是内部状态机的事件

`PEV`- 是我用于状态机之间通信的父状态机的事件

***更新**：*内部状态机包含在另一个作为父状态机的状态机中。因此，如果内部状态机想要在父级上触发某个事件，那么它会使用其中一个`PEV`事件来执行此操作，然后父级使用该事件来进行某些转换并更改其状态并执行某些操作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T19:42:37.577

您可以执行以下代码。不过，初始化内部状态机有点难看。

编辑：添加通用父事件。

```
import java.util.*;
interface Event {}
enum AEvent implements Event {
    e1
}
enum BEvent implements Event {
    e1
}
interface State {
    State processEvent(Event event);
}
enum AState implements State {
    s1,s2;
    public State processEvent(Event event) {
        return eventToState.get(event);
    }
    final Map<Event,State> eventToState=new TreeMap<Event,State>();
}
enum BState implements State {
    s1,s2;
    public State processEvent(Event event) {
        return eventToState.get(event);
    }
    final Map<Event,State> eventToState=new TreeMap<Event,State>();
}
interface ParentEvent {}
enum ParentEvents implements ParentEvent {
    e1;
}
class InnerStateMachine<St extends Enum<?> &State,Ev extends Enum<?> &Event,PEV extends Enum<?> &ParentEvent> {
    public InnerStateMachine(St state) {
        this.state=state;
    }
    St state() {
        return state;
    }
    St processEvent(Ev event) {
        State s=state.processEvent(event);
        if(s instanceof Enum<?>) {
            PEV pev=stateToParentEvent.get(s);
            if(pev!=null)
                System.out.println("fire parent event "+pev);
            return state=(St)s; // unsafe cast
        } else throw new RuntimeException("oops");
    }
    St state;
    Map<St,PEV> stateToParentEvent=new TreeMap<St,PEV>();
}
public class So15804185 {
    public static void main(String[] args) {
        AState.s1.eventToState.put(AEvent.e1,AState.s2);
        BState.s1.eventToState.put(BEvent.e1,BState.s2);
        InnerStateMachine<AState,AEvent,ParentEvents> innerStateMachineA=new InnerStateMachine<AState,AEvent,ParentEvents>(AState.s1);
        innerStateMachineA.stateToParentEvent.put(AState.s2,ParentEvents.e1);
        innerStateMachineA.processEvent(AEvent.e1);
        System.out.println(innerStateMachineA.state());
        InnerStateMachine<BState,BEvent,ParentEvents> innerStateMachineB=new InnerStateMachine<BState,BEvent,ParentEvents>(BState.s1);
        innerStateMachineB.processEvent(BEvent.e1);
        System.out.println(innerStateMachineA.state());
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:53:04.520

根据您的描述，在我看来，您的 3 个通用类类型更像是您的类的属性。如果对于例如您的 ST 类类型，您想要使用任何一个，泛型将是正确的

```
Enum StateEnum1 { idle, busy } 
```

有时你想使用

```
Enum StateEnum2 { Idle, QuiteBusy, VeryBusy }. 
```

但是，如果您的 3 种泛型类类型中的每一种都只考虑一个 Enum，那么泛型就不合适了。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T08:38:34.667

我建议将您的枚举包装到一个接口中（实现接受枚举），然后将该类型用作通用参数 - 从您的描述来看，枚举的外观属于一个内聚单元。

看起来 ST 和 PEV 也属于自己的界面——其中大部分是基于问题上下文的推测。

# asp.net - 如何保留用户登录会话时间，直到他没有使用 vb.net 注销 asp.net？

> ID：15804192
> 
> 赞同：0
> 
> 时间：2013-04-04T06:41:30.767
> 
> 标签：asp.net, vb.net

```
Protected Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load
    If Not Page.IsPostBack Then
        date_time = Now.ToString("hh:mm, MMM-dd-yy")
        Dim constrng As String = ConfigurationManager.ConnectionStrings("cs").ConnectionString
        If Session("user_id") Is Nothing Then
            Response.Redirect("Login.aspx")
        Else
            Welcome_id.Text = "Welcome " + Session("user_id").ToString
            fill_zone()
            grid_view_load()
        End If
    End If
End Sub 
```

想要全局用户登录会话和连接字符串

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:47:44.547

以下代码示例在 Web.config 文件中将超时会话属性设置为 30 分钟。

```
<configuration>
  <system.web>
    <sessionState 
      mode="InProc"
      cookieless="true"
      timeout="30" />
  </system.web>
</configuration> 
```

还要检查 iis sessiontimeout 设置的内容。

# android - 如何在 Android 中弹出一个活动？

> ID：15804194
> 
> 赞同：1
> 
> 时间：2013-04-04T06:41:34.017
> 
> 标签：android, android-activity

我正在使用聊天应用程序。我为笑脸开发了一个网格布局。我有两个活动 A 和 B。A 用于带有笑脸按钮的聊天窗口，B 用于笑脸网格布局。活动 B 有一些生成笑脸的布局。当用户按下 A 中的笑脸按钮时，我想弹出一个活动 B。如何实现这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:47:37.857

编辑清单文件：

```
<activity android:theme="@android:style/Theme.Dialog"> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:03:47.277

如果我遇到了您的问题，那么您可以静态创建带有笑脸图像的布局，然后调用 Activity B 并在 Activity A 中使用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:16:21.610

您可以创建一个简单的活动，并为其设计创建一个不是全屏布局的布局：

然后`Activity`在清单文件中添加这个并将这个主题添加到其中：

```
android:theme="@android:style/Theme.Translucent.NoTitleBar" 
```

`Activity`然后您可以通过在 this中添加 this 来`onCreate`为 this的周围添加模糊效果`Activity`：

```
getWindow().setFlags(WindowManager.LayoutParams.FLAG_BLUR_BEHIND, WindowManager.LayoutParams.FLAG_BLUR_BEHIND); 
```

# wordpress - Wordpress 显示未发布帖子的 404 页面模板

> ID：15804198
> 
> 赞同：0
> 
> 时间：2013-04-04T06:41:41.673
> 
> 标签：wordpress

当我打开指向尚未发布的帖子的 URL 时，wordpress 会显示 404 页面。但我想向用户显示一条有意义的消息“您的帖子不是由管理员发布的，请联系管理员发布”

我怎样才能做到这一点？

编辑：在我的情况下，他们有什么方法可以让 wordpress 运行我的 single.php 模板而不是 404 模板吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:09:19.537

使未发布的帖子的网址像这样。 [http://yoursite.com/?p=587&preview=true](http://yoursite.com/?p=587&preview=true) 并将 charlie if else 条件放入 single.php 但请记住用户必须登录才能查看帖子的预览

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:53:35.560

我不确定，只是一个提示添加脚本有点像这样`single.php`：

```
if($post['post_status'] == "publish"){
   //do something
}else {
   // it's not published (i.e. draft or other) so do nothing 
 } 
```

只需这样做 `print_r($post)`，它将显示带有键和值的完整数组。

祝你好运 ！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T09:48:15.940

您可以使用 the_posts 过滤器显示未发布的帖子，而不是 404 页面模板。

欲了解更多信息，请访问[此页面](https://github.com/studio20nyu/Assignment-Desk/commit/b4c74701cb6538bf89cb341efc3692b59dbff43f#L0R29)。

# wordpress - 如何让 $post_id 默认为当前帖子

> ID：15804200
> 
> 赞同：0
> 
> 时间：2013-04-04T06:41:46.190
> 
> 标签：wordpress, post, comments, default

我正在使用 Wordpress，在我的单个帖子页面上，我不想显示对此特定帖子的所有评论，但我会获得对我博客上所有帖子的所有评论。$post_id 不应该默认为有问题的帖子吗？我有这个代码：

```
$comments = get_comments();
foreach($comments as $comment) :

  if ($comment->comment_approved == 1) {

    echo '<hr /><h5>' . $comment->comment_author . '
    </h5><p class="visitorAuthor">' . $comment->comment_date . '</p>
    <p>' . $comment->comment_content . '</p>';
    if ($comment->comment_author_url != '') { echo '<p><a href="' . $comment->comment_author_url . '" Target="_blank">Besök min hemsida</a>' ; }

 }

endforeach; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:46:57.240

如果您`<?php comments_template( '', true ); ?>`在[The Loop](http://codex.wordpress.org/The_Loop)中使用，那么您不必传递 post_id，这将自动显示特定帖子的评论。[评论模板](http://codex.wordpress.org/Function_Reference/comments_template)

但是对于 get_comments，您必须传递**post_id**参数才能获取特定帖子的评论。默认情况下，它将获取所有评论[get_comments](http://codex.wordpress.org/Function_Reference/get_comments)

例子

```
<?php
$args = array(
    'status' => 'approve',
    'post_id' => 1, // use post_id, not post_ID
);
$comments = get_comments($args); 
```

上面的代码应该得到所有已批准的帖子 id 1 的评论

# jsp - div id 中的 Scriptlet 变量

> ID：15804202
> 
> 赞同：0
> 
> 时间：2013-04-04T06:41:50.130
> 
> 标签：jsp, scriptlet

嗨，我们可以将 scriptlet 变量值分配给 jsp 中的 div id 吗？我在我的jsp中尝试这样：

```
 <%int nc=1; %> 
  <div id="nc"+<%=nc%> class="n_content active">
       Some div content
        <%nc++;%>
 </div>
 <div id="nc"+<%=nc%> class="n_content" style="opacity: 1;">             
                                               Some div content
        <%nc++;%>
 </div> 
```

我想要的输出是

```
 <div id="nc1" class="n_content active">
       Some div content
        <%nc++;%>
 </div>
 <div id="nc2" class="n_content" style="opacity: 1;">             
                                               Some div content
        <%nc++;%>
 </div> 
```

但我无法得到这个..有人能告诉我我哪里出错了吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:47:22.763

尝试：

```
<div id="nc<%=nc%>" class="n_content active"> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:51:15.390

使用下面的代码。

```
 <%int nc=1; %> 

 <div id="nc<%=nc%>" class="n_content active">
         <!--Some div content-->
        <%nc++;%>
 </div>
 <div id="nc<%=nc%>" class="n_content" style="opacity: 1;">             
         <!--Some div content-->
        <%nc++;%>
 </div> 
```

# php - 寻找无需输入运营商即可发送短信的 API

> ID：15804209
> 
> 赞同：0
> 
> 时间：2013-04-04T06:42:06.297
> 
> 标签：php

我正在尝试找到一个代码已经完成的 API，您可以在其中向手机发送短信而无需输入运营商。该号码根据号码序列知道运营商。有什么建议么？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:46:26.770

SMS 的路由是在 HLR 上完成的，号码顺序并不重要，因为无论如何在大多数国家/地区，您都可以保留号码并更改提供商。您需要通过提供商，例如南非的 Clickatell。SMS 提供商将拥有自己的 API

# apache - PHP mail() 困扰 Mac

> ID：15804210
> 
> 赞同：0
> 
> 时间：2013-04-04T06:42:14.957
> 
> 标签：apache, email, terminal, php

我正在尝试使用 php`mail()`函数从我的 mac 发送一封电子邮件，但我似乎无法让它工作。我可以`sendmail`从终端开始，没有错误，并编辑了我的系统`php.ini`文件，`/private/etc`将其设置`sendmail_path`为`/usr/sbin/sendmail -t -i`并取消注释。我创建了一个简单的 php 脚本：

```
<?php
mail("<my email address>", "Test", "This is a Test Message", "From:" . "<another of my email addresses>");
echo "Mail Sent\n";
?> 
```

我正在使用`php mail.php`. 它与“已发送邮件”相呼应，但似乎没有发送任何电子邮件。它在某个地方迷路了，但我不知道在哪里。我重新启动了 Apache，仔细检查了它`sendmail`是否正在运行，但没有任何效果。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:51:16.250

您不能使用本地主机中的“mail（）”功能发送邮件，因为您必须在任何托管服务提供商上托管您的代码，然后您可以从中发送邮件

有关更多信息，请参阅此[链接](http://php.net/manual/en/function.mail.php)。

如果您想从本地主机发送邮件，那么您可以使用特定的 API，例如，如果您想使用您的 gmail 凭据发送邮件，请尝试使用这个[php mailer](http://phpmailer.worxware.com/)

# iphone - 如何在IOS中将xml文档转换为NSString

> ID：15804214
> 
> 赞同：2
> 
> 时间：2013-04-04T06:42:27.853
> 
> 标签：iphone, ios, xml, xml-serialization

我在 ios 中创建 xml，这是正确的（在日志上打印），但是当我将`xmlDocument`in转换为时`NSString`，字符串包含 null 当我在日志中打印时，需要 sting 作为 webservice 的参数，如何分配`xmlDocument`给`NSString`...谢谢..

> 我的代码是...

```
GDataXMLElement *rootElement = [GDataXMLElement elementWithName:@"Root"];

GDataXMLElement *zipCode = [GDataXMLElement elementWithName:@"zipCode" stringValue:self
                            .tfZipcode.text];
GDataXMLElement *phoneNo = [GDataXMLElement elementWithName:@"phoneNo" stringValue:self.tfPhone.text];
GDataXMLElement *cellNo = [GDataXMLElement elementWithName:@"cellNo" stringValue:self.tfCell.text];

GDataXMLElement *city = [GDataXMLElement elementWithName:@"city" stringValue:self.tfCity.text];
GDataXMLElement *zone = [GDataXMLElement elementWithName:@"zone" stringValue:self.tfZone.text];
GDataXMLElement *firstName = [GDataXMLElement elementWithName:@"firstName" stringValue:self.tfFirstName.text];
GDataXMLElement *lastName = [GDataXMLElement elementWithName:@"lastName" stringValue:self.tfLastName.text];
GDataXMLElement *address = [GDataXMLElement elementWithName:@"address" stringValue:self.tfAddress.text];
GDataXMLElement *email = [GDataXMLElement elementWithName:@"email" stringValue:self.tfEmail.text];

GDataXMLElement *service = [GDataXMLElement elementWithName:@"service" stringValue:self.tfService.text];
GDataXMLElement *product = [GDataXMLElement elementWithName:@"product" stringValue:self.tfProduct.text];
GDataXMLElement *symptom = [GDataXMLElement elementWithName:@"symptom" stringValue:self.tfSymptoms.text];
GDataXMLElement *jobType = [GDataXMLElement elementWithName:@"jobType" stringValue:self.tfJobType.text];
GDataXMLElement *ref = [GDataXMLElement elementWithName:@"ref" stringValue:self.tfRef.text];
GDataXMLElement *reqDate = [GDataXMLElement elementWithName:@"reqDate" stringValue:self.tfDateTime.text];

[rootElement addChild:zipCode];
[rootElement addChild:phoneNo];
[rootElement addChild:cellNo];
[rootElement addChild:city];
[rootElement addChild:zone];
[rootElement addChild:firstName];
[rootElement addChild:lastName];
[rootElement addChild:address];
[rootElement addChild:email];
[rootElement addChild:service];
[rootElement addChild:product];
[rootElement addChild:symptom];
[rootElement addChild:jobType];
[rootElement addChild:ref];
[rootElement addChild:reqDate];

GDataXMLDocument *xml = [[GDataXMLDocument alloc] initWithRootElement:rootElement];
NSLog(@"%@", [xml rootElement]);   // print xml on log

NSString *stringXml = [xml rootElement];

NSLog(@"%@",stringXml); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T07:23:26.873

试试这个，

```
NSString * YOURSTRING = [[NSString alloc] initWithData:[xml rootElement] encoding:NSUTF8StringEncoding];
NSLog(@"%@",YOURSTRING); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T06:48:47.910

试试这个。

```
 NSString *stringXml = [NSString stringWithFormat:@"%@", [xml rootElement]];

  NSLog(@"%@",stringXml); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-10-30T21:43:13.463

这是正确的方法，否则，您将丢失 xml 元素，从而丢失 xml 版本和文档编码。

```
GDataXMLDocument * xmlDocument = [[GDataXMLDocument alloc] initWithRootElement:rootElement];

[xmlDocument setVersion:@"1.0"];
[xmlDocument setCharacterEncoding:@"UTF-8"];

NSString *xmlDocumentRepresentation = [[NSString alloc] initWithData:xmlDocument.XMLData encoding:NSUTF8StringEncoding];

NSLog(@"xml %@", xmlDocumentRepresentation); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2015-01-12T04:13:39.733

你应该尝试这种方式，更容易：

```
NSString *yourXMLString = [[GDataXMLDocument rootElement] xmlString]; 
```

我用这种方式很多。祝你好运！

# c - libev 套接字通信失败

> ID：15804219
> 
> 赞同：0
> 
> 时间：2013-04-04T06:42:47.297
> 
> 标签：c, sockets, libev

我有一个基于 libev 的套接字服务器，它从多个同时套接字获取消息

我使用 recv() 从套接字接收消息。和 send() 与套接字通信问题是，有时即使我做了一个 send() 并且 send() 的输出> 0 仍然另一端的套接字什么也没收到

代码的精简版本在这里 [http://pastebin.com/SM7uPkVD](http://pastebin.com/SM7uPkVD)

（大部分是从网络上剪下来的）

问题是 99% 的套接字通信都工作得很好，只是在某些地方失败了。我有什么明显的遗漏吗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:08:18.207

使用`SOCK_STREAM`套接字时，不能保证多次发送会导致多次接收。特别是，您的服务器可能会在第 124 行一次读取多个合并的请求，然后在第 135 行仅回复一次，导致您认为数据正在丢失。您应该检查是否`readlen > 3`验证这一点。

# facebook - 如何在facebook中检索群组的相册

> ID：15804222
> 
> 赞同：1
> 
> 时间：2013-04-04T06:42:52.257
> 
> 标签：facebook, facebook-fql

如何从使用 fql 在 facebook 中创建的组中获取专辑列表及其图像？我应该怎么办 ？正常查询不工作..

```
SELECT  name,description,aid,object_id  FROM album WHERE owner = $group_id 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-31T18:49:52.163

此功能不适用于团体，例如个人资料。

这是一个与此问题相关的问题： [如何通过 Open Graph 获取 Facebook 群组相册](https://stackoverflow.com/questions/13039878/how-to-get-facebook-group-albums-via-open-graph)

您可以通过将 Facebook 信任合作伙伴列入白名单来解决此问题，请参阅：http: [//developers.facebook.com/preferredmarketingdevelopers/](http://developers.facebook.com/preferredmarketingdevelopers/)

# javascript - JavaScript 方形对象

> ID：15804224
> 
> 赞同：0
> 
> 时间：2013-04-04T06:42:55.773
> 
> 标签：javascript

在 Java Script 中，如何创建一个正方形对象，其唯一属性是一侧的长度，唯一的方法是 get Area()，它返回面积（长度平方）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T07:05:37.190

要创建对象，您可以使用函数作为构造函数和[`new`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/new)keyworkd

```
function Square (length) {
    this.length = length;
} 
```

*调用时，构造函数将调用时`length`使用的参数 ( ) 分配给新的 Objects`length`属性*

*`this` 在这种情况下指的是新的对象*
*你可能还想阅读 MDNs 关于[`this`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/this)关键字的文章*

现在我们有了一个构造函数，我们可以为函数`Square`的[原型分配一个方法](https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Inheritance_and_the_prototype_chain)

一旦创建，哪些 gehts 由其实例共享

```
Square.prototype.getArea = function () {
    return this.length * this.length; 
} 
```

*这只是返回`length`调用它的对象的属性的平方*

要实际创建您的“方形”对象，您可以使用`new`构造函数创建一个新实例`Square`

```
var mySquare = new Square(4); 
```

现在`mySquare`拥有一个`Square`. 例如，您可以记录该`getArea`方法的结果

```
console.log(mySquare.getArea()) //16; 
```

这是一个关于[JSBin的例子](http://jsbin.com/uxewey/1/edit)

# opencv - 是否可以确定使用网络摄像头的人的距离？

> ID：15804226
> 
> 赞同：1
> 
> 时间：2013-04-04T06:43:00.077
> 
> 标签：opencv, javacv

我正在探索 javacv 中人脸检测的示例程序。是否有可能找到在 Live Feed 中检测到面部的人的距离？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T12:08:31.500

从你的相机开始（比如 camera_frame.{width=320,height=240}。用卷尺手动设置一些位置（！）：

```
- box.area/frame.area ≈ 0,6 -> e.g.  30cm
- box.area/frame.area ≈ 0,3 -> e.g. 100cm
- box.area/frame.area ≈ 0,1 -> e.g. 300cm 
```

现在可以通过简单的线性插值找到每个捕获的检测框。对于任何输入分辨率，只需将帧大小调整为 320x240。

# java - 如何从库中调用主程序中的类？

> ID：15804230
> 
> 赞同：1
> 
> 时间：2013-04-04T06:43:17.250
> 
> 标签：java, android

我需要编写多个共享通用功能/资源的程序。我正在寻找是否可以将这些程序的很大一部分放入库中。场景如下：

ProgA、ProgB 和 ProgC 是使用 libX 的程序。

libX 有一个类 XYZ，它将实例化一个类 ABC。

ProgA、ProgB 和 ProgC 都有 ABC 类的不同实现。

我如何构建我的程序来实现这一点？我试图进行研究，但无法找到答案。提前致谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:48:29.280

您可以在您的库中声明一个公共接口`ABCInterface`，其中包含操作您的库所需的所有方法。然后，您的不同程序将声明其`ABC`实现此接口的类并将引用传递给您的库的方法。

如果您需要在库中实例化类（一次或多次），您可以将引用传递给工厂而不是类实例本身。以下代码可能会让您了解如何实现此类功能。

```
// Library code
interface ABCInterface {
    public int getValue();
}

interface ABCFactory {
    public ABCInterface createInstance();
}

class Library {
    public static void doWork(ABCFactory factory) {
        ABCInterface obj = factory.createInstance();
        System.out.println(obj.getValue());
    }
}

// Program code
class Program {
    class ABCImplementation implements ABCInterface {
        @Override
        public int getValue() {
            return 42;
        }
    }

    public void useLibrary() {
        Library.doWork(new ABCFactory() {
            @Override
            public ABCInterface createInstance() {
                return new ABCImplementation();
            }
        });
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:51:07.667

似乎你需要创建 n[个控制反转](http://en.wikipedia.org/wiki/Inversion_of_control)。
在这种情况下，您需要 libX 具有指向接口 ABC 的指针，该接口具有您希望 libX 使用的所有功能，然后 progA、progB 和 progC 必须实现此接口。

当您启动程序时，您需要转到共享库并使用已知方法将正在运行的程序注入到库中，例如：

```
setProgram(IMyInterface interface) { 
    this.interface = interface; 
} 
```

这样，当您想运行已知的响应操作时，您就运行了`this.interface.doSomething()`，仅此而已。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:03:37.380

您将拥有一个基本库，该库`interface ABC`提供了允许您的`XYZ`类与类交互的接口`A`，`B`并且所有这些类`C`都实现了`interface ABC`。

```
public interface ABC {
    public void method1();
    public void method2();
} 
```

然后，您的库类只需要引用一个实现`interface ABC`.

```
public class XYZ {
    private ABC abc;
    public XYZ(ABC abc) { this.abc = abc; }
} 
```

然后你的`A`,`B`和`C`实现要么实现`ABC`或创建动态实现 ABC 的对象。

对我来说，这听起来很像回调方案。你的库需要一种标准的方式来将结果传达给特定的实现。`ABC`基本上是一个事件处理程序接口。

# c# - 以 bool 作为参数模拟一个方法并返回一个 List<> 和 Moq

> ID：15804233
> 
> 赞同：3
> 
> 时间：2013-04-04T06:43:22.917
> 
> 标签：c#, .net, mocking, moq

在我的测试中，我将数据定义为`List<IUser>`带有一些记录的数据。

我想设置一个最小起订量的方法`GetList`，这个方法接收一个`bool`作为参数。作为回报，我想`IUser`列出`IsValid`正确的列表。

我试过这个：

```
Mock<IUsers> mockUserRepository = new Mock<IUsers>();

mockUserRepository.Setup(mr => mr.GetList(It.IsAny<bool>()))
    .Returns((bool i) => _users.Select(x => x.IsValid == i)); 
```

但我得到这个错误：`cannot convert List<bool> to List<IUser>`

```
class User : IUser
{
   public bool IsValid { get; set; }
}

interface IUser
{
   bool IsValid { get; set; }
}

interface IUsers
{
    List<IUser> GetList(bool isActive);
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T06:52:39.117

如果要*返回 IsValid 为 true 的 IUser 列表，*则应返回 的列表`IUser`，而不是 的集合`bool`，因此使用`Where`过滤列表而不是`Select`.

```
// returns IEnumerable<boolean>
.Returns((bool i) => _users.Select(x => x.IsValid == i)); 
```

应该

```
// returns List<IUser>
.Returns((bool i) => _users.Where(x => x.IsValid == i).ToList()); 
```

# ruby-on-rails - 如何在 Rails 中向我的模型播放器添加布尔变量

> ID：15804234
> 
> 赞同：2
> 
> 时间：2013-04-04T06:43:38.840
> 
> 标签：ruby-on-rails, model

我想为我的模型播放器添加一个正在播放的布尔变量。

这是我认为可行的。

```
rails g migration player playing:bool 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-04T07:01:54.477

由于您想向现有模型添加一列，您可以像这样使用

```
rails generate migration AddPlayingToPlayers playing:boolean 
```

这就是它产生的

```
class AddPlayingToPlayers < ActiveRecord::Migration
  def change
    add_column :players, :playing, :boolean
  end
end 
```

并且在红宝石世界中，布尔值通常与 参考`?`，例如，如果您想检查播放是否是`true`或`false`

```
@player = Player.first
@player.playing? # true or false 
```

# facebook-javascript-sdk - 使用 Javascript 向 Facebook 好友发送邀请

> ID：15804236
> 
> 赞同：0
> 
> 时间：2013-04-04T06:43:45.593
> 
> 标签：facebook-javascript-sdk, facebook-requests, facebook-invite

从 2 天开始，我一直在尝试邀请 Facebook 朋友加入我们的应用程序。仍然没有得到解决方案。我已经尝试了以下代码及其向朋友发送的请求，但那些没有收到任何时间线或通知或任何东西。

```
<ul id="fcbklist">
    <?php foreach($facebook_friends as $key => $friend): ?>
        <li> <img src="https://graph.facebook.com/<?php echo $key; ?>/picture"/><strong><?php echo $friend;?></strong><br />
             <input type="checkbox" name="friendids[]" class="checkbox" value="<?php echo $key;?>" />
        </li>
    <?php endforeach; ?>
</ul>

<div id="fb-root"></div>
<script type="text/javascript" src="http://connect.facebook.net/en_US/all.js"></script>
<script type="text/javascript">

        FB.init({
            appId  : '259234574212521',
            frictionlessRequests: true
        });

      function sendRequestToRecipients() {
        var ids = [];
        $('.checkbox').each(function() {
            if($(this).is(':checked')) {
                ids.push($(this).val());
            }
        })
        alert(ids);
        var user_ids = ids;
        FB.ui({method: 'apprequests',
          message: 'Request to StoryTag',
          to: user_ids
        }, requestCallback);
      }

      function sendRequestViaMultiFriendSelector() {
        FB.ui({method: 'apprequests',
          message: 'Request to StoryTag'
        }, requestCallback);
      }

      function requestCallback(response) {
        // Handle callback here
        if(response){
            ///SUCCESS HERE
            alert('successful');
        } else {
            ///FALIURE COMES HERE
            alert('failure');
        }
      }
    </script> 
```

请帮我摆脱它。作品更受赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T09:02:55.170

apprequest 的参数“to”应该是一个字符串，而不是一个数组，所以你需要改变 var user_ids = ids; 到 var user_ids = ids.join(',');

文档：http: [//developers.facebook.com/docs/reference/dialogs/requests/#direct_request](http://developers.facebook.com/docs/reference/dialogs/requests/#direct_request)

# iphone - 在 MKMapView 中设置区域

> ID：15804237
> 
> 赞同：2
> 
> 时间：2013-04-04T06:43:46.013
> 
> 标签：iphone, ios, objective-c, mkmapview

我有 10 - 15 lat long 一次在地图上显示。我应该如何设置区域以便我可以看到地图上的所有注释。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T07:45:22.750

```
create class as below. create two class: ViewController is class of UIViewController and MapViewAnnotation is class of NSObject. I have created that two class as  below. bind mapview in XIB of ViewController and set delegate.

#import <UIKit/UIKit.h>
#import <MapKit/MapKit.h>
#import "MapViewAnnotation.h"

@interface ViewController : UIViewController<MKMapViewDelegate>{
    IBOutlet  MKMapView* mapView;
     NSMutableArray *arrayLocation;
}
@end

#import "ViewController.h"

@implementation ViewController

- (void)viewDidLoad
{
    [super viewDidLoad];

    arrayLocation = [[NSMutableArray alloc]init];
    NSMutableArray *arrAnnotations  = [[NSMutableArray alloc]init];
    NSMutableDictionary *dict = [[NSMutableDictionary alloc]init];
    [dict setValue:@"32.774125" forKey:@"latitude"];
    [dict setValue:@"-117.240658" forKey:@"longitude"];
    [dict setValue:@"Bars & Restaurants 1" forKey:@"title"];
    [arrayLocation addObject:dict];
    dict = nil;

    dict = [[NSMutableDictionary alloc]init];
    [dict setValue:@"32.784526" forKey:@"latitude"];
    [dict setValue:@"-117.240985" forKey:@"longitude"];
    [dict setValue:@"Bars & Restaurants 2" forKey:@"title"];
    [arrayLocation addObject:dict];
    dict = nil;

    dict = [[NSMutableDictionary alloc]init];
    [dict setValue:@"32.773477" forKey:@"latitude"];
    [dict setValue:@"-117.241144" forKey:@"longitude"];
    [dict setValue:@"Bars & Restaurants 3" forKey:@"title"];
    [arrayLocation addObject:dict];
    dict = nil;

    dict = [[NSMutableDictionary alloc]init];
    [dict setValue:@"32.775301" forKey:@"latitude"];
    [dict setValue:@"-117.238893" forKey:@"longitude"];
    [dict setValue:@"Bars & Restaurants 4" forKey:@"title"];
    [arrayLocation addObject:dict];
    dict = nil;

    for(int i=0;i<[arrayLocation count];i++)
    {
        CLLocationCoordinate2D location;
        location.latitude = [[[arrayLocation objectAtIndex:i] objectForKey:@"latitude"] doubleValue];
        location.longitude = [[[arrayLocation objectAtIndex:i] objectForKey:@"longitude"] doubleValue];

        MapViewAnnotation *newAnnotation = [[MapViewAnnotation alloc] initWithTitle:[[arrayLocation objectAtIndex:i] objectForKey:@"title"] Coordinate:location andIndex:i];
        [arrAnnotations addObject:newAnnotation]; 
    }
    [mapView addAnnotations:arrAnnotations];
    mapView.region = [MapViewAnnotation regionForAnnotations:arrAnnotations];
}
- (MKAnnotationView *)mapView:(MKMapView *)map viewForAnnotation:(id <MKAnnotation>)annotation 
{
    if (annotation == mapView.userLocation)
    {
        return nil;
    }
    MKPinAnnotationView *pin = (MKPinAnnotationView *) [mapView dequeueReusableAnnotationViewWithIdentifier: @"restMap"];
    if (pin == nil) 
    {
        pin = [[MKPinAnnotationView alloc] initWithAnnotation: annotation reuseIdentifier: @"restMap"];
    }
    else 
    {
        pin.annotation = annotation;
    }
    pin.pinColor = MKPinAnnotationColorRed;
    pin.animatesDrop = NO;
    pin.canShowCallout=TRUE;
    UIButton *btn=[UIButton buttonWithType:UIButtonTypeDetailDisclosure];
    MapViewAnnotation *temp = (MapViewAnnotation *)pin.annotation;
    btn.tag=temp.index;
    pin.rightCalloutAccessoryView=btn;
    [btn addTarget:self action:@selector(openDetail:) forControlEvents:UIControlEventTouchUpInside];

    return pin;
}
@end

Implementation of MapViewAnnotation class

#import <MapKit/MapKit.h>

@interface MapViewAnnotation : NSObject <MKAnnotation , MKMapViewDelegate>{
    NSString *title;
    int index;
    CLLocationCoordinate2D coordinate;

}

@property (nonatomic, copy) NSString *title;
@property (nonatomic, readwrite) int index;
@property (nonatomic, readonly) CLLocationCoordinate2D coordinate;

- (id)initWithTitle:(NSString *)ttl andCoordinate:(CLLocationCoordinate2D)c2d;
- (id)initWithTitle:(NSString *)ttl Coordinate:(CLLocationCoordinate2D)c2d andIndex:(int)intIndex;

+(MKCoordinateRegion) regionForAnnotations:(NSArray*) annotations ;
@end

#import "MapViewAnnotation.h"

@implementation MapViewAnnotation
@synthesize title, coordinate,index;

- (id)initWithTitle:(NSString *)ttl andCoordinate:(CLLocationCoordinate2D)c2d {
    self = [super init];
    title = ttl;
    coordinate = c2d;
    return self;
}

- (id)initWithTitle:(NSString *)ttl Coordinate:(CLLocationCoordinate2D)c2d andIndex:(int)intIndex
{
    self = [super init];
    title = ttl;
    coordinate = c2d;
    index = intIndex;
    return self;
}

+(MKCoordinateRegion) regionForAnnotations:(NSArray*) annotations 
{
    NSAssert(annotations!=nil, @"annotations was nil");
    NSAssert([annotations count]!=0, @"annotations was empty");

    double minLat=360.0f, maxLat=-360.0f;
    double minLon=360.0f, maxLon=-360.0f;

    for (id<MKAnnotation> vu in annotations) {
        if ( vu.coordinate.latitude  < minLat ) minLat = vu.coordinate.latitude;
        if ( vu.coordinate.latitude  > maxLat ) maxLat = vu.coordinate.latitude;
        if ( vu.coordinate.longitude < minLon ) minLon = vu.coordinate.longitude;
        if ( vu.coordinate.longitude > maxLon ) maxLon = vu.coordinate.longitude;
    }

    CLLocationCoordinate2D center = CLLocationCoordinate2DMake((minLat+maxLat)/2.0, (minLon+maxLon)/2.0);
    MKCoordinateSpan span = MKCoordinateSpanMake(maxLat-minLat, maxLon-minLon);
    MKCoordinateRegion region = MKCoordinateRegionMake (center, span);

    return region;
}

@end 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2017-02-12T12:53:34.913

如果有人正在寻找 Swift 3 解决方案，我已经编写了这个非常适合我的快速扩展 :)

```
public extension MKMapView {
    public static func visibleRect(for coords: [CLLocationCoordinate2D]) -> MKMapRect {
        return coords.reduce(MKMapRectNull) { outRect, coord in
            let point = MKMapPointForCoordinate(coord)
            let rect = MKMapRectMake(point.x, point.y, 0.1, 0.1)
            let union = MKMapRectUnion(rect, outRect)

            return union
        }
    }

    public func fitCoordinates(_ coords: [CLLocationCoordinate2D],
                               animated: Bool = true,
                               insets: UIEdgeInsets = UIEdgeInsets(top: 25, left: 25, bottom: 25, right: 25)) {
        let rect = MKMapView.visibleRect(for: coords)
        self.setVisibleMapRect(rect, edgePadding: insets, animated: animated)
    }
} 
```

这允许快速做到：

```
map.fitCoordinates([userLocation, location1, location2]) 
```

希望这对任何人都有帮助！

要点在这里：[https ://gist.github.com/freak4pc/1748322a1b8bba23b6de3f47cb00c3ea](https://gist.github.com/freak4pc/1748322a1b8bba23b6de3f47cb00c3ea)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-04T06:50:16.880

试试这样可能对你有帮助，

```
 MKCoordinateSpan span = MKCoordinateSpanMake(52.0f,80.0001f);
        CLLocationCoordinate2D coordinate = {8.9999, 18.2812};
        MKCoordinateRegion region = {coordinate, span};

        MKCoordinateRegion regionThatFits = [self.mapView regionThatFits:region];
        NSLog(@"Fit Region %f %f", regionThatFits.center.latitude, regionThatFits.center.longitude);

        [self.mapView setRegion:regionThatFits animated:YES]; 
```

分别替换您的坐标和所有值。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T06:59:02.770

**对于 Show All Annotation**使用此方法，我在与您的问题相同的问题中使用了此方法。它对我有用。

```
-(void)zoomToFitMapAnnotations:(MKMapView*)mapView
{
    if([mapView.annotations count] == 0)
        return;

    CLLocationCoordinate2D topLeftCoord;
    topLeftCoord.latitude = -90;
    topLeftCoord.longitude = 180;

    CLLocationCoordinate2D bottomRightCoord;
    bottomRightCoord.latitude = 90;
    bottomRightCoord.longitude = -180;

    for(MYAnnotation* annotation in mapView.annotations)// here MYAnnotation is custom annotation call.
    {
        topLeftCoord.longitude = fmin(topLeftCoord.longitude, annotation.coordinate.longitude);
        topLeftCoord.latitude = fmax(topLeftCoord.latitude, annotation.coordinate.latitude);

        bottomRightCoord.longitude = fmax(bottomRightCoord.longitude, annotation.coordinate.longitude);
        bottomRightCoord.latitude = fmin(bottomRightCoord.latitude, annotation.coordinate.latitude);

    }

    NSLog(@"A%f, B%f, C%f, D%f,", topLeftCoord.latitude, topLeftCoord.longitude, bottomRightCoord.latitude, bottomRightCoord.longitude);

    MKCoordinateRegion region;
    region.center.latitude = topLeftCoord.latitude - (topLeftCoord.latitude - bottomRightCoord.latitude) * 0.5;
    region.center.longitude = topLeftCoord.longitude + (bottomRightCoord.longitude - topLeftCoord.longitude) * 0.5;
    region.span.latitudeDelta = fabs(topLeftCoord.latitude - bottomRightCoord.latitude) * 1.1;
    region.span.longitudeDelta = fabs(bottomRightCoord.longitude - topLeftCoord.longitude) * 1.1;

    region = [mapView regionThatFits:region];
    [mapView setRegion:region animated:YES];
} 
```

在 Map View 上设置所有 Place(Annotation) 后调用此方法，例如..

```
 [self zoomToFitMapAnnotations:self.mapView]; 
```

# ruby-on-rails - RABL - 组合集合

> ID：15804239
> 
> 赞同：1
> 
> 时间：2013-04-04T06:43:47.260
> 
> 标签：ruby-on-rails, ruby, rabl

在我的控制器操作中，我有两个事件集合：

```
@recent = Event.recent
@popular = Event.popular 
```

我想要 JSON 如下：

```
{ "featured":[{},{}], "popular":[{},{},{}] } 
```

是否可以在 RABL 模板中实现？如果是这样，我应该采取什么方法？

非常感谢！

# css - 如何让这个颜色选择器显示在 boostrap 手风琴中（不改变手风琴的高度）？

> ID：15804240
> 
> 赞同：0
> 
> 时间：2013-04-04T06:43:50.747
> 
> 标签：css, twitter-bootstrap

[我问了一个关于颜色选择器和模态的类似问题，](https://stackoverflow.com/questions/14914986/how-do-i-get-this-colorpicker-to-show-in-a-modal-without-a-scrollbar)但现在我遇到了与颜色选择器和引导手风琴相同的问题。[看我的小提琴](http://jsfiddle.net/C7hAY/20/)。我试过'溢出-y：可见;' 几乎所有我认为会起作用的东西，但不幸的是它没有。同样，我不想改变手风琴的高度，只是能够查看颜色选择器。

```
.accordion{
    overflow-y: visible;
}
.accordion-group{
    overflow-y: visible;
}
.accordion-heading{
    overflow-y: visible;
}
.accordion-inner{
    overflow-y: visible;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:01:39.970

看起来你必须覆盖引导折叠类溢出属性。

```
.accordion-group .collapse{
    overflow: visible;
} 
```

[小提琴](http://jsfiddle.net/C7hAY/21/)

# php - 将字符串放在查询中时出现解析错误

> ID：15804242
> 
> 赞同：0
> 
> 时间：2013-04-04T06:43:59.357
> 
> 标签：php, mysql, php-parse-error

这是我的 php 代码。当我尝试执行代码时，浏览器正在生成警告。

```
<?php
include("config.inc.php");

$link = mysql_connect('localhost', 'root', '')
or die('Could not connect: ' . mysql_error());
echo 'Connected successfully'; 

mysql_select_db('lookup') or die('Could not select database');

$query = 'SELECT airport_id FROM airport';
$result = mysql_query($query) or die('Query failed: ' . mysql_error());

echo "<table>\n"; 

while ($line = mysql_fetch_array($result, MYSQL_ASSOC)) 
{
 echo "\t<tr>\n";
 foreach ($line as $col_value) 
 {
   echo "\t\t<td>$col_value</td>\n";
   $query1= 'SELECT distinct c.airport_ident,c.star_ident,c.fix_ident from corept.std_star_leg c
     INNER JOIN
     (SELECT star_ident,transition_ident,max(sequence_num) seq,route_type
      FROM corept.std_star_leg
      WHERE data_supplier='J' AND airport_ident='$col_value'
      GROUP BY star_ident,transition_ident)b
      ON c.sequence_num=b.seq AND c.star_ident=b.star_ident AND c.transition_ident=b.transition_ident
      WHERE  c.data_supplier='J'  AND c.airport_ident='$col_value'  AND

      NOT EXISTS

     (SELECT name,trans FROM skyplan_deploy.deploy_stars d
      WHERE d.apt=$col_value AND d.name!=d.trans
      AND c.star_ident=d.name and c.fix_ident=d.trans)

      UNION

     SELECT apt,name,trans FROM skyplan_deploy.deploy_stars d WHERE apt='$col_value' AND name!=trans
     AND

     NOT EXISTS

    (SELECT distinct c.star_ident,c.fix_ident from corept.std_star_leg c
     INNER JOIN
     (SELECT star_ident,transition_ident,max(sequence_num) seq,route_type FROM corept.std_star_leg
      WHERE data_supplier='J'  AND  airport_ident='$col_value'
      GROUP BY star_ident,transition_ident)b
      ON c.sequence_num=b.seq  AND  c.star_ident=b.star_ident AND c.transition_ident=b.transition_ident
      WHERE c.data_supplier='J' AND  c.airport_ident=$col_value AND d.name=c.star_ident  AND d.trans=c.fix_ident)';

   $result1 = mysql_query($query1) or die('Query failed: ' . mysql_error());
  while ($line1 = mysql_fetch_array($result1, MYSQL_ASSOC)) 
  {
   echo "\t<tr>\n";
   foreach ($line as $col_value) 
    {
     echo "\t\t<td>$col_value</td>\n";
     echo "\t</tr>\n";
    }
  }
 echo "\t</tr>\n";
}}
echo "</table>\n";

 mysql_free_result($result);

 mysql_close($link);
?> 
```

当我尝试执行上述代码时，它会在第 22 行生成一个警告，其中我将 $col_value 包含在我的查询中。请帮我纠正它。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:47:10.260

您缺少连接 ( `.`) 运算符：

```
$str = "Part 1" . $value . "Part 2"; 
```

但是，请不要这样查询，而是使用**[参数绑定](http://php.net/manual/en/pdostatement.bindparam.php)**。此类代码会导致**[SQL 注入](http://php.net/manual/en/security.database.sql-injection.php)**攻击和/或轻微的性能下降。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:45:47.577

使用这个查询。问题是您以变量开头`'`并使用`'`变量，但忘记转义它们。

```
$query1= "SELECT distinct c.airport_ident,c.star_ident,c.fix_ident from corept.std_star_leg c
 INNER JOIN
 (SELECT star_ident,transition_ident,max(sequence_num) seq,route_type
  FROM corept.std_star_leg
  WHERE data_supplier='J' AND airport_ident='$col_value'
  GROUP BY star_ident,transition_ident)b
  ON c.sequence_num=b.seq AND c.star_ident=b.star_ident AND c.transition_ident=b.transition_ident
  WHERE  c.data_supplier='J'  AND c.airport_ident='$col_value'  AND

  NOT EXISTS

 (SELECT name,trans FROM skyplan_deploy.deploy_stars d
  WHERE d.apt=$col_value AND d.name!=d.trans
  AND c.star_ident=d.name and c.fix_ident=d.trans)

  UNION

 SELECT apt,name,trans FROM skyplan_deploy.deploy_stars d WHERE apt='$col_value' AND name!=trans
 AND

 NOT EXISTS

(SELECT distinct c.star_ident,c.fix_ident from corept.std_star_leg c
 INNER JOIN
 (SELECT star_ident,transition_ident,max(sequence_num) seq,route_type FROM corept.std_star_leg
  WHERE data_supplier='J'  AND  airport_ident='$col_value'
  GROUP BY star_ident,transition_ident)b
  ON c.sequence_num=b.seq  AND  c.star_ident=b.star_ident AND c.transition_ident=b.transition_ident
  WHERE c.data_supplier='J' AND  c.airport_ident=$col_value AND d.name=c.star_ident  AND d.trans=c.fix_ident)"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T06:47:40.467

您使用了错误的引号。请尝试以下查询

```
$query1= "SELECT distinct c.airport_ident,c.star_ident,c.fix_ident from corept.std_star_leg c
         INNER JOIN
         (SELECT star_ident,transition_ident,max(sequence_num) seq,route_type
          FROM corept.std_star_leg
          WHERE data_supplier='J' AND airport_ident='$col_value'
          GROUP BY star_ident,transition_ident)b
          ON c.sequence_num=b.seq AND c.star_ident=b.star_ident AND c.transition_ident=b.transition_ident
          WHERE  c.data_supplier='J'  AND c.airport_ident='$col_value'  AND

          NOT EXISTS

         (SELECT name,trans FROM skyplan_deploy.deploy_stars d
          WHERE d.apt=$col_value AND d.name!=d.trans
          AND c.star_ident=d.name and c.fix_ident=d.trans)

          UNION

         SELECT apt,name,trans FROM skyplan_deploy.deploy_stars d WHERE apt='$col_value' AND name!=trans
         AND

         NOT EXISTS

        (SELECT distinct c.star_ident,c.fix_ident from corept.std_star_leg c
         INNER JOIN
         (SELECT star_ident,transition_ident,max(sequence_num) seq,route_type FROM corept.std_star_leg
          WHERE data_supplier='J'  AND  airport_ident='$col_value'
          GROUP BY star_ident,transition_ident)b
          ON c.sequence_num=b.seq  AND  c.star_ident=b.star_ident AND c.transition_ident=b.transition_ident
          WHERE c.data_supplier='J' AND  c.airport_ident=$col_value AND d.name=c.star_ident  AND d.trans=c.fix_ident)"; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T06:47:49.593

**将您的查询替换为：**

```
$query1= 'SELECT distinct c.airport_ident,c.star_ident,c.fix_ident from corept.std_star_leg c
     INNER JOIN
     (SELECT star_ident,transition_ident,max(sequence_num) seq,route_type
      FROM corept.std_star_leg
      WHERE data_supplier="J" AND airport_ident='.$col_value.'
      GROUP BY star_ident,transition_ident)b
      ON c.sequence_num=b.seq AND c.star_ident=b.star_ident AND c.transition_ident=b.transition_ident
      WHERE  c.data_supplier="J"  AND c.airport_ident='.$col_value.'  AND

      NOT EXISTS

     (SELECT name,trans FROM skyplan_deploy.deploy_stars d
      WHERE d.apt=$col_value AND d.name!=d.trans
      AND c.star_ident=d.name and c.fix_ident=d.trans)

      UNION

     SELECT apt,name,trans FROM skyplan_deploy.deploy_stars d WHERE apt='.$col_value.' AND name!=trans
     AND

     NOT EXISTS

    (SELECT distinct c.star_ident,c.fix_ident from corept.std_star_leg c
     INNER JOIN
     (SELECT star_ident,transition_ident,max(sequence_num) seq,route_type FROM corept.std_star_leg
      WHERE data_supplier="J"  AND  airport_ident='.$col_value.'
      GROUP BY star_ident,transition_ident)b
      ON c.sequence_num=b.seq  AND  c.star_ident=b.star_ident AND c.transition_ident=b.transition_ident
      WHERE c.data_supplier="J" AND  c.airport_ident=$col_value AND d.name=c.star_ident  AND d.trans=c.fix_ident)'; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-04T06:48:39.203

我认为错误在于您的查询字符串。试试这个：

```
$query1= "SELECT distinct c.airport_ident,c.star_ident,c.fix_ident from corept.std_star_leg c
     INNER JOIN
     (SELECT star_ident,transition_ident,max(sequence_num) seq,route_type
      FROM corept.std_star_leg
      WHERE data_supplier='J' AND airport_ident='".$col_value."'
      GROUP BY star_ident,transition_ident)b
      ON c.sequence_num=b.seq AND c.star_ident=b.star_ident AND c.transition_ident=b.transition_ident
      WHERE  c.data_supplier='J'  AND c.airport_ident='".$col_value."'  AND

      NOT EXISTS
 (SELECT name,trans FROM skyplan_deploy.deploy_stars d
  WHERE d.apt=$col_value AND d.name!=d.trans
  AND c.star_ident=d.name and c.fix_ident=d.trans)

  UNION

 SELECT apt,name,trans FROM skyplan_deploy.deploy_stars d WHERE apt='".$col_value."' AND name!=trans
 AND

 NOT EXISTS

(SELECT distinct c.star_ident,c.fix_ident from corept.std_star_leg c
 INNER JOIN
 (SELECT star_ident,transition_ident,max(sequence_num) seq,route_type FROM corept.std_star_leg
  WHERE data_supplier='J'  AND  airport_ident='".$col_value."'
  GROUP BY star_ident,transition_ident)b
  ON c.sequence_num=b.seq  AND  c.star_ident=b.star_ident AND c.transition_ident=b.transition_ident
  WHERE c.data_supplier='J' AND  c.airport_ident='".$col_value."' AND d.name=c.star_ident  AND d.trans=c.fix_ident)" 
```

您不能只在查询中包含变量。并在将查询放在 php 之前在后端测试您的查询。

# java - 如何读取多个excel表以将excel表的内容存储到数据库中

> ID：15804244
> 
> 赞同：-1
> 
> 时间：2013-04-04T06:44:06.263
> 
> 标签：java, mysql, jdbc

我编写了一个代码来使用属性文件将 excel 表的内容读入数据库。在我的代码中，我明确传递了 excel 文件名，bt 如果我想处理多个 excel 表，我该怎么办？如何读取多个excel表n如何将其保存在数据库中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:06:30.090

首先，您将 EXCEL 文件保存为 csv 格式。然后使用以下查询将数据插入数据库。

```
LOAD DATA INFILE 'data.csv' INTO TABLE db2.my_table; 
```

你明白我的意思了吗？

# java - java.awt 如何在 OSX 中将窗口绘制到屏幕上？

> ID：15804252
> 
> 赞同：1
> 
> 时间：2013-04-04T06:44:24.013
> 
> 标签：java, macos, awt, windowing

是在进行 Cocoa API 调用吗？还是其他类型的魔法？

# vb.net - 从文本中读取行并提交信息？

> ID：15804256
> 
> 赞同：0
> 
> 时间：2013-04-04T06:44:38.343
> 
> 标签：vb.net, click, notepad

我想知道是否有可能有一个包含一堆单词的*.txt*文件，例如：

```
Gaming  
Programs  
Home  
Select 
```

并让这些单词通过此处的值一一运行：

```
Private Sub Timer1_Tick(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Timer1.Tick

    If Not number_of_ticks > NumericUpDown1.Value Then
        number_of_ticks += 1
        If ((WebBrowser1.IsBusy)) Then
        Else
            If WebBrowser1.Url.ToString = "https://live.xbox.com/en-US/ChangeGamertag" Then

                WebBrowser1.Document.GetElementById("NewGamertag").SetAttribute("value", txtTurbo.Text)

                WebBrowser1.Document.GetElementById("claimIt").InvokeMember("Click")
            Else

                WebBrowser1.Navigate("https://live.xbox.com/en-US/ChangeGamertag")

            End If
        End If

    Else
        'number_of_ticks has exceed the maximum amount of allowed ticks
        Timer1.Enabled = False
        WebBrowser1.Refresh()

        number_of_ticks = 0
        Timer1.Enabled = True

    End If

End Sub 
```

所以第一行的值是“Gaming”，而不是文本框的值（txtTurbo.text）

```
 WebBrowser1.Document.GetElementById("NewGamertag").SetAttribute("value", txtTurbo.Text) 
```

然后通过这个提交后：

```
 WebBrowser1.Navigate("https://live.xbox.com/en-US/ChangeGamertag") 
```

将值更改为“程序”，依此类推，直到到达*.txt*文件中所有行的末尾。我将如何处理这个问题，因为我从未使用过从Visual Basic读取*.txt文件。*

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:04:30.673

要读取文本文件，您将需要此代码

```
 Imports System.IO
Imports System.Text
Public Class Form2

    Private Sub Form2_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load
        Dim line As String

        ' Create new StreamReader instance.
        Dim reader As StreamReader = New StreamReader("c:\\temp\cid.txt")
        ' Read one line from file
        line = reader.ReadLine
        ' Write the line we read from "cid.txt"
        MessageBox.Show(line)
    End Sub
End Class 
```

但是，为了逐行阅读，我必须再试一次，导致您的代码难以阅读。

**更新**

因为你的问题不清楚，所以也许我猜是这样的

```
Dim FILE_NAME As String = "path.txt"

Dim TextLine As String

If System.IO.File.Exists( path ) = True Then

Dim objReader As New System.IO.StreamReader(path)

Do While objReader.Peek() <> -1

TextLine = TextLine & objReader.ReadLine() & vbNewLine

Loop

txtturbo.Text = TextLine

Else

MsgBox("File Does Not Exist")

End If 
```

在下面更改为您想要的

```
WebBrowser1.Navigate("https://live.xbox.com/en-US/" & txtturbo.text) 
```

# android - 删除自定义 Seekbar 的圆边？

> ID：15804259
> 
> 赞同：6
> 
> 时间：2013-04-04T06:44:53.043
> 
> 标签：android, rounded-corners, seekbar

我正在尝试自定义搜索栏。我大部分时间都在工作，但我无法移除这个搜索栏的圆形边缘。我知道这方面有很多问题，应用角点 0dp 会有所帮助，但我不知道在哪里实现这个形状。当我尝试显示形状时，边缘变得锐利，但我的背景没有显示，它显示为黑色矩形。我希望我的背景有锋利的边缘。

![在此处输入图像描述](https://i.stack.imgur.com/E9utU.png)

**seekbarprogrss.xml**

```
<?xml version="1.0" encoding="utf-8"?>
<layer-list xmlns:android="http://schemas.android.com/apk/res/android" >

    <item android:id="@android:id/background">
        <bitmap
            xmlns:android="http://schemas.android.com/apk/res/android"
            android:tileMode="repeat"
            android:antialias="true"
            android:dither="false"
            android:filter="false"
            android:gravity="left"
            android:src="@drawable/cover_back" />
    </item>
    <item
        android:id="@android:id/progress"
        android:drawable="@drawable/seek_progress_bg"/>

</layer-list> 
```

**seek_progress_bg.xml**

```
<?xml version="1.0" encoding="utf-8"?>
 <layer-list xmlns:android="http://schemas.android.com/apk/res/android">

    <item>
        <clip>
        <bitmap xmlns:android="http://schemas.android.com/apk/res/android"
            android:src="@drawable/cover_front"
            android:tileMode="repeat"
            android:antialias="true"
            android:dither="false"
            android:filter="false"
            android:gravity="left"
        />
        </clip>
    </item>

</layer-list> 
```

**搜索栏实现**

```
 <SeekBar
        android:id="@+id/seekBar1"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_below="@+id/button2"
        android:progress="0"
        android:secondaryProgress="0"
        android:padding="0dp"
        android:thumbOffset="0dp"
        android:progressDrawable="@drawable/seekbarprogrss"
        android:thumb="@drawable/cover" 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-04T10:21:27.140

*SeekBar 自定义*

**首先为mSeekbar.java**创建一个自定义类

 **```
public class mSeekbar extends SeekBar{
    public seekBar (Context context) {
        super(context);
        Initialise();
    }
    public seekBar (Context context, AttributeSet attrs) {
        super(context, attrs);
        Initialise();
    }
    public seekBar (Context context, AttributeSet attrs, int defStyle) {
        super(context, attrs, defStyle);
        Initialise();
    }
    private void Initialise(){
       this.setBackgroundDrawable(getResources().getDrawable(R.drawable.shape));
       this.setProgressDrawable(getResources().getDrawable(R.drawable.seek_bar_base));
    }
} 
```

然后，将此部分添加到您的 xml

```
<"packageName".seekBar
        android:id="@+id/seekBar"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_centerHorizontal="true"
        android:layout_centerVertical="true"
        android:thumb="@drawable/red_front"
        android:padding="0dp"
        android:progress="0"
        android:indeterminate="false"
        android:secondaryProgress="0"
        android:thumbOffset="0dp"/> 
```

*使用这些可绘制对象*

**seek_bar_base.xml**

```
<layer-list 
    xmlns:android="http://schemas.android.com/apk/res/android">
    <item 
        android:id="@android:id/background">
        <bitmap 
            android:src="@drawable/gray_back"
            android:tileMode="repeat">
        </bitmap>
    </item>
    <item 
        android:id="@android:id/progress">
        <layer-list 
            xmlns:android="http://schemas.android.com/apk/res/android" >
            <item>
                <clip >
                    <bitmap 
                        xmlns:android="http://schemas.android.com/apk/res/android"
                        android:src="@drawable/gray_front"
                        android:tileMode="repeat"/>
                </clip>
            </item>
        </layer-list>
    </item>
</layer-list> 
```

**形状.xml**

```
 <shape 
        xmlns:android="http://schemas.android.com/apk/res/android" >
        <corners android:radius="0dp"/>
    </shape> 
```

**使用的图像**，

![在此处输入图像描述](https://i.stack.imgur.com/Drwvg.png) gray_back.jpg

![在此处输入图像描述](https://i.stack.imgur.com/Jf8la.png) gray_front.jpg

![在此处输入图像描述](https://i.stack.imgur.com/GVg9b.jpg) red_front.jpg**

# android - 无法解析目标“android-XX”

> ID：15804261
> 
> 赞同：49
> 
> 时间：2013-04-04T06:44:55.877
> 
> 标签：android

我正在导入一个项目。它在最后一个活动文件中带有错误，这些是控制台中的以下条目：

```
[2013-04-04 12:00:59 - AndroidFragment] Unable to resolve target 'android-15'
[2013-04-04 12:10:31 - AndroidFragment] Unable to resolve target 'android-15' 
```

我已经修复了项目设置并通过单击选择可用的目标版本：

```
Project > Properties > Android > Project Build Target > Version 
```

但什么也没有发生。

* * *

## 回答 #1

> 赞同：143
> 
> 时间：2013-04-04T06:47:51.563

1.  右键单击您的项目。
2.  转到**属性**。
3.  选择左侧的**Android 。**
4.  在右侧，您可以看到 Android API 版本列表。选择正确的版本（Android API 15）。
5.  单击**应用**。

如果您没有看到正确的版本，请单击**Window**菜单，转到**Android SDK Manager**并下载 Android API 15 (Android 4.0.3)。重复上述步骤。

在下图中，您可以看到 API 16；不是 15。您可以使用 Android SDK Manager 下载 API 15。**如果您已经拥有它，请单击Android 4.0.3**旁边的复选框，单击**应用**，然后**单击确定**。

![在此处输入图像描述](https://i.stack.imgur.com/5q8mN.png)

要从 Eclipse 中的 SDK 管理器下载 SDK，请单击**窗口**菜单**Android SDK Manager**。您应该看到以下窗口。检查**Android 4.0.3**即 API 15，然后单击**Install**。

![在此处输入图像描述](https://i.stack.imgur.com/YeO5R.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2018-11-27T07:30:27.580

# 更新

### 1.打开SDK管理器`Tools > Sdk Manager`

[![截图 sdkmanager 1](https://i.stack.imgur.com/ZrYQW.png)](https://i.stack.imgur.com/ZrYQW.png)

[![截图 sdkmanager 2](https://i.stack.imgur.com/l2Iic.png)](https://i.stack.imgur.com/l2Iic.png)

### 2.点击你要安装的sdk，然后点击OK。

[![截图 sdkmanager 3](https://i.stack.imgur.com/Jw1H5.png)](https://i.stack.imgur.com/Jw1H5.png)

# mysql - MySQL：您是否必须明确说明必须锁定哪一行，还是 INNODB 只知道它？

> ID：15804264
> 
> 赞同：0
> 
> 时间：2013-04-04T06:45:02.560
> 
> 标签：mysql, innodb

我知道 INNODB 有行级锁定。所以如果我这样做：

```
LOCK TABLES users WRITE
SELECT credits FROM users WHERE userid = 1;
UPDATE users SET credits = ([CREDITS] + 100) WHERE userid = 1;
UNLOCK TABLES 
```

innoDB 是否足够聪明，可以在那一秒内只锁定该行，还是我必须采取其他步骤才能只锁定该行？innodb 怎么知道在我的持续时间内只锁定这个用户？它是否已经按应有的方式锁定在 SELECT 上？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:06:25.167

如果使用选项 Engine = InnoDB 创建表，则无需自行锁定表，将创建 InnoDB 监视器。

```
CREATE TABLE t (i INT) ENGINE = InnoDB; 
```

监视器自动锁定表，但锁定不是针对单行 InnoDB 会为操作/事务锁定孔表。

也许用户只想阅读他在孔表上获得 s 锁的表。同时其他用户也可以读取该表，但是如果他想删除一行并且他请求 x 锁，他必须等待其他用户，直到他释放他的 s 锁。

### MYSQL 锁类型兼容性矩阵。

```
 X           IX            S          IS
X   Conflict    Conflict    Conflict    Conflict
IX  Conflict    Compatible  Conflict    Compatible
S   Conflict    Conflict    Compatible  Compatible
IS  Conflict    Compatible  Compatible  Compatible 
```

请阅读 mysql 文档：

InnoDB 监视器 - [http://dev.mysql.com/doc/refman/5.1/en/innodb-monitors.html](http://dev.mysql.com/doc/refman/5.1/en/innodb-monitors.html)

InnoDB 锁定模式 - [http://dev.mysql.com/doc/refman/5.1/en/innodb-lock-modes.html](http://dev.mysql.com/doc/refman/5.1/en/innodb-lock-modes.html)

# extjs - Sencha Touch2：工具栏内的分段按钮侦听器不起作用

> ID：15804265
> 
> 赞同：1
> 
> 时间：2013-04-04T06:45:02.520
> 
> 标签：extjs, extjs4, sencha-touch, sencha-touch-2

嗨，我是 Sencha touch2 的新手，我在容器的工具栏中有分段按钮和 2 个普通按钮，布局为“卡片”。在分段按钮点击时视图不会改变，并且能够在任何分段按钮点击时看到相同的视图。但是如果我单独放置分段按钮（在工具栏之外）它工作正常。这是我的观点：

```
Ext.define('Test.view.SegementedDemo', {
    extend: 'Ext.Container',
    xtype: 'carddemo',
    requires:['Ext.dataview.List','Ext.SegmentedButton'],
    config:{
        layout:{
            type:'card'
        },
        items:[
            {
                xtype:'toolbar',
                docked: 'top',

                items:[
                    {
                        xtype:'spacer'
                    },

                    {
                        xtype:'segmentedbutton',
                        id : 'segBtnId',
                        items: [{
                            text: 'First', pressed: true
                        }, {
                            text: 'Second'
                        }, {
                            text: 'Third'
                       }]
                    },
                    {
                        xtype:'spacer'
                    },
                    {
                        text:'Refresh',
                        ui:'action',
                        action:'backRefresh'
                    },
                    {
                        text:'Logout',
                        ui:'action',
                        action:'logoutBtn'
                    }
                ]
            },
            {
                xtype: 'component', itemId: 'First',
                html: 'First component', style: 'background-color: pink'
            }, {
                xtype: 'component', itemId: 'Second',
                html: 'Second component', style: 'background-color: lightgray'
            }, {
                xtype: 'component', itemId: 'Third',
                html: 'Third component', style: 'background-color: cyan'
            }
        ]
    }
}); 
```

这是我的控制器：

```
Ext.define('Test.controller.Main', {
    extend : 'Ext.app.Controller',
    requires : [ 'Test.view.SegementedDemo'],
    config : {
        refs : {
            refreshButton : 'button[action=backRefresh]',
            logoutButton : 'button[action=logoutBtn]',
                    segBtnId : "#segBtnId"
        },
        control : {
            refreshButton : {
                tap : 'handleRefresh'
            },
            logoutButton : {
                tap : 'handleLogout'
            },
                        segBtnId : {
                               toggle : "tapHandler"
                                   }

        }
    },
   tapHandler : function (segmentedbutton, button, isPressed, eOpts) { 

        var tappedBtn =button.getText();
        console.log('tapHandler+++++++++++'+tappedBtn);
        var container = segmentedbutton.getParent();
        var txt = button.getText()
        console.log('container : '+container);
        var selectedComponent = container.getComponent
            (button.getText());
        console.log('selectedComponent: '+selectedComponent);
        container.setActiveItem(selectedComponent);

       /*console O/p:
        tapHandler+++++++++++First
        container : [object Object]
        selectedComponent: undefined*/
        },
handleRefresh : function() {
    console.log('Refresh pressed');
    },
handleLogout : function() {
    console.log('Logout pressed');
    },
}); 
```

谁能帮帮我吗？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T09:04:51.760

如果你仔细看，getParent() 方法返回segmentedButton 的父级，在本例中就是Toolbar。:)

您可以简单地使用：

```
segmentedButton.getParent().getParent(); //segButton->toolbar->container 
```

此外，如果您想查看对象内容，请使用**,**而不是**+**

```
console.log('container : ',container); 
```

# javascript - 循环大量的 jQuery 和 JavaScript

> ID：15804266
> 
> 赞同：0
> 
> 时间：2013-04-04T06:45:03.890
> 
> 标签：javascript, jquery, loops

我有 20 个实验，每个实验有 3 个按钮。当我单击每个按钮时，我会得到一组图像幻灯片。现在我可以为一个实验执行此操作，该实验涉及该实验中 3 个按钮的 3 个功能。

我需要为 20 个这样的实验这样做，但要对所有 20 个实验继续这样做，我需要 60 个函数，这是不合理的。

这是一个此类按钮事件的代码。

HTML：

```
 <head>
    <script type="text/javascript">
    $(document).ready(function(){   
    $("#container1").hide();
    $("#container2").hide();
    $("#container3").hide();
    }); 
</script>
</head>
<body>
    <div>    
     <a id="a_exp1" href="javascript:void(0);" style="text-decoration:none;    color:black;">
    <div>
     <img src="listIm_1.png">
     <h5>AQUA HUNTER</h5>
     <p>Can you make a magnet fetch fish for you?</p></br><hr>
     </div>
     </a>
     </div>
     <audio id="button">
     <source src="button.wav" type="audio/wav"/>

      </audio>
     </body>

    <div id="container1" >
    <div id="slider1" >
        <ul>
            <li><img id="Img" src='slide_intro.png'/></li>
        </ul>
    </div>
</div> 
```

JS：

```
$(function(){

    $("a").click(function(){
        var exp_id = $(this).attr("id");
        if(exp_id == "a_exp1"){                     
            $("#right").html("<div><img id='myimage1' onclick='changeimage1()'   src='build_i.png'/><img id='myimage2' onclick='changeimage2()' src='apply_i.png'/><img id='myimage3' onclick='changeimage3()' src='learn_i.png'/></div>")
        }
    });
});
    function changeimage1()
    { $("#nextBtn").remove();
      $("#prevBtn").remove();
      $("#PicInRightTitle").css({'visibility':'hidden'});    
      $("#container2").hide();
      $("#container3").hide();
      $("#container1").show();
      $("#slider").easySlider({       
          auto: false, 
          continuous: true
      });

      document.getElementById('button').play();
      cc=0;
      if (cc==0) 
      {
          cc=1;
          document.getElementById('myimage1').src="build_a.png";
          document.getElementById('myimage2').src="apply_i.png";
          document.getElementById('myimage3').src="learn_i.png";
      }
    } 
```

现在，在这个函数中，有几行是专门针对这一单键单击的，其中几行可以应用于所有 60 个函数。我怎样才能简化这个？如何将它循环到一个函数中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:09:49.957

```
function ChangeImage () {}

ChangeImage.prototype.action = function () {
    console.log('do some common things');
}

var ChangeImageTwo = function () {
    this.action = function () {
        console.log('do some unique things');
        ChangeImageTwo.prototype.action.call();
        console.log('do some more unique things');
    }
}

ChangeImageTwo.prototype = new ChangeImage;

new ChangeImageTwo().action(); 
```

[小提琴](http://jsfiddle.net/ethagnawl/rnxjk/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-09T17:23:27.860

你必须重新考虑你的 js 和结构。

您只需要一个函数，再加上整个按钮集上的一个事件的绑定。

**粗略的想法**

第一步是从按钮到图片集的映射。一种简单的方法可以是关联数组或对象字面量。

```
var buttonToImages = {
     "a_exp1" : ['build_a.png', 'apply_i.png', 'learn_i.png'],
     "a_exp2" : ['build_a2.png', 'apply_i2.png', 'learn_i2.png']
     //and so on...
} 
```

然后，您可以为每个锚绑定一个通用侦听器。您可以避免为每次单击创建包含三个图像的 div：您可以在单击时操作静态 html。

```
$("a").each(function(i, anchor){
         var images = buttonToImages[anchor.attr("id")];
         anchor.click(function(){
              $('myimage1').attr("src")=images[0];
              $('myimage2').attr("src")=images[1];
              $('myimage3').attr("src")=images[2];
         });
}); 
```

当您单击实验按钮时，这将初始化三个图像。

然后，如果您在单击图像本身时必须在图像上循环。从您的问题中不清楚图像背后的逻辑是什么：如果您可以依赖一些命名约定，那么使用单个侦听器很容易操作源。

如果没有命名约定，您可以更改 buttonToImages 字典并在其中列出每个标签 img 的图像序列。

我还不能添加评论，所以如果你觉得这个指示有用，我会更准确

# ruby-on-rails - 脚手架 - 轨道生成 - 类中的数据迁移 def

> ID：15804268
> 
> 赞同：0
> 
> 时间：2013-04-04T06:45:08.933
> 
> 标签：ruby-on-rails, ruby-on-rails-3, scaffolding, self

我是 Rails 新手 - 我开始了一个新的 Rails 应用程序`rails new test`，然后`rails generate scaffold Name column1:datatype column2:datatype`

在本教程中，一旦我打开`12345678timestamp_create_names.rb`我拥有的文件`def change`，但本教程同时具有`def self.up`和`def self.down`

这是为什么？有什么区别？我现在应该编辑我的应用程序吗？而在未来呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:49:41.730

迁移已从 rails2 更改为 rails3，现在 rails3 足够聪明，可以理解它应该如何响应您的命令

所以，考虑`change`作为和的`up`组合`down`

如果你说

`rake db:migrate`它会将其视为`up`

`rake db:rollback`它会将其视为`down`

[在这里阅读更多](http://guides.rubyonrails.org/migrations.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T06:53:56.480

Rails 3.1 为迁移引入了新的更改方法。

[请参阅 Rails 指南](http://guides.rubyonrails.org/migrations.html#anatomy-of-a-migration)

> Rails 3.1 通过提供一种新的更改方法使迁移更智能。此方法适用于编写建设性迁移（添加列或表）。迁移知道如何迁移你的数据库，并在迁移回滚时对其进行反转，而无需编写单独的 down 方法。

因此，您的教程可能涵盖 Rails 3.0 而不是 Rails 2，因为您已经使用 Rails 3 命令来创建新应用程序。

# sql - T SQL 从具有 NULL 值的临时表中计算 2 个字段

> ID：15804271
> 
> 赞同：0
> 
> 时间：2013-04-04T06:45:25.960
> 
> 标签：sql, sql-server, tsql, join

我的查询中有 2 个临时表，我正在尝试添加 2 个字段。问题有时是第二个临时表结果为“NULL”值，然后当我将 2 个字段相加时，我得到一个“NULL”值：

```
#1 :  100
#2 :  NULL

select 
@tm as tm
,'Sales' = (a.Sales + b.Sales)
from #1 a
left join #2 b
on a.tm = b.tm 
```

结果：

```
tm  Sales
12  NULL 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:47:08.627

add `COALESCE`，一个值可能为空，

```
select  @tm as tm,
       'Sales' = (COALESCE(a.Sales, 0) + COALESCE(b.Sales,0))
from   #1 a
       left join #2 b on a.tm = b.tm 
```

# javascript - jQuery 表单验证在多个 if 语句中不起作用

> ID：15804272
> 
> 赞同：0
> 
> 时间：2013-04-04T06:45:27.117
> 
> 标签：javascript, jquery, validation

我对 jQuery 验证有疑问。

**HTML：**

```
<form action="#" name="validate" onsubmit="return validateRegistration();">
   <input type="text" id="username" value="Username" />
   <input type="text" id="email" value="Email" />
   <input type="text" id="phone" value="Phone" />
</form>

function validateRegistration() {

    var username = $('#username').val();
    var email = $('#email').val();
        var phone = $('#phone').val();

    if(username=='' || username == 'Username'){
       $('#username').after('<span class="error">Enter a username</span>');
    }

    if(email=='' || email == 'Email'){
       $('#email').after('<span class="error">Please enter a valid email address</span>');
    }

    if(phone=='' || phone == 'Phone'){
       $('#phone').after('<span class="error">This field is required.</span>');
       return false;
    }
} 
```

当表单中没有值时，验证有效。如果我只填写电话字段，则表单会以`return true`. 我不能`return false`输入所有字段，因为所有验证错误都应该一次可见。我给出的代码简短而原始。我有 30 多个字段，所以任何重大变化都是痛苦的。有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:49:03.613

```
function validateRegistration() {
        var notError = true;
        var username = $('#username').val();
        var email = $('#email').val();
            var phone = $('#phone').val();

        if(username=='' || username == 'Username'){
           $('#username').after('<span class="error">Enter a username</span>');
           notError = false;
        }

        if(email=='' || email == 'Email'){
           $('#email').after('<span class="error">Please enter a valid email address</span>');
           notError = false;
        }

        if(phone=='' || phone == 'Phone'){
           $('#phone').after('<span class="error">This field is required.</span>');
           notError = false;
        }

        return notError;
    } 
```

希望这能满足您的需求

# c++ - 提升随机样本，如 python random.sample

> ID：15804281
> 
> 赞同：4
> 
> 时间：2013-04-04T06:46:09.947
> 
> 标签：c++, python, boost, random, random-sample

我正在尝试使用 C++ 来模仿 python

```
random.sample(a_set, n_samples) 
```

C++ 函数

```
set<string> sample(set<string> input, int n_samples) 
```

在写我自己的之前，有没有图书馆这样做？我的电脑上有boost 1.46。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-01-28T14:28:59.910

由于 C++17 有[std::sample](https://en.cppreference.com/w/cpp/algorithm/sample)：

```
std::sample(input.begin(), input.end(), std::back_inserter(out),
            n_samples, std::mt19937{std::random_device{}()}); 
```

*原始答案如下。我把它留在这里供参考。*

* * *

SGI的[STL 实现](https://web.archive.org/web/20171211162332/https://www.sgi.com/tech/stl/table_of_contents.html)具有[`random_sample`](https://web.archive.org/web/20171116104828/http://www.sgi.com/tech/stl/random_sample.html)和[`random_sample_n`](https://web.archive.org/web/20171116105038/http://www.sgi.com/tech/stl/random_sample_n.html)功能：

```
template <class InputIterator, class RandomAccessIterator>
Random AccessIterator random_sample(InputIterator first, InputIterator last,
                                    RandomAccessIterator ofirst,
                                    RandomAccessIterator olast) 

template <class ForwardIterator, class OutputIterator, class Distance>
OutputIterator random_sample_n(ForwardIterator first, ForwardIterator last,
                               OutputIterator out, Distance n) 
```

`random_sample_n`随机将范围内的元素样本复制`[first, last)`到范围内`[out, out + n)`。输入范围内的每个元素在输出范围内最多出现一次，并且以均匀概率选择样本。

很遗憾

> Matt Austern 提出了几个额外的算法（大部分取自 SGI 的标准库的原始 STL 实现）。其中包括 `random_sample`和`random_sample_n`

*^(（来自[N3925](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/n3925.pdf)）)*

但

> 在 Sophia-Antipolis 会议上 WG21 审议后，Austern 更新了提案，产生了 [N2666]。在其他变化中，他撤回了采样算法，因为“LWG 担心它们可能对标准化的理解不够好……为 TR2 提出这些算法可能是合适的”。LWG 随后达成了坚实的共识（10-1, 2 abs.），支持在未来的技术报告（现在称为技术规范）中包含这些算法。

该算法的一个版本`random_sample_n`已进入 Library Fundamentals TS 并被称为[`std::experimental::sample`](https://en.cppreference.com/w/cpp/experimental/sample)，提案[N3925](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/n3925.pdf)的最新迭代于 2014-02 被采用，但仍未成为标准的一部分（可能在 C++17 中）。

除了储层采样算法之外，您还可以查看Donald Knuth 在计算机编程艺术 - 第 2 卷 - §3.4.2 中阐述的著名*算法 S*（“**选择采样技术”）。**

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T01:40:54.910

您要解决的问题称为[水库采样](http://en.wikipedia.org/wiki/Reservoir_sampling)。我尝试在谷歌上搜索“水库采样 C++ 实现”。谷歌自动为我完成了查询，但粗略地浏览一下结果并没有找到一个实际的库。

该算法非常简单，而且很有趣，可以自己学习和编写，所以这就是我推荐的。

# unix - Unix中的命令来计算特定单词的出现次数

> ID：15804291
> 
> 赞同：-1
> 
> 时间：2013-04-04T06:47:12.607
> 
> 标签：unix

我想在 Unix 中搜索确切的单词模式，

示例：Log.txt 文件包含以下文本：

```
aaa         (only this 'aaa' pattern shhold be counted)
bbb
cccaaa   ---> this should not be counted in grep output
ccc_aaa   --> this should not be counted in grep output
ccc-aaa   --> this should not be counted in grep output
ccc.aaa   ---> this should not be counted in grep output 
```

我正在使用以下代码-

```
count=$?
count=$(grep -c -w aaa $ZZZ\Log.txt) 
```

这里的输出应该是 ==> 1 但我得到 4 作为输出，我想，有些东西丢失了所以，有人可以帮我解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:00:39.700

我相信您正在寻找`-x`选择。这是手册页的摘录，它始终是找到选项解决方案的最快方法。

```
-x, --line-regexp
          Select  only  those  matches  that exactly match the whole line.
          (-x is specified by POSIX.) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T11:34:14.203

给定示例输入，我希望输出为 3。一个用于您期望的行，一个用于`ccc-aaa`，一个用于`ccc.aaa`. grep 文档明确指出单词字符是字母、数字和下划线。如果您想考虑`.`和`-`作为单词组成字符，只需预先过滤数据：

```
count=$( tr < $ZZZ/Log.txt .- ' '  | grep -c -w aaa ) 
```

以上用于`tr`将出现的`.`和转换`-`为空格。您可能需要根据需要扩展要考虑的字符集。

# java - 如何将 SOAP 模板加载到 Java 中的 SOAP 消息中？

> ID：15804293
> 
> 赞同：1
> 
> 时间：2013-04-04T06:47:17.403
> 
> 标签：java, xml, web-services, soap

我正在做一些 Web 服务测试工作，所以必须在 Java 中创建一个 SOAP 请求。要使 SOAP 消息的某些部分自动化，只需更改几个字段，其余部分保持静态。所以我正在考虑创建一个 SOAP 模板，并将其加载到 Java 中。

不过，我无法弄清楚如何将该文件直接加载到`Message`Java 中的对象中。

我指的主要来源：[SAAJ 代码示例](http://docs.oracle.com/javaee/1.4/tutorial/doc/SAAJ4.html)`Request.java`中的部分

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-06T16:24:03.353

假设 template.xml 包含您的请求数据，您可以这样传递它：

```
SOAPPart soapPart = message.getSOAPPart();
DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();
DocumentBuilder builder = dbFactory.newDocumentBuilder();
Document document = builder.parse("file:///template.xml");
DOMSource domSource = new DOMSource(document);
soapPart.setContent(domSource); 
```

如果您不需要使用 SAAJ，那么如果您使用 JAX-WS 实用程序从 WSDL 为您生成代理对象，您的生活会轻松很多。然后您可以在这些对象上调用您的请求，就好像它们是本地方法一样。如果您有兴趣，这里有一个关于它的快速[教程。](http://www.mkyong.com/tutorials/jax-ws-tutorials/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-06T15:56:50.643

尝试使用[SoapWS](https://github.com/reficio/soap-ws)库，使用此库测试 SOAP 服务要容易得多：

# php - mysqli 准备好的语句是否完全防止 mysql 注入？

> ID：15804294
> 
> 赞同：0
> 
> 时间：2013-04-04T06:47:19.640
> 
> 标签：php, mysqli, sql-injection

因此，我一直在阅读很多关于准备好的语句的内容，并不断得到关于准备好的语句如何防止 mysql 注入的各种答案。有人说它完全涵盖了它，而另一些人则说还有一些小工作或其他东西。几乎我只是想确保我拥有的这段代码是安全的，并且知道在准备好的语句中是否真的有任何漏洞：

```
<?php
ignore_user_abort(true);

$user = $_REQUEST['username'];
$pass = $_REQUEST['password'];

if (isset($user) && isset($pass)) {
require('/var/www/data/config.php'); //contains the db connection

if ($stmt = mysqli_prepare($mysqli, "SELECT password FROM users WHERE username=?")) {
    mysqli_stmt_bind_param($stmt, 's', $user);
    mysqli_stmt_execute($stmt);
    mysqli_stmt_bind_result($stmt, $gpass);
    mysqli_stmt_fetch($stmt);
    mysqli_stmt_close($stmt);

    if ($gpass) {
        require('/var/www/data/handles/fCrypt.php');

        $chk = verify($pass, $gpass); //custom blowfish validation

        if ($chk) {
            //password correct, continue
        } else {
            mysqli_close($mysqli);
            //echo invalid password stuff
        }
    } else {
        mysqli_close($mysqli);
        //echo invalid username stuff
    }
} else {
    mysqli_close($mysqli);
    die('Query Error');
}
} else {
die('Invalid Request');
}
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:52:42.367

与任何其他措施一样，它们**在适用时起作用**。
因此，它们在不适用时无能为力。

因此，只要您可以通过占位符添加每个动态查询部分，您就可以认为您的查询是安全的。

一张纸条。这就是为什么您不应该使用 mysqli 而是使用[PDO](https://stackoverflow.com/tags/pdo/info)或[SafeMysql](https://github.com/colshrapnel/safemysql#safemysql)的原因。

只需尝试创建一个简单的`IN()`语句，使用 mysqli 准备好的语句来绑定任意数量的值数组。您将立即停止使用它。

PDO 对语句也不是很好`IN()`，但代码至少是合理的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:17:13.420

我不是这个主题的专家，但我会说安全首先是实践问题。但是，只要您遵循正确的方法，拥有可以更轻松地遵循正确方法的工具肯定会大有帮助。

该工具如何帮助您实现该目标存在局限性：评论中提到[的关于 PDO 有用](https://stackoverflow.com/questions/1314521/how-safe-are-pdo-prepared-statements)性的帖子很好地涵盖了它们。对于其中一些人来说，很难理解为什么（`IN` 子句问题可能是技术问题），但其他人则很有意义：对于查询的句法部分，如表​​或列名 - 除了它会是数据库引擎在不知道它正在处理哪个列或表的情况下编译和优化查询是相当困难的，这样的数据来自用户不应该有*任何*理由（人们会争辩说，数据库管理工具是一种情况这可能会发生，但该类别的程序已经假定最终用户具有一定程度的信任）。

唯一知道和操纵数据库元数据的地方是*程序*。该断言实际上意味着可以*逐*位动态构建查询，甚至可以使用库来帮助您确保查询在语法上是正确的，只要您尊重该核心规则：不要泄漏数据库模式到用户空间。

关于你的代码，在我看来你已经遵守了规则，我没有看到任何危险的声明。

# jquery - 如何防止 iOS 和 Android 中的双击缩放

> ID：15804296
> 
> 赞同：1
> 
> 时间：2013-04-04T06:47:21.200
> 
> 标签：jquery, events, zooming

我正在使用 Jquery Mobile 构建一个用于桌面、iPad 和 Android 手机的网络应用程序。我希望用户能够点击一个按钮来增加（或减少）一个值。我的代码在桌面上运行良好，但在 iPad 和 Android 上，当用户快速点击时，屏幕会缩放而不是值递增。我一直在尝试在这里实施解决方案：[Safari iPad：防止双击放大](https://stackoverflow.com/questions/3103842/safari-ipad-prevent-zoom-on-double-tap)（特别是 Christopher Thomas 提供的改进。

这是我的按钮和值代码：

```
 <div class="content">
        <div id ="status_page" data-role="page">
            <div data-role="content" data-theme="d">
                <div id="val">1</div>
                <div id="but" data-role="button">Click</div>
            </div>
        </div>
    </div> 
```

这是我单击按钮的事件处理程序（顺便说一句 - 我认为克里斯托弗的答案中的参数是错误的）：

```
 $(".content") .on("click",$("#but"),function(){
            var but_val = parseInt($("#val").text());
            $("#val").text(but_val+1);
        }); 
```

...这里是 nodoubletap 函数：

```
(function($) {
$.fn.nodoubletapzoom = function() {
    if($("html.touch").length == 0) return;

    $(this).bind('touchstart', function preventZoom(e){
        var t2 = e.timeStamp;
        var t1 = $(this).data('lastTouch') || t2;
        var dt = t2 - t1;
        var fingers = e.originalEvent.touches.length;
        $(this).data('lastTouch', t2);
        if (!dt || dt > 500 || fingers > 1){
            return; // not double-tap
        }
        e.preventDefault(); // double tap - prevent the zoom
        // also synthesize click events we just swallowed up
        $(this).trigger('click');
    });
};
})(jQuery); 
```

此功能正确捕获双击。但是，最后的触发功能不起作用（事件没有被触发）。如果我用它代替`$(this).trigger('click');`，`$('#but').trigger('click');`那么一切都会正常进行。我希望这适用于许多不同的按钮，因此我需要能够根据调用 touchstart 事件的对象触发事件。谁能帮我解决这个问题。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-09T20:27:06.167

好的，所以“engeeaitch”最终的解决方案是在下面的 jsfiddle 中？

[http://jsfiddle.net/GZEM7/18/](http://jsfiddle.net/GZEM7/18/)

解决方案是更换

```
$(this).trigger("click"): 
```

和

```
$(e.target).trigger("click"); 
```

当然，我删除了你的 IOS 测试，因为它可以在 chrome 和 android 设备上运行：D

那是最终的解决方案？凉爽的！我将用新版本更新我的代码，我认为它会更好

最终代码是：

```
$.fn.nodoubletapzoom = function() {
    $(this).bind('touchstart', function preventZoom(e){
        var t2 = e.timeStamp;
        var t1 = $(this).data('lastTouch') || t2;
        var dt = t2 - t1;
        var fingers = e.originalEvent.touches.length;
        $(this).data('lastTouch', t2);
        if (!dt || dt > 500 || fingers > 1){
            return; // not double-tap
        }
        e.preventDefault(); // double tap - prevent the zoom
        // also synthesize click events we just swallowed up
        $(e.target).trigger('click');
    });
};
})(jQuery);

$(document).on('pageinit',"#status_page", function(){
        $("body").nodoubletapzoom();
        $(".content").on("click", "#but", function() {
            var curr_val = parseInt($("#val").text());
            $("#val").text(curr_val + 1);
        });
}); 
```

# java - 通过 Try 和 Catch 块检查字符串和 Null 异常

> ID：15804299
> 
> 赞同：1
> 
> 时间：2013-04-04T06:47:26.090
> 
> 标签：java, logging, exception-handling, log4j, double

以下代码尝试通过日志记录捕获空的双重输入无效。我还想检查用户是否错误地在输入字段中添加了一个字符串（但我在编写查询时遇到了麻烦）。有人可以看看这个并指导我。

```
try {
    if (results1 != 00.00) {
        throw new Exception("Data must be added");
    }
}
catch (Exception e) {  
    log.error("You have an error", e);
} 
```

用户必须为 results1 输入一个值，因为它用于计算。Results1 是一个双倍，因为它是一个百分比，我愿意将它更改为一个 int 如果这就是让它工作所需要的。如果用户不小心添加了 % 符号，我还想检查一下 try and catch 技术。我希望我的记录器捕获 NumberFormatException 以进行测试。

我认为这可能是问题所在：

```
 (results1 != 00.00) 
```

这是检查双精度输入是否为空的最佳方法吗？另外我如何检查是否添加了字符串？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:51:36.830

使用 '==' 或 '!=' 作为双精度浮点数不是一个好主意。您可以与非常小的数字而不是等号（'=='）进行比较。

```
 Math.abs(result1)  > 0.001 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T06:51:47.610

Java 有函数 Double.parseDouble(string)，如果它无法将字符串转换为双精度，它将抛出 NumberFormatException。

//编辑

结合 prashant 的答案，这是一个完整的实现。

```
try {
    Double result = Double.parseDouble(string);

    //This is required to check that number is a valid Percentage value
    if(!(result > 0 && result < 100)){
       //You will have to create this custom exception or throw a simple exception
       throw new InvalidPercentageCustomException(result + " is not a valid Percentage");
    }
}
catch(Exception e){
//Do Something
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T06:55:32.573

据我了解，您想检查用户输入（字符串）是否为有效百分比。

您可以像这样使用 parseDouble：

```
try{
     Double result = Double.parseDouble(results);

     //This is required to check that number is a valid Percentage value
     if(result <= 0.0 || result >= 100.0){
         //You will have to create this custom exception or throw a simple exception
         throw new InvalidPercentageCustomException("Not a valid Percentage");
     }
}
catch(Exception e){
//Do Something
} 
```

还有一个建议：你不应该仅仅为了让你的程序工作而改变你的数据类型。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-04T06:56:59.300

这就是您必须检查 NumberFormatException 的方式。下面的程序有三个例子。第一个是成功场景，第二个是带有解析异常的空字符串，第三个是带有解析异常的字符串

```
package com.stackoverflow.test;

public class ParseCheck {

    public static void main(String args[]) {

        String results1 = "123.56";
        String results2 = "";
        String results3 = "xyz";

        try {
            Double.parseDouble(results1);
            System.out.println(results1 + "  parsed successfully");
        } catch (NumberFormatException e) {
            e.printStackTrace();
        }
        try {
            Double.parseDouble(results2);
            System.out.println(results2 + "parsed successfully");
        } catch (NumberFormatException e) {
            e.printStackTrace();
        }
        try {
            Double.parseDouble(results3);
            System.out.println(results3 + "parsed successfully");
        } catch (NumberFormatException e) {
            e.printStackTrace();
        }

    }
} 
```

# c# - Unity & Prims Modularity - 在模块中使用库

> ID：15804304
> 
> 赞同：1
> 
> 时间：2013-04-04T06:47:31.797
> 
> 标签：c#, wpf, prism, unity-container

通过构建具有模块化概念的应用程序，我再次需要帮助。我使用 unity 和 prism 并通过 App.config 对其进行配置，就像您在我的[另一个问题](https://stackoverflow.com/questions/15774171/unity-prims-modularity-loads-problems)中看到的那样。

现在我想使用 Prism 的 IRegionViewRegistry 从模块加载用户控件。例如，只要我不在我的用户控件中使用控件库，它就可以工作。然后他得到一个错误，他无法找到 dll。

一些附加信息：

我的文件夹结构如下所示：

*   应用程序文件夹
    *   模块文件夹
        *   每个模块的特殊文件夹

我的想法是将模块 dll 和所需的库复制到一个特定文件夹中。这样他就会找到所需的 dll 对它自己的位置。

我通过我需要的 dll 的引用将本地副本设置为 ture？

任何人都可以帮助我吗？

## 编辑：

如果我复制我的 exe 旁边的库，它就可以工作。

但我更喜欢将它复制到我的模块旁边的解决方案。有人对我有什么想法吗？

# jquery - 表单提交后显示 JQuery 对话框

> ID：15804306
> 
> 赞同：-3
> 
> 时间：2013-04-04T06:47:35.733
> 
> 标签：jquery, forms, post, dialog

问题：

用户提交表单后，应该有一个 JQuery 对话框，用于在从 java servlet 获得响应后显示消息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-09T03:52:44.950

使用 AJAX 调用显示 JQuery 对话框。

# javascript - 用于确定字符串中值的第一次出现的 JavaScript 语句

> ID：15804307
> 
> 赞同：1
> 
> 时间：2013-04-04T06:47:36.243
> 
> 标签：javascript

用于确定字符串变量“address”中第一个斜杠 / 的位置并将该值分配给“result”变量的 JavaScript 语句是什么。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:50:31.747

indexOf() 方法返回给定值在字符串对象中的第一次出现。如果未找到该值，则返回 -1。

```
var result = address.indexOf('/'); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T06:50:45.570

这将告诉第一个'/'的索引：

```
var a = 'asdasd/';
a.indexOf('/'); 
```

这将告诉最后：

```
var a = 'asdasd/asfwerf/';
a.lastIndexOf('/'); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T06:50:50.667

你可以试试下面的代码：address.indexOf("/");

# javascript - CSS切换按钮？

> ID：15804317
> 
> 赞同：4
> 
> 时间：2013-04-04T06:47:59.720
> 
> 标签：javascript, jquery, css, cordova

PhoneGAP 中是否可以有一个 CSS 切换按钮？我想要一个按钮，如果单击它会改变颜色，再次单击时它必须返回默认颜色。知道怎么做吗？

我已经编辑了我的帖子，你们可以很容易地帮助我，因为现在我真的很困惑如何做到这一点，简单的东西但是技巧。

```
 `This the function 

  function toggle(ths) {

   //CSS color
   $(ths).toggleClass("btnColor");
   $("#tb").toggleClass("btnColorR")

   //Get value clicked
   var clicked = $(ths).val();

   //diplay on web-page
   $("#lblType").html(clicked);
   $("#setCount").html(" minutes : " + minutes + " seconds : " + seconds);

   //duration time count
   seconds = seconds + 1;
   if (seconds % 60 == 0) {
      minutes += 1;
   seconds = 0;
 }
        timer = setTimeout("toggle()", 1000);   
  }

 The CSS

.btnColor
 {
 background-color:blue;  
 color:white;  
 }
.btnColorR {
 background-color:green;
}

  This is how my buttons are created.

 function createButtons(tbID, tbClass, tbType, tbValue, onClick) {
     return '\n<input '
        + (tbID ? ' id=\'' + tbID + '\'' : '')
        + (tbClass ? ' class=\'' + tbClass + '\'' : '')
        + (tbType ? ' type=\'' + tbType + '\'' : '')
        + (tbValue ? ' value=\'' + tbValue + '\'' : '')
        + (onClick ? ' onclick=\'toggle(this);' + onClick + '\'' : '')
        + '>';
 }

 function DisplayButtons(cableData) {
  var newContent = '';
   $.each(cableData,

    function (i, item) {
       newContent += createButtons("tb" + item.CommonCable, null, "submit",       item.CommonCable, toggle);
   });
   $("#planned").html(newContent);
 }` 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T06:52:13.293

考虑您的按钮是`#butt`：

```
$("#butt").click(function(){
     $(this).toggle('red');
}) 
```

和 CSS：

```
.red{
 color:red;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T10:56:23.873

```
function toggle(ths)
{
    if ($(ths).attr('class') == "btnColor") {
        $(ths).removeClass("btnColor");
        $(ths).addClass("btnColorR");
    } else {
        $(ths).removeClass("btnColorR");
        $(ths).addClass("btnColor");
    }
}

function createButtons(tbID, tbClass, tbType, tbValue, onClick)
{
    return '\n<input '
    + (tbID ? ' id=\'' + tbID + '\'' : '')
    + (tbClass ? ' class=\'' + tbClass + '\'' : '')
    + (tbType ? ' type=\'' + tbType + '\'' : '')
    + (tbValue ? ' value=\'' + tbValue + '\'' : '')
    + (onClick ? ' onclick=\''+onClick(this)+';\'' : '')
    + '>';
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:06:49.263

Phonegap 是一个库，可帮助您的移动 Web 应用程序具有本机应用程序的所有功能。因此，为了设计您的应用程序，您可以使用 html 之类的任何东西或任何 js 框架（例如 Sencha、Jquery、YUI、JQM..等）。并使用phonegap制作应用程序包。

您将能够使用 Phonegap 类访问所有本机功能，如相机、联系人、加速度计等。所以你的 CSS 切换按钮在任何情况下都可以工作。Phonegap 无能为力。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-01-19T11:19:11.033

我认为你不需要 JS，因为它可以用 CSS 来完成，这取决于你的浏览器矩阵。基本上，您使用复选框，将其隐藏并根据需要设置所属标签的样式。然后你可以通过 clivk 上的`:checked`和`:not(:checked)`选择器切换样式（一定要检查浏览器支持）。演示：[http ://custom-inputs.felixhagspiel.de/](http://custom-inputs.felixhagspiel.de/)

我写了一篇关于如何仅使用 CSS 自定义复选框和单选以及创建开/关切换开​​关的教程。也许这会有所帮助:) 您可以根据需要更改样式。在此处阅读教程：http: [//blog.felixhagspiel.de/index.php/posts/custom-inputs](http://blog.felixhagspiel.de/index.php/posts/custom-inputs)

# z3 - 用于访问 MuZ 的 .Net API

> ID：15804321
> 
> 赞同：0
> 
> 时间：2013-04-04T06:48:09.433
> 
> 标签：z3

rise4fun 的教程提到了用于访问 MuZ 的 .Net API。然而，点击任何提到的方法，例如`To add a rule, call: Z3_datalog_add_rule`导致死链接。这些方法在哪里描述，目前是否支持？

此外，与这个问题没有直接关系，但我注意到可能使用 SMT-LIB API 的示例使用`define-fun`命令。.Net API 中是否有等效功能？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T11:06:47.583

感谢您报告损坏的链接。

链接：

```
http://rise4fun.com/Z3/tutorialcontent/group__capi.html#ga0d158891352456e6a4ac9ba398a75653 
```

应该指出：

```
 http://research.microsoft.com/en-us/um/redmond/projects/z3/group__capi.html 
```

.NET API 函数的对应链接是：

```
 http://research.microsoft.com/en-us/um/redmond/projects/z3/class_microsoft_1_1_z3_1_1_context.html 
```

请注意，在 Z3 的最新版本中，.NET API 比rise4fun 中使用的版本进行了重大修订。上面的链接描述了最新的 .NET API。Z3 以前版本中使用的“遗留”.NET API 的链接是：

```
http://research.microsoft.com/en-us/um/redmond/projects/z3/old/group__mapi.html 
```

这些链接收集在：[http ://research.microsoft.com/en-us/um/redmond/projects/z3/](http://research.microsoft.com/en-us/um/redmond/projects/z3/)

声明函数，最新版本中的 .NET API 称为“MkFuncDecl”。它是上下文对象上的一个方法。它有几个重载：

```
 FuncDecl  MkFuncDecl (Symbol name, Sort[] domain, Sort range) 
 FuncDecl  MkFuncDecl (Symbol name, Sort domain, Sort range) 
 FuncDecl  MkFuncDecl (string name, Sort[] domain, Sort range) 
 FuncDecl  MkFuncDecl (string name, Sort domain, Sort range) 
```

上面提到的第二个链接将您带到这些函数的文档。

# python - Qt：QPushButton 被子进程阻塞

> ID：15804325
> 
> 赞同：1
> 
> 时间：2013-04-04T06:48:35.427
> 
> 标签：python, qt, process, pyqt, pyside

给定以下代码

```
button = ...
process = QProcess()
button.clicked.connect(start_process)

def start_process():

    # Disable the button
    button.setEnabled(False)
    # This seems to have no effect (...)

    # This also has no effect, thus commented out.
    # QApplication.processEvents(QEventLoop.ExcludeUserInputEvents)

    # Execute the program in a blocking way
    process.execute('/usr/bin/libreoffice')
    # (...) as right now, while libreoffice is running and I click the button
    # no animation is taking place, but the click !! is getting registered !!
    # If I terminate libreoffice, these clicks are executed and this function is
    # called again for every click done.

    # When the process and all its children have terminated, enable the button again
    button.setEnabled(True) 
```

我已经在代码中解释了我的问题。我认为这与主线程（gui线程）被`process.execute(...)`调用阻塞有关，而`setEnabled(False)`调用仍在队列中或其他东西中。

## 我想要达到的目标：

1.  用户单击 Button -> Button 被禁用并启动 LibreOffice
2.  在 LibreOffice 运行时，我的 GUI 被阻止并且未注册按钮的点击
3.  用户退出 LibreOffice，我的 GUI 被解锁，并且再次启用按钮以再次启动 LibreOffice

## 最终可能会奏效的方法：

我没有使用 ，而是`process.execute(...)`使用`process.start(...)`并将`start()`信号挂钩到我自己的功能以禁用按钮和`finished()`信号以再次启用按钮？

## 最终起作用的是：

```
class C(QObject):
    """
    Host (Communicator) for all my signals
    """
    enableButton = QtCore.Signal()
    disableButton = QtCore.Signal()

class MainWindow(QtGui.QMainWindow):
    def __init__(self, program=None, c=None, parent=None):
        super(MainWindow, self).__init__(parent)
        self.ui = Ui_mainWindow()
        self.ui.setupUi(self)

        self.program = program
        self.c = c  # Reference to the C instance
        self.setupSignals()

    def setupSignals(self):
        self.ui.btnStart.clicked.connect(self.program.start) # Trigger button

        # Register for events from UI Thread
        self.c.enableButton.connect(self.button_enable)
        self.c.disableButton.connect(self.button_disable)

    def button_enable(self):
        self.ui.btnStart.setEnabled(True)

    def button_disable(self):
        self.ui.btnStart.setEnabled(False)

class Program(object):
    def __init__(self, c=None):
        self.c = c
        self.proc = QProcess()  # The process to run in the start method.
                                # needed here because its runs out of scope otherwise.

    def start(self):

        def _onStart():
            self.c.disableButton.emit()
            print("on Start")

        def _onFinish():
            self.c.enableButton.emit()
            print("on Finish")

        def _onError():
            print("on Error")

        self.proc.started.connect(_onStart)
        self.proc.finished.connect(_onFinish)
        self.proc.error.connect(_onError)
        self.proc.start('/usr/bin/libreoffice')  # Waits until process ends

if __name__ == '__main__':
    app = QtGui.QApplication(sys.argv)
    c = C()

    program = Program(c=c)
    main_window = MainWindow(program=program, c=c)
    main_window.show()

    sys.exit(app.exec_()) 
```

我希望我没有把它剥离太多。如果您有任何疑问，请继续。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T07:09:51.690

你已经自己回答了你的问题:)，所以我只是总结一下：

*   [`QProcess.execute`](http://qt-project.org/doc/qt-4.8/qprocess.html#execute)（顺便说一句，它是静态的，所以在这种情况下不需要创建`QProcess`对象）启动子进程并**等待**子进程完成 - 当子进程正在运行时，调用进程被阻塞并且您的 UI 被冻结

*   要达到您的要求，请使用[`QProcess.start()`](http://qt-project.org/doc/qt-4.8/qprocess.html#start)异步启动子进程，并将相应的信号`started()`和`finished()`. 有关要考虑的一些详细信息，请参阅文档中的注释。

# jquery - jquery将数字视为字符串

> ID：15804326
> 
> 赞同：1
> 
> 时间：2013-04-04T06:48:38.863
> 
> 标签：jquery

这是我要计算的jsfiddle。我不知道如何将这些字符串转换为整数。 [http://jsfiddle.net/Ygsrv/2/](http://jsfiddle.net/Ygsrv/2/)

这是代码：

```
$('#get').click(function(){
    var priceProduct = 18.9
    var length = $("#awp_group_5 option:selected").text().replace(/cm$/, '');
    var width = $("#awp_group_4 option:selected").text().replace(/cm$/, '');
    var priceProduct2 = priceProduct + (width + length * 30 );
    alert(priceProduct2);

}); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T06:49:26.150

你应该使用`parseInt(yourStringHere);`

您应该执行以下操作

```
var priceProduct2 = priceProduct + (parseInt(width) + parseInt(length) * 30 ); 
```

[在小提琴http://jsfiddle.net/mayooresan/Ygsrv/3/](http://jsfiddle.net/mayooresan/Ygsrv/3/)上查看这个示例

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:50:50.993

使用它来将字符串解析为 Integer-

```
parseInt(YourStringVar); 
```

# pip - 在 Ubuntu 上安装 Pillow 时出错

> ID：15804329
> 
> 赞同：5
> 
> 时间：2013-04-04T06:48:41.987
> 
> 标签：pip

**细节：**

操作系统：Ubuntu 12.04 LTS 服务器

虚拟机：VirtualBox 4.1.18

使用虚拟环境

virtualenv在dir中创建，与win7共享

**错误**

我执行`pip install Pillow`并收到此错误：

```
Downloading/unpacking Pillow
  Running setup.py egg_info for package Pillow

    warning: no previously-included files found matching '.hgignore'
    warning: no previously-included files found matching '.hgtags'
    warning: no previously-included files found matching 'BUILDME.bat'
    warning: no previously-included files found matching 'make-manifest.py'
    warning: no previously-included files found matching 'SHIP'
    warning: no previously-included files found matching 'SHIP.bat'
    warning: no files found matching '*.html' under directory 'docs'
    warning: no files found matching 'README' under directory 'docs'
    warning: no files found matching 'CHANGES' under directory 'docs'
    warning: no files found matching 'CONTENTS' under directory 'docs'
Installing collected packages: Pillow
  Running setup.py install for Pillow
    error: build/temp.linux-i686-2.7/multiarch: Text file busy
    Complete output from command /home/dizpers/data/www/goodread/bin/python -c "import setuptools;__file__='/home/dizpers/data/www/goodread/build/Pillow/setup.py';exec(compile(open(__file__).read().replace('\r\n', '\n'), __file__, 'exec'))" install --single-version-externally-managed --record /tmp/pip-ZvMEbN-record/install-record.txt --install-headers /home/dizpers/data/www/goodread/include/site/python2.7:
    running install

running build

running build_py

running build_ext

error: build/temp.linux-i686-2.7/multiarch: Text file busy

----------------------------------------
Command /home/dizpers/data/www/goodread/bin/python -c "import setuptools;__file__='/home/dizpers/data/www/goodread/build/Pillow/setup.py';exec(compile(open(__file__).read().replace('\r\n', '\n'), __file__, 'exec'))" install --single-version-externally-managed --record /tmp/pip-ZvMEbN-record/install-record.txt --install-headers /home/dizpers/data/www/goodread/include/site/python2.7 failed with error code 1 in /home/dizpers/data/www/goodread/build/Pillow
Storing complete log in /home/dizpers/.pip/pip.log 
```

为什么会这样？怎么修？蒂亚！

**更新**

我发现了问题 - 问题是虚拟环境是在共享到 win7 文件夹中创建的。当我在非共享文件夹中执行此操作时 - 没有错误。

# ios - 如何将 UDID 添加到配置文件中？

> ID：15804332
> 
> 赞同：25
> 
> 时间：2013-04-04T06:48:46.297
> 
> 标签：ios, certificate, udid

我有 3 个要为其部署应用程序的 iOS 设备。如何将我的设备的 UDID 添加到移动配置文件中，以便我可以将 ad-hoc IPA 部署到设备？

我无法将 UDID 添加到配置文件中。

谢谢，安基特。

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2013-04-04T06:57:08.150

如果您需要找出您的 UDID，请访问此处：[http ://whatsmyudid.com/](http://whatsmyudid.com/)

如果您已经知道您的 UDID，请转到您的[iOS 配置门户](http://developer.apple.com/ios/manage/devices/index.action)的“设备”部分，然后单击“添加设备”：

![供应门户](https://i.stack.imgur.com/eduzq.png)

输入您的设备名称和 UDID（最好复制并粘贴）并点击提交：

![输入UDID](https://i.stack.imgur.com/RCVoF.png)

成功后，您可以创建一个 App ID 并将设备添加到其中。

# java - 表格行中的 OnClick 侦听器

> ID：15804335
> 
> 赞同：2
> 
> 时间：2013-04-04T06:48:51.463
> 
> 标签：java, android, onclick, row, tableview

我创建了一个包含表格视图的活动。标题和表格行通过活动动态添加到表格视图中。一切正常，但我不明白如何将 onClick 列表添加到除标题之外的所有行，并获取特定行中列的值。

这是**活动的完整代码**：

```
public class ReportListActivity extends Activity {

    TableLayout report_table;
    TableRow tr_data;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_report_list);

        report_table=(TableLayout) findViewById(R.id.report_table);

        //---------------Table Header-----------------------------------------------
        TableRow tr_head = new TableRow(this);
        tr_head.setId(10);
        tr_head.setBackgroundColor(Color.GRAY);
        tr_head.setLayoutParams(new LayoutParams(
        LayoutParams.FILL_PARENT,
        LayoutParams.WRAP_CONTENT));

        TextView label_sr_no = new TextView(this);
        label_sr_no.setId(20);
        label_sr_no.setText("S.No.");
        label_sr_no.setTextColor(Color.WHITE);
        label_sr_no.setPadding(5,5,5,5);
        tr_head.addView(label_sr_no);// add the column to the table row here

        TextView label_test_name = new TextView(this);
        label_test_name.setId(21);// define id that must be unique
        label_test_name.setText("Test Name"); // set the text for the header 
        label_test_name.setTextColor(Color.WHITE); // set the color
        label_test_name.setPadding(5,5,5,5); // set the padding (if required)
        tr_head.addView(label_test_name); // add the column to the table row here

        TextView label_test_date = new TextView(this);
        label_test_date.setId(21);// define id that must be unique
        label_test_date.setText("Date"); // set the text for the header 
        label_test_date.setTextColor(Color.WHITE); // set the color
        label_test_date.setPadding(5,5,5,5); // set the padding (if required)
        tr_head.addView(label_test_date); // add the column to the table row here

        report_table.addView(tr_head, new TableLayout.LayoutParams(
                LayoutParams.FILL_PARENT,
                LayoutParams.WRAP_CONTENT));

      //---------------Table Header-----------------------------------------------

        //--------------------Table Body---------------------------
        for (int i=1; i<=10; i++)
        {
            tr_data = new TableRow(this);
            tr_data.setId(10);
            tr_data.setBackgroundColor(Color.TRANSPARENT);
            tr_data.setLayoutParams(new LayoutParams(
            LayoutParams.FILL_PARENT,
            LayoutParams.WRAP_CONTENT));

            TextView sr_no = new TextView(this);
            sr_no.setId(20);
            sr_no.setText(""+i);
            sr_no.setTextColor(Color.BLACK);
            sr_no.setPadding(5,5,5,5);
            tr_data.addView(sr_no);// add the column to the table row here

            TextView test_name = new TextView(this);
            test_name.setId(21);// define id that must be unique
            test_name.setText("Speed Test 60(min) Demo-ST-01"); // set the text for the header 
            test_name.setTextColor(Color.BLACK); // set the color
            test_name.setPadding(5,5,5,5); // set the padding (if required)
            tr_data.addView(test_name); // add the column to the table row here

            TextView test_date = new TextView(this);
            test_date.setId(21);// define id that must be unique
            test_date.setText("12 Mar 2013"); // set the text for the header 
            test_date.setTextColor(Color.BLACK); // set the color
            test_date.setPadding(5,5,5,5); // set the padding (if required)
            tr_data.addView(test_date); // add the column to the table row here

            report_table.addView(tr_data, new TableLayout.LayoutParams(
                    LayoutParams.FILL_PARENT,
                    LayoutParams.WRAP_CONTENT));
        }

      //--------------------Table Body---------------------------

    }

} 
```

这是**布局文件**：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:paddingBottom="@dimen/activity_vertical_margin"
    android:paddingLeft="@dimen/activity_horizontal_margin"
    android:paddingRight="@dimen/activity_horizontal_margin"
    android:paddingTop="@dimen/activity_vertical_margin"
    tools:context=".ReportListActivity" >

    <ScrollView
        android:id="@+id/scrollView1"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true" >

        <RelativeLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content" >

            <TableLayout
                    android:shrinkColumns="0,1,2"
                    android:id="@+id/report_table" android:layout_weight="1" android:layout_height="wrap_content" android:layout_width="match_parent">
            </TableLayout>

        </RelativeLayout>

    </ScrollView>

</RelativeLayout> 
```

**我应该如何对除标题行以外的表数据实现 onclick 侦听器并获取特定行的所有列的数据？**

我跟着[这个](http://technotzz.wordpress.com/2011/11/04/android-dynamically-add-rows-to-table-layout/)教程！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:56:03.837

你必须穿上`setOnClickListener`tr_data 和所有 TextView`final`

```
final TextView test_name = new TextView(this);
            test_name.setId(21);// define id that must be unique
            test_name.setText("Speed Test 60(min) Demo-ST-01"); // set the text for the header 
            test_name.setTextColor(Color.BLACK); // set the color
            test_name.setPadding(5,5,5,5); // set the padding (if required)
            tr_data.addView(test_name); // add the column to the table row here

 report_table.addView(tr_data, new TableLayout.LayoutParams(
                    LayoutParams.FILL_PARENT,
                    LayoutParams.WRAP_CONTENT));

            tr_data.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View v) {
                    // TODO Auto-generated method stub

                    String test_name1= test_name.getText().toString();
                    Toast.makeText(getApplicationContext(), test_name1, Toast.LENGTH_LONG).show();
                }
            }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-02-08T10:06:23.790

您必须 setOnClickListener 到动态添加的行，即您必须在 For 循环中添加 SetOnclickListener 动态设置表体

检查您编辑的代码下方

```
//--------------------Table Body---------------------------
    for (int i=1; i<=10; i++)
    {
        tr_data = new TableRow(this);
        tr_data.setId(10);
        tr_data.setBackgroundColor(Color.TRANSPARENT);
        **tr_data.setOnClickListener(this);**  //set on clickListener to Row here
} 
```

希望这对你有帮助。

# php - 使用 PHP 和 JSON 从 SQLSRV 获取列名

> ID：15804336
> 
> 赞同：0
> 
> 时间：2013-04-04T06:48:54.920
> 
> 标签：php, jquery, sql, json, google-visualization

下面是我使用的代码，它可以工作，但只获取行而不是列，我将数据导入谷歌图表工具图表，它使用第一行作为列信息，使其不准确。

有没有办法获取列名并将其添加到数组中？

```
<?php
    require "connectioninfo.php";

    if ($databaseConnection == false)
    {
        echo "<p>Database connection failed...</p>";
    }
    else
    {

    $query = "SELECT * FROM avTable";
    $statement = sqlsrv_query($databaseConnection, $query);
    echo $statement;
    while ($row = sqlsrv_fetch_array($statement))
        {
            $rows[] = array($row['BusinessName'],$row['Hygiene']);
        } 

        $dataTable = json_encode($rows,JSON_NUMERIC_CHECK);

    sqlsrv_free_stmt($statement); 
    }
    sqlsrv_close($databaseConnection);      
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:03:32.623

你可以这样做：

```
while ($row = sqlsrv_fetch_array($statement))
{
    $arr = array();
    for($row as $key => $value){
        // $key is your column name
        // $value is the value of $row[$key]

        // Copy data on clean array...
        $arr[$key] = $value;
    }

    // Process on column name...

    $rows[] = $arr;
} 
```

**编辑 ：**

```
SELECT * FROM sys.columns WHERE object_id = OBJECT_ID('dbo.yourTableName') 
```

[或者更好的是，您可以通过查询Information Schema 视图](http://msdn.microsoft.com/en-us/library/aa933204%28SQL.80%29.aspx)获得这些信息以及更多信息。

```
select * from INFORMATION_SCHEMA.COLUMNS 
where TABLE_NAME='yourTable' 
```

之后，您将检索 $result["COLUMN_NAME"]、$result["DATA_TYPE"]、$result["TABLE_NAME"]、$result["CHARACTER_MAXIMUM_LENGTH"] 等...

您将有一个第一个查询来确定列名，然后是一个包含所有数据的第二个查询。

# sqlite - Phonegap 离线数据库（跨所有平台）

> ID：15804340
> 
> 赞同：5
> 
> 时间：2013-04-04T06:49:19.157
> 
> 标签：sqlite, cordova, local-storage, windows-phone

我已经通过[电话间隙存储](http://docs.phonegap.com/en/1.2.0/phonegap_storage_storage.md.html)。但这在 Windows 手机上不受支持。现在我想创建一个真正兼容所有平台的应用程序。即windows 8、windows 7、windows xp、iOS、Android。

windows phone 上是否有 sqlite 的插件或替代品？我找到了这个[适用于 windows 的 Sql 客户端](http://sqlitewindowsphone.codeplex.com/releases)。什么是更好的解决方案？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-05T12:35:03.650

我也寻找了一段时间的 xplat 数据库解决方案，但没有找到除 SQLite 之外的任何其他解决方案。由于没有使用 XML 文件，SQLite 似乎仍然是 xplat 手机支持的最佳选择。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T12:52:29.547

实际上，HTML5 的存储 API 仍在讨论中，可能的解决方案是存储对象（本地/会话存储）或 Indexed DB。它还没有标准化。因此，目前还没有可能的解决方案，但您可以使用与您想要部署的主要平台兼容的插件。

您可以使用 brodyspark 的[IOS 插件](https://github.com/brodyspark/PhoneGap-SQLitePlugin-iOS)、 [Windows 8 插件](https://github.com/marcucio/Cordova-WP-SqlitePlugin)、[Android 插件](https://github.com/brodyspark/PhoneGap-SQLitePlugin-Android) 。这些有据可查，可以解决您的问题。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-09-27T14:25:25.457

可在[https://github.com/Smile-SA/cordova-plugin-websqldatabase](https://github.com/Smile-SA/cordova-plugin-websqldatabase)获得一个为 WP7 和 WP8 实现 Web SQL 数据库的 cordova 3 插件。该插件基于“Sql client for windows”，并进行了一些错误修复修改（fork 在同一个 git 存储库中可用）。

演示原型可在[https://github.com/Smile-SA/cordova-plugin-websqldatabase-proto](https://github.com/Smile-SA/cordova-plugin-websqldatabase-proto)获得。

由于 Web SQL 数据库适用于 iOS 和 Android，使用此插件您只需编写一次即可与 iOS、Android 和 WP7 / WP8 兼容。

# java - Java Jar 将几个 jar 组合成一个可执行的 Jar

> ID：15804347
> 
> 赞同：3
> 
> 时间：2013-04-04T06:49:30.760
> 
> 标签：java, executable-jar

我知道要组合几个 jar 并创建一个可执行 jar，如果我不想解压缩依赖的jar，我需要使用[OneJar 之类的工具。](http://one-jar.sourceforge.net/)OneJar 有自己的自定义类加载器，可以在关联的 jar 中找到所需的类并加载它们。

我的问题是：为什么默认的类加载器无法从附加的 jar 中加载类。是因为安全吗？在创建包含其他依赖 jar 的单个可执行 jar（无需解压缩它们）时，我希望能清楚地解释需要自定义类加载器的原因。谢谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T07:27:21.177

技术原因是 uri 规范`jar:` 不支持嵌套。

您可以编写一个 URI 处理程序来满足此需求，但是当您嵌套在每个 jar 文件中时，性能将开始受到影响。

使用单个 jar 文件，可以进行随机访问，因为索引提供了文件系统偏移量，您可以查找每个偏移量并仅读取您想要的文件

使用嵌套 jar，您可以查找内部 jar，但要从该 jar 中拉出文件，您必须先从外部解压缩内部 jar，然后才能查找。

如果您不想将 jar 文件提取到临时目录并从生成的类路径构建自己的类加载器，我会查看 OSGi 或 Maven Shade 插件提供的解决方案

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:36:55.270

除了其他答案（Stephen 的答案到目前为止更准确）之外，还要考虑 JVM 不会抢先探索可用的类路径条目，因此为了找到类*com.foo.Bar*它将查看类似的路径*com/foo/Bar.class在类路径中***列出**的条目中。如果这个路径可能在一个嵌套的 jar 中（它本身没有在类路径声明中列出），为了找到所述路径，类加载器应该首先探索所有嵌套的 jar（在过程中解压缩它们）以便进行适当的查找.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:14:09.490

我怀疑这个决定是出于安全性：如果任何东西通过嵌套或多或少地变得安全，那将是令人惊讶的。事实上，能够在我的 uber-JAR 中签署所有 JAR 作为一个整体并让它们都检查完整性作为验证我的 JAR 的一部分，这可能非常好。

我认为主要原因是性能和简单性。如果 JAR 可以嵌套，那么这些问题的答案应该是什么：

*   允许嵌套多少？你可以在 JAR 中的 JAR 中拥有 JAR 吗？
*   在一个类在两个 JAR 中的情况下，使用哪个？
*   JAR 可以被索引：该索引如何解释嵌套 JAR 的内容？

将 JAR 想象成共享库似乎是最直接的：它是一个很好的、打包的、索引的、签名的、扁平的、准备链接的包。值得注意的是 Unix .so 和 Windows .dll 也不允许嵌套，原因与我怀疑的大致相同。

旁注：通常不需要创建“uberjar”：您通常可以使用`Class-Path`主 JAR 清单中的字段来允许它拉入外部库。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T07:26:23.517

您可以将您的应用程序需要的所有 jars 放在您的应用程序文件夹（例如 lib）中，并 `java -cp lib/*.jar ...`在主 jar 的清单 Class-Path 属性中使用或枚举所有 jars。

# git - 如何在 Github 的分支上进行提交和拉取请求？

> ID：15804349
> 
> 赞同：0
> 
> 时间：2013-04-04T06:49:36.247
> 
> 标签：git, github, branch, git-commit, pull-request

似乎很容易，我想...

*   我分叉了一个名为的 repo`abc`并将其克隆到本地。
*   我派生出来的原始仓库有一个名为`2.1-stable`
*   我的仓库或本地没有这个分支
*   我需要在这个分支上提交，并对我分叉的原始仓库做 PR

这是我尝试过的：

```
// clone into a separate folder
git clone git:github.com/some/abc.git -b 2.1-stable ../ext
// set to my repo
git remote set-url origin git://github.com/me/abc.git 
```

当我现在通过在某处添加空格并尝试提交来编辑文件时，我被告知：

```
local branch is ahead of remote by 1 commit 
```

我试图获取/拉取，但这会产生大量的合并冲突（因为我只是“隔开”，很可能不是因为我的行为），但无论如何......我被卡住了。

第二次尝试是在我的仓库中添加分支：

```
git branch -a 
```

这表明我正在寻找的分支位于`remotes/upstream/2.1-stable`. 我试图补充一点：

```
git checkout -b 2.1-stable remotes/upstream/2.1-stable 
```

但这已经感觉不对了，甚至试图做出这样的承诺

```
git push -u https://github.com/me/abc/2.1-stable.git 2.1-stable:2.1-stable 
```

验证失败。

我可能在上面做错了100件事......

**问题**
有人可以告诉我如何正确执行此操作吗？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T08:10:03.207

`remote set-url`更改您的存储库的 url，这并不是您真正想要的，因为两个存储库都将参与设置。

git 中的分支与存储库克隆 url 无关，这就是您上次尝试验证失败的原因。

* * *

git 的部分神奇之处在于您可以在存储库中配置多个远程。所以你可以用 签出你自己的`git clone https://github/me/abc`，然后你可以用`git remote add upstream https://github/some/abc`（`upstream`（类似于`origin`）是这个特定角色的常规名称）添加另一个遥控器。如果您`git remote`现在运行，您会看到两个推/拉 url 对而不是一个。

你还没有得到任何数据`upstream`来做那个运行`git fetch upstream`。现在数据在您的存储库中本地，您可以通过签出*本地分支*来处理它`git checkout -b 2.1-stable remotes/upstream/2.1-stable`（这是来自您的帖子，您在那里非常接近）。因为您没有`upstream`对`origin`. `git push origin 2.1-stable`现在更改的代码在 github 上，您可以`upstream`通过 github 表单向该特定分支发送拉取请求到 repo。

PS：请注意，您可以随意命名本地分支和远程分支`origin`。这有助于明确这不是`2.1-stable`来自 的确切分支`upstream`，而可能是`some-new-feature`恰好基于 的具有许多提交的分支`2.1-stable`。始终可以在提交历史记录中检查分支的工作方式，但命名可以使其他浏览您的存储库的人更容易找出哪些代码是您存储库中不同分支的一部分。

# mysql - Oracle 替代 MySQL REPLACE INTO

> ID：15804350
> 
> 赞同：8
> 
> 时间：2013-04-04T06:49:39.900
> 
> 标签：mysql, oracle

在 MySQL 中，我们使用

```
REPLACE INTO 
```

如果行不存在则插入，如果存在则更新。

oracle中有对应的命令吗？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-04T06:56:07.160

```
MERGE
INTO    destTable d
USING   (
        SELECT  *
        FROM    sourceTable
        ) s
ON      (s.id = d.id)
WHEN NOT MATCHED THEN
INSERT  (id, destCol1, destCol2)
VALUES  (id, sourceCol1, sourceCol2)
WHEN MATCHED THEN
UPDATE
SET     destCol1 = sourceCol1,
        destCol2 = sourceCol2 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T06:54:23.747

您正在寻找类似`Merge`Oracle的东西

采用

```
 Merge Into myTable s
   USING Select x from y; 
```

[请参阅文档](http://docs.oracle.com/cd/B19306_01/server.102/b14200/statements_9016.htm)

# django - 可以使用 Django 构建 HTML5 移动应用程序吗？

> ID：15804352
> 
> 赞同：3
> 
> 时间：2013-04-04T06:49:42.600
> 
> 标签：django, html, jquery-mobile, twitter-bootstrap, kendo-ui

我想知道这里是否有任何开发人员使用 Django 成功构建了基于 HTML5 的移动 Web 应用程序？如果是这样，您是如何克服 Django 不支持某些较新的 HTML5 标记和属性的问题的？如果让你重新来过，你会再次使用 Django 还是其他一些 Web 框架（例如 Twitter Bootstrap）？

我正在建立一个小众约会网站，该网站将依赖表格进行注册、创建个人资料、电子邮件等。我希望它首先在智能手机和平板电脑上运行，然后作为最后的手段在计算机上运行。我想使用 HTML5、CSS3、JS 以及响应式和渐进式设计技术，以便用户无论使用什么类型的设备都可以访问所有功能。不过，我担心 Django 缺乏对 HTML5 的支持会使构建站点变得非常困难，我想知道是否应该使用不同的框架。

谢谢你的想法。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-04-04T07:37:51.067

Django 是一种服务器端技术。它为您提供的是一个框架来帮助您设计可扩展的后端，它很少与前端技术有任何关系，如果它提供前端功能，您总是可以覆盖它们。如果您希望在某些 django 默认表单上支持 html5，您可以随时添加它/更改呈现方式。这就是 MVC 的全部意义所在。

这是我的一般看法。

但是，如果您在使用框架进行部署时遇到更具体的问题，您可以讨论它们。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-05T00:18:55.207

我相信我至少有三个选择：

1.  在 Django 的本机模板引擎中扩展表示表单元素的类，以便它们包含我需要的 HTML5 特定属性。
2.  我想使用带有 HTML5 标记的手动代码模板，而不是依赖于我将传递给模板并通过 form.as_p 等呈现的 Form 和 ModelForm 类实例。
3.  使用直接支持 HTML5 模板系统（如 Twitter Bootstrap）的替代模板引擎，例如 django-crispy-forms。

# javascript - 将 HTML 划分为固定高度的 div

> ID：15804359
> 
> 赞同：0
> 
> 时间：2013-04-04T06:50:12.687
> 
> 标签：javascript, jquery, iphone, html

我有一个 HTML 文档，必须在我的 iPhone 应用程序的 WebView 中显示它。

文档的宽度是固定的，问题在于高度。众所周知，在 HTML 文档中增加和减少字体大小只会改变文档的高度，因为宽度是固定的。

*   如果字体大小减小，高度会减小
*   如果字体大小增加，高度会增加

现在，我需要在其中显示 html 文档的视图的大小是固定的，比如`X*Y`. 所以我必须将整个 HTML doc 划分为 divs sized `X*Y`，从而在 WebView 中一一显示它们，更具体地说，使用页面卷曲效果。

请建议我如何将 HTML 文档划分为固定大小的 div。

**注意：**文档也可能包含图像。在这种情况下，如果图像未在当前 div 中修复，则应将其移至下一页。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:25:52.030

由于宽度是固定的，只需使用 jQuery 获取高度

得到高度：`var heightY = $(window).height(), widthX=400px`

所以 div 将是：`$('#yourDiv').css({'height':heightY,'width':widthX});`

# php - 如何将值保存到三个表单的数据库中，一次在php中提交

> ID：15804363
> 
> 赞同：0
> 
> 时间：2013-04-04T06:50:16.213
> 
> 标签：php, javascript, html, mysql

嗨，我有三个表单，我想用一个提交按钮保存三个表单的值，该按钮位于 php 中的三个表单之外我正在使用 javascript 提交我的表单，现在我想将数据保存到我的数据库中。这是我的 javascript

```
 function submit()
{
    document.form1.submit();
    document.form2.submit();
    document.form3.submit();

} 
```

这是我的 php

```
if(isset($_POST["submit"])){
    browse("1213 1314");
    $gen1 = mysql_query("SELECT MAX(accode) AS maxcode FROM quotmain LIMIT 0,1 ") or die(mysql_error());
    if (mysql_num_rows($gen1) > 0) {
        $vvouch = mysql_fetch_assoc($gen1);
        $qvouch = $vvouch["maxcode"] + 1;
    } else{
        $qvouch = '1';
    }

    $a = 1;
    $vouchdt  = mydt($_POST["vouchdt"]); 
    $name     = $_POST["cmbparty"];
    $refno    = $_POST["refno1"];
    browse($refno);
    $attn     = $_POST["attn"];
    $subj     = $_POST["subject"];
    $msg      = $_POST["messsage"];
    $rem      = $_POST["rem"];
    $count    = $_POST["items"];
    $h        = $_POST["h"]; 
    $status   = $_POST["cmbstatus"];

    mysql_query("DELETE FROM quotdtl WHERE vouchno='$qvouch'") or die(mysql_error());

    for ($i = 1; $i <= $count; $i++) {
        $ord     = $_POST['ord_' . $i];
        $srno    = $_POST['srno_' . $i];
        $descrip = $_POST['descrip_' . $i];
        $unit    = $_POST['unit_' . $i];
        $rate = $_POST['rate_' . $i];

        mysql_query("INSERT INTO `quotdtl`(vouchno, orderby, srno, `descrip`, unit, rate)
                            VALUES('$qvouch', '$ord', '$srno', '$descrip', '$unit', '$rate')") or die(mysql_error());
    }

     mysql_query("DELETE FROM quotnotes WHERE vouchno='$qvouch'") or die(mysql_error());

    for ($i = 1; $i <= $h; $i++) {
        $notes = $_POST['notes' . $i];

        mysql_query("INSERT INTO `quotnotes`(vouchno, `notes`)
                            VALUES('$qvouch', '$notes')") or die(mysql_error());
    }   

    if ($addflag == 1) {
        mysql_query("INSERT INTO `quotmain`(vouchno, `vouchdt`, `party`, refno, `attn`, `subject`, `message`, `rem1`, `status`, `username`)
                            VALUES($qvouch, '$vouchdt', '$name', '$refno', '$attn', '$subj', '$msg', '$rem', '$status','$_SESSION[username]')") or die(mysql_error());

        insmess();
        header("refresh: 1; quotation.php?mode=true");
     } else {
            $mvouch = $_POST["vouch"];
             mysql_query("UPDATE `quotmain` SET `vouchdt`='$vouchdt', `name`='$name', refno='$refno', `attn`='$attn', `subject`='$subj',
                                 `message`='$msg', `rem1`='$rem', `username`='$_SESSION[username]' WHERE vouchno = '$mvouch' ") or die(mysql_error());
             updmess();
             header("refresh: 1; menu.php?action=quotation");
     }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:56:24.297

您只需将所有对象放在一个`<form>`标签中。由于您只调用一个提交按钮。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:01:24.897

**仪式警告：**请不要使用 mysql_ 函数，请改用 mysqli_ 或 PDO 接口。

这段代码：

```
function submit(){
    document.form1.submit();
    document.form2.submit();
    document.form3.submit();
} 
```

如果表单目标相同，则不起作用。

在这种情况下，您必须通过 javaScript 收集表单数据并将它们更好地编码为 JSON 数组，然后 POST 到服务器。

要使用 id = 'SpecialInput1' 访问第一个表单表单输入值，请使用：

```
 var v1 = document.forms[0].SpecialInput.value; 
  // you can use form name also:
  var v1 = document.myFirstForm.SpecialInput.value; 
```

编写一个循环，将数据收集到 Js 对象中，如 f1Data = {"address":"nowhere", "name":"John", "surname":"doe" }...and f2data 和 f3Data 然后将它们放入array : [f1data,f2data,f3data]，然后对它们进行 json 编码并将它们发布到服务器。

在服务器上 json_decode 发布数据并使用它做任何你想做的事情。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:03:34.170

您一次只能提交一份表格。在您的情况下，一旦您调用 form1.submit() 页面就会导航。

使用 Ajax，您可以提交所有必需的表单。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T07:04:31.900

你可以使用 jQuery post 来做到这一点，如下所示

```
$('button').click(function() {
    $('form').each(function() {
        $.post(this.action, $form.serialize());
    });
}); 
```

如果上述不可行，则为您的表单提供不同的目标。当您点击提交时，这将打开 2 个新窗口/选项卡

```
<form name="form1" id="form1" method="post" action="post.php">
<form name="form2" id="form2" method="post" action="post.php" target="_blank">
<form name="form3" id="form3" method="post" action="post.php" target="_blank1"> 
```

或者，您可以拥有 3 个不同的隐藏 IFrame，并在表单中将目标指定为 IFrame

```
<iframe name='if1' id='if1' src='dummy.html' border='0' frameborder='0' scrolling='auto' width='0' height='0'></iframe>
<iframe name='if2' id='if2' src='dummy.html' border='0' frameborder='0' scrolling='auto' width='0' height='0'></iframe>
<iframe name='if3' id='if3' src='dummy.html' border='0' frameborder='0' scrolling='auto' width='0' height='0'></iframe> 
```

然后你的表格应该是

```
<form name="form1" id="form1" method="post" action="post.php" target="if1">
<form name="form2" id="form2" method="post" action="post.php" target="if2">
<form name="form3" id="form3" method="post" action="post.php" target="if3"> 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-04T07:15:53.837

您还可以使用一些解决方法，如下所示：

使用您的 javascript`submit()`函数，而不是：

```
form1.submit();
form2.submit();
form3.submit(); 
```

您可以像这样迭代 form2 和 form3 并将元素添加到 form1 ：（此代码未经测试，只是概念）

```
for (element in form2.elements) {
     form1.elements['form2['+element['name']+']'] = element;
}
for (element in form3.elements) {
     form1.elements['form3['+element['name']+']'] = element;
}
form1.submit(); 
```

这样在你的form1中你就有了其他表单的所有数据，你可以知道哪个表单提交了哪些数据，因为form2数据在`$_POST['form2']`数组中，而form3数据在`$_POST['form3']`数组中。Form1 数据仍然可以通过常规访问`$_POST['field']`。

祝你的项目好运。

# android - 有什么方法可以获取 GPU 信息吗？

> ID：15804365
> 
> 赞同：21
> 
> 时间：2013-04-04T06:50:17.460
> 
> 标签：android, gpu

我知道如何在里面获取 CPU 信息`/proc/`，但是有什么方法可以获取 GPU 信息吗？CPU 之类的？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-09-03T08:00:57.620

更简单的方法： adb shell dumpsys | grep GLES

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-04-04T06:54:42.480

有，您可以使用 OpenGL 获取 GPU 信息：

```
 Log.d("GL", "GL_RENDERER = "   + gl.glGetString( GL10.GL_RENDERER   ));
    Log.d("GL", "GL_VENDOR = "     + gl.glGetString( GL10.GL_VENDOR     ));
    Log.d("GL", "GL_VERSION = "    + gl.glGetString( GL10.GL_VERSION    ));
    Log.i("GL", "GL_EXTENSIONS = " + gl.glGetString( GL10.GL_EXTENSIONS )); 
```

有关更多信息，请参阅：[https ://developer.android.com/guide/topics/graphics/opengl.html](https://developer.android.com/guide/topics/graphics/opengl.html)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2016-05-29T18:48:27.357

这是获取 GPU 信息的 SampleActivity：

```
public class MainActivity extends Activity implements GLSurfaceView.Renderer{
    private TextView textView;
    private GLSurfaceView glSurfaceView;
    private StringBuilder sb;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        textView = (TextView) findViewById(R.id.textView);

        final ActivityManager activityManager =  (ActivityManager)getSystemService(Context.ACTIVITY_SERVICE);
        final ConfigurationInfo configurationInfo = activityManager
                .getDeviceConfigurationInfo();
        sb=new StringBuilder();
        sb.append("GL version:").append(configurationInfo.getGlEsVersion()).append("\n");

        textView.setText(sb.toString());
        this.glSurfaceView = new GLSurfaceView(this);
        this.glSurfaceView.setRenderer(this);
        ((ViewGroup)textView.getParent()).addView(this.glSurfaceView);
    }

    @Override
    public void onClick(View v) {
    }

    @Override
    public void onSurfaceCreated(GL10 gl, EGLConfig config) {
       sb.append("RENDERER").append(gl.glGetString(GL10.GL_RENDERER)).append("\n");
        sb.append("VENDOR").append( gl.glGetString(GL10.GL_VENDOR)).append("\n");
        sb.append("VERSION").append(gl.glGetString(GL10.GL_VERSION)).append("\n");
        sb.append("EXTENSIONS").append(gl.glGetString(GL10.GL_EXTENSIONS));
        runOnUiThread(new Runnable() {
            @Override
            public void run() {
                textView.setText(sb.toString());
                glSurfaceView.setVisibility(View.GONE);
            }
        });
    }

    @Override
    public void onSurfaceChanged(GL10 gl, int width, int height) {
    }

    @Override
    public void onDrawFrame(GL10 gl) {
    }
} 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-07-01T05:16:35.487

我希望它对您有用.. 首先此代码检查设备是否支持 GPU。

```
 // Check if the system supports OpenGL ES 2.0.
  final ActivityManager activityManager =  (ActivityManager)getSystemService(Context.ACTIVITY_SERVICE);
    final ConfigurationInfo configurationInfo = activityManager
            .getDeviceConfigurationInfo();
    final boolean supportsEs2 = configurationInfo.reqGlEsVersion >= 0x20000;

    if (supportsEs2) {
        Log.i("JO", "configurationInfo.reqGlEsVersion:"
                + configurationInfo.reqGlEsVersion + "supportsEs2:"
                + supportsEs2);
        // Request an OpenGL ES 2.0 compatible context.
        myGlsurfaceView.setEGLContextClientVersion(2);

        final DisplayMetrics displayMetrics = new DisplayMetrics();
        getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);

        // Set the renderer to our demo renderer, defined below.
        myRenderer = new MyRenderer(this, myGlsurfaceView);
        myGlsurfaceView.setRenderer(myRenderer, displayMetrics.density);
        myGlsurfaceView.setRenderMode(GLSurfaceView.RENDERMODE_CONTINUOUSLY);
    } else {
        // This is where you could create an OpenGL ES 1.x compatible
        // renderer if you wanted to support both ES 1 and ES 2.
        return;
    } 
```

第二个：此代码提供GPU信息..

将它放在 MyRenderer 类中的这段代码中。

```
 public void determineGraphicSupport(GL10 gl){
    int _graphicEngine = GRAPHICS_CANVAS;

    String extensions = gl.glGetString(GLES20.GL_EXTENSIONS); 
    //String version = GLES10.glGetString(GL10.GL_VERSION);
    String version = GLES20.glGetString(GLES20.GL_VERSION);

    //String renderer = gl.glGetString(GL10.GL_RENDERER);
    String renderer = GLES20.glGetString(GLES20.GL_RENDERER);

    boolean isSoftwareRenderer = renderer.contains("PixelFlinger");
    boolean supportsDrawTexture = extensions.contains("draw_texture");

    int[] arGlMaxTextureSize = new int[1];

    gl.glGetIntegerv( GLES20.GL_MAX_TEXTURE_SIZE, arGlMaxTextureSize, 0 );

    if( !isSoftwareRenderer && supportsDrawTexture && _width >= 480 && _height >= 800 
            && arGlMaxTextureSize[0] >= 4096 )
        _graphicEngine = GRAPHICS_OPENGL_DRAW_TEXTURE;
    else
        _graphicEngine = GRAPHICS_CANVAS;

 } 
```

# jqgrid - 对话框中的 jqGrid 错误

> ID：15804366
> 
> 赞同：0
> 
> 时间：2013-04-04T06:50:19.303
> 
> 标签：jqgrid, dialog, datepicker

在我之前[的帖子](https://stackoverflow.com/questions/15611469/jqgrid-change-dynamically-edittype-for-specific-row)之后，我应用了 Oleg 的建议并且效果很好，但效果不佳。

这是这个盒子的图像：

![在此处输入图像描述](https://i.stack.imgur.com/h2mVc.png)

每行接收一个带有日期选择器的选择框（称为“类型缺失”）和 2 个输入（称为“Début”和“Fin”）。

所有行都很好，除了最后一个字段（'Fin'）没有接收日期选择器的第一行。

这是代码：

```
 var myCong = $("#dlgcong");
        myCong.jqGrid({
            url:'xpabs.php?id='+id+'&y='+y,
            datatype: "json",
            height:"auto",
            cmTemplate: {sortable:false},
            gridview: true,
            colNames:['Type absence','Début','Fin','id'],
            colModel:[ 
                {name:'abs',index:'abs',width:155,editable:true,edittype:'select',
                    editoptions:{ 
                        dataUrl:"selabs.php", 
                    dataEvents: [
                            {
                                type: 'change',
                                fn: function(e) {
                                    $(this).parent().css('background-color','#'+$(this).find('option:selected').attr('colr'));
                                    if($(this).find('option:selected').attr('colr')=='ffffff'){
                                        $(this).parent().parent().find('input').datepicker('disable');
                                    }else{
                                        $(this).parent().parent().find('input').datepicker('enable');
                                        $(this).parent().parent().attr('changed',true);
                                    }
                                }
                            }
                        ]
                    },
                    cellattr: function (rowId, val, rawObject, cm, rdata) {
                        return ' style="background-color:#'+rawObject[4]+';color:white;"';
                    }
                },
                {name:'debut',index:'debut',align:'center',width:70,editable:true},
                {name:'fin',index:'fin',align:'center',width:70,editable:true},
                {name:'id',index:'id',hidden:true}
            ],
            jsonReader: {
                id:3,
                cell: "", 
                root: function (obj) { 
                    return obj; 
                } 
            },                  
            loadComplete: function (data) {
                var $self = $(this),
                        idPrefix = $self.jqGrid("getGridParam", "idPrefix"),
                        l = data.length,
                        i,
                        item,
                        cm;
                for (i = 0; i < l; i++) {
                    item = data[i];
                    cm = $self.jqGrid("getColProp", "debut");
                    cm.editoptions = {
                        dataInit: function(element) {
                            $(element).datepicker({
                                setDate:item[1],
                                minDate:'01/01/'+y,
                                maxDate:'31/12/'+y,
                                onSelect: function( selectedDate,inst ) {
                                    $(element).val(selectedDate );
                                    $(element).parent().parent().attr('changed',true);
                                }
                            })
                        }
                    };
                    $self.jqGrid("editRow", idPrefix + item[3]);
                    //
                    cm = $self.jqGrid("getColProp", "fin");
                    cm.editoptions = {
                        dataInit: function(element) {
                            $(element).datepicker({
                                setDate:item[2],
                                minDate:'01/01/'+y,
                                maxDate:'31/12/'+y,
                                onSelect: function( selectedDate,inst ) {
                                    $(element).val(selectedDate );
                                    $(element).parent().parent().attr('changed',true);
                                }
                            })
                        }
                    };
                    $self.jqGrid("editRow", idPrefix + item[3]);
                }
                myCong.find('select').each(function(){
                    $(this).css({
                        backgroundColor:'transparent',
                        color:'white',
                        border:0,
                        width:155
                    });
                });
                $('#EditDialog').dialog('option', 'title', 'Absences '+caption.toUpperCase());
            },
            idPrefix: "cong",
            rowNum: 10000   
        }); 
```

以及来自服务器的 JSON 响应：

```
[["Cong\u00e9 pay\u00e9","06\/09\/2013","29\/09\/2013","3","0080FF"],["Cong\u00e9 pay\u00e9","19\/07\/2013","19\/07\/2013","2","0080FF"],["Cong\u00e9 exceptionnel","03\/06\/2013","03\/06\/2013","5","FF8000"],["R.T.T.","31\/05\/2013","31\/05\/2013","4","FF0000"],["R.T.T.","10\/05\/2013","10\/05\/2013","6","FF0000"]] 
```

我不明白为什么只有第一行的最后一个字段被破坏，所以所有行都由 loadComplete 例程关注。

如果有人对这个麻烦以及如何解决它有任何想法，非常感谢您的帮助和花费的时间。祝你今天过得愉快。继和

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T09:40:20.453

错误似乎很容易：您应该**删除第一个**调用

```
$self.jqGrid("editRow", idPrefix + item[3]); 
```

在“for”循环内。如果您在由于上一次调用*而已经处于编辑模式*`editRow`的行上第二次调用，那么第二次调用将被忽略。

# xaml - 具有水平滚动的 LongListSelector - WP8

> ID：15804367
> 
> 赞同：1
> 
> 时间：2013-04-04T06:50:24.370
> 
> 标签：xaml, scroll, windows-phone-8, longlistselector

有没有办法让 LongListSelector 水平滚动？

默认情况下，它垂直滚动。没有可用于更改方向的 ItemPanel 属性或 ScrollViwer。

任何帮助将不胜感激：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-17T11:21:22.283

替代scrollviewer的视口控件可以水平滚动。您可以在 LLS 模板中修改 ViewPortControl 的 ManipulationLockMode。

但我不认为 LongListSelector 是用来水平滚动的。

您需要 LLS 的哪些部分无法用旧的列表框 + 水平虚拟化堆栈面板组合代替？

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-05-10T08:19:37.780

侧边使用的长列表选择器标记如下：ScrollViewer.Horizo​​ntalScrollBarVisibility="Visible"

# bash - 读取文件中的每一行，替换变量并将输出发送到文件 bash

> ID：15804369
> 
> 赞同：2
> 
> 时间：2013-04-04T06:50:30.650
> 
> 标签：bash, variables, loops, while-loop, cat

我有一个包含某些变量的文件。我想阅读每一行，替换变量并回显输出。我想阅读的源文件是这样的：

```
VAR1 is $A
VAR2 is $B
VAR3 is $C 
```

我尝试了下面的脚本，但输出是一样的。

```
#/bin/sh
A=1
B=2
C=3

cat $file | while read LINE
do
 echo $LINE
done 
```

我如何让它替换变量来获得这个输出？

```
VAR1 is 1
VAR2 is 2
VAR3 is 3 
```

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T07:03:35.027

代替

```
echo $LINE 
```

放：

```
eval echo $LINE 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T13:02:03.477

`eval`将执行任何有效的 shell 代码，因此存在一定的安全风险。这是一个更专注的解决方案，它*只做*参数扩展，没有任意代码执行的风险。

```
#/bin/sh
A=1
B=2
C=3

# Break each line into the variable name, "is", and the value. Then
# strip the leading dollar sign from the value to keep just the
# parameter name. Finally, use indirect parameter expansion to print
# the value.
while read name _ value
do
 value=${value#$}
 echo "$name is ${!value}"
done < "$file" 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-06-11T01:22:51.923

由于 eval 存在安全风险，为什么不尝试：-

```
cat $file | while read LINE
do
   echo $LINE | sed -e "s/\$A/$A/g" -e "s/\$B/$B/g" -e "s/\$C/$C/g"
done 
```

或者简单地说：-

```
sed -e "s/\$A/$A/g" -e "s/\$B/$B/g" -e "s/\$C/$C/g" $file 
```

# javascript - 在 HTML 中使用 JavaScript 显示表格项

> ID：15804374
> 
> 赞同：0
> 
> 时间：2013-04-04T06:50:49.887
> 
> 标签：javascript, html, cordova, local-storage, web-sql

为什么我不能显示表格项？

我的代码：

```
function get(){
    db.transaction(function(tx){

        tx.executeSql('SELECT * FROM ENTRIES', []);
        function show(){
            var len = results.rows.length, i;
            for(i=0; i < len; i++){
                alert(results.rows.item(i).text);
            }
        }
    });
} 
```

还有这个：

```
function show(tx, results){

    var len = results.rows.length;
    for(i=0; i < len; i++){
                var row = results.rows.item(i);
                console.log(rows.entry);
            }

} 
```

它们都不起作用。我想以某种方式显示结果。也许在`for`div 中的 HTML 内的循环中。

另外，浏览器不会保留添加的数据：

```
function populateDB(tx) {
         tx.executeSql('DROP TABLE IF EXISTS ENTRIES');
         tx.executeSql('CREATE TABLE IF NOT EXISTS ENTRIES (id integer primary key autoincrement, entry text)');
         tx.executeSql('INSERT INTO ENTRIES (entry) VALUES (5)');
    } 
```

我从输入中添加数据，但是一旦刷新，它就消失了。如何？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:10:02.237

你的 javascript 看起来不对。从文档中， db.transaction 有 3 个参数。

```
db.transaction(populateDB, errorCB, successCB); 
```

你可以这样做：

```
 function queryDB(tx) {
        tx.executeSql('SELECT * FROM ENTRIES', [], querySuccess, errorCB);
    }

    // Query the success callback
    //
    function querySuccess(tx, results) {
       var len = results.rows.length;
       console.log("ENTRIES table: " + len + " rows found.");
       for (var i=0; i<len; i++){
           console.log("Row = " + i + " ID = " + results.rows.item(i).id + " Data =  " +                results.rows.item(i).data);
       }
    }

    // Transaction error callback
    //
    function errorCB(err) {
        console.log("Error processing SQL: "+err.code);
    } 
```

# oracle - eclipselink 存储过程数组

> ID：15804379
> 
> 赞同：1
> 
> 时间：2013-04-04T06:51:14.687
> 
> 标签：oracle, stored-procedures, eclipselink

我想使用输入执行存储过程（oracle） - 来自eclipselink的数字数组。

```
EntityManager entityManager = entityManagerFactory.createEntityManager();
entityManager.getTransaction().begin();
StoredProcedureCall call = new StoredProcedureCall();
call.setProcedureName("P_TEST2");
ReadQuery mquery = new DataReadQuery();

call.addNamedArgument("x");
call.addNamedOutputArgument("z");

mquery.setCall(call);

int [] x = {1,2,3};
Query query = ((JpaEntityManager)entityManager.getDelegate()).createQuery(mquery)
    .setParameter("x", x);
DatabaseRecord record = (DatabaseRecord) query.getSingleResult();
System.out.println(record.get("z")); 
```

程序本身

```
create or replace procedure p_test2(
  x in numeric_array,
  z out numeric
)
AS
BEGIN
  FOR i IN x.first .. x.last
      LOOP
        INSERT INTO TEST2(ID,VALUE) VALUES (SEQ1.nextval,i);
      END LOOP;
  commit;
  z := seq1.currval;
END;
/ 
```

但我认为它有问题，数组有问题。

需要你的帮助。

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2013-04-09T13:48:44.020

以这种方式解决它：

1.  编写函数/过程，接受字符串（用空格或逗号分隔的数组）
2.  在函数解析参数并将它们转换为数字表（或任何需要的类型）
3.  调用需要的函数
4.  返回需要的结果

# wordpress - 缩放 TwentyEleven 主题以解决问题

> ID：15804381
> 
> 赞同：0
> 
> 时间：2013-04-04T06:51:15.620
> 
> 标签：wordpress, scale, css

我基于 TwentyEleven 主题在 WordPress中创建了我的第一个[网站。](http://strandservice.fi)我知道它应该缩放到屏幕分辨率，但它没有。我想我在 CSS 文件中的一些最小编辑破坏了一些东西。

关于如何找出我在哪里编辑了可能破坏比例功能的东西的任何想法？

默认情况下，是否有一种方法可以像查看者在浏览器中手动进行的那样来扩展网站？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:06:48.070

对于侧边栏 - 将您的 #secondary 的 css 替换为

```
#secondary {
   float:left;
   width:25%;
} 
```

并从图像中删除最大高度和最大宽度样式。

# c# - ASP.NET Web 应用程序中的 CAS 策略错误

> ID：15804383
> 
> 赞同：3
> 
> 时间：2013-04-04T06:51:19.483
> 
> 标签：c#, asp.net, webforms, cas

我在我的 WEB 表单中使用 Devexpress 控件。我在添加控件时添加了对我的参考文件夹的相应引用（我在这里使用网格）给了我错误

**此方法显式使用已被 .NET Framework 废弃的 CAS 策略。为了出于兼容性原因启用 CAS 策略，请使用 NetFx40_LegacySecurityPolicy 配置开关。有关详细信息，请参阅[http://go.microsoft.com/fwlink/?LinkID=155570](http://go.microsoft.com/fwlink/?LinkID=155570)。**

我检查了解决方案

并更改了链接中给出的我的网络配置

但是，我在使用 VS 2010 时遇到同样的错误，并且我的 .NET 框架是 4，而且我正在运行 32 位 OS XP

请帮忙

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2015-11-16T08:51:38.647

也许有点晚了，但是您可以将以下内容添加到您的中`web.config`，它应该可以工作：

```
<system.web>
  ...
  <trust legacyCasModel="true" />
  ...
</system.web> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-07T11:51:17.437

好吧，我之前遇到过这个错误，我通过更改位于的**devenv.exe配置文件来解决它**

[C:\Program Files\Microsoft Visual Studio 10.0\Common7\IDE][1](如果你的安装目录是C:)

你需要做的是添加

```
 <runtime>
  <NetFx40_LegacySecurityPolicy enabled="true"/>
     </runtime> 
```

在您的配置标签之间...通过这个您将能够解决您的问题但这会引发另一个问题...我在另一个项目中有一个数据集，我无法使用 Dataset Visualizer 进行检查。我遇到的错误是**无法加载这个自定义查看器**。经过数小时的谷歌搜索，我找到了这个[Link1](https://stackoverflow.com/questions/2511798/show-visualizers-error-could-not-load-this-custom-viewer)和[Link2](http://forums.autodesk.com/t5/NET/dll-on-the-network-will-that-be-a-problem/td-p/3435819/page/2)

我尝试的另一个解决方案是更改为 webconfig 文件。我添加了这个配置，它在运行时工作，尽管我在设计时仍然得到这个错误。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-01-01T06:57:22.237

我通过在关闭 Visual Studio 2012 后允许用户完全控制文件的安全权限来解决它。文件名为 devenv.exe.config，路径如下：

C:\Program Files (x86)\Microsoft Visual Studio 11.0\Common7\IDE

然后在记事本中打开上面的文件并在`<runtime>`标记后添加以下行

`<NetFx40_LegacySecurityPolicy enabled="true"/>`

保存文件并开始使用带有设计视图的 Visual Studio 2012。现在我的错误消失了。

# joomla - Joomla 多站点

> ID：15804384
> 
> 赞同：0
> 
> 时间：2013-04-04T06:51:31.437
> 
> 标签：joomla, web

我的客户在 Joomla 2.5 中需要一些要求，不确定这些更改是否可以在 Joomla 2.5 中完成

他们使用“Moset Tree”组件创建类别，并在类别中拥有 1000 个用户列表。

现在需要客户端，列表中的每个用户都将拥有单独的站点，例如 -`www.mysite.com/user1` `www.mysite.com/user2`每个用户将拥有模板、少量页面，并且可以从用户端管理页面。

我是新的 Moset Tree，我浏览了网站的管理面板，它有“列表模板”和“自定义 URL”的选项，但不确定这些选项的使用。我无权在管理面板中检查这些选项。请建议，这个选项可以满足我的要求吗？

现在该站点也是 Joomla 1.5，它将通过 Moset Tree 组件升级升级到 Joomla2.5。

请让我知道，如果 Joomla3.0 中有任何其他组件可用于多站点。我通过[JMS2win](http://tutorial.jms2win.com/joomla/multisite-12x/joomla-subsite-overview/)组件，它为不同的用户提供不同的数据库。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T20:43:35.370

我认为导致您遇到困难的一个问题是考虑 www.mysite.com/user2 一个站点。这些只是主站点中的页面。您不需要多站点功能。

# sql - 如何编写将导致以下格式的查询？

> ID：15804386
> 
> 赞同：1
> 
> 时间：2013-04-04T06:51:39.123
> 
> 标签：sql, sql-server, sql-server-2008, unpivot

![在此处输入图像描述](https://i.stack.imgur.com/rV3w8.png)

我认为对于这种结果我必须使用联合，但问题是我不知道列数。这就是为什么我将无法使用联合。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:55:40.240

您可以创建一个动态的 Pivot SQL 查询。通常动态查询很糟糕，但有时也无济于事。如果您不知道要显示多少列，您应该考虑更改数据库结构，突然您无意中发布了某人的个人详细信息...

可以在此处找到具有更深入细节的类似主题： [SQL Pivot Query with Dynamic Columns](https://stackoverflow.com/questions/8343417/sql-pivot-query-with-dynamic-columns)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:21:54.867

**[SQL FIDDLE DEMO](http://sqlfiddle.com/#!3/b86dc/1)**
这是您知道需要取消透视的列数。

```
 select ID, ColumnName, ColumnValue
from (
select ID, Name, cast(Age as varchar(10)) as Age, Designation from Employee 
)P
unpivot
   (
      columnValue for ColumnName in ([Name], [Age], [Designation]) 
    ) as UP 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T10:16:54.750

看起来您正在尝试对数据进行*反*透视而不是应用透视。UNPIVOT 函数会将您的多列转换为行。

如果您知道将拥有多少列，则可以对解决方案进行硬编码：

```
select emp_id, col, value
from
(
  select emp_id, name, cast(age as varchar(20)) age, d.title
  from empTable e
  inner join empDesignationTable d
    on e.designationId = d.id
) d
unpivot
(
  value
  for col in (name, age, title)
) u; 
```

请参阅[SQL Fiddle with Demo](http://www.sqlfiddle.com/#!3/8f896/2)。

但是如果你有未知的列，那么你将需要使用动态 SQL：

```
DECLARE @colsUnpivot AS NVARCHAR(MAX),
   @query  AS NVARCHAR(MAX)

select @colsUnpivot = stuff((select ','+quotename(C.column_name)
         from information_schema.columns as C
         where C.table_name in ('empTable', 'empDesignationTable') and
               C.column_name not like '%id%'
         for xml path('')), 1, 1, '')

set @query 
  = 'select emp_id, col, value
     from
     (
       select emp_id, name, cast(age as varchar(20)) age, d.title
       from empTable e
       inner join empDesignationTable d
         on e.designationId = d.id
     ) d
     unpivot
     (
        value
        for col in ('+ @colsunpivot +')
     ) u'

exec(@query) 
```

请参阅[SQL Fiddle with Demo](http://www.sqlfiddle.com/#!3/8f896/6)。两者都给出结果：

```
| EMP_ID |   COL |             VALUE |
--------------------------------------
|      1 |  name |              John |
|      1 |   age |                25 |
|      1 | title | Software Engineer |
|      2 |  name |             Smith |
|      2 |   age |                31 |
|      2 | title |       UI Designer | 
```

# php - 在 Firefox 中传递 HTML 表格行数据无法正常工作

> ID：15804390
> 
> 赞同：1
> 
> 时间：2013-04-04T06:51:48.203
> 
> 标签：php, html, dom

我已经使用 HTML/JS 大约一周了。

我正在使用 XMLHttpRequest 在我的主页上加载一个表，允许用户用新数据刷新表。从我创建的表中，我将其他数据检索到表单上的第二个 XMLHttpRequest 中。我通过表格行的 onclick 事件传递数据。这是基本代码：

```
function test(tablerow)
{
//get the rowindex for the row

var myIndex = tablerow.rowIndex;

//get the cell data for the clicked row in the first column

// original var company_id = table1.rows.item(myIndex).cells.item(0).textContent;

var my_id = table1.rows.item(myIndex).cells.item(0).textContent;

alert(my_id);
} 
```

当我第一次加载表时，这工作得很好，但是当我加载一个新表时，它似乎正在保存以前的表数据。

例子：

第一张表：

```
ID
--
1
2
3
4
5 
```

单击该行时，响应会正确获取 ID。但。当我加载第二个表时：

```
ID
--
6
7
8
9
10 
```

当单击第 1 行时，我得到 1 作为单元格数据的响应。2，对于第二行等...它正在获取原始表数据的响应。如前所述，这不会发生在 Chrome 或 IE 中。我得到了正确的数据。

我创建了一个小测试用例，展示了我所看到的行为。

有谁知道如何解决这个问题，为什么这只发生在 Firefox 中？

## 测试用例：

第1页.php

```
<!DOCTYPE html>
<html>

<script type="text/javascript">

function test(tablerow)
{
//get the rowindex for the row

var myIndex = tablerow.rowIndex;

//get the cell data for the clicked row in the first column

// original var company_id = table1.rows.item(myIndex).cells.item(0).textContent;

var my_id = table1.rows.item(myIndex).cells.item(0).textContent;

alert(my_id);
}

function getPage()
{
HttpRequest = PostXmlHttpObject();

HttpRequest.onreadystatechange=function()
{
    if (HttpRequest.readyState==4 && HttpRequest.status==200)
    {
        document.getElementById("divTable").innerHTML=HttpRequest.responseText;
    }
}

HttpRequest.open("GET","page2.php?table="+1, true);
HttpRequest.send();

}

function getPage2()
{
HttpRequest = PostXmlHttpObject();

HttpRequest.onreadystatechange=function()
{
    if (HttpRequest.readyState==4 && HttpRequest.status==200)
    {
        document.getElementById("divTable").innerHTML=HttpRequest.responseText;
    }
}

HttpRequest.open("GET","page2.php?table="+2, true);
HttpRequest.send();

}

function PostXmlHttpObject()
{
var HttpRequest = false;

if(window.XMLHttpRequest)
    { // Mozilla, Safari,...
    HttpRequest = new XMLHttpRequest();

    if(HttpRequest.overrideMimeType)
    {
        // set type accordingly to anticipated content type
        HttpRequest.overrideMimeType('text/html');
    }
}
else if(window.ActiveXObject)
{ // IE
    try{
        HttpRequest = new ActiveXObject("Msxml2.XMLHTTP");
}
    catch(e)
    {
        try
        {
            HttpRequest = new ActiveXObject("Microsoft.XMLHTTP");
        }catch(e){}
    }
}
if(!HttpRequest)
{
    alert('Cannot create XMLHTTP instance');
    return false;
}
return HttpRequest;
}

</script>

<body>
<form name="form1" id="form1">

<input type="button" value="Get XML Page 1" onclick="getPage()"/>
<input type="button" value="Get XML Page 2" onclick="getPage2()"/>

<br /><br />

<div id="divTable"><b></b></div>

</form>
</body>
</html> 
```

## Page2.php

```
<!DOCTYPE html>

<html>

<?php 

$table_id = $_GET["table"];

if ($table_id == 1)
{
?>

<form name="form2" id="form2">
<table id="table1">
<tr>
<th>Id</th>
</tr>

<tr onclick="test(this);">
<td>1</td>
</tr>
<tr onclick="test(this);">
<td>2</td>
</tr>
<tr onclick="test(this);">
<td>3</td>
</tr>
<tr onclick="test(this);">
<td>4</td>
</tr>
<tr onclick="test(this);">
<td>5</td>
</tr>

</table>
<?php 
}
else
{
?>
<table id="table1">
<tr>
<th>Id</th>
</tr>

<tr onclick="test(this);">
<td>6</td>
</tr>
<tr onclick="test(this);">
<td>7</td>
</tr>
<tr onclick="test(this);">
<td>8</td>
</tr>
<tr onclick="test(this);">
<td>9</td>
</tr>
<tr onclick="test(this);">
<td>10</td>
</tr>

</table>
<?php 
}
?>

</form>

</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:25:11.300

像这样修改您的测试功能并检查

```
function test(tablerow)
{
    alert(tablerow.cells.item(0).innerHTML);
    alert(tablerow.cells[0].innerHTML);
} 
```

# c# - visual studio c# 查看代码不起作用

> ID：15804392
> 
> 赞同：0
> 
> 时间：2013-04-04T06:51:54.677
> 
> 标签：c#, visual-studio

我在 Visual Studio 中编写了一些 C# 项目，但我偶然发现了一个我无法在线找到解决方案的问题。我添加到表单的任何按钮，一旦我右键单击并选择查看代码，我就会进入代码屏幕，但该按钮的代码不会自动生成。

请帮助我，因为我必须开始做作业，而且我似乎无法克服这个问题。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-04T06:53:04.130

您应该**双击按钮**，而不是右键单击和查看代码。这会将您带到附加的事件，或者如果不存在，它将为默认事件创建一个新事件。如果是按钮，它的`Click`.

您可能会看到：[如何：在 ASP.NET 网页中创建事件处理程序](http://msdn.microsoft.com/en-us/library/6w2tb12s%28v=vs.100%29.aspx)

> 在设计视图中，双击页面或双击要为其创建默认事件处理程序的控件。

以上对于 WinForm 也是如此

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-04T06:54:20.010

只需*双击*按钮，如果不存在任何事件，它将创建一个新事件。

从：[`How to: Create Event Handlers in ASP.NET Web Pages`](http://msdn.microsoft.com/en-us/library/6w2tb12s%28v=vs.100%29.aspx)

> 在设计视图中，双击页面或双击要为其创建默认事件处理程序的控件。
> 
> Visual Web Developer 为默认事件创建一个处理程序，并使用事件处理程序中的插入点打开代码编辑器。

此外，可以相关：[如何：创建自定义双击事件](http://msdn.microsoft.com/en-us/library/ms172533%28v=vs.90%29.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T06:56:47.833

在*设计视图*中，双击要为其创建默认事件处理程序的控件。

对你来说它是 Button，所以双击那个按钮来创建一个 button_click 事件。

另一种方式：

1.  在按钮的*右键单击*菜单中，只需转到按钮的*属性*![右键点击](https://i.stack.imgur.com/gCmyE.gif)，单击解决方案资源管理器窗口顶部的事件符号。

    “属性”窗口显示所选控件的事件列表。

2.  双击将创建按钮单击事件的*Button_Click*事件。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-12-28T07:42:21.020

如果即使双击也没有显示代码，请关闭解决方案，然后运行此批处理文件（您在解决方案/项目的根文件夹中创建）：

@echo off @echo 删除所有 BIN 和 OBJ 文件夹... for /d /r 。%%d in (bin,obj) do @if exists "%%d" rd /s/q "%%d" @echo BIN 和 OBJ 文件夹成功删除:) 关闭窗口。暂停 > 无

我将批处理文件命名为“AAA_DeleteBinObjFolder.bat”，这样当在文件资源管理器中排序时，它会显示在文件列表的顶部附近。

关闭运行批处理文件时显示的窗口后，重新加载您的解决方案或项目，代码将出现在代码窗口中。

# jquery - 未设置 window.name 属性，因为目标窗口属于不同的域

> ID：15804393
> 
> 赞同：0
> 
> 时间：2013-04-04T06:51:58.563
> 
> 标签：jquery, asp.net, internet-explorer-9, cross-domain

我在 IE 中遇到错误。

**DOM7004：未设置 window.name 属性，因为目标窗口属于不同的域。**

我在谷歌搜索并没有任何好的链接来解决这个问题

您能否帮助了解为什么会出现此错误以及如何解决此问题。

请帮忙

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-19T18:03:20.907

检查 IE 中的隐私设置。

我注意到我在加载 javascript 时遇到了问题，而且它只发生在 IE 中。我遇到了与您相同的错误，更改隐私设置使错误消失。

# ember.js - 从服务器刷新列表时如何忽略脏记录？

> ID：15804405
> 
> 赞同：5
> 
> 时间：2013-04-04T06:52:31.487
> 
> 标签：ember.js, ember-data

使用最新的 ember 和 ember-data。

我有一个带有项目列表的单页应用程序，并且能够在选项卡中打开项目。我可以在打开的选项卡中编辑项目，并且不提交脏记录，返回列表。

如果我刷新列表，我会收到错误消息：

`Error: Attempted to handle event loadedData on <> while in state rootState.loaded.updated.uncommitted`

这当然是因为我`App.TestObject.find()`在列表中做了一个，并且仍然有脏的未提交记录（在选项卡中打开和编辑的记录）。

我的目标是显示更新记录的列表，但对未提交的记录不做任何事情。我不想对未提交的记录进行回滚。对此有最佳做法吗？

[这是一个类似的问题](https://stackoverflow.com/questions/14154826/ember-model-lifecycle-and-reverting-to-original-state)，但我不希望记录恢复到原始状态。 [这是一个与 fiddle 类似的情况](http://jsfiddle.net/PBvbt/)，但这里回滚是正确的解决方案。

如果我想在返回列表时忽略未提交的记录，我该如何解决？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-09T12:23:34.740

我只有通过 monkey-patching 解决这个问题`DS.Model`。

```
DS.Model.reopen({
  loadedData: function() {
    if (this.get('isDirty') === false) {
      this._super.apply(this, arguments);
    }
  }
}); 
```

导致模型在处于脏状态时不更新自身，无论新 JSON 中关于此记录的内容是什么。其他记录会更新自己就好了。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-09T12:35:47.967

如果你不想猴子补丁`DS.Model.loadedData`，这里有另一种解决方案：

```
App.Contact.reopenClass({
    // Results of our find() call.
    cache: null,

    // Either find our data for the first time, or refresh what we have.
    findAllWithRefresh: function () {
        if (this.cache === null) {
            this.cache = this.find();
        } else {
            this.cache.forEach(function (c) {
                // This appears to be a correct list of conditions for calling
                // refresh(), but you may need to tweak it.
                if (c.get("isLoaded") && !c.get("isSaving") &&  !c.get("isError") && !c.get("isDeleted") && !c.get("isDirty") && !c.get("isReloading")) {
                    console.log("Refreshing", c);
                    c.reload();
                } else {
                    console.log("Can't refresh", c);
                }
            });        
        }
        return this.cache;
    }
});

App.ContactsRoute = Ember.Route.extend({
    model: function (params) {
        // Note that we won't see any new records using this approach.
        return App.Contact.findAllWithRefresh();  
    }
}); 
```

这是一个[有效的 jsFiddle](http://jsfiddle.net/ekidd/K2AUb/)。

`App.Contact.find()`根本问题是当有未提交更改的记录时，您无法安全地调用。这似乎是 Ember Data 中的一个设计问题。

# joomla - 没有控制器的视图的多个模型

> ID：15804408
> 
> 赞同：0
> 
> 时间：2013-04-04T06:52:34.003
> 
> 标签：joomla

由于我刚刚开始进行 Joomla 组件开发，这听起来可能很愚蠢，或者可能是微不足道的。

我想知道是否可以在不使用单独的控制器的情况下将不同的模型附加到视图？

我的意图实际上是对不同的视图使用相同的模型。

提前谢谢...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T07:08:53.513

是的，您可以在视图中加载任何模型

```
$model = JModel::getInstance('ModelName', 'ComponentNameModel'); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:09:58.867

好的，开始工作了。基本上你只需要检查 JRequest 类中的“视图”变量：

```
if(JRequest::getVar('view') == 'yourtargetview') {
      $modelMain = $this->getModel ( 'yourtargetmodel' );
      $viewCallback  = $this->getView  ( 'yourtargetview', 'html');
      $viewCallback->setModel( $modelMain, true );  // true is for the default model;
    } 
```

然后在你的目标视图类中，引用模型函数如下（注意第二个参数获取调用）：

```
$this->targetFieldValue = $this->get('targetMethod', 'targetModel'); 
```

希望能帮助到你...

# java - -bash: javah: 在 windows7 上找不到命令

> ID：15804411
> 
> 赞同：0
> 
> 时间：2013-04-04T06:52:36.190
> 
> 标签：java, android

我是 Android 环境的新手。我使用此链接（[http://stevethai.wordpress.com/2010/08/04/android-helloworld-with-native-code-tutorial/](http://stevethai.wordpress.com/2010/08/04/android-helloworld-with-native-code-tutorial/)）使用 NDK 和 cygwin 运行 NDK 项目终端。我遵循链接中给出的所有步骤。但是在 Cygwin 终端中编译期间，它显示错误类似（-bash：javah：找不到命令）。我正确指定了所有路径。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T06:57:54.093

如果你已经`export PATH=$PATH:/cygdrive/c/Program\ Files/Java/jdk1.7.0/bin`设置它应该工作。尝试重新启动 cygwin 以重新加载环境变量。另外，您确定您使用的是jdk而不是jre吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-02T12:25:34.663

可能是你在 cygwin 中使用 DOS 命令，进入 DOS 提示符，然后设置：

路径 c:\程序文件\java\jdk1.7.0_25\bin;%path%

然后执行javah

# jquery - 使用 jquery 读取 json 数据

> ID：15804415
> 
> 赞同：0
> 
> 时间：2013-04-04T06:52:52.743
> 
> 标签：jquery, jsonp

我想从 json 数组中读取 id 和 name。我已经编写了以下代码，但是当我尝试使用 parseJSON 方法读取 id 时，它给了我未定义的信息。谁能告诉我如何读取 json 数据。下面是我写的代码：

```
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type='text/javascript'>
$(document).ready( function() {
 // $("#request_content").click(function(){
    $('#time').html(new Date);
    $('#status').html('');
    $('#content').html('');
    var id = '';
    $.ajax({
      cache: false,
      url: $('#xhr_url').val()
    }).done(function(data, textStatus, jqXHR) { 
    //alert(data);     
      $('#status').html(textStatus);
      $('#content').html(JSON.stringify(data));

     var jsonp = JSON.stringify(data);
     var obj = $.parseJSON(jsonp);
      $.each(obj, function() {
      //alert("hi");
          id += this['Id'] + "<br/>";
          $('#content').html(id);
      });
      //$('#content').html(lang);
    }).fail(function(jqXHR, textStatus) {
      $('#status').html(textStatus);    
      $('#content').html('(failed)');
    })
 // });
});
</script>
<body>
  <input id='xhr_url' style='width:600px;' type='text' value='http://t2json.tgoservices.com/818746/PrinterManufacturers'/>

  <button id='request_content'>Request content</button>
  <fieldset><legend>Time:</legend>
    <div id='time'></div>
  </fieldset>
  <fieldset><legend>Status:</legend>  
    <div id='status'></div>
  </fieldset>
  <fieldset><legend>Content:</legend>

    <div id='content'></div>
  </fieldset>
</body> 
```

请让我知道问题所在。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:44:39.080

替换这行代码：

```
var jsonp = JSON.stringify(data);
var obj = $.parseJSON(jsonp);
  $.each(obj, function() {
  //alert("hi");
      id += this['Id'] + "<br/>";
      $('#content').html(id);
  }); 
```

有了这个：

```
$.each(data, function(idx, value){
    var items = value.PrinterManufacturers.Items;
    for(var a = 0; a < items.length; a++) {
       id += items[a].Id + '<br>';
    }
    $('#content').html(id);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:15:32.270

如下更改您的每个功能

```
var id = "";
$.each(data.T2Json.PrinterManufacturers.Items, function() {
   id += this.Id + "<br/>";
   console.log(this.Id);
}); 
```

这是一个完整的工作示例[http://jsfiddle.net/mayooresan/4eU4X/](http://jsfiddle.net/mayooresan/4eU4X/)

在这里，您的服务返回 JavaScript 对象而不是 JSON 字符串。所以如果你用它来解析它`JSON.parse()`会给你错误。

# javascript - CSS的底角半径效果

> ID：15804416
> 
> 赞同：0
> 
> 时间：2013-04-04T06:52:53.017
> 
> 标签：javascript, html, css

我之前的问题已结束，但我确定我被误解了。我将再次复制该问题，所以请不要关闭 is，就我有一个具体问题而言。

我将构建一个像这样的选项卡式菜单：

![在此处输入图像描述](https://i.stack.imgur.com/CjAAo.jpg)

所以我想知道你是否可以建议是否有一种方法可以用纯 CSS 或任何其他方式构建它，这样代码和 css 是干净的。并且可能连续有 10 - 15 个选项卡。

也可能有下拉。

所以 html 部分可能如下所示：

```
<ul>
   <li><a href="">Some Text</a></li>
   <li><a href="">Some Text</a></li>
   <li><a href="">Some Text</a>
       <ul>
         <li><a href="">Some Text</a></li>
         <li><a href="">Some Text</a></li>
         <li><a href="">Some Text</a></li>
       </ul>
   </li>
</ul> 
```

谢谢！！

编辑

**我在构建选项卡时没有问题，我知道如何在菜单项上制作顶部半径，并使用 CSS 进行渐变，但不知道如何在所选菜单项上实现底部“角落半径”效果。**

是否可以仅使用 CSS 构建这样的菜单？还是我必须使用图像？

网络上的所有示例和示例都在底部四舍五入，但在底部没有这样的效果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:46:48.703

Mikey，这在 CSS 中是一件非常困难的事情，因为没有办法进行排除。

一种解决方案是在伪元素之前和之后使用透明背景和足够厚的边框以充当底部外部弯曲部分。这是一个简单的双色示例： [http ://codepen.io/anon/pen/udfJc](http://codepen.io/anon/pen/udfJc)

这里的关键部分是让边框颜色为红色。如果需要，您可以隐藏此元素的溢出以收紧底线。鉴于您的设计，这种技术应该只需最少的调整即可工作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:20:03.167

如果活动选项卡和非活动选项卡的背景颜色不是渐变的，则可以使用纯 CSS 来实现。[见这里](http://css-tricks.com/tabs-with-round-out-borders/)。

但是，如果选项卡具有渐变背景颜色，例如您发布的屏幕截图，则需要图像。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T09:40:57.990

[CSS4 将支持这一点](http://dev.w3.org/csswg/css-backgrounds-4/#border-corner-shape)，但我敢肯定你现在没有时间 :P 我认为最好的解决方案是让你的标签标题`position:relative`比添加 :before 和 :after 内容与 position:relative 和背景图像包含您的图形元素。为了进行额外的优化，我建议将它们放入[sprite](http://www.w3schools.com/css/css_image_sprites.asp)中。所以：

```
.tab-title{position:relative;} 
.tab-title:before,.tab-title:after{content:" "; width:5px; height:5px; position:absolute; backgrund-image:url(tab_graphic_elem.png);}
.tab-title:after{background-position:5px 0;} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T08:55:50.963

正如 Hans 所说，为此使用纯 css 会很困难（并且存在梯度问题）。我相信大多数网站都使用图像，如果您想要简单，是的，使用图像。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-04-04T11:25:55.513

是的，您可能在 em 或 % 中提到过边界半径，就像这样。

```
border-radius: 10px/30px; /* horizontal radius / vertical radius */
border-radius: 1em/5em; 
```

你 ckeck 喜欢 dis 可能你会通过使用 dis 方式得到

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2013-04-04T07:04:27.887

使用这个**CSS BORDER RADIUS GENERATOR** ...

[http://border-radius.com/](http://border-radius.com/)

它将根据您的要求生成css..

# python-2.7 - 从另一个目录导入 Python 模块

> ID：15804417
> 
> 赞同：0
> 
> 时间：2013-04-04T06:52:55.740
> 
> 标签：python-2.7

我收到模块导入错误。

我的主要文件是`/home/mininet/pythonscripts/import.py`： ![主文件程序](https://i.stack.imgur.com/OmYYC.png)

我的模块文件是`/home/mininet/test/hello.py`： ![模块文件程序](https://i.stack.imgur.com/ig176.png)

我得到的错误是：

```
File "import.py", line 7, in <module> from test.hello import sqr,print_func 
ImportError: No module named hello 
```

我还在`__init__.py`模块搜索路径中添加了文件..请帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T06:58:28.797

为了导入`/home/mininet/test/hello.py`as `test.hello`，您必须满足两个要求：

1.  `/home/mininet/test/__init__.py`必须存在才能标记`test`为包。
2.  `/home/mininet`必须打开，`sys.path`以便 Python`test/hello.py`在查找`test.hello`.

请注意，拥有`/home/mininet/test`on`sys.path`让你`import hello`，但不是`import test.hello`。

# android - JAVA 文件中的流式布局

> ID：15804422
> 
> 赞同：-1
> 
> 时间：2013-04-04T06:53:09.867
> 
> 标签：android

这是我的项目 XML 布局

```
<?xml version="1.0" encoding="utf-8"?>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"

    android:id="@+id/flowLayout"

    android:layout_width="wrap_content"

    android:layout_height="wrap_content"

    android:orientation="vertical" >

    <!-- enter code here -->
</LinearLayout> 
```

我需要在**JAVA 文件**中访问它，该文件应包含 3 个文本视图中的 3 个句子...

```
public class MainActivity extends Activity {

private View layout;
@Override

    protected void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);

    setContentView(R.layout.activity_main);
    findViewById();

        //enter code here
    }
    private void findViewById() {

    View layout = findViewById(R.id.flowLayout);

        //enter code here
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:02:31.557

要将 TextView 添加到您的布局中，请执行以下操作：

```
LinearLayout layout = (LinearLayout)findViewById(R.id.flowLayout); //depending on which layout is it. 
```

然后，创建一个 TextView，将其设置为文本并将其添加到布局中：

```
TextView tvText = new TextView(this);
tvText.setText("your desired sentence");
layout.addView(tvText); 
```

并为您的所有 3 执行此操作`TextViews`，以设置高度和宽度使用 LayoutParams（示例）：

```
LinearLayout.LayoutParams layoutParams=new LinearLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);
layoutParams.setMargins(0, 0, 2, 0); 
```

如您所见，这也是您设置 Mergins 的方式，最后将这些参数设置为`textView`：

```
tvText.setLayoutParams(layoutParams); 
```

# ruby-on-rails - 在 Ruby on Rails 上卷曲

> ID：15804425
> 
> 赞同：17
> 
> 时间：2013-04-04T06:53:15.693
> 
> 标签：ruby-on-rails, ruby-on-rails-3, curl, ruby-on-rails-3.1

如何在rails上的ruby上使用curl？像这个

```
curl -d 'params1[name]=name&params2[email]' 'http://mydomain.com/file.json' 
```

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2013-04-05T05:44:35.253

万一你不知道，它需要'net/http'

```
require 'net/http'

uri = URI.parse("http://example.org")

# Shortcut
#response = Net::HTTP.post_form(uri, {"user[name]" => "testusername", "user[email]" => "testemail@yahoo.com"})

# Full control
http = Net::HTTP.new(uri.host, uri.port)

request = Net::HTTP::Post.new(uri.request_uri)
request.set_form_data({"user[name]" => "testusername", "user[email]" => "testemail@yahoo.com"})

response = http.request(request)
render :json => response.body 
```

希望它会帮助别人.. :)

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2017-07-26T21:48:40.850

这是 ruby​​ 的 net/http 转换器的 curl：[https ://jhawthorn.github.io/curl-to-ruby/](https://jhawthorn.github.io/curl-to-ruby/)

例如，一个`curl -v www.google.com`命令在 Ruby 中等同于：

```
require 'net/http'
require 'uri'

uri = URI.parse("http://www.google.com")
response = Net::HTTP.get_response(uri)

# response.code
# response.body 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:17:18.837

您尝试做的最基本示例是使用这样的反引号执行此操作

```
`curl -d 'params1[name]=name&params2[email]' 'http://mydomain.com/file.json'` 
```

但是，这会返回一个字符串，如果您想了解有关服务器回复的任何信息，则必须对其进行解析。

根据您的情况，我建议使用法拉第。[https://github.com/lostisland/faraday](https://github.com/lostisland/faraday)

网站上的例子很简单。安装 gem，需要它，然后执行以下操作：

```
conn = Faraday.new(:url => 'http://mydomain.com') do |faraday|
  faraday.request  :url_encoded             # form-encode POST params
  faraday.response :logger                  # log requests to STDOUT
  faraday.adapter  Faraday.default_adapter  # make requests with Net::HTTP
end

conn.post '/file.json', { :params1 => {:name => 'name'}, :params2 => {:email => nil} } 
```

帖子正文将自动转换为 url 编码的表单字符串。但是你也可以只发布一个字符串。

```
conn.post '/file.json', 'params1[name]=name&params2[email]' 
```

# highcharts - 如何在 highcharts 中设置 xAxis pointInterval(update: tickInterval)

> ID：15804426
> 
> 赞同：4
> 
> 时间：2013-04-04T06:53:16.393
> 
> 标签：highcharts, highstock

我想在 highstock 中设置 xAxis pointInterval。

我正在格式化 xAxis：

```
xAxis: {
        type: 'datetime',
        labels: {
            formatter: function () {
                var someDate = new Date(this.value);
                return Myfunction(new Date(someDate));
            }
        }
    }, 
```

我已经搜索并找到了一些方法，但它们对我不起作用！为了设置一天的 pointInterval（24 * 3600 * 1000 // 一天），我在添加系列时设置了它：

```
chart.addSeries({
                name: my name,
                data: my data,
                id: my id,
                type: 'spline',
                pointStart:start date,
                pointInterval: 24 * 3600 * 1000 // one day
            }); 
```

但它没有用。所以我尝试做其他事情：

```
plotOptions: {
        spline: {
            pointStart: start date,
            pointInterval: 24 * 3600 * 1000 // one day
        }
    }, 
```

它也没有工作。

我已经测试过：

```
chart.xAxis[0].setCategories([data]) 
```

但是这段代码使CPU工作很多，浏览器崩溃了！

其实我看过这些例子。但是当我尝试它们时，它们没有用！

[http://jsfiddle.net/larsenmtl/SJSwt/1/](http://jsfiddle.net/larsenmtl/SJSwt/1/)

[http://jsfiddle.net/gh/get/jquery/1.7.2/highslide-software/highcharts.com/tree/master/samples/highcharts/xaxis/labels-overflow/](http://jsfiddle.net/gh/get/jquery/1.7.2/highslide-software/highcharts.com/tree/master/samples/highcharts/xaxis/labels-overflow/)

请帮我！

谢谢

更新：我的数据格式如下：

```
series: [{
        data: [
            [Date.UTC(2010, 0, 1), 29.9],
            [Date.UTC(2010, 0, 2), 71.5],
            [Date.UTC(2010, 0, 3), 106.4], 
```

例如 jsfiddle.net/bahar_Agi/J6H7f

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T08:17:19.410

Pointstart 仅在您没有为数据指定 x 值或使用类别时才真正适用。由于您已为每个点指定 x 和 y 值，您应该使用 x 轴上的 tickInterval 选项，如下所示：

```
xAxis: {
        type: 'datetime',
        labels: {
            style: {
                fontFamily: 'Tahoma'
            },
            rotation: -45
        },
        tickInterval: 24 * 3600 * 1000
    }, 
```

highcharts api 指南为日期时间轴提到了这一点：http: [//api.highcharts.com/highcharts#xAxis.tickInterval](http://api.highcharts.com/highcharts#xAxis.tickInterval)

在此示例中，我将 tickInterval 设置为 1 天，这对于您的数据可能有点太小，但您可以将其更改为您想要的任何时间间隔。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T11:45:20.690

我认为您想`tickInterval`为 xAxis 使用选项，请参阅：

```
xAxis: {
        tickInterval: 24 * 3600 * 1000,
        type: 'datetime',
         labels: {
            style: {
                fontFamily: 'Tahoma'
            },

            rotation: -45
         }
    }, 
```

jsFiddle：http: [//jsfiddle.net/J6H7f/1/](http://jsfiddle.net/J6H7f/1/)

# jquery - 在鼠标悬停时更改一个后退菜单项的背景图像

> ID：15804431
> 
> 赞同：0
> 
> 时间：2013-04-04T06:53:38.447
> 
> 标签：jquery, css

我正在研究一个菜单及其面包屑样式菜单，我想做的是当我将鼠标悬停在任何菜单项上时，悬停时会发生相应的变化我还想更改最近的菜单项的背景图像（之前的那个我悬停鼠标的菜单项）。可能吗？？如果是，请将相关链接发送给我。我自我搜索了很多但失败了。如果可能通过 jquery 或 css 请告诉我并发送给我链接

我的声誉低于 10，所以我无法上传图片。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:04:01.917

检查此 jQuery 代码段是否对您有帮助：

```
$('.menu li a').hover(
    function() { $(this).parent().prev().find('a').css('background-image', 'url(new-bg.png)') },
    function() { $(this).parent().prev().find('a').css('background-image', 'url(old-bg.png)') }
); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:24:10.817

用于`eq()`获取以前的 li 和 chnage th 背景颜色`css()`

尝试这个

```
 $("a").hover(function(e) {
    e.preventDefault();
    var i = $("li").index( $(this).parent() );

    if ( i === 1 ) {
       $('li').eq(i-1).css({"background-color":"red"}); 
       $('body').css('background', 'beige');
    } else if ( i === 2 ) {
       $('li').eq(i-1).css({"background-color":"blue"});
       $('body').css('background', 'honeydew');
    } else {
       $('li').eq(i-1).css({"background-color":"green"});
       $('body').css('background', 'pink');
    }
  },function(e){
      var i = $("li").index( $(this).parent() );
      $('li').eq(i-1).css({"background-color":"transparent"});
  }); 
```

[工作小提琴](http://jsfiddle.net/bipen/rGFzJ/32/)

# php - 在 php 5.4 中工作的 PHP 5.3 中出现错误

> ID：15804443
> 
> 赞同：0
> 
> 时间：2013-04-04T06:54:25.573
> 
> 标签：php

这是在 PHP 5.3 中给我错误的行，它在 php 5.4 中完美运行

```
if ($user->getGeoCode()) { 
    $latitude = $user->getGeoCode()['latitude'];
} 
```

错误信息是：

```
Parse error: syntax error, unexpected '[' in IndexController.php on line 29 
```

这是我的用户类：

```
 class User {
   .....
  public function getGeoCode() {
    $geoCode=array();
    if ($this->getAddress() && $this->getCity() && $this->getCountry()) {
        $address = urlencode($this->getAddress() . ' ' . $this->getCity() . ' ' . $this->getPostalCode() . ' ' . $this->getCountry()->getName());
        $geocode = file_get_contents('http://maps.google.com/maps/api/geocode/json?address=' . $address . '&sensor=false');
        $output = json_decode($geocode);
        if ($output->status=='OK') {
            $geoCode['latitude']=$output->results[0]->geometry->location->lat;
            $geoCode['longitude']=$output->results[0]->geometry->location->lng;
            return $geoCode;
        }
        else {
            return null;
        }
     }
     else {
        return null;
     }
   }
 } 
```

此错误与 PHP 版本有关吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T06:59:32.290

错误信息说明了一切。PHP5.3 不支持自动将函数输出转换为数组并像这样访问它。

自 PHP 5.4 起，就可以完全做到这个[例子](http://php.net/manual/en/language.types.array.php#example-88)

在 PHP 5.3 之前，您需要使用临时变量。

**编辑**

由`casting`我换`dereferencing`。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T06:57:30.210

是的，与 php 版本相关。

这是因为 php 5.3 解释器不接受像 `$user->getGeoCode()['latitude']`

而 php 5.4 解释器可以。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-04T07:01:30.483

在[PHP 文档](http://docs.php.net/manual/en/language.types.array.php)中，您可以找到解释：

> 从 PHP 5.4 开始，可以直接对函数或方法调用的结果进行数组取消引用。以前只能使用临时变量。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-04-04T07:03:39.667

正如[PHP 文档](http://www.php.net/manual/en/migration54.new-features.php)所说：

PHP 5.4.0 提供了广泛的新特性：

*   添加了对特征的支持。

*   添加了短数组语法，例如 $a = [1, 2, 3, 4]; 或 $a = ['一' => 1，'二' => 2，'三' => 3，'四' => 4];。

*   **添加了函数数组解引用，例如 foo()[0]。**

*   闭包现在支持 $this。

*   < ?= 现在始终可用，无论 short_open_tag php.ini 选项如何。

*   添加了对实例化的类成员访问，例如 (new Foo)->bar()。

*   现在支持 Class::{expr}() 语法。

*   添加了二进制数格式，例如 0b001001101。

*   改进了解析错误消息并改进了不兼容的参数警告。

*   会话扩展现在可以跟踪文件的上传进度。

*   CLI 模式下的内置开发 Web 服务器。

尝试这个：

```
if ($geodata = $user->getGeoCode()) { 
    $latitude = $geodata['latitude'];
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-04-04T06:57:09.530

是的，因为这是 PHP 5.4 的新特性。5.3 不支持简写数组

# javascript - `.each(function (i) {})`中`i`的作用是什么？

> ID：15804444
> 
> 赞同：1
> 
> 时间：2013-04-04T06:54:26.480
> 
> 标签：javascript, jquery, css, api

[http://jsfiddle.net/6x2Nb/](http://jsfiddle.net/6x2Nb/)

你好，它来自 jQuery 文档的简单示例，我想知道为什么会有

```
 $(document.body).click(function () {
      $( "div" ).each(function (i) {
        if ( this.style.color != "blue" ) {
          this.style.color = "blue";
        } else {
          this.style.color = "";
        }
      });
    }); 
```

为什么有函数（i）？它等同于 function() 并且在执行时没有区别。谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T06:56:14.167

接受一个带有 2 个参数的`$.each`函数：索引和当前元素。但也是`this`指向当前元素。所以这也可以写成：

```
$("div").each(function (index, element) {
    if (element.style.color != "blue") {
        element.style.color = "blue";
    } else {
        element.style.color = "";
    }
}); 
```

由于在此示例中未使用参数，因此您可以省略它们。Javascript 允许您这样做。

所以基本上如果你不需要函数内部的索引，那么写起来会更短：

```
$("div").each(function () {
    if (this.style.color != "blue") {
        this.style.color = "blue";
    } else {
        this.style.color = "";
    }
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T06:56:42.367

`i`是您正在循环遍历的对象的索引...`$.each`有两个可选参数索引和值。在您的情况下，您正在分配可选参数但不使用它..因为`this`也指向当前循环元素..您可以省略`i`

```
$( "div" ).each(function () {
   ... 
```

和代码将工作..

# php - 使用 javascript 计算多个 iframe 的加载时间

> ID：15804447
> 
> 赞同：0
> 
> 时间：2013-04-04T06:54:39.453
> 
> 标签：php, javascript

首先，我为我拥有的每个 url 创建一个 iframe：

```
$url = array();
$url[] = 'example1.com';
$url[] = 'example2.com';

foreach($url as $u){
   echo '<div class="frame_container">
         <iframe  "width="200" height="200" id="myiframe" src="http://www.'.$u.'">  </iframe>
         <div class="loadingtime"></div>
         </div>';
} 
```

然后我有这个 javascript 应该计算每个帧开始加载之前的时间，以及加载之后的时间：

```
$(document).ready(function () {
load_time(); 
});
function load_time(){
var beforeLoad = (new Date()).getTime();
$('.frame_container iframe').on('load', function() {
    var afterLoad = (new Date()).getTime();
    var result = (afterLoad - beforeLoad) / 1000;
    // beforeLoad = afterLoad;
    $(this).parent().find('div.loadingtime').html(result);
});
} 
```

我的问题 - 所有 iframe 的 beforeLoad 值都是相同的。每个帧的此值应该不同，因为所有名声不会在完全相同的时间开始加载。有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T10:26:00.067

使用 php 编写第一个 div，然后使用您的 javascript 代码编写

```
var curFrame = 1;
var totalIFrame = 2;
var url = new Array('http://www.abc.com','http://www.xyz.com');

var beforeLoad = (new Date()).getTime();
var result = 0;

function addTime() {
    var afterLoad = (new Date()).getTime();
    result += ((afterLoad - beforeLoad) / 1000);

    if(totalIFrame==curFrame){// number of iframe you will be loading
        $(this).parent().find('div.loadingtime').html(result);
    } else {
        $('.frame_container').append('<iframe  "width="200" height="200" id="myiframe" src="'+url[curFrame]+'" onload="addTime()">  </iframe>');
    }

    curFrame++;
} 
```

# javascript - 正则表达式无法正确输入

> ID：15804449
> 
> 赞同：0
> 
> 时间：2013-04-04T06:54:42.857
> 
> 标签：javascript, regex

我有一个逗号分隔字母的正则表达式，允许尾随逗号和空格，

```
var rgx = /^[a-z\sA-Z]+(,[a-z\sA-Z]+)*,\s$/;
    return rgx.test(inputStr); 
```

当我给出两个或更多空格之后它失败了

```
name, fname lname, 
```

当我更正与正则表达式匹配的输入时，它也失败了。

```
name, fname lname, 
```

所以基本上每当正则表达式失败时，即使我更正输入，正则表达式也不匹配输入，我不允许进一步移动。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:56:32.160

```
,\s$ 
```

匹配输入结束前逗号后的一个空格。最后的两个空格将导致它失败。

要解决这个问题，请尝试

```
/^[a-z\sA-Z]+(,[a-z\sA-Z]+)*,\s+$/ 
```

如果您希望末尾的逗号和空格是可选的，请尝试

```
/^[a-z\sA-Z]+(,[a-z\sA-Z]+)*(?:,\s*)?$/ 
```

我有点不清楚你想在这里做什么。

这个正则表达式除了不允许逗号在开头和彼此相邻之外没有太多作用。

# python - 如果修改它在调用之前使用的文件，子进程调用不会执行

> ID：15804453
> 
> 赞同：-1
> 
> 时间：2013-04-04T06:55:11.650
> 
> 标签：python, subprocess

我有一个 python 程序，首先我编辑一个文件，然后根据修改后的文件执行一个子进程调用。代码是

```
mwhome=sys.argv[1]
wlst=mwhome+"/oracle_common/common/bin/wlst.sh"
scriptloc=cwd+"/addldap.py"
dest=cwd+'/t6.py.temp'
source=open(scriptloc,'r')
destination=open('t6.py.temp','w')

for line in source:
    if line.strip().startswith('adminUser'):
        destination.write('adminUser=\"'+adminusername+"\"\n")
        continue
    elif line.strip().startswith('adminPassword'):
        destination.write('adminPassword=\"'+adminpassword+"\"\n")
        continue
    elif line.strip().startswith('adminServerPort'):
        destination.write('adminServerPort=\"'+adminserverport+"\"\n")
        continue
    else:

        destination.write(line)
        continue

shutil.move(dest, scriptloc)

print "starting adding ldap"
output = subprocess.call([ wlst,scriptloc]) 
```

如果我不执行循环和替换的修改文件，则 subprocess.call 正在工作。如果我执行修改 for 循环，则子进程调用不会获取 scriptloc 文件，而只是在没有适当参数的情况下执行 wlst.sh。

哪个命令与执行有关？

注意：放置一个 source.close() 并尝试但徒劳无功

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T11:23:52.307

`destination.close()`是那个成功的人。当像这里一样打开文件进行写入时，各种文件都会`.write()`被缓冲。这意味着它们可能不会出现在真实文件中，或者只是部分出现，直到文件被`flush()`-ed 或`close()`-ed。

# javascript - 使用 javascript 导航到另一个页面时保留我的子菜单的打开/关闭状态

> ID：15804454
> 
> 赞同：0
> 
> 时间：2013-04-04T06:55:17.393
> 
> 标签：javascript

使用 JavaScript 导航到另一个页面时，如何保留子菜单的*打开/关闭状态？*我尝试使用此代码在导航到另一个页面时保持菜单状态，但它对我不起作用。也许我错过了什么。

```
<ul class="catMenuItem">
    <li><a style="background-image: url(&quot;images/triangle_down.gif&quot;);" href="#"
        class="titleTriangle"><span>cat1</span></a></li>
    <li style="display: block;" class="catSubMenu">
        <a href="?cat=2">sub 1-2</a> (0)
        <a href="?cat=7">sub 1-3</a> (2)
        <a href="?cat=8">sub 1-4</a> (0)
        <a href="?cat=9">sub 1-5</a> (0)
    </li>
</ul>
<ul class="catMenuItem">
    <li>
        <a href="#" class="titleTriangle"><span>cat2</span></a>
    </li>
    <li style="display: none;" class="catSubMenu">
        <a href="?cat=3">sub 2-1</a> (0)<br>
        <a href="?cat=4">sub 2-2</a> (0)<br>
        <a href="?cat=5">sub 2-3</a> (0)<br>
        <a href="?cat=6">sub 2-4</a> (1)<br>
        <br>
    </li>
</ul>

var prevCat;
function menu(newCat) {
    var mens;
    var anchors;
    if (prevCat) {
        mens = prevCat.parentNode.getElementsByTagName('li')[0];
        anchors = mens.getElementsByTagName('a')[0].style.backgroundImage = 'url(images/triangle_right.gif)';
        prevCat.style.display = 'none';
    }

    if (newCat != prevCat) {
        mens = newCat.parentNode.getElementsByTagName('li')[0];
        anchors = mens.getElementsByTagName('a')[0].style.backgroundImage = 'url(images/triangle_down.gif)';
        newCat.style.display = 'block';
        prevCat = newCat;
    } else {
        prevCat = null;
    }

}

onload = function () {
    var menus = document.getElementsByTagName('ul');
    for (var a = 0, x = menus.length; a < x; a++) {
        if (menus[a].className === 'catMenuItem') {
            menus[a].getElementsByTagName('li')[0].getElementsByTagName('a')[0].onclick = function () {
                menu(this.parentNode.parentNode.getElementsByTagName('li')[1]);
            }
            menus[a].getElementsByTagName('li')[1].style.display = 'none';
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:14:40.400

此代码不起作用，因为当您单击其中一个菜单项时，浏览器会导航到另一个页面。在这种情况下，值`prevCat`始终是`null`，因为 javascript 变量**不会**在页面加载时持续存在。您最有可能从互联网上获取的代码适用于您停留在同一页面上的情况 - 在这种情况下`prevCat`，每次页面加载都不会清除 的值。

您需要的是在每次更改时将状态存储在`localStorage`（请参阅[this](https://stackoverflow.com/questions/2010892/storing-objects-in-html5-localstorage)和[this以供参考）并在页面加载时恢复它。](https://developer.mozilla.org/en-US/docs/DOM/Storage)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:15:31.777

为了在不同的页面上保留这些信息，您需要以某种方式将其存储在客户端或服务器上。

我建议您使用 cookie 来存储 prevCat 的值并在加载页面时从 cookie 中检索它。

有关如何设置 cookie 和检索它的值的更多详细信息，请参阅[这个有用的教程](http://www.w3schools.com/js/js_cookies.asp)。

# android - Android应用程序不断崩溃

> ID：15804460
> 
> 赞同：0
> 
> 时间：2013-04-04T06:55:42.003
> 
> 标签：android

每当我打开我的 android 应用程序时，我都会不断收到错误消息

> 应用程序 app_name(process com.random.stuff) 已意外停止。请再试一次

日志猫

```
04-04 05:51:39.975: D/AndroidRuntime(480): Shutting down VM
04-04 05:51:39.975: W/dalvikvm(480): threadid=1: thread exiting with uncaught exception (group=0x40015560)
04-04 05:51:40.076: E/AndroidRuntime(480): FATAL EXCEPTION: main
04-04 05:51:40.076: E/AndroidRuntime(480): java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.thenewboston.joseph/com.random.stuff.StartingPoint}: java.lang.NullPointerException
04-04 05:51:40.076: E/AndroidRuntime(480):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1569)
04-04 05:51:40.076: E/AndroidRuntime(480):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1663)
04-04 05:51:40.076: E/AndroidRuntime(480):  at android.app.ActivityThread.access$1500(ActivityThread.java:117)
04-04 05:51:40.076: E/AndroidRuntime(480):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:931)
04-04 05:51:40.076: E/AndroidRuntime(480):  at android.os.Handler.dispatchMessage(Handler.java:99)
04-04 05:51:40.076: E/AndroidRuntime(480):  at android.os.Looper.loop(Looper.java:123)
04-04 05:51:40.076: E/AndroidRuntime(480):  at android.app.ActivityThread.main(ActivityThread.java:3683)
04-04 05:51:40.076: E/AndroidRuntime(480):  at java.lang.reflect.Method.invokeNative(Native Method)
04-04 05:51:40.076: E/AndroidRuntime(480):  at java.lang.reflect.Method.invoke(Method.java:507)
04-04 05:51:40.076: E/AndroidRuntime(480):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
04-04 05:51:40.076: E/AndroidRuntime(480):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
04-04 05:51:40.076: E/AndroidRuntime(480):  at dalvik.system.NativeStart.main(Native Method)
04-04 05:51:40.076: E/AndroidRuntime(480): Caused by: java.lang.NullPointerException
04-04 05:51:40.076: E/AndroidRuntime(480):  at com.random.stuff.StartingPoint.(StartingPoint.java:17)
04-04 05:51:40.076: E/AndroidRuntime(480):  at java.lang.Class.newInstanceImpl(Native Method)
04-04 05:51:40.076: E/AndroidRuntime(480):  at java.lang.Class.newInstance(Class.java:1409)
04-04 05:51:40.076: E/AndroidRuntime(480):  at android.app.Instrumentation.newActivity(Instrumentation.java:1021)
04-04 05:51:40.076: E/AndroidRuntime(480):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1561)
04-04 05:51:40.076: E/AndroidRuntime(480):  ... 11 more 
```

初始点：

```
    包 com.thenewboston.joseph；

    导入android.os.Bundle；
    导入android.app.Activity；
    导入 android.text.Editable；
    导入android.view.View；
    导入android.widget.Button；
    导入 android.widget.EditText；
    导入 android.widget.TextView；

    @SuppressWarnings("未使用")
    公共类起点扩展活动{

    按钮 bGuess；
    TextView点、提示、结果；
    EditText 猜测；
    字符串 dog = "狗";
    字符串guessDog =guess.toString();
    整数点 = 0；

    boolean isDog = ((String) hintp).contains("有四条腿和毛皮");
    boolean isFrog = ((String) hintp).contains("有四条腿，很粘");
    布尔错误；

    @覆盖
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_starting_point);

        bGuess = (Button) findViewById(R.id.bGuess);
        点 = (TextView) findViewById(R.id.tPoints);
        提示 = (TextView) findViewById(R.id.tHint);
        结果 = (TextView) findViewById(R.id.tResult);
        猜测 = (EditText) findViewById(R.id.eGuess);

        bGuess.setOnClickListener(new View.OnClickListener() {

            @覆盖
            公共无效 onClick（查看 v）{
                // TODO 自动生成的方法存根

                hint.setText("有四条腿和毛");
                如果（是狗）{

                    if ("dog".equals(guess.getText().toString())) {
                        错误=假；
                        hint.setText("有四只脚，黏糊糊的");
                    }
                } 别的 {
                    错误=真；
                }

                如果（isFrog）{
                    if ("frog".equals(guess.getText().toString())) {
                        错误=假；
                    }
                } 别的 {
                    错误=真；
                }

                如果（错误）{
                    观点 - ;
                    result.setText("假的再试一次");
                    points.setText("点数：" + point);
                }别的{
                    点++；
                    result.setText("正确");
                    points.setText("点数：" + point);
                }
            }
        });
    }
    }

```

DDMS 线：

```
04-04 08:30:28.194: I/DEBUG(31): debuggerd: Feb  3 2011 14:45:34
04-04 08:30:28.225: D/qemud(38): entering main loop
04-04 08:30:28.244: I/Vold(29): Vold 2.1 (the revenge) firing up
04-04 08:30:28.264: I/Netd(30): Netd 1.0 starting
04-04 08:30:28.274: D/Vold(29): USB mass storage support is not enabled in the kernel
04-04 08:30:28.274: D/Vold(29): usb_configuration switch is not enabled in the kernel
04-04 08:30:28.274: D/Vold(29): Volume sdcard state changing -1 (Initializing) -> 0 (No-Media)
04-04 08:30:28.504: D/Vold(29): Volume sdcard state changing 0 (No-Media) -> 1 (Idle-Unmounted)
04-04 08:30:28.565: D/qemud(38): fdhandler_accept_event: accepting on fd 9
04-04 08:30:28.565: D/qemud(38): created client 0xe078 listening on fd 10
04-04 08:30:28.565: D/qemud(38): client_fd_receive: attempting registration for service 'boot-properties'
04-04 08:30:28.565: D/qemud(38): client_fd_receive:    -> received channel id 1
04-04 08:30:28.574: D/qemud(38): client_registration: registration succeeded for client 1
04-04 08:30:28.574: I/qemu-props(52): connected to 'boot-properties' qemud service.
04-04 08:30:28.574: I/qemu-props(52): receiving..
04-04 08:30:28.584: I/qemu-props(52): received: dalvik.vm.heapsize=32m
04-04 08:30:28.584: I/qemu-props(52): receiving..
04-04 08:30:28.584: I/qemu-props(52): received: qemu.sf.lcd_density=240
04-04 08:30:28.584: I/qemu-props(52): receiving..
04-04 08:30:28.584: I/qemu-props(52): received: qemu.hw.mainkeys=1
04-04 08:30:28.584: I/qemu-props(52): receiving..
04-04 08:30:28.584: I/qemu-props(52): received: qemu.sf.fake_camera=none
04-04 08:30:28.584: I/qemu-props(52): receiving..
04-04 08:30:28.584: I/qemu-props(52): exiting (4 properties set).
04-04 08:30:28.584: D/qemud(38): fdhandler_event: disconnect on fd 10
04-04 08:30:29.084: D/AndroidRuntime(33): >>>>>> AndroidRuntime START com.android.internal.os.ZygoteInit <<<<<<
04-04 08:30:29.084: D/AndroidRuntime(33): CheckJNI is ON
04-04 08:30:29.314: I/(34): ServiceManager: 0xad50

<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
 xmlns:tools="http://schemas.android.com/tools"
 android:layout_width="match_parent"
 android:layout_height="match_parent"
 android:paddingBottom="@dimen/activity_vertical_margin"
 android:paddingLeft="@dimen/activity_horizontal_margin"
 android:paddingRight="@dimen/activity_horizontal_margin"
 android:paddingTop="@dimen/activity_vertical_margin"
 tools:context=".StartingPoint" >

 <Button
     android:id="@+id/bGuess"
     android:layout_width="wrap_content"
     android:layout_height="wrap_content"
     android:layout_alignParentBottom="true"
     android:layout_alignParentLeft="true"
     android:layout_alignParentRight="true"
     android:text="Guess" />

  <TextView
     android:id="@+id/tPoints"
     android:layout_width="wrap_content"
     android:layout_height="wrap_content"
     android:layout_alignParentTop="true"
     android:layout_alignRight="@+id/bGuess"
     android:text="Points: " />

 <TextView
    android:id="@+id/tResult"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_above="@+id/tHint"
    android:layout_centerHorizontal="true"
    android:layout_marginBottom="74dp"
    android:text="Result: "
    android:textAppearance="?android:attr/textAppearanceLarge" />

  <TextView
     android:id="@+id/tHint"
     android:layout_width="wrap_content"
     android:layout_height="wrap_content"
    android:layout_centerHorizontal="true"
    android:layout_centerVertical="true"
    android:text="Hint: \n"
    android:textAppearance="?android:attr/textAppearanceLarge" />

 <EditText
    android:id="@+id/eGuess"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_above="@+id/bGuess"
    android:layout_alignLeft="@+id/bGuess"
    android:layout_alignRight="@+id/bGuess"
    android:ems="10" />

 </RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T07:09:37.843

`NullPointerExcetion`你因为这条线而面临`String guessDog = guess.toString();`

只需将其替换为`String guessDog;`

现在在 onClick() 方法上获取文本，如下所示，

```
public void onClick(View v) {
guessDog = guess.getText().toString();  // Add this line
.
. 
```

这是我这边的更新代码，我做了一些更改

*   我从 .xml 中删除了 @dimon 值，因为它不属于我（您可以将其保留在您的代码中）
*   我删除了这一行的提示，而是将直接值作为`true`

这是我的代码，

```
@SuppressWarnings("unused")
public class StartingPoint extends Activity 
{

    Button bGuess;
    TextView points, hint, result;
    EditText guess;
    String dog = "Dog";
    String guessDog;
    int point = 0;

    boolean isDog = true;
    boolean isFrog = true;
    boolean wrong;

    @Override
    protected void onCreate(Bundle savedInstanceState) 
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_starting_point);

        bGuess = (Button) findViewById(R.id.bGuess);
        points = (TextView) findViewById(R.id.tPoints);
        hint = (TextView) findViewById(R.id.tHint);
        result = (TextView) findViewById(R.id.tResult);
        guess = (EditText) findViewById(R.id.eGuess);

        bGuess.setOnClickListener(new View.OnClickListener() {

            @Override
            public void onClick(View v) 
            {
                guessDog = guess.toString();
                // TODO Auto-generated method stub

                hint.setText("Has four legs and fur");
                if (isDog) {

                    if ("dog".equals(guess.getText().toString())) {
                        wrong = false;
                        hint.setText("Has four legs and is slimy");
                    }
                } else {
                    wrong = true;
                }

                if (isFrog) {
                    if ("frog".equals(guess.getText().toString())) {
                        wrong = false;
                    }
                } else {
                    wrong = true;
                }

                if (wrong) {
                    point--;
                    result.setText("False try again");
                    points.setText("Points: " + point);
                }else{
                    point++;
                    result.setText("Correct");
                    points.setText("Points: " + point);
                }
            }
        });
    }
} 
```

# php - 如何根据当前时间编写选择查询？

> ID：15804461
> 
> 赞同：0
> 
> 时间：2013-04-04T06:55:47.067
> 
> 标签：php, mysql

如何根据当前系统时间选择用户？我在 mysql 数据库中有两列 logintime 和 logout time 都在获取系统时间或当前时间，当用户 logintime 或 logout time 但我想根据 logintime 或 logout time 选择用户？如果查询从 mysql 数据库中获取行，那么它应该在用户登录或注销时显示用户名？

```
 $query2=mysql_query("SELECT * FROM users WHERE NOW() 
 ORDER BY logouttime DESC LIMIT 2")  or die ("users query2");
 $row2=mysql_fetch_array($query2);

 if($query){
 ?> 
 Username: <?php echo $row['username'] ?>

 <?php } else if($query2){?>
 Username: <?php echo $row['username'] ?>
 <?php }?> 
```

![在此处输入图像描述](https://i.stack.imgur.com/9Z0od.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:22:20.253

这应该会产生预期的结果：

```
SELECT *
FROM users
WHERE `date`=DATE(NOW()) AND TIME(NOW()) BETWEEN logintime AND logouttime 
```

最好制作type的`logintime`and ，在这种情况下，您可以简单地执行以下操作：`logouttime``DATETIME`

```
SELECT *
FROM users
WHERE NOW() BETWEEN logintime AND logouttime 
```

# javascript - 如何在 javascript 中清除 localstorage、sessionStorage 和 cookie？然后检索？

> ID：15804462
> 
> 赞同：70
> 
> 时间：2013-04-04T06:55:48.460
> 
> 标签：javascript

如何完全清除`localstorage`，`sessionStorage`并`cookies`在 javascript 中？

有什么办法可以在清除这些值后取回它们？

* * *

## 回答 #1

> 赞同：182
> 
> 时间：2013-04-04T07:19:05.567

> *如何彻底清除本地存储*

```
localStorage.clear(); 
```

> *如何彻底清除会话存储*

```
sessionStorage.clear(); 
```

> *[...] 饼干 ？*

```
var cookies = document.cookie;

for (var i = 0; i < cookies.split(";").length; ++i)
{
    var myCookie = cookies[i];
    var pos = myCookie.indexOf("=");
    var name = pos > -1 ? myCookie.substr(0, pos) : myCookie;
    document.cookie = name + "=;expires=Thu, 01 Jan 1970 00:00:00 GMT";
} 
```

> *清除这些后有什么办法可以恢复价值吗？*

**不**，没有。但是，如果这与安全问题有关，您不应该依赖它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:10:14.290

标准的[Web Storage](http://www.w3.org/TR/webstorage/#dom-localstorage)并没有说明任何关于恢复这些内容的内容。所以不会有任何标准的方法来做到这一点。您必须通过浏览器实现这些的方式，或者在删除它们之前找到一种备份它们的方法。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T07:03:36.293

在通过 javascript 删除它们后，无法通过浏览器中的 javascript 检索 localStorage、sessionStorage 或 cookie 值。

如果您真正要问的是是否有其他方式（从浏览器外部）来恢复该数据，那是一个不同的问题，答案将完全取决于特定的浏览器以及它如何实现每种类型的存储数据的。

例如，Firefox 将 cookie 存储为单独的文件。当 cookie 被删除时，它的文件也被删除。这意味着无法再通过浏览器访问 cookie。但是，我们知道，有时可以从浏览器外部使用系统工具检索已删除文件的内容。

如果您想进一步研究这一点，您必须了解每个浏览器如何在每个感兴趣的平台上存储每种数据类型，然后探索该类型的存储是否有任何恢复策略。

# php - 将数据库中的数据转换为excel

> ID：15804463
> 
> 赞同：0
> 
> 时间：2013-04-04T06:55:53.180
> 
> 标签：php, mysql

我有从数据库中获取数据的网格，如下所示：-

```
 <table width="100%" cellspacing="0" cellpadding="0" border="0" class="gwlines">
      <tbody><tr>
        <th width="15">#</th>
        <th width="150">Name</th>
        <th width="100">Type</th>
        <th width="50">Date</th>
        <th width="50">From</th>
        <th width="50">To</th>
        <th width="30">Price</th>
        <th width="30">Paid</th>
        <th width="30">Remaind</th>
        <th colspan="4">Actions</th>
      </tr>
  <?
    $i=1;
    while($objResult=mysql_fetch_array($objQuery)){
  ?>              
      <tr id="vip_row<?=$objResult["vip_id"];?>" <? echo ($i%2==0?'bgcolor="#edf0f6"':''); ?>>
        <td><input name="cbSelect[]" type="checkbox" id="cbSelect[]" value="<?=$objResult["vip_id"]; ?>" /></td>
        <td><?=$objResult["customer_name"]; ?></td>
        <td><?=$objResult["vip_type"]; ?></td>
        <td><?=$objResult["vip_date"]; ?></td>
        <td><?=$objResult["vip_from"]; ?></td>
        <td><?=$objResult["vip_to"]; ?></td>
        <td><?=$objResult["vip_price"]; ?></td>                
        <td><?=$objResult["vip_paid"]; ?></td>
        <td><?=$objResult["vip_remind"]; ?></td>
        <td width="16"><a href="index.php?body=edit_vip&id=<?=$objResult["vip_id"];?>" original-title="Edit and View VIP Information"><img width="15" height="15" class="tabpimpa" alt="picture" src="images/edit.png"></a></td>
        <td width="16"><a href="#" onClick="delete_vip('<?=$objResult["vip_id"];?>');" original-title="Delete VIP"><img width="15" height="15" class="tabpimpa" alt="picture" src="images/delete.png"></a></td>
        <td width="16"><a href="print_single_bills_vip.php?id=<?=$objResult["vip_id"];?>" target="_new"><img width="15" height="15" class="tabpimpa" alt="picture" src="images/print.png"></a></td>
        <td width="16"><a href="#" onClick="vip_to_egypt('<?=$objResult["vip_id"];?>');"><img width="15" height="15" class="tabpimpa" alt="picture" src="images/sms.png"></a></td>
      </tr>

<? ++$i; } ?>
</tbody></table> 
```

该网格将从数据库中获取数据，我想将此结果数据导出到 Excel。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T06:59:31.693

尝试使用[phpexcel](http://phpexcel.codeplex.com/wikipage?title=Examples)

快乐编码:)

**编辑：“phpexcel”是一个为 PHP 编程语言提供一组类的项目，它允许您写入和读取不同的电子表格文件格式，如 Excel (BIFF) .xls、Excel 2007 (OfficeOpenXML) .xlsx、CSV , Libre/OpenOffice Calc .ods, Gnumeric, PDF, HTML, ... 这个项目是围绕微软的 OpenXML 标准和 PHP 构建的。**

- 通过 phpexcel 网站

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:01:30.987

从[http://support.microsoft.com/kb/165499](http://support.microsoft.com/kb/165499)开始，您应该能够保存 HTML 表格并在 excel 中打开它！

它当然会放弃大部分格式和功能，但大多数时候，在将数据导出到 Excel 时，这并不是一个真正的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:03:20.153

尝试[此链接](https://stackoverflow.com/questions/3830411/save-mysql-query-to-excel-file-from-php-webpage)的解决方案。但是如果我在你那里，如果你想打印它，不要只是将它转换为 excel。您可以使用 pdf 像[this](http://www.tcpdf.org/)和[this](http://www.fpdf.org/)。

# c# - 如何检查 SqlConnection 中使用的 SQL Server 端 SSL 证书？

> ID：15804471
> 
> 赞同：2
> 
> 时间：2013-04-04T06:56:12.927
> 
> 标签：c#, .net, sql-server-2008, ssl, certificate

我使用`SqlConnection`带有“加密数据”集的连接字符串使用类连接到 SQL Server。我想访问服务器端 SSL 证书并查找它何时过期。如果我使用它，`HttpWebRequest`我将访问其`ServicePoint`提供对服务器证书的访问权限的属性。貌似`SqlConnection`没有提供类似的属性。

使用时如何访问服务器证书`SqlConnection`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T07:43:35.367

我确定你不需要它。

公钥作为连接握手的一部分发送

我启用了 SQL Server 加密，并且所有客户端代码都不需要证书

# php - mongolab rest api 返回空响应

> ID：15804472
> 
> 赞同：2
> 
> 时间：2013-04-04T06:56:13.867
> 
> 标签：php, curl, mlab

当我执行下面的代码时，它工作正常。

```
 $url = "https://api.mongolab.com/api/1/databases/$DB/collections/$COLLECTION?apiKey=$MONGOLAB_API_KEY";
    $ch = curl_init();

    curl_setopt($ch, CURLOPT_URL, $url);
    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($ch, CURLOPT_POST, 1);
    curl_setopt($ch, CURLOPT_POSTFIELDS, $data);
    curl_setopt($ch, CURLOPT_HTTPHEADER, array(
        'Content-Type: application/json',
        'Content-Length: ' . strlen($data),
    )
    );

    echo $response = curl_exec($ch);
    $error = curl_error($ch);
    echo $response_code = curl_getinfo($ch, CURLINFO_HTTP_CODE);
    curl_close($ch);

    if ($response_code == 200)
    {
        $response1=json_decode($response);
        echo("<pre>");print_r($response1);echo("</pre>");
    }
    else
    {
        echo "Fail";
        var_dump($data);
        var_dump($status);
    } 
```

上面运行良好，它将一条记录插入到 mongolab 数据库并返回对象 id，但是当执行下面的代码时，它返回空响应而没有任何错误。我检查了所有这些都是正确的，但为什么响应为空。

```
$url = "https://api.mongolab.com/api/1/databases/winebook-dev/collections/persons?fo=true&q={'email':'$email'}&apiKey=".MONGOLAB_API_KEY;
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, $url);
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_HEADER, false);
$data = curl_exec($ch);
$status = curl_getinfo($ch, CURLINFO_HTTP_CODE);
curl_close($ch);

if ($status == 200)
{
    $data1 = json_decode($data);
    $len = count($data1);
    if($len > 0 )
    {
        echo "This email already resistered.";
    }
    else
    {
        $url = "https://api.mongolab.com/api/1/databases/$DB/collections/$COLLECTION?apiKey=$MONGOLAB_API_KEY";
        $ch = curl_init();

        curl_setopt($ch, CURLOPT_URL, $url);
        curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
        curl_setopt($ch, CURLOPT_POST, 1);
        curl_setopt($ch, CURLOPT_POSTFIELDS, $data);
        curl_setopt($ch, CURLOPT_HTTPHEADER, array(
            'Content-Type: application/json',
            'Content-Length: ' . strlen($data)
        )
        );

        $response = curl_exec($ch);
        $error = curl_error($ch);
        $response_code = curl_getinfo($ch, CURLINFO_HTTP_CODE);
        curl_close($ch);

        if ($response_code == 200)
        {
            $response1=json_decode($response);
            echo("<pre>");print_r($response1);echo("</pre>");
        }
        else
        {
            echo "Fail";
            var_dump($data);
            var_dump($status);
        }
    }
} 
```

如果有人知道解决方案，那么突然回答这个问题。

谢谢你。

# asp.net - ValidationSettings for aspxtextbox 验证十进制

> ID：15804477
> 
> 赞同：1
> 
> 时间：2013-04-04T06:56:29.643
> 
> 标签：asp.net, regex, button, devexpress

我为 AspxTextBox 编写了一个正则表达式来验证十进制值，如下所示

```
 <dx:ASPxTextBox ID="txtDecimal" runat="server">
            <ValidationSettings ValidationGroup="g" RegularExpression-ValidationExpression="^\d+(\.\d{1,2})?$">
            </ValidationSettings>
        </dx:ASPxTextBox> 
```

当我直接在文本框中输入数字时，它会根据需要进行验证，但是我有一组按钮`0-9`和一个`.`按钮，用户可以使用这些按钮输入文本，单击按钮并在文本框中附加文本验证是无法即使我输入错误的输入也会触发，可能是什么问题有人可以帮助我

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:26:09.433

我想 DevEx 库使用 on change 事件来执行验证。OnChange（和其他 Javascript 事件）在用户交互期间更改控件值时执行，而不是在您以编程方式更改值时执行。
因此，您需要手动执行它：

```
<dx:ASPxTextBox ID="txtDecimal" runat="server" ClientInstanceName="tb">
    <ValidationSettings ValidationGroup="g" RegularExpression-ValidationExpression="^\d+(\.\d{1,2})?$"/>
</dx:ASPxTextBox>

<input type="button" onclick="tb.SetValue('10xyz');tb.Validate();"/> 
```

# php - 如何构建 REST API？

> ID：15804484
> 
> 赞同：-1
> 
> 时间：2013-04-04T06:56:52.867
> 
> 标签：php, rest, curl

我是 REST 新手。我了解 PHP SOAP Web 服务。我们有一个 SOAP 服务器 PHP 文件，它具有所有功能和一个 WSDL 文件描述功能和参数。然后客户端可以在任何地方通过 wsdl 文件从他的代码与 SOAP 服务器进行通信。

就像[这个](https://stackoverflow.com/questions/4684075/how-to-build-a-restful-api)问题的连续方式一样，请告诉 REST 是如何变成的？服务器文件可能是什么以及客户端如何与 REST 服务器通信？使用[curl](https://stackoverflow.com/questions/2138527/php-curl-http-post-sample-code)或任何其他方式？给我一些示例代码更好地理解。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:01:27.673

```
 $service_url = 'http://example.com/rest/user/';
   $curl = curl_init($service_url);
   $curl_post_data = array(
        "user_id" => 42,
        "emailaddress" => 'lorna@example.com',
        );
   curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);
   curl_setopt($curl, CURLOPT_POST, true);
   curl_setopt($curl, CURLOPT_POSTFIELDS, $curl_post_data);
   $curl_response = curl_exec($curl);
   curl_close($curl); 
```

现在如果需要 xml 响应然后试试这个

```
$xml = new SimpleXMLElement($curl_response); 
```

或在 json

```
$json = json_encode($curl_response); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:01:56.943

我不太确定你想得到什么，而不是你链接的问题。

REST 服务器的问题在于，您可以开始将其理解为一组执行操作的 URL（可能带有参数）。

东西是通过检索数据、插入记录等来定义的。参数可以是 GET 参数或 POST 参数，使用 HTTP 定义中的标准。

### 使用服务

你最终所做的是通过 HTTP 进行通信。您可以以通常的方式从 REST 服务请求资源（例如 http:://yoursite.tld/user/id1、http [://yoursite.tld/user?id=1](http://yoursite.tld/user?id=1)等以获取用户 1）。无论是 Curl，还是 wget，还是 java http 对象，只要做一个 HTTP 请求。更改该用户也是如此（您可以想象在此处使用 POST）。

### 提供服务

就像网站一样，您可以通过创建任何可以解析这些请求并发送回信息的东西来提供服务。问题是，没有像 SOAP 那样的中心方法/WSDL 等（REST 的优点和缺点）。只要确保您可以在请求完成时提供数据，无论是每个请求都有一个特殊文件，一个重定向您的请求的中央索引，一些 .htaccess 重定向技巧。

一个简单的方法是使用框架或您自己制定的一些标准。你可以把你的请求想象`/yourCommand/yourMode/yourData`成第一部分告诉你的系统要调用什么函数/对象/文件，然后模式告诉它要做什么，最后是你需要的数据（例如用户的 ID）。您的请求可能看起来像`/user/get/1`检索用户。

# asp.net-mvc - 如何在 MVC4 视图中保持模型状态......？

> ID：15804487
> 
> 赞同：0
> 
> 时间：2013-04-04T06:57:01.433
> 
> 标签：asp.net-mvc, jquery, asp.net-mvc-4

我正在创建一个 MVC4 应用程序。

在其中有一个视图，允许用户创建问题列表。

每个问题都是一一添加的。

我现在的立场是添加每个问题，我必须调用控制器，然后将问题添加到数据库中。这是不合适的，因为如果用户想要编辑任何问题将非常困难。

我希望视图能够处理所有事情。添加问题后，应在我的模型中的问题列表中在客户端背诵。单击某个最终按钮，它应该转到控制器并从那里转到数据库。

我的问题添加方法是在模型有界文本框中输入问题及其所有选择时。当用户按下添加问题时，应将问题添加到列表中，并且文本框将再次为空。

请建议我一些我可以研究的主题或方法来完成我的任务。我想使用 JQuesry 或 AJAX 是可能的。但我对此知之甚少..所以我真的需要帮助..谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:00:52.763

> 请建议我一些我可以研究的主题或方法来完成我的任务。

1.  如果你想使用 AJAX：[`Editing variable length list`](http://blog.stevensanderson.com/2010/01/28/editing-a-variable-length-list-aspnet-mvc-2-style/)
2.  使用淘汰赛：[`Editing variable length list - knockout style`](http://blog.stevensanderson.com/2010/07/12/editing-a-variable-length-list-knockout-style/)

# node.js - Node.JS 字符串数组排序不起作用

> ID：15804496
> 
> 赞同：7
> 
> 时间：2013-04-04T06:57:35.357
> 
> 标签：node.js, sorting, arrays

嗨，我是 node.js 的绝对初学者今天我尝试了以下代码

```
var fs, arr;
var dir, str;
var cont, item;

fs=require('fs');
cont=fs.readFileSync('unsort.txt').toString();
arr=cont.split('\n');
arr.sort();

for(str=arr.shift();str&&(item=arr.shift());)
    str+='\n'+item;
fs.writeFileSync('sort_by_script.txt', str); 
```

上面的 node.js 代码从 node.exe 的目录中读取一个文件作为字符串。通过换行符 ('\n') 拆分字符串以获取数组。对数组进行排序并将排序后的数组打印到文件中。因此，作为一个整体，脚本读取文件对条目进行排序，并将排序后的条目保存在另一个文件中。问题是排序顺序不正确。我尝试使用 MS Excel 手动对 unsort.txt 的内容进行排序，通过它我得到了正确的排序顺序。任何人都可以帮助我为什么 arr.sort() 不能正常工作。可以下载包中的unsort.txt、sort_by_script.txt、sort_by_ms_excel.txt和node.exe [Sort.rar][1]

注意：unsort.txt 没有数字。一切都只是字母。

unsort.txt 中的示例：

```
appjs
gbi
node
frame
require
process
module
WebSocket
webkitAudioContext
webkitRTCPeerConnection
webkitPeerConnection00
webkitMediaStream
MediaController
HTMLSourceElement
TimeRanges 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-04-04T07:10:52.693

如果您不传递自定义搜索函数，排序函数会按词法排序，数字会转换为字符串，因此会发生例如“10”在“3”之前的情况。所以字符串得到排序。

您可以将自定义函数传递给决定项目顺序的排序函数，如果是数字，这将是一个示例（请注意，如果您不将它们转换/解析为数字，则示例中的数字将是字符串）：

```
var numsort = function (a, b) {
    return a - b;
}

var numbers = new Array(20, 2, 11, 4, 1);

var result = numbers.sort(numsort); 
```

另一个字符串示例：

```
var sortstring = function (a, b)    {
    a = a.toLowerCase();
    b = b.toLowerCase();
    if (a < b) return 1;
    if (a > b) return -1;
    return 0;
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2017-08-24T12:59:26.587

我会用

```
arr.sort((obj1, obj2) => {
            return obj1.localeCompare(obj2);
        }); 
```

这很可能会解决您的问题。

# android - 在 android 中实现 Traceroute 功能

> ID：15804499
> 
> 赞同：5
> 
> 时间：2013-04-04T06:57:45.307
> 
> 标签：android, ping, traceroute

这是我第一次问任何问题，请原谅我的任何错误。

我想实现像 android play store 中可用的这个应用程序这样的 traceroute 功能。

[视觉示踪专业版](https://play.google.com/store/apps/details?id=com.redinput.tracert.pro&hl=en)

[跟踪路由](https://play.google.com/store/apps/details?id=com.scan.traceroute&hl=en)

我知道在 Windows 中输入 CMD 时`traceroute google.com`会显示所有使用的中间 IP。

**现在我已经尝试过了。**

我尝试使用`traceroute`命令，但 android 不支持`traceroute`只有 root 设备支持它。

```
Process process =Runtime.getRuntime().exec("traceroute yahoo.com");
BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));
int i;
char[] buffer = new char[4096];
StringBuffer output = new StringBuffer();
while ((i = reader.read(buffer)) > 0)
    output.append(buffer, 0, i);
reader.close();
Log.d("*************", ""+output); 
```

所以我想使用 ping 命令来实现，但没有成功。通过使用 ping 命令，它只提供 google.com 的 ip，而不是我需要的和上面的应用程序显示。

```
Process process = Runtime.getRuntime().exec("/system/bin/ping -t 1 -c 1 google.com");

BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));
int i;
char[] buffer = new char[4096];
StringBuffer output = new StringBuffer();
while ((i = reader.read(buffer)) > 0)
    output.append(buffer, 0, i);
reader.close();
Log.d("*************", ""+output); 
```

请指导我如何实现这一目标。一些链接或一些教程将非常有用。

提前谢谢你。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T07:05:50.597

[busybox](https://code.google.com/p/busybox-android/)实用程序包括 traceroute 。[您可以按照这个youtube 教程](http://www.youtube.com/watch?v=L_bVC0x4l-g)在您的设备上运行busybox，而无需为您的手机生根。然后，您应该能够使用您发布的第一个代码段从您的应用程序中查询 traceroute。当然，您需要确保在调用 traceroute 时使用正确的路径。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-08T00:35:54.067

Traceroute 的工作原理是通过 UDP 向一个不太可能的端口号发送 3 条 ICMP 消息，每次启动一个计时器，并将数据报中的 TTL 设置为 1（最大 1 跳）。当它到达第一个路由器时，数据报过期，路由器将拒绝进一步发送数据包，并以过期消息（ICMP 类型 11 代码 0）进行响应，其中包括路由器名称、IP 地址、MTU 和一些其他位数据的。源将从定时器获取往返时间。一旦 traceroute 从第一跳获取数据，它将重复这些步骤，但将 TTL 加一，并不断重复这些步骤，直到最终到达主机本身。

为了让您的代码正常工作，您需要能够操作网络层数据报并在标头中设置 TTL 值。之后，只需解析来自每个返回 TTL 过期消息的路由器的响应即可。

# dynamics-crm-2011 - 创建实体记录时自动创建记录

> ID：15804500
> 
> 赞同：0
> 
> 时间：2013-04-04T06:57:48.363
> 
> 标签：dynamics-crm-2011, dynamics-crm, dynamics-crm-online

我有一个`project`实体和一个`projectStages`实体。我想要，当一个项目记录将被自动`projectStages`创建时，将为每个阶段创建实体。直到现在我正在使用插件来做这件事。只是想知道我在 CRM 中是否有任何方法可以做到这一点。

这是客户安全卷的屏幕截图。 ![在此处输入图像描述](https://i.stack.imgur.com/KxR9V.jpg)

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:58:14.297

我会使用插件来做到这一点，你有什么理由不想使用插件吗？您也可以在创建项目时使用工作流来创建项目阶段，但这将是异步的。

# r - 如何有条件地突出显示 ggplot2 平面图中的点 - 将颜色映射到列

> ID：15804504
> 
> 赞同：11
> 
> 时间：2013-04-04T06:57:58.517
> 
> 标签：r, plot, ggplot2

在以下示例中，我创建了两个点系列并使用`ggplot2`. 我还根据他们的价值观强调了几点

```
library(ggplot2)
x <- seq(0, 6, .5)
y.a <- .1 * x -.1
y.b <- sin(x)
df <- data.frame(x=x, y=y.a, case='a')
df <- rbind(df, data.frame(x=x, y=y.b, case='b'))
print(ggplot(df) + geom_point(aes(x, y), color=ifelse(df$y<0, 'red', 'black'))) 
```

这是结果

![第一个结果](https://i.stack.imgur.com/vz2j2.png)

现在我想将两个`case`s 分成两个方面，保持突出显示方案

```
> print(ggplot(df) + geom_point(aes(x, y), color=ifelse(df$y<0, 'red', 'black')) + facet_grid(case ~. ,))
Error: Incompatible lengths for set aesthetics: colour 
```

如何实现？

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-04-04T07:02:07.343

您应该放在`color=ifelse(y<0, 'red', 'black')`,`aes()`所以颜色将根据每个方面的 y 值独立设置。如果在 aes() 之外将颜色设置为向量，则在两个方面都使用相同的向量（具有相同的长度），然后您会得到错误，因为颜色向量的长度随着数据点的数量而变大。

然后您应该添加`scale_color_identity()`以确保直接解释颜色名称。

```
ggplot(df) + geom_point(aes(x, y, color=ifelse(y<0, 'red', 'black'))) + 
   facet_grid(case ~. ,)+scale_color_identity() 
```

![在此处输入图像描述](https://i.stack.imgur.com/O13fn.png)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2020-07-01T12:54:45.803

除了使用 scale_..._identity，还可以将颜色（和填充）美学包装​​在`I()`. 它还需要在 中定义颜色`aes`。

我遇到了这个问题，我猜我不小心使用了 OP `I()`... [ggplot 颜色不会根据组自动着色](https://stackoverflow.com/q/62676058/7941188)

不确定我是否会利用它，但我觉得这种乐趣。

```
library(ggplot2)
x <- seq(0, 6, .5)
y.a <- .1 * x -.1
y.b <- sin(x)
df <- data.frame(x=x, y=y.a, case='a')
df <- rbind(df, data.frame(x=x, y=y.b, case='b'))

ggplot(df) + 
  geom_point(aes(x, y, color= I(ifelse(y < 0, 'red', 'black')))) +
  facet_grid(case ~. ) 
```

![](https://i.imgur.com/N1eZpLG.png)

^(由[reprex 包](https://reprex.tidyverse.org)于 2020-07-01 创建(v0.3.0))

# jquery - JQuery Carousel 鼠标悬停连续滑动

> ID：15804506
> 
> 赞同：1
> 
> 时间：2013-04-04T06:58:06.023
> 
> 标签：jquery, jquery-plugins

我正在研究 Jquery 轮播，我有一个功能，它可以在鼠标上滑动图像但它只滑动一次，我必须应用它在鼠标悬停时连续开始滑动图像并且在鼠标移出时停止滑动的功能。我已经使用了间隔并在 1.5 分钟后调用了 mouseover 事件，但是我有两个问题第一个它挂起浏览器第二个即使在鼠标移出时它仍然在滑动（我已经尝试在 mouseout 上清除间隔但没有工作）下面是我的代码旋转木马

```
 $(document).ready(function () {
  $('#carousel_ul_3 li:first').before($('#carousel_ul_3 li:last'));
            $('#right_scroll_3 img').mouseover(function () {   
                //get the width of the items ( i like making the jquery part dynamic, so if you change the width in the css you won't have o change it here too ) '
                var item_width = $('#carousel_ul_3 li').outerWidth() + 10;

                //calculae the new left indent of the unordered list
                var left_indent = parseInt($('#carousel_ul_3').css('left')) - item_width;
                //make the sliding effect using jquery's anumate function '            
                $('#carousel_ul:not(:animated)').animate({ 'left': left_indent }, 500, function () {

                    //get the first list item and put it after the last list item (that's how the infinite effects is made) '
                    $('#carousel_ul_3 li:last').after($('#carousel_ul_3 li:first'));

                    //and get the left indent to the default -210px
                    $('#carousel_ul_3').css({ 'left': '-210px' });

                });
                window.setInterval(event_3, 1500); //Setting Interval

            });

            $('#right_scroll_3 img').mouseout(function () {
               clearInterval
            });

            //when user clicks the image for sliding left
            $('#left_scroll_3 img').mouseover(function () {

                var item_width = $('#carousel_ul_3 li').outerWidth() + 10;

                /* same as for sliding right except that it's current left indent + the item width (for the sliding right it's - item_width) */
                var left_indent = parseInt($('#carousel_ul_3').css('left')) + item_width;

                $('#carousel_ul_3:not(:animated)').animate({ 'left': left_indent }, 500, function () {

                    /* when sliding to left we are moving the last item before the first list item */
                    $('#carousel_ul_3 li:first').before($('#carousel_ul_3 li:last'));

                    /* and again, when we make that change we are setting the left indent of our unordered list to the default -210px */
                    $('#carousel_ul_3').css({ 'left': '-210px' });
                });
                window.setInterval(event_3, 1500);//Setting Interval

            });
});

 function event_3() {
            $("#right_scroll_3 img").mouseover();
            $('#left_scroll_3 img').mouseover();
        } 
```

如何在鼠标悬停时连续滑动轮播并在鼠标离开时将其停止？

# javascript - 可选字段和下拉框的 jQuery 番茄酱验证规则

> ID：15804508
> 
> 赞同：1
> 
> 时间：2013-04-04T06:58:08.547
> 
> 标签：javascript, jquery, validation

我正在使用 jQuery Ketch-up 插件来验证我的表单。

1.  我需要验证一个下拉框，例如：如果用户选择下拉选项“选择”它应该触发错误说“请选择语言”。

2.  验证电子邮件字段，但该电子邮件字段不是必需的。

我尝试根据文档使用以下代码验证下拉框。但它说'jq.ketchup 未定义'

```
//Drop down validation
var jq = $.noConflict();

jq.ketchup.validation('validateSelect', 'Please select the language', function(form, el, value) 
{
      if(this.contains(value.toLowerCase(), 'select')) 
      {
        return false;
      } 
      else 
      {
        return true;
      }
}); 
```

对于我的第二个问题，文档没有帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-10T13:39:41.403

jquery-ketchup 插件适用于 text 和 textarea 输入。要对选择应用验证，请使用选择输入的 id 示例：

选择输入：

html代码：

```
= f.input :type, :prompt => "Select  type",  :collection => (some_collection), input_html: { id: "list_select" } 
```

js代码：

```
$.ketchup.validation('lselect', 'You have not selected type!', function(form, el, value) {
    return value.length == 0 ? false : true
});

$("#form_id").ketchup({},{
    '#list_select'       : 'lselect'
}); 
```

要仅在用户输入任何值而不是必填字段时验证电子邮件，您需要覆盖插件提供的验证，如下所示：

```
$.ketchup.validation('email', 'Must be a valid E-Mail.', function(form, el, value) {
    return ($.trim(value).length > 0) ? this.isEmail(value) : true
}); 
```

# git - Git子模块，不确定它是否正确使用

> ID：15804509
> 
> 赞同：1
> 
> 时间：2013-04-04T06:58:12.693
> 
> 标签：git, git-submodules

所以我有一个带有我的 nodejs 服务器的 repo。我们还有一个 webapp，它作为独立的 webapp 运行，仅作为企业服务器上的单个 html 文件运行。对于我们的云版本，我们需要使用后端运行它，因此我使用的是 nodejs。

我不确定的事情是我想将 html 应用程序的存储库保留在节点存储库中，但 ut 需要在节点存储库中。Node 将查找来自 web 应用程序存储库的 index.html

所以是这样的：

```
nodeapp/ nodeapp.git
  /public/
    /webapp_repo/ webapp.git
      index.html etc etc.. 
```

我想这样做的原因是我们有一个版本的网络应用程序，而不是云版本的版本和企业版本的版本。因此我可以对 Web 应用程序存储库进行更改，并将更改拉入云版本和其他企业版本。

我不确定子模块是否是正确的方法？

我不想提交 nodeapp 更改，因为它对 webapp 存储库做任何事情。归根结底，我可能会对 webapp 进行更多更改并将其拉入 nodeapp 而不是 nodeapp 本身。

***或者也许更有意义的是，当我拉上 nodeapp 时，它还应该寻找 webapp 中的变化？***

希望我是有道理的..

# nhibernate - Nhibernate QueryOver 不获取最新的数据库更改

> ID：15804514
> 
> 赞同：6
> 
> 时间：2013-04-04T06:58:30.063
> 
> 标签：nhibernate, nhibernate-criteria, queryover

我正在尝试使用从数据库更新记录`QueryOver`。我的代码最初创建一个实体并保存在数据库中，然后在外部（从其他程序、手动或在其他机器上运行的同一程序）在数据库中更新相同的记录，当我`queryOver`通过更改的字段调用过滤时，查询得到记录但*没有*最新的变化。

这是我的代码：

```
//create the entity and save in database
MyEntity myEntity = CreateDummyEntity();
myEntity.Name = "new_name";

MyService.SaveEntity(myEntity);

// now the entity is updated externally changing the name property with the 
// "modified_name" value (for example manually in TOAD, SQL Server,etc..)

//get the entity with QueryOver
var result = NhibernateHelper.Session
                 .QueryOver<MyEntity>()
                 .Where(param => param.Name == "modified_name")
                 .List<T>(); 
```

前面的语句获得了一个只有一条记录（好）的集合，**但**name 属性是**用旧值**而不是“modified_name”建立的。

我该如何解决这种行为？一级缓存打扰我了？同样的问题发生在

```
CreateCriteria<T>(); 
```

由于应用程序框架的要求，我的 NhibernateHelper 中的会话不会在任何时候关闭，只会为与 session.Save() 关联的每个提交创建事务。如果我打开一个新会话来执行查询，显然我会从数据库中获得最新的更改，但设计要求不允许这种方法。

此外，我在 NHibernate SQL 输出中检查了正在执行带有 WHERE 子句的选择（因此 Nhibernate 命中数据库）但不更新返回的对象！！！！

## 更新

这是调用 session.Save 后 SaveEntity 中的代码：完成对 Commit 方法的调用

```
public virtual void Commit() 
{ 
  try 
  { 
    this.session.Flush(); 
    this.transaction.Commit();
  } 
  catch 
  { 
    this.transaction.Rollback(); 
    throw; 
  } 
  finally 
  { 
    this.transaction = this.session.BeginTransaction();
  } 
} 
```

NHibernate 为 SaveEntity 生成的 SQL：

```
NHibernate: INSERT INTO MYCOMPANY.MYENTITY (NAME) VALUES (:p0);:p0 = 'new_name'. 
```

NHibernate 为 QueryOver 生成的 SQL：

```
NHibernate: SELECT this_.NAME as NAME26_0_ 
            FROM MYCOMPANY.MYENTITY this_ 
            WHERE this_.NAME = :p0;:p0 = 'modified_name' [Type: String (0)]. 
```

由于公司保密政策，查询已被修改。

非常感谢帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T08:21:28.617

据我所知，您有几种选择：

*   将您的 Session 作为`IStatelessSession`, 通过调用`sessionFactory.OpenStatelesSession()`而不是`sessionFactory.OpenSession()`
*   `Session.Evict(myEntity)`在数据库中持久化实体后执行
*   `Session.Clear()`在你之前执行`QueryOver`
*   将`CacheMode`您的 Session设置为`Ignore, Put or Refresh`在您之前`QueryOver`（从未测试过）

我想选择将取决于您对长时间运行的会话的使用情况（恕我直言，这似乎带来的问题多于解决方案）

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T08:42:16.660

调用`session.Save(myEntity)` **不会导致更改立即保存到数据库***。`session.Flush()`当由框架本身或您自己调用时，这些更改将保持不变。有关刷新以及何时调用它的更多信息，请参阅[此](https://stackoverflow.com/questions/43320/nhibernate-isession-flush-where-and-when-to-use-it-and-why)问题和有关刷新的[nhibernate 文档。](https://stackoverflow.com/questions/43320/nhibernate-isession-flush-where-and-when-to-use-it-and-why)

执行查询也**不会导致第一级缓存被命中**。这是因为第一级缓存仅适用于`Get`and `Load`，即如果先前已经加载了 1 的值，则将命中第一级缓存，而`session.Get<MyEntity>(1)`不会。`MyEntity``id``session.QueryOver<MyEntity>().Where(x => x.id == 1)`

有关 NHibernate 缓存功能的更多信息可以在Ayende Rahien的[这篇文章中找到。](http://nhibernate.hibernatingrhinos.com/28/first-and-second-level-caching-in-nhibernate)

总之，您有两个选择：

1.  在方法内使用事务`SaveEntity`，即

    ```
    using (var transaction = Helper.Session.BeginTransaction())
    {
      Helper.Session.Save(myEntity);
      transaction.Commit();
    } 
    ```

2.  `session.Flush()`方法内调用`SaveEntity`，即

    ```
     Helper.Session.Save(myEntity);
      Helper.Session.Flush(); 
    ```

第一个选项在几乎**所有**情况下都是最好的。

*我知道这条规则的唯一例外是`Identity`用作 id 生成器类型时。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T15:29:38.487

尝试将您的最后一个查询更改为：

```
 var result = NhibernateHelper.Session
             .QueryOver<MyEntity>()
             .CacheMode(CacheMode.Refresh)
             .Where(param => param.Name == "modified_name") 
```

如果这仍然不起作用，请尝试在查询后添加：

```
NhibernateHelper.Session.Refresh(result); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-08T14:11:57.473

经过搜索和搜索，思考和思考......我找到了解决方案。

修复：它包括打开一个新会话，调用`QueryOver<T>()`此会话并成功刷新数据。如果您的子集合未初始化，您可以在映射中调用`HibernateUtil.Initialize(entity)`或设置`lazy="false"`。在大型集合中要特别小心`lazy="false"`，因为您可以获得较差的性能。要解决此问题（加载大型集合的性能问题），`lazy="true"`请在集合映射中设置并调用受影响集合的上述方法`HibernateUtil.Initialize(entity)`以从数据库中获取子记录；例如，您可以从表中获取所有记录，如果您需要访问特定实体的所有子记录，请`HibernateUtil.Initialize(collection)`仅调用感兴趣的对象。

注意：正如@martin ernst 所说，更新问题可能是休眠中的错误，我的解决方案只是临时修复，必须在休眠中解决。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-12-30T20:38:04.570

这里的人不想打电话`Session.Clear()`，因为它太强大了。
另一方面，`Session.Evict()`当事先不知道对象时，可能看起来不适用。
其实还是可以用的。
您需要首先使用查询检索缓存的对象，然后调用`Evict()`它们。然后再次检索再次调用相同查询的新对象。
如果对象一开始没有被缓存，这种方法效率会稍低——从那时起实际上会有两个“新”查询——但对于这个缺点似乎没什么可做的......
顺便说一句，`Evict()`接受 null 参数也没有例外 - 如果查询的对象实际上不存在于数据库中，这很有用。

```
var cachedObjects = NhibernateHelper.Session
             .QueryOver<MyEntity>()
             .Where(param => param.Name == "modified_name")
             .List<T>();

foreach (var obj in cachedObjects) 
    NhibernateHelper.Session.Evict(obj);

var freshObjects = NhibernateHelper.Session
             .QueryOver<MyEntity>()
             .Where(param => param.Name == "modified_name")
             .List<T>() 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2017-04-20T21:32:05.440

我得到了非常相似的东西，并尝试调试 NHibernate。在我的场景中，会话在相关集合 (cascade:all) 中创建一个带有几个孩子的对象，然后调用`ISession.Flush()`. 记录被写入数据库，会话需要继续而不关闭。同时，另外两条子记录被写入数据库并提交。`QueryOver`一旦原始会话尝试使用with重新加载图形`JoinAlias`，生成的 SQL 语句看起来非常好，并且正确返回了行，但是发现应该接收这些新子级的集合已经在会话中初始化（应该是），并且基于该 NH 决定完全忽略相应行的某些原因。我认为 NH 在这里做了一个无效的假设，即如果集合已经标记为“已初始化”，则不需要从查询中重新加载。如果更熟悉 NHibernate 内部结构的人能加入进来，那就太好了。

# java - Android - 卡在 ListView 项目上

> ID：15804517
> 
> 赞同：0
> 
> 时间：2013-04-04T06:58:31.007
> 
> 标签：java, android

我正在开发一个 Android 应用程序。在该应用程序中，我设置了一个列表视图，每个视图都有一个 Imageview、Progressbar(InVisible) 和两个按钮。

```
plAdapter = new PlayAdapter();
         lv1.setAdapter(plAdapter); 
}

private static class AccessoriesViewHolder {
Button play,download;
ProgressBar pb;

}

private class PlayAdapter extends BaseAdapter {

    @Override
    public int getCount() {
        return contactList.toArray().length;
    }

    @Override
    public String getItem(int position) {
        return a;
        //return al[position];
    }

    @Override
    public long getItemId(int position) {
        return position;
    }

    @Override
    public View getView(int position, View convertView, ViewGroup parent) {

         holder = null;

        if (convertView == null) {
            convertView = getLayoutInflater().inflate(R.layout.design, parent, false);

            holder = new AccessoriesViewHolder();
            holder.play = (Button) convertView.findViewById(R.id.btn_play);
            holder.download = (Button) convertView.findViewById(R.id.btn_dwnld);

            ((Button) convertView.findViewById(R.id.btn_play)).setOnClickListener(mBuyButtonClickListener);
            ((Button) convertView.findViewById(R.id.btn_dwnld)).setOnClickListener(mBuyButtonClickListener);
           ((ProgressBar) convertView.findViewById(R.id.progress_bar)).setVisibility(View.INVISIBLE);

           // convertView.setTag(holder);
        } else 

        {

            holder = (AccessoriesViewHolder) convertView.getTag();
        }

        /*
         * The Android API provides the OnCheckedChangeListener interface
         * and its onCheckedChanged(CompoundButton buttonView, boolean
         * isChecked) method. Unfortunately, this implementation suffers
         * from a big problem: you can't determine whether the checking
         * state changed from code or because of a user action. As a result
         * the only way we have is to prevent the CheckBox from callbacking
         * our listener by temporary removing the listener.
         */

        return convertView;
    }
}

/**
 * Quickly shows a message to the user using a {@link Toast}.
 * 
 * @param message The message to show
 */
private void showMessage(String message) {
    Toast.makeText(MainActivity.this, message, Toast.LENGTH_SHORT).show();
}

private OnClickListener mBuyButtonClickListener = new OnClickListener() {
    @Override
    public void onClick(View v) {
        final int position = lv1.getPositionForView(v);

        // int dummy=position;
            showMessage(listsong[position].toString()+"");

            ((ProgressBar) convertView.findViewById(R.id.progress_bar)).setVisibility(View.INVISIBLE);

    }
};

protected AdapterView<ListAdapter> getListView() 
{
    // TODO Auto-generated method stub
    return null;
}

} 
```

如果我连续单击其中一个 Button ，则进度条必须在该行中可见。

问题是，如果我单击一个按钮，其他行上的进度条会变得可见但不对应的行。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:08:59.753

只需在 ListView 适配器的 getView() 方法中为按钮添加 OnClickListener 并在 OnClickListener 内设置 ProgressBar 的可见性

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:10:43.777

尝试`getView`像这样更改您的方法：

```
@Override
public View getView(int position, View convertView, ViewGroup parent) {

     holder = new AccessoriesViewHolder();

     convertView = getLayoutInflater().inflate(R.layout.design, parent, false);

     holder.play = (Button) convertView.findViewById(R.id.btn_play);
     holder.download = (Button) convertView.findViewById(R.id.btn_dwnld);

     ((Button) convertView.findViewById(R.id.btn_play)).setOnClickListener(mBuyButtonClickListener);
     ((Button) convertView.findViewById(R.id.btn_dwnld)).setOnClickListener(mBuyButtonClickListener);
     ((ProgressBar) convertView.findViewById(R.id.progress_bar)).setVisibility(View.INVISIBLE);

     return convertView;
} 
```

# java - Spring webmvc框架中的TransactionRequiredException

> ID：15804518
> 
> 赞同：0
> 
> 时间：2013-04-04T06:58:34.020
> 
> 标签：java, spring, hibernate, jpa, transactional

它有很多相似但不相同的问题，所以我找不到这个问题的解决方案。

我有 Spring + JPA(Hibernate) 网络应用程序。

上下文配置（data-context.xml）：

```
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xmlns:context="http://www.springframework.org/schema/context"
xmlns:jdbc="http://www.springframework.org/schema/jdbc" 
xmlns:tx="http://www.springframework.org/schema/tx"
xsi:schemaLocation="http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans-3.2.xsd
    http://www.springframework.org/schema/context
    http://www.springframework.org/schema/context/spring-context-3.2.xsd
    http://www.springframework.org/schema/jdbc 
    http://www.springframework.org/schema/jdbc/spring-jdbc-3.2.xsd
    http://www.springframework.org/schema/tx
    http://www.springframework.org/schema/tx/spring-tx-3.2.xsd">

<bean id="dataSource" class="org.springframework.jdbc.datasource.DriverManagerDataSource">
    <property name="driverClassName" value="org.postgresql.Driver"/>
    <property name="url" value="jdbc:postgresql://localhost:5432/db"/>
    <property name="username" value="postgres"/>
    <property name="password" value="1234"/>
</bean>

<bean id="transactionManager" class="org.springframework.orm.jpa.JpaTransactionManager">
    <property name="entityManagerFactory" ref="emf"/>
</bean>

<tx:annotation-driven transaction-manager="transactionManager" />

<bean id="emf" class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">
    <property name="dataSource" ref="dataSource"/>
    <property name="jpaVendorAdapter">
        <bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter"/>
    </property>
    <property name="packagesToScan" value="com.myapp.mvc.logic.domain"/>
    <property name="jpaProperties">
        <props>
            <prop key="hibernate.dialect">org.hibernate.dialect.PostgreSQLDialect</prop>
            <prop key="hibernate.max_fetch_depth">3</prop>
            <prop key="hibernate.jdbc.fetch_size">50</prop>
            <prop key="hibernate.jdbc.batch_size">10</prop>
            <prop key="hibernate.show_sql">true</prop>
        </props>
    </property>
</bean>

<bean id="validator" class="org.springframework.validation.beanvalidation.LocalValidatorFactoryBean"/>

<context:annotation-config/>

<context:component-scan base-package="com.myapp.mvc.logic" /> 
```

DispetcherServlet 配置（servlet-context.xml）：

```
<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns="http://www.springframework.org/schema/mvc"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns:beans="http://www.springframework.org/schema/beans"
xmlns:p="http://www.springframework.org/schema/p"
xmlns:context="http://www.springframework.org/schema/context"
xmlns:security="http://www.springframework.org/schema/security"
xsi:schemaLocation="http://www.springframework.org/schema/mvc 
    http://www.springframework.org/schema/mvc/spring-mvc-3.2.xsd
    http://www.springframework.org/schema/beans 
    http://www.springframework.org/schema/beans/spring-beans-3.2.xsd
    http://www.springframework.org/schema/context 
    http://www.springframework.org/schema/context/spring-context-3.2.xsd
    http://www.springframework.org/schema/security 
    http://www.springframework.org/schema/security/spring-security-3.1.xsd
    ">      

<annotation-driven validator="validator"/>

<resources mapping="/resources/**" location="/resources/" />

<default-servlet-handler/>  

<beans:bean class="org.springframework.web.servlet.view.UrlBasedViewResolver" id="tilesViewResolver">
    <beans:property name="viewClass" value="org.springframework.web.servlet.view.tiles3.TilesView"/>
</beans:bean>

<beans:bean class="org.springframework.web.servlet.view.tiles3.TilesConfigurer" id="tilesConfigurer">
    <beans:property name="definitions">
        <beans:list>
            <beans:value>/WEB-INF/layouts/layouts.xml</beans:value>
            <beans:value>/WEB-INF/views/**/views.xml</beans:value>
        </beans:list>
    </beans:property>
</beans:bean>

<interceptors>
    <beans:bean class="org.springframework.web.servlet.i18n.LocaleChangeInterceptor" p:paramName="lang"/>
</interceptors> 

<beans:bean class="org.springframework.context.support.ReloadableResourceBundleMessageSource"
            id="messageSource"
            p:basenames="classpath:META-INF/i18n/application, classpath:META-INF/i18n/validation_messages"
            />
<beans:bean class="org.springframework.web.servlet.i18n.CookieLocaleResolver"
            id="localeResolver"
            p:cookieName="locale"/>

<beans:bean id="validator" class="org.springframework.validation.beanvalidation.LocalValidatorFactoryBean">
    <beans:property name="validationMessageSource" ref="messageSource"/>
</beans:bean>

<context:component-scan base-package="com.myapp.mvc" /> 
```

控制器：

```
@RequestMapping("/users")
@Controller
public class BankAccountCatalogController {

@Inject
private Functions functions;

@RequestMapping(value="/update", method = RequestMethod.POST)
public String catalogBankAccountUpdate(Model uiModel) {
    functions.addUser();
    return "employee_cabinet/catalog_bank_account";
}
} 
```

函数类：

```
@Service("functions")
@Repository
@Transactional
public class Functions {

@PersistenceContext
private EntityManager em;

@Transactional
public void addUser() {
    User user = new User();
    user.setFirstName("John");
    user.setLastName("John");
    user.setMiddleName("John");
    user.setEmail("John@gmail.com");
    user.setPhone(null);
    user.setMd5Password("1234");
    em.persist(user);
    em.flush();
}
} 
```

当我激活控制器时，`em.flush();`我得到一个错误：

```
javax.persistence.TransactionRequiredException: no transaction is in progress 
```

`addUser()`由于某种原因，交易在功能中不活跃。我在 JUnit 环境中尝试了运行功能 - 它工作正常。有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:51:34.687

尝试`EntityManager`从控制器中删除并在控制器上将该方法指定为事务性的。

```
@RequestMapping("/users")
@Controller
public class BankAccountCatalogController {

@Inject
private Functions functions;

@RequestMapping(value="/update", method = RequestMethod.POST)
@Transactional
public String catalogBankAccountUpdate(Model uiModel) {
    functions.addUser();
    return "employee_cabinet/catalog_bank_account";
}
} 
```

还要确保在`Functions`组件扫描的包中指定了类，即`com.dominform.mvc.logic`.

```
<context:component-scan base-package="com.dominform.mvc.logic" /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T09:12:22.037

解决了。DispetcherServlet 的配置错误。

代替

```
<context:component-scan base-package="com.myapp.mvc" /> 
```

在 servlet-context.xml 中，我写了

```
<context:component-scan base-package="com.myapp.mvc.web.controller" /> 
```

它有效。

有用的主题：[Spring @Transactional - javax.persistence.TransactionRequiredException](https://stackoverflow.com/questions/5220125/spring-transactional-javax-persistence-transactionrequiredexception)

# php - 如果可以使用 codeigniter 在数据库中找到其值，则检查复选框

> ID：15804519
> 
> 赞同：0
> 
> 时间：2013-04-04T06:58:35.303
> 
> 标签：php, mysql, codeigniter

我试图编写一个代码，如果可以在我的数据库中找到它们的值，将检查我的复选框列表

这就是我的表格的样子

```
author name:______________
check the categories the author will handle
■ sports
■ comics
■ movies
■ ads 
```

一旦我进入我的编辑作者页面，这就是它的样子

```
author name:Lorem
check the categories the author will handle
✓ sports
■ comics
✓ movies
■ ads 
```

这就是我的数据库的样子

作者.sql

```
UID      auth_name
5        Lorem
6        Ipsum
7        Dolor
8        Sit
9        Amet 
```

新闻.sql

```
 UID     title     date     
 1       sports    1/1/2013
 2       comics    2/2/2013
 3       movies    3/3/2013
 4       ads       4/4/2013 
```

这就是我希望我的其他表格在我提交表格后的样子

新闻复选框.sql

```
author_id    newstitle_id    checked
5            1               yes
6            1               yes
7            1               no
8            1               yes
9            1               no 
```

* * *

这是我的代码（这个代码的问题是它只插入那些带有检查的。所以我的新闻复选框表看起来像这样）

新闻复选框.sql

```
author_id    newstitle_id    checked
5            1               yes
6            1               yes
8            1               yes 
```

没有选中的复选框不会插入到数据库中，选中的列中没有

addauthor.php（查看）

```
<?php
    $attributes = array('class' => 'form form-horizontal','id'=>'form_auth','name'=>'form_auth');
    echo form_open(base_url() . 'auth/submit_auth', $attributes);
?> 
<input type="text" class="w300" name="auth_name" id="auth_name">

<?php
    foreach($auth->result() as $a)
    {
        ?>
                        <input type="checkbox" name="cats[]" value="<?php echo $a->UID; ?>"> DJ <?php echo $a->auth_name;?>

                <?php
            }
        ?>
</form> 
```

控制器

```
public function auth_edit($id)
{
    $data['auth'] = $this->jivecms_model->get_auth();
    $data['news'] = $this->jivecms_model->get_news($id);
    $data['id'] = $id;
    $this->load->vars($data);
    $this->load->view('auth/auth_edit');
}

public function submit_auth()
{
$this->jivecms_model->submit_auth();
redirect(base_url() . "auth/auth_edit");
} 
```

模型

```
function submit_auth()
{                   
    $auth_name = $this->input->post("auth_name");
    $cats = $this->input->post("cats");

    $newdata = array('auth_name'=>$auth_name
                    );

    $this->db->insert('author', $newdata); 
    $id = $this->db->insert_id();

    foreach($cats as $c)
    {
        if ($c == ""){$check="no";}
        else{$check="yes";}
        $auth = array('news_id'=>$c,'author_id'=>$id,'checked'=>$check);
        $this->db->insert('newscheckbox', $auth); 
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T19:22:58.757

我相信这就是你想要问的。

[发布未选中的复选框](https://stackoverflow.com/questions/1809494/post-the-checkboxes-that-are-unchecked)

未选中的复选框不会在表单帖子中提交。因此，您必须遍历所有可能的复选框（不是 $cats）以确定它是否已设置。

# ios - Xcode、Git、Jenkins、PhoneGap 1.5.0 构建错误

> ID：15804524
> 
> 赞同：1
> 
> 时间：2013-04-04T06:59:10.577
> 
> 标签：ios, xcode, git, cordova, jenkins

我之前使用 phonegap 1.5.0 开发了一个应用程序，现在我们刚刚推送到 git 存储库。该应用程序已在 xCode 中成功构建，我能够安装该应用程序并在 iPad 上运行它，但是当我们尝试从 Jenkins 构建它时，出现此错误

```
/Users/...../Classes/AppDelegate.m:28:
/Users/......./Classes/AppDelegate.h:31:13: fatal error: 'Cordova/CDVViewController.h' file not found
#import <Cordova/CDVViewController.h> 
```

我真的不知道为什么会这样。我没有在 gitt 中包含任何导致此问题的文件吗？还是我需要采取任何额外的步骤将代码放入 git 中？对此的任何建议都深表感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-08-19T15:00:15.163

我的 PhoneGap 项目能够构建和生成 .ipa。

以下是我使用 Jenkins 为 CI 集成所做的工作：

1.  为 Jenkins 安装 Xcode 集成插件（管理 Jenkins --> 管理插件 --> 可用 --> Xcode 集成）。

2.  在您的 Job 配置中，单击 Add build Step 按钮并选择 Xcode。

3.  在 Xcode 配置中：

    3.1。在构建之前添加清洁。

    3.2\. 添加项目的目标（例如：SamplePhonegap）。

    3.3\. 添加SDK（例如：iphoneos6.1）。

    3.4\. 将配置添加为调试或发布。

    3.5\. 添加包含 .xcodeproj 的 Xcode 项目目录（例如：${WORKSPACE}）。

    3.6\. 构建输出目录（例如：${WORKSPACE}/build）[PhoneGap App 的强制步骤]。

    3.7\. 添加构建 IPA。

    3.8\. 添加代码签名身份（例如：iPhone 开发人员：S* **** *** *** (6* ******* )）。

    3.9\. 添加解锁钥匙串。

    3.10。添加 keyChain 路径（例如：${HOME}/Library/Keychains/login.keychain）。

    3.11。添加钥匙串密码。

最后构建您的应用程序 - 它将构建并生成 .ipa 文件。

**笔记：**

3.6 步骤是必须的，因为PhoneGap 项目有两个构建路径：一个是我们的项目构建路径，另一个是cordova 构建路径。Jenkins 很难找到默认的路径（在 native 中不需要指定，因为它只有一个 Jenkins 可以轻松找到的构建路径）。所以必须提供构建输出目录路径。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:19:00.150

您可以做的是尝试将 git 存储库克隆到本地计算机并从那里构建。如果没问题，则意味着您需要检查 Jenkins 设置/配置。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-12-16T09:29:30.240

这是迄今为止我找到的最好的解决方案。[原始答案](https://stackoverflow.com/a/12596916/2129172)

**Xcode 6.x**

添加`$(OBJROOT)/UninstalledProducts/include`到 BuildSettings->Header Search Paths

**Xcode 7.x**

添加`$(OBJROOT)/UninstalledProducts/$(PLATFORM_NAME)/include`到 BuildSettings->Header Search Paths

1.双击，你可以添加这个。

2.将 $(OBJROOT)/UninstalledProducts/include 更改为`$(OBJROOT)/UninstalledProducts/$(PLATFORM_NAME)/include`

# windows - 如何在 Windows 上通过 Python 以编程方式为 CMake 配置编译器？

> ID：15804525
> 
> 赞同：2
> 
> 时间：2013-04-04T06:59:11.707
> 
> 标签：windows, cmake, icc

我有一个 python 构建脚本，用于构建许多通过 Windows 上的 CMake 配置的项目。以前，我们使用MSVC来构建这些项目，一切都很好。我现在想尝试通过这些 python 脚本将 ICC 合并到构建中。如有必要，我可以直接在 UI 中选择本机编译器，但我宁愿以编程方式完成所有操作。

问题是，它因语法错误而失败，或者只是不注意 cmake 选项。

我可以设置：

```
"CMAKE_CXX_COMPILER:PATH":"C:/Program Files (x86)/Intel/Composer XE 2013/bin/intel64/icl.exe",
"CMAKE_C_COMPILER:PATH":"C:/Program Files (x86)/Intel/Composer XE 2013/bin/intel64/icl.exe" 
```

这是一个`cmakeItems`数组的一部分，然后输入到一代中：

```
generate(x86Generator, cmakeItems, osName, buildTarget) 
```

其中其他选项通过命令行开关（for`x86generator`和`buildTarget`）或默认设置（即，`osName`在脚本本身中检测到）。

在尝试任何事情之前，我从我运行过的命令行提示符运行它

```
iclvars intel64 
```

在 icc bin 目录中以确保所有 icc 变量都已正确配置，我可以`icl`在命令行上键入并确认它在路径中。

运行上述意味着 C 编译器仍然是默认的 msvc 编译器。

我也试过运行：

```
set(CMAKE_C_COMPILER_INIT icl)
set(CMAKE_CXX_COMPILER_INIT icl) 
```

但这给了我 icl 部分的语法错误。我认为这可能是一个路径问题，但是这样做：

```
set(CMAKE_C_COMPILER_INIT "C:\Program Files (x86)\Intel\Composer XE 2013\bin\intel64\icl")
set(CMAKE_CXX_COMPILER_INIT "C:\Program Files (x86)\Intel\Composer XE 2013\bin\intel64\icl") 
```

也给了我一个语法错误。

那么如何通过调用 cmake 的 python 脚本以编程方式设置 C/CXX 编译器呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T15:52:13.403

在命令行上，您可以通过环境变量`CC`和`CXX`. 我猜您需要正确准备 cmake 命令的环境，并且您不应该更改 CMakeLists.txt 内部结构。

例如

```
import subprocess
subprocess.Popen('CC=%s CXX=%s cmake ../path/to/src' %('icc','icpc')) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T19:12:06.473

答案是：

ICC 不适用于 Windows 上的 CMake，所以不要打扰。

[http://www.cmake.org/Bug/view.php?id=6929](http://www.cmake.org/Bug/view.php?id=6929)

最好用某种形式的 Visual Studio 编译器运行它，然后用 icprojconverter 搞乱：

[http://software.intel.com/en-us/articles/ICProjConvert100](http://software.intel.com/en-us/articles/ICProjConvert100)

# android - 触摸动作监听器上的多个图像视图

> ID：15804529
> 
> 赞同：0
> 
> 时间：2013-04-04T06:59:18.520
> 
> 标签：android, imageview, move, ontouchlistener

我在同一个活动中有 4 个视图。我想在整个屏幕上移动每个 Imageview 触摸，但它允许我移动它的宽度高度。

每个图像视图的布局高度和宽度都是 wrap_content。

它适用于一个带有 fill_parent 的图像视图。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-11T12:20:41.330

它在[这个](http://blahti.wordpress.com/2011/01/17/moving-views-part-2/)例子中解释。

# java - 生成随机数的更好方法

> ID：15804537
> 
> 赞同：0
> 
> 时间：2013-04-04T06:59:58.740
> 
> 标签：java, loops, random, integer

一些随机数生成，想知道我是否可以使用循环来生成所有这些数字，而不是写出所有整数。还有比这更好的方法吗？我可以把它保持原样吗？

```
 public static int rx1 = 0+(int)(Math.random()*760);
public static int ry1 = 0+(int)(Math.random()*555);
public static int rx2 = 0+(int)(Math.random()*760);
public static int ry2 = 0+(int)(Math.random()*555);
public static int rx3 = 0+(int)(Math.random()*760);
public static int ry3 = 0+(int)(Math.random()*555);
public static int rx4 = 0+(int)(Math.random()*760);
public static int ry4 = 0+(int)(Math.random()*555);
public static int rx5 = 0+(int)(Math.random()*760);
public static int ry5 = 0+(int)(Math.random()*555);
public static int rx6 = 0+(int)(Math.random()*760);
public static int ry6 = 0+(int)(Math.random()*555);
public static int rx7 = 0+(int)(Math.random()*760);
public static int ry7 = 0+(int)(Math.random()*555);
public static int rx8 = 0+(int)(Math.random()*760);
public static int ry8 = 0+(int)(Math.random()*555);
public static int rx9 = 0+(int)(Math.random()*760);
public static int ry9 = 0+(int)(Math.random()*555);
public static int rx10 = 0+(int)(Math.random()*760);
public static int ry10 = 0+(int)(Math.random()*555);
public static int rx11 = 0+(int)(Math.random()*760);
public static int ry11 = 0+(int)(Math.random()*555);
public static int rx12 = 0+(int)(Math.random()*760);
public static int ry12 = 0+(int)(Math.random()*555);
public static int ry13 = 0+(int)(Math.random()*555);
public static int rx13 = 0+(int)(Math.random()*760);
public static int rx14 = 0+(int)(Math.random()*555);
public static int ry14 = 0+(int)(Math.random()*555);
public static int rx15 = 0+(int)(Math.random()*760);
public static int ry15 = 0+(int)(Math.random()*555);

public static int rx16 = 0+(int)(Math.random()*760);
public static int ry16 = 0+(int)(Math.random()*555);
public static int rx17 = 0+(int)(Math.random()*760);
public static int ry17 = 0+(int)(Math.random()*555);
public static int rx18 = 0+(int)(Math.random()*760);
public static int ry18 = 0+(int)(Math.random()*555);
public static int rx19 = 0+(int)(Math.random()*760);
public static int ry19 = 0+(int)(Math.random()*555);
public static int rx20 = 0+(int)(Math.random()*760);
public static int ry21 = 0+(int)(Math.random()*555);
public static int rx21 = 0+(int)(Math.random()*760);
public static int ry22 = 0+(int)(Math.random()*555);
public static int rx22 = 0+(int)(Math.random()*760);
public static int ry23 = 0+(int)(Math.random()*555);
public static int rx23 = 0+(int)(Math.random()*760);
public static int ry24 = 0+(int)(Math.random()*555);
public static int rx24 = 0+(int)(Math.random()*760);
public static int ry25 = 0+(int)(Math.random()*555);
public static int rx25 = 0+(int)(Math.random()*760);
public static int ry26 = 0+(int)(Math.random()*555);
public static int rx27 = 0+(int)(Math.random()*760);
public static int ry28 = 0+(int)(Math.random()*555);
public static int rx28 = 0+(int)(Math.random()*760);
public static int ry29 = 0+(int)(Math.random()*555);
public static int ry30 = 0+(int)(Math.random()*555);
public static int rx30 = 0+(int)(Math.random()*760);
public static int rx31 = 0+(int)(Math.random()*555);
public static int ry31 = 0+(int)(Math.random()*555);
public static int rx32 = 0+(int)(Math.random()*760);
public static int ry32 = 0+(int)(Math.random()*555); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T07:03:52.620

只需将它们放在两个数组中：

```
public static int[] x = new int[32];
public static int[] y = new int[32];

for(int i = 0; i < 32; i++)
{
    x[i] = (int)(Math.random()*760);
    y[i] = (int)(Math.random()*555);
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:08:13.623

你可以使用一个数组来做同样的事情。这是示例程序

```
package com.stackoverflow.test;

public class RandomCheck {

    public static void main(String args[]) {

        int[] tempArray = new int[64];

        for (int i = 0; i < 64; i++) {
            if (i % 2 == 0)
                tempArray[i] = (int) (Math.random() * 760);
            else
                tempArray[i] = (int) (Math.random() * 555);
        }

        for (int i = 0; i < 64; i++) {
            System.out.print(tempArray[i] + " , ");
        }

    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:09:30.353

这将是一种方法：

```
public static final int RX_SIZE = 32;
public static final int RY_SIZE = 32;
public static int rx[] = new int[RX_SIZE];
public static int ry[] = new int[RY_SIZE];

static {
    for(int i = 0; i < RX_SIZE; i++) {
        rx[i] = 0+(int)(Math.random()*760);
    }
    for(int i = 0; i < RY_SIZE; i++) {
        ry[i] = 0+(int)(Math.random()*555);
    }
} 
```

但是，这将取决于您的具体需求。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T13:46:53.827

我们可以简单地使用 java 的 random() 并这样做：

公共静态 int[] x = new int[32];

公共静态 int[] y = new int[32];

for(int i = 0; i < 32; i++)

{

x[i] = (int)(Math.random()*760);

```
y[i] = (int)(Math.random()*555); 
```

}

有关 Math.random() 的更多信息，可以点击链接[http://www.w3schools.com/jsref/jsref_random.asp](http://www.w3schools.com/jsref/jsref_random.asp) [http://msdn.microsoft.com/en-us/library/ie/41336409(v =vs.94).aspx](http://msdn.microsoft.com/en-us/library/ie/41336409(v=vs.94).aspx)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-04T08:42:01.110

[您可以按照此处](http://commons.apache.org/proper/commons-math/userguide/random.html)所述使用 Commons Math

例如，以下将生成 50 个介于 1 和 1,000,000 之间的长整数的随机序列，使用当前时间（以毫秒为单位）作为 JDK PRNG 的种子：

```
RandomData randomData = new RandomDataImpl(); 
for (int i = 0; i < 1000; i++) {
    value = randomData.nextLong(1, 1000000);
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-04-04T07:05:34.270

您可以将`for(;;)`循环与`ArrayList`. 如果您想要固定数量的这些数字，这个问题并不清楚。

```
import java.util.ArrayList;
import java.lang.Math;
public class Main{

    public static void main(String args[]){
        int n = 32; // No of random numbers requried for x and y
        ArrayList<Integer> randomNumbersListX = new ArrayList<Integer>();
        ArrayList<Integer> randomNumbersListY = new ArrayList<Integer>();
        for(int i=1; i<=n ; i++){
             randomNumbersListX.add((int)(Math.random()*760));
             randomNumbersListY.add((int)(Math.random()*555));
        }
         for(int i=0; i<randomNumbersListX.size() ; i++){
            System.out.println("rx"+(i+1)+" "+randomNumbersListX.get(i));
            System.out.println("ry"+(i+1)+" "+randomNumbersListY.get(i));
        }
    }
} 
```

为了让变量乘以 1000 而不是 1000，您可以使用另一个`Math.random()`乘以 1000。`randomNumbersList.add((int)Math.random()*math.random()*1000);`解决方案也是如此。

请看一下这个[Ideone 片段](http://ideone.com/9jlf78)

# java - JasperReports：将报告导出到 Excel 时文件名不正确

> ID：15804542
> 
> 赞同：0
> 
> 时间：2013-04-04T07:00:37.410
> 
> 标签：java, jasper-reports, export-to-excel

我正在尝试以 excel (xls) 格式导出报告，并在打开/保存对话框的帮助下提供从浏览器下载文件的选项。

当文件下载框弹出时，文件名不正确。文件名作为 URL

下面是我的代码：

```
JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReportMCQ, params, datasource);

JRXlsExporter jasperXlsExportMgr = new JRXlsExporter();

ByteArrayOutputStream xlsReport = new ByteArrayOutputStream();
jasperXlsExportMgr.setParameter(JRExporterParameter.JASPER_PRINT, jasperPrint);
jasperXlsExportMgr.setParameter(JRXlsExporterParameter.IS_ONE_PAGE_PER_SHEET, Boolean.TRUE);
jasperXlsExportMgr.setParameter(JRXlsExporterParameter.IS_DETECT_CELL_TYPE, java.lang.Boolean.FALSE);
jasperXlsExportMgr.setParameter(JRXlsExporterParameter.IS_WHITE_PAGE_BACKGROUND, java.lang.Boolean.FALSE);
jasperXlsExportMgr.setParameter(JRXlsExporterParameter.IS_REMOVE_EMPTY_SPACE_BETWEEN_ROWS, java.lang.Boolean.TRUE);
jasperXlsExportMgr.setParameter(JRXlsExporterParameter.IS_REMOVE_EMPTY_SPACE_BETWEEN_COLUMNS, java.lang.Boolean.TRUE);
jasperXlsExportMgr.setParameter(JRXlsExporterParameter.IS_COLLAPSE_ROW_SPAN, java.lang.Boolean.TRUE);
jasperXlsExportMgr.setParameter(JRXlsExporterParameter.IS_IGNORE_CELL_BORDER, java.lang.Boolean.FALSE);
jasperXlsExportMgr.setParameter(JRXlsExporterParameter.CREATE_CUSTOM_PALETTE, java.lang.Boolean.TRUE);
jasperXlsExportMgr.setParameter(JRExporterParameter.OUTPUT_STREAM, xlsReport);
jasperXlsExportMgr.exportReport();
bytes = xlsReport.toByteArray();
getResponse().setHeader("Content-disposition", "attachment; filename=\"report.xls\"");
getResponse().setContentType("application/vnd.ms-excel");
getResponse().setContentLength(bytes.length);
if (bytes.length > 0) {
    servletOutputStream.write(bytes, 0, bytes.length);
    servletOutputStream.flush();
    servletOutputStream.close();
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:07:11.893

试试这个参数：

jasperXlsExportMgr.setParameter(JRExporterParameter.OUTPUT_FILE_NAME, "MyFile");

来自 Jasper 文档：

static JRExporterParameter OUTPUT_FILE_NAME：导出报告的文件名。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:33:01.150

试试这个代码：

```
String dir = "C:/myproject/";
Connection kns = BukaKoneksi(url);   
HashMap hm = new HashMap(); 
String name = dir+"file/_.xls"";
String nfl = dir+"file/__.xls"; 
String fjas = "a.jasper";   
String nname = "a.xls";

//jasper
JasperPrint print = JasperFillManager.fillReport(dir+"jasper/"+fjas, hm, kns);
JRXlsExporter exporter = new JRXlsExporter();
ByteArrayOutputStream xlsReport = new ByteArrayOutputStream();  
exporter.setParameter(JRExporterParameter.JASPER_PRINT, print);
exporter.setParameter(JRExporterParameter.OUTPUT_STREAM, xlsReport);
exporter.setParameter(JRExporterParameter.OUTPUT_FILE, fname);
exporter.setParameter(JRExporterParameter.OUTPUT_FILE_NAME, nfl);
exporter.exportReport();    

//download file
byte bytes[] = xlsReport.toByteArray(); 
response.setContentType("application/vnd.ms-excel");
response.setHeader("Content-Disposition", "attachment; filename="+nname); 
response.setContentLength(bytes.length);
xlsReport.close();
OutputStream ouputStream = response.getOutputStream();
ouputStream.write(bytes, 0, bytes.length);
ouputStream.flush();
ouputStream.close(); 
```

# php - TCPFT字体问题

> ID：15804544
> 
> 赞同：0
> 
> 时间：2013-04-04T07:00:39.933
> 
> 标签：php, tcpdf

是否可以在`TCPDF`生成的`PDF`=>中有波兰语字母`ążźśćłó`？我使用了在名为

的库中工作的字体，但没有结果：`FPDF``arial_ce`

```
$fontname = $pdf->addTTFfont('tcpdf/tcpdf/fonts/arial_ce.ttf', 'TrueType', '', 96);

$pdf->SetFont($fontname, '', 14, '', true); 
```

同样的结果是使用`DejaVuSansCondensed`字体。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T06:14:32.703

从您的 TCPDF 字体文件夹中删除 arial_ce.z、arial_ce.ctg.z 和 arial_ce.php 文件，然后更改

```
$fontname = $pdf->addTTFfont('tcpdf/tcpdf/fonts/arial_ce.ttf', 'TrueType', '', 96); 
```

对此：

```
$fontname = $pdf->addTTFfont('tcpdf/tcpdf/fonts/arial_ce.ttf'); 
```

（addTTffont 不会覆盖已经存在的字体，即使您更改了参数，这就是我提到删除已经创建的字体的原因。）

默认值更适合这种字体。完成此操作后，我能够在 TCPDF 制作的 PDF 中使用波兰语字符。

编辑：哦，当然，TCPDF 应该使用与您的源字符串相同的字符集。在我的情况下，这将是 UTF-8。

# php - 如果我在选择框中选择一个选项，它必须填充另一个文本框

> ID：15804545
> 
> 赞同：0
> 
> 时间：2013-04-04T07:00:41.167
> 
> 标签：php, mysqli

如果我选择一顿饭，价格不在文本框中。我想要的是，如果我在选择框中选择 texbox 自动填充价格的选项。

```
<!DOCTYPE html>
<?php
include ("connection.php");
?>
<html>
<head>
<link rel="stylesheet" type="text/css" href="test.css">
<meta charset="utf-8">
<title>Kantine</title>
</head>
<body>
<div id="container">
<div id="logo"></div>
<div id="header">
<h1> Change or Delete meals</h1>
</div>
<div id="menu"></div>
<div id="content">    
<?php
echo '<select name="Meals">';
$result = mysqli_query($con,"SELECT meal, price FROM meals") ;

while($row = $result->fetch_assoc())
  {
  echo "<option value=\""."\">" . $row['meal']."</option>\n";
  echo "<br />";
  }
  echo '</select>'; 
  echo '<input type="text" value="' . $row['price'] . '"/>';  
mysqli_close($con);
?>    
</div>
<div id="footer"></div>
</div>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:02:40.800

PHP 不适合客户端脚本。您想要什么取决于浏览器端的用户选择，因此您需要 Javascript。如果该操作需要数据库连接，那么您可能希望使用 AJAX 连接到 PHP 脚本并获取查询结果。

看看[jQuery](http://jquery.com)框架，特别是它的[ajax 部分](http://api.jquery.com/jQuery.ajax/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:09:20.180

您是否尝试过在第一次回显中转义 "持续的。

```
<select name="Meals">
<?php
$result = mysqli_query($con,"SELECT meal, price FROM meals") ;

while($row = $result->fetch_assoc())
  {
      echo "<option value=\"". $row['meal'] . "\">" . $row['meal'] . "</option>";
  }

echo "<input type=\"text\" value=\"" . $row['price'] . "\"/>";  
mysqli_close($con);
?>   
</select> 
```

# oracle - pl/sql 表可以在主代码中没有 binary_ineteger 索引的情况下工作吗？

> ID：15804549
> 
> 赞同：-1
> 
> 时间：2013-04-04T07:01:07.617
> 
> 标签：oracle, plsql, plsqldeveloper

我正在尝试调试 pl/sql 上的代码，让我感到困惑的是，编码器没有提到任何索引方法，甚至没有“按 binary_integer 索引”，可以吗，pl 引擎如何索引表，如果是这样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:16:36.153

它完全有可能。您所描述的称为嵌套表。使用“索引”，这将成为关联数组（稀疏）表。

对于嵌套表，索引从 1 开始，并且对于其中的每个元素都会递增 1。

例如嵌套表类型：

```
SQL> declare
  2    type mytyp is table of number;
  3    v_t mytyp;
  4  begin
  5    v_t := mytyp (1,2,3,4);
  6    dbms_output.put_line(v_t(1));
  7    dbms_output.put_line(v_t(4));
  8  end;
  9  /
1
4 
```

在如何分配它们方面也存在其他差异。嵌套表从 1 开始，并且必须在分配给它们之前进行初始化

例如，这在嵌套表上失败：

```
SQL> declare
  2    type mytyp is table of number;
  3    v_t mytyp;
  4  begin
  5    v_t(1) := 1;
  6  end;
  7  /
declare
*
ERROR at line 1:
ORA-06531: Reference to uninitialized collection
ORA-06512: at line 5 
```

因为你必须初始化它+扩展它以拥有一个元素：

```
SQL> declare
  2    type mytyp is table of number;
  3    v_t mytyp;
  4  begin
  5    v_t := mytyp();
  6    v_t.extend;
  7    v_t(1) := 1;
  8  end;
  9  /

PL/SQL procedure successfully completed. 
```

如果您尝试像在关联数组中随意分配的那样随机分配下标，则它会失败，因为嵌套表不是稀疏填充的：

```
SQL> declare
  2    type mytyp is table of number;
  3    v_t mytyp;
  4  begin
  5    v_t := mytyp();
  6    v_t(2) := 1;
  7  end;
  8  /
declare
*
ERROR at line 1:
ORA-06533: Subscript beyond count
ORA-06512: at line 6 
```

# c#-4.0 - 为什么我将主键设置为文本（字符串）时无法检索数据

> ID：15804560
> 
> 赞同：1
> 
> 时间：2013-04-04T07:01:35.407
> 
> 标签：c#-4.0, ms-access-2007

```
namespace primarykeycheck
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
        }
        OleDbConnection myConn;
        OleDbCommand myComm;
        string queryString;

        public void connectDB()
        {
             myConn = new OleDbConnection(@"Provider=Microsoft.ACE.OLEDB.12.0;Data Source=D:\rummykhan\MCS\Spring 2013\Object Oriented Programming\My Apps\Testing\Database Apps\string as Primary key\primarykeycheck\db.accdb");
        }
        public string fetchName(string ID)
        {
           string Name;
           queryString = "select dbName from mydb where dbID =" + ID;
           myComm = new OleDbCommand(queryString, myConn);
           myConn.Open();
           Name = (string)(myComm.ExecuteScalar()).ToString();
           myConn.Close();
           return Name;
        }
        private void btn_fetch_Click(object sender, EventArgs e)
        {
           connectDB();
           txtName.Text = fetchName(txtID.Text);
        } 
```

当 id 数据类型为字符串时，我正在努力获取名称，bt 我面临这个问题“标准表达式中的数据类型不匹配”我也尝试过 Name = (string)myComm.ExecuteScalar();

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T11:02:13.747

你的陈述

```
queryString = "select dbName from mydb where dbID =" + ID; 
```

有两个问题：

1.  它不会`ID`在 SQL 命令中的值周围加上引号。

2.  它试图使用旧的和**非常不推荐**的方式来构建 SQL 命令。您真的应该研究“参数化查询”（Stack Overflow 上有*很多*示例）并熟悉对象的`.Parameters`属性`OleDbCommand`（参考：[here](http://msdn.microsoft.com/en-us/library/system.data.oledb.oledbcommand.parameters.aspx)）。

# ruby-on-rails - Rails 上的自定义错误消息未显示 - 默认显示“无效”

> ID：15804567
> 
> 赞同：1
> 
> 时间：2013-04-04T07:01:57.820
> 
> 标签：ruby-on-rails

在我的模型中，我有一个简单的验证，如下所示：

```
class Post
    validate :max_tag_limit, if: :tags

    private
    def max_tag_limit
        errors[:tags] << "You can only have maximum of 3 tags") if tags.count > 3
    end
end 
```

控制器将错误消息添加到闪存中，如下所示：

```
 if !@post.save
     content = "Something went wrong - "
     @post.errors.full_messages.each { |msg| content += "#{msg} : " }
     flash[:error] = content
  end 
```

我在 ApplicationHelper 模块中使用此辅助函数显示错误消息：

```
 def flash_display
    response = ""
    flash.each do |name, msg|
      response = response + content_tag(:div, msg, :id => "flash_#{name}")
    end
    flash.discard
    response
  end 
```

我通过js插入消息，如下所示：

```
// add the flash message
$('#flash').html("<%= escape_javascript raw(flash_display) %>"); 
```

但是我一生都无法理解为什么 Rails 拒绝显示我的自定义错误消息：“您最多只能有 3 个标签”。相反，它显示了相当冷酷的不人道信息：“标签无效：”。

我做错了什么？帮助！

编辑：调试揭示了更多信息，希望能缩小我的问题。

```
 @post.errors.full_messages 
```

这仅包含我的每个标签的“无效”消息。我想这意味着我在模型中添加的消息显然没有被拾取（或存储在错误的位置）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T12:02:30.680

似乎你应该使用[`errors[:base]`](http://guides.rubyonrails.org/active_record_validations_callbacks.html#errors-base)而不是`errors[:tags]`：

```
class Post
  validate :max_tag_limit, if: :tags

  private

  def max_tag_limit
    errors[:base] << "You can only have maximum of 3 tags" if tags.count > 3
  end
end 
```

如果你不重定向，你不应该使用闪光灯。

# android - 过滤特定的触摸事件

> ID：15804573
> 
> 赞同：0
> 
> 时间：2013-04-04T07:02:13.860
> 
> 标签：android, touch

服务是否可以拦截所有其他应用程序的所有触摸事件并禁用特定的触摸事件传播，就像我们在 sms 广播接收器中所做的那样？

# jquery - 在显示/隐藏 div 时添加 + 和 - 号

> ID：15804574
> 
> 赞同：1
> 
> 时间：2013-04-04T07:02:14.110
> 
> 标签：jquery

我使用下面的 jQuery 来显示/隐藏一个 div。我需要在其中添加一个“+”和“-”符号。有人请告诉我如何添加它

```
function toggleWidgets() {
    $('#secondary h3.widget-title').addClass('plus');

    $('#secondary h3.widget-title').click(function() {

        $(this).toggleClass('plus').toggleClass('minus').next().toggle(180);
    });
}
$(document).ready(function() {
    toggleWidgets();
}); 
```

这是HTML

```
<div id="secondary" class="widget-area" role="complementary">
<aside id="welt_last_tweets-2" class="widget widget_welt_last_tweets">
    <h3 class="widget-title"></h3>
    <div id="welt-welt_last_tweets-2" class="welt-tweet-wrapper">

    </div>
</aside>        
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:07:41.527

如果我是你，我只会切换一门课。

```
$('.plus').click(function() {
    $(this).toggleClass('minus');
}); 
```

并且在你的css中添加一个加号图像作为标准的标题，然后当它也有减号类时将它换成一个减号图像。就像是：

```
.plus {
    background: url('images/plus.gif') left center no-repeat;
}
.plus.minus {
    background: url('images/minus.gif') left center no-repeat;
} 
```

那有意义吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:10:26.123

这个怎么样？

```
 function toggleWidgets() {  
        $('#secondary h3.widget-title').click(function() {
            if($(this).is('.plus')) 
              $(this).switchClass('plus', 'minus');   
            else
              $(this).switchClass('minus', 'plus');   
        });
    } 
```

# autohotkey - 自动热键 GUI。如何拥有多个具有相同名称的控件

> ID：15804575
> 
> 赞同：-3
> 
> 时间：2013-04-04T07:02:19.807
> 
> 标签：autohotkey

是否可以在自动热键的 gui 中有多个控件具有相同的名称。就像在 GUI 中一样，我有两个名为 Browse 的按钮。我怎么做。

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T13:15:51.807

[您可以使用g-label](http://l.autohotkey.net/docs/commands/Gui.htm#Events)为控件定义自定义操作。这是一个示例，其中两个浏览按钮具有不同的操作。

```
Gui, Add, Button, gFirstBrowse, Browse
Gui, Add, Button, gSecondBrowse, Browse
Gui, Show
return

FirstBrowse:
MsgBox % "You pressed the first browse button!"
return

SecondBrowse:
MsgBox % "You pressed the second browse button!"
return 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:10:10.020

只需重复同名但坐标不同的添加按钮

```
Gui, Add, Button, x10  y275 w45 h20, Paste
Gui, Add, Button, x60  y275 w45 h20, Paste 
```

将显示两个相似的按钮，它们都会触发相同的标签`ButtonPaste:`

如果您想要两个具有相同文本但行为不同的按钮，您可以尝试使用鼠标坐标来决定实际行为。

```
ButtonPaste:
MouseGetPos, By, Bx
If By between 10 and 55
{
    ;Clicked Paste Button 1
}
Else
{
    ;Clicked Paste Button 2
} 
```

# java - 将帧大小与其对象大小绑定

> ID：15804581
> 
> 赞同：0
> 
> 时间：2013-04-04T07:02:37.600
> 
> 标签：java, swing, resize, jframe

如何更改下面的代码，改变框架大小后，框架上其他对象的大小也以相同的比例变化？

```
package application;

import javax.swing.*;
import java.awt.*;

public class Program extends JFrame {

    private GroupLayout layout;
    private GroupLayout.Group groupX;
    private GroupLayout.Group groupY;

    public Program() {
        initialize();
    }

    private void initialize() {
        this.layout = new GroupLayout(this.getContentPane());
        this.groupX = this.layout.createParallelGroup(GroupLayout.Alignment.LEADING);
        this.groupY = this.layout.createParallelGroup(GroupLayout.Alignment.LEADING);
    }

    public void addComponent(Component component, int x, int y) {

        getContentPane().setLayout(layout);

        groupX.addGroup(layout.createSequentialGroup()
                .addGap(x, x, x)
                .addComponent(component, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE));

        groupY.addGroup(layout.createSequentialGroup()
                .addGap(y, y, y)
                .addComponent(component, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE));    
        layout.setHorizontalGroup(groupX);
        layout.setVerticalGroup(groupY);
    }

    public static void main(String[] args) {
        Program jf = new Program();
        jf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        jf.setBounds(new Rectangle(0, 0, 250, 100));
        JButton p = new JButton("Click!!");
        jf.addComponent(p, 86, 20);
        jf.setVisible(true);
    }
} 
```

如何更改下面的代码，改变框架大小后，框架上其他对象的大小也以相同的比例变化？

![在此处输入图像描述](https://i.stack.imgur.com/CMRTU.jpg)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:05:41.317

我只想说，我不喜欢`GroupLayout`，但这就是我：D

![在此处输入图像描述](https://i.stack.imgur.com/mFZj7.png)![在此处输入图像描述](https://i.stack.imgur.com/IcR1K.png)

```
jButton1 = new javax.swing.JButton();

jButton1.setText("jButton1");

javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
this.setLayout(layout);
layout.setHorizontalGroup(
  layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
  .addGroup(layout.createSequentialGroup()
    .addGap(152, 152, 152)
    .addComponent(jButton1, javax.swing.GroupLayout.DEFAULT_SIZE, 143, Short.MAX_VALUE)
    .addGap(175, 175, 175))
);
layout.setVerticalGroup(
  layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
  .addGroup(layout.createSequentialGroup()
    .addGap(137, 137, 137)
    .addComponent(jButton1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
    .addGap(94, 94, 94))
); 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-04T07:20:27.023

```
Try using GridBagLayout which is easier.

private void initialize() {
    getContentPane().setLayout(new GridBagLayout());
    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    setBounds(new Rectangle(0, 0, 250, 100));
    JButton p = new JButton("Click!!");
    add(p, new GridBagConstraints(0, 0, 1, 1, 0.5, 0.5,
            GridBagConstraints.NORTHWEST, GridBagConstraints.BOTH,
            new Insets(5, 5, 5, 5), 0, 0));
    setVisible(true);
} 
```

# servicestack - 每个请求的 Servicestack 身份验证过程

> ID：15804582
> 
> 赞同：2
> 
> 时间：2013-04-04T07:02:38.087
> 
> 标签：servicestack

我已经阅读了提供的大部分文档和示例，但我正在从其他用户那里为我的设置寻找一些输入。

我有一些客户端（网站、iOs/Android 应用程序）。这些仅用作架子，其内容将通过 servicestack 请求，这使 servicestack 成为我设置的中心点。客户端将通过 servicestack 登录并获得一个 sessionid。

我的问题是，我应该如何设置 servicestack 以确保用户在每个请求上都得到验证？

我在考虑登录后，我将用户保存在缓存中并确保它在一段时间后过期（除非持久化）。然后在基于会话 ID 的每个请求上，我检查缓存以查看用户是否存在。如果用户存在，则我对请求进行了身份验证，如果不存在，则用户必须再次登录。

我在正确的轨道上，还是在 servicestack 中有更简单的方法来支持这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-07T04:04:47.143

**我在考虑登录后，我将用户保存在缓存中并确保它在一段时间后过期（除非持久化）。**

听起来您可以只使用[身份验证/授权](https://github.com/ServiceStack/ServiceStack/wiki/Authentication-and-authorization)插件。 一旦用户通过身份验证（使用任何“提供者”），用户的会话就会使用键“urn:iauthsession:[sessionId]”存储在[缓存中，并包含一个布尔属性 isAuthenticated。](https://github.com/ServiceStack/ServiceStack/wiki/Caching)对于任何需要身份验证的服务，您可以使用[Authenticate 属性](https://github.com/ServiceStack/ServiceStack/wiki/Authentication-and-authorization#the-authenticate-attribute)。

# c++ - 指向基类成员函数的指针错误

> ID：15804586
> 
> 赞同：2
> 
> 时间：2013-04-04T07:03:01.837
> 
> 标签：c++, pointers, function-pointers, member-function-pointers

有人可以帮我确定我哪里出错了吗？我正在尝试使用指向基类函数的函数指针

错误 C2064：术语不计算为在第 30 行上采用 0 个参数的函数，即 *(app)()

```
#include<stdio.h>
#include<conio.h>
#include<stdarg.h>
#include<typeinfo>

using namespace std;

class A{
public:
    int a(){
        printf("A");
        return 0;
    }
};

class B : public A{
public:
    int b(){
        printf("B");
        return 0;
    }
};

class C : public B{
public:
    int(C::*app)();
    int c(){
        app =&C::a;
        printf("%s",typeid(app).name());
        *(app)();
        printf("C");
        return 0;
    }
};
int main(){
    C *obj = new C();
    obj->c();
    getch();
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T07:10:15.143

调用成员函数的指针时必须使用 .* 或 ->*

```
 class C : public B{
    public:
        int(C::*app)();
        int c(){
            app =&C::a;
            printf("%s",typeid(app).name());
            (this->*app)(); // use ->* operator within ()
            printf("C");
            return 0;
        }
    }; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T07:07:21.027

指向成员的指针必须始终与指向对象的指针/引用结合使用。你可能打算这样写：

```
(this->*app)(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T07:18:14.660

[http://msdn.microsoft.com/en-us/library/k8336763.aspx](http://msdn.microsoft.com/en-us/library/k8336763.aspx)

> 二元运算符 –>* 将其第一个操作数（必须是指向类类型对象的指针）与其第二个操作数（必须是指向成员类型的指针）组合在一起。

所以这将解决你的问题：

```
class C : public B {
    public:
        int(C::*app)();

        int c() {
            app = &C::a;
            printf("%s", typeid(app).name());
            (this->*app)();
            printf("C");
            return 0;
        }
}; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T07:12:21.317

我有一种预感，您真正想要解决的问题是“如何从派生类调用基类函数？” 如果是这样的话，答案是：

```
int c(){
    app =&C::a;
    printf("%s",typeid(app).name());
    A::a(); //A:: scopes the function that's being called
    printf("C");
    return 0;
} 
```

或者

```
int c(){
    app =&C::a;
    printf("%s",typeid(app).name());
    this->a();
    printf("C");
    return 0;
} 
```

# java - Java 8 M7 - 何时何地？

> ID：15804589
> 
> 赞同：0
> 
> 时间：2013-04-04T07:03:10.337
> 
> 标签：java, java-8, nashorn

有谁知道 Java 8 的 M7（开发者预览版）何时何地登陆？

我在看这里：

[http://openjdk.java.net/projects/jdk8/milestones](http://openjdk.java.net/projects/jdk8/milestones)

[http://jdk8.java.net/download.html](http://jdk8.java.net/download.html)

我读过：

[http://mail.openjdk.java.net/pipermail/jdk8-dev/2013-February/002066.html](http://mail.openjdk.java.net/pipermail/jdk8-dev/2013-February/002066.html)

但这一切都像泥巴一样清晰。我追求的是 Nashorn（我很懒，所以不想从源代码编译）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:09:14.937

如果您查看[build 82 更新日志](http://download.java.net/jdk8/changes/jdk8-b82.html)，它应该在来自[http://jdk8.java.net/download.html的每周构建中](http://jdk8.java.net/download.html)

**编辑**

Nashorn 也出现在[build 83 更新日志中](http://download.java.net/jdk8/changes/jdk8-b83.html)

# java - 将 Java6 与应用程序一起移植

> ID：15804591
> 
> 赞同：0
> 
> 时间：2013-04-04T07:03:17.057
> 
> 标签：java, macos

我有一个适用于 Mac 的 Java 桌面应用程序，我们正在将 Java 与应用程序一起移植。问题是我们使用的 Java 是严格的`Java6`而不是严格的`Java7`（因为 Java7 没有`-d32`模式）。

于是我从苹果开发者[网站上](http://support.apple.com/kb/DL1572)下载了Java6 jdk，并捆绑在了包中。这一切都运作良好。但是当我尝试在其他 Mac 上运行时，它会引发以下错误：

```
/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/bin
$ ./java -version
dyld: Library not loaded: @rpath/libjli.jnilib
Referenced from: /Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/bin/./java
Reason: image not found
Trace/BPT trap: 5 
```

按照[这个](https://stackoverflow.com/questions/13309856/java-6-on-mac-os-x-10-7-5)`/Library/Java/JavaVirtualMachines/`，它尝试在我移植的文件夹中而不是在我移植的文件夹中搜索相应的目录。我该如何解决这个问题？

我应该如何将 Java6 与应用程序一起移植。

其次，`Java6`我使用的是jdk，因为我找不到Java6的Jre。如果有人可以提供或分享 Jre6，将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T15:13:09.440

Apple 许可是否允许他们的 JRE 与第三方应用程序一起重新分发？

我认为你让事情变得比他们需要的更难。如果用户没有安装 Java 6（可能在 OS X 10.7 和 10.8 中），Mac OS 会在 Java 应用程序第一次尝试运行时自动提示用户下载并安装它。安装后，它将自动继续启动您的应用程序。

只需确保为 Java 6（例如，使用旧的 Mac Jar Bundler 应用程序或手动创建等效的 Info.plist）而不是 Java 7（例如，使用新的 Oracle appbundler.jar）捆绑您的应用程序。

# jquery - 如何计算平板电脑和 iPhone 的设备高度并将内容固定在其底部

> ID：15804592
> 
> 赞同：0
> 
> 时间：2013-04-04T07:03:17.290
> 
> 标签：jquery, css, media-queries, tablet

我可以计算所有平板电脑和 ipad 设备的设备宽度和高度，并将内容固定在其底部。

这可能与 jquery 或其他技术

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T18:03:18.963

固定是定位在 android 浏览器上只是部分支持。您需要使用 JavaScript 修复元素

也许这可以帮助你[http://bradfrostweb.com/blog/mobile/fixed-position/](http://bradfrostweb.com/blog/mobile/fixed-position/)

# android - 如何控制取消“喜欢”的帖子？

> ID：15804596
> 
> 赞同：0
> 
> 时间：2013-04-04T07:03:30.543
> 
> 标签：android, facebook, android-facebook

在使用 android-facebook api 时，

我有一个问题！

简而言之，

如何控制取消“喜欢”的帖子？

# javascript - 遍历json结果并按数字顺序排序

> ID：15804599
> 
> 赞同：0
> 
> 时间：2013-04-04T07:03:34.870
> 
> 标签：javascript, jquery

这是我的json：

```
{"event": { 
"items": [
            {"position": "2", "name": "John Doe 1"},
            {"position" : "1", "name": "John Doe 2"},
            {"position": "3", "name": "John Does 3"}
            ]
        } 
```

这是我在读取 json 结果后循环遍历结果的方式：

```
$.each(data.event.items, function(val) {
 $('#list').append('<li>'+data.event.items[val].name+'</li>');
}); 
```

现在的顺序是：John Doe 1，John Doe 2，John Doe 3。我想循环它们并按照给定位置的顺序显示它们。所以正确的顺序是 John Doe 2、John Doe 1、John Doe 3。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-04T07:06:14.550

您可以在构建显示之前对项目进行排序：

```
data.event.items.sort(function(a,b) {
   return a.position-b.position;        
}); 
```

[演示](http://jsbin.com/omigil/1/edit)（点击“用JS运行”）

请注意，您的问题中没有[JSON](http://www.json.org/)`data` ，它是一个普通的 JavaScript 对象。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-04-04T07:06:36.650

您需要先对项目进行排序：

```
data.event.items.sort(function(item_a, item_b) {
    return item_a.position - item_b.position;
}); 
```

# jquery - 使用输入字段时如何防止刷新

> ID：15804604
> 
> 赞同：0
> 
> 时间：2013-04-04T07:03:44.853
> 
> 标签：jquery

我在 jquery 中使用了以下函数来刷新 div，但它每 10 秒刷新一次，当我在该 div 中写入任何内容时也会刷新。那么，任何人都可以给我解决方案吗

```
setTimeout(function () {
   $('.div').load('url');
}, 1000); // refresh every 1000 milliseconds 
```

jquery 中的函数，但是在输入字段中编写任何想法时出现问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:09:58.240

编辑：啊我刚看到你的编辑。我不太明白你的问题。我这是你的问题吗？[http://board.phpbuilder.com/showthread.php?10305727-Keep-form-input-after-a-refresh-reload](http://board.phpbuilder.com/showthread.php?10305727-Keep-form-input-after-a-refresh-reload)

你最好使用 Jquery AJAX 来刷新你的 div。

在这个网站上你可以找到一个很好的教程。 [http://www.jquery4u.com/tutorials/auto-refresh-div-content-jquery-ajax/](http://www.jquery4u.com/tutorials/auto-refresh-div-content-jquery-ajax/)

这是一个工作演示： [http ://www.jquery4u.com/demos/auto-refresh-div-content/](http://www.jquery4u.com/demos/auto-refresh-div-content/)

一个例子：

```
<html>
<head>
<title>Auto Refresh Div Content Demo | jQuery4u</title>
<!-- For ease i'm just using a JQuery version hosted by JQuery- you can download any version and link to it locally -->
<script src="http://code.jquery.com/jquery-latest.js"></script>
<script>
(function($)
{
    $(document).ready(function()
    {
        $.ajaxSetup(
        {
            cache: false,
            beforeSend: function() {
                $('#content').hide();
                $('#loading').show();
            },
            complete: function() {
                $('#loading').hide();
                $('#content').show();
            },
            success: function() {
                $('#loading').hide();
                $('#content').show();
            }
        });
        var $container = $("#content");
        $container.load("rss-feed-data.php");
        var refreshId = setInterval(function()
        {
            $container.load('rss-feed-data.php');
        }, 9000);
    });
})(jQuery);
</script>
</head>
<body>

<div id="wrapper">
    <div id="content"></div>
    <img src="loading.gif" id="loading" alt="loading" style="display:none;" />
</div>

</body>
</html> 
```

希望能帮助到你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:13:10.477

iddin 你的代码你用 div 类刷新所有标签（.div 表示类名'div'）

你可以为你的 div 设置一个 id 并像这样使用它：

```
<div id="update-div"></div> 
```

接着：

```
setTimeout(function () {
   $('#update-div').load('url')}, 1000); // refresh every 1000 milliseconds
} 
```

# java - 从 java/jsf/primefaces 中的服务器访问客户端剪贴板

> ID：15804612
> 
> 赞同：0
> 
> 时间：2013-04-04T07:04:16.590
> 
> 标签：java, jsf, primefaces

问题描述：用户按下打印屏幕按钮，然后单击应用程序上的粘贴按钮。该图像将存储在服务器上。

我用谷歌搜索并在 Stack over 上找到答案并使用以下代码

```
public Image getImageFromClipboard()
{

Clipboard systemClipboard = (Clipboard) AccessController.doPrivileged(new PrivilegedAction() {
    public Object run() 
    {
        Clipboard tempClipboard = Toolkit.getDefaultToolkit().getSystemClipboard();
     return tempClipboard;
    }

});

// get the contents on the clipboard in a 
// Transferable object
Transferable clipboardContents = systemClipboard.getContents(null);

// check if contents are empty, if so, return null
if (clipboardContents == null)
    return null;
else
    try
    {
        // make sure content on clipboard is 
        // falls under a format supported by the 
        // imageFlavor Flavor
        if (clipboardContents.isDataFlavorSupported(DataFlavor.imageFlavor))
        {
            // convert the Transferable object
            // to an Image object
            Image image = (Image) clipboardContents.getTransferData(DataFlavor.imageFlavor);
            return image;
        }
    } catch (UnsupportedFlavorException ufe)
    {
        ufe.printStackTrace();
    } catch (IOException ioe)
    {
        ioe.printStackTrace();
    }
/*try {
Robot robot;

    robot = new Robot();

final GraphicsConfiguration config
    = GraphicsEnvironment.getLocalGraphicsEnvironment()
          .getDefaultScreenDevice().getDefaultConfiguration();
final BufferedImage screenshot = robot.createScreenCapture(config.getBounds());
return screenshot;
} catch (AWTException e) {
    // TODO Auto-generated catch block
    e.printStackTrace();
}*/
return null;
} 
```

如果应用程序正在我的机器上运行并且我按 Print Screen，则此代码运行良好。图像可用并存储。

我的问题是，当我在单独的服务器上部署此应用程序并在另一台机器上运行应用程序时。当用户按下打印屏幕然后单击应用程序中的按钮时。服务器找不到任何图像，因为它在剪贴板上查找，而在服务器剪贴板上没有可用的图像。图像在客户端桌面剪贴板上可用。

请帮助我使用 JSF/primefaces 从服务器访问客户端剪贴板。或其他替代方式。

我使用的是 primefaces 3.4，服务器是 weblogic 10.3.5。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:19:58.697

如果您的应用程序将在不同的浏览器上运行，您将找不到 100% 可靠的方法，除非您使用 Flash 等其他技术实现某些特定组件。

我真的会使用保存图像并通过普通文件上传表单将其上传到服务器的方法。否则，您将因浏览器安全问题而头疼。

问候

# ios - 与外部开发人员共享 iOS 企业分发证书是否安全？

> ID：15804617
> 
> 赞同：5
> 
> 时间：2013-04-04T07:04:29.640
> 
> 标签：ios, ipa, enterprise-distribution

我处于以下情况：我们有一个企业开发人员帐户，并且我们正在与外部开发人员合作的应用程序。

目前我们无法访问源代码，因此我们无法构建，但我们仍然需要每周构建可以安装在设备上的构建......因此外部开发人员需要能够构建 ipa 文件。

开发者现在是开发者计划的成员，并拥有自己的开发者证书。但是，只能有一个分发证书。

**从安全的角度来看，我们是否安全/推荐我们共享分发证书（和私钥）和配置文件以便他们可以构建 ipa 文件？**

还有其他（更安全的）选择吗？

PS：我还认为我们可以使用我们的分发证书退出 ipa，但它仍然使我们处于需要能够构建 ipa 的情况 - 这只有在安装分发证书 + 配置的情况下才有可能。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T07:07:46.717

您可以让您的外部开发人员使用他想要的任何内容进行签名，然后您可以重新签署 IPA 并使用它。这样，从开发人员的角度来看，源代码是“安全的”，您可以使用用您的证书签名的 IPA。我通常使用[它](https://github.com/maciekish/iReSign)，但您也可以在命令行中执行它...

至于你的*Post Scriptum*部分，那不是真的......我有与外部机构合作的经验，他们使用自己的证书和配置，当我收到他们的 IPA 时，我只需要重新签名。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-04T07:10:58.667

他们可以负责创建自己的配置文件，您只需将您的 p12 密钥发送给他们（没什么大不了的）。您也可以只给他们分发证书。

老实说，我从来没有遇到过雇主或承包商不愿给我他们的证书和 p12 文件的情况。所以我从来没有想太多！

# c# - 需要将javascript代码转换为c#

> ID：15804622
> 
> 赞同：0
> 
> 时间：2013-04-04T07:04:48.937
> 
> 标签：c#, javascript

我找到了一个压缩和解压缩字符串的 javascript 库。我正在用 C# 编写一个创建 javascript 的程序。在这个脚本中，所有的图像都需要转换为base64string然后压缩，这样当脚本执行解压函数时，解压然后显示图像。

compress 和 compress 函数都可以正常工作，但我需要压缩器的确切 c# 版本，以便 javascript 解压缩器可以解压缩它。这是图书馆：

```
 function lzw_encode(s) {
        var dict = {};
        var data = (s + "").split("");
        var out = [];
        var currChar;
        var phrase = data[0];
        var code = 256;
        for (var i = 1; i < data.length; i++) {
            currChar = data[i];
            if (dict[phrase + currChar] != null) {
                phrase += currChar;
            }
            else {
                out.push(phrase.length > 1 ? dict[phrase] : phrase.charCodeAt(0));
                dict[phrase + currChar] = code;
                code++;
                phrase = currChar;
            }
        }
        out.push(phrase.length > 1 ? dict[phrase] : phrase.charCodeAt(0));
        for (var i = 0; i < out.length; i++) {
            out[i] = String.fromCharCode(out[i]);
        }
        return out.join("");
    }

    // Decompress an LZW-encoded string
    function lzw_decode(s) {
        var dict = {};
        var data = (s + "").split("");
        var currChar = data[0];
        var oldPhrase = currChar;
        var out = [currChar];
        var code = 256;
        var phrase;
        for (var i = 1; i < data.length; i++) {
            var currCode = data[i].charCodeAt(0);
            if (currCode < 256) {
                phrase = data[i];
            }
            else {
                phrase = dict[currCode] ? dict[currCode] : (oldPhrase + currChar);
            }
            out.push(phrase);
            currChar = phrase.charAt(0);
            dict[code] = oldPhrase + currChar;
            code++;
            oldPhrase = phrase;
        }
        return out.join("");
    } 
```

任何人都可以帮助我将 lzw_encode 函数转换为 C# 吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T07:23:10.910

有一个名为 Sharp-LZW 的开源库，它在 C# 中提供 LZW 编码和解码。你可以在这里找到它：[https ://code.google.com/p/sharp-lzw/](https://code.google.com/p/sharp-lzw/)

# .net - 将多个参数传递给 VB.Net 的 CustomActionData

> ID：15804623
> 
> 赞同：0
> 
> 时间：2013-04-04T07:04:50.093
> 
> 标签：.net, vb.net

这是关于 VB.Net 中自定义操作的问题。

我需要传递两个密钥；自定义操作中的 [TARGETDIR] 和 [OriginalDatabase] 到 example.dll。

我搜索并发现通用语法为 /name1=value1 /name2=value2 等（即每个名称/值对应该用空格分隔。

`/InstallDir="[TARGETDIR]\"`对我有用，但是当我想传递两个参数时

`/InstallDir="[TARGETDIR]\" /SourceDir="[OriginalDatabase]\"`不管用。我发现了一个没有正确答案的类似请求。

如果我能知道在 CustomActionData 属性中将这两个值一起传递的方法，我将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:21:47.660

我认为您应该需要来自[MSDN](http://msdn.microsoft.com/en-us/library/vstudio/system.io.path.combine%28v=vs.100%29.aspx)的组合方法，[这里是问题](https://stackoverflow.com/questions/7999822/net-setup-project-how-to-pass-multiple-customactiondata-fields)

```
Combine(String, String) 
```

另外，它说，如果你的值有空格，那么必须有引号，但你的字符串没有空格，所以不需要加引号

```
 /name1=value1 /name2=value2 
```

# javascript - 禁用函数的查看代码

> ID：15804624
> 
> 赞同：0
> 
> 时间：2013-04-04T07:04:50.190
> 
> 标签：javascript, function, return

像这样，如果我做了一个函数：

```
 function a() {
        alert("Hello!")
    } 
```

我不希望您能够查看以下代码：

```
 eval(a) 
```

返回所有代码，但

```
 eval(a()) 
```

返回警报

在执行 eval(a) 时，我希望它不返回代码，只是什么都不返回？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:08:49.453

始终将您的代码封装在 IIFE（立即调用函数表达式）中，这样您就不会将变量泄漏到全局范围：

```
(function(){
  function a() {
    alert("Hello!")
  }
  // more stuff...
}());

console.log(eval(a)); //=> Uncaught ReferenceError: a is not defined 
```

您还可以使用一个小技巧来隐藏功能代码`bind`：

```
var a = function a() {
  alert("Hello!")
}.bind();

console.log(eval(a)); //=> function () { [native code] } 
```

每当您考虑使用`eval`时，请三思而后行，可能有更好的方法来做到这一点。如果您只想运行该功能，只需执行`a()`. 不需要`eval`那里。

# highcharts - 在时间线图中从一个点到另一个点区域填充不同的颜色

> ID：15804629
> 
> 赞同：2
> 
> 时间：2013-04-04T07:05:10.267
> 
> 标签：highcharts, highstock

时间线图中有没有办法根据 y 的值从一个点到另一个点填充不同的颜色？

在这个例子中[http://jsfiddle.net/highcharts/PMyHQ/](http://jsfiddle.net/highcharts/PMyHQ/)

我想应用以下规则：

1.  y <= 2 = 填充颜色为蓝色
2.  y <= 5 = 填充颜色为红色
3.  y <= 9 = 填充颜色为黄色

所以：

1.  4 月至 5 月区域颜色应为蓝色
2.  5 月至 6 月区域颜色应为红色
3.  六月至七月区域颜色应为黄色

jsfiddle代码：

```
function applyGraphGradient() {

// Options
var threshold = 0,
    colorAbove = '#EE4643',
    colorBelow = '#4572EE';

// internal
var series = this.series[0], 
    i,
    point;

if (this.renderer.box.tagName === 'svg') {

    var translatedThreshold = series.yAxis.translate(threshold),
        y1 = Math.round(series.yAxis.len - translatedThreshold),
        y2 = y1 + 2; // 0.01 would be fine, but IE9 requires 2

    // Apply gradient to the path
    series.graph.attr({
        stroke: {
            linearGradient: [0, y1, 0, y2],
            stops: [
                [0, colorAbove],
                [1, colorBelow]
            ]
        }
     });

    // Apply gradient to the area
    if (series.area) {
        series.area.attr({
            fill: {
                linearGradient: [0, y1, 0, y2],
                stops: [
                    [0, colorAbove],
                    [1, colorBelow]
                ]
            }
         });
    }        
}

// Apply colors to the markers
for (i = 0; i < series.data.length; i++) {
    point = series.data[i];
    point.color = point.y < threshold ? colorBelow : colorAbove;
    if (point.graphic) {
        point.graphic.attr({
            fill: point.color
        });
    }
}

// prevent the old color from coming back after hover
delete series.pointAttr.hover.fill;
delete series.pointAttr[''].fill;

}

// Initiate the chart
var chart = new Highcharts.Chart({

chart: {
    renderTo: 'container',
    events: {
        load: applyGraphGradient
    },
    type: 'area'
},

title: {
    text: 'Average monthly temperature'
},

yAxis: {
    plotLines: [{
        value: 0,
        color: 'silver',
        width: 2,
        zIndex: 2
    }],
    title: {
        text: 'Temperature (°C)'
    }
},

xAxis: {
    categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
},

series: [{
    name: 'Temperature (°C)',
    data: [-2, -3, -2, 2, 5, 9, 11, 11, 10, 8, 4, -1]
}]

}); 
```

* * *

是否有任何计划支持在折线图中的特定区域（以 x 和 y 坐标为界）应用不同颜色的功能，也许在未来的版本中？

# java - Android 视频和图像连接

> ID：15804640
> 
> 赞同：1
> 
> 时间：2013-04-04T07:05:42.787
> 
> 标签：java, android, video-capture

我有一个问题，我正在 Android 中开发一个视频录制应用程序，在录制结束时我想将我的徽标图像包含在视频中的最后一帧，我想知道如何在 Android Java 中做到这一点，是有任何可用的示例代码

# c#-4.0 - 使用 Gmail 凭据发送带有模板的电子邮件

> ID：15804644
> 
> 赞同：0
> 
> 时间：2013-04-04T07:05:57.630
> 
> 标签：c#-4.0

嗨，我正在尝试使用 gmail 凭据发送电子邮件并调用电子邮件模板，但它引发了发送邮件失败的异常

```
SmtpClient SmtpServer = new SmtpClient();
SmtpServer.Credentials = new System.Net.NetworkCredential("ambarishkesavarapu@gmail.com", "xxxxxx");
SmtpServer.Port = 587;
SmtpServer.Host = "smtp.gmail.com";
SmtpServer.EnableSsl = true;
message = new MailMessage();
message.Subject = "Visitor Arrived";
message.SubjectEncoding = System.Text.Encoding.UTF8;
message.IsBodyHtml = false;
message.Body = "EmailTemplate.html";
message.BodyEncoding = System.Text.Encoding.UTF8;
message.From = new MailAddress("ambarishkesavarapu@gmail.com");
message.To.Add(lblCPEmail.Text);
message.Priority = MailPriority.High;
message.DeliveryNotificationOptions = DeliveryNotificationOptions.OnFailure;
SmtpServer.Send(message); 
```

请帮帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:46:51.710

您必须使用`StreamReader`从 html 文件中读取...并将`MailMessage.BodyFormat`属性设置为`MailFormat.Html`
Use This：

```
SmtpClient SmtpServer = new SmtpClient();
SmtpServer.Credentials = new System.Net.NetworkCredential("ambarishkesavarapu@gmail.com", "xxxxxx");
SmtpServer.Port = 587;
SmtpServer.Host = "smtp.gmail.com";
SmtpServer.EnableSsl = true;

using (StreamReader reader = File.OpenText(htmlFilePath)) // Path to your 
{                                                         // HTML file
    message = new MailMessage();
    message.Subject = "Visitor Arrived";
    message.SubjectEncoding = System.Text.Encoding.UTF8;
    message.IsBodyHtml = false;
    message.BodyEncoding = System.Text.Encoding.UTF8;
    message.From = new MailAddress("ambarishkesavarapu@gmail.com");
    message.To.Add(lblCPEmail.Text);
    message.Priority = MailPriority.High;

    message.Body = reader.ReadToEnd();  // Load the content from your file...
    //...
}
SmtpServer.Send(message); 
```

部分答案来自[发送带有 HTML 文件作为正文的电子邮件（C#）](https://stackoverflow.com/questions/1155797/send-a-email-with-a-html-file-as-body-c)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-11-03T07:48:26.450

```
 foreach (GnrDataMailInfo dmi in lstDMI)
            {
                MailMessage mail = new MailMessage();
                mail.From = "youremail";

                SmtpClient smtp = new SmtpClient();
                smtp.Port = 25;   // [1]  port
                smtp.EnableSsl = true;
                smtp.DeliveryMethod = SmtpDeliveryMethod.Network; // [2] Added this
                smtp.UseDefaultCredentials = false; // [3] Changed this
                smtp.Credentials = new NetworkCredential(mail.From.ToString(), "password");  // [4] Added this.
                smtp.EnableSsl = false;
                smtp.Timeout = 20000;
                smtp.Host = "yourhost";

                mail.DeliveryNotificationOptions = DeliveryNotificationOptions.OnFailure;
                mail.BodyEncoding = System.Text.Encoding.UTF8;
                mail.HeadersEncoding = System.Text.Encoding.UTF8;
                mail.Subject = dmi.Subject;
                mail.To.Add(dmi.To);
                mail.IsBodyHtml = true;
                mail.Body = dmi.Body;

                smtp.Send(mail);
            } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-11-03T08:00:27.343

改用端口 465

端口 465 用于 smtps SSL 加密在任何 SMTP 级别通信之前自动启动。

端口 587 用于 msa 它几乎就像标准 SMTP 端口。MSA 应该在身份验证后接受电子邮件（例如，在 SMTP AUTH 之后）。当 DUL 范围的网络管理员可以阻止到 SMTP 端口（端口 25）的传出连接时，它有助于阻止传出的垃圾邮件。

# c# - TCP错误代码10061：无法建立连接，因为目标机器主动拒绝它

> ID：15804647
> 
> 赞同：13
> 
> 时间：2013-04-04T07:06:10.643
> 
> 标签：c#, wcf

![错误](https://i.stack.imgur.com/5fFBz.png)

> 无法连接到 net.tcp://localhost:5051/user。连接尝试持续了 00:00:02.0600206 的时间跨度。TCP 错误代码 10061：无法建立连接，因为目标机器主动拒绝 127.0.0.1:5051。

防火墙是块？有什么想法吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-04-28T03:58:26.617

仅供记录：@RanjitaDas 链接的可能解决方案的正确链接是 [链接](http://blogs.ajithbhat.com/2010/06/tcp-error-code-10061-no-connection.html)

# c# - 如何在 C# 中获取任何类型浏览器中给出的所有请求的 url 名称

> ID：15804652
> 
> 赞同：0
> 
> 时间：2013-04-04T07:06:23.400
> 
> 标签：c#, .net

我需要在系统中找到用户浏览的 url，而与 C# 中的任何浏览器无关，并且我想将其存储在我的应用程序的数据库中。

我进行了初步搜索，但没有正确找到。

我尝试阅读免打扰缓存。但是它正在提供Windows-7，但我无法集成它。因为它在那个活着的瞬间给出了所有的名字。因此，数据不断重复。此外，不需要的名字也来了。

在 Xp 中，如果我运行这意味着它没有给出适当的结果。

```
 Private Function RunScript(ByVal scriptText As String) As String
    Dim MyRunSpace As Runspace = RunspaceFactory.CreateRunspace()
    MyRunSpace.Open()
    Dim MyPipeline As Pipeline = MyRunSpace.CreatePipeline()
    MyPipeline.Commands.AddScript(scriptText)
    MyPipeline.Commands.Add("Out-String")
    Dim results As Collection(Of PSObject) = MyPipeline.Invoke()
    MyRunSpace.Close()
    Dim MyStringBuilder As New StringBuilder()
    For Each obj As PSObject In results
        MyStringBuilder.AppendLine(obj.ToString())
    Next
    Return MyStringBuilder.ToString()
End Function
Private Sub fetchHistory()
    Try
        a = RunScript("ipconfig /displaydns | select-string 'Record Name' | foreach-object { $_.ToString().Split(' ')[-1]}")
    Catch ex As Exception
        MsgBox(ex.Message)
    End Try
End Sub 
```

这是我在 VB 中尝试的代码。

在这些方面需要帮助。

# ms-access-2007 - 为所有表单上的所有货币字段全局更改货币格式

> ID：15804656
> 
> 赞同：1
> 
> 时间：2013-04-04T07:06:37.480
> 
> 标签：ms-access-2007, currency, currency-formatting

我只是用几个表格建立了一个数据库系统。表格有货币字段。我在 Windows 中有一个美国英语语言设置和一个英语 Access 2007。所以我认为这就是我得到 $x,xxx.yy 格式的原因。我继续并完成了系统；我只将格式设置为货币，所以我认为实际的格式在其他地方。

数据库字段也被简单地设置为货币。

现在这将在瑞典机器上使用。如何设置全局货币格式，使其不会以 $x,xxx.yy 格式显示货币，而无需编辑每个表单上的所有字段？

（也就是说，它们仍应具有格式：货币，并且存储在数据库中并显示在字段中的确切数字应以正确的瑞典语格式显示。）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T10:15:14.890

此代码**尚未经过彻底测试**，但它可能对您有所帮助。在尝试之前备份您的数据库。

它的目的是用通用 value 替换 Access （偷偷地）存储的硬编码`Format`属性。`$#,##0.00;($#,##0.00)``Currency`

```
Sub TweakCurrencyFormats()
Dim cdb As DAO.Database, tbd As DAO.TableDef, fld As DAO.Field
Dim ao As AccessObject, frm As Form, ctl As Control
Set cdb = CurrentDb

Debug.Print "Processing tables..."
For Each tbd In cdb.TableDefs
    For Each fld In tbd.Fields
        If fld.Type = 5 Then  '' Currency
            Debug.Print "[" & tbd.Name & "].[" & fld.Name & "]"
            fld.Properties("Format").Value = "Currency"
            fld.Properties("CurrencyLCID").Value = 1053  '' Swedish
        End If
    Next
    Set fld = Nothing
Next
Set tbd = Nothing

Debug.Print "Processing forms..."
For Each ao In CurrentProject.AllForms
    If Not ao.IsLoaded Then
        DoCmd.OpenForm ao.Name, acDesign
    End If
    Set frm = Application.Forms(ao.Name)
    For Each ctl In frm.Controls
        If ctl.Properties("ControlType").Value = 109 Then  '' text box
            If Left(ctl.Properties("Format").Value, 1) = "$" Then
                Debug.Print "[" & ao.Name & "].[" & ctl.Name & "]"
                ctl.Properties("Format").Value = "Currency"
            End If
        End If
    Next
    Set ctl = Nothing
    Set frm = Nothing
Next
Set ao = Nothing

Set cdb = Nothing
End Sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T08:42:22.880

[不可能。](http://allenbrowne.com/ser-44.html)

我会暂时搁置一下。如果您可以提供一个无需手动编辑所有表单的巧妙解决方案，我将很乐意接受您的解决方案，而不是这个。:)

# php - PHP：使用 Zend_Barcode 调整条形码的输出大小 | Magento 发票条码

> ID：15804657
> 
> 赞同：2
> 
> 时间：2013-04-04T07:06:46.213
> 
> 标签：php, magento, zend-framework, barcode

我第一次使用 Zend_Barcode 框架在 Magento 中生成条形码，目的是在发票中添加运输条形码。

该模型看起来相当简单，但我无法更改条形码的大小。

如果我起诉这种方法：

```
$barcodeOptions = array('text' => 'ZEND-FRAMEWORK', 'width'=>400);
$rendererOptions = array('width'=> 400);
$renderer = Zend_Barcode::factory(
    'code128', 'image', $barcodeOptions, $rendererOptions
)->render(); 
```

我最终得到了一个 275 像素的条形码，但一个 400 像素宽的图像。即实际可见的条码与没有发送选项一样大小，但实际图像大小为400px。

如果我使用draw方法也是一样。

```
$barcodeOptions = array('text' => $barCodeNo, 'width'=> '400', 'height'=> '500'); 
$rendererOptions = array('width'=> '400', 'height'=> '500'); 
// Draw the barcode in a new image, 
$imageResource = Zend_Barcode::draw( 
    'code128', 'image', $barcodeOptions, $rendererOptions 
); 

imagejpeg($imageResource); 
```

除了将尺寸高度和宽度添加到选项数组中之外，我在文档中找不到任何内容，那么我错过了什么？

任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T11:05:39.340

终于明白了：

```
$barcodeOptions = array(
    'text' => $barCodeNo, 
    'barHeight'=> 74, 
    'factor'=>3.98,
);

$rendererOptions = array();
$renderer = Zend_Barcode::factory(
    'code128', 'image', $barcodeOptions, $rendererOptions
)->render(); 
```

'barHeight' 设置条形码的高度。
“因子”是增加条形码相对大小的索引。3.98 = ~75mm，这是我需要的。

# python - sqlalchemy 整数列大小

> ID：15804685
> 
> 赞同：9
> 
> 时间：2013-04-04T07:07:58.170
> 
> 标签：python, sqlalchemy

我在某处看到您可以为整数列（例如 Integer(20)、Integer(10) 等）定义列大小，但由于某种原因，sqlalchemy 似乎忽略了它通过 create_all 生成的创建表查询中的这些大小（ ):

```
class Job(Base):
    __tablename__ = "t_job"

    id = Column(Integer(20), Sequence('%s_id_seq' % __tablename__), primary_key=True, nullable=False)
    name = Column(String(30))
    company_id = Column(Integer(20), ForeignKey("t_company.id", ondelete="CASCADE"), nullable=False) 
```

产生以下查询：

```
CREATE TABLE t_job (
        id INTEGER NOT NULL AUTO_INCREMENT,
        name VARCHAR(30),
        company_id INTEGER NOT NULL,
        PRIMARY KEY (id),
        FOREIGN KEY(company_id) REFERENCES t_company (id) ON DELETE CASCADE
) 
```

如果这不是正确的方法，那是什么？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-04T07:21:50.850

此功能[在 0.7 版中已弃用](http://docs.sqlalchemy.org/en/latest/changelog/migration_07.html)。

如果您使用的是 MySQL，则可以使用以下`mysql.INTEGER`数据类型：

```
from sqlalchemy.dialects import mysql 

class Job(Base):
    __tablename__ = "t_job"

    id = Column(mysql.INTEGER(20), Sequence('%s_id_seq' % __tablename__), primary_key=True, nullable=False)
    name = Column(String(30))
    company_id = Column(Integer(20), ForeignKey("t_company.id", ondelete="CASCADE"), nullable=False) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-08-15T13:51:41.187

没有任意大小的整数，但 SQLAlchemy`Integer`还支持`BigInteger`和`SmallInteger`。

[https://docs.sqlalchemy.org/en/14/core/type_basics.html#generic-types](https://docs.sqlalchemy.org/en/14/core/type_basics.html#generic-types)

# objective-c - 如何：“安装”核心数据中的标准数据？

> ID：15804688
> 
> 赞同：0
> 
> 时间：2013-04-04T07:08:12.233
> 
> 标签：objective-c, core-data

我正在开发一个允许用户使用控件创建自己的模板的应用程序。我的问题是如何在我的核心数据数据库中填充一些标准数据，以便用户可以从标准开始创建自己的模板。

我听说这可以使用本地 json 来完成（会有一个后端使用 Json 与前端进行通信），但是找不到一个好的教程如何做到这一点......

有没有人可以帮助我解决这个问题，或者有没有人有更好的想法来填充这个标准数据？

我现在正在使用 sql 脚本来填充我的数据，但从您在 iPad 上安装它的那一刻起，它就不是一个解决方案。

## 更新

我愿意在我的数据库中创建标准条目，因此标准模板上有一些标准控件（模板，我是指用户定义的表单上的控件）。更具体地说，如何将本地 json 解析到我的核心数据数据库？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:19:40.647

是的，JSON 是一种选择。

只需将 JSON 传输到 Foundation 对象中，如下所示

```
NSData *jsonData = [jsonString dataUsingEncoding:NSUTF8StringEncoding];
NSArray *dataArray =     
   [NSJSONSerialization JSONObjectWithData:jsonData options:0 error:nil]; 
```

现在遍历您的新 JSON 对象（在本例中为数组，但可以是字典）并使用

```
[NSEntityDescription insertNewObjectForEntityForName:@"Entity" 
    inManagedObjectContext:self.managedObjectContext]; 
```

并保存。

# sql - 在几个所需的单词之后将一个 varchar 列值插入另一个 varchar 列

> ID：15804699
> 
> 赞同：1
> 
> 时间：2013-04-04T07:09:04.940
> 
> 标签：sql, sql-server

我有一个名为 ClinicalDocuments 的表，其中有一个名为 vReportText 的列，它保存了许多组件的肥皂文本。现在有另一个名为 TreatmentOrders 的表，其列 vSoapText 包含订单组件的肥皂文本。

我想编写一个 SP，它会在治疗订单的标题之后更新临床文档的 ReportText 中订单组件的肥皂文本。我知道这将涉及一些字符串操作来确定在插入值之后的确切位置，但我无法弄清楚它到底有多可能。

这是 vReportText 的示例数据

```
<table class="tblButton" border="0" cellspacing="0" cellpadding="0" width="100%">
        <tbody>
            <tr>
                <td align="left">
                    <font id="Comp_Heading" class="Comp_Heading" face="arial">&lt;&lt; MD Notes &gt;&gt;</font>
                </td>
            </tr>
            <tr id="traDetail" class="traDetail">
                <td>
                    <label onkeydown="return stopDataEntry()" id="lbl" oncut="" vbscript:window.event.returnvalue="false"
                        ondrop="" vbscript:window.event.returnvalue="false" ondblclick="lblDbl_Click('btn~~52437s80')"
                        contenteditable="false" onpaste="" vbscript:window.event.returnvalue="false"
                        ondrag="" vbscript:window.event.returnvalue="false">
                        <font id="Comp_Heading_Detail" class="Comp_Heading_Detail" face="arial"></font>
                    </label>
                </td>
            </tr>
        </tbody>
    </table> 
```

vSoapText 列还包含一个字符串中的 html 脚本，现在我想在字体标签**Comp_Heading_Detail**中插入 vsoaptext 列值。

我们的应用程序是用经典的 asp 构建的，我也不太了解，所以我想如果我可以用一些方便的脚本来做到这一点，它会让我的生活变得轻松。非常感谢您的回复。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T09:39:27.240

您可以将选项与[REPLACE](http://msdn.microsoft.com/en-us/library/ms186862.aspx)字符串函数一起使用

假设您有两个具有此模式的表

```
CREATE TABLE dbo.TreatmentOrders
 (
  Id int,
  vSoapText nvarchar(100)
  )

INSERT dbo.TreatmentOrders
VALUES(1, 'InsertedText1'),
      (2, 'InsertedText2')

CREATE TABLE dbo.ClinicalDocuments
 (
  Id int,
  TreatmentOrdersId int,  
  vReportText nvarchar(100)
  )

INSERT dbo.ClinicalDocuments
VALUES(1, 1, '123 Treatment Order is 123'),
      (2, 1, '12345 Treatment Order is 123'), 
      (3, 2, '123 Treatment Order is 123'),
      (4, 2, '12345 Treatment Order is 123')

UPDATE d
SET d.vReportText = 
  REPLACE(vReportText,'Treatment Order is','Treatment Order is ' + o.vSoapText)
FROM dbo.ClinicalDocuments d 
  JOIN dbo.TreatmentOrders o ON d.TreatmentOrdersId = o.Id 
```

前

```
Id  TreatmentOrdersId vReportText
1   1                 123 Treatment Order is 123
2   1                 12345 Treatment Order is 123
3   2                 123 Treatment Order is 123
4   2                 12345 Treatment Order is 123 
```

后

```
Id  TreatmentOrdersId vReportText   
1   1                 123 Treatment Order is InsertedText1 123
2   1                 12345 Treatment Order is InsertedText1 123
3   2                 123 Treatment Order is InsertedText2 123
4   2                 12345 Treatment Order is InsertedText2 123 
```

[**SQLFiddle**](http://sqlfiddle.com/#!3/7a47d/1)上的演示[](http://sqlfiddle.com/#!3/7a47d/1)

 **对于文本“Comp_Heading_Detail”的更新位置，请使用此

```
UPDATE d
SET d.vReportText =
  REPLACE(vReportText, 'font id="Comp_Heading_Detail"', 'font id="' + o.vSoapText+ '"')
FROM dbo.ClinicalDocuments d 
  JOIN dbo.TreatmentOrders o ON d.TreatmentOrdersId = o.Id 
```**

# iphone - 在 UITextField 上单击/键入会增加 UIPageViewController 而不是显示键盘

> ID：15804702
> 
> 赞同：4
> 
> 时间：2013-04-04T07:09:11.470
> 
> 标签：iphone, ios, objective-c, xcode

我正在使用 UIPageViewController 在屏幕上显示我的故事板上的视图控制器，当我将 UITextField 放在我放在 UIPageViewController 上的视图控制器上并且当我运行应用程序并单击 UITextField 时，屏幕跳到下一个屏幕，而不是仅仅弹出键盘，或者当您在 中键入内容时`UITextField`，它也会跳到下一个屏幕。我制作了一个简单的示例项目，您可以在此处下载：[http](http://www.2shared.com/file/VNF3DO-g/pageScroll.html) ://www.2shared.com/file/VNF3DO-g/pageScroll.html使用 iPhone 模拟器并单击 UITextField，您会看到它会跳转到下一个视图，而不是弹出键盘。

# android - Android：FragmentTabHost：使用标签导航片段重叠问题

> ID：15804704
> 
> 赞同：2
> 
> 时间：2013-04-04T07:09:17.367
> 
> 标签：android, android-fragments, fragment

我有一些示例 FragmentTabHost 项目。我做了一些我的项目所需的修改。我的标签栏 xml (bottom_tabs.xml)

```
<?xml version="1.0" encoding="utf-8"?>

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <FrameLayout
        android:id="@+id/realtabcontent"
        android:layout_width="match_parent"
        android:layout_height="0dip"
        android:layout_weight="1" />

    <android.support.v4.app.FragmentTabHost
        android:id="@android:id/tabhost"
        android:layout_width="match_parent"
        android:layout_height="wrap_content" >

        <FrameLayout
            android:id="@android:id/tabcontent"
            android:layout_width="0dp"
            android:layout_height="0dp"
            android:layout_weight="0" />
    </android.support.v4.app.FragmentTabHost>

</LinearLayout> 
```

![在此处输入图像描述](https://i.stack.imgur.com/PMDtO.png) ![在此处输入图像描述](https://i.stack.imgur.com/uUIMy.png) ![在此处输入图像描述](https://i.stack.imgur.com/e1M4S.png)

```
oncreate() - FragmentActivity

mTabHost = (FragmentTabHost) findViewById(android.R.id.tabhost);
        mTabHost.setup(this, getSupportFragmentManager(), R.id.realtabcontent);

        Bundle b = new Bundle();
        b.putString("key", "Simple");
        mTabHost.addTab(mTabHost.newTabSpec("simple").setIndicator("Simple"),
                Fragment1.class, b);
        //
        b = new Bundle();
        b.putString("key", "Contacts");
        mTabHost.addTab(mTabHost.newTabSpec("contacts")
                .setIndicator("Contacts"), Fragment2.class, b);
        b = new Bundle();
        b.putString("key", "Custom");
        mTabHost.addTab(mTabHost.newTabSpec("custom").setIndicator("Custom"),
                Fragment3.class, b); 
```

![在此处输入图像描述](https://i.stack.imgur.com/UXtqx.png)

片段3类

```
public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {

        ViewGroup root = (ViewGroup) inflater.inflate(R.layout.fragment_3,
                null);  
        Button b = (Button) root.findViewById(R.id.button1);
        b.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {

                 Fragment f;
                    f = (Fragment) new Fragment4();
                    FragmentTransaction ft = getFragmentManager().beginTransaction();
                    ft.replace(R.id.realtabcontent, f);
                    ft.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN);
                    ft.addToBackStack(null);
                   ft.commit();
            }
        });
        return root;
    } 
```

![在此处输入图像描述](https://i.stack.imgur.com/akrM4.png) ![在此处输入图像描述](https://i.stack.imgur.com/JP7nC.png)

问题：**

*   1）如果我在 Fragment3 中按下 goto1 按钮，它会重定向到 Fragment4。没有问题

*   2）然后我按下选项卡，Fragment4的布局在所有屏幕中重叠

*   3）如果我按下转到第二个选项卡按钮，如何重定向到 Fragment2 并同时突出显示第二个选项卡。

**

请给我最好的方法来做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-20T01:30:17.673

要更改选项卡，您应该使用该`FragmentTabHost.setCurrentTab()`方法而不是使用您`FragmentTransaction`自己*（它在内部处理）*。您的 Fragment4 出现重叠的原因是因为在您更改选项卡时它永远不会被删除。

这是正在发生的事情：

1.  您导航到选项卡 3。
2.  您按下 goto fragment4 按钮，这会导致您的代码将 fragment3 替换为 fragment4
3.  您按下另一个标签指示器。这会导致 FragmentTabHost 删除当前片段*（它仍然认为是 Fragment3）*并添加新的 Fragment。您手动添加的 Fragment4 仍然存在。为避免这种情况，您可以为选项卡更改事件添加一个侦听器，并显式删除 Fragment4（如果存在）。或者更好的是，您可以将 Fragment4 添加为 Fragment3 的子片段。这样当你离开 Tab3 时它会消失，当你返回 Tab3 时它会再次出现。这仅取决于您要完成的工作。

# c++ - 在 Visual Studio 中转储所有变量的值

> ID：15804705
> 
> 赞同：2
> 
> 时间：2013-04-04T07:09:18.723
> 
> 标签：c++, visual-studio, debugging, variables, visual-studio-2012

我的程序做了一件很奇怪的事情，它*有时*只工作，主要是在运行几次之后。我想要做的是复制所有变量的值，当它不起作用时，对它起作用时做同样的事情，然后比较两者，这样我就可以尝试找出问题所在。有什么简单的方法可以做到这一点？我正在使用 Visual Studio 2012。

# javascript - 如何在 dom 节点移除、属性修改时添加监听器？

> ID：15804710
> 
> 赞同：2
> 
> 时间：2013-04-04T07:09:28.663
> 
> 标签：javascript, jquery, dom, listener, dom-events

我想在 dom 节点添加/删除和属性修改上添加一个侦听器，因为我主要为模块动态生成 dom 元素。

正如您在下图中看到的那样，`webkit`它意味着这些听众存在。

![在此处输入图像描述](https://i.stack.imgur.com/zhjS3.png)

如果有任何 jQuery 函数请告知。

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T07:13:08.447

实际上，你不能指望 Javascript 有一个方法或侦听器来处理 webkits 开发工具可以做的任何事情。它是一个内置调试器和控制台，其可能性远远超出。

但是，有可用的所谓的*突变事件*，请参阅[MDN](https://developer.mozilla.org/en-US/docs/DOM/Mutation_events)

一个典型的电话看起来像

```
document.getElementsById( 'foo' ).addEventListener('DOMAttrModified', function( e ) {
}, false); 
```

这将触发来自ID 为*foo的**节点*的任何属性更改。需要注意的是，*突变事件*已被弃用，将来可能无法以当前形式提供。

 *** * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:19:17.130

对于属性更改事件，您可以尝试这样的[事情](https://stackoverflow.com/a/2321438/382982)。

```
$el.on('attribute:change', function () {...});
$el.attr('selected', 'selected').trigger('attribute:change'); 
```

对于添加/删除事件，您可以执行[以下](https://stackoverflow.com/a/2200886/382982)操作：

```
(function() {
    var ev = new $.Event('remove'),
    orig = $.fn.remove;

    $.fn.remove = function() {
        $(this).trigger(ev);
        return orig.apply(this, arguments);
    }
})(); 
```**

# android - 如何通过原生代码访问安卓浏览器的本地存储

> ID：15804714
> 
> 赞同：5
> 
> 时间：2013-04-04T07:09:34.977
> 
> 标签：android, browser, local-storage

我正在开发一个必须访问默认浏览器本地存储的 android 应用程序。场景是：

*   打开安卓默认浏览器
*   加载一个页面（我开发的），将一些数据保存在浏览器的本地存储中
*   关闭浏览器
*   打开我的应用程序
*   应用程序读取保存在浏览器本地存储中的数据并将其显示给用户

有没有办法访问浏览器的本地存储？另外，如果可能的话，如何访问设备上其他已安装浏览器的本地存储？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-05-09T16:03:59.840

似乎没有办法实现这一点。我曾尝试使用内容提供商访问浏览器的数据，但您只能访问书签和历史记录。

我还使用 WebView 而不是浏览器进行了一些测试。我尝试了两种方法：

*   访问本地存储数据库

您可以像普通 SQLite 数据库一样访问本地存储数据库。数据存储在具有两列的单个表中 - 键和值。根据javascript文档写入本地存储是同步操作。这很棒！问题在于将数据从浏览器（webview）持久化到文件系统是异步的。因此，如果您将某些内容写入本地存储，它将存储在内存中，因此可以通过 javascript API 访问它，但它仍然不会持久化到 SQLite 数据库。

*   通过 javascript bridge 访问本地存储

这是我个人的推荐！您已经创建了一个 Android javascript 界面并将其添加到 webview。通过这种方式，您可以向 javascript 提供 API 以访问您的代码。**要特别小心！这可能是一个严重的安全问题！仔细检查您的代码！**之后，您可以像这样调用您的javascript方法`webview.loadUrl("javascript://...")`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-13T09:50:30.867

我使用 SharedPreferences Plugin 来访问本机存储，而不是访问 Phonegap 内的浏览器本地存储。这可能对某些人有用。 [Github 代码](https://github.com/mssobhan/phonegap-sharedpreferences-save-retrieve)

# git - node.js 中本地安装的模块

> ID：15804717
> 
> 赞同：2
> 
> 时间：2013-04-04T07:09:40.223
> 
> 标签：git, node.js, express

我是 node.js 和 express 的初学者。我发现我可以使用“package.json”`npm install`来解决 node.js 模块的依赖关系。该命令将在本地安装所需的模块，这些模块对我来说就像 C++ 中的静态库。

我有两个问题：

1.  我应该何时使用模块的全局安装`npm install -g`以及何时使用本地安装（尤其是对于快速应用程序）？

2.  我使用 git 进行版本控制。我应该将本地安装的第三方 node.js 模块添加到存储库吗？这些模块看起来很大，当然不是我的代码。我对这些模块的版本控制感到困惑。

欢迎任何帮助或提示，并提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T07:13:06.577

1：全局安装您从命令行使用的模块，如 expresss，其他本地安装。如果你不知道在这两个地方安装它们

更多信息： http: [//blog.nodejs.org/2011/03/23/npm-1-0-global-vs-local-installation/](http://blog.nodejs.org/2011/03/23/npm-1-0-global-vs-local-installation/)

2：不要将依赖上传到 git，你可以在你的 package.json 文件中指定一个具体的版本号，这样你就不需要它们了。添加`node-modules`到`.gitignore`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T07:41:48.700

# 1

通常，始终在 package.json 中指定您的依赖项，然后运行`npm install`​​. 这样做的好处是你有一个明确的项目依赖列表，你不必在 git 中签入模块。

有些模块需要全局安装，但如果在这些情况下应该在文档中指定，您通常可以认为这些模块不是项目的一部分。例如，如果您使用 Grunt，则必须全局安装 grunt-cli，因为它添加了命令行命令，但您的代码实际上并未使用它。

# 2

正如@pfried 上面所说，如果您正在开发一个模块，最好不要签入依赖项。但是，如果您正在处理一个不应该分发给其他人的完整网站/应用程序，那么检查依赖项可能是有利的。

这样做的原因是，即使您已指定`"express": "3.0.1"`，也可能将 express 依赖项之一指定为“0.xx”。因此，当您稍后在生产服务器上安装应用程序时，您可能会得到另一个版本和难以检测的错误。通过检查依赖关系，您可以完全确定您不会在本地、阶段和生产服务器之间的任何代码中遇到任何差异。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:44:34.730

1.  [从不](http://peterlyons.com/problog/2012/09/managing-per-project-interpreters-and-the-path)（改为正确设置 PATH）
2.  [否](http://blog.nodejs.org/2012/02/27/managing-node-js-dependencies-with-shrinkwrap/)（git 用于源代码）。另见[12factor.net](http://12factor.net/)

# android - php 脚本未在 4.2（果冻豆）模拟器中运行

> ID：15804718
> 
> 赞同：1
> 
> 时间：2013-04-04T07:09:46.723
> 
> 标签：android

我已经制作了 php 脚本，我想从 android 执行这​​个 php 脚本。要执行 php 脚本，我编写以下代码：

```
 HttpClient httpClient = new DefaultHttpClient();
        HttpResponse httpResponse;
        try
        {
            //execute php script for creating group
        HttpGet httpPost = new HttpGet("http://ip address/CreateGroup.php?gname=temp&desc=grouptesting);

        try {
            httpResponse = httpClient.execute(httpPost);
            HttpEntity httpEntity = httpResponse.getEntity();
        } catch (ClientProtocolException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } catch (IOException e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        } 
```

此代码适用于 2.3.3(GIGERBREAD_MR1) 模拟器。但在 4.2（果冻豆）模拟器中不起作用。有版本差距吗？？请给我上述问题的原因....

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:13:06.397

我敢打赌你会得到一个`NetworkOnMainThreadException`. 在 Honeycomb 中，引入了此异常以确保您在后台线程上执行此类长时间运行的任务。如果没有更多信息，我认为如果它在 Honeycomb 之前有效而在 Honeycomb 之后无效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:15:19.037

试试下面的代码。你必须使用[SSLSocketFactory](http://developer.android.com/reference/org/apache/http/conn/ssl/SSLSocketFactory.html)

HttpClient httpclient = getNewHttpClient();

```
public HttpClient getNewHttpClient() {
        try {
            KeyStore trustStore = KeyStore.getInstance(KeyStore
                    .getDefaultType());
            trustStore.load(null, null);

            SSLSocketFactory sf = new MySSLSocketFactory(trustStore);
            sf.setHostnameVerifier(SSLSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);

            HttpParams params = new BasicHttpParams();
            HttpProtocolParams.setVersion(params, HttpVersion.HTTP_1_1);
            HttpProtocolParams.setContentCharset(params, HTTP.UTF_8);

            SchemeRegistry registry = new SchemeRegistry();
            registry.register(new Scheme("http", PlainSocketFactory
                    .getSocketFactory(), 80));
            registry.register(new Scheme("https", sf, 443));

            ClientConnectionManager ccm = new ThreadSafeClientConnManager(
                    params, registry);

            return new DefaultHttpClient(ccm, params);
        } catch (Exception e) {
            return new DefaultHttpClient();
        }
    } 
```

**MySSLSocketFactory.java**

```
public class MySSLSocketFactory extends SSLSocketFactory {
    SSLContext sslContext = SSLContext.getInstance("TLS");

public MySSLSocketFactory(KeyStore truststore) throws NoSuchAlgorithmException, KeyManagementException, KeyStoreException, UnrecoverableKeyException {
    super(truststore);

    TrustManager tm = new X509TrustManager() {
        public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {
        }

        public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {
        }

        public X509Certificate[] getAcceptedIssuers() {
            return null;
        }
    };

    sslContext.init(null, new TrustManager[] { tm }, null);
}

@Override
public Socket createSocket(Socket socket, String host, int port, boolean autoClose) throws IOException, UnknownHostException {
    return sslContext.getSocketFactory().createSocket(socket, host, port, autoClose);
}

@Override
public Socket createSocket() throws IOException {
    return sslContext.getSocketFactory().createSocket();
} 
```

}

# drupal-7 - 使用 drupal 在主页中添加图像滑块

> ID：15804721
> 
> 赞同：0
> 
> 时间：2013-04-04T07:09:56.117
> 
> 标签：drupal-7

我想在主页中添加用户可编辑的图像滑块，我正在使用`Drupal7`它。
我使用`view_slideshow`了模块，然后创建了新的内容类型`featured_slider`并创建了视图并在 `.info`文件中添加了自定义区域，然后配置了块。
但我仍然没有在主页上获得图像滑块。

是否可以将滑块放在标题区域中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T10:36:16.427

您是否将要渲染的区域放入模板文件中？如果没有，请确保将其打印在您希望它显示的位置`page.tpl.php`或主题模板文件夹中的任何其他模板文件中，如下所示：`print render($page['name_of_your_region']);`

# c# - 在 OAuth 不起作用的 OpenPaths.cc api 调用中传递查询字符串参数

> ID：15804729
> 
> 赞同：2
> 
> 时间：2013-04-04T07:10:21.787
> 
> 标签：c#, oauth, devdefined-oauth

我正在尝试调用需要 2-legged OAuth的[OpenPaths.cc 休息服务 API 。](https://openpaths.cc/api)为此，我使用了[DevDefined.OAuth 库](https://github.com/bittercoder/DevDefined.OAuth)（我尝试了 nuget 包和来自 github 的最新包）。当我不在查询字符串中传递参数但在传递参数时返回 400 NOT AUTHORIZED 时，它可以工作。

没有参数的工作样本：

```
public class OpenPathsRequest
{
    private const string accessKey = "your personal access key";
    private const string secretKey = "your personal secret";
    private const string url = "https://openpaths.cc/api/1";
    private OAuthSession session;

    public OpenPathsRequest()
    {
        var consumerContext = new OAuthConsumerContext
        {
            ConsumerKey = accessKey,
            ConsumerSecret = secretKey,
            SignatureMethod = SignatureMethod.HmacSha1,
            UseHeaderForOAuthParameters = true
        };
        session = new OAuthSession(consumerContext, url, url, url);
    }

    private string GetWebResponseAsString(HttpWebResponse response)
    {
        Encoding enc = System.Text.Encoding.GetEncoding(1252);
        StreamReader loResponseStream = new StreamReader(response.GetResponseStream(), enc);
        return loResponseStream.ReadToEnd();
    }

    public string GetResponse()
    {
        HttpWebResponse response = session.Request().Get().ForUrl(url).ToWebResponse();
        var result = GetWebResponseAsString(response);
        return result;
    }
}

class Program
{
  static void Main(string[] args)
  {
      // create new OpenPathsRequest and get result
      var request = new OpenPathsRequest();
      var response = request.GetResponse();
      Console.WriteLine(response);
      Console.WriteLine("Press any key...");
      Console.ReadKey();
  }
} 
```

但是当我更改 GetResponse 方法并像这样传入 2 个参数（start_time 和 end_time）时：

```
public string GetResponse()
{            
    HttpWebResponse response = session.Request().Get().ForUrl(url).WithQueryParameters(
        new { start_time = 1364962612, end_time = 1364991412  }).ToWebResponse();
    var result = GetWebResponseAsString(response);
    return result;
} 
```

这导致以下 HTTP 请求（省略了消费者密钥）：

```
GET https://openpaths.cc/api/1?start_time=1364962612&end_time=1364991412 HTTP/1.1
Authorization: OAuth oauth_nonce="7b5da37a-6227-4ded-ae8b-a695e789ef90",oauth_consumer_key="**********",oauth_signature_method="HMAC-SHA1",oauth_timestamp="1365058952",oauth_version="1.0",oauth_signature="tAk4KMj%2FsiG6BTLSmvDNKXbBpNs%3D"
Host: openpaths.cc
Connection: Keep-Alive 
```

我收到错误响应：

```
HTTP/1.1 400 Bad Request
Date: Thu, 04 Apr 2013 07:03:26 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Content-Length: 19
Server: TornadoServer/2.0
Set-Cookie: _xsrf=bf20487382b64eeb8646d31b0770db85; Path=/
Set-Cookie: session_id=ZTk2Mjk1MzIzNWNiMmRjMTY1ZmY5Y2ExNWUwMGY5ZTAxZmY1NGIyODljZGJiNzRlMmIyMWI4NTA3YzUwYWJlYg==|1365059006|7459a7ff95039279e9686ceb76b58918fd9f3e48; expires=Thu, 04 Apr 2013 07:18:26 GMT; Path=/

400: NOT AUTHORIZED 
```

非常感谢所有帮助。提前致谢。

哈门

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T20:37:04.140

解决了！显然 OpenPaths.cc api 需要在签名基本字符串中没有附加查询参数的情况下进行签名。我相信这不符合 OAuth 规范，是吗？无论如何，使用 DevDefined.OAuth 我可以通过在调用 WithQueryParameters 之前调用 SignWithoutToken 轻松解决这个问题，如下所示：

```
public string GetResponse()
{            
    HttpWebResponse response = session.Request().Get().ForUrl(url).
        SignWithoutToken().
        WithQueryParameters(new { start_time = 1364962612, end_time = 1364991412  }).
        ToWebResponse();
    var result = GetWebResponseAsString(response);
    return result;
} 
```

# ios - 从右向左滑动手指，反之亦然:-)

> ID：15804732
> 
> 赞同：2
> 
> 时间：2013-04-04T07:10:42.560
> 
> 标签：ios, objective-c

我正在开发笑话应用程序，但我仍然缺少一个功能，即显示笑话文本视图的方式与在 Iphone 中显示照片的方式相同，并让用户从右向左滑动手指，反之亦然：

有没有人有一个例子或知道一个？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:21:36.097

执行此操作以检测滑动：

```
UISwipeGestureRecognizer *swipeLeftRecognizer = [[UISwipeGestureRecognizer alloc] initWithTarget:self action:@selector(handleSwipeFrom:)];
    swipeLeftRecognizer.direction = UISwipeGestureRecognizerDirectionLeft;

UISwipeGestureRecognizer *swipeRightRecognizer = [[UISwipeGestureRecognizer alloc] initWithTarget:self action:@selector(handleSwipeFrom:)];
    swipeLeftRecognizer.direction = UISwipeGestureRecognizerDirectionRight; 
```

// 将其添加到您想要的视图中

```
 [self.view addGestureRecognizer:swipeLeftRecognizer];
 [self.view addGestureRecognizer:swipeRightRecognizer]; 
```

//处理程序代码：

```
- (void)handleSwipeFrom:(UISwipeGestureRecognizer *)recognizer {
if (recognizer.direction == UISwipeGestureRecognizerDirectionLeft) {
     //do something when swiped left.
}
else  if (recognizer.direction == UISwipeGestureRecognizerDirectionRight) 
  {
   //do something when swiped right.
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:15:06.513

`UIPageViewController`如果我理解您的要求，您正在寻找。

设置 a`UIPageViewController`非常简单。

```
UIPageViewController *pageViewController = [[UIPageViewController alloc] initWithTransitionStyle:UIPageViewControllerTransitionStyleScroll navigationOrientation:UIPageViewControllerNavigationOrientationHorizontal options:nil]; 
```

然后只需设置委托，并创建相应的委托方法，就可以了！

可以从`UIPageViewController`的[类引用](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIPageViewControllerClassReferenceClassRef/UIPageViewControllerClassReference.html)中引用委托方法。

祝你好运！欢迎来到堆栈溢出！

# sum - Google 电子表格数据透视查询中的总计

> ID：15804733
> 
> 赞同：5
> 
> 时间：2013-04-04T07:10:43.557
> 
> 标签：sum, pivot, google-sheets

我在[这里有一个示例 Google 电子表格](https://docs.google.com/spreadsheet/ccc?key=0AozvCNI02VmpdG5tb0pkUGdDR3djMm5NV0pYeThFbGc#gid=0)。在该电子表格的 Sheet2 中，我使用查询创建了一个摘要：

```
=Query(Sheet1!A1:E24, "Select A, Count(E) GROUP BY A Pivot C") 
```

但我想对下一行的每个测量员计数进行总和，其总数就像第三张表中显示的数据透视表一样。是否可以使用查询本身计算总计？任何人都可以请帮忙。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2016-05-05T20:04:49.923

这是一个老问题，但我只是想通了。您可以使用 ={} 将多个查询产生的数组连接到一个函数中。此处描述了使用 {} 创建数组：[在 Google 表格中使用数组](https://support.google.com/docs/answer/6208276?hl=en)

设置它的最简单方法是分别完成每个部分，然后将它们重新组合成一个公式。

第一部分是您首先进行的查询。

```
=Query(Sheet1!A1:E24, "Select A, Count(E) GROUP BY A Pivot C") 
```

第二部分是总计栏。将此公式放在第一个查询结果右侧的列的顶部单元格中。

```
=Query(Sheet1!A1:E24, "Select Count(E) GROUP BY A label Count(E) 'Grand Total'") 
```

第三部分是底行总计。把它放在第一个查询结果下。无法删除数据透视表上的标题行，因此转置非数据透视查询的结果。

```
=transpose(Query(Sheet1!A1:E24, "Select Count(E) GROUP BY C label Count(E) 'Grand Total'")) 
```

第 4 部分是右下角的最终总单元格。标签的 '' 是删除任何标签，只将总数放在一个单元格中。

```
=Query(Sheet1!A1:E24, "Select Count(E) Label Count(E) ''") 
```

如果一切看起来都如您所愿，现在您将其放在一个公式中以替换原始查询并删除其他查询。全部包含在 {} 中，用 ; 分隔列，用 ; 分隔行。

```
={Query(Sheet1!A1:E24, "Select A, Count(E) GROUP BY A Pivot C"),Query(Sheet1!A1:E24, "Select Count(E) GROUP BY A label Count(E) 'Total'");transpose(Query(Sheet1!A1:E24, "Select Count(E) GROUP BY C label Count(E) 'Total'")),Query(Sheet1!A1:E24, "Select Count(E) Label Count(E) ''")} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-05T04:52:28.313

1/2 答案.... 侧面的总数，但不是底部的总数

在表 1 中添加 Col F

```
Grand Total
=COUNTIF(A$2:A$24,A2)
=COUNTIF(A$2:A$24,A3) 
```

将您的查询更改为

```
=Query(Sheet1!A1:F24, "Select A, Count(B),F GROUP BY A, F pivot C ") 
```

# php - 搜索多个类别

> ID：15804735
> 
> 赞同：0
> 
> 时间：2013-04-04T07:10:44.227
> 
> 标签：php, mysql, categories

假设我有一张这样的桌子

```
ITEM
------
id | Name           | idCat
-------------------------
1    Bridgestone A   1,5,11
2\.   Velg            2,3
3\.   Bridgestone B   12,4

Category
-----------
idCat  | Name      
--------------
1        Ban
2\.       Velg
3\.       Velg Silver
4\.       Ban Luar
5\.       Ban dalam
11\.      Ban Special 
```

然后例如我想搜索 Velg .. 我只得到 Velg 因为 idCat 有 '2' 而我使用 LIKE '2%'

但问题是..当我搜索 idCat 为 1 的 BAn 时，我得到普利司通 A 和普利司通 B，因为普利司通 B 有 idCat 12，如果我使用 LIKE '1%' 它将匹配

我的问题是，如何查询以执行仅与“，”分隔的搜索。

对不起，我的英语不好

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T07:13:35.360

采用`FIND_IN_SET()`

```
SELECT  *
FROM    tableName
WHERE   FIND_IN_SET('1', idCat) > 0 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/5b2d8/1)
*   [MySQL FIND_IN_SET](http://dev.mysql.com/doc/refman/5.5/en/string-functions.html#function_find-in-set)

您还应该规范化您的表格。将用逗号分隔的值存储在单个字段中确实是一个坏习惯。

这是一个建议的新模式设计

**物品**

*   物品 ID (PK)
*   项目名称

**类别**

*   类别 ID (PK)
*   分类名称

**物品类别**

*   项目 ID (FK)
*   类别 ID (FK)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:14:05.723

使用 FIND_IN_SET

```
select * from ITEM where FIND_IN_SET('2', idCat) > 0 
```

# java - 如何使用 POI 向特定单元格添加验证（数字、日期）

> ID：15804737
> 
> 赞同：0
> 
> 时间：2013-04-04T07:10:53.240
> 
> 标签：java, apache-poi

如何使用 POI 向特定单元格添加整数验证、日期验证。并在用户输入数据后进行验证，如果数据错误则显示错误消息

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:21:32.683

我曾经遇到过验证excel文件的类似情况。你可以这样编码：

```
 if(cell != null){
        switch (cell.getCellType()) {
            case Cell.CELL_TYPE_STRING:
                //Validate String as required
                break;
            case Cell.CELL_TYPE_NUMERIC:
                if (DateUtil.isCellDateFormatted(cell)) {
                    //Validate Date
                } else {
                    //Validate Number
                }
                break;

            default:
                //Handle Default
       }
   } 
```

我建议您为每种类型（字符串、数字和日期）编写单独的验证处理程序，然后从您的 switch case 中调用它们。

# java - Java EE servlet 作为 spring bean 代理

> ID：15804741
> 
> 赞同：0
> 
> 时间：2013-04-04T07:11:07.513
> 
> 标签：java, spring, spring-aop

我有一个名为 com.sample.servlets.CreateReleaseServlet 的 servlet，我正在尝试在辅助方法中添加 spring AOP 建议。

我在 spring 配置文件中有以下代码：

```
<bean id="customerService" class="com.sample.servlets.CreateReleaseServlet">
</bean>

<bean id="notificationAdvice" class="com.sample.advice.NotificationAdvice" />

<bean id="customerServiceProxy" class="org.springframework.aop.framework.ProxyFactoryBean">

    <property name="target" ref="customerService" />

    <property name="interceptorNames">
        <list>
            <value>notificationAdvice</value>
        </list>
    </property>
</bean> 
```

当我尝试使用以下 Java 代码将此 servlet 作为 bean 获取时：

```
ApplicationContext appContext = new ClassPathXmlApplicationContext(
        new String[] { "/WEB-INF/form-servlet.xml" });
CreateReleaseServlet servlet = (CreateReleaseServlet) appContext.getBean("customerServiceProxy");

String next = servlet.execute(req); 
```

我得到以下异常：

```
 com.ibm.ws.webcontainer.webapp.WebApp logServletError SRVE0293E: [Servlet Error]-[CreateReleaseServlet]: java.lang.ClassCastException: $Proxy103 incompatible with com.sample.servlets.CreateReleaseServlet
        at com.sample.servlets.CreateReleaseServlet.service(CreateReleaseServlet.java:1823)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:668)
        at com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1229)
        at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:774)
        at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:456)
        at com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest(ServletWrapperImpl.java:178)
        at com.ibm.ws.webcontainer.filter.WebAppFilterChain.invokeTarget(WebAppFilterChain.java:136)
        at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:97)
        at com.sample.servlets.SampleFilter.doFilter(Unknown Source)
        at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:195)
        at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)
        at com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebAppFilterManager.java:928)
        at com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1025)
        at com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:3751)
        at com.ibm.ws.webcontainer.webapp.WebGroup.handleRequest(WebGroup.java:304)
        at com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:962)
        at com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContainer.java:1662)
        at com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:195)
        at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:452)
        at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewRequest(HttpInboundLink.java:511)
        at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.processRequest(HttpInboundLink.java:305)
        at com.ibm.ws.http.channel.inbound.impl.HttpICLReadCallback.complete(HttpICLReadCallback.java:83)
        at com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:165)
        at com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)
        at com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)
        at com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)
        at com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)
        at com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)
        at com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)
        at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1690) 
```

任何建议都会有很大帮助

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:18:17.100

除非您启用了类的代理（而不是接口的普通 JdkProxy），否则这将不起作用，因为代理对象不会充当您的 servlet 的子类。您可能可以将其转换为一个实例`Servlet`。也就是说，你的方法确实有点奇怪。你的拦截器是做什么的？用 servlet 做 AOP(ish) 的常用方法是创建一个 servlet 过滤器。如果这不是一个选项，我建议您将 servlet 转换为 Spring MVC 控制器并使用常规 Spring MVC 选项来配置拦截器。

# jquery - Jquery textFill 插件在表格中不起作用

> ID：15804746
> 
> 赞同：1
> 
> 时间：2013-04-04T07:11:28.513
> 
> 标签：jquery, text

我正在尝试使用 Jquery textFill 来调整表格内的文本大小。但我似乎无法让它发挥作用。我动态创建我的表

在第一张图片中，文字应调整到边缘....

插件：[https](https://github.com/jquery-textfill/jquery-textfill) ://github.com/jquery-textfill/jquery-textfill 代码：

```
 var p = document.createElement("p");
        p.innerHTML = "123412412412414214142";

        var cell = document.createElement('td');
        cell.appendChild(p);
        row.appendChild(cell);
        table.appendChild(row);
        $(table).textfill({innerTag:"p", debug:"test", maxFontPixels: 0}); 
```

![在此处输入图像描述](https://i.stack.imgur.com/I7YC1.png)

![在此处输入图像描述](https://i.stack.imgur.com/23Fwx.png)

小提琴：http: [//jsfiddle.net/AF9ak/](http://jsfiddle.net/AF9ak/)

# c++ - 将此作为参数传递给 C++ 中的成员

> ID：15804747
> 
> 赞同：4
> 
> 时间：2013-04-04T07:11:28.447
> 
> 标签：c++

我想像这样`this`作为参数传递给成员变量：

```
template<class T>
struct fun
{
    fun(T* pointer) : memberPointer(pointer)
    {
    }
    T* memberPointer;
};

struct gun
{
    gun() : member(this)
    {
    }
    fun<gun> member;
}; 
```

在 Visual Studio 中，我有下一个警告：`warning C4355: 'this' : used in base member initializer list`

你能解释一下为什么这样做是错误的吗？我只是将指针存储在成员构造函数中，以便以后使用它来`gun`调用`fun`.

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T07:13:24.600

潜在的问题是`this`指向尚未完全构造的对象。例如，如果你有这个：

```
template<class T>
struct fun
{
    fun(T* pointer) : memberPointer(pointer)
    {
        memberPointer->callMethod(); //this is 2nd to execute
    }

    T* memberPointer;
};

struct gun
{
    gun() : member(this) //this is 1st to execute
    {
       ptr = new char(); // this is 4rd to execute unless earlier UB prevents execution
    }
    void callMethod()
    {
       printf("%s", ptr); //this is 3rd to execute, you get UB here
    }
   fun<gun> member;
   char* ptr;
}; 
```

您会遇到未定义的行为，因为您将传递一个指向未完全构造的对象的指针，其中只应传递指向完全构造的对象的指针。我特意用 UB 编写了一些蹩脚的代码来更有说服力，在现实生活中你不一定会遇到 UB 问题，有时所有对象都会处于有效状态，所以你会得到一些非常微妙的初始化顺序错误。

那不是你的情况。您的情况很好-您不在乎对象尚未完全构造。但是，在更改代码时应该小心，以免陷入上述情况。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:14:26.627

这只是一个警告。如果您要`this`在 fun 构造函数中遵循，那么您将访问一个未初始化的对象。但你不是，你只是存储指针，所以你可以忽略警告。如果要关闭警告，请将其添加到代码顶部

```
#pragma warning (disable: 4355) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:14:45.050

这并不是完全错误的，但是当您传递指针时，您的枪对象可能尚未完全构建。因此，您可能会调用基类中依赖于对象的完整构造的方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T07:20:00.067

您想要的是实现静态多态性，最好通过[奇怪的重复模板模式 (CRTP)](http://en.wikipedia.org/wiki/Curiously_recurring_template_pattern)来处理。就您而言，您几乎就在那里：

```
template<class Base>
struct fun : public Base
{
    void foo()
    {
        // call gun function
        Base::bar();
    }
};

struct gun : public fun<gun>
{
    void bar()
    {
        /*...*/
    }
}; 
```

# java - 如何在 apache wicket 中启用/禁用复选框值更改的文本字段？

> ID：15804748
> 
> 赞同：0
> 
> 时间：2013-04-04T07:11:28.510
> 
> 标签：java, wicket

我有一个 html 表单，其中包含一个复选框和一个包含一些文本字段的 ListView。在选中复选框时，我希望禁用文本字段，反之亦然。

我正在使用带有 AjaxFormComponentUpdatingBehavior 的复选框。但它没有将文本字段设置为启用/禁用。以下是代码片段 -

```
Checkbox.add(new AjaxFormComponentUpdatingBehavior("onchange") {
        private static final long serialVersionUID = 1L;

        @Override
        protected void onUpdate(AjaxRequestTarget target) {
            listView.setEnabled(!Checkbox.getModelObject());
            listViewContainer.addOrReplace(listView);
            listViewContainer.setOutputMarkupId(true);
            target.addComponent(listViewContainer);
        }
    }); 
```

HTML是 -

```
<form wicket:id="geoForm">
      Checkbox: <input type="checkbox" wicket:id="unmanagedChk" />
        <div id="listViewContainer" wicket:id="listViewContainerId">
            <div wicket:id="customGeoForChannel">         
                <div>
                    Latitude(decimal):
                    <input type="text" wicket:id="lat" maxlength="18" />
                </div>
                <div>
                    Longitude(decimal):
                    <input type="text" wicket:id="lon" maxlength="19" />
                </div>
                <div>
                    Radius(miles):
                    <input type="text" wicket:id="radius" maxlength="3" />
                </div>
            </div>
        </div>
 </form> 
```

geoForm --- 表格

customGeoForChannel --- ListView

纬度、经度、半径 --- 文本字段

unmanagedChk --- 复选框

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T04:45:50.970

我将 listviewcontainer 添加到表单并将表单添加到目标，如下所示。这解决了这个问题。

```
protected void onUpdate(AjaxRequestTarget target) {
            listView.setEnabled(!Checkbox.getModelObject());
            listViewContainer.addOrReplace(listView);
            listViewContainer.setOutputMarkupId(true);
            target.addComponent(listViewContainer);
            form.add(listViewContainer);
            target.addComponent(form);
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T09:26:48.027

您的 listViewContainer 必须在通过 ajax 更新它*之前*写出它的标记 ID 。构建时立即执行此操作！

```
listViewContainer.setOutputMarkupId(true); 
```

顺便说一句，以下是多余的，因为 listView 已经包含在组件树中（至少我希望你已经添加了它）：

```
listViewContainer.addOrReplace(listView); 
```

# actionscript-3 - 通过 Flash 和 actionript 3.0 在 HTML5 中发布时遇到问题

> ID：15804750
> 
> 赞同：0
> 
> 时间：2013-04-04T07:11:57.057
> 
> 标签：actionscript-3, flash-cs5

你好呀...

```
 I am having a query about how to publish in HTML5 format through flash. 
```

我有一个包含动画和 Actionscript 3.0 的 .fla 文件，当我将它发布到 HTML 时，它要求在浏览器中下载 Flash 播放器。但是在加载 .html 文件时不必在浏览器中安装 Flash 播放器。所以请指导我解决这个问题。

提前致谢..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:31:37.100

您误解了发布到 HTML 的菜单意味着什么。这只是发布一个 SWF 文件和一个相应的 HTML 文件，该文件具有嵌入 SWF 的 HTML 代码。这不是交叉编译选项。这些是存在的，但这不是您在 Flash CS5 中默认获得的。

如果您对从 AS3 到 HTML/JS 的交叉编译感兴趣，可以查看[Randori](http://randoriframework.com/what_is_randori/)以及 FalconJS 等项目[：](https://cwiki.apache.org/FLEX/falcon-overview.html) http : [//blogs.adobe.com/bparadie/2011/11/19/what-is-falconjs/](http://blogs.adobe.com/bparadie/2011/11/19/what-is-falconjs/)

我最近在芝加哥看到了一些开发人员对这两者的讨论。它们看起来都是很有前途的概念（基本上避开了 Flash 播放器）。

如果您尝试为移动部署进行开发，另一种选择是将您的代码打包为空中安装程序。这将在 AIR 运行时（它支持大量设备、iOS、Android、Blackberry 等）之上运行您的代码，但这不是浏览器体验，而是下载应用程序类型的交易。

根据我从两位开发人员（一位来自 Apache Flex，一位是 Randori 的创建者）那里得到的信息，鉴于 Adob​​e 的平台不再受大多数移动设备的支持，我都不想过多信任它。

顺便说一句，Adobe 也有一个名为 Edge 的产品，它允许您使用与在 Flash 中获得的工具集类似的工具集来制作动画并导出 HTML/JS/CSS。如果您对 AS3 或面向对象编程或类型安全语言不感兴趣，交叉编译可能不是最佳选择。我个人最近一直在使用 AngularJS，并且由于与 Flex 的相似性而喜欢它，但是那里有很多很棒的脚本/库/框架，如果你解释一下你想要完成的事情，我可以给予更有针对性的指导。

# php - 音频元素在 Safari 5.1 中不起作用

> ID：15804752
> 
> 赞同：2
> 
> 时间：2013-04-04T07:12:14.740
> 
> 标签：php, javascript, audio, safari

我到处搜索我的问题并找到了一些答案，但是当我实施它时似乎没有用。

这是我的简单代码：

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Audio Test</title>
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script type="text/javascript">

  $(document).ready(function(){
    play_audio();
  });

  $(document).on("click", "#play-btn", function(){
    play_audio();
  });

  function play_audio(){
    var notify = document.getElementById("sound-notification");
    notify.play();
  }

</script>

</head>

<body>

<audio id="sound-notification" src="beep.ogg"></audio>

<button id="play-btn">Play</button>

hello world

</body>
</html> 
```

有两种方法可以在页面加载后和用户单击按钮时生成音频声音。

在 FF 和 Chrome 中一切正常，但在 Safari 中不行（我有 5.1.7 版）

我不确定我是否做错了什么或什么。

任何帮助都感激不尽。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-06T15:40:24.987

这对我在 Drupal 上的所有浏览器中的元素上添加点击声音很有用：

```
 var snd = new Audio(Drupal.settings["basePath"] + "sites/all/themes/your_theme/click.ogg");
    var sndSafari = new Audio(Drupal.settings["basePath"] + "sites/all/themes/your_theme/click.mp3");

    var is_safari = navigator.userAgent.indexOf("Safari") > -1;

    jQuery('body a').click(function(){
         if(is_safari){
            sndSafari.play();
         }else{
            snd.play();
         }
    }); 
```

* * *

这是额外的信息，以防有人需要它：

Firefox 3.5+ >> 支持 .ogg、.wav

IE9+ >> 支持.mp3

Chrome 6+ >> 支持 .ogg、.mp3、.mp4

Safari 5+ >> 支持 .mp3、.mp4、.wav

Opera 10.5+ >> 支持.ogg、.wav

确保正确添加您的声音路径（我使用的是 drupal api）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:15:59.097

您应该使用 html5 doctype 使页面将其解释为 HTML5 文档。

```
<!doctype html> 
```

而不是你用过的那种。

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
```

**更新代码**

```
<script type="text/javascript">

$(function() {
$(document).on("click", "#play-btn", function(){
    play_audio();
  });

  function play_audio(){
    var notify = document.getElementById("sound-notification");
    notify.play();
  }

});

</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-17T01:03:10.590

我终于让它工作了...

```
<audio id="sound-notification">
  <source scr="beep.ogg" type="audio/ogg"></source>
  <source src="beep.mp3" type="audio/mpeg"></source>
</audio> 
```

希望这会帮助任何人。

# alfresco - 带有 Alfresco 3.1 的 DOTCMIS

> ID：15804755
> 
> 赞同：0
> 
> 时间：2013-04-04T07:12:20.817
> 
> 标签：alfresco, dotcmis

我有 Alfrsco 3.1 实现。我可以在这个版本中使用 DOTCMIS.dll 吗？如果是的话，我可以从哪里下载相同的？请尽快回复。

谢谢，

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T09:07:04.603

Alfresco 3.1 支持针对 CMIS v0.5[的 CMIS 草案版本。](http://wiki.alfresco.com/wiki/Alfresco_Enterprise_3.1#Alfresco_Draft_CMIS_Implementation)

[目前（2013 年 3 月） Apache Chemistry](http://chemistry.apache.org/)中的各种库都支持 CMIS v1.0，其中一些还支持一些 CMIS v1.1 草案功能。对旧的规范草案版本有一些支持，但每个人通常都使用 v1.0 实现。

Alfresco 3.1 已经很老了，所以我强烈建议你升级。最新版本的 Alfresco 很好地支持 CMIS v1.0，使用 DotCMIS 不会有任何问题。如果您确实决定坚持使用旧的 Alfresco，我希望它会在很大程度上发挥作用……

# c# - 从 json windows phone 解析字典

> ID：15804758
> 
> 赞同：2
> 
> 时间：2013-04-04T07:12:32.710
> 
> 标签：c#, windows-phone-8

我有两段代码

**代码1**

```
string json = @"{""properties"":{""name"":""carl""}}";
try
{
    MemoryStream stream = GetMemoryStreamFromString(json);
    Type type = typeof(Person);
    DataContractJsonSerializer serializer = new DataContractJsonSerializer(type);
    object obj = serializer.ReadObject(stream);
    Debug.WriteLine(obj);
    Person person = obj as Person;
}
catch (Exception ee)
{
    Debug.WriteLine(ee.Message);
}

//And my classes
[DataContract]
public class Person
{
    [DataMember]
    public Property properties { set; get; }

    public Person() { }
}

[DataContract]
public class Property
{
    [DataMember]
    public string name { set; get; }

    public Property() { }
} 
```

**代码2**

```
string json = @"{""properties"":{""name"":""carl""}}";
try
{
    MemoryStream stream = GetMemoryStreamFromString(json);
    Type type = typeof(Person);
    DataContractJsonSerializer serializer = new DataContractJsonSerializer(type);
    object obj = serializer.ReadObject(stream);
    Debug.WriteLine(obj);
    Person person = obj as Person;
}
catch (Exception ee)
{
    Debug.WriteLine(ee.Message);
}

//And my class
[DataContract]
public class Person
{
    [DataMember]
    public Dictionary<string,string> properties { set; get; }

    public Person() { }
} 
```

Code1 工作正常，但 Code2 给了我例外。这是日志

> 无法反序列化数据协定类型“ScrollViewExample.Person”，因为成员“属性”不是公共的。将成员设为公开将修复此错误。或者，您可以将其设为内部，并在程序集上使用 InternalsVisibleToAttribute 属性以启用内部成员的序列化 - 有关更多详细信息，请参阅文档。请注意，这样做有一定的安全隐患。

这里的问题是我没有为它定义一个结构，`properties`它可以有任何键，所以我不能为它定义一个类。我发布这个问题是因为我有一个[问题](https://stackoverflow.com/q/15630873/468724)，经过调查我发现我无法解析字典。因此，我将我的问题简化为一个更简单的问题，以便你们可以提供您的意见

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-17T05:17:27.443

不幸的是`DataContractJsonSerializer`，希望您的 json 数据为

```
 {"properties":[{"Key":"Name","Value":"Valorie"},{"Key":"Month","Value":"May"},{"Key":"Year","Value":"2013"}]} 
```

我认为使用[Json.NET](http://json.codeplex.com/)解析 json 是一个好主意

# svn - svn 恢复到旧版本并在 Windows 中提交

> ID：15804762
> 
> 赞同：3
> 
> 时间：2013-04-04T07:12:52.750
> 
> 标签：svn

我重新加载了该项目的旧版本，（3 次修订，假设 1 为旧版本，4 为最新版本）。我需要在版本 1 中进行一些更改，并且我需要提交它。从现在开始，我想继续使用版本 1。但是 svn 不允许我这样做。

我还需要保留版本 2、3 和 4。

我认为如果我对版本 1 进行一些更改并提交它，我会得到版本 5。但我认为它存在分支问题，但这真的很复杂，我无法从互联网上找到解决方案。

有谁知道该怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T11:13:51.973

这[在手册中](http://svnbook.red-bean.com/en/1.7/svn.branchmerge.basicmerging.html#svn.branchmerge.basicmerging.undo)有描述。您需要执行“反向合并”以撤消自修订版 1 以来所做的更改，提交该更改，然后继续。

`svn merge -r 4:1 URL`

或者您可以通过修订逐步完成

```
svn merge -c -4 URL
svn merge -c -3 URL
svn merge -c -2 URL 
```

# mysql - mysql在两个unix时间戳之间获取数据

> ID：15804766
> 
> 赞同：0
> 
> 时间：2013-04-04T07:13:08.613
> 
> 标签：mysql, between

我想将以下查询与 Wilson Score Confidence 结合使用，取自[如何不按平均评分排序，](http://www.evanmiller.org/how-not-to-sort-by-average-rating.html)以根据用户搜索后过去 24 小时内的投票计算相关内容。我将 unix 时间戳存储在一个字段中，但它不是`datetime`类型。

现在查询是：

```
 SELECT p.id, p.post, p.upvotes, p.downvotes, ((upvotes + 1.9208) / (upvotes + downvotes) - 
 1.96 * SQRT((upvotes * downvotes) / (upvotes + downvotes) + 0.9604) /
         (upvotes + downvotes)) / (1 + 3.8416 / (upvotes + downvotes)) 
   AS ci_lower_bound FROM posts p WHERE upvotes + downvotes > 0 
   ORDER BY ci_lower_bound DESC; 
```

我需要获取过去 24 小时内发布的热门内容。我知道我需要使用附加`WHERE`条件，`BETWEEN`但不确定如何？

请帮忙。

**更新**基于下面的答案和一些调整，我做了这样的事情：

```
 SELECT p.id, p.post, p.upvotes, p.downvotes, ((upvotes + 1.9208) / (upvotes + downvotes) - 1.96 * SQRT((upvotes * downvotes)
 / (upvotes + downvotes) + 0.9604) / (upvotes + downvotes))
 / (1 + 3.8416 / (upvotes + downvotes)) AS ci_lower_bound 
 FROM posts p WHERE upvotes + downvotes > 0 
 AND p.unix_timestamp BETWEEN 1363023402 AND 1363109802 ORDER BY ci_lower_bound DESC 
```

我通过从当前时间戳中减去 86400 秒（即 24 小时）来计算第一个值并得到结果。请，如果您认为它是否仍然可以改进，请建议我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:32:58.697

```
SELECT  *, complex_formula
FROM    posts
WHERE   upvotes + downvotes > 0
        AND ts BETWEEN UNIX_TIMESTAMP($user_time - INTERVAL 1 DAY) AND UNIX_TIMESTAMP($user_time) 
```

# android - AlertDialog 主题不起作用

> ID：15804772
> 
> 赞同：1
> 
> 时间：2013-04-04T07:13:33.133
> 
> 标签：android, android-alertdialog

我的来源

```
private static final int ALERT_DIALOG = 1;

    @Override
    public void onBackPressed() {
        // buildAlertMessageExit();

        showDialog(ALERT_DIALOG);
    }

    @Override
    protected Dialog onCreateDialog(int id) {
        Dialog dialog = null;
        if (id == ALERT_DIALOG) {
            ContextThemeWrapper ctw = new ContextThemeWrapper(this,
                    R.style.AlertDialogCustom);
            AlertDialog.Builder builder = new AlertDialog.Builder(ctw);
            builder.setMessage("Hello World")
                    .setTitle("Alert Dialog")
                    .setIcon(android.R.drawable.ic_dialog_alert)
                    .setCancelable(false)
                    .setPositiveButton("Close",
                            new DialogInterface.OnClickListener() {
                                public void onClick(DialogInterface dialog,
                                        int which) {
                                    dialog.dismiss();
                                }
                            });
            dialog = builder.create();
        }
        if (dialog == null) {
            dialog = super.onCreateDialog(id);
        }
        return dialog;
    } 
```

样式.xml

```
 <style name="AlertDialogCustom" parent="@android:style/Theme.Dialog">
     <item name="android:windowBackground">@null</item> 
    <item name="android:windowFrame">@null</item>
   </style> 
```

**结果没有主题**

![在此处输入图像描述](https://i.stack.imgur.com/vsXzL.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T12:00:22.903

插入这个：

```
ContextThemeWrapper ctw = new ContextThemeWrapper(this,
                    R.style.AlertDialogCustom);
            AlertDialog.Builder builder = new AlertDialog.Builder(ctw); 
```

尝试

```
AlertDialog.Builder builder = new AlertDialog.Builder(this,
                R.style.AlertDialogCustom_); 
```

**`But its require MIN API LEVEL 11.`**

如果您需要支持`Android >= 3.0`，您可能必须创建一个`custom dialog`（而不是使用`AlertDialog`.

检查此[链接](https://stackoverflow.com/a/14770728/1168654)以获取更多详细信息。

# android - 如何删除所有项目Listview android中的部分文本？

> ID：15804778
> 
> 赞同：0
> 
> 时间：2013-04-04T07:13:51.533
> 
> 标签：android, listview

我在列表视图中有目录列表和列表

![在此处输入图像描述](https://i.stack.imgur.com/O8vfU.png)

我想从项目中删除所有项目 00 3-0 rec deele 中的部分文本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:27:25.593

执行此操作的简单方法是在适配器中为列表视图格式化文本。

[您可以在适配器的 getView 中执行此操作](http://developer.android.com/reference/android/widget/Adapter.html#getView%28int,%20android.view.View,%20android.view.ViewGroup%29)

使用 yourString.replace("00 3-0",""); 在 getView 或您的项目列表中通过迭代它们。

[看这里](http://developer.android.com/reference/java/lang/String.html#replace%28char,%20char%29)

改变这个

list.add(m.group(1));

至

list.add((m.group(1)).replace("00 3-0",""));

# playframework - 如何制作播放框架（2.1）以xunit格式导出测试结果

> ID：15804779
> 
> 赞同：8
> 
> 时间：2013-04-04T07:13:51.560
> 
> 标签：playframework, jenkins, sbt, playframework-2.1, xunit

用戏！framework (play2) - 我正在通过“play test”运行测试。

这漂亮地打印了结果 - 但我也希望将结果放入所有 CI 服务器都了解如何以图形方式报告的 xunit“XML”格式。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-04-04T21:54:51.107

Play 2.1.1 将测试报告写入 target/test-reports。

对于 Java，无需进一步配置，但对于 Scala，请调整您的项目/Build.scala：

```
import sbt._
import Keys._
import play.Project._

object ApplicationBuild extends Build {

  val appName         = "so-scala"
  val appVersion      = "1.0-SNAPSHOT"

  val appDependencies = Seq(
    // Add your project dependencies here,
    jdbc,
    anorm
  )

  val main = play.Project(appName, appVersion, appDependencies).settings(
    //write test reports and to console
    testOptions in Test += Tests.Argument("junitxml", "console")
  )

} 
```

# python - pydev 多线程调试

> ID：15804780
> 
> 赞同：3
> 
> 时间：2013-04-04T07:14:05.390
> 
> 标签：python, pydev

我正在尝试调试一个使用 pynetdicom 库的应用程序。我不确定该具体细节有多相关，但相关的是它大量使用多线程来运行后台套接字侦听器任务而不阻塞主线程。storescp.py 示例可用于重现这一点。

每当我放置遇到的断点时（无论遇到什么线程、主线程或子线程），我都会得到以下回溯：

```
Traceback (most recent call last):
  File "/Applications/Aptana Studio 3/plugins/org.python.pydev_2.7.0.2013012902/pysrc/pydevd.py", line 1397, in <module>
    debugger.run(setup['file'], None, None)
  File "/Applications/Aptana Studio 3/plugins/org.python.pydev_2.7.0.2013012902/pysrc/pydevd.py", line 1090, in run
    pydev_imports.execfile(file, globals, locals) #execute the script
  File "/Users/alexw/Development/Python/kreport2/KReport2/dicomdatascraper.py", line 183, in <module>
    oldDicomList = copy.copy(newData)
  File "/Users/alexw/Development/Python/kreport2/KReport2/dicomdatascraper.py", line 183, in <module>
    oldDicomList = copy.copy(newData)
  File "/Applications/Aptana Studio 3/plugins/org.python.pydev_2.7.0.2013012902/pysrc/pydevd_frame.py", line 135, in trace_dispatch
    self.doWaitSuspend(thread, frame, event, arg)
  File "/Applications/Aptana Studio 3/plugins/org.python.pydev_2.7.0.2013012902/pysrc/pydevd_frame.py", line 25, in doWaitSuspend
    self._args[0].doWaitSuspend(*args, **kwargs)
  File "/Applications/Aptana Studio 3/plugins/org.python.pydev_2.7.0.2013012902/pysrc/pydevd.py", line 832, in doWaitSuspend
    self.processInternalCommands()
  File "/Applications/Aptana Studio 3/plugins/org.python.pydev_2.7.0.2013012902/pysrc/pydevd.py", line 360, in processInternalCommands
    thread_id = GetThreadId(t)
  File "/Applications/Aptana Studio 3/plugins/org.python.pydev_2.7.0.2013012902/pysrc/pydevd_constants.py", line 140, in GetThreadId
    return thread.__pydevd_id__
  File "/Users/alexw/.virtualenvs/kreport2dev/devlibs/pynetdicom/source/netdicom/applicationentity.py", line 73, in __getattr__
    obj = eval(attr)()
  File "<string>", line 1, in <module>
NameError: name '__pydevd_id__' is not defined 
```

我的想法是，也许，为了使事情正常工作，PyDev 猴子修补 a`__pydevd_id__`到派生的线程中，但是未能将它们修补到*这些*线程中，因为它们实际上是子类而不是`threading.Thread`（在这种情况下， worker 是`class Association(threading.Thread):`) 的一个实例。

当然，我对 PyDev 的了解还不足以证实这个理论，或者修复它。互联网似乎也没有。

子类`Thread`化是一种很少使用的模式，以至于在 PyDev 架构中根本没有考虑到它吗？如果不重新设计库，如何解决这个问题？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T07:54:43.923

我只需要更仔细地查看那个追溯。

pynetdicom 库在其子类中`threading.Thread`覆盖`__getattr__`并在某种程度上破坏了它。问题是：

```
def __getattr__(self, attr):
    #while not self.AssociationEstablished:
    #    time.sleep(0.001)
    obj = eval(attr)

    # do some stuff

    return obj 
```

当传递不存在的属性时，会引发 NameError。这不会被 pydev 的猴子补丁程序（`if thread.__pydevd_id__ raises AttributeError, thread.__pydevd_id__ = stuff`）捕获

解决方案是这样更新该部分：

```
def __getattr__(self, attr):
    #while not self.AssociationEstablished:
    #    time.sleep(0.001)
    try:
        obj = eval(attr)
    except NameError:
        raise AttributeError

    # do some stuff

    return obj 
```

`__getattr__`如果查询的属性不存在，这会拦截 NameError 并引发 AttributeError 。

# css - 显示位置：相对兼容性问题

> ID：15804785
> 
> 赞同：0
> 
> 时间：2013-04-04T07:14:18.847
> 
> 标签：css, internet-explorer, positioning

显示="位置：相对；" 在 IE 中玩杂耍（浏览器模式：IE7/8/9 - 文档模式：Quirks）但是如果我将文档模式从 Quirks 更改为 IE7/8 甚至 9，它工作正常。如何通过CSS设置这个问题？请看下面的示例代码：

CSS

```
.aFlyOut{
    padding: 10px;
    bottom: 0px;
    border: 1px solid #a6adb3;
    background-color: #FFFFFF;
    position: relative;
    z-index: 9999;  
}

.aFlyoutCollapse
{
    background-image:  url("/vtpOnline/images/settings.png");
    background-repeat: no-repeat;
    background-position: 100% 50%;  
    cursor:pointer;
    width:40px;
    height: 20px;
    text-indent: 21px;
    color: #FFFFFF;
}   

.aFlyoutExpand
{
    background-image:  url("/vtpOnline/images/settings.png");
    background-repeat: no-repeat;
    background-position: 100% 50%;
    cursor:pointer;
    width:40px;
    height: 20px;
    text-indent: 21px;
    color: #FFFFFF;
}

.aFlyoutButton{
    height: 12px;
    float: right;
    width: 38px;
    cursor: hand;
    padding-right: 4px;
}
.aFlyout{
    float: right;
    background-color: #FFFFFF;
    border:1px solid #a5acb2;
    right: 6px;
    #right: 8px;
    padding: 0px;

}
.aFlyoutHeader{
    padding: 4px 6px 3px 0;
    background: url("/vtpOnline/images/actionFlyoutHeaderIcon.gif") #090999 no-repeat;
    color: #FFFFFF;
    text-indent: 23px;
    font-size: 11px;
    font-weight: bold;
}
.aFlyoutLinkWrapper{
    padding:5px;
}
.aFlyoutLinkWrapper a{
    padding: 5px;
    color: #010356;
    font-size: 11px;
    display: block;
    text-decoration: none;
}
.aFlyoutLinkWrapper a:hover{
    color: #0060ff;
    background-color: #f2f2f2;
}
.aFlyoutRefreshLink{
    background: url("/vtpOnline/images/addNote.png") no-repeat 0 50%;
    text-indent: 12px;
    #text-indent: 10px;
} 
```

HTML

```
<div class="aFlyoutButton" id="aFlyoutLink"> 
  <!-- Action Flyout Action Button -->
  <div class="aFlyoutExpand" title="Actions" id="aFlyoutButton" onMouseOver="aFlyoutExpand()" onMouseOut="aFlyoutExpandCollapse()" onClick="aFlyoutExpandCollapse()"> </div>
  <div id="aFlyout" class="aFlyout" style="display: block;" onMouseOver="aFlyoutExpand()" onMouseOut="aFlyoutExpandCollapse()"> 
    <!-- Action Flyout Action Header -->
    <div class="aFlyoutHeader" style="color: #FFFFFF;font-size: 11px !important;"> Actions </div>
    <!-- Action Flyout Links Panel -->
    <div class="aFlyoutLinkWrapper" style="width: 100px;"> <a class="aFlyoutRefreshLink" href="#" id="j_id_jsp_2094016106_1:REFRESHNOTESCREENACTION" name="j_id_jsp_2094016106_1:REFRESHNOTESCREENACTION" onClick="aFlyoutExpandCollapse();;A4J.AJAX.Submit('j_id_jsp_2094016106_0','j_id_jsp_2094016106_1',event,{'oncomplete':function(request,event,data){Richfaces.showModalPanel('AddNoteModalPanel');setValues();return false;},'similarityGroupingId':'j_id_jsp_2094016106_1:REFRESHNOTESCREENACTION','parameters':{'j_id_jsp_2094016106_1:REFRESHNOTESCREENACTION':'j_id_jsp_2094016106_1:REFRESHNOTESCREENACTION'} ,'actionUrl':'/vtpOnline/faces/order/edit/default.jsf'} );return false;">Notes</a> </div>
  </div>
</div> 
```

当我将鼠标悬停时，它显示：

![在此处输入图像描述](https://i.stack.imgur.com/tbiUl.png)

但是，它应该是：

![在此处输入图像描述](https://i.stack.imgur.com/bkugJ.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:25:11.573

文档模式怪癖意味着您实际上是在运行 IE6 之前的渲染引擎。解决这个问题的一个很好的解决方案是在 HTML 文档的顶部添加一个 doctype。默认情况下，这会将浏览器置于标准模式，并允许您的位置：相对；按预期工作。

最简单的文档类型是 HTML5 的：

```
<!DOCTYPE html> 
```

将其放在 HTML 的第 1 行。没有办法通过 CSS 强制标准模式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T09:52:56.573

谢谢大家，已经解决；请参阅以下代码参考。我已经将位置从相对位置更改为绝对位置，并设置顶部和高度来固定位置。

```
.aFlyOut{
   position: absolute;
   top: 28px;
   height: 70px;
} 
```

# wordpress - 在 wordpress 中获取自定义字段值

> ID：15804788
> 
> 赞同：2
> 
> 时间：2013-04-04T07:14:28.743
> 
> 标签：wordpress

我在 wordpress 中使用 Advanced Custom Fields 插件。我必须获得存储在页面中的值。有没有什么功能。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T09:28:40.983

您应该使用[`get_field()`](http://www.advancedcustomfields.com/docs/functions/get_field/)或[`the_field()`](http://www.advancedcustomfields.com/docs/functions/the_field/)。

您将帖子元名称作为第一个参数传递。您可以选择将关联的帖子 ID 作为第二个参数传递。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-04T07:20:28.547

你可以使用这个函数[get_post_meta()](http://codex.wordpress.org/Function_Reference/get_post_meta) 它接受三个参数 post id、meta key 和 single 哪个 Boolean 和 optional

或者，如果您不想编辑模板文件，只需在页面或帖子的内容部分添加这些短代码。[了解更多信息...](http://www.advancedcustomfields.com/resources/getting-started/displaying-custom-field-values-in-your-theme/)

```
[acf field="{$field_name}"]
[acf field="{$field_name}" post_id="{$post_id}"] 
```

# javascript - 如何使用java脚本在文本字段中的textchange上调用函数

> ID：15804789
> 
> 赞同：1
> 
> 时间：2013-04-04T07:14:36.880
> 
> 标签：javascript, jquery, html

我有 textfiedl，我正在调用下面给出的函数，但问题是它正在输入但不能在 keyup 上工作，或者当文本字段的值发生变化时，我想调用此方法。

Javascript：

```
$(function() {

    var input = $('.input'),
        bar = $('.bar'),
        bw = bar.width(),
        percent = bar.find('.percent'),
        ps = percent.find('span');

    input.on('keydown', function(e) {
        if (e.keyCode == 13) {
            var t = $(this),
                val = t.val();
            if (val >= 0 && val <= 100) {
                var w = 100 - val,
                    pw = (bw * w) / 100,
                    pa = {
                        height: w + '%'
                    },
                    cw = (bw - pw) / 2,
                    ca = {
                        left: cw
                    }
                ps.animate(pa);
                cs.text(val + '%');
                circle.animate(ca, function () {
                    circle.removeClass(name)
                }).addClass(name);
            } else {
                alert('range: 0 - 100');
                t.val('');
            }
        }
    });

}); 
```

html:

```
<div class="text">
    <input type="text" class="input" value="0" id="sliderValue170h" />
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T07:22:19.690

只需将更改添加到它适用于 keydown 和 change 的功能：

$（函数（）{

```
var input = $('.input'),
    bar = $('.bar'),
    bw = bar.width(),
    percent = bar.find('.percent'),
    ps = percent.find('span');

input.on('keydown change', function(e) { // in here it works for both keydown and change
    if (e.keyCode == 13) {
        var t = $(this),
            val = t.val();
        if (val >= 0 && val <= 100) {
            var w = 100 - val,
                pw = (bw * w) / 100,
                pa = {
                    height: w + '%'
                },
                cw = (bw - pw) / 2,
                ca = {
                    left: cw
                }
            ps.animate(pa);
            cs.text(val + '%');
            circle.animate(ca, function () {
                circle.removeClass(name)
            }).addClass(name);
        } else {
            alert('range: 0 - 100');
            t.val('');
        }
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:20:26.110

使用`keyup`而不是`keydown`

```
 input.on('keyup', function(e) {
   .... 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:22:29.780

您可以像这样使用 onkeypress 事件：

HTML

```
 <div class="text">
   <input type="text" class="input"  value="0" onkeypress="return runScript(event)"   id="sliderValue170h"/>
   </div> 
```

Javascript

```
 function runScript(e)
 {
     //Set Your logic
      if (e.keyCode == 13) {

      }
 } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T07:32:40.297

```
$('#sliderValue170h').bind('change keyup',function(){

var t = $(this),
            val = t.val();
        if (val >= 0 && val <= 100) {
            var w = 100 - val,
                pw = (bw * w) / 100,
                pa = {
                    height: w + '%'
                },
                cw = (bw - pw) / 2,
                ca = {
                    left: cw
                }
            ps.animate(pa);
            cs.text(val + '%');
            circle.animate(ca, function () {
                circle.removeClass(name)
            }).addClass(name);
        } else {
            alert('range: 0 - 100');
            t.val('');
        }
}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-04-04T07:17:18.687

```
$('#sliderValue170h').change(function(){
{
  //your code here
}); 
```

# c# - 从 ASP.NET MVC 3 站点删除/禁用 HttpModules 的正确方法

> ID：15804791
> 
> 赞同：0
> 
> 时间：2013-04-04T07:14:44.723
> 
> 标签：c#, asp.net-mvc-3

我在我的 ASP.NET MVC 3 网站中使用 Windows 身份验证。除此之外，我没有使用任何身份验证模块或会话或缓存模块，所以我想禁用这些模块。

我已经阅读了几篇关于此的文章：

[https://serverfault.com/questions/72338/iis7-lock-violation-error-http-handlers-modules-and-the-clear-element](https://serverfault.com/questions/72338/iis7-lock-violation-error-http-handlers-modules-and-the-clear-element)

[http://www.codeproject.com/Articles/23306/10-ASP-NET-Performance-and-Scalability-Secrets](http://www.codeproject.com/Articles/23306/10-ASP-NET-Performance-and-Scalability-Secrets)

[比 HttpHandlers 更快的东西？](https://stackoverflow.com/questions/509978/something-faster-than-httphandlers/510001#510001)

这是禁用我不使用的模块的正确方法：

```
<httpModules>
   <remove name="PassportAuthentication" />
   <remove name="Session" />
</httpModules> 
```

禁用未使用模块的正确方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-11-01T16:20:24.600

Mads Kristensen（他以 Web Essentials 闻名）不久前简要介绍了这一点。建议（来自 ScottGu 的建议）不要担心：

[http://madskristensen.net/post/remove-default-http-modules-in-aspnet](http://madskristensen.net/post/remove-default-http-modules-in-aspnet)

删除默认模块可能会稍微提高性能，但这可能不值得增加问题的风险。

如果您仍想继续，您提供的配置片段是正确的。

# javascript - HTML5 History API：刷新和返回问题

> ID：15804794
> 
> 赞同：5
> 
> 时间：2013-04-04T07:14:48.847
> 
> 标签：javascript, jquery, html, history.js

我正在编写代码来创建类似于从时间线在 Facebook 上查看照片的用户体验......

1.  查看时间线，单击照片，它会以模式打开
2.  您刷新它会转到图像的专用页面
3.  你回击并返回时间线

**我通过HTML5 History API**完成了大部分工作。这是单击图像时我正在做的事情...

1.  我`preventDefault()`用来避免跟随链接（到图像页面），而是用 AJAX 加载带有图像的模式
2.  I`pushState`图片页面的 URI，因此它出现在地址栏中
3.  现在我刷新并转到专用图像页面（步骤 #2 中的 URI）
4.  然后我点击“返回”按钮，它会在地址栏中显示上一页 URI（即时间线），但我仍在图像页面上。

**问题：**在第 4 步，有没有办法绕过历史 API，让浏览器执行标准的“返回”操作，这样我就可以返回到上一页（即时间线）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:20:04.297

你试过一个好的老式的`history.go(-1);`吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-02-15T15:39:36.563

我这样做：

**第 1 步**- 保存初始页面 url（尚未更改）

```
var savedPageStateURL = window.location.pathname; 
```

**第 2 步**- 替换当前历史状态（*不*推送，仅替换）

```
window.history.replaceState( {}, null , url ); 
```

**第 3 步**- 恢复历史更改并返回到第一步的状态

```
if( 'pushState' in window.history && window.history.state )
    window.history.replaceState( {}, null , savedPageStateURL ); 
```

# mysql - 计算每个表的行数（从子查询返回表名）

> ID：15804797
> 
> 赞同：4
> 
> 时间：2013-04-04T07:14:59.240
> 
> 标签：mysql, sql, database

我正在从一个给出表列表的表中进行查询（基于不同的条件列表会有所不同）。
我想显示表名列表及其行数。我怎样才能做到这一点？

我试过了

```
select count(*) from (select tablename from main_table) as t; 
```

但它只返回 main_table 中的条目数，而不是每个表中的条目数。
我可以使用系统表来获取行数，但我不想要所有表，只需要特定表，并且可能需要特定查询的行数。

算法是这样的

```
for tablenames in main_table where id>3:
    select count(*) from tablename where constraints 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T07:21:43.113

尝试这样的事情：

```
SELECT table_name, table_type, SUM(TABLE_ROWS) 
FROM information_schema.tables
WHERE table_schema = 'db5' -- or your own schema
    AND  table_type ='BASE TABLE'
    AND table_name LIKE 'mytables%'
GROUP BY table_name, table_type 
```

或这个

```
SELECT table_name, TABLE_ROWS FROM INFORMATION_SCHEMA.TABLES 
WHERE TABLE_SCHEMA = '{your_db}'; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-04-04T07:24:06.667

您可以简单地查询元数据：

```
SELECT  Table_Name, table_rows
FROM    INFORMATION_SCHEMA.TABLES
WHERE   TABLE_TYPE = 'BASE TABLE'
AND     TABLE_SCHEMA = 'YourDatabase'; 
```

或者，您将需要使用`UNION ALL`

```
SELECT  'T1' AS TableName, COUNT(*) AS Rows
FROM    T1
UNION ALL
SELECT  'T2' AS TableName, COUNT(*) AS Rows
FROM    T2
UNION ALL
SELECT  'T3' AS TableName, COUNT(*) AS Rows
FROM    T3; 
```

如果这需要动态完成，那么您可以使用动态 SQL：

```
SET @SQL = (SELECT GROUP_CONCAT('SELECT ''', 
                                TableName, 
                                ''' AS TableName, COUNT(*) AS Rows FROM ', 
                                TableName SEPARATOR ' UNION ALL ')
            FROM MainTable
            --WHERE Some condition to limit tables
            );

PREPARE stmt FROM @SQL;
EXECUTE stmt; 
```

**[SQL Fiddle 示例](http://www.sqlfiddle.com/#!2/d6911/33)**

这实质上会生成与解决方案相同的 SQL `UNION ALL`，但会根据主表的内容创建 SQL。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-27T11:58:46.127

这是动态 SQL 的示例，如果要创建具有三列的表：
第一个是`Table Name`包含 main_table 的表名，第二个是在 main_table`Column X`的列中包含单引号 (') 字符`User Name`，第三个是`Rows`包含计数中每个表的行数`Table Name`：

```
    SET @SQL = (选择 GROUP_CONCAT('SELECT''',
                                    `表名`,
                                    ''' AS `表名`,
                                    ', 引用(`用户名`), ',
                                    COUNT(*) AS Rows FROM `',
                                    `表名` SEPARATOR '` UNION ALL ')
                                    来自`.tables`
               );
    从@SQL 准备stmt；
    执行语句；
    DEALLOCATE PREPARE stmt;

```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-09-25T08:45:13.350

如果选择动态 SQL，并且某些列名包含空格，则会发生错误。在这种情况下，只能通过 INFORMATION_SCHEMA.TABLES 处理元数据（如果您有权使用它），而不是动态 SQL 查询！
假设您有表，并且该表的列名`Table Name`包含现有其他表的名称（带空格）。
如果你想使用动态 SQL 并且有一些带有空格的列名，那么正确的查询是：

```
    SET @SQL = (选择 GROUP_CONCAT('SELECT''',
                                `表名`,
                                ''' AS `表名`,
                                COUNT(*) AS Rows FROM `',
                                `表名` SEPARATOR '` UNION ALL ')
            从主表
            );
    从@SQL 准备stmt；
    执行语句；
    DEALLOCATE PREPARE stmt;

```

# maven - Maven 发布：准备失败，“必须指定 scm 连接或 developerConnection”

> ID：15804798
> 
> 赞同：36
> 
> 时间：2013-04-04T07:15:01.373
> 
> 标签：maven, maven-release-plugin

我正在尝试准备发布我的 Maven 项目，`mvn release:prepare`但它失败并出现以下错误：

> *原因：org.apache.maven.plugin.MojoFailureException：缺少必需的设置：必须指定 scm 连接或 developerConnection。*

在 maven.apache.org 上阅读了这些设置后，我看到有 SVN（版本控制）设置。但我没有使用版本控制。在这种情况下，我应该如何发布 Maven？
我正在使用 Maven 3.0.3。

* * *

## 回答 #1

> 赞同：45
> 
> 时间：2013-04-04T08:08:23.073

如果您只想更改版本，[版本 Maven 插件](http://www.mojohaus.org/versions-maven-plugin/)可能会有所帮助。

[版本：设置](http://www.mojohaus.org/versions-maven-plugin/set-mojo.html)可能是使用的好版本。

***请注意，由于您没有使用单片机，请在使用以下命令之前进行完整备份。***

```
mvn versions:set -DnewVersion=1.0 
mvn clean install
mvn versions:set -DnewVersion=1.1-SNAPSHOT 
mvn clean install 
```

无论如何，我强烈推荐并鼓励您使用 SCM 并通过遵循 Maven 良好实践来执行发布。

我希望这可能会有所帮助。

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2017-09-07T09:44:12.943

愿你的 pom.xml 没有条目

```
 <scm>        
    <connection>scm:svn:https://host:port/abc/xyz/trunk</connection>
 <developerConnection>scm:svn:https://host:port/abc/xyz/trunk</developerConnection>
    </scm>

<build>
        <pluginManagement>
            <plugins>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-release-plugin</artifactId>
                    <version>2.5.2</version>
                    <configuration>
                        <tagBase>https://host:port/abc/xyz/tag</tagBase>
                        <releaseProfiles>release</releaseProfiles>
                    </configuration>
                </plugin>               
            </plugins>
        </pluginManagement>
    </build> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2021-03-22T16:22:23.423

您需要添加您的 SCM 配置。在下面的示例中，我将 git 存储库添加到 master 分支

```
<scm>
    <developerConnection>
        scm:git:git@github.com:tufac2/sfg-pet-clinic.git
    </developerConnection>
</scm> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-11-12T22:07:09.477

在 Springboot 中，答案取决于您使用的插件

> docker-maven-插件：

*   mvn 码头工人：构建

> dockerfile-maven-插件：

*   mvn dockerfile:build

我希望这对你有帮助

问候

# javascript - 需要删除 URL 中 # 之后的所有内容

> ID：15804799
> 
> 赞同：-1
> 
> 时间：2013-04-04T07:15:03.243
> 
> 标签：javascript, jquery, html

如果您在[http://joshoak.es/test](http://joshoak.es/test)访问我的网站，您会看到 URL 更改为“ [http://joshoak.es/test/#/screens/d12245cc-1680-458d-89dd-4f0d7fb22724](http://joshoak.es/test/#/screens/d12245cc-1680-458d-89dd-4f0d7fb22724) ”

我可以在文档中看到它的来源

```
<script type="text/javascript">jQuery(document).ready(function(){jimMain.init("screens/d12245cc-1680-458d-89dd-4f0d7fb22724");}); 
```

如果我删除该代码，则页面不会加载。这不是我的网站，所以我对结构不太了解，但一位朋友问我是否可以解决这个问题。你有什么建议吗？

谢谢！

**编辑：**我已经意识到网站的开发方式，它不允许页面在没有所有信息的情况下加载。它是使用移动开发平台构建的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:16:02.967

您可以使用[split()](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/split)

**[现场演示](http://jsfiddle.net/NzL4g/)**

```
url = "http://joshoak.es/test/#/screens/d12245cc-1680-458d-89dd-4f0d7fb22724"
result = url.split('#')[0]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:17:20.360

尝试：

```
history.pushState("", document.title, window.location.pathname); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:21:22.783

```
url = "http://joshoak.es/test/#/screens/d12245cc-1680-458d-89dd-4f0d7fb22724"
result = url.split('#')[0];
window.location.href=result; 
```

希望这会帮助你。

# c# - 对用于在 mscorlib 中调用 ToString() 的对象进行不必要的转换

> ID：15804800
> 
> 赞同：11
> 
> 时间：2013-04-04T07:15:06.187
> 
> 标签：c#, object, resharper, virtual, tostring

在`StringWriter`（*mscorlib.dll*）中，我找到了一个代码：

```
private StringBuilder _sb;
// (...)
public override string ToString()
{
  return ((object) this._sb).ToString();
} 
```

我看不出这样做的原因（我的 R# 也是如此，但有时它是错误的）。`ToString()`所以`virtual`铸造不会改变行为。

这里正在进行什么样的优化？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T07:47:45.917

它没有任何区别，也没有优化。生成的带和不带强制转换的 IL 完全相同。事实上，当使用 Reflector 打开 mscorlib 时，它只显示`return this._sb.ToString();`.

如您所说，`ToString()`is `virtual`，并且没有标记`new`in `StringWriter`，因此生成的IL在任何情况下都引用`Object.ToString()`（最初声明的方法）（一些基本值类型除外）：

```
ldfld class System.Text.StringBuilder System.IO.StringWriter::_sb
callvirt instance string System.Object::ToString() 
```

即使查看 CLI 2.0 源代码，代码如下：

```
public override String ToString() {
    return _sb.ToString();
} 
```

根据反射器的唯一区别`StringBuilder.ToString()`是`unsafe`。在 IL 中没有 this 的关键字，但是可以通过检查不安全的指令来找到它。R# 可能会认为这是一个区别（尽管不是），并且更喜欢明确。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:47:20.950

> 这里正在进行什么样的优化？

没有任何。R# 在这里是错误的。

ILSpy和[JustDecompile都](http://ilspy.net/)[没有](http://www.telerik.com/products/decompiler.aspx)显示这个奇怪的演员表，我也没有在[参考源代码](http://referencesource.microsoft.com/netframework.aspx)中找到它。

所以代码只是

```
public override string ToString()
{
    return this._sb.ToString();
} 
```

# web - 使网站本地化

> ID：15804803
> 
> 赞同：0
> 
> 时间：2013-04-04T07:15:15.783
> 
> 标签：web

我将建立一个用于文件操作的网站。这个想法是用户将设法将他的文件上传到网站，然后单击“操作”按钮，然后他将获得结果文件。此外，用户必须根据他试图操作的文件数量付费。

文件操作的代码已经用 JAVA 编写。

问题是，其中一些文件可能是真正敏感和私密的，因此用户不会乐于通过互联网上传到我的网站。

我想制作一个本地版本的网站，让用户将它（本地版本）下载到他的电脑上（唯一访问互联网的就是支付操作）。

但似乎有两个问题：

1.  当我决定更改我网站中的任何内容时，它不会影响本地用户。

2.  本地网站会很容易被“破解”为了不付钱……

这是我的第一个网站，

您对如何解决这两个问题之一有任何建议吗？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:27:18.133

关于问题

(1) 您必须实施一些更新机制，例如您的“本地网站”（可能是包含 Web 服务器的 .jar 文件）可以通过互联网检查是否有新版本可用，然后下载并安装它（但是，您通常应该征求用户的许可才能这样做，因为许多用户不喜欢静默自动更新软件）。关于问题

（2）你可能会使用一些代码混淆器来使你编译的java类更难反编译，并使用加密的SSL连接进行与支付相关的交易（同时检查服务器证书以避免中间人攻击）最终用户）; 但是，用户可以在其计算机上拥有的任何软件最终都会被某人破解。因此，最好的解决方案可能是将所有内容都保留在*您的*服务器，同时尽可能保护整体：对所有内容使用 SSL 加密连接，或者即使文件高度敏感，也提供公钥，以便用户可以在将文件发送到网站，并使用其公钥加密要发送回用户的文件（他/她必须向您提供，这对于通过 Internet 传输根本不重要）。还要仔细检查您的网络服务器及其上运行的所有软件的安全性，以避免可能允许有人入侵它的错误。使用 GPG/公钥加密并且只在您的服务器上存储加密数据可能已经是一种很好的保护（但您必须确保无法以任何方式获取您的私钥！）。

# android - Android 操作栏 SearchView 作为自动完成？

> ID：15804805
> 
> 赞同：42
> 
> 时间：2013-04-04T07:15:20.423
> 
> 标签：android, autocomplete, autocompletetextview, searchview

我在操作栏中使用 SearchView。我想在搜索视图上使用自动完成功能从数据库中获取结果。

这可能吗？还是我需要使用自定义文本框，然后添加自动完成？

* * *

## 回答 #1

> 赞同：41
> 
> 时间：2013-11-15T00:01:40.127

所以我只需要为 v7 版本执行此操作，并且很沮丧地发现我不能简单地使用 ArrayAdapter 设置适配器。

我不想使用股票 AutoCompleteTextView（就像这里的顶级评论者那样），因为那样你就会错过 SearchView 的许多时髦功能，比如小搜索图标和 x 按钮。

所以我扩展了 SearchView 并得到了这个：

```
public class ArrayAdapterSearchView extends SearchView {

private SearchView.SearchAutoComplete mSearchAutoComplete;

public ArrayAdapterSearchView(Context context) {
    super(context);
    initialize();
}

public ArrayAdapterSearchView(Context context, AttributeSet attrs) {
    super(context, attrs);
    initialize();
}

public void initialize() {
    mSearchAutoComplete = (SearchAutoComplete) findViewById(android.support.v7.appcompat.R.id.search_src_text);
    this.setAdapter(null);
    this.setOnItemClickListener(null);
}

@Override
public void setSuggestionsAdapter(CursorAdapter adapter) {
    // don't let anyone touch this
}

public void setOnItemClickListener(OnItemClickListener listener) {
    mSearchAutoComplete.setOnItemClickListener(listener);
}

public void setAdapter(ArrayAdapter<?> adapter) {
    mSearchAutoComplete.setAdapter(adapter);
}

public void setText(String text) {
    mSearchAutoComplete.setText(text);
}

} 
```

您可以在 ActionBar 的菜单 xml 中使用它，如下所示：

```
<menu xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto" >

<item
    android:id="@+id/action_search"
    android:icon="@android:drawable/ic_menu_add"
    android:title="TITLE"
    app:actionViewClass="com.yourpackage.ArrayAdapterSearchView"
    app:showAsAction="ifRoom|collapseActionView"/>

</menu> 
```

您可能还想将点击功能添加到自动完成列表（例如，将文本设置为 EditText）：

```
MenuItem searchItem = menu.findItem(R.id.action_search);
final ArrayAdapterSearchView searchView = (ArrayAdapterSearchView)searchItem.getActionView();
searchView.setOnItemClickListener(new OnItemClickListener() {
    @Override
    public void onItemClick(AdapterView<?> parent, View view, int position, long id) {

        searchView.setText(adapter.getItem(position).toString());

    }
}); 
```

这是常规旧 android.widget.SearchView 的类似版本：

```
public class ArrayAdapterSearchView extends SearchView {

private AutoCompleteTextView mSearchAutoComplete;

public ArrayAdapterSearchView(Context context) {
    super(context);
    initialize();
}

public ArrayAdapterSearchView(Context context, AttributeSet attrs) {
    super(context, attrs);
    initialize();
}

public void initialize() {
    mSearchAutoComplete = (AutoCompleteTextView) findViewById(getResources().getIdentifier("android:id/search_src_text", null, null));
    setAutoCompleSuggestionsAdapter(null);
    setOnItemClickListener(null);
}

@Override
public void setSuggestionsAdapter(CursorAdapter adapter) {
    throw new UnsupportedOperationException("Please use setAutoCompleSuggestionsAdapter(ArrayAdapter<?> adapter) instead");
}

public void setOnItemClickListener(AdapterView.OnItemClickListener listener) {
    mSearchAutoComplete.setOnItemClickListener(listener);
}

public void setAutoCompleSuggestionsAdapter(ArrayAdapter<?> adapter) {
    mSearchAutoComplete.setAdapter(adapter);
}

public void setText(String text) {
    mSearchAutoComplete.setText(text);
}

} 
```

* * *

## 回答 #2

> 赞同：36
> 
> 时间：2013-04-08T11:09:53.637

**我已经使用自定义 AutoCompleteTextView 并将其添加到 ActionBar 中。**

![在此处输入图像描述](https://i.stack.imgur.com/tHntK.png)

```
public class MainActivity extends Activity {

    private static final String[] COUNTRIES = new String[] { "Belgium",
            "France", "France_", "Italy", "Germany", "Spain" };

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        ActionBar actionBar = getActionBar();
        actionBar.setDisplayHomeAsUpEnabled(true);
        actionBar.setDisplayShowCustomEnabled(true);
        // actionBar.setDisplayShowTitleEnabled(false);
        // actionBar.setIcon(R.drawable.ic_action_search);

        LayoutInflater inflator = (LayoutInflater) this
                .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        View v = inflator.inflate(R.layout.actionbar, null);

        actionBar.setCustomView(v);

        ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
                android.R.layout.simple_dropdown_item_1line, COUNTRIES);
        AutoCompleteTextView textView = (AutoCompleteTextView) v
                .findViewById(R.id.editText1);
        textView.setAdapter(adapter);

    }

} 
```

和你的布局：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:gravity="center" >

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Action Bar:"
        android:textAppearance="?android:attr/textAppearanceMedium"
        android:textColor="#FFFFFF" />

    <AutoCompleteTextView
        android:id="@+id/editText1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:ems="10"
        android:imeOptions="actionSearch"
        android:inputType="textAutoComplete|textAutoCorrect"
        android:textColor="#FFFFFF" >

        <requestFocus />
    </AutoCompleteTextView>

</LinearLayout> 
```

* * *

编辑：

**请检查[这个](https://stackoverflow.com/questions/12869373/android-cursorloader-sqlite-without-content-provider)和这个[链接](http://www.androiddesignpatterns.com/2012/08/implementing-loaders.html)它可以帮助你。** [代码在这里。](https://github.com/alexjlockwood/AppListLoader)

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2014-03-16T03:35:10.763

这是使用的替代方法`CursorAdapter`：

*ExampleActivity.java*

```
private Menu menu;

@Override
@TargetApi(Build.VERSION_CODES.HONEYCOMB)
public boolean onCreateOptionsMenu(Menu menu) {

    getMenuInflater().inflate(R.menu.example, menu);

    this.menu = menu;

    if(Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB) {

        SearchManager manager = (SearchManager) getSystemService(Context.SEARCH_SERVICE);

        SearchView search = (SearchView) menu.findItem(R.id.search).getActionView();

        search.setSearchableInfo(manager.getSearchableInfo(getComponentName()));

        search.setOnQueryTextListener(new OnQueryTextListener() { 

            @Override 
            public boolean onQueryTextChange(String query) {

                loadHistory(query);

                return true; 

            } 

        });

    }

    return true;

}

// History
@TargetApi(Build.VERSION_CODES.HONEYCOMB)
private void loadHistory(String query) {

    if(Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB) {

        Cursor cursor = db.rawQuery("SELECT * FROM items", null); // Example database query

        SearchManager manager = (SearchManager) getSystemService(Context.SEARCH_SERVICE);

        final SearchView search = (SearchView) menu.findItem(R.id.search).getActionView();

        search.setSearchableInfo(manager.getSearchableInfo(getComponentName()));

        search.setSuggestionsAdapter(new ExampleAdapter(this, cursor, items));

    }

} 
```

现在您需要创建一个扩展自的适配器`CursorAdapter`：

*ExampleAdapter.java*

```
public class ExampleAdapter extends CursorAdapter {

    private List<String> items;

    private TextView text;

    public ExampleAdapter(Context context, Cursor cursor, List<String> items) {

        super(context, cursor, false);

        this.items = items;

    }

    @Override
    public void bindView(View view, Context context, Cursor cursor) {

        text.setText(cursor.getString(cursor.getColumnIndex("text"))); // Example column index

    }

    @Override
    public View newView(Context context, Cursor cursor, ViewGroup parent) {

        LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);

        View view = inflater.inflate(R.layout.item, parent, false);

        text = (TextView) view.findViewById(R.id.text);

        return view;

    }

} 
```

请注意：导入时`CursorAdapter`不要导入Android支持版本，`android.widget.CursorAdapter`而是导入标准。

适配器还需要自定义布局：

*资源/布局/item.xml*

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent">

    <TextView
        android:id="@+id/item"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content" />

</RelativeLayout> 
```

您现在可以通过向布局添加额外的文本或图像视图并使用适配器中的数据填充它们来自定义列表项。现在你需要一个 SearchView 菜单项：

*res/menu/example.xml*

```
<menu xmlns:android="http://schemas.android.com/apk/res/android">

    <item
        android:id="@+id/search"
        android:title="@string/search"
        android:showAsAction="ifRoom"
        android:actionViewClass="android.widget.SearchView" />

</menu> 
```

然后创建一个可搜索的配置：

*res/xml/searchable.xml*

```
<searchable xmlns:android="http://schemas.android.com/apk/res/android"
    android:label="@string/search"
    android:hint="@string/search" >
</searchable> 
```

最后在清单文件的相关活动标签内添加：

*AndroidManifest.xml*

```
<intent-filter>
    <action android:name="android.intent.action.SEARCH" />
</intent-filter>

<meta-data
    android:name="android.app.default_searchable"
    android:value="com.example.ExampleActivity" />
<meta-data
    android:name="android.app.searchable"
    android:resource="@xml/searchable" /> 
```

请注意：`@string/search`示例中使用的字符串应在*values/strings.xml*中定义，也不要忘记更新`com.example`项目的引用。

这是原始教程供参考：

[http://tpbapp.com/android-development/android-action-bar-searchview-tutorial](http://tpbapp.com/android-development/android-action-bar-searchview-tutorial)

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2015-11-14T13:16:57.680

我也面临自动完成搜索视图的这个问题，并在不使用任何额外布局和自动完成文本视图的情况下修复它，有一个名为**SearchAutoComplete**的类。我用它来实现自动完成功能，只需放置一个简单的列表适配器，其中包含一个 ArrayList 项目建议与搜索视图。将适配器设置为您的**SearchAutoComplete**和自动完成功能将在下面是我的代码。请记住，您不必添加任何自定义布局。只需用我的代码替换您的 onCreateOptionsMenu(...) 方法：

```
 @Override
public boolean onCreateOptionsMenu(Menu menu) {
// Inflate the menu; this adds items to the action bar if it is present.
getMenuInflater().inflate(R.menu.main, menu);

MenuItem searchItem = menu.findItem(R.id.search);
SearchView mSearchView = (SearchView) MenuItemCompat.getActionView(searchItem);

SearchAutoComplete searchAutoComplete = (SearchAutoComplete)     mSearchView.findViewById(android.support.v7.appcompat.R.id.search_src_text);

ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
android.R.layout.simple_dropdown_item_1line, itemArrayList);
searchAutoComplete.setAdapter(adapter);

SearchManager searchManager =
(SearchManager) getSystemService(this.SEARCH_SERVICE);
mSearchView.setSearchableInfo(
searchManager.getSearchableInfo(getComponentName()));
return true;
} 
```

单击建议的项目，该项目应出现在搜索视图中，因此在您将适配器设置为 searchAutoComplete 后在 onCreateOptionmenu(...) 方法中添加以下代码

```
 searchAutoComplete.setOnItemClickListener(new OnItemClickListener() {

    @Override
    public void onItemClick(AdapterView<?> parent, View view, int position,
    long id) {
    // TODO Auto-generated method stub

    String searchString=(String)parent.getItemAtPosition(position);
    searchAutoComplete.setText(""+searchString);
    Toast.makeText(MainActivity.this, "you clicked "+searchString, Toast.LENGTH_LONG).show();

    }
    }); 
```

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2013-04-04T07:20:21.373

是的，有可能。为您的建议构建一个表（例如在 SQLiteDatabase 中）并使用所需列格式化该表。

[看到这个链接](http://developer.android.com/guide/topics/search/adding-custom-suggestions.html#TheBasics)

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-11-14T19:43:12.943

您可以通过以下方式使用 CursorAdapter 执行此操作：

```
MenuItem searchItem = menu.findItem(R.id.action_search);
SearchView searchView = (SearchView) MenuItemCompat.getActionView(searchItem);

searchView.setSuggestionsAdapter(adapter); 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2019-05-10T12:22:32.997

```
 SearchAutoComplete searchAutoComplete = mSearchView.findViewById(androidx.appcompat.R.id.search_src_text); 
```

适用于 androidx 版本

# android - 拖动列表视图缩放

> ID：15804809
> 
> 赞同：1
> 
> 时间：2013-04-04T07:15:41.103
> 
> 标签：android, listview, pinchzoom

我可以使用此[链接缩放自定义列表视图](http://developer.android.com/training/gestures/scale.html)

此列表视图在 viewpager 中。

我的问题是，当视图被缩放时，我不知道如何拖动它（通过拖动我的意思是将 ListView 移动到结束 - 从左到右以及从上到下反之亦然）它以查看完整列表。谁能告诉我如何实现这一目标？

# nmea - 如何从 GPRMC NMEA 句子中推导出以度为单位的“方位”？

> ID：15804811
> 
> 赞同：5
> 
> 时间：2013-04-04T07:15:52.867
> 
> 标签：nmea, gtfs

我正在编写一个程序，它以 GPRMC NMEA 语句的形式接收数据并按照 GTFS-realtime 的指定输出。

GTFS-realtime 需要一个“轴承”值，并将其描述为：

> 方位角，以度为单位，从真北顺时针方向，即 0 是北，90 是东。这可以是罗盘方位，也可以是指向下一站或中间位置的方向。这不应该从先前位置的序列中推断出来，客户可以从先前的数据中计算出来。

GPRMC NMEA 句子包含三个我认为相关的领域，但我的研究发现了一堆关于它们是什么的不同想法：

1.  `Track angle in degrees True`, `Course Made Good, True`,`Track made good in degrees True`
2.  `Magnetic Variation`, `Variation`,`Magnetic variation degrees (Easterly var. subtracts from true course)`
3.  `Magnetic Variation`, `East/West`,`E or W`

为了完整起见，这是一个完整的 GPRMC 句子，相关字段以粗体显示：

`$GPRMC,123519,A,4807.038,N,01131.000,E,022.4,`**084.4** `,230394,`**003.1**`,`**瓦**`*6A`

我将如何从 GPRMC NMEA 句子中导出 GTFS-realtime 格式的方位？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-08-19T03:25:41.680

我最近买了一个 GPS 模块来连接我的 Arduino，并且不得不学习 GPRMC 句子结构。由于 GPS 通过绘制从先前位置到当前位置的矢量来计算方向，因此不考虑对磁北极的校正。GTFS-realtime 中的方位角应与 GPRMC 的“Track angle in degree True”相同。它们都属于真北。想象一下，你站在一个圆圈的中心，你面对的是真正的北方。当您顺时针旋转 30 度时，您将处于 30 度的方位（如果您向前移动）。我认为数据结构应该是这样的：

```
header {
  gtfs_realtime_version: "1.0"
}
entity {
    id: "myPosition"
    vehiclePosition{
        position{
            position_id: "myBearing"{
                bearing: 84.4
            }
        }
    }           
} 
```

我从这些页面上的描述和示例中发现了这一点： [https ://developers.google.com/transit/gtfs-realtime/reference#VehiclePosition](https://developers.google.com/transit/gtfs-realtime/reference#VehiclePosition) [https://developers.google.com/transit/gtfs-realtime/examples/旅行更新完整](https://developers.google.com/transit/gtfs-realtime/examples/trip-updates-full)

这有帮助吗？

# haskell - Haskell 并发和持久化

> ID：15804819
> 
> 赞同：5
> 
> 时间：2013-04-04T07:16:08.167
> 
> 标签：haskell, concurrency

我一直在阅读有关 Haskell 和[STM的](http://en.wikipedia.org/wiki/Software_transactional_memory)[Beautiful Concurrency](https://www.fpcomplete.com/user/simonpj/beautiful-concurrency)文章。

给出的示例是银行账户转账。

它是一个点头银行转账——它位于堆内存中的两个数字之间。

这立即在我脑海中提出的问题是：

1.  该传输如何以原子方式撞击磁盘。直到银行交易以持久 - [ACID](http://en.wikipedia.org/wiki/ACID) - 方式记录之前，它还没有在我的书中发生。人们如何使用像 Haskell 这样的语言——它不允许你在 STM 中进行任何 IO——实际上是如何对数据进行原子更改，而不仅仅是在易失性内存中？

2.  如何将其分发到多台机器上；您如何拥有分布式事务和横向扩展应用程序（STM 内部没有 IO）？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-04-04T07:44:08.620

STM 旨在用于线程同步和通信，*而不是*用于数据的持久存储。换句话说，STM 旨在让线程在它们之间共享数据，而不会出现死锁或竞争条件。或者让线程互相发送信号。或者基本上是为了协调线程活动。

如果您希望将*持久*数据存储在磁盘上，请使用数据库。MySQL、PostgreSQL、Oracle 等。有一百万种可供选择。这不是STM旨在解决的问题。

对于*分布式*处理......我们仍在努力。我没有足够密切地关注这些事情，无法评论这与现实有多接近。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-04-04T07:39:19.200

> 人们如何使用像 Haskell 这样的语言——它不允许你在 STM 中进行任何 IO——实际上是如何对数据进行原子更改，而不仅仅是在易失性内存中？

通过 IO 或类似效果类型中的库。例如 ACID 或[“MACID”](http://happstack.com/docs/crashcourse/AcidState.html)系统。

> 如何将其分发到多台机器上；您如何拥有分布式事务和横向扩展应用程序（STM 内部没有 IO）？

我不知道 Haskell 的分布式 STM 实现，但是[Cloud Haskell](http://www.haskell.org/haskellwiki/Cloud_Haskell)是 GHC 的分布式编程模型。

# c++ - DirectX：如何更改按钮对象的字体大小？

> ID：15804820
> 
> 赞同：0
> 
> 时间：2013-04-04T07:16:08.730
> 
> 标签：c++, c, visual-c++, directx

如何更改 DirectX 库的简单按钮的字体大小。

我的猜测如下，但没有奏效；

`CDXUTDialog g_SampleUI; g_SampleUI.AddButton( IDC_BUTTON_X2_Y2, L"8", (iX + (2*len)), iY, len, len ); g_SampleUI.SetFont( IDC_BUTTON_X2_Y2, L"Arial", 32, FW_BOLD );`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T08:03:48.763

该`CDXUTDialog::SetFont`方法不像您假设的那样[将 ID作为其第一个参数。](http://www.vis.uni-stuttgart.de/~grottel/nobackup/vislib.doxygen/a00051.html)

以这种方式设置按钮的字体会更有意义（未经测试）：

```
g_SampleUI.SetFont(1, L"Arial", 32, FW_BOLD);
CDXUTButton *button = g_SampleUI.GetButton(IDC_BUTTON_X2_Y2);
CDXUTElement *elem = button->GetElement(1);  // ..or perhaps GetElement(0)
elem->SetFont(1); // Set the font for this element to font 1 that we created on
                  // the first line
g_SampleUI.Refresh(); 
```

# html - IE 开发人员工具：源不显示完整的 HTML

> ID：15804824
> 
> 赞同：3
> 
> 时间：2013-04-04T07:16:15.037
> 
> 标签：html, internet-explorer

我正在我的网站上实现 purechat，它可以在除 ie 之外的所有浏览器上运行，但我很惊讶纯聊天的内容显示在页面上，但在页面源中找不到它，甚至无法使用 F12 找到，通过查看 ie 中的元素，是否可以隐藏 HTML 以防止使用？![在此处输入图像描述](https://i.stack.imgur.com/JB9CR.jpg)?

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-04T07:20:19.980

我知道使用 IE 开发人员工具，您需要使用查看区域上方的刷新图标来刷新 html。也许你可以试试？

或者，purechat 很可能通过在 IE 上难以查看的 iframe 工作。

作为第一步，我会尝试通过在具有更好的开发工具（如 Google Chrome）的浏览器上查找来查找 purechat 代码。

* * *

**更新**

经过进一步研究，我发现 purechat 显示为 html**而不是 iframe**。我相信您遇到的问题是因为 IE 开发人员工具尚未更新 html。**点击刷新按钮对其进行排序**:)

Purechat 通过在您的页面中注入一些 JavaScript 来工作，尝试在您的 body 标记之前查找一些类似于此的代码：

```
<script type="text/javascript">
  (function () { var done = false; var script = document.createElement("script"); script.async = true; script.type = "text/javascript"; script.src = "https://www.purechat.com/VisitorWidget/WidgetScript"; document.getElementsByTagName('HEAD').item(0).appendChild(script); script.onreadystatechange = script.onload = function (e) { if (!done && (!this.readyState || this.readyState == "loaded" || this.readyState == "complete")) { var w = new PCWidget({ c: 'f509d702-fe1e-4761-9c6f-a386765ff3c7', f: true }); done = true; } }; })();
</script> 
```

purechat 小部件的实际 html 如下所示：

```
<div class="purechat purechat-widget purechat-widget-collapsed purechat-bottom purechat-bottom-left">
  <div class="purechat-widget-inner purechat-clearfix">
    <div class="purechat-widget-header">
      <div class="purechat-menu btn-toolbar">
        <button class="btn btn-mini actions btn-collapse" style="display: none;"><i class="icon-minus"></i></button>
        <button class="btn btn-mini actions btn-expand"><i class="icon-plus"></i></button>
      </div>
      <div class="purechat-widget-title purechat-widget-title-collapsed">
        <img class="purechat-title-image" src="https://www.purechat.com/Content/images/icon-small.png">
        &nbsp;
        <span class="purechat-widget-title-link" title="Chat with us.">Chat with us.</span>
      </div>
    </div>
    <div class="purechat-content purechat-widget-content" style="display: none;">
      <div class="purechat-enterinfo-container">
        <p>Enter your name to begin!</p>
      </div>
      <form class="purechat-init-form" action="">
        <p class="alert alert-error init-error please-entername" style="display:none;">Please enter a name.</p>
        <input type="text" class="purechat-name-input" name="purechat-name-input" placeholder="Name" maxlength="40">
        <input type="submit" class="btn" id="purechat-name-submit" value="Send Chat Request">
      </form>
    </div>
    <div class="purechat-poweredby-container">
      <span class="purechat-poweredby">Powered by </span><a target="_blank" href="http://www.purechat.com">PureChat.com</a>
    </div>
  </div>
</div> 
```

# command-prompt - 命令提示符无法正常工作

> ID：15804826
> 
> 赞同：0
> 
> 时间：2013-04-04T07:16:24.450
> 
> 标签：command-prompt

我想从`C`驱动器转到`E:\Installation Drive\Derby\db-derby-10.9.1.0-bin\bin`“使用命令提示符，但我无法做到这一点。谁能给我解决方案？我尝试了以下代码行：

Microsoft Windows [版本 6.0.6002] 版权所有 (c) 2006 Microsoft Corporation。版权所有。

```
C:\Users\Gaurav>cd/

C:\>cd E:

E:\

C:\>cd E:\Installation Drive\Derby\db-derby-10.9.1.0-bin\bin

C:\>cd E:

E:\Installation Drive\Derby\db-derby-10.9.1.0-bin\bin

C:\>cd E:

E:\Installation Drive\Derby\db-derby-10.9.1.0-bin\bin

C:\> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:18:59.537

尝试键入`E:`更改驱动器然后`cd "Installation Drive\Derby\db-derby-10.9.1.0-bin\bin"`更改目录。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T08:09:05.680

```
cd /d E:\Installation Drive\Derby\db-derby-10.9.1.0-bin\bin 
```

可能是最简单的方法...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:40:36.260

尝试像这样键入要更改驱动器`E:` ，然后转到文件夹使用`cd`，然后过去的位置。

像

```
E: cd Installation Drive\Derby\db-derby-10.9.1.0-bin\bin 
```

并按回车键。希望这会有所帮助

# android - 以编程方式添加线性布局，五个按钮水平放置，横向和纵向尺寸相同

> ID：15804832
> 
> 赞同：0
> 
> 时间：2013-04-04T07:16:47.263
> 
> 标签：android, button, android-linearlayout

我以编程方式创建了带有五个固定大小按钮的线性布局，但是当我改变方向时，按钮在横向拉伸

这是我的代码：

```
LinearLayout button_layout = new LinearLayout(this);
    button_layout.setLayoutParams(new LinearLayout.LayoutParams(LayoutParams.FILL_PARENT, 100));
    button_layout.setOrientation(LinearLayout.HORIZONTAL);
    button_layout.setBackgroundColor(Color.parseColor("#DCE1DC"));

FrameLayout layout = new FrameLayout(this);
    layout.setLayoutParams(new LinearLayout.LayoutParams(20, 80, 1));
    LayoutParams params = (LayoutParams) layout.getLayoutParams();
    params.setMargins(30, 0, 30, 0);

    Button A = new Button(this);
    A.setLayoutParams(params);
    A.setText("A");
    button_layout.addView(A);
    Button B = new Button(this);
    B.setLayoutParams(params);
    B.setText("B");
    button_layout.addView(B);
    Button C = new Button(this);
    C.setLayoutParams(params);
    C.setText("C");
    button_layout.addView(C);
    Button D = new Button(this);
    D.setLayoutParams(params);
    D.setText("D");
    button_layout.addView(D);
    Button E = new Button(this);
    E.setLayoutParams(params);
    E.setText("E");
    button_layout.addView(E);
    linearLayout.addView(button_layout); //added button layout. 

    LinearLayout bottomBarLayout = new LinearLayout(this);
    bottomBarLayout.setLayoutParams(new LinearLayout.LayoutParams(LayoutParams.FILL_PARENT, 50));
    bottomBarLayout.setOrientation(LinearLayout.HORIZONTAL);
    bottomBarLayout.setBackgroundColor(Color.parseColor("#8BC66D"));
    linearLayout.addView(bottomBarLayout); //added bottomBar layout . 
```

以下是我的屏幕截图：

我希望按钮在两个方向上都是方形的，空间相等，如何实现这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T11:23:03.350

如果我对您的理解正确，这就是您要实现的目标：

![景观](https://i.stack.imgur.com/tjt1G.png)

意味着，您希望在按钮和环绕布局之间留出一些空间，以便您可以在其中设置背景并且按钮本身不会被拉伸。而且，您需要 5 个在纵向和横向视图中具有相同大小的按钮。

我拿了**你的**代码并做了很少的修改：（*我在这里使用方法只是为了更干净的代码*）

```
public void onCreate(Bundle savedInstanceState)
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    LinearLayout linearLayout = (LinearLayout) findViewById(R.id.layout_root);

    LinearLayout button_layout = new LinearLayout(this);
    button_layout.setLayoutParams(new LinearLayout.LayoutParams(LayoutParams.FILL_PARENT, 100));
    button_layout.setOrientation(LinearLayout.HORIZONTAL);
    button_layout.setBackgroundColor(Color.parseColor("#DCE1DC"));

    button_layout.addView(createButton("A"));
    button_layout.addView(createButton("B"));
    button_layout.addView(createButton("C"));
    button_layout.addView(createButton("D"));
    button_layout.addView(createButton("E"));

    linearLayout.addView(button_layout);
}

/**
 * Create one button view
 * 
 * @param text
 * @return
 */
private LinearLayout createButton(String text)
{
    // wrapping button layout. The layout takes 20% from the parent layout
    LinearLayout oneButtonLayout = new LinearLayout(this);
    LayoutParams params = new LinearLayout.LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.WRAP_CONTENT, 0.2f);
    oneButtonLayout.setLayoutParams(params);
    params.setMargins(10, 0, 10, 0);
    oneButtonLayout.setGravity(Gravity.CENTER);

    // the button itself
    Button button = new Button(this);
    button.setLayoutParams(new LinearLayout.LayoutParams(80, 80));
    button.setText(text);
    oneButtonLayout.addView(button);

    return oneButtonLayout;
} 
```

上图显示了它在**横向**视图中的外观，这是它在**纵向**视图中的外观：

![肖像](https://i.stack.imgur.com/otK6N.png)

希望它能解决你的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:28:00.200

按钮被拉伸的原因是：

```
button_layout.setLayoutParams(new LinearLayout.LayoutParams(LayoutParams.FILL_PARENT, 100)); 
```

您将按钮布局宽度设置为`LayoutParams.FILL_PARENT`. 因此，当您转向水平方向时，此布局会变得更大，并且必须调整按钮。

在这里设置一个固定的大小并将这个布局居中，这样按钮总是出现在屏幕的中间，你将摆脱拉伸问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T08:47:20.103

**1.获取显示尺寸**如下图..

```
Display display = getWindowManager().getDefaultDisplay(); 
int width = display.getWidth();
int height = display.getHeight(); 
```

已弃用，您应该尝试此代码：前两行代码为您提供 DisplayMetrics 对象。此对象包含诸如 heightPixels、widthPixels 等字段。

```
DisplayMetrics metrics = new DisplayMetrics();
getWindowManager().getDefaultDisplay().getMetrics(metrics);

metrics.heightPixels;
metrics.widthPixels; 
```

**2.然后使用类似这样**的参数设置按钮大小****

 **```
A.setWidth(width/4);
A.setheight(height/4); 
```

很快

```
B.setWidth(width/4);
B.setheight(height/4); 
```

上面的比例`1/4`只是例如使用你需要多少或最适合你的要求**

# iphone - SplitViewController 查询

> ID：15804843
> 
> 赞同：0
> 
> 时间：2013-04-04T07:17:37.560
> 
> 标签：iphone, ios, objective-c, ipad, ios5

在通用应用程序中，如果我使用 Popover、SplitViewController for iPad 等平台特定功能，而不使用检查设备会发生什么情况

```
if ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPad) 
```

方法。如果应用程序在 iPhone 中运行，它会崩溃吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:27:04.273

回答你的问题：是的，它会的。特定的控制器只在特定的环境中工作（谁会猜到......）你也可以避免那种代码`if(IS_iPAD()){//Do something}`。

它会产生的错误：

```
*** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[UIPopoverController initWithContentViewController:] called when not running under UIUserInterfaceIdiomPad.' 
```

# php - 如何使用 .htaccess 通过 sql-injection 保护 index.php

> ID：15804844
> 
> 赞同：0
> 
> 时间：2013-04-04T07:17:40.707
> 
> 标签：php, sql-injection

在我的网站上，我使用 .htaccess 的friendlyURL。但站点接收 SQL 注入查询。如何保护我的网站免受 htaccess 的 sql 注入？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T07:21:32.623

**您不能使用 .htaccess 保护 index.php 免受 sql 注入。**

为了保护您的网站，您必须**重写您的代码。**这是唯一的方法。

所以，现在就从[PDO](https://stackoverflow.com/tags/pdo/info)或[SafeMysql](https://github.com/colshrapnel/safemysql#safemysql)开始吧。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-04-04T07:23:46.440

您无法使用 .htaccess 保护您的站点表单 sql 注入。.Htaccess 将防止未经授权访问您的网站或其部分。防止 sql 注入的唯一方法是通过参数化 sql 查询来编写安全的查询代码。

你不喜欢这样的查询吗

```
"Select * from TABLE where COLUMN = '$VARIABLE'" 
```

用这个：

```
'SELECT * FROM TABLE WHERE COLUMN = $1', array($variable) 
```

# ruby-on-rails - :greater_than_or_equal_to、:numericality 和其他有意义的符号

> ID：15804847
> 
> 赞同：0
> 
> 时间：2013-04-04T07:17:45.323
> 
> 标签：ruby-on-rails, ruby, symbols

我的一行代码如下：

```
validates :price, :numericality => {:greater_than_or_equal_to => 0.01} 
```

`:price`是我定义的唯一符号。`:numericality`并且`:greater_than_or_equal_to`两者都有一些比较的意义。

1.  这些东西叫什么？
2.  我在哪里可以找到关于它们的文档？似乎有很多这样的符号会做随机的事情。这些是实例方法吗？我在哪里可以找到它们的列表？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:22:17.727

符号就像字符串。它们有时用于看起来像方法调用的结构中，但它们不是方法。

在您的情况下，方法`validates`接受两个参数，一个符号和一个哈希。`:numericality`并且`:greater_than_or_equal_to`只是哈希中的键，仅此而已。将`validates`如何处理它们，没有人知道（除了`validates`它自己）。因此，为了找出答案，您需要阅读文档`validates`（可能还有相关的 Rails 指南）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:21:58.880

此处的网页[http://guides.rubyonrails.org/active_record_validations_callbacks.html](http://guides.rubyonrails.org/active_record_validations_callbacks.html)应显示可用的验证。

您引用的符号本身没有“含义”，而是告诉方法在作为变量传递时要做什么。

Validates 只是一个方法调用，但在 ruby​​ 中，括号是选项，有时将它们放入可以更容易地对其进行概念化，例如

```
validates(:price, :numericality => {:greater_than_or_equal_to => 0.01}) 
```

# android - 为什么 getTheme 在 Application 上效果不佳

> ID：15804858
> 
> 赞同：5
> 
> 时间：2013-04-04T07:18:14.613
> 
> 标签：android

我意识到，对于`Context.getTheme()`，如果我们`Application`用作`Context`

```
MyApplication.singletonInstance().getTheme().resolveAttribute(R.attr.actionBarDeleteIcon, typedValue, true);
// typedValue.resourceId will be 0x0, which is invalid 
```

但是，如果我`Activity`用作上下文，则效果很好

```
MyFragment.this.getActivity().getTheme().resolveAttribute(R.attr.actionBarDeleteIcon, typedValue, true);
// typedValue.resourceId is valid 
```

我想知道为什么我们不能通过解析属性`Application`？

在 manifest 中，我们可以在`Application`level 中找到特定的主题信息。所以，我认为从`Application`对象中获取主题确实有意义。

```
<application
    android:theme="..." 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-11-22T19:14:40.610

它不起作用，因为显然返回的对象`getApplicationContext()`不是一个完整的`Context`对象，正如[CommonsWare 在这个答案中](https://stackoverflow.com/a/7298955/1100355)所指出的：

> 它不是一个完整的`Context`，支持所做的一切`Activity`。您将尝试使用此执行的各种操作`Context`都会失败，主要与 GUI 有关。

一种可能的解决方案是手动设置主题`Context`，如下所示：

```
getApplicationContext().getTheme().applyStyle(R.style.MyTheme, true); 
```

但是这种方法并没有得到 Android 开发团队的认可；正确的解决方案是使用`Activity`与 UI 相关的内容，例如`getTheme()`.

# python - 如何让 argparse 检查互斥的参数组

> ID：15804859
> 
> 赞同：4
> 
> 时间：2013-04-04T07:18:16.217
> 
> 标签：python, python-2.7, argparse

我有一个如下的测试代码，它应该采用位置参数`file`或所有可选参数`time`，`expression`并且`name`：

```
import argparse
parser = argparse.ArgumentParser()

parser.add_argument("-t","--time")
parser.add_argument("-x","--expression")
parser.add_argument("-n","--name")
parser.add_argument("file")

print parser.parse_args() 
```

以下组合应该有效

```
test.py filename
test.py -t 5 -x foo -n test 
```

但不是这些：

```
test.py filename -t 5 # should raise error because the positional and the optional -t argument cannot be used together
test.py -t 5 -x foo # should raise an error because all three of the optional arguments are required 
```

这个问题有什么简单的解决方案吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-04T07:42:58.453

第一个问题是您已指定该文件是位置文件，这将使其成为必需文件。您可能需要将其转换为可选参数。

这是检查是否提供了正确参数的简单方法：

```
import argparse
parser = argparse.ArgumentParser()

parser.add_argument("-t","--time")
parser.add_argument("-x","--expression")
parser.add_argument("-n","--name")
parser.add_argument("-f", "--file")

args = parser.parse_args()

has_file = args.file is not None
has_txn = None not in frozenset([args.time, args.expression, args.name])
assert (has_file ^ has_txn), "File or time, expression and name must be provided" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-17T19:05:51.063

您可能会发现以下方法很有用。

```
import argparse, sys

print(sys.argv)
if len(sys.argv) == 2:
    sys.argv += ['-t', 'time', '-x', 'expression', '-n', 'name']
else:
    sys.argv.append('FILE')

parser = argparse.ArgumentParser()
group = parser.add_argument_group('Required Group', 'All 3 are required else provide "file" argument.')
group.add_argument("-t","--time", required=True)
group.add_argument("-x","--expression", required=True)
group.add_argument("-n","--name", required=True)
parser.add_argument("file", help='file name')
print(parser.parse_args()) 
```

这是一些示例输出..

```
$ ./t.py -t 2 -x "a + b" -n George
['./t.py', '-t', '2', '-x', 'a + b', '-n', 'George']
Namespace(expression='a + b', file='FILE', name='George', time='2')

$ ./t.py FILE
['./t.py', 'FILE']
Namespace(expression='expression', file='FILE', name='name', time='time')

$ ./t.py -h
usage: t.py [-h] -t TIME -x EXPRESSION -n NAME file

positional arguments:
  file                  file name

optional arguments:
  -h, --help            show this help message and exit

Required Group:
  All 3 are required else provide "file" argument.

  -t TIME, --time TIME
  -x EXPRESSION, --expression EXPRESSION
  -n NAME, --name NAME 
```

# android - 处理程序发布延迟在 for 循环中不起作用

> ID：15804863
> 
> 赞同：0
> 
> 时间：2013-04-04T07:18:34.160
> 
> 标签：android, handler

```
 Spannable WordtoSpan;
TextView tvView;
public void btnStart(View v)
{
    tvView = (TextView)findViewById(R.id.tvTest);
    changeColorOfText("I know just how to whisper, And I know just how to cry,I know just where to find the answers.");

}
int sIndexOfWord;
int fIndexOfWord;
private void changeColorOfText(String sentences)
{
    String[] arrWords = sentences.split(" ");
    WordtoSpan = new SpannableString(sentences);

    int k = 1;
    for(String word : arrWords) {

        sIndexOfWord = sentences.indexOf(word);
        fIndexOfWord = sIndexOfWord + word.length();
        Handler handler = new Handler();
        handler.postDelayed(new Runnable() { 
             public void run() { 
                WordtoSpan.setSpan(new BackgroundColorSpan(Color.YELLOW), sIndexOfWord, fIndexOfWord, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);
                tvView.setText(WordtoSpan); 
             } 
        }, 2000*k++);
    }

} 
```

此代码不起作用，只需为句子的最后一个文本着色。如何使用 handler.postDelayed 方法一一着色。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:51:11.417

也许你可以试试这个：以 2 秒的间隔递归调用 setTextColor() 方法

```
int k = 0;
private void setTxtColor(){
  if(k < arrWords.length){
      Handler handler = new Handler();
      handler.postDelayed(new Runnable() { 
           public void run() {
              sIndexOfWord = sentences.indexOf(arrWords[k]);
              fIndexOfWord = sIndexOfWord + word.length(); 
              WordtoSpan.setSpan(new BackgroundColorSpan(Color.YELLOW), sIndexOfWord, fIndexOfWord, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);
              tvView.setText(WordtoSpan);
              k++;
              setTxtColor(); 
           } 
      }, 2000);
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:57:44.077

下面以绿色显示单词作为每 1 秒单词的前导。Textview会有你好！首先以绿色显示，延迟 1 秒后，下一个单词将以绿色附加到 textview 中。如此重复直到达到字符串 s 的长度。如果您不想附加，只需设置新单词的文本 _tv.setText(text); 并删除附加部分。

我还使用了一个计时器并在 ui 线程上设置了文本。您也可以使用处理程序。

```
String s;
int _count=0;//counter
Timer   _t;
TextView _tv;
String[] each;//holds each word in an array
Button b;
b= (Button) findViewById(R.id.button1);
_tv = (TextView) findViewById( R.id.tv );
b.setOnClickListener(new OnClickListener()
{

    @Override
    public void onClick(View v) {
        // TODO Auto-generated method stub

        //s=et.getText().toString();
        s="hello!. how are you";
        _tv.setText("");
        for(int i=0;i<s.length();i++)
        {
            each = s.split("\\s+");
        }
     _t = new Timer();

        _t.scheduleAtFixedRate( new TimerTask() {
                @Override
                public void run() {

                    runOnUiThread(new Runnable() //run on ui thread
                     {
                      public void run() 
                      { 
                          if(_count<=each.length-1)
                          {
                          SpannableString text = new SpannableString(each[_count]);  

                        text.setSpan(new ForegroundColorSpan(Color.GREEN), 0,text.length(), 0);  
                        _tv.append(text);
                        _tv.append(" ");
                         System.out.println("................"+each[_count]);
                        _count=_count+1;

                     }
                          else
                          {
                              _t.cancel();
                          }
                      }

                     });
                }
            }, 1000, 1000 ); //change to 2000 for 2 second delay.

}

}); 
```

# ruby - 如何从 rake 文件中杀死 fastcgi-mono-server4.exe？

> ID：15804865
> 
> 赞同：1
> 
> 时间：2013-04-04T07:18:37.157
> 
> 标签：ruby, nginx, mono, rake, servicestack

我正在使用单声道asp.net网站的Rake自动部署到带有nginx的ubuntu服务器。

据我发现 fastcgi-mono-server4.exe 无法正常停止，必须终止。我目前在 htop 中手动执行此操作。我如何从 rake 或 shell 中做到这一点？

我只有几个小时的 rake 和 ruby​​ 经验以及几周的 linux 经验，但已经取得了很大进展，但是即使是像这样可能很明显的事情，我也无法做到。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T13:44:07.590

要在 Linux 中查找正在运行的**单声道**进程 ID：

```
ps ax | grep mono 
```

这会给你类似的东西：

```
user      1452  0.0  0.0   9396   876 pts/4    S+   17:33   0:00 grep mono
user      2810 98.2 16.1 967424 330432 ?       Sl   Mar30 7866:50 /usr/bin/mono /usr/lib/mono/4.0/fastcgi-mono-server4.exe --appconfigdir /etc/init.d/mono-fastcgi /socket=tcp:127.0.0.1:9000 /logfile=/var/log/mono/fastcgi.logappconfigdir /etc/init.d/mono-fastcgi /socket=tcp:127.0.0.1:9000 /logfile=/var/log/mono/fastcgi.log 
```

第二**列**包含您可以杀死的进程ID：

```
sudo kill -9 2810 
```

### 使用字符类从 ps 输出中排除 grep

感谢[@Yevgeniy](https://stackoverflow.com/users/1847280/yevgeniy-anfilofyev)评论，您可以使用 grep 字符类从 ps 输出中排除 grep ，如[this question中所述](https://askubuntu.com/questions/153419/how-does-this-tricky-bracket-expression-in-grep-work)，例如：

```
ps aux | grep [m]ono 
```

这将从 ps 输出中排除 grep 进程，并为您提供如下内容：

```
 2810 ?        Sl   7861:07 /usr/bin/mono /usr/lib/mono/4.0/fastcgi-mono-server4.exe --appconfigdir /etc/init.d/mono-fastcgi /socket=tcp:127.0.0.1:9000 /logfile=/var/log/mono/fastcgi.log 
```

现在这意味着如果你只有一个单声道运行进程，你现在可以用这个 1-liner 杀死它：

```
sudo kill -9 $(ps aux | grep '[m]ono' | awk '{print $2}') 
```

# javascript - HighCharts - 单击图例后如何重新定位标签

> ID：15804866
> 
> 赞同：0
> 
> 时间：2013-04-04T07:18:37.303
> 
> 标签：javascript, highcharts

我正在尝试重新定位 HighCharts 折线图中的数据标签，以使它们不会重叠。

您最初可以通过将重新定位功能附加到`load`事件来执行此操作：

```
var repositionLabels = function(series) {
    var s1 = series[0].data;
    var s2 = series[1].data;
    var i=0, l=s1.length, higher;

    for(; i<l; i++) {
        higher = s1[i].y > s2[i].y;
        s1[i].dataLabel.attr('y', higher ?  s1[i].dataLabel.y-10 :  s1[i].dataLabel.y+30 );
        s2[i].dataLabel.attr('y', !higher ?  s2[i].dataLabel.y-10 :  s2[i].dataLabel.y+30 );
    }
} 
```

对于上面的行，数据标签位于行的上方；对于下一行，数据标签位于下方。所以它们不会重叠。

## 问题

问题是，如果您单击图例项以显示/隐藏一行，数据标签将恢复到其默认（错误、重叠）位置。**这是一个演示：http:** [//jsfiddle.net/supertrue/QbGPV/984/](http://jsfiddle.net/supertrue/QbGPV/984/)

我希望将相同的功能附加到`redraw`事件会保持新标签位置不变，但事实并非如此。也不会将其附加到`plotOptions.line.events.legendItemClick`.

单击图例项后，如何保持良好的标签位置不变？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:10:20.117

我不知道这是否是最好的解决方案。我推迟了定位，然后它有点工作。

见[小提琴](http://jsfiddle.net/anpsmn/QbGPV/988/)

```
setTimeout(function () {
   positionLabels(chart.series);
}, 500); 
```

### 编辑

更新[小提琴](http://jsfiddle.net/anpsmn/QbGPV/990/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T08:29:01.903

系列动画似乎干扰了标签定位。如果你设置：

```
 chart: { renderTo: 'container', type: 'line', animation:false, 
```

然后一切正常。我猜动画在您定位标签后正在运行，并正在为您重新定位它们。

看起来您要么必须关闭动画，要么使用@anpsmn 发布的 setTimeout 方法。

# java - 在 Tomcat 7 上运行的 Web 应用程序中的 NoClassDefFoundError

> ID：15804872
> 
> 赞同：10
> 
> 时间：2013-04-04T07:18:59.907
> 
> 标签：java, maven, tomcat7, maven-3, guice-servlet

我有使用 Maven 3 构建的 gucie-servlet 框架用 Java 编写的 Web 应用程序。当我将它部署在 Tomcat 7 容器上并尝试使用浏览器访问它时，Tomcat 会回复 404 状态代码。这是来自 Tomcat 的日志：

```
Apr 4, 2013 11:39:50 AM org.apache.catalina.core.ApplicationContext log
INFO: SessionListener: contextDestroyed()
Apr 4, 2013 11:39:50 AM org.apache.catalina.core.ApplicationContext log
INFO: ContextListener: contextDestroyed()
Apr 4, 2013 11:39:55 AM org.apache.catalina.core.StandardContext listenerStart
SEVERE: Exception sending context initialized event to listener instance of class ru.hive.webserver.config.HiveServletConfig
java.lang.NoClassDefFoundError: ru/hive/base/db/modules/DatabaseModule
    at ru.hive.webserver.config.HiveServletConfig.getInjector(HiveServletConfig.java:24)
    at com.google.inject.servlet.GuiceServletContextListener.contextInitialized(GuiceServletContextListener.java:45)
    at ru.hive.webserver.config.HiveServletConfig.contextInitialized(HiveServletConfig.java:19)
    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4797)
    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5291)
    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)
    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)
    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)
    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:977)
    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1655)
    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:439)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
    at java.util.concurrent.FutureTask.run(FutureTask.java:138)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
    at java.lang.Thread.run(Thread.java:662)
Caused by: java.lang.ClassNotFoundException: ru.hive.base.db.modules.DatabaseModule
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1713)
    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1558)
    ... 17 more
Apr 4, 2013 11:39:55 AM org.apache.catalina.core.ApplicationContext log
INFO: ContextListener: contextInitialized()
Apr 4, 2013 11:39:55 AM org.apache.catalina.core.ApplicationContext log
INFO: SessionListener: contextInitialized()
Apr 4, 2013 11:39:55 AM org.apache.catalina.core.ApplicationContext log
INFO: ContextListener: attributeAdded('org.apache.jasper.compiler.TldLocationsCache', 'org.apache.jasper.compiler.TldLocationsCache@e8606c') 
```

异常说我的应用程序的 CLASSPATH 中没有名为 ru.hive.base.db.modules.DatabaseModule 的类，但事实并非如此：

```
frodo@shire:~/apache-tomcat-7.0.37/webapps/hive/WEB-INF/lib$ ls -l
total 30132
-rw-rw-r-- 1 frodo frodo     4467 нояб. 22 13:46 aopalliance-1.0.jar
-rw-rw-r-- 1 frodo frodo 27010023 апр.   4 11:39 base-0.0.42-SNAPSHOT.jar
-rw-rw-r-- 1 frodo frodo   232019 дек.  18 10:12 commons-beanutils-1.8.3.jar
-rw-rw-r-- 1 frodo frodo    58160 авг.   2  2011 commons-codec-1.4.jar
-rw-rw-r-- 1 frodo frodo   196768 дек.  18 10:12 commons-digester-2.1.jar
-rw-rw-r-- 1 frodo frodo   163151 нояб. 22 13:46 commons-io-2.1.jar
-rw-rw-r-- 1 frodo frodo    60686 авг.   2  2011 commons-logging-1.1.1.jar
-rw-rw-r-- 1 frodo frodo   189285 нояб. 28 15:01 gson-2.2.2.jar
-rw-rw-r-- 1 frodo frodo   710492 февр.  6 18:59 guice-3.0.jar
-rw-rw-r-- 1 frodo frodo    65012 февр. 13 13:21 guice-servlet-3.0.jar
-rw-rw-r-- 1 frodo frodo   352585 нояб. 22 13:46 httpclient-4.1.3.jar
-rw-rw-r-- 1 frodo frodo   181410 нояб. 22 13:46 httpcore-4.1.4.jar
-rw-rw-r-- 1 frodo frodo    26938 нояб. 22 13:46 httpmime-4.1.3.jar
-rw-rw-r-- 1 frodo frodo     2497 февр.  6 18:59 javax.inject-1.jar
-rw-rw-r-- 1 frodo frodo    31866 февр.  6 18:59 jsr305-2.0.1.jar
-rw-rw-r-- 1 frodo frodo    25962 нояб. 22 13:46 slf4j-api-1.6.4.jar
-rw-rw-r-- 1 frodo frodo   371816 нояб. 22 13:46 solr-solrj-4.0.0.jar
-rw-rw-r-- 1 frodo frodo   520969 нояб. 22 13:46 wstx-asl-3.2.7.jar
-rw-rw-r-- 1 frodo frodo   608239 нояб. 22 13:46 zookeeper-3.3.6.jar 
```

JAR base-0.0.42-SNAPSHOT.jar 包含 Tomcat 找不到的类。JAR 中的目录结构与堆栈跟踪中的完整类名相同。我的项目的 pom.xml 是：

```
<?xml version="1.0"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <artifactId>webserver</artifactId>
    <version>0.0.42-SNAPSHOT</version>
    <packaging>war</packaging>
    <name>Api servlet</name>

    <parent>
        <groupId>ru.hive</groupId>
        <artifactId>main</artifactId>
        <version>0.0.41-SNAPSHOT</version>
        <relativePath>../main</relativePath>
    </parent>

    <profiles>
        <profile>
            <id>dev</id>

            <activation>
                <activeByDefault>true</activeByDefault>
            </activation>

            <properties>
                <solr.url>http://localhost:8983/solr</solr.url>
            </properties>

            <build>
                <plugins>
                    <plugin>
                        <groupId>org.apache.tomcat.maven</groupId>
                        <artifactId>tomcat7-maven-plugin</artifactId>
                        <version>2.0</version>
                        <configuration>
                            <server>local_tomcat</server>
                            <url>http://192.168.0.39:8080/manager/text</url>
                            <path>/hive</path>
                            <update>true</update>
                            <username>user</username>
                            <password>pass</password>
                        </configuration>
                    </plugin>
                </plugins>
            </build>
        </profile>
        <profile>
            <id>production</id>

            <properties>
                <solr.url>http://localhost:8983/solr/hive</solr.url>
            </properties>

            <build>
                <plugins>
                    <plugin>
                        <groupId>org.apache.tomcat.maven</groupId>
                        <artifactId>tomcat7-maven-plugin</artifactId>
                        <version>2.0</version>
                        <configuration>
                            <server>production_tomcat</server>
                            <url>http://some.ip.address:8080/manager/text</url>
                            <path>/hive</path>
                            <update>true</update>
                            <username>user</username>
                            <password>pass</password>
                        </configuration>
                    </plugin>
                </plugins>
            </build>
        </profile>
    </profiles>

    <dependencies>
        <dependency>
            <groupId>ru.hive</groupId>
            <artifactId>base</artifactId>
            <version>0.0.42-SNAPSHOT</version>
        </dependency>

        <dependency>
            <groupId>com.google.inject.extensions</groupId>
            <artifactId>guice-servlet</artifactId>
            <version>3.0</version>
        </dependency>
        <dependency>
            <groupId>com.google.code.findbugs</groupId>
            <artifactId>jsr305</artifactId>
            <version>2.0.1</version>
        </dependency>
        <dependency>
            <groupId>org.apache.solr</groupId>
            <artifactId>solr-solrj</artifactId>
            <version>4.0.0</version>
        </dependency>
        <dependency>
            <groupId>com.google.code.gson</groupId>
            <artifactId>gson</artifactId>
            <version>2.2.2</version>
        </dependency>
        <dependency>
            <groupId>commons-digester</groupId>
            <artifactId>commons-digester</artifactId>
            <version>2.1</version>
        </dependency>
        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>servlet-api</artifactId>
            <version>2.5</version>
            <scope>provided</scope>
        </dependency>

        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>4.11</version>
            <scope>test</scope>
        </dependency>
    </dependencies>

    <repositories>
        <repository>
            <snapshots>
                <enabled>false</enabled>
            </snapshots>
            <id>central</id>
            <name>Maven Repository Switchboard</name>
            <url>http://repo1.maven.org/maven2</url>
        </repository>
        <repository>
            <id>repo</id>
            <releases>
                <enabled>true</enabled>
                <checksumPolicy>ignore</checksumPolicy>
            </releases>
            <snapshots>
                <enabled>false</enabled>
            </snapshots>
            <url>file://${project.basedir}/lib</url>
        </repository>
    </repositories>

    <pluginRepositories>
        <pluginRepository>
            <releases>
                <updatePolicy>never</updatePolicy>
            </releases>
            <snapshots>
                <enabled>false</enabled>
            </snapshots>
            <id>central</id>
            <name>Maven Plugin Repository</name>
            <url>http://repo1.maven.org/maven2</url>
        </pluginRepository>
    </pluginRepositories>

    <build>
        <finalName>hive</finalName>

        <sourceDirectory>src/main/java</sourceDirectory>
        <scriptSourceDirectory>src/main/scripts</scriptSourceDirectory>
        <testSourceDirectory>src/test/java</testSourceDirectory>
        <outputDirectory>target/classes</outputDirectory>
        <testOutputDirectory>target/test-classes</testOutputDirectory>
        <directory>target</directory>

        <pluginManagement>
            <plugins>
                <plugin>
                    <artifactId>maven-antrun-plugin</artifactId>
                    <version>1.3</version>
                </plugin>
                <plugin>
                    <artifactId>maven-assembly-plugin</artifactId>
                    <version>2.2-beta-5</version>
                </plugin>
                <plugin>
                    <artifactId>maven-dependency-plugin</artifactId>
                    <version>2.1</version>
                </plugin>
                <plugin>
                    <artifactId>maven-release-plugin</artifactId>
                    <version>2.0</version>
                </plugin>
            </plugins>
        </pluginManagement>

        <plugins>
            <plugin>
                <artifactId>maven-war-plugin</artifactId>
                <version>2.3</version>
                <executions>
                    <execution>
                        <id>default-war</id>
                        <phase>package</phase>
                        <goals>
                            <goal>war</goal>
                        </goals>
                        <configuration>
                            <archive>
                                <manifest>
                                    <addClasspath>true</addClasspath>
                                    <classpathPrefix>lib/</classpathPrefix>
                                </manifest>
                            </archive>
                        </configuration>
                    </execution>
                </executions>

                <configuration>
                    <archive>
                        <manifest>
                            <addClasspath>true</addClasspath>
                            <classpathPrefix>lib/</classpathPrefix>
                        </manifest>
                    </archive>
                    <webResources>
                        <webResource>
                            <directory>src/main/webapp/META-INF</directory>
                            <includes>
                                <include>context.xml</include>
                            </includes>
                            <filtering>true</filtering>
                            <targetPath>META-INF</targetPath>
                        </webResource>
                    </webResources>
                </configuration>
            </plugin>

            <plugin>
                <artifactId>maven-clean-plugin</artifactId>
                <version>2.4.1</version>
                <executions>
                    <execution>
                        <id>default-clean</id>
                        <phase>clean</phase>
                        <goals>
                            <goal>clean</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>

            <plugin>
                <artifactId>maven-install-plugin</artifactId>
                <version>2.3.1</version>
                <executions>
                    <execution>
                        <id>default-install</id>
                        <phase>install</phase>
                        <goals>
                            <goal>install</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>

            <plugin>
                <artifactId>maven-resources-plugin</artifactId>
                <version>2.4.3</version>
                <configuration>
                    <encoding>UTF-8</encoding>
                </configuration>
                <executions>
                    <execution>
                        <id>default-resources</id>
                        <phase>process-resources</phase>
                        <goals>
                            <goal>resources</goal>
                        </goals>
                    </execution>
                    <execution>
                        <id>default-testResources</id>
                        <phase>process-test-resources</phase>
                        <goals>
                            <goal>testResources</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>

            <plugin>
                <artifactId>maven-surefire-plugin</artifactId>
                <version>2.7.1</version>
                <executions>
                    <execution>
                        <id>default-test</id>
                        <phase>test</phase>
                        <goals>
                            <goal>test</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>

            <plugin>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>2.3.2</version>
                <executions>
                    <execution>
                        <id>default-testCompile</id>
                        <phase>test-compile</phase>
                        <goals>
                            <goal>testCompile</goal>
                        </goals>
                    </execution>
                    <execution>
                        <id>default-compile</id>
                        <phase>compile</phase>
                        <goals>
                            <goal>compile</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>
        </plugins>

        <resources>
            <resource>
                <directory>src/main/resources</directory>
                <filtering>true</filtering>
            </resource>
        </resources>
    </build>

    <reporting>
        <outputDirectory>target/site</outputDirectory>
    </reporting>
</project> 
```

所以问题是我做错了什么以及为什么我得到这个 ClassDefNotFound 异常？

PS。maven-war-plugin 配置的编辑版本：

```
<plugin>
    <artifactId>maven-war-plugin</artifactId>
    <version>2.3</version>
    <executions>
        <execution>
            <id>default-war</id>
            <phase>package</phase>
            <goals>
                <goal>war</goal>
            </goals>
        </execution>
    </executions>
    <configuration>
        <webResources>
            <webResource>
                <directory>src/main/webapp/META-INF</directory>
                <includes>
                    <include>context.xml</include>
                </includes>
                <filtering>true</filtering>
                <targetPath>META-INF</targetPath>
            </webResource>
        </webResources>
    </configuration>
    </plugin> 
```

聚苯乙烯。ru.hive.webserver.config.HiveServletConfig 类列表

```
package ru.hive.webserver.config;

import javax.servlet.ServletContextEvent;

import ru.hive.base.db.modules.DatabaseModule;
import ru.hive.base.state.modules.StateManagerModule;
import ru.hive.webserver.api.ApiServlet;
import ru.hive.webserver.scheduler.Scheduler;

import com.google.inject.Guice;
import com.google.inject.Injector;
import com.google.inject.servlet.GuiceServletContextListener;
import com.google.inject.servlet.ServletModule;

public class HiveServletConfig extends GuiceServletContextListener {

    @Override
    protected Injector getInjector() {
        return Guice.createInjector(new ServletModule() {
            @Override
            protected void configureServlets() {
                install(new DatabaseModule());
                install(new StateManagerModule());

                serve("/api").with(ApiServlet.class);
                serve("/scheduler").with(Scheduler.class);
            }
        });
    }

} 
```

购买力平价。中的 JAR 列表`<TOMCAT_HOME>/lib`：

```
`-rw-r--r-- 1 jcdenton jcdenton   15264 марта 22 18:38 annotations-api.jar
-rw-r--r-- 1 jcdenton jcdenton   54176 марта 22 18:38 catalina-ant.jar
-rw-r--r-- 1 jcdenton jcdenton  132729 марта 22 18:38 catalina-ha.jar
-rw-r--r-- 1 jcdenton jcdenton 1563926 марта 22 18:38 catalina.jar
-rw-r--r-- 1 jcdenton jcdenton  255182 марта 22 18:38 catalina-tribes.jar
-rw-r--r-- 1 jcdenton jcdenton 1796326 марта 22 18:38 ecj-4.2.1.jar
-rw-r--r-- 1 jcdenton jcdenton   46085 марта 22 18:38 el-api.jar
-rw-r--r-- 1 jcdenton jcdenton  123241 марта 22 18:38 jasper-el.jar
-rw-r--r-- 1 jcdenton jcdenton  599131 марта 22 18:38 jasper.jar
-rw-r--r-- 1 jcdenton jcdenton   88690 марта 22 18:38 jsp-api.jar
-rw-r--r-- 1 jcdenton jcdenton  177599 марта 22 18:38 servlet-api.jar
-rw-r--r-- 1 jcdenton jcdenton    6873 марта 22 18:38 tomcat-api.jar
-rw-r--r-- 1 jcdenton jcdenton  795308 марта 22 18:38 tomcat-coyote.jar
-rw-r--r-- 1 jcdenton jcdenton  235411 марта 22 18:38 tomcat-dbcp.jar
-rw-r--r-- 1 jcdenton jcdenton   77364 марта 22 18:38 tomcat-i18n-es.jar
-rw-r--r-- 1 jcdenton jcdenton   48693 марта 22 18:38 tomcat-i18n-fr.jar
-rw-r--r-- 1 jcdenton jcdenton   51678 марта 22 18:38 tomcat-i18n-ja.jar
-rw-r--r-- 1 jcdenton jcdenton  123958 марта 22 18:38 tomcat-jdbc.jar
-rw-r--r-- 1 jcdenton jcdenton   23174 марта 22 18:38 tomcat-util.jar` 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-05T07:59:17.380

好的，我找到了解决方案。经过仔细研究，我`<TOMCAT_HOME>/logs/catalina.log`发现了这个记录：

```
Apr 5, 2013 1:38:26 PM org.apache.catalina.loader.WebappClassLoader validateJarFile
INFO: validateJarFile(/home/frodo/apache-tomcat-7.0.37/webapps/hive/WEB-INF/lib/base-0.0.42-SNAPSHOT.jar) - jar not loaded. See Servlet Spec 2.3, section 9.7.2\. Offending class: javax/servlet/Servlet.class 
```

[这个](https://stackoverflow.com/questions/10992644/validatejarfileservlet-api-jar-jar-not-loaded-in-tomcat-using-eclipse)问题解释了这条消息的原因 - 我的 JAR`base-0.0.42-SNAPSHOT.jar`包含与 Servlet API 相关的内容，因此无法由 Tomcat 加载。所以，我的网络应用程序在启动后无法在这个 JAR 中找到类。我在这个 JAR 中使用了一些 Twitter 公共部分，其中包含 Servlet API 的实现。修改我的应用程序的依赖项后`base-0.0.42-SNAPSHOT.jar`启动并加载所需的类。谢谢大家！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T09:36:00.163

根本原因可能是`maven-war-plugin`已配置为

```
<configuration>
    <archive>
        <manifest>
            <addClasspath>true</addClasspath>
            <classpathPrefix>lib/</classpathPrefix>
        </manifest>
    </archive>
</configuration> 
```

上面的配置是用于[创建 Skinny WARs](http://maven.apache.org/plugins/maven-war-plugin/examples/skinny-wars.html)的，它指`all war libs`的是`ear/lib`。

请尝试从`maven-war-plugin`配置中删除所有这些。然后再次构建并部署到 Tomcat。

我希望这可能会有所帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-01-19T10:49:06.957

复制文件

*   com.sodius.mdw.core.jar
*   org.eclipse.emf.common.*version_name.jar
*   org.eclipse.emf.ecore.**.jar
*   org.eclipse.emf.ecore.xmi_2.9.1.v20130827-0309.jar

在你的`ServletProjectName/WebContent/Web-INF/lib`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-09-22T11:40:20.847

我通过将 Tomcat 服务器添加到 eclipse 中的 Java 构建路径中解决了这个问题。

右键项目->构建路径->配置构建路径->添加库..（出现在对话框右侧）->服务器运行时->选择“Apache Tomcat v..”->完成

然后在服务器上运行项目。

# android - 未找到用于香料 android 设备 Mi 425 的 ADB 驱动程序

> ID：15804875
> 
> 赞同：2
> 
> 时间：2013-04-04T07:19:11.490
> 
> 标签：android, adb

我是 android 新手，并且有一个 android 设备将型号命名为**SPICE**，型号为**Mi425**和 android **ICS 4.0.4**，所以任何人都可以帮助我找到 ADB 驱动程序，这样我就可以连接我的设备并开始使用它进行测试，因为在我的项目中有些媒体模拟器中不允许的东西，或者如果不是与我的设备兼容的任何其他设备 adb 驱动程序。谢谢，我会支持任何类型的回复。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T00:17:30.260

SPICE 是一家印度手机制造商。以下链接包含与 Mi-425 手机相关的工具和说明。在帖子中搜索“ADB 和 SPICE CD 中的其他驱动程序”。我希望它有效...

[http://forum.xda-developers.com/showthread.php?t=1742545](http://forum.xda-developers.com/showthread.php?t=1742545)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-25T09:44:38.487

您可以尝试[http://adbdriver.com/downloads/](http://adbdriver.com/downloads/)（我用它来安装 Wiko Wax 的 ADB 驱动程序）

# css - twitter 引导 html 结构 css 错误？

> ID：15804881
> 
> 赞同：0
> 
> 时间：2013-04-04T07:19:52.153
> 
> 标签：css, html, twitter-bootstrap, typo3

我对 Bootstrap 有疑问。我想将typo3模板与流畅的html结构结合起来。

```
<div class="row-fluid">
<a name="Content-ce156"></a>
<section class="span6">
<header>contentheader</header>
<article>At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</article>
</section>
<a name="Content2-ce156"></a>
<section class="span6">
<header>contentheader2</header>
<article>At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</article>
</section>
</div> 
```

第二部分换行，但如果我删除第一个锚它就可以了。我已经尝试为选择器制作锚`display:none`或添加类`.span0`

```
.row-fluid [class*="span"] 
```

其他人已经解决了这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:24:03.987

链接需要在`.span6`元素内：

```
<div class="row-fluid">
    <section class="span6">
        <a name="Content-ce156"></a>
        <header>contentheader</header>
        <article>At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</article>
    </section>
    <section class="span6">
        <a name="Content2-ce156"></a>
        <header>contentheader2</header>
        <article>At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</article>
    </section>
</div> 
```

示例：http: [//jsfiddle.net/S79rh/](http://jsfiddle.net/S79rh/)

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-04-04T07:35:28.853

我通过删除我的内容元素的内包装并将外包装用于跨度来解决此问题。甚至像@chrx 所写的那样，anker 在跨度内。但我什至不知道这是引导程序错误还是功能....

# iphone - 需要从服务器向 iPhone 应用程序的 Facebook 用户发送电子邮件/通知。

> ID：15804884
> 
> 赞同：1
> 
> 时间：2013-04-04T07:19:59.650
> 
> 标签：iphone, ios, facebook, facebook-graph-api

我的服务器数据库上有 Facebook 用户的详细信息，例如 FBid、Fb 用户名。我想在 Facebook 上发送此用户的电子邮件/通知。我怎样才能做到这一点。通过我的 iPhone 应用程序发送这个非常容易，因为 Facebook 访问令牌在我的设备上，但我想通过服务器发送通知。请让我知道我怎样才能发送这个。谢谢

[你试过什么？](http://whathaveyoutried.com/)

我已经做过的事情：在研发之后，我发现“username@facebook.com”可以用于向 FB 用户发送电子邮件，它正在工作，但是在 AWS 设置了它的投掷邮件退回消息之后:(

[http://www.facebook.com/help/224049364288051](http://www.facebook.com/help/224049364288051)

[如何通过 fql 或 graph api 使用他的 facebook id 向 facebook 朋友发送电子邮件](https://stackoverflow.com/questions/9697919/how-can-i-send-email-to-a-facebook-friend-using-his-facebook-id-via-fql-or-graph)

[发送电子邮件至@facebook](https://stackoverflow.com/questions/12137688/sending-email-to-facebook)

# php - Mysql将数据插入到表中，除了一个字段外有重复数据

> ID：15804887
> 
> 赞同：0
> 
> 时间：2013-04-04T07:20:04.263
> 
> 标签：php, mysql, database, insert, duplicates

我正在开发一个课堂网站。

有一个表格可以将学生资料/数据插入到数据库表中`student`。

该站点有 5 个班级组，ID 为`id= 1, 2, 3, 4, 5`.

向数据库表中插入数据成功。

但是我有一个问题：每个学生都必须在教室里`1 and 2`，所以当我们插入数据时，我需要数据库为每次自动创建两个数据库结果，两个结果所有字段都是相同的数据，除了`classgroup_id`，我的意思是一个结果必须`classgroup_id=1`，第二个结果必须是`classgroup_id=2`，我需要mysql在添加每个学生时自动生成这个......任何想法。？

**这是我的表结构**

*   student_id (int) AI
*   姓名
*   电子邮件
*   classgroup_id（默认值=1）
*   用户身份

**这是我将数据插入表的 php 代码**

```
$this->db->query("INSERT INTO " . DB_PREFIX . "student SET user_id = '" . (int)$this->user->getId() . "', name = '" . $this->db->escape($data['name']) . "',  email = '" . $this->db->escape($data['email']) . "'"); 
```

谢谢...*我只有中等水平的 php 知识*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:44:23.370

您不需要 PHP 来执行此操作...纯 SQL 伪解决方案：

`INSERT INTO student (student_id name, email) SELECT name, email from student where classgroup_id = ?`

如果您构建一个[小提琴](http://sqlfiddle.com)并就在哪里可以找到所说的小提琴发表评论，我很乐意根据您的特定需求调整查询。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T08:34:15.107

ClassGroups 在表格中还是只是静态数字？

如果它们只是静态数字，那么我认为最简单的方法是使用重复数据进行另一次插入。例如，两行应该是：

```
$this->db->query("INSERT INTO " . DB_PREFIX . "student SET user_id = '" . (int)$this->user->getId() . "', name = '" . $this->db->escape($data['name']) . "',  email = '" . $this->db->escape($data['email']) . "'");

$this->db->query("INSERT INTO " . DB_PREFIX . "student SET user_id = '" . (int)$this->user->getId() . "', name = '" . $this->db->escape($data['name']) . "',  email = '" . $this->db->escape($data['email']) . "', classgroup_id =2"); 
```

如果它们在某个表中，那么您可以使用一个插入（代码会更短）进行插入，但插入语法与您的不同。例如，您的 ClassGroup 表只是 ClassGroups：

```
$this->db->query("INSERT INTO " . DB_PREFIX . "student (user_id, name, email, ClassGroup_id)
select " . (int)$this->user->getId() . ", '" . $this->db->escape($data['name']) . "',  '" . $this->db->escape($data['email']) . "',ClassGroup_id from ClassGroups where ClassGroup_id=1 or ClassGroup_id=2"); 
```

但我认为最好为每个数据（学生，ClassGroup）做不同的表并为他们做关系表，它不会重复数据，如果你通过主AI键而不是从它收集数据，表学生会更快通过 varchar 类型的列名。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:34:37.040

您必须先将记录保存在临时表中，然后再进行操作..尝试一下

```
//get last insertId
$last_insert_id = $this->db->insert_id();
$new_id      = $last_insert_id +1;    

$query = "CREATE TEMPORARY TABLE tmp SELECT * FROM yourtable WHERE your_primary_key =  $last_insert_id;

         UPDATE tmp SET your_primary_key= $new_id,classgroup_id  = 2 WHERE your_primary_key = $last_insert_id;

         INSERT INTO yourTable SELECT * FROM tmp WHERE your_primary_key = new_id";
$this->db->query($query); 
```

希望你能有所了解

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-04-04T07:50:09.147

为了避免学生重复输入，您可以制作另一个表格，在其中将学生链接到他们的班级。

例如：

**学生们**

*   student_id（主键）
*   姓名
*   电子邮件
*   user_id（如果仍然需要...）

**班级组**

*   classgroup_id（主键）
*   类组名

**每个班级的学生**

*   student_id（外键）
*   classgroup_id（外键）

# java - Rijndael 256 加密：Java 和 .NET 不匹配

> ID：15804895
> 
> 赞同：9
> 
> 时间：2013-04-04T07:20:35.937
> 
> 标签：java, .net, powershell, bouncycastle, rijndael

我需要将带有 Rijandael 加密的 powershell 脚本翻译成 Java。这是源PowerShell代码：

```
[Reflection.Assembly]::LoadWithPartialName("System.Security")
Add-Type -AssemblyName System.Web

$sKy = "bbee9a3e8e44e28edb4539186d182aaa"  
$sIV  = "131a68dc13160766f37dc931d7e518aa"

$myRijndael = New-Object System.Security.Cryptography.RijndaelManaged
$myRijndael.KeySize = 256
$myRijndael.BlockSize = 256
$myRijndael.Mode = [System.Security.Cryptography.CipherMode]::CBC
$myRijndael.Padding = [System.Security.Cryptography.PaddingMode]::Zeros

[byte[]] $key = [Text.Encoding]::ASCII.GetBytes($sKy)
[byte[]] $IV = [Text.Encoding]::ASCII.GetBytes($sIV)

$encryptor = $myRijndael.CreateEncryptor($key, $IV)
$msEncrypt = new-Object IO.MemoryStream 
$csEncrypt = new-Object Security.Cryptography.CryptoStream $msEncrypt,$encryptor,"Write"

$toEncrypt = [Text.Encoding]::ASCII.GetBytes("TEST_TEXT_TO_ENCODE")

$csEncrypt.Write($toEncrypt, 0, $toEncrypt.Length)
$csEncrypt.FlushFinalBlock()
$encrypted = $msEncrypt.ToArray() 
```

对于 Java 加密，我使用 bouncycastle 及其具有相同参数的 RijndaelEngine - CBC、256 块大小、零填充。这是我的java代码片段：

```
byte[] sessionKey = "bbee9a3e8e44e28edb4539186d182aaa".getBytes(); 
byte[] iv = "131a68dc13160766f37dc931d7e518aa".getBytes();
byte[] plaintext = "TEST_TEXT_TO_ENCODE".getBytes();

PaddedBufferedBlockCipher cipher = new PaddedBufferedBlockCipher(
    new CBCBlockCipher(new RijndaelEngine(256)), new ZeroBytePadding());

int keySize = 256 / 8;

CipherParameters ivAndKey = new ParametersWithIV(new KeyParameter(sessionKey, 0, keySize), iv, 0, keySize);

cipher.init(true, ivAndKey);
byte[] encrypted  = new byte[cipher.getOutputSize(plaintext.length)];
int oLen = cipher.processBytes(plaintext, 0, plaintext.length, encrypted, 0);
cipher.doFinal(encrypted, oLen); 
```

密钥、初始向量和要加密的文本的字节数组完全相同：

```
secret key: [98, 98, 101, 101, 57, 97, 51, 101, 56, 101, 52, 52, 101, 50, 56, 101, 100, 98, 52, 53, 51, 57, 49, 56, 54, 100, 49, 56, 50, 97, 97, 97]
initial vector: [49, 51, 49, 97, 54, 56, 100, 99, 49, 51, 49, 54, 48, 55, 54, 54, 102, 51, 55, 100, 99, 57, 51, 49, 100, 55, 101, 53, 49, 56, 97, 97]
text to encrypt: [84, 69, 83, 84, 95, 84, 69, 88, 84, 95, 84, 79, 95, 69, 78, 67, 79, 68, 69] 
```

但是 powershell 和 Java 的结果数组不同：

```
powershell: [241, 100, 194, 184, 166, 85, 15, 212, 186, 220, 85, 136, 16, 194, 93, 11, 243, 245, 230, 207, 224, 88, 255, 153, 185, 9, 43, 78, 219, 138, 7, 222]
java: [-15, 100, -62, -72, -90, 85, 15, -44, -70, -36, 85, -120, 16, -62, 93, 11, -13, -11, -26, -49, -32, 88, -1, -103, -71, 9, 43, 78, -37, -118, 7, -34] 
```

拜托，有人可以帮我弄清楚我在 Java 中用 bouncycastle 做错了什么吗？我整天都在堆它...

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-04-04T07:23:09.393

据我所知，你的结果*是*一样的——只是在 Java 中，字节是有符号的。（这很恶心，但它不会影响你得到的实际位。）

如果将 256 添加到 Java 结果中的每个负值，您会看到它们与 .NET 代码相同：

```
.NET:      241  100  194  184  166

Java:      -15  100  -62  -72  -90

Java+256:  241  100  194  184  166
for -ve 
```

（ETC）

或者，只需打印出两个字节数组的无符号十六进制表示 - 甚至对它们进行 base64 编码 - 你会发现它们是相同的。

# java - 选择具有相同姓名和两个以上号码的联系人

> ID：15804902
> 
> 赞同：0
> 
> 时间：2013-04-04T07:21:03.213
> 
> 标签：java, android

我试图在我的项目中使用以下方法从电话中选择联系人。它工作正常.....

*   但在某些情况下我不会工作......**例如**：如果同名有多个数字，如个人/家庭......

*   在这个阶段它只会选择第一个号码。所以我无法从我这里选择联系人。请给出解决方案......

**代码在这里**

```
 public void onActivityResult(int reqCode, int resultCode, Intent data) {
 super.onActivityResult(reqCode, resultCode, data);

 switch (reqCode) {
 case (PICK_CONTACT) :
   if (resultCode == Activity.RESULT_OK) {

     Uri contactData = data.getData();
     Cursor c =  managedQuery(contactData, null, null, null, null);
     if (c.moveToFirst()) {

         String id =c.getString(c.getColumnIndexOrThrow(ContactsContract.Contacts._ID));

         String hasPhone =c.getString(c.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER));

           if (hasPhone.equalsIgnoreCase("1")) {
          Cursor phones = getContentResolver().query( 
                       ContactsContract.CommonDataKinds.Phone.CONTENT_URI,null, 
                       ContactsContract.CommonDataKinds.Phone.CONTACT_ID +" = "+ id, 
                       null, null);
             phones.moveToFirst();
             cNumber = phones.getString(phones.getColumnIndex("data1"));

             System.out.println("number is:"+cNumber);
           }
         /*name = c.getString(c.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));

         Textcontact.setText(name);*/

         edt.setText(cNumber);

     }
   }
   break;
 }
 } 
```

谢谢...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:55:50.097

代替

```
phones.moveToFirst(); 
```

您可以浏览光标以获取更多项目

```
int colIndex = phones.getColumnIndex("data1");
while (phones.moveToNext()) {
    System.out.println("Found a number : " + phones.getString(colIndex));
} 
```

# android-audiomanager - Android-dev AudioRecord 没有阻塞或线程

> ID：15804903
> 
> 赞同：8
> 
> 时间：2013-04-04T07:21:03.877
> 
> 标签：android-audiomanager, android-audiorecord

我希望录制麦克风音频流，以便可以对其进行实时 DSP。

我想这样做而不必使用线程并且`.read()`在等待新的音频数据时没有阻塞。

更新/回答：这是 Android 中的一个错误。4.2.2 仍然有问题，但 5.01 已修复！我不确定分歧在哪里，但这就是故事。

注意：请不要说“只使用线程”。线程很好，但这与它们无关，Android 开发人员打算让 AudioRecord 完全可用，而无需我指定线程，也无需我处理阻塞 read()。谢谢！

这是我发现的：

当 AudioRecord 对象初始化时，它会创建自己的内部环形缓冲区。当`.start()`被调用时，它开始记录到所述环形缓冲区（或任何它真正的类型。）

当`.read()`被调用时，它读取缓冲区大小的一半或指定的字节数（以较小者为准），然后返回。

如果内部缓冲区中有足够多的音频样本，则 read() 会立即返回数据。如果还不够，则 read() 等到有，然后返回数据。

`.setRecordPositionUpdateListener()`可用于设置监听器， 和`.setPositionNotificationPeriod()`可`.setNotificationMarkerPosition()`用于分别设置通知周期和位置。

但是，除非满足某些要求，否则似乎永远不会调用 Listener：

1：Period 或 Position 必须等于 bufferSize/2 或 (bufferSize/2)-1。

2：`.read()`必须在 Period 或 Position 计时器开始计数之前调用 A - 换句话说，在调用`.start()`之后 then 还调用`.read()`，并且每次调用 Listener 时，`.read()`再次调用。

3：`.read()`每次必须读取至少一半的bufferSize。

所以使用这些规则我可以​​让回调/监听器工作，但由于某种原因，读取仍然阻塞，我无法弄清楚如何让监听器只在有完整读取的价值时才被调用。

如果我设置一个按钮视图来点击阅读，那么我可以点击它，如果快速点击，阅读块。但是如果我等待音频缓冲区填满，那么第一次点击是即时的（读取立即返回）但随后的快速点击被阻止，因为 read() 必须等待，我猜。

非常感谢我如何使监听器按预期工作的任何见解 - 这样当有足够的数据供 read() 立即返回时，我的监听器会被调用。

下面是我的代码的相关部分。

我的代码中有一些日志语句，它们将字符串发送到 logcat，这使我可以查看每个命令需要多长时间，这就是我知道 read() 阻塞的方式。（而且我的简单测试应用程序中的按钮在重复读取时响应也非常慢，但 CPU 没有固定。）

谢谢，~杰西

在我的 OnCreate() 中：

```
 bufferSize=AudioRecord.getMinBufferSize(samplerate,AudioFormat.CHANNEL_CONFIGURATION_MONO,AudioFormat.ENCODING_PCM_16BIT)*4;
        recorder = new AudioRecord (AudioSource.MIC,samplerate,AudioFormat.CHANNEL_CONFIGURATION_MONO,AudioFormat.ENCODING_PCM_16BIT,bufferSize);
        recorder.setRecordPositionUpdateListener(mRecordListener);
        recorder.setPositionNotificationPeriod(bufferSize/2);
        //recorder.setNotificationMarkerPosition(bufferSize/2);
        audioData = new short [bufferSize];

    recorder.startRecording();
            samplesread=recorder.read(audioData,0,bufferSize);//This triggers it to start doing the callback. 
```

然后这是我的听众：

```
public OnRecordPositionUpdateListener mRecordListener = new OnRecordPositionUpdateListener() 
{
    public void onPeriodicNotification(AudioRecord recorder) //This one gets called every period. 
    {
        Log.d("TimeTrack", "AAA");
        samplesread=recorder.read(audioData,0,bufferSize);
        Log.d("TimeTrack", "BBB");
        //player.write(audioData, 0, samplesread);
        //Log.d("TimeTrack", "CCC");
        reads++;
    }
    @Override
    public void onMarkerReached(AudioRecord recorder) //This one gets called only once -- when the marker is reached.
    {
        Log.d("TimeTrack", "AAA");
        samplesread=recorder.read(audioData,0,bufferSize);
        Log.d("TimeTrack", "BBB");
        //player.write(audioData, 0, samplesread);
        //Log.d("TimeTrack", "CCC");
    }
}; 
```

更新：我已经在 Android 2.2.3、2.3.4 和现在的 4.0.3 上尝试过这个，并且都表现相同。另外：code.google 上有一个关于它的开放错误 - 一个条目于 2012 年由其他人开始，然后一个条目从 2013 年由我开始（我不知道第一个）：

2016 年更新：啊啊啊啊，经过多年的怀疑是我还是安卓，我终于有了答案！我在 4.2.2 上尝试了上面的代码，同样的问题。我在 5.01 上尝试了上面的代码，它可以工作！！！并且不再需要最初的 .read() 调用。现在，一旦 .setPositionNotificationPeriod() 和 .StartRecording() 被调用，mRecordListener() 就会在每次有可用数据时神奇地开始被调用，*因此*它不再阻塞，因为直到记录了足够的数据*后*才会调用回调. 我没有听过数据来知道它是否正确记录，但是回调正在发生，并且它*没有*像以前那样阻塞活动！

[http://code.google.com/p/android/issues/detail?id=53996](http://code.google.com/p/android/issues/detail?id=53996)

[http://code.google.com/p/android/issues/detail?id=25138](http://code.google.com/p/android/issues/detail?id=25138)

如果关心这个错误的人登录并投票和/或评论这个错误，谷歌可能会尽快解决它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-06-10T16:29:45.507

很晚了，但我想我知道杰西在哪里做错了。他的读取调用被阻止，因为他正在请求大小与缓冲区大小相同的短裤，但缓冲区大小以字节为单位，而 short 包含 2 个字节。如果我们将短数组的长度与缓冲区相同，我们将读取两倍的数据。

解决方案是`audioData = new short[bufferSize/2]`如果缓冲区大小为 1000 字节，这样我们将请求 500 个短裤，即 1000 字节。

他也应该`samplesread=recorder.read(audioData,0,bufferSize)`改为`samplesread=recorder.read(audioData,0,audioData.length)`

更新

好的，杰西。我可以看到另一个错误可能在哪里 - positionNotificationPeriod。这个值必须足够大，这样它就不会过于频繁地调用监听器，我们需要确保当监听器被调用时，要读取的字节已经准备好被收集。如果在调用监听器时字节还没有准备好，主线程将被 recorder.read(audioData, 0, audioData.length) 调用阻塞，直到 AudioRecord 收集到请求的字节。您应该根据您设置的时间间隔计算缓冲区大小和短路数组长度 - 您希望多久调用一次侦听器。位置通知周期、缓冲区大小和短裤数组长度都必须正确调整。让我给你看一个例子：

```
int periodInFrames = sampleRate / 10;
int bufferSize = periodInFrames * 1 * 16 / 8;
audioData = new short [bufferSize / 2];

int minBufferSize = AudioRecord.getMinBufferSize(sampleRate, AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT);
if (bufferSize < minBufferSize) bufferSize = minBufferSize;

recorder = new AudioRecord(AudioSource.MIC, sampleRate, AudioFormat.CHANNEL_IN_MONO, AudioFormat.ENCODING_PCM_16BIT, buffersize);
recorder.setRecordPositionUpdateListener(mRecordListener);
recorder.setPositionNotificationPeriod(periodInFrames);
recorder.startRecording();

public OnRecordPositionUpdateListener mRecordListener = new OnRecordPositionUpdateListener() {
    public void onPeriodicNotification(AudioRecord recorder) {
        samplesread = recorder.read(audioData, 0, audioData.length);
        player.write(short2byte(audioData));
    }
};

private byte[] short2byte(short[] data) {
        int dataSize = data.length;
        byte[] bytes = new byte[dataSize * 2];

        for (int i = 0; i < dataSize; i++) {
            bytes[i * 2] = (byte) (data[i] & 0x00FF);
            bytes[(i * 2) + 1] = (byte) (data[i] >> 8);
            data[i] = 0;
        }
        return bytes;
    } 
```

所以现在稍微解释一下。

首先，我们设置必须调用侦听器以收集音频数据的频率 (periodInFrames)。PositionNotificationPeriod 以帧表示。采样率以每秒帧数表示，因此对于 44100 采样率，我们有 44100 帧每秒。我将它除以 10，因此每 4410 帧 = 100 毫秒将调用一次侦听器 - 这是合理的时间间隔。

现在我们根据 periodInFrames 计算缓冲区大小，因此在我们收集之前不会覆盖任何数据。缓冲区大小以字节表示。我们的时间间隔是 4410 帧，每帧包含 1 个单声道字节或 2 个立体声字节，因此我们将其乘以通道数（在您的情况下为 1）。每个通道包含 1 个字节用于 ENCODING_8BIT 或 2 个字节用于 ENCODING_16BIT，因此我们将其乘以每个样本的位数（ENCODING_16BIT 为 16，ENCODING_8BIT 为 8）并除以 8。

然后我们将 audioData 长度设置为 bufferSize 的一半，这样我们就可以确保在调用侦听器时，要读取的字节已经在那里等待收集。这是因为 short 包含 2 个字节，而 bufferSize 以字节表示。

然后我们检查 bufferSize 是否足够大以成功初始化 AudioRecord 对象，如果不是，那么我们将 bufferSize 设置为它的最小大小 - 我们不需要更改时间间隔或 audioData 长度。

在我们的监听器中，我们读取数据并将其存储到短数组中。这就是我们使用 audioData.length 代替缓冲区大小的原因，因为只有 audioData.length 可以告诉我们缓冲区包含的短裤数量。

前段时间我让它工作了，所以请让我知道它是否对你有用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-02T15:38:53.500

我不确定你为什么要避免产生单独的线程，但如果是因为你不想正确处理它们的编码，你可以在每个 .read 之后在 Timer 对象上使用 .schedule，其中时间间隔是设置为填充缓冲区所需的时间（缓冲区中的样本数/sampleRate）。是的，我知道这是使用单独的线程，但给出此建议的前提是您避免使用线程的原因是为了避免必须正确编码它们。

这样，它可能阻塞线程的最长时间应该可以忽略不计。但我不知道你为什么要这么做。

如果上述原因不是您避免使用单独线程的原因，请问为什么？

另外，实时到底是什么意思？您是否打算使用 AudioTrack 播放受影响的音频？因为大多数 Android 设备的延迟非常糟糕。

# jquery - 防止使用输入框突出显示文本选择

> ID：15804905
> 
> 赞同：0
> 
> 时间：2013-04-04T07:21:15.603
> 
> 标签：jquery, css, input, mousedown

我目前正在开发一个网页作为一个爱好项目，其中包含一些使用 jquery 和 css3 的简洁动画，以响应用户在页面上拖动鼠标的方式。这是我如何处理它的摘要，因此您可以解决我的真正问题。

我在页面底部有一个 div 作为传感器。如果我点击这个元素并用鼠标拖动，一些动画（主要是一些带有过渡的播放）将在主页上播放。

```
<div class="someclass"></div> 
```

## jQuery

```
$someclass = $('.someclass');

$someclass.mouseenter(function() {

//do something
 $someclass.mousedown(function(ed) {
   //several things with ed.pageX, ed.pageY coordinates

  $someclass.mousemove(function(em){
      //plenty of things with em.pageX, em.pageY coordinates
});

 }).mouseup(function() {
$someclass.unbind('mousdown');
});

 }).mouseleave(function(){

       $someclass.unbind('mouseenter');

}); 
```

一切正常，除了因为这是点击和拖动密集型，一些文本元素被突出显示。我在网上四处寻找解决方案，但是按照其他答案中的建议使用 preventDefault() 进行 mousedown 对我不起作用。它无法对 mousedown() 事件做任何事情，所以我不想要那个。

在 CSS 上使用 ::selection 并将背景设置为透明也不能给我所需的结果。文本仍然保持突出显示。

我尝试禁用某些人建议的 css 上的用户选择，这在我的生活中又浪费了一天。

所以我想到了一个hack。我没有使用 div，而是使用了输入字段。

我知道，当您单击文本字段并将其拖到外部时，它不会选择页面上的任何其他文本。（它会将吸盘锁定在框中，所以是的！）所有事件，如 mousedown、mousemove 和所有的工作嗯，很明显。所以我继续进行修改，一切正常！

但是有一个问题。当我单击此输入字段并拖动时，它仅将其集中在第一次单击上。我必须再次单击并拖动它才能使动画正常工作。我在准备好文档时尝试了 $someclass.focus()，它也获得了焦点，但是除非我物理单击输入字段，否则它拒绝检测到我的 mousemove()。

我在 $someclass.mouseenter() 上触发了 $someclass.mousedown()。现在，如果我在这个元素上输入 leave 并再次输入，我可以单击并拖动，所有动画都可以工作。所以这种情况下不需要点击文本字段两次。

我尝试触发 mouseenter、mouseleave 等多种组合，以便在没有鼠标帮助的情况下让这个愚蠢的文本聚焦。

但我希望它能够正常工作。我猜我必须与 mouseenter() 一起工作，但我只是精疲力尽地尝试。我四处寻找，看看是否有人在使用这种方法，但不，甚至没有接近我正在寻找的东西。

在此先感谢您的帮助。

干杯!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:23:27.537

您必须将背景设置为无，如下所示：

```
::-moz-selection { background:none; color:none; }
::selection { background:none; color:none; } 
```

现在它应该工作了。

更好的方法是：

```
.[your div class] {
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -o-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

.[your div class] input { 
    -webkit-user-select: text; 
    -khtml-user-select: text; 
    -moz-user-select: text; 
    -o-user-select: text; 
    user-select: text; 
 } 
```

# android - 无法解析 Twitter 趋势 JSON

> ID：15804906
> 
> 赞同：1
> 
> 时间：2013-04-04T07:21:17.973
> 
> 标签：android, json, twitter

我正在 [博客] 的帮助下：[http](http://www.androidhive.info/2012/01/android-json-parsing-tutorial/) : //www.androidhive.info/2012/01/android-json-parsing-tutorial/ 来解析 twitter 趋势 JSON 文件，但它会抛出 JSONException。下面是我的活动代码

```
import java.util.ArrayList;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import android.app.Activity;
import android.os.AsyncTask;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.EditText;
import android.widget.ListView;

public class TweeterJSONReader extends Activity {

    Button click;
    ListView resultList;
    EditText input;
    JSONAdapter myAdapter;
    ArrayList<SearchResult> mainList;
    JSONParser jParser;

    private String url ="https://api.twitter.com/1/trends/daily.json";
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        // TODO Auto-generated method stub
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        setLayout();

        jParser = new JSONParser();

    click.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View v) {
                    new JSONAsync().execute(url);
                }
            });
    }

    private class JSONAsync extends AsyncTask<String, Void, JSONObject>
    {

        JSONArray trends;
        @Override
        protected JSONObject doInBackground(String... params) {

            return jParser.getJSONFromUrl(params[0]);
        }

        @Override
        protected void onPostExecute(JSONObject result) {

            try{
                trends  = result.getJSONArray("trends");

                for(int i=0;i<trends.length();i++)
                {
                    JSONObject trend = trends.getJSONObject(i);
                    String name = trend.getString("name");
                    String query  = trend.getString("query");
                    SearchResult object  = new SearchResult(name, query);
                    mainList.add(object);
                    myAdapter  = new JSONAdapter(getApplicationContext(),R.layout.search_result_layout,mainList);
                    resultList.setAdapter(myAdapter);
                }
            }catch(JSONException ex)
            {
                ex.printStackTrace();
            }
        }

    }
    public void setLayout()
     {
         mainList = new ArrayList<SearchResult>();
         click = (Button) findViewById(R.id.display);
         resultList = (ListView) findViewById(R.id.resultList);

        input = (EditText) findViewById(R.id.editText1);

     }
} 
```

我使用相同的东西通过哈希标签和用户名搜索推文，它们都可以正常工作，但是当我将它用于趋势时，它会抛出 JSONException 以下是我得到的异常

```
04-04 12:09:25.919: W/ResponseProcessCookies(620): Invalid cookie header: "set-cookie: guest_id=v1%3A136505757287468464; Domain=.twitter.com; Path=/; Expires=Sat, 04-Apr-2015 06:39:32 UTC". Unable to parse expires attribute: Sat, 04-Apr-2015 06:39:32 UTC
04-04 12:09:25.950: W/System.err(620): org.json.JSONException: No value for trends
04-04 12:09:25.950: W/System.err(620):  at org.json.JSONObject.get(JSONObject.java:354)
04-04 12:09:25.950: W/System.err(620):  at org.json.JSONObject.getJSONArray(JSONObject.java:544)
04-04 12:09:25.969: W/System.err(620):  at com.zolipe.twitterapplication.TweeterJSONReader$JSONAsync.onPostExecute(TweeterJSONReader.java:63)
04-04 12:09:25.969: W/System.err(620):  at com.zolipe.twitterapplication.TweeterJSONReader$JSONAsync.onPostExecute(TweeterJSONReader.java:1)
04-04 12:09:25.969: W/System.err(620):  at android.os.AsyncTask.finish(AsyncTask.java:417)
04-04 12:09:25.969: W/System.err(620):  at android.os.AsyncTask.access$300(AsyncTask.java:127)
04-04 12:09:25.969: W/System.err(620):  at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:429)
04-04 12:09:25.969: W/System.err(620):  at android.os.Handler.dispatchMessage(Handler.java:99)
04-04 12:09:25.980: W/System.err(620):  at android.os.Looper.loop(Looper.java:123)
04-04 12:09:25.992: W/System.err(620):  at android.app.ActivityThread.main(ActivityThread.java:3683)
04-04 12:09:25.992: W/System.err(620):  at java.lang.reflect.Method.invokeNative(Native Method)
04-04 12:09:25.992: W/System.err(620):  at java.lang.reflect.Method.invoke(Method.java:507)
04-04 12:09:25.992: W/System.err(620):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
04-04 12:09:25.999: W/System.err(620):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
04-04 12:09:25.999: W/System.err(620):  at dalvik.system.NativeStart.main(Native Method)
04-04 12:09:28.470: D/dalvikvm(121): GC_EXPLICIT freed 126K, 49% free 3050K/5959K, external 3611K/4459K, paused 100ms 
```

请帮我

以下是 JSONParser 的代码

```
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.UnsupportedEncodingException;

import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.client.ClientProtocolException;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.impl.client.DefaultHttpClient;
import org.json.JSONException;
import org.json.JSONObject;

import android.util.Log;

public class JSONParser {

    static InputStream is = null;
    static JSONObject jObj = null;
    static String json = "";

    // constructor
    public JSONParser() {

    }

    public JSONObject getJSONFromUrl(String url) {

        // Making HTTP request
        try {
            // defaultHttpClient
            DefaultHttpClient httpClient = new DefaultHttpClient();
            HttpPost httpPost = new HttpPost(url);

            HttpResponse httpResponse = httpClient.execute(httpPost);
            HttpEntity httpEntity = httpResponse.getEntity();
            is = httpEntity.getContent();           

        } catch (UnsupportedEncodingException e) {
            e.printStackTrace();
        } catch (ClientProtocolException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

        try {
            BufferedReader reader = new BufferedReader(new InputStreamReader(
                    is, "iso-8859-1"), 8);
            StringBuilder sb = new StringBuilder();
            String line = null;
            while ((line = reader.readLine()) != null) {
                sb.append(line + "\n");
            }
            is.close();
            json = sb.toString();
        } catch (Exception e) {
            Log.e("Buffer Error", "Error converting result " + e.toString());
        }

        // try parse the string to a JSON object
        try {
            jObj = new JSONObject(json);
        } catch (JSONException e) {
            Log.e("JSON Parser", "Error parsing data " + e.toString());
        }

        // return JSON String
        return jObj;

    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:39:05.743

如果你去[https://api.twitter.com/1/trends/daily.json](https://api.twitter.com/1/trends/daily.json)，你会看到`trends`实际上是 a `JSONObject`，而不是`JSONArray`.

更改`trends`为`JSONObject`类型的对象，并更改此行：

```
trends  = result.getJSONArray("trends"); 
```

对此：

```
trends  = result.getJSONObject("trends"); 
```

此外，`JSONArray`您正在寻找的所有趋势实际上都包含在另一个`JSONObject`以日期为键的趋势中，因此您需要再添加一个步骤（在上述步骤之后）：

```
JSONArray trendArry = trends.getJSONArray("2013-04-03 08:20"); 
```

# iphone - 除非我重新启动应用程序，否则插入的数据不会保留

> ID：15804911
> 
> 赞同：1
> 
> 时间：2013-04-04T07:21:26.037
> 
> 标签：iphone, sqlite

我正在使用`SQLITE`我的 iPhone 应用程序。在中插入值后`detailedViewController`，我正在`masterViewController viewWillAppear`方法中重新加载数据库中的数据。但是，除非我重新启动应用程序，否则我无法在那里获得新更新的行。我正在完成编译的语句并在`INSERT`.

```
sqlite3_finalize(compiledStatement);
sqlite3_close(database); 
```

关于我可能做错了什么的任何指示？

```
if(sqlite3_open([dbPath UTF8String], &database) == SQLITE_OK) {
        const char *sqlStatement = "SELECT * FROM MYCAR1";
        sqlite3_stmt *compiledStatement;
        if(sqlite3_prepare_v2(database, sqlStatement, -1, &compiledStatement, NULL) == SQLITE_OK) {

            while(sqlite3_step(compiledStatement) == SQLITE_ROW) {
                //...getting data from compiled statements...

                MyCar *car=[[MyCar alloc] initWithVIN:vin.intValue andMake:make andModel:model andYear:year andColor:color andImageData:image];
                [myArray addObject:car];
            }
        }
        sqlite3_finalize(compiledStatement);
        carList=myArray;
    }
    sqlite3_close(database);

    [self.tableView reloadData]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:03:53.810

我添加了用于选择的确切代码，这对我有用。尝试将此与您的代码进行比较并找出错误。

```
sqlite3 *database;

if(sqlite3_open([databasePath UTF8String], &database)==SQLITE_OK)
{

    NSString *querySql=[NSString stringWithFormat:@"Select * from xxx"];

    const char *sqlStatement=[querySql UTF8String];

    sqlite3_stmt *compiledStatement;

    if(sqlite3_prepare_v2(database, sqlStatement, -1, &compiledStatement, NULL) == SQLITE_OK) {
        // Loop through the results and add them to the your array

        while(sqlite3_step(compiledStatement) == SQLITE_ROW)  {
           //get the data from db here                

        }

        sqlite3_finalize(compiledStatement);
    }

    sqlite3_close(database); 
```

# vb.net - 使用 select 的 linq 查询中的复杂列表

> ID：15804912
> 
> 赞同：1
> 
> 时间：2013-04-04T07:21:30.840
> 
> 标签：vb.net, linq, select

我有跟踪 linq 到实体查询，它看起来很适合编译，但是在我运行代码时给了我以下错误。我想得到一个非常复杂的对象，它有一些来自 EDM 模型的派生对象列表。下面类中的列表不是直接来自 EDM 模型，而是来自 EDM 的派生类，为我的问题增加了更多复杂性。这是错误消息。请帮助我解决此查询。我必须在一个 linq 查询中获取我想要的所有数据，这就是我的领导之前要求我的，我对每个组件都有一个查询，我正在添加它们。但铅希望它在一个查询中。请以任何方式帮助我链接或代码片段或任何建议。

```
LINQ to Entities 无法识别方法 'System.Collections.Generic.List`1[LNI.WSAW.External.StayAtWork.EmployerAddress] ToList[EmployerAddress](System.Collections.Generic.IEnumerable`1[LNI.WSAW.External. StayAtWork.EmployerAddress])' 方法，并且该方法不能转换为商店表达式。
```

这是代码：

```
            Dim _requestrecord = (From r In Context.Requests.Include("Claims").Include("Employers").Include("EmployerContacts")
                                 其中 r.RequestId = RequestId AndAlso r.ManualClaimFlag = ManualClaim
            在 Context.Claims 中加入 c r.ClaimId 等于 c.ClaimId where c.ClaimNo.Equals(ClaimNumber)
            在 r.Employer.EmployerId 上的 Context.Employers 中加入 e 等于 e.EmployerId 其中 e.EmplAccntNo.Equals(EmployerAccountNumber)
            在 r.EmployerContactId 上加入 ec.EmployerContacts 等于 ec.EmployerContactId 其中 ec.SawGuid.Equals(EmployerContactGuid)
            使用 { _ 选择新的 RequestRecord()
            .Addresses =（来自在 Context.EmployerAddressTypes
                              在 Context.EmployerAddresses 中加入 ea 在 at.AddressTypeId 等于 ea.EmployerAddressType.AddressTypeId 其中 ea.EmployerId = r.Employer.EmployerId
                              选择带有 { _ 的新 External.StayAtWork.EmployerAddress()
                             .AddressLn1 = ea.AddressLn1,
                             .AddressLn2 = ea.AddressLn2,
                             .AddressLn3 = ea.AddressLn3,
                             .AddressType = at.Description,
                             .BusLocAddressId = ea.BuslocId,
                             .City = ea.City,
                             .Country = ea.Country,
                             .NewSwAddress = ea.NewSwAddressFlag,
                             .State = ea.St,
                             .Zip = ea.Zip，
                             .ZipExt = ea.ZipExt
                             }).ToList(),
            .Employer = New EmployerBaisc() With { _
                .EmployerId = e.EmployerId,
                .EmployerName = e.EmplName
                    },
            .Exspenses = (来自 td In Context.TransactionDates 其中 td.RequestId = RequestId
                              在 Context.ExpenseTransactions 中加入 ex.TransactionDateId 等于 td.TransactionDateId
                              选择 New External.StayAtWork.RequestExpense() With { _
                             .ExpenseAmount = ex.ExpenseAmount,
                             .ExpenseDate = ex.TransactionDate.TransactionDt.ToString(),
                             .ExpenseItem = ex.ExpenseItem,
                             .ExpenseReason = ex.ExpenseReason,
                             .ExpenseType = ex.ExpenseSubTypeId
                             }).ToList(),
            .Wages = (来自 td In Context.TransactionDates 其中 td.RequestId = RequestId
                              加入 wt 在 Context.WageTransactions On wt.TransactionDateId 等于 td.TransactionDateId
                              选择带有 { _ 的新 External.StayAtWork.RequestWage()
                             .DailyWage = wt.DailyWagePaidAmount,
                             .WorkDate = wt.TransactionDate.TransactionDt.ToString(),
                             .WorkHours = wt.WorkHours.ToString()
                             }).ToList(),
            .Timeloss = (来自 ctl In Context.ClaimTimelosses
                              加入 clms 在 Context.Claims On ctl.ClaimId 等于 clms.ClaimId 其中 clms.ClaimId = c.ClaimId
                              选择 New External.StayAtWork.ClaimTimeLoss() With { _
                             .ClaimNo = ctl.Claim.ClaimNo,
                             .FromDate = ctl.FromDt.ToString(),
                             .ToDate = ctl.ToDt.ToString()
                             }).ToList(),
            .Files =（来自 Context.RequestFiles 中的 rfs
                              在 rfs.RequestId 上的 Context.Requests 中加入 reqs 等于 reqs.RequestId 其中 reqs.RequestId = RequestId
                              选择带有 { _ 的新 FileBasic()
                             .FileId = rfs.RequestFileId,
                             .FileName = rfs.FileName,
                             .FromDiv = rfs.FromDiv
                             }).ToList(),
            .UiSettings = (来自 ruis In Context.RequestUis
                              在 ruis.RequestId 上加入 Context.Requests 中的 reqs 等于 reqs.RequestId 其中 reqs.RequestId = RequestId
                              选择 New External.StayAtWork.RequestUI() With { _
                             .ApfByFax = ruis.ApfByFaxFlag,
                             .ApfByMail = ruis.ApfByMailFlag,
                             .ApfLniHas = ruis.ApfLniHasFlag,
                             .ExpenseByFax = ruis.ExpenseByFaxFlag,
                             .ExpenseByMail = ruis.ExpenseByMailFlag,
                             .ExpenseLniHas = ruis.ExpenseLniHasFlag,
                             .JobByFax = ruis.JobByFaxFlag,
                             .JobByLni = ruis.JobByLniFlag,
                             .JobByMail = ruis.JobByMailFlag,
                             .LastDiv = ruis.LastDiv,
                             .requestId = ruis.RequestId,
                             .WageByFax = ruis.WageByFaxFlag,
                             .WageByMail = ruis.WageByMailFlag,
                             .WageLniHas = ruis.WageLniHasFlag
                             }).FirstOrDefault(),
            .Request = New RequestBasic() With { _
                .RequestId = RequestId，
                .Comments = r.Comments,
                .InjuredWorkerName = c.WorkerName,
                .IsFixedSalary = r.FixedSalaryFlag,
                .IsGraveyard = r.GraveyardFlag,
                .IsManualClaim = r.ManualClaimFlag,
                .JobDescriptBeforeInjury = r.JobDescriptBefore,
                .JobDescriptLightDuty = r.JobDescriptLightduty,
                .TrackHoursFlag = r.HoursTrackedFlag
                }
            }).FirstOrDefault()

```
 Response.ResultData = _requestrecord 
```

这是我必须上的课程：

    公共类请求记录

```
 <DataMember()>
    Public Property Request As RequestBasic

    <DataMember()>
    Public Property Employer As EmployerBaisc

    <DataMember()>
    Public Property Addresses As List(Of EmployerAddress)

    <DataMember()>
    Public Property Timeloss As List(Of ClaimTimeLoss)

    <DataMember()>
    Public Property Wages As List(Of RequestWage)

    <DataMember()>
    Public Property Exspenses As List(Of RequestExpense)

    <DataMember()>
    Public Property Files As List(Of FileBasic)

    <DataMember()>
    Public Property PaidDates As List(Of PaidDate)

    <DataMember()>
    Public Property UiSettings As RequestUI

End Class 
```

提前致谢。
```

# c# - 在特定的 IWebElement 上使用 webdriverwait

> ID：15804916
> 
> 赞同：5
> 
> 时间：2013-04-04T07:21:40.847
> 
> 标签：c#, selenium, webdriver, selenium-webdriver

我将 selenium webdriverwait 方法应用于特定的 IWebElement 以在可用时获取此 IWebElement 的一些子元素。这是我的代码...

```
WebDriverWait wait = new WebDriverWait(driver, TimeSpan.FromSeconds(10));
IList<IWebElement> elementsA = wait.Until<IList<IWebElement>>((d) =>
{
     return driver.FindElements(By.XPath("//table[@class='boxVerde']"));
});

foreach (IWebElement iwe in elementsA)
{
      wait = new WebDriverWait(driver, TimeSpan.FromSeconds(10));
      IList<IWebElement> elementsB = wait.Until<IList<IWebElement>>((d) =>
      {
            return iwe.FindElements(By.XPath("tr/td/div/a"));
            //trying to fetch the anchor tags from the element
       });
} 
```

它一直给我一个错误，说“元素不再附加到 DOM”......我认为 webdriver 等待根本不起作用。伙计们，我做错了什么吗？非常感谢提前

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-07-08T09:07:45.393

听起来你正遭受陈旧元素的折磨。

Selenium 找到的每个 WebElement 实际上都是对 DOM 内元素的引用

有时网站上使用的 JavaScript 会破坏并重新创建一个元素，当这种情况发生时，您现有的引用变得陈旧，您将看到 StaleElementReferenceException（至少在 Java 领域是这样称呼的，您应该看到非常相似的东西）。

因此，如果您看到 StaleElementReferenceException 或一条消息指出“元素不再附加到 DOM”，这意味着您曾经拥有的对 DOM 中元素的引用不再有效，因为您引用了该元素已被摧毁。

这在视觉上并不总是很明显，因为原始元素可能已被破坏，然后重新创建了相同的元素，但它是一个新元素，因此您需要创建一个新的引用来与之交互。

创建新引用的方法是再次找到该元素。

您的问题并不完全清楚，但我假设您在找到表格后遍历锚元素列表时遇到了问题。如果是这种情况，则表明该表已被销毁并在您找到表元素的点之间重新创建，然后开始遍历表内的锚元素。

如果是这种情况，您将需要再次找到该表，一个有用的技巧是等待该表变得陈旧，然后再尝试再次找到它。通过这种方式，您可以合理地确信页面上正在销毁表然后重新创建它的任何 JavaScript 都已完成处理。[.NET ExpectedConditions 类](https://code.google.com/p/selenium/source/browse/dotnet/src/WebDriver.Support/UI/ExpectedConditions.cs)不如[Java ExpectedConditions 类](https://code.google.com/p/selenium/source/browse/java/client/src/org/openqa/selenium/support/ui/ExpectedConditions.java)成熟。我建议查看一些 Java 并将它们移植到 .NET（它应该相当简单，结构非常相似），特别感兴趣的是等待元素变得陈旧的 Java。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-09T14:24:38.957

我相信该页面的某些表格已被删除。查看页面上的事件会很有用。您应该使用`//table[@class='boxVerde']/tr/td/div/a`xpath 而不是在元素内部进行搜索。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-09T09:46:07.443

您必须定义 Webdriver 等待以忽略异常，直到轮询时间结束。以下 java 方法轮询元素 util 60 秒，如果已加载则返回，否则将引发超时异常。请根据需要将其转换为您的语言。（对不起，我是 javaist）

```
public WebElement fluentWait(final By locator, WebDriver driver) {
    Wait<WebDriver> wait = new FluentWait<WebDriver>(driver)
    .withTimeout(60, TimeUnit.SECONDS)
    .pollingEvery(1, TimeUnit.SECONDS)
    .ignoring(StaleElementReferenceException.class)
    .ignoring(NoSuchElementException.class);
    WebElement foo = wait.until(
    new Function<WebDriver, WebElement>() {
    public WebElement apply(WebDriver driver) {
    return driver.findElement(locator);
    }
         }  );
    return foo;} 
```

除此之外，如果您正在寻找单个锚标记元素，请使用 xpath 作为

```
 iwe.FindElements(By.XPath(" //a[text()='anchor tag text']")); 
```

或通过 By.linkText("anchor tag text"); 找到您的元素

```
 iwe.FindElements(By.linkText("anchor tag text")); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-05-17T11:57:00.270

尝试使用这个。它等待元素出现在页面中。

```
static void ForElementsArePresent(IWebDriver wd, double waitForSeconds, By by)
        {
            try
            {
                WebDriverWait wait = new WebDriverWait(wd, TimeSpan.FromSeconds(waitForSeconds));
                wait.Until(x => (x.FindElements(by).Count > 0));
            }
            catch (WebDriverTimeoutException)
            {
                Console.WriteLine("Waiting for element " + by + " to disappear timed out after " + waitForSeconds + " seconds.");
                throw;
            }                       
        } 
```

# c# - 使用类型参数约束实现两次相同的通用接口

> ID：15804926
> 
> 赞同：3
> 
> 时间：2013-04-04T07:22:11.667
> 
> 标签：c#, generics, interface, constraints

有

```
public interface IGeneric<T>{}

public class Student{}

public class Teacher{} 
```

这个有可能

```
public class ConcreateClass : IGeneric<Student>, IGeneric<Teacher>{} 
```

这是不可能的

```
public class GenericClass<T1, T2> : IGeneric<T1>, IGeneric<T2> {} 
```

因为`GenericClass<String, String> instance;`会导致两个接口实现的歧义。但是为什么这是不可能的

```
public class GenericClassWithTypeConstraints<T1, T2> : IGeneric<T1>, IGeneric<T2>
    where T1 : Student
    where T2 : Teacher
{} 
```

因为 T1 和 T2 不能属于同一类？（编译器错误与没有类型约束的情况相同）

**[在为什么这会导致 CS0695中](https://stackoverflow.com/questions/15316898/why-does-this-result-in-cs0695#)**编辑**
“Soner Gönül”， 提出了一个解决方法，使用两个级别的类继承，如下所示：**

 **```
public interface IGeneric<T> { String Name { get; } }

public class Student{}

public class Teacher{}

public class GenericClassBase<T1> : IGeneric<T1>
    where T1 : Student
{ String IGeneric<T1>.Name { get { return "Generic class of Student"; } } }

public class GenericClassDerived<T1, T2> : GenericClassBase<T1>, IGeneric<T2>
    where T1 : Student
    where T2 : Teacher
{ String IGeneric<T2>.Name { get { return "Generic class of Teacher"; } } } 
```

像这样的代码然后产生预期的结果

```
GenericClassDerived<Student, Teacher> X = new GenericClassDerived<Student, Teacher>();
Console.WriteLine(((IGeneric<Student>)X).Name); //outputs "Generic class of Student"
Console.WriteLine(((IGeneric<Teacher>)X).Name); //outputs "Generic class of Teacher" 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:33:34.823

> 因为 T1 和 T2 不能属于同一类？

是的，它们可以是同一类。约束不能是[`sealed`](http://msdn.microsoft.com/en-us/library/88c54tsw%28v=vs.71%29.aspx)类¹，因此`Teacher`可以派生自`Student`或反之亦然。这不合逻辑，但编译器对此一无所知。

例如，

```
using System;

public class Student{}

public class Teacher : Student{}

public class GenericClassWithTypeConstraints<T1, T2>
    where T1 : Student
    where T2 : Teacher
{}

class Test {
    static void Main() {
        var obj = new GenericClassWithTypeConstraints<Teacher, Teacher>();
    }
} 
```

将编译没有任何问题。[演示](http://ideone.com/SvF1ND)

* * *

1.  > [文档](http://msdn.microsoft.com/en-us/library/vstudio/a174071k.aspx)：
    > 
    > 约束也可以是类类型，例如抽象基类。但是，约束不能是值类型或密封类。**

# c# - 当我单击后退按钮下拉菜单时不会返回

> ID：15804927
> 
> 赞同：1
> 
> 时间：2013-04-04T07:22:17.333
> 
> 标签：c#, jquery, asp.net

当我单击后退按钮下拉菜单时不会返回。但是 gridview 数据要回溯。相应的下拉列表未正确更改。我尝试：

```
 function Back() {
        GetPriviousValue();
        history.go(-1);

        return false;
    } 
```

在此代码上方，单击后退按钮时下拉菜单不会返回，但网格页面会返回。所以我尝试了缓存。该代码是：

```
 Response.Cache.SetCacheability(HttpCacheability.NoCache);
        Response.Cache.SetExpires(DateTime.Now.AddSeconds(-1));
        Response.Cache.SetNoStore(); 
```

但是此代码在 Firefox 中生成 Document Expired 页面。单击后退按钮时如何正确返回下拉菜单？任何jquery都可以吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:09:58.627

发生这种情况是因为当您返回时，浏览器会以与您离开时相同的状态显示页面。从下拉列表中选择一个值后，您离开了它。

为了缓解这个问题，请借助 javascript/jquery。声明一个隐藏字段并在页面加载中将其值设置为所选下拉值的值。

在 bodyload 事件 javascript 中，从 hiddenfield 中选择下拉值。

或者你可以在 body load 事件中调用 form.reset 方法。

# javascript - 如何在 JavaScript 或 jQuery 中动态添加表单？

> ID：15804929
> 
> 赞同：0
> 
> 时间：2013-04-04T07:22:18.240
> 
> 标签：javascript, jquery, html, jsp

在我的应用程序中，我有 JSP：demo1.jsp、demo2.jsp

当用户单击“添加”按钮（在 demo1.jsp 中）时，demo2.jsp 应该出现在正确的位置。

如果表单在同一个 JSP/HTML 中，则没有问题。使用表单 ID，我们可以使用 jQuery 创建。

但是这里我们处理的是两个 JSP，那么怎么做呢？

**demo1.jsp**

```
<div class="accordion">
    <div class="question" id="que3">
         <span class="heading">Form Details</span> 
         <span class="button2 white" >Add</span>
     </div>
    <div class="answer">
        <jsp:include page="demo2.jsp">
            <jsp:param value="counter_crt" name="counter_crt" />
        </jsp:include>                          
    </div>
</div> 
```

我们如何编写一个 jQuery 函数来动态创建 demo2.jsp？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:29:35.260

使用 AJAX。

```
$("#addbutton").on("click", function(){
    $.ajax({
        url: "demo2.jsp",
        success: function(response) {
            $("#answer").html(response);
        }
    });
}); 
```

# arrays - TypeError：不能将序列乘以“float”类型的非整数：NumPy 数组的问题

> ID：15804936
> 
> 赞同：1
> 
> 时间：2013-04-04T07:22:36.747
> 
> 标签：arrays, numpy, python-3.x, floating-point

我对 Python 很陌生。我知道当尝试将字符串与分数相乘时会发生此错误，即浮点数。就我而言，我无法弄清楚 numpy 浮点数组如何成为字符串。这是完整的代码。

```
#!usr/bin/python

import os
import numpy as np
import matplotlib.pyplot as plt
import pylab
from numpy import *

# Declaration of constants

K = 3.14159265359
N= 10
p_za=[]
pv_za_temp=[]
#-----------------------
#Allotment of particles
#-----------------------

p_initial = np.linspace(0,2,num=10)

pv_za_temp.append(np.array(p_initial))

print pv_za_temp

#Displacement of particles using Zeldovich Approximation
def t_range(start, end, step):
  while start <= end:
    yield start
    start += step

for t in t_range(0,1,0.1):
  print t
  p_za=[]
  pv_za=[]
  # Opening file in file_t format
  fname = 'file_' + str(t) + '.dat'
  fo = open(fname,'w')

# p_za.append(p_initial - t*K*np.sin(K*p_initial))
  pv_za.append(K*np.sin(K*pv_za_temp))
  pv_za_temp = []
  pv_za_temp.append(np.array(pv_za)) 
```

显示错误的行是：

```
pv_za.append(K*np.sin(K*pv_za_temp)) 
```

我无法弄清楚问题所在。当这条线显示错误时，它上面的线运行良好。错误信息是：

```
Traceback (most recent call last):
  File "ZA.py", line 40, in <module>
    pv_za.append(K*np.sin(K*pv_za_temp))
TypeError: can't multiply sequence by non-int of type 'float' 
```

请帮忙！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T07:25:36.833

`pv_za_temp`是一个普通的 Python 列表，不支持标量乘法。您需要一个 NumPy 数组，您可以使用它从完整列表中创建它

```
pv_za_temp = np.array(pv_za_temp) 
```

注意`.array`不支持`.append`。要么提前完全建立列表，要么使用`hstack`或`vstack`酌情使用。

# php - 为什么我得到 PHP 错误“在课堂上找不到方法”

> ID：15804937
> 
> 赞同：-6
> 
> 时间：2013-04-04T07:22:45.000
> 
> 标签：php

我有这个代码

```
<?php

/** 
 * Модуль, направляющий ссылки на платники handycash.biz
 * Для работы скрипта, необходимо выставить права 777 на файлы autodomainlock_hc.txt и hc_target_link_config.php
 * ссылаться на файл нужно следующим образом. Пример:
 * http://yoursite.com/hc_target_link.php?r=YYYY&q=XXXX&id=ZZZZ&t=CCCC
 * где
 * ?r - поток траффика,
 * &q - поисковый запрос
 * &id - id платника
 * &t - параметр включения ТДС. если не нужен - не передавать.
 */

class HcTargetLink
{
    // время обновления доменов, сек
    public $configUpdateTime = 600;

    // имя файла конфига
    public $configFile = 'hc_target_link_config.php';

    // адрес API актуальных доменов
    public $apiUrl = 'http://handycash.biz/api/api.txt';

    public $lockFile = 'autodomainlock_hc.txt';

    // проверка конфига для обновления
    public function checkConfig() {
        if (!file_exists($this->lockFile) || intval(file_get_contents($this->lockFile)) < time() - $this->configUpdateTime) {
            file_put_contents($this->lockFile, time());
            $curl = curl_init($this->apiUrl);
            curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);
            $data = curl_exec($curl);
            if (!curl_errno($curl) && $data !== false) {
                $data = unserialize($data);
                if (is_array($data)) {
                    file_put_contents($this->configFile, serialize($data));
                }
            }
            curl_close($curl);
        }
    }

    public function check_get($get){
        $allowed = array(
            't' => array('wmid', 'q', 'id', 'r'),
            's' => array('id', 'q', 'r')
        );
        $type = '';
        if(array_search('wmid', $get))
            $type = 't';
        else
            $type = 's';

        foreach($allowed[$type] as $param){
            if (!array_search($param, $get)) {
                header('Location: http://natribu.org');
            }
        }
    }

    // запуск работы модуля
    public function run() {
        $this->check_get($_GET);
        $this->checkConfig();

        $config = unserialize(file_get_contents($this->configFile));
        $domain = '';

        if(isset($_GET['t'])){
            $domain = $config['tds'];
        } elseif(isset($_GET['wmid'])) {
            $id = $_GET['id'];
            if ($id = array_search($id, $config['0'])) {
                $domain = $config['0'][$id];
            }
        } elseif(empty($domain)) {
            $domain = $config['0'][array_rand($config['0'])];
        }

        $params = $_GET;
        unset($params['id']);
        unset($params['t']);
        $url = 'http://' . $domain . '/?' . http_build_query($params);
        header('Location: ' . $url);
        exit;
    }
}

$HcTargetLink = new HcTargetLink();
$HcTargetLink->run(); 
```

运行脚本后，我有错误 - `Method 'run' not found in class HcTargetLink`.Whats wrong？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:24:11.317

因为你忘了用`}`

```
public function run() {
        //do something    
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:24:11.867

你错过了`}`括号。试试这个，

```
public function run() {
    //do something    
} 
```

# r - 如何制定 R 相关语句？

> ID：15804938
> 
> 赞同：0
> 
> 时间：2013-04-04T07:22:51.193
> 
> 标签：r

你如何写“在 0 到 15 之间”R 的语句？我正在将变量转换为分类变量，其中一个类别的要求是重新编码新的分类变量，以便旧变量（例如 X）变为 new.variable <- X 介于 0 和 15 之间。

**编辑 - 澄清问题**

我得到了一个数据集，指令是：

增长模式是通过将 X 变量转换为一个新的分类变量来生成的，该变量可以命名为“增长”。第一类分配给 X 变量中介于 15 到 50 之间的岛。这就是问题所在，但我主要头疼的是如何用 R 语言编写*“介于 15 到 50 之间”*。这就是我所拥有的：

```
growth$mediumgrowth.islands <- growth$SasiaUrban.X[growth$SasiaUrban.X ???] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:43:03.240

我并不完全清楚你想要实现什么，但我相信你想要`cut`：

```
x <- 0:20
cut(x,c(-Inf,3,9,18,Inf))
# [1] (-Inf,3]  (-Inf,3]  (-Inf,3]  (-Inf,3]  (3,9]     (3,9]     (3,9]     (3,9]     (3,9]     (3,9]     (9,18]    (9,18]    (9,18]    (9,18]    (9,18]    (9,18]   
# [17] (9,18]    (9,18]    (9,18]    (18, Inf] (18, Inf]
# Levels: (-Inf,3] (3,9] (9,18] (18, Inf] 
```

或者可能`findInterval`：

```
findInterval(x,c(-Inf,3,9,18,Inf))
#[1] 1 1 1 2 2 2 2 2 2 3 3 3 3 3 3 3 3 3 4 4 4 
```

# postgis - 如何在 Postgis 查询或 Leaflet(geojson) 上创建具有固定长度的多边形？

> ID：15804939
> 
> 赞同：0
> 
> 时间：2013-04-04T07:22:57.030
> 
> 标签：postgis

我在 Postgis 中有很多行（在 Geoserver 中导入）。我需要为具有固定长度（1 公里，100 米）的每条线创建（在新表中）多边形（或具有固定颜色的缓冲区，用于缓冲区中的计数点），无需步进。如何使用查询 Postgis 创建或使用 Leaflet（来自 geoserver 的 geojson）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T18:30:12.147

要切断你必须使用的线`ST_LINE_Substring`

```
SELECT id,ST_Line_Substring(line,
  CASE WHEN i=0 THEN 0 ELSE (i*100)/ST_Length(line) END,
  CASE WHEN (i+1)*100<ST_Length(line) THEN ((i+1)*100)/ST_Length(line) ELSE 1 END),50,'endcap=flat')
FROM line, 
  (SELECT generate_series(0,floor(ST_Length(line)/100)::int) as i FROM line) as q 
```

如果您希望它的两端都是平的，那么摆脱`ST_Buffer`它很容易，如果您想要在原始线的末端除平之外的东西，它就会变得更加复杂。然后我们必须`ST_DIFFERENCE`使用下一个/上一个元素的缓冲区进行缓冲，并且不要忘记只有一个片段的情况

```
WITH
line_frags AS
(
SELECT l.id,i, ST_Line_Substring(l.line,
CASE WHEN i=0 THEN 0 ELSE (i*100)/ST_Length(l.line) END,
CASE WHEN (i+1)*100<ST_Length(l.line) THEN ((i+1)*100)/ST_Length(l.line) ELSE 1 END) as frag,
CASE WHEN (i+1)*100>ST_Length(l.line) THEN true ELSE false END as the_end
FROM line AS l JOIN (SELECT id,generate_series(0,floor(ST_Length(l.line)/100)::int) as i FROM line AS l) as q ON q.id=l.id)

SELECT 
CASE 
  WHEN f1.i=0 AND f2.i IS NULL 
    THEN ST_Buffer(f1.frag,50,'endcap=round')
  WHEN f2.i IS NOT NULL 
    THEN ST_DIFFERENCE(ST_Buffer(f1.frag,50,'endcap=round'),ST_BUFFER(f2.frag,50,'endcap=flat')) 
  ELSE 
    ST_Buffer(f1.frag,50,'endcap=flat') END as buf 
  FROM line_frags AS f1 
  LEFT JOIN line_frags AS f2 
    ON f1.id=f2.id AND (f1.i=0 and f2.i=1 OR f1.the_end AND f2.i=f1.i-1); 
```

# python - IDLE 如何运行 .py 模块？

> ID：15804943
> 
> 赞同：3
> 
> 时间：2013-04-04T07:23:27.270
> 
> 标签：python, python-2.7, python-idle, nameerror

Windows 7 和 Python v2.7.3

使用此模块“test.py”：

```
print 'name: ' , __name__
print 'file: ' , __file__ 
```

我可以去 CMD 并输入：`python test.py`

结果将是：

```
name: __main__
file: test.py 
```

但是如果我用 IDLE 打开文件并按下`F5`运行程序，我会`NameError`告诉我`__file__`没有定义。

IDLE 通过哪些步骤来运行 .py 模块，它与直接从命令行运行模块有何不同？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T16:09:07.190

这是一个错误，显然（我不使用 IDLE）[现在已经修复](http://bugs.python.org/issue8515)- 该链接上对错误的讨论对 IDLE 实际运行代码的作用有一些解释。

# coldfusion - 如何使用 Wirebox 1.6 独立在 ColdFusion 中制作小型应用程序？

> ID：15804948
> 
> 赞同：0
> 
> 时间：2013-04-04T07:23:48.003
> 
> 标签：coldfusion, dependency-injection, inversion-of-control, aop, coldbox

我是 Wirebox 1.6 框架的新手。我必须使用 Wirebox 1.6 框架在 ColdFusion 10 中创建一个小型应用程序。我已经下载了 Wirebox 1.6 Standalone，把它放到我的 webroot 中，并成功测试了下面的代码：

```
<cfscript>
wirebox = createObject("component","wirebox.system.ioc.Injector").init();
</cfscript>
<cfdump var="#wirebox#"> 
```

但是，我需要一些示例代码来演示 Wirebox 框架在应用程序中的工作方式。是否有任何链接可以提供示例代码以帮助我理解 Wirebox？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-09T18:55:19.923

这是[Wirebox](https://github.com/murpg/wireboxstandaloneaop/blob/master/Application.cfc)作为独立单元工作的一些示例代码的链接。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-05T15:52:14.673

您最好的选择可能是在 ColdBox Google Group 上提问： [http ://groups.google.com/group/coldbox](http://groups.google.com/group/coldbox)

# android - 使用标签主机滑动

> ID：15804949
> 
> 赞同：2
> 
> 时间：2013-04-04T07:23:48.097
> 
> 标签：android, android-tabhost, swipe, nui

我有一个 TabHost 控件（不在操作栏中），并且我想在用户在每个选项卡上滑动上下文时更改选项卡（类似于 whatsapp 表情符号选项卡）。
我怎样才能做到这一点？

**编辑**
感觉也很重要。我希望上下文应该具有滚动动画（无论用户是否滑动或单击选项卡）。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-12-02T07:14:43.930

您可以覆盖 onTouchEvent：

```
@Override
public boolean onTouchEvent(MotionEvent touchevent) {
    switch (touchevent.getAction()) {
    // when user first touches the screen to swap
    case MotionEvent.ACTION_DOWN: {
        lastX = touchevent.getX();
        break;
    }
    case MotionEvent.ACTION_UP: {
        float currentX = touchevent.getX();

        // if left to right swipe on screen
        if (lastX < currentX) {

            switchTabs(false);
        }

        // if right to left swipe on screen
        if (lastX > currentX) {
            switchTabs(true);
        }

        break;
    }
    }
    return false;
} 
```

switchTabs 方法：

```
public void switchTabs(boolean direction) {
        if (direction) // true = move left
        {
            if (tabHost.getCurrentTab() == 0)
                tabHost.setCurrentTab(tabHost.getTabWidget().getTabCount() - 1);
            else
                tabHost.setCurrentTab(tabHost.getCurrentTab() - 1);
        } else
        // move right
        {
            if (tabHost.getCurrentTab() != (tabHost.getTabWidget()
                    .getTabCount() - 1))
                tabHost.setCurrentTab(tabHost.getCurrentTab() + 1);
            else
                tabHost.setCurrentTab(0);
        }
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T07:36:29.550

通过此链接 [http://thepseudocoder.wordpress.com/2011/10/13/android-tabs-viewpager-swipe-able-tabs-ftw/](http://thepseudocoder.wordpress.com/2011/10/13/android-tabs-viewpager-swipe-able-tabs-ftw/)

您可以使用手势检测器。

> 手势检测器
> 
> 使用提供的 MotionEvents 检测各种手势和事件。GestureDetector.OnGestureListener 回调将在发生特定运动事件时通知用户。此类只能与通过触摸报告的 MotionEvents 一起使用（不要用于轨迹球事件）。要使用这个类：

1 为您的视图创建 GestureDetector 的实例在 nTouchEvent(MotionEvent) 方法中确保您调用

2 onTouchEvent（运动事件）。回调中定义的方法将在事件发生时执行

此页面显示如何使用 GestureDetector 识别滑动手势：

[http://smartandroidians.blogspot.in/2010/04/swipe-action-and-viewflipper-in-android.html](http://smartandroidians.blogspot.in/2010/04/swipe-action-and-viewflipper-in-android.html)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-08-22T09:30:19.440

我使用了手势检测器...您的 Fragment 需要实现 OnGestureListener。当然要在 onCreateView 中初始化 TabHost。

```
private FragmentTabHost mTabHost; // global in fragment 
```

这是一个代码：

```
private GestureDetectorCompat gDetector; // global in fragment 
```

*   在 onCreateView

    ```
    gDetector = new GestureDetectorCompat(getActivity(), new OnGestureListener() {

         @Override
         public boolean onDown(MotionEvent e) {
             return true;
         }

         @Override
         public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX,
             float velocityY) {
             Log.i("motion", "onFling has been called!");
             final int SWIPE_MIN_DISTANCE = 120;
             final int SWIPE_MAX_OFF_PATH = 250;
             final int SWIPE_THRESHOLD_VELOCITY = 200;
             try {
                 if (Math.abs(e1.getY() - e2.getY()) > SWIPE_MAX_OFF_PATH)
                     return false;
                 if (e1.getX() - e2.getX() > SWIPE_MIN_DISTANCE
                     && Math.abs(velocityX) > SWIPE_THRESHOLD_VELOCITY) {
                     Log.i("motion", "Right to Left");
                     switchTabs(false);
                 } else if (e2.getX() - e1.getX() > SWIPE_MIN_DISTANCE
                     && Math.abs(velocityX) > SWIPE_THRESHOLD_VELOCITY) {

                     Log.i("motion", "Left to Right");
                     switchTabs(true);

                 }
             } catch (Exception e) {
                 // nothing
             }
             return false;
         }

        @Override
        public void onLongPress(MotionEvent e) {

        }

        @Override
        public boolean onScroll(MotionEvent e1, MotionEvent e2,
                float distanceX, float distanceY) {
            return false;
        }

        @Override
        public void onShowPress(MotionEvent e) {

        }

        @Override
        public boolean onSingleTapUp(MotionEvent e) {
                        return false;
        }
    });

        mTabHost.setOnTouchListener(new View.OnTouchListener() {
        @Override
            public boolean onTouch(View v, MotionEvent event) {
                return gDetector.onTouchEvent(event);
            }
        }); 
    ```

*   方法 switchTabs（布尔方向）

    ```
    public void switchTabs(boolean direction) {

       Log.w("switch Tabs", "idemo direction");
       if (direction) // true = move left
       {
            if (mTabHost.getCurrentTab() != 0)
            mTabHost.setCurrentTab(mTabHost.getCurrentTab() - 1);
       } else
       // move right
       {
           if (mTabHost.getCurrentTab() != (mTabHost.getTabWidget()
                .getTabCount() - 1))
            mTabHost.setCurrentTab(mTabHost.getCurrentTab() + 1);

       }

    } 
    ```

希望能帮助到你...

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-04T07:28:50.027

如果您已经创建了自定义活动和视图，那么我建议这样：

**在您当前的活动中实现** `OnGestureListener` **接口并覆盖** `onfling` **方法**。

实施完全取决于您。

# machine-learning - 数据挖掘中的堆叠

> ID：15804952
> 
> 赞同：1
> 
> 时间：2013-04-04T07:23:53.180
> 
> 标签：machine-learning, classification

我已经使用两个分类器（例如 naivebayes 和 SMO）对数据进行了训练和测试。现在我需要使用堆叠来组合它们。我需要知道如何执行堆叠以及我的基本级别分类器和元级别分类器应该是什么。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T08:21:23.407

听起来您想要的是[集成学习](http://en.wikipedia.org/wiki/Ensemble_learning)而不是堆叠。在一个集成中，您将使用这两个分类器来做出决策并组合这些决策。

堆叠是一个过程，其中一级分类器的输出用作下一级分类器的输入。也就是说，一些分类器的预测是其他分类器的特征。为此，您需要使用第一个分类器的输出作为输入重新训练其中一个模型。

应该在哪里使用哪一个分类器取决于您的特定应用程序。同样，如何做到这一点取决于您用来训练这些分类器的系统。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-07-02T18:43:20.870

要选择用于堆叠的基层分类器，请考虑可能在特征子集或数据子集上学习的各种分类器。例如，您的基本分类器可以是 K-NN、随机森林和朴素贝叶斯。对于元级分类器，我们希望选择一个能够基于基础级预测作为特征来很好地学习的分类器。一个好的候选者是逻辑回归。

以[mlxtend](https://github.com/rasbt/mlxtend)库为例，我们有：

```
from sklearn.linear_model import LogisticRegression
from sklearn.neighbors import KNeighborsClassifier
from sklearn.naive_bayes import GaussianNB 
from sklearn.ensemble import RandomForestClassifier
from mlxtend.classifier import StackingClassifier

clf1 = KNeighborsClassifier(n_neighbors=1)
clf2 = RandomForestClassifier(random_state=1)
clf3 = GaussianNB()
lr = LogisticRegression()
sclf = StackingClassifier(classifiers=[clf1, clf2, clf3], 
                          meta_classifier=lr) 
```

有关堆叠分类器和回归器的示例，请参阅 mlxtend[文档页面](http://rasbt.github.io/mlxtend/)。

# c# - 使用 user32.dll C# 从 JAVA 应用程序获取屏幕字段值

> ID：15804963
> 
> 赞同：1
> 
> 时间：2013-04-04T07:24:33.847
> 
> 标签：c#, user32

这是我的场景，我有一个应用程序，我想使用带有 C# 的 user32.dll 获取它的字段值，但问题是 Spy++、WinInspector、任何 UI 检查器都只能看到窗口类和窗口标题，但是不是父窗口内的字段。然后我说：“好的，我会查询窗口并让所有孩子看看发生了什么，并理解为什么我无法获得任何有关它的信息”。我发现的是一个类名为“SunAwtToolKit”的孩子，我想这个元素将包含他内部的所有字段，我发现通常很难处理 Java 应用程序以进行屏幕抓取。我的问题是，还有其他方法吗？也许我正在查看错误的 Windows API，我想找到的至少是所有子句柄。

* * *

该程序看起来像（几乎相同）：

![类似界面](https://i.stack.imgur.com/Cn61A.png)

有人使用 user32.dll 或任何其他技术处理像这里（Jtextfield）这样的字段吗？

# python - 在 Python/Django 中更改 MySQL 中同一列的每一行的值？

> ID：15804966
> 
> 赞同：0
> 
> 时间：2013-04-04T07:24:42.043
> 
> 标签：python, mysql, django

我在 Django 中有这样的模型：

```
class Source_info(models.Model):
    user = models.ForeignKey(User)
    session_name = models.TextField()
    server_uname_path = models.TextField()
    server_name = models.TextField()
    server_fullpath = models.TextField()
    source_username = models.TextField()
    make_default = models.TextField() 
```

我得到 make_default 值为：

```
make_default = request.POST.get('make_default', True) 
```

如果用户检查 make_default 值，`'on'`否则它是`True`. 一个用户只能有一个make_default，即`'on'`每个用户只能有一个。`'True'`因此，如果用户选中 Make default，我想将先前的值更改为 on。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-04T08:54:28.847

我是这样理解你的问题的：每个用户最多可以有一个`Source_info`作为他们的默认值。因此，当用户选择*此* `Source_info`作为默认设置时，您希望取消选择该用户的所有*其他*选项。

您遇到困难的原因是您的模型设置错误。如果每个用户最多有一个默认值`Source_info`，那么您需要将其作为*用户*模型上的外键，而不是模型上的标志`Source_info`。所以你应该改写：

```
class User(models.Model):
    # ... other fields ...
    default_source_info = models.ForeignKey('Source_info', null = True) 
```

（如果每个用户都*只有*一个默认值`Source_info`，那么您可以省略`null = True`.）

如果有`User`问题的模型是来自的模型`django.contrib.auth`，那么您应该看到Django 文档中的“[扩展现有用户模型”部分。](https://docs.djangoproject.com/en/1.5/topics/auth/customizing/#extending-the-existing-user-model)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T09:06:50.343

```
def your_view(request, id):
    #change the current make_default into False
    default = SourceInfo.objects.get(user=request.user, make_default=True)
    default.make_default = False
    default.save()

    #the new make_default for user
    source = get_object_or_404(SourceInfo, pk=id)
    source.make_default = True
    source.save()

    ................. 
```

# python - 有没有办法在 Windows 7 (Python) 中进行交互服务？

> ID：15804968
> 
> 赞同：0
> 
> 时间：2013-04-04T07:24:45.867
> 
> 标签：python, winapi, service, com, outlook

我已经能够使用 Python 并按照本教程创建 Windows 服务： [http ://ryrobes.com/python/running-python-scripts-as-a-windows-service/](http://ryrobes.com/python/running-python-scripts-as-a-windows-service/)

但是，我尝试在其中实现一个脚本，通过 COM 打开一个新的 Outlook 邮件。该脚本在服务之外工作，但我似乎已将问题追溯到这一行：

`obj = win32com.client.Dispatch("Outlook.Application")`

进一步研究这一点，Vista 和 Windows 7 中的 UAC 似乎阻止了与用户交互的服务。更多信息 - [http://msdn.microsoft.com/en-us/library/windows/desktop/ms683502%28v=vs.85%29.aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms683502%28v=vs.85%29.aspx)

所以我的问题是：最好的解决方法是什么？我有一个 python 脚本可以在我确保打开它时工作，但是在启动目录中保留一个批处理/cmd 文件似乎有点错误。

提前感谢您的任何想法！

Windows 7 x64（我也受企业组策略的约束。我只有本地管理员权限）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-06T22:42:39.847

您的“更多信息”链接描述了两种可能可以实现的技术：

*   “使用 WTSSendMessage 函数在用户会话中显示一个对话框”
*   “创建一个单独的隐藏 GUI 应用程序并使用 CreateProcessAsUser 函数在交互式用户的上下文中运行该应用程序。...”

但正如[这些](https://stackoverflow.com/a/20970600/2946116) [答案](https://stackoverflow.com/a/204082/2946116)和[Simon Mourier](https://stackoverflow.com/users/403671/simon-mourier)的评论中所提到的，最直接的解决方案可能是服务 + 用户会话中的后台进程 + IPC。

此外，如果您尝试通过 Outlook 创建新电子邮件，您可能希望/需要在用户会话中运行的某些内容以获得适当的上下文。

# java - java RMI + 源命中服务器来自 Internet 或 Intranet

> ID：15804977
> 
> 赞同：1
> 
> 时间：2013-04-04T07:25:21.920
> 
> 标签：java, sockets, rmi

在 java RMI 中，我正在构建一个聊天应用程序。但是我无法找出一种方法来找出访问我服务器的 IP 是来自我的内部组织网络（INTRANET）还是来自外部世界（INTERNET）。现在我正在使用

```
try {
        System.setProperty("java.rmi.server.hostname",InetAddress.getLocalHost().getHostAddress());
        Registry statusRegistry = LocateRegistry.createRegistry(ChatConstants.statusPort);
        ChatInterface chat = new ChatImpl(ChatConstants.statusPort) ;
        statusRegistry.rebind("statusconnection",chat);
        System.out.println("RMIStatusConnection Server is started...");
     } catch (RemoteException e) {
            System.out.println("RMIStatusConnection failed...");
            e.printStackTrace();
     } catch (UnknownHostException e) {
            e.printStackTrace();
     } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T09:20:27.807

尝试 RemoteServer.getClientHost()，但它可能只提供最近的 NAT 设备的地址。

注意，像这样设置 java.rmi.server.hostname 没有多大意义。这是默认设置。只有在默认设置有问题时才需要设置它。

# iphone - 苹果开发者证书

> ID：15804980
> 
> 赞同：0
> 
> 时间：2013-04-04T07:25:37.340
> 
> 标签：iphone, ios, ios4

我是iOS应用程序开发的新手。我开发了一个 iOS 应用程序。我想将我的构建文件发送给某人。但我不确定在哪里可以找到我的构建文件。

我听说我必须拥有一个**Apple 证书**才能构建，那个**Apple Certificate**是什么？我如何以及在哪里可以获得它？（我已经登录苹果开发者空间）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-04-04T07:54:28.833

I have already signedup with ios developer account, you should have access to ios Provisionng protal. ([https://developer.apple.com/ios/manage/overview/index.action](https://developer.apple.com/ios/manage/overview/index.action))

If you are not able to see this, You are not member fo developer portal yet. To get access of this section, You need to complete the registration process.
Please make sure you have paid the fees (generally US $99 for the enrolment) Create Apple Developer Account [http://developer.apple.com/programs/ios/](http://developer.apple.com/programs/ios/)

iOS Dev Center [http://developer.apple.com/devcenter/ios/index.action](http://developer.apple.com/devcenter/ios/index.action)

After registration, You will get access to all detail including how to create certificate and provision profiles. [https://developer.apple.com/ios/manage/certificates/team/howto.action](https://developer.apple.com/ios/manage/certificates/team/howto.action)

Thanks!

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-04T07:29:53.177

如果您已经签名，请前往

1.  [https://developer.apple.com/](https://developer.apple.com/)

2.  会员中心

3.  iOS 配置门户

4.  证书

5.  创建新证书并下载

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-04T07:30:58.903

您需要该证书才能在您的 Mac 中安装配置文件。需要配置文件来制作要发送给某人的项目的临时构建。您需要使用该配置文件签署您的代码。

如果您已经注册了每年需要 100 美元的苹果开发者计划，您可以从那里生成证书和配置文件

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-04T07:37:03.583

如果您已经注册到 Apple Development Program，请按照以下步骤操作：

1.  登录 www.developer.com/membercenter
2.  单击 ios 配置文件
3.  使用钥匙串访问创建证书
4.  使用证书创建开发证书
5.  查看如何在配置选项卡中执行步骤并创建分发证书
6.  将下载的证书拖放到 Dock 中的 xcode 和 iTunes
7.  打开你的应用程序
8.  去构建设置
9.  在代码签名下添加分发证书
10.  选择要构建的ios设备
11.  转到文件-> 项目设置-> 导航到派生数据路径，您可以将构建文件发送给您想要的人。

# ios - 使用类似于 Iphones 音乐播放器的 tableviews 创建一个选项卡式 UIviews

> ID：15804983
> 
> 赞同：0
> 
> 时间：2013-04-04T07:25:53.577
> 
> 标签：ios, xcode, uitableview

我正在开发具有选项卡式 UIview 的 IOS 应用程序，每个选项卡都有自己的表视图。可以说它类似于 Iphones 音乐播放器。我无法弄清楚的是如何在同一个uiview中使用两个tableviews。我需要根据歌曲视图控制器的调用方式以分组和普通的 Uitable 样式显示歌曲。如果它是通过artistViewController 调用的，那么tableview 应该是PLAIN，否则它应该是GROPUED。我试图通过一次隐藏一个 tableview 来做到这一点，但它没有成功。我也不确定使用两个表格视图是否是一件好事（显示相同的数据并且所有操作也将相同）。是否可以自定义分组的表格视图以显示为普通视图，或者是否有任何其他我可以遵循的方法，请帮助 mw 放在这里。任何建议将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:32:07.597

基于UITab的应用程序：使用UITabbarController单击每个选项卡加载单独的视图，您在Windows.xib文件中执行此操作。将相应的类添加到视图并连接它们，然后在UITableView的didselectrow方法上使用UITableView在不同的类中加载不同的音乐文件播放特定选定的音乐文件。

# html - 两个div的位置

> ID：15804984
> 
> 赞同：0
> 
> 时间：2013-04-04T07:25:54.737
> 
> 标签：html, css

我的网页中有两个 div 元素，并且我已经包含了这两个元素的 CSS。

```
#item-browsing {
    width: 65%;
    height: 500px;
    float: left;
    position: relative;
    min-width: 915px;
}

#bill-information {
    width: 315px;
    height: 100%;
    float: left;
    box-shadow: 3px -3px 11px -7px;
} 
```

当我为各种分辨率重新调整浏览器的大小时，项目浏览元素会下降。我附上了我上面的意思的屏幕截图。

![浏览器屏幕截图](https://i.stack.imgur.com/0WRyF.png)

如何使用 CSS 解决此问题。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:30:03.670

给出这两个元素的父元素`position: relative`并更改以下与`#item-browsing`.

```
#item-browsing {
    height: 500px;
    position: absolute;
    right: 315px; /* or left */
    left: 0;
    top: 0;
    bottom: 0;
    min-width: 915px;
} 
```

顺便说一句，SO上有很多基于这个问题的帖子。

[**工作小提琴**](http://jsfiddle.net/wFApP/1/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-04T07:29:36.217

只需在这两个 div 周围放置一个包装器。像这样：

```
#wrapper{
width: [your width];
clear: both;
padding: 0;
overflow: hidden;
}

#item-browsing {
    width: 65%;
    height: 500px;
    float: left;
    position: relative;
    min-width: 915px;
}

#bill-information {
    width: 315px;
    height: 100%;
    float: left;
    box-shadow: 3px -3px 11px -7px;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-04-04T07:31:32.243

添加一个包装器并将其设置`min-width`为两个包含 div 的宽度之和：

```
#wrapper {
    min-width: 1230px;
} 
```

[**简化演示**](http://jsfiddle.net/wFApP/)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-04-04T07:32:47.337

如果浏览器宽度小于 915 (min-width)+315(width)=1230px，则第二个 div 右侧没有空间。

# jquery - mvc ajax/jquery - 单击图像而不重新加载页面

> ID：15804986
> 
> 赞同：2
> 
> 时间：2013-04-04T07:26:06.433
> 
> 标签：jquery, ajax, asp.net-mvc

1.  用户单击我的 MVC 视图上的图像，然后此 onclick 事件调用控制器中的某些方法或操作 - 无需重新加载页面。此方法将返回一些字符串到我的 jquery/ajax 函数（一些数据）。有了这些数据，我可以更改图像边框（问题 - 无需重新加载）。任何例子我该怎么做？

2.  用户填写文本框，然后单击按钮 - 无需重新加载页面 - 它将添加到此文本框的数据库内容并显示数据库中的所有记录。同样的问题 - 如何开始？

问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:39:40.130

尝试了解 Ajax.BeginForm。这涵盖了您的两个问题。

这是一个样本：

```
@using (Ajax.BeginForm(new AjaxOptions { UpdateTargetId = "updateDiv" }))
{
    <div>
        Enter your name : @Html.TextBox("name") <input type="submit" />
    </div>
}
<div id="updateDiv">

</div> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T14:21:18.277

[我为您创建了一个示例项目来回答这](https://docs.google.com/file/d/0B0iPiW5jXDdPVjdhblJxdkF5eTA/edit?usp=sharing)两个问题，您可以从 Google 驱动器获取它（选择文件-> 下载以下载 .zip 文件夹），查看示例项目或按照以下步骤操作：

## 问题 1 - 单击时更改图像边框

1) 将图像控制器添加到 Controllers 文件夹：

```
public class ImageController : Controller
{
    public ActionResult Index()
    {
        return View();
    }

    public int ChangeImageSize()
    {
        return 10;
    }
} 
```

2）右键单击索引方法并选择“添加视图...”将名称保留为索引

将以下标记添加到 Index 视图，基本上它的作用是执行一个 jQuery 函数，该函数转到 Image 控制器中的 ChangeImageSize 方法并返回一个随机值 10。然后我将图像的边框宽度设置为此值（并且没有页面刷新！）

```
@{
    ViewBag.Title = "Index";
}
<script src="../../Scripts/jquery-1.7.1.js" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $('#imageLink').on("click", "a,img", function (e) {
            e.preventDefault();
            $.get("@Url.Action("ChangeImageSize","Image")",function(data)
            {
                $("#image").css("border-width",data);
            });
        });
    });
</script>
<h2>
    Index</h2>
<a id="imageLink" href="javascript:;">
    <img id="image" src="../../Images/image.jpg" style="width: 300px; height: 300px;" />
</a> 
```

## 问题 2 - 在数据库中插入一个值，显示一个包含新值的列表：

1）将 ADO.NET 实体数据模型添加到您的模型文件夹并连接到所需的数据库（或者使用任何其他数据访问方法，我刚刚使用 EF，因为它很简单）

2）在控制器文件夹中添加一个员工控制器：

```
public class EmployeeController : Controller
{
    EmployeeModel dataContext = new EmployeeModel();
    public ActionResult Index()
    {
        return View();
    }

    [HttpPost]
    public ActionResult Index(string employeeName)
    {
        if (!String.IsNullOrEmpty(employeeName))
        {
            Employee emp = new Employee() { EmployeeName = employeeName };
            dataContext.Employees.AddObject(emp);
            dataContext.SaveChanges();
        }

        List<Employee> employees = dataContext.Employees.ToList();
        return View("Partial/AllEmployees",employees);
    }
} 
```

3）右键单击索引操作方法并选择“添加视图...”将名称保留为索引

4) 将以下标记复制到索引视图

```
@{
    ViewBag.Title = "Employees";
}
<script src="../../Scripts/jquery-1.7.1.js" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $(function () {
            $('form').submit(function () {
                $.ajax({
                    url: this.action,
                    type: this.method,
                    data: $(this).serialize(),
                    success: function (result) {
                        $('#result').html(result);
                    }
                });
                return false;
            });
        });

        $.post("@Url.Action("Index","Employee")",function(data)
        {
            $("#result").html(data);
        });
    });
</script>

@using (Ajax.BeginForm(new AjaxOptions()))
{
    <div>
        Enter your name : @Html.TextBox("employeeName") 
        <input type="submit" value="Insert" />
    </div>
}
<div id="result"></div> 
```

5) 在 Views->Employee 创建一个名为 Partial 的文件夹

6) 向 Partial 文件夹添加一个新视图 - AllEmployees.cshtml

7) 将以下标记添加到 AllEmployees 视图：

```
@model IEnumerable<MVCSample.App.Models.Employee>

@{
    Layout = null;
}

<table>
    <tr>
        <th>
            Employee name
        </th>
    </tr>
@foreach (var item in Model) {
    <tr>
        <td>@Html.DisplayFor(modelItem => item.EmployeeName)</td>
    </tr>
}
</table> 
```

# android - 如何在 ecilipse 模拟器中获取内置日历应用程序的源代码？

> ID：15804988
> 
> 赞同：3
> 
> 时间：2013-04-04T07:26:20.410
> 
> 标签：android, android-widget

谁能告诉我模拟器中日历应用程序的源代码或文件位置。

我在以下链接中捕获了两个图表。

非常感谢！

[![图一](https://i.stack.imgur.com/7GWPS.jpg)](https://i.stack.imgur.com/7GWPS.jpg)
[（来源：[ppt.cc](http://ppt.cc/TW8u@.jpg)）]

[![图一](https://i.stack.imgur.com/wdmIx.jpg)](https://i.stack.imgur.com/wdmIx.jpg)

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-04-04T07:52:48.227

您可以在 google 的 android 源代码库中找到日历应用程序源。

[https://android.googlesource.com/platform/packages/apps/Calendar/](https://android.googlesource.com/platform/packages/apps/Calendar/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-01-08T12:25:14.000

进一步解释关于从 aosp 编译股票日历应用程序的公认答案，简短的回答是：你不能

该应用程序是针对整个 rom 编译的，这意味着它链接到其他一些项目，因此您不能只下载某个特定应用程序的源代码并进行编译。根据[eclipse项目文件](https://github.com/android/platform_packages_apps_calendar/blob/master/project.properties)和[android make文件](https://github.com/android/platform_packages_apps_calendar/blob/master/Android.mk)

但是，我确实设法从源代码中获得了编译版本，因为它们只是开源部分，不包括您提到的某些文件，例如 AllInOneMenuExtensions。它在运行时会生成一些错误消息，并且您会注意到与发布版本相比，视觉和功能都有很大不同（缺少）。 [我的日历叉](https://github.com/1and1get2/google-calendar/tree/standalone)

# php - 如何匹配字符串，直到第一个不跟随另一个特定字符的字符实例

> ID：15804992
> 
> 赞同：0
> 
> 时间：2013-04-04T07:26:32.267
> 
> 标签：php, regex, pcre, regex-lookarounds

相关问题：[当​​不跟随特定字符（？）时，如何使用正则表达式匹配字符（'）？](https://stackoverflow.com/questions/12970643/how-can-i-use-regex-to-match-a-character-when-not-following-a-specific-chara)

我正在使用正则表达式（PHP PCRE 库）解析日志，并尝试从中提取 URL。URL 被封装在双引号 "，但有些请求还包含双引号 "。例如：

```
"https://www.amh.net.au/online/dbSearch.php?t=all&q=\"Rosuvastatin\"" 
```

我的第一个模式基本上是：

```
#\"([^\"]*)\"# 
```

这工作得很好，直到我到达上面的条目之一，它截断了匹配，所以我得到的只是：

```
https://www.amh.net.au/online/dbSearch.php?t=all&q=\ 
```

在四处挖掘并重新发现[http://addedbytes.com上的正则表达式备忘单以及](http://addedbytes.com)[http://www.regular-expressions.info/lookaround.html](http://www.regular-expressions.info/lookaround.html)上的一些更有用的信息之后， 我现在尝试了以下后视：

```
#"([(?<!\\)"]*)"# 
```

但是，现在我得到的只是“”，然后是一个空字符串

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-04T07:38:06.757

你把你的lookbehind放在你的组内（[]），所以它不会被解释为这样，而只是你说你只想要那些单独的字符。
基本上，我认为你会喜欢这样的东西：

```
#"(?:[^"]|(?<=\\)")"# 
```

虽然你应该知道你会被 \\" 例如。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:45:07.823

日志中的 URL 将是 URL 编码的。因此，以下模式应该有效：

```
#\"([^ ]*)\"# 
```

# c# - 插入 Ms Access 数据库时出错（未指定的错误 \r\n 对象无效或不再设置）

> ID：15804995
> 
> 赞同：3
> 
> 时间：2013-04-04T07:26:47.057
> 
> 标签：c#, winforms, visual-studio, ms-access-2007, desktop-application

每次单击按钮时，我想插入大约 2000 条记录。它工作正常，直到记录 511，并抛出此异常： **未指定错误 \r\n 对象无效或不再设置**

我已经用不同的记录或不同的顺序对其进行了多次调试，并且总是在第 511 条记录上得到相同的错误。发生了什么？

代码：（在插入另一条记录之前，我读取了最后一条记录的 ID）

```
string CmdText = "SELECT TOP 1 Id FROM MyTable ORDER BY Id DESC";
OleDbCommand com = new OleDbCommand(CmdText,tran.Connection,tran);
com.CommandType = CommandType.Text;
OleDbDataReader reader = com.ExecuteReader(); //exception started here 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-04T07:42:16.297

听起来 Jet 引擎以某种方式无法正常工作或已损坏。

使用 Microsoft ODBC Driver for Access 或 Microsoft OLE DB Provider for Jet 打开和关闭连接或记录集时，可能会报告以下错误：

```
Object invalid or no longer set. 
```

要解决此问题，请安装最新的`Microsoft Jet 4.0 service pack 6`. 有关其他信息[修复：“对象无效或不再设置”Microsoft Jet 错误](http://support.microsoft.com/kb/304536)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:56:59.203

我已经想通了，伙计们。每次我想插入新记录时，我都必须关闭 OleDBDataReader。

现在它工作正常。谢谢。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-29T15:46:03.703

解决此问题的最佳方法是删除在插入/更新时出现错误的表。然后重新建表，但一定要先备份表数据。

# javascript - javascript中的按位&未返回预期结果

> ID：15804997
> 
> 赞同：6
> 
> 时间：2013-04-04T07:26:49.293
> 
> 标签：javascript, bitwise-and

我正在用 javascript 处理 BitWise AND 运算符。

我有两个 32 位数字

```
4294901760 (11111111 11111111 00000000 00000000) and

4294967040 (11111111 11111111 11111111 00000000) 
```

当我和他们按位 计算时，`4294901760 & 4294967040`我得到了 -65536 虽然结果应该是`4294901760`.

任何人都可以指导我我错过了什么吗？或者什么是正确的方法。谢谢

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-04-04T07:36:50.173

```
console.log((4294901760 & 4294967040) >>> 0); 
```

附加`>>> 0`让它将您的操作解释为未签名。

**小提琴：http:**
[//jsfiddle.net/JamZw/](http://jsfiddle.net/JamZw/)

**更多信息：**
[对 32 位无符号整数的按位运算？](https://stackoverflow.com/questions/6798111/bitwise-operations-on-32-bit-unsigned-ints)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-04T07:39:17.903

javascript 中按位运算的操作数被[转换为有**符号**的32 位整数](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/Bitwise_Operators#Signed_32-bit_integers)。Unsigned`4294901760`具有与 signed 相同的二进制表示`-65536`。您可以使用`>>> 0`将结果转换`&`为无符号，例如：

```
(4294901760 & 4294967040) >>> 0 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-13T08:56:13.023

检查 AND 位运算的这个自定义实现：

```
function and(a, b){
    a = a.toString(2).split('');
    b = b.toString(2).split('');
    var length = Math.max(a.length, b.length);
    function padZeroes(array, size){
        while(array.length <= size ){
            array.unshift('0');
        }
    }
    padZeroes(a, length);
    padZeroes(b, length);
    var result = [];
    $.each(a, function(i, v){
        result.push((a[i]==b[i] && a[i]!='0')?'1':'0');
    });
    var r = parseInt(result.join(''), '2');
    return r;
} 
```

[jsfiddle](http://jsfiddle.net/6pqpK/)