# StackOverflow 问答 15242000-15242999

# jquery - Jquery 无法验证启用的表单

> ID：15242002
> 
> 赞同：0
> 
> 时间：2013-03-06T08:06:15.750
> 
> 标签：jquery, asp.net, jquery-validate

我正在做一个复杂的注册表单。我正在做很多 Jquery.validation 并且除了在一个表单元素上工作得很好。该表单元素是 input=text。它在开始时被禁用，如果选择了其中一个单选按钮，它就会被启用。所以，除了这个输入，我的验证系统按预期工作。

这是html代码...

```
 <form class="form_third">
      <div id="div_muayenehane" style="display:none">
         <div>Telefon&nbsp;<span id="Span13" style="font-size:11px;color:red"></div><div style="line-height: 3px">&nbsp;</div>
         <div><input type="text" id="txt_telefon" name="txt_telefon" style="width: 200px" class="blue_input required" minlength="11" maxlength="11" placeholder="02125556677"; /></div><div style="line-height: 6px">&nbsp;
      </div>
    </div>
    </form> 
```

这是jquery代码...

```
$("#form_third").validate({
            submitHandler: function () {
                return false;
            },
            errorPlacement: function (error, element) {
                error.appendTo(element.parent().prev().prev().children('span'));
            },
            rules: {
                txt_telefon: {
                    required: true,
                    digits: true
                }
            }
        }); 
```

它应该验证 txt_telefon 并在 Span13 中显示错误消息，但它不起作用。它什么也没做。你认为我应该使用“.on”事件还是其他什么，因为 div_muayenehane 在加载时被禁用

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T08:12:14.137

问题似乎在这里：

```
$("#form_third") 
```

它应该是

```
$(".form_third") 
```

因为“form_third”是类属性，而不是 id。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T08:20:43.333

表单标签中的位变化`<form id="form_third" class="form_third">`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T08:16:48.390

改变

```
$("#form_third")

to

$(".form_third") 
```

您需要将 .(dot) 用于类，将 # 用于 Id。

# database - 在数据库中保存“依赖值”是一种好习惯吗？

> ID：15242010
> 
> 赞同：1
> 
> 时间：2013-03-06T08:06:35.513
> 
> 标签：database, architecture

我们正在开发一款拥有英雄和士兵的游戏。他们都可以升级。然而，随着他们升级，不同的算法被用来获取他们下一个级别的属性。

*   对于英雄来说，他们的属性是设计师配置的固定值。也就是说，对于每一个三级法师来说，他们的属性都是完全相同的。
*   对于其他士兵，他们的属性是使用脚本中的公式生成的，带有一些随机噪声。也就是同等级的两只兔子不一样。

随着我们的开发，我们首先实现了士兵部分，然后是英雄部分。对于士兵，在生成他们的属性值时，我们将每个士兵的属性存储到数据库中。随着开发的进行，我们为英雄做了同样的事情。但这是一个好习惯吗？我的意思是实际上我们可以从设计者 XML 文件中获取所有属性，只要提供 level 和 class，将所有属性保存到数据库似乎是一种重复。我们被教导要避免重复，不是吗？

更重要的是，随着英雄升级，我们每 5 级解锁一些包格，将这些解锁信息保存到数据库中是否好？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:32:24.703

来自经验的一个好的经验法则，如果您**将值存储在数据库中**，它应该**优先于任何默认值**。如果是这样，那么设计是正确的。如果不是，那就是冗余，应该避免。如果未来的开发人员注意到游戏中的值与存储在数据库中的值不同，他们会如何反应？第一个预期的反应是——哦，有一个错误，我们需要修复它。

# android - 具有超过 2 层的过渡 Drawable

> ID：15242012
> 
> 赞同：4
> 
> 时间：2013-03-06T08:06:40.210
> 
> 标签：android, transition, android-drawable, transitiondrawable

过渡可绘制的项目可以超过 2 个吗？我需要更改背景，以便第二帧淡入，而不是第三帧，依此类推到第四帧...

现在我有这个：

```
<?xml version="1.0" encoding="UTF-8"?>
<transition xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:drawable="@drawable/voting_button_not1"/>
    <item android:drawable="@drawable/voting_button_not2"/>
    <item android:drawable="@drawable/voting_button_not3"/>
    <item android:drawable="@drawable/voting_button_not4"/>
    <item android:drawable="@drawable/voting_button_not5"/>
    <item android:drawable="@drawable/voting_button_not1"/>
</transition> 
```

我得到了按钮：

```
<ImageButton android:id="@+id/skipButton"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@drawable/coldf1f2"
    android:scaleType="fitCenter"
    android:adjustViewBounds="true"/> 
```

PS不要介意它是一个ImageButton，这没有任何区别。

在我的代码中，我得到了这样的东西：

```
TransitionDrawable vote_not = (TransitionDrawable)skip.getBackground();
vote_not.startTransition(1000); 
```

它播放从第一项到第二项的过渡。但我需要播放完整列表。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-08T22:42:35.847

似乎`TransitionDrawable`只能使用两层进行操作。取自该类的[Android 文档](http://developer.android.com/reference/android/graphics/drawable/TransitionDrawable.html)：

> LayerDrawables 的扩展，旨在在第一层和第二层之间交叉淡入淡出。

我认为您可以指定两个以上的图层，因为这是分层可绘制对象的扩展，但`TransitionDrawable`实际上只使用了前两个。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-02-07T23:53:20.587

您可以结合使用 Handler 和为数组元素重新应用 TransitionDrawable 来做到这一点。

[在https://stackoverflow.com/a/54584103/114549](https://stackoverflow.com/a/54584103/114549)上查看我的答案

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-08-05T11:23:39.640

您可以使用处理程序尝试此选项

mAnimateImage 是一个 imageView，而 DrawableImage 是一个带有可绘制对象的数组

```
int DrawableImage[] = {R.drawable.back_red , R.drawable.back_green, R.drawable.back_purple};

final Handler handler = new Handler();
final int[] i = {0};
final int[] j = {1};
handler.postDelayed(new Runnable() {
    @Override
        public void run() {
            runOnUiThread(new Runnable() {
                @Override
                public void run() {
                    Resources res = getApplicationContext().getResources();
                    TransitionDrawable out = new TransitionDrawable(new Drawable[]{res.getDrawable(DrawableImage[i[0]]), res.getDrawable(DrawableImage[j[0]])});
                    out.setCrossFadeEnabled(true);
                    mAnimateImage.setImageDrawable(out);
                    out.startTransition(4000);
                    i[0]++;
                    j[0]++;
                    if (j[0] == DrawableImage.length) {
                        j[0] = 0;
                    }
                    if (i[0] == DrawableImage.length) {
                        i[0] = 0;
                    }
                    handler.postDelayed(this, 8000);
                }
            });
        }
    }, 0); 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2014-08-26T17:30:33.833

听起来你可能想要 AnimationDrawable：

[http://developer.android.com/reference/android/graphics/drawable/AnimationDrawable.html](http://developer.android.com/reference/android/graphics/drawable/AnimationDrawable.html)

# android - 指定时间后返回活动

> ID：15242016
> 
> 赞同：0
> 
> 时间：2013-03-06T08:06:59.023
> 
> 标签：android, service, alarmmanager

我想在指定的空闲时间后返回到指定`Activity`的对方。`Activity`我应该使用什么：`Service`，`AlarmManager`或者其他什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T08:10:38.880

如果您只是希望它仅适用于您的活动（而不是来自后台等），只需在您的每个活动中使用[TimerTask](http://www.android-ever.com/2012/07/android-timertask.html)（好吧，在超类中以避免重复）。为此建立服务是没有意义的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:09:07.617

使用待定意图，请参阅此链接... [http://developer.android.com/reference/android/app/PendingIntent.html](http://developer.android.com/reference/android/app/PendingIntent.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T08:14:49.023

您可以使用 timertask，或者我建议使用处理程序，而不是使用服务或警报管理器。Handler.postdelayed。它是一个更好的选择。

# c++ - 奇怪的 C++ 指针新/删除问题

> ID：15242018
> 
> 赞同：2
> 
> 时间：2013-03-06T08:07:05.780
> 
> 标签：c++, pointers, free

```
#include <iostream>

using namespace std;

int main (int args, char **argv) {
    char *data = new char(16);
    for (int i = 0; i < 16; ++i) {
        data[i] = i; // works fine when commented out, also fails when data[i] = 0
    }

    char *res = new char (10);
    delete[] res;
    return 0;
} 
```

给出错误，请自行查看：http: [//ideone.com/AgZhZB](http://ideone.com/AgZhZB)

```
*** glibc detected *** ./a.out: free(): invalid next size (fast): 0x09377018 ***
======= Backtrace: =========
/lib/i386-linux-gnu/libc.so.6(+0x75ee2)[0xb7519ee2]
/usr/lib/i386-linux-gnu/libstdc++.so.6(_ZdlPv+0x1f)[0xb76f751f]
/usr/lib/i386-linux-gnu/libstdc++.so.6(_ZdaPv+0x1b)[0xb76f757b]
./a.out[0x80485af]
/lib/i386-linux-gnu/libc.so.6(__libc_start_main+0xf3)[0xb74bd4d3]
./a.out[0x80484b1] 
```

我一无所知。任何帮助将非常感激。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-06T08:07:38.847

代替

```
char *data = new char(16); 
```

和

```
char *data = new char[16]; 
```

您现在拥有的分配一个`char`并将其初始化为`16`. 要分配一个数组，您必须使用如上所示的方括号。

同样，替换

```
char *res = new char(10); 
```

和

```
char *res = new char[10]; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T08:20:47.857

显然，正确的行为是**不使用`new`**.

```
#include <vector>

int main () {
    std::vector<char> data{16};
    for (int i = 0; i < 16; ++i) {
        data.at(i) = i;
    }

    std::vector<char> res{10};
    return 0;
} 
```

*注意：`data{10}`符号是 C++11 初始化语法，它与编译器大致等效，`data(10)`但更容易被编译器解析。*

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T08:17:14.287

您的代码中唯一可能“奇怪”的是您正在调用未定义的行为，首先是通过越界访问：

```
char *data = new char(16); // pointer to single char, value 16
for (int i = 0; i < 16; ++i) {
    data[i] = i; // out of bounds access: UNDEFINED BEHAVIOUR
} 
```

`delete[]`然后，在需要时调用`delete`：

```
char *res = new char (10); // pointer to single char, value 10
delete[] res; // Oops, UNDEFINED BEHAVIOUR 
```

当你得到未定义的行为时，任何事情都可能发生。它不必是可重现的，所以它看起来很“奇怪”。

# svm - 特征选择后重新归一化特征向量

> ID：15242023
> 
> 赞同：2
> 
> 时间：2013-03-06T08:07:18.227
> 
> 标签：svm, scikit-learn, document-classification

我已经使用[sklearn.feature_extraction.text.TfidfVectorizer](http://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.TfidfVectorizer.html#sklearn.feature_extraction.text.TfidfVectorizer)对已经转换为 TF*IDF 特征向量的训练文档执行了 χ² 特征选择，默认情况下会生成归一化向量。然而，在选择了前 K 个信息量最大的特征后，由于移除了维度，向量不再被归一化（所有向量现在的长度 < 1）。

是否建议在特征选择后重新归一化特征向量？我也不太清楚 B/T 标准化和缩放的主要区别。它们是否为 SVC 等学习者提供类似的目的？

预先感谢您的友好回答！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T13:21:39.400

这实际上是一个很多问题。对 tf-idf 向量进行归一化的主要原因是它们的点积（SVM 在其决策函数中使用）很容易解释为[余弦相似度](https://en.wikipedia.org/wiki/Cosine_similarity)，这是信息检索中文档向量比较的支柱。规范化确保

```
"hello world"             -> [1 2]
"hello hello world world" -> [2 4] 
```

成为相同的向量，因此将文档连接到自身上不会改变决策边界，并且这两个文档之间的相似性恰好是一个（尽管`sublinear_tf`在向量化器构造函数中使用亚线性缩放，这不再是正确的）。

进行缩放的主要原因是[避免数值不稳定问题](http://www.csie.ntu.edu.tw/~cjlin/papers/guide/guide.pdf)。归一化处理了其中的大部分，因为特征已经在 [0, 1] 范围内。（我认为它也与正则化有关，但我不经常使用 SVM。）

正如您所注意到的，chi²“非规范化”特征向量，因此要回答原始问题：您可以尝试重新规范化它们。我在 scikit-learn 文档分类示例中添加 chi² 特征选择时这样做了，它对一些估计器有帮助，但对其他估计器有帮助。您也可以尝试对未归一化的 tf-idf 向量进行 chi²（在这种情况下，我建议您尝试设置`sublinear_tf`），然后进行缩放或归一化。

# qt - 使用 Qt 关闭手机屏幕

> ID：15242028
> 
> 赞同：2
> 
> 时间：2013-03-06T08:07:42.903
> 
> 标签：qt, qt-mobility

有没有办法从用 Qt 编写的移动应用程序关闭或打开手机屏幕？QtMobility 中的任何功能？

# html - 什么是具有图像背景的最佳 html5 画布曲线在线生成器？

> ID：15242030
> 
> 赞同：0
> 
> 时间：2013-03-06T08:07:44.293
> 
> 标签：html, canvas, generator

[我只需要像https://canvature.appspot.com/](https://canvature.appspot.com/)这样的在线画布曲线生成器，我可以在其中将图像设置为背景，并在其上跟踪曲线点。

非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:46:15.707

有很多网站可以生成曲线，但我推荐[这个](http://www.victoriakirst.com/beziertool/)

# python - python 3网络服务器iframe问题

> ID：15242032
> 
> 赞同：0
> 
> 时间：2013-03-06T08:07:52.463
> 
> 标签：python, iframe

原来 iframe 就像脚本一样，所以我的反 JavaScript 插件阻止了它....

# sql - T-SQL 平均计算

> ID：15242033
> 
> 赞同：4
> 
> 时间：2013-03-06T08:07:58.047
> 
> 标签：sql, tsql, sql-server-2012, average, moving-average

我想在我的选择语句中为一堆值列合并两个平均计算。

请参阅此链接了解我的简化表结构，包括所需的输出计算：[Pastebin](http://pastebin.com/v5E1xAKF)

**1）移动平均线：**

Month1 = 该月的 value1 列的值，Month2 = 如果 sum == 0 则写入 0，否则为 avg(Month1 和 Month2)，依此类推。

因此，对于每种产品，我想要一年内每个月的移动平均值。我在我的 Excel 中设置了这个，但我无法将表达式传输到 sql。

**2) 总体平均：**

对于每个产品，计算所有年份的平均值并将计算值复制到该产品的所有行。

我希望你能帮我解决这个问题。看起来我需要一个程序，但也许它只是一个简单的陈述。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T08:18:14.353

SQL-Server 2012 支持执行此操作所需的[分析函数：](http://msdn.microsoft.com/en-us/library/ms189461.aspx)

```
SELECT  Product,
        Month,
        Year,
        Value,
        AVG_YTD = AVG(Value) OVER(PARTITION BY Year ORDER BY Month),
        AVG_Year = AVG(Value) OVER(PARTITION BY Product, Year),
        AVG_Overall = AVG(Value) OVER(PARTITION BY Product)
FROM    T; 
```

**[SQL Fiddle 的简化示例](http://www.sqlfiddle.com/#!6/d51a2/2)**

# java - 我收到 lang.OutOfMemoryError: Java heap space

> ID：15242036
> 
> 赞同：-1
> 
> 时间：2013-03-06T08:08:06.680
> 
> 标签：java, memory, out-of-memory

我在 try 块中有一个执行方法。如果此方法允许任何异常捕获块将处理该异常。我在 try 块的测试类中调用了执行方法。我的问题 Test catch 块处理异常 java.lang.OutOfMemoryError: Java heap space

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:12:53.590

鉴于这`OutOfMemoryError`不是编程错误的结果，并且您的程序确实需要这么多内存，那么您可以尝试增加给应用程序的堆空间。看：

[http://viralpatel.net/blogs/jvm-java-increase-heap-size-setting-heap-size-jvm-heap/](http://viralpatel.net/blogs/jvm-java-increase-heap-size-setting-heap-size-jvm-heap/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:21:18.397

即使它可以被抓住，你也不应该。OutOfMemoryError 告诉您，您的应用程序无法在这些条件下运行，或者您的应用程序没有正确编程。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T08:18:07.313

原因可能是一个无限递归的函数，或者是一个不断增长的列表的无休止循环。这可能是微不足道的：打算`paint`打电话`super.paint`但忘记“超级”。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T08:14:33.040

# ios - 如何使用 Storyboard for SplitView iPad 应用程序构建 ViewControllers？

> ID：15242040
> 
> 赞同：0
> 
> 时间：2013-03-06T08:08:22.370
> 
> 标签：ios, objective-c, ipad, storyboard, uisplitviewcontroller

我正在尝试为一个看起来像这样的应用程序构建界面： ![应用程序的图像](../Images/b371c9a68727a443fbc55907e699a031.png)

我想使用情节提要来创建视图，但我现在无法弄清楚如何。我删除了一个连接到 2 个导航控制器的 SplitViewController：MasterNavigationController 和 DetailNavigationController（Master 是左侧菜单，Detail 是右侧）。

我开始在故事板中构建我所有的 ViewController。然后构建 NSArrays 来保存 Master 的每个菜单项所需的各种 ViewController 堆栈。因此，当用户点击菜单项时，我会使用以下方法将相应的 ViewController 堆栈加载到 DetailNavigationController 中：

```
- (void)setViewControllers:(NSArray *)viewControllers animated:(BOOL)animated 
```

但现在我在想，我应该为每个菜单项创建一个单独的 DetailNavigationController。例如：

*   最近的订单导航控制器
*   客户导航控制器
*   项目导航控制器
*   ...

然后，当用户点击一个菜单项时，整个 DetailNavigationController 将更改为相应的。

在使用情节提要时我应该如何构建界面？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-08T16:07:58.723

为每个详细视图使用单独的 viewController。您希望您的代码是分开的，因为它可能会很快混淆每个视图的所有不同功能。从那里，您可以轻松地更换细节。

子类 UISplitViewController 并将您的根 splitViewController 设置为该类。然后将此方法添加到您的 UISplitViewController 子类中：

```
-(void)setDetailControllerTo:(UIViewController *)detailController withNavControllerTitle:(NSString *)title {
[detailController view]; // this line forces the viewDidLoad method to be called

if (title) {
    UINavigationController *navController = [[UINavigationController alloc] init];
    [navController pushViewController:detailController animated:YES];
    detailController.title = title;

    NSArray *viewControllers=@[self.mainController.viewControllers[0],navController];
    self.mainController.viewControllers = viewControllers;
} else {
    NSArray *viewControllers=@[self.mainController.viewControllers[0],detailController];
    self.mainController.viewControllers = viewControllers;
} 
```

}

要调用此方法，请从 tableView:didSelectRowAtIndexPath: 方法中的主视图控制器执行类似的操作

```
FixedSplitViewController *splitController = (FixedSplitViewController*) self.splitViewController;

CurrentEventViewController *controller = [self.storyboard instantiateViewControllerWithIdentifier:@"CurrentEventViewController"];
// add any setup code here
[splitController setDetailControllerTo:controller withNavControllerTitle:@"Current Event"]; 
```

如果您希望在纵向旋转中保持主视图可见，请将此方法添加到 SplitViewController 子类：

```
-(BOOL)splitViewController:(UISplitViewController *)svc shouldHideViewController:(UIViewController *)vc inOrientation:(UIInterfaceOrientation)orientation {
    return NO;
} 
```

我的很多项目都需要 splitviewcontroller 始终显示主视图，所以我使用这个子类来防止主视图在纵向旋转时隐藏。

# vba - 使用格式样式部署 Dotm 文件？

> ID：15242041
> 
> 赞同：0
> 
> 时间：2013-03-06T08:08:33.913
> 
> 标签：vba, add-in, ms-word

我为 Word 2007 / 2010 开发了一个小的 VBA 宏，它使用了一些格式样式（我不确定这是最好的翻译，在我的德语版本中它被称为 Formatvorlagen。我的意思是应用于文本的样式，如标题） .

宏被部署到 STARTUP 文件夹并且基本上可以工作-但未加载格式样式-因此宏无法找到它们。

所以我的问题是：如何将格式样式部署到 Word？我可以覆盖 normal.dot，但这是一个糟糕的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T01:14:07.713

目前可能有一种更简单的方法，但您可以尝试以下方法：

*通过单击主页选项卡上的***更改样式**按钮，选择**样式集**和**另存为样式集**，导出您想要的样式。

 *****该命令会将当前选择的样式集保存为 dotx 文件。默认位置是`C:\Users\[USERNAME]\AppData\Roaming\Microsoft\QuickStyles`- 如果您将文件复制到新计算机并将其放在用户的同一目录中，则可以使用“**更改样式”**按钮或在代码中加载样式集：

```
ActiveDocument.ApplyQuickStyleSet2 "XXX" 
```

其中是在**更改样式**`XXX`按钮下看到的样式名称（与不带 dotx 扩展名的样式文件名相同）。*****

# java - XPages 应用程序崩溃 - 只剩下已编译的 Java 文件

> ID：15242043
> 
> 赞同：0
> 
> 时间：2013-03-06T08:08:38.673
> 
> 标签：java, xpages

我可以以某种方式从 .java 文件恢复我的 XPage 和 Customcontrols 吗？

我对此表示怀疑，但我不得不问。

谢谢！

/J

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T08:36:13.063

尝试进入包资源管理器中的 java 文件应该显示的位置。然后右键单击文件夹并选择刷新操作，希望能再次读取项目中的文件。

您也可以尝试从工作区中删除 NSF 并再次打开它。

# android - 触摸选定位置时显示图表中的值

> ID：15242044
> 
> 赞同：1
> 
> 时间：2013-03-06T08:08:39.083
> 
> 标签：android

我正在使用`androidplot`库来显示图。我有一个问题：当我在指定位置触摸他时，这是从图表中显示价值的任何功能。例如，我有一个图表，我点击了这个图表的一半，我想看看这个地方有什么值。这可能吗？编辑：好的，我做这样的事情：

```
 private OnTouchListener myGraphTouchListener = new OnTouchListener() {

         public boolean onTouch(View v, MotionEvent event) {
                 if (event.getAction() == MotionEvent.ACTION_DOWN
                                 && plot.containsPoint(event.getX(), event.getY())) {
                         plot.setCursorPosition(event.getX(), event.getY());
                         long xAxisValue = plot.getGraphWidget()
                                         .getXVal(event.getX()).longValue();
                         double yAxisValue = plot.getGraphWidget()
                                         .getRangeCursorVal();
                         plot.getGraphWidget().setCursorLabelPaint(null);
                         String xAxisDate = new Date(xAxisValue).toLocaleString();
                         Log.d("OnGraphTouch", "X-Value: " + xAxisValue + "\nY-Value: "
                                         + yAxisValue +", "+xAxisDate);

                         Log.v("asd", ""+plot.getGraphWidget().getAxisValueLabelRegions());
                 }

                 return true;
         }
 }; 
```

但是这个解决方案在我点击的任何地方都会向我显示所有点。如果我单击图表或空白区域，这无关紧要。我只想在单击图表时显示日志。有任何想法吗？

# c# - 在 ASP.Net C# 中，在按钮单击事件中，我在 DataList 中找到了 FileUpload 控件，它给出了错误？

> ID：15242046
> 
> 赞同：0
> 
> 时间：2013-03-06T08:08:51.020
> 
> 标签：c#, asp.net

这是错误：

> *   收藏已修改；枚举操作可能无法执行。

当每个进程尝试查找项目时会发现此错误。

```
 protected void SubmitButton_Click(object sender, EventArgs e)
 {
      foreach (DataListItem item in this.ImageRepeater.Items)
      {
           FileUpload fup = (FileUpload)ImageRepeater.FindControl("ImageUpload");
           if (fup.HasFile)
           {
               updateImageChanges();
               divTopImageCheckChangedmessage.Visible = false;
            }
      }         
   } 
```

我的要求是我想满足检查是否没有文件加载到 ASP.Net DataList 中的 Fileupload 控件中，然后不允许，`updateImageChanges();`要命中的功能。

我会感激你们所有人。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:19:35.643

由于 updateImageChanges() 不带参数，我假设它再次遍历您的转发器项目？它如何知道要使用什么项目？无论您在该函数中做什么（因为您没有发布它的代码）都是错误的根源，它不在您发布的代码中。但是，此解决方案将适用于您：

您可以更新该函数以获取参数（例如 FileUpload 控件），然后将其从 if 语句传递给 updateImageChanges() 方法。这样，此方法将仅更新更改，而无需再次遍历您的转发器项目以获得所需的内容。

像这样的东西：

```
 protected void SubmitButton_Click(object sender, EventArgs e)
  {
      foreach (DataListItem item in this.ImageRepeater.Items)
      {
           FileUpload fup = (FileUpload)ImageRepeater.FindControl("ImageUpload");
           if (fup.HasFile)
           {
               updateImageChanges(fup);
               divTopImageCheckChangedmessage.Visible = false;
            }
      }         
   }

   private void updateImageChanges(FileUpload fup)
   {
       // remove your code that loops through to get to the correct file upload
       // leave code that works with current fup and use passed parameter instead of the repeater items collection
   } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:19:37.730

不知道你为什么要遍历 DataList Items，我认为你的代码可能看起来像这样：

检查此示例代码

```
protected void btn_Click(object sender, EventArgs e)
{
    Button btn = sender as Button;
    DataListItem di = btn.NamingContainer as DataListItem;
    FileUpload fu = di.FindControl("fu") as FileUpload;       
    if (fu.HasFile)
    {
     // save to the database :

    }

} 
```

我认为这个错误是你的 updateImageData 调用方法给了

# ruby-on-rails - mongoid 中的 inverse_of 是什么意思？

> ID：15242047
> 
> 赞同：26
> 
> 时间：2013-03-06T08:08:53.950
> 
> 标签：ruby-on-rails, associations, mongoid, relationship

在 mongoid 关联中是什么`inverse_of`意思？通过使用它而不是没有它的关联，我能得到什么？

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2013-05-30T22:26:58.243

在一个简单的关系中，两个模型只能以一种方式关联，并且关系的名称自动是它所关联的模型的名称。在大多数情况下这很好，但还不够。

`inverse_of`允许您指定您所指的关系。这在您想为您的关系使用自定义名称的情况下很有帮助。例如：

```
class User
  include Mongoid::Document
  has_many :requests, class_name: "Request", inverse_of: :requester
  has_many :assignments, class_name: "Request", inverse_of: :worker
end

class Request
  include Mongoid::Document
  belongs_to :requester, class_name: "User", inverse_of: :requests
  belongs_to :worker, class_name: "User", inverse_of: :assignments
end 
```

在此示例中，用户既可以请求票证，也可以分配给票证。为了表示这两个不同的关系，我们需要将两个关系定义为同一个模型但具有不同的名称。Using`inverse_of`让 Mongoid 知道“requests”与“requester”一起使用，“assignments”与“worker”一起使用。这里的优势是双重的，我们可以为我们的关系使用有意义的名称，并且我们可以让两个模型以多种方式关联。查看[Mongoid 关系](http://mongoid.org/en/mongoid/docs/relations.html#has_and_belongs_to_many)文档以获取更多详细信息。

# php - PHP字符串到数组键

> ID：15242060
> 
> 赞同：1
> 
> 时间：2013-03-06T08:09:39.067
> 
> 标签：php, regex

我有一个字符串，它保存属性和键值以访问对象上的值..

例如，字符串是“property_name[key1][key2][key3]”，它与`$obj->property_name[key1][key2][key3]`

我一直在尝试用正则表达式解析字符串，但我所有的尝试都白费了。

到目前为止，我的正则表达式看起来像这样，但它不会得到 key2。 `^(\w+)\[([^\]]+)\](?:(\[([^\]]+)\])+)`

我走在正确的轨道上还是有更好的方法可以尝试？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:16:49.270

正则表达式可能如下所示：

```
^(\w+)(?:\[(\w+)\])+ 
```

然后您的匹配项将包含属性名称和数组键。如果键的数量不同，请使用它来获取实际值：[Using a path to an array item](https://stackoverflow.com/questions/14799012/using-a-path-to-an-array-item/14799059#14799059)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:21:16.950

您应该改用 AJAX 并将一个包含对象的有用数组发送到您可以使用 PHP 解析的服务器。

```
var changed_values = [
                      {
                       'part_of_form': 'XX',
                       'field': 2,
                       'subfield': 3
                      },
        .......
                     ] 
```

然后在 PHP 中你可以遍历它：

```
foreach($_POST['changed_values'] as $changed_value) {
  ........
} 
```

# php - pdo 绑定在更新中返回 false

> ID：15242068
> 
> 赞同：-1
> 
> 时间：2013-03-06T08:10:22.823
> 
> 标签：php, mysql, pdo, sql-update

我对更新脚本有一些问题。我绑定了我的值，但它返回 false，我看不到我做错了什么。

我正在运行这个：

```
$row = $db->query('
            UPDATE '. $config->db_prefix .'_adverts
            SET ad_type = ?, 
            title = ?, 
            text = ?, 
            price = ?, 
            category = ?, 
            condition = ?
            WHERE aid = ?')
                ->bind(1, $ad_type)
                ->bind(2, $title)
                ->bind(3, $text)
                ->bind(4, $price)
                ->bind(5, $category)
                ->bind(6, $condition)
                ->bind(7, $aid)->execute();
        } 
```

绑定函数是这样的：

```
public function bind($pos, $value, $type = null) {

        if( is_null($type) ) {

            switch( true ) {
                case is_int($value):
                    $type = PDO::PARAM_INT;
                    break;
                case is_bool($value):
                    $type = PDO::PARAM_BOOL;
                    break;
                case is_null($value):
                    $type = PDO::PARAM_NULL;
                    break;
                default:
                    $type = PDO::PARAM_STR;
            }
        }

        $this->stmt->bindValue($pos, $value, $type);
        return $this;
    } 
```

一个`var_dump($this)`给我：

```
object(DB)#1 (2) { ["dbh":protected]=> object(PDO)#2 (0) { } ["stmt":protected]=> object(PDOStatement)#15 (1) { ["queryString"]=> string(211) " UPDATE rno_adverts SET ad_type = ?, title = ?, text = ?, price = ?, category = ?, condition = ? WHERE aid = ?" } } 
```

但我看不出有什么问题。

编辑：

查询功能是这样的：

```
public function query($query) {
        $this->stmt = $this->dbh->prepare($query);
        return $this;
    } 
```

并执行是这样的：

```
public function execute($var = null) {
        return $this->stmt->execute($var);
    } 
```

错误：

```
Uncaught exception 'PDOException' with message 'SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'condition = 3 WHERE aid = 1' 
```

查询的输出：

```
UPDATE rno_adverts SET ad_type = 3, title = "Gul bil", text = "En flot gul bil med hvide striber", price = 500, category = 4, condition = 3 WHERE aid = 1 
```

我对这个查询视而不见，所以我看不出问题出在哪里。如果我删除类别和条件，它可以正常工作。这两个字段在数据库中都是 INT NOT NULL。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T08:14:16.163

您只能将绑定函数与准备好的语句一起使用。`->query()`用于生成查询，您事先已经知道查询的所有值/变量。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:55:19.477

只要摆脱这个绑定功能就可以了

```
$sql = 'UPDATE '. $config->db_prefix .'_adverts SET 
        ad_type = ?, title = ?, text = ?, price = ?, category = ?, condition = ?
        WHERE aid = ?';
$db->query($sql);
$db->execute(array($ad_type, $title, $text, $price, $category, $condition, $aid)); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-06T08:35:10.050

根据您的问题，无法具体说明错误所在的位置。因此，我建议您首先添加更多错误检查，例如使用`bindvalue()`，您不检查返回值：

```
$this->stmt->bindValue($pos, $value, $type); 
```

如果失败，则抛出异常：

```
$bind = $this->stmt->bindValue($pos, $value, $type);
if (!$bind) {
    throw new Exception(sprintf("Unable to bind parameter %s with a value of type #%d", $pos, $type));
} 
```

这将防止您在绑定值时遇到问题，但它被忽视了。

与执行类似。如果要提供失败原因的信息，则需要读出错误信息并抛出异常。

# android - Android Resources$NotFoundException: 资源 ID #0x0 问题

> ID：15242071
> 
> 赞同：2
> 
> 时间：2013-03-06T08:10:38.537
> 
> 标签：android, android-resources

我在我设置的类中遇到了这个错误，我是 android 开发的新手，希望能在 eclipse 中找到如何调试这个错误。我看过很多关于这个问题的堆栈溢出帖子，但没有一个能帮助我解决这个问题。

```
public class LeftRightSliderFragmentController extends BaseSliderFragmentController
{
    public LeftRightSliderFragmentController()
    {
    super();
    }
    public LeftRightSliderFragmentController(int titleRes)
    {

    super(R.string.left_and_right);
    } 
```

在我的 strings.xml

我有

```
<?xml version="1.0" encoding="utf-8"?>
<resources>

<string name="app_name">SliderExample</string>
<string name="action_settings">Settings</string>
<string name="hello_world">Hello world!</string>
<string name="left_and_right">Left and Right</string>
</resources> 
```

在我的基类中

```
public class BaseSliderFragmentController extends SlidingFragmentActivity
{

   private int mTitleRes;
   protected RSSFeedFragmentController mFrag;

    public BaseSliderFragmentController(int titleRes)
    {
       mTitleRes = titleRes;
    }

    public BaseSliderFragmentController()
    {
    // TODO Auto-generated constructor stub
    }

    @Override
    public void onCreate(Bundle savedInstanceState)
    {
    super.onCreate(savedInstanceState);
            //New Change EDIT
            String h = "Hello"
    setTitle(h); 
```

基本上我不确定为什么会出现这个问题，我也不确定这个问题会出现在哪里。我想知道是否有办法调试到发生这种情况的代码行，以便我进行调查。我相信这可能与 setTitle 有关吗？

```
03-06 02:58:04.195: E/AndroidRuntime(4879): FATAL EXCEPTION: main
03-06 02:58:04.195: E/AndroidRuntime(4879): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.sliderexample/com.example.sliderexample.FragmentControllers.LeftRightSliderFragmentController}: android.content.res.Resources$NotFoundException: String resource ID #0x0
03-06 02:58:04.195: E/AndroidRuntime(4879):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2088)
03-06 02:58:04.195: E/AndroidRuntime(4879):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2113)
03-06 02:58:04.195: E/AndroidRuntime(4879):     at android.app.ActivityThread.access$700(ActivityThread.java:139)
03-06 02:58:04.195: E/AndroidRuntime(4879):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1224) 
```

编辑：更改代码新结果新错误

03-06 03:33:05.034: E/AndroidRuntime(6336): 致命异常: main 03-06 03:33:05.034: E/AndroidRuntime(6336): java.lang.RuntimeException: 无法启动活动 ComponentInfo{com. example.sliderexample/com.example.sliderexample.FragmentControllers.LeftRightSliderFragmentController}：android.content.res.Resources$NotFoundException：资源 ID #0xa

问题是我不知道这个错误发生在哪里任何人都知道如何使用调试器到达该行？....我也在堆栈上搜索了这个似乎没有什么可以帮助我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:35:15.477

删除您的

```
<string name="left_and_right">Left and Right</string> 
```

相反，使用

```
<integer name="integer_name">integer_value</integer> 
```

如果要使用该字符串值，请使用以下语句获取字符串

```
getString(R.string.left_and_right); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T08:23:21.807

你的带参数的构造函数永远不会被调用。所以mTitleRes等于0，android找不到这个资源。您不应该使用构造函数将参数传递给活动。只会调用默认构造函数。您应该在基本活动中使用默认值初始化 mTitleRes，或者使基本活动抽象，创建抽象方法 getTitleRes()，并在 LeftRightSliderFragmentController 中覆盖它。然后使用 setTitle(getTitleRes())。或者只是用后代中的其他值初始化 mTitleRes。一切都取决于您如何使用此活动。无论如何，创建活动时不会调用 LeftRightSliderFragmentController(int titleRes) 。

# android - Android：静态字段设置为空

> ID：15242074
> 
> 赞同：0
> 
> 时间：2013-03-06T08:10:41.407
> 
> 标签：android, static, singleton, android-activity, android-4.0-ice-cream-sandwich

我有一个带有私有静态字段的活动。当我转动屏幕时，该静态字段设置为空。当然，有人会猜测 Android 会终止该进程，但我敢肯定它不会。但是，让我们从头开始。

有一个 JNI 库，其函数只能从一个线程调用。在 Java 中，库函数作为对象的本地方法可见（顺便说一下，该对象只有一个实例是有意义的，只有一个库实例具有其静态结构）。库对象通过包装器使用，这是一个提供读/写访问锁的 Java 层。该活动具有引用该包装库对象的私有静态字段。该库在单独的线程上执行长操作。

单例创建如下。由于所有活动都是在同一个 UI 线程上创建的，因此在 onCreate() 中，我只是检查了该字段是否为空，如果为空，则创建一个包装的库对象。没有问题——至少在 Android 2.x 上是这样。

现在，在 Android 4 上，会发生以下情况：我开始长时间操作并转动屏幕。重新创建活动，onCreate() 中的 savedInstanceState 参数不为空，但该私有静态字段*为*空。现在，创建了一个新的库对象，然后使用其新的读/写锁创建了一个新的包装器，然后调用了一个库操作......当然，库仍然忙于转动屏幕之前发起的请求，新的读/写锁不能保护旧库，数据会损坏，一切都会崩溃。

我听说对此的补救措施是将引用保持为不是静态字段，而是作为应用程序的实例字段。

现在，问题是：

***为什么？*** ***这到底是怎么回事？*** *我必须重写所有单例吗？*

# .htaccess - 使用 .htaccess 将 example.com/index.php 重定向到 example.com

> ID：15242082
> 
> 赞同：0
> 
> 时间：2013-03-06T08:11:10.067
> 
> 标签：.htaccess

我想将[http://example.com/index.php](http://example.com/index.php)重定向到[http://example.com](http://example.com)。我尝试关注但没有奏效。

```
RewriteRule ^index\.php$ / 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:35:03.993

将其标记为显式重定向

```
RewriteRule ^index\.php$ / [R=301] 
```

# android - 通知数据集更改不起作用

> ID：15242087
> 
> 赞同：0
> 
> 时间：2013-03-06T08:11:23.180
> 
> 标签：android, drag-and-drop, custom-adapter, notifydatasetchanged

我知道这个问题被问了很多次，但我似乎无法让它在我的应用程序中工作

我创建了扩展 BaseAdapter 的自定义适配器，并在其中放置了拖放功能的侦听器以重新排列列表中项目的顺序。

所以我需要在执行删除操作时调用 notifydatasetchanged ，我确实这样做了，但似乎没有重新排序数据，即使当我将数据打印到 LogCat 时已经按照我想要的方式排序。

我尝试使用 asyncTask、Activity.runOnUIThread 等推荐，但对我来说没有结果。我也不是很适合我，因为我在适配器本身内部调用它，尽管我从适配器内部的另一个类调用它。

我在适配器本身内部提供的适配器数据来自本地数据库。

请帮助我，看看我的代码：

类别适配器 -> 自定义适配器

```
public class CategoryAdapter extends BaseAdapter {
private static final String TAG = CategoryAdapter.class.getSimpleName();

private List<CategoryUIO> categoryUIOs;
private Context context;
private LayoutInflater inflater;
private CategorySequenceComparator comparator = new CategorySequenceComparator();

public CategoryAdapter(Activity activity) {
    this.context = activity;
    inflater = (LayoutInflater) activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);

    getData();
}

private void getData() {
    Cursor cursor = MoneyTracker.getCategoryDB().queryAll();
    categoryUIOs = new ArrayList<CategoryUIO>();
    if (cursor != null && cursor.moveToFirst()) {
        do {
            CategoryUIO bo = new CategoryUIO(cursor);
            categoryUIOs.add(bo);
        } while (cursor.moveToNext());
        cursor.close();
    }
    notifyDataSetChanged();
}

private void sortData() {
    if (categoryUIOs != null) {
        Collections.sort(categoryUIOs, comparator);
        notifyDataSetChanged();

        Log.w(TAG, "\n\n");
        for (CategoryUIO uio : categoryUIOs) {
            Log.w(TAG, Utilities.formatString("Name = %s", uio.getName()));
        }
    }
}

@Override
public int getCount() {
    if (categoryUIOs != null) {
        return categoryUIOs.size();
    } else {
        return 0;
    }
}

@Override
public Object getItem(int position) {
    if (categoryUIOs != null) {
        return categoryUIOs.get(position);
    } else {
        return null;
    }
}

@Override
public long getItemId(int position) {
    if (categoryUIOs != null) {
        return ((CategoryUIO) getItem(position)).getId();
    } else {
        return -1;
    }
}

public void refresh() {
    getData();
}

@Override
public View getView(int position, View convertView, ViewGroup parent) {
    View v = convertView;
    if (v == null) {
        v = inflater.inflate(R.layout.row_list, parent, false);
        CategoryUIO uio = ((CategoryUIO) getItem(position));
        v.setTag(uio);
        if (uio != null) {
            final TextView tvItem = (TextView) v.findViewById(R.id.tvItem);
            final ImageView ivMove = (ImageView) v.findViewById(R.id.ivMove);
            final ImageView ivSecured = (ImageView) v.findViewById(R.id.ivSecured);
            tvItem.setText(uio.getDisplayName());
            v.setOnDragListener(new MyDragListener());
            ivMove.setOnTouchListener(new MyTouchListener());

            if (uio.isSecured()) {
                ivSecured.setVisibility(ImageView.VISIBLE);
            } else {
                ivSecured.setVisibility(ImageView.INVISIBLE);
            }
        }
    } else {

    }
    return v;
}

private final class MyTouchListener implements OnTouchListener {
    public boolean onTouch(View view, MotionEvent motionEvent) {
        if (motionEvent.getAction() == MotionEvent.ACTION_DOWN) {
            View parent = (View) view.getParent();
            CategoryUIO uio = (CategoryUIO) parent.getTag();
            ClipData data = ClipData.newPlainText("label", uio.getDisplayName());
            DragShadowBuilder shadowBuilder = new View.DragShadowBuilder(parent);
            //              shadowBuilder.onProvideShadowMetrics(new Point(parent.getWidth() / 2, parent.getHeight() / 2), new Point(0, 0));
            view.startDrag(data, shadowBuilder, parent, 0);
            //              view.setVisibility(View.INVISIBLE);
            return true;
        } else {
            return false;
        }
    }
}

private final class MyDragListener implements OnDragListener {

    @Override
    public boolean onDrag(View droppedView, DragEvent event) {
        int action = event.getAction();
        switch (action) {
        case DragEvent.ACTION_DRAG_STARTED: {
            return true;
        }
        case DragEvent.ACTION_DRAG_ENTERED: {
            return true;
        }
        case DragEvent.ACTION_DRAG_EXITED: {
            return true;
        }
        case DragEvent.ACTION_DROP: {
            View draggedView = (View) event.getLocalState();
            CategoryBO draggedBO = ((CategoryBO) draggedView.getTag());
            CategoryBO dropedBO = ((CategoryBO) droppedView.getTag());

            // persist the sequence to db
            SQLiteDatabase db = MoneyTracker.getDB();
            db.beginTransaction();
            try {
                // swap the sequence
                int temp = draggedBO.getSequence();
                draggedBO.setSequence(dropedBO.getSequence());
                dropedBO.setSequence(temp);

                ContentValues cv = new ContentValues();
                cv.put(CategoryDB.C_ID, draggedBO.getId());
                cv.put(CategoryDB.C_SEQUENCE, draggedBO.getSequence());
                Response response1 = CategoryBLService.getInstance().update(cv);
                cv = new ContentValues();
                cv.put(CategoryDB.C_ID, dropedBO.getId());
                cv.put(CategoryDB.C_SEQUENCE, dropedBO.getSequence());
                Response response2 = CategoryBLService.getInstance().update(cv);

                // TODO: THIS PART IS NOT NECESSARY IF CALL TO NOTIFYDATASETCHANGED WORKS {
                // the data is updated but seems like notifydatasetchanged in sortData()
                // don't have any effect

                // swap the BOs
                //                  CategoryBO tempBO = draggedBO;
                //                  draggedBO = dropedBO;
                //                  dropedBO = tempBO;
                //
                //                  droppedView.setTag(dropedBO);
                //                  draggedView.setTag(draggedBO);
                //
                //                  // refresh the views
                //                  TextView droppedTvItem = (TextView) droppedView.findViewById(R.id.tvItem);
                //                  droppedTvItem.setText(dropedBO.getDisplayName());
                //                  TextView draggedTvItem = (TextView) draggedView.findViewById(R.id.tvItem);
                //                  draggedTvItem.setText(draggedBO.getDisplayName());
                // TODO: } THIS IS THE END OF UNNECESSARY BLOCK

                if (response1.isSuccess() && response2.isSuccess()) {
                    db.setTransactionSuccessful();
                    sortData();
                    return true;
                } else {
                    return false;
                }
            } finally {
                db.endTransaction();
            }
        }
        case DragEvent.ACTION_DRAG_ENDED: {
            return true;
        }
        default: {
            return true;
        }
        }
    }
}
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:20:28.637

尝试

```
CategoryAdapter. notifyDataSetChanged() 
```

当你必须刷新一个适配器时，你应该在 notifydatasetchanged() 之前输入他的名字；

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T08:24:16.990

你正在搞乱你`getView`的实现。

```
if (v == null) 
```

你应该只`View`用你的数据集填充你想要填充的数据。我会尝试类似的东西：

```
@Override
public View getView(int position, View convertView, ViewGroup parent) {
    View v = convertView;
    if (v == null) {
        v = inflater.inflate(R.layout.row_list, parent, false);
        final TextView tvItem = (TextView) v.findViewById(R.id.tvItem);
        final ImageView ivMove = (ImageView) v.findViewById(R.id.ivMove);
        final ImageView ivSecured = (ImageView) v.findViewById(R.id.ivSecured);
     }
        CategoryUIO uio = ((CategoryUIO) getItem(position));
        v.setTag(uio);

        if (uio != null) {

            tvItem.setText(uio.getDisplayName());
            v.setOnDragListener(new MyDragListener());
            ivMove.setOnTouchListener(new MyTouchListener());

            if (uio.isSecured()) {
                ivSecured.setVisibility(ImageView.VISIBLE);
            } else {
                ivSecured.setVisibility(ImageView.INVISIBLE);
            }
        }

    return v;
} 
```

# f# - 实现一个内部抽象成员

> ID：15242089
> 
> 赞同：1
> 
> 时间：2013-03-06T08:11:39.283
> 
> 标签：f#, mono

抽象类，在本例中为 System.Reflection.MethodBase，需要实现整个接口，这很好。但它有这个抽象成员：

```
internal abstract ParameterInfo[] GetParametersInternal (); 
```

F# 编译器抱怨：

> 没有为“MethodBase.GetParametersInternal() : ParameterInfo[]”提供实现

如何实现这个我无权访问的内部成员？或者只是忽略这一点并实施公共成员。

如果我确实尝试强制覆盖：

```
override this.GetParametersInternal() = parameters |> List.toArray 
```

我得到：

> 未找到与此覆盖对应的抽象或接口成员。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T22:18:09.320

您可能正在尝试使用类型提供程序构建 F# 3。这是 Mono 3.0.6 中的一个错误： [https ://bugzilla.xamarin.com/show_bug.cgi?id=10884](https://bugzilla.xamarin.com/show_bug.cgi?id=10884)

它在两天前刚刚修复，所以请等待 3.0.7，除非您想自己编译 Mono。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T09:51:46.227

您不能覆盖此成员 - 内部成员仅对同一程序集中的类型可见。`MethodBase`在 mscorlib 中定义，因此`GetParametersInternal`仅对该程序集中的其他类型可见，而您的代码不可见。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T21:15:20.693

就像李说的那样，您不应该能够覆盖来自另一个程序集的内部成员。在进行基本继承时，我没有看到任何编译器错误 - 下面编译得很好：

```
type MyMethodBase() = 
    inherit System.Reflection.MethodBase()
    override this.Attributes with get () = failwith ""
    override this.GetMethodImplementationFlags() = failwith ""
    override this.GetParameters() = failwith ""
    override this.Invoke(obj, invokeAttr, binder, parameters, culture) = failwith ""
    override this.MethodHandle with get() = failwith ""
    override this.DeclaringType with get() = failwith ""
    override this.GetCustomAttributes(attributeType, inh) = failwith ""
    override this.GetCustomAttributes(b) = failwith ""
    override this.IsDefined(attributeType, inh) = failwith ""
    override this.MemberType with get() = failwith ""
    override this.Name with get() = failwith ""
    override this.ReflectedType with get() = failwith "" 
```

# php - 如果用户处于非活动状态，则存储报价请求和电子邮件

> ID：15242090
> 
> 赞同：0
> 
> 时间：2013-03-06T08:11:46.787
> 
> 标签：php, wordpress

希望能够获取本质上是产品的编辑页面并添加“请求报价”按钮。然后需要提示用户输入基本信息：姓名、电子邮件和电话。

用户可以拥有访客身份或已登录。客户只想通过电子邮件收到请求通知。

我很欣赏的部分，或预编译插件（在 Wordpress 中构建的客户网站，看起来但看不到任何东西），是防止系统在用户多次引用时发送多封电子邮件的最佳方法此会话中的请求。

该解决方案应该有效地允许用户只输入一次他们的详细信息->单击他们喜欢的任意数量的“请求报价”按钮->然后在一定程度的不活动后，将他们所追求的内容通过电子邮件发送给网站所有者。

这是我坚持的一点，发送用户请求的最佳方式，而用户实际上没有点击“结帐”类型的按钮。我真的很感激关于实现这一目标的最佳方法的一些想法，这对最终用户来说很简单。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:21:09.040

你以某种我认为的方式保存细节。对于这个答案，我假设它是一个数据库，但这并不重要。

当您保存和`name`时，还要为发送日期时间注册一个字段。这个“sendmail_at”被一个进程扫描，邮件在时间过去时发送。`email``phone`

每次用户按下报价按钮时，您都会稍微更新一下时间，让用户有时间浏览更多内容。

例子：

*   09:00：用户请求第一个报价。您要求提供姓名/电子邮件/电话，并将其与时间 10:00 一起保存在数据库中
*   09:10 用户浏览，看到另一个他喜欢引用的东西，然后按下按钮。姓名/电子邮件/电话仍然存在，但日期时间已更新为 10:10（当然还有额外的报价 ID）
*   ETC
*   09:20 最后报价请求
*   ...
*   10:20 邮寄者检查数据库并发现“发送”时间已过，因此收集所有报价并发送电子邮件。

对于邮寄：这有 3 个部分：

1.  定期调用你的函数
2.  你的功能是检查你是否应该邮寄
3.  邮件功能。

第一个和最后一个可能是现成的。

*   为此，您可以使用您的服务器 cron 系统，甚至是 wordpress 的 cron 系统（反过来可以使用服务器 cronsystem 或它自己的东西）。
*   您可能可以找到一个 wordpress 插件，但我不确定您将如何集成它，或者选择哪一个。因为您要修复第 2 点。无论如何，您可能只想使用类似[PHPMailer](https://code.google.com/a/apache-extras.org/p/phpmailer/)的东西。

对于中间部分，您需要编写一个不太复杂的脚本。您读取您的数据库/文件/任何用户，并过滤所有仍必须接收邮件但“发送日期”在过去的用户。如果您有这些电子邮件地址，您可以撰写邮件，并使用我上面讨论的邮件程序的功能来实际发送邮件。

将它们捆绑在一起：

1.  制作一个脚本，当给用户时，它是电子邮件和引号，生成一封电子邮件并发送它（例如使用 phpmailer）
2.  制作第二个脚本，在您的数据库中查找用户发送邮件，并调用该脚本
3.  做一个 cronjob 每隔 x 分钟调用第二个脚本
4.  ……
5.  利润！

# python - 有人可以解释这里的逻辑或我在问什么吗？（布尔运算）

> ID：15242093
> 
> 赞同：1
> 
> 时间：2013-03-06T08:11:55.463
> 
> 标签：python

在 Python 2.7 中

当询问口译员以下内容时：

`(1 or 3) > 2`它返回`False`

为什么是这样？如果 1 或 3 大于 2，我实际上是在问口译员什么，显然不是。

同样，询问`(1 or 5) in range(2,6)`也返回`False`

我 100% 确定这与我的（x 或 y）部分有关，但同样，这是为什么呢？我不太需要用不同的方式来表达这样的事情，据我所知，我可以问：

```
if x in range(2,6) or y in range(2,6): 
```

但我只是想知道为什么它不起作用！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T08:14:02.087

让我们检查一下`(1 or 3) > 2`：

*   `(1 or 3)`首先评估，给予（如果你想知道为什么，`1`请参阅[The Peculiar Nature of`and`以及）。`or`](http://www.diveintopython.net/power_of_introspection/and_or.html)
*   `1 > 2`接下来评估，给出`False`.

表达您要表达的内容的正确方法是：

```
>>> 1 > 2 or 3 > 2
True 
```

另一种更通用的方法如下：

```
>>> t = (1, 3)
>>> any(el > 2 for el in t)
True 
```

在这里，`t`可以是任何可迭代的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:13:33.367

1（理解为数字）`true`被评估（所有数字都被评估为`true`，除了 0），因此不需要评估 3（理解为数字）。
这是因为您使用了一个`OR`条件，即“停止”评估`true`找到的第一个值。
那么，是`1 > 2`吗？答案是`false`

你必须分解 or if 成两个单独的条件：

```
1 > 2 or 3 > 2 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T08:15:23.810

1 对应于真。因此结果为

```
1 or 3 
```

是

```
1 
```

和

```
1 > 2 
```

是假的。

如果您尝试过答案，您可能会知道这一点 `1 or 3`

在外壳中。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T08:16:46.780

这不是布尔运算的正确用例。第一个应该是：

```
(1 > 2) or (3 > 2) 
```

表达方式：

```
(1 or 3)  > 2 
```

将首先解决`1 or 3`然后尝试找出是否大于两个。

相似地：

```
(1 or 5) in range(2,6) 
```

可能更好地表示为：

```
(1 in range(2,6)) or (5 in range(2,6)) 
```

或者：

```
((1 >= 2) and (1 < 6)) or ((5 >= 2) and (5 < 6)) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T08:28:18.077

我也会在这个问题上投入两分钱。

当 Python 评估您的语句时

```
(1 or 3) > 2 
```

这就是它的作用，嘿！让我们取第一个号码并打电话`bool()`给它。这里任何不是的数字都`0`将被评估`True`并返回。

你可以试试`(10000 or 3)`，它总是会返回最左边的“变量”，只要它不是`0`

相反的例子是如果你有

```
(0 or 3) 
```

然后它继续评估表达式的其余部分，这基本上会用伪代码表示：

`returned number (wheter its the left or right) is greater than 2`

这就是奇怪的地方，因为括号的评估方式，你的表达式总是会有所不同。在你的情况下，它会是

`1 > 2 == False`但`(0 or 3) > 2 == True`

至于`range`部分，同样的逻辑适用。在括号中，左侧的数字将被“返回”，因此在您的范围检查中不可用。

`(1 or 4) in range(2,5) == False`

# android - Android logcat 消息（E/SMD：DCD 开启）

> ID：15242094
> 
> 赞同：9
> 
> 时间：2013-03-06T08:11:59.957
> 
> 标签：android, camera, logcat, galaxy

我现在正在尝试使用 android SDK 在三星 Galaxy SIII 手机上以大约 10Hz 的频率录制图像，但我的程序总是经常出现大延迟。当我查看 logcat 时，我发现与每次延迟相关的以下消息：

03-05 20:20:07.875: E/SMD(196): DCD ON

有人能告诉我这条消息代表什么吗？以及如何禁用它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-03-27T12:35:23.750

`E/SMD﹕ DCD ON`当手机正在搜索要连接的移动网络时，该消息似乎是由于 DCD（数据载体检测）由 SMD 端口发出的进程间通信的一部分。它似乎只发生在高通芯片组上。

此消息可能不是来自您的应用程序。

# windows - 如何让 Windows 知道我的应用程序正在“使用”文件？

> ID：15242133
> 
> 赞同：0
> 
> 时间：2013-03-06T08:14:37.060
> 
> 标签：windows, vb.net, winforms

我正在制作一个简单的 VB.net 应用程序，它基本上要求用户提供多个文件，**然后**它需要访问选定的文件并修改它们。

现在，我正在保存所选文件的完整路径，将来，应用程序将遍历每个路径，从该路径打开文件并修改它。

问题在于用户可以选择一个文件（因此保存完整路径），然后在我的应用程序修改它之前删除或移动文件。

通常，我会抛出一个错误，说“找不到文件”，但我的印象是 Windows 有一个功能会禁止您删除/移动/重命名文件，因为“程序正在使用它” - 这是一个更适合我的应用程序的功能。

我对 VB.NET 不是很先进，但我想如果我使用我的应用程序“打开”一个文件（带有一些 IO 东西），我前面提到的功能确实会触发，用户将无法修改文件因为它是由我的应用程序“打开”的。

但是，由于我唯一的愿望是“保留”文件，因此在我真的不需要（还）时实际打开它们似乎很浪费。有没有办法告诉 Windows 我需要一个完整的文件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T08:25:46.773

打开文件（指定所需的共享模式）是这样做的方法。

我不相信打开多个文件真的有什么问题（而且对于移除可移动驱动器等情况，您仍然无法做任何事情）。在过去，每个进程打开文件的数量有限制，但我不再是实际限制 -[推动 Windows 的限制：句柄](http://blogs.technet.com/b/markrussinovich/archive/2009/09/29/3283844.aspx)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T08:30:43.863

有一个简单的解决方案：以独占模式打开每个文件。它应该如下所示：

```
Sub test()
    Dim FS = System.IO.File.Open("path", IO.FileMode.Open, IO.FileAccess.ReadWrite, IO.FileShare.None)
End Sub 
```

但请注意：您已经打开了一个文件句柄，如果您负责关闭文件的代码在没有终止应用程序的情况下失败，则应用程序文件仍将被锁定很长时间（直到应用程序关闭）。您可以使用 using 子句或 try/catch/finally 子句 - 我对您的程序了解不多，无法推荐任何人。

# node.js - 脚手架复合 js 时路由中的拼写错误问题

> ID：15242135
> 
> 赞同：1
> 
> 时间：2013-03-06T08:14:52.610
> 
> 标签：node.js, routes, scaffolding, railway.js, compoundjs

我是节点和复合的新手。当我试图搭建脚手架时

```
compound g crud leaveApplication leave_code:string description:string applicable:string carry_forward:boolean limit_type:boolean lop:boolean od:boolean co:boolean leave_revision:boolean active:boolean 
```

我遇到了一些错误，然后我尝试了

```
compound g crud leave code:string description:string applicable:string cForward:boolean limit:boolean lop:boolean od:boolean co:boolean leave_revision:boolean active:boolean 
```

但是现在发生的错误是以路由的名义

```
 leaves GET    /leaves.:format?                     leaves#index
        leaves POST   /leaves.:format?                     leaves#create
     new_leafe GET    /leaves/new.:format?                 leaves#new
    edit_leafe GET    /leaves/:id/edit.:format?            leaves#edit
         leafe DELETE /leaves/:id.:format?                 leaves#destroy
         leafe PUT    /leaves/:id.:format?                 leaves#update
         leafe GET    /leaves/:id.:format?                 leaves#show 
```

这些是我得到的路线。

为什么呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-11T15:23:47.497

看起来复合正在将您的模型名称变成复数（=叶子），然后，而不是使用您提供的单数名称，将这个复数名称变回来，从而产生“叶子”。

这有道理吗？;-) 还是我把你的问题弄错了？

如果您可以提供“一些错误”和完整的错误消息，帮助会更容易；）

顺便说一句，我刚刚体验到对模型使用驼峰式案例似乎对 Compound.js 不是一个好主意。它在某些地方（例如在控制器内部）破坏了骆驼箱，但在其他地方（schema.js）却没有创建一个有一些错误的应用程序......

# java - swing Jform 创建

> ID：15242136
> 
> 赞同：0
> 
> 时间：2013-03-06T08:14:53.773
> 
> 标签：java, swing, jframe, jcomponent

**这是我的代码问题是我找不到为什么要创建一个额外的表单**

```
 public void actionPerformed(ActionEvent ae){
           submitBtn.setForeground(Color.red);               
           //getting value form the textFields
           String name = nameTxt.getText();
           String userName = userNameTxt.getText();
           char[] pass = password.getPassword();
           Object monthValue = month.getSelectedItem();
           String yearValue = yearTxt.getText();
           String dateValue = dateTxt.getText();
           Object genderValue = gender.getSelectedItem();
           String mobileValue = mobileTxt.getText();
           Object locationValue = country.getSelectedItem();

           showDetails page = new showDetails();
           page.setVisible(true);
           JPanel contentPane = new JPanel();
           contentPane.setLayout(null);
           contentPane.setBorder(BorderFactory.createTitledBorder("user Details"));
           JLabel nameVL = new JLabel("Name             :            " + name );
           nameVL.setBounds(80, 30, 200, 200);
           contentPane.add(nameVL); 
           page.getContentPane().add(contentPane);               
        } 
```

**上面的代码在 signuppage.java 类中**

**我创建了一个表单来将标签的结果显示到 showDetails 类中**

```
public class showDetails extends JFrame {

    Dimension screen = Toolkit.getDefaultToolkit().getScreenSize();

    public showDetails() {
        JFrame showFrame = new JFrame("user details");
        showFrame.setDefaultCloseOperation(javax.swing.JFrame.DISPOSE_ON_CLOSE);
        showFrame.setSize(300, 400);
        showFrame.setVisible(true);
        showFrame.setLocation((screen.width - 500)/2,((screen.height-350)/2));
    }
} 
```

但我的问题是结果没有显示在 showFram 中，而是创建了这种形式不知道如何....

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T08:17:59.853

`ShowDeatils`extends from `JFrame`，而在其构造函数中，您正在创建另一个`JFrame`，因此，每次创建一个新实例时，您都会创建两个框架`showDetails`

**更新**

基本上，或者你需要做的是......

```
public void actionPerformed(ActionEvent ae){
        submitBtn.setForeground(Color.red);               
        //getting value form the textFields
        String name = nameTxt.getText();
        String userName = userNameTxt.getText();
        char[] pass = password.getPassword();
        Object monthValue = month.getSelectedItem();
        String yearValue = yearTxt.getText();
        String dateValue = dateTxt.getText();
        Object genderValue = gender.getSelectedItem();
        String mobileValue = mobileTxt.getText();
        Object locationValue = country.getSelectedItem();

        JFrame showFrame = new JFrame("user details");
        showFrame.setDefaultCloseOperation(javax.swing.JFrame.DISPOSE_ON_CLOSE);
        showFrame.setSize(300, 400);
        showFrame.setLocation((screen.width - 500)/2,((screen.height-350)/2));  

        JPanel contentPane = new JPanel();
        contentPane.setLayout(null);
        contentPane.setBorder(BorderFactory.createTitledBorder("user Details"));
        JLabel nameVL = new JLabel("Name             :            " + name );
        nameVL.setBounds(80, 30, 200, 200);
        contentPane.add(nameVL); 

        showFrame.getContentPane().add(contentPane);               
        showFrame.setVisible(true);
        showFrame.setVisible(true);
    } 
```

# asp.net - 单击单选按钮 asp.net 禁用组合框列表

> ID：15242139
> 
> 赞同：2
> 
> 时间：2013-03-06T08:15:01.207
> 
> 标签：asp.net, radiobuttonlist, autopostback

`comboboxlist`当我按下我的特定选择时，我试图禁用我`radiobutton list`，或者重新启用`comboboxlist`如果我从 中做出不同的选择`radiobuttonlist`。
我`postpacks`也在我的asp中使用，但我找不到如何使这项工作。
当我双击`radiobutton list`并获得自动方法生成时。
我不知道`radiobuttons`在更改时应该使用哪种属性来完成工作。
我尝试了一些组合，但似乎都没有。

有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:34:58.950

使用`AutoPostBack="true"`属性如下

```
<asp:DropDownList ID="MyDropDown" runat="server" AutoPostBack="true" 
    onselectedindexchanged="MyDropDown_SelectedIndexChanged"> 
```

和

```
<asp:RadioButtonList id="docList" runat="server" AutoPostBack="true" 
      OnSelectedIndexChanged="loginUser" /> 
```

# .net - LINQ：左连接而不是内连接

> ID：15242145
> 
> 赞同：1
> 
> 时间：2013-03-06T08:15:19.840
> 
> 标签：.net, linq, tsql, linq-to-entities, left-join

我有一个查询：

```
 var groups = query
                .Where(x => x.CrossSearchArticle == searchParameters.SearchString)
                .Join(RuntimeValues.Context.SiteBrands,
                      cross => cross.CrossBrandID,
                      brand => brand.SiteBrandsID,
                      (cross, brand) => new { cross, brand })
                .GroupBy(x => x.cross.CrossGroupID)
                .Select(x => new ProductClarify
                        {
                           CrossGroupID = x.Key,
                           CrossGroupName = x.Max(z => z.cross.CrossGroupName),
                           SourceArticle = x.Max(z => z.cross.SourceArticle),
                           SiteBrandName = x.Max(z => z.brand.Name)
                        }); 
```

此查询转换为 T-SQL，如下所示：

```
 SELECT 
    1 AS [C1], 
    [GroupBy1].[K1] AS [CrossGroupID], 
    [GroupBy1].[A1] AS [C2], 
    [GroupBy1].[A2] AS [C3], 
    [GroupBy1].[A3] AS [C4]
    FROM ( SELECT 
        [Extent1].[CrossGroupID] AS [K1], 
        MAX([Extent1].[CrossGroupName]) AS [A1], 
        MAX([Extent1].[SourceArticle]) AS [A2], 
        MAX([Extent2].[Name]) AS [A3]
        FROM  [dbo].[ArticlesCrosses] AS [Extent1]
        INNER JOIN [dbo].[SiteBrands] AS [Extent2] 
           ON [Extent1].[CrossBrandID] = [Extent2].[SiteBrandsID]
        WHERE [Extent1].[CrossSearchArticle] = @p__linq__0
        GROUP BY [Extent1].[CrossGroupID]
    )  AS [GroupBy1] 
```

我需要用 LEFT JOIN 替换 INNER JOIN。不多也不少。我尝试了一些带有 .DefaultIfEmpty() 的变体，但它并没有按照我想要的方式工作。这是我的研究：

```
 var groups = query
                .Where(x => x.CrossSearchArticle == searchParameters.SearchString)
                .Join(RuntimeValues.Context.SiteBrands.DefaultIfEmpty(),
                       cross => cross.CrossBrandID,
                       brand => brand.SiteBrandsID,
                       (cross, brand) => new { cross, brand })
                .GroupBy(x => x.cross.CrossGroupID)
                .Select(x => new ProductClarify
                    {
                        CrossGroupID = x.Key,
                        CrossGroupName = x.Max(z => z.cross.CrossGroupName),
                        SourceArticle = x.Max(z => z.cross.SourceArticle),
                        SiteBrandName = x.Max(z => z.brand.Name)
                    }); 
```

转换为：

```
 SELECT 
        1 AS [C1], 
        [GroupBy1].[K1] AS [CrossGroupID], 
        [GroupBy1].[A1] AS [C2], 
        [GroupBy1].[A2] AS [C3], 
        [GroupBy1].[A3] AS [C4]
        FROM ( SELECT 
            [Extent1].[CrossGroupID] AS [K1], 
            MAX([Extent1].[CrossGroupName]) AS [A1], 
            MAX([Extent1].[SourceArticle]) AS [A2], 
            MAX([Join1].[Name]) AS [A3]
            FROM  [dbo].[ArticlesCrosses] AS [Extent1]
            INNER JOIN  (SELECT [Extent2].[SiteBrandsID] AS [SiteBrandsID], 
                                [Extent2].[Name] AS [Name]
                FROM   ( SELECT 1 AS X ) AS [SingleRowTable1]
                LEFT OUTER JOIN [dbo].[SiteBrands] AS [Extent2] ON 1 = 1 ) AS [Join1] 
    ON ([Extent1].[CrossBrandID] = [Join1].[SiteBrandsID]) 
        OR (([Extent1].[CrossBrandID] IS NULL) AND ([Join1].[SiteBrandsID] IS NULL))
            WHERE [Extent1].[CrossSearchArticle] = @p__linq__0
            GROUP BY [Extent1].[CrossGroupID]
        )  AS [GroupBy1] 
```

和这个

```
 var groups = query
                .Where(x => x.CrossSearchArticle == searchParameters.SearchString)
                    .Join(RuntimeValues.Context.SiteBrands,
                          cross => cross.CrossBrandID,
                          brand => brand.SiteBrandsID,
                          (cross, brand) => new { cross, brand })
                    .DefaultIfEmpty()
                    .GroupBy(x => x.cross.CrossGroupID)
            .Select(x => new ProductClarify
                        {
                           CrossGroupID = x.Key,
                           CrossGroupName = x.Max(z => z.cross.CrossGroupName),
                           SourceArticle = x.Max(z => z.cross.SourceArticle),
                           SiteBrandName = x.Max(z => z.brand.Name)
                        }); 
```

转换成

```
 SELECT 
    1 AS [C1], 
    [GroupBy1].[K1] AS [CrossGroupID], 
    [GroupBy1].[A1] AS [C2], 
    [GroupBy1].[A2] AS [C3], 
    [GroupBy1].[A3] AS [C4]
    FROM ( SELECT 
        [Project1].[CrossGroupID] AS [K1], 
        MAX([Project1].[CrossGroupName]) AS [A1], 
        MAX([Project1].[SourceArticle]) AS [A2], 
        MAX([Project1].[Name]) AS [A3]
        FROM   ( SELECT 1 AS X ) AS [SingleRowTable1]
        LEFT OUTER JOIN  (SELECT 
            [Extent1].[CrossGroupID] AS [CrossGroupID], 
            [Extent1].[CrossGroupName] AS [CrossGroupName], 
            [Extent1].[SourceArticle] AS [SourceArticle], 
            [Extent2].[Name] AS [Name]
            FROM  [dbo].[ArticlesCrosses] AS [Extent1]
            INNER JOIN [dbo].[SiteBrands] AS [Extent2] 
                       ON [Extent1].[CrossBrandID] = [Extent2].[SiteBrandsID]
            WHERE [Extent1].[CrossSearchArticle] = @p__linq__0 ) AS [Project1] 
                  ON 1 = 1
        GROUP BY [Project1].[CrossGroupID]
    )  AS [GroupBy1] 
```

我不知道该怎么做。需要帮助，伙计们！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T19:24:02.860

这是一种作弊的方法。如果您真的只想用左连接替换内连接。在生产环境中不是很可取。它确实有效=)

```
DataContext ctx = yourcontext;
var x = from a in atable
    join b in btableon a.key equals b.key
    select a; //returns atype
string sql = ctx.GetCommand(x).CommandText;
var y = ctx.ExecuteQuery(typeof(atype),sql.Replace("INNER JOIN","LEFT JOIN"));
y.Dump(); 
```

;-)

# c++ - 在服务器上使用不同的端口号

> ID：15242151
> 
> 赞同：1
> 
> 时间：2013-03-06T08:15:41.010
> 
> 标签：c++, sockets, client-server, port, server-side

我对套接字编程很陌生 - 所以这可能是一个简单的问题，但我真的很想澄清一下。

我有一个多客户端到单服务器程序：各个客户端将消息发送到处理它们的服务器，然后将其传递到目的地，即服务器是中介。

在服务器端，每个客户端都有一个线程，用于“侦听”来自客户端的消息（将放置在缓冲区中）。目前所有客户端都在向同一个端口发送消息（据我所知）。

我正在考虑设置另一个线程，服务器将在发送消息之前在该线程上处理消息。使用服务器上的另一个端口发送这些消息是否有意义？

我的意思不是要进行讨论，但我不知道什么是*常见的*或更合乎逻辑的做法-有什么建议吗？

在客户端，我计划让它有一个线程用于向服务器发送消息，另一个线程用于接收。如果需要任何其他信息，请告诉我！

**编辑**

目前它是一个 1-server-to-multiple（现在是数十个，后来是数百个）-client 程序 - 我似乎在客户端从我的服务器接收消息时遇到问题（我正在排除故障，所以我认为使用相同的端口可能是问题），但我会再次尝试使用相同的端口并查看。我认为这可能是*接收*端口太忙而无法*发送*消息的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:52:18.620

> 目前所有客户端都在向同一个端口发送消息（据我所知）。

“据我所知”是什么意思？您必须知道您是否在服务器上打开了多个端口。

> 使用服务器上的另一个端口发送这些消息是否有意义？

不，它没有。如果您使用的是 TCP，请将消息发送回同一个套接字。如果您使用 UDP，则不需要多个 UDP 套接字，如果回复来自发送请求的同一 ip:port，它会简化客户端和应用程序协议。

# c# - 数据表刷新问题

> ID：15242152
> 
> 赞同：0
> 
> 时间：2013-03-06T08:15:44.400
> 
> 标签：c#, asp.net

我想从一个数据表到另一个数据表的特定数据我试过这个数据是表中的副本但未显示在 DataList 中

你能建议我任何解决方案吗？我的代码

```
 DataTable dt1 = new DataTable();
    DataTable dt = frmbal.GetAllForum();

    for (int i = 0; i < dt.Columns.Count;i++ )
        dt1.Columns.Add(dt.Columns[i].Caption );

    // dt1.Rows.Clear();
    DataRow []dr=dt.Select("intParentThreadID="+ Request.QueryString["id"]);
    dt1.Rows.Add (dr);
    dt1.AcceptChanges();
    DataList1.DataSource =dt1;
    DataList1.DataBind(); 
```

此代码在页面加载事件中提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:21:41.133

试试这个：

```
foreach (DataRow dr in dt.Rows) {
        dt1.Rows.Add(dr.ItemArray);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:22:32.093

没有`DataRowCollection.Add`采用 a`DataRow[]`并插入所有行的方法。采用 an 的重载[`object[]`](http://msdn.microsoft.com/en-us/library/07wwak56.aspx)是使用这些字段插入一条记录。

所以这不起作用：

```
DataRow []dr=dt.Select("intParentThreadID="+ Request.QueryString["id"]);
dt1.Rows.Add (dr); 
```

您应该使用[`DataTable.Merge`](http://msdn.microsoft.com/en-us/library/fk68ew7b.aspx)and `DataTable.Clone`（克隆包含列的表）。

```
DataTable dt = frmbal.GetAllForum();
DataTable dt1 = dt.Clone();
dt1.Merge(dt); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T08:28:58.557

维沙尔·苏塔尔不错

.但是这段代码必须在 !IsPostBack 里面

对于样本是

```
protected void Page_Load(object sender, EventArgs e)    
    {    
        if (!IsPostBack)    
        {    
         DataTable dt1 = new DataTable();
         DataTable dt = frmbal.GetAllForum();
         for (int i = 0; i < dt.Columns.Count;i++ )
         dt1.Columns.Add(dt.Columns[i].Caption );
  // dt1.Rows.Clear();
         DataRow []dr=dt.Select("intParentThreadID="+ Request.QueryString["id"]);
         foreach (DataRow dr in dt.Rows) {
         dt1.Rows.Add(dr.ItemArray);
        } 
         dt1.AcceptChanges();
         DataList1.DataSource =dt1;
         DataList1.DataBind();

        }    
    } 
```

# javascript - 主干和 $el 元素

> ID：15242153
> 
> 赞同：1
> 
> 时间：2013-03-06T08:16:10.857
> 
> 标签：javascript, jquery, backbone.js, backbone-views

我正在尝试开发我的第一个主干应用程序。一切似乎都很好，但是当我渲染视图并将一些 html 附加到 时`$el`，页面中没有渲染任何内容。休息服务调用完成，`Backbone.Router.extend`内部声明`$(document).ready(function () {});`以确保创建 DOM。调试我的javascript，该元素在*innerHTML*`el`属性中包含正确的值，但是当整个页面呈现时，该值不会出现在页面中。

 *我究竟做错了什么？

我的查看代码：

```
window.ProductsListView = Backbone.View.extend({

  id: 'tblProducts',
  tagName: 'div',

  initialize: function (options) {
    this.model.on('reset', this.render, this);
  },

  render: function () {
    // save a reference to the view object
    var self = this;

    // instantiate and render children
    this.model.each(function (item) {
      var itemView = new ProductListItemView({ model: item });
      var elValue = itemView.render().el;
      self.$el.append(elValue);  // Here: the $el innerHTML is ok, but in the page it disappear. The id of element is div#tblProducts, so the element seems correct
    });

    return this;
  }
});

window.ProductListItemView = Backbone.View.extend({

  tagName: 'div',

  template: _.template(
      '<%= title %>'
    ),

  initialize: function (options) {

    this.model.on('change', this.render, this);
    this.model.on('reset', this.render, this);
    this.model.on('destroy', this.close, this);
  },

  render: function () {
    $(this.el).html(this.template(this.model.toJSON()));
    // $(this.el).html('aaaaaa');  // This neither works: it's not a template problem

    return this;
  },

  close: function () {
    $(this.el).unbind();
    $(this.el).remove();
  }
}); 
```

我在这里加载产品（内部`Backbone.Router.extend`）。这是正确执行的：

```
this.productsList = new ProductsCollection();
this.productsListView = new ProductsListView({ model: this.productsList });
this.productsList.fetch(); 
```

这是我要渲染的 html 元素：

```
<div id="tblProducts">
</div> 
```

提前致谢，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T08:46:38.167

从您发布的代码中，您实际上并没有将您`ProductsListView`的内容插入 DOM 或将其附加到现有的 DOM 元素。

我喜欢看它的方式是你有两种类型的视图：

*   根据服务器返回的数据动态生成的
*   页面上已经存在的那些

通常在列表的情况下，列表已经存在于页面上，并且它的项目是动态添加的。我已经在[这个 jsfiddle](http://jsfiddle.net/zJAnu/)中获取了您的代码并对其进行了轻微的重组。您将看到`ProductListView`is 绑定到现有的`ul`，并且`ProductItemView`' 在添加到 Collection 时会动态附加。

[更新了 jsfiddle 以演示 Collection.reset](http://jsfiddle.net/h9242/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T08:36:11.160

`el`无论是否渲染，该属性都存在于视图中。您不能说那里没问题，因为如果没有传递任何元素（空 div），Backbone 将创建一个元素。

如果要渲染视图，您应该确定元素的容器是什么？你有一个要附加视图的 html 吗？

尝试通过使用`el`like调用视图来传递容器元素

```
this.productsListView = new ProductsListView({ model: this.productsList, el : $("#container") }); 
```

当然，您可以稍后创建视图并将其附加到 DOM：

```
el: $("#someElementID") //grab an existing element
el.append(view.render().el); 
```

在将其附加到某个地方之前，您的视图不会存在于 dom 中。*

# android - 片段不工作

> ID：15242158
> 
> 赞同：0
> 
> 时间：2013-03-06T08:16:38.153
> 
> 标签：android

我正在尝试使用片段但无法使用它。

这是我的主要活动的代码

```
public class StartingActivity extends Activity {

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.fragmentexample);}} 
```

这是fragmentexample.xml

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="horizontal" >

<fragment 
    android:name="com.example.demos.Fragment1"
    android:id="@+id/idfragment1"
    android:layout_width="wrap_content"
    android:layout_height="fill_parent"
    />

<fragment 
    android:name="com.example.demos.Fragment2"
    android:id="@+id/idfragment2"
    android:layout_width="0dip"
    android:layout_height="fill_parent"
    android:layout_weight="1"
    /> 
```

这是类 Fragment1

```
 public class Fragment1 extends Fragment {

@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {
    // TODO Auto-generated method stub
    return inflater.inflate(R.layout.fragment1, container, false);
} 
```

}

这是fragment1.xml

```
 <?xml version="1.0" encoding="utf-8"?>
    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="This is Fragment1" />

</LinearLayout> 
```

类 Fragment2 和 fragment2.xml 与 Fragment1 和 fragment1.xml 相同

但此代码不起作用并给出错误

```
03-06 13:43:50.011: E/AndroidRuntime(26696): FATAL EXCEPTION: main
03-06 13:43:50.011: E/AndroidRuntime(26696): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.demos/com.example.demos.StartingActivity}: android.view.InflateException: Binary XML file line #7: Error inflating class fragment
03-06 13:43:50.011: E/AndroidRuntime(26696):    ... 11 more 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:35:52.873

您的 Activity 应该扩展 FragmentActivity

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:37:15.863

在 Fragment1 和 Fragment2 类中添加默认构造函数。

如下所示：

```
 public class Fragment2 extends Fragment {

     public Fragment2() {
        // TODO Auto-generated constructor stub
    }

     @Override
     public View onCreateView(LayoutInflater inflater, ViewGroup container,
             Bundle savedInstanceState) {
         // TODO Auto-generated method stub
         return inflater.inflate(R.layout.fragment2, container, false);
     } 
```

}

这应该有效。

# css - 如何用 CSS 分别给列表项加下划线？

> ID：15242160
> 
> 赞同：0
> 
> 时间：2013-03-06T08:16:40.060
> 
> 标签：css

我想在列表中的行之间创建一些空白空间。目前线路是连续的。这是我创建的一个 jsfiddle 示例：http: [//jsfiddle.net/bonyhad/pnPDz/8/](http://jsfiddle.net/bonyhad/pnPDz/8/)

这是CSS：

```
#example {
    width:800px;
    height:220px;
    display:block;
    overflow:hidden;
    margin:0 0 4em 0;
}

#example ul {
    list-style:none; 
    margin:0;
}

#example li {
    border-bottom:1px solid #fff;
}

#example h1 { 
    color:#000; 
    font-size:20px; 
    margin-bottom:5px; 
}

#example a:link, #example a:visited {
    color: #444; 
    display:block; 
    border-bottom:1px solid #666; 
    text-decoration:none; 
    padding: .3em .25em;
}

.links {
    float:left;
    width:615px;
    margin:0;
    padding:0;
}

.links ul {
    margin:0;
    padding:0;
}
#example .links li {
    float:left; 
    margin 0 20px 0 0; 
    width:185px;
}

#example .links li:nth-last-child(2),
#example .links li:nth-last-child(3),
#example .links li:nth-last-child(2) a,
#example .links li:nth-last-child(3) a, 
#example li:last-child, 
#example li:last-child a {
    border: 0;
} 
```

这是HTML：

```
<section id="example">
    <div class="links">
    <h1>links</h1>
        <ul>
            <li><a href="#">Example1</a></li>
            <li><a href="#">Example2</a></li>
            <li><a href="#">Example3</a></li>
            <li><a href="#">Example4</a></li>
            <li><a href="#">Example5</a></li>
            <li><a href="#">Example6</a></li>
            <li><a href="#">Example7</a></li>
            <li><a href="#">Example8</a></li>
            <li><a href="#">Example9</a></li>
            <li><a href="#">Example10</a></li>
            <li><a href="#">Example11</a></li>
            <li><a href="#">Example12</a></li>
            <li><a href="#">Example13</a></li>
            <li><a href="#">Example14</a></li>
            <li><a href="#">Example15</a></li>
            <li><a href="#">Example16</a></li>
            <li><a href="#">Example17</a></li>
            <li><a href="#">Example18</a></li>
        </ul>
    </div>
</section> 
```

列表中的每一项都应单独下划线，而不是连续的线。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T08:18:52.470

这样做：（将您的#example li css 更新为此）

```
#example li 
{
    border-bottom:1px solid #fff;
    padding:5px;
    margin:2px;

} 
```

工作[小提琴](http://jsfiddle.net/manishmishra256/3unEj/)

看看[盒子模型](http://www.w3schools.com/css/css_boxmodel.asp) 和[mdn](https://developer.mozilla.org/en-US/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T08:20:55.767

在每个项目的右侧添加一个 5px 的空间：

```
#example li {
    margin-right:5px;
} 
```

# position - 如何按位置替换文件每一行中的 n 个字符

> ID：15242164
> 
> 赞同：0
> 
> 时间：2013-03-06T08:16:56.063
> 
> 标签：position, character, line, aix, substitution

我必须匿名化文件中没有分隔符的字段。

就我而言，碰巧的是，这些领域是一个接一个。

例子：

1234姓氏1¤¤¤¤¤¤¤¤¤¤¤FIRSTNAME1¤¤¤¤¤¤¤¤¤¤¤2013-01-01 2345LASTNAME2¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤ ¤2013-01-02 3456LASTNAME3¤¤¤¤¤¤¤¤¤¤¤FIRSTNAME3¤¤¤¤¤¤¤¤¤¤2013-02-01 4567LASTNAME1¤¤¤¤¤¤¤¤¤¤¤FIRSTNAME2¤¤¤¤ ¤¤¤¤¤¤¤¤2013-01-01

所以，我必须用字符“X”替换字符 5 到 44 才能得到结果：1234XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX2013-01-01 2345XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX零号几零二零一零一零一零四零一零一01-01-01 2345XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

使用 awk、sed、perl ... 任何工作的 AIX 版本 6。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T00:11:44.937

不是很优雅，但是：

```
sed -e 's/^\(....\)........................................\(..........\)/\1XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\2/' file 
```

其中“file”是输入文件的路径。

# ruby-on-rails - 苗条的动态条件类

> ID：15242170
> 
> 赞同：105
> 
> 时间：2013-03-06T08:17:14.257
> 
> 标签：ruby-on-rails, slim-lang

只是为了帮助其他开发人员，因为在 SO 上没有类似的问题。

```
div class=(is_active? ? 'active' : 'inactive')
div class=('active' if is_active?) 
```

* * *

## 回答 #1

> 赞同：148
> 
> 时间：2013-04-10T17:48:20.987

请参阅以下示例：

```
div class=(is_active? ? 'active' : 'inactive')
div class=('active' if is_active?) 
```

可以使用相同的方法将动态值分配给其他属性。

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2014-02-02T20:20:15.860

如果不需要在列表中包含类，我使用类数组和 nil 元素，然后使用紧凑数组删除 nil 元素，最后将所有元素连接在一起。

```
div class=(["cday", "col-md-1", day.day == 1 ? "col-md-offset-#{day.cwday-1}" : nil].compact.join(' ')) 
```

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2014-01-24T18:56:06.113

如果您有多种情况，我现在正在做类似的事情

```
div class=(('foo ' if is_foo?) + ('bar' if is_bar?)) 
```

虽然我觉得如果 is_bar 是一个瑕疵？返回 false 并且生成的 HTML 结果为

```
<div class="foo "></div> 
```

（瑕疵是 之后的空白字符`foo`）。如果有人对此有解决方案，那就太棒了。

# python - 为什么这些按钮不会将文本放在相同的位置？（相对于每个按钮）

> ID：15242175
> 
> 赞同：0
> 
> 时间：2013-03-06T08:17:48.250
> 
> 标签：python, button, tkinter

我试图让脚本从 txt 文件行中生成按钮（每一行都是一个按钮）。它工作正常（生成按钮，与行数相同，每个都以行作为标题）但按钮内的文本将位于不同的位置（除了最后一个之外，所有按钮都位于按钮的上侧，并且最后一个很好地放置在按钮的中心）但它们都共享相同的代码。有趣的是，我从这条线上得到的值：

```
print AuxName 
```

将是一个数字，除了起始循环外，所有循环的数字都是相同的。完整的代码是这样的：

```
 from Tkinter import *
from PIL import Image, ImageTk
master = Tk()
master.wm_title("Window Title")
master.geometry("400x400")
tk_rgb = "#%02x%02x%02x" %  (128,128,128)
master.config( bg = tk_rgb)
filehandle = open('test.txt','r')
List = filehandle.readlines()
ListSize = len(List)
filehandle.close()
for x in range ( ListSize ):
    yy = 20*(x+1)
    AuxName = 'btn'+str(x)
    AuxName = Button(master, text=List[x], font=("arial", 10))
    tk_rgb = "#%02x%02x%02x" % (0,0,0)
    AuxName["fg"] = tk_rgb
    tk_rgb = "#%02x%02x%02x" % (255,255,255)
    AuxName["bg"] = tk_rgb
    AuxName.place(x=10, y=yy , height=20, width=200)
    print AuxName
    print yy
mainloop() 
```

摘要问题：如何使所有按钮的标题都位于按钮的中心，而不是像现在这样位于相对于自身的不同位置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:39:39.730

发布的代码工作正常。

关于您看到的原因的猜测是文件中的数据导致了问题。是否有可能有些行有很多前导或尾随空格？

# ruby-on-rails - 自定义omniauth gem页面

> ID：15242176
> 
> 赞同：1
> 
> 时间：2013-03-06T08:17:51.240
> 
> 标签：ruby-on-rails, ruby, omniauth

我`omniath-identity gem`用于身份验证系统。我将 gem 添加到 Gemfile。`omniauth.rb`我还为omniauth配置设置了文件。

```
Rails.application.config.middleware.use OmniAuth::Builder do
  provider :identity
end 
```

我浏览下面的链接。

```
http://localhost:3000/auth/identity 
```

它显示了omniauth-identity的登录页面。我想创建自己的 cstom 登录页面。我不想看到omniauth 的登录页面。如何删除或更改此页面以及如何添加我的自定义登录页面？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:35:34.233

有一个关于使用omniauth-identity的很好的铁路广播，你应该在[http://railscasts.com/episodes/304-omniauth-identity?view=asciicast上查看](http://railscasts.com/episodes/304-omniauth-identity?view=asciicast)

但总而言之，为了覆盖登录页面，您需要创建一个名为**identities的控制器**

```
rails g controller identities 
```

内容将类似于

```
class IdentitiesController < ApplicationController
  def new
    @identity = env['omniauth.identity']
  end
end 
```

然后你可以创建一个自定义视图

```
<h1>New Account</h1>

<%= form_tag "/auth/identity/register" do %>
  <% if @identity && @identity.errors.any? %>
    <div class="error_messages">
      <h2><%= pluralize(@identity.errors.count, "error") %> prohibited this account from being saved:</h2>
      <ul>
      <% @identity.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  <div class="field">
    <%= label_tag :name %><br>
    <%= text_field_tag :name, @identity.try(:name) %>
  </div>
  <div class="field">
    <%= label_tag :email %><br>
    <%= text_field_tag :email, @identity.try(:email) %>
  </div>
  <div class="field">
    <%= label_tag :password %><br>
    <%= password_field_tag :password %>
  </div>
  <div class="field">
    <%= label_tag :password_confirmation %><br>
    <%= password_field_tag :password_confirmation %>
  </div>
  <div class="actions"><%= submit_tag "Register" %></div>
<% end %> 
```

只需查看 railcast 视频，一切都在那里

# windows - 链接命令行太长：如何在 windows 上的 scons 中链接时使用响应文件

> ID：15242177
> 
> 赞同：3
> 
> 时间：2013-03-06T08:17:55.140
> 
> 标签：windows, linker, scons, googletest

像[其他人](https://stackoverflow.com/questions/13357425/scons-long-command-line-tempfile-with-mingw)一样，我有一个超过 Windows cmd 行限制的链接行。对于大多数情况，我们通过使用目标文件的子集构建中间档案（又名静态库）并执行与这些档案的最终链接来解决问题。但是，在 Google Test 中使用此策略会导致无法找到测试，特别是在已归档的目标文件中定义的测试。

更新：[这就是为什么](https://code.google.com/p/googletest/wiki/Primer#Important_note_for_Visual_C++_users). 我可能会使用这种解决方法，但我仍然想了解如何使响应文件在 scons 下工作。

LongCmdLinesOnWin32修复[存在](http://scons.org/wiki/LongCmdLinesOnWin32)问题。我们有一个 cygwin 环境和包含空格的路径名，因此一些编译器绝对路径包含引号。LongCmdLinesOnWin32 中的脚本首先需要扩展以处理嵌入的引号和空格（否则它会创建单个路径名的单独标记）。更严重的是，当使用 MS Visual Studio 时，编译器命令只是“cl”，即不包括路径名。这在 PATH 环境中不可用 - 它似乎是动态设置的（以某种方式）并且在构造 LongCmdLinesOnWin32 脚本的 cmdline 参数时不可见。但我离题了......

似乎有一个更简单（在我看来也很合适）的解决方案：[response files](http://msdn.microsoft.com/en-us/library/ms404301.aspx)，它也[受 gcc 支持](http://gcc.gnu.org/wiki/Response_Files)。

我写了一个小函数来获取对象名称列表并将它们打印到一个文本文件，一个到一行，例如：

```
"""
  In place for generating response files
"""
def gen_response_file(filename,file_list):
    with open(filename,"w") as f:
        for obj_name in file_list:
            f.write ('%s\n' %os.path.abspath(str(obj_name)).replace('\\','/'))
    return filename 
```

然后我尝试在文件名前添加“@”字符并将其添加到选项列表中。

回显的命令行是：

```
link /nologo /MACHINE:x86 /DEBUG @E:\dev\pcoip_view_client\soft_test.rsp /OUT:blah_client\blah_client_tests.exe /LIBPATH:\\sterbkp03\qt\4.8.2\lib .... 
```

如果我只是将文件命名为“soft_test”，那么 scons 会添加后缀“.obj”而链接器找不到它，所以我尝试添加后缀“.rsp”。现在，链接器抱怨它找不到文件，但它存在。我捕获了 scons 的输出并将其粘贴到 bat 文件中。当我运行 bat 文件（来自 VS 2008 命令行环境）时，链接就像一个魅力，所以看起来 scons 以某种方式导致了查找文件的问题

我尝试使用绝对 (@C:\blah\soft_test.rsp)、相对 (@.\soft_test.rsp) 和 @soft_test.rsp 更改路径，但它们都不起作用。

```
LINK : fatal error LNK1104: cannot open file '@E:\dev\swift.dev\blah_client\soft_test.rsp'
scons: *** [blah_client\blah_client_tests.exe] Error 1104 
```

我在 Windows 7-64 下使用 scons v2.1.0.r5357、VS 2008 和 python 2.7

我的 scons 文件如下所示：

```
test_objects = tenv.Object(test_sources)
xx = gen_response_file('soft_test.rsp',test_objects)
tenv.Append( LINKFLAGS = [ '@%s' % os.path.abspath(xx)]) # 
test_exe = tenv.Program(target = 'blah_client_tests', source = objects + moc_objects + qrc_objects ) 
```

任何建议都非常感谢。

更新：我用 gcc 试过，没有问题。我的猜测是，与 Visual Studio 工具相关的 scons 规则以某种方式不同，足以引起悲伤。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:36:58.987

我尝试使用 gcc 在 Linux 中重现此问题，但遇到了一个不同的问题，其解决方案可能会有所帮助。

最初，我使用了这个 SConscript：

```
import os

"""
  In place for generating response files
"""
def gen_response_file(filename,file_list):
    with open(filename,"w") as f:
        for obj_name in file_list:
            f.write ('%s\n' %os.path.abspath(str(obj_name)).replace('\\','/'))
    return filename

env = Environment()

test_objects = env.Object(target = 'testClass', source = 'testClass.cc')

resp_file = gen_response_file('response_file.rsp', test_objects)

env.Append(LINKFLAGS = [ '@%s' % os.path.abspath(resp_file)])
env.Program(target = 'helloWorld', source = 'helloWorld.cc') 
```

以下是我使用的相关源文件：

```
# tree .
.
|-- SConstruct
|-- helloWorld.cc
|-- testClass.cc
`-- testClass.h 
```

`helloWorld.cc`主程序在哪里。`helloWorld.cc`包含`testClass.h`和链接`testClass.o`当我尝试编译它时，响应文件已正确生成（仅包含`/some/path/testClass.o`）并由编译器读取。我遇到的问题`testClass.o`是没有编译，因为 SCons 似乎无法识别响应文件中列出的对象的依赖关系。结果如下：

```
# scons
scons: Reading SConscript files ...
scons: done reading SConscript files.
scons: Building targets ...
g++ -o helloWorld.o -c helloWorld.cc
g++ -o helloWorld @/some/path/response_file.rsp helloWorld.o
g++: /some/path/testClass.o: No such file or directory
scons: *** [helloWorld] Error 1
scons: building terminated because of errors. 
```

这似乎是 SCons 的失败，因为它不分析响应文件。为了解决这个问题，我不得不使用`Depends()`以下摘录中的函数：

```
...
bin = env.Program(target = 'helloWorld', source = 'helloWorld.cc')
env.Depends(bin, test_objects) 
```

这有效并给了我以下信息：

```
# scons
scons: Reading SConscript files ...
scons: done reading SConscript files.
scons: Building targets ...
g++ -o helloWorld.o -c helloWorld.cc
g++ -o testClass.o -c testClass.cc
g++ -o helloWorld @/some/path/response_file.rsp helloWorld.o
scons: done building targets. 
```

我知道这并不能回答关于为什么找不到响应文件的原始问题，但是一旦你解决了这个问题，你很可能会遇到上面提到的问题，并且必须使用该`Depends()`功能。

# c# - 如何使用 .Net 套接字重用 TCP 端点地址

> ID：15242178
> 
> 赞同：1
> 
> 时间：2013-03-06T08:17:55.613
> 
> 标签：c#, .net, sockets, tcp

我有一些客户端-服务器套接字代码，我希望能够构造和（重新）定期连接到相同的端点地址：`localhost:17999`

这是服务器：

```
// Listen for a connection:
IPEndPoint localEndPoint = new IPEndPoint(IPAddress.Loopback, 17999);             
Socket listener = new Socket(IPAddress.Loopback.AddressFamily, SocketType.Stream, ProtocolType.Tcp);
listener.SetSocketOption(SocketOptionLevel.Socket, SocketOptionName.ReuseAddress, true);
listener.Bind(localEndPoint);
listener.Listen(1);

// Accept the connection and send a message:
Socket handler = listener.Accept();
byte[] bytes = new byte[1024];
bytes = Encoding.ASCII.GetBytes("The Message...");                 
handler.Send(bytes);

// Clean up
handler.Shutdown(SocketShutdown.Both);
handler.Close();
handler.Dispose();

listener.Shutdown(SocketShutdown.Both);
listener.Close();
listener.Dispose(); 
```

这是客户：

```
byte[] bytes = new byte[1024];
Socket receiver = new Socket(IPAddress.Loopback.AddressFamily, SocketType.Stream, ProtocolType.Tcp);
receiver.SetSocketOption(SocketOptionLevel.Socket, SocketOptionName.ReuseAddress, true);
receiver.Connect(new IPEndPoint(IPAddress.Loopback, 17999));

int num_bytes_received = receiver.Receive(bytes);
string result = Encoding.ASCII.GetString(bytes, 0, num_bytes_received);

receiver.Shutdown(SocketShutdown.Both);
receiver.Close();
receiver.Dispose(); 
```

当我第一次创建客户端和服务器时，它工作正常。但是，当我再次创建它时，出现错误：

> “不允许发送或接收数据的请求，因为套接字未连接，并且（当使用 sendto 调用在数据报套接字上发送时）未提供地址”

我希望能够在需要时使用以下事件顺序任意启动此机制：

1.  启动服务器并等待接受连接
2.  启动客户端并连接到服务器
3.  在服务器上接受客户端连接
4.  向客户端发送消息
5.  必要时重复

我怎样才能做到这一点？

提前谢谢！

**编辑：**每次我构建客户端和服务器对象时，它都来自不同的进程。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T08:22:24.370

你有两个问题：

1）您正在关闭侦听器。让它保持打开状态。

2）您设置`ReuseAddress`了错误的套接字并且为时已晚。在您调用*之前*将其设置在侦听套接字上`bind`（因为那是您使用地址的时候）。

设置`ReuseAddress`在您不会使用的套接字上`bind`不会做任何事情。您可以从客户端中删除它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:55:31.127

我尝试了 Gene 的建议，它似乎有效：

```
// Listen for a connection:     
IPEndPoint localEndPoint = new IPEndPoint(IPAddress.Loopback, 17999);
using (Socket listener = new Socket(IPAddress.Loopback.AddressFamily, SocketType.Stream, ProtocolType.Tcp))
{

    listener.SetSocketOption(SocketOptionLevel.Socket, SocketOptionName.ReuseAddress, true);
    listener.Bind(localEndPoint);
    listener.Listen(1);

    Thread t = new Thread(() =>
    {
        // Accept the connection and send a message:
        using (Socket handler = listener.Accept())
        {
            byte[] bytes = new byte[1024];
            bytes = Encoding.ASCII.GetBytes("The Message...");
            handler.Send(bytes);
        }
    });
    t.Start();
    t.Join();
} 
```

谢谢大家！

# php - 显示数据库中的数据，编辑它，但是当点击上一页时，数据消失了。

> ID：15242185
> 
> 赞同：0
> 
> 时间：2013-03-06T08:18:14.923
> 
> 标签：php, jquery, html

我有 4 页，分别是公司详细信息、工作要求、工作职责和设计。所以我要更新这些页面的数据。所以我从数据库中检索数据以显示为这 4 个页面的表单。在我编辑第一页上的值后，我转到下一页进行下一次更新。但是当我返回上一页时，数据不会保留编辑的值，而是显示我从数据库中检索到的旧数据。那么如何防止这种情况发生呢？如果我刷新页面也是如此。我知道我可以使用会话来存储编辑的值，但我仍然认为该表单将显示旧数据。请帮我提出如何做到这一点的想法！谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:24:52.003

您需要按照以下步骤操作

1.  通过提交和操作属性转到下一页
2.  在下一页中，将所有帖子值保存到隐藏字段中
3.  使用后退按钮返回。
4.  当按下 go 按钮时，提交包含隐藏字段的表单
5.  现在您在第一页，只需使用 $_REQUEST 或 $_POST 即可获取先前的值。

希望你能理解。

注意：如果您使用浏览器返回按钮，浏览器会要求您确认重新提交表单。如果您确认，那么没有问题，但如果您没有确认，那么您将失去您的价值观。

# apache - Ruby on Rails：如何在接收时处理错误编码的 JSON 字符串

> ID：15242202
> 
> 赞同：0
> 
> 时间：2013-03-06T08:19:37.617
> 
> 标签：apache, utf-8, ruby-on-rails-3.1, passenger, webrick

我有一个从 android 应用程序获取输入的 Rails 服务器。这个 android 应用程序以 JSON 格式将一些数据传递给服务器，但当前版本的应用程序没有将字符串编码为 UTF-8，因此它仍然是“二进制”，例如“\xE0”而不是“\uE0”。但是当将此二进制字符串发送到服务器时，应用程序将 http 连接设置为编码 UTF-8，这意味着接收此字符串的网络服务器认为，它是以 UTF-8 编码的，但实际上它是编码为“二进制”的。

我通过以下行部分解决了这个问题：

```
# encode comment to UTF-8 and strip whitespace from comment field
params[:data][:text].encode('utf-8', 'binary', :invalid => :replace, :undef => :replace).gsub!(/\s+/, " ") 
```

这取自这里：[Ruby String.encode 仍然给出“UTF-8 中的无效字节序列”](https://stackoverflow.com/questions/10466161/ruby-string-encode-still-gives-invalid-byte-sequence-in-utf-8)

它在我的开发系统上运行良好，在 webserver WEBrick 中开始构建，但不幸的是，这在我在 Apache/Passenger 上运行的生产系统上给出了不同的行为，它不会用“？”替换错误的字符。但在第一个无效的时候中断。

在 WEBrick 我得到

```
'  so un\xE4hnlich   ' => 'so un?hnlich' 
```

在具有相同代码、ruby (1.9.3) 和 rails (3.1.1) 版本的 Apache 上，我得到

```
'  so un\xE4hnlich   ' => 'so un' 
```

一定有什么我可以做的，我不知道在哪里尝试：在 apache 配置上，在代码上，在 ruby​​ 包上......？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-14T09:34:42.410

幸运的是，我找到了这个棘手问题的答案——结果证明这是数据库级别的问题！
令人惊讶的是，rake db:create:all 语句确实创建了生产数据库 WITH 编码 UTF-8，就像在 database.yml 中配置的那样，但它使用（MySQL 默认）LATIN-1 用于开发数据库，​​尽管这也被标记为使用 UTF- 8 在同一个 database.yml 文件中。
对于有此问题的未来用户：查看您的 database.yml 文件以了解数据库的编码。

```
development:
  adapter: mysql2
  encoding: utf8
[...]

test:
  adapter: mysql2
  encoding: utf8
[...]

production:
  adapter: mysql2
  encoding: utf8
[...] 
```

感谢这个博客，我可以理解完整的编码内容：http: [//yehudakatz.com/2010/05/05/ruby-1-9-encodings-a-primer-and-the-solution-for-rails/](http://yehudakatz.com/2010/05/05/ruby-1-9-encodings-a-primer-and-the-solution-for-rails/)

问题中的代码工作正常，如果您了解，发送到数据库的编码是什么......

# javascript - html5框架轻松添加事件和动画

> ID：15242204
> 
> 赞同：1
> 
> 时间：2013-03-06T08:19:40.317
> 
> 标签：javascript, jquery, html, canvas

是否有一个 html5 js 框架可以轻松地将事件（例如点击）添加到画布中的动画元素

或者您是否必须通过在画布上添加一个单击事件然后在单击位置正确时通过鼠标坐标进行计算？

下面是我写的一个脚本，但它运行得不是很好。有没有更简单的方法？谢谢

```
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>

    <script src="Scripts/jquery-1.9.1.min.js"></script>
</head>
<body >

    <canvas id="myCanvas" width="500" height="500" style="border:1px solid red; position: absolute; top:0; left:0;">
            <p>Your browser doesn't support canvas.</p>
        </canvas>

</body>
</html>

<script type ="text/javascript">

    var context;
    var myRect = [];

    function Shape(x, y, w, h, fill) {
        this.speedX = 1;
        this.speedY = 1;
        this.x = x;
        this.y = y;
        this.w = w;
        this.h = h;
        this.fill = fill;
    }

    // get canvas element.
    var elem = document.getElementById('myCanvas');

    // check if context exist
    if (elem.getContext) {

        context = elem.getContext('2d');

        myRect.push(new Shape(10, 0, 25, 25, "#333"))
        myRect.push(new Shape(0, 40, 39, 25, "#333"))
        myRect.push(new Shape(0, 80, 100, 25, "#333"))

    }

    function loop() {

        //console.log('tick');

        context.clearRect(0, 0, elem.width, elem.height);

        for (i in myRect) {

            //console.log(x);

            context.fillRect(myRect[i].x, myRect[i].y, myRect[i].w, myRect[i].h)

            myRect[i].x += myRect[i].speedX;

            //if (myRect[i].x >= elem.width - myRect[i]) {

            //}

            console.log(myRect[1].x  + '     '  +  myRect[1].y);

            //context.fillStyle = i.fill;
        }

        //context.clearRect(0, 0, elem.width, elem.height);
        //context = elem.getContext('2d');

    }

    setInterval(loop, 25);

    $('#myCanvas').click(function (evt) {

        var mouseX = evt.pageX;
        var mouseY = evt.pageY;

        //console.log('mouseX ' + mouseX + '     mouseY ' + mouseY);

        if (myRect[1].x < (mouseX + myRect[1].w) && myRect[1].x > mouseX && myRect[1].y < (mouseY + myRect[1].h) && myRect[1].y > mouseY) {
            alert('test');
        }

    });

</script> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T12:44:15.437

没有特别的顺序，这些画布库都很好：

*   [动力学Js](http://kineticjs.com/)
*   [FabricJs](http://fabricjs.com/)
*   [拉斐尔](http://raphaeljs.com/)
*   [画架](http://www.createjs.com/#!/EaselJS)

# java - 为什么我们不应该在 Java 中捕获错误？

> ID：15242207
> 
> 赞同：3
> 
> 时间：2013-03-06T08:19:55.310
> 
> 标签：java, error-handling

我知道，它会损害应用程序的性能，但我们不应该围绕代码的地方，这确实有风险，例如

```
try {
    // code        
} catch (OutOfMemoryError ex) {
    // handling code
} 
```

它看起来很安全。

**来自文档：**

> Error 是 Throwable 的子类，表示合理的应用程序不应尝试捕获的严重问题。

为什么不？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-06T08:26:13.593

您通常不应该尝试处理这些错误的原因是因为通常您对它们无能为力。

它们往往是 JVM 级别的错误，而不是应用程序级别的错误 - OutOfMemory 就是一个很好的例子。如果 JVM 内存不足，你的程序会做什么？即使你确实抓住了它，也不能保证处理代码将以一致的方式完成/继续，因为抛出了终端条件

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T08:27:10.183

您可以捕获任何可抛出的内容，这意味着您可以捕获错误。但是错误代表一个严重的问题，不建议捕获。

> 来自 Java API：
> 
> “错误是 Throwable 的子类，表示合理的 > 应用程序不应尝试捕获的严重问题。大多数此类错误是异常情况。 >ThreadDeath 错误虽然是“正常”情况，但也是错误的子类，因为大多数>应用程序不应试图捕捉它。”

**错误**表示您的应用程序存在一些关键问题。例如，当由于内存不足而无法**分配**对象时将抛出**OutOfMemoryError**，并且垃圾收集器无法提供更多内存。因此，如果通过捕获*不会解决您的实际问题**，除非通过在程序中捕获此错误可能不会导致任何解决方案，而是会导致容易出错的应用程序*。因此，不建议捕获错误。`Java Virtual Machine`**`OutOfMemoryError` *`increasing the memory`***

 *** * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T08:25:09.107

`Error`实际上我们无法猜测的类型将`perticular block of Code`如下所示。

```
try {
    // not guaranty OutOf memeroy Exception will come from this block      
} catch (OutOfMemoryError ex) {
    // handling code
} 
```

这就是为什么我们不会处理。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-06T08:30:40.007

当 JVM 不再按预期工作或即将发生错误时，将出现错误。如果你捕捉到一个错误，就不能保证catch块会运行，更不能保证它会运行到最后。

还要看运行的电脑，当前的内存状态，所以没办法去测试，尽力而为。你只会有一个危险的结果。

您还将降低代码的可读性。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T08:26:55.957

如果您的堆空间或永久生成空间已满，那么捕获 OutOfMemoryError 并在您的 catch 块中做一些工作是什么意思？实际上，您无法猜测此异常实际上会发生在哪里。没有逻辑可以捕获此异常。**

# google-maps - 使用按钮删除 georsslayer

> ID：15242208
> 
> 赞同：0
> 
> 时间：2013-03-06T08:19:55.747
> 
> 标签：google-maps, google-maps-api-3

我想使用一个按钮从我的地图中删除或隐藏一个 georsslayer。此代码似乎不起作用

```
var georssLayer = new google.maps.KmlLayer("http://econym.org.uk/gmap/lancashire.kml");
    georssLayer.setMap(map);

function deleteLayer() {
    georssLayer.setMap(null);
 } 
```

.

```
<div>

     <input type="button" value="delete layer" onclick="deleteLayer();">
</div> 
```

我已经看到它适用于标记： http: [//jsfiddle.net/TwMVj/3/](http://jsfiddle.net/TwMVj/3/) 或者这个 API 不可能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:27:10.557

它也适用于图层，在创建图层时删除`var`-keyword 以使图层可全局访问：

[http://jsfiddle.net/doktormolle/HNeQa/](http://jsfiddle.net/doktormolle/HNeQa/)

# php - CakePHP - 多行表单 - 使用 JS 添加输入，但只有第一个被提交

> ID：15242211
> 
> 赞同：0
> 
> 时间：2013-03-06T08:20:11.020
> 
> 标签：php, javascript, forms

我正在做一个 CakePHP 站点，我在那里有一个表单，用户应该能够使用 JavaScript 动态添加多行输入。让我简化一下：我使用以下代码生成第一个输入：

```
echo $this->Form->input('Student.0.name'); 
```

因此，当用户单击添加更多输入时 - 然后我为此输入注入 HTML - 这是：

```
<div class="input required">
  <label for="Student1Name">Width</label><input name="data[Student][1][name]" id="Student1Name" type="text">
</div> 
```

从 CakePHP 代码生成的 HTML 与另一个相同 - 除了“0”和“1”，我们在这里有连续的数字。但是，当我提交时 - 我只有服务器上的第一个输入数据......因为其他数据从未提交过。

我错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:32:21.630

```
// some variables .. 
var currentlyStudentsCount = 1;

var oneStudentHtml = '<div class="input required"><label for="StudentstudentNumberName">Width</label><input name="data[Student][studentNumber][name]" id="StudentstudentNumberCountName" type="text"></div>';

$('#addStudent').on('click', function() {

  // and add the HTML for one more student .. 
  $('#moreStudentsWrapper').append(
    oneStudentHtml.replace(
      /studentNumber/g,
      currentlyStudentsCount
    )
  );

  // increment the current students count .. 
  currentlyStudentsCount++;
}); 
```

# java - 有没有办法让 JSF 与通用 setter 和 getter 一起工作

> ID：15242215
> 
> 赞同：2
> 
> 时间：2013-03-06T08:20:24.173
> 
> 标签：java, jsf, jsf-2

有没有办法让 JSF 与通用实体一起工作，如下所述：

**属性.java**

```
 public interface MyProperty<T> {
        void setMyValue(T value);
        T getMyValue(T value);
    } 
```

在我的应用程序中`T`可以`Date`，或仅`String``Integer``Long`

**MyObject.java**

```
 public class MyObject {
        List<MyProperty<?>> properties;

        public List<MyProperty<?>> getProperties() {
            return properties;
        }
    } 
```

**MyController.java**

```
@Named("controller")
@RequestScoped
public class MyController {

    MyObject myObject;
    public void setMyObject(MyObject myObject) { this.myObject = myObject; };
    public MyObject getMyObject() { return myObject; } ;
} 
```

**编辑.xhtml**

```
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">

    <h:head><title></title></h:head><h:body>
    <h:form>
    <ui:repeat  var="property" value="#{controller.myObject.properties}">
        <h:inputText value="#{property.myValue}"/>
    </ui:repeat>
        <h:commandButton action="#{controller.save}" value="save"/>
    </h:form>
    </h:body>
</html> 
```

不幸的是，这不起作用，因为 JSF 试图在 myObject 上找到带有签名的 setter：

```
void setMyValue(String value); 
```

这显然不存在，因为类型擦除导致方法具有以下签名：

```
void setMyValue(Object value); 
```

有没有办法解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T10:50:31.567

你的答案不清楚，但是，答案肯定**是 YES**，JSF 可以伴随泛型。

不过，这取决于您使用泛型的*明智*程度，最终取决于您是否完全理解泛型的问题。

据我从您的示例中可以看出，您将使用通用接口作为已实现类中包含的对象的*包装器。*

## 使用带有*包装的 getter/setter的类*

使用这种方法，您不直接处理`MyInterface`实现，而是处理由接口方法定义的内容。

基础接口：

```
public interface MyInterface<T> {
    void setMyValue(T value);
    T getMyValue();
} 
```

实现类：

```
public class MyString implements MyInterface<String> {

    private String myValue;

    public MyString(String myValue) {
        this.myValue = myValue;
    }

    public void setMyValue(String value) {
        this.myValue = value;
    }

    public String getMyValue() {
        return myValue;
    }

    @Override
    public String toString() {
        return myValue;
    }

} 
```

和

```
public class MyInteger implements MyInterface<Integer> {

    private Integer myValue;

    public MyInteger(Integer myValue) {
        this.myValue = myValue;
    }

    public void setMyValue(Integer value) {
        this.myValue = value;
    }

    public Integer getMyValue() {
        return myValue;
    }

    @Override
    public String toString() {
        return Integer.toString(myValue);
    }

} 
```

托管 bean（带有*匿名类*）：

```
@ManagedBean
@RequestScoped
public class MyInterfaceBean {

    private MyString myString;
    private MyInteger myInteger;
    private MyInterface<Float> myFloat;

    public MyInterfaceBean() {
        myString = new MyString("String");
        myInteger = new MyInteger(1);
        myFloat = new MyInterface<Float>() {

            private Float myValue;

            public void setMyValue(Float value) {
                this.myValue = value;
            }

            public Float getMyValue() {
                return myValue;
            }

            @Override
            public String toString() {
                return Float.toString(myValue);
            }

        };
        myFloat.setMyValue(3.1f);
    }

    public String getMyString() {
        return myString.getMyValue();
    }

    public void setMyString(String myString) {
        this.myString.setMyValue(myString);
    }

    public Integer getMyInteger() {
        return myInteger.getMyValue();
    }

    public void setMyInteger(Integer myInteger) {
        this.myInteger.setMyValue(myInteger);
    }

    public Float getMyFloat() {
        return myFloat.getMyValue();
    }

    public void setMyFloat(Float myFloat) {
        this.myFloat.setMyValue(myFloat);
    }

    public String action() {
        return null;
    }

} 
```

风景：

```
<h:outputText value="String: #{myInterfaceBean.myString}"/>
<br/>
<h:outputText value="Integer: #{myInterfaceBean.myInteger}"/>
<br/>
<h:outputText value="Float: #{myInterfaceBean.myFloat}"/>
<br/>
<h:form>
    <h:outputText value="String: "/><h:inputText value="#{myInterfaceBean.myString}"/>
    <br/>
    <h:outputText value="Integer: "/><h:inputText value="#{myInterfaceBean.myInteger}"/>
    <br/>
    <h:outputText value="Float: "/><h:inputText value="#{myInterfaceBean.myFloat}"/>
    <br/>
    <h:commandButton value="Submit" action="#{myInterfaceBean.action}"/>
</h:form> 
```

## 使用带有*@FacesConverter的类*

另一种方法是使用 ，`@FacesConverter`以便 JSF 知道如何将输入字段中的字符串转换为实现`MyInterface`.

托管 bean（带有*匿名类*）：

```
@ManagedBean
@RequestScoped
public class MyInterfaceBean {

    private MyString myString;
    private MyInteger myInteger;
    private MyInterface<Float> myFloat;

    public MyInterfaceBean() {
        myString = new MyString("String");
        myInteger = new MyInteger(1);
        myFloat = new MyInterface<Float>() {

            private Float myValue;

            public void setMyValue(Float value) {
                this.myValue = value;
            }

            public Float getMyValue() {
                return myValue;
            }

            @Override
            public String toString() {
                return Float.toString(myValue);
            }

        };
        myFloat.setMyValue(3.1f);
    }

    public MyString getMyString() {
        return myString;
    }

    public void setMyString(MyString myString) {
        this.myString = myString;
    }

    public MyInteger getMyInteger() {
        return myInteger;
    }

    public void setMyInteger(MyInteger myInteger) {
        this.myInteger = myInteger;
    }

    public MyInterface<Float> getMyFloat() {
        return myFloat;
    }

    public void setMyFloat(MyInterface<Float> myFloat) {
        this.myFloat.setMyValue(myFloat.getMyValue());//not to lose this anonymous class, can substitute for other implementation directly
    }

    public String action() {
        return null;
    }

} 
```

转换器：

```
@FacesConverter(value = "myStringConverter")
public class MyStringConverter implements Converter {

    public Object getAsObject(FacesContext context, UIComponent component, String value) {
        if(value == null || value.equals("")) {
            return null;
        }
        MyString obj = new MyString(value);
        return obj;
    }

    public String getAsString(FacesContext context, UIComponent component, Object value) {
        if (!(value instanceof MyString) || (value == null)) {
            return null;
        }
        return ((MyString)value).getMyValue();
    }

} 
```

和

```
@FacesConverter(value = "myIntegerConverter")
public class MyIntegerConverter implements Converter {

    public Object getAsObject(FacesContext context, UIComponent component, String value) {
        if(value == null || value.equals("")) {
            return null;
        }
        MyInteger obj = null;
        try {
            Integer integer = Integer.valueOf(value);
            obj = new MyInteger(integer);
        } catch(NumberFormatException nfe) {
            throw new ConverterException(new FacesMessage("Integer could not be parsed from string: " + value));
        }
        return obj;
    }

    public String getAsString(FacesContext context, UIComponent component, Object value) {
        if (!(value instanceof MyInteger) || (value == null)) {
            return null;
        }
        return ((MyInteger)value).getMyValue().toString();
    }

} 
```

和

```
@FacesConverter(value = "myFloatConverter")
public class MyFloatConverter implements Converter {

    public Object getAsObject(FacesContext context, UIComponent component, String value) {
        if(value == null || value.equals("")) {
            return null;
        }
        MyInterface<Float> obj = null;
        try {
            Float floatValue = Float.valueOf(value);
            obj = new MyInterface<Float>() {

                private Float myValue;

                public void setMyValue(Float value) {
                    this.myValue = value;
                }

                public Float getMyValue() {
                    return myValue;
                }

                @Override
                public String toString() {
                    return Float.toString(myValue);
                }

            };
            obj.setMyValue(floatValue);
        } catch(NumberFormatException nfe) {
            throw new ConverterException(new FacesMessage("Float could not be parsed from string: " + value));
        }
        return obj;
    }

    public String getAsString(FacesContext context, UIComponent component, Object value) {
        if (!(value instanceof MyInterface) || (value == null)) {
            if(!(((MyInterface)value).getMyValue() instanceof Float)) {
                return null;
            }
        }
        return ((MyInterface)value).getMyValue().toString();
    }

} 
```

风景：

```
<h:outputText value="String: #{myInterfaceBean.myString}"/>
<br/>
<h:outputText value="Integer: #{myInterfaceBean.myInteger}"/>
<br/>
<h:outputText value="Float: #{myInterfaceBean.myFloat}"/>
<br/>
<h:form>
    <h:outputText value="String: "/><h:inputText value="#{myInterfaceBean.myString}" converter="myStringConverter"/>
    <br/>
    <h:outputText value="Integer: "/><h:inputText value="#{myInterfaceBean.myInteger}" converter="myIntegerConverter"/>
    <br/>
    <h:outputText value="Float: "/><h:inputText value="#{myInterfaceBean.myFloat}" converter="myFloatConverter"/>
    <br/>
    <h:commandButton value="Submit" action="#{myInterfaceBean.action}"/>
</h:form> 
```

# class - 警告：在未命名的包中找不到类

> ID：15242217
> 
> 赞同：1
> 
> 时间：2013-03-06T08:20:28.547
> 
> 标签：class, load, warnings, javacv

所以，我尝试运行 builder ：

```
import static com.googlecode.javacv.cpp.opencv_core.*;
import static com.googlecode.javacv.cpp.opencv_highgui.*;
import com.googlecode.javacv.CanvasFrame;

public class Smoother {

public static void main(String[] args) {

    //Load image img1 as IplImage
    final IplImage image = cvLoadImage("img1.png");

    //create canvas frame named 'Demo'
    final CanvasFrame canvas = new CanvasFrame("Demo");

    //Show image in canvas frame
    canvas.showImage(image);

    //This will close canvas frame on exit
    canvas.setDefaultCloseOperation(javax.swing.JFrame.EXIT_ON_CLOSE);        
} 
```

}

但是我有 ：

```
Warning: Could not load class bin.ClassMain: java.lang.NoClassDefFoundError: bin/ClassMain (wrong name: ClassMain)
Warning: No classes found in the unnamed package
JavaCPP version 0.3
Copyright (C) 2011-2012 Samuel Audet <samuel.audet@gmail.com>
Project site: http://code.google.com/p/javacpp/

Licensed under the GNU General Public License version 2 (GPLv2) with Classpath exception.
Please refer to LICENSE.txt or http://www.gnu.org/licenses/ for details.

Usage: java -jar javacpp.jar [options] [class or package names]

where options include:

    -classpath <path>      Load user classes from path
    -d <directory>         Output all generated files to directory
    -o <name>              Output everything in a file named after given name
    -nocompile             Do not compile or delete the generated source files
    -header                Generate header file with declarations of callbacks functions
    -jarprefix <prefix>    Also create a JAR file named "<prefix>-<platform.name>.jar"
    -properties <resource> Load all properties from resource
    -propertyfile <file>   Load all properties from file
    -D<property>=<value>   Set property to value
    -Xcompiler <option>    Pass option directly to compiler 
```

但是我下载：

_ javacv：[https ://code.google.com/p/javacv/downloads/detail?name=javacv-0.3-bin.zip _JDK：](https://code.google.com/p/javacv/downloads/detail?name=javacv-0.3-bin.zip) [http](http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html) : //www.oracle.com/technetwork/java/javase/downloads [/jdk7-downloads-1880260.html_OpenCV(OpenCV-2.4.3.exe](http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html) )：`http://sourceforge.net/projects/opencvlibrary/files/opencv-win/2.4.3/`

在 Eclipse 中，我“添加外部 JAR”：_javacpp.jar _javacv.jar _javacv-windows-x86_64.jar

我还在构建路径中添加项目我添加“ C:\opencv\build\x86\vc10\lib;C:\opencv\build\common\tbb\ia32\vc10;C:\opencv\build\x86\vc10\ staticlib;%CLASSPATH% " 在 CLASSPATH 我添加 " C:\opencv\build\common\tbb\ia32\vc10\;C:\opencv\build\x86\vc10\bin\; " 在 PATH

如果您有解决我问题的想法，我很感兴趣

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T09:29:24.763

您尝试使用的路径有问题

```
CLASSPATH
C:\opencv\build\x86\vc10\lib;C:\opencv\buil­d\x86\vc10\staticlib;%CLASSPATH% 
PATH
C:­\opencv\build\x86\vc10\bin\; 
```

# windows-phone-7 - 上下文菜单中特定项目的选定索引

> ID：15242219
> 
> 赞同：0
> 
> 时间：2013-03-06T08:20:45.360
> 
> 标签：windows-phone-7

```
 i have a listbox that shows schedule name,date,time and when i long press the particular item of listbox then it opens a context menu in which i have two items that is add to calendar and view description,so i want that wen i click view description then it will open a popup and display the description of the selected item in a list box. 
```

所以请告诉我如何获取上下文菜单的选定索引？？？我在 xaml 中的代码是：

```
 <Grid x:Name="ContentPanel" Grid.Row="1" Margin="12,0,12,0">
            <ListBox x:Name="scheduleListbox" ItemsSource="{Binding scheduleList}" Tap="scheduleListbox_Tap" >
                <ListBox.ItemTemplate>
                    <DataTemplate>
                       <StackPanel Orientation="Vertical" Height="150" Width="460">
                            <toolkit:ContextMenuService.ContextMenu>
                                <toolkit:ContextMenu>
                                    <toolkit:MenuItem Header="Add To Calendar"/>
                                    <toolkit:MenuItem Header="View Description" Click="MenuItem_Click"/>
                                </toolkit:ContextMenu>
                            </toolkit:ContextMenuService.ContextMenu>
                            <TextBlock x:Name="textBlock1" Text="{Binding ScheduleName}" Foreground="WhiteSmoke" FontSize="32"/>
                            <TextBlock x:Name="textBlock2" Text="{Binding ScheduleDate}" Foreground="Red" Margin="0,10,0,0"/>
                            <StackPanel Orientation="Horizontal" Height="70" Width="460">
                                <TextBlock x:Name="textBlock3" Text="{Binding StartTime}" Margin="0,5,0,0"/>
                                <TextBlock x:Name="textBlock4" Text="{Binding EndTime}" Margin="50,5,0,0"/>
                            </StackPanel>
                        </StackPanel>

                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </Grid>
    </Grid> 
```

所以请告诉我如何在上下文菜单中获取选定的索引，当我单击特定项目的查看描述时，它会打开一个弹出窗口，并且该特定项目的计划名称和描述可见

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T20:44:18.980

在上下文菜单项的单击处理程序中，您可以使用它来获取单击的项：（将 ScheduleItem 替换为您的列表项类名称）

```
ListBoxItem contextMenuListItem = (ListBoxItem)(scheduleListbox.ItemContainerGenerator.ContainerFromItem(((MenuItem)sender).DataContext));
ScheduleItem item = (ScheduleItem)contextMenuListItem.Content; 
```

# mysql - MySQL 社区服务器与 MySQL 集群社区服务器

> ID：15242224
> 
> 赞同：0
> 
> 时间：2013-03-06T08:21:07.007
> 
> 标签：mysql

如果我们使用集群服务器，哪个 MySQL 版本的服务器将是正确的选择？它会得到MySQL集群服务器的GPL版本吗？我发现 MySQL 集群将作为商业和 GPL 提供。GPL 版本的功能限制是什么，商业版的价格是多少？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:43:19.510

GPL 和商业许可证之间没有功能差异。区别在于（显然）许可条款，以及您获得的支持。

# cakephp - 从 default.ctp 访问静态方法

> ID：15242225
> 
> 赞同：0
> 
> 时间：2013-03-06T08:21:08.307
> 
> 标签：cakephp, cakephp-2.0

```
class Cat extend AppModel{
   public static function getCat($medium=NULL){
       $allcat = $this->Cat->find('all', array('contain' =>false,
                'conditions' => array('Cat.c_medium' => $medium), 
                 'order' => array('Cat.c_name' => 'asc')));
       return $allcat;
   }
} 
```

我想从 default.ctp 访问这个方法，`Cat::getCat('eng');` 但这不起作用，请帮助我。

错误 ：-`Fatal error: Class 'Cat' not found in C:\xampp\htdocs\app\View\Layouts\default.ctp on line 100`

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T08:22:49.633

您需要 App::uses() 您要在文件中使用的类。对于视图，通常最好在最顶部的控制器中执行此操作：

```
 <?php
     App::uses('Cat', 'Model'); 
```

现在可以在所有控制器操作及其视图中访问 Cat 模型 - 特别是通过静态访问（对于非静态访问，ClassRegistry::init() 通常会处理包含本身）。

但是在您的情况下，您在这里滥用静态方法。您应该只为非查询方法静态访问模型。

这里的这种方法本来就不应该是静态的。使用控制器调用此方法并将结果传递给视图。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T15:42:28.137

您的代码中有一些错误；

1.  `class Cat extend AppModel`应该是`class Cat extendS AppModel`（不是扩展中的额外's'）
2.  `$this`不可能在静态方法中使用。静态方法没有要引用的类的“实例”，因此`$this`会产生错误
3.  您在模型内部使用，`$this->Cat->find(...)` *它*`Cat`本身应该是`$this->find(...)`

通常，您不会访问视图或布局中的模型。模型在您的控制器中使用，结果通过将它们提供为“viewVars”传递给视图；

// 你的控制器

```
class MyController extends AppController {
    // Specify the Models you want to use
    public $uses = array('Cat');

    public function my_action()
    {
       $this->set('my_view_var_name', $this->Cat->getCat('eng'));
    }
} 
```

// 视图 (app/View/My/my_action.ctp):

```
debug($my_view_var_name); 
```

**通过 ClassRegistry::init()**

如果您*希望可以在**任何地方*获取模型的实例，也可以在视图/布局内；

```
ClassRegistry::init('ModelName'); 
```

// 在 app/View/Layout/default.ctp 里面

```
$cats = ClassRegistry::init('Cat')->getCat('eng');
debug($cats); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-13T05:55:27.793

我正在使用此代码-

尝试这个

```
<?php
  $cats = ClassRegistry::init('Cat')->getCat('eng');
  pr($cats);
?> 
```

# java - 如何拥有对象的监视器

> ID：15242228
> 
> 赞同：8
> 
> 时间：2013-03-06T08:21:16.090
> 
> 标签：java

我有一些这样的编码。

```
 public class WaitTest {

  public static void main(String[] args) {
    Object object = new Object();
    try {
      synchronized (object) {
        object.wait(5000);
      }
    } catch (InterruptedException e) {
      e.printStackTrace();
    }
  }
} 
```

使用**同步（对象）**是否意味着 WaitTest 类拥有对象的监视器？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-06T08:23:00.740

**类不拥有监视器，线程拥有。**

在您的示例中，`WaitTest`不拥有监视器，主线程拥有。

特别是，没有其他线程能够进入`synchronized`同一个对象的块，包括调用任何 的`object`方法`synchronized`，如果它有任何这样的方法的话。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-09-11T08:08:22.863

线程拥有监视器，根据此处的官方 JDK 文档，可以通过三种方式拥有监视器：[Object.notify](https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify--)

> 线程通过以下三种方式之一成为对象监视器的所有者：
> 
> *   通过执行该对象的同步实例方法。
> *   通过执行在对象上同步的同步语句的主体。
> *   对于 Class 类型的对象，通过执行该类的同步静态方法。

# lwuit - 组合框中的多种颜色标签

> ID：15242230
> 
> 赞同：1
> 
> 时间：2013-03-06T08:21:23.377
> 
> 标签：lwuit, codenameone

我想在 codename-one 应用程序的按钮中显示一个文本，其中有一个红色的单词和一个蓝色的单词，其余的都是黑色的。

我们该怎么做。

请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T08:44:41.997

代号一中的标签具有一种样式/颜色，按钮源自标签，因此不能直接完成。

然而，Codename One 有一个多按钮选项，它允许做一些非常相似的事情，它还允许将元素放在一行中。如果多按钮不符合您的特定要求，您将需要使用引导组件方法在 Container 中构建您的 UI，并将引导组件 ( `Container.setLeadComponent()`) 分配给 Container 中的按钮。这实际上意味着整个容器将根据容器层次结构中按钮的“引导”运行，并且您可以将组件组装成您想要的任何外观。

或者，您可以派生按钮并覆盖绘画以做任何您想做的事情。

# php - 使用 PHP echo 从数据库中获取图像

> ID：15242241
> 
> 赞同：1
> 
> 时间：2013-03-06T08:22:17.717
> 
> 标签：php, mysql

我有一个数据库，其中有一行包含图像。现在在我的代码中，我想从数据库中获取图像，但不知何故我无法做到。以下是我的代码——请帮帮我——：

```
<?php

$qry = mysql_query("SELECT * FROM products ORDER BY products.id DESC LIMIT 0, 1", $con);
if (!$qry)
{
    die("Query Failed: ". mysql_error());
}

while ($row = mysql_fetch_array($qry))
{
    echo "<h2>".$row['title']."</h2>";
    echo "<img src=".'Image/'.$row['image']." />";
    echo "<p>".substr($row['body'],0,200)."<a href=articles.php?id=".$row['id']." > Read more</a></p>";
    echo "<p>".$row['price']."</p>";
}

?> 
```

如果我不使用 PHP 并且只使用`<img>`标签，那么路径必须是 `src="Image/passbook.jpg"`并且它工作正常但它不适用于 PHP。我正在创建一个管理面板，以便客户可以根据需要删除或更新图像，所以我不能使用简单的`<img>`标签。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:24:18.487

尝试改变，

```
echo "<img src=".'Image/'.$row['image']." />"; 
```

到

```
echo "<img src='Image/".$row['image']."' />"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:25:22.550

您在图像声明代码中有错误。更正如下，

```
while( $row = mysql_fetch_array($qry) )
{
    echo "<h2>".$row['title']."</h2>";
    echo "<img src = 'Image/".$row['image']."' alt = ""/>";
    echo "<p>".substr($row['body'],0,200)."<a href=articles.php?id=".$row['id']." > Read more</a></p>";
    echo "<p>".$row['price']."</p>";
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T08:25:48.987

试试这个

```
echo "<img src='Image/".$row['image']."' />"; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T08:25:51.727

试试这个

```
while($row=mysql_fetch_array($qry))
{
    $title = $row['title'];
    $src = $row['image'];
    $whatever = $row['body'];
    echo "$title <br/><img src="$src" alt="my fancy photo" height="" width=""/><br/>$watever";
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T08:28:03.613

做这个 ：

```
while($row = mysql_fetch_array($qry))
{
    echo "<h2>".$row['title']."</h2>";
    echo "<img src = 'Image/".$row['image']."' alt = ""/>";
    echo "<p>".substr($row['body'],0,200)."<a href=articles.php?id=".$row['id']." > Read more</a></p>";
    echo "<p>".$row['price']."</p>";
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-06T08:28:46.653

就用这个

```
echo "<img src=Image/".$row['image']." />"; 
```

# vb.net - VB.NET webbrowser 控制器无法在文本框中设置值

> ID：15242242
> 
> 赞同：0
> 
> 时间：2013-03-06T08:22:20.430
> 
> 标签：vb.net, webbrowser-control

VB.NET webbrowser 控制器无法在文本框中设置值

```
<input name="ctl00$ContentPlaceHolder1$txtUsername" type="text" id="ctl00_ContentPlaceHolder1_txtUsername" style="width:95%;" class="TextBoxWatermark" autocomplete="off"> 
```

更多信息

```
var Page_Validators =  new Array(document.getElementById("ctl00_ContentPlaceHolder1_RequiredFieldValidator1"), document.getElementById("ctl00_ContentPlaceHolder1_RequiredFieldValidator2")); 
```

更多信息

```
document.getElementById('ctl00_ContentPlaceHolder1_RequiredFieldValidator1').dispose = function() {
Array.remove(Page_Validators, document.getElementById('ctl00_ContentPlaceHolder1_RequiredFieldValidator1')); 
```

}

更多信息

```
Sys.Application.add_init(function() {
$create(AjaxControlToolkit.TextBoxWatermarkBehavior, {"ClientStateFieldID":"ctl00_ContentPlaceHolder1_txtUsernameWatermarkExtender_ClientState","WatermarkCssClass":"TextBoxWatermark","WatermarkText":"ตัวอย่าง mj99u53xxxxxxxx","id":"ctl00_ContentPlaceHolder1_txtUsernameWatermarkExtender"}, null, null, $get("ctl00_ContentPlaceHolder1_txtUsername")); 
```

});

和更多

```
document.getElementById('ctl00_ContentPlaceHolder1_RequiredFieldValidator2').dispose = function() {
Array.remove(Page_Validators, document.getElementById('ctl00_ContentPlaceHolder1_RequiredFieldValidator2')); 
```

}

我试过这段代码

```
webBrowser1.Document.All.GetElementsById("ctl00_ContentPlaceHolder1_txtUsername").SetAttribute("Value", "xxxxx"); 
```

这是行不通的

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:40:17.553

尝试：

```
webBrowser1.Document.GetElementsById("ctl00_ContentPlaceHolder1_txtUsername").SetAttribute("Value", "xxxxx"); 
```

没有`All`财产。

# highcharts - “1”的步长间隔在 Highcharts 中对我不起作用，为什么？

> ID：15242244
> 
> 赞同：4
> 
> 时间：2013-03-06T08:22:24.730
> 
> 标签：highcharts, label

我想在图表中显示每个标签（只有五个）。但由于我不明白的原因，我的

```
 label: { step: 1 } 
```

正在被忽视。[这是小提琴](http://fiddle.jshell.net/luftikus143/wjq9b/2/)。

感谢我监督或不理解的任何提示。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-06T08:36:03.857

而不是使用

```
labels:{ step : 1 } 
```

尝试[**`tickInterval`**](http://api.highcharts.com/highcharts#yAxis.tickInterval)在 y 轴上使用。

```
yAxis: {
         tickInterval:1
       } 
```

`labels:{ step : n }`使用它将显示轴的每 n^个标签。

试试[**`fiddled`**](http://fiddle.jshell.net/gopinaghr/wjq9b/5/)这里的版本。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-06T08:27:22.103

使用[滴答间隔](http://api.highcharts.com/highcharts#yAxis.tickInterval)

```
yAxis: {
    ...
    tickInterval: 1,
} 
```

# jquery - GWT 监听外部自定义 Javascript 事件

> ID：15242245
> 
> 赞同：2
> 
> 时间：2013-03-06T08:22:28.633
> 
> 标签：jquery, gwt, event-handling, jquery-events, gwtquery

我正在开发一个 GWT 应用程序，我想让该应用程序监听外部自定义 Javascript 事件。这些事件将从我的模块外部触发。

基本上，就像您在带有一些 jQuery 的基本 Web 应用程序中所做的一样：

```
$('#foo').bind('customEvent', function() {
    ...
});
...
$('#foo').trigger('customEvent'); 
```

`onAttach`我试图通过覆盖我的 Composite 中的方法来使用 GWTQuery 来实现这一点：

```
@Override
protected void onAttach() {
    super.onAttach();
    $("#mainView").bind("refreshSheet", new Function() {
        public boolean f(Event e) {
            refreshSheet();
            return true;
        }
    });
} 
```

这不起作用，正在调用回调函数，而我还没有触发另一端的事件。

你有什么建议来实现这个目标？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-30T05:16:46.753

我有同样的问题。在下面的解决方案中，我通过调用生成 GWT 事件的 Java 方法（来自我的 Javascript 代码）从 JS 发送事件。所以这是我的建议：

**在 JS 中：**

```
window.parent.sendEvent(evendID, eventBody) 
```

（我不得不调用 window.parent，因为 GWT 和 JS 在 2 个单独的框架中）

但在我在 GWT 中注册该方法之前（见下文），如[https://developers.google.com/web-toolkit/doc/latest/DevGuideCodingBasicsJSNI#calling中所述](https://developers.google.com/web-toolkit/doc/latest/DevGuideCodingBasicsJSNI#calling)

**在 GWT 中：**

```
package com.mypackage.client;
class myclass {
public static int generateEvent(int eventID, String eventBody) { ...... }

public static native void exportStaticMethod() /*-{
$wnd.sendEvent=
     $entry(@com.mypackage.client.myclass::generateEvent(ILjava/lang/String;));
}-*/;
} 
```

其中我是 eventdID（JNI 中的整数）和 Ljava/lang/String；是 eventBody 字符串。您必须从 onModuleLoad() 方法调用此方法 exportStaticMethod()。

myclass 中的 generateEvent() 方法然后生成 GWT 自定义事件（如 Abhijith 的链接中所述）。所以我不会以这种方式通过 JS 堆栈将事件从 JS 广播到 GWT，但我在 java/GWT 端保持了一个干净的架构。

我看到的主要优点是它最小化了 JS 代码的大小，并且很容易通过 GWT.event 和 JS 事件之间的任何未来桥梁进行更新。

主要问题是您必须能够访问您的 JS 代码。

# windows - 无需 CredSSP 即可复制文件的双跳访问

> ID：15242248
> 
> 赞同：8
> 
> 时间：2013-03-06T08:22:33.110
> 
> 标签：windows, powershell, windows-xp, remoting, remote-access

你好，

我们有拥有数百个虚拟机的大型环境。在我们的服务部署期间，我们需要将一些文件从 build drop 复制到所有这些机器上。

所以，我们有：

*   执行部署脚本的用户机器
*   构建放置机器，文件所在的位置
*   目标机

Powershell 用作脚本语言。就像是：

```
$buildDrop     = "\\sourceMachine\Build"
$machineTarget = "targetMachine"

Invoke-Command -ComputerName $machineTarget -ArgumentList $buildDrop -ScriptBlock {
     Param( $buildDrop )
     Test-Path $buildDrop # Will return False
} 
```

这种方法会导致[双跳问题](https://stackoverflow.com/questions/8362057/what-security-setting-is-preventing-remote-powershell-2-0-from-accessing-unc-pat)，由于 XP 和 2k3 机器不支持 CredSSP 功能，我无法解决该问题。在用户机器上调用的副本会导致性能瓶颈（数据通过用户机器传输）。

有没有办法让所有目标机器都可以看到构建丢弃？可能以某种方式将它们添加到受信任的位置或类似的东西？

提前致谢！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-29T11:42:43.640

我找到了适用于我们环境的解决方案。

在没有 Cred-SSP 的情况下，不可能通过双跃点传输凭据，但您可以在没有第一跃点的情况下在目标机器上运行某些东西。

最简单的方法是使用带有**-s标志的****psexec**（在系统帐户中运行远程进程），最终字符串是这样的：

 **```
psexec \\someHost -s robocopy "\\stagingHost\Staging" "\\someHost\C$\Staging" /MIR 
```

您也可以以相同的方式启动一些 PS 脚本，只需确保[允许](http://technet.microsoft.com/en-us/library/ee176961.aspx)在远程机器上执行脚本：

```
psexec \\someHost -s "\\stagingHost\Staging\Script.ps1" SomeArg1 SomeArg2 
```

查看[这篇](http://forum.sysinternals.com/topic9674_post41829.html#41829)文章，了解 psexec 的工作原理。在 someHost 上服务时

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T13:40:05.777

CredSSP*是*双跳问题的解决方案。

从等式中删除用户的桌面。在您的构建服务器上设置适当的构建和部署服务器/服务/应用程序并从那里管理所有内容。RedGate 有一个新产品，[部署管理器可能会对您有很大帮助](http://www.red-gate.com/delivery/deployment-manager/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-08T09:33:14.397

如果您使用的机器可以访问其他机器，只需使用您的机器复制文件：

```
$computers | % {copy '\\servershare\build' "\\$_\c`$\Temp"}
$sb = {C:\Temp\Dosomething.txt args[0]}
$computers | % {Invoke-command -comp $_ -scriptBlock $sb -argumentlist $arg} 
```**

# wso2 - 集成 WSO2 API 管理器和 Hadoop

> ID：15242249
> 
> 赞同：0
> 
> 时间：2013-03-06T08:22:34.353
> 
> 标签：wso2

我的组织有一个现有的 Hadoop 集群。我们正在检查 API 管理产品，并想确定 WSO2 API 管理器中是否有任何现有支持

1.  通过 API Gateway 公开 Hadoop REST 服务和
2.  将安全性与 API Manager 的身份服务器集成。

随便的谷歌搜索只返回有关使用 Hadoop 支持 WSO2 BAM 的信息，我知道这是可能的，但不是我问题的重点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T16:39:13.230

您可以通过 APIManager 将 REST 服务公开为 API。APIManager 所做的是，它根据一些限制/SLA 策略将请求路由到后端服务。您希望在 API 调用中拥有什么样的安全性？我们进行基于 oauth 的身份验证。

# css - 强制 TR CSS 超过 TD

> ID：15242255
> 
> 赞同：2
> 
> 时间：2013-03-06T08:23:01.350
> 
> 标签：css, html-table

我理解根据定义，TD 的 CSS 定义会覆盖 TR 的 CSS。有没有办法做到这一点？

我的情况如下。我有一排信息。在一个特定的列中，文本为绿色。但是，我想“锁定”一行，不管怎样，整行都是灰色的。有没有办法做到这一点？

我正在尝试通过 !important 来实现这一点，但它不起作用。

示例代码：

CSS

```
.locked {
    color: #6D6D6D !important;
}
.count {
    color: #08C420;
} 
```

HTML

```
<tr class="unlocked">
    <td class="count">10,000</td>
    <td></td>
    <td></td>
</tr>
<tr class="locked">
<td class="count">20,000</td>
    <td></td>
    <td></td>
</tr> 
```

现在，所有具有类计数的单元格都显示为绿色。我该如何解决？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-06T08:26:24.940

等级制？

```
.locked > .count {
    color: #6D6D6D;
}
.unlocked > .count {
    color: #08C420;
} 
```

[见 jsfiddle](http://jsfiddle.net/hnBFN)

# ajax - 在eclipse中安装ATF时出错

> ID：15242260
> 
> 赞同：0
> 
> 时间：2013-03-06T08:23:31.807
> 
> 标签：ajax, eclipse, eclipse-plugin

在eclipse JUNO->安装新软件-> [http://download.eclipse.org/tools/atf/updates/0.3.0](http://download.eclipse.org/tools/atf/updates/0.3.0)

但它给了我这个错误

**无法完成安装，因为找不到一项或多项所需项目。正在安装的软件：AJAX Tools Framework Webtools Integration (Incubation) 0.3.0.v201006041600-15-7zCN3HbXIOZQuUeDRRMG (org.eclipse.atf.feature.feature.group 0.3.0.v201006041600-15-7zCN3HbXIOZQuUeDRRMG) 缺少要求：AJAX Tools Framework Mozilla IDE（孵化）0.3.0.v201006041600-17K-DZRDIXEqJdCQQLF（org.eclipse.atf.mozilla.ide.feature.feature.group 0.3.0.v201006041600-17K-DZRDIXEqJdCQQLF）需要'org.mozilla.xpcom.feature.feature .group 1.8.1' 但找不到 无法满足依赖关系：来自：AJAX Tools Framework Webtools Integration (Incubation) 0.3.0.v201006041600-15-7zCN3HbXIOZQuUeDRRMG (org.eclipse.atf.feature.feature.group 0.3.0 .v201006041600-15-7zCN3HbXIOZQuUeDRRMG）收件人：org.eclipse.atf.mozilla.ide.feature.feature。组 [0.3.0.v201006041600-17K-DZRDIXEqJdCQQLF]v无法完成安装，因为找不到一个或多个必需的项目。正在安装的软件：AJAX Tools Framework Webtools Integration (Incubation) 0.3.0.v201006041600-15-7zCN3HbXIOZQuUeDRRMG (org.eclipse.atf.feature.feature.group 0.3.0.v201006041600-15-7zCN3HbXIOZQuUeDRRMG) 缺少要求：AJAX Tools Framework Mozilla IDE（孵化）0.3.0.v201006041600-17K-DZRDIXEqJdCQQLF（org.eclipse.atf.mozilla.ide.feature.feature.group 0.3.0.v201006041600-17K-DZRDIXEqJdCQQLF）需要'org.mozilla.xpcom.feature.feature .group 1.8.1' 但找不到 无法满足依赖关系：来自：AJAX Tools Framework Webtools Integration (Incubation) 0.3.0.v201006041600-15-7zCN3HbXIOZQuUeDRRMG (org.eclipse.atf.feature.feature.group 0.3.0 .**

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T08:05:56.093

也许您应该首先“安装新软件> [http://beta.zend.com/studio-eclipse/updates-extra/9_0](http://beta.zend.com/studio-eclipse/updates-extra/9_0) ”。（你试一试）

请检查网站（[http://wiki.eclipse.org/ATF/Installing](http://wiki.eclipse.org/ATF/Installing)）...

# c# - 如何通过单击 LinkLabel 开始播放播放列表？

> ID：15242263
> 
> 赞同：0
> 
> 时间：2013-03-06T08:23:37.713
> 
> 标签：c#, axwindowsmediaplayer

`ListBox`我已经从运行时使用的目录中添加了播放列表名称，`LinkLabel`但现在我希望当我单击`LinkLabel`该播放列表时，播放列表应该运行并播放歌曲。

我不知道如何在链接标签中给出播放列表的路径或链接以及如何开始播放。

这是我的代码，`playlistviewbar`是`ListBox`：

```
string[] array1 = Directory.GetFiles(@"C:\Users\LENOVO\Music\Playlists","*.wpl");
int yforlbl =5;
LinkLabel[] lblplayName = new LinkLabel[array1.Length];
for (int i = 0; i < array1.Length; i++)
{
    array1[i] = Path.GetFileName(array1[i]);

    lblplayName[i] = new LinkLabel();
    lblplayName[i].Text = array1[i];

    lblplayName[i].Location = new Point(0,yforlbl);          
    playlistviewbar.Controls.Add(lblplayName[i]);

    yforlbl += 23;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:36:52.323

在`LinkLabel`的`Click`事件处理程序中，您可以执行以下操作：

```
private void LinkLabel_Click(object sender, System.EventArgs e)
{
    LinkLabel label = (LinkLabel)sender;
    string PlayListFile = label.Text;
    Process.Start(PlayListFile);
} 
```

由于`*.wpl`文件与 Windows Media Player 相关联，它应该立即启动。[您可以在 MSDN 上](http://msdn.microsoft.com/en-us/library/system.diagnostics.process.start%28v=vs.110%29.aspx)`Process.Start`找到有关该方法的更多信息。

如果你想`MediaPlayer`在你的应用程序中嵌入控件，那么你可以看看[这篇文章](http://msdn.microsoft.com/en-us/library/windows/desktop/dd562851%28v=vs.85%29.aspx)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-09T14:53:52.833

好的，我在 for 循环中得到它，双击事件是这样的，使用`getbyname`mathod 获取播放列表并将其设置为当前播放列表

```
 lblplayName[i].DoubleClick += (senders, es) =>
           {

               LinkLabel label = (LinkLabel)senders;
               string PlayListFile = label.Text;

               try
               {

                   WMPLib.IWMPPlaylist list = axWindowsMediaPlayer1.playlistCollection.getByName(PlayListFile).Item(0);

                   axWindowsMediaPlayer1.currentPlaylist = list;
               }
               catch
               {
                     //exception handling code
               }
           }; 
```

# model-view-controller - 在 ajax 帖子中发布淘汰赛和其他数据

> ID：15242264
> 
> 赞同：0
> 
> 时间：2013-03-06T08:23:38.967
> 
> 标签：model-view-controller, knockout.js

我需要能够使用 ajax 调用将淘汰视图模型和一些附加数据发布到 MVC 发布方法。

我的代码如下

```
 getResultsModel = function () {
        var ogName = $('#resultsname').val();

        var Ids = [];

        for (var i = 1; i < $('#searchResults >tbody >tr').length; i++) {
            var rowNum = i - 1;

            var id = $('#ParticipantId' + rowNum).html();

            Ids.push(id);
        }
        var resultsModel = {
            'orgGroupName': ogName,
            'Ids': Ids
        };

        return resultsModel;
    };

    $("#savequery").click(function () {

        var model = getResultsModel();

        $.ajax({
            url: "/Participant/SaveQuery",
            type: "POST",
            data: {                    
                'model': JSON.stringify(model),
                'viewModel': ko.mapping.toJSON(viewModel)
            },
            contentType: "application/json; charset=utf-8",
            success: function (result) {
                alert('Query Saved Ok');
            },
            error: function (jqXHR, textStatus, errorThrown) {
                alert("Status: " + textStatus + " Error: " + errorThrown);
            }
        });
    }); 
```

当我尝试发布时，ajax 调用立即返回错误，正确的语法是什么

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T13:30:20.033

设法使用以下方法修复它

```
 $("#savequery").click(function () {

        var model = getResultsModel();

        var resultsModel = {
            'results': model,
            'viewModel':viewModel
        };           

        resultsModel = ko.toJSON(resultsModel);

        $.ajax({
            url: "/Participant/SaveQuery",
            type: "POST",
            data: resultsModel,
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (result) {
                alert('Query Saved Ok');
            },
            error: function (jqXHR, textStatus, errorThrown) {
                alert("Status: " + textStatus + " Error: " + errorThrown);
            }
        });
    }); 
```

# java - 使用 ref 游标调用 Oracle DB 函数作为 Java 程序的输入

> ID：15242267
> 
> 赞同：0
> 
> 时间：2013-03-06T08:23:48.730
> 
> 标签：java, database, function, input, cursor

我第一次面临这个技术挑战。在发布此问题之前，我已经研究了 3 天，但尚未找到任何解决方案。

我的问题是“从 Java 程序调用 Oracle DB 函数（将引用游标作为输入参数）”。在我的研究中，我发现了许多从 DB 函数/存储过程中读取返回的引用光标的示例 Java 代码，但我没有找到任何示例代码来将引用光标输入到 DB 函数。

下面是我的数据库功能

```
FUNCTION CheckFileStatus (pUserId     NUMBER, pFileList     FileList) RETURN FilesStatus

  CURSOR curFileList IS
    SELECT file_path, file_name
      FROM file_in_transfer
      WHERE file_in_transfer_id = -1;

TYPE FileList IS REF CURSOR RETURN curFileList%ROWTYPE; 
```

有人可以发布一些示例 Java 代码来调用上述 DB 函数吗？

谢谢， 斯里尼瓦斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:03:22.140

You can use [`OracleCallableStatement`](http://docs.oracle.com/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleCallableStatement.html) and pass the [`REF`](http://docs.oracle.com/cd/E11882_01/appdev.112/e13995/oracle/sql/REF.html) type on the [`setREF(....)`](http://docs.oracle.com/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleCallableStatement.html#setREF_java_lang_String__oracle_sql_REF_) method..

The downside to this is you're tying yourself to only Oracle JDBC library.

For independent library, use [`CallableStatement`](http://docs.oracle.com/javase/6/docs/api/java/sql/CallableStatement.html), passing the [`Ref`](http://docs.oracle.com/javase/6/docs/api/java/sql/Ref.html) type on the [`setRef(....)`](http://docs.oracle.com/javase/6/docs/api/java/sql/PreparedStatement.html#setRef%28int,%20java.sql.Ref%29) method.

# c# - 用于搜索和查找的本机界面

> ID：15242268
> 
> 赞同：0
> 
> 时间：2013-03-06T08:23:59.940
> 
> 标签：c#, wpf, search, full-text-search, find

是否存在用于搜索`ISearch`或之类的接口`IFind`？

我刚刚找到了一些自制的界面，但我很确定必须有一个默认界面。我真的必须编写自己的界面吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:55:34.470

这是你想要的？

*   [Windows 搜索开发人员指南](http://msdn.microsoft.com/en-us/library/ee872109%28v=vs.85%29.aspx)

在那里，您还可以找到SDK 下载和代码示例的*链接。*

当然，Windows 搜索包括与查询相关的接口：[查询接口](http://msdn.microsoft.com/en-us/library/ee872064%28v=vs.85%29.aspx)

# cocos2d-iphone - 无法通过单例访问数组

> ID：15242272
> 
> 赞同：0
> 
> 时间：2013-03-06T08:24:14.520
> 
> 标签：cocos2d-iphone, singleton

我需要将一个数组从 InGameLayer 传递给 AppDelegate，所以这就是我所做的

在 InGameLayer.h

```
@interface InGameLayer : CCLayer
@property (nonatomic, strong) CCArray *heroArray;
+(InGameLayer *)sharedInGameLayer; 
```

在 InGameLayer.m

```
static InGameLayer* sharedInGameLayer;
+(InGameLayer*)sharedInGameLayer
{
    if (sharedInGameLayer == nil)
    {
        sharedInGameLayer = [[self alloc] init];
    }
    return sharedInGameLayer;
}

//add Object if the button is tapped
- (void)PlayerButton1Tapped:(id)sender
{
    CCSprite *hero =[CCSprite spriteWithFile:@"hero.png"];
    [_heroArray addObject:hero];
} 
```

在 AppDelegate.m

```
-(void) applicationDidEnterBackground:(UIApplication*)application
{
    CCArray *heroArray = [InGameLayer sharedInGameLayer].heroArray;
    CCLOG(@"array = %d", heroArray.count);
} 
```

问题是array = 0，无论我向 heroArray 添加了多少对象。请帮我解决这个问题。提前感谢您的宝贵时间。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:12:28.837

你永远不会创建你的数组。您的属性声明会自动合成一个实例变量`CCArray *_heroArray`并为其访问方法。所有实例变量在对象创建时都用零初始化，并且由于您从不在实例变量中存储指向实际 CCArray 对象的指针，因此它保持为`nil`.

在`init`你的班级方法中，你应该做

```
_heroArray = [[CCArray alloc] init]; 
```

# javascript - 获取复选框的当前选中值

> ID：15242275
> 
> 赞同：0
> 
> 时间：2013-03-06T08:24:23.907
> 
> 标签：javascript

在显示中，我已经有一个选中的复选框。

我想要最近检查的值，但下面的代码返回所有复选框值，包括已经检查的值。

我想获得新检查的值提前谢谢

代码 ：

```
function updatePermissions(data){ //function

    var chkdValue = null;

    var permissions = data.split(";");
    var htmlData = document.getElementsByName("permission");//name of checkboxes
    for(var k=0;k<htmlData.length;k++){
        if(htmlData[k].checked==true){
            var chkdids = htmlData[k].value;
            alert(chkdids);
        }

    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:02:41.690

You can use the code similar to following example. Here I am using a hash table to record the changes to the check box. Only when the check box set the hash table gets set. when you click submit I am fetches all the values from hash table and displaying them in a alert. You can directly copy paste this code to your IDE and test. You will understand better

```
<html>
<head>
<script>
        var flag={};
        function set(obj)
        {
            if(document.getElementById(obj.id).checked)
            flag[obj.id]=obj.id;
        }

        function checknew()
        {

            for (key in flag) {
                alert(flag[key]);
            }
            for (key in flag) {
                delete flag[key];
            }

        }
        </script>
  </head>
  <body>
    <input type="checkbox" id="first" onclick="set(this)"/>
    <input type="checkbox" id="second" checked="checked" onclick="set(this)"/>
    <input type="button" value="submit" onclick="checknew()"/>

  </body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:12:54.567

你只需要测试盒子的[defaultChecked](https://developer.mozilla.org/en-US/docs/DOM/HTMLInputElement)属性

```
if(htmlData[k].checked && !htmlData[k].defaultChecked){
  var chkdids = htmlData[k].value;
  alert(chkdids);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T08:56:34.303

需要更好地了解您的代码，但您可以做的是`eventListener`为每个复选框添加一个，这样当它更改时，它将将该复选框的值推送到一个数组中。这真的取决于你如何定义“最近”......这是否意味着在同一个会话期间？或者也许在x时间之后？也许你可以做一个`setTimeout`并在一段时间后清除数组？

```
var checkedArray = [];
var permissions = data.split(";");
$('input[name=permission]').change(function() {
  if (this.checked) {
    checkedArray.push(this.value);
  } 
}
//checkedArray should populate with values of checkbox

setTimeout(function() { checkedArray = []; }, 10000); 
//after 10 seconds it will clear checkedArray 
```

仅供参考，不确定此代码是否真的有效。只是一个想法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T09:00:57.527

像这样的东西......我想。我得到的印象是你想要它们发生时的价值。所以，我把 eventListerns 放在复选框上。当它们被点击时...提醒值。当然，您可以为数组设置一个全局 obj，然后将它们推入其中以供以后处理……等等，但想法是动态捕获值。在回调中，您可以进行“检查”测试。

```
var checkBxs = document.getElementsByName("permission");
  for(var i = 0; i < checkBxs.length; i++){
    checkBxs[i].addEventListener("click", function(){console.log(this.value)}, false);
  } 
```

使用本机 JavaScript。你没有规定jQuery。

# jquery - jQuery 没有将 css 设置为直接在 IE 的页面加载上隐藏 div

> ID：15242276
> 
> 赞同：1
> 
> 时间：2013-03-06T08:24:24.290
> 
> 标签：jquery, css

在页面之间切换时，我想显示和隐藏带有 jQ​​uery 动画的菜单。在 Firefox 中查看时一切正常，但 IE 会在导航 div 被 jQuery 隐藏之前闪烁。 [这是测试页](http://www.vuyk.eu/testsite/test1/testpage1.html)

现在尝试使用 IE 在页面之间导航并观察右侧菜单的闪烁。其他一些背景图像也在闪烁。我最初可以用 CSS 隐藏它，但这对于那些关闭了 Javascript 的人来说并不友好。

这可以通过某种方式解决吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:56:56.360

我遇到过类似的情况。我保留了 jQuery 代码原样，但是，我使用 IE 特定代码修改了 CSS 以将动画对象设置为`display : none;`加载。您可以尝试类似于以下代码的内容：

```
nav {
     display : none\9; /* IE8 and below */  
    *display : none;   /* IE7 and below */  
    _display : none;   /* IE6 */
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:39:04.190

```
<head>
    <script>
        document.write("<style>.contentToHide {display:none}</style>");
    </script>
    <!-- rest of your styles, javascript, ... -->
</head>
<body>
    <div class="contentToHide">This will be hidden on page load - but only if JavaScript is enabled</div>
</body> 
```

# sql - 具有唯一行的 SQL 查询结果

> ID：15242277
> 
> 赞同：0
> 
> 时间：2013-03-06T08:24:24.610
> 
> 标签：sql

这是我的表格代码：

```
create table Names(id int, Fname varchar(40), Lname varchar(40));
insert into Names values(1, 'Zuma', 'Zytaveon');
insert into Names values(2, 'Sara', 'Luqman');
insert into Names values(3, 'Zuma', 'Zytaveon');
insert into Names values(4, 'Rafe', 'Raphael'); 
```

如果我运行查询

```
SELECT DISTINCT from Names 
WHERE Fname = 'Zuma' 
    AND Lname = 'Zytaveon'; 
```

我得到以下输出。

```
1|Zuma|Zytaveon
3|Zuma|Zytaveon 
```

我希望 Zuma Zytaveon 在我的查询结果中只出现一次，那么我怎样才能得到它。谢谢你的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T08:25:43.297

```
SELECT  DISTINCT FName, LName
from    Names 
WHERE   Fname = 'Zuma' AND Lname = 'Zytaveon'; 
```

如果您想拥有最低的 ID，请使用`MIN`

```
SELECT  MIN(ID) ID, FName, LName
from    Names 
WHERE   Fname = 'Zuma' AND Lname = 'Zytaveon'
GROUP   BY FName, LName 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:38:20.967

从多个元素的结果集中选择一个元素有多种可能性：

*   使用 DISTINCT 关键字消除结果集中的重复项。这是通过第一次排序完成的，因此需要 O(N * Log N ) 时间（如果没有可用于排序的索引）。
*   使用聚合函数，例如 MIN 或 MAX，需要 O(N) 时间来读取整个结果集。
*   使用 TOP 1 构造在 O(1) 时间内返回第一个定位的行。

根据问题的其他业务需求选择其中之一。

# mysql - 将 SQL 转换为 JPQL（SELECT NEW 和“AS”关键字）

> ID：15242281
> 
> 赞同：1
> 
> 时间：2013-03-06T08:24:41.473
> 
> 标签：mysql, sql, jakarta-ee, jpql

我是 JPQL 的新手，但我需要将一个简单的 SQL 请求翻译成 JPQL：SQL：

```
SELECT 
  *, 
  t.column1 + t.column2 as coefficient 
FROM 
  practice.People as t
ORDER BY coefficient 
```

我不能使用该本机查询，因为我不知道如何将其映射到类:( 我尝试使用此 JPQL 查询：

```
 SELECT NEW entities.PersonWell(c.peopleId, c.name, c.age, c.height, c.weight, 1)
  FROM 
    People AS c
  ORDER BY c.age; 
```

如何在此请求中将“1”更改为系数？我想象的唯一解决方案就是使用：

```
SELECT NEW entities.PersonWell(c.peopleId, c.name, c.age, c.height, c.weight, c.age + c.height)
FROM 
  People AS c
ORDER BY c.age + c.height; 
```

但我认为这不是正确的解决方案:(我该怎么办？

## 脆弱的，谢谢你的回答！

但它仍然不起作用:(这是将您的答案应用于我的代码的结果：

```
public List<PersonWell> findWell(People person){
    String queryString = 
            "SELECT\n"
            + "NEW entities.PersonWell(c.peopleId, c.name, c.age, c.height, c.weight, c.speechspeed, "
            + "ABS(c.age - :age) + ABS(c.height - :height) + ABS(c.weight - :weight) + ABS(c.speechspeed - :speechspeed)) AS p \n" 
           +"FROM "
            + "People AS c\n"
           +"ORDER BY p.compatibility DESC";
    Query query = em.createQuery(queryString);
    query.setParameter("age", person.getAge());
    query.setParameter("height", person.getHeight());
    query.setParameter("weight", person.getWeight());
    query.setParameter("speechspeed", person.getSpeechspeed());
    List<PersonWell> resultList = query.getResultList();
    return resultList;
} 
```

Ans 这是来自 glassfish 服务器的答案：

```
java.lang.IllegalArgumentException: An exception occurred while creating a query in EntityManager: 
Exception Description: Error compiling the query [SELECT
NEW entities.PersonWell(c.peopleId, c.name, c.age, c.height, c.weight, c.speechspeed, ABS(c.age - :age) + ABS(c.height - :height) + ABS(c.weight - :weight) + ABS(c.speechspeed - :speechspeed)) AS p 
FROM People AS c
ORDER BY p.compatibility DESC], line 4, column 9: invalid navigation expression [p.compatibility], cannot navigate expression [p] of type [entities.PersonWell] inside a query. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:38:30.780

像这样的东西对你不起作用？

```
SELECT NEW entities.PersonWell(c.peopleId, c.name, c.age, c.height, c.weight, c.age + c.height) AS p
FROM 
  People AS c
ORDER BY p.coefficient; 
```

使用构造函数`p.coefficient`将值 放在哪里的字段在哪里。`c.age + c.height``PersonWell`

# java - Java 三元（内联）运算符：访问比较变量

> ID：15242282
> 
> 赞同：0
> 
> 时间：2013-03-06T08:24:44.587
> 
> 标签：java, variables, conditional-operator

在 Java 中，我有如下表达式：

```
return (a.getValue() > b.getValue()) ? a.getValue() : b.getValue(); 
```

当我大约 13 岁时，我曾经使用 MSL（mIRC Scriptint 语言）进行编码。该语言具有以下三元运算符：

```
return iif($valueOfA > $valueOfB, $v1, $v2); 
```

其中 $v1 和 $v2 代表 $valueOfA 和 $valueOfB。

我不喜欢我必须调用`a.getValue()`and`b.getValue()`两次，这也很丑陋（并且打破了**内联运**算符的观点）：

```
valA = a.getValue();
valB = b.getValue();
return (valA > valB ? valA : valB); 
```

所以我正在寻找这样的东西：

```
return (a.getValue() > b.getValue) ? [param1] : [param2]; 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T08:30:44.433

就像是 ：

```
return ((a.getValue() > b.getValue()) ? a : b)).getValue(); 
```

可能已经有帮助了。您还可以在 A & B 类中实现一些方法来直接比较“A”和“B”，以便能够编写如下内容：

```
return ((a.greaterThan(b)) ? a : b).getValue(); // no operator overload in Java 
```

此外，如果您使用对象，则返回 a 或 b（而不是它们的“值”）可能是一个更好的主意。

这当然取决于您对“a”和“b”所做的类和用法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T08:29:46.680

> 所以我正在寻找这样的东西： return (a.getValue() > b.getValue) ？[参数1]：[参数2]；

Java 语言有明确的定义。寻找不存在的功能是徒劳的。或者让事情变得简单“不”。

作为评论，这是：

```
iif($valueOfA > $valueOfB, $v1, $v2); 
```

不是**运算符**。它可以是宏、函数、方法，但不能是运算符。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T08:57:07.170

这样做怎么样？

```
int x, y;
int result =((x = a.getValue()) > (y = b.getValue())? x: y); 
```

上面的例子：

1.  创建两个整数变量（或您喜欢的任何类型）。
2.  在三元运算中，将 a.getValue() 分配给 x，将 b.getValue() 分配给 y。
3.  执行测试并根据条件返回变量。

# c# - 编译错误 CS0305 使用泛型类型 List

> ID：15242283
> 
> 赞同：2
> 
> 时间：2013-03-06T08:24:47.140
> 
> 标签：c#, sql-server, clr, csc, mscorlib

虽然我`csc /t:library strconcat.cs`得到`using System.Collections.Generic;`一个错误

```
strconcat.cs(9,17): error CS0305: Using the generic type
        'System.Collections.Generic.List<T>' requires '1' type arguments
mscorlib.dll: (Location of symbol related to previous error) 
```

.cs 代码取自[这里](https://www.simple-talk.com/sql/t-sql-programming/concatenating-row-values-in-transact-sql/#_Toc205129487)：使用公共语言运行时。
我检查了 msdn 上的[描述](http://msdn.microsoft.com/en-us/library/ms379563%28VS.80%29.aspx)，但现在无法编译

```
using System;
using System.Collections.Generic;
using System.Data.SqlTypes;
using System.IO;
using Microsoft.SqlServer.Server;
[Serializable]
[SqlUserDefinedAggregate(Format.UserDefined,  MaxByteSize=8000)]
public struct strconcat : IBinarySerialize{
        private List values;
        public void Init()    {
            this.values = new List();
        }
        public void Accumulate(SqlString value)    {
            this.values.Add(value.Value);
        }
        public void Merge(strconcat value)    {
            this.values.AddRange(value.values.ToArray());
        }
        public SqlString Terminate()    {
            return new SqlString(string.Join(", ", this.values.ToArray()));
        }
        public void Read(BinaryReader r)    {
            int itemCount = r.ReadInt32();
            this.values = new List(itemCount);
            for (int i = 0; i <= itemCount - 1; i++)    {
                this.values.Add(r.ReadString());
            }
        }
        public void Write(BinaryWriter w)    {
            w.Write(this.values.Count);
            foreach (string s in this.values)      {
                w.Write(s);
            }
        }
} 
```

我正在运行 Windows 7 x64`c:\Windows\Microsoft.NET\Framework\v2.0.50727`以及`c:\Windows\Microsoft.NET\Framework64\v2.0.50727>`
如何编译？抱歉，我只是从 c# 开始-我在 SO 上搜索了其他一些问题，这些建议对我没有任何进展（

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:29:44.990

[与CS0305](http://msdn.microsoft.com/en-us/library/yshhtt9e%28v=VS.90%29.aspx)对应的文章中解释了错误- 类型参数的数量不匹配。

在您的情况下，您需要`new List()`使用零类型参数进行调用，例如：`new List<string>()`和相应的字段定义`private List<string> values;`。

注意：如果您出于某种奇怪的原因想要非泛型版本，则对应的类名为`ArrayList`，但泛型`List<T>`使用起来更容易、更安全。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T08:30:27.730

问题如前所述，您尚未指定要存储在列表中的类型。将此部分更改如下

```
private List<string> values;

public void Init()
{
    this.values = new List<string>();
} 
```

C# 中的泛型类型需要指定它们使用的类型来代替`<T>`.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T08:30:35.797

System.Collections.Generic.List 需要一个类型参数，在这种情况下它似乎是 SqlString，因此将代码的以下部分更改如下：

```
 private List<SqlString> values;

        public void Init()    {
            this.values = new List<SqlString>();
        } 
```

# c++ - c++全局/堆栈实例ctor/dtor在调用静态函数时崩溃

> ID：15242290
> 
> 赞同：2
> 
> 时间：2013-03-06T08:25:13.610
> 
> 标签：c++, static-members

我在 main 的同一个文件中定义了一个类，在 2 个单独的文件中定义了另一个类（充满静态函数/成员），它崩溃了。我想这可能与全局/静态实例的生命周期有关。似乎在ctor中，静态成员尚未初始化，并且可能会在退出时，在第一个实例被破坏之前释放静态成员。这是测试代码：

```
 //testh.h
    #include <map>
    class Sc {
    public:
        static void insert();
        static void out();

    private:
        static std::map<int, int> map_;
    };

    //testcpp.cpp
    #include "testh.h"
    #include <iostream>
    std::map<int, int> Sc::map_;

    void Sc::insert() {
        map_.insert(std::make_pair(2,3));
    }

    void Sc::out() {
        for(auto m : map_) {
            std::cout << m.first << ' ' << m.second << '\n';
        }
    }

    //main.cpp
    #include "testh.h"
    class Nc {
    public:
        Nc() {
            Sc::insert();
            Sc::out();
        }
        ~Nc() {
            Sc::insert();
            Sc::out();
        }
    };

    Nc nc;
    int main() {

        system("pause");
        return 0;
    } 
```

以下是上述代码的一些奇怪行为：

如果我将 staic 成员替换为 int，它不会崩溃，所以我想 std::map 可能有问题？

如果我将所有代码放入 main.cpp，它不会崩溃，但是这些代码不会生成相同的代码吗？

如果我不想进行动态分配（新），如何解决这个问题？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-06T08:34:04.287

问题是您不知道全局变量的构造顺序：

这

```
// test.cpp
std::map<int, int> Sc::map_; 
```

还有这个

```
//main.cpp
Nc nc; 
```

因为它们在不同的编译单元中，所以标准不保证它们将被创建的顺序。因此，如果`nc`首先创建它们，那么任何使用尝试`Sc::map_`都会失败（并且`nc`确实通过它对静态的调用来使用它）。

当您将全局变量放入一个文件时：

```
//main.cpp
std::map<int, int> Sc::map_;
Nc nc; 
```

然后保证订单。这是声明的顺序。所以只要你把`Sc::map_`它放在第一位，那么一切都会奏效。

有一个简单的技术可以解决这个问题::

替换这个：

```
private:
    static std::map<int, int> map_;
}; 
```

和：

```
private:
    static std::map<int, int>& getMap()
    {
        static std::map<int, int> instance;
        return instance;
    }
}; 
```

But the real problem is that you are using global mutable state (global variables). Try not to use them at all. It tightly binds your code to the globl state. You should be passing state to methods with parameters or via objects that know how to retrieve the state.

# c++ - 测试某事物是否是对其他事物的引用

> ID：15242294
> 
> 赞同：3
> 
> 时间：2013-03-06T08:25:29.703
> 
> 标签：c++, boost, c++98

假设我有：

```
 std::vector<Foo> v1;
  std::vector<Foo> v2;
  std::vector<Foo>& rV = v1; 
```

我怎样才能做这样的测试：

```
 TEST_EQ(v1, rV);
  TEST_NOT_EQ(v2, rV); 
```

我想这对于那些对代码进行单元测试的人来说是一个常见问题。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-06T08:29:49.803

您可以通过比较它们的地址来检测两个对象是否相同。

```
if (&v1 == &rV) 
```

只有当它们引用相同的向量时才会为真。

（当然假设您没有重载地址运算符:-)

# excel - 用于 excel 2010 的宏以自动化名称管理器

> ID：15242301
> 
> 赞同：0
> 
> 时间：2013-03-06T08:26:01.520
> 
> 标签：excel, vba

我的要求是创建一个`macro`，其中将使用（功能区>公式>名称管理器）`excel 2010`自动为等距单元格分配或创建名称。`Name Manager`

```
For e.g. Cell A1 to be named as Name_1, Cell A11 to be named as Name_2, Cell A21 to be named as Name_3 and so on. 
```

希望这是有道理的，否则要求澄清。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T20:00:39.643

彼得，您的干练指导帮助我取得了成功（也得到了 Siddharth Rout 的帮助！）:) 谢谢！请在我的代码下面找到 -

```
Private Sub CommandButton1_Click()

'Define the variables
Dim vRangeDefined, vRowCount, vRowIndex, vColIndex, vCounter, vCellValue As String, vNameValue As String

'Define the range where the values are entered
vRangeDefined = ActiveSheet.Range("A:B").Value
vRowCount = ActiveSheet.UsedRange.Rows.Count

For vCounter = 2 To vRowCount
    vCellValue = vRangeDefined(vCounter, 1)
    vNameValue = vRangeDefined(vCounter, 2)
    'Divide the Cell Value in two parts
    vRowIndex = Left(vCellValue, 1)
    vColIndex = Right(vCellValue, Len(vCellValue) - 1)
    'MsgBox vRowIndex & "-" & vColIndex

   'Assign the names to cells as per the range
    ActiveWorkbook.Names.Add _
        Name:=vNameValue, _
        RefersTo:="='Sheet1'!$" & vRowIndex & "$" & vColIndex

Next

MsgBox "Process complete..."

End Sub 
```

# php - 如何在php中检查文件xml的编码？

> ID：15242303
> 
> 赞同：0
> 
> 时间：2013-03-06T08:26:11.973
> 
> 标签：php

我想检查文件 xml 的编码是 UTF-8。如何在 php 中检查此文件 xml 的编码？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:28:46.377

您可以尝试：

```
mb_check_encoding(file_get_contents("file.xml"), 'UTF-8'); 
```

# java - 使用 hsqldb 和 java 连接到远程 CSV

> ID：15242305
> 
> 赞同：0
> 
> 时间：2013-03-06T08:26:16.010
> 
> 标签：java, hsqldb

我想使用 hsqldb 连接到远程 CSV 并将其转换为 TEXT 表。谁能指导我需要遵循的步骤？我的代码：

```
String url1 = "jdbc:hsqldb:file:197.161.16.16//data10//projects//2//hsqldb";
long currMilli = System.currentTimeMillis();
String tableName = "MRx" + currMilli;
final StringBuilder createTable = new StringBuilder();
final StringBuilder setDatabase = new StringBuilder();
setDatabase.append("SET DATABASE SQL SYNTAX ORA TRUE ");
createTable.append("CREATE TEXT TABLE" + " " + tableName);
createTable.append(columnNames);
final StringBuilder linkTable = new StringBuilder();
linkTable.append("SET TABLE" + " " + tableName + " SOURCE ");
linkTable.append("\"/" + "some.csv");
linkTable.append(";ignore_first=true;all_quoted=true;shutdown=true\"");
try {
    conn = DriverManager.getConnection(url1, "sa", "");
    stm = conn.createStatement();
    stm.execute(createTable.toString());
    stm.execute(linkTable.toString());
    countResult = stm.executeQuery("Select count(*) from " + tableName);
    int totalCount = 0;
    while (countResult.next()) {
        totalCount = countResult.getInt(1);
    }
....................... // more code ............... 
```

即使 CSV 有数据，该`select`语句也不返回任何内容。而如果我将相同的 CSV 复制到本地系统，并连接到它并读取它，我可以获取数据吗？谁能给我任何提示我哪里出错了！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T21:38:01.233

这是 CSV 文件的路径问题。通常，HSQLDB 将路径视为相对于数据库文件。如果 some.csv 文件与数据库文件位于同一文件夹中，它应该可以工作。

注意`;shutdown=true`不属于文本表属性文件。您可以将其附加到 UR

# php - Mysql LEFT JOIN：限制父表

> ID：15242310
> 
> 赞同：3
> 
> 时间：2013-03-06T08:26:31.880
> 
> 标签：php, mysql, sql, join

我正在尝试从数据库中获取结果，但将结果限制在右侧

```
SELECT posts.text, comments.text 
FROM posts 
LEFT JOIN comments ON comments.postid= post.id 
Limit 0,5 
```

如果有 5 条评论，上面将返回第一篇文章的 5 条评论。但是我想返回所有评论，但在 5 个帖子后停止查询。我该怎么做？

* * *

抱歉，我的问题一开始有点不清楚，因为我写错了 LEFT JOIN..

这是我的问题的解决方案：

```
SELECT posts.text, comments.text 
FROM ( SELECT * FROM posts Limit 0,5 ) 
LEFT JOIN comments ON comments.postid= post.id 
```

另一个问题。我只将posts.text 指定为选择列，但现在所有列都会返回为“*”包含在子查询中吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-06T08:29:12.090

如果这是您想要的，请使用子查询仅获取 5 个父母。

```
SELECT  p.text PostText,
        c.text CommentText
FROM
        (
            SELECT  id, text
            FROM    posts
            LIMIT   5
        ) p
        LEFT JOIN comments c
            ON c.postId  = p.id; 
```

# javascript - 使用javascript删除动态创建的组合框选项

> ID：15242312
> 
> 赞同：1
> 
> 时间：2013-03-06T08:26:47.883
> 
> 标签：javascript, combobox, buttonclick

*   单击**创建**按钮时，正在动态创建组合框选项。
*   我的需要是，单击**删除**按钮时，我必须删除动态创建的选项。

组合框代码：

```
<select id="connectionname" class="connectionname" onchange="display();" style="width:150px; height:23px;">
     <option>---Select---</option>
</select> 
```

javascript动态创建/添加选项：

```
var NAME =dijit.byId("conname").getValue();
    var newValue = document.getElementById("connectionname").appendChild(document.createElement('option'));
    newValue.text = NAME;
    document.getElementById("connectionname").value = newValue.text; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T08:33:25.033

```
var NAME =dijit.byId("conname").getValue();
var select=document.getElementById('connectionname');

for (i=0;i<select.length;  i++) {
   if (select.options[i].text==NAME) {
     select.remove(i);
   }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T08:32:13.253

您可以使用 removeChild 方法删除动态添加的孩子

```
var elem =  document.getElementById("connectionname");
elem.removeChild(elem.childNodes[i]); // where i is index of child added last 
```

# iphone - 在 imageview 上设置之前更改 UIimage 的大小

> ID：15242317
> 
> 赞同：1
> 
> 时间：2013-03-06T08:27:03.463
> 
> 标签：iphone

有一个尺寸为 504x320 且图像尺寸为 1080x1920 的图像视图，它比图像视图大，我想在不改变图像质量和内容的情况下更改此图像的大小与图像视图相同。我正在使用这种方法并且效果很好，但是这种方法有点裁剪到实际图像

```
 - (UIImage*)imageByScalingAndCroppingForSize:(CGSize)targetSize image:(UIImage*)image
{
    UIImage *sourceImage = image;
    UIImage *newImage = nil;
    CGSize imageSize = sourceImage.size;
    CGFloat width = imageSize.width;
    CGFloat height = imageSize.height;
    CGFloat targetWidth = targetSize.width;
    CGFloat targetHeight = targetSize.height;
    CGFloat scaleFactor = 0.0;
    CGFloat scaledWidth = targetWidth;
    CGFloat scaledHeight = targetHeight;
    CGPoint thumbnailPoint = CGPointMake(0.0,0.0);

    if (CGSizeEqualToSize(imageSize, targetSize) == NO)
    {
        CGFloat widthFactor = targetWidth / width;
        CGFloat heightFactor = targetHeight / height;

        if (widthFactor > heightFactor)
            scaleFactor = widthFactor; // scale to fit height
        else
            scaleFactor = heightFactor; // scale to fit width
        scaledWidth = width * scaleFactor;
        scaledHeight = height * scaleFactor;

        // center the image
        if (widthFactor > heightFactor)
        {
            thumbnailPoint.y = (targetHeight - scaledHeight) * 0.5;
        }
        else
            if (widthFactor < heightFactor)
            {
                thumbnailPoint.x = (targetWidth - scaledWidth) * 0.5;
            }
    }

    UIGraphicsBeginImageContext(targetSize); // this will crop

    CGRect thumbnailRect = CGRectZero;
    thumbnailRect.origin = thumbnailPoint;
    thumbnailRect.size.width = scaledWidth;
    thumbnailRect.size.height = scaledHeight;

    [sourceImage drawInRect:thumbnailRect];

    newImage = UIGraphicsGetImageFromCurrentImageContext();
    if(newImage == nil) 
        NSLog(@"could not scale image");

    //pop the context to get back to the default
    UIGraphicsEndImageContext();
    return newImage;
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T08:35:36.113

尝试通过以下方法在调整大小的帮助下加载图像。

```
- (UIImage *)editImage:(UIImage *)_image screenWidth:(CGFloat)_width {

CGSize imageSize = CGSizeMake(_width, _width);

if (isRetinaDisplay])
    UIGraphicsBeginImageContextWithOptions(imageSize, NO, 2.0);
else
    UIGraphicsBeginImageContext(imageSize);

CGContextRef context = UIGraphicsGetCurrentContext();

CGContextSetFillColorWithColor(context, [UIColor whiteColor].CGColor);
CGContextFillRect(context, CGRectMake(0.0, 0.0, _width, _width));

CGRect imageRect = CGRectMake((_width-_image.size.width)/2, (_width-_image.size.height)/2, _image.size.width, _image.size.height);

[_image drawInRect:imageRect];

UIImage * resizedImage = UIGraphicsGetImageFromCurrentImageContext();

UIGraphicsEndImageContext();

return resizedImage;
} 
```

PS：不需要传递图像的高度。根据方面拟合，它将在内部计算。

此致。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T08:29:05.047

看看 UIImageView 的内容视图模式，我认为 Aspect Fit 是你想要的

投票后编辑

```
 [_img_view setContentMode:UIViewContentModeScaleAspectFit] 
```

或者

```
 [_img_view setContentMode:UIViewContentModeScaleAspectFill] 
```

前者可能在顶部/底部或左侧/右侧有空格以保持纵横比后者将没有空格但可能会遮挡图像的顶部/底部或左侧/右侧

不要担心创建另一个图像，只需使用`contentMode`属性并像往常一样设置图像（即`[_img_view setImage:img];`）

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T08:47:49.780

这就是@EdgeAkpinar 的意思，应该和你的方法一样，只是更短。

```
UIImageView *imageView      = [[[UIImageView alloc] initWithImage:[UIImage imageNamed:@"yourImage.png"]] autorelease];
imageView.contentMode       = UIViewContentModeScaleAspectFit;
imageView.frame             = CGRectMake(0, 0, 504, 320); 
```

您不需要对图像本身进行任何更改。

# ios - 第二个目标的代码签名临时发布问题

> ID：15242322
> 
> 赞同：2
> 
> 时间：2013-03-06T08:27:21.290
> 
> 标签：ios, objective-c, xcode, ad-hoc-distribution

我有一个有两个目标的项目。我只是无法对较新的目标进行代码签名。我打算制作一个临时版本。即使我在任何地方都放了正确的配置文件，xcode 仍会继续查看旧目标的配置。这是我得到的错误：

“配置文件‘some-name’指定了与当前设置‘identifier2’不匹配的应用程序标识符‘identifier1’”

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:01:54.157

I had a similar issue last night. (Seems to be a bug with X-code when there has been more than one bundle identifier with the same app?)

I "solved" it by setting code signing identity in `Build Settings` to `Don't Code Sign` for all targets, quitting X-code then restarting and re-assigning the targets you want:

![enter image description here](../Images/8a120e6093165214f52cf008f30c0eb4.png)

After re-assigning, it seemed to pick up the correct provisioning profile.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:18:59.353

问题隐藏在“编辑方案”中。“存档”部分不是在 Ad-hoc 上设置的，而是在 Release 上设置的。所以我把它放在 Ad-hoc 上。现在它起作用了。

# winapi - 如何将图像插入 Richedit（Windows api）

> ID：15242327
> 
> 赞同：1
> 
> 时间：2013-03-06T08:27:37.470
> 
> 标签：winapi, richedit

如何将图像插入 RichEdit？我正在使用`Msftedit.dll`and `Richedit.h`。我用谷歌搜索，但找不到解决问题的好方法。你能帮助我吗 ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-20T01:55:45.817

查看 ITextRange2::InsertImage ( [http://msdn.microsoft.com/en-us/library/windows/desktop/Hh768649(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/Hh768649(v=vs.85).aspx) )。它也写在[http://blogs.msdn.com/b/murrays/archive/2012/05/25/richedit-8-0-image-support.aspx](http://blogs.msdn.com/b/murrays/archive/2012/05/25/richedit-8-0-image-support.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-19T11:09:14.337

这涉及跳过一些与 COM 相关的问题：您需要创建一个 IOleObject COM 对象来表示图片，该对象必须由表示实际图片数据的 IStorage COM 对象支持，然后可以将其插入到 RichEdit 对象中。

[Microsoft 知识库文章 #220844](http://support.microsoft.com/kb/220844)中详细介绍了这一切。在我参与编写的一个更大的系统中还有一个这种技术的例子[：](https://github.com/DavidKinder/Windows-Inform7/blob/master/Inform7/GameText.cpp)从函数 GameText::Draw() 开始。

# iphone - UIImagePNGRepresentation(UIImage) 抛出 libpng 错误：没有将 IDAT 写入文件

> ID：15242334
> 
> 赞同：2
> 
> 时间：2013-03-06T08:28:13.990
> 
> 标签：iphone, objective-c, uiimage, nsdata, uiimagepngrepresentation

我正在创建一个应用程序，我在其中保存浏览器中的缩略图。一切正常，直到我倾向于将包含此文件的目录移动到另一个目录中。它给出了这个错误：

> ImageIO：CGImageRead_mapData“打开”失败“/Users/anuj/Library/Application Support/iPhone Simulator/6.1/Applications/8CD8EB07-6D62-4284-B425-087E821098BC/Library/Caches/PausedVideos/Old School vs. New School/Thumbnail”错误 = 2 (没有这样的文件或目录) ImageIO: CGImageRead_mapData 'open' failed '/Users/anuj/Library/Application Support/iPhone Simulator/6.1/Applications/8CD8EB07-6D62-4284-B425-087E821098BC/Library/Caches/PausedVideos /Old School vs. New School/Thumbnail' 错误 = 2（没有这样的文件或目录）libpng 错误：没有将 IDAT 写入文件

这是我正在使用的代码：

```
NSData *data = [NSData dataWithData:UIImagePNGRepresentation(video.Thumbnail)];
Thumbnail = [[UIImage imageWithData:data] retain]; 
```

我也提到了[这里](https://stackoverflow.com/questions/10652289/imageio-cgimageread-mapdata-open-failed-error-2-on-app-start)的链接，但这并没有改变任何东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:46:21.180

```
NSData *data = [NSData dataWithData:UIImagePNGRepresentation(imageview.image)]
UIImage *img=[UIImage imageWithData:data];
[yourImageView setImage:img]; 
```

# c# - 获取控件内的控件

> ID：15242337
> 
> 赞同：1
> 
> 时间：2013-03-06T08:28:33.553
> 
> 标签：c#, xaml, windows-8, winrt-xaml

我正在开发一个 WinRT 应用程序，并且知道我想要做什么。我想在单击时在列表的元素内显示一个列表。因此，当我单击第一个列表中的一个项目时，该项目内的一个列表将展开。

```
<ListView x:Name="SectionListView" SelectionChanged="ListSelectionChanged">
    <ListView.ItemTemplate>
        <DataTemplate>
            <Grid>
                <StackPanel>
                    <Grid>
                        <TextBlock Text="{Binding Name}" />
                        <Image Source="ms-appx:///Assets/EmbossedEllipse.png" />
                        <TextBlock Text="{Binding NumberOfQuestions}"  />
                    </Grid>
                </StackPanel>
                <ListView x:Name="SubMenu" ItemsSource="{Binding Branches}" Visibility="Collapsed">
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <StackPanel>
                                <TextBlock Text="{Binding Name}" />
                            </StackPanel>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </Grid>
        </DataTemplate>
    </ListView.ItemTemplate>
</ListView> 
```

当我单击“SectionListView”中的元素时，我希望该项目内的“子菜单”可见。

感谢您的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:05:10.073

您可以使用转换器来更改`SubMenu`可见性的状态。

编辑：添加一个属性以知道您的项目已被选中（布尔值）。

```
<ListView x:Name="SubMenu" ItemsSource="{Binding Branches}" Visibility="{Binding IsSelected, Converter={StaticResource BooleanToVisibilityConverter}}">
    <ListView.ItemTemplate>
        <DataTemplate>
            <StackPanel>
                <TextBlock Text="{Binding Name}" />
            </StackPanel>
        </DataTemplate>
    </ListView.ItemTemplate>
</ListView> 
```

转换器：

```
public sealed class BooleanToVisibilityConverter : IValueConverter
{
    public object Convert(object value, Type targetType, object parameter, string language)
    {
        return (value is bool && (bool)value) ? Visibility.Visible : Visibility.Collapsed;
    }

    public object ConvertBack(object value, Type targetType, object parameter, string language)
    {
        return value is Visibility && (Visibility)value == Visibility.Visible;
    }
} 
```

希望能帮助到你！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:08:05.123

使用`ListBoxItem.IsSelected`附加属性，它就是为了这样的目的而引入的。这里有一些 XAML 可以帮助您入门（如果您还没有在某处声明 BooleanToVisibilityConverter）。

```
<ListView x:Name="SubMenu" Visibility="{Binding IsSelected, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type ListBoxItem}}, Converter={StaticResource BooleanToVisibilityConverter}}" ... 
```

# php - 如何从数组中生成带有复选框的视图

> ID：15242339
> 
> 赞同：0
> 
> 时间：2013-03-06T08:28:37.373
> 
> 标签：php, html, forms, cakephp-2.3

`$options`我们有一个具有灵活数量值的数组。我们从数据库中获得的这个值。我们如何生成这个视图看起来像的视图

`options['value-1']`复选框_1

`options['value_n']`复选框_n

有没有办法通过 forloop 来生成这个视图元素，比如

```
for (i=1 to n) {
   echo $this->Form->input('database-field', array('type'=>'checkbox','div' => true));
} 
```

我如何在 cakephp 2.3.0 中做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:38:09.573

您是否正在寻找从一组值中打印多个复选框？我希望这能帮到您：

```
echo $this->Form->input('database-field' ,array('options'=> $options, 'multiple' => 'checkbox')); 
```

更新：

```
echo $this->Form->input('database-field' ,array('options'=> $options, 'multiple' => 'checkbox','style' => 'float: left; display: inline')); 
```

或者

```
echo $this->Form->input('database-field' ,array('options'=> $options, 'multiple' => 'checkbox','div' => 'false')); 
```

# oracle11g - 使用复合索引时如何避免排序？

> ID：15242341
> 
> 赞同：2
> 
> 时间：2013-03-06T08:28:37.523
> 
> 标签：oracle11g, sql-execution-plan

创建测试表：

```
create table customer (first_name varchar2(20), last_name varchar2(20) not null, address varchar(20));

insert into customer select dbms_random.string('U', 20), dbms_random.string('U', 20), dbms_random.string('U', 20) from dual connect by level <= 100000;
commit;

create index i_ln_fn_0 on customer(last_name, first_name,0); — just to be sure that all rows are indexed 
```

现在解释计划：

```
explain plan for
select /*+ FIRST_ROWS(20) */ *
  from CUSTOMER
  where first_name like 'AB%'
    and first_name is not null
  order by last_name;

select * from table(dbms_xplan.display);

-------------------------------------------------------------------------------
| Id  | Operation          | Name     | Rows  | Bytes | Cost (%CPU)| Time     |
-------------------------------------------------------------------------------
|   0 | SELECT STATEMENT   |          |   197 | 12411 |   275   (2)| 00:00:04 |
|   1 |  SORT ORDER BY     |          |   197 | 12411 |   275   (2)| 00:00:04 |
|*  2 |   TABLE ACCESS FULL| CUSTOMER |   197 | 12411 |   274   (1)| 00:00:04 |
-------------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------

   2 - filter("FIRST_NAME" LIKE 'AB%' AND "FIRST_NAME" IS NOT NULL) 
```

但是因为我只想要第一行，所以我想避免整个表的那种。我想要一个这样的计划：

```
SELECT STATEMENT
    TABLE ACCESS BY ROWID (customer)
        INDEX FULL SCAN (i_ln_fn_0) 
```

如何说服数据库避免排序？

问题甚至更糟。即使我只使用 last_name，到处都是：

```
explain plan for
select /*+ FIRST_ROWS(20) */ last_name
  from CUSTOMER
  where last_name like 'AB%'
    and last_name is not null
  order by last_name;

select * from table(dbms_xplan.display);

-------------------------------------------------------------------------------
| Id  | Operation         | Name      | Rows  | Bytes | Cost (%CPU)| Time     |
-------------------------------------------------------------------------------
|   0 | SELECT STATEMENT  |           |    17 |   357 |     4  (25)| 00:00:01 |
|   1 |  SORT ORDER BY    |           |    17 |   357 |     4  (25)| 00:00:01 |
|*  2 |   INDEX RANGE SCAN| I_LN_FN_0 |    17 |   357 |     3   (0)| 00:00:01 |
-------------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------

   2 - access("LAST_NAME" LIKE 'AB%')
       filter("LAST_NAME" LIKE 'AB%') 
```

这里排序真的没有必要，但数据库仍然使用它。为什么？

**编辑：**在两者上都进行了测试

```
Oracle Database 11g Enterprise Edition Release 11.2.0.1.0 - 64bit Production
PL/SQL Release 11.2.0.1.0 - Production
"CORE 11.2.0.1.0 Production"
TNS for 64-bit Windows: Version 11.2.0.1.0 - Production
NLSRTL Version 11.2.0.1.0 - Production 
```

和

```
Oracle Database 11g Enterprise Edition Release 11.2.0.2.0 - 64bit Production+
PL/SQL Release 11.2.0.2.0 - Production+
"CORE 11.2.0.2.0Production"+
TNS for IBM/AIX RISC System/6000: Version 11.2.0.2.0 - Production+
NLSRTL Version 11.2.0.2.0 - Production+ 
```

以同样的计划。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T11:23:33.657

原因是 NLS_SORT 参数的值错误。将其更改为 BINARY 后，计划开始看起来像我想要的那样。

来自[http://docs.oracle.com/cd/E24693_01/server.11203/e24448/initparams152.htm](http://docs.oracle.com/cd/E24693_01/server.11203/e24448/initparams152.htm)：

> NLS_SORT 的值影响查询的执行计划。因为标准索引不能用作按语言顺序排序的值的来源，所以通常必须执行显式排序操作而不是索引范围扫描。NLSSORT 函数上的功能索引可以定义为提供按语言顺序排序的值，并将索引范围扫描重新引入执行计划。

（我在 forums.oracle com 上从 Paul Horth 那里得到了这个答案。）

# mobile - Hubspot - 响应式设计

> ID：15242347
> 
> 赞同：2
> 
> 时间：2013-03-06T08:28:50.567
> 
> 标签：mobile, content-management-system, responsive-design, hubspot

是否可以在 HubSpot 中为网站制作响应式布局？

我从未与 HubSpot 合作过，因此我希望先知道是否可能。

如果是这样的话，你能告诉我这是怎么做的吗？您不需要编写完整的手册：P 该网站在移动设备上应该很漂亮。移动.CSS。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-11T18:56:48.020

全面披露：我目前是 HubSpot 的开发人员。

是的，使用 HubSpot 的响应式 UI 是完全可能的。[目前这不是超级简单](http://forums.hubspot.com/discussion/40555)，但我们正在开发的新内容平台将使这*变得*更加容易。好消息是您已经可以将新的模板构建器（和/或[来自 Marketplace 的模板](https://marketplace.hubspot.com/templates)）用于您的登录页面，并且它们具有自动响应和移动友好性。

*   [如何为 HubSpot 网站启用移动优化](http://help.hubspot.com/articles/How_To_Doc/How-to-enable-mobile-optimization-for-a-HubSpot-site)
*   [如何针对移动设备优化您的网站](http://help.hubspot.com/articles/Best_Practice/How-to-optimize-your-website-for-mobile)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T14:52:08.630

我在 Hubspot 上为希望我模仿这个 Wordpress 主题的客户建立了一个网站：http: [//themeforest.net/item/sterling-responsive-wordpress-theme/2320578](http://themeforest.net/item/sterling-responsive-wordpress-theme/2320578)

我让这一切都很好。该站点尚未上线，因此我无法向您展示，但它的工作原理与 Sterling 演示一样。

Hubspot 已经有一个 mobile.css 文件。就像您通过制作 custom.css 文件添加/覆盖 Hubspot 的 css 一样，您可以制作一个 mobile.css 文件以添加/覆盖 Hubspot 的默认移动设置。

您应该能够通过浏览器的开发人员工具找到 mobile.css 文件。

我用铬。所以... 检查元素 > 单击网络选项卡。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-10-23T06:23:57.640

@Kevin Bos 你可以在 hubspot 上做任何工作我们可以尝试任何与网络相关的东西，有些有一些限制，但它是最好的 CRM 源

# c - 如何在 C 中检查新行和回车符

> ID：15242353
> 
> 赞同：1
> 
> 时间：2013-03-06T08:29:28.043
> 
> 标签：c

所以我试图弄清楚为什么下面的 C 代码不起作用：

```
int isBlank(char *s){
    for(;*s != '\0';s++){
        if(*s != '\n' || *s != '\r'){
            return 0;
        }
    }
    return 1;
} 
```

这个想法是，如果它碰到任何东西但一个 \n 或 \r 字符，它应该返回 0，否则它将返回 1。但它似乎几乎对任何行都返回 0？我敢肯定我在这里遗漏了一些非常愚蠢的东西。:(

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T08:34:08.413

你的逻辑有点不对劲 - 改变：

```
 if(*s != '\n' || *s != '\r'){ 
```

到：

```
 if(*s != '\n' && *s != '\r'){ 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T08:34:53.047

```
 But it seems to return 0 for almost any line? 
```

大多数行将`\n\r`仅在行尾。在您的代码中，当您遇到除`\n`or以外的任何字符时，您将返回 0，`\r`这就是您总是得到 0 的原因。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T08:37:55.193

如果你替换它，它会起作用 || 和 ＆＆

```
#include <stdio.h>

int isBlank(char *s)
{
    for (;*s != '\0'; s++) {
        if (*s != '\n' && *s != '\r') {
            return 0;
        }
    } 
    return 1;
}

int main()
{
    char *msg1 = "hello, world\n";
    char *msg2 = "hello, world!";
    char *msg3 = "";
    char *msg4 = "\r";
    printf("msg1 is blank: %i\n", isBlank(msg1));
    printf("msg2 is blank: %i\n", isBlank(msg2));
    printf("msg3 is blank: %i\n", isBlank(msg3));
    printf("msg4 is blank: %i\n", isBlank(msg4));

    return 0;
} 
```

# jquery - 修改jquery tag-it基于autocomplete库的行为，使用ajax JSON源

> ID：15242354
> 
> 赞同：4
> 
> 时间：2013-03-06T08:29:32.320
> 
> 标签：jquery, jquery-ui, tags, jquery-ui-autocomplete, tag-it

我正在尝试基于自动完成向 jQuery 插件[标记添加一些功能：](http://aehlke.github.com/tag-it/)

a) 我尝试过滤我的 JSON 数据以仅显示标签名称。

由以下人员返回的 JSON 样本`/repo/json`：

```
[{id:1, name:"0.8-alpha-1", category:"version"}, {id:2, name:"0.8-alpha-2", category:"version"}, {id:3, name:"0.8-alpha-3", category:"version"}, {id:4, name:"0.8-alpha-4", category:"version"}, {id:5, name:"0.8-alpha-1", category:"version"}, {id:6, name:"0.8-alpha-2", category:"version"}, {id:7, name:"0.8-alpha-3", category:"version"}, {id:8, name:"0.8-alpha-4", category:"version"}] 
```

b）我想在用户提交数据时提交标签的 id，而不是名称。

c) 我尝试在我的 tag-it 输入字段中添加一些约束：用户无法验证不在我返回的 JSON 中的标签`/repo/json call`。

我不想分叉 tag-it 存储库，似乎可以测试用户数组和使用`beforeTagAdded`选项搜索之间的交集。

我这次尝试没有成功，因为我不知道在哪里可以找到标签列表来实现交集。

我的js代码：

```
 $(function(){
    $("#singleFieldTags").tagit({
      tagSource: function(search, showChoices) {
        $.ajax({
          url: "/repo/json",
          dataType:   "json",
          data: {q: search.term},
          success: function(choices) {
            showChoices(choices);
          }
        })},
           beforeTagAdded: function(event, ui) {
           //if ($.inArray(ui.tagLabel, search) == -1) {
           //   $("#singleFieldTags").tagit("removeTagByLabel", ui.tagLabel);
           // }
            console.log(ui.tag);
           }});

    }); 
```

html表单：

```
<form name="data" action="/repo/uploadMole" method="POST" enctype="multipart/form-data">
    <input name="tags" id="singleFieldTags" ><br/>
    <input type="Submit">
</form> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-04-02T12:00:06.480

你问你要**提交**，不同的东西。然后让我们采取那个单一的入口点：

```
$('#data').submit(function() {
    // Change the value we are submitting
    var tagids = [];
    $.each($('#singleFieldTags').val().split(','),
           function(idx, taglabel){
               tagids.push(lookup_tagid_for_label(taglabel));
           }
    )
    $('#singleFieldTags').val(tagids.join(','));          
    return true; // Let the event go on.
}); 
```

这应该在提交之前更改带有 ID 的标签。

`lookup_tagid_for_label`, 可以再次进行 ajax 调用，但在第一次查找时将其缓存在字段上可能更便宜：

```
$("#singleFieldTags").tagit({
     autocomplete: {
        source: function(search, showChoices) {
                    $.getJSON("/repo/json", {q: search.term},
                        function (data) {
                            var choices = [];
                            $.each(data, function (idx, tag) {
                                choices.push(tag.name);
                                $("#singleFieldTags").data(tag.name, tag.id);
                            });
                            showChoices(choices);
                    });
                }
}); 
```

然后你可以`lookup_tagid_for_label(taglabel)`用`$("#singleFieldTags").data(taglabel)`.

与我的其他答案相反，预期的 tag-it 遵循 autocomplete-api，[现在可以使用](http://jsfiddle.net/AnGDJ/5/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-30T10:03:45.730

添加标签时更改标签会破坏[删除](https://github.com/aehlke/tag-it/blob/master/js/tag-it.js#L501)以及其他可能的事情。您可以尝试通过编写`beforeTagRemoved`处理程序以及将来可能的其他处理程序来缓解这种情况。（维持痛苦）。

正如我评论的那样，您应该使用[自动完成 api](https://github.com/aehlke/tag-it#autocomplete-object)。该文档进一步指向[jquery-ui](http://api.jqueryui.com/autocomplete/#option-source)。数据可以是这种形式：

> ...具有标签和值属性的对象数组： [ { label: "Choice1", value: "value1" }, ... ]

所以我怀疑这可能就足够了：

```
 $("#singleFieldTags").tagit({
     autocomplete: {
        source: function(search, showChoices) {
                    $.getJSON("/repo/json", {q: search.term},
                              function(data) {
                                  var choices = [];
                                  $.each(data, function(idx, tag){
                                      choices.push({label: tag.name,
                                                    value: tag.id})
                                      });
                                  showChoices(choices);
                              });
                }
         }
     }) 
```

**遗憾的是，这不像 tag-it 那样工作，目前在创建标签时[会删除标签](https://github.com/aehlke/tag-it/blob/63f7c1189b223a0edcba407aee7420e975824a97/js/tag-it.js#L283)并仅使用 id。**我认为应该清理 tag-it 并支持完整的自动完成 api。

### 更新

[维护者同意](https://github.com/aehlke/tag-it/pull/113#issuecomment-15783550)这一点。所以这个答案可能会成为未来的规范答案。

# java - 为什么将outOfOrder设置为true时flyway会产生警告消息？

> ID：15242356
> 
> 赞同：8
> 
> 时间：2013-03-06T08:29:35.787
> 
> 标签：java, flyway

`outOfOrder`当设置为 true时，我在日志中收到以下警告消息：

> 警告：outOfOrder 模式处于活动状态。迁移运行可能无法重现。

这条消息的确切含义是什么？如果有人能告诉我迁移发生时会发生什么，那就太好了。任何示例都会有所帮助。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-12T09:05:49.370

假设 3 个迁移：

1.  创建两个名字“Tom”和“Jerry”
2.  添加“米奇”作为第三个
3.  把名字变成大写

使用 outOfOrder 运行可能会导致您的迁移应用如下：

1, 3, 2 -> 在数据库中：汤姆、杰瑞、米奇

稍后重新运行它会产生

1, 2, 3 -> 在数据库中：汤姆、杰瑞、米奇

这就是为什么 outOfOrder 具有潜在危险并且第一次迁移运行可能无法重现的原因。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2015-01-13T20:19:09.800

为了增加 Axel 的答案，不仅结果数据可能会因顺序而异，而且迁移甚至可能是不可能的。考虑：

迁移：

1.  创建表`foo`
2.  添加列`foo.bar`
3.  将列重命名`foo.bar`为`foo.baz`

执行顺序：

*   1, 2, 3 →`foo`有列`baz`
*   1, 3, ... → 应用错误 3：`foo.bar`未找到列
*   2，... → 应用错误 2：`foo`找不到表
*   3，... → 应用错误 3：`foo`找不到表

# continuous-integration - 商业智能中的持续集成

> ID：15242358
> 
> 赞同：3
> 
> 时间：2013-03-06T08:29:45.907
> 
> 标签：continuous-integration, business-intelligence

我正在考虑让 BI 团队使用持续集成 (CI)。在网上搜索时，我发现了一些文章，它们将引导您完成为您的 BI 数据库设置 CI 的过程。

这些文章似乎都忘记了，通过 BI 持续集成，您希望（至少我们愿意）运行所有测试并使用类似生产的数据库来查找未预见的场景。我们的 BI 数据库可以达到 TB，因此测试需要一段时间。

是否有解决这个问题的解决方案（也许是一个可以创建更小的测试数据库而不会丢失有价值的测试数据的工具）？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T16:29:58.827

CI 需要快速测试。那不是你的情况。我将使用**CI 构建**和**夜间构建**

**CI 构建**

一旦有人签入，您就启动构建，部署到您的 CI/DEV 环境并执行冒烟测试，如果您愿意，还可以执行一部分测试。CI/DEV 环境数据库将仅包含测试数据。无论如何，您的测试应该花费很少的时间……越少越好。

因此，在每次签入后，您可以确保至少您的项目**仍然**有效。

**每晚构建**

层我会手动设置一个**夜间构建**，这样你就有很多时间来执行测试。您应该有一个特定的测试环境。你的构建应该做：

1.  删除旧数据库。
2.  从存储库获取生产数据库的备份（理想情况下，该存储库应该经常更新）
3.  您的 CI 构建在您的测试环境中恢复备份
4.  您部署最新的成功构建（部署到您的 CI/DEV 环境的那个）
5.  通宵运行测试。

这样，您将有 12-14 小时的时间来运行您的构建，并且每天，**当您到达工作地点时，您将收到关于前一天测试结果的反馈**。

如果您的测试需要超过 12-14 小时（太字节？），那么您应该检查它们，因为可能有问题（或者您使用 google db）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-10-17T18:52:29.720

在回顾 Microsoft 的集成服务时，我看起来它有一个灵活的解决方案。[https://www.getchef.com/](https://www.getchef.com/)的Chef也有一个很棒的开源解决方案。

这两个都支持

1.  构建解决方案
2.  构建环境。
3.  运行单元和 UI 测试。
4.  将解决方案迁移到正确的环境。
5.  有关更改状态的消息传递组。

# c#-4.0 - 如何在quickbooks pos打印收据中添加数据？

> ID：15242366
> 
> 赞同：1
> 
> 时间：2013-03-06T08:30:07.197
> 
> 标签：c#-4.0, quickbooks

我想编辑 Quickbooks 和打印机的桥梁。当消费者按下保存和打印按钮时。表示在收据中添加一些文本，例如感谢购买此项目（项目列表）。

有人帮我吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-18T19:22:20.197

Sachin，在每张打印收据中添加这一行：

转到文件 > 设置面试。将打开一个带有许多选项卡的表单。第一个选项卡“收据”显示一些信息，您可以根据您的公司设置这些信息。最后有一个回执消息文本区域。添加您的文本以显示在每张收据中。

这适用于 POS 2013 Server 版本。

# c# - 使用选项卡控件

> ID：15242374
> 
> 赞同：0
> 
> 时间：2013-03-06T08:30:35.213
> 
> 标签：c#, tabs, mschart

我有一个选项卡控件，其中包含一组控件，如列表框、按钮和图表控件。是否有可能添加另一个选项卡，使新选项卡包含第一个选项卡包含的所有控件。？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:17:11.430

根据您的评论，您最好创建一个[usercontrol](http://msdn.microsoft.com/en-us/library/system.windows.controls.usercontrol.aspx?cs-save-lang=1&cs-lang=csharp#code-snippet-1)。创建一次后，您可以像这样简单地将其添加到新选项卡中：

```
TabPage tp = new TabPage("new tp");

MyUserControl muc = new MyUserControl();
tp.Controls.Add(muc);

tabControl1.TabPages.Add(tp);

int tabIndex = 1; 
```

您可以像这样访问每个选项卡的属性：

```
int tabIndex = 1;
MyUserControl contr = tabControl1.TabPages[tabIndex].Controls[0] as MyUserControl;
contr.MyGraph = ... 
```

# java - H2：无法从 jar 中的 sql 文件初始化 DB 模式

> ID：15242382
> 
> 赞同：1
> 
> 时间：2013-03-06T08:30:48.693
> 
> 标签：java, database, exception, h2

我正在尝试在我的项目中使用 H2 数据库（*v1.3.170*）进行 JUnit 测试并遇到奇怪的行为。我有一个包含用于数据库模式初始化的所有 sql 的 jar：

```
db_data.jar
  |--schema
        |--aliases.sql
        |--tables.sql
        |-- ... 
```

我的类路径中有这个 jar。但是当我执行下面的代码时 - 它会引发异常[见下文]：

```
CallableStatement initCall = conn.prepareCall("RUNSCRIPT FROM 'classpath:schema/aliases.sql'");
initCall.execute(); 
```

例外情况：

```
Caused by: org.h2.jdbc.JdbcSQLException: IO Exception: "java.io.FileNotFoundException: resource /schema/aliases.sql"; "classpath:schema/aliases.sql"; SQL statement:
RUNSCRIPT FROM 'classpath:schema/aliases.sql' [90031-170]
    at org.h2.message.DbException.getJdbcSQLException(DbException.java:329)
    at org.h2.message.DbException.get(DbException.java:158)
    at org.h2.message.DbException.convertIOException(DbException.java:315)
    at org.h2.command.dml.ScriptBase.openInput(ScriptBase.java:162)
    at org.h2.command.dml.RunScriptCommand.update(RunScriptCommand.java:43)
    at org.h2.command.CommandContainer.update(CommandContainer.java:75)
    at org.h2.command.Command.executeUpdate(Command.java:230)
    at org.h2.server.TcpServerThread.process(TcpServerThread.java:333)
    at org.h2.server.TcpServerThread.run(TcpServerThread.java:149)
    at java.lang.Thread.run(Unknown Source)
Caused by: java.io.FileNotFoundException: resource /schema/aliases.sql
    at org.h2.store.fs.FilePathDisk.newInputStream(FilePathDisk.java:285)
    at org.h2.store.fs.FileUtils.newInputStream(FileUtils.java:209)
    at org.h2.command.dml.ScriptBase.openInput(ScriptBase.java:160)
    ... 6 more 
```

我看到在`org.h2.store.fs.FilePathDisk#newInputStream()`你明确添加`/`到 SQL 文件的路径：

```
public InputStream newInputStream() throws IOException {
    //...
    if (!fileName.startsWith("/")) {
        fileName = "/" + fileName;
    }
    //...
    return in;
} 
```

你能解释一下上面的目的吗？以及如何处理异常？

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-20T15:03:58.620

使用服务器模式时，资源（jar 文件）需要在服务器端。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-06T08:38:15.647

尝试将文件引用更改为：

```
classpath*:schema/aliases.sql 
```

# javascript - 在新选项卡中打开链接在 IE 中出现权限被拒绝错误

> ID：15242388
> 
> 赞同：1
> 
> 时间：2013-03-06T08:31:17.700
> 
> 标签：javascript, jquery, asp.net, internet-explorer, permissions

我有在 Windows 身份验证帐户下运行的 Intranet asp.net 站点应用程序。我的主页有指向我网站其他页面的链接。在 IE 中，当我在新选项卡中打开这些链接时，出现权限被拒绝错误。

![在此处输入图像描述](../Images/3efbc9735e391f2aa0b5d682fb099c01.png)

如果我关闭上面的窗口并刷新页面，它会重新加载没有任何问题。

当我单击调试时，我得到以下脚本。我不知道它是从哪里来的。

![在此处输入图像描述](../Images/97c43737146ce48a489d4324d1cd22e5.png)

在其他浏览器中它工作正常。但仅在 IE 中，我经常会收到此错误。目标 IE 版本是 9。

请让我知道为什么这只发生在 IE 中以及克服它的解决方案。任何帮助将不胜感激。

**注意：该错误不是由于 Windows 身份验证引起的。我改为匿名身份验证并得到同样的错误。**

关于这个问题有一些可能的线索。不幸的是，其中一些线程中描述的解决方案对我不起作用。大多数其他线程都说这是IE的一个错误，无法修复。他们给出的解决方法并不是唯一的。由于时间不够，我无法尝试所有这些解决方法。关于这个问题有 173 个可能的线程。你能在这个线程本身提出任何稳定的解决方案吗？

即使我在谷歌上浏览某些内容并在新标签中打开它，我也会遇到同样的错误。我坚信这是因为某些浏览器设置。有没有可能的方法来覆盖？

# css - CSS多图像背景行？

> ID：15242392
> 
> 赞同：0
> 
> 时间：2013-03-06T08:31:43.983
> 
> 标签：css

我进行了彻底的搜索，但找不到特定查询的答案......当然这可能是由于我的新手能力和有缺陷的思维。我想要完成的是两行 3 个非平铺、非重复、并排的图像......设置为我的网页背景。

这是我想复制为 CSS 背景的基本 HTML 格式：

```
<HTML>
<span><img src="images/image1.gif"><img src="images/image2.gif"><img src="images/image3.gif"><BR><img src="images/image4.gif"><img src="images/image5.gif"><img src="images/image6.gif"></span>
<HTML> 
```

这是我对 CSS 解决方案的粗略尝试：

```
<style type="text/css"> 
body
{ background-image: url('images/image1.gif'), url('images/image2.gif'), url('images/image3.gif'), url('images/image4.gif'), url('images/image5.gif'), url('images/image6.gif'); background-repeat: no-repeat; }
</style> 
```

虽然这确实“有效”......我所做的只是在左上角将 6 张图像直接堆叠在一起。对新手的任何帮助将不胜感激。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:41:59.103

您需要`background-position`明确分配给每个背景图像。这应该适用于您的情况：

```
background-position: top left, top center, top right, bottom left, bottom center, bottom right; 
```

还可以查看[`background-size`](https://developer.mozilla.org/en-US/docs/CSS/background-size)css 属性。

[**工作小提琴**](http://jsfiddle.net/3DuBd/)

# iphone - 消除由于返回创建的变量而导致的内存泄漏

> ID：15242397
> 
> 赞同：1
> 
> 时间：2013-03-06T08:31:53.177
> 
> 标签：iphone, ios, objective-c, memory-management

以下是我遇到内存泄漏问题的代码片段。 ![在此处输入图像描述](../Images/4b411512c780b0c53b60a2957a9ce03f.png)

这是第 3 个警告。

**对象泄露：分配并存储到“strRespondData”中的对象是从名称（“httpConnection:postStr:”）不以“copy”、“mutableCopy”、“alloc”或“new”开头的方法返回的。这违反了 Cocoa 内存管理指南中给出的命名约定规则**

*我的代码启用了 ARC。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T08:34:50.677

您可以使用自动释放消息：

```
NSString *strRespondData = [[[NSString alloc] initWithData:responseData encoding:NSASCIIStringEncoding] autorelease]; 
```

[你可以在这里](https://stackoverflow.com/questions/5192308/objective-c-autorelease-memory-management)阅读解释

如果您使用 ARC，则无需担心，ARC 会为您处理。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T08:49:45.287

释放这条线

```
NSString *strRespondData = [[[NSString alloc] initWithData:responseData encoding:NSASCIIStringEncoding] 
```

通过这种转换并尝试。

```
NSString* strRespondData = [NSString stringWithUTF8String:[responseData bytes]]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T11:07:24.160

**警告消息**说您的方法名称违反了内存管理指南的命名约定

**> 不以“copy”、“mutableCopy”、“alloc”或“new”开头**

您的代码在 ARC 下有效

# dart - 如何使用 dart 包部署 dart web 应用程序？

> ID：15242399
> 
> 赞同：6
> 
> 时间：2013-03-06T08:32:02.970
> 
> 标签：dart, dart2js

考虑以下 dart web 应用程序：

```
import "dart:html";
// assume this is a custom library hosted somewhere on github, i.e. 
// there is a pubspec.yaml entry
//
// dependencies:
//    my_hello:
//      git: http://github.com/foo/my_hello.git
//
import "package:my_hello/my_hello.dart" as hello;

main() {
  query("#message").innerHtml = hello.message;
} 
```

如何将它部署在 Web 服务器上的某个位置（例如作为 github 页面），以便它可以在 Dartium 中用作基于 dart 的 Web 应用程序？

1.  我必须`packages`在 Web 服务器上创建一个目录吗？
2.  我必须将包复制`my_hello.dart`到 Web 服务器吗？

    `packages/my_hello/...`

    或者 Dartium 是否能够解决给定的依赖关系`pubspec.yaml`？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T08:48:52.903

目前，您需要部署这些`packages`文件夹以及您的代码。Dartium 不使用`pubspec.yaml`

目前正在开发中，有一个`dart2dart`工具可以做类似的事情`dart2js`——摇树、缩小，并将所有代码放入一个可部署的源文件中。请参阅此[dartbug 问题](https://code.google.com/p/dart/issues/detail?id=8172)以获取说明以及此[最近](https://groups.google.com/a/dartlang.org/forum/?fromgroups#!topic/misc/TfgSOCyAYNA)关于 google 群组的讨论。

这可能会构成`pub deploy`场景的一部分，用于打包您的应用程序以部署在 Web 服务器上。

另请参阅：[在 dart 上使用 pubspec 可能是什么部署策略](https://stackoverflow.com/questions/12336685/what-could-be-a-deployment-strategy-with-pubspec-on-dart) 和：[从 Dart2js 输出创建 Javascript 部署集](https://stackoverflow.com/questions/15143531/creating-a-javascript-deployment-set-from-dart2js-output/15145090#15145090)

**更新**：[Dartbug 6006](https://code.google.com/p/dart/issues/detail?id=6006)目前正在开发中，并表示它的工作方式如下：

> 它会将“web”中的所有内容复制到部署目录中，在所有入口点上运行 dart2dart 和 dart2js，并清理 Dart 源文件。这将生成一个无需任何额外步骤即可提供服务的目录。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-11-15T21:26:40.517

采用：

```
$ pub build [--no-minify] 
```

> `pub build`在您准备好部署 Web 应用程序时使用。运行时`pub build`，它会为当前包及其所有依赖项生成资产，并将它们放入名为 build 的新目录中。

来自[Seth Ladd 在 Google+ 上的帖子](https://plus.google.com/+SethLadd/posts/ZVw5EFX355z)（不再可用）。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-07T01:55:57.730

就我个人而言，我一直在使用 rsync，因为它简单快速

```
cd web
rsync -RLr . ../../deploy/ 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T14:26:28.573

这是一个实用脚本，它将 Web 应用程序依赖的包复制到部署目录 - 请参阅 [Gist](https://gist.github.com/Gubaer/5099605)

# python - 如何在 google appengine 中导入 ast 模块

> ID：15242402
> 
> 赞同：0
> 
> 时间：2013-03-06T08:32:21.870
> 
> 标签：python, google-app-engine, abstract-syntax-tree

在我的 appengine 应用程序中导入 ast（抽象语法树）模块时遇到了挑战。在我的本地开发机器上，一切正常，但是在我将应用程序部署到生产应用程序引擎后，我收到以下错误；

```
<type 'exceptions.ImportError'>: No module named ast
Traceback (most recent call last):
  File "/base/data/home/apps/s~appname/1.365758902437943607/main.py", line 3, in <module>
    import ast 
```

google appengine 是否支持 ast 模块？

加思

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:55:23.573

[ast](http://docs.python.org/2/library/ast.html)模块是在 Python 2.6 中引入的（它是 Python 2.5 中较低级别的对应模块。`_ast`尽管您的开发机器上有 Python 2.6+，但对于您的 GAE 生产环境并不重要。请查看[此迁移指南](https://developers.google.com/appengine/docs/python/python25/migrate27)以迁移您的从 Python 2.5 到 Python 2.7 的 GAE 环境。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:37:37.257

检查部署主机上的 python 版本

```
python -V 
```

ISTR ast 不在 python 2.5 中

# javascript - 从另一组中选择单选按钮时自动选择单选按钮

> ID：15242406
> 
> 赞同：1
> 
> 时间：2013-03-06T08:32:34.650
> 
> 标签：javascript, jquery

有这组单选按钮

```
<div class="wrapper"> <strong> Number of images:</strong>
<div class="formText">
    <input type="radio" name="rdNumber" value="100" />100
    <input type="radio" name="rdNumber" value="200" />200
    <input type="radio" name="rdNumber" value="300" />300
    <input type="radio" name="rdNumber" value="400" />400
    <input type="radio" name="rdNumber" value="500" />500
    <input type="radio" name="rdNumber" value="600" />600
    <input type="radio" name="rdNumber" value="1000" checked="checked"
    />1000
    <input type="radio" name="rdNumber" value="1200" />1200
    <input type="radio" name="rdNumber" value="1500" />1500
    <input type="radio" name="rdNumber" value="1600" />1600
    <input type="radio" name="rdNumber" value="other" />other
</div>
</div> 
```

还有这组单选按钮

```
<div class="wrapper"> <strong><span>*</span> Number of additional pages:</strong>

<div class="formText">
    <input type="radio" name="rdNumberPages" value="0" />0
    <input type="radio" name="rdNumberPages" value="1" />1
    <input type="radio" name="rdNumberPages" value="2" />2
    <input type="radio" name="rdNumberPages" value="3" />3
    <input type="radio" name="rdNumberPages" value="4" checked="checked"
    />4
    <input type="radio" name="rdNumberPages" value="5" />5
    <input type="radio" name="rdNumberPages" value="6" />6
    <input type="radio" name="rdNumberPages" value="7" />7
    <input type="radio" name="rdNumberPages" value="8" />8
    <input type="radio" name="rdNumberPages" value="9" />9
    <input type="radio" name="rdNumberPages" value="10" />10
    <input type="radio" name="rdNumberPages" value="other" />other
</div>
</div> 
```

如何在 jquery 中从 rdNumber 选择“其他”时自动选择“rdNumberPages”的“其他”单选按钮？这是小提琴[http://jsfiddle.net/k4Y4z/](http://jsfiddle.net/k4Y4z/)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T08:35:58.830

检查这个

```
var rdNumberPages = $('input:radio[name="rdNumberPages"]');
var rdNumbers= $('input:radio[name="rdNumber"]');
rdNumbers.change(function(e){
    var $target = $(e.target);
    if($target.is(':checked')){
        if($target.is('[value="other"]')){
            rdNumberPages.not('[value="other"]').prop('disabled', true);
            rdNumberPages.filter('[value="other"]').prop('checked', true);
        } else {
            rdNumberPages.not('[value="other"]').prop('disabled', false);
        }
    }
}); 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/k4Y4z/6/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T08:44:21.533

给你：http: [//jsfiddle.net/k4Y4z/5/](http://jsfiddle.net/k4Y4z/5/)

```
$('#other1').click(function() {
   if($('#other1').is(':checked')) { $('#other2').attr('checked', 'checked'); }
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T08:48:06.740

试试这个：

```
$('input:radio[value="other"]').change(function () {
  $.each($('[value="other"]'), function () {
    $(this).prop('checked', true);
  });
}); 
```

# sql - 删除触发器无法更新另一个表中的计数

> ID：15242407
> 
> 赞同：1
> 
> 时间：2013-03-06T08:32:44.603
> 
> 标签：sql, informix

我正在使用 Informix 数据库。

TableA 包含客户端的 ID。TableB 包含该 id 上的错误数。即{id和count}

在 TableA 中，我编写了删除触发器，因此如果有人删除了 TableA 中的条目，那么将执行删除触发器中的存储过程，从而将该客户端的 tableB 中的计数减少 1。

现在，有一个奇怪的行为，在删除 TableA 中的许多条目后，更新 tableB 需要超过 15 分钟，在一个实例中需要几个小时。

有人可以建议这种行为的原因是什么。我无法理解，因为这非常简单明了，不应该出现这个问题。

请注意，我无法重新创建此问题。对于这种行为，什么可能是合理的解释。

# vb.net - 调用 picturePanel_Paint 事件处理程序

> ID：15242408
> 
> 赞同：1
> 
> 时间：2013-03-06T08:33:07.607
> 
> 标签：vb.net

我有`event handler`这个`Mainform.vb`：

```
Private Sub picturePanel_Paint(sender As System.Object, e As System.Windows.Forms.PaintEventArgs) Handles picturePanel.Paint
    If fBitmap IsNot Nothing Then
        g = picturePanel.CreateGraphics()
        g.DrawImage(fBitmap, 0, 0)
        g.Dispose()
    End If
End Sub 
```

从我试图调用这个处理程序的私有方法`updateView`，但对参数有点不确定 - 我假设第一个参数只是，第二个参数必须与`Mainform.vb``Me.picturePanel``PaintEventArgs`

```
Private Sub updateView()
    'picturePanel.Refresh() '<<<<<<<<<this is fine but thought the following might work...
    picturePanel_Paint(Me.picturePanel, PaintEventArgs)
End Sub 
```

**编辑**

以下手动调用事件的尝试失败：

![在此处输入图像描述](../Images/559365f7690954971547c14e31f98623.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:29:49.717

您没有使用其中的`sender/e`对象`picture box's paint event`，因此手动调用它不会有任何问题（不会影响您的代码）。如果您手动调用它，那么它就像一个简单的`procedure`调用。

使用以下代码段来实现您的结果，

```
call picturePanel_Paint(New Object,New PaintEventArgs) 
```

**笔记：**

*   这根本不是一个好习惯， .refresh() 也会调用相同的方法。
*   `sender/e`如果您在手动调用期间未手动设置其属性，则将一事无成。

**编辑：** `Summary(Bug Fixed and New solution added)`

您可以像这样调用paint事件以避免您在评论中提到的错误，

```
call picturePanel_Paint(New Object, New PaintEventArgs(picturePanel.CreateGraphics, New Rectangle)) 
```

**但是以下编码方式将是一种符合您要求的干净方式，**

```
Private Sub picturePanel_Paint(ByVal sender As System.Object, ByVal e As System.Windows.Forms.PaintEventArgs) Handles picturePanel.Paint
   call PerformSomething()
End Sub

private sub PerformSomething()
  'Your code Here
End Sub 
```

打电话给`procedure PerformSomething`你想打电话的地方`paint event`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T08:59:52.063

没有准备好传递`PaintEventArgs`给`picturePanel_Paint`事件处理程序的对象。如果你真的想手动调用这个事件处理程序，你将不得不创建新的 PaintEventArgs 对象并用适当的数据填充它的属性，这不是一件容易的事

# google-chrome-extension - popup.html 未正确显示

> ID：15242409
> 
> 赞同：0
> 
> 时间：2013-03-06T08:33:12.320
> 
> 标签：google-chrome-extension

我创建了一个使用 popup.html 文件的页面操作扩展。它曾经完美地工作。当我单击该图标时，它会显示一个小框，只有 popup.html 页面的一角可见。我设置了 body 和 html css 的高度和宽度，但没有让盒子变大。我还将 css 移动到另一个名为 popup.css 的页面上，并添加到 popup.html 头中。

![popup.html](../Images/48ce3680068840fb4805269b1a6356cf.png)

有没有人遇到过这个问题？请帮忙。

HTML：

```
<html>
<head>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="popup_script.js"></script>
    <link href="popup.css" rel="stylesheet" type="text/css">
</head>
<body>
    <ul>
        <li id="all">All</li>
        <li id="title">Name</li>
        <li id="artist">Artist</li>
        <li id="album">Album</li>
        <li id="art">Artwork</li>
    </ul>
    <textarea id="info" type="text"></textarea>
</body>
</html> 
```

CSS：

```
body {
font-family: arial;
font-size: 13pt;
margin: 0;
padding: 0;
color: #06477D;
}

ul {
list-style-type: none;
cursor: pointer;
padding: 0;
margin: 0;
}

li {
text-align: center;
padding: 5px 20px;
}

li:hover {
background: #06477D;
color: white;
}

textarea#info {
position: absolute;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T11:06:48.670

看看这个[链接](https://stackoverflow.com/questions/15241864/chrome-extension-popup-html-not-display-correctly-anymore)

这似乎是一个 Chrome 错误。但它在 Canary-Version 中已修复。所以我认为这只是一个暂时的问题。

# jquery-ui - 如果为空，Jquery UI Combobox 不会在更改时触发

> ID：15242417
> 
> 赞同：0
> 
> 时间：2013-03-06T08:33:55.067
> 
> 标签：jquery-ui, jquery-autocomplete

我有一个 JQuery UI 组合框。我用它作为过滤器。我得到了一个 on change 事件，我从组合框中选择了一些东西，然后网站重新加载了新的过滤数据，这就是我想要的。问题是如果我将其留空或删除它不会调用 on change 事件的文件。这是一个问题，因为一旦过滤，它就不能被设置回未过滤的数据。我尝试了其他事件（keyup、keydown、click...）非工作。任何想法？

没什么可看的：

```
 $('#campaign_id').change(function(){
        console.log('test');
    } ); 
```

问题在于如果字段为空，则更改不会触发。

如果有帮助，这在我的框架内：

```
 $output .= nl().'<script type="text/javascript"><!--';
                $output .= nl().'   $(function() {';
                $output .= nl().'       $("#'.$this->getName(true).'").combobox({';
                $output .= nl().'           selected: function() {$(this).change();}';
                $output .= nl().'       });'; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T13:24:06.310

固定的：

```
$('.ui-combobox-input').keyup(function() {
    if ($(this).val().length == 0) {
        $('#campaign_id').val('');
        reloadForm();
    }
}) 
```

# regex - 如何在期望脚本的切换案例中使用正则表达式？

> ID：15242418
> 
> 赞同：1
> 
> 时间：2013-03-06T08:33:59.540
> 
> 标签：regex, tcl, expect

通常，*expect*中的 switch case如下所示：

```
switch -- $count \
1 {
set type byte
} 2 {
set type word
} big {
set type array
} default {
puts "$count is not a valid type"
} 
```

我需要使用正则表达式运算符，例如 | 或 & - 我该怎么做？

以下示例不适用于*期望*代码：

```
switch -- $variable \
("a"|"b"|"c") {
              do something
} 
```

**("a"|"b"|"c")** 表示 a 或 b 或 c，但它似乎不起作用。

如何在 switch 中使用此类语句或可能是 and 语句？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T11:56:12.357

使用`-regexp`命令的选项，并以 Tcl 方式支撑表达式。此外，您可以在所有开关周围使用大括号，这样您就不必使用续行。

```
switch -regexp -- $variable {
    {a|b|c} {
        do something
    }
    {^[def].*(?:g|h|i)} {
        do a different thing
    }
    default {
        do something else
    }
} 
```

[http://tcl.tk/man/tcl8.5/TclCmd/switch.htm](http://tcl.tk/man/tcl8.5/TclCmd/switch.htm)
[http://tcl.tk/man/tcl8.5/TclCmd/re_syntax.htm](http://tcl.tk/man/tcl8.5/TclCmd/re_syntax.htm)

# android - 哪个更快：Intent.putExtra 或 SQLite 查询？

> ID：15242420
> 
> 赞同：2
> 
> 时间：2013-03-06T08:34:07.803
> 
> 标签：android, android-sqlite, database-performance

我想知道哪种方式在`Intent.PutExtra`或之间的性能更快`SQLite query`。

*   我是否应该附加一个对象的所有属性，例如，`ID, First Name, Last Name, Location, Phone Number`等等

**或者**

*   我是否应该只附加`ID`对象的，在第二个活动中我将对数据库进行查询。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-01-07T22:56:49.200

一般来说，使用`Intent`s 传递消息将比任何类型的磁盘 I/O 更快，这是 SQL 查询不可避免的。这并不是说在所有情况下这总是正确的，这就是为什么自己做一些基准测试会有所帮助，因为它会在您的场景中以及您的实现中显示哪种方式效果更好。

如果您只有几个项目需要从一个`Activity`/传递`Service`到另一个，则使用`Intent`s 进行消息传递效果很好。但是对于大量数据或跨设备启动的持久性等，数据库是要走的路。

# vba - Excel 中 VBA 的 vLookup 错误

> ID：15242422
> 
> 赞同：2
> 
> 时间：2013-03-06T08:34:08.880
> 
> 标签：vba, excel-2010, variant, vlookup

我有一个表单，其中包含一个项目列表，它根据表单选择取消隐藏相关项目表。由于项目名称的长度，每个项目都分配了一个 ID。vlookup 函数旨在根据另一张表中名称的匹配来检索相关 ID。

代码如下。

传入的 fundName 值为“AX - Arnold Xchange Securities (USD)”。fundID 位于正在搜索的数组的第 5 列。该fundID肯定存在

这里的问题是它给了我一个运行时错误，它无法获取函数类的 vLookup 属性。错误 1004

```
Private Sub FundLookupImage_Click()

Dim fundName As String
Dim fundSheetName As String
Dim ws As Worksheet

Set ws = Worksheets("DownloadTable")
MsgBox ws.UsedRange.EntireRow.Count

fundName = Me.FundList.Value
fundName = """" & fundName & """"
MsgBox fundName

fundSheetName = CStr(Application.WorksheetFunction.VLookup(fundName, ws.Range("A:F"), 5, True))
MsgBox fundSheetName

Unload Me
End Sub 
```

我已经在 excel 本身上测试了 vLookup 方法，它检索到正确的 ID

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:57:23.057

使用 VLookup 总是让我在必须使用它时发疯，请试试这个：

```
DIM searchResult AS variant
    searchResult = 0
    On Error Resume Next
    searchResult = Application.WorksheetFunction.VLookup(fundName, ws.Range("A:F"), 5, 0)
    fundSheetName = CStr(searchResult) 
```

# c# - 将 Excel 导入 DataTable 字符串为空

> ID：15242428
> 
> 赞同：3
> 
> 时间：2013-03-06T08:34:31.167
> 
> 标签：c#, asp.net, excel, import, dataset

要将 excel 导入数据表，我正在使用简单的代码：

```
string connectionString = string.Format("Provider=Microsoft.ACE.OLEDB.12.0; data source={0}; Extended Properties=Excel 12.0;", physicalFolder + FileUpload1.FileName);
OleDbDataAdapter adapter = new OleDbDataAdapter("SELECT * FROM [Sheet1$]", connectionString);
DataSet ds = new DataSet(); 
```

当在 excel 的某一行中时，如果我的行如下所示

![在此处输入图像描述](../Images/57ae6f212e9bdbfc722d6acd20b2048e.png)

省略了字符串，我的数据集看起来像这样

![在此处输入图像描述](../Images/4457f119fd8f3fe3ae129a95011d4e0e.png)

但是，如果我添加一些字符串并且我的上传看起来像这样：

![在此处输入图像描述](../Images/824233286d5b24bff63180492b3990d0.png)

然后我的数据集看起来没有省略字符串：

![在此处输入图像描述](../Images/5945d7ffca20c99941347efe7bc20271.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-10-16T11:56:15.317

尝试将您的 oledbconnection 字符串更改为以下格式：

代码片段 OleDbConnection con = new OleDbConnection(@"Provider=Microsoft.Jet.OLEDB.4.0;Data Source=C:\book1.xls;Extended Properties='Excel 8.0;HDR=Yes;IMEX=1'");

注意：“IMEX=1；” 告诉驱动程序始终将“混合”（数字、日期、字符串等）数据列作为文本读取。请注意，此选项可能会对 excel 工作表写入访问产生负面影响。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T09:18:01.447

MD.Unicorn 的回答并非 100% 正确。您的 OLEDB 提供程序使用名为的设置`TypeGuessRows`来确定读取的行数来决定列的数据类型。不幸的是，无法在连接字符串中指定此设置，必须在系统注册表中进行更改。有关更多详细信息，请参阅[此](https://stackoverflow.com/a/4663674/1174942)问题。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T09:09:15.813

这是因为提供者从列的第一行（标题行之后的行）决定列的类型。当第一行包含数字时，列的类型是`double`或其他数字类型，因此不能包含字符串值。

我尝试了所有可能的方法（事先设置表结构，使用 a `DataReader`，更改单元格的格式，...），但都失败了。这似乎是`Microsoft.Jet.OLEDB`供应商的问题。我强烈建议您使用第三方的 Excel 阅读库。有很多可用的开源库。

如果您的文件是 Excel 2007 (.xlsx) 文件，我强烈建议使用[EPPluse](http://epplus.codeplex.com/)。它也可用作[NuGet 包](http://nuget.org/packages/EPPlus)。

否则，您可以查看[此答案](https://stackoverflow.com/a/9155907/1174942)以找到更多库。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-04-11T03:57:08.533

在连接字符串中使用 IMEX=1。希望它能解决这个问题..

# c# - 如何检索 XML 子节点？

> ID：15242430
> 
> 赞同：-2
> 
> 时间：2013-03-06T08:34:42.617
> 
> 标签：c#, xml

我有一个包含以下内容的 XML 文件：

```
<incometax>
  <slab>
    <lowerlimit>0</lowerlimit>
    <upperlimit>200000</upperlimit>
    <percentage>0</percentage>
  </slab>
  <slab>
    <lowerlimit>200000</lowerlimit>
    <upperlimit>500000</upperlimit>
    <percentage>10</percentage>
  </slab>
  <slab>
    <lowerlimit>500000</lowerlimit>
    <upperlimit>1000000</upperlimit>
    <percentage>20</percentage>
  </slab>
  <slab>
    <lowerlimit>1000000</lowerlimit>
    <upperlimit></upperlimit>
    <percentage>30</percentage>
  </slab>
</incometax> 
```

用户必须输入薪水：

```
Console.WriteLine("Enter salary:");
int salary = int.Parse(Console.Readline()); 
```

根据工资，我们必须计算税收。

我写了一些这样的代码..

```
XmlDocument xml = new XmlDocument();
xml.Load("filepath");
XmlNodeList slabs = xml.SelectNodes("//slab"); 
```

我正在将所有节点放入平板中。如何获取单个子节点的值？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:46:28.153

试试这个

```
XmlNodeList slabs = xml.SelectNodes("//slab[lowerlimit > 1000 and upperlimit > 1000]"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T08:53:46.733

您可以循环每个，`slabs`然后进一步查询子元素。然后你可以得到每个元素的值，然后对它们做任何你想做的事情。

像这样的东西：

```
XmlDocument xml = new XmlDocument();
xml.Load("filepath");
XmlNodeList slabs = xml.SelectNodes("//slab");

foreach(var slab in slabs)
{
    var nodeLowerLimit = slab.SelectSingleNode("lowerLimit");
    var nodeUpperLimit = slab.SelectSingleNode("upperLimit");
    var nodePercentageLimit = slab.SelectSingleNode("percentage");

    string lowerLimit = nodeLowerLimit.Value;
    string upperLimit = nodeUpperLimit.Value;
    string percentage= nodePercentageLimit.Value;

    //do something with these values
} 
```

* * *

如果您想根据输入工资匹配百分比，那么您可以进行以下调整（当然@Killo 提出了一个可能更好的替代方案 - 我之前没有使用过，但无法确认）：

```
string percentageValue = "0";//just a default
foreach(var slab in slabs)
{
    var nodeLowerLimit = slab.SelectSingleNode("lowerLimit");
    var nodeUpperLimit = slab.SelectSingleNode("upperLimit");
    var nodePercentageLimit = slab.SelectSingleNode("percentage");

    string lowerLimit = nodeLowerLimit.Value;
    string upperLimit = nodeUpperLimit.Value;
    string percentage= nodePercentageLimit.Value;

    //check for empty strings as meaning "no limit", and check sal is within range
    if((string.IsNullOrEmpty(lowerLimit) || int.Parse(lowerLimit) <= sal) &&
       (string.IsNullOrEmpty(upperLimit) || int.Parse(upperLimit) >= sal))
    {
        percentageValue = percentage;
    }
}
//here you can convert the percentageValue to an int if you need to 
```

`int`注意：上面的代码在解析之前不检查值是否有效。如果您确定您的 XML 结构，那么您不会发现问题。但是，我建议进一步开发代码并使用[int.TryParse()](http://msdn.microsoft.com/en-gb/library/system.int32.tryparse.aspx)进行验证。但我会让你玩一下；-)

# solr - 如何使用 copyField (solr4) 创建可跨多个字段搜索的字段？

> ID：15242431
> 
> 赞同：0
> 
> 时间：2013-03-06T08:34:43.583
> 
> 标签：solr, solr4

我正在尝试配置 copyField，但文档对语法示例非常简单。

这是我尝试做的，但是在重新导入我的所有数据后，“all”字段没有文档：

```
 <field name="all" type="text_en_splitting" indexed="true" stored="false" multiValued="true" termVectors="true" version="1.5" />
   <copyField source="id" dest="all"/>
   <copyField source="item_name" dest="all"/>
   <copyField source="item_brand" dest="all"/>
   <copyField source="short_description" dest="all"/>
   <copyField source="long_description" dest="all"/>
   <copyField source="catalog_names" dest="all"/>
   <copyField source="categories" dest="all"/>
   <copyField source="keywords" dest="all"/>
   <copyField source="attributes" dest="all"/> 
```

我真正需要的是：

我有定义了所有这些字段的文档（id、item_name、短/长描述等）。

我想搜索大多数字段，但不存储值（我只返回文档 ID）。

所以：

*   我是否需要为每个属性（item_name、短/长描述等）定义一个字段？
*   我是否应该将它们全部复制到一个字段中，以便可以搜索所有这些字段？这是必要的吧？
*   有没有一种方法可以将所有这些字段导入到一个 solr 字段中？我的 schema.xml 看起来应该如何？

目前，我没有任何针对某个特定字段的搜索。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:40:37.930

*我是否需要为这些属性中的每一个定义一个字段*
如果要检索它们的值，您需要以任何方式定义所有字段。

*我是否应该将它们全部复制到一个字段中，以便可以搜索所有这些字段？这是必要的吧？* 您需要将它们复制到单个字段并搜索该字段。

*有没有一种方法可以将所有这些字段导入到一个 solr 字段中？我的 schema.xml 看起来应该如何？*
您可以定义动态字段并使用单个复制字段将它们复制到单个字段

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:35:28.790

看来我在 copyField 中最大的问题是我需要删除并重新加载索引才能启用它。添加一个替换现有文档的文档就足够了。

# javascript - 无法定义一组 raphaelJS

> ID：15242438
> 
> 赞同：0
> 
> 时间：2013-03-06T08:34:59.457
> 
> 标签：javascript, raphael

所以我尝试在 raphael js 中定义一个集合，但它一直在 raphael.js 文件中给我语法错误（第 3744 行）。我意识到这可能是我试图编写的函数中尚未关闭的括号，但对于我的生活，我似乎无法找到它。

```
var drawsymbol = function(paper, x, y, symboltype){
var st = paper.set(), newx = x+50;
if(symboltype==1){

    st.push(
        var circ = paper.cicle(x,y,50);//.attr({fill: "rgb(255,0,0)", stroke: "none", opacity: 1});
        var conPoint1 = paper.circle(newx, y, 5);//.attr({fill: "rgb(255, 0,0)", stroke: "none", opacity: .5});
        pathString = 'M'+newx+' '+y+ 'l10 0';
        var path = paper.path(pathString);
    );

}

return symbolset; 
```

};

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:00:20.050

您在集合上错误地使用了 push 方法，您不能`;`像您一样终止每一行，根据文档，它们需要是逗号分隔的对象：

```
var st = paper.set();
st.push(
    paper.circle(10, 10, 5),
    paper.circle(30, 10, 5)
);
st.attr({fill: "red"}); // changes the fill of both circles 
```

在 push 方法中确定要添加到集合中的内容就可以了。

# sql - 在 sql 中使用 like 将输入参数与 xml 值进行比较

> ID：15242446
> 
> 赞同：1
> 
> 时间：2013-03-06T08:35:22.210
> 
> 标签：sql, tsql

我有一个 SQL 表，其中有一列存储这样的 xml

```
<AdditionalInfo><RegistrantID>16279</RegistrantID></AdditionalInfo> 
```

我创建了一个这样的存储过程：

```
CREATE PROC hr_GetJobStatusByRegistrantId

@registrantId VARCHAR
AS  
BEGIN  
SELECT TOP 1 
      [IsSubscribed]
  FROM [Hrge].[dbo].[hr_Jobs]
  where AdditionalInfo LIKE  '%<AdditionalInfo><RegistrantID>%' + @registrantId + '%</RegistrantID></AdditionalInfo>%'

  END 
```

当我运行这个存储过程时，我得到空值：

```
 exec hr_GetJobStatusByRegistrantId '16279' 
```

如果我将此参数设为整数，那么我会转换为 int 错误。

请建议我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:26:45.643

（只是将评论扩展为答案）

* * *

您应该始终指定 char 或 varchar 字段的宽度，因为除非您执行默认设置。[文档](http://msdn.microsoft.com/en-us/library/ms176089.aspx)说：

> 在数据定义或变量声明语句中未指定 n 时，默认长度为 1。使用 CAST 和 CONVERT 函数时未指定 n 时，默认长度为 30。

这意味着在您的情况下，您实际上已将“16279”的值修剪`@registrantId`为`VARCHAR(1)`单个字符（“1”），并且您实际上搜索了

```
%<AdditionalInfo><RegistrantID>%1%</RegistrantID></AdditionalInfo>% 
```

在数据库中。这实际上返回了它在数据库中找到的第一条记录的 IsSubscribed 标志，该记录在 `RegistrantID`字段中的任何位置都有“1”。你很幸运值有问题，所以你注意到了。

此外，您在参数周围使用 % 。这意味着当您搜索 `RegistrantID`123 中的 a 时，您将得到 123、1234、2123、51236 等的结果，然后只取第一个，无论那个是哪个（由数据库决定，因为有无顺序条款）。我猜您需要完全匹配，因此您应该删除它们，然后使用

```
'%<AdditionalInfo><RegistrantID>' + @registrantId
                                           + '</RegistrantID></AdditionalInfo>%' 
```

此外，它`RegistrantId`实际上是一个数字，如果程序的接口反映了它会很好，所以它可以定义为

```
@registrantId int 
```

然后在查询中转换为字符串

```
'%<AdditionalInfo><RegistrantID>' + cast(@registrantId as varchar(10))
                                           + '</RegistrantID></AdditionalInfo>%' 
```

# php - 通过php imap连接gmail？本地颁发者证书错误

> ID：15242455
> 
> 赞同：8
> 
> 时间：2013-03-06T08:35:53.483
> 
> 标签：php, gmail, imap

我需要通过`IMAP`使用连接到 Gmail 帐户`PHP`。我有一些工作代码，但是在尝试建立连接时，我收到以下错误：

> 警告：imap_open() [function.imap-open]: 无法打开流 {imap.gmail.com:993/ssl}[Gmail]/All Mail in /home/demoosiz/public_html/goqlue/email.php 在线31
> 无法连接到 Gmail：imap.gmail.com 的证书失败：无法获取本地颁发者证书：/C=US/O=Google Inc/CN=Google Internet Authority

我的代码在下面

```
<?php
    /* connect to gmail */
    $hostname = '{imap.gmail.com:993/ssl}[Gmail]/All Mail';
    $username = 'hidden';
    $password = 'hidden';

    /* try to connect */
    $inbox = imap_open($hostname,$username,$password) or die('Cannot connect to Gmail: ' . imap_last_error());

    /* grab emails */
    $emails = imap_search($inbox,'ALL');

    /* if emails are returned, cycle through each... */
    if($emails) {

      /* begin output var */
      $output = '';

      /* put the newest emails on top */
      rsort($emails);

      /* for every email... */
      foreach($emails as $email_number) {

        /* get information specific to this email */
        $overview = imap_fetch_overview($inbox,$email_number,0);
        $message = imap_fetchbody($inbox,$email_number,2);

        /* output the email header information */
        $output.= '<div class="toggler '.($overview[0]->seen ? 'read' : 'unread').'">';
        $output.= '<span class="subject">'.$overview[0]->subject.'</span> ';
        $output.= '<span class="from">'.$overview[0]->from.'</span>';
        $output.= '<span class="date">on '.$overview[0]->date.'</span>';
        $output.= '</div>';

        /* output the email body */
        $output.= '<div class="body">'.$message.'</div>';
      }

      echo $output;
    } 

    /* close the connection */
    imap_close($inbox);
    ?> 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-06T08:43:37.807

这似乎是一个证书问题。

我不告诉你证书问题是什么，也不告诉你如何解决它。

但是，**您可以**忽略**禁用证书验证的**问题，让您的 gmail 帐户容易受到攻击：

```
$hostname = '{imap.gmail.com:993/ssl/novalidate-cert}[Gmail]/All Mail'; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-06T08:47:13.030

> 无法连接到 Gmail：imap.gmail.com 的证书失败：无法获取本地颁发者证书：/C=US/O=Google Inc/CN=Google Internet Authority

您执行代码的系统缺少该证书。您在问题中提供的信息对此无话可说。请查阅您所拥有的操作系​​统的系统文档，了解如何安装证书以及如何获取所需的证书。

另见：

*   [在 PHP 中使用 IMAP 的证书错误](https://stackoverflow.com/q/7891729/367456)

# android - 如何在 android 4.2 的 Activity 中实现幻灯片动画（向左和向右）？

> ID：15242468
> 
> 赞同：0
> 
> 时间：2013-03-06T08:36:26.143
> 
> 标签：android, slide

我正在尝试实现无法完成的左右滑动动画。我有一些示例代码如下，

```
overridePendingTransition(R.anim.slide_in_right, R.anim.slide_out_left); 
```

当我在 4.2 中尝试此操作时，它显示一个错误，并建议我 "Create a field 'anim' in type 'R'" 或 "Create constant 'anim' in type 'R'" 。谁能建议我如何克服这个问题？如果有任何代码可以实现，那将非常棒。

谢谢，钱德拉。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:53:29.737

anim 是 res 目录中的动画文件夹。slide_in_right 是需要创建的 xml 文件和那里提供的动画信息。

所以您需要在 res dir 的 anim 文件夹中提供 slide_in_right.xml 和 slide_out_left.xml 文件中的动画信息。

slide_out_left.xml 中的代码可以是：

```
<?xml version="1.0" encoding="UTF-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android">
  <translate android:fromXDelta="-100%p" android:toXDelta="0%p" android:duration="300" /> 
</set> 
```

对于 slide_in_right.xml

```
<?xml version="1.0" encoding="UTF-8"?>
<set xmlns:android="http://schemas.android.com/apk/res/android">
  <translate android:fromXDelta="0%p" android:toXDelta="100%p" android:duration="300" /> 
  </set> 
```

将这些文件放在 res 目录中的 anim 文件夹中，它应该可以工作。

# flash - 如何获取父子（flash）

> ID：15242470
> 
> 赞同：0
> 
> 时间：2013-03-06T08:36:38.690
> 
> 标签：flash, actionscript

我正在使用 adobe flash cs5，所以

```
mainTimeline -> {

 child1 movieclip ->{

  //i want from here to get parent.child2, but i get an error that there are no child2

 }

 child2 movieclip ->{

 }

} 
```

我已经为 child2 电影剪辑添加了一个名称并将其导出到 actionscript，我也尝试过 stage.child2 - 但他没有看到它，我不知道可能是什么原因..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:03:09.257

如果子影片剪辑在时间轴上“彼此相邻”，那么尝试一下如何：

```
child1.parent.child2 
```

或许

```
(child1.parent).child2 
```

其背后的逻辑是 child1.parent 应该是对时间线的引用，然后可以访问 child2。

但是，如果您经常需要这样做，那么将 child2 的引用传递给 child1 或重组您的代码以避免这种情况可能是值得的。这样会减少“盲目依赖”或“通过时间线搜索”，并且可能不太容易损坏。将来编辑也可能更清晰。

# sharepoint-2010 - SharePoint 2010 - 将 FilterMultiValue 与 documentSet 结合使用（过滤文档库）

> ID：15242471
> 
> 赞同：1
> 
> 时间：2013-03-06T08:36:39.433
> 
> 标签：sharepoint-2010, filtering, sharepointdocumentlibrary, document-set

有没有人将**FilterMultiValue**与**DocumentSet**结合使用？

我有一个包含 2 种内容类型的列表（1 = 文档和 2 = 文档集）。我添加了 4 个文档：2 个文档和 2 个文档集。我的列表中有一个列 (DWHID)，我想用它来过滤列表。1 个文档和 1 个文档集链接到 dwhid 5436。其他文档和文档集链接到 dwhid 1234。

现在，当我执行此过滤器 (?FilterField1=DWHID&FilterValue1=5436) 时，一切正常：如预期的那样，我得到了 1 个文档和 1 个文档集。?FilterField1=DWHID&FilterValue1=1234 也是如此。

但是，当我使用此过滤器 (?FilterName=DWHID&FilterMultiValue=5436) 时，文档被正确过滤，但我看到了所有文档集（链接到 5436 的一个和链接到 1234 的一个）。

知道如何解决这个问题吗？或者它是一个错误？

提前谢谢！

# ssis - SSIS - 根据条件获取记录

> ID：15242475
> 
> 赞同：0
> 
> 时间：2013-03-06T08:36:51.433
> 
> 标签：ssis

如何根据条件获取记录，例如：我的表中有 100 条记录。每次我想一次获取 10 条记录，然后再获取下一组 10 条记录，直到表数据结束。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T16:25:21.263

首先，不确定您为什么要这样做。您可以在目标中指定批量大小。

但是，如果您有任何其他重要原因一次处理 10 条记录，那么您可以使用 foreach 循环。数据流任务中没有 FOR..LOOP。选项1。获取控制流中的记录计数，然后创建一个 for 循环容器并分配变量。在容器内，使用数据流任务并使用变量过滤源并处理它们。

纳米

# android - 我们可以提供对单个图像不同部分的导航吗

> ID：15242477
> 
> 赞同：1
> 
> 时间：2013-03-06T08:36:53.450
> 
> 标签：android, android-layout, android-widget

我们正在开发一个 Android 应用程序，要求在单击图像的不同部分时具有不同导航的单个图像。例如，建筑物的完整图像并单击我们想要显示公寓中提供的设施的不同公寓（建筑面积、房间数量、阳台数量、露台（如果是顶层公寓）等）。

想过以下两种可能，

1.  将图像切片并放在布局 xml 中（使其看起来像单个图像），一旦用户单击它，使用图像视图 ID，我们将知道单击了哪个部分。

2.  使用 onclick 事件将图像切片并放在 html 中（使其看起来像单个图像），在 webview 中加载 html，创建处理点击的 JavaScript 类。

上面两个很难，因为零件不是正确的矩形或正方形。

ASP.Net 有用于此目的的 ImageMap 控件，我们在 Android 中有类似的东西吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:48:20.860

在 android 中没有这样的组件可以做到这一点，但您可以轻松地创建一个：

```
public class ImageMap extends ImageView implements onClickListener 
{

  List<Rect> hotspot;

  public ImageMap(Context c)
  {
    super(c);
    hotspot = new List<Rect>();
    setOnClickListener(this);
  }

public void addHotSpot(Rect r)
{
   hotspots.add(r);
}

  public void onClick(Event e)
  {
     int currentPosition = 0;
     for(Rect spot : hotspot){
       if(spot.contains(e.getX(), e.getY()))
            triggerClickInHotSpotAtPos(currentPosition);
       currentPosition ++;
     }

  }

  public void triggerHotSpot(int hotspotIndex)
  {
   //TODO  do something useful like calling listener for this given hotspot etc ...
  }
} 
```

请注意，这不是完成的工作，但它更像是伪代码，重要的是你明白了。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:43:14.423

[您可以通过点击其onTouch 事件处理程序](http://developer.android.com/reference/android/view/View.html#onTouchEvent%28android.view.MotionEvent%29)来使用单个 ImageView 执行此操作。

有关如何获取触摸事件坐标的详细信息，请参阅[MotionEvent文档。](http://developer.android.com/reference/android/view/MotionEvent.html)

# javascript - 按同级分组标签值

> ID：15242478
> 
> 赞同：0
> 
> 时间：2013-03-06T08:36:55.930
> 
> 标签：javascript, jquery, xml

我正在尝试使用 jQuery 操作 XML。特别是，我想对`Question`标签的值进行分组，`GroupName`这样我就可以创建一个带有`GroupName`as 标题的 jQuery Accordion 和每个`GroupName`作为内容的问题。

XML：

```
<?xml version="1.0"?>
<GenericFormData>
  <UserQuestions>
    <UserQuestion>
      <BoxID>Box_1_6</BoxID>
      <Question>Refund requested?</Question>
      <FieldType>3</FieldType>
      <GroupName/>
    </UserQuestion>
    <UserQuestion>
      <BoxID>Box_1_7</BoxID>
      <Question>Would you like to receive forms?</Question>
      <FieldType>3</FieldType>
      <GroupName/>
    </UserQuestion>
    <UserQuestion>
      <BoxID>Box_2_14</BoxID>
      <Question>Listing nihil?</Question>
      <FieldType>3</FieldType>
      <GroupName>VIII</GroupName>
    </UserQuestion>
    <UserQuestion>
      <BoxID>Box_2_15</BoxID>
      <Question>Creation date</Question>
      <FieldType>2</FieldType>
      <GroupName>Date and signature</GroupName>
    </UserQuestion>
    <UserQuestion>
      <BoxID>Box_2_16</BoxID>
      <Question>Name of the person signing</Question>
      <FieldType>0</FieldType>
      <GroupName>Date and signature</GroupName>
    </UserQuestion>
    <UserQuestion>
      <BoxID>Box_2_17</BoxID>
      <Question>function of the person signing</Question>
      <FieldType>0</FieldType>
      <GroupName>Date and signature</GroupName>
    </UserQuestion>
    <UserQuestion>
      <BoxID>Box_2_18</BoxID>
      <Question>Phone number of the person signing</Question>
      <FieldType>0</FieldType>
      <GroupName>Date and signature</GroupName>
    </UserQuestion>
    <UserQuestion>
      <BoxID>Box99</BoxID>
      <Question>Liability</Question>
      <FieldType>1</FieldType>
      <GroupName>VII</GroupName>
    </UserQuestion>
  </UserQuestions>
</GenericFormData> 
```

jQuery：

```
$(xmlDoc).find('GroupName').filter(function () {
    return $(this).text() === groupnames[i].toString();
}).parents().find('UserQuestion').each(function () {
    //logic to display `Question` goes here
}); 
```

但这并不像它应该的那样工作。我正在迭代`groupnames`（包含应有的唯一值），但该`each()`方法产生的太多了。有人看到我做错了什么吗？非常感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:45:36.640

## 问题

如果我理解正确；我认为你的错误在于第三行

> ```
> }).parents().find('UserQuestion').each(function () {
>          ^----------------------^ 
> ```

目前您正在选择所有的`parents()`，这从根本上将

> 获取当前匹配元素集中每个元素的祖先，可选地由选择器过滤。

这意味着通过选择父母，您将获得比 更高的元素`UserQuestion`，这将认为您之前的过滤是多余的。

## 解决方案

如果您能够确定这`groupName`将是一个直系孩子，那么您可以改用`parent()`，去掉复数。或者，如果这不是保证，您可以尝试将选择器添加到当前语句中，以仅选择`UserQuestion`s，如下所示：

```
$(xmlDoc).find('GroupName').filter(function () {
    return $(this).text() === groupnames[i].toString();
}).parents('UserQuestion').each(function () {
    //logic to display `Question` goes here
}); 
```

# c# - 在jquery中触发按钮单击的所有可能方法

> ID：15242483
> 
> 赞同：8
> 
> 时间：2013-03-06T08:37:29.377
> 
> 标签：c#, javascript, jquery, webforms

我想知道在 jQuery 中触发按钮的所有可能方法，我试过了，但它不起作用，

```
$("#<%=btA.ClientID%>").trigger('click'); 
```

**注意**：它是一个 ASP.Net 按钮，我想要的是触发按钮单击，以便触发 buttonA 的代码隐藏单击方法。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-06T08:39:16.800

试试这个

```
$("#<%=btA.ClientID%>").click(); 
```

如果它不起作用，请尝试提醒这一点并检查 JQ 是否正在访问它

```
alert($("#<%=btA.ClientID%>").length); 
```

您是否以下列方式向 jquery 注册了事件

```
$(function(){
   $("#<%=btA.ClientID%>").click(function(){
   // your logic here
});
}); 
```

还有一件事要确认，您是直接在页面加载时加载此按钮，还是有一些页面更新面板在后面加载它？

如果是，那么您应该以下列方式将事件绑定到按钮

```
$(document).on('click',"#<%=btA.ClientID%>", function() {...}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T08:39:56.537

```
$("#<%=btA.ClientID%>").click();

Or

$("input[id$='yourbuttonId'").click(); 
```

触发器不起作用的原因是 Jquery 只允许您触发 Jquery 创建的单击。编写点击监听器后使用触发路由。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-06T09:05:55.180

它打败了我，因为它应该是一件非常简单的事情。实际上，我只是尝试了一下，它可以顺利运行。这是我的标记：

```
<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
</head>
<script src="Scripts/jquery-1.4.1.min.js" type="text/javascript"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $("#<%=btA.ClientID%>").trigger('click');
    });
</script>
<body>
    <form id="form1" runat="server">
    <div>
        <asp:Label ID="lbA" runat="server"></asp:Label>
        <asp:Button ID="btA" runat="server" OnClick="btA_Click" Text="Click Me!" />
    </div>
    </form>
</body>
</html> 
```

...我在我的代码后面有这个方法：

```
protected void btA_Click(object sender, EventArgs e)
{
    lbA.Text = "Hello World!";
} 
```

当应用程序运行时，它会立即触发按钮`click`事件和**Hello World!** 文本呈现在标签上。检查你是否可能遗漏一些东西。`btA`

 *** * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T08:38:49.713

```
$("#<%=btA.ClientID%>").click(); 
```

我相信这是唯一的另一种方式。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T08:46:21.003

当控件本身未加载到页面上时，您可能正在尝试连接事件。

试试这个。它会花一点时间，然后连接事件。

```
setTimeout(function () {
    $("#<%=btA.ClientID%>").trigger('click');
}, 10); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-06-13T13:17:36.933

我总是让 ClientIdMode="static" 以便您可以轻松地调用具有您在页面中配置的相同 id 的元素..

因此，您不必使用 ClientID .. 此外，您不能在单独的 js 文件中使用 asp.net 代码。

$("#<%=btA.ClientID%>").trigger('click');

到

$("#btA").click();**

# php - 仅从 http api 中获取所需的字符

> ID：15242489
> 
> 赞同：0
> 
> 时间：2013-03-06T08:38:03.667
> 
> 标签：php, api

我从 http api 收集数据，其中一个 api 是检查我剩余信用的余额。这是我想要做的，获取 file_contents 并从接收到的输出中插入剩余的学分。

```
 $bal =  file_get_contents("http://www.example.com/balancecheck.php?username=123&api_password=123"); 
```

这会输出这样的数据

```
username = 123
validity = 31/03/2103
remaining credits = 5000
user credits = 3000 
```

现在，我只想获取 5000（这是剩余的积分并将其插入我的数据库）

我想使用爆炸，但没有运气。请有人帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:50:42.730

来自[PHP 文档](http://www.php.net/manual/en/function.preg-match.php)：

> 描述
> 
> `int preg_match ( string $pattern , string $subject [, array &$matches [, int $flags = 0 [, int $offset = 0 ]]] )` 在主题中搜索与模式中给出的正则表达式的匹配项。

所以，你需要的是：

```
preg_match( "/remaining credits = (\d+)/", file_get_contents($url), $matches);
$balance = $matches[1]; 
```

## 编辑：

在函数调用`$`之前我有一个额外的。`file_get_contents`我以为 PHP 让你到处都放美元符号。现在应该修好了。

## 编辑2：

以前有`$balance = $matches[0]`过，不过已经改正了。括号`(\d+)`仅捕获数字作为匹配项并将其添加到`$matches`数组的末尾。

# ssis - 从命令行编辑配置文件中的 SSIS 连接

> ID：15242492
> 
> 赞同：0
> 
> 时间：2013-03-06T08:38:12.617
> 
> 标签：ssis, sql-server-2008-r2, oracle11g, database-migration

我使用 SQL Server 导出向导实用程序生成了一个打包的 SSIS。

**我从 Oracle 11g 数据库中提取记录并将它们迁移到 SQL Server 2008 R2。**

由于我有许多具有相同架构的 oracle 数据库（测试、生产），我想将创建的包也用于其他环境。该包将通过命令行执行，理想情况下是根据不同的系统更改源和目​​标连接字符串。

**是否可以使用 package .config 文件来更改源和目​​标连接？**

如果是这样，确保将特定连接字符串用于正确的目标数据库的“关键字”是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:11:16.427

使用向导创建 SSIS 包时，请选择选项在保存包时不保存敏感信息

![在此处输入图像描述](../Images/22274ff4296207fceb42ecd2fed91af6.png)

保存包后，登录到集成服务展开`MSDB`，然后`Maintenance Plan`在文件夹中找到您的 SSIS 包。右键单击`Package`并选择`Run Package`

在连接管理器选项卡中选择您的数据源。

![在此处输入图像描述](../Images/3a60c99ebabc7fb75367955006816b05.png)

然后单击命令行选项。您将获得执行包的整个命令，您可以在其中修改您在上面选择的连接字符串。

该命令可能看起来像

```
 /DTS "\MSDB\PackageName" /SERVER "ServerName" 
 /CONNECTION  DestinationConnectionOLEDB;"\"Data Source=localhost; 
  Initial Catalog=DBName;Provider=SQLNCLI10;Integrated Security=SSPI;
  Auto Translate=false;\"" /CONNECTION SourceConnectionOLEDB;
  "\"Data Source=localhost;Initial Catalog=DBName;Provider=SQLNCLI10;
  Integrated Security=SSPI;Auto Translate=false;\"" 
   /CHECKPOINTING OFF  /REPORTING V 
```

现在为了使用命令提示符执行包，只需添加`dtexec`上述命令。

更改要为不同服务器执行的连接字符串

# sql-server - Join 中的 CASE 语句

> ID：15242497
> 
> 赞同：2
> 
> 时间：2013-03-06T08:38:22.290
> 
> 标签：sql-server, join, case

```
select col1
from table1
case when @col2 is null then left outer join else join end
table2 on (join condition) 
```

以上是我的查询，我想根据 1 个条件在左外连接或右外连接之间进行选择。

是否有更好的解决方案来实现上述问题

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:41:36.520

我不确定这实际上是否可以按照所描述的方式进行......我会这样写；所以你根据你的附加条件短路一个 JOIN 。

```
select col1
  from table1
  left outer join table2
    on (condition)
   and @col2 is null
 right outer join table2
    on (condition)
   and @col2 is not null 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T07:01:24.817

```
select col1
from table1 t1 full join table2 t2 on (join condition)
where case when @col2 is null then t2.col1 else t1.col1 end IS NOT NULL 
```

你可以试试这段代码。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:33:17.533

使用这个结构：

```
select *
from (
   select 
     Key = 1,
   -- remainder of left outer join 
   union all
   select
     Key=2,
   -- remainder of right outer join
) T
where Key = case when (condition) then 1 else 2 end 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T08:48:49.623

```
select col1
from table1
left outer join 
table2 on (join condition)
where @col2 is null or (@col2 is not null and table2.id is not null) 
```

这将在`left outer`或`inner join`基于条件之间进行选择。

# regex - 日志文件的正则表达式

> ID：15242499
> 
> 赞同：-1
> 
> 时间：2013-03-06T08:38:35.273
> 
> 标签：regex, vbscript, vb6

我有这样的日志文件：

```
<CL>
text sample1
<CL>
<CL>
<TR></TR>
</CL>
<CL>
<CL>
<CL>
<TR1></TR1>
</CL>
<CL>
text sample2
<CL>
text sample3
<CL>
<TR1>
<TR2></TR2>
</TR1>
</CL> 
```

我需要编写从该文件返回有效 xml 的正则表达式。我需要这个结果：

```
<CL>
<TR></TR>
</CL>

<CL>
<TR1></TR1>
</CL>

<CL>
<TR1>
<TR2></TR2>
</TR1>
</CL> 
```

这个变量对我不起作用：

```
<CL>[\s\S]*?(<CL>[\s\S]+?</CL>) 
```

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T08:52:48.110

正如我所经历的，正则表达式对于 XML 文件的验证、解析和读取并不是那么好。

最好使用 DOM PARSER 解决方案来解决这个问题。他们中的大多数都有验证方法。在 php 中：http: [//php.net/manual/en/book.simplexml.php](http://php.net/manual/en/book.simplexml.php)（很多工作与此）

或 PHP 简单 HTML DOM 解析器：[http](http://simplehtmldom.sourceforge.net/) ://simplehtmldom.sourceforge.net/ （只需读取 xml 文件并打印从 xml 创建的对象，并获取有效的 xml 结构，因为我记得它不仅适用于 HTML 结构） java: JSOUP 库[http://jsoup.org/](http://jsoup.org/)（与 php 中的 simpledom 几乎相同）

首先，一个有效的 xml 文件应该包含一个根标记（就像 html 文件中的 HTML 标记一样，它包装了文档）

我希望这可以帮助你

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T08:56:40.423

此正则表达式适用于您的示例

```
"<CL>((?!<CL>).)*?(?:<TR[\\d]*?>)+.*?(?:</TR[\\d]*?>)+.*?</CL>" 
```

请注意，依赖于编程语言，您应该设置`Singleline`regex 选项以使此 regex 工作

**在某些语言中编辑**不需要转义\d，所以也试试

```
"<CL>((?!<CL>).)*?(?:<TR[\d]*?>)+.*?(?:</TR[\d]*?>)+.*?</CL>" 
```

**EDIT2**如果您只想捕获 cl 标签内容，您可以简单地使用：

```
<CL>((?!<CL>).)*</CL> 
```

# android - 存储自定义对象的 Arraylist

> ID：15242506
> 
> 赞同：1
> 
> 时间：2013-03-06T08:39:05.100
> 
> 标签：android, json, arraylist

我在共享首选项中保存了自定义对象的 ArrayList，如下所示：

```
SharedPreferences prefs = context.getSharedPreferences("prefName", Context.MODE_PRIVATE);
Editor editor = prefs.edit();
editor.putStringSet("myList", new Gson().toJson(arraylist).toString());
editor.apply(); 
```

通过这样做，一旦保存了值，但是当我退出应用程序并重新启动并尝试保存新值时，旧值就消失了。
知道如何保存旧值并附加新值吗？
我想将所有值保存在同一个数组中，并保存数组以在每次加载应用程序时显示值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:47:27.273

`myList`从读取`prefName`，附加`arraylist`到已保存在首选项中的内容，写回首`myList`选项。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T12:20:15.450

我之前遇到过这个问题......使用泛型它将附加值而不是替换旧数据......

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:10:59.990

此代码可能对您有用。

```
 SharedPreferences setting=context.getSharedPreferences("prefName", Activity.MODE_PRIVATE);
 SharedPreferences.Editor edit=setting.edit();
 edit.putStringSet("myList", new Gson().toJson(arraylist).toString());
 edit.commit(); 
```

# opengl-es - OpenGL ES 2.0 中梯形的透视正确纹理

> ID：15242507
> 
> 赞同：27
> 
> 时间：2013-03-06T08:39:07.813
> 
> 标签：opengl-es, opengl-es-2.0

我画了一个带纹理的梯形，但是结果并没有像我预期的那样出现。

不是显示为一个完整的四边形，而是在其两个组成三角形相交的对角线上出现不连续性。

这张插图说明了这个问题：（
![展示源纹理（方格图案）、预期结果和实际（不正确）结果的插图](../Images/bf37a57cd6ac92632e0d84ab3670fe51.png)
注意：最后一张图片并不是要 100% 忠实地表示，但它应该能说明问题。）

梯形是`GL_TRIANGLE_STRIP`在 OpenGL ES 2.0（在 iPhone 上）中绘制的。它完全面向屏幕绘制，并且没有倾斜（即，这不是您看到的 3D 草图！）

我已经明白我需要执行“透视校正”，大概是在我的顶点和/或片段着色器中，但我不清楚如何做到这一点。

我的代码包括一些简单的模型/视图/投影矩阵数学，但目前没有一个会影响我的纹理坐标值。**更新：**根据用户 infact 的评论，之前的说法是不正确的。

此外，我在 ES 2.0 规范中找到了这个花絮，但不明白它的含义：

> 不支持透视校正提示，因为**OpenGL ES 2.0 要求对所有属性进行透视插值。**

如何正确绘制纹理？

* * *

**编辑：**在下面添加代码：

```
// Vertex shader
attribute vec4 position;
attribute vec2 textureCoordinate;

varying vec2 texCoord;

uniform mat4 modelViewProjectionMatrix;

void main()
{
    gl_Position = modelViewProjectionMatrix * position;
    texCoord = textureCoordinate;
} 
```

* * *

```
// Fragment shader
uniform sampler2D texture;
varying mediump vec2 texCoord;

void main()
{
    gl_FragColor = texture2D(texture, texCoord);
} 
```

* * *

```
// Update and Drawing code (uses GLKit helpers from iOS)

- (void)update
{
    float fov = GLKMathDegreesToRadians(65.0f);
    float aspect = fabsf(self.view.bounds.size.width / self.view.bounds.size.height);
    projectionMatrix = GLKMatrix4MakePerspective(fov, aspect, 0.1f, 50.0f);
    viewMatrix = GLKMatrix4MakeTranslation(0.0f, 0.0f, -4.0f); // zoom out
}

- (void)glkView:(GLKView *)view drawInRect:(CGRect)rect
{
    glClearColor(0.0f, 0.0f, 0.0f, 1.0f);
    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);

    glUseProgram(shaders[SHADER_DEFAULT]);

    GLKMatrix4 modelMatrix = GLKMatrix4MakeScale(0.795, 0.795, 0.795); // arbitrary scale

    GLKMatrix4 modelViewMatrix = GLKMatrix4Multiply(viewMatrix, modelMatrix);

    GLKMatrix4 modelViewProjectionMatrix = GLKMatrix4Multiply(projectionMatrix, modelViewMatrix);
    glUniformMatrix4fv(uniforms[UNIFORM_MODELVIEWPROJECTION_MATRIX], 1, GL_FALSE, modelViewProjectionMatrix.m);

    glBindTexture(GL_TEXTURE_2D, textures[TEXTURE_WALLS]);
    glUniform1i(uniforms[UNIFORM_TEXTURE], 0);

    glVertexAttribPointer(ATTRIB_VERTEX, 3, GL_FLOAT, GL_FALSE, 0, wall.vertexArray);
    glVertexAttribPointer(ATTRIB_TEXTURE_COORDINATE, 2, GL_FLOAT, GL_FALSE, 0, wall.texCoords);
    glDrawArrays(GL_TRIANGLE_STRIP, 0, wall.vertexCount);

} 
```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-06T10:40:57.243

（我在这里有点赌注，因为你的图片没有完全显示我对梯形纹理的期望，所以在你的情况下可能发生了其他事情 - 但一般问题是众所周知的）

纹理不会（默认情况下）在梯形上正确插值。绘制三角形时，将选择对角线之一作为边缘，而该边缘笔直穿过纹理的中间，而不是穿过梯形的中间（想象沿对角线划分的形状 -这两个三角形非常不相等）。

您需要提供的不仅仅是 2D 纹理坐标才能完成这项工作 - 您需要提供 3D（或者更确切地说，投影）纹理坐标，并在片段着色器中执行透视分割、后插值（或者使用纹理查找函数将执行相同的操作）。

下面展示了如何使用老式的 GL 函数为梯形提供纹理坐标（出于演示目的，这些函数更容易阅读）。注释掉的线是 2d 纹理坐标，我已将其替换为投影坐标以获得正确的插值。

```
glMatrixMode(GL_PROJECTION);
glLoadIdentity();
glOrtho(0,640,0,480,1,1000);
glMatrixMode(GL_MODELVIEW);
glLoadIdentity();

const float trap_wide = 600;
const float trap_narrow = 300;
const float mid = 320;

glBegin(GL_TRIANGLE_STRIP);
glColor3f(1,1,1);

//  glTexCoord4f(0,0,0,1);
glTexCoord4f(0,0,0,trap_wide);
glVertex3f(mid - trap_wide/2,10,-10);

//  glTexCoord4f(1,0,0,1);
glTexCoord4f(trap_narrow,0,0,trap_narrow);
glVertex3f(mid - trap_narrow/2,470,-10);

//  glTexCoord4f(0,1,0,1);
glTexCoord4f(0,trap_wide,0,trap_wide);
glVertex3f(mid + trap_wide/2,10,-10);

//  glTexCoord4f(1,1,0,1);
glTexCoord4f(trap_narrow,trap_narrow,0,trap_narrow);
glVertex3f(mid + trap_narrow/2,470,-10);

glEnd(); 
```

此处未使用第三个坐标，因为我们仅使用 2D 纹理。第四个坐标将在插值后划分其他两个，提供投影。显然，如果你在顶点处划分它，你会看到你得到了原始的纹理坐标。

这是两个渲染图的样子：

![在此处输入图像描述](../Images/745ac9126e2f5879a1bfe27053f0cf26.png)

如果您的梯形实际上是转换四边形的结果，那么使用 GL 绘制该四边形可能更容易/更好，而不是在软件中转换它并将 2D 形状输入到 GL...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-08-11T08:38:39.013

你在这里尝试的是倾斜的纹理。示例片段着色器如下：

```
precision mediump float;
varying vec4 vtexCoords;
uniform sampler2D sampler;

void main()
{
   gl_FragColor = texture2DProj(sampler,vtexCoords);
} 
```

看起来不同的两件事是：

1）我们正在使用`varying vec4 vtexCoords;`. 纹理坐标是 4 维的。2)`texture2DProj()`用于代替`texture2D()`

根据梯形的小边和大边的长度，您将分配纹理坐标。以下网址可能会有所帮助： [http ://www.xyzw.us/~cass/qcoord/](http://www.xyzw.us/~cass/qcoord/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-09-09T06:45:57.083

接受的答案给出了正确的解决方案和解释，但对于那些在 OpenGL (ES) 2.0 管道上寻求更多帮助的人......

```
const GLfloat L = 2.0;
const GLfloat Z = -2.0;
const GLfloat W0 = 0.01;
const GLfloat W1 = 0.10;

/** Trapezoid shape as two triangles. */
static const GLKVector3 VERTEX_DATA[] = {
    {{-W0,    0,  Z}},
    {{+W0,    0,  Z}},
    {{-W1,    L,  Z}},

    {{+W0,    0,  Z}},
    {{+W1,    L,  Z}},
    {{-W1,    L,  Z}},
};

/** Add a 3rd coord to your texture data.  This is the perspective divisor needed in frag shader */
static const GLKVector3 TEXTURE_DATA[] = {
    {{0, 0, 0}},
    {{W0, 0, W0}},
    {{0, W1, W1}},

    {{W0, 0, W0}},
    {{W1, W1, W1}},
    {{0, W1, W1}},
};

////////////////////////////////////////////////////////////////////////////////////

// frag.glsl

varying vec3 v_texPos;
uniform sampler2D u_texture;

void main(void) 
{
    // Divide the 2D texture coords by the third projection divisor
    gl_FragColor = texture2D(u_texture, v_texPos.st / v_texPos.p);
} 
```

或者，在着色器中，根据@maverick9888 的回答，你可以使用`texture2Dproj`iOS / OpenGLES2 它仍然只支持`vec3`输入......

```
void main(void) 
{
    gl_FragColor = texture2DProj(u_texture, v_texPos);
} 
```

我还没有真正正确地对其进行基准测试，但对于我非常简单的情况（真的是一维纹理），除法版本似乎有点快。

# c - 神秘变化的结构成员（涉及的指针）：

> ID：15242510
> 
> 赞同：0
> 
> 时间：2013-03-06T08:39:46.240
> 
> 标签：c, pointers, random, memory-leaks, structure

好的，所以我首先要说我对编程很陌生，别介意这个论坛，所以如果有更多/更少的信息，我应该告诉我。我希望我不是在问一个愚蠢的问题：P

无论如何，我正在尝试编写我的第一个完全由我自己工作的程序（除了一个用作乘法程序的简单二维数组程序）。在其中，我基本上是在尝试建立一个简单的博弈论模型。您有 2 个人可以做出选择，这是预先确定的，我将其表示为“int trait”，即 0 或 1。但是我最初将其扩展到 100 人，并一次选择 2 人进行随机测试，并且根据他们的特征，他们被分配不同的分数来确定他们必须进行进一步测试的“后代”数量，但这并不完全重要，因为我的问题是在那之前。

我通过制作一个结构来设置我的测试对象：

```
struct Person { //used for testing and reproduction initialization
    int trait; // 0 for normal - 1 for phycopath
    int score; // reproductive score
    } ;
struct Person *id; 
```

然后像这样分配内存： `id = (struct Person *) malloc(n * sizeof(struct Person));`

并初始化结构：

```
for(i = 0; i < nn; i++) {
    id[i * sizeof(struct Person)].trait = 0;
    id[i * sizeof(struct Person)].score = 0;
}

for(i = nn; i < n; i++) {
    id[i * sizeof(struct Person)].trait = 1;
    id[i * sizeof(struct Person)].score = 0; } 
```

在你说我做错一切之前（我并不是说我没有），只是一些深思熟虑，我检查它是否在之后立即正确初始化：

```
for(i = 0; i < n; i++) {
        printf("id[%d].trait = %d\t", i, id[i * sizeof(struct Person)].trait);
        printf("id[%d].score = %d\n", i, id[i * sizeof(struct Person)].score);
    } 
```

现在我的问题是，在我的代码中的某个地方（我已经做了一些测试来向我指出问题出在哪里），当 i 介于 26 和 37 之间（包括）时，测试对象的特征会不断改变（每次都是这样）。这向我表明，在代码的某个地方，我的变量 id[] 正在被玩弄，但在它的初始化和测试之间我根本不记得它。我的测试表明问题出在：

```
for(i = 0; i < nn; i++) {
        if(p > 0) {
        srand( time(NULL) );
        randn = rand() % p; //MAKE SURE THIS IS OK
        storea = randn;
        storeaa = randf[randn];
        testa = storeaa * sizeof(struct Person); 
```

testa（以及程序后面的 testb）用于以与上述测试打印语句完全相同的方式调用测试对象。

该程序编译并运行（只是不是我想要的方式），大约每十次我尝试运行它我都会收到一个错误：

> 断言 `(old_top == (((mbinptr) (((char *) &((av)->bins[((1) - 1) * 2])) - __builtin_offsetof (struct malloc_chunk, fd)))) &&旧尺寸 == 0) || ((unsigned long) (old_size) >= (unsigned long)((((__builtin_offsetof (struct malloc_chunk, fd_nextsize))+((2 * (sizeof(size_t))) - 1)) & ~((2 * (sizeof (size_t))) - 1))) && ((old_top)->size & 0x1) && ((unsigned long)old_end & pagemask) == 0)' 失败。

这向我暗示随机数生成器可能是错误的？还是内存泄漏——在哪里？老实说，在这一点上我真的一无所知。

我为冗长的解释感到抱歉，希望不会造成太混乱的解释。我已经在这个问题上工作了 2 天，并且花了很多时间在网上进行研究，以避免用我的问题来纠缠别人。任何关于出了什么问题的想法将不胜感激。为了完成这个问题，我将在下面发布我非常草率的全部代码：

```
#include <stdio.h>
#include <stdlib.h> 
#include <assert.h>
#include <time.h>

struct Person { //used for testing and reproduction initialization
    int trait; // 0 for normal - 1 for phycopath
    int score; // reproductive score
    } ;
struct Person *id;
int n; // number of individuals

struct Person *temp;

//remember to type functions before main!!!
int main () {
    //beginning of initialization
    int n = 100; // number of members MUST BE EVEN!!!!!!
    int nn = (n / 2);
    printf("n = %d\nnn = %d\n", n, nn); 
    if(n == 100) { printf("n set to %d \n", n); }
    id = (struct Person *) malloc(n * sizeof(struct Person));//allocate memory for id
    temp = (struct Person *) malloc(n * sizeof(struct Person));
    assert(id != NULL);
    assert(temp != NULL);   
    int i = 0;
    int testa;
    int testb; //two subjects to be used for test
    //initialize rand-function array
    int p = n; //used for decrementing array and random size
    int *randf;
    int *randt;
    int randn;
    int t;
    int r;
    int kids;
    int offs;
    int tests = 0;
    int testkids = 0;
    int storea;
    int storeaa;
    int storeb;
    int storebb;
    int size = sizeof(struct Person);
    randf = malloc( n * sizeof(int));
    randt = malloc( p * sizeof(int));
    randf = realloc(randf, n * sizeof(int)); //allocation to randf
    assert(randf != NULL);
    assert(randt != NULL);

    for(i = 0; i < nn; i++) {
        printf("initialization of non-traits begun\n");
        id[i * sizeof(struct Person)].trait = 0;
        id[i * sizeof(struct Person)].score = 0;
        printf("Person %d set\n", i);
    }

    for(i = nn; i < n; i++) {
        printf("initialization of with-traits begun\n");
        id[i * sizeof(struct Person)].trait = 1;
        id[i * sizeof(struct Person)].score = 0;
        printf("Person %d set\n", i);
    } //initialization complete
    for(i = 0; i < n; i++) {
        printf("id[%d].trait = %d\t", i, id[i * sizeof(struct Person)].trait);
        printf("id[%d].score = %d\n", i, id[i * sizeof(struct Person)].score);
    }
    //beginning of test
    i = 0;

    for(i = 0; i < n; i++) {
        randf[i] = i;
    }
    //selection and usage of test subjects
    i = 0;
    t = 0;
    r = 0;
    for(i = 0; i < nn; i++) {
        if(p > 0) {
        srand( time(NULL) );
        randn = rand() % p; //MAKE SURE THIS IS OK
        storea = randn;
        storeaa = randf[randn];
        testa = storeaa * size;
        //printf("%d\n", id[testa].trait);
        p = p - 1;
        randt = realloc(randt, p * sizeof(int));
        assert(randt != NULL);
        for(t = 0, r = 0; t < p; t++) { //copy randf over to randt exluding t = randn
            if(t != randn) {
                randt[r] = randf[t];
                r++;
            }
            else {}
        }
        randf = realloc(randf, p * sizeof(int));
        assert(randf != NULL);  
//              randf = randt;//copy randt back over to randf               
                for (t=0; t<p; t++) {
                   randf[t] = randt[t]; }
        srand( time(NULL) );
        randn = rand() % p; //MAKE SURE THIS IS RIGHT
        storeb = randn;
        storebb = randf[randn];
        testb = storebb * size;
        //printf("%d\n", id[testb].trait);
        p = p - 1;
        if( p > 0 ) { 
        randt = realloc(randt, p * sizeof(int));
        assert(randt != NULL);
            for(t = 0, r = 0; t < p; t++) { //same as before
                if(t != randn) {
                    randt[r] = randf[t];
                    r++;
                }
                else{}  
            }
            randf = realloc(randf, p * sizeof(int));
            assert(randf != NULL);
            for (t=0; t<p; t++) {
                       randf[t] = randt[t]; }
        }
        }       
        tests++;
    //TESTING TIME!!!
        if(id[testa].trait == 0 && id[testb].trait == 0) {
            id[testa].score = id[testa].score + 2;
            id[testb].score = id[testb].score + 2;
            //printf("Test Successful %d\n", tests);
        } else if(id[testa].trait == 0 && id[testb].trait == 1) {
            id[testa].score = id[testa].score + 1;
            id[testb].score = id[testb].score + 3;
            //printf("Test Successful %d\n", tests);
        } else if(id[testa].trait == 1 && id[testb].trait == 0) {
            id[testa].score = id[testa].score + 3;
            id[testb].score = id[testb].score + 1;
            //printf("Test Successful %d\n", tests);
        } else if(id[testa].trait == 1 && id[testb].trait == 1) {
            //printf("Test Successful %d\n", tests);
            // NO CHANGE
        }else {
            printf("ERROR: Test %d\n", tests);
            printf("id[testa].trait = %d\t%d,%d\n", id[testa].trait, storea, storeaa);
            printf("id[testb].trait = %d\t%d,%d\n", id[testb].trait, storeb, storebb);
        }

    } //END OF TESTING
//Commence Reproduction
    for(i = 0, kids = 0; i < n; i++) {
        kids = kids + id[i * sizeof(struct Person)].score;
        testkids ++;
        //printf("%d kids calculated\n %d parents completed\n", kids, testkids);
    }
    temp = realloc(temp, kids * sizeof(struct Person));//REMEMBER TO FREE
    assert(temp != NULL);   
    r = 0;  
    for(i = 0; i < n; i++) {
        for(offs = id[i * sizeof(struct Person)].score; offs > 0; offs--) {
            temp[r * sizeof(struct Person)].trait = id[i * sizeof(struct Person)].trait;
            temp[r * sizeof(struct Person)].score = 0;
            r++;
        }
    }
    n = kids;
    id = realloc(id, kids * sizeof(struct Person));
    assert(id != NULL);
    for(i = 0; i < n; i++) {
    id[i * sizeof(struct Person)].trait = temp[i * sizeof(struct Person)].trait;
    id[i * sizeof(struct Person)].score = temp[i * sizeof(struct Person)].score;
    }
    printf("Done!");
    free(randf);
    free(randt);
    free(temp);
    free(id);   
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T08:44:16.513

您的使用

> id[i * sizeof(struct Person)]

没有意义。

应该是

```
id[i] 
```

# php - 在支付网关是贝宝的网站上没有贝宝账户的支付

> ID：15242511
> 
> 赞同：2
> 
> 时间：2013-03-06T08:39:53.763
> 
> 标签：php, paypal, payment-gateway, paypal-sandbox

我想在我的网站中集成贝宝。访问者会从我的网站购买产品。但我的客户可能没有贝宝 a/c。

我希望我的客户从我的网站购买产品。

1.  通过万事达卡、信用卡等。没有贝宝账户的人
2.  通过 paypal a/c 谁有 paypal a/c

我创建了贝宝“立即付款”按钮，并使用我的卖家商家账户作为“业务”隐藏字段的值。但它会重定向到它要求登录贝宝账户的页面，这意味着我的客户必须有一个贝宝账户。但是那些没有paypal a/c的客户呢？

请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:02:13.033

是的，它重定向到 PayPal 页面。但是有一部分您可以使用借记卡或信用卡支付。

请转到下面的链接，在那里你可以看到。

[支付宝登录页面](http://i.stack.imgur.com/YrrP5.png)

希望这可以帮助。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T09:31:57.633

没有贝宝帐户的客户也可以轻松地进行付款，而无需前往贝宝。你已经使用了 API 的 DoDirectPayment NVP。看看这个链接。该方法将帮助您使用 dodirectpayment 方法进行付款。虽然您将需要一个贝宝上的卖家账户来接收资金。 [https://www.x.com/paypal-apis-dodirectpayment-php-5.3/nvp](https://www.x.com/paypal-apis-dodirectpayment-php-5.3/nvp)

## 了解方法

[https://www.x.com/developers/paypal/documentation-tools/api/dodirectpayment-api-operation-nvp](https://www.x.com/developers/paypal/documentation-tools/api/dodirectpayment-api-operation-nvp)

## 用代码解释

[http://vikku.info/programming/payment-gateway/paypal-pro-direct-payment-NVP-sale-explained.htm](http://vikku.info/programming/payment-gateway/paypal-pro-direct-payment-NVP-sale-explained.htm)

所以基本上，只需搜索 DoDirectPayment Method 及其相关帮助，您就会得到答案，因为该方法可以完成所有工作。

# python - Django 无法获取我的应用程序的根 url

> ID：15242515
> 
> 赞同：0
> 
> 时间：2013-03-06T08:40:06.740
> 
> 标签：python, django

我已经制作了一个“应用程序”，它应该是我的项目的首页，但是当我尝试将它用作我的项目的根目录时，`http://127.0.0.1:8000/`它给了我一个 404。但是，当我把它作为一个子文件夹`http://127.0.0.1:8000/frontpage/`时它可以工作。这是我的 urls.py 文件：

### 项目/urls.py

```
from django.conf.urls import patterns, include, url

from django.contrib import admin admin.autodiscover()

urlpatterns = patterns('',
    # Uncomment the admin/doc line below to enable admin documentation:
    # url(r'^admin/doc/', include('django.contrib.admindocs.urls')),

    url(r'^/', include('frontpage.urls')),
    url(r'^s/', include('django.contrib.flatpages.urls')),
    url(r'^kalender/', include('events.urls')),
    #url(r'^kontakt/',    include('envelope.urls')),
    url(r'^admin/', include(admin.site.urls)),
    url(r'^adminfiles/', include('adminfiles.urls')), ) 
```

### 首页/urls.py

```
from django.conf.urls import patterns, url

from frontpage import views

urlpatterns = patterns('',
    url(r'^$', views.index, name='index'),
) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T08:44:25.263

```
url(r'^', include('frontpage.urls', namespace="frontpage")),

urlpatterns = patterns('frontpage.views',
    url(r'^$', 'index', name='index'),
) 
```

# java - 如何使用 Intent 通过 Android 发送短信并返回结果

> ID：15242518
> 
> 赞同：2
> 
> 时间：2013-03-06T08:40:18.610
> 
> 标签：java, android

我正在使用 Intent 发送短信：

```
Intent sendIntent = new Intent(Intent.ACTION_VIEW);
if (sendIntent != null) 
{
    sendIntent.putExtra("sms_body", url); 
    sendIntent.setType("vnd.android-dir/mms-sms");
    startActivityForResult(Intent.createChooser(sendIntent, "Sending SMS..."), 1);
} 
```

我怎样才能让它返回到我的应用程序的结果？目前它停留在“消息”视图中。

# php - 如何在php中实现RSS的认证

> ID：15242520
> 
> 赞同：0
> 
> 时间：2013-03-06T08:40:24.383
> 
> 标签：php, rss

我正在尝试为我的 rss 创建身份验证

```
require_once "RSS.php";

$rss =& new XML_RSS("http://localhost/rss_server/rssdata.php"); 
```

上面的 url 拉取提要。我希望通过身份验证知道哪个用户正在访问 RSS url，并且只有真正的用户才能访问 RSS 提要。

我试过http认证。但它不起作用，当我尝试直接访问该 url 时，它显示了一个身份验证提示。

谁能帮我吗...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:05:25.313

您需要将用户名和密码传递给 php 文件，检查信息，如果正确则输出 RSS

它是这样的：

```
if (isset($_REQUEST['username']) && isset ($_REQUEST['password'])) {
    if ( user_exists($_REQUEST['username'], $_REQUEST['password']) ) {
        echo outputRSS();
    }
} 
```

但是您必须考虑（或向我们提供更多信息）如何将这些详细信息发送到 php 脚本。

# javascript - jquery aloha-editor, Aloha.triger

> ID：15242521
> 
> 赞同：0
> 
> 时间：2013-03-06T08:40:26.983
> 
> 标签：javascript, jquery, html

我对 [http://aloha-editor.org/guides/events.html#aloha-editable-created-event](http://aloha-editor.org/guides/events.html#aloha-editable-created-event)页面中的 Aloha.trigger 有疑问 如何实际使用

```
Aloha.trigger( 'aloha-smart-content-changed', {
    'editable'          : , // object of the editable
    'keyIdentifier'     : , // char | null
    'keyCode'           : , // char | null
    'char'              : , // char | null
    'triggerType'       : , // keypress, idle, blur, paste, block-change
    'snapshotContent'   : , // snapshot content of the editable as HTML String
} ); 
```

或者

```
Aloha.trigger( 'aloha-editable-created', [
    // jQuery object reference of an editable
] ); 
```

几乎？我找不到任何例子。只能找到 Aloha.bind

```
Aloha.bind( 'aloha-editable-created', function( jEvent, editable ) {
    console.log( 'editable "' + editable.getId() + '" created' );
}); 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-01T19:32:29.477

使用类似这样的东西

```
Aloha.bind( 'aloha-smart-content-changed', function( jEvent, aEvent){
      // Get updated content
  console.log( this, jEvent, aEvent.getSnapshotContent() );
      // Get the object that is updated - jQ object 
  console.log($(aEvent.editable.obj).eq(0);
}); 
```

# php - 创建具有年份和自动递增值的学生证号

> ID：15242522
> 
> 赞同：0
> 
> 时间：2013-03-06T08:40:33.503
> 
> 标签：php, mysql, phpmyadmin

我创建了一个由文本和自动递增值组成的学生 ID 号，例如：KP0001 - KP9999 它将再次重置为 KP0001，这将导致 ID 号重复。我将其更改为：2013-00001 但它不起作用我不知道为什么。

这是我尝试过的：

```
text  id
KP    1
KP    2
KP    3

SELECT * ,concat(text,LPAD(id,4,'0')) as stud_id FROM students 
```

我想将文本更改为每年更新的年份。谢谢，米尔斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:58:42.147

尝试这个

```
SELECT
  *,
  concat(YEAR(NOW()),'-',LPAD(id,5,'0')) as stud_id
FROM students 
```

## [SQL 小提琴演示](http://www.sqlfiddle.com/#!2/22353/1)

输出

```
id  text    stud_id
--------------------
1   KP      2013-00001
2   KP      2013-00002
3   KP      2013-00003 
```

您可以使用此更新查询

```
UPDATE students AS s
LEFT JOIN(
        SELECT 
        *
        FROM students
    ) AS l ON l.id = s.id
SET s.text = concat(YEAR(NOW()),'-',LPAD(l.id,5,'0')) 
```

# sugarcrm - 如何动态更新目标列表？

> ID：15242523
> 
> 赞同：0
> 
> 时间：2013-03-06T08:40:33.663
> 
> 标签：sugarcrm

我正在使用社区版。每天我都会向 Sugar CRM 数据库添加新的潜在客户。我们使用目标列表发送时事通讯。如何在开始发送电子邮件之前自动更新目标列表？理想情况下，我想使用 SQL 语句或报告作为电子邮件发送过程的电子邮件地址来源。是否可以？

工作流程是：

用户在我们的网站上填写订单。我需要将记录添加到 SugarCRM 数据库。根据用户配置文件，他/她被分配到不同的目标列表。根据用户配置文件有 4 个目标列表。然后，根据配置文件，用户将在注册日期后的 7、15、30 和 90 天收到不同的电子邮件组。正如我所解释的，静态目标列表在这里不起作用，因为每天都有不同的用户在系统中注册，并且每个用户的电子邮件发送时间表取决于注册日期。

我正在尝试发现如何通过 php 直接添加以动态创建目标列表，然后启动活动，但我不确定是否有更好的方法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-08T18:50:02.807

我找到了解决方案。这很简单。我只需要通过 sql 填写 emailman 表。我不需要填写目标列表或类似内容。

# button - 通过企业网站在企业页面上发布“赞”

> ID：15242524
> 
> 赞同：1
> 
> 时间：2013-03-06T08:40:38.753
> 
> 标签：button, facebook-like

我有 FB 个人资料。我创建了一个业务页面。我有我的商业网站，带有“赞”按钮。当我单击该按钮时，一条帖子会出现在我的私人资料中，但不会出现在业务页面上。
如何让我网站上的“赞”出现在 Facebook 的业务页面上？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-27T14:52:47.317

您所要做的就是将喜欢的页面直接链接到您的 Facebook 业务页面。让我举例说明：

```
<div id="fb-root"></div>
<script>(function(d, s, id) {
var js, fjs = d.getElementsByTagName(s)[0];
if (d.getElementById(id)) {return;}
js = d.createElement(s); js.id = id;
js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<h2>Connect with us</h2>
<div id="fb-root"></div>
<div class="fb-like" data-href="http://www.facebook.com/yourbuzpage" data-send="false"     
data-layout="button_count" data-width="149" data-show-faces="false" data-font="verdana">  
</div> 
```

代替

```
data-href="http://www.facebook.com/yourbuzpage" 
```

使用您在 facebook.com 上创建的粉丝页面。

要更改 facebook.com 上的通知设置，我建议您访问[https://en-gb.facebook.com/help/172901342767609/](https://en-gb.facebook.com/help/172901342767609/)

# c# - 如何创建具有动态名称的脚本？

> ID：15242535
> 
> 赞同：-4
> 
> 时间：2013-03-06T08:41:20.743
> 
> 标签：c#, asp.net-mvc

我在浏览器中清除缓存时遇到问题。

我认为您需要生成具有动态唯一名称的脚本。这个怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:46:43.143

标准做法是在脚本名称中添加随机查询参数。如何做到这一点取决于您生成脚本链接的方式。一种选择是添加文件的散列作为现金破坏查询参数 - 这样您将保证新版本被缓存。

或者，您可以将版本控制放在脚本文件 (../v1234/script.js) 的路径中，但这可能需要更多代码来实现，并且会使将静态文件移动到 CDN 变得复杂。

注意：注意不要破坏缓存破坏的调试体验 - 如果您在每个请求上使用新的 Url，某些浏览器将无法识别加载断点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:48:28.220

猜你的意思是：

```
<script>document.write('<script src="script_path?' + Math.random() + '"\><\/script>');</script> 
```

# sql - 如何制定数据迁移标准

> ID：15242536
> 
> 赞同：-1
> 
> 时间：2013-03-06T08:41:24.067
> 
> 标签：sql, sql-server, data-migration

目标：
用表 a 和 b 中的数据加载目标表 c。

问题：
我有两个表 a 和 b 需要迁移到同一个表 c 中。

需要一次加载一张表。当加载到表 c 时，表 a 的条件需要定义该条件最多为访问 1，而表 b 的访问最多为 2。

问题是：
您如何为表 c 制定标准？

表 c 的请求结果：

```
table c
----------
number access gender
--------------------
1      1      2
1      2      2
2      2      2
3      1      1
4      2      1
5      1      2
5      2      2 
```

* * *

```
table a
----------
number access gender
--------------------
1      1      2
2      1      2
3      1      1
4      1      1
5      1      2

table b
----------
number access gender
--------------------
1      2      2
2      2      2
3      2      1
4      2      1
5      2      2

table c
----------
number access gender
--------------------
1      1      null
1      2      null
2      2      null
3      1      null
4      2      null
5      1      null
5      2      null 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:02:52.297

I think I understand what you are trying to do, try using a couple of MERGE statements like so:

```
MERGE c AS target
USING a AS source 
ON (target.number = source.number, target.access = source.access) 
WHEN MATCHED THEN 
UPDATE SET target.gender = source.gender
WHEN NOT MATCHED BY target THEN 
INSERT (number, access, gender) 
VALUES (source.number, source.access, source.gender)

MERGE c AS target
USING b AS source 
ON (target.number = source.number, target.access = source.access) 
WHEN MATCHED THEN 
UPDATE SET target.gender = source.gender
WHEN NOT MATCHED BY target THEN 
INSERT (number, access, gender) 
VALUES (source.number, source.access, source.gender) 
```

# android - 如何正确地将 ContentProvider 添加到现有的应用程序架构中？

> ID：15242539
> 
> 赞同：2
> 
> 时间：2013-03-06T08:41:30.000
> 
> 标签：android, architecture, android-service, android-contentprovider

我正在实施我的第一个 ContentProvider。由于我很缺乏经验，我想检查我的总体设计是否合理。

所以这些是我的要求：

*   提供原始数据的 Web 服务可能会每天更新一次它保存的数据。我可以检查这样的版本更改。
*   从应用程序的角度来看，数据是只读的（想想天气或股票数据）。
*   我已经有一个类可以从应用程序域中获取查询，将它们转换为匹配的 HTTP 请求并异步返回域对象。正如您可能猜到的那样，这就是应用程序当前用来直接从活动中获取数据的方式。
*   现在我想做得更好并使用 a`ContentProvider`在本地持久化数据。
*   应用程序每天会启动一次`Service`，检查服务器上的数据版本，并在需要时更新`ContentProvider`.

以下是我想出的设计： ![内容提供者设计](../Images/80b18e7ad4d27a576a84a5586bf90977.png)

箭头表示数据流，而不是代码依赖性。

我注意到了，我忘了在上面添加一个层`ContentProvider`来将 Cursors 转换为域对象，但是忽略这些细节，你认为这是`ContentProvider`向应用程序架构添加 a 的合理方式吗？

任何意见是极大的赞赏！

# javascript - 哪个是使用 doLayout 函数的合适监听器？

> ID：15242549
> 
> 赞同：1
> 
> 时间：2013-03-06T08:42:03.557
> 
> 标签：javascript, extjs, javascript-framework

我在 EXTJ 工作，请查看以下示例：

```
var containerForm=Ext.widget('panel',{ 
        width: 1100,
        border: false,
        frame: true,
        "layout":"fit",
        title: 'Add User',
        hidden:true,
        listeners:{
                'afterrender': function(panelObj,eOpts )
                {
                    panelObj.doLayout();
                }
        }
    }); 
```

上面面板的 Html 正在通过 ajax 响应更新，如下面的代码所示：

```
formObj.update(jsonResp.html,true,function(){
    containerForm.doLayout();containerForm.focus();
}); 
```

containerForm 是自动高度面板，因为这个面板是多用途的，

当“formObj.update”填充此面板内容时，它的内容加载正确但

如果 ajax 响应“jsonResp.html”有任何图像，那么 doLayout() 函数无助于正确对齐面板高度，

我在 2 个地方添加了 doLayout 函数，但在上述情况下回调函数对我没有帮助：

当我在 2 秒后调用 doLayout 函数时，只有它才能正常工作：

```
formObj.update(jsonResp.html,true,function(){
    setTimeout('containerForm.doLayout(); containerForm.focus();', 2000);
}); 
```

哪个是使用 doLayout 函数的合适监听器？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T17:34:02.663

您可以查看[Mutation Events](http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-eventgroupings-mutationevents)，但这些不是跨浏览器兼容的。如果是，您可以尝试： `formObj.on('DOMSubtreeModified', function(){containerForm.doLayout();}, this);`

你真的只需要确保你`formObj.update()`是完整的。这就是为什么你的超时有帮助。如果要确保设置了innerHtml，只需自己检查即可。

如果您查看[Ext.dom.Element.update() 的 Source](http://docs.sencha.com/ext-js/4-1/source/Element2.html#Ext-dom-Element-method-update)，它只是`dom.innerHtml`用于更新 html。在您的更新回调中，您可以在调用之前检查 innerHtml 是否存在`doLayout()`。我快速拼凑了一些简单的示例代码。

```
var doLayoutIfComplete = function(){
  if(document.getElementById('formObjId').innerHTML == jsonResp.html){
    containerForm.doLayout();
  }
  else{
    doLayoutWhenComplete.delay(500); //Check again in 500ms
  }
}

var doLayoutWhenComplete = new Ext.util.DelayedTask(function(){
  doLayoutIfComplete();     
});

formObj.update(jsonResp.html,true,function(){ 
  doLayoutWhenComplete.delay(500);
}); 
```

# jqgrid - 需要动态禁用 jqGrid 底部的按钮

> ID：15242553
> 
> 赞同：0
> 
> 时间：2013-03-06T08:42:17.360
> 
> 标签：jqgrid

目前，我正在研究 asp.net mvc2 项目，该项目有一个包含三个下拉控件的视图。我还使用 jqGrid 在应用程序中显示数据。jQGrid 在页脚部分显示了名为 Add、Edit、Search 的按钮。我需要动态禁用和启用“搜索”按钮。如果用户从 dropdown1 和 dropdown2 中选择任何项目，那么我需要禁用 Search 按钮，如果用户从 dropdown3 中选择任何项目，那么我需要启用 Search 按钮。

我是 jQGrid 实现的新手。谁能帮我提供一些示例代码来处理上述功能。

谢谢和问候， 桑托什·库马尔·帕特罗

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T11:21:50.170

我建议您阅读[答案](https://stackoverflow.com/a/7057838/315935)和[另一个](https://stackoverflow.com/a/5376355/315935)。答案显示了如何从导航栏隐藏/显示或启用/禁用按钮。您可以使用`onSelectRow`或`beforeSelectRow`回调来动态禁用/启用/隐藏/显示导航器按钮。

# php - XML 中的 PHP 语言文件

> ID：15242556
> 
> 赞同：0
> 
> 时间：2013-03-06T08:42:25.100
> 
> 标签：php, xml, domdocument, xmlreader

所以我正在制作这个必须有多种语言的网站。我四处寻找并得出结论，我应该使用 XML 文件，每种语言一个。女巫对我来说很有意义，但这是我的问题：

我制作了一个如下所示的 XML 文件：

```
<?xml version="1.0" encoding="utf-8"?>
<translations>
  <frontpage>
    <!--Main translation-->
    <translation string="email" value="E-mail" />
    <translation string="password" value="Password" />
    <translation string="createacc" value="Create account" />
    <translation string="login" value="Login" />
    <!--Errors-->
    <translation string="erroremail1" value="E-mail not valid" />
    <translation string="erroremail2" value="There's no account with that e-mail" />
    <translation string="errorpass" value="Incorrect password" />
  </frontpage>
</translations> 
```

但是我只是不明白 PHP 库中的 XMLReader 和 DOMDocument 是如何工作的。这是我到目前为止的代码：

```
public function Translate($page,$string,$variables = array()) {
    $reader = new XMLReader();
    $reader->open(www::findFile("lang/".$this->short.".xml"));
    //Here i want to find the <translation> with the attribute string that is === $string
    //With the parent of $page (fx. Translate("frontpage","erroremail1"))
    $reader->close();

    $find = array();
    for ($x = 0; count($find) != count($variables); $x++) $find[] = "{".$x."}";
    return (isset($value)) ? str_replace($find,$variables,$value) : "NOT TRANSLATED (".$string.")";
} 
```

解决方案：

```
public function Translate($page,$string,$variables = array()) {
    //Read from XML 
    $reader = simplexml_load_file(www::findFile("lang/".$this->short.".xml"));
    foreach ($reader->$page->translation as $t) if ($t['string'] == $string) { $value = $t['value']; break; }
    $find = array();
    for ($x = 0; count($find) != count($variables); $x++) $find[] = "{".$x."}";
    return (isset($value)) ? str_replace($find,$variables,$value) : "NOT TRANSLATED (".$string.")";
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:30:12.217

如果您在文件中也对语言进行编码，您可以（但不能）将多种语言放在同一个文件中。XML 确实支持两者。只是说，因为您选择了 XML，这将是一个好处。

对于您的程序内部，您只需要一个映射

```
page + string + language:= translation 
```

在您的操作中，这是一种语言，您甚至可以忽略它，因此您可以只使用一个数组：

```
$translations[$string] 
```

每个语言和页面。然后，您需要做的就是将文件转换为数组：

```
$getTranslations = function($file, $page) {
   $translations = [];
   foreach(simplexml_load_file($file)->$page->translation as $translation)
   {
       $translations[$translation['string']] = $translation['value'];
   }
   return $translations;        
}

$translations = $getTranslations($file, $page); 

if (isset($translations[$string]) {
   // found
} else {
   // not found (e.g. fallback to $string)
} 
```

这确实为优化留下了很大的空间，例如，您可以将每个文件/页面的翻译保存在内存中，因此您只需要加载一次。或者您可以改为使用`xpath()`来获取该值。

# android - Android - 连接错误

> ID：15242557
> 
> 赞同：0
> 
> 时间：2013-03-06T08:42:28.017
> 
> 标签：android, http

我需要解析下面给出的链接

```
http://192.168.1.91/projects/gprs/ 
```

如果我在浏览器中打开它，我会得到下面给出的响应，

```
 {"machine":[{"id":"3688","machine_code":"999999","di1":"0","di2":"1","di3":"0","di4":"1","di5":"0","di6":"1","di7":"0","di8":"1"}]} 
```

但在我的项目中，logcat 显示连接被拒绝

我需要在 textview 中获取值。如何实现这一点？

Java编码粘贴在下面，

**AndroidJSONParsingActivity.java**

```
 public class AndroidJSONParsingActivity extends ListActivity {

// url to make request
private static String url = "http://192.168.1.91/projects/gprs/";

// JSON Node names
private static final String TAG_CONTACTS = "machine";
private static final String TAG_ID = "di1";
private static final String TAG_NAME = "di2";
private static final String TAG_EMAIL = "di3";
private static final String TAG_ADDRESS = "di4";
private static final String TAG_GENDER = "di5";
private static final String TAG_PHONE = "di5";
private static final String TAG_PHONE_MOBILE = "di7";
private static final String TAG_PHONE_HOME = "di8";
//private static final String TAG_PHONE_OFFICE = "office";

// contacts JSONArray
JSONArray contacts = null;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);

    // Hashmap for ListView
    ArrayList<HashMap<String, String>> contactList = new ArrayList<HashMap<String, String>>();

    // Creating JSON Parser instance
    JSONParser jParser = new JSONParser();

    // getting JSON string from URL
    JSONObject json = jParser.getJSONFromUrl(url);

    try {
        // Getting Array of Contacts
        contacts = json.getJSONArray(TAG_CONTACTS);

        // looping through All Contacts
        for(int i = 0; i < contacts.length(); i++){
            JSONObject c = contacts.getJSONObject(i);

            // Storing each json item in variable
            String id = c.getString(TAG_ID);
            String name = c.getString(TAG_NAME);
            String email = c.getString(TAG_EMAIL);
            String address = c.getString(TAG_ADDRESS);
            String gender = c.getString(TAG_GENDER);

            // Phone number is agin JSON Object
            JSONObject phone = c.getJSONObject(TAG_PHONE);
            String mobile = phone.getString(TAG_PHONE_MOBILE);
            String home = phone.getString(TAG_PHONE_HOME);
            String office = phone.getString(TAG_PHONE_HOME);

            // creating new HashMap
            HashMap<String, String> map = new HashMap<String, String>();

            // adding each child node to HashMap key => value
            map.put(TAG_ID, id);
            map.put(TAG_NAME, name);
            map.put(TAG_EMAIL, email);
            map.put(TAG_PHONE_MOBILE, mobile);

            // adding HashList to ArrayList
            contactList.add(map);
        }
    } catch (JSONException e) {
        e.printStackTrace();
    }

    /**
     * Updating parsed JSON data into ListView
     * */
    ListAdapter adapter = new SimpleAdapter(this, contactList,
            R.layout.list_item,
            new String[] { TAG_NAME, TAG_EMAIL, TAG_PHONE_MOBILE }, new int[] {
                    R.id.name, R.id.email, R.id.mobile });

    setListAdapter(adapter);

    // selecting single ListView item
    ListView lv = getListView();

    // Launching new screen on Selecting Single ListItem
    lv.setOnItemClickListener(new OnItemClickListener() {

        public void onItemClick(AdapterView<?> parent, View view,
                int position, long id) {
            // getting values from selected ListItem
            String name = ((TextView) view.findViewById(R.id.name)).getText().toString();
            String cost = ((TextView) view.findViewById(R.id.email)).getText().toString();
            String description = ((TextView) view.findViewById(R.id.mobile)).getText().toString();

            // Starting new intent
            Intent in = new Intent(getApplicationContext(), SingleMenuItemActivity.class);
            in.putExtra(TAG_NAME, name);
            in.putExtra(TAG_EMAIL, cost);
            in.putExtra(TAG_PHONE_MOBILE, description);
            startActivity(in);

        }
    });

}

} 
```

**JSONParser.java**

```
public class JSONParser {

static InputStream is = null;
static JSONObject jObj = null;
static String json = "";

// constructor
public JSONParser() {

}

public JSONObject getJSONFromUrl(String url) {

    // Making HTTP request
    try {
        // defaultHttpClient
        DefaultHttpClient httpClient = new DefaultHttpClient();
        HttpPost httpPost = new HttpPost(url);

        HttpResponse httpResponse = httpClient.execute(httpPost);
        HttpEntity httpEntity = httpResponse.getEntity();
        is = httpEntity.getContent();           

    } catch (UnsupportedEncodingException e) {
        e.printStackTrace();
    } catch (ClientProtocolException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    }

    try {
        BufferedReader reader = new BufferedReader(new InputStreamReader(
                is, "iso-8859-1"), 8);
        StringBuilder sb = new StringBuilder();
        String line = null;
        while ((line = reader.readLine()) != null) {
            sb.append(line + "\n");
        }
        is.close();
        json = sb.toString();
    } catch (Exception e) {
        Log.e("Buffer Error", "Error converting result " + e.toString());
    }

    // try parse the string to a JSON object
    try {
        jObj = new JSONObject(json);
    } catch (JSONException e) {
        Log.e("JSON Parser", "Error parsing data " + e.toString());
    }

    // return JSON String
    return jObj;

} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:18:21.120

使用以下方法解析您的响应：

```
public void parseHttpResponse(String response){
    JSONObject object;
    try {
        object = (JSONObject) new JSONTokener(response).nextValue();
        JSONArray jsonArray = object.getJSONArray("machine");

        for (int i = 0; i < jsonArray.length(); i++) {
            JSONObject c = jsonArray.getJSONObject(i);
            String id=c.getString("id");
            String machineCode=c.getString("machine_code");
            //so as parse other
            Log.v(TAG, "id: "+id+" machine code: "+machineCode);

        }
    } catch (JSONException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
} 
```

**利用 ：**

```
parseHttpResponse("your_response_here"); 
```

# php - 在 PHP 中创建地图而不使用 Google 地图 API

> ID：15242558
> 
> 赞同：-2
> 
> 时间：2013-03-06T08:42:29.777
> 
> 标签：php, map

有没有什么方法可以在不使用谷歌地图 API 的情况下在 php 中创建地图？我需要在不使用谷歌地图的情况下在 web 应用程序中创建地图。如果是这样，请帮助我。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T08:44:45.890

查看[OpenStreetMap](http://www.openstreetmap.org/)，或者[bing 地图](http://www.microsoft.com/maps/developers/web.aspx)也相当不错。

# java - 如何检查 XML 文件中的更改？

> ID：15242565
> 
> 赞同：0
> 
> 时间：2013-03-06T08:43:11.917
> 
> 标签：java, xml, hash

我想确保 2 个 XML 文件是相同的，并且我看到的 2 个选项是相同的。1\. 获取 XML 的最后修改日期和时间，并检查是否相同。问题是有人可能会忘记更改它，然后它就没有用了。2\. 创建 xml 文件/结构的哈希码。

我在 java 中使用内置库，但是哈希实现可以从运行更改为运行，这没有帮助

```
File model = new File(fileLocation);
DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();
DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();
Document doc = dBuilder.parse(model);
doc.getHash(); 
```

有没有一种简单的方法可以做到这一点，并且希望不需要导入另一个库。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T08:44:38.523

对文件进行排序和比较有帮助吗？

如果是库，您可以尝试[diffxml](http://diffxml.sourceforge.net/)。

[XMLUnit](http://xmlunit.sourceforge.net/)有一个[diff](http://xmlunit.sourceforge.net/api/org/custommonkey/xmlunit/Diff.html)特性

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T10:17:58.180

正如 Martin Thurau 所指出的，这取决于您是否要检查文件是否相同，或者 XML 内容是否相同。这个答案仅适用于第一种情况，当您想知道两个文件是否相同时，我认为这是您的问题，因为您建议了一个哈希值。

在这种情况下，构建哈希不是一个好的选择，您可以像这样更轻松地解决它：

1.  检查文件大小是否相同，如果不同，则不相同。
2.  打开两个文件的流。
3.  只需遍历流并停止第一个差异。
4.  如果没有发现差异，则它们是相同的。

那么为什么不计算哈希值呢？无论如何，您必须读取整个文件才能计算哈希，因此当您比较流时，您可以放弃计算，并且可以停止第一个差异。将文件解析为 DOM 模型也会有同样的缺点。

# tfs - tfs 代理构建所需文件

> ID：15242570
> 
> 赞同：1
> 
> 时间：2013-03-06T08:43:25.097
> 
> 标签：tfs, msbuild

如何将 tfs build on agent 设置为使用一个位置来存储以下文件？

我有几个文件在构建特定项目后运行。文件：

*   一些文件.exe
*   必需的DLL.exe

我用它来创建自定义设置文件，这是从 SomeFile.exe 完成的。现在每次我有想要运行操作的项目时，我都需要将上面的文件复制到项目中，我知道这是错误的。

还有其他方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:17:31.147

您可以将这些文件放在源代码管理中的公共位置。然后在您的构建配置中，您可以将该公共文件夹映射到构建的工作文件夹。

这在不同版本的 Visual Studio 中的命名略有不同。在所有版本中，在编辑构建配置时都会找到它。

**视觉工作室 2008 / 2010**

*   工作区

**视觉工作室 2012**

*   源设置

这允许您将源代码控制文件夹映射到 Build Agents 工作构建文件夹。然后，您将能够在所有构建中访问相同的 exe，并且它们只会在源代码管理中出现一次。

一种常见的做法是有一个专门用于构建工件的团队项目。然后在你的映射中你有这样的东西：

`Status``Source Control Folder``Build Agent Folder              `
`Active``$/BuildProject/lib         ``$(SourceDir)\BuildArtifacts`

# unit-testing - 单元测试自定义学说存储库

> ID：15242574
> 
> 赞同：3
> 
> 时间：2013-03-06T08:43:44.860
> 
> 标签：unit-testing, mocking, doctrine, phpunit, repository

我有一个自定义实体存储库。例如，它看起来像这样：

```
namespace Foo\Repository;

use Doctrine\ORM\EntityRepository;

class Article extends EntityRepository
{
    public function findRecent($limit)
    {
        $qb = $this->createQueryBuilder('a');
        $qb->andWhere('a.publishDate IS NOT NULL')
           ->orderBy('a.publishDate', 'DESC')
           ->setMaxResults($limit);

        return $qb->getQuery()->getResult();
    }
} 
```

我想在这种情况下进行测试：

1.  “最近”中有一个 ORDER BY
2.  有一个限制
3.  实体必须有发布日期

我**不想**验证查询生成器的 SQL 输出，因为 Doctrine 可以在不同版本之间更改 SQL。那会破坏我的单元测试。因此，我的想法是这样的：

1.  创建我的存储库的模拟
2.  创建查询构建器的模拟
3.  确保`$this->createQueryBuilder('a')`返回模拟查询生成器
4.  在查询生成器上测试方法调用

在代码中：

```
namespace FooTest\Repository;

use PHPUnit_Framework_TestCase as TestCase;

class ArticleRepositoryTest extends TestCase
{
    protected $qb;
    protected $repository;

    public function setUp()
    {
        $this->qb         = $this->getMockBuilder('Doctrine\ORM\QueryBuilder')
                                 ->disableOriginalConstructor()
                                 ->getMock();
        $this->repository = $this->getMockBuilder('Foo\Repository\Article')
                                 ->disableOriginalConstructor()
                                 ->getMock();

        $this->repository->expects($this->once())
                         ->method('createQueryBuilder')
                         ->with($this->equalTo('a'))
                         ->will($this->returnValue($this->qb));
    }

    public function testFindRecentLimitsToGivenLimit()
    {
        $limit = '1';
        $this->qb->expects($this->any())
                 ->method('setMaxResults')
                 ->with($this->equalTo($limit));

        $this->repository->findRecent($limit);
    }

    public function testFindRecentOrdersByPublishDate()
    {
        $this->qb->expects($this->any())
                 ->method('andWhere')
                 ->with($this->equalTo('a.publishDate'), $this->equalTo('DESC'));

        $this->repository->findRecent(1);
    }
} 
```

但是，此`findRecent()`调用**从不**内部调用`createQueryBuilder`。PhpUnit 指出：

> FooTest\Repository\ArticleRepositoryTest::testFindRecentLimitsToGivenLimit 方法名称的期望失败等于调用 1 次。方法预期被调用 1 次，实际上被调用 0 次。

我认为我在创建存储库模拟时做错了。我怎样才能确保这种方法有效？或者如果有更好的选择，那是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T22:22:26.503

It looks to me like you are mocking the Repository you are trying to test, so `findRecent()` is indeed mocked and will return null.

You should be able to use the real repository instance.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-11-09T15:28:13.160

`setMethodsExcept()`我发现测试子类存储库的解决方案是在构建模拟时添加一个调用。

因此，您可以`setUp()`像这样修改上面的代码：

```
$this->repository = $this->getMockBuilder('Foo\Repository\Article')
    ->disableOriginalConstructor()
    ->setMethodsExcept([
        // Insert any overridden/implemented functions here, in your case:
        'findRecent',
    ])
    ->getMock(); 
```

# python - Selenium Webdriver for Python：获取页面，输入值，点击提交，获取源码

> ID：15242575
> 
> 赞同：2
> 
> 时间：2013-03-06T08:43:46.863
> 
> 标签：python, selenium-webdriver

好吧，我很困惑。所以我想使用 Selenium Webdriver 和 Python 抓取一个页面。我在 Selenium IDE 中记录了一个测试用例。它有类似的东西

```
Command    Taget
click      link=14 
```

但我不知道如何在 Python 中运行它。理想的最终结果是我有最后一页的来源。

有 run_test_case 命令吗？还是我必须编写单独的命令行？我宁愿错过测试用例和实际自动化之间的联系。每个站点都告诉我如何加载初始页面以及如何从该页面获取内容，但是我如何输入值并单击内容并获取源？

我见过：

```
submitButton=driver.find_element_by_xpath("....")
submitButton.click() 
```

好的。并输入值？并在我提交页面后获取源代码？很抱歉，这太笼统了，但我真的环顾四周，并没有找到一个好的教程，它实际上向我展示了如何做我认为是 Selenium Webdriver 的全部要点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:27:26.033

我从来没有使用过IDE。我只是手动编写测试或站点自动化。

```
from selenium import webdriver

browser = webdriver.Firefox()
browser.get("http://www.google.com")
print browser.page_source 
```

你可以把它放在一个脚本中然后做，`python wd_script.py`或者你可以打开一个 Python shell 并手动输入它，观察浏览器打开，观察它被每一行驱动。为此，您显然还需要安装 Firefox。并非所有版本的 Firefox 都适用于所有版本的 Selenium。每个的当前最新版本（Firefox 19，Selenium 2.31）都可以。

显示登录表单的示例可能如下所示：

```
username_field = browser.find_element_by_css_selector("input[type=text]")
username_field.send_keys("my_username")
password_field = browser.find_element_by_css_selector("input[type=password]") 
password_field.send_keys("sekretz")
browser.find_element_by_css_selector("input[type=submit]").click() 
print browser.page_source 
```

如果你对 css 很了解，这种东西写起来会容易得多。尝试查找在 JavaScript 中生成的元素可能会导致奇怪的错误。例如，您可能在它们存在之前就在寻找它们。通过放入 time.sleep 一段时间并查看是否可以解决问题，很容易判断是否是这种情况。更优雅的是，您可以抽象出某种通用的等待元素功能。

如果您想将 Webdriver 会话作为集成测试套件的一部分运行，那么我建议您使用 Python 的 unittest 来创建它们。您将浏览器驱动到被测站点，并断言您正在执行的操作使页面处于您期望的状态。如果你有兴趣，我可以分享一些例子来说明它是如何工作的。

# html - HTML5 视频无法在 iPhone Safari 浏览器中播放

> ID：15242576
> 
> 赞同：1
> 
> 时间：2013-03-06T08:43:47.067
> 
> 标签：html, video, https, safari

我有一个带有视频标签的 html 页面，使用 http 时在每个浏览器中都能正常工作，但如果网站切换到 https，视频无法在 iPhone safari 浏览器中播放，任何人都看过这个并知道是否有解决方法? 谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:51:46.993

如果您有 devkit，请检查[此](https://stackoverflow.com/questions/4660189/cannot-view-quicktime-movies-over-https-in-safari-or-uiwebview)链接以获取相同的问题或此[苹果论坛链接。](https://devforums.apple.com/message/361209#361209)您必须在服务器上安装有效的中间证书。仅安装服务器证书是不够的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:13:57.713

问题不在于视频、协议或播放器。它与 SSL 证书有关。看看[这里](http://www.neanderthal-technology.com/2012/04/ipad-video-not-working-over-https/)- 它描述了您遇到的类似问题，但在 iPad 上。

# java - 如何在 jsoup 中使用选择器语法获取属性

> ID：15242580
> 
> 赞同：1
> 
> 时间：2013-03-06T08:43:58.720
> 
> 标签：java, jsoup

我需要获取标签属性`href`的值。 我知道使用我可以获得 href 属性值。`a`
`a.attr("href")`

但我想知道是否有任何其他方法可以获取Jsoup`href`中的属性`jTidy`
（使用类似的语法`//a/@href`）。

意味着我可以使用一些选择器语法直接获取属性吗？

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T16:58:10.763

不，您不能通过单个选择器检索属性值。其目的是根据各种标准选择元素。

但是您只能选择那些具有该属性的元素，然后询问它的值。

```
Element withAttr = doc.select("a[href]").first();
String attrAvlue = withAttr.attr("href"); 
```

# php - JSON 多维打印

> ID：15242581
> 
> 赞同：0
> 
> 时间：2013-03-06T08:44:01.040
> 
> 标签：php, multidimensional-array, json

我必须以以下格式打印 json

```
> { header: [ { "signinpage": "ABC" }, { "signinpage": "XYZ" }, {
> "signinpage": "PQR" }, { "signinpage": "ERT" } ] } 
```

我使用了以下代码：

```
 while ($row = mysql_fetch_array($res,MYSQL_ASSOC)) 
  {
    $rows[] = $row["customer"];
  }

  if(mysql_num_rows($res)!= 0)
     {  
      if (!isset($responses[$row['$header']= array ()]))
      {
        for ($i=0;$i<count($rows);$i++)
        {
           if(isset($responses[$row['$header']])) 
           {
              $responses[$row[$header]] = array('signinpage'=>$rows[$i]); 
           }  
         }
       }
       header('Cache-Control: no-cache, must-revalidate');
       header('Expires: Mon, 26 Jul 1997 05:00:00 GMT');
       header('Content-type: application/json; charset="utf-8"');
       echo json_encode($responses);
     } 
```

我是 JSON 新手，发现很难打印，谁能帮我获得所需的输出。提前谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:47:55.883

`$responses = array();`在您的 while 循环之前添加此 linw。

```
$responses = array();
 while ($row = mysql_fetch_array($res,MYSQL_ASSOC)) 
  {
    $rows[] = $row["customer"];
  }

  if(mysql_num_rows($res)!= 0)
     {  
      if (!isset($responses[$row['$header']= array ()]))
      {
        for ($i=0;$i<count($rows);$i++)
        {
           if(isset($responses[$row['$header']])) 
           {
              $responses[$row[$header]] = array('signinpage'=>$rows[$i]); 
           }  
         }
       }
       header('Cache-Control: no-cache, must-revalidate');
       header('Expires: Mon, 26 Jul 1997 05:00:00 GMT');
       header('Content-type: application/json; charset="utf-8"');
       echo json_encode($responses);
     } 
```

代码中的 $header 是什么，它没有分配任何值。

`if (!isset($responses[$row['$header']= array ()]))`这是错误的。键不能是数组

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:50:14.900

现在试试这个它应该适合你：

```
$rows = array();
while($row = mysql_fetch_array($res)) { 
$rows[$row['$header']][]['signinpage']=$row['customer'];
}
print json_encode($rows); 
```

愿这对你有帮助！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:00:40.927

你的循环有问题。我看不到您的 $row / $header 变量的设置位置以及其中的内容。而且你写的 isset 条件是错误的。尝试这样的事情：

```
$responses = array();
while ($row = mysql_fetch_array($res,MYSQL_ASSOC))  {
    $rows[] = $row["customer"];
}

if(mysql_num_rows($res)!= 0) {  
    if (!isset($responses[$row['$header']])) {
        // in case it is not set, create an array..,
        $responses[$row['$header']]= array();
        for ($i=0; $i<count($rows); $i++) {
            // for each row add your assoziative array to it
            $responses[$row[$header]][] = array('signinpage'=>$rows[$i]); 
        }
    }
}
header('Cache-Control: no-cache, must-revalidate');
header('Expires: Mon, 26 Jul 1997 05:00:00 GMT');
header('Content-type: application/json; charset="utf-8"');
echo json_encode($responses); 
```

# python - 我可以使用 Mailgun 获取传入消息吗？

> ID：15242583
> 
> 赞同：1
> 
> 时间：2013-03-06T08:44:10.917
> 
> 标签：python, mailgun

A 使用 Mailgun 发送 ba 邮件，b 收到邮件后回复 a。如果我想跟踪来自 b 的邮件，如何获取邮件？这是代码：

1.发送邮件.py

```
from smtplib import SMTP
import requests 

login_name = "postmaster@zzb.mailgun.org"
password   = "********"

def send_message_via_smtp():
smtp = SMTP("smtp.mailgun.org", 587)
smtp.login(login_name, password)
smtp.sendmail("zebozhuang@163.com","348284770@qq.com", "Subject:mailgun test \n\n just for test.\n\n") 
smtp.quit()

if __name__=="__main__":
send_message_via_smtp() 
```

2.create_route.py

```
import requests
from werkzeug.datastructures import MultiDict

def create_route():
return requests.post(
        "https://api.mailgun.net/v2/routes",
        auth=("api", "key-9c4-t2q6fouilngjummvtv1rge7t00f2"),
        data=MultiDict([("priority", 1),
                    ("description", "Sample route"),
                    ("expression", "match_recipient('.*@qq.com')"),
                    ("action", "forward('qiyazhuang@gmail.com')"),
                    ("action", "stop()")])
    ) 
```

我创建路由并运行脚本sendmail.py。使用电子邮件348284770@qq.com的人回复使用电子邮件zebozhuang@163.com的其他人后，Gmail无法使用Mailgun方法'转发'接收邮件'。谁能告诉我为什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T17:07:28.160

您的消息可能正在传递。检查 Mailgun 控制面板的“日志”选项卡。

您是否看到任何类似这样的条目： Routed: .*@qq.com -> qiyazhuang@gmail.com 'SUBJECT HERE'

“Routed”前缀表示消息触发了路由。如果您看到这一点，并且下一个日志条目以“已送达”为前缀，则该邮件很可能已顺利送达至 Gmail。如果您仍未在收件箱文件夹中看到邮件，请检查您的 Gmail 垃圾邮件文件夹。

免责声明：我为 Mailgun 支持工作。:)

# c# - 数据绑定实体框架对象集 到网格控件（c#）

> ID：15242584
> 
> 赞同：0
> 
> 时间：2013-03-06T08:44:11.380
> 
> 标签：c#, winforms, entity-framework-4, devexpress, xtragrid

我使用 DevExpress`EntityInstantFeedbackSource`作为`XtraGrid`控件的数据源。但是我没有使用`app.config`文件中的连接字符串；而是我在运行时为实体框架设置连接字符串。
代码如下：

```
void Form1_Load(object sender, EventArgs e)
{
    entityInstantFeedbackSource1.KeyExpression = "Prodid";
    entityInstantFeedbackSource1.GetQueryable += entityInstantFeedbackSource1_GetQueryable;
    entityInstantFeedbackSource1.DismissQueryable += entityInstantFeedbackSource1_DismissQueryable;
    gridControl1.DataSource = null;
    gridControl1.DataSource = entityInstantFeedbackSource1;
}
void entityInstantFeedbackSource1_GetQueryable(object sender, GetQueryableEventArgs e)
{
    EntityConnectionStringBuilder ecsb = new EntityConnectionStringBuilder();
    ecsb.Metadata = @"res://*/Model2.csdl|res://*/Model2.ssdl|res://*/Model2.msl";
    ecsb.Provider = @"System.Data.SqlClient";
    ecsb.ProviderConnectionString = @"data source=.\sqlexpress;initial catalog=AdventureWorks;  integrated security=True;MultipleActiveResultSets=True;App=EntityFramework";
    using (var context = new ObjectContext(ecsb.ConnectionString))
    {
        context.DefaultContainerName = "AdventureWorksEntities";
        ObjectSet<Person> query = context.CreateObjectSet<Person>();
        var q = from s in query
               select s;
        e.QueryableSource = q;
        e.Tag = context;
    }
}

void entityInstantFeedbackSource1_DismissQueryable(object sender, GetQueryableEventArgs   e)
{
    ((ObjectContext)e.Tag).Dispose();
} 
```

网格是空白的。但是，如果我围绕“查询”编写一个 foreach 循环并查看输出，`Console.WriteLine`那么我可以看到数据。
另外，如果我设置`e.QueryableSource = q.ToArray().AsQueryable()`了，那么我可以在网格中看到数据。但是这样做会通过抵消`EntityInstantFeedbackSource`.

为什么查询中没有数据？以及如何将 ObjectSet 数据绑定到网格控件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-07T07:57:22.730

I believe the reason of this issue is that you are disposing the `ObjectContext` directly in `GetQueryable` handler rather then to do it in `DismissQueryable` only. Moreover you can pass the resulting object set directly to `e.QuerableSource`.
Thus the correct code should looks like this:

```
void entityInstantFeedbackSource_GetQueryable(object sender, DevExpress.Data.Linq.GetQueryableEventArgs e) {
    //... connection initialization ...
    var context = new ObjectContext(ecsb.ConnectionString);
    ObjectSet<Person> personSet = context.CreateObjectSet<Person>();
    e.QueryableSource = personSet;
    e.Tag = context;
}
void entityInstantFeedbackSource_DismissQueryable(object sender, DevExpress.Data.Linq.GetQueryableEventArgs e) {
    ((ObjectContext)e.Tag).Dispose();
} 
```

# ruby-on-rails - 如何让我的控制器在 json 响应中仅返回对象的 2 个属性？

> ID：15242585
> 
> 赞同：0
> 
> 时间：2013-03-06T08:44:12.930
> 
> 标签：ruby-on-rails, json, ruby-on-rails-3

所以我想在我的回复中取回我的对象​​的`:id, :name`属性。`@neighborhood``json`

这是我在控制器中的操作：

```
 def autocomplete_neighborhood_name
    @neighborhood = Neighborhood.select("id, name").where("name LIKE ?", "#{params[:name]}%").order(:name).limit(10)

    respond_to do |format|
      format.json { @neighborhood :only => [:id, :name]}
    end    
  end 
```

我`format.json...`在线上遇到语法错误。

我该如何完成我想要的？

谢谢。

**编辑 1**

我真正的目标是尝试重构这段代码，使用`format.json`和使用 Rails 3.2.x 的新方法：

```
def autocomplete_neighborhood_name
  respond_with(
    Neighborhood.
      select("id, name").
      where("name LIKE ?", "#{params[:name]}%").
      order(:name).
      limit(10).
      as_json(:only => [:id, :name]))      
end 
```

如果您对如何更好地做到这一点有任何其他建议，我将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T08:52:42.053

尝试这个：

```
format.json { render json: @neighborhood , :only => [:id, :name] } 
```

# ios - 如何在 iPhone 应用程序中实施订阅计划

> ID：15242590
> 
> 赞同：2
> 
> 时间：2013-03-06T08:44:26.167
> 
> 标签：ios, ipad, in-app-purchase, auto-renewing

我们有一个新的要求，即为 Web 应用程序（商业应用程序）创建 iPad 应用程序。在此网络应用程序中，用户可以订阅一个月，之后订阅将自动续订。我们需要创建一个具有相同功能的 iPad 应用程序。

我在决定设计应用程序时遇到了一些麻烦，以下是我的一些想法：

*   是否可以使用 iAP 在 iPad 应用程序中实施每月订阅计划，是否符合 Apple 指南？
*   我们可以使用 In-App-Purchase 支付选项，那么是否可以通过 iAP 实现这种自动续订？或者只是使用网络应用程序进行支付和自动续订，并将 iPad 应用程序用作客户端应用程序？
*   有没有针对这种设计的苹果指南？

我知道这不是一个技术问题，但我是这个 iAP 的新手。而且我还找到了一些苹果文档，但我不确定根据我们的设计它在应用程序中的效果如何。我期待一些专家的意见来决定这个应用程序的设计。如果有人需要对问题进行更多说明，请随时提问。

请分享您的想法和经验。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:53:50.840

对于 iAP，我认为不可能有自动续订功能。

根据苹果评论指南，应用程序不应使用 iAP 以外的方法来管理订阅

[https://developer.apple.com/appstore/resources/approval/guidelines.html](https://developer.apple.com/appstore/resources/approval/guidelines.html)（查找 11.x 下的规则）（我没有将它们粘贴在这里，因为在 NDA 下有）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-07T18:01:42.207

根据您的应用程序，您需要将其保留在 AutoRenewable 过程中。在这里使用您的 ituens 帐户登录，并有一个选项在应用程序购买中管理，在此填写相应的字段，它会询问产品 ID，这对您来说非常重要. 随身携带，您想为此添加 storekit 框架。并且您想为此生成一个易于实现的共享密钥

# android - 自动启动应用程序无法解释的崩溃

> ID：15242591
> 
> 赞同：1
> 
> 时间：2013-03-06T08:44:26.433
> 
> 标签：android, android-intent, boot, autostart, android-broadcast

MainActivity 代码是：

```
 package com.example.testing;

import android.os.Bundle;
import android.app.Activity;
import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.view.Menu;

public class MainActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.main, menu);
        return true;
    }
    public class Boot extends BroadcastReceiver{

        /*@Override
        public void onReceive(Context context, Intent intent) {
                Intent i = new Intent(context, MainActivity.class);
                i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
                i.addFlags(Intent.FLAG_FROM_BACKGROUND);
                context.startActivity(i);  
        }*/
        @Override
        public void onReceive(Context context, Intent intent) {
            // make sure you receive "BOOT_COMPLETED"
            if ((intent.getAction() != null) && (intent.getAction().equals("android.intent.action.BOOT_COMPLETED")))
            {
                // Start the service or activity 
                Intent i = new Intent(context, MainActivity.class);
                i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
                i.addFlags(Intent.FLAG_FROM_BACKGROUND);
                i.addFlags(Intent.FLAG_ACTIVITY_BROUGHT_TO_FRONT);
                try {
                    Thread.sleep(120000);
                } catch (InterruptedException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
                context.startActivity(i); 
            }
        }

   }
} 
```

显现：

```
 <?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.testing"
    android:versionCode="1"
    android:versionName="1.0" >

    <uses-sdk
        android:minSdkVersion="8"
        android:targetSdkVersion="17" />
    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
    <application
        android:allowBackup="true"
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
            android:name="com.example.testing.second"
            android:label="second" >
        </activity>
        <activity
            android:name="com.example.testing.MainActivity"
            android:label="@string/app_name" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <receiver android:enabled="true" android:name=".Boot" android:permission="android.permission.RECEIVE_BOOT_COMPLETED">
        <intent-filter>
                <action android:name="android.intent.action.BOOT_COMPLETED" />
                <category android:name="android.intent.category.DEFAULT" />
        </intent-filter>
        </receiver>
    </application>

</manifest> 
```

在模拟器中，应用程序启动（4.0.3 ICS 的模拟器），但在我的 ICS 4.0.4 SonyEricsson 上它崩溃了，它也用三星 Galaxy 2.2 Froyo Android 测试了这个问题，但同样的问题请帮忙。

我添加了线程睡眠，因为应用程序在手机启动时崩溃了，所以我认为这是由于设备上的资源过载而发生的，这被认为是无用的！

我认为这是定义问题的 LOGCAT 的摘录

```
I/ActivityManager(  274): Start proc com.yahoo.mobile.client.android.mail for broadcast com.yahoo.mobile.client.android.mail/com.yahoo.mobile.client.share.update.SoftwareUpdateSystemBroadcastReceiver: pid=805 uid=10014 gids={3003, 1007, 1015}
D/PhoneStatusBar(  359): disable: < expand icons alerts ticker system_info BACK HOME recent* CLOCK >
D/PhoneStatusBar(  359): disable: < expand icons alerts ticker system_info back* home* recent clock* >
I/ActivityManager(  274): Start proc com.example.testing for broadcast com.example.testing/.Boot: pid=824 uid=10153 gids={}
E/AndroidRuntime(  824): FATAL EXCEPTION: main
E/AndroidRuntime(  824): java.lang.RuntimeException: Unable to instantiate receiver com.example.testing.Boot: java.lang.ClassNotFoundException: com.example.testing.Boot
E/AndroidRuntime(  824):    at android.app.ActivityThread.handleReceiver(ActivityThread.java:2111)
E/AndroidRuntime(  824):    at android.app.ActivityThread.access$1500(ActivityThread.java:127)
E/AndroidRuntime(  824):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1208)
E/AndroidRuntime(  824):    at android.os.Handler.dispatchMessage(Handler.java:99)
E/AndroidRuntime(  824):    at android.os.Looper.loop(Looper.java:137)
E/AndroidRuntime(  824):    at android.app.ActivityThread.main(ActivityThread.java:4441)
E/AndroidRuntime(  824):    at java.lang.reflect.Method.invokeNative(Native Method)
E/AndroidRuntime(  824):    at java.lang.reflect.Method.invoke(Method.java:511)
E/AndroidRuntime(  824):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
E/AndroidRuntime(  824):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
E/AndroidRuntime(  824):    at dalvik.system.NativeStart.main(Native Method)
E/AndroidRuntime(  824): Caused by: java.lang.ClassNotFoundException: com.example.testing.Boot
E/AndroidRuntime(  824):    at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:61)
E/AndroidRuntime(  824):    at java.lang.ClassLoader.loadClass(ClassLoader.java:501)
E/AndroidRuntime(  824):    at java.lang.ClassLoader.loadClass(ClassLoader.java:461)
E/AndroidRuntime(  824):    at android.app.ActivityThread.handleReceiver(ActivityThread.java:2106)
E/AndroidRuntime(  824):    ... 10 more
I/BootReceiver(  274): Copying /proc/last_kmsg to DropBox (SYSTEM_LAST_KMSG) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:21:21.200

logcat 有点解释你的问题......`com.example.testing.Boot`不存在......这是正确的，因为`Boot`它的内部类也是`MainActivity`如此，所以它至少应该是`com.example.testing.MainActivity.Boot`。

但是，我认为不允许将内部类作为接收者，因为系统不知道应该调用哪个“外部类”？`com.example.testing`所以把它放在包里自己的文件里。

# angularjs - 如何自动大写AngularJS输入字段中的第一个字符？

> ID：15242592
> 
> 赞同：55
> 
> 时间：2013-03-06T08:44:32.697
> 
> 标签：angularjs, input, angularjs-directive, capitalize

如何自动大写AngularJS表单元素内输入字段中的第一个字符？

我已经看到了 jQuery 解决方案，但相信这必须通过使用指令在 AngularJS 中以不同方式完成。

* * *

## 回答 #1

> 赞同：100
> 
> 时间：2013-03-06T17:20:35.773

是的，您需要定义一个指令并定义您自己的解析器函数：

```
myApp.directive('capitalizeFirst', function($parse) {
   return {
     require: 'ngModel',
     link: function(scope, element, attrs, modelCtrl) {
        var capitalize = function(inputValue) {
           if (inputValue === undefined) { inputValue = ''; }
           var capitalized = inputValue.charAt(0).toUpperCase() +
                             inputValue.substring(1);
           if(capitalized !== inputValue) {
              modelCtrl.$setViewValue(capitalized);
              modelCtrl.$render();
            }         
            return capitalized;
         }
         modelCtrl.$parsers.push(capitalize);
         capitalize($parse(attrs.ngModel)(scope)); // capitalize initial value
     }
   };
}); 
```

HTML：

```
<input type="text" ng-model="obj.name" capitalize-first> 
```

[小提琴](http://jsfiddle.net/mrajcok/YyYnM/)

* * *

## 回答 #2

> 赞同：53
> 
> 时间：2013-06-04T15:46:49.510

请记住，并非所有事情都需要 Angular 解决方案。你在 jQuery 人群中看到了很多。他们喜欢使用昂贵的 jQuery 函数来做一些用纯 javascript 更简单或更容易做的事情。

因此，虽然您可能非常需要一个大写函数并且上述答案提供了这一点，但仅使用 css 规则“文本转换：大写”会更有效率

```
<tr ng-repeat="(key, value) in item">
    <td style="text-transform: capitalize">{{key}}</td>
    <td>{{item}}</td>
</tr> 
```

* * *

## 回答 #3

> 赞同：23
> 
> 时间：2013-03-06T09:03:23.430

You can create a custom filter 'capitalize' and apply it to any string you want:

```
 <div ng-controller="MyCtrl">
     {{aString | capitalize}} !
</div> 
```

JavaScript code for filter:

```
var app = angular.module('myApp',[]);

myApp.filter('capitalize', function() {
    return function(input, scope) {
        return input.substring(0,1).toUpperCase()+input.substring(1);
    }
}); 
```

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2014-12-04T09:56:58.283

我更喜欢过滤器和指令。这应该适用于光标移动：

```
app.filter('capitalizeFirst', function () {
    return function (input, scope) {
        var text = input.substring(0, 1).toUpperCase() + input.substring(1).toLowerCase();
        return text;
    }
});

app.directive('capitalizeFirst', ['$filter', function ($filter) {
    return {
        require: 'ngModel',
        link: function (scope, element, attrs, controller) {
            controller.$parsers.push(function (value) {
                var transformedInput = $filter('capitalizeFirst')(value);
                if (transformedInput !== value) {
                    var el = element[0];
                    el.setSelectionRange(el.selectionStart, el.selectionEnd);
                    controller.$setViewValue(transformedInput);
                    controller.$render();
                }
                return transformedInput;
            });
        }
    };
}]); 
```

这是一个[小提琴](http://jsfiddle.net/zq3xcehc/)

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2014-06-05T02:16:56.427

修改了他的代码以大写单词的每个第一个字符。如果你给' **john doe** '，输出是' **John Doe** '

```
myApp.directive('capitalizeFirst', function() {
   return {
     require: 'ngModel',
     link: function(scope, element, attrs, modelCtrl) {
        var capitalize = function(inputValue) {
           var capitalized = inputValue.split(' ').reduce(function(prevValue, word){
            return  prevValue + word.substring(0, 1).toUpperCase() + word.substring(1) + ' ';
        }, '');
           if(capitalized !== inputValue) {
              modelCtrl.$setViewValue(capitalized);
              modelCtrl.$render();
            }         
            return capitalized;
         }
         modelCtrl.$parsers.push(capitalize);
         capitalize(scope[attrs.ngModel]);  // capitalize initial value
     }
   };
}); 
```

* * *

## 回答 #6

> 赞同：4
> 
> 时间：2014-03-21T14:09:44.073

使用 CSS :first-letter 伪类。

您需要将所有内容都小写，然后仅将大写应用于第一个字母

```
p{
    text-transform: lowercase;
}
p:first-letter{
    text-transform: uppercase;
} 
```

这是一个例子：http: [//jsfiddle.net/AlexCode/xu24h/](http://jsfiddle.net/AlexCode/xu24h/)

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2013-12-18T20:59:09.353

要解决光标问题（从 Mark Rajcok 的解决方案那里），您可以将 element[0].selectionStart 存储在方法的开头，然后确保将 element[0].selectionStart 和 element[0].selectionEnd 重置为存储的返回前的值。这应该以角度捕获您的选择范围

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2015-04-22T11:41:08.517

对 Mark Rajcok 解决方案的评论：使用 $setViewValue 时，您会再次触发解析器和验证器。如果你在你的 capitalize 函数的开头添加一个 console.log 语句，你会看到它被打印了两次。

我提出以下指令解决方案（其中 ngModel 是可选的）：

```
.directive('capitalize', function() {
   return {
     restrict: 'A',
     require: '?ngModel',
     link: function(scope, element, attrs, ngModel) {
         var capitalize = function (inputValue) {
             return (inputValue || '').toUpperCase();
         }
         if(ngModel) {
             ngModel.$formatters.push(capitalize);
             ngModel._$setViewValue = ngModel.$setViewValue;
             ngModel.$setViewValue = function(val){
                 ngModel._$setViewValue(capitalize(val));
                 ngModel.$render();
             };
         }else {
             element.val(capitalize(element.val()));
             element.on("keypress keyup", function(){
                 scope.$evalAsync(function(){
                     element.val(capitalize(element.val()));
                 });
             });
         }
     }
   };
}); 
```

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2020-12-07T09:15:32.717

生成指令：

```
ng g directive capitalizeFirst 
```

更新文件 capitalize-first.directive.ts：

```
import {Directive, ElementRef, HostListener} from '@angular/core';

@Directive({
  selector: '[appCapitalizeFirst]'
})
export class CapitalizeFirstDirective {

  constructor(private ref: ElementRef) {
  }

  @HostListener('input', ['$event'])
  onInput(event: any): void {
    if (event.target.value.length === 1) {
      const inputValue = event.target.value;
      this.ref.nativeElement.value = inputValue.charAt(0).toUpperCase() + inputValue.substring(1);
    }
  }

} 
```

用法：

```
 <input appCapitalizeFirst> 
```

此代码适用于 Angular 11+

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2014-09-06T19:44:07.063

这是第一个字母大写的过滤器的代码笔：http: [//codepen.io/WinterJoey/pen/sfFaK](http://codepen.io/WinterJoey/pen/sfFaK)

```
angular.module('CustomFilter', []).
  filter('capitalize', function() {
    return function(input, all) {
      return (!!input) ? input.replace(/([^\W_]+[^\s-]*) */g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();}) : '';
    }
  }); 
```

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2015-06-26T05:37:29.467

除了纯 CSS 的答案之外，您始终可以使用[Twitter Bootstrap](http://getbootstrap.com/)：

```
<td class="text-capitalize"> 
```

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2015-05-16T20:57:43.263

建立 Mark Rajcok 的解决方案；重要的是要考虑该指令仅在输入字段参与时评估，否则您将收到错误消息，直到输入字段具有第一个字符。用几个条件轻松修复：一个 jsfiddle 去：[https ://jsfiddle.net/Ely_Liberov/Lze14z4g/2/](https://jsfiddle.net/Ely_Liberov/Lze14z4g/2/)

```
 .directive('capitalizeFirst', function(uppercaseFilter, $parse) {
      return {
        require: 'ngModel',
        link: function(scope, element, attrs, modelCtrl) {
            var capitalize = function(inputValue) {
              if (inputValue != null) {
              var capitalized = inputValue.charAt(0).toUpperCase() +
                inputValue.substring(1);
              if (capitalized !== inputValue) {
                 modelCtrl.$setViewValue(capitalized);
                 modelCtrl.$render();
              }
              return capitalized;
            }
          };
          var model = $parse(attrs.ngModel);
          modelCtrl.$parsers.push(capitalize);
          capitalize(model(scope));
        }
       };
    }); 
```

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2016-08-18T08:52:24.617

css-ony 答案的问题是角度模型没有随视图更新。这是因为 css 仅在渲染后应用样式。

以下指令更新模型并记住光标位置

```
app.module.directive('myCapitalize', [ function () {
        'use strict';

    return {
        require: 'ngModel',
        restrict: "A",
        link: function (scope, elem, attrs, modelCtrl) {

            /* Watch the model value using a function */
            scope.$watch(function () {
                return modelCtrl.$modelValue;
            }, function (value) {

                /**
                 * Skip capitalize when:
                 * - the value is not defined.
                 * - the value is already capitalized.
                 */
                if (!isDefined(value) || isUpperCase(value)) {
                    return;
                }

                /* Save selection position */
                var start = elem[0].selectionStart;
                var end = elem[0].selectionEnd;

                /* uppercase the value */
                value = value.toUpperCase();

                /* set the new value in the modelControl */
                modelCtrl.$setViewValue(value);

                /* update the view */
                modelCtrl.$render();

                /* Reset the position of the cursor */
                elem[0].setSelectionRange(start, end);
            });

            /**
             * Check if the string is defined, not null (in case of java object usage) and has a length.
             * @param str {string} The string to check
             * @return {boolean} <code>true</code> when the string is defined
             */
            function isDefined(str) {
                return angular.isDefined(str) && str !== null && str.length > 0;
            }

            /**
             * Check if a string is upper case
             * @param str {string} The string to check
             * @return {boolean} <code>true</code> when the string is upper case
             */
            function isUpperCase(str) {
                return str === str.toUpperCase();
            }
        }
    };
}]); 
```

* * *

## 回答 #14

> 赞同：-1
> 
> 时间：2013-03-06T08:47:02.020

您可以使用提供的大写过滤器。

[http://docs.angularjs.org/api/ng.filter:大写](http://docs.angularjs.org/api/ng.filter:uppercase)

* * *

## 回答 #15

> 赞同：-3
> 
> 时间：2013-08-20T20:31:39.703

你可以使用纯CSS：

`input { text-transform: capitalize; }`

# node.js - 不要在 Node 中使用流 API 获取推文

> ID：15242596
> 
> 赞同：0
> 
> 时间：2013-03-06T08:44:43.547
> 
> 标签：node.js, twitter

我正在与[Twit](https://github.com/ttezel/twit)合作，以获得一个很好的 Twitter API 包装器。我有一个 cron 来获取特定主题标签上的所有推文。每次有新推文时它都会增加计数器，并在周期结束时将其保存到数据库（MongoDB）中。唯一的问题是，它总是返回 0。
这是代码

```
new cronJob('00 */5 * * * *', function(){ // start parsing 5mn after call, and every 5mn then
        var stream = T.stream('statuses/filter', { track: 'hashtag' })
        var counter = 0;
        var date = new Date();
        var collection = client.collection("TweetsNumber");

        stream.on('tweet', function (tweet) {
          console.log(tweet);
          counter += 1;
        })

        collection.insert({Date: date, CrawledTweets: counter, Channel: "someChannel"});
        console.log(counter + " tweets saved in DB");

    }, null, true, "Europe/Paris"); 
```

根据文档，每次有新推文时都会调用“stream.on”方法。我使用一些热门话题来确保有数据，但它就像从来没有被调用过，我真的不知道为什么。
希望你能帮忙。祝你有美好的一天 ！

编辑： T 已经在程序的另一部分创建，并且具有其他功能，它正在工作。客户也是如此，这是我的数据库。

编辑：感谢 Shodan，它现在可以工作了，请参阅[github 问题](https://github.com/ttezel/twit/issues/42)。非常感谢 ！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T17:00:45.343

推文是否记录到您的控制台？

如果是，那么这不是一个 twit 问题，因为它完全按照您的指示行事。

当我正确阅读您的代码时，您创建了一个`cronjob`，它每 5 分钟触发一次。

*   它连接一个新的本地流，该流应该输出到控制台并在接下来的 5 分钟内增加计数器。
*   它插入到 global`client.collection("TweetNumbers")`中，局部变量 counter 的值为 0
*   它`console.log(counter + " tweets saved in DB");`，局部变量 counter 的值为 0
*   然后该函数退出，并在 5 分钟后重新启动。

*   当接下来的 5 分钟内出现一条推文并增加计数器时，stream.on 应该继续触发，但计数器永远不会被`collection.insert`第二次使用`console.log`。

这是因为您重新启动函数，为所有内容创建新的局部变量并再次记录初始值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T17:20:48.747

你设置`var counter = 0`然后立即`console.log()`它，这意味着'tweet'事件永远没有机会触发和增加计数器。您可能想要这样做：

new cronJob('00 */5 * * * *', function(){ // 调用后 5mn 开始解析，每 5mn 然后 var stream = T.stream('statuses/filter', { track: 'hashtag' } ) var counter = 0; var date = new Date(); var collection = client.collection("TweetsNumber");

```
 stream.on('tweet', function (tweet) {
      console.log(tweet);

      collection.insert({Date: date, CrawledTweets: counter, Channel: "someChannel"});
      counter += 1;

      console.log(counter + " tweets saved in DB");
    })
}, null, true, "Europe/Paris"); 
```

# android - 调试和生产资源

> ID：15242600
> 
> 赞同：6
> 
> 时间：2013-03-06T08:44:55.527
> 
> 标签：android, debugging, android-resources

某些 Android 库（例如[Google Analytics](https://developers.google.com/analytics/devguides/collection/android/v2/#analytics-xml) ）将资源用于配置目的（例如`ga_trackingId`）。

在这些情况下，我对调试和生产有不同的价值观。我目前所做的是在调试时手动注释生产值，反之亦然。它看起来像这样：

```
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <!--  DEBUG -->
    <string name="ga_trackingId">UA-12345678-1</string>
    <integer name="ga_dispatchPeriod">1</integer>
    <bool name="ga_debug">true</bool>

    <!--  PRODUCTION -->    
    <!--string name="ga_trackingId">UA-87654321-1</string>
    <integer name="ga_dispatchPeriod">120</integer>
    <bool name="ga_debug">false</bool-->
</resources> 
```

这种切换配置的方式既繁琐又容易出错，如果我不小心，还会产生不必要的存储库更改。有没有更好的办法？

（例如：在 iOS 上，我使用`IF DEBUG`宏的条件编译）

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2017-08-02T21:13:11.457

在该`src`文件夹下，您可能有一个`main`存储所有共享内容的文件夹。但是您可以拥有用于风味或构建类型的特定资源。

在您将放置 xml 文件副本但内容正确的文件夹`debug`下放置一个名为的文件夹。`src`您必须维护文件夹结构，`debug`以便将`global_tracker.xml`需要放置在`../src/debug/res/xml`

您的文件夹结构应如下所示：

[![在此处输入图像描述](../Images/e4a5e5a62c38b2b1141f6836f515362b.png)](https://i.stack.imgur.com/Xrx2P.jpg)

Android Studio 会感知到这个 xml 文件有多个版本。

这是您应该在 AS 中看到的内容：

[![在此处输入图像描述](../Images/d65718f2983e6afca19eb0346fca1a87.png)](https://i.stack.imgur.com/TlEFP.png)

您可以将它用于所有类型的资源，即，拥有同一个文件的多个版本，它将被“神奇地”正确选择。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:12:19.897

我对依赖于签名的谷歌地图密钥有类似的问题。我所做的是使用有条件地生成/复制资源到项目的 ant 脚本。您可以在 Eclipse 中的 Project>Properties>Builders 下包含 ant 脚本

如果您需要在代码中使用 DEBUG 值，您可以创建一个带有静态值的 java 文件，该文件也将有条件地包含在内。

请评论 ant 环境变量是否正常工作（执行脚本后，您可以在控制台中看到“构建类型：”消息）。

```
<project name="build-res">
<property name="conditional.resources.dir" value="myresources" />
<property name="keys_file" value="res/values/keys.xml" />

<target name="copy-release" if="${build.mode.release}" >
    <property name="build.type" value="Release" />
    <echo message="Build type: ${build.type}" />
    <property name="google.maps.key" value="nanana-value-for-release" />
    <copy file="${conditional.resources.dir}/Release.java" tofile="gen/com/example/project/BuildInfo.java" />
</target>

<target name="copy-debug" if="${build.mode.debug}">
    <property name="build.type" value="Debug" />
    <echo message="Build type: ${build.type}" />
    <property name="google.maps.key" value="lalala-value-for-debug" />
    <copy file="${conditional.resources.dir}/Debug.java" tofile="gen/com/example/project/BuildInfo.java" />
</target>

<target name="build-res" depends="copy-debug,copy-release">
    <echo file="${keys_file}" message="&lt;?xml version='1.0' encoding='utf-8'?&gt;&lt;resources&gt;&lt;string name='google_maps_key'&gt;${google.maps.key}&lt;/string&gt;&lt;/resources&gt;" />
</target>
</project> 
```

# java - 具有未知列表类型的 ArrayAdapter

> ID：15242603
> 
> 赞同：0
> 
> 时间：2013-03-06T08:45:04.000
> 
> 标签：java, android, android-arrayadapter

有什么办法可以让我在下面的代码中执行类似的操作吗？我有许多不同的微调器和列表，我想知道是否有一种方法我不必做很多检查：

```
 private void setSpinner(Spinner spinner, List<?> l){
    if (l != null || !l.isEmpty()){
    ArrayAdapter<?> myAdapter = new ArrayAdapter<?>(
            Prototype_activity.this,
            android.R.layout.simple_spinner_item,
            l);
    spinner.setAdapter(myAdapter);
    spinner.setVisibility(View.VISIBLE);
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:54:21.063

您可能会丢失 for 的类型`ArrayAdapter`而只传递对象列表。它将像`ArrayAdapter`简单地调用`toString`传递给它的对象一样工作，该方法可用于任何 java 对象。

```
private void setSpinner(Spinner spinner, List<?> l){
    if (l != null || !l.isEmpty()){
    ArrayAdapter myAdapter = new ArrayAdapter(
            Prototype_activity.this,
            android.R.layout.simple_spinner_item,
            l);
    spinner.setAdapter(myAdapter);
    }
} 
```

# php - 使用 phpmailer 发送后重定向

> ID：15242607
> 
> 赞同：0
> 
> 时间：2013-03-06T08:45:17.013
> 
> 标签：php, redirect, phpmailer

成功提交表单后，我想将用户重定向到感谢页面。我使用以下脚本，但收到错误消息。请帮忙。

```
<?php
session_start();

$name = check_input($_POST['name'], "Name cannot be empty.");
$email     = check_input($_POST['email'], "Email address cannot be empty.");

if(!preg_match("/^([A-Za-z\s\-]{2,45})$/i", $name))
{ 
show_error("name not valid.");
}

if (!preg_match("/([\w\-]+\@[\w\-]+\.[\w\-]+)/", $email))
{
show_error("Email address not valid.");
}

htmlentities ($message, ENT_QUOTES);

require("../PHPMailer/class.phpmailer.php");

$mail = new PHPMailer();

$mail->From     = "$email";
$mail->AddAddress("myfriend@example.net");

$mail->Subject  = "An HTML Message";
$mail->Body     = "Hello, <b>my friend</b>! \n\n This message uses HTML entities!";
$mail->WordWrap = 50;

foreach(array_keys($_FILES['photo']['name']) as $key) {
$source = $_FILES['photo']['tmp_name'][$key]; // location of PHP's temporary file for this.
$filename = $_FILES['photo']['name'][$key]; // original filename from the client

$mail->AddAttachment($source, $filename);
}

/* Redirect visitor to the thank you page */
header('Location: pthankyou.php');
exit();

function check_input($data, $problem='')
{
$data = trim($data);
$data = stripslashes($data);
$data = htmlentities($data);
if ($problem && strlen($data) == 0)
{
    show_error($problem);
}
return $data;
}

function show_error($Error)
{}
?> 
```

错误信息

> 警告：无法修改标头信息 - 标头已由第 66 行 process.php 中的（输出开始于 PHPMailer/class.phpmailer.php:1370）发送

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:51:42.353

`redirect()`是一个特定的 php 内置函数，需要在任何输出**之前调用。**

*输出*可能是：

*   回声
*   html标签
*   变量转储
*   `<?php`标签前的空格

但是，我没有看到`redirect()`包含在您的代码中。如果您需要更具体的帮助，您必须在问题所在的位置包含代码片段。

# wordpress - 为什么我们在 wordpress 中使用 ../../../wp-load.php？

> ID：15242609
> 
> 赞同：0
> 
> 时间：2013-03-06T08:45:26.420
> 
> 标签：wordpress

抱歉问这种愚蠢的问题。但我不知道我需要你的帮助，我查看了它们在 wordpress 插件中的编码。

```
require_once('../../../wp-load.php'); 
```

我真的不知道 ../../.. 是执行什么某人知道，让我提出一个建议，我不知道核心文件和 php 文件之前的所有 .that 扩展名。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:48:37.647

这会加载 WordPress 框架以在本地环境之外使用。

例如，如果您想要一个处理 AJAX 请求的 PHP 控制器，您可以加载 WordPress 环境来验证当前的 WordPress 用户登录状态。

“../../..”告诉 require 函数从当前文件开始，向上三个目录，然后访问 wp-load.php。

根据该路径，我可以猜测该文件位于主题文件夹中。`wp-content/themes/yourtheme`

# jquery - 在 Jquery 同位素中插入内容

> ID：15242610
> 
> 赞同：0
> 
> 时间：2013-03-06T08:45:27.623
> 
> 标签：jquery

我有一个带有同位素的 div，我正在尝试从另一个 div 中插入内容。但我卡住了。

所以我尝试使用 .html() 从 div2 获取内容并使用 isotope('insert', div2.html()) 将其插入同位素中，但它不起作用

```
<div id="content1" >
   <div  class="large item"> <img src="images/5.jpg" /> </div>
  <div class="small item"> <img src="images/7.jpg" /> </div>
   <div  class="medium item"> <img src="images/6.jpg" /> </div>
  <div class="medium item"> <img src="images/13.jpg" /> </div>
  <div class="small item"> <img src="images/7.jpg" /> </div>
</div>
 <div  id="content2" >
  <div class="box item">
  <p>blabla</p>
     <ul>
      <li>
        aaaa
       </li>
  </ul>
   </div>
 </div>

var $container = $('#content1'); 
    $container.isotope({
          // options 
        itemSelector : ".item",
        masonry: { columnWidth: $container.width() * 0.125},
        resizable: false,
        animationEngine : 'jquery'

    });

   var $newItems = '';
   $container.isotope( 'insert', $newItems); 
```

现在我的问题是当我这样做时

```
var $newItems = $('#content2').html(); 
```

什么都没有发生，但是当我这样做时

```
var $newItems = $('<div class="box item"><h1> Lorem ipsulm </h1><p>Lorem ipsum dolor</p>sit amet, consectetur adipiscing elit.</p></div>'); 
```

它插入它没有问题。

编辑：当我点击一个按钮时它必须插入它

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T09:15:26.863

isotope 需要一个 DOM 元素，而不是字符串。
这对我有用：

```
var node = $('<div/>', {
     html: $('#content2').html()
});
$container.isotope( 'insert', node); 
```

# c# - 用于准备 SQL 表创建的值和类型处理的最佳方式

> ID：15242611
> 
> 赞同：1
> 
> 时间：2013-03-06T08:45:33.733
> 
> 标签：c#, asp.net, asp.net-mvc

我有一个代表将在 sql 数据库中创建的动态表的类。

```
public class DynamicTable
{
      public List<DynamicField> fieldNames { get; set; }
} 
```

DynamicField 表示一对字段名称及其数据类型：

```
public class DynamicField
    {
        public Type type {get;set;}
        public String fieldName {get;set;}

 public DynamicField(String fieldName, Type datatype)
        {
           this.fieldName = fieldName;
           this.type = datatype; 
        }

} 
```

我担心的是，你可以传递任何你想要的类型，但我只需要一些特定的数据类型，比如 String、int、date、float。

我怎样才能改进我的代码，只能通过它们？基于使用属性类型在我的sql数据库中正确创建表的想法，有没有比使用System.Type类型更好的方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:53:41.057

我想您可以使用 Generic 进行约束，如下所示。但我也猜想它在您的动态场景中将非常不可用（并且它不会接受可为空的类型）

```
public class DynamicField
{
    public String fieldName { get; set; }
    private Type _type;

    public DynamicField SetFieldType<T>() where T:struct
    {
        this._type = typeof(T);
        return this;
    }

    public Type GetFieldType()
    {
        return this._type;
    }

    public DynamicField(String fieldName)
    {
        this.fieldName = fieldName;
    }
} 
```

然后，您可以编写如下内容：

```
 var t = new DynamicTable();
   t.Add(new DynamicField("ColumnA").SetFieldType<String>()); 
```

也许您可以只检查为 true 的`type`setter，`value.IsValueType`如果为 false 则抛出异常。

希望这会有所帮助，

# c# - Unity ICallHandler 与 IInterceptionBehavior

> ID：15242613
> 
> 赞同：3
> 
> 时间：2013-03-06T08:45:44.507
> 
> 标签：c#, dependency-injection, unity-container, aop, unity-interception

似乎 Unity 提供了 2 种不同的途径来实现 AoP 功能。

问题是为什么？有什么区别？每种方法的优缺点是什么？

例如使用 ICallHandler：

```
unity.Configure<Interception>()
.AddMatchingRule(
                    new TypeMatchingRule(typeof (ComplexEntity))
                ).AddMatchingRule(
                    new TypeMatchingRule(typeof (ComplexEntity.InnerEntity))
                ).AddMatchingRule(
                    new MemberNameMatchingRule("*")
                ).AddCallHandler(
                    new CallHandler()
                ); 
```

但是也可以使用 IInterceptionBehavior 代替 ICallHandler 来实现类似的功能

```
unity.RegisterType<ComplexEntity,ComplexEntity>
     (new VirtualMethodInterceptor(), new InterceptionBehavior) 
```

还有一个混合的地方可以让你设置拦截但使用调用处理程序，例如。

```
unity.Configure<Interception>()
                .SetInterceptorFor<ComplexEntity>(new VirtualMethodInterceptor())
                .AddPolicy("TestPolicy")
                .AddMatchingRule(
                    new TypeMatchingRule(typeof (ComplexEntity))
                ).AddMatchingRule(
                    new TypeMatchingRule(typeof (ComplexEntity.InnerEntity))
                ).AddMatchingRule(
                    new MemberNameMatchingRule("*")
                ).AddCallHandler(
                    new CallHandler()
                ); 
```

那么使用哪一个呢？为什么在单个框架中存在看似多余的解决方案？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-08T18:16:23.013

答案主要是历史性的。在 Unity 存在之前，策略注入的东西首先出现在 Enterprise Library 3.0 中。需要所有匹配规则的东西，因为没有容器或中心点来连接事物。

当我们开始将拦截集成到 Unity 中时，这给了我们简化事情的机会；策略注入块的经验表明，对于很多人来说，PIAB 的经验是多余的。

但是，我们不想随意破坏使用 PIAB 的每个人（我们已经这样做了几次），所以我们保留了新的、更简单的界面并实现了旧的界面。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-06T09:19:23.860

没关系，我看的不够仔细。

您可以创建自己的 InterceptionBehavior，但这仅适用于类，或者您可以使用库提供的 PolicyInjectionBehavior，然后使用 ICallHandler 和策略。

所以差异最终就像一个简单的与一个多演员代表。策略注入允许您使用容器范围的查询（多播）定义切入点，并将建议应用于与查询匹配的多种类型，而 IInterceptionBehavior 允许您仅对特定类型应用特定建议（单播）​​。

PolicyBehavior 是提供多播功能的 IInterceptionBehavior 的实现。

# java - 在 JButton 的右上角和上角画一些东西

> ID：15242614
> 
> 赞同：4
> 
> 时间：2013-03-06T08:45:46.107
> 
> 标签：java, swing, awt, jbutton

我正在尝试创建 JButton，例如必须在 JButton 的右上角和右上角绘制一个数字。

例如，在通知按钮的情况下，按钮中有一条消息，这怎么可能？可以借助paint方法绘制标签吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T08:57:44.763

有三种方法，通过使用

1.  [玻璃板](https://stackoverflow.com/questions/9729692/can-i-have-a-jtabbedpane-with-a-jmenubar/9734016#9734016)

2.  [基于JXLayer(Java6)的JLayer(Java7)](http://docs.oracle.com/javase/tutorial/uiswing/misc/jlayer.html)

3.  [JButton](http://docs.oracle.com/javase/tutorial/uiswing/components/button.html) (all JComponents) 也是容器，有简单且可能的使用[标准 LayoutManagers](http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html)（仅`JFrame == BorderLayout`且`JPanel == FlowLayout`已`LayoutManager in API`直接实现），[那么基本上一切皆有可能](https://stackoverflow.com/questions/8575641/how-returns-xxxsize-from-jcomponents-added-to-the-jlabel)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T08:58:28.420

`JButton`和任何`JComponent`扩展`Container`类，因此您应该能够将元素添加到`JButton`就像它是一个简单的面板一样。因此，在您的情况下，您可以将带有文本的 JLabel 添加到按钮中。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T15:25:12.420

还可以考虑实现`Icon`装饰按钮；[`ColorIcon`](https://stackoverflow.com/a/3072979/230513)是一个简单的例子。您可以使用颜色来表示可能需要注意的按钮，并且可以使用`drawString()`指定数字。

# osx-mountain-lion - OSX 上的 Java 7 配置说明

> ID：15242618
> 
> 赞同：3
> 
> 时间：2013-03-06T08:45:52.243
> 
> 标签：osx-mountain-lion, java

我一直在使用 Java 进行开发，但最近才从 Windows 切换到 OSX。在 Windows 中，我发现一切都很简单，可以理解。我可以将 JDK 安装到一个包含 JRE 的位置。然后我会配置 PATH、JAVA_HOME 等，然后就可以开始了。

OSX 的方法似乎完全不同。最初 Java 6 是随操作系统预装的。现在我知道 Apple 不再支持这一点，而 Oracle 正在分发他们自己的版本（现在是 Java 7）。

前段时间我安装了Oracle JDK。它似乎已安装在 Library/Java/ 并将 java 控制面板添加到系统首选项中，更新了终端中使用的 java/javac 的版本等。JDK 6 似乎仍然位于 System/Library/Java。我假设这是旧的 Apple 版本，如果我需要使用 Java 6，会被单独留下吗？

我有几个问题...

首先，我的上述评估是否正确？

config 在哪里指示终端中使用哪些工具？当我回显它们时，PATH 中似乎没有 JAVA_HOME 或条目。

为什么在 Java 7 目录中有一个名为 Home 的链接可以返回到旧的 Java 6 工具？

系统首选项中的新 Java 控制面板会不时运行更新。这是更新位于 Library/Java/JavaVirtualMachines/jdk1.7.0_07/contents/home/jre 的 JRE 吗？它是否也在更新JDK？我问是因为在运行多个更新后我不确定版本“1.7.0_07”是否增加了。Oracle 网站上的当前版本似乎是更新 17。

我在这里有什么遗漏吗？如果有人能解释这种相当混乱的情况，我将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-14T11:56:44.247

我会尝试逐点回答，因为您问的事情有点复杂。

> 前段时间我安装了Oracle JDK。它似乎已安装在 Library/Java/ 并将 java 控制面板添加到系统首选项中，更新了终端中使用的 java/javac 的版本等。JDK 6 似乎仍然位于 System/Library/Java。我假设这是旧的 Apple 版本，如果我需要使用 Java 6，会被单独留下吗？
> 
> ...
> 
> 首先，我的上述评估是否正确？

java 6 的旧版本位于 System/library java 下，这个版本需要一些应用程序才能运行，如果你想知道它使用的是哪个应用程序，你可以考虑 photoshop 的主集合（它确实需要一个 jvm 版本6 上班）。

正如您所指出的，由 oracle 管理的较新版本安装在 Library/Java 下。

> 为什么在 Java 7 目录中有一个名为 Home 的链接可以返回到旧的 Java 6 工具？

不知道。如果提出一些建议会很好。

> config 在哪里指示终端中使用哪些工具？当我回显它们时，PATH 中似乎没有 JAVA_HOME 或条目。

[这里](http://www.mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/)的这个人总是有很多解决方案，无论如何我建议你不要直接使用 bashrc 配置文件。您可以在[oracle 网站](http://docs.oracle.com/javase/7/docs/webnotes/install/mac/mac-jdk.html#version)和 mac 用户的一般常见问题解答中[找到](http://docs.oracle.com/javase/7/docs/webnotes/install/mac/mac-install-faq.html)其他解决方案。

他们确实在做一些混乱。

希望这会有所帮助，以防我误解了问题或答案不完整，请进一步询问。

# ios - NSString 保留计数 -1

> ID：15242621
> 
> 赞同：3
> 
> 时间：2013-03-06T08:46:13.120
> 
> 标签：ios, nsstring

我想在方法`NSString`中打印`AppDelegate`类中的保留计数`didFinishLaunchingWithOptions`

```
NSString *str = [[NSString alloc] init];
NSLog(@"str retain count %d",[str retainCount]); 
```

但它总是给出-1而不是+1....为什么？？？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T08:56:11.993

`NSUIntegerMax`表示返回的对象是不朽的。这曾经在文档中，但后来被删除（因为`-retainCount`非常不鼓励）。

在 MRC 中，有些人实际上会覆盖`-retainCount`以防止他们的单例被释放。

在这种情况下，`[[NSString alloc] init]`返回一个常量/不朽是一种逻辑优化，而不是为每个请求创建一个空字符串。当然，你不应该在你的程序中依赖这个细节/行为。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T08:51:41.910

[苹果文档](http://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Protocols/NSObject_Protocol/Reference/NSObject.html#//apple_ref/occ/intfm/NSObject/retainCount)说：

> **特别注意事项**
> 
> 这种方法在调试内存管理问题时没有任何价值。因为任何数量的框架对象可能已经保留了一个对象以保存对它的引用，而同时自动释放池可能在一个对象上保存任何数量的延迟释放，所以您不太可能从中获得有用的信息方法。

所以你不应该指望它的正确性。

此外，`-1`实际上是最大的无符号整数，而不是负值。保留计数返回`NSUInteger`，所以你应该使用`%u`而不是`%d`。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T09:04:02.203

`-retainCount`正如其他人的答案所指出的那样，通常您不应再使用该方法。原因是，很多保留/释放工作是在`NSString`类内部完成的，具体取决于您如何创建它。当您创建一个时，`NSString`您实际上可以创建许多`NSString`子类之一（`id`初始化程序的返回类型不是特定的）。

所有`NSConstantStrings`（由 创建的`@""`）都是不可释放的 - 它们在程序的持续时间内存在（由 gcc 和 clang 指定）。因此，Apple 任意将其设置`retainCount`为可能的最高无符号整数（如果它被读取为有符号，则为 -1，就像这里一样），因为在程序执行期间保持活动的常量对象没有任何*意义*保留计数。

当您以您的方式创建一个空字符串时，Apple 很可能只是自动将您指向`@""`内存中的常量，因为它在运行时占用的空间更少。由于您的对象现在是`NSConstantString`，因此实现它以返回保留计数 -1。

**编辑：**顺便说一句，`NSConstantString`它的子类`NSString`必须实现实现的方法`NSString`，包括`-retainCount`. 这就是为什么您实际上可以`-retainCount`在一个常量字符串对象上调用该方法（以及为什么 Apple 让它返回一个特殊值）。这种继承关系可以在表`NSString.h`头底部附近找到。

# jquery - 输入 onkeydown 事件适用于第一个元素，但不适用于第二个元素

> ID：15242625
> 
> 赞同：0
> 
> 时间：2013-03-06T08:46:28.040
> 
> 标签：jquery, html, onkeydown

我遇到了 onkeydown 事件的问题。我在 2 个输入元素上使用它，但它只适用于第一个。第二，它只是给了我错误：`Uncaught TypeError: object is not a function`.
jQuery：

```
function count() {
    var length = $('#pass').length;
    if (length < 32) {
        $('#length').text(length + ' characters out of 32');
    }
}
function match() {
    if ($('#pass').attr('value') == $('#pass2').attr('value')) 
    {
        $('#match').text('<img src="/css/images/check.png" /> Passwords match.');
    }
    else 
    {
        $('#match').text('<img src="/css/images/close.png" /> Passwords do not match.');
    }
} 
```

HTML：

```
<form method='post'>
    <input type='password' name='pass' value='' id='pass' onkeydown='count()' />
    <span id='length'></span>
    <input type='password' name='pass2' value='' id='pass2' onkeydown='match()' />
    <span id='match'></span>
</form> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:02:34.360

试试下面的代码块

```
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
        <script>
          function count() {
             var length = $('#pass').val().length;
             if (length < 32) {
                $('#length').text(length + ' characters out of 32');
             }
          }
          function match() {
             var matchStatus = $('#match').find('span');
             var matchImg = $('#match').find('img');
             if ($('#pass').val() == $('#pass2').val()) {
               matchImg.prop('src', '/css/images/check.png');
               matchStatus.html('Passwords match');
             }
             else {
                matchImg.prop('src', '/css/images/close.png');
                matchStatus.html('Passwords do not match');
             }
          }

      </script>
    </head>
    <body>
      <form method='post'>
        <input type='password' name='pass' value='' id='pass' onkeyup='count()' />
        <span id='length'></span>
        <input type='password' name='pass2' value='' id='pass2' onkeyup='match()' />
        <span id='match'>
          <img src="" />
          <span></span>
        </span>
      </form>
    </body>
</html> 
```

我发现的错误

1.  $('#pass').length
2.  onkeydown - 应该是 onkeyup - 因为首先它会触发 onkeydown 然后会放置文本（所以长度和相等会给出错误的结果）
3.  当您使用脚本访问项目时，使代码尽可能简单。不要一次又一次地做 $('#match').text 。而是分配给一个 var obj 并使用它。

希望对你有帮助.. ：）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:52:01.400

match 是 js 中的预定义，所以更改`match`为`matched`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T08:52:52.167

使用 jquery.validate js

```
 <html>
     <head>
      <title> Password and Confirm Password Validation Using Jquery </title>
      <script type="text/javascript" src="http://www.technicalkeeda.com/js/javascripts/plugin/jquery.js"></script>
      <script type="text/javascript" src="http://www.technicalkeeda.com/js/javascripts/plugin/jquery.validate.js"></script>
     <script>

    function validatePassword(){  
      var validator = $("#loginForm").validate({
        rules: {                      
          password :"required",
          confirmpassword:{
            equalTo: "#password"
            }   
          },                              
          messages: {
            password :" Enter Password",
            confirmpassword :" Enter Confirm Password Same as Password"
          }
      });
      if(validator.form()){
        alert('Sucess');
      }
    }

     </script>
     </head>

     <body>
      <form method="post" id="loginForm" name="loginForm">
        <table cellpadding="0" border="1">
          <tr>
            <td>Password</td>
            <td><input tabindex="1" size="40" type="password" name="password" id="password"/></td>
          </tr>
          <tr>
            <td>Confirm Password</td>
            <td><input tabindex="1" size="40" type="password" name="confirmpassword" id="confirmpassword"/></td>
          </tr>
          <tr>
            <td colspan="2" align="center"><input tabindex="3" type="button" value="Submit" onClick="validatePassword();"/></td>          
          </tr>
        </table>        
      </form> 
     </body>
    </html> 
```

# apache-flex - Flex：如何验证文本字段中的空格？

> ID：15242628
> 
> 赞同：0
> 
> 时间：2013-03-06T08:46:31.610
> 
> 标签：apache-flex, validation, flex4

我有一个密码字段。它检查它是否至少有 8 个字符和属性设置为必需。但是我不希望用户在文本字段中输入任何空格。我怎样才能做到这一点 ？

这是我的声明标签中的验证码：

```
 <mx:StringValidator id="userPasswordValidator"                          
                        property="text"                                                     
                        required="true"                         
                        minLength="8"                           
                        tooShortError="password must at least be 8 characters"
                        source="{userPassword_field}"/> 
```

我的 MXML 中的文本字段：

```
<s:TextInput id="userPassword_field" x="73" y="48" width="109" height="21" displayAsPassword="true"/> 
```

请问有人可以告诉我如何验证文本字段中的空格吗？

谢谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:14:03.253

您可以简单地阻止用户在文本输入中输入空格。只允许用户在文本输入中添加允许的字符。

```
<s:TextInput id="userPassword_field" x="73" y="48" width="109" height="21" displayAsPassword="true" restrict="A-Z\a-z\0-9"/> 
```

使用 'restrict="AZ\az\0-9"' 来限制用户。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-03-17T04:24:30.537

设置 restrict="^" 将允许除空格以外的所有内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T08:57:15.113

只需对照替换空格的内容检查字段的内容。如果它们不相同，请告诉用户。

例如

```
<Input type="password" onchange="return noSpaces(this)" />
function noSpaces(myInputElem)
{
  var returnVal=true;
  if(myInputElem.value!=myInputElem.value.replace(" ",""))
  {
    alert("Spaces not allowed");
    returnVal=false;
  }
  return returnVal;
} 
```

我还没有测试过这个，但这就是想法。

# node.js - 无法在 node.js 中使用 http.request 发送参数

> ID：15242629
> 
> 赞同：1
> 
> 时间：2013-03-06T08:46:36.353
> 
> 标签：node.js, httprequest, http-status-code-400

我正在使用的脚本是：

```
var http = require('http');
var options = {
  host: 'some url',
  port: 80,
  path: 'path',
  method: 'POST'
};

var req = http.request(options, function(res) {
  console.log('STATUS: ' + res.statusCode);
  console.log('HEADERS: ' + JSON.stringify(res.headers));
  res.setEncoding('utf8');
  res.on('data', function (chunk) {
    console.log('BODY: ' + chunk);
  });
});

req.on('error', function(e) {
  console.log('problem with request: ' + e.message);
});

// write data to request body
req.write('username=abcd&password=defg');
req.end(); 
```

我收到服务器 404 bad request 的响应.. 但是当我使用 firefox 插件“海报”将相同的参数发布到服务器时.. 我得到了正确的回复，即 200 状态代码.. 我想这是我传入的字符串的问题`req.write()`。但相同的字符串与海报工作正常。有人可以解释问题是什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:09:13.753

在我看来，`Content-Type`缺少标题。它可能应该设置为`application/x-www-form-urlencoded`

# java - 在 Hibernate 中使用 javax.management.* api

> ID：15242641
> 
> 赞同：0
> 
> 时间：2013-03-06T08:47:44.950
> 
> 标签：java, performance, hibernate, javabeans

只是好奇，下面在java中有什么用。`imports`我在做hibernate的东西时被错误地导入了，而那些没有。`compatible``hibernate`

```
import javax.management.Query;
import javax.management.QueryExp; 
```

我浏览了[api](http://docs.oracle.com/javase/7/docs/api/javax/management/Query.html)，发现他们可以在`beans`.

我可以在我的休眠 pojo 上使用它们（以避免一些内存耗尽）吗？或者我理解错误？

关于他们的任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:32:37.207

> 我浏览了 api，发现它们可以对 bean 发起查询。

不完全是。[API 页面](http://docs.oracle.com/javase/7/docs/api/javax/management/Query.html)状态：

> 可以使用其 queryNames 或 queryMBeans 方法查询 MBean 服务器以获取满足特定条件的 MBean

所以，这不完全是关于普通的pojo。`MBean`或者`managed bean`是Java管理扩展（JMX）技术引入的概念之一。正如[JMX 技术概述](http://docs.oracle.com/javase/7/docs/technotes/guides/jmx/overview/instrumentation.html#wp998816)所述：

> 实现资源及其检测的 Java 对象称为托管 bean 或 MBean。MBean 必须遵循 JMX 规范 (JSR 3) 中定义的设计模式和接口。这可确保所有 MBean 都以标准化的方式提供托管资源的检测。

基本上，MBean 用于扩展标准 JVM 管理功能。因此，开发人员可以将特定于应用程序的选项集成到标准监控工具 (jconsole) 中，从而简化和标准化资源管理。

[Query](http://docs.oracle.com/javase/7/docs/api/javax/management/Query.html)只是一个实用程序类，它介绍了用于构建[QueryExps](http://docs.oracle.com/javase/7/docs/api/javax/management/QueryExp.html)的几种方法。QueryExp 对象用于[查询 MBeansServer](http://docs.oracle.com/javase/7/docs/api/javax/management/MBeanServer.html#queryNames%28javax.management.ObjectName,%20javax.management.QueryExp%29)。

> > 我可以在我的休眠 pojo 上使用它们（以避免一些内存消耗）吗？

好吧，它们不应该以这种方式使用。因此，将它们用于此类目的只会引入混乱。

如果您正在寻找一种查询 pojos 的方法（不过，我不明白它如何帮助消耗内存），请查看以下问题：

*   [如何在 Java 中查询对象集合（Criteria/SQL-like）？](https://stackoverflow.com/questions/93417/how-do-you-query-object-collections-in-java-criteria-sql-like)
*   [LINQ 的 Java 等价物是什么？](https://stackoverflow.com/questions/1217228/what-is-the-java-equivalent-for-linq)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T11:17:53.490

它们是[JMX 框架](http://www.oracle.com/technetwork/java/javase/tech/javamanagement-140525.html)的一部分。我不认为在没有框架的情况下使用它们是没有意义的。

# c++ - 在 C++ 中调用了额外的析构函数

> ID：15242643
> 
> 赞同：-1
> 
> 时间：2013-03-06T08:47:48.533
> 
> 标签：c++, stl

我在使用向量的 C++ 中有以下代码

```
#include <iostream>
#include <algorithm>
#include <vector>

using namespace std;

class DataValue {
public:

    DataValue() { std::cout << "DataValue constructor called" << std::endl; }
    DataValue(DataValue const& other) { cout << "DataValue copy constructor called" << std::endl; }
    ~DataValue() { std::cout << "DataValue destructor is called" << std::endl; }
private:

};

class ItemDataHistory {
public:
    ItemDataHistory() { std::cout << "ItemDataHistory constructor called" << std::endl; }
    ItemDataHistory(ItemDataHistory & other) { std::cout << "ItemDataHistory copy constructor called" << std::endl; }
    ~ItemDataHistory() { std::cout << "ItemDataHistory destructor called" << std::endl; }
    std::vector<DataValue>& GetVecDataValues() { return m_vecDataValues; }  

private:
    std::vector<DataValue> m_vecDataValues;
};

class DataReply {
public:

    std::vector<ItemDataHistory>& GetItemDataHistories() { return m_vecItemData; }  

private:
    // The list of DataValue
    std::vector<ItemDataHistory> m_vecItemData;
};

void main()
{
    DataValue dv1, dv2, dv3;
    ItemDataHistory itmDH;
    itmDH.GetVecDataValues().push_back(dv1);
    itmDH.GetVecDataValues().push_back(dv2);
    itmDH.GetVecDataValues().push_back(dv3);

    return;
}

/*
DataValue constructor called
DataValue constructor called
DataValue constructor called
ItemDataHistory constructor called
DataValue copy constructor called
DataValue copy constructor called
DataValue copy constructor called

**DataValue destructor is called** // why this destructor is called? where constructor for this.

DataValue copy constructor called
DataValue copy constructor called
DataValue copy constructor called

**DataValue destructor is called  // why this destructor is called? Where is constructor for this.
DataValue destructor is called**  // why this destructor is called? Where is contructor for this.

ItemDataHistory destructor called
DataValue destructor is called
DataValue destructor is called
DataValue destructor is called
DataValue destructor is called
DataValue destructor is called
DataValue destructor is called
Press any key to continue . . .
*/ 
```

我对上述代码的问题是我不明白为什么要调用额外的析构函数。我试图通过检查何时调用构造函数和析构函数来了解性能。我在 Windows XP 中使用 VS 2008。

感谢您的时间和帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T08:53:39.790

`push_back`可能想要增加向量的大小，这意味着旧元素被复制到一个新的、更大的地方，然后被销毁。这可能就是这里发生的事情。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T08:55:45.570

作为其他答案的补充：为了获得漂亮的可视化效果，只需添加

```
itmDH.GetVecDataValues().reserve(3); 
```

在你`push_back`填东西之前，它会产生你希望首先看到的输出：[liveworkspace demo](http://liveworkspace.org/code/qIKmw%244)

在没有使用您的代码的情况下使用`reserve`并检查每个之前和之后的容量也可能是有益的`push_back`（[liveworkspace demo #2](http://liveworkspace.org/code/qIKmw%246)）：

```
DataValue constructor called
DataValue constructor called
DataValue constructor called
ItemDataHistory constructor called
0
DataValue copy constructor called
1 //reallocation of vector happens
DataValue copy constructor called //copy first element from old memory location
DataValue copy constructor called //copy the element to be inserted
DataValue destructor is called //destroy element at old memory location
2 //reallocation of vector happens
DataValue copy constructor called //copy first element from old memory location
DataValue copy constructor called //copy second element from old memory location
DataValue copy constructor called //copy the element to be inserted
DataValue destructor is called //destroy first element at old memory location
DataValue destructor is called //destroy second element at old memory location
4
... 
```

# c# - SQL Server 的连接字符串？

> ID：15242646
> 
> 赞同：2
> 
> 时间：2013-03-06T08:47:55.157
> 
> 标签：c#, sql, connectivity

我正在使用 SQL Server。我通过以下方式使用了所有连接：

```
SqlConnection con = new SqlConnection("data source = .; database = xyzDatabase; integrated security = true");//developed with developer edition. 
```

现在我想在 SQL Server Express 上运行我的应用程序，所以我使用了这个：

```
SqlConnection con = new SqlConnection("data source = .\\sqlexpress; initial catalog = xyzDatabase; user id = sa; password = 123"); 
```

要记住的一点是，我`xyzDatabase`在运行时创建表单加载事件。但是当我执行程序时，我得到了这个错误：

> *建立与 SQL Server 的连接时发生与网络相关或特定于实例的错误。服务器未找到或无法访问。验证实例名称是否正确以及 SQL Server 是否配置为允许远程连接。（提供者：命名管道提供者，错误：40 - 无法打开与 SQL Server 的连接）（.Net SqlClient 数据提供者）*

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:02:40.037

Import the namespaces

using System.Data.SqlClient (if using C#) or Imports System.Data.SqlClient (if using VB#)

Your Sql connection object with connection would be like this:

```
SqlConnection con = new SqlConnection("Data Source=.;Database=xyzDatabase;User Id=sa;Password=admin@123;"); 
```

If still your error not resolved, it might be the problem of incorrect installation of MS-SQL SERVER instances.

[http://blog.sqlauthority.com/2009/05/21/sql-server-fix-error-provider-named-pipes-provider-error-40-could-not-open-a-connection-to-sql-server-microsoft-sql-server-error/](http://blog.sqlauthority.com/2009/05/21/sql-server-fix-error-provider-named-pipes-provider-error-40-could-not-open-a-connection-to-sql-server-microsoft-sql-server-error/)

Hope it might be helpful.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:52:12.010

您必须在 sql express 版本中激活 sa 用户。

```
 SqlConnection cn = new SqlConnection("datasource=.\sqlexpress; initialcatalog=yzDatabase; userid=sa;password=123"); 
```

# backbone.js - 如何在 Backbone.js 中与视图共享和绑定模型

> ID：15242651
> 
> 赞同：0
> 
> 时间：2013-03-06T08:48:14.480
> 
> 标签：backbone.js, binding, backbone-views, backbone-model

我是 Backbone.js 的新手。所以我想问一个关于我面临的问题的问题。

我有一个从 Backbone.Model 扩展的用户对象。根据这个对象的状态（认证与否），我想改变我的看法。我有 showView 方法可以渲染我的视图。

对于这种结构，我如何更改 HomeView 的模板并使其能够根据模型进行渲染。我认为，仅仅添加下面的代码是不够的。

```
this.user.bind('change', this.render); 
```

任何想法或帮助将不胜感激。

**我的路由器**

```
 var AppRouter = Backbone.Router.extend({
            routes: {
                '':'showHome',
                'join':'showJoin',
                'join/create':'showRegister',
                'join/complete':'showLoginComplete',
                 // Define some URL routes
                 //  'users': 'showContributors',
                 // Default
                ':actions': 'defaultAction'
            },
            showView: function(view) {
                if (this.currentView)
                {
                    this.currentView.close();
                    $('#tomato').attr("style",";display:none;");
                    $('#tomato').html(view.render().el);
                    $("#tomato").fadeIn("slow");
                }else{
                    $('#tomato').html(view.render().el);
                }
                this.currentView = view;
                return view;
            },
            login_required: function(callback) {
                if (this.user.get('is_authenticated')) {
                    if (callback) callback();
                } else {
                    //route login page...
                }
            },
            login_not_required:function(callback){
                if (this.user.get('is_authenticated')) {
                    //route 404 page...
                    this.navigate(':actions', true);
                } else {

                    if (callback) callback();
                }
            },
            updateUser:function(){
                var $self=this;
                $.get(
                    '/get_identity',
                    function(response){
                        // update model...
                        $self.user.id =response.identity;
                        //check user every five minutes...
                        $self.user.fetch({success: function() {
                           $self.user.set('is_authenticated',true);
                           setTimeout($self.updateUser, 1000*60*5);
                            }
                        },this);
                    }).fail(function(){
                        //clear model
                        $self.user.clear().set($self.user.defaults);
                    });
            }
        });

   var initialize = function(){

        //initialize user and it's checker.

        var app_router = new AppRouter;

        this.user = new User();
        _.bindAll(app_router, 'updateUser');
        app_router.updateUser();

        app_router.on('route:showHome', function(){
            var homeView = new HomeView({user:app_router.user});
            app_router.showView(homeView);
        });
 };
    return {
        initialize: initialize
    }; 
```

});

**我的主页视图**

```
var HomeView = Backbone.View.extend({
        initialize:function(){
            this.user = this.options.user
        }
        render: function(){
            var headerView = new  HeaderView();
            var footerView = new FooterView();
            this.$el.append(headerView.render().$el);
            this.$el.append(homeTemplate);
            this.$el.append(footerView.render().$el);
            return this;
        }
    }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:43:43.337

在这里，您有一个简单的例子来说明它是如何工作的。

```
<html>
    <head>
        <script type="text/javascript" src="./public/js/jquery-1.9.1.min.js"></script>
        <script type="text/javascript" src="./public/js/json2.js"></script>
        <script type="text/javascript" src="./public/js/underscore-min.js"></script>
        <script type="text/javascript" src="./public/js/backbone-min.js"></script>

        <script type="text/javascript">

        var User = Backbone.Model.extend({
        defaults : {
       name : 'Damian0o',
       forum : 'stackoverflow'
    }

});

var MyView = Backbone.View.extend({

events: {
    "change input": "update"
},

initialize : function(){
    this.model.on('change',this.updateView,this);           
},

render : function(){
    this.$el.append('<input id="name" value="' + this.model.get('name') + '">');
    this.$el.append('<input id="forum" value="' + this.model.get('forum') +  '">');
},

update : function(){
    console.log(this.$el.find('input').val());
    this.model.set('name',this.$el.find('#name').val());
    this.model.set('forum',this.$el.find('#forum').val());
},

updateView : function(){
    this.$el.find('#name').val(this.model.get('name'));
    this.$el.find('#forum').val(this.model.get('forum'));
}

});

$(function(){

    var user = new User();

    var view = new MyView({
        model : user
    });

    var view2 = new MyView({
        model : user
    });

    view.render();
    view2.render();

    $('#div1').append(view.el);
    $('#div2').append(view2.el);

});

</script>

</head>
<body>
<div id="div1"></div>
<div id="div2"></div>
</body>
</html> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:11:14.677

你是对的，但是......首先创建没有显式模型对象的视图类。然后用你的模型对象创建实例

```
var homeView = new HomeView({
   model = user;
}); 
```

在初始化视图的功能（当然删除 this.user）时，你应该有这个调用

```
this.model.bind('change',this.render). 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:11:32.330

我认为您在模型中添加侦听器的第一个猜测是正确的。

这是做到这一点的方法。

鉴于：

```
this.listenTo(this.user, 'change', this.render); 
```

为什么你认为这不是正确的做法？

一些像 MarionetteJS 这样的框架确实有一个称为 Event Aggregator 的结构。这是一种您可以收听的事件总线。例如，我的用户在总线上发送诸如“用户：登录”之类的事件。在视图中我可以在公共汽车上听。

# java - 如何创建分布式java服务器

> ID：15242652
> 
> 赞同：0
> 
> 时间：2013-03-06T08:48:18.800
> 
> 标签：java, udp, distributed-computing

您将如何创建一个分布式且易于扩展的 Java 服务器。我创建了一个音频中继器，它通过 UDP 接收和重新发送音频数据包，但是我希望能够在多个服务器上平衡用户。你有什么建议？服务器以以下基本方式工作：用户在房间中注册，然后开始侦听来自服务器的消息或向房间发送音频包。当服务器接收到数据包时，它会查找房间内用户的 IP 地址并将音频数据包重新发送给他们。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-30T17:04:32.200

假设新房间创建的频率相对较低，即使有很多房间、很多服务器和很多正在寻找房间的客户端，我也会推荐[ZooKeeper](http://zookeeper.apache.org/)。执行以下操作：

*   服务器为每个房间创建一个节点，房间名称包含服务器地址。您甚至可以保证每个房间最多有一台服务器占用（请参阅文档中的锁定配方）。
*   客户端读取具有所需名称的节点，获得相应服务器的地址。这样的读取操作将在服务器之间进行负载平衡，使其具有可扩展性。

作为第二步，您甚至可以通过使用由其他（备用？）服务器监视的临时节点来使您的服务器具有容错性，如果原始服务器出现故障，则声明房间。

# mysql - vb6 中的无效属性值

> ID：15242657
> 
> 赞同：0
> 
> 时间：2013-03-06T08:48:29.247
> 
> 标签：mysql, stored-procedures, vb6

我在这里有一个代码，用于将记录保存到数据库：

```
If mstrMaintMode = "ADD" Then

    lngIDField = GetNextCustID()

    strSPName = "InsertCustomer"

    Set objNewListItem = mylistview.ListItems.Add(, , txtname.Text)
    PopulateListItem objNewListItem
    With objNewListItem
        **.SubItems(mlngCUST_ID_IDX) = CStr(lngIDField)**
        .EnsureVisible
    End With
    Set mylistview.SelectedItem = objNewListItem
    Set objNewListItem = Nothing
Else
    lngIDField = CLng(mylistview.SelectedItem.SubItems(mlngCUST_ID_IDX))

    strSPName = "UpdateCustomer"

    mylistview.SelectedItem.Text = txtname.Text
    PopulateListItem mylistview.SelectedItem
End If 
```

错误是：带星号的行中的属性值无效。我尝试将此代码用于另一个数据库并且它可以工作，但对于另一个它不是。我检查了存储过程，它是正确的，表字段，也正确，但我仍然得到这个错误。我花了 3 小时找到答案但是我想不通。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T14:50:17.580

当您指定的子项索引超出列表视图中的列数时，您突出显示的行将失败并显示“无效的属性值”。

由于索引是基于 1 但从第二列开始，索引为 7，因此您至少需要添加 8 列。

# java - 用于更改字符串每个单词中的每个第 i 个索引的 Java 正则表达式

> ID：15242658
> 
> 赞同：1
> 
> 时间：2013-03-06T08:48:31.767
> 
> 标签：java, regex

我编写了一个正则表达式`\b\S\w(\S(?=.))`来查找单词中的每三个符号并将其替换为“1”。现在我正在尝试使用这个表达式，但真的不知道如何正确使用它。

```
Pattern pattern = Pattern.compile("\\b\\S\\w(\\S(?=.))");
Matcher matcher = pattern.matcher("lemon apple strawberry pumpkin");

while (matcher.find()) {
    System.out.print(matcher.group(1) + " ");
} 
```

所以结果是：

```
m p r m 
```

以及如何使用它来制作这样的字符串

```
le1on ap1le st1awberry pu1pkin 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-06T08:56:15.547

你可以使用这样的东西：

```
"lemon apple strawberry pumpkin".replaceAll("(?<=\\b\\S{2})\\S", "1") 
```

将产生您的示例输出。正则表达式将替换前面有两个非空格字符和一个单词边界的任何非空格字符。

这意味着“单词”like`12345`将被更改为`12145`因为`3`匹配`\\S`（不是空格）。

**编辑：** 更新了正则表达式以更好地适应修改后的问题标题，更改`2`为`i-1`替换单词的第 i 个字母。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:19:53.067

还有另一种访问**匹配器索引的方法**

像这样：

```
Pattern pattern = Pattern.compile("\\b\\S\\w(\\S(?=.))");
String string = "lemon apple strawberry pumpkin";
char[] c = string.toCharArray();
Matcher matcher = pattern.matcher(string);
   while (matcher.find()) {
         c[matcher.end() - 1] = '1';////// may be it's not perfect , but this way in case of you want to access the index in which the **sring** is matches with the pattern
   }
System.out.println(c); 
```

# jquery - jQuery Internet Explorer 获取“对象不支持此属性或方法”

> ID：15242660
> 
> 赞同：4
> 
> 时间：2013-03-06T08:48:37.483
> 
> 标签：jquery, internet-explorer-8

运行以下代码时，Internet Explorer 8 给出错误“对象不支持此属性或方法”：

```
jQuery(function($) {
  $("input[name='first_name'], input[name='last_name']").not(".input-skippable").change(function() {
    if(!$(this).is(".input-skippable")) {
      if($(this).val().trim().length > 0) {
        $(this).removeClass("error");
      } else {
        $(this).addClass("error");
      }
    }
  });
  $("input[name='first_name']").change();
}); 
```

出错的那一行是带有“if($(this).val().trim().length > 0) {”的那一行。

似乎它与 val() 然后 trim() 有关。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T08:53:26.860

一个问题是它`.val()`返回一个字符串，破坏了 jQuery 链，这意味着您不能再应用任何 jQuery 方法 ( `.trim()`)。另一个问题是`trim`jQuery 对象本身的方法，其中要修剪的值必须作为参数 ( `$.trim(value)`) 传递，而不是链接到 jQuery 函数调用 ( `$(value).trim()`) 的方法。获取值的修剪长度的正确代码如下：

```
$.trim($(this).val()).length 
```

**编辑：**这个答案假设 ECMAscript 5 的[`String.prototype.trim()`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/Trim)字符串方法不可用——它允许 OP 的代码在 IE9 和大多数现代浏览器中工作——但在 IE8 及更低版本中不可用。相反，它依赖于[`jQuery.trim()`](http://api.jquery.com/jQuery.trim/).

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T08:50:23.090

IE8及以下不支持该`trim`方法，可以使用jQuery`$.trim`实用功能。

```
if( $.trim( this.value ).length > 0 ) { 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T08:50:09.360

这是错误的 `if($(this).val().trim().length > 0) {`

改成

`if($.trim($(this).val())!="") {`

# php - Zend 表创建

> ID：15242668
> 
> 赞同：0
> 
> 时间：2013-03-06T08:49:10.343
> 
> 标签：php, zend-framework, zend-form

```
$elementDecoration = array(
        'ViewHelper',
        'Description',
        'Errors',
        array(array('data'=>'HtmlTag'), array('tag' => 'td', 'valign' => 'TOP')),
        array('Label', array('tag' => 'td')),
        array('Errors'),
        array(array('row'=>'HtmlTag'),array('tag'=>'tr'))
            );

        $username = new Zend_Form_Element_Text('username');
        $username->setLabel('username')
        ->setDecorators($elementDecoration)
        ->setRequired(true)
        ->addFilter('StripTags')
        ->addFilter('StringTrim')
        ->addValidator('NotEmpty'); 
```

输出如下

```
<tr>
    <td id="username-label">
        <label for="username" class="required">username</label>
    </td>
<td valign="TOP">
    <input type="text" name="username" id="username" value="">
        <ul class="errors"><li>Value is required and can't be empty</li></ul>
    </td>
</tr> 
```

但我想要像下面这样的输出

```
 <tr>
    <td>User Name:</td>
  </tr>
  <tr>
    <td colspan=2><input name="username"/></td>
  </tr>
  <tr>
    <td class="error_msg" colspan=2>Required</td>
  </tr> 
```

1.  我也想要和上面一样。
2.  同样，想删除ul li。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:51:18.747

请阅读并理解以下内容：

要将表单呈现为表格：

```
$form->setDecorators(array(
    'FormElements',
    array('HtmlTag', array('tag' => 'table')),
    'Form'
)); 
```

另外，您需要确保元素和标签位于表格数据和表格行中：

```
$form->setElementDecorators(array(
    'ViewHelper',
    'Errors',
    array('decorator' => array('td' => 'HtmlTag'), 'options' => array('tag' => 'td')),
    array('Label', array('tag' => 'td')),
    array('decorator' => array('tr' => 'HtmlTag'), 'options' => array('tag' => 'tr')),
)); 
```

对于您的“提交”按钮，您需要修改装饰器，以便提交跨越两列：

```
 $form->submit->setDecorators(array(
        array(
            'decorator' => 'ViewHelper',
            'options' => array('helper' => 'formSubmit')),
        array(
            'decorator' => array('td' => 'HtmlTag'),
            'options' => array('tag' => 'td', 'colspan' => 2)),
        array(
            'decorator' => array('tr' => 'HtmlTag'),
            'options' => array('tag' => 'tr')),
    )); 
```

上面的代码将为您提供如下表。现在您可以根据需要进行编辑。您的最后一个表结构不清楚，因为第一个只有 1 列，第二个有 colspan=2。

```
<form>
 <table>
   <tr>
   <td>Label</td>
   <td><input type="text" name="test"></td>
  </tr>
  <tr>
   <td colspan=2><input type="submit"></td>
  </tr>
 </table>
</form> 
```

# python - 在哪里验证 Django AJAX 应用程序？

> ID：15242671
> 
> 赞同：0
> 
> 时间：2013-03-06T08:49:19.330
> 
> 标签：python, ajax, django

我正在使用 Django 开发基于事件的 AJAX 应用程序。在我的模型中，我有一个创建和更新对象的类，我想包括更好的输入验证。例如，我知道我的开始日期应该早于我的结束日期，并且想在应用程序中检查这个事实。

我把它放在我的模型中吗？检查所有 8 个输入参数在创建或保存方法中是否有效似乎很混乱。

例如，像这样：

```
if foo != '' and int(foo) > 0:
    self.foo = foo 
```

我知道 Django 具有验证表单的功能，但这也可以应用于 AJAX 流吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:55:14.033

也许这可能会有所帮助：[https ://github.com/alex/django-ajax-validation](https://github.com/alex/django-ajax-validation)

文档：

[https://github.com/alex/django-ajax-validation/blob/master/docs/usage.txt](https://github.com/alex/django-ajax-validation/blob/master/docs/usage.txt)

[https://github.com/alex/django-ajax-validation/blob/master/docs/serving-ajax-validation-media-server.txt](https://github.com/alex/django-ajax-validation/blob/master/docs/serving-ajax-validation-media-server.txt)

# plesk - 将快捷按钮添加到 Plesk 管理面板

> ID：15242675
> 
> 赞同：-1
> 
> 时间：2013-03-06T08:49:23.727
> 
> 标签：plesk, parallels

我使用 Parallels Plesk Panel 11.0.9。每次我想检查一些数据时，我都需要手动单击页面。例如

*   要检查服务器 CPU 和内存负载，我需要这样做：在左栏中找到“服务器管理”，单击“工具和设置”。在“服务器管理”中单击“服务器信息”。
*   一般我用`mydomain1.com`'s `database1`。访问 mydomain1.com 的数据库。我需要从“托管服务”中找到“域”，单击域名。点击“网站与域名”，点击“数据库”，选择“database1”，点击“Webadmin”

是否可以创建快捷方式以便我可以从管理员的 Plesk 主页访问它们？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T16:35:30.110

您可以找到所需操作的直接 URL（通过页面属性）并使用“自定义按钮”添加快捷方式。请注意 Plesk 在离开菜单时使用框架，因此您需要注意

# java - Java：在对象中存储属性

> ID：15242676
> 
> 赞同：-1
> 
> 时间：2013-03-06T08:49:26.973
> 
> 标签：java, arrays, constants

我有一个像下面这样的类：

```
public class Prefs {
    public static final int PREF_NAME = 0;
    public static final int PREF_SURNAME = 1;
    public static final int PREF_LOCATION = 2;

    String[] defaults = { "unknown", "unknown", "nowhere" }
    String[] prefs;

    public String getPref(int id) {
        return prefs[id];
    }
} 
```

所以我可以使用以下语法：

```
Prefs p = new Prefs();
p.setDefaults() // irrelevant code not included
p.getPref(Prefs.PREF_LOCATION); // much more readable than getPref(2); 
```

这种方法正确吗？有没有更好的选择来做到这一点？

编辑：请提供一个简单的例子。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:51:42.567

我认为`enum`这正是您需要和完美的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:53:23.253

如果您的“首选项”中的元素列表将是动态的，您可能需要考虑使用哈希表：-

[http://docs.oracle.com/javase/6/docs/api/java/util/Hashtable.html](http://docs.oracle.com/javase/6/docs/api/java/util/Hashtable.html)

这将允许您拥有一个引用特定元素的键。

> （来自 javadoc）这个例子创建了一个数字哈希表。它使用数字的名称作为键：

```
 Hashtable numbers = new Hashtable();
 numbers.put("one", new Integer(1));
 numbers.put("two", new Integer(2));
 numbers.put("three", new Integer(3)); 
```

要检索号码，请使用以下代码：

```
 Integer n = (Integer)numbers.get("two");
 if (n != null) {
     System.out.println("two = " + n);
 } 
```

或者，如果您想要随机访问，您可以使用 ArrayList。

[http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html](http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T08:53:49.197

当值不变时，使用`enum`or (org.appache.commons)。 在 ValuedEnum 中，您可以提供自定义文本，对于值，标准枚举使用枚举字段名称作为文本。`ValuedEnum`

如果您使用的是 java 枚举，请考虑使用为枚举显式分配值的方法（通过提供带有参数“值”的枚举构造函数）。

从[javarevisited](http://javarevisited.blogspot.co.at/2011/08/enum-in-java-example-tutorial.html)：

```
public enum Currency {
         PENNY(1), NICKLE(5), DIME(10), QUARTER(25);
         private int value;

        private Currency(int value) {
                this.value = value;
        } 

}; 
```

当您想确保值永远不会改变时（例如，为了持久性），这种 Valied 枚举方法是必要的。java ordinal() 无法提供。

# php - 无法从数据库中获取信息

> ID：15242677
> 
> 赞同：0
> 
> 时间：2013-03-06T08:49:32.357
> 
> 标签：php, mysql

我最近开始学习 PHP，我通过 Dreamweaver 创建了下面的查询。

```
enter code here
<?php

if (!function_exists("GetSQLValueString")) {

    function GetSQLValueString($theValue, $theType, $theDefinedValue = "", $theNotDefinedValue = "")
    {
        if (PHP_VERSION < 6) {
            $theValue = get_magic_quotes_gpc() ? stripslashes($theValue) : $theValue;
        }

        $theValue = function_exists("mysql_real_escape_string") ? mysql_real_escape_string($theValue) : mysql_escape_string($theValue);

        switch ($theType) {
            case "text":
                $theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
                break;
            case "long":
            case "int":
                $theValue = ($theValue != "") ? intval($theValue) : "NULL";
                break;
            case "double":
                $theValue = ($theValue != "") ? doubleval($theValue) : "NULL";
                break;
            case "date":
                $theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";
                break;
            case "defined":
                $theValue = ($theValue != "") ? $theDefinedValue : $theNotDefinedValue;
                break;
        }
        return $theValue;
    }

}

mysql_select_db($database_PMS, $PMS);
$query_rs_home = "SELECT * FROM hotelinfo, hotelslider WHERE hotelinfo.hotelid=hotelslider.id";
$rs_home = mysql_query($query_rs_home, $PMS) or die(mysql_error());
$row_rs_home = mysql_fetch_assoc($rs_home);
$totalRows_rs_home = mysql_num_rows($rs_home);
?> 
```

如果我使用此代码，我只会获得数据库的第一条记录。我没有得到进一步的记录。

请帮助我的人。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:51:10.400

利用：

```
while($row_rs_home = mysql_fetch_assoc($rs_home)){
 //do something
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:57:13.537

```
mysql_select_db($database_PMS, $PMS);
 $query_rs_home = "SELECT * FROM hotelinfo, hotelslider WHERE hotelinfo.hotelid=hotelslider.id";
 $rs_home = mysql_query($query_rs_home, $PMS) or die(mysql_error());

while($rows= mysql_fetch_array($rs_home)){
 echo $rows['field_name'];//this will print your db record
} 
```

# java - 您如何修复错误并向源文件添加功能并保证您不会破坏某些应用程序？

> ID：15242678
> 
> 赞同：2
> 
> 时间：2013-03-06T08:49:34.770
> 
> 标签：java, c++, iphone, .net

文件将带有错误，公司总是希望提供新功能。必须有一种方法来分发新文件，希望应用程序能够正常工作。如果应用程序不能正常工作，必须有一种简单的方法来将应用程序恢复到其最后一次已知的良好状态。

我知道这将是一个普遍问题，但我认为这也是一个普遍问题。
不同平台上解决方案的比较将越来越多。

亲爱的朋友们，
其实我不是在谈论***如何开发软件***，而是在
谈论如何**在最终用户机器上以最小的副作用部署软件**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T08:56:36.033

1.  （应该是步骤 0 或 -1）使用功能强大的[源代码管理工具](http://en.wikipedia.org/wiki/Revision_control)，并充分发挥其潜力：尤其是*分支*）
2.  [测试驱动开发](http://en.wikipedia.org/wiki/Test-driven_development)- 始终对您可以测试的内容进行测试，并设计可测试的代码（当然，这是可行的。）
3.  **永远**不要同时做这两个：
    *   *[重构](http://en.wikipedia.org/wiki/Code_refactoring)*
    *   *引入新功能*
    *   *修复错误*
4.  尽可能使用[持续集成](http://en.wikipedia.org/wiki/Continuous_integration)

**在紧急情况下恢复到“最后一个稳定”版本**

这必须得到一些基础设施决策的支持，例如保留最后编译的稳定版本，并准备好在尽管付出努力但出现问题时重新部署（去过那里，做过）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:52:37.560

你应该做[单元测试](http://en.wikipedia.org/wiki/Unit_testing)。这是避免和跟踪回归的好方法。

但是你不能只是快速地在一个大型应用程序中做出改变并构建一个测试单元来确保一切正常。你必须制作一堆测试单元。

这是昂贵的，但没有便宜的方法来确保应用程序没有错误。唯一的解决方案是将大量工作用于测试，无论是使用单元测试还是人工测试，或者两者兼而有之。[Joel Test](http://www.joelonsoftware.com/articles/fog0000000043.html)强调了这一点，因为一个认真的团队必须在测试上花费足够的钱。

将应用程序恢复到旧状态只是拥有一个[良好的版本控制系统](http://en.wikipedia.org/wiki/Comparison_of_revision_control_software)，而不是配置和数据部分的混乱。一些 VCS 有一些工具可以帮助您找到错误发生的时间，例如[git-bisect](http://webchick.net/node/99)。

# css - IE9 表格无法识别边框半径

> ID：15242679
> 
> 赞同：1
> 
> 时间：2013-03-06T08:49:35.860
> 
> 标签：css, cross-browser

我有一张桌子，需要设置border-radius 5px。它在 FF 和 Chrome 中运行完美，但在 IE9 上不运行。

```
.XYZ table {
  border: 2px solid #E6E7E8;
  border-radius: 0.7em 0.7em 0.7em 0.7em;
  display: block;
  margin-top: 1em;
  overflow: hidden;
  display: block;
} 
```

请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:51:10.290

将以下内容添加到您的标题中

```
<meta http-equiv="X-UA-Compatible" content="IE=edge" /> 
```

# c# - 显示真值复选框

> ID：15242682
> 
> 赞同：2
> 
> 时间：2013-03-06T08:49:43.773
> 
> 标签：c#, javascript, jquery, ajax, webmatrix

我有一个显示表中的值的 WebGrid 和一个编辑按钮。当用户单击此按钮时，会弹出一个表单或对话框表单，并使用我之前提到的同一个表中的值填充它。

我已经设法格式化日期值，现在有兴趣格式化我的表中的布尔值（true/false）以显示在复选框中。目前它显示为一个文本框，值为真或假。

以下是我的部分代码：

```
 $('#dialog-form2-edit').dialog(
            { 
//dialog form code .. this is fine

 $.getJSON('/Methods/GetCertificate/' + $(this).attr('id'), function (data)
                {   var certificate = data;
                    $('#edit-paid').val(certificate.Paid);
                    $('#edit-mark').val(certificate.Mark);
                    var date = new Date(parseInt(certificate.MarkDate.substr(6)));
                    var year = date.getFullYear();
                    var month = date.getMonth() + 1;
                    var day = date.getDate();
                    $('#edit-markdate').val(year + '-' + month + '-' + day);
                    $('#edit-markdate').datepicker({ dateFormat: 'yy-mm-dd' }); 
```

下面是我的html的一部分

```
<div id="dialog-form2-edit" title="Edit Certificate">
        <form id="edit-certificate-form" action="@Href("~/Methods/UpdateCertificate")">
            <div class="row">
                <span class="label"><label for="markdate">Mark Date :</label></span>
                <input type="text" name="markdate" id="edit-markdate" size="20"/>
            </div>
           <div class="row">
                <span class="label"><label for="mark">Mark :</label></span>
                <input type=text" name="mark" id="edit-mark" size="15"/>
            </div> 
```

Mark 和 Paid 的值是布尔值。现在我打算将类型更改为文本，并且需要帮助将布尔值格式化为复选框。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T13:49:57.973

如果你有一个服务器端的 bool 值，你可以使用Web Pages 2 中的[条件属性](http://www.mikesdotnetting.com/Article/201/Cleaner-Conditional-HTML-Attributes-In-Razor-Web-Pages)来管理复选框。`checked`您使用 Razor 为复选框的属性提供布尔值：

```
@{ var myBool = true; }

<input type="checkbox" name="mark" id="mark" checked="@myBool" /> 
```

如果 bool 是`true`,`checked="checked"`被渲染。如果是`false`，则根本不呈现选中的属性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T12:15:22.193

使用此代码在复选框中显示您的布尔值。

```
$.getJSON('/Methods/GetCertificate/' + $(this).attr('id'), function (data)
                {
var certificate = data;
if(certificate.Pass == true){
     $('#edit-pass').attr('checked', 'checked')} 
 else {$('#edit-pass').removeAttr('checked', 'checked')};
// your other json data
}) 
```

removeAttr 是必要的，因为我使用的是 jquery-1.4.2.min.js。测试和它的工作

# java - Java Swing GridBagLayout 面板调整大小问题

> ID：15242692
> 
> 赞同：5
> 
> 时间：2013-03-06T08:50:20.010
> 
> 标签：java, swing, animation, resize, tween

我正在为一个亲戚开发一个简单的小摇摆应用程序，但我无法在其上实现动画......

这是我的布局的描述：

我有一个主窗口（通过实例化、打包和显示 JFrame 创建）。我已经告诉主窗口的内容面板使用 GridBagLayout 作为其布局。我的网格宽 2 格，高 3 格。在第一列中，我有三个 JButton（A、B 和 C），每个都占用一排垂直网格空间和一列水平网格空间。在第二列中，我有另一个 JPanel，它有一列宽，三行高。

第二个 JPanel 也设置为使用 GridBagLayout 作为其布局。在这种情况下，有两列和一行。左列有一个一列宽、一排高的 JPanel，其中包含 Button 1。右列仅包含一个 JButton（按钮 2），它也是一列宽和一排高。

这是我刚才描述的截图： ![布局图](../Images/9e4f64b188718fdb553732ac80d12524.png)

现在您了解了布局是什么，让我解释一下我一直在尝试做的事情：

我一直在尝试使用[通用补间引擎](http://www.aurelienribon.com/blog/projects/universal-tween-engine/)来调整包含按钮 1 的 Jpanel 的大小。但是，在我的尝试中，我得到了这个结果：

![在此处输入图像描述](../Images/8bd16af61b226ae1d6591fe6a3d55415.png)

如您所见，包含 Button 1 的 JPanel 已成功调整大小！但是，Button 2 的大小和位置根本没有改变，事实上，Button 2 被包含 Button 1 的 JPanel 截断了！

这是一个问题，因为我期望调整包含按钮 1 的 JPanel 的大小以同时更改其包含的 GridBagLayout 的单元格大小。看来我在这件事上大错特错了。

所以这让我想到了我的问题......我需要做什么才能“更新”我的 GridBagLayout 以便它调整其网格的大小以适应包含按钮 1 的 Jpanel 的大小增加？我尝试过调用`GridBagLayout.invalidatelayout()`我的 GridBaglayout，也尝试过调用`JFrame.getContentPane().invalidate()`我的主窗口。两者似乎都没有任何效果。

这是我的项目的可编译源代码：

**ImageManager.java：**

```
import java.awt.*;
import java.awt.event.*;

import javax.swing.*;
import aurelienribon.tweenaccessors.swing.*;
import aurelienribon.utils.swing.*;
import aurelienribon.tweenengine.*;
import aurelienribon.tweenengine.equations.*;

public class ImageManager
{
    /**
     * @param args
     */

    public static JFrame mainwindow;
    public static TweenManager tweenManager;
    public static void main(String[] args)
    {
        javax.swing.SwingUtilities.invokeLater(new Runnable() //For thread safety!
        {
            public void run()
            {
                InitGUI();
                InitTween();
            }
        });
    }

    private static void InitTween()
    {
        ((Window)mainwindow).addWindowListener(new WindowAdapter() {
            @Override public void windowOpened(WindowEvent e)
            {
                    new DrawingCanvas()
                    {
                            @Override protected void update(int elapsedMillis)
                            {
                                tweenManager.update(elapsedMillis);
                            }
                    }.start();
            }
        });
    }

    private static void InitGUI()
    {
        //Init the window and layout systems
        mainwindow = new JFrame("Imaffect");
        Container pane = mainwindow.getContentPane();
        pane.setLayout(new GridBagLayout());

            //Begin creating the UI!
            pane.add(new JButton("Button A"), new GridBagConstraints(0, 0, 1, 1, 0, 1, GridBagConstraints.PAGE_START, GridBagConstraints.VERTICAL, new Insets(0,0,0,0), 100, 0));
            pane.add(new JButton("Button B"), new GridBagConstraints(0, 1, 1, 1, 0, 0, GridBagConstraints.PAGE_START, GridBagConstraints.VERTICAL, new Insets(0,0,0,0), 100, 100));
            pane.add(new JButton("Button C"), new GridBagConstraints(0, 2, 1, 1, 0, 0, GridBagConstraints.PAGE_START, GridBagConstraints.VERTICAL, new Insets(0,0,0,0), 100, 20));

            pane.add(InitPreviewGUI(), new GridBagConstraints(1, 0, 1, 3, 1, 1, GridBagConstraints.PAGE_START, GridBagConstraints.BOTH, new Insets(0,0,0,0), 0, 0));

        //Finalize the window
        mainwindow.pack();
        mainwindow.setVisible(true);
    }

    private static JPanel InitPreviewGUI()
    {
        JPanel panel = new JPanel(new GridBagLayout());
        panel.add(InitSettingsGUI(), new GridBagConstraints(0, 0, 1, 1, 0, 1, GridBagConstraints.PAGE_START, GridBagConstraints.BOTH, new Insets(0,0,0,0), 0, 0));
        panel.add(new JButton("Button 2"), new GridBagConstraints(1, 0, 1, 1, 1, 1, GridBagConstraints.PAGE_START, GridBagConstraints.BOTH, new Insets(0,0,0,0), 0, 0));

        return panel;
    }

    private static JPanel InitSettingsGUI()
    {
        JPanel panel = new JPanel();
            SetupSettingsTweens(panel);
            SetupSettingsContent(panel);
        return panel;
    }

    private static void SetupSettingsTweens(JPanel panel)
    {
        Tween.registerAccessor(Component.class, new ComponentAccessor());
        tweenManager = new TweenManager();
        Tween.to(panel, ComponentAccessor.WIDTH, 1000)
            .target(200)
            .ease(Cubic.INOUT)
            .repeatYoyo(-1, 200)
            .delay(500)
            .start(tweenManager);

    }

    private static void SetupSettingsContent(JPanel panel)
    {
        panel.add(new JButton("Button 1"));
    }
} 
```

如果您想自己编译代码，您将需要以下三个资源：

1.  [通用补间引擎库 jar](http://code.google.com/p/java-universal-tween-engine/downloads/detail?name=tween-engine-api-6.3.3.zip&can=2&q=)
2.  [DrawingCanvas.java](http://pastebin.com/MTNtDPVS)（包 aurelienribon.utils.swing）
3.  [ComponentAccessor.java](http://pastebin.com/Su45QyuH)（包 aurelienribon.tweenaccessors.swing）

如果您想亲身体验我的问题，无需复杂的项目设置，您可以下载 Eclipse Juno 项目，或者可运行的 jar 文件：

*   [影响 Eclipse Juno 项目](http://tinyurl.com/abutls6)
*   [Imaffect 可运行的 Jar 文件](http://tinyurl.com/ajtlzu8)

如果您希望远离下载，这里列出了正在发生的事情：

1.  设置 GUI 结构
2.  设置补间要求（没什么特别的）
3.  设置一个线程，使用 SwingUtilities.invokeAndWait 调用一个名为 update() 的函数
4.  每当调用 update() 时，它都会使用 Container.setSize() 在包含 Button 1 的 JPanel 上设置大小变化的动画。

非常感谢您对这个问题的任何帮助！谢谢 ：）

PS如果这个问题有重复，我很抱歉。我用谷歌搜索了很多，但我什至找不到任何与我的问题有关的东西。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2014-02-11T05:57:23.573

我会说在您的`update()`方法中您应该更改 Button1 的首选大小并调用

```
container.revalidate();
container.repaint(); 
```

更改首选大小并`revalidate()`更新布局并`repaint()`反映更改。

或者，您可以要求`setSize()`Button1 增加宽度，同时减少 Button2 的宽度并再次调用`repaint()`（`revalidate()`因为重新验证会恢复原始布局）。

# java - 从链接列表中删除所有出现的项目

> ID：15242702
> 
> 赞同：4
> 
> 时间：2013-03-06T08:50:56.563
> 
> 标签：java, linked-list

我已经在这个实验室任务上工作了几个小时，但不明白为什么这段代码不起作用。问题是添加`int removeEvery(T item)`删除所有出现的item并将删除的item的数量返回给实现链接列表接口的链接列表类的方法。

这是我的代码：它删除了该项目的一些出现，但不是全部。

```
public int removeEvery(T item){
int index = 0;
Node currentNode = firstNode;
for(int i = 1; i <= numberOfEntries; i++)
    {
    System.out.println(currentNode.getData());
        if (item.equals(currentNode.getData())){
            index++;
            remove(i);}
        else{
            currentNode = currentNode.getNextNode();}
    } 
        if(index != 0)
        return index;
    return -1;
} 
```

这是 LinkList 类中包含的 remove 方法：

```
public T remove(int givenPosition)
{
  T result = null;                 // return value

  if ((givenPosition >= 1) && (givenPosition <= numberOfEntries))
  {
     assert !isEmpty();
     if (givenPosition == 1)        // case 1: remove first entry
     {
        result = firstNode.getData();     // save entry to be removed 
        firstNode = firstNode.getNextNode();
        if (numberOfEntries == 1)
           lastNode = null; // solitary entry was removed
        }
        else                           // case 2: givenPosition > 1
        {
           Node nodeBefore = getNodeAt(givenPosition - 1);
           Node nodeToRemove = nodeBefore.getNextNode();
           Node nodeAfter = nodeToRemove.getNextNode();
           nodeBefore.setNextNode(nodeAfter);  // disconnect the node to be removed
           result = nodeToRemove.getData();  // save entry to be removed

           if (givenPosition == numberOfEntries)
              lastNode = nodeBefore; // last node was removed
     } // end if

     numberOfEntries--;
  } // end if

  return result;                   // return removed entry, or 
                                  // null if operation fails
} // end remove 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:58:23.530

我认为您遇到的问题来自`remove(i)`.

当你删除`i-th`元素时，`i+1-th`元素变成了`i-th`等等：每个元素都被移动了。因此，如果您需要删除列表中位于 index`j`和的 2 个元素，则`j+1`删除`j-th`元素调用`remove(j)`将移动`j+1-th`index 处的元素`j`。因此，删除第二个元素需要`remove(j)`再次调用，而不是`remove(j+1)`.

所以你需要`i`在删除后递减。

由于您的`remove`方法实际上递减`numberOfEntries`，因此`while`循环上的条件已正确更新。所以你需要做的就是更换

```
if (item.equals(currentNode.getData())) {
    index++;
    remove(i);
}
else {
    currentNode = currentNode.getNextNode();
} 
```

经过

```
if (item.equals(currentNode.getData())) {
    index++;
    remove(i--);
}
// update the current node, whether removing it or not
currentNode = currentNode.getNextNode(); 
```

* * *

**迭代器.remove()**

您描述的这个问题显示了[Iterator.remove()](http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html#remove%28%29)在使用 JDK 中的数据结构来遍历可迭代集合并在您遍历它时删除元素时的有用性。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:20:49.850

您的链表有一些特别之处，您可以使用 current.getNextNode 访问下一个元素，但您可以使用元素索引删除。你应该看看你的实现的其余部分是如何管理这个索引的。第一个元素的索引是 0 还是 1（您从 1 开始循环）。删除一个元素时，所有元素的索引会发生什么变化。元素知道它们的索引吗？

你可以使用类似的东西

```
 int deletedNodes = 0;
  int currentIndex = 0; // check if 1 or 0
  currentNode = fist;
  while(currentNode != null){ // I guess lastNode.getNextNode() is null
    if(//should remove){
      remove(currentIndex);
      deletedNodes++
      // probably no need to change the index as all element should have been shifted back one index
    } else {
      currentIndex++; // index changes only if no node was deleted
    }
    currentNode = currentNode.getNextNode(); // will work even if it was deleted
  }
return deletedNodes; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:51:14.497

删除节点后，正如@Vakimshaar 建议的那样，您需要减少 ，`i`因为该索引处的节点已被删除，并且同一索引处有一个新节点。除此之外，您还需要更新`currentNode`引用，因为它仍然指向您刚刚删除的节点，但它实际上应该指向已移动到该索引的新节点。

因此，在`if (item.equals(currentNode.getData())){`块中，您需要执行以下操作：

```
Node nextNode = currentNode.getNextNode();
index++;
remove(i--);
currentNode = nextNode; 
```

有了这个，您的代码应该正确地删除所有出现。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-04-20T09:50:45.887

这是一个 Java 代码，用于从链表中删除所有出现的项目：

```
public class LinkedList{
    Node head;
    class Node{
        int data;
        Node next;
        Node(int d){data =d; next = null;}
    }

    public void push(int new_data){
        Node new_node = new Node(new_data);
        new_node.next = head;
        head = new_node;
    }

    public void insertAfter(Node givenNode, int new_data){
        if(givenNode == null)
            System.out.println("Given node cannot be empty");

        Node new_node = new Node(new_data);
        new_node.next = givenNode.next;
        givenNode.next = new_node;
    }

    public void append(int new_data){
        Node new_node = new Node(new_data);
        if(head == null)
            head = new_node;

        else{
        Node last = head;

        while(last.next != null)
            last = last.next;

        last.next = new_node;
    }
    }

    public void printList(){
        Node temp = head;

        while(temp != null){
            System.out.println(temp.data + " ");
            temp = temp.next;
        }
    }

    void deleteNode(int key){
        // Store head node
        Node temp = head, prev=null;
        // If head node itself holds the key or multiple occurrences of key
        while(temp != null && temp.data == key){
            head = temp.next;
            temp = head;
        }
        // Delete occurrences other than head
        while(temp != null){
            // Search for the key to be deleted, keep track of the
            // previous node as we need to change 'prev.next'
            while(temp != null && temp.data != key){
                prev = temp;
                temp = temp.next;
            }
            // If key was not present in linked list
            if(temp == null) return;
            // Unlink the node from linked list
            prev.next = temp.next;
            //Update Temp for next iteration of outer loop
            temp = prev.next;
        }
    }

     public static void main(String[] args){
         LinkedList llist = new LinkedList();

         llist.push(6);
         llist.append(7);
         llist.append(7);
         llist.append(7);
         llist.append(9);
         llist.push(10);
         llist.deleteNode(7);
         llist.printList();
     }
} 
```

输出 ：

10 6 9

# jquery - 向上滑动一次向下滑动jQuery

> ID：15242707
> 
> 赞同：-1
> 
> 时间：2013-03-06T08:51:13.453
> 
> 标签：jquery, html, css, animation

我尝试一次制作*`slide up`*和*`slide down`*div。

我想要第*`div slide down`*一个隐藏的下一个*`div slide up`*

我想让这些元素在动画时重叠

**jQuery**

```
 $(document).ready(function () {
                $('.plus').click(function () {
                   $('header h1').animate({ 'margin-top': '999px', opacity: 'toggle' }, 1500);
                   $('header h2').animate({ 'margin-top': '0px', opacity: 'show' }, 1200);
            });

            $('.minus').click(function () {
                  $('header h2').hide('slow');
                  $('header h1').show('slow');
             });
           }); 
```

感谢您的任何想法！

在这里演示[http://jsfiddle.net/n7Ejs/](http://jsfiddle.net/n7Ejs/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:46:41.330

通过使用`.delay(timeToWait)`，您应该能够根据需要微调动画序列/顺序。我已经在 jsFiddle 上修改了你的代码。我不确定这是否是您要实现的目标，但希望对您有所帮助！[http://jsfiddle.net/EVN3v/](http://jsfiddle.net/EVN3v/)

# android - 使用 OpenSSL 解密 Android SSE

> ID：15242709
> 
> 赞同：5
> 
> 时间：2013-03-06T08:51:17.577
> 
> 标签：android, encryption, openssl, bouncycastle

[Android SSE 程序](http://www.paranoiaworks.mobi/download/downloads.html)是一款优秀的跨平台加解密开源程序。他们为其他系统提供客户端（基于他们使用基于 Java 的充气城堡库），但我想知道是否可以使用 openssl 解密。这对我来说主要是一个练习，但如果允许其他人通过向他们发送 openssl 命令运行来解密我的文件，那就太好了。

SSE 是开源的，但这里是生成加密密钥的核心代码：

```
/** Generate password-base Keys (128, 256, 448 bits) */
private void generatePBKeys448Max(String pw, boolean unicodeAllowed) throws NoSuchAlgorithmException, InvalidKeySpecException 
{
    pw = pw.trim();
    if(unicodeAllowed) pw = convertToCodePoints(pw);

    byte[] shaL1 = getSHA512Hash(pw.getBytes());    
    byte[] shaSalt = getSHA256Hash(Helpers.getSubarray(shaL1, 0, 8));
    byte[] shaIV = getSHA256Hash(Helpers.getSubarray(shaL1, 8, 8));

    PKCS12ParametersGenerator pGen = new PKCS12ParametersGenerator(new SHA1Digest());
    char[] passwordChars = pw.toCharArray();
    final byte[] pkcs12PasswordBytes = PBEParametersGenerator.PKCS12PasswordToBytes(passwordChars);
    pGen.init(pkcs12PasswordBytes, shaSalt, 600);
    CBCBlockCipher aesCBC = new CBCBlockCipher(new AESFastEngine());
    ParametersWithIV aesCBCParams = (ParametersWithIV) pGen.generateDerivedParameters(256, 128);
    aesCBC.init(false, aesCBCParams);       
    byte[] key = ((KeyParameter)aesCBCParams.getParameters()).getKey();

    byte[] k01 = Helpers.getSubarray(key, 0, 16);
    byte[] k02 = Helpers.getSubarray(key, 16, 16);
    keysVault.put("KS256", key);
    keysVault.put("KS128", Helpers.xorit(k01, k02));

    byte[] k31 = Helpers.getSubarray(shaL1, 40, 24);
    byte[] k32 = Helpers.concat(key, k31);
    keysVault.put("KS448", k32);

    String forIV = new String(getMD5Hash(shaIV));   
    PKCS12ParametersGenerator pGenIV = new PKCS12ParametersGenerator(new SHA1Digest());
    char[] ivChars = forIV.toCharArray();
    final byte[] pkcs12IVBytes = PBEParametersGenerator.PKCS12PasswordToBytes(ivChars);
    pGenIV.init(pkcs12IVBytes, getMD5Hash(shaSalt).getBytes(), 100);
    CBCBlockCipher aesCBC2 = new CBCBlockCipher(new AESFastEngine());
    ParametersWithIV aesCBCParams2 = (ParametersWithIV) pGenIV.generateDerivedParameters(256, 128);
    aesCBC2.init(false, aesCBCParams2);     
    byte[] keyIV = ((KeyParameter)aesCBCParams2.getParameters()).getKey();      

    byte[] k11 = Helpers.getSubarray(keyIV, 0, 16);
    byte[] k12 = Helpers.getSubarray(keyIV, 16, 16);
    byte[] ivTemp = Helpers.xorit(k11, k12);
    byte[] k21 = Helpers.getSubarray(ivTemp, 0, 8);
    byte[] k22 = Helpers.getSubarray(ivTemp, 8, 8);
    keysVault.put("IS128", ivTemp);
    keysVault.put("IS64", Helpers.xorit(k21, k22));
 } 
```

到目前为止，我已经完成了（注意 SSE 设置为使用 AES 256 加密）

```
$ echo "testpass" | openssl sha512 -out shaL1
$ dd count=8 bs=1 if=shaL1 of=shaSalt
$ dd skip=8 count=8 bs=1 if=shaL1 of=shaIV
$ hexdump -ve '1/1 "%.2x"' shaSalt > shaSalt.hex
$ hexdump -ve '1/1 "%.2x"' shaIV > shaIV.hex
$ openssl aes-256-cbc -d -S shaSalt.hex -kfile shaIV.hex -p -in temp.enc -out mydir
bad magic number 
```

我在这里非常初学者，所以我可能会错过很多......：-/

# objective-c - 目标 C 代码中的错误执行顺序

> ID：15242711
> 
> 赞同：0
> 
> 时间：2013-03-06T08:51:23.917
> 
> 标签：objective-c, ios6, performselector

我的 iOS 应用程序中有以下代码：

```
[UIApplication sharedApplication].networkActivityIndicatorVisible = YES;
dispatch_sync(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
    [self performSelector: @selector(generateDataForDates:) withObject:paramArray afterDelay:0.1];
});

return self.dataArray; 
```

应用程序先执行 return 语句，然后执行 'performselector'，这会导致数据不一致。有没有人有任何线索？我需要先执行 performselector 然后返回语句。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:59:40.690

`performSelector:withObject:afterDelay:`将调度选择器在延迟之后执行，并且不会等到选择器执行完毕。它会立即返回。

这会起作用，但你为什么还要调度这个块呢？

```
[UIApplication sharedApplication].networkActivityIndicatorVisible = YES;
dispatch_sync(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
    [self generateDataForDates:paramArray];
});

return self.dataArray; 
```

# entity-framework - 实体框架中的枚举 - 如何创建它

> ID：15242712
> 
> 赞同：2
> 
> 时间：2013-03-06T08:51:31.663
> 
> 标签：entity-framework

我在这里观看了视频：http: [//msdn.microsoft.com/en-US/data/jj248772](http://msdn.microsoft.com/en-US/data/jj248772)，但我在上下文菜单中看不到从属性中创建枚举的选项。另外，我无法在模型浏览器中添加一个。我有 Visual Studio 2012 和 EF5，EntityFramework Assembly 版本 4.4.0.0

![在此处输入图像描述](../Images/39ebc9812a0017daee2c0540cd3cfb4c.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T11:19:01.663

实体框架程序集版本应为 5.0。您很可能针对 .NET 4.0。您需要 .NET 4.5 才能获得枚举支持（一旦更改目标 .NET 版本，您将需要卸载 EF 包并重新安装以获取 EF 5.0）。

**编辑：** EF 6.0 也应该为 .NET 4.0 提供枚举。

# ruby-on-rails - ruby on rails 表单中隐藏文本字段的替代方法

> ID：15242713
> 
> 赞同：1
> 
> 时间：2013-03-06T08:51:32.897
> 
> 标签：ruby-on-rails, security

我已经阅读了几篇关于表单中隐藏字段安全性的文章。我很担心。是否有任何替代技术可以通过删除隐藏字段来保护我的 ruby​​ on rails 应用程序？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:55:06.047

将此数据存储在会话中，并使用在服务器上持续存在的会话存储，例如活动记录会话。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:37:37.923

对于您的情况，最好使用隐藏字段。看到这篇文章[http://railsforum.com/viewtopic.php?id=29914](http://railsforum.com/viewtopic.php?id=29914)

# java - 创建 Lucene Analyzer 对象

> ID：15242720
> 
> 赞同：0
> 
> 时间：2013-03-06T08:51:49.733
> 
> 标签：java, netbeans, lucene

我正在尝试以下链接上的 apache Lucene IBM 教程 [http://www.irsi.res.in/winter-school/slides/LuceneTutorial_IRSI_WinterSchool_2010_v1.0.pdf](http://www.irsi.res.in/winter-school/slides/LuceneTutorial_IRSI_WinterSchool_2010_v1.0.pdf)

我已经在 NetBeans IDE 中为教程导入了 lucene 3.6.2 和 4.1.0 库，但都给出了同样的抱怨。

但是当我尝试创建 Analyzer 的对象时，NetBeans 抱怨它不是一个合适的构造函数 StandardAnalyzer();。

以下是相关的进口

```
import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.analysis.standard.StandardAnalyzer; 
```

下面是代码

```
 Analyzer analyzer = new StandardAnalyzer(); 
```

欢迎任何建议

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:56:20.647

你用的是哪个版本的 Lucene？[在http://lucene.apache.org/core/4_0_0-ALPHA/analyzers-common/org/apache/lucene/analysis/standard/StandardAnalyzer.html](http://lucene.apache.org/core/4_0_0-ALPHA/analyzers-common/org/apache/lucene/analysis/standard/StandardAnalyzer.html)查看最新文档

使用 StandardAnalyzer，您还必须提供版本详细信息

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T11:47:12.233

有几个版本的 Lucene 获取我使用的 StandardAnalyzer 对象的版本

```
Version.your_Version 
```

所以例如

```
StandardAnalyzer sa = new StandardAnalyzer(Version.36); 
```

用于 3.6.x 版本的 lucene

# paxos - chubby 中的 paxos

> ID：15242722
> 
> 赞同：0
> 
> 时间：2013-03-06T08:52:08.843
> 
> 标签：paxos

在chubby中，每条日志写入db的进程都是paxos进程的一个实例，而这个实例可能有很多proposer，所以会有一个master选中的进程。为什么它有很多提议者？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-08T22:32:44.487

拥有一个领导者（又名“杰出提议者”）是对 Paxos 的优化。Paxos 的全部意义在于当有多个提议者提出不同的事情时确定一个值。

拥有多个提议者的全部意义在于以防“杰出提议者”失败；必须有一些东西来扮演这个新角色。Paxos 在决定一个值时，会在提议者之间进行隐式决定。

与您的其他问题一样，我建议查看其他 Paxos 问题，也许阅读*Paxos Made Simple。*

# c# - 使用多个字符替换其他字符

> ID：15242723
> 
> 赞同：0
> 
> 时间：2013-03-06T08:52:09.950
> 
> 标签：c#

我有一个应用程序，在这个应用程序中，可以使用一个函数将单词中的某些字符替换为其他字符

```
var newCharacter = "H";

if (/*something happens here and than the currentCharacter will be replaced*/)
{
    // Replace the currentCharacter in the word with a random newCharacter.
    wordString = wordString.Replace(currentCharacter, newCharacter);
} 
```

现在所有字符都将替换为上面带有“H”的代码。但我想要更多的字母，例如 H、E、A、S

做这个的最好方式是什么？

当我这样做时：

```
var newCharacter = "H" + "L" + "S"; 
```

它用 H AND L AND S 替换了 currentCharacter 但我只是希望它替换为 H OR L OR S 而不是全部三个

因此，如果您有一个带有 HELLO 的单词并且您想用 newCharacter 替换 O，我现在的输出是 HELLHLS O -> HLS 但 O 需要是 -> H 或 L 或 S

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:11:30.543

**这是使用 LINQ 的一种方法。您可以在数组excpChar**中添加要删除的字符

 **```
char[] excpChar= new[] { 'O','N' };
string word = "LONDON";

var result = excpChar.Select(ch => word = word.Replace(ch.ToString(), ""));
Console.WriteLine(result.Last()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:12:17.710

Replace 函数一次替换所有出现，这不是我们想要的。让我们做一个 ReplaceFirst 函数，只替换第一次出现（可以用它做一个扩展方法）：

```
static string ReplaceFirst(string word, char find, char replacement)
{
    int location = word.IndexOf(find);
    if (location > -1)
        return word.Substring(0, location) + replacement + word.Substring(location + 1);
    else
        return word;
} 
```

然后我们可以使用随机生成器通过连续调用 ReplaceFirst 将目标字母替换为不同的字母：

```
string word = "TpqsdfTsqfdTomTmeT";
char find = 'T';
char[] replacements = { 'H', 'E', 'A', 'S' };
Random random = new Random();

while (word.Contains(find))
    word = ReplaceFirst(word, find, replacements[random.Next(replacements.Length)]); 
```

现在的词可能是 EpqsdfSsqfdEomHmeS 或 SpqsdfSsqfdHomHmeE 或 ...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:14:21.357

您可以执行以下操作：

```
string test = "abcde";
var result = ChangeFor(test, new char[] {'b', 'c'}, 'z');
// result = "azzde" 
```

与 ChangeFor ：

```
private string ChangeFor(string input, IEnumerable<char> before, char after)
{
    string result = input;
    foreach (char c in before)
    {
        result = result.Replace(c, after);
    }
    return result;
} 
```**

# html - 显示：旧浏览器中的表格属性

> ID：15242727
> 
> 赞同：2
> 
> 时间：2013-03-06T08:52:15.430
> 
> 标签：html, css, firefox, vertical-alignment

为了垂直对齐动态文本，我使用带有属性的`span`标签。它由with属性`display: table-cell`包裹，并且按应有的方式工作。`div``display: table`

但问题是这在较旧的 Firefox 版本中不起作用。不幸的是，我需要对 Firefox 7 及更高版本的支持。

除了使用真正的 html 表格之外，还有更简单的解决方案吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:58:17.250

`display:table-cell`不是垂直对齐的全部和结束。单独使用 CSS 仍然可以轻松实现垂直对齐。

你需要三样东西：

1.  具有特定高度的包含分隔器（流体或静态，没关系）。
2.  一个相对定位的“填充”分隔线，高度为 50%。
3.  您要垂直对齐的内容的容器。

但是，您需要知道内容容器的确切高度。

```
div#container {
    height:500px;
}

div#paddingDivider {
    height:50%;
}

div#contentContainer {
    margin:0 auto; /* Centrally align the element */
    height:100px; /* Declare the exact height of the element */
    margin-top:-50px; /* Position half of the element inside the padding divider */
} 
```

[JSFiddle 示例](http://jsfiddle.net/jpWWv/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:57:40.550

根据该`display`属性的 MDN 参考，[自 Firefox 版本 1 起就支持](https://developer.mozilla.org/en-US/docs/CSS/display#compat-desktop)`table`通过 CSS 显示。你应该没事！

# arrays - 如何从 Matlab 中的单元格中将值打印为变量？

> ID：15242731
> 
> 赞同：0
> 
> 时间：2013-03-06T08:52:21.230
> 
> 标签：arrays, matlab, cell

为了

```
A=[1;3;5] 
```

和

```
B=cell(7,1) 
```

我将以下结果存储在单元格中

```
[1]
[3]
[5]
[1;3]
[1;5]
[3;5]
[1;3;5] 
```

我想以,和`print`的方式得到结果。-- 基本上将 A 中的每个值分配给一个变量。`a=1``b=3``c=5`

我将如何在 Matlab 中执行此操作？

* * *

我正在寻找可能是这样的结果：

```
" you can have a "
" you can have b "
" you can have c "
" you can have a or b "
.
.
etc 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:14:20.540

如果我理解正确，你想要这样的东西：

```
numToLetter = [ 'a', ' ', 'b', ' ', 'c' ];
B = { 1, 3, 5, [ 1; 3 ], [ 1; 5 ], [ 3; 5 ], [ 1; 3; 5 ] };

% Loop though each entry in our cell array
for i = 1 : length(B)

  fprintf(' you can have ');               % Print initial message

  % Loop though each vector element inside the B{i}
  for j = 1 : length(B{i})
    fprintf('%c', numToLetter(B{i}(j) ) )  % Use our numToLetter lookup table
                                           % to convert the number to a letter,
                                           % and print it out.

    if j ~= length(B{i})
      fprintf(' or ');                     % Print 'or' if there are more to come
    end
  end
  fprintf('\n');                           % New line
end 
```

您问题的主要部分是如何将每个数字分配给一个字母（注意：我知道您要求将每个数字分配给一个变量，但我认为这不是您想要的。）。这是使用一个名为 的查找表完成的`numToLetter`，该表已`a`存储在`1`、`b`存储在`3`和`c`存储在`5`。这样，您只需将输入的数字用作此表的索引。您可以将此查找表与向量一起使用；例如：

```
myNumbers = [ 1 3 3 1 5 ];
myLetters = numToLetter(myNumbers) 
```

给出输出：

```
myLetters =

abbac 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:54:03.417

让`C`成为您要分配给 中数字的字母数组`A`。然后

```
A = [1 3 5];
B = {[1]; [3]; [5]; [1;3]; [1;5]; [3;5]; [1;3;5]};
C = ['a', 'b', 'c']

k = 6; % indicates current line of B
str = ['you can have ' strrep(strrep(sprintf('_%c_', ...
    C(ismember(A, B{k}))'), '__', ' or '), '_', '')]; 
```

结果是

```
str =

you can have a or b or c 
```

如果要**一次****创建对所有字段的响应** ，可以使用`B`

 **```
allStr = arrayfun(@(x) ['you can have ' strrep(strrep(sprintf('_%c_', ...
    C(ismember(A, B{x}))'), '__', ' or '), '_', '')], ...
    (1:length(B))', 'uniformoutput', false) 
```

这导致

```
allStr = 

    'you can have a'
    'you can have b'
    'you can have c'
    'you can have a or b'
    'you can have a or c'
    'you can have b or c'
    'you can have a or b or c' 
```

**这段代码的逐步解释**如下：

```
% which contents of A can be found in B?
idx = ismember(A, B{k})'; 

% to which letters do these indices correspond?
letters = C(idx);

% group the letters in a string embedded in '_' as place holders for later use
% by this, the places between letters will be marked with '__' and the places 
% at the beginning and the end of the string will be marked with '_'
stringRaw = sprintf('_%c_', letters); 

% replace each occurrence of '__' by ' or '
stringOr = strrep(stringRaw, '__', ' or ');

% replace each occurrence of '_' by ''
stringClean = strrep(stringOr, '_', ''); 

% add first half of sentence
stringComplete = ['you can have ' stringClean]; 
```

**要使用完整的单词**（按照评论中的要求）进行此操作，您需要转换`C`为字符串元胞数组并相应地更新公式：

```
A = [1 3 5];
B = {[1]; [3]; [5]; [1;3]; [1;5]; [3;5]; [1;3;5]};
C = {'first', 'second', 'third'}

k = 7; % indicates current line of B
str = ['you can have ' strrep(strrep(sprintf('_%s_', ...
    C{ismember(A, B{k})}), '__', ' or '), '_', '')]; 
```

这导致：

```
str =

you can have first or second or third 
```**

# c# - Linq xml to object - 如何填充集合

> ID：15242736
> 
> 赞同：2
> 
> 时间：2013-03-06T08:52:39.103
> 
> 标签：c#, linq

我需要阅读一些 xml 并填充我的类结构。如果有人可以为此提供一些简洁的代码，我会很高兴。

我的简化类结构：

```
public class Event
{
    [XmlAttribute("Id")]
    public string Id { get; set; }

    [XmlElement("StartTimes")]
    public Collection<StartTime> StartTimeCollection;        
}

public class StartTime
{
    [XmlAttribute("Time")]
    public string Start { get; set; }
    [XmlAttribute("Mon")]
    public bool Monday { get; set; }
    [XmlAttribute("Tue")]
    public bool Tuesday { get; set; }
    [XmlAttribute("Wed")]
    public bool Wednesday { get; set; }
    [XmlAttribute("Thu")]
    public bool Thursday { get; set; }
    [XmlAttribute("Fri")]
    public bool Friday { get; set; }
    [XmlAttribute("Sat")]
    public bool Saturday { get; set; }
    [XmlAttribute("Sun")]
    public bool Sunday { get; set; }
} 
```

xml 看起来像：

```
<Event Id="f7cfc3a5-5b1b-4941-8d7b-f8a4a71fa530">
  <StartTimes>
    <StartTime Time="19:00" Mon="false" Tue="false" Wed="false" Thu="false" Fri="true" Sat="false" Son="false"/>
  </StartTimes>
</Event> 
```

这就是我的 linq 语句的样子：

```
from x in doc.Descendants("Event")
select new Event()
{
Id = x.Attribute("Id").Value,
StartTimeCollection = x.Descendants("StartTimes") ????????? <-- That's the tricky part for me
} 
```

问候

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:31:50.650

由于`Collection<T>`公开了一个采用的[构造函数](http://msdn.microsoft.com/en-us/library/ms132401.aspx)`IList<T>`，因此您可以使用[SelectMany()](http://msdn.microsoft.com/en-us/library/system.linq.enumerable.selectmany.aspx)并编写：

```
from x in doc.Descendants("Event")
select new Event() {
    Id = x.Attribute("Id").Value,
    StartTimeCollection = new Collection<StartTime>(
        x.Descendants("StartTimes").SelectMany(
            startTimes => startTimes.Elements("StartTime").Select(
                startTime => new StartTime() {
                    Start = startTime.Attribute("Time").Value,
                    Monday = Boolean.Parse(startTime.Attribute("Mon").Value),
                    Tuesday = Boolean.Parse(startTime.Attribute("Tue").Value),
                    Wednesday = Boolean.Parse(startTime.Attribute("Wed").Value),
                    Thursday = Boolean.Parse(startTime.Attribute("Thu").Value),
                    Friday = Boolean.Parse(startTime.Attribute("Fri").Value),
                    Saturday = Boolean.Parse(startTime.Attribute("Sat").Value),
                    Sunday = Boolean.Parse(startTime.Attribute("Son").Value)
                })).ToList())
} 
```

请注意，我使用`Attribute("Son")`而不是`Attribute("Sun")`来初始化`Sunday`属性，因为该属性的名称与您的标记中的名称类似。不过，这可能是一个错字。

# jquery - 将 jQuery colorbox 插件添加到动态创建的元素始终显示第一张图片

> ID：15242737
> 
> 赞同：0
> 
> 时间：2013-03-06T08:52:40.357
> 
> 标签：jquery, gallery, colorbox

我通过 DataTables.net 创建了动态（ajax）图片表。按颜色框显示图片效果很好

```
$('.colorbox').live('click', function(e) {
    e.preventDefault();
    $('.colorbox').colorbox({open:true});
}); 
```

html元素是`<a href='/picture.jpg' rel='gallery1' ...`

当我第一次点击图片时，彩盒总是显示画廊序列中的第一张图片。我如何设置/聚焦到当前点击的图片？（当我使用**这个**时，colorbox 只显示一张图片）。

谢谢

更新示例以获得更好的说明：

```
<a href="/image1.jpg">image 1</a>
<a href="/image2.jpg">image 2</a>
<a href="/image3.jpg">image 3</a>

     $('.colorbox').live('click', function(e) {
e.preventDefault();
$('.colorbox').colorbox({open:true}, function() { alert(href:$(this).attr('href')); });
}); 
```

1）我打开网页并单击**图像3**并警告显示href **/image1.jpg**

2）然后我关闭colorbox窗口并单击**图像3**并正常显示**/image3.jpg**

3）只有第一次，当我展示画廊时，总是有第一张图片，初始化不好？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:01:44.043

在你的点击函数调用中试试这个

```
$('#elementID').colorbox({width:"100%"}, function(){
$("input:first").focus();
}); 
```

其中 input:first 应替换为要聚焦的项目。

干杯

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-08T08:10:21.407

我发现:) 在另一个线程stackoverflow [Jquery colorbox中解决：](https://stackoverflow.com/questions/3311868/jquery-colorbox-initialize-gallery-on-click)从**kolypto点击初始化画廊**

# javascript - 我如何在 jquery 中进行部分匹配

> ID：15242745
> 
> 赞同：0
> 
> 时间：2013-03-06T08:52:54.723
> 
> 标签：javascript, jquery

我正在尝试这个

```
 $("ul.nav-tabs a:contains('profile')").parent().addClass("active") 
```

`Profile`如果我在那里，它不起作用。

有没有办法做到这一点`case insensitive`

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T08:53:57.327

如果您正在寻找文本`a`然后使用[filter()](http://api.jquery.com/filter/)

```
$("ul.nav-tabs a").filter(function() {
  if($(this).text().toLowerCase() == "profile")
       return $(this).parent();
}).addClass("active"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T08:54:01.593

您应该使用[`filter()`](http://api.jquery.com/filter/)而不是`:contains`选择器：

```
$("ul.nav-tabs a").filter(function() {
    return /profile/i.test($.text(this));
}).parent().addClass("active"); 
```

# python - 使用 Pandas 处理可变列数 - Python

> ID：15242746
> 
> 赞同：79
> 
> 时间：2013-03-06T08:52:55.007
> 
> 标签：python, pandas

我有一个看起来像这样的数据集（最多 5 列 - 但可以更少）

```
1,2,3
1,2,3,4
1,2,3,4,5
1,2
1,2,3,4
.... 
```

我正在尝试使用 pandas read_table 将其读入 5 列数据框。我想在没有额外按摩的情况下阅读这篇文章。

如果我尝试

```
import pandas as pd
my_cols=['A','B','C','D','E']
my_df=pd.read_table(path,sep=',',header=None,names=my_cols) 
```

我收到一个错误 - “列名有 5 个字段，数据有 3 个字段”。

**有没有办法让熊猫在读取数据时为缺失的列填充 NaN？**

* * *

## 回答 #1

> 赞同：81
> 
> 时间：2013-03-06T15:55:05.310

一种似乎可行的方法（至少在 0.10.1 和 0.11.0.dev-fc8de6d 中）：

```
>>> !cat ragged.csv
1,2,3
1,2,3,4
1,2,3,4,5
1,2
1,2,3,4
>>> my_cols = ["A", "B", "C", "D", "E"]
>>> pd.read_csv("ragged.csv", names=my_cols, engine='python')
   A  B   C   D   E
0  1  2   3 NaN NaN
1  1  2   3   4 NaN
2  1  2   3   4   5
3  1  2 NaN NaN NaN
4  1  2   3   4 NaN 
```

但是请注意，这种方法要求您为所需的列命名。不像其他一些方法那样通用，但在适用时效果很好。

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2013-03-06T09:58:12.473

我也很想知道这是否可能，从文档来看似乎并非如此。您可能会做的是逐行读取文件，并将每次读取连接到 DataFrame：

```
import pandas as pd

df = pd.DataFrame()

with open(filepath, 'r') as f:
    for line in f:
        df = pd.concat( [df, pd.DataFrame([tuple(line.strip().split(','))])], ignore_index=True ) 
```

它可以工作，但不是以最优雅的方式，我猜......

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T15:40:49.830

行。不知道这是多么有效 - 但这是我所做的。很想听听是否有更好的方法来做到这一点。谢谢 ！

```
from pandas import DataFrame

list_of_dicts=[]
labels=['A','B','C','D','E']
for line in file:
    line=line.rstrip('\n')
    list_of_dicts.append(dict(zip(labels,line.split(','))))
frame=DataFrame(list_of_dicts) 
```

# hibernate - Grails：在复合键上映射域类字段

> ID：15242747
> 
> 赞同：1
> 
> 时间：2013-03-06T08:52:57.513
> 
> 标签：hibernate, grails, grails-orm

我有一个从旧表逆向工程的域类

```
class AuditLog {

    String className;
    String eventName;
    ...
    AuditEvent event; //need to add this one

    static mapping = {
        ...
        className column: 'class_name';
        eventName column: 'event_name';
        ...
    }
} 
```

`className`包含已更改的域类的名称（例如 com.test.Class1）并`eventName`包含执行的事件的名称（例如 INSERT/UPDATE/DELETE）。

我需要对发生的事情提供人类可读的描述。所以我创建了另一个域类

```
class AuditEvent {

    String name;

    //these should make a composite key
    String className; 
    String eventName;

} 
```

例如 AuditEvent[name:"Row 插入 Class1", className:"com.test.Class1", eventName:"INSERT"]。
AuditEvent[name:"从 Class1 中删除的行", className:"com.test.Class1", eventName:"DELETE"]

我现在想要的是能够打电话`AuditLog.get(1).event.name`，这就是我卡住的地方。

如何描述`event`AuditLog 类中字段的关系以使其根据 AuditLog.className 和 AuditLog.eventName 加载正确的 AuditEvent 对象？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T16:35:45.407

由于类名和事件名在 AuditEvent 对象中，因此在 AuditLog 类中不需要它们。但是，您必须在创建 AuditLog 实例时创建/查找 AuditEvent。IE。这两个字段不会自动注入：

```
new AuditLog(event: AuditEvent.findOrSaveWhere(className: .., eventName: ..)).save() 
```

您最好不要在类中进行关联，而是在 AuditLog 类上使用一个方法来查找 AuditEvent：

```
class AuditEvent {
    // ..
    static AuditEvent get(className, eventName) {
        find 'from AuditEvent e where e.className = :className and e.eventName = :eventName', [className: className, eventName: eventName]
    }
}

class AuditLog {

    String className;
    String eventName;

    // ...

    String getEventName() {
        AuditEvent.get(className, eventName).name
    }
} 
```

这将使您的名称查找如下：

```
AuditLog.get(id).eventName 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:12:05.580

为什么需要 AuditEvent 的复合主键？

hasOne 呢？

```
class AuditLog {
    static hasOne = [event: AuditEvent]
}

class AuditEvent {

    String name

    AuditLog auditLog 

} 
```

# c#-4.0 - 剑道树视图拖放而不会丢失其源

> ID：15242748
> 
> 赞同：-1
> 
> 时间：2013-03-06T08:53:00.383
> 
> 标签：c#-4.0, asp.net-mvc-4, kendo-ui, kendo-treeview

我正在使用 Kendo UI Tree 在两棵树之间拖放。

我正在使用 ajax 调用填充它。

现在的问题是，当我将任何项目从 TreeViewA 移动到自身时，我可以找到节点的源和目标，但是当我将项目从 TreeViewA 拖放到 TreeViewB 时，我找不到源和目标节点 ID。

请帮忙！

另外，我可以拖放源项目副本而不是从源中删除节点。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T15:49:43.070

当您有两棵树时，您可以通过以下方式访问节点及其数据（定义 drop 函数）：

```
, drop: function (e) {
    if (e.valid) {
    var theOtherTree = $(e.dropTarget).parents('.k-treeview').data("kendoTreeView");
    console.log('drop source: ' + this.dataItem(e.sourceNode).customData);
    console.log('drop target: ' + theOtherTree.dataItem(e.dropTarget).customData);
    }
} 
```

*   “this”指的是源树，通过dropTarget获取目标树
*   您可以检索 id 或您想要的节点中的任何自定义数据。

# bash - 将 postgresql 结果存储在 bash 变量中

> ID：15242752
> 
> 赞同：41
> 
> 时间：2013-03-06T08:53:31.540
> 
> 标签：bash, postgresql, variables

如何像下面的脚本一样在 bash 变量上处理标量 postgresql 值？

```
dbname="testlauf"
username="postgres"

vartest='psql -c -d $dbname -U $username -h localhost -p 5432 "SELECT gid FROM testtable WHERE aid='1';"'
echo "$vartest" 
```

我尝试了几种不同的作品，但似乎没有任何效果。提前致谢。

* * *

## 回答 #1

> 赞同：71
> 
> 时间：2013-03-06T09:53:49.307

将`-c`选项放在其参数之前 - 查询。还请注意使用附加`-t`选项来获取元组值。当然，使用反引号 ( **`** ) 运算符。

`-X`还建议使用该选项，因为有时`.psqlrc`文件可能会添加一些冗余输出，以及`-A`禁用列对齐（空格）的选项。

要跳过 NOTICE 或其他附加消息，请包含该`-q`标志。

```
vartest=`psql -d $db -U $user -AXqtc "SELECT gid FROM testtable WHERE aid='1'"` 
```

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2018-01-17T06:46:39.270

使用 -t 选项或 --tuples-only 只会为您提供行，因此将它们存储在数组变量中会更容易（如果查询的结果不止一个）

```
vartest =(`psql -t -d $dbname -U $username -c "SELECT gid FROM testtable WHERE aid='1';"`)
echo $vartest 
```

例子：

查询结果

```
ubuntu@ratnakri:~$ psql -h localhost -p 5432 -t -U postgres -d postgres -c "select slot_name from pg_replication_slots"
barman
barman2 
```

使其成为数组变量

```
 ubuntu@ratnakri:~$ RESULT=(`psql -h localhost -p 5432 -t -U postgres -d postgres -c "select slot_name from pg_replication_slots"`)
    ubuntu@ratnakri:~$ echo ${RESULT[0]}
    barman
    ubuntu@ratnakri:~$ echo ${RESULT[1]}
    barman2 
```

# php - PHP 发送邮件到 Excel 列表

> ID：15242753
> 
> 赞同：1
> 
> 时间：2013-03-06T08:53:32.253
> 
> 标签：php, phpexcel

我有一个很长的 Excel 列表，其中包含用户名、邮件地址和 PIN 码。我想生成一个自动邮件，如“亲爱`$name`的，你的 PIN 码是`$pin`”并发送到`$mail`where `$name`，`$mail`和`$pin`变量将来自一个 excel 文件..（有三列）

任何人都可以分享任何想法或示例代码吗？

**编辑赏金** 这是我的 csv 文件的屏幕打印。我想从 csv 文件中读取数据作为二维数组并填充电子邮件。

![我的 csv 文件](../Images/12d1d8b73339521146a8e5c9922125f1.png)

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2013-03-06T08:56:03.913

**这是最好的选择**：

```
1\. convert Excel to CSV
2\. Import CSV to database
3\. Fetch the contents of database to your php page.
4\. Loop your contents and send mail. 
```

优势 ：

1.  您不想要任何外部库或插件
2.  简单的编码，（从数据库和邮件中获取数据）

**另一种选择是读取 csv 并发送邮件**：

这是从 CSV 读取数据并发送邮件的代码：这只是一个示例代码，您可以根据您的要求和 csv 字段名称对其进行编辑。

```
$row              = 1;
if (($handle      = fopen("test.csv", "r")) !== FALSE) {
    while (($data = fgetcsv($handle, 1000, ",")) !== FALSE) {
        $num      = count($data);
        echo "<p> $num fields in line $row: <br /></p>\n";   
        $row++;

        $to          = $data[2]; // as per your CSV shown in question.
        $subject     = 'Your subject';
        $message     = 'Your mail content';
        $headers     =  'From: webmaster@example.com' . "\r\n" .
                        'Reply-To: webmaster@example.com' . "\r\n" .
                        'X-Mailer: PHP/' . phpversion();
        mail($to, $subject, $message, $headers);

    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-13T08:38:05.943

首先，如果您不介意使用大型 PHP 库，我肯定会投票支持 PHPExcel ( [http://phpexcel.codeplex.com](http://phpexcel.codeplex.com) )。您可以逐行解析excel文件以获取用户信息。

其次，如果您有一个大型数据库，您应该考虑使用 SendGrid ( [http://sendgrid.com](http://sendgrid.com) ) 来发送邮件。它们具有最适合所有接收邮件客户端的标头配置。

祝你好运！

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-06T09:00:05.920

使用此软件包，您可以阅读 XLS 文件：[http](http://code.google.com/p/php-excel-reader/) ://code.google.com/p/php-excel-reader/ （使用简单，示例很多）。它将 XLS 文件解析为关联数组。在此之后，您可以遍历数组，从中获取您需要的数据，并将参数传递给邮件函数。（但我建议不要使用普通的邮件功能，而是使用phpMailer，[http](http://phpmailer.worxware.com/) ://phpmailer.worxware.com/ ）

正如另一位评论者所说，您可以将 XLS 文件转换为 csv。在这种情况下，请使用 PHP [http://php.net/manual/en/function.fgetcsv.php](http://php.net/manual/en/function.fgetcsv.php)的 fgetcsv 函数。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-12T17:17:18.817

这不是 PHP 解决方案，但由于这是一次性需求，因此推出自己的解决方案毫无意义。您可能想尝试一些更简单的东西。

我最近将我的邮件服务器连接到我的 gmail 帐户（作为别名），并利用了人们制作的众多可用[邮件合并](https://www.google.ca/search?q=gmail%20mail%20merge)程序之一。它很简单：

1.  使用 $%Name% 和 $%PIN% 等占位符值创建电子邮件，并将其保存为草稿。
2.  在您的谷歌驱动器中打开一个邮件合并电子表格，粘贴您的源数据，然后单击运行。

您还可以尝试任意数量的免费打包邮件合并解决方案，例如[xsMerge](http://www.thexs.ca/xsmerge) chrome 应用程序。

# html - 图片未显示在 html 的表格中

> ID：15242755
> 
> 赞同：0
> 
> 时间：2013-03-06T08:53:35.987
> 
> 标签：html, arrays, image, for-loop, html-table

```
function display()
{
    var menu_frame_filtered = top.menu_frame.filtered;
//filtered array taken from menu frame
    var displayed = menu_frame_filtered;
// giving filtered array new name
    var p = displayed.length;
//  window.open('Part_database/' + displayed[0] + '.jpg')
//displayed array contains image names and checked whether they are opening
//  
     document.write('<table border="0" cellspacing="0" cellpadding="0">')
    document.write('<tr>')
    for(i = 0; i < p; i++)
    {
    document.write('<td>' + displayed[i] + '</td>')
//image names in first cell
    }
    document.write('</tr>')
    document.write('<tr>')
    for(i = 0; i < p; i++)
    {
    document.write('<td width="250" ><img src="Part_database/ '+ displayed[i] +' .JPG" alt=' + displayed[i] + ' width="200" height="200" /></td>')
//images in second cell
    }
    document.write('</tr>')
    document.write('</table>')
} 
```

上面的代码没有在表格中显示图像......试图找出挑战。浏览器 - IE8。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T08:57:48.160

您有一个可能不属于的额外空间：

```
document.write('<td width="250" ><img src="Part_database/ '+ displayed[i] +' .JPG" alt=' + displayed[i] + ' width="200" height="200" /></td>')
                                                         ^                  ^
                                                         ^                  ^
                                                         ^                  ^ 
```

# sql - 将 CSV 文件导入 SQL Server

> ID：15242757
> 
> 赞同：223
> 
> 时间：2013-03-06T08:53:41.680
> 
> 标签：sql, sql-server, csv, bulkinsert, bulk

我正在寻求帮助以`.csv`使用将文件导入 SQL Server `BULK INSERT`，但我有几个基本问​​题。

**问题：**

1.  CSV 文件数据`,`之间可能有（逗号）（例如：描述），那么如何进行导入处理这些数据？

2.  如果客户端从 Excel 创建 CSV，则带有逗号的数据包含在`""`（双引号）内 [如下例] 那么导入如何处理这个问题？

3.  我们如何跟踪某些行是否有错误数据，哪些导入会跳过？（导入是否会跳过不可导入的行）

这是带有标题的示例 CSV：

```
Name,Class,Subject,ExamDate,Mark,Description
Prabhat,4,Math,2/10/2013,25,Test data for prabhat.
Murari,5,Science,2/11/2013,24,"Test data for his's test, where we can test 2nd ROW, Test."
sanjay,4,Science,,25,Test Only. 
```

以及要导入的 SQL 语句：

```
BULK INSERT SchoolsTemp
FROM 'C:\CSVData\Schools.csv'
WITH
(
    FIRSTROW = 2,
    FIELDTERMINATOR = ',',  --CSV field delimiter
    ROWTERMINATOR = '\n',   --Use to shift the control to next row
    TABLOCK
) 
```

* * *

## 回答 #1

> 赞同：195
> 
> 时间：2013-03-06T09:45:04.913

基于 SQL Server CSV 导入

> 1）CSV文件数据`,`之间可能有（逗号）（例如：描述），那么我该如何导入处理这些数据？

**解决方案**

如果您使用`,`(comma) 作为分隔符，则无法区分作为字段终止符的逗号和数据中的逗号。我会使用不同的`FIELDTERMINATOR`like `||`。代码看起来像这样，这将完美地处理逗号和单斜杠。

> 2) 如果客户端从 excel 创建 csv，则带有逗号的数据包含在`" ... "`（双引号）内 [如下例] 那么导入如何处理这个问题？

**解决方案**

如果您使用 BULK 插入，则无法处理双引号，数据将用双引号插入行中。将数据插入表后，您可以将这些双引号替换为“ `”。`

 ````
update table
set columnhavingdoublequotes = replace(columnhavingdoublequotes,'"','') 
```

> 3）我们如何跟踪某些行是否有错误数据，哪些导入会跳过？（导入是否会跳过不可导入的行）？

**解决方案**

要处理由于无效数据或格式而未加载到表中的行，可以使用[ERRORFILE 属性](http://msdn.microsoft.com/en-us/library/ms188365.aspx)进行处理，指定错误文件名，它将有错误的行写入错误文件。代码应该是这样的。

```
BULK INSERT SchoolsTemp
    FROM 'C:\CSVData\Schools.csv'
    WITH
    (
    FIRSTROW = 2,
    FIELDTERMINATOR = ',',  --CSV field delimiter
    ROWTERMINATOR = '\n',   --Use to shift the control to next row
    ERRORFILE = 'C:\CSVDATA\SchoolsErrorRows.csv',
    TABLOCK
    ) 
```

* * *

## 回答 #2

> 赞同：45
> 
> 时间：2016-02-12T14:39:17.763

从*[如何使用 SQL Server Management Studio 将 CSV 文件导入数据库](https://support.discountasp.net/kb/a1179/how-to-import-a-csv-file-into-a-database-using-sql-server-management-studio.aspx)*，从 2013 年 11 月 5 日开始：

> 首先在您的数据库中创建一个表，您将向其中导入 CSV 文件。创建表后：
> 
> *   使用 SQL Server Management Studio 登录到您的数据库
>     
>     
> *   右键单击您的数据库并选择**任务 -> 导入数据...**
>     
>     
> *   单击**下一步 >**按钮
>     
>     
> *   对于数据源，选择**平面文件源**。然后使用**浏览**按钮选择 CSV 文件。**在单击Next >**按钮之前，花一些时间配置您希望如何导入数据。
>     
>     
> *   对于目标，选择正确的数据库提供程序（例如，对于 SQL Server 2012，您可以使用 SQL Server Native Client 11.0）。输入**服务器名称**；选中**Use SQL Server Authentication**，输入**User name**、**Password**和**Database**，然后单击**Next >**按钮。
>     
>     
> *   在 Select Source Tables and Views 窗口中，您可以在单击**Next >**按钮之前编辑映射。
>     
>     
> *   选中**立即运行**复选框，然后单击**下一步 >**按钮。
>     
>     
> *   单击“**完成**”按钮运行包。

* * *

## 回答 #3

> 赞同：30
> 
> 时间：2018-01-23T09:11:10.573

> 2) 如果客户端从 excel 创建 csv，则带有逗号的数据包含在“...”（双引号）[如下例]中，那么导入如何处理这个问题？

您应该使用 FORMAT = 'CSV', FIELDQUOTE = '"' 选项：

```
BULK INSERT SchoolsTemp
FROM 'C:\CSVData\Schools.csv'
WITH
(
    FORMAT = 'CSV', 
    FIELDQUOTE = '"',
    FIRSTROW = 2,
    FIELDTERMINATOR = ',',  --CSV field delimiter
    ROWTERMINATOR = '\n',   --Use to shift the control to next row
    TABLOCK
) 
```

* * *

## 回答 #4

> 赞同：15
> 
> 时间：2013-11-07T16:45:24.690

解决数据中逗号问题的最佳、最快和最简单的方法是在将 Windows 的列表分隔符设置为逗号以外的其他内容（例如管道）后，使用 Excel 保存逗号分隔文件。然后，这将为您生成一个管道（或其他）分隔文件，然后您可以导入该文件。这在[此处](http://www.howtogeek.com/howto/21456/export-or-save-excel-files-with-pipe-or-other-delimiters-instead-of-commas/)进行了描述。

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2013-08-30T04:33:06.777

首先您需要将 CSV 文件导入数据表

然后您可以使用 SQLBulkCopy 插入批量行

```
using System;
using System.Data;
using System.Data.SqlClient;

namespace SqlBulkInsertExample
{
    class Program
    {
      static void Main(string[] args)
        {
            DataTable prodSalesData = new DataTable("ProductSalesData");

            // Create Column 1: SaleDate
            DataColumn dateColumn = new DataColumn();
            dateColumn.DataType = Type.GetType("System.DateTime");
            dateColumn.ColumnName = "SaleDate";

            // Create Column 2: ProductName
            DataColumn productNameColumn = new DataColumn();
            productNameColumn.ColumnName = "ProductName";

            // Create Column 3: TotalSales
            DataColumn totalSalesColumn = new DataColumn();
            totalSalesColumn.DataType = Type.GetType("System.Int32");
            totalSalesColumn.ColumnName = "TotalSales";

            // Add the columns to the ProductSalesData DataTable
            prodSalesData.Columns.Add(dateColumn);
            prodSalesData.Columns.Add(productNameColumn);
            prodSalesData.Columns.Add(totalSalesColumn);

            // Let's populate the datatable with our stats.
            // You can add as many rows as you want here!

            // Create a new row
            DataRow dailyProductSalesRow = prodSalesData.NewRow();
            dailyProductSalesRow["SaleDate"] = DateTime.Now.Date;
            dailyProductSalesRow["ProductName"] = "Nike";
            dailyProductSalesRow["TotalSales"] = 10;

            // Add the row to the ProductSalesData DataTable
            prodSalesData.Rows.Add(dailyProductSalesRow);

            // Copy the DataTable to SQL Server using SqlBulkCopy
            using (SqlConnection dbConnection = new SqlConnection("Data Source=ProductHost;Initial Catalog=dbProduct;Integrated Security=SSPI;Connection Timeout=60;Min Pool Size=2;Max Pool Size=20;"))
            {
                dbConnection.Open();
                using (SqlBulkCopy s = new SqlBulkCopy(dbConnection))
                {
                    s.DestinationTableName = prodSalesData.TableName;

                    foreach (var column in prodSalesData.Columns)
                        s.ColumnMappings.Add(column.ToString(), column.ToString());

                    s.WriteToServer(prodSalesData);
                }
            }
        }
    }
} 
```

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2018-04-11T16:39:21.037

因为他们不使用 SQL 导入向导，所以步骤如下：

![在此处输入图像描述](../Images/d7650eb36bc8d6eaecbf0a1de1e4f3da.png)

1.  右键单击选项**任务中的数据库以导入**数据，

2.  **向导**打开后，我们选择要隐含的数据类型。在这种情况下，它将是

> 平面文件源

我们选择 CSV 文件，可以在 CSV 中配置表格的数据类型，但最好从 CSV 中带上。

3.  单击下一步并选择最后一个选项

> SQL 客户端

根据我们选择的身份验证类型，一旦完成，就会出现一个非常重要的选项。

4.  我们可以在 CSV 中定义表的 id（建议 CSV 的列应该和表中的字段调用相同）。在选项 Edit Mappings 中，我们可以看到每个表格的预览以及电子表格的列，如果我们希望向导默认插入 id，我们不选中该选项。

> 启用 id 插入

（通常不是从 1 开始），相反，如果我们在 CSV 中有一个带有 id 的列，我们选择启用 id 插入，下一步是结束向导，我们可以在此处查看更改。

另一方面，在下面的窗口中可能会出现警报，或者**警告，理想的情况是忽略这一点，只有当它们留下错误时才**需要注意。

[这个链接有图片](https://host4asp.net/import-csv-file-using-sql-server-management-studio/)。

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2017-03-17T18:39:35.620

这是我将如何解决它：

1.  只需将您的 CSV 文件另存为 Excel 中的 XLS 表（这样做，您不必担心分隔符。Excel 的电子表格格式将作为表格读取并直接导入 SQL 表格）

2.  使用 SSIS 导入文件

3.  在导入管理器中编写自定义脚本以省略/修改您要查找的数据。（或运行主脚本来检查您要删除的数据）

祝你好运。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2020-04-06T12:02:13.403

我知道这不是上述问题的确切解决方案，但对我来说，当我试图将位于单独服务器上的一个数据库中的数据**复制到我的本地时，这是一场噩梦。**

我试图通过首先将数据从服务器**导出**`CSV/txt`到然后将其**导入**到我的本地表来做到这一点。

两种解决方案：写下要导入的查询`CSV`或使用 SSMS**导入数据**向导总是会产生错误（错误非常普遍，表示存在解析问题）。虽然我没有做任何特别的事情，只是**导出**到`CSV`然后尝试**导入** `CSV`到本地`DB`，但错误总是存在。

我试图查看映射部分和数据预览，但总是一团糟。而且我知道主要问题来自其中一个`table`列，该列包含`JSON`并且`SQL`解析器错误地处理了它。

所以最终，我想出了一个不同的解决方案，并想分享它，以防其他人遇到类似的问题。

* * *

我所做的是我在外部服务器上使用了**导出向导。**

以下是重复相同过程的步骤：
1) 右键单击​​数据库并选择`Tasks -> Export Data...`

2) 当向导将打开时，选择下一步并在“数据源：”的位置选择“SQL Server Native Client”。

[![在此处输入图像描述](../Images/61d927c9ff6de96863e90234fff6029a.png)](https://i.stack.imgur.com/mKn5w.png)

> 如果是外部服务器，您很可能必须为“身份验证模式：”选择“使用 SQL Server 身份验证”。

3）点击**Next**后，您必须选择**Destionation**。
为此，再次选择“SQL Server Native Client”。
这一次您可以提供您的本地（或其他一些外部`DB`）`DB`。

[![在此处输入图像描述](../Images/f34e1aa1fffc7bf87810e3323326ed35.png)](https://i.stack.imgur.com/6axAM.png)

4) 点击 Next 按钮后，您有两个选择，要么将整个表从一个复制`DB`到另一个，要么写下查询以指定要复制的确切数据。就我而言，我不需要整个表（它太大），只需要其中的一部分，所以我选择了“编写查询以指定要传输的数据”。

[![在此处输入图像描述](../Images/a0af5134975d16d96d2080b8c5d30d1d.png)](https://i.stack.imgur.com/RLKez.png)

> 我建议在使用 Wizard 之前在单独的查询编辑器上写下并测试查询。

5) 最后，您需要指定将选择数据的目标表。

[![在此处输入图像描述](../Images/d0bbae61638f984ae02b83445d00e5be.png)](https://i.stack.imgur.com/aAmOc.png)

> 我建议将其保留为`[dbo].[Query]`自定义`Table`名称，以防您在导出数据时遇到错误，或者如果您不确定数据并希望在移动到所需的确切表格之前进一步分析它。

**现在通过点击下一步/完成**按钮直接进入向导的末尾。

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2020-07-24T15:33:06.523

如果您的数据是“干净的”（没有违反数据约束等）并且您有权将文件放在服务器上，那么这里的所有答案都非常有用。如果使用 SSMS 的内置导入任务，此处提供的一些答案会在第一个错误（PK 违规、数据丢失错误等）处停止，并一次给您一个错误。如果你想一次收集所有错误（如果你想告诉给你 .csv 文件的人清理他们的数据），我推荐以下作为答案。当您自己“编写” SQL 时，此答案还为您提供了完全的灵活性。

注意：我假设您正在运行 Windows 操作系统并且可以访问 Excel 和 SSMS。如果没有，我相信您可以调整此答案以满足您的需求。

1.  使用 Excel 打开您的 .csv 文件。在一个空列中，您将编写一个公式，该公式将构建单独的`INSERT`语句，例如`=CONCATENATE("INSERT INTO dbo.MyTable (FirstName, LastName) VALUES ('", A1, "', '", B1,"')", CHAR(10), "GO")`其中 A1 是具有名字数据的单元格，而 A2 具有姓氏数据。

    *   `CHAR(10)`在最终结果中添加一个换行符，即使有任何错误，`GO`我们也可以运行它并继续下一个。`INSERT`
2.  `=CONCATENATION()`使用公式突出显示单元格

3.  Shift + End 突出显示其余行中的同一列

4.  在功能区 > 主页 > 编辑 > 填充 > 单击向下

    *   这会将公式一直应用到工作表中，因此您不必手动复制粘贴、拖动等数千行
5.  Ctrl + C 复制制定的 SQL`INSERT`语句

6.  粘贴到 SSMS

7.  `INSERT`您会注意到 Excel 可能出乎意料地在您的每个和`GO`命令周围添加了双引号。这是从 Excel 中复制多行值的*“功能”（？） 。*您可以简单地找到并替换`"INSERT`和`GO"`替换`INSERT`和`GO`分别清理它。

8.  最后，您已准备好运行导入过程

9.  该过程完成后，检查消息窗口是否有任何错误。您可以选择所有内容 (Ctrl + A) 并复制到 Excel 中，然后使用列过滤器删除任何成功的消息，然后留下所有错误。

这个过程肯定会比这里的其他答案花费更长的时间，但是如果你的数据是“脏的”并且充满了 SQL 违规，你至少可以一次收集所有错误并将它们发送给给你数据的人，如果那样的话是你的情景。

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2021-11-08T16:37:06.400

如上所述，您需要添加 FORMAT 和 FIELDQUOTE 选项以将 .CSV 数据批量插入 SQL Server。对于您的情况，SQL 语句将如下所示：

```
BULK INSERT SchoolsTemp
FROM 'C:\CSVData\Schools.csv'
WITH
(
    FORMAT = 'CSV', 
    FIELDQUOTE = '""',
    FIRSTROW = 2,
    FIELDTERMINATOR = ',',
    ROWTERMINATOR = '\n',
    TABLOCK
) 
```

尽管`BULK INSERT`在 SSMS 中非常适合一次性导入工作，但根据您的用例，您可能需要 SSMS 中的其他选项或使用第 3 方。[这](https://skyvia.com/blog/3-easy-ways-to-import-csv-file-to-sql-server)是一份详细指南，描述了将 CSV 文件导入 SQL Server 的各种选项，包括自动化（我的意思是安排）该过程并为 CSV 位置指定 FTP 或文件存储的方法。

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2019-02-16T17:59:07.033

将文件导入 Excel，首先打开 excel，然后转到 DATA，从 TXT 文件导入，选择将保留 0 前缀值的 csv 扩展名，并将该列另存为 TEXT，否则 excel 将删除前导 0（请勿双击如果您在以 0 [零] 开头的字段中有数字数据，则使用 E​​xcel 打开）。然后只需保存为制表符分隔的文本文件。当您导入 excel 时，您可以选择另存为 GENERAL、TEXT 等。选择 TEXT 以便还保留 YourCompany、LLC 等字段中字符串中间的引号...

```
BULK INSERT dbo.YourTableName
FROM 'C:\Users\Steve\Downloads\yourfiletoIMPORT.txt'
WITH (
FirstRow = 2, (if skipping a header row)
FIELDTERMINATOR = '\t',
ROWTERMINATOR   = '\n'
) 
```

我希望我可以使用 FORMAT 和 Fieldquote 功能，但我的 SSMS 版本似乎不支持它

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2019-10-31T15:23:15.400

我知道有公认的答案，但我仍然想分享我的场景，也许可以帮助某人解决他们的 **问题**

*   ASP.NET
*   EF 代码优先方法
*   SSMS
*   优秀

**场景** 我正在加载 CSV 格式的数据集，该数据集后来显示在视图上我尝试使用批量加载，但我无法像`BULK LOAD`使用的那样加载

```
FIELDTERMINATOR = ',' 
```

并且 Excel 单元格也在使用`,` ，但是我也不能`Flat file source`直接使用，因为我正在使用`Code-First Approach`并且这样做只在 SSMS DB 中制作模型，而不是在我以后必须使用属性的模型中。

**解决方案**

1.  我使用平面文件源并从 CSV 文件制作数据库表（*在 SSMS 中右键单击数据库 -> 导入平面文件 -> 选择 CSV 路径并按照指示进行所有设置*）
2.  在 Visual Studio 中制作模型类*（您必须保持所有数据类型和名称与在 sql 中加载的 CSV 文件相同）*
3.  `Add-Migration`在 NuGet 包控制台中使用
4.  更新数据库

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2022-01-10T16:43:09.723

也许不完全是您要问的，但另一种选择是使用[Notepad++ 的 CSV Lint 插件](https://github.com/BdR76/CSVLint/)

该插件可以预先验证 csv 数据，这意味着检查错误数据，例如缺少引号、不正确的小数分隔符、日期时间格式错误等。并且`BULK INSERT`可以将 csv 文件转换为 SQL 插入脚本。

[![在此处输入图像描述](../Images/cd5c855cee29e84db23ce2b3c2909986.png)](https://i.stack.imgur.com/HIPEf.png)

SQL 脚本将包含`INSERT`1000 条记录的每个 csv 行的语句，并调整任何日期时间和十进制值。该插件会自动检测 csv 中的数据类型，并且它会`CREATE TABLE`为每列包含一个具有正确数据类型的部分。

[![在此处输入图像描述](../Images/1806f302c629339ea04e956d05eed8fd.png)](https://i.stack.imgur.com/vmyre.png)`

# c# - 如果没有 Internet 连接，GetRequestStream() 将冻结

> ID：15242760
> 
> 赞同：2
> 
> 时间：2013-03-06T08:53:47.853
> 
> 标签：c#, mono, webrequest

我已经成功地生成了一个异步 Web 请求并为其设置了超时。但是，连接的设置仍在 UI 线程上，`GetRequestStream`如果没有互联网连接，它似乎会冻结。如何解决这个问题？

```
private WebRequest getPostLoginRequest (string username, string password)
{
    string postData = string.Format (@"<login><user>{0}</user><password>{1}</password></login>", username, password);
    byte[] buf = Encoding.UTF8.GetBytes (postData);

    var request = HttpWebRequest.Create (String.Format (@"{0}/auth/", baseServiceUrl));
    request.Method = "POST";
    request.ContentType = "application/xml";
    request.ContentLength = buf.Length;
    request.GetRequestStream ().Write (buf, 0, buf.Length);

    return request;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T01:12:53.973

`HttpWebRequest.GetRequestStream()`创建到远程服务器的网络连接，因此它可以阻止 - 使用`BeginGetRequestStream()`。

的实现`GetRequestStream ()`实际上只是围绕`BeginGetRequestStream ()`/的一个薄包装`EndGetRequestStream()`：[https ://github.com/mono/mono/blob/master/mcs/class/System/System.Net/HttpWebRequest.cs#L816](https://github.com/mono/mono/blob/master/mcs/class/System/System.Net/HttpWebRequest.cs#L816)

没有什么可以阻止的`WebRequest.Create()`，所以从 UI 线程调用它是安全的。

# c# - C# - finally 子句中的异常处理

> ID：15242761
> 
> 赞同：1
> 
> 时间：2013-03-06T08:53:48.107
> 
> 标签：c#, exception-handling

标题有点误导，但这个问题对我来说似乎很直截了当。我有`try-catch-finally`块。`finally`仅当从块中引发异常时，我才想执行块中的代码`try`。现在的代码结构是：

```
try
{
  //Do some stuff
}
catch (Exception ex)
{
  //Handle the exception
}
finally
{
  //execute the code only if exception was thrown.
} 
```

现在我能想到的唯一解决方案是设置一个标志，如：

```
try
{
  bool IsExceptionThrown = false;
  //Do some stuff
}
catch (Exception ex)
{
  IsExceptionThrown = true;
  //Handle the exception   
}
finally
{
if (IsExceptionThrown == true)
  {
  //execute the code only if exception was thrown.
  }
} 
```

并不是说我在这方面看到了什么不好的东西，而是想知道是否有另一种（更好的）方法来检查是否有抛出的异常？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-06T08:55:59.933

怎么样的东西：

```
try
{
    // Do some stuff
}
catch (Exception ex)
{
    // Handle the exception
    // Execute the code only if exception was thrown.
}
finally
{
    // This code will always be executed
} 
```

这就是`Catch`块的用途！

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-06T08:55:58.587

不要`finally`用于这个。它适用于应*始终*执行的代码。

就何时执行而言，两者之间到底有什么区别

```
//Handle the exception 
```

和

```
//execute the code only if exception was thrown. 
```

我什么都看不到。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-06T08:56:53.130

`finally`毕竟你不需要：

```
try
{
  //Do some stuff
}
catch (Exception ex)
{
  //Handle the exception
  //execute the code only if exception was thrown.
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T08:56:13.600

无论是否发现任何异常，Try / Catch 语句的最后部分总是被触发。我建议您不要在这种情况下使用它。

```
try
{
  // Perform Task
}
catch (Exception x)
{
  //Handle the exception error.

}
Finally
{
  // Will Always Execute.
} 
```

# android - 暂停和旋转时的生命周期

> ID：15242763
> 
> 赞同：2
> 
> 时间：2013-03-06T08:53:49.167
> 
> 标签：android, android-lifecycle

我有一个完整的应用程序，除了我最后离开的生命周期。在所有情况下，事情似乎都很好，但有一个：

*   当我通过按电源按钮**暂停**应用程序时，它会在恢复时正确暂停并重新启动。
*   当我**旋转**屏幕时，它会正确调整大小。
*   当我**暂停然后旋转**屏幕时，它的行为不同并且应用程序重置。

现在，显然这是我内部代码的问题，但为了帮助我调试，我想了解三个生命周期之间的区别。或者更好的是，如果第三个例子与前两个有什么不同的话。

通过调试，我看到所有三个都这样做（我的想法很相似，我希望是对的）：

*   `onSaveInstanceState()`
*   `onPause()`
*   `onStop()`
*   `onStart()`
*   `onResume()`

这样对吗？还是我错过了上面第三个示例中的一些生命周期步骤？

谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:05:09.457

*请指定应用程序重置的*含义。

当您按下电源按钮时，您的应用很可能会*停止*。这就是为什么您在*停止*（而不是：*暂停*）您的应用程序`onStart()`后看到被调用的原因。

 **鉴于此，您描述的第三种情况真的是前两种情况的组合吗？换句话说，你如何在第三种情况下*暂停你的应用程序？*

**更新关于您的评论：您的 Activity 被***停止*和您的 Activity 被*破坏*之间存在差异。

轮换是一种配置更改。在这种情况下，您的 Activity 将被销毁并重新创建。如果必须（取决于）通过`onRetainNonConfigurationInstance()`回调和`getLastNonConfigurationInstance()`方法，您可以单独处理这种情况。Android*会*按照这个顺序调用`onPause()`, `onStop()`, ，`onRetainNonConfigurationInstance()`然后`onDestroy()`继续调用`onCreate()`etc ，同时它*不会*处理任何事件，这样它们就不会丢失。

最有可能的是，您的某些代码位于错误的回调中，因此在第三种情况下，某些内容没有被初始化/附加/...如果没有代码*和*异常，这真的很难说（如果它是异常）。

我建议您按以下步骤进行。

*   完成您对生命周期的理解并做到精确（创建、启动、重新启动、恢复、暂停、停止、销毁）
*   完成您的代码以覆盖其他生命周期回调以及日志消息（不要忘记调用超类的回调）并分析暂停、停止、旋转和组合
*   确定崩溃点
*   结合Activity生命周期分析crash涉及的对象的生命周期

当然，或者您可以在此处发布一些代码和异常。

**更新 2**我对 AVD 进行了测试。我观察到以下情况：

当 AVD 处于横向时，我按下电源按钮，我的应用程序接收到纵向方向的配置更改（可能是因为仅纵向方向的锁定屏幕接管）。再次按下电源并解锁 AVD，应用程序会再次收到配置更改回横向。

虽然没有解决您的问题，但它表明必须小心地将代码放在相应的回调中，因为在上述情况下，在重新创建时，仍然不会*显示*Activity 。

如果您更新您的问题，请给我留言。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T08:58:32.160

您好，您可以查看有关在 android 中管理 Activity 生命周期的**[文档。](http://developer.android.com/training/basics/activity-lifecycle/index.html)**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:00:17.087

当方向改变 Activity 被重新创建。

添加`android:configChanges="keyboardHidden|orientation"`到您`activity`的清单中。**

# oracle - 插入禁止列表中的所有记录

> ID：15242768
> 
> 赞同：-1
> 
> 时间：2013-03-06T08:53:58.060
> 
> 标签：oracle, triggers, insert

我在 table1 上插入触发器之前。如果不允许某些数据 (ID)，则会引发应用程序错误。

但是，例如，当我使用时，`insert into table1 select id from table2 where id in (1,2,3)`如果只允许 ID '3'，则其他 ID（1 和 2）也不会插入。

我该如何克服呢？触发代码类似于：

```
CREATE OR REPLACE TRIGGER t1_before_insert BEFORE INSERT 
ON table1 
FOR EACH ROW 
DECLARE 
xx number(20); 
BEGIN 
select id into xx from blocked_id where id=:new.id; 
if :new.id=xx then raise_application_error(-20001, '--'); 
end if; 
END; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:27:29.813

好的，两点。首先，您的 SELECT INTO ... 冒着[NO_DATA_FOUND](http://docs.oracle.com/cd/E11882_01/appdev.112/e25519/errors.htm#LNPLS00703)异常的风险，引发此异常将杀死您的整个插入。其次，您提出了一个异常，这将停止您的整个插入。

您需要*忽略*阻止表中的那些 ID，而不是引发异常。按照您最初的想法，一种方法是利用 NO_DATA_FOUND 异常仅在未找到任何内容时插入。我在您的表上创建了一个视图，并在此定义了一个[INSTEAD OF 触发器](http://psoug.org/reference/instead_of_trigger.html)。

我不会使用这种方法（见下文）

如果我们设置一个测试环境：

```
SQL> create table tmp_test ( id number );

Table created.

SQL> create table tmp_blocked ( id number );

Table created.

SQL> insert into tmp_blocked values (3);

1 row created. 
```

然后，您可以使用以下内容：

```
SQL> create or replace view v_tmp_test as select * from tmp_test;

View created.

SQL> create or replace trigger tr_test
  2   instead of insert on v_tmp_test
  3   for each row
  4
  5  declare
  6
  7     l_id tmp_test.id%type;
  8
  9  begin
 10
 11     select id into l_id
 12       from tmp_blocked
 13      where id = :new.id;
 14
 15  exception when no_data_found then
 16     insert into tmp_test values (:new.id);
 17  end;
 18  /

Trigger created.

SQL> show error
No errors.

SQL>  insert into v_tmp_test
  2   select level
  3     from dual
  4  connect by level <= 3;

3 rows created.

SQL> select * from tmp_test;

        ID
----------
         1
         2 
```

正如我所说，我不会使用触发器。一种更有效的方法是使用[MERGE](http://docs.oracle.com/cd/E11882_01/server.112/e26088/statements_9016.htm#SQLRF01606)。使用与上述相同的设置。

```
SQL> merge into tmp_test o
  2  using ( select a.id
  3            from ( select level as id
  4                     from dual
  5                  connect by level <= 3 ) a
  6            left outer join tmp_blocked b
  7              on a.id = b.id
  8           where b.id is null
  9                 ) n
 10     on ( o.id = n.id )
 11   when not matched then
 12    insert values (n.id);

2 rows merged.

SQL>
SQL> select * from tmp_test;

        ID
----------
         1
         2 
```

一个更简单的选择是只使用一个[MINUS](http://docs.oracle.com/cd/E11882_01/server.112/e26088/queries004.htm#SQLRF52341)

```
 insert into tmp_test
 select level
   from dual
connect by level <= 3
  minus
 select id
   from tmp_banned 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:45:42.100

我真的不喜欢以这种方式使用触发器和错误——数据完整性并不是触发器的真正用途。在我看来，这似乎是应用程序的一部分，应该包含在应用程序代码中，也许是在充当插入表的 API 的过程中。

# c# - javascript 对象数组在服务器上使用哪种结构？

> ID：15242772
> 
> 赞同：1
> 
> 时间：2013-03-06T08:54:01.837
> 
> 标签：c#, javascript, json, webmethod

我在 javascript 中有这个对象数组，它包含来自网格的数据。我想将此数据传递给`webmethod`服务器端的 a 以进行验证。这是我的数组的样子：

```
gridData
[
   Array[6]
   0: Array[0]
      colName: "SSN"
      colValue: "asd"
      isValid: true
      length: 0
      __proto__: Array[0]
   1: Array[0]
      colName: "Birth_Date"
      colValue: "01/03/2013"
      isValid: true
      ........
      ....
] 
```

`Array[6]`，表示网格中 6 列的特定行中的数据，该数组的每个索引都包含来自网格中单元格的数据。

我现在想使用对服务器 web 方法的 ajax 调用来验证服务器上的数据。在这方面哪种数据结构是完美的？这样它在应用程序中为`JSON`数据带来了更通用和“最少解析”的方法。

# google-apps-script - 单击 UiApp 锚点时的重定向警告

> ID：15242774
> 
> 赞同：1
> 
> 时间：2013-03-06T08:54:17.967
> 
> 标签：google-apps-script, google-sites

我在 WebApp 中创建了一个锚点，单击该锚点将链接到同一 Google 站点中的页面；

但是，当单击它时，它总是显示重定向警告。

我环顾了这个问题，发现他们说[问题已解决](https://code.google.com/p/google-apps-script-issues/issues/detail?id=1405) ，但如果已解决，为什么我仍然看到警告？

我需要以特定方式创建锚点吗？

这是我的代码：

```
var pageurl = "https://sites.google.com/site/.../dir1/dir2/";
var title = app.createAnchor(productDetails[i].itemname, pageurl +     
productDetails[i].id).setTarget("_self"); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T16:40:33.200

这不是错误；对于匿名脚本的匿名用户来说，这是已知的故意行为。错误是有时登录用户会发生这种情况。

这样做的原因是因为我们通过插页式广告进行重定向，该插页式广告具有剥离引荐来源网址的效果，这样我们就不会将您的脚本 ID 泄漏到您的锚点指向的日志中。这是一种安全机制，因为您的脚本 ID 可能是敏感信息，而我们构建重定向的方式需要登录用户。如果您没有登录，中间页面是我们可以使用该技术做的最好的。

在 HtmlService 中，我们使用不同的技术解决了相同的问题，即使匿名用户也不需要插页式广告，因此如果您可以使用 HtmlService 代替 UiApp，则不会出现此问题。不幸的是，我认为我们不会很快改变 UiApp 以使用更新的技术。

# coding-style - 人们如何如此快速地解决编程竞赛？

> ID：15242785
> 
> 赞同：11
> 
> 时间：2013-03-06T08:55:03.393
> 
> 标签：coding-style

我希望这不是一个模糊/广泛/主观的问题。如果是，请关闭它。

无论如何，在几次编程比赛（如 Google 的 Code Jam、Facebook 的 Hacker Cup 等）中，当我成功理解了一个问题并大致了解了如何解决它时，我发现一半的问题已经解决了很多人。

我的问题是，这些人是如何变得如此优秀的？是纯粹的天才吗？是经验吗？思维能力真的很快吗？你会建议我如何提高我的技能？我会说我是一个称职的程序员。我最终可以解决其中一些问题。

此外，每当我检查获胜者的代码时，我都会看到使用了很多宏。这对我来说意味着他们有一个模板（比如#define for循环到一些缩写版本），他们用它来更快地编程。这有很大的不同吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-06T09:09:04.370

问题是，你正在与那些花费大量时间掌握他们在这些比赛中竞争的技能的人竞争。你不太可能很快赶上，但是...

```
How do these people get so good? 
```

具备解决问题​​的理论知识和实践、实践、实践。

```
Is it pure genius? 
```

可以，但实践可以在合理程度上弥补它。

```
Is it experience? 
```

是的。

```
Is it the ability to think really fast? 
```

并不真地。练习可以让你正确地解决问题并跳过问题陈述中无关紧要的细节。

```
How would you suggest I improve my skills? 
```

获得理论知识和实践。

```
Do macros make a significant difference? 
```

它可能会减少您 10% 的时间，但可能不会更多。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-03-06T09:08:39.720

从统计学上讲，任何有足够多观众的编程比赛都会吸引超级人才，他们可以以超快的速度编写出漂亮优雅的代码。这就像跑马拉松。跑4小时真的很不错，虽然世界纪录是2小时左右。别担心。

而是专注于代码质量和优雅，而不是能够以超高速生产代码。练习，玩得开心，不要过多关注其他人的工作速度。

# c - C中的左移运算符

> ID：15242788
> 
> 赞同：6
> 
> 时间：2013-03-06T08:55:08.743
> 
> 标签：c, bit-shift

考虑：

```
#include <stdio.h>
#define macro(a) a=a<<4;

main()
{
    int a = 0x59;
    printf("%x", a);
    printf("\n");
    macro(a)
    printf("%x", a);
} 
```

对于上面的代码，我得到以下输出：

```
59
590 
```

为什么我没有得到以下输出作为左移操作？

```
59
90 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-06T09:02:53.793

左移不会**截断**数字以适合原始数字的长度。要获得`90`，请使用：

```
(a<<4) & 0xff 
```

`0x59`是一个`int`并且可能在你的平台上它有`sizeof(int)==4`。然后是一个`0x00000059`。将其左移 4 给出`0x00000590`.

`unsigned int`此外，在处理位运算符时养成使用类型的好习惯，除非你知道自己在做什么。他们在右移等情况下有不同的行为。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2013-03-06T08:58:07.020

你将一个十六进制数向左移动了 4 位，所以你得到了 590，这是正确的。

你有过

```
000001011001 
```

左移 4 位

```
010110010000 
```

是 590 的十六进制数

```
10010000 
```

是 90 的十六进制数，因此您可能想要删除`0101`，如[phoeagon所示](https://stackoverflow.com/a/15242958/1944441)

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-06T09:02:44.437

在您的 printf 中，如果您将 %x 更改为 %d ，您将得到 a =89 ，左移后您将得到 a = 1424

通常用于十进制（以 10 为基数）数字

```
a = a<< n  is  a = a*2^n
a = a>> n  is  a = a/2^n 
```

对于十六进制（以 16 为基数）数字，

任何 n （左或右）的移位都可以被认为是二进制等价位的相应移位。但这取决于 sizeof(int) ，用于给定的编译器。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-06T09:05:21.637

你正在使用 int 所以你有：

```
 000001011001 
```

如果将其向左移动 4，您将得到：

```
010110010000 
```

如果您只想拥有前 8 位，则不必使用“int”，而是使用 unsigned char（或 char）

```
#include<stdio.h>
#define macro(a) a=a<<4;
main()
{
   unsigned char a=0x59;
   printf("%x",a);
   printf("\n");
   macro(a)
   printf("%x",a);            
} 
```

如果您仍想使用 int 但只保留前 8 位，则可以使用掩码：

```
#define macro(a) a=(a<<4) & 0xFF 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T09:04:36.860

> 那么你能告诉我我应该怎么做才能得到0x90的输出吗？我需要**将最后 4 位移到前 4 位，最后**添加 0

唯一可以将最后 4 位向左移动 4 位并将其代替前 4 位的唯一方法是，如果您的类型只有 8 位。通常是这种情况 `unsigned char`，而不是`int`。你会`0x90`得到

```
unsigned char a=0x59;
macro(a) 
```

但是当使用`int`结果是`0x590` 错误不与使用`<<`is与选择类型有关。（或滥用宏？）

# linux - 通过主键将文件与 bash 合并

> ID：15242791
> 
> 赞同：1
> 
> 时间：2013-03-06T08:55:15.630
> 
> 标签：linux, bash, shell, unix, join

我有两个以 IP 地址作为主键的文件。文件二只有一个包含不同信息的子集。我想使用 bash 将第二列添加到第一个文件中。

文件1：

```
192.168.1.1;hosta;aabbccddeef0
192.168.1.2;hostb;aabbccddeef1
192.168.1.3;hostc;aabbccddeef2 
```

文件2：

```
192.168.1.2;differentHostname; 
```

我使用 for addr in 的方法`cat file2 | cut -d\; -f1; do grep -w $addr file1 ...`不起作用，因为我无法从 file2 访问主机名。

有任何想法吗？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-06T09:01:55.310

这是做什么`join`的：

```
$ join -a1 -t';' <(sort file1) <(sort file2)    
192.168.1.1;hosta;aabbccddeef0
192.168.1.2;hostb,aabbccddeef1;differentHostname;
192.168.1.3;hostc,aabbccddeef2 
```

注意：`join`要求文件按排序顺序。

您可以使用以下`-o`选项指定输出顺序：

```
$ join -a1 -t';' -o 1.1 1.2 2.2 1.3 <(sort file1) <(sort file2)
192.168.1.1;hosta;;aabbccddeef0
192.168.1.2;hostb;differentHostname;aabbccddeef1
192.168.1.3;hostc;;aabbccddeef2 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:25:19.040

```
awk -F";" -v OFS=";" 'FNR==NR{a[$1]=$2;next}($1 in a){$(NF+1)=a[$1]}1' file2 file1 
```

测试：

```
> awk -F";" -v OFS=";" 'FNR==NR{a[$1]=$2;next}($1 in a){$(NF+1)=a[$1]}1' temp2 temp
192.168.1.1;hosta;aabbccddeef0
192.168.1.2;hostb;aabbccddeef1;differentHostname
192.168.1.3;hostc;aabbccddeef2
> 
```

# netty - Netty 管道警告

> ID：15242793
> 
> 赞同：2
> 
> 时间：2013-03-06T08:55:17.943
> 
> 标签：netty

Netty 4 发出警告“丢弃 1 条到达管道末端的入站消息。请检查您的管道配置”。这是什么意思？应该如何处理？（以前[在这里复制，](https://github.com/cloudaloe/pipe)直到根据接受的答案解决，但我宁愿对它的含义和管道如何工作有一般性的解释）

为了最大化网络反馈，客户端管道设置如下：

```
pipeline.addLast("logger", new LoggingHandler(LogLevel.TRACE))
pipeline.addLast("HttpRequestEncoder", new HttpClientCodec)
pipeline.addLast("handler", new myHandler) 
```

我通过 Netty 在客户端登录，同时它发送了两条 http 消息并被服务器端成功接收和确认：

```
12 [main] DEBUG io.netty.util.internal.InternalLoggerFactory  - Using Log4J as the default logging framework
164 [nioEventLoopGroup-1-2] DEBUG io.netty.channel.nio.SelectorUtil  - Using select timeout of 500
164 [nioEventLoopGroup-1-2] DEBUG io.netty.channel.nio.SelectorUtil  - Epoll-bug workaround enabled = false
229 [nioEventLoopGroup-1-2] WARN io.netty.channel.DefaultChannelPipeline  - Discarded 1 inbound message(s) that reached at the end of the pipeline. Please check your pipeline configuration.
230 [nioEventLoopGroup-1-2] WARN io.netty.channel.DefaultChannelPipeline  - Discarded 1 inbound message(s) that reached at the end of the pipeline. Please check your pipeline configuration. 
```

而日志记录是这样设置的：

```
BasicConfigurator.configure       
InternalLoggerFactory.setDefaultFactory(new Log4JLoggerFactory) 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-22T16:36:59.400

在 Netty 4 中，用于服务器或客户端的 HTTP 解码器总是为每个 HTTP 消息生成多个消息对象：

```
1       * HttpRequest / HttpResponse
0 - n   * HttpContent
1       * LastHttpContent 
```

换句话说：

*   服务器接收 1 个 HttpRequest、0-n 个 HttpContent(s) 和 1 个 HttpLastContent
*   客户端接收 1 个 HttpResponse、0-n 个 HttpContent(s) 和 1 个 HttpLastContent。

因此，如果您的处理程序仅使用 HttpRequest/HttpResponse，则其他消息将到达管道的末尾。您需要使用它们，这是您的管道“配置错误”的地方。

OTOH，您可以将 HttpObjectAggregator 添加到管道中，以便生成 FullHttpRequest/FullHttpResponse 消息：

```
pipeline.addLast( "http-aggregator", new HttpObjectAggregator( MAX_SIZE ) ); 
```

但这意味着在调用您的处理程序之前加载整个请求或响应，包括正文实体。也许你不想那样，YMMV。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2014-11-24T20:31:26.530

Netty 4 自动在您创建的管道上添加最后一个处理程序，如果事件到达最后一个处理程序，它将通过消息。您的最后一个入站处理程序不应触发上下文事件。

删除这个：ctx.fireChannelRead(msg);

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-08-26T06:47:52.187

@eskatos 是对的，管道的 handler 处理基于类型匹配，例如，`SimpleChannelInboundHandler<HttpContent>`只会处理 HttpContent，如果你还没有处理 HttpReponse（添加`SimpleChannelInboundHandler<HttpReponse>`到你的管道中），Netty 会警告：Content-Length：`<length>`到达尾部管道。请检查您的管道配置。

因此，解决方案是将相应的添加`ChannelInboundHandler/ChannelOutboundHandler`到您的管道中。

但是您需要首先知道输入的 Handler 缺少什么：找到 DefaultChannelPipeline 的 channelRead 方法并对其进行调试以获取 msg.content().toString() ，其中包括缺少的消息。

还有一件事，@`Norman Maurer`提到启用调试日志记录不起作用，因为 channelRead 方法不会记录 msg 内容中的内容。

下面是 DefaultChannelPipeline 的 channelRead 方法（Netty 4.1）：

```
 @Override
    public void channelRead(ChannelHandlerContext ctx, Object msg) throws Exception {
        try {
            logger.debug(
                    "Discarded inbound message {} that reached at the tail of the pipeline. " +
                            "Please check your pipeline configuration.", msg);
        } finally {
            ReferenceCountUtil.release(msg);
        }
    } 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-06T19:41:05.380

这意味着一条消息到达了管道的末端，并且没有“入站处理程序”能够处理它。这在大多数情况下会在 ChannelPipeline 中显示“配置”错误。

# ember.js - Emberjs：transitionToRoute 在具有不同模型值的同一路由中

> ID：15242794
> 
> 赞同：7
> 
> 时间：2013-03-06T08:55:19.010
> 
> 标签：ember.js, ember-router

我有一个由 3 条路线组成的 Ember 应用程序：

1.  `router.route('territory', { path: 'localhost/app/territory/:tid' });`

2.  `router.route('aggregator', { path: localhost/app/territory/:tid:/aggregator/:aid' });`

3.  `router.route(territory, { path: 'localhost/app/territory/:tid/aggregator/:aid/item/:iid' });`

可能的过渡是从区域到聚合器，从聚合器到项目，以及从项目到子项目。子项使用相同的路由（第3个），只是更改了路由模型中的iID值。

我创建了一个动作，允许用户使用一些逻辑进入特定路线，最后运行命令：

```
model={
    tid: "ttt"
    aid: "aaa"
    iid: "iii"
}

destination = 'item'; //the name of item route

controller.transitionToRoute(destination, model); 
```

如果我在项目路径中并且想要移动到其他项目，则 URL 将更新，但不会更新页面内容。显然，如果我用生成的 URL 刷新页面，内容将会更新。

问题出在哪里？在已弃用的过渡方法中，还是我必须使用不同的方法？

重要提示：我正在使用 EmberJS - V1.0.0-RC.1

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-18T11:20:01.910

不是错误只是 emberjs 中的正常情况，因为每条路由都有`model`和`setupController`. 模型函数用于从 WS 或 Data 模块异步检索必要的信息（是[RSVP.Promise](http://emberjs.com/api/classes/Ember.RSVP.Promise.html)）。完成后，信息将传递给`setupController`函数，在哪里可以设置与当前路由视图连接的控制器的属性。每次我改变路径的值而不是路径时，只会`setupController`被调用。总而言之，就我而言，问题只是代码的组织问题。

# c# - 通过 C# 代码创建动态超链接在 IE 中有效，但在 Chrome 中无效

> ID：15242796
> 
> 赞同：0
> 
> 时间：2013-03-06T08:55:23.393
> 
> 标签：c#, dynamic, hyperlink

我正在尝试从我的本地存储库中读取一个文件夹，并且我想在我的浏览器上显示 PDF 文件。当有人点击该浏览器时，应该能够看到 PDF 文件。

我正在创建指向该 PDF 的动态链接，但问题是当我单击在 Chrome 中动态创建的那些链接时，它不会执行任何操作。但在 IE 中它工作正常，但它要求我启用 Intranet 设置。

我用来执行此操作的代码如下：

```
String link = "D:\\MyDir\\";
DirectoryInfo di = new DirectoryInfo("D:\\MyDir");
FileInfo[] rgFiles = di.GetFiles("*.pdf");
foreach (FileInfo fi in rgFiles) 
{
    Response.Write("<br><" + "a href=" +link+ fi.Name.ToString() + " runat= server >" + fi.Name.ToString() + "</a>");   
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:07:13.547

我认为你的问题是字符串中变量的位置。

尝试这个

```
string aLink = string.Format(@"<br/><a href=""{0}"" runat=""server"" >{1}</a>",link+ fi.Name.ToString(),fi.Name.ToString()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:07:24.437

最有可能的问题是 url 没有用引号括起来，尝试将代码更改为

```
Response.Write("<br><a href=\"" +link+ fi.Name.ToString() + "\" runat= server >" + fi.Name.ToString() + "</a>"); 
```

**编辑**google chrome 有一个限制，由于安全原因，它会阻止您打开本地文件，但是有一个[扩展](https://chrome.google.com/webstore/detail/locallinks/jllpkdkcdjndhggodimiphkghogcpida)LocalLinks 可以让您这样做

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T18:18:16.347

在这种情况下需要 runat=server 吗？您只是在创建一个静态链接。

```
Response.Write("<br/><a href='" +link+ fi.Name.ToString() + "' target='_blank'>" + fi.Name.ToString() + "</a>"); 
```

# jquery - Jquery 'On' 是否适用于使用 element.innerHtml 复制的元素？

> ID：15242798
> 
> 赞同：0
> 
> 时间：2013-03-06T08:55:38.433
> 
> 标签：jquery

在我们的网站中，我们有一个“内容”div，其中粘贴了 html。

例如：`content.innerHtml = 'huge pile of html with divs and tables'`

现在我想在粘贴的元素之一上附加一个 jquery 事件处理程序，所以我尝试了这个：

```
$(document).ready(function () {
    // Handler for .ready() called.
    alert('111');
    $("#PersonalMessageTemplateDropDownModels input").on("click", function (event) {
        alert($(this).text());
    });

}); 
```

我收到警报，因此调用了该代码。输入元素位于 ID 为“PersonalMessageTemplateDropDownModels”的元素下方/内部的 5 个级别

但是，没有`alert($(this).text());`被调用。

这应该有效，还是将 html 输入到 dom 的方式阻止了它的工作？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T08:56:40.057

将事件委托给具有 id 的元素，`PersonalMessageTemplateDropDownModels`并使用标记选择器为其输入类型的后代使用[on()](http://api.jquery.com/on/)。

```
$("#PersonalMessageTemplateDropDownModels").on("click", "input", function (event) {
    alert($(this).text());
}); 
```

如果要将事件委托给的元素（父级）未知或不存在，则可以改用 document。

```
$(docuement).on("click", "#PersonalMessageTemplateDropDownModels input", function (event)    {
    alert($(this).text());
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:05:36.163

试试这个我有同样的问题，但这段代码解决了我。

```
$(document).on("click","#PersonalMessageTemplateDropDownModels input", function (event) {
    alert($(this).text());
}); 
```

# c - 从二进制文件中读取非固定长度（C）

> ID：15242800
> 
> 赞同：1
> 
> 时间：2013-03-06T08:55:39.793
> 
> 标签：c, binary

我是新来的，我需要一些帮助。:)

我正在开发一个必须写入和读取二进制文件的程序。我必须向它添加讲座，它们看起来像：

```
COURSECODE;COURSENAME;MAXAPPLICANTS;ACTUALAPPLICANTS; 
```

我可以将它写在一个文件中，使用`char*`.

我的问题是：如果记录的大小不固定，我如何在结构中读回它？(eg: coursename 可以是 Linear Algebra 或 Analysis -> length is undetermined) 我还需要修改实际的申请号，如何找到它的字符位置和当前行？

我会很高兴有想法，我也会欣赏任何源代码，我是用 C++ 编程的，而 C 对我来说是一个艰难的后退。

先感谢您！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:26:23.597

你的结构看起来像

```
struct student {
char *coursecode;
char *coursename;
char *max_applicants;
char *actual_applicants;
}; 
```

只需将另一个成员添加到您的结构中，说明`int size`哪个存储结构的总大小。

每次从二进制文件中读取时，您应该首先读取`4 bytes`记录的完整大小，然后查看记录中有多少字符，读取多少字符并标记字符串，`;`您将找到您的记录。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T08:59:13.723

没有终止字符是不可能的。

如果您专用一些字符来拆分数据，那么它是可能的。

例如，可以通过 \0 来区分 3 个字符串。所以你读到\0，三遍。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:02:06.813

您可以将文件读入`char*`缓冲区，然后`;`用`\0`（字符串终止字符）替换任何内容，最后将字段开头的指针放入结构中：

```
struct student {
    char *coursecode;
    char *coursename;
    char *max_applicants;
    char *actual_applicants;
}; 
```

您可能希望首先解析数字字段`atoi`。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T09:16:57.950

忠告 #1：如果你是印地语并且你曾经重生过，从学习 C 开始，然后才过渡到 C++。

建议#2：所以如果我理解正确，你有四个连续的字符串，用分号分隔。然后，您可以使用`strtok_r()`拆分每一行并将文件的内容放入结构数组中（为清楚起见，省略了所有错误检查，但您绝对应该有一些）：

```
typedef struct {
    char *code;
    char *name;
    int max_appl;
    int cur_appl;
} Course;

char buf[1024];

FILE *f = fopen("courses.txt", "r");

size_t size = 0;
size_t allocsize = 8;
Course *c = malloc(allocsize * sizeof(*c));

char *end;

while (fgets(buf, sizeof(buf), f) != NULL) {
    if (size >= allocsize) {
        allocsize <<= 1;
        c = realloc(c, allocsize * sizeof(*c));
    }

    c[size].code = strdup(strtok_r(buf, ";", &end));
    c[size].name = strdup(strtok_r(NULL, ";", &end));
    c[size].max_appl = strtol(strtok_r(NULL, ";", &end), NULL, 10);
    c[size].cur_appl = strtol(strtok_r(NULL, "\n", &end), NULL, 10);

    size++;
}

int i;
for (i = 0; i < size; i++) {
    Course *p = c + i;
    printf("%s\n%s\n%d\n%d\n\n", p->code, p->name, p->max_appl, p->cur_appl);
    free(p->code);
    free(p->name);
}

free(c);
fclose(f); 
```

# linux - JDK 7 如何在 Linux 上实现 NIO2？

> ID：15242804
> 
> 赞同：4
> 
> 时间：2013-03-06T08:55:50.830
> 
> 标签：linux, java-7, nio2

我知道 JDK 7 在 Windows 上使用 IOCP 实现了 NIO2，但是 Linux 呢？

尽管 Linux 从 2.6 开始就有 AIO，但它只对文件有用。网络部分呢？

# c# - 在控件模板中设置属性

> ID：15242806
> 
> 赞同：3
> 
> 时间：2013-03-06T08:55:55.870
> 
> 标签：c#, silverlight, xaml

我想在我的 Image 控件上分配一个 URI。以下 XAML 位于 UserControl 中。

```
<StackPanel>
    <Button Command="{StaticResource ImageClick}" x:Name="imageButton">
        <Button.Template>
            <ControlTemplate>
                <Grid>
                    <Image MaxHeight="100" MaxWidth="300" x:Name="image" />
                </Grid>
            </ControlTemplate>
        </Button.Template>
    </Button>
</StackPanel> 
```

我在代码隐藏了一个带有图像 URL 的依赖属性：

```
public string ImageUrl
{
    get { return (string)GetValue(ImageUrlProperty); }
    set { SetValue(ImageUrlProperty, value); }
}

// Using a DependencyProperty as the backing store for ImageUrl.  This enables animation, styling, binding, etc...
public static readonly DependencyProperty ImageUrlProperty =
    DependencyProperty.Register("ImageUrl", typeof(string), typeof(ImageControl), new PropertyMetadata("")); 
```

分配 ControlTemplate 中的 Image 的 Source 属性的最佳做法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:16:57.017

您可以使用内容展示器，然后仅将您的图像放入按钮的内容中。

```
<StackPanel>
    <Button Command="{StaticResource ImageClick}"
        x:Name="imageButton">
        <Button.Template>
            <ControlTemplate>
                <Grid>
                    <ContentPresenter />
                </Grid>
            </ControlTemplate>
        </Button.Template>
        <Image MaxHeight="100"
               MaxWidth="300"
               x:Name="image" />
    </Button>
</StackPanel> 
```

在您的代码中使用 PropertyChangedCallback 来设置图像的来源。

# php - facebook PHP SDK redirect_uri 到页面选项卡

> ID：15242816
> 
> 赞同：0
> 
> 时间：2013-03-06T08:56:29.777
> 
> 标签：php, facebook, sdk, tabs

我使用 PHP SDK 让用户授权我的应用程序。有点棘手的是我正在标签内执行此操作。重定向 uri 将打破标签“iframe”并作为普通应用程序打开，我不想要这个。我怎样才能将它保存在页面选项卡 iframe 中。下面是我的代码；

```
<?php

include("utility.php");
include("db_setup.php");
require_once "base_facebook.php";
require("facebook.php");
$facebook = new Facebook(array(
    'appId'  => 'xxxxxx',
    'secret' => 'xxxxxx',
));

$conn = connectUserDB();
$user = $facebook->getUser();
if ($user) {
    try {
        // Proceed knowing you have a logged in user who's authenticated.

          //$user_profile = $facebook->api('/me?fields=name,id,email');

header( 'Location: submitted.php' ) ;

       } catch (FacebookApiException $e) {
    //print_r($e);
        $user = null;
    }
}
// $user is null : $user is either not logged in or the token is not valid
else if(!$user) { 
$params = array(
'scope' => 'email',
'redirect_uri' => 'submitted.php'
);

$loginUrl = $facebook ->getLoginUrl($params);

echo '<script type="text/javascript">';
echo 'top.location.href = " '.$loginUrl.' " ; ';
echo '</script>';
}

?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:25:22.503

如果您需要在不让他/她离开您的标签的情况下登录用户，您可以使用[javascript SDK](https://developers.facebook.com/docs/reference/javascript/)（您可以调用函数[FB.login()](https://developers.facebook.com/docs/reference/javascript/#login)这将打开弹出窗口）。

如果您想继续使用 php，在您的“普通应用程序”（在 Facebook 上的 iframe 中打开的页面）上，您可以简单地重定向回您在 Facebook 上的选项卡。因此，在用户登录并重定向到您的页面后，您会将他重定向回 Facebook 选项卡。

# windows - 打开浏览器，全屏，启动时使用屏幕键盘，不可关闭

> ID：15242819
> 
> 赞同：0
> 
> 时间：2013-03-06T08:56:35.250
> 
> 标签：windows, vb.net, keyboard, fullscreen

我需要我们的一台计算机在启动时自动打开`Internet Explorer`. `IE`应该是全屏（没有边框和地址栏..完全全屏）并打开一个默认URL（这没问题，只需将其设置为主页）。然后我需要如果此页面内的文本框获得焦点，那么屏幕键盘应该出现。

这可以通过标准的 Windows 设置来实现，还是我必须在里面用浏览器编写自己的程序？如果我编写自己的 vb.net 程序，该程序可以完全全屏（没有 X 关闭且看不到任务栏）

我们需要做的是建立一个互联网站，让随机的人可以在没有键盘且无法访问系统的情况下浏览给定页面。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:44:55.310

我会说这是可能的 - 但我不知道如何实现这一点。将有某种应该启用键盘的注册表设置。抱歉 - 我几乎没碰过这个区域 :(

# android - 使用 jfeinstein10 库的滑动菜单

> ID：15242825
> 
> 赞同：6
> 
> 时间：2013-03-06T08:56:46.813
> 
> 标签：android, slidingmenu

我创建了一个示例应用程序来测试滑动菜单的工作原理。屏幕截图中显示的是我现在得到的。但是当我点击类别按钮（如下图所示）时，我应该得到一个二级菜单，如下面的 zomato 应用程序的屏幕截图所示。我怎样才能做到这一点 ？我是否以正确的方式进行？

![在此处输入图像描述](../Images/46225b9b0909f1a6aa92ad1e4603f9ad.png)

![在此处输入图像描述](../Images/901e75e15b23be3edb9c108518cbf27a.png)

我的 SlidingFragmentActivity ：

```
@Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        con = this;
        setSlidingActionBarEnabled(false);
        setContentView(R.layout.main);
        sm = getSlidingMenu();
        sm.setMode(SlidingMenu.RIGHT);
        sm.setShadowDrawable(R.drawable.shadowright);
        sm.setTouchModeAbove(SlidingMenu.TOUCHMODE_NONE);
        sm.setBehindScrollScale(1.0f);
        sm.setShadowWidthRes(R.dimen.shadow_width);
        sm.setBehindOffsetRes(R.dimen.slidingmenu_offset);
        sm.setFadeDegree(0.5f);
        //sm.setSecondaryMenu(R.layout.properties);
        //sm.setSecondaryShadowDrawable(R.drawable.shadow);
        setTitle("Sliding Bar");

        // set the Behind View
        setBehindContentView(R.layout.menu_frame);
        FragmentTransaction t = this.getSupportFragmentManager()
                .beginTransaction();
        mFrag = new SampleListFragment();
        t.replace(R.id.menu_frame, mFrag);
        t.commit();
    } 
```

我的 SampleListFragment ：

```
public class SampleListFragment extends SherlockFragment {
    private static final String[] Radio_buttons = new String[] { "Distance",
            "Rating" };

    public View onCreateView(LayoutInflater inflater, ViewGroup container,
            Bundle savedInstanceState) {
        View view = inflater.inflate(R.layout.list, container, false);
        ListView radio_list = (ListView) view.findViewById(R.id.RadioList);
        Button categories = (Button) view.findViewById(R.id.sampleButton);
        radio_list
                .setAdapter(new ArrayAdapter<String>(MainActivity.con,
                        android.R.layout.simple_list_item_single_choice,
                        Radio_buttons));

        radio_list.setItemsCanFocus(true);
        radio_list.setChoiceMode(ListView.CHOICE_MODE_SINGLE);
        categories.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                MainActivity.sm.showSecondaryMenu();
            }
        });
        return view;
    }
} 
```

主要的.xml

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".MainActivity" >

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_centerHorizontal="true"
        android:layout_centerVertical="true"
        android:text="Sliding menu demo...!!!" />

</RelativeLayout> 
```

menu_frame.xml

```
<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/menu_frame"
    android:layout_width="match_parent"
    android:layout_height="match_parent" /> 
```

列表.xml

```
<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/scroller"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:fillViewport="true" >

    <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical" >

        <LinearLayout
            android:layout_width="fill_parent"
            android:layout_height="wrap_content" >

            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:background="#ffffff"
                android:paddingLeft="10dp"
                android:text="SEARCH"
                android:textColor="#FF3300"
                android:textSize="20dp" >
            </TextView>
        </LinearLayout>

        <RelativeLayout
            android:id="@+id/searchTextLayout"
            android:layout_width="match_parent"
            android:layout_height="50dip"
            android:layout_marginBottom="20dip"
            android:layout_marginLeft="20dip"
            android:layout_marginRight="20dip"
            android:layout_marginTop="20dip" >

            <ImageButton
                android:id="@+id/searchTextButton"
                android:layout_width="wrap_content"
                android:layout_height="match_parent"
                android:layout_alignParentLeft="true"
                android:background="#685E5C"
                android:scaleType="fitCenter"
                android:src="@drawable/abs__ic_search" />

            <EditText
                android:id="@+id/searchText"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:layout_toRightOf="@id/searchTextButton"
                android:background="@drawable/background_black_border_full"
                android:padding="8dp"
                android:textColor="@android:color/white" />
        </RelativeLayout>

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content" >

            <TextView
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:background="#ffffff"
                android:paddingLeft="10dp"
                android:text="SORT BY"
                android:textColor="#FF3300"
                android:textSize="20dp" >
            </TextView>
        </LinearLayout>

        <RelativeLayout
            android:layout_width="match_parent"
            android:layout_height="134dp" >

            <ListView
                android:id="@+id/RadioList"
                android:layout_width="match_parent"
                android:layout_height="fill_parent" >
            </ListView>
        </RelativeLayout>

        <Button
            android:id="@+id/sampleButton"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Categories" />

    </LinearLayout>

</ScrollView> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-23T13:29:13.053

SlidingMenu 不这样做，zomato 使用自定义实现。

SlidingMenu 将让您在**左侧**和**右侧**都有一个菜单，但不是两侧都有。

我会考虑使用视图寻呼机或自定义实现。不管怎样，我不知道有什么开箱即用的方法可以做到这一点。我可能值得看看[Android Views](http://androidview.net)以获得灵感。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-10-30T16:47:50.783

有点晚了，但仍然让我发布我的答案，以防将来对某人有所帮助。如果你想显示另一个菜单，你可以使用

```
setMode(SlidingMenu.LEFT_RIGHT);
setSecondaryMenu(R.layout.yourSecondMenu); 
```

并在您的按钮中单击

```
showSecondaryMenu(true); 
```

并在该课程中执行您的操作。

# asp.net - 使用 MSBuild 表单 cmd 提示错误构建网站

> ID：15242828
> 
> 赞同：1
> 
> 时间：2013-03-06T08:56:54.857
> 
> 标签：asp.net, visual-studio-2010, msbuild

我试图在 MSBuild 的帮助下从 cmd 提示符构建一个网站及其给出的错误

`e:\Projects\XXXXXXX\Default.aspx(149): error CS0433: The type 'CommonControls_RelatedControls_LatestContents' exists in both 'c:\WINDOWS\Mic rosoft.NET\Framework\v4.0.30319\Temporary ASP.NET Files\XXXXXXX\7247a6d3\6c34 e579\App_Web_2nkvgs2h.dll' and 'c:\WINDOWS\Microsoft.NET\Framework\v4.0.30319\T emporary ASP.NET Files\XXXXXXX\7247a6d3\6c34e579\App_Web_x01eius3.dll' [C:\Do cuments and Settings\<username>\My Documents\Visual Studio 2010\Projects\XXXXXXX\ XXXXXXX.metaproj]`

我使用命令

`MSBuild XXXXXX.sln`

但是当我编译相同的表单时，Visual Studio 会很好地构建。

我还尝试删除 .net 临时文件夹中的文件，但再次出现同样的问题，甚至无法从`cmd prompt`

注意：-它是一个网站而不是一个网络项目，所以我只有 sln 而不是项目文件

# c# - 在方法内部等待，直到捕获事件

> ID：15242831
> 
> 赞同：11
> 
> 时间：2013-03-06T08:56:57.843
> 
> 标签：c#, events, wait

我对 C# 中的一个方法有这个问题。我创建了一个从 dll 调用函数的方法，它调用的`Phone.GetLampMode();` Now`Phone.GetLampMode`不返回任何内容。数据在 ' `onGetLampModeResponse`' 事件中返回。有没有办法可以在我的方法中等待，直到我从 onGetLampModeResponse 事件中获取数据？

```
public bool checkLamp(int iLamp)
{
    Phone.ButtonIDConstants btn = new Phone.ButtonIDConstants();
    btn = Phone.ButtonIDConstants.BUTTON_1;
    btn += iLamp;
    Phone.GetLampMode(btn, null);

    return true;
}

private void Phone_OnGetLampModeResponse(object sender, Phone.GetLampModeResponseArgs e)
{
    var test = e.getLampModeList[0].getLampMode.ToString();    
} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-06T09:05:32.503

一种解决方案是使用`AutoResetEvent`：

```
public bool checkLamp(int iLamp)
{
    Phone.ButtonIDConstants btn = new Phone.ButtonIDConstants();
    btn = Phone.ButtonIDConstants.BUTTON_1;
    btn += iLamp;

    AutoResetEvent waitHandle = new AutoResetEvent(false); 

    // Pass waitHandle as user state
    Phone.GetLampMode(btn, waitHandle);

    // Wait for event completion
    waitHandle.WaitOne();

    return true;
}

private void Phone_OnGetLampModeResponse(object sender, Phone.GetLampModeResponseArgs e)
{
    var test = e.getLampModeList[0].getLampMode.ToString();

    // Event handler completed
    // I guess there is some UserState property in the GetLampModeResponseArgs class
    ((AutoResetEvent)e.UserState).Set();
} 
```

注意：您`Phone`作为静态类/变量使用的广告，可能会认为您是在 Windows Phone 上开发...如果是这种情况，请注意 WP 和异步编程的整个概念是**不锁定 UI以这样的方式穿线**。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-06T09:17:01.150

您可以将处理程序包装在异步方法中，该方法应如下所示（未经测试）：

```
public async Task<bool> checkLamp(int iLamp)
{
    Phone.ButtonIDConstants btn = new Phone.ButtonIDConstants();
    btn = Phone.ButtonIDConstants.BUTTON_1;
    btn += iLamp;

    var tcs = new TaskCompletionSource<bool>();
    var handler = (sender, e) => {
        Phone.OnGetLampModeResponse -= handler;
        var test = e.getLampModeList[0].getLampMode.ToString();
        tcs.SetResult(true);
    };
    Phone.OnGetLampModeResponse += handler;

    Phone.GetLampMode(btn, null);

    return tcs.Task;
} 
```

在您的调用方法中，您将编写：

```
var returnValue = await checkLamp(iLamp); 
```

这样做的好处是您的用户界面在进程等待响应时不会阻塞。

这是有关此问题的博客条目。请注意，框架 4.5 是必需的。

*   [http://blogs.msdn.com/b/lucian/archive/2012/11/28/how-to-await-a-button-click.aspx](http://blogs.msdn.com/b/lucian/archive/2012/11/28/how-to-await-a-button-click.aspx)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:14:02.547

看起来现有模型接近基于事件的异步模式 (EAP)。您可能想查看[与其他异步模式和类型互操作](http://msdn.microsoft.com/en-gb/library/hh873178.aspx)的文章，该文章描述了如何将这种模式转换为更新的基于任务的异步模式 (TAP)。

一旦你有一个`Task`(or `Task<T>`，你就可`Wait`以为它。

# excel - Excel单元格格式不会保存

> ID：15242833
> 
> 赞同：-1
> 
> 时间：2013-03-06T08:57:09.060
> 
> 标签：excel, format

我有一个导入的 IP 地址表的数据表。有时在 de IP 列中，他显示 192.168.18.31 但当您打开单元格时，它实际上是 1921681831。当我尝试更改它时，键入“。” 在它之间，它仍然保持 1921681831。我试图检查单元格格式，但一切似乎正常。

任何人都知道如何克服它，以及如何改变它？有没有办法自动更改所有错误的单元格。（因为我有超过 600 行的数据表）

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:05:13.793

您面临的问题是 Excel 将您输入的值视为普通数字，即`1921681831`它应用默认格式 - 即每 3 位数字后添加一个千位分隔符。

您需要做的是告诉 Excel 将单元格视为**文本**！为此，要么以`'`, 即开始单元格，要么将单元格`'192.168.18.31`格式化为文本（在“*数字”选项卡的“**单元格格*式”对话框中）。

# c++ - 在 Windows 上编译的控制台应用程序是否可以在使用 DOSBox 的 Linux 和 MAC OS X 上运行？

> ID：15242837
> 
> 赞同：2
> 
> 时间：2013-03-06T08:57:17.833
> 
> 标签：c++

**疑问**

我在 Microsoft Visual C++ 2010 Express 中编写了一些代码，如下所示：

```
#include<iostream>

int main()
{
    system("cls");

    char name[20];

    cout<<"\nEnter your name:";

    cin.getline(name,20);

    system("pause");

    cout<<"\nYour name is:"<<name;

    system("pause");

    return 0;

} 
```

现在我已经编译它并在 Linux 机器上发送给朋友。他下载了 DOSBox 软件，然后运行该程序。

**疑点**

它会像在我的机器上那样运行还是会产生任何问题？

**我为什么要问这个？**

我最近下载了一个 linux live cd 并在我的机器上运行它。我无法在这台机器上安装它，因为它是一台共享 PC。无论如何，我输入 `cls` 了终端，没有任何反应。我又打字 `pause` 了，没有反应。所以它让我想知道我在上面的代码中传递给系统的命令“cls”是否真的会对 linux 机器产生任何影响。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T09:21:50.903

这个程序不能在其他机器上运行有几个原因 - 我将总结两个主要的：

1.  您使用其他操作系统不支持的系统指令。如果您尝试在不同的操作系统上运行这些指令，操作系统会抱怨它不理解它们并且程序会崩溃。

2.  （可能更重要的是，）您创建的 Windows 可执行`.exe`文件是[Microsoft 的 Portable Executable 格式](http://en.wikipedia.org/wiki/Portable_Executable)的 Windows 文件。Linux 只能读取[ELF 格式](http://en.wikipedia.org/wiki/Executable_and_Linkable_Format)的可执行文件，而 Mac OS X 使用[Mach-O 格式](http://en.wikipedia.org/wiki/Mach-O)。

这两点本身就值得讨论，正如 Joachim 在评论中指出的那样，WINE 模拟器非常擅长在 Linux 上模拟 windows 环境，因此这可能是程序兼容性的一个选项。

**编辑：**我应该在这里补充一点，第 1 点假设第 2 点已经被克服。第 2 点是一个操作系统上的可执行文件在其他操作系统上简单“不起作用”的原因。

* * *

**回复评论：**

一般来说，是的，`ELF`文件是所有 Linux 发行版的标准（可能有一些罕见的例外）。同样，`PE`文件是所有 Windows 版本的标准。如果你有一个相对最新的 CPU，那么如果你在一个 Linux 发行版上编译一个可执行文件，那么它应该可以在其他发行版上运行。

这里的例外是，如果您在具有最新 CPU 的机器上编译程序，并希望在具有非常旧 CPU 的机器上运行它，那么旧 CPU 可能不支持编译器创建的某些指令。但是，现在仅使用默认设置编译程序通常适用于所有（英特尔）CPU。如果您知道您的目标机器使用非常不同或更旧的 CPU，您可以添加[-march=...](http://gcc.gnu.org/onlinedocs/gcc/i386-and-x86_002d64-Options.html)编译器选项，以便编译器生成绝对可以在目标机器上运行的指令。

最后，DOSBox*不是*一个 Windows 模拟器，它是一个 DOS 模拟器。这两个系统，尽管它们的历史，是完全不同的。DOSBox 不是为运行原生 Windows 应用程序而设计的，它是为运行原生 DOS 应用程序而设计的（其中大部分是[废弃软件](http://en.wikipedia.org/wiki/Abandonware)）。如果您想在 Linux 上运行 DOS 程序，例如[Dangerous Dave](http://www.dosgamesarchive.com/download/dangerous-dave/)（我怀旧的最爱之一），那么您可以。但是，如果您希望运行 Windows 应用程序，则需要为此目的设计的模拟器，例如[WINE](http://www.winehq.org)。

作为参考，DOS 使用过时的[MZ 可执行文件格式](http://en.wikipedia.org/wiki/DOS_MZ_executable)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T10:00:12.193

1.  `pause`并且`cls`很可能不会直接在其他操作系统中工作，因为这些是 Windows/DOS 特定的命令。

2.  如果你去掉 DOS 特定的命令并使程序通用，那么 Windows 中内置的 EXE 文件很可能可以通过 Wine 在 Linux 或 MacOS 中执行。请参阅[http://www.winehq.org/about/](http://www.winehq.org/about/)和[http://wiki.winehq.org/MacOSX](http://wiki.winehq.org/MacOSX)。我说“最有可能”是因为您仍然需要尝试看看是否有问题。

3.  如果您在运行 Windows 的虚拟化环境（如[Virtual Box](https://www.virtualbox.org/) ）中运行您的 EXE 可执行文件，那么它将工作。

4.  在 Linux 上，清除屏幕的命令是`clear`. 你真的打算这样做吗？

# objective-c - 更新后某些设备上的应用程序崩溃

> ID：15242839
> 
> 赞同：0
> 
> 时间：2013-03-06T08:57:19.900
> 
> 标签：objective-c, xcode, app-store, updates, crash-reports

在 Appstore 中更新我的应用程序时，我遇到了一些奇怪的事情。1.4 版适用于所有设备。但是，2.0 版在更新时会在某些设备上崩溃。启动时加载屏幕甚至不会显示，应用程序会在一秒钟内崩溃。从应用商店删除并重新安装应用程序可以解决此问题。同样，这只发生在某些设备上（到目前为止，iPod、iPhone 4、iPhone 4s、iPad）。我设法将手放在崩溃的设备上并检查设备日志。另外我想我发现了一些东西，但我无法真正理解错误。它说：

```
Dyld Error Message:
  Library not loaded: /System/Library/Frameworks/AdSupport.framework/AdSupport
  Referenced from: /var/mobile/Applications/(ID)/AppName.app/AppName
Reason: image not found
  Dyld Version: 199.6 
```

我添加了 AdSupport.framework，因为我在 2.0 版的应用程序中实现了 Facebook，并且该文件位于我的项目中的“框架”文件夹中。有人知道如何解决这个问题吗？

如果有用，这里是完整的崩溃报告。

```
Incident Identifier: ID
CrashReporter Key:   crash key
Hardware Model:      iPod4,1
Process:         AppName [35491]
Path:            /var/mobile/Applications/id/AppName.app/AppName
Identifier:      AppName
Version:         ??? (???)
Code Type:       ARM (Native)
Parent Process:  launchd [1]

Date/Time:       2013-03-05 23:23:35.041 +0100
OS Version:      iPhone OS 5.1.1 (9B206)
Report Version:  104

Exception Type:  EXC_BREAKPOINT (SIGTRAP)
Exception Codes: 0x00000001, 0xe7ffdefe
Crashed Thread:  0

Dyld Error Message:
  Library not loaded: /System/Library/Frameworks/AdSupport.framework/AdSupport
  Referenced from: /var/mobile/Applications/(id)/AppName.app/AppName
  Reason: image not found
  Dyld Version: 199.6

Binary Images:
   0x7a000 -   0x106fff +AppName armv7  <0c108dce50ee3e65970e2538a3e319f8> /var/mobile/Applications/(id)/AppName.app/AppName
0x2fe79000 - 0x2fe9afff  dyld armv7  <77eddfd654df393ba9c95ff01715fd08> /usr/lib/dyld
0x3075a000 - 0x307d9fff  libsqlite3.dylib armv7  <bf01f5ed47b033d8bde30d735ff44416> /usr/lib/libsqlite3.dylib
0x3113c000 - 0x311a0fff  MessageUI armv7  <da7af4f9494b35558bf7892dfdb36ee3> /System/Library/Frameworks/MessageUI.framework/MessageUI 
```

这个 iPod 有 iOS 5.1 但我也收到了关于 iOS 6.1 的报告

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:12:22.210

因为 AdSupport.framework 仅在 iOS 6 上可用。所以 Dyld 无法找到过去 IOS 上不存在的东西。即使您将框架添加到您的项目中，您实际上并没有包含二进制文件，只有引用。

如果在重新安装应用程序时它没有崩溃，那可能是因为它当时没有使用 adSupport 功能。但我不确定这个理论，因为我没有编写你的代码；）

这里是苹果可用的框架链接，希望对你有所帮助 [http://developer.apple.com/library/ios/#documentation/miscellaneous/conceptual/iphoneostechoverview/iPhoneOSFrameworks/iPhoneOSFrameworks.html](http://developer.apple.com/library/ios/#documentation/miscellaneous/conceptual/iphoneostechoverview/iPhoneOSFrameworks/iPhoneOSFrameworks.html)

# c++ - 从基类到不同派生类的多重继承转换

> ID：15242841
> 
> 赞同：1
> 
> 时间：2013-03-06T08:57:25.387
> 
> 标签：c++, casting, multiple-inheritance

我有以下一组课程：

![在此处输入图像描述](../Images/a9edde157096000c5c26f33e167308db.png)

以及以下代码：

```
A* a;
if(condition)
{
    a = new E();
}
else
{
    a = new D();
} 
```

现在鉴于有这样的函数`F::foo()`，为了调用它，我必须转换`a`为`E*`or `D*`：

```
if(condition)
{
    ((E*)a)->foo();
}
else
{
    ((D*)a)->foo();
} 
```

据我所知，为了调用而进行强制`a`转换是非法的，因为它是 type ; 对我来说，在调用之前检查条件，听起来像是一个设计问题。有人可以就如何改进这个类层次结构提供一些建议吗？`F*``F::foo``a``A*``foo`

ps 使用[此工具](http://yuml.me/diagram/scruffy/class/draw)绘制图表。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-06T09:09:21.753

```
#include <iostream>

struct A { virtual ~A() {} };

struct C : virtual A {};

struct B : virtual A {};

struct F {
    virtual void Foo() { std::cout << "ok\n"; }
};

struct E : C, virtual F {};

struct D : B, virtual F {};

int main() {
    A *a = new E();
    dynamic_cast<F*>(a)->Foo();
} 
```

*   如果你搞砸了并且引用的`a`不是 的实例`F`，那么 dynamic_cast 返回 null
*   如果您不使用虚拟继承，那么您最终可能会得到模棱两可的基类。A`dynamic_cast`到一个不明确的基础将失败（返回 null）。在这个例子中，没有模棱两可的基础，但你必须意识到这一点。
*   我在大多数类上都省略了虚拟析构函数，但这只是因为我很懒。

如果您反复发现自己处理的对象都是两者的实例，`A`那么`F`如果可能的话，这应该反映在类层次结构中。例如，您可以定义一个从和`G`虚拟继承的类型。然后and可以继承自而不是，并且您可以将 a 传递给该代码，该代码期望它可以调用。`A``F``D``E``G``F``G*``A*``Foo()`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T09:34:15.503

在不知道不同类的角色的情况下，很难说，但是如果`A`和`F`是接口（很可能是这种情况），那么给定一个`A*`，询问对象是否也支持接口的正确方法`F`是`dynamic_cast<F*>`。如果支持，这将为您提供指向`F`接口的指针，否则为空指针。

除此之外，您可能会反映接口是否`F`扩展了`A`接口，或者它是否完全不相关。如果它是一个扩展，那么`F`应该可能来自`A`; 在创建一个已知实现扩展接口的对象时，将其地址分配给`F*`，并避免所有未来的强制转换。（一般来说，不要分配给 an`A*`直到你到达一些指向的对象将*不会*实现的点`F`。）所以你最终会得到类似的东西：

```
//  interfaces...
class A {};
class F : public virtual A {};

//  implementations of A...
class C : public virtual A {};
class B : public virtual A {};

//  implementations of F (and also A, of course)
class E : public C, public virtual F {};
class D : public B, public virtual F {}; 
```

请注意，从接口派生时，将派生设为虚拟通常是个好主意。（在这种情况下，所有 的派生都需要它`A`。但由于相同的模式可以在另一个层次上重复，一些新类扩展了 的接口`F`，因此通常采用以下规则更简单：从接口派生是虚拟的。）

如果`F`真的与 无关`A`，那么您甚至可能会问一个类在做什么来实现两者。`A`或者，如果某些（许多？）实现也实现是有意义的`F`，您可以考虑提供`F`对以下接口的访问`A`：比如虚函数`F* A::getF() { return NULL; }`；也实现的类`F`将使用类似`F* E::getF() { return this; }`.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-06T09:00:48.790

*在不知道类的确切语义*的情况下很难为您提供设计建议（字母只是符号，因此必须假设这些继承关系是可以的，而它们可能不是）。

看看你的模型的正式组织，我会说你可以添加一个虚函数`A`，这两者`D`都会`E`覆盖。然后，这些覆盖会将实现委托给`F::foo()`.

```
class A { 
public:
    virtual void bar() { }; // Maybe make this pure if A is abstract
    // ...
};

// ...

class D : public C, public F { 
public:
    virtual void bar() { /* ... */ f::foo(); /* ... */ }
    // ...
};

class E : public B, public F { 
public:
    virtual void bar() { /* ... */ f::foo(); /* ... */ }
    // ...
}; 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-06T09:25:29.650

如果`F`只是一个实现细节*，*那么你应该按照@AndyProwl 所说的去做。在基类中创建一个虚函数`A`。

如果`F` *不*只是实现细节，另一种方法是将要处理的对象列表保留为`F`s，并将要处理的对象保留为`A`s。同样，正如安迪所说，这将取决于您的情况的语义。

```
vector<F*> effs;
vector<A*> ehs;

A* a;
F* f;
if(condition) {
    E* e = new E();
    a = e;
    f = e;
}
else {
    D* d = new D();
    a = d;
    f = d;
}

effs.push_back(f);
ehs.push_back(a);

for(A* a: ehs) {
    a->bar();
}
for(F* f: effs) {
    f->foo();
} 
```

# coding-style - 有没有办法在开发团队中支持不同的编码风格

> ID：15242842
> 
> 赞同：-1
> 
> 时间：2013-03-06T08:57:36.560
> 
> 标签：coding-style

问题：两个开发人员 => 关于缩进的三个意见，是否换行等等。

我们通常在我们的项目中与三四个人一起工作，每个人都有自己的代码风格。我知道，常见的解决方案是就代码风格达成一致，每个人都必须使用，但我不想强迫有创造力的程序员穿上不适合他们的西装。

所以问题是：有没有办法让每个程序员都有自己的风格，但在存储库中有一个共同的代码库？我想到了一些 git/svn/whatever 插件，它在结帐和提交时会在个人风格和普通风格之间变化。在我看来，这种方法的棘手部分是支持文件版本之间的正确差异

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:02:59.770

It's not too late for the "pick one and stick with it" decision (even if it's not the one you prefer).

For the existing code base, stick with what ever convention was used in that file.

If that module ever gets a (near) re-write, or a large overhaul then change it then.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:17:02.563

问题是，在我看来，大多数开发人员（我遇到的）不喜欢改变编码标准，因为他们觉得很舒服，即使有一段时间。

例如，早在我还是 Web 开发人员的时候，我的同事都没有改变编码风格，即使是 1 个文件，使用 PEAR 编码标准格式良好的文件是没有意义的，有人编写几个函数CamelCase/camelBack 或他们使用的任何标准中的一百行圆锥。

因此，在您的情况下，建立良好的团队很重要，如果团队相互尊重，他们会提出以统一标准编写以降低所需代码维护的想法。

# iphone - 如何将本地图像保存到在线数据库

> ID：15242849
> 
> 赞同：0
> 
> 时间：2013-03-06T08:57:49.943
> 
> 标签：iphone, ios, image, ios6

我正在创建我正在拍照的 iPhone 应用程序。现在我想在线保存这张照片（比如链接 www.test.com/myiPhoneAppImages/）。

知道如何将图像从 iPhone 拍摄到网站吗？

我试着用谷歌搜索它，但没有找到任何有用的 tuts。

任何帮助/建议都会非常有用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T09:05:23.653

哦！不知道为什么google不给你任何结果，让我帮你做！

**1)** [上传图片到远程服务器，iPhone](https://stackoverflow.com/questions/3367930/uploading-images-to-remote-server-iphone)

**2)** [上传图片和文字到服务器](https://stackoverflow.com/questions/9800881/upload-images-and-texts-to-server)

**3)** [如何在服务器上上传 UIImage？](https://stackoverflow.com/questions/4183276/how-to-upload-uiimage-on-server)

**4)** [Iphone> 通过 ASIHTTPRequest 将 UIImage 对象上传到服务器，照片名称？](https://stackoverflow.com/questions/10136637/iphone-uploading-uiimage-object-to-server-via-asihttprequest-photo-name)

**5)** [iphone: 使用 ASIFormDataRequest 上传图片到服务器](https://stackoverflow.com/questions/5923862/iphone-upload-image-to-server-using-asiformdatarequest)---**推荐**

[**总体结果页面**](https://www.google.co.in/search?q=get+images+from+document+directory&aq=f&oq=get+images+from+document+directory&aqs=chrome.0.57j0l2j60j0j62.6181&sourceid=chrome&ie=UTF-8#hl=en&sclient=psy-ab&q=upload+UIImage+to+server&oq=upload+UIImage+to+server&gs_l=serp.3..0j0i22i10i30j0i22i30l2.9407.13134.0.13222.24.21.0.3.3.2.410.3377.1j10j3j2j1.17.0.les%3B..0.0...1c.1.5.psy-ab.pdjAGszUyXo&pbx=1&bav=on.2,or.r_gc.r_pw.r_cp.r_qf.&bvm=bv.43287494,d.bmk&fp=22e7cbac4256cbc1&biw=1315&bih=606)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:15:27.463

尝试以下方法将图像发布到服务器

```
- (void) doPostImage

{
    NSAutoreleasePool   *pool                       = [[NSAutoreleasePool alloc]init];

    //Add your images here...
    NSArray *imageParams = [NSArray arrayWithObjects:@"myimage1.png", nil];

    NSString *urlString = @"http://yourURL";

    NSMutableURLRequest *request = [[NSMutableURLRequest alloc] init];

    [request setURL:[NSURL URLWithString:urlString]];

    [request setHTTPMethod:@"POST"];

    NSMutableData *body = [NSMutableData data];

    NSString *boundary = @"---------------------------14737809831466499882746641449";

    NSString *contentType = [NSString stringWithFormat:@"multipart/form-data; boundary=%@", boundary];

    [request addValue:contentType forHTTPHeaderField:@"Content-Type"];

    // add the image form fields

    for (int i=0; i<[imageParams count]; i++) {

        [body appendData:[[NSString stringWithFormat:@"--%@\r\n", boundary] dataUsingEncoding:NSUTF8StringEncoding]];

        [body appendData:[[NSString stringWithFormat:@"Content-Disposition: attachment; name=\"image%d\"; filename=\"%@\"\r\n", i, [imageParams objectAtIndex:i]] dataUsingEncoding:NSUTF8StringEncoding]];

        [body appendData:[@"Content-Type: application/octet-stream\r\n\r\n" dataUsingEncoding:NSUTF8StringEncoding]];

        [body appendData:[NSData dataWithData:UIImageJPEGRepresentation(m_ImgVw_SelectedImage.image, 90)]];

        [body appendData:[@"\r\n" dataUsingEncoding:NSUTF8StringEncoding]];

    }

    // add the text form fields

    // close the form
        [body appendData:[[NSString stringWithFormat:@"--%@--\r\n", boundary] dataUsingEncoding:NSUTF8StringEncoding]];

    // set request body
       [request setHTTPBody:body];

    // send the request (submit the form) and get the response

    NSData *returnData = [NSURLConnection sendSynchronousRequest:request returningResponse:nil error:nil];
    [request release];

    NSString *returnString = [[NSString alloc] initWithData:returnData encoding:NSUTF8StringEncoding];

    if(returnString)
    {
        [m_ctrlActivityView stopAnimating];
        NSString *m_strMessage=[NSString stringWithFormat:@" Your image is recieved"];
        [returnString release];
        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Thank you" message:m_strMessage delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil];
        [alert show];
        [alert release];
    }
    else
    {
        UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@"Sorry" message:@"Error in server communication. Try again later" delegate:self cancelButtonTitle:@"OK" otherButtonTitles:nil];
        [alert show];
        [alert release];

    }

    CFRunLoopRun();

    [pool release];
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:24:38.183

你可以在搜索引擎中搜索它。

数据方式：手机图片-----上传到网站-----由网站逻辑保存到数据库。

顺便说一句，你不需要自己编写上传逻辑，AFNetworking 对你来说是一个很酷的第三方框架。[GitHub链接](https://github.com/AFNetworking/AFNetworking)

# url - 我如何从控制器中的 URL 获取原始参数

> ID：15242850
> 
> 赞同：1
> 
> 时间：2013-03-06T08:57:56.197
> 
> 标签：url, asp.net-mvc-4, parameters

我希望在我的控制器中正确填写我的哈希值，但我的链接包含错误地传递到我的控制器中的特殊字符：

```
localhost:51756/Account/ConfirmEmail?key=80d34666-f491-4fbd-821b-4a1e5608e710&hash=B4fcSyRuy/2j94sek8JMxr7+kDg=&newEmail=aGFuc3BvcHBlQGhvdG1haWwuY29t 
```

我的控制器中的哈希 = B4fcSyRuy/2j94sek8JMxr7 kDg=

```
public ActionResult ConfirmEmail(string hash, string key, string newemail)
    {
         //do something.
    } 
```

' ' 中的 '+' 已更改。有人想从我的网址中获取原始参数吗？

谢谢，汉斯

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T14:45:05.287

好吧，你可以做两件事：

1.  您正确编码 + 字符以使 ASP.NET 正确解码它。由于 + 字符的 URL 编码版本是 %2B（请参阅[链接](http://www.degraeve.com/reference/urlencoding.php)），因此链接将变为“...hash=B4fcSyRuy/2j94sek8JMxr7%2BkDg...”

2.  您可以使用 将哈希编码回其原始格式`Url.Encode`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T14:41:33.557

URL 中的所有查询字符串参数值都需要进行 URL 编码。您可以使用`System.Web.HttpUtility.UrlEncode(string)`C# 中的`encodeURIComponent(str)`方法或 JavaScript 中的方法来执行此操作。

URL 如下所示：

`http://localhost:51756/Account/ConfirmEmail?key=80d34666-f491-4fbd-821b-4a1e5608e710&hash=2j94sek8JMxr7%2BkDg%3D&newEmail=aGFuc3BvcHBlQGhvdG1haWwuY29t`

# javascript - HTML在javascript中获取选项值

> ID：15242852
> 
> 赞同：2
> 
> 时间：2013-03-06T08:58:16.793
> 
> 标签：javascript, html

```
 <select id="ChangeViewId" onChange="changeView(this)"></select>

   function setView() {
 ..................... 
   var innerCode = '';
    for(i=0; i<viewList.length; i++) {                      
      innerCode += "<option value="+viewList[i]+">"+viewList[i]+"</option>";
     }
        document.getElementById("ChangeViewId").innerHTML=innerCode;
    }

function changeView(view)
    {       
        alert(document.getElementById('ChangeViewId').value);
    } 
```

值为 C、Cpp、Java 程序。当我选择 Java 程序时，只有 Java 显示我想要完整的值 Java 程序。我已经尝试过 onSelect 和 onClick 请帮助我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:01:55.857

The script generates this HTML:

```
<option value=Java program>Java program</option> 
```

That is, an option tag that has value "Java" and a property "program". You need to add quotes around the value:

```
innerCode += '<option value="'+viewList[i]+'">'+viewList[i]+"</option>"; 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-06T09:00:28.600

这应该这样做

```
function setView() 
{
   var innerCode = '';
   for(i=0; i< viewList.length; i++) 
   {                      
      innerCode += '<option value="'+viewList[i]+'">' + viewList[i] + '</option>';
   }

   document.getElementById("ChangeViewId").innerHTML=innerCode;
}

function changeView(view)
{       
    var objSel = document.getElementById('ChangeViewId');
    alert(objSel.options[objSel.selectedIndex].value);
} 
```

# javascript - 在具有外部目标的表单上跟踪 Google AdWords 转化

> ID：15242855
> 
> 赞同：2
> 
> 时间：2013-03-06T08:58:22.140
> 
> 标签：javascript, google-analytics

当用户注册时事通讯时，如何运行此跟踪代码？

```
<script type="text/javascript">
    var google_conversion_id = xxxxxx;
    var google_conversion_language = "en";
    var google_conversion_format = "3";
    var google_conversion_color = "ffffff";
    var google_conversion_label = "xxxxxx";
    var google_conversion_value = Newsletter Signup;
</script>

<script type="text/javascript" src="http://www.googleadservices.com/pagead/conversion.js"> 
```

时事通讯注册通过此表单进行，该表单针对外部链接。这是表格来源：

```
<form action="http://restaurant.us1.list-manage1.com/subscribe/post?u=xxx;id=xxx" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" target="_blank">
    <input type="email" value="" name="EMAIL" id="mce-EMAIL">
    <input id="addnwl" class="iblock smallbutton LR mt15 p3 pl10 pr10 nohover" type="submit" value="Aboneaza-te" name="subscribe" id="mc-embedded-subscribe">
</form> 
```

这可能吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T19:11:04.553

由于您的表单发送到外部站点（您可能无法在其中放置跟踪代码），因此您要么希望在他们离开站点之前注册转换，要么在他们从 3rd 方站点返回之后（如果他们确定这样做的话）所以 - 情况并非总是如此）。

要在访问者离开您的网站之前注册转换，请在 AdWords 转换代码的 noscript 部分中构建与 img 标记匹配的图像。您可以使用 javascript 来执行此操作，方法是使用正确的来源创建图像，并在转到外部页面之前设置延迟（将 CONVERSIONID 和 CONVERSIONLABEL 替换为实际值）：

```
<script>
 function trackAdWordsConversion(formID) { 
   try { 
     var adwordsPixel = new Image;
     var pixelSrc = "http://www.googleadservices.com/pagead/conversion/CONVERSIONID/?value=0&amp;label=CONVERSIONLABEL&amp;guid=ON&amp;script=0";
     adwordsPixel.src = pixelSrc;
    } catch(err){}

   var form = document.getElementById(formID);
   setTimeout(function() {
     form.submit();
   }, 100);
 }
</script> 
```

只需设置 src 属性就足以将请求发送到 Google 的服务器，这是您需要做的。我认为，您可以摆脱 setTimeout，因为您的表单以新选项卡为目标。现在我们有了这个函数，将它用作表单提交按钮的 onclick 属性。我将类型更改为“按钮”而不是“提交”以消除冗余。

```
<form action="http://restaurant.us1.list-manage1.com/subscribe/post?u=xxx;id=xxx" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" target="_blank">
  <input type="email" value="" name="EMAIL" id="mce-EMAIL">
  <input id="addnwl" class="iblock smallbutton LR mt15 p3 pl10 pr10 nohover" type="button" value="Aboneaza-te" name="subscribe" id="mc-embedded-subscribe" onclick="trackAdWordsConversion('mc-embedded-subscribe-form');">
</form> 
```

# magento - 上传到频道 MagentoConnect 1.0 时出错：无法上传新版本 wwjw_links-2.1.3.tgz

> ID：15242859
> 
> 赞同：1
> 
> 时间：2013-03-06T08:58:29.160
> 
> 标签：magento

上传到频道 MagentoConnect 1.0 时出错。

```
Unable to upload new release wwjw_links-2.1.2.tgz

Package has been successfully uploaded to Magento Connect channel ver.2.0 
```

谁能帮我解决问题？

# javascript - 通过jquery获取复选框值

> ID：15242864
> 
> 赞同：0
> 
> 时间：2013-03-06T08:58:43.887
> 
> 标签：javascript, jquery, checkbox

有这样的动态复选框：

```
<input type="checkbox" checked="checked" value="1" name="user_mail_check[]" class="ami">
<input type="checkbox" checked="checked" value="2" name="user_mail_check[]" class="ami">
<input type="checkbox"  value="3" name="user_mail_check[]" class="ami">
<input type="checkbox" checked="checked" value="4" name="user_mail_check[]" class="ami">
<input type="checkbox"  value="5" name="user_mail_check[]" class="ami"> 
```

如何获取每个选中复选框的值。

我用了

```
$('.ami').is(":checked").value(); 
```

但它没有用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:00:11.850

没有`value()`函数使用`val()`您可以使用 each 来遍历带有 class 的元素`ami`，

```
$('.ami:checked').each(function(){
  alert($(this).val());
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:08:30.183

试试这个方法

```
$('.ami').each(function(){
  if($(this).is(':checked')){ 
    $(this).val(); // get checked value
  }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:00:21.157

试试这样：

```
$(function(){
  $('.ami').click(function(){
    var val = [];
    $(':checkbox:checked').each(function(i){
      val[i] = $(this).val();
    });
  });
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T09:00:49.880

这将在一个数组中给出所有检查的值。

```
var values = $('.ami').map(function(i,el){
    if($(el).is(':checked')){
        return $(el).val()
    }
}).get(); 
```

# android - Android - ViewPager 上的 NullPointerException

> ID：15242874
> 
> 赞同：1
> 
> 时间：2013-03-06T08:59:14.890
> 
> 标签：android, nullpointerexception, android-viewpager, android-dialog

我正在尝试使用片段创建对话框，但是当我调用 setAdapter 方法时，我有一个 Java NullPointerException，我找不到错误。

Java 代码：

```
public class MainActivity extends FragmentActivity {

Context myContext;

private MyAdapter mAdapter;
private ViewPager mPager;

String TAG = "Dialog";

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

            myContext = this;

    findViewById(R.id.button1).setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            final Dialog dialog = new Dialog(myContext);

            dialog.setContentView(R.layout.layout_dialog);

            mAdapter = new MyAdapter(getSupportFragmentManager()); 

            mPager = (ViewPager) dialog.findViewById(R.id.myViewPager);
            **mPager.setAdapter(mAdapter);** //Line 39, the error is on this line.

            dialog.show();
        }
    });
}

public class MyAdapter extends FragmentPagerAdapter {
    int counts;

    public MyAdapter(FragmentManager fm) {
        super(fm);
    }

    @Override
    public int getCount() {
        return 3;
    }

    @Override
    public Fragment getItem(int position) {
        switch (position) {
        case 0:
            return new ImageFragment(R.drawable.icecream);

        case 1:
            return new ImageFragment(R.drawable.cupcake);

        case 2:
            return new ImageFragment(R.drawable.donut);

        default:
            return null;
        }

    }
}
} 
```

片段类：

```
public class ImageFragment extends Fragment {

private final int imageResourceId;

public ImageFragment(int imageResourceId) {
    this.imageResourceId = imageResourceId;
}

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
}

@Override
public void onActivityCreated(Bundle savedInstanceState) {
    super.onActivityCreated(savedInstanceState);

}

@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
        Bundle savedInstanceState) {
    View view = inflater.inflate(R.layout.activity_dialog_item, container,
            false);
    ImageView imageView = (ImageView) view.findViewById(R.id.imageView1);
    imageView.setImageResource(imageResourceId);
    return view;
} 
```

}

activity_main xml 代码：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent">

<Button
    android:id="@+id/button1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentRight="true"
    android:layout_marginRight="20dip"
    android:layout_marginTop="30dip"
    android:text="Show Dialog" />

   </RelativeLayout> 
```

layout_dialog.xml 代码：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical" >

<android.support.v4.view.ViewPager
    android:id="@+id/myViewPager"
    android:layout_width="match_parent"
    android:layout_height="match_parent" />

     </LinearLayout> 
```

activity_dialog_item.xml 代码：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent" >

<ImageView
    android:id="@+id/imageView1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerInParent="true"
    android:src="@drawable/cupcake" />

  </RelativeLayout> 
```

错误：

```
03-06 13:58:22.546: E/AndroidRuntime(818): FATAL EXCEPTION: main
03-06 13:58:22.546: E/AndroidRuntime(818): java.lang.NullPointerException
03-06 13:58:22.546: E/AndroidRuntime(818):  at com.example.viewpager.MainActivity$1.onClick(MainActivity.java:39)
03-06 13:58:22.546: E/AndroidRuntime(818):  at android.view.View.performClick(View.java:2485)
03-06 13:58:22.546: E/AndroidRuntime(818):  at android.view.View$PerformClick.run(View.java:9080)
03-06 13:58:22.546: E/AndroidRuntime(818):  at android.os.Handler.handleCallback(Handler.java:587)
03-06 13:58:22.546: E/AndroidRuntime(818):  at android.os.Handler.dispatchMessage(Handler.java:92)
03-06 13:58:22.546: E/AndroidRuntime(818):  at android.os.Looper.loop(Looper.java:123)
03-06 13:58:22.546: E/AndroidRuntime(818):  at android.app.ActivityThread.main(ActivityThread.java:3683)
03-06 13:58:22.546: E/AndroidRuntime(818):  at java.lang.reflect.Method.invokeNative(Native Method)
03-06 13:58:22.546: E/AndroidRuntime(818):  at java.lang.reflect.Method.invoke(Method.java:507)
03-06 13:58:22.546: E/AndroidRuntime(818):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
03-06 13:58:22.546: E/AndroidRuntime(818):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
03-06 13:58:22.546: E/AndroidRuntime(818):  at dalvik.system.NativeStart.main(Native Method) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:08:42.367

编辑：

通过膨胀不是来自资源的视图来设置对话框的视图

```
 LayoutInflater inflatter= (LayoutInflater)getSystemService(Context.LAYOUT_INFLATER_SERVICE);
View v= inflatter.inflate(R.layout.layout_dialog);
dialog.setContentView(v); 
```

* * *

在 onCreate 之前你不会得到上下文，

```
Context myContext = this;  // this throws you NPE, 
```

尝试这样做

```
Context mycontext; 
```

并在 onCreate

```
mycontext=this; 
```

# c# - 在两个项目中找不到属性的架构信息

> ID：15242875
> 
> 赞同：2
> 
> 时间：2013-03-06T08:59:21.873
> 
> 标签：c#, .net, visual-studio-2010, log4net, app-config

我创建了一个包含几个项目的解决方案。其中一个项目是我的 Service 项目，另一个是 WPF 项目（用于用户界面）。

我突然出现错误，导致我的应用程序无法运行。在尝试了一些事情之后，包括在 SVN 中恢复到较旧的工作副本，这并没有解决问题，但花了我一些改进，我发现在恢复整个项目之前我可能忽略了一些消息。

*   找不到属性“名称”的架构信息。
*   找不到属性“名称”的架构信息。
*   找不到属性“ref”的架构信息。
*   找不到属性“ref”的架构信息。
*   找不到属性“sku”的架构信息。
*   找不到属性“类型”的架构信息。
*   找不到属性“类型”的架构信息。
*   找不到属性“类型”的架构信息。
*   找不到属性“类型”的架构信息。
*   找不到属性“值”的架构信息。
*   找不到属性“值”的架构信息。
*   找不到属性“值”的架构信息。
*   找不到属性“值”的架构信息。
*   ...

这个列表持续了一段时间，可能`App.config`我的服务应用程序中的每一件小事和我的 WPF 应用程序中的三件事`app.config`都找不到。

我`app.config`的 WPF 应用程序如下所示：

```
<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.0" />
  </startup>
  <appSettings>
    <add key="ClientSettingsProvider.ServiceUri" value="" />
  </appSettings>
  <system.web>
    <membership defaultProvider="ClientAuthenticationMembershipProvider">
      <providers>
        <add name="ClientAuthenticationMembershipProvider" type="System.Web.ClientServices.Providers.ClientFormsAuthenticationMembershipProvider, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" serviceUri="" />
      </providers>
    </membership>
    <roleManager defaultProvider="ClientRoleProvider" enabled="true">
      <providers>
        <add name="ClientRoleProvider" type="System.Web.ClientServices.Providers.ClientRoleProvider, System.Web.Extensions, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35" serviceUri="" cacheTimeout="86400" />
      </providers>
    </roleManager>
  </system.web>
</configuration> 
```

我在这个网站上看到了一些解决方案，但没有一个真正奏效。我尝试将架构更改为，`DotNetConfig30.xsd`而不是`DotNetConfig.xsd`但没有效果。相反，所有内容都已列出（而不是未找到）。

我还将项目的构建平台设置为 X86，这也没有效果。

我被困在这里，我不知道如何继续。这里可能是什么问题？

编辑：检查所有指针后，似乎`log4net`没有正确加载。每条消息都来自`<log4net>`括号之间。那发生在另一个`App.config`：

```
<?xml version="1.0" encoding="utf-8"?>
<configuration>
    <configSections>
        <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" />
    </configSections>
    <log4net>
        <appender name="DebugFile" type="log4net.Appender.RollingFileAppender">
            <file value="KeyLessAccessService.log" />
            <appendToFile value="true" />
            <maximumFileSize value="10MB" />
            <maxSizeRollBackups value="7" />
            <layout type="log4net.Layout.PatternLayout">
                <conversionPattern value="[%date] %-5level - %logger - %message%newline" />
            </layout>
        </appender>
        <appender name="Console" type="log4net.Appender.ConsoleAppender">
            <layout type="log4net.Layout.PatternLayout">
                <conversionPattern value="[%date] %-5level - %logger - %message%newline" />
            </layout>
        </appender>
        <root>
            <level value="DEBUG" />
            <appender-ref ref="Console" />
            <appender-ref ref="DebugFile" />
        </root>
    </log4net>
    <appSettings>
 .... 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T13:19:58.663

不确定发生了什么。重新启动并没有解决问题，但是将计算机搁置一晚解决了它...

# sql - 向表 SQL 输入查询

> ID：15242878
> 
> 赞同：-3
> 
> 时间：2013-03-06T08:59:31.453
> 
> 标签：sql

我想知道是否可以在表中输入查询，但是中断键 (') 会过早地结束字符串 - 您可以使用双撇号，但是当我想使用它时，这会使查询无效.

例如：

```
INSERT INTO (TABLE) VALUES ('INSERT INTO (TABLE) VALUES ('Something', 123, 'Something2') 
```

现在如上所述，我可以使用双撇号来获取“某事”，但这会使查询无效，如果我需要使用撇号，我必须稍后删除它们。

我能做些什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:03:21.440

这应该有效。

```
INSERT INTO (TABLE) VALUES ('INSERT INTO (TABLE) VALUES (''Something'', 123, ''Something2'')') 
```

在分贝中，您将拥有

```
INSERT INTO (TABLE) VALUES ('Something', 123, 'Something2') 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:04:27.030

您是否尝试将 SQL 语句作为文字字符串插入到表中？即您是否尝试将值插入`INSERT INTO (TABLE) VALUES ('Something', 123, 'Something2'`到具有单列的表中，或者您是否尝试使用查询结果将值插入到原始表中。

如果您使用 double `'`s 运行插入，则结果将是 `'`数据库中的单个，因此`INSERT INTO (TABLE) VALUES ('INSERT INTO (TABLE) VALUES (''Something'', 123, ''Something2''')`插入文字字符串`INSERT INTO (TABLE) VALUES ('Something', 123, 'Something2'`

但我会质疑这是否是你真正追求的......

# network-programming - Unity 中的 AI 角色与 Photon View

> ID：15242879
> 
> 赞同：1
> 
> 时间：2013-03-06T08:59:33.863
> 
> 标签：network-programming, unity3d, photon

我正在使用 Photon 多人游戏代码和 Rain Indy AI 在 Unity 中构建一个小游戏。在添加 AI 之前，所有游戏对象都是同步的，但新的 AI 角色似乎由每个游戏实例单独控制。

我遇到了一些与子弹类似的问题，但在这里我只是打开和关闭预制件的拍摄脚本，以实例化玩家。

让舒尔只运行一个 AI 代码实例的最佳方法是什么？我是否也需要将 AI 字符转换为预制件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T11:58:04.813

将 AI 角色实例化为预制件并启用 RAINAgent 组件就成功了。

```
GameObject SimpleAICharacter = PhotonNetwork.Instantiate("SimpleAICharacterfab",
new Vector3(Random.Range(-50,50),5,Random.Range(-50,50)), Quaternion.identity, 0);

RAINAgent AIController = SimpleAICharacter.GetComponent<RAINAgent>();
AIController.enabled = true; 
```

# office365 - Office 2013 应用程序：如何使用 Office 2013 Javascript API 获取文件名

> ID：15242880
> 
> 赞同：1
> 
> 时间：2013-03-06T08:59:34.870
> 
> 标签：office365, office-2013, apps-for-office

我正在创建一个 Office 任务窗格应用程序并使用 MS Word 2013 运行它。当我运行该应用程序时，它在 Word 中打开了一个任务窗格，其中包含一个名为“Document1.docx”的文档。如何使用 Office 2013 Javascript API 获取此文件名“Document1.docx”？如果这不是通过 Office Javascript API 实现的，是否有任何其他技术可以在 Office 2013 任务窗格应用程序中实现这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T07:55:23.750

我在这里找到了这个问题的解决方案。
[http://social.msdn.microsoft.com/Forums/en-US/appsforoffice/thread/2cf80790-7088-4568-813b-7b645a8ebd2e?prof=required](http://social.msdn.microsoft.com/Forums/en-US/appsforoffice/thread/2cf80790-7088-4568-813b-7b645a8ebd2e?prof=required)

您可以使用 Javascript API 并获取 Office.context.document.url 属性，但这带有警告 - 请参阅链接了解更多详细信息。

# propertygrid - PropertyGrid BrowsableAttributes 错误？

> ID：15242881
> 
> 赞同：1
> 
> 时间：2013-03-06T08:59:40.210
> 
> 标签：propertygrid, browsable, xmlattributecollection

这似乎是一个错误：

下面的代码工作正常：

```
this.propertyGrid1.SelectedObject = new Button(); 
```

下面的代码没有：

```
this.propertyGrid1.BrowsableAttributes = new AttributeCollection(
     new CategoryAttribute("Layout"));
this.propertyGrid1.SelectedObject = new Button(); 
```

大小、位置、... PropertyGrid 中的属性无法展开。

# ios - 如何在选择模式下展开 UIButton 框架？

> ID：15242886
> 
> 赞同：0
> 
> 时间：2013-03-06T09:00:04.937
> 
> 标签：ios, objective-c, uibutton

我有一个小的 UIButton 并通过以下方式为选择状态设置背景：

```
[button setBackgroundImage:[UIImage imageNamed:@"butBG.png"] forState:UIControlStateSelected]; 
```

`butBG.png imageSize > button.frame`. 而我想扩大`UIButton.frame`等于 imageSize 的时候`[button setSelected:YES];` 之后回到原点 Frame 的时候`[button setSelected:NO];`

我怎样才能做到这一点？提前感谢您的帮助！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:08:01.673

1) 使用 . 检查按钮单击时的按钮状态`btn.isSelected`。

2）如果`btn.isSelected`为真，则设置与图像大小相似的按钮大小，否则设置正常状态下所需的按钮大小。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:09:27.573

您可以为按钮创建一个类别并覆盖该`setSelected`方法以根据状态更改按钮的框架大小

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-06T09:12:35.253

您可以收听按钮的状态并在其更改时调整其大小

在 viewDidLoad 中（或使用界面生成器执行等效操作）

```
[button addTarget:self action:@selector(myButtonStateChanged:) forControlEvents:UIControlEventTouchDown];

[button addTarget:self action:@selector(myButtonStateChanged:) forControlEvents:(UIControlEventTouchUpInside | UIControlEventTouchUpOutside | UIControlEventTouchCancel)]; 
```

创建方法

```
- (IBAction)myButtonStateChanged:(UIButton *)sender {
  if (sender.selected) {
     sender.frame = BIG_SIZE_FRAME;
  }
  else {
     sender.frame = NORMAL_SIZE_FRAME;
  }

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T09:13:46.610

```
-(void)setButtonframe:(UIButton *)button
{
    if (button.selected)
    {
        [button setFrame:largeFrame];

    }
    else
    {
        [button setFrame:smallFrame];

    }
} 
```

调用 [self setButtonframe:sender]; 在按钮点击的动作中

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-06T09:35:41.890

去这个...

```
- (IBAction)paymentBtnCliked:(id)sender {

if ([sender isSelected]) {
     // configure same object as per requirement
    [paymentBtn setSelected:NO];
}else{
     // configure same object as per requirement
     [paymentBtn setSelected:YES];

}
} 
```

# iphone - 为什么要将 entitlements.plist 添加到我的项目中？

> ID：15242888
> 
> 赞同：3
> 
> 时间：2013-03-06T09:00:06.543
> 
> 标签：iphone, ios, ipad, entitlements

在 iOS 应用程序中添加权利文件的目的是什么？这个 Get-task-allow 可以包含在任何其他方式中吗？为什么我必须在我的项目中包含这个键？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-06T09:02:13.407

According to [Apple Docs](http://developer.apple.com/library/ios/#documentation/Miscellaneous/Reference/EntitlementKeyReference/Chapters/AboutEntitlements.html)

> Entitlements confer specific capabilities or security permissions to your app. These file(s) define properties that provide your application access to iOS features (such as push notifications) and secure data (such as the user’s keychain).
> 
> Set entitlement values in order to enable iCloud, push notifications, and App Sandbox (App Sandbox is Mac OS X only). Each entitlement has a default value, which in most cases disables the capability associated with the entitlement. When you set an entitlement, you are overriding the default by providing an appropriate key-value pair

in essence, it confers app developers to have finer control.

Some points to remember though -

1.  `Get-task-allow` is now called "Can be debugged" in Xcode4.1 & above if you've used the modernisation tool.
2.  no need entitlements for simply ad-hoc , simply using ad-hoc profile to archive and share , then fine.
3.  There's no issue with leaving the Entitlements.plist file in the Distribution build, I've had several apps submitted with it. Actually, Entitlements.plist is also for other iOS features that your app may use.

# clickonce - Mage.exe 独立使用

> ID：15242895
> 
> 赞同：3
> 
> 时间：2013-03-06T09:00:29.330
> 
> 标签：clickonce, mage, octopus-deploy

我正在开发一个示例，在该示例中，我使用 Octopus Deploy 在安装时配置和创建 clickonce 包，并且在“生产”机器上使用 mage.exe 时遇到了一些问题。我已经包含了 mage.exe 和 mageui.exe，但是在使用 mage.exe 时出现以下错误

> **错误**：

```
Unhandled Exception: System.TypeLoadException: Could not load type 'System.Reflection.AssemblySignatureKeyAttribute' from assembly 'mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089'.
2013-03-05 20:28:12 INFO     ERROR:    at System.ModuleHandle.ResolveMethod(RuntimeModule module, Int32 methodToken, IntPtr* typeInstArgs, Int32 typeInstCount, IntPtr* methodInstArgs, Int32 methodInstCount)
2013-03-05 20:28:12 INFO     ERROR:    at System.ModuleHandle.ResolveMethodHandleInternalCore(RuntimeModule module, Int32 methodToken, IntPtr[] typeInstantiationContext, Int32 typeInstCount, IntPtr[] methodInstantiationContext, Int32 methodInstCount)
2013-03-05 20:28:12 INFO     ERROR:    at System.ModuleHandle.ResolveMethodHandleInternal(RuntimeModule module, Int32 methodToken, RuntimeTypeHandle[] typeInstantiationContext, RuntimeTypeHandle[] methodInstantiationContext)
2013-03-05 20:28:12 INFO     ERROR:    at System.Reflection.CustomAttributeData..ctor(RuntimeModule scope, CustomAttributeRecord caRecord)
2013-03-05 20:28:12 INFO     ERROR:    at System.Reflection.CustomAttributeData.GetCustomAttributes(RuntimeModule module, Int32 tkTarget)
2013-03-05 20:28:12 INFO     ERROR:    at System.Reflection.CustomAttributeData.GetCustomAttributesInternal(RuntimeAssembly target)
2013-03-05 20:28:12 INFO     ERROR:    at System.Reflection.RuntimeAssembly.GetCustomAttributesData()
2013-03-05 20:28:12 INFO     ERROR:    at System.Reflection.CustomAttributeData.GetCustomAttributes(Assembly target)
2013-03-05 20:28:12 INFO     ERROR:    at System.Resources.ManifestBasedResourceGroveler.GetNeutralResourcesLanguage(Assembly a, UltimateResourceFallbackLocation& fallbackLocation)
2013-03-05 20:28:12 INFO     ERROR:    at System.Resources.ResourceManager.CommonSatelliteAssemblyInit()
2013-03-05 20:28:12 INFO     ERROR:    at System.Resources.ResourceManager..ctor(Type resourceSource)
2013-03-05 20:28:12 INFO     ERROR:    at MageCLI.Application.get_Resources()
2013-03-05 20:28:12 INFO     ERROR:    at MageCLI.Application.InternalError(String message, String stackTrace)
2013-03-05 20:28:12 INFO     ERROR:    at MageCLI.Application.Main(String[] args) 
```

`mage.exe`所以我的问题是在不安装 .NET Framework SDK 的情况下运行需要哪些依赖项？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T18:06:24.410

我设法使用 FUSLOGVW.exe 找出问题所在。我从 .NET Framework 4.5 中复制了 mage.exe 和 mageui.exe，默认情况下它没有安装在 Windows 2008 Server 中。从 .NET 4.0 获取法师解决了这个问题。

# php - 服务器时间为零时刷新页面的Javascript

> ID：15242897
> 
> 赞同：-3
> 
> 时间：2013-03-06T09:00:34.720
> 
> 标签：php, javascript

我正在寻找当服务器时间为零（每小时）时刷新页面的javascript。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:06:59.487

如果页面只需要一个小时后刷新，服务器可以在页面首次提供时在页面标题中设置元标记：

```
<meta http-equiv="refresh" content="3600"> 
```

其中 3600 是以秒为单位的一小时。如果你希望它在一小时后，而不是在一小时后，服务器可以将秒数设置为直到下一个小时的秒数（例如，如果服务器时间是 10:30，它将设置为 1800 .

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:16:17.050

像这样的东西应该工作：

```
$diff = mktime(date("H") + 1, 0, 0, date("m"), date("d"), date("Y")) - time();
echo('<meta http-equiv="refresh" content="' . $diff . '" />'); 
```

但请记住将您的业务与视图逻辑分开；-)

（您也可以省略我添加以帮助理解代码的“日期（“m”）、日期（“d”）、日期（“Y”）”）

如果你想使用 Javascript，只需使用一个间隔为一秒的 setTimeout，它将值从 $diff 计数到 0；

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:13:01.443

据我所知，有两种可能的方法。

1.  如果您知道服务器的时区（并且它是固定的），则在时区的 js 中获取时间，并将倒计时设置为最近的时间（有相应的[库](http://www.tripwiremagazine.com/2012/11/jquery-countdown-scripts.html)）。
2.  第二个选项是您将 php 代码中页面标题中的标记元设置为服务器的当前时间。然后用它来倒计时。

选项 1 会更准确，因为您将获得与时区相关的当前时间，而不是第二个选项，因为服务器何时添加元数据以及您的 js 何时读取它会有延迟。

但是，如果您的服务器位置可能发生变化，则选项 2 更有利。

# apache-flex - VideoDisplay，使用本地视频的相对路径

> ID：15242898
> 
> 赞同：0
> 
> 时间：2013-03-06T09:00:36.630
> 
> 标签：apache-flex, air

我有一个 flex AIR（用于桌面）应用程序，它包含一个`VideoDisplay`：

```
<s:VideoDisplay id="video" autoPlay="true" source="video/collection1/1.mp4" /> 
```

请注意 source 属性如何指向相对路径中的本地视频。

问题是视频无法播放，除非我使用视频的完整路径。我还尝试了各种其他路径，例如“./video/etc”、“/video/etc”，但似乎没有任何效果。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:26:50.123

怎么样：

```
var pathToVideo:String = File.applicationDirectory.nativePath + "/video/collection1/1.mp4"; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T14:32:06.330

对。有时`forward and backward slash`这个 resolvePath 基于平台的帮助会出现问题。

```
var filePath:String = File.applicationDirectory.resolvePath("video/collection1/1.mp4").nativePath; 
```

（或者）

```
var filePath:String = File.applicationDirectory.resolvePath("video/collection1/1.mp4").url; 
```

# authentication - 如何在 Windows 商店应用程序中使用 oAuth？

> ID：15242909
> 
> 赞同：1
> 
> 时间：2013-03-06T09:01:15.217
> 
> 标签：authentication, oauth, asp.net-web-api, windows-store-apps

我想知道如何使用外部身份提供者（*twitter、facebook、google、..*）来登录我的应用程序。

我有一个**Windows 商店应用程序**和一个**asp.net Web Rest API**，目标是使用现有帐户（例如 twitter）向我的 Web Api 提供身份。所以我可以检索用户的信息并为他提供正确的信息。

我不明白这个过程以及我可以用什么来做到这一点。一些链接将我引导至*oAuth*，但我不知道如何使用它，我不确定它是否正确。

我的 Web API 是否必须与 twitter 通信，或者所有信息都必须由 WS 应用程序检索并发送到 API？如何在我的 API 中解码检索到的信息？我将能够检索哪些类型的信息（ID？）

有人可以为我提供一些此类工作的教程或示例代码吗？

编辑：看来我必须使用三足 oAuth 或两足版本的 oAuth。我真的不明白我必须使用哪个版本。Twitter 和商店应用程序之间的 2 条腿还是 twitter-WebApi-Windows 商店应用程序之间的 3 条腿？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-07T13:31:39.533

我认为对这个过程进行完整的描述是没有用的，因为它们已经有很多文档了。但是我可以想象很容易迷路，我可以帮助您提供视图指针，但是当您的问题变得更具体时更容易回答您的问题。

首先，使用 OpenId 提供者，用户必须授权您的 Api 才能使用他们的信息。这就是 Oauth 发挥作用的地方。您根据 Oauth2 协议将您的用户重定向到例如 Google。用户将使用他们的谷歌凭据登录并批准您的应用使用他们的信息作为外部 ID。

其次，Twitter 仍在使用 Oauth1 协议，并且在 Oauth2 协议中进行了一些很大的改进，尤其是在简单性方面。所以首先我会从支持 Oauth2 协议的 Facebook/Google/Instagram（它有一个非常好的文档）开始。也看看这张图片：

![Oauth2 流](../Images/73943029d815882fd1a0b3ed7f2e4eb6.png)

也从 Oauth 开始，我会看看 DotNetOpenAuth，这是一个几乎所有复杂逻辑的库。他们有一些不错的示例，您可以[在此处](https://github.com/DotNetOpenAuth/DotNetOpenAuth)下载。我希望这可以帮助您入门。

# java - WebLogic - 识别同一耳朵的多个部署

> ID：15242910
> 
> 赞同：0
> 
> 时间：2013-03-06T09:01:15.857
> 
> 标签：java, jakarta-ee, weblogic

我有 WebLogic 11g 和 12c，还有一个 ear 文件。现在我想在同一个 webLogic 实例上以不同的名称部署同一个耳朵的多个副本。我想要一些 java 代码告诉我我当前在哪些副本中执行代码。

我需要此信息用于多种目的：

*   对于状态屏幕，显示我的身份以进行故障排除
*   用于确定要读取的配置信息

ETC...

我更喜欢不需要特定部署计划的解决方案。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:42:58.840

除了使用`HttpServletRequest#getContextPath()`我没有看到。也许一些java系统属性？我知道在 Spring 中有一个技巧可以做到这一点，看看 Spring 的`WebAppRootListener`实现，你可能会在那里找到你的快乐。

# android - 支持多种屏幕尺寸的RelativeLayout

> ID：15242912
> 
> 赞同：1
> 
> 时间：2013-03-06T09:01:16.730
> 
> 标签：android, android-layout, android-resources, android-screen-support

我有`RelativeLayout`应该支持多个屏幕。问题是：这种方法不好吗？因为基本上我指定了框的宽度和大小，所以我必须为多个屏幕尺寸（`small`, `large`, `xlarge`）更改这些数字，但它们仍然不适合。有更好的方法吗？这是我的布局：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/root"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:background="@drawable/background" >

    <RelativeLayout
        android:id="@+id/wrappedBoxes"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_centerVertical="true"
        android:gravity="center" >

        <ImageView
            android:id="@+id/imgLeft"
            android:layout_width="50dp"
            android:layout_height="60dp"
            android:layout_alignParentLeft="true"
            android:layout_centerVertical="true"
            android:paddingRight="7dp"
            android:scaleType="fitXY" />

        <TextView
            android:id="@+id/txtBlock1"
            android:layout_width="114dp"
            android:layout_height="71dp"
            android:layout_toRightOf="@+id/imgLeft"
            android:background="#30869C"
            android:clickable="true"
            android:gravity="bottom"
            android:padding="1dp"
            android:textColor="#fff" >
        </TextView>

        <RelativeLayout
            android:id="@+id/txtBlock2"
            android:layout_width="114dp"
            android:layout_height="71dp"
            android:layout_marginLeft="7dp"
            android:layout_toRightOf="@+id/txtBlock1"
            android:background="#30869C"
            android:clickable="true"
            android:orientation="vertical"
            android:padding="1dp" >

            <TextView
                android:id="@+id/recKF1Block"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:gravity="top"
                android:paddingTop="0dp"
                android:textColor="#fff" />

            <TextView
                android:id="@+id/recKF1BlockOutOfAmount"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_below="@+id/recKF1Block"
                android:text="dummy of dummy" />
        </RelativeLayout>

        <TextView
            android:id="@+id/txt9876Block"
            android:layout_width="114dp"
            android:layout_height="71dp"
            android:layout_marginLeft="7dp"
            android:layout_toRightOf="@+id/txtBlock2"
            android:clickable="true"
            android:gravity="bottom"
            android:height="71dp"
            android:padding="1dp"
            android:textColor="#fff" >
        </TextView>

        <TextView
            android:id="@+id/txt343477Block"
            android:layout_width="114dp"
            android:layout_height="71dp"
            android:layout_marginLeft="7dp"
            android:layout_toRightOf="@+id/txt9876Block"
            android:background="#30869C"
            android:gravity="top"
            android:padding="1dp"
            android:text=""
            android:textColor="#fff" >
        </TextView>

        <TextView
            android:id="@+id/txt111Block"
            android:layout_width="114dp"
            android:layout_height="71dp"
            android:layout_alignRight="@+id/txtBlock1"
            android:layout_below="@+id/txtBlock1"
            android:layout_marginTop="7dp"
            android:background="#30869C"
            android:clickable="true"
            android:gravity="bottom"
            android:padding="1dp"
            android:textColor="#fff" >
        </TextView>

        <TextView
            android:id="@+id/txtS555Sett"
            android:layout_width="114dp"
            android:layout_height="71dp"
            android:layout_alignLeft="@+id/txtBlock2"
            android:layout_below="@+id/txtBlock2"
            android:layout_marginTop="7dp"
            android:layout_toRightOf="@+id/txt111Block"
            android:background="#30869C"
            android:gravity="bottom"
            android:padding="1dp"
            android:textColor="#fff" >
        </TextView>

        <TextView
            android:id="@+id/txtMm22"
            android:layout_width="237dp"
            android:layout_height="72dp"
            android:layout_alignLeft="@+id/txt9876Block"
            android:layout_below="@+id/txt9876Block"
            android:layout_marginTop="7dp"
            android:layout_toRightOf="@+id/txtS555Sett"
            android:adjustViewBounds="true"
            android:textColor="#000" >
        </TextView>

        <TextView
            android:id="@+id/imgW999"
            android:layout_width="114dp"
            android:layout_height="wrap_content"
            android:layout_alignBottom="@+id/txtMm22"
            android:layout_alignTop="@+id/txt343477Block"
            android:layout_marginLeft="7dp"
            android:layout_toRightOf="@+id/txt343477Block"
            android:gravity="bottom"
            android:textColor="#fff" >
        </TextView>

        <ImageView
            android:id="@+id/imgRi8977"
            android:layout_width="50dp"
            android:layout_height="60dp"
            android:layout_centerVertical="true"
            android:layout_toRightOf="@+id/imgW999"
            android:scaleType="fitXY" />
    </RelativeLayout>

</RelativeLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:08:59.727

为此目的，不要对值进行硬编码，而是使用 dimen 文件。为值指定不同的文件夹，如 values-large 等，并根据屏幕大小创建维度文件并放置特定值。它应该可以帮助你。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:17:34.273

嘿，请像这样创建一个多屏幕尺寸布局文件夹

**layout-small , layout-large , layout-xlarge**所以你将你的布局 XML 文件复制到这些文件夹中，现在你可以编辑框的指定宽度和大小。

# android - Android SurfaceView - 平移或缩放时某些路径延迟呈现

> ID：15242913
> 
> 赞同：0
> 
> 时间：2013-03-06T09:01:17.247
> 
> 标签：android, performance, 2d, android-canvas, surfaceview

我已经使用 Android 的 SurfaceView 和 Canvas 实现了某种矢量图。地图的每个元素都由一个在 for 循环中绘制的路径表示，该循环将每个路径绘制到画布上。

像这样的东西-

```
void doDraw(Canvas canvas)
        {
        canvas.drawColor(Color.WHITE);

        if (mMapModel == null)
            return;

        for (MapElement e : mMapModel.getMapElements()){
            Path[] drawing = e.getDraw();
            canvas.drawPath(drawing[0], mPathFramePaint);   //draw the frame
            mPathFillPaint.setColor(e.color);
            canvas.drawPath(drawing[1], mPathFillPaint);    //draw the fill
} 
```

我遇到的问题是每次平移地图时都会出现非常奇怪的“漂移”行为。似乎某些元素是延迟渲染的，导致它们出现在以前的位置而不是新的实际位置。

您可以在此视频中看到现象 -

[YouTube 上的视频](http://youtu.be/6XpgS1ft0KI)

我试图弄清楚是否有什么我做的不对。在我看来，我不觉得这是一件很繁重的事情，会导致项目渲染得太晚。

这是后台线程正在运行的代码 -

```
public class MapViewThread extends Thread

{

    boolean mRun;

    Canvas mcanvas;

    SurfaceHolder surfaceHolder;

    Context context;

    MapView mMapView;

    public MapViewThread(SurfaceHolder sholder, Context ctx, MapView mapView)
    {
        surfaceHolder = sholder;

        context = ctx;

        mRun = false;

        mMapView = mapView;

    }

    void setRunning(boolean bRun)
    {
        mRun = bRun;
    }

    @Override
    public void run()
    {
        super.run();
        while(mRun)
        {
            mcanvas = surfaceHolder.lockCanvas();
            if(mcanvas != null) 
            {
                mMapView.doDraw(mcanvas);

                surfaceHolder.unlockCanvasAndPost(mcanvas);
            }
        }
    }
} 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-10T18:46:42.877

终于解决了。这是一个线程问题！

在每个平底锅上，我都在一个大的路径列表上进行迭代并更新每个路径的坐标。

在我能够完成更新列表中每个项目的位置之前，渲染线程正在渲染我的路径。

通过两个线程之间的一些同步，我能够解决这个问题。

# c++ - 如何避免由于 Qt 中“相同的信号，不同的插槽”而导致的冲突？

> ID：15242914
> 
> 赞同：1
> 
> 时间：2013-03-06T09:01:19.460
> 
> 标签：c++, qt, qt4, signals

我正在开发一个有 3 个插件的应用程序。主应用程序是一个 Qt 项目，我们还添加了另外 3 个 Qt 项目，它们是主应用程序的插件。

我在 SIGNAL 所在的一个项目中调用 connect 语句**`triggered()`**，该对象如下所示，并且有一个插槽**slt_menuSetIngestDir()**。我在另一个项目中调用一个连接语句，它具有相同的对象、相同的信号**`triggered()`**但具有不同的插槽**slt_IngestDir()。**

**这是项目 1 中的示例连接语句：**

```
connect(PluginLocalManager::getInstance()->getEventIF()->getMenuAction(M_TOOL_SETINGESTDIR), SIGNAL(triggered()), this, SLOT(slt_menuSetIngestDir()) ); 
```

**项目 2 中的示例 Connect 语句：**

```
connect(PluginLocalManager::getInstance()->getEventIF()->getMenuAction(M_TOOL_SETINGESTDIR), SIGNAL(triggered()), this, SLOT(slt_IngestDir()) ); 
```

问题是当我运行应用程序时，当单击特定选项时，它会使用相同的对象触发 SIGNAL 并同时调用两个不同的插槽。

我是否可以断开项目 2 中的信号并确保项目 1 中的连接语句专门用于项目 1，反之亦然？？？我在 Qt 中遇到过`disconnect`声明，但看起来我遗漏了一些东西。请帮忙！！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-07T08:12:12.777

要断开所有插槽与所选信号的连接，请尝试使用 `connect(PluginLocalManager::getInstance()->getEventIF()->getMenuAction(M_TOOL_SETINGESTDIR), SIGNAL(triggered()), 0, 0)`

但它看起来像糟糕的设计，我认为你应该在你的主应用程序中管理连接。

# sql-server - T-SQL如何为组添加序列号，特殊列中的重复值应具有相同的顺序

> ID：15242918
> 
> 赞同：0
> 
> 时间：2013-03-06T09:01:29.140
> 
> 标签：sql-server, sql-server-2008, tsql

我在表中的数据：

```
id gname1 gname2 date1 order1
1 数据 1 1
5 红色数据 5 2
4 蓝色数据 4 3
6 蓝色数据 6 4
3 蓝色 1 数据 3 5
8 蓝色 color2 数据 8 8
2 红色数据 2 6
7 数据 7 7

```

我需要在我的查询中获取一个新的编号列（order2），应该按现有的“order1”列排序，如果“gname1 不为空”并且“gname1 和 gname2 都相同”，我们应该使用相同的值（组中的第一个），所以#5=#2=2 和#4=#6=3。

我想要的是：

```
id gname1 gname2 date1 order1 order2
1 数据 1 1 1
5 红色数据 5 2 2
4 蓝色数据 4 3 3
6 蓝色数据 6 4 3
3 蓝色 1 数据 3 5 4
2 红色数据 2 6 2
7 数据 7 7 5
8 蓝色 2 数据 8 8 6

```

数据库：sql server 2008

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:45:45.713

我认为您需要重新设计您的架构，因为这对我来说似乎有点不愉快。

但是，如果您真的想这样做，那么以下查询将起作用：

```
;WITH cte([id],[gname1],[gname2],[date1],[order1])
AS
(
            SELECT 1 [id],  NULL [gname1],  NULL [gname2],  'data 1' [date1],   1 [order1]
UNION ALL   SELECT 5,       'red',          NULL,           'data 5',           2
UNION ALL   SELECT 4,       'blue',         NULL,           'data 4',           3
UNION ALL   SELECT 6,       'blue',         NULL,           'data 6',           4
UNION ALL   SELECT 3,       'blue',         'color1',       'data 3',           5
UNION ALL   SELECT 8,       'blue',         'color2',       'data 8',           8
UNION ALL   SELECT 2,       'red',          NULL,           'data 2',           6
UNION ALL   SELECT 7,       NULL,           NULL,           'data 7',           7
)

SELECT
     [id]
    ,[gname1]
    ,[gname2]
    ,[date1]
    ,DENSE_RANK() OVER(ORDER BY [order1]) [order1]
FROM
    (
        SELECT 
             x.[id]
            ,x.[gname1]
            ,x.[gname2]
            ,x.[date1]
            ,MIN(ISNULL(y.order1, x.order1)) [order1]
        FROM 
            cte x
        LEFT OUTER JOIN 
            cte y
            ON
            x.gname1 IS NOT NULL 
            AND
            x.gname1 = y.gname1
            AND
            ISNULL(x.gname2, '') = ISNULL(y.gname2, '')
        GROUP BY
            x.[id],x.[gname1],x.[gname2],x.[date1]
    ) z 
```

# c# - WPF：使用 WebBrowser 显示 PDF 文件

> ID：15242921
> 
> 赞同：0
> 
> 时间：2013-03-06T09:01:36.433
> 
> 标签：c#, wpf, path, browser

我有一个 pdf 文件放置在资源文件夹中。我想使用 WebBrowser 控件显示 PDF 文件。主要问题是找到 PDF 的相对路径并将其转换为绝对路径，因为 WebBrowser 不支持相对路径。

到目前为止，我有以下代码（*简化版*）：

```
string GuidePath = "../Resources/Guide/LogViwer User Manual.pdf";
string fullPath = Path.GetFullPath(GuidePath);
Uri GuideURI = new Uri(fullPath, UriKind.Absolute);
Browser.Navigate(GuideURI); 
```

“浏览器”是 WebBrowser 的一个实例。

我得到的例外是：

> 找不到...路径... 确保路径和 Internet 地址正确。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T09:57:30.243

在文件属性中“复制到输出”必须设置为“如果较新则复制”，并且必须将代码编辑为：

```
string GuidePath = @"./Resources/Guide/LogViwer User Manual.pdf"; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:07:33.500

根据`WebBrowser`该类的文档，Navigate 方法需要一个 URI，而不是文件系统路径。多亏了这个类，你应该能够解决这个问题`Uri`：

```
Browser.Navigate(new Uri(fullPath)); 
```

虽然我没有测试过所以没有承诺。

# c# - 如何将 GridView 的一列绑定到 DropDownList？

> ID：15242923
> 
> 赞同：0
> 
> 时间：2013-03-06T09:01:37.727
> 
> 标签：c#, asp.net

我有一个 GridView，我想将第一个 Column(teachername) 与我在 GridView 之外的 DropDownList 绑定。我怎样才能让它工作？

```
 protected void Button2_Click(object sender, EventArgs e)
{
     string q = "select * from teacher where teachername='" + drpteachername.SelectedItem.ToString() + "'  and ('2013-03-01' between date and todate) and '2013-03-31' between date and todate";
    dt = dbo.Getdt(q);
    GridView1.DataSource = dt;
    GridView1.DataBind();
    string teachername=drpteachername.SelectedItem.ToString();

    for (int i = 0; i < dt.Rows.Count ;i++ )
    {
        Label lblteachername = (Label)GridView1.Rows[i].Cells[0].FindControl("lblgridteachername");

                  this.GridView1.Rows[i].Cells[0].Value = teachername;
    }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:11:05.870

尝试使用`this.GridView1.Rows[i].Cells[0].Value = teachername;`

如果您感到任何困惑，请不要犹豫写。

该语句应嵌入 for 循环中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:25:43.287

您可以在预渲染事件中获取它。

```
protected void GridView1_PreRender(object sender, EventArgs e)
    {
        Label lblteachername = (Label)GridView1.Rows[i].FindControl("lblgridteachername");
         lblteachername.Text = teachername; 
    } 
```

# android - 点击ImageButton时的下拉菜单（SubMenu）如图

> ID：15242924
> 
> 赞同：0
> 
> 时间：2013-03-06T09:01:42.843
> 
> 标签：android, submenu

任何人都可以帮助我了解如何在单击 imagebutton 时获取子菜单，如下图所示。
先感谢您。 ![在此处输入图像描述](../Images/244246263d8666c0c40fff2ffbc530f3.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-06T12:55:59.293

我认为是 PopupWindow

你应该看看这个页面 [http://android-er.blogspot.com/2012/03/example-of-using-popupwindow.html](http://android-er.blogspot.com/2012/03/example-of-using-popupwindow.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:06:11.350

您使用所需的子菜单选项在 xml 中创建一个视图，并在菜单选项的 onClick 期间膨胀视图并显示它。它会正常工作。我建议你使用片段来使代码可重用。

# asp.net-mvc - 使用单选按钮单击、MVC 和 JQuery 调用操作

> ID：15242926
> 
> 赞同：0
> 
> 时间：2013-03-06T09:01:50.723
> 
> 标签：asp.net-mvc, jquery

我有两个单选按钮，并希望向单选按钮添加一个单击事件，这样当有人单击一个单选按钮时，它会调用一个动作来呈现部分视图，这是我的单选按钮：

```
<p>
<input id="SelectedInterestRate" type="radio" value="1" name="SelectedInterestRate"     data-val-number="The field must be a number." data-val="true">
<input id="Term" type="hidden" value="12" name="Term">
<input id="InterestRate" type="hidden" value="12.5" name="InterestRate">
<label for="SelectedInterestRate">Finance Test (12.5% APR - 12 Months)</label>
<input id="SelectedInterestRate" type="radio" value="2" name="SelectedInterestRate">
<input id="Term" type="hidden" value="12" name="Term">
<input id="InterestRate" type="hidden" value="18.25" name="InterestRate">
<label for="SelectedInterestRate">Direct finance (18.25% APR - 12 Months)</label>
</p> 
```

我的 Javascript 看起来像这样（我知道这是错误的）

```
$('[name="SelectedInterestRate"]').change(function() {
        alert("interesting here .......");
         var repayblein = $(this).closest("div.divFinanceDetails").find("input Term").val();
    $.ajax({
        type: "POST",
        url: "FinancePayment/SelectedRepaymentMethod",
        data: {
            InterestRate: $(this).closest("div.divFinanceDetails").find("input InterestRate").val(),
            RepayableIn: repayblein
        },
        success: function (partialView) {
            $("FinanceDetailsPlan").html(partialView);
        }
    });
    }); 
```

有人有建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T10:52:50.953

答案是：

```
$(':input[name="SelectedInterestRate"]').change(function() {
    alert("interesting here .......");
     var repayblein = $(this).closest("div.divFinanceDetails").find("input Term").val();
$.ajax({
    type: "POST",
    url: "FinancePayment/SelectedRepaymentMethod",
    data: {
        InterestRate: $(this).closest("div.divFinanceDetails").find("input InterestRate").val(),
        RepayableIn: repayblein
    },
    success: function (partialView) {
        $("FinanceDetailsPlan").html(partialView);
    }
});
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:33:52.997

您的选择器存在一些问题。按 ID 选择时，您必须在选择器前面加上`#`. 此外，您的某些元素具有重复的 ID，这不是一个好的做法，而且众所周知，选择非常困难。

**还有，什么是`div.divFinanceDetails`？它甚至不在您发布的代码中**

考虑到这些要点，试试这个：

```
$('[name="SelectedInterestRate"]').change(function() {
    alert("interesting here .......");
    var repayblein = $(this).closest("div.divFinanceDetails").find("input[name='Term']").val();
$.ajax({
    type: "POST",
    url: "FinancePayment/SelectedRepaymentMethod",
    data: {
        InterestRate: $(this).closest("div.divFinanceDetails").find("input[name='InterestRate']").val(),
        RepayableIn: repayblein
    },
    success: function (partialView) {
        $("#FinanceDetailsPlan").html(partialView);
    }
});
}); 
```

# java - Get number of elements in a sorted array that fall within a certain range in log(n) time

> ID：15242930
> 
> 赞同：2
> 
> 时间：2013-03-06T09:01:57.150
> 
> 标签：java, algorithm, search, big-o

Say I have an array of the following class sorted in ascending order by y:

```
public class Obj {
    public int x;
    public int y;
} 
```

How can I find the number of Obj items in the array that have y values within the min and max range given in log (N) time?

I've thought about using binary search to find the locations of the min and max elements with binarySearch and subtracting, but wouldn't that be 2 log (n) since it's searching twice?

```
public static int getNumberOfItems(Obj[] a, int min, int max) { 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T09:05:24.807

当你被要求及时做某事`log(n)`时，这通常意味着`O(log(n))`。

如果这里是这样的话，值得注意的是`O(2 log(n)) == O(log(n))`，即两者是一回事。

有关大哦符号的更多背景信息，请参阅[Wikipedia 页面](http://en.wikipedia.org/wiki/Big_O_notation)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:14:57.043

bin 搜索适用于该方法，O(log N) 表示 c * log N。
因此 bin 搜索很好，但您可以通过 searchomg 在范围 (minFoundIndex, N) 内优化 maxIndex searchimg 的 bin 搜索调用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-20T12:52:15.287

这个问题与[此处](https://stackoverflow.com/questions/15292280/how-to-find-number-of-integers-in-a-sorted-array-that-are-within-a-certain-range)相同，我在此处给出了**O(logn)**实现。

这个想法是通过范围二进制搜索来寻找下限和上限。对于您的示例，所有值都在谈论**y**值。

* * *

1.  **对于下界（左范围）**，您可以调用以下函数来获取排序数组中值大于或等于它的索引，否则为-1。

    ```
    int binarySearchForLeftRange(int a[], int length, int left_range)
    {
        if (a[length-1] < left_range)
            return -1;

        int low = 0;
        int high = length-1;

        while (low<=high)
        {
            int mid = low+((high-low)/2);

            if(a[mid] >= left_range)
                high = mid-1;
            else //if(a[mid]<i)
                low = mid+1;
        }

        return high+1;
    } 
    ```

2.  **对于上界（右范围）**，您可以调用以下函数来获取排序数组中值小于或等于它的索引，否则为-1。

    ```
    int binarySearchForRightRange(int a[], int length, int right_range)
    {
        if (a[0] > right_range)
            return -1;

        int low = 0;
        int high = length-1;

        while (low<=high)
        {
            int mid = low+((high-low)/2);

            if(a[mid] > right_range)
                high = mid-1;
            else //if(a[mid]<i)
                low = mid+1;
        }

        return low-1;
    } 
    ```

3.  **最后**，如果你想得到这个范围内有多少个元素，根据上面这两个函数的返回值很容易。

    ```
    int index_left = binarySearchForLeftRange(a, length, left_range);
    int index_right = binarySearchForRightRange(a, length, right_range);

    if (index_left==-1 || index_right==-1 || index_left>index_right)
        count = 0;
    else
        count = index_right-index_left+1; 
    ```

* * *

**测试**：（有重复）

```
 int a[] = {1,2,4,4,5,8,12,15,15,23,54};
    int length = sizeof(arr)/sizeof(arr[0]);

    int left_range = 4;
    int right_range = 15;
    int index_left = binarySearchForLeftRange(a, length, left_range); // will be 2
    int index_right = binarySearchForRightRange(a, length, right_range); // will be 8

    int count; // will be 7
    if (index_left==-1 || index_right==-1 || index_left>index_right)
        count = 0;
    else
        count = index_right-index_left+1; 
```

# c# - 如何使用具有默认行的 ListView 并添加新行？

> ID：15242931
> 
> 赞同：0
> 
> 时间：2013-03-06T09:01:58.120
> 
> 标签：c#, asp.net, listview, active-directory, listviewitem

我想为我的 ASP.NET 应用程序使用 ListView，如果我启动应用程序，我希望 ListView 有一行，而这一行有几列带有 TextBoxes。该应用程序用于在活动目录中创建一个设备，如果用户将数据放在一个设备的第一行并且用户有另一个设备，他可以单击一个符号为第二个设备创建第二行。如果他单击保存按钮，则应用程序会在两个设备的活动目录中创建条目。

我的问题现在是如何使用具有默认行的 Listview 并在单击按钮时创建新行。每个人都可以帮助我或向我展示好的网站。

![在此处输入图像描述](../Images/36c9ffc2384b3e8497d8180c47a423c0.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:10:24.410

你应该看看[这篇文章](http://www.codeproject.com/Articles/24570/Complete-ListView-in-ASP-NET-3-5)。

基本上，您要做的就是让您的“空”`ListView`包含一行文本输入框，一旦用户单击“添加”按钮，您在该行上方插入一行并清除所有输入框。

顺便说一句，这篇文章还向您展示了如何编辑和删除列表中的现有项目。

# android - Passing ArrayList of an object from one activity to another in android

> ID：15242944
> 
> 赞同：0
> 
> 时间：2013-03-06T09:02:25.397
> 
> 标签：android

So the case is i want to send data from one activity to another with the help of ArrayList of objects. Below is the class code which i want to use as object. So please tell me that where i am going wrong.

```
class UserData implements Parcelable{
private String name, phone, city, username, password;
private String userDetails[];
private UserData(Parcel in){
    city = in.readString();
    name = in.readString();
    password = in.readString();
    phone = in.readString();
    username = in.readString();
}
@Override
public int describeContents() {
    // TODO Auto-generated method stub
    return 0;
}

@Override
public void writeToParcel(Parcel out, int flags) {
    // TODO Auto-generated method stub
    out.writeStringArray(getDetails());
}

public static final Parcelable.Creator<UserData> CREATOR = new Parcelable.Creator<UserData>() {
    public UserData createFromParcel(Parcel in){
        return new UserData(in);
    }

    @Override
    public UserData[] newArray(int size) {
        // TODO Auto-generated method stub
        return new UserData[size];
    }
};
/*set method to set all the data that will be taken from the edit texts*/
public UserData(String n, long p, String c, String user, String pass){
    name = n;
    phone = Long.valueOf(p).toString();
    city = c;
    username = user;
    password = pass;
}

/*get method to retrieve data in others activities such as signin and detailspage*/
String[] getDetails(){
    userDetails = new String[]{name, phone, city, username, password};
    return userDetails;
} 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-03-03T11:15:19.187

首先在您的自定义类中创建两个方法

```
public class Qabir {

public int age;
public String name;

Qabir(){
}

Qabir(int age,String name){
    this.age=age; this.name=name;
}   

// method for sending object
public String toJSON(){
    return "{age:" + age + ",name:\"" +name +"\"}";
}

// method for get back original object
public void initilizeWithJSONString(String jsonString){

    JSONObject json;        
    try {
        json =new JSONObject(jsonString );
        age=json.getInt("age");
        name=json.getString("name");
    } catch (JSONException e) {
        e.printStackTrace();
    } 
} 
```

}

然后创建一个函数来发送对象列表

```
 @Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    Qabir q1 = new Qabir(22, "KQ");
    Qabir q2 = new Qabir(23, "K Q");
    Qabir q3 = new Qabir(24, "K_Q");

    ArrayList<Qabir> list = new ArrayList<Qabir>();

    list.add(q1);
    list.add(q2);
    list.add(q3);

    Intent in = new Intent(this, SubActivity.class);
    in.putExtra("obj", arrayListToJSON(list));
    startActivity(in);
}

private String arrayListToJSON(ArrayList<Qabir> al) {
    JSONArray array = new JSONArray();
    try {
        for (int i = 0; i < al.size(); i++) {
            array.put(new JSONObject(al.get(i).toJSON()));
        }
    } catch (JSONException e) {
        e.printStackTrace();
    }
    return array.toString();
} 
```

并在接收器上创建另一个功能

```
 @Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    ArrayList<Qabir> list = new ArrayList<Qabir>();

    list = getObjectList(getIntent().getStringExtra("obj"));

    Log.e("Activity 2", "" +list.size());
}

private ArrayList<Qabir> getObjectList(String st) {

    ArrayList<Qabir> list = new ArrayList<Qabir>();
    JSONArray array = null;
    try {
        array = new JSONArray(st);
    } catch (JSONException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }

    for (int i = 0; i < array.length(); i++) {
        try {
            Qabir q= new Qabir();
             q.initilizeWithJSONString(""+array.get(i));
             list.add(q);
        } catch (JSONException e) {
            e.printStackTrace();
        }
    }
    return list;
} 
```

享受....

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-05T11:45:54.973

第一项活动

```
 Arraylist<String> values;

        Intent it=new Intent(MainActivity.this,Next.class);
        it.putExtra("value", values);
        startActivity(it); 
```

第二次活动

```
 Arraylist<String> list;

list=(ArrayList<String>) getIntent().getSerializableExtra("value"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T09:15:54.227

试试这个，把你的arraylist使用`putStringArrayListExtra`

```
Intent i = new Intent(MainActivity.this,Nextactivity.class);
i.putStringArrayListExtra("arraylist", arraylist); 
```

并获取arraylist。

```
Intent i = getIntent();
list = i.getIntegerArrayListExtra("arraylist"); 
```

# android - Application stops when clicked on Button

> ID：15242948
> 
> 赞同：0
> 
> 时间：2013-03-06T09:02:41.803
> 
> 标签：android, onclick, textview

Whenever i click on Submit button, i get an error "Unfortunately, Application has stopped working." Please can you help me out.

Code-

```
 public void onClick(View v) {
            TextView t = (TextView) findViewById(R.id.textView4);   
            if(from == to)
            {
                Toast.makeText(getApplicationContext(), "Invalid", 4000).show();

            }

            else
            {                                       
                  try {
                     s = getJson("URL");                        
                    JSONObject jObj;
                    jObj = new JSONObject(s);
                    String exResult = jObj.getJSONObject("query").getJSONObject("results").getJSONObject("rate").getString("Rate");
                    t.setText(exResult);
                    } catch (JSONException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    }
                    catch (ClientProtocolException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    } catch (IOException e) {
                        // TODO Auto-generated catch block
                        e.printStackTrace();
                    }                                                    
                }   

            }                               
    });
} 
```

LogCat -

03-15 12:06:17.508: E/AndroidRuntime(877): FATAL EXCEPTION: main 03-15 12:06:17.508: E/AndroidRuntime(877): android.os.NetworkOnMainThreadException 03-15 12:06:17.508: E/AndroidRuntime(877): at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1117) 03-15 12:06:17.508: E/AndroidRuntime(877): at java.net.InetAddress.lookupHostByName(InetAddress.java:385) 03-15 12:06:17.508: E/AndroidRuntime(877): at java.net.InetAddress.getAllByNameImpl(InetAddress.java:236) 03-15 12:06:17.508: E/AndroidRuntime(877): at java.net.InetAddress.getAllByName(InetAddress.java:214) 03-15 12:06:17.508: E/AndroidRuntime(877): at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:137) 03-15 12:06:17.508: E/AndroidRuntime(877): at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164) 03-15 12:06:17.508: E/AndroidRuntime(877): at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119) 03-15 12:06:17.508: E/AndroidRuntime(877): at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360) 03-15 12:06:17.508: E/AndroidRuntime(877): at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555) 03-15 12:06:17.508: E/AndroidRuntime(877): at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487) 03-15 12:06:17.508: E/AndroidRuntime(877): at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:465) 03-15 12:06:17.508: E/AndroidRuntime(877): at myandroid.myfirstmodule.sconverter.getJson(sconverter.java:163) 03-15 12:06:17.508: E/AndroidRuntime(877): at myandroid.myfirstmodule.sconverter$1.onClick(sconverter.java:96) 03-15 12:06:17.508: E/AndroidRuntime(877): at android.view.View.performClick(View.java:4084) 03-15 12:06:17.508: E/AndroidRuntime(877): at android.view.View$PerformClick.run(View.java:16966) 03-15 12:06:17.508: E/AndroidRuntime(877): at android.os.Handler.handleCallback(Handler.java:615) 03-15 12:06:17.508: E/AndroidRuntime(877): at android.os.Handler.dispatchMessage(Handler.java:92) 03-15 12:06:17.508: E/AndroidRuntime(877): at android.os.Looper.loop(Looper.java:137) 03-15 12:06:17.508: E/AndroidRuntime(877): at android.app.ActivityThread.main(ActivityThread.java:4745) 03-15 12:06:17.508: E/AndroidRuntime(877): at java.lang.reflect.Method.invokeNative(Native Method) 03-15 12:06:17.508: E/AndroidRuntime(877): at java.lang.reflect.Method.invoke(Method.java:511) 03-15 12:06:17.508: E/AndroidRuntime(877): at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786) 03-15 12:06:17.508: E/AndroidRuntime(877): at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553) 03-15 12:06:17.508: E/AndroidRuntime(877): at dalvik.system.NativeStart.main(Native Method)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T09:14:28.650

为什么不在这样的布局中实现 onclickevent：

```
<Button
    android:id="@+id/button2"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="Click Here"
    android:onClick="btnClicked" /> 
```

然后定义方法`btnClicked()`。我认为这样你就可以通过自定义方法使用这个 onClickListener。您甚至可以对 button1 使用相同的方法，并在其中确定调用了哪个按钮。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:23:45.423

我不确定您在代码中的目标到底是什么。但我不认为将 submitfinal 的 onClick 放在按钮 b 的 onCLick 内是正确的做法。您需要单独处理它们。如果你想在一个 onClickListener 中这样做，你可以这样做：

```
 int x, y, product; 
  public OnClickListener buttonClickListener = new OnClickListener() {
        @Override
        public void onClick(View v) {
                switch (v.getId()) {

            case <button b id>: 
                //fetch values of x and y
                                    x = Integer.parseInt(yourtextbox1.getText().toString());
                                    y = Integer.parseInt(yourtextbox2.getText().toString());
            break;
            case <button submit final id>: 
                //multiply x and y
                       product = x*y;
                    //display the product
                       yourtextbox3.setText(product);
            break;
            }
     };

 b.setOnClickListener(buttonClickListener);
 submitFinal.setOnClickListener(buttonClickListener); 
```

编辑：

在您当前的代码中，移动以下行：

```
 t = (TextView) findViewById(R.id.textView4);    
 displayfinal = (TextView) findViewById(R.id.textView3); 
```

在您的 onclick 侦听器之外。

希望有帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T10:06:58.413

您可能会尝试将第二个按钮的侦听器从 else 块中移出。我认为将侦听器放在另一个侦听器中不是一个好习惯

# android - ActionBarSherlock 自定义 ActionBar 布局 - 主页图标不见了

> ID：15242956
> 
> 赞同：1
> 
> 时间：2013-03-06T09:02:46.703
> 
> 标签：android, actionbarsherlock

我在我的 ABS 上使用自定义布局`ActionBar`，比如

```
 View abview = getLayoutInflater().inflate(R.layout.custombar, null);
    getSupportActionBar().setCustomView(abview); 
```

现在没有主页/向上按钮，我已经尝试过：

```
getSupportActionBar().setHomeButtonEnabled(true); 
```

在 my 上使用自定义视图时`ActionBar`，我必须自己处理向上按钮吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-07-16T19:08:56.053

我遇到了同样的问题，它似乎取决于您指定的顺序。以下是我如何显示我的自定义视图，同时仍保留 home/back 操作（此代码在 中`onCreateOptionsMenu`）：

```
ActionBar actionBar = getSupportActionBar();
// 1) Inflate your menu, if you have also need actions
getSupportMenuInflater().inflate(R.menu.normal_action_menu, menu);
// 2) Set your display to custom next
actionBar.setDisplayOptions(ActionBar.DISPLAY_SHOW_CUSTOM);
// 3) Do any other config to the action bar
actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_STANDARD);
actionBar.setDisplayShowHomeEnabled(true);
actionBar.setDisplayHomeAsUpEnabled(true);
actionBar.setDisplayShowTitleEnabled(false);
// 4) Now set your custom view
actionBar.setCustomView(R.layout.custom_view); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-06T10:00:57.460

如果在 ActionBar (ActionBarsherlock) 中使用自定义视图，则必须自行管理所有 actionBar。所以最好保留 ActionBar 并将 xml 设置为背景和/或在特定元素中设置 customview。您想在自定义操作栏中做什么？

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-07T13:49:46.540

您可以在操作栏中添加自定义操作视图，如下所示：

```
@Override
public boolean onCreateOptionsMenu(Menu menu) {
    if (DEBUG_MODE) {
        Log.d(TAG, "onCreateOptionsMenu()");
    }
    getSupportMenuInflater().inflate(R.menu.menu_generic, menu);

    // Progress
    final MenuItem progress = menu.findItem(R.id.menu_progress);
    progress.setActionView(R.layout.action_view_progress);

    mProgressText = (TextView) progress.getActionView().findViewById(R.id.total_achievement_text);

    return super.onCreateOptionsMenu(menu);
} 
```

menu_genric.xml：

```
<?xml version="1.0" encoding="utf-8"?>
<menu xmlns:android="http://schemas.android.com/apk/res/android" >
<item
    android:id="@+id/menu_progress"
    android:showAsAction="always"/>
</menu> 
```

之后，您可以参考 mProgressText 增加您的数量

# highcharts - Highcharts - 显示堆栈标签

> ID：15242960
> 
> 赞同：0
> 
> 时间：2013-03-06T09:03:07.453
> 
> 标签：highcharts

我想创建一个这样的图表

[http://msdn.microsoft.com/en-us/library/Aa964128.moressrschartsfig01c(l=en-US,v=sql.90).gif](http://msdn.microsoft.com/en-us/library/Aa964128.moressrschartsfig01c(l=en-US,v=sql.90).gif)

但图表在 Microsoft Reporting 中，我想要在 DotnetHighcharts 中。

当我在 Highcharts Demo 中搜索时，我发现了一张类似的图表，但没有组标签（男、女）。

[http://www.highcharts.com/demo/column-stacked-and-grouped](http://www.highcharts.com/demo/column-stacked-and-grouped)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:10:26.473

关于 highcharts 分组类别的例子很多

[示例 1](http://jsfiddle.net/9WUQy/3/)

[示例 2](http://jsfiddle.net/g87AE/3/)

[示例 3](http://jsfiddle.net/hfrntt/pMA2H/3/)

定义类别

```
xAxis: [{
    categories: ['Australia', 'Germany', 'Australia', 'Germany'], 
```

将类别分配给组

```
data: [['Group1', 20],['Group1',30],['Group2', 35],['Group2', 25]]
}, 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-06T09:16:14.283

参考这个链接：

[highcharts 列标签](https://stackoverflow.com/questions/12197047/highcharts-column-labels)

请参阅下面小提琴中的类别部分，它们显示了您需要的非常好的示例：

[演示](http://jsfiddle.net/WQjVP/3/)

用这个

```
xAxis: {
    categories: ["Location A","Location B","Location C"],
    title: {
        text: "Location"

    }
}, 
```

或这个

```
xAxis: [{
categories: [{
name: 'fruits'
children: ['orange', 'mango']
},{
name: 'birds'
children: ['eagle', 'parrot']
}]
}] 
```

希望这可以帮助你。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-28T06:41:02.753

Black Label 推出了用于分组类别的 Highcharts 插件。

见这里[https://github.com/blacklabel/grouped_categories/](https://github.com/blacklabel/grouped_categories/)

# c# - how to set webbrowser control document body size according to webbrowser control size

> ID：15242961
> 
> 赞同：0
> 
> 时间：2013-03-06T09:03:10.130
> 
> 标签：c#, winforms, webbrowser-control

my webbrowser control height and width is minimum as compare to page that i load in to webbrowser control thats why page not completely show in my webbrowser control. i want to show full page in give height width of webbrowser control. any suggestion. Thanks in advance.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T16:24:07.337

我真的不明白你在说什么，但从假设听起来你想知道如何使 webBrowser 控件更宽以便能够看到网页。

如果您只想显示滚动条，只需确保控件的`ScrollBarsEnabled`标志设置为 true。

# c - Stage3D and pthreads

> ID：15242969
> 
> 赞同：0
> 
> 时间：2013-03-06T09:03:27.610
> 
> 标签：c, pthreads, stage3d, flascc

So I downloaded flascc, and messed around with the sample.

sample 09 (threads) and sample 12 (stage3D) worked well by themselves, but when I tried to run threads in Stage3D sample, they were never started.

Here's a code I have in main()

```
pthread_t thread;
printf("Start a thread");
int val = pthread_create(&thread, NULL, threadProc, NULL);

// Setup the stage
stage = internal::get_Stage();
stage->scaleMode = flash::display::StageScaleMode::NO_SCALE;
stage->align = flash::display::StageAlign::TOP_LEFT;
stage->frameRate = 60;

// Ask for a Stage3D context to be created
s3d = var(var(stage->stage3Ds)[0]);
s3d->addEventListener(flash::events::Event::CONTEXT3D_CREATE, Function::_new(initContext3D, NULL));
s3d->addEventListener(flash::events::ErrorEvent::ERROR, Function::_new(context3DError, NULL));
s3d->requestContext3D(flash::display3D::Context3DRenderMode::AUTO,
                      flash::display3D::Context3DProfile::BASELINE_CONSTRAINED);

// Suspend main() and return to the Flash runloop
AS3_GoAsync(); 
```

and here's the function

```
void *threadProc(void *arg)
{
      printf("From a thread!");
} 
```

threadProc never gets executed.

I found [this](http://www.adobe.com/devnet-docs/flascc/docs/Reference.html#section_concurrency) manual page, but I don't think there's anything there. What am I missing?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-30T22:36:10.190

老话题，但我觉得我应该为那些窥探 FlasCC(Crossbridge) 和线程的人澄清一下。根据我的经验，“pthread_join”（Adobe 论坛上有一个关于此的论坛主题）只是将所有内容锁定在 FlasCC 1.0.1 和转发（即对于 Crossbridge 相同）。不知道为什么它还没有修复，这是一个非常严重的问题。

如果您使用 FlasCC 1.0 编译 pthread_join 不会锁定 Flash。

至于问题的其余部分，我不确定 - 只是指“pthread_join”问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:17:19.107

线程永远不会被执行，因为它没有机会。当它开始时（顺便说一句，你不能依赖它），主程序已经完成了。

将以下行添加到您的`main`after `pthread_create`：

```
 pthread_join(thread, NULL); 
```

这将在允许`main`运行的线程完成之前等待您的线程完成。

查看[实时示例](http://liveworkspace.org/code/100QHe%2413)

# gwt - How to make GWT panel resizable depending upon the content in the panel?

> ID：15242970
> 
> 赞同：1
> 
> 时间：2013-03-06T09:03:29.877
> 
> 标签：gwt

I am working on a piece of code in which I have a panel and say 5 radio buttons listed vertically. Next I change this number to 15 but my panel size is say 100*100 in which last few radio buttons will not get displayed. So now I want my panel to resize automatically depending upon the inner panel size. How could I achieve this?

Thanks in advance!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T11:55:57.473

1.  要使您的应用程序能够调整浏览器的大小，您应该首先开始使用[LayoutPanels](https://developers.google.com/web-toolkit/doc/latest/DevGuideUiPanels#LayoutPanels)。

2.  然后记住您必须以百分比设置面板、小部件`width`和属性`height`

3.  确保整个层次结构仅包含[LayoutPanel](https://developers.google.com/web-toolkit/doc/latest/DevGuideUiPanels#LayoutPanels)

4.  在调整应用程序大小时永远不要使用绝对面板

如果您像我一样在使用[LayoutPanels](https://developers.google.com/web-toolkit/doc/latest/DevGuideUiPanels#LayoutPanels)时遇到麻烦，以下链接将为您提供帮助

[GWT Re-sizing components on browser window resize](https://stackoverflow.com/questions/8771922/gwt-re-sizing-components-on-browser-window-resize)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T09:21:15.830

这在很大程度上取决于您在屏幕设计和布局方面的经验。您可以搜索响应式和自适应布局概念并使用 GWT 进行尝试。

首先 - 您应该参考 GWT 尝试使用[LayoutPanel调整大小的屏幕](https://developers.google.com/web-toolkit/doc/latest/DevGuideUiPanels#LayoutPanels)

您也可以尝试在您的情况下使用滚动面板（如果出现 50 个按钮，那么场景是什么？）

# php - Codeigniter - 动态获取应用程序文件夹之外的相对/绝对路径

> ID：15242972
> 
> 赞同：44
> 
> 时间：2013-03-06T09:03:40.363
> 
> 标签：php, codeigniter, relative-path

我正在尝试在应用程序文件夹之外并与应用程序文件夹处于同一级别的各种临时缓存文件夹。这是为了在将图像移出现场之前将图像存储片刻。

我正在尝试获取用户的 Facebook 个人资料图像并将其保存到我的服务器。我有一个图像存储解决方案，需要我拍摄照片并重命名，然后将其传递到相应的位置进行存储。我的想法正在使用`file_get_contents()`，`file_put_contents()`我可以在相应地处理它的同时存储这个文件片刻，然后将它复制/移动到我的存储方法中。但是我不希望临时目录位于应用程序文件夹中 - 我希望它与应用程序和系统文件夹处于同一级别。我的问题是访问相对路径或绝对路径（在应用程序文件夹的同一级别）而不对其进行硬编码。

使用`(__dir__)`,`(__file__)`和类似的东西`realpath(APPPATH)`只会在应用程序文件夹中给我结果。所以我希望其他人知道实现这一目标的方法

* * *

## 回答 #1

> 赞同：133
> 
> 时间：2013-03-06T09:13:56.440

在`index.php`根目录中的文件中，定义了最有用的路径，以便您可以在其余代码中使用它们。你试过`FCPATH`这种情况吗？

```
FCPATH   -> '/'
BASEPATH -> '/system/'
APPPATH  -> '/application/' 
```

**更新：**如评论中所述，上面的路径示例仅用于概述。为了增加项目的安全性，`BASEPATH`并且`APPPATH`不会在 public /目录内部`FCPATH`而是外部。`www``root`

# dojo - dojo1.8 - 在画布上放置一个实例化的选择小部件并使用选项填充它

> ID：15242973
> 
> 赞同：0
> 
> 时间：2013-03-06T09:03:42.313
> 
> 标签：dojo

请看我的[链接](http://jsfiddle.net/clementyap/pzAcm/75/)

我已设置并实例化选择总线无法填充选项。另外我不确定如何在画布中放置小部件。

```
var response1 = [{
    "test": "Mk7ABC Card",
    "use": "lit"
}, {
    "test": "Mk7CBC Card",
    "use": "lit"
}, {
    "test": "Mk10BC Card",
    "use": "lit"
}, {
    "test": "Mk7CBC Card",
    "use": "dim"
}]

var memoStore1 = new Memory({
    data: response1
});

declare("buildSelect", [_WidgetBase], {
    buildRendering: function () {
        this.domNode = domConstruct.create("select", {})
    }
});

 new buildSelect({
        id: "selectTest",
        store: memoStore1,
        searchAttr: "test"
    }).placeAt(dom.byId('mfg_codeSelect')); 
```

提前感谢克莱门特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T15:44:49.150

有几件事让我印象深刻：

*   您正在扩展 _WidgetBase，但听起来您想扩展 dijit/form/Select
*   您正在覆盖 buildRendering() 并且不允许父类的 buildRendering() 运行。你可能想做这样的事情：

    ```
    buildRendering: function () {
        this.domNode = domConstruct.create("select", {})
        this.inherited(arguments);
    } 
    ```

# java - Android 片段：尽管调用了 onSaveInstanceState，但 savedInstanceState 始终为 null

> ID：15242977
> 
> 赞同：3
> 
> 时间：2013-03-06T09:03:49.753
> 
> 标签：java, android

片段方法**onCreateView**总是使用**savedInstanceState**空值调用。

我要做的是：

1.  FragmentA 在活动内部创建。
2.  创建 FragmentB 并替换 FragmentA，如下所示：

    `FragmentTransaction ft = fragmentA.getActivity().getFragmentManager().beginTransaction(); ft.replace(R.id.fragment_container, fragmentB); ft.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN); ft.addToBackStack(null); ft.commit();`

3.  调用 fragmentA的方法`onSaveInstanceState`。在覆盖的方法内部，`super.onSaveInstanceState(outState)`写在顶部。

4.  我从 Android UI 按返回按钮弹出 FragmentB 并再次显示 fragmentA。

5.  再次调用 FragmentA 的方法`onCreateView`，但 savedInstanceState 为空。

有任何想法吗？？

提前致谢。

# objective-c - 我无法使用 iPad 设备上文档目录中的 AVAudioPlayer 播放录制的音频文件（ios 6.1）

> ID：15242980
> 
> 赞同：0
> 
> 时间：2013-03-06T09:04:01.837
> 
> 标签：objective-c, ipad

我无法在我的 ipad 设备 (ios 6.1) 上播放我使用 AVAdioRecorder 录制的音频文件。但该文件在 ipad 模拟器上播放。

这是我用来记录和保存文件的代码：

```
NSString *tempPath=[NSString stringWithFormat:@"Documents/%@.aiff",txtName.text];
filePath = [NSHomeDirectory()stringByAppendingPathComponent:tempPath];

NSDictionary *recordSettings =[[NSDictionary alloc] initWithObjectsAndKeys:

 [NSNumber numberWithFloat: 44100.0],AVSampleRateKey,
 [NSNumber numberWithInt: kAudioFormatLinearPCM],AVFormatIDKey,
 [NSNumber numberWithInt: 1], AVNumberOfChannelsKey,
                                [NSNumber numberWithInt: AVAudioQualityMax],AVEncoderAudioQualityKey,nil];

soundRecorder =[[AVAudioRecorder alloc] initWithURL: [NSURL fileURLWithPath:filePath] settings: recordSettings error: nil];
soundRecorder.delegate=self;
[soundRecorder record]; 
```

以下代码播放录制的文件：

```
NSArray * paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);  

NSString *strPath=[paths objectAtIndex:0];
NSString*strName=[arrayAudio objectAtIndex:clicktag];
strPath=[NSString stringWithFormat:@"%@/%@",strPath,strName];
NSLog(@"path=%@",strPath);
NSError* err;

player = [[AVAudioPlayer alloc] initWithContentsOfURL:[NSURL fileURLWithPath:strPath] error:&err];
player.delegate = self;

  [player prepareToPlay];
[player play]; 
```

任何人都可以为这个典型问题提出一些解决方案。我在 stackoverflow 和其他网站上进行了很多搜索，但没有一个解决方案可以帮助我解决我的问题。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-23T02:21:01.317

我有同样的问题，尝试将会话类别设置为 *PlayAndRecord：

```
audioSession = [AVAudioSession sharedInstance];
[audioSession setCategory:AVAudioSessionCategoryPlayAndRecord error: nil]; 
```

（翻译自我正在编写的 RubyMotion 代码，如果需要更多工作，请致歉）

# asp.net-mvc - MVC 4数据注释验证器概念，失败或请建议如何解决

> ID：15242982
> 
> 赞同：1
> 
> 时间：2013-03-06T09:04:05.917
> 
> 标签：asp.net-mvc, validation, asp.net-mvc-4

在我们的项目中，我们使用 DataAnotaions 进行输入验证。我们的验证器定期实现 IClientValidatable 并且似乎运行良好。

现在我们有一个案例，IClientValidatable 的实现是不可能的，只能实现服务器验证。

我面临的问题是默认绑定的问题，假设我有一个文本框，用户应该在此字段中输入 dateTime，用户为 DateTime 输入无效类型，例如“23453452345”，在这种情况下，默认绑定无法绑定视图模型类型 typeof(DateTime) 的值，并引发有关该类型不匹配或其他内容的一般错误。主要问题是由于绑定失败，用户在 txtbox 中输入的值会从文本框中消失。

所以它打破了常规的用户体验，打破了“可访问性”，这对我们公司来说非常重要。

问题是如何处理这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:11:19.757

您仍然可以将 jquery.validate 与自定义规则一起用于客户端验证。对于服务器端，我建议使用字符串字段作为 DateTime 值，您可以尝试在模型绑定器中将其转换为 DateTime，如果它不正确，则会引发验证错误（实际上您可以使用自定义模型绑定器）。所以在表单验证失败后你总是会保持错误的值

**upd**：要实现自定义模型绑定器，您需要以下步骤（没有真正检查代码，如果有任何错误，请告诉我）：

在 global.asax 中：

```
protected void Application_Start()
{
    ModelBinders.Binders.Add(typeof(your_model_type), new YourModelTypeBinder());
} 
```

所以现在你需要类 YourModelTypeBinder 为：

```
public class YourModelTypeBinder : DefaultModelBinder
{
    public override object BindModel(ControllerContext controllerContext, ModelBindingContext bindingContext)
    {
        var model = base.BindModel(controllerContext, bindingContext) as YourModelType;

        if (model != null)
        {
            if (bindingContext.ValueProvider.ContainsPrefix("DateTimeString"))
            {
                ValueProviderResult valueResult = bindingContext.ValueProvider.GetValue(key);
                try
                {
                    var s = valueResult.ConvertTo(string);
                    var valid = DateTime.TryParse(s, out model.RealDateTime);
                    if (!valid)
                        bindingContext.ModelState.AddModelError("DateTimeString", "Not a valid date");
                }
                catch
                {
                    bindingContext.ModelState.AddModelError("DateTimeString", "Not a valid date");
                }
            }
        }

        return model;
    }
} 
```

# javascript - 哈希分布，为什么 0 总是权重很大？

> ID：15242983
> 
> 赞同：3
> 
> 时间：2013-03-06T09:04:13.357
> 
> 标签：javascript, hash, string-hashing

我写了一个快速的画布可视化来查看我从 C++ 移植到 JavaScript 的散列算法的分布。

我看到奇怪的行为，无论我如何修改哈希值，0 都存在严重偏差，因为它的选择频率是哈希函数中大多数其他数字的两倍。

您可以在以下位置查看演示：http: [//jsfiddle.net/x5L73/2/](http://jsfiddle.net/x5L73/2/)

和原始的 C++ 算法：[http ://www.azillionmonkeys.com/qed/hash.html](http://www.azillionmonkeys.com/qed/hash.html)

我所指的代码部分位于 jsFiddle 的底部：

```
// hash is 0 twice as often as anything else
var hash = app.Hash( word ) % ( 3499 )
  ,   b1 = 0|hash / 59
  ,   b2 =   hash % 59; 
```

对我来说奇怪的是，它为零的频率是*任何*`hash`其他值的两倍，无论我选择什么来修改它。在此示例中，它是零次，而*任何*其他数字都是命中次数。这是通过蛮力测试确定的：*`1/3499`*`1/6998`**

 **```
if( hash!==1234 ){ nonZero++; }else{ zero++ } // 1234 is a random number to check       
if( Math.random() < .00001 ){ console.log( zero, nonZero, 0|nonZero/zero ); } 
```

我在这里想念什么？？？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-06T09:06:42.230

尽管这是一个非常有趣的事实，在处理整数时可能会派上用场，就像哈希一样，但错误**并不是**由于 JavaScript*也*有负零这一事实......

OP报告的原始原因是：

> 这是因为我不小心丢弃了可视化中的所有负数。

是的，负数并不是那么微不足道，我们的大脑有时会忽略它们——尤其是当他们长时间专注于涉及整数的特定困难问题时，就像试图找出好的散列方法，然后切换到看似更简单的任务：显示结果......

**所以真正的答案是：**除了负零之外，JavaScript 也有更多的负数……不要忘记把它们算在内——即使是在*简单*的可视化任务中。

TL;博士

我把它留在这里，因为这*可能*对将来遇到类似问题的人派上用场，因为它*可能会*导致类似的情况。

看这个问题：[+0 and -0 in JavaScript (negative zero and positive zero in JavaScript)](https://stackoverflow.com/questions/7223359/0-and-0-in-javascript-negative-zero-and-positive-zero-in-javascript)

引用：

> JavaScript 使用[IEEE 745 标准](https://stackoverflow.com/questions/7223359/0-and-0-in-javascript-negative-zero-and-positive-zero-in-javascript)来表示数字。来自[维基百科](http://en.wikipedia.org/wiki/Negative_zero)：
> 
> > **带符号的零**是带有关联符号的零。在普通算术中，-0 = +0 = 0。然而，在计算中，一些数字表示允许存在两个零，通常表示为**-0（负零）**和**+0（正零）**。这发生在整数的一些有符号数表示和大多数浮点数表示中。数字 0 通常编码为 +0，但可以用 +0 或 -0 表示。
> > 
> > 浮点算术的 IEEE 754 标准（目前由支持浮点数的大多数计算机和编程语言使用）需要 +0 和 -0。零可以被认为是扩展实数线的变体，使得 1/-0 = -∞ 和 1/+0 = +∞，除以零仅在 ±0/±0 和 ±∞/±∞ 时未定义.**

# web-services - 在 PropertySourcesPlaceholderConfigurer 的定义中使用占位符

> ID：15242984
> 
> 赞同：0
> 
> 时间：2013-03-06T09:04:22.470
> 
> 标签：web-services, spring, configuration, mule

**背景：** 我正在使用 Mule 将大量 Web 服务部署到多个 Mule 实例。我正在使用 Spring 来配置服务，这一切都与文件系统上的属性文件中的配置很好地配合使用。为了简化此类设置的管理，我想将所有配置移至 Web 服务，仅保留文件系统上的最少引导信息。

此引导信息由两部分组成：

1) 配置服务的 URI - 这是作为系统属性传递给 Mule 并被正确获取

2) 配置领域 - 允许服务实例向配置服务标识自己的附加标识符（例如，在服务器 dev-2 上运行的目录服务实例）。这部分不能编码到 Spring 配置中（例如，通过将 configRealm 设置为 catalogue-service），因为每个配置服务可能正在向给定服务的多个实例（例如目录服务）提供配置信息

**尝试的解决方案：**

1）单个覆盖的 PropertyPlaceholderConfigurer（我知道，我知道），其中包含所有决定编码的逻辑

2）多个不同顺序的PropertyPlaceholderConfigurer（一个处理文件系统属性，一个处理Web服务属性）

3) 一个实现 Order 的自定义 BeanFactoryPostProcessor

4) 将 WebServicePropertySource 定义为 @Configuration 并使用 @PropertySource 显式引用外部文件（失败，因为在需要 WebServicePropertySource 来解析占位符时未初始化环境）

5) 单个 PropertySourcesPlaceholderConfigurer 和一个自定义 PropertySource 来处理 Web 服务属性和 ResourcePropertySources 来处理文件系统属性

所有这些方法（除 4 之外）都失败了，因为我在 PropertySourcesPlaceholderConfigurer/PropertyPlaceholderConfigurer 的定义中使用了占位符 - 未解析占位符并且传递给 Web 服务的领域是 ${catalogue- service-realm} 或类似的。

我知道我可以通过使用系统属性来定义配置领域来完成这项工作，但是由于可能在 Mule 实例中部署了很多服务，这很丑陋，并且需要重新启动服务器才能进行任何更改。

在下面的代码中，我将示例限制为最新的解决方案（上面的 5 个），因为它使用了最新的 Spring 3.1 API。

**摘自 mule-config.xml：**

```
 <spring:bean id="configServiceHelper" class="config.client.GetConfigurationServiceHelper">
        <spring:property name="configRealm" value="${catalogue-service-realm}"/>
        <spring:property name="configServiceWsdlUrl" value="${configuration.service.url}"/>
    </spring:bean>

    <spring:bean id="webServicePropertySource" class="config.client.WebServicePropertySource">
        <spring:constructor-arg name="name" value="web-service-property-source"/>
        <spring:constructor-arg name="helper" ref="configServiceHelper"/>
    </spring:bean>

    <spring:bean id="propertySources" class="config.client.DefaultPropertySources">
        <spring:property name="propertySources">
            <spring:list>
                <spring:ref bean="webServicePropertySource"/>
            </spring:list>
        </spring:property>
    </spring:bean>

    <spring:bean class="config.client.LocationPropertySourcesPlaceholderConfigurer">
        <spring:property name="propertySources" ref="propertySources"/>
        <spring:property name="locations">
            <spring:list>
                <spring:value>classpath*:spring/config/*.properties</spring:value>
                <spring:value>classpath:catalogue-service.properties</spring:value>
                <spring:value>classpath:catalogue-service-override.properties</spring:value>
            </spring:list>
        </spring:property>
    </spring:bean> 
```

**请注意：** config.client.LocationPropertySourcesPlaceholderConfigurer 的行为与默认的 PropertySourcesPLaceholderConfigurer 的不同之处在于，如果设置了 propertySources，它不会丢弃位置，而是将它们添加到 propertySources。记录已确认 propertySources 列表在运行时包含 14 个元素（Web 服务属性源加上 13 个资源）

我很确定这段摘录简洁地说明了我正在尝试做的事情，但如果没有，请询​​问更多细节。我的问题的症结在于 Web 服务帮助程序中的 ${catalogue-service-realm} 占位符没有从类路径上的属性文件中保存的信息中解析出来。

在我看来，这就像先有鸡还是先有蛋的问题，也必须有一个简单的解决方案-我只是不知道它是什么，因此非常感谢任何帮助或指示:-)

亲切的问候，马特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-07T15:55:21.007

我的问题的症结在于 PropertySourcesPlaceholderConfigurer bean 定义中的占位符没有得到解决。

我通过显式手动解析有问题的 configRealm 属性定义中的占位符来解决这个问题。它并不完全优雅，但它确实避免了使用上面[Victor Romero](https://stackoverflow.com/users/912190/victor-romero)提出的额外配置库的需要。

下面带注释的 Spring 配置。

```
<!-- configRealm moved to webServicePropertySource to prevent 
     the need to pollute service client with Spring PropertyResolver -->
    <spring:bean id="configServiceHelper" class="config.client.GetConfigurationServiceHelper">
        <spring:property name="configServiceWsdlUrl" value="${configuration.service.url}"/>
    </spring:bean>

<!-- WebServicePropertySource now contains configRealm and a PropertyResolver to use
     to resolve the placeholder -->
    <spring:bean id="webServicePropertySource" class="config.client.WebServicePropertySource">
        <spring:constructor-arg name="name" value="web-service-property-source"/>
        <spring:constructor-arg name="helper" ref="configServiceHelper"/>
        <spring:constructor-arg name="realm" value="${bisac_genre_service.config_realm}"/>
        <spring:constructor-arg name="resolver" ref="propertyResolver"/>
    </spring:bean>

<!-- New class to wrap a bunch of resources into a PropertySource -->
    <spring:bean id="resourcePropertySource" class="config.client.ResourceAggregationPropertySource">
        <spring:constructor-arg name="name" value="resource-property-source"/>
        <spring:constructor-arg name="resources">
            <spring:list>
                <spring:value>classpath*:spring/config/*.properties</spring:value>
                <spring:value>classpath:genre-service.properties</spring:value>
                <spring:value>classpath:genre-service-override.properties</spring:value>
            </spring:list>
        </spring:constructor-arg>
    </spring:bean>

<!-- Standard PropertySourcesPropertyResolver defined to just use the 
     classpath resources for resolution -->
    <spring:bean id="propertyResolver" class="org.springframework.core.env.PropertySourcesPropertyResolver">
        <spring:constructor-arg ref="resourcePropertySources"/>
    </spring:bean>

<!-- PropertySources consisting of just the filesystem resources -->
    <spring:bean id="resourcePropertySources" class="config.client.DefaultPropertySources">
        <spring:property name="propertySources">
            <spring:list>
                <spring:ref bean="resourcePropertySource"/>
            </spring:list>
        </spring:property>
    </spring:bean>

<!-- PropertySources consisting of the web service source plus
     the filesystem resources -->
    <spring:bean id="allPropertySources" class="config.client.DefaultPropertySources">
        <spring:property name="propertySources">
            <spring:list>
                <spring:ref bean="resourcePropertySource"/>
                <spring:ref bean="webServicePropertySource"/>
            </spring:list>
        </spring:property>
    </spring:bean>

<!-- Vanilla Spring PropertySourcesPlaceholderConfigurer using ALL PropertySources -->
    <spring:bean class="org.springframework.context.support.PropertySourcesPlaceholderConfigurer">
        <spring:property name="propertySources" ref="allPropertySources"/>
    </spring:bean> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-06T11:31:47.573

您是否考虑过使用[Spring Profiles](http://blog.springsource.org/2011/02/14/spring-3-1-m1-introducing-profile/)？

[您可以在此处](http://www.mulesoft.org/documentation/display/current/Spring+3.1+Upgrade)找到有关如何在 mule 中利用它们的简短示例

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-06T15:46:08.050

[Java Configuration API](http://commons.apache.org/proper/commons-configuration//)支持多[租户配置](http://commons.apache.org/proper/commons-configuration//userguide/howto_multitenant.html#Multi-tenant_Configurations)。

要与 Spring 集成，您可以使用[此处](https://stackoverflow.com/questions/3163838/propertyplaceholderconfigurer-reads-from-xml-file-apache-commons-configuration)发布的一些解决方案或仅利用 SpEL，即：`@Property("expression")`.

# ipv6 - 在 ipv6 的链接本地地址中提及范围 ID 的原因

> ID：15242988
> 
> 赞同：1
> 
> 时间：2013-03-06T09:04:27.257
> 
> 标签：ipv6

在 IPv6 中，我们有链接本地地址和附加的 scope_id。既然链路本地地址是从MAC地址派生的（唯一的），为什么在链路本地地址本身是唯一的情况下，我们还需要在调用中提到scope_id（基本上是像eth0这样的interface_id）？？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T10:55:19.330

链路本地地址不必从 MAC 地址派生，每个链路本地地址可以同时在每个接口上有效。并且链接和地址的每种组合都可以有不同的含义，因此您始终需要指定链接/范围。

# ios - 在 iOS 上将图像写入文件系统时访问图像

> ID：15242990
> 
> 赞同：1
> 
> 时间：2013-03-06T09:04:33.420
> 
> 标签：ios, image, filesystems, file-exists

我的应用程序正在从网络加载一堆图像，并将它们保存到应用程序沙盒环境中的本地文件系统 (FS)。当我将图像保存到 FS 时，我会这样做`GCD`：

```
dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
    [[NSFileManager defaultManager] createFileAtPath:path contents:nil attributes:nil];
    [UIImagePNGRepresentation(image) writeToFile:path atomically:YES];
}); 
```

这很好用。但是，当我尝试同时从 FS 获取/加载此图像（另一个进程需要相同的图像）时，我在检查 FS 上是否存在图像以及它是否可读时遇到问题：

```
if ([[NSFileManager defaultManager] fileExistsAtPath:path] && [[NSFileManager defaultManager] isReadableFileAtPath:path]) {
    //step 1 - image exists and I can load it from FS
    UIImage *existingImage = [UIImage imageWithData:[NSData dataWithContentsOfFile:path]];
    if (existingImage == nil) {
        NSLog(@"Loaded image is nil!");
    }
}
else {
    //step 2 - image does not exist in local FS and needs to be loaded from network
} 
```

问题是有时我进入第 1 步（文件显然存在并且可读）但加载的“existingImage”为零。

怎么会这样？图像是否可能处于写入过程中？有没有其他方法可以检查图像写入是否 100% 完成并准备好使用？

# zend-framework2 - 如何处理错误（AbstractRestfulController）？

> ID：15242995
> 
> 赞同：1
> 
> 时间：2013-03-06T09:04:40.127
> 
> 标签：zend-framework2

我尝试使用 AbstractRestfulController。我创建控制器类：

```
class MyController extends AbstractRestfulController{

    public function getList(){
        $data = array();

        return new JsonModel(array(
            'data' => $data,
        ));
    }

    public function get($id){
        $data = array();

        return new JsonModel(array(
            'data' => $data,
        ));
    }

    public function create($data){
        $data = array();

        return new JsonModel(array(
            'data' => $data,
        ));
    }

    public function update($id, $data){
        $data = array();

        return new JsonModel(array(
            'data' => $data,
        ));
    }

    public function delete($id){
        $data = array();

        return new JsonModel(array(
            'data' => $data,
        ));
    }

} 
```

和路由：

```
return array(
    'router' => array(
        'routes' => array(
            'mylink' => array(
                'type'    => 'Segment',
                'options' => array(
                    'route'    => '/mylink[/:id]',
                    'constraints' => array(
                        'id'     => '[0-9]+',
                    ),
                    'defaults' => array(
                        'controller' => 'MyModule\Controller\My',
                    ),
                ),
            ),
        ),
    ),
    'controllers' => array(
        'invokables' => array(
            'MyModule\Controller\My' => 'MyModule\Controller\MyController',
        ),
    ),
    'view_manager' => array(
        'strategies' => array(
            'ViewJsonStrategy',
        ),
    ),
); 
```

但是当用户调用错误的方法或错误的 id 或其他任何东西时会发生什么？我想自己处理。怎么做？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-06T09:57:21.527

您的 api 仍应以请求的格式（json、xml 等）返回响应，通常带有一些描述问题的错误代码/消息，以及适当的 http 响应代码。您可以告诉您的 api 的消费者预期的响应是什么，但是当他们弄错时，由他们来处理它。

从这个角度来看，这是一个设置响应并使用要返回的相关信息填充模型的简单案例，典型的响应可能如下所示......

```
public function get($id)
{
    // some processing to find id ...

    // no id found
    if (!$found) {
        // set 404 Not Found response
        $this->getResponse()->setStatusCode(404);
        // return message to client
        return new JsonModel(array(
            'error' => 404,
            'reason' => sprint_f('Requested id "%s" not found', $id'),
        ));
    }
} 
```

Obviously do the same for your other methods, and try to use an appropriate [HTTP response code](http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html)

# java-me - 为什么 getMatrixTrait("transform") 会抛出 DOMException:NOT_SUPPORTED_ERR？

> ID：15242997
> 
> 赞同：1
> 
> 时间：2013-03-06T09:04:59.017
> 
> 标签：java-me, svg

据说`DOMException - with error code NOT_SUPPORTED_ERR if the requested trait is not supported on this element or null.`

我正在尝试水平翻转我的 SVG 图像，但我遇到了这个错误。

```
InputStream svgStream = getClass().getResourceAsStream(path);
SVGImage svgImage = (SVGImage) (SVGImage.createImage(svgStream, null));
SVGSVGElement myEl = (SVGSVGElement) svgImage.getDocument().getDocumentElement());
SVGMatrix transformMatrix = myEl.getScreenCTM();
transformMatrix = transformMatrix.mTranslate(100f, 0f);
myEl.setMatrixTrait("transform", transformMatrix); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T09:22:02.203

[`<svg>`](http://www.w3.org/TR/SVG/struct.html#SVGElement)SVG 1.1 中的元素不可转换（无转换属性）。

“仍在编写中”的 SVG 2 规范应该改变这一点，所以它们将在未来的某个时候，一旦规范完成并且 UA 实现它。

如果要设置转换，请将要转换的内容放入可转换的容器中，例如`<g>`元素并对其进行转换。