# StackOverflow 问答 13640000-13640999

# php - 什么是 Joomla 2.5 密码加密方法？

> ID：13640001
> 
> 赞同：0
> 
> 时间：2012-11-30T06:16:09.337
> 
> 标签：php, passwords, joomla2.5

我正在使用 Joomla 2.5 开发一个网站。我已经为上述父站点添加了另一个示例站点。从这个子站点，我将向数据库添加新用户。但这两个站点使用不同的方法来加密密码。

我在网上找到了 Joomla 加密的东西，但它似乎不起作用。

```
function genRandomPassword($length=32) 
{
$salt       = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
$makepass   = '';
mt_srand(10000000*(double)microtime());
for ($i = 0; $i < $length; $i++)
    $makepass .= $salt[mt_rand(0,61)];
return $makepass;
}

    if ( strlen($_POST['pwd']) > 100 )
    {
        $_POST['pwd'] = substr( $_POST['pwd'], 0, 100 );
    }

    $salt = genRandomPassword();
    $pass= md5(stripslashes($_POST['pwd']).$salt) .':'.$salt; 
```

这不是方法还是我在哪里做错了？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-11-14T13:30:08.000

我找到了答案：A. 用户输入密码 - 'testing'

B. 从您为该用户保存的数据库记录中获取：5cf56p85sf15lpyf30c3fd19819p58ly:aNs1L5PajsIscupUskaNdPenustelsPe

C. 将用户密码与记录的第二部分连接起来（从步骤 -> testingaNs1L5PajsIscupUskaNdPenustelsPe

D.生成步骤C的MD5

E. 将步骤 C 的结果与步骤 B 的第一部分记录 (5cf56p85sf15lpyf30c3fd19819p58ly) 进行比较，如果相同则表示用户输入了正确的密码

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-01-31T10:12:46.327

终于找到了路；认为这会帮助别人:)

```
 if ( strlen($_POST['pwd']) > 100 )
     {
        $_POST['pwd'] = substr( $_POST['pwd'], 0, 100 );
     }

     $salt = genRandomPassword();
    //$pass is the encripted password
     $pass= md5(stripslashes($_POST['pwd']).$salt) .':'.$salt; 
```

哈希生成如下：

```
 function genRandomPassword($length = 32)
    {
     $salt = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
     $len = strlen($salt);
     $makepass = '';
     mt_srand(10000000 * (double) microtime());

     for ($i = 0; $i < $length; $i ++) {
        $makepass .= $salt[mt_rand(0, $len -1)];
     }

     return $makepass;
    } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-09-04T13:15:57.090

我不认为我们可以在新的 joomla 版本中获得盐分。joomla 不再使用用“：”分隔密码和盐的模式。

我必须使用 joomla 用户名和密码从外部源登录用户。这适用于 2.5.24（因为我在使用这个版本时工作过。希望它也适用于 joomla 3.xx）

我正在使用名为的函数中的以下代码执行此登录功能

```
onUserAuthenticate($credentials, $options, &$response) 
```

这就是我用于登录用户的方式：

```
 // Get a database object
$db   = JFactory::getDbo();
$query   = $db->getQuery(true);

$query->select('id, password');
$query->from('#__users');
$query->where('username=' . $db->Quote($credentials['username']). 'OR email=' . $db->Quote($credentials['username'])) ;

$db->setQuery( $query );
$result = $db->loadObject();

//######################

if ($result)
{
   $match = JUserHelper::verifyPassword($credentials['password'], $result->password, $result->id);
      if ($match === true)
   {
      $user = JUser::getInstance($result->id); // Bring this in line with the rest of the system
      // echo 'here'; print_r($user);die('xxxxxssyyyyyyeeeeesssss');
      $response->email = $user->email;
      $response->fullname = $user->name;

      if (JFactory::getApplication()->isAdmin())
      {
         $response->language = $user->getParam('admin_language');
      }
      else
      {
         $response->language = $user->getParam('language');
      }
      $response->status = JAuthentication::STATUS_SUCCESS;
      $response->error_message = '';
   }
} 
```

希望这对某人有帮助！

# javascript - 使用 Web Worker 问题在 Canvas 上进行位图过滤

> ID：13640010
> 
> 赞同：1
> 
> 时间：2012-11-30T06:17:12.473
> 
> 标签：javascript, video, canvas

我有一个视频将像素复制到画布上，并使用网络工作者应用实时位图过滤器。

使用网络工作者时，我在画布上看不到由此产生的变化（应该是黑色和白色）。

这是我的代码： http: [//www.dev.createdbychristian.com/filter-test/](http://www.dev.createdbychristian.com/filter-test/)

我可以通过使用中间画布来解决这个问题，但我真的不想这样做。

我的代码大致基于此示例，与我的代码相同，只是没有使用网络工作者进行图像过滤处理。 [http://techslides.com/demos/html5-video-canvas.html](http://techslides.com/demos/html5-video-canvas.html)

我的代码有什么问题？

注意：需要支持 Web Workers 和 HTML5 Video / canvas 的现代浏览器

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-30T09:23:41.130

发生这种情况是因为`draw()`不等待 WebWorker 的返回值并使用`requestAnimationFrame`. 如果您想要连续过滤图像，则必须`draw`在应用过滤器后调用：

```
filterWorker.addEventListener('message', function(e) {
    ctx.putImageData(e.data, 0, 0);
    requestAnimationFrame(draw);
}, false); 
```

但是，如果过滤器需要很长时间，很可能`draw`会在早期用彩色数据填充画布以注意到变化（我能够在当前版本中看到带有 FF17 的黑白版本）。

> 我的代码有什么问题？

在操作顺序很重要的场景中，您正在使用一种用于并行计算的工具：您希望在显示*之前对**每个*图像应用过滤器。让我[引用 MDN](https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers$revision/1178973#About_thread_safety)：

 *> ### 关于线程安全
> 
> [Worker](https://developer.mozilla.org/en-US/docs/Web/API/Worker)接口产生了真正的操作系统级线程，细心的程序员可能会担心，如果您不小心，并发可能会在您的代码中产生“有趣”的效果。
> 
> 但是，由于 web Worker 已经仔细控制了与其他线程的通信点，因此实际上很难引起并发问题。无法访问非线程安全组件或 DOM。而且您必须通过序列化对象将特定数据传入和传出线程。所以你必须非常努力地在你的代码中引起问题。

与真正的操作系统级线程一样，除非您使用某种阻塞机制，否则无法对执行顺序做出任何假设，但这不包含在 JavaScript 中。所以你需要在同一个线程中绘制**和操作图像。**

# 进一步说明

## 顺序案例

看看下面的图片：

![顺序过滤](../Images/717aaac4c4809388d4e9e042d2b8cc38.png)

这就是技术演示中基本上发生的事情。`draw()`复制视频并立即过滤图像：

```
function draw(v,c,w,h,filter) {
    if(v.paused || v.ended) return false;
    c.drawImage(v,0,0,w,h);
    if (typeof filter === 'undefined') {
        // variable is undefined
    } else {
        var idata = c.getImageData(0,0,w,h);
        newdata = filterdata(idata,filter);
        c.putImageData(newdata,0,0);
    }
    setTimeout(draw,20,v,c,w,h,filter);
} 
```

如您所见，`drawImage`以下过滤器的调用之间没有间隙。生成的图片显示大约 20 毫秒。即使过滤器需要 1 毫秒，用户也可能不会注意到这一点。

## 平行案例

现在它变得有点复杂了。黑化文本框是直接修改画布的方法，白框表示触发事件或注册超时，黑框表示超时执行或事件处理：

![平行案例](../Images/9960b2824d6d11612f744603ab85b9b8.png)

现在，会发生什么？`draw`仍然大约每 20 毫秒调用一次并复制视频。然后它向工人发布一条消息。但是，没有说明*何时*发送此消息。它可以立即放在worker的事件循环中（如图所示），也可以放在“main”的事件循环中并稍后调度（这种可能性更大）。

与顺序方法相比，此过程需要非常非常长的时间。请记住，您还需要将处理后的数据发回，并且`filter`和`filterWorker`的事件侦听器可能会在比您最初预期的时间更晚的时间触发。但即使你真的处理数据并显示它，下面的调用`draw`也会毁掉你所有的辛勤工作。

# 解决方案

要么不使用网络工作者，要么使用隐藏的画布作为工作者的来源。*

# c++ - 转发复制构造函数的问题

> ID：13640012
> 
> 赞同：0
> 
> 时间：2012-11-30T06:17:14.730
> 
> 标签：c++, perfect-forwarding

任何人都知道为什么转发复制ctor不起作用？

关于一种类型是向量而另一种类型是堆栈的编译器错误？？？

```
#include "stdafx.h"
#include <iostream>
#include <vector>
#include <type_traits>

using namespace std;

template<class T>
class stack{
public:
    stack();

    template<class X>
    stack(X&& other);

    template<typename X>
    void push(X&& element);

    T const & top() const;

    void pop();

    inline std::size_t const size() const;

    typedef std::vector<T> vector_type;

private:
    std::vector<T> elements;
};

template<class T>
stack<T>::stack(){}

template<class T>
template<class X>
stack<T>::stack(X&& other) : elements(std::forward<typename X>(other.elements)){

}

template<class T>
template<class X>
void stack<T>::push(X&& element){
    this->elements.push_back(std::forward<X>(element));
}

template<class T>
T const & stack<T>::top() const{
    return this->elements[this->elements.size() -1];
}

template<class T>
inline std::size_t const stack<T>::size() const{
    return this->elements.size();
}

template<class T>
void stack<T>::pop(){
    this->elements.pop_back();
}

template<class T,int N>
stack<T> get_stack_of_n_defaults(){

    stack<T> s;

    for(int i = 0; i < N; ++i){
        s.push( T()); // should pass by rvalue ref;
    }

    return s;

}

int main()
{

    stack<int> s = get_stack_of_n_defaults<int,5>();

    for(int i = 0; i <= 10; ++i){
        s.push(i);
    }

    cout << s.size() << endl;

    for(int i = 0; i <= 10; ++i){
        cout << s.top() << endl;;
        s.pop();
    }

    cout << s.size() << endl;

    return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:22:19.677

我猜你指的是这一行：

```
std::forward<typename X>(other.elements) 
```

的类型`other.elements`不是`X`。

我相信这会奏效：

```
std::forward<X>(other).elements 
```

# objective-c - 所选行未从 UITableView 中删除

> ID：13640016
> 
> 赞同：2
> 
> 时间：2012-11-30T06:17:21.663
> 
> 标签：objective-c, uitableview, bookmarks, delete-row

我正在为我的应用程序做书签模块。当我从 TableView 中删除行时，表中的最后一行被删除，但从数据库中选定的行被删除。问题是在表格视图中显示数据时

```
- (void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath {

    [[UIBarButtonItem appearanceWhenContainedIn:[UIPopoverController class], nil]
     setTintColor:[UIColor grayColor]];
    if (editingStyle == UITableViewCellEditingStyleDelete)
    {
        Cart *cartObj = [appDelegate.bookmarkArray objectAtIndex:indexPath.row];
        [appDelegate removeCart:cartObj];
        [bookmarkIDArray removeObjectAtIndex:indexPath.row];
       [bookmarkTableview beginUpdates];

        [bookmarkTableview deleteRowsAtIndexPaths:[NSArray arrayWithObject:indexPath] withRowAnimation:UITableViewRowAnimationFade];
        //[bookmarkTableview deleteSections:[NSArray arrayWithObject:indexPath] withRowAnimation:UITableViewRowAnimationFade];
        [bookmarkTableview endUpdates];
        [bookmarkTableview reloadData];
    }
    if (editingStyle == UITableViewCellEditingStyleInsert) {
        // Create a new instance of the appropriate class, insert it into the array, and add a new row to the table view
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T08:57:04.263

尝试删除代码中的以下行：

```
[bookmarkTableview reloadData]; 
```

# objective-c - 为什么这个局部变量的值会发生变化？

> ID：13640021
> 
> 赞同：0
> 
> 时间：2012-11-30T06:17:34.127
> 
> 标签：objective-c, c, initialization, declaration, default-value

考虑以下 Objective-C 代码：

```
@interface ClassA : NSObject {

}
-(void) printVal;
@end

@implementation ClassA
-(void) printVal {
    int val;
    NSLog(@"%i", val);
}
@end

int main (int argc, const char * argv[]) {
    NSAutoreleasePool * pool = [[NSAutoreleasePool alloc] init];

    ClassA* cA = [[ClassA alloc] init];
    [cA printVal];
    [cA printVal];
    [cA printVal];

    [pool drain];
    return 0;
} 
```

为什么是这个输出：

```
2012-11-29 22:12:06.586 TestOne[20266:903] 0
2012-11-29 22:12:06.587 TestOne[20266:903] 32767
2012-11-29 22:12:06.588 TestOne[20266:903] 32767 
```

也就是说，为什么在`val`重新声明的时候没有重新初始化为0，为什么`32767`后续每次调用方法都接收到值？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T06:22:16.633

那就是垃圾价值。

用一些值初始化它。

编辑：

存储类说明符有一些默认值

用于自动垃圾值。

对于静态- 0。

对于全局/外部- 0；

用于注册垃圾。

在您的情况下，它是自动的。

哦哦！！！我想回答你的第二部分:(

为什么最初它是 0，后来是 32767。

您在该链接中正确指出，现在无需在此答案中解释。我能做的就是仅参考该链接。

[未初始化的变量如何获得垃圾值？](https://stackoverflow.com/questions/1422729/how-an-uninitialised-variable-gets-a-garbage-value)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T06:22:39.553

在 Objective-C 中，[唯一的保证是 int 至少为 32 位宽](http://www.techotopia.com/index.php/Objective-C_2.0_Data_Types#int_Data_Type)。这可以解释为什么它不是 0。至于为什么它是 32767，我没有最模糊的，但 32768 是 2 的幂，所以这可能会为答案提供线索。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-30T06:22:42.250

除非您初始化局部自动变量，否则它们不会被初始化。不能假定它们具有任何特定价值。实例变量、静态变量和全局变量都初始化为0，但不是像这样的普通局部变量。在打算读取它的值之前，您需要自己初始化它

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-30T06:21:34.650

在堆栈上声明一个值不会初始化它。它只是为它分配空间。该内存中发生的任何值都是您将看到的打印值。如果你改为写：

```
-(void)printVal
{
    int val = 0;
    NSLog (@"%i", val);
} 
```

那么它应该每次打印 0 。

# iphone - 核心数据在我的控制器中不起作用。如何将 managedObjectContext 链接到我的控制器？

> ID：13640024
> 
> 赞同：0
> 
> 时间：2012-11-30T06:17:50.170
> 
> 标签：iphone, core-data

我第一次使用核心数据概念来简单地插入和检索一些信息..

我有`userInfoAppDelegate.h`，`userInfoAppDelegate.m` 和`DisplayController.h`，`DisplayController.m`。

现在我已经成功地在我的委托文件中添加和检索数据，这里是代码

userInfoAppDelegate.h

```
#import <UIKit/UIKit.h>
#import "HomeController.h"

@class RootViewController;

@interface UserInfoAppDelegate : UIResponder <UIApplicationDelegate>{    
    HomeController *hController;
    UIWindow *Window;        
}    
@property (nonatomic, strong) UINavigationController *navigationController;
@property (nonatomic, strong) RootViewController *rootViewController;        
@property (readonly, strong, nonatomic) NSManagedObjectContext *managedObjectContext;    
@property (readonly, strong, nonatomic) NSManagedObjectModel *managedObjectModel;    
@property (readonly, strong, nonatomic) NSPersistentStoreCoordinator *persistentStoreCoordinator;

- (void)saveContext;
- (NSURL *)applicationDocumentsDirectory;

@end 
```

userInfoAppDelegate.m

```
@synthesize managedObjectContext = __managedObjectContext;
@synthesize managedObjectModel = __managedObjectModel;
@synthesize persistentStoreCoordinator = __persistentStoreCoordinator;

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{         
   //some code...

UserInfo *newUser = [NSEntityDescription insertNewObjectForEntityForName:@"UserInfo"
             inManagedObjectContext:self.managedObjectContext];    

if (newUser != nil){             
    newUser.firstName = @"test"; 
    newUser.lastName = @"test";
    newUser.userName=@"b@test.com";
    // newUser.bDate = [NSDate date] ;
    newUser.department=@"Admin";

    NSError *savingError = nil;        
    if ([self.managedObjectContext save:&savingError])
    { 
        NSLog(@"Successfully saved the context."); 
    } 
    else
    { 
        NSLog(@"Failed to save the context. Error = %@", savingError);
    } 
}     

else {        
    NSLog(@"Failed to create the new person.");
}   

NSFetchRequest *fetchRequest = [[NSFetchRequest alloc] init];    

/* Here is the entity whose contents we want to read */ 

NSEntityDescription *entity = [NSEntityDescription entityForName:@"UserInfo"
       inManagedObjectContext:self.managedObjectContext];    

/* Tell the request that we want to read the contents of the Person entity */
[fetchRequest setEntity:entity]; 
NSError *requestError = nil;    

/* And execute the fetch request on the context */ 
NSArray *users = [self.managedObjectContext executeFetchRequest:fetchRequest
                    error:&requestError];

NSLog(@"%@",users);       
if ([users count] > 0){
    NSUInteger counter = 1; 

    for (UserInfo *thisUser in users){            
        NSLog(@"Person %lu First Name = %@", (unsigned long)counter, thisUser.firstName);
        NSLog(@"Person %lu Last Name = %@", (unsigned long)counter,
              thisUser.lastName);
        NSLog(@"Person %lu Department = %@", (unsigned long)counter,
              thisUser.department ); counter++;
    }
}

else { 
    NSLog(@"Could not find any Person entities in the context.");
}

  //some code...

} 
```

// 上面的代码运行良好，结果正确，但相同的代码不适用于我的`DisplayController.h`AND `DisplayController.m`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T06:39:07.740

在您的控制器中获取 AppDelegate 参考，然后在您使用的地方`self.managedObjectContext`，使用`delegate.managedObjectContext`

这是一个小样本

```
userInfoAppDelegate *delegate = (userInfoAppDelegate *)[[UIApplication sharedApplication] delegate];
NSEntityDescription *entity = [NSEntityDescription entityForName:@"UserInfo"
       inManagedObjectContext:delegate.managedObjectContext]; 
```

# google-app-engine - 另一个网站显示在我网站的搜索结果下方

> ID：13640025
> 
> 赞同：1
> 
> 时间：2012-11-30T06:17:54.757
> 
> 标签：google-app-engine, seo, subdomain

我在appspot.com 域下的Google AppEngine 上托管了一个站点。我的网站名为 antplanner.appspot.com，但其他人将我的网站克隆到不同的应用程序域下，即 antplanner-fork.appspot.com。

现在，当我在 Google 上搜索我的网站时，另一个网站会显示在我的搜索结果下。（见下图）。我能做些什么来从我的结果中删除其他网站吗？

![在此处输入图像描述](../Images/942beec46c08eb939f36f061c6067f03.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:03:22.033

您最好的办法可能是联系 apppot 并要求他们删除进行克隆的违规帐户。就 Google 而言，如果它侵犯了您的受版权保护的内容，他们可能会根据 DCMA 的要求将其删除，但我不确定日历是否会被视为受版权保护。

您最好的选择是购买自己的域名并将其托管在那里。另一个站点可能仍会显示为下一个结果，但只要它位于自己的域中，它就永远不会将任何其他用户站点附加为子页面相关结果

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-02T07:02:55.523

Google 有一项名为[Webmaster Tools](https://www.google.com/webmasters/tools)的服务，它允许您从附加链接中删除[网站](https://support.google.com/webmasters/bin/answer.py?hl=en&answer=47334)

您需要做的是：

1.  访问[https://www.google.com/webmasters/tools](https://www.google.com/webmasters/tools)
2.  单击**添加站点**。
3.  按照步骤添加并验证您的站点
4.  **在“配置**” > “**附加链接**”下进行验证后，您将可以选择删除有问题的网站。

# actionscript-3 - FLEX 中的当前类是从哪里调用的？

> ID：13640027
> 
> 赞同：0
> 
> 时间：2012-11-30T06:18:04.413
> 
> 标签：actionscript-3, class, apache-flex, flex3

我有一个从多个地方调用的 LoginView.mxml 类。我想知道是否存在一种方法可以知道从哪个类 LoginView.mxml 被调用？

**编辑**

我没有很好地表达这个问题。这是场景

我有一个名为**LoginView.mxml**的视图和另外 2 个视图，例如**AAAView.mxml**和**BBBView.mxml**。AAAView 和 BBBView 都使用**navigator.pushView(LoginView)**调用 LoginView 。

现在我想要 LoginView 中的一些代码，它可以告诉我 AAAView 是否调用了它。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-01T21:54:14.800

navigator.pushView(viewToPopUp, data) 的第二个参数是对象类型。你可以在里面放任何你想要的东西。在您的情况下，您可能希望放置一个字符串来指示此调用编码的视图的名称。

AAAView 中的某处：

```
protected function someButton_click(e:MouseEvent):void
{
     navigator.push(LoginView, "AAAView");
} 
```

然后在您的 LoginView.mxml 中：

```
protected function loginView_creationComplete(e:Event):void
{
     if (data.toString() == "AAAView")
     {
       // do what you need if AAAView was the one that popped up LoginView
     }
     else ...
} 
```

每个视图都有一个对象类型的数据成员。如果您的视图不是来自另一个视图的 navigator.pushViewed，或者 navigator.pushView 没有指定第二个参数，则它为 null。

您可以使用 if (data.toString() == "AAAView") 块。在 LoginView 的任何函数中。

# jekyll - 第四柱上的柱式制动器

> ID：13640028
> 
> 赞同：3
> 
> 时间：2012-11-30T06:18:05.237
> 
> 标签：jekyll, liquid, github-pages

我不喜欢使用 Liquid 和 Jekyll。我正在使用它们来管理我为 Github Pages 创建的响应式引导模板的内容。在我的主页上，我返回了我最近六篇文章的截断摘要，每栏三篇文章。

```
{% if content == nil %}
{% assign content = post.content %}
{% endif %}
          <h5>{{ post.title }}</h5>
          <p>{{ post.content | strip_html | truncatewords: 38 }} <a href="{{ site.url }}{{ post.url }}">Read more &raquo;</a></p> 
```

我一直未能找到在第三个结果之后插入“</div><div>”的方法。我试过循环和循环但没有运气。

社区可以提供此菜鸟的任何帮助将不胜感激。完成后，我将在 Github 上开源此模板。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-30T12:26:03.957

`cycle` should work:

```
{% cycle '', '', '', '</div><div>' %} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:32:39.047

如果您使用 for 循环遍历 post.content，则可以使用 forloop.index 或 forloop.index0 来确定当前迭代是否可以被三除并插入`</div><div>`.

查看[http://wiki.shopify.com/UsingLiquid#For_loops](http://wiki.shopify.com/UsingLiquid#For_loops)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-07-12T21:45:13.963

这应该有效（它适用于第一个，所以为什么不是第三个！）

```
{% if forloop.third %}
<aside class="ad">
    <p>sponsored by...</p>
    <!-- ad stuff -->
</aside>
{% endif %} 
```

# javascript - 淡化页面背景和播放动画

> ID：13640029
> 
> 赞同：0
> 
> 时间：2012-11-30T06:18:22.463
> 
> 标签：javascript, html, css, raphael

`Raphael`我有一个 html 页面，在其中我使用库制作了一些动画，其中矢量在画布上绘制`Raphael JS`。所以，这是我面临一些困惑的场景。

在初始点，我的 html 页面上需要有一个圆圈，带有一个 click 事件处理程序。单击圆圈应该淡出页面的其余部分并播放一些动画与圆圈。我现在可以播放动画，但是如何淡化其余部分，以便只有圆圈及其动画在页面上突出显示？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T06:34:16.053

1.  创建具有 100% 宽度和高度的覆盖 DIV，在页面其余部分上方的 z-index 和 display:none 属性（在此覆盖 div 中，您将拥有画布）
2.  在圆圈点击事件上使用 jquery $("#overlayDiv").fadeIn()
3.  现在做一些你试图用动画做的肮脏的事情。

# perl - 比较两个目录中文件的修改日期

> ID：13640030
> 
> 赞同：4
> 
> 时间：2012-11-30T06:18:26.410
> 
> 标签：perl

所以我为自己设计了一个小项目来帮助学习 Perl，这是我可以实际使用的东西。这个想法是比较 2 个目录中的文件修改日期列表。1 从 FTP 和 1 在我的本地，如果它们较新，则从本地上传（这部分可以稍后处理）。我创建了单独的脚本（我计划将它们组合起来，目前只是在修补），一个用于从 FTP 读取目录并获取文件。另一个比较2个目录中的文件列表（文件列表位于一个数组中），这就是问题所在。我可以得到它来比较两个目录。我似乎无法锻炼如何让它比较同名文件。如果只有一个目录中存在文件，它将将该文件与同一数组位置中的另一个文件进行比较。

这可以很容易地用 if 语句处理（我说很容易，但我不确定），但无法理解哪些参数会这样做。

到目前为止我所拥有的：

```
 opendir(IMD, "/TRAINING/Perl") || die("Cannot open directory"); 
        @thefiles= readdir(IMD); 
        opendir(IMD2, "/TRAINING/Perl2") || die("Cannot open directory"); 
        @thefiles2= readdir(IMD2)

    foreach my $file (@thefiles) {
     #  if ($file != @thefiles2[$counter]){
        if (compare($file, @thefiles2[$counter]) == 0){
            print $file, " Matches ";
            print @thefiles2[$counter], "\n";   
            $counter++;
        }

     #  elsif ($file == @thefiles2[$counter]){  
        elsif (compare($file, @thefiles2[$counter]) != 0){
            print $file, " ";
            print "Does not match";
            print @thefiles2[$counter], "\n";
            $counter++; 
        }
    } 
```

目前我只是比较相同数组位置的文件名，直到我可以正常工作，然后将其更改为使用日期。已经使用 -M 了，但现在正在做同样的事情。我意识到这远非我所需要的，并且确实需要任何指针，尤其是因为我的编程总体上很笨拙。

基本上我想要它做的，

```
If ($file1 !exists in $dir2){
    Print "not exists"
}
If ($file1 exists in $dir2){
    Compare its date with $file2 in $dir2 and print newer/older
} 
```

如果我现在可以让它工作，那么我可以慢慢地将它修改为我想要它做的事情。

感谢你们可以为我提供的任何帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-03T02:18:59.940

首先是你必须使用相对路径，而不是绝对路径。否则你永远不会得到匹配。因此，如果“基本”文件夹是 /Folder，那么文件 /Folder/subfolder/file 应该表示为 subfolder/file。

下一步是加载两个哈希，一个带有来自第一个位置的文件，另一个带有来自第二个位置的文件。使用相对路径作为键，然后值可以是您可以用来衡量“平等”的其他信息。修改时间，或文件大小，或 MD5 ......随你的便。

然后，您逐步检查第一个散列中的所有键，检查第二个散列中的每个键。如果它不存在，则该文件不在第二个位置（新文件？）。如果确实存在，那么您可以检查“平等”的相关值以查看文件是否已更新/更改。当您找到匹配项时，从第二个哈希中删除该键。然后，第二个哈希中剩下的是第一个位置不存在的文件（已删除的文件？）。

不过，这是棘手的事情。如果您尝试镜像，则必须了解文件夹。如果要添加文件，则必须先按排序顺序执行文件夹...例如，以便在尝试创建子文件夹/子文件夹 2/ 之前 mkdir 子文件夹/。

相反，如果您要删除内容，则必须颠倒上述操作...首先删除文件，然后按降序删除文件夹...例如，在尝试 rmdir subfolder/ 之前删除 subfolder/subfolder2/。

最后，您还必须能够影响接收端文件的修改时间。当您将文件 FTP 到服务器时，它将获取当前时间。这意味着如果您使用 MTIME 作为判断文件是否为新文件的一种方式，它将永远不会再次比较相等。并非所有 FTP 服务器都有更新文件时间的方法。

祝你好运。最后，像 rsync 这样的东西是一个更好的解决方案。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T06:58:19.267

首先，您不能依赖**readdir**返回有序列表的假设。因此，仅使用索引进行比较是错误的，即使您排序也不能依赖，因为可能存在其他目录中不存在的文件。此外，您的代码不适用于子目录。您可以使用的选项：

*   使用 Perl 模块，例如[File::DirWalk](http://search.cpan.org/~jensl/File-DirWalk-0.4/lib/File/DirWalk.pm)。这允许使用子目录，您可以制作包含文件路径及其修改时间的哈希，由**stat返回**
*   使用 unix 实用程序，例如 BSD [mtree(8)](http://www.freebsd.org/cgi/man.cgi?query=mtree&sektion=8)

# php - 如何合并我的代码？基于 JavaScript 和 PHP 的问题

> ID：13640031
> 
> 赞同：1
> 
> 时间：2012-11-30T06:18:27.513
> 
> 标签：php, javascript, jquery, effects, modular

我的页面相当简单直接。我首先使用 DIV 标记将外部 PHP 页面作为我页面中的元素调用。然后我隐藏主页上不需要的 div，然后滑入查看想要的“页面”并隐藏不需要的。

我想做的是滑入想要的内容并滑出当前活动/可见的内容。我知道我可以继续我已经开始做的事情，但整个文档会很臃肿。有任何想法吗？谢谢！

```
 <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>

  <script>
  $(document).ready(function(e) {
$(function(){
    $("div.design, div.marketing").hide();
    });
});

  $(document).ready(function() {

$("h3.home_button").click(function () {
      $("div.home").show("slide", { direction: "left" }, 500);
      $("div.design").hide();
      $("div.marketing").hide();
});

$("h3.design_button").click(function () {
      $("div.design").show("slide", { direction: "left" }, 500);
      $("div.home").hide();
      $("div.marketing").hide();
});

$("h3.marketing_button").click(function () {
      $("div.marketing").show("slide", { direction: "left" }, 500);
      $("div.home").hide();
      $("div.design").hide();
});

  });
  </script>

</head>

<body>

<div class="main">

    <div class="header">
        <?php include("header.php");?>
    </div>

    <div class="menu">
        <?php include("menu.php");?>
    </div>

    <div class="content">
        <?php include("content_home.php");?>
        <?php include("content_design.php");?>
        <?php include("content_marketing.php");?>

    </div>
    <div class="footer"><?php include("footer.php");?></div>

</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T06:34:36.827

您可以通过jquery 方法使用`data attributes`和访问它。`data()`

**在您的 HTML 中**

```
<h3 data-a='marketing'>marketing</h3>
<h3 data-a='design'>design</h3>
<div class='container'>
    <div style='display:none;' class='marketing'>
         marketing stuffs
    </div>
    <div class='design'>
         design stuffs
    </div>
</div>​ 
```

**在你的 javascript 中**

```
$('h3').click(function(){
    type = $(this).data('a');

    $('.container div').hide();
    $('.container').find('.'+type).show();
})​ 
```

这是一个示例[小提琴](http://jsfiddle.net/Wzj3H/1/)

您还两次调用 ready 方法

# c# - 在两个文本框之间进行检查

> ID：13640035
> 
> 赞同：1
> 
> 时间：2012-11-30T06:18:41.103
> 
> 标签：c#, winforms, textbox

我正在使用 C#（Visual Studio）中的更改密码窗口窗体应用程序。这就是我的应用程序的工作方式，在用户输入*新密码并通过文本框验证后，**新密码*文本框旁边将显示一个勾号。

我面临的问题是如何检查重新输入的密码是否与正在输入的新密码相同？在检查它们是否相同后，将出现勾号以向用户显示它已被选中并且相同。我不想单击任何按钮来检查两个文本框，而是在用户停止输入后检查。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T06:33:06.377

创建一个新的 Windows 窗体项目。在表单上放两个文本框，仅此而已。使用它们的默认名称`textBox1`并将`textBox2`下面的代码放入`Form1.cs`（因为这是文件的默认名称）。现在，当用户按下一个键时，就会进行比较。如果文本相同，则文本框的背景颜色变为绿色，否则变为红色。

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace WindowsFormsApplication1
{
    public partial class Form1 : Form
    {
        public Form1()
        {
            InitializeComponent();
            textBox1.KeyUp += textBox_Compare;
            textBox2.KeyUp += textBox_Compare;
        }

        private void textBox_Compare(object sender, KeyEventArgs e)
        {
            Color cBackColor = Color.Red;
            if (textBox1.Text == textBox2.Text)
            {
                cBackColor = Color.Green;
            }
            textBox1.BackColor = cBackColor;
            textBox2.BackColor = cBackColor;
        }
    }
} 
```

请注意，我没有使用设计器附加 KeyUp 事件，而是在 Form1 的构造函数中完成的：`textBox1.KeyUp += textBox_Compare;`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T06:36:16.880

我认为您应该验证`LostFocus`重新输入密码中的文本`TextBox`。在这里，您可以检查两个字段中的文本是否匹配并显示适当的消息。此外，这只会在用户完成该部分时触发一次。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T12:33:33.803

尝试这个：

在两个文本框上添加一个 textchanged 事件为此，请转到文本框的属性，单击“Thunderstorm”图标，滚动到“文本更改”双击，然后一旦文本框的文本发生更改，就会触发该事件。

```
 private void Form1_Load(object sender, EventArgs e)
        {
             //label1 = your tick
            label1.Visible = false;
        }

        private void textBox1_TextChanged(object sender, EventArgs e)
        {
            //if same, show, if different, hide
            if (string.Compare(textBox1.Text, textBox2.Text, true) == 0)
                label1.Visible = true;
            else
                label1.Visible = false;
        }

        private void textBox2_TextChanged(object sender, EventArgs e)
        {
             //if same, show, if different, hide
            if (string.Compare(textBox1.Text, textBox2.Text, true) == 0)
                label1.Visible = true;
            else
                label1.Visible = false;
        } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-30T06:24:07.153

我认为您可以使用`TextChanged`侦听器功能。或`keyDown`事件。

示例代码：

```
private System.Windows.Forms.TextBox textBox1;
private System.Windows.Forms.TextBox textBox2;

this.textBox1.TextChanged += new System.EventHandler(passwordChanged);
this.textBox2.TextChanged += new System.EventHandler(passwordChanged);

private void passwordChanged(object sender, EventArgs e)
{
    String newPassword1 = textBox1.Text;
    String newPassword2 = textBox2.Text;
    if (!newPassword1.Equals(newPassword2))
    {
        textBox1.BackColor = Color.Red;
        textBox2.BackColor = Color.Red;
    }
    else
    {
        textBox1.BackColor = Color.White;
        textBox2.BackColor = Color.White;
    }
} 
```

# android - 修改apk后如何重新生成Androidmanifest.xml文件

> ID：13640042
> 
> 赞同：0
> 
> 时间：2012-11-30T06:19:12.027
> 
> 标签：android, android-manifest, apk

我有一个 apk ，我想通过修改 res 文件夹的内容来对其进行一些自定义，但是如何将其重新打包为 apk，

我浏览了这个[链接](https://stackoverflow.com/questions/7360149/how-to-modify-a-pre-packaged-apk-file-on-client-side-by-user-who-is-using-my-des)，但不明白如何重新创建 androidmanifest.xml 文件。

谁能帮帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:47:35.430

从字面上看，**你不能**。考虑 .apk 与 Windows 上的可执行文件相同；您需要源进行更改。如果您可以随意编辑 .apk 来更改应用程序，您可以将每个应用程序更改为您的财产或包含您的姓名。

想到盗版 - 如果您可以轻松地将任何应用程序更改为看起来是您编写的（版权消息、窗口标题等），那么防止他人的应用程序被盗会变得更加困难。如果应用程序是您的（即您编写的），您应该拥有源代码（即构成应用程序的 Java 代码并放入 .apk 中），并且可以轻松更改它。如果该应用程序是由其他人编写并且您购买了它，则它不是您的“财产”（除非您也购买了源/权利），您应该联系作者以获取更改请求

然而，有一些方法可以反编译 Java 程序。您可以使用**dex2jar**，它为您开始寻找事物和更改提供了一个不错的开始。也许通过将这些部分重新安装在一起来重建代码。

您还可以使用诸如**apkTool 之**类的工具，然后如果您需要更改源代码，则需要其他工具来执行此操作，其中之一可能是**jd-gui**。

然后，您需要将 apk 重新组合在一起并对其进行签名，如果您没有用于签署 apk 的原始密钥，这意味着新的 apk 将具有不同的签名。

但是，让我说，正如我上面所说的，仍然禁止更改程序。而且是极不道德的。

# maven - 集成 Hudson、Maven 的问题

> ID：13640046
> 
> 赞同：0
> 
> 时间：2012-11-30T06:19:52.520
> 
> 标签：maven, build, hudson, pom.xml

我在 Mac 系统上集成 Hudson，独立于任何网络服务器，我使用命令部署了 hudson.war

```
java -jar hudson-2.2.1.war 
```

然后将我的项目与 hudson 控制台中的 hudson 集成。

在 shell 脚本部分输入以下命令

```
cp -rf /HomeDirectory/TestProject 
```

然后通过单击“立即构建”来构建项目

但我收到以下错误

```
[INFO] Scanning for projects...
[INFO] o.h.m.e.h.MavenExecutionResultHandler - Build failed with exception(s)
[INFO] o.h.m.e.h.MavenExecutionResultHandler - [1] org.apache.maven.project.ProjectBuildingException: Some problems were encountered while processing the POMs:
[FATAL] Non-readable POM /Users/abc/.hudson/jobs/testproject/workspace/pom.xml: /Users/abc/.hudson/jobs/testproject/workspace/pom.xml (No such file or directory) @ 
```

从这个日志中我了解到它找不到 pom.xml 这是真的，因为我在我的系统中找不到任何包含 pom.xml 的“.hudson”文件夹（我假设 .hudson 文件夹是在hudson.war 的部署时间）

谁能告诉我如何解决这个问题？？？

我做错了什么？

# java - 如何从 java 文件中更改 XML 按钮属性？

> ID：13640050
> 
> 赞同：4
> 
> 时间：2012-11-30T06:20:20.620
> 
> 标签：java, android, xml, debugging

我正在尝试从我的 java 文件中更改按钮上显示的文本，但运气不佳。在各种论坛上搜索了一段时间，并进行了谷歌搜索后，我学会了创建一个新按钮，然后使用 button.setText。但是，在我的应用程序突然结束并显示有关被迫退出的消息后，我决定进行一些调试。我发现问题出在这个 Java 类中。

```
package com.KenanDeHart.thebasics;

import android.app.Activity;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.content.Intent;

public class Showrole extends Activity {
    public static int players;
    public static int idx;
    public static int[] playArray;
    public static Button nextplayerButton =null;

        @Override
        public void onCreate(Bundle savedInstanceState) {
            super.onCreate(savedInstanceState);
            setContentView(R.layout.show_role);

            Bundle extras = getIntent().getExtras();
            Showrole.players = extras.getInt("PLAYERS");

            for (idx = 0; idx < players ; ++idx){

                display(idx);
                ++idx;
            }

        }

     public void display(int idx){
        Bundle extras = getIntent().getExtras();
        playArray = extras.getIntArray("PLAYARRAY");
        nextplayerButton = (Button) findViewById(R.id.nextplayer);
        nextplayerButton.setOnClickListener(new OnClickListener() {

                    @Override
                    public void onClick(View v) {
        nextplayerButton.setText(playArray[Showrole.idx]);
        }
        });
    }

    @Override
    protected void onPause() {
        super.onPause();
    }

    public void next(){

        Bundle extras = getIntent().getExtras();
        Button  button = (Button)findViewById(R.id.nextplayer);
        button.setText("Next Player");
        try {
            Thread.sleep(1000);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }

    }
} 
```

使用断点后，我想我找到了有问题的源代码。

```
 public void display(int idx){
    Bundle extras = getIntent().getExtras();
    playArray = extras.getIntArray("PLAYARRAY");
    nextplayerButton = (Button) findViewById(R.id.nextplayer);
    nextplayerButton.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View v) {
    nextplayerButton.setText(playArray[Showrole.idx]);
    }
    });
} 
```

更具体地说，这条线

```
nextplayerButton.setText(playArray[Showrole.idx]); 
```

当我按下继续时，会发生一系列事情。

1.  打开一个名为

    > ZygoteInit$MethodAndArgsCaller.run()

2.  我的手机震动了一次
3.  大约3秒过去
4.  我的手机快速振动了三下
5.  程序关闭

这是我的 logcat 日志

```
11-30 12:47:28.770: E/AndroidRuntime(9770): FATAL EXCEPTION: main
11-30 12:47:28.770: E/AndroidRuntime(9770): java.lang.NullPointerException
11-30 12:47:28.770: E/AndroidRuntime(9770):     at com.KenanDeHart.thebasics.Showrole$1.onClick(Showrole.java:51)
11-30 12:47:28.770: E/AndroidRuntime(9770):     at android.view.View.performClick(View.java:2461)
11-30 12:47:28.770: E/AndroidRuntime(9770):     at android.view.View$PerformClick.run(View.java:8888)
11-30 12:47:28.770: E/AndroidRuntime(9770):     at android.os.Handler.handleCallback(Handler.java:587)
11-30 12:47:28.770: E/AndroidRuntime(9770):     at android.os.Handler.dispatchMessage(Handler.java:92)
11-30 12:47:28.770: E/AndroidRuntime(9770):     at android.os.Looper.loop(Looper.java:123)
11-30 12:47:28.770: E/AndroidRuntime(9770):     at android.app.ActivityThread.main(ActivityThread.java:4627)
11-30 12:47:28.770: E/AndroidRuntime(9770):     at java.lang.reflect.Method.invokeNative(Native Method)
11-30 12:47:28.770: E/AndroidRuntime(9770):     at java.lang.reflect.Method.invoke(Method.java:521)
11-30 12:47:28.770: E/AndroidRuntime(9770):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:858)
11-30 12:47:28.770: E/AndroidRuntime(9770):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
11-30 12:47:28.770: E/AndroidRuntime(9770):     at dalvik.system.NativeStart.main(Native Method) 
```

注意这个错误

```
11-30 12:47:28.770: E/AndroidRuntime(9770):     at com.KenanDeHart.thebasics.Showrole$1.onClick(Showrole.java:51) 
```

我真的不确定这里发生了什么。这是我第一次使用Java，我才用了两天。我希望这个问题足够解释，我向你保证我已经完成了我的研究，但无济于事。我非常感谢有人可以给我的任何帮助。谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:46:00.503

如果它只是更改按钮上显示的文本。

将此添加为实例变量（在所有方法之外）

```
Button nextplayerButton =null; 
```

在 onCreate() 方法中获取按钮的引用。

```
nextplayerButton = (Button) findViewById(R.id.nextplayer);
nextplayerButton.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
nextplayerButton.setText(""+i);
}
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T15:19:17.607

根据 LogCat，第 42 行的 display() 方法中有一个 NullpointerException。

> 引起：java.lang.NullPointerException 11-30 06:44:37.147: E/AndroidRuntime(6601): at com.KenanDeHart.thebasics.Showrole.display(Showrole.java:42)

只需检查那里是否有未初始化的东西。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T06:30:45.347

通常，这应该有效：

```
setContentView(R.layout.activity_mail_sender);
        int i = 2;
        btn = (Button) findViewById(R.id.autoSendBtn);
        btn.setText(""+i); 
```

如果它已经存在于 xml 文件中，则不必在 java 代码中创建按钮。一定还有别的问题。请发布您的 logcat 错误

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-01T01:51:56.177

好吧，我知道发生了什么。

我的其他意图未正确传递数组“playArray”。我查看了变量树，发现它实际上等于 null。我通过发送带有意图的区域大小（这是在上一课中确定的变量）并在到达后创建数组来解决这个问题。

感谢大家的帮助。Stack Overflow 上的支持和帮助给我留下了深刻的印象。

# c# - 从可视化 Web 部件中的共享点 url 获取 id

> ID：13640051
> 
> 赞同：0
> 
> 时间：2012-11-30T06:20:22.427
> 
> 标签：c#, sharepoint-2010, web-parts

我想从可视化 Web 部件中的 sharepoint url 获取 id。像这样的东西

```
http://server/Lists/listname/dispform.aspx?id=1 
```

我只想获取 1 的 id 并分配 GetItemById 以使用该 id。

```
protected void Page_Load(object sender, EventArgs e)
    {
        using (SPSite site = new SPSite("url"))
        {
            using (SPWeb web = site.OpenWeb())
            {
                SPList lists = web.Lists["Test"];
                SPListItem item = lists.GetItemById(1);

                {

                   string test = Convert.ToString( item["Title"]);
                    TextBox1.Text = test;
                    string test2 = Convert.ToString(item["Description"]);
                    TextBox2.Text = test2;
                    string test3 = Convert.ToString(item["Assigned To"]);
                    TextBox3.Text = test3;
                }
            }
         }
    } 
```

从上面的代码中，我想根据 url 中显示的 id 分配 GetItemById 的值

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T06:37:11.960

我认为（基于要显示的项目的 url）你想要当前项目的 ID [SPContext.ListItem](http://msdn.microsoft.com/en-us/library/microsoft.sharepoint.spcontext.listitem.aspx)：

```
var id = SPContext.Current.ListItem.ID 
```

# java - 使用递增计数命名多个字符串

> ID：13640054
> 
> 赞同：1
> 
> 时间：2012-11-30T06:21:11.480
> 
> 标签：java, string, loops, for-loop

我想用一个递增的计数示例命名一个多字符串：字符串 str1、str2、str3、str4、str5、str6 等等这不是它的确切情况，但它是我能想到的最简单的例子

```
public static void main(String[] args) {
    for(int i = 0; i<10;i++)
        String str[i] = " "; // i want to name the String str1,str2,str3
    }
} 
```

这是我为尝试完成此任务而创建的基本 for 循环，但它不起作用。我还能如何用循环命名多个字符串

澄清并添加更多以防万一；我有一堂课：

```
public Player(String playerName, boolean isDealer){} 
```

&& 我有创建每个玩家的方法

```
 int amount; //amount of players

  for (int i = 0; i < amount; i++) {
    if(i == dealer){continue;}
    System.out.println("What is the name of player " + i + "?");
    playerName = IO.readString();
            isDealer = false;
        Player player.valueAt(i); //creating player1,player2,player3,playeri

        } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T06:34:06.073

您的要求至少不能由 java 完成，但您还有其他选择，例如：

### 1\. 数组

```
String[] str = new String[no-of-element];
for(int i = 0; i<str.length();i++){
  str[i] = "str"+i; 
} 
```

### 2\. 收藏

您可以根据需要使用[集合](http://docs.oracle.com/javase/tutorial/collections/index.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T06:23:51.877

字符串无法以这种方式工作，您需要考虑创建字符串数组

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T06:39:05.163

其他答案指出这在 JAVA 中是不可能的。但这里有一些解决方案：

***第一种方式：***使用`Map`with`Key`作为您生成的名称，如 str1、str2.... 和`value`您的字符串对象。然后当你想使用它们时，你可以使用它`get(name_of_str)`来获取你正在寻找的对象。

***第二种方式：***否则。但是，如果您仍然想这样做，请尝试使用`Metaprogramming`.

# pentaho - 存储库缓存刷新失败 + pentaho

> ID：13640060
> 
> 赞同：0
> 
> 时间：2012-11-30T06:21:46.010
> 
> 标签：pentaho

我正在使用 pentaho，我的应用程序一天运行良好，但下一次突然我的文件夹无法加载并显示在用户控制台中，当我尝试刷新错误消息时弹出一个消息

```
**"repository cache refresh failed "** 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T06:39:16.943

请检查 Pentaho 的 MySQL 数据库是否在线。

# javascript - 获取 Javascript 中所有当前按下的键的列表

> ID：13640061
> 
> 赞同：11
> 
> 时间：2012-11-30T06:21:50.443
> 
> 标签：javascript

在 Javascript 中，我想编写一个函数，该函数返回当前按下的所有键的列表（这样我就可以允许用户创建自定义键盘快捷键。）有没有办法在 Javascript 中获取所有当前按下的键的列表?

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-30T06:24:55.633

*   每当按下一个键时，`keydown`就会发送一个事件
*   每当释放一个键时，`keyup`就会触发一个事件

因此，您只需将键保存在数组中并检查您的组合是否为真。

### 例子

```
var keys = [];
window.addEventListener("keydown",
    function(e){
        keys[e.keyCode] = true;
        checkCombinations(e);
    },
false);

window.addEventListener('keyup',
    function(e){
        keys[e.keyCode] = false;
    },
false);

function checkCombinations(e){
    if(keys["a".charCodeAt(0)] && e.ctrlKey){
        alert("You're not allowed to mark all content!");
        e.preventDefault();
    }
} 
```

请注意，您应该尽可能使用`e.key`而不是`e.keyCode`（在这种情况下`var key = {}`，因为`e.key`是一个字符串）。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-11-30T18:31:34.273

在上一个答案的基础上改进，我编写了一个演示，在 keydown 和 keyup 上打印按下的键列表。

[这是在 jsfiddle 上。](https://jsfiddle.net/HwR9N/3/)

```
var keys = [];
document.body.innerHTML = "Keys currently pressed: "
window.addEventListener("keydown",
    function(e){
        keys[e.keyCode] = e.keyCode;
        var keysArray = getNumberArray(keys);
        document.body.innerHTML = "Keys currently pressed:" + keysArray;
        if(keysArray.toString() == "17,65"){
            document.body.innerHTML += " Select all!"
        }
    },
false);

window.addEventListener('keyup',
    function(e){
        keys[e.keyCode] = false;
        document.body.innerHTML = "Keys currently pressed: " + getNumberArray(keys);
    },
false);

function getNumberArray(arr){
    var newArr = new Array();
    for(var i = 0; i < arr.length; i++){
        if(typeof arr[i] == "number"){
            newArr[newArr.length] = arr[i];
        }
    }
    return newArr;
}
​ 
```

# c# - 监听套接字只监听一次

> ID：13640062
> 
> 赞同：0
> 
> 时间：2012-11-30T06:21:53.000
> 
> 标签：c#, sockets

我的下面的服务器套接字代码有问题 -`Main()`方法中的循环只执行一次，从不接受任何进一步的输入。

```
class Server
{
    public Socket servSock(int Port)
    {
        Socket s1 = null;
        IPHostEntry ipHE = Dns.GetHostEntry("localhost");
        IPAddress ipA = ipHE.AddressList[0];
        IPEndPoint ipEp = new IPEndPoint(ipA, Port);
        s1 = new Socket(ipEp.AddressFamily, SocketType.Stream, ProtocolType.Tcp);
        s1.Bind(ipEp);

        return s1;
    }

    const int BUFFSIZE = 1024;
    const int BACKLOG = 255;

    static void Main(string[] args)
    {            
        Nwork nwork = new Nwork();
        Socket cl = null;
        Socket s = nwork.servSock(400);
        s.Listen(BACKLOG);

        byte[] rcvBuffer = new byte[BUFFSIZE];            

        for (; ; )
        {
            string text = "";

            Console.Clear();
            cl = s.Accept();                    
            Console.Write("Handling Client >> " + cl.RemoteEndPoint +"\n\n\n");
            cl.Receive(rcvBuffer, BUFFSIZE, SocketFlags.None);
            text = Encoding.ASCII.GetString(rcvBuffer, 0, BUFFSIZE).TrimEnd('\0');
            Console.Write(text);
            cl.Close();
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T06:36:03.560

如果不深入研究您的代码，我会尝试在您的 for 循环中添加 s.Listen(BACKLOG) 。
请注意，这种方式您只能同时处理 i 个套接字连接，如果另一个人要尝试打开一个套接字连接，您的进程将忙于从先前的连接接收数据。
这取决于您的场景，但您可能希望异步实现它。如果您决定这样做，
[此链接可能会很有用。](http://msdn.microsoft.com/en-us/library/fx6588te.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T08:16:45.780

我不知道“Nwork”是什么，但我怀疑这是你的错误的来源。只需手动初始化套接字即可为我工作并允许后续连接。

```
static void Main(string[] args)
{
    Socket s = new Socket(SocketType.Stream, ProtocolType.TCP);
    Socket cl = null;
    System.Net.IPEndPoint endpoint = new System.Net.IPEndPoint(0, 400); // listen on all adapters on port 400
    s.Bind(endpoint);

    s.Listen(BACKLOG);

    byte[] rcvBuffer = new byte[BUFFSIZE];

    for (; ; )
    {
        string text = "";

        Console.Clear();
        cl = s.Accept();
        Console.Write("Handling Client >> " + cl.RemoteEndPoint + "\n\n\n");
        cl.Receive(rcvBuffer, BUFFSIZE, SocketFlags.None);
        text = Encoding.ASCII.GetString(rcvBuffer, 0, BUFFSIZE).TrimEnd('\0');
        Console.Write(text);
        cl.Close();
    }
} 
```

# sql - 减去两个日期时出错（数据类型不一致：预期的字符得到日期）

> ID：13640064
> 
> 赞同：0
> 
> 时间：2012-11-30T06:22:01.283
> 
> 标签：sql, oracle, oracle11g

我有一个查询，其中减去两个日期，但出现错误。这是查询

```
select LOSA_APP.app_ref_no AS "App.Ref.No.", 
       CODE_BRANCH.branch_name AS "Business Unit",
       ...,
       :endDate - LOSA_APP_Z.li_dt AS "Day Count",.
       ...
 from losa_app LOSA_APP
INNER JOIN code_branch CODE_BRANCH
   ON LOSA_APP.attend_branch = CODE_BRANCH.branch_id
....
where LOSA_APP.app_status='A'; -- Application Status in {‘accepted’} 
```

但我收到错误

```
ORA-00932: inconsistent datatypes: expected CHAR got DATE
00932\. 00000 -  "inconsistent datatypes: expected %s got %s"
*Cause: 
```

我做错了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:36:12.280

`:endDate`绑定变量是错误的原因。尝试`:endDate`使用函数将值显式转换为日期数据类型的值`to_date`。例如：

```
 ....

 to_date(:endDate, 'dd.mm.yyyy') - LOSA_APP_Z.li_dt AS "Day Count",

 .... 
```

# java - Java中的递归泛型定义和Stackoverflow

> ID：13640068
> 
> 赞同：7
> 
> 时间：2012-11-30T06:22:35.213
> 
> 标签：java, generics, stack-overflow, dfa

我正在为一些研究项目编写确定性有限自动机的实现，并且有一些弧会导致相同的状态。我为 State 编写了这个类，但我想知道为什么代码会产生 Stackoverflow：

```
 public class State extends HashMap<Character, HashSet<State>>
 {
    public static void main(String[]args)
    {
       State t=new State();
       t.addTransition('a',t);
       t.addTransition('b',t);
    }
    public void addTransition(Character symbol, State t )
    {
        if(!this.containsKey(symbol))
        {
            this.put(symbol, new HashSet<State>());
        }
        this.get(symbol).add(t);
    }
} 
```

令人惊讶的是，如果我删除“addTransition”调用之一，则没有错误。

我的 Java 版本是 JDK 1.6.37，操作系统是 Ubuntu Linux 12.04。

* *UPD：* *堆栈跟踪是：

```
Exception in thread "main" java.lang.StackOverflowError
at java.util.HashMap$KeyIterator.<init>(HashMap.java:843)
at java.util.HashMap$KeyIterator.<init>(HashMap.java:843)
at java.util.HashMap.newKeyIterator(HashMap.java:857)
at java.util.HashMap$KeySet.iterator(HashMap.java:891)
at java.util.HashSet.iterator(HashSet.java:170)
at java.util.AbstractSet.hashCode(AbstractSet.java:122)
at java.util.HashMap$Entry.hashCode(HashMap.java:737)
at java.util.AbstractMap.hashCode(AbstractMap.java:494)
at java.util.AbstractSet.hashCode(AbstractSet.java:126)
at java.util.HashMap$Entry.hashCode(HashMap.java:737)
at java.util.AbstractMap.hashCode(AbstractMap.java:494)
at java.util.AbstractSet.hashCode(AbstractSet.java:126)
at java.util.HashMap$Entry.hashCode(HashMap.java:737)
...
at java.util.AbstractMap.hashCode(AbstractMap.java:494)
at java.util.AbstractSet.hashCode(AbstractSet.java:126)
at java.util.HashMap$Entry.hashCode(HashMap.java:737)
at java.util.AbstractMap.hashCode(AbstractMap.java:494)
at java.util.AbstractSet.hashCode(AbstractSet.java:126)
at java.util.HashMap$Entry.hashCode(HashMap.java:737) 
```

任何意见？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-30T06:44:38.520

Having run this program, I think the problem is the following: since you are adding a transition from the node to itself, you end up with a `HashMap` that maps a character to itself. When you try adding in the second transition, it needs to add the object into a `HashSet`. The problem is that in order to do this, it needs to compute a hash code for your object. Since your object extends `HashMap`, it uses the `HashMap` code to compute the hash code for your object. To do this, it tries to recursively construct the hash code for all the objects in the `HashMap`, which includes itself. It thus recursively tries to compute its own hash code, which requires it to compute its own hash code, which requires it to compute its own hash code, etc.

I'm not sure what the best fix for this is, but I would start by not having this object extend `HashMap`. **[It is generally considered a bad idea to use inheritance when you mean to use composition](http://en.wikipedia.org/wiki/Composition_over_inheritance)**. Making a `HashMap` a direct field of the object means that you'll break this cycle because Java will use the default implementation of `hashCode`, which doesn't try to compute a deep hash code for the object.

Hope this helps!

# jquery - 基于媒体查询和视口大小运行 Jquery 函数

> ID：13640071
> 
> 赞同：0
> 
> 时间：2012-11-30T06:22:40.143
> 
> 标签：jquery, css, responsive-design, media-queries

我有一个在我的网站上完美运行的 jquery 函数，它隐藏并显示了一个隐藏的潜水，其中包含一个内联块列表。

```
<script type="text/javascript">
jQuery(document).ready(function(){
jQuery.noConflict();
jQuery('#mdiv').click(function(){jQuery('#subNav').slideToggle(1000)});
jQuery("#subNav").mouseleave(function () {jQuery('#subNav').slideToggle(1000)});
});
</script> 
```

现在我正在尝试使用媒体查询为智能手机创建响应式网页和响应式 CSS 导航。我想做的是继续在桌面等常规视口屏幕上启用 jquery，而不是在响应式智能手机尺寸上添加 4 个新的 li 到 ol。这是我的响应式导航代码

```
enter code here
@media only screen and (min-width: 0px) and (max-width: 479px) {
#nav .current{background:#666; -moz-border-radius: 5px; -webkit-border-radius: 5px;  border-radius: 5px; background:none; }
#nav { margin: -20 2% 0 0; padding: 0; }
#nav li { margin: 0; display: block; float: left; width: 100%; clear: none; background:none; }
#nav a { width:150px; margin-top: 5px; padding: 6px 0 8px; text-indent: 10px; color: #fff; background: rgba(194,100,40,0.75) url(images/bg_arrow_white.png) 96% 50% no-repeat; border-top: 1px solid rgb(194,100,40); -moz-border-radius: 5px; -webkit-border-radius: 5px; border-radius: 5px; }
#nav a:hover { border-bottom: none; }
} 
```

您能帮我找出如何根据视口大小运行两个 jquery 函数吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-18T01:57:22.347

这可能不是您正在寻找的功能，但您可以尝试一下：http: [//jsfiddle.net/XvzD7/1/](http://jsfiddle.net/XvzD7/1/)

通过将匿名回调绑定到 windows`resize`事件触发器，您可以在窗口宽度变得小于或大于所需量时执行代码。在上面的例子中，我只是简单地`background-color`记录`#container div`.

有关更多信息，您可以查看本文的“Javascript 配对”部分：[http ://www.quirksmode.org/blog/archives/2010/08/combining_media.html](http://www.quirksmode.org/blog/archives/2010/08/combining_media.html)

如果我的答案提供的问题多于答案，请告诉我。希望这可以帮助！

# sql-server - SQL Server , 插入触发器

> ID：13640074
> 
> 赞同：0
> 
> 时间：2012-11-30T06:22:47.610
> 
> 标签：sql-server, triggers

```
recid  | EffectiveFrom | EffectiveTo
------------------------------------
   1   | 2012-11-25    | 2012-11-30
   2   | 2012-11-26    | null 
```

我需要一个触发器来检查新日期是否介于`effectivefrom`和之间`effectiveTo` 并停止插入..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T07:15:18.133

尝试这个 ：

```
USE {yourDB}; 

CREATE TRIGGER insertRecord ON {tblName}
INSTEAD OF INSERT
AS
BEGIN
    DECLARE @EffectiveFrom DATE;
    DECLARE @EffectiveTo DATE;
    DECLARE @newDate DATE;
    SET @newDate = GETDATE();  -- DATE WHICH YOU WANT TO CHEK
    SELECT @EffectiveFrom = EffectiveFrom FROM INSERTED;
    SELECT @EffectiveTo = EffectiveTo FROM INSERTED;

    IF (@newDate > @EffectiveFrom AND @newDate < @EffectiveTo)
        BEGIN
        INSERT INTO [{yourDB}].[dbo].[{tblName}] 
        SELECT * FROM INSERTED;
        PRINT 'DATA SUCCESSFULLY ADDED.'
        END
    ELSE PRINT 'ERROR : DATE IS NOT IN BETWEEN EffectiveFrom and EffectiveTo DATE'
END

INSERT INTO [{yourDB}].[dbo].[{tblName}] VALUES(CAST('24-NOV-2012' AS DATE),CAST('30-NOV-2012' AS DATE)) 
```

消息 --result 错误：日期不在 EffectiveFrom 和 EffectiveTo DATE 之间

```
INSERT INTO [{yourDB}].[dbo].[{tblName}] VALUES(CAST('24-NOV-2012' AS DATE),CAST('02-DEC-2012' AS DATE)) 
```

消息——结果（1 行受影响）数据已成功添加。

# java - 最适合电信领域实时应用的 JVM 实现

> ID：13640075
> 
> 赞同：0
> 
> 时间：2012-11-30T06:22:48.350
> 
> 标签：java, jvm

在 JVM 的众多实现中，哪一个最适合实时应用，例如电信领域的应用？

我正在研究电信域的应用程序，并希望获得有关选择 JVM 的一些建议。

目前正在使用 HotSpot，但在某处阅读了有关 JRockit 和 Azul 的信息。

如果有人使用这些 JVM 中的一种并且在性能方面取得了一些重大改进，请分享。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-02T11:50:27.750

HostSpot JVM 是相当不错且具有成本效益的选择。它提供了很少的 GC 算法，特别是 Concurrent Mark Sweep 非常适合某些类型的实时应用程序。G1 是另一种低暂停 GC 算法，由 Oracle 积极推动，但到目前为止它的结果相当令人失望。

JRockit - 是死路一条。它从来没有很好的低暂停 GC 算法，它将被合并到 HotSpot。

Azul Zing - 与 HotSpot/JRockit 相比是另一个联盟。它确实可靠地保持 GC 暂停以毫秒为单位，但它需要更复杂的设置。它几乎没有部署选项（虚拟设备等），只要它适合您的基础架构，您就应该检查它。

一般注意事项

没有 JVM 可以**保证**您的 GC 暂停时间最少，它总是**尽力而为**。影响 GC 暂停持续时间的因素有很多，其中大多数是特定于应用程序的。

如果您正在寻求低于 5 毫秒的**保证**响应时间（不仅仅是 99.9...% 响应，而是 100%），您应该考虑避免使用 Java 堆内存的技术（即使用堆外内存或静态内存预分配）。

这里有几个链接，您可以在其中找到有关 GC 算法和低暂停调整的更多具体细节。

*   [理解 JVM 中的 GC 暂停，HotSpot 的次要 GC](http://blog.ragozin.info/2011/06/understanding-gc-pauses-in-jvm-hotspots.html)
*   [理解 JVM 中的 GC 暂停，HotSpot 的 CMS 收集器](http://blog.ragozin.info/2011/06/understanding-gc-pauses-in-jvm-hotspots_02.html)
*   [JRockit GC 在行动](http://java.dzone.com/)
*   [数据网格节点的 GC 清单](http://blog.ragozin.info/2011/07/gc-check-list-for-data-grid-nodes.html)

# r - 如何将csv文件中的日期字符串转换为日期格式

> ID：13640076
> 
> 赞同：1
> 
> 时间：2012-11-30T06:23:00.157
> 
> 标签：r

> **可能重复：**
> [将任意格式的字符串转换为 R 中的 dd-mm-yy hh:mm:ss](https://stackoverflow.com/questions/13642175/convert-string-of-anyformat-into-dd-mm-yy-hhmmss-in-r)

在 excel 文件中有日期值就像`12/12/2010`我需要从 Excel 文件中以`dd-mm-yyy hh:mm:ss`格式提取日期一样。我怎么能在 R 中做到这一点？

当我尝试使用

```
strftime(as.POSIXct(as.Date(startdate)), format="%d-%m-%Y %H:%M:%S", tz="UCT") 
```

用日期做到这一点`12/12/2000`，

```
I got the result like this: `0012-12-20 00:00:00`. 
```

感谢您的帮助。但我需要将任何日期格式转换为
“dd-mm-yyyy hh mm ss”。如果我给出任何格式的日期，例如 - dd-mm-yyyy 或 mm-dd-yyyy 或 yyyy-mm-dd 其中任何一个，我需要“dd-mm-yy hh mm ss”中的结果格式

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:17:00.323

这个怎么样：

```
as.Date("12/31/2000", format="%m/%d/%Y") 
```

它产生一个[Date](http://stat.ethz.ch/R-manual/R-devel/library/base/html/Dates.html)对象，或者：

```
d1 <- strptime("12/31/2000 17:35:17", format="%m/%d/%Y %H:%M:%S")
class(d1)
[1] "POSIXlt" "POSIXt"
d1
[1] "2000-12-31 17:35:17" 
```

# sharepoint-2010 - Sharepoint 2010 安装准备工作

> ID：13640077
> 
> 赞同：0
> 
> 时间：2012-11-30T06:23:02.203
> 
> 标签：sharepoint-2010

首先抱歉，如果这是转发或发现重复。

我即将在我的笔记本电脑中安装 sharepoint 2010 进行开发。我正在使用带有 8GB RAM 的 win 7 64 位笔记本电脑，安装了 vs 2010。

我有带有 SP1 标准许可证的 SP2010。

已经访问了许多先决条件咨询页面，但没有得到满意/完整的答案，因此决定在这里写下我的疑问。

以下是我的查询

*   我可以从自动运行 CD 开始吗（对不起，如果这听起来很愚蠢。请注意我正处于具有 VS 编程背景的 SP2010 的开始阶段）。

*   我可以在安装后从 sp2010 连接到 sql server 2005（32 位）进行编程吗？技术上是否可行。

*   我是否需要在安装 SP2010 之前安装 sql 2005/2008（64 位）或者我可以在完成 SP2010 的安装后安装它。

如果有的话，请提供指点，以便我可以顺利安装 sp2010。

**编辑：**

从以下网址下载了一堆文件

[http://www.microsoft.com/en-us/download/details.aspx?displaylang=en&id=27417](http://www.microsoft.com/en-us/download/details.aspx?displaylang=en&id=27417)

谁能建议我应该使用哪个虚拟机来运行 sp2010 的 vhd 映像

谢谢 ：）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:42:41.563

不建议在 Windows 7 上安装，并且往往会遇到一些不兼容问题。可以用虚拟机吗？[这是一个对 Win 7 安装有用的链接。](http://msdn.microsoft.com/en-us/library/ee554869%28office.14%29.aspx)

回答您的问题：

1.  您可以从 DVD 或已安装的映像进行安装。
2.  您可以使用 SQL 2005，但只能使用 64 位。
3.  您应该在安装 SharePoint 之前安装 SQL Server，这样它会更加自动化

# javascript - 事件委托与每个 DOM 的关联对象

> ID：13640091
> 
> 赞同：0
> 
> 时间：2012-11-30T06:24:21.737
> 
> 标签：javascript, dom, event-delegation

我有一些 DOM 元素是通过事件和 clousure 动态创建的。

像这样的东西：

```
 var container = document.getElementById("container");
    var objects = [{ name: "test" }, {name: "test2"}]
    for(var i = 0; i < objects.length; i+=1){
            var dom = document.createElement("div");
            dom.addEventListener("click", (function(obj){
                    return function(){
                            alert(obj.name);
                    };
            }(objects[i]), false);
            container.appendChild(dom);
    } 
```

我的问题是我该如何使用事件委托呢？所以所有的点击事件都在#container dom 上，但仍然有与 dom 关联的 obj-object。

我想我可以使用另一个对象并将其用作“散列”表，带有 dom 元素和 obj，然后在“散列”表上使用 e.target，但没有更好的解决方案吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T06:34:58.923

简而言之（未经测试）：

```
var container = document.getElementById("container");
    var objects = [{ name: "test" }, {name: "test2"}]
    for(var i = 0; i < objects.length; i+=1){
            var dom = document.createElement("div");
            objects[i].instance = dom;
            container.appendChild(dom);
    }

container.addEventListener("click",function(event){
      for(var i in objects){
      if(event.target == objects[i].instance){
       alert(objects[i].name);
       break;
      }
}
}, false); 
```

# delphi - Delphi - 需要 XE2 代码到 Delphi7。使用wininet下载文件

> ID：13640092
> 
> 赞同：1
> 
> 时间：2012-11-30T06:24:24.673
> 
> 标签：delphi, download, delphi-7, wininet, code-conversion

注意：我只想使用wininet，而不是urlmon-urldownloadtofile。

好吧，我有以下代码可以在 XE2 中完美地下载文件：

```
procedure DownloadFile(URL: string; Path: string);
const
  BLOCK_SIZE = 1024;
var
  InetHandle: Pointer;
  URLHandle: Pointer;
  FileHandle: Cardinal;
  BytesRead: Cardinal;
  DownloadBuffer: Pointer;
  Buffer: array [1 .. BLOCK_SIZE] of byte;
  BytesWritten: Cardinal;
begin
  InetHandle := InternetOpen(PWideChar(URL), 0, 0, 0, 0);
  URLHandle := InternetOpenUrl(InetHandle, PWideChar(URL), 0, 0, 0, 0);
  FileHandle := CreateFile(PWideChar(Path), GENERIC_WRITE, FILE_SHARE_WRITE, 0,
CREATE_NEW, FILE_ATTRIBUTE_NORMAL, 0);
  DownloadBuffer := @Buffer;
  repeat
    InternetReadFile(URLHandle, DownloadBuffer, BLOCK_SIZE, BytesRead);
    if not WriteFile(FileHandle, DownloadBuffer, BytesRead, BytesWritten, 0) or
  (BytesWritten <> BytesRead) then
      RaiseLastOSError;
  until BytesRead < BLOCK_SIZE;
  CloseHandle(FileHandle);
  InternetCloseHandle(URLHandle);
  InternetCloseHandle(InetHandle);
end; 
```

上述代码的功劳[归于 jachguate](https://stackoverflow.com/users/255257/jachguate)。他编辑了我的代码以更正它，我为此感谢他。

现在，这段代码只能在 Delphi XE2 下正常工作。我尝试在 Delphi 7 下使用它，但它无法正常工作。似乎多次将相同的“行”或“字节序列”存储到文件中。

以下是我尝试在 Delphi 7 中使用的上述代码的两种改型——它们都不能正常工作。

```
procedure DownloadFile(URL: string; Path: string);
const
  BLOCK_SIZE = 1024;
var
  InetHandle: Pointer;
  URLHandle: Pointer;
  FileHandle: Cardinal;
  BytesRead: Cardinal;
  DownloadBuffer: Pointer;
  Buffer: array [1 .. BLOCK_SIZE] of byte;
  BytesWritten: Cardinal;
begin
  InetHandle := InternetOpen(PChar(URL), 0, 0, 0, 0);
  URLHandle := InternetOpenUrl(InetHandle, PChar(URL), 0, 0, 0, 0);
  FileHandle := CreateFile(PChar(Path), GENERIC_WRITE, FILE_SHARE_WRITE, 0,
CREATE_NEW, FILE_ATTRIBUTE_NORMAL, 0);
  DownloadBuffer := @Buffer;
  repeat
    InternetReadFile(URLHandle, DownloadBuffer, BLOCK_SIZE, BytesRead);
    if not WriteFile(FileHandle, DownloadBuffer, BytesRead, BytesWritten, 0) or
  (BytesWritten <> BytesRead) then
      RaiseLastOSError;
  until BytesRead < BLOCK_SIZE;
  CloseHandle(FileHandle);
  InternetCloseHandle(URLHandle);
  InternetCloseHandle(InetHandle);
end; 
```

* * *

```
procedure DownloadFile(URL: string; Path: string);
const
  BLOCK_SIZE = 1024;
var
  InetHandle: Pointer;
  URLHandle: Pointer;
  FileHandle: Cardinal;
  BytesRead: Cardinal;
  DownloadBuffer: Pointer;
  Buffer: array [1 .. BLOCK_SIZE] of byte;
  BytesWritten: Cardinal;
begin
  InetHandle := InternetOpen(PAnsiChar(URL), 0, 0, 0, 0);
  URLHandle := InternetOpenUrl(InetHandle, PAnsiChar(URL), 0, 0, 0, 0);
  FileHandle := CreateFile(PAnsiChar(Path), GENERIC_WRITE, FILE_SHARE_WRITE, 0,
CREATE_NEW, FILE_ATTRIBUTE_NORMAL, 0);
  DownloadBuffer := @Buffer;
  repeat
    InternetReadFile(URLHandle, DownloadBuffer, BLOCK_SIZE, BytesRead);
    if not WriteFile(FileHandle, DownloadBuffer, BytesRead, BytesWritten, 0) or
  (BytesWritten <> BytesRead) then
      RaiseLastOSError;
  until BytesRead < BLOCK_SIZE;
  CloseHandle(FileHandle);
  InternetCloseHandle(URLHandle);
  InternetCloseHandle(InetHandle);
end; 
```

唯一编辑的是数据类型转换。使用示例一“PChar”，使用示例二“PAnsiChar”。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-30T13:52:41.413

`DownloadBuffer`您在文件中收到垃圾，因为您需要使用 char取消引用指针`^`，因此要修复您的方法只需替换此代码

```
WriteFile(FileHandle, DownloadBuffer, BytesRead, BytesWritten, 0) 
```

这样

```
WriteFile(FileHandle, DownloadBuffer^, BytesRead, BytesWritten, 0) 
```

顺便说一句，请记住将 try..finally 块添加到您的函数中，以确保在发生异常时释放句柄。

# html - 如何为低于特定浏览器宽度的响应提供视网膜图像？

> ID：13640093
> 
> 赞同：2
> 
> 时间：2012-11-30T06:24:29.453
> 
> 标签：html, css, media-queries, retina-display

我正在制作一个带有居中徽标的单页网站。

我有这个标志的 4 个版本。常规尺寸，常规@x2，移动，移动@x2。

我想出了如何在适当的情况下提供大多数适当的徽标，但无法弄清楚如何提供 mobile@x2 版本的徽标。

这是我用于这些徽标的媒体查询代码。

常规@x2：

```
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) 
```

移动的：

```
@media handheld, only screen and (max-width: 767px) 
```

当浏览器窗口的宽度低于 767 像素时，有没有办法将两者结合起来创建一个用于视网膜显示的版本？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-11T15:58:04.143

```
@media (-webkit-min-device-pixel-ratio: 2) and (max-width: 767px), (min-resolution: 192dpi) and (max-width: 767px) 
```

应该工作，不是吗？抱歉，我没有视网膜显示器...

# facebook - 已达到 Facebook 的应用程序请求限制

> ID：13640099
> 
> 赞同：3
> 
> 时间：2012-11-30T06:25:04.337
> 
> 标签：facebook, facebook-graph-api

由于某种原因，我收到了这个错误：

```
{
  "error": {
    "message": "(#4) Application request limit reached", 
    "type": "OAuthException", 
    "code": 4
  }
} 
```

根据我的调查，每日请求限制似乎是 1 亿个请求。Insights -> Developer -> Activity and Errors 不会实时更新（滞后 4 天），没有任何限制/节流/错误可言。我的最高请求率是在 21 日，它是 500k，我认为我没有收到任何请求限制达到错误（当天最高错误是 1000 个错误）。

知道我可以做些什么来解决这个问题吗？或者至少找出我的应用程序有哪些限制？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-07T15:27:54.247

我有同样的错误。我认为有一个 facebook 错误：[https ://developers.facebook.com/bugs/442544732471951?browse=search_50bc5133cf13d5c74557627](https://developers.facebook.com/bugs/442544732471951?browse=search_50bc5133cf13d5c74557627)

请订阅此错误以快速解决它...

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-10T06:47:46.373

此处引用：[已达到 Facebook 应用程序请求限制](https://stackoverflow.com/questions/9272391/facebook-application-request-limit-reached)

> 有一个限制，但它非常高，除非他们对所有调用使用相同的访问令牌而不是缓存结果等，否则应该很难命中**。每个访问令牌每 600 秒有 600 次调用。**

# php - 如何防止php站点的浏览器缓存

> ID：13640109
> 
> 赞同：144
> 
> 时间：2012-11-30T06:26:12.153
> 
> 标签：php, http-headers, browser-cache, cache-control

我有一个在云服务器中运行的 php 站点。每当我添加新文件 css、js 或图像时，浏览器都会加载存储在缓存中的相同的旧 js、css 和图像文件。

我的网站有一个文档类型和元标记，如下所示

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Page-Enter" content="blendTrans(Duration=1.0)">
  <meta http-equiv="Page-Exit" content="blendTrans(Duration=1.0)">
  <meta http-equiv="Site-Enter" content="blendTrans(Duration=1.0)">
  <meta http-equiv="Site-Exit" content="blendTrans(Duration=1.0)"> 
```

由于上述文档类型和元代码，我是否加载了缓存在浏览器中的相同文件而不是新文件

* * *

## 回答 #1

> 赞同：337
> 
> 时间：2012-11-30T06:33:23.610

尝试这个

```
<?php

header("Cache-Control: no-store, no-cache, must-revalidate, max-age=0");
header("Cache-Control: post-check=0, pre-check=0", false);
header("Pragma: no-cache");
?> 
```

* * *

## 回答 #2

> 赞同：44
> 
> 时间：2014-02-06T17:17:25.683

在这里，如果您想通过 HTML 控制它：请执行以下**选项 1：**

```
<meta http-equiv="expires" content="Sun, 01 Jan 2014 00:00:00 GMT"/>
<meta http-equiv="pragma" content="no-cache" /> 
```

如果你想通过 PHP 控制它：像下面的**选项 2 那样做：**

```
header('Expires: Sun, 01 Jan 2014 00:00:00 GMT');
header('Cache-Control: no-store, no-cache, must-revalidate');
header('Cache-Control: post-check=0, pre-check=0', FALSE);
header('Pragma: no-cache'); 
```

并且**选项 2**总是更好，以避免基于代理的缓存问题。

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2015-01-27T10:56:00.567

你可以试试这个：

```
 header("Expires: Tue, 03 Jul 2001 06:00:00 GMT");
    header("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT");
    header("Cache-Control: no-store, no-cache, must-revalidate, max-age=0");
    header("Cache-Control: post-check=0, pre-check=0", false);
    header("Pragma: no-cache");
    header("Connection: close"); 
```

希望它有助于防止缓存，如果有的话！

* * *

## 回答 #4

> 赞同：10
> 
> 时间：2015-10-12T13:11:49.200

我在缓存我的 css 文件时遇到了问题。在 PHP 中设置标题对我没有帮助（可能是因为需要在样式表文件中设置标题，而不是在链接到它的页面中设置？）。

我在此页面上找到了解决方案：[https ://css-tricks.com/can-we-prevent-css-caching/](https://css-tricks.com/can-we-prevent-css-caching/)

**解决方案：**

**附加时间戳作为链接文件的 URI 的查询部分。**
（可用于css、js、图片等）

对于开发：

`<link rel="stylesheet" href="style.css?<?php echo date('Y-m-d_H:i:s'); ?>">`

对于生产（缓存主要是一件好事）：

`<link rel="stylesheet" type="text/css" href="style.css?version=3.2">`
（并在需要时手动重写）

或这两者的组合：

```
<?php
    define( "DEBUGGING", true ); // or false in production enviroment
?>
<!-- ... -->
<link rel="stylesheet" type="text/css" href="style.css?version=3.2<?php echo (DEBUGGING) ? date('_Y-m-d_H:i:s') : ""; ?>"> 
```

**编辑：**

或者这两者的更漂亮的组合：

```
<?php
    // Init
    define( "DEBUGGING", true ); // or false in production enviroment
    // Functions
    function get_cache_prevent_string( $always = false ) {
        return (DEBUGGING || $always) ? date('_Y-m-d_H:i:s') : "";
    }
?>
<!-- ... -->
<link rel="stylesheet" type="text/css" href="style.css?version=3.2<?php echo get_cache_prevent_string(); ?>"> 
```

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2018-06-21T19:01:46.257

视情况而定，防止浏览器缓存不是一个好主意。寻找解决方案我找到了这样的解决方案：

```
<link rel="stylesheet" type="text/css" href="meu.css?v=<?=filemtime($file);?>"> 
```

这里的问题是，如果文件在服务器上的更新期间被覆盖，这是我的场景，缓存将被忽略，因为时间戳被修改，即使文件的内容相同。

我使用此解决方案强制浏览器仅在其内容被修改时才下载资产：

```
<link rel="stylesheet" type="text/css" href="meu.css?v=<?=hash_file('md5', $file);?>"> 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2021-03-02T19:34:57.473

您还可以对缓存文件使用查询字符串。它不会影响您的样式和 js 文件的行为。

例如：

```
example.com/mystyle.css -> 
example.com/mystyle.css?<?php echo random(1000, 5000); ?> 
```

# typescript - 在 super() 调用中访问它

> ID：13640111
> 
> 赞同：3
> 
> 时间：2012-11-30T06:26:45.177
> 
> 标签：typescript

```
class MySystem extends ListIteratingSystem {
    constructor (private creator: EntityCreator) {
        super(MyNode, this.updateNode);
    }

    updateNode() {/* sniiiiip */}

    /* sniiiip */
} 
```

在上面的代码中，我需要某种方式将 updateNode 函数传递给 super 调用。编译器对此抱怨说：

`Keyword 'this' cannot be referenced in initializers in a class body, or in super constructor calls`

关于如何解决这个问题的任何想法？这里的用例是我已经将大量与列表遍历等相关的样板代码抽象到这个基类中，该基类由几个执行实际工作的特定系统扩展。基类需要调用更新、添加和删除的方法...

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-30T06:56:19.877

我不是 100% 清楚您的用例的语义，但您可以根据目标选择一些选项。

首先是将`updateNode`//定义为`addNode`基`removeNode`类的成员，并让派生类覆盖它们（而不是将它们指定为构造函数参数）。这对于您的派生实现来说不太清楚，因为 TypeScript 没有“抽象”的概念，但可能是最干净和最简单的。

第二个是重构一点，让派生类提供一个*类型*参数而不是方法列表，并将更新/添加/删除函数放在“姐妹”类中，以让基类提供该功能的方式它们是您本来可以从中获得的所需上下文`this`。这是更多的工作，但更好地分离了关注点。如果您正在尝试实现控制模式的反转，那么通过组合而不是继承可能会更好。

最后一个选项是将此处的整个类层次结构颠倒过来，并将遍历/等代码移动到这些单独的实现将使用的单独类中，从本质上消除现有代码中的任何控制反转。

我应该补充一点，您未`this`在基类构造函数参数位置中引用的限制通常是一个非常好的限制 - 试图违反它通常意味着您将自己设置为进一步失败。`MySystem`在这种情况下，如果没有适当的限制，当您尝试从 继承时，或者当`ListIteratingSystem`决定它应该`updateNode`在构建期间的某个时间调用时，您可能会遇到大麻烦。出于同样的原因，C# 中的 FxCop 强制执行此限制。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-11-17T08:05:46.847

从 TypeScript 1.3 开始，您可以使用 protected 关键字和后期绑定，因此您不必将方法传递给超类。

仍然没有`abstract`关键字，因此您必须提供默认行为或在基类中引发异常 - 但`protected`关键字允许您覆盖基类实现（在当前版本的 TypeScript 中，private 关键字不允许这样做） .

```
class ListIteratingSystem {
    doSomething() {
        this.updateNode();
    }

    protected updateNode() {
        alert('Super');
    }
}

class MySystem extends ListIteratingSystem {
    protected updateNode() {
        alert('Sub');
    }
}

var a = new ListIteratingSystem();
a.doSomething();

var b = new MySystem();
b.doSomething(); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-30T06:52:26.320

你为什么不重写这样的方法：

```
class ListIteratingSystem {
    execute() {
        this.executeOnStart();
    };

    private executeOnStart() {
       throw new Error('This method is abstract');
    };
};

class MySystem extends ListIteratingSystem {
    constructor (/*...*/) {
        super();
    }

   private executeOnStart() {
       alert("derived");
    };
} 
```

执行`new MySystem().execute();`显示警报。

不幸的是，还没有很好的方法来制作`executeOnStart`方法`protected abstract`。这有点违反直觉，但请记住可见性访问器仅用于编译器和智能。

# javascript - jQuery / JavaScript：减去当前的“值”直到“零”

> ID：13640112
> 
> 赞同：0
> 
> 时间：2012-11-30T06:26:44.913
> 
> 标签：javascript, jquery, mysql, html, web

这是一个简单的；假设我有一个从数据库中提取值的脚本，并且每次用户单击按钮时，该值都会减少一个计数，我如何防止该值降至零以下，

```
 if(count>0){
           $.post(sessionStorage.server, { count:count ,request:"counter",user:sessionStorage.sname });
        }

if(count==0){
            alert("Your value is now zero");
            sessionStorage.clear();
            sessionStorage.msg="Logged off, ran out of clicks";
            window.location.href = "../index.html";
        } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T06:33:39.250

尝试这个

```
if(count==0){
            alert("Your value is now zero");
            sessionStorage.clear();
            sessionStorage.msg="Logged off, ran out of clicks";
            window.location.href = "../index.html";
        }
else if(count>0){
           $.post(sessionStorage.server, { count:count ,request:"counter",user:sessionStorage.sname });
        } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T06:48:52.140

orig代码看起来不错，只是一点建议

1.add else会提高js性能

```
if(count>0){
       $.post(sessionStorage.server, { count:count ,request:"counter",user:sessionStorage.sname });
}
else if(count==0){
        alert("Your value is now zero");
        sessionStorage.clear();
        sessionStorage.msg="Logged off, ran out of clicks";
        window.location.href = "../index.html";
} 
```

2.检查服务器端的计数，永远不要相信js验证

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-30T06:29:11.337

替换这个

```
if(count==0){ 
```

有了这个

```
if(count<=0){ 
```

# android - ShareActionProvider 和操作栏 sherlock 溢出问题

> ID：13640117
> 
> 赞同：3
> 
> 时间：2012-11-30T06:27:10.293
> 
> 标签：android, android-actionbar, actionbarsherlock

我遇到了与操作 oferflow 相关的问题。在装有 Android 2.3 的 mdpi 设备上，当我在操作栏上放置两个操作然后添加 ShareActionProvider 时，它会溢出到硬件菜单按钮而不是溢出图标下。

发生的事情是部分可以接受的，但 ShareActionProvider 在这些情况下根本不起作用。当我滚动菜单面板并单击时，没有任何反应。

哦，我正在使用 AB Sherlock 4.2.0。

你知道任何解决方法吗？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T08:55:03.877

对我来说，当前的解决方法是处理提供者 ID 的通用**onOptionsItemSelected**并执行以下操作：

```
@Override
    public boolean onOptionsItemSelected(MenuItem item) {
        switch (item.getItemId()) {
[...]
            case R.id.menu_item_share:
                startActivity(Intent.createChooser(mShareIntent, getString(R.string.share_title)));
                return true;
            default:
                return super.onOptionsItemSelected(item);
        }
    } 
```

但很高兴看到这个问题得到解决。:)

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-11-30T07:00:30.900

*   我已经使用过这个例子，在这个例子中你必须添加**/libs/android-support-v4.jar**库文件，并在 /src/android/ 中的 public boolean onMenuItemSelected(int featureId, MenuItem item) 方法上放置一个断点支持/v4/app/Watson.java

行号 115

当您将应用程序用于存在“菜单”按钮的较低版本 api 时调试源代码。

## 希望你能找到问题。

# android - 如何在 Android 设备中查找 SIM 卡的 ICCID？

> ID：13640121
> 
> 赞同：2
> 
> 时间：2012-11-30T06:28:14.727
> 
> 标签：android, adb

如何使用命令在连接到 Linux PC 的 Android 设备中查找 SIM 的 ICCID？

我已将带有 SIM 卡的 Android 设备连接到我的 Linux PC。我想知道Andorid手机中SIM卡的ICCID。

`getIccSerialNumber()`在 Android 应用程序中使用时，我可以获得 ICCID 。但我不想在手机上运行 Android App。相反，我只想使用我的 Linux PC 获取 ICCID。即通过使用`adb`命令或在我的PC 中运行C 程序。

我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T14:54:54.150

打电话`getIccSerialNumber()`做：

```
adb shell service call iphonesubinfo 11 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-12-27T22:38:58.053

adb shell dumpsys iphonesubinfo

参考这里[adb shell dumpsys iphonesubinfo](https://stackoverflow.com/questions/27002663/adb-shell-dumpsys-iphonesubinfo-not-working-since-android-5-0-lollipop/34362809#34362809)中服务调用命令的用法！

# html - 输入框的多个背景

> ID：13640123
> 
> 赞同：0
> 
> 时间：2012-11-30T06:28:29.880
> 
> 标签：html, css

我正在尝试拥有多个背景（1。#fff，2）img 3）渐变背景。但这似乎不起作用

这是我的输出应该是什么样子

代码示例

```
<div id="send-date" class="transaction-details">
        <label for="date">Send on</label>
        <input type="date" name="date" id="date"/>
</div><!-- /send-date -->

#send-date input {
    background: #fff,
                url(../img/icon_calendar_36x36.png), 
                linear-gradient(btop, #FFFFFF 30%, #BFCBFB 65%, #869CFF 100%);
    background-repeat: no-repeat;
    background-position: 0% 0%, 96% 50%, 0% 0%;
    background-size: cover, 24px, cover;
    border: 1px solid #d9d9d9;
    text-shadow: none;
}

#send-date input.ui-focus{
    background-image: url(../img/icon_calendar_36x36.png);
    background-repeat: no-repeat;
    background-position: 96% 50%;
    background-size: 24px;
    border: 1px solid #a18492;
    background-color: #d9d9d9;
    -moz-box-shadow: inset 2px 2px 8px #AAAAAA;
    -webkit-box-shadow: inset 2px 2px 8px #AAAAAA;
    box-shadow: inset 2px 2px 8px #AAAAAA;
} 
```

[演示](http://jsfiddle.net/priyaa2002/dpWrG/1/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-11T02:43:42.937

从[这篇文章](http://www.impressivewebs.com/css3-linear-gradient-syntax/)看来，css3 中的渐变是作为图像生成的，可以用来代替 url(foobar);

所以我的猜测是，它们可能无法很好地处理同一元素中的图像。

尝试在您的背景渐变上使用图像进行透明叠加。或者反过来。

# javascript - 局部变量和 GC

> ID：13640124
> 
> 赞同：0
> 
> 时间：2012-11-30T06:28:33.753
> 
> 标签：javascript, garbage-collection

我试图围绕 Javascript、临时变量和 GC 中的私有变量。但是，我不太清楚在以下情况下会发生什么：

```
MyClass = function() {
   this.myProp = new createjs.Shape();

   var tempVar = this.myProp.graphics;
   tempVar.rect(0, 0, 10, 100);
   tempVar = null;

   var isDisposed = false;
   this.dispose = function() {
      if (isDisposed) return;
      isDisposed = true;
   }
}
var anInstance = new myClass(); 
```

我的意图是让*isDisposed*代表一个私有状态变量，而*tempVar*是一个使用和抛出变量。

tempVar*会*被标记为 GC 吗？isDisposed*也会*被标记为 GC 吗？GC 如何知道我何时试图声明一个用于处置的临时变量，以及何时我试图在对象中拥有一个私有变量？

我尝试在 Chrome 中测试以下内容，只要 myClass 的实例存在，似乎*tempVar 就永远不会被 GC-ed。*所以我不确定现在该相信什么。我不相信我为临时使用而创建的每个局部变量都将存在于对象生命周期的范围内。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T06:34:42.947

Javascript 没有强类型对象。通过设置`tempVar`为 null，您并没有声明您不想再使用它或将其标记为在 Java 或 C# 中进行收集，您只是为其分配了一个（完全有效的）值。开始认为仅仅因为您将 tempVar 作为对象的“实例”，变量实际上是一个对象并且可以在其整个生命周期中被视为对象，这是一个陷阱。

基本上，变量只是 Javascript 中的变量。它们可以包含任何东西。在这方面，它就像 VB 或 VBScript。在许多情况下，标量确实会进行装箱（例如`'a|c'.split('|')`将字符串转换为字符串），但在大多数情况下，忘记这一点。函数是一等对象，这意味着您可以将它们分配给变量、从函数返回它们、将它们作为参数传递等等。

现在，要真正销毁 Javascript 中的某些内容，您可以删除对它的所有引用（如在对象的情况下），或者在对象的属性的情况下，您可以像这样删除它们：

```
delete obj.propertyname;
// or //
delete obj[varContainingPropertyName]; 
```

为了扩展这一点，以下两个代码片段实现了*相同*的结果：

```
function abc() {window.alert('blah');}
var abc = function() {window.alert('blah');} 
```

两者都创建了一个名为的局部变量`abc`，该变量恰好是一个函数。第一个可以被认为是第二个的捷径。

但是，根据您引起我注意的[这篇关于删除的优秀文章](http://perfectionkills.com/understanding-delete/)，您不能删除局部变量（包括函数，它们实际上也是局部变量）。有例外（如果变量是使用创建的`eval`，或者它在全局范围内并且您没有使用 IE <= 8，或者您正在使用 IE <= 8 并且变量是在全局范围内隐式创建的，因为在`x = 1`技术上一个巨大的错误），因此请阅读文章以获取有关 的完整详细信息`delete`。

另一个可能对您有用的关键是要知道在 Javascript 中只有函数具有作用域（以及`window`浏览器实现或其他实现中的任何全局作用域）。包含在其中的非函数对象和代码块`{ }`没有作用域（我这样说是因为`Function`is的原型`Object`，所以函数也是对象，但是是特殊的）。这意味着，例如，考虑以下代码：

```
function doSomething(x) {
   if (x > 0) {
      var y = 1;
   }
   return y;
 } 
```

这将`1`在执行时返回，`x > 0`因为变量 y 的范围是*函数*，而不是*块*。所以实际上将`var`声明放在块中是错误和误导的，因为它实际上（尽管可能不是真正的实践）提升到函数范围。

您应该阅读 javascript 中的[闭包](http://jibbering.com/faq/notes/closures/)（我不能保证该链接的质量）。这样做可能会有所帮助。任何时候只要在任何地方维护一个变量的函数范围，那么该函数的所有私有变量也是如此。您可以做的最好的事情是将它们设置为`undefined`（这比 Javascript 中的“null”更“无”）将释放它们拥有的任何对象引用，但不会真正释放变量以使其可用于 GC。

至于一般的 GC 陷阱，请注意，如果一个函数对 DOM 元素有一个闭包，并且某个 DOM 元素也引用了该函数，那么在卸载页面或破坏循环引用之前，两者都不会被 GC。在某些——或所有？——版本的 IE 中，这样的循环引用会导致内存泄漏，并且在浏览器关闭之前它*永远不会被 GC。*

要尝试更直接地回答您的问题：

*   `tempVar`在它所属的函数的所有引用释放之前不会被标记为 GC，因为它是一个局部变量，并且无法删除 Javascript 中的局部变量。
*   `isDisposed`具有与 相同的品质`tempVar`。
*   “用于处置的临时变量”在 Javascript 中没有区别。在较新版本的 ECMAScript 中，有可用的实际 getter 和 setter 来定义函数的公共（或私有？）属性。
*   正如有关使用 Firefox 删除的文章中所讨论的，浏览器的控制台可能会为您提供误导性结果。
*   确实，尽管可能令人难以置信，在 Javascript 中，只要变量存在于闭包中，该变量就会保持实例化。这通常不是问题，而且我还没有经历过浏览器由于未收集垃圾的微小变量而真正耗尽内存。完成后设置一个变量`undefined`，并放心-我真诚地怀疑您是否会遇到问题。如果您担心，则声明一个本地对象`var tmpObj = {tempVar: 'something'};`，完成后您可以发出`delete tmpObj.tempVar;`. 但在我看来，这将不必要地使您的代码混乱。

*基本上，我的建议是理解在来自其他编程语言的过程中，你对编程语言应*该如何做有先入为主的观念*去工作。就理想的编程语言而言，其中一些概念可能是有效的。但是，最好放弃这些概念，并至少现在接受 Javascript 的实际工作方式。除非您真正有足够的经验，可以自信地违反前人（例如我）的建议，否则您在 Javascript 代码中引入有害反模式的风险要比纠正任何严重缺陷的风险更大在语言中。不必 Dispose() 东西可能是个好消息——这是 Javascript 根本不需要你做的这个令人讨厌的普遍任务，所以你可以花更多的时间编写功能和更少的时间管理变量的生命周期。赢！*

 *I hope you take my words as kindly as they are meant. I don't by any means consider myself a Javascript expert--just that I have some experience and a solid competence in understanding how to use it and what the pitfalls are.

Thanks for listening!*

# mysql - Wordpress 负载过重时定期 MySQL 锁定

> ID：13640127
> 
> 赞同：8
> 
> 时间：2012-11-30T06:28:36.310
> 
> 标签：mysql, wordpress

我有一个 MySQL 5.1.61 数据库运行在两个负载平衡的 Apache 网络服务器后面，托管一个相当繁忙的（每天 10 万个唯一身份）Wordpress 站点。我正在使用 Cloudflare、W3TC 和 Varnish 进行缓存。大多数时候，数据库服务器可以很好地处理流量。“显示完整进程列表”在任何给定时间显示 20-40 个查询，其中大多数处于睡眠状态。

但是，周期性地（特别是当流量激增或大量评论被清除时），MySQL 会停止响应。我会发现 1000-1500 个查询正在运行，许多“发送数据”等。似乎没有特定的查询使数据库紧张（它们都是标准的 Wordpress 查询），但似乎同时请求的数量会导致所有查询挂断。我（通常）仍然能够登录，运行“显示完整进程列表”或其他查询，但已经存在的 1000 多个查询只是坐在那里。唯一的解决方案似乎是重新启动 mysql（如果我无法连接，有时通过 kill -9 暴力）。

所有表都是innodb，服务器有8核，24GB RAM，磁盘空间充足，下面是我的my.cnf：

```
[mysqld]
datadir=/var/lib/mysql
socket=/var/lib/mysql/mysql.sock
port=3306
skip-external-locking
skip-name-resolve
user=mysql
query_cache_type=1
query_cache_limit=16M
wait_timeout = 300
query_cache_size=128M
key_buffer_size=400M
thread_cache_size=50
table_cache=8192
skip-name-resolve
max_heap_table_size = 256M
tmp_table_size = 256M
innodb_file_per_table
innodb_buffer_pool_size = 5G
innodb_log_file_size=1G
#innodb_commit_concurrency = 32
#innodb_thread_concurrency = 32
innodb_flush_log_at_trx_commit = 0
thread_concurrency = 8
join_buffer_size = 256k
innodb_log_file_size = 256M
#innodb_concurrency_tickets = 220
thread_stack     = 256K
max_allowed_packet=512M
max_connections=2500
# Default to using old password format for compatibility with mysql 3.x
# clients (those using the mysqlclient10 compatibility package).
old_passwords=1

#2012-11-03
#attempting a ram disk for tmp tables
tmpdir = /db/tmpfs01

[mysqld_safe]
log-error=/var/log/mysqld.log
pid-file=/var/run/mysqld/mysqld.pid 
```

有什么建议可以改善 MySQL 配置，或在重负载下保持数据库稳定性的其他步骤吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-28T00:34:17.707

我同意alditis & Bjoern

我对 mysql 很陌生，但运行 mysqltuner 可以根据最近对数据库的查询[https://github.com/rackerhacker/MySQLTuner-perl揭示一些配置优化](https://github.com/rackerhacker/MySQLTuner-perl)

如果可能的话，将数据库文件存储在与操作系统物理分离的分区上，操作系统可能会消耗 IO，这会减慢数据库的速度。就像 Bjoern 的 logrotate 问题一样。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-10T06:45:51.973

就像已经说过的那样，跳出框框思考，并围绕为什么这些查询缓慢或以某种方式挂起而生根发芽。即使对于（据说）智能系统工程师来说，一个老问题但也是一个很好的问题来源是负载平衡导致跨网络服务器或数据库会话的问题。随着所有这些缓存和负载平衡的进行，您确定一切都始终按预期进行端到端连接吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-31T12:57:53.057

首先看一下出现问题时的基本系统行为。如果您发现任何问题，请同时使用 vmstat 和 iostat。查看系统是否开始交换（vmstat 中的 pi、po 列）以及是否正在发生大量 IO。这是调试问题的第一步。

有用信息的另一个来源是 SHOW INNODB STATUS。有关如何解释输出的信息，请参阅[http://www.mysqlperformanceblog.com/2006/07/17/show-innodb-status-walk-through/ 。](http://www.mysqlperformanceblog.com/2006/07/17/show-innodb-status-walk-through/)

可能是在某个时间点，您的写入会降低读取性能，因为它们会刷新查询缓存。

# c# - 从集线器外部进行的 SignalR 广播不起作用

> ID：13640130
> 
> 赞同：7
> 
> 时间：2012-11-30T06:28:56.387
> 
> 标签：c#, asp.net-mvc, signalr

基于此处的 wiki 文章：[https ://github.com/SignalR/SignalR/wiki/Hubs](https://github.com/SignalR/SignalR/wiki/Hubs)

我可以让我的 MVC 应用程序通过我的集线器广播消息：

```
$(function () {
    // Proxy created on the fly          
    var chat = $.connection.chatterBox;

    // Declare a function on the chat hub so the server can invoke it          
    chat.client.addMessage = function (message) {
        $('#messages').append('<li>' + message + '</li>');
    };

    // Start the connection
    $.connection.hub.start().done(function () {
        $("#broadcast").click(function () {
            // Call the chat method on the server
            chat.server.send($('#msg').val());
        });
    });
}); 
```

我的 Hub 位于名为 ServerHub.dll 的单独 DLL 中，如下所示

```
namespace ServerHub
{
    public class ChatterBox : Hub
    {

        public void Send(string message)
        {
            Clients.All.addMessage(message);
        }
    }
} 
```

因此，通过上述设置，我可以在几个不同的浏览器上浏览到相同的 URL，并且从一个浏览器发送消息，将反映在所有其他浏览器上。

但是，我现在要做的是从控制器内部发送消息。

因此，在我开箱即用的 MVC Internet 应用程序中，在 HomeController 的 About 操作中，我添加了以下内容：

```
using ServerHub;

    public ActionResult About()
    {
        ViewBag.Message = "Your app description page.";

        var context = GlobalHost.ConnectionManager.GetHubContext<ChatterBox>();
        context.Clients.All.say("HELLO FROM ABOUT");

        return View();
    } 
```

但上面的方法似乎不起作用。没有错误消息或运行时错误。代码执行，只是我在其他浏览器上看不到该消息。

我哪里做错了？

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-30T06:47:35.137

您正在调用一个名为“say”的方法，而您的客户端上只定义了一个名为“addMessage”的方法。

改变：

```
 context.Clients.All.say("HELLO FROM ABOUT"); 
```

至：

```
 context.Clients.All.addMessage("HELLO FROM ABOUT"); 
```

# ruby-on-rails - rails 的生成/迁移等如何与 rails 的环境区分开来？

> ID：13640132
> 
> 赞同：1
> 
> 时间：2012-11-30T06:29:03.303
> 
> 标签：ruby-on-rails

我正在编写一个 Rails 服务器应用程序，它需要运行一些额外的代码，比如 rufus-scheduler

```
block = proc do
  cache = CacheStatDaily.new
  cache.connect_terminals_count = Terminal.where {:last_connected_at.lt  }
  cache.save
end
scheduler.cron('0 0 * * *',&block) 
```

每天创建一些统计信息（以及其他一些代码，例如每 2 小时一次），但不幸的是，即使我运行 rails g model/rails g migration/rake db:migrate 等，此代码（和初始化程序代码）也会运行，看来 rails 环境得到了也在这些命令中初始化，但我需要区分这些差异并确保代码不会在错误的环境中运行，我该怎么做？谢谢。

# php - 使用路径 - 在每个页面上都提供一个 SITE_ROOT 常量

> ID：13640133
> 
> 赞同：2
> 
> 时间：2012-11-30T06:29:04.803
> 
> 标签：php

我是一个 php 新手，我正在努力解决路径。

我在我的应用程序的根目录中有一个 config.php 文件，我在其中定义了一个存储父目录路径的常量。

```
define("SITE_ROOT", realpath(dirname(__FILE__))); 
```

该站点将有不同的文件夹： /includes/ /admin/ /theme/

现在，即使 SITE_ROOT 常量是全局的，我也知道全局声明仅在脚本结束之前声明。

例如，如果我在 admin.php 中回显 SITE_ROOT，我会收到一个 php 错误，因为我没有将 config.php 包含到 admin.php 中。

**现在，有没有办法跳过在每个文件中包含 config.php 并使我的 SITE_ROOT 常量随处可用？**

很TY！:)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T06:38:49.123

有一个 php ini 设置[auto_prepend_file](http://www.php.net/manual/en/ini.core.php#ini.auto-prepend-file)，它允许您指定给定文件将在每个请求开始时自动加载。

话虽如此，我强烈建议不要使用这种方法。如果您不能`require_once("config.php")`在每个脚本的顶部，那么另一种方法是使用类似 apache 的 mod_rewrite（通过 .htaccess）将所有请求路由到单个“引导”脚本。从那里包括你`config.php`的，然后分析请求，并加载适当的脚本来处理它。

# c# - py2exe 可执行文件和 C# 程序之间通过 stdout/stdin 进行通信

> ID：13640134
> 
> 赞同：1
> 
> 时间：2012-11-30T06:29:06.190
> 
> 标签：c#, python, python-2.7, py2exe

所以这是我的问题：

1.  通过 Process 类从 C# 启动的 Python 脚本需要将 -i 开关传递给 python.exe，否则当我重定向 StandardXxx 流时它们不会发送任何输出
2.  我想将我的 Python 程序与 py2exe 捆绑在一起（或其他类似的设置，如果满足我的需要）
3.  py2exe 似乎不允许我以任何明显的方式通过 -i 开关，但它给我的问题与运行 python.exe 相同 - 当我的 C# 程序启动时它不输出任何内容。所以我需要一种方法来强制它进入类似的模式，这样我才能真正通过标准输入/标准输出接收和发送消息。我在使用“windows=['my_script']”构建它时发现了一些类似的问题，但我使用“console=['my_script']”构建它，所以这些修复没有帮助，我不需要实际的交互模式（即 REPL），但出于某种原因 -i 开关修复了控制台 IO 问题。

这是我用来启动它的代码：

```
ProcessStartInfo psi = new ProcessStartInfo();

psi.UseShellExecute = false;
psi.RedirectStandardInput = true;
psi.RedirectStandardOutput = true;
psi.RedirectStandardError = true;

psi.FileName = "py2exe_program.exe";

Process p = Process.Start(psi);

// program hangs here because ready message is never printed
p.StandardOutput.ReadLine(); // Consume ready message 
```

可执行文件在外部启动时按预期工作，上面的代码在我通过“python.exe -i my_script.py”启动 Python 脚本时工作，但在没有 -i 开关的情况下会遇到同样的问题。

如何让它按预期运行？

# reference - csproj 中的通配符程序集参考

> ID：13640137
> 
> 赞同：0
> 
> 时间：2012-11-30T06:29:56.580
> 
> 标签：reference, nuget, wildcard, csproj

我经常使用 nuget（和你们中的许多人一样）来引用外部和内部组件。
出于调试目的，能够将 nuget-assembly 交换为其源代码会很好。
不幸的是，解决方案本身和一些 nuget 引用的包（由 sln 使用）经常使用一些“core-lib”。简单地通过 VS 删除引用并添加它的源项目通常会导致与“core-lib”的模棱两可的关系，因为（sln 和 package-src）都使用“core-lib”——主要是在不同的版本中。
解决该问题的唯一方法（我知道）是将所有引用更新到同一版本（通常是最实际的版本）。这可能很烦人，尤其是在更大的项目中。
也许有一种方法可以使引用更加灵活 - 例如通过在提示路径中使用通配符？

感谢所有建议！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-01T00:39:59.227

您是否尝试过使用符号包？更多细节@ [http://docs.nuget.org/docs/creating-packages/creating-and-publishing-a-symbol-package](http://docs.nuget.org/docs/creating-packages/creating-and-publishing-a-symbol-package)

# android - EGL_emulation 无法建立与主机的连接 - android

> ID：13640139
> 
> 赞同：51
> 
> 时间：2012-11-30T06:30:11.330
> 
> 标签：android, opengl-es, android-emulator, genymotion

我正在尝试在 Android 中运行一个简单的 OpenGL 程序。我在 Android 4.1 模拟器中运行它。我打开了它的 GPU 仿真，昨天它运行良好。当我今天运行它时，最初它挂着说，`OpenGL taking time to render - Wait or Close dialog box`. 再次运行几次后，它崩溃了

```
E/EGL_emulation(2637): Failed to establish connection with the host 
```

其次是

```
11-30 11:48:10.787: E/AndroidRuntime(2637): FATAL EXCEPTION: main
11-30 11:48:10.787: E/AndroidRuntime(2637): java.lang.IllegalArgumentException: eglChooseConfig failed EGL_NOT_INITIALIZED
11-30 11:48:10.787: E/AndroidRuntime(2637):     at android.view.HardwareRenderer$GlRenderer.chooseEglConfig(HardwareRenderer.java:852)
11-30 11:48:10.787: E/AndroidRuntime(2637):     at android.view.HardwareRenderer$GlRenderer.initializeEgl(HardwareRenderer.java:804)
11-30 11:48:10.787: E/AndroidRuntime(2637):     at android.view.HardwareRenderer$GlRenderer.initialize(HardwareRenderer.java:747)
11-30 11:48:10.787: E/AndroidRuntime(2637):     at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1505)
11-30 11:48:10.787: E/AndroidRuntime(2637):     at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:998)
11-30 11:48:10.787: E/AndroidRuntime(2637):     at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:4212) 
```

我猜模拟器无法控制系统的GPU，那么我该如何避免这个错误呢？我该如何纠正这个问题？

提前致谢。:)

* * *

## 回答 #1

> 赞同：63
> 
> 时间：2014-02-26T08:55:41.200

当我的计算机处于待机状态时，这种情况发生在我身上。重新启动您的虚拟设备。

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2014-02-13T22:42:28.410

在运行基于 webview 的应用程序时，我在 Genymotion 模拟器中遇到了同样的问题，我重新启动了模拟器，它运行良好

# database - 选择未包含在按列表分组的字段

> ID：13640142
> 
> 赞同：0
> 
> 时间：2012-11-30T06:30:42.990
> 
> 标签：database, oracle, group-by

我有以下 oracle 查询：

```
SELECT distinct  DM.name,
    ND.param5 ,
    ND.param4 ,  
      DECODE(ND.param3, 'TRS01','Mark for Return to warehouse',
'TRS02','Waiting for distributor approval on return',
'TRS03','Waiting for Service Provider approval on return',
'TRS04','Return to Distributor',
'TRS05','Return to Warehouse',
'TRS06','Mark for Return to Distributor',
'TRS08','Quarantined',
'TRS10' ,'New',
'TRS11','Waiting for Distributor acceptance',
'TRS12' ,'Moved to distributor warehouse',
'TRS13','Waiting for reseller acceptance',
'TRS14','Moved to reseller warehouse',
'TRS15','In-Use', 
'TRS16','Returned',
'TRS17','Deattached',
'TRS18','Sold'),   NS.name ,
    COUNT( distinct ND.NUMBERDETAILID) serialcount,ND.param3,'ALL',
   FROM ndetail ND,
    nbatch NB,
    nstatus NS,
    dynamicmaster DM,(select his.createdate,h.numberdetailid,his.numberstatusid,his.param3,his.actualnumber 
from ndetailhistory his,
(select max(createdate) createdate,numberdetailid 
from ndetailhistory 
group by numberdetailid) h 
where h.numberdetailid = his.numberdetailid
and h.createdate = his.createdate) NDH
  WHERE ND.numberbatchid = NB.numberbatchid
  AND NS.numberstatusid  = ND.numberstatusid
  and DM.DYNAMICMASTERID = NB.WAREHOUSEID
  and NDH.actualnumber = ND.actualnumber
  and ND.NUMBERDETAILID = NDH.NUMBERDETAILID
  and NB.numbergroupid = (select numbergroupid from ngroup where alias = 'TEST')
  AND (case when 'ALL'='ALL' THEN '1' ELSE  ND.PARAM3 END ) =(case when 'ALL'='ALL' THEN '1' ELSE  'ALL' END )
  GROUP BY DM.name,ND.param5,ND.param4,ND.param3,NS.name
order by 1,3,2 
```

我也想在选择列表中创建，但不想与 createdate 分组。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T06:59:24.437

当您使用 GROUP BY 时，SELECT 列表中的字段必须位于 GROUP BY 语句或聚合函数中。因此，如果您不想将其包含在 GROUP BY 中，只需将例如**MAX(createdate)**添加到 SELECT 列表中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:22:24.693

选择列表中的所有非聚合列都必须列在 GROUP BY 子句中。主选择列表中的 DECODE 也没有（还）有别名，这使得它过于困难。

```
SELECT DISTINCT DM.name,
       ND.param5,
       ND.param4,  
       DECODE(ND.param3, 'TRS01','Mark for Return to warehouse',
                         'TRS02','Waiting for distributor approval on return',
                         'TRS03','Waiting for Service Provider approval on return',
                         'TRS04','Return to Distributor',
                         'TRS05','Return to Warehouse',
                         'TRS06','Mark for Return to Distributor',
                         'TRS08','Quarantined',
                         'TRS10' ,'New',
                         'TRS11','Waiting for Distributor acceptance',
                         'TRS12' ,'Moved to distributor warehouse',
                         'TRS13','Waiting for reseller acceptance',
                         'TRS14','Moved to reseller warehouse',
                         'TRS15','In-Use', 
                         'TRS16','Returned',
                         'TRS17','Deattached',
                         'TRS18','Sold')
       decoded_param3,
       NS.name,
       COUNT(DISTINCT ND.NUMBERDETAILID) serialcount,
       ND.param3,
       'ALL' all_code
  FROM ndetail ND,
       nbatch NB,
       nstatus NS,
       dynamicmaster DM,
       (SELECT his.createdate, h.numberdetailid, his.numberstatusid, his.param3,
               his.actualnumber 
          FROM ndetailhistory his,
               (SELECT MAX(createdate) createdate, numberdetailid 
                  FROM ndetailhistory 
                 GROUP BY numberdetailid) h 
         WHERE h.numberdetailid = his.numberdetailid
           AND h.createdate = his.createdate) NDH
 WHERE ND.numberbatchid   = NB.numberbatchid
   AND NS.numberstatusid  = ND.numberstatusid
   AND DM.DYNAMICMASTERID = NB.WAREHOUSEID
   AND NDH.actualnumber   = ND.actualnumber
   AND ND.NUMBERDETAILID  = NDH.NUMBERDETAILID
   AND NB.numbergroupid  = (SELECT numbergroupid FROM ngroup WHERE alias = 'TEST')
   AND (CASE WHEN 'ALL'='ALL' THEN '1' ELSE ND.PARAM3 END) =
       (CASE WHEN 'ALL'='ALL' THEN '1' ELSE 'ALL'     END)
 GROUP BY DM.name, ND.param5, ND.param4, decoded_param3, NS.name, ND.param3, all_code
 ORDER BY 1,3,2 
```

您应该了解这些被称为“表”的美妙事物，它允许您存储用于 DECODE 操作的信息，例如数据库中的 ND.param3 查找，而不是在不同的查询中以手写方式（并且以各种方式）写出表。

您还应该了解显式 JOIN 查询并使用它们。

# events - Magento v1.7 中的事件代码不起作用

> ID：13640145
> 
> 赞同：1
> 
> 时间：2012-11-30T06:30:51.277
> 
> 标签：events, magento

G'Day 所有，

我正在尝试编写我的第一个 magento 事件处理程序来捕获“ **checkout_cart_save_after** ”但我无法让我的 Observer.php 代码触发，在查看有关 magento 事件的网站 2 天后，我了解整个过程，但代码是没有运行..我很困惑为什么。

这是 /var/magento/app/etc/modules/ 中的模块 xml 文件

```
<?xml version="1.0"?>
<config>
  <modules>
    <Namespace_Yourmodule>
      <codePool>local</codePool>
      <active>true</active>
      <version>1.0.0</version>
    </Namespace_Yourmodule>
  </modules>
</config> 
```

正如你所看到的，我只是在使用**命名空间**和**Yourmodule**，因为我正在为其他人编写教程......

在我的模块的 etc 目录（/var/magento/app/code/local/Namespace/Yourmodule/Module）我有 config.xml

```
<?xml version="1.0"?>
<global>
    <events>
        <checkout_cart_save_after>
            <observers>
                <yourmodule_after_observer>
                    <type>singleton</type>
                    <class>Namespace_Yourmodule_Model_Observer</class>
                    <method>checkout_cart_save_after</method>
                </yourmodule_after_observer>
            </observers>
        </checkout_cart_save_after>
    </events>
</global> 
```

在 Modules 目录中，我有 Observer.php 文件：

```
class Namespace_Yourmodule_Model_Observer
{
/*----------------------------------------
 *
 * LogInfo()
 *
 * Basic logging of activity to disk for debugging
 */
        public function LogInfo($msg)
        {
                $logfile="/logs/Namespace-module.log";
                $fd=fopen($logfile,"a");
                if($fd)
                {
                        fwrite($fd,$msg."\n");
                        fclose($fd);
                }
        }

    public function checkout_cart_save_before($observer)
    {
        LogInfo("save_before called");
    }

    public function checkout_cart_save_after($observer)
    {
        LogInfo("save_after called");
    }
} 
```

尝试从购物车中添加和删除项目的结果是没有创建日志文件，手动创建时没有写入数据，system.log 显示没有错误，如果我歪曲 XML 它报告错误，所以 XML 文件正在阅读。

关于我错过了什么的任何想法？？？

席德

**12/2 更新：**

我已经在这个周末度过了这个问题并解决了这个问题，感谢您的提示，这是我应该学习的一些小事情的组合，并且 XML 文件的格式现在与上面的建议相匹配......现在有一个教程！我已经用工作代码和配置文件完整地记录了这个过程。

请参阅[http://z900collector.wordpress.com/magento/magento-events/](http://z900collector.wordpress.com/magento/magento-events/)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T10:01:24.753

尝试将您的 config.xml 更新为

```
<?xml version="1.0"?>
<config>
<modules>
    <Namespace_Yourmodule>
        <version>1.0</version>
    </Namespace_Yourmodule>
</modules>
<global>
    <!--helpers>
        <yourmodule>
            <class>Namespace_Yourmodule_Helper</class>
        </yourmodule>
    </helpers-->
    <models>
        <yourmodule>
            <class>Namespace_Yourmodule_Model</class>
        </yourmodule>
    </models>
    <events>
        <checkout_cart_save_after>
            <observers>
                <yourmodule_after_observer>
                    <type>singleton</type>
                    <class>Namespace_Yourmodule_Model_Observer</class>
                    <method>checkout_cart_save_after</method>
                </yourmodule_after_observer>
            </observers>
        </checkout_cart_save_after>
    </events>
</global>
</config> 
```

请参阅[使用事件/观察者自定义 Magento](http://www.magentocommerce.com/wiki/5_-_modules_and_development/0_-_module_development_in_magento/customizing_magento_using_event-observer_method)

# c# - 如何解析来自 Solr 搜索引擎的 XML 响应

> ID：13640146
> 
> 赞同：0
> 
> 时间：2012-11-30T06:30:51.243
> 
> 标签：c#, solr, xml-parsing

我是 solr 的新手，目前我正在使用 google mini 进行搜索，现在正在迁移到 solr，这是 solr 给出的 XML 结果，我想从 C# 解析它。但做不到。

```
- <doc>
  <str name="author" /> 
- <arr name="content_type">
  <str>application/pdf</str> 
  </arr>
  <str name="id">\\\\M4968\\C$\Sycamore Networks_v1.pdf</str> 
  <date name="last_modified">2005-06-15T14:32:51Z</date> 
- <arr name="title">
  <str>Microsoft Word - Sycamore Networks</str> 
  </arr>
  </doc> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-05T04:58:55.517

使用 XDocument 类来解析 xml。但我建议您将响应作为 JSON 或 javabin 对象

# c# - webdriver模态窗口click（）不起作用

> ID：13640151
> 
> 赞同：2
> 
> 时间：2012-11-30T06:31:43.267
> 
> 标签：c#, selenium, webdriver

我一直在四处寻找解决方案，但到目前为止，没有一个解决方案对我有用。

这是我汇总的一个快速测试，它只是尝试单击“关闭”按钮来关闭模式弹出窗口。我可以在 Visual Studio 中逐步完成我的测试，它会正常工作。当我在 Nunit 中运行测试时，它会出错。我根据其他问题和给他们的建议尝试了以下方法：-

*   到处等待
*   从 chrome 驱动程序更改为 firefox
*   更改为最大化窗口模式
*   以我能想到的各种方式重新工作

模态不是 iframe 或类似的东西。我似乎收到以下错误：

调用的目标已引发异常。----> System.InvalidOperationException : 元素在点 (922.5, 342.0999755859375) 处不可点击。其他元素会收到点击：

这就是为什么我摆弄最大化和正常大小的模式。

寻找任何建议，因为它让我难过..

谢谢

```
[Test(Description = "Test to check if the cancel button closes the modal window when clicked on the 'Reset Password' modal")]
    public void CheckCancelPasswordResetOnModalWorks()
    {
        bool modalFoundSuccess = false;
        bool forgotPasswordControlFound = false;
        _driver.Navigate().GoToUrl(_baseURL + "login");

        if (_loginPage.CheckForgotPasswordControlExists())
        {
            forgotPasswordControlFound = true;

            _loginPage.ClickForgotPasswordButton();

            if (_loginPage.CheckResetPasswordModalIsDisplayed())
            {
                modalFoundSuccess = true;
                _loginPage.ClickCancelResetPasswordButton();
                if (_loginPage.CheckResetPasswordModalIsDisplayed() != true)
                {
                    modalFoundSuccess = false;
                }
                Assert.IsFalse(modalFoundSuccess, "The modal window did not close when the 'cancel' button was clicked on the modal pop up");
            }
            Assert.IsTrue(forgotPasswordControlFound, "Could not find the 'Forgotten Password' Modal box on the page");
        }
        Assert.IsTrue(forgotPasswordControlFound, "Was not able to find the 'Forgot Password' button on the '/login' page.");
    } 
```

* * *

页面项目

```
public class LoginPage : Page
{
    private IWebDriver _driver;
    public string userNameValidationText = "Username must be filled in.";
    public string passwordValidationText = "Password must be filled in.";
    public string incorrectLoginValidationText = "The user name or password is incorrect";

    [FindsBy(How = How.ClassName, Using = "scfForm")]
    private IWebElement _WFFMForm;

    [FindsBy(How = How.XPath, Using = "//div[@class='scfSubmitButtonBorder']/input")]
    private IWebElement _loginButton;

    [FindsBy(How = How.XPath, Using = "//div[@class='scfSingleLineGeneralPanel']/input")]
    private IWebElement _userNameField;

    [FindsBy(How = How.XPath, Using = "//div[@class='scfPasswordGeneralPanel']/input")]
    private IWebElement _passwordField;

    [FindsBy(How = How.XPath, Using = "//div[@id='divForgotPassword']")]
    private IWebElement _resetPasswordModal;

    [FindsBy(How = How.XPath, Using = "//div[@id='divForgotPassword']/p/input")]
    private IWebElement _forgotPasswordEmailInputField;

    [FindsBy(How = How.XPath, Using = "//div[@id='divForgotPassword']/a[contains(., 'Reset My Password')]")]
    private IWebElement _resetPasswordButton;

    [FindsBy(How = How.XPath, Using = "//div[@id='divForgotPassword']/a[contains(., 'Cancel')]")]
    private IWebElement _cancelResetPasswordButton;

    [FindsBy(How = How.XPath, Using = "//div[@class='forgot-password']/a[contains(., 'Forgot Password')]")]
    private IWebElement _forgotPasswordButton;

    public LoginPage(IWebDriver driver)
        : base(driver)
    {
        _driver = driver;
        PageFactory.InitElements(_driver, this);
    }

    public void InputUserNameText(string phoneText)
    {
        _userNameField.Clear();
        _userNameField.SendKeys(phoneText);
    }

    public void InputPasswordText(string queryText)
    {
        _passwordField.Clear();
        _passwordField.SendKeys(queryText);
    }

    public void InputResetPasswordEmail(string resetEmail)
    {
        _forgotPasswordEmailInputField.Clear();
        _forgotPasswordEmailInputField.SendKeys(resetEmail);
    }

    public void ClickLoginButton()
    {
        _loginButton.Click();
    }

    public void ClickResetButton()
    {
        WebDriverWait wait = new WebDriverWait(_driver, TimeSpan.FromSeconds(10));
        wait.Until((d) => { return CheckModalHasLoaded(); });
        _resetPasswordButton.Click();
    }

    public void ClickCancelResetPasswordButton()
    {
        WebDriverWait wait = new WebDriverWait(_driver, TimeSpan.FromSeconds(20));
        wait.Until((d) => { return CheckModalHasLoaded(); });
        _cancelResetPasswordButton.Click();
    }

    public void ClickForgotPasswordButton()
    {
        _forgotPasswordButton.Click();
    }

    public void ClickLoginButtonForEmtpyValidation()
    {
        _loginButton.Click();
        WebDriverWait wait = new WebDriverWait(_driver, TimeSpan.FromSeconds(10));
        wait.Until((d) => { return CheckValidationTopBoxExists(); });
    }

    public bool CheckValidationForIncorrectLoginExists()
    {
        return Utility.IsThisElementPresent(_driver, By.XPath("//div[@class='scfSubmitSummary']/span"));
    }

    public bool loginFormExistsCheck()
    {
        return Utility.IsThisElementPresent(_driver, By.ClassName("scfForm"));
    }

    public bool CheckValidationTopBoxExists()
    {
        return Utility.IsThisElementPresent(_driver, By.ClassName("scfValidationSummary"));
    }

    public bool CheckResetPasswordModalIsDisplayed()
    {
        return Utility.IsThisElementPresent(_driver, By.XPath("//div[@id='divForgotPassword']"));
    }

    public bool CheckForgotPasswordControlExists()
    {
        return Utility.IsThisElementPresent(_driver, By.ClassName("forgot-password"));
    }

    public bool CheckModalHasLoaded()
    {
        return Utility.IsThisElementPresent(_driver, By.XPath("//div[@id='divForgotPassword']"));
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-04T02:31:10.027

如果模态框已经在 DOM 中（即未通过 ajax 加载），您可能需要更改它以等待元素可见（假设模态框被隐藏）。这是因为元素始终存在，只是不可见。这解释了为什么当您在调试模式下单步执行它时它也会起作用。

尝试使用类似的东西

```
WebDriverWait wait = new WebDriverWait(_driver, TimeSpan.FromSeconds(10));
wait.Until(ExpectedConditions.ElementIsVisible(By.XPath("//div[@id='ElementYouWantToTarget']"))); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T06:40:35.763

对我来说，这听起来像是您的控制失去了焦点，或者您没有专注于正确的控制。你做了什么来找到正确的控制，然后专注于它？

# r - 如何从 R 应用函数访问全局/外部范围变量？

> ID：13640157
> 
> 赞同：29
> 
> 时间：2012-11-30T06:32:52.393
> 
> 标签：r, scope, apply

我似乎无法让应用函数访问/修改在外部声明的变量……什么给出？

```
 x = data.frame(age=c(11,12,13), weight=c(100,105,110))
    x

    testme <- function(df) {
        i <- 0
        apply(df, 1, function(x) {
            age <- x[1]
            weight <- x[2]
            cat(sprintf("age=%d, weight=%d\n", age, weight))
            i <- i+1   #this could not access the i variable in outer scope
            z <- z+1   #this could not access the global variable
        })
        cat(sprintf("i=%d\n", i))
        i
    }

    z <- 0
    y <- testme(x)
    cat(sprintf("y=%d, z=%d\n", y, z)) 
```

结果：

```
 age=11, weight=100
    age=12, weight=105
    age=13, weight=110
    i=0
    y=0, z=0 
```

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-11-30T06:38:42.680

使用`<<-`运算符，您可以写入外部范围内的变量：

```
x = data.frame(age=c(11,12,13), weight=c(100,105,110))
x

testme <- function(df) {
    i <- 0
    apply(df, 1, function(x) {
        age <- x[1]
        weight <- x[2]
        cat(sprintf("age=%d, weight=%d\n", age, weight))
        i <<- i+1   #this could not access the i variable in outer scope
        z <<- z+1   #this could not access the global variable
    })
    cat(sprintf("i=%d\n", i))
    i
}

z <- 0
y <- testme(x)
cat(sprintf("y=%d, z=%d\n", y, z)) 
```

这里的结果：

```
age=11, weight=100
age=12, weight=105
age=13, weight=110
i=3
y=3, z=3 
```

请注意，使用`<<-`是危险的，因为您打破了范围界定。仅在确实需要时才这样做，如果这样做，请清楚地记录该行为（至少在更大的脚本中）

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-11-30T07:34:12.907

在您的申请中尝试以下内容。试验 n 的值。我相信 for`i`它应该比 for 少一个`z`。

```
 assign("i", i+1, envir=parent.frame(n=2))
         assign("z", z+1, envir=parent.frame(n=3)) 
```

* * *

```
testme <- function(df) {
    i <- 0
    apply(df, 1, function(x) {
        age <- x[1]
        weight <- x[2]
        cat(sprintf("age=%d, weight=%d\n", age, weight))

        ## ADDED THESE LINES
         assign("i", i+1, envir=parent.frame(2))
         assign("z", z+1, envir=parent.frame(3))

    })
    cat(sprintf("i=%d\n", i))
    i
} 
```

## 输出

```
> z <- 0
> y <- testme(x)
age=11, weight=100
age=12, weight=105
age=13, weight=110
i=3
> cat(sprintf("y=%d, z=%d\n", y, z))
y=3, z=3 
```

# c - 连续应用两个显式指针强制转换？

> ID：13640161
> 
> 赞同：3
> 
> 时间：2012-11-30T06:33:14.953
> 
> 标签：c, pointers, casting

我正在阅读[与 FreeBSD 一起打包的 _start 代码](http://code.google.com/p/freebsd-head/source/browse/lib/csu/amd64/crt1.c)，并且对我所看到的特定内容感到好奇。第 61 行将 char** 转换为 void*，然后立即转换为 long*。我看过[一个类似的 StackOverflow question](https://stackoverflow.com/questions/5118976/whats-the-reason-behind-applying-two-explicit-type-casts-in-a-row)，但它不适用于这里，因为所有指针的大小都相同。谁能告诉我为什么这条线投了两次而不是一次？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:53:33.167

```
ISO c99 : 6.3.2.3 Pointers 
```

1

" 指向 void 的指针可以转换为指向任何不完整或对象类型的指针或从指向任何不完整或对象类型的指针转​​换。指向任何不完整或对象类型的指针可以转换为指向 void 的指针并再次返回；结果应与原始指针进行比较。 "

7

" 指向对象或不完整类型的指针可能会转换为指向不同对象或不完整类型的指针`If the resulting pointer is not correctly aligned for the pointed-to type, the behavior is undefined`。否则，当再次转换回来时，结果应与原始指针比较。当指向对象的指针转换为一个指向字符类型的指针，结果指向对象的最低寻址字节。结果的连续递增，直到对象的大小，产生指向对象剩余字节的指针。

第二段说您可以将任何指向一种类型的指针转​​换为另一种类型，但如果结果指针未对齐，则`behaviour is undefined`。

虽然第 1 段没有说任何关于`undefined behaviour`.

所以我认为转换`void *`为任何类型比直接从一种类型转换为另一种更安全。

因此，您看到的是相同的。

编辑：我认为这不是您问题的确切答案，但至少您可以在上面提到的 c99 标准中看到相关内容。

# c# - 将模型与数据库表关联以使用 EF 执行 INSERT

> ID：13640167
> 
> 赞同：0
> 
> 时间：2012-11-30T06:33:37.643
> 
> 标签：c#, asp.net, asp.net-mvc, entity-framework, asp.net-mvc-4

这是我尝试插入数据的第一个我自己创建的表。

问题：在我的控制器中，我不确定如何将模型与实际的数据库表链接以执行`INSERT`.

同样在该行中，`uc.userId = userId;`我收到以下错误：

> *无效的初始化程序成员声明*

我为这个表创建了一个模型：

```
public class RegisterModel
{
    public bool isCertified { get; set; }
    public int certType { get; set; }
    public string identifier { get; set; }
} 
```

看法：

```
<tr>
   <td style="font-size:10px;">Habilitar Login com Cert. Digital:</td>
   <td>@Html.CheckBoxFor(m => m.isCertified)</td>
</tr>                                      
<div id="certDigitalBlock">
<tr>
    <td class="smallField">Tipo do Certificado:</td>
    <td>@Html.DropDownListFor(m => m.certType, new SelectList(ViewBag.certType, "id","type"))</td>
</tr>
<tr>
    <td>Identificação:</td>
    <td>@Html.TextBoxFor(m => m.identifier, new { @class = "validate[required]" })      @Html.ValidationMessage("awnserVal", "*")</td>
</tr> 
</table> 
```

控制器

```
using (tgpwebgedEntities context = new tgpwebgedEntities())
{
   var userID = from u in context.aspnet_Users where u.UserName == model.UserName select u.UserId;

   if (checkIsCertified == true)
   {
      UsersCertified uc = new UsersCertified {
                            uc.userId = userId;
                            uc.certTypeId = model.certType;
                            uc.keyNumber = model.identifier;
                        }

      context.SaveChanges()
   }
} 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:39:08.693

```
UsersCertified uc = new UsersCertified {
                            uc.userId = userId;
                            uc.certTypeId = model.certType;
                            uc.keyNumber = model.identifier;
                        } 
```

不应该写在括号里吗？如果您使用的是构造函数。

```
UsersCertified uc = new UsersCertified (
                            uc.userId = userId;
                            uc.certTypeId = model.certType;
                            uc.keyNumber = model.identifier;
                        ) 
```

添加此代码：

```
context.UsersCertified .InsertOnSubmit(uc);
                context.SubmitChanges(); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T07:08:58.147

我想你不见了

```
context.Set<UsersCertified>().Add(uc); 
```

前

```
context.SaveChanges(); 
```

顺便说一句，您可能想阅读我关于[存储库](https://stackoverflow.com/questions/13549062/using-entity-framework/13550504#13550504)模式的答案。它可以帮助您了解如何使用数据库并按级别拆分应用程序。

# java - 使用 java 程序通过 smtp 和 ssl 发送电子邮件失败

> ID：13640170
> 
> 赞同：0
> 
> 时间：2012-11-30T06:34:05.100
> 
> 标签：java, smtp, jakarta-mail

我只是想发送一封电子邮件表单 java 代码。但是我遇到了这样的异常：

```
"java.lang.RuntimeException: javax.mail.MessagingException: 
 Could not connect to SMTP host:smtp.gmail.com, port: 465, response: -1." 
```

我设置了以下属性：

```
mail.smtp.host
mail.smtp.socketFactory.port
mail.smtp.auth
mail.smtp.port 
```

这个异常的原因是什么？

请帮我。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:36:07.330

您可能可以尝试使用此示例来解决问题-

[Java通过gmail发送邮件](http://www.mkyong.com/java/javamail-api-sending-email-via-gmail-smtp-example/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T08:16:14.320

看起来您还没有找到[JavaMail FAQ](http://www.oracle.com/technetwork/java/javamail/faq/index.html)。这些条目可能会有所帮助：

*   [如何调试连接到我的邮件服务器的问题？](http://www.oracle.com/technetwork/java/javamail/faq/index.html#condebug)
*   [如何配置 JavaMail 以通过我的代理服务器工作？](http://www.oracle.com/technetwork/java/javamail/faq/index.html#proxy)

# ios - iOS JSON 解析返回 null

> ID：13640172
> 
> 赞同：1
> 
> 时间：2012-11-30T06:34:08.837
> 
> 标签：ios, xcode, json

我在网上搜索了解决这个问题的方法，但总是返回给我的结果是空的。

这是我从网上收到的以下字符串。一切似乎都很好。但是，当我将此字符串转换为数组时，返回的结果为空。

编码：

```
- (void)connectionDidFinishLoading:(NSURLConnection *)connection {
NSLog(@"connectionDidFinishLoading");
NSLog(@"Succeeded! Received %d bytes of data",[self.responseData length]);

// String
NSString *responseString = [[NSString alloc] initWithData:self.responseData encoding:NSUTF8StringEncoding];
NSLog(@"%@", responseString);

NSDictionary *resultsDictionary = [responseString objectFromJSONString];
NSLog(@"%@", resultsDictionary); // Returns null 
```

}

结果： [{"cid":"382595836","name":"\u514d\u7a0e\u5e97\u4e13\u5356\u54c1"},{"cid":"382595837","name":"\u9650\ u91cf\u7248\u9999\u6c34"},{"cid":"380837083","name":"\u5973\u58eb\u7cbe\u88c5"},{"cid":"380837082","name":"\ u7537\u58eb\u7cbe\u88c5"},{"cid":"61540749","name":"\u7b80\u88c5\u5973\u7528\u9999\u6c34"},{"cid":"24213689","name ":"\u7b80\u88c5\u7537\u7528\u9999\u6c34"},{"cid":"25541561","name":"Q\u9999\u5973\u58eb"},{"cid":"25541841" "名称":"Q\u9999\u7537\u58eb"}]

任何人都可以为我提供一个思考这个问题的方法。

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:57:14.390

尝试这个

`NSMutableData *responseData;` // 在 .h 类中使用

在 .m 类中使用这个函数

```
-(void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data
{
    NSLog(@"connection did receive data");
    [responseData appendData:data];
    NSString *responseString = [NSString stringWithUTF8String:[responseData bytes]];
    NSLog(@"%@",responseString);
}
- (void)connectionDidFinishLoading:(NSURLConnection *)connection
{
    NSLog(@"Succeeded! Received %d bytes of data", [responseData length]);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T06:48:11.000

使用下面的代码。该代码适用于 ios 5.0 及更高版本。

```
NSArray* list = [NSJSONSerialization JSONObjectWithData:self.responseData options:kNilOptions
                          error:&error]; 
```

我这样做了。它对我来说很好。您可以尝试以下一种逻辑。

```
NSString *filePath = [[NSBundle mainBundle] pathForResource:@"demo" ofType:@"json"];
NSData *myData = [NSData dataWithContentsOfFile:filePath];
NSError *error;
id json = [NSJSONSerialization JSONObjectWithData:myData options:kNilOptions error:&error];
NSArray *list = (NSArray *)json; 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-30T06:51:44.130

如果您传入的字符串不是有效的 JSON ，`objectFromJSONString`则将返回。`nil`

我检查了这个

`[{"cid":"382595836","name":"\u514d\u7a0e\u5e97\u4e13\u5356\u54c1"},{"cid":"382595837","name":"\u9650\u91cf\u7248\u9999\u6c34"},{"cid":"380837083","name":"\u5973\u58eb\u7cbe\u88c5"},{"cid":"380837082","name":"\u7537\u58eb\u7cbe\u88c5"},{"cid":"61540749","name":"\u7b80\u88c5\u5973\u7528\u9999\u6c34"},{"cid":"24213689","name":"\u7b80\u88c5\u7537\u7528\u9999\u6c34"},{"cid":"25541561","name":"Q\u9999\u5973\u58eb"},{"cid":"25541841","name":"Q\u9999\u7537\u58eb"}] 2012-11-30 14:29:52.779 com.JSON.Product[1979:c07]`

在[**JSONLint**](http://jsonlint.com/)它显示它是一个**无效的 JSON**。

# jquery - 使用 JQuery 在共享点上更新 web 部件而不刷新页面

> ID：13640175
> 
> 赞同：0
> 
> 时间：2012-11-30T06:34:21.597
> 
> 标签：jquery, sharepoint-2010

我有一个日历事件 - 显示 web 部件。但它仅在页面刷新时更新。我希望它在我将事件从 Outlook 日历同步到共享点日历​​时进行更新。我应该如何使用 JQuery 来做到这一点。我是 JQuery 的新手。请帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T16:57:31.543

我想知道为什么您希望 webpart 自动更新？它会显示在不断打开的网页上吗？否则你会想在访问页面后显示数据吗？

如果您希望在不刷新页面的情况下更新数据，您有一些选择。当手动更新足够时，您可以使用 webpart 上的更新面板和刷新按钮。然后，当按下刷新按钮时，只会刷新 webpart 内容。使用此方法时，您可以保持您的代码就像现在实现的一样。

如果您想让它自动更新，您将需要更改您的 Web 部件，以便在客户端检索数据。为此，您将需要客户端对象模型的帮助或使用 javascript 调用共享点服务。然后，您可以使用 javascript 计时器来检索 ex 的数据。每一分钟。

# php - 如何将 php mdY 日期转换为 Unix 时间戳？

> ID：13640180
> 
> 赞同：0
> 
> 时间：2012-11-30T06:34:59.340
> 
> 标签：php, strtotime

我收到了类似 11.30.2012 的日期，我需要在 UNIX 时间戳中进行转换，但在 PHP 中它似乎不起作用。我该如何解决这个问题。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:58:31.940

```
$date = '12.31.2000';

$timestamp = DateTime::createFromFormat('m.d.Y', $date)->getTimestamp(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T06:43:49.740

尝试这个

```
$date = "11.30.2012"; 
list($month, $day, $year) = split('.', $date); 
$timeStamp = mktime(0, 0, 0, $month, $day, $year); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T06:38:50.953

尝试这个

```
$date = "11.30.2012";

$x = explode(".",$date);

$req_date = $x[2]."-".$x[0]."-".$x[1];

$unixdate = strtotime($req_date); 
```

# c++ - Getline 和 ifstream？

> ID：13640184
> 
> 赞同：0
> 
> 时间：2012-11-30T06:35:21.903
> 
> 标签：c++

我在使用 ifstream 和 getline 时遇到问题。我有一个文本文件：

```
1020123456
Madison Williams
90
88
79
86
90 
```

并希望将名称分配给`students[0].name`学生`struct`类型为学生的位置。我尝试使用

```
inFile >> students[0].id;
getline(inFile, students[0].name); 
```

`"cout << students[0].id"`正确生成 ID，但 .name 什么也不做。

我在这里做错了什么？

并`"inFile.getline(students[0].name)"`产生错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:42:44.627

你的数字后面有一个`'\n'`字符。当您`inFile >> students[0].id;`阅读数字时，请停在`'\n'`字符处。然后，当 you 时`getline()`，流中还剩下那个`'\n'`字符，所以它会读取一个空字符串，跳过`'\n'`，然后移动到下一行（这是你的名字所在的位置）。

您需要`'\n'`在阅读号码之后和打电话之前跳过`getline()`。呼叫 `inFile.ignore(std::numeric_limits<std::streamsize>::max(), '\n');`将忽略剩下的内容，`inFile`直到遇到`'\n'`角色。所以改成：

```
inFile >> students[0].id;
inFile.ignore(std::numeric_limits<std::streamsize>::max(), '\n');
getline(inFile, students[0].name);
// continue as normal... 
```

# android - 防止 Proguard 删除片段的空构造函数

> ID：13640187
> 
> 赞同：32
> 
> 时间：2012-11-30T06:35:41.107
> 
> 标签：android, constructor, fragment, proguard

你知道， Fragment 的所有子类都必须包含一个公共的空构造函数，但是当使用 proguard 时，这些构造函数将被删除。我已指定以下命令，但仍删除空构造函数。谁能帮我保留 Fragment 的空构造函数？谢谢。

```
-keepclassmembers public class * extends android.support.v4.app.Fragment { 
   public <init>(***);
   #public <init>(); //already tried this
}

-keepclassmembers public class * extends com.xxx.MyFragment { 
   public <init>(***);
   #public <init>(); //already tried this
} 
```

* * *

## 回答 #1

> 赞同：51
> 
> 时间：2012-11-30T06:39:35.063

这应该工作：

```
-keepclassmembers public class * extends android.support.v4.app.Fragment { 
   public <init>(...); 
```

我相信即使这样也足够了：

```
-keep public class * extends android.support.v4.app.Fragment 
```

因为保留类将迫使 proguard 保留默认构造函数。

# r - 使用 tm_map(..., tolower) 将文本转换为小写时出错

> ID：13640188
> 
> 赞同：48
> 
> 时间：2012-11-30T06:35:41.490
> 
> 标签：r, tm, lowercase, term-document-matrix

我尝试使用`tm_map`. 它给出了以下错误。我怎样才能解决这个问题？

```
 require(tm)
 byword<-tm_map(byword, tolower)

Error in UseMethod("tm_map", x) : 
  no applicable method for 'tm_map' applied to an object of class "character" 
```

* * *

## 回答 #1

> 赞同：102
> 
> 时间：2012-11-30T06:41:32.717

使用基本 R 函数`tolower()`：

```
tolower(c("THE quick BROWN fox"))
# [1] "the quick brown fox" 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2016-07-20T08:07:13.860

在这里将我的[评论](https://stackoverflow.com/questions/13640188/error-converting-text-to-lowercase-with-tm-map-tolower/17864484?noredirect=1#comment40198625_17864484)扩展到更详细的答案：您必须将其包裹`tolower`在内部，`content_transformer`以免搞砸`VCorpus`对象-例如：

```
> library(tm)
> data('crude')
> crude[[1]]$content
[1] "Diamond Shamrock Corp said that\neffective today it had cut its contract prices for crude oil by\n1.50 dlrs a barrel.\n    The reduction brings its posted price for West Texas\nIntermediate to 16.00 dlrs a barrel, the copany said.\n    \"The price reduction today was made in the light of falling\noil product prices and a weak crude oil market,\" a company\nspokeswoman said.\n    Diamond is the latest in a line of U.S. oil companies that\nhave cut its contract, or posted, prices over the last two days\nciting weak oil markets.\n Reuter"
> tm_map(crude, content_transformer(tolower))[[1]]$content
[1] "diamond shamrock corp said that\neffective today it had cut its contract prices for crude oil by\n1.50 dlrs a barrel.\n    the reduction brings its posted price for west texas\nintermediate to 16.00 dlrs a barrel, the copany said.\n    \"the price reduction today was made in the light of falling\noil product prices and a weak crude oil market,\" a company\nspokeswoman said.\n    diamond is the latest in a line of u.s. oil companies that\nhave cut its contract, or posted, prices over the last two days\nciting weak oil markets.\n reuter" 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-07-25T17:10:31.737

```
myCorpus <- Corpus(VectorSource(byword))
myCorpus <- tm_map(myCorpus , tolower)

print(myCorpus[[1]]) 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-06-25T19:48:43.703

以这种方式使用 tolower 有一个不良的副作用：如果您稍后尝试从语料库中创建术语文档矩阵，它将失败。这是因为最近 tm 的更改无法处理 tolower 的返回类型。相反，使用：

```
myCorpus <- tm_map(myCorpus, PlainTextDocument) 
```

# sql - 我们可以在 select 子句中应用聚合函数吗（出现错误：不是单组组函数）

> ID：13640192
> 
> 赞同：1
> 
> 时间：2012-11-30T06:36:04.007
> 
> 标签：sql, oracle11g

我有一个查询，我试图通过减去一列的总数来获得一列 - 其他但我收到错误。这就是我正在做的

```
select LOSA_APP.app_ref_no AS "App.Ref.No.", 
       CODE_BRANCH.branch_name AS "Business Unit",
       ....
        sum(LOSA_FACILITIES.amt_appr) - DOCS_DISB_SIGN_OFF_LOG.sign_off_amt AS "Amount Not Disbursed",
       ...
from
    losa_app LOSA_APP
INNER JOIN
    code_branch CODE_BRANCH
ON
    LOSA_APP.attend_branch = CODE_BRANCH.branch_id
...
where 
    LOSA_APP.app_status='A'; -- Application Status in {‘accepted’} 
```

但我收到错误

```
ORA-00937: not a single-group group function
00937\. 00000 -  "not a single-group group function"
*Cause:    
*Action:
Error at Line: 1 Column: 8 
```

我怎样才能完成这件事？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T06:45:49.627

**ORA-00937:** 不是单组组函数

**原因：** 一个 SELECT 列表不能同时包含一个组函数，例如 AVG、COUNT、MAX、MIN、SUM、STDDEV 或 VARIANCE，以及​​一个单独的列表达式，除非单独的列表达式包含在 GROUP BY 子句中。

**行动：**从 SELECT 列表中删除组函数或单个列表达式，或添加一个 GROUP BY 子句，其中包括列出的所有单个列表达式。

[https://www.google.com/search?q=ORA-00937%3A+not+a+single-group+group+function&oq=ORA-00937%3A+not+a+single-group+group+function&sugexp=铬,mod=6&sourceid=chrome&ie=UTF-8](https://www.google.com/search?q=ORA-00937%3A+not+a+single-group+group+function&oq=ORA-00937%3A+not+a+single-group+group+function&sugexp=chrome,mod=6&sourceid=chrome&ie=UTF-8)

```
select LOSA_APP.app_ref_no AS "App.Ref.No.", 
   CODE_BRANCH.branch_name AS "Business Unit",
   ....
    sum(LOSA_FACILITIES.amt_appr) - DOCS_DISB_SIGN_OFF_LOG.sign_off_amt AS "Amount Not Disbursed",
   ...
 from
   losa_app LOSA_APP

 INNER JOIN
   code_branch CODE_BRANCH
 ON
   LOSA_APP.attend_branch = CODE_BRANCH.branch_id
   ...
 GROUP BY LOSA_APP.app_ref_no, LOSA_APP.app_ref_no
 HAVING  LOSA_APP.app_status='A'; -- Application Status in {‘accepted’} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T06:40:15.653

如果每个 amt_appr 都有一个 sign_off，请尝试此操作：

```
sum(LOSA_FACILITIES.amt_appr - DOCS_DISB_SIGN_OFF_LOG.sign_off_amt) 
```

或者这个技巧，其中重复值的 AVG 是重复值：

```
sum(LOSA_FACILITIES.amt_appr) - AVG(DOCS_DISB_SIGN_OFF_LOG.sign_off_amt) 
```

# google-app-engine - Google Cloud SQL 中如何定义 I/O 操作？

> ID：13640197
> 
> 赞同：2
> 
> 时间：2012-11-30T06:36:23.523
> 
> 标签：google-app-engine, google-cloud-sql

我想知道 Google Cloud SQL 中如何定义低级 I/O 操作，至于他们的数据存储，他们已经定义了对于一个 INSERT 或 UPDATE 执行多个低级 I/O 操作。SQL 也一样，如果是，这些是什么，另外，如果我的数据在 Cloud SQL 中的多台服务器上复制，我是否会支付复制费用，例如，如果我的数据分布在 5 台服务器上，那么我的 1 次插入是否等于到五个 I/O 操作？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T08:23:44.147

操作被定义为对 read() 或 fsync() 的调用。如果有大量缓冲数据，write() 也可以触发操作。您可以在 strace 下运行 mysqld 以了解查询将触发多少操作。例如，一个简单的查询，如

```
INSERT INTO t VALUES (42); 
```

大致会产生

```
write(logfile, 42);
fsync(logfile);
write(datafile, 42);
fsync(datafile); 
```

所以这将算作两个操作。复制包含在成本中，因此这仅算作两个操作，而不是 2 * num_replicas。

# php - 我什么时候可以在表单中使用 (PHP) Include 或 Require？

> ID：13640203
> 
> 赞同：0
> 
> 时间：2012-11-30T06:36:38.433
> 
> 标签：php, forms

对于我所在的课程，我需要创建一个简单的表单，当数据发送到下一页时，它只使用前一页中的数据条目创建文本。说明要求我们至少使用一次“包含”或“要求”。如果应用程序只是带有表单的页面->提交->下一页，我不明白如何使用要求/包含。

require/include 需要第三页，不是吗？还是我缺少包含/要求的东西？我应该如何合并一个？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:43:37.327

您通常会使用包含向您的程序添加一些您不想在程序中重新编码的功能。例如包含某些库。你也可以通过移动你的函数或类定义来包含文件，然后将它们添加到你的脚本中，以使你的代码看起来整洁。话虽如此，您只能在特定场景中使用包含并不是一个必须条件。您可以随时使用它们。即使是简单的事情。例如，您可以有一个名为 includes.php 的文件，其中包含此

```
<?php
 $name=$_POST["name"];
?> 
```

然后在接收表单提交的文件中，可以说 process.php，你可以说

```
<?php
 include "includes.php";
 echo $name;
 ?> 
```

也只是澄清 include 和 require 之间的区别。在最简单的意义上，即使包含失败，脚本仍将继续执行，但如果 require 调用失败，则脚本将停止执行。然后，您还可以使用 include_once 或 require_once 来停止多次错误地包含一个文件

# at-command - GSM MODEM : AT 命令了解我的运营商

> ID：13640205
> 
> 赞同：12
> 
> 时间：2012-11-30T06:36:55.103
> 
> 标签：at-command

谁能告诉我，有没有可以检测当前运营商名称的AT命令？

我用过AT+COPS？它返回给我操作员的数字代码：0,2,40410

然后我使用命令 AT+WOPN = 0,40410 返回运算符的字母数字值

但这只给出了 Airtel 运营商的名称，而对于其他运营商，它给出了一个错误。

请帮我。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2014-08-05T08:57:31.423

您应该按照[所指出的那样](https://stackoverflow.com/a/13643392/483573)`AT+COPS=<mode>,[<format>,<oper>[,<AcT>]]`使用命令，但值必须是不要覆盖您现有的值：`<mode>``3``<mode>`

```
<mode>: integer type
3   set only <format> (for read command +COPS?), do not attempt
    registration/deregistration (<oper> and <AcT> fields are ignored);
    this value is not applicable in read command response. 
```

并且`<format>`需要为 0 或 1

```
<format>: integer type
0   long format alphanumeric <oper>
1   short format alphanumeric <oper>
2   numeric <oper> 
```

所以你的命令是

```
AT+COPS=3,0
AT+COPS? 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-30T10:30:34.350

您需要先设置格式。

*   `AT+COPS=1,2`

    "2" 表示数字格式，这将返回 eg40410

*   `AT+COPS=1,0`

    “0”表示长字母数字格式，这应该返回操作员名称字符串。

第一个参数是`<mode>`- 选择您需要的值。有关此 AT 命令的完整文档，请参阅[http://www.3gpp.org/ftp/Specs/html-info/27007.htm上的 3GPP TS 27.007 文档](http://www.3gpp.org/ftp/Specs/html-info/27007.htm)

当您设置了模式和格式后，然后发送 `AT+COPS?`，您应该以您想要的格式获取操作员名称。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-30T06:54:29.143

你试过吗- `AT+QSPN`。

适用于我的 Quectel 调制解调器。

# php - Yii：在不复制代码库的情况下创建演示站点

> ID：13640206
> 
> 赞同：1
> 
> 时间：2012-11-30T06:37:01.890
> 
> 标签：php, yii, demo

我需要为用户建立一个演示站点，以便在注册之前试用 Web 应用程序。该演示将基于生产代码，但是，它需要进行少量代码更改：连接到演示数据库，为每个用户自动创建/登录新的访客帐户等。

显而易见的解决方案是将我的代码库复制为第二个演示网站并根据需要进行编辑。通过在 subversion 中添加一个分支，使演示代码与生产代码保持同步很容易。然而，每次我将代码从开发推送到生产时，我都不得不在我的服务器上进行两次更新（生产和演示），我对此并不感到兴奋。

最初我以为我可以通过模块复制网站。然而，目前尚不清楚这是否可能。

Yii 中是否有机制来执行网站的更改版本（配置文件和选定的控制器）？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T07:53:51.813

从来没有做过，所以只是一个想法

**其他目录中文件很少的解决方案**

创建一个单独的演示目录并将其映射到您的演示 URL

在这个目录中放这个 index.php（也可能是你的 .htaccess）

```
<?php
$yii=_PRODUCTION_PATH_.'/framework/yii.php';
$config_prod=_PRODUCTION_PATH_.'/protected/config/main.php';
$config_demo=dirname(__FILE__).'/demo_main.php';

require_once($yii);

$config = CMap::mergeArray($config_prod,$config_demo);

Yii::createWebApplication($config)->run(); 
```

demo_main.php 覆盖类 (user, db) 以管理更好的演示体验：

```
<?php
return array(
        'basePath'=>_PRODUCTION_DIR_.DIRECTORY_SEPARATOR.'..',
        'components'=>array(
             'user' => array(
                  // here you override the user class with a DEMO only user
                  'class'=>'DemoUser',
             )
        ), 
```

**将生产站点的所有文件放在不同目录中的解决方案**

下面是根目录中的 index.php

```
<?php

$yii='../framework/yii.php';

$configMain = include dirname(__FILE__).'/protected/config/main.php';
$configProd = include dirname(__FILE__).'/protected/config/production.php';
$configDemo = include dirname(__FILE__) . '/protected/config/demo.php';

require_once($yii);
// for the demo version
// instead of the comment can be an *if* or any solution to manage 2 configs
//$config = CMap::mergeArray($configMain,$configProd);
$config = CMap::mergeArray($configMain,$configDemo);

Yii::createWebApplication($config)->run(); 
```

**demo.php**类似于站点演示版的“demo_main.php”覆盖类和配置。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-30T17:00:48.357

为此配置了[testdrive 演示应用程序](http://www.yiiframework.com/doc/guide/1.1/en/quickstart.first-app)- 安装后，请注意单独`index-test.php`的 和`protected/config/test.php`.

与@IvanButtinoni 的建议不同，您需要访问`index-test.php`，而不是`index.php`，因此如果您使用干净的 URL 来允许访问 .htaccess ，则可能需要修改您的 .htaccess `index-test.php`。

当我这样做时，我通常会在基本的 controller.php 中编写一个自定义的 init：

```
 public function init() {
            // use test layout if using test config
            if (isset(Yii::app()->params['test'])) {
                    $this->layout='//layouts/test';
            }
            parent::init();
    } 
```

显然，我的 test.php 中有一个测试参数。. .

我的两种布局的唯一区别是，一种将背景颜色设置为亮黄色，这样很清楚您在测试站点上。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-30T19:10:54.163

如果我理解得很好（根据原始帖子的评论答案），那么有几种方法。这是一个我认为可以提供很大帮助的链接。它帮助我设置，可能会帮助你！在 Yii 2 中，它将被[固有地支持](http://www.yiiframework.com/forum/index.php/topic/36339-frontendbackend-division/page__view__findpost__p__174965)

[http://www.yiiframework.com/wiki/33/](http://www.yiiframework.com/wiki/33/)

# objective-c - 如何生成不重复的随机数

> ID：13640208
> 
> 赞同：2
> 
> 时间：2012-11-30T06:37:13.277
> 
> 标签：objective-c, cocoa, arc4random

我正在尝试随机化数组中的数字。我可以使用`arc4random() % [indexes count]`

我的问题是 - 如果一个数组由 20 个项目组成，那么每次数组洗牌时，在一批 5 中，应该出现不同的数字。例子 ：

第一次洗牌：1,4,2,5,6。

第二次洗牌：7,12,9,15,3

```
-(IBAction)randomNumbers:(UIButton *)sender
{
    int length = 10; // int length = [yourArray count];

    NSMutableArray *indexes = [[NSMutableArray alloc] initWithCapacity:length];
    for (int i=0; i<5; i++)
        [indexes addObject:[NSNumber numberWithInt:i]];

    NSMutableArray *shuffle = [[NSMutableArray alloc] initWithCapacity:length];

    while ([indexes count])
    {
        int index = arc4random() % [indexes count];
        [shuffle addObject:[indexes objectAtIndex:index]];
        [indexes removeObjectAtIndex:index];
    }

    //    for (int i=0; i<[shuffle count]; i++)
    NSLog(@"%@", [shuffle description]);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T06:41:14.683

根据您的要求....请检查此代码

将此作为属性

```
@synthesize alreadyGeneratedNumbers; 
```

在您的 .m 中添加这些方法

```
-(int)generateRandomNumber{

    int TOTAL_NUMBER=20;

    int low_bound = 0;
    int high_bound = TOTAL_NUMBER;
    int width = high_bound - low_bound;
    int randomNumber = low_bound + arc4random() % width;

    return randomNumber;
}

-(IBAction)randomNumbers:(UIButton *)sender
{

    NSMutableArray *shuffle = [[NSMutableArray alloc] initWithCapacity:5];

    BOOL contains=YES;
    while ([shuffle count]<5) {
        NSNumber *generatedNumber=[NSNumber numberWithInt:[self generateRandomNumber]];
        //NSLog(@"->%@",generatedNumber);

        if (![alreadyGeneratedNumbers containsObject:generatedNumber]) {
            [shuffle addObject:generatedNumber];
            contains=NO;
            [alreadyGeneratedNumbers addObject:generatedNumber];
        }
    }

    NSLog(@"shuffle %@",shuffle);
    NSLog(@"Next Batch");

    if ([alreadyGeneratedNumbers count] >= TOTAL_NUMBER) {
        NSLog(@"\nGame over, Want to play once again?");//or similar kind of thing.
        [alreadyGeneratedNumbers removeAllObjects];
    }

} 
```

我仍然觉得你需要一些改变，比如

它会给你正确的值，但如果用户按了第 5 次呢？

在 20 个号码中，您已经选择了 4 组 5 个号码，在第 6 次它将循环搜索下一组号码，并且将变为无限。

所以你可以做的是，跟踪随机播放，一旦达到限制，即 20/5=4 禁用随机按钮。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-12-30T13:37:58.610

这个对我有用：

```
 NSMutableArray *numbers = [NSMutableArray new];
    BOOL addElement = YES;
    int limit = 100; // Range from 0 to 36
    int numElem = 10; // Number of elements
    do
    {
        int ranNum = (arc4random() % limit) +1;
        if ([numbers count] < numElem) {
            for (NSNumber *oneNumber in numbers) {
                addElement =([oneNumber intValue] != ranNum) ? YES:NO;
                if (!addElement) break;
            }
            if (addElement) [numbers addObject:[NSNumber numberWithInt:ranNum]];
        } else {
            break;
        }
    } while (1);
    NSLog(@"%@",numbers); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-04-28T20:14:21.567

在扩展名或头文件中声明包含已生成数字的数组

```
@property (strong, nonatomic)NSMutableArray *existingNums;
@property (assign, nonatomic)NSInteger maxLimit;
@property (assign, nonatomic)NSInteger minLimit; 
```

然后在实现文件中实现给定的代码

```
@synthesize existingNums;
@synthesize maxLimit;
@synthesize minLimit;

- (NSInteger)randomNumber {

    if(!existingNums)
        existingNums = [NSMutableArray array];

    while (YES) {

        NSNumber *randonNum = [NSNumber numberWithInteger:minLimit+arc4random()%maxLimit];

        if([existingNums containsObject:randonNum]) {

            if([existingNums count] == (maxLimit - minLimit))
                return -1; // All possible numbers generated in the given range

            continue;
        }

        [existingNums addObject:randonNum];

        return [randonNum integerValue];
    }

    return -1;   // return error
} 
```

希望对你有帮助 ：）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-12-30T13:54:45.840

所有这些答案的问题在于，您需要查看之前生成的随机数，如果您需要大量随机整数，则需要额外的时间。

另一种解决方案是使用密码学：

1.  生成随机密钥
2.  在 0..n 之间迭代
3.  对每个整数进行加密，然后将要使用的备选方案的数量取模应用于函数的输出。

有一些额外的细节需要考虑，这些细节对您的情况无关紧要。

# wordpress - 在添加新帖子时添加“特征图像”选项

> ID：13640210
> 
> 赞同：0
> 
> 时间：2012-11-30T06:37:28.660
> 
> 标签：wordpress

我想添加一个选项以在添加新帖子页面上添加特征图像，如下图所示。

我该怎么做？

![在此处输入图像描述](../Images/cfcdb4522ec34815c2d62186ed26ee08.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:58:43.833

您需要使用 wordpress 功能`add_theme_support( 'post-thumbnails' );`

只需在你的 wordpress 函数中添加那行代码，它就会允许你这样做。

在这里阅读更多信息：http: [//codex.wordpress.org/Function_Reference/add_theme_support#Post_Thumbnails](http://codex.wordpress.org/Function_Reference/add_theme_support#Post_Thumbnails)

希望有帮助！

**更新：** 这是我在我的`functions.php`. 它会在您的上传文件夹中创建您上传图像的重新调整大小的版本。很有用：

```
// post thumbnail support
if ( function_exists( 'add_image_size' ) ) add_theme_support( 'post-thumbnails' );

if ( function_exists( 'add_image_size' ) ) {
add_image_size( 'featured-thumb', 282, 158, true ); 
} 
```

# java - 为什么默认不调用构造函数

> ID：13640215
> 
> 赞同：-4
> 
> 时间：2012-11-30T06:38:10.643
> 
> 标签：java, constructor

我听我的讲师说，在 Java 中，构造函数在 main 实际启动时被调用。但是当我尝试它时，我知道构造函数不会自动调用。代码是这样的。

```
class Anther {

    static void method1(){
        System.out.println("this is method");
    }

    static void method2(){
        System.out.println("this is second one");
    }

    Anther(){
        System.out.println("Anther class");
    }
    public static void main(String[] args){
        System.out.println("first line");

        method1();
        System.out.println("second line");

        method2();
        System.out.println("end of story");     
    }
} 
```

输出是这样的

```
first line
this is method
second line
this is second one
end of story 
```

为什么它没有打印“花药类”。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T06:39:38.277

您尚未创建`Anther`对象。构造函数仅在对象创建时被调用。

`static`无需创建对象即可访问资源。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-30T06:40:54.157

> 我听我的讲师说，在 Java 中，构造函数在 main 实际启动时被调用。

我怀疑你的讲师真的会这么说。如果他有，那么他肯定可能在某个地方弄错了，或者你可能误解了他

现在，事情是这样的：-

> `new`在您使用运算符实例化您的类之前，不会调用构造函数

因此，在上述情况下，构造函数将在您使用以下代码时被调用：-

```
Anther obj = new Anther(); 
```

在你的`main`方法中。

在上面的语句中，`new`操作符创建了一个 的对象`Anther`，并在新创建的实例上调用构造函数来初始化它的状态。

一定要和你的讲师澄清这件事。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T06:49:38.457

默认情况下，只有当我们有类对象的实例时才会调用构造函数。

IE

```
Anther obj  = new Anther(); 
```

所以，这就是为什么`default`没有调用构造函数的原因。

`static methods``JVM`是在调用构造函数之前加载的类变量。

`super constructor`在这个例子中超出了范围，它被调用是因为这个 Anther 类有基类`[Class A extends Class B]`

希望这能消除您的疑问。

谢谢，帕万

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-30T06:43:56.557

**-**当你创建一个**类的对象时**，**总是调用它的构造函数**。

**-**不仅是**它的** `contructor`，而且是它的**超类构造函数，直到 Object Class 构造函数被调用。**

**-以及****从超类到子类**的流程的**形成。**`object`

 ****-**你必须调用创建一个`Anther class` **实例**，以便**调用它的构造函数。**

**例如：**

```
public static void main(String[] args){

        Anther a = new Anther();     // Creation of an object of class Anther

        System.out.println("first line");

        method1();
        System.out.println("second line");

        method2();
        System.out.println("end of story");     
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-30T06:40:18.417

创建`Instance`类时会自动调用构造函数。

```
Anther ant = new Anther(); 
```

在这里，您正在创建类的实例。此时将调用构造函数。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-11-30T06:42:20.333

尝试这个

```
public static void main(String[] args){
        Anther a = new Anther();//you shoule create instance;
        System.out.println("first line");

        method1();
        System.out.println("second line");

        method2();
        System.out.println("end of story");     
    } 
```**

# magento - 在 magento onepage 结帐时，订单审核页面变为空白

> ID：13640216
> 
> 赞同：0
> 
> 时间：2012-11-30T06:38:19.947
> 
> 标签：magento, checkout

我正在使用 Magento 1.7 社区版，每当我以客户身份登录并尝试结帐时，单页结帐中的订单审查选项卡都会返回一个空白页面。当我以客人身份结帐时，它工作正常。我搜索了很多，但似乎没有人有这个问题。我没有在异常或系统日志中得到任何信息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T07:14:32.683

这是 Magento 遇到的一些致命 PHP 错误的问题。原因可以是任何的。很可能，安装的 3rd 方扩展或自定义开发有问题，您可能在 Magento 中制作。

为了查看实际错误，在 Magento 中启用了开发者模式。最简单的方法是临时编辑 index.php 并更改

```
if (isset($_SERVER['MAGE_IS_DEVELOPER_MODE'])) {
    Mage::setIsDeveloperMode(true);
} 
```

至

```
Mage::setIsDeveloperMode(true); 
```

然后你会看到错误，这会让你发现要修复的问题。

# c++ - 删除向量 C++ 中的所有元素

> ID：13640217
> 
> 赞同：-2
> 
> 时间：2012-11-30T06:38:21.547
> 
> 标签：c++, vector, erase

> **可能重复：**
> [从 c++ std::vector 中删除所有项目](https://stackoverflow.com/questions/1525535/delete-all-items-from-a-c-stdvector)

我认为在迭代器中使用 begin 会搞砸这个，因为它只迭代 26 次并跳过每 2 个元素。我还能怎么做？

```
void clearVector() {
    for (int i = 0; i < 52; i++) {
        vector.erase(vector.begin() + i);
    }
} 
```

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-11-30T06:39:40.473

您调用该[`std::vector::clear()`](http://en.cppreference.com/w/cpp/container/vector/clear)方法：

```
myVector.clear(); 
```

我已将实例名称从更改`vector`为`myVector`. 对实例使用类的名称不是一个好主意。

* * *

## 回答 #2

> 赞同：12
> 
> 时间：2012-11-30T06:39:44.230

`std::vector`有一个`clear`成员，你知道：

```
void clearVector() {
    vector.clear();
} 
```

无论如何，由于您从左侧擦除，因此大小也会缩小。这可以按照您的意愿工作，尽管它效率低下，因为每次迭代都必须在前面进行 O(N) 次复制。

```
void clearVector() {
    for (int i = 0; i < 52; i++) {
        vector.erase(vector.begin());
    }
} 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-30T06:45:51.110

您可以使用 std::vector::clear() 清除元素或与空容器交换更快。

```
vec.clear(); 
```

或者

```
std::vector<DataType>().swap(vec); 
```

*注意：您的变量`vector`不是好的变量名，最好将其更改为其他名称。*

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-30T06:44:48.820

```
 vec.erase(vec.begin() /* first you want delete */, 
                vec.begin() + vec.size() /* 1 beyond the last you want to delete */);
      // or if you have to erase all elements:
      vec.clear(); 
```

所以你不需要迭代。

# iphone - 相机点击图片的标题和描述

> ID：13640226
> 
> 赞同：1
> 
> 时间：2012-11-30T06:39:12.593
> 
> 标签：iphone, objective-c, ios, xcode, uiimagepickercontroller

在我的相机应用程序中，当我单击图像时，它会向用户询问标题和描述，然后保存它。现在它正在保存图像，但不询问标题和描述。我是 iOS 的新手。所以，可能是这样是一个愚蠢的问题。请帮助我得到这个。对于相机点击我正在使用这种方法：-

```
- (void)viewWillAppear:(BOOL)animated
{
    [super viewWillAppear:animated];

BOOL camera = [UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera];
if(camera)
{
    UIImagePickerController *picker = [[UIImagePickerController alloc] init];
    [[picker navigationBar]setBarStyle:UIBarStyleDefault];
    picker.sourceType = UIImagePickerControllerSourceTypeCamera;
    [picker setDelegate:self];
    [self presentViewController:picker animated:YES completion:NULL];

    [picker release];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T10:57:17.023

您可以通过以下方式执行此操作：

*   使用相机单击图像。
*   在不保存图像的情况下返回您的应用程序。到目前为止，您将获得在您的应用程序中单击的图像的引用。
*   向用户询问标题和描述。
*   使用这行代码将图像保存到图片库：

    UIImageWriteToSavedPhotosAlbum(UIImage *image, id completionTarget, SEL completionSelector, void contextInfo);

希望它可以帮助你。

[更多帮助在这里....](https://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIKitFunctionReference/Reference/reference.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-16T06:30:50.137

对我来说，本教程指导我实现了我想要的。所以，我想分享链接。可能有人从中受益。

[http://www.raywenderlich.com/13541/how-to-create-an-app-like-instagram-with-a-web-service-backend-part-22](http://www.raywenderlich.com/13541/how-to-create-an-app-like-instagram-with-a-web-service-backend-part-22)

这段代码可以帮助我..

```
-(void) takePhoto{
    BOOL camera = [UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera];
    if(camera)
    {
        UIImagePickerController *picker = [[UIImagePickerController alloc] init];
        [[picker navigationBar]setBarStyle:UIBarStyleDefault];
        picker.sourceType = UIImagePickerControllerSourceTypeCamera;
        [picker setDelegate:self];
        [self presentViewController:picker animated:YES completion:NULL];
        [picker release];
        actionSheetbool = false;
    }

    else
    {
        UIAlertView* cameraAlert = [[UIAlertView alloc]initWithTitle:@"Sorry!!" message:@"Camera not found." delegate:nil cancelButtonTitle:nil otherButtonTitles:@"OK", nil];
        [cameraAlert show];
        [cameraAlert release];
    }

}
-(void)photoLibrary{
    if ([UIImagePickerController isSourceTypeAvailable:
         UIImagePickerControllerSourceTypeSavedPhotosAlbum])
    {
        UIImagePickerController *imagePicker =
        [[UIImagePickerController alloc] init];
        imagePicker.delegate = self;
        imagePicker.sourceType =
        UIImagePickerControllerSourceTypePhotoLibrary;
        imagePicker.allowsEditing = YES;
        [self presentViewController:imagePicker animated:YES completion:nil];
        [imagePicker release];
        actionSheetbool = false;
    }
} 
```

# javascript - 来自 javascript 的 Ajax 调用在 drupal 7 中不起作用？我做错什么了吗

> ID：13640235
> 
> 赞同：0
> 
> 时间：2012-11-30T06:39:44.893
> 
> 标签：javascript, jquery, ajax, drupal

```
function updateRecord(actdate, plandate, bugnumber) {
    var adate = document.getElementById(actdate).value.split("-");
    var pdate = document.getElementById(plandate).value.split("-");
            jQuery.ajax({
                url: '?=bug_parser/updaterecord/'+adate[0]+'/'+adate[1]+'/'+adate[2]+'/'+pdate[0]+'/'+pdate[1]+'/'+pdate[2]+'/'+bugnumber,
                dataType: 'html',
                async:true,
                crossDomain:true,
                success: function(response, textStatus, jqXHR) {
                    if(response == '1') {
                        alert("success");
                    } else {
                        alert("Failed");
                    }       
                },
                error: function(jqXHR, textStatus, errorThrown) {
                    alert('Error updating the record');
                },
            });
    return false;
} 
```

我正在尝试通过按钮单击事件上的 ajax 调用来更新记录。在我的 drupal 模块中有适当的菜单回调。有趣的是，如果我将 url 复制粘贴到浏览器导航栏中，它会按预期工作。但是，如果我通过 javascript 进行 ajax 调用，它就不起作用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T13:54:44.443

您的 ajax 无法正常工作的原因是您需要将其放入 drupal 行为中。

查找 drupal js 行为。它基本上是为您的 js 创建一个包装器，因此它适用于 drupal javascript 文件和包含。

您还可以将此主题用作行为的参考：[Drupal 行为](https://stackoverflow.com/questions/3941426/drupal-behaviours)

通常你所有的javascript都必须进入一个行为。这是最佳实践，可以为您省去很多麻烦

# php - 我的 SELECT 表单元素在由 JavaScript 创建时快要死了

> ID：13640237
> 
> 赞同：1
> 
> 时间：2012-11-30T06:40:04.297
> 
> 标签：php, javascript, forms

我很难弄清楚这里的问题是什么，我之前用 JavaScript 创建了表单元素并且它们有效，这是我第一次做选择。这是有问题的页面：

[第1部分](http://www.negativeworld.org/content.php)

因此，基本上当使用那里的“类型”选择框选择“漫画”时，JavaScript 会创建一个新的选择框。这是JavaScript：

```
function contentchange(changeit) {  
if(changeit.value=='comic')
{ 
    document.getElementById("extrafield1").innerHTML='<img src="design/espaceur.gif" width="12" height="1">Webcomic';
    document.getElementById("extrafield2").innerHTML="<img src='design/espaceur.gif' width='10' height='1'><select name='cf' id='cf' class='basic_box'><option value='1'>The Cloud Chasers</option></select>";
}
else
{ 
    document.getElementById("extrafield1").innerHTML=""; 
    document.getElementById("extrafield2").innerHTML="";
} } 
```

这是它放在我页面上的位置：

```
<div id="extrafield2">
        <?php if ($filter_type == 'review' || $filter_type == 'game') { ?>
        <img src="design/espaceur.gif" width="10" height="1"><select name="pf" class="basic_box" id="pf">
                    <?php nintendocodes("platform", "nintendo", $filter_platform, false, "All"); ?> 
                    </select>
        <?php } else if ($filter_type == 'comic') { ?>
        <img src="design/espaceur.gif" width="10" height="1"><select name='cf' id='cf' class='basic_box'><?php comiccodes($filter_comic); ?></select>
        <?php } ?>
        </div> 
```

因此，它正在创建选择。但是由于某种原因，当我在表单上提交时，它不会“接受”。我对页面本身使用的选择使用相同的代码（您可以在此处查看）：

[第2部分](http://www.negativeworld.org/content.php?&tp=comic)

它在那里工作得很好。基本上我不知道为什么这个选择不起作用。我很确定选择本身很好，它通过 JavaScript 显示很好，只是没有“接受”。

帮助？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T06:58:16.487

代替

```
<table border="0" cellspacing="0" cellpadding="0">
<form action="content.php" method="get">
...
</form>
</table> 
```

采用

```
<form method=get action=content.php>
<table border=0 cellSpacing=0 cellPadding=0>
..
</table>
</form> 
```

您的代码无效（[http://validator.w3.org/](http://validator.w3.org/)），它似乎会影响某些浏览器的功能。

# java - java.lang.ClassNotFoundException: org.jboss.ejb.plugins.local.LocalHomeProxy（无安全管理器：RMI 类加载器已禁用）

> ID：13640238
> 
> 赞同：0
> 
> 时间：2012-11-30T06:40:08.323
> 
> 标签：java, jakarta-ee, jboss5.x

下面的代码片段在我将应用程序作为 EJB 服务部署在 JBOSS 中时起作用。

当我在 Eclipse 中调用与独立程序相同的代码时出现异常。不可能在一个简单的java项目上调用它吗？

```
AuthenticationServices.getInstance().createSession("abcd"); 
```

```
原因：javax.naming.CommunicationException [根异常是 java.lang.ClassNotFoundException：org.jboss.ejb.plugins.local.LocalHomeProxy（无安全管理器：RMI 类加载器已禁用）]
    在 org.jnp.interfaces.NamingContext.lookup(NamingContext.java:845)
    在 org.jnp.interfaces.NamingContext.lookup(NamingContext.java:686)
    在 javax.naming.InitialContext.lookup(InitialContext.java:392)
    在 com.ejb.EjbHomeLoader.getRemoteHome(EjbHomeLoader.java:68)
    在 com.ejb.EjbHomeLoader.getRemoteHome(EjbHomeLoader.java:45)
    在 com.ejb.EjbManager.getEjbHome(EjbManager.java:238)
    在 com.ejb.EjbManager.getEjbObject(EjbManager.java:184)
    在 com.services.BaseServices.executeLocalEjbMethod(BaseServices.java:294)
    ... 2 更多
原因：java.lang.ClassNotFoundException: org.jboss.ejb.plugins.local.LocalHomeProxy（无安全管理器：RMI 类加载器已禁用）
    在 sun.rmi.server.LoaderHandler.loadClass(LoaderHandler.java:375)

```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T07:01:00.620

该类在 JBOSS.jar 中，请将其添加到您的类路径中。

# linux - 为什么 QProcess 不杀死、关闭、终止调用进程的解构器？

> ID：13640239
> 
> 赞同：0
> 
> 时间：2012-11-30T06:40:14.057
> 
> 标签：linux, qt

我有一个看门狗停止功能放置在我从 C++ 程序执行的进程的解构器中。每次我使用该进程 QT GUI 上的“X”按钮关闭时，它都会通过我放置在解构器中的代码运行。但是当我尝试执行 Qprocesskill/close/terminate 来杀死我的 C++ 程序中的进程时，解构器（进程）中的代码没有被执行。任何人都知道出了什么问题或有替代方法来关闭该过程？谢谢！！！

顺便说一句，我在 Linux 上。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-01T01:54:30.410

当进程突然退出这些函数时，没有对象被拆除。它们等价于 C 函数 exit(1)。尝试通过调用 QApplication::quit () 优雅地退出 QApplication::exec 的事件循环，这将退出 exec 内部的主事件循环并允许 main 正常退出并允许所有通常会在此时自行销毁的对象执行所以。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-18T04:38:51.720

使用 std::signal 为这些信号注册处理程序（[http://en.cppreference.com/w/cpp/utility/program/signal](http://en.cppreference.com/w/cpp/utility/program/signal)）：

```
#include <csignal>
#include <iostream>

namespace
{
  volatile std::sig_atomic_t gSignalStatus;
}

void signal_handler(int signal)
{
  gSignalStatus = signal;
}

int main()
{
  // Install a signal handler
  std::signal(SIGINT, signal_handler);

  std::cout << "SignalValue: " << gSignalStatus << '\n';
  std::cout << "Sending signal " << SIGINT << '\n';
  std::raise(SIGINT);
  std::cout << "SignalValue: " << gSignalStatus << '\n';
} 
```

# java - 不提供相同的类文件

> ID：13640241
> 
> 赞同：0
> 
> 时间：2012-11-30T06:40:16.773
> 
> 标签：java, ant, build

我使用了一个 ant 构建文件为我的项目创建了一个 jar。在我从构建中获得的类与从 eclipse 导出的 jar 文件的类不同之后。因此，构建的 jar 不起作用。这是我的 build.xml 文件

```
 <javac destdir="${build.dir}" srcdir="${src.dir}" source="1.5" target="1.5" >
        <compilerarg value="-Xlint:unchecked"/>
        <classpath refid="master-classpath"/>
 </javac> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:57:19.337

在您的 ant 脚本中设置目标版本。就像是：

```
<javac destdir="${build.dir}" srcdir="${src.dir}" source="1.6" target="1.6" > 
```

# objective-c - 在目标 c 中创建一个数组，该数组可用于创建数组的类的所有对象

> ID：13640244
> 
> 赞同：0
> 
> 时间：2012-11-30T06:40:22.473
> 
> 标签：objective-c, arrays, nsmutablearray, nsarray

我想创建一个在调用类的函数（例如 FillArray() ）时要初始化的数组。在函数 FillArray() 之后将永远不会被调用。

我希望该数组在初始化后可用于该类的所有其他对象。

我怎样才能做到这一点。谢谢是提前

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:50:58.917

像这样简单地声明一个静态数组！

```
static NSMutableArray *staticArray = nil;

void FillArray() {
    if(staticArray == nil) {
        staticArray = [[NSMutableArray aloc] init];
    }
} 
```

当你不再需要它时！记得释放它！

```
void FreeArray() {
    [staticArray release];
    staticArray = nil;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T06:43:27.460

使其成为静态/共享/全局。

@implementation MySingleton 静态 NSMutableArray *_sharedMySingletonArray = nil;

```
+(MySingleton*)sharedMySingleton
{
    @synchronized([MySingleton class])
    {
        if (!_sharedMySingletonArray)
            [[self alloc] init];

        return _sharedMySingletonArray;
    }

    return nil;
}
@end 
```

# java - 设置 Tomcat 默认上下文路径

> ID：13640247
> 
> 赞同：4
> 
> 时间：2012-11-30T06:40:31.847
> 
> 标签：java, tomcat, deployment, war, context.xml

在我的`context.xml`文件中，我将以下内容设置为：`<Context antiJARLocking="true" path="/" />`

当我从 NetBeans 运行我的项目时，它可以正常工作并转到`http://localhost:8080/login`. 然后，当我清理和构建并进入 Tomcat 管理器并部署 war 文件时，由于某种原因它转到`http://localhost:8080/appName/login`. 我不确定它为什么要添加上下文路径，或者它甚至从哪里获取它，但是当我手动部署它时它会这样做。当我直接从 Netbeans 运行项目时，它不会。在我直接从 NetBeans 运行它之后，如果我转到 Tomcat 管理器，那么它会显示部署在`/`正确的上下文路径下的应用程序。当我手动部署 .war 时，它会部署在上下文路径下`/appName`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T07:03:06.250

听起来您正在将您的战争文件构建为“appName.war”。这就是tomcat将它部署在“/appName”下的原因。

如果您希望您的应用程序可以在 / 访问，您可以将您的 war 文件重命名为 ROOT.war 并将其放入 /webapps，它应该可以在 http://localhost:8080/ 访问

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-09T20:21:54.247

某些应用程序的编写使得更改上下文路径需要更改代码。如果您遇到这种情况，这是使您的服务器默认为特定上下文的另一种方法：

步骤 1) 将其放入 [tomcat]/conf/web.xml

```
<welcome-file-list>      
    <welcome-file>index.html</welcome-file>
</welcome-file-list> 
```

第 2 步）将此文件添加到您的 ROOT webapp 文件夹，并保持其他所有内容相同：index.html（用于根应用程序）。使用这种 javascript 方法而不是普通的重定向，允许“重定向”工作并保持相同的 url 参数。

```
<!doctype html>
<html>
<head>

<script language="JavaScript">
    document.location.href = "/mycontext" + document.location.search;
</script>

</head>

</html> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-05-10T20:52:05.643

使用这个 Maven 插件：

```
<plugin>
    <groupId>org.apache.tomcat.maven</groupId>
    <artifactId>tomcat7-maven-plugin</artifactId>
    <version>2.2</version>
    <configuration>
        <path>/</path>
        <warFile>${project.build.directory}/fileName.war</warFile>
    </configuration>
</plugin> 
```

删除 META-INF 文件夹中的 context.xml 文件。

使用以下命令运行您的项目：`mvn tomcat7:run`

# html - 使用基于屏幕分辨率的媒体查询从多个 css 文件中进行选择

> ID：13640248
> 
> 赞同：0
> 
> 时间：2012-11-30T06:40:31.613
> 
> 标签：html, css, layout, media-queries

我想将我的网站定位为不同的屏幕分辨率（例如：1600x1200、1366x768 等）我目前有多个 css 文件，我使用 jquery/javascript 根据获得的 screen.height 和 screen.width 加载这些文件。

有没有一种方法可以让我在 HTML5 页面上的样式表链接中使用 media 属性并实现与使用 jquery/javascript 方法获得的相同行为？如下所示：

```
<link href="/css/layout.css" media="screen and (device-height:768px)" rel="stylesheet" type="text/css">
<link href="/css/layout1600x1200.css" media="screen and (device-height:1200px) and (device-width:1600px)" rel="stylesheet" type="text/css"> 
```

我还需要加载一个默认的 css 文件，以防客户端的分辨率与上述媒体查询中提到的条件不匹配

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T06:47:33.090

您可以根据屏幕在您的主 css 文件中执行此操作

```
@media screen and (max-width: 960px) 
{
   /* your imports */
   @import url('/css/styles1.css');
   @import url('/css/styles2.css');
} 
```

# javascript - 如果表单提交出错，如何更改页面显示

> ID：13640250
> 
> 赞同：0
> 
> 时间：2012-11-30T06:40:36.807
> 
> 标签：javascript, css, django

在我的`django`应用程序中，我显示了一个页面，该页面有一个。`button`该`starts and stops a clock`页面有一个`form`用户可以在其中输入一些详细信息，如名称、描述等并提交。最初`div`包含此表单的内容隐藏`display:none`在 css 中。仅显示按钮，单击时钟开始运行。当用户再次按下相同的按钮时，时钟停止并且隐藏的表单可见。

我通过使用为按钮“开始”和“停止”提供状态值的 javascript 来做到这一点。如果用户单击它并相应地更改状态，我已经编写了一个函数。

```
var buttonStatusChange= function(){
    var buttonstatus = $('#clockbtn').attr("value");
    if (buttonstatus == "start"){
        $('#clockbtn').attr("value","stop");
        ...
        hideElement("userinputdiv");
    }else if (buttonstatus == "stop"){
        $('#clockbtn').attr("value","start");
        ...
        showElement("userinputdiv");
    }
};

var showElement=function(elementId){
    var elem_selector='#'+elementId;
    $(elem_selector).show();  
};
var hideElement=function(elementId){
    var elem_selector='#'+elementId;
    $(elem_selector).hide();
}; 
```

在我的 django 视图中，我正在验证帖子中的`userinputform`和其他`forms`。如果验证失败，则会显示原始表单（现在该字段旁边有错误）。

```
def my_view(request,...):
    if request.method=='POST' and otherform.is_valid():
        ...
        userinputform_is_valid = userinputform.is_valid()
        if not userinputform_is_valid:
            return custom_render(request,context,template_name)
        ...
        #otherwise get values from form,save etc..

def custom_render(request,context,template):
   req_context=RequestContext(request,context)
   return render_to_response(template,req_context) 
```

页面的html

```
....
<div id="userinputdiv">
    ....
    <form ...>
     <p>
  <span id="myfield">Enter WholeNumber:</span>
  {{my_form.myfield}}{{my_form.myfield.errors}}
  </p>
   ... 
```

不幸的是，由于 css 对 userinputdiv 有一个 display:none，该 div 是隐藏的，所以用户看不到错误。他现在看到的是一个只有一个按钮的页面，可以启动/停止时钟。如果我取页面，错误在那里`<ul class="errorlist ...>`

所以，我想知道如果在发布期间发生任何验证错误，如何使用户输入表单对用户可见。如果我制作 css `userinputdiv` `display:block`，页面中的错误将按预期显示 - 但显示所有输入字段，甚至在任何时钟之前运行..我不希望这种情况发生，因为我使用时钟的开始和结束时间作为隐藏字段，在帖子中发送并在我的 django 视图中处理

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T09:16:33.753

在同样的情况下，我正在使用 Ajax，如果从服务器获取错误 - 动态添加此字段（我在占位符中写入）。使用 Ajax 变体，您可以使用 jquery 的 AjaxStart- AjaxStop 函数运行和停止 Clock。

# c# - 无法将图像从数据库检索到图片框

> ID：13640251
> 
> 赞同：0
> 
> 时间：2012-11-30T06:40:39.440
> 
> 标签：c#, winforms, sql-server-2008-r2

我的 Windows 窗体中有一个`PictureBox`控件。
图片列的数据类型是表 'TableName' 中的 'image'
这些这里的代码说，从数据库中获取图像并将其置于`PictureBox`控制之下：

```
string connectionString = @"Initial Catalog=DataBaseName;Data Source=DataSourceName;Integrated Security=SSPI;";
            SqlConnection connection = new SqlConnection(connectionString);
            connection.Open();
            SqlDataAdapter da = new SqlDataAdapter(new SqlCommand("Select Picture From TableName where ID = 2 ", connection));
            DataSet ds = new DataSet();
            da.Fill(ds);
            byte[] myImage = new byte[0];
            myImage = (byte[])ds.Tables[0].Rows[0]["Picture"];
            MemoryStream stream = new MemoryStream(myImage);
            pictureBox1.Image = Image.FromStream(stream);
            connection.Close(); 
```

通常它总是有效，但现在它`ArgumentExeption`在这一行显示错误“参数无效”`pictureBox1.Image = Image.FromStream(stream);`
我不明白？哪个参数？

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:55:50.557

它似乎位于您从数据库中保存和读取对象的方式上，例外来自 Image.FromStream(stream); 方法，[MSDN](http://msdn.microsoft.com/en-us/library/93z9ee4x.aspx)说这个异常：

> 流没有有效的图像格式 - 或 - 流为空。

因此，正如您在问题中提到的它不是 Null，我假设您正在保存数据或以不兼容的方式读取它。

# html - 允许相对字体大小达到特定最大值

> ID：13640256
> 
> 赞同：0
> 
> 时间：2012-11-30T06:41:07.880
> 
> 标签：html, font-size

我的网站大部分使用相对字体和流畅的布局技术，因此我们的网站布局将根据浏览器的默认字体大小设置进行缩放。但是有些元素的宽度是固定的，我们的布局超过了一定的字体大小就不能很好地工作或看起来很好。此时返回并更改所有这些元素是不可行的。

所以，我想让网站根据用户在浏览器中选择的默认字体大小进行调整——在一定的范围内。例如，在我希望网站是相对的浏览器上，事情开始看起来有点不稳定，直到它`fontsize`达到.`22px;``22px`

据我所知，似乎没有任何简单的方法可以纯粹在 CSS 中指定这一点。我在想最好的方法是用来`Javascript`检测`fontsize`页面加载的基础，如果是的`>22px`话，我会在我的 body 标签上设置一个样式来`font-size`修复`22px`. 如果它小于`22px`，我不会做任何事情（并保留我们默认的相对样式）。我不太关心在加载页面时处理字体大小的变化，因为这似乎是一个边缘情况（在下一页加载时会得到纠正）。

这是最好的方法，还是有更好的方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T08:31:58.140

您无法阻止用户增加字体大小（即使您以像素为单位设置大小，用户也可以按 Ctrl +），并且许多人认为这很好——人们可能需要比您预期的更大的字体大小，稍微打破布局可能会更好比根本无法阅读。因此，您可以做的就是做出合理的努力，以确保页面在各种字体大小下都能正常工作。

# java - 如何使用 Applescript 或 Java 检查 Mac 上安装的 Adob e Flash Player？

> ID：13640260
> 
> 赞同：2
> 
> 时间：2012-11-30T06:41:26.647
> 
> 标签：java, applescript

我正在尝试以编程方式安装 Adob​​eFlashPlayer，在此之前我需要检查它是否已经安装？如果是，那么我需要获取相同的版本。由于 Flash 播放器将作为插件添加，因此我需要在 Safari 和 Firefox 浏览器中进行相同的检查。请建议如何使用 Applescripts 实现相同的功能（如果可能，不使用 SWFObjects）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T11:52:37.107

在 Mac 上，浏览器插件安装在名为“Internet Plug-Ins”的文件夹中。您可以在用户的​​库文件夹或主库文件夹中拥有此文件夹。所以使用applescript我们可以检查那些文件夹......

```
set pluginName to "Flash Player.plugin"
set pluginsMainFolder to (path to library folder from local domain as text) & "Internet Plug-Ins:"
set pluginsUserFolder to (path to library folder from user domain as text) & "Internet Plug-Ins:"

-- check the folders and get the version if found
set theVersion to missing value
tell application "System Events"
    try
        set f to first file of folder pluginsMainFolder whose name is pluginName
        set theVersion to short version of f
    end try
    if theVersion is missing value then
        try
            set f to first file of folder pluginsUserFolder whose name is pluginName
            set theVersion to short version of f
        end try
    end if
end tell

if theVersion is missing value then
    display dialog pluginName & " is not installed!"
else
    display dialog pluginName & " is installed!" & return & "Version: " & theVersion
end if 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T09:05:35.250

Shockwave Flash 插件将安装在浏览器中运行以下代码以查找浏览器中安装的插件列表

```
for( var i = 0; navigator.plugins[ i ]; ++i ) {
      if( navigator.plugins[ i ].name.toLowerCase().indexOf( name ) > -1 )
        console.log(navigator.plugins[ i ].name);
   } 
```

Adobe flash player 也将安装在系统中，您可以检查系统安装的程序

# android - 将片段添加到片段中？

> ID：13640264
> 
> 赞同：0
> 
> 时间：2012-11-30T06:41:46.387
> 
> 标签：android, android-layout, android-fragments

我创建了一个活动容器，在其中添加了一个片段：

> FragmentTransaction ft = getFragmentManager().beginTransaction(); ft.replace(R.id.simple_fragment, myFragment); ft.commit();

其中 simple_fragment 是容器布局（线性/框架），现在我想从 myFragment 本身在 myFragment 中添加另一个片段。

更新 ：

请参考附加的图像，在这种情况下，我有带有三个顶部按钮的活动布局，在单击每个按钮时，我将下行布局替换为其他片段布局，例如片段 1/2 或 3 ....现在从片段 1 我想调用其他片段 1A 和从 1A 到 1B。在这里，我也想为内部片段视图维护堆栈。

![在此处输入图像描述](../Images/fb4546e0a35cf6b6e741467b236cf94c.png)

我该怎么做，有人对此有想法/建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T06:48:33.453

访问托管 Fragment 的 Activity 并要求它替换您的 Fragment。

就像是

```
((MyActivity) getActivity()).goToOtherFragment(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-02-22T22:16:57.723

在您的 1A 片段中，您必须为将包含 1B 片段示例的父视图提供一个 id

```
<FrameLayout android:id="@+id/content"/> 
```

那么你必须将新的 1B 片段添加到 1A

```
 Fragment1B fragment1B = new Fragment1B();
 FragmentTransaction transaction=getFragmentManager().beginTransaction();     
 transaction.add(R.id.content,fragment1B,"fragment1BTAG");
 transaction.addToBackStack(null);
 transaction.commit(); 
```

有时您需要将 1B 片段根视图的背景颜色设置为 white ，因为它加载为 trasnparent

然后在你的 onBackPressed() 你可以使用

```
FragmentManager fm=getSupportFragmentManager();
fm.popBackStack(); 
```

# c++ - 如何编写涉及指针/向量的 if 语句？

> ID：13640265
> 
> 赞同：-5
> 
> 时间：2012-11-30T06:41:50.633
> 
> 标签：c++, pointers, input, output

我是这个网站和 C++ 的新手。我是一名本科生，刚刚开始使用 C++。我对 FORTRAN 有一些了解，但 c++ 对我来说有点模糊。

现在这是我的问题，

我有一个数据文件，它有 9 行和更多 295242 列。数据文件中的所有数据项都是数字（十进制而不是二进制）。第 7 行只有 0 和 1。我想将行存储在一个单独的文件中，该文件位于包含 1 的行之后，直到在第 7 列中有另一行具有 1 并将其放入 do 循环中，以便它也可以对其他行执行相同的操作。

我尝试在指针的帮助下使用带有条件的 if 语句，但我无法解决。任何帮助，将不胜感激。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T08:24:56.427

以下是指针如何映射到正常（即非指针变量）和反之亦然的简要表（假设您已将指针声明为`int *varptr`，将常规变量声明为`int v`）：

取消引用指针：*varptr v

通过引用传递变量：varptr &v

如果您还有其他问题，请发表评论，我会尽力提供更多信息。

# ios - 将 dylib 添加到“Link Binary With Libraries”和添加到“Other Linker Flags”有什么区别

> ID：13640266
> 
> 赞同：3
> 
> 时间：2012-11-30T06:41:54.280
> 
> 标签：ios, xcode

就我而言，我在 iOS XCode 项目的“构建阶段”中将“libsqlite3.dylib”添加到“使用库链接二进制文件”。有人告诉我，这可能会导致应用程序提交期间被拒绝，我应该在“构建设置”中将“-libsqlite3”添加到“其他链接器标志”中。理想的方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-25T08:11:02.033

只需将其链接回弱链接上的另一个帖子

[如何在 Xcode 4 上弱链接框架？](https://stackoverflow.com/questions/6480765/how-do-i-weak-link-frameworks-on-xcode-4)

您可能想访问苹果关于差异的文档。

[https://developer.apple.com/library/mac/#documentation/MacOSX/Conceptual/BPFrameworks/Concepts/WeakLinking.html](https://developer.apple.com/library/mac/#documentation/MacOSX/Conceptual/BPFrameworks/Concepts/WeakLinking.html)

# ruby - 通过 Rake 运行测试时未调用 Minitest #setup 和 #teardown

> ID：13640267
> 
> 赞同：8
> 
> 时间：2012-11-30T06:41:56.980
> 
> 标签：ruby, testing, minitest

我有一个 MiniTest 套件。我使用的是基本的`Minitest::Unit::TestCase`，而不是规格。我在我的子类中定义了`setup`和`teardown`方法`TestCase`。当我像这样运行测试文件时，它们可以完美运行：`ruby test/whatever_test.rb`. 但是当我运行时`rake test`，`setup`并`teardown`没有被调用。我的 Rakefile 的相关部分是：

```
require 'rake/testtask'

Rake::TestTask.new do |t|
  t.test_files = FileList['test/*_test.rb']
  t.verbose = true
end 
```

为什么`setup`and`teardown`不使用时运行`Rake::TestTask`？

我会把测试用例代码粘贴到这里，但是有很多。如果您想查看特定部分，我肯定会粘贴其中的一些子集。

我在 Ruby 1.9.3-p194 上运行 Minitest 4.3.2。

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-11-30T20:03:43.743

问题是另一个测试用例覆盖了`setup`and`teardown`方法。我不小心给了两个测试用例相同的类名，这就是发生覆盖的原因。自然，当我运行单个测试用例时，不会发生此错误，这解释了使用 Rake 时的行为差异。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-08-01T05:20:01.107

就我而言，我正在为套接字通信编写测试，并添加了一个名为`send`. 由于 MiniTest`send`在内部使用来调用拆解方法，所以它是调用我自己的`send`而不是方法调度。

# java - GridBagLayout 的困难

> ID：13640283
> 
> 赞同：1
> 
> 时间：2012-11-30T06:43:49.490
> 
> 标签：java, swing, awt, layout-manager, gridbaglayout

我想只使用`GridBagLayout`.
我已经尝试了几个约束，但它从来没有达到预期的结果，所以我开始怀疑它是否真的可能只使用`GridBagLayout`. 困难在于 C1、C2 和 C3 组件。
C1 和 C2`JComponent`将在内部保存其他组件，例如`JPanel`. 我已经设置了它们的最小和首选尺寸。C3 是一个`JButton`。
C1 不应占用额外空间，因此我将其 weightx 设置为 0，将 gridwidth 设置为 1（也尝试使用 2，因为它跨越 C2 和 C3）。
C2 占用所有额外空间，我将其 weightx 设置为 1 并将 gridwidth 设置为 3。GUI
不可调整大小。
这个我用了`LayoutManager`好几次了，还是没掌握，谢谢大家的帮助。

![网格包布局](../Images/2ad0af1f40b3ecdc5d525e698b046780.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T07:26:52.897

*   我将只谈论`GridBagLayout`，即使这也可能完全适用于`MigLayout`（MigLayout 具有用于填充列和行数、调整大小、ei 的附加参数）和/或`TableLayout(???)`

*   `GridBagLayout`只需要在第一行（仅）填充所有所需的列数，然后创建矩阵，您可以定义任何内容和`GBC weightx, weighty, gridx, gridy`/或使用`Anchor`

*   谈论的例子

![在此处输入图像描述](../Images/9fafa31faa508301cb9224f8c0858373.png)

```
import java.awt.Color;
import java.awt.ComponentOrientation;
import java.awt.Font;
import java.awt.GridBagConstraints;
import java.awt.GridBagLayout;
import java.awt.Insets;
import javax.swing.BorderFactory;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTextField;
import javax.swing.SwingConstants;
import javax.swing.SwingUtilities;

public class GbcLayout {

    private JFrame frame = new JFrame("GbcLayoutGbcLayout");
    private JPanel panel = new JPanel();
    private JLabel hidelLabel;
    private JLabel firstLabel;
    private JTextField firstText;

    public GbcLayout() {
        panel.setLayout(new GridBagLayout());
        GridBagConstraints gbc = new GridBagConstraints();
        panel.setComponentOrientation(ComponentOrientation.LEFT_TO_RIGHT);
        for (int k = 0; k < 50; k++) {
            hidelLabel = new JLabel("     ");
            hidelLabel.setOpaque(true);
            hidelLabel.setBackground(Color.orange);
            hidelLabel.setBorder(BorderFactory.createLineBorder(Color.BLACK, 1));
            gbc.fill = GridBagConstraints.HORIZONTAL;
            gbc.weightx = 0.5;
            gbc.weighty = 0.5;
            gbc.gridx = k;
            gbc.gridy = 0;
            panel.add(hidelLabel, gbc);
        }
        for (int k = 0; k < 5; k++) {
            firstLabel = new JLabel("Testing Label : ", SwingConstants.RIGHT);
            firstLabel.setFont(new Font("Serif", Font.BOLD, 20));
            firstLabel.setBorder(BorderFactory.createLineBorder(Color.BLACK, 1));
            gbc.fill = GridBagConstraints.HORIZONTAL;
            gbc.insets = new Insets(0, 0, 5, 0);
            gbc.gridx = 0;
            gbc.gridwidth = 8;
            gbc.gridy = k + 1;
            panel.add(firstLabel, gbc);
        }
        for (int k = 0; k < 5; k++) {
            firstText = new JTextField("Testing TextField");
            firstText.setFont(new Font("Serif", Font.BOLD, 20));
            firstText.setBorder(BorderFactory.createLineBorder(Color.BLACK, 1));
            gbc.fill = GridBagConstraints.HORIZONTAL;
            gbc.insets = new Insets(0, 0, 5, 0);
            gbc.gridx = 9;
            gbc.gridwidth = k + 8;
            gbc.gridy = k + 1;
            panel.add(firstText, gbc);
        }
        for (int k = 0; k < 5; k++) {
            firstLabel = new JLabel("Testing Label : ", SwingConstants.RIGHT);
            firstLabel.setFont(new Font("Serif", Font.BOLD, 20));
            firstLabel.setBorder(BorderFactory.createLineBorder(Color.BLACK, 1));
            gbc.fill = GridBagConstraints.HORIZONTAL;
            gbc.insets = new Insets(0, 0, 5, 0);
            gbc.gridx = 20 + k;
            gbc.gridwidth = 8;
            gbc.gridy = k + 1;
            panel.add(firstLabel, gbc);
        }
        for (int k = 0; k < 5; k++) {
            firstText = new JTextField("Testing TextField");
            firstText.setFont(new Font("Serif", Font.BOLD, 20));
            firstText.setBorder(BorderFactory.createLineBorder(Color.BLACK, 1));
            gbc.fill = GridBagConstraints.HORIZONTAL;
            gbc.insets = new Insets(0, 0, 5, 0);
            gbc.gridx = 29 + k;
            gbc.gridwidth = 21 - k;
            gbc.gridy = k + 1;
            panel.add(firstText, gbc);
        }
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.add(panel);
        frame.pack();
        frame.setVisible(true);
    }

    public static void main(String[] args) {

        SwingUtilities.invokeLater(new Runnable() {

            @Override
            public void run() {
                GbcLayout gbcl = new GbcLayout();
            }
        });
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T07:12:45.397

恐怕这是不可能的。`GridBagLayout`无法弄清楚 C1 的起点和 C3 的起点之间的正确距离是多少。

# php - 在 mysql PHP 中显示选定的月份值

> ID：13640287
> 
> 赞同：1
> 
> 时间：2012-11-30T06:44:04.163
> 
> 标签：php, mysql

在 MYSQL 数据库中，我有日期列，其中包含格式为 [29-11-2012] 的日期。我想根据用户通过 php 页面选择的月份显示值。

例如，如果用户选择 OCT，那么这应该显示该特定月份的所有其他列。

您可以为此建议 SQL Query 吗？

谢谢， 夏尔

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T06:47:12.730

您可以使用

```
WHERE MONTH(STR_TO_DATE(formdate,'%d-%m-%Y')) 
```

像这种情况

基本上 mysql 仅以 yyyy-mm-dd 格式存储日期..

# tfs - Visual Studio 2010 中的 TFS 项目没有登录提示

> ID：13640288
> 
> 赞同：0
> 
> 时间：2012-11-30T06:44:14.123
> 
> 标签：tfs, credentials, tfs-2010

在 Visual Studio 2010 中，我使用“xx”凭据向 TFS 2010 添加了一个解决方案。我关闭了 Visual Studio IDE 并打开了解决方案。这一次，它没有提示我输入凭据。我想使用其他凭据向 TFS 添加另一个解决方案。默认情况下，它采用旧凭据。如何更改凭据

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T19:33:26.450

您的凭据存储在凭据管理器中：http: [//techrena.net/windows-7-credential-manager/](http://techrena.net/windows-7-credential-manager/)

# c - 带有分段错误错误的客户端服务器代码

> ID：13640289
> 
> 赞同：1
> 
> 时间：2012-11-30T06:44:17.150
> 
> 标签：c, unix

我正在开发一个网络编程项目来编写客户端服务器 Rock Paper Scissors 代码。在我将此行添加到代码之前，我完成了代码并且在测试期间运行良好。

```
findWinner(gameType,pcChoice); 
```

当我将这一行添加到代码中时，代码开始从服务器端给我一个关于分段错误的错误。这是我添加行的地方。

```
while(1)
{
    int gameType;
    printf("Paper, Scissors, Rock game start.\n");

    rc = read(client_sockfd, &gameType, 1);       
srand(time(NULL));
pcChoice = (rand() % 3)+1;
findWinner(gameType,pcChoice);
    gameType  = pcChoice;
    write(client_sockfd, &gameType, 1);

} 
```

我是 C 的一个业余爱好者，不知道该怎么做。

```
int pcChoice; 
```

它是一个整数，保持从 1 到 3 的随机整数（石头纸或剪刀）

找到赢家（）：

```
void findWinner(int player,int pc)
{
const char *items[3]={"Paper","Scissors","Rock"};
printf("Client: %s\n",items[player-1]);
printf ("Computer: %s\n",items[pc-1]);

switch (player)
{
    case 1:
        switch (pc)
        {
            case 1:
                printf("it is a DRAW\n");
                break;
            case 2:
                printf("Computer Wins\n");
                break;
            case 3:
                printf("Computer Loses\n");
                break;
            default:
                printf("ERROR\n");
                exit(0);
        };
        break;
    case 2:
        switch (pc)
        {
            case 1:
                printf("Computer Loses\n");
                break;
            case 2:
                printf("it is a DRAW\n");
                break;
            case 3:
                printf("Computer Wins\n");
                break;
            default:
                printf("ERROR\n");
                exit(0);
        };
        break;
    case 3:
        switch (pc)
        {
            case 1:
                printf("Computer Wins\n");
                break;
            case 2:
                printf("Computer Loses\n");
                break;
            case 3:
                printf("it is a draw\n");
                break;
            default:
                printf("ERROR\n");
                exit(0);
        };
        break;
    default:
        printf("ERROR\n");
        exit(0);
}
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T06:57:24.010

```
while(1)
{
    int gameType;
    printf("Paper, Scissors, Rock game start.\n");

    rc = read(client_sockfd, &gameType, sizeof(gameType));       
    srand(time(NULL));
    pcChoice = (rand() % 3)+1;
    findWinner(gameType,pcChoice);
    gameType  = pcChoice;
    write(client_sockfd, &gameType, sizeof(gameType));

} 
```

其他可能有问题的事情是：

尝试显式 null 终止`char*`

```
const char *items[3]={"Paper\0","Scissors\0","Rock\0"}; 
```

你确定 player 永远不会是负数或大于 3 吗？

```
printf("Client: %s\n",items[player-1]);
printf ("Computer: %s\n",items[pc-1]); 
```

# c++ - COleControl 的 OnClose 被覆盖，但从未被解雇

> ID：13640291
> 
> 赞同：4
> 
> 时间：2012-11-30T06:44:29.467
> 
> 标签：c++, mfc, activex

我正在使用 MFC 为网页编写 ActiveX 控件。当资源管理器关闭时，需要在控件的主窗口被销毁之前释放一些资源。我做了一些搜索，发现一个被覆盖的`COleControl::OnClose(DWORD dwSaveOption)`函数应该是一个做发布工作的好地方。因此，我对代码进行了以下更改：

1.  将以下行添加到头文件中我的控件的声明中：

    ```
    虚拟无效 OnClose(DWORD dwSaveOption);
    ```

2.  将以下行添加到我的控件的实现文件中：

    ```
    无效 MyControl::OnClose(DWORD dwSaveOption)
    {
        // 一些做发布工作的代码
        COleControl::OnClose(dwSaveOption);
    }

    ```

我认为关闭资源管理器时，应该执行 MyControl::OnClose ，但事实并非如此。我是否错过了正确覆盖该函数的任何内容，或者 OnClose 函数不是执行此操作的正确位置？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-30T23:25:37.867

我个人覆盖`COleControl::OnDestroy()`进行清理。您是否缺少某种事件接收器注册调用来启用关闭？还是调度地图条目？

# mercurial - 将代码和数据保存在单独的存储库中的优缺点

> ID：13640292
> 
> 赞同：6
> 
> 时间：2012-11-30T06:44:30.190
> 
> 标签：mercurial, development-environment, dvcs

我们有一个项目，其中包含数据和代码，捆绑到一个 Mercurial 存储库中。数据与代码一样重要（它包含业务逻辑的参数、一些输入等）。但是，数据文件的格式很少更改，独立于代码更改数据文件是很自然的。

统一存储库的一个优点是我们不必跟踪多个修订：如果我们需要重新创建先前运行的输出，我们只需将系统更新为存储在输出日志中的单个修订号。

一个缺点是，如果我们在多个磁头处于活动状态时修改数据，我们可能会丢失数据更改，除非我们手动将这些更改复制到每个磁头。

将代码和数据拆分到单独的存储库中是否还有其他优点/缺点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T08:07:05.667

**多个回购**：

*   **优点**：

    *   **[基于组件的方法](https://stackoverflow.com/questions/933723/what-is-component-driven-development/933735#933735)**（您可以识别可以相互独立发展的文件组）
    *   配置规范：列出系统工作所需的参考资料（此处为“修订版”）。如果您想修改一个部分而不更改另一个部分，则更新该列表。
    *   部分克隆：如果您不需要所有组件，则只能克隆您想要的组件（不适用于您的情况）
*   **缺点**

    *   配置管理：您需要跟踪该配置（通常通过父仓库，注册[**子仓库**](http://www.selenic.com/hg/help/subrepos)）
    *   在您的情况下，数据非常依赖于项目的某些版本（您可以拥有对项目的旧版本没有意义的新数据）

* * *

**一个回购**

*   **优点**
    *   **[基于系统的方法](https://stackoverflow.com/questions/769786/vendor-branches-in-git/769941#769941)**：您将模块视为一个系统（项目和数据）。
    *   回购管理：多合一
    *   模块之间的紧密联系（这对数据有意义）
*   **缺点**
    *   数据传播（正如您提到的，当几个 HEAD 处于活动状态时）
    *   中间修订（不是为了反映新功能，而只是因为一些数据发生了变化）
    *   更大的克隆（此处不相关，除非您的数据包含大型二进制文件）

对于不经常更改的非二进制数据，我仍然会将它们保存在同一个存储库中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-10T05:05:09.620

是的，您应该将代码和数据分开。将代码保存在版本控制中，将数据保存在数据库中。

我喜欢版本控制，因为我做了十多年的程序员，我喜欢这份工作。

但在过去的几个月里，我意识到：数据不能在版本控制中。有时，熟悉 git（或其他版本控制系统）的人很难“放手”。

您需要一个支持数据库模式迁移的良好 ORM。迁移（方案和数据迁移）保存在版本控制中，但数据不是。

我知道您的问题是关于使用一两个存储库，但也许我的回答可以帮助您获得不同的观点。

# mysql - 是否可以将 GROUP BY 语句相互嵌套？

> ID：13640293
> 
> 赞同：2
> 
> 时间：2012-11-30T06:44:33.897
> 
> 标签：mysql

我有下表

```
video_id    ip_address
1           192.168.1.1
1           192.168.1.1
1           192.168.1.2
2           192.168.1.2
2           192.168.1.2
2           192.168.1.2 
```

运行以下查询会返回每个 IP 地址每个视频的唯一请求数量。

```
SELECT video_id, COUNT(*) as num_unique_requests FROM 
    (SELECT video_id, ip_address FROM videos
    GROUP BY video_id, ip_address) t
GROUP BY video_id
ORDER BY num_unique_requests DESC

video_id    num_unique_requests
1           2
2           1 
```

有什么办法可以将最里面的`GROUP BY`语句嵌套在另一个`GROUP BY`语句中，这样我就可以避免创建最外面的语句来`GROUP BY` `video_id?`

还有其他方法可以更有效地编写此查询吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T06:49:02.890

只需使用**COUNT(DISTINCT FILEDNAME)**

```
SELECT video_id, COUNT( DISTINCT ip_address) as num_unique_requests FROM 
videos
GROUP BY video_id
ORDER BY num_unique_requests DESC 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T06:48:56.207

在您的情况下，`DISTINCT`在内部查询中很合适，而不是`GROUP BY`

```
SELECT video_id, COUNT(*) as num_unique_requests 
FROM 
    (SELECT DISTINCT video_id, ip_address FROM videos) t
GROUP BY video_id
ORDER BY num_unique_requests DESC 
```

# silverlight - 将值从视图传递到视图模型

> ID：13640296
> 
> 赞同：0
> 
> 时间：2012-11-30T06:44:49.893
> 
> 标签：silverlight, mvvm

当用户单击按钮时，我有一个带有文本框和按钮的 Xaml 页面文本框值应该传递给它的 viewModel。如何做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:13:16.903

xml:

```
<TextBox Text={Binding TextBoxAContent} />
<Button Command={Binding ButtonCommand} /> 
```

视图模型代码应该是这样的：

```
class MainPageViewModel : ViewModelBase
{
    private string _textBoxAContent;
    public string TextBoxAContent
    {
       get {return _textBoxAContent;}
       set {
              _textBoxAContent = value;
              RaisePropertyChanged("TextBoxAContent");
           } 
    }

    public ICommand ButtonCommand
    {
       get
       {
            return new RelayCommand(ProcessTextHandler);
       }
    }

    private void ProcessTextHandler()
    {
       //add your code here. You can process your textbox`s text using TextBoxAContent property.
    }
} 
```

您还应该通过视图控件的属性将视图模型分配给视图`DataContext`。（仅在构造函数中）

```
public MainPage()
{
    DataContext = new MainPageViewModel();
} 
```

**UPD**

ps RelayCommand & ViewModelBase - 来自[MVVM Light的类](http://mvvmlight.codeplex.com/)

# java - ANDROID onBackPressed 不适用于该活动

> ID：13640297
> 
> 赞同：1
> 
> 时间：2012-11-30T06:44:51.437
> 
> 标签：java, android, activity-lifecycle

我为我的活动实现了 onBackPressed，它将检查互联网连接，但是当我单击平板电脑中的后退按钮时，它什么也不做。我不明白这是什么原因。可以帮忙？

**下面是我的代码**

```
if (!cd.isConnectingToInternet()) {
        AlertDialog.Builder splash = new AlertDialog.Builder(this);
        splash.setIcon(R.drawable.ic_fail)
                .setTitle("No Internet Connection")
                .setMessage(
                        "Please check your internet connection and try again.")
                .setCancelable(false)
                .setPositiveButton("Try again",
                        new DialogInterface.OnClickListener() {
                            public void onClick(DialogInterface dialog,
                                    int id) {
                                Intent splash = new Intent(
                                        getApplicationContext(),
                                        SplashActivity.class);
                                startActivity(splash);
                                finish();
                            }
                        })
                .setNegativeButton("Wifi Setting",
                        new DialogInterface.OnClickListener() {
                            public void onClick(DialogInterface dialog,
                                    int id) {
                                startActivity(new Intent(
                                        android.provider.Settings.ACTION_WIFI_SETTINGS));
                                dialog.cancel();
                            }
                        });
        AlertDialog alert = splash.create();
        alert.show();
    } else {
        Thread timer = new Thread() {
            public void run() {
                try {
                    sleep(5000);
                } catch (InterruptedException e) {
                    e.printStackTrace();
                } finally {
                    Intent login = new Intent(getApplicationContext(),
                            LoginActivity.class);
                    startActivity(login);
                    finish();
                }
            }
        };
        timer.start();
    }
}

public void onRestart() {
    super.onRestart();
    Intent splash = new Intent(getApplicationContext(),
            SplashActivity.class);
    startActivity(splash);
}

@Override
public void onBackPressed() {
    super.onBackPressed();
    finish();
} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T10:21:52.910

试试这个代码......

```
 @Override
        public void onBackPressed()
        {
            moveTaskToBack(true);
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:09:40.437

尝试这个：

```
@Override
    public void onBackPressed() {
        yourclassname.this.finish();
        android.os.Process.killProcess(android.os.Process.myPid());
        System.exit(0);
        getParent().finish();
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T06:50:20.480

**-** `finish()`是关闭活动的正确方法。

**-**但是如果它没有，由于某种原因`System.exit(0)`在`finish()`..之后使用它**肯定会起作用**....我知道它很粗糙......但是有效......

**/////////////////////////////////////////////////////////////////////////// ///////////////////**

**-**覆盖的方法`onKeyDown()`。`Activity`

```
@Override
    public boolean onKeyDown(int keyCode, KeyEvent event) {

        if (keyCode == KeyEvent.KEYCODE_BACK && event.getRepeatCount() == 0) { 

               this.finish(); 

            } 
        return true;
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-30T06:50:33.507

评论，并检查

```
//super.onBackPressed(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-30T07:16:13.280

试试这个。我认为它会为你工作。

```
@Override
public void onBackPressed() {
//super.onBackPressed();
// finish your Activity
ActivityName.this.finish();
return;
} 
```

# python - SQLAlchemy - 为子计数编写混合方法

> ID：13640298
> 
> 赞同：21
> 
> 时间：2012-11-30T06:44:58.067
> 
> 标签：python, sqlalchemy, flask

我正在使用 Flask-SQLAlchemy，我正在尝试在父模型中编写一个[混合方法](http://docs.sqlalchemy.org/en/rel_0_7/orm/extensions/hybrid.html)，该方法返回它拥有的子模型的数量，因此我可以将它用于过滤、排序等。这里有一些精简的代码我正在努力：

```
# parent.py
from program.extensions import db
from sqlalchemy.ext.hybrid import hybrid_method

class Parent(db.Model):
    __tablename__ = 'parents'
    parent_id = db.Column(db.Integer, primary_key=True)

    name = db.Column(db.String(80))
    children = db.relationship('Child', backref='parent', lazy='dynamic')

    def __init__(self, name):
        self.name = name

    @hybrid_method
    def child_count(self):
        return self.children.count()

    @child_count.expression
    def child_count(cls):
        return ?????

# child.py
from program.extensions import db
from program.models import Parent

class Child(db.Model):
    __tablename__ = 'children'
    child_id = db.Column(db.Integer, primary_key=True)
    parent_id = db.Column(db.Integer, db.ForeignKey(Parent.parent_id))

    name = db.Column(db.String(80))
    time = db.Column(db.DateTime)

    def __init__(self, name, time):
        self.name = name
        self.time = time 
```

我在这里遇到两个问题。一方面，我不知道在“child_count(cls)”中究竟要返回什么，它必须是一个 SQL 表达式......我认为它应该类似于

```
return select([func.count('*'), from_obj=Child).where(Child.parent_id==cls.parent_id).label('Child count') 
```

但我不确定。我遇到的另一个问题是我无法从 parent.py 导入 Child 类，因此无论如何我都无法使用该代码。有没有办法为此使用字符串？例如，

```
select([func.count('*'), from_obj='children').where('children.parent_id==parents.parent_id').label('Child count') 
```

最终，我想将方法​​更改为：

```
def child_count(cls, start_time, end_time):
    # return the number of children whose "date" parameter is between start_time and end_time 
```

...但是现在，我只是想让它发挥作用。非常感谢任何可以帮助我的人，因为我已经尝试了很长时间。

* * *

## 回答 #1

> 赞同：31
> 
> 时间：2012-11-30T09:52:32.210

下面的代码说明了一切。

```
class Parent(Base):
    __tablename__ = 'parents'
    # ...

    @hybrid_property
    def child_count(self):
        #return len(self.children)   # @note: use when non-dynamic relationship
        return self.children.count()# @note: use when dynamic relationship

    @child_count.expression
    def child_count(cls):
        return (select([func.count(Child.child_id)]).
                where(Child.parent_id == cls.parent_id).
                label("child_count")
                )

    @hybrid_method
    def child_count_ex(self, stime, etime):
        return len([_child for _child in self.children
            if stime <= _child.time <= etime ])

    @child_count_ex.expression
    def child_count_ex(cls, stime, etime):
        return (select([func.count(Child.child_id)]).
                where(Child.parent_id == cls.parent_id).
                where(Child.time >= stime).
                where(Child.time <= etime).
                label("child_count")
                )

# usage of expressions:
stime, etime = datetime.datetime(2012, 1, 1), datetime.datetime(2012, 1, 31)
qry = session.query(Parent)
#qry = qry.filter(Parent.child_count > 2)
qry = qry.filter(Parent.child_count_ex(stime, etime) > 0) 
```

# php - 具有自动增量的用户可格式化 ID

> ID：13640300
> 
> 赞同：1
> 
> 时间：2012-11-30T06:45:14.693
> 
> 标签：php, mysql

我正在创建一个需要存储项目 ID 的应用程序（在 MySql DB 中）。管理员用户应该能够设置 ID 号的格式（#####、##-####、YY-##-#### 等）...仅在创建任何项目之前当然。ID 还必须是 autoinc。当普通用户创建新项目时。

我认为自动增量必须使用 PHP 完成，方法是读取最后一条记录并添加 1。

由于 ID 格式将由用户定义，我认为它可能必须是单个字段（varchar？）。还是应用程序应该创建多个字段以适应用户定义的格式？对此有什么想法吗？

寻找任何想法...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T07:09:41.107

读取前一个 id 并仅递增 1 的问题是您冒着重复使用相同 ID 的风险。考虑：

*   您创建一个新项目，该项目的 ID 来自前一个项目。
*   您使用并可能分发项目 ID
*   你决定你根本不想要那个项目，然后删除它
*   您创建一个新项目。新项目将与旧的已删除项目具有相同的 ID，因为它是通过递增相同的源而派生的。

如果这对您来说不是问题，那么这就是您的解决方案。

否则，你可以试试这个：

*   在表中创建两列 - 一列用于 ID，一列用于自动递增整数。
*   创建项目时，不要添加 ID。整数值将自动递增
*   获取该整数值（可能使用 mysql_insert_id）
*   使用自动递增整数生成的 ID 更新您的项目

这对系统来说需要付出更多的努力，并且在极高的容量下您可能会遇到竞争条件，但是如果您在项目 ID 上添加唯一索引，则应该会发现任何问题。

# android - 如何在数据库中插入文本和图像并使用在edittext中输入的值在android的listview中检索

> ID：13640301
> 
> 赞同：-3
> 
> 时间：2012-11-30T06:45:22.627
> 
> 标签：android, image, sqlite, listview

我想从edittext插入值并选择图像，然后将其存储到数据库中并在listview中检索。我成功地在 listview 中插入了名称和密码等 edittext 值 bt 不知道如何插入图像并使用名称和所有内容检索它。请给出一些示例代码。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T06:52:51.897

首先创建一个自定义列表视图，按照下面给出的链接 [http://www.androidhive.info/2012/02/android-custom-listview-with-image-and-text/](http://www.androidhive.info/2012/02/android-custom-listview-with-image-and-text/) 并将数据存储到数据库使用 [http://www .androidhive.info/2012/02/android-custom-listview-with-image-and-text/](http://www.androidhive.info/2012/02/android-custom-listview-with-image-and-text/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T08:33:35.687

嗨，下面的链接显示了如何将图像上传到本地服务器[链接](http://www.coderzheaven.com/2012/03/29/uploading-audio-video-or-image-files-from-android-to-server/)并将 url、名称、密码保存在数据库表中

从 URL 和数据加载所有图像并使用惰性列表视图有效地显示它 参考这个惰性列表[链接](https://github.com/thest1/LazyList)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-11-21T08:00:36.900

使用 Blob 在 Sq lite 中存储图像不是一种有效的方法。将捕获的图像存储在 sdcard 中。并将图像 uri 存储到 sqlite 表中。并从路径中检索。您可以使用时间戳进行检索..

# gis - 无法在 ubuntu 12.04 中安装 QGis

> ID：13640307
> 
> 赞同：0
> 
> 时间：2012-11-30T06:46:11.437
> 
> 标签：gis, ubuntu-12.04, qgis

我无法在 ubuntu12.04 中安装 QGis。我收到以下错误。

```
$ sudo apt-get install qgis
[sudo] password for anju: 
Reading package lists... Done
Building dependency tree       
Reading state information... Done
qgis is already the newest version.
The following packages were automatically installed and are no longer required:
  libnss3-dev libnspr4-dev
Use 'apt-get autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 574 not upgraded.
5 not fully installed or removed.
After this operation, 0 B of additional disk space will be used.
Do you want to continue [Y/n]? Y
Setting up qgis-providers-common (1.8.0-1~precise2) ...
/usr/lib/qgis/crssync: symbol lookup error: /usr/lib/libgdal.so.1: undefined symbol: pj_ctx_alloc
dpkg: error processing qgis-providers-common (--configure):
 subprocess installed post-installation script returned error exit status 127
dpkg: dependency problems prevent configuration of qgis-providers:
 qgis-providers depends on qgis-providers-common (= 1.8.0-1~precise2); however:
  Package qgis-providers-common is not configured yet.
dpkg: error processing qgis-providers (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of qgis:
 qgis depends on qgis-providers (= 1.8.0-1~precise2); however:
  Package qgis-providers is not configured yet.
dpkg: error processing qgis (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuration of qgis-plugin-globe:
 qgis-plugin-globe depends on qgis (= 1.8.0-1~precise2); however:
  Package qgis is not configured yet.
dpkg: error processing qgis-plugin-globe (--configure):
 dependency problems - leaving unconfigured
dpkg: dependency problems prevent configuNo apport report written because the error message indicates its a followup error from a previous failure.
                                   No apport report written because the error message indicates its a followup error from a previous failure.
                             No apport report written because MaxReports is reached already
                                                                                           No apport report written because MaxReports is reached already
                                         ration of qgis-plugin-grass:
 qgis-plugin-grass depends on qgis (= 1.8.0-1~precise2); however:
  Package qgis is not configured yet.
dpkg: error processing qgis-plugin-grass (--configure):
 dependency problems - leaving unconfigured
Errors were encountered while processing:
 qgis-providers-common
 qgis-providers
 qgis
 qgis-plugin-globe
 qgis-plugin-grass
E: Sub-process /usr/bin/dpkg returned an error code (1) 
```

请帮我..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:49:42.283

看起来 gem 已安装，但它的依赖项配置不正确。

尝试运行`sudo dpkg-reconfigure qgis`以重新配置它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-25T12:54:24.140

按照以下链接中的步骤，它修复了 qgis 中的符号查找错误。

[http://ubuntuforums.org/showthread.php?t=1764127](http://ubuntuforums.org/showthread.php?t=1764127)

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-01-25T18:51:05.753

如果我删除 QGIS，那么我无法重新安装它！

# python - 如何在 django 模型中为 FloatField 设置默认值

> ID：13640320
> 
> 赞同：13
> 
> 时间：2012-11-30T06:47:17.303
> 
> 标签：python, mysql, django

如何`FloatField`在 django 中设置默认值。

最初，当我创建模型并将浮点字段声明为：

```
cost = models.FloatField(null=True, blank=True) 
```

而db也通过南移成功创建。

但是现在，当我尝试使用 html 表单对该字段进行编辑时，在 cost 字段中没有输入任何值，其形式为 throwing `value error`。因此，我认为如果我可以为成本字段设置默认值，它可能会解决问题。

但我不知道如何为`FloatField`in设置默认值`django`。

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2015-03-28T00:11:38.453

您的代码应该可以工作。也许某些东西将空值设置为非空值（如空字符串）。我必须看到完整的错误信息。

由于这是一个旧线程，我将发布我来这里的问题的答案，**“你如何在数据库中将 FloatField 默认设置为 Null？”**

```
cost = models.FloatField(null=True, blank=True, default=None) 
```

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-11-30T07:15:17.337

浮点字段与十进制字段非常相关，因此，它可能应该采用默认参数。尝试这样做..

```
cost = models.FloatField(default=to_some_value) 
```

# c# - 什么时候使用元组？

> ID：13640322
> 
> 赞同：130
> 
> 时间：2012-11-30T06:47:32.407
> 
> 标签：c#, .net, c#-4.0, .net-4.0, tuples

有人可以解释一下元组是什么以及如何在真实世界场景中使用它。我想知道这如何丰富我的编码经验？

* * *

## 回答 #1

> 赞同：129
> 
> 时间：2012-11-30T06:51:01.663

这篇[**msdn 文章**](http://msdn.microsoft.com/en-us/library/system.tuple.aspx)通过示例很好地解释了它，“*元组是一种具有特定数量和元素序列的数据结构*”。

> 元组通常以四种方式使用：
> 
> 1.  表示一组数据。例如，一个元组可以表示一个数据库记录，它的组件可以表示记录的各个字段。
>     
>     
> 2.  提供对数据集的轻松访问和操作。
>     
>     
> 3.  `ByRef`在不使用 out 参数（在 C# 中）或参数（在 Visual Basic 中）的情况下从方法返回多个值。
>     
>     
> 4.  通过单个参数将多个值传递给方法。例如，该`Thread.Start(Object)`方法有一个参数，可让您为线程在启动时执行的方法提供一个值。如果您提供一个`Tuple<T1, T2, T3>`对象作为方法参数，您可以为线程的启动例程提供三项数据。

* * *

## 回答 #2

> 赞同：79
> 
> 时间：2012-11-30T06:52:09.237

元组允许您将可能不同类型的多个值组合到一个对象中，而无需创建自定义类。如果您想编写一个例如返回三个相关值但又不想创建新类的方法，这将很有用。

通常虽然您应该创建一个类，因为这允许您为每个属性提供有用的名称。大量使用元组的代码将很快变得不可读，因为属性被称为`Item1`、`Item2`、`Item3`等。

* * *

## 回答 #3

> 赞同：40
> 
> 时间：2012-11-30T09:07:25.367

元组和类之间的区别在于元组没有属性名称。这几乎从来都不是一件好事，我只会在参数相当无意义时使用元组，例如在抽象数学公式中。超过 5,6,7 维的抽象微积分可能需要一个元组作为坐标。

* * *

## 回答 #4

> 赞同：26
> 
> 时间：2014-04-03T17:22:34.037

这是关于 Tuple 类型最重要的事情。元组是一个类，而不是一个结构。因此它将在托管堆上分配。分配的每个类实例都会增加垃圾收集的负担。

注意：属性 Item1、Item2 和进一步没有设置器。您不能分配它们。元组在内存中创建后是不可变的。

* * *

## 回答 #5

> 赞同：22
> 
> 时间：2012-11-30T08:11:07.853

元组类允许开发人员通过不为特定用途定义特定类来“快速和懒惰”。

属性名称是 Item1、Item2、Item3 ...，在某些情况下或没有文档时可能没有意义。

元组类具有强类型的泛型参数。Tuple 类的用户仍然可以从泛型参数的类型中推断出来。

# objective-c - UIActivityIndi cator 没有立即显示

> ID：13640326
> 
> 赞同：1
> 
> 时间：2012-11-30T06:47:36.007
> 
> 标签：objective-c, ios, cocoa-touch

由于某种原因，我无法立即显示活动指示器。也许任何人都可以看到为什么？

```
UIActivityIndicatorView *spinner = [[UIActivityIndicatorView alloc] initWithActivityIndicatorStyle:UIActivityIndicatorViewStyleWhiteLarge];
spinner.center = self.view.center; 
_active = spinner;
[self.view addSubview:spinner];
[spinner startAnimating];
@try {

    [self connectToServerUsingStream:ip portNo:port];
    NSString *text = @"test";
    const uint8_t *str =
    (uint8_t *) [text cStringUsingEncoding:NSASCIIStringEncoding];
    [self writeToServer:str];

}
@catch (NSException * e) {
    NSLog(@"Exception: %@", e);
} 
```

微调器只显示然后连接到服务器，在此之前它不显示。有任何想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T06:53:00.657

使用下面更新的代码。我认为它会起作用。

```
UIActivityIndicatorView *spinner = [[UIActivityIndicatorView alloc] initWithActivityIndicatorStyle:UIActivityIndicatorViewStyleWhiteLarge];
spinner.center = self.view.center; 
 _active = spinner; 
[self.view addSubview:spinner]; 
[spinner startAnimating]; 
[self performSelector:@selector(performTask) withObject:nil afterDelay:0.0];

- (void)performTask {
     @try {
         [self connectToServerUsingStream:ip portNo:port];
         NSString *text = @"test";
         const uint8_t *str =
         (uint8_t *) [text cStringUsingEncoding:NSASCIIStringEncoding];
         [self writeToServer:str];

     }
     @catch (NSException * e) {
         NSLog(@"Exception: %@", e);
     } 
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T06:53:48.423

替换下面的代码

```
[微调器 performSelectorOnMainThread:@selector(startAnimating) withObject:nil waitUntilDone:TRUE];

```

代替..

```
[微调开始动画];

```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T06:56:12.173

方法后的这一行`[spinner startAnimating];`阻塞了主线程，这就是活动未显示的原因。

请更改该代码，如：

```
dispatch_queue_t taskQ = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);
dispatch_async(taskQ, ^{
   @try
   {

     [self connectToServerUsingStream:ip portNo:port];
     NSString *text = @"test";
     const uint8_t *str =
     (uint8_t *) [text cStringUsingEncoding:NSASCIIStringEncoding];
     [self writeToServer:str];
   }
   @catch (NSException * e)
   {
     NSLog(@"Exception: %@", e);
   }
}); 
```

# android - 如何在我的 android 应用程序中设置阿拉伯字体？

> ID：13640329
> 
> 赞同：-1
> 
> 时间：2012-11-30T06:48:02.327
> 
> 标签：android

> **可能重复：**
> [Android 模拟器的阿拉伯语文本支持](https://stackoverflow.com/questions/3758016/arabic-text-support-for-android-emulator)

我想在我的 android 应用程序中设置阿拉伯语。但我无法使用阿拉伯字体。请任何朋友帮我使用它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T06:52:10.477

使用它来按字谜更改语言。

用你想要的任何语言写下语言的国家代码来代替“en_US”。喜欢`japanese--"ja_JP" For Arabic--"ar"`或检查此链接以获取国家/地区代码。

另请参阅[支持的语言](https://developers.google.com/igoogle/docs/i18n)。

并在`res/values-ar for arabic`.

并制作`string.xml`文件并将您想要的语言放在您的布局中。它将从值文件夹中获取默认语言，否则您需要手动获取它，然后它将从您的外部文件夹中获取值-ar等。

```
<?xml version="1.0" encoding="UTF-8"?>
  <resources>
    <string name="spinner_label">تصفية حسب</string>
    <string name="app_name">2011 فرق</string> 
    <string name="search">بحث :</string>
</resource> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:03:24.363

您可以使用 TypeFace 在您的应用程序中设置任何字体，
您只需将字体文件保存在资产中并将它们加载到应用程序中，如下所示，例如字体文件保存在资产中名为 fonts 的文件夹中，
例如：

```
Typeface face = Typeface.createFromAsset(activity.getAssets(),"fonts/YourFontFile.ttf");
TextView tv0 = (TextView) view.findViewById(R.id.textView1);
tv0.setTypeface(face); 
```

# android - 使用 Android Drawable 作为 AndEngine HUD

> ID：13640339
> 
> 赞同：0
> 
> 时间：2012-11-30T06:48:56.850
> 
> 标签：android, andengine, xml-drawable

我正在尝试创建一个位于 TMXTiledMap 之上的 AndEngine HUD（请耐心等待，我对 AndEngine 很陌生）。首先，为了简单起见，我有一个通过 Android 可绘制对象创建的简单矩形。这个想法是，它将位于屏幕的底部中心并且永远不会移动，即使它下面的地图向各个方向移动也是如此。现在，我要做的就是让那个矩形显示出来。稍后我将向矩形添加其他功能。

我的drawable是这样创建的：

```
 ?xml version="1.0" encoding="utf-8"?>
    <shape xmlns:android="http://schemas.android.com/apk/res/android"
        android:shape="rectangle" >
        <corners
            android:radius="7dp" />
        <gradient
            android:startColor="#343434"
            android:endColor="#17171717"
            android:angle="270"
            android:useLevel="false"
            android:type="linear" />
        <padding
            android:left="10dp"
            android:top="10dp"
            android:right="10dp"
            android:bottom="10dp" />
    </shape> 
```

我把它拉成这样的布局：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/container"
    android:layout_width="300dip"
    android:layout_height="100dip"
    android:orientation="horizontal" 
    android:layout_marginLeft="20dp"
    android:background="@drawable/menu_bkgrnd" >
</LinearLayout> 
```

最后，这里是我尝试将其作为 HUD 引入的地方：

```
rect = new HUD();
ITouchArea container = (ITouchArea) findViewById(R.id.container);
this.rect.registerTouchArea(container);
rect.attachChild((IEntity) container); 
```

正如你所看到的，我做了很多铸造来满足 AndEngine，但是当我运行这个时，地图完全搞砸了。我这样做对吗？我的选角不正确吗？（或者可能两者兼而有之！）。

谢谢你的帮助。

编辑：根据 Jong 和正宗白布鞋下面建议的代码，我调整了我的 Java 代码如下：

```
this.atlas = new BitmapTextureAtlas(null, 256, 256, TextureOptions.BILINEAR_PREMULTIPLYALPHA);
this.atlas.load();
ITextureRegion drawable = BitmapTextureAtlasTextureRegionFactory.createFromResource(atlas, getApplicationContext(), R.drawable.myDrawable, 0, 0);
rect.attachChild(new Sprite(0, 0, drawable, this.getVertexBufferObjectManager())); 
```

在这一点上，我仍然只是想让它出现在屏幕上。稍后我会调整大小和位置。

一切都编译并运行没有错误，但是我的屏幕只是一团糟。

如您所见，我必须对构造函数参数进行一些小调整才能让 AndEngine 接受我的实例化。不确定我是否正确执行此操作。

我在这段代码中看到的另一个问题是，在我看来，这段代码只会在我的屏幕上放置一个非活动形状。我知道在我原来的帖子中，我说我的直接目标是让这个矩形显示出来，但我认为它必须显示为一个注册的触摸区域，因为它最终将是一个需要响应的带有控件的东西到用户命令。对不起，如果我过度最小化我正在尝试做的事情。

我仍然没有得到这个。有人有什么建议吗？再次感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T12:09:51.983

您不能`LinearLayout`转换为`ITouchArea`,`ITouchArea`是仅由 AndEngine 类实现的接口。

就像正宗白布鞋建议的那样，你应该使用 的`createFromResource`方法`BitmapTextureAtlasTextureRegionFactory`。

您可以使用以下代码：

```
BitmapTextureAtlas atlas = new BitmapTextureAtlas(sizeX, sizeY, TextureOptions.BILINEAR_PREMULTIPLYALPHA);
TextureRegion drawable = BitmapTextureAtlasTextureRegionFactory.createFromResource(atlas, getApplicationContext(), R.drawable.drawableId, 0, 0);
rect.attachChild(new Sprite(x, y, drawable)); 
```

**编辑：**

如果您希望您的精灵响应触摸事件，您可以将其注册为`rect`HUD 中的触摸区域。

```
Sprite sprite = new Sprite(x, y, drawable, getVertexBufferObjectManager()) {
    @Override
    public boolean onAreaTouched(final TouchEvent pTouchEvent, final float pX, final float pY) {
        //Do what you want here
    }
}
rect.registerTouchArea(sprite);
rect.attachChild(sprite); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-03T07:06:20.283

几天前我遇到了同样的问题，但我找不到正确的答案。所以现在我已经从不同的来源收集了信息，这就是我处理这个问题的方法。

AFAIK，似乎`createFromResource(atlas, getApplicationContext(), R.drawable.drawableId, 0, 0)`from的方法`BitmapTextureAtlasTextureRegionFactory`无法处理 XML drawable（例如`<shape>...</shape>`）。
事实上，当我只显示一个彩色矩形时，一切都很好 - 我*认为*也是 PNG 文件 - 但是当我尝试`Sprite`从我的 XML 可绘制对象创建一个时，我总是`NullBitmapException`在绘图发生时得到一个。

我采取的步骤：

*   将可绘制资源转换为`Drawable`
*   转换`Drawable`为`Bitmap`（[此处来源](https://stackoverflow.com/questions/3035692/how-to-convert-a-drawable-to-a-bitmap)）
*   转换`Bitmap`为`TextureRegion`（这是我使用[它](https://github.com/edbartley/AndEngine---Texture-Source-From-Bitmap)的地方）
*   `Sprite`从`TextureRegion`（或两个用于选定/未选定，如此[处](https://stackoverflow.com/questions/13067627/change-image-of-sprite-andengine)）创建一个
*   附加`Sprite`到游戏的`HUD`

所以，用代码：

**转换可绘制资源`TextureRegion`**

```
/**
 * Takes a drawable, and converts it to a TextureRegion.
 * @param context
 * @param resId the drawable ID
 * @param textureSizeX width for our TextureRegion
 * @param textureSizeY height for our TextureRegion
 * @return a TextureRegion from the drawable
 */
public static TextureRegion textureRegionFromDrawable(BaseGameActivity context, int resId, int textureSizeX, int textureSizeY) {
    Drawable drawable = context.getResources().getDrawable(resId);
    Bitmap bitmap = drawableToBitmap(drawable);
    BitmapTextureAtlasTextureSource source = new BitmapTextureAtlasTextureSource(bitmap);
    BitmapTextureAtlas textureAtlas = new BitmapTextureAtlas(context.getTextureManager(), textureSizeX, textureSizeY);
    textureAtlas.addTextureAtlasSource(source, 0, 0);
    textureAtlas.load();
    TextureRegion textureRegion = (TextureRegion) TextureRegionFactory.createFromSource(textureAtlas, source, 0, 0);
    return textureRegion;
}
// Drawable to Bitmap
public static Bitmap drawableToBitmap(Drawable drawable) {
    if (drawable instanceof BitmapDrawable) {
        return ((BitmapDrawable) drawable).getBitmap();
    }
    Bitmap bitmap = Bitmap.createBitmap(drawable.getIntrinsicWidth(), drawable.getIntrinsicHeight(), Config.ARGB_8888);
    Canvas canvas = new Canvas(bitmap);
    drawable.setBounds(0, 0, canvas.getWidth(), canvas.getHeight());
    drawable.draw(canvas);
    return bitmap;
} 
```

**实用中介类**

```
public class BitmapTextureAtlasTextureSource extends BaseTextureAtlasSource implements IBitmapTextureAtlasSource {
    private final int[] mColors;
    public BitmapTextureAtlasTextureSource(Bitmap pBitmap) {
        super(0, 0, pBitmap.getWidth(), pBitmap.getHeight());
        mColors = new int[mTextureWidth * mTextureHeight];
        for (int y = 0; y < mTextureHeight; ++y) {
            for (int x = 0; x < mTextureWidth; ++x) {
                mColors[x + y * mTextureWidth] = pBitmap.getPixel(x, y);
            }
        }
    }
    @Override
    public Bitmap onLoadBitmap(Config pBitmapConfig) {
        return Bitmap.createBitmap(mColors, mTextureWidth, mTextureHeight, Bitmap.Config.ARGB_8888);
    }

    @Override
    public IBitmapTextureAtlasSource deepCopy() {
        return new BitmapTextureAtlasTextureSource(Bitmap.createBitmap(mColors, mTextureWidth, mTextureHeight, Bitmap.Config.ARGB_8888));
    }

    @Override
    public Bitmap onLoadBitmap(Config pBitmapConfig, boolean pMutable) {
        // TODO Auto-generated method stub
        return null;
    }
} 
```

**`Sprite`从`TextureRegion`s创建两个**（我想要按钮的 2 个状态：选中/未选中），并将它们附加到`HUD`

```
int textureSizeX = 512, textureSizeY = 512;
TextureRegion textureDefault = AndEngineUtils.textureRegionFromDrawable(activity, R.drawable.custom_menu_button, textureSizeX, textureSizeY);
TextureRegion textureSelected = AndEngineUtils.textureRegionFromDrawable(activity, R.drawable.custom_menu_button_selected, textureSizeX, textureSizeY);
mGameHUD = new HUD();

// 2 sprites for selected and unselected
final Sprite buttonUnselected, buttonSelected ;
buttonSelected = new Sprite(0, 0, textureSelected, activity.getVertexBufferObjectManager());
buttonSelected.setVisible(false);

buttonUnselected = new Sprite(0, 0, textureDefault, activity.getVertexBufferObjectManager()) {
    @Override
    public boolean onAreaTouched(TouchEvent pSceneTouchEvent, float pTouchAreaLocalX, float pTouchAreaLocalY) {
        switch (pSceneTouchEvent.getAction()) {
        case TouchEvent.ACTION_DOWN:
            // Change button
            buttonSelected.setVisible(true);
            this.setVisible(false);
            break;
        case TouchEvent.ACTION_UP:
            // reset button
            this.setVisible(true);
            buttonSelected.setVisible(false);
            break;
        default:
            break;
        }
        return super.onAreaTouched(pSceneTouchEvent, pTouchAreaLocalX, pTouchAreaLocalY);
    }
};
mGameHUD.attachChild(buttonSelected);
mGameHUD.attachChild(buttonUnselected);
mGameHUD.registerTouchArea(buttonUnselected);
camera.setHUD(mGameHUD); 
```

我们还可以利用`scene.setOnAreaTouchListener(touchListener)`“不需要的”滑动手势（直到按钮之外）来重置按钮颜色（请参阅[此线程](https://stackoverflow.com/questions/8881419/android-andengine-button-remains-highlighted)）。

我刚开始使用`AndEngine`，还不熟悉最佳实践，请随时纠正我。

# javascript - 使用 Javascript 获取标签中的 Span 标签 ID

> ID：13640341
> 
> 赞同：0
> 
> 时间：2012-11-30T06:49:20.143
> 
> 标签：javascript, vbscript, dom-events

我正在尝试使用 Javascript 函数获取跨度标记的 id，即 M24。

```
 <a HREF="javascript:void(0)"><font color="#000080"><span id=M24>2012-2013</span></font
 color="#000080"></a> 
```

我正在使用以下代码，但它没有返回任何值：

```
 <SCRIPT LANGUAGE="javascript">
function clickHandler()
{
  var xid=document.getElementID(this);
    alert("Span id is "+xid);

}
</SCRIPT> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:51:35.387

像下面这样重写函数

```
function clickHandler()
{
  var xid=document.getElementsByTagName("span");
    alert("Span id is "+xid[0].id);

} 
```

找出多个跨度ID

```
function clickHandler()
{
  var xid=document.getElementsByTagName("span");
  for(var i=0;i<xid.length;i++){
     alert("Span id is "+xid[i].id);
 } 
```

而不是上面的函数，你可以简单地这样做，像这样重写你的函数

```
function clickHandler(evt)
{
  var e = window.event || evt;
  var spanid = e.target.id;//to know on which span user has clicked.  
} 
```

并像这样添加你的跨度

```
<span id=M24 onclick="clickHandler(evt);">2012-2013</span>
<span id=M25 onclick="clickHandler(evt);">2012-2013</span>
...so on.... 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T06:51:49.710

是`getElementById()`，不是`getElementID()`

目前这种表示是不正确的。因为如果您知道标签 ID，那么您应该使用`getElementById()`.

但在你的情况下，使用`getElementsByTagName()`

# jquery - 使用 Jquery 将图像源更改为 Amazon

> ID：13640344
> 
> 赞同：0
> 
> 时间：2012-11-30T06:49:23.717
> 
> 标签：jquery

在我的网站[http://www.chiwah.us/product_p/chiwahguitar.htm](http://www.chiwah.us/product_p/chiwahguitar.htm)我使用以下代码替换每个图像的 src，以便从亚马逊而不是 www.chiwah.us 加载图像。

当我在此页面[http://tools.pingdom.com/fpt/#!/CuCilXywL/www.chiwah.us/product_p/chiwahguitar.htm](http://tools.pingdom.com/fpt/#!/CuCilXywL/www.chiwah.us/product_p/chiwahguitar.htm)检查结果时，它说图像正在从主站点以及来自亚马逊，我只想从亚马逊加载图像。我的以下脚本有问题吗？

```
<script type="text/javascript">
$(document).ready(function(){

  try{

    var len=$("img").each(function(){

        if($(this).attr("src").indexOf("/v/")!=-1 )
        {
        url=$(this).attr("src").replace("/v/","https://s3.amazonaws.com/Chiwah/"); 

        $(this).attr("src",url);

        //alert($(this).attr("src"));
        }

        if( $(this).attr("src").indexOf("http://www.chiwah.us/v/")!=-1)
        {
            url=$(this).attr("src").replace("http://www.chiwah.us/v/","https://s3.amazonaws.com/Chiwah/"); 

            $(this).attr("src",url);
        }

        if( $(this).attr("src").indexOf("v/")!=-1)
        {
            url=$(this).attr("src").replace("v/","https://s3.amazonaws.com/Chiwah/"); 

            $(this).attr("src",url);
        }
    }).length;

    var butt=$("input").each(function(){

      if($(this).attr("type")=="image")
      {
       if($(this).attr("src").indexOf("/v/")!=-1)
        {

        url=$(this).attr("src").replace("/v/","https://s3.amazonaws.com/Chiwah/");
        $(this).attr("src",url);
        //alert($(this).attr("src"));
        }

        if($(this).attr("src").indexOf("http://www.chiwah.us/v/")!=-1)
        {

        url=$(this).attr("src").replace("http://www.chiwah.us/v/","https://s3.amazonaws.com/Chiwah/");

        $(this).attr("src",url);
        //alert($(this).attr("src"));
        }
        if($(this).attr("src").indexOf("v/")!=-1)
        {

        url=$(this).attr("src").replace("v/","https://s3.amazonaws.com/Chiwah/");
        $(this).attr("src",url);
        //alert($(this).attr("src"));
        }
      }
    }).length;

    }catch(e)
    {
//  alert(e.message);
    }

});

</script> 
```

# windows-phone-7 - 如何正确处理 OnBackKeyPress？

> ID：13640351
> 
> 赞同：0
> 
> 时间：2012-11-30T06:50:03.877
> 
> 标签：windows-phone-7

为简单起见，我创建了一个新应用程序，其中包含 MainPage 和 Page2。MainPage 有一个按钮，用于导航到 Page2。同时覆盖 MainPage.OnBackKeyPress：

```
 protected override void OnBackKeyPress(System.ComponentModel.CancelEventArgs e)
    {
        if (MessageBox.Show("Quit?", "Confirm", MessageBoxButton.OKCancel) == MessageBoxResult.Cancel)
            e.Cancel = true;
        else
            base.OnBackKeyPress(e);
    } 
```

Page2 为空，除了重写 OnNavigateFrom，模拟从 Page2 回到 MainPage 的长时间操作：

```
 protected override void OnNavigatedFrom(NavigationEventArgs e)
    {
        System.Threading.Thread.Sleep(1000);
        base.OnNavigatedFrom(e);
    } 
```

一切都很好，但是当我在第 2 页时，*很快*按 3-4 次返回键，然后我看到消息框弹出两次。我希望消息框不显示，或者至少显示和隐藏。我的代码有什么问题吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T18:52:33.673

这取决于您的意思是非常快...

代码看起来不错（除了`Thread.Sleep`这可能是为了模拟 UI 线程上的长时间操作）。

我希望这是因为当 UI 线程忙（或“睡眠”）时，后退按键仍在注册并被发送到应用程序，当 UI 线程再次可用时，它将一个接一个地处理它们。

这是一个很好的例子，说明了为什么应该避免阻塞 UI 线程。

# iphone - 亚马逊网络服务问题。我应该为网络服务付费吗？

> ID：13640354
> 
> 赞同：0
> 
> 时间：2012-11-30T06:50:28.807
> 
> 标签：iphone, ios, web-services, amazon-web-services, amazon

我是 iOS 开发的新手，我遇到了亚马逊的问题。

我想通过亚马逊网络服务获取有关亚马逊产品的信息。我想输入关键字并获取有关适当产品的信息。

我查看了[http://aws.amazon.com/mobile/](http://aws.amazon.com/mobile/)并看到我应该注册。在注册过程中，亚马逊询问了我的 Visa 卡信息，然后试图提取 1 美元。

问题是：

1.  我应该为亚马逊网络服务付费吗
2.  是否必须注册或者我可以从[http://aws.amazon.com/sdkforios/下载 Amazon sdk](http://aws.amazon.com/sdkforios/)
3.  你能给出一些亚马逊sdk代码示例吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T07:14:45.153

*   AWS 是付费服务。因此，您是否应该为使用 AWS 付费并不是问题。您必须为已使用的容量付费。

各种服务的定价不同，通常列在`http://aws.amazon.com/<service name>/pricing/`. 这里有几个例子 - [`EC2`](http://aws.amazon.com/ec2/pricing/), [`S3`](http://aws.amazon.com/s3/pricing/).

请注意，对于某些服务，只要您保持一定的使用量，就有大约一年的免费套餐。因此，虽然您每个月都会收到一张账单，但该账单可能是 0 美元。

更多关于[`AWS Free Usage Tier`](http://aws.amazon.com/free/).

*   您可以免费下载客户端 SDK 并针对它编写代码。但是，要在 AWS 上实际运行它，您将需要 AWS 访问密钥 ID 和秘密访问密钥，以便 AWS 服务器可以对来自您的应用程序的请求进行身份验证（顺便还可以根据您的使用情况正确地向您收费）。

*   你应该从[`Getting Started with the AWS SDK for iOS`](http://docs.amazonwebservices.com/mobile/sdkforios/gsg/Welcome.html)和开始[`AWS SDK for iOS FAQs`](http://aws.amazon.com/sdkforios/faqs/)。SDK 还包含大量示例应用程序到`<SDK install folder>/samples`文件夹中。

**更新**：

啊，你想搜索亚马逊目录？这与 AWS 不同。AWS 旨在为您提供对您自己的服务的计算资源（存储、CPU、负载平衡等）的访问。对于您的场景，您需要使用[`Amazon Affiliate Program Product Advertising API`](https://affiliate-program.amazon.com/gp/advertising/api/detail/main.html).

虽然该 API 确实与 AWS 共享凭证（它使用 AWS 访问密钥 ID 和密钥），但它很可能是免费的（但请仔细检查以确保），因为亚马逊将在您的用户购买的任何产品上赚钱。

此外，`Product Advertising API`没有客户端 SDK（据我所知），因此您必须自己处理 HTTP 请求。该 API 支持 REST 和 SOAP，因此您可以选择自己的毒药。还有大量用于服务器和客户端应用程序[的示例](http://aws.amazon.com/code/Product-Advertising-API/)，包括 PHP、C#、Java、Node.js、Ruby 等。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T07:01:20.657

AWS很棒！它完全物有所值。因此，您可以下载 AWS iOS 开发工具包并将其集成到您的项目中；但是，在它起作用之前，您需要注册。我会给你一些例子，但我不完全明白你在问什么。AWS iOS 开发工具包中有大量代码示例。如果你愿意，你可以在这篇文章上评论你想用 AWS 做什么，然后我可以帮你想出代码来实现它:) 我希望你在 iOS 开发中玩得开心，太棒了:)

祝你好运！

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-30T07:54:52.047

您是否将 Amazon Web 服务与请求 API 混淆了？你说：

`I want to enter the keywork "iphone" and get some iphone products on amazon with its description and price`

这就是亚马逊网络 API 会做的事情（从[这个问题](https://stackoverflow.com/questions/4811259/is-there-an-amazon-com-api-to-retrieve-product-reviews)，我知道亚马逊可能没有这样的事情？）。AWS 是一种云服务，您可以在其中运行程序并根据您使用的资源付费。把它想象成一个网络主机。

总而言之，AWS 与亚马逊内容没有直接关系，如果我理解正确的话，这不是你想要的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-30T06:57:18.907

1.  是的，当然你必须付钱。
2.  您无需注册即可下载它，但您必须注册才能使用它。
3.  AWS SDK for iOS 中有文档。

# testing - 可以使用 selenium 脚本进行负载和性能测试

> ID：13640362
> 
> 赞同：0
> 
> 时间：2012-11-30T06:51:19.507
> 
> 标签：testing

1）有没有办法使用硒功能测试脚本进行负载和性能测试。

2）或使用相同脚本处理功能和负载的任何其他工具。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T18:54:56.577

将 selenium 测试作为负载测试运行的问题是，它可以使用 TestNG 或 Visual Studio 的负载测试向导来完成，因为每个测试都将在其自己的浏览器窗口中运行，这将是非常机器密集型的。

更好的选择是 Grinder 或 JMeter

# wpf - 错误：设置属性 > System.Windows.Data.MultiBinding.Converter' 引发异常

> ID：13640363
> 
> 赞同：1
> 
> 时间：2012-11-30T06:51:22.727
> 
> 标签：wpf, xaml

我花了几个小时仔细检查错误原因是什么，但我不知道..

错误是

> PresentationFramework.dll 中出现“System.Windows.Markup.XamlParseException”类型的第一次机会异常
> 
> 附加信息：“设置属性 'System.Windows.Data.MultiBinding.Converter' 引发异常。” 行号“363”和行位置“86”。

XAML

```
<Grid Margin="1"
      DockPanel.Dock="Top">
  <Canvas x:Name="MinimapGrid"
          LayoutUpdated="MinimapGrid_LayoutUpdated">
    <Canvas.Resources>
      <local:OverlayRectangleRegionConverter x:Key="OverlayRectangleRegionConverter" />
    </Canvas.Resources>
    <Canvas.Background>
      <VisualBrush>
        <VisualBrush.Visual>
          <ItemsControl x:Name="itemsControl"
                        ItemsSource="{Binding Wells, IsAsync=True}">
            <ItemsControl.ItemsPanel>
              <ItemsPanelTemplate>
                <UniformGrid Rows="{Binding Rows, FallbackValue=16}"
                             Columns="{Binding Columns, FallbackValue=24}" />
              </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.ItemTemplate>
              <DataTemplate>
                <Rectangle Fill="{Binding Name, Converter={StaticResource WellTypeColorConverter}}"
                           Height="10"
                           Width="10"
                           Stroke="Black" />
              </DataTemplate>
            </ItemsControl.ItemTemplate>
          </ItemsControl>
        </VisualBrush.Visual>
      </VisualBrush>
    </Canvas.Background>
    <Image x:Name="image"
           Height="410"
           Width="592"
           Source="Desert.jpg"
           Stretch="UniformToFill" />
    <Rectangle Fill="#FD9D5C5C"
               Canvas.Left="0"
               Canvas.Top="0"
               Width="{Binding ActualWidth, ElementName=image}"
               Height="{Binding ActualHeight, ElementName=image}"
               x:Name="rect">
      <Rectangle.OpacityMask>
        <DrawingBrush Stretch="None">
          <DrawingBrush.Drawing>
            <GeometryDrawing Brush="#99ffffff">
              <GeometryDrawing.Geometry>
                <CombinedGeometry GeometryCombineMode="Exclude">
                  <CombinedGeometry.Geometry1>
                    <RectangleGeometry>
                      <RectangleGeometry.Rect>
                        <MultiBinding Converter="{StaticResource OverlayRectangleRegionConverter}">
                          <Binding Path="(Canvas.Left)"
                                   ElementName="image" />
                          <Binding Path="(Canvas.Top)"
                                   ElementName="image" />
                          <Binding Path="Width"
                                   ElementName="rect" />
                          <Binding Path="Height"
                                   ElementName="rect" />
                        </MultiBinding>
                      </RectangleGeometry.Rect>
                    </RectangleGeometry>
                  </CombinedGeometry.Geometry1>
                  <CombinedGeometry.Geometry2>
                    <RectangleGeometry>
                      <RectangleGeometry.Rect>
                        <MultiBinding Converter="{StaticResource OverlayRectangleRegionConverter}">
                          <Binding Path="(Canvas.Left)"
                                   ElementName="PART_ZoomThumb" />
                          <Binding Path="(Canvas.Top)"
                                   ElementName="PART_ZoomThumb" />
                          <Binding Path="Width"
                                   ElementName="PART_ZoomThumb" />
                          <Binding Path="Height"
                                   ElementName="PART_ZoomThumb" />
                        </MultiBinding>
                      </RectangleGeometry.Rect>
                    </RectangleGeometry>
                  </CombinedGeometry.Geometry2>
                </CombinedGeometry>
              </GeometryDrawing.Geometry>
            </GeometryDrawing>
          </DrawingBrush.Drawing>
        </DrawingBrush>
      </Rectangle.OpacityMask>
    </Rectangle>
    <Thumb x:Name="PART_ZoomThumb"
           Canvas.Left="0"
           Canvas.Top="0"
           DragCompleted="PART_ZoomThumb_DragCompleted"
           DragDelta="PART_ZoomThumb_DragDelta"
           Cursor="SizeAll">
      <Thumb.Style>
        <Style TargetType="Thumb">
          <Setter Property="Template">
            <Setter.Value>
              <ControlTemplate TargetType="Thumb">
                <Rectangle StrokeThickness="3"
                           Stroke="Red"
                           Fill="Transparent" />
              </ControlTemplate>
            </Setter.Value>
          </Setter>
        </Style>
      </Thumb.Style>
    </Thumb>
  </Canvas>
</Grid> 
```

OverlayRectangleRegionConverter.cs

```
public class OverlayRectangleRegionConverter : MarkupExtension, IMultiValueConverter
{
    public object Convert(object[] values, Type targetType, object parameter, CultureInfo culture)
    {
        if (values == null || values.Length != 4) return new Rect(0, 0, 0, 0);
        for (var i = 0; i < values.Length; i++)
            if (double.IsNaN((double)values[i]))
                values[i] = 0.0;
        return new Rect((double)values[0], (double)values[1], (double)values[2], (double)values[3]);
    }

    public object[] ConvertBack(object value, Type[] targetTypes, object parameter, CultureInfo culture)
    {
        throw new NotImplementedException();
    }

    public override object ProvideValue(IServiceProvider serviceProvider)
    {
        return new RectConverter();
    }
} 
```

# ssl - 如何通过 SSL 配置 Oracle 和 WebSphere AS 7 交互？

> ID：13640366
> 
> 赞同：0
> 
> 时间：2012-11-30T06:51:32.833
> 
> 标签：ssl, jdbc, oracle10g, websphere-7

我正在尝试将 WAS7 配置为通过 SSL 与 Oracle 交互。对于连接检索，我正在使用 JNDI 数据源。在 Oracle 方面，一切看起来都很好，OCI 应用程序工作正常。我通过“从端口检索”和WebSphere的客户端证书将服务器公钥放入“NodeDefaultTrustStore”/“Signer”到“NodeDefaultKeyStore”/“Personal”，然后将数据库url中的端口更改为2484。毕竟我得到了错误：

```
00000012 DSConfigurati W DSRA8201W: DataSource Configuration: DSRA8040I: Failed to connect to the DataSource. Encountered java.sql.SQLException: Got minus one from a read callDSRA0010E: SQL State = 00000, Error Code = 0.
java.sql.SQLException: Got minus one from a read callDSRA0010E: SQL State = 00000, Error Code = 0
at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:412)
at oracle.jdbc.driver.PhysicalConnection.<init>(PhysicalConnection.java:531)
at oracle.jdbc.driver.T4CConnection.<init>(T4CConnection.java:221)
at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:32)
at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:503)
at oracle.jdbc.pool.OracleDataSource.getPhysicalConnection(OracleDataSource.java:280)
at oracle.jdbc.pool.OracleDataSource.getConnection(OracleDataSource.java:207)
at oracle.jdbc.pool.OracleConnectionPoolDataSource.getPhysicalConnection(OracleConnectionPoolDataSource.java:139)
at oracle.jdbc.pool.OracleConnectionPoolDataSource.getPooledConnection(OracleConnectionPoolDataSource.java:88)
at com.ibm.ws.rsadapter.DSConfigurationHelper$2.run(DSConfigurationHelper.java:1664)
at com.ibm.ws.security.auth.ContextManagerImpl.runAs(ContextManagerImpl.java:4678)
at com.ibm.ws.security.auth.ContextManagerImpl.runAsSystem(ContextManagerImpl.java:4766)
at com.ibm.ws.security.core.SecurityContext.runAsSystem(SecurityContext.java:255)
at com.ibm.ws.rsadapter.DSConfigurationHelper$3.run(DSConfigurationHelper.java:1680)
at com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)
at com.ibm.ws.rsadapter.DSConfigurationHelper.getPooledConnection(DSConfigurationHelper.java:1692)
at com.ibm.ws.rsadapter.DSConfigurationHelper.getPooledConnection(DSConfigurationHelper.java:1587)
at com.ibm.ws.rsadapter.DSConfigurationHelper.getConnectionFromDSOrPooledDS(DSConfigurationHelper.java:3219)
at com.ibm.ws.rsadapter.DSConfigurationHelper.testConnectionForGUI(DSConfigurationHelper.java:3895)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)
at java.lang.reflect.Method.invoke(Method.java:611)
at com.ibm.ws.management.DataSourceConfigHelperMBean.testConnectionToDataSource2(DataSourceConfigHelperMBean.java:556)
at com.ibm.ws.management.DataSourceConfigHelperMBean.testConnection(DataSourceConfigHelperMBean.java:484)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)
at java.lang.reflect.Method.invoke(Method.java:611)
at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:49)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)
at java.lang.reflect.Method.invoke(Method.java:611)
at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:256)
at javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1085)
at javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:966)
at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:848)
at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:773)
at com.ibm.ws.management.AdminServiceImpl$1.run(AdminServiceImpl.java:1332)
at com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)
at com.ibm.ws.management.AdminServiceImpl.invoke(AdminServiceImpl.java:1225)
at com.ibm.ws.management.commands.AdminServiceCommands$InvokeCmd.execute(AdminServiceCommands.java:251)
at com.ibm.ws.console.core.mbean.MBeanHelper.invoke(MBeanHelper.java:239)
at com.ibm.ws.console.core.mbean.ResourceMBeanHelper.testNode(ResourceMBeanHelper.java:816)
at com.ibm.ws.console.core.mbean.ResourceMBeanHelper.testConnection(ResourceMBeanHelper.java:262)
at com.ibm.ws.console.resources.database.jdbc.DataSourceDetailAction.execute(DataSourceDetailAction.java:248)
at org.apache.struts.action.RequestProcessor.processActionPerform(Unknown Source)
at org.apache.struts.action.RequestProcessor.process(Unknown Source)
at org.apache.struts.action.ActionServlet.process(Unknown Source)
at org.apache.struts.action.ActionServlet.doPost(Unknown Source)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:738)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:831)
at com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1657)
at com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1597)
at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:104)
at com.ibm.ws.webcontainer.filter.WebAppFilterChain._doFilter(WebAppFilterChain.java:77)
at com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebAppFilterManager.java:908)
at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:934)
at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:502)
at com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest(ServletWrapperImpl.java:179)
at com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.forward(WebAppRequestDispatcher.java:353)
at org.apache.struts.action.RequestProcessor.doForward(Unknown Source)
at org.apache.struts.tiles.TilesRequestProcessor.doForward(Unknown Source)
at org.apache.struts.action.RequestProcessor.processForwardConfig(Unknown Source)
at org.apache.struts.tiles.TilesRequestProcessor.processForwardConfig(Unknown Source)
at com.ibm.isclite.container.controller.InformationController.processForwardConfig(InformationController.java:217)
at org.apache.struts.action.RequestProcessor.process(Unknown Source)
at org.apache.struts.action.ActionServlet.process(Unknown Source)
at org.apache.struts.action.ActionServlet.doPost(Unknown Source)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:738)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:831)
at com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1657)
at com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1597)
at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:131)
at com.ibm.ws.console.core.servlet.WSCUrlFilter.setUpCommandAssistence(WSCUrlFilter.java:933)
at com.ibm.ws.console.core.servlet.WSCUrlFilter.continueStoringTaskState(WSCUrlFilter.java:500)
at com.ibm.ws.console.core.servlet.WSCUrlFilter.doFilter(WSCUrlFilter.java:321)
at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:188)
at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:116)
at com.ibm.ws.webcontainer.filter.WebAppFilterChain._doFilter(WebAppFilterChain.java:77)
at com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebAppFilterManager.java:908)
at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:934)
at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:502)
at com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest(ServletWrapperImpl.java:179)
at com.ibm.ws.webcontainer.servlet.CacheServletWrapper.handleRequest(CacheServletWrapper.java:91)
at com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:864)
at com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContainer.java:1583)
at com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLink.java:186)
at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:452)
at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewRequest(HttpInboundLink.java:511)
at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.processRequest(HttpInboundLink.java:305)
at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.ready(HttpInboundLink.java:276)
at com.ibm.ws.ssl.channel.impl.SSLConnectionLink.determineNextChannel(SSLConnectionLink.java:1048)
at com.ibm.ws.ssl.channel.impl.SSLConnectionLink.readyInboundPostHandshake(SSLConnectionLink.java:716)
at com.ibm.ws.ssl.channel.impl.SSLConnectionLink$MyHandshakeCompletedCallback.complete(SSLConnectionLink.java:412)
at com.ibm.ws.ssl.channel.impl.SSLUtils.handleHandshake(SSLUtils.java:1058)
at com.ibm.ws.ssl.channel.impl.SSLHandshakeIOCallback.complete(SSLHandshakeIOCallback.java:87)
at com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:165)
at com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)
at com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)
at com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)
at com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)
at com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)
at com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)
at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1604)
Caused by: oracle.net.ns.NetException: Got minus one from a read call
at oracle.net.ns.Packet.receive(Packet.java:285)
at oracle.net.ns.NSProtocol.connect(NSProtocol.java:286)
at oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1042)
at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:301)
... 105 more 
```

在 listener.log 中的 Oracle 端：

```
TNS-12525: TNS:listener has not received client's request in time allowed
TNS-12535: TNS:operation timed out
TNS-12606: TNS: Application timeout occurred 
```

不管我在做什么？如果是这样，可能是什么问题？

# web-services - 无法通过用户组 Web 服务将 SP 服务器中存在的本地用户添加到 SP 组

> ID：13640367
> 
> 赞同：0
> 
> 时间：2012-11-30T06:51:33.303
> 
> 标签：web-services, sharepoint-2010

我正在尝试通过 web 服务“用户和组”的函数 AddUserCollectionToGroup() 将用户添加到现有组（Web 参考：http:///_vti_bin/usergroup.asmx）。

我调用此 Web 服务将“SharePoint 服务器的本地管理员”用户添加到组中，并获取**带有内部异常消息的 SoapServerException 为 'The user does not exist or is not unique'**。但是当我检查网站集级别中存在的用户时，该用户确实存在。

当我尝试添加其他用户时，例如 AD 中的农场管理员，则添加成功。

我错过了什么吗？任何帮助，将不胜感激。

（我正在使用 Sharepoint Enterprise）

谢谢并恭祝安康

阿尔贾布

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-02T05:20:51.590

以下链接解决了我的问题：

[http://littletalk.wordpress.com/2009/12/14/the-user-does-not-exist-or-is-not-unique/](http://littletalk.wordpress.com/2009/12/14/the-user-does-not-exist-or-is-not-unique/)

# mysql - Mysql查询查找指定行

> ID：13640386
> 
> 赞同：2
> 
> 时间：2012-11-30T06:53:05.593
> 
> 标签：mysql, sql

我有一张桌子`trip_data`。每一秒钟我都会收到数据包并将数据插入数据库。`trip_data`表包含四个`fields.trip_paramid,fuel_content,creation_time&vehicle_id`。我想选择创建时间差为 2 分钟的所有行（不完全是 2。大约 2）。`trip_data`表包含 40 缺少行。所以我需要一个优化的选择查询。任何人都可以帮助解决这个问题。这里是 trip_table 的表模式和示例数据..

[SQLlFiddle 演示](http://www.sqlfiddle.com/#!2/efbdf)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:13:03.547

```
SELECT 
    tp.*
FROM 
    trip_parameters tp
GROUP BY 
    CONVERT(UNIX_TIMESTAMP (tp.creation_time)/(2*60), unsigned)
ORDER BY
    tp.creation_time asc 
```

请注意，使用 UNIX_TIMESTAMP 不允许您处理 2037 年之后的日期。使用以下代替可以解决问题：

```
CONVERT(TIMESTAMPDIFF(SECOND,'1970-01-01 00:00:00',tp.creation_time)/(2*60), unsigned) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:47:26.580

您可以使用[MYSQL 用户定义变量](http://dev.mysql.com/doc/refman/5.0/en/user-variables.html)在一次表扫描中完成。不幸的是，UDV 的数据类型有限（整数、十进制、浮点、二进制或非二进制字符串）。因此，在此查询中，我使用 char`@ti`变量存储以前的日期时间，使用 CAST 将其与`Creation_time`字段进行比较。这个变量的初始值我设置为 (now()-10000000) 你可以使用任何你希望小于 MIN(Creation_time) 的日期

这是[SQLFiddle 演示](http://www.sqlfiddle.com/#!2/efbdf/82)

```
select * from
(
select trip_parameters.*, 
if(ABS(TIMESTAMPDIFF(MINUTE,Creation_time,cast(@ti as datetime)))>=2,1,0) t,
@ti:=if(ABS(TIMESTAMPDIFF(MINUTE,Creation_time,cast(@ti as datetime)))>=2,
                             cast(Creation_time as char(100)),@ti)
from trip_parameters,
     (select @ti:=cast(now()-10000000 as char(100))) a
order by creation_time
) t2
where T=1
order by creation_time 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-11-30T07:12:51.127

试试这个

```
SELECT trip_paramid, fuel_content, creation_time, vehicle_id
FROM trip_parameters
GROUP BY FLOOR(UNIX_TIMESTAMP(creation_time)/120) 
```

这需要每 2 分钟块中的一项

# iphone - 在xcode中将图像从一个视图传递到另一个视图？

> ID：13640390
> 
> 赞同：0
> 
> 时间：2012-11-30T06:53:34.800
> 
> 标签：iphone, xcode, uiimageview, uiimage

我需要将图像从一个视图传递到另一个视图。在第一个视图中，我从服务 URL 获取 base64 数据，并将其转换为特定图像并显示在 tableviewcell 中。现在，当我点击特定单元格时，相应的图像应该是从 firstView 传递到 secondView。但无法获取它。出现错误“程序收到信号 SIGABRT”

这是我正在处理的代码：

```
FirstView.m
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
          NSData *data = [NSData dataFromBase64String:yBase64String];        
          UIImage* image = [UIImage imageWithData: data];

          UIImageView *myImageView = [[UIImageView alloc] initWithFrame:CGRectMake(0,10,90,150)];              
          myImageView.tag = 120;
          myImageView.image = image;
          [cell addSubview:myImageView];
          [myImageView release];
          return cell;    

}
- (void) tableView:(UITableView *)tableView accessoryButtonTappedForRowWithIndexPath:(NSIndexPath *)indexPath
{
  SecondView *scnd = [[SecondView alloc] initWithNibName:@"SecondView" bundle:nil];
  UIImage *image=(UIImage *)[cell viewWithTag:120];
  scnd.provImage=pImage;
  [self presentModalViewController: scnd animated:NO];
}

SecondView.m
-(void)viewDidLoad
{
    [super viewDidLoad];
    UIImageView *myImageView  = [[UIImageView alloc] initWithFrame:CGRectMake(2,25,90,80)]; //getting error at this line 
    myImageView.image= self.provImage;
    [self.view addSubview: myImageView];
    [ myImageView release];
} 
```

我怎么才能得到它 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T07:01:19.837

在课堂上做一个函数

```
-(uiimage*)getImage{ return _urImage; } 
```

或者你可以 **在 class2中使用**

```
 @property (nonatomic,retain) myImg;
    @synthesis myImg 
```

并且可以通过首先在 2ndVC 中创建其对象然后 **在 class1 中设置其属性来设置图像**

```
NSData *data = [NSData dataFromBase64String:yBase64String];        
          _image = [UIImage imageWithData: data];
2ndVCObj.myImg = _image;
//call [2ndVC viewDidload]; again 
```

就像在你的代码中一样 -

```
FirstView.m
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
          NSData *data = [NSData dataFromBase64String:yBase64String];        
          UIImage* image = [UIImage imageWithData: data];

          UIImageView *myImageView = [[UIImageView alloc] initWithFrame:CGRectMake(0,10,90,150)];              
          myImageView.tag = 120;
          myImageView.image = _image;
          [cell addSubview:myImageView];
          [myImageView release];
          return cell;    

}
- (void) tableView:(UITableView *)tableView accessoryButtonTappedForRowWithIndexPath:(NSIndexPath *)indexPath
{
  SecondView *scnd = [[SecondView alloc] initWithNibName:@"SecondView" bundle:nil];
  UIImage *_image=(UIImage *)[cell viewWithTag:120];
  scnd.provImage= _image;
// check image should not be null
// insert here
[scnd viewDidLoad];
//call [2ndVC viewDidload]; again
  [self presentModalViewController: scnd animated:NO];
}

SecondView.m
-(void)viewDidLoad
{
    [super viewDidLoad];
    UIImageView *myImageView  = [[UIImageView alloc] initWithFrame:CGRectMake(2,25,90,80)]; //getting error at this line 
    myImageView.image= self.provImage;
    [self.view addSubview: myImageView];
    [ myImageView release];
} 
```

它会起作用的。另请参阅您可以为全局图像创建一个数组并相应地设置 img。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:08:15.317

这一行是错误的：

```
UIImage *image=(UIImage *)[cell viewWithTag:120]; 
```

`viewWithTag:`将返回一个视图，在本例中为 a `UIImageView`，您将其视为 a `UIImage`。

您需要`UIImage`从`UIImageView`. 你可以这样做：

```
UIImageView *imageView = (UIImageView *)[cell viewWithTag:120];
UIImage *image = imageView.image; 
```

或者像这样的一行：

```
UIImage *image = [(UIImageView *)[cell viewWithTag:120] image]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T07:11:01.527

首先尝试学习更好/标准的命名约定。`accessoryButtonTappedForRowWithIndexPath`其次，当您将 a 分配给 a`UIImageView`时，崩溃很明显`UIImage`。

更正您`accessoryButtonTappedForRowWithIndexPath`的如下

```
- (void) tableView:(UITableView *)tableView accessoryButtonTappedForRowWithIndexPath:(NSIndexPath *)indexPath
{
  UITableViewCell *cell=[tableView cellForRowAtIndexPath:indexPath];
  SecondView *scnd = [[SecondView alloc] initWithNibName:@"SecondView" bundle:nil];
  UIImageView *imageView=(UIImageView *)[cell viewWithTag:120];
  scnd.provImage=imageView.image;

  [self presentModalViewController: scnd animated:NO];
} 
```

# java - Java WebStart deployJava.runApplet 不断重新加载

> ID：13640394
> 
> 赞同：1
> 
> 时间：2012-11-30T06:54:05.767
> 
> 标签：java, applet, java-web-start

当客户端 PC 没有安装 Java 时，下面的代码会导致 Java 安装页面。

我取消了安装，并重新连接到下面的 html。

现在它递归调用html页面并出现Java安装弹出窗口。

任何人都只能尝试使用以下代码。

是 deployJava.js 的 bug 吗？

```
<html>
<head>
<script src="http://www.java.com/js/deployJava.js"></script>

<script type="text/javascript">
    var attributes = { code:'java2d.Java2DemoApplet',  width:710, height:540} ; 
    var parameters = {jnlp_href: 'download/_local_pkitoolkit.jnlp'} ; 
    deployJava.runApplet(attributes, parameters, '1.7'); 

</script>   
</head>
<body bgcolor="#B4B4B4">
</body>
</html> 
```

# perl - 如何忽略异常并继续脚本运行

> ID：13640401
> 
> 赞同：1
> 
> 时间：2012-11-30T06:54:58.347
> 
> 标签：perl

我正在运行一个 Vmware 脚本，它运行到一半，然后失败并出现以下错误并退出：

`Can't use an undefined value as an ARRAY reference at test.pl line 49`.

这是在具有约 4000 个虚拟机的 vCetner 清单上运行的。所以我希望脚本忽略这样的错误并继续运行直到它完成。目前脚本在上述错误后退出而没有任何输出。

这是我的代码，它给了我上述错误。我只粘贴了引起错误的几行：

```
foreach my $vm_mo_ref ( @{ $host_view->vm } )
{
        print $vm_mo_ref."\n";
} 
```

这是我为忽略错误所做的：

```
foreach my $vm_mo_ref ( @{ $host_view->vm } )
{
    if (defined $vm_mo_ref)
    {   
            print $vm_mo_ref."\n";
    }
} 
```

和

```
foreach my $vm_mo_ref ( @{ $host_view->vm } )
{
    if (exists $vm_mo_ref)
    {   
            print $vm_mo_ref."\n";
    }
} 
```

和

```
foreach my $vm_mo_ref ( @{ $host_view->vm } )
{
    if ($vm_mo_ref)
    {   
            print $vm_mo_ref."\n";
    }
} 
```

和

```
foreach my $vm_mo_ref ( @{ $host_view->vm } )
{
    if (ref($vm_mo_ref) eq "ARRAY")
    {   
            print $vm_mo_ref."\n";
    }
} 
```

和

```
foreach my $vm_mo_ref ( @{ $host_view->vm } )
{
    if (ref($vm_mo_ref) eq "ManagedObjectReference")
    {   
            print $vm_mo_ref."\n";
    }
} 
```

但是，以上五种具有“if”条件的方法都不起作用，我的脚本仍然失败/退出并出现上述错误。

顺便说一句，`ManagedObjectReference`是 Vmware 特定的参考。

你能帮我解决这个错误并继续脚本的其余部分。谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-30T07:00:13.990

尝试

```
foreach my $vm_mo_ref ( @{ $host_view->vm || [] } ) 
```

您在循环中所做的任何更改都不会产生任何影响，因为您的代码甚至在进入循环之前就引发了异常。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-30T09:44:09.140

它`@{ }`抛出了错误，所以你的检查来得太晚了。这就是您尽早进行检查的方式：

```
if (my $vm = $host_view->vm)
{
    foreach my $vm_mo_ref (@$vm)
    {
        print $vm_mo_ref."\n";
    }
} 
```

另一种方法是按需创建数组。这有点浪费，但它使代码清晰。

```
foreach my $vm_mo_ref (@{ $host_view->vm // [] })
{
    print $vm_mo_ref."\n";
} 
```

# android - 提示参与用户对您的应用进行评分的 Android AIR 代码

> ID：13640402
> 
> 赞同：0
> 
> 时间：2012-11-30T06:55:07.560
> 
> 标签：android, flash, air, rating

如何提示参与的用户在 android AIR 中对您的应用进行评分。我在 google play 中有两个游戏。他们的下载量增长迅速，但收视率太低。

因此，我认为“提示参与的用户对您的应用进行评分”是一个好主意。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-02T15:18:47.617

是的，有一种使用 AS3 的简单方法可以做到这一点 - 请参见下面的链接：

[http://blog.flexwiz.net/tip-rate-my-app-air-style/](http://blog.flexwiz.net/tip-rate-my-app-air-style/)

# django - Tastypie 返回字符串表示，而不是用于反向外键查找的有效数组

> ID：13640412
> 
> 赞同：2
> 
> 时间：2012-11-30T06:55:57.273
> 
> 标签：django, rest, tastypie

**更新：LocationResource 中的脱水是否应归咎于？**

我有一种常见的情况，即通过外键进行反向查找返回的是数组的嵌套**字符串表示**，而不是数组本身。`[I discovered this while using tastypie with backbone.js and backbone.marionette.][1]`

**奇怪的是，即使从 fields.ForeignKey 资源返回的嵌套数组，在进行“正向”或正常查找时也不会发生这种情况**

*例如：*

**正向查找：**

```
[{"adult_price": "123", "child_price": "123", "currency": [{"abbrev": "USD", ... }] } ]
//--> notice that "currency" simply returns an array, without " " 
```

反向查找 - 通过外键“向后”

```
[{"id": "1", "name": "Venice", "resource_uri": "/api/v1/location/1/", 
"theTours": "[{'subtitle': ... ... }]" } ]
//--> notice that there is a set of quotes " " outside the array for "theTours".
//--> a string representation of the array 
```

以下是资源的设置，然后是模型。

**美味资源**

```
class LocationResource(ModelResource):

    class Meta:
        queryset = Location.objects.all()
        resource_name = 'location'

    def dehydrate(self, bundle):
        bundle.data['theTours'] = Tours.objects.filter(location__name=bundle.obj.name).values()
        return bundle
        filtering = {
            'name' : ALL_WITH_RELATIONS,
        }

    def override_urls(self):
        return [
            url(r"^(?i)(?P<resource_name>%s)/(?P<name>[\w\d_.-]+)/$" % self._meta.resource_name, self.wrap_view('dispatch_detail'), name="api_dispatch_detail"),
        ]   

class CurrencyResource(ModelResource):

    class Meta:
        queryset = Currency.objects.all()
        resource_name = 'currency'          
        filtering = {
            'name' : ALL,
            'abbrev' : ALL,
        }               

class ToursResource(ModelResource):
    day = fields.ToManyField(DayOfWeekResource, 'day', full=True)
    location = fields.ForeignKey(LocationResource, 'location', full=True, related_name="theLocs")
    currency = fields.ToManyField(CurrencyResource, 'currency', full=True)

    class Meta:
        queryset = Tours.objects.all()
        resource_name = 'tours'
        limit = 100
        filtering = {
            'day' : ALL_WITH_RELATIONS,
            'location' : ALL_WITH_RELATIONS,
            'currency' : ALL_WITH_RELATIONS,
        }

    def override_urls(self):
        return [
            url(r"^(?i)(?P<resource_name>%s)/day/(?P<day__day_of_week>[\w\d_.-]+)/$" % self._meta.resource_name, self.wrap_view('dispatch_detail'), name="api_dispatch_detail"),
            url(r"^(?i)(?P<resource_name>%s)/location/(?P<location__name>[\w\d_.-]+)/$" % self._meta.resource_name, self.wrap_view('dispatch_list'), name="api_dispatch_list"),
        ] 
```

**DJ 模型**

```
class Tours(models.Model):

    location = models.ForeignKey('app.Location', related_name="theTours")
    name = models.CharField(max_length=500)
    currency = models.ManyToManyField('app.Currency')

    class Meta:
        verbose_name_plural = "Tours"   

    def __unicode__(self):
        return self.name

class Location(models.Model):

    name = models.CharField(max_length=50, unique=True)

    def __unicode__(self):
        return self.name

class Currency(models.Model):

    abbrev = models.CharField(max_length=5, unique=True)
    name = models.CharField(max_length=50, unique=True)
    symbol = models.CharField(max_length=5)

    class Meta:
        verbose_name_plural = "Currencies"  

    def __unicode__(self):
        return self.name 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T07:36:03.727

根据您的模型：

```
class Tours(models.Model):

    location = models.ForeignKey('app.Location', related_name="theTours")
    ....
    ....

class Location(models.Model):

    .... 
```

您想使用反向关系，例如：`Location.theTours.all()`，因此您需要将其添加到`LocationResource`：

```
theTours = fields.ToManyField(ToursResource, 'theTours', full = True) 
```

第一个`theTours`可以是你想要的任何东西，第二个应该与`related_name`.

没必要`dehydrate`。

最后结果 ：

```
class LocationResource(ModelResource):

    theTours = fields.ToManyField(ToursResource, 'theTours', full = True)

    class Meta:
        queryset = Location.objects.all()
        resource_name = 'location'

    def override_urls(self):
        return [
            url(r"^(?i)(?P<resource_name>%s)/(?P<name>[\w\d_.-]+)/$" % self._meta.resource_name, self.wrap_view('dispatch_detail'), name="api_dispatch_detail"),
        ] 
```

# php - PHP中的RNCryptor AES256加解密

> ID：13640415
> 
> 赞同：1
> 
> 时间：2012-11-30T06:56:02.397
> 
> 标签：php, objective-c, encryption, aes, rncryptor

我正在尝试使用[RNCryptor](https://github.com/rnapier/RNCryptor)在 iOS 端进行 AES256 加密，并在 PHP 的远程站点进行 AES256 解密。但我无法使用 php 获得正确的解密数据。如果我做错了什么，请帮助检查。

下面是我的 iOS 代码。

```
 NSString *key = @"1234567890123456789012";
 NSData *encryptedData = [RNEncryptor encryptData:data
                                    withSettings:kRNCryptorAES256Settings
                                        password:key
                                           error:&error]; 
```

然后我将 encryptedData 发布到 PHP 中的服务器。下面是我的 PHP 代码。

```
$key ="1234567890123456789012"  //32-bit key
$username = aes256Decrypt ($key, $username);

function aes256Decrypt($key, $data) {
    if(32 !== strlen($key)) $key = hash('SHA256', $key, true);
    $data = mcrypt_decrypt(MCRYPT_RIJNDAEL_128, $key, $data, MCRYPT_MODE_CBC, 
                str_repeat("\0", 16));
    $padding = ord($data[strlen($data) - 1]);
    $result = substr($data, 0, -$padding);
    return substr($data, 0, -$padding);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T08:34:20.563

根据一些快速研究，RNCryptor 似乎有自己的[输出格式](https://github.com/rnapier/RNCryptor/wiki/Data-Format)。下面显示了一个示例（取自我链接的页面）：

```
DESCRIPTION: | version/cryptor | options | encryptionSalt | HMACSalt |  IV   | ... ciphertext ... |   HMAC   |
 BYTE INDEX: |        0        |    1    |      2-9       |  10-17   | 18-33 | <-      ...     -> | n-32 - n | 
```

在尝试解密之前，您的 PHP 代码将不得不从这种格式中提取数据。您将需要 IV 值和密文才能检索原始明文。

或者，切换到不发明自己的数据格式的 iOS 的不同加密方法。

# html - 为什么在css中设置高度属性时列表重叠？

> ID：13640417
> 
> 赞同：0
> 
> 时间：2012-11-30T06:56:15.770
> 
> 标签：html, css, xhtml

```
<html>

<head>

<style type="text/css">

   ul{
      list-style:none;
      padding:0;
      margin:0;

   }

   li{
      float: left; 
      border: dotted 1px;
      line-height: 30px; 
      color:green;
      width: 100px;

      }
    ul li ul li{
    color:violet;
    width: 150px;

    }

</style> 
</head>
<body> 
<ul id="wow">
   <li>example 1</li>
   <li>example 2
      <ul><li>example1</li>
      <li>example1</li><li>
      example1</li></ul>
   </li>
   <li>example 3
   <ul><li>example1</li>
      <li>example2</li>
      <li>example3</li></ul>
   </li>
   <li>example 4</li>
   <li>example 5</li>
   <li>example 6</li>
   <li>example 7</li>      
</ul>   
</body>   
</html> 
```

这是我的代码。我的问题是为什么当我在 css 中为列表设置高度属性时，列表和子列表之间存在重叠？我该如何解决这个问题

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T07:08:55.027

您的 sub ul 列表是主要 li 的子项，即 y 它正好在 li 项之后开始。所以将该高度设为`line-height`。

```
 li{
      float: left; 
      border: dotted 1px;
      line-height: 30px; color:green
      }
    ul li ul li{color:violet /*write declaration for sub menu here*/}​ 
```

**[演示](http://jsfiddle.net/UEMxg/4/)**

* * *

希望这可以帮助。将鼠标悬停在菜单项上以查看子菜单。

**[演示 2](http://jsfiddle.net/UEMxg/6/)**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:07:53.943

您的代码的问题是子项必须相对于其父项定位。要构建导航栏，请尝试以下操作：

```
 ul{
      list-style:none;
      padding:0;
      margin:0;          
   }

   li{
      float: left; 
      border: dotted 1px;
      height: 30px;
      position:relative;
   }

   ul li ul{
        position:absolute;
        top:100%;
   } 
```

检查这个[演示](http://jsfiddle.net/FPchT/)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T07:25:33.840

检查这个：

```
li /* list and sub list */
{
  float: left; 
  border: dotted 1px;
  line-height: 30px; /* Instead of Height property */
}

ul>li>ul>li /* sub list */
{
   float: left; 
   border: dotted 1px;
   line-height:25px; /* give smaller height as you want */
} 
```

要了解有关 CSS 选择器的更多信息，请访问此**[链接](http://reference.sitepoint.com/css/selectorref)**。

# javascript - math - 在 Javascript 中旋转后获取图像尺寸

> ID：13640422
> 
> 赞同：2
> 
> 时间：2012-11-30T06:56:34.837
> 
> 标签：javascript, math

这都是关于数学的。很遗憾我忘记了我在学校学到的那些。

好的，我正在尝试在 Javascript 中以一定角度旋转（使用画布）后获取图像尺寸。

![在此处输入图像描述](../Images/d640632846e930cd980fd2af4e649acf.png)

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-11-30T07:48:07.867

由于我在这里没有除 MSPaint 以外的任何工具，因此我将重新使用您的图像：

![在此处输入图像描述](../Images/043a4def367534645c9dcd222bcabd94.png)

假设您的原始矩形大小为 R(ectangle)W(idth) * RH(eight)，

在这种情况下`RW=200`，`RH=80`;

逆时针旋转一定角度A后，

`0deg <= A <= 90deg`以度（或`0 <= A <= Math.PI/2`弧度）为单位，

在这种情况下，`A=30deg`或`A=Math.PI/6`

在新的“外”矩形中，每条边被分成两部分（为了描述方便；对应图像）。

在左侧，假设上部（**紫色**）称为 N(ew)H(eight)U(p)，下部（**红色**）称为 NHL(ow)；

底部的规则相同，我们有 NW(idth)L(eft) ( **blue** ) 和 NWR(ight) ( **orange** )。

所以新矩形的大小（面积）为`(NHU + NHL) * (NWL + NWR)`

根据 和 的`sin`定义`cos`：

```
NWL = RW * Math.cos(A); //where A is in radians
NHL = RW * Math.sin(A);

NHU = RH * Math.cos(A);
NWR = RH * Math.sin(A); 
```

（如果您使用`A`度数，请替换`A`为`Math.PI*A/180`）。

所以新的“外部”宽度是`NWL + NWR`，新的“外部”高度是`NHU + NHL`，现在你可以计算一切了。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2019-09-03T21:07:15.917

这是一个实现@Passerby 的解决方案 + 其他一些保护措施的插入式函数：

```
function imageSizeAfterRotation(size, degrees) {
    degrees = degrees % 180;
    if (degrees < 0) {
        degrees = 180 + degrees;
    }
    if (degrees >= 90) {
        size = [ size[1], size[0] ];
        degrees = degrees - 90;
    }
    if (degrees === 0) {
        return size;
    }
    const radians = degrees * Math.PI / 180;
    const width = (size[0] * Math.cos(radians)) + (size[1] * Math.sin(radians));
    const height = (size[0] * Math.sin(radians)) + (size[1] * Math.cos(radians));
    return [ width, height ];
}

// USAGE:
imageSizeAfterRotation([ 200, 80 ], 30) // [ 213.20508075688775, 169.28203230275508 ] 
```

# javascript - 如何比较用户在javascript中给出的日期到日期..？

> ID：13640423
> 
> 赞同：0
> 
> 时间：2012-11-30T06:56:35.620
> 
> 标签：javascript

在我的网站中，我从用户那里获得了一个日期，格式为“dd-mm-yyyy”，现在我想获得该用户日期前 7 天的日期。我能够以“dd-mm-yyyy”格式获取当前日期，但我怎么知道javascript中用户日期前一周的日期？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T06:59:29.817

如果您已经有一个`Date`对象，请使用`yourDate.setDate(yourDate.getDate() - 7 );`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:00:07.000

为什么不使用 datejs，它是我见过的最好的与日期相关的 js 库。在此处查看文档。 [http://code.google.com/p/datejs/wiki/APIDocumentation](http://code.google.com/p/datejs/wiki/APIDocumentation)

搜索添加方法

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T07:02:27.860

**试试这个 -**

```
 var MyDate = new Date('11/30/2012');  //date format in mm/dd/yyyy
 MyDate.setDate(MyDate.getDate() -7)
 var newDate = MyDate.getMonth()+1 + '/' + MyDate.getDate() + '/' +    MyDate.getFullYear()
 alert(newDate); 
```

注意 - 将日期减去 7 天会使月份或年份发生变化，并且更改由 Date 对象自动处理。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-30T07:03:53.707

设定日期

我们可以通过使用可用于 Date 对象的方法轻松地操作日期。

在下面的示例中，我们将 Date 对象设置为特定日期（2010 年 1 月 14 日）：

```
var myDate=new Date();

myDate.setFullYear(2010,0,14); 
```

在以下示例中，我们将 Date 对象设置为过去 7 天：

```
var myDate=new Date(); //or users date 
```

// myDate 将是用户当前日期

```
myDate.setDate(myDate.getDate()-7); 
```

//现在减去 7 天得到你想要的日期。

按照以下链接

[http://www.w3schools.com/js/js_obj_date.asp](http://www.w3schools.com/js/js_obj_date.asp)

或者按照这个

[http://www.techrepublic.com/article/manipulate-time-and-date-values-with-javascripts-date-object/6076869](http://www.techrepublic.com/article/manipulate-time-and-date-values-with-javascripts-date-object/6076869)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-11-30T07:05:10.960

您可以使用 dd-mm-yyyy 格式将日期字符串转换为日期对象：

```
function toDate(d) {
    d = d.split('-');
    return new Date(d[2], --d[1], d[0]);
} 
```

然后使用 Osiris 的答案来增加或减少 7 天。

# excel - 在 Excel 中将 A 列中的所有 @mentions 和 #hashtags 复制到 B 列和 C 列

> ID：13640425
> 
> 赞同：2
> 
> 时间：2012-11-30T06:56:54.790
> 
> 标签：excel, twitter, extract, vba

我有一个非常大的推文数据库。大多数推文都有多个#hashtags 和@mentions。我希望所有#hashtags 在一列中用空格分隔，而所有@mentions 在另一列中。我已经知道如何提取 a`#hashtag`和 a的第一次出现`@mention`。但我不知道要全部拿到吗？一些推文有多达 8 个#hashtags。手动浏览推文并复制/粘贴#hashtags 和@mentions 对于超过 5,000 条推文来说似乎是一项不可能完成的任务。

这是我想要的一个例子。我有 A 列，我想要一个可以填充 B 列和 C 列的宏。（我在 Windows 和 Excel 2010 上）

```
Column A
-----------
Dear #DavidStern, @spurs put a quality team on the floor and should have beat the @heat. Leave #Pop alone. #Spurs a classy organization.
Live broadcast from @Nacho_xtreme: "Papelucho Radio"http://mixlr.com nachoxtreme-radio … #mixlr #pop #dance
"Since You Left" by @EmilNow now playing on KGUP 106.5FM. Listen now on http://www.kgup1065.com  #Pop #Rock
Family Night #battleofthegenerations Dad has the #Monkeys Mom has #DonnieOsman @michaelbuble for me #Dubstep for the boys#Pop for sissy
@McKinzeepowell @m0ore21 I love that the PNW and the Midwest are on the same page!! #Pop 
```

我希望 B 列看起来像这样：

```
Column B
--------
#DavidStern #Pop #Spurs
#mixlr #pop #dance
#Pop #Rock
#battleofthegenerations #Monkeys #DonnieOsman #Dubstep #Pop
#pop 
```

C 列看起来像这样：

```
Column C:
----------
@spurs @heat
@Nacho_xtreme
@EmilNow
@michaelbuble
@McKinzeepowell @m0ore21 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T08:01:16.733

考虑使用正则表达式。

`Microsoft VBScript Regular Expressions 5.5`您可以通过添加对from的引用在 VBA 中使用正则表达式`Tools -> References`。

[这](https://stackoverflow.com/questions/361248/regular-expressions-in-vbscript)是一个很好的起点，有许多有用的链接。

* * *

**更新**

添加对库的引用后`Regular Expressions`，将以下函数放入 VBA 模块中：

```
Public Function JoinMatches(text As String, start As String)
Dim re As New RegExp, matches As MatchCollection, match As match
re.pattern = start & "\w*"
re.Global = True
Set matches = re.Execute(text)
For Each match In matches
    JoinMatches = JoinMatches & " " & match.Value
Next
JoinMatches = Mid(JoinMatches, 2)
End Function 
```

然后，在单元格`B1`中输入以下公式（用于主题标签）：

```
=JoinMatches(A1,"#") 
```

在列`C1`中输入以下公式：

```
=JoinMatches(A1,"@") 
```

现在您可以一直复制公式。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T08:19:06.833

如果您不熟悉正则表达式，请参阅 (@Zev-Spitz)

# overlay - 在 vc++ 中的实时视频上连续叠加五次图像

> ID：13640426
> 
> 赞同：1
> 
> 时间：2012-11-30T06:56:55.707
> 
> 标签：overlay

我正在尝试在实时视频上叠加图像。我使用 alpha 混合方法在视频上叠加图像。在叠加图像时，它会叠加五次，而不是预期的一次。

帧数据和图像数据都作为 BYTE* 进行叠加显示。

使用的图像是位图图像。

视频和图像的数据 (BYTE*) 被叠加，结果被存储回视频变量中，并在 vc++ 的图片控件上绘制。

视频分辨率为 640x480。我覆盖的图像是 128x128。

使用的IDE是Visual Studio Professional。代码使用C++开发。

如何将位图图像叠加为实时视频上特定位置的单个图像。

# c++ - 在运算符重载的情况下处理悬空指针/引用

> ID：13640429
> 
> 赞同：0
> 
> 时间：2012-11-30T06:57:09.157
> 
> 标签：c++

在运算符重载期间始终编写我们自己的复制构造函数是否安全？

```
Complex Complex::operator+(const Complex&  other)
{
    Complex local ;
    local.result_real = real + other.real;
    local.result_imaginary = imag + other.imag;
    return local ;
} 
```

大多数时候我都看到了上述格式，而不是将其作为参考返回。

我们可以采用拇指规则，例如 1- 始终通过引用传递函数参数。2-始终通过引用返回对象。

在运算符重载中是否有任何特殊情况，我们必须仅按值返回对象？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:04:36.980

> 我们可以采用拇指规则，例如 1- 始终通过引用传递函数参数。2-始终通过引用返回对象。

不，不是。即使您找到了返回非悬空引用的方法，诸如加法之类的操作也不应该返回引用，因为这没有意义。`a+b`应该返回一个新对象，而`a+=b`返回对 LHS 的引用确实有意义。

关于通过引用传递参数，也没有经验法则。考虑一下：

```
A operator+(const A& lhs, const A& rhs)
{
  A tmp = lhs; // explicitly make a copy
  return tmp += rhs;
} 
```

和这个：

```
A operator+(A lhs, const A& rhs)
{
  return lhs += rhs;
} 
```

第二个版本通过值传递一个参数，从而使代码更简单，并使编译器有更多机会省略临时副本。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:01:13.690

对于某些运算符，您应该返回一个引用，对于其他运算符，您不应该，还有一些完全返回其他类型（如比较运算符）。

在你的情况下，你不应该。特别是因为您将返回对*局部*变量的引用，该变量在函数返回时无效。

# php - 在下载的 PHP 脚本中调用跟踪 PHP 脚本

> ID：13640433
> 
> 赞同：1
> 
> 时间：2012-11-30T06:58:11.993
> 
> 标签：php, html, analytics, tracking, execute

所以我正在尝试开发一个供个人使用的网站，到目前为止，我已经有了一个 Google Analytic 帐户和一些基本的基础设施。我想要一个下载功能，我有一个脚本，我设法从这个网站上的另一个问题获得，但是我似乎找不到在下载脚本中调用 tracking.php 的有效方法。从某种意义上说，我一直不成功，GA 将接收请求，但文件将在单独的选项卡上以随机乱码下载。

这是我目前正在使用的下载脚本：

```
 <?php
$path = $_SERVER['DOCUMENT_ROOT']."/store/files/";
$fullPath = $path.$_GET['id'];

if ($fd = fopen ($fullPath, "r")) {
    $fsize = filesize($fullPath);
    $path_parts = pathinfo($fullPath);
    $ext = strtolower($path_parts["extension"]);
    switch ($ext) {
        case "pdf":
        header("Content-type: application/pdf");
        header("Content-Disposition: attachment; filename=\"".$path_parts["basename"]."\"");
        break;
        default;
        header("Content-type: application/octet-stream");
        header("Content-Disposition: filename=\"".$path_parts["basename"]."\"");
    }
    header("Content-length: $fsize");
    header("Cache-control: private");
    while(!feof($fd)) {
        $buffer = fread($fd, 2048);
        echo $buffer;

    }

}

fclose ($fd);
exit;
?> 
```

Google Analytics 跟踪代码 (tracking.php) 位于同一目录中的另一个单独的 PHP 文件中。我曾尝试使用 exec 和 include 函数，但无济于事。

关于如何纠正这个问题的任何想法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T07:19:11.860

您可能会通过一些[事件跟踪](https://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide)来解决这个问题。

基本上，与其尝试在下载中进行跟踪，不如跟踪用户单击了下载链接：

```
<a href="toyourdownloadscript.php" onClick="_gaq.push(['_trackEvent', 'Downloads', 'Download', 'The name of your download']);">Download</a> 
```

# ios - iOS：将图像保存到应用程序文件夹并访问它

> ID：13640440
> 
> 赞同：0
> 
> 时间：2012-11-30T06:58:41.193
> 
> 标签：ios, uiimagepickercontroller, save-image

我正在尝试拍摄图像并将该图像放置到 imageView，我能够做到这一点。但我无法将其保存到设备，我希望将我的照片保存在我的应用程序文件夹中，并希望从另一个视图中访问它。

studentImage 是我的 UIImageView 元素，我可以在其中设置从相机拍摄的图像。

这是我正在使用的代码：

```
 NSString* format = @".png";
  NSString* imagename = [NSString stringWithFormat:@"%@%@",nickname,format];
  UIImage *img = [self.studentImage image];  
  NSData *pngData = UIImagePNGRepresentation(img);
  NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
  NSString *documentsPath = [paths objectAtIndex:0]; 
  NSString *filePath = [documentsPath stringByAppendingPathComponent:imagename]; 
  [pngData writeToFile:filePath atomically:YES]; 
```

此语句返回 null : [pngData writeToFile:filePath atomically:YES];

如果有人能告诉我如何从另一个视图访问该图像，那就太好了。

# asp.net-mvc-3 - 这个 Telerik 网格查询有什么问题

> ID：13640444
> 
> 赞同：-1
> 
> 时间：2012-11-30T06:58:59.217
> 
> 标签：asp.net-mvc-3, telerik-grid, telerik-mvc

我有一个 Telerik 网格查询。具有删除操作的网格在 FF 和 Crome 中运行良好。但是在 IE 中显示错误 500。我在操作方法的起点设置了断点。但它根本没有达到行动。请告诉我这个查询有什么问题。

**询问**

```
 @(Html.Telerik().Grid<Vibrant.Areas.ItemControl.Models.ViewModel>()
                                    .Name("Temp").ClientEvents(e => e.OnLoad("SetFilterPosition").OnDataBinding("Grid_onDataBinding").OnRowDataBound("RowBound").OnDataBound("onDataBound"))
                                                                                                                                    .DataKeys(d => { d.Add(a => a.Itemid).RouteKey("Id"); d.Add(a => a.CurrItemNo).RouteKey("ItemNo"); d.Add(a => a.CurrStatus).RouteKey("Status"); d.Add(a => a.CurrLocation).RouteKey("Location"); d.Add(a => a.CurrStart).RouteKey("Start"); d.Add(a => a.CurrEnd).RouteKey("End"); d.Add(a => a.Option).RouteKey("Option"); })
                                                                                                                    .ToolBar(commands => commands.Position(GridToolBarPosition.Bottom)
                        .Custom().ButtonType(GridButtonType.Text)
                            .HtmlAttributes(new { id = "export" })
                            .Text("Export to Excel")
                                                    .Action("ExportExcel", "WeedItem", new { page = 1, orderBy = "~", filter = "~" }))
    .Columns(columns =>
    {
        columns.Bound(o => o.INo).Title("Item No");
        columns.Bound(o => o.BTags).Title("Title");
        columns.Bound(o => o.Sid).Title("Status");
        //columns.Bound(o => o.Option).Title("Record Status");
        columns.Command(commands =>
        {
            commands.Delete();

        }).Width(80).Title("Action");
    })

                      .Pageable(paging =>
                    paging.PageSize(10)
                              .Style(GridPagerStyles.NextPreviousAndDropDown | GridPagerStyles.Numeric)
                                  .Position(GridPagerPosition.Bottom)
                )
            .DataBinding(dataBinding => dataBinding
                                        .Ajax().Select("post", "WeedItem").Delete("DeleteTempData", "WeedItem"))
   .Sortable()
   .Filterable()
   .Groupable()
    ) 
```

**控制器**

```
 [GridAction]
    public ActionResult DeleteTempData(int Id)
    {
       var model = ......
                   ...... ;
       return View(new GridModel(model));
    } 
```

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T09:48:36.290

视图在您的操作方法结束时返回。如果您无法在操作方法开始时达到调试点，则问题不在您的视图（或网格）中。500 是内部服务器错误，我会仔细检查您尝试导航到的 URL 并在您的 web.config 中关闭自定义错误。

```
<configuration>
    <system.web>
        <customErrors mode="Off"/>
        ...
    </system.web>
    ...
</configuration> 
```

# javascript - 获取动态创建元素的高度

> ID：13640445
> 
> 赞同：0
> 
> 时间：2012-11-30T06:59:06.033
> 
> 标签：javascript, jquery

我动态创建了一个 div 并尝试获取它的高度。我没有给它分配固定的高度。但是它的内容被分配了一个固定的高度。所以我试图得到它的渲染高度。

```
$(function(){
    $services = $(<div id="services"></div>);
    $img  = $(<img src="abc.jpg" height="100px" width="100px">);
    $a = $("<a href="home.php">Go to home</a>");
    $services.append($img,$a);
});

$(function(){
    var height = $("#services").height();
}); 
```

我得到的高度值为0。

所以我不能渲染高度`div#services`。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-30T07:03:13.567

您需要在测量之前将元素添加到 DOM：

```
$('body').append($services);
var height = $("#services").height(); // works now 
```

如果在使其可见之前需要它的高度，一个常见的技巧是将其添加到 DOM *hidden*中，测量它，然后使其可见。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T08:13:21.520

您应该首先将这些 Dom 元素显示到页面！

在您的情况下， $services 不会显示在页面上，因此结果 $("#services") 将一无所获。

尝试这样做：

```
$(function(){
    $services = $(<div id="services"></div>);
    $img  = $(<img src="abc.jpg" height="100px" width="100px">);
    $a = $("<a href="home.php">Go to home</a>");
    $services.append($img,$a);

    //here
    $("body").append($services);
}); 
```

它会起作用的。

# java - Android中的线程等待

> ID：13640447
> 
> 赞同：0
> 
> 时间：2012-11-30T06:59:10.120
> 
> 标签：java, android, multithreading, thread-safety, android-asynctask

我在处理 android 中的线程时遇到了一个问题，在我的类中我必须创建一个线程，在该线程完成后创建一些 UI 我将获得一些价值，在这里我想等待我的主进程直到线程完成它处理但是当我在主进程线程中放置了 wait() 或 notify，在我的应用程序中没有显示 UI

这是示例代码

```
 protected void onCreate(Bundle savedInstanceState) {

         downloadThread = new MyThread(this);
            downloadThread.start();

            synchronized(this){  
                try {
                    this.wait();
                } catch (InterruptedException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                }
            }

 String test=Recognition.gettemp();
    public class MyThread extends Thread {
        private Recognition recognition;

        public MyThread(Recognition recognition) {
            this.recognition = recognition;
            // TODO Auto-generated constructor stub
        }

        @Override
        public void run() {
    synchronized(this)

            {                

                        handler.post(new MyRunnable());

                }

                notifyAll();
            }
        }
    }
    static public class MyRunnable implements Runnable {
        public void run() {
                settemp(template);
            }

        }
    }

    public static String gettemp() {
        return template;
    }
    public static void settemp(String template) {
        Recognition.template = template;
    }

} 
```

在这里我不会使用 AsynTask，因为我还有其他一些问题，这就是我选择 Thread 的原因，即使现在问题是 Thread 等待，请对此提出建议

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:02:02.943

**-**使用`java.util.CountDownLatch`, 在这里你可以让一些过程在启动其他代码之前完成。

**-** `countDown()`并且`await()`会对你有用.......

**看这个 CountDownLatch 的例子：**

[http://www.javamex.com/tutorials/threads/CountDownLatch.shtml](http://www.javamex.com/tutorials/threads/CountDownLatch.shtml)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:09:56.567

使用以下逻辑：-

```
new Thread(new Runnable() 
{
    @Override
    public void run() 
    {
        //do the code here such as sending request to server
        runOnUiThread(new Runnable() 
        {
            @Override
            public void run() 
            {
                //do here the code which interact with UI
            }
        });
    }
}).start(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T07:10:52.993

如果您冻结主 UI 线程，您期望会发生什么？

您应该使用 ASyncTask 在 onPreExecute 方法中显示您的 gui，在 doInBackground 中执行任务，然后在 onPostExecute 方法中显示结果。

另外，您也可以使用 onProgressUpdate 更新进度。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-30T07:40:43.927

这不是一个解决方案，只是关于如何构建活动/应用程序的建议。

您永远不应该通过调用`wait()`其糟糕的用户体验来阻止主线程并且不建议这样做。它还会出现 Android 无响应 (ANR) 弹出窗口。

您可以让您从后台线程更新 UI 并让 UI 响应。加载 UI 的静态部分，`onCreate()`然后启动后台线程以延迟加载组件的其余部分。

# javascript - 客户端会以某种方式影响我的 Javascript 代码的工作吗？

> ID：13640454
> 
> 赞同：0
> 
> 时间：2012-11-30T06:59:33.343
> 
> 标签：javascript, security

我的意思是，有一些开发人员/其他工具可以更改 Javascript 环境中的变量等等。考虑我有一个 AJAX 请求。例如，用户是否可以操纵我通过 AJAX 请求发送的变量，以便他们看到他们不习惯看到的东西？或者，例如，操纵 value`<select>`使其成为其他的，而不是给定的选项。我希望你明白我的意思。

但是在这种情况下如何实现 AJAX 呢？客户可以创建自己的请求吗？因此，如果请求不应该是这样，只需发回错误？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T07:01:37.987

> 我使用 AJAX 请求发送，以便他们看到他们不习惯看到的东西？

**是的！**

您不能依靠客户端脚本来确保安全！

查看：

*   [提琴手](http://www.fiddler2.com/fiddler2/)
*   [萤火虫](http://getfirebug.com/)

* * *

**编辑后：**

> 客户可以创建自己的请求吗？

是的。

> 因此，如果请求不应该是这样，只需发回错误？

是的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:03:17.223

这不是“你的”Javascript 代码。这是您发送给客户的一堆字符，希望它会用它做一些有用的事情。

默认情况下，Javascript 不“工作”。发生的一切都是因为客户做到了。所以是的，客户端会影响有关您的 Javascript 代码工作的*一切。*

# android - Google IO 2010 休息结构

> ID：13640459
> 
> 赞同：0
> 
> 时间：2012-11-30T06:59:48.327
> 
> 标签：android

我正在寻找实现 Google IO Rest Structure A 部分 - 使用服务 API。所以我已经确定了结构的以下部分。

1.  提供rest方法的接口。
2.  实现上述接口的处理器类。会有很多处理器类。每个处理器类将返回一个模型类类型。
3.  处理单个处理器的服务提供商。从处理器返回的数据由服务提供者处理。这将调用处理器函数，并获取返回的数据。
4.  作为服务类的 SerivceProcessor。应用程序中将只有一个类。这将根据传递给它的 Bundle 数据与各种 SericeProvides 进行通信。
5.  在 Activity 和 Service 之间提供高级集成的服务助手

现在我不清楚这里。该服务具有已请求的数据。如何进一步进行。我如何将数据从服务传递回 ServicHelper。将其放入带有标签 BUNDLE_EXTRA 的 Bundle 中？为此，我的 pojo 必须是 Serializable 或 Parceable。我知道 Serializable 在 Android 平台上是一个非常糟糕的选择。他们还有哪些其他选择。我会使用广播意图吗？

感谢您在这里的任何帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T07:29:24.317

你可以做几件事。

*   通过意图通知服务助手（让它实现广播接收器）。这可能是一个坏主意，因为通过一次休息调用，您可以获得很多行。在这种情况下，您应该实现某种工具来将您的 pojo 放入您要发回的意图中（如 fillIntent/getFromIntent 方法）

*   在服务提供者内部，将结果数据存储在某处（sqllite、contentprovider、文件），然后抛出一个仅包含 requestId 和调用结果的广播意图。服务助手拦截广播并通知任何感兴趣的活动请求已完成。活动据此更新用户界面。在这种情况下，servicehelper 仅用于跟踪正在进行的请求/通知结果。

在我看来，这种方法更好，因为您将 ui 和模型分开，并且您不要求 Activity 存储数据，而且它更“面向休息”。

另外：前段时间我尝试实现这种方法。它尚未完成，但您可以在此处检查服务助手和请求/结果意图[postman lib](https://github.com/fedepaol/PostmanLib--Rings-Twice--Android)

一个更成熟和健壮的库是[robospice](https://github.com/octo-online/robospice)，如果我必须处理休息服务，我现在会使用它。

# ruby - rails 中 link_to 描述中的条件

> ID：13640460
> 
> 赞同：1
> 
> 时间：2012-11-30T07:00:03.010
> 
> 标签：ruby, ruby-on-rails-3, string, link-to

我有一个 link_to 消息

```
<%= link_to "Messages (#{Messages.count})", messages_path %> 
```

但如果计数为 0，我想删除 (0)。

如何在 link_to 中加入这个“如果条件”？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T07:07:14.310

你有几个选择，但这个应该在这种情况下工作：

```
link_to "Messages #{Messages.count > 0 ? '(%d)' : ''}" % Messages.count, messages_path 
```

对于比这更复杂的逻辑，您需要创建一个辅助方法：

```
link_to label_with_optional_counter("Messages", Messages.count), messages_path 
```

您在适当的帮助模块中定义该方法：

```
def label_with_optional_counter(label, count)
  "%s #{count > 0 ? '(%d)' : ''}" % [ label, count ]
end 
```

# c# - 反序列化 GUID 数组时出现 JSON.NET 异常

> ID：13640463
> 
> 赞同：3
> 
> 时间：2012-11-30T07:00:09.450
> 
> 标签：c#, .net, json.net, deserialization

我正在使用 JSON.NET 反序列化从浏览器发送的 AJAX HTTP 请求，并且在使用 Guid[] 作为参数的 Web 服务调用时遇到问题。当我使用内置的 .NET 序列化程序时，这工作得很好。

首先，流中的原始字节如下所示：

```
System.Text.Encoding.UTF8.GetString(rawBody);
"{\"recipeIds\":[\"d9ede305-d244-483b-a435-abcf350efdb2\"]}" 
```

然后我打电话给：

```
Newtonsoft.Json.JsonSerializer serializer = new Newtonsoft.Json.JsonSerializer();
parameters[0] = serializer.Deserialize(sr, operation.Messages[0].Body.Parts[0].Type); 
```

`.Type`是`System.Guid[]`

然后我得到异常：

```
Cannot deserialize the current JSON object (e.g. {"name":"value"}) into type 'System.Guid[]' because the type requires a JSON array (e.g. [1,2,3]) to deserialize correctly.

To fix this error either change the JSON to a JSON array (e.g. [1,2,3]) or change the deserialized type so that it is a normal .NET type (e.g. not a primitive type like integer, not a collection type like an array or List<T>) that can be deserialized from a JSON object. JsonObjectAttribute can also be added to the type to force it to deserialize from a JSON object.

Path 'recipeIds', line 1, position 13. 
```

接受单个 Guid（不是数组）的 Web 服务方法可以工作，所以我知道 JSON.NET 能够将字符串转换为 GUID，但是当您有一个要反序列化的字符串数组时，它似乎会爆炸到一组 GUID。

这是一个 JSON.NET 错误，有没有办法解决这个问题？我想我可以编写自己的自定义 Guid 集合类型，但我不想这样做。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-30T07:04:18.217

你需要一个包装类

```
string json = "{\"recipeIds\":[\"d9ede305-d244-483b-a435-abcf350efdb2\"]}";
var obj = JsonConvert.DeserializeObject<Wrapper>(json);

public class Wrapper
{
    public Guid[] recipeIds;
} 
```

**- 编辑 -**

使用 Linq

```
var obj = (JObject)JsonConvert.DeserializeObject(json);

var guids = obj["recipeIds"].Children()
            .Cast<JValue>()
            .Select(x => Guid.Parse(x.ToString()))
            .ToList(); 
```

# ios - 如何在 iOS 应用程序中以编程方式设置 wifi？

> ID：13640464
> 
> 赞同：1
> 
> 时间：2012-11-30T07:00:09.730
> 
> 标签：ios, ios5, ios6, wifi, apn

如何在 iOS 应用程序中使用我已知的帐户/密码设置已知的 wifi？

我希望用户在不让用户知道的情况下打开应用程序并设置 wifi 背景。我们可以用代码做到这一点吗？如果可以的话怎么办？

如果我们不能，是否有任何替代解决方案可以以最佳用户体验解决此问题？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T07:14:21.177

AFAIK，您无法在应用程序中设置已知的 wifi 网络。您可以做的是将密钥“UIRequiresPersistentWiFi”添加到应用程序的 plist 中。这将确保系统显示一个对话框，通知用户该应用程序对 wifi 的要求。如果我没记错的话，如果wifi被禁用，默认情况下对话框还会显示一个设置按钮，用户可以单击该按钮并重定向到“设置”应用程序。HTH。

# unit-testing - Test.Context.BeginTimer 在 vs 212 中不起作用

> ID：13640467
> 
> 赞同：2
> 
> 时间：2012-11-30T07:00:15.700
> 
> 标签：unit-testing, visual-studio-2012

我能够在 VS 2010 中执行以下代码，但在 2012 年以下代码不起作用。我在这里做错什么了吗。

```
[TestMethod]
public void UTestMethod()
{

    TestContext.BeginTimer("t1");
    Thread.Sleep(100);
    TestContext.EndTimer("t1");
} 
```

它在 BeginTimer 方法上抛出 NoSupportedException。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-03-28T17:22:08.640

根据以下微软博客，[http://blogs.msdn.com/b/geoffgr/archive/2014/08/05/adding-timers-to-coded-ui-tests-running-in-load-tests.aspx](http://blogs.msdn.com/b/geoffgr/archive/2014/08/05/adding-timers-to-coded-ui-tests-running-in-load-tests.aspx)，在单元测试中使用计时器的功能已从 Visual Stuido 2012 中删除。博客指出，当单元测试放在负载测试中时，计时器仍然有效，但独立时，单元测试将抛出 System.NotSupportedException。该博客指出，一种解决方法是在 beginTimer() 调用之前使用以下代码行：

if (TestContext.Properties.Contains("$LoadTestUserContext")) //作为负载运行 testContextInstance.BeginTimer("MyTimerName");

这种方法适用于我的 VS2012 安装，并允许我在单元测试中使用计时器并以单个用户身份运行它，而无需将其放入负载测试中。删除 VS 2012 中的功能并不是 Microsoft 的最佳决定。我发现在某些情况下，单元测试中的计时器在 VS 2013 中仍然不起作用，但有时它会在 2013 年起作用。无论如何，在 VS 2012 中，“单元测试计时器”始终被破坏，但上面的代码行提供了一种解决方法。

恕我直言，微软应该a）（首选）将计时器功能恢复到它在VS 2010中的方式或b）至少更新智能提示中的工具提示以说明计时器功能仅在负载测试中有效，并更新IDE以显示除非计时器与 $LoadTestUserContext 变量相关联，否则会出现波浪形警告，如此处所示。与行业标准工具（例如 LoadRunner 的 Vugen）相比，VS 2012 中的更改使 Visual Studio 负载测试脚本具有令人困惑和恼人的劣势。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-07T10:53:13.713

TestContext.BeginTimer 的主要用途是在负载测试中。但是我认为您是在标准单元测试中运行它。所以在这种情况下，是的，这是一个错误。

此处的解决方法是在运行测试时使用 .testsettings 文件，以允许您获得熟悉的功能。

希望有帮助

# alloy - 在完全连接的网络中随时间在 Alloy 中填充集合

> ID：13640473
> 
> 赞同：2
> 
> 时间：2012-11-30T07:00:30.293
> 
> 标签：alloy, formal-methods, model-checking

从[这个问题](https://stackoverflow.com/questions/13614740/modeling-a-completely-connected-graph-in-alloy)跟进...

我有一个完全连通的图，这很棒。我也加入了时间的概念。我现在正在为围绕我的图表传递数据的概念而苦苦挣扎。

我正在为一个系统建模，该系统的任务是确保每个节点都有一个已插入系统的数据副本。我脑子里有关于如何做到这一点的程序，但是我正在努力将其翻译成合金术语。

一个典型的算法看起来像这样：

```
For i = 0 to TIME_STEPS:
  For each node in {nodes}:
    Check all other nodes and, if necessary, provide a copy of the data 
    if they do not currently have it 
```

为简单起见，假设每个节点都有一个唯一的数据，它们必须将该数据提供给所有其他节点。由于这是完全连接的，它应该相对简单（翻译成合金/形式逻辑对我来说有点困难）。

这是我目前所在的位置：

```
open util/ordering[Time] as TO
module rdm4

----- signatures
sig Time {}

sig DataMirror {
  link: set DataMirror,
  toSend: DataMirror -> Time
}

----- facts

// model network of completely connected data mirrors
fact completely_connected {
      link = ~link          -- symmetrical
      no iden & link     -- no loops
      all n : DataMirror | (DataMirror - n) in n.link -- completely connected
}

// can't send to self
--fact no_self_send {
--  no d: DataMirror | d.toSend = d.link.toSend
--}

------ predicates
pred init [t: Time] {
  all p: DataMirror | p.toSend.t = p
}

pred show() { }
run show for exactly 5 DataMirror, 20 Time 
```

从我的运行谓词中，您可以看到我希望在 20 个时间步内发送所有消息，因此到那时每个 DataMirror 都应该有一组由 5 个唯一消息组成的数据。

我很确定我想做的是让每个 DataMirror 有 2 个属性：

*   要发送的唯一消息（此时可以只是一个简单的变量）
*   收到的消息集（包括原始消息）

当所有 DataMirror 具有相同的消息集时，系统会感到满意。

例如，如果我们有：

```
DataMirror1.starting_data = 'a'
DataMirror2.starting_data = 'b'
DataMirror3.starting_data = 'c'
DataMirror4.starting_data = 'd'
DataMirror5.starting_data = 'e' 
```

那么系统将在以下情况下完成：

```
DataMirror1.data_set = {'a', 'b', 'c', 'd', 'e'}
DataMirror2.data_set = {'a', 'b', 'c', 'd', 'e'}
DataMirror3.data_set = {'a', 'b', 'c', 'd', 'e'}
DataMirror4.data_set = {'a', 'b', 'c', 'd', 'e'}
DataMirror5.data_set = {'a', 'b', 'c', 'd', 'e'} 
```

我为让任何形式逻辑的高级用户畏缩而提前道歉......我正试图在试炼中学习这一点:)。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T16:04:58.653

你在一个非常低的层次上建模——如果你抽象的话会更清楚。

在下面的代码中，我将文档抽象为一个简单的二进制数据。每次所有节点要么有数据（开），要么没有（关）。在下一步，它将传播到图中的所有邻居（不需要完整）。

```
open util/ordering[Time]

enum Datum{Off, On} // A simple representation of the state of each node

sig Time{state:Node->one Datum}// at each time we have a network state

abstract sig Node{
neighbours:set Node
}{
all n : neighbours| this in n.@neighbours} // symmetric

fact start{// At the start exactly one node has the datum
one n:Node|first.state[n]=On}

fact simple_change{ // in one time step all neighbours of On nodes become on
all t:Time-last |
    let t_on = t.state.On |
    next[t].state.On = t_on+t_on.neighbours}

run {} for 9 Time, 4 Node 
```

# javascript - Javascript 查找素数

> ID：13640482
> 
> 赞同：0
> 
> 时间：2012-11-30T07:01:21.260
> 
> 标签：javascript

我正在编写一个小脚本来查找并打印出从 X 到 Y 的所有素数。这是我所写的：

```
var numX = prompt('Enter a number greater than 0:','');
var numY = prompt('Enter a number greater than ' + numX + ':','');

while (numX <= numY) {
    if (numX == 1 || numX == 2 || numX == 3) {
    document.write(numX + '</br>');
    } else if (numX % 2 === 0 || numX % 3 === 0 || numX % 5 === 0 || numX % 7 === 0){
    document.write();
    } else {
    document.write(numX + '</br>');
    }
    numX++;
}; 
```

现在，只要第一个数字是 1，它就可以正常工作。但是，如果第一个数字大于 1，它不会打印任何内容。我不确定这是否是这个问题的正确论坛（也许是数学论坛？），但我想如果有人可以帮助我，我会在这里问。我也知道筛子是解决这个问题的更好方法，但我想先尝试将其作为一个 while 循环来解决。任何和所有的帮助表示赞赏！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T07:15:39.743

虽然我了解您要做什么，但我强烈建议您看一下[埃拉托色尼筛](http://en.wikipedia.org/wiki/Sieve_of_Eratosthenes)。如果您决定处理非常大的数字，您真的想掌握了解不同算法来计算这些东西的窍门。虽然你现在的方式可能在较小的范围内工作，但更大的范围会变得疯狂。

我也相信这个 Stackoverflow 问题与这个问题非常相似，并且它的答案非常好：

[求250以下的素数之和](https://stackoverflow.com/questions/9138872/finding-sum-of-prime-numbers-under-250)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:12:49.957

您可以在这里尝试任何选项：[http ://www.javascripter.net/faq/numberisprime.htm](http://www.javascripter.net/faq/numberisprime.htm)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T07:15:26.210

嗨，我已经为您的代码添加了一些更改（添加了 5 和 7 素数的条件）及其工作...

```
var numX = prompt('Enter a number greater than 0:','');
var numY = prompt('Enter a number greater than ' + numX + ':','');

while (numX <= numY) {
    if (numX == 1 || numX == 2 || numX == 3 || numX == 5 || numX == 7) {
    document.write(numX + '</br>');
    } else if (numX % 2 === 0 || numX % 3 === 0 || numX % 5 === 0 || numX % 7 === 0){
    document.write();
    } else {
    document.write(numX + '</br>');
    }
    numX++;
}; 
```

[在这里](http://jsfiddle.net/wV6JL/)查看演示

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-30T07:37:04.753

好的，事实证明我在问这个问题时是过激的。我更关心的是让 else if 语句起作用，我什至没有注意到我的公式存在严重缺陷！

问题可能与第二个变量有关。如果第一个变量是 1，那么第二个变量可以是任意数字。但是，如果第一个变量大于 1，那么第二个变量必须小于 100，否则它将不起作用。

# java - 从封闭类外部访问私有内部类的公共方法

> ID：13640484
> 
> 赞同：1
> 
> 时间：2012-11-30T07:01:24.057
> 
> 标签：java, private, inner-classes

我有以下代码类 Agent.java ：

```
 public class Agent {
      Helper helper ;

      private class SpecificBehaviour extends Behaviour{
         private Apple a;
         public SpecificBehaviour(Apple a){
          setApple(a);
          }
          public void setApple(Apple a){
           this.a=a;
          }
          public Apple getApple(){
          return a;
          }
         } 

         public void someMethod(){
         helper = new Helper(this);
        }   

} 
```

在 Helper.java （同一个包中的另一个类）中，我想访问 getApple() 方法。做了一些搜索并找到了这个 [链接](http://www.coderanch.com/t/394730/java/java/public-method-private-class) 我想知道是否有更好/更简单的方法来做到这一点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T07:16:34.253

这里至少有两个问题：

*   `Helper`不知道 的存在`SpecificBehaviour`，因为它是一个私有类。它*可能*知道`Behaviour`您没有提供任何详细信息的课程。如果`getApple()`在 中声明`Behaviour`，并且如果`Behaviour`对 可见`Helper`，那么可见性部分就不是问题。
*   `Helper`将需要对 的实例的引用`SpecificBehaviour`，这意味着您需要实例化`SpecificBehaviour`. 为此，您还需要一个 , 的实例`Agent`，因为`SpecificBehaviour`它是一个*内部类*。不清楚你是否*有*这样的例子。

基本上我认为私有内部类的存在在这里增加了混乱。如果您对 Java 相当陌生，我强烈建议您暂时坚持使用顶级类。他们周围有一些微妙之处，最好一次尝试学习一件事。

如果这没有帮助，请提供更多背景信息 - 您的问题目前非常模糊。你想在*哪里*使用？状态的一部分应该是对 的实例的引用，还是应该是方法参数？您是否创建了 的实例？看起来像什么？您可能会发现，在一次回答一个问题的过程中，您能够更好地自己找出问题所在。`getApple``Helper``Helper``SpecificBehaviour``Agent``Behaviour`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:09:35.243

**-**使用`Composition`原理来获取`getApple()`方法的访问权限。

**例如：**

```
public class Agent {

      Apple a = new Apple();     // Agent class has a reference of type Apple.

     .....
     .....
 } 
```

**-**第二种方法是在**Apple 类**`getApple()`中创建方法，然后使用带有（点）运算符的类名从**代理类访问它。**`static`****`.`****

 ******例如：**

```
 public class Agent {

          public void go(){

            Apple.getApple();

        }

         .....
         .....
     } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T07:10:40.140

您需要询问`Agent`您传递给`Helper`私有类**实例**`SpecificBehaviour`的对象。这就是它的工作方式。封装记住。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-30T07:29:11.640

Jon Skeet 表示，我完全同意：

> Helper 将需要对 的实例的引用`SpecificBehaviour`，这意味着您需要实例化`SpecificBehaviour`. 为此，您还需要 , 的实例`Agent`，因为`SpecificBehaviour`它是一个内部类。不清楚你是否有这样的例子。

实际上，您可以通过测试下面的示例代码来了解您的尝试有多奇怪：

**代理.java**

```
public class Agent 
{
    private class SpecificBehaviour 
    {
        public String toString()
        {
            return "specific behaviour";
        }
    }
    public Class getInner() 
    {
        return SpecificBehaviour.class;
    }
} 
```

**助手.java**

```
public class Helper 
{
    public static void main(String[] args) 
    {
        try 
        {
            Agent agent = new Agent();
            System.out.println(agent.getInner().newInstance().toString());
        }
        catch (InstantiationException e) {  e.printStackTrace();  }
        catch (IllegalAccessException e) {  e.printStackTrace();  }
    }
} 
```

上面的代码编译得很好。让我们看看输出是什么：

```
java.lang.InstantiationException: Agent$SpecificBehaviour
    at java.lang.Class.newInstance0(Class.java:340)
    at java.lang.Class.newInstance(Class.java:308)
    at Helper.main(Helper.java:5) 
```****

# eclipse - 当文件在外部更新时如何让 Eclipse 向我发出警告

> ID：13640489
> 
> 赞同：2
> 
> 时间：2012-11-30T07:01:58.037
> 
> 标签：eclipse

我正在使用 Eclipse Juno 进行 Android 开发。

开发时，如果使用外部编辑器更新文件，我的 Eclipse 环境中的文件可以自动或手动更新，可以通过“窗口>>首选项>>常规>>工作区”中的设置进行调整

我的问题是：如何让 Eclipse 在外部编辑后自动更新文件，但也会提示我。（就像视觉工作室一样）

# javascript - Three.js中对象之间的倾斜旋转

> ID：13640492
> 
> 赞同：1
> 
> 时间：2012-11-30T07:02:08.657
> 
> 标签：javascript, 3d, webgl, three.js, orbital-mechanics

我正在尝试像 Three.js 那样重现太阳系，但我无法让行星围绕恒星倾斜旋转：

![旋转角度](../Images/e4e5c07816c03c3bf92edabb6b21d437.png)

这是一个小提琴样本，但旋转错误：http: [//goo.gl/MzcwI](http://goo.gl/MzcwI)

我尝试了这个解决方案： [How to rotate a 3D object on axis three.js?](https://stackoverflow.com/questions/11060734/how-to-rotate-a-3d-object-on-axis-three-js) 没有成功。

如果有人有线索可以帮助我，谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T17:17:53.533

我必须在枢轴的根位置添加一个元素，它创建了一种可以旋转的新计划。

解决方案[在这里](http://jsfiddle.net/tknew/VsWb9/566/)。

```
jsfiddle 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T15:55:16.613

你有没有尝试过？

```
function animate() {

  pivot.rotation.y += 0.01;
  pivot.rotation.x += 0.01;
  requestAnimationFrame(animate);
  render();

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-02-19T00:47:28.463

如果您只想使用网格的位置向量进行旋转，您可以简单地执行类似的操作

```
theta = 0;/* Global variable */
function render(){ 

    orbiter = /* Get the planet you want to rotate*/;

    orbiter.mesh.position.x = Math.cos( theta ) *100;
    orbiter.mesh.position.z =  Math.sin( theta ) *25;
    orbiter.mesh.position.y  =  Math.cos( theta ) * -60;
    theta +=.02; 

    renderer.render( scene, camera );
}

function animate(){ animation_id = requestAnimationFrame( animate ); render(); }
animate(); 
```

您将不得不使用这些值来获得所需的旋转角度 - 特别是对于 position.y 值。增加 theta 应该会增加速度。

# c# - 泛型类和约束

> ID：13640493
> 
> 赞同：1
> 
> 时间：2012-11-30T07:02:14.547
> 
> 标签：c#, .net, string, generics

我正在使用通用类和约束。以下是我的课。

```
public class GenericList<T> where T : new()
    {

        private Node head;

        // constructor 
        public GenericList()
        {
            head = null;
        }

    } 
```

当我用整数创建对象时它工作正常

```
GenericList<int> list = new GenericList<int>(); 
```

但是当我尝试使用字符串时，它会给我以下编译时错误。

```
GenericList<string> list1 = new GenericList<string>(); 
```

“字符串”必须是具有公共无参数构造函数的非抽象类型，以便将其用作泛型类型或方法“GenericTest.GenericList”中的参数“T”，当我像任何自定义类一样传递引用参数时，它也可以正常工作。

字符串有什么问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T07:04:13.287

[字符串类](http://msdn.microsoft.com/en-us/library/system.string.aspx)没有*公共无参数构造函数*..这就是`new()`约束不适用于它的原因。

阅读[类型参数的约束（C# 编程指南）](http://msdn.microsoft.com/en-us/library/d5x73970.aspx)：

> 其中T：新（）
> 
> 类型参数必须有一个公共的无参数构造函数。当与其他约束一起使用时，必须最后指定 new() 约束。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-30T07:32:14.643

`String`类型拥有公共无参数构造函数是没有意义的，因为`String`它是*不可变*的，这意味着如果`String`有这个构造函数，那么它必须创建一个空字符串对象，这很愚蠢，因为创建后你不能更改它。

# ruby - 在 VPS 上安装 mechanize

> ID：13640495
> 
> 赞同：0
> 
> 时间：2012-11-30T07:02:45.830
> 
> 标签：ruby, mechanize

> root@cowboomer:/home/ryan/public_html# gem install mechanize -V GET [http://rubygems.org/latest_specs.4.8.gz](http://rubygems.org/latest_specs.4.8.gz) 302 临时移动 GET [http://production.s3.rubygems.org/latest_specs.4.8。 gz](http://production.s3.rubygems.org/latest_specs.4.8.gz) 304 未修改 GET [http://rubygems.org/specs.4.8.gz](http://rubygems.org/specs.4.8.gz) 302 暂时移动 GET [http://production.s3.rubygems.org/specs.4.8.gz](http://production.s3.rubygems.org/specs.4.8.gz) 304 未修改 安装 gem unf_ext-0.0.5 构建本机扩展。这可能需要一段时间...

然后它什么也不做。它从来没有真正安装机械化。水豚也会发生同样的事情。

# vba - 将 vlookup 与文本字符串相结合

> ID：13640497
> 
> 赞同：0
> 
> 时间：2012-11-30T07:02:54.770
> 
> 标签：vba, excel

谁能解释以下公式的语法在哪里失败？

```
Selection.FormulaLocal = "=concatenate(vlookup(" & i & ", _
inputs!A5:B43,2,false), " some words")"" 
```

如果我想简单地使用 ，该公式可以正常工作`vlookup`，但是当我尝试添加文本时，我遇到了语法错误。有没有更好的方法来做到这一点而不使用`FormulaLocal`. 我可以以任何其他方式将 vlookup 与文本结合起来吗？

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:27:11.280

FormulaLocal 属性（和 Formula 属性）需要一个字符串（或字符串文字），它与您从公式栏中键入的公式相同。您正在尝试设置无效的字符串文字：

```
 "=concatenate(vlookup(" & i & ", inputs!A5:B43,2,false), " some words")""
'<   string literal    >< VBA ><     string literal       ><    VBA  ><string literal> 
```

为了组合两个字符串，您需要使用`&`，否则它是无效的 VBA 代码：

```
 "=concatenate(vlookup(" & i & ", inputs!A5:B43,2,false), " & some words & ")""
'<   string literal    >< VBA ><     string literal       ><       VBA     ><string> 
```

The string literal is defined with start and end double-quotes. How do you put a double-quote insde a string literal? In VBA you put two double-quotes:

```
 "=concatenate(vlookup(" & i & ", inputs!A5:B43,2,false), ""some words"")"
'<   string literal    >< VBA ><           string literal                >
'Resulting formula (i=5): =concatenate(vlookup(5, inputs!A5:B43,2,false), "some words") 
```

Just bear in mind that this is all on the VBA level. The resulting string also has to be a valid formula for Excel. For example, if `i` is not a number but a word, the formula will end up looking like this:

```
=concatenate(vlookup(a word, inputs!A5:B43,2,false), "some words") 
```

which is invalid Excel syntax. The solution in this case would be to add double-quotes around `i`:

```
"=concatenate(vlookup(""" & i & """, inputs!A5:B43,2,false), ""some words"")" 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:20:49.507

尝试添加`&`insted`concat`

=`"text" & (vlookupformula)`

所以你的代码将是，

```
Selection.FormulaLocal = "= vlookup(" & i & ", _
inputs!A5:B43,2,false) & " some words" 
```

您可以尝试以下方法：

```
Dim strWords = "some words"
Selection.formula = "= vlookup(" & i & ", _
    inputs!A5:B43,2,false) "
selection.Formula = .Formula & " & """ & strWords & """" 
```

# java - 需要帮助以在 Adob e CQ 5.4 中实施页面激活事件侦听器

> ID：13640498
> 
> 赞同：2
> 
> 时间：2012-11-30T07:03:04.500
> 
> 标签：java, jakarta-ee, adobe, aem

我搜索了很多，但在 Adob​​e Cq5.4 中找不到有关事件侦听器或处理程序的任何教程，

请任何人都可以建议我一个很好的教程或让我知道使用 Adob​​e cq 5.4 和 Java 实现事件处理程序的步骤。

还请为侦听页面激活事件的侦听器建议一个教程。

高级谢谢， Yash

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-13T22:43:00.710

这篇 Adob​​e 博客文章很好地涵盖了 JCR 观察和事件处理：

[http://experiencedelivers.adobe.com/cemblog/en/experiencedelivers/2012/04/event_handling_incq.html](http://experiencedelivers.adobe.com/cemblog/en/experiencedelivers/2012/04/event_handling_incq.html)

本质上，您创建了一个实现 EventListener 的 OSGi 组件，并且为每组已触发的事件调用 onEvent 方法（它有时可以接收多个事件）。activate 方法必须通过调用 addEventListener 来注册监听器，并指定事件、路径等的类型。完整的规范和更多信息在这里：

[http://www.day.com/specs/jcr/2.0/12_Observation.html](http://www.day.com/specs/jcr/2.0/12_Observation.html)

我希望这会有所帮助，安东尼

# parse-platform - 在对象中访问对象

> ID：13640507
> 
> 赞同：1
> 
> 时间：2012-11-30T07:03:25.753
> 
> 标签：parse-platform

我有一个像这样保存的对象 taskTime{"date":"2012-11-19","freq":"taskOnce","time":"05:22"} 有没有办法访问这些内部对象？我已经尝试过这个 result.attributes.taskTime.freq 没有​​运气任何想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:08:55.410

不就是这样吗：

```
taskTime.freq 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-01T19:12:30.630

result.get("taskTime").freq

不过，这只是一个猜测。没有足够的信息。Chrome 的开发者工具是您的朋友。

# .htaccess - 包含来自 .htaccess 的另一个 htaccess 文件

> ID：13640511
> 
> 赞同：38
> 
> 时间：2012-11-30T07:04:15.737
> 
> 标签：.htaccess

是否可以在 .htaccess 中包含来自另一个 htaccess 文件的规则？

```
.htaccess

RewriteEngine On
RewriteCond ...
RewriteRule ...

Include .htaccess1
.
.
Include .htaccess2 
```

这样做会得到 500。 此处不允许包含 有没有办法做到这一点？因为我非常需要这个。

* * *

## 回答 #1

> 赞同：54
> 
> 时间：2012-11-30T07:32:34.673

您不能在 htaccess 文件中包含来自其他文件的规则、语句、定义或指令。该`Include`指令不能在 htaccess 文件中使用。htaccess 文件的部分要点是类似于`<Directory>`块的行为，但是是自包含的并且无法访问目录本身之外的东西（子目录可以），但更具体地说，在文档根目录之外没有任何东西。这样，做恶意行为的人将无法通过入侵 htaccess 文件来指向请求或包含来自其他目录的文件/内容。

特别是在 mod_rewrite 的范围内，有一些选项`RewriteOptions`允许[从父目录的 htaccess 文件继承重写规则](http://httpd.apache.org/docs/current/mod/mod_rewrite.html#rewriteoptions)，但不能任意包含任何地方的规则。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2014-05-25T12:48:27.797

我知道这可能有点晚了，但是如果您尝试实施 IP 禁令或类似类型的动态规则内容，请使用 .htaccess 文件中的最后一条规则将请求指向单个 .php 或类似内容执行此功能的语言脚本（您的单个脚本可以以您自己的格式加载动态规则，并根据您实际尝试完成的内容做出与 Apache 相同的决定）然后将请求传递到被请求的实际页面。它为整个请求处理增加了一层，但为所有页面提供了相同的动态功能，而无需为服务器生成直接规则并尝试让 Apache 为您做出决定。

只是想我会为其他可能偶然发现这篇文章寻找类似内容的人添加这个想法。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2017-11-26T23:44:06.667

这是可能的 - 在 2-3 步骤中......

1.  创建要拒绝的 IP 文件。它可以是 .php 文件、.txt 文件，甚至 .csv 文件。

2.  创建一个 .php（或您选择的语言）脚本，其目的是输出一个名为“.htaccess”的文件。

3.  每次您将 IP 文件更新为拒绝时，运行上述 2) .php 脚本，并向您的每个域输出一个新的 .htaccess。

如果除了 IP 之外还有要拒绝的语句，请将它们硬编码在 .php 脚本中以首先输出。见[https://www.askapache.com/htaccess/](https://www.askapache.com/htaccess/)

.php 脚本通常看起来像：

```
$output = "statement1".PHP_EOL;
$output .= "statement2".PHP_EOL;
$output .= "statement3".PHP_EOL;
... 
```

然后，当您准备好拒绝部分时：

```
$denyList = file_get_contents("the/list/of/IPs.txt"); // or .php etc.
$ArrayDenyList = explode(PHP_EOL,$denyList); // or your line ending character, if necessary
foreach($ArrayDenyList as $key =>$value) {
$output .= 'Deny from '.$value.PHP_EOL;
  } 
```

然后编写文件：（你可能有一个标准的方式）：

```
$handle = fopen(.htaccess,"w"); //complete path if in another domain
fwrite($handle,$output);
fclose($handle);
echo "Success - <p>"; 
```

如果您有多个域，则有一个包含这些域名路径的数组，并 foreach 该数组，然后写入每个路径。

如果某些域已经有 .htaccess 要求，请将其放入可读的 .txt 文件中...执行 file_get_contents(on that), "output =" that, 添加 "Deny's, 然后 "output .= ..." each in一个“foreach()”循环。

无论如何...您之前已经完成了所有这些事情...只需将每种技术应用于此场景即可。

.htaccess 文件不能“include()”其他文件，但 .php 脚本可以，并且 .php 脚本可以输出名为“.htaccess”的文件，这些文件可以由脚本构建。

上述方法有效，当我需要为我的每个产品目录创建“RewriteRule”行时，我就开始这样做了！每次我添加一个新产品时，我都会运行我的脚本来输出一个新的 .htaccess 文件......从我的产品 SQL 表构建。类似于我的“fwrite”我的 sitemap.xml 的 .php 脚本。

（我希望没有 .php 标点符号或“$”在这种输入中丢失。）

* * *

## 回答 #4

> 赞同：-5
> 
> 时间：2015-10-31T12:36:44.757

您可以创建像 PHP ".htaccess.php" 这样的服务器端脚本，并在其中放入您的包含。当然，你必须配置apache：AccessFileName .htaccess.php

# android - 带有标签的 Android 操作栏 Sherlock

> ID：13640512
> 
> 赞同：11
> 
> 时间：2012-11-30T07:04:16.577
> 
> 标签：android, android-fragments, actionbarsherlock, android-viewpager, android-tabs

![在此处输入图像描述](../Images/57c9fa17c4281f04d86d5438ea9e9eba.png)

我正在尝试使用下面的选项卡来实现 ActionBar Sherlock，如上面的线框所示。

我应该使用 TabActivity 吗？- 因为我看到它已被弃用。这是实现相同目标的最佳方法。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2012-11-30T07:32:56.113

`SherlockFragmentActivity`我使用as tabview 容器和as 选项卡实现了此功能`SherlockFragment`。这是一个草图（我省略了通常的 Android 活动内容）：

这是带有两个选项卡的 tabview 活动：

```
public class TabViewActivity extends SherlockFragmentActivity {
  // store the active tab here
  public static String ACTIVE_TAB = "activeTab";

  @Override
  public void onCreate(Bundle savedInstanceState) {
    ..
    final ActionBar actionBar = getSupportActionBar();
    actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_TABS);
    // add the first tab which is an instance of TabFragment1
    Tab tab1 = actionBar.newTab()
              .setText("TabTitle1")
              .setTabListener(new TabListener<TabFragment1>(
               this, "tab1", TabFragment1.class));
    actionBar.addTab(tab1);

    // add the second tab which is an instance of TabFragment2
    Tab tab2 = actionBar.newTab()
           .setText("TabTitle2")
           .setTabListener(new TabListener<TabFragment2>(
                this, "tab2", TabFragment2.class));
    actionBar.addTab(tab2);

    // check if there is a saved state to select active tab
    if( savedInstanceState != null ){
      getSupportActionBar().setSelectedNavigationItem(
                  savedInstanceState.getInt(ACTIVE_TAB));
    }
  }

  @Override
  protected void onSaveInstanceState(Bundle outState) {
    // save active tab
    outState.putInt(ACTIVE_TAB,
            getSupportActionBar().getSelectedNavigationIndex());
    super.onSaveInstanceState(outState);
  }
} 
```

这是`TabFragment`包含选项卡内容的：

```
public class TabFragment extends SherlockFragment {
  // your member variables here
  @Override
  public View onCreateView(LayoutInflater inflater, 
                 ViewGroup container, Bundle savedInstanceState) {
    // Inflate the layout for this fragment
    View view = inflater.inflate(R.layout.fragment_va_esh, container, false);
    ... // do your view initialization here
    return view;
  }

} 
```

最后，这是`TabListener`处理选项卡开关的：

```
public class TabListener<T extends Fragment> implements ActionBar.TabListener{
  private TabFragment mFragment;
  private final Activity mActivity;
  private final String mTag;
  private final Class<T> mClass;

  public TabListener(Activity activity, String tag, Class<T> clz) {
    mActivity = activity;
    mTag = tag;
    mClass = clz;
  }

  public void onTabSelected(Tab tab, FragmentTransaction ft) {
    // Check if the fragment is already initialized
    if (mFragment == null) {
      // If not, instantiate and add it to the activity
      mFragment = (TabFragment) Fragment.instantiate(
                        mActivity, mClass.getName());
      mFragment.setProviderId(mTag); // id for event provider
      ft.add(android.R.id.content, mFragment, mTag);
    } else {
      // If it exists, simply attach it in order to show it
      ft.attach(mFragment);
    }

  }

  public void onTabUnselected(Tab tab, FragmentTransaction ft) {
    if (mFragment != null) {
      // Detach the fragment, because another one is being attached
      ft.detach(mFragment);
    }
  }

  public void onTabReselected(Tab tab, FragmentTransaction ft) {
    // User selected the already selected tab. Usually do nothing.
  }
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-30T07:16:54.433

我相信 TabActivity 已被弃用，而倾向于使用 Fragments - 不是因为标签导航是一个已弃用的概念。只需使用 Fragments 和 TabWidget。

另外，这是[一个类似的问题](https://stackoverflow.com/questions/7599816/creating-tabs-using-fragments-now-that-tabactivity-is-deprecated)。

编辑：

这是由 Google 提供的示例：[Android Tabs the Fragment Way](http://thepseudocoder.wordpress.com/2011/10/04/android-tabs-the-fragment-way/)

# windows-8 - WNS 通知 - 即使在有效令牌上也收到 404

> ID：13640517
> 
> 赞同：1
> 
> 时间：2012-11-30T07:04:39.993
> 
> 标签：windows-8

我正在尝试通过 WNS 将通知推送到我的 Windows 应用程序，

我每次都会收到 404 响应。

我已经验证了 Channel URI 是有效的，因为每次启动应用程序时，我都会获取 channel URI 并立即使用它进行测试。

这是我打的 curl 电话

```
curl -i -d "<tile><visual><binding template='TileSquareText01'><text id='1'>tile one text</text></binding><binding template='TileSquareText02'><text id='2'>tile two text</text></binding></visual></tile>" -H "Authorization: Bearer EgAeAQMAAAAEgAAACoAAFQOHLfF3CMYK/IUs8MgTUFoS9vwOM4AFavJ3TLGAczjxBJNm02+rMlWFGYNWAefkuCw/Qg62++O+5GdrLRqQCdBSSI+cZPPXwOKk6lagOLDXNzd41hPMG9/NYi/Li1dHddMLLkPVWuZ6Te+t1ofOeL30PDA9p8JVEVDAX/CfLXGNAFoAjQAAAAAAL+oNSH9RuFB/UbhQ60gEAA8AMTIzLjIwMS4xMzUuNTMAAAAAAF4AbXMtYXBwOi8vUy0xLTE1LTItMTIxMTkzNzMyNS0yNTg0NzczMzMzLTE1ODE1OTA0OTYtNDE4NTk0OTY5OS0yNDEwMjc4ODgzLTM4NjU2MTI0NzAtOTM5MDAzNTk0AA==" -H "content-type: text/xml" -H "content-length: 190" -H "X-WNS-Type: wns/tile" "https://sin.notify.windows.com:443/?token=AgYAAAA/Bcry6hlYw8kOU5f4LHaS+dycP7UxcsT45eUcNlxfznxCltMK3emgIsHRAiRUk1X5VnQ0h0FC7fbOno+QI5aqUt2Q05foUg+XYeFvIcdsp6wwoMJ8VEjyOBzcT+z1JNM=" 
```

我得到以下回复

```
HTTP/1.1 404 Not Found
Content-Length: 0
X-WNS-MSG-ID: 1FD852615FA1E9DA
X-WNS-DEBUG-TRACE: SINWNS2012431
Date: Fri, 30 Nov 2012 06:57:46 GMT 
```

我检查了标头都正确，通过放置错误的标头并获得 400 Bad request 来测试它。

这是我获取频道 URI 的应用代码

```
get_channel_uri :function(){
    var channel;
    var pushNotifications = Windows.Networking.PushNotifications;
    var channelOperation = pushNotifications.PushNotificationChannelManager.createPushNotificationChannelForApplicationAsync();

    return channelOperation.then(function (channel) {
        if(channel.uri){
            // send to server
        }
    },
    function (error) {

    }
    );

} 
```

任何想法我错过了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T10:08:45.370

我在 MSDN 论坛上找到了解决方案。

我没有做以下事情

在 Visual Studio 2012 中，转到“Project->Store->Associate App With the Store...”并选择您创建的应用程序。然后，这会更新清单，以便您安装正确的证书等。之后，我的应用程序创建了一个不同的通知 url，一切都开始工作了。

# java - 将 JSON 字符串反序列化为字符串数组

> ID：13640518
> 
> 赞同：0
> 
> 时间：2012-11-30T07:04:45.267
> 
> 标签：java, json

如何获取此字符串并放入字符串数组或 HashMap？有什么参考吗？

```
 {
        "code" : 403,
            "errors" : [ {
                "domain" : "global",
                "location" : "Authorization",
                "locationType" : "header",
                "message" : "The domain policy has disabled third-party Drive apps",
                "reason" : "domainPolicy"
            } ],
        "message" : "The domain policy has disabled third-party Drive apps"
     } 
```

====

这是我对杰克逊的解决方案：

```
public class TheErrorModel {
    public int code; 
    public Collection<Error> errors; 
    public String message;

    public TheErrorModel() {
    }

    public TheErrorModel(String json) 
            throws Exception {
        ObjectMapper mapper = new ObjectMapper();
        TheErrorModelother = mapper.readValue(json, TheErrorModel.class);

        this.code = other.code;
        this.errors = other.errors;
        this.message = other.message;
    }
}

class Error {
    public String domain;
    public String location;
    public String locationType; 
    public String message;
    public String reason;
}

TheErrorModel theErrorModel = new TheErrorModel(json); 
```

所以我得到了类似 theErrorModel.message 的东西：D

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T07:15:40.673

您可以尝试使用 GSON [http://code.google.com/p/google-gson/](http://code.google.com/p/google-gson/)，使用起来非常简单。您应该为此 json 模式创建类结构。

```
import com.google.gson.Gson;
class YourErrorsJSON{
  private String domain 
  private String location;
  private String locationType; 
  private String message; 
  private String reason 
}

class YourJSON {
  private int code; 
  private YourErrorsJSON[] errors; 
  private String message;
}
Gson gson = new Gson();
YourJSON obj = gson.fromJson(json, YourJSON.class); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T07:07:11.213

试试这个 ：：

```
JSONObject yourObj = JSONObject.fromString(input_string);
String code = yourObj.get("code"); // code will have a value 403 
```

# java - 如何使用 ObjectContentManager 在节点下添加节点？

> ID：13640525
> 
> 赞同：5
> 
> 时间：2012-11-30T07:05:44.920
> 
> 标签：java, jackrabbit

我想使用 ObjectContentManager 在节点下添加一个节点。

我可以使用 ObjectContentManager 添加单个节点，使用

```
Pojo1 p1 = new Pojo1 ();
p1 .setPath("/p1");
p1 .setName("p_3");
p1 .insert(p1);
ocm.save(); 
```

现在在这个节点下我想添加 Pojo2 类的另一个节点。我写了一个代码，但它给了我例外。

```
Pojo2 p2 = new Pojo2 ();
p2.setPath("/p1/p2");
p2.setName("p_3");
p2.insert(p2);
ocm.save(); 
```

但这给了我例外。

```
org.apache.jackrabbit.ocm.exception.ObjectContentManagerException: Cannot create new node of type nt:pojo1 from mapped class class com.sapient.Pojo1; nested exception is javax.jcr.nodetype.ConstraintViolationException: No child node definition for p2 found in node /p1 
```

我怎样才能做到这一点？提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-08T03:37:16.743

如果您查看 OCM 测试类，则有一个很好的示例说明如何配置： [A.java](http://svn.apache.org/viewvc/jackrabbit/commons/ocm/trunk/src/test/java/org/apache/jackrabbit/ocm/testmodel/A.java?view=markup)

```
@Node(jcrMixinTypes="mix:lockable" )
public class A
{
@Field(path=true) private String path;
@Field private String a1;
@Field private String a2;
@Bean(jcrType="nt:unstructured", jcrOnParentVersion="IGNORE") private B b; 
```

Bean Annotation 用于指示您将对象持久化为另一个节点而不是属性。

这是将 B 对象添加到 A 对象[AnnotationBeanDescriptorTest.java的测试代码](http://svn.apache.org/viewvc/jackrabbit/commons/ocm/trunk/src/test/java/org/apache/jackrabbit/ocm/manager/beanconverter/AnnotationBeanDescriptorTest.java?view=markup)

```
ObjectContentManager ocm = getObjectContentManager();
// ------------------------------------------------------------------------
// Create a main object (a) with a null attribute (A.b)
// ------------------------------------------------------------------------
A a = new A();
a.setPath("/test");
a.setA1("a1");
ocm.insert(a);
ocm.save();

// ------------------------------------------------------------------------
// Retrieve
// ------------------------------------------------------------------------
a = (A) ocm.getObject("/test");
assertNotNull("Object is null", a);
assertNull("attribute is not null", a.getB());

B b = new B();
b.setB1("b1");
b.setB2("b2");
a.setB(b);

ocm.update(a);
ocm.save(); 
```

# xmlhttprequest - jmeter未在响应选项卡中显示xml响应

> ID：13640526
> 
> 赞同：0
> 
> 时间：2012-11-30T07:06:06.793
> 
> 标签：xmlhttprequest, jmeter

大家好，请帮我解决这个问题。当我发送以下 http 请求时`("http://xyz/Scribe/Scribe.xsd")`；它没有在查看结果树的响应选项卡中显示任何数据。所以请帮我解决这个问题。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T11:53:35.050

It's because your server does not return : Content-Type header

As JMeter uses it to render the response and does not find it, it does not render it.

See:

*   [https://issues.apache.org/bugzilla/show_bug.cgi?id=54226](https://issues.apache.org/bugzilla/show_bug.cgi?id=54226)

Issue has now been fixed, you can use nightly build:

*   [http://jmeter.apache.org/nightly.html](http://jmeter.apache.org/nightly.html)

# python - 页面加载时自动编辑firefox网址，然后重新加载

> ID：13640527
> 
> 赞同：3
> 
> 时间：2012-11-30T07:06:17.467
> 
> 标签：python, firefox

我的编码经验是在 Python 中。有没有一种简单的方法可以在 Firefox 中执行 python 代码来检测特定地址，比如 nytimes.com，加载页面，然后删除 html 后面的地址末尾（这允许绕过 20 次网页浏览/月的限制）并重新加载?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T09:10:53.963

您最好的选择是使用之前建议的硒。这是一个小例子，你可以如何做到这一点。基本上，代码会检查是否已达到限制，如果有，它会删除 cookie 并刷新页面，让您继续阅读。删除 cookie 可以让您在不连续编辑地址的情况下再阅读 10 篇文章。那是技术部分，您必须自己考虑法律影响。

```
from selenium import webdriver
browser=webdriver.Firefox()
browser.get('http://www.nytimes.com')
if browser.find_element_by_xpath('.//*[contains(.,"You’ve reached the limit of 10 free articles a month.")]'):
    browser.delete_all_cookies()
    browser.refresh() 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:10:41.420

你可以使用 selenium，它可以让你轻松地用 python 完全控制 firefox 和其他 web 浏览器。只需几行代码即可实现这一目标。这个答案[如何集成 Selenium 和 Python](https://stackoverflow.com/questions/13428365/how-to-integrate-selenium-and-python/13429143#13429143)有一个工作示例

# iphone - 弹出窗口不显示视图

> ID：13640531
> 
> 赞同：0
> 
> 时间：2012-11-30T07:06:33.253
> 
> 标签：iphone, cocoa-touch, ios5, uipopovercontroller

我正在使用一个`UIPopoverController`.

在这个弹出窗口中，我正在加载一个自定义视图，它有一个导航栏和一个表格视图。当我显示弹出框时，它只显示导航栏，而表视图未显示。请告诉我如何解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-03T05:54:31.537

我找到了一个方法。实际上我无法给出 allowedArrowDirections 参数，因为方向不固定。所以我在参数中传递了一个“NO”并且它起作用了。谢谢大家的帮助.. :)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:25:05.687

只需检查您是否添加`UITableView`为自定义视图的子视图..

也尝试使用此代码...

```
 UIViewController *viewTemp = [[UIViewController alloc]init];
    viewTemp.view.frame = CGRectMake(0, 0, 300, 400);
    yourTable.frame =  CGRectMake(0, 0, 300, 400);
    [viewTemp.view addSubview:yourTable];///Add Table as a SubView of your custom view

    UIPopoverController *popTemp = [[UIPopoverController alloc]initWithContentViewController:viewTemp];

    [popTemp presentPopoverFromRect:CGRectMake(810.0, 35.0, 300, 210)  /// just set frame which from you want to show this popover view ... you can set like yourButton.frame;
                            inView:self.view
          permittedArrowDirections:UIPopoverArrowDirectionAny 
                          animated:YES];
    CGSize size = {300 , 400};// give your size which you want...

    popTemp=nil; 
```

# monkeyrunner - Viewclient touch() 作为长按工作，它应该作为点击工作？

> ID：13640532
> 
> 赞同：0
> 
> 时间：2012-11-30T07:06:40.853
> 
> 标签：monkeyrunner, androidviewclient

我正在使用带有 androidviewclient 的 monkeyrunner 测试 android 4.0.3 的 Gallery 应用程序，当我尝试使用 AVC 的 touch() 功能单击任何专辑时，它正在选择专辑。它应该打开一个相册。我打开相册的代码是

```
 MonkeyRunner.sleep(3)
   vc=ViewClient(device,serialNo)
   firstAlbum = vc.findViewById('id/no_id/1')
   firstAlbum.touch(MonkeyDevice.DOWN_AND_UP) 
```

如果我做错了什么，请告诉我？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-01T08:11:58.130

您的相册不太可能有**uniqueId** ' `id/no_id/1`'。您可以使用`dump.py`. 如果我`dump.py --uniqueId`在 4.0.3 Gallery 上运行，我将获得

```
 com.android.internal.policy.impl.PhoneWindow$DecorView NO_ID None id/no_id/1
   android.widget.LinearLayout NO_ID None id/no_id/2
      android.view.ViewStub id/action_mode_bar_stub None id/action_mode_bar_stub
      android.widget.FrameLayout NO_ID None id/no_id/3
         android.widget.TextView id/title Gallery id/title
      android.widget.FrameLayout id/content None id/content
         android.widget.RelativeLayout id/root None id/root
            android.widget.GridView id/albums None id/albums
               android.widget.LinearLayout NO_ID None id/no_id/4
                  com.android.camera.GalleryPickerItem id/thumbnail None id/thumbnail
                  android.widget.TextView id/title All pictures (3) id/title/1
               android.widget.LinearLayout NO_ID None id/no_id/5
                  com.android.camera.GalleryPickerItem id/thumbnail None id/thumbnail/1
                  android.widget.TextView id/title Download (3) id/title/2 
```

所以，我猜你想要第一张专辑，那么我会使用：

```
vc = ViewClient(*ViewClient.connectToDeviceOrExit())
firstAlbum = vc.findViewWithTextOrRaise(re.compile('All pictures \(\d+\)'))
firstAlbum.touch() 
```

或（作为oneliner）：

```
ViewClient(*ViewClient.connectToDeviceOrExit()).findViewWithTextOrRaise(re.compile('All pictures \(\d+\)')).touch() 
```

使用正则表达式，您可以选择相册，带有**所有图片**标题的相册与标题中列出的图片数量无关。

# android - Android：使用 AIDL 传输字节数组

> ID：13640537
> 
> 赞同：5
> 
> 时间：2012-11-30T07:07:19.930
> 
> 标签：android, aidl

我需要在 Android 服务和客户端之间传输字节数组。我试图定义一个aidl接口，如：

```
interface IMyService {
    int putBytes(String key, in List<Byte> bytes);
    int getBytes(String key, out List<Byte> bytes);    
} 
```

但是，它不编译。错误是：

```
[aidl] E:\workspace\RAMService\src\com\connexis\service\mem\IRAMService.aid
l:14 parameter bytes (2) unknown type List<Byte> 
```

有人可以帮助我吗？提前致谢！

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2014-06-23T02:33:44.207

尝试使用 byte[] 而不是 List，它对我有用。

```
interface IMyService {
    int putBytes(String key, in byte[] bytes);
    int getBytes(String key, out byte[] bytes);    
} 
```

AIDL 仅支持原语、String、CharSequence、List、Map。你可以有 List 但永远不能 List

[AIDL 文档](http://developer.android.com/guide/components/aidl.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-03-21T14:57:40.283

尝试类似这里描述的方法：[Transfering ByteArray through Parcel returns NullPointerException](https://stackoverflow.com/questions/11708945/tranfering-bytearray-through-parcel-returns-nullpointerexception)

这是如何通过将字节数组包装在 Parcelable 接口中来传输字节数组的示例。我认为你可以对 List 做同样的事情

# vim - Vim 语法文件：添加到 cterm

> ID：13640538
> 
> 赞同：3
> 
> 时间：2012-11-30T07:07:25.777
> 
> 标签：vim, vim-syntax-highlighting

考虑一种简单的文本标记语言，其中`_underscores denote italics_`和`*astrisks denote bold*`.

在一个虚构的 vim 语法文件中，您可能有

```
syntax region italic start='_' end='_' keepend
syntax region bold start='*' end='*' keepend
highlight italic cterm=italic
highlight bold cterm=bold 
```

（是的，我知道它是，为了清楚起见`\*`，我留下了它`*`。）

这里的问题是`_strings like *this*_`。即使您的终端支持 italicBold 字体，您在 vim 中一次只能获得一个。

我真正想做的是：

```
highlight italic cterm+=italic
highlight bold cterm+=bold 
```

（为了清楚起见`term`，`guiterm`省略了。）

`italicBold`可以使用包含和`boldItalic`区域都 set来解决这个`cterm=bold,italic`问题，但是当你想要包含时事情会变得一团糟，当你有一个红色区域和一个蓝色区域并且你结束时一切都会*完全*`underline`失控

 *```
syntax region red ... contains=italicRed,boldRed,underlineRed
syntax region italicRed ... contains=italicBoldRed,italicUnderlineRed
syntax region italicBoldRed ... contains=italicBoldUnderlineRed
.
.
.

highlight red ctermfg=red
highlight italicRed cterm=italic ctermfg=red
highlight italicBoldRed cterm=italic,bold ctermfg=red
.
.
. 
```

无限期。

更重要的是，我真的不想将颜色硬编码为`red`. 我宁愿

```
highlight link red Statement 
```

然后`italicRed`使用相同的突出显示定义，`red`但*添加*斜体设置。

*必须*有一种更简单的方法来做到这一点。有什么建议么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T08:31:01.777

不。到目前为止，我看到的所有语法插件都使用您描述的解决方法。

为什么不给 Vim 提供更好的东西？（我曾经也希望可以叠加颜色，即当浅黄色背景在浅灰色之上时，它会变成深黄色。）对于高色和低色终端和 GUI，这很难实现（有人喜欢挑战吗？），语法高亮首先是针对一些常见的编程结构（注释、语句、标识符等），而不是您想到的复杂标记。*

# javascript - 无法使用 xul 写入文件

> ID：13640539
> 
> 赞同：4
> 
> 时间：2012-11-30T07:07:29.637
> 
> 标签：javascript, firefox-addon, xul, xulrunner

尝试使用 XUL 代码在 windows 临时目录中写入文件：

```
function writeFile_launch_application(utility_name,utility_path)
{
var data ='tasklist  /nh /fi "imagename eq '+utility_name+'" | find /i "'+utility_name+'">nul && (echo alerady running) || ("'+utility_path+'")';
//alert(data);
var file = Cc["@mozilla.org/file/directory_service;1"].
       getService(Ci.nsIProperties).
       get("TmpD", Ci.nsIFile);
        file.append("launch_application.bat");
        file.createUnique(Ci.nsIFile.NORMAL_FILE_TYPE, 0666);

        // Then, we need an output stream to our output file.
        var ostream = Cc["@mozilla.org/network/file-output-stream;1"].
                      createInstance(Ci.nsIFileOutputStream);
        ostream.init(file, -1, -1, 0);

        // Finally, we need an input stream to take data from.
        const TEST_DATA = data;
        let istream = Cc["@mozilla.org/io/string-input-stream;1"].
                      createInstance(Ci.nsIStringInputStream);
        istream.setData(TEST_DATA, TEST_DATA.length);

        NetUtil.asyncCopy(istream, ostream, function(aResult) {
          if (!Components.isSuccessCode(aResult)) {
            // an error occurred!
          }
        })
} 
```

但出现错误：

```
Timestamp: 11/29/2012 11:03:09 PM
Error: ReferenceError: Cc is not defined
Source File: chrome://myaddon/content/overlay.js
Line: 199 
```

我还尝试在代码顶部添加以下行，但没有解决上述错误：

```
Components.utils.import("resource://gre/modules/NetUtil.jsm");

Components.utils.import("resource://gre/modules/FileUtils.jsm"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T13:20:06.553

Cc 和 Ci 分别是 Components.classes 和 Components.interfaces 的别名。

根据上下文，它们可能（或可能没有）已经定义。

任何状况之下

```
const Cc = Components.classes;
const Ci = Components.interfaces;
const Cu = Components.utils;
const Cr = Components.results; 
```

（您不应该将您的问题标记为`firefox-addon-sdk`）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:33:11.760

当我开发我的插件时，我总是尝试用和替换`Components.utils`, 。为此，我文件中的第一行是：`Components.intefaces``Cu``Ci`

```
const { Cc, Ci, Cu } = require('chrome'); 
```

`Cc`是`Component.classes`。比你现在可以使用

```
Cu.import("resource://gre/modules/FileUtils.jsm");
Cu.import("resource://gre/modules/NetUtil.jsm"); 
```

# android - 在android中查看onDraw（Canvas c）与draw（Canvas c）？

> ID：13640541
> 
> 赞同：24
> 
> 时间：2012-11-30T07:07:39.277
> 
> 标签：android, view, android-canvas

我是 android 开发新手，我正在探索`View`. 我遇到了已知的两种方法`onDraw(Canvas c)`和`draw(Canvas c)`.

请解释一下这两种方法的区别和用法？用图像更新画布时，哪种方法会提供更好的性能（FPS）？

* * *

## 回答 #1

> 赞同：29
> 
> 时间：2012-11-30T07:19:27.037

他们之间是有区别的

1.  **[onDraw(Canvas c)](http://developer.android.com/reference/android/view/View.html#onDraw%28android.graphics.Canvas%29)**是一个覆盖方法，在渲染视图时会自动调用。在这里，您可以进行其他绘图，例如制作圆圈、线条或任何您想要的。

2.  draw ( **[Canvas c)](http://developer.android.com/reference/android/view/View.html#onDraw%28android.graphics.Canvas%29)**用于手动将此视图（及其所有子视图）渲染到给定的画布。在调用此函数之前，视图必须已经完成了完整的布局。实现视图时，实现`onDraw(android.graphics.Canvas)`而不是覆盖此方法。如果确实需要重写此方法，请调用超类版本。

或者简单来说，**draw(Canvas c)**只是视图的一个函数，您可以在第一次渲染视图后调用它。此功能可用于在任何视图上进行自定义绘图。您需要提供此视图将在其上呈现的画布，并且您必须在调用此函数之前在画布上完成所有绘图。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2014-06-01T01:28:25.193

就像有人仍在寻找像我这样的答案但没有找到。

当需要重新绘制视图时，框架会调用 draw() 方法，然后 draw() 方法会调用 onDraw() 来绘制视图的内容。

```
void draw(Canvas canvas)
{
     ..... do default stuff (background, layers)
     onDraw(canvas)
     ..... do other stuff ( scroll bars, fading edges, children)

} 
```

* * *

## 回答 #3

> 赞同：14
> 
> 时间：2016-11-23T00:01:48.723

由于笨拙的 API 文档，对此存在误解。
简短的回答是对 View`draw(Canvas)`进行*入站*调用以执行一些重要的事情，并且在实现中间的某个地方`draw(Canvas)`它也会触发`onDraw(Canvas)`回调。

*   `draw(Canvas)`在实现`View`打算在布局内使用的自定义时不要覆盖。

*   如果您的自定义视图旨在用作全屏游戏，那么覆盖`draw()`将在每个循环中为您节省一些不需要的调用。

**更长的答案**

*   该框架`draw(Canvas)`在其绘制周期中使用。这是我可以在查看代码中找到的：
    *   第 1 步：根据需要绘制背景
    *   第 2 步：保存画布的图层
    *   第三步：绘制内容---`onDraw()`来这里
    *   第四步：画孩子
    *   第五步：绘制淡入淡出效果并恢复图层
    *   第六步：绘制滚动条

**有用的提示**

*   您可以将任何视图渲染到您创建的屏幕外位图中，然后在任何地方使用此位图：

    ```
    Canvas c = new Canvas();
    c.setBitmap(myOffscreenBitmap);
    myView.draw(c); 
    ```

    *   对于简单的情况（当它不是 ViewGroup 并且不需要滚动条时），简单的`onDraw(Canvas)`也可以解决问题。

# jsf - 点击菜单后，PrimeFaces 布局需要手动刷新

> ID：13640542
> 
> 赞同：0
> 
> 时间：2012-11-30T07:07:47.653
> 
> 标签：jsf, primefaces

在我的项目中，我想实现当有人访问时，需要先弹出一个登录对话框（隐藏主页菜单和其他元素..让你看到登录框）。然后如果你输入正确的信息，隐藏登录框和显示布局给你。
现在的问题是：隐藏框时，是的，您可以看到布局并且看起来不错，但是当您单击菜单中的链接时，中心所有布局显示为无。但是当你再次刷新浏览器时，你又可以看到它了

我确定我是否更新了错误的 id 或其他东西。以下是代码引用和捕获异常。等待您的回答。对我很重要。最好的问候和感谢。

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">

<f:view contentType="text/html">
    <h:head>
        <f:facet name="first">
            <meta http-equiv="X-UA-Compatible" content="EmulateIE8" />
            <meta content='text/html; charset=UTF-8' http-equiv="Content-Type" />
            <title>SingTel - eshop Operation Maintaince</title>
            <link rel="shortcut icon"
                href="#{request.contextPath}/images/system/favicon.ico" />

        </f:facet>

        <link type="text/css" rel="stylesheet"
            href="#{request.contextPath}/css/default.css" />
        <link type="text/css" rel="stylesheet"
            href="#{request.contextPath}/css/syntaxhighlighter/syntaxhighlighter.css" />

        <style type="text/css">
        </style>
        <script type="text/javascript">
            function handleLoginRequest(xhr, status, args) {
                if(args.validationFailed || !args.loggedIn) {
                    jQuery('#dialog').effect("shake", { times:5 }, 100);
                } else {
                    dlg.hide();
                    jQuery('#loginLink').fadeOut();
                }
            }           
        </script>
    </h:head>

    <h:body>    
        <p:outputPanel id="mainPanel" autoUpdate="true">
            <p:layout fullPage="true" id="layout" rendered="#{esUserSessionBean.showLogin == true ? false : true}">
                <p:layoutUnit id="left" position="west" closable="false"
                    collapsible="true" style="border:0px" header="MENU">
                    <h:form id="menuForm">
                        <p:slideMenu
                            style="width:272px;height:600px;margin-left:-3px;margin-top:-6px;"
                            id="tree">
                            <p:submenu label="Test EJB " icon="ui-icon-play">
                                <p:menuitem value="Test EJB " action="#{navigationBean.doNav}"
                                    update=":centerContentPanel" icon="ui-icon-arrow-4-diag">
                                    <f:param name="urlParam" value="ui/testEJB/testEJB" />
                                </p:menuitem>
                            </p:submenu>
                        </p:slideMenu>
                    </h:form>
                </p:layoutUnit>
                <p:layoutUnit id="center" position="center" style="border:0px;">
                    <p:outputPanel id="centerContentPanel">
                        <ui:include src="../#{navigationBean.pageName}.xhtml" />
                    </p:outputPanel>
                </p:layoutUnit>
            </p:layout>
        </p:outputPanel>

        <p:outputPanel id="loginPanel" autoUpdate="true">
            <p:dialog id="dialog" header="Login" widgetVar="dlg" closable="false"
                visible="#{esUserSessionBean.showLogin}"
                modal="true"
                >
                <h:form id="loginForm">
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:outputLabel for="username" value="Username:" />
                        <p:inputText id="username" value="#{esUserSessionBean.userId}"
                            required="true" label="username" />
                        <h:outputLabel for="password" value="Password:" />
                        <p:password id="password" value="#{esUserSessionBean.password}"
                            required="true" label="password" feedback="false" />

                        <f:facet name="footer">
                            <p:commandButton id="loginButton" value="Login" 
                                actionListener="#{esUserSessionBean.login}"
                                oncomplete="handleLoginRequest(xhr, status, args) " />

                        </f:facet>
                    </h:panelGrid>

                </h:form>
            </p:dialog>
        </p:outputPanel>

    </h:body>

</f:view>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T07:56:40.313

您需要将 #loginLink 包装在`<h:panelGroup rendered=#{not bean.isLogged}"></h:panelGroup>`. bean.isLogged 将是您选择的设置器，如果用户已连接，则返回 true。

这样，当您刷新页面时，链接将不会显示。Altought，我在您的代码片段中找不到您的#loginLink。

# android - 如何在视图android中使用缩放按钮

> ID：13640543
> 
> 赞同：0
> 
> 时间：2012-11-30T07:07:49.200
> 
> 标签：android

我一直想创建一个在视图中使用缩放按钮而不是缩放控制器的 Android 活动。但我不知道如何开始。我很感激你能给我的任何帮助。如果你能给我一些代码来开始。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:28:46.243

我真的不明白你真正想要缩放什么，只是想给你一个缩放文本视图的想法，这里是它的代码。

```
 ImageView increaseTextBtn = (ImageView)findViewById(R.id.increaseTextBtn);

    final TextView txtTitle = (TextView) findViewById(R.id.txt_desc);

    increaseTextBtn.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {

            txtTitle.setTextSize(TypedValue.COMPLEX_UNIT_PX,(txtTitle.getTextSize()+1f));
        }
    });
    ImageView decreaseTextBtn = (ImageView)findViewById(R.id.decreaseTextBtn);
    decreaseTextBtn.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {

            txtTitle.setTextSize(TypedValue.COMPLEX_UNIT_PX,(txtTitle.getTextSize()-1f));
        }
    }); 
```

在这段代码中有两个按钮**（increaseTextBtn ， reductionTextBtn ）** 来调整 TextView 的缩放级别

**更新对于图像视图，您可以**[在此处](https://stackoverflow.com/questions/5203702/zoom-image-on-image-click-event) 找到示例

# c# - 如何确定哪个 EndPoint 导致了错误代码 10054 的 SocketException？（“现有连接被远程主机强行关闭。”）

> ID：13640546
> 
> 赞同：2
> 
> 时间：2012-11-30T07:08:10.523
> 
> 标签：c#, .net, sockets, udp

总结一下我的情况，我正在编写一个服务器程序，它打开一个 UDP 套接字，任意数量的客户端都可以与之通信。我使用类似于以下的代码接收 UDP 数据包：

```
EndPoint sender = new IPEndPoint(IPAddress.Any, 0);
try
{
    count = socket.ReceiveFrom(buf, ref sender); // 'count' and 'buf' are defined elsewhere
    // If an exception isn't thrown, 'sender' will now contain the EndPoint of the client that sent the packet.
}
catch(SocketException e)
{
    if(e.ErrorCode == 10054)
    {
        // How do I get the EndPoint that caused the error?
        // The 'sender' variable above does not contain the EndPoint.
    }
} 
```

当我的服务器向已关闭其自己的套接字的客户端发送数据包时，我收到错误代码 10054（“现有连接被远程主机强制关闭”）。我想停止向该客户端发送数据包，以便 SocketExceptions 停止被抛出，这严重损害了我的服务器性能。

但我的问题是我不知道如何获取被强制关闭的特定客户端的 EndPoint。（在抛出异常之前，上面的'sender'变量没有设置为任何有用的东西。）我怎样才能找到那个端点？

一个不太理想但仍然可行的解决方案是简单地禁止抛出 SocketException。

有任何想法吗？

谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T07:21:03.047

我想我有一个想法。您应该创建并维护一个客户端列表，该列表将包含它们的所有端点（以及您可能需要的其他有用信息）。

然后数据传输将发生在“已连接”的客户端上，而所有其他尚未“未知”的计算机通常会尝试“连接”到您`IPAddress.Any`。

# logic - 简化并将德摩根定律应用于 f(a , b,c)

> ID：13640548
> 
> 赞同：2
> 
> 时间：2012-11-30T07:08:27.937
> 
> 标签：logic, boolean-operations, demorgans-law

给定这个函数

```
F(a,b,c) = aba + c’ab + c’b’ + c’b + b’cb + abc 
```

要求简化它..

使用 DeMorgan 定律找到 的补`F’(a,b,c)`码`F(a,b,c)`?

我简化了它并得到了这个答案 `=c'+ab` ，但我不确定这是否正确。

这些是我的步骤：

```
F(a,b,c) = *aba* + c’ab + c’b’ + c’b + *b’cb* + abc 
= *ab* + abc’+ abc + c’(b’+b) + *c(0)*  
= *ab* + ab(c’+ c )+ c’(1) + 0
= *ab* + ab(1)+ c’ 
= *ab* + c’ 
```

然后我应用德摩根定律，这是我的答案，任何人都可以检查它，因为当我尝试简化它时，即使我使用真值表检查它，我也会得到错误的答案：

```
F'(a,b,c) = aba + c’ab + c’b’ + c’b + b’cb + abc 
=(aba + c’ab + c’b’ + c’b + b’cb + abc)’
= (aba )’. (c’ab )’.( c’b’ )’. (c’b )’. (b’cb)’ . (abc)’
by distribute the not ’
=(a’+b’+a’) . (c+a’+b’) . (c+b) . (c+b’) . (b+c’b’) . (a’b’c’) 
```

# node.js - 在 node.js 中处理soap和wsdl webservice

> ID：13640555
> 
> 赞同：2
> 
> 时间：2012-11-30T07:08:57.817
> 
> 标签：node.js, soap, wsdl

我想处理来自node.js的soap和wsdl服务，对于初始启动，我下载了node-soap模块并运行了示例js文件，它要求我下载node-expat之类的模块，之后它给了我以下错误

```
> Error: Cannot find module '../build/Release/node_expat.node'
at Function.Module._resolveFilename (module.js:338:15)
at Function.Module._load (module.js:280:25)
at Module.require (module.js:362:17)
at require (module.js:378:17)
at Object.<anonymous> (C:\Users\290495\Desktop\nodejs\nodejs\node_modules\no
de-expat\lib\node-expat.js:4:13)
at Module._compile (module.js:449:26)
at Object.Module._extensions..js (module.js:467:10)
at Module.load (module.js:356:32)
at Function.Module._load (module.js:312:12)
at Module.require (module.js:362:17) 
```

任何关于如何处理上述问题的想法都会非常有帮助！提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T02:20:51.650

看起来像一个安装问题，

我看到你在 Windows 上，-node_expat 编译了一些二进制插件，我在他们的项目文件夹中注意到了 .cc ...我看到其他包在 mac/linux 下这样做，如果你安装了编译器工具，它只是编译插件安装良好。

在windows下我觉得会有点复杂，你可以尝试安装以下：

Windows XP/Vista/7：Microsoft Visual Studio C++ 2010（Express 版本运行良好）对于节点和本机模块的 64 位构建，您还需要 Windows 7 64 位 SDK 如果您收到 64 位编译器错误未安装您可能还需要 Windows SDK 7.1 的编译器更新

Windows 8：适用于 Windows 桌面的 Microsoft Visual Studio C++ 2012（Express 版本运行良好）

我认为使用 express 版本 npm 会将您的开发工具链作为 msvc 并编译 node_expat 扩展......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-03T23:36:02.777

It looks like your dependencies for the soap module didn't get installed properly. Did you run "npm install soap" from your node root directory?

# javascript - 外部js文件中的Asp.Net Mvc Url.Action？

> ID：13640559
> 
> 赞同：65
> 
> 时间：2012-11-30T07:09:15.473
> 
> 标签：javascript, asp.net-mvc

在外部 js 文件中，我无法使用

```
url = "@Url.Action("Action", "Controller")" 
//url output : @Url.Action("Action", "Controller")
//I get IllegalPath Name error. 
```

当我这样写时：

```
url = "/Controller/Action" 
```

如果项目位于子文件夹下，则脚本不起作用。我需要这样的东西作为相对网址：

```
url = "~/Controller/Action" 
```

我怎样才能做到这一点？谢谢。

* * *

## 回答 #1

> 赞同：163
> 
> 时间：2012-11-30T08:04:40.413

由于 .js 文件不被 asp.net mvc 视图引擎解析，因此您根本无法在其中使用任何 c# 代码。我建议使用不显眼的方法，像这样

```
<div id="loader" data-request-url="@Url.Action("Action", "Controller")"></div> 
```

而在 javascript 中，使用值`data-request-url`

```
$(function(){
   $('#loader').click(function(){
       var url = $(this).data('request-url');
       alert(url);
   });
}); 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-11-30T07:16:38.917

我不确定这是否是最优雅的解决方案，但我所做的是区分寄存器和外部脚本中的实际实现，以便：

```
<script>...</script>
... include all the external scripts I need

$(document).ready(function(){

    //get all the information you need from your MVC context 
    //before going out of context and into the scripts
    var url = '@Url.Action("Action", "Controller")'; 

     RegisterMyFunction(url, other parameters ..);
     RegisterAnotherFunction(url, others...);
} 
```

所以在我看来，我只有注册函数，脚本包含特殊值作为参数来做我想做的任何事情。

希望能帮助到你，

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2017-12-05T21:58:23.027

这是我一直在使用的模式。这是一个多一点的步骤，但我喜欢我所有的 url 都在视图中一个有组织的位置。

在我的视图底部，我将包含一个包含如下网址的脚本部分：

```
@section Scripts
{
    <script type="text/javascript">
        myJavaScriptObject.firstUrl = '@Url.Action("Action1", "Controller", new {id = Model.Id})';
        myJavaScriptObject.secondUrl = '@Url.Action("Action2", "Controller", new {id = Model.Id})';
    </script>
} 
```

在我的 JavaScript 类（位于外部文件中）内部，我将像这样引用 url：

```
var myJavaScriptObject = {
    firstUrl: '',
    secondUrl: '',
    docReady: function() {
        $.get(myJavaScriptObject.firstUrl, function(data) { do something...  });
    }
} 
```

我意识到不需要在类中引用这些条目，但我喜欢将它们放在那里以供我自己的家务之用。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-07-11T17:28:30.433

正如接受的答案所述，您不能在外部 JS 文件中使用任何 C# 代码。如果我需要将几个控制器链接传递给我的外部 .js 文件，我通常会这样做。

在 C# (.cshtml) 中

```
<script src="~/js/myfile.js"></script>

<script type="text/javascript">

    var url1 =  "@Url.Action("ActionName", "ControllerName", new { Param = ViewBag.Param })";  
    var url2 = "@Url.Action("AnotherAction", "AnotherController")";

    $(function() {
        window.initScript(url1, url2);
    });

</script> 
```

在 myfile.js 中

```
var _url1;
var _url2;

function initScript(url1, url2) {
    _url1 = url1;
    _url2 = url2;

   // other init. codes...

} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2019-12-04T09:41:32.877

您可以使用隐藏字段来做同样的事情（在主/个人视图上）。

查看页面：

```
@Html.Hidden("commonUrlTrack", Url.Action("Action_Method_Name", "Controller_Name"))

<button onclick="commonFunction()">Click Me</button> 
```

JS 文件：

```
function commonFunction() {
    var url = $("#commonUrlTrack").val();        
    alert(url);        
} 
```

# d3.js - 在 D3 气泡图中的每个气泡上叠加一张图像

> ID：13640561
> 
> 赞同：2
> 
> 时间：2012-11-30T07:09:23.430
> 
> 标签：d3.js, bubble-chart

我目前正在处理 D3 中的运动气泡图： http: [//bost.ocks.org/mike/nations/](http://bost.ocks.org/mike/nations/)：

![在此处输入图像描述](../Images/856b1ec3eb32681a89e427dbfcd7bd43.png)

我想在每个气泡上叠加一个图像，所以我添加了代码：

```
var dot = svg.append("g")
    .attr("class", "dots")
    .selectAll(".dot")
    .data(interpolateData(formatDate(format, minDate)))
   .enter()
    .append("circle")
    .attr("class", "dot")
    .style("fill","none")
    .call(position)
    .sort(order);

dot.append("image")
    .attr("xlink:href", "https://github.com/favicon.ico")
    .attr("width", 16)
    .attr("height", 16)
.call(position); 
```

但它不会起作用。非常感谢任何帮助。

# performance - membase(couchbase) stats(cbstats) 显示 70% 的 get_misses

> ID：13640564
> 
> 赞同：1
> 
> 时间：2012-11-30T07:09:35.147
> 
> 标签：performance, nosql, couchbase, membase

我正在使用 couchbase 1.8.1。这是输出 cbstats 命令

```
ubuntu@ip-10-128-117-9:~$ /MEMBASEDATA/opt/couchbase/bin/cbstats localhost:11210 all | egrep "hit|miss"
 cas_hits:                       0
 cas_misses:                     0
 decr_hits:                      0
 decr_misses:                    0
 delete_hits:                    76
 delete_misses:                  78
 get_hits:                       636552
 get_misses:                     1450283
 incr_hits:                      0
 incr_misses:                    0 
```

它显示出非常多的失误。但是当我在 web 控制台中检查时，未命中率几乎是 0。 ![显示 0 未命中率的 Web 控制台](../Images/0d6fa12b19c833475301eb2b6ab97a20.png) 这是否意味着有问题？如果是，有什么方法可以知道遗漏了哪些键，以便我可以调查我的代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-12-11T02:49:46.717

get_misses 实际上是指未找到请求的文档的次数，实际上不是缓存未命中的次数。该统计数据由 ep_bg_fetched 给出。

[http://docs.couchbase.com/admin/admin/Concepts/bp-maintenance.html](http://docs.couchbase.com/admin/admin/Concepts/bp-maintenance.html)

# android - 生成特定频率音并继续播放直到停止按钮

> ID：13640568
> 
> 赞同：1
> 
> 时间：2012-11-30T07:09:58.733
> 
> 标签：android, audio, javasound

我正在尝试构建一个可以生成任意频率音调的应用程序..我得到了这个链接：[使用 Android 播放任意音调](https://stackoverflow.com/questions/2413426/playing-an-arbitrary-tone-with-android)这真的很有帮助..因为音调会在代码中设置的特定持续时间播放..我想修改它，使音调继续播放直到按下停止按钮..而不是预设的持续时间..我无法实现它..有人可以帮忙吗？

另外我想知道在开始和停止音调时发出咔哒声的原因..如果有任何方法可以避免这种情况..我真的需要帮助..请帮助..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-05T20:38:18.137

AudioTrack 实例可以在两种模式下运行：静态或流式传输。所以我认为流媒体模式可以解决你的问题。在 Streaming 模式下，应用程序使用 write() 方法之一将连续的数据流写入 AudioTrack。

请看这个[链接](https://stackoverflow.com/questions/6179392/audiotrack-in-streaming-mode-mode-streaming)。这可能会对您有所帮助。

AudioTrack 类可以在[这里](http://developer.android.com/reference/android/media/AudioTrack.html)找到。

# iphone - 解决多标签问题

> ID：13640569
> 
> 赞同：1
> 
> 时间：2012-11-30T07:10:00.530
> 
> 标签：iphone, objective-c, ios

我有一个应用程序，其中有一个`activationView`. 激活应用程序后，我需要在选项卡中显示其余视图。我用谷歌搜索并发现要在 iPhone 中使用选项卡，该应用程序必须是`Tab Bar Application`我的应用程序不符合我的要求的应用程序。实现选项卡的最佳方法是什么（在应用程序中的第二个视图上）？

**编辑 1**

我尝试过的代码

```
/*  tabsController = [[Tabs alloc] init];
        [self.window setRootViewController:tabsController];*/

        AppDelegate *appDelegate = (AppDelegate *)[[UIApplication sharedApplication]delegate]; appDelegate.window.rootViewController = tabsController; 
```

我已经尝试了这些方法，但我得到了一个纯白色的视图。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T07:16:36.200

当您从第一个视图移动到标签栏视图时，请尝试下面的代码。

> AppDelegate *appDelegate = (AppDelegate *)[[UIApplication sharedApplication]delegate]; appDelegate.window.rootViewController = yourTabbarController;

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T07:31:57.617

我想你可能会在一个项目中寻找多个 VC。因此，在 appDelegate 中为 loginVC 和其他 VC（用于 tabbar）声明并初始化一个 VC，登录成功后调用以下函数。

在启动时将 LoginVC 设为 RootViewController

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{// declare LoginVC and make it rootViewController
 self.window.rootViewController = self._loginVCObj;
    [self.window makeKeyAndVisible];
} 
```

`#pragma mark- Continue to next screen after successful Login`

```
-(void) continueToNextView
{   // Handle UI after Login like.
 [_loginVCObj._indicator stopAnimating];
    [_loginVCObj._loginButton setEnabled:YES];
//add the VC to the tabbar 
    self._tabBarController.viewControllers = [NSArray arrayWithObjects:self.navigationControllerList,_favItemListNavObj, _toDoHereVC, _settingNavObj, nil]; 
// make tabbar as rootViewController
     self.window.rootViewController = self._tabBarController;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-30T08:16:55.937

我认为您的代码在“基于窗口的应用程序”中工作，但是使用新的 SDK，您不能新建这样的项目。

如果您想使用您的代码，这将对您有所帮助： [在 XCode 上找不到基于窗口的应用程序](https://stackoverflow.com/questions/8005546/cannot-find-window-based-application-on-xcode)

如果您使用故事板，那么构建这样的应用程序非常容易。

# design-patterns - 外观设计模式是否类似于 MVC？

> ID：13640574
> 
> 赞同：3
> 
> 时间：2012-11-30T07:10:41.997
> 
> 标签：design-patterns

我对外观设计模式的使用感到困惑。是类似于 MVC 的门面。我问这个是因为我在一个项目中使用了外观，它有助于将前端接口与后端内部分离。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-11-30T07:27:03.433

我想说你可能忽略了很多事情，MVC 是一个完整的框架，可以帮助你分离控制器（处理 Web 请求的基础设施）和模型（这是你传递给视图的信息）和视图（它只对呈现信息感兴趣）。

我对外观的看法，可以适用于任何你想要提供一个系统组件的更简单接口的东西，只要它需要与另一个系统组件通信，这是为了避免过于繁琐或过于复杂的复杂 API。

关于外观，有适配器模式，它与外观一样工作，试图从系统组件简化 API，但不同之处在于其中一个组件不受您的控制，是您无法修改的东西行为。ASP.Net 缓存可能是一个示例，您将创建一个适配器以满足您的要求，如果 ASP.Net 缓存发生显着更改，您将需要更新您的适配器。

所以总的来说，两者都是模式，但我认为 MVC 类似于 Framework+Pattern，而 FAcade 只是一个简单的功能，可以在您使用复杂的软件组件时简化您的工作。

希望能帮助到你，

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-30T13:35:39.863

用最简单的话来说——Facade 用于向客户端隐藏系统/子系统/层的内部细节，而 MVC 是一种将业务、表示和控制器解耦的架构。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-09-23T10:06:41.200

外观模式 为子系统中的一组接口提供统一的接口。

Facade 定义了一个更高级别的接口，使子系统更易于使用。这可用于将许多复杂的对象交互简化为单个界面。

外观模式可用于 MVC 应用程序，以增强复杂 MVC 应用程序的分层架构。

# merge - 两个谷歌分析帐户

> ID：13640579
> 
> 赞同：0
> 
> 时间：2012-11-30T07:11:03.573
> 
> 标签：merge, google-analytics, accounts

这是问题所在。我在页面中添加了一个新的分析代码，却不知道它已经有一个。

所以现在，一个网站有两个跟踪代码，但报告数据不同。

愚蠢的我..现在我什至不知道哪个是正确的。

理想情况下，我想使用两者中的所有正确数据并将它们合并为一个。应该是不可能的吧。。

有谁知道我该怎么办？

感谢帮助！

这是代码。

```

      变种 _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'MYSITE_ID_1']);
      _gaq.push(['_trackPageview']);

      （功能（） {
        var ga = document.createElement('script'); ga.type = '文本/javascript'; ga.async =真；
        ga.src = ('https:' == document.location.protocol ?'https://ssl': 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

      变种 _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'MYSITE_ID_2']);
      _gaq.push(['_setDomainName', 'mysite.com']);
      _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);

      （功能（） {
        var ga = document.createElement('script'); ga.type = '文本/javascript'; ga.async =真；
        ga.src = ('https:' == document.location.protocol ?'https://': 'http://') + 'stats.g.doubleclick.net/dc.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-05T11:49:10.987

您不能将一个帐户中的数据合并到另一个帐户中。您最好确定哪个帐户拥有最佳数据，然后从您的站点中删除另一个帐户的代码。您不需要关闭其他帐户，因此数据不会丢失。如果您需要查看另一个帐户上的旧数据，那么从 2 个来源中提取数据会很痛苦。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2017-02-09T16:40:16.990

我怀疑两种视图的综合浏览量相同，但 MYSITE_ID_1 视图中的访问量更高，因为它配置为在有人跨子域时创建新的访问者 ID。

如果您的网络媒体资源共享一个公共域（例如 website.com）但您有多个子域（例如landing.domain.com 和 store.domain.com），则 MYSITE_ID_2 数据很可能是正确的，因为它在每个域中维护会话信息子域。

# php - 解析错误：语法错误，第 14 行 C:\xampp\htdocs\database.php 中的意外 $end

> ID：13640581
> 
> 赞同：-2
> 
> 时间：2012-11-30T07:11:15.193
> 
> 标签：php

我是 php 新手，我自己学习它。

我收到上述错误。我确实尝试了谷歌建议的所有方法，但无法解决。需要帮忙。无法继续前进！！！

第 14 行是“$category = $category->fetch();”

```
<?php>
require 'database.php';

//get category ID
$category_id = $_GET['category_id'];
if(!isset($category_id)) {
$category_id = 1;
}

//Get name for current category
$query = "SELECT * FROM categories
      WHERE categoryID = $category_id";
 $category = $db->query($query);
 $category = $category->fetch();
 $category_name = $category['categoryName'];

 //Get all categories
 $query = 'SELECT * FROM categories
      ORDER BY categoryID';
 $categories = $db->query($query);

 //Get all products for selected category
$query = "SELECT * FROM products 
     WHERE categoryID = $category_id
     ORDER BY productID";
 $products = $db->query($query);

?>

 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitionl.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!--the head section -->
<head>
<title>My Guitar Shop</title>
<link>rel = "stylesheet" type ="text/css" href = main.css"/>
</head>

<!-- the body section -->
<body>
<div id = "page">
<div id = "main">

 <h1>Product List</h1>
 <div id = "sidebar"> 

 <!-- display a list of categories -->
 <h2> Categories</h2>
 <ul class = "nav">
 <?php foreach (categories as $category):?>
 <li>
 <a ref = "?category_id =<?php echo $category['categoryID'];?>">
 <?php echo $category['categoryName'];?>
 </a>
 </li>
 <?php endforeach;?>
 </ul>
 </div>

      <div id = "content">
     <!-- display a table of products -->
 <h2><?php echo $category_name;?></h2>
 <table>
 <tr>
    <th> Code</th>
    <th>Name</th>
    <th class = "right">Price</th>
 </tr>

 <?php foreach($products as $product):?>
 <tr>
     <td><?php echo $product['productCode'];?></td>
     <td><?php echo $product['productName'];?></td>
     <td class="right"><?php echo $product['listPrice'];?></td>
</tr>
    <?php endforeach;?>
     </table>   
</div>
     <div id ="footer"></div>
  </div><!--end page-->
  </body>
 </html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:51:48.550

```
<?php foreach (categories as $category):?> 
```

变量名称类别前缺少 $ 符号

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:15:30.177

它认为你错过了“;” 在“database.php”文件的 13 行左右。一旦检查它。

如果您提供“database.php”文件代码，我们可以帮助您找出错误所在。

# visual-studio-2012 - 检查任一库的更新时出错 - VS2012 Update 1

> ID：13640582
> 
> 赞同：1
> 
> 时间：2012-11-30T07:11:21.280
> 
> 标签：visual-studio-2012

我刚刚用 Update 1 更新了我的 Visual Studio 2012。我想检查是否有任何相关的更新，所以我跳进了 Tools->Extensions and Updates 并选择了 Updates。在产品更新条目上一切都很好，但如果我选择 Visual Studio Gallery 或 Samples Gallery 我会显示

> 无法检查更新，因为尝试联系服务器时发生以下错误：
> 
> 'System.ServiceModel.Diagnostics.TraceUtility' 的类型初始化程序引发了异常。
> 
> 请单击此处重试请求。

重试没有任何好处。我知道我不需要检查，因为我打开了自动检测，但如果我没有，我就不会看到错误。我想知道是否有其他人遇到同样的问题？它发生在多台 Windows 7 机器上，但不是我的 Windows 8 机器。

有人有同样的问题吗？

# ios - 为什么我没有从 eBay 获得产品价格？

> ID：13640583
> 
> 赞同：2
> 
> 时间：2012-11-30T07:11:26.100
> 
> 标签：ios, asp.net, iphone, web-services

我通过这种方式获取 ebay 产品信息：

```
http://open.api.ebay.com/shopping?
   callname=FindProducts&
   responseencoding=XML&
   appid=YourAppIDHere&
   siteid=0&
   version=525&
   QueryKeywords=harry%20potter&
   AvailableItemsOnly=true&
   MaxEntries=2 
```

但我没有得到产品价格作为回应。我应该改变请求参数吗？或者我应该使用 ebay Web 服务的另一种方法来获取这些信息？

回应是

```
<FindProductsResponse xmlns="urn:ebay:apis:eBLBaseComponents">
<Timestamp>2012-11-30T06:54:54.713Z</Timestamp>
<Ack>Success</Ack>
<Build>E799_CORE_BUNDLED_15523174_R1</Build>
<Version>799</Version>
<ApproximatePages>700</ApproximatePages>
<MoreResults>true</MoreResults>
<PageNumber>1</PageNumber>
<Product>
<DomainName>DVDs</DomainName>
<DetailsURL>
http://syicatalogs.ebay.com/ws/eBayISAPI.dll?PageSyiProductDetails&IncludeAttributes=1&ShowAttributesTable=1&ProductMementoString=119128:2:1049:4276619924:441341764:7a3b4632d7a0c4ee860c374349c61b36:1:1:1:5000000672733
</DetailsURL>
<DisplayStockPhotos>true</DisplayStockPhotos>
<ProductID type="Reference">110258144</ProductID>
<ProductID type="UPC">883929182879</ProductID>
<ItemSpecifics>
<NameValueList>
<Name>Movie Rating</Name>
<Value>PG-13 (MPAA)</Value>
</NameValueList>
<NameValueList>
<Name>Genre</Name>
<Value>Childrens</Value>
</NameValueList>
<NameValueList>
<Name>Format</Name>
<Value>DVD</Value>
</NameValueList>
<NameValueList>
<Name>Work Name</Name>
<Value>Harry Potter: Complete 8-Film Collection</Value>
</NameValueList>
<NameValueList>
<Name>Region Code</Name>
<Value>Region 1</Value>
</NameValueList>
</ItemSpecifics>
<ReviewCount>195</ReviewCount>
<StockPhotoURL>
http://i.ebayimg.com/00/$(KGrHqV,!g0E6ZCwQ)wpBOuWbUNB,g~~_6.JPG?set_id=89040003C1
</StockPhotoURL>
<Title>
Harry Potter: Complete 8-Film Collection (DVD, 2011, 8-Disc Set)
</Title>
</Product>
<Product>
<DomainName>DVDs</DomainName>
<DetailsURL>
http://syicatalogs.ebay.com/ws/eBayISAPI.dll?PageSyiProductDetails&IncludeAttributes=1&ShowAttributesTable=1&ProductMementoString=119128:2:1049:1597262630:429151180:bf834db05cfb5150fe073087ebe92117:1:1:1:1415162318
</DetailsURL>
<DisplayStockPhotos>true</DisplayStockPhotos>
<ProductID type="Reference">99846530</ProductID>
<ProductID type="UPC">883929139446</ProductID>
<ItemSpecifics>
<NameValueList>
<Name>Movie Rating</Name>
<Value>PG-13 (MPAA)</Value>
</NameValueList>
<NameValueList>
<Name>Genre</Name>
<Value>Science-Fiction/Fantasy</Value>
</NameValueList>
<NameValueList>
<Name>Director</Name>
<Value>David Yates</Value>
</NameValueList>
<NameValueList>
<Name>Format</Name>
<Value>DVD</Value>
</NameValueList>
<NameValueList>
<Name>Work Name</Name>
<Value>Harry Potter and the Deathly Hallows: Part I</Value>
</NameValueList>
<NameValueList>
<Name>Region Code</Name>
<Value>Region 1</Value>
</NameValueList>
<NameValueList>
<Name>Producer</Name>
<Value>David Heyman</Value>
</NameValueList>
</ItemSpecifics>
<ReviewCount>163</ReviewCount>
<StockPhotoURL>
http://i.ebayimg.com/00/$(KGrHqF,!l0E2DwP)(v!BNo16imfYQ~~_6.JPG?set_id=89040003C1
</StockPhotoURL>
<Title>
Harry Potter and the Death 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T07:47:56.037

检查[此链接](http://developer.ebay.com/DevZone/shopping/docs/CallRef/GetSingleItem.html#sampledescriptionitemspecifics)：[获取项目描述和项目细节](http://developer.ebay.com/DevZone/shopping/docs/CallRef/GetSingleItem.html#sampledescriptionitemspecifics) [http://developer.ebay.com/DevZone/shopping/docs/CallRef/GetSingleItem.html#sampledescriptionitemspecifics](http://developer.ebay.com/DevZone/shopping/docs/CallRef/GetSingleItem.html#sampledescriptionitemspecifics)

URL 格式 (HTTP GET)。另请参阅此 URL 的非包装版本。对于非 XML 格式的结果，请为 responseencoding 指定不同的值。

```
http://open.api.ebay.com/shopping?
   callname=GetSingleItem&
   responseencoding=XML&
   appid=YourAppIDHere&
   siteid=0&
   version=515&
   ItemID=180126682091&
   IncludeSelector=Description,ItemSpecifics 
```

您必须通过 ItemID 才能获得[详细说明](http://www.developer.ebay.com/DevZone/finding/CallRef/index.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:29:12.577

根据[此信息](http://developer.ebay.com/DevZone/shopping/docs/CallRef/FindProducts.html#Response.ItemArray.Item.BuyItNowPrice)，某些值似乎在响应中有条件出现。因此，也许您可​​能需要检查响应是否首先返回价格，如果没有，请查询另一个 api，并说产品 id 值。HTH。

# php - PHP分页代码不起作用

> ID：13640584
> 
> 赞同：1
> 
> 时间：2012-11-30T07:11:28.650
> 
> 标签：php, mysql, pagination

我无法进行分页。该代码显示从 mysql 检索的所有数据。请帮我把它弄好......

**函数.php**

```
function pagination($limit=5) //here limit is not taken by the code
{

//$limit=5; if I uncomment this line limit will work
global $admin;

$sql = "SELECT FOUND_ROWS();";
$result = mysql_query($sql) or die(mysql_error());
$row = mysql_fetch_array($result);
$numrows = $row[0];
$pagelinks = "<div class=pagelinks>";
if ($numrows > $limit) {
if(isset($_GET['page'])){
  $page = $_GET['page'];
} else {
  $page = 1;
}
$currpage = $_SERVER['PHP_SELF'] . "?" . $_SERVER['QUERY_STRING'];
$currpage = str_replace("&page=".$page,"",$currpage);

if($page == 1){
  $pagelinks .= "<span class='pageprevdead'>&lt; PREV</span>";
}else{
  $pageprev = $page - 1;
  $pagelinks .= "<a class='pageprevlink' href='" . $currpage .
    "&page=" . $pageprev . "'>&lt; PREV</a>";
}

$numofpages = ceil($numrows / $limit);
$range = $admin['pageRange']['value'];
if ($range == "" or $range == 0) $range = 7;
$lrange = max(1,$page-(($range-1)/2));
$rrange = min($numofpages,$page+(($range-1)/2));
if (($rrange - $lrange) < ($range - 1)) {
  if ($lrange == 1) {
    $rrange = min($lrange + ($range-1), $numofpages);
  } else {
    $lrange = max($rrange - ($range-1), 0);
  }
}

if ($lrange > 1) {
  $pagelinks .= "..";
} else {
  $pagelinks .= "&nbsp;&nbsp;";
}
for($i = 1; $i <= $numofpages; $i++){
  if($i == $page){
    $pagelinks .= "<span class='pagenumdead'>$i</span>";
  }else{
    if ($lrange <= $i and $i <= $rrange) {
      $pagelinks .= "<a class='pagenumlink' href='" . $currpage .
      "&page=" . $i . "'>" . $i . "</a>";
    }
  }
}
if ($rrange < $numofpages) {
  $pagelinks .= "..";
} else {
  $pagelinks .= "&nbsp;&nbsp;";
}

if(($numrows - ($limit * $page)) > 0){
  $pagenext = $page + 1;
  $pagelinks .= "<a class='pagenextlink' href='" . $currpage .
    "&page=" . $pagenext . "'>NEXT &gt;</a>";
} else {
  $pagelinks .= "<span class='pagenextdead'>NEXT &gt;</span>";
}
} else {
$pagelinks .= "<span class='pageprevdead'>
  &lt; PREV</span>&nbsp;&nbsp;";
$pagelinks .= "<span class='pagenextdead'>
  NEXT &gt;</span>&nbsp;&nbsp;";
}
$pagelinks .= "</div>";
return $pagelinks;
}' 
```

**索引.php**

```
$sql = "SELECT id FROM articles WHERE is_published=1 " .
"ORDER BY date_published DESC"; //this is the query to retrive data from mysql

$result = mysql_query($sql,$conn);

if (mysql_num_rows($result) == 0) {
echo "  <br />\n";
echo "  There are currently no articles to view.\n";
} else {
while ($row = mysql_fetch_array($result)) {
outputStory($row['article_id'],TRUE);
}
}

echo pagination($limit);` 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:34:54.410

此代码不完整。但是，您需要做的第一件事是将 $limit 添加到实际的 sql 查询中：

```
$sql = "SELECT id FROM articles WHERE is_published=1 " .
   "ORDER BY date_published DESC LIMIT {$limit}"; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T08:10:44.353

尝试这个。只需创建一个名为 player 的 mysql 表，其中包含 3 个字段：- id、firstname、lastname 以检查代码的工作方式。

```
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN""http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>

    <title>View Records</title>

</head>
<body>

<?php
/* 
    VIEW-PAGINATED.PHP
    Displays all data from 'players' table

    This is a modified version of view.php that includes pagination
*/

    // connect to the database

    include('dbconfig.php');

    // number of results to show per page
    $per_page = 2;

    // figure out the total pages in the database
    $result = mysql_query("SELECT * FROM players");

    $total_results = mysql_num_rows($result);

    $total_pages = ceil($total_results / $per_page);

    // check if the 'page' variable is set in the URL (ex: view-paginated.php?page=1)
    if (isset($_GET['page']) && is_numeric($_GET['page']))

    {
            $show_page = $_GET['page'];

            // make sure the $show_page value is valid
            if ($show_page > 0 && $show_page <= $total_pages)

            {
                    $start = ($show_page -1) * $per_page;

                    $end = $start + $per_page; 

            }
            else

            {
                    // error - show first set of results

                    $start = 0;

                    $end = $per_page; 

            }               
    }

    else
    {

            // if page isn't set, show first set of results
            $start = 0;

            $end = $per_page; 

    }

    // display pagination

    echo "<p><a href='view.php'>View All</a> | <b>View Page:</b> ";

    for ($i = 1; $i <= $total_pages; $i++)

    {
            echo "<a href='view-paginated.php?page=$i'>$i</a> ";

    }
    echo "</p>";

    // display data in table
    echo "<table border='1' cellpadding='10'>";

    echo "<tr> <th>ID</th> <th>First Name</th> <th>Last Name</th> <th></th> <th></th></tr>";

    // loop through results of database query, displaying them in the table 
    for ($i = $start; $i < $end; $i++)

    {
            // make sure that PHP doesn't try to show results that don't exist

            if ($i == $total_results) { break; }

            // echo out the contents of each row into a table
            echo "<tr>";

            echo '<td>' . mysql_result($result, $i, 'id') . '</td>';

            echo '<td>' . mysql_result($result, $i, 'firstname') . '</td>';

            echo '<td>' . mysql_result($result, $i, 'lastname') . '</td>';

            echo '<td><a href="edit.php?id=' . mysql_result($result, $i, 'id') . '">Edit</a></td>';

            echo '<td><a href="delete.php?id=' . mysql_result($result, $i, 'id') . '">Delete</a></td>';

            echo "</tr>"; 
    }

    // close table>
    echo "</table>"; 

    // pagination

?>

<p><a href="new.php">Add a new record</a></p>

</body>
</html> 
```

# android - Android系统会发送广播告诉它无法打开文件吗？

> ID：13640585
> 
> 赞同：0
> 
> 时间：2012-11-30T07:11:29.327
> 
> 标签：android, broadcast

我下载文件并向通知栏发送通知。当用户单击它时，系统将打开该文件。但有时，下载的文件没有应用程序打开它，所以我想向用户敬酒，告诉他们文件无法打开。

我想知道有没有Android系统发送的广播告诉我无法打开文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T07:25:25.533

正如我从您的问题中看到的那样，您想在发生 NotFoundActivityException 时发送一条消息。因此，您可以执行以下代码：

```
try {
    Intent intent = new Intent();
    intent.setAction(android.content.Intent.ACTION_VIEW);
    File file = new File(your_file_full_path); 
    intent.setDataAndType(Uri.fromFile(file), your_file_content_type);
    startActivity(intent);
} catch (ActivityNotFoundException e) {
    Toast.makeText(activity_context, "Activity not found", Toast.LENGTH_SHORT).show();
} 
```

# mysql - MySQL - 无法设置特定于表的特权

> ID：13640586
> 
> 赞同：0
> 
> 时间：2012-11-30T07:11:38.530
> 
> 标签：mysql

我只想让我的一个用户访问几个表，但是当我执行以下查询时：

> GRANT SELECT (credits_features_csgo, steam_code, credits_csgo, userid, credits_forum, credits_features_tf2, credits_tf2, credits_css, credits_features), INSERT (credits_features_csgo, steam_code, credits_csgo, userid, credits_forum, credits_features_tf2, credits_tf2, credits_css, credits_gocsgo, feature_update, credits_css, credits_gocsgo, feature) , userid, credits_forum, credits_features_tf2, credits_tf2, credits_css, credits_features), CREATE, REFERENCES (credits_features_csgo, steam_code, credits_csgo, userid, credits_forum, credits_features_tf2, credits_css, credits_features), ALTER ON `bob_forum`。`vb_user` TO 'bob_store'@'localhost';

它执行成功，但是，当我去检查用户的权限时，它只被授予使用权限。数据库是 MyISAM。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T07:35:50.733

查询是正确的。如果没有错误，则授予所有权限。

尝试使用此查询检查权限 -

```
SHOW GRANTS FOR 'bob_store'@'localhost'; 
```

# delphi - 德尔福的 XQuery / XPATH 2.0

> ID：13640589
> 
> 赞同：2
> 
> 时间：2012-11-30T07:12:23.210
> 
> 标签：delphi, delphi-xe2

是否有任何 Delphi 库允许使用 XPath 或 XQuery 解析 HTML。类似于 PHP 默认内置的。例如 FLWOR..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T07:31:16.097

我不知道任何库，但这是我的 XE2 辅助类单元，它带有我用来“执行”XPath 的 SelectNode(s) 函数。RemoveNameSpaces 和 XMLToTree 函数不适用，但谁知道它们什么时候会派上用场 ;-)

```
unit uXMLHelper;

interface

Uses
   System.SysUtils, System.Classes, System.TypInfo, Vcl.ComCtrls,
   XML.XMLDoc, XMLDom, XML.XMLIntf;

type
   TXMLHelper = class
   public
      class function SelectNode(StartNode: IXmlNode; const NodeXPath: WideString): IXmlNode;
      class function SelectNodes(StartNode: IXmlNode; const NodeXPath: WideString): IXMLNodeList;
      class function RemoveNameSpaces(XMLString: String): String;
      class procedure XMLToTree(XmlDoc: IXMLDocument; TV: TTreeView);
   end;

function ConcatNodeNames(NodeNames: Array of String): String;
// Concatenates the strings in NodeNames to /name1/name2/.../namex

implementation

Uses
   MSXML2_TLB; // IXMLDOMdocument

class function TXMLHelper.RemoveNameSpaces(XMLString: String): String;
const
  // An XSLT script for removing the namespaces from any document. It will remove the prefix as well.
  // From http://wiki.tei-c.org/index.php/Remove-Namespaces.xsl
  cRemoveNSTransform =
    '<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">' +
    '<xsl:output method="xml" indent="no"/>' +

    '<xsl:template match="/|comment()|processing-instruction()">' +
    '    <xsl:copy>' +
    '      <xsl:apply-templates/>' +
    '    </xsl:copy>' +
    '</xsl:template>' +

    '<xsl:template match="*">' +
    '    <xsl:element name="{local-name()}">' +
    '      <xsl:apply-templates select="@*|node()"/>' +
    '    </xsl:element>' +
    '</xsl:template>' +

    '<xsl:template match="@*">' +
    '    <xsl:attribute name="{local-name()}">' +
    '      <xsl:value-of select="."/>' +
    '    </xsl:attribute>' +
    '</xsl:template>' +

    '</xsl:stylesheet>';

var
  Doc, XSL: IXMLDOMdocument2;
  Res     : string;
  p       : Integer;
begin
  Doc := ComsDOMDocument.Create;
  Doc.ASync := false;
  XSL := ComsDOMDocument.Create;
  XSL.ASync := false;
  try
     Doc.loadXML(XMLString);
     XSL.loadXML(cRemoveNSTransform);
     Res := Doc.TransFormNode(XSL);
     // This now contains the original text with a <?xml version="1.0" encoding="UTF-16"?> prepended; remove it:
     p := Pos('?>',Res);
     result := Copy(Res,P+2);
  except
     on E:Exception do Result := E.Message;
  end;
end; { RemoveNameSpaces }

class function TXMLHelper.SelectNode(StartNode: IXmlNode; const NodeXPath: WideString): IXmlNode;
// Geeft de node in path NodeXPath onder StartNode
// http://delphi.about.com/od/delphi-tips-2011/qt/select-single-node-ixmlnode-txmlnode-xpath-delphi-xmldom.htm
var
  intfSelect    : IDomNodeSelect;
  dnResult      : IDomNode;
  intfDocAccess : IXmlDocumentAccess;
  XMLDoc        : TXmlDocument;
begin
  Result := nil;
  if not Assigned(StartNode)
    or not Supports(StartNode.DOMNode, IDomNodeSelect, intfSelect) then
    Exit;

  dnResult := intfSelect.selectNode(NodeXPath);
  if Assigned(dnResult) then
  begin
    if Supports(StartNode.OwnerDocument, IXmlDocumentAccess, intfDocAccess) then
      XMLDoc := intfDocAccess.DocumentObject
    else
      XMLDoc := nil;
    Result := TXmlNode.Create(dnResult, nil, XMLDoc);
  end;
end; { SelectNode }

class function TXMLHelper.SelectNodes(StartNode: IXmlNode; const NodeXPath: WideString): IXMLNodeList;
(* Returns a list of all nodes in path NodeXPath below StartNode.
 * NodeXPath is relative; e.g. with:
 *
 * <Envelope>                            <= DocumentElement root
 *    <Body>
 *       <FindItemResponse>
 *          <ResponseMessages>
 *             <FindItemResponseMessage>
 *                <RootFolder>           <= IRootNode
 *                   <Items>
 *                      <CalendarItem>
 *
 * these are identical:
 *   SelectNodes(DocumentElement,'Envelope/Body/FindItemResponse/ResponseMessages/FindItemResponseMessage/RootFolder/Items/CalendarItem')
 *   SelectNodes(DocumentElement,'/Envelope/Body/FindItemResponse/ResponseMessages/FindItemResponseMessage/RootFolder/Items/CalendarItem')
 *   SelectNodes(IRootNode,'Items/CalendarItem')
 *
 * http://delphi.about.com/od/vclusing/qt/delphi-select-xml-nodes-ixmlnodelist-selectnodes-xpath-xmldom.htm
 *)
var
  intfSelect    : IDomNodeSelect;
  intfAccess    : IXmlNodeAccess;
  dnlResult     : IDomNodeList;
  intfDocAccess : IXmlDocumentAccess;
  XMLDoc        : TXmlDocument;
  i             : Integer;
  dn            : IDomNode;
begin
  Result := nil;
  if not Assigned(StartNode)
    or not Supports(StartNode, IXmlNodeAccess, intfAccess)
    or not Supports(StartNode.DOMNode, IDomNodeSelect, intfSelect) then
    Exit;

  dnlResult := intfSelect.selectNodes(NodeXPath);
  if Assigned(dnlResult) then
  begin
    // Since the XPath implementation of SelectNodes returns an IDomNodeList and we need an IXMLNodeList
    // we need to "wrap" a call to IDomNodeSelect.selectNodes into a function that will result in IXMLNodeList.
    Result := TXmlNodeList.Create(intfAccess.GetNodeObject, '', nil);
    if Supports(StartNode.OwnerDocument, IXmlDocumentAccess, intfDocAccess) then
      XMLDoc := intfDocAccess.DocumentObject
    else
      XMLDoc := nil;

    for i := 0 to dnlResult.length - 1 do
    begin
      dn := dnlResult.item[i];
      Result.Add(TXmlNode.Create(dn, nil, XMLDoc));
    end;
  end;
end; { SelectNodes }

procedure DomToTree(XmlNode: IXMLNode; TV: TTreeView; TreeNode: TTreeNode);
var
   I: Integer;
   NewTreeNode: TTreeNode;
   NodeText: string;
   AttrNode: IXMLNode;
begin
  // Skip text nodes and other special cases
  if XmlNode.NodeType <> ntElement then Exit;
  try
     // Add the node itself
     NodeText := XmlNode.NodeName;
     if XmlNode.IsTextElement then
       NodeText := NodeText + ' = ' + XmlNode.NodeValue;
     NewTreeNode := TV.Items.AddChild(TreeNode, NodeText);
     // Add attributes
     for I := 0 to xmlNode.AttributeNodes.Count - 1 do
     begin
       AttrNode := xmlNode.AttributeNodes.Nodes[I];
       TV.Items.AddChild(NewTreeNode,
         '[' + AttrNode.NodeName + ' = "' + AttrNode.Text + '"]');
     end;
     // add each child node
     if XmlNode.HasChildNodes then
       for I := 0 to xmlNode.ChildNodes.Count - 1 do
         DomToTree (xmlNode.ChildNodes.Nodes [I], TV, NewTreeNode);
  except
     on E:Exception do
        TV.Items.AddChild(TreeNode, E.Message);
  end;
end; { DomToTree }

class procedure TXMLHelper.XMLToTree(XmlDoc: IXMLDocument; TV: TTreeView);
begin
   XMlDoc.Active := true;
   TV.Items.Clear;
   DomToTree(XMLDoc.DocumentElement,TV,nil);
end; { XMLToTree }

function ConcatNodeNames(NodeNames: Array of String): String;
var Res,Nam : String;
begin
   for Nam in NodeNames do Res := Res + '/' + Nam;
   Result := Res;
end;

end. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T08:14:00.800

可能[OmniXML](http://code.google.com/p/omnixml/)会有用（参见 XPath 演示）。另一个 用于 HTML 解析[的](http://www.benibela.de/sources_en.html#internettools)库包括 XPath 2 支持；

# java - Java LinkedHashMap 在 Play Framework 2.0 模板中循环时不保持插入顺序

> ID：13640593
> 
> 赞同：1
> 
> 时间：2012-11-30T07:12:51.797
> 
> 标签：java, collections, playframework-2.0, linkedhashmap, scala-template

在播放框架的（2.0）应用程序控制器中，我正在创建一个 java `LinkedHashMap<String, List<MyObject>)`来维护我插入字符串键的顺序。

我尝试在模板中迭代这个 LinkedHashMap，如下所示：-

```
@for(currentKey <- linkedHashMapInstance.keySet()){
 ....
   loop  myObjectList for the currentKey
 ....
} 
```

每当我刷新屏幕时，我都会得到随机顺序。

然后我试图改变循环的逻辑

```
@for((currentKey , currentList) <- mapOfCards){
 .. used the key and the list
} 
```

现在我得到了一致的顺序，但不是我插入的顺序。服务器端的调试日志显示了正确的顺序。

我假设 Java 中的 LinkedHashMap 将保持插入的顺序，即使它在 scala 模板中呈现。

我在这里做错了吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T07:58:30.290

可能与Java->Scala转换有关。

尝试`.asScala`像这样使用：

```
@for((currentKey , currentList) <- mapOfCards.asScala){
 .. 
} 
```

更新 ：

它适用于：

```
@for((currentKey , currentList) <- scala.collection.mutable.LinkedHashMap.empty[String, String] ++ mapOfCards) {

} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-04T10:12:58.520

几个月前我也遇到过同样的问题。正如@nico_ekito 指出的那样，这是与Java-> Scala 转换有关的问题。

要修复它，请尝试以下操作：

```
@for((currentKey , currentList) <- SortedMap.empty[String, String] ++ mapOfCards) {

} 
```

通过替换`[String, String]`为您的`(currentKey , currentList)`.

希望有帮助，它对我有用。

# iphone - 使用委托及其选择器

> ID：13640594
> 
> 赞同：0
> 
> 时间：2012-11-30T07:12:53.090
> 
> 标签：iphone, objective-c, ios, ipad, cocoa

我有一个特定的场景，我试图完成更通用的方法来使用委托并根据正在设置的选择器调用选择器。

例如下面是代码：

```
@protocol HttpRequestDelegate
@optional

- (void)testDrive:(NSData*)dataembedd;

@end

- (id)init {

    self = [super init]; 

    if (self) {

        //Initialize it here.
        self.HttpRequestdelegate = self;
    }

    return self;
}

HttpRequest *apiCaller = [[HttpRequest alloc] init];
        NSLog(@"%@",apiCaller.HttpRequestdelegate);
        [WLCC_ApiCaller executeAsync:apiCaller.HttpRequestdelegate :@selector(testDrive:) :[NSURL URLWithString:updateUrl] :wlcc_Get]; 
```

但是在 executeAsync 调用中，我试图调用选择器，它是试驾，例如：

```
[delegate performSelector:@selector(selector) withObject:responseData]; 
```

但它给了我一个未知选择器的错误，但是当我注意到委托的引用在初始化时它是相同的。

我正在尝试在不同的类中使用委托执行选择器，除了我需要在这里做的其他事情吗？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T09:01:41.987

我想应该是；看起来您正在其他地方实现功能并尝试从未继承委托的地方调用，并且可能会错过该特定功能实现。

通常，使用委托模式，因此我们可以根据需要实现函数（或者可以说提供回调），但该类必须符合该委托。您检查了吗？

请详细说明您的实施，因为我认为幕后有很多信息，例如：WLCC_ApiCaller executeAsync 等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:19:38.390

像这样定义您的协议：

```
@protocol HttpRequestDelegate <NSObject> 
```

有一个`NSObject`类和一个`NSObject`协议。您的所有协议都应符合`NSObject`协议。这为您提供了类似的方法`respondsToSelector:`和其他方法。

# javascript - 在页面上应用渐变而不妨碍用户交互

> ID：13640597
> 
> 赞同：2
> 
> 时间：2012-11-30T07:13:18.800
> 
> 标签：javascript, html, css

> **可能重复：**
> [单击 DIV 到底层元素](https://stackoverflow.com/questions/3680429/click-through-a-div-to-underlying-elements)

我想在整个网页上应用径向 CSS 渐变而不阻塞用户交互。用户需要通过渐变下方元素上的鼠标悬停事件与页面交互。有什么办法可以做到这一点？

干杯

# c# - Dropbox 及其类似“文件夹”的设计

> ID：13640599
> 
> 赞同：2
> 
> 时间：2012-11-30T07:13:28.753
> 
> 标签：c#, java, ftp, directory

我想从程序员的角度，最好是在 C# 或 Java 中，操作操作系统中的文件夹来做你想做的事情有多难，例如像 FTP 一样工作？

[图片 http://www.jacks-log.de/wp-content/uploads/2011/02/Dropbox-Wurmloch-1.png](http://www.jacks-log.de/wp-content/uploads/2011/02/Dropbox-Wurmloch-1.png)

自从几年前我听说了 Dropbox，我一直想知道这样做涉及到什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T07:39:31.867

特别是谈到 Dropbox，他们没有做任何棘手的事情 - 只是使用 Windows 用户模式 ​​API 提供的机制监视一个常规文件夹。

不过，使用内核模式驱动程序可以做更强大、更有趣的事情。

您可以做的第一件事是创建一个虚拟磁盘并将其映射到该文件夹​​。这样，您的代码（在我们产品的帮助下，无论是内核模式还是用户模式）将能够处理所有操作系统对这个文件夹中文件的请求。该文件夹将不存在于磁盘上，但将是虚拟的。您可以即时从远程服务器中选择数据，将它们写入远程服务器等。特别是，您可以将远程 SFTP 服务器映射到文件夹（使用 FTP，事情会稍微复杂一些，因为 FTP 不支持部分上传）。一些云提供商完全按照我的描述进行 - 他们提供虚拟磁盘或虚拟文件夹，这是他们云服务的“门”，当您从此类虚拟文件夹或磁盘读取或写入数据时，数据会从/到云服务器。

接下来是在文件系统过滤器驱动程序的帮助下，您可以拥有一个真实的文件夹，但动态地提供文件内容。这就是一些文件夹加密器的工作方式（它们在将文件数据写入真实磁盘时对其进行加密，如果没有激活此加密器，您将从该文件夹中的文件中读取刚刚加密的“垃圾”）。

现在，使用文件系统过滤器驱动程序，您可以控制访问文件夹的人员和方式，即您可以对文件夹内容的访问进行细粒度控制（将其与加密相结合，您可以获得方便的数据保护机制）。

# c - GCC 警告识别包含指针的复制结构

> ID：13640601
> 
> 赞同：4
> 
> 时间：2012-11-30T07:13:36.013
> 
> 标签：c, gcc

当我尝试使用赋值运算符而不是深度复制复制包含指针的结构时，是否有任何 GCC 警告警告？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T07:26:10.040

答案是不。请参阅 gcc[警告选项](http://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html)列表。

给定相同的页面，警告是：

> 警告是诊断消息，它们报告本质上不是错误但有风险或暗示可能存在错误的构造。

浅拷贝而不是深拷贝既没有风险也没有错误，因为它可能是一种预期的行为。所以没有理由存在这样的警告选项。

您可能想要的是一个静态分析器，例如[clang's one](http://clang-analyzer.llvm.org/index.html)，但据我所知，这个分析器不提供那种功能。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T07:29:25.493

我记得正好看到这样的警告`-Weffc++`

当然，您必须愿意在 c++ 模式下进行编译。（见下文）

**编辑**我对其进行了测试：遗憾的是，这不会警告 POD（即）C 类型。这是测试：

```
struct HasPointer
{
    int* resource;
    HasPointer() {};
    ~HasPointer() {};
}; 
```

编译

```
E:\mingw64>g++ test.c -Weffc++ 
```

输出

```
test.c:1:8: warning: 'struct HasPointer' has pointer data members [-Weffc++]
 struct HasPointer
        ^
test.c:1:8: warning:   but does not override 'HasPointer(const HasPointer&)' [-Weffc++]
test.c:1:8: warning:   or 'operator=(const HasPointer&)' [-Weffc++]
test.c: In constructor 'HasPointer::HasPointer()': 
```

但是将 ctor/dtor 排除在外，甚至不会发出警告，**因此此选项不适用于您的代码，即使在 C++ 编译模式下也是如此**。

* * *

在 C++ 模式下编译 C 代码：

（使用`extern "C"`）实现二进制互操作。它通常很简单

```
extern "C" 
{
#    include "my.h"
#    include "stuff.h"

// ... 
} 
```

# java - 图像未从项目 ClassPath 加载，给出错误“java.lang.IllegalArgumentException：输入 == null！”

> ID：13640602
> 
> 赞同：1
> 
> 时间：2012-11-30T07:13:45.590
> 
> 标签：java, image, servlets

> **可能重复：**
> [如何从 Netbeans 上的 Servlet 中的项目类路径获取图像](https://stackoverflow.com/questions/13646985/how-to-get-the-image-from-project-classpath-in-servlet-on-netbeans)

我在 servlet 文件中编写了以下代码来读取保存在我的项目类路径的“header”文件夹中的图像。

```
BufferedImage image = ImageIO.read(getClass().getResource("/header/header.png")); 
```

但它给出了以下错误..

```
java.lang.IllegalArgumentException: input == null! 
```

这是我的项目目录结构..

![在此处输入图像描述](../Images/55d957b68d383e3adb3561b9a0d78462.png)

请大家帮我解决这个错误。提前谢谢。

# c - 使用 C 中函数的返回值

> ID：13640606
> 
> 赞同：-1
> 
> 时间：2012-11-30T07:13:55.780
> 
> 标签：c, encryption, return-value, cs50, vigenere

我的目标是制作一个 Vigenere 密码。我试图通过从 argv 获取密钥，从用户获取字符串，然后通过我创建的一个函数传递消息和密钥，该函数将它们组合并在打印之前返回新值。出于某种原因，它只是在打印密钥。我认为这与新函数以及我如何尝试使用返回值有关。这是代码：

```
#include <stdio.h>
#include <stdlib.h>
#include <cs50.h>
#include <string.h>
#include <stdbool.h>
#include <ctype.h>
int new_crypt;
int encrypt(string , int );
int main(int argc, string argv[])
{
    if( argc != 2)
    {
        printf("Plese enter only one key");
        return 1;
    }

    string message = GetString();
    for(int i=0; i < strlen(message); i++)
    {
        int klen = strlen(argv[1]);
        //repeats the key until the message is over
        int key= argv[1][i%klen];
        bool kupper = isupper(key);
        bool klower = islower(key);
        bool kalpha = isalpha(key);
        if(kupper == true){
            //ASCII value of A is 65\. 'A' = 0 shifts
            int k = key-65;
            int new_crypt = encrypt(message, k);
            printf("%c", new_crypt);
        }
        if(klower == true){
            //ASCII value of 'a' is 97\. 'a' = 0 shifts
            int k = key- 97;
            int new_crypt = encrypt(message, k);
            printf("%c", new_crypt);
        }
        if(kalpha == false){
            int k = 0;
            int i = i-1;
            int new_crypt = encrypt(message, k);
            printf("%c", new_crypt);
        }

    }

    printf("\n");
    return 0;
}
int encrypt(string message, int k)
{
    for(int i=0; i < strlen(message); i++)
    {
        bool upper = isupper(message[i]);
        if(upper == true)
        {   //Makes sure the message doesnt go past 'Z'.. If it does it mod 90 it                                            /                   // and adds 65 ('A')
            int crypt = (message[i]+ k) % 90;
            if(crypt < 65)
            {
                int new_crypt = (crypt + 65);
                return new_crypt;
            }
            else{
                int new_crypt = crypt;
                return new_crypt;
            }
        }
        bool lower = islower(message[i]);
        if(lower == true)
        {
            int crypt = (message[i]+ k) % 123;
            if(crypt < 97)
            {
                int new_crypt = crypt + 97;
                return new_crypt;
            }
            else{
                int new_crypt = crypt;
                return new_crypt;
            }
        }
        bool alpha = isalpha(message[i]);
        if(alpha == false)
        {
            int new_crypt = message[i];
            return new_crypt;
        }
    }
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T09:14:04.797

函数中的循环`encrypt`是完全没用的，因为没有一条`return`语句会导致循环终止并将控制权返回给`encrypt`. 这使得整个程序使用密钥中的连续元素重复加密消息的第一个字符。

解决此问题的最简单方法是进行以下更改

*   从`encrypt`函数中删除循环
*   将要加密的消息中的元素作为附加参数传递，从而进行签名

    ```
    int encrypt(string message, int k, int i) 
    ```

* * *

一些杂项说明：

*   全局变量`new_crypt`不在任何地方使用。您可以安全地删除它。（您应该尽可能合理地避免使用全局变量）。
*   除了使用幻数`65`，您还可以使用字符文字`'A'`。这样做的好处是您不需要注释来解释数字 65，并且它始终是大写 A 的正确值，即使您最终不使用 ASCII。（但另见下一个项目符号）
*   您的代码假定字母 A 到 Z（和 a 到 z）具有连续值（例如 Z == A+26）。ASCII 编码中的英文字母可能会发生这种情况，但不能保证其他语言字母或编码。

# sql-server - 优化运行批处理文件的性能

> ID：13640608
> 
> 赞同：0
> 
> 时间：2012-11-30T07:14:07.993
> 
> 标签：sql-server, batch-file

我有一个批处理文件，用于从数据库中复制数据。该数据库有超过 7500 万条记录。

所以我做了8个输出文件..每个1000万检索范围。

Tha批处理文件如下：

```
echo off

REM -t"^^" -r"~`~" 

"C:\Program Files\Microsoft SQL Server\100\Tools\Binn\bcp" "DatabaseD1.dbo.TOOLS_AUDIT" out audit_b1.dat -S"LDNPCM05927V05B\DSDCU_MAIN2_UAT" -UUserID -PPassword-c -F1 -L10000000 -t"^^" -r"~`~"

REM "C:\Program Files\Microsoft SQL Server\100\Tools\Binn\bcp" "DatabaseD1.dbo.TOOLS_AUDIT" out audit_b2.dat -S"LDNPCM05927V05B\DSDCU_MAIN2_UAT" -UUserID -PPassword-c -F10000001 -L20000000 -t"^^" -r"~`~"

rem "C:\Program Files\Microsoft SQL Server\100\Tools\Binn\bcp" "DatabaseD1.dbo.TOOLS_AUDIT" out audit_b3.dat -S"LDNPCM05927V05B\DSDCU_MAIN2_UAT" -UUserID -PPassword-c -F20000001 -L30000000 -t"^^" -r"~`~"

rem "C:\Program Files\Microsoft SQL Server\100\Tools\Binn\bcp" "DatabaseD1.dbo.TOOLS_AUDIT" out audit_b4.dat -S"LDNPCM05927V05B\DSDCU_MAIN2_UAT" -UUserID -PPassword-c -F30000001 -L40000000 -t"^^" -r"~`~"

rem "C:\Program Files\Microsoft SQL Server\100\Tools\Binn\bcp" "DatabaseD1.dbo.TOOLS_AUDIT" out audit_b5.dat -S"LDNPCM05927V05B\DSDCU_MAIN2_UAT" -UUserID -PPassword-c -F40000001 -L50000000 -t"^^" -r"~`~"

rem "C:\Program Files\Microsoft SQL Server\100\Tools\Binn\bcp" "DatabaseD1.dbo.TOOLS_AUDIT" out audit_b6.dat -S"LDNPCM05927V05B\DSDCU_MAIN2_UAT" -UUserID -PPassword-c -F50000001 -L60000000 -t"^^" -r"~`~"

rem "C:\Program Files\Microsoft SQL Server\100\Tools\Binn\bcp" "DatabaseD1.dbo.TOOLS_AUDIT" out audit_b7.dat -S"LDNPCM05927V05B\DSDCU_MAIN2_UAT" -UUserID -PPassword-c -F60000001 -L70000000 -t"^^" -r"~`~"

rem "C:\Program Files\Microsoft SQL Server\100\Tools\Binn\bcp" "DatabaseD1.dbo.TOOLS_AUDIT" out audit_b8.dat -S"LDNPCM05927V05B\DSDCU_MAIN2_UAT" -UUserID -PPassword-c -F70000001 -L80000000 -t"^^" -r"~`~" 
```

暂停

我遵循的方法是：我正在使用 rem 注释最后 7 条语句，并且只运行第一行..然后注释除第二行之外的所有行并运行批处理文件..依此类推.. 直到最后线..

对于第一行，我花了 45 分钟来复制记录。对于第二行，我花了 1 小时 20 分钟.. 对于第三行.. 2 小时 5 分钟.. 依此类推......时间每次都在增加。

有人可以提出任何优化此类批处理文件的方法吗？

最好的问候阿苏托什

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-01T08:11:39.057

关于你的问题，我想说明两点：

1- 您可以按照以下批处理文件中显示的方式*自动*执行批处理文件：

```
echo off
setlocal EnableDelayedExpansion

REM -t"^^" -r"~`~" 

set start=1
for /L %%i in (1,1,7) do (
   "C:\Program Files\Microsoft SQL Server\100\Tools\Binn\bcp" "DatabaseD1.dbo.TOOLS_AUDIT" out audit_b%%i.dat -S"LDNPCM05927V05B\DSDCU_MAIN2_UAT" -UUserID -PPassword-c -F!start! -L%%i0000000 -t"^^" -r"~`~"
   set /A start+=10000000
)
pause 
```

此批处理文件一次执行 1..8 个步骤...如果此解决方案不适合您，可以将批处理文件修改为仅运行参数中指示的一个步骤（如果需要，请询问） .

2-执行时间的问题与批处理文件无关（我不知道sql），所以你应该在这方面听从其他人的建议。

我希望它有帮助...

安东尼奥

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T13:00:39.503

不要使用 -F 和 -L 参数，因为在您的情况下，bcp 每次扫描表到行“F”并且需要一些时间。只需导出整个表。或者考虑使用分区和“滑动窗口分区模式”。

# opencl - opencl中的优先级队列

> ID：13640611
> 
> 赞同：4
> 
> 时间：2012-11-30T07:14:28.557
> 
> 标签：opencl, a-star

我正在尝试在 OpenCL 上实现 A-Star 搜索算法，但无法找到为其实现优先级队列的方法。这是我在 .cl 文件中尝试执行的操作的总体思路

```
//HOW TO IMPLEMENT THESE??
void extractFromPriorityQueue();
void insertIntoPriorityQueue();
//HOW TO IMPLEMENT THESE??

__kernel void startAStar(//necessary inputs) {
 int id = get_global_id(0);
 int currentNode = extractFromPriorityQueue(priorityQueueArray,id);
  if(currentNode==0){
    return;
  }
 int earliest_edge = vertexArray[currentNode-1];
 int next_vertex_edge = vertexArray[currentNode];
 for(int i=earliest_edge;i<next_vertex_edge;i++){
    int child = edgeArray[i];
    float weight = weightArray[i];
    gCostArray[child-1] = gCostArray[currentNode] + weight;
    hCostArray[child-1] = computeHeuristic(currentNode,child,coordinateArray);
    fCostArray[child-1] = gCostArray[child-1] + hCostArray[child-1];
    insertIntoPriorityQueue(priorityQueueArray,child);
 }
} 
```

另外，在这种情况下是否必须同步优先级队列？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-01-05T16:51:09.580

如果不支持原子操作，还有另一种方法。[您可以使用这个想法来并行化 Harish 和 Narayanan 的论文Accelerating large graph algorithms on GPU using CUDA](https://www.google.com.br/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&cad=rja&ved=0CDAQFjAA&url=http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.102.4206&rep=rep1&type=pdf&ei=CIzJUoKeIYbNkAeo4oHACg&usg=AFQjCNFTkNIeffqZG7nVUzLOkEbZ6b3kUA&sig2=3fIgMDIGYTOu7W9kYYp78Q&bvm=bv.58187178,d.eW0)中的 Dijkstra 的最短路径算法。

他们建议复制数组以与 Mask、Cost 和 Update 数组的想法同步。

Mask 是一个唯一的布尔数组，用于表示具有此大小的队列。如果此数组中的元素**i**为真，则元素**i**在队列中。

有两个内核可以保证同步：

*   第一个内核只从 Cost 数组中读取值，并且只在 Update 数组中写入。
*   第二个内核仅在成本值与更新不同时才更新成本值。在这种情况下，升级后的元素将设置为 true。

这个想法有效，并且在 OpenCL 编程指南的书中有一个案例研究的实现：[https ://code.google.com/p/opencl-book-sa​​mples/source/browse/trunk/src/Chapter_16#Chapter_16% 2FDijkstra](https://code.google.com/p/opencl-book-samples/source/browse/trunk/src/Chapter_16#Chapter_16%2FDijkstra)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-06-29T20:48:18.310

以下是各种无锁 GPU 数据结构的论文、pptx 和源的链接，包括跳过列表和优先级队列。但是源代码是CUDA。CUDA 代码与 OpenCL 足够接近，您可以了解如何在 OpenCL 中实现它的要点。

优先级队列使用原子操作同步。队列节点在主机上分配并作为全局节点数组传递给函数。通过使用数组计数器的原子增量获得一个新节点。

使用原子比较和交换（交换）调用将节点插入队列。论文和 ppx 解释了工作原理和并发问题。

[http://www.cse.iitk.ac.in/users/mainakc/projects.html](http://www.cse.iitk.ac.in/users/mainakc/projects.html)

请参阅上页中的条目

并行编程/运行时支持 [ICPADS 2012][PDF][Source code][Talk slides (PPTX)] Prabhakar Misra 和 Mainak Chaudhuri。GPU 上并发无锁数据结构的性能评估。在第 18 届 IEEE 并行和分布式系统国际会议论文集上，第 53-60 页，2012 年 12 月。

源代码链接是 [http://www.cse.iitk.ac.in/users/mainakc/lockfree.html](http://www.cse.iitk.ac.in/users/mainakc/lockfree.html)

# php - 如何在销售下的 magento 管理交易菜单中的交易网格上使用导出 csv 按钮？

> ID：13640616
> 
> 赞同：1
> 
> 时间：2012-11-30T07:14:42.583
> 
> 标签：php, e-commerce, magento

我正在尝试将交易数据导出到 csv 中。为此，我添加了以下代码行

```
$this->addExportType(’*/*/exportCsv’, Mage::helper(’sales’)->__(’CSV’)); 
```

至

app/code/core/Mage/Adminhtml/Block/Sales/Transactions/grid.php 文件中的“受保护函数_prepareColumns()”函数。

我还在 /app/code/core/Mage/Adminhtml/controllers/Sales/TransactionsController.php 中添加了一个动作 exportCsvAction

```
public function exportCsvAction()
{
$fileName = ‘transactions.csv’;
$grid = $this->getLayout()->createBlock(’adminhtml/sales_transactions_grid’);
$this->_prepareDownloadResponse($fileName, $grid->getCsvFile());
} 
```

现在，当我尝试导出交易数据时，我收到错误消息“您不能多次定义相关名称'sop'”。

谁可以帮我这个事？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-12-03T01:01:44.043

只需使用这个免费模块，它就可以解决您的问题：

[http://www.magentocommerce.com/magento-connect/simple-order-export.html](http://www.magentocommerce.com/magento-connect/simple-order-export.html)

# user-input - 如何在单击子菜单栏时将焦点设置在呈现的登录框上？

> ID：13640619
> 
> 赞同：0
> 
> 时间：2012-11-30T07:14:56.030
> 
> 标签：user-input, oracle-adf, submenu, setfocus

我有由菜单和登录组成的菜单栏。每个菜单都有自己的子菜单。当我单击子菜单时，它将呈现面板组布局，其中包含用于登录的输入文本，例如用户名和密码。我的问题是如何每次单击菜单栏上的子菜单时都将焦点设置在用户名上？

在这里我附上我的菜单和子菜单的结构。

```
MENU
   -Overview

LOGIN
   -Employee
   -Manager 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T08:34:45.897

页面加载时使用 JS 设置焦点。或者使用谷歌找到这个：[https ://blogs.oracle.com/jdevotnharvest/entry/how_to_programmatically_set_focus](https://blogs.oracle.com/jdevotnharvest/entry/how_to_programmatically_set_focus)

# android - 尝试从 Android (Wunderground) 上的 HTTP 请求接收和保存图像

> ID：13640633
> 
> 赞同：1
> 
> 时间：2012-11-30T07:15:59.370
> 
> 标签：android, http, httpwebrequest, wunderground

首先让我说我是 Android 新手，特别是与 http 相关的东西。这个问题与Android平台上的开发有关。

好的，这就是我想要做的。Wunderground 有一个“api”，可以让我向 url 发送请求。它看起来像这样：

```
http://api.wunderground.com/api/***API KEY HERE***/radar/image.gif?centerlat=38&centerlon=-96.4&radius=100&width=280&height=280&newmaps=1 
```

我一直在爬网试图找到发送此请求的最简单方法，然后以某种方式解析响应并保存图像。然后我想使用 MapView 将雷达图像覆盖到谷歌地图上。经过一些试验和错误，我发现了覆盖部分。但是这个 Http 东西让我很受用。

我知道最好不要让这段代码在我的 UI 线程中运行，但我不确定这意味着什么以及如何实现它。

另外，我认为必须先存储图像才能使用它？我想将它添加到我的 MapOverlays 中，我会这样做：

```
OverlayItem overlayitem = new OverlayItem(myGeoPoint, "Hi!", "Here I am!");
itemizedoverlay.addOverlay(overlayitem);
mapOverlays.add(itemizedoverlay); 
```

最后一件事，如果有人对如何确保我的雷达覆盖和我的谷歌地图视图对齐有任何想法，那将是很高兴听到！

感谢您花时间阅读我的问题。如果我以某种方式错过了论坛上已经回答了我的问题的内容，我很抱歉。但我找不到我需要的东西。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T07:36:06.747

对于图像下载...检查此[http://code.google.com/p/android-imagedownloader/](http://code.google.com/p/android-imagedownloader/)

关于地图视图检查这个开始......

[谷歌地图上的当前位置](https://stackoverflow.com/questions/4141388/current-position-on-google-maps)

# android - 如何使用 Canvas 画线

> ID：13640638
> 
> 赞同：2
> 
> 时间：2012-11-30T07:16:36.173
> 
> 标签：android, android-canvas

我想`Canvas`在 Android 中画一条线。我在`ontouchevent`使用`touchesmove`,`touchesup`和`touchesdown`. 当我触摸结束鼠标按钮时，这条线出现。我想像徒手画一样画一条线。

这是我的代码，

```
switch (event.getAction()) 
{
case MotionEvent.ACTION_DOWN:
mPath.reset();
mPath.moveTo(x, y);
mX = x;
mY = y;
invalidate();
break;
case MotionEvent.ACTION_MOVE:
float dx = Math.abs(x - mX);
float dy = Math.abs(y - mY);
if (dx >= TOUCH_TOLERANCE || dy >= TOUCH_TOLERANCE)
    {
//mPath.quadTo(mX, mY, (x + mX)/2, (y + mY)/2);
mX = x;
mY = y;
}
invalidate();
break;
case MotionEvent.ACTION_UP:
mPath.lineTo(mX, mY);
mCanvas.drawPath(mPath, mPaint);
    mPath = new Path();
    paths.add(mPath);
mPath.reset();
invalidate();
break;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T08:27:39.490

据我所见，该`drawPath()`方法是在`ACTION_UP`. 您还需要调用此方法，`ACTION_MOVE`以便您的路径被绘制在您所做的每一步上。为此，您当然也必须复制`mPath.lineTo(mX, mY)`到`ACTION_MOVE`。

# cocoa - iTunes 11 新用户界面

> ID：13640645
> 
> 赞同：1
> 
> 时间：2012-11-30T07:17:03.920
> 
> 标签：cocoa, user-interface, interface-builder, nssegmentedcontrol

iTunes 11 引入了一个新的 UI 元素。它是工具栏下方的附加按钮行：

![按钮行](../Images/c00a0683b01f38ffbffbb628c67ee0ee.png)

这一新行的一个目的是替换 NSSegmentedControls。

它是如何调用的，我将如何使用 Xcode Interface-Builder 或代码构建它。

# encryption - cookie 中的会话令牌身份验证 perl

> ID：13640646
> 
> 赞同：0
> 
> 时间：2012-11-30T07:17:22.477
> 
> 标签：encryption, token, access-token

我正在工作会话身份验证。我将会话 ID 作为 cookie 标头中的令牌传递。我希望获得加密令牌。我应该更喜欢哪种可加密的方法。我正在使用 Digest::SHA，我收到此错误 服务器遇到内部错误，无法完成您的请求。

错误消息：尝试重新加载 Digest/SHA1.pm 已中止。在 /opt/lampp/htdocs/cts/login.pl 第 21 行的要求中编译失败。BEGIN failed - 编译在 /opt/lampp/htdocs/cts/login.pl 第 21 行中止。应该怎么做才能克服这个错误？否则我应该用另一个吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-02T16:22:06.993

尝试调试您的代码。一步一步来，看看每个变量的值。这可能会给您一些见解，或者至少让您更具体地了解程序无法加载的原因。从你在这里给我们的问题来看，你真的没有给我们太多的东西:)

# php - ohshopify.php、未定义的会话变量和其他未定义的变量

> ID：13640647
> 
> 赞同：1
> 
> 时间：2012-11-30T07:17:36.017
> 
> 标签：php, session, shopify

我无法从[ohShopify.php](https://github.com/cmcdonaldca/ohShopify.php#readme) PHP JSON 客户端获得所需的结果。

请原谅我，因为我对 php 等人还很陌生，但会尽可能清楚地解释我的问题。

我不确定是否有这些相关信息，但我在 Windows 7 Pro 64bit 上使用 WAMP 和 PHP 5.3.13。

这是我的 index.php

```
require 'shopify.php';
$api_key    = '---';
$secret = '---';
$scope      = read_products;

if (isset($_GET['code'])) { 

    $shopifyClient = new ShopifyClient($_GET['shop'], "", $api_key, $secret);
    session_unset();

    $_SESSION['token'] = $shopifyClient->getAccessToken($_GET['code']);
    if ($_SESSION['token'] != '')
        $_SESSION['shop'] = $_GET['shop'];

    header("Location: store.php");
    exit;   

} else {    

    $shop = '---.shopify.com';
    $shopifyClient = new ShopifyClient($shop, "", $api_key, $secret);

    $pageURL = 'http';
    if ($_SERVER["HTTPS"] == "on") { $pageURL .= "s"; }
    $pageURL .= "://";
    if ($_SERVER["SERVER_PORT"] != "80") {
        $pageURL .= $_SERVER["SERVER_NAME"].":".$_SERVER["SERVER_PORT"].$_SERVER["REQUEST_URI"];
    } else {
        $pageURL .= $_SERVER["SERVER_NAME"].$_SERVER["REQUEST_URI"];
    }

    header("Location: " . $shopifyClient->getAuthorizeUrl($scope, $pageURL));
    exit;
} 
```

成功时将位置设置为我的 store.php：

```
require 'shopify.php';

$sc = new ShopifyClient($_SESSION['shop'], $_SESSION['token'], $api_key, $secret);

try
{
    // Get all products
    $products = $sc->call('GET', '/admin/products.json', array('published_status'=>'published'));

}
catch (ShopifyApiException $e)
{
    /* 
     $e->getMethod() -> http method (GET, POST, PUT, DELETE)
     $e->getPath() -> path of failing request
     $e->getResponseHeaders() -> actually response headers from failing request
     $e->getResponse() -> curl response object
     $e->getParams() -> optional data that may have been passed that caused the failure

    */
}
catch (ShopifyCurlException $e)
{
    // $e->getMessage() returns value of curl_errno() and $e->getCode() returns value of curl_ error()
} 
```

这是我遇到错误的地方。没有设置任何变量。$_SESSION、$api_key 和 $secret 都返回“未定义”。

[截屏](http://i.stack.imgur.com/bllWS.gif)

我猜我错过了一些东西，但一直在寻找几个小时但无法弄清楚。$_SESSION 怎么可能是未定义的，因为它是一个“超全局”变量。

如果我可以提供更多信息，请告诉我。提前致谢。

# android - 在 Android 中滚动 EditText

> ID：13640648
> 
> 赞同：1
> 
> 时间：2012-11-30T07:17:41.220
> 
> 标签：android, text, widget, scroll

我的活动中有一个 EditText 小部件，其中包含大文本（例如 2000 行），我想通过触摸和拖动滚动条拇指轻松快速地滚动，但似乎 android 中的滚动条不可触摸，并且 fastScrollEnabled 在 EditText 上不起作用。

是否有支持可触摸垂直滚动条的 EditText 的任何子类或扩展？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T09:58:11.510

这应该有效：

```
 mEtComments.setScroller(new Scroller(mContext));
    mEtComments.setMaxLines(10);
    mEtComments.setVerticalScrollBarEnabled(true);
    mEtComments.setMovementMethod(new ScrollingMovementMethod()); 
```

# android - Android 应用程序和 Web 服务器

> ID：13640649
> 
> 赞同：-1
> 
> 时间：2012-11-30T07:18:06.720
> 
> 标签：android, webserver

我有一个需要与网络服务器通信的 Android 应用程序。但是，我不知道如何做到这一点。我确实有一个网络服务器。虽然我不知道如何使用它（存储/检索数据）。请帮助我。任何提示，建议对我有用。这很重要。提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T07:31:28.343

请参阅这仅供参考。我只是将两个变量传递给 Web 服务并根据条件接收响应表单服务器。

在服务器端，我必须`PHP`接受`POST`请求和响应`JSON`。

所以创建简单的 php web 服务。为此，您将获得想法表格`w3school`或任何其他网络资源。现在您可以执行此任务了。

android 的本机代码在[这里](https://stackoverflow.com/questions/13134019/http-post-method-passing-null-values-to-the-server/13134287#13134287)。

# c# - 计算 VS_KEY 容器名称

> ID：13640650
> 
> 赞同：3
> 
> 时间：2012-11-30T07:18:07.197
> 
> 标签：c#, visual-studio-2010, msbuild, private-key

如何计算 VS_KEY 容器名称？它们通常是这样的：VS_KEY_71E582524B5DDE29。

我假设它基于计算机名称，但是如果我们运行的云服务会在每次实例重新启动时随机更改计算机名称怎么办？

当实例启动时，我们需要有容器名称，这样我们就知道将我们的私钥存储到哪个容器中，这样构建工具就可以正常工作了。我们需要自动设置容器名称。

所以基本上我们需要想办法在每次计算机重新启动时生成正确的容器名称。任何提示或帮助？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-08T15:27:59.717

我们在尝试在集成服务器上自动注册密钥时遇到了这个问题。不得不运行 Visual Studio 或 MSBuild 来提取 VS_KEY 是不可接受的。然后通过最详细地调查 MSBuild 的日志，我发现了以下内容。

此密钥是通过 Microsoft.Build.Tasks.v4.0.dll（存在于 GAC 中）生成的。在这个 DLL 中有一个名为“ResolveKeySource”的类。通过使用 ILSpy 或 Reflector 查看代码，您将看到一个调用 ResolveAssemblyKey 的 Execute 方法。这个方法是 VS_KEY_xxxxxx 之谜的核心。

VS_KEY_xxxxx 值是通过使用 Environment.UserDomainName 和 Environment.UserName 对键的内容进行散列生成的。

**第一个解决方案**：您创建一个 ResolveKeySource 实例并调用适当的方法。由于您不提供密码和其他信息，它将引发异常，其消息包含强大的 VS_KEY 事物。

```
var key = new ResolveKeySource();
key.KeyFile = path_to_key_file;
try {
   key.Execute();
} catch (Exception e) {
  var match = Regex.Match(e.Message, "VS_KEY_[A-F0-9]+");
   if (match.Success) {
       return match.Value;
   }
} 
```

**第二种解决方案**：获取生成此哈希码的代码并使用它直接获取值，没有异常。这或多或少是从 DLL 中提取的。

```
 public static string GetLocalUserKeyContainerByGeneration(string keyFile) {

        string localName = Environment.UserDomainName + "\\" + Environment.UserName;

        FileStream keyFileStream = null;

        try {
            keyFileStream = File.OpenRead(keyFile);

            int num = (int)keyFileStream.Length;
            byte[] array = new byte[num];

            keyFileStream.Read(array, 0, num);

            ulong hash1 = HashFromBlob(array);
            byte[] bytes = Encoding.Unicode.GetBytes(localName.ToLower(CultureInfo.InvariantCulture));

            return "VS_KEY_" + (hash1 ^ HashFromBlob(bytes)).ToString("X016", CultureInfo.InvariantCulture);
        }
        finally {
            if (keyFileStream != null) {
                keyFileStream.Close();
            }
        }
    }

    private static ulong HashFromBlob(byte[] data) {

        uint num = 17339221u;
        uint num2 = 19619429u;
        uint num3 = 10803503u;

        for (int i = 0; i < data.Length; i++) {
            byte b = data[i];
            uint num4 = (uint)b ^ num3;
            num3 *= 10803503u;
            num += (num4 ^ num2) * 15816943u + 17368321u;
            num2 ^= ((num4 + num) * 14984549u ^ 11746499u);
        }

        ulong num5 = (ulong)num;
        num5 <<= 32;

        return num5 | (ulong)num2;
    } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-08-27T17:06:39.660

这个答案与@kdrapel 的答案一致，但我无法发表评论。我不得不破解它一段时间才能弄清楚如何在一个内联任务中实际使用它，所以我想我会分享。

```
<?xml version="1.0" encoding="utf-8" ?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003" DefaultTargets="Test" ToolsVersion="4.0" >

  <Target Name="Test">
    <CalcKey InputKey="c:\path\to\your\key.pfx">
      <Output PropertyName="VSKEY" TaskParameter="VSKEY"/>
    </CalcKey>
    <Message Text="VSKey = $(VSKEY)"/>
  </Target>

  <UsingTask
      TaskName="CalcKey"
      TaskFactory="CodeTaskFactory"
      AssemblyFile="$(MSBuildToolsPath)\Microsoft.Build.Tasks.v4.0.dll" >
    <ParameterGroup>
      <InputKey ParameterType="System.String" Required="true"/>
      <VSKEY ParameterType="System.String" Output="true"/>
    </ParameterGroup>
    <Task>
      <Reference Include="$(MSBuildBinPath)\Microsoft.Build.Framework.dll"/>
      <Reference Include="$(MSBuildBinPath)\Microsoft.Build.Utilities.v12.0.dll"/>
      <Reference Include="$(MSBuildBinPath)\Microsoft.Build.Tasks.v12.0.dll"/>
      <Using Namespace="System.Text.RegularExpressions"/>
      <Using Namespace="Microsoft.Build.Tasks"/>
      <Code Type="Fragment" Language="cs">
        <![CDATA[
            var key = new ResolveKeySource();
            key.KeyFile = InputKey;
            try
            {
                key.Execute();
            }
            catch (Exception e)
            {
                var match = Regex.Match(e.Message, "VS_KEY_[A-F0-9]+");
                if (match.Success)
                {
                    this.VSKEY = match.Value;
                }
            }
]]>
      </Code>
    </Task>
  </UsingTask>

</Project> 
```

# java - 线程“主”java.lang.NoSuchMethodError 中的异常：com.ibatis.common.beans.ClassInfo.setCacheEnabled(Z)V

> ID：13640651
> 
> 赞同：0
> 
> 时间：2012-11-30T07:18:11.213
> 
> 标签：java, eclipse, ibatis

我正在尝试使用 iBatis 的桌面应用程序。但我收到以下错误。无法在网上找到合适的解决方案。请任何人帮助我。

日志::

```
Exception in thread "main" java.lang.NoSuchMethodError: com.ibatis.common.beans.ClassInfo.setCacheEnabled(Z)V
at com.ibatis.sqlmap.engine.builder.xml.SqlMapConfigParser$3.process(SqlMapConfigParser.java:179)
at com.ibatis.common.xml.NodeletParser.processNodelet(NodeletParser.java:112)
at com.ibatis.common.xml.NodeletParser.process(NodeletParser.java:75)
at com.ibatis.common.xml.NodeletParser.process(NodeletParser.java:93)
at com.ibatis.common.xml.NodeletParser.parse(NodeletParser.java:63)
at com.ibatis.common.xml.NodeletParser.parse(NodeletParser.java:51)
at com.ibatis.sqlmap.engine.builder.xml.SqlMapConfigParser.parse(SqlMapConfigParser.java:86)
at com.ibatis.sqlmap.client.SqlMapClientBuilder.buildSqlMapClient(SqlMapClientBuilder.java:63)
at IbatisInsert.main(IbatisInsert.java:12) 
```

代码 ::IbatisInsert.java

```
import com.ibatis.common.resources.Resources;
import com.ibatis.sqlmap.client.SqlMapClient;
import com.ibatis.sqlmap.client.SqlMapClientBuilder;
import java.io.*;
import java.sql.SQLException;
import java.util.*;

public class IbatisInsert{
  public static void main(String[] args)
   throws IOException,SQLException{
   Reader rd = Resources.getResourceAsReader("SqlMapConfig.xml");
   SqlMapClient smc = SqlMapClientBuilder.buildSqlMapClient(rd);

   /* This would insert one record in Employee table. */
   System.out.println("Going to insert record.....");
   Employee em = new Employee("Zara", "Ali", 5000);

   smc.insert("Employee.insert", em);

   System.out.println("Record Inserted Successfully ");

  }
} 
```

雇员.java

```
public class Employee {
      private int id;
      private String first_name; 
      private String last_name;   
      private int salary;  

      /* Define constructors for the Employee class. */
      public Employee() {}

      public Employee(String fname, String lname, int salary) {
        this.setFirst_name(fname);
        this.setLast_name(lname);
        this.setSalary(salary);
      }

    public String getFirst_name() {
        return first_name;
    }

    public void setFirst_name(String first_name) {
        this.first_name = first_name;
    }

    public String getLast_name() {
        return last_name;
    }

    public void setLast_name(String last_name) {
        this.last_name = last_name;
    }

    public int getSalary() {
        return salary;
    }

    public void setSalary(int salary) {
        this.salary = salary;
    }
    } /* End of Employee */ 
```

我已将这两个类放在 src 下的默认包中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:25:36.880

问题在于类加载/类路径。尝试在您的主类中使用此代码并找出加载 jar 的路径。

也许您正在加载的 jar 版本不正确。

```
public static void main(String[] args) {
            URLClassLoader classLoader = (URLClassLoader)IbatisInsert.class.getClassLoader();
            System.out.println(Arrays.toString(classLoader.getURLs()));
    } 
```

# asp.net - 将项目放置在下拉列表中的特定位置

> ID：13640653
> 
> 赞同：2
> 
> 时间：2012-11-30T07:18:20.480
> 
> 标签：asp.net

我们可以在特定位置放置/保留下拉列表项吗？例如，我想将下拉列表绑定到数据源，然后添加放置在下拉列表中特定位置的新项目。这怎么可能。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T07:20:21.123

您可以使用插入方法。

```
dropDownList.Items.Insert(index, new ListItem("Default Panel", "0")); 
```

# jquery - prevUntil('.class') 和 nextUntil('.class') 没有出现对我有用，选择超出指定元素

> ID：13640654
> 
> 赞同：1
> 
> 时间：2012-11-30T07:18:21.610
> 
> 标签：jquery, jquery-selectors

```
$target.after($tq.clone()); 
var $newElement = $target.next();    
$newElement.prevUntil('.question.edit:eq(' + tqIndex + ')')
           .each(function () {
var $elm = $(this).find('input.position');
var val = parseInt($elm.attr('value')); $elm.attr('value', (val - 1));
$tq.detach(); 
```

我正在使用它来移动一些元素并更新字段以显示它们的位置的整数。假设我克隆`$tq`了它，`$('.question.edit:eq(3)')` 然后插入html，`$('.question.edit:eq(6)')`然后我想从新插入的克隆之间的每个元素位置字段中减去1，`$tq`并且`$('.question.edit:eq(7)')`不包括`$tq`更新`$('.question.edit:eq(3)')`位置/计数。`$tq`然后分离并且计数是正确的。

我所看到的是`prevUntil()`并且`nextUntil()`不会停止`('.question.edit:eq('+ tqIndex + ')')`并且会影响低于指定索引计数的元素，实际上所有这些元素直到父元素。

也许我只是没有`tqIndex`正确传递值，但看起来很好。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T07:26:14.223

[:eq()匹配](http://api.jquery.com/eq-selector/)*set*中指定索引处的元素。它不是为与 and 一起使用而设计的`prevUntil()`，`nextUntil()`后者将选择器应用于单个元素。

尝试使用[:nth-child()](http://api.jquery.com/nth-child-selector/)代替：

```
$newElement.prevUntil(".question.edit:nth-child(" + (tqIndex + 1) + ")") 
```

请注意，它`:nth-child()`是从一开始的，而`:eq()`从零开始，因此您必须添加`1`以`tqIndex`获取适当的索引。

# android - 焦点更改时内部的动态布局创建

> ID：13640657
> 
> 赞同：0
> 
> 时间：2012-11-30T07:18:40.937
> 
> 标签：android, android-layout

我需要动态地将一些字段（文本视图、编辑和复选框）添加到表格布局中，以更改已经存在且可见的edittext的焦点。我需要验证扫描的文本，如果验证需要填充下面的视图供用户扫描......

请提出一个好的方法来解决这个问题吗？我已经编写了 onfocus 更改验证逻辑.. 但无法在焦点更改中操作表格布局

提前谢谢了。

# windows-phone-7 - 提取音频流文件 (MediaElement) 的元数据

> ID：13640660
> 
> 赞同：2
> 
> 时间：2012-11-30T07:19:19.780
> 
> 标签：windows-phone-7, metadata, audio-streaming, radio, mediaelement

我刚开始为 Windows Phone (7.1/8) 平台开发，还不是很熟悉。

我的计划是一个网络广播应用程序，它从服务器流式传输音频文件。我曾经`MediaElement`将源属性设置为流式 URL。

它可以工作并且应用程序开始播放音乐，但我无法读取来自服务器的有关歌曲的任何元数据，例如艺术家姓名/标题或任何我可以用来了解歌曲本身的字符串。

我一直在四处寻找并尝试了该`MediaReached`事件，但它也从未被解雇？

所以知道我该怎么做吗？

和我的示例代码：

```
protected override void OnNavigatedTo(NavigationEventArgs e)
{
    MyMedia.Source = new Uri("MyURL");
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-18T08:30:58.223

我不想告诉你，但这是因为 Windows Phone 7 不支持 MediaElement.Attributes - 所有限制都可以在这里找到：http: [//msdn.microsoft.com/en-us/library/ff426928(VS. 95).aspx](http://msdn.microsoft.com/en-us/library/ff426928(VS.95).aspx)

# magento - Magento中产品的附加选项？

> ID：13640661
> 
> 赞同：1
> 
> 时间：2012-11-30T07:19:20.670
> 
> 标签：magento

我想添加一个带有附加选项的产品，我们应该能够管理主要产品和附加组件的库存。此外，选择附加组件不是强制性的。我们想将产品添加[到此产品](http://www.reefgeek.com/lighting/t5-fluorescent/ati/dimmable-sunpower-fixtures/48-8x54w-dimmable-sunpower-t5-high-output-fixture-w-controller.html#)中。我尝试通过两种方式实现它： 1\. 使用可配置产品：添加可配置产品并添加关联产品。[问题：必须选择关联产品，并且我们无法管理主要产品的库存。2\. 使用捆绑产品：添加一个捆绑产品，然后为其分配关联产品。但在这里我们也无法管理主要捆绑产品的库存。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T12:10:11.093

为什么捆绑产品不适合您？
您不需要管理捆绑产品的库存，只需管理其中包含的简单产品。
您可以仅使用作为主要产品的简单产品设置一个捆绑选项，并将其设置为“用户不可选择数量”和“必需”，然后您在下方有另一个产品选项和您的选项，这些可以是下拉菜单或多个选择，然后您将这些设置为“不需要”，以便他们可以根据需要选择这些。那有意义吗？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-05T05:03:03.413

使用带有自定义更改的捆绑产品。我不认为magento默认提供这样的功能

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T10:10:11.090

我认为本教程准确地解释了你需要什么：http: [//www.magentocommerce.com/knowledge-base/entry/tutorial-creating-a-configurable-product](http://www.magentocommerce.com/knowledge-base/entry/tutorial-creating-a-configurable-product)

# mysql - 轨道中的时间偏移

> ID：13640664
> 
> 赞同：0
> 
> 时间：2012-11-30T07:19:31.433
> 
> 标签：mysql, ruby-on-rails, ruby

我的服务器默认时区是 +0400（莫斯科）。以 UTC 格式记录到数据库的所有实例。IE：用户在04-00创建项目，记为00-00。当我试图得到

```
Item.last 
```

我看到了 UTC 原始时间。当我问

```
Item.last.created_at 
```

我得到了+0400的时间。但！当我使用标准时间函数时

```
Item.where('created_at > ?', Time.now.beginning_of_day) 
```

它正在做 sql 查询

```
SELECT `items`.* FROM `items`  WHERE (items.created_at > '2012-11-30 00:00:00') 
```

代替

```
SELECT `items`.* FROM `items`  WHERE (items.created_at > '2012-11-29 20:00:00') 
```

所以我失去了4个小时。小紧缩正在使用 in_time_zone：

```
Time.now.beginning_of_day.in_time_zone(-4) 
```

但我不是绝地武士 :D 有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:48:51.547

我希望您的用户在他们的个人资料中有一些与他们的时区相关的设置。在这种情况下，您可以执行以下操作：

```
Time.use_zone(zone_of_current_user) do # like 'America/New_York'
  @products = Product.where('created_at > ?', Time.zone.now.beginning_of_day)
end 
```

这样，您将设置块的区域。

**注意使用`zone`方法 of `Time`。**

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T12:40:56.273

我想我已经解决了：

```
Time.now.beginning_of_day.in_time_zone('UTC')
 => Thu, 29 Nov 2012 20:00:00 UTC +00:00 
```

所以这就是**莫斯科时间在 UTC 时区开始时**的关系:)

# iphone - iOS 5 SDK 之前的 ARC 转换

> ID：13640668
> 
> 赞同：2
> 
> 时间：2012-11-30T07:20:08.520
> 
> 标签：iphone, objective-c, ios, xcode, automatic-ref-counting

我已经开发了一个兼容 iOS 4 的项目。我的问题是现在我想要非 ARC 到 ARC 启用项目，该项目应该适用于最新的 iOS 6 版本。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T07:26:40.640

使用 Xcode 的 convert to arc 工具将您的项目转换为 ARC。检查下面的屏幕截图。![在此处输入图像描述](../Images/18cd6930174f12e9043b902defe09432.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:26:44.733

据我所知，ARC 只是 Xcode 编译器的一项功能，它会自动分析您的代码并插入内存释放语句。它是每个文件而不是每个项目。它可以通过提供某些编译参数来打开/关闭。因此，您不必将现有代码转换为 ARC，这对于 iOS 6 无关紧要。

# iphone - UIImagePickerController 的顶部导航视图和底部工具栏在我的视图后面

> ID：13640669
> 
> 赞同：1
> 
> 时间：2012-11-30T07:20:12.440
> 
> 标签：iphone, objective-c, ios, xcode4.2, uiimagepickercontroller

在我在 RootViewController 中的应用程序中，我添加了一个带有 titleview 的顶部自定义视图和一个类似于 UINavigationController 的按钮和一个类似于 UITabBar 的底部自定义视图，我在其中有一个具有 320 x 280 尺寸视图的视图（比如 contentView） m 根据用户选择的选项卡添加不同的不同子视图。在我的 contentView 中的一个选项卡中，我有一个打开相机的按钮，在那里我正在展示 Camera 或 PhotoLibrary 之类的

```
[self presentModalViewController:imagePicker animated:YES]; 
```

但呈现在我的 contentView 中，因此捕获按钮和相机控件位于我的导航栏后面，下面是快照。图 1\. 是正常情况，但对我来说就像 img.2 ![普通情况（我需要这样）](../Images/941a2522cd65637577e167373e86dac2.png)

![在我的情况下](../Images/0f5bb1a517abc6b269ebfdb8050e0007.png)

如何克服这个问题，任何帮助都提前感谢。

# javascript - 无法在 Google JS API V3 中查看地图圆圈叠加结果

> ID：13640672
> 
> 赞同：0
> 
> 时间：2012-11-30T07:20:21.387
> 
> 标签：javascript, google-maps, google-maps-api-3, overlay

在尝试进一步实施之前，我一直在 Google Code Playground 中对此进行测试。

这只是在地图上放置一个地图标记，并通过以英里为单位的半径生成一个圆形覆盖。但是，我仍然无法使其正常工作。

它似乎打破了圆圈覆盖的创建。我一直在寻找解决方案，但到目前为止我尝试过的一切要么中断（地图不显示），要么没有结果（没有圆圈覆盖）。

注意：我遇到了一个类似的问题 [question:] [Circle overlay in Google Map V3 API js](https://stackoverflow.com/questions/7712861/circle-overlay-in-google-map-v3-api-js)。我尝试了这个解决方案，但没有奏效。

```
function initialize()
{
  if (GBrowserIsCompatible())
  {
    var map = new GMap2(document.getElementById("map_canvas"));
    map.setCenter(new GLatLng(30.6957, -88.1813), 13);

    var latlng = new GLatLng(30.6957, -88.1813);
    map.addOverlay(new GMarker(latlng));

    var draw_circle = null;

    function Draw_Circle(Miles)
    { 
      Miles *= 1600;

      if (draw_circle != null)
      {
        draw_circle.setMap(null);
      }

      draw_circle = new google.maps.Circle({
        center: latlng,
        radius: Miles,
        strokeColor: "#FF0000",
        strokeOpacity: 0.8,
        strokeWeight: 2,
        fillColor: "#FF0000",
        fillOpacity: 0.35,
        map: map
      });  
    }

    Draw_Circle(15);
  }
 } 
```

再次提前感谢您。

编辑：现在我被告知我正在混合 API 版本。我想出了以下内容：

```
var latLng;

function initialize() {
  var map;
  var mapDiv = document.getElementById('map-canvas');
  map = new google.maps.Map(mapDiv, {
    center: new google.maps.LatLng(30.6957, -88.1813),
    zoom: 13,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  });

  latLng = new google.maps.LatLng(30.6957, -88.1813);
  var marker = new google.maps.Marker({
      position: latLng,
      map: map
    });

  var draw_circle = null;

  function Draw_Circle(Miles)     
  {        
    Miles *= 1600;        
    if (draw_circle != null)       
    {         
      draw_circle.setMap(null);       
    }       

    draw_circle = new google.maps.Circle({         
      center: latlng,         
      radius: Miles,         
      strokeColor: "#FF0000",         
      strokeOpacity: 0.8,         
      strokeWeight: 2,         
      fillColor: "#FF0000",         
      fillOpacity: 0.35,         
      map: map       
     });

  }      

  Draw_Circle(15);
} 
```

我几乎在那里......现在，我没有来自调试器的任何错误消息来表示我的圆圈覆盖有什么问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T09:44:25.440

**问题 1**：您同时使用[Google Maps API V2](https://developers.google.com/maps/documentation/javascript/v2/reference)和[Google Maps API V3](https://developers.google.com/maps/documentation/javascript/reference)。

**问题2**：在以下代码中

```
.....
draw_circle = new google.maps.Circle({         
  center: latlng,   
  ..... 
```

抛出的错误是`ReferenceError: latlng is not defined`.

如果替换`latlng`为`latLng`，脚本将按预期工作。

# php - 如果数组中不存在某项

> ID：13640674
> 
> 赞同：0
> 
> 时间：2012-11-30T07:20:24.447
> 
> 标签：php, directory

如果数组中不再存在某个项目，但有一个不再需要名称的文件夹。检查和删除文件夹的最佳方法是什么？

**例子：**

我有一个`array('blah','apple','oneDirection');` 然后我将运行一个命令在特定位置创建一个文件夹/目录，其中包含数组中的名称，但如果`oneDirection`不再在数组中，我想删除文件夹/目录->我会使用`in_array`吗？

数组数据来自外部 JSON 提要，因此它将自动删除，完成后我希望它删除文件夹/目录 - 我不确定数组和文件夹/目录名称检查结构

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T08:21:33.677

只是一个可以作为示例的快速片段。

```
function del_dir($dir, $key, $root) {
        // may need to do more here like delete recursively
        $rp= realpath($root .'\\'. $dir);
        rmdir( $rp);
        echo "folder: $rp : removed\n";
}

// your root folder
$home_dir= "c:\\tmp";
// your array of folders
$folders= array("folder1", "folder2");
$fs_folders=array();
if ($dh = opendir($home_dir)) {
    while (($f = readdir($dh)) !== false) {
        if(is_dir("$home_dir\\$f")){
            if ($f != "." && $f != "..")
                $fs_folders[]= $f;
        }
    }
    closedir($dh);
}

$todel= array_diff($fs_folders, $folders);
array_walk($todel, "del_dir", $home_dir); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:26:23.537

TMHO，代码中从数组中“删除”文件夹的相同位置 - 应该删除*真正的*文件夹。更具体地说，不要使用`unset`or `array_pop`- 创建一个首先尝试访问`rmdir`文件夹的函数（使用`try`and `catch`）并且只有在一切顺利的情况下 - 它应该从数组中删除该项目。

此外，如果当时无法删除该文件夹，则不应删除该项目 - 但在某种待处理队列中保持“保留” - 重试等。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T07:29:27.987

1.  当您从数组中删除一个项目时，也删除该文件夹；如果不可能
2.  保留两个数组：在一个中，删除项目，然后比较数组的差异=要删除的文件夹，或者
3.  如果所有文件夹都在一个没有其他内容的文件夹中，则加载父文件夹的所有子文件夹并检查它们是否在数组中

以下是获取另一个文件夹的所有文件夹的方法：[PHP opendir() 仅列出文件夹](https://stackoverflow.com/questions/6497833/php-opendir-to-list-folders-only)

然后，在`if`语句中使用`in_array`方法或其他方式来确定文件夹是否在数组中。如果没有，请删除它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-11-30T07:40:22.813

您需要做的是遍历您当前拥有的所有文件夹，并将它们的所有名称/id 存储在一个数组中 - 我们将这个数组称为`$createdFolders`.

然后遍历 JSON 提要，并创建所有尚未创建的文件夹，如果它已经存在，`unset`则从 id/name 中创建。`$createdFolders`

当您遍历所有项目时，您将能够遍历`$createdFolders`. 留在此处的项目是删除候选者。

至于实际检查，您可以使用[`in_array`](http://php.net/manual/en/function.in-array.php)，这样的东西就足够了：

```
if ( in_array ( $array[$item], $createdFolders )) {
    unset ( $createdFolders[$item] );
} 
```

当然，这假设两个数组的键相同。

# jsf - Omnifaces树下Primefaces组件时初始状态无效

> ID：13640679
> 
> 赞同：1
> 
> 时间：2012-11-30T07:21:12.557
> 
> 标签：jsf, primefaces, omnifaces

我使用omnifaces树来编辑一些递归数据结构。但是当我打开页面时，primefaces组件的状态无效（有红色边框）。

版本：

*   omn​​ifaces-1.3-SNAPSHOT-20121121.jar
*   primefaces-3.4.1
*   tomee 1.5.1 和 myfaces 2.1.9
*   爪哇 7

我还用 Mojarra 2.1.9 进行了测试，结果相同。 [这](http://dl.dropbox.com/u/4606812/testee.zip)是 eclipse 项目的存档。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T11:52:55.533

这是由 OmniFaces 中的错误引起的`EditableValueHolderStateHelper`。该`valid`属性确实错误地默认为`false`. 这被报告为[问题 105](http://code.google.com/p/omnifaces/issues/detail?id=105)，并且问题单中提供了包含修复的快照。

# java - 在可用空间中包装超出组合框的内容？

> ID：13640681
> 
> 赞同：0
> 
> 时间：2012-11-30T07:21:25.957
> 
> 标签：java, swt

我一直在做一个 SWT 项目。我有一个组合框，其值是通过数据库设置的。我为组合框设置了固定大小，但是当将长字符串设置为它的项目时，组合框的宽度超出了设置的大小。我希望组合框通过将超出的字符串移动到下一行来包装内容。

这是我的代码：

```
String items[] = {"A","B","WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW","C"};
Combo combo =new Combo(comp, SWT.WRAP);
combo.setItems(items);
combo.select(0);
GridData gridData = new GridData(GridData.FILL_HORIZONTAL);
combo.setLayoutData(gridData); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T15:16:56.313

您将无法**在**.`SWT Combo`

你可能想看看

[http://www.eclipse.org/nebula/widgets/tablecombo/tablecombo.php](http://www.eclipse.org/nebula/widgets/tablecombo/tablecombo.php)

我不确定是否`TableCombo`支持多行项目。但是你可以通过使用`OwnerDrawLabelProvider`on来实现`TableViewer`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:45:45.097

`Combo`不支持`SWT.WRAP`。您所描述的内容无法通过任何标准小部件实现。这必须是一个完全自定义的控件。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2021-05-06T10:54:37.613

如果您正在使用`GridLayout`父组合上的 ，则可以将`GridData`with`widthHint`设置为 Combo 控件的布局数据。但是，下拉/提示仍然会溢出设置的宽度

# android - YuvImage 到 Drawable

> ID：13640683
> 
> 赞同：-1
> 
> 时间：2012-11-30T07:21:53.907
> 
> 标签：android, image-processing, android-view, android-image, android-drawable

我有 YUV 格式的 byte[] 数据，我想创建一个 Drawable。

要做的很长的路是将其转换为 RGB -> Bitmap -> BitmapDrawable。

一种更简单的方法是创建 YuvImage，但是是否可以在不使用将其压缩为 jpeg 的情况下从中创建一个 Drawable？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T12:06:55.930

有趣的讨论->[在 android 的 onPreviewFrame 期间转换 YUV->RGB(图像处理)->YUV？](https://stackoverflow.com/questions/9325861/converting-yuv-rgbimage-processing-yuv-during-onpreviewframe-in-android)

或者，您也可以将字节转换为 ColorMatrix 并使用**setYUV2RGB()**

# r - 在 R 中使用具有大样本量的 dput()

> ID：13640684
> 
> 赞同：4
> 
> 时间：2012-11-30T07:22:21.750
> 
> 标签：r, output

具体来说，我正在尝试使用 dput() 创建一个具有 [1376,6] 维度的 data.frame 的可重现示例，但输出窗口中的空间不足，无法复制和粘贴结果。

有没有办法增加输出窗口的缓冲区大小或者有人可以在这里提出一种替代方法吗？

谢谢

巴里

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-30T07:26:23.923

您始终可以将结果写入`dput`文件：

```
dput(rnorm(20), 'test.txt') 
```

详情请参阅`?dput`。

# python - 谷歌应用引擎和lxml3.0

> ID：13640688
> 
> 赞同：1
> 
> 时间：2012-11-30T07:22:35.263
> 
> 标签：python, google-app-engine, lxml

我是整个谷歌应用引擎和python开发环境的新手。但是，我过去有使用 c++、php 和 Objective-c 的经验。

我正在尝试编写显示数据的简单 html 刮板。我知道 lxml 是解析 html 的最佳方式。在我的开发环境中，我有 python 2.7，我似乎只能安装 lxml3.0.1。但是，应用引擎支持 lxml2.3

希望差异不会太严重，我在我的机器上安装了 lxml3.0.1。当我调用任何 lxml.html 解析器函数时，它会尝试从 html5lib 调用——这当然不受应用引擎的支持。

从谷歌应用引擎 lxml 解析 html 的最佳方法是什么？

# wpf - Infragistics xamgid 或 xamdatagrid 中的 AutoGeneratingColumn 事件？

> ID：13640689
> 
> 赞同：0
> 
> 时间：2012-11-30T07:22:37.240
> 
> 标签：wpf, mvvm, infragistics, xamdatagrid, xamgrid

我使用 wpf 和 MVVM。我有一个带有 datagrid 的页面，该页面绑定到 viewmodel 的数据表。在 datagrid 中自动生成列属性为 true 。但我需要一些 coulmns 成为组合框。所以我使用数据网格的 AutoGeneratingColumn 事件来实现这一点。在事件方法后面的代码中看起来像这样。

```
 private void DataGrid_AutoGeneratingColumn(object sender, DataGridAutoGeneratingColumnEventArgs e)
    {
       if (e.PropertyName == "Gender")
        {
            var cb = new DataGridComboBoxColumn();
            cb.ItemsSource = (DataContext as EmpDetailsWindowViewModel).GenderDataTable.DefaultView;
            cb.DisplayMemberPath = "Name";
            cb.SelectedValuePath = "Code";
            cb.SelectedValueBinding = new Binding("Gender");
            e.Column = cb;
       }
    } 
```

现在根据新要求，我必须使用 infragistics xamDatagrid 或 Xamgrid 来过滤值以及 infragistics 网格提供的一些其他功能。但我没有 `AutoGeneratingColumn`在两个基础网格中找到事件。如何在基础设施网格中实现此功能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T16:24:30.203

很简单，看这个链接了解详情

[http://help.infragistics.com/NetAdvantage/WPF/2011.1/CLR4.0/?page=xamComboEditor_Using_xamComboEditor_to_Edit_a_Field_in_xamDataGrid.html](http://help.infragistics.com/NetAdvantage/WPF/2011.1/CLR4.0/?page=xamComboEditor_Using_xamComboEditor_to_Edit_a_Field_in_xamDataGrid.html)

简而言之：

首先将 ComboBoxItemsProvider 添加到您的资源页面

```
<Window.Resources>
    <igWPF:ComboBoxItemsProvider x:Key="cmbGenderProvider">
        <igWPF:ComboBoxDataItem DisplayText="Male" Value="0"/>
        <igWPF:ComboBoxDataItem DisplayText="Female" Value="1"/>
    </igWPF:ComboBoxItemsProvider>
</Window.Resources> 
```

并在 XAML 中编辑 DataGrid 的字段布局并将 XamComboEditor 的 ItemsProvider 属性设置为上述资源：

```
<Grid>
    <igDP:XamDataGrid HorizontalAlignment="Left" DataSource="{Binding DataTable}">
        <igDP:XamDataGrid.FieldLayoutSettings>
            <igDP:FieldLayoutSettings AutoGenerateFields="False" />
        </igDP:XamDataGrid.FieldLayoutSettings>
        <igDP:XamDataGrid.FieldLayouts>
        <igDP:FieldLayout>
            <igDP:FieldLayout.Fields>
                <igDP:Field Name="Name" Label="Name"/>
                <igDP:UnboundField Name="Gender" Label="Gender">
                    <igDP:Field.Settings>
                        <igDP:FieldSettings EditAsType="{x:Type sys:Int32}" EditorType="{x:Type igWPF:XamComboEditor}">
                            <igDP:FieldSettings.EditorStyle>
                                <Style TargetType="{x:Type igWPF:XamComboEditor}">
                                    <Setter Property="ItemsProvider" Value="{StaticResource cmbGenderProvider}"/>
                                </Style>
                            </igDP:FieldSettings.EditorStyle>
                        </igDP:FieldSettings>
                    </igDP:Field.Settings>
                </igDP:UnboundField>
            </igDP:FieldLayout.Fields>
        </igDP:FieldLayout>
        </igDP:XamDataGrid.FieldLayouts>
    </igDP:XamDataGrid>
</Grid> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T19:10:13.023

在这种情况下，订阅 FieldLayoutInitialized 事件并编写适当的代码逻辑。

我刚刚写了这段代码：

```
private void XamDataGrid_FieldLayoutInitialized_1(object sender,   Infragistics.Windows.DataPresenter.Events.FieldLayoutInitializedEventArgs e)
    {
        var comboGenderField = e.FieldLayout.Fields["Gender"];
        if (comboGenderField != null)
        {
            var xamComboEditorStyle = new Style(typeof(XamComboEditor));
            var itemsProviderSetter = new Setter(XamComboEditor.ItemsProviderProperty,
                                                 this.FindResource("cmbGenderProvider"));
            xamComboEditorStyle.Setters.Add(itemsProviderSetter);

            comboGenderField.Settings.EditorStyle = xamComboEditorStyle;
            comboGenderField.Settings.EditAsType = typeof (int);
        }
    } 
```

请参阅此以获取更多信息： [http ://help.infragistics.com/Help/NetAdvantage/WPF/2012.2/CLR4.0/html/xamComboEditor_Setting_the_xamComboEditor_as_an_Editor_of_a_Field_Programmatically.html](http://help.infragistics.com/Help/NetAdvantage/WPF/2012.2/CLR4.0/html/xamComboEditor_Setting_the_xamComboEditor_as_an_Editor_of_a_Field_Programmatically.html)

# java - Windows任务栏上的JavaWebstart JNLP窗口？

> ID：13640692
> 
> 赞同：0
> 
> 时间：2012-11-30T07:22:41.740
> 
> 标签：java, applet, jnlp, java-web-start

我使用 jgoodies 开发了 JNLP GUI。

当我连接到网站时会出现 GUI。

但 GUI 窗口不在 Windows 任务栏上（在底部）。

代码如下所示。

```
<script src="http://www.java.com/js/deployJava.js"></script>

var attributes = { id:'TSToolkitReal',code:'tradesign.pkitoolkit.applet.MainApplet', width:100, height:100} ;
var parameters = {jnlp_href: '../download/_local_pkitoolkit.jnlp',
                 separate_jvm:true, classloader_cache:false} ;
     deployJava.runApplet(attributes, parameters, '1.6'); 
```

# php - 如何将二维数组变量从一个 php 页面传递到另一个

> ID：13640697
> 
> 赞同：0
> 
> 时间：2012-11-30T07:23:31.243
> 
> 标签：php, variables, multidimensional-array

我正在开发一个 php 项目，我需要将二维数组的值从一个页面传递到另一个页面。请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T07:24:59.617

服务器端传递：如果在同一台服务器上，则将数组临时存储在 $_Session 或数据库中。否则：通过 Json 进行通信...

如果您发布已有的代码可能会有所帮助...

# objective-c - 如何为 NSColor 更改设置动画？

> ID：13640698
> 
> 赞同：0
> 
> 时间：2012-11-30T07:23:31.847
> 
> 标签：objective-c, xcode, macos, cocoa

`NSAnimation`不会让我为`NSColor`更改设置动画。我该怎么做呢？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T07:36:19.323

您可以使用`blendedColorWithFraction:ofColor:`. 在您的动画方法中（无论哪种方法处理动画的当前值[如果您没有，只需制作一个]）：

```
NSColor *startColor = [NSColor redColor];
NSColor *targetColor = [NSColor blueColor];

float progress = [animation currentValue];
NSColor *currentColor = [startColor blendedColorWithFraction:progress ofColor:targetColor]; 
```

### 编辑：

你可以做的是创建一个`NSAnimation`. 您的子类只需要覆盖该`setCurrentProgress:`方法以确定您在动画中的距离。您可以以完全相同的方式配置动画的其余部分。在这种情况下，该协议可能有点矫枉过正，但它为您的子类动画提供了一种专门的方式来`NSColor`回馈创建动画的类实例。

```
@protocol MyAnimationTarget
- (void) setColorOfSomething:(NSColor *);
@end

@interface MyAnimation : NSAnimation
@property id<MyAnimationTarget> target;
@property NSColor *color1;
@property NSColor *color2;
@end

@implementation MyAnimation
@synthesize target = _target;
@synthesize color1 = _color1;
@synthesize color2 = _color2;

- (void) setCurrentProgress:(NSAnimationProgress) d
{
    [super setCurrentProgress:d];
    NSColor *currentColor = [self.color1 blendedColorWithFraction:d ofColor:self.color2];
    [self.target setColorOfSomething:currentColor];
}

@end 
```

在您的其他代码中：

```
MyAnimation *myAnim = [[MyAnimation alloc] init];
myAnim.target = self; // assuming self has a setColorOfSomething: method
myAnim.color1 = [NSColor redColor];
myAnim.color2 = [NSColor blueColor];
// set up other animation stuff
[myAnim startAnimation]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:38:26.497

只是一个建议。也许您可以使用淡入和淡出，如下所示：

```
begin animation
obj.alpha = 0.0;
commit animation

begin animator
obj.color = newColor;
obj.alpha = 1.0;
commit animation 
```

# java - 使用 Spring 在 weblogic 中的服务器启动时启动线程

> ID：13640700
> 
> 赞同：3
> 
> 时间：2012-11-30T07:23:39.283
> 
> 标签：java, multithreading, spring, weblogic

我想在服务器启动时启动一个线程。我的线程从 db 中提取数据并将其放入 JMS 队列中。所有 bean 都在 Spring 配置文件中定义。JMS 队列和 DB 连接工厂 (CONNECTION-FACTORY) 在 weblogic 上配置。我正在尝试将我的线程启动代码放在`contextInitialized`方法`ContextLoaderListener`或`init`方法中`servlet`。但是我**在启动服务器时**遇到了以下异常：

> 嵌套异常是 javax.naming.NoPermissionException：用户匿名没有对 CONNECTION-FACTORY 执行查找操作的权限。

如果我把它放在 Servlet 的 doGet 方法中并在服务器启动后点击 url，我的代码就可以完美运行。但是我不想手动启动线程。

我认为我收到此错误是因为所有 bean 都未正确初始化。

我在哪里放置我的代码，以便在服务器启动后线程自动启动？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T09:01:13.757

如果您正在创建自己的线程，那很可能是问题所在。在任何应用程序服务器中，您都应该让容器管理线程池并安排您可能想要运行的任何作业。

将此添加到您的 web.xml：

```
<resource-ref>
    <res-ref-name>timer/MyTimer/res-ref-name>
    <res-type>commonj.timers.TimerManager</res-type>
    <res-auth>Container</res-auth>
    <res-sharing-scope>Unshareable</res-sharing-scope>
</resource-ref> 
```

在您的 applicationContext.xml 中（需要 spring-context-support JAR）：

```
<bean id="scheduler" class="org.springframework.scheduling.commonj.TimerManagerTaskScheduler" scope="singleton">
    <property name="timerManagerName" value="java:comp/env/timer/MyTimer"/>
</bean> 
```

然后在你的 contextInitialized(...) 做：

```
scheduledFuture = scheduler.schedule(new MyJob()); 
```

在你的上下文中Destroyed(...) 做；

```
scheduledFuture.cancel(true); 
```

在我的项目中，我找不到任何关于在应用程序服务器级别配置计时器的信息，所以我猜它“正常工作”。

如果要异步生成作业（通过`java.lang.concurrent.Executor`接口），过程类似，但需要在 Weblogic 中配置线程池：

在 web.xml 中；

```
<resource-ref>
    <res-ref-name>wm/MyWorkManager</res-ref-name>
    <res-type>commonj.work.WorkManager</res-type>
    <res-auth>Container</res-auth>
</resource-ref> 
```

在 applicationContext.xml 中：

```
<bean id="executor" class="org.springframework.scheduling.commonj.WorkManagerTaskExecutor" scope="singleton">
    <property name="workManagerName" value="java:comp/env/wm/MyWorkManager"/>
</bean> 
```

在您的 weblogic.xml（或 EAR 的等效项）中，类似：

```
<work-manager>
    <name>wm/MyWorkManager</name>
    <min-threads-constraint>
        <name>minThreads</name>
        <count>1</count>
    </min-threads-constraint>
    <max-threads-constraint>
        <name>maxThreads</name>
        <count>20</count>
    </max-threads-constraint>
</work-manager> 
```

在您的代码中：

```
executor.execute(new MyRunnable()); 
```

阅读[有关计时器和工作管理器的 Weblogic 文档，](http://docs.oracle.com/cd/E15051_01/wls/docs103/commonj/commonj.html)了解有关此特定应用服务器的更多作业调度相关信息。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-12-04T09:57:24.493

找到了解决方案。作为例外`javax.naming.NoPermissionException`，我们应该在`weblogic.xml`. 它使用用户启动 webapp 并在部署时启用 JNDI 查找

```
<weblogic-web-app>
    <context-root>testApp</context-root>    
    <servlet-descriptor>
        <servlet-name>SchedulerServlet</servlet-name>
        <init-as-principal-name>tour_weblogic_user_name</init-as-principal-name>
    </servlet-descriptor>
</weblogic-web-app> 
```

# javascript - 传递状态以调整大小功能

> ID：13640701
> 
> 赞同：0
> 
> 时间：2012-11-30T07:23:47.567
> 
> 标签：javascript, jquery

我正在尝试制作[演示](http://jsfiddle.net/D5yXF/)-
1.（登陆）检查浏览器大小>更改多边形大小
2.单击按钮>更改多边形大小（更小）
3.调整浏览器大小>更改多边形大小
4.调整浏览器大小>检查是否已单击按钮到更小的模式之前 > 将多边形大小更改为更小

我被困在 4 中。我不知道如何将之前的状态传递给调整大小之后。它会再次计算。

任何建议将不胜感激。

`Demo`

```
$(function(){
var adivide=0;
var winwid = $(window).width();
function setadivide(){  
    winwid = $(window).width(); 
    if(winwid > 800){
        adivide = 8;
    }
    else{
        adivide = 4;
    }
    console.log(adivide);
};
setadivide();

var awidth;
function acal(){
    awidth = parseInt( winwid / adivide);
};
acal();
function setawidth(){
    $('.a').css({width: awidth, height: awidth});
};
setawidth();

//****** button
//set btn visibility
function btnvis(){
    switch(adivide){
        case 4:
            $('.plus').show();
            $('.minus').hide();
        break;
        case 8:
            $('.plus').show();
            $('.minus').hide();
        break;
    }
};
btnvis();
//click btn update adivide and set btn visibility
function btnclick(){
    $('.plus').click(function(){
        switch(adivide){
            case 4:
                adivide = adivide -2;
                console.log(adivide);
                acal();
                setawidth();
                $('.plus').hide();
                $('.minus').show();
            break;
            case 8:
                adivide = adivide - 2;
                console.log(adivide);
                acal();
                setawidth();
                $('.plus').hide();
                $('.minus').show();
            break;
        }
    });
    $('.minus').click(function(){
        switch(adivide){
            case 2:
                adivide = adivide + 2;
                console.log(adivide);
                acal();
                setawidth();
                $('.plus').show();
                $('.minus').hide();
            break;
            case 6:
                adivide = adivide + 2;
                console.log(adivide);
                acal();
                setawidth();
                $('.plus').show();
                $('.minus').hide();
            break;
        }
    });
};
btnclick();
//end button ******
$(window).resize(function(){
    setadivide();
    acal();
    setawidth();
    //****** button
    btnvis();
    //end button ******
});
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T07:44:51.243

（编辑答案）

修改您的 setadivide 函数以考虑当前`adivide`值（即当前状态）：

```
function setadivide(){    
    winwid = $(window).width();    
    if(winwid > 800){
        if (adivide == 2)
           adivide = 6;
        else if (adivide != 6)
           adivide = 8;
    }
    else{
        if (adivide == 6)
           adivide = 2;
        else if (adivide != 2)
           adivide = 4;
    }
    console.log(adivide);
}; 
```

[修改后的演示](http://jsfiddle.net/29hFt/4/)

# javascript - knockoutjs 方法中的 ButtonId

> ID：13640702
> 
> 赞同：1
> 
> 时间：2012-11-30T07:23:52.443
> 
> 标签：javascript, jquery, knockout.js

我有 2 个按钮，如下所示：

```
<button id="btnPrevious" class="icon-backward" data-bind="click: $root.GoForWeek"></button>

<button class="icon-forward" data-bind="click: $root.GoForWeek"></button> 
```

我想在我的方法中传递值以知道单击了哪个按钮。我的方法如下：

```
self.GoForWeek= function (data, event) {alert(event.target);

    //want to get id of button to know which button is clicked

        $.ajax({
            //code here
        })
}; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T07:27:23.733

尝试下面的代码进行函数声明：

```
self.GoForPreviousWeek = function (data, event) { 
```

现在， event.target 将告诉您单击了哪个按钮。然后你可以使用

> $(事件.目标)

访问 jquery 中的元素。

在这种情况下，您还可以使用 data 变量来访问您在数据绑定中添加到控件的“数据”属性中的任何数据。

# wso2 - WSO2 身份服务器

> ID：13640704
> 
> 赞同：1
> 
> 时间：2012-11-30T07:23:54.440
> 
> 标签：wso2, identity, wso2is

试图了解 WSO2 身份服务器的租户设置。我无法找到在tenant-mgt.xml 中定义的 java 类（例如：CommonHybridLDAPTenantManager.java）在 WSO2 4.0.0 下的位置。感谢 WSO2 团队的任何帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T07:31:34.873

[您可以在此处](https://svn.wso2.org/repos/wso2/carbon/kernel/branches/4.0.0/core/org.wso2.carbon.user.core/4.0.3/src/main/java/org/wso2/carbon/user/core/tenant/)找到源文件。

# php - Codeigniter HMVC 验证回调错误

> ID：13640705
> 
> 赞同：0
> 
> 时间：2012-11-30T07:23:56.460
> 
> 标签：php, codeigniter

我正在将 Codeigniter 与 HMVC 一起使用。当我验证我的表单时，我使用该解决方案来修复 HMVC 中的回调问题：

1.扩展CI_Form_validation：

```
<?php
    // application/libraries/My_Form_validation.php

    class MY_Form_validation extends CI_Form_validation {

    public $CI;

    }

?> 
```

1.  在我的控制器中：

类用户扩展 MX_Controller {

```
function __construct() {
    parent :: __construct();
    $this->load->library('form_validation');
    $this->form_validation->CI = & $this;

} 
```

我的问题是：在我的本地主机中，一切正常：回调验证正常运行。但是当我在主机上上传我的项目时，我执行我的控制器它显示为空白。当我评论该行时

```
 //$this->form_validation->CI = & $this; 
```

控制器再次正常运行。

你能告诉我如何解决这个问题吗？谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-01T03:09:23.263

检查您的错误日志是否有任何致命错误，您也应该以这种方式扩展我的表单验证

```
 class MY_Form_validation extends CI_Form_validation {
       private $CI

      function My_Form_validation($config = array()) {

        parent::__construct($config); 
        $this->CI = &get_instance()

    }

   //example functions
  function my_custom_validation(str){ //or override , for example, required
      if($this->CI->method_from_instance()){
        return true;
       }
     return false
  }

} 
```

然后像往常一样使用 form_validation，但现在你有额外的规则 my_custom_validation

**编辑**：如果有任何机会并且出于某种有线原因你想在你的库中使用控制器函数（又名 $this），一旦你加载库，例如`$this->load->library('form_validation', array(('ci'=>$this)`// 但我不明白你为什么要这样做.

# php - 什么 reg 表达式会选择这些标签之间的所有文本？

> ID：13640706
> 
> 赞同：0
> 
> 时间：2012-11-30T07:24:26.007
> 
> 标签：php, regex

> **可能重复：**
> [正则表达式匹配打开的标签，XHTML 自包含标签除外](https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags)
> [如何使用 PHP 解析和处理 HTML？](https://stackoverflow.com/questions/3577641/how-to-parse-and-process-html-with-php)
> [如何在 PHP 中将 ereg 表达式转换为 preg？](https://stackoverflow.com/questions/6270004/how-can-i-convert-ereg-expressions-to-preg-in-php)

这是一个例子

```
echo "<div id='spaced' class='romaji'><span class='spaced orig word'>neko</span><span class='space'>"; 
```

请忽略“回声”，这是我可以让 html 显示的唯一方法

我需要一个 reg express 可以选择介于两者之间的任何内容

```
echo "<span class='spaced orig word'>"; 
```

标签及其结束标签

```
echo "</span>"; 
```

我试过了

```
$pattern = "span class='spaced orig word'>(.+?)</s";
preg_match_all ($pattern, $jp_page, $result_ro);
if ($result_ro[1])
$results[] = implode(' ', $result_ro[1]);
else
return null; // Failed to retrieve Hiragana, so abort 
```

还有其他一些事情，但我做错了，我大部分时间什么都没有，因为我真的不知道我在用 reg 表达式做什么

当前收到此代码的警告警告：preg_match_all()：分隔符不能是字母数字或反斜杠

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:35:30.123

[他来的小马！](https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454)

相反，请尝试使用 DOM 解析器：

```
$dom = new DOMDocument();
$dom->loadHTML($jp_page);
$xpath = new DOMXPath($dom);
$spans = $xpath->query("//span[@class='spaced orig word']");
$results = "";
foreach($spans as $span) {
    $results = " ".$span->textContent;
}
$results = trim($results);
return $results; 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-11-30T07:29:28.973

没有分隔符试试这个 reg

```
<?php
$pattern = '@<span.*?>(.*?)</span>@'; 
```

# javascript - 如何使用javascript将焦点设置在链接按钮单击的文本框上

> ID：13640707
> 
> 赞同：0
> 
> 时间：2012-11-30T07:24:26.390
> 
> 标签：javascript, jquery

我有这个java脚本函数

```
function showHideSearchPanel(dv) {

var Header = dv == 'Charts' ? 'ChartSearch' : 'ReportSearch';
var div = "ctl00_ContentPlaceHolder1_dv" + Header;
var panel = "ctl00_ContentPlaceHolder1_pnl" + Header;
var hiddenField = "ctl00_ContentPlaceHolder1_hdn" + Header + "Mode";

// I try to add this code in js but it not work
**var serchtextbox = document.getElementById("ctl00_ContentPlaceHolder1_txtSearchName");
if (serchtextbox != null) {
    serchtextbox.focus();
}**
// I try to add this code in js but it not work

if ($("#" + div).attr('display') != 'block') {
    window.status = 'Expanding contents....';
    $("#" + div).slideToggle("slow");
    $("#" + div).attr('visibility', 'visible');
    $("#" + div).attr('display', 'block');
    window.status = 'Done';
}
else {
    window.status = 'Collapsing contents....';
    $("#" + div).hide("slow");
    $("#" + div).attr('visibility', 'hidden');
    $("#" + div).attr('display', 'none');
    window.status = 'Done';
}
$("#" + hiddenField).attr('value', ($("#" + hiddenField).attr('value') == 'On' ? 'Off' : 'On')); 
```

}

这是我的简单菜单 ![我的搜索菜单](../Images/2e7f79b29a4b729b2ec6f30d76b46405.png)

单击搜索按钮时，我想在下图中的搜索文本框上设置焦点 ![点击搜索表显示](../Images/88d4ae79b567b4654dea470fed83153a.png)

# buffer - Android Bitmap 类中的后备缓冲区

> ID：13640708
> 
> 赞同：2
> 
> 时间：2012-11-30T07:24:27.707
> 
> 标签：buffer, backing

当我查看Android的Bitmap类的实现时，我发现它内部使用了SkBitmap。

Android 的 Bitmap 类分别为位图本身和后备缓冲区分配一个本机堆和一个 jbyte 数组。

什么是后备缓冲区及其目标？（后备缓冲区在 Android 的 Bitmap 类中被声明为“mBuffer”）

# python - 如何在 Django 模板中添加字符

> ID：13640712
> 
> 赞同：0
> 
> 时间：2012-11-30T07:24:52.863
> 
> 标签：python, django, google-app-engine, django-templates

Django 模板语言有很多特性： [https ://docs.djangoproject.com/en/dev/ref/templates/builtins/?from=olddocs](https://docs.djangoproject.com/en/dev/ref/templates/builtins/?from=olddocs)

但我一直很难找到一个。我在 python 中有一个字典，它被发送到 HTML 文档。

字典：`hello = {'a':100, 'b':200, 'c':300, etc:etc}`

在 HTML 文件中，如果我这样做：输出`{{a}}`数字**100 。**

现在我想知道，是否可以使用 Django 模板为**100**和所有其他值添加一个字符。所以就像一个过滤器，将输出从**100 200 300 等**变为**10a0 20a0 30a0 等**甚至**1.00 2.00 3.00 等**。我发现最接近的是 add 内置功能`{{ value|add:"2" }}`，所以`{{ 4|add:"2" }}`会给你**6**。

感谢您阅读本文，我将不胜感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T08:32:51.133

如果您真的想在模板中执行此操作，可以尝试以下方法：

```
 {% for d in a|make_list %}{{d}}{%if forloop.counter == 1 %}.{%endif%}{%endfor%} 
```

但这很丑！

我建议编写一个简单的模板过滤器来适当地转换值。

例如：

```
# sample filter
def todollars(value):
    val = int(value)
    return "%.2f" % val/100.0 
```

在模板中将其用作：

```
{{ a|todollars }} 
```

这会给你价值，`1.00`当价值是`100`。

更多关于如何编写的帮助，在[此处](https://docs.djangoproject.com/en/dev/howto/custom-template-tags/#writing-custom-template-filters)注册模板过滤器。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-30T08:35:39.363

> 问题是我正在做一个小型网络商店。因此，所有值都必须以美分表示（在服务器和其他东西中）。但对于客户来说，他们更容易看到美元

然后我认为最好的折衷方案是[创建一个过滤器](https://docs.djangoproject.com/en/dev/howto/custom-template-tags/)：

```
from django import template
from django.template.defaultfilters import stringfilter

register = template.Library()

@register.filter
@stringfilter
def dollars(value):
    strng = "%d" % value
    return strng[:-2]+'.'+strng[-2:] 
```

在模板中，您可以指定

```
{{ a|dollars }} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-30T08:27:11.033

如上面评论中所述，您确实应该考虑在您的视图或模型中执行此操作（这将是我的偏好）。

例如：

在您的模型中

```
import locale
locale.setlocale(locale.LC_ALL, '')

class Product(models.Model):
    ...
    price = models.IntegerField(...)   # hundredths of a unit
    ...

    def human_price(self):
        return locale.currency(self.price / 100, grouping=True) 
```

在您的模板中：

```
{{ object.human_price }} 
```

如果您的产品价格为 1123.14159，那么您的输出将是 1,123.14 英镑（这是 GBP，因为我的语言环境是“en_GB.UTF-8”，您的可能会有所不同。

如果您只想要整个部分，您可以使用：

```
locale.format('%0.0f', self.price / 100, grouping=True) 
```

相反，在本例中这将返回 1,123。

在此处阅读有关语言环境的更多信息：http: [//docs.python.org/2/library/locale.html](http://docs.python.org/2/library/locale.html)

# python - 用于类的python“in”应用程序

> ID：13640714
> 
> 赞同：2
> 
> 时间：2012-11-30T07:25:02.893
> 
> 标签：python, class, object, keyword

如何将“in”关键字扩展到我创建的类？我正在使用 Card 类制作纸牌游戏。还有另一个类是玩家的手。基本上我想看看某张牌是否在手中。一个类比如下：

```
>>> 5 in range(0, 5)
True 
```

这是我的代码。我有一个 Hand 类，我想看看 Card() 是否在 Hand()

另外，我对这个类的概念很陌生。我才刚刚开始了解这整件事是如何运作的。我是否正确实现了**len**方法？

```
class Card:
    def __init__(self, suit, rank):
        # self.suit > str
        # self.rank > str
        if (suit in SUITS) and (rank in RANKS):
            self.suit = suit
            self.rank = rank
        else:
            self.suit = None
            self.rank = None
            print "Invalid card:", suit, rank

    def __str__(self):
        return self.suit + self.rank

    def get_suit(self):
        return self.suit

    def get_rank(self):
        return self.rank

# define hand class
class Hand:
    # A list of Card objects
    # adding cards to the hand should remove cards from the deck.

    def __init__(self):
        self.hand = []

    def __str__(self):
        cards = []
        for card in self.hand:
            cards += [card.get_suit() + card.get_rank()]
        return str(cards)

    def add_card(self, card):
        return self.hand.append(card)

    def __len__(self):
        counter = 0
        for card in self.hand:
            counter +=1
        return counter 
```

* * *

好的，所以我在手类中添加了这段代码：

```
 def __contains__(self, card):
        return card in self.hand 
```

但我尝试测试我的代码但它不起作用：

```
c = Card('H','A')

h = Hand()
h.add_card(Card('S','K'))
h.add_card(Card('D','A'))
h.add_card(Card('H','A'))

print 'hand=', h
print 'c=', c
print 'c in h', c in h 
```

它在终端中显示 False ......为什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T07:26:28.570

你正在寻找[`__contains__`](http://docs.python.org/2/reference/datamodel.html#object.__contains__)神奇的方法。

至于`len`，您的实现给出了正确的结果，但不必要地复杂。你可以这样做：

```
def __len__(self):
    return len(self.hand) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T08:17:14.507

@BrenBarn 给了你一个指向正确方向的指针`__contains__`。但是，正如我对他的回答所评论的那样，实现该方法可能需要您的`Card`对象具有可比性。现在，只有当它们都是同一个对象时，两张牌才会显得相等。

对于我的意思的一个例子，试试这个：

```
c1 = Card("H", "A")
c2 = Card("H", "A")

print c1 == c2 # False! 
```

要解决此问题，您需要将`__eq__`方法添加到您的`Card`类（可能还添加`__ne__`方法，这样您就可以使用`!=`测试）。这是一个可能的实现：

```
def __eq__(self, other):
    return self.suit == other.suit and self.rank == other rank

def __ne__(self, other):
    return not self == other 
```

我想指出另一件事（与您的问题无关）。你的`Card`班级有西装和等级的“getter”方法。在 Python 中这些通常是不必要的，在 Python 中，您通常可以首先使用公共变量对所有内容进行编程。也就是说，当前调用的任何内容`card.get_suit`都应`card.suit`改为访问。

在不太常见的情况下，您需要做复杂的事情来响应变量访问（例如在请求时计算某些值，或阻止分配某些值），您可以`Property`在类中放置一个实例（通常作为装饰器一个函数），并且外部代码仍然可以访问它，就好像它仍然是一个公共变量一样。具有大量 getter 的代码在其他编程语言中很常见，这些编程语言无法在常规变量和 Python 等属性之间切换。

# ant - 当安全处理功能设置为 true 时，不允许使用扩展元素“redirect”

> ID：13640716
> 
> 赞同：0
> 
> 时间：2012-11-30T07:25:12.933
> 
> 标签：ant, webdriver, junit4

应用转换时出错：javax.xml.transform.TransformerException：java.lang.RuntimeException：当安全处理功能设置为 true 时，不允许使用扩展元素“redirect”。

我正在使用 Junit-4 运行我的测试套件。当我运行（ant）build.xml 文件时，我的测试正在正确执行，但是将 xml 输出转换为 HTML 内容并没有成功。

*   我在 Reportstype 目录中有“junit-frames.xsl”文件。
*   Junit版本：4
*   JRE 7
*   蚂蚁 1.8.2

请让我知道如何解决这个问题？

提前致谢。

哈努曼

# bash - 将参数从包装脚本传递到在 cshell 中调用的二进制文件

> ID：13640718
> 
> 赞同：0
> 
> 时间：2012-11-30T07:25:15.443
> 
> 标签：bash, unix, csh

我有一个包装器运行脚本让我们称之为 wrap_app.sh 它所做的只是调用一些二进制文件

```
./mybinary --run-test --run-allnew "$@" 
```

现在当我调用它时，我可以在 bash 中为它提供额外的参数

`./wrap_app.sh --run-new-arg`

这些参数将传递给 mybinary

现在我正在尝试在 csh 中做同样的事情，但它似乎不起作用。

任何人都可以在 csh 中提供 $@ 的等价物吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-25T14:50:41.383

在`tcsh`脚本的参数列表中是`$*`

# vb6 - 使用visual basic 6访问远程计算机上的xampp数据库

> ID：13640722
> 
> 赞同：1
> 
> 时间：2012-11-30T07:25:29.517
> 
> 标签：vb6

大家好，我需要帮助。

我有一个简单的 Visual Basic 6 应用程序，将数据存储在 xampp 数据库中。当我使用以下代码在本地访问我的数据库时，它工作正常：

```
Public cn As ADODB.Connection
Public rs As ADODB.Recordset

Sub main()
    Set cn = New ADODB.Connection
    cn.ConnectionString = "Driver={MySql ODBC 3.51 Driver}; Server=localhost; Port=3306; database=MY_DATABASE; user=root; password=; option=3;"
    cn.Open
End Sub 
```

现在我复制了我正在使用的 Visual Basic 应用程序并将其粘贴到联网的计算机上，并对代码进行了一些修改以访问存储在另一台计算机上的 xampp 数据库。这是代码

```
Public cn As ADODB.Connection
Public rs As ADODB.Recordset

Sub main()
    Set cn = New ADODB.Connection
    cn.ConnectionString = "Driver={MySql ODBC 3.51 Driver}; Server=\\192.100.50.2\choco; Port=3306; database=MY_DATABASE; user=root; password=; option=3;"
    cn.Open 
```

192.100.50.2 是 IP 地址，choco 是存储 xampp 数据库的计算机的计算机名称。我的问题是我无法访问 xampp 数据库，并且出现运行错误“未知 MySQL 服务主机 '\192.100.50.2\choey'[1106]”。请帮我。先谢谢了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-19T09:42:06.913

我认为部分问题是您远程使用“root”。1\. 真是个坏主意。
仅为您的应用创建用户。2、root默认不能远程使用。3\. 使用您的服务器名称或地址，但不能同时使用两者。

旁注，它不是 XAMPP 数据库，它是 MySQL。

# android - 字体调整大小不适用于片段中的 Webview (FrameLayout)

> ID：13640726
> 
> 赞同：1
> 
> 时间：2012-11-30T07:26:04.260
> 
> 标签：android, android-fragments, android-webview, android-framelayout

我正在使用此代码来调整 webview 中的字体大小：

```
private void changeFontSize(int value) {
    webView.getSettings().setDefaultFontSize(fontSize);
}

private void fontSizePlus() {
    if (fontSize<FONT_SIZE_MAX){
    fontSize++;
    Log.d(TAG,"Font size = "+fontSize);
    this.changeFontSize(fontSize);
    }
}

private void fontSizeMinus() {
    if (fontSize>FONT_SIZE_MIN){
    fontSize--;
    Log.d(TAG,"Font size = "+fontSize);
    this.changeFontSize(fontSize);
    }
} 
```

当我将它用于 Activity 中的 webview 时，此代码运行良好。但是当我将它用于 FrameLayout 中的 webview 时，它不再起作用了。此外，当我按下 font_size_up 和 font_size_down 按钮时，日志中没有日志消息！

这是网页内容： String yourHtml = HTML CODE webView.loadDataWithBaseURL
(null, yourHtml, "text/html", "UTF-8", null); NB：对不起，我不知道如何发布我的 HTML 代码，所以它会在浏览器中出现并且不会被视为 html 代码

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T12:37:38.767

我不认为您可以调整 webview 内容中的字体大小。如果您正在从文件中读取网页，则可以更改网页 HTML 内容中的字体大小，但如果您正在从 URL 读取页面，则不能。

# mysql - 来自先前插入的 MYSQL 插入 ID

> ID：13640727
> 
> 赞同：0
> 
> 时间：2012-11-30T07:26:06.397
> 
> 标签：mysql

有两个表需要添加新行。

```
table fish 
  fish_id
  name
  color

table tank
  tank_id
  fish_id 
```

假设我想插入一条新鱼，然后将其分配给具有新创建的 fish_id 的鱼缸。有没有办法在一个查询中做到这一点？或者您是否必须插入新鱼，获取 id，然后再插入？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T07:33:01.043

您可以使用 LAST_INSERT_ID 函数在两个连续查询中执行此操作。

```
INSERT INTO fish (fish_id,name,color)
VALUES(NULL,'fish','red');

INSERT INTO tank (tank_id, fish_id)
VALUES(100, LAST_INSERT_ID()); 
```

[http://dev.mysql.com/doc/refman/5.0/en/information-functions.html#function_last-insert-id](http://dev.mysql.com/doc/refman/5.0/en/information-functions.html#function_last-insert-id)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T07:31:18.953

您可以使用触发器来实现这一点

```
CREATE TRIGGER `after_insert_fish`  
    AFTER INSERT ON `fish` FOR EACH ROW  
    BEGIN  
        INSERT INTO tank (fish_id)  
        VALUES (NEW.fish_id);  
    END 
```

# android - 禁用 phonegap 中的触摸事件（xcode iOS）

> ID：13640730
> 
> 赞同：0
> 
> 时间：2012-11-30T07:26:11.927
> 
> 标签：android, ios, jquery-mobile, cordova, touch

我遇到了最烦人的情况。好的，这就去。我正在为移动应用程序使用基于 javascript 的滑动菜单。“滑块”的工作方式与 Facebook 手机类似，您可以在其中单击按钮以在左侧显示菜单，然后再次单击以关闭菜单。作为替代方案，如果您在菜单显示时触摸页面仍然可见的部分，它也会关闭。就是这样。

问题：请注意，我正在为这个应用程序使用 Phonegap。当我在 Xcode 中运行 iOS 模拟器时，除了向左滑动之外，一切都可以正常工作，例如，页面会移动。我想一起禁用滑动事件。我已经尝试过 preventDefault、return false 等。似乎没有任何效果。同样，我唯一的目标是禁用触摸事件，因为对于这个应用程序，我根本不需要它们。请参阅下面的菜单显示/隐藏的 javascript 代码。

谢谢是提前。一切都值得赞赏。

```
$(function(){
var menuStatus;     

// Show menu
$("a.showMenu").click(function(){

$('#menu').show();
    if(menuStatus != true){

    $(".ui-page-active").animate({
        marginLeft: "170px",

      }, 300, function(){menuStatus = true});
      return false;
      } else {

        $(".ui-page-active").animate({
            marginLeft: "0px",
      }, 300, function(){menuStatus = false});
        return false;
      }
});

// Menu behaviour
$("#menu li a").click(function(){
    var p = $(this).parent();
    if($(p).hasClass('active')){
        $("#menu li").removeClass('active');
    } else {
        $("#menu li").removeClass('active');
        $(p).addClass('active');
    }
});
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T08:19:26.563

您可以覆盖`$.event.special.swipe.horizontalDistanceThreshold`更大的值并防止页面上的滑动触发滑动事件。

请参阅[触摸事件 -> 滑动](http://jquerymobile.com/test/docs/api/events.html)

# ios - 处理有关方向的 AVCaptureVideoDataOutput 图像数据的推荐方法是什么

> ID：13640746
> 
> 赞同：1
> 
> 时间：2012-11-30T07:27:03.777
> 
> 标签：ios, camera, avcapturesession

我正在编写一个应用程序，它对从 AVCaptureSession 中的 AVCaptureVideoDataOutput 获取的图像数据进行一些实时处理。

我目前能够启动会话，添加输入和输出，然后检索图像数据，将其转换为 UIImage 并将其实时显示在屏幕上。

我遇到的主要问题是图像的方向很尴尬。它是旋转和镜像的，而且看起来也是倾斜的。我已经对其进行了一些研究，发现了一些[相关](https://stackoverflow.com/questions/9324130/iphoneimage-captured-from-camera-rotate-90-degree-automatically/9324225#9324225) [问题](https://stackoverflow.com/questions/3823461/how-to-change-video-orientation-for-avcapturevideodataoutput)，并且我尝试了建议的代码，但它不能解决旋转问题。

我认为链接的问题假设 UIImages 来自其他地方（也许是更高级别的 api，它自动向图像添加更多信息，例如方向。或者可能是因为我从视频输出提要中获取它？

我并不是真的在寻找修复它的代码（尽管带注释的示例会非常有帮助），而是很好地解释了以这种方式获得的图像的生命周期的工作原理；处理它的推荐方法是什么，以便它可以以对手机方向有意义的方式显示在屏幕上？返回的 CGImageRef 的方向是什么？等等

我有一个[先前的问题](https://stackoverflow.com/questions/13508171/avcapturedeviceoutput-not-calling-delegate-method-captureoutput)，其中包含我用来设置 AVCaptureSession 的代码。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-06T22:27:19.610

视频连接通常是横向的（例如 AVCaptureVideoOrientationLandscapeRight） 这个[苹果问答中有一些很好的信息](https://developer.apple.com/library/ios/#qa/qa1744/_index.html)

我的理解是您不能在 AVCaptureVideoDataOutput 上设置视频方向。因此，链接中的所有各种技巧都可以在 AVCaptureSession 委托方法中旋转当前帧图像`captureOutput:didOutputSampleBuffer:fromConnection:`

我从您之前的帖子中假设您查看了 SquareCam 示例项目。RosyWriter 项目还提供了一些有趣的方向处理，通过将连接的 videoOrientation 属性与应用程序期望的“参考”纵向方向进行比较。

希望能帮助到你。

# java - 在 Java 中使用 RMI 的简单聊天应用程序出错

> ID：13640748
> 
> 赞同：1
> 
> 时间：2012-11-30T07:27:10.747
> 
> 标签：java, rmi

我正在使用 RMI 创建一个简单的聊天应用程序，但我无法识别出确切的问题在哪里？这是我的代码：

**聊天服务器.java**

```
import java.awt.Point;
import java.net.MalformedURLException;
import java.rmi.AlreadyBoundException;
import java.rmi.Naming;
import java.rmi.RemoteException;
import java.rmi.server.UnicastRemoteObject;
import java.util.ArrayList;
import java.util.logging.Level;
import java.util.logging.Logger;

/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/**
 *
 * @author nick
 */
public class ChatServer extends UnicastRemoteObject implements IChat{

    ArrayList<String> list = new ArrayList<String>();

    public ChatServer() throws RemoteException{
        try {
            Naming.bind("//localhost:1099/chat", this);
        } catch (Exception ex) {

            ex.printStackTrace();

        }

        System.out.println("Chat Server Ready");
    }

    public void put(Point p) throws RemoteException{

        p.getX();
        p.getY();

    }
 /*
    public ArrayList<String> get() throws RemoteException{

        return list;

    } */
    public ArrayList<String> get() throws RemoteException
    {
        return list;
    }

    public static void main(String[] args) {
        try {
            new ChatServer();
        } catch (RemoteException ex) {
            Logger.getLogger(ChatServer.class.getName()).log(Level.SEVERE, null, ex);
        }
    }

} 
```

**聊天客户端.java**

```
import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Graphics;
import java.awt.Point;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.MouseEvent;
import java.awt.event.MouseListener;
import java.awt.event.MouseMotionListener;
import java.rmi.Naming;
import java.rmi.Remote;
import java.rmi.RemoteException;
import java.util.ArrayList;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JFrame;
import javax.swing.JTextArea;
import javax.swing.JTextField;

/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
/**
 *
 * @author nick
 */
public class ChatClient extends JFrame implements Runnable, ActionListener, MouseListener, MouseMotionListener {

    String TAG = "kushal ";
    IChat ic;
    int oldx, oldy;
    JTextField jtf;
    JTextArea jta;

    public ChatClient() {
        try {
            Remote remote = Naming.lookup("//localhost:1099/chat");
            ic = (IChat) remote;
        } catch (Exception ex) {
            ex.printStackTrace();
        }

        setSize(300, 300);
        setVisible(true);

        Thread t = new Thread(this);
        t.start();
    }

    public void paint(Graphics g) {
    }

    public void run() {
        while (true) {
            try {
                ArrayList<Point> list = ic.get();
                Thread.sleep(1000);
            } catch (Exception ex) {
                ex.printStackTrace();

            }

        }
    }

    public static void main(String[] args) {
        new ChatClient();
    }

    public void actionPerformed(ActionEvent e) {
      /*  try {
            ic.put(TAG + jtf.getText());
            jtf.setText("");
        } catch (RemoteException ex) {
            Logger.getLogger(ChatClient.class.getName()).log(Level.SEVERE, null, ex);
        }*/

    }

    public void mouseClicked(MouseEvent e) {
    }

    public void mousePressed(MouseEvent e) {
        oldx = e.getX();
        oldy = e.getY();

    }

    public void mouseReleased(MouseEvent e) {
    }

    public void mouseEntered(MouseEvent e) {
    }

    public void mouseExited(MouseEvent e) {
    }

    public void mouseDragged(MouseEvent e) {
        Graphics g = getGraphics();

        int x = e.getX();
        int y = e.getY();
        g.drawLine(oldx, oldy, x, y);
        oldx = x;
        oldy = y;

    }

    public void mouseMoved(MouseEvent e) {
    }
} 
```

**IChat.java**

```
import java.awt.Point;
import java.rmi.Remote;
import java.rmi.RemoteException;
import java.util.ArrayList;

/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/**
 *
 * @author new
 */
public interface  IChat extends Remote{

    public void put(Point p) throws RemoteException;
    public ArrayList<Point> get() throws RemoteException;
} 
```

**ChatServer.java 中的错误：ChatServer 不是抽象的，并且不会覆盖 IChat 中的抽象方法 get()**

**ChatServer 中的 get() 无法实现 IChat 中的 get() 返回类型 ArrayList 与 ArrayList 不兼容 ----**

任何帮助都会非常有用。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:31:15.397

**-**您**尚未**为. _ `Implementation` **_**`Interface`

**例如：**

```
 IChatImpl implements IChat{

    public void put(Point p) throws RemoteException{

    }

    public ArrayList<Point> get() throws RemoteException{

    }
} 
```

**///////////////////////////编辑部分////////////// /////////////**

**我认为你没有覆盖这个方法......**

`public ArrayList<String>`

**它应该是....**

`public ArrayList<Point>`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T11:31:24.897

这里还有其他问题，但是出现connect异常的原因是你没有在服务器主机上启动RMI Registry。

# python - AttributeError：'module'对象在访问命令行参数python时没有属性'arvg'

> ID：13640753
> 
> 赞同：0
> 
> 时间：2012-11-30T07:27:23.837
> 
> 标签：python, attributes, command-line-arguments, runtime-error, argv

我访问命令行参数的代码：

```
length = len(sys.argv)
print length
str = sys.arvg[0]
print str 
```

给出输出：

```
triongle@triongle.com [~/download/DataInsertionScript]# python IngestDataToMongo.py python_sucks
2
Traceback (most recent call last):
File "IngestDataToMongo.py", line 83, in <module>
str = sys.arvg[0]
AttributeError: 'module' object has no attribute 'arvg' 
```

因此，第一次 len(sys.argv) 有效，但奇怪的是，下一次在 sys.argv[0] 上出现错误。那么为什么会这样呢？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-30T09:10:31.140

你写`sys.arvg[0]`的不是`sys.argv[0]`. 还要确保模块，因为默认情况下 argv 属于该命名空间`import`。`sys`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-30T07:29:00.610

你写的`sys.arvg[0]`应该是`sys.argv[0]`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-30T07:29:05.673

你拼错`argv`了`arvg`。

# iphone - 动态裁剪风景图像

> ID：13640754
> 
> 赞同：1
> 
> 时间：2012-11-30T07:27:31.197
> 
> 标签：iphone, ios, image-processing, crop

我想根据红色 View 裁剪 Image 。有几点要记住。

1.图像可以滚动和缩放。2.Red ImageView是根据Image动态创建的

```
 UIImage* whole = [UIImage imageNamed:@"9.png"]; //I uses this image
 CGImageRef cgImg = CGImageCreateWithImageInRect(whole.CGImage, CGRectMake(x, y, incX, incY));
 UIImage* part = [UIImage imageWithCGImage:cgImg]; 
```

我只想知道如何找到

x, y, incX, incY

谢谢...

场景一：正常（不滚动）

![在此处输入图像描述](../Images/2614c3c1a7f0558f21b7e4cda9c74165.png)

预期结果（忽略顶部和底部的黑色边框） ![在此处输入图像描述](../Images/96e4e4005f5e23801eb64a569efd71dd.png)

场景二：滚动

![在此处输入图像描述](../Images/024528e2ca9bc50f6b1997b3466eaac7.png)

预期结果（忽略顶部和底部的黑色边框）

![在此处输入图像描述](../Images/fb9405984edffa78a628280c39e6bf0d.png)

场景 3：放大

![在此处输入图像描述](../Images/0e81c4ab7a18d89941a8a3424bd68fa7.png)

放大后的预期结果相同。

在所有情况下，我都希望红色矩形内的相应图像。

对于所有这些，我正在使用此代码...

```
 -(void)cropClicked:(UIButton*)sender
    {
        float zoomScale = 1.0 / [mainScrollView zoomScale];
        CGRect rect;
        rect.size.width = [redImageView bounds].size.width * zoomScale ;
        rect.size.height = [redImageView bounds].size.height * zoomScale ;
        rect.origin.x = ([mainScrollView bounds].origin.x + redImageView.frame.origin.x );
        rect.origin.y = ([mainScrollView bounds].origin.y + redImageView.frame.origin.y );

        CGImageRef cr = CGImageCreateWithImageInRect([[mainImageView image] CGImage], rect);
        UIImage *cropped = [UIImage imageWithCGImage:cr];
        mainImageView.image=cropped;
        UIImageWriteToSavedPhotosAlbum(cropped, nil, nil, nil);
        CGImageRelease(cr);
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T10:07:40.420

好吧，正如@HDdeveloper 正确所说，您可以使用`CGImageCreateWithImageInRect`. 这需要 2 个参数，第一个是整个图像，第二个是您要裁剪的帧（所以可能是您的红色 imageView 的帧）。
问题是，如果您同时针对视网膜/非视网膜；如果您的整个图像是图像@2x，并且您想使用红色图像视图框架裁剪图像，则必须将框架加倍才能获得正确的屏幕截图。
所以你可以试试这个方法：

```
//Define the screen type:
#define isRetinaDisplay [[UIScreen mainScreen] respondsToSelector:@selector(displayLinkWithTarget:selector:)] && ([UIScreen mainScreen].scale == 2.0)

- (UIImage*)cropInnerImage:(CGRect)rect {
    //Take a screenshot of the whole image
    UIGraphicsBeginImageContextWithOptions(self.view.frame.size, NO, 0.0);
    [self.view.layer renderInContext:UIGraphicsGetCurrentContext()];
    UIImage* ret = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();
    CGRect rct;
    //Double the frame if you're in retina display
    if (isRetinaDisplay) {
        rct=CGRectMake(rect.frame.origin.x*2, rect.frame.origin.y*2, rect.size.width*2, rect.size.height*2);
    } else {
        rct=rect;
    }
    //Crop the image from the screenshot
    CGImageRef imageRef = CGImageCreateWithImageInRect([ret CGImage], rct);
    UIImage *result = [UIImage imageWithCGImage:imageRef];
    CGImageRelease(imageRef);
    //Save and open the result images with Preview.app
    [UIImagePNGRepresentation(result) writeToFile: @"/tmp/testCrop.png" atomically: YES];
    system("open /tmp/testCrop.png");
    [UIImagePNGRepresentation(ret) writeToFile: @"/tmp/testRet.png" atomically: YES];
    system("open /tmp/testRet.png");
    //
    return result;
} 
```

其中`rect`参数必须是您的红色图像帧，并且`self.view.frame`必须等于`wholeImageView.frame`. 您可以跳过最后 4 行，这些只是为了在您的 Mac 中查看您正在裁剪的内容。

PS：我使用这种方法裁剪图像并将其设置为 UIView 的背景，这就是我必须将`frame`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T08:48:04.480

您可以使用 CGImageRef 在整个图像中传递您的矩形。然后在按钮单击时调用它

```
UIImage* whole = [UIImage imageNamed:@"9.png"]; //I uses this image
    CGImageRef cgImg = CGImageCreateWithImageInRect(whole.CGImage, CGRectMake(x, y, incX, incY));
    UIImage* part = [UIImage imageWithCGImage:cgImg]; 
```

# asp.net - 如何在 asp.net 中使用 global.asax 隐藏 aspx 扩展名（URL 重写）

> ID：13640756
> 
> 赞同：0
> 
> 时间：2012-11-30T07:28:27.160
> 
> 标签：asp.net, url-rewriting, global-asax

我正在使用asp.net 3.5中的global.asax进行URL重写，

**网址：http://localhost:65278/URL_EG2/SubFolder/Home.aspx**

我希望它重写为：**http://localhost:65278/Home**

如何实现这一目标？谁能给我简单的EG？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T08:31:24.253

我假设您使用的是 ASP.NET Web 表单。

如果您使用 Routing for Web Forms，那么您不需要在 url 上添加扩展名。您也可以在 Web 表单应用程序中获得与 MVC 应用程序相同的路由优势。

点击此处了解更多关于[ASP.NET Web 窗体路由的信息](http://msdn.microsoft.com/en-us/magazine/dd347546.aspx)

# youtube-api - Youtube IFrame API onError 触发 Vevo 视频的错误代码 150

> ID：13640757
> 
> 赞同：3
> 
> 时间：2012-11-30T07:28:29.223
> 
> 标签：youtube-api

让我解释一下我的情况。我想使用[Youtube IFrame API](https://developers.google.com/youtube/iframe_api_reference)在我的网站上嵌入一些视频。我在此页面上测试了 ID**为 wdGZBRAwW74** ( [https://www.youtube.com/watch?v=wdGZBRAwW74 ) 的视频：](https://www.youtube.com/watch?v=wdGZBRAwW74) [Youtube IFrame Player Demo](https://developers.google.com/youtube/youtube_player_demo)。它工作正常。

我试试这个示例代码：

```
<!DOCTYPE html>
<html>
<body>
<!-- 1\. The <iframe> (and video player) will replace this <div> tag. -->
<div id="player"></div>

<script>
  // 2\. This code loads the IFrame Player API code asynchronously.
  var tag = document.createElement('script');
  tag.src = "//www.youtube.com/iframe_api";
  var firstScriptTag = document.getElementsByTagName('script')[0];
  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

  // 3\. This function creates an <iframe> (and YouTube player)
  //    after the API code downloads.
  var player;
  function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
      height: '390',
      width: '640',
      videoId: 'wdGZBRAwW74',
      events: {
        'onReady': onPlayerReady,
        'onStateChange': onPlayerStateChange,
        'onError': onPlayerError
      }
    });
  }

  // 4\. The API will call this function when the video player is ready.
  function onPlayerReady(event) {
    event.target.playVideo();
  }

  // 5\. The API calls this function when the player's state changes.
  //    The function indicates that when playing a video (state=1),
  //    the player should play for six seconds and then stop.
  var done = false;
  function onPlayerStateChange(event) {
    if (event.data == YT.PlayerState.PLAYING && !done) {
      setTimeout(stopVideo, 6000);
      done = true;
    }
  }

  function onPlayerError(event){
     console.log(event.data);
  }

  function stopVideo() {
    player.stopVideo();
  }
</script>
</body>
</html> 
```

在我的本地主机上有一些虚拟主机域，我得到了结果：

1.  使用域**app.centaur.com** /youtube/index.htm：IFrame API 工作正常，视频播放没有问题。
2.  使用域**app.music.com** /youtube/index.html：IFrame API 工作正常，但视频无法播放，API 触发 onError 并出现错误 150 并且嵌入式播放器显示消息“*此视频包含来自 VEVO 的内容，该视频已被阻止从本网站上的显示。在 Youtube 上观看*“
3.  使用域**app.musiccentaur.com** /youtube/index.htm：就像第一种情况一样，一切正常
4.  使用域**app.centaurmusic.com** /youtube/：就像第一种情况一样，一切正常

据我所知，错误 150 代表“所请求视频的所有者不允许它在嵌入式播放器中播放”。但我看到它在案例 1、3、4 中仍然有效，那是什么意思？

似乎 Vevo 的所有视频都与此问题有关。我不确定 Vevo 是否定义了一些嵌入视频的策略。

也许问题来自我的域**music.com**，但我不确定是否有一些域规则可以在网站上嵌入 Vevo 的视频。

如果我为我的网站购买了一个域名，然后我得到了错误 150，这太糟糕了。:(

以前有人处理过这个吗？请给我一些解决方案。提前致谢。

注意：此错误仅发生在 Vevo 的视频中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T16:25:05.290

允许内容所有者设置允许/拒绝嵌入的域名的白/黑名单。没有办法绕过这些限制。

这篇博文提供了有关一般内容限制的更多信息：http: [//apiblog.youtube.com/2011/12/understanding-playback-restrictions.html](http://apiblog.youtube.com/2011/12/understanding-playback-restrictions.html)

# ios4 - 错误：在 m/Developer/SDKs/iPhoneOS6.0.sdk/usr/lib/crt1.3.1.o 中，文件是通用的，但不包含架构 armv6 的 (n) armv6 切片

> ID：13640758
> 
> 赞同：1
> 
> 时间：2012-11-30T07:28:36.583
> 
> 标签：ios4, xcode4, ios6

我在xcode中遇到了错误。详细错误是

> ld：在 /Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS6.0.sdk/usr/lib/crt1.3.1.o 中，文件是通用的，但不包含架构 armv6 collect2 的 (n) armv6 切片： ld 返回 1 退出状态命令 /Developer/Platforms/iPhoneOS.platform/Developer/usr/bin/llvm-gcc-4.2 失败，退出代码为 1

但是有一种情况我想解释一下。我的 iphone 设备是 3GS，我们错误地将其升级到 6.0。以前是 iOS 4.3。现在我们正在尝试降级，但无法做到。我们有一个需要在此设备上运行的应用程序。所以我下载了最新的xcode 4.5。我在我当前的 sdk 中复制了 iOS 6 sdk。Xocde 版本是 4.0。之后我尝试为设备编译应用程序，但我遇到了错误。我知道问题是由于 iOS sdk 6.0\. 但我没有得到解决方案。任何人都可以帮忙。我用来在当前xcode中复制iOS 6 sdk的这个链接是这个

```
http://iphonedevsdk.com/forum/iphone-sdk-development/100229-snow-leopard-sdk-5-1-a.html 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T10:43:28.120

将 YES 设置为架构->仅在构建设置中构建活动架构解决了我的问题。:) 我希望这不会产生新问题。

# c# - 在 webdev 中使用服务器端 API+AJAX 代替经典方法可以吗？

> ID：13640761
> 
> 赞同：1
> 
> 时间：2012-11-30T07:28:43.090
> 
> 标签：c#, ajax

最近我读了一篇文章，上面写着类似于“停止在 Web 开发中使用经典方法，其中服务器从任何数据存储区获取数据并将视图呈现给浏览器。服务器只能通过 json 或其他方式检索所需的数据端响应，以便客户端可以呈现它如他所愿”。显然这种方法减少了网络流量+页面加载会更快。但另一方面，我们必须编写更多的 JS 代码（如 Knockout）。你怎么看？这种情况下会出现什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-01T10:08:00.347

该建议是有效的，但应该不那么教条。切换到数据获取方法的原因实际上非常简单：如果应用程序的多个部分需要相同的数据，它允许您在其他地方重用调用。但是，根据您的操作方式，由于无法在一次 AJAX 调用中准确获取所需的数据（因此复制/拆分请求），您可能会遇到带宽使用**增加的情况。**

另一个明显的优势是它允许您在完成后非常轻松地推出外部 API。

# c# - 将流转换为文件流

> ID：13640768
> 
> 赞同：8
> 
> 时间：2012-11-30T07:28:55.663
> 
> 标签：c#, casting, stream, filestream

> **可能重复：**
> [在 C# 中将 Stream 转换为 FileStream](https://stackoverflow.com/questions/3769067/convert-a-stream-to-a-filestream-in-c-sharp)

我的问题是关于流到 FileStream 的演员...

基本上我需要这样做来获取文件的名称，因为如果我只有一个对象 Stream 它没有 Name 属性，当 FileStream 有...

那么如何正确地做到这一点，如何将 Stream 对象转换为 FileStream ...？

另一个问题是这个流来自 webResponse.GetResponseStream() ，如果我将它转换为 FileStream 我会把它弄空。基本上我也可以使用流，但我需要获取文件名。

我正在使用 3.5

有任何想法吗？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-11-30T07:32:22.553

使用`as`运算符执行强制转换，如果`Stream`实际不是 a `FileStream`，`null`将返回而不是抛出异常。

```
Stream stream = ...;
FileStream fileStream = stream as FileStream;

if(fileStream != null)
{
    //It was really a file stream, get your information here
}
else
{
    //The stream was not a file stream, do whatever is required in that case
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-30T07:32:33.363

假设流实际上是文件流，以下应该可以解决问题：

```
var name = ((FileStream)stream).Name; 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-30T07:33:37.810

选项 1。如果您确定，该`Stream`对象是`FileStream`：

```
var fileStream = (FileStream)stream; 
```

选项 2。如果您*不确定*，该`Stream`对象是 a `FileStream`，但如果是，它将很有用：

```
var fileStream = stream as FileStream;
if (fileStream != null)
{
    // specific stuff here
} 
```

请注意，转换为更具体的类型通常是仔细查看代码并可能重构代码的信号。

# ruby-on-rails - Rails DB 迁移错误：关系已存在

> ID：13640779
> 
> 赞同：7
> 
> 时间：2012-11-30T07:29:33.060
> 
> 标签：ruby-on-rails, ruby-on-rails-3, rake, dbmigrate

尝试迁移数据库时出现错误。我不完全记得我是如何来到这里的，但我相信我：

1.  创建新分支，搭建“请求”，db:migrated，切换回主分支，合并分支
2.  创建了另一个分支，做了一些事情，db:migrated，一切正常。
3.  从heroku postgres数据库中提取，所以我可以测试事情是否适用于实际数据。然后尝试数据库迁移，但给了我这个错误：

    ```
    rake db:migrate
    ==  CreateRequests: migrating =================================================
    -- create_table(:requests)
    NOTICE:  CREATE TABLE will create implicit sequence "requests_id_seq1" for serial column "requests.id"
    rake aborted!
    An error has occurred, this and all later migrations canceled:

    PG::Error: ERROR:  relation "requests" already exists
    : CREATE TABLE "requests" ("id" serial primary key, "title" character varying(255), "content" text, "category" character varying(255), "status" character varying(255), "requested_track_id" integer, "created_at" timestamp, "updated_at" timestamp) 
    ```

有任何想法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-07-25T19:41:19.930

我不确定您使用的拉动策略到底是什么，但如果我们对您的拉动策略做出两个合理的假设：

1.  它不会删除数据库，而只是覆盖表，因为这需要较少的权限。
2.  它以某种“归档模式”运行，这意味着它不会仅仅因为源上不存在表而将表放在目标上。想想rsync；您必须指定`--delete`使用该实用程序获得您预期的行为。

如果你的步骤是正确的，那么发生的事情是你覆盖了`schema_migrations`表格，所以 Rails 认为你还没有添加表格，但是你的 heroku 也没有因为上面的#2 而删除表格。

**不要创建另一个迁移！！！**这将在除您之外的其他所有人的计算机上失败，但只会在您的计算机上运行一次。

相反，运行`rails dbconsole`并执行类似的东西`DROP TABLE 'requests'`（我忘记了 postgres 语法，可能不完全一样）。然后你可以运行你的迁移。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-08-05T00:26:21.680

还有另一种方法可以避免删除包含数据的表。

在这些情况下，我要做的是检查哪个迁移失败。

假设您有一个文件`db/migrate/20130908214222_create_requests.rb`，并且由于某种原因，ActiveRecord 在过去将此迁移存储在其“跟踪系统”中时失败了。

为确保确实如此，只需在`schema_migrations`表中找到包含数字的行，如下例所示：`20130908214222`

如果该行不存在，您只需插入一个新行：

```
INSERT INTO schema_migrations(
    version
) VALUES (
    20130908214222
); 
```

下次你运行时`rake db:migrate`，ActiveRecord 会省略这一步，并且会继续迁移到结束而不会出现复杂情况。

# php - 每次在同一页面上提交表单时逐行移动表格

> ID：13640788
> 
> 赞同：0
> 
> 时间：2012-11-30T07:30:04.977
> 
> 标签：php

我有一张表格，上面有一排国家、名字等

我还有一个表格，每行都有处理

我需要在同一页面上提交表格

如何到达同一页面上同一张表的下一行

我是使用 while 还是 foreach，我在哪里放置结束语`}`还是有其他方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T08:50:37.077

Ok i made a start for you. I think you want to list all the rows from the db into an HTML table with an form at the bottom to add a new row to the db, right?

If so, then you can do it with this single PHP page code. Please note that i'm not considering any security for safe queries! You can find more about that on the Internet.

```
<?php
    $DB_NAME = 'DATABASE_NAME';
    $DB_HOST = 'DATABASE_HOST';
    $DB_USER = 'DATABASE_USER';
    $DB_PASS = 'DATABASE_PASSWORD';

    // CONNECT TO THE DATABASE
    $mysqli = new mysqli($DB_HOST, $DB_USER, $DB_PASS, $DB_NAME);

    if (mysqli_connect_errno()) {
        printf("Connect failed: %s\n", mysqli_connect_error());
        exit();
    }

    //form submit?
    if(isset($_POST['save'])) {
        //INSERT QUERY
        $q = "INSERT INTO `your_table`(`field1`, `field2`, `field3`) VALUES ('" . $_POST['field1'] . "', '" . $_POST['field2'] . "', '" . $_POST['field3'] . "')";
        $mysqli->query($q) or die($mysqli->error.__LINE__);
    }

    //get all items from db (also the new row)
    $query = "SELECT * FROM `your_table`";
    $result = $mysqli->query($query) or die($mysqli->error.__LINE__);

    //build first part of table
    echo '<table>
            <thead>
                <th>
                    <td>Your field1</td>
                    <td>Your field2</td>
                    <td>Your field3</td>
                </th>
            </thead>
            <tbody>';

    //create rows
    if($result->num_rows > 0) {
        while($row = $result->fetch_assoc()) {
            echo '<tr>
                    <td>' . $row['field1'] . '</td>
                    <td>' . $row['field2'] . '</td>
                    <td>' . $row['field3'] . '</td>
                 </tr>';    
        }
    } else {
        echo '<tr><td colspan=3>NO RESULTS</td></tr>';  
    }

    //close table
    echo '      </tbody>
          </table>';

    // CLOSE CONNECTION
    mysqli_close($mysqli);
?>

<!-- the form -->
<form action="#" method="POST">
    <input type="text" name="field1" />
    <input type="text" name="field2" />
    <input type="text" name="field3" />

    <input type="submit" name="save" value="save" />
</form> 
```

Hopes this helps!

# android - Android相机意图EXTRA_OUTPUT被忽略？

> ID：13640789
> 
> 赞同：2
> 
> 时间：2012-11-30T07:30:10.503
> 
> 标签：android, android-camera

我一直在使用相机意图和 EXTRA_OUTPUT 来指定将文件保存到的位置，并且从几周前开始，它开始被忽略！这个应用程序在几周前就可以运行，并且在那段时间没有发生任何操作系统升级。

在花了 13 个小时试图弄清楚这个相机 API 发生了什么之后......

我可能已经弄清楚了问题的根源：

如果手机上安装了任何与相机 API 交互或拦截的应用程序，则某些 API 可能会损坏！

经过 13 小时的马拉松式调试、尝试了所有可能的 API 组合并遵循 stackoverflow 上的所有建议后，我发现了这一点。

拿着电话我的手已经累了，所以我用衣架做了一个电话架，把电话固定在我的桌子上，相机对准一罐花生酱。

幸运的是，当我正在调试我的花生酱照片时，Google Goggles 应用程序弹出了一条通知，说它“识别”了我图像中的某些东西！

这促使我立即卸载谷歌护目镜，突然之间，图像开始像以前一样保存到我的自定义 Uri 中！！！

这是在三星平流层上。

我以问题的形式发布此问题，希望对其他人有所帮助！

ps - 我要感谢 google goggles 和 trader joes crunchy 花生酱，因为它们交织在一起足以让我知道谁在搞砸我的 API。

# facebook - 如何让二维码自动点赞 Facebook 页面？

> ID：13640790
> 
> 赞同：1
> 
> 时间：2012-11-30T07:30:10.577
> 
> 标签：facebook, facebook-like, qr-code

我如何制作一个 QR 码，当它被扫描时 - 自动喜欢一个页面，如果它还没有被喜欢，无论是在浏览器还是 Facebook 应用程序中？我现在不是在谈论法律问题，只是从技术上讲，这怎么可能？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T08:00:34.380

没有可用的 API 来执行此操作。你能做的最好的就是让它打开页面。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-08-20T23:47:06.313

转到[Facebook 页面以创建一个 Like Us 按钮](https://developers.facebook.com/docs/reference/plugins/like/)。创建一个按钮。单击按钮。复制按钮将您带到的 Like Us URL。

打开 bitly.com 或其他创建短 URL 的站点。粘贴喜欢我们的 URL。复制位生成的缩短 URL。

使用[在线 QR 码生成器](https://www.scan.me/qr-code-generator/)创建图像。

粘贴您从 bitly 获得的缩短 URL 以生成 QR 图像。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T08:01:48.943

首先，你应该找到一个像我给出的二维码生成器站点（或者你可以用java编写）之后去

1：[一个免费的二维码生成网站](http://qrcode.kaywa.com/) 然后

2：[https](https://developers.facebook.com/docs/reference/plugins/like/) ://developers.facebook.com/docs/reference/plugins/like/并生成一个赞按钮。（首先是在点击**Get Code**之后。在打开的窗口中点击 URL 并将其复制到 QR 码站点的 url 区域，而不是为 Facebook 之类的创建您的 QR 码。

**注意：在 Facebook 页面上生成一个喜欢按钮时，发送按钮选项处于非活动状态。这对于生成 URL 很重要**

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-07-11T10:09:04.347

[我喜欢http://www.softwaresupply.de/services/qr-code-generator](http://www.softwaresupply.de/services/qr-code-generator)上具有不同社交和链接类型的生成器。没关系，因为您有很多选择，即使尺寸非常小。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-08-08T12:24:39.670

我用于此任务的免费二维码生成器是： [http ://scan.me/qr-code-generator](http://scan.me/qr-code-generator)

它实际上会在他们手机的浏览器中打开一个按钮，让他们点击喜欢。在 Android 上，您必须选择在浏览器中打开，所以它并不完美。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-11-19T12:39:44.517

它实际上会在他们的手机浏览器中打开一个按钮，以使他们能够点击“喜欢”。在 Android 上，您必须选择在浏览器中打开，所以它并不完美。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-04-17T12:38:33.790

如果您有第 3 方服务器来为您托管页面，那么您可以将 QR 码指向该页面并在加载时将重定向或 ajax 嵌入到 javascript

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2017-10-07T11:24:45.753

你应该去[这里输入链接描述](https://app.qr-code-generator.com) 这是一个在线APP，可以让你随心所欲地创建一个带有自动“iLike”的二维码。

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2019-01-28T04:47:18.200

是的。如果您想生成 Facebook 页面 QR 码，那么您可以按照如何为 Facebook 业务页面生成/创建 QR 码 - Ganvwale ( [https://ganvwale.com/how-to-create-qr-code- ) 中提到的这些步骤进行操作for-facebook-business-page/](https://ganvwale.com/how-to-create-qr-code-for-facebook-business-page/) ) 这里提供了为 Facebook 商业/品牌页面创建二维码的分步指南。

# python - 没有 numpy 的零和一的矩阵

> ID：13640793
> 
> 赞同：1
> 
> 时间：2012-11-30T07:30:18.420
> 
> 标签：python, matrix

**如何在没有 numpy**的情况下以我指定的大小创建一个由单个零和一个组成的矩阵？我试着查了一下，但我只找到了使用它的结果。我猜它会使用循环？除非有更简单的方法？

例如，我指定的大小可以是 3，而网格是 3x3。

```
 Col 0    Col 1    Col 2
Row 0   0        1        0
Row 1   0        0        1
Row 2   1        1        1 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T07:33:57.487

您可以使用列表理解：

```
def m(s):
  return [s*[0] for _ in xrange(s)] 
```

# php - 如何通过单个 foreach 循环操作两个数组？

> ID：13640796
> 
> 赞同：0
> 
> 时间：2012-11-30T07:30:41.090
> 
> 标签：php, arrays

我有两个数组。这些数组的值通过表单发布。我想要的是将这些数组的值插入到数据库中。这是我的代码。

```
if($_SERVER['REQUEST_METHOD']=='POST') {
    $subject=$_POST['subject'];
    $total=$_POST['total'];
    $attendee_array = $_POST['att'];
    $cnic_array=$_POST['cnic'];

    foreach(($attendee_array as $attendee) and ($cnic_array as $cnic)) {
        $query1=mysql_query("INSERT INTO course VALUES('','$subject','$total','$attendee','$cnic')") or die(mysql_error());
    }
} 
```

它不工作。我怎样才能完成这项任务？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T07:32:26.783

使用第一个数组的键访问第二个数组中的项目。如果您尝试使用 cnic 0 插入参加者 0、使用 cnic 1 插入参加者 1 等，则此方法有效。

```
foreach(($attendee_array as $key => $attendee)) {

    $cnic = mysql_real_escape_string($cnic_array[$key]);
    $attendee = mysql_real_escape_string($attendee);
    // do same as above for all user input ^^^

    $query1=mysql_query("INSERT INTO course VALUES('','$subject','$total','$attendee','$cnic')") or die(mysql_error());

} 
```

我为 SQL 注入添加了转义，但您应该研究一个带有参数化查询的现代 API，例如 PDO 或 MySQLi。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:46:52.623

```
$mi = new MultipleIterator();
$mi->attachIterator(new ArrayIterator($attendee_array));
$mi->attachIterator(new ArrayIterator($cnic_array));

foreach ( $mi as $value ) {
    list($attendee,$cnic) = $value;
    ....etc
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T07:57:06.463

如果您不关心原始数组键，则可以使用`array_combine`使一个数组成为键，另一个成为值，然后在 foreach 循环中同时调用键和值：

```
$name = array('Chris','Steve','Dave');
$city = array('New York','San Diego','Dallas');

foreach(array_combine($name, $city) as $k => $v){
    echo $k.' lives in '.$v.'<br/>';    
}

Chris lives in New York
Steve lives in San Diego
Dave lives in Dallas 
```

所以在你的例子中它看起来像这样：

```
foreach(array_combine($attendee_array,$cnic_array) as $attendee => $cnic) {
    $query1=mysql_query("INSERT INTO course VALUES('','$subject','$total','$attendee','$cnic')") or die(mysql_error());
} 
```

# python - 将并发查询均匀分布到 App Engine 数据存储区

> ID：13640797
> 
> 赞同：2
> 
> 时间：2012-11-30T07:31:05.747
> 
> 标签：python, sql, google-app-engine

当从 Google AppEngine 的数据存储中检索行时，我们希望实现对实体类型的所有数据的检索，并具有多个同时处理的过程。这些进程在后端 Python 服务器中异步运行。关键是让每个进程检索整个数据集的“块”，这样我们就可以几乎均匀地将负载分布在所有进程中，如下所示：

```
 |_____|_____|_____|_____|_____|_____|_____|.....|_____|_____|
       p1   p2    p3     p4    p5    p6    p7         pk-1   pk 
```

其中每个`pn`都是一个进程，并且所有实体都被检索。

我认为实现这一点的方法是以某种方式说这样的话（在 Python 中）：

```
chunk_size = num_entities / num_chunks
base_query = 'select * from entity offset %d limit %d'

for chunk in range(0, to = num_entities, step_by = chunk_size):

    cursor = get_cursor(base_query, offset = chunk, limit = chunk_size)

    while is_ready(cursor):
        do_task_with_data(cursor.next()) 
```

哪里`get_cursor`会从 AppEngine 获得一个光标，该光标从给定偏移量开始的结果滚动。我只在`limit`此处包含参数以防万一，但它也可以在`while`循环内强制执行，例如。在任何情况下，我们都希望得到这样一种情况，即查询不是 O(n) 的限制和偏移量（即最后一个查询必须在获取数据之前滚动浏览几乎所有数据）。

另一种选择可能是基于一些随机值（我们确实有）分布实体，使用 0 -> 1 的范围划分为 chunk_num 块。

甚至有可能以某种方式从 App Engine 中获取数据转储，然后对其进行处理（尽管由于大小，它不是我们的首选）。

什么是实现这一目标的好方法？有没有更好的方法来解决这个问题？对此的任何想法将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T07:44:43.207

我认为您几乎在描述[mapreduce 框架](https://developers.google.com/appengine/docs/python/dataprocessing/overview)的作用。

# ruby - 查找月份的开始和结束日期

> ID：13640798
> 
> 赞同：0
> 
> 时间：2012-11-30T07:31:08.953
> 
> 标签：ruby, sinatra, datamapper

我找到了用于查找我所在月份的开始和结束日期的[代码示例](https://stackoverflow.com/questions/9862123/how-to-find-records-by-month-datamapper)。我试图启动这段代码，但很难弄清楚我出了什么问题。

```
month = params[:month].to_i
date_start = DateTime.new Date.today.year, params[:month], 1
date_end = (date_start >> 1) + 1  # will add a month and a day
@trips = Trip.all :date => date_start..date_end 
```

我不是 100% 确定要喂什么`params`。希望有人可以提供帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:39:39.463

我不确定我是否正确理解了您的问题，也许您需要的是这个？：

```
month = 9
date_start = Date.new(Time.now.year, month, 1)
date_end = date_start.next_month - 1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-13T10:36:12.917

参数应包含月份（数字），即介于 1 - 12 之间

例如 params = {:month => '4'}

也在二线使用`month`，而不是`params[:month]`

# c# - 检查在上下文菜单条中单击了哪个子菜单项

> ID：13640800
> 
> 赞同：4
> 
> 时间：2012-11-30T07:31:15.020
> 
> 标签：c#, .net, contextmenu

网格控件中有一个 ContextMenuStrip。

我将其命名为 GridContextMenu。

GridContextMenu 使用以下代码填充了 4 - 5 个项目：

```
 gridcontextMenu.Items.Add(new ToolStripMenuItem
                        {
                            Name = Plants,
                            Text = Plants,
                            Tag = Plants,
                            Width = 100,
                            Image = <image source is put here>
                        });

gridcontextMenu.Items.Add(new ToolStripMenuItem
                        {
                            Name = Animals,
                            Text = Animals,
                            Tag = Animals,
                            Width = 100,
                            Image = <image source is put here>
                        }); 
```

对于工具条中的动物菜单，我通过以下方式添加了子菜单

```
(gridcontextMenu.Items[1] as ToolStripMenuItem).DropDownItems.Add("Tiger", image_source, new EventHandler(SubmenuItem_Click));
(gridcontextMenu.Items[1] as ToolStripMenuItem).DropDownItems.Add("Lion", image_source, new EventHandler(SubmenuItem_Click));
(gridcontextMenu.Items[1] as ToolStripMenuItem).DropDownItems.Add("Elephant", image_source, new EventHandler(SubmenuItem_Click)); 
```

在 SubmenuItem_Click 事件处理程序中，我需要知道单击了哪个动物子菜单。

如何做到这一点？

目前我有以下方式的事件处理程序代码：

```
private void SubmenuItem_Click(object sender, EventArgs e)
{
} 
```

在这种情况下如何检查选择了哪个动物子菜单的情况？请分享答案。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-11-30T07:44:53.257

你可以这样做：

```
private void SubmenuItem_Click(object sender, EventArgs e)
{
    var clickedMenuItem = sender as MenuItem; 
    var menuText = clickedMenuItem.Text;

    switch(menuText) {
        case "Tiger":
           break;

        case "Lion":
          break;
         . ...
    }
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-11-30T08:18:48.823

`Tag`当您应该本地化您的应用程序时，您可以将其用于此目的。此外`Tag`，它是一个对象，因此您可以将任何数据磁带放在那里。例如`Enum`类型。

```
private void SubmenuItem_Click(object sender, EventArgs e)
{
    var clickedMenuItem = sender as MenuItem; 
    EnumType item = (EnumType)clickedMenuItem.Tag;

    switch(item) {
        case TigeItem:
           break;
        case LionItem:
          break;
         ...
    }
} 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2018-06-26T13:59:20.723

当我发现其他答案在这里都不起作用时，我去挖掘并找到了正确的解决方案。这可能仅适用于 .NET Framework 4+，但我发现这是可行的。

本质上，控件中的`ItemClicked`事件在引发事件时`ContextMenuStrip`将自身作为发送者和`ToolStripItemClickedEventArgs`对象传递。由于您无法从 ContextMenuStrip 本身获取单击的项目，因此获取此信息的唯一方法是询问`ToolStripItemClickedEventArgs`对象并且单击的项目作为`ToolStripItem`对象驻留在其中。然后可以使用它来提取选项的名称，以便在适当的 if/switch 语句中使用。见下文：

要配置事件处理程序：

```
...
contextMenuStrip1.ItemClicked += OnContextMenuItem_Clicked;
... 
```

要处理事件并检索单击项目的文本：

```
private void OnContextMenuItem_Clicked(object sender, ToolStripMenuItemClickedEventArgs e)
{
    ToolStripItem clickedItem = e.ClickedItem;
    string itemName = clickedItem.Text;
    ...
} 
```

希望这有助于将来寻找这个答案的人:)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-09-25T20:32:31.713

如果您已动态创建 ContextMenuStrip，这是一种检索 ToolStripMenuItem 索引的方法。获取枚举值真的很有帮助。我的上下文菜单是动态创建的并用枚举名称填充。我希望它可以帮助某人。抱歉，格式仍然是新发布的。

```
 `private void DynamiallyCreatedContextMenu_Click(object sender, EventArgs e)
    {
        ToolStripMenuItem item = sender as ToolStripMenuItem;

        var parent = (item.Owner as ContextMenuStrip);

        for (int i = 0; i < parent.Items.Count; i++)
        {
            if (item == parent.Items[i])
            {
                index = i;
                break;
            }
        }
    }` 
```

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2017-05-23T07:47:42.133

```
private void SubmenuItem_Click(object sender, EventArgs e)
{        
    string clickedItemName=e.ClickedItem.Text;
} 
```

# r - 用部分未知的文件名将文件读入 R

> ID：13640807
> 
> 赞同：5
> 
> 时间：2012-11-30T07:31:30.513
> 
> 标签：r

有没有办法在我不知道完整文件名的情况下将文件读入 R。就像是。

```
read.csv("abc_*") 
```

在这种情况下，我不知道完整的文件名之后`abc_`

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-11-30T07:39:44.873

如果您只有一个文件符合您的条件，您可以这样做：

```
read.csv(dir(pattern='^abc_')[1]) 
```

如果有多个文件，这种方法只会使用第一个命中。在更详细的版本中，您可以遍历所有匹配项并将它们附加到一个数据帧或类似的东西。

请注意，该模式使用正则表达式，因此与您的预期有些不同（以及我在第一次回答问题时错误地假设的情况）。详细信息可以使用`?regex`

* * *

如果您有要提交的目录，则必须相应地修改`dir`命令：

```
read.csv(dir('path/to/your/file', full.names=T, pattern="^abc")) 
```

在您的情况下，提交的路径可能是`c:\\users\\user\\desktop`，然后是上述模式。`full.names=T`强制`dir()`输出整个路径而不仅仅是文件名。尝试在`dir(...)`没有 的情况下运行`read.csv`以了解那里发生了什么。

* * *

如果你想把你的路径作为一个完整的字符串，它又会变得有点复杂：

```
filepath <- 'path/to/your/file/abc_'
read.csv(dir(dirname(filepath), full.names=T, pattern=paste("^", basename(filepath), sep=''))) 
```

如果您的文件名包含任何正则表达式关键字，该过程将失败。您必须先用相应的转义序列替换它们。但这又是另一个话题了。

# python - Python：在另一个盒子上运行一个 py 程序

> ID：13640812
> 
> 赞同：0
> 
> 时间：2012-11-30T07:31:57.813
> 
> 标签：python

我有一个 Python 脚本，它可以扫描我的日志并报告其所有发现。我的盒子（比如盒子 A）中的脚本是否可以在不复制的情况下为另一个盒子（比如 B）执行。

我真的需要将我的 Python 脚本复制到 Box B，然后从 Box A 执行它还是有一种方法可以让 Box AI 连接到 Box B相同的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T07:43:40.793

如果您在框 B 上的日志可以通过网络访问（例如，通过网络共享或 FTP），那么您可以修改框 A 上的脚本以检索和处理它们。如果它们无法通过网络访问，那么您需要将脚本从框 A 复制到框 B，或者将日志从框 B 复制到框 A。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:52:50.467

在 Box A 中运行时，您可以尝试使用[Fabric](http://fabfile.org)从 Box B 获取各种详细信息。

# joomla - 我有图像问题 Joomla Multi-Language 网站

> ID：13640814
> 
> 赞同：0
> 
> 时间：2012-11-30T07:32:10.950
> 
> 标签：joomla, web

当我尝试通过闪存加载图像时会出现此问题。

例如，当我尝试在 images/001.jpg 中加载图像时，Joomla 会将其重写为 en/images/001.jpg。所以路径被改变并且闪存无法加载文件。有任何解决这个问题的方法吗 ？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T07:35:46.360

在您想要的 URL 的 htaccess 文件中设置图像加载路径。

# algorithm - 在给定范围内找到最可压缩的向量？

> ID：13640821
> 
> 赞同：3
> 
> 时间：2012-11-30T07:32:32.063
> 
> 标签：algorithm, math, compression

我已将正在处理的压缩问题减少到以下问题：

输入两个 n 长度的浮点值向量：

```
float64 L1, L2, ..., Ln;
float64 U1, U2, ..., Un; 
```

这样对于所有我

```
0.0 <= Li <= Ui <= 1.0 
```

（顺便说一下，n 很大：~10^9）

该算法将 L 和 U 作为输入，并使用它们生成程序。

执行时，生成的程序会输出一个 n 长度的向量 X：

```
float64 X1, X2, ..., Xn; 
```

这样对于所有我：

```
L1 <= Xi <= Ui 
```

生成的程序可以输出*任何*符合这些界限的 X。

例如，生成的程序可以简单地将 L 存储为数组并输出它。（请注意，这将需要 64n 位的空间来存储 L，然后再为程序输出一点额外的空间）

目标是生成的程序（包括数据）尽可能小，给定 L 和 U。

例如，假设 L 的每个元素都小于 0.3，而 U 的每个元素都大于 0.4，而生成的程序可能只是：

```
for i in 1 to n
    output 0.35 
```

这将是微小的。

任何人都可以提出一种策略、算法或架构来解决这个问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T08:27:59.630

如果边界允许非常好的压缩，这个简单的启发式非常快并且应该提供非常好的压缩：

在所有候选值上准备一个任意（虚拟）二叉搜索树。`float64`s 与 s 共享排序顺序`signed int64`，因此您可以任意选择（更接近根）具有更多尾随零的值。

*   对于每一对边界
    *   从根开始。
    *   虽然当前节点大于两个边界或小于两个边界，
        *   从树上下来。
    *   将当前节点附加到向量中。

对于上面提到的树，这意味着

*   **对于每一对边界**

    *   **在指定范围内找到具有尽可能少的有效位的（唯一）数字**。也就是说，找到两个界限不同的第一位；将其设置为，`1`并将所有后续位设置为`0`；如果设置的位`1`是符号位，请将其设置为`0`。

然后你可以将它提供给一个`deflate`ing 库进行压缩（并构建一个自解压存档）。

* * *

如果您分析数据并构建不同的二叉搜索树，则可能会实现更好的压缩。由于数据集非常大并且以数据流的形式到达，因此可能不可行，但这是一种启发式方法：

*   而输出没有完全定义
    *   找到适合最不确定范围内的任何值：
        *   将所有边界排序在一起：
            *   具有较低值的边界在具有较高值的​​边界之前排序。
            *   下界在具有相同值的上界之前排序。
            *   不可区分的界限被组合在一起。
        *   计算开区间的运行总数。
        *   选择最大的总数。上限或下限都可以。您甚至可以尝试通过用最少的有效位分割间隔来做出“明智的选择”。
    *   将此值设置为可以使用它的所有位置的输出。

除了重新计算排序顺序，您可以缓存排序顺序并仅从中删除，甚至还缓存运行总计（或从重新计算运行总计切换到在运行时缓存运行总计）。这不会改变结果，只会提高运行时间。

# c++ - Qt with OpenCV - 下载哪一个

> ID：13640826
> 
> 赞同：0
> 
> 时间：2012-11-30T07:32:48.000
> 
> 标签：c++, qt, opencv, open-source, libraries

这一定是一个很常见的问题，但我需要下载 Qt，因为我要学习 C++ 中的 OpenCV。当我去Qt-project时，有很多链接，甚至同一个windows平台的链接也很多！目前我正在使用 MS Visual Studio Express 2010 使用 C++ 进行编码（是的，我使用的是 Windows 7 Ultimate）。我也是 C++ 新手。

为了在 Qt 中做 OpenCV，我应该下载什么？我的书也在使用 Qt IDE。请问可以提供直接链接吗？请帮忙！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:50:13.220

使用 QT 时，有一个名为 QT Creator 的 IDE。这提供了创建各种类型项目的选项，例如纯 C 和纯 c++ 项目等等。因此，您可能不需要任何其他 c++ IDE 作为 MSVS 表达。下载[QT SDK](http://qt-project.org/downloads)以将所有库和 IDE 放在一起。

例如，对于 Windows，下载名为“Qt libraries 5.0 Beta 2 for Windows (501MB)”的 exe

如果您打算将 OpenCV 与 QT 一起使用，我推荐[OpenCV 教程 4：](http://www.youtube.com/watch?v=0ONxIy8itRA) YouTube 上的 OpenCV 和 Qt。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-05T19:09:14.287

您可以通过多种方式下载qt。

1.作为完整的SDK。（你必须购买这个）

2.获取qt库

3.下载源代码并构建它。（有点难，需要一点时间）

我相信你会选择第二个选项。所以你可以下载`Qt libraries 4.8.4 for Windows (minGW 4.4, 317 MB)`或`Qt libraries 4.8.4 for Windows (VS 2010, 234 MB)`。第一个用于 mingw 编译器，另一个用于 vc 2010 编译器。你可以下载这个，因为你已经安装了 vc 编译器。请注意，使用 vc++ 构建的应用程序不是跨平台的。如果您需要您的应用程序是跨平台的，请使用 mingw 编译器。（预建的 mingw 库仅与 mingw 4.4 版本兼容。如果您要下载此文件，请先在您的计算机上安装 mingw 4.4）

然后下载并安装`Qt Creator 2.6.0 for Windows (51 MB)`。这是一个很酷的 IDE，用于使用 qt、c++。

# java - 无法从结果集中的数据库中获取所有数据

> ID：13640832
> 
> 赞同：1
> 
> 时间：2012-11-30T07:33:06.073
> 
> 标签：java, jsp, playframework, playframework-1.x

我正在从数据库中获取所有数据并将结果集存储到列表中。但无法获取所有数据。我想将数据存储在下拉列表中。我的代码如下。

```
public static void updateChallan(){
    ChallanNumber pd=null;
    int i=0;
    String customerName="";
    List<ChallanNumber> challanList= new ArrayList<ChallanNumber>();
    Connection con = DB.getConnection();
    try
    {
    String st="select CHALLAN_NUMBER,CUSTOMER_CODE,CHALLAN_DATE from DELIVERY_CHALLAN_DETAILS order by CHALLAN_NUMBER";
    Statement stmt=con.createStatement();
    ResultSet rs=stmt.executeQuery(st);
    while(rs.next())
    {
        String stCustName="select CUSTOMER_NAME from CUSTOMER_DETAILS where CUSTOMER_CODE='"+rs.getString(2)+"'";
        Statement stmtCustName=con.createStatement();
        ResultSet rsCustName=stmtCustName.executeQuery(stCustName);
        while(rsCustName.next()){
            customerName=rsCustName.getString(1);
        }

        customerName=rsCustName.getString(1);
        //System.out.println(customerName +" "+i);
        pd=new ChallanNumber(rs.getString(1),customerName,rs.getString(3));
        challanList.add(i,pd);
        i++;
    }
    }
    catch(Exception e)
    {
        //e.printStackTrace();
    }
    render(challanList);
} 
```

Dropdownlish 代码在下面。

```
<select name="challanNumber" id="challanNumber">
              <option value="selected" selected="selected">ChallanNumber-CustomerCode-    Date</option>

              #{list challanList, as:'cl'}

              <option value="${cl.challanNumber}">${cl.challanNumber}(${cl.customercode}-${cl.challanDate})</option>

                #{/list}

            </select> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:48:41.180

问题是当您遇到异常时您**没有关闭**`Connection`and 。`ResultSet`所以数据库**已经用尽了所有打开的游标**。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:52:04.400

您需要关闭您打开的所有内容，这意味着语句、结果集。你这样做是`finally`为了`try/catch`确保事情正确关闭。

当您关闭语句时，链接到该语句的结果集也将关闭。

```
public static void updateChallan() throws Exception {
    ChallanNumber pd = null;
    int i=0;
    String customerName = "";
    List<ChallanNumber> challanList= new ArrayList<ChallanNumber>();
    Connection con = DB.getConnection();
    Statement stmt = null;
    try {
        String st = "select CHALLAN_NUMBER,CUSTOMER_CODE,CHALLAN_DATE from DELIVERY_CHALLAN_DETAILS order by CHALLAN_NUMBER";
        stmt = con.createStatement();
        ResultSet rs = stmt.executeQuery(st);
        while (rs.next()) {
            String stCustName = "select CUSTOMER_NAME from CUSTOMER_DETAILS where CUSTOMER_CODE='" + rs.getString(2) + "'";
            Statement stmtCustName = con.createStatement();
            try {
                ResultSet rsCustName = stmtCustName.executeQuery(stCustName);
                while (rsCustName.next()){
                    customerName = rsCustName.getString(1);
                }
            } finally {
                if (stmtCustName != null) 
                    stmtCustName.close();
            }

            customerName = rsCustName.getString(1);
            //System.out.println(customerName +" "+i);
            pd = new ChallanNumber(rs.getString(1), customerName, rs.getString(3));
            challanList.add(i, pd);
            i++;
        }
    } catch(Exception e) {
        e.printStackTrace();
    } finally {
        if (stmt != null) 
            stmt.close();
    }
    render(challanList);
} 
```

此外，您应该阅读 PlayFramework 的文档（[此处为 Play2](http://www.playframework.org/documentation/2.0.4/JavaEbean)）有数据库的东西，以避免直接使用`ResultSet`s 和`Statement`s，处理更高的结构，如域对象，框架将为您完成其余的工作。

# java - 为什么Java中允许不同类型的对象引用？

> ID：13640833
> 
> 赞同：4
> 
> 时间：2012-11-30T07:33:09.070
> 
> 标签：java, oop, polymorphism

我想知道为什么允许有不同类型的对象引用？例如;

```
Animal cow = new Cow(); 
```

您能否举一个使用不同类型的对象引用有用的示例？

**编辑：**`Cow extends Animal`

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-11-30T07:35:30.320

这是多态性和抽象的核心。例如，这意味着我可以写：

```
public void handleData(InputStream input) {
    ...
} 
```

...并处理*任何*类型的输入流，无论是来自文件、网络、内存等。或者同样，如果你有 a `List<String>`，你可以请求它的元素 0 而不管实现等。

将子类的实例视为超类的实例的能力称为[Liskov 的替换原则](http://en.wikipedia.org/wiki/Liskov_substitution_principle)。它允许松散耦合和代码重用。

另请阅读[Java 教程的多态部分以](http://docs.oracle.com/javase/tutorial/java/IandI/polymorphism.html)获取更多信息。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-11-30T07:57:58.367

这基本上是一个标准化的概念。

我们知道每一种动物都有一些共同的特征。让我们举个吃饭和睡觉的例子，但是每个动物可以有不同的吃饭或睡觉的方式......然后我们可以定义

```
public abstract class Animal
    {
         public abstract void Eat();
         public abstract void Sleep();

    }
    //Now Define them in various classes..

     public class Cow extends Animal
    {
         pubic void Eat()
         {
            //process of eating grass
         }

         public void Sleep()
         {
            //process of sleeping
         }
    }

   public class Lion extends Animal
   {
         public void Eat()
         {
            //process of eating flesh
         }

         public void Sleep()
         {
            //process of sleep
         }
   } 
```

现在您不必为不同的类定义不同的对象......只需使用 Animal 并通常调用

```
public class MyClass
  {
      public static void main(String[] args)
      {
           Animal _animal = new //think the type of animal is coming dynamically 
          //you can simply call 
          _animal.Eat();
          _animal.Sleep();
          // irrespective of checking that what can be the animal type, it also reduces many if else
       }
  } 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-30T07:43:47.543

这称为多态性，它是 Java 最强大的方面之一。

多态性允许您以相同的方式对待不同的对象。

这是创建可重用、灵活代码的好方法。

不幸的是，新程序员通常需要一段时间才能理解它是 Java 的一部分。

您提供的示例涉及继承（扩展类）。

享受多态性好处的另一种方法是使用接口。

实现相同接口的不同类可以被视为相同：

```
class Dog extends Animal implements Talker {
    public void speak() {
        System.out.println("Woof woof");
    }
}

class Programmer implements Talker {
    public void speak() {
        System.out.println("Polymorphism rocks!");
    }
}

interface Talker {
    public void speak();
}

public static void testIt() {
    List<Talker> talkerList = new ArrayList<Talker>();
    talkerList.add(new Dog());
    talkerList.add(new Programmer());
    for (Talker t : talkerList) {
        t.speak();
    }
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-30T07:44:36.427

简而言之，这可以实现多态性。例如，您可以拥有多个从 Animal 派生的对象，并且所有对象的句柄都相似。

你可以有类似的东西：

```
Animal[] myAnimal = {new Cow(), new Dog(), new Cat()};

foreach (Animal animal in myAnimal)
   animal.Feed(); 
```

然后必须在每个子类中覆盖 Feed() 方法。

顺便说一句，代码类似于 C#，但 Java 中的概念是相同的。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-11-30T07:40:20.210

简单地说`Cows`都是`Animals`。所以 JAVA 明白，当 时`Cow extends Animal`，牛也可以称为动物。

正如其他人指出的那样，这是多态性。您可以扩展`Animal`并`Dog`说 Dog 也是 Animal。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-11-30T07:40:44.423

这是一个继承 101 问题。

它允许对共享通用功能的对象进行相同处理。
它还允许在运行时提供作为抽象类型子类的特定实现。

我可能会胡说八道很多年。也许这样的问题太宽泛了，无法在这里回答。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-11-30T07:37:02.653

在另一个类/方法中，您可能希望使用同一接口的不同实现。按照你的例子，你可能有类似的东西：

```
public void feed( Animal animal ) {   
  animal.getHome().insertFood(animal.getFavFood());
} 
```

现在您可以在您的动物类中实现细节，并且在您向程序中添加新动物时不必扩展此方法。

因此，在某些情况下，您需要公共接口以便不为每个实现实现一个方法，而在其他情况下，您将需要使用显式实现。

# java - 如何在 OpenStreetMap 中添加气球？

> ID：13640845
> 
> 赞同：0
> 
> 时间：2012-11-30T07:34:26.457
> 
> 标签：java, android, openstreetmap, osmdroid

如何将 Google 地图上的气球（例如[此处](http://imgur.com/SKyZ4 "这里")显示的气球）添加到 OpenStreetMap 中？这是我下面的 OpenStreetMap 代码：

```
import org.osmdroid.DefaultResourceProxyImpl;
import org.osmdroid.ResourceProxy;
import org.osmdroid.util.GeoPoint;
import org.osmdroid.views.MapView;
import org.osmdroid.views.MapController;
import org.osmdroid.views.MapView;
import android.os.Bundle;
import android.app.Activity;
import android.graphics.drawable.Drawable;

public class MainActivity extends Activity {

MyItemizedOverlay myItemizedOverlay = null;
  private MapController myMapController;

 @Override
 public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    MapView mapView = (MapView) findViewById(R.id.mapview);
    mapView.setBuiltInZoomControls(true);
    myMapController = mapView.getController();
    myMapController.setZoom(16);

    Drawable marker=getResources().getDrawable(android.R.drawable.star_big_on);
    int markerWidth = marker.getIntrinsicWidth();
    int markerHeight = marker.getIntrinsicHeight();
    marker.setBounds(0, markerHeight, markerWidth, 0);

    ResourceProxy resourceProxy = new   
   DefaultResourceProxyImpl(getApplicationContext());

    myItemizedOverlay = new MyItemizedOverlay(marker, resourceProxy);
    mapView.getOverlays().add(myItemizedOverlay);

    GeoPoint myPoint1 = new GeoPoint(24.893379000000000000, 67.028060900000010000);
    myItemizedOverlay.addItem(myPoint1, "myPoint1", "myPoint1");
    GeoPoint myPoint2 = new GeoPoint(24.824796300000000000, 67.031565699999990000);
    myItemizedOverlay.addItem(myPoint2, "myPoint2", "myPoint2");

  } 

}

import java.util.ArrayList;

import org.osmdroid.ResourceProxy;
import org.osmdroid.api.IMapView;
import org.osmdroid.util.GeoPoint;
import org.osmdroid.views.overlay.ItemizedOverlay;
import org.osmdroid.views.overlay.OverlayItem;

import android.graphics.Point;
import android.graphics.drawable.Drawable;

public class MyItemizedOverlay extends ItemizedOverlay<OverlayItem> {

    private ArrayList<OverlayItem> overlayItemList = new ArrayList<OverlayItem>();

    public MyItemizedOverlay(Drawable pDefaultMarker,
       ResourceProxy pResourceProxy) {
     super(pDefaultMarker, pResourceProxy);
       // TODO Auto-generated constructor stub
     }

     public void addItem(GeoPoint p, String title, String snippet){
        OverlayItem newItem = new OverlayItem(title, snippet, p);
        overlayItemList.add(newItem);
        populate(); 
     }

     @Override
     public boolean onSnapToItem(int arg0, int arg1, Point arg2, IMapView arg3) {
       // TODO Auto-generated method stub
       return false;
     }

     @Override
     protected OverlayItem createItem(int arg0) {
       // TODO Auto-generated method stub
       return overlayItemList.get(arg0);
     }

     @Override
     public int size() {
       // TODO Auto-generated method stub
       return overlayItemList.size();
     }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-08-02T14:59:19.643

我有同样的问题，现在我找到了一种方法：

1.  在此处下载**osmbonuspack**：[https ://code.google.com/p/osmbonuspack/](https://code.google.com/p/osmbonuspack/)

2.  遵循以下代码：

    ```
    ArrayList<ExtendedOverlayItem> overlayItemArray = new ArrayList<ExtendedOverlayItem>();

    ExtendedOverlayItem item = new ExtendedOverlayItem("Title, "Description, new GeoPoint(Double latitude, Double longitude), this);

    //creates a layer with ballons

    ItemizedOverlayWithBubble<ExtendedOverlayItem> poiMarkers = new ItemizedOverlayWithBubble<ExtendedOverlayItem>(this, overlayItemArray, mapView, new CustomMapInfoWindow(mapView));

    // add the layer
    mapView.getOverlays().add(poiMarkers); 
    ```

3.  创建一个名为**CustomMapInfoWindow**的类：

    ```
    import org.osmdroid.bonuspack.overlays.DefaultInfoWindow;
    import org.osmdroid.bonuspack.overlays.ExtendedOverlayItem;
    import org.osmdroid.views.MapView;

    public class CustomMapInfoWindow extends DefaultInfoWindow {

        public CustomMapInfoWindow(MapView mapView) {
            super(R.layout.bonuspack_bubble, mapView);

        }

        @Override
        public void onOpen(ExtendedOverlayItem item) {
            super.onOpen(item);
        }
    } 
    ```

4.  转到[OSMBONUSPACKDEMO REPOSITORY](https://code.google.com/p/osmbonuspack/source/browse/#svn%2Ftrunk%2FOSMBonusPackDemo%2Fres%2Flayout)并将**bonuspack_bubble.xml**和**drawables**放入*drawable-mdpi*文件夹。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-07-25T13:26:11.950

你应该看看 osmbonuspack 库，它是 osmdroid 的附加组件。它包括一个将显示弹出气球的叠加层：

[https://code.google.com/p/osmbonuspack/](https://code.google.com/p/osmbonuspack/)

# c# - 当我使用 .net 图表在页面上显示图片时，它仅显示页面

> ID：13640852
> 
> 赞同：2
> 
> 时间：2012-11-30T07:35:21.773
> 
> 标签：c#, asp.net-mvc, charts

您好，我在 Mvc3 Application 中使用图表控件。

**控制器代码：**

```
Chart newChart = new Chart(800,600);
newChart.AddSeries(...)
newChart.AddSeries(...)
ViewBag.chart = newChart;
return View(); 
```

**查看页面**

```
@{ Layout = "~/Shared/_Layout.cshtml"}

@ViewBag.chart.Write()
... 
```

但是，页面只显示图表本身，css不起作用，页面中的内容都丢失了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T08:26:41.640

你需要：

*   仅呈现图表的操作（您的代码似乎是执行此操作的一种方式 - `chart.Write()`） - 例如控制器“ChartController”操作“MyChart”。

    执行此操作的常见方法是`chart.Write`从 void Action 方法调用，或者将图表数据保存在字节数组或内存流中，并`FileResult`从图表 Action 方法返回 a。

*   带有 img 的视图，其来源是呈现图表的操作的 url，例如

    ```
    ...
    <img asrc="@Url.Action("MyChart", "ChartController")" ... />
    ... 
    ```

# ios - cocos2d 中的 box2d 因 EXC_BAD_ACCESS 而崩溃。如何调试？

> ID：13640861
> 
> 赞同：0
> 
> 时间：2012-11-30T07:36:20.837
> 
> 标签：ios, debugging, cocos2d-iphone, box2d, exc-bad-access

我使用 Cocos2d v 1.0.1 和 Box2d（cocos2d + box2d 模板）创建 iOS 应用程序。 **在 iPad 上，我的应用程序运行** 良好在 iPhone 4,4s（ios 版本 5.0.1、6.0，未在其他 iPhone/固件上测试）我在游戏开始时获得 EXC_BAD_ACCESS（玩了很短的时间后）。

```
myActor.position = CGPointMake( b->GetPosition().x * PTM_RATIO, b->GetPosition().y * PTM_RATIO  ); 
```

我分析了 b 和 Box2d 世界的状态，看起来世界的身体列表已损坏。指向 b 的指针包含 b2PolygonShape，而不是 b2Body（我在 Xcode 的变量视图中看到）。有时（也仅在 iPhone 上），我的游戏开始出现异常。我在我的更新方法中设置了断点，并意识到 Box2d 世界的身体列表只包含一个身体（但在之前的更新世界中包含许多身体，并且在当前更新时它们在屏幕上可见）。

我检查了我的游戏代码，但找不到错误或此类行为的原因。我尝试使用 Xcode 的分析功能，更改 Box2d 版本和其他一些东西。我暂时无法解决这个问题。
我应该使用什么方法来调试此崩溃？
我能做些什么来研究和解决它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T09:29:38.967

通过从我的应用程序中排除与 Box2d 相关的部分代码，我发现了错误。在以下代码中

```
 CCDelayTime *destroyDelay = [CCDelayTime actionWithDuration:0.001];
    CCCallBlock *destroyBlock = [CCCallBlock actionWithBlock:^{
        b2Body * b = (b2Body *)[bodyVal pointerValue];
        b->SetUserData(NULL);
        [self world]->DestroyBody(b);
    }];
    [self runAction: [CCSequence actions:destroyDelay,destroyBlock, nil]]; 
```

存储在 NSValue 中的指针 b 在 CCCallblock 执行时可能无效，这会导致内存错误。

我用这个代码替换了

```
NSValue *bodyVal = [NSValue valueWithPointer: body ];
[self.bodiesThatHeroCollidedWith addObject: bodyVal ]; 
```

然后在我的 update: 方法中清理 self.bodiesThatHeroCollidedWith 数组：

```
for (NSValue *body in self.bodiesThatHeroCollidedWith) {
    b2Body *b = (b2Body *)[body pointerValue];
    b->SetUserData( NULL );
    world->DestroyBody( b );
}
[self.bodiesThatHeroCollidedWith removeAllObjects]; 
```

# joomla2.5 - Joomla相关产品定制

> ID：13640862
> 
> 赞同：0
> 
> 时间：2012-11-30T07:36:27.517
> 
> 标签：joomla2.5

在 VM2 中，我可以使用模板覆盖 default_relatedproducts.php，代码如下：

```
 <?php echo $field->display ?>

That outputs the HTML

<a title="x" href="x">
   <img alt="" src="x.jpg"> 
   Product Name 
</a> 
```

我的问题是如何删除上述href codemi just want image中的产品名称

# android - 包含复选框的列表视图的android相对布局问题

> ID：13640863
> 
> 赞同：0
> 
> 时间：2012-11-30T07:37:01.307
> 
> 标签：android, android-layout

我的代码中有相对布局，我在其中使用了包含每个项目复选框的列表视图。我正在使用**LayoutInflater**。我想添加一个只有一次的**Bytton 。**但是当我添加按钮时，它会出现所有列表项，但它应该只在屏幕底部出现一次。这是布局的XML。

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="horizontal" >

    <CheckBox
        android:id="@+id/checkBox"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:layout_marginLeft="14dp"
        android:textSize="25sp" />

    <ListView
        android:id="@android:id/list"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true" />

</RelativeLayout> 
```

问题是我想在其中添加一个按钮。任何帮助请

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T08:17:40.650

您需要将按钮放在包含列表的 xml 布局*中的列表*下方，**而不是**列表行的布局中（这听起来像是您现在正在尝试做的事情）...

下面将在列表顶部放置一个标题，在底部放置一个按钮，并用列表填充中间的空间：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical" >
    <TextView
        android:id="@+id/header1"
        android:layout_width="match_parent"
        android:layout_height="wrap_content" 
        android:layout_alignParentTop="true"/>
    <Button
        android:id="@+id/button1"
        android:layout_width="match_parent"
        android:layout_height="35dp"
        android:layout_alignParentBottom="true" />
    <ListView
        android:id="@+id/list"
        android:layout_width="match_parent"
        android:layout_height="0dp"
    android:layout_below="@id/header1"
        android:layout_above="@id/button1">
    </ListView>
</RelativeLayout> 
```

然后是列表行的布局：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >
    <CheckBox
        android:id="@+id/checkBox"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_alignParentTop="true"
        android:layout_marginLeft="14dp"
        android:textSize="25sp" />
    <TextView
        android:id="@+id/listitem"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentRight="true"
        android:layout_alignParentTop="true" />
</RelativeLayout> 
```

# irb - 在 irb 上要求“rjb”失败

> ID：13640867
> 
> 赞同：1
> 
> 时间：2012-11-30T07:37:06.887
> 
> 标签：irb, rjb

我想使用 rjb 来调用standford parser。我已经设法为 rjb 安装 gem 并按照 rjb 网站中的建议设置 JAVA_HOME 路径。

```
 gem install rjb
     Building native extensions.  This could take a while...
     Successfully installed rjb-1.4.3
     1 gem installed
     Installing ri documentation for rjb-1.4.3...
     Installing RDoc documentation for rjb-1.4.3...
     [root@avinash shoutout_railsengine]# ruby -v -e "p ENV['JAVA_HOME']"
        ruby 1.9.2p290 (2011-07-09 revision 32553) [x86_64-linux]
     "/usr/java/jdk1.7.0/"
     [root@avinash shoutout_railsengine]# ruby -v -e "p ENV['JAVA_HOME']"
     ruby 1.9.2p290 (2011-07-09 revision 32553) [x86_64-linux]
     "/usr/java/jdk1.7.0/"
     [root@avinash shoutout_railsengine]# ruby -v -e "p ENV['JAVA_HOME']"
     ruby 1.9.2p290 (2011-07-09 revision 32553) [x86_64-linux]
     "/usr/java/jdk1.7.0/"
     [root@avinash shoutout_railsengine]# ruby -d -rubygems -rrjb -e 'Rjb::load'
       Exception `LoadError' at <internal:lib/rubygems/custom_require>:29 - no such   file to load -- rubygems/defaults/operating_system
     Exception `LoadError' at <internal:lib/rubygems/custom_require>:37 - no such file to load -- rubygems/defaults/operating_system
     Exception `LoadError' at <internal:lib/rubygems/custom_require>:29 - no such file to load -- rubygems/defaults/ruby
     Exception `LoadError' at <internal:lib/rubygems/custom_require>:37 - no such file to load -- rubygems/defaults/ruby
     Exception `LoadError' at <internal:lib/rubygems/custom_require>:29 - no such file to load -- rjb
    Exception `LoadError' at <internal:lib/rubygems/custom_require>:37 - no such file to load -- rjb
  <internal:lib/rubygems/custom_require>:29:in `require': no such file to load -- rjb (LoadError)
     from <internal:lib/rubygems/custom_require>:29:in `require'
 [root@avinash shoutout_railsengine]# irb
  irb(main):001:0> require 'rjb'
  LoadError: no such file to load -- rjb
    from <internal:lib/rubygems/custom_require>:29:in `require'
    from <internal:lib/rubygems/custom_require>:29:in `require'
    from (irb):1
    from /usr/local/bin/irb:12:in `<main>' 
```

有人可以告诉我有什么问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-25T18:12:20.027

`require 'rubygems'`先试试`require 'rjb'`

# iphone - 在 iPhone 中基于主详细视图的应用程序中删除主视图中的一行

> ID：13640870
> 
> 赞同：0
> 
> 时间：2012-11-30T07:37:22.820
> 
> 标签：iphone, objective-c, native, master-detail

我正在开发一个 Master-Detail bas iPhone 原生应用程序。

我在详细视图中有一个删除按钮，它应该删除用户点击的主视图中的相应行。

我不想在主视图中提供删除选项。

这是可以实现的吗？如果是的话怎么办？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T07:50:12.007

我认为您在 master 中有表格视图，一旦您单击行详细信息视图就会显示。

在此，是的，您可以在详细视图中提供删除按钮。

考虑您有一个 NSMutableArray，它显示在表格中。单击删除按钮可删除数组中的特定条目。

然后重新加载表中的数据。

# ruby-on-rails - Heroku “psql: FATAL: 剩余的连接槽是为非复制超级用户连接保留的”

> ID：13640871
> 
> 赞同：17
> 
> 时间：2012-11-30T07:37:25.067
> 
> 标签：ruby-on-rails, activerecord, heroku

我在运行 Heroku Postgres Basic 时收到了上述错误消息（[根据这个问题](https://stackoverflow.com/questions/11847144/heroku-psql-fatal-remaining-connection-slots-are-reserved-for-non-replication)），并且一直在尝试诊断问题。

建议之一是使用连接池，但似乎[Rails 内置了这个](https://stackoverflow.com/questions/5826381/is-there-any-reason-to-use-a-database-connection-pool-with-activerecord)。另一个建议是应用程序配置不正确并打开了太多连接。

我的应用程序通过 Active Record 管理它的所有连接，并且我有一个从 Navicat 到数据库的直接连接（或者至少我认为我有）。

我将如何调试这个？

**解析度**

原来这是一个 Heroku 问题。来自 Heroku 的支持：

> 我们在运行 Basic 数据库的服务器上检测到问题。虽然我们确定并解决了这个问题，但我们建议您配置一个新的基本数据库并使用 PGBackups 进行迁移，详细信息如下： [https](https://devcenter.heroku.com/articles/upgrade-heroku-postgres-with-pgbackups) ://devcenter.heroku.com/articles/upgrade-heroku-postgres-with-pgbackups 。那应该将您的数据库放在新服务器上。对于这次中断，我深表歉意——我们正在努力解决这个问题，并防止它在未来发生。

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2013-08-25T21:45:44.570

这在我的应用程序上发生了几次——不知何故存在连接泄漏，然后突然间数据库获得的连接数是其应有的 10 倍。如果您遇到这样的错误而不是流量，请尝试运行以下命令：

```
heroku pg:killall 
```

这将终止与数据库的所有连接。如果您的情况可能切断查询是危险的，请小心。我只有一个 Rails 应用程序，如果它出现故障，丢失几个查询并不是什么大问题，因为浏览器请求无论如何都会超时。

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2012-11-30T07:47:54.653

您可以通过检查视图[pg_stat_activity](http://www.postgresql.org/docs/9.2/static/monitoring-stats.html#PG-STAT-ACTIVITY-VIEW)找到为什么有这么多连接：

```
SELECT * FROM pg_stat_activity 
```

最有可能的是，您有一些杂散循环打开新连接而不关闭它。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2015-11-19T18:06:25.323

为了节省您的支持电话，以下是我从 Heroku 支持部门收到的针对类似问题的回复：

> 你好，
> 
> 爱好层数据库的限制之一是突击维护。许多爱好数据库在单个共享服务器上运行，我们偶尔需要重新启动该服务器以进行硬件维护，或者将数据库迁移到另一台服务器以进行负载平衡。发生这种情况时，您会在日志中看到错误或连接出现问题。如果服务器正在重新启动，则数据库可能需要 15 分钟或更长时间才能重新联机。
> 
> 大多数维护连接池的应用程序（如 Rails 中的 ActiveRecord）都可以打开与数据库的新连接。但是，在某些情况下，应用程序将无法重新连接。如果发生这种情况，您可以 heroku 重新启动您的应用程序以使其重新联机。
> 
> 这是我们建议不要为关键生产应用程序运行爱好数据库的原因之一。标准和高级数据库包括停机事件通知，并且总体上性能更高且更稳定。您可以使用 pg:copy 迁移到标准或高级计划。
> 
> 如果这种情况继续，您可以尝试使用 heroku addons:add 配置一个新数据库（在不同的服务器上），然后使用 pg:copy 移动数据。请记住，爱好等级规则适用于 9 美元的基本计划以及免费数据库。
> 
> 谢谢，布拉德利

# iphone - iPhone 架构

> ID：13640872
> 
> 赞同：0
> 
> 时间：2012-11-30T07:37:28.137
> 
> 标签：iphone, ios, architecture

谁能详细解释一下 iPhone 的架构。

当我们单击按钮时会发生什么，硬件如何响应该事件。

谢谢吉滕德拉

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-11-30T07:45:45.453

检查此[iPhone 的工作](http://electronics.howstuffworks.com/iphone.htm)原理，尤其是[触摸的工作原理部分](http://electronics.howstuffworks.com/iphone1.htm)。它包含有关如何处理所有内容的详细信息，包括触摸/多点触摸等。无法在此处添加所有信息，因此仅作为链接发布。

# android - 显示加载对话框，直到网页在 WebView 中完全加载

> ID：13640878
> 
> 赞同：1
> 
> 时间：2012-11-30T07:37:55.637
> 
> 标签：android, webview, dialog

我有一个在 webview 中加载一些数据的页面。

```
webView.loadUrl(); 
```

在页面完成加载到 webview 之前，如何在其中显示一个带有“正在加载...”的对话框？

我需要获得网络速度吗？有没有`FINISHEDLOADING()`我可以使用的方法？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-30T07:44:23.987

您可以使用`WebViewClient`回调。有`OnPageFinished()`回调和许多其他有用的东西。

```
webview.setWebViewClient(new WebViewClient() {
   public void public void onPageFinished (WebView view, String url) {
       ......some code here..
   }
 }); 
```

因此，您需要做的就是在方法之后立即显示进度并在回调方法`webview.loadUrl()`中将其关闭。`onPageFinished()`

# php - php获取特殊字符之间的url

> ID：13640880
> 
> 赞同：-5
> 
> 时间：2012-11-30T07:37:58.433
> 
> 标签：php, facebook, url

```
$url = 'hxxx://www.xxxx.com/#node=xxxxxxxx&lasts=5613';
$e=explode('#',$url);
echo $e[count($e)-1]; 
```

这给了我输出

```
node=xxxxxxxx&lasts=5613 
```

我只是想

```
node=xxxxxxxx 
```

这在输出 # 和 & 之间的 url

任何人...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:42:03.993

这是我脑海中突然出现的第一件事

```
$url = 'hxxx://www.xxxx.com/#node=xxxxxxxx&lasts=5613';
$e = explode('#', $url);
$params = array();
parse_str(end($e), $params);
print_r($params); 
```

你将有一个数组`$params`和`node``lasts`

```
echo $params['node']; 
```

会给你你想要的

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:42:37.293

队长正则表达式进行救援：

```
<?php 
$url = 'hxxx://www.xxxx.com/#node=xxxxxxxx&lasts=5613';
$result = array();
preg_match('/#([^\&]+)\&/', $url, $result);
echo $result[1]; 
```

[http://php.net/manual/en/function.preg-match.php](http://php.net/manual/en/function.preg-match.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T07:43:30.730

试试这个

```
 $url = 'hxxx://www.xxxx.com/#node=xxxxxxxx&lasts=5613';
    $arr = parse_url($url);

   $arr = explode("&",$arr['fragment']);

   $val = $arr[0] 
```

# eclipse - 使用 Eclipse 的回显服务

> ID：13640886
> 
> 赞同：2
> 
> 时间：2012-11-30T07:38:41.330
> 
> 标签：eclipse

如何创建一个简单的 servlet 来提供反词回显服务。

示例.. INPUT：JSTL 是为创建原型应用而发明的 OUTPUT：为发明而创建的应用原型是 JSTL

使用 Eclipse

# asp.net - 从 asp.net 中动态创建的 ListBox 中读取选定的项目

> ID：13640889
> 
> 赞同：0
> 
> 时间：2012-11-30T07:38:59.557
> 
> 标签：asp.net

我已经在面板中动态创建了 ListBox，我想从动态创建的 Listbox 中读取所选项目。下面是我用来创建动态列表框的代码。谁能帮助我如何获取动态创建的列表框，然后阅读所选项目。'受保护的无效GotoReport_Click（对象发送者，ImageClickEventArgs e）{

```
 foreach (TreeNode tndim in tvCubedef.CheckedNodes)
        {

            lbFilter.Items.Add(tndim.Text);

        }
        foreach (ListItem item in lbFilter.Items)
        {
            item.Selected = true;
        }

        panFilter.Controls.Clear();
        connstr2 = System.Configuration.ConfigurationManager.ConnectionStrings["ConnString"].ConnectionString;
        conn2.ConnectionString = connstr2;
        conn2.Open();
        CubeCollection CubeList = conn2.Cubes;
        string cb = ddlCubeList.SelectedItem.Text;

        foreach (ListItem li in lbFilter.Items)
        {

            ListBox listb = new ListBox();
            ListItem Memlist = new ListItem();
            listb.SelectionMode = System.Web.UI.WebControls.ListSelectionMode.Multiple;
            listb.Height = 150;
            listb.Width = 250;

            string Repl1 = li.Value.Replace("[", "");
            string Repl2 = Repl1.Replace("]", "");
            string[] DimMember = Repl2.Split('.');
            foreach (Member dimem in CubeList[cb].Dimensions[DimMember[0]].Hierarchies[DimMember[1]].Levels[DimMember[2]].GetMembers())
            {

                Memlist.Text = dimem.Name;
                listb.Items.Add(Memlist);
                panFilter.Controls.Add(listb);

            }

        }

    } ' 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T08:17:51.963

您需要动态添加事件处理程序：

```
listb.SelectedIndexChanged += new EventHandler(listb_SelectedIndexChanged); 
```

当然你还需要提供这个方法：

```
protected void listb_SelectedIndexChanged(Object sender, EventArgs e)
{
    ListBox listb = (ListBox) sender;
} 
```

您是否最晚`ListBox` **在每次回**发（如您应该）上重新创建此内容并与以前相同？`page_load``ID`

# sql - 如何在表的末尾创建不包含值的空列

> ID：13640890
> 
> 赞同：2
> 
> 时间：2012-11-30T07:39:04.017
> 
> 标签：sql, oracle11g

我想做一个空列。我试过这个

```
select LOSA_APP.app_ref_no AS "App.Ref.No.", 
   CODE_BRANCH.branch_name AS "Business Unit",
   CODE_STAFF.staff_name AS "RM",
   to_date(:endDate, 'dd.mm.yyyy')  - LOSA_APP_Z.li_dt AS "Day Count",
   ...,
   (select "RemarK By SDS" from dual)
from
    losa_app LOSA_APP
INNER JOIN
    code_branch CODE_BRANCH
ON
    LOSA_APP.attend_branch = CODE_BRANCH.branch_id
....
where 
    LOSA_APP.app_status='A'; -- Application Status in {‘accepted’} 
```

但我收到错误

```
ORA-00904: "RemarK By SDS": invalid identifier
00904\. 00000 -  "%s: invalid identifier"
*Cause:    
*Action:
Error at Line: 22 Column: 16 
```

第 22 行是`(select "RemarK By SDS" from dual)`. 其实我只是想在最后添加这个空列以供备注。此列不包含任何值。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T07:43:27.997

尝试：

```
select LOSA_APP.app_ref_no AS "App.Ref.No.", 
   CODE_BRANCH.branch_name AS "Business Unit",
   CODE_STAFF.staff_name AS "RM",
   to_date(:endDate, 'dd.mm.yyyy')  - LOSA_APP_Z.li_dt AS "Day Count",
   ...,
   '' as "RemarK By SDS"
from
    losa_app LOSA_APP
..... 
```

而不是`(select "RemarK By SDS" from dual)`只使用`'' as "RemarK By SDS"`它，它会在结果集的末尾为您提供空列。

# java - 在android中注销后防止返回按钮

> ID：13640891
> 
> 赞同：4
> 
> 时间：2012-11-30T07:39:05.190
> 
> 标签：java, android

注销后，用户将被定向到 android 中的登录屏幕。现在，如果用户点击手机的后退按钮，它应该留在登录屏幕本身。

我怎样才能在android中实现它？
**我在我的应用程序中使用了以下代码，但它会关闭我的应用程序。**它应该只停留在登录屏幕上

```
Intent objsignOut = new Intent(getBaseContext(),Hello.class);
objsignOut.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
startActivity(objsignOut); 
```

请指导我正确的方法。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-11-30T07:41:15.900

在您的登录活动中覆盖`onBackPressed`，什么也不做..

```
public void onBackPressed() {
    //do nothing
} 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2018-12-30T13:37:48.153

在我看来，有比覆盖 onBackPressed 方法更简单、更清洁的解决方案，如此[处](https://stackoverflow.com/questions/3007998/on-logout-clear-activity-history-stack-preventing-back-button-from-opening-l/14697271#14697271)和[此处](https://stackoverflow.com/questions/5794506/android-clear-the-back-stack)所述。

您可以在启动新活动（登录或注销）时提供标志以简单地清除“后退堆栈”而不是覆盖后退按钮的行为：

```
intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);
startActivity(intent); 
```

这是一种更安全的解决方案，也可以在您登录后使用，而不仅仅是在您注销后使用。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-11-30T07:47:01.680

```
public void onBackPressed(){
    if(appCanClose){
        finish();
    }
} 
```

这些函数既可以存在于系统框架中（如果不在您的代码中使用），也可以存在于您的代码中。如果您将其留空，则按下后退按钮时应用程序将不执行任何操作。

在本例中，当布尔值 appCanClse 为 true 时，返回按钮将退出应用程序，如果为 false，则返回按钮将不执行任何操作。我会确保用户仍然有办法退出应用程序。:p

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2020-11-27T20:44:43.803

您只需添加这两行代码即可

```
@Override
public void onBackPressed(){

    moveTaskToBack(true);

} 
```

当任何人点击返回按钮时，它将阻止返回到以前的活动以及将应用程序带到后台

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-10-26T14:45:42.860

实际的解决方案是

```
@Override
    public void onBackPressed() {
        super.onBackPressed();
        finishAffinity();
    } 
```

在登录活动中添加此代码。在登录页面中单击后退按钮时应用程序关闭。

# android - 如何在 android 中为股票和新闻实现代码？

> ID：13640892
> 
> 赞同：1
> 
> 时间：2012-11-30T07:39:11.690
> 
> 标签：android

如何为股票/新闻实现 Android 代码。我的要求是像[纳斯达克](http://www.nasdaq.com/)的形象那样实施它-

![在此处输入图像描述](../Images/0a9033d1d7a9a9f0fe571966dd71a6a2.png)

市场上有应用程序这样做，所以这是可能的。[最近的可能问题](https://stackoverflow.com/questions/13162888/android-viewgroup-ticker)未能提供任何缓解。实现此功能的示例代码将更有帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:43:29.617

如果您正在寻找一个始终可见且始终位于所有视图之上的视图，请查看`SystemOverlay`android. 这个[链接](https://stackoverflow.com/questions/4481226/creating-a-system-overlay-always-on-top-button-in-android)也有一些有用的信息..

查看[这篇文章](https://stackoverflow.com/questions/7735394/simple-android-scrolling-text-ticker)以创建`TextView`带有类似支持的股票代码和[这篇文章](https://stackoverflow.com/questions/3332924/textview-marquee-not-working)以获取示例代码......

# html - 如何将 CSS 表 DIV 限制在另一个 DIV 中？

> ID：13640894
> 
> 赞同：0
> 
> 时间：2012-11-30T07:39:27.527
> 
> 标签：html, css

我有一个外部 DIV 如下。当我在浏览器中检查时，给定类的外部 DIV`colx2-right`几乎是它所在区域的一半的正确大小。

```
.colx2-right {
    float: right;
    margin-bottom: 0;
    width: 48%;
} 
```

在上面的 DIV 中，我定义了一个 CSS 表：

```
div.container {
    display: table;
} 
```

如果其中一列中有大量数据，则文本会溢出`colx2-right`DIV 的边缘。有什么方法可以让它保持在`colx2-right`DIV 的范围内吗？

我创建了一个显示问题的小提琴。在这里您可以看到黄色和红色背景的颜色仅小于 50%，但红色背景不会限制其中的表格。

[**小提琴**](http://jsfiddle.net/cK48u/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:41:21.537

我会说在 div.container 上设置 100% 的宽度应该让它按照你想要的方式工作。

如果不是这种情况，我可能没有正确理解您的问题。如果您在[http://www.jsfiddle.net](http://www.jsfiddle.net)中抛出一个示例，这将有所帮助，这样就不会造成混淆。

另一个想法（尽管我从未在 div 上使用 display: table）：既然你使用了 display: table，我们可能会假设 div 实际上是一个表格。这也意味着表格布局属性适用。

尝试设置`table-layout:fixed;`和设置 100% 宽度。

# c# - 我如何在 wp7 上的 XNA 中的点击手势之间创建延迟

> ID：13640896
> 
> 赞同：3
> 
> 时间：2012-11-30T07:39:30.333
> 
> 标签：c#, windows, silverlight, windows-phone-7, xna

我正在使用 XNA 开发一款手机游戏，并且有一个打开和关闭开关，只要点击它就会改变状态。我的问题是它一次点击就可以快速多次更改。我该如何阻止这个？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T08:50:17.327

Store a time the in-game switch was last used and calculate the timespan passed

```
if(buttonPressed && (Datetime.Now - timeLastInGameSwitchActivated).Milliseconds > 1000)
{
    ToggleIngameSwitch();
    timeLastInGameSwitchActivated = Datetime.Now;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T08:05:21.123

添加一个先前的值变量来检查按钮的最后状态，如果它与当前不同，则执行所需的代码 ButtonState prev = state

```
if(currentstate != prev)
{
dothis
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-01T04:26:05.450

我使用这种简单的技术来处理“延迟”的东西。

```
float elapsed = (float)gameTime.ElapsedGameTime.Milliseconds;
timeCounter += elapsed;

if (timeCounter > yourMinimumDelayTime)
{
   //your code here
   timeCounter = 0;                     
} 
```

# html - 如何使用css将div放在前台？

> ID：13640897
> 
> 赞同：2
> 
> 时间：2012-11-30T07:39:30.660
> 
> 标签：html, css, z-index

我已经实现了以下网站：[link](http://cihadkirhan.com/mytrans/index.php)

网站的标题部分有两个文本字段。如果您单击文本字段，则会弹出一个日历。我的问题是尽管我设置了 css 属性`position: absolute;`和`z-index: 999;`. 有什么问题，我该如何解决？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T07:44:36.420

您可以将以下内容添加到您的 CSS

```
.row-3 {
    overflow: visible;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:46:31.757

只需`overflow:hidden;`从这里删除`#header .row-3`

```
#header .row-3 {
    background: url("images/header-tail.gif") repeat-x scroll left top transparent;
    height: 276px;
} 
```

看附图我是怎么做的

![在此处输入图像描述](../Images/568924df072d333cd6a097b97330f2ea.png)

# installation - 如何从命令提示符安装 SQL Server 2008 R2 Express

> ID：13640903
> 
> 赞同：1
> 
> 时间：2012-11-30T07:39:55.170
> 
> 标签：installation, sql-server-2008-r2

我尝试使用以下命令行从命令提示符安装 SQL Server 2008 R2 Express

```
 /ACTION=Install /FEATURES=SQLEngine /INSTANCENAME=Myinstance /SQLSVCACCOUNT=NT AUTHORITY\NETWORK SERVICE /SQLSYSADMINACCOUNTS=BUILTIN\ADMINISTRATORS /IACCEPTSQLSERVERLICENSETERMS=True" 
```

但它总是失败，我检查日志文件显示错误

```
 Overall summary:
  Final result: SQL Server installation failed. To continue, investigate the reason for the failure, correct the problem, uninstall SQL Server, and then rerun SQL Server Setup.
 Exit code (Decimal):-2068578304
 Exit facility code:  1204
 Exit error code:    0
 Exit message: The specified credentials for the SQL Server service are not valid. To continue, provide a valid account and password for the SQL Server service.
 Start time: 2012-11-30 12:51:24
 End time:   2012-11-30 12:51:59
 Requested action:Install

Machine Properties:
 Machine name: Victor
 Machine processor count:2
 OS version:Windows 7
 OS service pack:Service Pack 1
 OS region:India
 OS language: English (United States)
 OS architecture:x64
 Process architecture: 32 Bit
 OS clustered: No

Product features discovered:
 Product              Instance             Instance ID                    Feature                                    Language             Edition              Version         Clustered 
  Sql Server 2008      SQLEXPRESS           MSSQL10.SQLEXPRESS             Database  Engine Services                 1033                 Express Edition      10.0.1600.22     No        
     Sql Server 2008      SQLEXPRESS           MSSQL10.SQLEXPRESS             SQL Server Replication                   1033                 Express Edition      10.0.1600.22    No        
  Sql Server 2008                                                          Management Tools - Basic                 1033                 Express Edition      10.0.1600.22    No        

   Package properties:
   Description:                   SQL Server Database Services 2008 R2
  ProductName:                   SQL Server 2008 R2
  Type:                          RTM
  Version:                       10
  SPLevel:                       0
  Installation location:         e:\f5b5880eab8afb8665d3b15bd6c0\x86\setup\
  Installation edition:          EXPRESS

  User Input Settings:
    ACTION:                        Install
    ADDCURRENTUSERASSQLADMIN:      True
    AGTSVCACCOUNT:                 NT AUTHORITY\NETWORK SERVICE
    AGTSVCPASSWORD:                *****
    AGTSVCSTARTUPTYPE:             Disabled
    ASBACKUPDIR:                   Backup
    ASCOLLATION:                   Latin1_General_CI_AS
    ASCONFIGDIR:                   Config
    ASDATADIR:                     Data
    ASDOMAINGROUP:                 <empty>
    ASLOGDIR:                      Log
    ASPROVIDERMSOLAP:              1
    ASSVCACCOUNT:                  <empty>
    ASSVCPASSWORD:                 *****
    ASSVCSTARTUPTYPE:              Automatic
    ASSYSADMINACCOUNTS:            <empty>
    ASTEMPDIR:                     Temp
    BROWSERSVCSTARTUPTYPE:         Automatic
    CONFIGURATIONFILE:             
    CUSOURCE:                      
    ENABLERANU:                    True
    ENU:                           True
    ERRORREPORTING:                False
    FARMACCOUNT:                   <empty>
    FARMADMINPORT:                 0
    FARMPASSWORD:                  *****
    FEATURES:                      SQLENGINE
    FILESTREAMLEVEL:               0
    FILESTREAMSHARENAME:           <empty>
    FTSVCACCOUNT:                  <empty>
    FTSVCPASSWORD:                 *****
    HELP:                          False
    IACCEPTSQLSERVERLICENSETERMS:  True
    INDICATEPROGRESS:              False
    INSTALLSHAREDDIR:              C:\Program Files (x86)\Microsoft SQL Server\
    INSTALLSHAREDWOWDIR:           C:\Program Files (x86)\Microsoft SQL Server\
    INSTALLSQLDATADIR:             <empty>
   INSTANCEDIR:                   C:\Program Files (x86)\Microsoft SQL Server\
   INSTANCEID:                    Myinstance
   INSTANCENAME:                  Myinstance
   ISSVCACCOUNT:                  
   ISSVCPASSWORD:                 *****
   ISSVCSTARTUPTYPE:              Automatic
      NPENABLED:                     0
      PASSPHRASE:                    *****
     PCUSOURCE:                     
      PID:                           *****
      QUIET:                         True
     QUIETSIMPLE:                   False
       ROLE:                          AllFeatures_WithDefaults
   RSINSTALLMODE:                 FilesOnlyMode
   RSSVCACCOUNT:                  NT AUTHORITY\NETWORK SERVICE
   RSSVCPASSWORD:                 *****
   RSSVCSTARTUPTYPE:              Automatic
   SAPWD:                         *****
   SECURITYMODE:                  <empty>
  SQLBACKUPDIR:                  <empty>
  SQLCOLLATION:                  Latin1_General_CI_AI
  SQLSVCACCOUNT:                 
  SQLSVCPASSWORD:                *****
  SQLSVCSTARTUPTYPE:             Automatic
  SQLSYSADMINACCOUNTS:           BUILTIN\ADMINISTRATORS
  SQLTEMPDBDIR:                  <empty>
 SQLTEMPDBLOGDIR:               <empty>
 SQLUSERDBDIR:                  <empty>
 SQLUSERDBLOGDIR:               <empty>
 SQMREPORTING:                  False
 TCPENABLED:                    0
 UIMODE:                        AutoAdvance
 X86:                           False

       Configuration file: C:\Program Files (x86)\Microsoft SQL Server\100\Setup Bootstrap\Log\20121130_125044\ConfigurationFile.ini

   Detailed results:
        Feature:                       Database Engine Services
       Status:                        Failed: see logs for details
       MSI status:                    Passed
      Configuration status:          Passed

       Rules with failures:

    Global rules:

       Scenario specific rules:

       Rules report file:               C:\Program Files (x86)\Microsoft SQL Server\100\Setup Bootstrap\Log\20121130_125044\SystemConfigurationCheck_Report.htm

   Exception summary:
      The following is an exception stack listing the exceptions in outermost to innermost order
    Inner exceptions are being indented

      Exception type: Microsoft.SqlServer.Chainer.Infrastructure.InputSettingValidationException
       Message: 
    The specified credentials for the SQL Server service are not valid. To continue, provide a valid account and password for the SQL Server service.
          Data: 
          SQL.Setup.FailureCategory = InputSettingValidationFailure
          DisableWatson = true
     Stack: 
           at                 Microsoft.SqlServer.Chainer.Infrastructure.InputSettingService.LogAllValidationErrorsAndThrowFirstOne(ValidationState vs)
              at Microsoft.SqlServer.Configuration.SetupExtension.ValidateFeatureSettingsAction.ExecuteAction(String actionId)
           at Microsoft.SqlServer.Chainer.Infrastructure.Action.Execute(String actionId, TextWriter errorStream)
           at  
   Microsoft.SqlServer.Setup.Chainer.Workflow.ActionInvocation.ExecuteActionHelper(TextWriter statusStream, ISequencedAction actionToRun)
    Inner exception type: Microsoft.SqlServer.Configuration.SqlEngine.ValidationException
          Message: 
               The specified credentials for the SQL Server service are not valid. To continue, provide a valid account and password for the SQL Server service. 
```

但是当我尝试使用 c# 代码安装相同的 exe 文件时，它将成功安装

```
 Dim info As New System.Diagnostics.ProcessStartInfo("cmd.exe")

            info.FileName = My.Application.Info.DirectoryPath + "\SQLEXPR_x86_ENU.exe"

            info.Arguments = "/Q /ACTION=INSTALL /FEATURES=SQLEngine /INSTANCENAME=Myinstance /SQLSVCACCOUNT=" & ChrW(34) & "NT AUTHORITY\Network Service" & ChrW(34) & " /SQLSYSADMINACCOUNTS=" & ChrW(34) & "BUILTIN\ADMINISTRATORS" & ChrW(34) & " /IACCEPTSQLSERVERLICENSETERMS=" & ChrW(34) & "True" & ChrW(34)

            System.IO.File.WriteAllText("C:\\pathinsideinstaller", info.FileName)

            info.UseShellExecute = False
            info.CreateNoWindow = True
            info.WindowStyle = ProcessWindowStyle.Hidden
            Dim process As New System.Diagnostics.Process
            process.StartInfo = info
            process.Start()
            process.WaitForExit()
            process.Close() 
```

请帮助我如何解决这个问题......

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-15T21:32:04.370

由于它包含空格，因此您需要在 /SQLSVCACCOUNT 参数值周围加上双引号，如下所示：

```
/SQLSVCACCOUNT="NT AUTHORITY\NETWORK SERVICE" 
```

# android - 如何处理 TextView 中可绘制对象的点击事件？

> ID：13640905
> 
> 赞同：0
> 
> 时间：2012-11-30T07:40:15.393
> 
> 标签：android, click, icons, textview

[我遇到了与在 EditText 内的可绘制对象上处理单击事件](https://stackoverflow.com/questions/3554377/handling-click-events-on-a-drawable-within-an-edittext)中讨论的相同的问题，但我使用`TextView`而不是`EditText`. 当我单击 时，将调用`TextView`该方法。`onTouchEvent(MotionEvent event)`是否可以仅处理图标上的点击？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-07T10:53:34.430

我认为使用 a`TextView`和 an会更好`ImageView`。当然，这会导致更复杂的布局结构，但我更喜欢 XML 文件中的两个小部件，而不是[处理这些小部件的过多 Java 代码](https://stackoverflow.com/questions/3554377/handling-click-events-on-a-drawable-within-an-edittext)。

```
<TextView
    android:id="@+id/text"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_toLeftOf="@+id/iv"
    android:text="@string/long_text"
    android:textSize="22sp" />

<ImageView
    android:id="@id/iv"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentRight="true"
    android:contentDescription="@string/app_name"
    android:src="@drawable/btn_go" /> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T08:29:10.103

[我认为这个想法与此处](https://stackoverflow.com/a/6853024/1318939)描述的几乎相同：使用事件坐标并确定它们是否在可绘制的范围内。如果是，请执行您的操作。我不认为在这方面之间`TextView`有任何重大差异。`EditText`

# ruby-on-rails - Ruby on Rails Sunspot solr 包含关联的条件

> ID：13640915
> 
> 赞同：2
> 
> 时间：2012-11-30T07:40:47.960
> 
> 标签：ruby-on-rails, ruby-on-rails-3, solr, sunspot, sunspot-solr

我正在尝试使用 solr 搜索产品，它运行良好。除了我想限制供应商，通过 has_and_belongs_to_many 与产品关联，使用供应商模型中的状态字段为 0 或 1。

我的模型是：

“产品.rb”

```
has_and_belongs_to_many :suppliers, :class_name => 'Company'

searchable do
    text :name
    text :brand
    text :description
end 
```

“公司.rb”

```
attr_accessible :status

has_and_belongs_to_many :products 
```

对于我正在使用的搜索：

```
@search = Product.search(:include => :suppliers) do
  fulltext params[:s]
  with :status, 1   # This gives error as status is not a field in Product
end 
```

如何仅包括状态为 1 的供应商？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-04T01:45:09.723

您缺少可搜索的状态

```
searchable do
    text :name
    text :brand
    text :description
    boolean :status
end 
```

# android - add the third party font method in android

> ID：13640929
> 
> 赞同：0
> 
> 时间：2012-11-30T07:42:29.033
> 
> 标签：android, fonts

I add the third party font in android. And I put the font in the root of assets/fonts/qqqq.ttf

```
type=Typeface.createFromFile("@assets/fonts/hwxk.ttf"); 
 tv=(TextView) findViewById(R.id.index_grid_detail_text);
 tv.setTypeface(type); 
```

But it has the error like: native typeface cannot be made.

What is the problem? anyone knows this? thanks very much!

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:45:33.457

Change your code as if font is placed within assets dir in Project:

```
Typeface type= Typeface.createFromAsset(getAssets(),"fonts/hwxk.ttf");
tv=(TextView) findViewById(R.id.index_grid_detail_text);
tv.setTypeface(type); 
```

and for Creating Custom font from Sdcard change your code as:

```
Typeface type= Typeface.createFromFile(new File(Environment.getExternalStorageDirectory(), "/assets/fonts/hwxk.ttf"));
tv=(TextView) findViewById(R.id.index_grid_detail_text);
tv.setTypeface(type); 
```

Add sdcard permission in `AndroidManifest.xml` file:

```
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-11-30T08:27:40.767

Write below code instead of your code after `setContentView();`, may be it will solve your problem.

```
// text view label
TextView mTextView1 = (TextView) findViewById(R.id.TextView1);

// Loading Font Face
Typeface tf = Typeface.createFromAsset(getAssets(), "DroidSansFallback.ttf");

// Applying font
mTextView1.setTypeface(tf); 
```

And see below link for more information.

[Customize Android Fonts](http://androidcodeexamples.blogspot.in/2012/11/android-development-customize-android.html)

# spring - 如何避免 Spring 正在记录每个 Web 请求的信息消息

> ID：13640930
> 
> 赞同：1
> 
> 时间：2012-11-30T07:42:29.183
> 
> 标签：spring

我在类路径上使用 Spring 3.1.2 和 javax.inject.jar，我将以下消息打印到我的日志文件中。对于应用程序的每个 Web 请求，我都会得到这六行输出。

```
00:53:11,291 INFO  [ClassPathScanningCandidateComponentProvider] JSR-330 'javax.inject.Named' annotation found and supported for component scanning
00:53:11,301 INFO  [ClassPathScanningCandidateComponentProvider] JSR-330 'javax.inject.Named' annotation found and supported for component scanning
00:53:11,309 INFO  [ClassPathScanningCandidateComponentProvider] JSR-330 'javax.inject.Named' annotation found and supported for component scanning
00:53:11,417 INFO  [ClassPathScanningCandidateComponentProvider] JSR-330 'javax.inject.Named' annotation found and supported for component scanning
00:53:11,431 INFO  [ClassPathScanningCandidateComponentProvider] JSR-330 'javax.inject.Named' annotation found and supported for component scanning
00:53:11,455 INFO  [ClassPathScanningCandidateComponentProvider] JSR-330 'javax.inject.Named' annotation found and supported for component scanning 
```

问题：

*   为什么每次请求都会打印上述消息？
*   如何阻止它在每个请求上打印？

**更新：这是春季启动的方式：**

```
<!-- Listeners that startup spring -->
<listener>
     <listener-class>org.springframework.web.util.Log4jConfigListener</listener-class>
</listener>
<listener>
    <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
</listener>
<listener>
    <listener-class>org.springframework.security.web.session.HttpSessionEventPublisher</listener-class>
</listener>

    <!-- main dispatcher servlet -->
<servlet>
    <servlet-name>main</servlet-name>
    <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
    <load-on-startup>1</load-on-startup>
</servlet>
<servlet-mapping>
    <servlet-name>main</servlet-name>
    <url-pattern>/</url-pattern>
</servlet-mapping> 
```

我正在使用 JRebel，但我不确定这是否会启动额外的上下文作为其破解 JVM 和库以支持实时重新加载的一部分。

**我可以配置任何调试标志或类别来找出问题发生在哪里？**

# math - 如何确定一个向量是否在其他两个向量之间？

> ID：13640931
> 
> 赞同：14
> 
> 时间：2012-11-30T07:42:37.093
> 
> 标签：math, vector, matrix

我正在寻找一种快速有效的方法来确定向量 B 是否在向量 A 和向量 C 的小角度之间。通常我会使用垂直点积来确定每条线 B 的哪一侧，但在这种情况下不是如此简单，原因如下：

*   没有一个向量可以被认为是规范化的，规范化它们是我希望避免的额外步骤。
*   我不清楚哪一边是最小的角度，所以很难说哪一边是好还是不好。
*   A 和 B 可能是共线的或正好相隔 180 度，在这种情况下我想返回 false。
*   当我在 3D 环境中工作时，我很容易将其简化为 2D，如果这样可以让事情变得更容易，更重要的是更快。该测试将用于需要尽可能快地运行的算法。

如果有一些简单有效的方法来确定我的垂直向量应该指向哪个方向，我可以使用这两个点积进行测试。

到目前为止，我一直在考虑但没有取得多大成功的另一种方法是使用矩阵。理论上，根据我对矩阵变换的理解，我应该能够使用 A 和 C 作为基向量。然后将 B 乘以矩阵 I 应该能够通过 X 和 Y 是否都为正来测试 B 所在的象限。如果我能让这种方法发挥作用，它可能是最好的，因为一个矩阵乘法应该比两个点积快，而且我不必担心哪一边的角度最小。

问题出在我的测试中，我不能简单地使用 A 和 C 作为基础并将其正常相乘并获得正确的行为。我真的不确定我在这里做错了什么。我已经多次遇到“向量空间”这个术语，据我所知，它似乎是一个与矩阵变换非常相似的概念，不需要正交基或正交基。它和矩阵一样吗？如果没有，是否有更好的方法，我将如何使用它？

只是为了更直观地解释我在说什么：

![粗略的例子](../Images/1acdd88c264d8a26a9fa2e9a65924feb.png)

@Aki Suihkonen 我似乎无法让它工作。编写了一个我可以通过的模拟案例，看看我是否无法弄清楚

对于这种情况，使用

斧头 2.9579773 Ay 3.315979

Cx 2.5879822 Cy 5.1630249

对于围绕四个象限旋转的 BI，向量将空间划分为。

我得到的迹象： - Q1 `--` - Q2 `+-` - Q3 `+-` - Q4`--`

假设我在环境中以与图像相同的方向旋转，我很确定我做了。

![象限](../Images/4133a084eeb8607e24d18297f739f5e4.png)

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2013-07-05T21:56:26.280

我认为 Aki 的解决方案很接近，但在某些情况下它不起作用：

从他的解决方案：

> ```
> return (ay * bx - ax * by) * (ay * cx - ax * cy) < 0; 
> ```

这相当于检查 B 和 A 之间的叉积是否与 C 和 A 之间的叉积具有相同的符号。

叉积 (U x V) 的符号告诉您 V 是位于 U 的一侧还是另一侧（板外，板内）。在大多数坐标系中，如果 U 需要逆时针旋转（板外），则符号为正。

因此，Aki 的解决方案检查 B 是否需要向一个方向旋转才能到达 A，而 C 是否需要向另一个方向旋转。如果是这种情况，则 B 不在 A 和 C 之内。当您不知道 A 和 C 的“顺序”时，此解决方案不起作用，如下所示：

![在此处输入图像描述](../Images/1e7c4b6ff533f43132756495f4469265.png)

要确定 B 是否在 A 和 C 之内，您需要同时检查两种方式。即从 A 到 B 的旋转方向应与从 A 到 C 的旋转方向相同，从 C 到 B 的旋转方向应与从 C 到 A 的旋转方向相同。

这减少到：

> ```
> if (AxB * AxC >= 0 && CxB * CxA >= 0)
> 
> // then B is definitely inside A and C 
> ```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-11-30T07:52:34.663

考虑这一点的一种方法是将所有这些向量 A、B、C 视为复数。

将 A、C 全部与 B*（B 的复共轭）相乘，得到的两个向量都将在复平面中*旋转*，因此参考轴 (B*Conj(B)) 现在是实轴（或 y = 0 ) - 并且不需要计算该轴。在这种情况下，只需检查“y”或虚数的符号是​​否不同。同样在这种情况下，两个结果向量都被缩放了相同的长度|B|。

```
`return sign(Imag(A * Conj(B))) != sign(Imag(C * Conj(B)));`

A = ax + i * ay; B = bx + i * by; C = cx + i * cy;
Conj(B) = bx - i * by; 
A * B = (ax * bx - ay * by) + i * (ax * by + ay * bx); 
```

我认为这个等式会带来更好的性能，因为只需要乘法的虚数部分。

作为一个完整的解决方案，这将转换为：

```
return (ay * bx - ax * by) * (ay * cx - ax * cy) < 0; 
```

中间乘法是以下的捷径：

```
return Sign(ay * bx - ax * by) != Sign(ay * cx - ax * cy); 
```

没有复数，这个问题也可以看成向量 B 为 { R *cos beta, R* sin beta }，可以表示为一个旋转矩阵。

```
R*[  cb -sb ]    [ bx -by ],   cb = cos(beta), sb = sin(beta)
  [  sb  cb ] =  [ by  bx ]    cos(-beta) = cos(beta), sin(-beta) = -sin(beta) 
```

将 [ax,ay], [cx,cy] 与缩放矩阵 [bx by, -by bx] 的*转置*相乘会影响 [ax, ay] * rotMatrix(-beta), [cx, cy] * rotMatrix 的长度(-beta) 以完全相同的方式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-11-30T10:33:18.533

In polar coordinates, you would just be asking if θ[A] < θ[B] < θ[C]. So transform to polar first:

```
a_theta = ax ? atan(ay / ax) : sign(ay) * pi 
```

# javascript - 动态添加更大的内容到 div

> ID：13640937
> 
> 赞同：0
> 
> 时间：2012-11-30T07:43:16.500
> 
> 标签：javascript, dojo

我正在使用当我将鼠标悬停在图像上时显示的 div。我想用这个 div 来显示图像信息。如何在 div 中添加几行内容？我发现的唯一解决方案是 div 的 innerHTML 属性，但这意味着我必须将它用于我想放在 div 上的 aech 值。有没有一种方法可以使用单个命令将更多内容放在 div 上。我想使用 javascript 或 dojo 来实现这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T08:46:06.153

每次使用 innerHTML 时，屏幕都必须重排/重绘。更好的模式是创建一个文档片段并在使信息“实时”之前“离线”更新它：

```
var p, t, frag;
divInf = document.createElement('div');
frag = document.createDocumentFragment();
p = document.createElement('p');
t = document.createTextNode('first line');
p.appendChild(t);
frag.appendChild(p);

p = document.createElement('p');
t = document.createTextNode('second line');
p.appendChild(t);
frag.appendChild(p);

divInf.appendChild(frag); 
```

# magento - Magento 管理菜单链接在升级后停止工作

> ID：13640938
> 
> 赞同：1
> 
> 时间：2012-11-30T07:43:19.543
> 
> 标签：magento

在升级到 之前`EE v1.12.0.2`，我们正在运行`v1.10.1.1`，此时此代码可以正常工作以向菜单添加外部链接。

```
<?xml version="1.0"?>
<config>
    <modules>
        <Clean_Integration>
            <version>1.0.0</version>
        </Clean_Integration>
    </modules>
    <global>
        <models>
            <customer>
                <rewrite>
                    <customer_api>Clean_Integration_Model_Customer_Customer_Api</customer_api>
                </rewrite>
            </customer>
        </models>
        <helpers>
            <coaching>
                <class>Clean_Integration_Helper</class>
            </coaching>
        </helpers>
    </global>
    <frontend>
        <layout>
            <updates>
                <Clean_Integration module="Clean_Integration">
                    <file>cleanintegration.xml</file>
                </Clean_Integration>
            </updates>
        </layout>
    </frontend>
    <adminhtml>
        <menu>
            <coaching translate="title" module="Integration">
                <title>Coaching</title>
                <sort_order>71</sort_order>
                <url>/appointments/sync/backend/</url>
            </coaching>
        </menu>
        <acl>
            <resources>
                <admin>
                    <children>
                        <coaching translate="title">
                            <title>Coaching</title>
                        </coaching>
                    </children>
                </admin>
            </resources>
        </acl>
    </adminhtml>
</config> 
```

我们有一个这样的链接`domain.com/appointments/sync/backend/`，但现在升级菜单条目出现，但它不再是一个链接。所以，我猜 Magento 发生了一些变化，这打破了这一点，有什么想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T10:43:23.407

```
<?xml version="1.0"?>
<config>
    <modules>
        <Clean_Integration>
            <version>1.0.0</version>
        </Clean_Integration>
    </modules>
    <global>
        <models>
            <customer>
                <rewrite>
                    <customer_api>Clean_Integration_Model_Customer_Customer_Api</customer_api>
                </rewrite>
            </customer>
        </models>
        <helpers>
            <integration>
                <class>Clean_Integration_Helper</class>
            </integration>
        </helpers>
    </global>
    <frontend>
        <layout>
            <updates>
                <integration>
                    <file>cleanintegration.xml</file>
                </integration>
            </updates>
        </layout>
    </frontend>
    <adminhtml>
        <menu>
            <integration translate="title" module="integration">
                <title>Coaching</title>
                <sort_order>71</sort_order>
                <action>appointments/sync/backend/</action>
            </integration>
        </menu>
        <acl>
            <resources>
                <admin>
                    <children>
                        <integration translate="title">
                            <title>Coaching</title>
                        </integration>
                    </children>
                </admin>
            </resources>
        </acl>
    </adminhtml>
</config> 
```

在 /app/code/local/Clean/Integration/Helper/Data.php 中创建

```
<?php
class Clean_Integration_Helper_Data extends Mage_Core_Helper_Abstract
{

} 
```

看看@[创建表单处理的示例管理模块](http://www.magentocommerce.com/wiki/5_-_modules_and_development/0_-_module_development_in_magento/how_to_create_an_admin_form_module)

# sql - 查询添加相同的列条目 WRT 其外键

> ID：13640943
> 
> 赞同：3
> 
> 时间：2012-11-30T07:43:29.730
> 
> 标签：sql, oracle11g

我有下表，带有属性：

```
vendor_invoicedetails
   Venid(Pk)
   ven_inv_ref(Fk)
   Item_Code
   Item_Name
   UnitPrice
   VenQuantity 
```

1.  我想将 with 相乘`unitPrice`以`VenQuantity`获得我对以下查询所做的总价

    ```
    select item_code, 
           VEN_INV_REF, 
           unitprice * ven_itemquantity as total
      from vendor_invoicedetails; 
    ```

2.  我想要的是将`TotalPrice`两个相同`Ven_inv_Ref(Fk)`列的总计相加。

![在此处输入图像描述](../Images/400d40969fc3905a75569a0a2adae068.png)

在上图中，我想对具有相同`VEN_INV_REF`编号的条目求和。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T07:57:05.170

试试这个：

```
DECLARE @datatable TABLE
   (
     ITEM_CODE NVARCHAR(32) PRIMARY KEY CLUSTERED,
     ven_inv_ref NVARCHAR(50),
     Item_Name NVARCHAR(50),
     UnitPrice FLOAT, 
     VenQuantity INT
   )

INSERT INTO @datatable
(ITEM_CODE, ven_inv_ref, UnitPrice, VenQuantity)
VALUES ('battery', 15, 100, 4)

INSERT INTO @datatable
(ITEM_CODE, ven_inv_ref, UnitPrice, VenQuantity)
VALUES ('ABCDE', 16, 200, 4)

INSERT INTO @datatable
(ITEM_CODE, ven_inv_ref, UnitPrice, VenQuantity)
VALUES ('A4', 16, 400, 4)

-- whats in the table   
SELECT * 
FROM @datatable

-- group by reference
SELECT 
    ven_inv_ref, 
    SUM(UnitPrice*VenQuantity) AS totalvalue 
FROM @datatable
GROUP BY ven_inv_ref 
```

结果

![在此处输入图像描述](../Images/9713b1abc3792efda46b6a33f46c38d7.png)

# ruby-on-rails-3 - 如何下载 facebook 用户个人资料图片并将其上传到我的 rails3 应用程序

> ID：13640949
> 
> 赞同：1
> 
> 时间：2012-11-30T07:44:20.013
> 
> 标签：ruby-on-rails-3, omniauth

我试图使用omniauth 从facebook 检索用户个人资料图片。但它提供了一个 auth_hash，它有一个[http://graph.facebook.com/id/picture?type=normal](http://graph.facebook.com/id/picture?type=normal)形式的链接。请告诉我如何从检索到的链接下载图像并将其上传到我的 rails3 应用程序的注册页面。

# c# - 为什么不能设置公共变量？

> ID：13640951
> 
> 赞同：3
> 
> 时间：2012-11-30T07:44:26.050
> 
> 标签：c#, variables

我正在尝试设置以下公共变量：

```
var collection = new Dictionary<string, Statistics>(); 
```

我希望能够在我的应用程序中使用相同的集合，因此我想在应用程序启动时在顶部创建它。

我该怎么做？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-30T07:46:45.740

C#中没有**全局变量的概念。**您**总是**必须在某个类/范围内声明变量。

您*可以*`public`做的是通过修饰符使其可访问，例如属性（例如）。

只是一个想法：

```
public class Shared
{
     public Dictionary<string, Statistics> CollectionDic {get;set;}

     public Shared() {
        CollectionDic  = new Dictionary<string, Statistics>();
     }
} 
```

之后您可以像这样访问它：

```
var shared = new Shared(); 
shared.CollectionDic.Add(..)
... 
```

你必须自己锻炼，什么适合你的确切需求。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-11-30T07:48:09.117

您可以将其创建为公共类中的公共静态字段或属性（也可以是静态的）：

```
public class Variables
{
    public static Dictionary<string, Statistics> collection = new Dictionary<string, Statistics>();
} 
```

然后在代码中访问它：

```
Variables.collection.Add(...); 
```

请注意，这不是线程安全的方法。因此，如果您打算在多线程应用程序中使用静态字典，最好使用静态方法，以线程安全的方式包装字典（如 Jon Skeet 所述）或使用线程安全的集合，例如[ConcurrentDictionary](http://msdn.microsoft.com/ru-ru/library/dd287191.aspx)。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-11-30T07:49:06.663

你得到的错误是：

> 上下文关键字“var”只能出现在局部变量声明中

我相信您正在尝试将您的收藏定义为：

```
public partial class Form1 : Form
{
    var collection = new Dictionary<string, Statistics>(); 
```

您不能`var`在此级别使用关键字，

> 我希望我的所有 Form1.cs 都可以访问它，而不是不同的 .cs 文件

你可以这样定义它：

```
Dictionary<string, Statistics> collection = new Dictionary<string, Statistics>(); 
```

它将可用于 Form1 类中的所有方法

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-11-30T07:45:58.713

## 编辑

OP 的评论显示，要求只能通过一个 .cs 代码访问变量。请忽略以下内容，如果您认为此答案对于该主题的未来访问者的问题不是有价值的补充，请投票删除。或者投赞成票，如果你认为它有足够的附加值留下来。

* * *

**我对原始问题的意思是，关于*`I want to be able to use the same collection all through my application`***

在面向对象的环境中，如果这是重构/重构应用程序无法超越的要求，则绝对应该使用[单例设计模式](http://csharpindepth.com/Articles/General/Singleton.aspx)

单例是一种模式，它保证只存在给定类的一个实例（当然，每个应用程序上下文/虚拟机），并且可以在同一应用程序的上下文中从任何地方访问该实例。

那是：

*   创建一个类（例如，通过名称 MyDictionary）
*   实现您想要的必要功能（您希望它独立于底层实现）
*   按照文章使其成为单身人士
    *   决定是否需要延迟加载
    *   我建议在处理单例时始终使用线程安全实现以避免不必要的后果。
*   随时随地访问

**示例：（**来自 C#Indepth 链接，第二版，具有简单的线程安全，请注意文章的作者是谁！）

```
public sealed class Singleton
{
    private static Singleton instance = null;
    private static readonly object padlock = new object();

    Singleton()
    {
    }    

    public static Singleton Instance
    {
        get
        {
            lock (padlock)
            {
                if (instance == null)
                {
                    instance = new Singleton();
                }
                return instance;
            }
        }    
    }
} 
```

**请注意**始终将线程安全考虑在内！

当我收到@JonSkeet 的回复（哎呀！）时，我想我必须解释我的回答背后的理由：

**优点：**

*   这比有一些非标准的方式要好
*   这比必须将它传递给存在的每一位代码要好

**缺点：**

*   **如果可以通过任何方式**规避此要求，则绝对不推荐
***   周围有一个单例映射是一种**严重的恶臭**：在应用程序的整个生命周期中保持引用，经常导致大量泄漏*   多线程行为并非微不足道，如果某些行为很少发生（隐藏的竞争条件，以及在噩梦中潜伏在程序员床底下的任何其他东西），则特别难以追究**

 **还推荐阅读：

*   [单例模式 Wiki](http://en.wikipedia.org/wiki/Singleton_pattern)
*   [MSDN：在 C# 中实现单例](http://msdn.microsoft.com/en-us/library/ff650316.aspx)
*   [对 C#Indepth on Stack Overflow 上的文章的澄清——作者本人](https://stackoverflow.com/questions/2550925/singleton-by-jon-skeet-clarification)**

# css - zurb 基金会在订购移动设备和堆叠时遇到问题导致表单输入无法点击

> ID：13640954
> 
> 赞同：1
> 
> 时间：2012-11-30T07:44:42.790
> 
> 标签：css, sass, zurb-foundation

我正在使用 zurb 基金会来帮助我使网站具有响应性。这个想法是标题应该在更大的屏幕上看起来像这样（确实如此）：

```
####### |------ Search ----------| %%%%%%%%%%% 
```

这在较小的屏幕上（它没有）：

```
###### %%%%%%%%%%
|---- Search ---| 
```

有两个问题。第一个是移动端实际上是这样的：

```
###### 
|---- Search ---|
       %%%%%%%%%% 
```

第二个是**搜索栏不可点击**。我尝试更改 z-index 并使该行显示隐藏内容，但无济于事。对于布局，我尝试了推拉移动，但这只会让事情变得更糟。*布局代码如下。*

有趣的是，搜索按钮仍然显示，并且是可点击的，即使它不应该*显示*，并且与搜索栏的形式相同。

我想用 zurb 基础做的事情是可能的吗？我真的非常想避免使用两种不同的搜索表单...

* * *

我将zurb基础的scss变量更改为以下仅供参考

```
$totalColumns: 16;
$mobileTotalColumns: 8;
$columnGutter: 0; 
```

我有一个像这样的标题：

```
<div class="row">
   <div class="three mobile-three columns"></div>
   <div id="search" class="eight mobile-eight columns">
      <div class="row">
         <div class="thirteen mobile-eight columns">
            <!-- text input for search -->
         </div>
         <div class="hide-on-phones hide-on-tablets three columns">
            <!-- Submit button for search -->
         </div>
      </div>            
   </div>
   <nav class="five mobile-five columns">
      <ul class="right">
         <li><%= link_to 'Teams', '#' %></li>
         <li><%= link_to 'Records', '#' %></li>
         <li><%= link_to 'Settings', '#' %></li>
      </ul>
   </nav>
</div> 
```

提前感谢您的任何提示或建议！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-01T17:06:10.627

我在 git hub 上创建了一个项目来演示所需的行为。

[https://github.com/EdCharbeneau/foundation-ordering-stacking-help](https://github.com/EdCharbeneau/foundation-ordering-stacking-help)

您需要结合使用**移动列**和**源排序**以及媒体查询来实现您想要做的事情。

*注意：该示例使用 HTML/CSS 版本，而不是 Ruby/SASS 版本。但这不会影响代码的工作方式。*

# android - Android：如何从服务获取变量到 tabhost 子活动

> ID：13640956
> 
> 赞同：0
> 
> 时间：2012-11-30T07:44:46.843
> 
> 标签：android, user-interface, service, android-tabhost, childactivity

我有一个包含 3 个子活动的 Tabhost

1)TabbarExample.java //标签活动

2)FirstTab.java //子活动

3)SecondTab.java // 子活动

4)ThirdTab.java //子活动

因此，对于 tabhost 的第一个子活动，getApplicationContext.bindService() 工作正常，我可以从服务中获取数据并在 UI 上显示。

实际情况是我正在访问从远程服务到第一个子活动的值（比如速度、温度）并在 UI 上显示

对于 tabhost 的第二个子活动，我是否需要重复我在第一个子活动中的相同代码。

我不想为 tabhost 的第二个和第三个子活动重复相同的代码。

对于第二个子活动（SecondTab.java），我做了一些更改，但 UI 没有获取数据。

在第二个子活动中，我没有得到显示的数据，而是得到了错误。

```
 @Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.hvacpass);
    // ((SecondTab) getApplicationContext()).doBindService();
    // doBindService();
    try {
        passcurtempcount = (TextView) findViewById(R.id.passcurtempcount);

        hvactemppass = remoteService.getHvacTemppass(); //GETTING ERRORS HERE
        passcurtempcount.setText(Integer.toString(hvactemppass));
        Toast.makeText(SecondTab.this, "Connected", Toast.LENGTH_SHORT)
                .show();
    } catch (RemoteException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } 
}

public void onServiceConnected(ComponentName className, IBinder boundService) {
    // TODO Auto-generated method stub
    doBindService();

    remoteService = IMyRemoteService.Stub
            .asInterface((IBinder) boundService);
    Log.d(getClass().getSimpleName(), "onServiceConnected()");

    Intent i = new Intent();
    i.setClassName("com.msat.home.clusterservices",
            "com.msat.home.clusterservices.RemoteService");
    getApplicationContext().startService(i);
    getApplicationContext().bindService(i, this, Context.BIND_AUTO_CREATE);

    if(startService(i) != null) { 
        Toast.makeText(getBaseContext(), "service is already running", Toast.LENGTH_SHORT).show();
    }else {
        Toast.makeText(getBaseContext(), "There is no service running, starting service..", Toast.LENGTH_SHORT).show();
    }

}

public void onServiceDisconnected(ComponentName className) {
    // TODO Auto-generated method stub
    remoteService = null;

}

public void doBindService() {

    getApplicationContext().bindService(
            // getApplicationContext() fixed the problem here.
            new Intent(getApplicationContext(), FirstTab.class), conn,
            Context.BIND_AUTO_CREATE);

} 
```

这些是错误消息

```
 09-06 12:58:55.160: E/AndroidRuntime(2512): FATAL EXCEPTION: main
      09-06 12:58:55.160: E/AndroidRuntime(2512): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.hvaccontroller.msat/com.hvaccontroller.msat.SecondTab}: java.lang.NullPointerException
      09-06 12:58:55.160: E/AndroidRuntime(2512):   at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1650)
      09-06 12:58:55.160: E/AndroidRuntime(2512):   at android.app.ActivityThread.startActivityNow(ActivityThread.java:1487)
     09-06 12:58:55.160: E/AndroidRuntime(2512):    at android.app.LocalActivityManager.moveToState(LocalActivityManager.java:127)
     09-06 12:58:55.160: E/AndroidRuntime(2512):    at android.app.LocalActivityManager.startActivity(LocalActivityManager.java:339)
     09-06 12:58:55.160: E/AndroidRuntime(2512):    at android.widget.TabHost$IntentContentStrategy.getContentView(TabHost.java:654)
     09-06 12:58:55.160: E/AndroidRuntime(2512):    at android.widget.TabHost.setCurrentTab(TabHost.java:326)
     09-06 12:58:55.160: E/AndroidRuntime(2512):    at android.widget.TabHost$2.onTabSelectionChanged(TabHost.java:132)
     09-06 12:58:55.160: E/AndroidRuntime(2512):    at android.widget.TabWidget$TabClickListener.onClick(TabWidget.java:456)
    09-06 12:58:55.160: E/AndroidRuntime(2512):     at android.view.View.performClick(View.java:2485)
    09-06 12:58:55.160: E/AndroidRuntime(2512):     at android.view.View$PerformClick.run(View.java:9080)
    09-06 12:58:55.160: E/AndroidRuntime(2512):     at android.os.Handler.handleCallback(Handler.java:587)
   09-06 12:58:55.160: E/AndroidRuntime(2512):  at android.os.Handler.dispatchMessage(Handler.java:92)
   09-06 12:58:55.160: E/AndroidRuntime(2512):  at android.os.Looper.loop(Looper.java:130)
    09-06 12:58:55.160: E/AndroidRuntime(2512):     at android.app.ActivityThread.main(ActivityThread.java:3686)
    09-06 12:58:55.160: E/AndroidRuntime(2512):     at java.lang.reflect.Method.invokeNative(Native Method)
    09-06 12:58:55.160: E/AndroidRuntime(2512):     at java.lang.reflect.Method.invoke(Method.java:507)
    09-06 12:58:55.160: E/AndroidRuntime(2512):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
    09-06 12:58:55.160: E/AndroidRuntime(2512):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
    09-06 12:58:55.160: E/AndroidRuntime(2512):     at dalvik.system.NativeStart.main(Native Method)
    09-06 12:58:55.160: E/AndroidRuntime(2512): Caused by: java.lang.NullPointerException
    09-06 12:58:55.160: E/AndroidRuntime(2512):     at com.hvaccontroller.msat.SecondTab.onCreate(SecondTab.java:37)
    09-06 12:58:55.160: E/AndroidRuntime(2512):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
    09-06 12:58:55.160: E/AndroidRuntime(2512):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1614)
    09-06 12:58:55.160: E/AndroidRuntime(2512):     ... 18 more 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T08:37:15.493

看起来 onCreate 中的 remoteService 没有初始化，这就是你得到 NullPointerException 的原因。您在 onServiceConnected 方法中初始化 remoteService 但不要在那里使用它。除非它是一个成员变量并且 onServiceConnected 在 onCreate 方法之前没有被调用。

这可能解释了你得到的错误，不知道你问的是什么——你能澄清一下吗？

# php - PHP日期转换dd[th/st/rd]/month/yyyy

> ID：13640959
> 
> 赞同：32
> 
> 时间：2012-11-30T07:44:53.883
> 
> 标签：php, date

我让我的用户以这种格式输入日期：-`mm/dd/yyyy (11/21/2012)`

我的 PHP 脚本将日期转换为以下格式：-`dd-Month-yyyy (21-November-2012)`

我这样做使用： -

```
$new_date = date('d-F-Y', strtotime($user_date)); 
```

我怎样才能有这种格式的日期:- `21st November 2012`？

谢谢

* * *

## 回答 #1

> 赞同：79
> 
> 时间：2012-11-30T07:46:46.387

您可以使用`S`以下字母：

```
$new_date = date('jS F Y', strtotime($user_date)); 
```

检查[手册](http://php.net/date)。

* * *

## 回答 #2

> 赞同：19
> 
> 时间：2015-03-26T09:42:27.587

它将按您的预期输出

```
$my_date = '2016-01-01';

echo date('F jS, Y', strtotime($my_date));
# January 1st, 2016 
```

而***dS***也会在前面加上***0***

```
echo date('F dS, Y', strtotime($my_date));
# January 01st, 2016 
```

* * *

## 回答 #3

> 赞同：9
> 
> 时间：2018-01-08T11:16:18.400

```
$new_date = date('jS F Y', strtotime($date)); 
```

`S`- 日期的英文序数后缀，2 个字符（**st**、**nd**、**rd**或**th**。适用于**j**）

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2019-07-11T17:32:56.127

你可以使用类似的东西：

```
echo date('l, F jS'); 
```

甚至对 HTML 有点花哨：

```
echo date('l, F j<\s\u\p>S</\s\u\p>'); 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2017-05-22T06:08:00.143

```
**My Date = 22-12-1992**
<?php
    $mydate = "22-12-1992";
    $newDate = date("d M Y", strtotime($mydate));
    $new_date = date('dS F Y', strtotime($newDate));
    echo $new_date;
?>

**OutPut = 22nd December 1992** 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2021-02-18T07:54:20.417

你可以这样做：

```
<?php echo date('dS M. Y');?> 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-09-30T15:22:05.503

`$date = date_create('09-22-2012');
echo $date->format('d S F Y');` 通过这个代码，你会得到你的愿望

有关更多信息，您还可以访问[http://php.net/manual/en/datetime.formats.date.php](http://php.net/manual/en/datetime.formats.date.php)

# html - 在一个网页中叠加三个 div

> ID：13640960
> 
> 赞同：0
> 
> 时间：2012-11-30T07:44:59.080
> 
> 标签：html, css

我试图在这里覆盖三个容器以对它们进行不同的操作。这三个容器是

```
body: z-index 1
div (that has to be be same size as that of body to be used for fading the background): z-index 2
canvas div (for animations over the faded background): z-index 3 
```

这是我试图覆盖三个 div 以获得上述效果但由于未知原因而无法正常工作的小提琴。[http://jsfiddle.net/NXBg5/1/](http://jsfiddle.net/NXBg5/1/)

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:53:52.843

`{`首先，缺少一个开口。

此外，您应该设置 html 和 body 大小，因为如果您的页面上没有内容或内容很少，它们将不会占用整个可见大小。

最后，你应该把你的第二个 div 放进去，`position: absolute`这样它就不会把你的画布推到页面之外。

最终版本：http: [//jsfiddle.net/62pJr/](http://jsfiddle.net/62pJr/)

# css - ember.js 文本字段和 css (twitter bootstrap)

> ID：13640963
> 
> 赞同：2
> 
> 时间：2012-11-30T07:45:33.657
> 
> 标签：css, ember.js

我想在 an 上添加一些样式`Ember.Textfield`，即：`style="max-width: 100%;"`. 我试图做到这一点，`attributeBinding`但没有太大的成功。有人有可行的解决方案吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-11-30T10:55:55.083

尽管您应该更好地使用 CSS 类名，但您可以扩展 Ember.TextField 并将“样式”添加到属性绑定

```
App.StyledTextField : Ember.TextField.extend({
  attributeBindings: ['style', 'type', 'value', 'size']
}) 
```

现在你可以做这样的事情：

```
{{view App.StyledTextField 
  style="max-width: 100%"}} 
```

# c# - 检查两个文本框值 (JavaScript)

> ID：13640965
> 
> 赞同：-6
> 
> 时间：2012-11-30T07:45:40.620
> 
> 标签：c#

```
Validate the Textbox to find if the values are different. 
```

Textbox1.text!=textbox2.Text -- 有效

Textbox1.text==textbox2.Text -- 无效

仅当值不同时才接受验证。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T07:55:06.057

也许你需要这个：

bool someVariable = Textbox1.text!=textbox2.Text ? 真假;

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T08:04:31.093

```
var valid = false;

if(Textbox1.Text.Equals(Textbox2.Text))
{
    valid = true;
}

//Do something with valid 
```

# php - 如何从文本文件更新实时图形？

> ID：13640970
> 
> 赞同：0
> 
> 时间：2012-11-30T07:46:07.857
> 
> 标签：php, html, ajax, solaris

我打算在不刷新页面的情况下从文本文件中显示实时图表 on.php/html。目前，我在以下过程中遇到了问题。

源文件：包含数据的 .txt 文件，源自 Solaris 服务器。

1) 定期从 solaris 服务器向服务器请求数据。（假设目标文件夹指定为 /home/sadm/htdocs/00000001/updateShop）

2) 从文本文件 (inventory.txt) 中检索数据

3）解析数据以添加新行，例如。从文本文件中的 (2008-1-6:33322:39463) 到

> [新日期(2008, 1 ,6), 33322, 未定义, 未定义, 39463, 未定义, 未定义]

如果我没有错，它需要我使用 AJAX 来完成，但我无法让它工作。我可以要求对 3 步过程进行编码吗？

非常感谢任何形式的帮助。

我使用的 google graph API 代码如下所示，以供参考。

```
<html>
  <head>
    <script type='text/javascript' src='http://www.google.com/jsapi'></script>
    <script type='text/javascript'>
      google.load('visualization', '1', {'packages':['annotatedtimeline']});
      google.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = new google.visualization.DataTable();
        data.addColumn('date', 'Date');
        data.addColumn('number', 'Sold Pencils');
        data.addColumn('string', 'title1');
        data.addColumn('string', 'text1');
        data.addColumn('number', 'Sold Pens');
        data.addColumn('string', 'title2');
        data.addColumn('string', 'text2');
        data.addRows([
          [new Date(2008, 1 ,1), 30000, undefined, undefined, 40645, undefined, undefined],
          [new Date(2008, 1 ,2), 14045, undefined, undefined, 20374, undefined, undefined],
          [new Date(2008, 1 ,3), 55022, undefined, undefined, 50766, undefined, undefined],
          [new Date(2008, 1 ,4), 75284, undefined, undefined, 14334, 'Out of Stock','Ran out of stock on pens at 4pm'],
          [new Date(2008, 1 ,5), 41476, 'Bought Pens','Bought 200k pens', 66467, undefined, undefined],
          [new Date(2008, 1 ,6), 33322, undefined, undefined, 39463, undefined, undefined]
        ]);

        var chart = new google.visualization.AnnotatedTimeLine(document.getElementById('chart_div'));
        chart.draw(data, {displayAnnotations: true});
      }
    </script>
  </head>

  <body>
    // Note how you must specify the size of the container element explicitly!
    <div id='chart_div' style='width: 700px; height: 240px;'></div>

  </body>
</html> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T08:15:12.080

你是对的，你需要使用 ajax 来更新页面而不刷新——你可能想使用 jquery 或 prototype.js 之类的库来使 ajax 处理更容易一些。您需要设置一个以某个定义的频率触发的定时事件（使用库也很容易）然后您制作一个 php 脚本来返回您想要的数据。根据数据集的更新频率和定时事件触发的频率，您可能会遇到两个问题：您调用数据，但没有新数据，可能您不希望同一行重复两次，或者您调用数据并且有两个（或更多）新行，我猜您想要所有这些行。

请记住，尽管 ajax 中的 X 最初表示 xml，但通常更容易使用其他格式进行传输，json 甚至纯文本。

希望这可以为您提供一些指导。（从后端服务器开始通常是有意义的（嗯，至少，我经常这样做......），如果你用 get-parameters 调用它，你可以很容易地在浏览器中测试它，看看你得到了你期望的结果)

# php - 如何使用 web 服务将 json 数组发布到 PHP 服务器

> ID：13640973
> 
> 赞同：1
> 
> 时间：2012-11-30T07:46:39.293
> 
> 标签：php, iphone, json, web-services

我正在使用以下代码将数组发送到 php 服务器，但在 php 端它们没有得到任何值。我将数组作为 json 字符串发送。

```
- (void)postArray {
//Create the URL request
    NSMutableURLRequest *request = [[NSMutableURLRequest alloc] initWithURL:[NSURL URLWithString:@"http://test.com./t.php"]];
    NSMutableArray *array = [[NSMutableArray alloc] init];
    [array addObject:@"one"];
    [array addObject:@"Two"];
    [array addObject:@"three"];
    [array addObject:@"four"];
    [request setHTTPMethod:@"POST"];
   // NSDictionary *dict = [NSDictionary dictionaryWithObjectsAndKeys:array,@"comment", nil];
    SBJSON *parser =[[SBJSON alloc] init];
   // NSString *jsonString = [parser stringWithObject:dict];
    NSString *jsonString = [parser stringWithObject:array];
    NSLog(@"Str %@",jsonString);
    [request setValue:@"application/x-www-form-urlencoded"
   forHTTPHeaderField:@"Content-Type"];
    [request setValue:jsonString forHTTPHeaderField:@"comment"];
   [NSURLConnection sendAsynchronousRequest:request queue:[NSOperationQueue mainQueue]  completionHandler:^(NSURLResponse *response, NSData *data, NSError *error) {

        NSHTTPURLResponse *HTTPResponse = (NSHTTPURLResponse *)response;
        NSInteger statusCode = [HTTPResponse statusCode];

        if (statusCode==200) {

            //Request goes in success
            NSError* error;
            NSMutableDictionary* json = [NSJSONSerialization
                                         JSONObjectWithData:data //1
                                         options:kNilOptions
                                         error:&error];
            NSString *str = [[NSString alloc] initWithData:data encoding:NSUTF8StringEncoding];

            NSLog(@"Json for post array ----------%@",str);

        }else{

            ///request is get failed

            NSLog(@"Error Description %@",[error description]);
        }
    }];

    [request release];

} 
```

php的输出是

> <pre><br>这是从 Iphone 获得的响应<br>第一个<br><br>第一个<br>第二个接收 json 响应并解码 json 响应<br><br>nullThird 从 commaArray ( [0 ] =>)

这是php代码

```
<?php

echo "<pre>";
echo "<br>";
//echo "Testing array";
$totalitem=$_POST['total'];
echo "This is response getting from the Iphone";
echo "<br>";
echo "First";
echo $jsonarray1=$_POST['comment'];
echo "<br>";
print_r($jsonarray1);
echo "<br>";
echo "end First";
echo "<br>";

echo "Second receive json response and decode the json response";
echo "<br>";
echo $comment=$_POST['comment'];
echo "<br>";
$jsonarray=json_decode($comment);
echo json_encode($jsonarray);

echo "Third Breaking from comma";
echo "<br>";
$allval=explode(',',$jsonarray1);
print_r($allval);

?> 
```

请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-06-23T15:58:02.373

这是一种简洁而简单的方法。在您的 xcode 实现文件中创建如下方法：

注意：请记住根据您的需要对其进行自定义。重要的一点是传递名为“requestArray_”的请求数组。`http://localhost/test/index.php`用您想要的 url 更改 url 位

```
-(NSArray *) setRequestWithRequestArray:(NSArray *)requestArray_{
    NSError *error;
    NSData *jsonData = [NSJSONSerialization dataWithJSONObject:requestArray_
                                                       options:NSJSONWritingPrettyPrinted error:&error];
    NSString *jsonString = [[NSString alloc] initWithData:jsonData encoding:NSUTF8StringEncoding];

    NSString *post = [NSString stringWithFormat:@"requestArray=%@", jsonString];

    NSData *postData = [post dataUsingEncoding:NSASCIIStringEncoding allowLossyConversion:NO];

    NSString *postLength = [NSString stringWithFormat:@"%d", [postData length]];
    NSMutableURLRequest *request = [[NSMutableURLRequest alloc] init];
    [request setURL:[NSURL URLWithString:@"http://localhost/test/index.php"]];
    [request setHTTPMethod:@"POST"];
    [request setValue:postLength forHTTPHeaderField:@"Content-Length"];
    [request setValue:@"application/x-www-form-urlencoded;charset=UTF-8" forHTTPHeaderField:@"Content-Type"];
    [request setHTTPBody:postData];

    NSURLResponse *response;
    NSError *errors = nil;

    NSData *POSTReply = [NSURLConnection sendSynchronousRequest:request returningResponse:&response error:nil];

    NSArray *jsonArray = [NSJSONSerialization JSONObjectWithData:POSTReply options:0 error:&errors];

    NSLog(@"request %@", request);
    NSLog(@"jsonArray%@",jsonArray);

    return jsonArray;
} 
```

在你的 php 中创建一个像这样的测试方法：

```
$Array = $_POST["requestArray"];
function testMethod($Array){
        $get_result = array();
        $get_result = json_decode($Array);

        foreach($get_result as $key1 => $value){
            $result = array(
                    $key1 => $value, 
                    $key1 => $value, 
                    $key1 => $value, 
                    $key1 => $value
            );
        }

        sendResponse(200, json_encode($result));
            return true;
    } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T07:53:19.177

尝试以下代码可能对您有所帮助。尝试创建一个 NSMutableDictionary 然后 POST。

```
 NSMutableDictionary *dictionnary = [NSMutableDictionary dictionary];
        [dictionnary setObject:@"First" forKey:@"First"];

        NSError *error = nil;
        NSData *jsonData = [NSJSONSerialization dataWithJSONObject:dictionnary
                                                           options:kNilOptions
                                                             error:&error];   

        NSString *urlString =@"Your URL";

        NSURL *url = [NSURL URLWithString:urlString];
 NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url];
        [request setHTTPMethod:@"POST"];

        [request setHTTPBody:jsonData];
        NSURLResponse *response = NULL;
        NSError *requestError = NULL;
        NSData *responseData = [NSURLConnection sendSynchronousRequest:request returningResponse:&response error:&requestError];
        NSString *responseString = [[NSString alloc] initWithData:responseData encoding:NSUTF8StringEncoding] ;
         NSLog(@"%@", responseString); 
```

# html - 工具提示无法显示

> ID：13640977
> 
> 赞同：1
> 
> 时间：2012-11-30T07:46:53.193
> 
> 标签：html, tooltip

### 我的工具提示有问题。

1.  工具提示无法显示
2.  我想在表格和 div 前面设置 z-index 工具提示

这是我在 JSFiddle 中的演示：http: [//jsfiddle.net/WcjBh/](http://jsfiddle.net/WcjBh/)

有人可以给出想法吗？感谢帮助。

```
a.tooltip
{
position: relative;
display: inline-block;
}

a.tooltip span
{
position: absolute;
width: 100px;
padding: 0px;
right: 50%;
font-size: 10px;
line-height: 16px;

text-align: center;
visibility: hidden;
bottom: 40px;

opacity: 0;

-webkit-border-radius: 6px;
-moz-border-radius: 6px;
border-radius: 6px;

-webkit-transition: all 0.2s ease-in-out;
-moz-transition: all 0.2s ease-in-out;
-o-transition: all 0.2s ease-in-out;
-ms-transition: all 0.2s ease-in-out;
transition: all 0.2s ease-in-out;
}

a.tooltip span:after
{
content: '';
position: absolute;
bottom: -14px;
left: 50%;
margin-left: -9px;
width: 0;
height: 0;
border-left: 10px solid transparent;
border-right: 10px solid transparent;
}

a:hover.tooltip span
{
opacity: 1;
visibility: visible;
bottom: 30px;
z-index: 100;
}

a.ttblue span
{
background: #488AC7;
border: 4px solid #488AC7;
color: #FFF;
}

a.ttblue span:after
{
border-top: 10px solid #488AC7;
} 
```

html

```
<div class="content">
<table>
    <td><a href="" class="tooltip ttblue">David<span>My Name is David</span></a></td>
</table>
</div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-30T07:50:10.110

### 您给出了`bottom`错误的`right`价值观。他们应该是：

```
bottom: 0px;
right: auto;
left: -100%; 
```

### 演示：http: [//jsfiddle.net/WcjBh/4/](http://jsfiddle.net/WcjBh/4/)

# ios - 错误“此应用无权访问您的照片”

> ID：13640986
> 
> 赞同：0
> 
> 时间：2012-11-30T07:47:48.257
> 
> 标签：ios, cocoa-touch

我的应用程序在 iPhone 5 上运行良好，但在具有相同 iOS 6.0 的 iPhone 4 中出现问题。

问题是：当我尝试打开照片库时，出现“此应用无法访问您的照片和视频”的问题？

如何以编程方式在我的应用程序中解决这个问题？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-11-30T08:24:41.887

应用程序中没有您可以做的事情。当您第一次尝试访问图书馆时，iOS 会询问用户应用程序是否可以访问图书馆/照片。在您的情况下，使用 iphone 4 的用户点击了“否”。同时在 settings/privacy/photos/ 中创建一个条目，其中包含您的应用程序的显示名称和您的小设置图标（如果您提供了一个 - 否则标准图标将自动缩小）

去那里并从关闭切换到打开。

不要期望此开关在应用程序运行时生效。除了地址簿，而不是照片，我什至观察到在应用程序运行时更改此设置时会出现一些崩溃。

# ios - Interface Builder 中的 UI 与设备上的 UI 不匹配

> ID：13640992
> 
> 赞同：3
> 
> 时间：2012-11-30T07:48:11.037
> 
> 标签：ios

我对 iOS 开发完全陌生。刚开始在 Xcode 4 中工作。我使用 IB 构建 UI，但是在模拟器上运行它或实际设备 UI 呈现不同（我在设备或模拟器上得到重叠的按钮，尽管一切都在 IB 中正确显示）。没有一个控件是用代码创建的。一切都是在 IB 中完成的。我在 IB 中复制了一些按钮，因为它们执行相同的逻辑并连接到相同的 IBAction。我检查了视图层次结构 - 一切看起来都正确。

知道可能是什么原因造成的吗？

谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T07:53:42.467

看看你的 xib 的模拟指标选项。检查附加的屏幕截图。![在此处输入图像描述](../Images/5a4074c31c76b4e4880834bb8fab395e.png)

# java - Ruby（服务器）-Java（客户端）连接错误

> ID：13640993
> 
> 赞同：2
> 
> 时间：2012-11-30T07:48:12.533
> 
> 标签：java, ruby, json, sockets

（在同一台机器上运行服务器和客户端，因此在客户端代码中使用 localhost）基本上我有这个程序所做的就是向客户端发送一个字符串，他稍后将转换为 json。但客户端部分的转换不是我的错误。当我从我的请求套接字继续执行 ObjectInputStreams (in) 和 ObjectOuputStreams(out) 时，它在客户端 (java) 上成功连接到我的服务器 (ruby)....out = requestSocket.getOutputStream() 工作正常但in = requesSocket.getInputStream() 给了我一个 IOException .. 我尝试了一切，但仍然无法解决这个问题，感谢任何帮助。PD：这不是硬件，只是我在玩，想学习不同语言之间的交互。

这是客户端的错误：

```
java.net.SocketException: Software caused connection abort: recv failed
at java.net.SocketInputStream.socketRead0(Native Method)
at java.net.SocketInputStream.read(Unknown Source)
at java.net.SocketInputStream.read(Unknown Source)
at sun.nio.cs.StreamDecoder.readBytes(Unknown Source)
at sun.nio.cs.StreamDecoder.implRead(Unknown Source)
at sun.nio.cs.StreamDecoder.read(Unknown Source)
at java.io.InputStreamReader.read(Unknown Source)
at java.io.BufferedReader.fill(Unknown Source)
at java.io.BufferedReader.readLine(Unknown Source)
at java.io.BufferedReader.readLine(Unknown Source) 
```

红宝石代码（服务器）

```
require 'rubygems'
require 'socket'
require 'json'

jsonString = '{"test":23, "prueba":1234}'
serverB = TCPServer.new(2000) 

loop{#server runs forever
Thread.start(serverB.accept) do |client|
    client.write(jsonString)
    client.close    #disconnect from the client
end

} 
```

JAVA代码（客户端）--->更新

```
import java.io.*;
import java.net.*;

import org.json.simple.*;
public class json 
{
public static void main(String[] args) throws InterruptedException, ClassNotFoundException
{
    Socket requestSocket;
    ObjectOutputStream out;
    ObjectInputStream in;   
    try {
        //creating a socket to connect to the server
        requestSocket = new Socket("localhost",2000);
        //Get input and output streams
        out = new ObjectOutputStream(requestSocket.getOutputStream());
        out.flush();

                    //THIS WORKS NOW
        BufferedReader in = new BufferedReader(new InputStreamReader(requestSocket.getInputStream()));

                    //THIS IS WHERE IT FAILS NOW
        String jsonString = in.readLine();
        String msg = JSONValue.toJSONString(jsonString);

        //Convert string to JSON format and print something
        Object obj = JSONValue.parse(msg);
        JSONObject jobj = (JSONObject)obj;
        System.out.print(jobj.get("test"));

        try {
            in.close();
            out.close();
            requestSocket.close();
        } catch (Exception e2) {
            e2.printStackTrace();
        }
    } catch (IOException e) 
    {
        e.printStackTrace();
    }

} 
```

}

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-30T23:53:52.657

我测试了您的代码，但您仍然遇到运行`ObjectOutputStream`. 注释掉这两行（以 结尾的`out.flush()`）。

现在你也在打电话`readLine()`，所以这意味着`BufferedReader`期待一条线。行是以 . 结尾的东西`"\r\n"`。

所以解决方法是将其添加到 Ruby 代码中：

```
Thread.start(serverB.accept) do |client|
  client.write(jsonString)
  client.write("\r\n")
  client.close
end 
```

像这样运行它对我有用（Linux Ubuntu）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-11-30T12:10:11.213

不能使用 ObjectInputStream 读取 JSON 字符串，必须将其读取为字符串，然后使用 json 包将其转换为对象。

ObjectInputStream 用于读取二进制序列化的 java 对象，它与 json 无关。

# c# - 返回一个通用的隐式引用

> ID：13640996
> 
> 赞同：2
> 
> 时间：2012-11-30T07:48:23.920
> 
> 标签：c#, .net, generics

```
public class Display<T> where T : class, IDisplay<T>
{
    public List<T> MyList { get; set; }
    public int Total { get; set; }

    public Display(List<T> myList, int total)
    {
        MyList = myList;
        Total = total;
    }
}

public interface IDisplay<T> where T : class
{
    List<T> MyList { get; set; }
    int Total { get; set; }
}

MyClass() : IMyClass
{
}

public interface IMyClass
{
} 
```

当我使用：

```
return new Display<IMyClass>(listOffIMyClass, anIntValue); 
```

我收到此错误： *IMyClass 不能用作泛型类型或方法“Display”中的类型参数“T”。没有从“IMyClass”到“IMyClass”的隐式引用转换。*

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-11-30T07:52:12.930

嗯，是的 - 你已经说过`T`用于 a`Display<T>`必须实现`IDisplay<T>`，而`IMyClass`不是实现`IDisplay<IMyClass>`。

你*真的*只是想`Display<T>`实现`IDisplay<T>`吗？如果是这样，你想要：

```
public class Display<T> : IDisplay<T> where T : class 
```

现在你仍然被限制`T`为引用类型，但你*没有被*限制`T`为实现`IDisplay<T>`.

# wix - 在退出/完成对话框上显示动态内容 - WIX 安装程序

> ID：13640997
> 
> 赞同：1
> 
> 时间：2012-11-30T07:48:38.580
> 
> 标签：wix, custom-action, wix3.6

我想根据实例报告在完成/退出对话框上显示消息。

安装时如果出现问题，我想在完成屏幕上显示错误消息，否则显示成功消息。

我正在调用一个自定义操作来验证实例，并基于它在完成屏幕上设置变量的值。但每次在完成屏幕上，都会显示默认变量值。

代替下图中的 none，我想显示动态内容。

![在此处输入图像描述](../Images/a76d4a83e256c3bc5b309d9be92f5cbf.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-14T09:37:37.510

这是我将动态许可协议显示到可滚动文本控件中的功能。您也许可以使用其中的一些来获得您想要做的事情：

```
 extern "C" UINT __stdcall GetLicense(MSIHANDLE hInstall)
{
HRESULT hr = S_OK;
UINT er = ERROR_SUCCESS;
BYTE* pbData = NULL;
DWORD cbData = 0;
LPWSTR szValueBuf = NULL;
char szDistributorName[MAX_PATH];
PMSIHANDLE hView, hRecord;
CString szLicense;

hr = WcaInitialize(hInstall, "GetLicense");
ExitOnFailure(hr, "Failed to initialize");

WcaLog(LOGMSG_STANDARD, "Initialized.");

hr = ExtractBinary(L"License", &pbData, &cbData);
ExitOnFailure(hr, "failed to extract binary data");

hr = WcaGetProperty(L"DISTRIBUTORNAME", &szValueBuf);
ExitOnFailure(hr, "Failed to get the driver information");

wcstombs(szDistributorName, szValueBuf, 260);
szLicense = pbData;

int nRet = szLicense.Replace("[DISTRIBUTORNAME]", szDistributorName);

LPCTSTR query = _T("SELECT * FROM `Control` ")
    _T(" WHERE `Dialog_` = 'LicenseAgreementDlg' AND `Control` = 'LicenseText' ");
UINT ret = MsiDatabaseOpenView(WcaGetDatabaseHandle(), query, &hView);

if (ERROR_SUCCESS != ret)
{
    return ERROR_INSTALL_FAILURE;
}

ret = MsiViewExecute(hView, 0);

if (ERROR_SUCCESS != ret)
{
    return ERROR_INSTALL_FAILURE;
}

ret = MsiViewFetch(hView, &hRecord);

if (ERROR_SUCCESS != ret)
{
    return ERROR_INSTALL_FAILURE;
}

ret = MsiViewModify(hView, MSIMODIFY_DELETE, hRecord);

if (ERROR_SUCCESS != ret)
{
    return ERROR_INSTALL_FAILURE;
}

ret = MsiRecordSetStringA(hRecord, 10, szLicense);

if (ERROR_SUCCESS != ret)
{
    return ERROR_INSTALL_FAILURE;
}

ret = MsiViewModify(hView, MSIMODIFY_INSERT_TEMPORARY, hRecord);

if (ERROR_SUCCESS != ret)
{
    return ERROR_INSTALL_FAILURE;
}

return ERROR_SUCCESS;

LExit:
er = SUCCEEDED(hr) ? ERROR_SUCCESS : ERROR_INSTALL_FAILURE;
return WcaFinalize(er);
} 
```