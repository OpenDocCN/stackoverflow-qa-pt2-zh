# StackOverflow 问答 14975000-14975999

# javascript - 如何使用 JavaScript 检测网页中的登录表单？

> ID：14975000
> 
> 赞同：2
> 
> 时间：2013-02-20T08:06:55.380
> 
> 标签：javascript, login, autofill

我想使用 JavaScript 来检测网页是否有登录表单，以便自动填充用户的凭据。我正在考虑检查是否有 id="username"/"id" 的输入，但是每个网站都有自己的命名约定。实现这一点的正确方法是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T08:12:26.457

我认为最好的方法是搜索密码**类型的输入。**它们几乎仅用于登录。但是您还需要区分登录和注册表单。一种方法是计算密码输入的数量。大多数注册都有 2 个密码输入来确认。但这不太确定。您可能需要更多过滤器。也许还可以尝试查找包含在表单标签中或紧接在其前面的“注册”或“登录”字样。

没有一种确定的方法。你必须使用你的聪明才智。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-03-17T12:30:29.570

我也不得不经历同样的场景。我使用以下标准来检测登录面板是否存在。

通过检查是否`type="submit"`（**如果登录面板存在，在大多数情况下应该有表单来提交数据**）和`type="password"`（**需要存在密码才能捕获以隐藏方式输入的密码**）。

但是仍然没有正确的方法。你需要拿出你的过滤器。

# css - 文本对齐ckeditor

> ID：14975001
> 
> 赞同：1
> 
> 时间：2013-02-20T08:06:58.530
> 
> 标签：css, button, ckeditor, text-align

我找不到如何添加按钮来格式化我的文本：

```
text-align:center;
text-align:left;
text-align:right;
text-align:justify; 
```

我有v4版本

[http://ckeditor.com/demo](http://ckeditor.com/demo)

我试图找到一个解决方案，但我只是找到了一些问题帖子。

也许使用插件？

我正在使用 ckEditor ，例如：

```
<textarea id="monday" class="ckeditor" name="monday" ><?php echo $this->datas['monday']; ?></textarea> 
```

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-02-02T19:18:20.057

您只需要为您的配置添加理由 - 例如，

```
var config = {
    toolbar: [
        ['Font','FontSize'],
        ['Bold','Italic','Underline'],
        ['TextColor','BGColor'],
        ['JustifyLeft', 'JustifyCenter', 'JustifyRight']
    ],
};
$('.ckeditor').ckeditor(config); 
```

# java - 在不丢失用户流量的情况下更新我的 google app engine java 应用程序？

> ID：14975009
> 
> 赞同：0
> 
> 时间：2013-02-20T08:08:12.353
> 
> 标签：java, google-app-engine

是否可以在不丢失用户流量的情况下更新我的 google app engine java 应用程序？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:25:02.917

AppEngine 部署过程不会将您的站点或您的数据置于离线/只读模式。就部署的实施而言，您的用户不会注意到任何问题（只要您的新代码没有引入任何问题）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:26:54.500

是的，你可以.. gae 项目允许同一个项目有多个版本，我认为你最多可以有 8 个版本..

说你的应用程序名称是 abc.com

您可以将您的项目部署到另一个版本，如 2.abc.com，当您对 2.abc.com 版本没问题时，您可以在 GAE 中将其更改为默认值。现在引用 abc.com 实际上将引用 2.abc.com 这不会影响您的任何流量

# python - 使用 py2exe 为 Tkinter 程序创建单个 EXE

> ID：14975018
> 
> 赞同：18
> 
> 时间：2013-02-20T08:08:47.420
> 
> 标签：python, tkinter, py2exe

我正在尝试使用此链接上提供的 minty 解决方案为基于 Tkinter 的程序生成单个 exe 文件：

[py2exe - 生成单个可执行文件](https://stackoverflow.com/questions/112698/py2exe-generate-single-executable-file)

这是我在 setup.py 中写的：

```
from distutils.core import setup
import py2exe, sys, os

sys.argv.append('py2exe')

setup(windows=[{'script': 'filename.py'}], \
            options={"py2exe": {"includes": ["decimal", "Tkinter", \
            "tkFileDialog", "csv", "xml.dom.minidom", "os"], \
            'bundle_files': 1, 'compressed': False}}, \
            zipfile = None) 
```

即使我指定了 bundle_files = 1，它也会为 Tkinter 的东西创建一个“tcl”文件夹。此外，它还会生成一些其他的 exe w9xpopen.exe。但是，我的实际 exe 没有运行，也没有给出任何错误。如果我删除所有这些包含，它甚至都不起作用。

关于我可能在这里遗漏的任何想法？我正在使用 64 位 Windows 7 机器。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-08-20T03:11:20.643

感谢[这个链接](http://sourceforge.net/p/py2exe/bugs/108/)，你必须编辑和`site-packages/py2exe/build_exe.py`添加到列表中。这将使它运行，尽管您仍然拥有文件夹，并且这两个 dll 将与 exe 一起存在。但这比.`"tcl85.dll"``"tk85.dll"``dlls_in_exedir``tcl``bundle_files=3`

```
 self.dlls_in_exedir = [python_dll,
                               "w9xpopen%s.exe" % (is_debug_build and "_d" or ""),
                               "msvcr71%s.dll" % (is_debug_build and "d" or ""),
                               "tcl85.dll",
                               "tk85.dll"] 
```

# winforms - 如何在 TableLayoutPanel 中将复选框居中，当窗体调整大小时，windows 窗体？

> ID：14975024
> 
> 赞同：1
> 
> 时间：2013-02-20T08:09:11.900
> 
> 标签：winforms, user-controls, tablelayout

我有一个用户控件。在其中我有一个包含列和行的 TableLayoutPanel 控件。在单元格中，我有基本的窗体控件，如文本框、组合框和复选框。对于他们中的前两个，如果我将他们的 Anchor 设置为**Top、Left、Right，**他们会在调整表单大小时重新调整大小，以便表单看起来不错。

现在，*我希望在调整页面大小时 CheckBox 也位于单元格的中间*。提及：在每个单元格中，我都有面板控件，其中放置了一个标签控件和上述三个控件之一。 ![在此处输入图像描述](../Images/06cc5954e859fe8bb6482e0b1bee88b4.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-10-03T22:46:27.843

默认情况下，复选框控件设置为左上对齐。将其设置为不对齐，它将完全符合您的要求。

# c++ - std::function 用于方法参数、副本还是 shared_ptr？

> ID：14975027
> 
> 赞同：2
> 
> 时间：2013-02-20T08:09:26.003
> 
> 标签：c++, shared-ptr, pass-by-value, std-function

我正在尝试使用 std::function 作为回调处理程序。

像这样，

```
void some_job( int arg1, std::function<void(int)> & callback )
{       
   callback( process(arg1) );
} 
```

在这个例子中，我使用了传递引用。

但问题是，我不能保证该`std::function`对象`callback`仍然存在，因为该函数在我的程序的异步上下文中执行。

所以我必须管理函数对象的生命周期，我想了两种方法。

1.  使用传值（复制）

2.  使用`std::shared_ptr`

我知道`std::function`我的系统中的大小固定为 24 字节，`std::shared_ptr`为 8。

但是复制`std::shared_ptr`会导致管理它的引用计数器的额外开销。（此外，我找不到任何巧妙而巧妙的方法来制作 shared_ptr 的对象`std::function`。）

哪种方式在性能上会更好？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T08:16:56.600

如果您在程序的*时间关键*部分中，它担心复制 24 字节或 8 字节 + 共享开销是否更快，您将必须实现两者并使用探查器找出哪个更好设想。在这种情况下，您还应该考虑一种完全不同的方法，它可以绕过可能隐藏在内部的虚拟调用`std::function::operator()`。

否则，我只会按值获取参数并让优化器完成它的工作。

# upnp - 当我们有 UPnP 时为什么要拨号（发现和启动）？

> ID：14975028
> 
> 赞同：10
> 
> 时间：2013-02-20T08:09:28.953
> 
> 标签：upnp

我浏览了[DIAL](http://www.dial-multiscreen.org/)的功能，发现它与 UPnP 非常相似，实际上它使用 UPnP 协议进行设备发现 (SSDP)。

拨号提供什么，实际上是 UPnP 协议的一个子集，不是吗？我们不能使用 UPnP 的 SOAP 代替 DIAL 进行内容共享和通信（启动应用程序）吗？

我不清楚 DIAL 适合软件堆栈的位置（如果我已经支持 UPnP）。

请帮助我消除我的困惑。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-04-23T18:55:51.520

新的发现和启动 (DIAL) 标准建立在通用即插即用 (UPnP) 之上，但不是尝试将内容从设备流式传输到电视，而是要求电视或机顶盒启动合适的客户端来播放内容直接从源头。这样，数字版权管理 (DRM) 问题得到解决，同时最大限度地减少对无线带宽的依赖并消除电池问题，但代价是创建新标准。

更多信息在这里： [http ://www.theregister.co.uk/2013/01/28/dial_youtube_netflix/](http://www.theregister.co.uk/2013/01/28/dial_youtube_netflix/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-02-03T20:32:28.007

你是正确的，UPnP 可以用来完成 DIAL 完成的事情。

DIAL 显然是快速开发的，避免了 UPnP 标准开发过程。没有理由/没有理由不能将实现应用程序启动并具有 XML 设备/服务描述和 SOAP 操作的 UPnP 设备/服务添加到 UPnP 中，事实上，现在正在进行一项[UPnP 多屏](https://openconnectivity.org/developer/specifications/upnp-resources/upnp/multiscreen2/)工作来做到这一点。

DIAL 的优点：已经定义；已经部署；可能比 UPnP 设备/服务更简单。

# ios - 在创建图像文件中收到内 存警告

> ID：14975033
> 
> 赞同：1
> 
> 时间：2013-02-20T08:09:56.200
> 
> 标签：ios

我用这段代码获取相册图片，并在文档中创建文件，但是会出现Received memory warning，然后crash。</p>

这是我使用的代码。谁能告诉我我做错了什么？

```
 NSAutoreleasePool *pool = [[NSAutoreleasePool alloc] init];

   ALAssetsLibraryAccessFailureBlock failureblock = ^(NSError *myerror){
       NSLog(@"error occour =%@", [myerror localizedDescription]);
   };

   ALAssetsGroupEnumerationResultsBlock groupEnumerAtion = ^(ALAsset *result, NSUInteger index, BOOL *stop){

       if (result!=NULL) {
           //we can get all the things in the defaultRepresentation such as size info in UTI
       }

       //just fetching photos
       if ([[result valueForProperty:ALAssetPropertyType] isEqualToString:ALAssetTypePhoto]) {

          //copy image to the path:Documents/DMS/Photo
           ALAssetRepresentation *rep = [result defaultRepresentation];

           NSString *tt = [rep filename];

           NSString *fullPath = [pathPhoto stringByAppendingFormat:@"/%@",tt];

           if (![[NSFileManager defaultManager] fileExistsAtPath:fullPath]){

               UIImage *image = [[UIImage alloc]initWithCGImage:[rep fullScreenImage]];

          NSData *imageData = UIImagePNGRepresentation(image);
          [image release];

               [[NSFileManager defaultManager] createFileAtPath:fullPath contents:imageData attributes:nil];
               NSLog(@"Creat image file fullPath================%@",fullPath);

               //imageData = nil;
               [imageData release];

           }else{
               NSLog(@"---------------------the image is Exist");
            }

         }

    };

   ALAssetsLibraryGroupsEnumerationResultsBlock
   libraryGroupsEnumeration = ^(ALAssetsGroup* group, BOOL* stop){

       if (group == nil)
       {
           return;
       }

       if (group!=nil) {
           [group enumerateAssetsUsingBlock:groupEnumerAtion];
       }
       NSLog(@"finish--------------------------------------------");

       return;
   };

   ALAssetsLibrary* library = [[ALAssetsLibrary alloc] init];
   [library enumerateGroupsWithTypes:ALAssetsGroupSavedPhotos
                          usingBlock:libraryGroupsEnumeration
                        failureBlock:failureblock];
   [library release]; 
```

[池释放]；

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:07:17.287

既然您说您正在使用您在循环内发布的代码，我想会发生什么是由于在循环内分配了太多自动释放的对象而导致您的应用程序被杀死。

您可以尝试使用自动释放池：

```
for (...) {
   @autoreleasepool {
     <your code here>
   }
} 
```

以便在每次迭代时清理自动释放池（而不是在整个循环执行过程中一直增长）。

编辑：

```
if ([[result valueForProperty:ALAssetPropertyType] isEqualToString:ALAssetTypePhoto])
{
    ALAssetRepresentation *rep = [result defaultRepresentation];

    CGImageRef iref = [rep fullScreenImage];

    NSString *tt = [rep filename];

    if (iref) 
    {
        UIImage *image = [UIImage imageWithCGImage:iref];
        if(!image)
        {
            NSLog(@"---------------------the imageData is nil");
        }
        else
        {
            NSData *imageData = UIImagePNGRepresentation(image);

            NSString *fullPath = [pathPhoto stringByAppendingFormat:@"/%@.png",tt];

            NSLog(@"fullPath================%@",fullPath);

            if (![[NSFileManager defaultManager] fileExistsAtPath:fullPath])
            {
                [[NSFileManager defaultManager] createFileAtPath:fullPath contents:imageData attributes:nil];

                NSLog(@"Creat image file fullPath================%@",fullPath);
            }
        }
        CGImageRelease(iref);
    }
} 
```

# jquery - 从 iFrame 内部绑定到父级时，避免在 Jquery 中重复绑定

> ID：14975035
> 
> 赞同：2
> 
> 时间：2013-02-20T08:10:03.370
> 
> 标签：jquery

我有一个棘手的情况 - 任何帮助将不胜感激。

我在 iframe 中有一个带有子页面的父页面。这是示例html：

对于父页面：

```
<html>
    <body>
        <a id="banana">Banana</a>

        <iframe src="ChildPage.html" />
    </body>
</html> 
```

然后对于 ChildPage.html：

```
<html>
    <body>
        <form>
            <input type="submit" value="Submit" />
        </form>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
        <script>
           $('#banana', top.document).click(function() {
              alert('hello world');
           });
        </script>
    </body>
</html> 
```

观察单击提交按钮时发生的情况 - 单击处理程序两次绑定到 Banana 链接并出现两个警告对话框。

在这种情况下，防止多重绑定的常用技术不起作用：

```
// This doesn't work either
var clickHandler = function() {
    alert('hello world');
};

$('#banana', top.document).unbind(clickHandler).bind(clickHandler); 
```

那是因为当我们提交 iframe 的时候，clickHandler 被当成一个新的对象，和之前的 clickHandler 不同。

有趣的是，命名空间也不起作用——命名空间上下文似乎在创建命名空间的窗口内，而不是绑定到它所绑定的元素。

```
// This still doesn't work either
$('#banana', top.document)
    .unbind('click.myns')
    .bind('click.myns', function() {
        alert('hello world');
    }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:32:41.767

您可以向尝试将事件绑定到的元素添加一个属性，然后在事件绑定上检查该属性。

```
$("#banana:not(.initialized)", top.document).bind(); 
```

我通常在处理动态创建的内容时这样做，比如模态框和 iframe 以保存状态，并避免可怕的双重绑定混乱。

# sql - 在 SQL select 语句中显示行数和引用行数

> ID：14975037
> 
> 赞同：0
> 
> 时间：2013-02-20T08:10:14.083
> 
> 标签：sql, sql-server

我有两张桌子。如下

## 表：类别

```
categoryID  categoryName
----------  -------------
    1         Fruit
    2         Country
    3         Car 
```

## 表：项目

```
 ItemID    CategoryID   ItemName
 -------   ----------   ----------
    1          1         Apple
    2          1         Mango
    3          1         Banana
    4          2         USA
    5          2         Japan
    6          3         Honda
    7          3         Toyota 
```

我需要一个选择查询，它会给我类别，以及每个类别下的项目数。像这样：

```
categoryID  categoryName    ItemCount
----------  -------------   ----------
    1         Fruit             3
    2         Country           2
    3         Car               2 
```

如何在 SQL 查询中实现这一点？我需要一个查询，而不是带有变量的过程:(

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T08:12:07.310

```
select c.categoryID, c.categoryName, count(*) as ItemCount
FROM category c
inner join items i on i.categoryId = c.categoryId
GROUP BY c.categoryID, c.categoryName 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:13:39.880

试试这个查询

```
SELECT c.categoryID,  c.categoryName, count(*) as 'ItemCount' 
FROM Category c, Items i 
WHERE c.categoryID = i.categoryID 
GROUP BY c.categoryID,  c.categoryName; 
```

[小提琴](http://sqlfiddle.com/#!2/8da4e/2)

希望这可以帮助

# java - JVM 如何确定 FileDescriptor.out (STDOUT) 在 Windows 上的位置？

> ID：14975047
> 
> 赞同：1
> 
> 时间：2013-02-20T08:10:50.263
> 
> 标签：java, windows, jvm, sas

我有一个问题徘徊在 JVM 和 Windows 之间的某个地方，我担心我对任何一个问题都不够了解，无法很好地提出这个问题，但是这里有：

我有一些非 Java 代码（它是 SAS SCL 代码，但我希望不需要 SAS 知识来回答这个问题）启动 Java 进程并将其 STDOUT 和 STDERR 流重定向到 SAS 的命名管道概念. 该 Java 进程将一些文本写入 System.out。然后 SAS 代码尝试从管道中读取该文本。

这在许多系统上已经工作了很长时间，但最近在 Windows 上出现了问题。这些问题~~*可能*特定于 Java 7（尽管也可能是 Java 6）~~，和/或*可能*特定于 Windows 7 及更高版本。

有两个上下文可以调用此代码。在一种情况下，它运行良好；另一方面，SAS 没有看到 Java 进程的任何输出（根据其他输出，它似乎正在成功运行）。当它不起作用时，“fread”调用似乎会阻塞，直到 Java 进程完成；但是，该调用仅返回“EOF”。

（特别是：如果从 SAS Workspace Server 进程运行，它可以工作。如果它从批处理模式 SAS 运行，它不会。我不清楚这两个环境之间到底有什么不同，尽管进程所有者不同。 )

在它不起作用的情况下，我会短暂地看到一个 Windows 控制台窗口，其中包含 SAS 应该是但没有看到的 STDOUT 输出。在它工作的情况下，我看不到这样的窗口，但这可能是由于该进程在与我登录的用户不同的操作系统用户下运行的结果。

鉴于这一切，我想我的问题是：JVM 如何确定 STDOUT 的结束位置？JVM 是否可以将输出写入控制台窗口，而不是连接到 SAS 管道的所需 STDOUT 流？JVM 在做出此决定时所关注的环境的突出方面是什么？

**编辑 2013-02-20：**

进一步调查表明，在启动 Java 进程时，SAS 会执行以下操作：

```
cmd /C <java command> 
```

这是在运行代码的两种上下文中完成的。

我使用 Java 5 进行了测试，其行为与 Java 7 相同：这似乎不是特定于 Java 版本的。

Windows 7+ 是通用线程。我猜这与Windows 7/Windows Server 2008 R2 中添加[的新 ConHost.exe 进程有关。](http://blogs.technet.com/b/askperf/archive/2009/10/05/windows-7-windows-server-2008-r2-console-host.aspx)

# linux - 在没有 getopts 的 shell 脚本中添加使用内容

> ID：14975057
> 
> 赞同：11
> 
> 时间：2013-02-20T08:11:48.060
> 
> 标签：linux, shell, unix, getopts

我有脚本，我需要在其中显示使用命令，以防用户在执行脚本时错过任何强制性信息。

```
Usage : Script -s <server> -i <instance> -u <user> -p <password> <query> -w <warning value> -c <critical value> 
```

附上关于所有的解释`OPTIONS`

我从以下变量时尚的参数中获取值。但我希望这种用法与 shell 脚本中的验证一起使用。

```
SERVER=$1
INSTANCE=$2
USER=$3
DB_PASSWD=$4
QUERY=$5
VAL_WARN=$6
VAL_CRIT=$7 
```

我曾尝试使用 getopts，但未能使用，因为在传递值之前`<query>`没有`-q`参数。

我尝试过寻找所有其他方法，但每个人都建议 getopts 这对我来说不是可行的解决方案。

请帮我解决这个问题..

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2013-02-20T10:31:54.633

使用 shift 遍历所有参数，例如：

```
#!/bin/sh

usage ()
{
  echo 'Usage : Script -s <server> -i <instance> -u <user> -p <password>'
  echo '                  <query> -w <warning value> -c <critical value>'
  exit
}

if [ "$#" -ne 13 ]
then
  usage
fi

while [ "$1" != "" ]; do
case $1 in
        -s )           shift
                       SERVER=$1
                       ;;
        -i )           shift
                       INSTANCE=$1
                       ;;
        -u )           shift
                       USER=$1
                       ;;
        -p )           shift
                       PASSWORD=$1
                       ;;
        -w )           shift
                       WARNINGVAL=$1
                       ;;
        -c )           shift
                       CRITICVAL=$1
                       ;;
        * )            QUERY=$1
    esac
    shift
done

# extra validation suggested by @technosaurus
if [ "$SERVER" = "" ]
then
    usage
fi
if [ "$INSTANCE" = "" ]
then
    usage
fi
if [ "$USER" = "" ]
then
    usage
fi
if [ "$PASSWORD" = "" ]
then
    usage
fi
if [ "$QUERY" = "" ]
then
    usage
fi
if [ "$WARNINGVAL" = "" ]
then
    usage
fi
if [ "$CRITICVAL" = "" ]
then
    usage
fi

echo "ALL IS WELL. SERVER=$SERVER,INSTANCE=$INSTANCE,USER=$USER,PASSWORD=$PASSWORD,QUERY=$QUERY,WARNING=$WARNINGVAL,CRITIC=$CRITICVAL" 
```

应该做的伎俩。

**编辑：**按照@technosaurus 的建议在脚本中添加了参数验证

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T10:59:37.873

`getopts`是有[充分理由](http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap12.html)的。您应该更改脚本的界面以符合人们的期望。

或者，您可以使用`getopts`两次，首先用于预`query`选项`shift`，然后用于其余选项。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-20T14:02:05.573

试试这个

```
usage()
{
   echo "$0 -s <server> -i <instance> -u <user> -p <password> <query> -w <warning value> -c <critical value>"
}

for i in {0..12}
do
    arg=`expr $i +1`
    test ! "${!arg}" && usage && break
done 
```

希望这可以帮助

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T08:44:34.157

嗯，一个非常像穴居人的方式是这样的

```
usage ()
{
  echo 'Usage : Script -s <server> -i <instance> -u <user> -p <password>'
  echo '                  <query> -w <warning value> -c <critical value>'
  exit
}

[ ${13} ] || usage 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-21T01:10:24.100

这是一种非标准方法，但我发现它非常有用。无需将值作为参数传递给特定标志（这很烦人；不应该要求用户指定每个值，但应该提供合理的默认值），您可以简单地通过环境直接传递它们，这样典型的调用看起来像：

```
SERVER=blah INSTANCE=foo Script 
```

如果您使用小写的变量名称会很好，这样用户就不必大喊大叫了。这允许脚本如此简单地避免完全解析命令行，因为变量的值将在脚本开始时设置。

# mysql - 如何从MYSQL中的多个表中找出数据

> ID：14975058
> 
> 赞同：-1
> 
> 时间：2013-02-20T08:11:50.353
> 
> 标签：mysql, sql

我正在开发一个基于 mysql 的项目。我需要从多个表中找出数据。我已经搜索并找到了类似的解决方案

```
SELECT * from table_1, table_2 where (condition) 
```

但这样的解决方案适用于少数表，我的数据库中有大约 57 个表。请让我知道解决方案。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:19:44.180

听起来你想[加入](http://www.w3schools.com/sql/sql_join.asp)你的桌子。例如：

```
SELECT  *
FROM    table1
        INNER JOIN Table2
            ON Table1.table1ID = table2.table1ID
        LEFT JOIN Table3
            ON Table2.Table2ID = table3.table2ID; 
```

不幸的是，如果您想要来自所有 57 个表的数据，则需要加入所有 57 个表。

您使用的语法 (ANSI 89)，虽然它通常会起作用，但最好避免使用（我相信有时 Oracle 会更好地优化这些），ANSI 92 连接不太容易出现用户错误，并且（对大多数人来说）更易读因为 JOIN 条件紧跟在表之后。Aaron Bertrand 写了[一篇很好的文章](https://sqlblog.org/2009/10/08/bad-habits-to-kick-using-old-style-joins)，介绍了使用 ANSI 92 语法而不是 ANSI 89 的原因。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:24:18.657

您可以使用 JOIN 子句。

```
SELECT table_1.name, table_2.salary, table_3.bonus
FROM employee AS table_1 
INNER JOIN info AS table_2 ON table_1.name = table_3.name;
INNER JOIN account as table_2 On table_2.salary = table_3.salary
...
...
... 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T08:50:42.597

如果每个表的列数相同，则可以使用 UNION 查询：

```
SELECT * FROM Table1 WHERE (condition)
UNION ALL
SELECT * FROM Table2 WHERE (condition)
UNION ALL
SELECT * FROM Table3 WHERE (condition)
UNION ALL
... 
```

# android - 列出未从数据库中完美播种的数据

> ID：14975059
> 
> 赞同：1
> 
> 时间：2013-02-20T08:11:51.320
> 
> 标签：android, list

我是安卓新手。我想将插入的数据从数据库显示到表中。我已经使用 List 来获取数据。

```
 public List<user> getAllUsers() {
    List<user> users = new ArrayList<user>();

    Cursor cursor = database.query(SqlLiteHelper.TABLE_USER, allColumns, null, null, null, null, null);

    cursor.moveToFirst();
    while (!cursor.isAfterLast()) {
      user varUser = cursorToUser(cursor);

      //Log.v("user name",varUser.getName().toString());

      users.add(varUser);
      cursor.moveToNext();
    }
    //Log.v("user name",users.get(0).getName().toString());

    cursor.close();
    return users;
  }

   private user cursorToUser(Cursor cursor) {
    user varUser = new user();

    //Log.v("user id", cursor.getString(1).toString());

    varUser.setID(cursor.getLong(0));
    varUser.setName(cursor.getString(1));
    varUser.setPhone(cursor.getString(2));
    varUser.setEmail(cursor.getString(3));
    return varUser;
} 
```

我在 UserDataSource.java 上写了这段代码

然后我需要显示这些数据的地方我使用以下代码

```
 databaseSource = new UserDataSource(this);
    databaseSource.open();

    List<user> values = databaseSource.getAllUsers();
    Log.v("information", values.get(0).getName().toString());
    ArrayAdapter<user> adapter = new ArrayAdapter<user>(this, android.R.layout.simple_list_item_1, values);
    setListAdapter(adapter); 
```

这不是在列表中添加值。我使用 log.v 检查数据是否返回。我发现数据完全来自数据库。只有当我尝试打印列表或将其插入 simple_list_item_1 时，它才会出现问题。

正在打印

com.example.given_n_take.user@41221338

但是它假设从数据库中打印名称。

数据库表名是用户。

请让我知道我错过了什么。

这是我试图添加这些列表的布局的 xml 文件

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical" >

<Button
    android:id="@+id/all_user_back"
    style="?android:attr/buttonStyleSmall"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_marginBottom="10dp"
    android:text="Back" />

    <ListView
    android:id="@android:id/list"
    android:layout_width="match_parent"
    android:layout_height="384dp" >
</ListView>

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T08:20:55.350

如果您的列表显示`com.example.given_n_take.user@41221338`这意味着您`toString`在类中缺少一个方法`user`。实现一个`toString`返回用户名的 a 。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:24:12.763

这是因为您的 ArrayAdapter 调用了用户对象的 toString() 方法。您要么必须实现 toString() 方法，要么如果要在列表中显示多个字符串，则必须编写自己的适配器。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T08:31:13.027

你得到错误的结果是因为

```
Log.v("information", values.get(0).getName().toString()); 
```

`values.get(0)`将返回 User 类，其中包含名称、id、电话号码等值，并访问您正在调用的 getName 方法的名称，这是完美的。但是对于适配器，您`List<user> values`直接通过。因此，当适配器从中提取数据时，它将从中提取类 User 而不是不同的值。所以要访问值，您必须获取列表的定位值、提取值名称、id 等，然后将其传递给适配器

# c# - 来自源基类的下拉列表绑定错误

> ID：14975060
> 
> 赞同：0
> 
> 时间：2013-02-20T08:11:59.383
> 
> 标签：c#, oop, drop-down-menu, bind

我有一个 ddl，我正在绑定这样的值；

```
 List<ClassB> myobject =new List<ClassB>();
    myddl.DataSource = myobject;
    myddl.DataTextField = "X";
    myddl.DataValueField = "Y";
    myddl.DataBind();

public class ClassB: ClassA
{ 
}

public class ClassA
{  
    public string X; 
    public string Y; 
} 
```

X 和 Y 不是 myobject 的属性，但它们是 myobject 基类的公共属性，我必须使用 myobject

我收到错误说 X 和 Y 不是列表的属性。

有人知道吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:07:52.297

您应该将`X`and定义`Y`为读写属性。下面是一个工作代码示例。

```
public partial class WebForm1 : System.Web.UI.Page
{
    protected void Page_Load(object sender, EventArgs e)
    {
        List<ClassB> myobject = new List<ClassB>();
        myobject.Add(new ClassB() { X = "1", Y = "2" });
        myobject.Add(new ClassB() { X = "3", Y = "4" });
        myddl.DataSource = myobject;
        myddl.DataTextField = "X";
        myddl.DataValueField = "Y";
        myddl.DataBind();
    }
}

public class ClassB : ClassA
{
}

public class ClassA
{
    public string X { get; set; }
    public string Y { get; set; }
} 
```

# javascript - for循环中的Raphael JS鼠标事件

> ID：14975061
> 
> 赞同：0
> 
> 时间：2013-02-20T08:11:59.620
> 
> 标签：javascript, canvas, raphael, mouseevent

我正在发现 Raphael JS，我有一个关于在 for 循环中生成的元素上应用鼠标事件的问题。

这是一个打印 5 个矩形的示例代码：

```
var paper = Raphael("canvasTest",200,200);
for(var i = 0 ; i < 5 ; i++){
    var rect = paper.rect((i*15)+5,10,10,10);
    rect.attr("fill","blue");
    rect.hover(
        function(){
            rect.attr("fill","red");
            document.getElementById("info").innerHTML="Hovered: "+i;
        }, 
        function(){
           rect.attr("fill","blue");
        }
    );
} 
```

这会生成以下输出：

![输出](../Images/4c4f7700041964e0b11277de870a7233.png)

问题是只有第 5 个矩形变成红色（即使另一个矩形悬停），并且`info`div 总是打印第 5 个矩形悬停：

![只有第 5 个矩形是红色的。](../Images/b6c6db9cccd83354cb46b8986740e92b.png)

我发现我可以`this`在内部函数内部使用它并部分解决了问题。上面的代码将正确的矩形涂成红色，但信息容器仍然打印出第 5 个矩形悬停。

```
rect.hover(
    function(){
        this.attr("color","red");
        ...
    },
    ...
); 
```

解决这个问题的最干净的方法是什么？我正在考虑为`rect`诸如设置自定义字段`rect.someVariable=i`，然后在内部函数中引用它。但也许有更清洁的东西？

在此先感谢您的帮助。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-21T18:40:32.663

在大多数情况下，我建议使用 Chris Wilson 的任何一种技术，但是有一种变体可以实现相同的目标，而不会用实用函数的 debri 字段污染您当前的命名空间。简单地说，与其使用正式定义的函数创建闭包，不如在循环中使用匿名函数创建闭包：

```
for(var i = 0 ; i < 5 ; i++) {
    var rect = paper.rect((i*15)+5,10,10,10);
    rect.attr("fill","blue");
    ( function( rect, i ) {
        rect.hover(
            function() {
                rect.attr("fill","red");
                document.getElementById("info").innerHTML="Hovered: "+i;
            }, 
            function() {
                rect.attr("fill","blue");
            }
        ); } )( rect, i );
} 
```

这样的构造只是将循环变量的特定实例嵌入`i`到在 for 循环的约束中创建的闭包中。十分简单。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-20T15:17:04.993

“不要在循环中创建函数”在 Javascript 中相当于棒球中的“不要在第三个或第三个出局”：您可以违反它，但前提是您有充分的理由。你没有。所以你应该关闭：

```
var paper = Raphael("canvasTest",200,200);

var mybox = function(i) {
    var rect = paper.rect((i*15)+5,10,10,10);
    rect.attr("fill","blue");
    rect.hover(
        function(){
            this.attr("fill","red");
            document.getElementById("info").innerHTML="Hovered: "+i;
        }, 
        function(){
           this.attr("fill","blue");
        } 
    );
    return {
        get_rect: function() { return rect; }
    };
};

for(var i = 0 ; i < 5 ; i++){
    mybox(i);
} 
```

[jsFiddle](http://jsfiddle.net/4YHQb/)

Doug Crockford 的“Javascript: The Good Parts”是了解原因的最佳起点。如果您出于某种原因真的不想这样做，您还可以使用 Raphael 的 .data() 方法创建对象的 ia 属性：

```
var paper = Raphael("canvasTest",200,200);
for(var i = 0 ; i < 5 ; i++){
    var rect = paper.rect((i*15)+5,10,10,10);
    rect.data("myindex", i + 1);
    rect.attr("fill","blue");
    rect.hover(
        function(){
            this.attr("fill","red");
            document.getElementById("info").innerHTML="Hovered: " + this.data("myindex");
        }, 
        function(){
           this.attr("fill","blue");
        }
    );
} 
```

我强烈推荐第一种方式。

# jquery - php jquery ajax append(html) 在一个循环中

> ID：14975062
> 
> 赞同：0
> 
> 时间：2013-02-20T08:12:03.477
> 
> 标签：jquery, ajax

功能;

```
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript">
jQuery(function($){
function detail(dataone) {
      $.ajax({
         url: "detail.php?name=" + dataone,
         cache: false
      }).done(function( html ) {
         $("#detail").append(html);
      }).fail(function(jqXHR, ajaxOptions, thrownError){
      });
   }
});
    </script> 
```

在表格中循环；

```
while ($row=mysql_fetch_array($query)) {
 echo "<tr onclick='detail(".$row['column1'].")'>";
  echo '<td scope="row">'.$row['column1'].'</td>
        <td>'.$row['column2'].'</td>
    <td>'.$row['column3'].'</td>

  </tr>'; } 
```

循环的样本输出；

```
<tr onclick="detail(name)">
<td scope="row">name</td>
<td>value</td>
<td>value2</td>
</tr> 
```

和html；

```
<div id="detail"></div> 
```

我只想通过get 将名称发送到detail.php 并将html 输出返回到detail div。为什么这个功能不起作用？（点击 tr 没有任何反应，没有错误）

详细信息.php

```
if (isset($_GET['name'])) {
echo $_GET['name'];  }
else echo "Test"; 
```

**编辑**

用这个改变了功能，它起作用了。

```
var detail = function(dataone)
{ 
   $.ajax({ url: "detail.php?name=" + dataone, cache: false
   }).done(function( html )
{ 
   $("#detail").append(html);
}).fail(function(jqXHR, ajaxOptions, thrownError){ }
);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:22:31.510

首先，我建议您使用 $.ajax 中使用的对象中的 data 属性将数据作为对象文字传递：

```
data: { name: dataone },
dataType: 'html' //since you are fetching HTML 
```

而且由于您现在可能最终进入错误处理程序，您可以添加一个来检查错误：

```
//...
}).done(function( html ) {
    $("#detail").append(html);
}).fail(function(jqXHR, ajaxOptions, thrownError){
    //handle error
}); 
```

这相当于

```
$.ajax({
//...
error: function(jqXHR, ajaxOptions, thrownError){
    //handle error
},
//... 
```

`thrownError`可能应该告诉您足够多的信息来知道出了什么问题。

```
$(function(){

    $('.yourTr').click(function(){

          //add ajax stuff here
    });

}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:44:03.560

我认为您的功能有一些错误：

```
jQuery(function($){
     function detail(dataone) {
         $.ajax({
               url: "detail.php?name=" + dataone,
               cache: false
          }).done(function( html ) {
              $("#detail").append(html);
          }); //<----------------------------------------this is extra
            }).fail(function(jqXHR, ajaxOptions, thrownError){
           });
          });
      }; //<-------------------';'
      //<-------------missing the closing doc ready 
```

而是尝试将功能放在`detail()`外面`doc ready`或只是`remove the doc ready`：

```
 function detail(dataone) {
      $.ajax({
         url: "detail.php?name=" + dataone,
         cache: false
      }).done(function( html ) {
         $("#detail").append(html);
      }).fail(function(jqXHR, ajaxOptions, thrownError){
      });
   } 
```

# struts2 - Struts2 标签 如果使用 IteratorStatus

> ID：14975077
> 
> 赞同：0
> 
> 时间：2013-02-20T08:12:59.057
> 
> 标签：struts2, tags, iterator

我从 Struts2 开始，我需要帮助来解决我的 IF 标签上的问题。

这是我的代码

```
public class InventoryRow {
    private String title;
    private int[] qty = new int[5];
    private boolean[] warningFlag = new boolean[5];
} 
```

在 Action 类中，我有这个属性：

```
private List<InventoryRow> parts = new ArrayList<InventoryRow>(); 
```

在我的 JSP 中，我想根据 qty[] 值或 warningFlag[] 值应用不同的样式。

```
<s:iterator value="parts" var="product">  
    <tr>
        <td><s:property value="title" /></td>
        <s:iterator value="qty" var="val" status="idStatus">  
            <td class="qty <s:if test="#val==-99"> none</s:if>
                   <s:elseif test="#warningdFlag[%{#idStatus.index}] == true"> warning</s:elseif>
                           " >
                <s:property />
            </td>     
        </s:iterator> 
   </tr> 
</s:iterator> 
```

第一个测试（等于-99）有效。但不是第二个（使用warningFlag）

提前感谢您的帮助和您的广告。

迈克尔

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:43:56.147

`#`之前`warningFlag`不需要，你有错字应该`warningdFlag`是`warningFlag`.

```
<s:iterator value="parts">  
    <tr>
        <td><s:property value="title" /></td>
        <s:iterator value="qty" var="val" status="idStatus">  
            <td class="qty <s:if test="#val==-99"> none</s:if>
                   <s:elseif test="warningFlag[#idStatus.index]"> warning</s:elseif>" >
                <s:property />
            </td>     
        </s:iterator> 
   </tr> 
</s:iterator> 
```

不需要在属性`%{...}`内获取状态索引的符号，因为将表达式作为值。`test``test`

另请参阅此链接：[http](http://struts.apache.org/development/2.x/docs/ognl.html) ://struts.apache.org/development/2.x/docs/ognl.html 。

# ios4 - 为 ios 4.3 及更高版本开发应用程序

> ID：14975079
> 
> 赞同：0
> 
> 时间：2013-02-20T08:13:01.073
> 
> 标签：ios4, xcode4.6

我的mac os版本是10.8.2，现在想开发一个ios4.3及以后的app，但是xcode4.6无法安装iOS 4.3 Simulator？这个问题怎么解决？我应该将我的 xcode 改回 4.2 还是其他？

# c# - 滚动面板后恢复图形

> ID：14975080
> 
> 赞同：2
> 
> 时间：2013-02-20T08:13:10.853
> 
> 标签：c#, winforms, panel, picturebox, invalidation

我正在使用 C# 开发一个在面板内有一个图片框的简单工具。该面板具有属性 Autoscroll = true。如果该图片框的图像大于面板，则面板具有滚动条

我可以在图片框的绘制事件上绘制一个矩形。但是当我滚动时，这个矩形消失了。我知道它需要在移动滚动条后重新绘制它，但我不知道如何再次恢复它。

x、y、width、heigth、zoom 是全局变量，当使用 click in to treenode 时，它​​会有数据。

```
private void pictureBoxView_Paint(object sender, PaintEventArgs e)
        {
            if (choose == true)
            {
                Size newSize = new Size((int)(pictureBoxView.Image.Width * zoom),
                                       (int)(pictureBoxView.Image.Height * zoom));
                Graphics graphic = pictureBoxView.CreateGraphics();
                Pen pen = new Pen(Color.Red, 3);
                graphic.DrawRectangle(pen, x, y, width, height);
                pen.Dispose();
            }
        }

 private void treeViewTemplate_AfterSelect(object sender, TreeViewEventArgs e)
        {
            // refresh picturebox
            pictureBoxView.Refresh();

            // allow repaint
            choose = true;

            string[] value = treeViewTemplate.SelectedNode.Tag.ToString().Split(',');
            x = Int32.Parse(value[0]);
            y = Int32.Parse(value[1]);
            width = Int32.Parse(value[2]);
            height = Int32.Parse(value[3]);
            zoom = Double.Parse(value[4]);

            //MessageBox.Show("x = " + y + ", y = " + y + ", width = " + width + ", height = " + height + ", zoom = " + zoom);

            // This call draw a rectangle again when I choose a value from TreeNode's Tag

            pictureBoxView_Paint(this, null);
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:03:16.853

你也可以使用 pictureBoxView.Refresh()

并定义两个局部变量通过 ScrollEventArgs.NewValue 保存滚动偏移量

如果你不想在滚动时绘画，你可以使用这个

`private void panel1_Paint(object sender, PaintEventArgs e) { pictureBox1.Refresh();}`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:15:46.077

通常，您应该使用`Invalidate`方法来重绘控件的表面：

```
pictureBoxView.Invalidate(); 
```

这是重绘 a`PictureBox`内部的示例 a `Panel`：

```
private void pictureBox1_Paint(object sender, PaintEventArgs e)
{
    var rectangle = new Rectangle(10, 10, 100, 100);
    e.Graphics.DrawRectangle(Pens.Red, rectangle);
}

private void panel1_Scroll(object sender, ScrollEventArgs e)
{
    pictureBox1.Invalidate();
} 
```

滚动面板时会重绘固定的红色矩形。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-06-23T13:50:09.203

在这种情况下（`PictureBox`在 Panel 控件中），您必须创建一个在图片框上绘图的方法。并且您将绘图方法放在 Panel 中`ScrollEvent`。

```
private void panel1_Scroll(object sender, ScrollEventArgs e)
    {
        Drawing();
    } 
```

# google-chrome - 如何使用 selenium 启动 chrome 浏览器

> ID：14975081
> 
> 赞同：0
> 
> 时间：2013-02-20T08:13:10.740
> 
> 标签：google-chrome, selenium

当我尝试使用 selenium 启动 chrome 浏览器时，它会抛出错误。

我在我的代码中使用这个命令 "selenium = new DefaultSelenium("localhost", 4444, "*chrome", " [http://www.google.com/](http://www.google.com/) ");

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:18:18.480

如果您想启动 Google Chrome，则必须使用“*chrome”以外的其他内容。

在交互模式下使用 Selenium RC，类似这样

$ java -jar selenium-server.jar -interactive 和使用 getNewBrowserSession 命令不正确：

cmd=getNewBrowserSession 我得到支持的浏览器列表：

23：43：09.317 信息 - 得到结果：无法启动新的浏览器会话：不支持浏览器：（您是否忘记添加 *？）

支持的浏览器包括： *firefox *mock *firefoxproxy *pifirefox *chrome *iexploreproxy *iexplore *firefox3 *safariproxy *googlechrome *konqueror *firefox2 *safari *piiexplore *firefoxchrome *opera *iehta *custom on session null 所以，我猜你应该能够使用“*googlechrome”而不是“*chrome”来启动 Google Chrome。

- 参考 - 帕斯卡·马丁爵士。:D

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-22T06:39:28.687

你在使用 Selenium RC 吗？

我使用WebDriver，我用来打开Chrome的代码是：

```
System.setProperty("webdriver.chrome.driver", "<localpath of Chrome driver>");
WebDriver chromeobj = new ChormeDriver();
chromeobj.get("www.google.com"); 
```

# javascript - 动态项目上的jquery“on”问题

> ID：14975085
> 
> 赞同：0
> 
> 时间：2013-02-20T08:13:16.027
> 
> 标签：javascript, jquery, html

我有一个 jquery

```
$(document).ready(function(){

        $(".files").on('change', function() {
            $('.file_fiels').append('<li><input type="file" name="attachments[]" multiple="multiple" class="files" /></li>')
        }); 

    }) 
```

和 HTML

```
<ul class="file_fiels">
<li><input type="file" name="attachments[]" multiple="multiple" class="files" /></li>
</ul> 
```

这意味着，当有人向输入添加项目时，应该显示另一种输入类型。

它与第一个输入类型完美配合，它不适用于我在第一个输入类型上添加项目时创建的输入。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T08:16:11.810

在事件委托上使用动态添加的元素

```
$('.file_fiels').on('change', '.files', function() {
   $('.file_fiels').append('<li><input type="file" name="attachments[]" multiple="multiple" class="files" /></li>')
}); 
```

[阅读](http://jq4you.blogspot.com/2013/02/jquery-direct-and-delegate-on-event.html)有关委托事件的更多信息

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T08:14:19.183

由于父`<ul>`元素是静态的，您可以使用[事件委托](http://api.jquery.com/on/#direct-and-delegated-events)：

```
$(".file_fiels").on("change", ".files", function() {
    $(".file_fiels").append("<li> ... </li>");
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T08:23:02.437

我一直使用`.live()`动态项目，它对我来说几乎完美无缺。

# java - 休眠 - 更新时外键和主键出现奇怪错误

> ID：14975089
> 
> 赞同：0
> 
> 时间：2013-02-20T08:13:30.970
> 
> 标签：java, hibernate, jdbc

我收到一个无法在 Eclipse 中重现但出现在服务器上的奇怪错误。

说：

```
Caused by: java.sql.BatchUpdateException: Batch entry 0 
update public.user set 
    is_at='[B@136ef65', 
    user_name='elk', 
    password='33e79218965eb72c92a549dd5a330113', 
    location_precision=NULL, 
    location_simulated=NULL, 
    active=NULL, 
    last_seen_at='2013-02-20 08:13:45.992000 +01:00:00', 
    app_uuid=NULL, 
    avatar_url='http://server.org/img/avatars/10.png', 
    email='mail@mail.com', 
    score=NULL, 
    phrase='hibernate fail', 
    state=NULL, 
    reputation=NULL, 
    reputation_desc=NULL, 
    privacy_settings='visibleForAll', 
    gender='male', 
    email_verified='1', 
    geom='SRID=4326;POINT(2.209740161895752 41.400447845458984)' 
where user_id='[B@19ee400' 
was aborted.  Call getNextException to see the cause. 
```

跟随

```
java.lang.IllegalArgumentException: id to load is required for loading 
```

它失败是因为（休眠？）无法将属性 is_at 和 user_id 转换为字符串。它似乎试图用对象上的某种二进制表示来参数化查询。

相关 hbm.xml 片段：

```
<id name="userId" type="java.lang.Long">
    <column name="user_id" />
    <generator class="sequence">
        <param name="sequence">user_user_id_seq</param>
    </generator>
</id>
<many-to-one name="checkin" class="org.server.entity.Checkin" fetch="select">
    <column name="is_at" />
</many-to-one> 
```

我看不到任何奇怪的东西，也许更多的眼睛看得更多？奇怪的是，在我的 IDE 中工作。有人见过类似的错误吗？

hibernate: 3.6.2
版本 tomcat 6.0.33
java openjdk 1.6.0.18
postgresql: 8.3.9

更新：

用于此的 Java 代码：

```
// queryHistory is to be persisted
// user is not null 
queryHistory.setUser(user);
queryHistory.setApiKey(apiKey);

// create point
Coordinate coordinate = new Coordinate(queryHeader.getLocLon(),queryHeader.getLocLat());
GeometryFactory geometryFactory = new GeometryFactory(new PrecisionModel(),4326);
Point point = geometryFactory.createPoint(coordinate);

queryHistory.setGeom(point);

if(user!=null) {
        user.setGeom(point);
        user.setLastSeenAt(new Timestamp(new Date().getTime()));
        hSession.update(user);
}

hSession.persist(queryHistory);
t.commit(); 
```

提前致谢

# batch-file - 读取值后重启服务的批处理文件

> ID：14975091
> 
> 赞同：0
> 
> 时间：2013-02-20T08:13:36.223
> 
> 标签：batch-file

我正在使用 Windows Server 2003。这是场景；

此文件中的文本文件名“abc.txt” 我在第三行有一个值 xyz = 2，我想要一个批处理脚本从第三行检查这个值，如果它超过 10，那么它将重新启动“asd”服务。

我想我描述了我想要实现的目标。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-25T00:03:50.357

```
@echo off
FOR /f "tokens=3" %%G IN ('find "xyz =" ^<abc.txt') DO set xyz=%%G

IF %xyz% gtr 10 (
net stop servicename
net start servicename
) 
```

# ios - 如何将 UITextView 添加到此 UITableViewCell？

> ID：14975097
> 
> 赞同：0
> 
> 时间：2013-02-20T08:14:04.443
> 
> 标签：ios, uitableview, uitextview

我有一个`UITableViewCell`根据其中的内容动态调整大小的。我这样做`heightForRowAtIndexPath`如下：

```
- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
{
  if (indexPath.section == 1 && indexPath.row == 1) {
    NSDictionary *fields = self.messageDetailsDictionary[@"fields"];
    NSString *cellText = fields[@"message_detail"];
    UIFont *cellFont = [UIFont systemFontOfSize:14.0];
    CGSize constraintSize = CGSizeMake(self.tableView.frame.size.width - 50.0f, MAXFLOAT);
    CGSize labelSize = [cellText sizeWithFont:cellFont constrainedToSize:constraintSize lineBreakMode:NSLineBreakByWordWrapping];
    return labelSize.height + 20.0f;
  } else {
    return tableView.rowHeight;
  }
} 
```

在`cellForRowAtIndexPath`我自定义单元格中，如下所示：

```
case 1:{
  UITableViewCell *cell = [[UITableViewCell new] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@"DetailCell"];
  if (cell == nil) {
    cell = [[UITableViewCell new] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@"DetailCell"];
  }
  NSDictionary *fields = self.messageDetailsDictionary[@"fields"];
  cell.selectionStyle = UITableViewCellSelectionStyleNone;
  cell.textLabel.lineBreakMode = NSLineBreakByWordWrapping;
  cell.textLabel.font = [UIFont systemFontOfSize:14.0];
  cell.textLabel.numberOfLines = 0; // This means multiline
  cell.textLabel.text = fields[@"message_detail"];
  return cell;
} 
```

这一切都很好，但是我希望单元格的内容能够检测电话号码、日期/时间等。所以我认为我需要将内容放入`UITextView`其中`UITableViewCell`以使这成为可能。

如何`UITextView`通过修改上面的代码来动态调整大小并将其添加到包含内容的单元格中？示例代码请提供答案，因为我已经尝试将 UITextView 添加为单元格 contentView 的子视图，但它没有像我预期的那样工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:22:37.147

您可以使用[`sizeToFit`](http://developer.apple.com/library/ios/documentation/uikit/reference/UIView_Class/UIView/UIView.html#//apple_ref/occ/instm/UIView/sizeToFit)or[`sizeThatFits:`](http://developer.apple.com/library/ios/documentation/uikit/reference/UIView_Class/UIView/UIView.html#//apple_ref/occ/instm/UIView/sizeThatFits%3a)方法来调整`UITextView`对象的大小

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:45:13.930

创建单元格时，您需要添加 textView 作为其子视图，无需单独设置 textView 大小。您只需要在返回行的高度时添加边距值

```
- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath 
```

# perl - Perl 和 gethostbyname 奇怪的行为

> ID：14975098
> 
> 赞同：1
> 
> 时间：2013-02-20T08:14:07.363
> 
> 标签：perl, hostname, gethostbyname

我正在运行以下内容：

```
perl -wl -e 'print gethostbyname ("1234");'
123424Ò 
```

同样运行`gethostbyname ("1")`返回一个定义的结果，这根本不符合[这里](http://www.tutorialspoint.com/perl/perl_gethostbyname.htm)写的内容。

我想知道我是否应该使用这种方法？我试图做的是查找给定的主机名是否有效。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:35:01.657

`1249767172`在浏览器中输入内容，您最终可能会访问 Google 。这是因为有效的 IP 地址只是 0 到 4294967295 之间的数字。

当然，您更熟悉点分格式表示法 ( `74.125.239.4`)，但许多地方也直接接受十进制数 ( `1249767172`) 甚至是十六进制表示法 ( `0x4A7DEF04`)。

由于您提供了有效的 IP 地址，因此不会返回任何错误。

```
$ perl -MSocket=inet_ntoa -E'
    my $addr = gethostbyname($ARGV[0]);
    say inet_ntoa($addr);
' 1249767172
74.125.239.4

$ perl -MSocket=inet_ntoa -E'
    my $addr = gethostbyname($ARGV[0]);
    say inet_ntoa($addr);
' 1
0.0.0.1

$ perl -MSocket=inet_ntoa -E'
    my $addr = gethostbyname($ARGV[0]);
    say inet_ntoa($addr);
' 1234
0.0.4.210 
```

（确切的行为可能因系统而异。`gethostbyname`我的 Windows 和我的 cygwin 版本无法识别这些数字，尽管同一台机器上的 FireFox 可以。）

# asp.net - Webgrid 显示已选中某个值

> ID：14975099
> 
> 赞同：0
> 
> 时间：2013-02-20T08:14:07.003
> 
> 标签：asp.net, razor

我正在使用带有剃刀语法的 webmatrix 2。我的数据库中的一个字段的值为 1 或 0。我想在我的 webgrid 中将该字段显示为复选框。以下是我尝试过的代码：

```
 @grid.GetHtml(    
        tableStyle : "table",
        alternatingRowStyle : "alternate",
        headerStyle : "header",
        columns:
grid.Column(header: "Active", format: (col)=>@Html.Raw("<input type='checkbox'  checked='"+ ((col.Active) ? "checked" :"") + "' disabled='true' />")) 
```

我注意到上面的代码显示了选中所有复选框的列。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:20:54.687

试试这样：

```
grid.Column(
    header: "Active", 
    format: @<input type="checkbox" disabled="true" @Html.Raw(item.Active ? "checked=\"checked\"" : "") />
) 
```

这假定该`Active`属性在您的模型上是布尔值而不是整数。如果它是整数，您可以调整测试：

```
grid.Column(
    header: "Active", 
    format: @<input type="checkbox" disabled="true" @Html.Raw(item.Active == 1 ? "checked=\"checked\"" : "") />
) 
```

# cordova - 外部链接 phonegap

> ID：14975101
> 
> 赞同：0
> 
> 时间：2013-02-20T08:14:18.697
> 
> 标签：cordova, hyperlink

当我在我正在使用的应用程序上插入外部链接时

```
window.open('http://www.google.com', '_blank', 'location=yes'); 
```

但我有一些提要，例如我有全文段落，里面有链接

```
<a href="http://www.google.com" >Google</a> 
```

当我打开这样的链接并返回应用程序时，未加载 css 和 js。

我想像第一个例子一样打开我的链接，有解决方案吗？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T10:19:10.937

您可以使用 onclick 事件在锚标记上打开子浏览器。

```
<a href="#" onclick="openInAppBrowser('http://google.com');">Google</a> 
```

（将 Url 作为参数传递给函数）

并在 javascript 中创建一个这样的函数

```
function openInAppBrowser(url){
  window.open(url, '_blank', 'location=yes');
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:55:17.573

你在使用 jQuery Mobile 吗？如果是这样，请尝试使用以下标签：

```
 <a href="http://www.google.be/" rel="external">Google</a> 
```

# asp.net-mvc-4 - 如何在 Kendo UI 数据源中禁用“读取”请求缓存

> ID：14975103
> 
> 赞同：8
> 
> 时间：2013-02-20T08:14:23.647
> 
> 标签：asp.net-mvc-4, kendo-ui

我在 MVC4 应用程序中使用 ASP.NET MVC Wrapper。

除了一个特定问题外，一切正常：我为 Kendo UI Grid 定义了一个数据源，当视图加载时，读取操作按预期调用。

但是，当页面重新加载时，“读取”请求会得到 304 结果的响应。

如何通过数据源配置禁用缓存？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-21T16:07:50.473

您可以将 Kendo 数据源中的“缓存”属性设置为 false，这显然（注意：我尚未对此进行测试）将强制在每次请求时重新获取请求的页面。

将缓存设置为 false 会将“_=[TIMESTAMP]”参数附加到请求中，如有必要，可以在服务器/控制器端对其进行解析，以避免服务器端缓存操作。

还要注意，您可以为每个 Kendo 传输操作指定缓存行为（即，它可以在 CRUD 操作级别或整个传输操作级别）。

见这里：[http ://docs.kendoui.c​​om/api/framework/datasource#configuration-transport.read.cache-Boolean](http://docs.kendoui.com/api/framework/datasource#configuration-transport.read.cache-Boolean)

代码：

```
transport: {
    read: {
        cache: false
    }
} 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-03-12T21:39:08.177

.Read(read => read.Action("Action", "Controller", new { area = "Area" }).Type(HttpVerbs.Post))

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2013-09-24T13:17:14.047

您可以尝试在加载视图的服务器端控制器操作上进行装饰

```
[OutputCache(Duration = 0, NoStore = true)] 
```

属性，例如

```
public class OrdersController : Controller
{
    [httpGet]
    [OutputCache(NoStore = true, Duration = 0)]
    public ActionResult Orders(string userId)
    {
        // your code
        return View(viewModel);
    }
} 
```

`NoStore`- 一个布尔值，用于确定是否阻止对敏感信息进行二级存储 `Duration`- 页面或用户控件被缓存的时间，以秒为单位。在页面或用户控件上设置此属性会为来自对象的 HTTP 响应建立过期策略，并将自动缓存页面或用户控件输出。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-06T08:19:16.793

不能通过数据源配置成为控制器。您必须将属性应用于控制器上的 Read 方法以防止缓存。

另一种方法是将 [HttpPost] 属性应用于您的控制器方法。然后将数据源配置为不使用 GET 方法，在这种情况下，它将默认使用 POST 方法。

# jquery - jQuery淡化两个没有白色的图像

> ID：14975104
> 
> 赞同：3
> 
> 时间：2013-02-20T08:14:24.040
> 
> 标签：jquery, image, fade

我想在它们之间没有白色转移的情况下淡化图像。

HTML：

```
<div class="image">
  <span><img src="1.jpg"></span>
</div> 
```

jQuery：

```
$('.image > span > img').fadeOut(1000, function() {
  $('.image > span > img').attr('src', images[i]);
  $(this).fadeIn(1000);
}); 
```

这行得通，但在变化之间有白色褪色。图像数组包含图像源。我找到了这个[http://jsfiddle.net/byB6L/](http://jsfiddle.net/byB6L/)但我无法更新我的代码来使用它。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T08:28:02.330

这应该给你一个想法：

```
var c = 0,                  // Counter index
    $img = $('.image img'), // Get images
    n = $img.length;        // How many images?

$img.eq(c).show();          // Show c one

(function loop() {          // Recursive infinite loop
    $img.delay(1000).fadeOut(800).eq(++c%n).fadeIn(800, loop);
}()); 
```

```
.image{
  position:relative;
}
.image img{
  position:absolute;
  top:0px; 
  display:none;
}
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<div class="image">
  <img src="http://placehold.it/300x150/bf0?text=Apples" alt="" />
  <img src="http://placehold.it/300x150/0bf?text=and" alt="" />
  <img src="http://placehold.it/300x150/fb0?text=Pears" alt="" />
</div>
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-20T08:25:28.480

这是因为您在动画结束回调中使用了相同的图像。

我的建议：`position: relative;`在`class="image"`容器上使用，将图像元素设置为`position:absolute;`，现在在图像淡出后，将新图像插入容器并将其淡入并删除第一个图像。

例子：

html:

```
<div class="image">
  <span><img src="1.jpg"></span>
</div> 
```

CSS：

```
<style type="text/css">
    .image{position:relative;}
    .image span img{position:absolute;top:0;left:0;}
</style> 
```

JavaScript：

```
<script type="text/javascript">
    $('.image > span > img').fadeOut(1000);
    var $image = $('<img alt="" src="YOUR NEW IMAGE_PATH" style="opacity:0;" />');
    $('.image > span').append($image);
    $image.fadeIn(1000, function(){
        $('.image > span > img').first().remove();
    });
</script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T08:25:06.243

不要淡出一个图像然后淡入另一个图像，而是使用两个图像元素并将它们叠加在一起，然后只淡出顶部的图像以使底部的图像出现。

CSS：

```
.image img { position: absolute; left: 0; top: 0; } 
```

HTML：

```
<div class="image">
  <img class="bottomImage" src="http://placekitten.com/100/100"/>
  <img class="topImage" src="http://placekitten.com/g/100/100"/>
</div> 
```

Javascript：

```
$('.topImage').fadeOut(3000); 
```

演示：http: [//jsfiddle.net/Guffa/grTUK/](http://jsfiddle.net/Guffa/grTUK/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T08:28:27.947

JQuery 不支持背景颜色动画等背景图像动画（这也需要使用额外的插件）。所以做你的动画，你肯定需要有两张图片。

# eclipse - 将选择提供程序添加到仅包含小部件的视图？

> ID：14975107
> 
> 赞同：0
> 
> 时间：2013-02-20T08:14:46.323
> 
> 标签：eclipse, swt, eclipse-rcp, jface

我们可以将选择提供程序添加到仅包含小部件的视图中吗？如果可以的话 setSelection 的参数应该是什么。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T06:22:14.000

这完全取决于您所做的实施类型。如果您在视图中使用小部件作为某种可选择的实体，那么您可以提供 setSelection 实现。

`setSelection`接受一个实例，`ISelection`它可以包含任何类型的对象。因此，例如，如果您的视图有一个带有许多标签和可编辑字段的表单，您可能希望根据外部情况以编程方式“设置焦点并滚动到”任何字段。您的 setSelection 将收到一个包装在 ISelection 对象中的对象（甚至可能只是一个整数索引）。将焦点移动到特定控件并滚动到它取决于 setSelection 的实现。

# visual-studio-2010 - VS2010 及时调试器不显示整个消息

> ID：14975108
> 
> 赞同：0
> 
> 时间：2013-02-20T08:14:56.310
> 
> 标签：visual-studio-2010, silverlight, visual-studio-debugging

我经常看到即时调试器窗口，并且通常没有显示任何消息，但有时我看不到整个异常，这可能很有用。

![例子](../Images/75772d71a126b8319b7f04f989f68745.png)

当我尝试运行调试器时，我总是收到另一个调试器已经连接的错误，这导致我无处可去。窗口不可调整大小且无法复制文本。

我在 VS 2010 + C# + Silverlight 中开发，它在通过 VS 运行时发生。

有什么见解吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T12:52:41.300

您会得到“另一个调试器已连接”，因为您已经处于调试模式并且您的浏览器进程已附加到您的代码。

**首先，在 App.xaml 中处理全局异常**

其次，在您的浏览器中打开开发人员检查器。（大多数浏览器为 F12）和观察控制台。

[http://msdn.microsoft.com/en-us/library/system.windows.application.unhandledexception(v=vs.95).aspx?cs-save-lang=1&cs-lang=csharp#code-snippet-3](http://msdn.microsoft.com/en-us/library/system.windows.application.unhandledexception(v=vs.95).aspx?cs-save-lang=1&cs-lang=csharp#code-snippet-3)

使用 System.IO；// FileNotFoundException using System.Windows; // 应用程序、StartupEventArgs、ApplicationUnhandledExceptionEventArgs

```
 namespace SilverlightApplication
   {
   public partial class App : Application
    {
    public App()
    {
        this.Startup += this.Application_Startup;
        this.UnhandledException += this.Application_UnhandledException;

        InitializeComponent();
    }

    private void Application_Startup(object sender, StartupEventArgs e)
    {
        this.RootVisual = new Page();
    }

    private void Application_UnhandledException(object sender, 
        ApplicationUnhandledExceptionEventArgs e)
    {
        if (e.ExceptionObject is FileNotFoundException)
        {
            // Inform the user

            // Recover from the error
            e.Handled = true;
            return;
        }

        // Exception is unrecoverable so stop the application and allow the 
        // Silverlight plug-in control to detect and process the exception.
    }
} 
```

}

**其次，在您的浏览器中打开开发人员检查器。（大多数浏览器为 F12）和观察控制台。**该消息来自您的 xap 托管的 index.aspx。有一个silverlighterror js函数响应它。

```
 function onSilverlightError(sender, args) {
        var appSource = "";
        if (sender != null && sender != 0) {
          appSource = sender.getHost().Source;
        }

        var errorType = args.ErrorType;
        var iErrorCode = args.ErrorCode;

        if (errorType == "ImageError" || errorType == "MediaError") {
          return;
        }

        var errMsg = "Unhandled Error in Silverlight Application " +  appSource + "\n" ;

        errMsg += "Code: "+ iErrorCode + "    \n";
        errMsg += "Category: " + errorType + "       \n";
        errMsg += "Message: " + args.ErrorMessage + "     \n";

        if (errorType == "ParserError") {
            errMsg += "File: " + args.xamlFile + "     \n";
            errMsg += "Line: " + args.lineNumber + "     \n";
            errMsg += "Position: " + args.charPosition + "     \n";
        }
        else if (errorType == "RuntimeError") {           
            if (args.lineNumber != 0) {
                errMsg += "Line: " + args.lineNumber + "     \n";
                errMsg += "Position: " +  args.charPosition + "     \n";
            }
            errMsg += "MethodName: " + args.methodName + "     \n";
        }

        throw new Error(errMsg);
    } 
```

**最后，始终确保（如果存在）在您的 Web 项目的设置中。在 Web 部分中，有一个用于调试的 Silverlight 复选框。必须检查调试附件。**

**另一个线索：** *在 VS Ctrl + Alt + E 中，然后选择 CLR exceptions ，当您启动时，您将获得有关错误的更多详细信息。但是在准确发生错误的地方进行。因为它有时会给出非错误，但会被调试器捕获。*

希望有所帮助！

# django - uWSGI 以错误的顺序加载 Django 应用程序（按字母顺序而不是按 INSTALLED_APPS 中定义的顺序）

> ID：14975109
> 
> 赞同：2
> 
> 时间：2013-02-20T08:14:57.330
> 
> 标签：django, uwsgi

我有一个 Django 项目在由 supervisord 控制的 uwsgi 上的 virtualenv 中运行。在 Django 项目中，我有一个额外的目录“apps/”，我将所有的 Django 应用程序放在其中。在我的 settings.py 中，我将“apps/”目录添加到 python 路径中，以便找到其中的 Django 应用程序。

这对 runserver 非常有效。但是我的生产环境中有uwsgi。当我启动服务器时，Django 应用程序按字母顺序加载，因为它们在文件系统中，而不是按 INSTALLED_APPS 定义的顺序。

一个例子：我的文件系统中有这些应用程序：

```
/home/anton/project/apps/events
/home/anton/project/apps/profiles
/home/anton/project/apps/routes 
```

个人资料是我扩展的用户个人资料，路线是自行车路线，而活动取决于路线，因为一个活动可以有 1..n 条路线。

所以在我的 INSTALLED_APPS 它是这样定义的：

```
INSTALLED_APPS = [
   # .. django stuff ..
   'profiles',
   'routes',
   'events',
] 
```

在事件应用程序的 models.py 中，我从路线应用程序导入模型。只要 Django 应用程序按照 INSTALLED_APPS 设置中指定的顺序加载，一切正常。但是 uWSGI 按字母顺序加载 Django 应用程序。而且因为事件是在路由之前加载的，所以我在事件应用程序的 models.py 中收到以下错误：

```
ImportError at /
cannot import name Route

/myproject/app/src/apps/events/models.py in <module>
    from routes.models import Route 
```

所以在加载事件应用程序时，uwsgi 不知道路由应用程序。不应该是uwsgi加载所有python模块（阅读：Django应用程序）然后开始执行请求吗？

非常感谢每一个提示！

谢谢，安东

PS：

这是我的 uwsgi.ini 配置（也许这有帮助）

```
[uwsgi]
http-socket = :8081
master = true
workers = 8

pidfile = /tmp/uwsgi-project.pid

chdir = /project/app/src/apps/
pythonpath = /project/app/src/
module = wsgi
virtualenv = /home/anton/.virtualenvs/project/

env = DJANGO_SETTINGS_MODULE=settings
logto = /project/log/uwsgi-bikemap.log

max-requests = 5000
vacuum = true 
```

'/project/app/src/' 是 Django 项目所在的位置。'/project/app/src/apps' 是 Django 应用程序所在的位置。wsgi.py（由 module = wsgi 引用）位于 '/project/app/src/'

# macos - IIS Express 在 Mac 上使用 Parallels VM 处理外部请求速度慢

> ID：14975112
> 
> 赞同：3
> 
> 时间：2013-02-20T08:15:22.100
> 
> 标签：macos, visual-studio, iis, iis-express, parallels

在 Mac 上为 .NET 后端运行 VM，我有以下设置：

Parallels 8（共享网络）、Win 8、IIS Express 8（我认为不能以管理员身份运行）、Visual Studio 2012 Epress

ACL 通过提升的命令行：

```
netsh http add urlacl url=http://10.211.55.3:29588/ user=everyone 
```

应用程序主机配置

```
<bindings>
    <binding protocol="http" bindingInformation="*:49288:localhost" />
    <binding protocol="http" bindingInformation="*:49288:10.211.55.3" />
</bindings> 
```

关于这个主题的常用教程使用 win8 主机名，这在我的情况下不起作用。我必须使用直接IP地址。这里不寻常的另一件事是我必须将 localhost 留在绑定中，否则 Visual Studio 无法启动 IIS Express（错误）。

上述工作除了后端在一分钟左右后变得无响应之外。这就像服务器进入睡眠状态。在浏览器刷新（Mac 端）我得到一个超时，然后请求再次通过。在 Win8 方面，后端一直是响应式的。

有人知道我做错了什么吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-23T03:21:27.080

VS 2012 update 3 似乎解决了这个问题。

# javascript - 将单击的类的类名存储为变量并将其传递给 json

> ID：14975113
> 
> 赞同：0
> 
> 时间：2013-02-20T08:15:22.563
> 
> 标签：javascript, jquery, json

我对javascript相当陌生。下面是我的javascript代码。有许多可点击的类有一些`id`例如：

```
<a href="#" id="15" class="firefly-button lfloat"><div class="contentBoxes captionfull"> 
```

如果用户单击它，我想将变量存储为`"showf15"`. `["show"+first-character of clicked-class+id]`

为此，我编写了以下行：

```
c = "show"+$(this).charAt(0)+this.id; 
```

我的 jvascript 代码是：

```
$(function () {
        $(".primavera-button, .lectures-button, .firefly-button, .argentum-button, .workshops-button, .exhibitions-button").click(function (e) {
            c = "show"+$(this).charAt(0)+this.id;
                e.stopPropagation();
            $.ajax({
                type: "POST",
                url: "../fetchevents.php",
                dataType: "json",
                data: {
                    id: c
                },
                .... 
```

但是，它似乎不起作用。

如果，我能够实现变量`c`等`showl15`，我的数据库表包含具有`c`=id 的文本数据，我可以在 json 中检索它作为结果。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:16:24.493

`$(this)`不是类的名称，而是 jQuery 包装的元素。

利用

```
"show"+this.className[0]+this.id; 
```

# python - 使用 Flask 的动态 HTML 内容和 Python 变量

> ID：14975114
> 
> 赞同：0
> 
> 时间：2013-02-20T08:15:31.853
> 
> 标签：python, html, flask

在用户端，假设我有人通过表格选择学校记录以显示在下表中。

例如，他们从名字列表中选择他们的名字，然后从数据库中提取他们的记录。

根据他们的年级，他们可能有 1、2、3 或 4 年的记录，因此提取的数据看起来总是不同的。

他们提交表单后，他们的记录存储在一个包含他们所有记录的变量中，然后将每条记录分解为子类型，例如，英语系的所有记录。这些子类型存储在其他列表中——因此所有英语记录都有一个列表。我们称该变量为english_records。我想使用这些子类型变量来仅显示用户想要查看的数据，并显示该特定列表中的所有数据。

因此，使用 Flask 的 render_template 函数，我试图将这些记录中的每一个发送到一个 html 模板，该模板将为每条记录创建一个表格单元格。

我一直在尝试（到目前为止还没有奏效）是这样的：

**Python：**

```
i = 0
def index():
    for e in english_records:
        english_records = [
            { 
                'english': english_records[i]
            }
        ]
        i = i + 1
    return render_template("index.html",
        english_records = english_records) 
```

**在 HTML 中：**

```
...table above...
{% for record in english_records %}
<td>
  {{record.english}}
</td>
{% endfor %}
...table continues... 
```

到目前为止，我一直在为每条记录创建表格单元格，但记录没有通过。有人知道怎么做吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T08:35:48.807

您是否有理由对数据进行预处理？`english_records`看起来像什么？如果我的预感是正确的，那么您实际上根本不需要`for`循环。

还有一个问题是您在for 循环`english_records`中用覆盖初始变量`english_records`，因此赋值虽然在语法上是合法的，但在逻辑上是荒谬的。

另一个问题是，根据 first 的实际类型`english_records`，您不需要使用计数器：如果`english_records`是 a `list`，那么它将包含您要查找的值。如果`english_records`是 a `dict`，那么枚举它可能看起来像`for key, val in english_records.iteritems()`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:31:37.300

```
 for e in english_records:
        english_records = [
            { 
                'english': english_records[i]
            }
        ]
        i = i + 1 
```

这里的循环是创建一个 list ，但是这些 list 的成员没有 'english' key ，所以在模板中，循环被执行，但没有值 for `{{record.english}}`，因此它被忽略了。您将得到的只是没有任何数据的表格行。

# sql - SQL Server 表值函数和异常组合性能

> ID：14975117
> 
> 赞同：0
> 
> 时间：2013-02-20T08:15:41.717
> 
> 标签：sql, sql-server

我有一个表（包含大约 18000 条记录的资源）和一个带有此主体的表值函数：

```
ALTER FUNCTION [dbo].[tfn_GetPackageResources]
(   
    @packageId int=null,
    @resourceTypeId int=null,
    @resourceCategoryId int=null,
    @resourceGroupId int=null,
    @resourceSubGroupId int=null
)
RETURNS TABLE 
AS
RETURN 
(

    SELECT Resources.*
    FROM    Resources 
            INNER JOIN ResourceSubGroups ON Resources.ResourceSubGroupId=ResourceSubGroups.Id
            INNER JOIN ResourceGroups ON ResourceSubGroups.ResourceGroupId=ResourceGroups.Id
            INNER JOIN ResourceCategories ON ResourceGroups.ResourceCategoryId=ResourceCategories.Id
            INNER JOIN ResourceTypes ON ResourceCategories.ResourceTypeId=ResourceTypes.Id
    WHERE
        (@resourceSubGroupId IS NULL OR ResourceSubGroupId=@resourceSubGroupId) AND
        (@resourceGroupId IS NULL OR ResourceGroupId=@resourceGroupId) AND
        (@resourceCategoryId IS NULL OR ResourceCategoryId=@resourceCategoryId) AND
        (@resourceTypeId IS NULL OR ResourceTypeId=@resourceTypeId) AND
        (@packageId IS NULL OR PackageId=@packageId) 

) 
```

现在我进行这样的查询：

```
SELECT  id
FROM    dbo.tfn_GetPackageResources(@sourcePackageId,null,null,null,null)
WHERE   id not in(  
    SELECT  a.Id 
    FROM    dbo.tfn_GetPackageResources(@sourcePackageId,null,null,null,null) a INNER JOIN
            dbo.tfn_GetPackageResources(@comparePackageId,null,null,null,null) b
            ON  a.No = b.No AND 
                a.UnitCode=b.UnitCode AND 
                a.IsCompound=b.IsCompound AND 
                a.Title=b.Title
    ) 
```

这个查询大约需要 10 秒！（虽然每个部分查询运行得非常快，但整个查询都需要时间）我检查了它，`LEFT JOIN`但`NOT EXISTS`结果是一样的。但如果我直接在 Resources 表上运行查询，只需要一秒钟或更短的时间！快速查询是：

```
select * from resources where id not in (select id from resources) 
```

我该如何解决？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T08:24:41.003

您的 UDF 像宏一样扩展。

所以你的完整查询有

*   IN 子句中的 9 个 INNER JOIN
*   主 SELECT 中的 4 个 INNER JOIN。
*   您对每个 WHERE 子句总共应用`(... IS NULL OR ...)`15 次。

由于这种扩展，您对巧妙代码重用的想法失败了
SQL 通常不适合这种重用。

把事情简单化：

```
SELECT
    R.id
FROM
    Resources R
WHERE
    R.PackageId = @sourcePackageId
    AND 
    R.id not in (  
        SELECT  a.Id 
       FROM    Resources  a
               INNER JOIN
               Resources  b
                   ON  a.No = b.No AND 
                        a.UnitCode=b.UnitCode AND 
                        a.IsCompound=b.IsCompound AND 
                        a.Title=b.Title
        WHERE
             a.PackageId = @sourcePackageId
             AND
             b.PackageId = @comparePackageId
    ) 
```

有关更多信息，请在此处查看我的其他答案：

*   [为什么 UDF 比子查询慢得多？](https://stackoverflow.com/questions/510743/why-is-a-udf-so-much-slower-than-a-subquery/510754#510754)
*   [用户定义函数中的分析语句](https://stackoverflow.com/questions/2435587/profiling-statements-inside-a-user-defined-function/2435631#2435631)
*   [查询计划优化器是否适用于连接/过滤的表值函数？](https://stackoverflow.com/questions/311026/does-query-plan-optimizer-works-well-with-joined-filtered-table-valued-functions/311163#311163)
*   [表值函数我的查询计划去哪儿了？](https://stackoverflow.com/questions/1432343/table-valued-function-where-did-my-query-plan-go/1432413#1432413)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:24:55.183

您应该尝试将一个复杂的查询分解为多个简单的查询，并将其结果存储在临时表中，这样一个复杂的执行计划将被几个简单的计划取代，这些计划的总执行时间可能比复杂执行的执行时间更短计划：

```
SELECT  *
INTO    #temp1
FROM    dbo.tfn_GetPackageResources(@sourcePackageId,null,null,null,null)

SELECT  *
INTO    #temp2
FROM    dbo.tfn_GetPackageResources(@comparePackageId,null,null,null,null)

SELECT  a.Id 
INTO    #ids
FROM    #temp1 a 
INNER JOIN
        #temp2 b ON  
        a.No = b.No 
AND     a.UnitCode=b.UnitCode 
AND     a.IsCompound=b.IsCompound 
AND     a.Title=b.Title

SELECT  id
FROM    #temp1
WHERE   id not in(  
    SELECT  Id 
    FROM    #ids
)

-- you can also try replacing the above query with this one if it performs faster
SELECT  id
FROM    #temp1 t
WHERE   NOT EXISTS 
(
    SELECT Id FROM #ids i WHERE i.Id = t.id
) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T08:22:42.760

在您的函数中，声明它返回的表的类型，并包含一个主键。这样，ID 过滤器将能够更有效地查找 ID。

有关语法，请参阅[http://msdn.microsoft.com/en-us/library/ms191165(v=sql.105).aspx](http://msdn.microsoft.com/en-us/library/ms191165(v=sql.105).aspx)。

# oracle11g - Oracle：是否可以将 Long 列中的值与 Clob 列中的值进行比较

> ID：14975121
> 
> 赞同：1
> 
> 时间：2013-02-20T08:16:08.313
> 
> 标签：oracle11g, compare, long-integer, clob

有一个表 X 有一个“长”列，表 Y 有一个“CLOB”列。数据已从表 X 迁移到表 Y。现在我需要验证数据是否正确转换。我有使用强制转换的想法，但似乎“长”值无法在选择语句中转换为“Varchar”。任何想法都受到高度赞赏。

例如：

SELECT LONG_COLUMN FROM TABLE_X 减号 SELECT CLOB_COLUMN FROM TABLE_Y

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:29:17.823

您有两个问题：`long`无法轻松转换/与其他数据类型进行比较，并且`clob`无法在`minus`操作中使用！

幸运的是，这两个问题都可以通过使用 PL/SQL 来克服。`varchar2`Long 和 clob在 PL/SQL 块中被选择时可以隐式转换为。您可以将它们加载到嵌套表中，然后使用`multiset except`运算符查找它们之间的差异：

```
create table long_t ( x long );
create table lob_t  ( x clob );

insert into long_t values ('1');
insert into long_t values ('2');
insert into lob_t values ('1');

declare
  type t is table of varchar2(32767);
  longs t;
  clobs t;

  diff t;
begin
  select x bulk collect into longs from long_t;
  select x bulk collect into clobs from lob_t;
  diff := longs multiset except clobs;

  for i in 1 .. diff.count loop
    dbms_output.put_line(diff(i));  
  end loop;

  diff := clobs multiset except longs;

  for i in 1 .. diff.count loop
    dbms_output.put_line(diff(i));  
  end loop;
end;
/

anonymous block completed
2 
```

如果您的表包含超过几千行，那么您可能会按原样使用上述方法耗尽内存，因为将立即加载整个表。如果您`id`在每个表上都有一个或类似的列，那么最好获取并比较范围内的行，例如 1-1000、1001-2000 等。

# iphone - iOS 崩溃日志打印到控制台

> ID：14975130
> 
> 赞同：1
> 
> 时间：2013-02-20T08:17:03.347
> 
> 标签：iphone, ios, xcode, debugging

我的问题在引入 iOS 6 时出现，但现在似乎也影响了 5.1.1。

当应用程序崩溃时，日志会打印到“控制台”，并且不会保存“设备日志”。这在很多方面令人沮丧：

*   控制台视图太短，我只能看到日志的尾部，
*   复制/粘贴不起作用，保存到文件...产生垃圾，无法使用，
*   没有办法保存日志、对其进行符号化或做任何事情。

值得一提的是，我们使用配件，无法同时连接调试器。

一个如何解决这个问题的想法可以节省我的时间，但任何体面的解决方法也会很好。

谢谢

编辑：“控制台”和“设备日志”是我在管理器中得到的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:53:01.863

我知道的最简单的方法需要一些设置。设置完成后，您将可以访问完整的日志，即使在重新启动时也是如此，您可以将其保存以备后用。

你需要一个越狱的设备。在 Cydia 中安装名为`syslogd to /var/log/syslog`和的软件包`OpenSSH`。遵循 Cydia 起始页上的 OpenSSH 教程（下半部分）。-package`syslogd`没有教程，但安装过程是一样的。安装后`syslogd`重启设备。

日志被写入`/var/log/syslog`. 从开发 Mac 上的终端使用`ssh`登录设备并查看/跟踪日志。您可以`scp`将日志返回到您的开发机器，或者可以使用 Cyber​​Duck 或类似工具将它们从设备中删除。

日志会变大，我不确定是否有限制，所以请注意文件大小。友善的

`> /var/log/syslog`

时不时应该做的。

PS：Cydia 上也有一个`MobileTerminal`包。它将允许您直接从设备查看日志，而无需从第二台计算机 ssh'ing

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2016-06-15T07:21:46.030

在最新版本的 iOS 中，以下内容对我有用...

```
//This method will be invoked before crash occurs
 void onUncaughtException(NSException* exception)
 {
      //Print whatever you want to print before, I have print the info from exception
      MDDDebugLog(@"Reason for crash : %@", [exception reason]);
      MDDDebugLog(@"Name of the crash : %@", [exception name]);
      MDDDebugLog(@"Stack trace of the crash: %@", [exception   callStackSymbols]); 
 }

//Print crash log in file

- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions {
    //Assign a method which will be invoked before crash occurs
      NSSetUncaughtExceptionHandler(&onUncaughtException); 
  } 
```

# php - 查询以获取带有今天的 UNIX 时间戳的行

> ID：14975133
> 
> 赞同：0
> 
> 时间：2013-02-20T08:17:17.290
> 
> 标签：php, sql, date, unix-timestamp

在我的数据库中，我有 UNIX 时间戳作为需要运行的作业的截止日期。在给定的一天或给定的时间，我想知道需要运行哪些作业。我有以下代码来查询我的工作表：

```
$job = Model_Job::find('first',
 array(
  'where' => array(
   array('status_id', 1), // active
   array('due_date', today)
))) 
```

最后一个数组当然只是伪代码。我想出了以下代码来确定时间戳是否是今天。

```
date('Ymd', strtotime(Date::forge(time())->get_timestamp())) == date('Ymd', strtotime($job->due_date)) 
```

我如何将它与我的查询结合起来？有没有更好的方法然后遍历查询的数组？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:24:31.500

现在，这可能不是一个好方法，但这是第一个想到的方法。

$today = strtotime('今天 00:00');

您可以使用该片段中的日期并设置一个`WHERE due_date > $today`我不太确定如何使用您的数据库模型执行此操作。

编辑：这取决于您在 php 配置中具有正确的时区设置。

正如塞巴斯蒂安指出的那样，这也将获得所有未来的日期，但您可以简单地使用相同的技术来获得当天的最后一个时间戳

```
$todaystart = strtotime('today 00:00'));
$todayend = strtotime('today 23:59:59')); 
```

`BETWEEN`并在您的 SQL 查询中使用运算符

# javascript - jQuery中的包含

> ID：14975136
> 
> 赞同：0
> 
> 时间：2013-02-20T08:17:30.820
> 
> 标签：javascript, jquery, html, css, twitter-bootstrap

我正在尝试创建具有开/关状态的开关按钮（使用 twitter 引导程序）。

在这个演示中，您可以看到我有按钮的外边框。按钮可拖动对 x-Offset 是正确的。

我希望按钮不要超出我的边界。所以我把它放在一个`div`元素中并将它设置为某个宽度。我不认为进展顺利。

请建议我如何在边界区域绑定此按钮。

小提琴链接- [http://jsfiddle.net/stackmanoz/w6AsC/3/](http://jsfiddle.net/stackmanoz/w6AsC/3/)

一些代码架-

```
<div style="width:200px;border:1px dashed #ddd">
    <p id="button" class="btn-inverse btn">Regular link</p>
</div> 
```

还有脚本——

```
$(document).ready(function () {

        $('#button').draggable({ axis: 'x' });

    }); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T08:21:28.113

添加一个额外的参数，如[Docs, your friend and helper](http://jqueryui.com/draggable/#constrain-movement)中所述。

```
 $('#button').draggable({ axis: 'x',containment: "parent" }); 
```

[演示](http://jsfiddle.net/w6AsC/4/)

这样你理论上甚至不需要轴参数。

# python - 努力理解python包和导入语句

> ID：14975137
> 
> 赞同：1
> 
> 时间：2013-02-20T08:17:38.533
> 
> 标签：python

我有一个这样的包裹

```
sound/
    __init__.py
   effects/
       __init__.py
       echo.py
   formats/
      __init__.py
     avi.py 
```

在 avi.py 我有这样的导入语句

```
from sound.effects import echo 
```

此代码引发**No Module Named sound.effect**错误

从[pythondocs](http://docs.python.org/2/tutorial/modules.html#intra-package-references)我了解到这是可能的。我正在通过stackoverflow搜索并找到相关的问题和答案，但我无法理解它们。

请帮我解决这个问题。

谢谢，

对虾。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T08:20:22.153

如果文件夹名称是`effects`，您为什么要尝试从中导入`effect`？试试`from sound.effects import echo`吧。

另外，您为什么要尝试`echo`从内部导入？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-20T08:24:36.087

如果您`avi.py`从该`formats`文件夹运行，并且不调整您的`PYTHONPATH`，Python 将无法找到该`effects`包。尝试从声音目录之外运行您的代码，修改您的`PYTHONPATH`环境变量，使其包含其中`sound`生活是 thtat 的一部分的目录，或者`PYTHONPATH`在运行时更改您的代码（例如，参见[此链接](http://www.johnny-lin.com/cdat_tips/tips_pylang/path.html)）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-20T08:25:16.787

我将假设这`sound.effect`是一个错字并且是`sound.effects`. 如果是这种情况，那么问题很可能是由于您的项目结构造成的。

如果您的项目的根级别与您`sound`的图表中一样，并且您已将其添加到您的`PYTHONPATH`（或任何数量的其他安装方法），那么 Python 将不知道在哪里寻找`sound`（因为没有相对于您的根目录的目录命名`sound`）。

因此，通常您会看到包结构，例如：

```
sound/
    README
    LICENSE
    setup.py
    sound/
        __init__.py 
```

...等等。

使用您当前的目录结构（如果我的假设是正确的），那么实际工作的导入是`from effects import echo`.

# c# - 组列表 按属性并获取分组次数

> ID：14975138
> 
> 赞同：0
> 
> 时间：2013-02-20T08:17:39.703
> 
> 标签：c#, list, properties, linq-group

假设我有一个名为 Person 的类：

```
public class Person
{
    public int Age { get; set; }
    public string FirstName { get; set; }
    public string LastName { get; set; }
} 
```

以及人员名单：

```
Person { Age = 20, FirstName = "John", LastName = "Joe" }
Person { Age = 20, FirstName = "John", LastName = "Joe" }
Person { Age = 10, FirstName = "James", LastName = "Dokes" } 
```

我想要的是一个（新的或旧的具有新属性的）列表，该列表按年龄、名字和姓氏对人进行分组，并且我还想知道该对象被分组了多少次。

所以上面的结果是：

```
Person { Age = 20, FirstName = "John", LastName = "Joe", Count = 2 }
Person { Age = 10, FirstName = "James", LastName = "Dokes", Count = 1 } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-20T08:23:37.553

简单的：

```
people.GroupBy(x => new { x.Age, x.FirstName, x.LastName })
      .Select(x => new { x.Key.Age, x.Key.FirstName, x.Key.LastName, Count = x.Count() }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T08:31:28.857

就在我发布之前，我已经从 JustAnotherUserYouMayKnow 看到了答案，因此打算取消，但无论如何我发布只是为了仅使用 GroupBy 显示相同的结果，并带有`resultSelector`参数（而不是单独的投影）

```
var personList = new List<Person> {
    new Person { Age = 20, FirstName = "John", LastName = "Joe" },
    new Person { Age = 20, FirstName = "John", LastName = "Joe" },
    new Person { Age = 10, FirstName = "James", LastName = "Dokes"}};

var results = personList.GroupBy(per => new { per.Age, per.FirstName, per.LastName },
    (key, items) => new { key.Age, key.FirstName, key.LastName, Count = items.Count() } ); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-20T08:33:23.983

非过程替代：

```
List<Person> ls = new List<Person>();
ls.Add (new Person() { Age = 20, FirstName = "John", LastName = "Joe" });
ls.Add(new Person() { Age = 20, FirstName = "John", LastName = "Joe" });
ls.Add(new Person() { Age = 10, FirstName = "James", LastName = "Dokes" });

var result = (from cur in ls
                group cur by new { Age = cur.Age, Name = cur.FirstName, LastName = cur.LastName }
                into tmpResult
                select new { tmpResult.Key.Age,tmpResult.Key.LastName,tmpResult.Key.Name,Count = tmpResult.Count()}); 
```

# ruby - 使用 EventMachine 周期性计时器进行可靠计时

> ID：14975140
> 
> 赞同：1
> 
> 时间：2013-02-20T08:17:49.313
> 
> 标签：ruby, timer, eventmachine

我的目标是建立一个每 10 分钟为 37,500 个城市播放广告的系统。所有城市的数据库查询、计算和 AMQP IO 大约需要 5 分钟。

代码的结构大致如下：

```
EventMachine.add_periodic_timer(10 minutes) do
  the_task_that_takes_five_minutes
end 
```

我发现即使计时器设置为 10 分钟间隔，即使任务花费不到 10 分钟，命令也会以 15 分钟间隔触发（完成任务所需的时间 + EM 周期。）

如果我们假设任务永远不会超过 10 分钟，那么无论任务处理时间如何，我将如何确保计时器的周期始终与上次运行正好 10 分钟？

EM 基本上似乎在任务运行*后*设置下一个计时器，而不是之前。

我围绕任务批处理本身尝试了一个简单的 EM.defer。我以为这会打开设置下一个计时器的线程，但这并不能解决问题。

我可以摆脱以下吗？

```
def do_stuff
  EventMachine.add_timer(10 minutes) do
    do_stuff
  end

  the_task_that_takes_five_minutes
end

do_stuff 
```

我知道我可以在 Javascript 中做这种事情，因为计时器不会在 do_stuff 调用堆栈中执行。EventMachine 是这样吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:11:27.687

这只是一个想法，但也许计时器可以触发该函数只是为了广播广告，而不是进行所有计算。

```
EventMachine.add_periodic_timer(10 minutes) do
  ad_broadcasting calculations
  EM.defer
    calculations = Calc.new
  end
end 
```

我不确定推迟计算是否会避免 EM 等待它。

# google-maps - 我通过使用 sencha touch 的方向失去了地图缩放

> ID：14975143
> 
> 赞同：0
> 
> 时间：2013-02-20T08:18:21.827
> 
> 标签：google-maps, sencha-touch, sencha-touch-2

我有一个视图显示起点和终点之间的方向的地图。

方向没问题，但我失去了缩放因子，缩放为 0。

当我删除'directionsDisplay.setMap(gmap);'时，缩放系数还可以。

在这里我读到设置超时，但我不知道我必须在哪个地方这样做......？ [http://www.sencha.com/forum/showthread.php?193567-2.0.1-Map-Directions-Not-Zooming-to-correct-level-or-not-showing](http://www.sencha.com/forum/showthread.php?193567-2.0.1-Map-Directions-Not-Zooming-to-correct-level-or-not-showing)

这是我的代码：

```
Ext.define("ElectroRadar.view.map.Start", {
extend: 'Ext.Map',
xtype: 'maptest',

config: {

    title: 'Karte',
    iconCls: 'maps',

 id:'menuMap2',

          mapOptions: {
                            zoom : 15,
                            mapTypeId : google.maps.MapTypeId.ROADMAP,
                            navigationControl: true,
                            navigationControlOptions: {
                                            style: google.maps.NavigationControlStyle.DEFAULT
            }

      },

    listeners: [
        {
            fn: 'onMapMaprender',
            event: 'maprender'
        }
    ]
},

onMapMaprender: function(map, gmap, options) {
    var start = '';
  navigator.geolocation.getCurrentPosition(function(position) {
            var start = new google.maps.LatLng(position.coords.latitude,position.coords.longitude);
            var end = new google.maps.LatLng(54.5625461,9.9488523); 

            var directionsDisplay = new google.maps.DirectionsRenderer();
            var directionsService = new google.maps.DirectionsService();

            directionsDisplay.setMap(gmap);

            var request = {
                origin:start, 
                destination:end,
                travelMode: google.maps.DirectionsTravelMode.DRIVING
            };

            directionsService.route(request, function(response, status) {                                                   
                if (status == google.maps.DirectionsStatus.OK) {
                    directionsDisplay.setDirections(response);
                }
            });
    });                                      
}}); 
```

我可以在我的代码中更改哪些缩放用于最佳方向视图？

在这里你可以看到它： [http ://wachtelborn.net/_ansicht/event/mobile/4/](http://wachtelborn.net/_ansicht/event/mobile/4/)

导航到“karte”

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T21:39:35.333

在directionsDisplay.setDirections()之后：

```
if (status == google.maps.DirectionsStatus.OK) {
    directionsDisplay.setDirections(response);
} 
```

# c#-4.0 - 如何遍历这个 IEnumerator

> ID：14975144
> 
> 赞同：0
> 
> 时间：2013-02-20T08:18:23.497
> 
> 标签：c#-4.0

我从 ConcurrentDictionary 获得了 IEnumerator 类型。我正在尝试使用以下方式迭代它

```
 System.Collections.Generic.IEnumerator<System.Collections.Generic.KeyValuePair<string,string>>

    Ien  = Concur_Dictionary.GetEnumerator();

    foreach (KeyValuePair<string, string> pair in Ien) -->Error here
    {
    } 
```

我收到以下错误

```
Error   4   foreach statement cannot operate on variables of type 'System.Collections.Generic.IEnumerator<System.Collections.Generic.KeyValuePair<string,string>>' because 'System.Collections.Generic.IEnumerator<System.Collections.Generic.KeyValuePair<string,string>>' does not contain a public definition for 'GetEnumerator' 
```

关于如何迭代这个 IEnumerator 的任何建议？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-20T08:20:37.613

您通常不想遍历`IEnumerator`; 您只需直接迭代`IEnumerable`：

```
foreach (var pair in Concur_Dictionary) … 
```

如果由于某种原因您无权访问`IEnumerable`，您可以这样做：

```
while (Ien.MoveNext())
{
    var pair = Ien.Current;
    …
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T08:32:01.027

你可以使用`MoveNext()`它。

```
var enumerator = getInt().GetEnumerator();
while(enumerator.MoveNext())
{
    //Line of codes..
} 
```

你可以做这样的事情。

或者这可以做到。

```
foreach (var item in collection)
{
    // do your stuff   
} 
```

试试这对我有用的东西。

# ios - iOS 5 上 Reverb2 效果 AU 的房间类型

> ID：14975147
> 
> 赞同：0
> 
> 时间：2013-02-20T08:18:29.123
> 
> 标签：ios

当我尝试在 iOS 中的 Reverb2 单元上设置 ReverbRoomType 属性时，我得到一个 -10879 (kAudioUnitErr_InvalidProperty)。这是我创建它的方法：

```
AudioComponentDescription outputcd = {0};
outputcd.componentType = kAudioUnitType_Effect;
outputcd.componentSubType = kAudioUnitSubType_Reverb2;
outputcd.componentManufacturer = kAudioUnitManufacturer_Apple;
AUNode reverbNode;
CheckError(AUGraphAddNode(self.auGraph, &outputcd, &reverbNode), 
           "AUGraphNode[kAudioUnitSubType_Reverb2] failed");
CheckError(AUGraphNodeInfo(_auGraph, reverbNode, NULL, &_auReverb),
           "AUGraphNodeInfo failed [reverbNode]"); 
```

这里设置房间类型（“CheckError()”调用失败，该调用针对 noErr 测试返回并在退出前记录错误）。这是由于 kAudioUnitErr_InvalidProperty 而失败的调用：

```
 UInt32 roomType = kReverbRoomType_LargeHall;
 CheckError(AudioUnitSetProperty(_auReverb, kAudioUnitProperty_ReverbRoomType, 
            kAudioUnitScope_Global, 0, &roomType, sizeof(UInt32)),
"AudioUnitSetProperty[kAudioUnitProperty_ReverbRoomType] failed"); 
```

我只为属性尝试了 2 个不同的值，但错误让我认为属性常量本身是错误的。这不能在 iOS 5 上设置吗？从 kAudioUnitProperty_ReverbRoomType 更改为 kAudioUnitProperty_ReverbPreset 也无济于事。

在此先感谢您的任何建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-02T03:08:43.983

kAudioUnitProperty_ReverbRoomType 和 kAudioUnitProperty_ReverbPreset 属性适用于 3D Mixer AU，而不是 Reverb2 AU。

# android - 为什么当我收到广播意图时显示我的主要活动

> ID：14975149
> 
> 赞同：1
> 
> 时间：2013-02-20T08:18:46.507
> 
> 标签：android, android-activity, android-broadcast

我有两个活动`MainActivity`和`RecordHistory`。

我在`MainActivity`.
我也能够获得广播意图，并且`OnRecieve`
我正在启动`RecordHistory`Activity。
但我的问题是在可见`MainActivity`时也会启动。 但我只想发起活动。 `RecordHistory`
`RecordHistory`

REcordHistory.java

```
Bundle bundle = getIntent().getExtras();
    String phonenumbString = bundle.getString("phonenumber");
    Toast.makeText(this, phonenumbString, Toast.LENGTH_SHORT).show();

    final Dialog dialog = new Dialog(RecordHistory.this);
    Window window = dialog.getWindow();
    WindowManager.LayoutParams wlp = window.getAttributes();

    wlp.gravity = Gravity.CENTER;
    wlp.x=0;
    wlp.y=0;
    //
    wlp.flags &= ~WindowManager.LayoutParams.FLAG_DIM_BEHIND;
    window.setAttributes(wlp);

    dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);
    dialog.setContentView(R.layout.show);
    dialog.setCanceledOnTouchOutside(true);
    dialog.setCancelable(true);
    dialog.show();
} 
```

MainActivity.java

```
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);     

    broadcastIntent();
}

public void broadcastIntent() {
    Intent intent = new Intent();
    //Toast.makeText(MainActivity.this,"Running ",Toast.LENGTH_LONG).show();
    intent.setAction("com.example.downloadfileservice.IncomingCallListener");
    sendBroadcast(intent);
}

public void onClick(View view) {

}
} 
```

IncomingCallReceiver.java

```
public class IncomingCallListener extends BroadcastReceiver {
private static long timeStarted = -1L; // IMPORTANT!
private static long timeAnswered;
private static long timeEnded;
private static boolean isRoaming;
private static String callerNumber;
@Override
public void onReceive(Context context, Intent intent) {
    // TODO Auto-generated method stub
    Log.d("TEST","OnRecieve ");
Bundle extras = intent.getExtras();
if (extras == null) return;
String state = extras.getString(TelephonyManager.EXTRA_STATE);
if (state == null) return;

// phone is ringing
if (state.equals(TelephonyManager.EXTRA_STATE_RINGING)) {           

    timeStarted = System.currentTimeMillis();
    String timStarted = new SimpleDateFormat("MMM dd,yyyy HH:mm:ss").format(Calendar.getInstance().getTime());
    callerNumber = extras.getString(TelephonyManager.EXTRA_INCOMING_NUMBER);
    TelephonyManager tm = (TelephonyManager) context.getSystemService(
            Context.TELEPHONY_SERVICE);
    isRoaming = tm.isNetworkRoaming();

    // set timeAnswered to -1;
    timeAnswered = -1L;
    SimpleDateFormat sdf = new SimpleDateFormat("MMM dd,yyyy HH:mm");

    Date resultdate = new Date(timeAnswered);
    Log.d("TEST","TimePRatik "+sdf.format(resultdate));
    Log.d("TEST", "timeStarted: " + (timStarted));
    Log.d("TEST", "caller number: " + callerNumber);
    Log.d("TEST", "isRoaming: " + isRoaming);
    return;
}

// call was answered
if (state.equals(TelephonyManager.EXTRA_STATE_OFFHOOK) && timeStarted != -1L) {
    String timAnswered = new SimpleDateFormat("MMM dd,yyyy HH:mm:ss").format(Calendar.getInstance().getTime());
    timeAnswered = System.currentTimeMillis();
    Log.d("TEST", "timeAnswered: " + timAnswered);

    return;
}

// call was ended
if (state.equals(TelephonyManager.EXTRA_STATE_IDLE) && timeStarted != -1L) {
    String timEnded = new SimpleDateFormat("MMM dd,yyyy HH:mm:ss").format(Calendar.getInstance().getTime());
    timeEnded = System.currentTimeMillis();
    Log.d("TEST", "timeEnded: " + timEnded);
    timeStarted = -1L; // DON'T FORGET!
    Intent i = new Intent(context,RecordHistory.class);
    i.putExtra("phonenumber", callerNumber);
    i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
    Log.d("TEST", "Context of "+context.getClass());
    context.setTheme(android.R.style.Theme_Translucent_NoTitleBar);
    context.startActivity(i); 

    return;
}
} 
```

}

# windows-store-apps - WINRT XAML System.Void 编译错误

> ID：14975151
> 
> 赞同：1
> 
> 时间：2013-02-20T08:18:52.253
> 
> 标签：windows-store-apps, winrt-xaml

在商店应用程序中进行了一些代码更改后，我遇到了编译错误：

-> System.Void 不能在 C# 中使用——使用 typeof(void) 来获取 void 类型对象。

问题是：这来自生成的文件：XamlTypeInfo.g.cs。

```
case "System.Void"
    userType= new ... ,typeof(global::System.Void), ...
    ... 
```

回滚更改没有帮助，例如删除 bin 和 obj、重新启动等。

实际的 System.Void 案例条目是否可能表明代码生成器无法识别 XAML 文件中的某些内容？工作的 XamlTypeInfo.g.cs 中是否有 System.Void 条目？

--- 添加 --- 我现在可以在更改特定行时产生编译错误。我有一个从 ItemsControl 派生的自定义控件。我定义了一个正常工作的常规 DP。我还为 Template、TemplateSelector 和 Style 提供 AttachedProperties。想想一个通过 AttachedProperty 获取标签的文本框，它不仅是一个字符串，而且像 HeaderedControls 一样，您可以为标签定义一个模板等。

问题与 AttachedProp 的 Get/Set 方法有关。当我将 Getter 返回类型更改为 DataTemplate 或完全注释掉 Setter 时，就会出现编译错误：

```
public static DataTemplate GetLabelTEmplate(UIElement element)
{
    return (DataTemplate)element.GetValue(LabelTemplateProperty;
}

public static void SetLabelTemplate(UIElement element, object value)
{
    element.SetValue(LabelTemplateProperty, value);
} 
```

任何想法将不胜感激。

最好的问候戈佩

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-04T09:26:19.890

在向微软提交错误投诉后，他们向我指出了问题：setter 的值不能是 object 类型。XamlTypeInfo 生成需要此信息，因此当我将**对象**更改为**DataTemplate**时，它​​已编译。

虽然我还没有尝试过，但我相信 object 对于普通的 WPF 来说很好，但对于 Win 8 Store 应用程序，这确实会导致编译错误。有趣的事... ：）

# python - 如何将numpy“高级索引”与`np.newaxis`结合起来？

> ID：14975154
> 
> 赞同：3
> 
> 时间：2013-02-20T08:18:59.690
> 
> 标签：python, numpy

如何将 numpy“高级索引”与`np.newaxis`？

```
import numpy as np
a = np.zeros(10)
b = np.zeros(10, dtype=np.bool_)
b[4] = True
print(a[b])  # [ 0.]
print(a[b][:, np.newaxis])  # [[ 0.]]  (works, but this is inelegant)
print(a[b, np.newaxis])  # TypeError: int() argument must be a string or a number, not 'NoneType' 
```

# javascript - 有没有带有注释和绘图工具的高级股票图表库？

> ID：14975171
> 
> 赞同：4
> 
> 时间：2013-02-20T08:20:27.333
> 
> 标签：javascript, ruby-on-rails, ruby-on-rails-3, flash, charts

我正在研究 ruby​​ on rails。我需要一个非常先进的股票图表库，其中包括实时图表中的注释、绘图工具和指标，如下图所示：

![在此处输入图像描述](../Images/e935acedc77bd0321c935433d564462e.png)

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:22:22.940

Take a look at : [fusioncharts.com](http://www.fusioncharts.com/) and [https://developers.google.com/chart/](https://developers.google.com/chart/)

# ruby - Ruby 中的 RSS 自动发现 gem

> ID：14975176
> 
> 赞同：0
> 
> 时间：2013-02-20T08:20:52.537
> 
> 标签：ruby, rss, gem, autodiscovery

有人知道Ruby中的一些RSS Autodiscovery gem吗？我找不到合适的宝石。

我想要 gem 做的事情是

1.  做 RSS 自动发现
2.  适用于 Ruby on Rails 3.2

非常感谢您提前。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:56:02.970

这是其中的两个：

1.  [松露猪](https://github.com/pauldix/truffle-hog)
2.  [饲料袋](https://github.com/damog/feedbag)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T17:12:25.357

据我调查，[rfeedfinder](https://github.com/alx/rfeedfinder)是 Ruby 中 RSS 自动发现的最佳选择。

# powershell - 使用 SMO 生成外键删除 powershell 脚本

> ID：14975190
> 
> 赞同：0
> 
> 时间：2013-02-20T08:21:50.763
> 
> 标签：powershell, foreign-keys, smo

我有以下powershell脚本来生成一个脚本来删除外键，使用SMO（$scripter是一个Scripter对象，$db是一个数据库对象）：

```
$scripter.Options.ScriptDrops = $true;
$scripter.Options.DriForeignKeys = $true;
$scripter.Options.DriChecks = $true;

$dbObjCollection = @();
foreach($tb in $db.Tables)
{
  $dbObjCollection += $tb.Checks;
  $dbObjCollection += $tb.ForeignKeys;
}

foreach ($dbObj in $dbObjCollection) 
{   
  $smoObjects = @();
  $smoObjects += $dbObj.Urn; 
  if ($dbObj.IsSystemObject -eq $false) 
  { 
     $sc = $scripter.EnumScript($smoObjects); 
  } 
} 
```

但它不起作用；没有数据写入 Scripter 对象的 FileName 属性中指定的文件。

谁能提供有关如何设置 Scripter 对象以仅为外键生成 drop 的指导，以及将哪些对象传递给 Scripter 对象以实现这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:42:48.647

这个脚本对我有用（注意在 foreach 循环中对 $scripter.Script($dbObj) 的调用）。

```
[System.Reflection.Assembly]::LoadWithPartialName("Microsoft.SqlServer.SMO") | Out-Null

$s = New-Object Microsoft.SqlServer.Management.Smo.Server($serverInstance)
$db = $s.databases[$database]

$scripter = New-Object ('Microsoft.SqlServer.Management.Smo.Scripter') ($s)

$scripter.Options.ScriptDrops = $true;
$scripter.Options.DriForeignKeys = $true;
$scripter.Options.DriChecks = $true;

$dbObjCollection = @();
foreach($tb in $db.Tables)
{
  $dbObjCollection += $tb.Checks;
  $dbObjCollection += $tb.ForeignKeys;
}

foreach ($dbObj in $dbObjCollection) 
{   
  $smoObjects = @();
  $smoObjects += $dbObj.Urn; 
  if ($dbObj.IsSystemObject -eq $false) 
  { 
     $sc = $scripter.EnumScript($smoObjects); 
  } 

  $scripter.Script($dbObj)
} 
```

# c# - Syntactic Sugar to check null in Razor

> ID：14975202
> 
> 赞同：3
> 
> 时间：2013-02-20T08:22:31.807
> 
> 标签：c#, asp.net-mvc-3, razor, razor-2

Is there any better way to code razor cshtml that checks for null for nested object so it wont throw null exception error on the container object if the container is null. For example :

**page.cshtml**

```
Hello @obj1.obj2.prop3 
```

will throw error if obj1 is null or obj1.prop3is null, but

```
Hello @Html.DisplayFor(m => obj1.obj2.prop3) 
```

can check for null on obj1 or obj1.obj2 so it won't throw error

```
Hello @(obj1 == null? "" : (obj1.obj2 == null? "" : obj1.obj2.prop3)) 
```

is just too lengthy

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:04:46.700

You can try creating your own html helper:

```
static class MyOwnHtmlHelpers
{
    public static string EmptyIfNull<TModel>(this HtmlHelper<TModel> helper, Func<TModel, string> accessor)
    {
        try
        {
            var result = accessor.Invoke(helper.ViewData.Model);
            return result;
        }
        catch(NullReferenceException)
        {
            return string.Empty;
        }
    }
} 
```

And then use it like this:

```
@Html.EmptyIfNull(m => obj1.obj2.prop3) 
```

# azure - Windows Azure（dotnetnuke 模块安装错误）

> ID：14975208
> 
> 赞同：0
> 
> 时间：2013-02-20T08:22:49.567
> 
> 标签：azure, dotnetnuke, dotnetnuke-module

1.  我是 Windows Azure 的新手，我刚刚注册了 3 个月的免费试用版，我已经安装了 dotnetnuke 7.0.1 我遇到的问题是，每次我尝试在我的 dotnetnuke 网站上安装一个模块时，我都会得到sql错误信息，请帮忙，因为我不知道是什么问题。

2.  我的 Windows Azure 被禁用，因为我创建了超过 1 个数据库，但现在我已经删除了所有其他数据库，现在只剩下一个，我如何重新激活我的试用版以便我可以完成我的测试。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-20T11:37:25.547

1.  您尝试安装的模块的问题可能与 SQL Azure 不兼容。确保这些模块与向模块开发人员/供应商询问的 SQL Azure 兼容。如果问题出在开源/非核心模块中，前段时间我将它们全部修改为与 SQL Azure 兼容（查看此链接：[http](http://dotnetnuke6.intelequia.com/Module-Test) ://dotnetnuke6.intelequia.com/Module-Test ）。在安装其中任何一个之前，请确保 CodePlex 上没有修复了 SQL Azure 兼容性的新版本。

2.  我认为问题在于 SQL Azure“计费”计数器是“每天”计算的。因此，您应该至少等待一天才能创建新数据库，或者通过将订阅转换为付费订阅来禁用试用限制

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-02T13:50:36.290

---我为[POWERDNN](http://www.PowerDNN.com)工作---

嗨匿名，

虽然 Azure 确实有一些优势，但在 Azure 上运行像 DotNetNuke 这样的应用程序时，这确实不是一个好的业务或技术决策（至少在今天）。目前，Azure 无法与标准 SQL Server 技术相提并论，这是过去十年来 DotNetNuke 所针对的编码。

我已经与几个试图在 Azure 上运行他们的 DNN 网站的同事进行了交谈，这给他们带来了严重的问题，通常发生的情况是 SQL 脚本不会完全运行，并且会使他们的数据库处于不确定状态状态。在尝试 azure 几周后，问题通常对他们来说并不明显，然后他们必须决定要么回滚（和松散数周的数据），要么花费数小时试图找出哪些脚本没有完全运行并尝试以与天蓝色兼容的方式将事物拼凑在一起。

如果您从未需要重写供应商的 SQL 脚本，我会非常鼓励这种体验。太有趣了” ：-）

总是乐于助人，

托尼五世。

# jsp - JSP 文件不是在 Maven Web 项目的 webapp 文件夹中创建的

> ID：14975211
> 
> 赞同：0
> 
> 时间：2013-02-20T08:23:13.127
> 
> 标签：jsp, maven

我使用带有 artifactId 的 m2e 插件从 eclipse 中创建了一个 maven web 项目`maven-archetype-webapp`。项目结构如下：

```
src  
    |--main  
        |--java  
        |--resources  
        |--webapp  
            |--index.jsp  
            |--WEB-INF 
```

的主体`index.jsp`就像没有`<%@ page language="java".......>`标签的普通 html。
问题是当我尝试`login.jsp`在 webapp 文件夹中创建一个新的 jsp 文件时，它不是在那里创建的，而是自动进入或在其中创建的：

```
target  
    |--m2e-wtp  
        |--web-resources  
            |--login.jsp  
            |--META-INF 
```

如何解决这种情况？如何将 jsp 文件存储在 webapp 文件夹中？因此，当我在 tomcat 中部署 .war 文件并运行应用程序时，出现消息：login.jsp is not found

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T16:32:14.040

我有同样的问题（使用 Spring Tool Suite），显然这是一个固定的错误：

[https://bugs.eclipse.org/bugs/show_bug.cgi?id=375605](https://bugs.eclipse.org/bugs/show_bug.cgi?id=375605)

看起来它计划从 3.4.2 开始修复，我现在要更新我的了。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T09:10:45.553

当您从 Eclipse (ctrl + N) 创建一个新的 JSP 时，第二步让您选择目标文件夹。

![](../Images/1b92638fc1583bbb66f2816a8285485e.png)

只需选择您的 webapp 目录并继续。

# compiler-construction - IntelliJ 12 无法与 JDK 1.7 一起正常工作

> ID：14975212
> 
> 赞同：2
> 
> 时间：2013-02-20T08:23:16.610
> 
> 标签：compiler-construction, intellij-idea, java, java-7

当我尝试使用*JDK 7 update 7*在 IntelliJ 12 Ultimate 中运行我的项目（Shift+F10/播放按钮）时，出现以下错误：

**Java：在类路径中找不到系统 Java 编译器**

我试过了：

*   手动将我的*JDK\bin*路径添加到 Windows 中的路径环境变量，重新启动。（仍然没有帮助。我得到了同样的错误）
*   在可以选择 JDK的*项目结构*的每个部分下添加了 JDK7u7 。

但是，当我从 JDK7u7 更改为 JDK6u27 时，突然间我的项目编译*没有问题*。

如何使用 JDK7 运行我的项目？

操作系统：Windows 7 x64 Java 版本：JDK 1.7u7 i586 32 位，JDK 6u27 i586 32 位

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:38:14.143

我从未使用过 IntelliJ，但使缓存无效（FILE -> 使缓存无效）通常有助于解决不同类型的这些问题。

此外，由于最近的一些安全问题，我建议安装最新的 Java7 JDK 版本。

# ruby-on-rails - Heroku 错误消息：“我们很抱歉，但出了点问题。”

> ID：14975215
> 
> 赞同：0
> 
> 时间：2013-02-20T08:23:27.147
> 
> 标签：ruby-on-rails, postgresql, heroku

我在 Heroku 上运行 Rails 应用程序时遇到问题。

[我根据Michael Hartl](http://ruby.railstutorial.org/)编写的 Rails 教程制作了这个应用程序。当我加载页面时，我得到：

> 我们很抱歉，但有些不对劲。

基本信息日志：

```
ActionView::Template::Error :Error (PG::Error :Error: syntax error at or near ")"
count_column FROM "microposts" 
```

我在views/pages/home.html.erb中遇到的麻烦。我的其他页面没问题..可能在部分布局或页面中，。我不知道。点击这里这是[我的申请](http://lit-gorge-8599.herokuapp.com/)

在这个应用程序中，作为根路径的页面主页成功出现，但如果我登录，页面主页出现 heroku 消息

> 我们很抱歉，但有些不对劲

视图/页面/home.html.erb

```
<% if signed_in? %>`
<table class="profile" summary="For signed-in users">
<tr>
<td class="sidebar round">
<h1 class="micropost">What's up?</h1>
<%= render 'shared/micropost_form' %>
<%= render 'shared/feed' %>
</td>
<td class="main">
<%= render 'shared/user_info' %>
</td>
</tr>
</table>
<% else %>
<h3>Welcome to rails App by example</h3>
<p>Find out your friend, happening, connect to people or some the activities, organization and more</p>
<%= link_to "Sign up now!", 'signup', :class => "signup_button round" %>
<% end %> 
```

我在跑步

> heroku 日志 -t

```
ActionView::Template::Error :Error (PG::Error :Error: relation "users" doest not exist
LINE 1: SELECT "users".* FROM "users" WHERE "users"."auth_token"=... 
```

之前谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T12:55:48.647

似乎您没有在 heroku 上运行迁移，请尝试：

```
heroku run rake db:migrate 
```

有用的[链接](https://stackoverflow.com/questions/6163804/how-do-i-migrate-my-heroku-database)

# c - readdir 循环的次数多于目录中存在的文件数

> ID：14975217
> 
> 赞同：1
> 
> 时间：2013-02-20T08:23:39.520
> 
> 标签：c, readdir

我的目标是计算目录中的文件数。在四处搜索之后，我发现了一段代码，它遍历目录中的每个文件。但问题是它循环了额外的时间，更准确地说是额外循环了 2 次。

因此对于

```
int main(void)
{   
  DIR           *d;
  struct dirent *dir;  
  char *ary[10000];
  char fullpath[256];  
  d = opendir("D:\\frames\\");
  if (d)
  {    
   int count = 1;
    while ((dir = readdir(d)) != NULL)
    {  
       snprintf(fullpath, sizeof(fullpath), "%s%d%s", "D:\\frames\\", count, ".jpg");
       int fs = fsize(fullpath);
       printf("%s\t%d\n", fullpath, fs); // using this line just for output purposes
      count++;      
    }      
    closedir(d);
  }
  getchar();
  return(0);
} 
```

我的文件夹包含 500 个文件，但输出显示到 502![在此处输入图像描述](../Images/696b3a21a270106defe77c9bef15c7b1.png)

### 更新

我将代码修改为

```
struct stat buf;
if ( S_ISREG(buf.st_mode) ) // <-- I'm assuming this says "if it is a file"
{
  snprintf(fullpath, sizeof(fullpath), "%s%d%s", "D:\\frames\\", count, ".jpg");
  int fs = fsize(fullpath);
  printf("%s\t%d\n", fullpath, fs);
} 
```

但我得到了`storage size of "buf" isn't known`。我也尝试过`struct stat buf[100]`，但这也无济于事。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:45:43.177

正如评论中所指出的，您还将获得两个名为`.`and的目录`..`，这会影响您的计数。

在 Linux 中，您可以使用 的`d_type`字段将`struct dirent`它们过滤掉，但文档说：

> POSIX.1 规定的唯一结构中的唯一字段是：`d_name[]`，未指定大小，在`NAME_MAX`终止空字节之前最多有字符；和（作为 XSI 扩展）`d_ino`。其他字段未标准化，并非在所有系统上都存在；有关更多详细信息，请参见下面的注释。

因此，假设您在 Windows 上，您可能没有`d_type`. 然后您可以改用其他调用，例如[`stat()`](http://msdn.microsoft.com/en-us/library/14h5k7ff%28v=vs.80%29.aspx). 当然，您也可以根据名称进行过滤，但如果您想跳过目录，这是一个更强大和更通用的解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:02:10.463

您需要在要获取信息的文件名上调用`_stat()`/ `stat()`。

```
#include <sys/types.h>
#include <sys/stat.h>

#ifdef WINDOWS
#  define STAT _stat
#else
#  define STAT stat
#endif

...

char * filename = ... /* let it point to some file's name */

struct STAT buffer = {0};
if (STAT(filename, &buffer)
  ... /* error */
else
{
  if (S_ISREG(buffer.st_mode))
  {
    ... /* getting here, means `filename` referrs to a ordinary file */
  }
} 
```

# regex - 正则表达式匹配日志文件 1 到 11

> ID：14975219
> 
> 赞同：0
> 
> 时间：2013-02-20T08:23:49.500
> 
> 标签：regex, shell, unix

我想用一个正则表达式简单地从 500 个日志文件中提取 1 到 11 个：

```
log4j-cnode1.log.11  
log4j-cnode1.log.10  
log4j-cnode1.log.9  
log4j-cnode1.log.8  
log4j-cnode1.log.7  
log4j-cnode1.log.6  
log4j-cnode1.log.5  
log4j-cnode1.log.4  
log4j-cnode1.log.3  
log4j-cnode1.log.2  
log4j-cnode1.log.1 
```

所以我不想获取 log4j-cnode1.log.12, log4j-cnode1.log.13, ... , log4j-cnode1.log.500

我正在尝试这个命令：

```
find . -iname "log4j-cnode1*\.log\.(1[0-1]|[1-9])" 
```

为什么这不起作用？

1 到 9 可以正常工作：

```
find . -iname "log4j-cnode1*\.log\.[1-9]" 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T08:40:23.327

因为`-iname`不接受正则表达式，即使接受，你`1*`也可能不是你想要的。使用`-iregex`：

```
find -regextype posix-extended -iregex '(.*/)?log4j-cnode1.*\.log\.(1[0-1]|[1-9])' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:30:07.823

```
find . -iname "log4j-cnode1*\.log\.(1?[0-9])" 
```

您的正则表达式说 1 后跟 0 或 1 后跟 1-9

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T08:30:41.253

```
$ find -name 'log4j-cnode1*\.log\.[0-9]*'
./log4j-cnode1.log.1
./log4j-cnode1.log.10
./log4j-cnode1.log.11
./log4j-cnode1.log.2
./log4j-cnode1.log.3
./log4j-cnode1.log.4
./log4j-cnode1.log.5
./log4j-cnode1.log.6
./log4j-cnode1.log.7
./log4j-cnode1.log.8
./log4j-cnode1.log.9 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T08:37:20.153

你*几乎*是对的。

`-iname`但是，使用`-iregex`with `-regextype egrep`（或）代替`awk`，如下所示：

```
find . -regextype egrep \
    -iregex ".*log4j-cnode1.*\.log\.(1[0-1]|[1-9])" 
```

# android - Facebook Android SDK 3.0，如何在没有 LoginButton 的情况下共享内容

> ID：14975224
> 
> 赞同：11
> 
> 时间：2013-02-20T08:24:11.687
> 
> 标签：android, facebook, facebook-login, facebook-android-sdk

我现在正在做一个想要有一个分享按钮（对话框）的小项目，当用户点击它时，它会自动登录到他/她的 fb 帐户并分享他们想要的内容。

在 fb dev 的教程之后，我的应用程序可以将内容分享到墙上，但在分享之前需要使用 fblogin 按钮登录。

我已经阅读了来自 stackoverflow 的帖子： [Android - Facebook SDK 3 - 如何在没有 LoginButton 的情况下以编程方式登录](https://stackoverflow.com/questions/13746124/android-facebook-sdk-3-how-to-login-programatically-without-loginbutton)

**更新**：我已经在我的项目中实现了带有 onActivityResult 的 feedDialog，我发现我可以通过一个按钮登录和分享。 **但是**，当我重建应用程序/重新启动手机时，**我必须按两次按钮才能第一次分享**，但稍后恢复正常（按一次）。

PSI 已使用**shareActionProvider实现它**

```
@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getSupportMenuInflater().inflate(R.menu.content_main, menu);
    /** Getting the actionprovider associated with the menu item whose id is share */
    mShareActionProvider = (ShareActionProvider) menu.findItem(R.id.share).getActionProvider();

    /** Getting the target intent */
    Intent intent = getDefaultShareIntent();

    /** Setting a share intent */       
    if(intent!=null){
        mShareActionProvider.setShareIntent(intent);
        mShareActionProvider.setOnShareTargetSelectedListener(new OnShareTargetSelectedListener(){
            @Override
            public boolean onShareTargetSelected(ShareActionProvider source, Intent intent) {
                if ("com.facebook.katana".equals(intent.getComponent().getPackageName())){
                    if (Session.getActiveSession() == null || Session.getActiveSession().isClosed()) {
                        Session.openActiveSession(Content.this, true, null);
                }else{
                        publishFeedDialog();
                    }
                    return true;
                }
                return false;
            }
        });
    }

    return super.onCreateOptionsMenu(menu);
}
@Override
   public void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        Session.getActiveSession().onActivityResult(this, requestCode, resultCode, data);
        if (Session.getActiveSession() != null || Session.getActiveSession().isOpened())
            publishFeedDialog();
    }
private void publishFeedDialog() {
        Bundle params = new Bundle();
        params.putString("name", "ab");
        params.putString("caption", "cd");
        params.putString("description", "def");
        params.putString("link", "https://developers.facebook.com/android");
        params.putString("picture", "abc.jpg");

        WebDialog feedDialog = (
            new WebDialog.FeedDialogBuilder(Content.this,
                Session.getActiveSession(),
                params))
            .setOnCompleteListener(new OnCompleteListener() {

                @Override
                public void onComplete(Bundle values,
                    FacebookException error) {
                    if (error == null) {
                        // When the story is posted, echo the success
                        // and the post Id.
                        final String postId = values.getString("post_id");
                        if (postId != null) {
                            Toast.makeText(Content.this,
                                "Posted story, id: "+postId,
                                Toast.LENGTH_SHORT).show();
                        } else {
                            // User clicked the Cancel button
                            Toast.makeText(Content.this.getApplicationContext(), 
                                "Publish cancelled", 
                                Toast.LENGTH_SHORT).show();
                        }
                    } else if (error instanceof FacebookOperationCanceledException) {
                        // User clicked the "x" button
                        Toast.makeText(Content.this.getApplicationContext(), 
                            "Publish cancelled", 
                            Toast.LENGTH_SHORT).show();
                    } else {
                        // Generic, ex: network error
                        Toast.makeText(Content.this.getApplicationContext(), 
                            "Error posting story", 
                            Toast.LENGTH_SHORT).show();
                    }
                }

            })
            .build();
        feedDialog.show();
        } 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-22T18:55:20.463

**非常感谢李明的解决方案**

我终于得到答案了！！！！下面是代码，希望对其他开发者有所帮助

```
private Session.StatusCallback callback = new Session.StatusCallback() {
          @Override
          public void call(Session session, SessionState state,
            Exception exception) {
           onSessionStateChange(session, state, exception);
          }
    };
    private void onSessionStateChange(Session session, SessionState state, Exception exception) {
        if (state.isOpened()) {
            publishFeedDialog();
        }
    }
    //........................
                    if (Session.getActiveSession() == null || Session.getActiveSession().isClosed()) {
                            Session.openActiveSession(Content.this, true, callback);
                    }else{
                            publishFeedDialog();
                        }
     //.......................
    @Override
       public void onActivityResult(int requestCode, int resultCode, Intent data) {
            super.onActivityResult(requestCode, resultCode, data);
            Session.getActiveSession().onActivityResult(this, requestCode, resultCode, data);
        }
    private void publishFeedDialog() {
            //........................
      } 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-02-22T17:54:15.770

我认为这里的问题是，当您构建菜单时，您会检查活动会话是否为空，如果是，则调用 openActiveSession，并等待调用 onActivityResult。

这都是正确的，但是，如果用户之前已经授权了您的应用程序，那么访问令牌等都保存在令牌缓存中，调用 openActiveSession 实际上会立即打开会话（无需调用 onActivityResult）。

真正正确的方法是将 StatusCallback 传递给您的打开调用（而不是 null），并在该回调中检查会话是否打开，然后调用您的 publishFeedDialog 方法。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-04-14T16:37:38.047

`Getting Started`教程中对此进行了介绍：

```
 package com.firstandroidapp;

import android.os.Bundle;
import android.app.Activity;
import android.content.Intent;
import android.widget.TextView;
import com.facebook.*;
import com.facebook.model.*;

public class MainActivity extends Activity {

  @Override
  public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

// start Facebook Login
Session.openActiveSession(this, true, new Session.StatusCallback() {

  // callback when session changes state
  @Override
  public void call(Session session, SessionState state, Exception exception) {
    if (session.isOpened()) {

      // make request to the /me API
      Request.executeMeRequestAsync(session, new Request.GraphUserCallback() {

        // callback after Graph API response with user object
        @Override
        public void onCompleted(GraphUser user, Response response) {
          if (user != null) {
            TextView welcome = (TextView) findViewById(R.id.welcome);
            welcome.setText("Hello " + user.getName() + "!");
          }
        }
      });
    }

     }
    });
  }

  @Override
  public void onActivityResult(int requestCode, int resultCode, Intent data) {
      super.onActivityResult(requestCode, resultCode, data);
      Session.getActiveSession().onActivityResult(this, requestCode, resultCode, data);
  }

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T08:45:34.303

`LoginButton`在 facebook-sdk-3.0 中只是一个从 FB 获取会话的工具。

如果您已经从 FB 获得会话，则需要检查发布权限。

# ms-access - 如何以编程方式将 ACCDB 转换为 MDB？

> ID：14975226
> 
> 赞同：2
> 
> 时间：2013-02-20T08:24:17.117
> 
> 标签：ms-access, ms-access-2010, ms-jet-ace, ms-access-97

有没有办法以编程方式将`Access 2010 ACCDB`文件转换为`Access 95/97 MDB`文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T10:54:00.883

这里有一些注意事项。我没有旧版本可以玩，所以我不知道您是否可以导入多于导出：

```
Dim ws As Workspace
Dim db As Object
Dim tdf As TableDef
Dim qdf As QueryDef
Dim dbExp As Database
Dim acApp As New Access.Application

acApp.OpenCurrentDatabase "z:\docs\demo.accdb"
Set dbExp = acApp.CurrentDb

Set ws = DBEngine.Workspaces(0)
FName = "z:\docs\oldver95.mdb"
''Access 95
Set db = ws.CreateDatabase(FName, dbLangGeneral, dbVersion30)
''You can only export tables and a limited range of datatypes
For Each tdf In dbExp.TableDefs
    If Left(tdf.Name, 4) <> "Msys" Then
        acApp.DoCmd.TransferDatabase acExport, "Microsoft Access", _
           FName, acTable, tdf.Name, tdf.Name
    End If
Next 
```

请参阅[http://msdn.microsoft.com/en-us/library/office/bb243161(v=office.12).aspx](http://msdn.microsoft.com/en-us/library/office/bb243161(v=office.12).aspx)

使用 VBScript 演示使用引擎的一些注意事项：

```
Dim objEngine
Dim objWS
Dim objDB
Dim db: db = "z:\docs\oldver95.mdb"

Set objEngine = CreateObject("DAO.DBEngine.36")
Set objDB = objEngine.OpenDatabase(db)

strSQL="SELECT * FROM Table1"

objDB.CreateQueryDef "Query1", strSQL 
```

# c++ - 如何获取 _variant_t 的值？

> ID：14975228
> 
> 赞同：1
> 
> 时间：2013-02-20T08:24:23.717
> 
> 标签：c++, excel, variant

我想知道如何获取 _variant_t 类型的值。

我已经知道使用 GetItems() 的方法值，例如：

```
_variant_t var = pRs->Fields->GetItem(i)->GetValue(); 
```

在 Excel 文件 (.xls) 中，我找不到整行数据的方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T10:14:25.187

有一组提取器可用于从变体类型中提取数据。只需将其转换为变体所代表的类型。要获取内部类型，请检查“vt”成员。

这是[MSDN](http://msdn.microsoft.com/en-US/library/ew0bcz27%28v=vs.110%29.aspx)上的一篇文章。

示例代码：

```
#include <Windows.h>
#include <comutil.h>
#include <cassert>

#pragma comment(lib, "comsuppw.lib")

int main()
{
    _variant_t v(10.0);
    assert(v.vt == VT_R8); // inner type is double

    double value = static_cast<double>(v); // 10.0

    return 0;
} 
```

# microcontroller - 18f26k20 具有 20mhz 振荡器和启用的 PLL

> ID：14975233
> 
> 赞同：1
> 
> 时间：2013-02-20T08:24:38.317
> 
> 标签：microcontroller, pic

我对 pic 18f26k20 不能用外部 20mhz 振荡器驱动并启用 PLL 是对的吗？我试过了——它奏效了。但它可靠吗？我不确定我是否完全理解数据表。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T23:16:25.510

当然不靠谱！最大 CPU 速度还取决于外部温度和电源电压。因此，如果您的电源电压为 3.6V 且温度低于 50°C，则可以正常工作。

检查数据表...

![在此处输入图像描述](../Images/0ec6a0ee89d881126c856dbf4372d165.png)

# php - 通过 mail() 发送 CSV 文件需要什么标头？

> ID：14975235
> 
> 赞同：0
> 
> 时间：2013-02-20T08:24:54.060
> 
> 标签：php

有人可以提供标题列表或有关如何发送带有附加 csv 文件的邮件的示例吗？

我遇到了麻烦，因为在我发现的每个示例中都是不同的标题。

更新：

```
private function sendMail(){
    $csv = $this->createCSV();
    $subject = $this->getMessage('subject');
    $message = $this->getMessage('message');
    $headers = $this->generateHeaders();

    mail('my_mail@gmail.com', $subject, $message, $headers);

    // $this->truncate();
}

private function generateHeaders($file){
    $boundary = md5(uniqid(time()));

    $headers = 'MIME-Version: 1.0'."\r\n";
    $headers .= '"Content-Type: multipart/mixed; boundary="'.$boundary."\"\r\n";  
    $headers .= 'From: noreplay@'.$_SERVER['SERVER_NAME']."\r\n";

    $headers .= '--'.$boundary."\r\n";

    $headers .= "Content-Type: text/csv; name=\"ImageServersLogs.csv\"\r\n";
    $headers .= "Content-Transfer-Encoding: base64\r\n";
    $headers .= "Content-Disposition: attachment; filename=\"ImageServersLogs.csv\"\r\n";
    $headers .= "\r\n";
    $headers .= chunk_split(base64_encode(file_get_contents('/var/www/html/_my.csv')));

    $headers .= "\r\n--".$boundary."\r\n";  
} 
```

# ios - 如何在我的 UIImageViews 上实现这种效果（圆角、内发光）？

> ID：14975237
> 
> 赞同：0
> 
> 时间：2013-02-20T08:25:01.267
> 
> 标签：ios, uiimageview, afnetworking, effects

![在此处输入图像描述](../Images/f2a8497e6d115908ce684f7b2d9de789.png)![在此处输入图像描述](../Images/40f5862a9d3757f90cd4b9dfa8dea532.png)

我有一个深色背景，所以我非常喜欢第一张图像上的斜面效果。

我正在尝试在我的`UIImageViews`优化内部重新创建这些效果，以便`UITableViewCells`在可变大小的图像上使用，但我无法找到一种完美的方式。

我还使用 AFNetworking 异步加载单元格中的图像，使用打包的 UIImageView+AFNetworking 类别，所以我将图像加载到单元格中，如下所示：

```
NSURL *originalURL = [NSURL URLWithString:@"url"];
[[cell _image] setImageWithURL:originalURL]; 
```

_image 只是`UIImageView`我的自定义表格单元格中的常规。

所以我的问题基本上是，你会怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T08:30:23.793

在框架中使用`CALayers`present 。`QuartzCore`

创建一个带有黑色背景和圆角的新图层。然后我们将图像作为 subLayer 添加到它。

```
CALayer *sublayer = [CALayer layer];
sublayer.backgroundColor = [UIColor blueColor].CGColor;
sublayer.shadowOffset = CGSizeMake(0, 3);
sublayer.shadowRadius = 5.0;
sublayer.shadowColor = [UIColor blackColor].CGColor;
sublayer.shadowOpacity = 0.8;
sublayer.frame = CGRectMake(30, 30, 128, 192);
sublayer.borderColor = [UIColor blackColor].CGColor;
sublayer.borderWidth = 2.0;
sublayer.cornerRadius = 10.0;
[self.view.layer addSublayer:sublayer];

CALayer *imageLayer = [CALayer layer];
imageLayer.frame = sublayer.bounds;
imageLayer.cornerRadius = 10.0;
imageLayer.contents = (id) [UIImage imageNamed:@"myImage.png"].CGImage;
imageLayer.masksToBounds = YES;
[sublayer addSublayer:imageLayer]; 
```

要提供发光效果，请使用此代码。

```
CABasicAnimation* animation1 = [CABasicAnimation animationWithKeyPath:@"opacity"];
[animation1 setDuration:1.0];
[animation1 setRepeatCount:INT_MAX];
[animation1 setFromValue:[NSNumber numberWithFloat:0.0]];
[animation1 setToValue:[NSNumber numberWithFloat:1.0]];
[subLayer addAnimation:animation1 forKey:nil]; 
```

# mysql - 使用左连接时使用 order by 和 limit 过滤查询

> ID：14975240
> 
> 赞同：0
> 
> 时间：2013-02-20T08:25:08.193
> 
> 标签：mysql, sql, select

如何使用左连接`order by`以及`limit`何时使用左连接过滤查询

```
store_profile
id + store_name
1  | Accessorize.me 
2  | Active IT 
3  | Edushop
4  | Gift2Kids
5  | Heavyarm 
6  | Bamboo 

store_fee
id + store_id + date_end
1  |    1     | 27-6-2013
2  |    2     | 29-8-2013
3  |    3     | 02-6-2013
4  |    4     | 20-4-2013
5  |    4     | 01-7-2013
6  |    4     | 28-9-2013
7  |    5     | 03-9-2013
8  |    6     | 01-9-2013 
```

我之前的查询

```
$order_by_for_sort_column = "order by $column" //sorting column

$query = "SELECT * FROM store_profile sp LEFT JOIN store_fee sf ON (sf.store_id = sp.id) $order_by_for_sort_column"; 
```

我想要的是表`order by id desc`而不是整个查询。所以我可以获取每家商店的最新日期。`limit 1``store_fee``date_end`

正如您所看到的 store_id 4(store_fee) 我有 3 个不同的日期，我只想获取最新的日期。

结果应该是这样的

```
1  | Accessorize.me  27-6-2013
2  | Active IT       29-8-2013
3  | Edushop         02-6-2013
4  | Gift2Kids       28-9-2013
5  | Heavyarm        03-9-2013
6  | Bamboo          01-9-2013 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:27:04.477

```
SELECT  a.id, a.store_name, MAX(b.date_End) date_end
FROM    store_profile a
        LEFT JOIN store_fee b
            ON a.ID = b.store_ID
GROUP   BY a.id, a.store_name 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/5f662/8)

但如果数据类型 `date_End`列是 varchar，则上述查询将不起作用，因为它按字符对值进行排序，并且可能会错误地给出不希望的结果。`18-1-2013`大于`01-6-2013`。

要进一步了解有关联接的更多信息，请访问以下链接：

*   [SQL 连接的可视化表示](http://www.codeproject.com/Articles/33052/Visual-Representation-of-SQL-Joins)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T08:33:14.623

```
SELECT * 
FROM store_profile AS sp 
  LEFT JOIN (
    SELECT store_id, MAX(date_end) 
    FROM store_fee 
    GROUP BY store_id
  ) AS sf 
    ON sp.id=sf.store_id; 
```

# java - Tomcat 负载均衡

> ID：14975248
> 
> 赞同：0
> 
> 时间：2013-02-20T08:25:43.433
> 
> 标签：java, tomcat, apache2, load-balancing

我在我的机器上创建了一个负载平衡场景，并且同样工作正常。但是，我被困在一个简单的问题上并请求帮助。

我有两个 tomcat 工人 - worker1 和 worker2。我还有一个称为平衡器的负载平衡器。workers.properties 文件已创建如下 -

*   workers.tomcat_home="MyTomcatDirectory"
*   workers.java_home="MyJDKDirectory"
*   worker.list=tomcat1,tomcat2
*   worker.list=平衡器
*   worker.tomcat1.type=ajp13
*   worker.tomcat1.host=localhost
*   worker.tomcat1.port=8009
*   worker.tomcat1.lbfactor=1
*   worker.tomcat2.type=ajp13
*   worker.tomcat2.host=localhost
*   worker.tomcat2.port=8019
*   worker.tomcat2.lbfactor=1
*   worker.balancer.type=lb
*   worker.balancer.balance_workers=tomcat1,tomcat2
*   worker.balancer.method=B`

现在，我有一个 webapp 说***webapp1***被最终用户广泛使用。因此，我希望所有用户对***webapp1***的请求都应该由 worker1 处理。为此，我在 apache 的 conf 目录中的 httpd.conf 文件中添加了以下几行 -

*   JkMount/平衡器
*   JkMount /* 平衡器
*   JkMount /webapp1 worker1
*   JkMount /webapp1/* worker1

这也很好。这里唯一的问题是，如果 tomcat1 (worker1) 关闭，平衡器不会将 webapp1 的请求定向到 tomcat2 (worker2)。我该如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T21:18:34.627

如果您希望请求默认转到工人 1，然后当且仅当工人 1 失败时再转到工人 2，您需要设置第二个 lb 工人（称为 lb2）和两个工人（tomcat1b 和 tomcat2b）并使用距离参数给 tomcat2b 比 tomact1b 更大的距离。这将导致 tomcat1b 优先于 tomcat2b 使用，除非 tomcat1b 失败。

有关更多信息，请参阅workers.properties 文档：http: [//tomcat.apache.org/connectors-doc/reference/workers.html](http://tomcat.apache.org/connectors-doc/reference/workers.html)

顺便说一句，您的workers.properties 中有tomcat1，但JKMount 中有worker1。那是行不通的。

# typo3 - 显示在前端的snowbabel 扩展 标签

> ID：14975254
> 
> 赞同：0
> 
> 时间：2013-02-20T08:26:32.537
> 
> 标签：typo3, typoscript

我对typo3 snowbabel 扩展有疑问。我需要在前端插入换行符。在手册中，指定“如果要在前端显示换行符，则必须插入 HTML 换行符标记。我已经添加了它。但是 html br 标记显示在前端。也是行break 不起作用。是否有任何配置？

谢谢，

阿伦·钱德兰

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T07:36:11.843

这只是一个方便的快速解决问题的方法。您可以使用`<section>`标签代替“ `<br/>`”标签。即使它们的目的可能不同，它仍然会给出输出。

或者

只需使用`<br></br>`而不是`</br>`. 工作正常。

# sql - 插入更多列时如何选择大小写？

> ID：14975259
> 
> 赞同：-1
> 
> 时间：2013-02-20T08:26:48.223
> 
> 标签：sql, sql-server, tsql

我需要您的帮助才能从 select 中插入，但我的查询对我来说太复杂了。我的逻辑如下

```
 INSERT INTO TheTable(A,CustomerNo,item,B,C,D)
    SELECT DISTINCT

        case when ((select count(*) from hesap  where CustomerNo=e.CustomerNo)0) then 
select top 1, A,CustomerNo,item+1,B,C,D
from dbo.Table1  order by ekno desc

)  else select 100,e.CustomerNo,e.item,0,e.defterid,'C'
from Table2 e end 
```

但我不能那样做...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:38:52.363

您可以尝试删除前 1 之后的逗号吗 像这样：

```
INSERT INTO TheTable(A,CustomerNo,item,B,C,D)
        SELECT DISTINCT
        case when ((select count(*) from hesap  where CustomerNo=e.CustomerNo)0) then 
        select top(1) A,CustomerNo,item+1,B,C,D
        from dbo.Table1  order by ekno desc
        )  
else select 100,e.CustomerNo,e.item,0,e.defterid,'C'
from Table2 e end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:38:26.327

您只能`case`在*列的基础上进行*。

您可以做的是进行`UNION`两次选择，然后插入结果。就像是

```
INSERT INTO TheTable(A,CustomerNo,item,B,C,D)
SELECT ... 
 WHERE (select count(*) from hesap  where CustomerNo=e.CustomerNo) = 0
UNION
SELECT select 100,e.CustomerNo,e.item,0,e.defterid,'C'
 WHERE (select count(*) from hesap  where CustomerNo=e.CustomerNo) > 0 
```

对不起，我不能总是关注你的选择，但我希望你明白了。您必须在 UNION 之前将 2 种可能性分开，因此每个原始行只能存在 1 行。

# java - 新线程不显示框架

> ID：14975262
> 
> 赞同：1
> 
> 时间：2013-02-20T08:27:04.133
> 
> 标签：java, multithreading, swing, concurrency, event-dispatch-thread

我正在尝试建立网络连接，详细信息在 JFrame 中。当用户单击一个按钮时，它应该启动新线程并向用户显示等待消息，直到主线程建立网络连接。我写了这段代码

```
 public void actionPerformed(ActionEvent arg0) {
     Thread ref = new Thread(new Test());//Create a new thread
     ref.start();
      new AIDRTConnManager().createConnection(ipAddress, portAddress);//main thread
      }

//This is my Thread Class
    public class Test implements Runnable{
    JDialog waitDialog;
    JPanel panel1 = new JPanel();
    JLabel waitLabel;
    JFrame frame;

    public void run(){
        frame = new JFrame();
         waitDialog = new JDialog( frame,AIRDT.toolName, true );
         waitDialog.setDefaultCloseOperation( JDialog.DO_NOTHING_ON_CLOSE );  
         JLabel waitLabel = new JLabel( "Trying to Connect to PleaseWait...",ErrorDialog.icon,SwingConstants.CENTER ); 
            panel1.add( waitLabel ); 
            waitDialog.add( panel1 );  
            waitDialog.setSize( 100, 40 ); 
            waitDialog.setBounds( 500,300, 300, 80 ); 
        waitDialog.setVisible( true ); 
    }
} 
```

但是当我单击按钮时，Jdialog 显示空框架，没有等待消息 (JLable)，一旦我完成网络连接，此等待消息就会正确显示。

我哪里错了？这是一个摆动问题（或）线程问题吗？

您能否帮我显示一条等待消息，直到后端活动完成？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T08:34:18.000

下的代码在`actionPerformed`事件调度线程（EDT）下执行，而不是在评论中所说的主线程上。

这意味着只要发生​​连接事件，EDT 就会被阻止，因此它不必处理其他一些 UI 内容，例如显示您的`JDialog`.

此外，与问题无关，但请注意，您创建了一个`JFrame`永远不会显示的并且是您的`JDialog`.

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-20T08:35:22.250

您在这里混合了线程 - 所有与 UI 交互的操作（例如创建新框架）都必须发生在事件调度线程 (EDT) 或您所称的“主”线程上。后台任务应该在不同的线程上执行。

基本上你有它向后 - 你应该在新线程中执行后台工作，并在主线程中创建新框架，这与你现在的方式相反。

# c - Char* 行为怪异（正在更改值）

> ID：14975265
> 
> 赞同：1
> 
> 时间：2013-02-20T08:27:24.187
> 
> 标签：c

变量：

```
struct configSetting {
    char *value;
};
char *stringResult;
char str[255];
int intResult;
int *p_intResult;
int i = 0;
p_intResult = &intResult; 
```

我正在将 int 转换为字符串：

```
struct configSetting settings[NUMBEROFSETTINGS];
settings[i].value = itoa(intResult, str, 10); 
```

printf 将正确的值打印到控制台中：

```
printf("\nVALUE: %s", settings[i].value); 
```

之后，我将另一个函数中的值写入控制台，输出在这两个 printf 之间发生变化：

```
printf("\nTEST 1: %s;%i", settings[15].value, strlen(settings[15].value));
printf("\nTEST 2: %s;%i", settings[15].value, strlen(settings[15].value)); 
```

这就是控制台中的结果： TEST 1: 50;2 TEST 2: ý³↑;3

所以 settings[15].value 中的 char* 在 printf 之间发生变化，我不知道为什么？

提前致谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T08:30:37.910

您正在`itoa()`使用后续调用覆盖您的最后一个值。

这个电话：

```
settings[i].value = itoa(intResult, str, 10); 
```

正在使用变量`str[]`。每次执行此操作时，您都会覆盖最后的结果。此外，如果`str[]`是本地的并且`settings`是全局的，则存储的结果指针不再有效，并且它是未定义的行为。

要么动态分配值字符串，`malloc()`要么使用`strdup()`或一些这样的，或者改变这个：

```
struct configSetting {
    char *value;
}; 
```

要包含一个真正的缓冲区，如下所示：

```
struct configSetting {
    char value[64];
}; 
```

然后`itoa()`直接进入设置：

```
itoa(intResult, settings[i].value, 10); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-20T08:30:26.873

您正在使用相同的缓冲区并为每个转换的值`str`存储对它的引用 ( )。`settings[i].value = itoa(intResult, str, 10);`下一次调用`itoa`将覆盖旧值。

# c# - ADO 和 Microsoft SQL 数据库备份和归档

> ID：14975266
> 
> 赞同：0
> 
> 时间：2013-02-20T08:27:23.323
> 
> 标签：c#, c++, sql-server, database-design, ado

我正在重新设计/升级工具。数据库通信使用 C++（非托管 ADO）并连接到 SQL Server 2005。

我对归档和备份/恢复技术有一些疑问。

1.  通常归档不同于备份/恢复。有人可以提供任何链接来解释我吗？目前该解决方案使用 bcp 工具进行归档。我看到代码中对表名有很多依赖。在选择设计时我必须考虑哪些事情（考虑到我必须在单击按钮时进行备份/存档，数据库大小最大为 100mb）

2.  将整个通信转移到 .net 会有帮助吗？考虑到很多 ORM 工具。所有的业务逻辑和 UI 都在 C# 中

3.  验证档案数据的最佳方法是什么？

PS：问题可能太高了，但我没有得到任何适当的链接来理解这一点。如果有人可以回答，那将非常有帮助。我可以提供更多细节！

提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:05:45.070

在 100 MB 时，我会说您可能不应该在存档上花费太多时间，而只需使用传统的备份策略。数据库的大小是如此之小，以至于归档将是一项非常复杂的操作，而且收益很小，因为归档过程通常只在大型数据库的情况下才相关。

一般来说，数据库备份是在发生灾难（意外数据删除、服务器崩溃等）时提供可恢复性的一种方式。归档主要意味着您对数据进行分区。

归档的一个可能目标是保持特定数据可用于查询，但不能更改它。在处理大容量数据库时，这是提高性能的绝佳方式，因为只读数据可以比“热”数据更密集地编入索引。它还允许您将只读数据移动到针对 READ 操作进行了优化的隔离 RAID 分区，而不必为典型的 RDBMS IO 操心。此外，通过从常规数据库中删除非活动数据意味着表中包含的数据大小将减少，这将提高整个系统的性能。

归档通常是出于法律原因进行的。有问题的数据可能对企业不再重要，但 IRS 或银行规则要求它在一定时间内可用。

使用 SQL Server，您可以使用[分区](http://msdn.microsoft.com/en-us/library/ms190787.aspx)策略归档数据。这通常涉及确定拆分数据的标准。这方面的一个例子可能是一个日期（即超过 3 年的数据将被移动到数据库的存档部分）。在大型系统的情况下，根据地理标准（即美洲在一台服务器上，欧洲在另一台服务器上）分割数据也可能是有意义的。

要回答您的问题：

1）看上面写的解释 2）这真的取决于升级的目标是什么。将其移至 .NET 将使代码得到管理，但这对业务来说有多重要？3) 如果您决定进行分区，验证它是否有效可能包括在原始数据库上针对包含您将用于分区的阈值之前和之后的值的数据发出查询，然后拆分数据，并重新发出查询之后验证它仍然返回相同的记录集。如果您将系统配置为使用[自动滑动窗口](http://msdn.microsoft.com/en-us/library/aa964122%28SQL.90%29.aspx)，您还可以密切关注系统以确保数据会自动移动到存档分区。

同样，如果 100MB 不是拼写错误，我认为您的数据库太小而无法真正从归档中受益。如果您的目标是加快速度，请将系统放在能够将整个数据库加载到 RAM 中的服务器上，或者使用 SSD 驱动器。

如果您出于法律或管理原因需要建立数据存档，请查看水平表分区。这是一个非常直接的过程，主要由 SQL Server 自动处理。

希望这可以帮助你！

# plone - 在两个网页之间共享内容+功能

> ID：14975270
> 
> 赞同：0
> 
> 时间：2013-02-20T08:27:35.933
> 
> 标签：plone, zope

我目前正在将旧网页（example.se）迁移到现有的 plone/zope 安装（example.net）中。应整合的“新旧网页”应：

*   与现有功能共享相同的功能
*   双向共享部分内容，例如论文或收藏

example.net 目前提供两种语言，de 和 en (example.net/de, example.net/en)。旧网页仅使用英文并且（当前）未使用子文件夹（example.se/） 域名应保持原样以访问网页。

到目前为止，我要解决的解决方案是为新的 webapge 创建一个新的单独实例。即使它们是分开的，也可以通过使用相同的构建脚本轻松共享功能。

然而，共享内容是不可能的，只能通过手动复制它们（因此，添加新内容两次，这应该出现在两个页面上）

有没有办法存档这个？

我正在使用 plone 4.1.6 和 zope 2.13.15。

# jquery - 查找数据表单元格的值

> ID：14975271
> 
> 赞同：1
> 
> 时间：2013-02-20T08:27:35.993
> 
> 标签：jquery, html, datatable

如何获取数据表单元格的值。我正在尝试以下代码来获取值，但它不起作用。谁能帮忙

```
 $(document).ready(function(){
       $("#edit_table").dataTable().makeEditable({
            var id = aData[2],
            sUpdateURL: "/submitchanges/"+id,
            "aoColumns": [
                null,
                {

                }
            ]
        });
    }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:04:58.740

如果您想从 jQuery 中读取表格，您可以使用一系列功能来导航表格。

在 StackOverflow 中以一种很好的方式回答了一个类似的问题：[如何使用 jQuery 获取表格单元格值？](https://stackoverflow.com/questions/376081/how-to-get-a-table-cell-value-using-jquery)

# c# - 通过 C# 程序访问 MySQL - 错误 [IM002] 未找到数据源名称且未指定默认驱动程序

> ID：14975276
> 
> 赞同：0
> 
> 时间：2013-02-20T08:27:56.710
> 
> 标签：c#, mysql, odbc

我正在调试一个旧的 C# 程序，该程序旨在接收 .dbf 文件，连接到数据库（出于某种原因*），然后以更人性化、格式化的方式输出这些 .dbf 文件（Excel 文件） . 这个程序的一个发布版本（几年前）运行良好，但有一些需要解决的问题。因此，我尝试调试可用的 Visual Studio 解决方案。

我在连接到数据库部分时遇到问题，因为程序返回上述错误。

我对 MySQL 没有太多经验，但我会尽力提供所有细节。

该程序正在 Visual Studio 2005 中调试。它可能也是在那里创建的，尽管有些东西看起来已经过时了。我的操作系统是 Windows 7，32 位。

我使用的是 MySQL 版本 3.23.42，并安装在运行程序的计算机上。这里没有网络设置，因为数据库可能存储临时数据，然后将其输出到 Excel 文件。

我不确定这是否正确（ODBC？而不是 SQL？），但这是在程序的顶部：

```
using System;
using System.Data;
using System.Data.Odbc;
using System.Windows.Forms; 
```

我还安装了 MyODBC 3.51.05。

这是连接字符串（注意：我没有写这个，它已经在那里了）：

```
string str_connection="DRIVER={MySQL ODBC 5.1 Driver};SERVER="localhost";DATABASE="TKCinterface";UID="ids";PASSWORD="ids";OPTION=3"; 
```

该程序在尝试打开连接时失败，我认为这与连接字符串有关。

我尝试通过 Tools -> Connect To Database 手动连接失败，或者至少是我选择的选项。

*   数据源：Microsoft ODBC 数据源
*   数据提供者：用于 ODBC 的 .NET Framework 数据提供者

我在随后的窗口中看不到数据库。

我可以通过命令行打开 MySQL，还可以看到数据库（TKCInterface），所以我不确定问题是什么。

奇怪的是，项目的References 中没有任何引用MySQL 的内容。不过，整个事情都很好。

对此的任何帮助将不胜感激。谢谢。

问候， Zack_Falcon

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:33:42.233

指定连接到 mysql 的端口

将连接字符串更改为

```
 string str_connection="DRIVER={MySQL ODBC 5.1 Driver};SERVER="localhost";DATABASE="TKCinterface";UID="ids";PASSWORD="ids";Port=3306;"; 
```

希望这可以帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:23:36.607

您肯定需要 mysql.data 和 mysql.data.entity 在您的参考列表中。

从这里下载库[http://dev.mysql.com/downloads/connector/net/](http://dev.mysql.com/downloads/connector/net/)

# python - 解析文件中的特定内容

> ID：14975282
> 
> 赞同：1
> 
> 时间：2013-02-20T08:28:13.407
> 
> 标签：python

我有一个看起来像这样的文件

```
 !--------------------------------------------------------------------------DISK
    [DISK]
    DIRECTION  =  'OK'
    TYPE       =  'normal'

    !------------------------------------------------------------------------CAPACITY
    [CAPACITY]
    code            =    0
    ID          =   110 
```

我想阅读 [DISK] 和 [CAPACITY] 部分......会有更多这样的部分。我想阅读这些部分下定义的参数。

我写了以下代码：

```
file_open = open(myFile,"r")
all_lines = file_open.readlines()
count = len(all_lines)
file_open.close()
my_data = {}
section = None
data = ""
for line in all_lines:
  line = line.strip()                               #remove whitespace
  line = line.replace(" ", "")      
  if len(line) != 0:               # remove white spaces between data        
      if line[0] == "[":
          section = line.strip()[1:]
          data = ""
      if line[0] !="[":
          data += line + "," 
          my_data[section] = [bit for bit in data.split(",") if bit != ""]
print my_data
key = my_data.keys()
print key 
```

不幸的是，我无法获得这些部分和其中的数据。对此的任何想法都会有所帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:45:01.123

你能对文本文件做些小改动吗？如果你可以让它看起来像这样（只改变了评论字符）：

```
#--------------------------------------------------------------------------DISK
[DISK]
DIRECTION  =  'OK'
TYPE       =  'normal'

#------------------------------------------------------------------------CAPACITY
[CAPACITY]
code            =    0
ID          =   110 
```

然后解析它是微不足道的：

```
from ConfigParser import SafeConfigParser

parser = SafeConfigParser()
parser.read('filename') 
```

获取数据如下所示：

```
(Pdb) parser
<ConfigParser.SafeConfigParser instance at 0x100468dd0>
(Pdb) parser.get('DISK', 'DIRECTION')
"'OK'" 
```

**根据评论编辑：**

如果您使用的是 <= 2.7，那么您就有点 SOL.. 真正的唯一方法是子类化`ConfigParser`并实现自定义`_read`方法。真的，您只需要复制/粘贴所有内容`Lib/ConfigParser.py`并编辑第 477 行（2.7.3）中的值：

`if line.strip() == '' or line[0] in '#;': # add new comment characters in the string`

**但是**，如果您正在运行 3'ish（不确定它是临时引入的版本，我正在运行 3.4(dev)），您可能很幸运：`ConfigParser`添加了`comment_prefixes` `__init__`参数以允许您自定义前缀：

`parser = ConfigParser(comment_prefixes=('#', ';', '!'))`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T08:56:22.407

正如[其他人已经指出的那样](https://stackoverflow.com/a/14975535/142637)，您应该能够使用该`ConfigParser`模块。

* * *

尽管如此，如果你想自己实现读取/解析，你应该把它分成两部分。

第 1 部分将是文件级别的解析：将文件拆分为块（在您的示例中，您有两个块：`DISK`和`CAPACITY`）。

第 2 部分将解析块本身以获取值。

你知道你可以忽略以 开头的行`!`，所以让我们跳过这些：

```
with open('myfile.txt', 'r') as f:
    content = [l for l in f.readlines() if not l.startswith('!')] 
```

接下来，将这些行读入块：

```
def partition_by(l, f):
    t = []
    for e in l:
        if f(e):
            if t: yield t
            t = []
        t.append(e)
    yield t

blocks = partition_by(content, lambda l: l.startswith('[')) 
```

最后读入每个块的值：

```
def parse_block(block):
    gen = iter(block)
    block_name = next(gen).strip()[1:-1]
    splitted = [e.split('=') for e in gen]
    values = {t[0].strip(): t[1].strip() for t in splitted if len(t) == 2}
    return block_name, values

result = [parse_block(b) for b in blocks] 
```

就是这样。让我们看一下结果：

```
for section, values in result:
    print section, ':'
    for k, v in values.items():
        print '\t', k, '=', v 
```

输出：

```
DISK :
        DIRECTION = 'OK'
        TYPE = 'normal'
CAPACITY :
        code = 0
        ID = 110 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-20T08:35:44.990

如果文件不大，您可以加载它并使用正则表达式查找您感兴趣的部分。

# magento - Magento 客户群税

> ID：14975286
> 
> 赞同：2
> 
> 时间：2013-02-20T08:28:28.063
> 
> 标签：magento, magento-1.7

我正在尝试执行对增值税 ID 的检查，但被卡住了（[VIES 检查](http://ec.europa.eu/taxation_customs/vies/vatRequest.html)是**1.7**中的一项新功能）。我配置了增值税检查以将用户分配到某些客户组 - 这非常有效。

我有 3 个客户群：*罗马尼亚业务*、*一般*业务和*罗马尼亚以外业务*。我想要的是为前 2 组添加 24% 的增值税，并为“罗马尼亚以外的企业”完全取消此税。

我可以在每个国家/地区添加税款`Sales - Tax - Manage Tax Rates`，但这对我没有帮助，因为我需要为所有国家/地区添加基本上。

总而言之，这里的问题是：如何为每个客户群添加税金？另外，我可以单独从管理面板执行此操作，还是必须创建自己的模块？

**解决方案**

1.  按照安德鲁建议的步骤
2.  如果您希望显示包含增值税的产品并在添加有效增值税时将其删除，则另一个选项非常有用。您创建了一个适用于“有效增值税”客户组的促销活动，该促销活动减少了百分比`(1 - (1 / (YOUR_VAT / 100 + 1)))*100`（这将是一个丑陋的数字，但将其复制为所有小数）。在这种情况下，您可能会不时遇到 0.01 错误。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T09:43:07.247

A) 您使用客户税级。

1) 创建自定义税类

2) 将税级分配给客户组。

3) 创建一个新的区域和速率。分配您需要的税收百分比。使其适用于您打算为其工作的每个国家/地区。不幸的是，您将不得不复制规则。

4) 通过“管理税收规则”创建一个新规则，分配您的新税率、客户税类等。请注意，有一个多选选项可以选择您为多个国家制定的新规则。

您组中的客户现在将获得适用于他们的此税，无论位置在哪里。

默认情况下，由于 Magento 不允许您一次选择“所有”国家/地区，您最终会得到一些费率复制。这可以通过自定义扩展来完成（我以前做过），但不是标准的。

B）或者，您可以在 magento 管理员中更改您的设置：

根据**ORIGIN**而不是目的地设置税款计算。这可能会也可能不会起作用，具体取决于您对特定 setp 的需求。

```
System > Config > Sales > Taxes > Calculation 
```

# vb.net - Microsoft Visual Basic 2010 Express 中的 Tab 键顺序

> ID：14975288
> 
> 赞同：1
> 
> 时间：2013-02-20T08:28:35.497
> 
> 标签：vb.net, winforms, visual-studio-2010

我参考了这篇[**MSDN 文章**](http://msdn.microsoft.com/en-us/library/bd16a8cw(v=vs.100).aspx)

我正在使用 Microsoft Visual Basic 2010 Express - 是否有使用此应用程序查看标签顺序的快速方法？

菜单中似乎没有`Tab Order`选项`View`。这是特快版中遗漏的功能还是我找错了地方？

![在此处输入图像描述](../Images/107c349f8dd16929b586fc3709428216.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T09:17:05.757

*   右键单击菜单栏并选择自定义，它位于最后一个菜单项中。
*   单击命令选项卡，然后单击其上的重新排列按钮。
*   您会看到一个短语：选择一个菜单或工具栏以安排在其下方，您可以看到一个带有工具栏的单选按钮作为其文本。选择它。
*   单击添加命令，从类别中选择视图，从命令中选择标签顺序，然后单击确定。嗯，它们是按字母顺序排列的。
*   现在单击关闭并检查视图工具栏中的选项卡顺序按钮，您会找到它。

    我希望这有帮助。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T08:39:46.590

确保您在主窗口中而不是在解决方案浏览器中选择了视图。这应该为您提供标签顺序选项。

如果仍然不存在，则可能是它未包含在 Express 版本中。

# php - Netbeans 方法参数类型提示与对象数组 - 代码完成

> ID：14975289
> 
> 赞同：0
> 
> 时间：2013-02-20T08:28:38.703
> 
> 标签：php, netbeans

我在使用 Netbeans 和代码完成时遇到了一点问题。这是一个简单的例子：

```
/**
* @param SomeClass[] $param Simple array of SomeClass elements
*/
public function func(array $param) {
    $param[0]->..
} 
```

在此示例中，代码完成不起作用。问题来自`array $param`“覆盖” phpdoc 声明，因此我的班级不再有代码完成。

这是一个错误还是犯了错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:54:31.953

根据[这个问题](https://stackoverflow.com/questions/778564/phpdoc-type-hinting-for-array-of-objects)，以下应该在 Netbeans 中工作：

```
public function func(array $param) {
    /* @var $param SomeClass[] */
    $param[0]->..
} 
```

# iphone - 创建基于位置的提醒：如何处理水平精度？

> ID：14975292
> 
> 赞同：1
> 
> 时间：2013-02-20T08:29:02.377
> 
> 标签：iphone, ios, ios6, core-location, cllocation

我正在创建一个基于位置的提醒，`EKReminder`.

对于我`CLGeocoder`用来将地址转换为`CLLocation`.

当谈到提醒本身时，我认为有两个因素决定了提醒将触发的“区域”（半径/圆）。

1) 水平精度`CLLocation`。文档将该`horizontalAccuracy`属性描述为“位置的不确定性半径，以米为单位。（只读）”。

在上一个问题中有更多关于此的有用信息： [CLLocation 的 Horizo​​ntalAccuracy 和 VerticalAccuracy 指的是什么？](https://stackoverflow.com/questions/7402503/what-do-horizontalaccuracy-and-verticalaccuracy-of-a-cllocation-refer-to)

正如该答案中所建议的那样，`horizontalAccuracy`是100m。

2) 上的`radius`属性`EKStructuredLocation`。此属性的讨论说明为“要使用默认半径，请将此属性设置为 0”。

如果我在 Apple 的 Reminders 应用程序中创建基于位置的提醒，它会带有`radius = 0`和`horizontalAccuracy = 0`. 所以它使用默认的“提醒半径”（不知道那是什么），其值为`0`水平位置的不确定性......

我想避免在我的提醒中出现两个边距。我认为有两种选择可以实现这一目标：

a) 使用默认值`radius`，将`EKStructuredLocation`其设置为`0`并将返回的结果更改`CLGeocoder`为`horizontalAccuracy`0m。

b) 保持`horizontalAccuracy`（100m，或不同，视情况而定）与`CLGeocoder`- 但不使用默认值`radius`并将`EKStructuredLocation`其设置为较小的值，例如 1m。

想法？我是否正确理解了这些 API？

*   如果我使用返回`horizontalAccuracy`值和默认值，我会得到“双倍边距”`radius`吗？
*   对象的 是从坐标引入半径，还是纯粹提供有关位置不确定性的信息`horizontalAccuracy`？`CLLocation`

干杯

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-21T08:53:21.877

*正如progmr*所指出的，`horizontalAccuracy`纯粹是对位置不确定性的估计。

为了支持这一点，我做了几个真实世界的测试：

*   我在 Reminders 应用程序中创建了一个基于位置的提醒，它有`radius = 0`但也有报告`horizontalAccuracy = 0`。
*   我在自己的代码设置中使用相同的位置创建了一个提醒`radius = 0`，但从`CLGeocoder`报告中返回`horizontalAccuracy = 100`

每次测试时，提醒都会在完全相同的位置触发。`horizontalAccuracy`纯粹是为了提供信息。

# android - Android：在webview中多次加载数据后出现白页

> ID：14975293
> 
> 赞同：1
> 
> 时间：2013-02-20T08:29:14.017
> 
> 标签：android

当我在网页视图中多次加载一些数据时，出现白页......只需滚动它，数据就会返回......我注意到android 4.x上的这个问题......我在android 2.3.3 webview中测试它工作正常

我能做些什么来防止这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:03:31.660

我面临着类似的问题，终于解决了，但我不知道为什么。使它起作用的事情是：

1)

当我完成活动/片段的 WebView onDestroy 时，我有：

```
@Override
protected void onDestroy() {
    super.onDestroy();
    if (isFinishing()) {
      if (myWebView != null) {
        myWebView.destroy();
        myWebView = null;
      }
    }
} 
```

2)

`myWebView .loadDataWithBaseURL("file:///android_asset/", html_sourse, "text/html", "UTF-8", null);`我通过而不是渲染代码`myWebView.loadData(Uri.encode(html_sourse), "text/html", "utf-8");`。当我使用带有嵌入css的第二行时，html代码页面不会出现，更改为第一行（loadDataWithBaseURL）并向html代码添加来自资产文件夹页面的css。我不明白为什么，但对我有用！

3）（可选）

如果您不关心保留历史记录，有时使用 clears 会很有帮助：

```
 myWebView.clearHistory();
   myWebView.clearCache(true); 
```

# c# - 在 WIX 上，重新安装时如何从旧安装中复制文件

> ID：14975296
> 
> 赞同：3
> 
> 时间：2013-02-20T08:29:31.297
> 
> 标签：c#, wix

我有一个使用 WIX 安装的产品。这是我的安装顺序：

```
<InstallExecuteSequence>
   <RemoveExistingProducts Before="InstallInitialize" />
</InstallExecuteSequence> 
```

据我了解，在重新安装时会删除整个旧版本。这是我想保留的行为，但我也想从旧版本复制特定文件。

我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:02:18.200

从部署新的 MSI 中执行您想要的操作几乎是不可能的，因为您无法在需要提升权限的 RemoveExistingProducts 之前执行自定义操作（如果您没有安装在像 prgram 文件这样的 UAC 控制文件夹中，这可能会起作用 - 但我有从未尝试过）。

一种解决方法是通过创建引导程序来修改现有的 MSI（我不知道这是否可行！） - 请参阅此问题的答案：[How to execute Custom Action before RemoveExistingProducts with After="InstallValidate" in WiX](https://stackoverflow.com/questions/4501361/how-to-execute-custom-action-before-removeexistingproducts-with-after-installva)

当我过去编写安装程序时，我编写了一个自定义操作，将文件复制到卸载时的临时文件夹（升级时，新 MSI 会调用以前版本的 MSI 的卸载），然后只需检查并在安装新 MSI 时清除此文件夹（升级部分）。如果您只是卸载（而不是升级），这种方法确实会留下很多文件，但因为我只对配置文件感兴趣 - 这实际上效果很好，如果客户返回我不会丢失所有配置。

这当然不能解决您的直接问题，因为它只会在备份卸载相关文件的版本分发后才能开始工作 - 但在过去 3 年里它对我来说效果很好。

高温高压

# uinavigationcontroller - UINavigationItem 中的 leftBarButtonItem

> ID：14975300
> 
> 赞同：1
> 
> 时间：2013-02-20T08:29:44.053
> 
> 标签：uinavigationcontroller, uibutton, uinavigationbar, uibarbuttonitem, uinavigationitem

我已经查看了几个线程并得出了一个我认为可行的解决方案。

```
UIBarButtonItem *backButton = [[UIBarButtonItem alloc] initWithImage:[UIImage imageNamed:@"backbutton.psd"]
                                                               style:UIBarButtonItemStyleBordered target:self
                                                              action:@selector(barButtonBackPressed:)];
self.navigationItem.leftBarButtonItem = backButton; 
```

这给了我什么。

当我添加它时，它会给我一个带有文本“Back”的常规蓝色边框按钮（这不是我想要的）：

```
backButton.title = @"Back"; 
```

我不明白。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-22T22:07:07.337

我相信这是因为您使用的是 PSD 图像文件。根据[Apple 文档](http://developer.apple.com/library/ios/#documentation/uikit/reference/UIImage_Class/Reference/Reference.html)，这不是受支持的格式。

# opencv - OpenCV 方块：过滤输出

> ID：14975304
> 
> 赞同：3
> 
> 时间：2013-02-20T08:29:53.093
> 
> 标签：opencv, filter, detection

这是正方形检测示例的输出我的问题是过滤这个正方形

![http://ozsulastik.com/ocvsquares.png](../Images/b76fce43d9f01852eb1be99a1ccd13ab.png)

*   第一个问题是它为同一区域绘制多条线；
*   第二个是我只需要检测对象而不是所有图像。

另一个问题是我必须只取除所有图像之外的最大物体。

![http://ozsulastik.com/ocvsquares2.png](../Images/475c2851a76e70549573a0bca1786fb9.png)

下面是检测代码：

`static void findSquares( const Mat& image, vector >& squares ){`

 ````
squares.clear();

Mat pyr, timg, gray0(image.size(), CV_8U), gray;

// down-scale and upscale the image to filter out the noise
pyrDown(image, pyr, Size(image.cols/2, image.rows/2));
pyrUp(pyr, timg, image.size());
vector<vector<Point> > contours;

// find squares in every color plane of the image
for( int c = 0; c < 3; c++ )
{
    int ch[] = {c, 0};
    mixChannels(&timg, 1, &gray0, 1, ch, 1);

    // try several threshold levels
    for( int l = 0; l < N; l++ )
    {
        // hack: use Canny instead of zero threshold level.
        // Canny helps to catch squares with gradient shading
        if( l == 0 )
        {
            // apply Canny. Take the upper threshold from slider
            // and set the lower to 0 (which forces edges merging)
            Canny(gray0, gray, 0, thresh, 5);
            // dilate canny output to remove potential
            // holes between edge segments
            dilate(gray, gray, Mat(), Point(-1,-1));
        }
        else
        {
            // apply threshold if l!=0:
            gray = gray0 >= (l+1)*255/N;
        }

        // find contours and store them all as a list
        findContours(gray, contours, CV_RETR_LIST, CV_CHAIN_APPROX_SIMPLE);

        vector<Point> approx;

        // test each contour
        for( size_t i = 0; i < contours.size(); i++ )
        {
            approxPolyDP(Mat(contours[i]), approx, arcLength(Mat(contours[i]), true)*0.02, true);

            if( approx.size() == 4 &&
                fabs(contourArea(Mat(approx))) > 1000 &&
                isContourConvex(Mat(approx)) )
            {
                double maxCosine = 0;

                for( int j = 2; j < 5; j++ )
                {
                    // find the maximum cosine of the angle between joint edges
                    double cosine = fabs(angle(approx[j%4], approx[j-2], approx[j-1]));
                    maxCosine = MAX(maxCosine, cosine);
                }

                if( maxCosine < 0.3 )
                    squares.push_back(approx);
            }
        }
    }
} 
```` 

`}`

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T16:32:36.053

您需要查看[findContours()](http://docs.opencv.org/modules/imgproc/doc/structural_analysis_and_shape_descriptors.html?highlight=findcontours#void%20findContours%28InputOutputArray%20image,%20OutputArrayOfArrays%20contours,%20OutputArray%20hierarchy,%20int%20mode,%20int%20method,%20Point%20offset%29)的标志。您可以设置一个名为 CV_RETR_EXTERNAL 的标志，它将只返回最外层的轮廓（其中的所有轮廓都被丢弃）。这可能会返回整个帧，因此您需要缩小搜索范围，以便它不会检查您的帧边界。使用函数 copyMakeBorder() 来完成此操作。我还建议删除您的扩张功能，因为它可能会导致线条两侧出现重复的轮廓（如果删除扩张，您甚至可能不需要边框）。这是我的输出： ![在此处输入图像描述](../Images/6de259eb09e95c7ee612bc0e7011e01c.png)

# html - 对齐表格单元格中 div 内的所有子元素

> ID：14975305
> 
> 赞同：-1
> 
> 时间：2013-02-20T08:29:54.923
> 
> 标签：html, css

有什么方法可以对齐作为表格单元格子元素的 div 内的所有子元素。这是我的代码：

```
<td>
     <div class="tablechild">310.2
          <span class="subitem">01:10 PM</span>
     </div>
</td> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:35:07.230

采用

```
<td style="text-align:right">
    <div class="tablechild">310.2<br/>
       <span class="subitem">01:10 PM</span>
    </div>
</td> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:35:35.187

```
.tablechild {
    position: relative;
}
.tablechild .subitem {
    position: absolute;
    display: inline-block;
    right: 0;
    width: 80px;
    text-align: right;
} 
```

# sql - 如何打开 Visual Studio . Excel 2003 中的网络？

> ID：14975316
> 
> 赞同：0
> 
> 时间：2013-02-20T08:30:29.577
> 
> 标签：sql, download, excel-2003, visual-studio-2003

我无法理解在 Excel 2003 中下载 SQL 数据的初始步骤。这意味着我不知道如何打开 VIsual Studio 以继续执行以下步骤。

如果我不够清楚，请参考此链接：http: [//msdn.microsoft.com/en-us/library/office/aa192473%28v=office.11​​%29.aspx](http://msdn.microsoft.com/en-us/library/office/aa192473%28v=office.11%29.aspx)

谢谢你们！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:46:52.970

从链接：

> 先决条件
> 
> 要完成本演练，必须在开发计算机上安装以下软件和组件：
> 
> ```
> Microsoft Visual Studio® .NET 2003 or Microsoft Visual Basic® .NET Standard 2003
> Microsoft Visual Studio Tools for the Microsoft Office System
> Microsoft Office Professional Edition 2003
> Microsoft SQL Server or Microsoft SQL Server Desktop Engine (MSDE) 7.0 or 2000, with the Northwind sample database installed. This demonstration assumes that you've set up SQL Server/MSDE allowing 
> ```
> 
> 使用集成安全访问。

您是否安装了所有这些工具？

# parsing - 使用 flex/antlr 进行部分解析

> ID：14975321
> 
> 赞同：2
> 
> 时间：2013-02-20T08:30:40.617
> 
> 标签：parsing, antlr, pascal, flex-lexer

我在做学生研究项目时遇到了一个问题。我是一名电气工程专业的学生，​​但我的项目与理论计算机科学有一定的关系：我需要解析大量 pascal 源代码文件以获取类型定义和常量，并可视化所有出现的情况。类型定义递归地分布在各种文件中，即在文件 x 中有类型 a = byte，在文件 y 中有一个记录（结构）b，它包含类型 a，然后在文件 z 中甚至还有一个类型 c，即b 类型的数组。到目前为止，我的想法是了解编译器的构造，因为编译器必须解析所有类型定义并将它们分解为元素类型。

所以，我在两本书（其中一本甚至是帕斯卡的发明者写的）中读到了关于编译器构造的内容，但是我缺乏太多理论计算机科学的基础知识，以至于我一个人花了一周的时间才完成了一半. 到目前为止，我学到的是，要实现我的目标，词法分析器和解析器就足够了。由于这个软件只是整个项目中非常聪明的一部分，我不能花太多时间在它上面，所以我开始尝试使用 flex，后来又使用了 antlr。

我的希望是，只解析类型定义是一项如此简单的任务，我可以只使用扫描仪来完成它并让它做一些解析器的工作：pascal 文件由 5 个主要部分组成，每个部分都是可选的: 带有注释的标头、一个 const 部分、一个类型部分、一个 var 部分和（至少在某些情况下）一个代码部分。每个部分都有一个开始标识符，但没有明确的结束标识符。所以我开始搜索类型和常量部分（TYPE，CONST）的开头，丢弃其他所有内容。在 flex 中，这相当容易，因为它允许“开始条件”。它们可以用作各种状态，如“INITIAL”、“TYPE-SECTION”、“CONST-SECTION”和“COMMENT”，每个状态都有不同的规则。我想用以下语法“=”从扫描仪中取回一个字符串。`AuEingangsBool_t {PCMON} = MAX_AuEingangsFeld;`. 扫描器无法使用正则表达式提取此类类型定义。

我的下一步是使用扫描仪和解析器正确执行此操作，因此我搜索了解析器生成器并找到了 antlr。由于我还是用 C# 编写了这个工具，所以我决定也使用它的扫描仪生成器，这样我就不必在不同的程序之间进行通信。现在我遇到了以下问题：AFAIK，antlr 不像 flex 那样支持“开始条件”。这意味着，我必须扫描整个文件（好吧，评论仍然被丢弃）并获得很多不必要的（和错误的）标记。因为我不使用整个帕斯卡语法的规则，所以扫描器会将帕斯卡语法的大多数关键字识别为用户标识符，并且解析器会唠叨所有那些不适合类型和常量定义的标记系列

现在，最后我的问题是：你们中的任何人都可以告诉我，哪种方法可以引导我的项目？是否可以使用 antlr 仅扫描部分源文件？或者我必须为此目的将 flex 与 antlr 连接起来吗？我可以告诉 antlr 的解析器忽略不在 const 或 type 部分中的每个标记吗？这些工具对我的任务来说是否太强大了，我应该编写自己的例程吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T15:00:19.417

您最好为 Pascal 找到一个编译器，然后简单地修改以报告您想要的信息。大概有这样的 Pascal 编译器，并且通常可以获得此类编译器的源代码。

否则，您基本上需要构建一个解析器。构建词法分析器，然后对产生的词位进行修改，本质上是通过临时方法构建一个糟糕的解析器。ANTLR 是个不错的选择；您可以很容易地定义词位（包括获取和忽略评论的方法），尤其是对于较旧的 Pascal 方言。您需要针对所需类型信息的良好 BNF 规则，并将这些规则转换为解析器生成器。你可以做些什么来最小化工作，就是在你不关心的语言部分的规则上作弊。例如，您可以为赋值语句编写一个准确的子语法。由于您不关心它们，因此您可以编写一个草率的子语法，将赋值语句视为以标识符开头的任何内容，后跟任意其他标记，并以分号结尾。这种文法称为“岛文法”；只有在需要准确的地方才准确。

我不知道递归位。您是否有理由不能单独处理每个文件？答案可能取决于您想了解每种类型声明的哪些信息，如果您深入了解，您可能需要一个符号表以及一个岛解析器。解析器生成器对此没有任何帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T11:48:41.560

首先，在其他块中可以有 type 和 const 块（过程，在以后的 Delphi 版本中还有类）。

此外，我不完全确定您实际上可以简单地扫描 const 令牌，然后开始解析。在最常见的（Borland）帕斯卡方言中，Const 也用于其他目的。某些关键字可以在不同的上下文中重用，如果您不解析全局块结构，而只在特定位置查找 const 和 type 您将错误地从那里开始解析。

一个基本问题当然是评论。扫描程序会尽早删除评论，并且不会进一步关注它们。您可能必须设置扫描仪，以便将注释作为字段附加到相邻的标记（与之前的标记相关联或将它们保存到某个标记之后）。

至于antlr vs flex，没有线索。我在解析 Pascal 方面有一些小经验的唯一解析器生成器是 Coco/R（Wirthians 流行的解析器生成器），但总的来说，我（和许多 Pascal 人）更喜欢手工编码。

# java - url“login”和“login.action”有什么区别？

> ID：14975324
> 
> 赞同：0
> 
> 时间：2013-02-20T08:30:52.503
> 
> 标签：java, url, struts2

我正在使用Struts2。我运行一个名为`hello1`. 我输入 url: `http://localhost:8081/MyStruts2/hello1`，它的工作原理。
我尝试了另一个 url: `http://localhost:8081/MyStruts2/hello1.action`，它也有效吗？
我认为我们不需要“.action”。
那么为什么有些人要加后缀“.action”呢？有必要吗？
我们可以将“.action”配置为另一个后缀，例如“.go”吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:35:45.563

`.action`是 Struts 添加的默认后缀。将其从“.action”更改为“.go”。在 XML 中使用以下内容更改后缀。

```
<struts> 
  <constant name="struts.action.extension" value="go"/> 
  <package name="default" namespace="/" extends="struts-default">
    <action name="SayStruts2">
        <result>pages/printStruts2.jsp</result>
    </action>
  </package>
</struts> 
```

# php - Wordpress 会话在 Mozilla Firefox 中丢失

> ID：14975326
> 
> 赞同：2
> 
> 时间：2013-02-20T08:30:57.443
> 
> 标签：php, wordpress, session, firefox

我正在使用 wordpress 模板。我使用我的模板页面来实现 crud 功能。它运行良好，但一页正在创建会话问题。它会在 Mozilla Firefox 中失去会话。如果我刷新该页面或重定向到另一个页面，那么会话会自动丢失.. 有人可以帮我解决一个问题.. 为什么会发生这种情况？

PS：该特定页面在 chrome、safari 和 IE 中运行良好，即它不会丢失会话。

谢谢！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T08:56:54.290

这是由于Mozilla的缓存管理的问题

实际上，wp 为下一个和上一个创建元标记。链接并让您的性能受到打击

```
remove_action('wp_head', 'adjacent_posts_rel_link_wp_head'); 
```

在您的functions.php文件中添加以上行，这可能会解决您的问题

# android - 方向更改后Android切换按钮显示错误的值

> ID：14975328
> 
> 赞同：1
> 
> 时间：2013-02-20T08:31:05.960
> 
> 标签：android, orientation, tablelayout, togglebutton

这是我的问题。我有一个简单的活动来设置布局，并在表格布局中添加行（本身在滚动视图中）。这些表格行具有带有文本字段和切换按钮的自定义布局。

每个切换按钮都有一个取自数据库的值，当我第一次创建活动时，这些值都可以。但是当我转动设备然后改变方向时，所有的切换按钮都取“假”值。我打印了我在 Logcat 中设置的值，这些值是好的（数据库中的）。

我以为我想要的布局隐藏在另一个布局后面，但我做了一些测试，文本字段随着新值的变化而变化，所以我真的不明白为什么切换按钮不起作用。

这是代码： TableRow 布局：

```
<?xml version="1.0" encoding="utf-8"?>
    <TableRow xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
         >
         <RelativeLayout 
             android:id="@+id/relativelayout_row_parametres"
             android:layout_width="fill_parent"
             android:layout_height="50dp"
             android:layout_weight="1.0">
            <TextView 
                android:id="@+id/textview_row_parametres"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:textColor="@android:color/black"
                android:textStyle="bold"
                android:textSize="20sp"
                android:layout_marginLeft="2dp"
                android:layout_alignParentLeft="true"
                android:layout_centerVertical="true"
                />
            <ToggleButton
                android:id="@+id/togglebutton_row_parametres"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignParentRight="true"
                android:layout_centerVertical="true"
                android:layout_marginRight="2dp"
                android:textOn="@string/togglebutton_on"
                android:textOff="@string/togglebutton_off" />
        </RelativeLayout>
    </TableRow> 
```

活动布局：

```
<?xml version="1.0" encoding="utf-8"?>
    <LinearLayout
      xmlns:android="http://schemas.android.com/apk/res/android"
      android:layout_width="fill_parent"
      android:layout_height="fill_parent"
      android:orientation="vertical">

        <ImageView style="@style/header" />

        <LinearLayout 
            android:layout_width="fill_parent" android:layout_height="0dp"
            android:layout_weight="0.8"
            android:background="@drawable/gradient_bg"
            android:padding="10dip"
            android:orientation="vertical">

          <ScrollView
            android:layout_width="fill_parent" android:layout_height="0dp"
            android:layout_weight="0.85"
            android:fillViewport="true"
            android:padding="10dip"
            android:layout_gravity="center">

              <TableLayout 
                  android:id="@+id/tablelayout_parametres"
                  android:layout_width="fill_parent"
                  android:layout_height="wrap_content"
                  android:background="@drawable/cornered_bg"
                  android:paddingTop="5dip"
                  android:paddingBottom="5dip">

              </TableLayout>

          </ScrollView>
          <Button 
              android:id="@+id/button_parametres_accept"
              android:gravity="center"
              android:text="@string/accept_changes"
              android:layout_width="wrap_content"
              android:layout_height="0dp"
              android:layout_weight="0.15"
              android:layout_gravity="center_horizontal" />
          </LinearLayout>
    </LinearLayout> 
```

和活动代码：

```
public class Parameters extends Activity {

    @Override
    protected void onDestroy() {
        // TODO Auto-generated method stub
        super.onDestroy();
    }

    @Override
    protected void onResume() {
        // TODO Auto-generated method stub
        super.onResume();
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        final Map<String, Boolean> changes = new HashMap<String, Boolean>();
        final Context ctx = getApplicationContext();
        LanguageManager.updateConfig(this);

        setContentView(R.layout.parametres);

        CountryDB[] countries = Database.instance(getApplicationContext()).getCountries();

        TableLayout tabLayout = (TableLayout) findViewById(R.id.tablelayout_parametres);
        for(int i =0; i<countries.length; i++){
            TableRow newRow = (TableRow) getLayoutInflater().inflate(R.layout.row_parametres, null);
            TextView textView = (TextView) newRow.findViewById(R.id.textview_row_parametres);

            ToggleButton toggleButton = (ToggleButton) newRow.findViewById(R.id.togglebutton_row_parametres);
            toggleButton.setChecked(countries[i].isToSynchronize());
            toggleButton.setTag(countries[i]);
            Log.e("setChecked",""+toggleButton.getId()+"/"+countries[i].isToSynchronize());

            textView.setText(countries[i].getLabel());

            toggleButton.setOnClickListener(new OnClickListener() {

                @Override
                public void onClick(View v) {
                    CountryDB countryTemp = (CountryDB) v.getTag();
                    changes.put(countryTemp.getLabel(), ((ToggleButton)v).isChecked());
                }
            });

            tabLayout.addView(newRow);

            TableRow rowDivider = (TableRow) getLayoutInflater().inflate(R.layout.row_divider, null);
            tabLayout.addView(rowDivider);
        }

        Button buttonValidation = (Button) findViewById(R.id.button_parameters_accept);
        buttonValidation.setOnClickListener(new OnClickListener() {

            @Override
            public void onClick(View v) {
                Iterator<String> iterator = changes.keySet().iterator();
                while(iterator.hasNext()){
                    String stringTemp = iterator.next();
                    Database.instance(ctx).updateCountry(stringTemp, changes.get(stringTemp));
                }

                Intent intent = new Intent(ctx, Splash.class);

                String result = "restart";
                String from = "parameters";
                Intent returnIntent = new Intent();
                returnIntent.putExtra("result", result);
                returnIntent.putExtra("from", from);
                setResult(RESULT_OK, returnIntent);

                startActivity(intent);
            }
        });

    }

} 
```

在 Log.e 中，我打印了这些值，它们很好，切换按钮上的显示是错误的，它们都是“假的”。

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T08:59:54.523

在 onCreate() 和 onResume() 之间，Android 会尝试恢复切换按钮的旧状态。由于他们没有唯一的 ID，Android 不会成功，一切都是假的。尝试将您的 setChecked() 调用移动到 onResume() （也许 onStart() 也可以）。

这是同一个问题的一个很好的答案：

[ToggleButton 在方向改变时改变状态](https://stackoverflow.com/questions/11213864/togglebutton-change-state-on-orientation-changed)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-20T08:46:02.977

您必须在定向之前保存数据。

Android有方法`onSaveImstamceState(Bundle outState)`和`onRestoreInstanceState(BundleInstaceState)`

在 Activity 中覆盖这些方法。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-02-20T09:05:41.690

有一个更简单的解决方案：您只需将 configChanges 属性添加到您的活动声明中，就像[此处](http://developer.android.com/guide/topics/resources/runtime-changes.html#HandlingTheChange)所述。这样，您可以防止 Activity 在方向更改时重新启动。所以在你的清单中你应该有类似的东西

```
<activity android:name=".Parameters"
      android:configChanges="orientation|keyboardHidden"> 
```

或者如果你的 buildTarget>=13

```
<activity android:name=".Parameters"
      android:configChanges="orientation|keyboardHidden|screenSize"> 
```

**编辑**：就像下面评论中报道的那样，这不是最佳解决方案。上面链接的文档的注释中报告了主要缺点：

> 注意：自己处理配置更改会使使用替代资源变得更加困难，因为系统不会自动为您应用它们。当您必须避免由于配置更改而重新启动时，应将此技术视为最后的手段，并且**不建议将其用于大多数应用程序**。

# c# - 具有嵌套类型的 XAML DataContext DesignInstance

> ID：14975333
> 
> 赞同：3
> 
> 时间：2013-02-20T08:31:48.897
> 
> 标签：c#, wpf, xaml, windows-8, windows-phone

是否可以在 XAML 中为 d:DesignInstance 指定嵌套类型？如果是这样，怎么办？

如果我有以下类结构：

```
namespace MyApp
{
    public class OuterClass
    {
        public class InnerClass
        {
             public string SomeData {get;set;}
        }
    }
} 
```

如何将`InnerClass`类型用作 DesignInstance？以下不起作用：

```
<phone:PhoneApplicationPage
    ...
    xmlns:local="clr-namespace:MyApp" 
    ...
    d:DataContext="{d:DesignInstance Type=local:OuterClass.InnerClass}"
 > 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-02-20T09:13:59.273

尝试更改`.`为`+`. 就像是：

```
<phone:PhoneApplicationPage
    ...
    xmlns:local="clr-namespace:MyApp" 
    ...
    d:DataContext="{d:DesignInstance Type=local:OuterClass+InnerClass}"> 
```

# perl - 任何 Perl http 负载测试模块？

> ID：14975336
> 
> 赞同：1
> 
> 时间：2013-02-20T08:32:05.597
> 
> 标签：perl, cpan

是否有任何 Perl http 负载测试模块？支持并发，“要执行的请求数”，诸如此类？

# loops - yui：使用给定的项目列表动态创建 yui 菜单

> ID：14975339
> 
> 赞同：0
> 
> 时间：2013-02-20T08:32:19.763
> 
> 标签：loops, dynamic, menu, yui, loading

我想通过从列表中获取菜单元素来动态创建一个 yui 菜单。

例如我有一个清单

```
 MENULIST:
  MENUITEM1
  MENUITEM2
  MENUITEM3
  MENUITEM4 
```

这些菜单项是对象，将具有子菜单和相关属性，例如 onclick 等列表功能

```
MENUITEM1----->SUBMENUITEM11,ONCLICK=SOMEFUNCTION()
                 SUBMENUITEM12,ONCLICK=SOMEFUNCTION()
                 SUBMENUITEM13,ONCLICK=SOMEFUNCTION()
  MENUITEM2----->SUBMENUITEM21,ONCLICK=SOMEFUNCTION()
                 SUBMENUITEM22,ONCLICK=SOMEFUNCTION() 
```

我将在运行时获取这些列表，因此需要动态加载菜单。yui 菜单中是否有任何选项可以执行此循环列表和生成菜单。比你提前。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T14:53:50.087

现在不是因为 NodeMenuNav 它只是一个插件。有一个新的菜单组件计划，它将支持从 JavaScript 创建菜单项。Ryan Grove 最近贡献了一个 Tree 数据结构，可以在其上构建未来的 Menu 组件。他还在开发一个新的 FocusManager，所以一切都在工作中。

现在您需要自己创建标记，然后应用 NodeMenuNav 插件。一个好主意是使用像 Template.Micro 这样的模板。查看 tmeplates 用户指南：http: [//yuilibrary.com/yui/docs/template/](http://yuilibrary.com/yui/docs/template/)。菜单的 Micro 模板可能如下所示：

```
<div id="menu-1" class="yui3-menu">
  <div class="yui3-menu-content">
    <ul>
      <% Y.Array.each(this.menus, function (menu) { %>
        <li class="yui3-menuitem">
          <a class="yui3-menuitem-content" href="<%= menu.link %>"><%= menu.label %></a>
        </li>
      <% }); %>
    </ul>
  </div>
</div> 
```

# php - 多文件上传 PHP

> ID：14975340
> 
> 赞同：2
> 
> 时间：2013-02-20T08:32:20.417
> 
> 标签：php, file-upload, upload

我使用以下代码上传单个文件。使用此代码，我可以将单个文件上传到数据库。我想通过在单个**输入类型文件**中选择多个文件来上传多个文件。我应该在代码中进行哪些更改让它上传多个文件？

```
<?PHP
INCLUDE ("DB_Config.php");
$id=$_POST['id'];
$fileTypes = array('txt','doc','docx','ppt','pptx','pdf');
$fileParts = pathinfo($_FILES['uploaded_file']['name']);
if(in_array($fileParts['extension'],$fileTypes))
{       
    $filename = $_FILES["uploaded_file"]["name"];
    $location = "E:\\test_TrainingMaterial/";
    $file_size = $_FILES["uploaded_file"]["size"];
    $path = $location . basename( $_FILES['uploaded_file']['name']);
    if(file_exists($path))
    {
        echo "File Already Exists.<br/>";
        echo "Please Rename and Try Again";
    }
    else
    {
        if($file_size < 209715200)
        {   
            $move = move_uploaded_file( $_FILES["uploaded_file"]["tmp_name"], $location . $_FILES['uploaded_file']['name']);
            $result = $mysqli->multi_query("call sp_upload_file('".$id."','" . $filename . "','".$path."')");
            if ($result) 
            {
                do {
                    if ($temp_resource = $mysqli->use_result()) 
                    {
                        while ($row = $temp_resource->fetch_array(MYSQLI_ASSOC)) {
                            array_push($rows, $row);
                        }
                        $temp_resource->free_result();
                    }
                } while ($mysqli->next_result());
            }
            if($move)
            {
                echo "Successfully Uploaded";
            }
            else
            {
                echo "File not Moved";
            }
        }
        else
        {
            echo "File Size Exceeded";
        }
    }
}
else
{
    echo " Invalid File Type";
}
?> 
```

使用的 Html 是

```
<form id = "upload_form" method="post" enctype="multipart/form-data"  >
    <input type="file" name="uploaded_file" id="uploaded_file" style="color:black" /><br/>
</form> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T08:48:25.987

基本上你需要添加到输入名称 [] 括号和属性“多个”

```
<form id = "upload_form" method="post" enctype="multipart/form-data"  >
    <input type="file" name="uploaded_file[]" multiple="true" id="uploaded_file" style="color:black" /><br/>
</form> 
```

现在所有上传的文件都可以通过

```
$_FILES['uploaded_file']['name'][0]
$_FILES['uploaded_file']['name'][1] 
```

等等

更多信息请访问 [http://www.php.net/manual/en/features.file-upload.multiple.php](http://www.php.net/manual/en/features.file-upload.multiple.php)

# compass-sass - 仅当存在时如何在指南针中导入scss文件？

> ID：14975341
> 
> 赞同：7
> 
> 时间：2013-02-20T08:32:23.313
> 
> 标签：compass-sass, sass

我需要为项目的每个安装提供不同的特殊 scss 文件，所以我不想将它包含在 git 存档中。但即使这个文件不存在，一切都应该工作。

有没有办法@import scss 文件只有在它存在时才会忽略文件未找到错误？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-20T13:16:07.507

您需要使用“import-path”选项来执行此操作，其中您要导入的路径包含您要导入的后备文件（在我们的例子中，我们需要一个空文件）。

# 选项 1：香草萨斯

**文件结构**

```
├── fallback
    ├── _example.scss // <-- our blank file
├── _example.scss // <-- the file for the user to customize (optional)
├── style.scss 
```

**在 style.scss 中：**

```
@import "example";
/* the rest of our styles */ 
```

当你运行你的 sass 命令时，你会这样写：

```
sass --watch ./css:./sass --load-path ./sass/fallback 
```

请注意，备用目录不必在您的 sass 目录中，它可以在您喜欢的文件系统上的任何位置。

另请参阅：[SCSS 如何定位部分？](https://stackoverflow.com/questions/27282608/how-does-scss-locate-partials)

# 选项 2：指南针扩展

如果您在多个项目中使用此技术，您可能会发现创建 Compass 扩展会更方便一些。它将自动为您设置加载路径。您可以在此处了解有关创建扩展的更多信息：http: [//compass-style.org/help/tutorials/extensions/](http://compass-style.org/help/tutorials/extensions/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-20T11:36:48.503

也许使用[sass-globbing](http://rubygems.org/gems/sass-globbing)和可选文件的命名约定遵循特定的加载顺序。

考虑以下树：

```
stackoverflow-14975341/
├── .gitignore
├── config.rb
├── css/
│   └── screen.css
└── sass/
    ├── optionals/
    │   ├── .gitkeep
    │   ├── _01_style.scss
    │   └── _03_style.scss
    └── screen.scss 
```

使用这些文件：

```
# config.rb
require 'sass-globbing'

sass_dir   = 'sass'
css_dir    = 'css'
relative_assets = true 
```

和

```
// sass/screen.scss
@import "optionals/*"; 
```

和

```
// sass/optionals/_01_style.scss
.optional1 {
  background-color: red;
} 
```

和

```
// sass/optionals/_03_style.scss
.optional3 {
  background-color: green;
} 
```

并且，对于在`.gitignore`：

```
sass/optional/* 
```

最后，要保留`optional`文件夹，创建一个名为的空文件`.gitkeep`（文件名不重要）。

当您编译样式表时，`screen.css`即使文件`_02_style.scss`丢失，Compass 也会生成。

```
// css/screen.css
/* line 1, ../sass/optionals/_01_style.scss */
.optional1 {
  background-color: red;
}

/* line 1, ../sass/optionals/_03_style.scss */
.optional3 {
  background-color: green;
} 
```

当然可以基于导入附加路径来改进系统。

# jsp - 在选项标签上显示额外的 >

> ID：14975342
> 
> 赞同：0
> 
> 时间：2013-02-20T08:32:26.323
> 
> 标签：jsp

由于我的要求，我在输入标签内使用选项标签，如下所示。

但结果显示额外 > 。

```
<input type="checkbox" <option></option>> 
```

![在此处输入图像描述](../Images/248fd24dc0fa3d411c936feeb6dc2dd0.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T10:53:49.667

我不知道输入标签的[复选框类型](http://www.w3schools.com/tags/att_input_type.asp)是否具有选项属性..

您的选项属性没有任何意义，只需尝试删除选项标签..它也会显示您的复选框..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T03:56:58.930

实际上，当单击复选框时，我试图使用选项标签的值。当我用来设置输入标签的值而不是使用额外的选项标签值时，它是如此简单。

```
<input type="checkbox" value="${myvalue}"> 
```

# windows - mt.exe 无法终止

> ID：14975343
> 
> 赞同：1
> 
> 时间：2013-02-20T08:32:28.013
> 
> 标签：windows, build, msbuild, compilation, manifest

有时，当我使用 nmake 编译 C++ 代码时，构建过程会卡在清单工具 mt.exe 上（请参阅此屏幕截图的底部 - [http://i.stack.imgur.com/pgyzT.png](http://i.stack.imgur.com/pgyzT.png)）。它永远不会完成，但是如果我取消构建过程并重新开始，它可能会运行到最后一点，但会再次卡在另一个看似随机的 mt.exe 进程中。这使得构建大型软件变得非常麻烦，因为我需要“监控”构建过程以了解何时取消并从头开始。

我对这种行为的原因一无所知。有没有人遇到过这个问题？

编辑：我使用的是 Windows 8 x64，mt.exe 来自 Windows SDK 6.0A。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:54:58.257

我在 msbuild 卡在随机点时遇到了类似的问题。从来没有发现是什么原因造成的，但对我有用的解决方法是禁用项目的并行构建。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-01-13T07:58:13.053

在构建时尝试禁用防病毒按需扫描。我已经看到一些防病毒软件使用 mt.exe 阻止访问文件，但通常您会收到错误而不是挂起。

# delphi - EOutOfMemory 异常是否可恢复？

> ID：14975346
> 
> 赞同：9
> 
> 时间：2013-02-20T08:32:43.027
> 
> 标签：delphi, exception, out-of-memory

`EOutOfMemory`在捕获异常或现在堆或堆栈很可能损坏后继续执行是否有意义？

我不是指`EOutOfMemory`由于写入野地址等错误而导致先前内存损坏的情况，我的意思是调用`GetMem`和捕获的正确代码`EOutOfMemory`。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-20T09:23:04.710

在我看来，尝试从`EOutOfMemory`. 根据我的经验，堆损坏的可能性非常高，并且可以预期未来的错误。通常，最安全的做法是终止进程。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-07T01:34:30.993

总的来说，我同意试图恢复是没有意义的。但它在特定情况下很有用。例如，根据用户选择分配大量内存，如果失败，您可以完全退出并让他们使用不同的设置重试。我这样做是为了将点云转换为 3D 网格，其中包括一些事先不知道内存要求的步骤。它只需对您希望可恢复的步骤进行仔细编码，并具有立即且干净的回退路径。例如，我的一些数据结构是位图或缓冲区，每一行都是单独分配的，以最大限度地减少碎片内存的问题。构造函数尝试...除了处理并抛出 EOutOfMemory 异常，析构函数释放任何已分配的行。我可以'

# java - JNA：将指向结构的指针传递给 User32.dll 的 SendMessage 函数作为 LPARAM

> ID：14975347
> 
> 赞同：0
> 
> 时间：2013-02-20T08:32:43.217
> 
> 标签：java, winapi, jna

我需要执行一个简单的任务：在资源管理器窗口中打印出列表视图项的名称。假设我在桌面上打开“C:\Documents and Settings”，然后我想做的是使用 JNA 编写一个 java 程序来打印打开的资源管理器窗口中的所有文件夹/文件的名称。

我能做的：获取打开的资源管理器窗口的句柄和其中的列表视图的句柄。

我发现了什么：我需要调用 User32.dll 的 SendMessage 函数并将它的句柄传递给上面找到的列表视图，以及消息代码（对于 LVM_GETITEMTEXTA 是 (0x1000 + 45)），以及基于 0我需要获取其名称的列表视图项的索引号，以及一个 LPARAM（它是一个长值）。该 LPARAM 将接受指向 LVITEM 类型结构的指针。您可以在此处参考消息的文档：http: [//msdn.microsoft.com/en-us/library/windows/desktop/bb761055 (v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/bb761055(v=vs.85).aspx)

我在 User32 的界面中创建了结构 LVITEM，如下所示：

```
public static class LVITEM extends Structure
    {
        public short mask;
        public int iItem;
        public int iSubItem;
        public short state;
        public short stateMask;
        public char[] pszText;
        public int cchTextMax;
        public int iImage;
        public LPARAM lParam;
        public int iIndent;

        protected List getFieldOrder()
        {
            return Arrays.asList(new String[] { "mask", "iItem", "iSubItem", "state", "stateMask", "pszText", "cchTextMax", "iImage", "lParam", "iIndent" });
        }

    } 
```

我的结构初始化如下：

```
User32.LVITEM lvItem = new User32.LVITEM(); //User32 is the name of the interface containing the LVITEM structure
lvItem.mask = 0x00000001; //code for LVIF_TEXT
lvItem.pszText= new char[260];
lvItem.iSubItem = 0;
lvItem.cchTextMax = 260; 
```

我在 for 循环中调用 SendMessage 函数来打印所有列表视图项的名称，如下所示：

```
for(int j=0;j<nItems;j++)
{
lvItem.iItem= j;
LRESULT lrs = User32.INSTANCE.SendMessageA(handleToListView, (0x1000 + 45) , new WPARAM(j), new LPARAM(lvItem.getPointer().getLong(0)));
} 
```

如果我打印 lvItem.getPointer().getLong(0) - 我得到 0，而不是代表指针的 long 值。

如果我打印 lrs 或 lvItem.pszText - 我没有得到文件夹的名称。我得到一个空白值/ 0。

我知道 JNA 文档说指向结构的指针在 JNA 中被视为结构。但是，如果我不执行 lvItem.getPointer，那么我将如何将结构转换为作为 LPARAM 构造函数的参数所需的长值？

我究竟做错了什么？请帮忙。我已经花了很多时间进行研究，而且由于我是 JNA 的新手，所以无法理解出了什么问题。

环境：Win XP Pro，JNA 版本：3.4

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T12:52:05.833

如果在 a 中使用原始数组`Structure`，JNA 会将其解释为嵌套在本机 中的原始数组`struct`。该`LVITEM`字段`pszText`具有指针类型，并且更具体地表示可写字节缓冲区，因此您必须使用`Memory`（或 NIO 缓冲区）。Using`String`仅适用于本机`const char *`（即缓冲区是只读的）。调用后，您可以使用`Pointer.getString(0)`从内存缓冲区中提取本机以 NUL 结尾的字符串。

至于将结构“转换”为`LPARAM`值，则没有必要。`SendMessage`对于第四个参数的类型`LVITEM`（即 native `struct *`），您可以自由定义自己的方法签名。

我还建议`W32APIOptions.DEFAULT_OPTIONS`在初始化`User32`库时使用；它们会自动处理映射`String`和`SendMessage`到适当的本机 API 映射（Windows ANSI 或 UNICODE，默认为 UNICODE），因此您可以使用`String`代替`WString`和`SendMessage`代替`SendMessageW`.

**编辑**

分配被调用函数将写入的缓冲区：

```
public static class LVITEM extends Structure
{
    ...
    private static final int MEMSIZE = 260;
    public Pointer pszText = new Memory(MEMSIZE);
    public int cchTextMax = MEMSIZE; 
```

上述结构 (LVITEM) 的大小应返回 60（如果您使用 64 位，则返回更多）。

# android - 如何在 Android 本机代码中获得高分辨率计时器？

> ID：14975349
> 
> 赞同：7
> 
> 时间：2013-02-20T08:33:07.843
> 
> 标签：android, time, arm

我正在寻找一种在 Android 上获得高分辨率计时器（时钟源）的方法。这必须是本机代码，并且可能相当不可移植。我想要微秒级的分辨率，或者更好。对于我的特定应用，分辨率比精度更重要，单调的计时器是最好的。我一直在使用 Android 4.0.3 在特定的 ARMv7 芯片组上进行测试。

到目前为止我已经尝试过：

*   `clock_gettime(CLOCK_MONOTONIC)`：目标硬件上以 1ms 为单位的增量（**编辑**最初我认为 10ms 由于我的代码中的错误，1ms 是正确的但仍然不是很好）
*   `gettimeofday()`：类似于clock_gettime

我没有尝试过的：

*   `System.nanoTime()`: 这不是原生的。我相信它基于clock_gettime()，但我更愿意找出引擎盖下的任何东西并直接使用它。
*   `/dev/rtc`
*   某种 ARM 指令/设施，可能是`SysTick`（[http://web.eecs.umich.edu/~prabal/teaching/eecs373-f10/readings/ARMv7-M_ARM.pdf](http://web.eecs.umich.edu/~prabal/teaching/eecs373-f10/readings/ARMv7-M_ARM.pdf)）或通用定时器（GPT）。

另见（相关问题，但没有答案）：

*   [Android JNI中的高精度定时器](https://stackoverflow.com/questions/5054376/high-precision-timer-in-android-jni)

*   [在 Android 上获得高精度计时](http://www.gamasutra.com/view/feature/171774/getting_high_precision_timing_on_.php)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-21T14:20:15.663

您可以使用 CPU 周期计数器来测量两个时刻之间的周期数，然后将其转换为秒。为了保证 CPU 以标称频率运行，请将其缩放调节器切换到“性能”模式（Play 商店中有许多应用程序可以做到这一点，但需要 root 访问权限）。您还必须很好地冷却您的设备，以确保 CPU 不会节流（这对手机来说尤其重要）。最后，您必须将代码绑定到单个核心（最好是核心 0，因为系统可以将其他核心置于离线状态）。

在 ARM 上访问周期计数器有两种方法：使用 Linux 中的 perf_event 子系统或直接从 CP15 协处理器读取周期计数器。perf_event 方法仅在 Linux 内核编译时支持该子系统（文件 /proc/sys/kernel/perf_event_paranoid 存在）并且读取事件计数器不受限制（文件 /proc/sys/kernel/perf_event_paranoid 包含 0 或 - 1；使用 root 访问权限，您可以覆盖此文件中的值）。CP15 方法仅在启用用户模式访问性能计数器时才有效（默认情况下始终禁用，您必须修补内核或使用内核驱动程序来启用它）。[耶！图书馆](http://www.yeppp.info)（我是作者）能够在可用时使用任何一种方法，并且包括一个内核模式驱动程序以启用用户模式对性能计数器的访问。您可能会发现[此示例](http://docs.yeppp.info/c/_cpu_cycles_8c-example.html)很有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T08:12:19.863

1.  Android 不支持 ARMv7-M，因此 Systick 不适用。
2.  我对 android/linux 中的计时器并没有真正的经验，如果你要在自己的设备上运行这个软件，你可以在 linux 中启用 PMU 并使用 CPU 的周期计数寄存器来获得接近纳秒的精度。如果您要发布您的软件或将其提供给某些最终消费者，这并不是真正可取的，因为制造商在不同的设备上具有不同的内核配置，因此 PMU 可能无法启用/可用。

编辑：您还可以查看[https://groups.google.com/forum/?fromgroups=#!topic/android-ndk/dgrqhgHWbHI](https://groups.google.com/forum/?fromgroups=#!topic/android-ndk/dgrqhgHWbHI)和 clock_getres() 以检查 clock_gettime() 的分辨率

# c# - 您将如何构建报告以发送给多个用户？

> ID：14975350
> 
> 赞同：-1
> 
> 时间：2013-02-20T08:33:13.630
> 
> 标签：c#, sql-server-2008, reporting-services, ssis

我需要为 50 多个用户创建一个报告（类似报告的表格）。每个带有特定用户数据的数据都必须创建并通过电子邮件发送。

您将如何创建和自动化该过程？

是否有可能涉及以下程序来完成该任务？

```
-Sql reporting services
-Integration services
-Other techniques? 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:54:11.050

您可以使用 SQL Server Reporting Services (SSRS) 并使用 Report Builder 或 Business Intelligence Development Studio 等工具创建具有输入参数 UserId（可能还有一些其他参数）的报表。然后在您的 SQL 中，您应该编写查询并根据 SSRS 中的查询生成您的报告。然后您可以使用 ReportViewer 控件创建客户端（如果您不想使用标准报表服务器客户端）。此控件可用于 Web 和 WinForms。首先，您可以阅读本教程：[SSRS 教程](http://www.accelebrate.com/sql_training/ssrs_2008_tutorial.htm)

对于自动化，您可以使用 ReportExecutionService 和方法 Render 在代码后面获取报告的导出文件 - [MSDN Render](http://msdn.microsoft.com/en-us/library/microsoft.wssux.reportingserviceswebservice.rsexecutionservice2005.reportexecutionservice.render%28SQL.90%29.aspx)

然后通过电子邮件发送此文件。

# ios - 如何在捆绑设置中查看滑块值，iOS？

> ID：14975360
> 
> 赞同：2
> 
> 时间：2013-02-20T08:33:40.530
> 
> 标签：ios, slider, settings, settings.bundle

我在我的应用程序的捆绑设置中使用滑块让用户选择 1 - 1000 米之间的距离。

滑块工作正常，但我想向用户展示滑块的实际值。

这可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:43:04.943

我认为没有可行的可能性用滑块来做到这一点。您可以使用 a `PSMultiValueSpecifier`，一个“多值元素”，它有 4 个部分，一个用于您的 4 位数字的每个数字。然后可以同时设置和显示。

# android - 将实例保存在一个活动中并显示在不同的活动中

> ID：14975361
> 
> 赞同：1
> 
> 时间：2013-02-20T08:33:41.517
> 
> 标签：android, android-intent

我试图在旋转屏幕后按下返回按钮。我知道在屏幕旋转时，活动想要做的是

1.  **在第一个活动中输入消息**
2.  **在第二个活动中显示消息**
3.  **旋转屏幕并通过 onSaveInstanceState() 保存“ata”**
4.  **重新创建第二个活动**
5.  **在第二个活动上点击返回按钮（重新创建第一个活动 - onCreate() 调用）**

由于 savedInstanceState 不为空，它应该显示保存的任何内容。唉，正在显示空值。这是代码

第一项活动：-

```
package dummy.pack;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.view.Menu;
import android.view.View;
import android.widget.EditText;
import android.widget.TextView;

public class MainActivity extends Activity implements CommonHandler{

public final static String EXTRA_MESSAGE = "dummy.MESSAGE";
public static String DISPLAY_MESSAGE;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    **if (savedInstanceState != null)
    {
        DISPLAY_MESSAGE = savedInstanceState.getString("message");
        DISPLAY_MESSAGE = DISPLAY_MESSAGE + " calling from create";
        getMessage();
    }**
    else
    {
        setContentView(R.layout.activity_main);
    }
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.activity_main, menu);
    return true;
}

public void sendMessage(View view)
{
    Intent intent = new Intent (this, DisplayMessageActivity.class);
    EditText editText = (EditText) findViewById(R.id.edit_message);
    String message = editText.getText().toString();
    intent.putExtra(EXTRA_MESSAGE, message);
    startActivity(intent);
}

@Override
public void onStart() {
    super.onStart();

}

@Override
public void onStop(){
    super.onStop();

    System.gc();
}

**public void getMessage() {
    TextView textView = new TextView(this);
    textView.setTextSize(40);
    textView.setText(DISPLAY_MESSAGE);
    setContentView(textView);
}**

@Override
public void onRestart (){
    super.onRestart();
    DISPLAY_MESSAGE = "Normal 1";
    getMessage();
}

} 
```

第二个活动：-

```
package dummy.pack;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.view.Menu;
import android.widget.TextView;

public class DisplayMessageActivity extends Activity implements CommonHandler{

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    //Get the message from Intent
    Intent intent = getIntent();
    String message = intent.getStringExtra(MainActivity.EXTRA_MESSAGE);

    //Create the text view
    TextView textView = new TextView(this);
    textView.setTextSize(40);
    textView.setText(message);
    setContentView(textView);
}

@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu; this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.activity_display_message, menu);
    return true;
}

@Override
**public void onSaveInstanceState(Bundle saveState) {
    saveState.putString("message","Recreate");
    super.onSaveInstanceState(saveState);
}**
} 
```

任何帮助都是不言而喻的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:40:38.393

在清单文件中的活动中添加以下内容

```
<activity android:name="Activity name"
       android:configChanges="keyboardHidden|orientation|"> 
```

这在你的活动中

```
 if(newConfig.orientation==Configuration.ORIENTATION_LANDSCAPE){

    Log.e("On Config Change","LANDSCAPE");
}else{

    Log.e("On Config Change","PORTRAIT");
} 
```

希望这能解决你的问题

# javascript - HTML5 WebSocket：客户端的消息在 Google Chrome 22 中缓冲

> ID：14975366
> 
> 赞同：5
> 
> 时间：2013-02-20T08:33:51.977
> 
> 标签：javascript, html, google-chrome, websocket

我正在编写一个基于[HTML5 WebSocket](http://en.wikipedia.org/wiki/WebSocket)技术的非常简单的聊天应用程序，其中服务器（使用[node.js WS](https://github.com/einaros/ws)实现）跟踪所有连接的用户并广播每条收到的消息。另一方面，客户端连接到服务器并根据用户的操作向服务器发送消息。

我观察到的问题是，除非服务器在打开连接后向客户端发送消息，否则从在 Google Chrome 上运行的客户端发送的所有消息都会被缓冲，直到发送了几条消息。一旦缓冲区已满，所有消息都会立即发送。这为最终用户创造了一种非常无响应的聊天体验。

我发现的修复是`ws.send("Hello Client:" + clientId);`在服务器端打开连接后添加单个，但*我不确定为什么这是必要的？*您可以在下面找到我的客户端和服务器组件的片段，但完整的源代码可在[ChatMate git 项目](https://github.com/zkhalapyan/chatmate)中找到。

**服务器代码：**

```
wsServer.on('connection', function (ws) {
    var clientId = nextClientId += 1;
    clients[clientId] = ws;
    log("Accepted connection from client " + clientId + ".");

    //The fix: If you emit this initial message from the server, then
    //all of client's messages will be cached. 
    ws.send("Hello Client: " + clientId);

    ws.on('message', function (message) {
        log("Received message: " + message);
        var id;
        for (id in clients ) {
            if (clients.hasOwnProperty(id)) {
                if (parseInt(id, 10) !== clientId) {
                    clients[id].send(message);
                }
            }

        }
    });
}); 
```

**客户代码**：

```
function WebSocketTest() {
    "use strict";
    ws = new WebSocket("ws://DOMAIN:8080/");

    ws.onopen = function () {
        console.log("Connection is open.");
        //This message will not be sent if the server does not send 
        //a message first.
        ws.send("Client Message.");
    };

    ws.onmessage = function (e) {
        console.log("Message is received: " + e.data);
    };

} 
```

谢谢！

# iphone - iphone - Sqlite3 数据库锁定异常

> ID：14975368
> 
> 赞同：0
> 
> 时间：2013-02-20T08:33:57.373
> 
> 标签：iphone, database, sqlite

为了摆脱这个错误，我尝试了很多方法，但我没有成功。我是新手，我试图从所有其他问题中找出答案，也尝试了一些建议，但没有奏效。

这是代码：

```
- (void) addObiectAsigurat
{
sqlite3 *database = nil;
sqlite3_stmt *addStmt = nil;

if(sqlite3_open([[Database getDBPath] UTF8String], &database) == SQLITE_OK) 
{

    if(addStmt == nil) {
        const char *sql = "INSERT INTO ObiectAsigurat (IdIntern, TipObiect, JSONText) Values(?, ?, ?)";
        if(sqlite3_prepare_v2(database, sql, -1, &addStmt, NULL) != SQLITE_OK)
            NSAssert1(0, @"Error while creating add statement. '%s'", sqlite3_errmsg(database));
    }

    sqlite3_bind_text(addStmt, 1, [IdIntern UTF8String], -1, SQLITE_TRANSIENT);
    sqlite3_bind_int(addStmt, 2, TipObiect); 
    sqlite3_bind_text(addStmt, 3, [JSONText UTF8String], -1, SQLITE_TRANSIENT);

    if(SQLITE_DONE != sqlite3_step(addStmt))
        NSAssert1(0, @"Error while inserting data. '%s'", sqlite3_errmsg(database));
    else {
        sqlite3_finalize(addStmt);
        sqlite3_close(database);
    } 
```

如果我在此方法结束时使用它

* * *

```
}
else sqlite3_finalize(addStmt);

sqlite3_close(database);
} 
```

那么我的错误如下所示：

```
Assertion failure in -[YTOObiectAsigurat addObiectAsigurat] 
Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'Error while inserting data. 'database is locked''
*** First throw call stack:
(0x1ba3012 0x16fae7e 0x1ba2e78 0x1190665 0xb6661 0x3d534 0x63a82 0x1200589 0x11fe652 0x11ff89a 0x11fe60d 0x11fe785 0x114ba68 0x2696911 0x2695bb3 0x26d3cda 0x1b458fd 0x26d435c 0x26d42d5 0x25be250 0x1b26f3f 0x1b2696f 0x1b49734 0x1b48f44 0x1b48e1b 0x1ad27e3 0x1ad2668 0x63effc 0xf4d5 0x2615)
libc++abi.dylib: terminate called throwing an exception 
```

如果我用这个

* * *

```
 sqlite3_finalize(addStmt);
    }
sqlite3_close(database);
} 
```

我得到坏线程1：

```
EXC_BAD_ACCESS

libsqlite3.dylib`sqlite3_finalize:
0x37fce0:  pushl  %ebp
0x37fce1:  movl   %esp, %ebp
0x37fce3:  pushl  %ebx
0x37fce4:  pushl  %edi
0x37fce5:  pushl  %esi
0x37fce6:  subl   $28, %esp
0x37fce9:  calll  0x37fcee                  ; sqlite3_finalize + 14
0x37fcee:  popl   %eax
0x37fcef:  movl   %eax, -16(%ebp)
0x37fcf2:  xorl   %edi, %edi
0x37fcf4:  movl   8(%ebp), %esi
0x37fcf7:  testl  %esi, %esi
0x37fcf9:  je     0x37fe16                  ; sqlite3_finalize + 310
0x37fcff:  movl   (%esi), %ebx
0x37fd01:  testl  %ebx, %ebx
0x37fd03:  je     0x37fd1f                  ; sqlite3_finalize + 63
0x37fd05:  cmpl   $2687084183, 60(%ebx)
0x37fd0c:  jne    0x37fd1f                  ; sqlite3_finalize + 63
0x37fd0e:  movl   48(%esi), %eax
0x37fd11:  cmpl   $3186757027, %eax
0x37fd16:  je     0x37fd6a                  ; sqlite3_finalize + 138
0x37fd18:  cmpl   $1369188723, %eax
0x37fd1d:  je     0x37fd6a                  ; sqlite3_finalize + 138
0x37fd1f:  movl   -16(%ebp), %esi
0x37fd22:  leal   726721(%esi), %eax
0x37fd28:  movl   %eax, 4(%esp)
0x37fd2c:  movl   $21, (%esp)
0x37fd33:  calll  0x37b7c0                  ; sqlite3_log
0x37fd38:  leal   705186(%esi), %eax
0x37fd3e:  movl   %eax, 12(%esp)
0x37fd42:  leal   705450(%esi), %eax
0x37fd48:  movl   %eax, 4(%esp)
0x37fd4c:  movl   $67126, 8(%esp)
0x37fd54:  movl   $21, (%esp)
0x37fd5b:  calll  0x37b7c0                  ; sqlite3_log
0x37fd60:  movl   $21, %edi
0x37fd65:  jmp    0x37fe16                  ; sqlite3_finalize + 310
0x37fd6a:  movl   12(%ebx), %edi
0x37fd6d:  testl  %edi, %edi
0x37fd6f:  je     0x37fd80                  ; sqlite3_finalize + 160
0x37fd71:  movl   %edi, (%esp)
0x37fd74:  movl   -16(%ebp), %eax
0x37fd77:  calll  *759034(%eax)
0x37fd7d:  movl   48(%esi), %eax
0x37fd80:  movl   %edi, -20(%ebp)
0x37fd83:  cmpl   $3186757027, %eax
0x37fd88:  je     0x37fd93                  ; sqlite3_finalize + 179
0x37fd8a:  xorl   %edi, %edi
0x37fd8c:  cmpl   $1369188723, %eax
0x37fd91:  jne    0x37fd9c                  ; sqlite3_finalize + 188
0x37fd93:  movl   %esi, %ecx
0x37fd95:  calll  0x37ff00                  ; sqlite3VdbeReset
0x37fd9a:  movl   %eax, %edi
0x37fd9c:  movl   60(%esi), %eax
0x37fd9f:  movl   (%esi), %ecx
0x37fda1:  movl   56(%esi), %edx
0x37fda4:  testl  %edx, %edx
0x37fda6:  je     0x37fdad                  ; sqlite3_finalize + 205
0x37fda8:  movl   %eax, 60(%edx)
0x37fdab:  jmp    0x37fdb0                  ; sqlite3_finalize + 208
0x37fdad:  movl   %eax, 4(%ecx)
0x37fdb0:  movl   60(%esi), %eax
0x37fdb3:  testl  %eax, %eax
0x37fdb5:  je     0x37fdbd                  ; sqlite3_finalize + 221
0x37fdb7:  movl   56(%esi), %edx
0x37fdba:  movl   %edx, 56(%eax)
0x37fdbd:  movl   $3053896648, 48(%esi)
0x37fdc4:  movl   $0, (%esi)
0x37fdca:  movl   %esi, %edx
0x37fdcc:  calll  0x378cd0                  ; sqlite3VdbeDeleteObject
0x37fdd1:  cmpb   $0, 50(%ebx)
0x37fdd5:  jne    0x37fddf                  ; sqlite3_finalize + 255
0x37fdd7:  cmpl   $3082, %edi
0x37fddd:  jne    0x37fe00                  ; sqlite3_finalize + 288
0x37fddf:  movl   %ebx, (%esp)
0x37fde2:  movl   $0, 8(%esp)
0x37fdea:  movl   $7, 4(%esp)
0x37fdf2:  calll  0x37d090                  ; sqlite3Error
0x37fdf7:  movb   $0, 50(%ebx)
0x37fdfb:  movl   $7, %edi
0x37fe00:  andl   44(%ebx), %edi
0x37fe03:  movl   -20(%ebp), %eax
0x37fe06:  testl  %eax, %eax
0x37fe08:  je     0x37fe16                  ; sqlite3_finalize + 310
0x37fe0a:  movl   %eax, (%esp)
0x37fe0d:  movl   -16(%ebp), %eax
0x37fe10:  calll  *759042(%eax)
0x37fe16:  movl   %edi, %eax
0x37fe18:  addl   $28, %esp
0x37fe1b:  popl   %esi
0x37fe1c:  popl   %edi
0x37fe1d:  popl   %ebx
0x37fe1e:  popl   %ebp
0x37fe1f:  ret 
```

这些都是我插入、更新、删除和选择的所有方法。

```
 - (void) addObiectAsigurat
 {
sqlite3 *database = nil;
sqlite3_stmt *addStmt = nil;

if(sqlite3_open([[Database getDBPath] UTF8String], &database) == SQLITE_OK) 
{

    if(addStmt == nil) {
        const char *sql = "INSERT INTO ObiectAsigurat (IdIntern, TipObiect, JSONText) Values(?, ?, ?)";
        if(sqlite3_prepare_v2(database, sql, -1, &addStmt, NULL) != SQLITE_OK)
            NSAssert1(0, @"Error while creating add statement. '%s'", sqlite3_errmsg(database));
    }

    sqlite3_bind_text(addStmt, 1, [IdIntern UTF8String], -1, SQLITE_TRANSIENT);
    sqlite3_bind_int(addStmt, 2, TipObiect); 
    sqlite3_bind_text(addStmt, 3, [JSONText UTF8String], -1, SQLITE_TRANSIENT);

    if(SQLITE_DONE != sqlite3_step(addStmt))
        NSAssert1(0, @"Error while inserting data. '%s'", sqlite3_errmsg(database));
    else {
        sqlite3_finalize(addStmt);
        sqlite3_close(database);
    }

       sqlite3_finalize(addStmt);
}
sqlite3_close(database);
}

- (void) updateObiectAsigurat
{
sqlite3 *database = nil;
sqlite3_stmt *updateStmt = nil;

if(sqlite3_open([[Database getDBPath] UTF8String], &database) == SQLITE_OK)
{

    if(updateStmt == nil) {
        NSString *update = [NSString stringWithFormat:@"UPDATE ObiectAsigurat SET JSONText = ? WHERE IdIntern='%@'", IdIntern];

        if(sqlite3_prepare_v2(database, [update UTF8String], -1, &updateStmt, NULL) != SQLITE_OK)
            NSAssert1(0, @"Error while creating update statement. '%s'", sqlite3_errmsg(database));
    }

    sqlite3_bind_text(updateStmt, 1, [JSONText UTF8String], -1, SQLITE_TRANSIENT);                       

    if(SQLITE_DONE != sqlite3_step(updateStmt))
        NSAssert1(0, @"Error while updating data. '%s'", sqlite3_errmsg(database));
    else {
        sqlite3_finalize(updateStmt);
        sqlite3_close(database);
    }
   sqlite3_finalize(updateStmt);
}

sqlite3_close(database);
}

- (void) deleteObiectAsigurat
{
sqlite3 *database = nil;
sqlite3_stmt *deleteStmt = nil;

if(sqlite3_open([[Database getDBPath] UTF8String], &database) == SQLITE_OK) 
{

    if(deleteStmt == nil) {
        NSString *delete = [NSString stringWithFormat:@"DELETE FROM ObiectAsigurat WHERE IdIntern='%@'", IdIntern];

        if(sqlite3_prepare_v2(database, [delete UTF8String], -1, &deleteStmt, NULL) != SQLITE_OK)
            NSAssert1(0, @"Error while creating delete statement. '%s'", sqlite3_errmsg(database));
    }

    if(SQLITE_DONE != sqlite3_step(deleteStmt))
        NSAssert1(0, @"Error while deleting data. '%s'", sqlite3_errmsg(database));
    else {
        sqlite3_finalize(deleteStmt);
        sqlite3_close(database);
    }
    sqlite3_finalize(deleteStmt);
}

sqlite3_close(database);
}

+ (YTOObiectAsigurat *) getObiectAsigurat:(NSString *)idIntern
{
YTOObiectAsigurat * ob = [[YTOObiectAsigurat alloc] init];
sqlite3 *database;
sqlite3_stmt *selectstmt = nil;

if (sqlite3_open([[Database getDBPath] UTF8String], &database) == SQLITE_OK) {
    NSString * sqlstring = [NSString stringWithFormat:@"SELECT IdIntern, TipObiect, JSONText FROM ObiectAsigurat WHERE IdIntern='%@'", idIntern];
    const char *sql = [sqlstring UTF8String];

    if(sqlite3_prepare_v2(database, sql, -1, &selectstmt, NULL) == SQLITE_OK) {

        while(sqlite3_step(selectstmt) == SQLITE_ROW) {
            ob._isDirty = YES;

            ob.IdIntern = [NSString stringWithUTF8String:(char *)sqlite3_column_text(selectstmt, 0)];
            ob.TipObiect = sqlite3_column_int(selectstmt, 1);
            ob.JSONText = [NSString stringWithUTF8String:(char *)sqlite3_column_text(selectstmt, 2)];
        }
    }
    sqlite3_finalize(selectstmt);
}

sqlite3_close(database);

return ob;
}

+ (NSMutableArray *) getListaByTipObiect:(int)tip;
{
NSMutableArray * _list = [[NSMutableArray alloc] init];
sqlite3 *database;
sqlite3_stmt *selectstmt = nil;

if (sqlite3_open([[Database getDBPath] UTF8String], &database) == SQLITE_OK) {
    NSString * sqlstring = [NSString stringWithFormat:@"SELECT IdIntern, TipObiect, JSONText FROM ObiectAsigurat WHERE TipObiect=%d",tip];
    const char *sql = [sqlstring UTF8String];

    if(sqlite3_prepare_v2(database, sql, -1, &selectstmt, NULL) == SQLITE_OK) {

        while(sqlite3_step(selectstmt) == SQLITE_ROW) {

            YTOObiectAsigurat * ob = [[YTOObiectAsigurat alloc] init];
            ob._isDirty = YES;

            ob.IdIntern = [NSString stringWithUTF8String:(char *)sqlite3_column_text(selectstmt, 0)];
            ob.TipObiect = sqlite3_column_int(selectstmt, 1);
            ob.JSONText = [NSString stringWithUTF8String:(char *)sqlite3_column_text(selectstmt, 2)];

            [_list addObject:ob];
        }
    }
    sqlite3_finalize(selectstmt);
}

sqlite3_close(database);

return _list;
}

@end 
```

编辑：我很容易解决了我的问题。

我没有在插入、更新、删除的方法中完成并关闭数据库，我只是重置了语句，然后将其设为 nil。在此之后，我声明了一个方法 finalize，在此我关闭数据库并最终确定语句。也许这个想法会对某人有所帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:46:51.213

1.  确保在使用它的其他方法中关闭数据库连接。

2.  由于您在循环中调用您的方法，因此当您需要批量插入数据时，使用数据库有更有效的方法：重建您的应用程序以循环访问 INSERT 中的值，如下所示：这只是一个示例，在此处插入正确的值

    ```
    -(void)insertValuesFromArray:(NSMutableArray *)array {

    sqlite3 * database;

    const char *dbpath = [[Database getDBPath] UTF8String];

    if (sqlite3_open(dbpath, &database) == SQLITE_OK)
    {
        sqlite3_exec(database, "BEGIN TRANSACTION", 0, 0, 0);
        const char *sqlStatement = "INSERT INTO ObiectAsigurat (IdIntern) Values(?)";
        sqlite3_stmt *compiledStatement;

        if (sqlite3_prepare_v2(database, sqlStatement, -1, &compiledStatement, NULL) == SQLITE_OK) {
            int hasError = 0;

            for (int i=0; i<[array count]; i++) {
                sqlite3_bind_text(compiledStatement, 1, [[array objectAtIndex:i] UTF8String], -1, SQLITE_TRANSIENT);

                if (sqlite3_step(compiledStatement) != SQLITE_DONE) {
                    hasError=1;
                    NSLog(@"Prepare-error %s", sqlite3_errmsg(database));
                }

                sqlite3_reset(compiledStatement);
            }

            sqlite3_finalize(compiledStatement);

            if( hasError == 0 ) {
                sqlite3_exec(database, "COMMIT", 0, 0, 0);
                NSLog(@"inserted successfully");
            }
            else {
                sqlite3_exec(contactDB, "ROLLBACK", 0, 0, 0);
                NSLog(@"can't insert:");
            }
        }
        sqlite3_close(contactDB);
    }

    } 
    ```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:50:48.103

一种可能性是您没有提交插入事务。搜索如何提交并尝试一些解决方案。

以下可能会有所帮助

[SQLite 3 C API 事务](https://stackoverflow.com/questions/416924/sqlite-3-c-api-transactions)

如果您已经尝试过，请忽略....

# asp.net - 在另一个 Generic-HttpHandler 中调用 Generic-HttpHandler

> ID：14975370
> 
> 赞同：0
> 
> 时间：2013-02-20T08:34:06.180
> 
> 标签：asp.net, httphandler

我想**在同一个项目**`genric http-handler`的另一个内部调用一个。 假设我有两个处理程序`generic-http-handler`

 **1.  第一汉德.ashx
2.  SecondHandler.ashx

我想调用第二个关于`SecondHandler.ashx`我`FirstHandler.ashx`
创建的`SecondHandler.ashx`实例`FirstHandler.ashx`如下

```
var objCreateLogs=new SecondHandler();
objCreateLogs.ProcessRequest(context); 
```

我想知道它会起作用吗？

~~1\. 我还需要传递 `**context**` 否则它会隐式出现。~~

1.  由于返回类型为 void `SecondHandler.ashx`，我如何才能得到响应。`FirstHandler.ashx``ProcessRequest`
2.  我能得到回复吗`httpcontex`

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T10:32:34.253

处理程序不应该做这项工作。创建一个类/方法来执行这个词并在两个处理程序中使用它。

```
//Extract parameters    
string par1=Request["a"];
//...
//Call a backend function
var result = MyFunctions.DoTheWork(par1); 
```**

# jquery - jquery-handsontable：将函数传递给 colWidth 选项

> ID：14975373
> 
> 赞同：2
> 
> 时间：2013-02-20T08:34:14.740
> 
> 标签：jquery, html, css, handsontable

## 背景

在[这个](http://handsontable.com/demo/scroll.html) [实用](https://github.com/warpech/jquery-handsontable)教程中，出现了这一行：

```
colWidths: [55, 80, 80, 80, 80, 80, 80], //can also be a number or a function 
```

## 问...

有谁知道（并有一个例子）`colWidths`在传递一个*函数*时使用该选项？

*   这是否允许自定义呈现动态表调整大小？
*   这个函数什么时候调用？
*   原型是什么？
*   为什么包含此功能？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-23T01:17:12.030

这是一个构造函数选项。如果一个函数是可能的，那么：

```
colWidths: function(){ return [55, 80, 80, 80, 80, 80, 80]; }, 
```

# javascript - 提交后如何防止刷新？

> ID：14975374
> 
> 赞同：0
> 
> 时间：2013-02-20T08:34:15.340
> 
> 标签：javascript, html, forms, reloading

我在这里得到了这段代码，它在单击提交时执行函数 validate()。该函数更改页面中的一些文本。但是看不到效果，因为提交后页面自动刷新：

```
<form name="myForm" onsubmit="validate(); return false;">
    Age: <input type="text" name="age" />
    Height (meters): <input type="text" name="height" />
    Weight (kilograms): <input type="text" name="weight" />
    <input type="submit" value="Submit">
</form> 
```

每次提交后如何防止页面重新加载？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:39:49.720

表单触发的提交事件会自动启动表单操作。如果没有声明表单操作，它会刷新页面。您需要在验证之前阻止此默认操作发生，然后在通过验证后提交数据。

添加`preventDefault()`到您的验证码。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:40:28.493

确保添加 return false; 在您的 validate() 函数中。

这将阻止提交表单。

例子 ：

```
 function validate() {
     //Validation code goes here
     return false;
 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T08:38:04.127

您可以在表单中使用测试按钮

```
<input type="button" value="Test button" onclick="validate();"> 
```

解决后，删除按钮。

您还可以使用 Firebug（或等效的）在您的 javascript 代码中添加断点。

# html - 希伯来语 PayPal 按钮中文本不正确的问题

> ID：14975382
> 
> 赞同：2
> 
> 时间：2013-02-20T08:34:51.340
> 
> 标签：html, paypal

我有一个 PayPal 按钮问题 当我按下按钮时，它会引导我进入付款页面 但是产品名称没有希伯来语 你可以看到图片

![在此处输入图像描述](../Images/4f5c7bd9f629fed962b42dd2615c7f88.png)

我还添加了页面的代码

```
<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>bookstore</title>
</head>

<body>
<form target="paypal" action="https://www.paypal.com/cgi-bin/webscr" method="post" accept-charset="utf-8">
<input type="hidden" name="cmd" value="_cart">
<input type="hidden" name="business" value="myemail@gmail.com">
<input type="hidden" name="lc" value="US">
<input type="hidden" name="item_name" value="ספר בישול">
<input type="hidden" name="item_number" value="K8003">
<input type="hidden" name="amount" value="2.99">
<input type="hidden" name="currency_code" value="USD">
<input type="hidden" name="button_subtype" value="products">
<input type="hidden" name="no_note" value="0">
<input type="hidden" name="tax_rate" value="17.000">
<input type="hidden" name="shipping" value="1.00">
<input type="hidden" name="add" value="1">
<input type="hidden" name="bn" value="PP-ShopCartBF:btn_cart_LG.gif:NonHostedGuest">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_cart_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form>

</body>
</html> 
```

感谢任何可以提供帮助的人

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-28T08:42:27.960

你可以改变这一行：

```
<input type="hidden" name="lc" value="US"> 
```

至：

```
<input type="hidden" name="lc" value="he_IL"> 
```

要解决您的问题，您可以添加以下行：

```
<input type="hidden" name="charset" value="utf-8"> 
```

但是来自 IPN 的回发希伯来文文本存在问题。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-02-20T08:58:03.373

在我看来，这更像是一个 PayPal 问题，而不是 HTML/HTML5 问题。

我有一个快速的谷歌并找到[了这个修复](http://www.webasyst.net/support/help/paypal-product-names-encoding.html)：

> 1.  [在http://www.paypal.com/](http://www.paypal.com/)登录您的 PayPal 账户，然后进入“我的账户概览 -> 个人资料 -> 我的销售工具”部分。
> 2.  在“更多销售工具”中单击“PayPal 按钮语言编码”链接。
> 3.  确保“您网站的语言”设置正确。
> 4.  单击“更多选项”按钮，为“编码”选择“UTF-8”选项，并为“您是否要对从 PayPal 发送给您的数据使用相同的编码（例如，IPN、可下载的日志、电子邮件）？”。
> 5.  单击“保存”以保存您的更改。

# jquery - Jquery - 更改 z-index <= 0 的对象的光标

> ID：14975383
> 
> 赞同：0
> 
> 时间：2013-02-20T08:34:52.523
> 
> 标签：jquery, jquery-selectors

是否有可能更改`css-cursor`特定组（图像）的所有对象的属性，如果它们`z-index`是`<= 0`？我不确定这是否可以在没有循环的情况下完成。

也许只使用选择器。如果您能给我一个提示，那就太好了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:03:03.010

我会采用这种方法，因为它降低了“启动”处理，并且仅在鼠标进入图像时才应用光标。

```
$('img').mouseenter(
    function(ev){
        if($(this).css('z-index') <= 0) 
        {            
            $(this).css('cursor', 'move');
        }
    }); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:40:39.543

您需要解析所有元素并测试是否满足您的要求。然后应用你的规则。

```
$(document).ready(function(){
    $('img').each(function(){
        if($(this).css('z-index') <= 0) 
        {
            //Change CSS cursor attribute
            $(this).css('cursor','move');
        }
    });
}); 
```

# google-app-engine - 在 GAE 中使用 objectify 的异常

> ID：14975384
> 
> 赞同：0
> 
> 时间：2013-02-20T08:34:54.850
> 
> 标签：google-app-engine, objectify

我正在编写一个使用 objectify 的 GAE 程序。[我在这里](http://repo1.maven.org/maven2/com/googlecode/objectify/objectify/4.0b1/)下载 objectify-4.0b1.jar 表格并根据[此](https://code.google.com/p/objectify-appengine/wiki/Setup)添加修改 WEB-INF/web.xml 。但是，当我运行我的程序时，我收到了以下警告。另一个人遇到了与我几乎相同的问题，但解决方案可能会有所不同，因为我确实使用了最新的 jar 文件。似乎无法加载 com.googlecode.objectify.ObjectifyFilter。谁能告诉我为什么？

```
EXCEPTION 
java.lang.ClassNotFoundException: com.googlecode.objectify.ObjectifyFilter
    at com.google.appengine.runtime.Request.process-0c7af5c4835ec917(Request.java)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:359)
    at org.mortbay.util.Loader.loadClass(Loader.java:91)
    at org.mortbay.util.Loader.loadClass(Loader.java:71)
    at org.mortbay.jetty.servlet.Holder.doStart(Holder.java:73)
    at org.mortbay.jetty.servlet.FilterHolder.doStart(FilterHolder.java:81)
    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
    at org.mortbay.jetty.servlet.ServletHandler.initialize(ServletHandler.java:662)
    at org.mortbay.jetty.servlet.Context.startContext(Context.java:140)
    at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1250)
    at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)
    at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:467)
    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
    at com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:454)
    at com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:461)
    at com.google.tracing.TraceContext.runInContext(TraceContext.java:703)
    at com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:338)
    at com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:330)
    at com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:458)
    at java.lang.Thread.run(Thread.java:722)
W 2013-02-19 22:52:33.149
Failed startup of context com.google.apphosting.utils.jetty.RuntimeAppEngineWebAppContext@1687c76{/,/base/data/home/apps/s~zcbtest10/1.365432563369214216}
javax.servlet.UnavailableException: com.googlecode.objectify.ObjectifyFilter
    at org.mortbay.jetty.servlet.Holder.doStart(Holder.java:79)
    at org.mortbay.jetty.servlet.FilterHolder.doStart(FilterHolder.java:81)
    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
    at org.mortbay.jetty.servlet.ServletHandler.initialize(ServletHandler.java:662)
    at org.mortbay.jetty.servlet.Context.startContext(Context.java:140)
    at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1250)
    at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)
    at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:467)
    at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
    at com.google.apphosting.runtime.jetty.AppVersionHandlerMap.createHandler(AppVersionHandlerMap.java:219)
    at com.google.apphosting.runtime.jetty.AppVersionHandlerMap.getHandler(AppVersionHandlerMap.java:194)
    at com.google.apphosting.runtime.jetty.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:134)
    at com.google.apphosting.runtime.JavaRuntime$RequestRunnable.run(JavaRuntime.java:447)
    at com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:454)
    at com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:461)
    at com.google.tracing.TraceContext.runInContext(TraceContext.java:703)
    at com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:338)
    at com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:330)
    at com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:458)
    at com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:251)
    at java.lang.Thread.run(Thread.java:722) 
```

我在 Eclipse 上使用最新的带有 GAE 1.7.5 的 objectify。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T08:57:52.987

请复制项目文件夹中的 Objectify JAR 文件`WEB-INF\lib`。这将使 Web 容器在运行您的应用程序时可以使用 Objectify 类。

# java - JAVA - 使用通过其名称（字符串值）获得的类进行转换

> ID：14975385
> 
> 赞同：17
> 
> 时间：2013-02-20T08:35:00.403
> 
> 标签：java, class, reflection, casting

如果我使用预定义的类，这就是我的代码的样子：

```
List<MyClass> result = new ArrayList<MyClass>();
try {
    Query query = mgr.newQuery(MyClass.class);
    for(Object obj : (List<Object>) query.execute()) {
        result.add(((MyClass) obj));
    }
}
.... 
return result; 
```

现在我需要更通用：从通用类名开始（作为字符串，即“TheChosenOne”）我需要做同样的事情，但我不知道应该如何完成铸件..

只是为了举例说明我正在尝试做的事情：

```
String str = "TheChosenOne"; //this value may change
Class cls;
List<Object> result = new ArrayList<Object>();
try {
    if(str.equals("TheChosenOne"))
        cls = Class.forName("com.blabla.TheChosenOne");
    else if(str.equals("Rabbit"))
        cls = Class.forName("com.blabla.Rabbit");
    else if(str.equals("Batman"))
        cls = Class.forName("com.heroes.Batman");
    else
        cls = null;

    if(cls != null){
        Query query = mgr.newQuery(MyClass.class);
        for(Object obj : (List<Object>) query.execute()) {
            result.add(((???) obj)); //I need help here!
        }
    }
}
...
return result; 
```

[我在这里](https://stackoverflow.com/questions/2408789/getting-class-type-from-string)取了“Class.forName()...”部分。

有什么建议么？在此先感谢，最好的问候

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-02-20T08:37:38.967

您尝试做的事情是不必要的，因为您的列表已声明为不需要`List<Object>`演员表。

-- 编辑前 --

不确定我是否了解您的需求，但您是否尝试使用：

```
Class.cast(object) 
```

这是 java.lang.Class 的一个方法

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-20T08:47:43.833

我认为您尝试做的事情可以通过泛型来实现。

例如这样的方法：

```
 public <E> List<E> getList(Class<E> clazz) {
         List<E> result = new ArrayList<E>();
         if(clazz != null){
             Query query = mgr.newQuery(MyClass.class);
             for(E obj : (List<E>)query.execute()) {
                 result.add(obj); 
             }
         }

         return result;
     } 
```

可以调用：

```
 getList(TheChosenOne.class) 
```

它会返回一个`List<TheChosenOne>`对象

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-20T08:38:39.383

如果`result`是 a`List<Object>`那么您根本不需要演员表，只需`add(obj)`正常工作即可。

如果您需要编译时类型安全，则必须传入`Class`对象而不是包含其名称的字符串，并使用通用方法签名

```
public <T> List<T> doQuery(Class<T> theClass) {
  List<T> result = new ArrayList<T>();
  try {
    Query query = mgr.newQuery(theClass);
    for(T obj : (List<T>) query.execute()) {
      result.add(obj);
    }
  }
  .... 
  return result;
} 
```

如果您走这条路，并且可以选择修改`Query`类，那么您可能需要考虑使该类参数化

```
public class Query<E> {
  public List<E> execute() { ... }
}

// and in mgr
public <T> Query<T> newQuery(Class<T> cls) 
```

这会让你说

```
 Query<T> query = mgr.newQuery(theClass);
    for(T obj : query.execute()) {
      result.add(obj); 
```

根本没有铸造。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T08:37:37.953

我相信`cls.cast(obj)`这就是你要找的。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-20T08:40:48.923

我认为您需要这样做：使用`instance of`运算符检查类的类型，然后进行类型转换

```
for(Object obj : (List<Object>) query.execute()) {
  if(obj instance of Batman)
    result.add(((Batman) obj));
  else if(obj instance of Cat)
    result.add(((Cat) obj));

  // and so on
  ...
  ...
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-20T08:43:00.937

将对象放入 ArrayList 时不需要强制转换，

```
 result.add(obj); 
```

如果你愿意，你可以从列表中获取

```
 cls .cast(result.get(1)); 
```

# c# - 了解 textbox.Select()

> ID：14975388
> 
> 赞同：-2
> 
> 时间：2013-02-20T08:35:08.303
> 
> 标签：c#, winforms

我试图理解一段代码以重构它。输入值有几个验证来检查它们是否有效，每次验证都有一行代码我不明白它的作用。这是代码：

```
if (IsNotDouble(weight))
{
     MessageBox.Show("Weight must be a numeric value!");
     txtWeight.Select();
     return;
} 
```

`txtWeight`是一个文本框。

谁能告诉我这里是做什么的。我`txtWeight.Select()`不明白为什么每次抛出错误后都应该在此处发布这段代码。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T08:37:43.867

它将光标设置到您必须输入重量的文本框中。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-20T08:41:08.867

MSDN 中的 TextBox.Select() 方法。

> 激活控件。如果控件的 Selectable 样式位在 ControlStyles 中设置为 true，则 Select 方法将激活该控件，它包含在另一个控件中，并且其所有父控件都是可见和启用的。

在您的情况下，似乎每当验证检查失败时，都会选择特定的文本框来激活它，以便为其设置视觉焦点。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-20T08:42:22.490

根据[MSDN](http://msdn.microsoft.com/en-us/library/7wt11hea.aspx)：

> 如果控件的 Selectable 样式位在 ControlStyles 中设置为 true，则 Select 方法将激活控件。

这意味着，在您的场景中将焦点设置为 so，如果`Select`是，您将焦点设置为，以便用户可以立即在那里编写文本，而无需在整个表单中查找。`Control``IsNotDouble(weight)``true``txtWeight``txtWeight`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-02-20T08:42:07.943

Select 方法激活文本框控件，或者您可以将其视为将焦点带到文本框。在您的情况下可能不需要它，因为当验证发生时很可能焦点已经在该文本框上

# sql - 如果列名不存在则返回空字符串

> ID：14975390
> 
> 赞同：0
> 
> 时间：2013-02-20T08:35:13.693
> 
> 标签：sql

我有一个非常简单的选择语句，例如

```
SELECT Column-Name
FROM Object
WHERE ID = 123 
```

是`Column-Name`动态生成的。如果列不存在，是否有可能获得空字符串？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:40:07.987

为什么不在`desc object`触发查询之前执行 a 或类似的操作并验证列名是否存在？否则你最终会做一些有趣的事情来解决 sql 错误

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:37:44.350

这对 SQL Server 来说是一个巨大的 hack

SQL 是基于批处理的：当提交给数据库引擎时，整个批处理被解析并编译一个计划。如果列或对象不存在，您将收到错误消息。

您可以测试元数据以查看它是否存在（`COLUMNPROPERTY`），然后使用`EXEC`将其`SELECT`放在单独的批次中

```
IF COLUMNPROPERTY(OBJECT_ID('Object'), 'Column-Name', 'ColumnID') IS NOT NULL
   EXEC ('SELECT Column-Name FROM Object WHERE ID = 123')
ELSE
   SELECT '' AS Column-Name; 
```

就个人而言，我从没想过它会出现在生产代码中或在我的数据库服务器上运行。

# asp.net - 使用 jquery 解析对 C# 对象的 json 响应

> ID：14975393
> 
> 赞同：0
> 
> 时间：2013-02-20T08:35:19.673
> 
> 标签：asp.net, wcf, web-services, jquery

我的 WCF 服务返回了以下 JSON：

```
`{"DoWorkResult":[{"AAID":0,"AreaID":1,"AreaName":"Basement","AssemblyAssessmentID":1,"AssemblyID":493,"AssemblyName":"Handrail (Steel)","AssessmentID":1,"AssessmentName":"University Of WA","AttributesCount":1,"CapitalReplacementUnitCost":623,"CategoryID":7,"CategoryName":"Furniture and Fixtures","CountedUnits":7,"CreatedBy":"Admin","ElementID":37,"ElementName":"Handrails and Balustrades","FacilityID":1,"FacilityName":"Central Chilled Water Plant","FacilityPercentage":"0","IsCompleted":1,"IsHeritage":false,"IsSafetyRisk":false,"Level1Units":0,"Level2Units":0,"Level3Units":0,"Level4Units":0,"Level5Units":7,"MesurementUnit":"Items","PhotosCount":1,"RepairCost":0,"RepairNotes":"","RequiresSpecialist":false,"SiteName":"CRAWLEY","SpaceID":1,"SpaceName":"B01","TasksCount":0}]} 
```

我的服务方式是这样的

```
[System.ServiceModel.OperationContract]   
    [WebInvoke(Method = "POST",
              BodyStyle = WebMessageBodyStyle.Wrapped,
              ResponseFormat = WebMessageFormat.Json,
              RequestFormat = WebMessageFormat.Json)]
    public List<BLL.BLL_AssemblyAssessment> DoWork(string id)   {

       return BLL.BLL_AssemblyAssessment.GetAssessemblyAssessmentByAssemblyAssessmentID(1, 1);

    } 
```

我需要在 jquery ajax 成功中解析的数据。我如何将其解析为我班级的对象：

```
$.ajax({
            type: "POST",
            url: "MyTestService.svc/DoWork",
            data: '{"id":"3"}',
            processData: false,
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (data) {
             alert(data);
            },
            error: function (msg) {
               // $("#errorDiv").text(msg);
               alert(msg);
            }
        });

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:49:53.690

利用

```
 alert(JSON.parse(jsonString)); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T13:50:25.743

我真的没有看到问题。

由于您已将 JSON 指定为数据类型，因此 JSON 被解析为成功处理程序中的 javascript 对象。只需使用 $.each 对其进行迭代：

```
//data.DoWorkResult is an array with one element

$.each(data.DoWorkResult, function(k, v){
    alert(v.AAID); //will alert 0 one time since there is only one object in the
    //array and the value is 0 on the AAID property
}); 
```

[小提琴](http://jsfiddle.net/HPHTS/)

请注意，我需要在我的示例中解析 JSON，因为它不是由那里的任何 ajax 方法自动完成的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T13:40:38.657

在您的 javascript 代码中，`$.ajax`使用该选项调用该函数`dataType: "json"`让 jQuery 负责解析。

回调中的`data`变量`success`已经是一个 javascript 对象。

您可以访问其属性：

```
success: function(data) {
    var html = "",
        rows = data.DoWorkResult,
        lgth = rows.length,
        i, row;
    for ( i=0; i<lgth; i++ ){
        row = rows[i];
        html += "<tr><td>"+row.AAID+"</td><td>"+row.AreaName+"</td></tr>";
        // or whatever
    }

    $("#myTable").html( html );
} 
```

据我了解，该类`BLL.BLL_AssemblyAssessment`是一个`C#`类，将在服务器端使用，而不是`javascript`在客户端使用。在 javascript 中，对象不需要类定义来保存数据。

您可以将对象输出到控制台以检查其结构：

```
success: function(data) {
    console.log(data);
    console.log(data.DoWorkResult);
    console.log(data.DoWorkResult[0]);
} 
```

# android - 在android中使用jsoup post方法

> ID：14975399
> 
> 赞同：0
> 
> 时间：2013-02-20T08:35:45.663
> 
> 标签：android, login, jsoup

我想要这样的东西。当用户输入用户名和密码然后单击登录按钮时，我有一个按钮和 2 个文本框，然后将执行登录操作，然后欢迎用户并转到另一个页面。我的代码是这样的：

```
try {
                Connection.Response res = Jsoup.connect("URL")
                        .data("log", "abcd", "pwd", "12345", "wp-submit", "প্রবেশ", "redirect_to", "url", "testcookie", "1")
                        .method(Method.POST)
                        .execute();
                Map<String, String> cookies = res.cookies();

                Document doc2 = Jsoup
                    .connect("new_url")
                    .cookies(cookies)
                    .get();

                s = doc2.text().toString();
                t.setText(s);

            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
                t.setText("no");
            } 
```

但是登录操作不能成功，这里总是显示“否”。我怎样才能成功地做到这一点？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:16:01.633

我认为这是线程问题。因为您的互联网请求在主 UI 线程上。测试这个：

```
private class AsyncExecution extends AsyncTask<Void, Void, Void>{
    boolean tracker = false;
    String s = "";
    @Override
    protected Void doInBackground(Void... params) {
       try {
           Connection.Response res = Jsoup.connect("http://www.kuetlive.com/wp-login.php")
                        .data("log", "abcd", "pwd", "12345", "wp-submit", "প্রবেশ", "redirect_to", "http://www.kuetlive.com/wp-admin/", "testcookie", "1")
                        .method(Method.POST)
                        .settimeout(60000)//time set for the connection 1 min
                        .execute();
                Map<String, String> cookies = res.cookies();

                Document doc2 = Jsoup
                    .connect("http://www.kuetlive.com/wp-admin/profile.php")
                    .cookies(cookies)
                    .get();

                s = doc2.text().toString();
                tracker = true;

       } catch (Exception e) {
           // TODO Auto-generated catch block
           Log.e("tag", e.toString());
           tracker = false;

       }
     }
  --- // }  // --- i add this by mistake, delete this

    @Override
    protected void onPostExecute(Void result) {
       if(tracker){
            t.setText(s);
       }else{
            t.setText("no");
       }
    }

} 
```

并将其称为

```
new AsyncExecution().execute(); 
```

**已编辑：** 您无法在主 UI 线程上执行 Internet 请求。这就是为什么你需要一个不同的线程。现在你可以实现一个简单的线程而不是`AsyncTask`. 那为什么我建议你使用`AyncTask`. 答案是，你不能从一个简单的线程更新你的 UI。这就是您需要的原因`AsyncTask`，因为`AsyncTask`您可以灵活地更新 UI，但可以在 UI-Thread 旁边的不同线程中执行您的方法。

# iphone - 在tableView中选择多个单元格并将另一个tableView单元格中的选定单元格显示为标签？

> ID：14975401
> 
> 赞同：0
> 
> 时间：2013-02-20T08:35:47.867
> 
> 标签：iphone, ios, objective-c, uitableview

您好我正在创建一个与 iOS 默认警报相关的应用程序。我在 tableView 中选择多个单元格。如果我单击后退按钮，选定的单元格将在 tableViewCell 中显示为另一个视图中的标签。我正在使用故事板。这该怎么做？

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    UITableViewCell *thisCell = [tableView cellForRowAtIndexPath:indexPath];
    if (thisCell.accessoryType == UITableViewCellAccessoryNone) {
       thisCell.accessoryType = UITableViewCellAccessoryCheckmark;
       [myIndexArray addObject:[NSString stringWithFormat:@"%d",indexPath.row]];
}
else
{
    thisCell.accessoryType = UITableViewCellAccessoryNone;
    for(int i=0; i<myIndexArray.count; i++)
    {
        if([[myIndexArray objectAtIndex:i]intValue]== indexPath.row)
        {
            [myIndexArray removeObjectAtIndex:i];
            break;
        }
    }
 }
 } 
```

[我想要这样的示例图像](http://postimage.org/gallery/94r3n42k/22e8ea67/)

我想要一个类似重复视图的东西，然后按返回按钮，选定的单元格显示在重复 tableViewCell 中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:56:07.753

我在我的应用程序中做了同样的事情。我可以帮助你...
`RepeatDayViewController`

```
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
   UITableViewCell *cell = [tableView cellForRowAtIndexPath:indexPath];

  if (UITableViewCellAccessoryNone == cell.accessoryType ) 
   {

    cell.accessoryType = UITableViewCellAccessoryCheckmark;
    NSNumber *dayNumber = [NSNumber numberWithInteger:indexPath.row];
    [self.repeatDays addObject:dayNumber];
   }
  else
  {
    cell.accessoryType = UITableViewCellAccessoryNone;
    NSNumber *dayNumber = [NSNumber numberWithInteger:indexPath.row];
    [self.repeatDays removeObject:dayNumber];

   }
} 
```

我正在传递`self.repeatDays`给`AddAlarmViewController`

在
`AddAlarmViewController`
我有一个这样的数组

```
 _days = [[NSArray alloc ]initWithObjects:@"Sun",@"Mon",@"Tue",@"Wed",@"Thu",@"Fri",@"Sat",nil];

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{

         if ([self.repeatDays count]) 
            {
                NSMutableArray *repeatDays = [NSMutableArray array]; 

                for (NSNumber *dayNumber in self.repeatDays) 
                {

                    [repeatDays addObject:[_days objectAtIndex:[dayNumber integerValue]]];
                }
                NSString *repeatLabel = [repeatDays componentsJoinedByString:@" "];
                cell.detailTextLabel.text = repeatLabel;

            }
            else
            {
                cell.detailTextLabel.text = NSLocalizedString(@"Never",nil);
            }

} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:41:51.457

用户在哪里选择一行保存操作，例如`NSUserDefaults`

在里面

```
-(void)viewDidAppear:(BOOL)animated{

 UITableViewCell*   testCell = [azanTableview cellForRowAtIndexPath:[NSIndexPath indexPathForRow:0 inSection:0]];

if ([[NSUserDefaults standardUserDefaults]boolForKey:@"testCell"]==YES) {
    testCell.accessoryType = UITableViewCellAccessoryCheckmark;
    testCell .textLabel.textColor = [UIColor colorWithRed:0.22 green:0.33 blue:0.53 alpha:1.0];
}

} 
```

等等...

# ruby-on-rails - 在 Heroku 中为 Rails 输出布尔值会给出“t”而不是“true”和“f”而不是 false？

> ID：14975406
> 
> 赞同：0
> 
> 时间：2013-02-20T08:35:58.307
> 
> 标签：ruby-on-rails, heroku

我刚刚在 Rails 中的用户表中添加了两个新列，与我的本地环境相比，在 Heroku 上发现了一些*令人惊讶的结果，与早期的 Heroku 使用相比！*你知道可能发生了什么吗？

这是迁移：

类 AddMoreIntroFlagsToUsers < ActiveRecord::Migration def change add_column :users, :has_seen_first_intro, :boolean, :null => false, :default => false add_column :users, :has_seen_store_intro, :boolean, :null => false, :default =>假端端

但是，在我看来，以下 JavaScript 输出 t 和 f 而不是 true 和 false ...

User.hasSeenStoreIntro = <%= signed_in? 和 current_user.has_seen_store_intro %>

转换为：（我期待的是真或假，而不是 t 和 f！）

User.hasSeenStoreIntro = t

这给出了一个 JS 错误，因为 t 没有定义！

知道为什么这只会发生在新列上吗？对于我的旧专栏，它从来没有这样做过。一个可能相关的问题是我运行了一条安全路由来设置用户。所有现有用户的 has_seen_first_intro = true 和 user.has_seen_store_intro = true，但这些列并未更新为 true。添加较早的列后，我运行了类似的代码，并且它曾经可以工作。现在有什么变化？

我能想到的唯一变化是，在过去的几天里，我的生产表中的用户数量显着增长。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:26:35.183

IIRC Rails 的 SQLite 适配器将布尔值默认为 t/f

要与数据库无关，您可以尝试使用 Rails 对布尔字段的自动评估

```
signed_in? and current_user.has_seen_store_intro? 
```

编辑：如果事实可能不起作用，您可能想尝试按照[这篇文章解决](https://stackoverflow.com/questions/827938/booleans-in-rails-with-sqlite)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-04-14T10:15:58.297

任何人仍然在heroku上遇到这个问题，尝试重新启动应用程序

```
heroku restart --app yourappname 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T09:16:07.157

也许您`'t'`在数据库中存储了 的真实值`current_user.has_seen_store_intro`，可能是因为它是由不同的数据库适配器添加的，该适配器支持将布尔值存储为`'t'`和`'f'`。让我们假设`signed_in?`返回`true`- 在这种情况下：

```
1.9.3p194 :008 > a = true
 => true 
1.9.3p194 :009 > b = 't'
 => "t" 
1.9.3p194 :010 > a and b
 => "t" 
```

那是在 Heroku 中。在您的开发环境中，您的数据库适配器理解`'t'`为`'f'`布尔值，因此它返回`true`.

只是一种可能。

# c++ - 并行代码疑难解答

> ID：14975411
> 
> 赞同：0
> 
> 时间：2013-02-20T08:36:38.763
> 
> 标签：c++, multithreading, macos, parallel-processing, profiling

有哪些工具可以对并行程序进行故障排除？

假设我有一个执行速度比预期差的代码（串行版本执行速度的 4 倍而不是理论上的 8 倍）。我怀疑原因要么是线程访问共享变量（比如共享向量的相邻元素）引起的锁定，要么是线程访问堆（我想这也是共享资源）引起的锁定。但是我不知道有什么工具可以检查线程睡眠过多、线程切换等可能是什么原因。例如，分析器会告诉我什么功能花了多少时间，也许有很多活动相关到线程管理，但不是线程的原因和状态是什么（或者我可能不知道如何很好地使用一个）。

我在 OS X 上使用 C++ 工作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T09:47:12.563

以下内容可能感兴趣

[吸血鬼](http://www.vampir.eu/features)——花钱

[DTrace](http://en.wikipedia.org/wiki/DTrace) - 已安装在您的 Mac 上，提供您需要的工具，但远非开箱即用的解决方案

[TAU](http://www.cs.uoregon.edu/Research/tau/news.php)

这些只是我想到的前三个工具，我相信一些更勤奋的谷歌搜索会出现更多。

您的最后评论*也许我不知道如何使用一口井*，这些工具通常需要做出重大承诺才能使用它们，以了解它们告诉您的内容并对您的程序进行适当的和性能增强的修改。

# javascript - 我们可以在系统中保存画布图像，也可以在单击保存时直接下载图像

> ID：14975413
> 
> 赞同：4
> 
> 时间：2013-02-20T08:37:03.393
> 
> 标签：javascript, asp.net-mvc-3, sql-server-2008, html5-canvas

您好，我已经完成了一个项目，我可以像下载到 div 一样保存图像，然后右键单击它显示另存为图像，我不想那样做。我想直接下载图像而不是像上面一样我想使用 SQL Server 和 mvc3 Web 应用程序将图像路径保存在数据库中。如何保存在数据库中我需要使用任何服务器端代码。我谷歌它，但找不到任何相关的答案。是否有可能我问过是否有人可以指导我。提前致谢。

下面的代码用于保存图像，我需要更改它。

```
function downloadCanvas() {
    var canvas = stage.children[0].canvas;
    var oImgPNG = Canvas2Image.saveAsPNG(canvas, true);
    document.body.appendChild(oImgPNG);
  } 
```

当我在 Google 中搜索时，每个人都在使用 php 代码。如何在html5中使用php代码。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-22T07:57:06.977

通过 Ajax 向服务器发送数据，然后保存为图像，

```
var canvasData = canvas.toDataURL("image/png");
var ajax = new XMLHttpRequest();
ajax.open("POST",'save.php',false);
ajax.setRequestHeader('Content-Type', 'application/upload');
ajax.send(canvasData); 
```

PHP,

```
<?php 
if (isset($GLOBALS["HTTP_RAW_POST_DATA"]))
{
    // Get the data
    $imageData=$GLOBALS['HTTP_RAW_POST_DATA'];

    $filteredData=substr($imageData, strpos($imageData, ",")+1);

    $unencodedData=base64_decode($filteredData);

    $random_digit=md5(uniqid(mt_rand(), true));

    $fp = fopen( 'yourfolder/new'.$random_digit.'.png', 'wb' );
    fwrite( $fp, $unencodedData);
    fclose( $fp );
    //Now save the path in database!
}
?> 
```

图像将保存在“yourfolder/new'.$random_digit.'.png'”中。链接到同一个问题，

[将照片从 javascript 发送到服务器](https://stackoverflow.com/questions/14018307/sending-photo-from-javascript-to-server/14018570#14018570)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:02:28.567

您必须通过对 Web 服务器的 ajax 调用将图像数据发送到服务器，如下所示：

[http://www.dotnetfunda.com/articles/article1662-saving-html-5-canvas-as-image-on-the-server-using-aspnet.aspx](http://www.dotnetfunda.com/articles/article1662-saving-html-5-canvas-as-image-on-the-server-using-aspnet.aspx)

然后，根据图像大小，将图像的 URL 存储到 SQL Server（如果是小图像）或存储数据。阅读本文以帮助您做出选择：[保存图像 url 或将图像文件保存在 sql 数据库中？](https://stackoverflow.com/questions/11691637/save-image-url-or-save-image-file-in-sql-database)

# iphone - 将 JSON 数组插入 Sqlite iPhone

> ID：14975414
> 
> 赞同：0
> 
> 时间：2013-02-20T08:37:02.993
> 
> 标签：iphone, ios, objective-c, json, sqlite

我在 NS 数组中得到如下 JSON 数据：

看来这不是有效的 JSON

```
jsonArray:
{
    d = "[{\"Training_Code\":\"1234      \",\"Training_Duration\":\"2hrs      \",\"Training_Startdate\":\"14/02/2013 15:00:00\",\"Training_Enddate\":\"14/02/2013 17:00:00\",\"Trainer_ID\":1,\"Training_Location\":\"B-Wing Training room-4\",\"Comments\":\"C# training\",\"Keyword\":\"C#1234\",\"NumberofDays\":1},{\"Training_Code\":\"4321      \",\"Training_Duration\":\"16        \",\"Training_Startdate\":\"17/02/2013 10:30:00\",\"Training_Enddate\":\"17/02/2013 17:30:00\",\"Trainer_ID\":2,\"Training_Location\":\"A-Wing Training Room-6\",\"Comments\":\"Objective-C\",\"Keyword\":\"Obj-C4321\",\"NumberofDays\":2}]";
} 
```

我想将其更改为有效的 json，如下所示：

```
[
{
    "Training_Code": "1234",
    "Training_Duration": "2hrs",
    "Training_Startdate": "14/02/201315: 00: 00",
    "Training_Enddate": "14/02/201317: 00: 00",
    "Trainer_ID": 1,
    "Training_Location": "B-WingTrainingroom-4",
    "Comments": "C#training",
    "Keyword": "C#1234",
    "NumberofDays": 1
},
{
    "Training_Code": "4321",
    "Training_Duration": "16",
    "Training_Startdate": "17/02/201310: 30: 00",
    "Training_Enddate": "17/02/201317: 30: 00",
    "Trainer_ID": 2,
    "Training_Location": "A-WingTrainingRoom-6",
    "Comments": "Objective-C",
    "Keyword": "Obj-C4321",
    "NumberofDays": 2
} 
```

]

注意：我不知道这个“d”是从哪里来的……请记住这一点。

如何更改为有效的 json 并将其插入到我的 Sqlite DB 中？谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T08:42:31.117

您始终可以将其插入为纯文本。如果你想操作 JSON 字符串，我推荐[这个](https://github.com/johnezang/JSONKit). 您可以将该字符串转换为 JKArray（与数组相同）。之后，遍历您的数组并执行您的数据库操作（插入您的表中......）

我错过了什么吗？也许我需要更多关于你想做什么的信息......

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:42:49.487

使用您的列映射键来解析您的 json`NSJSONSerialization`并插入到数据库中。

```
 NSString *str = [[NSString alloc] initWithString:@"[{\"Training_Code\":\"1234      \",\"Training_Duration\":\"2hrs      \",\"Training_Startdate\":\"14/02/2013 15:00:00\",\"Training_Enddate\":\"14/02/2013 17:00:00\",\"Trainer_ID\":1,\"Training_Location\":\"B-Wing Training room-4\",\"Comments\":\"C# training\",\"Keyword\":\"C#1234\",\"NumberofDays\":1},{\"Training_Code\":\"4321      \",\"Training_Duration\":\"16        \",\"Training_Startdate\":\"17/02/2013 10:30:00\",\"Training_Enddate\":\"17/02/2013 17:30:00\",\"Trainer_ID\":2,\"Training_Location\":\"A-Wing Training Room-6\",\"Comments\":\"Objective-C\",\"Keyword\":\"Obj-C4321\",\"NumberofDays\":2}]"];

    NSError *jsonError = nil;
    id allValues = [NSJSONSerialization JSONObjectWithData:[str dataUsingEncoding:NSUTF8StringEncoding]
                                                   options:0
                                                     error:&jsonError];

    if(jsonError!=nil)
        InfoLog(@"error: %@",jsonError);

    NSArray *result = (NSArray*)allValues;

    for(int i=0;i<[result count];i++)
    {
            NSDictionary *values = (NSDictionary*)[result objectAtIndex:i];
            NSLog(@"Training_Code: %@  Training_Duration: %@",[values objectForKey:@"Training_Code"],[values objectForKey:@"Training_Duration"]);
    } 
```

现在您可以从 NSDictionary 获取值，然后简单地添加到您的数据库中。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T08:54:13.327

这是一个包含编码 JSON 数组的字符串。您需要使用 JSON 解码器（从 iOS 5 开始包含电池）将其转换为 NSArray，然后遍历它：

以下（未经测试的）代码应该是正确的：

```
// Assuming jsonArray is an object with an NSString property, d...
NSData *data = [jsonArray.d dataUsingEncoding:NSUTF8StringEncoding];

NSError *err;
NSArray *d = [NSJSONSerialization JSONObjectWithData:data options:0 error:err];
// Check for errors.
for (NSDictionary *row in d) {
    NSString *trainingCode = [row objectForKey:@"Training_Code"];
    …
    // Insert into SQLite here.
} 
```

请注意，在最新版本的 Xcode 中，您可以编写`row[@"Training_Code"]`而不是`[row objectForKey:@"Training_Code"]`.

# delphi - 对象和引用有什么区别？

> ID：14975415
> 
> 赞同：40
> 
> 时间：2013-02-20T08:37:07.120
> 
> 标签：delphi

和有什么区别

```
TFuncOfIntToString = reference to function(x: Integer): string; 
```

和

```
TFuncOfIntToString = function(x: Integer): string of object; 
```

我使用对象

* * *

## 回答 #1

> 赞同：92
> 
> 时间：2013-02-20T09:10:33.833

让我们考虑以下三种类型声明：

```
TProcedure = procedure;
TMethod = procedure of object;
TAnonMethod = reference to procedure; 
```

这些都非常相似。就这三种类型的调用实例而言，调用代码是相同的。不同之处在于可以分配给这些类型的变量的内容。

**程序类型**

`TProcedure`是一种[程序类型](http://docwiki.embarcadero.com/RADStudio/en/Procedural_Types#About_Procedural_Types)。`TProcedure`您可以将以下形式的东西分配给类型的变量：

```
procedure MyProcedure;
begin
end; 
```

这是一个非面向对象的过程。您不能将实例或类方法分配给`TProcedure`变量。但是，您可以将[静态类方法](http://docwiki.embarcadero.com/RADStudio/en/Methods#Class_Static_Methods)分配给`TProcedure`变量。

**方法指针**

`TMethod`是一个[方法指针](http://docwiki.embarcadero.com/RADStudio/en/Procedural_Types#Method_Pointers)。这由 的存在表示`of object`。当您有一个类型的变量时，`TMethod`您必须分配：

1.  实例化对象的实例方法，或
2.  一个类方法。

因此，您可以分配以下任一项：

```
procedure TMyClass.MyMethod;
begin
end;

class procedure TMyClass.MyClassMethod;
begin
end; 
```

过程类型和方法指针之间的最大区别在于后者包含对代码和数据的引用。方法指针通常称为两指针过程类型。包含方法指针的变量包含对代码和调用它的实例/类的引用。

考虑以下代码：

```
var
  instance1, instance2: TMyClass;
  method1, method2: TMethod;
....
method1 := instance1.MyMethod;
method2 := instance2.MyMethod; 
```

现在，虽然`method1`和`method2`引用同一段代码，但它们与不同的对象实例相关联。所以，如果我们打电话

```
method1();
method2(); 
```

我们正在调用`MyMethod`两个不同的实例。该代码相当于：

```
instance1.MyMethod();
instance2.MyMethod(); 
```

**匿名方法**

最后我们来看看[匿名方法](http://docwiki.embarcadero.com/RADStudio/en/Anonymous_Methods_in_Delphi)。这些甚至比过程类型和方法指针更通用。您可以将以下任何内容分配给使用以下`reference to`语法定义的变量：

1.  一个普通的非面向对象的过程。
2.  实例化类的实例方法。
3.  一个类方法。
4.  一种匿名方法。

例如：

```
var
  AnonMethod: TAnonMethod;
....
AnonMethod := MyProcedure;            // item 1 above
AnonMethod := instance1.MyMethod;     // item 2
AnonMethod := TMyClass.MyClassMethod; // item 3 
```

匿名方法（上面的第 4 项）是在您的代码中内联声明的方法。例如：

```
var
  AnonMethod: TAnonMethod;
....
AnonMethod := procedure
  begin
    DoSomething;
  end; 
```

与过程类型和方法指针相比，匿名方法的最大好处是它们允许[捕获变量](http://docwiki.embarcadero.com/RADStudio/en/Anonymous_Methods_in_Delphi#Anonymous_Methods_Variable_Binding)。例如考虑以下简短的程序来说明：

```
{$APPTYPE CONSOLE}
program VariableCapture;

type
  TMyFunc = reference to function(X: Integer): Integer;

function MakeFunc(Y: Integer): TMyFunc;
begin
  Result := function(X: Integer): Integer
    begin
      Result := X*Y;
    end;
end;

var
  func1, func2: TMyFunc;

begin
  func1 := MakeFunc(3);
  func2 := MakeFunc(-42);
  Writeln(func1(4));
  Writeln(func2(2));
  Readln;
end. 
```

这具有以下输出：

```
12
-84

```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-02-20T08:39:04.813

第一种是[匿名方法](http://docwiki.embarcadero.com/RADStudio/XE3/en/Anonymous_Methods_in_Delphi)，第二种是普通[方法](http://docwiki.embarcadero.com/RADStudio/XE3/en/Methods)。

# background - 背景图像流体调整大小

> ID：14975420
> 
> 赞同：1
> 
> 时间：2013-02-20T08:37:27.997
> 
> 标签：background, fluid-layout

我正在使用标题标签内的背景图像。编码如下所示：

```
<div id "header">
<div id "logo">
<div id "nav">

</div>
</div>
</div> 
```

标头位于宽度为 75% 的容器元素内。徽标图像宽 1024 像素，高 75 像素。我正在尝试找到一种解决方案，将背景标签内的徽标图像保持在容器元素的 100% 宽度，并且在调整大小时按比例调整大小。

我想到的解决方案是

```
background-size:auto; 
```

我选择了 1024 像素，因为它可以容纳大多数屏幕。最小宽度为 780 像素，最大宽度为 1024 像素。

让这个背景图像按照访问者屏幕和它所在的容器元素的比例重新调整大小的最佳解决方案是什么？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T11:27:49.943

调整背景大小的唯一方法是使用 JavaScript。

使用 jQuery 的代码在这里：[https ://gist.github.com/epoberezkin/5070642](https://gist.github.com/epoberezkin/5070642)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:43:42.007

尝试这个：

```
 background-size: 100%; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-03T18:22:59.920

我发现最好的方法是

最小宽度：100%；

# wpf - WPF：将 Datagrid/DataTable 转换为表格以进行打印

> ID：14975421
> 
> 赞同：1
> 
> 时间：2013-02-20T08:37:29.943
> 
> 标签：wpf, printing, wpfdatagrid

我试图“打印”我的数据网格/数据表的内容。我读了一些关于将 DATAGRID 转换为 TABLE 到 FLOWDOCUMENT 的内容，但我找不到如何做到这一点的来源。

我只需要一些关于如何将 datagrid/dataTable 转换为 Table 的示例代码。

那么我将应用此解决方案：[打印 WPF FlowDocument](https://stackoverflow.com/questions/345009/printing-a-wpf-flowdocument)

任何想法？

感谢和抱歉我的菜鸟问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T09:21:52.080

就我的研究而言，当我打印一些东西时，我发现将 UI 元素转换为页面是错误的尝试。打印与创建 UI 有很大不同，并且纸上没有滚动或可拖动的列 :)，因此您的打印数据将与表单上显示的表单数据不同。

就目前`DataTable`而言，这只是数据的一种表示，因此您可以轻松地生成一个可以打印的表格，它已经有行和列，所以应该直接开始：（注意代码未测试）

```
System.Data.DataTable dataTable = GetDataTable();
var table = new Table();
var rowGroup = new TableRowGroup();
table.RowGroups.Add(rowGroup);
var header = new TableRow();
rowGroup.Rows.Add(header);

foreach (DataColumn column in dataTable.Columns)
{
    var tableColumn = new TableColumn();
    //configure width and such
    table.Columns.Add(tableColumn);
    var cell = new TableCell(new Paragraph(new Run("column Header")));
    header.Cells.Add(cell);
}

foreach (DataRow row in dataTable.Rows)
{
    var tableRow = new TableRow();
    rowGroup.Rows.Add(tableRow);

    foreach (DataColumn column in dataTable.Columns)
    {
        var value = row[column].ToString();//mayby some formatting is in order
        var cell = new TableCell(new Paragraph(new Run(value)));
        tableRow.Cells.Add(cell);
    }
}

//and print your table 
```

如果你问我，我发现这个 API 有点冗长，但对于正确理解的复杂文档来说，它非常强大。

# java - 关于查找链表的中间元素

> ID：14975432
> 
> 赞同：5
> 
> 时间：2013-02-20T08:37:56.550
> 
> 标签：java

我正在按照以下方法从 中计算中间元素`linked list`，但我想要有任何内置方法或任何其他方法也可以轻松找到相同的方法，我正在遵循的方法如下所示。

```
import test.LinkedList.Node;
public class LinkedListTest {

    public static void main(String args[]) {
        //creating LinkedList with 5 elements including head
      LinkedList linkedList = new LinkedList();
      LinkedList.Node head = linkedList.head();
      linkedList.add( new LinkedList.Node("1"));
      linkedList.add( new LinkedList.Node("2"));
      linkedList.add( new LinkedList.Node("3"));
      linkedList.add( new LinkedList.Node("4"));

      //finding middle element of LinkedList in single pass
      LinkedList.Node current = head;
      int length = 0;
      LinkedList.Node middle = head;

      while(current.next() != null){
          length++;
          if(length%2 ==0){
              middle = middle.next();
          }
          current = current.next();
      }

      if(length%2 == 1){
          middle = middle.next();
      }

      System.out.println("length of LinkedList: " + length);
      System.out.println("middle element of LinkedList : " + middle);

    } 

}

class LinkedList{
    private Node head;
    private Node tail;

    public LinkedList(){
        this.head = new Node("head");
        tail = head;
    }

    public Node head(){
        return head;
    }

    public void add(Node node){
        tail.next = node;
        tail = node;
    }

    public static class Node{
        private Node next;
        private String data;

        public Node(String data){
            this.data = data;
        }

        public String data() {
            return data;
        }

        public void setData(String data) {
            this.data = data;
        }

        public Node next() {
            return next;
        }

        public void setNext(Node next) {
            this.next = next;
        }

        public String toString(){
            return this.data;
        }
    }
} 
```

## 输出：-

```
length of LinkedList: 4
middle element of LinkedList : 2 
```

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-02-20T08:48:47.283

基本算法是

*   拿两个指针

*   使两者都指向第一个节点

*   一次增加两个节点，第二个增加一个。

*   循环直到第一个循环到达终点。此时，第二个将在中间。

例子：-

```
while ( p2.next != null ) {
    p2 = p2.next;
    if (p2.next != null) {
        p2 = p2.next;
        p1 = p1.next;
    }
} 
```

它肯定会在奇怪的情况下工作，即使在这种情况下，如果允许第一个点移动到下一个而不是下一个，那么您需要再检查一个条件，那么两个指针都将位于中间，您需要决定将哪个作为中间。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-20T08:51:44.753

我建议使用内置的 Java

```
LinkedList<Object e> 
```

它为您提供了所需的所有功能，例如获取长度：`list.size()`和中间对象：

```
list.get((list.size())/2); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-02-20T08:49:46.700

选项：

*   有一个双链表，同时从后面和前面走，直到你到达一个共同点。
*   存储列表的大小，并在达到这个大小的一半时停止（类似于标准 API[`LinkedList`](http://docs.oracle.com/javase/6/docs/api/java/util/LinkedList.html#size%28%29)所做的）。

除此之外，我认为你不能比你的算法做得更好。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-07-25T09:53:15.297

```
public Node getMiddleElement(Node head) {
    Node slow_pointer=head;
    Node fast_pointer=head;
    while(fast_pointer.next!=null && fast_pointer.next.next!=null)
    {
        slow_pointer=slow_pointer.next;
        fast_pointer=fast_pointer.next.next;
    }
    return slow_pointer;
}

Node mid_elem=PrintMiddleElement(head);
System.out.println(mid_elem.data); 
```

进/出：5 10 15 25 35 25 40 出/出：25

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-03-30T15:27:05.867

这个问题的解决方案：

*   使用两个索引`first`和`second`，都初始化为 0
*   递增`first`1 和`second`by`2 * first`
*   将值设置`first`为中间
*   循环将执行，直到值`second`小于列表大小

这是获取列表或链表的中间元素的代码片段：

```
private int getMiddle(LinkedList<String> list) {

   int middle = 0;
   int size = list.size();

   for (int i = 0, j = 0; j < size; j = i * 2) {
       middle = i++;
   }

   return middle;
}

LinkedList<String> list = new LinkedList<>();
list.add("1");
list.add("2");
list.add("3");
list.add("4");
list.add("5");
list.add("6");
list.add("7");
int middle = getMiddle(list);
System.out.println(list.get(middle)); 
```

# video - 为什么opencv可以打开视频但无法从中检索帧？

> ID：14975443
> 
> 赞同：0
> 
> 时间：2013-02-20T08:38:36.580
> 
> 标签：video, opencv, ffmpeg, video-streaming, computer-vision

我构建了带有 ffmpeg 支持的 opencv，这是我的代码片段，用于读取视频并遍历帧。

```
if (argc != 3) {
    std::cout<<"Usage: exe input_video_filename skip_frames \n"<<std::endl;
    return 0;
}
char* video_fn = argv[1];
int skip_frames = atoi(argv[2]);
VideoCapture cap;
if(!cap.open(video_fn))
{
    std::cout<<"error reading video"<<video_fn<<std::endl;
    return -1;
}
Mat frame,gray;
int i = 0;
double score = 0;
vector<double> scores;
while(true)
{
    if(!**cap.retrieve(frame)**)
    {
        std::cout<<"error retrieve frame"<<std::endl;
        break;
    }
    if(i%skip_frames)
    {
        cvtColor(frame,gray,CV_BGR2GRAY);
        double sc = compute_cpbdm(gray);
        std::cout<<sc<<std::endl;
        scores.push_back(sc);
    }

} 
```

程序成功读取 cap.open(video_fn) 行的视频，但无法在 if(!cap.retrieve(frame)) 行从 VideoCapture 检索帧。我尝试了mp4和avi，但总是失败。有人遇到过类似的问题吗？如何解决？非常感谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T10:19:28.417

您正在使用`capture.retrieve(frame)`，那么在此之前应该有一个`capture.grab()`。

或者，您可以这样做：`capture.read(frame)` ，它同时进行，

或只是`capture >> frame;`（与阅读相同）

# xcodebuild - 使用 xocdebuild 构建失败

> ID：14975452
> 
> 赞同：2
> 
> 时间：2013-02-20T08:39:18.373
> 
> 标签：xcodebuild

在使用 xcodebuild 从命令行构建后，我得到以下信息，有什么想法可能有问题吗？

```
** BUILD FAILED **

The following build commands failed:

    CompileC build/PackageDemo.build/Release-iphoneos/PackageDemo.build/Objects-normal/armv6/AppDelegate.o PackageDemo/AppDelegate.m normal armv6 objective-c com.apple.compilers.llvm.clang.1_0.compiler

    CompileC build/PackageDemo.build/Release-iphoneos/PackageDemo.build/Objects-normal/armv6/main.o PackageDemo/main.m normal armv6 objective-c com.apple.compilers.llvm.clang.1_0.compiler

    CompileC build/PackageDemo.build/Release-iphoneos/PackageDemo.build/Objects-normal/armv7/main.o PackageDemo/main.m normal armv7 objective-c com.apple.compilers.llvm.clang.1_0.compiler

    CompileC build/PackageDemo.build/Release-iphoneos/PackageDemo.build/Objects-normal/armv7/AppDelegate.o PackageDemo/AppDelegate.m normal armv7 objective-c com.apple.compilers.llvm.clang.1_0.compiler

    Ld build/PackageDemo.build/Release-iphoneos/PackageDemo.build/Objects-normal/armv6/PackageDemo normal armv6

    Ld build/PackageDemo.build/Release-iphoneos/PackageDemo.build/Objects-normal/armv7/PackageDemo normal armv7

    CreateUniversalBinary build/Release-iphoneos/PackageDemo.app/PackageDemo normal "armv6 armv7"
        GenerateDSYMFile build/Release-iphoneos/PackageDemo.app.dSYM build/Release-iphoneos/PackageDemo.app/PackageDemo 
```

（8 次失败）

# c# - WMI IIS 模拟 - 访问被拒绝

> ID：14975462
> 
> 赞同：1
> 
> 时间：2013-02-20T08:39:52.970
> 
> 标签：c#, asp.net, iis, wmi

活动目录，Windows 8

如果我使用用户“xxx”登录并使用这样的代码运行应用程序：

```
//WindowsIdentity.GetCurrent().Name - is "MyDomain\xxx";
var connectionOptions = new ConnectionOptions
{
  EnablePrivileges = true,
  Impersonation = ImpersonationLevel.Impersonate
};
var scope = new ManagementScope(
  string.Format("\\\\{0}\\root\\CIMV2", computerName),
  connectionOptions);
scope.Connect(); 
```

它运作良好。

但是，当在同一台机器上的 IIS 中运行此代码时，我遇到了异常：

```
// WindowsIdentity.GetCurrent().Name - is "NT AUTHORITY\SYSTEM" or "IIS APPPOOL\DefaultAppPool", tryed both
var windowsIdentity = User.Identity as WindowsIdentity;
if (windowsIdentity != null)
{
  using (windowsIdentity.Impersonate())
  {
    // WindowsIdentity.GetCurrent().Name - is "MyDomain\xxx";
    var connectionOptions = new ConnectionOptions
    {
      EnablePrivileges = true,
      Impersonation = ImpersonationLevel.Impersonate
    };
    var scope = new ManagementScope(
      string.Format("\\\\{0}\\root\\CIMV2", computerName),
      connectionOptions);
    scope.Connect(); 
    // throws exception "Access is denied. (Exception from HRESULT: 0x80070005 (E_ACCESSDENIED))"
    // my other code here        
  }
} 
```

使用的 Windows 身份验证：

```
<authentication mode="Windows" />
<identity impersonate="false" /> 
```

尝试将 AppPool 作为 ApplicationPoolIdentity 和作为系统运行。尝试为 AppPool 授予“作为操作系统的一部分”。结果是一样的，我总是得到“访问被拒绝”。

为什么我有这个例外？除了模拟或授予 AppPool 一些权限之外，我还应该做其他事情吗？

# mysql - SQL - 返回具有多对多表的最大日期

> ID：14975474
> 
> 赞同：0
> 
> 时间：2013-02-20T08:40:40.787
> 
> 标签：mysql, sql

我有 3 个表：p、p2l、l

```
p - p_id; 
p2l - p_id, l_id
l - l_id, date 
```

如何获得每个 p_id 的 max(date)？

这个查询是否正确？

1

```
SELECT plot_id, max(l.date) as l_maxDate
FROM p2l
LEFT JOIN l ON p2l.l_id = l.l_id
Group by p_id 
```

2

```
SELECT plot_id, maxDate.maxLDate,
FROM p2l
INNER JOIN 
  (SELECT l_id, MAX(date) AS maxLDate
  FROM l
  GROUP BY l_id) maxDate 
ON maxDate.l_id = p2l.l_id 
GROUP BY p_id 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:47:28.260

1.  第一个似乎是正确的，会给你最大日期和没有匹配的空值，尽管你不会在表 p 和表 p2l 中得到 p_id 的结果

2.  这个很有趣，它假设 l_id 在 l 表中不是唯一的。它会删除没有连接的 p_id 。但是这个选择 max 的额外语句是开销并且不会增加太多。

获取所有 p_id （包括你应该做的没有链接的）

```
SELECT  p.p_ID, MAX(l.date) max_date
FROM    p
        LEFT JOIN p2l
            ON p.p_id = p2l.p_ID
        LEFT JOIN l 
            ON p2l.l_id = l.l_id
GROUP   BY p.p_ID 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:42:54.233

```
SELECT  p.p_ID, MAX(l.date) max_date
FROM    p
        INNER JOIN p2l
            ON p.p_id = p2l.p_ID
        INNER JOIN l 
            ON p2l.l_id = l.l_id
GROUP   BY p.p_ID 
```

但如果你不想要 table 中的记录`p`。您可以从联接中删除该表。

```
SELECT  p2l.p_ID, MAX(l.date) max_date
FROM    p2l
        INNER JOIN l 
            ON p2l.l_id = l.l_id
GROUP   BY p2l.p_ID 
```

# php - 带有 IN 子句的 MySQL PDO

> ID：14975475
> 
> 赞同：5
> 
> 时间：2013-02-20T08:40:46.123
> 
> 标签：php, mysql, pdo

我正在将所有查询转换为 PDO 格式，并且遇到了一个特别是涉及 IN() 子句的问题。

```
$nba[0] = "Boston Celtics";
$nba[1] = "New York Knicks";
$nba[2] = "Houston Rockets";

$query = "SELECT game_id
        FROM table
        WHERE date_int >= :date_int 
        AND (home_team = :team OR away_team = :team) 
        AND home_team IN(:list)
        AND away_team IN(:list)
        ORDER BY game_date_int ASC 
        LIMIT 1";               
$stmt = $db->prepare($query);
$stmt->execute(array(':date_int' => $limit, ':team' => $team, ':list' => implode(',', $nba))); 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-20T08:44:41.540

[`IN`不能像其他值一样参数化](https://stackoverflow.com/questions/920353/php-pdo-can-i-bind-an-array-to-an-in-condition)。所以只需要使用 implode 占位符和值。不过，我一直在考虑尝试在 PHP 中实现它。然而，我从来没有比考虑它更进一步。

我还看到您`:list`的查询中有两次相同的命名参数 ( )。如果您使用真正的准备好的语句，这也是不可能的。[请注意，当您使用 mysql 驱动程序和 PDO 时，您必须禁用模拟准备好的语句](https://stackoverflow.com/questions/60174/how-to-prevent-sql-injection-in-php)。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-20T09:23:30.293

你可以像这样解决这个问题：

```
$nba = array();
$nba[0] = "Boston Celtics";
$nba[1] = "New York Knicks";
$nba[2] = "Houston Rockets";

$params = array(':date_int' => $limit, ':team' => $team);
$nba_teams = array();
for($i=0;$i<count($nba);$i++){
    $nba_teams[] = ':list' . $i;
    $params[':list' . $i] = $nba[$i];
}

$query = "SELECT game_id
    FROM table
    WHERE date_int >= :date_int 
    AND (home_team = :team OR away_team = :team) 
    AND home_team IN(".implode(',', $nba_teams).")
    AND away_team IN(".implode(',', $nba_teams).")
    ORDER BY game_date_int ASC 
    LIMIT 1";            

$stmt = $db->prepare($query, $params);
$stmt->execute(); 
```

还没有测试过，但我想你知道我在尝试什么

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T08:52:54.263

PDO 在这种情况下非常弱，因此这项任务将非常繁琐。
与任何其他 API 一样，PDO 仅适用于初学者手册中的基本任务，并且对于任何现实生活中的问题都没有为开发人员提供真正的帮助。
因此，开发人员必须采用某种抽象库来让它完成所有肮脏的工作。

所以，我会给你一个[safeMysql](https://github.com/colshrapnel/safemysql)的例子，它在任何方面都比 PDO 更好：

```
$nba[0] = "Boston Celtics";
$nba[1] = "New York Knicks";
$nba[2] = "Houston Rockets";

$query = "SELECT game_id
        FROM table
        WHERE date_int >= ?i 
        AND (home_team = ?s OR away_team = ?s) 
        AND home_team IN(?a)
        AND away_team IN(?a)
        ORDER BY game_date_int ASC 
        LIMIT 1";               

$data = $db->getAll($query, $limit, $team, $team, $nba, $nba); 
```

看 - 这段代码是整洁、简洁和确定的。它只做有意义的事情，隐藏了绑定复杂数据的所有脏活。与丑陋的代码不同，您可以使用一些 PHP 和 API 函数，此代码是**可读**的。这是很重要的事情。即使在一年左右之后，您也可以知道这段代码做了什么。

NLZ 的答案是一个完美的例子——代码被不必要的、令人费解的代码污染了。
当您查找代码时，您首先要查找业务逻辑。而这种*无用*的代码块，只是为了创建一小部分的SQL查询，会让你头晕目眩，把真正的事情瞒着你。
In**应该**移到内部内部的某个地方。

# c# - 使用 Facebook C# SDK 获取访问令牌

> ID：14975477
> 
> 赞同：2
> 
> 时间：2013-02-20T08:40:49.147
> 
> 标签：c#, facebook-c#-sdk

您好我正在使用以下代码使用 C# SDK 从 facebook 获取访问令牌

```
var fb = new FacebookClient();
    dynamic result = fb.Get("oauth/access_token", new
    {
        client_id = "clientId",
        client_secret = "clientSecret",
        redirect_uri = "redirectUri",
        code = "code"
    });

    return result.access_token; 
```

上面的代码大部分时间都很完美，但有时我会收到这个错误

```
(OAuthException - #100) Invalid verification code format. 
```

如何解决这个问题？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T15:28:37.273

您的项目类型是什么：**WinForms**、**WPF**、**ASP.NET**？

如果您正在使用**WinForms**或**WPF** ，则必须通过请求 OAuth 登录对话框和获取`access_token`表单的URL ，然后从 URL 中提取有效的。`Browser Control``return_type=token``access_token`

否则，如果您正在使用**ASP.NET**开发 Web 应用程序，则必须将用户重定向到 OAuth 对话框登录页面，然后 facebook 将使用 URL 上的代码将您重定向回来，您从 获取此代码`QueryString`并制作一个`HTTPRequest`到 Facebook 获取有效的`access_token`.

你可以使用我的方法来做到这一点：

```
 public string GetAccessTokenFromCode(string AppID, string AppSecret, string RedirectURL, string Code)
{
WebClient wc = new WebClient();
string u2 = "https://graph.facebook.com/oauth/access_token?client_id=" + AppID + "&redirect_uri=" + RedirectURL + "&client_secret=" + AppSecret + "&code=" + Code + "&state=anytexthere";
string access = wc.DownloadString(u2);
access = access.Substring(access.IndexOf("access_token") + 13);
if (access.Contains("&"))
{
string accesstoken = access.Substring(0, access.IndexOf("&"));
return accesstoken;
}

return access;

} 
```

您可以从以下位置调用它`Page_Load`：

```
if (Request.QueryString["code"] != null)
{
code = Request.QueryString["code"].ToString();
string AT = GetAccessTokenFromCode(AppID, AppSecret, RedirectUrl, Code);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T19:34:50.750

[这个页面](https://developers.facebook.com/docs/howtos/login/extending-tokens/)让我想知道你的代码是否应该更像这样：

```
 dynamic result = fbClient.Get("oauth/access_token", new
        {
            client_id = fbClient.AppId,
            client_secret = fbClient.AppSecret,
            grant_type = "fb_exchange_token",
            fb_exchange_token = accessToken
        }); 
```

也许您的 accessToken 超时或什么？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T11:00:23.657

你应该`redirect_uri`和你要求时一样`code`。
此外，您在 Facebook 的“使用 Facebook 登录的网站”部分中配置的网站 URL 的末尾必须有一个尾随斜杠“/”。
这是一个完整的教程：[使用 C# SDK](http://www.thepcwizard.in/2013/02/working-with-facebook-c--sharp-sdk.html)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-03-12T14:38:07.623

从[http://www.nuget.org/packages/Facebook.CSharp.SDK/下载 sdk 后](http://www.nuget.org/packages/Facebook.CSharp.SDK/)

```
var config = new Dictionary<string, object>();
//your application id and secret from https://developers.facebook.com/apps
config.Add("appId", "3955.......");
config.Add("secret", "4c1d...............");
config.Add("fileUpload", true); //optional
FacebookClient client = new FacebookClient(config);
ulong facebookId = client.getUser(); //retrieve user id. if user is not added the app this value is 0
client.getAccessToken() 
```

给你访问令牌。

# python - Windows xcopy 在 python 中不起作用

> ID：14975481
> 
> 赞同：2
> 
> 时间：2013-02-20T08:40:56.997
> 
> 标签：python, xcopy

当我在做

```
xcopy "D:\Accessories\My File\read-me.rtf" "D:\Any Folder\Destn" 
```

复制得很好

我在 python (2.7) 中做的同样的事情

```
import os
source = "D:\Accessories\My File\read-me.rtf"
target = "D:\Any Folder\Destn"
output = os.system ("xcopy %s %s" % (source, target)) 
```

但是这段代码抛出了错误`Invalid number of parameters`

这是一种正确的调用方式吗？有什么建议吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-20T08:45:05.143

您的“源”和“目标”路径名中有空格。尝试在 os.system 调用中引用它，即

```
output = os.system ("""xcopy "%s" "%s" """ % (source, target)) 
```

# ios - 一份通知多次发布（一名观察员）

> ID：14975484
> 
> 赞同：0
> 
> 时间：2013-02-20T08:41:18.973
> 
> 标签：ios, nsnotificationcenter

可以在多个类中发送一个通知（我的意思是相同的 postNotificationName: postNotificationName:@"notification_name"）吗？Observer 是 AppDelegate.m，它共享 NSDictionary。在每个班级发送通知之前，它会在 dic 中为其键设置值。AppDelegate 收到通知后，它会检查 dict 中的所有值是否都设置为 yes（所有通知都已发送）。这是好方法还是我应该使用其他技术？

（每个班级的通知只为每个班级发送一个）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:46:29.960

这是可能的，但尚不清楚您希望通过此设计实现什么。

通知的目的实际上是确保在侦听器已被释放并且不再存在时不会发生崩溃。对于您的应用程序委托，这是不可能的，因此您应该直接与应用程序委托通信（例如，通过公开的方法）。

# ruby-on-rails - 渲染 Ruby on Rails 后保留参数

> ID：14975486
> 
> 赞同：8
> 
> 时间：2013-02-20T08:41:26.290
> 
> 标签：ruby-on-rails, form-for

我有一个属于用户的项目。在我的用户视图中，我有一个添加新项目的链接，其中包含我想要添加项目的用户的参数。

```
<%= link_to 'Add new project', :controller => "project", :action => "new", :id => @user %>

Url: /projects/new?id=62 
```

向用户添加项目是可行的。问题是当添加新项目时验证失败并且我进行渲染时。

```
def create

    @project = Project.new(params[:project])

    if @project.save
        redirect_to :action => "show", :id => @project.id
    else
        render :action => "new"
    end

end 
```

看法：

```
<%= form_for @project do |f| %>

    <%= f.label :name %>
    <%= f.text_field :name %>

    <%= f.hidden_field :user_id , :value => params[:id] %>

    <%= f.submit "Create project" %>
<% end %> 
```

路线

```
resources :users do
 resources :projects
end 
```

渲染后如何为用户保留参数？还是有更好的方法来做到这一点？一直在寻找很多类似的问题，但无法让它发挥作用。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T09:17:39.610

尝试

```
render :action => "new", :id => @project.id 
```

如果它不适合您，请尝试其他方式将参数传递给您的渲染操作。

这也可以帮助你-> [Rails 3 Render => New with Parameter](https://stackoverflow.com/questions/4672585/rails-3-render-new-with-parameter)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-20T09:22:47.847

您不应该使用`params[:id]`给这个表单域赋值。相反，将其添加到`#new`控制器中的操作中：

```
def new
  @project = Project.new(user_id: params[:id])
end 
```

然后在你的表格中写下这个：

```
<%= f.hidden_field :user_id %> 
```

因为是在您的和操作`@project`中定义的，并且因为它已经包含一个分配给它的 Project 实例，所以该值将自动添加到该字段中。`#new``#create``user_id`

# android - 科尔多瓦安卓。Web sql 数据库在市场更新时被删除

> ID：14975487
> 
> 赞同：0
> 
> 时间：2013-02-20T08:41:32.270
> 
> 标签：android, cordova, google-play, web-sql

我遇到了一个非常烦人的问题。我在 android 市场上发布了一个 android 应用程序（使用**cordova**），问题是当我发布更新时，**web sql**数据库被删除并且用户丢失了所有数据。我尝试在我的测试设备上手动更新它，数据仍然存在，但每次我在市场上更新它都不起作用。

任何想法 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T08:56:45.900

否 changeVersion 在版本之间不会更改。

我已将 cordova 版本从 2.3 更改为 2.4 它解决了问题......但我不确定 cordova 对 android 上的 websql 有任何影响，2.3 也不包含这样的错误......我昨天的版本运行良好，我会继续调查这个非常烦人的问题。谢谢

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:02:05.200

如果存在，您是否可能使用过某种“ALTER TABLE”？

# ruby - 在 Rails 3 应用程序中调用 .ajax 方法时出现 401 未授权

> ID：14975489
> 
> 赞同：3
> 
> 时间：2013-02-20T08:41:50.293
> 
> 标签：ruby, ruby-on-rails-3, jquery

我正在通过 twitter 引导模式窗口传递一个 ajax 调用来更新我的应用程序中的数据。ajax代码如下：

```
 $(document).ready(function(){
    var link=$('#link_hash').val();
  $("#update_link").click(function(){
    console.log("I'm here");
     $.ajax({
            url: "profiles/update_link",
            type: "POST",
            dataType: "html",
            data: {link: link,data: $('#link_hash').val() },
            success: function(data) {
              // some code
            },
            error: function(data1) {
              // some code
             }
            });

        });
      }); 
```

我已修改 route.rb 文件以将其与我的控制器“update_link”方法相匹配。我的方法中的代码如下： -

```
 def update_link
    @link=Link.find_by_link(params[:link])
    @tlink=Link.find_by_link(params[:data])
    logger.info "=========kkkkkkkkkkkkkk=================================#{@link.inspect}"
    logger.info "=========kkkkkkkkkkkkkk=================================#{@tlink.inspect}"
    logger.info "=========kkkkkkkkkkkkkk=================================#{params.inspect}"

    respond_to do |format|
      if @tlink.nil? 
         @link.update_attributes(:link => params[:data])

        ...some code....
      else
    ...some code...
      end
    end
  end
end 
```

所以在服务器日志中它显示 -

```
Started POST "/profiles/update_link" for 127.0.0.1 at 2013-02-20 12:08:20 +0530
Processing by ProfilesController#update_link as HTML
  Parameters: {"link"=>"9bfzjp", "data"=>"9bfzjpaaa"}
WARNING: Can't verify CSRF token authenticity
Completed 401 Unauthorized in 6ms 
```

很明显**“logger.info”**没有出现......现在搜索后我能够解决警告但仍然存在401......如何解决这个问题？

提前致谢....

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T15:22:23.917

根据您的服务器日志，您没有传递 CSRF 令牌，因此 rails 会自动将请求视为恶意请求并将其标记为未经验证。未经验证的请求的默认处理是重置会话。您可以注释掉`protect_from_forgery`或添加`skip_before_filter :verify_authenticity_token`到您的控制器中以查看是否是这种情况吗？

如果您想在您的 ajax 请求中包含真实性令牌（强烈推荐），您可以将其添加到您的 ajax 请求的标头中：

```
headers: {
      'X-Transaction': 'POST Example',
      'X-CSRF-Token': $('meta[name="csrf-token"]').attr('content')
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-05-20T03:21:58.390

添加`skip_before_filter :authenticate_user!`到您的控制器。

# multithreading - Java EE 计划任务和强制任务

> ID：14975499
> 
> 赞同：0
> 
> 时间：2013-02-20T08:42:27.100
> 
> 标签：multithreading, jakarta-ee, servlets, batch-file

我正在开发一个 Java EE Web 应用程序。我使用 @WebListener 注释开发了一个计划批处理：

```
@WebListener
public class BatchServlet implements ServletContextListener {

    @Override
    public void contextInitialized(ServletContextEvent sce) {
        context = sce.getServletContext();
        schedulerEngine = Executors.newSingleThreadScheduledExecutor();
        schedulerEngine.scheduleAtFixedRate(new MyThread(), 0, 300, TimeUnit.SECONDS);
    }

public class MyThread implements Runnable {
        @Override
        public void run() {
            ...... //my business logic
        } 
```

它工作正常。

但是，出于我的目的，我需要按需强制执行 MyThread() 批处理，例如，当我在 Servlet 中收到特定请求时。显然我可以单独调用 MyBatch 线程，但我想知道有一些最佳实践来执行此操作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T10:14:06.263

有几个选项：创建一个常规线程池（具有多个线程），并在任务进入时将它们放在执行程序队列中。

如果您需要更细粒度的控制，您可以在 servlet 和您拥有的一个线程之间共享诸如并发队列之类的东西。让这个线程从队列中读取，当队列为空时它会自动阻塞。

然后你的 servlet 可以在这个队列上工作，如果线程碰巧在获取项目时被阻塞，它将自动唤醒。

您可能想查找“生产者-消费者”模式。有很多关于这方面的文献。

# vba - Excel修改日期和时间

> ID：14975500
> 
> 赞同：1
> 
> 时间：2013-02-20T08:42:27.337
> 
> 标签：vba, date

在 VBA 脚本中，我需要修改日期和时间。即增加或减少一天，根据条件将时间设置为上午 8 点或晚上 8 点。

我这里有相关的代码段 -

变量声明 -

```
' To reference the cell having the source date 
Dim d As String 

' To reference the cell where the modified date is written
Dim destCell As String

' Some cell that contains 1 or 0
Dim somecell As String

'If condition and value assignment

If Range(somecell).Value = 1 Then
    Range(destCell).Value = DATE(YEAR(Range(d)),MONTH(Range(d)),DAY(Range(d)-1))+TIME(8,0,0) 
```

问题：我所做的是减少日期并将时间设置为早上 8 点，条件满足时。我收到语法错误。请帮忙。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T09:31:42.157

您需要`DATE`用`DateSerial`和`TIME`替换`TimeSerial`：

```
Dim datSource As Date
datSource = Range(d).Value
If Range(somecell).Value = 1 Then
    Range(destCell).Value = _
        DateSerial(Year(datSource), Month(datSource), Day(datSource) - 1) + _
        TimeSerial(8, 0, 0) 
```

# java - Primefaces 客户端检查表单是否有效

> ID：14975517
> 
> 赞同：0
> 
> 时间：2013-02-20T08:43:49.953
> 
> 标签：java, validation, jsf-2, primefaces

我在这样的对话框中有一个表单：

```
<p:dialog id="panel" header="Inserisci" widgetVar="dlg1">
  <h:form id="form">
    <p:inputText id="username" value="#{userController.username}" />
    <p:inputText type="password" id="password" value="#{userController.password}" />
    <p:commandButton actionListener="#{userController.insert}" oncomplete="dlg1.hide();" value="Accept" />
  </h:form>
</p:dialog> 
```

单击此对话框会显示一个“插入”按钮。当我单击接受按钮时，表单将使用 Ajax 提交并经过验证。当响应到来时，对话框在任何情况下都会关闭，无论表单是否有效。如何检查表单在客户端 oncomplete 中是否有效并仅在有效时才关闭对话框？顺便说一句，验证是有效的，因为如果我在输入错误数据后再次打开对话框，无效字段会被红色边框包围。我已经尝试使用 onsuccess 更改 oncomplete ，但它不起作用，因为即使表单无效，ajax 请求仍然可以很好地发送。

# java - 等待 jar 从批处理运行到完成？

> ID：14975521
> 
> 赞同：1
> 
> 时间：2013-02-20T08:44:04.860
> 
> 标签：java, batch-file

我批量启动一个 jar 文件，并希望等待该工具完成，然后再继续执行下一个批处理命令。我怎么能这样做？

```
java -jar "tool.jar" parameter /wait 
```

这会等待工具结束吗？或者jar会异步执行吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T08:47:55.973

```
call java -jar "tool.jar" parameter /wait 
```

如果您使用 call 运行程序或另一个 bat 文件，则调用 bat 文件将等待，直到调用的 bat 文件完成。

# jetty - 如何配置 Railo on Jelastic (PAAS) 以使用 Jetty 处理多个域？

> ID：14975522
> 
> 赞同：0
> 
> 时间：2013-02-20T08:44:09.810
> 
> 标签：jetty, railo, cfml, jelastic

如何配置 Railo on Jelastic (PAAS) 以使用 Jetty 处理多个域？

我找到了使用 Tomcat 的 Railo 配置，但由于内存要求，我想使用 Jetty

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T15:40:32.947

在 Jelastic 中，至少有两种可能的方式来绑定您的域名。

实际上，您可以通过 Jelastic 仪表板将您的应用程序部署到指定的上下文 ROOT 来绑定您的域。这是一篇解释如何管理它的文章：http: [//jelastic.com/docs/custom-domains](http://jelastic.com/docs/custom-domains)

第二种方法是设置 DNS A 记录。给定的文章明确展示了如何做到这一点：http: [//jelastic.com/docs/A-Records-domain-names](http://jelastic.com/docs/A-Records-domain-names)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T09:27:03.827

我不确定 Jelastic 的具体方面，但是使用 Jetty，您可以在 contexts 文件夹中创建一个 XML 文件，它应该看起来像这样：

上下文/本地主机.xml：

```
<?xml version="1.0"  encoding="ISO-8859-1"?>
<!DOCTYPE Configure PUBLIC "-//Jetty//Configure//EN" "http://www.eclipse.org/jetty/configure.dtd">
<Configure class="org.eclipse.jetty.webapp.WebAppContext">
  <Set name="contextPath">/</Set>
  <Set name="resourceBase"><SystemProperty name="jetty.home" default="."/>/webapps/railo/</Set>
  <Set name="defaultsDescriptor"><SystemProperty name="jetty.home" default="."/>/etc/webdefault.xml</Set>
  <!-- virtual hosts -->
  <Set name="virtualHosts">
    <Array type="String">
      <Item>localhost</Item>
      <Item>127.0.0.1</Item>
    </Array>
  </Set>
</Configure> 
```

然后，您可以在其中为每个域创建更多文件，确保添加/编辑 resourceBase（您的文件 webroot）和虚拟主机项目中的条目。

我不确定 Jelastic 如何专门使用 Jetty 处理这些东西，但如果你可以编辑文件，你应该会很酷。

# android - 如何减少/增加布局而不是视图的透明度

> ID：14975527
> 
> 赞同：0
> 
> 时间：2013-02-20T08:44:24.240
> 
> 标签：android, android-layout, android-relativelayout, xml-layout

我要这个。注意显示文本（即说明）的透明层。还要检查背景一个木制的背景。

![在此处输入图像描述](../Images/ccc25f1250c1ec75cf824fe3adf84d7c.png)

我试过这个但没有得到想要的结果

```
 <RelativeLayout
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_gravity="center_horizontal"
                android:layout_margin="10dp"
                android:alpha="0.75" >

                <TextView
                    android:id="@+android:id/txtInstructions"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_below="@+android:id/relImagesLogo"
                    android:layout_centerInParent="true"
                    android:lineSpacingMultiplier="1.5"
                    android:text="Lorem Ipsum is simply dummy text of 

                    the printing and typesetting industry. Lorem Ipsum has been the 

                    industry&apos;s standard dummy text ever since the 1500s, when an                      unknown 

                    printer took a galley of type and scrambled it to make a type specimen 

                    book. It has survived not only five centuries, but also the leap into 

                    electronic typesetting, remaining essentially unchanged. It was popularised "
                    android:textColor="@android:color/white"
                    android:textSize="14sp" />

                <RelativeLayout
                    android:id="@+android:id/relImagesLogo"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_alignParentTop="true"
                    android:layout_centerHorizontal="true" >

                    <ImageView
                        android:id="@+android:id/imgInstructionLogo"
                        android:layout_width="30dp"
                        android:layout_height="30dp"
                        android:layout_marginRight="2dp"
                        android:src="@drawable/instruction_icon" />

                    <ImageView
                        android:id="@+android:id/imgInstructionHeading"
                        android:layout_width="wrap_content"
                        android:layout_height="30dp"
                        android:layout_centerVertical="true"
                        android:layout_toRightOf="@+android:id/imgInstructionLogo"
                        android:src="@drawable/instruction_heading" />
                </RelativeLayout>
            </RelativeLayout> 
```

请注意，这`android:alpha="0.75"`会使我的所有视图对 0.75 级透明。我不想要这个。我只想要那个透明层。

知道我得到了这个结果

![在此处输入图像描述](../Images/9891d37e7407621c0b1996af660d1d66.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T08:57:53.030

尝试：

```
 <RelativeLayout
        xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:tools="http://schemas.android.com/tools"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center_horizontal"
        android:layout_margin="10dp"
        android:background="#66FF0000" > 
```

可以看到： android:color="#66FF0000" // 部分透明红色

我建议您检查以下信息： [Android set alpha opacity for a custom view](http://upshots.org/android/android-set-alpha-opacity-for-a-custom-view)

[Android 并为（图像）视图 alpha 设置 alpha](https://stackoverflow.com/questions/4931071/android-and-setting-alpha-for-image-view-alpha)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-20T09:13:03.583

您需要将最外层布局的背景设置为可绘制的木材。并将文本视图的背景设置为透明颜色。试试这个：

```
<RelativeLayout xmlns:tools="http://schemas.android.com/tools"
xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:layout_gravity="center_horizontal"
android:background="#FF008833" >

<TextView
    android:id="@+android:id/txtInstructions"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_margin="30dp"
    android:layout_below="@+android:id/relImagesLogo"
    android:layout_centerInParent="true"
    android:lineSpacingMultiplier="1.5"
    android:background="#BB000000"

    android:text="Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry&apos;s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised "
    android:textColor="@android:color/white"
    android:textSize="14sp" />
</RelativeLayout> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2014-02-27T14:24:41.337

# xxyyyyy

xx 是您的透明度级别，y 是您的颜色。

xx 最大值是：ff // 这是完全可见的

xx min value is : 00 // 这是完全不可见的

编辑：顺便说一句，我们在 android:background="xxyyyyyy" 中使用这些代码

# perl - 逐块读取文件

> ID：14975534
> 
> 赞同：0
> 
> 时间：2013-02-20T08:44:51.607
> 
> 标签：perl, nagios

我正在使用 perl 并想读取具有以下结构的外部文件（完整代码在帖子末尾）：

```
servicestatus {
  parameter1 = abc
  parameter2 = abc
  parameter3 = abc
  }

servicecomment {
  parameter1 = def
  parameter2 = abc
  parameter3 = ghi
  } 
```

这些块位于文件的不同部分，状态块位于上部，而注释块位于下部。（每个评论块都与某个状态块相关）

现在我试图逐行扫描文件，所以我首先遇到了一个状态块，读取某个参数（即参数2），最后在文件的其余部分搜索具有相同参数的注释块。

我为解决这个问题而编写的脚本是非常嵌套的，除了它只找到第一个状态块，它对应的注释块然后离开循环，虽然还有很多东西要找。欢迎考虑这个问题的任何帮助！

这是完整的代码

```
while ($line = <SF>) {
  if ($line =~ /servicestatus/) {
    while ($line = <SF>) {
      if ($line =~ /service_description/) {
        $service_desc = $line;
        while ($line = <SF>) {
          if ($line =~ /servicecomment/) {
            while ($line = <SF>) {
              if ($line =~ /service_description/) {
                $service_desc2 = $line;
                if ($service_desc eq $service_desc2) {
                  while ($line = <SF>) {
                    if ($line =~ /comment_id/) {
                      if ($line =~ m/(\d+)/) {
                        $comment_id = $1;
                        while ($line = <SF>) {
                          if ($line =~ /entry_time/) {
                            if ($line =~ m/(\d+)/) {
                              $entry_time = $1;
                              if ($entry_time < $time_oldest) {

                                # Kommando wird in die Commandpipe geladen
                                open(CP, ">>$o_commandpipe") or die("nagios.cmd not found");

                                # Befehl wird ausgegeben, External Command DEL_SVC_COMMENT wird ausgeführt
                                print {CP} "[$time_now] DEL_SVC_COMMENT;$comment_id;$time_now\n";
                                close(CP);
                                print("Comment $comment_id deleted.\n");
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}

close SF; 
```

为了更好地理解：此脚本适用于 nagios（服务器监控工具），应在特定时间后删除某些服务的用户定义评论。

提前致谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T08:57:00.933

几个建议：

*   嵌套循环不适合您的问题。您需要的是一个遍历文件的循环，其中包含逻辑。
*   带有 equal 参数的注释块是否总是在其相应的服务状态块之后？如果没有，你还需要重新考虑逐行遍历文件的设计。
*   块是否总是用空行分隔，如示例中所示？如果是这样，您可以设置`$/ = "\n\n";`. 然后你可以逐块而不是逐行读取文件。

这是一个如何执行此操作的示例，使用哈希来跟踪要删除的那些。我假设所有块都由空行分隔，但如果这不是真的，您可以轻松地将其调整为 ikegami 的遍历文件的方法。

```
use warnings;
use strict;

{
    my %delete_params;
    local $/ = "\n\n";
    while (<DATA>)
    {
        if (/^servicestatus/ and /parameter2 = (.*)/)
        {
            $delete_params{$1}++; #Delete comments with this parameter.
        }
        elsif (/^servicecomment/ and /parameter2 = (.*)/ and 
               exists $delete_params{$1})
        {
            next;   #Comment matched; do not print.
        }

        print $_;
    }   
}

__DATA__
servicestatus {
  parameter1 = abc
  parameter2 = abc
  parameter3 = abc
  }

servicestatus {
  parameter1 = abc
  parameter2 = xyz
  parameter3 = abc
  }

servicecomment {
  parameter1 = def
  parameter2 = abc
  parameter3 = ghi
  }

servicecomment {
  parameter1 = def
  parameter2 = xyz
  parameter3 = ghi
  }

servicecomment {
  parameter1 = def
  parameter2 = rrr
  parameter3 = ghi
  } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T08:50:59.427

怎么样

```
my $file; { local $/; $file = <$fh>; }
while ($file =~ /^\s*(\S+)\s*\{([^}]*)\}/mg) {
   my $name  = $1;
   my $block = $2;
   ...
} 
```

# javascript - 如何在 xcode 中添加 JavaScript 代码以便我可以在 webview 中运行它

> ID：14975537
> 
> 赞同：2
> 
> 时间：2013-02-20T08:45:10.057
> 
> 标签：javascript, iphone, uiwebview

正在整合的广告来自 adbutler。广告代码是 javascript。我需要在 UIWebview 中运行 js 代码。有什么建议么。

示例代码是：

```
<script type="text/javascript">
var rnd = window.rnd || Math.floor(Math.random()*10e6);
var pid156452 = window.pid156452 || rnd;
var plc156452 = window.plc156452 || 0;
var abkw = window.abkw || '';
var absrc = 'http://ab152067.adbutler-photon.com/adserve/;ID=152067;size=320x100;setID="some number";type=iframe;kw='+abkw+';pid='+pid156452+';place='+(plc156452++)+';rnd='+rnd+'';
document.write('<ifr'+'ame src="'+absrc+'" width="320" height="100" marginwidth="0" marginheight="0" hspace="0" vspace="0" frameborder="0" scrolling="no"></ifr'+'ame>');
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T14:32:36.633

使您想要在网页中运行 function() 的代码。

从 iOS WebView 调用 stringByEvaluatingJavaScriptFromString: 函数

JavaScript 函数：

```
function adCrapFunction()
{
   alert('Hey there buy something.');
} 
```

IOS：

```
[self.webview stringByEvaluatingJavaScriptFromString:@"adCrapFunction();"]; 
```

一些会让你受益的事情：

1.  您可能必须对要传递给 javascript 函数的数据进行编码。
2.  如果您想要将 javascript 字符串传递给 javascript 函数，则必须使用 \" 。
3.  您可以从 stringByEvaluatingJavaScriptFromString: 取回数据，但它将是一个字符串，所以要小心。我的应用程序从未有过这种情况，但它可能会发生。

# grails - Grails 表单令牌不适用于 ajax 表单？

> ID：14975542
> 
> 赞同：3
> 
> 时间：2013-02-20T08:45:24.583
> 
> 标签：grails, grails-2.0

在 grails 中很容易添加令牌来防止表单重复提交和点击劫持。

只需将 useToken="true" 添加到表单标签：

```
<g:form ... useToken="true" > 
```

但是，这不适用于 formRemote 标签。我知道我可以做普通表单并编写 js 代码来将它们转换为带有令牌的 ajax froms，但正因为如此，formRemote 标记默认不支持这很奇怪。

有什么原因，或者只是 Grails 中的（另一个）错误？

# c# - 删除 Pivot 项目会导致异常

> ID：14975549
> 
> 赞同：0
> 
> 时间：2013-02-20T08:45:44.710
> 
> 标签：c#, xaml, windows-phone-8

在我的 Windows Phone 8 应用程序中，我基本上在异步方法之后删除了 Pivot Items。但它会引发参数超出范围异常，并表示值不在预期范围内。但是以防万一，如果我在调用异步方法之前执行此删除操作，一切都会成功。请检查我的以下代码。我无法准确触发代码中出现的主要问题。你能请任何人帮助我吗？

```
var a=await GetA();
if(a.Value)
{
   if(myPivot.Items.Contains(pivItem))
   {
      myPivot.Items.Remove(pivItem);
   }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-12T08:39:25.433

好吧，通过缩小问题范围，我发现如果我删除该`PivotItem.Header`元素，就不会再有异常了。

# php - 从带有对象的多维数组中获取值

> ID：14975554
> 
> 赞同：0
> 
> 时间：2013-02-20T08:46:04.633
> 
> 标签：php, arrays, object, multidimensional-array, mt940

我使用了一个小脚本来导入 mt940 文件（荷兰银行交易文件）。

这是我返回的数组，但我需要一点帮助才能从数组中获取正确的值。

```
Array (
    [0] => Statement_banking Object (
        [_bank:Statement_banking:private] => ING
        [_account:Statement_banking:private] => 111111111
        [_transactions:Statement_banking:private] => Array (
            [0] => Transaction_banking Object (
                [account:Transaction_banking:private] => 111111111
                [accountName:Transaction_banking:private] => V. DE JONG KERKSTRAAT 1154 1234 BW
                [price:Transaction_banking:private] => 0.56
                [debitcredit:Transaction_banking:private] => C
                [description:Transaction_banking:private] => 0111111111 V. DE JONG KERKSTRAAT 1154 1234 BW ENSCHEDE BET.KENM. 1004510036716378 3305330802 AFLOSSINGSTERMIJN 188616 / 1E TERMIJN
                [valueTimestamp:Transaction_banking:private] => 1279749600
                [entryTimestamp:Transaction_banking:private] => 1279749600
                [transactionCode:Transaction_banking:private] => 078
            )
            [1] => Transaction_banking Object (
                [account:Transaction_banking:private] => 111111111 
                [accountName:Transaction_banking:private] => CUSTOMER NL SPOEDBETALING 
                [price:Transaction_banking:private] => 10.45 
                [debitcredit:Transaction_banking:private] => C 
                [description:Transaction_banking:private] => 0111111111 CUSTOMER NL SPOEDBETALING GE2009120212345 RE091202Â­3737 /RFB/NLÂ­FMIÂ­021209 NLÂ­FMIÂ­021209 VOORSCHOT COMMISSIE
                [valueTimestamp:Transaction_banking:private] => 1279749600 
                [entryTimestamp:Transaction_banking:private] => 1279749600 
                [transactionCode:Transaction_banking:private] => 077
            )
            [2] => Transaction_banking Object (
                [account:Transaction_banking:private] => 
                [accountName:Transaction_banking:private] => 
                [price:Transaction_banking:private] => 10000.99 
                [debitcredit:Transaction_banking:private] => D 
                [description:Transaction_banking:private] => VERZAMELBETALING BATCHÂ­ID: 012345 TOTAAL 198 POSTEN 
                [valueTimestamp:Transaction_banking:private] => 1279749600 
                [entryTimestamp:Transaction_banking:private] => 1279749600 
                [transactionCode:Transaction_banking:private] => 029 ) )
                [_startPrice:Statement_banking:private] => 44 
                [_endPrice:Statement_banking:private] => 9945 
                [_timestamp:Statement_banking:private] => 1279749600 
                [_number:Statement_banking:private] => 100
            )
        ) 
```

例如，这个键给了我名字和地址：

```
[accountName:Transaction_banking:private] => V. DE JONG KERKSTRAAT 1154 1234 BW 
```

这把钥匙给了我交易价格：

```
[price:Transaction_banking:private] => 0.56 
```

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:58:53.313

逻辑上您需要使用嵌套的 foreach 或 for 循环，不确定语法但下面的 PHP 代码可能会对您有所帮助，然后您可以转换为所需的语言

```
 $outputArr = Is your array.
  foreach ( $outputArr as $firstchild){
   forach ( $firstchild as $key => $secondchildvalue){
     // $key is basically your key value [price:Transaction_banking:private]
     // $secondchildvalue is your info value 0.56
   }
  } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T09:03:57.903

通常，您将访问地址和交易价格：

```
foreach( $yourArray[0]->_transactions as $transaction ) {
    $foo = $transaction->accountName;
    $bar = $transaction->price;
} 
```

但是在这种特殊情况下，您的某些字段是私有的，这意味着您无法直接访问它们的值。您可以尝试定义自己的`Statement_banking`和`Transaction_banking`类，并为这些字段定义访问器方法，例如：

```
public class Statement_banking {
    public function getTransactions() {
        return $this->_transactions;
    }
}

public class Transaction_banking {
    public function getAccountName() {
        return $this->accountName;
    }

    public function getPrice() {
        return $this->price;
    }
} 
```

然后你的循环代码变成这样：

```
foreach( $yourArray[0]->getTransactions() as $transaction ) {
    $foo = $transaction->getAccountName();
    $bar = $transaction->getPrice();
} 
```

如果您还想遍历外部数组，可以将其扩展为：

```
foreach( $yourArray as $statement ) {
    foreach( $statement->getTransactions() as $transaction ) {
        $foo = $transaction->getAccountName();
        $bar = $transaction->getPrice();
    }
} 
```

# c - linux标头中的TMPFS_MAGIC和确定可用磁盘空间的错误

> ID：14975558
> 
> 赞同：1
> 
> 时间：2013-02-20T08:46:36.060
> 
> 标签：c, linux, disk

如果我提出一个“双重问题”，我很抱歉，但我不想将这两个分开:) 有没有人知道`TMPFS_MAGIC`有这个值`0x01021994`的用途是什么？它是定义的`/usr/include/linux/magic.h`，我在运行以下代码时发现了它，该代码试图确定 linux 目录（通常是分区）中的可用空间：

```
QString path = "/dev/sde1";
struct stat stst;
struct statfs stfs;

if ( ::stat(path.toLocal8Bit(), &stst) == -1 )
{
    return 0.0;
}

if ( ::statfs(path.toLocal8Bit(), &stfs) == -1 )
{
    return 0.0;
}

return m_diskFree = stfs.f_bavail * ( stst.st_blksize / 1024 ); 
```

从 gdb 命令提示符：

```
(gdb) print stfs
$1 = {f_type = 16914836, f_bsize = 4096, f_blocks = 2042909, f_bfree = 2042907, f_bavail = 2042907, f_files = 2042909, f_ffree = 2042267, f_fsid = {__val = {0, 0}}, f_namelen = 255, f_frsize = 4096, f_flags = 4128, f_spare = {0, 
0, 0, 0}} 
```

`f_type = 16914836`天上的魔法在哪里。供您参考，“/dev/sde1”是一个外部驱动器，上面有一个 NTFS 分区。

而且上面的代码对于安装在 linux 系统上的 NTFS 分区也不能正常工作（它适用于 ext*fs 文件系统），所以我问：你知道正确地找到安装在 Linux 主机上的 NTFS 驱动器的可用空间吗？linux 命令`df`似乎正确地完成了这项工作，但我没有设法找到正确的方法来完成它（但是......）。

谢谢，f。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-02T22:03:14.593

因此，经过一些调试和不眠之夜，解决方案非常简单。找到 df.c 的源代码并阅读它。万岁免费和开源代码。

以及解释：当您使用 stat 和 statfs 查找硬盘上的可用空间时，您不会尝试查找设备本身的可用空间，因为那很神奇......但是，您尝试找到可用空间安装设备的目录。所以，而不是

```
QString path = "/dev/sde1"; 
```

应该有

```
QString path = "/mnt/DISK"; 
```

where是安装`"mnt/DISK"`磁盘的目录`"/dev/sde1"`。以前一直`libext2fs`找磁盘的挂载点，但相信还有其他更好的办法可以找到，比如解析`/etc/mtab`

# android - 服务块 eì 应用程序执行

> ID：14975565
> 
> 赞同：0
> 
> 时间：2013-02-20T08:46:58.447
> 
> 标签：android, service, qudpsocket

您好，我的服务有问题。我正在制作一个实现 UDPServer 并登录主要活动接收到的数据包的应用程序。我希望即使活动关闭也能启动服务，所以我认为我必须使用服务。这是真的吗？我已经实现了一个应用程序可以毫无问题地实现音乐播放器服务，但是当在服务 onStart 函数中插入 UDP 服务器的代码时，我的应用程序崩溃了。这是关于udp服务器的代码：

```
 InetAddress serverAddr = InetAddress.getByName(SERVERIP);       
    //Create the socket using the serverAddress 
    //notifica("STARTING SERVER!", "UDP***Creating server" );
    //System.out.println("UDP***Creating server"); 
    DatagramSocket socket = new DatagramSocket(SERVERPORT, serverAddr); 

    //create a buffer to copy packet contents into 
    byte[] buf = new byte[260]; 
    //create a packet to receive 
    DatagramPacket packet = new DatagramPacket(buf, buf.length); 
    notifica("START!", "Server started!" );
    while(true) {

        try{
            socket.receive(packet); 
            System.out.println("UDP***" + new String(packet.getData())); 
            notifica("RECEIVED!", new String(packet.getData()) );

        } catch (Exception e) { 
        notifica("EXC_INT:", "UDP Received Exception! " + e.toString() );
        }

    } 
```

我认为问题出在命令上：

```
socket.receive(packet); 
```

它阻止执行并等待读取内容。我希望主程序不会阻止等待服务。

我尝试在服务中插入超时和睡眠命令，但没有任何结果：

```
 InetAddress serverAddr = InetAddress.getByName(SERVERIP);       
    //Create the socket using the serverAddress 
    //notifica("STARTING SERVER!", "UDP***Creating server" );
    //System.out.println("UDP***Creating server"); 
    DatagramSocket socket = new DatagramSocket(SERVERPORT, serverAddr); 

    //create a buffer to copy packet contents into 
    byte[] buf = new byte[260]; 
    //create a packet to receive 
    DatagramPacket packet = new DatagramPacket(buf, buf.length); 
    notifica("START!", "Server started!" );
    while(true) {

        try{
            socket.setSoTimeout( 100 );
            socket.receive(packet); 
            System.out.println("UDP***" + new String(packet.getData())); 
            notifica("RECEIVED!", new String(packet.getData()) );
        } catch (SocketTimeoutException e) { 
        //notifica("EXC:", "UDP No data received!" );
        //Toast.makeText(getApplicationContext(), "UDP No data received!", Toast.LENGTH_SHORT).show();   
        } catch (Exception e) { 
        notifica("EXC_INT:", "UDP Received Exception! " + e.toString() );
        }
        try{
             Thread.sleep(30000);
        } catch (Exception e) { 
             notifica("EXC_INT_TIMER:", "Thread sleep exc! " + e.toString() );
        }
    } 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:06:57.357

如果您不希望主程序阻塞 socket.receive(packet); ，则必须实现线程。

一种方法是将您的阻止代码放在此处：

新线程（）{

```
 public void run(){ 
```

//例如在这里放置阻塞代码

而（真）{

```
 try{
        socket.setSoTimeout( 100 );
        socket.receive(packet); 
        System.out.println("UDP***" + new String(packet.getData())); 
        notifica("RECEIVED!", new String(packet.getData()) );
    } catch (SocketTimeoutException e) { 
    //notifica("EXC:", "UDP No data received!" );
    //Toast.makeText(getApplicationContext(), "UDP No data received!", Toast.LENGTH_SHORT).show();   
    } catch (Exception e) { 
    notifica("EXC_INT:", "UDP Received Exception! " + e.toString() );
    }
    try{
         Thread.sleep(30000);
    } catch (Exception e) { 
         notifica("EXC_INT_TIMER:", "Thread sleep exc! " + e.toString() );
    }
} 

} 
```

}。开始（）;

此外，如果您设置了超时和睡眠来解决问题，则将其删除，因为它不会解决您的崩溃问题。

# jquery - UI 选项卡、ajax/JSON 请求、数据未显示在选项卡中

> ID：14975568
> 
> 赞同：1
> 
> 时间：2013-02-20T08:46:59.667
> 
> 标签：jquery, user-interface, jquery-ui-tabs

我将 jquery-1.9/ui-1.9 与 jquery-ui 选项卡一起使用。但是数据不会显示在 tabs-1 中。

我做错了什么？设置 ui.ajaxSettings.dataType = "json" 或 "html" 也无济于事。REST 请求的数据是 JSON，之后应转换为 html。

我的代码是这样的：

```
$(function() {
    $( "#tabs" ).tabs({
        beforeLoad: function( event, ui ) {
            ui.jqXHR.fail(function( jqXHR, textStatus, errorThrown ) {
                ui.panel.html(
                        "Daten konnten nicht geladen werden. " + "HTTP Status: " + jqXHR.status + " " + errorThrown );
            });
        } 
```

……

```
<div id="tabs">
        <ul>
            <li><a href="rest/cfehler/9410273345537">CFehler</a></li>
            <li><a href="ajax/content3-slow.php">Historie</a></li>
            <li><a href="ajax/content4-broken.php">Einzelfälle</a></li>
        </ul>
        <div id="tabs-1">           
        </div>
    </div>

    });
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-09T17:24:33.487

您是说您要显示 div“tabs-1”中的内容吗？因为如果是这样的话，有一个简单的解决方案。添加

```
<li><a href="#tabs-1">Tab 1</a></li> 
```

紧随其后。这将在加载任何 ajax 之前在 tabs-1 中显示内容。然后您所要做的就是将您的内容添加到 tabs-1，它会显示您想要的任何内容。

# c# - 如何对 GeometryGroup 进行多重绑定

> ID：14975574
> 
> 赞同：1
> 
> 时间：2013-02-20T08:47:28.237
> 
> 标签：c#, wpf, xaml, multibinding

我有一个工作 MultiBinding `Path.Data`（这里的路径是`System.Windows.Shapes.Path`）。转换器返回类型是`System.Windows.Media.PathGeometry`.

```
<Path.Data>
  <MultiBinding Converter="{StaticResource ResourceKey=ToPathGeometryMultiConverter}">
    <Binding Path="A"/>
    <Binding Path="B"/>
    <Binding Path="C"/>
  </MultiBinding>-->
</Path.Data> 
```

现在我想稍微改变一下结构并在`GeometryGroup`. 我不知道如何在`MultiBinding`这里添加语法。

```
<Path.Data>                    
  <GeometryGroup>       
    <PathGeometry> 
     <!-- HOW CAN I MULTIBIND HERE --> 
    </PathGeometry>
  </GeometryGrounp>
<Path.Data> 
```

无论我尝试什么，我总是遇到编译错误。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T11:06:10.007

您可以绑定该[`PathGeometry.Figures`](http://msdn.microsoft.com/en-us/library/system.windows.media.pathgeometry.figures.aspx)属性并拥有一个返回 a 的转换器[`PathFigureCollection`](http://msdn.microsoft.com/en-us/library/system.windows.media.pathfigurecollection.aspx)，但恐怕您必须接受 VS Designer 抱怨 XAML 的事实。

```
<Path.Data>
    <GeometryGroup>
        <PathGeometry>
            <PathGeometry.Figures>
                <MultiBinding Converter="{StaticResource PathFiguresConverter}">
                    <Binding Path="A"/>
                    <Binding Path="B"/>
                    <Binding Path="C"/>
                </MultiBinding>
            </PathGeometry.Figures>
        </PathGeometry>
    </GeometryGroup>
</Path.Data> 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-02-20T08:55:41.737

您可以尝试放置绑定代码而不是 PathGeometry 标签

```
<Path.Data>                    
    <MultiBinding Converter="{StaticResource ResourceKey=ToPathGeometryMultiConverter}">
       <Binding Path="A"/>
       <Binding Path="B"/>
       <Binding Path="C"/>
    </MultiBinding>  
<Path.Data> 
```

# android - 过滤以防止三星 Galaxy 相机从 Play 商店访问应用程序

> ID：14975581
> 
> 赞同：0
> 
> 时间：2013-02-20T08:48:04.987
> 
> 标签：android, android-manifest, android-camera, android-permissions

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-04T19:55:21.360

您可以使用开发者控制台中“APK”标签中的“排除的设备”部分通过 Google Play 排除单个设备：

![在此处输入图像描述](../Images/7fee16676e3b036e2f4920e797c2d060.png)

有关更多信息，请查看[此页面](http://developer.android.com/distribute/googleplay/about/distribution.html)的“功能定位”部分。

# jakarta-ee - 如何编译 Java EE Source (ejb) 代码

> ID：14975587
> 
> 赞同：0
> 
> 时间：2013-02-20T08:48:41.700
> 
> 标签：jakarta-ee

我已经用 glassfish 服务器安装了 JDK 7 和 java EE sdk 6，我没有使用任何 IDE，只是文本编辑器，我应该将哪些 EE 实现的 jar 文件添加到类路径中以编译 ejb 代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T07:48:48.123

![这是 GF 3.1.2 提供的 jar 列表](../Images/a8b15ffb58e6e3ffcb9c25f7be11995e.png)

您可以在上传的图片上看到 Glassfish 3.1.2 提供的 jar 列表。根据项目的类型（Web 应用程序、纯 EJB 等），您只需要其中一些（例如，如果您不会处理 Java Mail API，则不需要 javax.mail.jar），但要避免出现问题稍后我会建议将它们中的大多数包含在您的类路径中。

# c# - 通过datagridview更新sql数据库

> ID：14975594
> 
> 赞同：1
> 
> 时间：2013-02-20T08:49:05.640
> 
> 标签：c#, sql-server-2008, visual-studio-2008

我制作了一个 C# prog，其中有一个按钮（名为 insert）和一个 datagridview。我已经输入了一个 cmd，如果我在 dvg 新行中输入一个新值，那么在单击插入按钮后会显示一个 msg 框，描述我输入的值。现在我想要一个名为 update..so dat 的第二个按钮，当我单击时在插入新值后，新值会在我的 sql 数据库中更新。

这是我的代码片段-

```
private void button1_Click_1(object sender, EventArgs e)
 {
 //InsertInfo();

 foreach (int rowIndex in lstNewRows)
 {

 MessageBox.Show(dataGridView1.Rows[rowIndex].Cells[0].Value + "; " +
 dataGridView1.Rows[rowIndex].Cells[1].Value);
 }

 lstNewRows.Clear();
 }

 private void dataGridView1_DefaultValuesNeeded_1(object sender, DataGridViewRowEventArgs e)
 {

 lstNewRows.Add(e.Row.Index);

 }
private void updateInfo()
 {

 String strConnection = "Data Source=HP\\SQLEXPRESS;database=MK;Integrated Security=true";

 SqlConnection con = new SqlConnection(strConnection);
 using (SqlConnection sqlConn = new SqlConnection(strConnection))
 {
 using (SqlCommand cmd = new SqlCommand())
 {
 int rowIndex;
 cmd.CommandText = @"UPDATE tble SET " +
 "name = @name, " +
 "number = @number" = (int)dataGridView1.SelectedCells[0].Value + " ";

 cmd.Parameters.Add("@name", SqlDbType.VarChar, 50, "name");
 cmd.Parameters.Add("@number", SqlDbType.VarChar, 50, "number");

 cmd.Connection = sqlConn;

 using (SqlDataAdapter da = new SqlDataAdapter())
 {
 DataTable dtRecord = new DataTable();
 da.UpdateCommand = cmd;
 da.Update(dtRecord);

 }
 }

 }
 }

 private void button2_Click(object sender, EventArgs e)
 {
 updateInfo();
 }
 } 
```

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:03:56.447

我假设您在更新行值时遇到问题。您`updateInfo();`在很多地方都错了，这是正确的版本：

```
String strConnection = "Data Source=HP\\SQLEXPRESS;database=MK;Integrated Security=true";
//SqlConnection con = new SqlConnection(strConnection); not needed
using (SqlConnection sqlConn = new SqlConnection(strConnection))
{
      using (SqlCommand cmd = new SqlCommand())
      {
            int rowIndex = 1; //row index to update?
            var number = Int32.Parse(dataGridView1.Rows[rowIndex].Cells[0].Value.ToString());  //assuming Cells[0] holds number
            var name = dataGridView1.Rows[rowIndex].Cells[1].Value.ToString();                 //as above
            var id = Int32.Parse(dataGridView1.Rows[rowIndex].Cells[3].Value.ToString());      //get id
            //your old command text was completly wrong
            cmd.CommandText = @"UPDATE tble SET  name = @name, number = @number where id =  @id"; //id and @id is key for row to update
            cmd.Parameters.Add("@name", name);
            cmd.Parameters.Add("@number", number);
            cmd.Parameters.Add("@id", id);

            cmd.Connection = sqlConn;
            sqlConn.Open();

            cmd.ExecuteNonQuery();
      }

} 
```

我将您的命令字符串更改为有效的命令字符串。同样在您的原始代码中，您没有检索要更新的行 id，因此我为此添加了标记，您应该将其更改为正确的一个（变量`id`）。

希望这可以帮助 ：）

# highcharts - 我怎样才能让一些类别有一个向下钻取，而另一些则没有？

> ID：14975596
> 
> 赞同：1
> 
> 时间：2013-02-20T08:49:18.893
> 
> 标签：highcharts

基于此示例[http://jsfiddle.net/EgzfS/2/](http://jsfiddle.net/EgzfS/2/)我构建了一个带有向下钻取的堆叠条形图：

[http://jsfiddle.net/uemit/9CJHq/](http://jsfiddle.net/uemit/9CJHq/)

但是我遇到的问题是：我怎样才能让一些类别有一个向下钻取而其他的没有？

在示例中，每个类别都可以单击，它将显示由员工分隔的某一天的目标和销售额。但是，假设星期五我有当天的目标和销售额，但没有目标，也没有基于员工的销售额。我怎样才能将那一天也包含在图表中，但禁用对当天柱的点击？

```
events: {
    click: function () {
        var drilldown = this.drilldown;
        if (drilldown) { // drill down
            setChart([drilldown.name1, drilldown.name2], drilldown.categories, [drilldown.data1, drilldown.data2]);
        } else { // restore
            setChart([name1, name2], categories1, [data1, data2]);
        }
    }
} 
```

非常感谢你的帮助，

厄姆

**[更新]**

感谢 Pawel，我现在可以正常工作了，这是更新后的示例：

[http://jsfiddle.net/uemit/9CJHq/3/](http://jsfiddle.net/uemit/9CJHq/3/)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T12:01:52.833

首先，您必须从没有数据的数据中删除向下钻取（很明显）。然后你可以在那里添加一些属性，比如空：

```
{
    y: 1355,
    empty: true
} 
```

然后在单击事件中，您可以添加检查，如果您想深入了解：

```
 click: function () {
                            var drilldown = this.drilldown,
                                empty = this.empty;
                            if (drilldown) { // drill down
                                setChart([drilldown.name1, drilldown.name2], drilldown.categories, [drilldown.data1, drilldown.data2]);
                            } else if(empty) {
                                //do nothing
                                return ;
                            } else { // restore
                                setChart([name1, name2], categories1, [data1, data2]);
                            }
                        } 
```

和工作示例：http: [//jsfiddle.net/9CJHq/2/](http://jsfiddle.net/9CJHq/2/)

# vim - vi中切换行号的命令

> ID：14975600
> 
> 赞同：40
> 
> 时间：2013-02-20T08:49:29.933
> 
> 标签：vim, vi, line-numbers

我知道

```
:set number 
```

和

```
:set nonumber 
```

我想知道vi/vim中有没有命令

```
:set togglenumber 
```

如果行号未显示，则显示行号；如果行号显示，则隐藏行号。

* * *

## 回答 #1

> 赞同：73
> 
> 时间：2013-02-20T08:54:34.923

您可以使用（至少在 VIM 上）：

> :set invnumber

更多信息：

```
:set number      Turn line numbers on
:set nonumber    Turn line numbers off
:set invnumber   Toggle line numbers
:set number!     Toggle line numbers
:set number&     Set option to default value
:set number?     Show value of option 
```

来源：http: [//vim.wikia.com/wiki/Managing_set_options#Boolean_options](http://vim.wikia.com/wiki/Managing_set_options#Boolean_options)

* * *

## 回答 #2

> 赞同：13
> 
> 时间：2013-02-20T09:33:35.803

在 vim 中，许多选项都支持这种`set`模式，（例如，`foo`）：

```
"enable the option
set foo

"disable it
set nofoo

"toggle the option
set foo!

"get option's current value
set foo? 
```

对于`number`，映射一个键`:set nu!`就可以了。

* * *

## 回答 #3

> 赞同：13
> 
> 时间：2013-02-20T09:37:17.310

您可以使用后缀切换任何（布尔）选项`!`，即`:set number!`切换显示行号。

该命令的板载帮助有点隐藏；虽然有人会认为`:help toggle`会让你到达那里，但事实并非如此。使用`:help set-!`是一个神奇的词。

* * *

## 回答 #4

> 赞同：8
> 
> 时间：2018-01-05T09:36:06.330

我对当前行上方和下方的所有行使用相对行号，以及当前行的绝对行号。但这仅从 Vim 7.4 开始有效。

这有时被称为“混合”行编号（例如在文章[https://jeffkreeftmeijer.com/vim-number/](https://jeffkreeftmeijer.com/vim-number/)中）

要从“根本没有数字”切换到“混合”，您可以使用以下配置：

```
set number relativenumber " Turn line numbering on at startup
" Toggle line numbers from none at all
" to relative numbering with current line number
noremap <F3> :set invnumber invrelativenumber<CR> 
```

# .net - 键“attachdbfilename”的值无效

> ID：14975602
> 
> 赞同：0
> 
> 时间：2013-02-20T08:49:34.253
> 
> 标签：.net, sql, entity-framework, asp.net-mvc-4

一直在谷歌搜索此错误消息，但无法找到适合我的解决方案。我已经使用实体框架创建了一个 mvc4 应用程序，并且我试图在 nuget 上运行“启用迁移”，但我得到了错误：

键“attachdbfilename”的值无效

我在本地机器上使用完整版的 SQL Server 2008，我使用服务器资源管理器添加了我的数据库并从属性中复制了连接字符串

```
<add name="DefaultConnection" connectionString="Data Source=CQTT4323;Initial database=JBSMonitor;Integrated Security=True" providerName="System.Data.SqlClient"/> 
```

奇怪的是根本没有 attachdbfilename 属性，据我所知，在 sql server full 上没有必要？

任何线索

编辑：

当我将连接的名称从“默认连接”更改为另一个名称并在我的 DbContext 中使用该名称时，一切正常。可能它使用另一个“默认连接”？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:16:39.123

用以下替换整个字符串

```
Data Source=yourmachinename\sql_server_name;Initial Catalog=JBSMonitor;Integrated Security=true 
```

# c# - 鼠标悬停时突出显示 DataGrid 列标题

> ID：14975604
> 
> 赞同：2
> 
> 时间：2013-02-20T08:49:46.787
> 
> 标签：c#, wpf, datagrid, wpfdatagrid

如果我设置`CanUserSort`为`false`in a `DataGridTextColumn`（或 in a `DataGridTemplateColumn`），因为我想手动进行排序，当我将鼠标放在列标题上时，它不再突出显示。

以下是两个示例：

![两个例子](../Images/4e917f83654e674b4d75aa1fe1f0f4ec.png)

**我怎样才能强迫这种行为？**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T11:37:19.347

你可以通过两种方式做到这一点：

1.  将 CanUserSort 设置为 True，但通过以下方式对数据网格的排序事件进行 canel 排序：

    e.Handled = true;

2.  重新模板 DataGridColumnHeader - 添加鼠标悬停触发器以突出显示标题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-10-17T00:16:33.990

根据 Microsoft 文档，当**DataGridHeaderBorder.IsClickable**属性为 时`false`，将不会应用悬停外观，即使**DataGridHeaderBorder.IsHovered**值为`true`( [source](https://docs.microsoft.com/en-us/dotnet/api/microsoft.windows.themes.datagridheaderborder.isclickable?view=netframework-4.7.2) )。因此，为了保持悬停外观，**IsClickable**属性必须为`true`.

**DataGridColumnHeader**的默认样式使用将其**IsClickable**属性绑定到列的**CanUserSort**属性的模板绑定。因此，如果您希望使用默认样式保持悬停外观，则必须设置**CanUserSort** =`true`以使**IsClickable** = `true`。但是，如果您不想允许用户排序​​，那么使用默认样式可能不是最佳选择。

解决该问题的一种方法是对**DataGridColumnHeader使用***修改后的样式*。您可以复制默认样式并调整**IsClickable**属性的设置方式。与其使**IsClickable**依赖于**CanUserSort**，不如将其直接设置为. 即使禁用了用户排序，这也允许悬停外观保持不变。修改后的样式的 XAML 如下：********`true`********

 ******```
<Style x:Key="ColumnHeaderGripperStyle" TargetType="{x:Type Thumb}">
    <Setter Property="Width" Value="8"/>
    <Setter Property="Background" Value="Transparent"/>
    <Setter Property="Cursor" Value="SizeWE"/>
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="{x:Type Thumb}">
                <Border Background="{TemplateBinding Background}"
                Padding="{TemplateBinding Padding}"/>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style>

<Style x:Key="DataGridColumnHeaderStyle" TargetType="{x:Type DataGridColumnHeader}">
    <Setter Property="VerticalContentAlignment" Value="Center"/>
    <Setter Property="Template">
        <Setter.Value>
            <ControlTemplate TargetType="{x:Type DataGridColumnHeader}">
                <Grid>
                    <Themes:DataGridHeaderBorder BorderBrush="{TemplateBinding BorderBrush}"
                                                 BorderThickness="{TemplateBinding BorderThickness}"
                                                 Background="{TemplateBinding Background}"
                                                 IsClickable="True"
                                                 IsPressed="{TemplateBinding IsPressed}"
                                                 IsHovered="{TemplateBinding IsMouseOver}"
                                                 Padding="{TemplateBinding Padding}"
                                                 SortDirection="{TemplateBinding SortDirection}"
                                                 SeparatorBrush="{TemplateBinding SeparatorBrush}"
                                                 SeparatorVisibility="{TemplateBinding SeparatorVisibility}">
                        <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                          RecognizesAccessKey="True"
                                          SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"
                                          VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                    </Themes:DataGridHeaderBorder>
                    <Thumb x:Name="PART_LeftHeaderGripper" HorizontalAlignment="Left" Style="{StaticResource ColumnHeaderGripperStyle}"/>
                    <Thumb x:Name="PART_RightHeaderGripper" HorizontalAlignment="Right" Style="{StaticResource ColumnHeaderGripperStyle}"/>
                </Grid>
            </ControlTemplate>
        </Setter.Value>
    </Setter>
</Style> 
```

确保在 XAML 中引用“主题”命名空间，如下所示：

```
xmlns:Themes="clr-namespace:Microsoft.Windows.Themes;assembly=PresentationFramework.Aero" 
```

最后，无论您在何处定义**DataGridColumn**，请确保引用此样式，如下所示：

```
<DataGridTemplateColumn Width="*" HeaderStyle="{StaticResource DataGridColumnHeaderStyle}"/> 
```******

# xml - 使用 vbscript 递归 XML 文件

> ID：14975608
> 
> 赞同：2
> 
> 时间：2013-02-20T08:50:10.367
> 
> 标签：xml, vbscript

我正在尝试使用递归技术来检索 xml 文件。有人可以帮我这样做吗。

我正在尝试阅读下面的 xml，但不确定嵌套标签的深度，所以我想到了使用递归技术。

```
<TestSuites>
  <TestSuite SuiteName="Regression">
    <TestCase TCName="TestCase 1">
      <TestStep TSName="TestStep 1"/>
      <TestStep TSName="TestStep 2"/>
    </TestCase>
    <TestCase TCName="TestCase 2">
      <TestStep TSName="TestStep 1"/>
      <TestStep TSName="TestStep 2"/>
    </TestCase>
  </TestSuite>
  <TestSuite SuiteName="Smoke"/>
  <TestSuite SuiteName="Sanity"/>
</TestSuites> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T18:29:19.727

VBScript 为您提供解析和处​​理 XML 结构的[工具：](http://msdn.microsoft.com/en-us/library/windows/desktop/ms757878%28v=vs.85%29.aspx)

```
Set xml = CreateObject("MSXML2.DOMDocument")
xml.async = False
xml.load "c:\path\to\foo.xml"
WScript.Echo xml.xml 
```

您可以使用（除其他外）[XPath](http://saxon.sourceforge.net/saxon6.5.3/expressions.html)查询语言访问文档树中的元素：

```
Set nodes = xml.selectnodes("//TestStep[@TSName='TestStep 2']") 
```

上面选择`TestStep`了树中任意位置的所有节点，这些节点的属性`TSName`值为`TestStep 2`。

拥有节点后，您可以读取或更改其属性：

```
WScript.Echo nodes.Length
WScript.Echo nodes(0).parentNode.nodeName
WScript.Echo nodes(1).parentNode.nodeName

WScript.Echo nodes(0).text
nodes(0).text = "foo"
WScript.Echo nodes(0).text
WScript.Echo xml.xml 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T18:32:00.353

您需要一个递归 Sub 来遍历 XML 文档树。原则上：

```
 Dim oFS    : Set oFS  = CreateObject("Scripting.FileSystemObject")
  Dim sFSpec : sFSpec   = oFS.GetAbsolutePathName("..\data\so14975608.xml")
  Dim oXML   : Set oXML = CreateObject("Msxml2.DOMDocument.6.0")
  oXML.load sFSpec
  If 0 = oXML.parseError Then
     recursiveTraversal oXML.documentElement, 0
  Else
     WScript.Echo objMSXML.parseError.reason
  End If

Sub recursiveTraversal(oElm, nIndent)
  WScript.Echo Space(nIndent), oElm.tagName
  If 0 < oElm.childNodes.length Then
     Dim oChild
     For Each oChild In oElm.childNodes
         recursiveTraversal oChild, nIndent + 2
     Next
  Else
     If 0 < oElm.attributes.length Then
        Dim oAttr
        For Each oAttr In oElm.attributes
            WScript.Echo Space(nIndent + 1), oAttr.name, oAttr.value
        Next
     End If
  End If
End Sub 
```

样本数据的输出：

```
 TestSuites
   TestSuite
     TestCase
       TestStep
        TSName TestStep 1
       TestStep
        TSName TestStep 2
     TestCase
       TestStep
        TSName TestStep 1
       TestStep
        TSName TestStep 2
   TestSuite
    SuiteName Smoke
   TestSuite
    SuiteName Sanity 
```

基于更详细的计划 - 您需要提取/处理哪些信息 - 您必须研究一些合适的 XML 文档[（从这里开始）](http://msdn.microsoft.com/en-us/library/windows/desktop/ms763742%28v=vs.85%29.aspx)以确定要放入上述框架的功能/属性。

**PS：**

没有购买上述内容的人将无法从中[获利](https://stackoverflow.com/a/15219548/603855)。

# magento - Magento 后端打印 HTML 而不是 PDF

> ID：14975610
> 
> 赞同：1
> 
> 时间：2013-02-20T08:50:27.177
> 
> 标签：magento, magento-1.7

我试图让 Magento 在 HTML 模板中打印发票、订单等，而不是默认情况下的 PDF。

当客户打印他们的订单时，我希望它像从前端一样打印。

所以简而言之，我希望后端的打印行为与前端相同 - HTML 打印而不是 PDF。

这可以“轻松”完成吗？有人可以帮我弄清楚怎么做吗？

我将不胜感激！

感谢，并有一个愉快的一天！

最好的问候马克安德烈森

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:14:18.763

看看 PAJ 免费的 magento 扩展 -

[http://blog.gaiterjones.com/customiseable-printable-html-invoices-for-magento-free-magento-extension/](http://blog.gaiterjones.com/customiseable-printable-html-invoices-for-magento-free-magento-extension/)

# javascript - 在 Backbone Stickit 中结合使用 visible 和 onGet

> ID：14975611
> 
> 赞同：3
> 
> 时间：2013-02-20T08:50:29.063
> 
> 标签：javascript, backbone.js, backbone-stickit

我有一个包含数据列表的视图，并且我使用骨干stickit 进行模型绑定。

如果数据不可用，我不想显示列表元素，但如果数据可用，我需要对其进行格式化，因此我尝试了以下绑定：

```
'.emailItem': {
  observe: 'emailAddress',
  visible: function(viewVal, modelVal){ return !!modelVal; },
  onGet: function (val) {
    return '<span>E-mail</span><strong><a href="mailto:' + val + '">' + val + '</a></strong>';
  },
  updateMethod: 'html'
}, 
```

.emailItem 匹配元素`<li class="emailItem"></li>`。

当我运行它时，列表元素会正确显示，但 onGet 的结果不会插入到视图中。如何`visible`在stickit中使用属性与客户格式的组合？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T09:31:17.110

我找到了一个解决方案：

```
'.emailItem': {
    observe: 'emailAddress',
    visible: true,
    visibleFn: function ($el, isVisible, modelAttr) {
        var value = this.model.get(modelAttr);
        $el.html('<span>Email</span><strong><a href="mailto:' + value + '">' + value + '</a></strong>');
    }
} 
```

这工作正常，但这不是应该使用 visibleFn 的方式。请让我知道是否有更好的方法来做到这一点。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-21T13:28:04.257

你使用的是什么版本的 Stickit？

我问是因为我认为这个问题可能会在 master 上解决。您可以尝试以下方法：

[粘性大师](https://raw.github.com/NYTimes/backbone.stickit/master/backbone.stickit.js)

如果它不起作用，请在 github 上打开一个问题 - 我在那里非常活跃，并将深入了解这一点。

[创建新问题](https://github.com/NYTimes/backbone.stickit/issues/new)

# magento-1.7 - 连接错误：无法创建目录 - 在 magento 1.7 扩展中

> ID：14975612
> 
> 赞同：0
> 
> 时间：2013-02-20T08:50:35.413
> 
> 标签：magento-1.7

我刚刚开始学习 Magento 1.7。并尝试安装 Ultimate_ModuleCreator 扩展。但是当我尝试安装时它会引发错误。

我试图在网上找到解决方案，但找不到。

**错误 ：-**

连接错误：无法创建目录 D:/wamp/www/magento_project\downloader.cache\community\Ultimate_ModuleCreator-1.2.0\app/code/community/Ultimate/ModuleCreator/etc/modulecreator/app/code/codepool/Namespace/模块/控制器/Adminhtml/模块/实体/目录/ProductController/IsTree

帮助非常感谢提前谢谢你 ![在此处输入图像描述](../Images/8bafc288de0a02d92c35695245d44e3a.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:38:22.473

似乎（无论如何都是Windows）上的特定模块存在问题。

我可以在基于 Unix 的系统上提取模块 find，但是某些文件的路径太长，Windows 无法处理（Windows 只能处理 256 个字符，但取决于版本）。

从存档中提取某些文件时会生成错误，这看起来是连接在尝试安装模块时也遇到的问题。

我可以在 Windows 上复制这个问题，但它适用于 *Nix。

# laravel - Laravel：运行工匠给了我“输入中的意外字符”错误

> ID：14975613
> 
> 赞同：4
> 
> 时间：2013-02-20T08:50:39.150
> 
> 标签：laravel, laravel-4

当我`php artisan list`在我的生产环境（Debian Linux，私有服务器）中运行时，我收到以下错误：

```
Warning: Unexpected character in input:  
'\' (ASCII=92) state=1 in /home/user/app/artisan on line 46

Parse error: syntax error, unexpected T_STRING in 
/home/user/app/artisan on line 46 
```

为什么会这样，我该如何解决？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-02-20T08:54:47.490

所以这一行有一个解析错误：

```
$artisan = Illuminate\Console\Application::start($app); 
```

PHP 解析器没想到会有一个`\`，它用于[命名空间](http://www.php.net/manual/en/language.namespaces.rationale.php)，它是在 PHP 5.3 中引入的，这意味着您运行的是较旧的 PHP 版本。您应该将您的 PHP 安装更新到至少 PHP 5.3。

我的托管公司同时安装了 PHP 5.2 和 5.3，所以我只运行：

```
/usr/local/php53/bin/php artisan migrate 
```

# c# - SQLite C# 查询不起作用

> ID：14975615
> 
> 赞同：1
> 
> 时间：2013-02-20T08:50:42.927
> 
> 标签：c#, sql, sqlite, nvarchar

我在执行从 C# 到 SQLite DB 的查询时遇到问题，我使用以下查询，它给了我一个错误：“max”。

```
create table ClockMessages (ID int identity(1, 1) primary key, InsertDateTime DateTime not null, SendDateTime DateTime, Data nvarchar(max)); 
```

我不能使用该`nvarchar`格式，我应该`TEXT`改用吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T08:54:53.730

使用`TEXT`.

根据说明书，

`TEXT`- 该值是一个文本字符串，使用数据库编码（UTF-8、UTF-16BE 或 UTF-16LE）存储。

*   [SQLite 数据类型](http://www.sqlite.org/datatype3.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T08:56:47.790

*SQLite*`varchar`在声明类型时不使用大小。

来自**[常见问题](http://www.sqlite.org/faq.html#q9)**

> (9) SQLite 中 VARCHAR 的最大大小是多少？
> 
> SQLite**不强制**VARCHAR 的长度。您可以声明一个 **VARCHAR(10)**，SQLite 很乐意让您在其中放入 500 个字符。并且它将保持所有 500 个字符的完整性——**它永远不会被截断**。

您可以使用`TEXT`类型代替。**[从这里](http://www.sqlite.org/datatype3.html)**退房。

> 文本。该值是一个文本字符串，使用数据库编码（UTF-8、UTF-16BE 或 UTF-16LE）存储。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-20T08:57:55.810

SQLite 中只有 5 种数据类型。

当你使用其中一些

```
CHARACTER(20)
VARCHAR(255)
VARYING CHARACTER(255)
NCHAR(55)
NATIVE CHARACTER(70)
NVARCHAR(100)
TEXT
CLOB 
```

在 create table 语句中，SQLite 将其转换为`Text`

还

> 请注意，类型名称后面的括号中的数字参数（例如：“VARCHAR(255)”）会被 SQLite 忽略 - SQLite 不会对字符串、BLOB 或数值。

[SQLite 数据类型](http://www.sqlite.org/datatype3.html)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T08:55:23.330

使用文本！您可以[在此处](http://www.sqlite.org/datatype3.html)阅读有关 sqlite 数据类型的更多信息

**TEXT** =>该值是一个文本字符串，使用数据库编码（UTF-8、UTF-16BE 或 UTF-16LE）存储。

> SQLite 使用更通用的动态类型系统。在 SQLite 中，值的数据类型与值本身相关联，而不是与其容器相关联。SQLite 的动态类型系统向后兼容其他数据库引擎的更常见的静态类型系统，因为在静态类型数据库上工作的 SQL 语句应该在 SQLite 中以相同的方式工作。然而，SQLite 中的动态类型允许它完成传统刚性类型数据库中不可能完成的事情。

**这指出：**

> SQLite 不对字符串、BLOB 或数值的长度施加任何长度限制（除了大的全局 SQLITE_MAX_LENGTH 限制）。

**最后：**

字符串或 BLOB 的最大长度

> SQLite 中字符串或 BLOB 中的最大字节数由预处理器宏 SQLITE_MAX_LENGTH 定义。该宏的默认值为 10 亿（1 亿或 1,000,000,000）。您可以使用如下命令行选项在编译时提高或降低此值：
> 
> -DSQLITE_MAX_LENGTH=123456789 当前的实现只支持长度为 231-1 或 2147483647 的字符串或 BLOB。一些内置函数，如 hex() 可能在此之前就失败了。在对安全敏感的应用程序中，最好不要尝试增加最大字符串和 blob 长度。事实上，如果可能的话，最好将最大字符串和 blob 长度降低到几百万的范围内。
> 
> 在 SQLite 的部分 INSERT 和 SELECT 处理期间，数据库中每一行的完整内容被编码为单个 BLOB。所以 SQLITE_MAX_LENGTH 参数也决定了一行的最大字节数。
> 
> 可以使用 sqlite3_limit(db,SQLITE_LIMIT_LENGTH,size) 接口在运行时降低最大字符串或 BLOB 长度。

# android - Android - 如何解码和反编译任何 APK 文件？

> ID：14975618
> 
> 赞同：29
> 
> 时间：2013-02-20T08:50:46.343
> 
> 标签：android, decode, decompiler, apk

我正在处理广告：我的客户给了我一些他们应用程序的 APK 文件。
我的工作包括在其中插入广告横幅。
关闭广告横幅后，这些应用程序将运行。

我的问题是：如何解码和反编译 APK 文件？

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-02-20T08:59:20.047

反编译 APK 使用 APKTool。[您可以在http://www.decompileandroid.com/](http://www.decompileandroid.com/)或通过阅读[文档](http://ibotpeaches.github.io/Apktool/documentation/)
了解 APKTool 的工作原理。

* * *

## 回答 #2

> 赞同：17
> 
> 时间：2013-10-10T18:07:57.280

你可以试试这个网站[http://www.decompileandroid.com](http://www.decompileandroid.com) 只需上传 .apk 文件，其余的将由这个网站完成。

# android - 如何在静态布局和表面视图中包含可点击文本

> ID：14975621
> 
> 赞同：1
> 
> 时间：2013-02-20T08:50:49.960
> 
> 标签：android, android-layout, spannablestring

我设计了一本互动儿童读物。我在surfaceview上使用画布，因为我需要我认为最适合surfaceview的动画

我想让每个单词都可以触摸并大声朗读那个单词。当我使用带有 textview 的常规视图时，这非常有用。然后我尝试用画布制作动画，但不知道该怎么做。

我在画布上使用了静态布局来保存可扩展的文本。我不知道如何激活 onTouchListener。

这里我设置了staticlayout

```
public class OurView extends SurfaceView implements Runnable, Callback {
    public OurView(Context context, AttributeSet attribs) {
    super(context, attribs);
    init(context);
}

private void init(Context context) {
    ball = BitmapFactory.decodeResource(getResources(), R.drawable.ball);

    text = context.getString(R.string.para1);
    tpaint = new TextPaint();
    tpaint.setColor(Color.WHITE);
    tpaint.setStyle(Style.FILL);
    tpaint.setTextSize(40F);
    TextView tv = splitWords(text);

    staticLayout = new StaticLayout(??????????, tpaint, 1000F,
            Layout.Alignment.ALIGN_NORMAL, 1, 0, false);

    holder = getHolder();
    holder.addCallback(this);
} 
```

这是我将文本拆分为单词并为每个单词创建一个触摸监听器。它当前返回一个 Textview，我试图返回 spaanablestring 但我无法激活监听器。我想改变它以满足我的需要。我不知道如何在没有文本视图的情况下执行 tv.setMovementMethod(new LinkTouchMovementMethod())。

```
public TextView splitWords(final String text) {
    TextView tv = new TextView(getContext());
    final SpannableString ssText = new SpannableString(text);
    Pattern pattern;
    String regex = "\\w+";
    pattern = Pattern.compile(regex);
    Matcher matcher = pattern.matcher(text);
    while (matcher.find()) {
        final int begin = matcher.start();
        final int end = matcher.end();
        ClickableSpan clickableSpan = new ClickableSpan() {

            @Override
            public void onClick(View widget) {
                String word = (String) text.subSequence(begin, end)
                        .toString();
                Toast.makeText(getContext(), word, Toast.LENGTH_SHORT)
                        .show();
                return;                 
            }
        };
        ssText.setSpan(clickableSpan, begin, end, 0);
    }
    tv.setMovementMethod(new LinkMovementMethod());
    tv.setText(text, BufferType.SPANNABLE);
    return tv;
} 
```

为了完整性，我的 DoDraw

```
private void doDraw(Canvas canvas) {
    canvas.drawBitmap(ball, x, 100, null);
    incrementX();
    canvas.save();
    canvas.translate(100.0f, 350.0f);
    staticLayout.draw(canvas);
    canvas.restore();
} 
```

我想向 staticlayout 添加一个 textview 或添加 spannableString 并激活侦听器。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2016-12-20T12:12:11.073

您需要在自定义视图中覆盖 onTouch 方法。参考以下代码，大部分是从 LinkTouchMovementMethod.onTouchEvent() 复制而来。

```
private boolean updateSelection(MotionEvent event, Spannable buffer,Layout layout) {
    int action = event.getAction();

    if (action == MotionEvent.ACTION_UP ||
        action == MotionEvent.ACTION_DOWN) {
      int x = (int) event.getX();
      int y = (int) event.getY();

      x -= getPaddingLeft();
      y -= getPaddingTop();

      x += getScrollX();
      y += getScrollY();

      int line = layout.getLineForVertical(y);
      int off = layout.getOffsetForHorizontal(line, x);

      ClickableSpan[] link = buffer.getSpans(off, off, ClickableSpan.class);

      if (link.length != 0) {
        if (action == MotionEvent.ACTION_UP) {
          link[0].onClick(this);
        } else {
          Selection.setSelection(buffer,
                                 buffer.getSpanStart(link[0]),
                                 buffer.getSpanEnd(link[0]));
        }

        return true;
      } else {
        Selection.removeSelection(buffer);
      }
    }

    return false; 
```

在 View.onTouchEvent() 方法中调用 updateSelection 方法。

```
@Override
public boolean onTouchEvent(MotionEvent event) {
   return updateSelection(event, layout.getText(), layout);
} 
```

参考[Weex RichText](https://github.com/YorkShen/weex/blob/android-feature-richtext/android/richtext/src/main/java/com/alibaba/weex/richtext/WXRichTextView.java)看一个真实的演示。

# sql - SQL - Linq/EF/Lambda

> ID：14975623
> 
> 赞同：0
> 
> 时间：2013-02-20T08:50:55.373
> 
> 标签：sql

我有一个表时间戳和一个 pable 项目。

我需要所有项目，其中列“Finished == false”和最后生成的时间戳。

我当前的代码：

```
 var result = from p in _contextProvider.Context.Projects
                     join t in _contextProvider.Context.Timestamps on p.Guid equals t.GuidProject
                     where p.Finished == false
                     orderby t.End
                     select new { p.Name, t.End }; 
```

如何按项目创建“max(t.Enc) 组”？PS：抱歉我的标题不好，但我不知道我使用哪种语法:(

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:54:01.693

好的，这是一个棘手的问题。以下是您在 SQL 中的操作方法，并且相对容易：

```
SELECT *
FROM Projects p
JOIN Timestamps t ON p.Guid = t.GuidProject
WHERE p.Finshed = FALSE AND
 t.END = (
    SELECT max(t1.END)
    FROM Projects p1
    JOIN Timestamps t1 ON p1.Guid = t1.GuidProject
    WHERE p.Finshed = FALSE AND p.Guid = p1.Guid
 ) 
```

将其转换为 Linq 会比较棘手。这是我尝试过的，但我无法测试它。

```
 var baseQuery = _contextProvider.Context.Projects
                .Join(_contextProvider.Context.Timestamps, p => p.Guid, t => t.GuidProject, (p, t) => new {p, t})
                .Where(o => o.p.Finished == false);

        var result = baseQuery.Select
            .Where(o => o.t.End == baseQuery
                            .Where(o2 => o2.p == o.p)
                            .Select(o2 => o2.t.End)
                            .Max()
                   ).Select( o => new {o.p.Name, o.t.End} ); 
```

可能是我把它复杂了一点，它可以用 来实现`group by`，试试这样的：

```
 var result = (from p in _contextProvider.Context.Projects
                      join t in _contextProvider.Context.Timestamps on p.Guid equals t.GuidProject
                      where p.Finished == false
                      group t.End by p.Name into g
                      select new { name=g.Key, end=g.Max()} ); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T08:55:34.893

对于一个快速而肮脏的解决方案，您可以尝试按 t.End 降序排序，然后只取顶部的 1/first-or-default 结果。

# tridion - 使用 WebDav 的 Dreamweaver 的任何开源替代方案？

> ID：14975625
> 
> 赞同：5
> 
> 时间：2013-02-20T08:51:02.080
> 
> 标签：tridion, webdav, tridion2009

我们想使用 WebDav 来处理我们的模板，但我们不能使用 Dreamweaver。有什么建议么？

谢谢，

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-02-20T09:25:53.063

任何文本编辑器都应该在这里完成工作 - 我推荐[Sublime Text 2](http://www.sublimetext.com/2)或[Notepad++](http://notepad-plus-plus.org/)

只要您将 WebDav 路径映射为网络驱动器，您就可以开始使用了。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-02-20T10:35:16.903

我建议查看 OxygenXML 编辑器。它不是开源的，但它相对便宜，并且有很好的 HTML、css 等支持，并且内置了对 webdav 的支持。我发现依赖 OS webdav 安装的编辑器不如它内置在应用程序中时那么好。

# javascript - 可以在 javascript 中单独声明和定义函数（以创建 firefox 扩展）吗？

> ID：14975630
> 
> 赞同：2
> 
> 时间：2013-02-20T08:51:17.013
> 
> 标签：javascript, namespaces, firefox-addon

我是一名熟练的 C/C++ 程序员，必须在 javascript 中实现 firefox 扩展（一种对我来说非常不愉快且不直观的语言）。我有扩展基础工作，但现在我需要将所有全局变量和函数放入一个命名空间中，以确保我的变量名或函数名都不会与任何过去/现在/未来的全局/窗口对象中可能存在的名称冲突，或在另一个扩展中。

用我的全局变量创建一个命名空间对象似乎很简单，而且很有效。

我无法理解的是如何将我的函数声明放入命名空间对象中，然后在命名空间对象声明下实现所有这些函数。这可以通过一些相当干净的语法来完成......类似于以下内容？

```
//
// declare namespace
//
var mynamespace = {
  varname00: value,
  varname01: value,
  varname02: value,
  function: funcname00(),
  function: funcname01(number),
  function: funcname02(number, string),
};
//
// define functions
//
mynamespace.funcname00() {
  return (23);
}

mynamespace.funcname01(number) {
  return (number * number);
}

mynamespace.funcname02(number, string) {
  econsole.logStringMessage("funcname02() : " + string + number);
  return (number);
} 
```

注意：我的目标不是变得棘手或先进——恰恰相反！我正在寻找一种对 C 程序员尽可能直观的技术！因此，我更喜欢：

1：在顶部创建一个命名空间对象的小声明，只声明变量和函数。

2：实现全局命名空间对象之外的功能。

完全被 javascript 语法规则弄糊涂了，我猜 javascript 可能会让我在命名空间对象声明中插入所有函数定义/实现。这对我来说是粗俗和丑陋的，但如果这是唯一可行的方法，我将不得不忍受它。但是（对我个人而言）有一个如此巨大的块包含“一切”是非常恶心的，所以如果可能的话，我宁愿避免这种情况。

注意：这不是征求关于程序风格的意见——恰恰相反。我只想知道与我在上面的示例中展示的传统 C 语法/布局最接近的 javascript 语法实际上是什么。如果最接近我的示例的 javascript 语法/布局在某种程度上慢、效率低或功能有问题，我愿意接受有关执行效率的评论。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T09:12:32.157

最接近您想要实现的语法是将函数成员初始化为`null`您的命名空间对象：

```
var mynamespace = {
    varname00: value,
    varname01: value,
    varname02: value,
    funcname00: null,
    funcname01: null,
    funcname02: null
}; 
```

然后将函数表达式分配给这些成员，例如：

```
mynamespace.funcname02 = function(num, str) {
    econsole.logStringMessage("funcname02() : " + str + num);
    return num;
}; 
```

请记住，这些函数不会被提升，这意味着它们不能被位于命名空间声明及其实现之间的代码调用。

直接在命名空间中定义函数是 Javascript 中的常见风格：

```
var mynamespace = {
    varname00: value,
    varname01: value,
    varname02: value,
    funcname02: function(num, str) {
        econsole.logStringMessage("funcname02() : " + str + num);
        return num;
    }
}; 
```

# c++ - 加入和终止 Windows 线程

> ID：14975631
> 
> 赞同：1
> 
> 时间：2013-02-20T08:51:25.810
> 
> 标签：c++, windows, multithreading, winapi, handle

我正在尝试使用 Windows 线程创建一个线程，如下所示：

```
HANDLE hUSBPollThread = CreateThread(
            NULL,
            NULL,
            USBCan::CreateUSBPollLoop,
            (LPVOID) this,
            0,
            &outThreadID); 
```

但是我找不到从线程外部加入或终止线程的任何函数。谁能指出我正确的方向？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T08:56:00.827

如果你在外部终止线程，你怎么能确定没有资源泄漏，没有同步对象被锁定？是的，你可以杀死线程，[`TerminateThread`](http://msdn.microsoft.com/en-us/library/windows/desktop/ms686717%28v=vs.85%29.aspx)但你不应该这样做。

相反，您要做的是：您发出要终止线程操作的内部事件，并且线程 proc 最终会注意到此请求并返回/退出关闭线程活动。

# jenkins - 我在配置页面中找不到“限制此项目可以在哪里运行”

> ID：14975632
> 
> 赞同：20
> 
> 时间：2013-02-20T08:51:27.540
> 
> 标签：jenkins, hudson, jenkins-plugins, hudson-plugins

我使用 Jenkins，在配置页面中找不到“限制此项目可以在哪里运行”，我应该添加一些插件吗？哪一个？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-02-20T09:25:55.653

这是因为您尚未在 Jenkins 设置中添加任何新节点。到那时，master（你安装了 Jenkins 的地方）是唯一可以运行作业的可用机器。所以没有必要问作业需要限制在哪里运行。

检查[此链接](https://wiki.jenkins-ci.org/display/JENKINS/Step+by+step+guide+to+set+up+master+and+slave+machines)以了解如何将新节点添加到您的 jenkins 设置中。添加新节点后，您将看到“限制此项目可以运行的位置”选项。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2014-05-28T08:28:19.997

这是因为您没有向主节点添加任何**标签**（如果您没有从节点）。

这有点奇怪，因为您还可以使用节点名称（即“master”）来限制执行程序节点，而不仅仅是标签，并且您可能希望在添加更多从属节点之前执行此操作。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2020-10-12T07:00:39.797

“限制此项目可以运行的位置”仅适用于 Freestyle 和其他经典项目类型，对于 Pipeline，您应该在 Pipeline 定义中使用 node(label) 步骤

# asp.net-mvc - global.asax Application_AcquireRequestState 与 Application_BeginRequest

> ID：14975634
> 
> 赞同：11
> 
> 时间：2013-02-20T08:51:32.410
> 
> 标签：asp.net-mvc, asp.net-mvc-4

有什么区别？我想在我的应用程序中实现语言下拉选择。So when a selected language is selected, a Thread culture would be set and page reloaded.

像这样：

```
Thread.CurrentThread.CurrentCulture = CultureInfo.CreateSpecificCulture("en-US"); 
```

上面的设置应该在哪里处理？Application_AcquireRequestState 还是 Application_BeginRequest？

谢谢

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-11T12:25:22.310

这取决于您在请求中保存语言的方式。如果您使用会话来保存您选择的语言，您应该使用`Application_AcquireRequestState`，因为在生命周期的早期，会话状态对象`Application_BeginRequest`此时*可能**还不可用*。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-03-04T17:43:17.187

Application_BeginRequest 发生在生命周期的早期，并且是“通常”的地方。

[http://msdn.microsoft.com/en-us/library/ms178473%28v=VS.100%29.aspx](http://msdn.microsoft.com/en-us/library/ms178473%28v=VS.100%29.aspx)

# java - 如何在 Spring MVC 中正确初始化数据库？

> ID：14975636
> 
> 赞同：2
> 
> 时间：2013-02-20T08:51:44.730
> 
> 标签：java, spring-mvc, jdbc, utf-8, spring-jdbc

我想在应用程序启动时初始化数据库。在 root-context.xml 我添加了这个 jdbc:initialize-database

```
<jdbc:initialize-database data-source="dataSource">
    <jdbc:script location="/WEB-INF/import.sql" />
</jdbc:initialize-database> 
```

我的数据源

```
 <bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource"
        destroy-method="close">
        <property name="driverClassName" value="${jdbc.driverClassName}" />
        <property name="url" value="${jdbc.url}" />
        <property name="username" value="${jdbc.username}" />
        <property name="password" value="${jdbc.password}" />

    </bean> 
```

和 jdbc.properties

```
jdbc.driverClassName=org.postgresql.Driver
jdbc.username=postgres
jdbc.password=z123456z
jdbc.url=jdbc:postgresql://127.0.0.1:5432/answer?charSet=UTF8 
```

我使用 PostgreSQL 9.2。在数据库中，我有“РЎС‚СЂСѓРєС‚СѓСЂР°РґР°РЅРёС…”而不是“Алгоритм”。

如何正确指定此选项并解决问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-06-03T09:30:40.667

你应该使用以下：

```
<jdbc:initialize-database data-source="dataSource">
    <jdbc:script location="/WEB-INF/import.sql" encoding="UTF-8" />
</jdbc:initialize-database> 
```

# eclipse - rcpp eclipse里面的windows r

> ID：14975638
> 
> 赞同：1
> 
> 时间：2013-02-20T08:51:45.030
> 
> 标签：eclipse, r, rcpp, rinside

我正在尝试在 IDE Eclipse 中使用 Rinside。按照手册一步一步来

[http://blog.fellstat.com/?p=170](http://blog.fellstat.com/?p=170)

但是，当您构建全部时，我标记以下错误

```
C:/R/R-2.15.2/library/Rcpp/include/Rcpp/string.h:55:17: error: 'internal' does not name a type
C:/R/R-2.15.2/library/Rcpp/include/Rcpp/string.h:68:21: error: expected ')' before 'charsxp'
C:/R/R-2.15.2/library/Rcpp/include/Rcpp/string.h:73:23: error: 'StringProxy' does not name a type
C:/R/R-2.15.2/library/Rcpp/include/Rcpp/string.h:73:36: error: ISO C++ forbids declaration of 'proxy' with no type [-fpermissive]
C:/R/R-2.15.2/library/Rcpp/include/Rcpp/string.h:92:23: error: expected ')' before 'x'
C:/R/R-2.15.2/library/Rcpp/include/Rcpp/string.h:97:35: error: declaration of 'operator=' as non-function
C:/R/R-2.15.2/library/Rcpp/include/Rcpp/string.h:97:32: error: expected ';' at end of member declaration
C:/R/R-2.15.2/library/Rcpp/include/Rcpp/string.h:97:41: error: expected ')' before 'x'
C:/R/R-2.15.2/library/Rcpp/include/Rcpp/string.h:100:35: error: declaration of 'operator=' as non-function
C:/R/R-2.15.2/library/Rcpp/include/Rcpp/string.h:100:32: error: expected ';' at end of member declaration
C:/R/R-2.15.2/library/Rcpp/include/Rcpp/string.h:100:40: error: expected ')' before 'x'
C:/R/R-2.15.2/library/Rcpp/include/Rcpp/string.h:103:41: error: 'StringProxy' does not name a type
C:/R/R-2.15.2/library/Rcpp/include/Rcpp/string.h:103:54: error: ISO C++ forbids declaration of 'proxy' with no type [-fpermissive]
C:/R/R-2.15.2/library/Rcpp/include/Rcpp/string.h:125:42: error: 'StringProxy' does not name a type
C:/R/R-2.15.2/library/Rcpp/include/Rcpp/string.h:125:55: error: ISO C++ forbids declaration of 'proxy' with no type [-fpermissive]
C:/R/R-2.15.2/library/Rcpp/include/Rcpp/string.h:133:36: error: declaration of 'operator+=' as non-function
C:/R/R-2.15.2/library/Rcpp/include/Rcpp/string.h:133:32: error: expected ';' at end of member declaration
C:/R/R-2.15.2/library/Rcpp/include/Rcpp/string.h:133:41: error: expected ')' before 'x'
In file included from c:\r\rtools\gcc-4.6.3\bin\../lib/gcc/i686-w64-mingw32/4.6.3/../../../../include/c++/4.6.3/cwchar:46:0,
                 from c:\r\rtools\gcc-4.6.3\bin\../lib/gcc/i686-w64-mingw32/4.6.3/../../../../include/c++/4.6.3/bits/postypes.h:42,
                 from c:\r\rtools\gcc-4.6.3\bin\../lib/gcc/i686-w64-mingw32/4.6.3/../../../../include/c++/4.6.3/iosfwd:42,
                 from c:\r\rtools\gcc-4.6.3\bin\../lib/gcc/i686-w64-mingw32/4.6.3/../../../../include/c++/4.6.3/ios:39,
                 from c:\r\rtools\gcc-4.6.3\bin\../lib/gcc/i686-w64-mingw32/4.6.3/../../../../include/c++/4.6.3/ostream:40,
                     from c:\r\rtools\gcc-4.6.3\bin\../lib/gcc/i686-w64-    mingw32/4.6.3/../../../../include/c++/4.6.3/iterator:64,
             from C:/R/R-2.15.2/library/Rcpp/include/RcppCommon.h:57,
             from C:/R/R-2.15.2/library/Rcpp/include/Rcpp.h:27,
             from ../src/main.cpp:12:
    c:\r\rtools\gcc-4.6.3\bin\../lib/gcc/i686-w64-mingw32/4.6.3/../../../../i686-w64-    mingw32/include/wchar.h:12:32: error: expected '}' before end of line
In file included from C:/R/R-2.15.2/include/R_ext/RS.h:26:0,
             from C:/R/R-2.15.2/include/R.h:44,
             from C:/R/R-2.15.2/library/Rcpp/include/RcppCommon.h:32,
             from C:/R/R-2.15.2/library/Rcpp/include/Rcpp.h:27,
             from ../src/main.cpp:12: 
```

错误列表继续

有人帮助我，真的我做了一切，没有任何帮助。

谢谢

# mingw - 使用 mingw-w64 交叉编译 gmp：内联和多个定义

> ID：14975639
> 
> 赞同：3
> 
> 时间：2013-02-20T08:51:45.543
> 
> 标签：mingw, gmp, libtool, mingw-w64, gnutls

我正在尝试使用 gnutls 支持交叉编译 VLC（从 linux 到 windows），而 gnutls 支持又使用 libgmp。我得到了 libgmp (___gmpz_abs) 中符号的多个定义的链接错误，例如，在无数其他符号中。我又将其追溯到 libgnutls.a 具有相同符号的多个定义，因为*gnutls*中的目标文件每个都有自己的*gmp*函数定义。多重定义的函数是 libgmp 试图通过内联做一些棘手的事情的函数。

据我所知，不同编译器、标准和平台之间的内联存在很多差异。似乎 libgmp 正在尝试使用宏来正确处理这一切，但失败了。最终结果是 gmp.h 中定义的内联函数被复制到使用它的 gnutls 中的每个目标文件中。我查看了调用 mingw 以创建这些目标文件的实际编译器命令行，我看不出它有什么问题：

```
libtool: compile:  i686-w64-mingw32-gcc -std=gnu99 -DHAVE_CONFIG_H -I. -I../.. -I./../../gl -I./../../gl -I./../includes -I./../includes -I./../../gl -I./.. -I./../minitasn1 -I/home/jeremy/vlc/contrib/i686-w64-mingw32/include -I/home/jeremy/vlc/contrib/i686-w64-mingw32/include -g -c mpi.c -o mpi.o 
```

特别是 -std=gnu99 被建议作为在线其他地方类似问题的解决方案，但显然这已经默认使用。

不清楚这是谁的错，mingw 的 libtool 的 gnutls 的还是 gmp 的

我需要回答的问题是：我需要使用哪些标志或选项来配置或制作 gnutls，以便正确处理内联函数定义？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-04T17:43:01.857

这些函数应该是内联的，但是您似乎已经在禁用优化的情况下构建了库，因此没有内联。

编译（和链接）时使用 -O2 重试。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-05T09:13:23.140

我不能给你一个肯定的答案，但也许这对你有一些帮助来自 GCC 手册......

> 请注意，函数定义中的某些用法可能使其不适合内联替换。这些用法包​​括：可变参数函数、alloca 的使用、可变长度数据类型的使用（请参阅可变长度）、计算 goto 的使用（请参阅作为值的标签）、非局部 goto 的使用和嵌套函数（请参阅嵌套函数）。*当标记为 inline 的函数不能被替换时*，使用**-Winline 会** 发出警告，并给出失败的原因。

 *无论如何，值得一读关于内联函数的部分

[http://gcc.gnu.org/onlinedocs/gcc/Inline.html](http://gcc.gnu.org/onlinedocs/gcc/Inline.html)*

# mercurial - Mercurial-Bugzilla-Hook 只工作一次

> ID：14975644
> 
> 赞同：0
> 
> 时间：2013-02-20T08:52:07.047
> 
> 标签：mercurial, hook, bugzilla

为了集成我们的 Mercurial 存储库和我们的错误跟踪器（Bugzilla 4.0.1），我设置了服务器端*hgrc*文件，如下所示：

```
[extensions]
hgext.bugzilla=

[hooks]
incoming.bugzilla=python:hgext.bugzilla.hook

[bugzilla]
bzurl=http://localhost/bugzilla
user=some.user@this.domain
password=password
version=xmlrpc
hgweb=http://this-server:65432/
template=Changeset {node|short} in {root|basename}.\nDetails siehe {hgweb}{webroot}?cmd=changeset;node={node|short}\nBeschreibung:\n\t{desc|tabindent}

[usermap]
committer_email=bugzilla_user_name

[web]
push_ssl=False
allow_push=*
baseurl=http://this-server:65432 
```

Mercurial 设置为在*this-server*的端口*65432*上提供服务。

现在，在开始之后`hg serve`，第一次推送将被处理得很好。在提交消息中发现的所有错误引用都将生成 Bugzilla 注释。但是在每次出现至少一个错误引用的后续推送中，都会向用户显示以下错误消息：

```
pushing to http://this-server:65432/
searching for changes
remote: adding changesets
remote: adding manifests
remote: adding file changes
remote: added 1 changesets with 1 changes to 1 files
remote: error: incoming.bugzilla hook failed: Bugzilla error: 
```

曾多次观察到此消息：

```
remote: error: incoming.bugzilla hook failed: Bugzilla error: [Errno 54] Connection reset by peer 
```

在 bugzilla 中不创建任何评论。重新启动*hg*将使其再次正常工作。

我还尝试使用参数启动 Mercurial 服务器，`-A ... -E ...`以使其创建访问和错误日​​志。访问日志显示每个请求的相同类型的交互，无论成功与否：

```
192.168.117.78 - - [20/Feb/2013 10:19:03] "GET /?cmd=capabilities HTTP/1.1" 200 -
192.168.117.78 - - [20/Feb/2013 10:19:03] "GET /?cmd=batch HTTP/1.1" 200 - x-hgarg-1:cmds=heads+%3Bknown+nodes%3Dc3ee38280c255a62c2742304622d8fcf29959863+b8cbc9948834a83b9a8f6dd9f1b96d5f39224324+54f5e40379910d6026b8656fe0982bb5b7e9e22b
192.168.117.78 - - [20/Feb/2013 10:19:03] "GET /?cmd=branchmap HTTP/1.1" 200 -
192.168.117.78 - - [20/Feb/2013 10:19:03] "GET /?cmd=branchmap HTTP/1.1" 200 -
192.168.117.78 - - [20/Feb/2013 10:19:04] "GET /?cmd=listkeys HTTP/1.1" 200 - x-hgarg-1:namespace=bookmarks
192.168.117.78 - - [20/Feb/2013 10:19:09] "POST /?cmd=unbundle HTTP/1.1" 200 - x-hgarg-1:heads=686173686564+be8d19f7ab04e73ad36715ec876b4dd74384a920
192.168.117.78 - - [20/Feb/2013 10:19:09] "GET /?cmd=listkeys HTTP/1.1" 200 - x-hgarg-1:namespace=phases
192.168.117.78 - - [20/Feb/2013 10:19:09] "POST /?cmd=pushkey HTTP/1.1" 200 - x-hgarg-1:key=54f5e40379910d6026b8656fe0982bb5b7e9e22b&namespace=phases&new=0&old=1
192.168.117.78 - - [20/Feb/2013 10:19:10] "GET /?cmd=listkeys HTTP/1.1" 200 - x-hgarg-1:namespace=bookmarks
192.168.117.78 - - [20/Feb/2013 10:20:04] "GET /?cmd=capabilities HTTP/1.1" 200 -
192.168.117.78 - - [20/Feb/2013 10:20:05] "GET /?cmd=batch HTTP/1.1" 200 - x-hgarg-1:cmds=heads+%3Bknown+nodes%3Dc3ee38280c255a62c2742304622d8fcf29959863+b8cbc9948834a83b9a8f6dd9f1b96d5f39224324+7fbb4c09e39db549ed01532785e80eda480e8862
192.168.117.78 - - [20/Feb/2013 10:20:05] "GET /?cmd=branchmap HTTP/1.1" 200 -
192.168.117.78 - - [20/Feb/2013 10:20:05] "GET /?cmd=branchmap HTTP/1.1" 200 -
192.168.117.78 - - [20/Feb/2013 10:20:05] "GET /?cmd=listkeys HTTP/1.1" 200 - x-hgarg-1:namespace=bookmarks
192.168.117.78 - - [20/Feb/2013 10:20:05] "POST /?cmd=unbundle HTTP/1.1" 200 - x-hgarg-1:heads=686173686564+f71bb72e20c8f91b9d0ca3b5fbdef2aac667c265
192.168.117.78 - - [20/Feb/2013 10:20:05] "GET /?cmd=listkeys HTTP/1.1" 200 - x-hgarg-1:namespace=phases
192.168.117.78 - - [20/Feb/2013 10:20:06] "POST /?cmd=pushkey HTTP/1.1" 200 - x-hgarg-1:key=7fbb4c09e39db549ed01532785e80eda480e8862&namespace=phases&new=0&old=1
192.168.117.78 - - [20/Feb/2013 10:20:06] "GET /?cmd=listkeys HTTP/1.1" 200 - x-hgarg-1:namespace=bookmarks 
```

错误日志为空。

如何进一步诊断此问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T04:05:15.787

该`hg serve`调用不适合长期使用。这是为了“嘿，克隆我开始的这个东西”在局域网上的好友之间。来自[Mercurial 维基](http://mercurial.selenic.com/wiki/PublishingRepositories#Quick_recommendations)

> 除非您需要在几分钟内发布存储库的临时情况，例如从笔记本电脑中提取更改，否则不建议这样做。

我怀疑如果你启动一个真正的 wsgi 容器，一切都会奏效。我没有使用 bugzilla 钩子，但我猜它不会自行清理，因为它预计会在 wsgi 容器或命令行调用中被清除。

# wordpress - 如何按 Wordpress 中的特殊类别过滤“edit-comments.php”中的评论？

> ID：14975647
> 
> 赞同：0
> 
> 时间：2013-02-20T08:52:07.820
> 
> 标签：wordpress, filter

如何通过 Wordpress 中的特殊帖子类别过滤“edit-comments.php”中的评论。

```
add_action('pre_get_comments', 'filt_comm');

function filt_comm($query) {
 $query->query_vars['??'] = ??;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T11:23:02.300

如果只想在某些类别中对 edit-comments.php 做一些事情，你可以试试这个

```
<?php
   $category = get_the_category(); 
   if($category[0]->cat_name == 'category name') {
       //Do something here;
   }
?> 
```

# itext - 在哪里可以找到 itext.dtd？

> ID：14975648
> 
> 赞同：0
> 
> 时间：2013-02-20T08:52:12.990
> 
> 标签：itext, dtd

我们在所有 XML 文件中都使用[http://www.ujihara.jp/iTextdotNET/itext.dtd](http://www.ujihara.jp/iTextdotNET/itext.dtd)作为我们`DOCTYPE`的所有 XML 文件，这实际上是一种不好的做法。我们不知道它，直到我们的 PDF 生成失败，因为该站点由于某种原因关闭了。

* * *

关于在哪里可以找到相同的 dtd 文件的任何建议？我们需要下载并在本地托管它。尝试了谷歌搜索缓存，但找不到 dtd 文件。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T20:59:22.360

好的，我浏览了我的档案（你给了我很多工作），我找到了 itext.dtd 的一个版本

我把它放在这里： http: [//lowagie.com/itext.dtd](http://lowagie.com/itext.dtd)

如果需要，请下载并使用它。我在 10 多年前写过这个 DTD，坦率地说：这不是我最好的作品。我不知道你为什么还要使用它。

**一旦我看到您接受此消息，我将假定您已下载 DTD，我会将其从 lowagie.com 中删除。**

更新：该文件已从 lowagie.com 中删除。

# jquery - 如何使用来自 servlet 的 JSON 对象将数据数组传递到网页

> ID：14975652
> 
> 赞同：1
> 
> 时间：2013-02-20T08:52:18.320
> 
> 标签：jquery, json, servlets

我正在尝试使用 JSON 对象将从数据库检索到的数据传递到网页。但我的问题是，

*   当数据库包含更多数据时，我需要传递数组中的值
*   当我传递数组中的值时。Jquery 将结果返回为`undefined`.

我的 Servlet 代码是：

```
 String message=request.getParameter("comm");
    int itemId=Integer.parseInt(request.getParameter("data-id"));
    int albumId=Integer.parseInt(request.getParameter("data-alid"));

    PrintWriter out = response.getWriter();
    response.setContentType("text/html");
    response.setHeader("Cache-control", "no-cache, no-store");
    response.setHeader("Pragma", "no-cache");
    response.setHeader("Expires", "-1");

    response.setHeader("Access-Control-Allow-Origin", "*");
    response.setHeader("Access-Control-Allow-Methods", "GET");
    response.setHeader("Access-Control-Allow-Headers", "Content-Type");
    response.setHeader("Access-Control-Max-Age", "86400");

    Gson gson = new Gson();
    JsonObject myObj = new JsonObject();

    ArrayList<Commenter> commentInfo;
    try {
        commentInfo = commenting(uname,message,itemId,albumId);
        java.lang.reflect.Type listOfTestObject = new TypeToken<ArrayList<Commenter>>(){}.getType();
        String str = gson.toJson(commentInfo, listOfTestObject); 
        JsonElement commentObj = gson.toJsonTree(str);
        boolean nonNullElemExist= true;
        for (Commenter s: commentInfo) {
            if (s == null) {
                nonNullElemExist = false;
                break;
            }
        }
    if(nonNullElemExist == false){
        myObj.addProperty("success", false);
    }
    else {
        myObj.addProperty("success", true);
    }
    myObj.add("commentInfo", commentObj);
    out.println(myObj.toString());

    out.close();
    } catch (ClassNotFoundException | SQLException e) {
        System.out.println( "Error --> " + displayErrorForWeb(e));
    }

}

private ArrayList<Commenter> commenting(String uname,String message,int itemId,int albumId) throws ClassNotFoundException, SQLException {
   ArrayList<Commenter> commentList = new ArrayList<Commenter>();
   Connection conn = null; 
   conn=prepareConnection();
   PreparedStatement stmt = null;    
   String sql = null;

    try {     
        StringBuilder sb1=new StringBuilder(1024);
        sb1.append("insert into ").append(uname.trim()).append("comments values(?,?,?)");
        String sql1=sb1.toString();
        PreparedStatement stmt1 = conn.prepareStatement(sql1);
        stmt1.setString(1,uname);
        stmt1.setString(2,message);
        stmt1.setInt(3,itemId);
        stmt1.executeUpdate();

        StringBuilder sb=new StringBuilder(1024);
        sb.append("select * from ").append(uname.trim()).append("comments");
        sql=sb.toString();
        stmt = conn.prepareStatement(sql);
       ResultSet rs = stmt.executeQuery();

        while(rs.next()){
            Commenter comment = new Commenter();
            comment.setUname(rs.getString("uname").trim());
            comment.setComment(rs.getString("comment").trim());
            commentList.add(comment);
           }                                                                        

        rs.close();                                                              
        stmt.close();                                                            
        stmt = null;                                                             

        conn.close();                                                            
        conn = null;                                                  

    }                                                              
    catch(Exception e){System.out.println( "Error --> " + displayErrorForWeb(e));}                     

    finally {                                                      

        if (stmt != null) {                                           
            try {                                                        
                stmt.close();                                               
            } catch (SQLException sqlex) {                               
                System.out.println( "Error --> " + displayErrorForWeb(sqlex));         
            }                                                            

            stmt = null;                                           
        }                                                       

        if (conn != null) {                                     
            try {                                                  
                conn.close();                                         
            } catch (SQLException sqlex) {                         
                System.out.println( "Error --> " + displayErrorForWeb(sqlex));
            }                                                      

            conn = null;                                           
        }                                                       
    }             

    return commentList;

} 
```

jquery是：

```
 $.ajax({
       type: "GET",
        url: "Comments",
        data:'comm='+encodeURIComponent(comm)+'&'+'data-id='+encodeURIComponent(dataid)+'&'+'data-alid='+encodeURIComponent(dataalid),
        dataType: "json",
        success: function( data, textStatus, jqXHR) 
        {
            if(data.success)
            {
       /*   $.each(data, function(i, item)
                     {*/

                    var newcommhtml = '<div id="c0'+thecid+'" class="cnew clearfix"> <section class="c-author">';
                    newcommhtml = newcommhtml + '<h3>Anonymous</h3>';
                    newcommhtml = newcommhtml + '<span class="pubdate">'+month+' '+day+', '+year+'</span> </section>';
                    newcommhtml = newcommhtml + '<section class="c-content">';
                    newcommhtml = newcommhtml + '<img src="images/green-avatar.png" alt="avatar" width="80" height="80" class="ava">';
                    newcommhtml = newcommhtml + '<p>'+nl2br(data.commentInfo.comment)+'   '+nl2br(data.commentInfo.itemId)+'</p> </section></div>';
                    /*newcommhtml = newcommhtml + '<p>'+nl2br(item.commentInfo.comment)+'   '+nl2br(item.commentInfo.itemId)+'</p> </section></div>';
                    });
                    */                  
                    var thelm = "#c0"+thecid;
                    commwrap.append(newcommhtml);
                    $(thelm).hide().fadeIn('slow');

                    setTimeout(function() { $(thelm).addClass('green'); }, 800);

                    $("#comm").val("");
                    thecid++;

                    if(errorspan.html() != null) {
                        errorspan.remove();
                    }
            }

          },
     error: function(jqXHR, textStatus, errorThrown)
      {
         alert("error"+errorThrown);
         console.log("Something really bad happened " + textStatus);
      },
}); 
```

如果我使用`$each()` `success`块根本不起作用。

请任何人帮助我解决这个问题....谢谢.......

# winforms - 窗口应用程序中的 Web 浏览器控件

> ID：14975654
> 
> 赞同：0
> 
> 时间：2013-02-20T08:52:31.617
> 
> 标签：winforms

您好，我正在使用此代码：

```
 private void Form1_Load(object sender, EventArgs e)
    {
        webBrowser1.Navigate("about:blank");

        HtmlDocument doc = webBrowser1.Document;
        doc.Write("<b><i>My Name</i> is Not </b> Khan.<b><i>My Name</i> is Not </b> Khan.<b><i>My Name</i> is Not </b> Khan.<b><i>My Name</i> is Not </b> Khan.");
    }
    private void button1_Click(object sender, EventArgs e)
    {
        webBrowser1.Navigate("about:blank");
        HtmlDocument doc = webBrowser1.Document;
        doc.Write("<b><i>My Name</i> is Not </b> Khan.<b>");
    } 
```

但是当我点击按钮时，webBrowser1 显示为空白。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T14:21:25.817

试试下面的代码：

```
 private void Form1_Load(object sender, EventArgs e)
    {
        string strText = "<b><i>My Name</i> is Not </b> Khan.<b><i>My Name</i> is Not </b> Khan.<b><i>My Name</i> is Not </b> Khan.<b><i>My Name</i> is Not </b> Khan.";
        webBrowser1.Navigate("about:blank");
        HtmlDocument objHtmlDoc = this.webBrowser1.Document;
        objHtmlDoc.Write(String.Empty);
        webBrowser1.DocumentText = strText;
    }
    private void button1_Click(object sender, EventArgs e)
    {
        string strText="<b><i>My Name</i> is Not </b> Khan.<b>";
        webBrowser1.Navigate("about:blank");
        HtmlDocument objHtmlDoc = this.webBrowser1.Document;
        objHtmlDoc.Write(String.Empty);
        webBrowser1.DocumentText = strText;
    } 
```

# iphone - 这个控件在 UIKit 中可用吗？

> ID：14975658
> 
> 赞同：1
> 
> 时间：2013-02-20T08:52:42.750
> 
> 标签：iphone, ios, uikit

我想创建一些看起来像“选择|全选|粘贴”的控件

![在此处输入图像描述](../Images/2fcb85d397355b87950fb1741a56bdd4.png)

我想要在点击按钮时弹出控件。

这个控件是在 UIKit 中实现的吗？如何创建一个？

特别感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:03:16.400

这是`UIMenuController`. 使用起来有点奇怪，见[GitHub 上的示例代码](https://github.com/zoul/UILabel-Clipboard-Sample)。如果您正在使用通用弹出框控件，则可以通过[许多第三方库](https://stackoverflow.com/questions/11547969/how-to-create-popover-in-iphone-app)或自定义子类在 iPad`UIPopoverController`上和较小的设备上使用。`UIView`

# c++ - linux系统上\r的含义

> ID：14975661
> 
> 赞同：4
> 
> 时间：2013-02-20T08:53:02.657
> 
> 标签：c++, linux, bash, terminal, vt100

我正在查看一些输出以下内容的特定于 linux 的代码：

```
\r\x1b[J> 
```

到std io。

我知道这`<ESC>[J`代表从当前行向下删除屏幕内容，但是 \r 在这里做什么？

我还看到以下内容：

```
>user_input\n\r> 
```

其中 user_input 是用户输入的文本。但是这里的 \r 的目的是什么？

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-20T08:55:59.810

字符`'\r'`是*回车*。它将光标返回到行首。

它通常在 Internet 协议中与换行符 ( `'\n'`) 结合使用以标记行尾（大多数标准将其指定为`"\r\n"`，但有些允许错误的方式）。在 Windows 上，回车换行对也用作行尾。在旧的 Macintosh 操作系统（OSX 之前）上，使用单个回车而不是换行符作为换行符，而 UNIX 和类 UNIX 系统（如 Linux 和 OSX）使用单个换行符。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T08:55:37.730

控制字符`\r`将插入符号（又名文本光标）移动到当前行中的最左侧位置。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-20T08:56:26.503

来自[维基百科](http://en.wikipedia.org/wiki/Newline)

> 基于 ASCII 或兼容字符集的系统单独使用 LF（换行，'\n'，0x0A，十进制的 10）或 CR（回车，'\r'，0x0D，十进制的 13），或 CR 后跟LF (CR+LF, '\r\n', 0x0D0A)。这些字符是基于打印机命令的：换行表示一行纸应该从打印机中送出，因此指示打印机将纸张前进一行，回车表示打印机回车应该返回到打印机的开头。当前行。一些罕见的系统，例如版本 4 之前的 QNX，使用 ASCII RS（记录分隔符，0x1E，十进制的 30）字符作为换行符。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T08:56:26.767

`\r`是回车。同样`\n`是换行。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-20T13:10:10.317

FWIW - 这是回车控制的一部分 - 从大型机控制字到 Windows/UNIX/FORTRAN 回车控制。托架控制可以像 FORTRAN 那样在语言级别实现，也可以像 UNIX 和 Windows 那样在系统范围内实现。

`\n`源于早期 PDP 用户“接口”——tty 终端的限制。想看的话就去博物馆。

很简单的一点：\n\r 的区别上面已经解释过了。但是所有这些解释实际上都是在说回车控制是依赖于实现的。

这`[J` 是 ANSI 转义序列的一部分，以及它们在“符合标准的 tty 终端”上所做的事情。DOS 曾经让 ANSI.SYS 提供：颜色、下划线、使用这些序列的粗体。

```
http://ascii-table.com/ansi-escape-sequences.php 
```

是一个很好的问题参考：`what does some odd looking string in the output do?`

# php - 在数组中显示和链接信息

> ID：14975665
> 
> 赞同：0
> 
> 时间：2013-02-20T08:53:37.803
> 
> 标签：php

我正在使用以下脚本从 Google Suggestions 中提取信息：

```
<?php
function getKeywordSuggestionsFromGoogle($keyword) {
    $keywords = array();
    $data = file_get_contents('http://suggestqueries.google.com/complete/search?output=firefox&client=firefox&hl=en-US&q='.urlencode($keyword));
    if (($data = json_decode($data, true)) !== null) {
        $keywords = $data[1];
    }

    return $keywords;
}

var_dump(getKeywordSuggestionsFromGoogle('business'));
?> 
```

这是在浏览器中访问 PHP 文件时显示的内容：

```
array(10) { [0]=> string(14) "business cards" [1]=> string(22) "business letter format" [2]=> string(16) "business insider" [3]=> string(15) "business casual" [4]=> string(13) "business plan" [5]=> string(22) "business plan template" [6]=> string(13) "business week" [7]=> string(14) "business ideas" [8]=> string(17) "business for sale" [9]=> string(8) "business" } 
```

我需要弄清楚如何做两件事：

1.  在我的网页上正确显示信息，使其看起来像这样：

    名片、商务信函格式等

2.  我需要像这样链接到我的域的每个关键字：

    [名片](http://www.mysite.com/keywords/business-cards)、[商务信函格式](http://www.mysite.com/keywords/business-letter-format)等

任何帮助将不胜感激！谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T08:57:39.350

像这样试试......

```
<?php
function getKeywordSuggestionsFromGoogle($keyword) {
    $keywords = array();
    $data = file_get_contents('http://suggestqueries.google.com/complete/search?output=firefox&client=firefox&hl=en-US&q='.urlencode($keyword));

    if (($data = json_decode($data, true)) !== null) {
        $keywords = $data[1];
    }

    return $keywords;
}

$result = getKeywordSuggestionsFromGoogle('business');

foreach($result as $key => $r)

  {

     echo '<a href = "http://www.mysite.com/keywords/'. $r.'">'. $r .'</a>';

   }
 ?> 
```

如果你想参考一些链接，你可以把它`echo $r`放在中间`<a href="#"><?php echo $r ?></a>`

# c# - 适用于 Windows Mobile 的 .Net 网络浏览器

> ID：14975666
> 
> 赞同：0
> 
> 时间：2013-02-20T08:53:41.503
> 
> 标签：c#, java, visual-studio, mobile, browser

我想开始移动开发。

我已经对如何在 VS2008 中为 windows mobile 6.5 和 Windows CE 创建自己的 web 浏览器进行了很多研究，但我只能通过使用 silverlight 到处找到 WM 7。这些设备是否支持 Silverlight，并允许我使用 Visual Studio 2008 创建 Web 浏览器？

甚至可能吗？或者哪个可以是更好的方法？

* * *

我也有一些java脚本，我想用什么。据我所知，如果浏览器支持java，是可以运行的，但是如果我创建自己的浏览器呢？我可以使用这些脚本吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:05:14.307

从 .NET Compact Framework 中查找 WebBrowser 控件。

哦，java和javascript是两个不同的东西。

# javascript - 如何使用 jquery 将事件附加到新添加的锚点

> ID：14975669
> 
> 赞同：2
> 
> 时间：2013-02-20T08:53:59.793
> 
> 标签：javascript, jquery

*我试图在#foo 锚标记之后为新添加的锚标记（.he）附加一个点击事件。但是点击事件没有发生。我用过（.on）。你们能帮我吗？**

```
 <!DOCTYPE html>
        <html>
        <head>
        <title>Attaching event</title>
       <style>p { background:yellow; margin:6px 0; }</style>
       <script src="js/jquery.js"></script>
        </head>
    <body>
    <p>Hello</p>
    how are
    <p>you?</p>

    <button>Call remove() on paragraphs</button>

    <a id="foo" href="#" style="display:block">Testing the bind and unbind</a>

    <script>
        $("button").on('click',function () {

            $("#foo").after("<a class='he' href='#'>asdfasdf</a>");

        });
        $(".he").on('click', function(){
                alert("test");
        });     

    </script>
</body> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-20T08:54:50.377

您必须像这样委托给静态父元素

```
$(document).on('click','.he',function(){

//code here
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:02:38.750

您可以改为将 click 事件绑定到锚点，然后再将其附加到 DOM，如下所示：

```
 var $he = $("<a class='he' href='#'>asdfasdf</a>").on('click', function(){
                 alert("test");
            })
 $("#foo").after($he); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T09:03:06.077

您可以在将处理程序附加到文档之前直接将处理程序附加到锚点：

```
$("button").on('click',function () {
   $("<a class='he' href='#'>asdfasdf</a>")
      .on('click', function(){
         alert("test");
      })
      .insertAfter("#foo");
}); 
```

或在文档上绑定一个委托处理程序，该处理程序将捕获所有对锚点的点击，并将`he`其作为其类：

```
$(document).on('click', 'a.he', function() {
   alert("test");
});
$("button").on('click',function () {
   $("<a class='he' href='#'>asdfasdf</a>").insertAfter("#foo");
}); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T08:55:07.123

使用[事件委托](http://api.jquery.com/on/#direct-and-delegated-events)

```
$("body").on("click", ".he", function() {
    alert("test");
}); 
```

`body`您可以使用任何静态父元素代替`.he`.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-20T08:55:59.593

使用`.live`. 并且不要忘记添加您的代码内部 jquery clousure

```
<script>
    $(function(){
        $("button").on('click',function () {
            $("#foo").after("<a class='he' href='#'>asdfasdf</a>");
        });

        $(".he").live('click', function(){
            alert("test");
        });
    });
<script> 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-02-20T08:57:40.147

您必须将以下代码放入 $("button").click 块中。

```
 $(".he").on('click', function(){
                    alert("test");
            }); 
```

jsfiddle 的链接[http://jsfiddle.net/wbWLE/](http://jsfiddle.net/wbWLE/)

# wpf - 如何在我的窗口左侧创建一个有吸引力的自定义导航栏，如 wpf 中的 Web 应用程序中所见？

> ID：14975671
> 
> 赞同：0
> 
> 时间：2013-02-20T08:54:06.010
> 
> 标签：wpf, navigationbar

您好我正在尝试创建一个基于桌面的独立应用程序。我想创建一个自定义导航栏并将其放置在我的窗口左侧（即一半空间用于导航栏，另一半包含托管其他页面的框架元素）。谁能帮我这个？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:06:44.257

既然您使用的是 WPF，为什么不创建具有内置导航服务的 WPF XBAP 应用程序。

# c++ - 如果我想使用非标准的函数并且由于编译器特定的 API，我应该怎么做？

> ID：14975677
> 
> 赞同：3
> 
> 时间：2013-02-20T08:54:27.197
> 
> 标签：c++

我一直在使用非常非常古老的 Turbo C++ 3.0 编译器。

在使用这个编译器的过程中，我已经习惯了类似的函数`getch()`，`getche()`最重要的是`clrscr()`。

现在我已经开始使用 Visual C++ 2010 Express。这导致了很多问题，因为大多数这些函数（我现在发现了）都是非标准的，并且在 Visual C++ 中不可用。

我现在该怎么办？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T08:58:18.750

如果可能，请始终尝试避免使用它们或尝试使用它们的替代方法：

```
for getch() --- cin.get()
clrscr -- system("cls")    // try avoiding the system commands. check : [System][1] 
```

对于任何其他人，您可以搜索它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:56:03.950

真正的问题是你想要在全球范围内做什么。 `getch`并且`clrscr`从未便携过。如果您尝试在控制台窗口中创建掩码或菜单，您应该查看`curses`or `ncurses`：这些为此类事情提供了便携式解决方案。如果只是分页，您可能可以简单地输出大量`'\n'`(for `clrscr`) 和`std::cin.get()`for `getch`。（但请注意，这只会在用户输入新行后返回，并且只会读取该行的一个字符，将其余字符留在缓冲区中。绝对不是直接替换`getch`. 事实上， `std::getline`或者`std::cin::ignore`可能更好选择。）

## 编辑：

添加更多可能性：

首先，正如 Joachim Pileborg 在他的评论中所建议的那样，如果可移植性是一个问题，那么您正在尝试做的大部分事情可能都有特定于平台的功能。如果您所关心的只是 Windows（它可能是，因为`system( "cls" )`并且`getch()`在其他地方不起作用），那么他的评论可能是一个足够的答案。

其次，对于许多控制台（包括 xterm 和 Windows 下的控制台窗口），转义序列`"\x1b""2J"`应该清除屏幕。（请注意，您必须将其作为两个单独的字符串文字输入，否则，它将被解释为两个字符，第一个字符的十六进制值不可能为 0x1b2。）但是，不要忘记可能出现的重定向和刷新问题。

最后，如果您正在做任何重要的事情，您应该研究一下`curses`（或者`ncurses`，它们是同一件事，但具有不同的实现）。付诸行动需要付出更多努力（您需要显式初始化等），但它有一个`getch`功能可以完全满足您的需求，它还具有显式定位光标等功能，这也可能使您的代码更简单。（原版`curses`是为了支持`vi`UCB 的原版编辑器而开发的。任何没有在自己的窗口中开发的类似任务的编辑器都会从中受益匪浅。）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-23T09:48:18.267

出色地，

伙计们，我找到了一种可以在任何地方使用的最佳解决方案。

我只是用谷歌搜索了 clrscr() 和 gotoxy() 的定义，并创建了一个头文件并将这些定义添加到其中。因此，我可以包含这个文件并做我之前做的所有事情。

但是，我也有疑问。

windows.h 在定义中。假设我编译该文件并制作一个 exe 文件。那么我可以在linux机器上运行它吗？

在我看来，答案必须是肯定的。但是，如果我错了，请告诉我，并告诉我为什么我错了。

# java - ArrayListMultimap 与 LinkedListMultimap 有何不同？

> ID：14975681
> 
> 赞同：7
> 
> 时间：2013-02-20T08:54:42.360
> 
> 标签：java, guava

所以，我只是在阅读 javadoc`ArrayListMultimap`并`LinkedListMultimap`了解如何使用它们，我才知道两者都支持重复的键值对（我的意思是相同的键，不同的值 - 如果我理解正确的话。请更正如果我错了我）。但是，我不明白它们之间的区别。两者都用于存储重复的键值对。它们唯一不同的部分是它们的实现，即`ArrayListMultimap`实现为数组并`LinkedListMultimap`实现为 LinkedList？另外，它们在性能上有何不同？我知道我问了很多，但我真的不知道在哪里可以找到答案。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-02-20T09:17:49.273

它在文档中......和代码中。基本上除了您已经看到的一个差异（`List`实现选择）之外，它们还使用不同的`Map`实现。所以：

*   `ArrayListMultimap`用于`HashMap`map 和cor 集合，表示或`ArrayList`等方法的迭代顺序未定义。这是简单明了的实现，您应该从这个开始。`entries()``asMap().keySet()``asMap.entrySet()``ListMultimap`
*   `LinkedListMultimap`用于`LinkedList`集合和专用数据结构（自定义链表）以维护上述方法的迭代顺序：

    > 使用包含所有键值对的链表来维护顺序。此外，一系列不相交的“兄弟”链表，每个包含特定键的值，用于在恒定时间内实现*ValueForKeyIterator 。*

    此外，它使用很少的其他结构来维护类似“链表”的行为：

    ```
    private transient Node<K, V> head; // the head for all keys
    private transient Node<K, V> tail; // the tail for all keys
    private transient Multiset<K> keyCount; // the number of values for each key
    private transient Map<K, Node<K, V>> keyToKeyHead; // the head for a given key
    private transient Map<K, Node<K, V>> keyToKeyTail; // the tail for a given key 
    ```

此外，内存占用是这些`Multimap`实现中使用的支持集合的含义 -[请参阅此比较](https://github.com/DimitrisAndreou/memory-measurer/blob/master/ElementCostInDataStructures.txt)（可能不是 100% 最新的）。

* * *

就个人而言，当我需要高效、可变`ListMultimap`且具有已定义的键迭代顺序时，我使用“自定义” `ListMultimap`（使用创建[`MultimapBuilder`](http://docs.guava-libraries.googlecode.com/git-history/v18.0/javadoc/com/google/common/collect/MultimapBuilder.html)，自 v16.0 以来在 Guava 中创建）：

```
ListMultimap<String, Integer> treeListMultimap = 
    MultimapBuilder.linkedHashKeys().arrayListValues().build(); 
```

* * *

在 v16.0 之前，创建自定义`Multimap`s 更加冗长（使用[`Multimaps.newListMultimap`](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Multimaps.html#newListMultimap%28java.util.Map,%20com.google.common.base.Supplier%29)）：

```
/**
 * Creates {@link ListMultimap} preserving insertion order of keys and values 
 * (it's backed by {@link LinkedHashMap} and {@link ArrayList}).
 */
public static <K, V> ListMultimap<K, V> newLinkedArrayListMultimap() {
  return Multimaps.newListMultimap(
      Maps.<K, Collection<V>>newLinkedHashMap(),
      new Supplier<List<V>>() {
          @Override
          public List<V> get() {
            return Lists.newArrayList();
          }
      });
} 
```

# javascript - 如何使用 JavaScript 从表格中获取单元格值？

> ID：14975693
> 
> 赞同：1
> 
> 时间：2013-02-20T08:55:32.653
> 
> 标签：javascript, html

我需要从具有文本字段的表格单元格中提取值。

就我而言，我得到如下结果：

```
input type="text" name="test1" onchange="myFunction() 
```

但我想从文本字段中获取值。

我有这个功能。

```
function GetTableCells(){
var oTable = document.getElementById('cell_values');
    //gets table

var rowLength = oTable.rows.length;
//gets rows of table

for (i = 0; i < rowLength; i++){
//loops through rows

    var oCells = oTable.rows.item(i).cells;
    //gets cells of current row
    var cellLength = oCells.length;
        for(var j = 0; j < cellLength; j++){
        //loops through each cell in current row
            var cellVal = oCells.item(j).innerHTML;

                    alert(cellVal);
        } } } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:00:04.443

`innerHTML`为您提供 HTML 代码，但您需要`input`元素的值。要获取值，您需要遍历单元格的内容，然后使用`e.value`when`e`是`input`元素的节点。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:01:19.613

你可以这样做：

```
var input = oCells[j].firstElementChild || oCells[j].firstChild;
var cellVal = input.value; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T09:03:06.173

根据您的事件，您可以将其传递给函数并在那里获取

```
<input type="text" name="test1" onchange="myFunction(this)">

myFunction(e){
  alert(e.value); // your value
} 
```

# php - 在php中间隔执行脚本

> ID：14975698
> 
> 赞同：3
> 
> 时间：2013-02-20T08:55:40.903
> 
> 标签：php, execute

我想每 2 分钟执行一次脚本，直到我关闭窗口。我的脚本每 2 分钟执行一次写入文件。我的脚本没有写入文件。请看我的间隔脚本。

```
<?php
$interval = 1; //minutes
set_time_limit (0);
while (true)
{
  $now=time ();
  echo $now . "<BR>";
  sleep ($interval * 1 - (time () - $now));
}
?> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T08:58:23.337

尝试

```
<?php
function do_stuff(){

  // do something

 sleep(20); // wait 20 seconds
 do_stuff(); // call this function again
}
?> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-20T08:58:31.513

`sleep`需要作为参数秒数，所以你应该写`sleep($interval * 60)`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-20T08:58:27.957

您可能需要`flush()`在每个`echo`. 还`sleep`需要以秒为单位的时间，而不是以分钟为单位，因此您`$interval`可能应该设置为`60`而不是设置为`1`。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-07-21T21:03:12.617

sleep() 绝对不是解决方案（我想知道为什么这里甚至考虑...）经过大量试验后，我得出了以下解决方案：通过包含以下内容的 HTML 文件执行“定时”PHP（即间隔执行）一个javascript计时器和一个框架：

```
<html>
<head>
<script type='text/javascript'>
var obj;
var interval = {interval_msecs}; 
var PHP_to_execute = "http://localhost/Work/{yourPHP}.php";  
var timer = setInterval(function(){exec()}, interval);
function exec() {
  obj = document.getElementById("PHParea");
  obj.src = PHP_to_execute;
} 
</script>
</head>
<body>
<iframe id="PHParea" src=""></iframe>
</body>
</html> 
```

这是基础（使用本地主机）。您可以添加任何您想要的功能。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-20T09:01:36.087

```
<?php
set_time_limit(0);

$interval=1; //minutes
echo str_repeat(" ", 1024);
while(true) {
    $now=time();
    echo $now."<BR>";
    sleep($interval * 60);
    flush();
}
?> 
```

# excel - 如何在excel的多页上动态地将单元格值放入文本框中？

> ID：14975702
> 
> 赞同：2
> 
> 时间：2013-02-20T08:55:57.947
> 
> 标签：excel, vba, dynamic, copy, multipage

我创建了一个带有动态页面的多页。启动用户表单时，用户表单会检查列中特定单元格上的值是否为空。然后为每个非空单元格创建一个页面。

这是我的代码片段

```
Private Sub UserForm_Initialize()
    Dim i As Integer
    Dim custDate As Date
    Dim vID As String
    'ActiveWorkbook.Worksheets("Sheet1").Activate

    i = 0

    custDate = DateValue(Now)

    Range("A1").Offset(1, 0).Select
    Do While Not IsEmpty(ActiveCell.Value)
        'MsgBox ActiveCell.Address
        If custDate = ActiveCell.Value Then 'first column(A) are dates
            MultiPage1.Pages.Add
            MultiPage1.Pages(0).Controls.Copy 'page 1 is the reference page
            i = i + 1 'row counter
            ActiveCell.Offset(0, 2).Select 'go to column(C) on the same row where visit ids are located
            vID = ActiveCell.Value 
            MultiPage1.Pages(i).Paste 'copy page 1 contents to new page for each row on the active worksheet

            'I guess this is where you put the code to put values 
            'on a txtbox that was from the reference page which is page 1

            ActiveCell.Offset(0, -2).Select 'go back to column(A) to check back dates

        End If
        ActiveCell.Offset(1, 0).Select 'move to the next row
    Loop

    MultiPage1.Value = i 'select the new page on the userform

End Sub 
```

现在我的问题是如何将单元格中的值放入从参考隐藏页面复制到动态创建的新页面的文本框中。我昨晚才开始编程 VBA。我是一名 android 应用程序开发人员，所以目前很难调整。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T09:10:27.023

我想这就是你正在尝试的？

粘贴控件后，试试这个

```
'
'~~> Rest of your code
'
MultiPage1.Pages(i).Paste

For Each ctl In Me.MultiPage1.Pages(i).Controls
    If TypeOf ctl Is MSForms.TextBox Then
        '~~> Your code here
        ctl.Text = vID
        Exit For
    End If
Next
'
'~~> Rest of your code
' 
```

还要将此声明为代码的顶部

```
Dim ctl As Control 
```

**跟进（来自评论）**

如果您有多个`Controls`相同类型，那么我不喜欢复制和粘贴，而是从头开始重新创建它们。这让我可以更好地控制那些`Controls`

但是，如果您仍想使用 Copy - Paste 方法，请使用该`.Tag`属性。看这个例子

创建一个用户表单，如下面的快照所示。

在 Page(0) 中为每个文本框设置标签。

![在此处输入图像描述](../Images/06f01bf5a938499cc43aad342d0b0a02.png)

让我们在用户表单中使用此代码

```
Option Explicit

Dim ctl As Control

Private Sub CommandButton1_Click()

    Debug.Print "Page (0):-"
    For Each ctl In Me.MultiPage1.Pages(0).Controls
        If TypeOf ctl Is MSForms.TextBox Then
            Debug.Print ctl.Name; "==="; ctl.Tag
        End If
    Next

    Debug.Print "---"
    Debug.Print "Page (1):-"

    MultiPage1.Pages(0).Controls.Copy

    MultiPage1.Pages.Add
    MultiPage1.Pages(1).Paste

    For Each ctl In Me.MultiPage1.Pages(1).Controls
        If TypeOf ctl Is MSForms.TextBox Then
            Debug.Print ctl.Name; "==="; ctl.Tag
        End If
    Next

    Debug.Print "---"
    Debug.Print "Page (2):-"

    MultiPage1.Pages.Add
    MultiPage1.Pages(2).Paste
    For Each ctl In Me.MultiPage1.Pages(2).Controls
        If TypeOf ctl Is MSForms.TextBox Then
            Debug.Print ctl.Name; "==="; ctl.Tag
        End If
    Next
End Sub 
```

运行代码时，您将在屏幕中看到此输出

![在此处输入图像描述](../Images/4f1bd2f0f939832f518d30da7b992a48.png)

如果你注意到`.Tag`没有改变。所以如果我们有更多的控制，我们可以有效地使用它。看这个例子

```
Option Explicit

Dim ctl As Control

Private Sub CommandButton1_Click()
    MultiPage1.Pages(0).Controls.Copy

    MultiPage1.Pages.Add
    MultiPage1.Pages(1).Paste

    For Each ctl In Me.MultiPage1.Pages(1).Controls
        If TypeOf ctl Is MSForms.TextBox Then
            Select Case ctl.Tag
                Case "A"
                    '~~> Your code goes here to put text in this textbox
                    ctl.Text = "AAAA"
                Case "B"
                    '~~> Your code goes here to put text in this textbox
                    ctl.Text = "BBBB"
            End Select
        End If
    Next
End Sub 
```

当你运行它时，你会得到

![在此处输入图像描述](../Images/5081744d71d9f20dad925f5f7f4f55eb.png)

高温高压

# box-api - 框文件操作在 ie 中不起作用

> ID：14975710
> 
> 赞同：0
> 
> 时间：2013-02-20T08:56:17.593
> 
> 标签：box-api

我们为我们的网络应用程序开发了新的文件操作，它在使用 chrome 或 Firefox 时运行良好，但在 IE 上我们遇到了问题，当我们试图理解问题时，我们注意到当消息发送到我们的网络应用程序时它不会发送任何cookie 包括会话 cookie，尽管 web 应用程序发送 set-cookie 标头。

为什么会这样？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T08:43:23.100

好的，我们发现了问题，显然当在 IE 中使用 iframe 时，cookie 被阻止，因为 IE 将 iframe 称为第三方应用程序，要取消阻止 cookie，我们应该使用 P3P 标头向标头添加隐私策略。

阅读的好地方是 - [Cookie 被阻止/未保存在 Internet Explorer 的 IFRAME 中](https://stackoverflow.com/questions/389456/cookie-blocked-not-saved-in-iframe-in-internet-explorer)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T04:12:16.423

这听起来像是我们的一个可能的错误。您能否通过 API AT box.com 向我们发送电子邮件，提供有关正在发送的请求以及您使用的 IE 版本的具体信息？

# c++ - QtCreator 中的相对路径

> ID：14975715
> 
> 赞同：3
> 
> 时间：2013-02-20T08:56:31.470
> 
> 标签：c++, qt-creator, ifstream

我正在将一个控制台程序与一个包含文件名行（相对于当前目录）的配置文件移植到 Qt。当我在 QtCreator 中运行/调试 GUI 时，似乎无法从工作目录加载文件。

假设我的文件系统如下：

```
C:/MyProjectSource
C:/MyProjectSource-Desktop-Debug // <-- created by QtCreator
C:/MyProjectSource-Desktop-Debug/debug/MyProgram.exe // <- my program
C:/MyProjectSource-Desktop-Debug/debug/params.txt    // <- program's config
C:/MyProjectSource-Desktop-Debug/debug/cfg/file1.txt // <- extra file
C:/MyProjectSource-Desktop-Debug/debug/cfg/file2.txt // <- extra file 
```

params.txt 看起来像

```
# other setting    
...
cfg/file1.txt      # at this line, program crash, saying cannot open file
cfg/file2.txt
...
# other setting 
```

读取file1.txt的代码

```
std::ifstream ifs(filename); // <-- @runtime, filename = 'cfg/file1.txt'
if (!ifs)
{
    // failed inside QtCreator, but fine when start from explorer
    EMSG_OPENFILE(filename);
    exit(-1);
} 
```

基线：尽可能不更改控制台程序。那么，如何告诉 QtCreator 理解相对路径呢？还是我应该在 params.txt 中强制执行绝对路径？谢谢。

平台：QtCreator 2.6.1、Qt4.8、MinGW64、Win 7

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-20T09:26:45.923

相对路径是相对于当前工作目录的相对路径，而不是相对于存放可执行文件的目录，所以需要将当前工作目录改为可执行目录，只需在main函数后面加上这一行：

```
QDir::setCurrent(QCoreApplication::applicationDirPath()); 
```

如果您需要从 Qt Creator 设置当前工作目录：Project-> Run -> 您将看到 Working Directory 文本框

![在此处输入图像描述](../Images/203daca784aa9714c9956c376e61995d.png)

然后从浏览按钮将此路径更改为您的可执行位置

# svn - Subversion 存储库的增长不如预期

> ID：14975717
> 
> 赞同：2
> 
> 时间：2013-02-20T08:56:34.530
> 
> 标签：svn, repository

今天我想告诉一位同事，使用 windows 复制和粘贴不是一个好主意。我已完成以下步骤：

1.  创建了一个本地存储库。
2.  检查了那个空的存储库。
3.  将一些文件添加到结帐位置并提交。
4.  查看存储库的大小（~ 9 MB）。
5.  然后，我使用 Windows 复制和粘贴复制了一个 Powerpoint 文件（~ 2 MB），将其重命名，并将其提交给 Subversion。Subversion 不知道该文件（如预期的那样），所以我必须先手动将它添加到 Subversion。
6.  提交后，我预计存储库会显着增长（> 1 MB），因为我添加了一个没有历史记录的新文件。结果是，repo 的增长只有 1 KB。

我的问题是：

*   这是 Subversion 1.7 现在的正确行为吗？
*   那是什么时候改变的？在过去（至少对于 Subversion 1.5），当您添加一个精确副本（使用 windows 复制和粘贴）时，它会作为一个新文件添加到存储库中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T12:35:47.803

再次阅读部分[SVN Book](http://svnbook.red-bean.com/en/1.7/svn-book.html)后，我自己找到了（我认为）答案。这是[“Subversion如何节省磁盘空间”的相关部分](http://svnbook.red-bean.com/en/1.7/svn-book.html#svn.reposadmin.maint.diskspace.deltas)

> 使用 Subversion 1.6 或更高版本创建的存储库进一步享受表示共享所提供的磁盘空间节省，该功能允许具有相同文件内容的多个文件或文件修订引用该数据的单个共享实例，而不是每个都有自己的不同副本.

我将对 进行一些研究`creation with Subversion 1.6 or later`，因为这意味着它不适用于从 Subversion 1.5 迁移的存储库。

# java - 了解 JVM GC

> ID：14975723
> 
> 赞同：0
> 
> 时间：2013-02-20T08:56:54.370
> 
> 标签：java, performance, garbage-collection, jvm

我试图了解我下面编写的代码是如何工作和输出的。

```
public static void getRunTimeMemoryConsumption(){

List<Integer> array = new ArrayList<Integer>();
for(int i = 0 ; i < 100000 ; i++){
    array.add(i);
}

List<Integer> array1 = new ArrayList<Integer>();
for(int i = 0 ; i < 100 ; i++){
    array1.add(i);
}

Runtime rt = Runtime.getRuntime();

//Run the GC
rt.gc();

long memoryFreed = rt.totalMemory() - rt.freeMemory();
System.out.println("Memory freed in Mbytes :: " + memoryFreed/(1024));

} 
```

当我运行这段代码时，它总是给我 132 KB 作为输出（9/10 次运行）。但是，如果我删除`rt.gc()`调用，我会在输出语句中释放更多内存 (>100 MB)。我如何理解 Java 运行时的这种行为？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T09:10:07.537

我不完全确定你在尝试什么。

您不是在计算释放了多少内存，而是在计算`rt.totalMemory() - rt.freeMemory()`，即使用了多少内存。考虑到这一点，你得到的结果很有意义，在没有垃圾收集的情况下，在 gc 之后使用更多的内存。要了解释放了多少内存，您应该`rt.totalMemory() - rt.freeMemory()`在调用垃圾收集器之前和之后进行比较。

此外，您在 for 循环中放入列表中的整数也不符合垃圾回收条件，因为它们是活动对象（即列表）的引用。不确定什么是垃圾收集，因为我看不到您的程序的其余部分，但是您应该修改您的测试，以便在垃圾收集点您拥有不是活动对象引用的对象。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-20T09:13:01.900

你应该只比较`rt.freeMemory()`before 和 after `rt.gc()`。您的表达式会打印已使用的内存。这就是为什么这些值与您期望的相反。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T09:05:45.707

这里的垃圾收集不会真正删除任何东西，因为您没有任何真正超出范围的对象。该方法限定了两个列表，因此在垃圾回收调用之后它们仍然可以访问。垃圾回收一般是java中的定时任务，理论上可以随时运行。这意味着这里的行为实际上是好的，因为你不希望垃圾收集破坏仍在范围内的对象（就像你在这里一样）。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T09:13:38.433

似乎您获得的 memoryFreed 较少，因为它用于 rt.gc() 调用的垃圾收集器活动。实际上 rt.gc() 不会释放为您的数组分配的内存。如果您想查看 GC 释放了多少内存，您应该在 getRunTimeMemoryConsumption() 方法之外进行计数，或者在测量之前将数组分配给 null。

# ruby-on-rails - RoR 位置搜索

> ID：14975726
> 
> 赞同：0
> 
> 时间：2013-02-20T08:57:05.020
> 
> 标签：ruby-on-rails, ruby-on-rails-3, geolocation, location, postal-code

对于这个相当开放的问题，我很抱歉，但我想知道是否有人对创建搜索特定半径内属性的应用程序的最佳方式有任何建议。

我希望实现的最佳示例是[RightMove](http://www.rightmove.com)。

我想知道添加城市、城镇和邮政编码数据并使其可搜索的最佳设置是什么。

我一直在阅读有关 Geocoder 的信息，但想知道这是否是此类应用程序的最佳选择，或者是否有很好的选择。例如，您是否建议将所有位置数据存储在我自己的数据库中或使用 API 来提供此信息。

人们可以提供的任何建议或链接真的将不胜感激！谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T11:41:31.263

该方法完全取决于您需要地理编码数据的位置的地理编码数据的要求和可用性。

使用地理编码器为您提供了一个优势，您不必费心为给定位置更新地理数据库。它有其自身的缺点（请求超时、特定位置的数据不可用、许可、查询限制等），但可以解决它们。

如果您可以将数据存储在数据库中，那么您可以使用 Postgresql+PostGIS 设置来实现相同的目的。PostGIS 模块使您能够根据半径进行空间查询，检查给定的目标点是否落入预定义的多边形等，并且由于这些是在数据库内执行的，因此性能也非常好。这种方法有两个优点，您不必注册任何服务并且没有超时错误。这种方法的缺点是您必须自己维护/更新位置数据。

我已经用第二种方法完成了一些 ROR 项目，它对我们来说工作得很好。

希望这可以帮助。

# android - 带有软键按钮的设备上的菜单溢出按钮

> ID：14975727
> 
> 赞同：0
> 
> 时间：2013-02-20T08:57:09.507
> 
> 标签：android

我的应用程序在我的 Galaxy Nexus 上看起来像这样：

![在此处输入图像描述](../Images/aa518038a0c59cb0bfbfbd13ed4dfb48.png) 如何将菜单溢出按钮添加到底部的软键按钮？
或者这是它应该工作的方式？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-29T14:04:49.077

您不应该手动将任何按钮添加到软键栏。当底部有软键栏时，ActionBar 将在顶部添加菜单按钮（如您的示例 - 3 个点按钮）。如果您需要 SDK<11 的支持，请使用 ActionBarSherlock 库。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-29T14:11:48.583

底部的菜单菜单按钮仅在具有菜单但基于旧版本的 android 构建且尚未更新以使用新的操作栏菜单的应用程序时才会出现。

简而言之，当菜单按钮位于软键区域时，您不能并且用户不喜欢，因为并非所有设备都有软键，因此屏幕底部会有一个随机黑条，仅用于菜单按钮。

看这里关于[菜单的](http://developer.android.com/guide/topics/ui/menus.html)

# embedded-linux - debugfs -- 环形缓冲区实现 -- linux

> ID：14975728
> 
> 赞同：0
> 
> 时间：2013-02-20T08:57:10.247
> 
> 标签：embedded-linux, interrupt-handling

我第一次尝试 debugfs 将数据从内核传输到用户空间。请建议如何在这方面进行。

我不想使用 tty 驱动程序。这只是为了在我身边练习。实际上，我正在尝试为 USART 编写内核驱动程序，其中将使用 debugfs 环形缓冲区将中断数据推送到用户空间应用程序。

早在我发现一个 Stackexchange 朋友在他的 GIT 存储库中发布的帖子之前——他在那里将 debugfs 实现为环形缓冲区……但该链接对我来说已经丢失了……所以在这方面无法找到一些参考资料.

请建议。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:06:38.607

我知道我从 eugene 那里尝试过的链接很少：---

[ioctl vs netlink vs memmap 在内核空间和用户空间之间进行通信，](https://stackoverflow.com/questions/11501527/ioctl-vs-netlink-vs-memmap-to-communicate-between-kernel-space-and-user-space#comment15219915_11501527)
[将数据写入调试文件——来自设备驱动程序](https://stackoverflow.com/questions/14079893/writing-data-to-debugfs-from-a-device-driver)
[http://code.google.com/p/kernel-strider/source/browse/sources/core/resolve_ip。 C](http://code.google.com/p/kernel-strider/source/browse/sources/core/resolve_ip.c)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T13:53:45.803

我认为你应该使用[netlink](http://www.linuxjournal.com/article/7356)。

> Netlink 套接字是一种特殊的 IPC，用于在内核和用户空间进程之间传输信息。它通过用于用户空间进程的标准套接字 API 和用于内核模块的特殊内核 API 在两者之间提供全双工通信链接。

# jenkins - 向 Jenkins 添加自动计数器字段

> ID：14975732
> 
> 赞同：0
> 
> 时间：2013-02-20T08:57:24.560
> 
> 标签：jenkins, jenkins-plugins

我有包含冲刺号码的字段。我想向 Jenkins 添加额外的字段，该字段将为每次运行的工作增加一个。

可能吗？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T14:49:55.343

BUILD_NUMBER 是正确的参数，它会随着每次构建自动增加。如果要重置内部版本号，可以通过在 jenkins master groovy 脚本控制台中运行以下脚本来实现

```
jenkins = hudson.model.Hudson.instance
job = jenkins.getJob("JOBNAME")
println job.getNextBuildNumber()
job.updateNextBuildNumber(0)
println job.getNextBuildNumber() 
```

这会将内部版本号设置为 0。然后您可以依赖 BUILD_NUMBER。如果您的要求只是对于每个构建增加 1 的参数，请使用 BUILD_NUMBER

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:16:21.543

请参阅[Jenkins 文档](https://wiki.jenkins-ci.org/display/JENKINS/Building+a+software+project)。BUILD_NUMBER 环境变量执行此操作，由 Jenkins 提供给您的工作。

# php - 通过curl php从asp站点提交表单后如何检索数据

> ID：14975734
> 
> 赞同：0
> 
> 时间：2013-02-20T08:57:28.300
> 
> 标签：php, cakephp, curl

通过 curl 提交表单后，我必须从[http://delhipolice.serverpeople.com/firweb/Index.aspx?SubMenuId=2](http://delhipolice.serverpeople.com/firweb/Index.aspx?SubMenuId=2)检索数据，但我无法这样做。谁能帮我吗。

```
$kv[]='ctl00$txtRegNo=565';
$kv[]='ctl00$ddlDistrict=170';
$kv[]='ctl00$ddlYear=2013';
$query_string = join("&", $kv);
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, $url);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
curl_setopt($ch, CURLOPT_POST, count($kv));
curl_setopt($ch, CURLOPT_POSTFIELDS, $query_string);
$output = curl_exec($ch);
curl_close($ch); 
```

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:21:50.323

您无法获得正确的输出，因为它是 asp 站点。通过提交表单，您还应该添加额外的帖子参数，如 __VIEWSTATE、__EVENTTARGET

# regex - 删除评论的正则表达式

> ID：14975737
> 
> 赞同：16
> 
> 时间：2013-02-20T08:57:38.087
> 
> 标签：regex

我正在尝试编写一个正则表达式来查找文本中的所有评论。例如所有之间`/* */`。例子：

> /* 你好 */

当我这样做时：`/\*.*\*/`，它的行为很奇怪，并且没有显示任何内容。它有什么问题？

编辑：评论可以分布在多行

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2013-02-20T09:20:23.983

与上面发布的示例不同，您尝试匹配跨越多行的评论。默认情况下，`.`不匹配换行符。因此，您必须在正则表达式中启用多行模式以匹配多行注释。

此外，您可能需要使用`.*?`而不是`.*`. 否则，它将使最大的匹配成为可能，这将是第一个打开的评论和最后一个关闭的评论之间的所有内容。

我不知道如何在 Sublime Text 2 中启用多行匹配模式。我不确定它是否可以作为模式使用。但是，您可以使用 CTRL + Enter 在实际模式中插入换行符。所以，我建议这个替代方案：

```
/\*(.|\n)*?\*/ 
```

如果 Sublime Text 2 无法识别`\n`，您也可以使用 CTRL + Enter 在模式中插入换行符，代替`\n`.

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2013-07-10T19:19:11.253

几年前我遇到了这个问题，并[为此写了整篇文章](http://ostermiller.org/findcomment.html)。

如果您无法访问非贪婪匹配（并非所有正则表达式库都支持非贪婪匹配），那么您应该使用这个正则表达式：

```
/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+/ 
```

如果您确实可以访问非贪婪匹配，那么您可以使用：

```
/\*(.|[\r\n])*?\*/ 
```

另外，请记住，正则表达式只是此问题的启发式方法。正则表达式不支持某些看起来是正则表达式注释但实际上不是的情况：

```
someString = "An example comment: /* example */";

// The comment around this code has been commented out.
// /*
some_code();
// */ 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2018-03-02T13:54:05.503

只想添加 HTML 注释就是这个

```
\<!--(.|\n)*?--> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-10-08T16:00:53.880

> *只是关于使用正则表达式删除编程语言文件中的注释的附加说明。*

**警告！**

这样做你不能忘记你有字符串`/*`或`*/`在代码中的字符串中的情况——比如`var string = "/*";`——（我们永远不知道你是否解析了一个不属于你的巨大代码）！

所以最好的办法是用编程语言解析文档，并用一个布尔值来保存打开字符串的状态（并忽略打开字符串中的任何匹配项）。

同样，由 分隔的字符串`"`可以包含 a`\"`所以注意正则表达式！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-01-02T17:34:16.923

您无法编写能够正确查找所有注释甚至一种类型的注释（单行或多行）的正则表达式。

正则表达式只能提供部分匹配，可能涵盖所有情况的 90%，但仅此而已。

正则表达式的语法非常复杂，只有通过进行完整的表达式评估才能在 100% 的情况下正确识别它们，而这又基于对代码进行标记。后者是一项艰巨的任务，今天所有的 AST 解析器都在实现。请参阅[AST 资源管理器](https://astexplorer.net/)

只有正确编写的 AST 解析器才能准确地告诉您所有正则表达式在代码中的位置。您将不得不在此基础上编写一个解析器。

或者，您可以使用已经完成所有这些工作的现有库之一，例如[decomment](https://github.com/vitaly-t/decomment)。

* * *

任何正面方法都会失败的 RegEx 示例，无法从注释块中分辨出正则表达式：

*   `/\//`- 它会认为这个正则表达式是单行注释
*   `/\/*/`- 它会认为这个正则表达式打开一个多行注释

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2021-04-10T21:39:43.723

user1919238 写的答案有效。只是在这里证实了这一点，尽管许多赞成票可能确实给了你一个线索。它摆脱了所有这些烦人的块注释，放在这里只是为了显示有用性/感谢 user1919238 节省时间：

```
/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHlsZXMvZ2xvYmFscy5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0VBRUUsVUFBVTtFQUNWLFNBQVM7RUFDVDt3RUFDc0U7QUFDeEU7O0FBRUE7RUFDRSxjQUFjO0VBQ2QscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0Usc0JBQXNCO0FBQ3hCIiwic291cmNlc0NvbnRlbnQiOlsiaHRtbCxcbmJvZHkge1xuICBwYWRkaW5nOiAwO1xuICBtYXJnaW46IDA7XG4gIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIFNlZ29lIFVJLCBSb2JvdG8sIE94eWdlbixcbiAgICBVYnVudHUsIENhbnRhcmVsbCwgRmlyYSBTYW5zLCBEcm9pZCBTYW5zLCBIZWx2ZXRpY2EgTmV1ZSwgc2Fucy1zZXJpZjtcbn1cblxuYSB7XG4gIGNvbG9yOiBpbmhlcml0O1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG5cbioge1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */

/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHlsZXMvSG9tZS5tb2R1bGUuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQWlCO0VBQ2pCLGlCQUFpQjtFQUNqQixhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLHVCQUF1QjtFQUN2QixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsU0FBTztFQUNQLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxhQUFhO0VBQ2IsNkJBQTZCO0VBQzdCLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxjQUFjO0VBQ2QscUJBQXFCO0FBQ3ZCOztBQUVBOzs7RUFHRSwwQkFBMEI7QUFDNUI7O0FBRUE7RUFDRSxTQUFTO0VBQ1QsaUJBQWlCO0VBQ2pCLGVBQWU7QUFDakI7O0FBRUE7O0VBRUUsa0JBQWtCO0FBQ3BCO0FBQ0E7RUFDRSxnQkFBZ0I7RUFDaEIsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGtCQUFrQjtFQUNsQixnQkFBZ0I7RUFDaEIsaUJBQWlCO0VBQ2pCO29EQUNrRDtBQUNwRDs7QUFFQTtFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsdUJBQXVCO0VBQ3ZCLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsWUFBWTtFQUNaLGVBQWU7RUFDZixlQUFlO0VBQ2YsZ0JBQWdCO0VBQ2hCLGNBQWM7RUFDZCxxQkFBcUI7RUFDckIseUJBQXlCO0VBQ3pCLG1CQUFtQjtFQUNuQixxREFBcUQ7QUFDdkQ7O0FBRUE7OztFQUdFLGNBQWM7RUFDZCxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsU0FBUztFQUNULGtCQUFrQjtFQUNsQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRTtJQUNFLFdBQVc7SUFDWCxzQkFBc0I7RUFDeEI7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXIge1xuICBtaW4taGVpZ2h0OiAxMDB2aDtcbiAgcGFkZGluZzogMCAwLjVyZW07XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4ubWFpbiB7XG4gIHBhZGRpbmc6IDVyZW0gMDtcbiAgZmxleDogMTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5mb290ZXIge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDBweDtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlYWVhZWE7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4uZm9vdGVyIGltZyB7XG4gIG1hcmdpbi1sZWZ0OiAwLjVyZW07XG59XG5cbi5mb290ZXIgYSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4udGl0bGUgYSB7XG4gIGNvbG9yOiAjMDA3MGYzO1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG5cbi50aXRsZSBhOmhvdmVyLFxuLnRpdGxlIGE6Zm9jdXMsXG4udGl0bGUgYTphY3RpdmUge1xuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbn1cblxuLnRpdGxlIHtcbiAgbWFyZ2luOiAwO1xuICBsaW5lLWhlaWdodDogMS4xNTtcbiAgZm9udC1zaXplOiA0cmVtO1xufVxuXG4udGl0bGUsXG4uZGVzY3JpcHRpb24ge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4uZGVzY3JpcHRpb24ge1xuICBsaW5lLWhlaWdodDogMS41O1xuICBmb250LXNpemU6IDEuNXJlbTtcbn1cblxuLmNvZGUge1xuICBiYWNrZ3JvdW5kOiAjZmFmYWZhO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIHBhZGRpbmc6IDAuNzVyZW07XG4gIGZvbnQtc2l6ZTogMS4xcmVtO1xuICBmb250LWZhbWlseTogTWVubG8sIE1vbmFjbywgTHVjaWRhIENvbnNvbGUsIExpYmVyYXRpb24gTW9ubywgRGVqYVZ1IFNhbnMgTW9ubyxcbiAgICBCaXRzdHJlYW0gVmVyYSBTYW5zIE1vbm8sIENvdXJpZXIgTmV3LCBtb25vc3BhY2U7XG59XG5cbi5ncmlkIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGZsZXgtd3JhcDogd3JhcDtcbiAgbWF4LXdpZHRoOiA4MDBweDtcbiAgbWFyZ2luLXRvcDogM3JlbTtcbn1cblxuLmNhcmQge1xuICBtYXJnaW46IDFyZW07XG4gIGZsZXgtYmFzaXM6IDQ1JTtcbiAgcGFkZGluZzogMS41cmVtO1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBjb2xvcjogaW5oZXJpdDtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICBib3JkZXI6IDFweCBzb2xpZCAjZWFlYWVhO1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICB0cmFuc2l0aW9uOiBjb2xvciAwLjE1cyBlYXNlLCBib3JkZXItY29sb3IgMC4xNXMgZWFzZTtcbn1cblxuLmNhcmQ6aG92ZXIsXG4uY2FyZDpmb2N1cyxcbi5jYXJkOmFjdGl2ZSB7XG4gIGNvbG9yOiAjMDA3MGYzO1xuICBib3JkZXItY29sb3I6ICMwMDcwZjM7XG59XG5cbi5jYXJkIGgzIHtcbiAgbWFyZ2luOiAwIDAgMXJlbSAwO1xuICBmb250LXNpemU6IDEuNXJlbTtcbn1cblxuLmNhcmQgcCB7XG4gIG1hcmdpbjogMDtcbiAgZm9udC1zaXplOiAxLjI1cmVtO1xuICBsaW5lLWhlaWdodDogMS41O1xufVxuXG4ubG9nbyB7XG4gIGhlaWdodDogMWVtO1xufVxuXG5AbWVkaWEgKG1heC13aWR0aDogNjAwcHgpIHtcbiAgLmdyaWQge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */

/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdHlsZXMvY3VzdG9tLm1vZHVsZS5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxVQUFVO0VBQ1YsU0FBUztFQUNUO3dFQUNzRTtFQUN0RSxrQkFBa0I7RUFDbEIsa0JBQWtCO0FBQ3BCO0FBQ0E7RUFDRSxVQUFVO0VBQ1YsU0FBUztFQUNULGNBQWM7RUFDZCxlQUFlO0FBQ2pCO0FBQ0E7RUFDRSxVQUFVO0VBQ1YsU0FBUztFQUNULGVBQWU7RUFDZixjQUFjO0FBQ2hCO0FBQ0E7RUFDRSxlQUFlO0VBQ2YsWUFBWTtBQUNkO0FBQ0E7OztFQUdFLGVBQWU7RUFDZixjQUFjO0FBQ2hCO0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIsWUFBWTtBQUNkO0FBQ0E7OztFQUdFLGVBQWU7RUFDZixjQUFjO0FBQ2hCO0FBQ0E7RUFDRSxnQkFBZ0I7RUFDaEIsbUJBQW1CO0FBQ3JCO0FBQ0E7RUFDRSxlQUFlO0VBQ2YsNENBQTRDO0FBQzlDO0FBQ0E7RUFDRSxlQUFlO0VBQ2YsNENBQTRDO0FBQzlDO0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIsb0JBQW9CO0VBQ3BCLGNBQWM7RUFDZCwwQkFBMEI7QUFDNUI7QUFDQTtFQUNFLGtCQUFrQjtFQUNsQixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsWUFBWTtFQUNaLGVBQWU7RUFDZixlQUFlO0VBQ2YsZ0JBQWdCO0VBQ2hCLGNBQWM7RUFDZCxxQkFBcUI7RUFDckIseUJBQXlCO0VBQ3pCLG1CQUFtQjtFQUNuQixxREFBcUQ7QUFDdkQ7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsU0FBUztFQUNULGtCQUFrQjtFQUNsQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxZQUFZO0VBQ1osZUFBZTtFQUNmLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsY0FBYztFQUNkLHFCQUFxQjtFQUNyQix5QkFBeUI7RUFDekIsbUJBQW1CO0VBQ25CLHFEQUFxRDtBQUN2RDtBQUNBOzs7RUFHRSxjQUFjO0VBQ2QscUJBQXFCO0FBQ3ZCO0FBQ0E7RUFDRSxZQUFZO0VBQ1osbUJBQW1CO0FBQ3JCO0FBQ0E7OztFQUdFLGNBQWM7RUFDZCxxQkFBcUI7RUFDckIsZUFBZTtBQUNqQjtBQUNBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixnQkFBZ0I7QUFDbEI7QUFDQTtFQUNFLG1CQUFtQjtFQUNuQixtQkFBbUI7RUFDbkIsdUJBQXVCO0VBQ3ZCLGlCQUFpQjtFQUNqQixnQkFBZ0I7RUFDaEIsZ0JBQWdCO0FBQ2xCO0FBQ0E7RUFDRSxpQkFBaUI7RUFDakIsbUJBQW1CO0VBQ25CLHVCQUF1QjtFQUN2QixpQkFBaUI7RUFDakIsZ0JBQWdCO0VBQ2hCLGdCQUFnQjtBQUNsQjtBQUNBO0VBQ0UsbUJBQW1CO0VBQ25CLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsaUJBQWlCO0VBQ2pCLGdCQUFnQjtFQUNoQixnQkFBZ0I7QUFDbEI7QUFDQTtFQUNFLGlCQUFpQjtFQUNqQixpQkFBaUI7RUFDakIsYUFBYTtFQUNiLHNCQUFzQjtFQUN0Qix1QkFBdUI7RUFDdkIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLFNBQU87RUFDUCxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLHVCQUF1QjtFQUN2QixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsYUFBYTtFQUNiLDZCQUE2QjtFQUM3QixhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsY0FBYztFQUNkLHFCQUFxQjtBQUN2Qjs7QUFFQTs7O0VBR0UsMEJBQTBCO0FBQzVCOztBQUVBO0VBQ0UsU0FBUztFQUNULGlCQUFpQjtFQUNqQixlQUFlO0FBQ2pCOztBQUVBOztFQUVFLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGlCQUFpQjtBQUNuQjtBQUNBO0VBQ0UsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixpQkFBaUI7RUFDakIsa0JBQWtCO0FBQ3BCO0FBQ0E7RUFDRSxtQkFBbUI7RUFDbkIsa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixpQkFBaUI7RUFDakI7b0RBQ2tEO0FBQ3BEOztBQUVBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixnQkFBZ0I7QUFDbEI7QUFDQTtFQUNFLFlBQVk7RUFDWixlQUFlO0VBQ2YsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixjQUFjO0VBQ2QscUJBQXFCO0VBQ3JCLDJCQUFtQjtVQUFuQixtQkFBbUI7RUFDbkIsNEJBQTRCO0VBQzVCLG1CQUFtQjtFQUNuQixxREFBcUQ7QUFDdkQ7QUFDQTs7O0VBR0UsWUFBWTtFQUNaLG1CQUFtQjtBQUNyQjtBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLFNBQVM7RUFDVCxrQkFBa0I7RUFDbEIsZ0JBQWdCO0FBQ2xCO0FBQ0E7RUFDRSxZQUFZO0VBQ1osZUFBZTtFQUNmLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsY0FBYztFQUNkLHFCQUFxQjtFQUNyQiwyQkFBbUI7VUFBbkIsbUJBQW1CO0VBQ25CLHdCQUF3QjtFQUN4QixtQkFBbUI7RUFDbkIscURBQXFEO0FBQ3ZEO0FBQ0E7OztFQUdFLGFBQWE7RUFDYixvQkFBb0I7QUFDdEI7QUFDQTtFQUNFLGtCQUFrQjtFQUNsQixpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxTQUFTO0VBQ1Qsa0JBQWtCO0VBQ2xCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLFlBQVk7RUFDWixlQUFlO0VBQ2YsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixjQUFjO0VBQ2QscUJBQXFCO0VBQ3JCLHlCQUF5QjtFQUN6QixtQkFBbUI7RUFDbkIscURBQXFEO0FBQ3ZEOztBQUVBOzs7RUFHRSxjQUFjO0VBQ2QscUJBQXFCO0FBQ3ZCO0FBQ0E7RUFDRSxrQkFBa0I7RUFDbEIsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsU0FBUztFQUNULGtCQUFrQjtFQUNsQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxXQUFXO0FBQ2I7QUFDQTtFQUNFLGFBQWE7QUFDZjtBQUNBO0VBQ0UsYUFBYTtFQUNiLGtCQUFrQjtFQUNsQixrQkFBa0I7QUFDcEI7QUFDQTtFQUNFLFVBQVU7QUFDWjtBQUNBO0VBQ0UsYUFBYTtBQUNmO0FBQ0E7RUFDRSxXQUFXO0FBQ2I7QUFDQTtFQUNFLFNBQVM7QUFDWDtBQUNBO0VBQ0UsaUJBQWlCO0FBQ25CO0FBQ0E7RUFDRTtBQUNGO0FBQ0E7RUFDRSxrQkFBa0I7QUFDcEI7QUFDQTtFQUNFLGFBQWE7QUFDZjtBQUNBO0VBQ0UsVUFBVTtBQUNaOzs7OztBQUtBO0VBQ0U7SUFDRSxXQUFXO0lBQ1gsc0JBQXNCO0VBQ3hCO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIubGlua2xpbmsge1xuICBwYWRkaW5nOiAwO1xuICBtYXJnaW46IDA7XG4gIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIFNlZ29lIFVJLCBSb2JvdG8sIE94eWdlbixcbiAgICBVYnVudHUsIENhbnRhcmVsbCwgRmlyYSBTYW5zLCBEcm9pZCBTYW5zLCBIZWx2ZXRpY2EgTmV1ZSwgc2Fucy1zZXJpZjtcbiAgZm9udC1zdHlsZTogaXRhbGljO1xuICBmb250LXNpemU6IGluaGVyaXQ7XG59XG4ubGlua2xpbms6aG92ZXIge1xuICBwYWRkaW5nOiAxO1xuICBtYXJnaW46IDA7XG4gIGNvbG9yOiAjMDA3MGYzO1xuICBmb250LXNpemU6IDExMCU7XG59XG4ubGlua2xpbms6YWN0aXZlIHtcbiAgcGFkZGluZzogMTtcbiAgbWFyZ2luOiAwO1xuICBmb250LXNpemU6IDExNSU7XG4gIGNvbG9yOiAjZmZhYzMzO1xufVxuLnBhZ2VzeW1ib2wge1xuICBmb250LXNpemU6IDNyZW07XG4gIGNvbG9yOiB3aGl0ZTtcbn1cbi5wYWdlc3ltYm9sOmhvdmVyLFxuLnBhZ2VzeW1ib2w6Zm9jdXMsXG4ucGFnZXN5bWJvbDphY3RpdmUge1xuICBmb250LXNpemU6IDZyZW07XG4gIGNvbG9yOiAjMDA3MGYzO1xufVxuLnBhZ2VzeW1ib2wgdGV4dCB7XG4gIGZvbnQtc2l6ZTogMC4wMDA1JTtcbiAgY29sb3I6IHdoaXRlO1xufVxuLnBhZ2VzeW1ib2wgdGV4dDpob3Zlcixcbi5wYWdlc3ltYm9sIHRleHQ6Zm9jdXMsXG4ucGFnZXN5bWJvbCB0ZXh0OmFjdGl2ZSB7XG4gIGZvbnQtc2l6ZTogMnJlbTtcbiAgY29sb3I6ICNmZmFjMzM7XG59XG4uZ2lnYW50aWN7XG4gIGZvbnQtc2l6ZTogMjAwcHg7XG4gIHRleHQtYWxpZ246IGluaGVyaXQ7XG59XG4ud29ya3NjaXRlZCB7XG4gIGZvbnQtc2l6ZTogMTJwdDtcbiAgZm9udC1mYW1pbHk6IFwiVGltZXMgTmV3IFJvbWFuXCIsIFRpbWVzLCBzZXJpZjtcbn1cbi53b3Jrc2NpdGVkIHBwIHtcbiAgZm9udC1zaXplOiAxMnB0O1xuICBmb250LWZhbWlseTogXCJUaW1lcyBOZXcgUm9tYW5cIiwgVGltZXMsIHNlcmlmO1xufVxuLmhyZWYge1xuICBmb250LXNpemU6IGluaGVyaXQ7XG4gIGZvbnQtd2VpZ2h0OiBpbmhlcml0O1xuICBjb2xvcjogIzAwNzBmMztcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG59XG4uc2NhbnNpb24ge1xuICBmb250LWZhbWlseTogTWVubG87XG4gIGZvbnQtc2l6ZTogMTFwdDtcbn1cblxuLmNoZWNrYm94Y2FyZCB7XG4gIG1hcmdpbjogMXJlbTtcbiAgZmxleC1iYXNpczogNDUlO1xuICBwYWRkaW5nOiAxLjVyZW07XG4gIHRleHQtYWxpZ246IGxlZnQ7XG4gIGNvbG9yOiBpbmhlcml0O1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNlYWVhZWE7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIHRyYW5zaXRpb246IGNvbG9yIDAuMTVzIGVhc2UsIGJvcmRlci1jb2xvciAwLjE1cyBlYXNlO1xufVxuXG4uY2hlY2tib3hjYXJkIGgzIHtcbiAgbWFyZ2luOiAwIDAgMXJlbSAwO1xuICBmb250LXNpemU6IDEuNXJlbTtcbn1cblxuLmNoZWNib3hjYXJkIHAge1xuICBtYXJnaW46IDA7XG4gIGZvbnQtc2l6ZTogMS4yNXJlbTtcbiAgbGluZS1oZWlnaHQ6IDEuNTtcbn1cblxuLmNoZWNrYm94Y2FyZCBjaGVja2JveCB7XG4gIG1hcmdpbjogMXJlbTtcbiAgZmxleC1iYXNpczogNDUlO1xuICBwYWRkaW5nOiAwLjNyZW07XG4gIHRleHQtYWxpZ246IGxlZnQ7XG4gIGNvbG9yOiBpbmhlcml0O1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNlYWVhZWE7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIHRyYW5zaXRpb246IGNvbG9yIDAuMTVzIGVhc2UsIGJvcmRlci1jb2xvciAwLjE1cyBlYXNlO1xufVxuLmNoZWNrYm94Y2FyZCBjaGVja2JveDpob3Zlcixcbi5jaGVja2JveGNhcmQgY2hlY2tib3g6Zm9jdXMsXG4uY2hlY2tib3hjYXJkIGNoZWNrYm94OmFjdGl2ZSB7XG4gIGNvbG9yOiAjMDA3MGYzO1xuICBib3JkZXItY29sb3I6ICMwMDcwZjM7XG59XG4uY2hlY2tib3hjYXJkIG9wcG9zaXRlYm94IHtcbiAgY29sb3I6IHdoaXRlO1xuICBib3JkZXItY29sb3I6IHdoaXRlO1xufVxuLmNoZWNrYm94Y2FyZCBvcHBvc2l0ZWJveDpob3Zlcixcbi5jaGVja2JveGNhcmQgb3Bwb3NpdGVib3g6Zm9jdXMsXG4uY2hlY2tib3hjYXJkIG9wcG9zaXRlYm94OmFjdGl2ZSB7XG4gIGNvbG9yOiAjMDA3MGYzO1xuICBib3JkZXItY29sb3I6ICMwMDcwZjM7XG4gIGZvbnQtc2l6ZTogMnJlbTtcbn1cbi5ncmlkIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGZsZXgtd3JhcDogd3JhcDtcbiAgbWF4LXdpZHRoOiA4MDBweDtcbiAgbWFyZ2luLXRvcDogM3JlbTtcbn1cbi5zdGFjayB7XG4gIGRpc3BsYXk6IC1tb3otc3RhY2s7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBmbGV4LXdyYXA6IG5vd3JhcDtcbiAgbWF4LXdpZHRoOiA4MDBweDtcbiAgbWFyZ2luLXRvcDogM3JlbTtcbn1cbi5ib3gge1xuICBkaXNwbGF5OiAtbW96LWJveDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGZsZXgtd3JhcDogbm93cmFwO1xuICBtYXgtd2lkdGg6IDgwMHB4O1xuICBtYXJnaW4tdG9wOiAzcmVtO1xufVxuLnBvcHVwIHtcbiAgZGlzcGxheTogLW1vei1wb3B1cDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGZsZXgtd3JhcDogbm93cmFwO1xuICBtYXgtd2lkdGg6IDgwMHB4O1xuICBtYXJnaW4tdG9wOiAzcmVtO1xufVxuLmNvbnRhaW5lciB7XG4gIG1pbi1oZWlnaHQ6IDEwMHZoO1xuICBwYWRkaW5nOiAwIDAuNXJlbTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5tYWluIHtcbiAgcGFkZGluZzogNXJlbSAwO1xuICBmbGV4OiAxO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuLmZvb3RlciB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMHB4O1xuICBib3JkZXItdG9wOiAxcHggc29saWQgI2VhZWFlYTtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5mb290ZXIgaW1nIHtcbiAgbWFyZ2luLWxlZnQ6IDAuNXJlbTtcbn1cblxuLmZvb3RlciBhIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi50aXRsZSBhIHtcbiAgY29sb3I6ICMwMDcwZjM7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbn1cblxuLnRpdGxlIGE6aG92ZXIsXG4udGl0bGUgYTpmb2N1cyxcbi50aXRsZSBhOmFjdGl2ZSB7XG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xufVxuXG4udGl0bGUge1xuICBtYXJnaW46IDA7XG4gIGxpbmUtaGVpZ2h0OiAxLjE1O1xuICBmb250LXNpemU6IDRyZW07XG59XG5cbi50aXRsZSxcbi5kZXNjcmlwdGlvbiB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbi5kZXNjcmlwdGlvbiB7XG4gIGxpbmUtaGVpZ2h0OiAxLjU7XG4gIGZvbnQtc2l6ZTogMS41cmVtO1xufVxuLmRlc2NyaXB0bGVmdCB7XG4gIGxpbmUtaGVpZ2h0OjEuNTtcbiAgZm9udC1zaXplOjEuNXJlbTtcbiAgdGV4dC1hbGlnbjpjZW50ZXI7XG4gIHRleHQtanVzdGlmeTogbGVmdDtcbn1cbi5jb2RlIHtcbiAgYmFja2dyb3VuZDogI2ZhZmFmYTtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICBwYWRkaW5nOiAwLjc1cmVtO1xuICBmb250LXNpemU6IDEuMXJlbTtcbiAgZm9udC1mYW1pbHk6IE1lbmxvLCBNb25hY28sIEx1Y2lkYSBDb25zb2xlLCBMaWJlcmF0aW9uIE1vbm8sIERlamFWdSBTYW5zIE1vbm8sXG4gICAgQml0c3RyZWFtIFZlcmEgU2FucyBNb25vLCBDb3VyaWVyIE5ldywgbW9ub3NwYWNlO1xufVxuXG4uZ3JpZCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIG1heC13aWR0aDogODAwcHg7XG4gIG1hcmdpbi10b3A6IDNyZW07XG59XG4uY29ycmVjdCB7XG4gIG1hcmdpbjogMXJlbTtcbiAgZmxleC1iYXNpczogNDUlO1xuICBwYWRkaW5nOiAxLjVyZW07XG4gIHRleHQtYWxpZ246IGxlZnQ7XG4gIGNvbG9yOiBpbmhlcml0O1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gIHRleHQtZW1waGFzaXM6IGJvbGQ7XG4gIGJvcmRlcjogMXB4IHNvbGlkIGxpZ2h0Z3JlZW47XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIHRyYW5zaXRpb246IGNvbG9yIDAuMTVzIGVhc2UsIGJvcmRlci1jb2xvciAwLjE1cyBlYXNlO1xufVxuLmNvcnJlY3Q6aG92ZXIsXG4uY29ycmVjdDpmb2N1cyxcbi5jb3JyZWN0OmFjdGl2ZSB7XG4gIGNvbG9yOiBncmVlbjtcbiAgYm9yZGVyLWNvbG9yOiBncmVlbjtcbn1cbi5jb3JyZWN0IGgzIHtcbiAgbWFyZ2luOiAwIDAgMXJlbSAwO1xuICBmb250LXNpemU6IDEuNXJlbTtcbn1cblxuLmNvcnJlY3QgcCB7XG4gIG1hcmdpbjogMDtcbiAgZm9udC1zaXplOiAxLjI1cmVtO1xuICBsaW5lLWhlaWdodDogMS41O1xufVxuLm9rIHtcbiAgbWFyZ2luOiAxcmVtO1xuICBmbGV4LWJhc2lzOiA0NSU7XG4gIHBhZGRpbmc6IDEuNXJlbTtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbiAgY29sb3I6IGluaGVyaXQ7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgdGV4dC1lbXBoYXNpczogYm9sZDtcbiAgYm9yZGVyOiAxcHggc29saWQgeWVsbG93O1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICB0cmFuc2l0aW9uOiBjb2xvciAwLjE1cyBlYXNlLCBib3JkZXItY29sb3IgMC4xNXMgZWFzZTtcbn1cbi5vazpob3Zlcixcbi5vazpmb2N1cyxcbi5vazphY3RpdmUge1xuICBjb2xvcjogb3JhbmdlO1xuICBib3JkZXItY29sb3I6IG9yYW5nZTtcbn1cbi5vayBoMyB7XG4gIG1hcmdpbjogMCAwIDFyZW0gMDtcbiAgZm9udC1zaXplOiAxLjVyZW07XG59XG5cbi5vayBwIHtcbiAgbWFyZ2luOiAwO1xuICBmb250LXNpemU6IDEuMjVyZW07XG4gIGxpbmUtaGVpZ2h0OiAxLjU7XG59XG5cbi5jYXJkIHtcbiAgbWFyZ2luOiAxcmVtO1xuICBmbGV4LWJhc2lzOiA0NSU7XG4gIHBhZGRpbmc6IDEuNXJlbTtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbiAgY29sb3I6IGluaGVyaXQ7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgYm9yZGVyOiAxcHggc29saWQgI2VhZWFlYTtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgdHJhbnNpdGlvbjogY29sb3IgMC4xNXMgZWFzZSwgYm9yZGVyLWNvbG9yIDAuMTVzIGVhc2U7XG59XG5cbi5jYXJkOmhvdmVyLFxuLmNhcmQ6Zm9jdXMsXG4uY2FyZDphY3RpdmUge1xuICBjb2xvcjogIzAwNzBmMztcbiAgYm9yZGVyLWNvbG9yOiAjMDA3MGYzO1xufVxuLmNhcmQgaDMge1xuICBtYXJnaW46IDAgMCAxcmVtIDA7XG4gIGZvbnQtc2l6ZTogMS41cmVtO1xufVxuXG4uY2FyZCBwIHtcbiAgbWFyZ2luOiAwO1xuICBmb250LXNpemU6IDEuMjVyZW07XG4gIGxpbmUtaGVpZ2h0OiAxLjU7XG59XG5cbi5sb2dvIHtcbiAgaGVpZ2h0OiAxZW07XG59XG4uc3BhY2UyIHtcbiAgbGluZS1oZWlnaHQ6Mjtcbn1cbi5fMjE1IHtcbiAgbGluZS1oZWlnaHQ6MjtcbiAgZm9udC1zaXplOiAxLjI1cmVtO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4uY3lhbiB7XG4gIGNvbG9yOmN5YW47XG59XG4ubWFnZW50YSB7XG4gIGNvbG9yOm1hZ2VudGE7XG59XG4uZ3JlZW4ge1xuICBjb2xvcjpncmVlbjtcbn1cbi5yZWQge1xuICBjb2xvcjpyZWQ7XG59XG4ubGNvcmFsIHtcbiAgY29sb3I6IGxpZ2h0Y29yYWw7XG59XG4ubHNhbG1vbntcbiAgY29sb3I6IGxpZ2h0c2FsbW9uXG59XG4uZ3JlZW55ZWxsb3d7XG4gIGNvbG9yOiBncmVlbnllbGxvdztcbn1cbi5za3libHVlIHtcbiAgY29sb3I6c2t5Ymx1ZTtcbn1cbi5ibHVlIHtcbiAgY29sb3I6Ymx1ZTtcbn1cblxuXG5cblxuQG1lZGlhIChtYXgtd2lkdGg6IDYwMHB4KSB7XG4gIC5ncmlkIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */ 
```

# highcharts - 对齐 highcharts 轴的原点

> ID：14975739
> 
> 赞同：0
> 
> 时间：2013-02-20T08:57:39.037
> 
> 标签：highcharts

我有两个系列，我们应该在同一个图表上绘制，如[示例](http://jsfiddle.net/hVVA7/2/)所示，我如何“同步”轴，以便两条“0”（原点）线对齐？

我不能使用linkedTo 属性，因为这些值也是相同的，而这些应该是独立的。只有 0 线的位置应该相同。

```
yAxis: [{ // Primary yAxis
            labels: {
                formatter: function() {
                    return this.value +'°C';
                },
                style: {
                    color: '#89A54E'
                }
            },
            title: {
                text: 'Temperature',
                style: {
                    color: '#89A54E'
                }
            }
        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T10:23:15.243

您可以尝试使用负值作为第二个（列）yAxis 的最小值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T11:45:00.597

这里做了类似的事情，对于第一个按钮：http: [//jsfiddle.net/Fusher/5m9JW/](http://jsfiddle.net/Fusher/5m9JW/)

这不是完美的解决方案，但允许在`afterSetExtremes`

# c# - 对于循环问题，“i”不归零

> ID：14975742
> 
> 赞同：1
> 
> 时间：2013-02-20T08:57:41.440
> 
> 标签：c#

我不确定我还能如何进行循环检查以查找字母，通过添加“C”（或不是）来检查它是否大写，然后继续字符串中的其余字符。我不太擅长解释这里发生的事情，因为我对 C# 有点陌生。但是 'for' 循环中的 'i' 永远不会重置为 0，从而导致您收到错误的输出。

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace Encrypt
{
    class Program
    {
        static char[] alphabet = new char[52] { 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'z' };
        static void Main(string[] args)
        {

            string input = Console.ReadLine();
            string output = Decode(input);
            Console.WriteLine(output);
            Console.ReadLine();

        }

        static string Decode(string input)
        {
            string output = "";
            foreach (Char c in input)
            {
                for (int i = 0; i < alphabet.GetLength(0); i++)
                {
                    if (c == alphabet[i])
                    {
                        int intoutput = i + 1;
                        if (intoutput > 26)
                        {
                            intoutput = intoutput - 26;
                            output = "C" + intoutput + " ";
                        }
                        else
                        {
                            output = intoutput + " ";
                        }
                    }
                }
            }
        return output;
        } 
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:13:48.087

您的问题不在于重置`i`，您的问题在于

```
output = "C" + intoutput + " ";
...
output = intoutput + " "; 
```

这些不附加到`output`，它们*分配*到`output`，这意味着先前分配的值会丢失。你会想要类似的东西

```
output = output + "C" + intoutput + " ";
...
output = output + intoutput + " "; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:22:33.720

您在每次迭代中都覆盖了输出。

输出+=“C”+int输出+“”；输出+=int输出+“”；

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T09:27:04.327

您说`output =`which**重新分配** `output`给不同的值，它**不会添加到它**，而是您想要`output +=`。

此外，字母字符按顺序存储在字符集 ( `'b' = 'a' + 1`) 中，这应该有效：

```
foreach (Char c in input)
{
  if ('A' <= c <= 'Z')
    output += "C" + (int)(c - 'A') + " ";
  else if ('a' <= c <= 'z')
    output += (int)(c - 'a') + " ";
} 
```

**编辑：**另一个版本：

```
foreach (Char c in input)
{
  if (Char.IsUpper(c))
    output += "C" + (int)(c - 'A') + " ";
  else if (Char.IsLower(c))
    output += (int)(c - 'a') + " ";
} 
```

以上两种方法都比您的算法快得多，因为它不必遍历 1-52 个值，只需进行 1-4 次比较。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-20T09:35:39.377

```
 var output = new StringBuilder();
  foreach (Char c in input)
  {
    for (int i = 0; i < alphabet.Length; i++)
    {
      if (c == alphabet[i])
      {
        if (Char.IsUpper(c))
          output.AppendFormat("C{0} ", i-26); 
        else
          output.AppendFormat("{0} ",i);
      }
    }
  }
  return output.ToString(); 
```

或者

```
 return string.Join(" ", input.ToCharArray().Select(c =>
  {
    for (int i = 0; i < alphabet.Length; i++)
    {
      if (c == alphabet[i])
        return Char.IsUpper(c) ?
          string.Format("C{0}", i - 26)
          :
          i.ToString();
    }
    return "";
  }).ToArray()).Trim(); 
```

或没有循环

```
 //static List<char> alphabet = new List<char> { 'a', 'b', 'c'...};
  int i;
  return string.Join(" ", input.ToCharArray().Select(c =>
    (i = alphabet.IndexOf(c)) != -1 ?
      (Char.IsUpper(c) ?
        string.Format("C{0}", i - 26)
        :
        i.ToString()
      )
      :
     ""
  ).ToArray());
} 
```

最后没有字母数组

```
 return string.Join(" ", input.ToCharArray().Select(c =>
    Char.IsLetter(c) ?
      (Char.IsUpper(c) ?
        string.Format("C{0}", c-'A')
        :
        (c-'a').ToString()
      )
      :
     ""
  ).ToArray()).Trim(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-12-06T20:04:53.650

到这里你的答案就完成了

```
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;

namespace Encrypt
{
  class Program
  {
        static char[] alphabet = new char[52] { 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'z' };

       static void Main(string[] args)
       {
            string input = Console.ReadLine();
            string output = Decode(input);
            Console.WriteLine(output);
            Console.ReadLine();
       }

       static string Decode(string input)
       {
            string output = "";
            foreach (Char c in input)
            {
               for (int i = 0; i < alphabet.GetLength(0); i++)
               {
                  if (c == alphabet[i])
                  {
                     int intoutput = i + 1;
                     if (intoutput > 26)
                     {
                         intoutput = intoutput - 26;
                         output = output + "C" + intoutput + " ";
                     }
                     else
                     {
                         output = output + intoutput + " ";
                     }
                   }
                }
            }
         return output;
       } 
     }
  } 
```

# scala - 在 Play 中排队异步任务！- 正确的方法

> ID：14975745
> 
> 赞同：1
> 
> 时间：2013-02-20T08:57:50.627
> 
> 标签：scala, playframework, redis, akka, task-queue

我有一点玩！application(2.1, scala) 作为 Java 库的 RESTful 前端。此 Web 应用程序使用以下方式对任务进行排队以进行后台处理：

```
Akka.system.scheduler.scheduleOnce(Duration(0, SECONDS)) {
      new TaskWorker().run(batchId)
} 
```

在`Tasks`控制器中。

目标是立即开始 Java 库的繁重处理，但在后台。

随着 Scala 2.10 及其[futures 和 promises](http://docs.scala-lang.org/sips/pending/futures-promises.html)的出现，重构队列以利用这个新 API 是否更有意义？

一般来说，我正在寻找一种能够执行[Resque](https://github.com/defunkt/resque) Ruby 库当前实现的后台处理的方法，但也许有一个进程内内存队列。（Redis 支持的队列也可以）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-08-05T10:10:12.850

使用 Akka 演员

```
case class BatchTask(id: Int)
class TaskActor extends Actor {
  def receive = {
    case BatchTask(batchId) => new TaskWorker().run(batchId)
  }
}

val taskWorker = context.actorOf(Props[TaskActor])

taskWorker ! BatchTask(batchId1)
taskWorker ! BatchTask(batchId2)
taskWorker ! BatchTask(batchId3) 
```

# python - 在python中将加密密码存储到mysql

> ID：14975750
> 
> 赞同：2
> 
> 时间：2013-02-20T08:57:56.007
> 
> 标签：python

```
import sys
import hashlib
import getpass
from passlib.hash import sha256_crypt
import MySQLdb, random, os

def SQLAddPass(username, password):
    SQL = 'insert into user values ("%s", "%s")' % (username, password)

    try:
        db = MySQLdb.connect (host='localhost', user='root', db='vedio')
        c = db.cursor()
        c.execute(SQL)
        db.commit()
        c.close()
        db.close()
        raw_input('Record Added - press enter to continue: ')
    except:
        print 'There was a problem adding the record'
        raw_input ('press enter to continue')

def main(argv):

    print '\nUser & Password Storage Program v.01\n'

    username = raw_input('Please Enter a User Name: ')
    password = sha256_crypt.encrypt(getpass.getpass('Please Enter a Password: '))

    try:
        SQLAddPass(username, password)

    except:
        sys.exit('There was a problem saving Record!')

    print '\nPassword safely stored in ' + sys.argv[1] + '\n'      

if __name__ == "__main__":
    main(sys.argv[1:]) 
```

我的问题是脚本有效，但出现以下错误**

> （C:\Users\Elsie\Desktop\example.py:14：警告：第 1 行 c.execute(SQL) 记录已截断列“密码”的数据 - 按 Enter 键继续：

**

密码安全地存储在数据库中。我做错了什么欢迎对代码的任何想法或更改）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:10:49.437

> 第 1 行的“密码”列的数据被截断

意味着您的表有一个长度为 10 的密码列，并且您正在插入一条记录，比如说 20。您插入的记录将被截断。并且密码会被破解。

增加表中列的长度

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:08:30.340

您的“密码”字段可能太短。你需要一个 varchar(64)。您的密码字段的长度是多少？

# laravel - Laravel 4：读取由 javascript 设置的 cookie

> ID：14975751
> 
> 赞同：16
> 
> 时间：2013-02-20T08:57:58.200
> 
> 标签：laravel, laravel-4

如果我使用 javascript 设置 cookie，我将如何使用 Laravel 4 读取它？

我问的原因是文档说：

```
All cookies created by the Laravel framework are encrypted and signed 
with an authentication code, meaning they will be considered invalid 
if they have been changed by the client. 
```

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-02-20T11:47:31.077

只需使用原生 PHP 命令来检索 cookie：`$_COOKIE['cookie'])`

或者也许你可以通过 AJAX 命令设置 cookie（而不是 JS 自己做） - 并让 Laravel 代表它设置 JS 提供的 cookie？

[此链接确认通过 AJAX 设置 cookie](https://stackoverflow.com/q/3340797/1317935) - 它只是一个变体。

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2018-03-30T17:10:53.947

在 Laravel 5.6（也可能是更早的版本）中：

`$except`在 内的数组中指定 cookie 名称`App\Http\Middleware\EncryptCookies.php`。

它告诉 Laravel 这些 cookie 没有加密（因此在读取时不需要解密）。

（PS 感谢[https://github.com/laravel/laravel/pull/460#issuecomment-377537771](https://github.com/laravel/laravel/pull/460#issuecomment-377537771)）

# c++ - 是否可以在 C/C++ 中更改自动变量的分配区域？

> ID：14975754
> 
> 赞同：5
> 
> 时间：2013-02-20T08:58:04.047
> 
> 标签：c++, c, memory-management, stack, local-variables

这是 C 和 C++ 的理论问题。

我有一个 4x4 矩阵类型，它的定义非常简单：

```
typedef float   Matrix44[16]; 
```

我也有许多以 a`Matrix44`作为参数的方法，例如：

```
bool matrixIsIdentity(Matrix44 m); 
```

我还有一个自定义的内存分配方案，在堆上预先分配了大面积的内存，然后我手动管理该预取内存上的分配。因此，我已经用我自己的实现替换/重载`malloc`/ 。`new`问题是，自定义`malloc`和`new`本质上都返回一个指针，而不是一个对象。

通常，我会简单地执行以下操作：

```
 // Method 1
1] Matrix44 mat = { ... };
2] bool res = matrixIsIdentity(mat); 
```

但是，第 1 行分配`mat`在堆栈上，而不是我希望的自定义​​内存区域。另一种选择是：

```
 // Method 2
1]  Matrix44 *mmat = myMalloc(...);
1a] Matrix44 *nmat = new ...
2]  bool res = matrixIsIdentity(*mat); 
```

这里的问题是我将不得不在我的代码中乱扔解引用运算符。现在一种选择是重写所有要采用的方法`Matrix44*`，但是，由于这是理论上的，我想假设这不是一种选择。

因此我的问题变成了：有没有办法在 C 和/或 C++ 中声明一个自动变量`Method 1 Line 1`，但是否遵循备用分配方案（如`Method 2 Line 1`）？

（*我很欣赏这可能涉及与编译器相关的讨论，但我没有为此添加标签*）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-02-20T09:03:00.567

这是不可能的，自动变量是基于堆栈的。但是你可以在构造函数中做任何你想做的事情。因此，您的 Matrix44 将只是一个薄包装器，例如 Matrix44Impl 它将指向您的“自定义”内存。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-02-20T09:49:28.557

好吧，它并不是 100% 完全符合您的要求，但是如果我理解正确的话，使用参考会*看起来像*您想要的，并且行为或多或少与您想要的没有区别：

```
Matrix44& mmat = *new Matrix44(...);   // or *myMalloc() or whatever

mmat.Rotate(45.0);
bool res = matrixIsIdentity(mat);
...
delete &mmat; // or myFree(&mmat) or something similar 
```

请注意对`new`, 和 address-of 运算符的取消引用，`delete`这无疑有点奇怪，但我不明白为什么它在语法/语义上是错误的。编译器也可以接受它，并且它“有效”。

不过，我强烈建议不要这样做。即使它“工作”得非常好，它也是误导性的。代码应该看起来像它正在做的那样，它应该做它看起来的样子。这段代码没有。

*看起来*它存在于堆栈上的东西不应该被要求（或者，甚至可能！）交给`delete`，并且可以说，即使它“工作正常”，做一些奇怪的事情的代码也不能真正“工作”。

# c# - 如何在调用 Process.GetProcessById 之前检查进程是否仍在运行？

> ID：14975755
> 
> 赞同：8
> 
> 时间：2013-02-20T08:58:05.367
> 
> 标签：c#, .net, system.diagnostics

在 .NET[`Process.GetProcessById`](http://msdn.microsoft.com/en-us/library/76fkb36k.aspx)中，如果具有此 ID 的进程未运行，则会引发异常。如何安全地调用此方法使其不会引发异常？我在想类似的东西

```
if(Process.IsRunning(id)) return Process.GetProcessById(id);
else return null; //or do something else 
```

但是找不到任何检查ID的方法，除了可能获取所有正在运行的进程并检查ID是否存在于列表中。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2013-02-20T09:06:55.207

```
public Process GetProcByID(int id)
{
    Process[] processlist = Process.GetProcesses();
    return processlist.FirstOrDefault(pr => pr.Id == id);
} 
```

我看了里面的`Process.GetProcessById`方法。

它使用内部静态类 ProcessManager 来确保该进程运行。ProcessManager 获取当前在系统中运行的所有进程并检查那里的 id，所以我认为这是最好的方法。

所以你应该考虑异常的开销或`Process`数组的开销。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-02-20T09:00:48.427

只需使用 try-catch 块

```
Process p = null;
try{
  p = Process.GetProcessById(id);
}
catch(Exception){

}
return p; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-20T09:06:02.657

是的，使用 try + catch 可能会成功。如果进程没有运行，则不会发生任何事情，而是抛出异常。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2019-02-16T21:21:16.177

使用 pinvoke 的相同代码，这应该比 GetProcesses 更快，因为它不需要枚举所有进程。

```
[DllImport("kernel32.dll", SetLastError = true)]
public static extern IntPtr OpenProcess(ProcessAccessFlags access, bool inheritHandle, int procId);
[DllImport("kernel32.dll", SetLastError = true)]
[return: MarshalAs(UnmanagedType.Bool)]
static extern bool CloseHandle(IntPtr hObject);

[DllImport("kernel32.dll", SetLastError = true)]
[return: MarshalAs(UnmanagedType.Bool)]
static extern bool GetExitCodeProcess(IntPtr hProcess, out uint lpExitCode);

[Flags]
public enum ProcessAccessFlags : uint
{
    All = 0x001F0FFF,
    Terminate = 0x00000001,
    CreateThread = 0x00000002,
    VirtualMemoryOperation = 0x00000008,
    VirtualMemoryRead = 0x00000010,
    VirtualMemoryWrite = 0x00000020,
    DuplicateHandle = 0x00000040,
    CreateProcess = 0x000000080,
    SetQuota = 0x00000100,
    SetInformation = 0x00000200,
    QueryInformation = 0x00000400,
    QueryLimitedInformation = 0x00001000,
    Synchronize = 0x00100000
}

/// <summary>
/// Checks if given process is still alive
/// </summary>
/// <param name="processId">process id</param>
/// <returns>true if process is alive, false if not</returns>
static public bool IsProcessAlive(int processId)
{
    IntPtr h = OpenProcess(ProcessAccessFlags.QueryInformation, true, processId);

    if (h == IntPtr.Zero)
        return false;

    uint code = 0;
    bool b = GetExitCodeProcess(h, out code);
    CloseHandle(h);

    if (b)
        b = (code == 259) /* STILL_ACTIVE  */;

    return b;
} 
```

# java - 使用多个广告网络

> ID：14975756
> 
> 赞同：0
> 
> 时间：2013-02-20T08:58:06.930
> 
> 标签：java, android, webview, admob, leadbolt

我刚刚在我的 android 应用程序中实现了广告网络 Leadbolt。我使用 HTML 横幅作为我的广告类型。如果 Leadbolt 无法加载使用 Admob 等，我想要某种后备解决方案。

引入 Leadbolt html 广告是通过 webview 完成的，您将 URL 传递给 webview，广告就会显示在其中。

这是代码：

```
wv.getSettings().setJavaScriptEnabled(true);
wv.setBackgroundColor(Color.TRANSPARENT);
String html = "MY_ID";
wv.loadData(html, "text/html", "utf-8"); 
```

我还将我的 Webview (wv) 设置为：setWebViewClient，所以我会收到回调，但**即使**我没有任何互联网连接，我也会收到回调 OnPageFinished，所以我无法确定我的广告是否已加载或已完成。

有没有人有任何建议如何做到这一点，以帮助我提供后备解决方案？

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T22:50:55.743

检查您的 www.adwhirl.com 使用 SDK 和主页，您可以创建具有后备层次结构的新“应用程序”。您需要做的就是在 adwhirl 上创建一个自定义事件，实现在 Leadbolt 上调用广告的方法，将您的发布商 ID 添加到 admob 设置并设置后备层次结构。

希望这可以帮助。祝你好运。

# ajax - jsf 侦听器未在嵌套 ui:repeat 中调用

> ID：14975758
> 
> 赞同：2
> 
> 时间：2013-02-20T08:58:08.150
> 
> 标签：ajax, jsf, listener

`ui:repeat`我在想调用监听器的地方使用嵌套时遇到问题。我也尝试过`c:forEach`，但遇到了同样的问题。

为了演示问题，我将代码简化为问题。里面有两个按钮，第一个ui:repeat里面第一个，调用成功一个简单的监听器。第二个按钮在嵌套的 ui:repeat 元素内，应该调用与第一个按钮相同的侦听器，但永远不会调用侦听器。

你能告诉我这有什么问题吗？

```
<div>
    <ui:repeat var="testList" value="#{testBean.testList}">
        <h:commandButton value="test1">
            // the listener is called if I click this button
            <f:ajax event="click" execute="@this" listener="#{testBean.testListener}" />
        </h:commandButton>
        <ui:repeat var="nestedList" value="#{testList.nestedList}">
            <h:commandButton value="test2">
                // the listener will not be called if I click this button
                <f:ajax event="click" execute="@this" listener="#{testBean.testListener}" />
            </h:commandButton>
        </ui:repeat>
    </ui:repeat>
</div> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T12:06:42.080

这是一个已知的 Mojarra 问题，与`<ui:repeat>`. 具体来说，此问题报告为[问题 1817](http://java.net/jira/browse/JAVASERVERFACES-1817)，并自 Mojarra 2.1.15 起已修复。

升级您的 Mojarra 版本。目前[已经](http://javaserverfaces.java.net)是 2.1.19。

# asp.net - 将 Eval() 作为参数传递与从代码隐藏调用

> ID：14975761
> 
> 赞同：1
> 
> 时间：2013-02-20T08:58:15.520
> 
> 标签：asp.net, eval

我已经看到 Eval() 都被称为参数，例如在中继器 `<%#DoMethod(Eval("field"))%>`中，然后在代码隐藏中

```
protected string DoMethod(object eval)
{
    return .....
} 
```

但我也看到了

```
protected string DoMethod()
{
    string field = Eval("field").ToString();
    return .....
} 
```

哪个更好？

我最初的猜测是第二种，因为这可以帮助调试，但我也听说第一种方法更好。

# jquery - 用于动态添加隐藏输入字段的 JQuery 验证引擎

> ID：14975770
> 
> 赞同：2
> 
> 时间：2013-02-20T08:58:26.960
> 
> 标签：jquery, jquery-validation-engine

我想使用 JQuery Validation Engine 插件来查看动态添加的隐藏输入字段。

提交表单时，必须至少有一个字段存在。

它试图通过 groupRequired Validator 来实现这一点

[http://posabsolute.github.com/jQuery-Validation-Engine/#validators/grouprequired](http://posabsolute.github.com/jQuery-Validation-Engine/#validators/grouprequired)

```
<link rel="stylesheet" href="css/validationEngine.jquery.css" type="text/css"/>
                     <script>
                    $(document).ready(function(){
                        $("#tagform").validationEngine();
                       });
                    </script>
        <form id="tagform">
               <input type="hidden" name="tags" id="tags-input" />
                    <input type="hidden" name="inc" value="locate">
                    <input type="hidden" class="validate[groupRequired[tagitem]]" name="validation">
                    <br><br>
                    <input type="submit" value="Save Tags">

        </form> 
```

添加的字段如下所示：

```
 var formhtml ='<input type="hidden" name="tags[]" class="validate[groupRequired[tagitem]]" id="id'+itemid+'" parenttag="'+parent+'" value="'+itemid+'">';
                $("#tagform").append(formhtml); 
```

目前它根本不检查隐藏字段。

知道如何解决此问题或其他方法吗？

**解决方法**

使用一个简单的 javaskript onSubmit 函数来检查标签的出现

```
function checkForm(form)
{
var count = $('input[name="tags[]"]').length;
if(count == 0 ) {
   alert("Select at least one tag");       
   return false;
}
alert ("Count " + count)
return true;
} 
```

仍然喜欢使用 Jquery Validation Engine

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-08-26T11:28:20.617

使用 validateNonVisibleFields 实例化 JQuery 验证

```
 <script>
    $(document).ready(function(){
        $("#formID").validationEngine({validateNonVisibleFields: true,
        updatePromptsPosition:true});

       });
    </script> 
```

您仍然有 Jquery / Javascript 无法获得隐藏字段位置的问题。所以使用 style visibility:hidden 代替。

```
<input name="hiddenq2" type="text" value="" class="validate[required]" jqtop="500" id="form-validation-field-1" style="visibility: hidden"> 
```

您可能仍然需要使用 promptPosition 选项进行一些调整，但至少会显示一些内容。

# android - 应用程序与 Android 设备的兼容性

> ID：14975774
> 
> 赞同：2
> 
> 时间：2013-02-20T08:58:32.557
> 
> 标签：android, google-play

有一个应用程序无法在特定设备上运行。我在 Manifest.xml 中有这个：

```
<uses-sdk android:minSdkVersion="8" /> 
```

它适用于 Android 4.0 的 HTC 感觉，但由于某种原因它与三星 Galaxy Tablet 2 7.0 不兼容。（安卓 4）

当我在安卓市场上传它时，我也可以看到不支持平板电脑。

我无法理解原因，你能告诉我为什么吗？

清单.xml：

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    android:installLocation="auto"
    package="test.newversion"
    android:versionCode="1"
    android:versionName="2.0" >

    <uses-sdk android:minSdkVersion="8" />

    <uses-permission android:name="android.permission.MANAGE_ACCOUNTS" />
    <uses-permission android:name="android.permission.USE_CREDENTIALS" />
    <uses-permission android:name="android.permission.AUTHENTICATE_ACCOUNTS" />
    <uses-permission android:name="android.permission.GET_ACCOUNTS" />
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_MOCK_LOCATION" />
    <uses-permission android:name="android.permission.CAMERA" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.READ_PHONE_STATE" />
    <uses-permission android:name="android.permission.VIBRATE" />
    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />

    <application
        android:icon="@drawable/app_logo"
        android:label="@string/app_name" >
        <uses-library android:name="com.google.android.maps" />

    </application>

</manifest> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T09:14:34.370

一些权限隐含地增加了对硬件的要求。例如，[文档](http://developer.android.com/reference/android/Manifest.permission.html)`CAMERA`说：

> 这将自动强制所有相机功能的清单元素。如果您不需要所有相机功能，或者在相机不可用的情况下可以正常运行，那么您必须根据需要修改清单，以便在不支持所有相机功能的设备上安装。

如果您不需要全部，请添加显式`uses-feature`元素`android:required="false"`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:01:57.647

如果尚未添加，请尝试在清单中为以下内容提供运气

```
<supports-screens android:smallScreens="false"
android:normalScreens="true" android:largeScreens="true"
/> 
```

根据您的标准更改它

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T09:20:43.233

很可能是创建过滤器的权限使市场删除了一些平板电脑。

例如，您在清单中有电话权限，如果平板电脑没有电话功能，那么它们将不兼容。正如亨利建议的那样，您可以查看`uses-feature`.`android:required="false"`

我建议您仔细查看`AndroidManifest.xml`并从那里开始。

# gnuplot - 将 WXT 终端添加到 GNUplot 4.6.1

> ID：14975776
> 
> 赞同：2
> 
> 时间：2013-02-20T08:58:35.183
> 
> 标签：gnuplot

这个 SO 线程提供了在 OSX 上使用 WXT 终端安装 GNUplot 的解决方案：

[在 OSX 的 GNUplot 上安装 WXT 终端](https://stackoverflow.com/questions/13001847/wxt-terminal-for-gnuplot-on-mac-os-x)

但是当我按照建议安装失败时：

> house@The-iMac:~$ sudo port install gnuplot +wxwidgets ---> 计算 freetype 的依赖项 ---> 配置 freetype 错误：org.macports.configure for port freetype 返回：错误复制“/opt/local/var/ macports/build/_opt_local_var_macports_sources_rsync.macports.org_release_tarballs_ports_print_freetype/freetype/work/freetype-2.4.10" 到 "/opt/local/var/macports/build/_opt_local_var_macports_sources_rsync.macports.org_release_tarballs_ports_print_freetype/freetype/work/freetype-2.4.10-x8 /freetype-2.4.10": 文件已存在 请查看端口 freetype 的日志文件了解详细信息：/opt/local/var/macports/logs/_opt_local_var_macports_sources_rsync.macports.org_release_tarballs_ports_print_freetype/freetype/main.log 错误：无法升级端口：1错误：无法执行端口：升级字体配置失败

我不能真正删除 Freetype，因为太多其他程序依赖于它。

我遵循了删除/重新安装的建议：

> 卸载当前版本的 Gnuplot，然后安装 gnuplot 的 +wxt 变体。
> 
> ***端口变体 gnuplot***列出可用的变体。
> 
> ***sudo port install gnuplot +wxwidgets***安装这个变种，但要小心它可能与 wxwidgets_devel 冲突

但它失败并出现同样的错误。

任何人都可以为此提出解决方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T21:26:13.010

好的，我发现了太多损坏的文件链接，我导出了 Macports 安装列表，删除了所有 Macport 安装和整个程序，然后重新安装了 Macports。

使用 WXT 终端安装了 GNUplot，它现在将 WXT 报告为可用终端之一。

# c# - 将 IWebdriver 模拟对象转换为 IJavaScriptExecutor

> ID：14975778
> 
> 赞同：1
> 
> 时间：2013-02-20T08:58:45.950
> 
> 标签：c#, c#-4.0, mocking, selenium-webdriver

如何将`IWebdriver`模拟对象转换为`IJavaScriptExecutor`？

我的代码：

```
private Mock<IWebDriver> _mockBrowserDriver;
_mockBrowserDriver = new Mock<IWebDriver>();
var jsExecutor = (IJavaScriptExecutor) _mockBrowserDriver; 
```

结果：

```
Unable to cast object of type 'Castle.Proxies.IWebDriverProxy' to type 'OpenQA.Selenium.IJavaScriptExecutor'. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T09:06:35.410

你想在这里完成什么？`IJavaScriptExecutor`不继承自`IWebDriver`，反之亦然。从反编译的源代码，这里是签名：

```
public interface IWebDriver : ISearchContext, IDisposable {}

public interface ISearchContext {}

public interface IJavaScriptExecutor {} 
```

如果要对模拟实例执行强制转换，则需要使用该`Object`属性，该属性是被模拟的实际类型，如下所示：

```
var jsExecutor = (IJavaScriptExecutor) _mockBrowserDriver.Object; 
```

在这种情况下，您仍然会得到一个无效的强制转换异常。

顺便说一句，你为什么要嘲笑`IWebDriver`？由于它倾向于用于验收测试，您是否正在尝试对您的验收测试代码进行单元测试？如果没有，您是否真的`IWebDriver`在生产代码中使用？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T18:02:23.137

我通过添加以下语句找到了解决方案

```
_mockBrowserDriver.As<IJavaScriptExecutor>(); 
```

感谢查尔斯。感谢levelnis该死的快速回复，我很惊讶！！！

1.  是的，我正在通过准备模拟对象来编写单元测试用例。
2.  用于测试自定义 selenium 操作的单元测试用例。

# tsql - 更新查询不会运行

> ID：14975779
> 
> 赞同：0
> 
> 时间：2013-02-20T08:58:48.507
> 
> 标签：tsql, sql-update

当我运行下面的查询（第一个代码）时，我会根据数据库中的当前到达日期得到 137 万个随机出发日期，这是个好消息。但是，当我尝试使用第二个代码查询更新数据库时，我收到一条错误消息（见下文），我不知道为什么。你能帮我吗？

> Msg 116, Level 16, State 1, Line 5 当子查询没有用 EXISTS 引入时，只能在选择列表中指定一个表达式。

**第一个代码**

```
SELECT ArrivalDate, DATEADD(day, 1 + RAND(checksum(NEWID()))
* LengthOfStay.LengthofStay, ArrivalDate) AS DepartureDate    
FROM Bookings, LengthOfStay
ORDER BY ArrivalDate 
```

**第二代码**

```
USE Occupancy
Update Bookings
Set DepartureDate = (SELECT ArrivalDate, DATEADD(day, 1 + RAND(checksum(NEWID()))*1.5
* LengthOfStay.LengthofStay, ArrivalDate))
FROM LengthOfStay, Bookings 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:15:20.667

你有几个问题：

*   `LengthOfStay, Bookings`是 CROSS JOIN（笛卡尔积）：这是有意的吗
*   您有来自子查询的 2 列，但仅尝试更新一列

假设您的 CROSS JOIN 是有意的，则不需要子查询

```
UPDATE
   B
SET
   DepartureDate = DATEADD(day,
                           1 + RAND(checksum(NEWID()))*1.5 * L.LengthofStay,
                          B.ArrivalDate)
FROM
   LengthOfStay L, Bookings B 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:17:49.787

看来您正在选择 2 列来更新 1 列（DepartureDate）

# c# - 如何在asp.net中设置Gridview行背景颜色

> ID：14975781
> 
> 赞同：-3
> 
> 时间：2013-02-20T08:58:52.237
> 
> 标签：c#, asp.net, vb.net

我有 21 行的网格视图。我的要求是设置一些行的背景颜色是浅绿色（如 1、5、13 行）这是否可以实现。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:00:56.023

遍历每个 gridview 行并分配行的背景颜色：

```
foreach (GridViewRow row in yourGridView.Rows) {
      row.BackColor = Color.Green; 
 } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:02:14.963

是的，这是可能的。

```
viewerDataGrid.Rows[0].DefaultCellStyle.BackColor = myColor; 
```

# php - 函数返回空数组

> ID：14975783
> 
> 赞同：0
> 
> 时间：2013-02-20T08:59:03.697
> 
> 标签：php, arrays, function

我正在尝试将分母变量传递给函数转换。当我这样做时，返回的数组“$new_arr”为每个值生成“0”。

我尝试用函数中的数字替换变量 $denominator，新数组返回适当的数字。

我对 PHP 的经验是新手，所以我的问题是：

1）这是范围界定问题吗？我认为通过在函数之外声明这些变量，它们本质上是全局的。

2) 我是否也需要将 '$denominator' 作为参数传递？

提前致谢。这是代码。

```
$highest_val = max($array_1);
$lowest_val  = min($array_2);
$denominator = $highest_val - $lowest_val;

function convert($arr)
{

$new_arr=array();

for($i=0, $count = count($arr); $i<$count; $i++)
{
$numerator  = $arr[$i]-$lowest_val;     
$calc   = $numerator/$denominator;
$new_arr[] .= $calc;    
}
$arr = $new_arr;
return $arr;        
}

 $test_arr = convert($open_array);
 var_dump($test_arr); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T09:00:55.847

要在函数中使用全局变量，您也需要在其中定义它们`global`。像这样

```
$highest_val = max($array_1);
$lowest_val  = min($array_2);
$denominator = $highest_val - $lowest_val;
function convert($arr)
{
global $highest_val;
global $lowest_val ;
global $denominator; 
```

或者您可以简单地将这三个值作为参数发送给您的函数。如果遵循全局范围路径，也可以使用 $GLOBALS 数组

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:05:21.700

是的，您确实需要将值作为参数传递给函数。

```
function convert($arr, $highest_val, $lowest_val, $denominator) { ... }

$test_arr = convert($open_array, $highest_val, $lowest_val, $denominator);
var_dump($test_arr); 
```

# wordpress - wordpress 404 无法正常工作

> ID：14975784
> 
> 赞同：1
> 
> 时间：2013-02-20T08:59:07.377
> 
> 标签：wordpress, http-status-code-404

我有一个永久链接设置为 /%category%/%postname%.html 的 Wordpress 网站。当我访问一个不存在的页面时，比如说 example.com/non-existing-post，Wordpress 301 重定向到主页而不是显示主题包内的 404.php 页面。下面是htaccess代码；

```
AuthName "protect"
AuthUserFile "/home/sitename/.htpasswds/public_html/passwd"
suPHP_ConfigPath /home/sitename/public_html/
# BEGIN WordPress
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
</IfModule>

# END WordPress 
```

当我尝试禁用自定义永久链接结构时，它返回错误 404 但不是我喜欢的 404.php 页面（我猜是正常的 Apache 错误）。

关于这个“bug”已经有很多类似的讨论了，请看下面的链接。所有这些似乎都没有得到解决。:(

[http://wordpress.org/support/topic/404-pages-not-working-1](http://wordpress.org/support/topic/404-pages-not-working-1)

[http://wordpress.org/support/topic/404-pages-not-working](http://wordpress.org/support/topic/404-pages-not-working)

是什么导致 Wordpress 自动 301 重定向应该显示 404 错误的页面？

更新（2013 年 2 月 21 日） - 问题仍然存在。我认为这是 wordpress 核心中的一个错误，涉及“漂亮的永久链接”重定向。

我仍然想解决这个问题，因为我有一些 Wordpress 网站有这个问题，而且我认为其他人在他们的网站上遇到了同样的错误。

# grails - Grails 1:m 获得最多的关系

> ID：14975785
> 
> 赞同：1
> 
> 时间：2013-02-20T08:59:09.467
> 
> 标签：grails, grails-orm, relationship

我对 Grails 比较陌生。我有以下

```
class House {
    Integer number
    Integer maxResidents

    static belongsTo = [town: Town]
} 

class Town {
    String name

    static hasMany = [houses: House]
} 
```

我想得到五个拥有最多房屋的城镇。我已经看到了创建标准的可能性，但我现在无法处理它。有人可以支持吗？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:23:02.980

由于您具有双向关联，因此您可以通过以下查询来执行此操作`House`：

```
def result = House.withCriteria {
  projections {
    groupProperty("town", "town")
    rowCount("numHouses")
  }
  order("numHouses", "desc")
  maxResults(5)
} 
```

这将返回一个结果列表，其中每个结果`res`的城镇为`res[0]`，房屋数量为`res[1]`。如果您希望每个结果都是可以访问的地图`res.town`，`res.numHouses`那么您应该添加

```
resultTransformer(AliasToEntityMapResultTransformer.INSTANCE) 
```

在该`maxResults`行之后（以及`import`文件顶部的相应内容）。

# c++ - 我不能包括 在 Visual C++ 2010 速成版中

> ID：14975788
> 
> 赞同：2
> 
> 时间：2013-02-20T08:59:21.200
> 
> 标签：c++, visual-studio-2010

几个月前，我安装了 Visual Studio 2012 Ultimate。由于一些学校项目，我不得不安装 Visual C++ 2010 Express Edition。现在，当我尝试在 Visual C++ 2010 中编译项目时，我无法包含任何常见的标头，例如`<iostream>`、`<cmath>`等。编译器搜索的文件夹是 C:\Program Files\Microsoft SDKs\Windows\v7.0A\Include。

但所有这些包含文件都位于 C:\Program Files\Microsoft Visual Studio 11.0\VC\include 中。

有人可以解释一下这两条路径的含义（有什么区别）以及如何解决`#include <iostream>`问题。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-03T14:51:51.227

根据您分享的详细信息，我了解到 /Microsoft Visual Studio 10.0/VC/include 目录不包含标准头文件。

VS 2010 中的包含目录 $(VCInstallDir) 可能指向 /Microsoft Visual Studio 10.0/VC。由于包含文件夹是空的，因此您无法编译代码。

据我所知，这个问题发生在人们安装 VS2012 和 2010 之后。我猜注册表会出现一些问题，并且 VS2010 安装程序没有正确安装头文件。

您可能有 4 个选项：

1.  使用 Visual Studio 工具->Visual Studio 命令提示符，更改 $(VCInstallDir) 使其指向“/Visual Studio 11.0/include”

2.  如果您知道某人的 VS2010（与您的版本相同）正常工作，请将他们的“/VC/include”目录复制到您的目录。

3.  卸载 VS2012 和 VS2010（完全卸载，如下所述：http: [//archive.msdn.microsoft.com/vs2010uninstall](http://archive.msdn.microsoft.com/vs2010uninstall)）清理注册表并再次安装 VS2010。

4.  进行全新的 Windows 安装，然后安装 VS2010。

可悲的是，在我的情况下，只有选项 4 有效。选项 2 也有效，但我在另一个项目中遇到了其他问题。祝你好运。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-10-10T12:43:50.007

我遇到了同样的问题。在虚拟机上安装全新的 Windows 和 VC++ 2010 Express 解决了这个问题。

# android - 对如何从如何使用我自己的 sqlite 数据库中调用 createDatabaseIfNotExists() 感到困惑？教程

> ID：14975789
> 
> 赞同：1
> 
> 时间：2013-02-20T08:59:21.833
> 
> 标签：android, database, sqlite

尝试使用此处介绍的 DbUtils 类：

[如何使用我自己的 sqlite 数据库？](https://stackoverflow.com/questions/2387421/how-to-use-my-own-sqlite-database)

当应用程序使用以下代码启动时，我试图调用 createDatabaseIfNotExists()：

```
DbUtils dbu = new DbUtils();
dbu.createDatabaseIfNotExists(this); 
```

但是第二行有错误：

此行有多个标记 - 标记“this”上的语法错误，删除此标记 - 应以静态方式访问 DbUtils 类型的静态方法 getStaticDb() - 标记上的语法错误，错位的构造

感到迷茫，有人可以提供调用 createDatabaseIfNotExists() 的代码。

# java - 未按预期接收序列化对象

> ID：14975792
> 
> 赞同：0
> 
> 时间：2013-02-20T08:59:31.590
> 
> 标签：java, serialization

我有一个服务器程序和一个客户端程序。我在我的游戏中创建了一个代表一个人的类。在那个类中，我有多个变量，例如位置，名称，级别....服务器向客户端发送一个人对象，当客户端与该人四处走动时，它会更改类中的位置，并且客户端会发送整个人-object 返回服务器。问题是当我发送那个对象时，位置总是变回（5,5）（起始位置）。我几乎可以肯定问题与套接字有关，因为我创建了消息框，每次都显示发送的位置和接收的位置。有什么帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:11:21.853

您需要调用`ObjectOutputStream.reset().`See the Javadoc 了解原因。

# php - 在 PHP 中回显大字符串导致根本没有输出

> ID：14975796
> 
> 赞同：2
> 
> 时间：2013-02-20T08:59:45.537
> 
> 标签：php, echo

我正在帮助建立一个 Joomla 站点（使用 Joomla 1.5.26）。其中一页真的很大。结果，PHP 停止工作而没有任何错误，并且所有先前打印的字符串都被忽略。根本没有输出。我们将 display_errors 设置为 TRUE 并将 error_reporting 设置为 E_ALL。

我找到了 PHP 中断的确切行。它在库/joomla/application/component/view.php:196

```
function display($tpl = null)
{
    $result = $this->loadTemplate($tpl);
    if (JError::isError($result)) {
        return $result;
    }

    echo $result;
} 
```

一些信息：

*   替换 echo $result; 回声 strlen($result); 作品。字符串的长度为 257759。
*   echo substr($result, 0, 103396); 正在打印部分内容。
*   echo substr($result, 0, 103397); 结果根本没有输出。
*   回声 substr($result, 0, 103396) 。“一个”; 结果根本没有输出。因此，将字符串拆分为块不是解决方案。

我在脚本执行期间检查了服务器性能。CPU 使用率为 100%，但剩余内存充足。PHP 内存限制为 1024M。output_buffering 是 4096，但我尝试将其设置为不合理的高数字 - 死在完全相同的位置。服务器运行 Apache 2.2.14-5ubuntu8.10 和 PHP 5.3.2-1ubuntu4.18。PHP 作为 fast_cgi 模块运行。

我从来没有经历过这样的事情，谷歌搜索也没有结果。你们有没有人经历过类似的事情并知道解决方案？谢谢阅读！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T09:01:28.600

也许尝试爆炸字符串并循环遍历每一行。

你也可以试试这个，在[php.net - echo](http://php.net/manual/en/function.echo.php)上找到：

```
<?php
function echobig($string, $bufferSize = 8192)
{
   // suggest doing a test for Integer & positive bufferSize
   for ($chars = strlen($string)-1, $start = 0;$start <= $chars; $start += $bufferSize) {
       echo substr($string, $start, $bufferSize);
   }
}
?> 
```

基本上，echo 似乎无法在一次调用中处理如此大的数据。以某种方式打破它应该让你到达你需要去的地方。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-21T00:45:05.667

可能是[这样](https://bugs.php.net/bug.php?id=18029)吗？

尝试这样的事情

```
php_flag output_buffering On 
```

或者尝试在 Joomla 中打开 gzip！

或者使用 nginx 作为反向代理或独立服务器:^)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T09:18:11.503

我已经在 CLI 上对此进行了测试，它适用于 PHP 5.4.11 和 5.3.15：

```
$str = '';                                                                           
for ($i=0;$i<257759;$i++) {                                                          
    $str .= 'a';                                                                     
}                                                                                    
echo $str; 
```

PHP 本身工作正常，但输出缓冲区对于 Apache/fast_cgi 来说太大了，这似乎是一个合理的假设。我会进一步调查 Apache 配置。您有任何特殊的 Apache 设置吗？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-02-21T06:29:25.083

看来我自己解决了这个问题。这有点出乎意料 - HTML 格式错误。我们为订单页面使用模板，里面有一个显示所有订购产品的循环。当有几个产品时，一切都很好，但是当我尝试对 40 个产品做同样的事情时，页面确实中断了。但是我仍然不明白为什么服务器响应为空，状态码为 200。

谢谢大家的解答！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-02-20T09:11:44.980

如何尝试使用`print_r`而不是`echo`

```
function display($tpl = null)
{
    $result = $this->loadTemplate($tpl);
    if (JError::isError($result)) {
        return $result;
    }

    print_r($result);
} 
```

# c# - 针对 AD 异常验证用户名和密码

> ID：14975797
> 
> 赞同：2
> 
> 时间：2013-02-20T08:59:49.647
> 
> 标签：c#, active-directory

我有以下代码来验证 Active Directory 用户（Win7 上的 VS2008）。

```
try
{
    PrincipalContext pc = new PrincipalContext(ContextType.Domain, strDomainName))
    isPass = pc.ValidateCredentials(strDomainUserName, strDomainUserPass);
}
catch (Exception ex)
{
    Logger.Log("authentiate domain user fail: {0},{1}", ex.ToString(), strDomainUserLoginName);
} 
```

对于某些 AD 用户，可以，但对于 AD 用户，我会得到以下异常： `System.DirectoryServices.Protocols.DirectoryOperationException:` `The server cannot handle directory requests.`

```
System.DirectoryServices.Protocols.ErrorChecking.CheckAndSetLdapError(Int32 error)

System.DirectoryServices.Protocols.LdapSessionOptions.FastConcurrentBind()

System.DirectoryServices.AccountManagement.CredentialValidator.BindLdap(NetworkCredential creds, ContextOptions contextOptions)

System.DirectoryServices.AccountManagement.CredentialValidator.Validate(String userName, String password)

System.DirectoryServices.AccountManagement.PrincipalContext.ValidateCredentials(String userName, String password) 
```

那么 Active Directory 域用户设置会导致这样的异常吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-26T08:02:46.863

对不起，我上面的描述是错误的。事实上，所有的 AD 用户验证都会得到这样的异常。

其工作环境为： (1) 如果验证码运行在AD机器上，则代码会出现该异常。(2) 否则，无此例外。

为 ValidateCredentials 附加 ContextOptions.Negotiate 参数以解决问题。

# erlang - 更新erlang中的所有表行

> ID：14975798
> 
> 赞同：-1
> 
> 时间：2013-02-20T08:59:50.840
> 
> 标签：erlang

我有这张桌子：

```
-record(person, {id, firstname, lastname, address}). 
```

例如，此表包含以下值：

```
2  alen     dumas      paris
5  franco   mocci      parma
3  ali      othmani    london 
```

现在我有了 `Key` 包含这个值 的变量`10`

我想在 erlang 中开发一个函数，它将修改所有`id`表`person`

this 的新值`id` 将是以前的值 + 的值`Key`

表示餐桌人会变成这样

```
 12  alen     dumas      paris
    15  franco   mocci      parma
    13  ali      othmani    london 
```

意思是每个`id`都加 10（是 的值`Key`）：(2+10) (5+10) (3+10)

我尝试使用您的代码：

```
testmodify()->
    Key=22, 
    [ P#person{id=P#person.id+Key} || P <- Persons ]. 
```

但我在 sysntax 中有这个错误：`variable Persons is unbound`

我尝试用这段代码解决这个问题：

```
testmodify()->
    Key=22, 
    [ P#person{id=P#person.id+Key} || P <- mnesia:table(person) ]. 
```

但我有这个错误：

```
1> model:testmodify().
** exception error: no function clause matching 
                    model:'-testmodify/0-lc$^0/1-0-'({qlc_handle,
                                                      {qlc_table,
                                                       #Fun<mnesia.20.112329951>,
                                                       true,
                                                       #Fun<mnesia.21.62211129>, 
                                                       #Fun<mnesia.22.75429001>, 
                                                       #Fun<mnesia.23.26336897>, 
                                                       #Fun<mnesia.26.62819299>, 
                                                       #Fun<mnesia.25.51075493>, 
                                                       #Fun<mnesia.24.47804912>, 
                                                       '=:=',undefined,
                                                       no_match_spec}}) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:17:47.010

假设您的表存储为列表：

```
[ P#person{id=P#person.id+Key} || P <- Persons ]. 
```

**更新：**对于 Mnesia 表，您可以使用 QLC 检索类似的结果：

```
-include_lib("stdlib/include/qlc.hrl").
⋮
[ P#person{id=P#person.id+Key} || P <- mnesia:table(person) ]. 
```

请注意，这只会为您提供转换后的人员记录列表。要更新记录，您可能必须删除现有记录并在事务中写入新记录，因为带有修改键的记录（假设`id`是这样）被视为不同的记录 - 如下所示：

```
mnesia:transaction(fun() ->
    Old = [ P                            || P <- mnesia:table(person) ],
    New = [ P#person{id=P#person.id+Key} || P <- Old ],
    [ mnesia:delete({person, P#Person.id}) || P <- Old ],
    [ mnesia:write(P) || P <- New ]
end) 
```

您可能可以通过 单次执行此操作`mnesia:foldr`，但我不知道如果您发出`mnesia:delete`和`mnesia:write`inside会发生什么`mnesia:foldr`。你可能会陷入无限循环（但不要引用我的话）。

# matlab - 使用 LIBSVM 进行测试

> ID：14975802
> 
> 赞同：1
> 
> 时间：2013-02-20T09:00:01.297
> 
> 标签：matlab, classification, regression, svm, libsvm

我一直在 Matlab 中使用 libsvm 进行研究。模型在交叉验证结果中使用时的准确度已经相当不错了。但是，在尝试使用（已经训练过的）模型进行预测时，我遇到了一个小问题。svmpredict 命令要求我们指定正确的测试标签（用于测量准确性），但是我想部署模型来分类新数据（带有未知标签），所以当然这个测试数据没有标签。我可以在不指定测试数据的（目标）标签的情况下调用 svmpredict 吗？如何部署在生产环境中获得的模型？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-25T18:35:29.180

我不知道matlab，但在python中你有同样的情况。这真的没关系，您可以使用该值进行预测，只需忽略输出上的准确度值。

# c - 通过描述符获取文件的引用计数值（文件使用的计数器值）？

> ID：14975804
> 
> 赞同：5
> 
> 时间：2013-02-20T09:00:06.897
> 
> 标签：c, linux, file-descriptor, posix-api

在Linux中，是否可以使用非内核API通过描述符获取指定文件的引用计数值（使用文件的计数器值）？

# c - Char* 和 byte* 相等比较（数字和文本）

> ID：14975807
> 
> 赞同：0
> 
> 时间：2013-02-20T09:00:25.363
> 
> 标签：c, string, char, type-conversion

我有以下一个 char* 键，它是一个可以包含整数或文本的 char 数组。所以键可以有值 3 或 tom 例如

我有一个包含存储数据的 byte* 数据数组。我需要测试密钥是否等于数据。

我的逻辑目前是这样的：

```
int j = 0 ;
for (j = 0; j < len; j++) {
    sprintf(key_cmp, "%02x", (ulong)*data++);
}
if (!strcmp(key, key_cmp)) fprintf(stderr, "Equal \n"); 
```

我意识到这段代码不正确，因为我试图在这里打印为十六进制而不是字符......但是当我尝试使用 %02x 时，垃圾会被打印出来。

我怎样才能确保 01 和 1 将被视为平等？我意识到这可能因字节顺序而异，因此我想不出一个通用的解决方案。我想避免使用 atoi 所以想知道是否有另一种方法（主要是因为我没有真正的方法知道密钥是否为整数）

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T11:04:30.020

猜测是你的问题是不是 a`%02x`的格式- 所以你在系统上会导致问题。`int``unsigned long``sizeof(int)!=sizeof(long)`

有关格式说明符的描述，请参见 [Wiki][1]。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T14:27:32.670

因为 char[] 是 1 个字节，而 byte[] 是 1 个字节，所以将它们作为字节数组（无符号字符）进行比较会更容易。没有任何特殊格式，两者都会做同样的事情。

```
memcmp(key,data,len)
strcmp(key,data,len) 
```

# iphone - 如何用标签创建五个 UIPickerView？以及如何在 iPhone 中为每个 UIPickerView 赋予不同的名称？

> ID：14975808
> 
> 赞同：1
> 
> 时间：2013-02-20T09:00:25.847
> 
> 标签：iphone, ios, objective-c, xcode, uipickerview

我现在有 2 个 UIPickerView，我想稍后再添加三个。代码如下：

```
-(void)viewDidLoad{
Pos_x = 5;
Pos_y = 70;

for (i= 0; i<2; i++) {

myPickerView = [[UIPickerView alloc] init];
myPickerView.frame = CGRectMake(Pos_x,Pos_y,150,300);
myPickerView.tag = i;
myPickerView.delegate = self;
myPickerView.showsSelectionIndicator = YES;
[self.view addSubview:myPickerView];

if (i==0) {
// Init the data array.
Array_1 = [[NSMutableArray alloc] init];

// Add some data for demo purposes.
[Array_1 addObject:@"One"];
[Array_1 addObject:@"Two"];
[Array_1 addObject:@"Three"];
[Array_1 addObject:@"Four"];
[Array_1 addObject:@"Five"];
}

if (i==1) {

Array_2 = [[NSMutableArray alloc] init];

// Add some data for demo purposes.
[Array_2 addObject:@"One1"];
[Array_2 addObject:@"Two1"];
[Array_2 addObject:@"Three1"];
[Array_2 addObject:@"Four1"];
[Array_2 addObject:@"Five1"];  
}

Pos_x = Pos_x + 162;
}
} 
```

我已经成功创建了两个带有标签的 UIPickerView。现在的问题是在 UIPickerView 中添加数据。

我正在这样做

```
- (NSString *)pickerView:(UIPickerView *)pickerView titleForRow:(NSInteger)row forComponent:(NSInteger)component {

//return [Array_1 objectAtIndex: row];  // If give only this line both UIPickerView show same value.

//How to show both 
//return [Array_2 objectAtIndex: row]; 

// I also tried this code

if(pickerView == myPickerView){

 if (i==0){
 }
 return [Array_1 objectAtIndex: row];
 }

 if (i==1){
 }
 return [Array_2 objectAtIndex: row];
 }

} 
```

现在我的问题是如何在两个 UIPickerView 上显示不同的不同数据？就像在 pickerview.tag ==0 上一样，它会显示 return [Array_1 objectAtIndex: row]; 并且 pickerview.tag ==1 它会显示 return [Array_2 objectAtIndex: row];？欢迎任何想法或建议。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T09:46:18.093

请检查此代码：

```
-(void)viewDidLoad{
myPickerView = [[UIPickerView alloc] init];
myPickerView.frame = CGRectMake(5,70,150,300);
//myPickerView.tag = i;
myPickerView.delegate = self;
myPickerView.showsSelectionIndicator = YES;
[self.view addSubview:myPickerView];

Array_1 = [[NSMutableArray alloc] init];

// Add some data for demo purposes.
[Array_1 addObject:@"One"];
[Array_1 addObject:@"Two"];
[Array_1 addObject:@"Three"];
[Array_1 addObject:@"Four"];
[Array_1 addObject:@"Five"];
[Array_1 addObject:@"Six"];

myPickerView_2nd = [[UIPickerView alloc] init];
myPickerView_2nd.frame = CGRectMake(167,70,150,300);
//myPickerView_2nd.tag = i;
myPickerView_2nd.delegate = self;
myPickerView_2nd.showsSelectionIndicator = YES;
[self.view addSubview:myPickerView_2nd];

Array_2 = [[NSMutableArray alloc] init];

// Add some data for demo purposes.
[Array_2 addObject:@"One1"];
[Array_2 addObject:@"Two1"];
[Array_2 addObject:@"Three1"];
[Array_2 addObject:@"Four1"];
[Array_2 addObject:@"Five1"];
[Array_2 addObject:@"Six1"];

}

- (NSInteger)numberOfComponentsInPickerView:(UIPickerView *)pickerView{
if([pickerView isEqual: myPickerView]){
// return the appropriate number of components, for instance
return 1;
}

if([pickerView isEqual: myPickerView_2nd]){
// return the appropriate number of components, for instance
return 1;
}
else 
return 0;
}

- (NSInteger)pickerView:(UIPickerView *)pickerView numberOfRowsInComponent: (NSInteger)component {

if ( pickerView == myPickerView) // this is otherPickerview
{
    return [Array_1 count];

}
if ( pickerView == myPickerView_2nd){
    return [Array_2 count];

}
else{
     NSUInteger numRows = 5;
    return numRows;}

} 
```

希望对你有帮助...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:09:24.610

您可以使用数组或字典来存储内容数组并使用选取器的标签获取它们。例如。

```
NSArray *contentArrays = [[NSArray alloc] initWithObjects:Array_1, Array_2, nil]; 
```

然后获取内容数组 `[contentArrays objectAtIndex:pickerView.tag];`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T09:22:10.473

您可以通过设置pickerview的标签来做到这一点：

```
- (NSString *)pickerView:(UIPickerView *)pickerView titleForRow:(NSInteger)row forComponent:(NSInteger) { 
    if(pickerView.tag == 1)
     {
          // do something with picker one
     }
     else if(pickerView.tag == 2)
     {
          // the other picker
     }
} 
```

要不然：

```
 - (NSString *)pickerView:(UIPickerView *)pickerView titleForRow:(NSInteger)row forComponent:(NSInteger) { 
        switch(pickerView.tag){
           case 1:
               //do something
               break;
           case 2:
               //do other thing
               break;
           default:
               break;
        }
    } 
```

希望这可以帮助..

也看看这个：[Multiple PickerViews in one View?](https://stackoverflow.com/questions/767856/multiple-pickerviews-in-one-view)

# python - Django - 按向后相关模型的字段对 QuerySet 进行排序

> ID：14975809
> 
> 赞同：1
> 
> 时间：2013-02-20T09:00:31.203
> 
> 标签：python, django, django-models, django-queryset

我有以下（简化的）模型：

```
class Post(models.Model):
    title=models.CharField(max_length=500)

class Recommendation(models.Model):
    post=models.ForeignKey(Post)
    submit_time=models.DateTimeField(auto_now_add=True) 
```

我想获得`Posts`按`Recommendation's`提交时间排序的不同列表。我尝试的第一种方法是直截了当：

```
Post.objects.order_by('recommendation__submit_time').distinct() 
```

但令人惊讶的是，这给了一个带有重复 Post 对象的 QuerySet。[结果发现这些行实际上是不同的，因为 Django 为排序添加了额外的列，但没有在结果中返回它们](https://docs.djangoproject.com/en/dev/ref/models/querysets/#distinct)。

环顾四周，我发现了一些关于 SO 的答案，包括使用聚合而不是排序：

```
Post.objects.all().annotate(Max('recommendation__submit_time')).order_by('recommendation__submit_time__max') 
```

或者去规范化模型并添加一个`last_recommended_time`字段到`Post`.

SO中已经存在的大多数问题/答案都有几年的历史了，所以我想知道是否有比那些建议的黑客更惯用和更直接的方法来做到这一点。

编辑：只是想我说清楚了：上面列出的解决方案确实有效，我正在使用它们（尽管不是在生产中）。我只是对这个问题的更好解决方案感兴趣。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:22:59.010

您是否考虑过使用[原始 sql](https://docs.djangoproject.com/en/1.4/topics/db/sql/)

```
Post.objects.raw("""
    SELECT DISTINCT post FROM
        (SELECT appname_post.post_id AS post, appname_recommendation.submit_time
        FROM appname_post
        INNER JOIN appname_recommendation 
        ON appname_post.post_id = appname_recommendation.post_id
        ORDER_BY appname_recommendation.submit_time)
    """) 
```

# jquery - jQuery datepicker 插件在 Chrome 和 Safari 中不起作用

> ID：14975812
> 
> 赞同：2
> 
> 时间：2013-02-20T09:00:42.110
> 
> 标签：jquery, google-chrome, safari, datepicker

我正在使用特定的 jquery datepicker vidget ( [http://keith-wood.name/datepick.html](http://keith-wood.name/datepick.html) )。对特定日历（泰语）的支持是原因。将新的日期选择器应用于现有的逻辑我遇到了这个问题。选择器在 Chrome 和 Safari 浏览器中无法打开（不会出现弹出窗口），但在 IE8 和 Firefox 中运行良好。经过一番调查，我想到附件主题html标签是原因。它写在对它应该附加到的插件的引用中，和标签。我将它附加到标签上。代码如下：

```
<script type="text/javascript" src="../jquery.calendars.js?v=$version"></script>
<script type="text/javascript" src="../jquery.calendars.plus.js?v=$version"></script>
<script type="text/javascript" src="../jquery.calendars.picker.js?v=$version"></script>
<script type="text/javascript" src="../jquery.calendars.thai.js?v=$version"></script>

jQuery(function() {
            jQuery('#deactivation_date').calendarsPicker({
                changeMonth: false, 
                showOtherMonths: true, 
                selectOtherMonths: true,
                showAnim: '',
                dateFormat: _dateFormat,
                calendar: jQuery.calendars.instance(_userLanguageCode == 'th' ? 'thai' : '', 'en'),
                alignment: 'bottom',
                renderer: jQuery.extend({}, jQuery.calendars.picker.defaultRenderer,
                    {
                        picker: jQuery.calendars.picker.defaultRenderer.picker.
                        replace(/\{link:prev\}/, '{link:prevJump}{link:prev}').
                        replace(/\{link:next\}/, '{link:nextJump}{link:next}').
                        replace(/\{link:clear\}/, '').
                        replace(/\{link:close\}/, '')
                    }),
                onSelect: function(dates){

                        }
                    }
            });
        }); 
```

...

```
<a href="javascript:void(0)" class="date-pick no-left-padding" id = "deactivation_date">
   "DateText" </a> 
```

进一步的调查使我认为在 Chrome 中没有正确附加适当的事件处理程序，因为调试器甚至没有进入“显示”功能。这是在 Chrome 和 Safari 中失败的小部件的可能部分：

```
var trigger = inst.get('showTrigger');
inst.trigger = (!trigger ? $([]) :
        $(trigger).clone().addClass(this._triggerClass)
        [inst.get('isRTL') ? 'insertBefore' : 'insertAfter'](target).
            click(function() {
            if (!$.calendars.picker.isDisabled(target[0])) {
                $.calendars.picker[$.calendars.picker.curInst == inst ?
                    'hide' : 'show'](target[0]);
            }
        })); 
```

有一个变体可以将所有日期选择器重新附加到不同的标签，但是对于 div/span 将执行内联渲染，并且输入看起来根本不像文本。

请分享您的想法，如果有的话...

提前致谢

**jQuery datepicker**目前似乎不支持非公历： [http](http://bugs.jqueryui.com/ticket/5789) ://bugs.jqueryui.com/ticket/5789 不是吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:08:56.020

可能不完全是您问题的答案，而是解决您问题的提示。

为什么不将标准 JQuery UI 日历与您可以在[此处](https://github.com/jquery/globalize)找到的全球化文件一起使用？

# javascript - javascript中的正则表达式文本插入

> ID：14975813
> 
> 赞同：0
> 
> 时间：2013-02-20T09:00:46.493
> 
> 标签：javascript, jquery, regex

我有一些可能在 URL 上的字符串.. ala.. 我可以“获取名称/值”等.. 这不是问题。问题是，给定一些测试，我需要在值中“插入”其他字符。所以：

```
var someValue = "yes_maybe_next_year" 
```

如果我得到一个带有“_maybe”的字符串，我会在它之后插入我的额外字符，ala。所以它会变成：

```
var charsToInsert = "_no";
var someValue = "yes_maybe_next_year";
var newValue = "yes_maybe_no_next_year"; 
```

这是摩擦。我可能不会在那里得到“也许”。所以我需要在“是”之后插入“_no”。这是第二次摩擦。该字符串可能包含不同于“next_year”的字符。

```
var someValue = "yes_sometime_later"; 
```

所以，事实上：我需要能够通过正则表达式插入类似的东西。

```
var regex = /^(yes_)(maybe_)(\w*)?/ 
```

我实际上不知道如何做到这一点。

所以，如果“maybe_”存在，我会在它后面加上“no”，否则在“yes_”后面加上“no”。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T09:03:36.620

这是一种可能的解决方案：

```
var newValue = someValue.replace(/yes_(maybe_)?/, "$&no_");

// "yes_maybe_next_year" --> "yes_maybe_no_next_year"
// "yes_sometime_later"  --> "yes_no_sometime_later" 
```

# lisp - 需要有关此自述文件的说明

> ID：14975818
> 
> 赞同：-1
> 
> 时间：2013-02-20T09:01:08.327
> 
> 标签：lisp, common-lisp

我正在尝试根据这个自述文件运行此代码，但我无法执行第二行，我不知道它是什么，它是终端中的命令行代码还是只是 lisp 侦听器中的命令？或者它是一个包还是什么？

有没有大神帮忙看看怎么运行？</p>

要运行模拟器，请启动 lisp 并在侦听器中执行以下命令：

```
(load "~/XXX/YYY/models/ZZZ/ZZZ-module.lisp")
:cm :ZZZ-module :propagate
(initialize-simulator "XXX/YYY/models/ZZZ/data/test/<config>.lisp" <controller-name> <keyword-args>) 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T09:17:15.813

这看起来像 GBBopen。

```
:cm :ZZZ-module :propagate 
```

`:cm`是一个 REPL 命令。这是普通 REPL 的扩展，由 GBBopen 提供。您还应该能够改用该`compile-module`功能。请参阅：[编译模块](http://gbbopen.org/hyperdoc/ref-compile-module.html)。

# asp.net - asp.net 到 html 的转换

> ID：14975819
> 
> 赞同：1
> 
> 时间：2013-02-20T09:01:13.590
> 
> 标签：asp.net, html, static, web, converter

我正在寻找某种将动态 ASP.NET 页面转换为静态 html 的方法。我想通过将其转换为静态 html 页面来降低服务器的成本。目前我正在检查 HTTracker 是否可以帮助我，但也许有一些更好的软件。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:06:58.467

我建议不要将它们转换为静态 HTML 文件，而是缓存您的页面。

然后，您的页面呈现输出（HTML）将被其他用户存储和检索，直到缓存过期。

这基本上是在做您需要的事情，但还有到期的额外好处。

```
<%@ OutputCache Duration="60" VaryByParam="None" %> 
```

[http://msdn.microsoft.com/en-us/library/06bh14hk(v=vs.100).aspx](http://msdn.microsoft.com/en-us/library/06bh14hk(v=vs.100).aspx)

* * *

如果这不是一个选项，您始终可以从浏览器的页面源复制呈现的 HTML，并将其粘贴到空白 HTML 文件中。

# ios - 为什么 UIView 不需要 QuartzCore.framework 工作？

> ID：14975823
> 
> 赞同：1
> 
> 时间：2013-02-20T09:01:23.077
> 
> 标签：ios, uiview, uikit, core-animation, calayer

我意识到每个视图都由 CALayer 支持。所以我想知道为什么当我们使用 UIView 时我们不需要在我们的项目中导入 QuartzCore.framework ？

我知道如果我们需要设置诸如 shadowOffset 之类的属性，我们就需要这样做，但我确信在它自己的实现中需要设置这些属性。

感谢您的回答。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:12:47.063

因为除非您更改 UIView 层的属性，否则您不会直接访问任何 CALayer 属性或方法。在内部，UIView 使用它。

**编辑**您不需要链接它只是为了使用 UIView 的原因是因为 UIView 是一个已经编译的库。里面的所有符号都已经被解析（或标记为弱，也就是在运行时解析），所以编译器和链接器只是按原样使用它们。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:17:03.557

如果您使用此框架的任何类，则仅需要`QuartzCore.framework`框架。
所以`UIView`类正在导入这些框架。
**PS**导入框架并不意味着现在您可以使用该框架。这些框架已经在你里面了，`iOS`你只需导入它们，这样你就可以抑制编译器警告并且你的项目编译成功。

# android - Android用菜单填充屏幕的一部分

> ID：14975828
> 
> 赞同：0
> 
> 时间：2013-02-20T09:01:43.413
> 
> 标签：android

我正在为 Android 开发一个应用程序，并希望在 web 视图上方的左上角有一个菜单按钮。当按下这个按钮时，我想要一个*几乎*填满整个屏幕的菜单从侧面滑入，就像在 Evernote 的 android 应用程序中一样。这如何最容易实现？

我用谷歌搜索了很多没有找到答案，感谢所有帮助。![按下按钮之前](../Images/064e9cd6dfdad0738b9757ad488930b2.png) ![按下按钮后](../Images/dd866be687387dbe5bcc1eb7c0de92bc.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:09:25.903

菜单可能是使用 ActionbarSherlock 编程的，活动之间的转换在这里解释： [重复](https://stackoverflow.com/questions/3389501/activity-transition-in-android)

没有任何代码，这就是我们能为您做的一切。希望这可能会有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:23:34.877

您可以使用许多不同的库来实现这样的滑动菜单。我目前正在使用[这个](https://github.com/johnkil/SideNavigation)很容易实现的库。它还使用包含的 ActionBarSherlock。

# client-server - 桌面最佳解决方案-服务器实时连接

> ID：14975832
> 
> 赞同：0
> 
> 时间：2013-02-20T09:01:50.380
> 
> 标签：client-server

我们要创建客户端-服务器通信。我是桌面程序员（Free Pascal - Lazarus IDE，C++ - QT），我的朋友（服务器端）是 php 和 ruby​​ on rails 程序员。我知道 TCP 是基本解决方案，但我们希望使用一些层，通过它我们的语言可以一起通信。我们找到了 Websockets 和 ActiveMQ，但还存在其他东西吗？还有 SOAP，但它没有来自服务器的“推送”。

问候

# javascript - 文件浏览器手风琴

> ID：14975837
> 
> 赞同：1
> 
> 时间：2013-02-20T09:02:07.663
> 
> 标签：javascript, jquery, html

我正在使用 jquery 制作文件浏览器。我想重新确定哪个 li 中有一个类文件。但它也将子菜单重新整理为一个文件。

我究竟做错了什么？

查询：

```
 $(document).ready(function() {

            $("#accordion > li").click(function() {

                if (!$(this).hasClass("active")) {
                    // Remove the class from anything that is active
                    $("li.active").removeClass("active");
                    // And make this active
                    $(this).toggleClass("active");
                    /*$('li').removeClass('active');
                     $(this).addClass('active');*/
                }
                if (false == $(this).next().is(':visible')) {
                    $('#accordion > ul').slideUp(300);
                }
                if ($('li:first-child').hasClass('file')) {
                    console.log("Is file");
                    // handle as file
                } else {
                    $(this).next().slideToggle(300);
                }

            });
            $("#accordion > ul li").click(function() {
                /*$('#accordion > ul li').removeClass('active');*/
                $(this).addClass('active');
                if (false == $(this).next().is(':visible')) {
                    $('#accordion > ul li ul').slideUp(300);
                }
                if ($('li:first-child').hasClass('file')) {
                    console.log("Is file");
                } else {
                    $(this).next().slideToggle(300);
                }

            });

            $('.top:even').addClass('stripe');
            $('#accordion ul li:odd').addClass('stripe');
            $('#accordion ul li ul li:even').addClass('stripe');

        }); 
```

菜单：

```
 <div id="menu">

                    <ul id="accordion">
                        <li class="top">
                            <a href="#"><img src="images/folder-icon.png" />Sports</a>
                        </li>
                        <ul>
                            <li>
                                <a href="#"><img src="images/folder-icon.png" />Golf</a>
                            </li>
                            <ul>
                                <li>
                                    <a class="file" href="#"><img src="images/pdf-icon.png" />Menuitem 1</a>
                                </li>
                                <li>
                                    <a class="file" href="#"><img src="images/pdf-icon.png" />Menuitem 2</a>
                                </li>
                                <li>
                                    <a class="file" href="#"><img src="images/pdf-icon.png" />Menuitem 3</a>
                                </li>
                                <li>
                                    <a class="file" href="#"><img src="images/pdf-icon.png" />Menuitem 4</a>
                                </li>
                            </ul>
                            <li>
                                <a href="#"><img src="images/folder-icon.png" />Cricket</a>
                            </li>
                            <ul>
                                <li>
                                    <a class="file" href="#"><img src="images/pdf-icon.png" />Menuitem</a>
                                </li>
                                <li>
                                    <a class="file" href="#"><img src="images/pdf-icon.png" />Menuitem</a>
                                </li>
                                <li>
                                    <a class="file" href="#"><img src="images/pdf-icon.png" />Menuitem</a>
                                </li>
                                <li>
                                    <a class="file" href="#"><img src="images/pdf-icon.png" />Menuitem</a>
                                </li>
                            </ul>
                            <li>
                                <a href="#"><img src="images/folder-icon.png" />Football</a>
                            </li>
                        </ul>
                        <li class="top">
                            <a href="#"><img src="images/pdf-folder-icon.png" />Technology</a>
                        </li>
                        <ul>
                            <li>
                                <a class="file" href="#">iPhone</a>
                            </li>
                            <li>
                                <a class="file" href="#">Facebook</a>
                            </li>
                            <li>
                                <a class="file" href="#">Twitter</a>
                            </li>
                        </ul>
                        <li class="top">
                            <a href="#"><img src="images/pdf-folder-icon.png" />Latest</a>
                        </li>
                        <ul>
                            <li>
                                <a class="file" href="#">Obama</a>
                            </li>
                            <li>
                                <a class="file" href="#">Iran Election</a>
                            </li>
                            <li>

                                <a class="file" href="#">Health Care</a>
                            </li>
                        </ul>
                    </ul>

                </div><!--- menu ---> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:04:19.020

您需要使用 li:first-child 属性

# android - 我需要获取所选值的 id

> ID：14975849
> 
> 赞同：-1
> 
> 时间：2013-02-20T09:02:39.003
> 
> 标签：android, spinner

我知道如何从微调器获取数据。但我需要获取选定值的 id。现在在 php 中我们可以再次选择 id 一个值。但是有没有办法在android中做到这一点。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:09:15.447

在将元素添加到 spinner 的同时，也会添加到 Hashtable 中，其中 spinner value 作为 key，id 作为 value。

当你设置 setOnItemSelectedListener 得到这样的 id

```
String id=hashtable.get(spinner.getSelectedItem()); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:06:42.497

你的问题不是很清楚，但我认为[onItemSelected()](http://developer.android.com/guide/topics/ui/controls/spinner.html#SelectListener)`id`方法的参数可能是你想要的。另请参阅[文档](http://j.mp/13e1xRO)。

# node.js - express3 - 尝试路由文件

> ID：14975850
> 
> 赞同：1
> 
> 时间：2013-02-20T09:02:47.623
> 
> 标签：node.js, express

我正在尝试在 express3 中路由文件，但我遇到了问题。
所以这是路由文件的代码 -

```
var app = require('express')(),
server = require('http').createServer(app),
io = require('socket.io').listen(server);

server.listen(8080);

// routing
app.get('/', function (req, res) {
    res.sendfile("index/index.html");
    app.use(app.static(__dirname + 'index'));
}); 
```

当我`localhost:8080`在 Chrome 中打开时，它给了我一个错误：

`TypeError: Object function app(req, res){ app.handle(req, res); } has no method 'static'`

我做错了什么？

我所有的 HTML/CSS/JS 文件都在 index 目录中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:07:41.273

`static`是 express 的静态函数，您不能从 express 创建的实例对象访问它。您需要将所需的表达分配给不同的变量。

```
var express = require('express'),
    app = = express(),
    server = require('http').createServer(app),
    io = require('socket.io').listen(server);

server.listen(8080);

// routing
app.get('/', function (req, res) {
    res.sendfile("index/index.html");
    app.use(express.static(__dirname + 'index'));
}); 
```

# android - 使用相对布局的 Android 布局

> ID：14975852
> 
> 赞同：0
> 
> 时间：2013-02-20T09:02:52.957
> 
> 标签：android, layout, android-relativelayout

有人可以解释一下为什么下面的代码片段不能按预期工作吗？我不能将`android:layout_alignParentBottom="true"`参数用于第一个文本视图，因为这样做会将视图放在整个屏幕的底部。

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="wrap_content" >

    <TextView 
        android:id="@+id/bottom_text_view"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:textColor="@color/color_black"
        android:text="AT THE BOTTOM OF THE LAYOUT"/>

     <TextView 
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_above="@id/bottom_text_view"
        android:textColor="@color/color_black"
        android:text="ABOVE THE PREVIOUS TEXT VIEW"/>

</RelativeLayout> 
```

Eclipse 说`@id/bottom_text_view`无法解决。

请考虑到这个例子是一个真实案例的简化，我想在按钮顶部放置更复杂的视图，即按以下顺序的可折叠列表视图和日历：

*   列表显示
*   日历
*   按钮

我真的需要同时折叠列表视图和日历，一旦完成，仍然可见的内容应该移动以便换行。

请帮忙处理这些东西。

提前致谢。

编辑：下面是我的真实案例布局列表视图没有占用我想要的空间。

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="vertical"
    android:background="@drawable/magnet_bkg" >

    <TextView
        android:id="@+id/assets_header_text"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:padding="@dimen/view_padding"
        android:gravity="center"
        android:ellipsize="end"
        android:lines="1"
        android:maxLines="1"
        android:singleLine="true"
        android:text="@string/lbl_asset_manager_title"
        android:textColor="@color/color_white"
        android:textStyle="bold"
        android:textSize="@dimen/top_title_text_size"
        android:background="@drawable/dashboard_title_gradient_bg"
        android:visibility="visible"/>

    <!-- Use the linear layout in order to control the margins in 
    one place only -->
    <LinearLayout 
       android:layout_width="match_parent"
       android:layout_height="match_parent"
       android:layout_marginLeft="@dimen/assets_list_margin_side"
       android:layout_marginRight="@dimen/assets_list_margin_side"
       android:layout_marginTop="@dimen/assets_list_margin_topbottom"
       android:layout_marginBottom="@dimen/assets_list_margin_topbottom"
       android:orientation="vertical">

        <!-- The header with the asset information -->
        <include 
            layout="@layout/activity_magnet_enterprise_company_assets_list_item"/>

        <TextView 
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:padding="@dimen/view_padding"
            android:textColor="@color/color_white"
            android:textSize="@dimen/sub_title_text_size"
            android:text="@string/lbl_report_filter_section_title"
            android:gravity="center"
            android:singleLine="true"
            android:ellipsize="end"
            android:background="@color/color_title_bar"/>

        <RelativeLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginBottom="@dimen/create_report_filter_bottom_margin"
            android:gravity="bottom">

           <!-- The generate report Button -->
           <LinearLayout
                android:id="@+id/create_report_btn_layout"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_below="@+id/filter_by_date_section_layout"
                android:background="@color/color_repoback_dark"
                android:gravity="center"
                android:padding="@dimen/view_padding">

                <Button
                    style="@style/NormalButton"
                    android:onClick="onBtnCreateReportClick"
                    android:text="@string/lbl_button_create_report" />
            </LinearLayout> <!-- end of generate report Button layout -->

            <!-- The filter by date section -->
            <LinearLayout
                android:id="@+id/filter_by_date_section_layout"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_below="@+id/filter_by_project_section_layout"
                android:orientation="vertical">

                <!-- Sub header with the filter by date switch control -->

                <RelativeLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:background="@color/color_subtitle_bar"
                    android:padding="@dimen/view_padding_large" >

                    <Switch
                        android:id="@+id/filter_by_date_switch"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_alignParentRight="true"
                        android:layout_centerVertical="true" />

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_centerVertical="true"
                        android:layout_toLeftOf="@id/filter_by_date_switch"
                        android:ellipsize="end"
                        android:gravity="left"
                        android:singleLine="true"
                        android:text="@string/lbl_report_filter_by_date"
                        android:textColor="@color/color_white"
                        android:textSize="@dimen/sub_title_text_size_small" />
                </RelativeLayout>

                <!-- The section for date selection -->
                <LinearLayout
                    android:id="@+id/date_selection_layout"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:background="@color/color_repoback_dark"
                    android:baselineAligned="false"
                    android:orientation="horizontal"
                    android:padding="@dimen/view_padding" >

                    <!-- Layout FROM date -->

                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:orientation="vertical" >

                        <TextView
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:gravity="center"
                            android:padding="@dimen/view_padding"
                            android:text="@string/lbl_report_date_from"
                            android:textColor="@color/color_white"
                            android:textSize="@dimen/small_text_size"
                            android:textStyle="bold" />

                        <DatePicker
                            android:id="@+id/from_date_report"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:calendarViewShown="false"
                            android:padding="@dimen/view_padding" />
                    </LinearLayout>

                    <!-- Layout TO date -->

                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:orientation="vertical" >

                        <TextView
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:gravity="center"
                            android:padding="@dimen/view_padding"
                            android:text="@string/lbl_report_date_to"
                            android:textColor="@color/color_white"
                            android:textSize="@dimen/small_text_size"
                            android:textStyle="bold" />

                        <DatePicker
                            android:id="@+id/to_date_report"
                            android:layout_width="match_parent"
                            android:layout_height="wrap_content"
                            android:calendarViewShown="false"
                            android:padding="@dimen/view_padding" />
                    </LinearLayout>
                </LinearLayout>
            </LinearLayout> <!-- end of filter by date section layout -->

            <!-- The filter by project section -->
            <LinearLayout
                android:id="@+id/filter_by_project_section_layout"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical">

                <!-- Sub header with the filter by project switch control -->

                <RelativeLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:background="@color/color_subtitle_bar"
                    android:padding="@dimen/view_padding_large" >

                    <Switch
                        android:id="@+id/filter_by_project_switch"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_alignParentRight="true"
                        android:layout_centerVertical="true" />

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_centerVertical="true"
                        android:layout_toLeftOf="@id/filter_by_project_switch"
                        android:ellipsize="end"
                        android:gravity="left"
                        android:singleLine="true"
                        android:text="@string/lbl_report_filter_by_project"
                        android:textColor="@color/color_white"
                        android:textSize="@dimen/sub_title_text_size_small" />
                </RelativeLayout>
                <!-- The projects list view -->

                <ListView
                    android:id="@+id/projects_listview"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:background="@color/color_schedule_list_bg"
                    android:choiceMode="singleChoice"
                    android:divider="@color/color_lightgray"
                    android:dividerHeight="1dp" />
            </LinearLayout>

        </RelativeLayout>

    </LinearLayout>    

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:18:10.457

这是我刚刚创建的布局！

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >

    <TextView
        android:id="@+id/textView1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:layout_centerHorizontal="true"
        android:layout_marginTop="52dp"
        android:textSize="30sp"
        android:text="Hi I'm The Text On TOP" />

    <TextView
        android:id="@+id/textView2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:layout_below="@+id/textView1"
        android:layout_marginTop="40dp"
        android:text="Hi I'm The Text Below the Text Above"
        android:textSize="30sp" />

</RelativeLayout> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:07:06.067

尝试这个

```
 <?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <TextView
        android:id="@+id/textView"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_below="@+id/textView2"
        android:text="AT THE BOTTOM OF THE LAYOUT" />

    <TextView
        android:id="@+id/textView2"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="ABOVE THE PREVIOUS TEXT VIEW" />

</RelativeLayout> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T09:07:31.323

这是因为您将其设置`height`为`RelativeLayout`在`wrap_content` 我稍作更改后复制此代码并查看它将如何工作

```
 <?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <TextView 
        android:id="@+id/bottom_text_view"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:textColor="@color/color_black"
        android:text="AT THE BOTTOM OF THE LAYOUT"/>

     <TextView 
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_above="@id/bottom_text_view"
        android:textColor="@color/color_black"
        android:text="ABOVE THE PREVIOUS TEXT VIEW"/>

</RelativeLayout> 
```

# r - 如何创建不同颜色的小提琴情节？

> ID：14975853
> 
> 赞同：3
> 
> 时间：2013-02-20T09:02:53.577
> 
> 标签：r

我正在使用包`vioplot`。我想问一下，我怎样才能创建不同颜色的小提琴图。

这是我的可重现示例：

```
# Violin Plots library(vioplot) 
x1 <- mtcars$mpg[mtcars$cyl==4] 
x2 <- mtcars$mpg[mtcars$cyl==6] 
x3 <- mtcars$mpg[mtcars$cyl==8] 
vioplot(x1, x2, x3, 
names=c("4 cyl", "6 cyl", "8 cyl"), col="gold") 
title("Violin Plots of Miles Per Gallon") 
```

谢谢你。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-20T09:28:29.210

不可能有多种颜色。但是破解函数`vioplot`并编辑源代码并不难。您应该遵循以下步骤来完成此操作：

1.  复制初始函数：

    ```
     my.vioplot <- vioplot() 
    ```

2.  编辑此功能：

    ```
     edit(my.vioplot) 
    ```

3.  搜索单词“polygon”并将 col 替换为 col[i]

4.  对于您提供单一颜色的情况，请在功能开始时进行测试。并添加这一行：

    ```
     if(length(col)==1) col <- rep(col,n) 
    ```

例如使用您的数据：

```
vioplot(x1, x2, x3, names=c("4 cyl", "6 cyl", "8 cyl"), col="gold") 
title("Violin Plots of Miles Per Gallon") 

my.vioplot(x1, x2, x3, names=c("4 cyl", "6 cyl", "8 cyl"), col=c("gold","red","blue")) 
title("Violin Plots of Miles Per Gallon multi colors") 
```

![在此处输入图像描述](../Images/b5bf969cb9d9e1dbe2ac9ba0c414bcad.png)

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-11-18T15:09:39.617

为了扩展 agstudy 的答案并纠正一件事，这里是完整的新 vioplot 脚本。

在你的脚本中使用 source("vioplot.R") 而不是 library(vioplot) 来使用这个多色版本。这将重复任何颜色，直到达到相同数量的数据集。

```
library(sm)
vioplot <- function(x,...,range=1.5,h=NULL,ylim=NULL,names=NULL, horizontal=FALSE,
  col="magenta", border="black", lty=1, lwd=1, rectCol="black", colMed="white", pchMed=19, at, add=FALSE, wex=1,
  drawRect=TRUE)
{
    # process multiple datas
    datas <- list(x,...)
    n <- length(datas)

    if(missing(at)) at <- 1:n

    # pass 1
    #
    # - calculate base range
    # - estimate density
    #

    # setup parameters for density estimation
    upper  <- vector(mode="numeric",length=n)
    lower  <- vector(mode="numeric",length=n)
    q1     <- vector(mode="numeric",length=n)
    q3     <- vector(mode="numeric",length=n)
    med    <- vector(mode="numeric",length=n)
    base   <- vector(mode="list",length=n)
    height <- vector(mode="list",length=n)
    baserange <- c(Inf,-Inf)

    # global args for sm.density function-call
    args <- list(display="none")

    if (!(is.null(h)))
        args <- c(args, h=h)

    for(i in 1:n) {
        data<-datas[[i]]

        # calculate plot parameters
        #   1- and 3-quantile, median, IQR, upper- and lower-adjacent
        data.min <- min(data)
        data.max <- max(data)
        q1[i]<-quantile(data,0.25)
        q3[i]<-quantile(data,0.75)
        med[i]<-median(data)
        iqd <- q3[i]-q1[i]
        upper[i] <- min( q3[i] + range*iqd, data.max )
        lower[i] <- max( q1[i] - range*iqd, data.min )

        #   strategy:
        #       xmin = min(lower, data.min))
        #       ymax = max(upper, data.max))
        #

        est.xlim <- c( min(lower[i], data.min), max(upper[i], data.max) )

        # estimate density curve
        smout <- do.call("sm.density", c( list(data, xlim=est.xlim), args ) )

        # calculate stretch factor
        #
        #  the plots density heights is defined in range 0.0 ... 0.5
        #  we scale maximum estimated point to 0.4 per data
        #
        hscale <- 0.4/max(smout$estimate) * wex

        # add density curve x,y pair to lists
        base[[i]]   <- smout$eval.points
        height[[i]] <- smout$estimate * hscale

        # calculate min,max base ranges
        t <- range(base[[i]])
        baserange[1] <- min(baserange[1],t[1])
        baserange[2] <- max(baserange[2],t[2])

    }

    # pass 2
    #
    # - plot graphics

    # setup parameters for plot
    if(!add){
      xlim <- if(n==1)
               at + c(-.5, .5)
              else
               range(at) + min(diff(at))/2 * c(-1,1)

      if (is.null(ylim)) {
         ylim <- baserange
      }
    }
    if (is.null(names)) {
        label <- 1:n
    } else {
        label <- names
    }

    boxwidth <- 0.05 * wex

    # setup plot
    if(!add)
      plot.new()
    if(!horizontal) {
      if(!add){
        plot.window(xlim = xlim, ylim = ylim)
        axis(2)
        axis(1,at = at, label=label )
      }

      box()
      for(i in 1:n) {
          # plot left/right density curve
          polygon( c(at[i]-height[[i]], rev(at[i]+height[[i]])),
                   c(base[[i]], rev(base[[i]])),
                   col = col[i %% length(col) + 1], border=border, lty=lty, lwd=lwd)

          if(drawRect){
            # plot IQR
            lines( at[c( i, i)], c(lower[i], upper[i]) ,lwd=lwd, lty=lty)

            # plot 50% KI box
            rect( at[i]-boxwidth/2, q1[i], at[i]+boxwidth/2, q3[i], col=rectCol)

            # plot median point
            points( at[i], med[i], pch=pchMed, col=colMed )
         }
      }

    }
    else {
      if(!add){
        plot.window(xlim = ylim, ylim = xlim)
        axis(1)
        axis(2,at = at, label=label )
      }

      box()
      for(i in 1:n) {
          # plot left/right density curve
          polygon( c(base[[i]], rev(base[[i]])),
                   c(at[i]-height[[i]], rev(at[i]+height[[i]])),
                   col = col[i %% length(col) + 1], border=border, lty=lty, lwd=lwd)

          if(drawRect){
            # plot IQR
            lines( c(lower[i], upper[i]), at[c(i,i)] ,lwd=lwd, lty=lty)

            # plot 50% KI box
            rect( q1[i], at[i]-boxwidth/2, q3[i], at[i]+boxwidth/2,  col=rectCol)

            # plot median point
            points( med[i], at[i], pch=pchMed, col=colMed )
          }
      }
    }
    invisible (list( upper=upper, lower=lower, median=med, q1=q1, q3=q3))
} 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-02-20T18:19:53.150

不要忘记`geom_violin`在`ggplot2`包裹里。在文档中有如何更改填充颜色的示例：[http ://docs.ggplot2.org/0.9.3/geom_violin.html](http://docs.ggplot2.org/0.9.3/geom_violin.html)

* * *

## 回答 #4

> 赞同：4
> 
> 时间：2015-10-01T10:55:28.433

1×1 绘制向量似乎比修改函数更容易：

```
require(vioplot)
yalist = list( rnorm(100), rnorm(100, sd = 1),rnorm(100, sd = 2) )
plot(0,0,type="n",xlim=c(0.5,3.5), ylim=c(-10,10),  xaxt = 'n', xlab ="", ylab = "Pc [%]",  main ="Skanderbeg")
for (i in 1:3) { vioplot(na.omit(yalist[[i]]), at = i, add = T, col = c(1:3)[i]) }
axis(side=1,at=1:3,labels=3:1) 
```

# php - php文件中的字节顺序标记

> ID：14975854
> 
> 赞同：0
> 
> 时间：2013-02-20T09:02:59.060
> 
> 标签：php, csv, encoding, fopen, byte-order-mark

我想使用 php 打开一个 csv 文件。当我在这个文件中使用英文字符时，一切正常，但是当我想在我的 csv 文件中使用波斯语（一种与阿拉伯字符非常相似的向左写的语言）字符时，问题就开始了。

所有波斯语字符都替换为“？” .

我知道这个问题与 BOM 有关，但我不知道如何解决。

# java - MAT 空间与 TaskManager 空间

> ID：14975860
> 
> 赞同：0
> 
> 时间：2013-02-20T09:03:08.117
> 
> 标签：java, heap-memory, mat

在网上搜索了一段时间后，我决定向您寻求帮助以解决我的问题。

我的程序应该分析非常大的日志文件。它们大约 100mb 到 2gb。我想使用像 FileChannel 这样的 NIO 类来读取文件。

我不想将文件保存在内存中，但我想立即处理这些行。该代码有效。

现在我的问题：我用 Eclipse MAT 插件分析了内存使用情况，它说保存了大约 18mb 的数据（适合）。但是 Windows 中的 TaskManager 说 JVM 使用了大约 180mb。

你能告诉我这是为什么吗？

我不想保存使用 FileChannel 读取的数据，我只想处理它。之后我将关闭频道 - 我以为所有数据都会被删除？

我希望你们能帮助我了解 MAT 中显示的已用空间和 TaskManager 中显示的已用空间之间的区别。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:09:47.243

MAT 只会显示您的程序主动引用的对象。JVM 使用的内存比这更多：

*   自己的代码
*   非对象数据（类、编译的字节码等）
*   当前未使用但已分配的堆空间。

最后一种情况可能是最重要的一种。根据计算机上有多少物理内存，JVM 将为[它的 heap 设置一个默认的最大大小](https://stackoverflow.com/q/4667483/507519)。为了提高性能，它将继续使用最多该数量的内存，而*垃圾收集活动最少*。这意味着不再引用的对象将保留在内存中，而不是立即被垃圾回收，从而增加了使用的内存总量。

因此，JVM 通常*不会*将其作为其堆的一部分分配的任何内存释放回系统。这将在操作系统监视实用程序中显示为过多的已用内存。

具有高对象分配/取消分配率的应用程序会更糟 - 我有一个使用 1.8GB 内存的应用程序，但实际上需要不到 100MB。但是，将最大堆大小减小到 120 MB 会使执行时间增加几乎一个完整的数量级。

# javascript - Javascript数组数组->数组[索引]未定义

> ID：14975869
> 
> 赞同：1
> 
> 时间：2013-02-20T09:03:53.027
> 
> 标签：javascript, arrays

我从一个 php 文件生成了一些 javascript。在这个生成的代码中，我创建了一个多维数组，然后填充它。第一个嵌套数组填充没有问题，但第二个抛出 TypeError: myArray[idx] is undefined。

这是一个代码片段：

```
function initialize() {
                var arrayLabels = [];
                var arrayMarkers = [];
                var idx = 0;
                arrayMarkers[idx] = [];
                var mapLatlng = new google.maps.LatLng(40.6029248937, 7.7861327300);
                var mapOptions = { center: mapLatlng,
                    zoom: 13, 
                    mapTypeId: google.maps.MapTypeId.SATELLITE };
                var map = new google.maps.Map(document.getElementById("karte"), mapOptions);
                var bounds = new google.maps.LatLngBounds();
                    arrayMarkers[idx]['breite'] = 44.4114053473682;
                    arrayMarkers[idx]['laenge'] = 8.91858100891113;
                    arrayMarkers[idx]['farbe'] = "http://new.kfb.localhost:8888/img/ico/button2_gruen.png";
                    arrayMarkers[idx]['hafen'] = "Ab/bis Genua";
                    arrayMarkers[idx]['link'] = "Karte&#44; Wetter und<br>Landausfl&uuml;ge f&uuml;r<br><a href='hafen.php?hafen=172'>Genua</a><br>Sa, 16.03.13";
                    idx++;
                    arrayMarkers[idx]['breite'] = 43.3449053146323; 
```

错误在索引增加后的最后一行引发。任何想法是什么问题？

谢谢 MK

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-02-20T09:05:43.817

您正在递增`idx`，然后执行以下操作：

```
arrayMarkers[idx]['breite'] = 43.3449053146323; 
```

您从未在 中放置任何对象`arrayMarkers[idx]`，因此您最终尝试向 中添加属性`undefined`，这会导致错误。

如果要在新索引处创建数组，请添加此处显示的第二行：

```
idx++;
arrayMarkers[idx] = []; // <=== Add this
arrayMarkers[idx]['breite'] = 43.3449053146323; 
```

* * *

旁注：您放入的东西`arrayMarkers[idx]`是数组（`[]`），但您不是将它们用作数组，而是将它们用作对象。你*可以*在 JavaScript 中做到这一点（因为这些数组[根本不是真正](http://blog.niftysnippets.org/2011/01/myth-of-arrays.html)的数组），但除非你要利用它们是数组的事实，否则我只会使用对象：

```
arrayMarkers[idx] = {}; // Instead of [] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:05:38.500

```
idx++;
                    arrayMarkers[idx]['breite'] = 43.3449053146323; 
```

应该

```
 arrayMarkers[idx]['breite'] = 43.3449053146323;
idx++; 
```

这样您就可以在所有操作完成后移至下一个索引。否则使用它们会将值增加到下一个不存在的索引

或者，如果它必须保持不变，那么您可以初始化该值，例如

```
idx++;
arrayMarkers[idx] = [];
arrayMarkers[idx]['breite'] = 43.3449053146323; 
```

# eclipse - Javadocs 随处可见

> ID：14975874
> 
> 赞同：1
> 
> 时间：2013-02-20T09:04:09.837
> 
> 标签：eclipse, javadoc

我使用 Javadocs 为我的方法添加描述。在 Eclipse 中，我只需将鼠标放在方法名称上，然后单击 Add Javadoc 菜单。有时虽然我注意到它会为我文件中的每个字段和方法添加一堆空注释。这真的很烦人，我不知道为什么会这样。我是在无意中做某事还是这是 Javadocs 插件中的错误？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:19:32.797

您可以定义您希望代码模板的外观。在 Eclipse 中，转到：窗口 -> 首选项。在那里查找 Java -> 代码样式 -> 代码模板。然后，您可以定义 javadoc 应该是什么样子，或者不应该是什么样子。

# c# - IPGlobalProperties.GetIPGlobalProperties

> ID：14975875
> 
> 赞同：2
> 
> 时间：2013-02-20T09:04:16.600
> 
> 标签：c#

我编写了一个测试应用程序来获取我网络上的所有活动端口。做了一些搜索，发现这是最简单的方法。所以我试了一下，它工作得很好。然后我编写了另一个带有服务器和客户端的套接字应用程序。它非常基本，有一个创建服务器、加入服务器和刷新按钮来获取活动服务器。唯一一次调用此方法是在您按下刷新按钮时。如果我打开应用程序 3 次或更多次，并在第 4 次之前创建具有连接客户端的服务器，则此方法开始给我此（未知错误（0xc0000001））错误。知道为什么会发生这种情况吗？有趣的是我从来没有在最初的申请中得到这个，我第一次打开的那个。我不知道它是否以某种方式锁定了这个或什么。

在这一行抛出异常：

```
IPEndPoint[] endPoints = properties.GetActiveTcpListeners(); 
```

这是方法，它为最小和最大范围内的所有端口返回一个 List 对象。

```
public static List<UserLocalSettings> ShowActiveTcpListeners(int min, int max)
{
    List<UserLocalSettings> res = new List<UserLocalSettings>();
    try
    {
        IPGlobalProperties properties = IPGlobalProperties.GetIPGlobalProperties();
        IPEndPoint[] endPoints = properties.GetActiveTcpListeners();
        foreach (IPEndPoint e in endPoints)
        {
            if (e.Port > (min - 1) && e.Port < (max + 1))
            {
                UserLocalSettings tmpClnt = new UserLocalSettings();
                tmpClnt.player_ip = e.Address.ToString();
                tmpClnt.player_port = e.Port;
                tmpClnt.computer_name = Dns.GetHostEntry(e.Address).HostName;
                res.Add(tmpClnt);
            }
        }

    }
    catch (Exception ex1)
    {
    }
    return res;
} 
```

这是异常的屏幕打印：

![http://i.stack.imgur.com/bttxk.gif](../Images/6221d60ab933caa891b681c1c4e5f836.png)

# ajax - 未使用 ajax 请求登录时，无法使用 wordpress 检索术语

> ID：14975877
> 
> 赞同：0
> 
> 时间：2013-02-20T09:04:22.830
> 
> 标签：ajax, wordpress

我有一个奇怪的问题。我有两个 html 列表，当我选择一个地区时，它会向 wordpress 发送一个 ajax 请求并返回该地区所在省份的列表。问题是wordpress的get_terms()函数在我们没有登录的情况下并没有检索到任何省份，即使他正确接收到了数据。

这是代码，希望有人可以帮助我。

```
<?php
/*
Plugin Name: Ajax Départements
Description: Récupère les sous categories(départements) d'une categorie(région)
Version: 0.1
Author: EnessFr
*/

//Enregstrement du trigger et du callback
add_action( 'wp_ajax_dpt-ajax-request', 'ajaxGetDepartement' );
add_action( 'wp_ajax_nopriv_dpt-ajax-request', 'ajaxGetDepartement' );

//insertion du script
wp_enqueue_script( 'dpt-ajax-request', plugin_dir_url( __FILE__ ) . 'ajax.js', array( 'jquery' ), null, true );

//Enregistrement de l'url ajax
wp_localize_script( 'dpt-ajax-request', 'dptAjaxRequest', array( 'ajaxurl' => admin_url( 'admin-ajax.php' ) ) );

//callback ajax
function ajaxGetDepartement(){
$departements = null;
$regionToExclude = array();
$tmpRegionName = $_POST['region'];

//Récupération des régions parents
$regionsParents = get_terms('category',array(
    'parent' => 0,
    'hide_empty' => false,
    ));

foreach($regionsParents as $rg){
    array_push($regionToExclude, $rg->term_id);
}
array_push($regionToExclude, 1); // 1 = catégorie non-classé

//Récupération de la région passée en arguments
if(strval($_POST['region']) != 'wqsftaxoall'){ // une région valable est reçus
    $tmpRegion = get_terms('category',array(
        'slug' => $tmpRegionName,
        'hide_empty' => false,
        )
    );

    $regionParent = $tmpRegion[0]->term_id;

    //Récupération des départements
    $departements = get_terms('category',array(
        'child_of' => $regionParent,
        'hide_empty' => false,
        'orderby' => 'name',
        'order' => 'ASC',
        'exclude' => $regionToExclude,
        ));
}else{ //récupération de tous les départements

    //Récupération des départements
    $departements = get_terms('category',array(
        'hide_empty' => false,
        'orderby' => 'name',
        'order' => 'ASC',
        'exclude' => $regionToExclude,
        ));

}

//Construction et afichage des résultats
$options = '<option selected value="wqsftaxoall">Tous les départements</option>';

foreach($departements as $dpt){
    $options .= '<option value="'.$dpt->slug.'">'.$dpt->name.'</option>';
}

echo $options;
die();
}

?> 
```

编辑：问题似乎是 get_terms 函数，当未登录的用户执行 tha ajax 调用时，它返回一个空数组。当用户登录时，该数组包含类别列表。

EDIT2：我仍然有问题，在谷歌上搜索，我找不到任何有同样问题的人。我现在不知道该怎么办，也许我错过了一些东西，但我不知道是什么。请帮帮我 ：）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:31:00.207

尝试发出**POST类型的 ajax 请求**

或者

否则尝试**$_REQUEST**而不是**$_POST**因为默认情况下，请求将是 $_GET 类型，这会导致您的案例出现问题

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-29T19:36:52.423

我得到了答案！这是一个插件：角色范围。它对分类法施加了限制，我取消了对这个特定分类法的限制，现在它可以工作了。

# c# - 实例化对象属性更改的事件通知

> ID：14975880
> 
> 赞同：1
> 
> 时间：2013-02-20T09:04:27.733
> 
> 标签：c#, oop, networking

是否可以为属性更改的实例化对象创建事件处理程序？

例如：我有一个在线游戏。有一个名为 IOClient 的类，它在 Player 对象的自身内部创建一个实例，该对象在该角色登录后存储角色数据。

我想创建一个事件处理程序，以便在 Player 对象 Map 属性更改时触发。（这主要是为了处理地图更改，因为您可以使用传送命令或走进门户进入不同的地图）。

大多数属性的事件处理示例必须包含在同一个类中，但我不能从 Player 对象调用数据流写入（因为它是 IOClient 的一部分），所以它不能在那里工作。

更改地图当前如下所示：

```
 case "village":
                player.X = 8;
                player.Y = 12;
                player.Map = "Village";
                SendPacket(new LoadWorld(player, 1).Compile());
                break;
            case "shop1":
                player.X = 8;
                player.Y = 12;
                player.Map = "shop1";
                SendPacket(new LoadWorld(player, 1).Compile());
                npcshop1.SetShop1();
                SendPacket(new CreateNPC(npcshop1).Compile());
                string shopchat = "Gladrial: Click on me to see the menu.";
                SendPacket(new UpdateChatBox(0xff, 0xff, 1, (short)shopchat.Count(), shopchat).Compile());
                break; 
```

正如您所看到的，每次加载新地图时都需要发送 NPC/Monster 数据。如果此 case 开关位于事件处理程序中，我可以从不同位置更改地图属性，例如传送、进入门户、gm 传送，而无需始终调用 switch 案例。

# php - 消息：未定义变量：用户名

> ID：14975887
> 
> 赞同：1
> 
> 时间：2013-02-20T09:04:54.740
> 
> 标签：php, codeigniter, login

我按照 Code Factory 上的教程为 codeigniter 编写了一个简单的登录脚本。我现在可以登录，但是当我想通过代码向用户显示时

```
Welkom: <?php echo $username ?>! 
```

我收到错误消息：未定义的变量：用户名

我不知道问题是什么，所以我会在您要求时发布我的代码。

谢谢

编辑：

我的用户模型。

```
 <?php
    Class User extends CI_Model
    {
     function login($username, $password)
     {
       $this -> db -> select('id, username, password');
       $this -> db -> from('users');
       $this -> db -> where('username', $username);
       $this -> db -> where('password', MD5($password));
       $this -> db -> limit(1);

       $query = $this -> db -> get();

       if($query -> num_rows() == 1)
       {
         return $query->result();
       }
       else
       {
         return false;
       }
     }
    }
    ?> 
```

我的登录控制器：

```
<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');

class Login extends CI_Controller {

 function __construct()
 {
   parent::__construct();
 }

 function index()
 {
   $this->load->helper(array('form'));
   $this->load->view('login_view');
 }

}

?> 
```

我的家庭控制器：

```
<?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');
session_start(); //we need to call PHP's session object to access it through CI
class Home extends CI_Controller {

 function __construct()
 {
   parent::__construct();
 }

 function index()
 {
   if($this->session->userdata('logged_in'))
   {
     $session_data = $this->session->userdata('logged_in');
     $data['username'] = $session_data['username'];
     $this->load->view('home_view', $data);
   }
   else
   {
     //If no session, redirect to login page
     redirect('login', 'refresh');
   }
 }

 function logout()
 {
   $this->session->unset_userdata('logged_in');
   session_destroy();
   redirect('home', 'refresh');
 }

}

?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T09:05:50.147

```
Welkom: <?php echo (isset($username))?$username :"Guest" ?>! 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:40:03.597

尝试更换

```
Welkom: <?php echo $username ?>! 
```

和：

```
Welkom: <?php echo (isset($data['username'])) ? $data['username'] : "Guest"; ?>! 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T09:44:18.743

我会在 Home 类中做进一步检查，看看是否

```
$data['username'] = $session_data['username']; 
```

已经设置好了。试试这个：

```
$session_data = $this->session->userdata('logged_in');
$data['username'] = $session_data['username'];
//$this->load->view('home_view', $data);
echo "username: " . $data['username']; exit; 
```

# objective-c - 忽略动画精灵的透明度

> ID：14975888
> 
> 赞同：1
> 
> 时间：2013-02-20T09:04:57.530
> 
> 标签：objective-c, cocos2d-iphone

我目前正在使用 CGPath 来忽略精灵的透明度，所以：

```
path = CGPathCreateMutable();
CGPathMoveToPoint(path, NULL, endpoint-x, endpoint-y);
CGPathAddLineToPoint(path, NULL, 0, 250);.....
CGPathAddLineToPoint(path, NULL, 50, 0);
CGPathCloseSubpath(path); 
```

这适用于每条路径 1 个精灵。问题是，我的精灵是动画的，所以它使用了具有不同顶点（点）的多个精灵。我的问题是，忽略动画（多个）精灵透明度的最佳方法是什么？有人告诉我，我可以在每帧中使用它，但这太乏味了，所以可能有比这更容易的东西。

只是附加信息，我已经尝试过像素完美碰撞，但它对我不起作用。请帮忙。

# timeout - GCDAsyncSocket ReadTimeoutError 出现问题

> ID：14975892
> 
> 赞同：3
> 
> 时间：2013-02-20T09:05:04.547
> 
> 标签：timeout, xmpp

我正在为我的 iOS 项目使用*XMPP*和*OpenFire 。*互联网连接稳定。第一次登录时一切都很好。但是从第二次（注销然后再次登录）开始，它很少起作用。我经常在 10-15 秒后得到**readTimeoutError**：

*错误域=GCDAsyncSocketErrorDomain 代码=4“读取操作超时” UserInfo=0xa8db6a0 {NSLocalizedDescription=读取操作超时}*

因此，该应用程序不会跳转到**- (void)xmppStreamDidConnect:(XMPPStream *)sender**，因此我没有与 OpenFire 连接。我在这个问题上花了一整天，但仍然找不到解决方案。谁能帮我 ？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-11T07:24:37.350

发现你面临的问题。请正确关闭您的套接字，它会没事的。

# java - 金字塔 Lucas-Kanade 算法与 Java

> ID：14975894
> 
> 赞同：-1
> 
> 时间：2013-02-20T09:05:07.940
> 
> 标签：java, algorithm, image-processing

我有一个关于 Lucas-Kanade 光流算法的问题。我了解到“金字塔” Lucas-Kanade 算法比简单的 Lucas-Kanade 算法更好。所以我用Java制作了它的程序，因为我不能使用OpenCV的程序。但是这个程序效果不好。所以请教我“金字塔”卢卡斯-卡纳德算法的程序，或者显示“金字塔”卢卡斯-卡纳德算法程序的网站。

我是日本学生，所以英语不好。对不起。但请帮助我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T09:54:23.883

我在 OpenCV 中使用了带有图像金字塔的 Lucas-Kanade 算法。它是计算光流的最快算法之一。

使用 OpenCV 的 Lucas-Kanade 算法与图像金字塔的实现，如果您尝试进行图像处理，请忘记 Java。许多人尝试使用 Java，但由于图像处理所需的性能问题而在两者之间失败了，尽管我确实以 Java 为生，但我不推荐它用于图像处理。必要时学习 C++，并使用 OpenCV 来完成。

# php - Instagram 如何在 php 中验证 X-Hub-Signature

> ID：14975898
> 
> 赞同：8
> 
> 时间：2013-02-20T09:05:20.837
> 
> 标签：php

`X-Hub-Signature`在php中验证的正确方法是什么？

我试过了

```
$xHubSignature = $request->getHeader('X-Hub-Signature');
$postdata = file_get_contents("php://input");
$body = $request->getRawBody( );
$check = sha1('mysecret'.$postdata); 
```

但它不起作用。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-25T21:27:43.590

```
hash_hmac( 'sha1', $postdata,'mysecret') 
```

感谢 Payom Dousti

[https://groups.google.com/forum/?fromgroups=#!topic/instagram-api-developers/7nKyipJENdI](https://groups.google.com/forum/?fromgroups=#!topic/instagram-api-developers/7nKyipJENdI)

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2017-07-31T12:06:17.563

要在 PHP 5.6 或更高版本中验证 Instagram 或[Facebook webhook 回调](https://developers.facebook.com/docs/graph-api/webhooks)`X-Hub-Signature`发送的标头，您可以使用：

```
if ( hash_equals('sha1=' . hash_hmac('sha1', $postdata, 'mysecret'), 
                 $_SERVER['HTTP_X_HUB_SIGNATURE'] ) 
```

这比使用`==`or方法要好，`===`因为它`hash_equals`可以防止*定时攻击*。

# d3.js - D3 js对不同形状和异物的碰撞检测

> ID：14975901
> 
> 赞同：2
> 
> 时间：2013-02-20T09:05:32.973
> 
> 标签：d3.js, collision-detection, radial

我对 D3 还很陌生，我的任务是开发一个力有向图，但是这个图与我发现的任何示例都不同，而且我似乎遇到了很多问题。

我正在尝试开发这样的东西：

[http://www.huzzahstudios.com/images/profile_page_simple.jpg](http://www.huzzahstudios.com/images/profile_page_simple.jpg)

到目前为止，我遇到的最大问题是包含文本的节点往往重叠相当多，并且对它们形成的形状的碰撞检测似乎没有按预期运行。

基本上我需要：

```
- Nodes to never overlap in resolved state
- Nodes to resolve in similar locations (as per diagram above)
- Graph to be able to adapt acceptably depending on amount of data 
```

这是我到目前为止所拥有的：http: [//jsfiddle.net/lucidlyle/SwV9s/4/](http://jsfiddle.net/lucidlyle/SwV9s/4/)

如您所见，目前它非常混乱，非常感谢您对此事的任何帮助。

谢谢

# multiplayer - 如何使用 firebase 向特殊的在线用户发送警报消息

> ID：14975904
> 
> 赞同：4
> 
> 时间：2013-02-20T09:05:38.887
> 
> 标签：multiplayer, sendmessage, firebase

我正在尝试使用 javascript 制作“FourConnect”游戏。我想要一个来自所有在线用户的列表。这个列表是我在 firebase 网站上用示例制作的。现在我希望我可以选择一个在线用户并向他们发送与我一起玩的邀请。所以我写了一个函数，所有用户期望我都有一个额外的 div。当我点击 div 时，这个特殊用户应该会得到一个确认框来说好的或取消。如果用户单击 okkey，则播放应该开始。我将保存用户的名称和 ID。这已经奏效了。

我的问题是，我不知道如何将请求发送给其他用户。我尝试了很多，但确认框总是在我的浏览器上，而不是在其他用户的浏览器上。

我在 firebase 页面和 google 上寻找解决方案，但找不到任何解决我问题的方法。

我已经拥有的代码：

```
 var name = prompt("Your name?", "Guest"),
      currentStatus = "★ online";

  // Get a reference to the presence data in Firebase.
  var userListRef = new Firebase(connectFour.CONFIG.firebaseUrl);

  // Generate a reference to a new location for my user with push.
  var myUserRef = userListRef.push();
  var gameId = myUserRef.name();
  document.getElementById('labelGameId').innerHTML = gameId;

  beginGame({id: gameId, name: name, status: currentStatus});
  // Get a reference to my own presence status.
  var connectedRef = new Firebase('http://presence.firebaseio-demo.com/.info/connected');
  connectedRef.on("value", function(isOnline) {
    if (isOnline.val()) {
      // If we lose our internet connection, we want ourselves removed from the list.
      myUserRef.onDisconnect().remove();

      // Set our initial online status.
      setUserStatus("★ online");
    } else {

      // We need to catch anytime we are marked as offline and then set the correct status. We
      // could be marked as offline 1) on page load or 2) when we lose our internet connection
      // temporarily.
      setUserStatus(currentStatus);
    }
  });
//}

  // A helper function to let us set our own state.
  function setUserStatus(status) {
    // Set our status in the list of online users.
    currentStatus = status;
    myUserRef.set({ name: name, status: status });
  }

  // Update our GUI to show someone"s online status.
  userListRef.on("child_added", function(snapshot) {
    var user = snapshot.val();
    $("#output").append($("<div/>").attr("id", snapshot.name()));
    $("#" + snapshot.name()).text(user.name + " is currently " + user.status);
    if(snapshot.name() != myUserRef.name()){
        var $invite = $('<div id="invite">invite</div>');
        $("#output").append($invite);
        $($invite).on('click', function(){
            //startGame(user);
            console.log('Gegner2: '+snapshot.name());
            console.log('Genger2Name: '+user.name);
                joinGame({id: snapshot.name(), name: user.name, status: user.status});
        });
    }

  });

  // Update our GUI to remove the status of a user who has left.
  userListRef.on("child_removed", function(snapshot) {
    $("#" + snapshot.name()).remove();
  });

  // Update our GUI to change a user"s status.
  userListRef.on("child_changed", function(snapshot) {
    var user = snapshot.val();
    $("#" + snapshot.name()).text(user.name + " is currently " + user.status);
  });
  document.onIdle = function () {
    setUserStatus("☆ idle");
  }
  document.onAway = function () {
    setUserStatus("☄ away");
  }
  document.onBack = function (isIdle, isAway) {
    setUserStatus("★ online");
  }

  setIdleTimeout(5000);
  setAwayTimeout(10000);

function joinGame(opponent) {
    console.log(opponent);
    console.log(opponent.id);
    var player2ID = opponent.id; 
    myUserRef = new Firebase(connectFour.CONFIG.firebaseUrl + opponent.id);
    myUserRef.once('value', function(dataSnapshot){
        if(dataSnapshot.val()){
            beginGame({id: player2ID , name: opponent.name, status: opponent.status});
        }else{
            alert("game doesn't exist");
        }
    });

}

function beginGame(player) {
    console.log(player);
    console.log('Id spieler1: '+gameId);

    }); 
```

使用此代码，我可以单击“邀请”，然后我将看到用户拥有的 ID。我还想将 ID 发送到 beginGame() 但这并不真正有效。

我的 Firebase 结构：

游戏

-InmydEpSe5oZcLZUhfU

-InrLM6uxAsoOayOgFce

```
 -name: "Barbara"

  -status: "away" 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-02-22T19:10:15.580

为了向其他用户发送消息，您需要该用户监控 Firebase 中的已知位置。然后，当您想向他们发送消息时，您只需以某种方式修改该位置，他们就会收到回调。这是一些伪代码：

```
var root = new Firebase(...);

//On initialization start listening for messages
root.child("users/inbound-messages").on("child_added", 
  function(newMessageSnapshot) {
    displaySomethingToTheUser(newMessageSnapshot.val());
    newMessageSnapshot.ref().remove();
  }
);

//Send a message to another user
root.child(otherUserId).child("inbound-messages").push("Hi other user!"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-06-10T15:02:17.783

据我了解。您希望游戏中有一个聊天窗口，以便登录的用户相互交流，好吗？

好吧，在其结构中，您只需添加如下内容：

```
-Games
    -rooms
     -charOfRoomSpecific
         - users

             + InmydEpSe5oZcLZUhfU

              -InrLM6uxAsoOayOgFce
                     name: "Barbara"
                     status "away"

       - messages
           + InmyBlaBlae5oZcLPKSu
           -InmyBlaBlae5oZcLPKSu2
                user: "Barbara"
                say: "Hello man, will gamer!"

     + charOfRoomSpecific2
     + charOfRoomSpecific3
     ... 
```

因此，房间中的用户可以简单地阅读消息：

```
FirebaseRef.child ("rooms/charOfYourRoomSpecific/messages"); 
```

每个可以进入这个房间的人都会实时看到他们的对话。

# java - 从 mongodb 读取与集合实际类不同的类

> ID：14975906
> 
> 赞同：0
> 
> 时间：2013-02-20T09:05:42.003
> 
> 标签：java, class, mongodb, collections

我在 Java 和 Spring 中使用最新版本的 MongoDB。

我希望能够从存储类类型 A 的集合中填充类型 NotA 的类。

A 类和 NotA 类完全相同，但有一个区别：NotA 类的名称是，嗯，不是 A :)

为了论证，A类看起来像这样：

```
public class A {
    String name;
    String domain;
} 
```

A 集合的对象如下所示：

```
{ "_id" : "b7990a90-7d95-4879-bb4a-5ec2fd13e262", "_class" : "com.someservice.A", "name" : "Dan", "domain":"global"} 
```

由于与这个问题无关的原因，我无法读入 A 然后复制到 NotA，我必须直接读取到 NotA（或其他一些*不是*介于两者之间的对象，然后再读取到 NotA，如果没有其他选择）。

我想我可以读取一个 DBObject，然后手动复制所有字段，但宁愿让默认反射机制来做它的事情。

我已将 NotA 的 @Document 注释设置为 @Document(collection = "A") 但这还不够，我还需要剩下的部分。

我猜这个问题有一个简单的解决方案，我就是想不通。帮助？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:11:29.147

如果可能的话 - 您可以直接在 Mongo 集合中更新您的文档以调整`_class`值：

```
{ "_id" : "b7990a90-7d95-4879-bb4a-5ec2fd13e262", "_class" : "com.someservice.NotA", "name" : "Dan", "domain":"global"} 
```

# javascript - Magento - 表单上的自定义验证不起作用

> ID：14975911
> 
> 赞同：1
> 
> 时间：2013-02-20T09:05:50.373
> 
> 标签：javascript, jquery, validation, magento

我正在尝试为我的一家商店进行表格翻译。

为此，我使用了教程：[http ://blog.baobaz.com/en/tag/magento-translation](http://blog.baobaz.com/en/tag/magento-translation)

所以我创建了自己的 javascript 文件并更新了 local.xml

各自的代码如下：

```
if(Validation) {                    
Validation.addAllThese([      
    [
        'welsh-required',                                           
        'Mae\'n rhaid llenwi\'r blwch hwn',   
        function(v,r){ return v.indexOf('valid')==-1?false:true }   
    ],
    [
        'welsh-email',                                              
        'Rhowch gyfeiriad ebost dilys yma.',   
        function(v,r){ return v.indexOf('valid')==-1?false:true }   
    ],
])
} 
```

我在本地 xml 的头引用中添加它的代码是：

```
<action method="addItem">
            <type>skin_js</type>
            <name>js/myvalidation.js</name>
</action> 
```

尝试使用此功能的一个示例是忘记密码表单。我将代码与我创建的类名一起使用：

```
<?php if (Mage::app()->getStore()->getId() == 1): ?>
                    <input type="text" name="email" alt="email" id="email_address" class="input-text required-entry validate-email" value="<?php echo $this->htmlEscape($this->getEmailValue()) ?>" />
                <?php else: ?>
                    <input type="text" name="email" alt="email" id="email_address" class="welsh-required required-entry welsh-email" value="<?php echo $this->htmlEscape($this->getEmailValue()) ?>" />
<?php endif; ?> 
```

验证确实显示新文本（但不像原始验证那样将两个验证一起显示）。即使输入了正确的数据，表格也不会发送。

任何帮助深表感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:20:41.327

我猜这个条件`if(Validation) {`不成立。
尝试将其包装成`document.observe("dom:loaded", function() {}`条件。

# c# - 我必须在 for 循环中编写什么代码？

> ID：14975913
> 
> 赞同：-1
> 
> 时间：2013-02-20T09:05:59.353
> 
> 标签：c#, linq, windows-phone-7, linq-to-xml

我需要像下面这样的输出，我该怎么做？

```
 name1
         title1
         title2

       name2
         title1
         title2 
```

在那个 for 循环中，我必须显示标题。在这里，我使用了以下代码，这意味着我收到以下错误：

`'char' does not contain a definition for 'Attribute' and no extension method 'Attribute' accepting a first argument of type 'char' could be found (are you missing a using directive or an assembly reference`

如何解决上述错误以及如何在 for 循环中编写条件以显示标题？

我用过这段代码：

```
 XmlSerializer serializer = new XmlSerializer(typeof(Notchs));
   XDocument xmlDoc = XDocument.Parse(dataInXmlFile);
   var Categories = (from Category in xmlDoc.Descendants("Category")
               select new Notch()
               {
                       name = (string)Category.Attribute("name"),
                       title =  Category.Elements("Articles").Elements("article").ToString()            
               }).ToList();
       foreach(var doc in Categories)
        {
            foreach(var sec in doc.title)
            {
                sec.Attribute("title").Value.ToList(),
            }
        }
        NotchsList.ItemsSource = Categories.ToList(); 
```

XML

```
<Categories>
  <Category name="notchbolly">
   <Articles>
   <article articleid="170" title="Colour And Vibrancy Are Part Of Our DNA">...</      article>
   <article articleid="187" title="German chef gets saucy!!">...</article>
   <article articleid="2004" title="Meet-the-Face-of-Compassion">...</article>
   <article articleid="2005" title="Dutt’s-family-gets-together!">...</article>
   <article articleid="1933" title="NOTCH easy to do recipe- Mushroom Risotto with   truffles">...</article>
   <article articleid="1934" title="NOTCH easy to do recipe- Lobster with Black ink Linguini Arabiatta">...</article>
  <article articleid="1935" title="Yash Birla- 100% Living">...</article>
  </Articles>
</Category>
<Category name="notchfashion">
  <Articles>
  <article articleid="81" title="Making Headlines">...</article>
  <article articleid="99" title="Ladakh through my Lens">...</article>
  <article articleid="689" title="A-Family-Affair">...</article>
  <article articleid="2264" title="Sushmita-back-with-Manav?">...</article>
  <article articleid="70" title="NOTCH- Making of the cover- Farhan Akhtar & Javed Akhtar">...</article>
   <article articleid="78" title="NOTCH easy to do recipe- Aubergine Carpaccio">...       </article>
  <article articleid="1935" title="Yash Birla- 100% Living">...</article>
 </Articles>
</Category> 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-02-20T09:09:16.487

在您的代码`title`属性中是一个字符串，而不是字符串列表。因此，在内部 foreach 中，您尝试逐个枚举字符串 char。你也很想从`char`循环中获取属性。当然，`char`不是`XElement`，它没有`Attribute`方法。

改为使用字符串列表（并对属性使用 PascalCase 名称）。

```
// why are you named class Notch? use Category!
public class Notch 
{
    public string Name { get; set; }
    public List<string> Titles { get; set; }
} 
```

类似的东西（如果没有看到你的 xml 就无法确定）：

```
XDocument xmlDoc = XDocument.Parse(dataInXmlFile);
var Categories = 
    (from Category in xmlDoc.Descendants("Category")
     select new Notch()
     {
         Name = (string)Category.Attribute("name"),
         Titles = Category.Element("Articles").Elements("article")
                          .Select(a => (string)a.Attribute("title")).ToList()
     }).ToList();

 foreach(var category in Categories)
 {
    foreach(var title in category.Titles)
    {
         // use title
    }
 }

NotchsList.ItemsSource = Categories.ToList(); 
```

另一个建议 - 为短范围变量使用短名称（如 Linq 查询中的范围变量）。因此，例如上面，`Category`您可以使用 simple 来代替变量`c`。

更新请记住，您的 xml 中有未转义的 & 符号。& 符号[应该](http://www.microshell.com/programming/php/xml-and-ampersand/)用`&amp;`.

# c# - Action 和 Func 的代码约定

> ID：14975914
> 
> 赞同：3
> 
> 时间：2013-02-20T09:06:02.807
> 
> 标签：c#, naming-conventions

使用`Action`和`Func`类型是否有任何编码约定？即，我很好奇它们在用作方法（`Action someAction`或`Action SomeAction`）中的参数时是否应该将首字母大写。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-20T09:07:57.260

我认为它们将遵循与传递给方法的任何参数相同的约定。在 C# 中，方法参数的最常见约定似乎是 Camel 大小写。所以，对于 Actions 和 Funcs，我也会坚持这一点。

# ruby-on-rails - Rails：如何连接旧的 PostgreSQL（你的 PostgreSQL (70417) 版本太旧，请升级！）

> ID：14975918
> 
> 赞同：3
> 
> 时间：2013-02-20T09:06:08.963
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, postgresql

尝试建立与远程 PostgreSQL 的连接时，出现错误：

> RuntimeError: 您的 PostgreSQL (70417) 版本太旧，请升级！来自 /Users/panayi/.rbenv/versions/1.9.3-p362/lib/ruby/gems/1.9.1/gems /activerecord-3.2.11/lib/active_record/connection_adapters /postgresql_adapter.rb:331:in `initialize '

我无权访问 PostgreSQL，因此无法升级。我尝试使用较旧的`pg`宝石：

```
# Gemfile
gem  'pg', '~> 0.9.0' 
```

但后来我得到：

> LoadError: Please install the postgresql adapter: `gem install activerecord-postgresql-adapter`(can't activate pg (~> 0.11), already activate pg-0.9.0\. 确保所有依赖项都添加到 Gemfile。）

我被困住了。

# facebook - 如何将诸如 oncomplete 之类的侦听器附加到 p:button

> ID：14975920
> 
> 赞同：0
> 
> 时间：2013-02-20T09:06:14.367
> 
> 标签：facebook, jsf-2, primefaces

我有以下代码：

```
<h:form id="facebookForm">
    <p:button value="Facebook Connect" href="#{loginPageCode.facebookUrlAuth}">  
          <p:ajax event="click" listener="#{loginPageCode.getUserFromSession}" update="growl confirmDialog" ></p:ajax>
    </p:button>

    <p:confirmDialog id="confirmDialog" message="Welcome"
                        header="Welcome to our website!" severity="alert" widgetVar="confirmation">
         <h:panelGrid columns="1" cellpadding="10">
                            <h:outputText id="msg" value="Salutation : #{user.salutation}" />
                            <h:outputText id="msg1" value="Name and surname: #{user.name} #{user.surname}" />
                            <h:outputText id="msg2" value="Birthday : #{user.birthDate}" />
                            <h:outputText id="msg3" value="Email : #{user.email}" />
                            <h:outputText id="msg4" value="Postal code : #{user.postalCode}" />
                            <h:outputText id="msg5" value="Phone nr : #{user.phoneNumber}" />
         </h:panelGrid>
         <p:commandButton id="confirmation" value="Ok" onclick="confirmation.hide()" type="button" />
    </p:confirmDialog>

    <p:growl id="growl" life="3000" showDetail="true" />

</h:form> 
```

我正在尝试通过自定义从我的网页连接到*facebook*`servlet` ，该自定义处理有关验证、解析响应等的所有内容。`href`上面的表单包含指向 facebook 身份验证的 url，最终将所有内容重定向到当前页面，其中是`index.xhtml`。

我想要做的是在一切完成后调用一个方法，比如`onComplete`来自组件的属性`<p:commandButton>`，因为我想显示一个带有更新的托管 bean 的对话框`<p:confirmDialog>`，并欢迎。所以我需要首先转到第一个**URL**，等到身份验证完成，然后调用这个方法`#{loginPageCode.getUserFromSession}`，通过从 facebook http 响应解析 JSON，动态更新托管 bean，然后打开包含更新值的对话框。

我也尝试过使用`<p:commandButton>`with`type="button"`来使用`action`//能力`actionListener`，`update`但不成功。你能给些建议么？谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T13:18:10.050

基本上，您需要在后面进行大部分处理。试试这个

1.  定义一个`preRenderView`事件，您将在其中完成大部分 facebook 登录的后处理。此事件将在**index.xhtml**中定义。你的代码看起来像这样

    ```
    <f:metadata>
      <f:event type="preRenderView" listener="#{loginPageCode.postFBProcessing}" />
    </f:metadata> 
    ```

    在`postFBProcessing`中，您将执行从 FB 返回后需要执行的任何处理（处理 JSON 响应、从会话中获取用户等）。

2.  `dialogVisible`在您的支持 bean 中定义一个布尔值并将`<p:dialog/>`'`visible`属性绑定到变量或用于`RequestContext`更新对话框。

    ```
    <p:confirmDialog id="confirmDialog" message="Welcome" visible="#{loginPageCode.isDialogVisible}" header="Welcome to our website!" severity="alert" widgetVar="confirmation"> 
    ```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-23T13:05:23.883

您过度思考/误解了 HTTP 和 ajax 的一般工作方式。在同步 GET 请求上不可能有一个 ajax oncomplete 钩子。

`index.xhtml`只需根据您在`index.xhtml`回调 URL中指定的某些特定请求参数，在与 FB 身份验证最终重定向到的相关联的请求/视图范围的（后）构造函数中完成这项工作。

# asp.net - 如何让平板电脑点击文本框以打开带有数字而非字母的键盘？

> ID：14975922
> 
> 赞同：0
> 
> 时间：2013-02-20T09:06:30.310
> 
> 标签：asp.net

当我点击密码文本框时，我想看到数字而不是字母，然后切换到数字键盘。有人知道怎么做吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T12:45:32.337

我找到了这个解决方案

```
type="number" 
```

将此添加到您的输入中，这将弹出数字

# sql - 获取当月的 2 位数

> ID：14975925
> 
> 赞同：72
> 
> 时间：2013-02-20T09:06:34.830
> 
> 标签：sql, sql-server, sql-server-2008, tsql

我有一个整数列“月份”，我想获得 2 位数的月份。

这是我尝试过的： DATEPART(mm, @Date)

它在 1 月到 9 月返回一位数 我使用的是 SQL Server 2008

有人有建议吗？

* * *

## 回答 #1

> 赞同：100
> 
> 时间：2014-07-11T10:36:43.700

功能

```
FORMAT(date,'MM') 
```

将以两位数完成这项工作。

* * *

## 回答 #2

> 赞同：86
> 
> 时间：2013-02-20T09:28:33.047

有不同的方法

*   使用**RTRIM**并指定**范围**：

像

```
SELECT RIGHT('0' + RTRIM(MONTH('12-31-2012')), 2); 
```

*   将日期转换为文本后，使用**Substring**仅提取**月份部分**

像

```
SELECT SUBSTRING(CONVERT(nvarchar(6),getdate(), 112),5,2) 
```

见[小提琴](http://sqlfiddle.com/#!3/d41d8/9158)

可能还有其他方法可以得到这个。

* * *

## 回答 #3

> 赞同：17
> 
> 时间：2013-02-20T09:12:19.480

Pinal Dave 有一篇很好的文章，其中包含一些关于如何[将尾随 0 添加到 SQL 数字](http://blog.sqlauthority.com/2009/03/10/sql-server-pad-ride-side-of-number-with-0-fixed-width-number-display/)的示例。

一种方法是使用该`RIGHT`函数，这将使语句类似于以下内容：

```
SELECT RIGHT('00' + CAST(DATEPART(mm, @date) AS varchar(2)), 2) 
```

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2015-12-15T13:42:29.093

另一个简单的技巧：

```
SELECT CONVERT(char(2), cast('2015-01-01' as datetime), 101) -- month with 2 digits
SELECT CONVERT(char(6), cast('2015-01-01' as datetime), 112) -- year (yyyy) and month (mm) 
```

输出：

```
01
201501 
```

* * *

## 回答 #5

> 赞同：4
> 
> 时间：2017-07-13T10:21:10.827

转换（字符（2），getdate（），101）

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2013-02-20T09:10:02.147

通过首先将其强制转换为 varchar 检查值是否介于 1 和 9 之间，在其前面附加 0

```
select case when DATEPART(month, getdate()) between 1 and 9 
then '0' else '' end + cast(DATEPART(month, getdate()) as varchar(2)) 
```

* * *

## 回答 #7

> 赞同：3
> 
> 时间：2013-02-20T09:10:50.270

替代`DATEPART`

```
SELECT LEFT(CONVERT(CHAR(20), GETDATE(), 101), 2) 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!3/d41d8/9139)

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2016-02-08T19:46:50.033

对我来说，最快的解决方案是

```
DATE_FORMAT(CURDATE(),'%m') 
```

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2017-01-18T17:40:47.333

简单地可以使用：

```
SELECT RIGHT('0' + CAST(MONTH(@Date) AS NVARCHAR(2)), 2) 
```

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2013-02-20T09:12:54.110

尝试：

```
select right ('0'+convert(nvarchar(2), DATEPART(mm, getdate())),2 ) 
```

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2017-03-17T12:01:57.827

我的做法是：

```
right('0'+right(datepart(month,[StartDate]),2),2) 
```

内部“正确”函数的原因是为了防止 SQL 将其作为数学添加来执行 - 这将使我们再次留下一位数字。

* * *

## 回答 #12

> 赞同：0
> 
> 时间：2020-05-22T17:00:45.783

```
SELECT REPLACE(CONVERT(varchar, MONTH(GetDate()) * 0.01), '0.', '') 
```

# c - C中动态大稀疏矩阵的数据结构

> ID：14975931
> 
> 赞同：3
> 
> 时间：2013-02-20T09:06:45.127
> 
> 标签：c, data-structures, sparse-matrix

在 C 中用于稀疏动态矩阵的最合适的数据结构是什么。我知道耶鲁格式，但它适用于静态矩阵。我需要能够在其中添加行列和值。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T09:10:31.047

一般来说，一个链表数组。如果大多数操作是基于行的，则每个列表代表一行，否则，每个列表代表一列。你可以[在这里获得更多信息](http://www.cs.cmu.edu/~ab/15-123S09/lectures/Lecture%2011%20%20-%20%20Array%20of%20Linked%20Lists.pdf)

```
 typedef struct matrix { 
    node**  rowList;     // rowList is a pointer to the array of rows 
    node** columnList; // column list is a pointer to the array of columns. 
    int  rows, columns;  // store the number of rows and columns of the matrix 
 } matrix

 typedef struct node { 
    int row, column, 
    double value; 
    struct node*  rowPtr; 
    struct node*  colPtr; 
 } node; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:10:21.157

一个哈希表。

示例：键可以是 `row<<16|col`.

# c# - 如何以编程方式向 C# Excel vsto 中的单元格添加彩色边框？

> ID：14975932
> 
> 赞同：1
> 
> 时间：2013-02-20T09:06:48.500
> 
> 标签：c#, excel, vsto

如何在 C# Excel VSTO 中为单元格添加彩色边框？

我通过以下链接找到了 API，并且有一些关于添加边框的描述，但不是很具体。奇怪的是VS2010不识别`BorderAround()`方法。它似乎只承认`BorderAround2()`，但抱怨我提出的论点。

下面是我尝试过的代码，但 VS 抱怨参数无效。

```
range.BorderAround2(Excel.XlLineStyle.xlDash, Type.Missing, Type.Missing, System.Drawing.Color.Red, Type.Missing); 
```

[http://msdn.microsoft.com/en-us/library/microsoft.office.interop.excel.range.borderaround(v=office.14).aspx](http://msdn.microsoft.com/en-us/library/microsoft.office.interop.excel.range.borderaround(v=office.14).aspx)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T04:56:09.753

我自己的方法类似于 idssl 建议的方法，但使用了[ColorTranslator.ToOle](http://msdn.microsoft.com/en-us/library/system.drawing.colortranslator.toole.aspx)方法。

```
range.Borders.LineStyle = Excel.XlLineStyle.xlDot;
range.Borders.Color = ColorTranslator.ToOle(Color.Red); 
```

这也适用于我。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-18T00:25:34.860

使用对象的`Borders.Color`和`Bordes.LineStyle`属性`Range`。

这是来自 VSTO 应用程序级插件的片段。

```
using Excel = Microsoft.Office.Interop.Excel;

Excel.Range pRange = Globals.ThisAddIn.Application.ActiveCell;

pRange.Borders.Color = 0x0000FF; // an RGB value in hex
pRange.Borders.LineStyle = Excel.XlLineStyle.xlContinuous; 
```

请注意，该`Borders.Color`属性使用提供的 RGB 值的倒数作为颜色。

或者，您可以使用该`ColorIndex`属性，但颜色范围是有限的。有关更多详细信息，请参阅[此](http://msdn.microsoft.com/en-us/library/office/cc296089%28v=office.12%29.aspx)内容。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-20T09:45:09.217

你应该在这里看到

[http://www.aspose.com/docs/display/cellsnet/Add+Borders+to+Cells+in+a+Worksheet](http://www.aspose.com/docs/display/cellsnet/Add+Borders+to+Cells+in+a+Worksheet)

和

```
//Set the borders with hair lines style.
_range.SetOutlineBorders( CellBorderType.Hair, Color.Black); 
```

# php - 防止更新数据库行中的多个列

> ID：14975936
> 
> 赞同：-3
> 
> 时间：2013-02-20T09:06:50.340
> 
> 标签：php, mysql, database, phpmyadmin

我想防止通过触发器更新数据库行 mysql 中的两列，例如我的表是`mymy`并且它们两列是`column1`and`column2`并且行 id 是`11`。如何在 mysql 触发器中运行它？

![在此处输入图像描述](../Images/f4b9584672371fa597c9a39c766f5060.png)

我试了一下：

```
CREATE TRIGGER 'no_update' BEFORE INSERT ON 'mymy' 
FOR EACH ROW BEFORE UPDATE , then check if NEW.column1 != OLD.column1 OR NEW.column2 != OLD.column2 
```

我有错误：

> #1064 - 您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在 'BEFORE UPDATE 附近使用正确的语法，然后检查 NEW.id_relation ！= OLD.id_relation OR NEW.active ！' 在第 1 行

如何解决？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-02-20T10:55:36.650

如果您真的不想更新 column1 和 column2 的值，那么您可以使用触发器将新值设置为旧值，从而永远不要更新它们 - 我相信这就是您正在寻找的。

```
CREATE TRIGGER test_trigger BEFORE UPDATE ON mymy
FOR EACH ROW BEGIN
  SET NEW.column1 = OLD.column1, NEW.column2 = OLD.column2
END 
```

# javascript - 不能使用闭包权

> ID：14975940
> 
> 赞同：1
> 
> 时间：2013-02-20T09:07:02.623
> 
> 标签：javascript, jquery

我编写了 JS 函数，它必须根据数组中的值绑定它生成的按钮。但它给了我最后的价值。我读到我必须使用闭包，我做到了，但我仍然无法正确绑定它们！我仍然是一个初学者，我读过关于闭包的文章，我明白了，但仍然不知道我错过了什么

```
function addNewServices(newServicesArray){
    var j=0; var x;
    for (i in newServicesArray){
        var html='';

        html='<div style="width: 33%; float: leftt"><a href="#" data-role="button" data-icon="home" id="btn-'+newServicesArray[j].servicename+'" value="'+newServicesArray[j].servicename+'" class="ui-btn-up-c">'+newServicesArray[j].servicename+'</a></div>';
        $("#main-menu").append(html);

        $('#btn-'+newServicesArray[j].servicename).bind('click', function (){bindThis(j)});
        j++;
    }

    var bindThis = function( j ) {
        return function() {
            alert(j); // gives 2 always
            alert( newServicesArray[j].servicename ); 
        };
    };
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T09:13:55.347

因为你有

```
function (){bindThis(j)} 
```

当 j 的值为 2 时，稍后会调用它。

你只需要

```
bindThis(j) 
```

用不同的值调用

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T09:16:30.423

您不必在循环中绑定单击...您可以通过`$(this)`在函数中获得单击的引用..

让它尽可能简单..

```
function addNewServices(newServicesArray){
   var j=0; 
   for (i in newServicesArray){
      var html='';

      html='<div style="width: 33%; float: left"><a href="#" data-role="button" data-icon="home" id="btn-'+newServicesArray[j].servicename+'" value="'+newServicesArray[j].servicename+'" class="ui-btn-up-c">'+newServicesArray[j].servicename+'</a></div>';

      $("#main-menu").append(html);

   }
}

$(function(){
  $(document).on('click','a[id^="btn-"]',function (){
      var $this = $(this);
      alert($this.attr('value')); 
  });
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-02-20T09:20:47.430

闭包只是函数从外部范围访问变量的方式。这里的关键词是*变量*——变量可能会改变，如果你之后访问它（点击），你将访问它的更高版本。

所以无论如何你需要存储`j`与`j`按钮的关联。感谢 jQuery，`bind`方法已经为此提供了便利：它的[第二个参数](http://api.jquery.com/bind/),`eventData`是一些将传递给事件处理函数的用户数据。

所以，改变这个：

```
(..).bind('click',function (){bindThis(j)}); 
```

对此：

```
(..).bind('click', j, bindThis); 
```

...应该管用。请注意，我们不需要创建任何包装函数。我们只需将`bindThis`函数本身传递给`bind`，并告诉它在调用时`bind`将传递`j`给它。

(*) — 尚未测试

# tinymce - 使用 tinymce 编辑器保存的渲染描述

> ID：14975942
> 
> 赞同：0
> 
> 时间：2013-02-20T09:07:03.227
> 
> 标签：tinymce, cakephp-2.0, strip-tags

我的分页有问题。在我的网站中，我有一个函数 productList ，它生成一个分页的产品列表。

分页功能的代码如下所示：

```
$this->paginate = array('conditions'=>array($otherconditions,$statuscondition,$active_condition,$catcondition),'order' => $order, 'limit' => 10); 
```

在视图文件中，分页器助手的使用如下：

```
<div class="paginator">
        <span class="info">
    <?php echo $this->Paginator->counter(array('format' => __('Page <strong>{:page}</strong> of <strong>{:pages}</strong>')), array('escape'=>false));
?>  
</span>
 <ul>
<?php echo $this->Paginator->numbers(array('separator' => '', 'tag'=>'li'));?>
  </ul>
   </div> 
```

假设有 150 个产品，因此限制为 10 个，则将有 15 个页面。问题是页码没有显示在第 15 页这样的最后页面中，即当我单击第 15 页时，会显示产品，但不会显示分页器计数器和分页器编号链接。

我在网上到处寻找解决方案，但找不到。请指导我。PS：分页变量取决于我的参数，如所选类别和其他条件。我不认为分页语法有问题，因为分页适用于像 2 或 3 这样的少量页面。我认为问题出在分页器助手上。

提前致谢。

我在检查 HTML 时发现了以下行。在以下评论中自动评论的页码和计数器。

```
 <!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:View>Normal</w:View>
  <w:Zoom>0</w:Zoom>
  <w:TrackMoves/>
  <w:TrackFormatting/>
  <w:PunctuationKerning/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:DoNotPromoteQF/>
  <w:LidThemeOther>EN-US</w:LidThemeOther>
  <w:LidThemeAsian>X-NONE</w:LidThemeAsian>
  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   < ...</p></div> 
```

然后在这之后我有页面计数器的html，页码链接和脚本文件。怎么了。我寻找它的含义，我发现mso 9 是microsoft office 9 什么的。这不是很合理。请指导我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-21T04:28:31.250

我通过在结束 p 标签和 div 标签之前添加评论来解决这个问题。所以评论标签`<!--[if gte mso 9] >`在之前关闭`</p></div>`。我还使用了 php 函数`strip_tags`来剥离所有标签的正文。这是一种胶带方法。但我发现的问题在于 mce 编辑器。当用户将 word 文档中的段落复制粘贴到在 firefox 浏览器中运行的 mce 编辑器时，上述条件注释会添加到文本中。因此，当显示用户文本时，条件注释会在文本之后注释掉 html 的其余部分。最好使用 mce 编辑器回调来删除我现在要处理的条件注释。

希望这可以帮助某人...

# windows-phone-8 - 如何将多个视频文件合并为一个带有效果的文件？

> ID：14975943
> 
> 赞同：1
> 
> 时间：2013-02-20T09:07:04.070
> 
> 标签：windows-phone-8, azure-storage, azure-media-services

我正在使用`Windows Azure Media Services`上传视频，我想知道是否有一种方法可以**将多个视频文件合并为一个文件**。

如果不可能，最好的视频合并效果 API，我已经发送了访问**Animmoto** API 的请求，但仍然没有响应。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-21T08:17:30.283

WAMS 不提供该特性/功能。

您可以在上传之前使用许多工具进行此类操作，这被认为是视频编辑。Wams 提供一系列平台服务：安全上传、编码、加密、流式传输、自适应流式传输、动态转换、安全出口，以及更多功能。

但视频编辑不在路线图上。

# c# - 设置绑定到模板子

> ID：14975947
> 
> 赞同：0
> 
> 时间：2013-02-20T09:07:24.860
> 
> 标签：c#, wpf, templates, binding, frameworkelementfactory

我源自`System.Windows.Controls.ScrollViewer`并更改了模板；我的想法是创建一个`ScrollViewer`在 Visual Studio 2010 中看到的，它有一个小的 ComboBox 来设置文本的缩放。

" `ZoomPercentageValueComboBox`" 有以下内容`DependencyProperty`：

```
public double ZoomValue
{
    get { return (double)GetValue(ZoomValueProperty); }
    set { SetValue(ZoomValueProperty, value); }
}

public static readonly DependencyProperty ZoomValueProperty =
    DependencyProperty.Register("ZoomValue", typeof(double),
    typeof(ZoomPercentageComboBox), new FrameworkPropertyMetadata(1D, FrameworkPropertyMetadataOptions.Journal,
        new PropertyChangedCallback(ZoomValue_PropertyChanged)));

private static void ZoomValue_PropertyChanged(DependencyObject dpo, DependencyPropertyChangedEventArgs dpcea)
{
    ((ZoomPercentageComboBox)dpo).Text = (((double)dpcea.NewValue) * 100).ToString() + " %";
} 
```

新`ScrollViewer`的有以下方法：

```
private static ControlTemplate CreateDefaultControlTemplate()
{
    #region DEFAULT
    ControlTemplate template = null;
    FrameworkElementFactory factory = new FrameworkElementFactory(typeof(Grid), "Grid");
    FrameworkElementFactory child = new FrameworkElementFactory(typeof(ColumnDefinition), "ColumnDefinitionOne");
    FrameworkElementFactory factory3 = new FrameworkElementFactory(typeof(ColumnDefinition), "ColumnDefinitionTwo");
    FrameworkElementFactory factory4 = new FrameworkElementFactory(typeof(RowDefinition), "RowDefinitionOne");
    FrameworkElementFactory factory5 = new FrameworkElementFactory(typeof(RowDefinition), "RowDefinitionTwo");
    FrameworkElementFactory factory6 = new FrameworkElementFactory(typeof(ScrollBar), "PART_VerticalScrollBar");
    FrameworkElementFactory factory7 = new FrameworkElementFactory(typeof(ScrollBar), "PART_HorizontalScrollBar");
    FrameworkElementFactory factory8 = new FrameworkElementFactory(typeof(ScrollContentPresenter), "PART_ScrollContentPresenter");
    FrameworkElementFactory factory9 = new FrameworkElementFactory(typeof(Rectangle), "Corner");
    Binding binding = new Binding("HorizontalOffset")
    {
        Mode = BindingMode.OneWay,
        RelativeSource = RelativeSource.TemplatedParent
    };
    Binding binding2 = new Binding("VerticalOffset")
    {
        Mode = BindingMode.OneWay,
            RelativeSource = RelativeSource.TemplatedParent
    };
    factory.SetValue(Panel.BackgroundProperty, new TemplateBindingExtension(Control.BackgroundProperty));
    factory.AppendChild(child);
    factory.AppendChild(factory3);
    factory.AppendChild(factory4);
    factory.AppendChild(factory5);
    factory.AppendChild(factory9);
    factory.AppendChild(factory8);
    factory.AppendChild(factory6);
    factory.AppendChild(factory7);
    child.SetValue(ColumnDefinition.WidthProperty, new GridLength(1.0, GridUnitType.Star));
    factory3.SetValue(ColumnDefinition.WidthProperty, new GridLength(1.0, GridUnitType.Auto));
    factory4.SetValue(RowDefinition.HeightProperty, new GridLength(1.0, GridUnitType.Star));
    factory5.SetValue(RowDefinition.HeightProperty, new GridLength(1.0, GridUnitType.Auto));
    factory8.SetValue(Grid.ColumnProperty, 0);
    factory8.SetValue(Grid.RowProperty, 0);
    factory8.SetValue(FrameworkElement.MarginProperty, new TemplateBindingExtension(Control.PaddingProperty));
    factory8.SetValue(ContentControl.ContentProperty, new TemplateBindingExtension(ContentControl.ContentProperty));
    factory8.SetValue(ContentControl.ContentTemplateProperty, new TemplateBindingExtension(ContentControl.ContentTemplateProperty));
    factory8.SetValue(CanContentScrollProperty, new TemplateBindingExtension(CanContentScrollProperty));
    factory7.SetValue(ScrollBar.OrientationProperty, Orientation.Horizontal);
    factory7.SetValue(Grid.ColumnProperty, 0);
    factory7.SetValue(Grid.RowProperty, 1);
    factory7.SetValue(RangeBase.MinimumProperty, 0.0);
    factory7.SetValue(RangeBase.MaximumProperty, new TemplateBindingExtension(ScrollableWidthProperty));
    factory7.SetValue(ScrollBar.ViewportSizeProperty, new TemplateBindingExtension(ViewportWidthProperty));
    factory7.SetBinding(RangeBase.ValueProperty, binding);
    factory7.SetValue(UIElement.VisibilityProperty, new Te emplateBindingExtension(ComputedHorizontalScrollBarVisibilityProperty));
    factory7.SetValue(FrameworkElement.CursorProperty, Cursors.Arrow);
    factory7.SetValue(AutomationProperties.AutomationIdProperty, "HorizontalScrollBar");
    factory6.SetValue(Grid.ColumnProperty, 1);
    factory6.SetValue(Grid.RowProperty, 0);
    factory6.SetValue(RangeBase.MinimumProperty, 0.0);
    factory6.SetValue(RangeBase.MaximumProperty, new TemplateBindingExtension(ScrollableHeightProperty));
    factory6.SetValue(ScrollBar.ViewportSizeProperty, new TemplateBindingExtension(ViewportHeightProperty));
    factory6.SetBinding(RangeBase.ValueProperty, binding2);
    factory6.SetValue(UIElement.VisibilityProperty, new TemplateBindingExtension(ComputedVerticalScrollBarVisibilityProperty));
    factory6.SetValue(FrameworkElement.CursorProperty, Cursors.Arrow);
    factory6.SetValue(AutomationProperties.AutomationIdProperty, "VerticalScrollBar");
    factory9.SetValue(Grid.ColumnProperty, 1);
    factory9.SetValue(Grid.RowProperty, 1);
    factory9.SetResourceReference(Shape.FillProperty, SystemColors.ControlBrushKey);

    #endregion

    /* *** */
    factory7.SetValue(MarginProperty, new Thickness(ZoomBoxWidth, 0, 0, 0));
    /* *** */
    FrameworkElementFactory factory10 = new FrameworkElementFactory(typeof(ZoomPercentageComboBox), ZoomBoxTemplateName);
    factory.AppendChild(factory10);
    factory10.SetValue(Grid.ColumnProperty, 0);
    factory10.SetValue(Grid.RowProperty, 1);
    factory10.SetValue(ZoomPercentageComboBox.HorizontalAlignmentProperty, 
        HorizontalAlignment.Left);
    factory10.SetValue(ZoomPercentageComboBox.HeightProperty, 17D);
    factory10.SetValue(ZoomPercentageComboBox.WidthProperty, ZoomBoxWidth);
    factory10.SetValue(ZoomPercentageComboBox.IsEditableProperty, true);
    factory10.SetValue(ZoomPercentageComboBox.VerticalContentAlignmentProperty, VerticalAlignment.Top);
    factory10.SetValue(ZoomPercentageComboBox.HorizontalContentAlignmentProperty, HorizontalAlignment.Left);
    factory10.SetValue(ZoomPercentageComboBox.FontSizeProperty, 10D);
    factory10.SetValue(ZoomPercentageComboBox.FontFamilyProperty, new FontFamily("Arial"));
    factory10.SetValue(ZoomPercentageComboBox.BorderBrushProperty, null);
    factory10.SetValue(ZoomPercentageComboBox.BorderThicknessProperty, new Thickness(0));

    /* **************************************************************
???
    */

    template = new ControlTemplate(typeof(LSArbeitscanvasScrollViewer))
    {
        VisualTree = factory
    };
    template.Seal();

    return template;
} 
```

这实际上取自原始`ScrollViewer`. 现在我想说明，如果`ZoomValueProperty`ComboBox 中的`DependencyProperty`" `ZoomPercentageValueProperty`" 发生变化，作为 类成员的" "`ScrollViewer`也会发生变化。我有这样的想法：

```
Binding binding = new Binding("HorizontalOffset")
    {
        Mode = BindingMode.OneWay,
        RelativeSource = RelativeSource.TemplatedParent
    }; 
```

但这并没有真正起作用

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-28T17:54:33.640

我终于通过在 ComboBox 的类中使用 RoutedEvent 并检查事件的 Source 是否是模板化的 ComboBox 来解决这个问题：

```
private void ZoomPercentageComboBox_ZoomValueChanged(object sender, ZoomValueChangedEventArgs e)
{
    if (e.Source == templatedZoomPercentageComboBox)
        ZoomPercentageComboBoxZoomPercentageValue = ((double)e.NewValue);
}

private const string ZoomBoxTemplateName = "PART_ZoomBox";

private ZoomPercentageComboBox templatedZoomPercentageComboBox
{
    get
    {
        return this.GetTemplateChild(ZoomBoxTemplateName) as ZoomPercentageComboBox;
    }
} 
```

# java - 导入项目后如何将项目复制到eclipse的工作区？

> ID：14975952
> 
> 赞同：7
> 
> 时间：2013-02-20T09:07:46.283
> 
> 标签：java, eclipse, maven

我将一个项目导入到 Eclipse 中，但顺便说一下，我忘记选中复选框“将项目复制到工作区”选项。现在在病房之后（导入完成）有什么方法可以将项目复制到工作区中。

此外，在将 Maven 项目导入 Eclipse 时，我应该选择哪个选项才能将项目复制到工作区中？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-02-20T09:09:40.840

删除项目（只是从工作区，它会提示您删除复选框）并重新导入它

# html - 将 div 设为视口的高度

> ID：14975958
> 
> 赞同：16
> 
> 时间：2013-02-20T09:08:06.987
> 
> 标签：html, css, height, viewport

我正在设计一个网站，我希望顶部像这个 [网站](https://yourkarma.com/)一样是视口的高度。

我该怎么做这样的事情？

无论我使用什么显示器，底部总是位于屏幕底部？

谢谢

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2015-06-29T10:11:20.840

我知道这是一个老问题，但您也可以使用 vh（视口高度）单位。所有现代~~桌面~~浏览器都支持它，~~在移动设备上它可能会产生一些问题，因此请使用媒体查询解决它~~。

```
div {height:100vh;} 
```

表示视口高度的 100%。

[这](http://dev.w3.org/csswg/css-values-3/#lengths)是一个指定相对长度单位的 W3C 草案，在您使用其中任何一个之前，请检查 Internet Explorer 支持，因为它不支持每个单位。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-02-20T09:13:11.443

您可以通过设置将分隔线设置为与窗口相同的高度：

```
html, body { height:100%; margin:0; padding:0; }
div { height:100%; } 
```

这个问题在这里被问了很多，最好先搜索一下。:-)

# javascript - 验证发生时选择控件的文本

> ID：14975963
> 
> 赞同：0
> 
> 时间：2013-02-20T09:08:30.990
> 
> 标签：javascript, asp.net, asp.net-mvc, dom-events

我想在验证发生时突出显示控件中的文本。

我怎样才能做到这一点？

```
<script language="javascript" type="text/javascript">
function changeColor(source, args) {
    var txt = document.getElementById('<%= txtAge.ClientID %>');
    if (args.Value.length >= 3) {
        txt.style.background = '#66CCFF';
        args.IsValid = false;
    }
    else {
        txt.style.background = 'none';
        args.IsValid = true;
    }
}

</script>

<asp:TextBox ID="txtAge" runat="server" ></asp:TextBox>
<asp:RequiredFieldValidator ID="rfldtxtAge" ErrorMessage="enter the value" ControlToValidate="txtAge"  runat="server" Display="Dynamic" SetFocusOnError="true" ForeColor="Red"></asp:RequiredFieldValidator>

<asp:CustomValidator ID="ctmtxtAge" runat="server" ClientValidationFunction="changeColor" ControlToValidate="txtAge" ErrorMessage="CustomValidator1" ></asp:CustomValidator> 
```

我使用此代码突出显示控件的背景，但我需要突出显示控件的文本。

请帮我。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:12:40.197

```
 txt.style.color= '#66CCFF' instead of  txt.style.background = '#66CCFF'; 
```

用这个东西来改变文字的颜色

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T09:37:49.940

请用

```
 txt.select(); 
```

代替

```
txt.style.background = '#66CCFF'; 
```

如果这不起作用，请告诉我。

# .htaccess - 使用 .htaccess 为自定义 CMS 制作 Pretty Url

> ID：14975964
> 
> 赞同：1
> 
> 时间：2013-02-20T09:08:46.397
> 
> 标签：.htaccess, url, mod-rewrite

我正在为我的社交网站制作自己的 CMS。我遇到了一个问题，我需要清理 url 以使它像 facebook 一样。

使用 HTACCESS 重写 URL

```
Urgly URL => www.domain.com/index.php?options=profile&id=393
Clean URL => www.domain.com/393 
```

目前正在使用下面的代码从 url 中删除 inde.php?options

```
RewriteCond %{REQUEST_FILENAME} !index.php
RewriteRule .* index.php?options=$0 [QSA,L] 
```

我已经搜索了谷歌并且厌倦了一切，但它对我不起作用。有什么奇怪的...

请帮助我卡得很厉害..！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T10:58:53.817

我想您的规则+条件将匹配每个请求，包括图像、脚本、样式表等，并将其重定向到 index.php。我怀疑这就是你想要的。

你可以反过来做。如果人们访问您的 index.php 或顶级域名（例如 www.domain.com），则什么也不做。

```
RewriteRule ^index\.php$ - [L] 
```

然后您可以将所有适用的请求（不存在的路径）重写为 index.php。

```
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule .* /index.php?options=$0 [L,QSA] 
```

将这些规则+条件添加到您的 .htaccess 中，看看它是否符合您的要求。

# java - 带星号的垂直排列

> ID：14975968
> 
> 赞同：-4
> 
> 时间：2013-02-20T09:08:57.623
> 
> 标签：java

这个怎么做。使用java垂直排列星号..请帮助我。基于数组上的值。前任。{3,4,2,5} 示例中如何显示输出。

[样本输出](http://i.stack.imgur.com/I9BgE.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-20T10:44:29.293

对于每一行，您打印一个新行。

因此，第一行在值大于 4 的列中获得星号。下一行为值大于 3 的列获得星号

等等。当然，没有得到星号的列必须在一行中必须得到一个空白。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-02-20T10:58:17.503

```
int[] a = new int[] {3,4,2,5};
int[] tmp = a.clone();

Arrays.sort(tmp);
int max = tmp[tmp.length-1];

for (int i = 0; i < max+1; i++) {
    for (int j = 0; j < a.length; j++) {        
        if (i == max) {
            System.out.print(a[j]);
        } else {        
            if (i < max - a[j])
                System.out.print(" ");
            else
                System.out.print("*");
        }
    }
    System.out.println();
} 
```

# c# - 如何在 C# 中生成带有文本和图像的图像

> ID：14975980
> 
> 赞同：0
> 
> 时间：2013-02-20T09:09:29.830
> 
> 标签：c#, wpf, image, image-processing

我在这些段落之间有几段文字和几张图片。

现在，我想使用这些材料生成一张图片，将它们垂直合并。但是文本和图片的所有块的宽度不能大于生成图片的宽度，这意味着我必须缩小原始图片，并将每段文字填充成一个矩形以适应宽度。

这是困难的事情：要确定包含文本的矩形的大小，我需要使用`Graphics.MeasureString()`方法，该方法需要一个用于生成图片的 Graphics 实例（现在，我使用的是空白模板图片）。但是直到我弄清楚矩形和图片的所有大小之前，我才知道这个 Graphics 的确切大小。

有什么方法可以在没有源图像的情况下获取 Graphics 的实例？

或者还有其他方法可以完成这项工作吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:12:29.477

希望这可以帮助伙计。

[http://chiragrdarji.wordpress.com/2008/05/09/generate-image-from-text-using-c-or-convert-text-in-to-image-using-c/](http://chiragrdarji.wordpress.com/2008/05/09/generate-image-from-text-using-c-or-convert-text-in-to-image-using-c/)

[https://web.archive.org/web/20131231000000/http://tech.pro/tutorial/654/csharp-snippet-tutorial-how-to-draw-text-on-an-image](https://web.archive.org/web/20131231000000/http://tech.pro/tutorial/654/csharp-snippet-tutorial-how-to-draw-text-on-an-image)

[http://www.codeproject.com/Questions/388845/HOW-TO-MAKE-HIGH-QAULITY-IMAGE-WITH-TEXT-IN-Csharp](http://www.codeproject.com/Questions/388845/HOW-TO-MAKE-HIGH-QAULITY-IMAGE-WITH-TEXT-IN-Csharp)

谢谢你

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-01-31T09:42:32.223

对于人们如何对 WPF 解决方案感兴趣（如询问）：

```
 public static BitmapSource CreateImage(string text, double width, double heigth)
    {
        // create WPF control
        var size = new Size(width, heigth);

        var stackPanel = new StackPanel();

        var header = new TextBlock();
        header.Text = "Header";
        header.FontWeight = FontWeights.Bold;

        var content = new TextBlock();
        content.TextWrapping = TextWrapping.Wrap;
        content.Text = text;

        stackPanel.Children.Add(header);
        stackPanel.Children.Add(content);

        // process layouting
        stackPanel.Measure(size);
        stackPanel.Arrange(new Rect(size));

        // Render control to an image
        RenderTargetBitmap rtb = new RenderTargetBitmap((int)stackPanel.ActualWidth, (int)stackPanel.ActualHeight, 96, 96, PixelFormats.Pbgra32);
        rtb.Render(stackPanel);
        return rtb;
    } 
```

# php - 如何将2个依赖值存储到数组中？

> ID：14975982
> 
> 赞同：0
> 
> 时间：2013-02-20T09:09:40.040
> 
> 标签：php

我想在这个数组中存储 2 个依赖值：

> ["STEP5"]=> 数组(1) { ["OPTIONS"]=> 数组(2) { [0]=> 字符串(4) "opt2" [1]=> 字符串(4) "opt3" } }

选项字段（**opt1**，**opt2**，...）可以有一个额外的字段**input**。那么如何将其存储在我的数组中？非常感谢。

 ***** * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-20T09:16:09.173

您将数组的每个元素都`OPTIONS`变成一个数组本身。这将更好地说明为：

```
["STEP5"] => array(1) {
    ["OPTIONS"] => array(2) {
        [0] => array(2) {
            ["TEXT"] => "opt2"
            ["INPUT"] => "input data"
        }
        [1] => array(1) {
            ["TEXT"] => "opt3"
            // No input data here
        }
    }
} 
```

然后您可以访问这些字段：

```
$foo["STEP5"]["OPTIONS"][0]["TEXT"]
$foo["STEP5"]["OPTIONS"][0]["INPUT"]
$foo["STEP5"]["OPTIONS"][1]["TEXT"] 
```

您不必为每个选项都有“INPUT”字段，但如果需要，您可以添加它。此外，您可能会考虑使用对象来完成此任务，因为它们提供了许多有用的功能。****

# android - 在合并中将文本放在顶部并以图像为中心

> ID：14975984
> 
> 赞同：1
> 
> 时间：2013-02-20T09:09:50.180
> 
> 标签：android

我想将文本水平居中放置，并且图像出现在文本下方，上边距为 12 dp。我怎样才能在 merge.xml 文件中实现这一点。这是我的代码。它包含文本和图像图像，但我想这是错误的

```
android:layout_gravity="center_vertical|center_horizontal">

<ImageView

    android:id="@+id/item_image"

    android:layout_width="253dp"

    android:layout_height="240dp"

    android:layout_gravity="center"

    android:scaleType="fitXY"

    android:src="@drawable/one_louisrossi" />

<LinearLayout

    android:layout_width="312dp"

    android:layout_height="295dp"

    android:layout_marginLeft="@dimen/eight" >

    <TextView

        android:id="@+id/title"

        android:layout_width="fill_parent"

        android:layout_height="wrap_content"

        android:layout_marginLeft="@dimen/fourty_eight"

        android:gravity="center_horizontal"

        android:text="xxxxxx"

        android:textColor="@color/yellow_green"

        android:textSize="@dimen/eighteen"

        android:textStyle="bold" />

</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-02-20T09:18:51.580

这是xml文件：

```
 <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:gravity="center_horizontal"
        android:orientation="vertical" >

        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Android"
            android:textColor="#ffffff"
            android:textSize="20dp" />

        <ImageView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginTop="12dp"
            android:src="@drawable/android" />
    </LinearLayout>

</LinearLayout> 
```

![在此处输入图像描述](../Images/b88b2d4564451c1891edb2c82fc0e821.png)

# objective-c - 如何保存视频覆盖 iphone xcode

> ID：14975986
> 
> 赞同：2
> 
> 时间：2013-02-20T09:09:57.890
> 
> 标签：objective-c, xcode, video, mpmovieplayercontroller

我使用以下代码创建了 MPMoviePlayerController 的叠加层，这实际上在我的 iphone xcode 项目中添加了一个字幕：

```
[_mpMoviePlayerController.view addSubview:lblOverlayView]; 
```

我现在希望能够保存带有字幕的视频（最终是 facebook，但我不需要帮助，只需保存就可以了）。它正在播放一个预加载的视频，动态部分是字幕，它是用户输入的任何文本（它成为 lblOverlayView 的值。如果您有任何其他添加文本的方法可以非常超过预先存在/预加载的顶部视频，然后保存/发送电子邮件/facebook，那也很棒！只是某种方式！

我能得到的任何帮助将不胜感激。