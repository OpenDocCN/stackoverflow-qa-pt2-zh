# StackOverflow 问答 13062000-13062999

# android - 无法解开 ICS 上的意图

> ID：13062000
> 
> 赞同：3
> 
> 时间：2012-10-25T05:15:07.797
> 
> 标签：android, serialization, android-intent, marshalling, unmarshalling

我有一个主屏幕实现，我在其中存储“快捷方式”，方法是使用`Parcel`它进行编组并将其存储为 Base32 字符串。

除一种情况外，编组和解组工作非常好：

如果我对 Honeycomb（或更低版本）的意图进行编组并尝试在 ICS（或更高版本）上对其进行解组，则会出现空指针异常。（反之亦然，这意味着在 ICS 上编组而在 HC 上解组也是 falis）

但是编组 - 跨 Froyo、GB 和 HC 的解组工作绝对没问题。ICS 和 JellyBean 也一样。

我正在使用 apache commons library 进行 Base32 转换。（我也尝试过 Base64，但它也不起作用）。从 Base32 编码和解码字符串没有问题。

这是我的代码：

```
public static Intent getIntentFromBase32String(final String s)
{
    try
    {
        final Parcel p = Parcel.obtain();
        final byte[] array = new Base32(true).decode(s);
        p.unmarshall(array, 0, array.length);
        p.setDataPosition(0);
        final Intent intent = (Intent)p.readValue(Intent.class.getClassLoader());
        return intent;
    }
    catch (final Exception e)
    {
        Logger.logError(e);
    }
    return null;
}

public static String getBase32StringFromIntent(final Intent intent)
{
    try
    {
        final Parcel p = Parcel.obtain();
        p.writeValue(intent);
        final byte[] array = p.marshall();
        return new Base32(true).encodeToString(array);
    }
    catch (final Exception e)
    {
        Logger.logError(e);
    }
    return null;
} 
```

这是堆栈跟踪：

```
java.lang.NullPointerException in com.myapp.myhome.loadShortcuts Message: null
    android.content.Intent.readFromParcel(Intent.java:6222)
    android.content.Intent.<init>(Intent.java:6202)
    android.content.Intent.readFromParcel(Intent.java:6229)
    android.content.Intent.<init>(Intent.java:6202)
    android.content.Intent$1.createFromParcel(Intent.java:6193)
    android.content.Intent$1.createFromParcel(Intent.java:6191)
    android.os.Parcel.readParcelable(Parcel.java:1993)
    android.os.Parcel.readValue(Parcel.java:1855)
    com.myapp.common.utils.getIntentFromBase32String(Unknown Source)
    ..... 
```

我猜谷歌在 ICS 中为 Intent 添加了一些额外的属性，因此它的序列化图像与旧版本不兼容。可以有解决方法吗？

# java - xpath 2.0 可以在 java 中使用吗？

> ID：13062001
> 
> 赞同：0
> 
> 时间：2012-10-25T05:15:19.560
> 
> 标签：java, xml, xpath, shared-libraries

我有一个问题需要我使用仅在 xpath2.0 中可用的 max()，是否有任何支持我的库可以加入？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T05:18:37.497

是的，看看 Saxon 的实现。为什么 Apache Xalan 在 XSLT 1 中止步不前是另一个问题。

# java - 如何在android的地图中显示标注？

> ID：13062003
> 
> 赞同：0
> 
> 时间：2012-10-25T05:15:19.907
> 
> 标签：java, android, callout

在我的 android 应用程序中，我创建了一个标注以显示在以白色显示的地图中，我需要更改该黑色。

我已经从这个链接[https://github.com/jgilfelt/android-mapviewballoons获取了代码](https://github.com/jgilfelt/android-mapviewballoons)

我需要像下面的图片链接一样更改标注。 [https://lh4.ggpht.com/GFuCZ_CCzcmUg7CZHNKZd7SaeOfb6oXGZ1hat8EToGeROMtCsdI-FC5-jhtDIsT7Gg](https://lh4.ggpht.com/GFuCZ_CCzcmUg7CZHNKZd7SaeOfb6oXGZ1hat8EToGeROMtCsdI-FC5-jhtDIsT7Gg)

我怎样才能做到这一点？

# java - 使用插入排序完成就地合并排序算法是否可行/可行？

> ID：13062008
> 
> 赞同：0
> 
> 时间：2012-10-25T05:16:41.467
> 
> 标签：java, mergesort, insertion-sort

我编写了一个就地合并排序算法，用于对大量随机大小（100,000 个元素或更多）的数据进行排序。我正在考虑在数据几乎排序时进行插入排序，以使算法运行得更快一点。我想知道这是否可能与就地合并排序？

这是我的一些代码。

```
public static void merge(ArrayList<String> list, int low, int high) {
   if (low < high) {
        int mid = (low + high) / 2;
        merge(list, low, mid);
        merge(list, mid + 1, high);
        mergeSort(list, low, mid, high);
    }

}

public static void mergeSort(ArrayList<String> list, int first, int mid,
        int last) {
    int left = first;
    int right = mid + 1;
    String holder = "";

    // if mid <= mid+1 skip merge
    if (compareTo(list.get(mid), list.get(right)) <= 0) {
        return;
    }

    while (left <= mid && right <= last) {
        // if left index <= right index then just add to left
        if (compareTo(list.get(left), list.get(right)) <= 0) {
            left++;
        } else {
            holder = list.get(right);
            copyList(list, left, right - left);//moves everything from left to right-left                       up one index in the arraylist
            list.set(left, holder);

            left++;
            mid++;
            right++;
        }
    }
    // what is left is in place

}

public static void copyList(ArrayList<String> source, int srcPos, int length) {
    String temp1 = "";
    String temp2 = source.get(srcPos);
    for (int i = 0; i < length; i++) {
        temp1 = source.get(srcPos + 1);
        source.set(srcPos + 1, temp2);
        temp2 = temp1;
        srcPos++;
    }
} 
```

现在，当我第一次将元素放入 arraylist 时，我正在考虑通过计数器的数量来实现插入排序，然后将我的合并方法更改为以下。

```
public static void merge(ArrayList<String> list, int low, int high) {
   if(high-low==dataSize-1){
        int mid = (low + high) / 2;
        merge(list, low, mid);
        merge(list, mid + 1, high);
        insertionSort(list);
   }else if (low < high) {
        int mid = (low + high) / 2;
        merge(list, low, mid);
        merge(list, mid + 1, high);
        mergeSort(list, low, mid, high);
    }

} 
```

但是，这实际上使我的算法具有永恒性。我猜我做错了，算法需要 n^2 来运行，因为数据是完全随机生成的，而且几乎没有排序。

我究竟做错了什么？有什么建议么？我的猜测是因为它就地合并排序它不会工作。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T07:15:02.860

这样的算法很复杂，很容易出错。我实现了一些非常相似的东西：[就地稳定合并排序](http://en.wikipedia.org/wiki/Merge_sort#cite_note-3)。它还对小型子列表使用插入排序。我建议查看[源代码](http://h2database.googlecode.com/svn/trunk/h2/src/tools/org/h2/dev/sort/InPlaceStableMergeSort.java)并将其与您正在做的事情进行比较。您可能还对[就地稳定的快速排序](http://en.wikipedia.org/wiki/Quicksort#cite_ref-14)感兴趣。

除非我弄错了，否则您的实现不稳定（它可能会重新排列相等的元素）。根据用例，这可能是也可能不是问题。

此外，您的实现似乎是 O(n^2) 因为 copyList 方法是 O(n) 并且它被调用 n 次。

关于插入排序：什么是`dataSize`以及为什么使用 equals 比较它？你不想`<`改用吗？如果你这样做，那`else if (low < high)`是多余的（它总是正确的）。

# javascript - 使用 Backbone LayoutManager 的冗余 div

> ID：13062012
> 
> 赞同：1
> 
> 时间：2012-10-25T05:16:50.850
> 
> 标签：javascript, jquery, html, css, backbone.js

我在这里修改了**list.html**示例[https://github.com/tbranyen/backbone.layoutmanager/blob/master/examples/list.html](https://github.com/tbranyen/backbone.layoutmanager/blob/master/examples/list.html)：

[http://jsfiddle.net/qhoc/nQJz6/](http://jsfiddle.net/qhoc/nQJz6/)

如果您查看 Firebug，您会发现 和 之间有一个额外`div`的。`ol``li`

`li`我知道我可以通过移出模板并`tagName: 'li'`在`Items`视图中使用来摆脱它。但这意味着我必须在某些地方更改我的代码。此外，我更喜欢`li`在模板中保留**设计过程的一致性**。

**`div`如何在不修改模板的情况下摆脱这种情况？**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T05:24:24.773

覆盖该`partial`函数并执行以下操作`jQuery#find`：

```
Backbone.LayoutManager.configure({
    partial: function(root, name, el, append) {
        // If no selector is specified, assume the parent should be added to.
        var $root = name ? $(root).find(name) : $(root);

        // Use the append method if append argument is true.
        // Set the element to append to be the first child.
        this[append ? "append" : "html"]($root, $(el).children().first());
    }
}); 
```

可以在全局（以上）或本地实例上覆盖此方法。

您还需要调整`afterRender`以使用新元素：

```
Backbone.LayoutView.extend({
    afterRender: function() {
        this.setElement(this.el.firstChild);
        this.delegateEvents();
    }
}); 
```

更多信息在这里：[http ://tbranyen.github.com/backbone.layoutmanager/#configuration/defaults](http://tbranyen.github.com/backbone.layoutmanager/#configuration/defaults)

# android - 如何同时隐藏状态栏和禁用主页按钮？

> ID：13062016
> 
> 赞同：1
> 
> 时间：2012-10-25T05:17:05.117
> 
> 标签：android

我是这个论坛的新手。在以下链接中，我对@MindWire 有同样的问题。[链接](https://stackoverflow.com/questions/8422204/disable-home-button-and-have-application-full-screen-with-no-title-no-status-ba)

我正在一个项目中开发Android上的屏幕锁定。问题是当我阻止主页按钮时，标题栏将被启用并出现。就像 MindWire 遇到的问题一样。

我不知道如何与他和家里联系，有人可以帮助我解决这个问题。

# amazon-s3 - 我可以为新存储桶自动生成 AWS S3 策略字符串吗？

> ID：13062017
> 
> 赞同：1
> 
> 时间：2012-10-25T05:17:06.063
> 
> 标签：amazon-s3

我想在测试中创建一个 S3 存储桶，使其成为一个网站，并使其中的所有对象可见。AWS 策略生成器将采用存储桶名称，并需要一个对象名称。我可以将它作为`bucket/*`吗？此外，生成的策略 JSON 包含一个 ID。由于我可能不知道存储桶名称，这是否意味着我必须为所有可能的存储桶预先生成策略？还是这个 ID 只是一个唯一的引用，也可以与 JSON 一起生成？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T08:55:32.070

### 对象名称通配符

> 我可以将它作为存储桶/* 吗？

[是 - 虽然在桶策略中指定 Amazon S3 资源中](http://docs.amazonwebservices.com/AmazonS3/latest/dev/UsingResOpsConditions.html)的相关文档令人恼火地只说明*资源名称的格式是桶名/键名，其中桶名是桶的名称，键名是对象的全名，*并没有提及通配符 (*) 选项，通配符[用于 Amazon S3 存储桶策略的示例案例，并在](http://docs.amazonwebservices.com/AmazonS3/latest/dev/AccessPolicyLanguage_UseCases_s3_a.html)[Amazon S3 策略的特殊信息中](http://docs.amazonwebservices.com/AmazonS3/latest/dev/AccessPolicyLanguage_SpecialInfo.html)得到确认：

> Resource 的值必须以存储桶名称或存储桶名称及其下的路径 (bucket/ *) 为前缀。如果只指定了存储桶名称，没有尾部 /*，则该策略适用于存储桶。

### 政策编号

> *   由于我可能不知道存储桶名称，这是否意味着我必须为所有可能的存储桶预先生成策略？还是这个 ID 只是一个唯一的引用，也可以与 JSON 一起生成？

虽然*Id*和*Sid*都是[访问策略语言](http://docs.amazonwebservices.com/AmazonS3/latest/dev/AccessPolicyLanguage.html)中*的可选标识符*，但您确实需要特别在 Amazon S3 策略中指定唯一 ID，请再次参阅[Amazon S3 策略的特殊信息](http://docs.amazonwebservices.com/AmazonS3/latest/dev/AccessPolicyLanguage_SpecialInfo.html)：

> *   每个策略必须具有唯一的策略 ID (Id)
> *   策略中的每个语句都必须具有唯一的语句 ID (sid)

但是，您可以自己生成该唯一 ID 以及 JSON - 像往常一样，建议*使用 UUID 作为值，或者将 UUID 合并为 ID 的一部分以确保唯一性*。

# visual-studio-2010 - .DLL 文件中的串行端口

> ID：13062019
> 
> 赞同：1
> 
> 时间：2012-10-25T05:17:28.963
> 
> 标签：visual-studio-2010, visual-c++, dll, serial-port

我`.dll`在 Visual C++ 中创建了文件。
它包括一个函数，该函数接受两个参数并通过串行端口发送数据。接下来我想将它包含`.dll`在我的应用程序中并调用这些函数。但我无法调用这些函数。请帮助。

这是我的头文件`.dll`

```
 namespace positioncontrol

{  
using namespace std;
using namespace System;
using namespace System::IO::Ports;

  public ref class control

    {   
    static int rotate(char a, String^ b);

    };
} 
```

这是`.cpp`给我的`.dll`

```
 #include "goniometer.h"    

    namespace positioncontrol
    { 

   void control::rotate(char a, String^ b)
    {        SerialPort^ serialPort = gcnew SerialPort(L"COM5",9600,Parity::None,1,StopBits::One);          
             int inp_rotation;
             array<unsigned char>^ inp_c = gcnew array<unsigned char>(2);   
             String^ inp_string;                                             
             inp_c[0] = a;
             inp_string= b;                                     
             inp_rotation=Int32::Parse(inp_string);                         
             inp_c[1] = (unsigned char)inp_rotation;
             serialPort->Write(inp_c,0,2);                                         
        }
     } 
```

我在桌面应用程序中使用这个 .dll。我已经包含头文件

```
#ifndef goniometer_h
#define goniometer_h
#include "goniometer.h"
#endif 
```

添加了包含目录的路径并添加了 .dll 作为参考。现在我使用 .dll 中定义的函数进行点击事件

```
private: System::Void button9_Click(System::Object^  sender, System::EventArgs^  e) {

              char dir;       
              dir = 0x42;
              String^ inp_string;                                                
              inp_string=enter_degree->Text; 
              positioncontrol::control::rotate(dir,inp_string);                                                      

         } 
```

现在，当我构建我的桌面应用程序时，我收到以下错误

```
1>C:\Users\DELL\Desktop\Final\Motor_Dual_API\Debug\goniometer.h(10): error C2011: 'positioncontrol::control' : 'class' type redefinition
1>          c:\users\dell\desktop\final\vc++dll\debug\goniometer.dll : see declaration of 'positioncontrol::control'
1>c:\users\dell\desktop\final\motor_dual_api\motor_next\Form1.h(530): error C2027: use of undefined type 'positioncontrol::control'
1>          c:\users\dell\desktop\final\vc++dll\debug\goniometer.dll : see declaration of 'positioncontrol::control'
1>c:\users\dell\desktop\final\motor_dual_api\motor_next\Form1.h(530): error C3861: 'rotate': identifier not found
1>c:\users\dell\desktop\final\motor_dual_api\motor_next\Form1.h(540): error C2027: use of undefined type 'positioncontrol::control'
1>          c:\users\dell\desktop\final\vc++dll\debug\goniometer.dll : see declaration of 'positioncontrol::control'
1>c:\users\dell\desktop\final\motor_dual_api\motor_next\Form1.h(540): error C3861: 'rotate': identifier not found 
```

请帮助我找出错误。谢谢并恭祝安康

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T06:25:15.110

在 C++ 中，命名空间分隔符是`::`而不是`.`. 检查你的`using`陈述。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T11:25:02.173

您的代码没有定义`serialPort`. 将定义添加到全局命名空间、命名空间`positionControl`或作为函数中的自动变量

从语义上看，`serialPort`是一个指针。所以还必须创建一个对象的实例，serialPort 指向的地方。

# svn - svn 在提交时更新一个短语

> ID：13062021
> 
> 赞同：1
> 
> 时间：2012-10-25T05:17:35.920
> 
> 标签：svn, hook

我有一些不精通服务器的人在我想放入 svn 的一些网页上工作。

为了避免我不得不进入服务器并更新代码，我希望根据提交消息自动更新代码。（例如“BUILD_TEST”或“BUILD_PROD”）

最好的方法是使用 svnlook 确定消息然后 ssh 到适当的服务器并进行 svn 更新的提交后挂钩？

# jpa - 如何在 JAX-RS 中捕获 OptimisticLockException 并重试？

> ID：13062022
> 
> 赞同：0
> 
> 时间：2012-10-25T05:17:37.630
> 
> 标签：jpa, ejb

我有一些 JAX-RS 资源，它们调用 inject`@EJB`的方法。

这些方法可以抛出乐观锁超时。

我应该捕获什么类型的异常以重试。

```
javax.persistence.OptimisticLockException?

javax.ejb.EJBException?

class MyResource {

    @GET
    public Response doSomething() {
        for (int i = 0; i < 3; i++) {    
            try {
                myEJB.doSomething();
                break;
            } catch (????) {
                // I just want to know the exact type of Exception
                // for lock wait timeout
            }
        }
    }

    @EJB
    private MyEJB myEJB;
} 
```

这是堆栈跟踪。

```
[#|2012-10-25T15:01:37.213+0900|WARNING|glassfish3.1.2|javax.enterprise.resource.jta.com.sun.enterprise.transaction|_ThreadID=193;_ThreadName=Thread-2;|DTX5014: Caught exception in beforeCompletion() callback:
Local Exception Stack:
Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.3.2.v20111125-r10461): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: java.sql.SQLException: Lock wait timeout exceeded; try restarting transaction
Error Code: 1205
Call: UPDATE PLAYER_ACCOUNT SET BALANCE = ?, VERSION = ? WHERE ((((PLAYER_ID = ?) AND (ACCOUNT_TERM = ?)) AND (ACCOUNT_CURRENCY_ID = ?)) AND (VERSION = ?))
        bind => [6 parameters bound]
Query: UpdateObjectQuery(kr.co.ticomms.gameground.persistence.PlayerAccount@46effcb6)
        at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:324)
        at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:840)
        at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:906)
        at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:592)
        at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:535)
        at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:1717)
        at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:253)
        at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:207)
        at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:193)
        at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.updateObject(DatasourceCallQueryMechanism.java:749)
        at org.eclipse.persistence.internal.queries.StatementQueryMechanism.updateObject(StatementQueryMechanism.java:432)
        at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.updateObjectForWriteWithChangeSet(DatabaseQueryMechanism.java:1042)
        at org.eclipse.persistence.queries.UpdateObjectQuery.executeCommitWithChangeSet(UpdateObjectQuery.java:84)
        at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:287)
        at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:58)
        at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:844)
        at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:743)
        at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:108)
        at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:85)
        at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2871)
        at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1516)
        at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1498)
        at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1449)
        at org.eclipse.persistence.internal.sessions.CommitManager.commitChangedObjectsForClassWithChangeSet(CommitManager.java:265)
        at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
        at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:3799)
        at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1415)
        at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.commitToDatabase(RepeatableWriteUnitOfWork.java:636)
        at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithChangeSet(UnitOfWorkImpl.java:1505)
        at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.issueSQLbeforeCompletion(UnitOfWorkImpl.java:3143)
        at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.issueSQLbeforeCompletion(RepeatableWriteUnitOfWork.java:346)
        at org.eclipse.persistence.transaction.AbstractSynchronizationListener.beforeCompletion(AbstractSynchronizationListener.java:157)
        at org.eclipse.persistence.transaction.JTASynchronizationListener.beforeCompletion(JTASynchronizationListener.java:68)
        at com.sun.enterprise.transaction.JavaEETransactionImpl.commit(JavaEETransactionImpl.java:435)
        at com.sun.enterprise.transaction.JavaEETransactionManagerSimplified.commit(JavaEETransactionManagerSimplified.java:845)
        at com.sun.ejb.containers.BaseContainer.completeNewTx(BaseContainer.java:5136)
        at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4901)
        at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2045)
        at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:1994)
        at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:222)
        at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:89)
        at $Proxy245.depositPlayerAccounts(Unknown Source)
        at kr.co.ticomms.gameground.mobile.resources.__EJB31_Generated__PlayersResource__Intf____Bean__.depositPlayerAccounts(Unknown Source)
        at sun.reflect.GeneratedMethodAccessor169.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:601)
        at com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)
        at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$ResponseOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:205)
        at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)
        at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:288)
        at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
        at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)
        at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
        at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)
        at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1469)
        at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1400)
        at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)
        at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)
        at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)
        at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)
        at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:708)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:770)
        at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1550)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:343)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:217)
        at kr.co.ticomms.gameground.mobile.resources.Filter_.doFilter(Filter_.java:662)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:217)
        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:279)
        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)
        at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:655)
        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:595)
        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:161)
        at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:331)
        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:231)
        at com.sun.enterprise.v3.services.impl.ContainerMapper$AdapterCallable.call(ContainerMapper.java:317)
        at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:195)
        at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:860)
        at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:757)
        at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:1056)
        at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:229)
        at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:137)
        at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:104)
        at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:90)
        at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:79)
        at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:54)
        at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:59)
        at com.sun.grizzly.ContextTask.run(ContextTask.java:71)
        at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:532)
        at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:513)
        at java.lang.Thread.run(Thread.java:722)
Caused by: java.sql.SQLException: Lock wait timeout exceeded; try restarting transaction
        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1073)
        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4096)
        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4028)
        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2490)
        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2651)
        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2683)
        at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2144)
        at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2444)
        at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2362)
        at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2347)
        at com.mysql.jdbc.jdbc2.optional.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:875)
        at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:125)
        at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:831)
        ... 89 more
|#]

[#|2012-10-25T15:01:37.216+0900|WARNING|glassfish3.1.2|javax.enterprise.system.container.ejb.com.sun.ejb.containers|_ThreadID=193;_ThreadName=Thread-2;|EJB5184:A system exception occurred during an invocation on EJB PlayersResource, method: public javax.ws.rs.core.Response kr.co.ticomms.gameground.mobile.resources.PlayersResource.depositPlayerAccounts(long,int,java.lang.Long)|#]

[#|2012-10-25T15:01:37.216+0900|WARNING|glassfish3.1.2|javax.enterprise.system.container.ejb.com.sun.ejb.containers|_ThreadID=193;_ThreadName=Thread-2;|javax.ejb.EJBException: Transaction aborted
        at com.sun.ejb.containers.BaseContainer.completeNewTx(BaseContainer.java:5142)
        at com.sun.ejb.containers.BaseContainer.postInvokeTx(BaseContainer.java:4901)
        at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2045)
        at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:1994)
        at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:222)
        at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:89)
        at $Proxy245.depositPlayerAccounts(Unknown Source)
        at kr.co.ticomms.gameground.mobile.resources.__EJB31_Generated__PlayersResource__Intf____Bean__.depositPlayerAccounts(Unknown Source)
        at sun.reflect.GeneratedMethodAccessor169.invoke(Unknown Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:601)
        at com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)
        at com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$ResponseOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:205)
        at com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)
        at com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:288)
        at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
        at com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)
        at com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)
        at com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)
        at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1469)
        at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1400)
        at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)
        at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)
        at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)
        at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)
        at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:708)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:770)
        at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1550)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:343)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:217)
        at kr.co.ticomms.gameground.mobile.resources.Filter_.doFilter(Filter_.java:662)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:217)
        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:279)
        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)
        at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:655)
        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:595)
        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:161)
        at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:331)
        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:231)
        at com.sun.enterprise.v3.services.impl.ContainerMapper$AdapterCallable.call(ContainerMapper.java:317)
        at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:195)
        at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:860)
        at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:757)
        at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:1056)
        at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:229)
        at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:137)
        at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:104)
        at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:90)
        at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:79)
        at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:54)
        at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:59)
        at com.sun.grizzly.ContextTask.run(ContextTask.java:71)
        at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:532)
        at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:513)
        at java.lang.Thread.run(Thread.java:722)
Caused by: javax.transaction.RollbackException: Transaction marked for rollback.
        at com.sun.enterprise.transaction.JavaEETransactionImpl.commit(JavaEETransactionImpl.java:473)
        at com.sun.enterprise.transaction.JavaEETransactionManagerSimplified.commit(JavaEETransactionManagerSimplified.java:845)
        at com.sun.ejb.containers.BaseContainer.completeNewTx(BaseContainer.java:5136)
        ... 55 more
Caused by: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.3.2.v20111125-r10461): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: java.sql.SQLException: Lock wait timeout exceeded; try restarting transaction
Error Code: 1205
Call: UPDATE PLAYER_ACCOUNT SET BALANCE = ?, VERSION = ? WHERE ((((PLAYER_ID = ?) AND (ACCOUNT_TERM = ?)) AND (ACCOUNT_CURRENCY_ID = ?)) AND (VERSION = ?))
        bind => [6 parameters bound]
Query: UpdateObjectQuery(kr.co.ticomms.gameground.persistence.PlayerAccount@46effcb6)
        at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:324)
        at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:840)
        at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeNoSelect(DatabaseAccessor.java:906)
        at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.basicExecuteCall(DatabaseAccessor.java:592)
        at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeCall(DatabaseAccessor.java:535)
        at org.eclipse.persistence.internal.sessions.AbstractSession.basicExecuteCall(AbstractSession.java:1717)
        at org.eclipse.persistence.sessions.server.ClientSession.executeCall(ClientSession.java:253)
        at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:207)
        at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.executeCall(DatasourceCallQueryMechanism.java:193)
        at org.eclipse.persistence.internal.queries.DatasourceCallQueryMechanism.updateObject(DatasourceCallQueryMechanism.java:749)
        at org.eclipse.persistence.internal.queries.StatementQueryMechanism.updateObject(StatementQueryMechanism.java:432)
        at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.updateObjectForWriteWithChangeSet(DatabaseQueryMechanism.java:1042)
        at org.eclipse.persistence.queries.UpdateObjectQuery.executeCommitWithChangeSet(UpdateObjectQuery.java:84)
        at org.eclipse.persistence.internal.queries.DatabaseQueryMechanism.executeWriteWithChangeSet(DatabaseQueryMechanism.java:287)
        at org.eclipse.persistence.queries.WriteObjectQuery.executeDatabaseQuery(WriteObjectQuery.java:58)
        at org.eclipse.persistence.queries.DatabaseQuery.execute(DatabaseQuery.java:844)
        at org.eclipse.persistence.queries.DatabaseQuery.executeInUnitOfWork(DatabaseQuery.java:743)
        at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWorkObjectLevelModifyQuery(ObjectLevelModifyQuery.java:108)
        at org.eclipse.persistence.queries.ObjectLevelModifyQuery.executeInUnitOfWork(ObjectLevelModifyQuery.java:85)
        at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:2871)
        at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1516)
        at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1498)
        at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1449)
        at org.eclipse.persistence.internal.sessions.CommitManager.commitChangedObjectsForClassWithChangeSet(CommitManager.java:265)
        at org.eclipse.persistence.internal.sessions.CommitManager.commitAllObjectsWithChangeSet(CommitManager.java:128)
        at org.eclipse.persistence.internal.sessions.AbstractSession.writeAllObjectsWithChangeSet(AbstractSession.java:3799)
        at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabase(UnitOfWorkImpl.java:1415)
        at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.commitToDatabase(RepeatableWriteUnitOfWork.java:636)
        at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.commitToDatabaseWithChangeSet(UnitOfWorkImpl.java:1505)
        at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.issueSQLbeforeCompletion(UnitOfWorkImpl.java:3143)
        at org.eclipse.persistence.internal.sessions.RepeatableWriteUnitOfWork.issueSQLbeforeCompletion(RepeatableWriteUnitOfWork.java:346)
        at org.eclipse.persistence.transaction.AbstractSynchronizationListener.beforeCompletion(AbstractSynchronizationListener.java:157)
        at org.eclipse.persistence.transaction.JTASynchronizationListener.beforeCompletion(JTASynchronizationListener.java:68)
        at com.sun.enterprise.transaction.JavaEETransactionImpl.commit(JavaEETransactionImpl.java:435)
        ... 57 more
Caused by: java.sql.SQLException: Lock wait timeout exceeded; try restarting transaction
        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1073)
        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4096)
        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4028)
        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2490)
        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2651)
        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2683)
        at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2144)
        at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2444)
        at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2362)
        at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2347)
        at com.mysql.jdbc.jdbc2.optional.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:875)
        at com.sun.gjc.spi.base.PreparedStatementWrapper.executeUpdate(PreparedStatementWrapper.java:125)
        at org.eclipse.persistence.internal.databaseaccess.DatabaseAccessor.executeDirectNoSelect(DatabaseAccessor.java:831)
        ... 89 more
|#] 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:27:12.347

`Lock Wait Timeout`, 它是一个`Pessimistic Locking`. 使支持的锁定模式 ares ：

1.  PESSIMISTIC_READ - 表示共享锁。
2.  PESSIMISTIC_WRITE - 表示排他锁。

`LockTimeoutException`被抛出时

1.  一个 EntityManager 实例尝试做`PESSIMISTIC_READ`锁，另一个 EntityManager 持有`PESSIMISTIC_WRITE`锁。
2.  一个 EntityManager 实例尝试做`PESSIMISTIC_WRITE`锁，另一个 EntityManager 持有`PESSIMISTIC_WRITE`锁或`PESSIMISTIC_READ`锁。

`javax.persistence.lock.timeout`您可以使用in配置超时毫秒`persistence.xml`。

```
<properties>
   <property name="javax.persistence.lock.timeout" value="1000"/>
</properties> 
```

有关更多参考[JPA 中的锁定](http://www.objectdb.com/java/jpa/persistence/lock)

我不确定你是否需要抓住`OptimisticLockException`。`OptimisticLockException`但是如果您的实体使用`@Version`注释，您肯定会得到。

# javascript - 加载时如何使用javascript确定文件类型？

> ID：13062026
> 
> 赞同：4
> 
> 时间：2012-10-25T05:17:56.887
> 
> 标签：javascript

我有某些上传的文件代码如下：

```
<script>
var input_file = document.getElementById('txt_list');
input_file.onchange = function() {
           var file = this.files[0];
           var reader = new FileReader();
           reader.onload = function(ev) {
                //myProcesses
           };
           reader.readAsText(file);
        };
</script> 
```

如何添加新功能来确定上传文件的类型是 txt、gif 等？如果我必须验证它，那我该怎么办？提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T05:21:14.217

拆分文件名，然后第二部分将为您提供文件扩展名

```
 return file .split('.').pop(); 
```

所以如果文件是**`name.txt`**这将返回**`txt`**

编辑-

如果您只需要检查文件类型

```
var filetype=file.split('.').pop();
if(filetype!="txt"){
return false;
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-25T05:26:27.583

```
return (/[.]/.exec(filename)) ? /[^.]+$/.exec(filename) : undefined; 
```

或者

```
return filename.split('.').pop(); 
```

请参阅此链接以获取更多详细信息 -[链接](https://stackoverflow.com/questions/190852/how-can-i-get-file-extensions-with-javascript)

如果你只需要一个txt文件

将其保存到变量中并使用 if else 语句来验证它

```
var file=file.split('.').pop();

if (type=='txt'){
//do something
}else{
//do something
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-25T05:29:15.420

您可以使用[`File.type`](https://developer.mozilla.org/en-US/docs/DOM/File.type)来确定 mime 类型并根据有效的 mime 类型对其进行检查。

# java - 传递给构造函数的组件不显示

> ID：13062027
> 
> 赞同：1
> 
> 时间：2012-10-25T05:17:59.547
> 
> 标签：java, swing, user-interface, components

我创建了一个创建面板的类，并在构造函数中传递了一个附加了动作侦听器的按钮。这是按钮的代码：

```
JButton back = new JButton("Back");
back.addActionListener(new ActionListener(){
    public void actionPerformed(ActionEvent arg0) {
        menus.show(contentPane, "Main");
    }
}); 
```

然后将其传递给构造函数，如下所示：

```
lightsPane = new lightsPane(back).contents;
tasksPane = new Tasks(tasksBack).contents;
tvPane = new TV(tvBack).contents; 
```

在类中，按钮被添加到 JPanel，然后 JPanel 被添加到内容中。像这样：

```
public class lightsPane{
JPanel contents;

lightsPane(JButton back){
    contents = new JPanel(new BorderLayout);

    //add back button to lower right of panel
    JPanel backPane = new JPanel();
    backPane.setLayout(new BorderLayout());
    backPane.add(back, BorderLayout.CENTER);

    contents.add(backPane, BorderLayout.SOUTH);
       }
 } 
```

我知道构造函数工作正常，因为当我在其中创建一个按钮以添加到它显示的内容时，它显示得很好。这里发生了什么？我可以将此按钮传递给构造函数吗？如果可以，为什么不显示？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T05:34:20.777

是的，您可以在传递在另一个类中使用的引用时将按钮传递给构造函数，这非常好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T05:39:33.107

`JButton`如果使用得当，通过构造函数传递它并没有错。该类要么根本不使用它，要么正在使用它，但以一种非常有用的方式。

# android - Android Webview 中没有 Html 5 组件

> ID：13062028
> 
> 赞同：1
> 
> 时间：2012-10-25T05:18:06.757
> 
> 标签：android, html, cordova

我在 Eclipse 中使用 android。使用 phonegap 从资产文件夹运行 HTML5 组件。使用 android 4.0.3 api 的模拟器中没有 Html 组件。

无法加载顶点着色器错误消息正在 logcat 中。

下面给出了我的 Activity 类。在该类中，我使用了 droidGap 类的 loadUrl 方法。

我试图加载一个 HTML5 页面，它实际上是一个登录页面，蓝屏仅在尝试运行项目时出现。

```
package com.plugin.myapp;
import java.io.IOException;
import java.io.InputStream;
import org.apache.cordova.DroidGap;
import android.content.res.AssetManager;
import android.os.Bundle;

public class MainActivity extends DroidGap {
    private static MainActivity instance;

    @Override
    public void onCreate(Bundle savedInstanceState) { 
        super.onCreate(savedInstanceState);   
        super.init();  

        super.loadUrl("file:///android_asset/www/tdc_tutorial.html");
        //super.loadUrl("file:///android_asset/www/web/index.html",10000); 
    }
} 
```

manifest.xml 在下面给出

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
        package="com.plugin.myapp"
        android:versionCode="1"
        android:versionName="1.0" >
    <uses-sdk
            android:minSdkVersion="8"
            android:targetSdkVersion="15" />
    <supports-screens
        android:anyDensity="true"
        android:largeScreens="true"
        android:normalScreens="true"
        android:resizeable="true"
        android:smallScreens="true" />
    <uses-permission android:name="android.permission.VIBRATE" />   
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_LOCATION_EXTRA_COMMANDS" />    
    <uses-permission android:name="android.permission.READ_PHONE_STATE" />
    <uses-permission android:name="android.permission.RECEIVE_SMS" />
    <uses-permission android:name="android.permission.RECORD_AUDIO" />
    <uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS" />
    <uses-permission android:name="android.permission.READ_CONTACTS" />
    <uses-permission android:name="android.permission.WRITE_CONTACTS" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.WRITE_INTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission android:name="android.permission.GET_ACCOUNTS" />
    <uses-permission android:name="android.permission.BROADCAST_STICKY" />

    <uses-permission android:name="android.permission.INTERNET" />
    <application       
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/AppTheme" >
        <activity
                android:name=".MainActivity"
                android:label="@string/title_activity_main" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>    
</manifest> 
```

LogCat 错误消息

```
10-25 10:30:06.649: D/dalvikvm(610): WAIT_FOR_CONCURRENT_GC blocked 5ms
10-25 10:30:06.669: I/CordovaLog(610): Changing log level to DEBUG(3)
10-25 10:30:06.669: I/CordovaLog(610): Found preference for useBrowserHistory
10-25 10:30:06.669: D/DroidGap(610): DroidGap.onCreate()
10-25 10:30:06.759: D/DroidGap(610): DroidGap.init()
10-25 10:30:06.839: D/DroidGap(610): DroidGap.loadUrl(file:///android_asset/www/tdc_tutorial.html)
10-25 10:30:06.839: D/DroidGap(610): DroidGap: url=file:///android_asset/www/tdc_tutorial.html baseUrl=file:///android_asset/www/
10-25 10:30:06.839: D/PluginManager(610): init()
10-25 10:30:06.939: D/SoftKeyboardDetect(610): Ignore this event
10-25 10:30:06.999: D/gralloc_goldfish(610): Emulator without GPU emulation detected.
10-25 10:30:07.209: D/SoftKeyboardDetect(610): Ignore this event
10-25 10:30:08.029: D/CordovaLog(610): Viewport argument value "device-width;initial-scale" for key "width" not recognized. Content ignored.
10-25 10:30:08.029: D/CordovaLog(610): file:///android_asset/www/tdc_tutorial.html: Line 8 : Viewport argument value "device-width;initial-scale" for key "width" not recognized. Content ignored.
10-25 10:30:08.029: E/Web Console(610): Viewport argument value "device-width;initial-scale" for key "width" not recognized. Content ignored. at file:///android_asset/www/tdc_tutorial.html:8
10-25 10:30:08.029: D/CordovaLog(610): Viewport argument key "1.0;" not recognized and ignored.
10-25 10:30:08.039: D/CordovaLog(610): file:///android_asset/www/tdc_tutorial.html: Line 8 : Viewport argument key "1.0;" not recognized and ignored.
10-25 10:30:08.039: E/Web Console(610): Viewport argument key "1.0;" not recognized and ignored. at file:///android_asset/www/tdc_tutorial.html:8
10-25 10:30:08.279: D/chromium(610): Unknown chromium error: -6
10-25 10:30:11.059: E/SQLiteLog(610): (14) cannot open file at line 30174 of [00bb9c9ce4]
10-25 10:30:11.059: E/SQLiteLog(610): (14) os_unix.c:30174: (2) open(/CachedGeoposition.db) - 
10-25 10:30:11.059: D/WebKit(610): ERROR: 
10-25 10:30:11.059: D/WebKit(610): SQLite database failed to load from /CachedGeoposition.db
10-25 10:30:11.059: D/WebKit(610): Cause - unable to open database file
10-25 10:30:11.059: D/WebKit(610): external/webkit/Source/WebCore/platform/sql/SQLiteDatabase.cpp(71) : bool WebCore::SQLiteDatabase::open(const WTF::String&, bool)
10-25 10:30:15.740: D/CordovaLog(610): Uncaught TypeError: Cannot read property 'Object' of undefined
10-25 10:30:15.740: D/CordovaLog(610): file:///android_asset/www/TestClient.lzx.js?: Line 1 : Uncaught TypeError: Cannot read property 'Object' of undefined
10-25 10:30:15.749: E/Web Console(610): Uncaught TypeError: Cannot read property 'Object' of undefined at file:///android_asset/www/TestClient.lzx.js?:1
10-25 10:30:26.050: D/dalvikvm(610): GC_CONCURRENT freed 305K, 5% free 8423K/8839K, paused 82ms+5ms, total 117ms
10-25 10:37:41.439: D/dalvikvm(610): GC_CONCURRENT freed 426K, 6% free 8431K/8967K, paused 75ms+4ms, total 119ms
10-25 10:44:16.459: D/dalvikvm(610): GC_CONCURRENT freed 398K, 6% free 8456K/8967K, paused 76ms+5ms, total 120ms 
```

任何机构都可以帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T05:34:46.260

根据您的日志中的这些行：

```
10-25 10:30:11.059: D/WebKit(610): ERROR: 
10-25 10:30:11.059: D/WebKit(610): SQLite database failed to load from /CachedGeoposition.db
10-25 10:30:11.059: D/WebKit(610): Cause - unable to open database file
10-25 10:30:11.059: D/WebKit(610): external/webkit/Source/WebCore/platform/sql/SQLiteDatabase.cpp(71) : bool WebCore::SQLiteDatabase::open(const WTF::String&, bool)
10-25 10:30:15.740: D/CordovaLog(610): Uncaught TypeError: Cannot read property 'Object' of undefined
10-25 10:30:15.740: D/CordovaLog(610): file:///android_asset/www/TestClient.lzx.js?: Line 1 : Uncaught TypeError: Cannot read property 'Object' of undefined
10-25 10:30:15.749: E/Web Console(610): Uncaught TypeError: Cannot read property 'Object' of undefined at file:///android_asset/www/TestClient.lzx.js?:1 
```

您的代码正在尝试读取一些无法执行的 sql 文件。你可能想看看这个

# php - Facebook Post链接到墙错误

> ID：13062029
> 
> 赞同：0
> 
> 时间：2012-10-25T05:18:09.580
> 
> 标签：php, facebook, facebook-graph-api

我正在尝试在 facebook 墙上发布一个链接。但我得到了这些错误。请帮助我解决这个错误。

```
 $config = array(
   'appId' => 'xxxxxxxxxxxxx',
   'secret' => 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx',

  );  

  $facebook = new Facebook($config);
  $user_id = $facebook->getUser();
   $facebook = new Facebook($config);
   $user_id = $facebook->getUser();
 if($user_id) {

  try {
   $facebook->api('/$user_id/feed','POST',
               array(  'access_token' => $facebook->getAccessToken(),
                 'message' => 'Hello World!',
                 'link' => 'www.example.com'
                    )
            );
} catch(FacebookApiException $e) {
$result = $e->getResult();
 error_log(json_encode($result));

    $login_url = $facebook->getLoginUrl( array(
                   'scope' => 'publish_stream'
                   )); 
    echo 'Please <a href="' . $login_url . '">login.</a>';
    error_log($e->getType());
    error_log($e->getMessage());
  }   

  echo '<br /><a href="' . $facebook->getLogoutUrl() . '">logout</a>';
} else {

  as the redirect_uri, so we don't
  // need to specify it here.
  $login_url = $facebook->getLoginUrl( array( 'scope' => 'publish_stream' ) );
  echo 'Please <a href="' . $login_url . '">login.</a>';

} 
```

`{"error":{"message":"(#1) An error occured while creating the share","type":"OAuthException","code":1}}`

OAuthException

`(#1) An error occured while creating the share {"error":{"message":"(#1) An error occured while creating the share","type":"OAuthException","code":1}}`

OAuthException (#1) 创建共享时发生错误

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T05:25:47.503

您可以尝试添加`'type' => 'link'`并查看它是否有效？据我在 Facebook 论坛上看到的，这实际上是一个错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T07:12:39.643

你没有做错任何事，你的代码中有一个小的 php 错误，因为你的 $user_id 变量没有被读取。`/$user_id/feed`解决方案，在您的代码中用双引号替换单引号。试试这个它会工作：

```
$facebook->api("/$user_id/feed",'POST',
               array(  'access_token' => $facebook->getAccessToken(),
                 'message' => 'Hello World!',
                 'link' => 'www.example.com'
                    )
            ); 
```

# java - Spring 电子邮件发送状态

> ID：13062030
> 
> 赞同：0
> 
> 时间：2012-10-25T05:18:11.420
> 
> 标签：java, spring, email

有没有办法使用 spring 框架的电子邮件功能检查是否收到了电子邮件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T08:04:46.590

您无法检查是否收到了电子邮件。将报告的唯一错误是发送过程中的错误（无效地址、错误的 smtp 凭据等）。

邮件由邮件服务器发送后，事情就不在您的业务范围内了。您可以做的是检查收件人邮件服务器是否发送退回邮件（被阻止的电子邮件。完整的邮箱，没有这样的地址等）。但这必须在邮件发送过程之外发生。很可能是在发送电子邮件后的某个时间由调度程序完成的。

# c++ - 析构函数和链表

> ID：13062031
> 
> 赞同：0
> 
> 时间：2012-10-25T05:18:26.957
> 
> 标签：c++, constructor, linked-list, destructor

为什么链表的基于指针的实现需要析构函数和复制构造函数？我试图理解它背后的概念以及它是如何工作的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T05:21:48.583

一个典型的实现将使用`new`. 如果您想在不再需要对象时释放该内存，则有必要编写一个析构函数，它将`delete`列表中的剩余节点释放内存。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-25T05:36:04.803

这是一个所有权问题。通常，链表被实现为节点对象的序列，每个节点对象都包含一个指向下一个（和前一个，在双链表的情况下）节点的指针。该列表通常包含指向第一个节点的指针。所以当列表被复制时，有必要进行“深度”复制，否则复制的列表最终会指向相同的节点，而你最终会得到两个指向相同结构的对象。这种深拷贝是通过创建一个全新的、动态分配的节点序列来执行的。这就是实现复制构造函数的原因。还需要提供一个遵循类似逻辑的赋值运算符（参见[三的规则](http://en.wikipedia.org/wiki/Rule_of_three_%28C%2B%2B_programming%29)）。至于析构函数，由于每个链表都拥有自己的节点，并且是动态分配的，所以它必须在销毁时释放资源。

总之：

1.  节点持有指向节点的指针（或智能指针），因为它们不能持有节点对象（无限递归）。
2.  列表（应该）拥有自己的节点序列，并且不与其他列表共享它们。这导致复制和分配的动态分配。
3.  由于它们管理动态分配的资源，因此列表必须在其生命周期结束时清理这些资源。这会导致析构函数（除非使用了智能指针）。

# android - 什么是回调以及如何在 Android 中实现它们？

> ID：13062033
> 
> 赞同：1
> 
> 时间：2012-10-25T05:18:27.970
> 
> 标签：android, callback

> **可能重复：**
> [如何在 Android 中定义回调？](https://stackoverflow.com/questions/3398363/how-to-define-callbacks-in-android)

我正在通过 Internet 阅读有关**回调**的信息，并且我知道这在**Android 生态系统**中具有重要意义。

谁能举个***例子***并解释***什么是回调它们是如何工作的***？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T05:34:22.643

你的意思是使用接口回调吗？如果是的话，这是一个例子

这是 callbackmenu.java

```
package com.example.test.callback;

public interface CallbackCalendar {
    public void onClick();
} 
```

这是你如何实现它的一个例子

```
public class CallbackCell implements CallbackCalendar{

    @Override
    public void onClick() {
        Log.i("TAG", "IT WORKS!);
        addChild(2);
    }
} 
```

这是一个示例，允许您从另一个视图访问视图，就像我在日历库中使用的一样，我创建了 3 个视图类，日历视图，日历行，日历单元格

通过将此回调从日历视图传递到日历单元格，我们可以在此示例中从日历单元格（日历单元格是日历行的一部分，日历行是日历视图的一部分）在日历视图中添加视图、设置值或其他任何内容我试图设置每当用户单击单元格时，我们将在日历视图（主视图）中添加另一个视图

这是在日历单元格中使用回调的示例

```
public CalendarCell(Context context,int day,final CallbackCalendar callback)
{
    super(context);
    final int temp = day;
    this.context = context;
    this.setBackgroundColor(Color.parseColor("#FFFFFFFF"));
    LinearLayout.LayoutParams lpCalendarCell = new LinearLayout.LayoutParams(LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT);
    lpCalendarCell.weight = 1;
    this.setLayoutParams(lpCalendarCell);
    this.setOnClickListener(new OnClickListener() {

        @Override
        public void onClick(View v) {
            callback.onClick();
        }
    });
    addContainer(day);
} 
```

所以我在日历视图中设置回调并将其传递给日历行并再次将其传递给日历单元格并在日历单元格中调用 onClick

我认为这就是全部，如果您有任何问题，请随时在评论中写下:)

# php - 嘻哈编辑是即时的吗？

> ID：13062034
> 
> 赞同：0
> 
> 时间：2012-10-25T05:18:32.870
> 
> 标签：php, hiphop

我可以将普通的 .php 文件上传到服务器，然后 hiphop 会在第一次请求时自动编译文件。还是我必须在上传到服务器之前编译文件？

如果我有一个用 C 编写的自定义扩展/模块，它是否可以在没有任何修改的情况下与 hiphop 一起使用？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T05:25:39.890

你一次问两个问题：

> 我可以将普通的 .php 文件上传到服务器，然后 hiphop 会在第一次请求时自动编译文件。还是我必须在上传到服务器之前编译文件？

不，你需要编译它们。在上传之前或上传之后，但无论如何都在 HTTP 请求之前。

> 如果我有一个用 C 编写的自定义扩展/模块，它是否可以在没有任何修改的情况下与 hiphop 一起使用？

不是开箱即用。这里已经回答了：

*   [是否可以在 HipHop 中使用 PECL 扩展？](https://stackoverflow.com/q/10049049/367456)

# visual-studio-2010 - 以 NT AUTHORITY\SYSTEM 身份访问数据库

> ID：13062041
> 
> 赞同：-1
> 
> 时间：2012-10-25T05:19:00.997
> 
> 标签：visual-studio-2010, iis-7, windows-authentication

发布网站后，我正在做一个网站，它成为 NT AUTHORITY\SYSTEM 帐户。在我的网站中，我正在访问数据库。由于我发布的网络成为 NT AUTHORITY\SYSTEM 帐户，它无法访问我的 sql server 2008 R2。如何让它连接到我的 sql 服务器？

我使用 IIS7 部署了网站。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T05:36:38.100

“系统”是本地帐户，您不能在其他机器上授予它访问权限（假设 IIS 和 MSSQL 在不同的盒子上）。

您遇到的限制是 Windows 权限不能超过一个框（“双跳身份验证”在[双跳身份验证：为什么 NTLM 失败](http://blogs.msdn.com/b/besidethepoint/archive/2010/05/09/double-hop-authentication-why-ntlm-fails-and-kerberos-works.aspx)中简要讨论）。

最简单的解决方案是使用 SQL 身份验证，但它需要连接字符串中的密码信息。模拟特殊帐户（或恢复到在特定帐户下运行的进程帐户）是更安全的方法。

# c# - 在单个数据库调用中通过 c# 将大量数据插入 SQL Server

> ID：13062044
> 
> 赞同：2
> 
> 时间：2012-10-25T05:19:18.837
> 
> 标签：c#, sql-server

> **可能重复：**
> [加快 SQL Server 2008 中 185k 行的更新速度？](https://stackoverflow.com/questions/12292644/speed-up-update-of-185k-rows-in-sql-server-2008)

我有超过 700.000 封联系邮件，我想在一次数据库调用中使用 C# 在几分钟而不是几小时内将它们插入 SQL Server。

我知道 pre 是不可能的，但我知道有办法做到这一点

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T05:24:45.837

看看使用[SqlBulkCopy 类](http://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlbulkcopy.aspx)

> 让您可以使用来自其他源的数据有效地批量加载 SQL Server 表。
> 
> Microsoft SQL Server 包括一个名为 bcp 的流行命令提示实用程序，用于将数据从一个表移动到另一个表，无论是在单个服务器上还是在服务器之间。SqlBulkCopy 类允许您编写提供类似功能的托管代码解决方案。还有其他方法可以将数据加载到 SQL Server 表中（例如 INSERT 语句），但 SqlBulkCopy 提供了比它们显着的性能优势。

# java - 向客户端推送通知

> ID：13062048
> 
> 赞同：1
> 
> 时间：2012-10-25T05:19:47.837
> 
> 标签：java, spring, tomcat, comet

我使用 Struts、Spring 和 Hibernate 构建了我的项目。我正在使用 Tomcat 作为服务器。现在我想在我的 Web 应用程序中实现推送通知，执行诸如根据数据库中的新数据更新视图层上的表之类的任务，或者在发生特定情况时显示通知。我该如何实现这一点，我应该使用什么工具？也许彗星或类似的东西？如果您有指向教程的链接，我会发现这很有帮助。

我也想知道这（推送）是否与消息传递有关？

我试过[这个链接](http://www.ibm.com/developerworks/web/library/wa-cometjava/) ，但它看起来像拉。我的案例就像一个聊天应用程序——如果有人登录，其他成员会收到通知。我对如何实现这一点感到困惑。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T05:50:51.457

您是否尝试过[Atmosphere](http://github.com/Atmosphere/)框架？它支持 websocket 并回退到提到的 longpolling。

它可以在客户端与 jquery 一起使用。教程在[这里](https://github.com/Atmosphere/atmosphere/wiki/Getting-Started-with-The-Atmosphere-Framework-and-WebSocket)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T05:21:40.667

那么最简单的方法是使用长轮询的ajax调用（想到jQuery）。彗星也不错。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-09-30T13:36:08.303

使用 Spring STOMP WebSockets .. 它非常简单 [https://spring.io/guides/gs/messaging-stomp-websocket/](https://spring.io/guides/gs/messaging-stomp-websocket/)

# c# - 检查 DependencyProperty 是否已注册

> ID：13062050
> 
> 赞同：0
> 
> 时间：2012-10-25T05:19:53.653
> 
> 标签：c#, wpf

在再次运行下面的代码之前，我如何知道“状态”DependencyProperty 是否已注册？

代码：

```
public readonly DependencyProperty StatusProperty ;

    public string Status
    {
        get { return (string)GetValue(StatusProperty); }
        set { SetValue(StatusProperty, value); }
    }

StatusProperty = DependencyProperty.Register("Status", typeof(string), typeof(CWindow), new PropertyMetadata()); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T06:28:14.113

您将需要反思以找出已注册的依赖属性。

```
using System.Reflection;

foreach (FieldInfo fInfo in CWindow.GetType().GetFields())
{
    if (fInfo.FieldType.Name == "DependencyProperty")
    {
        if (fInfo.GetValue(null) == "Status")
        {
            Console.WriteLine("Status Property already Registered");
        }
    }
} 
```

# symfony - 从查询中获取日期时间值的问题。价值始终相同

> ID：13062056
> 
> 赞同：0
> 
> 时间：2012-10-25T05:20:03.490
> 
> 标签：symfony, doctrine

从查询中，我试图在 symfony 2.0 中获取日期。我的查询运行良好，但日期始终相同。如何从数据库中获取正确的日期。这是一些代码

```
 $query = $em -> createQuery('SELECT x FROM TableUserBundle:User x WHERE x.id = :id')
                     -> setParameter('id', $event -> getUserAdminId());
        $results = $query -> getResult();

    foreach($results as $eventInfos) {
        var_dump($eventInfos[0] -> getUpdated());
    } 
```

这总是给我返回相同的日期。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T06:22:32.823

为什么期望用户更新日期发生变化而不实际更新用户？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T06:54:21.803

`foreach`1）如果您的查询中没有 JOIN （因此没有多个日期），为什么需要？

2) Method`getResult()`默认情况下会水合，因此您在**循环 item**`object`中没有`[0]`索引。相反，你会这样做：

 **```
var_dump($results[0]->getUpdated()); 
```

而且由于您是`User`通过主键获取的，因此您可能还想使用内置`find`方法，因为它更简单：

```
$user = $em->find($event -> getUserAdminId()); // returns only single record
var_dump($user->getUpdated()) 
```**

# linux-kernel - 识别创建 sysfs 条目的内核模块

> ID：13062061
> 
> 赞同：11
> 
> 时间：2012-10-25T05:20:30.260
> 
> 标签：linux-kernel, linux-device-driver

在一个正在运行的 Linux 系统上，我想知道哪个设备驱动程序模块创建了一个特定的 sysfs 条目。有可能知道吗？我知道我可以 grep 内核源代码中的相关字符串并尝试识别。但是，有没有办法不这样做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T09:35:31.327

您可以通过查看源代码找到哪个驱动程序创建了 sysfs 条目。如果驱动程序在其初始化/退出序列中分别使用了**device_create_file()/device_remove_file()**，那么您可以确定驱动程序已经创建了一个 sysfs 属性文件。您还可以在源代码中找到**DEVICE_ATTR(_name, _mode, _show, _store)**宏，以了解 sysfs 文件提供了哪些功能。通常，您可以 cat 文件或向其回显字符串。**cat /sys/.../file**将对应于 _show 函数，而**echo /sys/.../file**将对应于宏中提到的 _store 函数。

# c# - 如何以编程方式设置 winforms Checkedlistbox 中所有项目的选中状态？

> ID：13062064
> 
> 赞同：11
> 
> 时间：2012-10-25T05:21:02.457
> 
> 标签：c#, winforms

我正在开发一个 Windows 窗体应用程序。我想要`check/uncheck`checklistbox中的所有复选框。

我正在使用以下代码动态生成复选框。

```
 var CheckCollection = new List<CheckedBoxFiller>();
    foreach (DataRow dr in dt.Rows)
        CheckCollection.Add(new CheckedBoxFiller {
                                Text = dr["ImageName"].ToString(),
                                Value = dr["ImageId"].ToString()
        });
    chklbEvidenceTags.DataSource = CheckCollection;
    chklbEvidenceTags.DisplayMember = "Text";
    chklbEvidenceTags.ValueMember = "Value"; 
```

这是 CheckboxFiller 类

```
private class CheckedBoxFiller {
    public string Text { get; set; }
    public string Value { get; set; }
} 
```

现在我想`check/Uncheck` `all checkboxes`。我怎样才能做到这一点？

任何帮助都会很有用。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-10-25T06:54:05.740

我找到了解决方案。

```
 for (int i = 0; i < chklistbox.Items.Count; i++)
      chklistbox.SetItemCheckState(i, (state ? CheckState.Checked : CheckState.Unchecked)); 
```

`state`是`boolen`价值。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2013-12-18T14:51:29.063

如果您有一个很大的项目列表，这种方法可能会更有效地*取消选中*项目。它只需要您循环浏览实际检查的项目：

```
 private void UncheckAllItems()
    {
        while (chklistbox.CheckedIndices.Count > 0)
            chklistbox.SetItemChecked(chklistbox.CheckedIndices[0], false);
    } 
```

如果您在整个项目中使用多个 CheckedListBox 控件并希望更进一步，可以将其添加为扩展方法：

```
 public static class AppExtensions
    {
        public static void UncheckAllItems(this System.Windows.Forms.CheckedListBox clb)
        {
            while (clb.CheckedIndices.Count > 0)
                clb.SetItemChecked(clb.CheckedIndices[0], false);
        }
    } 
```

扩展方法调用：

```
 chklistbox.UncheckAllItems(); 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-03-22T13:23:30.037

**选中/取消选中以下代码编写的所有列表项：**

```
if (checkBox1.Checked)
    {
        for (int i = 0; i < chkboxlst.Items.Count; i++)
        {
            chkboxlst.SetItemChecked(i, true);
        }
    }
    else
    {
        for (int i = 0; i < chkboxlst.Items.Count; i++)
        {
            chkboxlst.SetItemChecked(i, false);
        }
    } 
```

* * *

## 回答 #4

> 赞同：-3
> 
> 时间：2014-12-18T13:17:45.467

**取消选中/选中所有 listItems 执行以下代码：**

```
 boolean state =false;//False->Uncheck,true->Check

 for (int i = 0; i < chklistbox.Items.Count; i++)
      chklistbox.SetItemCheckState(i, (state ? CheckState.Checked : CheckState.Unchecked)); 
```

# jquery - 如何使用 jquery datepicker 更改日期背景？

> ID：13062067
> 
> 赞同：0
> 
> 时间：2012-10-25T05:21:28.790
> 
> 标签：jquery, css, jquery-ui, datepicker

为什么 jquery.ui.datepicker.css 中的 CSS 代码不起作用？我认为它可能是 jquery.ui.theme.css 文件中的东西，因为我使用了 jQuery 主题滚轮，但事实并非如此。Firebug 显然将我发送到正确文件的正确行，但我似乎无法修复它。有人愿意尝试在这里给萤火虫打一针[吗](http://www.sportannica.com/schedule.php)？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T05:26:13.780

定义css背景颜色和css背景图片时，图片会显示在颜色上方。例如，在这种情况下，第 26 行引用了 url(images/ui-bg_glass_75_e6e6e6_1x400.png) 作为背景图像。如果您要修改该图像，或者取下图像并简单地使用背景颜色，它会起作用。

# android - ViewFlipper中的Textview重叠问题..

> ID：13062075
> 
> 赞同：4
> 
> 时间：2012-10-25T05:22:18.823
> 
> 标签：android, textview, viewflipper, overlapping

我已经使用**`ViewFlipper`**control 来显示具有连续间隔的推文**`left to right`**。我在 ViewFlipper 中为每条推文添加了动态文本视图。

一切正常，但有时 textview 重叠。 ![在此处输入图像描述](../Images/8b262d3637fb7cd453166eda11620a25.png)

这种奇怪行为的原因是什么？

代码：

```
for (int i = 0; i < tweets.length(); i++) {
            tweet = tweets.getJSONObject(i).getString("title")+"&nbsp;&nbsp; tweet on &nbsp;"+tweets.getJSONObject(i).getString("pubDate");         
            tv = new TextView(context);
            LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(
                    LayoutParams.WRAP_CONTENT, LayoutParams.FILL_PARENT);
                params.weight = 1.0f;
                params.gravity=48;

            tv.setLayoutParams(params);
            tv.setGravity(Gravity.CENTER);

            tv.setTextSize(22);
            tv.setTextColor(ColorStateList.valueOf(Color.WHITE));
            tv.setSingleLine();

            //tv.setTextColor(getREs)
            tv.setText(tweet);
            flipper.addView(tv);
         }      

        flipper.setInAnimation(inFromRightAnimation(1500));        
        flipper.setOutAnimation(outToLeftAnimation(1500));
        flipper.startFlipping();

public static Animation inFromRightAnimation(int duration) {
        Animation inFromRight = new TranslateAnimation(
        Animation.RELATIVE_TO_PARENT,  +1.0f, Animation.RELATIVE_TO_PARENT,  0.0f,
        Animation.RELATIVE_TO_PARENT,  0.0f, Animation.RELATIVE_TO_PARENT,   0.0f
        );
        inFromRight.setDuration(duration);
        inFromRight.setInterpolator(new AccelerateInterpolator());
        return inFromRight;
    }

public static Animation outToLeftAnimation(int duration) {
        Animation outtoLeft = new TranslateAnimation(
          Animation.RELATIVE_TO_PARENT,  0.0f, Animation.RELATIVE_TO_PARENT,  -1.0f,
          Animation.RELATIVE_TO_PARENT,  0.0f, Animation.RELATIVE_TO_PARENT,   0.0f
        );      
        outtoLeft.setDuration(duration);
        outtoLeft.setInterpolator(new AccelerateInterpolator());
        return outtoLeft;
    } 
```

**`EDIT :`**

这是显示上述问题的另一个快照..

![在此处输入图像描述](../Images/e6860e6b50a9aaef49ec0a21986267c6.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-02-15T19:15:01.550

我的应用在某些设备上使用 ViewFlipper 和 onFling Gesture 时遇到了同样的问题。

通过在我的视图中添加背景颜色，我能够解决问题。在我的情况下，是 ListViews 有重复的重叠文本，所以我只是在每个 ListView 的 xml 中添加了一个黑色背景，它为我解决了这个问题。

```
android:background="#000000" 
```

这种行为似乎仍然很奇怪，我不确定为什么要修复它。也许这与透明度有关。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-12-06T12:56:18.420

我在使用 ViewFlipper 时遇到了同样的问题。我找到原因了，看看不正确的代码：

```
public void setDuration(int ms) {
    mDurationTime = 1000*ms;
    this.setFlipInterval(mDurationTime);//don't do this
} 
```

就我而言，listview addHeader(ViewFlipper)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-16T19:31:59.077

尝试

```
LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(
                    LayoutParams.FILL_PARENT, LayoutParams.FILL_PARENT); 
```

使用**FILL_PARENT**而不是**WRAP_CONTENT**

对我很好。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-07-13T02:24:51.163

这是因为 InAnimation 和 OutAnimation 的持续时间比 flipInterval 时间短。

只要确保flipInterval 时间长于动画时间即可。

帮帮它。

# perl - 从输入中读取并将逗号分隔的值存储在哈希中

> ID：13062076
> 
> 赞同：0
> 
> 时间：2012-10-25T05:22:42.320
> 
> 标签：perl

我有一个这样的 Perl 问题：编写一个 Perl 程序，它将从给定的输入中读取一系列姓氏和电话号码。名称和数字应以逗号分隔。然后根据姓氏的字母顺序打印名称和数字。使用哈希。

知道如何解决这个问题吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:37:14.773

有不止一种方法可以做到这一点:)

```
my %phonebook;

while(<>) {
  chomp;
  my ($name, $phone) = split /,/;
  $phonebook{$name} = $phone;
}

print "$_ => $phonebook{$_}\n" for sort keys %phonebook; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T05:25:55.833

可能类似于以下内容。

```
my %hash;
foreach(<>){ #reads yor args from commandline or input-file
my @arr = split(/\,/); #split at comma, every line
$hash{$arr[0]} = $arr[1]; #assign to hash
}

#print hash here
foreach my $key (sort keys %hash ) #sort and iterate
{
    print "Name: " . $key . " Number: " . $hash{$key} . "\n";
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-25T10:41:55.790

像这样的任务是 perl 命令行开关的强项。有关更多信息，请参见[perldoc perlrun](http://p3rl.org/perlrun)！

**命令行输入**

```
$ perl -naF',\s*' -lE'$d{$F[0]}=$F[1];END{say"$_: $d{$_}"for sort keys%d}'
Moe, 12345
Pi, 31416
Homer, 54321 
```

**输出**

```
Homer: 54321
Moe: 12345
Pi: 31416 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-27T02:57:12.523

假设我们用逗号分割（通常应该使用[Text::CSV](http://p3rl.org)），我们实际上可以通过简单的[map](http://p3rl.org/map)函数和菱形运算符 ( [`<>`](http://p3rl.org/readline)) 的应用来创建这个散列。

```
#!/usr/bin/env perl

use strict;
use warnings;

my %phonebook = map { chomp; split /,/ } <>;
use Data::Dumper;
print Dumper \%phonebook; 
```

最后两行只是为了可视化结果，上面三行应该在所有脚本中。工作的重点都在一条线上完成。

# asp.net - 使用 Web.Config 登录 Asp.net 表单身份验证后重定向不起作用

> ID：13062081
> 
> 赞同：3
> 
> 时间：2012-10-25T05:23:07.603
> 
> 标签：asp.net, forms-authentication

我正在尝试通过将用户名和密码存储在 web.config 文件中来登录，如下所示

```
 <authentication mode="Forms">
  <forms loginUrl="Admin Login.aspx" defaultUrl="~/Home.aspx">
    <credentials>
      <user name="Admin"  password="123"  />

    </credentials>
  </forms>
</authentication> 
```

我在提交按钮上写了这段代码

```
 if (FormsAuthentication.Authenticate(TxtUsername.Text, TxtPassword.Text))
    {

        Response.Redirect(FormsAuthentication.GetRedirectUrl(TxtUsername.Text, false));
    } 
```

但它没有被重定向..有什么建议..？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T05:26:29.760

您需要[`FormsAuthentication.SetAuthCookie()`](http://msdn.microsoft.com/en-us/library/twk5762b.aspx)在重定向之前致电。

```
if (FormsAuthentication.Authenticate(TxtUsername.Text, TxtPassword.Text))
{
    FormsAuthentication.SetAuthCookie(TxtUsername.Text, false);
    Response.Redirect(FormsAuthentication.GetRedirectUrl(TxtUsername.Text, false));
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-25T09:37:22.917

真正的罪魁祸首是您的`credentials`标签..
将其更改为关注..它应该适合您..

```
..
<credentials passwordFormat="Clear">
     ... 
```

并且还使用

```
FormsAuthentication.RedirectFromLoginPage(TxtUsername.Text, false); 
```

身份验证后，这将设置 authCookie 并重定向到请求的页面或您的默认页面..

# hibernate - Hibernate Validator - 在实体验证失败后设置默认值

> ID：13062088
> 
> 赞同：6
> 
> 时间：2012-10-25T05:24:20.750
> 
> 标签：hibernate, hibernate-validator

我想在使用 Hibernate Validator 将它们插入数据库之前验证 EclipseLink 实体中的数据。

如果验证失败，那么我想在这些实体上设置默认值。然后我想将数据插入到数据库中，并使用相关的错误消息将这些实体标记为验证失败。

最好的方法是使用验证器的 isValid() 方法吗？

我是 Hibernate Validator 的新手，谷歌搜索并搜索了 stackoverflow，但找不到与我类似的问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-01-07T14:34:45.080

Hibernate 默认验证传递给 save()、persist() 或 update()... 的实体，然后才真正做之后的事情。

在您的情况下，您可以使用验证器自己验证您的对象。然后依赖于 ConstraintViolation 列表，您可以识别无效属性来填充默认值。

可以在[此处](http://hibernate.org/validator/documentation/getting-started/)找到使用 Hibernate 验证器 API 的示例。ValidatorFactory 是你的朋友。

# ios6 - 如何在 iOS 中制作同时支持纵向和横向的应用程序

> ID：13062095
> 
> 赞同：0
> 
> 时间：2012-10-25T05:25:04.023
> 
> 标签：ios6, landscape-portrait

我正在创建一个应该支持横向和纵向的 iOS 应用程序。所以我为这两个方向使用了 2 个视图。但现在的问题是我不知道如何连接`IBoutlets`到文件的所有者。我们不能将一`IBOutlet`组用于两种模式。我还没有完成任何支持这两种模式的应用程序。请任何人都可以告诉我如何解决这个问题。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T09:35:20.647

最后我按照这种方式找到了这个。我创建了 2 个视图并定义了单独的 IBOutlets 集。当改变方向时，我将一种模式中的值分配给另一种模式的出口值。这在`(void)didRotate:(NSNotification *)notification`

`

```
 -(void)didRotate:(NSNotification *)notification 
```

{

```
UIDeviceOrientation newOrientation = [[UIDevice currentDevice] orientation];
if (newOrientation != UIDeviceOrientationUnknown && newOrientation != UIDeviceOrientationFaceUp && newOrientation != UIDeviceOrientationFaceDown)
{
    if (orientation != newOrientation)
    {
        //ORIENTATION HAS CHANGED
        NSLog(@"Changed Orientation");

        // Do orientation logic
        if (
            ((newOrientation == UIDeviceOrientationLandscapeLeft || newOrientation == UIDeviceOrientationLandscapeRight)) &&
            ((orientation == UIDeviceOrientationPortrait || orientation == UIDeviceOrientationPortraitUpsideDown))
            )
        {
            NSLog(@"Changed Orientation To Landscape");
            self.orientationMode=@"landscape";
            self.txtInsidernameLandscape.text=self.txtInsiderName.text;
            self.txtCompanynameLandscape.text=self.txtCompanyName.text;
            self.txtAddressLandscape.text=self.txtAddress.text;
            self.txtPhoneLandscape.text=self.txtTelephone.text;
            self.txtEmailLandscape.text=self.txtEmail.text;

            // Clear the current view and insert the orientation specific view.
            [self clearCurrentView];
            [self.view insertSubview:mainLandscapeView atIndex:0];

            //Copy object states between views
            //SomeTextControlL.text = SomeTextControlP.text;
        }
        else if (
                 ((newOrientation == UIDeviceOrientationPortrait || newOrientation == UIDeviceOrientationPortraitUpsideDown)) &&
                 ((orientation == UIDeviceOrientationLandscapeLeft || orientation == UIDeviceOrientationLandscapeRight))
                 )
        {
            NSLog(@"Changed Orientation To Portrait");
            self.orientationMode=@"portrait";
            self.txtInsiderName.text=self.txtInsidernameLandscape.text;
            self.txtCompanyName.text=self.txtCompanynameLandscape.text;
            self.txtAddress.text=self.txtAddressLandscape.text;
            self.txtPhoneLandscape.text=self.txtPhoneLandscape.text;
            self.txtEmail.text=self.txtEmailLandscape.text;

            // Clear the current view and insert the orientation specific view.
            [self clearCurrentView];
            [self.view insertSubview:mainPortraitView atIndex:0];

            //Copy object states between views
            //SomeTextControlP.text = SomeTextControlL.text;
        }
        orientation = newOrientation;
    }

} 
```

} `

# objective-c - 如何从设备名称（UITableViewCell）的tableview中显示蓝牙支持的服务？

> ID：13062096
> 
> 赞同：2
> 
> 时间：2012-10-25T05:25:15.953
> 
> 标签：objective-c, ios, uitableview, ios5, core-bluetooth

我正在开发蓝牙应用程序。我在表格视图中有一个可用蓝牙设备的名称。如果按下设备意味着我想知道另一个带有表格视图的视图控制器中所有支持的服务 UUID 名称。给我一个想法。

1）外设管理器（NSObject）

2）FirstViewController（在这里我有一个设备名称）

3）SecondViewController（在这个我想要支持的服务）

外设管理器.m

```
- (void)centralManager:(CBCentralManager *)central 
didDiscoverPeripheral:(CBPeripheral *)peripheral 
 advertisementData:(NSDictionary *)advertisementData 
              RSSI:(NSNumber *)RSSI
{

    NSLog(@"didDiscoverPeriphera.peripheral: %@ rssi: %@, UUID:%@ advertisementData:%@", peripheral,RSSI,peripheral.UUID, [advertisementData description]);

   targetPeripheral = peripheral;
   peripheral.delegate = self;
if (!peripheral.isConnected)
{
   [centralManager connectPeripheral:peripheral options:nil];
} 
```

}

第一视图控制器.m

```
- (void)peripheralManagerDidConnectPeripheral:(PeripheralManager *)peripheral
{
   NSLog(@"%@",peripheral.deviceName);
   NSLog(@"%@",peripheral.rssi);
   [device addObject:[NSString stringWithFormat:@"%@",peripheral.deviceName]];  
   [self.deviceTable reloadData];
} 
```

表视图

```
-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
   static NSString *simpleTableIdentifier=@"Cell";

   UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:simpleTableIdentifier];
   if(cell==nil)
{
   cell =[[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:simpleTableIdentifier];
}
   cell.textLabel.text=[device objectAtIndex:indexPath.row];
   return cell;
}

-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{

} 
```

如果您想了解更多信息，请询问我。

请检查此链接[示例 iTunes 应用程序](https://itunes.apple.com/us/app/lightblue/id557428110?mt=8&ign-mpt=uo=4)

图片 ![在此处输入图像描述](../Images/c31090cdd9107b646ae28486b9fdcb77.png)

![在此处输入图像描述](../Images/20ba22e05b3454cadde5fc15527fea33.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-07T18:34:22.393

嗯...首先，你想要蓝牙低功耗，这与蓝牙有很大的不同。即使框架被称为蓝牙，而“普通”被称为 ExternalAccessory。正确的 ？

我不确定你的问题到底是什么。您是否尝试过 Apple 的样品：CoreBluetooth 温度传感器？甚至这两个样本（温度和心脏监测器）也可以工作，因为它们使用相同的框架。它将向您解释它的所有工作原理：外围设备 > 服务 > 特性。

# java - 只需要知道如何从数组中获取数字并将其相加即可。注意。号码将由用户给出。

> ID：13062101
> 
> 赞同：-2
> 
> 时间：2012-10-25T05:25:50.490
> 
> 标签：java, arrays

```
import java.util.*;

public class Revision {

static int[] num = new int[3];
static int i ;
static int sum;

public static void main(String arg[]) {
    System.out.print("Enter the 4 numbers");
    Scanner sc=new Scanner(System.in);
    sum=sc.nextInt();   
    for(i=0; i<num.length; i++) {
            sum=sum + num[i];
        }
    }
    System.out.print("Sum=" + sum);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T06:04:39.843

这是你想要的 ？

```
import java.util.*;

public class Revision {

static int NO_LIMIT = 4;
static int[] num = new int[NO_LIMIT];
static int i ;
static int sum;

public static void main(String arg[]) {

    Scanner sc=new Scanner(System.in);
    int count = 0;
    while(count < NO_LIMIT){
        System.out.print("Enter the number" + (count+1) +":");
        num[count] = sc.nextInt();
        count ++;
    }
    for(i=0; i<num.length; i++) {
            sum=sum + num[i];
        }

    System.out.print("Sum=" + sum);
}

} 
```

# asp.net - 创建空的 asp.net web 应用程序，添加一个 web api 控制器类......现在呢？

> ID：13062102
> 
> 赞同：0
> 
> 时间：2012-10-25T05:25:50.973
> 
> 标签：asp.net, visual-studio-2010, asp.net-web-api

这是我第一次尝试使用 asp.net web api。

我试过在调试模式下运行它，但我不确定要浏览什么。我可以在浏览器中放一个 url，还是必须创建一个带有花哨的标头或其他东西的特殊 http get 请求？我只想看到我的 web api 控制器在我浏览它时返回了一个东西列表。

任何帮助/指导表示赞赏。

*注意：我没有使用 MVC，它只是一个添加了 Web api 控制器类的空 Web 应用程序。*

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:08:49.377

我需要将以下使用添加到我的 global.asax 文件中

```
using System.Web.Routing;
using System.Web.Http; 
```

然后添加：

```
protected void Application_Start(object sender, EventArgs e)
{
    RouteTable.Routes.MapHttpRoute(
        name: "API Default",
        routeTemplate: "api/{controller}/{id}",
        defaults: new { id = RouteParameter.Optional }
    );
} 
```

感谢 marco709394 为我指明了正确的方向，感谢 Habib 提出了明智的建议，即创建一个新的 web api 项目——但不幸的是，我需要将 web api 添加到现有的 asp.net 4.0 web 应用程序中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T05:32:09.910

您只需浏览到与您的控制器对应的 url 即可获取获取请求

# c++ - 从工厂返回指针

> ID：13062106
> 
> 赞同：4
> 
> 时间：2012-10-25T05:26:13.757
> 
> 标签：c++, c++11, factory, smart-pointers

从工厂返回指针的最佳方法是什么？它应该是一个`std::unique_ptr`或`std::shared_ptr`只是一个原始指针？

另外，有人告诉我，`std::unique_ptr`如果有遏制和`std::shared_ptr`聚集，就应该去。这是正确的方法吗？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-25T05:34:33.717

您应该只在非常特殊的情况下考虑原始指针，例如通过 DLL 边界传递指针。

在`shared_ptr`和之间`unique_ptr`，我的意见是更喜欢后者。这使您的用户界面更加灵活。如果他们愿意，他们总是可以将返回`unique_ptr`的值转换为 a ，但更重要的是，他们还可以调用然后手动管理指针（这可能不是一个好主意，但它使选项保持打开状态）。`shared_ptr``unique_ptr::release`

如果您的工厂需要为返回的 分配自定义删除器，您应该注意的`unique_ptr`行为差异是，如果托管指针是 ，则前者不会调用删除器，但后者会。因此，如果您的工厂可能返回（可能作为失败条件），并且有人将 转换为 a ，那么请确保删除器可以处理作为其参数调用的处理。`unique_ptr``shared_ptr``nullptr``nullptr``unique_ptr``shared_ptr``nullptr`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T05:31:46.373

您当然不应该返回原始指针。我认为 std::unique_ptr 和 std::shared_ptr 在大多数情况下都一样好。但当然，标准的智能指针类并不是唯一的。例如，有些类实现了侵入式引用计数，人们实现了一个特殊的智能指针类来处理它们，通常称为 RefPtr。还有 COM 接口，有 CComPtr。

# emacs - 在 Emacs 中是否可以克隆 *grep* 或 *compile* 缓冲区并保留搜索/选择功能？

> ID：13062111
> 
> 赞同：3
> 
> 时间：2012-10-25T05:26:46.717
> 
> 标签：emacs, compiler-errors, grep

我用 grep 搜索恶意代码库并在 emacs 中查找。

我希望能够将 grep 的结果包括其上下文（即基本目录）和结果超链接存储到文件中，这样我就可以触发一堆其他 grep 调用，但仍然返回到较早的集合如果这些结果一无所获。

缓冲区的类似功能`*compile*`也会有所帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-25T05:48:26.657

您不需要克隆缓冲区。只需将`*grep*`缓冲区重命名为`M-x rename-buffer`. 然后下次你做 a`grep`时，它会创建一个新的`*grep*`缓冲区。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-25T05:26:46.717

好的，在尝试弄清楚如何提出问题时，我不小心找到了答案。

```
M-x clone-buffer 
```

`*grep*`会将缓冲区复制到`*grep*<n>`其所有属性不变的情况下，未来的 greps 将返回到正常`*grep*`缓冲区，从而使您的新克隆保持不变。

# performance - 什么是带宽需求？

> ID：13062114
> 
> 赞同：2
> 
> 时间：2012-10-25T05:26:58.320
> 
> 标签：performance, memory-management, language-agnostic, distributed-computing, bandwidth

带宽需求是什么意思？我已经看到它在本段中使用：

> “内存必须分布在处理器之间，而不是集中式；否则内存系统将无法支持大量处理器的**带宽需求，而不会产生较长的访问延迟”**

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T05:40:56.250

在这种情况下，“带宽需求”是指大型分布式应用程序所需的内存带宽量。它主要是指系统中节点之间的总流量。

* * *

考虑一个有街道和道路的城市。每天，人们都需要上下班。从 A 点到 B 点需要到达的总人数就是**带宽需求**。

根据城市的大小，这可能是一个非常大的数字。

*如果你让每个人都在同一个地方工作会发生什么？*

每天早上，每个人都起床并聚集在同一个“工作区”。结果是什么？

# 交通！

![](../Images/ce82c544b76df08fadc29362a1e65624.png)

[图片由 NOMAD 提供，来自 Wikipedia Commons：[http ://en.wikipedia.org/wiki/File:Trafficjamdelhi.jpg](http://en.wikipedia.org/wiki/File:Trafficjamdelhi.jpg)]

每个人都被堵在路上，他们要花很长时间才能上班（访问延迟高）。

* * *

分布式计算系统与城市没有太大区别。如果您没有正确分配内存，您将在网络中的某些通道上出现带宽拥塞。

例如，如果您的所有数据都集中在节点 X 上，并且所有其他节点都需要访问该数据，那么您将压倒所有进出节点 X 的数据通道。

相反，一个设计更好的系统将在网络上均匀地分布数据，并靠近将使用它们的处理器。这通过缩短通勤时间并将流量分配到所有通道而不是仅一个或几个通道来减少交通拥堵。

* * *

引用的意思是您需要正确分配内存以满足应用程序的高带宽需求。

# objective-c - NSError：在方法中传递错误

> ID：13062117
> 
> 赞同：2
> 
> 时间：2012-10-25T05:27:05.823
> 
> 标签：objective-c, ios, nserror

我不确定这是否正确：

```
- (void)parseSomething:(id)targetObject error:(NSError **)error {
    NSError *parserError = nil;
    [myParser parse:targetObject error:&parserError];

    if (parserError != nil) {
        *error = parserError;
    }
} 
```

该行：

```
*error = parserError; 
```

我将参数中的错误设置为本地错误，是否正确完成？

或者我应该这样做：

```
error = &parserError; 
```

反而？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-25T05:42:46.913

`error`在尝试取消引用之前，您需要确保它不是 nil。此外，不需要本地 NSError。它会这样写代码：

```
- (void)parseSomething:(id)targetObject error:(NSError **)error {
    [myParser parse:targetObject error:error];
} 
```

但是，如果您真的想要语言环境变量（或出于演示目的）。那么这个：

```
- (void)parseSomething:(id)targetObject error:(NSError **)error {
    NSError *parserError = nil;
    [myParser parse:targetObject error:&parserError];
    if (error && parserError) {
        *error = parserError;
    }
} 
```

此外，大多数具有`NSError`像这样的 out 参数的方法通常都有一个 BOOL 返回值或其他一些返回值来指示成功与否。您不应依赖错误参数来指示是否存在错误。

```
- (BOOL)parseSomething:(id)targetObject error:(NSError **)error {
    NSError *parserError = nil;
    BOOL ok = [myParser parse:targetObject error:&parserError];
    if (error && parserError) {
        *error = parserError;
    }

    return ok;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T05:46:48.210

在这种情况下，您可能希望在没有中间变量的情况下进一步传递错误。但是，您需要确保`myParser`对象正确处理错误参数。

```
- (void)parseSomething:(id)targetObject error:(NSError **)error
{
    [myParser parse:targetObject error:error];
} 
```

如果你想在这里处理它，你需要确保指向指针的指针`error`指向某个东西，否则在取消引用它时你会崩溃。

例如：方法是这样调用的

```
[object parseSomething:targetObject error:NULL]; 
```

以下行导致崩溃：

```
*error = parserError; 
```

正确的代码如下所示：

```
- (void)parseSomething:(id)targetObject error:(NSError**)error
{
    NSError* parserError = nil;
    [myParser parse:targetObject error:&parserError];
    if (error != nil)
    {
        *error = parserError;
    }
} 
```

什么时候是 nil 不是问题`parserError`，而是什么时候`error`是 nil。

# haskell - haskell 中的“实例”

> ID：13062120
> 
> 赞同：-4
> 
> 时间：2012-10-25T05:27:13.857
> 
> 标签：haskell

我无法理解这个“实例”在 Haskell 中的含义（第 19 行）：

```
16 > type Prog = [Function]
17 > data Function = Defun String String Exp
18 > --                deriving Show
19 > instance Show Function where
20 >   show (Defun n p e) = "\n" ++ n ++ "(" ++ p ++ ") { return " ++ show e ++ "; }\n"
21 >   showList [] = showString ""
22 >   showList (f:fs) = shows f . showl fs
23 >       where showl [] = showString ""
24 >             showl (f:fs) = shows f . showl fs 
```

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-25T06:03:08.270

阅读[类型类](http://www.haskell.org/tutorial/classes.html)。

`Show`是一个类型类，并且您正在`Show`为数据类型定义一个实例`Function`，因此您可以执行类似的操作

```
show (Defun "a" "b" someExpr) 
```

它会使用`Function`. 如果您来自 OO 背景，那么您可以考虑为数据类型重载`show`函数。`Function`

# validation - 圣杯 当我检查 html 5 标记验证服务时，我不想再收到这些错误： Error Line 159, Column 51: Attribute name not allowed on element meta at this point. &l 问问题 问问题 2012-10-25T05:27:15.323 2419 次 This question shows research effort; it is useful and clear 2 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. 当我检查 html 5 标记验证服务时，我不想再收到这些错误： Error Line 159, Column 51: Attribute name not allowed on element meta at this point.  Error Line 159, Column 51: Element meta is missing required attribute itemprop.  有没有办法解决这个问题？我需要 gsp 顶部的这个元标记来说明将使用哪个布局。 您收到的错误消息表明您在页面的部分中有该元素，而它应该在该部分中。 但是，“布局”不是HTML5 中元素的有效名称，因此您无法阻止验证器为此报告错误。 您可以尝试在WHATWG wiki上注册“布局”名称，但验证器需要一些时间才能赶上。 validationgrailsw3cmeta 4 1 回答 1 This answer is useful 4 您收到的错误消息表明您在页面的部分中有该元素，而它应该在该部分中。 但是，“布局”不是HTML5 中元素的有效名称，因此您无法阻止验证器为此报告错误。 您可以尝试在WHATWG wiki上注册“布局”名称，但验证器需要一些时间才能赶上。 于 2012-10-25T07:05:31.410 回答 Related 1 linux - 如何更改 Amazon EC2 实例的平台 1 instagram - Instagram 图片 URL 更改 2 ruby-on-rails - Rails - 从视图表单中获取值到控制器中 2 c# - 向 Kendo Grid 添加删除选项 2 shell - “expr”内置 Unix 命令的此处文档注释会产生奇怪的行为 2 variables - XSLT：增量变量和参数分配 2 java - 在将测试移至不同的包后，TeamCity 两次运行相同的测试 1 asp.net - ASP.NET 活跃用户计数和跟踪用户活动 0 .net - 如何在运行时使用 NameValueSectionHandler 类型的新部分更新配置文件？ 3 jquery - 如何将多个复选框值传递到数组中 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641

> ID：13062121
> 
> 赞同：2
> 
> 时间：
> 
> 标签：validation, grails, w3c, meta

当我检查 html 5 标记验证服务时，我不想再收到这些错误：

```
Error Line 159, Column 51: Attribute name not allowed on element meta at this point.

            <meta name="layout" content="main_profil"/>

Error Line 159, Column 51: Element meta is missing required attribute itemprop.

            <meta name="layout" content="main_profil"/> 
```

有没有办法解决这个问题？我需要 gsp 顶部的这个元标记来说明将使用哪个布局。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-25T07:05:31.410

您收到的错误消息表明您在页面的部分中有该`<meta>`元素`<body>`，而它应该在该`<head>`部分中。

但是，“布局”不是`<meta>`HTML5 中元素的有效名称，因此您无法阻止验证器为此报告错误。

[您可以尝试在WHATWG wiki](http://wiki.whatwg.org/wiki/MetaExtensions)上注册“布局”名称，但验证器需要一些时间才能赶上。

# jquery-animate - 如何打造推拉开门效果

> ID：13062124
> 
> 赞同：1
> 
> 时间：2012-10-25T05:27:30.593
> 
> 标签：jquery-animate, sliding-doors

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T05:37:30.710

Here's the corrected jsFiddle for the same: [http://jsfiddle.net/9zsdN/1/](http://jsfiddle.net/9zsdN/1/)

```
$("#open_close_doors").click(function(){ $("#leftdoor_inner").animate({"left": "-=50px"}, "slow");});​ 
```

It should be:

```
$(".open_close_doors").click(function(){
  $("#leftdoor_inner").animate({"left": "-=50px"}, "slow");
});​ 
```

The difference lies in the way you access an element. As you can see, when you access an element by class, you use " `.classsname`" instead of "~~`#classname`~~" as you have done.

"`#name`" is used for accessing elements by their id.

# php - 如果 current_time 比记录时间 php 多 1 天

> ID：13062125
> 
> 赞同：0
> 
> 时间：2012-10-25T05:27:42.327
> 
> 标签：php, mysql, datetime

> **可能重复：**
> [将一天添加到日期](https://stackoverflow.com/questions/1394791/adding-one-day-to-a-date)

我正在尝试为从 mysql 行中提取的值添加一天。所以返回的值是让我们说

```
2012-10-22 22:12:13 
```

我想成功

```
2012-11-22 22:12:13 
```

并将其存储在变量中，而不必将其间隔回mysql，然后将其拉回。

我试着做

```
$end_date_add = $enddate + 0000 . "-" . 00 . "-" . 01 . " " . 00 . ":" . 00 . ":" . 00; 
```

$end_date 是记录的时间，但它用零替换时间。我会错吗？非常感谢任何帮助，谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T05:38:35.310

这就是你想要的，我猜...

```
$date_old = strtotime("+1 MONTH", strtotime("2012-10-22 22:12:13"));

echo date("Y-m-d H:i:s", $date_old); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T05:54:50.447

您可以使用*strtotime*添加一个月的时间段：

```
$date   = '2012-10-22 22:12:13';
$format = 'Y-m-d H:i:s';
echo date($format, strtotime("$date +1 MONTH")); 
```

输出（[演示](http://codepad.viper-7.com/ASKTHZ)）：

```
2012-11-22 22:12:13 
```

您还可以使用 PHP 的*DateTime*类型并添加一天的*DateInterval ：*

```
$date   = '2012-10-22 22:12:13';
$format = 'Y-m-d H:i:s';
echo (new DateTime($date))->add(new DateInterval('P1M'))->format($format); 
```

输出（[演示](http://codepad.viper-7.com/jmmB1A)）：

```
2012-11-22 22:12:13 
```

上面的代码是 PHP 5.4，在 PHP 5.3 中你可以这样做：

```
echo date_add(new DateTime($date), new DateInterval('P1M'))->format($format); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-25T05:31:06.730

**添加日期**

```
$date = date("Y-m-d"); // current date
$date = strtotime(date("Y-m-d", strtotime($date)) . " +1 day");
$date = strtotime(date("Y-m-d", strtotime($date)) . " +1 week");
$date = strtotime(date("Y-m-d", strtotime($date)) . " +2 week");
$date = strtotime(date("Y-m-d", strtotime($date)) . " +1 month");
$date = strtotime(date("Y-m-d", strtotime($date)) . " +30 days"); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-25T05:39:29.003

这也可以作为 MYSQL 查询的一部分来完成

```
SELECT DATE_ADD(datecol, INTERVAL 1 DAY) AS 'datecol_plus_one' 
```

# c++ - Perfect Column Equation C++

> ID：13062127
> 
> 赞同：0
> 
> 时间：2012-10-25T05:27:57.087
> 
> 标签：c++, string, multiple-columns, output

I have an application that lets the user enter a string. I then count the string and put the number of characters next to it. The problem comes when I want put it in columns such as:

```
This is a Sentence                      The Len is 18
This is Another Sentence                The Len is 24
A                                       The Len is 1 
```

How would I calculate the setw() of the columns? str.size() and then something else I can't get it exactly right it's always wobbley.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T05:29:46.247

首先您需要计算最大字长，然后您需要将输出文本与最大长度对齐。就像是

```
int align = maxWordSize - curWord.size();
for(int i = 0; i < align; i++)cout << " "; 
```

还是我误解了什么？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T06:58:16.620

在这种情况下，用户输入的字符串的最大长度没有定义，并且可以变化，因此您可以为自己假设最大长度，并可以通过简单的计算来设置空间。

如果我们假设我们输入的字符串不会超过某个限制，那么我们可以通过 lenghtCol_pos 固定长度列的位置，如下所示，并且可以计算 stw 如下：

```
int lenghtCol_pos = 15;

string str ("Test string");

cout<<str<<stw( lenghtCol_pos-str.size() )<<"The Len is "<<str.size()<<endl; 
```

如果用户可以随意添加尽可能多的长字符串，那么我们可以将所有字符串存储在一个二维数组中，然后可以获得字符串的最大长度，并可以相应地设置 setw()。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-25T07:57:04.010

要对齐这样的东西，您首先必须收集内存中的所有字符串，可能在`std::vector<std::string>`. 然后，您可以使用 `std::max_element`以下比较功能来查找最长的：

```
struct CompareSize
{
    bool operator()( std::string const& lhs, std::string const& rhs ) const
    {
        return lhs.size() < rhs.size();
    }
}; 
```

之后，您可以设置`adjustfield`输出流的格式参数，然后`std::setw`在迭代字符串时使用，输出每个字符串，如下所示：

```
size_t longest = std::max_element( data.begin(), data.end(), CompareSize() )->size();
std::cout.setf( std::ios_base::left, std::ios_base::adjustfield );
for ( std::vector<std::string>::const_iterator current = data.begin(), end = data.end();
        current != end;
        ++ current ) {
    std::cout << std::setw( longest ) << *current
              << " The length is "
              << current->size()
              << std::endl; 
```

（当然，在实际代码中，您希望保存标志的初始值，并在完成循环后恢复它。否则，对`adjustfield`可能出现的任何数字输出的更改都会产生令人惊讶的结果。）

# c - Calculating vector x using backward substitution for upper triangular matrix given matrix 'a' and matrix 'b'

> ID：13062128
> 
> 赞同：0
> 
> 时间：2012-10-25T05:28:10.110
> 
> 标签：c

According to the pdf mentioned in below link, i need to calculate matrix 'x' given matrix 'A' and
matrix 'b' for upper triangular matrix using backward substitution.

**link: [http://www.mathcs.emory.edu/~haber/math315/chap3.pdf](http://www.mathcs.emory.edu/~haber/math315/chap3.pdf)**

Actually i need to use 1 dimensional array only. I have also developed logic for it and tried to
compile it, but actually it is having few errors of 'expression' and 'initialization' |1 2 3| |x0| |b0| |0 4 5| x |x1| = |b1| |0 0 6| |x2| |b2| equations:
1) 6*x2 = b2 2) 4*x1 + 5*x2 = b1 3) 1*x0 + 2*x1 + 3*x3 = b0

* * *

```
This is my code:
//here: 's' is size of matrix eg: for 3x3 it is 3
//x[] i need to get the result
//b[] it is to be multiplied with cm to get 
//cm[] is the matrix which will be multiplied with b[] to get x[]

    for(int p=s-1; p>0; p--)
        { 
        if(p==s-1)
            {
            x[p] = b[p]/cm[s*s];                        // computing x2
            }
        else
        {
                for(int j=0; int k=s-p; j<s-i; k>0; j++; k--)
                    {
                        c[p]+ = cm[s*p - j]*x[p+k];
                }
            }

        x[p] = (b[p] - c[p])/cm[s*p-(s-i)];
        }
Errors: 
1) variable 'x' may not be initialized
2) variable 'c' may not be initialized
3) expression for(int j=10; intk=s-p;j<s-i;k>0;j++;k--) has no effect
4) expected a ")" in point 3.
5) expected an expression in line  c[p]+ = cm[s*p - j]*x[p+k];
6) variable 'x' was set but never used

Please help me how to solve these errors?
Also let me know is my logic correct? 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-25T05:57:55.350

我希望仍然需要答案。代码的粗略想法是正确的，但是您有一些未定义的变量（例如**i**）以及与列主矩阵的操作有关的一些错误：

```
x[p] = b[p]/cm[s*s]; 
```

实际上必须是：

```
x[p] = b[p]/cm[s*s- 1]; 
```

只要我们在用 C 语言交谈。无论如何，我只是发布有效的代码：

```
void backward_substitution (double *A, double *b, double *x, int rows)
{
//here: 'rows' is size of matrix eg: for 3x3 it is 3
//x[] where we put the result of backward substitution
//b[] it is the vector to be used.
//A[] is the square triangular matrix.

register int i,j;

// x(m,1) = b(m)/A(m,m); %% this is for the last row.
x[rows-1] = b[rows-1]/A[(rows-1)*rows + (rows-1)];

// for i = m-1:-1:1     % i starts at 2, end at 4, w/ steps of 1
//    x(i,1) = ( b(i)- A(i,i+1:m)*x(i+1:m))  /  A(i,i);
// end

 for (i=(rows-2); i>=0; i--)
    {
      x[i] = b[i];        
        for (j=i+1; j<rows; j++)
        {
             x[i] -= A[(j)*rows + i]*x[j];
        };             
      x[i] = x[i] / A[(i)*rows + i];
    }; //for (i=1; i<rows; i++)
}; //void forward_substitution(double *A, double b*, int n) 
```

为方便起见，注释包含 MATLAB 中的实际实现。享受。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T05:42:20.283

我不知道你是否已经声明了你的变量，如果没有，那么请这样做，你应该`for`像我在下面写的那样编写你的第二个循环......

```
for(int j=0,int k=s-p; j<s-i, k>0; j++, k--) 
```

因为不止一个初始化，条件和增量必须用逗号分隔。

# android - how to get the emulator wallpaper?

> ID：13062130
> 
> 赞同：2
> 
> 时间：2012-10-25T05:28:16.523
> 
> 标签：android, android-emulator

![enter image description here](../Images/c6696c30356d2482f4de6a63855a1df3.png)

Hello guys,

We seen that in **emulator** we can set the different wallpaper, I need those wallpapers. I just want to know that where all those wallpaper resides, where can I find that wallpapers,

One place I found is in the `sdk-windows/System-Images/android-15/armeabi-v7a/system.img`, but that is not opened at all,

I just tried to open it with `PowerIso` , but it fails

is anybody know how can get that wallpaper then let me know ......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T06:03:40.523

最新果冻豆壁纸的步骤：

1.  在模拟器中启动果冻豆。

2.  使用`adb pull /system/app/Launcher2.apk`. *Launcher2.apk*文件将被复制到您的用户文件夹中。

3.  使用压缩/存档工具打开*Launcher2.apk 。*（例如，Linux 上的文件滚轮。）

4.  转到`/res/drawable-xhdpi/`存档，在那里你会找到`wallpaper_01.jpg`文件`wallpaper_12.jpg` 。这些是最高分辨率的系统壁纸。

# mysql - MySQL query and count from other table

> ID：13062133
> 
> 赞同：0
> 
> 时间：2012-10-25T05:28:23.470
> 
> 标签：mysql, sql, count

I would like to get the data from one table, and count all results from other table, depending on the first table data, here is what I tried:

```
SELECT
    cars.*, (
        SELECT
            COUNT(*)
        FROM
            uploads
        WHERE
            uploads.cid = cars.customer
    ) AS `count`,
FROM
    `cars`
WHERE
    customer = 11; 
```

I dont really have an idea why its not working, as I'm not a regular MySQL user/coder...

Could anyone direct me in the right direction with this one?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T05:31:53.310

```
SELECT
    c.*, COUNT(u.cid) AS count
FROM
    cars c
LEFT JOIN 
    uploads u
ON
    u.cid=c.customer
WHERE
    u.customer = 11;
GROUP BY c.cid 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T05:30:53.027

通过使用连接两个表来尝试`LEFT JOIN`

```
SELECT  a.customer, COUNT(b.cid) totalCount
FROM    cars a
        LEFT JOIN uploads b
            ON a.customer = b.cid
WHERE   a.customer = 11
GROUP BY a.customer 
```

使用`COUNT(*)`in`LEFT JOIN`将使记录的最小计数为 1。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-25T05:32:15.680

```
SELECT  cars.*,COUNT(uploads.*) as uplloaded 
from cars 
left outer join uploads on  uploads.cid = cars.customer
where  cars.customer = 11 
group by uploads.cid; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-25T05:32:33.673

尝试这个 ：

```
SELECT  customer, COUNT(cid) totalCount
FROM    cars 
        INNER JOIN uploads 
            ON (customer = cid)
WHERE   customer = 11
GROUP BY customer 
```

# c# - do csv file names need a specific pattern while being read with Microsoft.Jet.OLEDB.4.0 provider?

> ID：13062134
> 
> 赞同：2
> 
> 时间：2012-10-25T05:28:29.977
> 
> 标签：c#, .net, csv, oledb, jet

I've tried using the OleDb interfaces to read a CSV file, but I noticed something weird.

```
var filePath = @"C:\set2\orders3_1.csv";
var fileDirPath = Path.GetDirectoryName(filePath);
SqlBulkCopy bcp = new SqlBulkCopy("Data Source=.; Initial Catalog=indexer; Integrated Security=SSPI");
OleDbConnection cxn = new OleDbConnection();
cxn.ConnectionString = "Provider=Microsoft.Jet.OLEDB.4.0;Extended Properties='text;HDR=Yes;FMT=Delimited(,)';Data Source=" + fileDirPath;
OleDbCommand cmd = cxn.CreateCommand();
cmd.CommandText = string.Format("Select [OrderNumber] from [{0}]", Path.GetFileName(filePath));
cxn.Open();
var rdr = cmd.ExecuteReader();
bcp.DestinationTableName = "PersonTable";
bcp.WriteToServer(rdr);
rdr.Close();
cxn.Close(); 
```

When I put the file name as `orders3_1.csv` it reads okay. But when I modify the file name to `orders3.1.csv` the code runs into an exception saying it cannot find the file...

Is this a known issue with the JET providers?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T16:12:50.763

是的。Jet 对文件扩展名非常挑剔：

> 另一个潜在的问题是，默认情况下，您受限于（至少在 Access 中）可以使用的文件扩展名。开箱即用，您可以使用的唯一文件扩展名是 txt、csv、tab 和 asc。

-- [http://www.databasejournal.com/features/msaccess/article.php/3853531/Working-with-external-text-files-in-MS-Access.htm](http://www.databasejournal.com/features/msaccess/article.php/3853531/Working-with-external-text-files-in-MS-Access.htm)

您可以修改注册表以使其接受其他人。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T07:48:19.543

您必须将整个文件名用引号括起来，但因为这是一个文字字符串，请使用 \" 来转义它们

```
cxn.ConnectionString = String.Format("Provider=Microsoft.Jet.OLEDB.4.0;Extended Properties='text;HDR=Yes;FMT=Delimited(,)';Data Source=\"{0}\"",fileDirPath); 
```

更改代码中的上述行，它应该可以工作。

# python - Confused about `is` operator with strings

> ID：13062135
> 
> 赞同：7
> 
> 时间：2012-10-25T05:28:31.373
> 
> 标签：python, string

The `is` operator compares the memory addresses of two objects, and returns `True` if they're the same. Why, then, does it not work reliably with strings? **Code #1**

```
>>> a = "poi"
>>> b = "poi"
>>> a is b
True 
```

**Code #2**

```
>>> ktr = "today is a fine day"
>>> ptr = "today is a fine day"
>>> ktr is ptr
False 
```

I have created two strings whose content is the same but they are living on different memory addresses. Why is the output of the `is` operator not consistent?

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-25T05:38:23.900

我相信这与[字符串实习有关。](http://en.wikipedia.org/wiki/String_interning)本质上，这个想法是只存储每个不同字符串的一个副本，以提高某些操作的性能。

基本上，工作的原因`a is b`是因为（正如您可能已经猜到的）在这两种情况下，Python 都引用了一个不可变的字符串。当一个字符串很大时（很可能还有一些我不理解的其他因素），这没有完成，这就是你的第二个示例返回 False 的原因。

编辑：事实上，奇怪的行为似乎是交互环境的副作用。如果您使用相同的代码并将其放入 Python 脚本中，则两者都`a is b`返回`ktr is ptr`True。

```
a="poi"
b="poi"
print a is b  # Prints 'True'

ktr = "today is a fine day"
ptr = "today is a fine day"
print ktr is ptr  # Prints 'True' 
```

这是有道理的，因为 Python 很容易解析源文件并在其中查找重复的字符串文字。如果您动态创建字符串，那么即使在脚本中它的行为也会有所不同。

```
a="p" + "oi"
b="po" + "i"
print a is b  # Oddly enough, prints 'True'

ktr = "today is" + " a fine day"
ptr = "today is a f" + "ine day"
print ktr is ptr  # Prints 'False' 
```

至于为什么`a is b`仍然导致 True，也许分配的字符串小到足以保证快速搜索实习集合，而另一个不是？

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-25T05:33:17.853

`is`是身份测试。它适用于~~较小~~的某些字符串（因为缓存），但不适用于~~较大的~~其他字符串。由于 str 不是 ptr。[感谢埃克森]

请参阅此代码：

```
>>> import dis
>>> def fun():
...   str = 'today is a fine day'
...   ptr = 'today is a fine day'
...   return (str is ptr)
...
>>> dis.dis(fun)
  2           0 LOAD_CONST               1 ('today is a fine day')
              3 STORE_FAST               0 (str)

  3           6 LOAD_CONST               1 ('today is a fine day')
              9 STORE_FAST               1 (ptr)

  4          12 LOAD_FAST                0 (str)
             15 LOAD_FAST                1 (ptr)
             18 COMPARE_OP               8 (is)
             21 RETURN_VALUE

>>> id(str)
26652288
>>> id(ptr)
27604736
#hence this comparison returns false: ptr is str 
```

注意ID`str`注意和`ptr`不同。

但：

```
>>> x = "poi"
>>> y = "poi"
>>> id(x)
26650592
>>> id(y)
26650592
#hence this comparison returns true : x is y 
```

x 和 y 的 ID 相同。因此`is`，运算符在“ids”上工作，而不是在“equalities”上工作

有关 python 何时以及为什么会为相同的字符串分配不同的内存位置的讨论，请参见下面的链接（也请阅读问题）。

[python什么时候为相同的字符串分配新内存](https://stackoverflow.com/questions/2123925/when-does-python-allocate-new-memory-for-identical-strings)

同样`sys.intern`在 python3.x 和`intern`python2.x 上，应该可以帮助您将字符串分配到相同的内存位置，而不管字符串的大小。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-25T05:34:36.313

`is`不一样。*_*`==`

基本上，`is`检查两个对象是否相同，同时`==`比较这些对象的值（字符串，就像 python 中的所有东西一样，都是对象）。

因此，`is`当您真正知道您正在查看的对象时（即，您已经制作了对象，或者正在与`None`问题评论指出的进行比较），并且您想知道两个变量是否引用*完全相同时，您应该使用内存中的对象*。

但是，在您的示例中，您正在查看`str`python 在幕后处理的对象，因此如果不深入了解 python 的工作原理，您真的不知道会发生什么。`int`s 或s会有同样的问题`float`。其他答案很好地解释了“幕后”的东西（字符串实习），但您在日常编程中大多不必担心它。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-25T06:26:01.063

请注意，这是 CPython 特定的优化。如果你希望你的代码是可移植的，你应该避免它。例如，在 PyPy

```
>>>> a = "hi"
>>>> b = "hi"
>>>> a is b
False 
```

还值得指出的是，小整数也会发生类似的事情

```
>>> a = 12
>>> b = 12
>>> a is b
True 
```

您也不应该依赖它，因为其他实现可能不包括此优化。

# jquery-mobile - jQuery Mobile and Knockout.js Issues

> ID：13062136
> 
> 赞同：1
> 
> 时间：2012-10-25T05:28:32.210
> 
> 标签：jquery-mobile, knockout.js

Ive read alot about jQuery Mobile and Knockout.js not playing nice together. Should I ditch knockout.js for my mobile pages and stick with jquery mobiles javascript to handle my view updates? Is there a better option?

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T17:35:05.030

他们一起工作得很好。如果您使用 ko 的模板动态生成标记，或者您正在操作 CSS 或其他属性，您将需要手动调用 jquery mobile 的各种小部件方法。自定义绑定是另一种有效的方法。

```
$('#myButon').button('refresh');
$('#myListview').listview('refresh');
$("#myCheckboxList").checkboxradio("refresh"); 
```

如果您的标记除了文本值之外是静态的，那么它应该是显而易见的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T08:10:20.077

我刚刚开始了一个移动网站的新项目，JQM 和 KO 结合在一起，它们是很棒的框架，我从未见过它们有什么大问题。

# google-app-engine - Google App Engine render and Django forms

> ID：13062141
> 
> 赞同：1
> 
> 时间：2012-10-25T05:28:50.970
> 
> 标签：google-app-engine, django-forms, django-templates

I'm trying to use Django forms in my Google App Engine project, using the template system. However I can't figure out how to get forms to be rendered properly. When calling form.as_p () from python code I get the expected html,

```
<p><label for="id_name">Name:</label> <input type="text" name="name" id="id_name" /></p> 
```

yet when calling form.as_p from the template I instead get

```
&lt;p&gt;&lt;label for=&quot;id_name&quot;&gt;Name:&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;name&quot; id=&quot;id_name&quot; /&gt;&lt;/p&gt; 
```

Here is my render method

```
def render(self, name, **data):
    """Render a template"""
    if not data:
        data = {}
    self.response.out.write(template.render(
        os.path.join(
            os.path.dirname(__file__), 'templates', name + '.html'),
        data)) 
```

Render method being called:

```
form = PostForm()
self.render('toplevel', parent=user, items=user.establishments(), form=form) 
```

And finally the template:

```
{% block content %}

    {{ form.as_p }}

{% endblock content %} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T12:33:22.753

将模板中的表单更改为：

```
{% block content %}

    {{ form.as_p|safe }}

{% endblock content %} 
```

这应该可以防止 as_p 中的 HTML 被转义。请参阅：[https ://docs.djangoproject.com/en/dev/ref/templates/builtins/#safe](https://docs.djangoproject.com/en/dev/ref/templates/builtins/#safe)

# opengl - 如何使这个简单的 OpenGL 代码（在“宽松”3.3 和 4.2 配置文件中工作）在严格的 3.2 和 4.2 核心配置文件中工作？

> ID：13062149
> 
> 赞同：7
> 
> 时间：2012-10-25T05:29:39.560
> 
> 标签：opengl, go, opengl-3, opengl-4, vertex-attributes

我注意到一些 3D 代码不会在严格的核心配置文件中呈现，但在“正常”（未明确要求仅作为核心）配置文件上下文中很好。为了隔离这个问题，我编写了最小最简单的 OpenGL 程序，只绘制一个三角形和一个矩形：

![在此处输入图像描述](../Images/52954c6aec84d99329f26e925db6c5f5.png)

我已将 OpenGL 程序[作为 Gist 发布在这里](http://gist.github.com/3950516)。

将*useStrictCoreProfile*变量设置为 false 时，程序不会向控制台输出任何错误消息，并根据上面的屏幕截图在 Intel HD OpenGL 3.3 和带有 OpenGL 4.2 的 GeForce 上绘制一个四边形和一个三角形。

**但是**，将*useStrictCoreProfile*设置为 true 时，它​​会清除背景颜色但不会绘制 tri & quad，控制台输出是这样的：

```
GLCONN: OpenGL 3.2.0 @ NVIDIA Corporation GeForce GT 640M LE/PCIe/SSE2 (GLSL: 1.50 NVIDIA via Cg compiler)
LASTERR: OpenGL error at step 'render.VertexAttribPointer()': GL_INVALID_OPERATION
LASTERR: OpenGL error at step 'render.DrawArrays()': GL_INVALID_OPERATION
LASTERR: OpenGL error at step 'render.VertexAttribPointer()': GL_INVALID_OPERATION
LASTERR: OpenGL error at step 'render.DrawArrays()': GL_INVALID_OPERATION
LASTERR: OpenGL error at step '(post loop)': GL_INVALID_OPERATION
EXIT 
```

...如果请求 4.2 严格的核心配置文件而不是 3.2，同样的问题。适用于 3 个不同的 nvidia GPU，所以我认为我没有正确遵守严格的核心配置文件。我做错了什么，我该如何解决这个问题？

注意，你不会在上面的 Gist 中找到**glEnableVertexAttribArray调用，因为它**[在我正在导入的 glutil 包](http://github.com/go3d/go-util/blob/master/gl/shaders.go#L58)中——但这确实被称为 gist 的**compileShaders()**函数的最后一步。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-10-25T06:38:43.500

您不是使用[glGenVertexArrays()](https://www.opengl.org/wiki/GLAPI/glGenVertexArrays)和[glBindVertexArray()创建/绑定](https://www.opengl.org/wiki/GLAPI/glBindVertexArray)[顶点数组对象](https://www.opengl.org/wiki/Vertex_Specification#Vertex_Array_Object)。VAO 封装了一堆顶点属性状态，包括启用了哪些属性、每个属性的详细信息等。它们在最初引入该功能时是可选的，但根据第 10.4 节，它们现在在严格/核心上下文中是必需[的OpenGL核心规范](https://www.opengl.org/documentation/current_version/)：

> 当没有绑定顶点数组时，任何修改、绘制或查询顶点数组状态的命令都会生成 INVALID_OPERATION 错误。这发生在初始 GL 状态中，并且可能由于 BindVertexArray 或 DeleteVertexArrays 的副作用而发生。

这是一个关于如何使用 VAO 的非常粗略的示例：

```
// At initialization time:
GLuint vao = 0;
glGenVertexArrays(1, &vao);
glBindVertexArray(vao);
// Set up your vertex attribute state:
//  - glBindBuffer(GL_ARRAY_BUFFER,...);
//  - glEnableVertexAttribArray(...);
//  - glVertexAttribPointer(...);
//  - etc. -- Refer to OpenGL docs to see what is/isn't included in the VAO!
glBindVertexArray(0); // unbinds vao

// At draw time:
glBindVertexArray(vao); // automatically sets up previously-bound vertex attribute state
glDrawArrays(...);
glBindVertexArray(0); // unbinds vao 
```

# jquery - 选择顶级兄弟姐妹而不为他们分配班级

> ID：13062150
> 
> 赞同：1
> 
> 时间：2012-10-25T05:29:40.513
> 
> 标签：jquery, jquery-selectors, siblings

我正在尝试使用 jquery 选择顶级兄弟姐妹。我不能使用使任务更加困难的类名。

```
<ul>  
<li>  
    <a href="index.html">1</a>
    <ul>
        <li>  
            <a href="indexsub.html">sub1</a>  
        </li>
        <li>  
            <a href="indexsub2.html">sub2</a>  
        </li>
    </ul>  
</li>  
<li>  
<a href="index2.html">2</a>  
</li>
<li>  
<a href="index3.html">3</a>
</li>
</ul>​ 
```

以下是 JSfiddle 的链接。

[http://jsfiddle.net/KMhzy/28/](http://jsfiddle.net/KMhzy/28/)

我想更改除子列表元素（即 sub1 和 sub2）之外的所有标签的 href="#"。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T05:35:53.590

使用`.not`和的组合`contains`

```
$("ul li a").not(":contains('sub1')").attr("href","#"); 
```

**更新**

**[参考](https://stackoverflow.com/questions/2890334/contains-for-multiple-words)**

**[演示](http://jsfiddle.net/pintu31/DutpR/1/)**

```
jQuery.expr[':'].containsAny = function(element, index, match) {
var words = match[3].split(/\s+/);
var text = $(element).text();
var results = $.map(words, function(word) {
    return text === word;
});
return $.inArray(true, results) !== -1;
};

$("ul li a").not(":containsAny(sub1 sub2)").attr("href","#");​ 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T05:35:00.860

试试这个：

```
$('ul li a[href!="indexsub.html"]').attr("href","#"); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-25T05:50:48.897

首先，您必须更改 HTML（嵌套菜单中缺少 ul）：

```
<ul>
    <li>
        <a href="index.html">1</a>
        <ul>
            <li>
                <a href="indexsub.html">sub1</a>
            </li>   
        </ul>
    </li>
    <li>
        <a href="index2.html">2</a>
    </li>
    <li>
        <a href="index3.html">3</a>
    </li>
</ul>​ 
```

接下来，您可以通过以下方式实现您想要的：

```
$("ul li a").not("ul li li a").attr("href", "#"); 
```

（这里提出的其他解决方案被硬编码为一些 'sub1' 值，如果这是你想要的，这应该对所有子菜单都有效）。

这是一个[jsfiddle](http://jsfiddle.net/ALf5U/2/)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-25T05:41:53.547

**注意：** A`ul`只能有列表项，并且在列表项中添加另一个列表项而不定义 a`ul`或`ol`标记被认为是错误的语法。

根据 W3C 标准正确标记：

```
<ul>  
    <li>  
        <a href="index.html">1</a>
        <ul> 
            <li>  
                <a href="indexsub.html">sub1</a>  
            </li>  
       </ul>  
   </li>
   <li>  
       <a href="index2.html">2</a>  
   </li>
   <li>  
       <a href="index3.html">3</a>
   </li>
 </ul>​ 
```

**Pragnesh Chauhan**建议的代码按预期工作。

```
$("ul li a").not(":contains('sub1')").attr("href","#"); 
```

[**看演示**](http://jsfiddle.net/jYJLM/)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-25T05:59:04.393

这就是你想要的：

```
$("ul li:first-child a").attr("href","#"); 
```

​ 和 jsFiddle 一样：http: [//jsfiddle.net/KMhzy/43/](http://jsfiddle.net/KMhzy/43/)

PS：它也适用于多个孩子...... :)

# objective-c - 在 nsuserdefaults 中设置值

> ID：13062158
> 
> 赞同：0
> 
> 时间：2012-10-25T05:30:35.087
> 
> 标签：objective-c, ios, cocoa-touch

我是 Objective-C 和 XCode 的新手，我遇到过这样的问题。

您如何正确地将值保存到`NSUserDefaults`.

我有价值

```
[_textFields objectAtIndex:2]).text 
```

并试图做到这一点

```
[[[NSUserDefaults standardUserDefaults] setValue:((UITextField *)[_textFields objectAtIndex:2]).text))  forKey:@"Phone"];
[[NSUserDefaults standardUserDefaults] synchronize]; 
```

你如何正确地做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T05:36:04.187

使用`setObject:forKey:`代替`setValue:forKey:`

```
[[[NSUserDefaults standardUserDefaults] setObject:((UITextField *)[_textFields objectAtIndex:2]).text)) forKey:@"Phone"]; 
```

更新：如果数组中确实有该文本字段，则您的代码将起作用。以下是逐步分解的代码，以使其更清晰：

```
UITextField* textField = [_textFields objectAtIndex:2]; // get your text field
NSString* text = textField.text; // get the actual value we are going to store
[[[NSUserDefaults standardUserDefaults] setObject:text forKey:@"Phone"]; // store it 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T06:17:32.463

您正在使用字符串值。您应该使用 setObjectForKey（保存）和 objectForKey（读取）。这是一个例子

```
NSUserDefaults *userDefaults = [NSUserDefaults standardUserDefaults];
NSString *yourText = [[_textFields objectAtIndex:2] text]; // Your text

// Save
[userDefaults setObject:yourText forKey:kKey];
[userDefaults synchronize];

// Read
NSString *result = (NSString *) [userDefaults objectForKey:kKey]; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-26T06:11:57.430

使用方法`setObject:forKey:`代替`setValue:forKey:`

在`NSUserDefaults`课堂上：

```
[[NSUserDefaults standardUserDefaults] setObject:"Your Object" forKey:@"Phone"]; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-25T05:34:53.850

`setObject:forKey:`如果您想将属性列表对象（字典、数组、字符串和数字）存储在`NSUserDefaults`. [请参阅文档。](https://developer.apple.com/library/mac/ipad/#documentation/Cocoa/Reference/Foundation/Classes/NSUserDefaults_Class/Reference/Reference.html)

# c# - 如何使用 SqlCeParameterCollection？

> ID：13062162
> 
> 赞同：1
> 
> 时间：2012-10-25T05:31:11.123
> 
> 标签：c#, .net, sql-server-ce

我想确切地知道我们如何在 C# .NET 4.0 Form Application 上做这些事情：

*   声明 SqlCeParameterCollection 对象
*   向集合中添加参数
*   将集合添加到命令

以下是我当前代码的示例：

*   声明和添加

    ```
    SqlCeParameterCollection Parameters = new SqlCeCommand().Parameters;
    Parameters.Add("username", Username);
    Parameters.Add("password", Password); 
    ```

现在如何立即将此集合添加到命令中？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T05:51:58.483

试试这个：

```
string query = "...(whatever you need).....";

using(SqlCeConnection conn = new SqlCeConnection(connectionString))
using(SqlCeCommand cmd = new SqlCeCommand(query, conn))
{ 
    // just add parameters directly to SqlCeCommand object .... 
    cmd.Parameters.Add("username", Username);
    cmd.Parameters.Add("password", Password);

    conn.Open();
    cmd.ExecuteNonQuery();  // or whatever you need to do 
    conn.Close();
} 
```

如果您**必须预先**单独设置参数，那么您需要执行以下操作（因为您不能直接使用`SqlCeParameterCollection`）：

```
List<SqlCeParameters> parameters = new List<SqlCeParameters>();

parameters.Add(new SqlCeParameter(.....));
parameters.Add(new SqlCeParameter(.....));

string query = "...(whatever you need).....";

using(SqlCeConnection conn = new SqlCeConnection(connectionString))
using(SqlCeCommand cmd = new SqlCeCommand(query, conn))
{ 
    // add all parameters from the list - casting to an array
    cmd.Parameters.AddRange(parameters.ToArray());

    conn.Open();
    cmd.ExecuteNonQuery();  // or whatever you need to do 
    conn.Close();
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T05:40:30.267

`SqlCeCommand.Parameters`是[只读](http://msdn.microsoft.com/en-US/library/system.data.sqlserverce.sqlcecommand.parameters%28v=vs.100%29.aspx)的，所以你不能`SqlParametersCollection`直接给这个属性分配一个新的。

您通常希望使用[CreateCommand](http://msdn.microsoft.com/en-us/library/system.data.sqlserverce.sqlceconnection.createcommand%28v=vs.100%29.aspx)工厂方法`SqlCeConnection`来创建命令（因为它将为您链接连接）。

然后你`command.Parameters`直接使用：

```
SqlCeCommand cmd = con.CreateCommand();
// cmd.CommandType = ...; cmd.CommandText = ...
cmd.Parameters.Add("username", Username);
cmd.Parameters.Add("password", Password); 
```

# perforce - 使用 Perforce 管理不同的项目

> ID：13062163
> 
> 赞同：2
> 
> 时间：2012-10-25T05:31:15.943
> 
> 标签：perforce

我是使用 Perforce 的新手，我面临着两难境地。我正在从事两个不同的项目，我试图弄清楚是否有任何方法可以将它们之间的修订号分开。

设置是这样的：

*   Depot 1 存储 Project 1，我使用 Workspace 1 处理它
*   Depot 2 存储项目 2，我使用 Workspace 2 处理它

但是，它们没有单独的变更列表编号（在查看历史时），这有点令人困惑（也与不同的人一起工作）。每当我从任何一个项目提交时，相同的修订号都会上升。

有没有办法让两个项目的修订计数器分开？

编辑：仔细检查后，实际文件的修订是分开的，这是 Perforce 在 depot 之间切换时如何显示更改列表（？）编号的问题吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T14:28:22.880

不同项目中的文件每个都有自己的历史记录，每个文件都有自己的修订号，同时还有存储库范围的方法来引用整个存储库中的时间瞬间，例如按日期和更改编号。

尝试查看“p4 帮助文件”、“p4 帮助修订版”和“p4 帮助文件日志”以了解各种技术。

还要安装 P4V 并熟悉使用 Time-Lapse View、Revision Graph 和 Folder Diff 等工具，因为在比较存储库中不同项目之间的不同工作时，这些工具非常重要。

最后，标签可以帮助您将逻辑助记名称与特定的修订集相关联，因此请查看“p4 help label”和“p4 help tag”。

# r - 多次重复一个矩阵，得到一个矩阵名称的向量

> ID：13062164
> 
> 赞同：0
> 
> 时间：2012-10-25T05:31:17.430
> 
> 标签：r

我有一个基本矩阵`mat`，我希望得到一个重复 100 次`x = (mat, mat, ...)`的R 对象。`mat`如果这是可能的，那么我可以传递`x`给一个接受矩阵名称向量的函数。我试过`rep(mat, 100)`了，但似乎不再维护矩阵类。有什么建议么？谢谢！

更新：基本上我打算使用

```
grp.ids <- as.factor(c(rep(1,8), rep(2,4), rep(3,2)))
x <- model.matrix(~grp.ids)
do.call(blockMatrixDiagonal,
             replicate(100, x, simplify=FALSE)) 
```

在哪里`blockMatrixDiagonal`可以找到函数[here](http://www.r-bloggers.com/block-diagonal-matrices-in-r/)。然后R给出一个错误：要替换的项目数不是替换长度的倍数。我真正希望通过这些编码得到的是块对角矩阵。谢谢 ：）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T09:42:30.583

您的输入矩阵不适合构建*块对角矩阵*，因为它不是方阵（即行数等于列数）。

让我引用两个关于块对角矩阵的资源。

1)[维基百科](https://en.wikipedia.org/wiki/Block_matrix#Block_diagonal_matrices)：

> 块对角矩阵是块矩阵，它是方阵，并且具有主对角块方阵

2) 功能说明[`blockMatrixDiagonal`](http://www.r-bloggers.com/block-diagonal-matrices-in-r/)：

> 构建一个块矩阵，其对角线是提供的方阵.

* * *

您可以将非方阵与`adiag`package中的函数结合起来`magic`。使用您的矩阵`x`：

```
library(magic)
do.call(adiag, replicate(100, x, simplify = FALSE)) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-10-11T22:24:08.297

对于基本 R 解决方案，请查看`kronecker`

```
?kronecker
# For your block diagonal matrix:
kronecker(diag(1, 100), x)
# or with `%x%` alias
diag(1, 100) %x% x

# example 1
m <- matrix(1:6, nrow = 3)
kronecker(diag(1, 2), m)
#      [,1] [,2] [,3] [,4]
# [1,]    1    4    0    0
# [2,]    2    5    0    0
# [3,]    3    6    0    0
# [4,]    0    0    1    4
# [5,]    0    0    2    5
# [6,]    0    0    3    6

# example 2
matrix(1, nrow = 2, ncol = 3) %x% m
#      [,1] [,2] [,3] [,4] [,5] [,6]
# [1,]    1    4    1    4    1    4
# [2,]    2    5    2    5    2    5
# [3,]    3    6    3    6    3    6
# [4,]    1    4    1    4    1    4
# [5,]    2    5    2    5    2    5
# [6,]    3    6    3    6    3    6 
```

# command-line - 如何在 postgreSQL linux 中执行多个 sql 文件？

> ID：13062168
> 
> 赞同：6
> 
> 时间：2012-10-25T05:31:23.143
> 
> 标签：command-line, postgresql-9.1, sql-scripts

我在 linux debian 的文件夹（/home/myHSH/scripts）中有许多 .sql 文件。我想知道将文件夹内的所有 sql 文件执行或运行到 postgreSQL v9.1 数据库中的命令。

PostgreSQL 资料：

```
Database name=coolDB
User name=coolUser 
```

很高兴：如果您知道如何通过 GUI 工具（如 pgAdmin3）执行多个 sql 文件。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-10-25T05:39:22.433

从您的命令行，假设您使用 Bash 或 ZSH（简而言之，除了 csh/tcsh 之外的任何东西）：

```
for f in *.sql;
do
    psql coolDB coolUser -f "$f"
done 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2020-05-19T16:54:27.060

该`find`命令与`-exec`or结合使用`xargs`可以使这变得非常容易。

如果你想`psql`每个文件执行一次，你可以使用这样的`exec`命令

```
find . -iname "*.sql" -exec psql -U username -d databasename -q -f {} \; 
```

`-exec`每个结果将执行一次命令。

该命令允许您通过使用新参数`psql`调用每个文件来指定多个文件。`-f`例如，您可以构建一个命令，例如

```
psql -U username -d databasename -q -f file1 -f file2 
```

这可以通过将 的结果`find`传送到`xargs`命令一次以使用 -f 参数格式化文件然后再次执行命令本身来完成。

```
find . -iname "*.sql" | xargs printf -- ' -f %s' | xargs -t psql -U username -d databasename -q 
```

# javascript - jquery 链接远程默认选中

> ID：13062179
> 
> 赞同：0
> 
> 时间：2012-10-25T05:31:57.807
> 
> 标签：javascript, jquery, chained

我正在使用 Chained Selects jQuery Plugin 链接几个选择，

我有一个远程链接的下拉菜单，我想在其中选择一个特定的选项。现在它默认为第一个。

任何代码示例表示赞赏。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-08T03:02:15.120

Ok Guys 解决了我自己的问题，您只需要在 JSON 响应中传递一个带有“已选择”键的附加元素。例如，如果需要默认选择“7 系列”，则如下面的示例所示。

{ "":"--","series-1":"1 系列","series-3":"3 系列","series-5":"5 系列","series-6":"6系列","series-7":"7 系列","selected":"series-7"}

# memory-management - Lazarus Pascal - 如何在运行时移除按钮

> ID：13062181
> 
> 赞同：2
> 
> 时间：2012-10-25T05:32:07.587
> 
> 标签：memory-management, lazarus, freepascal, destroy

我正在像这样在表单上动态创建命令按钮：

```
procedure TForm1.cmdAddClick(Sender: TObject);

var   MenuButton : TButton;

begin   MenuButton := TButton.Create(self);

ButtonCount:=ButtonCount + 1; 
```

用 MenuButton 做

```
 begin
   Top:= 10 + Height * ButtonCount;

   Left := 10; 
   Parent := Panel1; //Parent container for the buttons.
   OnClick := @YouClicked;
   Caption := 'Menu item ' + IntToStr(ButtonCount);

 end;

end; 
```

运行上述几行几次后，我有许多按钮。

但是如何删除特定按钮？

我试过了

```
FreeAndNil (TButton(Sender)); 
```

但这似乎不起作用...

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T06:44:44.987

该按钮也必须从层次结构中删除。由 TForm.RemoveComponent 完成的 IIRC？

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-30T07:27:53.110

从 YouClicked 事件内部销毁按钮似乎存在问题（使用 Sender）。

如果我将对象指针保留在按钮上，这在 YouClicked 之外有效：

```
TheMenuButton.Free; 
```

按钮（控件）的析构函数处理父级中的清理。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-30T07:59:39.707

```
procedure TForm1.FormCreate(Sender: TObject);
begin
  TestButton:=TButton.Create(Panel1);
  TestButton.SetBounds(10, 10, 80, 25);
  TestButton.OnClick:=@TestButtonClick;
  TestButton.Parent:=Panel1;
end;

procedure TForm1.TestButtonClick(Sender: TObject);
begin
  FreeAndNil(TestButton);  // Crash!
end;

procedure TForm1.AnotherButtonClick(Sender: TObject);
begin
  FreeAndNil(TestButton);  // Works...
end; 
```

# java - 如何将堆栈传递给方法

> ID：13062184
> 
> 赞同：0
> 
> 时间：2012-10-25T05:32:23.843
> 
> 标签：java, stack, rpn

我正在重建一个堆栈计算器，所以它是递归的。但是，我收到一个错误：

```
stacks2.java:29: illegal start of expression
public calculate(Stack<String> stack) {
^
stacks2.java:29: ';' expected
public calculate(Stack<String> stack) { 
```

您如何正确地将堆栈传递给方法。

```
import java.util.*;

public class stacks2 {

public static void main (String []args){
System.out.printf("Enter a math equation in reverse polish notation:\n");

//Create stack of Strings
Stack<String> rpnStack = new Stack<String>();
//Create Scanner 
Scanner input = new Scanner(System.in);
//String in = input.next();

while(input != null) {
    String in = input.next();
        // Tokenize string based on spaces.
        StringTokenizer st = new StringTokenizer(in, " ", false);
            while (st.hasMoreTokens()) {
             rpnStack.push(st.nextToken());
         }
    //Send stack to Calculation Method
    calculate(rpnStack);
     }
}

public static void calculate(Stack<String> stack) {
    // Base case: stack is empty => Error, or finished
    if (!stack.isEmpty())
      // throw new StackUnderflowException("Empty Stack");

    // Base case: stack has 1 element, which is the answer => finished
    if (stack.size(1))
        System.out.printf("Finished, Answer: %f\n",stack.peek());

    // Recursive case: stack more elements on it.
    if (stack.size() > 1){
        String temp1 = stack.peek();
        stack.pop();
        String temp2 = stack.peek();
        stack.pop();
        String temp3 = stack.peek();
        stack.pop();

            if (temp3.equals("+")){
            float resultant = Float.parseFloat(temp1) + Float.parseFloat(temp2);
            stack.push(String.valueOf(resultant));
            //System.out.println(resultant);
            calculate(stack);
            }

            if (temp3.equals("-")){
            float resultant = Float.parseFloat(temp1) - Float.parseFloat(temp2);
            stack.push(String.valueOf(resultant)); 
            //System.out.println(resultant);
            calculate(stack);
            }

            else if (temp3.equals("*")){
            float resultant = Float.parseFloat(temp1) * Float.parseFloat(temp2);
            stack.push(String.valueOf(resultant)); 
            //System.out.println(resultant);
            calculate(stack);
            }

            else if (temp3.equals("/")){
            float resultant = Float.parseFloat(temp1) / Float.parseFloat(temp2);
            stack.push(String.valueOf(resultant)); 
            //System.out.println(resultant);
            calculate(stack);
            }

            else{
            System.out.printf("Something severely has gone wrong.");
            }
        }  
    }
} 
```

代码简要描述：我做了一个堆栈，通过字符串标记器用用户输入填充它。然后我想将它传递给我的计算方法。它应该\应该反复询问用户RPN中的表达式，如果表达式有效，则计算结果，否则宣布错误。为此，我相信我必须计算，如果 RPN 格式错误，则在计算过程中停止。我排在前三根弦上。临时三应该始终是操作员。如果不是，则 RPN 的格式不正确。如果代码为空，则程序抛出下溢异常。当有 1 个元素时，我将其返回以获取答案。我相信我的 if 陈述是正确的。所以是的，我想看看它是否有效，但是现在传递堆栈有点阻碍我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T05:34:18.773

你需要给`return type`你的方法一个。此外，由于您是直接从您的`main`方法调用它，它应该是静态的。因此，将您的方法声明更改为： -

```
public static void calculate(Stack<String> stack) 
```

此外，您在循环`main`之后错过了方法的右括号。`while`你需要在那里放一个额外的花括号。

***PS： -*** Java 中的类名应该总是在`CamelCase`每个单词的第一个字母应该在`UpperCase`. 此外，类名应始终为`singular`not`plurals`。

所以，`stacks2`真的应该`Stack2`，甚至更好，你可以命名它`MyStack`

**您使用过：-**

```
Float.parseFloat(temp2);// Convert temp2 into a float 
```

没有任何 L 值。`Float.parseFloat`返回原始浮点值。你需要把它存放在某个地方，否则它是没有用的。

所以，**你应该替换**下面的代码： -

```
Float.parseFloat(temp2);
Float.parseFloat(temp1);
float resultant = temp1 * temp2; 
```

和： -

```
float resultant = Float.parseFloat(temp1) * Float.parseFloat(temp2); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-25T05:34:13.627

你需要把`}`main函数结束。您误以为`}`它是 while 循环的结尾。

# android - 如何将 pinterest 与 Android 应用程序集成

> ID：13062195
> 
> 赞同：0
> 
> 时间：2012-10-25T05:33:26.757
> 
> 标签：android, pinterest

我需要将一些文本和图像从我的 android 应用程序分享到 Pinterest，这怎么可能？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T05:40:08.130

Pinterest 的 API 已关闭，他们没有记录它，也没有提供任何解释或方法来注册应用程序以便能够使用它。

基本上，他们不希望任何人制作与他们的网站交互的应用程序，尽管这是可能的（例如，您可以在后台运行 Web 浏览器并让它打开页面，就像网站上的用户一样) 这并不是真正“打算”完成的，所以这并不容易：/

# javascript - 如何销毁所有 jQuery UI 小部件？

> ID：13062196
> 
> 赞同：3
> 
> 时间：2012-10-25T05:33:30.503
> 
> 标签：javascript, jquery, ajax, jquery-ui, jquery-ui-widget

我使用 jQuery 和 jQuery UI 开发了一个大型“单页应用程序”。当我在应用程序中加载各个部分时，它会创建 jQuery UI 小部件，例如对话框或日期选择器。当我重新加载某些部分时，它们往往会徘徊并引起一些问题。我希望能够调用一个函数来销毁所有已加载的 jQuery UI 小部件并将它们从 DOM 中删除。有什么办法可以全部抓到吗？谢谢！

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-25T05:48:02.217

理论上，定位和销毁页面上特定类型的所有小部件很容易：

```
$(":ui-draggable").draggable("destroy"); 
```

因此，围绕您知道正在使用的一系列小部件类型创建一个循环并删除列表中的每种小部件并不是不可想象的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-25T06:00:26.423

使用`remove()`或`detach()`清除您的 jquery UI 小部件的内容，这就是区别

[remove()](http://api.jquery.com/remove/)从 DOM 中完全删除匹配的元素。

[detach()](http://api.jquery.com/detach/)类似于 remove()，但保留与匹配元素关联的存储数据和事件。

# linux - 无法在 linux 内核中卸载模块

> ID：13062198
> 
> 赞同：2
> 
> 时间：2012-10-25T05:33:40.987
> 
> 标签：linux, kernel

我只是想在linux中注册一个网络设备，所以我写了一个小程序来注册一个网络设备。c 程序包含仅注册网络设备的代码。做完之后

```
# insmod net_device.ko 
```

我能看到`net_device`在 /proc/modules 文件中看到。

当我做

```
# rmmod net_device 
```

**输出：**

```
Device busy or Resource busy 
```

然后我尝试了

```
# rmmod -f net_device 
```

**输出：**

```
Device busy or Resource busy 
```

当我做

```
# modprobe -rf net_device 
net_device  module not found 
```

我在**内核 2.6.34.13中启用了****CONFIG_MODULE_FORCE_UNLOAD=Y**。

 **当我看到`/proc/modules`是

```
net_device 12383 1 Loading 0xf423 (p+) 
```

**p+**是什么意思

 **有没有其他方法可以杀死模块？

谢谢****

# java - 使用通配符导入 java 包的含义

> ID：13062199
> 
> 赞同：2
> 
> 时间：2012-10-25T05:33:47.007
> 
> 标签：java

> **可能重复：**
> [为什么在 Java 导入语句中使用通配符不好？](https://stackoverflow.com/questions/147454/why-is-using-a-wild-card-with-a-java-import-statement-bad)
> [通配符导入和所需类导入之间的性能差异](https://stackoverflow.com/questions/7128348/performance-difference-between-a-wild-card-import-and-the-required-class-import)

使用导入 java 包`.*`与显式指定包有什么含义。例如，

```
import java.lang.annotation.Annotation; 
```

代替

```
import java.lang.annotation.*; 
```

使用通配符时编译时或运行时是否有惩罚？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-25T05:36:20.843

对运行时间完全没有影响。

通配符导入在编译时可能会稍微慢一些，但我认为您不需要关心。

# android - 用android phonegap加载邮件，点击附件没有反应

> ID：13062209
> 
> 赞同：2
> 
> 时间：2012-10-25T05:34:29.143
> 
> 标签：android, cordova, webview

单击附件时，使用 chorme 加载 url 我可以获取文件目录并选择文件

```
public class MainEmailActivity extends DroidGap {

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        super.loadUrl("//a email host address");
    }
} 
```

# java - NullPointerException 写入文件的程序出错

> ID：13062215
> 
> 赞同：1
> 
> 时间：2012-10-25T05:35:17.393
> 
> 标签：java, error-handling

我正在尝试将**字符串打印到文件**中。我做错了什么，它总是给我一个 NullPointException？我相信我的异常捕获了某些东西或需要一个参数，但我没有输入它。但是哪里？

我已经编写了这段代码，其中包含主要功能。

**编辑**：从底部开始的第二行出现错误`some.items[0]="Testing One!";`。

```
import java.io.*;

public class StringPrinter {
            public String[] items;
            public File file;
            public StringPrinter(String fileName){
                    file = new File(fileName);}

            public void toFile(){
                    try{
                        PrintWriter pw = new PrintWriter(new FileWriter(file, false));
                            for (String st:items){ 
                                    pw.println(st);
                            }
                    }
                    catch(Exception exception){}
            }

    public static void main(String args[]){

        StringPrinter some=new StringPrinter("Workyou.txt");

        some.items[0]="Testing One!";
        some.items[1]="Testing Two!";

        some.toFile();

    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-25T05:39:33.920

看来您在这里遇到了异常

```
some.items[0]="Testing One!"; 
```

这是因为你没有初始化

```
public String[] items; 
```

在你的构造函数中初始化它是这样的

```
public StringPrinter(String fileName){
         file = new File(fileName);
         items = new String[SIZE];
} 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-25T06:56:13.070

首先：正如所有人所说，您必须初始化数组。第二：为什么不将数据打印到文件解决方法：在for循环打印字符串[]值后的ToFile()方法中，需要关闭Printer Writer

```
 PrintWriter pw = new PrintWriter(new FileWriter(file, false));
               for (String st:items){ 
                          pw.println(st);
               }
               **pw.close()** 
```

它会将您的数据打印到文件中。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-25T05:46:05.773

您正在尝试设置字符串*测试一！*到数组的第一个位置`items`，但您没有初始化该字符串数组

```
some.items[0]="Testing One!"; 
```

如果你改变这条线。

```
public String[] items; 
```

对这个

```
public String[] items = new String[2]; 
```

那么它将起作用。请注意，您必须预定义数组的大小。请注意，数组大小是固定的。如果你不想固定数组大小，我建议你使用[wrapper class](https://stackoverflow.com/questions/889160/what-is-a-wrapper-class "包装类") `ArrayList`，它的大小可以扩展。

```
import java.io.*;
import java.util.ArrayList;

public class StringPrinter {

    public ArrayList<String> items = new ArrayList<String>();
    public File file;

    public StringPrinter(String filename) {
        file = new File(filename);
    }

    public void toFile() {
        try {
            PrintWriter pw = new PrintWriter(new FileWriter(file, false));
            for (String st : items) { 
                pw.println(st);
            }
            pw.close();
        }
        catch(Exception exception) { }
    }

    public static void main(String args[]) {
        StringPrinter some = new StringPrinter("Workyou.txt");
        some.items.add("Testing One!");
        some.items.add("Testing Two!");
        some.toFile();
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-25T06:00:01.873

试试这个，这应该在文件中打印文本

```
public class StringPrinter {
        public String[] items = new String [2];
        public File file;
        public StringPrinter(String fileName){
                file = new File(fileName);}

        public void toFile(){
                try{
                    PrintWriter pw = new PrintWriter(new FileWriter(file, false));
                    for (String st:items){ 
                        pw.print(st);
                         pw.flush();

                      }

                }
                catch(Exception exception){}
        }

public static void main(String args[]){

    StringPrinter some=new StringPrinter("Workyou.txt");

    some.items[0]="Testing One!";
    some.items[1]="Testing Two!";

    some.toFile();

} 
```

}

[flush 的文档](http://docs.oracle.com/javase/7/docs/api/java/io/Writer.html#flush%28%29)。不需要强制关闭编写器以查看文件中的内容，只需向编写器调用刷新即可将内容添加到文件中。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-25T06:22:13.210

试试这个，完整的解决代码：

```
import java.io.*; 
```

公共类 StringPrinter {

```
 public String[] items;
public File file;

public StringPrinter(String filename) {
    file = new File(filename);
}

public void toFile() {
    try {
        PrintWriter pw = new PrintWriter(new FileWriter(file, false));
        for (String st : items){ 
            pw.println(st);
        }
pw.close();       //needed to close the writer stream to write data in file
    }
    catch(Exception exception) {}
}

public static void main(String args[]) {
    StringPrinter some = new StringPrinter("Workyou.txt");
some.items = new String[2];        //needed to initialize array with size
    some.items[0]="Testing One!";
    some.items[1]="Testing Two!";
    some.toFile();
} 
```

}

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-25T05:50:04.890

items 数组未初始化。您必须在实际分配一些值之前对其进行初始化。如果您不想创建固定大小的经典数组，那么您可以尝试使用 ArrayList。

# c# - 如何避免使用 Invoke 挂起 UI？

> ID：13062228
> 
> 赞同：3
> 
> 时间：2012-10-25T05:36:19.657
> 
> 标签：c#, multithreading, invoke

以下代码使 UI 线程挂起。

```
 private void button1_Click(object sender, EventArgs e)
    {
        Thread t = new Thread(Func);
        t.Start();
    }

    private void Func()
    {
        this.Invoke((Action)(() =>
        {
            while (true);
        }));
    } 
```

我希望`Func()`每次单击按钮时都在不同的工作线程中调用，而不会冻结任何 UI 线程。

最好的解决方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T05:57:42.960

使用您的代码`while(true)`在 UI 线程上运行，这就是阻止您的 UI 的原因。

`while(true)`放出`Invoke`方法，所以每当你想改变 UI 时，把改变 UI 的代码块放在里面`Invoke`：

```
private void button1_Click(object sender, EventArgs e)
{
    Thread t = new Thread(Func);
    t.Start();
}

private void Func()
{
    while(true)
    {
       this.Invoke((Action)(() =>
        {
            textBox.Text = "abc";
        }));
    } 
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-25T05:57:48.333

Func() 代码确实在非 UI 线程上运行。但是，`this.Invoke`然后在 UI 线程上执行 Action！。

尝试这样的事情：

```
void Func()
{
     // Do some work.

     // Update the UI (must be on UI thread)
     this.Invoke(Action) (() =>
     {
        // Update the UI.
     }));
 } 
```

我可能会更好地使用该`BeginInvoke`方法。这样，非 UI 线程就不会等待 UI 线程执行操作。

此外，您没有异常捕获或进度报告逻辑。我建议看`BackgroundWorker`课程；[http://msdn.microsoft.com/en-us/library/cc221403(v=vs.95).aspx](http://msdn.microsoft.com/en-us/library/cc221403(v=vs.95).aspx)。

```
void button1_Click(object sender, EventArgs e)
{
   var worker = new BackgroundWorker();
   worker.DoWork += (s,e) =>
   {
       // Do some work.
   };
   worker.RunWorkerCompleted += (s,e) =>
   {
       // Update the UI.
   }
   worker.RunWorkerAsync();
} 
```

# ios - ARC IOS5 和 IOS6

> ID：13062230
> 
> 赞同：0
> 
> 时间：2012-10-25T05:36:25.070
> 
> 标签：ios, properties, automatic-ref-counting

这是我的问题，我应该手动将我的强属性设置为 nil 以释放它吗？

在 mytest.h 文件中

```
@property(nonatomic,strong) IBOutlet UIView *myView;
@property(nonatomic,weak)   IBOutlet UILabel *myLabel;
@property(nonatomic,strong) MyObject *myObject;
@property(nonatomic,strong) NSArray  *theArray; 
```

1）在iOS5中，哪一个是正确的？功能A？还是功能 B？或功能C？

```
//function A
-(void)viewDidUnLoad{
 [super viewDidUnLoad];
 self.myView=nil; //strong property
 //I do not need to  self.myLabel=nil, because it is weak property
 self.myObject=nil;//strong property
 self.theArray=nil;//strong property
}

//function B
-(void)viewDidUnLoad{
 [super viewDidUnLoad];
 self.myView=nil; //strong property
 //I do not need to  self.myLabel=nil, because it is weak property
 //self.myObject=nil;//strong property ,but ARC will release it in dealloc
 //self.theArray=nil;//strong property ,but ARC will release it in dealloc
}

//function C
-(void)viewDidUnLoad{
[super viewDidUnLoad];
//do nothing here
//ARC will release it in dealloc
} 
```

2) 在 iOS6 中 viewDidUnLoad 已被弃用，并且文档告诉我不要关心 IBOUlet 属性。那么在 ios6 下面哪个是正确的。

```
//function A
- (void)didReceiveMemoryWarning
{
 [super didReceiveMemoryWarning];
 //self.myView=nil;  //strong property ,but ios6 document tells me not to care IBOutlet
 //self.myObject=nil;//strong property ,but ARC will release it in dealloc
 //self.theArray=nil;//strong property ,but ARC will release it in dealloc
}

//function B
- (void)didReceiveMemoryWarning
{
 [super didReceiveMemoryWarning];
 //self.myView=nil;  //strong property ,but ios6 document tells me not to care IBOutlet
 self.myObject=nil;//strong property 
 self.theArray=nil;//strong property 
} 
```

有谁知道详情，希望得到您的答复

顺便说一句，你认为ARC会扫描我的文件，并在编译器添加发布后自动为我添加“发布”（实际上我们在ARC中看不到任何发布）

```
-(void)dealloc{
  [self.myView release];
  [self.myObject release];
  [self.theArray release];
  [super dealloc];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T12:59:43.903

苹果食者，

在 iOS v5 和 v6 上的 ARC 下，由于主视图保留了子视图，因此您应该制作 IBOutlets `weak`。除非您需要释放其他资源，否则您可以放心地`-dealloc`在 ARC 下忽略。不要实施它。

问题 1：在 IBOutlets 较弱的 iOS 5 中，使用函数 C。 问题 2：在 IBOutlets 较弱的 iOS 6 中，使用函数 A。

最后一个问题：您的`-dealloc`方法将被编译器拒绝。只需删除它。

安德鲁

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-26T23:28:51.250

# jquery - 使用 json 类型数据进行跨域调用

> ID：13062231
> 
> 赞同：0
> 
> 时间：2012-10-25T05:36:29.927
> 
> 标签：jquery, asp.net, jsonp

我通过以下代码进行跨域命中

```
 $.ajax({ url: "http://localhost:4417/TravelMirchiB2C/Microsite.asmx/SaveFromMicrosite",
    data: { x: JSON.stringify(data) },
    contentType: "application/json; charset=utf-8",
        dataType: "jsonp",
        success: function(json) {
        if (json.d="true")
            alert("Saved Successfully");
        },
        error: function() {
            alert("Hit error fn!");
        }
    }); 
```

在服务器端，我使用了一个 asp.net 处理程序（.ashx）页面和 .cs 页面，其中我的方法被写入（我必须调用谁）。但是当我从浏览器传递一个字符串时它工作正常但当我传递 json 时失败类型数据

公共字符串 SaveFromMicrosite(PackageQueries x)--------它没有

公共字符串 SaveFromMicrosite(string x)----------------它有效

PackageQueries 是一个类

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T06:41:46.400

要使此方法起作用：

```
public string SaveFromMicrosite(PackageQueries x)
{
    ...
} 
```

您应该将整个数据发布为 JSON：

```
$.ajax({
    ...
    data: JSON.stringify({ x: data }),
    ...
}); 
```

否则`jQuery.ajax`会将您的数据编码为`application/x-www-form-urlencoded`具有一个键的格式，该键`x`的值将是您的 JSON，并且 ASP.NET 不会自动解析该键。

# android - Listview 上的删除按钮

> ID：13062233
> 
> 赞同：0
> 
> 时间：2012-10-25T05:36:38.300
> 
> 标签：android, listview

在我的 android 应用程序中，我有一个列表视图，可以选择在同一屏幕上从中删除项目。删除按钮位于列表视图的底部，有一个用于删除项目和刷新列表视图的函数。正在`onClick()`列表视图中调用此函数。这就是问题所在。

在删除按钮中，`onClick`我首先检查了要删除的项目 -

```
if (ListView.INVALID_POSITION != mListView.getSelectedItemPosition()) {
 //delete the selected item
}else{
 //do nothing
} 
```

因此，每当用户触摸删除按钮时，列表视图中的焦点就会被移除，并且我们作为列表视图位置无效，因此该项目不会被删除。

我还尝试将所选项目的值存储在一个常量中并在列表视图的`onItemSelected()`方法中更新它，然后从删除按钮的 onClick 中删除条件。这可行但会导致另一个问题 - 如果用户点击空白区域，则列表视图中的焦点是删除并且似乎没有选择任何内容，但是如果您按下删除按钮，然后它会删除最后一个选定的项目，因为它来自一个常数。

这是我面临的问题。请建议该怎么做。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T05:42:15.877

选择仅在键盘模式下有用，它在触摸模式下关闭，因此`getSelectedItemPosition()`并不总是可靠的。

阅读此[开发人员博客条目中](http://android-developers.blogspot.in/2008/12/touch-mode.html)的注意事项。

如果您想使用单个按钮，请将`ListView`选择模式设置为单/多，然后，在单击按钮时，获取选中的项目并将其删除，然后刷新`ListView`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T05:47:33.297

尝试通过实现按钮和下一个调用来实现`onitemclickListener()`并获取项目ID并删除在arrayadapter中单击的项目`onclick()``adapter.notifyDataSetChanged();`

# asp.net-mvc - 在 ASP.NET MVC 3 的子文件夹中添加视图

> ID：13062235
> 
> 赞同：19
> 
> 时间：2012-10-25T05:37:00.393
> 
> 标签：asp.net-mvc, asp.net-mvc-3

我正在开发 ASP.NET MVC 3 项目。为了简单起见，我想在子文件夹中划分控制器、模型和视图。我可以使用控制器和模型来做到这一点，但是当我创建一个视图时，它会自动创建到根文件夹`Views`，有没有办法解决这个问题？

例如。我可以创造

模型类为，

```
Models/Finance/Bank.cs
Models/Finance/Finance.cs
Models/Production/Production.cs 
```

控制器作为，

```
Controllers/Finance/BankController/Create
Controllers/Finance/BudgetController/Create
Controllers/Production/ProcessController/Create 
```

但是在我尝试为上述操作创建视图的地方，它创建到，

```
Views/Bank/Create.aspx
Views/Budget/Create.aspx
Views/Process/Create.aspx 
```

我希望它应该是这样的，

```
Views/Finance/Bank/Create.aspx
Views/Finance/Budget/Create.aspx
Views/Prodution/Process/Create.aspx 
```

有没有办法在与为控制器和模型创建的子文件夹相同的子文件夹中创建视图？谢谢！

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2012-10-25T06:18:34.430

以下步骤对我有用，

1.  `Views`在（根文件夹）中根据需要创建子文件夹。就我而言，它是财务和生产。

2.  只需将自动创建的文件夹拖入`Views`适当的子文件夹即可。在我的情况下`Bank`& `Budget`in to`Finance`和`Process`in to`Production`

3.  当您从控制器操作返回视图时，给出完整的视图路径，

    `return` `View("~/Views/Finance/Bank/Create.aspx")`

    `return` `View("~/Views/Finance/Budget/Create.aspx")`

    `return` `View("~/Views/Production/Process/Create.aspx")`

* * *

## 回答 #2

> 赞同：20
> 
> 时间：2012-10-25T05:47:03.513

模型和控制器是编译的源文件。它们被编译成 DLL，因此，它们实际上可以放在项目中的任何位置，并且不会产生任何影响。这些类不知道它们在文件系统中的位置，因为一旦编译它们就不会存在于文件系统中。

另一方面，观点不同。它们是部署到服务器并在运行时加载和解析的文本文件，因此框架必须知道在哪里可以找到它们。

该工具将始终在 ~\Views\Controller 文件夹（或 ~Areas\AreaName\Controller 文件夹）中创建视图。之后，您可以将它们移动到任何您想要的位置，但您必须将整个文件夹路径提供给 View() 方法（包括 .cshtml）。或者你将不得不实现一个自定义的 ViewEngine 来设置你想要的搜索路径。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2016-06-20T08:57:24.140

对于未来的访客：使用区域。

[演练：使用区域组织 ASP.NET MVC 应用程序](https://msdn.microsoft.com/en-us/library/ee671793%28v=vs.100%29.aspx)

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-10-25T06:10:36.133

视图的命名是根据控制器的名称，你应该遵守规则。
如果你想创建它`Views/Admin/Create`，那么你`CustomerController.cs`应该命名为`AdminController.cs`.

# ruby - irb 不打印任何东西

> ID：13062236
> 
> 赞同：4
> 
> 时间：2012-10-25T05:37:13.047
> 
> 标签：ruby

我是红宝石的新手。
当我使用 irb 时，发生了一些事情。（没有打印）
有人对此有任何建议吗？
我什至不知道在这种情况下什么搜索关键字可以。
（可能是特定于环境的问题？你怎么看？）

```
irb(main):010:0> a = [3,2,1]
=> [3, 2, 1]
irb(main):011:0> a.each
=> #<Enumerable::Enumerator:0x7f413a20d668>
irb(main):012:0> a.each{|x| print x}
321=> [3, 2, 1]
irb(main):013:0> a.each do |x| print x end
321=> [3, 2, 1]
irb(main):014:0> 1.to 9
NoMethodError: undefined method `to' for 1:Fixnum
    from (irb):14
    from :0
irb(main):015:0> 1.to(9) do |x| print x done
irb(main):016:1> 1.to(9) { |x| print x }
irb(main):017:1> 1.to(9)
irb(main):018:1> 1.upto(9)
irb(main):019:1> 1.upto(9) do |x| print x done
irb(main):020:2> 1.upto(9) { |x| print x }
irb(main):021:2> print "x"
irb(main):022:2> abc
irb(main):023:2> a
irb(main):024:2> b 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-25T05:42:21.190

发生的事情是在错误之后，您键入`done`而不是`end`.

在解析块之前没有执行任何操作，但`end`从未出现，所以 irb 只是继续阅读内容......

以后只需键入 ^C 或 ^D 直到回到顶层或 shell，然后重新开始。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-25T05:53:00.713

IRB 正在等待某些东西关闭（在这种情况下`do`，第 15 行的块需要一个`end`）。

你可以通过观察行号后面的数字来注意到这一点（`:0`, `:1`, `:2`...）：虽然它是积极的，但 IRB 想要你关闭一些东西。

您可以按 Ctrl+C 中止当前命令并启动新命令。

# java - Java - 优先队列显示 NullPointerException

> ID：13062237
> 
> 赞同：0
> 
> 时间：2012-10-25T05:37:27.633
> 
> 标签：java, nullpointerexception

我在主类中有一个名为**Prims**的类和一个类类型的优先级队列。在我用它的构造创建了一个类的实例之后，我想将对象推入队列中。编译得很好，但它显示了运行时**NullPointerException**错误。这是代码：

```
package mst.prims;

import java.util.*;

    public class Main {

        /**
         * Minimum Spanning Tree - Prim's Algorithm
         * @author Kaidul
         */
        static final int MAX = 100; 

        static class Prims{
            int u, v, cost;
            Prims(int u, int v, int cost){
                this.u = u;
                this.v = v;
                this.cost = cost;
            }
        }

        static PriorityQueue<Prims> q, q1, q2 = new PriorityQueue<Prims>(MAX);

        public static void main(String[] args)  {

            Scanner input = new Scanner(System.in);

            for (int i = 0; i < 7; i++) {
                int u, v, cost;
                u = input.nextInt();
                v = input.nextInt();
                cost = input.nextInt();
                Prims temp = new Prims(u, v, cost);

                q.add(temp);
            }
        }

    } 
```

错误 ：

```
1 2
2 3
Exception in thread "main" java.lang.NullPointerException
    at mst.prims.Main.main(Main.java:36) 
```

我是 Java 新手，无法修复它。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-25T05:49:29.610

它不应该给予`NullPointerException`，而应该给予`ClassCastException`。因为您的类`Prims`没有实现`Comparable`接口，因此无法推入`Priority Queue`.

您需要`Comparable`在`compareTo`您的`nested Prims class`

请为您的变量使用有意义的名称。`u`对我来说`v`似乎很模糊，对它们所代表的含义没有任何意义。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-25T05:50:25.140

来自 Javadoc 的`PriorityQueue`：

> 依赖于自然排序的优先级队列也不允许插入不可比较的对象（这样做可能会导致 ClassCastException）。

您必须`Comparable`在`Prims`. 如果您打算`Prims`在集合中使用，您还应该覆盖`equals()`并`hashCode()`使用适合您的对象的实现。

# objective-c - 如何在 iOS 6 智能应用横幅中跟踪下载

> ID：13062239
> 
> 赞同：2
> 
> 时间：2012-10-25T05:37:53.713
> 
> 标签：objective-c, ios, ios6

我想将 iOS 6 智能应用横幅添加到我们的移动网站，以鼓励下载和打开我们的原生应用。如何跟踪从 iOS 6 智能应用横幅点击的用户的下载次数？

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2012-10-28T22:12:08.133

在您的网站头部添加此代码：

```
<meta name="apple-itunes-app" content="app-id=543714442" /> 
```

你必须用你的身份证号码替换

# objective-c - 如何在 Xcode 中解析本地 xml 文件而不是 Web xml？

> ID：13062245
> 
> 赞同：0
> 
> 时间：2012-10-25T05:38:23.880
> 
> 标签：objective-c, xcode, nsxmlparser

嗨，我很容易使用 NSXML Parser 从 Web URL 解析 XML 文件，但我发现解析本地 XML 文件有点困难。？

考虑一下，我的 parser.m 有一个方法

```
-(void)parseRssFeed:(NSString *)url withDelegate:(id)aDelegate {
[self setDelegate:aDelegate];

responseData = [[NSMutableData data] retain];
NSURL *baseURL = [[NSURL URLWithString:url] retain];

NSURLRequest *request = [NSURLRequest requestWithURL:baseURL];

[[[NSURLConnection alloc] initWithRequest:request delegate:self] autorelease];} 
```

我使用这种方法在我的一个 viewcontroller.m 中调用 RSS Feed 作为

```
- (void)loadData {
if (items == nil) {
    [activityIndicator startAnimating];

    Parser *rssParser = [[Parser alloc] init];
    [rssParser parseRssFeed:@"http://--some RssFeed url---" withDelegate:self];

    [rssParser release];

} else {
    [self.tableView reloadData];
}
} 
```

现在我必须加载我的本地 XML 文件，而不是一些网络 Rss Feed Url。请帮助我进行此编码，我必须更改并包含本地 XML 文件的 NSBundlePath 资源。

提前致谢！！！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-25T06:08:20.100

对于本地文件，您不需要`NSURLConnection`获取数据。下面将获取一个名为“local.xml”的本地 XML 文件到一个`NSData`对象中：

```
NSString *path = [[NSBundle mainBundle] pathForResource:@"local" ofType:@"xml"];
NSData *data = [[NSData alloc] initWithContentsOfFile:path]; 
```

此时，一旦您从远程 xml 文件中获得数据，您应该能够调用您使用的相同解析代码。

# javascript - 什么时候应该使用 jQuery 的 document.ready 函数？

> ID：13062246
> 
> 赞同：108
> 
> 时间：2012-10-25T05:38:24.910
> 
> 标签：javascript, jquery, dom, event-handling, document-ready

当我第一次开始使用 Javascript/jQuery 时，我被告知要使用 document.ready，但我从来没有真正了解过为什么。

可能有人提供一些关于何时将 javascript/jquery 代码包装在 jQuery 中的基本指南`document.ready`？

我感兴趣的一些话题：

1.  jQuery 的`.on()`方法：我经常使用`.on()`AJAX 的方法（通常在动态创建的 DOM 元素上）。`.on()`点击处理程序应该**总是**在**里面** `document.ready`吗？
2.  性能：在 document.ready**内部**或**外部**保留各种 javascript/jQuery 对象是否更高效（另外，性能差异是否显着？）？
3.  对象范围：AJAX 加载的页面无法访问前一页面文档中的对象。**准备**好，对吗？他们只能访问document.ready**之外**的对象（即真正的“全局”对象）？

**更新：**为了遵循最佳实践，我的所有 javascript（jQuery 库和我的应用程序代码）都位于我的 HTML 页面的**底部**，并且我`defer`在我的 AJAX 加载页面上使用包含 jQuery 的脚本上的属性，以便我可以访问这些页面上的 jQuery 库。

* * *

## 回答 #1

> 赞同：146
> 
> 时间：2012-10-25T05:46:24.290

简单来说，

> `$(document).ready`是准备就绪时触发的事件`document`。

假设您已将 jQuery 代码放在`head`部分中并尝试访问一个`dom`元素（锚点、img 等），您将无法访问它，因为它`html`是从上到下解释的，并且当您的 jQuery 代码时您的 html 元素不存在运行。

为了克服这个问题，我们将每个 jQuery/javascript 代码（使用 DOM）放在`$(document).ready`函数中，当所有`dom`元素都可以访问时，该函数会被调用。

这就是原因，当您将 jQuery 代码放在底部（在所有 dom 元素之后，就在之前`</body>`）时，**不需要`$(document).ready`**

由于与我上面解释的相同原因，仅当您使用方法时才需要将`on`方法放入其中。`$(document).ready``on``document`

```
 //No need to be put inside $(document).ready
    $(document).on('click','a',function () {
    })

    // Need to be put inside $(document).ready if placed inside <head></head>
    $('.container').on('click','a',function () {
    }); 
```

**编辑**

从评论来看，

1.  `$(document).ready`不等待图像或脚本。`$(document).ready`这就是和之间的最大区别`$(document).load`

2.  只有访问 DOM 的代码才应该在准备好的处理程序中。如果它是一个插件，它不应该出现在 ready 事件中。

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-25T05:51:56.353

答案：

> jQuery 的 .on() 方法：我在 AJAX 中经常使用 .on() 方法（动态创建 DOM 元素）。.on() 点击处理程序是否应该始终在 document.ready 中？

不，并非总是如此。如果您将 JS 加载到文档头中，您将需要这样做。如果您在通过 AJAX 加载页面后创建元素，则需要这样做。如果脚本位于要添加处理程序的 html 元素下方，则无需这样做。

> 性能：在 document.ready 内部或外部保留各种 javascript/jQuery 对象是否更高效（另外，性能差异是否显着？）？

这取决于。附加处理程序将花费相同的时间，这取决于您是否希望它在页面加载时立即发生，或者您是否希望它等到整个文档加载完毕。因此，这将取决于您在页面上执行的其他操作。

> 对象范围：AJAX 加载的页面无法访问前一页面文档中的对象。准备好，对吗？他们只能访问 document.ready 之外的对象（即真正的“全局”对象）？

它本质上是它自己的函数，因此它只能访问在全局范围（在所有函数之外/在所有函数之上）声明的变量或使用`window.myvarname = '';`

* * *

## 回答 #3

> 赞同：6
> 
> 时间：2012-10-25T06:03:02.990

在您可以安全地使用 jQuery 之前，您需要确保页面处于可以操作的**状态**。使用 jQuery，我们通过将代码放入一个函数中，然后将该函数传递给[`$(document).ready()`](http://api.jquery.com/ready/). 我们传递的函数可以只是一个[匿名函数](http://helephant.com/2008/08/23/javascript-anonymous-functions/)。

```
$(document).ready(function() {  
    console.log('ready!');  
}); 
```

一旦文档准备好，这将运行我们传递给 .ready() 的函数。这里发生了什么？我们使用 $(document) 从我们页面的文档中创建一个 jQuery 对象，然后在该对象上调用 .ready() 函数，将我们想要执行的函数传递给它。

由于这是您会发现自己经常做的事情，因此如果您愿意，可以使用一种速记方法 - 如果您将函数传递给 $() 函数，它作为 $(document).ready() 的别名具有双重作用：

```
$(function() {  
    console.log('ready!');  
}); 
```

这是一个很好的阅读：[Jquery Fundamentals](http://jqfundamentals.com/chapter/jquery-basics)

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-10-25T05:44:54.230

[**.ready()**](http://api.jquery.com/ready/) - 指定在 DOM 完全加载时执行的函数。

```
$(document).ready(function() {
  // Handler for .ready() called.
}); 
```

这是[**所有 jQuery 方法的列表**](http://api.jquery.com/category/manipulation/)

阅读[**介绍 $(document).ready()**](http://www.learningjquery.com/2006/09/introducing-document-ready)

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2012-10-25T05:47:18.310

实际上，`document.ready`除了准确地操作 DOM 之外不需要其他任何东西，而且它并不总是需要或最佳选择。我的意思是，例如，当您开发一个大型 jQuery 插件时，您几乎不会在整个代码中使用它，因为您试图保持它 DRY，因此您在操作 DOM 但要被调用的方法中尽可能地抽象稍后的。当所有代码都紧密集成时，唯一暴露的方法`document.ready`通常`init`是所有 DOM 魔法发生的地方。希望这能回答你的问题。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-10-25T05:47:48.080

您应该在 document.ready 中绑定所有操作，因为您应该等到文档完全加载。

但是，您应该为所有操作创建函数并从 document.ready 中调用它们。当您创建函数（您的全局对象）时，请随时调用它们。因此，一旦加载了新数据并创建了新元素，请再次调用这些函数。

这些函数是您绑定事件和操作项的函数。

```
$(document).ready(function(){
bindelement1();
bindelement2();
});

function bindelement1(){
$('el1').on('click',function...);
//you might make an ajax call here, then under complete of the AJAX, call this function or any other function again
}

function bindelement2(){
$('el2').on('click',function...);
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-09-25T06:37:09.343

我将一个链接附加到一个 div 并希望在点击时执行一些任务。我在 DOM 中的附加元素下方添加了代码，但它不起作用。这是代码：

```
<div id="advance-search">
   Some other DOM elements
   <!-- Here I wanted to apppend the link as <a href="javascript:;" id="reset-adv-srch"><span class="bold">x</span> Clear all</a>-->
</div>

<script>
  $("#advance-search #reset-adv-srch").on("click", function (){
     alert('Link Clicked');``
  });
</script> 
```

它不起作用。然后我将 jQuery 代码放在 $(document).ready 中，它运行良好。这里是。

```
$(document).ready(function(e) {
    $("#advance-search #reset-adv-srch").on("click", function (){
        alert('Link Clicked');
    });
}); 
```

* * *

## 回答 #8

> 赞同：-2
> 
> 时间：2015-01-19T08:35:22.910

当 DOM（文档对象模型）被加载时，ready 事件发生。

因为这个事件是在文档准备好之后发生的，所以它是一个拥有所有其他 jQuery 事件和函数的好地方。就像上面的例子一样。

ready() 方法指定发生就绪事件时会发生什么。

提示：ready() 方法不应与 .

# android - 使用两个摄像头在 Android 中录制视频

> ID：13062251
> 
> 赞同：1
> 
> 时间：2012-10-25T05:38:54.473
> 
> 标签：android, frameworks, android-camera, video-capture, android-camera-intent

我想创建一个应用程序，它可以使用简单的切换按钮来录制视频，以在前后摄像头之间更改摄像头源...

是否可以使用当前的 android 框架或必须在驱动程序等中进行一些修改，才能无缝地做到这一点？知道它可能会产生多少延迟吗？

任何建议都会有所帮助...谢谢

# installation - 使用 inno 设置

> ID：13062252
> 
> 赞同：0
> 
> 时间：2012-10-25T05:38:59.653
> 
> 标签：installation, inno-setup

我已经完成了我的 .NET 应用程序，但我无法弄清楚如何完成它的设置，因为它对我来说似乎有点复杂。

所以我在考虑使用 InnoSetup，但不幸的是我对此一无所知。

简而言之，我想为执行这些任务进行设置：

1.  安装 .NET Framework 4.0（如果不可用）
2.  根据你的系统32位还是64位安装水晶报表运行引擎13
3.  使用这些设置安装 MSSQL Server Express 2008（32 位或 64 位，具体取决于用户的操作系统）
    *   SQL Server 实例名称：SQLEXPRESS
    *   认证方式：混合
    *   用户名：user1
    *   密码：pass1
4.  询问安装我的应用程序 (MyApp.exe) 的语言选择（阿拉伯语或英语）并相应地安装所选版本。
5.  当然在安装我的应用程序之前应该有一个关于许可协议的窗口

我认为这不是很难，除了 SQL 服务器部分，

如果有人可以帮助我，请给我 Inno 代码以进行此设置。谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-30T01:07:24.087

学习 Inno Setup 脚本语言并不难，所以你一定要阅读[文档](http://www.jrsoftware.org/ishelp/)。

要安装 .NET 依赖项，请查看[此](http://www.codeproject.com/Articles/20868/NET-Framework-1-1-2-0-3-5-Installer-for-InnoSetup)CodeProject 文章。我使用了一种稍微不同的方法。我将我的依赖项添加为 zip 存档，因此我不需要列出我的文件，还添加了[unzip.exe](http://stahlworks.com/dev/index.php?tool=zipunzip)并使用它将它们解压缩到临时文件夹并从那里启动安装程序。[这](https://stackoverflow.com/questions/6065364/how-to-get-inno-setup-to-unzip-a-file-it-installed-all-as-part-of-the-one-inst)是一个解释如何做的问题。

您要求的一些东西是 InnoSetup 支持的功能。例如，使用[[Languages]](http://www.jrsoftware.org/ishelp/index.php?topic=languagessection)部分选择语言或使用[LicenseFile](http://www.jrsoftware.org/ishelp/index.php?topic=setup_licensefile)参数进行许可协议。

# android - 需要时间在活动之间切换

> ID：13062259
> 
> 赞同：-1
> 
> 时间：2012-10-25T05:39:54.333
> 
> 标签：android, android-intent, android-activity

我有很多不同的活动`drawables`。所有这些都设置为 src 或 background`layout`本身以不同的`ImageViews`.

现在假设活动 A，B 有 50 个这样的图像，所以每个。当我开始 B 活动时，加载`activity`. 这不能减少到正常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T05:46:41.117

有人会说这**是**正常的。这是一次从内存中加载/卸载的大量图像。

虽然它也取决于设备，但如果这是一个 Android 虚拟机，例如，你绝对应该期望在实际设备上得到更好的结果；或者，如果您只是将应用程序放在功能更强大的设备上，它会加载得更快。

# css - 仅在某些标签内的标签上使用 css 样式？

> ID：13062260
> 
> 赞同：2
> 
> 时间：2012-10-25T05:39:58.490
> 
> 标签：css, css-selectors

我正在浏览 css 选择器，但无法真正了解或只是不了解。

如果我有这个 HTML：

```
<h1><strong>text</strong></h1>
<h2><strong>text</strong></h2>
<h3><strong>text</strong></h3> 
```

有没有一种方法可以对每个强标签应用不同的样式而不给每个标签一个类。

就像是：

```
strong[h1] {}
strong[h2] {} 
```

..

或者？

谢谢 ：）

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-25T05:42:15.303

采用

```
h1 strong { }
h2 strong { }
h3 strong { } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T05:51:20.857

请试试这个，你也可以在标签内尝试更多的标签，按照你想要的例子向下钻取

```
ul li a { font-family: Arial, Sans-Serif }

h1 strong {color:red}
h2 strong {color:green}
h3 strong {color:blue} 
```

# ios - 配置文件与捆绑标识符不匹配

> ID：13062268
> 
> 赞同：6
> 
> 时间：2012-10-25T05:40:42.397
> 
> 标签：ios, xcode

所以我正在尝试将应用程序提交到应用程序商店。这是我的第一个应用程序，所以我想我把它弄乱了。

在 iTunesConnect 中，我的 BundleID 是 com.mywebsite.appname

我通过供应门户创建了一个分发配置文件，其应用程序 ID 与我在 itunesConnect 中创建 BundleID 时使用的应用程序 ID 相同。当我尝试对我的发布版本进行代码签名时，我看到：

```
AppName (for bundle identifiers 'com.mywebsite.AppName')
profile doesn't match bundle identifier 'mywebsite.AppName' 
```

从谷歌搜索来看，捆绑 ID 似乎区分大小写。我尝试在开发门户中创建另一个应用 ID 作为 appname，但这似乎并不重要，因为现在在开发门户中，我有两个名为 Appname 的应用。尽管它允许我添加另一个应用程序 ID，但它以第一个字母作为大写字母显示它们，其余的则不是。那么我需要做什么才能让我的个人资料与捆绑包ID匹配。我需要匹配哪个捆绑包 ID，iTunesConnect 上的那个？

最后，我想确保 iPhone 图标下方的应用程序名称不会以小写形式显示。那可能吗？谢谢！

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-25T06:57:53.443

此屏幕截图向您展示了在 Xcode 中设置 Bundle Identifier 的位置：

![在此处输入图像描述](../Images/952df61b625554faaef82bd5da860f72.png)

# excel - 在条件下为 Excel 单元格着色

> ID：13062270
> 
> 赞同：0
> 
> 时间：2012-10-25T05:40:56.930
> 
> 标签：excel, vba

我正在尝试在 excel 宏中找到可以解决以下问题的代码。

如果第一列包含任何文本，则用某种颜色突出显示第一列单元格，直到下一个文本不出现在同一列中。当任何文本出现在同一列中时，开始用不同的颜色为单元格着色。

我必须对工作簿中的所有工作表重复此操作。谢谢。

![在此处输入图像描述](../Images/b1f038f03fedc79907b075f613d00a64.png)

现在我正在使用这个宏来为空的单元格着色，但问题是每当遇到文本时颜色都不会改变

```
Sub try()
Dim i As Integer
Dim j As Integer
Dim k As Integer
i = 200
j = 100
k = 5

Application.ScreenUpdating = False

With ActiveSheet.UsedRange
    .AutoFilter Field:=1, Criteria1:=""
    If WorksheetFunction.CountBlank(.Columns(1)) > 0 Then
        .Columns(1).SpecialCells(xlCellTypeBlanks).Interior.Color = RGB(i, j, k)
    Else
        i = i - 50
        j = j - 10
        k = 255
    End If

    .AutoFilter
End With

Application.ScreenUpdating = True

End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T14:12:11.583

干得好：

```
Option Explicit

Sub Color_Ranges()

Dim oSheet                  As Worksheet
Dim oRange                  As Range
Dim oRange_Color            As Range
Dim oBaseCell               As Range
Dim lLast_Row               As Long
Dim lRange_Rows             As Long
Dim iCnt_Values             As Integer
Dim iCnt_Intervals          As Integer

Dim r                       As Integer
Dim g                       As Integer
Dim b                       As Integer

Dim iCnt                    As Integer

Set oSheet = ThisWorkbook.Sheets(1)
With oSheet
    lLast_Row = .Range("A1").SpecialCells(xlCellTypeLastCell).Row
End With

'Total range you want to color
Set oRange = oSheet.Range(Cells(1, 1), Cells(lLast_Row, 1))
lRange_Rows = oRange.Rows.Count

'Count values
iCnt_Values = WorksheetFunction.CountA(oRange)
'Count intervals
iCnt_Intervals = iCnt_Values - 1

'Generate random colors
r = CInt(Int((255 * Rnd()) + 1))
g = CInt(Int((255 * Rnd()) + 1))
b = CInt(Int((255 * Rnd()) + 1))

Set oBaseCell = oRange.Cells(1, 1)
For iCnt = 1 To iCnt_Intervals
    Set oRange_Color = Range(oBaseCell, oBaseCell.End(xlDown))
    oRange_Color.Interior.Color = RGB(r, g, b)
    r = CInt(Int((255 * Rnd()) + 1))
    g = CInt(Int((255 * Rnd()) + 1))
    b = CInt(Int((255 * Rnd()) + 1))
    Set oBaseCell = oBaseCell.End(xlDown)
    Set oRange_Color = Nothing
Next iCnt

End Sub 
```

# c++ - 带有生产者/消费者模型的文件复制工具

> ID：13062275
> 
> 赞同：0
> 
> 时间：2012-10-25T05:41:35.930
> 
> 标签：c++, synchronization, file-copying, consumer, producer

所以我正在查看我的下一个学校作业，我很困惑。我想我会向专家寻求一些指导。我严重缺乏同步方面的知识，而且我对它所指的“mcopyfile”任务也没有那么热情。可怕的可能是一个好词。如果我能就如何解决这个问题获得一些指导，将不胜感激。不是找人来做我的任务，只需要有人给我指出正确的方向。婴儿步骤。

> 基于您在 Lab 2 中创建的多线程文件复制工具（mcopyfile），现在请使用工作池（Producer-Consumer 模型）实现，该实现使用固定数量的线程来处理负载（无论在要复制的目录）。您的程序应创建 1 个文件复制生产者线程和多个文件复制消费者线程（此数字取自命令行参数）。文件复制生产者线程将在有界大小的缓冲区结构中生成（源和目标）文件描述符列表。每次生产者访问缓冲区时，它将写入一个（源，目标）文件条目（每次访问）。并且所有的文件复制消费者线程都会从这个缓冲区中读取，执行实际的文件复制任务，并删除相应的文件条目（每个消费者每次都会消费一个条目）。生产者和消费者线程都会向标准输出写入一条消息，给出文件名和完成状态（例如，对于生产者：“正在完成将文件 1 放入缓冲区”，对于消费者：“正在完成将文件 1 复制到……”）。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:08:32.347

假设您知道如何生成线程，让我为您分解问题。有以下组件：

1.  **制片人**。它根据源目录输入参数为*消费者*生成*任务。*
**   **任务**。任务是*消费者*执行其复制任务的信息。即源文件描述符和目标文件描述符的元组。*   **排队**。*它是Producer*和*Consumer*之间通信的核心部分。生产者将*任务*写入*队列*，*消费者*使用它。*   **消费者**。您有一个以*Task*作为输入并执行复制操作的实际工作人员池。*

 *现在根据问题，为生产者生成一个线程，为消费者生成*n 个线程。*这就是线程的作用：

*   **生产者线程**

    1.  对于源目录中的文件列表：
        1.  任务<-（源文件路径，目标文件路径）
        2.  *获取队列*上的锁
        **   *将任务*写入队列*   释放*队列上的锁**   *获取标准输出*上的锁定**   写入*标准输出**   *释放标准输出*上的锁定**

****   **消费者线程**

    1.  真时：
        1.  如果队列大小 == 0：
            1.  睡一段时间
        2.  别的：
            1.  *获取队列*上的锁
            **   出*队任务**   释放*队列上的锁**   执行复制操作*   *获取标准输出*上的锁定**   写入*标准输出**   *释放标准输出*上的锁定***** 

 ***我希望这有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T06:12:12.170

一旦您知道您将用于线程功能的 API/库，您的分配对我来说看起来很简单。

首先，您将解析命令行参数并创建指定数量的线程，然后从主线程获取文件夹中的文件列表并开始将它们放入共享的数组（如 std::vector）中在线程之间并与互斥锁（或 Windows 上的关键部分）同步。每当一个消费者线程获得互斥体时，它都会复制数组中的文件条目，从数组中删除该条目，释放互斥体以便另一个线程可以开始做同样的事情，并开始复制由它从数组中删除的条目。

我会给你一些代码片段，但你没有说你使用什么 API/库来实现线程功能。****

# php - 如何从json方法中获取每个值

> ID：13062277
> 
> 赞同：0
> 
> 时间：2012-10-25T05:41:52.233
> 
> 标签：php, javascript, jquery, ajax, json

阿贾克斯

```
$('#stb_no').blur(function(){
    var stb_no= $('#stb_no').val();
    $.ajax({
        url: "http://localhost/paymybill/ajax/stb_info",
        global: false,
        type: "POST",
        data: {
            'stb_no':stb_no, // you should give a key to the variable
        },
        success: function(data) {
            $('#amount').val(data);
     //     $(".email_msg").addClass("red");
        },
        error: function(jqXHR, textStatus, errorThrown) {
            console.log(textStatus, errorThrown);
        }
    });
}); 
```

控制器代码

```
public function stb_info(){
    $stb_no=$this->mso->alldata_stbno($this->input->post('stb_no'));
    echo json_encode($stb_no);
} 
```

我要出去了

```
[{"sxb_no":"xxxxxx","mzo_name":"xx","cto_name":"xxxxx","area":"xxxxx","name_sxb_owr":"","mobile_no":"xxxxxx","email":"xxxxx@yahoo.com","amount":"xxx"}] 
```

我需要知道如何获取每个值例如：-如果我想获取电子邮件 ID，我应该在 jquery 中做什么，请帮助我，我是 ajax 新手

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:19:36.700

大多数浏览器都支持 JSON.parse()，它在 ECMA-262 中定义并且是推荐的方式。它的用法很简单（我将使用您的示例 JSON）：

`var json = '{"area":"xxxxx",...,"email":"xxxxx@yahoo.com","amount":"xxx"}';
var obj = JSON.parse(json);`

请注意，无法使用 obj.email，因为您正在解析数组。

编辑：检查您的评论，您需要知道数据参数是 JSON 对象，首先解析它，然后您可以执行以下操作：

`$('#amount').val(obj[0].email);`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T06:25:27.440

只需添加到`$.ajax`调用参数`dataType:"json"`，Jquery 会自动在成功参数中解析它。然后使用它`data[0]['email'];`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-25T06:19:46.420

例如 ：

```
$('#stb_no').blur(function(){
    var stb_no= $('#stb_no').val();
    $.ajax({
        url: "http://localhost/paymybill/ajax/stb_info",
        global: false,
        type: "POST",
        data: {
            'stb_no':stb_no, // you should give a key to the variable
        },
        success: function(data) {
            $('#email').val(data[0]['email']);

            //OR
            var obj = JSON.parse(data);
            $('#email').val(obj[0].email);
        },
        error: function(jqXHR, textStatus, errorThrown) {
            console.log(textStatus, errorThrown);
        }
    });
}); 
```

# android - ProgressBar 不会立即在 android 中显示

> ID：13062289
> 
> 赞同：1
> 
> 时间：2012-10-25T05:43:30.750
> 
> 标签：android

我有一个活动的基类和一个扩展基类的子类。超类有一个异步任务来执行一些操作。我通过在 ui 线程上运行它来调用它，否则它会引发 IllegalInitializerError：

```
superclass.this.runOnUiThread(new Runnable() {
    public void run() {
        String p="";
        try {
            p=new asynctasker().execute().get();
        }
    }
} 
```

在我的异步任务中：

```
protected void onPreExecute()
{
    // TODO Auto-generated method stub
    super.onPreExecute();
    //showDialog();
    Log.d("Now","Inside right now");
    dialog = ProgressDialog.show(class_create_event.this, "Loading1", "Please Wait");
} 
```

但是，该对话框几乎在请求结束时显示。I am in part 打印正确。我知道有东西阻塞了我的 ui 线程。但是，如果我不从 UI 线程调用异步任务，则会引发非法初始化程序错误。有什么出路吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T05:54:01.947

你不需要 UIthread 来调用 AsyncTask

像这样称呼它

```
FetchRSSFeeds async = new FetchRSSFeeds();
async.execute();

private class FetchRSSFeeds extends AsyncTask<String, Void, Boolean> {

    private ProgressDialog dialog = new ProgressDialog(HomeActivity.this);

    /** progress dialog to show user that the backup is processing. */
    /** application context. */

    protected void onPreExecute() {
        this.dialog.setMessage(getResources().getString(
                R.string.Loading_String));
        this.dialog.show();
    }

    protected Boolean doInBackground(final String... args) {
        try {

            // Fetch the RSS Feeds from URL
            // do background process

            return true;
        } catch (Exception e) {
            Log.e("tag", "error", e);
            return false;
        }
    }

    @Override
    protected void onPostExecute(final Boolean success) {

        if (dialog.isShowing()) {
            dialog.dismiss();
        }

        if (success) {
            // Setting data to list adaptar
            setListData();
        }
    }
} 
```

# java - 我可以将 thread.dumpstack() 输出复制到文件吗

> ID：13062290
> 
> 赞同：2
> 
> 时间：2012-10-25T05:43:38.427
> 
> 标签：java

我正在使用 jdk1.4 所以我必须使用 thread.dumpstack() 方法来打印调用堆栈，我希望所有转储到文件中，有什么办法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T05:48:15.617

如果您需要 Java 解决方案，而不是 Thread.dumpstack()，请执行

```
PrintStream out = new PrintStream(new FileOutputStream("stacktrace.txt"));
Throwable t = new Throwable();
t.printStackTrace(out);
... 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-25T05:49:05.093

如果创建`Throwable`对象，则可以打印堆栈跟踪：

```
PrintWriter writer = new PrintWriter( new FileWriter( "somefile.txt" ) );
new Throwable().printStackTrace( writer );
writer.close(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-25T05:47:05.440

简单——将 stderr 重定向到启动程序的命令行上的文件。

# c# - 如何使用 Usercontrol WPF 返回

> ID：13062291
> 
> 赞同：0
> 
> 时间：2012-10-25T05:43:43.417
> 
> 标签：c#, wpf, user-controls

基本上我有一个主窗口页面和一个设置页面，它是用户控件。当我单击主窗口上的**设置按钮时，主页面中的****网格**将显示设置页面用户控件。

同时，设置页面上有一个**取消按钮。**当我点击它时，设置页面用户控件将从**网格**中消失并返回它在主窗口中的样子。那么我可以在我的用户控制代码中写什么？还是有其他方法？谢谢。

我的主窗口：

```
<Grid Name="grid1"> 
  <TextBlock  Text="Hello World" />
  <TextBlock Text="Welcome" />
  <Button Name="settingBtn" Content="Setting" Click="settingBtn_Click" />   
</Grid> 
```

我的主窗口代码cs：

```
 private void notifyBtn_Click(object sender, RoutedEventArgs e)
    {

        UserControls.NotifySetting Set = new UserControls.NotifySetting();
        grid1.Children.Clear();
        grid1.Children.Add(Set);

    } 
```

我的用户控制页面：

```
<Grid > 
  <RadioButton Name="r1" Content="Red Color Font" />
  <RadioButton Name="r3" Content="Blue Color Font" />
  <Button Name="saveBtn" Content="Save" Click="saveBtn_Click" />  
  <Button Name="cancelBtn" Content="Cancel" Click="cancelBtn_Click" />  
</Grid> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T07:39:53.550

您可以将其放在取消按钮单击事件中：

```
 (this.Parent as Panel).Children.Remove(this) 
```

# wolfram-mathematica - 从嵌套列表中快速提取元素

> ID：13062296
> 
> 赞同：7
> 
> 时间：2012-10-25T05:44:24.290
> 
> 标签：wolfram-mathematica

这是 Mathematica 中列表操作的一个基本问题。我有一个大列表，其中每个元素都有以下示意图：{List1，List2，Number}。例如，

`a = {{{1,2,3},{1,3,2},5},{{1,4,5},{1,0,2},10},{{4,5,3},{8,3,4},15}}}`.

我想制作一个新列表，其中只有每个子列表中的一些部分。例如，从每个子列表中挑选出第三个元素，从上面给出 {5,10,15}。或删除第三个元素以返回 {{{1,2,3},{1,3,2}},{{1,4,5},{1,0,2}},{{4,5, 3},{8,3,4}}}。

我可以通过使用 table 命令构建新列表来做到这一点，例如，

```
Table[a[[i]][[3]],{i,1,Length[a]} 
```

但我想知道是否有一种必须更快的方法可以在大型列表上工作。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-25T06:29:33.740

在 Mathematica 5 及更高版本中，您可以通过多种方式使用关键字 All 来指定列表遍历。

例如，代替你的表，你可以写

```
a[[All,3]] 
```

在这里，Mathematica 将 All 转换为第一个维度的所有可接受的索引，然后采用下一个维度的第三个索引。

这样做通常比使用 Mathematica 编程语言循环更有效。对于您想要挑选或扫描的东西总是存在的*同质*列表来说，这真的很好。

另一个有效的符号和快捷方式是 ;; 句法：

```
a[[ All, 1 ;; 2]] 
```

将扫描 a 的第一级并获取每个子列表的第一个到第二个元素的所有内容，就像你的第二种情况一样。

事实上所有和;; 可以组合到任意数量的级别。;; 甚至可以以类似于 Mathematica 中的任何迭代器的方式使用：

```
a[[ start;;end;;step ]] 
```

会做同样的事情

```
Table[ a[[i]], {i,start,end,step}] 
```

并且您可以省略 start、end 或 step 之一，它使用默认值 1、Length[（隐式列表）] 和 1 填充。

您可能希望在 Mathematica 的帮助中查找的另一件事[`ReplacePart`](http://reference.wolfram.com/mathematica/ref/ReplacePart.html)是[`MapAt`](http://reference.wolfram.com/mathematica/ref/MapAt.html)允许以编程方式替换结构化表达式。有效使用它的关键在于，在 ReplacePart 中，您可以使用[*模式*](http://reference.wolfram.com/mathematica/tutorial/Introduction-Patterns.html)来指定要替换的事物的坐标，并且您可以定义要应用于它们的函数。

您的数据示例

```
ReplacePart[a, {_, 3} -> 0] 
```

将用 0 替换每个子列表的第三部分。

```
ReplacePart[a, {i : _, 3} :> 2*a[[i, 3]]] 
```

将每个子列表的第三部分加倍。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-26T14:36:40.760

正如作者所建议的，基于 Part 的方法需要格式良好的数据，但 Cases 是为强大的 List 分离而构建的：

使用你的，

```
a = {{{1, 2, 3}, {1, 3, 2}, 5}, {{1, 4, 5}, {1, 0, 2}, 
10}, {{4, 5, 3}, {8, 3, 4}, 15}};

Cases[a,{_List,_List,n_}:>n,Infinity]

{5, 10, 15} 
```

可以通过类似的形式提取记录的其他部分。

基于零件的方法将扼杀格式错误的数据，例如：

```
badA = {{{1, 2, 3}, {1, 3, 2}, 5}, {{1, 4, 5}, {1, 0, 2}, 
10}, {{4, 5, 3}, {8, 3, 4}, 15}, {baddata}, {{1, 2, 3}, 4}};

badA[[All,3]]

{{{1, 2, 3}, {1, 3, 2}, 5}, {{1, 4, 5}, {1, 0, 2},
10}, {{4, 5, 3}, {8, 3, 4}, 15}, {baddata}, {{1, 2, 3},
4}}[[All, 3]] 
```

,但是cases会跳过垃圾，只对符合的数据进行操作

```
Cases[badA, {_List, _List, s_} :> s, Infinity]

{5, 10, 15} 
```

h,

弗雷德·克林格

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-25T06:26:26.803

你可以使用`Part`（这个的简写`[[...]])`：

```
a[[All, 3]]

a[[All, {1, 2}]] 
```

# android - Android均衡器预设无效

> ID：13062298
> 
> 赞同：2
> 
> 时间：2012-10-25T05:44:53.323
> 
> 标签：android, equalizer

我观察到 android EQ 预设无法有效工作。谁能告诉我一种使效果更强烈的方法？谢谢你，斯里坎特

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-14T14:49:14.703

我有同样的问题。我会尝试使用不同的音乐播放器。这个网站似乎提供了一个解决方案（[http://www.makeuseof.com/tag/4-equalizer-tools-to-get-the-best-out-of-your-android-audio/](http://www.makeuseof.com/tag/4-equalizer-tools-to-get-the-best-out-of-your-android-audio/)）。

# python - 在python中将dict转换为排序的dict

> ID：13062300
> 
> 赞同：12
> 
> 时间：2012-10-25T05:45:02.593
> 
> 标签：python, pandas, dataframe, sorteddictionary

我想在python中将字典转换为排序的字典

```
data = pandas.read_csv('D:\myfile.csv')
for colname, dtype in data.dtypes.to_dict().iteritems():
    if dtype == 'object':
        print colname
        count = data[colname].value_counts()
        d = dict((str(k), int(v)) for k, v in count.iteritems())
        f = dict(sorted(d.iteritems(), key=lambda item: item[1], reverse = True)[:5])
        print f

        m ={}
        m["count"]= int(sum(count))    
        m["Top 5"]= f    
        print m    
        k = json.dumps(m)
        print k    
f = {'Gears of war 3': 6, 'Batman': 5, 'gears of war 3': 4, 'Rocksmith': 5, 'Madden': 3} 
```

我想要的输出是：

```
f = {'Gears of war 3': 6, 'Batman': 5, 'Rocksmith': 5, 'gears of war 3': 4, 'Madden': 3}
k = {'count':24, 'top 5':{'Gears of war 3': 6, 'Batman': 5, 'Rocksmith': 5, 'gears of war 3': 4, 'Madden': 3}} 
```

（按值的降序排列，结果应该是一个字典）

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-10-25T05:49:36.900

您不能对 a 进行排序，`dict`因为字典没有排序。

相反，使用[`collections.OrderedDict`](http://docs.python.org/library/collections.html#collections.OrderedDict)：

```
>>> from collections import OrderedDict
>>> d = {'Gears of war 3': 6, 'Batman': 5, 'gears of war 3': 4, 'Rocksmith': 5, 'Madden': 3}

>>> od = OrderedDict(sorted(d.items(), key=lambda x:x[1], reverse=True))
>>> od
OrderedDict([('Gears of war 3', 6), ('Batman', 5), ('gears of war 3', 4), ('Rocksmith', 5), ('Madden', 3)])

>>> od.keys()
['Gears of war 3', 'Batman', 'gears of war 3', 'Rocksmith', 'Madden']
>>> od.values()
[6, 5, 4, 5, 3]
>>> od['Batman']
5 
```

* * *

您在 JSON 对象中看到的“顺序”没有意义，因为 JSON 对象是无序的 [ [RFC4267](http://www.ietf.org/rfc/rfc4267.txt) ]。

如果您想在 JSON 中进行有意义的排序，则需要使用列表（按照您想要的方式排序）。像这样的东西是你想要的：

```
{
  "count": 24,
  "top 5": [
    {"Gears of war 3": 6},
    {"Batman": 5},
    {"Rocksmith": 5},
    {"gears of war 3": 4},
    {"Madden": 3}
  ]
} 
```

给定相同的 dict `d`，您可以通过以下方式生成排序列表（这是您想要的）：

```
>>> l = sorted(d.items(), key=lambda x:x[1], reverse=True)
>>> l
[('Gears of war 3', 6), ('Batman', 5), ('Rocksmith', 5), ('gears of war 3', 4), ('Madden', 3)] 
```

现在你只需传递`l`并`m['top5']`转储它：

```
m["Top 5"]= l
k = json.dumps(m) 
```

# iphone - 将联系电话号码添加到多个 uitextfiles

> ID：13062302
> 
> 赞同：0
> 
> 时间：2012-10-25T05:45:08.467
> 
> 标签：iphone, uitextview, abaddressbook

我有一个 uibutton，当点击它会显示联系人列表并将所选电话号码添加到 uitextfield。这是我正在使用的代码。

```
- (IBAction)contact1:(id)sender
{
ABPeoplePickerNavigationController *picker1 =
[[ABPeoplePickerNavigationController alloc] init];
picker1.peoplePickerDelegate = self;
[self presentModalViewController:picker1 animated:YES];
}
- (void)peoplePickerNavigationControllerDidCancel:

(ABPeoplePickerNavigationController *)peoplePicker
{
[self dismissModalViewControllerAnimated:YES];
 }
 - (BOOL)peoplePickerNavigationController:

 (ABPeoplePickerNavigationController *)peoplePicker 
  shouldContinueAfterSelectingPerson:(ABRecordRef)person {
  [self displayPerson:person];
  [self dismissModalViewControllerAnimated:YES];
  return NO;
  }

 - (BOOL)peoplePickerNavigationController:

 (ABPeoplePickerNavigationController *)peoplePicker
 shouldContinueAfterSelectingPerson:(ABRecordRef)person
 property:(ABPropertyID)property
 identifier:(ABMultiValueIdentifier)identifier

 {
 return NO;
 }

- (void)displayPerson:(ABRecordRef)person
 {
NSString* phone = nil;
ABMultiValueRef phoneNumbers = ABRecordCopyValue(person,kABPersonPhoneProperty);
if (ABMultiValueGetCount(phoneNumbers) > 0) {
    phone = (__bridge_transfer NSString*)
    ABMultiValueCopyValueAtIndex(phoneNumbers, 0);

 } else {
    phone = @"[None]";
    }
 self.telField1.text = phone;
 } 
```

我想要做的是让多个 uibuttons 将电话号码添加到多个 uitextfield 中。

例如：contact1 按钮将电话号码添加到 telField1 contact2 按钮将电话号码添加到 telField2 contact3 按钮将电话号码添加到 telField3

每个文本字段都有不同的电话号码。

我的原始代码可以修改还是我应该尝试另一种方法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T05:47:58.283

```
-(IBAction)getContact {
// creating the picker
ABPeoplePickerNavigationController *picker = [[ABPeoplePickerNavigationController alloc] init];
// place the delegate of the picker to the controll
picker.peoplePickerDelegate = self;

// showing the picker
[self presentModalViewController:picker animated:YES];
// releasing
[picker release]; 
```

}

```
- (void)peoplePickerNavigationControllerDidCancel:(ABPeoplePickerNavigationController *)peoplePicker {
// assigning control back to the main controller
[self dismissModalViewControllerAnimated:YES]; 
```

}

```
 - (BOOL)peoplePickerNavigationController: (ABPeoplePickerNavigationController *)peoplePicker shouldContinueAfterSelectingPerson:(ABRecordRef)person {

// setting the first name
firstName.text = (NSString *)ABRecordCopyValue(person, kABPersonFirstNameProperty);

// setting the last name
lastName.text = (NSString *)ABRecordCopyValue(person, kABPersonLastNameProperty);   

ABMultiValueRef multi = ABRecordCopyValue(person, kABPersonPhoneProperty);
number.text = (NSString*)ABMultiValueCopyValueAtIndex(multi, 0);

// remove the controller
[self dismissModalViewControllerAnimated:YES];

return NO; 
```

}

```
 - (BOOL)peoplePickerNavigationController:(ABPeoplePickerNavigationController *)peoplePicker shouldContinueAfterSelectingPerson:(ABRecordRef)person property:(ABPropertyID)property identifier:(ABMultiValueIdentifier)identifier{
return NO; 
```

}

它将通过单击按钮在文本字段中显示联系人，无需为每个文本字段设置单独的按钮。

# android - sqlite。表未创建

> ID：13062304
> 
> 赞同：0
> 
> 时间：2012-10-25T05:45:10.250
> 
> 标签：android

我正在尝试在 sqlite 中创建表，但显示无法创建表的错误。我有相同的代码，但数据库和表名不同。字段是相同的。还有一个疑问。我不能在包含相同字段的同一数据库中创建不同的表。

DbAdapter.java

代码如下。

```
public class DbAdapter {

    private static final String DATABASE_NAME="bible1";
    private static final String DATABASE_TABLE="test1";
    private static final int DATABASE_VERSION=1;

    public static final String KEY_ID="_id";
    public static final String UNITS="units";
    public static final String CHAPTERS="chapters";

    private static final String CREATE_DATABASE="create table test1 (_id integer primary key autoincrement, units text not null, chapters text not null);";

    private SQLiteHelper sqLiteHelper;
    private static SQLiteDatabase sqLiteDatabase;

    private Context context;

    //constructor

    public DbAdapter(Context c){
        context = c;
    }

    private static class SQLiteHelper extends SQLiteOpenHelper{

        public SQLiteHelper(Context context){

            super(context,DATABASE_NAME,null,DATABASE_VERSION);
        }
        @Override
        public void onCreate(SQLiteDatabase db) {
            // TODO Auto-generated method stub
            db.execSQL(CREATE_DATABASE);
            MakeUnits();
        }

        @Override
        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
            // TODO Auto-generated method stub

        }

    }

    public DbAdapter open() throws SQLException{
        try{
        sqLiteHelper = new SQLiteHelper(context);
        sqLiteDatabase = sqLiteHelper.getWritableDatabase();
        }catch(NullPointerException ne){
            Log.e("error in creating the table", "bye");
        }

        return this;
    }

    public void close(){
        sqLiteHelper.close();
    }

    public static long MakeUnits()
    {
        ContentValues insert1 = new ContentValues();
        insert1.put(UNITS, "Unit1");
        insert1.put(CHAPTERS, "CHAPTER1");
        return sqLiteDatabase.insert(DATABASE_TABLE,null,insert1);
    }

    public Cursor fetchAllNotes(){
        return sqLiteDatabase.query(DATABASE_TABLE, new String[]{KEY_ID,UNITS,CHAPTERS}, null, null, null, null, null);
    }
} 
```

MainActivity.java

```
public class MainActivity extends ListActivity {

    private DbAdapter Database;
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        ListView listContent = (ListView) findViewById(android.R.id.list);

        Database= new DbAdapter(this);
        Database.open();

        Cursor c = Database.fetchAllNotes();
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }
} 
```

调用 open() 方法时出错。想不通。在 logcat 中，标签中的错误是“创建表时出错”

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:22:25.443

您正在尝试调用`sqLiteDatabase.insert`inside `MakeUnits`，但`sqLiteDatabase`在您调用之前，此变量为空`getWritableDatabase`。您应该传递`db`到`MakeUnits`并调用 insert on `db`，而不是 on `sqLiteDatabase`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T06:21:13.490

仅当您调用 getWritableDatabase()/getReadableDatabase() 时才会创建数据库

如果您没有可写数据库的权限，您将获得一个可读数据库。

```
 public SQLiteDatabase getWritableDB() {
        try {
            return helper.getWritableDatabase();
        } catch (Exception e) {
            return getReadableDB();
        }
    }

    public SQLiteDatabase getReadableDB() {
        return helper.getReadableDatabase();
    } 
```

# python - 将 ReportLab 中的单个段落对齐和居中到一页文档中

> ID：13062306
> 
> 赞同：5
> 
> 时间：2012-10-25T05:45:19.617
> 
> 标签：python, reportlab

我想要一个单段落的 1 页 PDF，但使用 reportlab 将其水平和垂直集中。应用于下面段落的 TA_CENTER 对齐似乎只是水平对齐文本，但它没有将其居中到文档的中心。

```
style = getSampleStyleSheet()
normal = style["Normal"]
normal.alignment = TA_CENTER
normal.fontName = "Helvetica"
normal.fontSize = 15
normal.leading = 15

text = "Please be wrapped, centered horizontally and vertically!!"
pdf = SimpleDocTemplate(documentPath, pagesize = (250, 80), rightMargin=10, leftMargin=10, topMargin=5,bottomMargin=5)
story = []
para = Paragraph(text, normal)
story.append(para)
pdf.build(story) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-13T10:37:38.663

似乎样式对齐不提供使用鸭嘴兽模板将文本设置在中间的特权。

我会说使用 SimpleDocTemplate 是不可能的。

但是如果你把它包在桌子上。然后您可以将 MIDDLE 样式设置为您的表格。然后它将起作用。

# oauth - 使用 janrain 从令牌中解码信息

> ID：13062310
> 
> 赞同：0
> 
> 时间：2012-10-25T05:46:01.717
> 
> 标签：oauth, janrain

我在我的网站上使用 janrain 小部件进行 OAuth 过程。我正在以下 URL 中对此进行测试：http: [//vignesh.gvignesh.org/register/](http://vignesh.gvignesh.org/register/)

单击注册按钮后，用户从 Google 或 Yahoo 或 Facebook 登录。我能够获取令牌并将其存储在变量中。我在我的站点中显示令牌以进行测试。现在我不知道如何从我得到的令牌中提取用户信息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T07:04:09.430

```
<?php

$rpxApiKey = 'YOUR_API_KEY_HERE';

if(isset($_POST['token'])) {

  /* STEP 1: Extract token POST parameter */
  $token = $_POST['token'];

  /* STEP 2: Use the token to make the auth_info API call */
  $post_data = array('token' => $_POST['token'],
                     'apiKey' => $rpxApiKey,
                     'format' => 'json');

  $curl = curl_init();
  curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);
  curl_setopt($curl, CURLOPT_URL, 'https://rpxnow.com/api/v2/auth_info');
  curl_setopt($curl, CURLOPT_POST, true);
  curl_setopt($curl, CURLOPT_POSTFIELDS, $post_data);
  curl_setopt($curl, CURLOPT_HEADER, false);
  curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);
  $raw_json = curl_exec($curl);
  curl_close($curl);

  /* STEP 3: Parse the JSON auth_info response */
  $auth_info = json_decode($raw_json, true);

  if ($auth_info['stat'] == 'ok') {

    /* STEP 3 Continued: Extract the 'identifier' from the response */
    $profile = $auth_info['profile'];
    $identifier = $profile['identifier'];

    if (isset($profile['photo'])) {
      $photo_url = $profile['photo'];
    }

    if (isset($profile['displayName'])) {
      $name = $profile['displayName'];
    }

    if (isset($profile['email'])) {
      $email = $profile['email'];
    }

    print $identifier;
        echo "</br>";
    print $photo_url;
        echo "</br>";
    print $name;
        echo "</br>";
    print $email;
    /* STEP 4: Use the identifier as the unique key to sign the user into your system.
This will depend on your website implementation, and you should add your own
code here.
*/

/* an error occurred */
} else {
  // gracefully handle the error. Hook this into your native error handling system.
  echo 'An error occured: ' . $auth_info['err']['msg'];
}
}
?> 
```

这将从我们在身份验证后获得的令牌中提取信息。

# asp.net - 提交前清除服务器验证消息

> ID：13062313
> 
> 赞同：0
> 
> 时间：2012-10-25T05:46:09.117
> 
> 标签：asp.net, validation, asp.net-mvc-3, message

要复制问题：

1.  创建一个带有服务器验证的 ASP.NET MVC 3 页面。
2.  提交验证错误。
3.  服务器验证错误以红色显示。
4.  更正验证错误并再次提交，然后成功重定向到另一个报告页面。
5.  单击报告页面上的返回按钮时，验证错误消息仍显示在原始表单上。

用户在单击后退按钮时看到服务器验证消息感到恼火。

*   我不会考虑禁用后退按钮的解决方案。
*   我不会考虑在单击后退按钮时刷新页面的解决方案。

**在成功提交表单或任何其他有效解决方案之前，我会考虑服务器验证消息消失。**

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-06T08:07:38.960

为了避免看到验证消息，我禁用了缓存，这样当用户单击后退按钮时浏览器会自动重新加载页面。但是，如果页面之前使用`POST`方法提交，用户会看到表单重新提交警告。为了解决这个问题，如果 ModelState 无效，我使用 javascript`window.history.back()`将请求更改`POST`回先前的请求。`GET`

以下是详细信息...

在控制器中创建两个函数：一个带有`[HttpGet]`属性，一个带有`[HttpPost]`属性。

在`HttpPost`版本中，添加以下逻辑...

1.  如果 ModelState 无效，将 ModelState 和表单/模型数据保存到 TempData
2.  返回一个包含 javascript 的简单视图，如下所示。

    <html> <body> <script>window.history.back(); </script> </body> </html>

在`HttpGet`版本中，

1.  添加属性`[OutputCache(NoStore = true, Duration = 0)]`
2.  添加逻辑以从 TempData 加载 ModelState 和模型数据
3.  将模型数据传递给 View

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T06:51:07.690

以下是一些清除历史记录的方法，以便后退按钮不会显示记住的页面： http: [//www.codeproject.com/Tips/135121/Browser-back-button-issue-after-logout](http://www.codeproject.com/Tips/135121/Browser-back-button-issue-after-logout)

# android - 脸书用户基本信息

> ID：13062315
> 
> 赞同：0
> 
> 时间：2012-10-25T05:46:17.707
> 
> 标签：android, facebook

我想在使用 SSO 之前显示一些有关用户的信息。就像是：

**“以 John Smith 身份登录 facebook”**

在实际登录之前这可能吗？喜欢从 Facebook 应用中获取信息？

最好向用户表达按下按钮意味着使用 fbook 应用程序中定义的用户登录。我只是不希望我的用户认为他们会输入电子邮件地址并意外地将他们的帐户链接到他们朋友的 Facebook。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T09:20:00.727

**这不可能**的原因是，如果可能的话，您可以轻松地跟踪谁在使用您的应用程序，而无需收集该用户信息的权限。

# jquery - 将所有文本字段的输入类型更改为密码字段

> ID：13062318
> 
> 赞同：-3
> 
> 时间：2012-10-25T05:46:26.167
> 
> 标签：jquery, google-chrome, bookmarklet

如果它们是文本类型（最好是 javascript 小书签），我需要将所有文本输入字段更改为密码输入字段（用星号隐藏）的代码。

PS：我用的是谷歌浏览器，对将jquery放在chrome中一无所知

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T05:50:52.073

这是一个相关主题：[使用 jQuery 更改输入字段的类型](https://stackoverflow.com/questions/1544317/jquery-change-type-of-input-field)

> 作为浏览器安全模型的一部分，很可能会阻止此操作。
> 
> 编辑：确实，现在在 Safari 中进行测试，我得到错误类型属性无法更改。
> 
> 编辑 2：这似乎是直接来自 jQuery 的错误。使用以下直接 DOM 代码就可以了：

```
var pass = document.createElement('input');
pass.type = 'password';
document.body.appendChild(pass);
pass.type = 'text';
pass.value = 'Password'; 
```

> 编辑 3：直接来自 jQuery 源，这似乎与 IE 有关（并且可能是错误或他们的安全模型的一部分，但 jQuery 不是特定的）：

```
// We can't allow the type property to be changed (since it causes problems in IE)
if ( name == "type" && jQuery.nodeName( elem, "input" ) && elem.parentNode )
    throw "type property can't be changed"; 
```

# python - 如何删除 QTreeWidgetItem

> ID：13062327
> 
> 赞同：12
> 
> 时间：2012-10-25T05:47:08.127
> 
> 标签：python, qt, pyside, qtreewidget, qtreewidgetitem

有几个网页说可以通过delete或ing`QTreeWidgetItem`删除。`QTreeWidget.clear`但是我下面的代码示例似乎没有这样做。我做错什么了吗？

```
#!/usr/bin/python
import sys
from PySide.QtGui import QApplication, QWidget, QTreeWidget, QTreeWidgetItem
#from PyQt4.QtGui import QApplication, QWidget, QTreeWidget, QTreeWidgetItem # Result was the same with `PySide`
import time

class TreeWidgetItemChild(QTreeWidgetItem):
    def __init__(self):
        super(TreeWidgetItemChild, self).__init__()
        print 'TreeWidgetItemChild init'

    def __del__(self):
        print 'TreeWidgetItemChild del'

def test_QTree_clear_children():
    tree = QTreeWidget()
    tree.setHeaderLabel('funksoul')
    i = TreeWidgetItemChild()    
    tree.addTopLevelItem(i)    
    print 'Before clearing'
    #tree.clear()                  # Didn't call destructor (__del__)
    #tree.removeItemWidget (i, 0)  # Didn't call destructor
    #i.__del__()                   # Called destructor but it's called again afterward
    del i                          # Didn't call destructor
    time.sleep(1)
    print 'After clearing'

if __name__ == '__main__':
    app = QApplication(sys.argv)
    test_QTree_clear_children() 
```

打印为：

```
TreeWidgetItemChild init
Before clearing
After clearing
TreeWidgetItemChild del 
```

在我看来`TreeWidgetItemChild`，进程终止时会被删除，而不是我的任何删除操作。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-10-25T08:58:49.707

Python 在内存管理/删除对象的意义上与 C++ 不同。Python 有一个垃圾收集器 (GC)，可以自动管理对象的销毁。当对象的引用计数达到零时，就会发生这种情况。

`del i` only means 'decrement the reference count by one'. It never results in a direct call to `__del__`. `__del__` of an object is only called when reference count reaches to zero and is about to be garbage collected. (Although this is true for CPython, it's not guaranteed for every implementation. It depends on the GC implementation. So you should not rely on `__del__` at all)

Keeping story short, the call time of `__del__` is ambiguous. You should never call `__del__` (or any other `__foo__` special methods) directly. In fact, for the reasons above you should rather avoid the use of `__del__` at all (usually).

Apart from that, there is another issue.

```
tree.removeItemWidget(i, 0) 
```

This does not remove an item from `QTreeWidget`. As the name suggests, it removes a *widget* from an item, not the `QTreeWidgetItem`. It's counterpart to the `setItemWidget` method, not the `addTopLevelItem` method.

If you need to remove a specific item from the tree, you should use `takeTopLevelItem`.

```
tree.takeTopLevelItem(tree.indexOfTopLevelItem(i)) 
```

`tree.clear()` is fine. It will remove every top level item from the tree.

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-25T08:25:34.897

通过调用`del i`，您只是删除了引用，而不是它所引用的实际 C++ 对象（*referent*），而不是对象本身。

将您的功能更改`TreeWidgetItemChild.__del__`为：

```
def __del__(self):
    treeWidget = self.treeWidget()
    #removing the QTreeItemWidget object
    treeWidget.takeTopLevelItem(treeWidget.indexOfTopLevelItem(self))
    print 'TreeWidgetItemChild del' 
```

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2018-10-06T03:30:36.837

As an epilogue to [Avaris](https://stackoverflow.com/a/13065056/2809027)' [excellent answer](https://stackoverflow.com/a/13065056/2809027), let's flog an even *more* general-purpose approach applicable to all widgets and widget items (rather than merely top-level tree widget items). Is this supposed Shangri-La too good to be true?

To quoth the Mario: *"Waaaa! Let's-a-go!"*

## Here We-A-Go

Specifically, if your project leverages:

*   PySide2, import the `shiboken2` module and pass each tree widget item to be deleted to the `shiboken2.delete()` function ala:

    ```
    # Well, isn't that nice. Thanks, Qt Company.
    from PySide2 import shiboken2

    # Add this item to this tree.
    tree = QTreeWidget()
    item = TreeWidgetItemChild()
    tree.addTopLevelItem(item)

    # Remove this item from this tree. We're done here, folks.
    shiboken2.delete(item) 
    ```

*   PyQt5, import the `sip` module and pass each tree widget item to be deleted to the `sip.delete()` function ala:

    ```
    # Well, isn't that not-quite-so-nice. You are now required to import any
    # arbitrary PyQt5 submodule *BEFORE* importing "sip". Hidden side effects are
    # shameful, of course, but we don't make the rules. We only enforce them. For
    # detailed discussion, see:
    #
    #     http://pyqt.sourceforge.net/Docs/PyQt5/incompatibilities.html#pyqt-v5-11
    #
    # If your project requires PyQt5 >= 5.11, the following compatibility hack may
    # be safely reduced to the following one-liner:
    #
    #     from PyQt5 import sip
    from PyQt5 import QtCore
    import sip

    # Add this item to this tree.
    tree = QTreeWidget()
    item = TreeWidgetItemChild()
    tree.addTopLevelItem(item)

    # Remove this item from this tree.
    sip.delete(item) 
    ```

## Nothing Could Possibly Go Wrong

Yes, this behaves as expected under all platforms and (PyQt5|PySide2) releases. The Python-specific `sip.delete()` and `shiboken2.delete()` methods are high-level wrappers around the underlying C++ `delete` operator – and operate exactly identically. In the case of `QTreeWidgetItem` instances, this reproduces the C++ behaviour of immediately removing the passed item from its parent tree.

Yes, it is both glorious and sketchy. Thanks to [alexisdm](https://stackoverflow.com/users/894321/alexisdm)'s [relevant answer elsewhere](https://stackoverflow.com/a/12135379/2809027) for the motivational impetus behind this overwrought answer. ^(*Glory be to [alexisdm](https://stackoverflow.com/users/894321/alexisdm).*)

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-10-25T10:15:44.573

You're confusing tree items (i.e., tree nodes) with the widgets that a given item can contain.

The following example creates a `QTreeWidget` and adds two items to it: a top level item and a nested one. Removing the comments you can see how both of them are removed from the tree.

```
#!/usr/bin/env python
import sys
from PyQt4.QtGui import *

class MyMainWindow(QMainWindow):
    def __init__(self, parent=None):
        super(MyMainWindow, self).__init__(parent)
        self.tree = QTreeWidget(self)
        self.setCentralWidget(self.tree)
        self.tree.setHeaderLabel('funksoul')
        i = QTreeWidgetItem(self.tree, ['top level'])   
        self.tree.addTopLevelItem(i)
        j = QTreeWidgetItem(i ,['nested level'])
        #i.takeChild(0)
        #self.tree.takeTopLevelItem(0)

if __name__ == "__main__":
    app = QApplication(sys.argv)
    ui = MyMainWindow()
    ui.show()
    sys.exit(app.exec_()) 
```

For removing both types of items from the tree you need the items index. If you have a reference to the item you want to remove you can get the corresponding index with the `indexOfTopLevelItem` and `indexOfChild` functions.

# php - Php Textarea 不能包含 textarea 值，请帮帮我:)

> ID：13062331
> 
> 赞同：2
> 
> 时间：2012-10-25T05:47:27.690
> 
> 标签：php

请帮忙，有些天我搜索并没有找到？

我有“test.php”

```
<html>
<body>
<form>
<input type="text" Name="">
<textarea name=""></textarea>
<input type="submit" value="help me">
</form>
</body>
<html> 
```

和“index.php”

```
<html>
<body>
<?php
$test = "test.php";
?>
<textarea name=""><?php readfile($test ); ?></textare>
</body>
</html> 
```

我的问题，为什么提交按钮在 textarea 之外？而不是将其读取为字符串或值？

谢谢 ：）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T05:54:42.810

[`<textarea>`](http://www.w3schools.com/tags/tag_textarea.asp)只能包含文本。控件不能嵌入其中。您应该使用[`<iframe>`](http://www.w3schools.com/tags/tag_iframe.asp)标签能够在您的页面中嵌套另一个 html。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T05:57:10.420

[可能与文本区域内](https://stackoverflow.com/questions/926723/tags-inside-textarea)的标签重复

您可以使用“内容可编辑的 div”。这个[jsfiddle中提供了一个使用jquery的例子](http://jsfiddle.net/mekwall/XNkDx/)

Textareas 不能包含其他标签。您的按钮位于文本区域之外，因为文件`<textarea name=""></textarea>`内部`test.php`实际上正在关闭您的主文本区域，其余代码被视为主页中的代码，而不是主文本区域的内容。

# python - 虽然循环没有正确添加

> ID：13062332
> 
> 赞同：1
> 
> 时间：2012-10-25T05:47:30.673
> 
> 标签：python, python-2.7

我正在尝试制作一个简单的 Eratosthenes 筛选脚本，而且我刚刚开始使用 Python 和一般的编码，所以我现在并不担心效率。

```
import math
primes = range(2,500)
upperLimit = math.ceil(math.sqrt(float(primes[-1])))

def sieve(numbers):
    for item in range(0,int(upperLimit)):
        n = numbers[item]
        while n < upperLimit:
            n += numbers[item]
            print n
            print numbers
            numbers.remove(n)

sieve(primes)
print primes 
```

这一直告诉我第 12 行中的 numbers.remove(n) 不存在，所以我将打印语句放在它上面以试图弄清楚发生了什么。它运行良好，删除了它应该做的，最多 24。然后，不是再次将 2 添加到 n，而是将 n 更改为 6。这就是给我错误的原因，但我不知道为什么它一直这样做.

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T06:33:12.887

第一次通过for循环：

```
item == 0
starting n == 2
removing 4
removing 6
removing 8
removing 10
removing 12
removing 14
removing 16
removing 18
removing 20
removing 22
removing 24 
```

下一次迭代：

```
item == 1
starting n == 3
removing 6 (but 6 is not in the list, because it has already been removed)
ValueError 
```

如您所料，当`item == 1`, `n == numbers[1] == 3`. 然后，`n += numbers[1]`结果为`n == 6`。但是你不能删除 6 两次，所以你会得到一个错误。

# python - Shapely 中的多边形相交错误：“shapely.geos.TopologicalError：操作'GEOSIntersection_r'产生了一个空几何”

> ID：13062334
> 
> 赞同：13
> 
> 时间：2012-10-25T05:47:33.630
> 
> 标签：python, exception, polygon, intersection, shapely

我一直在尝试调试此问题，但无法这样做。我试图找到两个`Polygon`对象的交集。它大部分时间都有效，但对于以下情况，它会引发以下异常：

```
P1 area: 13.125721955
P2 area: 1.0
Traceback (most recent call last):
File "geom2d.py", line 235, in <module>
print p1.intersection(p2)
File "/usr/local/lib/python2.7/dist-packages/shapely/geometry/base.py", line 334, in     intersection
return geom_factory(self.impl['intersection'](self, other))
  File "/usr/local/lib/python2.7/dist-packages/shapely/topology.py", line 47, in __call__
    "The operation '%s' produced a null geometry. Likely cause is invalidity of the geometry %s" % (self.fn.__name__, repr(this)))
shapely.geos.TopologicalError: The operation 'GEOSIntersection_r' produced a null     geometry. Likely cause is invalidity of the geometry <shapely.geometry.polygon.Polygon      object at 0x8e5ad6c> 
```

代码如下。

```
from shapely.geometry import Point,Polygon,MultiPolygon

poly1 = [(35.0041000000000011, -88.1954999999999956), (34.9917999999999978,         -85.6068000000000069), (32.8404000000000025, -85.1756000000000029), (32.2593000000000032, -84.8927000000000049), (32.1535000000000011, -85.0341999999999985), (31.7946999999999989, -85.1358000000000033), (31.5199999999999996, -85.0438000000000045), (31.3384000000000000, -85.0836000000000041), (31.2092999999999989, -85.1069999999999993), (31.0023000000000017, -84.9943999999999988), (30.9953000000000003, -87.6008999999999958), (30.9422999999999995, -87.5926000000000045), (30.8538999999999994, -87.6256000000000057), (30.6744999999999983, -87.4072000000000031), (30.4404000000000003, -87.3687999999999931), (30.1463000000000001, -87.5240000000000009), (30.1545999999999985, -88.3863999999999947), (31.8938999999999986, -88.4742999999999995), (34.8937999999999988, -88.1020999999999930), (34.9478999999999971, -88.1721000000000004), (34.9106999999999985, -88.1461000000000041)]
poly2 = [(34.7998910000000024, -88.2202139999999986), (34.7998910000000024,  -87.2202139999999986), (35.7998910000000024, -87.2202139999999986), (35.7998910000000024, -88.2202139999999986)]

p1 = Polygon(poly1)
p2 = Polygon(poly2)
print 'P1 area:',p1.area
print 'P2 area:',p2.area
print p1.intersection(p2) 
```

由于它打印了两个多边形的面积，我假设多边形的形成是正确的。我还（不知何故）打印了第一个多边形以确保它确实是一个简单的多边形。

谁能解释一下为什么我会得到这个例外？

**编辑：**我打印了 p1.is_valid ，结果是假的。[这里](http://toblerity.github.com/shapely/manual.html#predicates-and-relationships)有一些解释。搜索字符串`is_valid`。它说

> 一个有效的多边形可能不具有任何重叠的外环或内环。

有人可以解释一下这意味着什么，是否有可能的解决方法？顺便说一句，我还注意到，如果我从 中删除最后一个坐标`poly1`，则整个过程都有效。也许整个坐标列表使多边形变得**复杂**。

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2012-12-30T19:46:42.157

如前所述，`p1`无效。在绘制它时，我注意到右下方有一个小“领结”。我假设您的多边形中不需要它；如果没有，你可以尝试 Shapely 的`buffer(0)`技巧（记录在 Shapely 手册中）来解决这个问题：

```
In [382]: p1.is_valid
Out[382]: False

In [383]: p1 = p1.buffer(0)

In [384]: p1.is_valid
Out[384]: True 
```

`buffer(0)`有以下效果：

前：

![在此处输入图像描述](../Images/94925f4bb3a664a00cd7e07a400cf019.png)

后：

![在此处输入图像描述](../Images/401ae12859cb2ffe4ce9ea3b75675d6a.png)

你现在可以这样做：

```
print p1.intersection(p2)
POLYGON ((34.9396324323625151 -88.1614025927056559, 34.8937999999999988 -88.1020999999999930, 34.7998910000000024 -88.1137513649788247, 34.7998910000000024 -87.2202139999999986, 34.9994660069532983 -87.2202139999999986, 35.0041000000000011 -88.1954999999999956, 34.9396324323625151 -88.1614025927056559)) 
```

请注意，我有一些例子（看起来更像“鸟巢”而不是简单的领结的区域）这不起作用；检查以确保您返回一个`Polygon`对象而不是一个对象`MultiPolygon`。

* * *

## 回答 #2

> 赞同：16
> 
> 时间：2012-10-25T06:05:49.820

您收到此异常是因为`p1`不是有效的多边形。

```
>>> p1.is_valid
False
>>> p2.is_valid
True 
```

[文档](http://toblerity.github.com/shapely/manual.html#id21)说：

> 一个有效的多边形可能不具有任何重叠的外环或内环。

请记住，由于多边形的第一个点和最后一个点形状不同，因此会将第一个点附加到列表的末尾。

```
>>> list(p1.exterior.coords)
[(35.004100000000001, -88.195499999999996), (34.991799999999998, -85.606800000000007), (32.840400000000002, -85.175600000000003), (32.259300000000003, -84.892700000000005), (32.153500000000001, -85.034199999999998), (31.794699999999999, -85.135800000000003), (31.52, -85.043800000000005), (31.3384, -85.083600000000004), (31.209299999999999, -85.106999999999999), (31.002300000000002, -84.994399999999999), (30.9953, -87.600899999999996), (30.942299999999999, -87.592600000000004), (30.853899999999999, -87.625600000000006), (30.674499999999998, -87.407200000000003), (30.4404, -87.368799999999993), (30.1463, -87.524000000000001), (30.154599999999999, -88.386399999999995), (31.893899999999999, -88.474299999999999), (34.893799999999999, -88.102099999999993), (34.947899999999997, -88.1721), (34.910699999999999, -88.146100000000004), (35.004100000000001, -88.195499999999996)] 
```

你的多边形的外部是一个线性环，它也似乎是无效的：

```
>>> p1.exterior.type
'LinearRing'
>>> p1.exterior.is_valid
False 
```

您还可以看到，如果要将多边形的外部变成线串，那将很复杂：

```
>>> l1 = LineString(p1.exterior.coords)
>>> l1.is_simple
False 
```

不知何故，多边形的外部交叉或接触自身。

深入挖掘数据，我们可以在地图上将其可视化：

```
>>> import cgpolyencode
>>> encoder = cgpolyencode.GPolyEncoder()
>>> encoder.encode((y, x) for x, y in p1.exterior.coords)
{'points': 'svstEzthyOzkAkrxNfecL_fsAznpBcgv@ftSjsZnaeA~yRzst@_~P~mb@vwFzeXfqCvlg@w~Tvj@ra|NfjI{r@ngPfmEf`b@_ti@bvl@_oFbmx@~h]{r@~lgDsurIjdPk|hQgugAaqIntLlgFoaDwfQvsH', 'numLevels': 18, 'zoomFactor': 2, 'levels': 'PPLMKMKGKPNIKLMNPLLKJP'} 
```

如果你把它插入[谷歌的折线编码器](https://developers.google.com/maps/documentation/utilities/polylineutility)，你可以看到它是阿拉巴马州。如果您放大阿拉巴马州的左上角，您可以看到其中两条线相互交叉。要解决此问题，您需要删除最后一点或将最后一点与第二点交换到最后一点。

# php - 在带有 PHP 而不是 Ruby 的 Red Hat Linux 机器上使用 SASS

> ID：13062335
> 
> 赞同：0
> 
> 时间：2012-10-25T05:47:38.107
> 
> 标签：php, sass, redhat

我一直在研究 SASS 有一段时间了。我认为这样一个系统的好处可能很大，因为它将允许使用全局变量和其他此类功能。

它还允许我将多个 CSS 文件编译为一个，这（众所周知）意味着只有一个 HTTP 请求。

问题是，我们使用带有 PHP 的 Red Hat Linux 环境来运行基于 Joomla 的模板，我被告知我需要找到一个 Ruby 替代方案。此外，我们在服务器上安装的任何东西都必须在 Red Hat 存储库中。

SASS有什么办法解决这个问题吗？我必须找到替代方案吗？如果是这样，Stack Overflow 的聪明人会推荐什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T15:32:57.910

一种选择是仅在您的开发机器上安装 Ruby/Sass（我的笔记本电脑上有一个运行 BSD 的虚拟机）。在本地编译并将完成的 CSS 推送到您的生产机器。

您可能还会研究像 Scout 这样的 Windows 编译器（我自己从未使用过）： http: [//mhs.github.com/scout-app/](http://mhs.github.com/scout-app/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T05:59:12.640

不，您不需要 Ruby 在 PHP 中运行 SASS，因为 PHP 自己的 SASS 编译器是可用的。为此，您可以从[https://github.com/richthegeek/phpsass](https://github.com/richthegeek/phpsass)下载该软件包。

# cocoa-touch - 动态改变 UIScrollView 的内容

> ID：13062337
> 
> 赞同：0
> 
> 时间：2012-10-25T05:47:42.620
> 
> 标签：cocoa-touch, uiscrollview

我正在尝试为本地多人游戏创建一个菜单，当网络上的对等方可用时动态更新。

我要实现的接口是 a `UIScrollView`，其中每个页面显示有关对等点的信息。理想情况下，当对等点的可用性发生变化时，会添加和删除这些页面。

我使用 浏览了几个教程`UIScrollView`，但它们似乎都从 plist 或预加载的数组中提取页面信息。

我想要的必须是可能的；天气应用程序的行为方式类似，动态添加或删除位置页面。不过，我不知道该去哪里寻求进一步的帮助。如何在发生外部事件时动态更新滚动视图的内容？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-27T02:30:30.343

我决定改用 UICollectionView，它似乎为我想要完成的工作提供了一种更好的实现方法。谢谢！

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-25T05:51:27.757

看看这个[Ray Wenderlich 教程](http://www.raywenderlich.com/10518/how-to-use-uiscrollview-to-scroll-and-zoom-content)。

我已经将它用作进行分页滚动的基础，并且该机制非常简单，可以扩展到您想要的任何动态方案。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-25T05:55:28.420

您可以查看此站点以获取 UIScrollview 的多个教程和示例。链接：

[在这儿..](http://www.cocoacontrols.com/search?utf8=%E2%9C%93&q=scrollview)

我敢肯定，您将能够找到一些适合您需要的好代码。希望对你有效。

# symfony - 为什么包含文件时 phpUnit 测试代码覆盖率在 Symfony2 中不起作用？

> ID：13062338
> 
> 赞同：0
> 
> 时间：2012-10-25T05:47:43.433
> 
> 标签：symfony, phpunit, code-coverage

```
PHP Fatal error:  Class 'Symfony\Bundle\FrameworkBundle\Test\WebTestCase' not found in /home/manivasagam/projects/ProofCentral/src/ProofCentral/ServiceBundle/Tests/Services/AttachmentServiceTest.php on line 15
PHP Stack trace:
PHP   1\. {main}() /usr/bin/phpunit:0
PHP   2\. PHPUnit_TextUI_Command::main() /usr/bin/phpunit:46
PHP   3\. PHPUnit_TextUI_Command->run() /usr/share/php/PHPUnit/TextUI/Command.php:129
PHP   4\. PHPUnit_Runner_BaseTestRunner->getTest() /usr/share/php/PHPUnit/TextUI/Command.php:150
PHP   5\. PHPUnit_Runner_BaseTestRunner->loadSuiteClass() /usr/share/php/PHPUnit/Runner/BaseTestRunner.php:104
PHP   6\. PHPUnit_Runner_StandardTestSuiteLoader->load() /usr/share/php/PHPUnit/Runner/BaseTestRunner.php:168
PHP   7\. PHPUnit_Util_Fileloader::checkAndLoad() /usr/share/php/PHPUnit/Runner/StandardTestSuiteLoader.php:77
PHP   8\. PHPUnit_Util_Fileloader::load() /usr/share/php/PHPUnit/Util/Fileloader.php:76
PHP   9\. include_once() /usr/share/php/PHPUnit/Util/Fileloader.php:92 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T09:21:19.153

这里的问题是你不加载`bootstrap`文件

我把配置放在`app/phpunit.xml`

在其中包含以下xml：

```
<?xml version="1.0" encoding="UTF-8"?>

<!-- http://www.phpunit.de/manual/current/en/appendixes.configuration.html -->
<phpunit
    backupGlobals="false"
         backupStaticAttributes="false"
         convertErrorsToExceptions="true"
         convertNoticesToExceptions="true"
         convertWarningsToExceptions="true"
         processIsolation="false"
         stopOnFailure="false"
         syntaxCheck="false"
    bootstrap                   = "bootstrap.php.cache" >

    <testsuites>
        <testsuite name="Project Test Suite">
            <directory>../src/*/*Bundle/Tests</directory>
            <directory>../src/*/Bundle/*/Tests</directory>
        </testsuite>

    </testsuites>

    <!--
    <php>
        <server name="KERNEL_DIR" value="/path/to/your/app/" />
    </php>
    -->

    <filter>
        <whitelist>
            <directory>../src</directory>
            <exclude>
                <directory>../src/*/Bundle/*/Resources</directory>
                <directory>../src/*/Bundle/*/Controller</directory>
                <directory>../src/*/Bundle/*/Tests</directory>
                <directory>../src/*/Bundle/*/DataFixtures</directory>
                <directory>../src/*/Bundle/*/DependencyInjection</directory>
                <directory>../src/*/Bundle/*/Form</directory>
                <directory>../src/*/Bundle/*/Event*</directory>
        <directory>../src/*/Bundle/*/Firewall</directory>
            </exclude>
        </whitelist>
    </filter>

</phpunit> 
```

然后运行`phpunit`

```
phpunit --coverage-text app src/ProofCentral/ServiceBundle/Tests/Services/CalculatorTest.php --bootstrap path/to/your/app/bootstrap.php.cache 
```

# java - 使用 System.currentTimeMillis() 测量时差

> ID：13062345
> 
> 赞同：7
> 
> 时间：2012-10-25T05:48:27.130
> 
> 标签：java, time

我有一个简单的 java 程序，我想知道一些操作之间的时间差。对于这个问题，细节并不重要，但让我们看下面的场景。

```
long beginTime = System.currentTimeMillis();

//Some operations. Let us asssume some database operations etc. which are time consuming.

//

long endTime = System.currentTimeMillis();

long difference = endTime - beginTime; 
```

当代码在机器上运行时，差异会有多可靠？

假设处理器开始执行我的代码中的一些指令，然后将上下文提供给另一个进程，该进程执行一段时间，然后返回执行与该 java 进程相关的指令。

那么，时间差应该取决于我机器的当前状态，即有多少进程正在运行等？那么，在一些操作运行的分析时间里，这种机制不可靠吗？

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-25T05:57:24.443

的粒度`System.currentTimeMillis()`取决于实现和操作系统，通常约为 10 毫秒。

而是使用`System.nanoTime()`which 返回最精确的可用系统计时器的当前值，以纳秒为单位。请注意，您只能使用它来计算经过的时间，不能将其值用作绝对时间。

例子：

```
long startTime = System.nanoTime();
// do something you want to measure
long elapsedTimeNs = System.nanoTime() - startTime; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-25T06:14:56.257

我认为您的代码会做得很好，因为在几个项目中使用了相同的代码。我认为如果您的代码调用其他数据库进程等，那么它不会对您的时间产生任何影响。在这种情况下它也应该可以正常工作。

前任。

```
Main Process Started
long beginTime = System.currentTimeMillis();
.
.
.
Called another process (DB or command etc) -> (Another Process start)
                                               .
<Now in this time main process is waiting>     .
                                               .
                                               .
Returned from process                      <- (Another Process end)
.
.
long endTime = System.currentTimeMillis();
long difference = endTime - beginTime; 
```

现在这个差异将是主进程花费的总时间，包括另一个进程花费的时间。这个时间是参考主要过程的机器的，这很好。

# .htaccess - 子存储重定向到子域

> ID：13062346
> 
> 赞同：1
> 
> 时间：2012-10-25T05:48:29.173
> 
> 标签：.htaccess, redirect

我有一个如下网址

[http://www.abcxyz.com/storename](http://www.abcxyz.com/storename)

我有子域

[http://subdomain.adbxyz.com](http://subdomain.adbxyz.com)

所以我想用[http://subdomain.adbxyz.com/重写](http://subdomain.adbxyz.com/)[http://www.abcxyz.com/storename的所有 URL](http://www.abcxyz.com/storename)

如何使用 HTACCESS 做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T07:01:44.247

如果您正在使用`mod_alias`并且只想做一个永久重定向，那么您可以将以下行添加到您的`.htaccess`：

```
Redirect 301 /www.abcxyz.com/storename http://subdomain.adbxyz.com/ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T06:50:10.397

在不使用反向代理的情况下，您不能在内部从一个主机 ( `www.abcxyz.com`) 重写到另一个 ( )。`subdomain.abcxyz.com`“重写”意味着在服务器内部（或“幕后”）更改 URI，使浏览器或客户端不知道它，浏览器地址栏中的 URL 保持不变。为此，将 mod_rewrite 与 mod_proxy 结合使用：

```
RewriteEngine On
RewriteRule ^/?storename(.*)$ http://subdomain.adbxyz.com/$1 [L,P] 
```

如果您的意思是“重定向”，如发出请求，并且响应是告诉浏览器或客户端转到不同的位置，从而更改浏览器的 URL 地址栏，那就更简单了：

```
RewriteEngine On
RewriteRule ^/?storename(.*)$ http://subdomain.adbxyz.com/$1 [L,R] 
```

这将进入`www.abcxyz.com`虚拟主机/服务器的文档根目录。

# android - 用户拨打电话号码后锁定 Android 手机

> ID：13062349
> 
> 赞同：17
> 
> 时间：2012-10-25T05:48:50.297
> 
> 标签：android

我正在开发一个安全应用程序，如果用户拨打一个不经常拨打的电话号码并且他以前从未拨打过电话，则用户将不得不重新验证自己。为此，我想在检查电话号码后锁定电话。

```
public class outgoingCalls extends BroadcastReceiver {

public void onReceive(Context context, Intent intent) {

    Log.v("onReceive", "In onReceive()");
    if (confidence == 0) {
        Log.v("onReceive","confidence zeroed");
        Intent i = new Intent();
        i.setClassName("abc.xyz.SECURITY","abc.xyz.SECURITY.lockActivity");
        i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        context.startActivity(i);
    } 
} 
```

在这个新的Activity lockActivity中，我需要锁定我评论过的手机//LOCK PHONE

```
public class lockActivity extends Activity {  

@Override 
public void onCreate(Bundle savedInstanceState) { 
    super.onCreate(savedInstanceState); 
    Log.v("lock","lockActivity onCreate method called");
        //  setContentView(R.layout.main); 
        Log.v("lock","locking");
// LOCK PHONE
}
} 
```

手机没有被我尝试过的方法锁定。其中包括：

```
1\.  KeyguardManager mgr = (KeyguardManager)   getSystemService(Activity.KEYGUARD_SERVICE); 
KeyguardLock lock = mgr.newKeyguardLock("edu.Boston.SECURITY.lockActivity"); 
((KeyguardLock) lock).reenableKeyguard(); 

2\.  PowerManager manager = (PowerManager) getSystemService(Context.POWER_SERVICE);
manager.goToSleep(100);//int amountOfTime

3\. PowerManager.WakeLock wl = manager.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK,    "Tag");
wl.acquire();
wl.release();

4\. WindowManager.LayoutParams params = getWindow().getAttributes();
   params.screenBrightness = 0;
   getWindow().setAttributes(params); 
```

Android清单文件具有以下权限

```
 <uses-permission android:name="android.permission.PROCESS_OUTGOING_CALLS" />
    <uses-permission android:name="android.permission.READ_CONTACTS"/>
    <uses-permission android:name="android.permission.DISABLE_KEYGUARD"/> 
    <uses-permission android:name="android.permission.WAKE_LOCK" /> 
```

为什么我无法锁定手机？任何指针？非常感谢您的帮助。欣赏它！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-01T21:54:04.350

尝试创建一个 DevicePolicyManager

[http://developer.android.com/training/enterprise/device-management-policy.html](http://developer.android.com/training/enterprise/device-management-policy.html)

然后调用：

```
DevicePolicyManager mDPM  = (DevicePolicyManager)context.getSystemService(Context.DEVICE_POLICY_SERVICE);
mDPM.lockNow(); 
```

# java - 将 while 循环与 if 语句结合起来的困难

> ID：13062351
> 
> 赞同：0
> 
> 时间：2012-10-25T05:49:21.323
> 
> 标签：java, if-statement, while-loop

```
public static String convert(String str)
{
  if (str.equals("# "))
     System.out.println(" ");
  Pattern pattern = Pattern.compile("(#+[^#]+)");
  Matcher matcher = pattern.matcher(str);

  while (matcher.find())
  {
     String str1 = matcher.group(1);
     if (str1.replaceFirst("#+", "").length() == 0 || str1.replaceFirst("#+", "").matches("[\\s]+"))
        continue;
     int n = str1.length() - str1.replaceFirst("#+", "").length();
     System.out.println("<h" + n + ">" + str1.substring(n) + "</h" + n + ">");
  }
  char carac;
  carac = str.charAt(0);
  if (carac >= 65 && carac <= 90)
  {
     System.out.println("<p>");
     System.out.println(str);
     System.out.println("</p>");
  }
  return ("");
} 
```

如何将`while(matcher.find`与 this结合起来，`if(carac>=`以便获得以下输出：< p> < h2> 分贝</ h2> </ p> 对于此输入：##Decibel??? （取而代之的是，我得到 <h2> 分贝</h2>。我正在制作一种算法，其中“#”在句子的开头被识别并根据情况变成 <h1></h1> 或 <hn>关于出现的#个数，然后算法识别句首是否有大写字母，如果有，则在段落的开头和结尾添加<p></p>。大问题我有，是我希望能够将两者结合起来。所以假设我会有#Appendix，我希望它转换为 <p> <h1> 附录</h1> </p>

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T06:18:38.893

```
 public static String convert(String str)
 {
   if (str.equals("# "))
      System.out.println(" ");
   Pattern pattern = Pattern.compile("(#+[^#]+)");
   Matcher matcher = pattern.matcher(str);

   while (matcher.find())
   {
       boolean append_p = false;
       char carac;
        for(int i = 0; i < str.length(); i++){
       if(Character.isLetter(str.charAt((i)))){
           if (Character.isUpperCase(str.charAt(i)))
           {
              System.out.print("<p>");
              append_p = true;
              break;
           }
       }else{
           append_p = false;
       }
   }
      String str1 = matcher.group(1);
      if (str1.replaceFirst("#+", "").length() == 0 || str1.replaceFirst("#+", "").matches("[\\s]+"))
         continue;
      int n = str1.length() - str1.replaceFirst("#+", "").length();
      System.out.print("<h" + n + ">" + str1.substring(n) + "</h" + n + ">");
      if(append_p == true){ System.out.print("</p>"); append_p = false;}
   }
   if(Character.isUpperCase(str.charAt(0)){
      System.out.println("<p>"+str+"</p>");
   return ("");
 } 
```

这将测试第一个字符是否为大写字母和 append/prepend `<p></p>`。

# web-services - 如何在控制器中接收图像文件，其中图像作为 Ws.url 中的参数附加？

> ID：13062352
> 
> 赞同：1
> 
> 时间：2012-10-25T05:49:24.740
> 
> 标签：web-services, playframework, playframework-1.x, url-parameters, image-file

图像文件通过播放框架 1.2.4 中的 Webservice Ws.url("controller action").files(imageFile) 作为参数附加。如何在该控制器中接收该图像文件？谁能帮我解决这个问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T21:31:16.097

让我们发布两个文件：

```
WS.url("http://127.0.0.1:9000/process")
  .files(new File("kitten.jpg"), new File("dog.jpg"))
  .post(); 
```

控制器方法如下所示：

```
public static void process(File dummy) {
  List<Upload> uploads = (List<Upload>) request.args.get("__UPLOADS");

  for (Upload upload : uploads) {
    System.out.println("Uploaded file name:         " + upload.getFileName());
    System.out.println("Uploaded file is stored as: " + upload.asFile());
  }
} 
```

非常难看，但这是我让它工作的唯一方法。该`dummy`参数必须存在，否则上传请求参数将为`null`.

图像可以通过`Upload`对象以不同的方式访问。

# java - 如何从任何 java 结构中的 SQL 表中一次性检索分层项目以进行比较？

> ID：13062354
> 
> 赞同：0
> 
> 时间：2012-10-25T05:49:26.380
> 
> 标签：java, mysql, structure, parent-child, hierarchy

我想以分层方式从 SQL 表中读取项目。例如，我的表有父子关系。以下是我的表结构：

```
id    name    parentId

1     abc      null

2     xyz        1

3     lmn        1

4     qwe       null

5     asd        4 
```

所以我想一次性加载所有的项目，我该怎么做？我试过 HashMap 但感觉很复杂....提前谢谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:00:02.790

您可以通过一个 SQL 查询来检索整个层次结构，但该查询取决于数据库系统——例如，Oracle 支持对层次结构查询使用“CONNECT BY”查询。MySQL 不直接支持这一点——但是**[在 MySQL 的 Hierachical Queries 中](http://explainextended.com/2009/03/17/hierarchical-queries-in-mysql/)**解释了一些非常好的方法。我建议您尝试其中一种。基本方法是创建一个模仿 CONNECT BY 的函数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T06:05:28.353

首先，形成您的问题，不清楚您是否需要 SQL 方面或 java 数据结构方面的帮助。

我假设两者，即您需要从数据库中获取数据，然后填充适当的 java 数据结构。

所以没有直接的方法。你的数据主要是TREE STRUCTURE，所以主要需要关注java的tree数据结构。因此，以下是您需要采取的步骤。

1）首先为树形结构创建java类结构。请参阅下面的链接。

[Java树数据结构？](https://stackoverflow.com/questions/3522454/java-tree-data-structure)

[http://www.java2s.com/Code/Java/Collections-Data-Structure/Yourowntreewithgenericuserobject.htm](http://www.java2s.com/Code/Java/Collections-Data-Structure/Yourowntreewithgenericuserobject.htm)

[http://www.codeproject.com/Articles/14799/Populating-a-TreeView-Control-from-the-Database](http://www.codeproject.com/Articles/14799/Populating-a-TreeView-Control-from-the-Database)

2）如果你最终需要java对象，那么你不需要太多的sql端。所以你可以做简单的选择查询来获取数据。

3）现在你需要有一个帮助方法来使用类结构形式为你的数据准备树形步骤1。如果你做得更好，你可以使用SQL数据使你的树类结构自构造。

# android - 如何向我的 XMPP 帐户添加和订阅 jabber 条目？

> ID：13062356
> 
> 赞同：8
> 
> 时间：2012-10-25T05:49:28.323
> 
> 标签：android, xmpp

我可以`Entry`使用此代码添加到 Xmpp 帐户。我无法订阅“两者”，而不是我得到的`none`。

`roster.createEntry("abc@xyz.com", "abc", null);`

`type=both`当我订阅此帐户的条目时，如何添加具有存在的条目。我想知道xmpp是否有`publish-subscribe`功能？

1.  如何获得入站状态通知？
2.  如何发送出站状态通知？

**编辑 ：**

```
public void Addcontact() {    
    Roster.setDefaultSubscriptionMode(Roster.SubscriptionMode.manual);
    Roster roster = m_connection.getRoster();

    if(!roster.contains("pa@ace.com")) {        try {           
            roster.createEntry("pa@ace.com", "pa", null);               
        } catch (XMPPException e) {          
            e.printStackTrace();
        }
    }else {
        Log.i("Acc = ", "contains");
    }
} 
```

我正在添加这样的条目，但我仍然得到 Presence Type = none ..

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-10-25T07:16:39.020

这是我在应用程序中添加另一个朋友的方法。

```
protected void doAddContactToListAsync(String address, String name,
                ContactList list) throws ImException {
            debug(TAG, "add contact to " + list.getName());
            Presence response = new Presence.Type.subscribed);
            response.setTo(address);

            sendPacket(response);

            Roster roster = mConnection.getRoster();
            String[] groups = new String[] { list.getName() };
            if (name == null) {
                name = parseAddressName(address);
            }
            try {

                roster.createEntry(address, name, groups);

                // If contact exists locally, don't create another copy
                Contact contact = makeContact(name, address);
                if (!containsContact(contact))
                    notifyContactListUpdated(list,
                            ContactListListener.LIST_CONTACT_ADDED, contact);
                else
                    debug(TAG, "skip adding existing contact locally " + name);
            } catch (XMPPException e) {
                throw new RuntimeException(e);
            }
        } 
```

只需使用必要的部分

```
Presence response = new Presence.Type.subscribed);
response.setTo(address);
sendPacket(response);

Roster roster = mConnection.getRoster();
roster.createEntry(address, name, groups); 
```

为了收听传入的请求，请注册`addPacketListener`到您的连接

```
 mConnection.addPacketListener(new PacketListener() {

            @Override
            public void processPacket(Packet packet) {

                Presence presence = (Presence) packet;
                    if (presence.getType() == Type.subscribe) {
                    debug(TAG, "sub request from 1" + address);
//Implement accept or reject depend on user action. 
            mContactListManager.getSubscriptionRequestListener()
                            .onSubScriptionRequest(contact);
//or you can test with send back Presence.subscribe first and send Presence.subscribed back to requester.

                } else {// Handle other Presence type.
                    int type = parsePresence(presence);
                    debug(TAG, "sub request from " + type);
                    contact.setPresence(new Presence(type,
                            presence.getStatus(), null, null,
                            Presence.CLIENT_TYPE_DEFAULT));

                }
            }
        }, new PacketTypeFilter(Presence.class));

        mConnection.connect(); 
```

正确的顺序：

1.  用户 1 向用户 2 发送订阅。
2.  用户 2 将订阅和订阅发送回用户 1。
3.  用户 1 向用户 2 发送订阅。

您可以检查的另一个 SO[问题](https://stackoverflow.com/q/5802607/1050058)

# opa - opa 命令抛出 npm 错误，并且不运行已编译的项目

> ID：13062358
> 
> 赞同：0
> 
> 时间：2012-10-25T05:49:39.203
> 
> 标签：opa

我正在使用 Windows 7 64 位。每当我尝试通过命令提示符构建我的项目时，使用**opa**命令它会生成一个 .js 文件，该文件在运行时会抛出一个错误，说：module.js: 340 throw err; - 等等。 **opa create**命令也抛出错误，说 opa-create.exe 与我正在使用的 Windows 版本不兼容，它需要 64 位，但我使用的是 64 位。例如，我看到有人说运行**node file.exe**可以解决问题，但是它会引发与运行之前生成的 .js 文件时相同的错误。有人说：运行 npm install mongodb formidable nodemailer imap 但是命令抛出错误，说：

```
gyp ERR! configure error gyp ERR! stack Error: 
Command failed: File "<string>", line 1 
gyp ERR! stack import platform; print platform.python_version(); 
gyp ERR! stack 
gyp ERR! stack SyntaxError: invalid syntax 
gyp ERR! stack 
gyp ERR! stack at ChildProcess.exithandler (child_process.js:551:15) 
gyp ERR! stack at ChildProcess.EventEmitter.emit (events.js:96:17) 
gyp ERR! stack at maybeClose (child_process.js:649:16) gyp ERR! stack at Process.ChildProcess._handle.onexit (child_process.js:701:5) 
gyp ERR! stack at process._makeCallback (node.js:248:20) 
gyp ERR! System Windows_NT 6.1.7601 gyp ERR! command "node" "C:\\Program Files\\nodejs\\node_modules\npm\node_modules\\node-gyp\\bin\\node-gyp.js" "rebuild" 
gyp ERR! cwd C:\Users\Vincas\Documents\Opa Projects\experimentations\node_modules\nodemailer\node_modules\mailcomposer\node_modules\mimelib\node_modules\encoding\node_modules\iconv 
gyp ERR! node -v v0.9.3 
gyp ERR! node-gyp -v v0.7.1 
gyp ERR! not ok npm WARN optional dep failed, continuing iconv@1.2.3 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-06T05:19:23.303

要解决此问题，请尝试从[http://www.python.org/download/](http://www.python.org/download/)`gyp ERR! stack import platform; print platform.python_version();`安装 Python 版本 2.7.3 。

尝试安装安装了 Python 3.3.0 版的不同软件包时，我收到了同样的错误消息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T08:37:24.290

实际上，如果您不安装所需的节点包，您将遇到模块未找到错误。确实`./app.exe`（带有 .exe 扩展名）在 Windows 上不起作用，但使用`.js`扩展名却可以（只需编辑 Makefile 中的 EXE 变量）。

您的`gyp ERR! stack import platform; print platform.python_version();`错误是与 npm 相关的问题，您应该直接通过 nodejs 社区寻求支持：[http](http://nodejs.org/community/) ://nodejs.org/community/ （尝试使用 stackoverflow 或他们的邮件列表）。

# nginx - 将两台 nginx 主机合二为一

> ID：13062360
> 
> 赞同：1
> 
> 时间：2012-10-25T05:50:21.457
> 
> 标签：nginx

是否可以将这些主机合二为一？

```
server {
   server_name www.website.com;
   rewrite ^ http://website.com$request_uri? permanent;
}

server {
   server_name www.website.ru;
   rewrite ^ http://website.ru$request_uri? permanent;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T10:14:12.010

是的，以下应该有效：

```
server {
  server_name www.website.com website.com www.website.ru website.ru;

  if ( $host ~ "www\.(.*)" ) {
    set $hostdomain $1;
    rewrite ^ $scheme://$hostdomain$request_uri? permanent;
  }

  # handling of the non-rewritten non-www requests goes here
} 
```

注意：您需要保存 domain-minus-www 而不是直接在 rewrite 中使用 $1 的原因是因为 rewrite 指令重置了捕获变量

# wcf - OData 是否违反关注点分离？

> ID：13062362
> 
> 赞同：4
> 
> 时间：2012-10-25T05:50:29.160
> 
> 标签：wcf, rest, asp.net-web-api, soa, odata

我在看 OData，它非常强大，同时也非常令人不安。这相当于将您的数据源暴露给远程用户。没有服务，没有什么 nada 和很少的注入点，导致了一个几乎可笑的 2 层架构。

我的担忧是：

1.  使用 OData 时很难强制执行 DDD 等模式。

2.  对一组 soa 数据传输对象使用 OData 也很困难，因为这些对象通常不可查询。即，当您获得 DTO 时，数据库查询已完成，但 OData 刚刚启动。查询它没有太多价值，因为 DTO 已经在内存中。

3.  我可以在表示 OData 实体的 DB 本身上创建一个视图，但这会将 UI 问题置于持久性中。大禁忌。

4.  充其量组合来自各种 DDD 服务的结果集现在发生在 UI 层，使用 kludgy javascipt - 可重用性记录不佳的维护噩梦。

5.  另一种可能性是为 OData 实体编写一个转换器，它可能是一个 ViewModel 级别的类，然后转换为 DTO，然后转换为域，然后转换为概念模型，其余的 ORM 可以处理。但这需要大量的资源。

简而言之，您如何使 OData 与 SOA、OO 封装原则、DDD 和良好的旧 SOC 相得益彰？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T08:58:22.153

需要明确区分 OData 标准和 OData 实现。

至于标准：

在我看来，标准本身允许您以可移植的方式拥有具有完整元数据的 OOTB 可访问数据端点。通过对关系和投影的支持，消费者可以在服务器上或稍后在客户端上组合视图模型。需要注意的是，OData 支持要公开的操作（函数），因此在自动 crud 的顶部，您可以拥有无​​缝集成到关系模式中的远程方法（函数可以具有您可以进一步查询的结果，仍然在服务器，并且功能也可以充当“智能编写器”代码）。

总结一下：OData 为人们需要大量符合 REST 的数据访问时实际发生的情况提供了一种形式：形式化了常见的、总是重复的场景，例如查询数据或提交数据的方式。这可能仍会受到您在第 4 点所写内容的影响，但在我看来，这不是 OData 相关问题。这就是 AJAX 和 Mashups 的工作方式：您将拥有一个客户端，其中包含大量处理组合数据的代码。

您可以通过选择最合适的服务器实现来回答您的其他问题。已经有几个实现：

*   EF4/EF5 + WCF 数据服务是最“自动”的。在这个用例中，您可能只是对您的一些担忧是正确的，但是：使用 EF 的精细可扩展性模型，您可以根据需要与自动操作进行交互。拥有由实际 EDMX 模型驱动的应用程序是真正的 DDD 场景。

*   ASP.NET Web API 让您拥有一个完全基于代码的后端，用于您认为是静态的关系端点，因此您可以在 3 层中进行思考：DB、中间层，用于在 DB 数据之间架起桥梁以及连接到什么最适合客户，客户层作为该模型的聪明消费者。

*   JayData 在服务器端 JavaScript 中提供这些，并增加了 JavaScript 的活力。

*   SAP NetWeaver 网关以易于在简单场景中使用的方式公开复杂的 SAP 数据。

OO 关注点：使用 V3 的 OData，我们现在有了“实例方法”（肯定也是服务器方法），所以 SOA 将事物残酷地分离为数据和 OData 真正回馈的功能实际上带走了什么：定义功能 + 封装但映射到的数据SOA 的静态方法概念，其上下文数据的行为类似于`"this"`.

2Tier 担忧：恕我直言，2Tier 架构变得“古老”并不是因为客户端对服务器端结构了解太多，而是因为它们不能很好地扩展，而且新的瘦客户端就像真正的数据库客户端一样愚蠢。事实上 2tier 总是更容易使用（从开发人员的角度来看），现在实际上 OData 服务器实现确实是具有逻辑的中间层，您实际上可以获得两全其美：-再次编写虚拟 2 层架构的代码- 并且可以像普通的 n 层应用程序那样扩展。

# android - Android：当我通过本地 Twitter 应用发推文时，我可以附加图片吗

> ID：13062370
> 
> 赞同：3
> 
> 时间：2012-10-25T05:50:56.650
> 
> 标签：android, twitter

这是我的代码

```
Intent intent = new Intent(Intent.ACTION_SEND);
intent.setClassName("com.twitter.android", "com.twitter.android.PostActivity");
intent.putExtra(Intent.EXTRA_TEXT, message);
startActivity(intent); 
```

我可以以编程方式附加图片吗？

![在此处输入图像描述](../Images/21e495ee9e6a4aa3203067b05e65ae43.png)

***编辑***

**解决方案**

额外增加 1 行

```
Intent intent = new Intent(Intent.ACTION_SEND);
intent.setClassName("com.twitter.android", "com.twitter.android.PostActivity");
intent.putExtra(Intent.EXTRA_TEXT, message);
intent.putExtra(Intent.EXTRA_STREAM, Uri);      
startActivity(intent); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T05:57:07.553

尝试这个。

```
Intent sharingIntent = new Intent(Intent.ACTION_SEND_MULTIPLE);
Uri screenshotUri = Uri.parse("file:///sdcard/image.jpg");
sharingIntent.setType("*/*");
sharingIntent.putExtra(Intent.EXTRA_TEXT, "Body text of the new status");
sharingIntent.putExtra(Intent.EXTRA_STREAM, screenshotUri);
startActivity(Intent.createChooser(sharingIntent, "Share image using")); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-09-12T07:15:29.643

试试这个代码，它工作得很好..如果你在你的手机上安装了 twitter 应用程序。否则使用 try..catch

```
 var postrTwitter = Ti.Android.createIntent({
            action : Ti.Android.ACTION_SEND,
            packageName : "com.twitter.android",
            className : "com.twitter.android.PostActivity",
            flags : Ti.Android.FLAG_ACTIVITY_NEW_TASK,
            type : "text/plain"
            });
            postrTwitter.setType("*/*");
            postrTwitter.putExtra(Ti.Android.EXTRA_TEXT, "Text message ");
            postrTwitter.putExtraUri(Ti.Android.EXTRA_STREAM, image_file.nativePath);

            Ti.Android.currentActivity.startActivity(postrTwitter); 
```

# c# - 为什么 XElement 无法将我的 xml 文件保存到文件中？

> ID：13062371
> 
> 赞同：0
> 
> 时间：2012-10-25T05:50:57.487
> 
> 标签：c#, xml, save

我想构造一个长的 xml 字符串，它的一些实体来自另一个由 dll 读取的 xml 文件。最后，我想将这个 xml 字符串保存到一个文件中`XElement.Save()`。它无法将字符串保存到文件中。

例如：

```
XElement root = new XElement("Root");
// .....
root.Save(filename); // <-- wrong! 
```

但是，如果我不使用 dll，一切都很好。即使我只是调用 dll 而什么都不做，它对我也不起作用。有谁能够帮我？谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T06:02:13.167

将节点附加到现有 XML 文件中：从头开始，

1）创建一个`Root.xml file`：

```
<?xml version="1.0" encoding="utf-8"?>
<Main>
</Main> 
```

2）将此代码用于`Load and Append`节点：

```
XElement xml = new XElement("Root");

XDocument xdoc = XDocument.Load("Root.xml");
xdoc.Element("Main").Nodes().Last().AddAfterSelf(xml);  //append after the last backup element
xdoc.Save("Root.xml"); 
```

# c++ - 在墙壁（或障碍物）处停止相机移动

> ID：13062382
> 
> 赞同：2
> 
> 时间：2012-10-25T05:52:04.790
> 
> 标签：c++, c, opengl, camera, glut

我刚刚学到了一点 GLUT，已经设置了一个可移动的相机，照明并制作了一个`class`包含一些 3D 形式的东西。

但现在我希望相机不能穿过这些物体。是否有任何类型`OpenGL`或`glut`命令可以检查特定点或实际相机位置是否有障碍物？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T07:31:01.910

OpenGL 是一个光栅化 API，它不会为您检查或处理冲突。检测碰撞的常用方法是包围盒或包围球。您可以将相机位置视为一个点，并检查它是否在障碍物的包围体内。要获得边界球体的半径，您必须遍历模型中的每个顶点并存储到其中心的距离。您只需要循环一次，而不是每一帧。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-25T08:38:08.390

OpenGL 不是场景图，这意味着它没有任何类型的场景或世界的内部表示。OpenGL 是一个绘图 API，它只是在帧缓冲区上绘制点、线和三角形，一次一个，然后忘记它们。

因此 OpenGL 不会为您进行碰撞检测。可以使用 OpenGL 实现碰撞检测系统，但这是您的程序所做的，而不是 OpenGL *。*

# asp.net - 带有固定标题的网格视图垂直滚动条

> ID：13062383
> 
> 赞同：0
> 
> 时间：2012-10-25T05:52:09.343
> 
> 标签：asp.net, gridview, scrollbar

如何在带有垂直滚动条的网格视图中显示固定标题？

那是当我向下滚动标题时应该可见。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-25T06:34:56.237

将网格放在 div 或`panel with scrollbar property`. 中。但这需要额外的努力才能进行正确的对齐。标题表的每个单元格都应该是`aligned with each cell`网格的。另一种解决方法是采用网格`fix the header of the grid`的方式。使用我们可以实现那。`scrolling down shouldnt hide the header``stylesheet`

在您的代码中添加以下样式并指定网格视图或数据网格标题样式`css`。

```
.fixedHeader
{
  font-weight:bold;
  position:absolute;
  background-color: #006699;

  color: #ffffff;

  height: 25px;

  top: expression(Sys.UI.DomElement.getBounds(document.getElementById("panelContainer")).y-25);

} 
```

`"panelContainer" is the id of the panel`. `"Sys.UI.DomElement.getBounds(document.getElementById("panelContainer")).y "`给出了我们需要的面板的确切 Y 位置`fix the header`0.25 像素是标题的通常高度。`That much of space we had to leave for the header`这样它就不会占用网格内容的任何空间。使用面板控件，我们可以控制`width, height, and scrollable option`. 对于我们的代码示例，我们设置`height as 300px`, `the width as 100%`，并将 Panel 设置为滚动，同时仅显示`vertical scrollbars`. 将您的网格放入面板中。现在我们必须将上面定义的 CSS 类分配给 GridView 的 HeaderStyle

```
<asp:Panel ID="panelContainer" runat="server" Height="300px" Width="100%"  ScrollBars="Vertical">
  <asp:GridView ID="gvScrollableExample" runat="server">
    <HeaderStyle CssClass="fixedHeader " />
  </asp:GridView></asp:Panel> 
```

这样我们可以将标题固定在网格的顶部，向下滚动不会用标题滚动网格。

# ios - 关于 UIColor ，这是一个错误还是什么？

> ID：13062385
> 
> 赞同：4
> 
> 时间：2012-10-25T05:52:16.423
> 
> 标签：ios, uicolor

我曾经认为 [UIColor whiteColor] 与 [UIColor colorWithRed:1 green:1 blue:1 alpha:1] 完全相同，但事实证明并非如此！谁能解释一下？

```
CGFloat red1, green1, blue1, alpha1;
UIColor * color1 = [UIColor whiteColor];
[color1 getRed:&red1 green:&green1 blue:&blue1 alpha:&alpha1];
NSLog(@"%f, %f, %f, %f", red1, green1, blue1, alpha1);

UIColor * color2 = [UIColor colorWithRed:1 green:1 blue:1 alpha:1];
[color2 getRed:&red1 green:&green1 blue:&blue1 alpha:&alpha1];
NSLog(@"%f, %f, %f, %f", red1, green1, blue1, alpha1); 
```

输出：

```
0.000000, 0.000000, 0.000000, -1.998628
1.000000, 1.000000, 1.000000, 1.000000 
```

这很不酷..非常不愉快

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-25T05:59:38.840

从文档中`UIColor getRed:green:blue:alpha:`：

> 如果颜色在兼容的颜色空间中，则颜色将转换为 RGB 格式，并将其组件返回给您的应用程序。如果颜色不在兼容的颜色空间中，则参数不变。

`[UIColor whiteColor]`和创建的灰色阴影`UIColor colorWithWhite:alpha:`来自与 RGB 颜色空间不同的颜色空间。因此它们不在兼容的色彩空间中。因此，不宜`UIColor getRed:green:blue:alpha:`与此类颜色一起使用。

尝试初始化 4 个 CGFloat 值，看看你得到了什么。如果将它们全部设置为零，它们应该保持为零。

# ios - 截图质量低的iOS

> ID：13062393
> 
> 赞同：0
> 
> 时间：2012-10-25T05:52:55.927
> 
> 标签：ios, iphone, screenshot, reduce

在我的项目中，我必须制作屏幕截图并应用模糊来创建磨砂玻璃的效果。内容可以在玻璃下移动，然后调用 bluredImageWithRect: 方法。我正在尝试优化以下方法以加快应用程序的速度。将模糊过滤器应用于屏幕截图时会发生重大损失，因此我正在寻找一种以较低分辨率截取屏幕截图的方法，对屏幕截图应用模糊，然后将其拉伸以适合某些矩形。

```
- (CIImage *)bluredImageWithRect:(CGRect)rect {

    CGSize smallSize = CGSizeMake(rect.size.width, rect.size.height);

    CGColorSpaceRef colorSpaceRef = CGColorSpaceCreateDeviceRGB();
    CGContextRef ctx = CGBitmapContextCreate(nil, smallSize.width, smallSize.height, 8, 0, colorSpaceRef, kCGImageAlphaPremultipliedFirst);
    CGContextClearRect(ctx, rect);
    CGColorSpaceRelease(colorSpaceRef);
    CGContextSetInterpolationQuality(ctx, kCGInterpolationNone);
    CGContextSetShouldAntialias(ctx, NO);
    CGContextSetAllowsAntialiasing(ctx, NO);

    CGContextTranslateCTM(ctx, 0.0, self.view.frame.size.height);
    CGContextScaleCTM(ctx, 1, -1);

    CGImageRef maskImage = [UIImage imageNamed:@"mask.png"].CGImage;
    CGContextClipToMask(ctx, rect, maskImage);

    [self.view.layer renderInContext:ctx];

    CGImageRef imageRef1 = CGBitmapContextCreateImage(ctx);

    CGContextRelease(ctx);

    NSDictionary *options = @{(id)kCIImageColorSpace : (id)kCFNull};
    CIImage *beforeFilterImage = [CIImage imageWithCGImage:imageRef1 options:options];

    CGImageRelease(imageRef1);

    CIFilter *blurFilter = [CIFilter filterWithName:@"CIGaussianBlur" keysAndValues:kCIInputImageKey, beforeFilterImage,  @"inputRadius", [NSNumber numberWithFloat:3.0f], nil];
    CIImage *afterFilterImage = blurFilter.outputImage;

    CIImage *croppedImage = [afterFilterImage imageByCroppingToRect:CGRectMake(0, 0, smallSize.width, smallSize.height)];

    return croppedImage;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:00:14.853

[这是一个使用加速框架的 iOS 图像处理](http://invasivecode.tumblr.com/page/2)教程，它展示了如何做一个足够快的模糊效果来满足你的需要。

# c# - 无法将模型分配给缓存

> ID：13062397
> 
> 赞同：0
> 
> 时间：2012-10-25T05:53:18.380
> 
> 标签：c#, json, telerik, asp.net-mvc-4

我的代码：

```
public class MyCustomGridActionResultFactory : IGridActionResultFactory
{
    public System.Web.Mvc.ActionResult Create(object model)
    {
        ResultCache.AdvanceSearchGridResult = model as List<Models.Search.SearchGridModel>;

        //return a custom JSON result which have json serializer set to int.MaxValue
        return new CustomJsonResult
        {
            Data = model
        };
    }
} 
```

结果缓存代码：

```
public static class ResultCache
{
    public static List<Models.Search.SearchGridModel> AdvanceSearchGridResult
    {
        get { return System.Web.HttpContext.Current.Session["AdvanceSearchGridResult"] as List<Models.Search.SearchGridModel>; }
        set { System.Web.HttpContext.Current.Session["AdvanceSearchGridResult"] = value; }
    }
} 
```

**

> 模型作为`List<Models.Search.SearchGridModel>`返回 NULL 值

**注意**：

`ResultCache.AdvanceSearchGridResult = model;`给出错误消息“无法从对象转换为列表”

**。如何解决这个问题。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T06:11:55.780

什么是模型的运行时类型？'as' 返回 null 有两个可能的原因。左侧为空或不是右侧的类型。

因此，您要么将 null 传递给 Create ，要么传递给另一种类型的对象。调试以找出哪个

**编辑**

从评论来看，这似乎是选项二。如果发布的运行时信息是模型的类型，则它不是列表。尝试将 'List<...>' 更改为 'IEnumerable<...>'

```
public static IEnumerable<Models.Search.SearchGridModel> AdvanceSearchGridResult {
        get { return (IEnumerable<Models.Search.SearchGridModel>)HttpContext.Current.Session["AdvanceSearchGridResult"]; }
        set { HttpContext.Current.Session["AdvanceSearchGridResult"] = value; }
} 
```

# statistics - 计算ctr时如何避免印象偏差？

> ID：13062398
> 
> 赞同：14
> 
> 时间：2012-10-25T05:53:25.557
> 
> 标签：statistics, machine-learning, ads

当我们训练一个 ctr(click through rate) 模型时，有时我们需要从历史数据中计算出真正的 ctr，像这样

```
                 ＃（点击）
    ctr = ----------------
              #（展示次数）

```

我们知道，如果展示次数太少，则计算出的 ctr 是不真实的。所以我们总是设置一个阈值来过滤掉足够大的展示次数。

但我们知道，展示次数越高，对 ctr 的信心就越高。然后我的问题是：是否有一种印象归一化统计方法来计算 ctr？

谢谢！

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-10-25T06:20:02.247

您可能需要估计 ctr 的置信区间表示。[威尔逊得分区间](http://en.wikipedia.org/wiki/Binomial_proportion_confidence_interval#Wilson_score_interval)是一个很好的尝试。

![威尔逊得分区间](../Images/e0b3b237b4fab9334eaaf1d8a30dec9b.png)

您需要以下统计数据来计算置信度分数：

*   `\hat p`是观察到的 ctr（#clicked 与 #impressions 的分数）
*   `n`是总展示次数
*   `z`[α/2]是`(1-α/2)`标准正态分布的分位数

python中的一个简单实现如下所示，我使用`z`[(1-α/2)] =1.96，对应于95%的置信区间。我在代码末尾附上了 3 个测试结果。

```
# clicks      # impressions       # conf interval
2             10                  (0.07, 0.45)
20            100                 (0.14, 0.27)
200           1000                (0.18, 0.22) 
```

现在您可以设置一些阈值来使用计算的置信区间。

```
from math import sqrt

def confidence(clicks, impressions):
    n = impressions
    if n == 0: return 0
    z = 1.96 #1.96 -> 95% confidence
    phat = float(clicks) / n
    denorm = 1\. + (z*z/n)
    enum1 = phat + z*z/(2*n)
    enum2 = z * sqrt(phat*(1-phat)/n + z*z/(4*n*n))
    return (enum1-enum2)/denorm, (enum1+enum2)/denorm

def wilson(clicks, impressions):
    if impressions == 0:
        return 0
    else:
        return confidence(clicks, impressions)

if __name__ == '__main__':
    print wilson(2,10)
    print wilson(20,100)
    print wilson(200,1000)

"""    
--------------------
results:
(0.07048879557839793, 0.4518041980521754)
(0.14384999046998084, 0.27112660859398174)
(0.1805388068716823, 0.22099327100894336)
""" 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2012-10-25T14:05:59.447

如果将其视为二项式参数，则可以进行贝叶斯估计。如果您在 ctr 上的先验是均匀的（带有参数 (1,1) 的 Beta 分布），那么您的后验是 Beta(1+#click, 1+#impressions-#click)。如果您想要这个后验的单个汇总统计信息，您的后验平均值是 #click+1 / #impressions+2，但您可能不需要，原因如下：

我不知道您确定 ctr 是否足够高的方法是什么，但假设您对 ctr > 0.9 的所有内容感兴趣。然后，您可以使用 beta 分布的累积密度函数来查看概率质量的比例超过 0.9 阈值（这将只是 1 - cdf 为 0.9）。这样，由于样本量有限，您的阈值自然会包含估计的不确定性。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-08-25T19:07:14.130

有很多方法可以计算这个置信区间。威尔逊分数的替代方法是 Clopper-Perrson 区间，我发现它在电子表格中很有用。

[上界方程](http://i.stack.imgur.com/AjwPw.png)

[下界方程](http://i.stack.imgur.com/BqY8I.png)

在哪里

*   `B()`是逆 Beta 分布
*   `alpha`是置信水平误差（例如，对于 95% 的置信水平，alpha 为 5%）
*   `n`是样本数（例如印象数）
*   `x`是成功次数（例如点击次数）

在 Excel 中，公式`B()`提供了一个实现。`BETA.INV`

Google 表格中没有 B() 的等效公式，但可以从 JavaScript 统计库改编 Google Apps 脚本自定义函数（例如，在 github 中搜索 jstat）

# jenkins-plugins - 在詹金斯成功构建后如何运行脚本

> ID：13062400
> 
> 赞同：2
> 
> 时间：2012-10-25T05:53:45.943
> 
> 标签：jenkins-plugins

成功构建 jar 后，我正在 jenkins 中运行自动构建，这些 jar 正在复制到我的 scp 存储库中。

我在**构建后**操作中配置将工件发布到 scp 存储库。一切都很顺利。

但是我想在将工件从詹金斯复制到我的开发服务器之前停止我的开发服务器。

是否可以从 jenkins 停止我的开发服务器？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-07-10T23:54:19.720

我不确定您是否仍在寻找答案，但您可以安装[插件](https://wiki.jenkins-ci.org/display/JENKINS/Post+build+task)来运行脚本后期构建。您可以通过浏览到 Manage Jenkins -> Manage Plugin on Jenkins 来安装插件。然后选择**可用**选项卡。搜索**Post Build Task**插件并安装

# android - 获取具有 wrap_content 属性的布局的高度

> ID：13062401
> 
> 赞同：0
> 
> 时间：2012-10-25T05:53:52.180
> 
> 标签：android, android-layout

我有一个简单的表格和一个`scrollView`用于滚动的`TableRow`. 我还添加了页脚，问题是我需要知道页脚的大小，以便我可以将其提供`android:layout_marginBottom="<size of footerbar>`给我的滚动视图。那么如何获得页脚栏布局的高度？请帮我。

这是我的页脚代码：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:background="@color/btnColor"
android:orientation="horizontal" >

<Button
    android:id="@+id/previous"
    style="@style/pagingBarBtnAttr"
    android:layout_alignParentLeft="true"
    android:background="@drawable/choose_color_btn"
    android:drawableLeft="@drawable/previous"
    android:text="Previous" />

<TextView
    android:id="@+id/pageNo"
    style="@style/pagingBarBtnAttr"
    android:layout_centerHorizontal="true"
    android:text="Page No. 1" />

<Button
    android:id="@+id/next"
    style="@style/pagingBarBtnAttr"
    android:layout_alignParentRight="true"
    android:background="@drawable/choose_color_btn"
    android:drawableRight="@drawable/next"
    android:text="Next" /> 
```

现在因为下一个和上一个按钮有一个drawable，所以他们有根据设备大小的drawable，所以页脚栏没有固定的高度值，所以我怎样才能得到它的高度，这样我就可以将该值提供给`margin_bottom`of `scrollview`。提前致谢..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T06:06:17.907

将 ViewTreeObserver 用于您用于页脚的布局

```
 ViewTreeObserver vto = layout.getViewTreeObserver();
    vto.addOnGlobalLayoutListener(new OnGlobalLayoutListener() {
        @Override
        public void onGlobalLayout() {
            //Here you can get dimension of view
                        //This method will called after screen created
        }
    }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T05:57:40.027

使用 View 的 getLayoutParams() 方法，您可以从参数中获取高度 :)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-25T06:00:57.950

参考下面的代码

首先在您的 xml 文件中添加**页脚**并将其**alignParentBottom**设置为 true。

然后添加 scrollView 并将其**layout_above**属性设置为页脚 id

```
<LinearLayout
    android:id="@+id/imgFooter"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true" />

<ScrollView
    android:id="@+id/scrollView1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_above="@+id/imgFooter"
    android:layout_below="@id/nav_bar_header"
    android:layout_centerHorizontal="true"
    android:padding="5dp" >
</ScrollView> 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-25T06:05:17.007

```
oldLayout = (android.widget.RelativeLayout.LayoutParams) view.getLayoutParams();
Width = oldLayout.width; 
```

# r - 在包含字符串作为值的数据框中查找列的索引

> ID：13062402
> 
> 赞同：12
> 
> 时间：2012-10-25T05:53:52.093
> 
> 标签：r, dataframe

我有这样的数据框：

```
df <- data.frame(col1 = c(letters[1:4],"a"),col2 = 1:5,col3 = letters[10:14])
 df
  col1 col2 col3
1    a    1    j
2    b    2    k
3    c    3    l
4    d    4    m
5    a    5    n 
```

我想找到`df`具有与字符串“a”匹配的值的列的索引。即它应该给我`1`作为结果。我尝试在 sapply 中使用 which 但它不起作用。任何人都知道如何在没有循环的情况下做到这一点？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-10-25T06:18:16.193

像这样的东西？

```
 which(apply(df, 2, function(x) any(grepl("a", x)))) 
```

步骤是：

1.  遍历`apply`每一列
2.  搜索是否`a`在此列中`grepl`
3.  因为我们得到了一个向量，所以使用它`any`来获取`TRUE`是否有任何元素匹配到`a`
4.  最后检查`which`元素（列）是`TRUE`（即包含搜索到的字母`a`）。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-25T07:22:29.060

既然你提到你试图使用`sapply()`但没有成功，那么你可以这样做：

```
> sapply(df, function(x) any(x == "a"))
 col1  col2  col3 
 TRUE FALSE FALSE 
> which(sapply(df, function(x) any(x == "a")))
 col1 
    1 
```

当然，如果您更喜欢字符串匹配，也可以使用`grep()`/方法。如果您只需要列号，`grepl()`您也可以`which()`使用包装您的函数。`unname()`

# php - 每天乘以价值php

> ID：13062407
> 
> 赞同：0
> 
> 时间：2012-10-25T05:54:06.270
> 
> 标签：php, datetime, strtotime

我正在尝试制作一个脚本，在时间戳之后每天对用户进行惩罚。第一天扣1分，第二天扣2分，第三天扣4分，第四天扣8分，16分，32分，64分，以此类推。

我将如何自动生成 strtotime 和乘法？

我什至不知道此时我正在寻找什么，这使得搜索变得困难，抱歉，如果这已经发布。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T06:08:10.423

试试这个

```
$initial_date     = '2012-10-20';
$initial_datetime = new DateTime($initial_date);
$today_datetime   = new DateTime();
$days_passed      = $initial_datetime->diff($today_datetime)->format('%a');
$penalty          = pow(2, ($days_passed-1));
echo $penalty; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T06:08:18.360

假设 $timestamp1 是第一天的时间戳，而 $timestamp2 现在是时间戳。然后：

```
$difference = abs(strtotime($timestamp2)-strtotime($timestamp1));

$days = floor($difference / (60*60*24));
$penalty = pow(2,$days);

echo "{$days} left, so your penalty is: {$penalty}"; 
```

样本结果：

```
0 left, so your penalty is: 1
1 left, so your penalty is: 2
2 left, so your penalty is: 4
3 left, so your penalty is: 8
4 left, so your penalty is: 16
5 left, so your penalty is: 32
6 left, so your penalty is: 64
... 
```

# javascript - 强制函数使用变量的值

> ID：13062409
> 
> 赞同：0
> 
> 时间：2012-10-25T05:54:08.723
> 
> 标签：javascript

帮助 javascript 强制函数使用变量的值而不是变量名

```
var a = 12;
var b = 13;

element.setAttribute("onChange","calculate('a','b')");

calculate(x,y){

z = x + y;
alert(z)

} 
```

如何传递要在函数中使用的变量值？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T06:00:14.620

**HTML：**

```
<input type="checkbox" name="cb" id="cb">​ 
```

**JavaScript：**

```
function calculate(x, y) {
    var z = x + y;
    alert(z);
}

var a = 12,
    b = 13,
    element = document.getElementById('cb');

element.onchange = function(e) {
    calculate(a, b);
};​ 
```

**[演示](http://jsfiddle.net/f0t0n/3pbxp/)**

还要考虑[element.addEventListener的用法](https://developer.mozilla.org/en-US/docs/DOM/element.addEventListener)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T05:57:22.090

'a' 不是变量`a`。这是字符串'a'。如果你想要这个变量，把引号去掉。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-25T05:58:49.160

`.setAttribute("onChange","calculate(" + a + "," + b +")");`

# javascript - Javascript onclick 功能不起作用

> ID：13062412
> 
> 赞同：-3
> 
> 时间：2012-10-25T05:54:18.933
> 
> 标签：javascript, internet-explorer, onclick

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>

<script language="javascript" type="text/javascript">

function setFont() {
   var i;
   for ( i = 0; i < document.all.length; i++) {
      document.all[i].style.fontFamily = "Verdana";
      document.all[i].style.fontSize = "16";
      document.all[i].style.color="black";
   }
};

function abc(a) {
    alert(a);
    ansArray = ['a'];
    for (i = 1; i <= a; i++) {
        document.write('<input type = "button" value = "a">');
        document.write('<input type = "button" value = "b">');
    }
    var myButton = document.getElementsByTagName("input");
    //alert(myButton.length);
    myButton[0].onclick = function() {
        if (ansArray[0] == 'a') myButton[0].style.backgroundColor = "green";
        else myButton[0].style.backgroundColor = "red";
    };
    myButton[1].onclick = function() {
        if (ansArray[0] == 'b') myButton[1].style.backgroundColor = "green";
        else myButton[1].style.backgroundColor = "red";
    };
};​

setFont();
</script>
</head>

<body onload="Javascript:abc(2)">
hello
</body>
</html> 
```

onclick 函数在 IE 中不起作用，但在 chrome 和 firefox 中可以正常工作。我找不到错误。为什么正常功能不起作用。函数加载内容，但单击前两个为其编写事件处理程序的按钮不会仅更改 IE 中的按钮颜色。请帮助我...在此先感谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T06:21:38.703

快速谷歌搜索表明问题在于您在页面加载后使用 document.write，因此它也在擦除 dom。您应该避免在页面加载后调用的函数中使用它。

来源： [http ://sitr.us/2012/09/04/monkey-patching-document-write.html](http://sitr.us/2012/09/04/monkey-patching-document-write.html)

我没有IE，所以无法测试它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T06:13:24.147

这里的问题是使用`document.write`显然也会覆盖 JavaScript。如果你切换`document.write()`到`document.body.innerHTML +=`你的问题就解决了。您的后两个按钮不适用于该代码，因为您正在调用 button `0`and `1`，而后两个是`3`and `4`。

# c# - 如何从字符串中删除“http://”部分？

> ID：13062414
> 
> 赞同：19
> 
> 时间：2012-10-25T05:54:29.017
> 
> 标签：c#

我有这个方法：

```
private List<string> offline(string targetDirectory)
{
    if (targetDirectory.Contains("http://"))
    {
        MessageBox.Show("true");
    }
    DirectoryInfo di = new DirectoryInfo(targetDirectory);
    List<string> directories = new List<string>();

    try
    {
        string[] dirs = Directory.GetDirectories(targetDirectory,"*.*",SearchOption.TopDirectoryOnly);
        for (int i = 0; i < dirs.Length; i++)
        {
            string t = "http://" + dirs[i];
            directories.Add(t);
        }
    }
    catch
    {
        MessageBox.Show("hgjghj");
    }

    return directories;

} 
```

这是部分：

```
if (targetDirectory.Contains("http://"))
{
     MessageBox.Show("true");
} 
```

我得到一个目录，它给了我这个目录中的所有目录，并且我在每个目录中添加了 string `"http://"`。

问题是下一次目录何时使用它的功能`"http://"`

例如：`http://c:\\`或`http://c:\\windows`

然后这条线

```
 DirectoryInfo di = new DirectoryInfo(targetDirectory); // throws exception. 
```

所以我希望每次目录进入函数时检查它是否从`"http://"`开头开始，剥离`"http://"`部分，获取所有目录，然后`"http://"`像现在一样添加到每个目录。

我怎样才能删除`"http://"`？

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2012-10-25T05:58:19.947

我会比使用更严格`Contains`- 我会使用`StartsWith`, 然后`Substring`：

```
if (targetDirectory.StartsWith("http://"))
{
    targetDirectory = targetDirectory.Substring("http://".Length);
} 
```

或者将其包装在辅助方法中：

```
public static string StripPrefix(string text, string prefix)
{
    return text.StartsWith(prefix) ? text.Substring(prefix.Length) : text;
} 
```

`http://`不过，老实说，我不清楚你为什么要加上前缀。我看不出您如何期望以 为前缀的目录名称`http://`是有效的 URL。也许如果你能解释你为什么这样做，我们可以建议一个更好的方法。

（另外，我真的希望您的真实代码中没有像这样的 try/catch 块，并且通常您遵循 .NET 命名约定。）

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-10-25T05:56:11.743

> 问题是如何删除 http:// ？

您可以使用[string.Replace](http://msdn.microsoft.com/en-us/library/system.string.replace.aspx)，并将字符串替换为空字符串。

```
targetDirectory = targetDirectory.Replace("http://",""); 
```

或者

```
targetDirectory = targetDirectory.Replace("http://",string.Empty); 
```

他们都一样

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-25T06:49:19.050

试试这个：

```
if(example.StartsWith("http://"))
{
    example.substring(7); 
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-25T05:59:43.340

您始终可以使用[String.Replace](http://msdn.microsoft.com/en-us/library/system.string.replace.aspx)删除/替换字符串中的字符。示例：

```
targetDirectory = targetDirectory.Replace("http://", string.Empty); 
```

您可以通过执行检查字符串是否以 Http:// 开头

```
if(targetDirectory.StartsWith("http://")) 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-25T06:09:47.810

您可以通过以下方式使用字符串中的替换字符`string.Replace`

```
if (targetDirectory.Contains("http://"))
{
    targetDirectory = targetDirectory.Replace("http://",string.Empty);
} 
```

# java - 使用 PropertiesFactoryBean 进行属性扩展

> ID：13062421
> 
> 赞同：3
> 
> 时间：2012-10-25T05:55:08.137
> 
> 标签：java, spring

我希望公开一个`Properties`Spring bean，其值已通过典型的属性扩展机制进行扩展。我正在使用 Spring 3.1。让我离题。

给定以下属性文件：

```
server.host=myhost.com
service.url=http://${server.host}/some/endpoint 
```

而这部分 Spring XML 配置文件：

```
<bean id="appProperties" class="org.springframework.beans.factory.config.PropertiesFactoryBean">
  <property name="locations">
    <list>
      <value>classpath:default.properties</value>
    </list>
  </property>
</bean>

<context:property-placeholder properties-ref="appProperties" /> 
```

我可以编写以下工作代码：

```
@Component
public class MyComponent {

  @Autowired
  @Qualifier("appProperties")
  private Properties appProperties;

  @Value("${service.url}")
  private String serviceUrl;

  // remainder omitted

} 
```

唯一的问题是，如果我`service.url`从`appProperties`我得到的值`http://${server.host}/some/endpoint`- 即该值是未扩展的。但是，如果我得到`service.url`from`serviceUrl`的值，则该值已扩展：`http://myhost.com/some/endpoint`。

有谁知道将`Properties`实例公开为值已扩展的 Spring bean 的好方法？

或者，如果有人可以将我指向一个将为我进行扩展的 Spring bean（必须是 Spring 3.1），我也会接受这个！`Environment`（有趣的是，如果您手动从or中提取属性值，`PropertySource`您会发现这些也未展开。）

谢谢，穆尔。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-07-03T14:26:09.377

我对此已经很晚了，但它已经被浏览了足够多的时间，我认为它需要快速响应。您所看到的是 Spring 如何处理属性扩展的工件。当发现需要进行属性扩展时，只检查之前加载的源，而不检查当前加载的属性源。当文件加载时，没有以前的源，所以 ${server.host} 不会展开。当您稍后通过 @Value 注释引用 ${server.url} 时，会加载属性文件源并可以按预期进行搜索。这就是为什么 @Value 注释得到完全扩展但从属性文件查询的结果没有。

# python - 使就地操作返回对象是一个坏主意吗？

> ID：13062423
> 
> 赞同：27
> 
> 时间：2012-10-25T05:55:12.583
> 
> 标签：python, coding-style, mutable, mutability

我在这里主要谈论的是 Python，但我想这可能适用于大多数语言。如果我有一个可变对象，那么让就地操作也返回该对象是一个坏主意吗？似乎大多数示例只是修改对象并返回`None`。例如，`list.sort`。

* * *

## 回答 #1

> 赞同：33
> 
> 时间：2012-11-26T22:29:09.390

是的，这是个坏主意。原因是如果就地和非就地操作具有明显相同的输出，那么程序员会经常混淆就地操作和非就地操作（`List.sort()`vs. `sorted()`），从而导致难以检测错误。

返回自身的就地操作可以让您执行“方法链接”，但是，这是不好的做法，因为您可能会不小心将具有副作用的函数埋在链的中间。

为了防止这样的错误，方法链应该只有一个具有副作用的方法，并且该函数应该位于链的末尾。链中之前的函数应该在没有副作用的情况下转换输入（例如，导航树、切片字符串等）。如果就地操作返回自己，那么程序员一定会意外地使用它来代替返回副本的替代函数，因此没有副作用（再次，`List.sort()`vs. `sorted()`），这可能导致难以调试的错误。

这就是 Python 标准库函数总是返回副本或返回`None`并就地修改对象，但从不就地修改对象并返回自身的原因。其他 Python 库（如 Django）也遵循这种做法（参见[这个关于 Django 的非常相似的问题](https://stackoverflow.com/questions/10936737/why-does-django-orms-save-method-not-return-the-saved-object/10936874)）。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2012-11-26T22:20:40.100

从修改对象的方法中返回修改对象可能有一些好处，但在 Python 中不建议这样做。修改操作后返回`self`将允许您在对象上执行[方法链接](https://en.wikipedia.org/wiki/Method_chaining)，这是在同一对象上执行多个方法的便捷方式，这是面向对象编程中非常常见的习语。反过来，方法链接允许直接实现[流畅的接口](https://en.wikipedia.org/wiki/Fluent_interface)。此外，它还允许更容易地表达一些函数式编程习惯用法。

举几个例子：在 Python 中，[Moka](http://www.phzbox.com/moka/)库使用方法链。在 Java 中，该类允许对同一个对象`StringBuilder`进行多次调用。`append()`在 JavaScript 中，JQuery 广泛使用方法链。Smalltalk 将这个想法提升到了一个新的水平：默认情况下，除非另有说明，否则*所有*方法都会返回（因此鼓励方法链接） - 与默认返回的 Python 进行对比。`self``None`

这个成语在 Python 中并不常见，因为 Python 遵守[命令/查询分离原则](http://en.wikipedia.org/wiki/Command-query_separation)，该原则指出“每个方法都应该是执行操作的命令，或者是向调用者返回数据的查询，但不是两个都”。

考虑到所有因素，最终返回是一个好主意还是坏主意，这取决于`self`编程文化和惯例，以及个人品味。如上所述，一些编程语言鼓励这样做（如 Smalltalk），而另一些则不鼓励这样做（如 Python）。每种观点都有优点和缺点，可以进行激烈的讨论。如果你是一个循规蹈矩的 Python 主义者，最好不要返回`self`- 请注意，有时打破此规则可能会很有用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-25T05:59:34.853

我想这取决于用例。我不明白为什么从就地操作返回一个对象会受到伤害，除了你可能不会使用结果，但如果你对纯功能主义不是超级挑剔的话，那并不是真正的问题。我喜欢调用链模式，比如 jQuery 使用，所以当函数返回它们所作用的对象时，我很感激它，以防我想进一步使用它。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2020-04-24T00:50:10.157

这里关于不从就地操作返回的答案让我有点困惑，直到我遇到[另一个](https://stackoverflow.com/a/20204251/3003133)链接到 Python[文档](https://docs.python.org/3/reference/datamodel.html#object.__iadd__)的 SO 帖子（我以为我读过，但一定只是略读）。参考就地运营商的文档说：

> 这些方法应该尝试就地执行操作（修改 self）并返回结果（可能是但不一定是 self）。

当我尝试使用就地操作而不返回`self`时，它变成了`None`. 在这个例子中，它会说`vars`需要一个带有`__dict__`. 看`self`那里显示的类型`None`。

```
# Skipping type enforcement and such.
from copy import copy
import operator
import imported_utility # example.
class A:
    def __init__(self, a, b):
        self.a = a
        self.b = b
    def one(self, scaler):
        self *= scaler
        return imported_utility(vars(self))
    def two(self, scaler):
        tmp = self * scaler
        return imported_utility(vars(tmp))
    def three(self, scaler):
        return imported_utility(vars(self * scaler))
    # ... addition, subtraction, etc.; as below.
    def __mul__(self, other):
        tmp = copy(self)
        tmp._inplace_operation(other, operator.imul)
        return tmp
    def __imul__(self, other): # fails.
        self._inplace_operation(other, operator.imul)
    # Fails for __imul__.
    def _inplace_operation(self, other, op):
        self.a = op(self.a, other)
        self.b = op(self.b, other) 
```

`*`工作（二和三），但`*=`（一）直到 self 返回。

```
 def __imul__(self, other):
        return self._inplace_operation(other, operator.imul)
    def _inplace_operation(self, other, op):
        self.a = op(self.a, other)
        self.b = op(self.b, other)
        return self 
```

我不完全理解这种行为，但是对引用帖子的后续评论说，没有返回`self`，就地方法真正修改了该对象，但将其名称重新绑定到`None`. 除非`self`返回，否则 Python 不知道要重新绑定到什么。通过保持对对象的单独引用可以看到这种行为。

# php - AJAX 表单执行 PHP 脚本但返回错误

> ID：13062428
> 
> 赞同：0
> 
> 时间：2012-10-25T05:55:29.003
> 
> 标签：php, jquery, ajax, json

我的 PHP 脚本正在成功执行，并且表单中的记录被插入到数据库中，但是，每次我按下“提交表单按钮”它都会给我一个警报“错误”，所以我的成功函数没有被执行，我没有不知道为什么。

### JAVASCRIPT

```
$(document).ready(function () {
    $(".button").click(function () {
        var dataString = 'name=' + name + '&email=' + email + '&comment=' + comment;
        $.ajax({
            type: 'POST',
            url: 'submit_form.php',
            dataType: 'json',

            data: dataString,
            error: function (XMLHttpRequest, textStatus, errorThrown) {
                alert('error');
                $('#message').removeClass().addClass('error')
                    .text('There was an error.').show(500);
            },
            success: function (data) {
                $('#contact_form').html("<div id='message'></div>");
                $('#message').removeClass().addClass((data.error === true) ? 'error' : 'success')
                    .text(data.msg).show(500);
                $('#contact_form').hide();
            }
        });
        return false;
    });
}); 
```

### PHP

```
//mysql connection string // 
$result = $mysqli->query("**fetch # of rows**");
$count  = $result->fetch_object()->Total;
$result->free();

echo "number of rows is $count";

if ($count > 10) {
    $return['error'] = true;
    $return['msg']   = 'Sorry The Queue is full';
}elseif ($stmt = $mysqli->prepare("**insert into db**")) {
    /* Bind our params */
    $stmt->bind_param("sss", $param1, $param2, $param3);

    /* Set our params */
    $param1 = $_POST["param1"];
    $param2 = $_POST["param2"];
    $param3 = $_POST["param3"];

    /* Execute the prepared Statement */
    $stmt->execute();
    $return['error'] = false;
    $return['msg']   = 'Thanks your comment was added!';

    /* Close the statement */
    $stmt->close();
} else {
    /* Error */
    printf("Prepared Statement Error: %s\n", $mysqli->error);
}

echo json_encode($return); 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-25T06:00:30.463

该行：

```
echo "number of rows is $count"; 
```

将导致无效的 JSON。

# cedet - ecb 定义自定义布局

> ID：13062431
> 
> 赞同：1
> 
> 时间：2012-10-25T05:56:11.200
> 
> 标签：cedet, emacs-ecb

我想构建一个具有两个特殊缓冲区的 ecb 布局。一个是semantic-symref-symbol 的输出，另一个是semantic-ia-fast-jump。我该怎么做呢 ？

我有 cedet 工作，我有来自 Alex Ott 的 git 存储库的 ecb。

来自这里的建议： [如何在 Emacs ECB 中删除目录窗口并添加 cscope 窗口？](https://stackoverflow.com/questions/2190062/how-to-remove-directory-window-and-add-a-cscope-window-in-emacs-ecb) 提供一些输入，但没有谈论如何连接功能。

# c - c有没有办法测试变量的类型？还是重载方法？

> ID：13062435
> 
> 赞同：2
> 
> 时间：2012-10-25T05:56:50.403
> 
> 标签：c, overloading, variable-types

我需要将一个 int 或一个字符串传递给堆栈的推送函数。通常我只会重载该函数，并有一个接受字符串参数和一个接受 int 参数的函数，以便仅根据参数调用适当的函数。我在评论中写了我通常会包含该类型的位置。我只是被困在那里。

```
void push(Stack *S, /* int or a string */ element)
{        
    /* If the stack is full, we cannot push an element into it as there is no space for it.*/        
    if(S->size == S->capacity)        
    {                
        printf("Stack is Full\n");        
    }        
    else        
    {                
        /* Push an element on the top of it and increase its size by one*/ 

        if (/* element is an int*/)
            S->elements[S->size++] = element; 
        else if (/* element is a string */)
            S->charElements[S->size++] = element;
    }        
    return;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T06:05:29.610

在这种情况下，您可以使用 a`union`并且它会自动为您管理事情：

```
typedef union {
   int integer; 
   char* string;
} Item; 
```

或者如果仍然需要类型检查，您可以使用`struct`with type and `union`inside：

```
typedef enum { INTEGER, STRING } Type;

typedef struct
{
  Type type;
  union {
  int integer;
  char *string;
  } value;
} Item; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T07:03:34.767

如果你的编译器已经实现了 C11 的那部分，你可以使用新特性`_Generic`。例如，clang 已经实现了这一点，对于 gcc 和表兄弟，有一些方法可以模拟该特性：[P99](http://p99.gforge.inria.fr)

它通常通过宏工作，像这样

```
#define STRING_OR_INT(X) _Generic((X), int: my_int_function, char const*: my_str_function)(X) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-25T06:01:31.323

c中没有函数重载。

您可以将类型作为参数传递，使元素参数成为指针，然后将指针重新转换为适当的类型。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-25T06:09:07.233

您必须仅使用以该语言提供的设施。我不认为有办法在 C 中检查变量是字符串还是 int。此外，元素不能同时保存字符串和 int 在这里要小心。所以去功能重载。祝你好运

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-25T06:10:50.387

你可以这样试试

```
void push (Stack *S,void *element)
    {
     (*element) //access using dereferencing of pointer by converting it to int
     element // incase of char array
    }

    //from calling enviroment
    int i =10;
    char *str="hello world"
    push(S,&i) //in case of int pass address of int
    push(S,str) // in case of char array 
```

# android - 之前在 listview 中延迟加载图像的帖子？

> ID：13062439
> 
> 赞同：0
> 
> 时间：2012-10-25T05:57:10.390
> 
> 标签：android, android-listview

我遇到了一篇关于列表视图中延迟加载图像的早期帖子，并尝试尝试发布的答案（第一个答案带有绿色检查）。[在 ListView 中延迟加载图像](https://stackoverflow.com/questions/541966/android-how-do-i-do-a-lazy-load-of-images-in-listview)。

但是我仍然对两件事感到困惑：

1.  列表视图中“延迟加载”的定义是什么？从我之前从 UI 的角度来看，如果项目图像存储在手机本地，“延迟加载”意味着您不会开始加载列表项目，直到用户可以看到或滚动到该项目（当项目超过 1 个屏幕时） ）。但是在这里，将图像存储在远程 url 中，这似乎意味着“第一次从 url 加载图像，然后从本地缓存加载”，这是“懒惰”的想法吗？

2.  在帖子的第一个答案中**，似乎不能在 listview 适配器的 getView() 方法中直接使用 DrawableManager.fetchDrawable() 方法。**我从 ddms 日志中得到低于错误消息（见下文），它说的是关于“ **NetworkOnMainThreadException** ”。那么 DrawableManager.fetchDrawable() 如何在这里的 listview 中使用呢？只有像 DrawableManager.fetchDrawableOnThread() 这样的基于线程的实现才能在列表适配器的 getView() 函数中使用，这是真的吗？

你能就这些问题分享一些想法吗？欣赏它。

```
10-25 04:52:43.628: E/AndroidRuntime(2231): FATAL EXCEPTION: main
10-25 04:52:43.628: E/AndroidRuntime(2231): android.os.NetworkOnMainThreadException
10-25 04:52:43.628: E/AndroidRuntime(2231):     at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1084)
10-25 04:52:43.628: E/AndroidRuntime(2231):     at java.net.InetAddress.lookupHostByName(InetAddress.java:391)
10-25 04:52:43.628: E/AndroidRuntime(2231):     at java.net.InetAddress.getAllByNameImpl(InetAddress.java:242)
10-25 04:52:43.628: E/AndroidRuntime(2231):     at java.net.InetAddress.getAllByName(InetAddress.java:220)
10-25 04:52:43.628: E/AndroidRuntime(2231):     at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:137)
10-25 04:52:43.628: E/AndroidRuntime(2231):     at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164)
10-25 04:52:43.628: E/AndroidRuntime(2231):     at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119)
10-25 04:52:43.628: E/AndroidRuntime(2231):     at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:360)
10-25 04:52:43.628: E/AndroidRuntime(2231):     at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555)
10-25 04:52:43.628: E/AndroidRuntime(2231):     at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:487)
10-25 04:52:43.628: E/AndroidRuntime(2231):     at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:465)
10-25 04:52:43.628: E/AndroidRuntime(2231):     at com.example.fairfax.MainActivity$DrawableManager.fetch(MainActivity.java:230)
10-25 04:52:43.628: E/AndroidRuntime(2231):     at com.example.fairfax.MainActivity$DrawableManager.fetchDrawable(MainActivity.java:187)
10-25 04:52:43.628: E/AndroidRuntime(2231):     at com.example.fairfax.MainActivity$LazyAdapter.getView(MainActivity.java:162) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T06:22:30.927

您应该调用`fetchDrawableOnThread`方法并将您的 url 和 imageview 作为参数传递，因为通过调用此方法，您将图像下载任务提供给非 ui 线程，然后通过使用`Handler`更新 ui 发送消息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T06:16:02.243

1.  延迟加载通常意味着在真正需要资源之前不会加载资源。在您的示例中，这正是您所说的：一旦第一次显示列表项，图像就会从 URL 加载。下次它可以从内部缓存中加载。请注意缓存不要使用太多内存。
2.  网络访问不应该发生在 UI 线程中，否则 UI 将在加载资源时冻结。我对 DrawableManager.fetchDrawableOnThread() 一无所知，但我通常为此使用 AsyncTaks。这有助于保持 UI 响应。只需谷歌搜索“android async image loading”或类似的东西，你会发现很多例子。

# google-maps - 使用 fitbounds() 时不要触发“zoom_changed”事件

> ID：13062441
> 
> 赞同：2
> 
> 时间：2012-10-25T05:57:21.123
> 
> 标签：google-maps, zooming, fitbounds

在我的初始化中，我有这样的事情

```
google.maps.event.addListener(gmap, 'zoom_changed', function(){
    GMapPlot.getSwNe(window.gmap.getBounds());
    //GMapPlot.rePlotMap(presentPlaceType);
}); 
```

在某些时候`gmap.fitBounds(GMapPlot.markerBounds);`，我的问题是`fitBounds`触发`zoom_changed`实习生调用绑定方法的事件，我不希望这种情况发生，有没有办法做到这一点。如果我尝试在此之前`clearListener`进行`zoom_changed`事件`fitBounds`是行不通的。

# html - 面对 IE8 和 Firefox 的复选框文本对齐问题

> ID：13062447
> 
> 赞同：2
> 
> 时间：2012-10-25T05:57:43.387
> 
> 标签：html, css, checkbox, internet-explorer-8, text-alignment

我以下列方式使用复选框。**Firefox**中的屏幕截图 **![在此处输入图像描述](../Images/7b914e06a66ac429332f61d82ffc7b5d.png)**

 ****IE8**中的截图在这里

![在此处输入图像描述](../Images/f0217d37e68f88afdaa74351371001c0.png)

这是代码

```
<div>
   <div>Testing :</div>
   <div><input type="checkbox" value="1"/> One</div>
   <div><input type="checkbox" value="2"/> Two</div>
   <div><input type="checkbox" value="3"/> Three</div>
</div> 
```

如何在两个浏览器中垂直居中对齐文本？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:00:53.567

在你的 CSS 中写下这个 -

```
input[type="checkbox"]{
    vertical-align: middle;
} 
```

[**工作演示**](http://jsfiddle.net/X7XgW/)

内联 CSS 技巧适用于 WIN XP。尝试 -

```
<div><input type="checkbox" value="1" style="vertical-align: middle;" /> One</div> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T06:24:20.760

尝试使用不同的 css ：

```
<!--[if IE 8]>
    <link rel="stylesheet" type="text/css" href="ie8.css">
<![endif]--> 
```

在这个文件中为复选框写你自己的css for ie 8**

# c# - 由于 Google 数据列表 API 已被弃用，那么 Google 网站要使用哪个 api？

> ID：13062451
> 
> 赞同：6
> 
> 时间：2012-10-25T05:58:03.603
> 
> 标签：c#, google-data-api

由于 Google 已弃用 Google Data List API，因此我们可以将“Google Drive API”用于 Google Drive，但 Google Sites 呢？我目前正在使用 Google.Gdata.client.dll 参考来处理 Google 协作平台。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-06-01T20:19:25.163

看起来谷歌正在维护以下页面，以帮助使用其 API 的人跟踪他们从 gdata 的过渡： [https ://developers.google.com/gdata/docs/directory](https://developers.google.com/gdata/docs/directory)

自 2015 年 6 月 1 日起，Google 协作平台 API 没有替代品。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-01T20:30:34.613

您根据@froggythefrog 提供的页面继续使用现有的 GData API：

*   [GData API 目录](https://developers.google.com/gdata/docs/directory)

我可以看到很多 GData API 已被弃用，并且大多数新版本不再基于它，但它表示 Google Sites Data API 没有改变，特别是“GData 版本仍然存在。没有替代 API。”

这可能意味着它的日子可能会被编号，但目前它是当前的 API。

我看不到任何提及 GData API 作为一个整体被彻底弃用的说法。

# macos - 如何修改应用程序的语言

> ID：13062452
> 
> 赞同：0
> 
> 时间：2012-10-25T05:58:05.563
> 
> 标签：macos

我用的是Mac 10.8.2操作系统，有很多应用程序，我的系统语言是英文，请问如何修改应用程序的语言（不是操作系统），比如改日文，是不是有配置可以修改吗？例如：Info.plist 类

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T06:01:48.883

它会因应用程序而异，具体取决于每个应用程序如何支持（或不支持）其他默认语言。

但是，对于许多应用程序来说，[这个问题](https://superuser.com/questions/42791/can-i-change-the-default-language-of-a-application-program-in-snow-leopard)的方法似乎很有希望。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T07:07:41.787

该应用程序将使用它支持的任何语言，这是在操作系统中选择的（从[这里](http://developer.apple.com/library/mac/#documentation/MacOSX/Conceptual/BPInternational/Articles/InternatSupport.html#//apple_ref/doc/uid/20000278-SW1)）：

> 在 iOS 中，用户通过导航到“设置”应用程序中的“通用”>“国际”>“语言”来指定首选语言。由于基于 iOS 的设备仅支持一位用户，因此一次只能选择一种语言。在 OS X 中，语言和文本系统首选项面板允许用户指定首选语言和一种或多种备用语言，以防首选语言不可用。

# java - Selenium WebDriver 中的 sendKeys()

> ID：13062453
> 
> 赞同：0
> 
> 时间：2012-10-25T05:58:18.403
> 
> 标签：java, selenium, selenium-webdriver

我是 Selenium 的新手，我正在尝试使用 WebDriver 上传文件。在这里，我尝试使用 dom 元素单击浏览按钮，如下所示：

```
selenium.type("document.forms['UploadForm'].elements['browsebutton']",file.getAbsolutePath()); 
```

但由于该方法不起作用，我尝试使用 WebDriver 元素点击浏览按钮，如下所示：如何将我的 dom 元素更改为 xpath 或 css 选择器，如下所示？

```
driver.findElement(By.cssSelector("input[type=\"file\"]")).click(); 
```

我不能把 xpath 写成

```
selenium.click("xpath="//input[@name='uplaod' and @value='browsebutton']"); 
```

因为我有多个具有相同名称和值的浏览按钮。所以我需要选择使用 dom 元素本身。我该怎么做？

提前感谢您的帮助。

Dominik 我尝试使用下面的 xpath，因为没有名称属性：但不工作

```
String upload="(//input[@name='bulkUnBlockUploadForm' and @value='requestFile'])[2]";
String button="(//input[@name='bulkUnBlockUploadForm' and @value='process'])[2]"; 
```

我也尝试使用 id：不工作

```
 String upload="(//input[@id='content' and @value='requestFile'])[1]";
    String button="(//input[@id='content' and @value='process'])[1]"; 
```

问题出在我的 jsp 中，我有 2 个具有相同 id 和相同值但形式不同的浏览按钮。我为每个具有相同 id 和相同值但形式不同的浏览按钮有 2 个提交按钮。所以当我使用上面的方法是同时点击提交按钮

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-29T11:53:48.980

这可以上传文件，它对我有用。

```
public static void main(String[] args) 
{
     WebDriver  driver = new FirefoxDriver();
     driver.get("http://www.freepdfconvert.com/");
     driver.findElement(By.id("UploadedFile")).sendKeys("C:\\Users\\Reputa\\Downloads\\HP1.pdf");        
     try {
            Thread.sleep(4000);
        } catch (Exception e) {}
     driver.findElement(By.name("pdfsubmit")).click();
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T06:05:30.173

如果您有两个具有相同属性的按钮，那么要么重命名它们以便更好地访问（例如通过给它们一个唯一的 id），要么尝试将您的 XPath 语句更改为如下内容：

```
String uploadButton1 = "(//input[@name='upload' and @value='browsebutton'])[1]";
String uploadButton2 = "(//input[@name='upload' and @value='browsebutton'])[2]";
driver.findElement(By.xpath(uploadButton1)).click();
driver.findElement(By.xpath(uploadButton2)).click(); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-09-25T10:59:36.653

嗨，当我是初学者时，我也发现了同样的问题，有人告诉我您无法处理 Windows 控件，因此请使用第三方应用程序，例如 autoit，我正在使用 autoit。

```
 1\. download autoit.
    2\. no need of any jars just add Runtime,getruntime().execute('path of exe');in your code
    3.code of file upload is below

Local $hWnd=WinWait("[CLASS:#32770]","",10)
ControlFocus($hWnd,"","Edit1")
Sleep(2000)
ControlSetText($hWnd, "", "Edit1", "path of file to upload")
Sleep(2000)
ControlClick($hWnd, "","Button1"); 
```

4 如果您发现查询问我，仍然运行您的 java 应用程序。

# jetty - 处理表单太大异常而不应用 org.mortbay.jetty.Request.maxFormContentSize 参数

> ID：13062457
> 
> 赞同：1
> 
> 时间：2012-10-25T05:58:32.240
> 
> 标签：jetty, limit, http-post

根据[这个 SO thread](https://stackoverflow.com/questions/3861455/form-too-large-exception)中提到的解决方案，我们需要设置`maxFormContentSize`参数。[但是这样的解决方案可以通过哈希表漏洞](http://seclists.org/fulldisclosure/2011/Dec/477)导致DoS 。

除了限制发布请求之外，还有其他方法可以将其分解为多个请求吗？我需要在没有`javascript`支持的 Web 客户端上使用它。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T12:41:35.357

[https://github.com/eclipse/jetty.project/commit/085c79d7d6cfbccc02821ffdb64968593df3e0bf](https://github.com/eclipse/jetty.project/commit/085c79d7d6cfbccc02821ffdb64968593df3e0bf)

很久以前，Jetty 通过在 ContextHandler 上调用 setMaxFormKeys 添加了一种机制来处理这个问题。以上是添加该支持的提交和相应的测试用例。存在于 jetty 7.6.x 和 8.1.x 以及 jetty 9 里程碑版本中。

# php - 使用 jquery 文件上传器和 PHP 上传多个文件

> ID：13062458
> 
> 赞同：0
> 
> 时间：2012-10-25T05:58:36.483
> 
> 标签：php, jquery, ajax, file-upload

我正在使用php mysql开发一个Web应用程序。这里，要求说，用户应该能够一次上传多个文件，将它们存储在服务器上。目前我可以使用这个上传一个文件，

```
 $(function(){
var btnUpload=$("#uploadPdf");
new AjaxUpload(btnUpload, {
    action:"uploadPdf.php",
    name: "uploadCertPdf",
    onSubmit: function(file, ext){
         if (!(ext && /^(pdf)$/.test(ext))){ 
            alert("Upload File (Supports PDF formats only)");
            return false;
        }           
        var stats = $("#resultsOuter");
        stats.html('<img src="images/layout/preloader-2.png" />');
    },
    onComplete: function(file, response){
            alert(response);
            alert("File uploaded successfully");
            window.location="somePage.php";

    }
  })
  });        

 /**somePage.php file**/

  if (isset($_FILES["uploadCertPdf"]))
  {
  if ($_FILES["uploadCertPdf"]["error"] > 0)
  {
      echo "Error: " . $_FILES["uploadCertPdf"]["error"] . "<br />";
  }
else
  {
       if(!is_dir($_SERVER['DOCUMENT_ROOT']."admin/pdf/"))
     {  echo "not found";
        mkdir($_SERVER['DOCUMENT_ROOT']."admin/pdf/", 0777,true);
     } 
         if(file_exists($file))
        {   echo "duplicate";
            $flag = TRUE;
        }
        else
        { 
            $uploaddir = '/admin/pdf/';
            $uploadfile = $uploaddir . basename($_FILES['uploadCertPdf']['name']);
            $path_info = pathinfo($_FILES['uploadCertPdf']['name']);
            $type= $path_info['extension']; 
            if($type == 'pdf')
            {   

                $flag = move_uploaded_file($_FILES['uploadCertPdf']['tmp_name'],$uploadfile);

            }else{
                echo "You can upload only PDF files";
                }
        }

      }
   } 
```

如何自定义它以一次上传多个文件？我尝试搜索，但所有插件都被自定义为使用某些用户界面，即它们有自己独立的模块和功能。
因此，我们将不胜感激。感谢您的宝贵时间。 **编辑：**我正在添加动态创建文件输入的 ajax 上传器功能。

```
 /**
 * Creates invisible file input above the button 
 **/
_createInput : function(){
    var self = this;
    var input = d.createElement("input");
    input.setAttribute('type', 'file');
    input.setAttribute('name', this._settings.name);
    input.setAttribute('id', 'file'+this._settings.name);
    var styles = {
        'position' : 'absolute'
        ,'margin': '-5px 0 0 -175px'
        ,'padding': 0
        ,'width': '220px'
        ,'height': '30px'
        ,'fontSize': '14px'                             
        ,'opacity': 0
        ,'cursor': 'pointer'
        ,'display' : 'none'
        ,'zIndex' :  2147483583 //Max zIndex supported by Opera 9.0-9.2x 2147483583 
        // Strange, I expected 2147483647   
    }; 
```

我尝试通过向 name 属性添加一个数组，但没有奏效。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:40:52.100

您可以使用[http://blueimp.github.com/jQuery-File-Upload/](http://blueimp.github.com/jQuery-File-Upload/)上提供的 Jquery 插件一次上传多个文件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T07:24:42.987

我刚刚在一个 Grails 项目上完成了一个多文件上传功能，使用本文作为指南（基于 PHP）。如果你想自己动手 - 这是一个很好的参考。

[http://net.tutsplus.com/tutorials/javascript-ajax/uploading-files-with-ajax/](http://net.tutsplus.com/tutorials/javascript-ajax/uploading-files-with-ajax/)

# optimization - 优化访问时间

> ID：13062461
> 
> 赞同：0
> 
> 时间：2012-10-25T05:58:53.770
> 
> 标签：optimization

假设我有 6 个文件，即 F1、F2.. F6，分别有 100、200、50、80、120、150 条记录。存储文件的顺序是否优化了访问时间？如果是这样，那么哪个顺序更可取？

据我说，存储顺序不应该影响访问时间。因为，如果我们先将文件存储为最大记录，然后以此类推直到最小的记录，它将与从较低的记录数存储到较高的记录数具有相同的效果！

# c# - 构造 linq 查询以实现最快性能的正确方法？

> ID：13062462
> 
> 赞同：9
> 
> 时间：2012-10-25T05:58:55.823
> 
> 标签：c#, linq, entity-framework, generic-list

类似的问题已经在这里提出，但没有一个适合我的需要。
我制作了测试用例，看看哪个更快。但我觉得我的 linq 代码仍然很慢。如何构建 linq 代码以获得更快的性能？

其他人说使用 double`.Tolist()`会导致运行速度变慢，当我测试它时，它表明它比任何其他测试都快。

测试：

```
Preparation
---------------------------------------------------------------
return Properties of UserInfo(userinf, true){
    UserID = userinf.UserID;
    FirstName = userinf.user.FirstName;
    MiddleName = userinf.user.MiddleName;
    LastName = userinf.user.LastName;
    LoginID = userinf.user.LoginID;
    Birthday = userinf.Birthday;
}

skip = 0;
take = 100;

total table records = 304;

Linq to Entity Framework 
```

提琴手：v2.4.0.0

```
https://127.0.0.1/..../RetrieveUserInfo?skip=0&take=100
{
    "client":{
        "SessionID":"5433ab64-7e0d-444f-b886-a901ea9a0601"
    },
    "session":{
        "SessionID":"35b75daa-25ad-45a4-9f99-0e69ec3b66a4"
    }
} 
```

* * *

```
//Test 1
//1) 00:00:15.3068755 -- Attempt1
//2) 00:00:13.8207905 -- Attempt2
//3) 00:00:16.2489294 -- Attempt3

var list = (from usr in dbase.userinfoes
            select usr).OrderBy(i => i.UserID).Skip(skip).Take(take).ToList();

userlist = (from i in list
            select new UserInfo(i, true)).ToList();

///Test 2
//1) 00:00:15.3908803
//2) 00:00:14.8818512
//3) 00:00:19.4761140

var list = (from usr in dbase.userinfoes.AsEnumerable().OrderBy(i => i.UserID).Skip(skip).Take(take).ToList()
            select new UserInfo(usr, true)).ToList();

//Test 3
//1) 00:00:30.1937270
//2) 00:00:24.1003784
//3) 00:00:28.8806519

var list = dbase.userinfoes.OrderBy(i => i.UserID).Skip(skip).Take(take).ToList();
userlist = (from i in list select new UserInfo(i, true)).ToList();

//Test 4
//1) 00:00:57.2652754
//2) 00:00:54.4051118
//3) 00:00:55.3251644

var list = (from usr in dbase.userinfoes
            select usr).ToList();

userlist = (from i in list
            select new UserInfo(i, true)).OrderBy(i => i.UserID).Skip(skip).Take(take).ToList();

//Test 5
//1) 00:01:06.8378229
//2) 00:01:01.2845053
//3) 00:00:55.0721499

var list = from usr in dbase.userinfoes
           select usr;

userlist = (from i in list.AsEnumerable()
            select new UserInfo(i, true)).OrderBy(i => i.UserID).Skip(skip).Take(take).ToList();

// Test 6
// VERY LONG. It tooks all records first and construct UserInfo one by one before doing the skip and take

var list = (from usr in dbase.userinfoes.AsEnumerable()
            select new UserInfo(usr, true)).OrderBy(i => i.UserID).Skip(skip).Take(take).ToList();

//Test 7
// VERY LONG. It tooks all records first and construct UserInfo one by one before doing the skip and take

var list = from usr in dbase.userinfoes.AsEnumerable()
           select new UserInfo(usr); 
```

用于更快搜索的正确代码。感谢您`casperOne`指出，**订购、跳过和取货都在服务器上执行，**速度更快。

这是最终代码：

```
var list = (from usr in dbase.userinfoes
                .OrderBy(i => i.UserID)
                .Skip(skip)
                .Take(take)
                .AsEnumerable()
            select new UserInfo(usr, true)).ToList();   

1) 00:00:10.9210513
2) 00:00:10.8270973
3) 00:00:10.8250151 
```

感谢您`Richard Neil Ilagan`提供最终代码。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-25T13:27:10.060

以下是每个人都按原样执行的原因以及您所见所闻的原因：

**测试1：**

```
///Test 2
//1) 00:00:15.3068755 -- Attempt1
//2) 00:00:13.8207905 -- Attempt2
//3) 00:00:16.2489294 -- Attempt3

var list = (from usr in dbase.userinfoes
            select usr).OrderBy(i => i.UserID).Skip(skip).Take(take).ToList();

userlist = (from i in list
            select new UserInfo(i, true)).ToList(); 
```

这绝对是最快的。它是最快的，因为ordering、skip 和take 都是在服务器上执行的。因为你可能有索引，服务器很强大（强大）等等。它可以比你在客户端实现整个集合然后在那里执行操作更快地处理这些操作。

`UserInfo`仅在后处理列表上构建。

**测试 2：**

```
///Test 2
//1) 00:00:15.3908803
//2) 00:00:14.8818512
//3) 00:00:19.4761140

var list = (
    from usr in dbase.userinfoes.AsEnumerable().
        OrderBy(i => i.UserID).Skip(skip).Take(take).ToList()
    select new UserInfo(usr, true)
).ToList(); 
```

这*应该*具有与测试 7 相同的性能影响；调用[`AsEnumerable`](http://msdn.microsoft.com/en-us/library/bb335435.aspx)强制所有后续操作在内存中执行（调用[`OrderBy`](http://msdn.microsoft.com/en-us/library/system.linq.enumerable.orderby.aspx)将要求您在订购之前实现所有实例）。

这有点异常。我很想知道发送到服务器的 SQL 是什么（假设您使用的是 SQL 服务器或一些基于 SQL 的后端），以确保它选择了所有记录。

`UserInfo`仅在后处理列表上构建。

**测试 3：**

```
//Test 3
//1) 00:00:30.1937270
//2) 00:00:24.1003784
//3) 00:00:28.8806519

var list = dbase.userinfoes.OrderBy(i => i.UserID).
    Skip(skip).Take(take).ToList();
userlist = (from i in list select new UserInfo(i, true)).ToList(); 
```

同样，order by、skip 和 take 都在服务器上进行。您将列表物化两次（您有两次调用`ToList`），这是我能看到的开销的唯一解释）。

`UserInfo`仅在后处理列表上构建。

**测试 4：**

```
//Test 4
//1) 00:00:57.2652754
//2) 00:00:54.4051118
//3) 00:00:55.3251644

var list = (from usr in dbase.userinfoes
            select usr).ToList();

userlist = (from i in list select new UserInfo(i, true)).
    OrderBy(i => i.UserID).Skip(skip).Take(take).ToList(); 
```

您现在正在内存中实现整个列表，因此现在有更多开销。

`UserInfo`构建在预处理列表上。

**测试 5：**

```
//Test 5
//1) 00:01:06.8378229
//2) 00:01:01.2845053
//3) 00:00:55.0721499

var list = from usr in dbase.userinfoes
           select usr;

userlist = (from i in list.AsEnumerable()
            select new UserInfo(i, true)).
    OrderBy(i => i.UserID).Skip(skip).Take(take).ToList(); 
```

与测试二相同，您在客户端执行所有操作。

`UserInfo`构建在预处理列表上。

**测试 6：**

```
// Test 6
// VERY LONG. It tooks all records first and construct 
// UserInfo one by one before doing the skip and take

var list = (from usr in dbase.userinfoes.AsEnumerable()
            select new UserInfo(usr, true)).
    OrderBy(i => i.UserID).Skip(skip).Take(take).ToList(); 
```

`UserInfo`构建在预处理列表上。

同样，在客户端执行所有操作。

```
// Test 7
// VERY LONG. It tooks all records first and construct 
// UserInfo one by one before doing the skip and take

var list = from usr in dbase.userinfoes.AsEnumerable()
           select new UserInfo(usr); 
```

同样，在客户端执行所有操作。

`UserInfo`构建在预处理列表上。

在所有这些测试中，我注意到*一个*`UserInfo`不同之处，那就是调用实例的构造函数。在性能好的地方，你`UserInfo`尽可能推迟构建实例（在你执行 order、take、skip 操作之后），而当性能不好时，你在`UserInfo`前面构建实例，在这些之前操作发生（当通常有更多对`UserInfo`构造函数的调用时）。

也就是说，您的性能问题似乎*可能*存在于`UserInfo`类的构造函数中，而不是 LINQ 中。通常，当您让[`IQueryable<T>`](http://msdn.microsoft.com/en-us/library/dd990377.aspx)提供者对底层数据源执行操作时，*通常*比在客户端的内存中执行这些操作要快。

虽然没有看到构造函数代码，但无法判断，但您的数字肯定表明问题出在那儿，而不是在 LINQ 中。

# javascript - 如何注册 Meteor Spacebars Helpers？

> ID：13062463
> 
> 赞同：2
> 
> 时间：2012-10-25T05:58:55.407
> 
> 标签：javascript, meteor, spacebars

尝试做一些简单的车把助手

```
Handlebars.registerHelper('if_eq', function(context, options) {
  if (context == options.hash.compare)
    return options.fn(this);
  return options.inverse(this);
}); 
```

收到此错误。

```
ReferenceError: Handlebars is not defined 
```

正确的方法是什么。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-25T09:22:44.250

Handlebars 对象仅在客户端可用。因此，请确保您已经`if (Meteor.isClient) { }`包裹了助手注册码

# java - 如何在 c# 或 Java 中进行堆栈交换

> ID：13062464
> 
> 赞同：-3
> 
> 时间：2012-10-25T05:59:00.417
> 
> 标签：java, algorithm, c#-4.0, data-structures, stack

我想交换两个堆栈，这基本上意味着堆栈的内容。我怎么能在 C# 或 Java 或 C 中做到这一点

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-25T06:11:12.540

你可以交换引用吗？即给定一个堆栈s1和s2：

```
Stack<T> temp = s2;
s2 = s1;
s1 = temp; 
```

切换堆栈内容的最简单方法可能是使用另一个堆栈：

```
int secondSize = s1.size();

while(!s1.isEmpty()){

    holdStack.push(s1.pop());
}
while(!s2.isEmpty()){
    holdStack.push(s2.pop());
}

for(int i = 0; i < secondSize; i++){
    s1.push(holdStack.pop());
}
while(!holdStack.isEmpty()){
    s2.push(holdStack.pop());
} 
```

# opencl - 使用 NVIDIA 的 nvcc 编译器编译和构建 .cl 文件？

> ID：13062469
> 
> 赞同：2
> 
> 时间：2012-10-25T05:59:16.577
> 
> 标签：opencl, gpgpu, nvidia, gpu

是否可以使用 NVIDIA 的 nvcc 编译器编译 .cl 文件？我正在尝试设置 Visual Studio 2010 在 CUDA 平台下编写 Opencl 代码。但是当我选择 CUDA C/C++ Compiler 来编译和构建 .cl 文件时，它给了我类似 nvcc 不存在的错误。问题是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2017-04-08T18:34:57.043

您应该可以`nvcc`用来编译 OpenCL 代码。通常，我建议`.c`对符合 C 的代码和`.cpp`符合 C++ 的代码 (*) 使用文件扩展名，但是`nvcc`具有文件扩展名覆盖选项 ( `-x ...`)，以便我们可以修改行为。这是一个使用 CUDA 8.0.61、RHEL 7、Tesla K20x 的工作示例：

```
$ cat t4.cpp
#include <CL/opencl.h>
#include <stdint.h>
#include <stdio.h>
#include <inttypes.h>
#include <stdlib.h>

const char source[] =
"__kernel void test_rotate(__global ulong *d_count, ulong loops, ulong patt)"
"{"
"  ulong n = patt;"
"  for (ulong i = 0; i<loops; i++)"
"    n &= (107 << (patt+(i%7)));"
"  d_count[0] = n + loops;"
"}"
;

int main(int argc, char *argv[])
{
  cl_platform_id platform;
  cl_device_id device;
  cl_context context;
  cl_command_queue queue1, queue2;
  cl_program program;
  cl_mem mem1, mem2;
  cl_kernel kernel;

  bool two_kernels = false;
  unsigned long long loops = 1000;
  if (argc > 1) loops *= atoi(argv[1]);
  if (argc > 2) two_kernels = true;
  if (two_kernels) printf("running two kernels\n");
  else printf("running one kernel\n");
  printf("running  %lu loops\n", loops);
  unsigned long long pattern = 1;
  clGetPlatformIDs(1, &platform, NULL);
  clGetDeviceIDs(platform, CL_DEVICE_TYPE_ALL, 1, &device, NULL);
  context = clCreateContext(NULL, 1, &device, NULL, NULL, NULL);
  queue1 = clCreateCommandQueue(context, device, CL_QUEUE_OUT_OF_ORDER_EXEC_MODE_ENABLE, NULL);
  queue2 = clCreateCommandQueue(context, device, CL_QUEUE_OUT_OF_ORDER_EXEC_MODE_ENABLE, NULL);

  const char *sources[1] = {source};
  program = clCreateProgramWithSource(context, 1, sources, NULL, NULL);
  clBuildProgram(program, 1, &device, NULL, NULL, NULL);
  mem1 = clCreateBuffer(context, CL_MEM_READ_WRITE, 1*sizeof(cl_ulong), NULL, NULL);
  mem2 = clCreateBuffer(context, CL_MEM_READ_WRITE, 1*sizeof(cl_ulong), NULL, NULL);
  kernel = clCreateKernel(program, "test_rotate", NULL);
  const size_t work_size[1] = {1};
  clSetKernelArg(kernel, 0, sizeof(mem1), &mem1);
  clSetKernelArg(kernel, 1, sizeof(loops), &loops);
  clSetKernelArg(kernel, 2, sizeof(pattern), &pattern);

  clEnqueueNDRangeKernel(queue1, kernel, 1, NULL, work_size, work_size, 0, NULL, NULL);
  if (two_kernels){
    clSetKernelArg(kernel, 0, sizeof(mem2), &mem2);
    clSetKernelArg(kernel, 1, sizeof(loops), &loops);
    clSetKernelArg(kernel, 2, sizeof(pattern), &pattern);

    clEnqueueNDRangeKernel(queue2, kernel, 1, NULL, work_size, work_size, 0, NULL, NULL);
    }
  cl_ulong *buf1 = (cl_ulong *)clEnqueueMapBuffer(queue1, mem1, true, CL_MAP_READ, 0, 1*sizeof(cl_ulong), 0, NULL, NULL, NULL);
  cl_ulong *buf2 = (cl_ulong *)clEnqueueMapBuffer(queue2, mem2, true, CL_MAP_READ, 0, 1*sizeof(cl_ulong), 0, NULL, NULL, NULL);
  printf("result1: %lu\n", buf1[0]);
  printf("result2: %lu\n", buf2[0]);
  clEnqueueUnmapMemObject(queue1, mem1, buf1, 0, NULL, NULL);
  clEnqueueUnmapMemObject(queue2, mem2, buf2, 0, NULL, NULL);
  return 0;
}
$ nvcc -arch=sm_35 -o t4 t4.cpp -lOpenCL
$ ./t4
running one kernel
running  1000 loops
result1: 1000
result2: 0
$ cp t4.cpp t4.cl
$ nvcc -arch=sm_35 -x cu -o t4 t4.cl -lOpenCL
$ ./t4
running one kernel
running  1000 loops
result1: 1000
result2: 0
$ 
```

请注意，这里的代码没有做任何明智或重要的事情，所以我宁愿避免提问。它仅用于演示 C++ 兼容 OpenCL 代码的编译。

(*)（因为这些文件也可以很容易地被普通的主机编译器处理，例如 gnu 编译器，带有适当的包含和链接选项的开关。）

# r - 对一列进行排序，同时保持另一列固定（在另一列内）

> ID：13062470
> 
> 赞同：0
> 
> 时间：2012-10-25T05:59:22.863
> 
> 标签：r

和

```
df <- data.frame(x = rep(1:3, each = 3)
        , y = rep(1:3, 3)
        , z = round(rnorm(9), 2))

df
  x y     z
1 1 1  0.55
2 1 2  0.99
3 1 3 -2.32
4 2 1 -0.25
5 2 2  1.20
6 2 3 -0.38
7 3 1  1.07
8 3 2 -0.98
9 3 3 -1.09 
```

有没有办法`z`在每个内部进行排序，`x`以便：

```
df.sort
  x y     z
1 1 3 -2.32
2 1 1  0.55
3 1 2  0.99
4 2 3 -0.38
5 2 1 -0.25
6 2 2  1.20
7 3 3 -1.09
8 3 2 -0.98
9 3 1  1.07 
```

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:12:28.237

`data.frame`您可以即时创建一个新的。

```
data.frame(df$x, df[order(df$z), c("y", "z")]) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T06:15:29.807

如果您想在 x 的每个值内按 z 排序（您的示例显示的内容，而不是您的问题似乎导致的内容，您可以使用 plyr 并安排

```
library(plyr)
dfa <- arrange(df, x, z) 
```

你在这里做的是先按 x 排序，然后按 z

# sequence - 来自 DNAse-seq 数据的差异开放染色质位置

> ID：13062471
> 
> 赞同：2
> 
> 时间：2012-10-25T05:59:28.200
> 
> 标签：sequence

我有来自 ENCODE 的两个不同细胞系（任何细胞系中没有控制数据）中的 DNase-seq 数据（两个 SAM 文件或两个 BED 文件）。我想要丰富/显着差异开放的染色质位置。简而言之，在以下可访问区域之间进行比较：单元格-A/单元格-B。

有什么工具可以为我做到这一点吗？该工具的建议/推荐命令行选项设置也会有所帮助。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-02T19:45:53.847

您可以尝试 BEDTools 中的“intersectbed”程序并使用“-wao”标志来报告 BED 文件中每个元素之间存在多少重叠。您可以将“-f”和“-r”标志与“-wao”标志结合使用，以将报告的重叠限制为“相互重叠”。设置“-f”和“-r”标志后，您可以将倒数重叠阈值指定为每个元素从文件 A 到文件 B 以及从文件 B 到文件 A 的碱基重叠百分比。通过这种方式，您可以搜索在两个文件中几乎覆盖相同碱基集的 BED 元素，并简单地识别那些不显示高水平相互重叠的 BED 元素以定义显着差异区域。

床具：[http ://code.google.com/p/bedtools/](http://code.google.com/p/bedtools/)

上面的站点包含很好的文档和示例，包括一个出色的可下载 PDF 手册。我希望这会有所帮助！

# objective-c - 关于 - Xcode error-> Clang: error: no input files

> ID：13062475
> 
> 赞同：24
> 
> 时间：2012-10-25T05:59:36.070
> 
> 标签：objective-c, xcode

我对 Xcode 完全陌生，并收到以下错误：

> clang：错误：没有这样的文件或目录：'/usersd/chairman/desktop/MySecondTabApp/MySecondTabbApp/"MySecondTabbApp/MySecondTabbApp-Prefix.pch"'
> 
> Clang：错误：没有输入文件
> 
> Command/Users/chairman/Desktop/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/user/bin/clang 失败，退出代码为 1

* * *

## 回答 #1

> 赞同：42
> 
> 时间：2012-10-25T06:03:41.107

制作项目后您是否移动了文件夹/文件？这是因为 Xcode 由于某种原因找不到前缀标头。它可以通过重新定位轻松修复。

[![](../Images/923c8d93f133f0f1a4e978bd27eb1bc6.png)](https://s3.amazonaws.com/f.cl.ly/items/2t2Q1p392i0D180B452E/Screen%20Shot%202012-10-25%20at%202.02.01%20PM.png)

**将前缀标题**更改为文件`.pch`在文件夹中的位置。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2015-03-24T06:25:57.607

选择您的项目并转到构建阶段并在“编译源”下搜索整个列表。如果某些文件是红色的，则按底部的 - 按钮删除这些文件。还要确保这些文件在没有红色的列表中。

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2014-12-03T21:41:13.767

1.  制作新文件：⌘cmd+N iOS/Mac > 其他 > PCH 文件 >
2.  YourProject-Prefix.pch。项目 > 构建设置 > 搜索：
3.  “前缀标题”。在“Apple LLVM 6.0”下，您将获得前缀
4.  标题键。输入：“YourProjectName/YourProject-Prefix.pch”
5.  清理项目：⌘cmd+⇧shift+K 构建项目：⌘cmd+B

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2016-07-28T11:13:34.843

请转到前缀头文件

> 目标>构建设置>前缀标题。然后复制粘贴此行并更改您的项目名称

$(SRCROOT)/Your_Project_name-Prefix.pch

它为您工作 100% 保证。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-03-05T20:47:37.363

有同样的问题。必须进入 Finder（在 Xcode 之外）并将我的 .pch 文件放在一个新文件夹中以匹配请求的路径。

一旦文件的位置与路径匹配，它就被修复了。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-11-24T15:11:51.263

有同样的问题。尝试将 MySecondTabbApp/MySecondTabbApp-Prefix.pch 替换为 MySecondTabbApp-Prefix.pch。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2017-09-30T09:32:46.430

```
clang: error: no such file or directory: '/usersd/chairman/desktop/MySecondTabApp/MySecondTabbApp/"MySecondTabbApp/MySecondTabbApp-Prefix.pch"' 
```

这意味着您的 Pch 文件在上述路径中不存在。签入您的代码，其中 PCH 文件可用，并采用该路径并在 Apple LLVM 8.0的**PrefixHeader中上传。**喜欢

```
$(SRCROOT)/PATH/app_PrefixHeader.pch 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2015-12-13T16:31:29.387

从另一个站点引用的评论是问题已为我解决

嗯，这很奇怪。试试这个 - 在 Xcode 左侧的文件/文件夹列表中单击您的项目名称（在列表的最顶部）。查看右侧窗口左侧的“目标”部分。很可能，列出了两个，第二个是“测试”项目。右键单击该项目并选择“删除”。然后尝试再次运行该项目。请参阅下面的屏幕截图以获取视觉提示。

[在此处输入图像描述](http://i.stack.imgur.com/XZf08.png)

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2017-04-21T10:54:54.283

更新豆荚帮助了我

```
pod update 
```

原来是依赖问题。更新 pod 安装的必要组件

# c# - 如何在C#中从数字中删除小数部分

> ID：13062481
> 
> 赞同：62
> 
> 时间：2012-10-25T06:00:09.433
> 
> 标签：c#

我有双倍类型的数量。double a = 12.00 我必须通过删除 .00 使其变为 12

请帮我

* * *

## 回答 #1

> 赞同：61
> 
> 时间：2012-10-25T06:01:59.430

好吧`12`，并且`12.00`具有与值完全相同的表示`double`。你想以一个`double`或其他东西结束吗？（例如`int`，如果您确信该值在正确的范围内，并且截断效果是您想要的，您可以转换为 。）

您可能还想查看这些方法：

*   [`Math.Floor`](http://msdn.microsoft.com/en-us/library/e0b5f0xb.aspx)
*   [`Math.Ceiling`](http://msdn.microsoft.com/en-us/library/zx4t0t48.aspx)
*   [`Math.Round`](http://msdn.microsoft.com/en-us/library/wyk4d9cy.aspx)（如何处理中点的变化）
*   [`Math.Truncate`](http://msdn.microsoft.com/en-us/library/c2eabd70.aspx)

* * *

## 回答 #2

> 赞同：39
> 
> 时间：2012-10-25T06:01:59.603

如果您只需要 double 的整数部分，则使用显式强制转换为 int。

```
int number = (int) a; 
```

您可以使用[Convert.ToInt32 Method (Double)](http://msdn.microsoft.com/en-us/library/ffdk7eyz.aspx)，但这会将数字四舍五入为最接近的整数。

> 值，四舍五入到最接近的 32 位有符号整数。如果 value 在两个整数的中间，则返回偶数；即4.5转换为4，5.5转换为6。

* * *

## 回答 #3

> 赞同：33
> 
> 时间：2014-08-25T00:32:36.120

Use [Decimal.Truncate](http://msdn.microsoft.com/en-us/library/system.decimal.truncate(v=vs.90).aspx)

It removes the fractional part from the decimal.

```
int i = (int)Decimal.Truncate(12.66m) 
```

* * *

## 回答 #4

> 赞同：27
> 
> 时间：2012-10-25T06:01:33.550

使用[**Math.Round**](http://msdn.microsoft.com/en-us/library/75ks3aby.aspx)

```
int d = (int) Math.Round(a, 0); 
```

* * *

## 回答 #5

> 赞同：19
> 
> 时间：2018-07-27T07:27:05.693

阅读您的所有评论，我认为您只是想以某种格式显示它，而不是更改值/将其转换为`int`.

我认为最简单的显示方式`12.00`是`"12"`使用字符串格式说明符。

```
double val = 12.00;

string displayed_value = val.ToString("N0"); // Output will be "12" 
```

这个解决方案最好的部分是，它将更改`1200.00`为`"1,200"`（添加逗号），这对于显示某物的金额/金钱/价格非常有用。

更多信息可以在这里找到： [https ://msdn.microsoft.com/en-us/library/kfsatb94(v=vs.110).aspx](https://msdn.microsoft.com/en-us/library/kfsatb94(v=vs.110).aspx)

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2016-09-06T12:42:01.387

这是一个技巧

```
a =  double.Parse(a.ToString().Split(',')[0]) 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2019-07-21T07:34:33.203

因为点后的数字仅为零，所以最好的解决方案是使用 Math.Round(MyNumber)

# python - scipy.misc 丢失

> ID：13062484
> 
> 赞同：2
> 
> 时间：2012-10-25T06:00:17.857
> 
> 标签：python, scipy

我刚刚安装了 scipy（通过`easy_install scipy`），但由于某种原因`scipy.misc`丢失了。

看看这个：

```
>>> import scipy
>>> scipy
<module 'scipy' from '/home/boda/python-2.7.1/lib/python2.7/site-packages/scipy-0.11.0-py2.7-linux-i686.egg/scipy/__init__.pyc'>
>>> scipy.misc
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
AttributeError: 'module' object has no attribute 'misc' 
```

有谁知道可能发生了什么？`scipy.misc`从字面上看，缺少0 个 Google 结果。我似乎是第一个遇到这种情况的人。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-25T06:02:09.593

scipy 中的模块不能作为基本 scipy 包的属性访问。你需要做`import scipy.misc`或`from scipy import misc`。

# python - selenium RC python，使用 find_element_by_link_text

> ID：13062488
> 
> 赞同：1
> 
> 时间：2012-10-25T06:00:52.950
> 
> 标签：python, selenium, robotframework

我有以下 HTML 元素，我试图通过 find_element_by_link_text 找到

```
<A href="/help/index.html?sys_optimization_community.html" target="_blank"><IMG src="/images/help.gif" border="0" alt="Help" hspace="3"></A> 
```

如您所见，没有链接文本。我可以使用 find_element_by_link_text 还是有任何其他我可以使用的带有 selenium python 库的 API。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:21:14.370

您不能使用 find_element_by_link_text。你有 3 个选项。

1.  如果您可以控制 html，请添加一个 id 并通过 id 获取它。
2.  获取页面中的所有链接并使用具有指定链接（href 值）的链接。
3.  最好的方法：使用 xpath。

# jquery - 为 jQuery 选项卡提供 id

> ID：13062492
> 
> 赞同：-1
> 
> 时间：2012-10-25T06:01:23.037
> 
> 标签：jquery, html, css, jquery-ui

我有类似的东西

```
<li><a href="SearchQC.do?mode=view">Add to QC List</a></li> 
```

在我看来。

jQuery 会在运行时自动创建一个 div 并为其分配 id ui-tabs-1。我该如何改变呢？

**编辑**

我不需要真正改变它。如果该 id 保持不变，则没有问题。但是在稍后阶段，如果我在此之前添加另一个选项卡，那么该 ID 将分配给另一个选项卡。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:04:54.803

您可以使用

```
$('#tabs li').each(function(){
    var new_id = '';
    switch($(this).attr('id')) {
        case 'ui-tabs-1':
            new_id = 'my_first_new_id';
        break;
        case 'ui-tabs-2':
            new_id = 'my_second_new_id';
        break;
    }

    $(this).attr('id',new_id);
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-15T22:23:48.013

猜你可能不再需要它了......我回答这个问题是为了帮助可能面临与你和我分享的相同情况的其他人。我需要同样的，并且通过一些研究我能够想出这个功能......

```
$(window).load
        (function () {

            var abasRenomear = $('a[href^="#ui-tabs-"]');
            var abaRenomear = [];
            var divAba;

            for (var i = 0; i < abasRenomear.length; i++) {
                abaRenomear = abasRenomear[i];
                divAba = document.getElementById(abaRenomear.hash.substr(1, abaRenomear.hash.length - 1));                    
                divAba.setAttribute("id", abaRenomear.innerHTML);
                abaRenomear.setAttribute("href", "#" + abaRenomear.innerHTML);
            }
        }
    ); 
```

这样你的 div 的 id 将被替换，你的 a 标签的 href 属性也将被替换。他们都会得到标签的标题（固定ID）。我是 Jquery 和 JavaScript 的新手，所以这个解决方案可能不是最好的，但似乎可以解决您的要求。

谢谢。

# java - 服务器套接字接受来自特定 ip java 的连接

> ID：13062494
> 
> 赞同：4
> 
> 时间：2012-10-25T06:01:25.313
> 
> 标签：java, sockets, serversocket

我有一个 serversocket 在我的服务器的一个端口说 7761 上运行，ip 说 10.2.110.43 现在有许多客户端在不同的服务器上运行，等待端口 7761 上的连接，并将 ascii 格式的数据写入该端口。

我希望服务器套接字验证客户端 IP 地址，然后接受来自客户端的连接。

有没有办法做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-25T06:07:11.657

我们在下面的代码中看到，我们无法*在**之前* `accept()`和之后检查对应方的地址：

 *```
Socket client = serverSocket.accept()
if( acceptedClients.contains( client.getInetAddress()) {
   ...
}
else {
   client.close();
} 
```

具有`acceptedClients`众所周知的 InetAddress 的集合。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-25T06:27:27.970

如果您不介意在 a 下运行`SecurityManager`并且 IP 地址列表是静态的，您可以通过`security.policy`文件完成此操作。只需将 SocketPermission 授予`"accept"`您想要接受连接的那些 IP 地址。但是，按照其他答案中的建议在代码或防火墙中执行此操作可能更可取。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-25T06:09:16.533

如果您不希望连接到达您的 Java `ServerSocket#accept()`，除非它来自特定 IP，您必须配置防火墙来执行此操作。

建立连接后，您始终可以验证 IP 地址，如果不是来自正确的 IP，则立即关闭它。*

# python - 从列表中选择两个元组并在 Python 中计算每个可能的对

> ID：13062513
> 
> 赞同：0
> 
> 时间：2012-10-25T06:03:03.293
> 
> 标签：python, math, python-3.x, tuples, loops

所以我有这个包含元组的列表，我还编写了一个代码来计算该列表中任何两个元组之间的欧几里得距离。我在编写计算每对可能的元组的代码时遇到问题 =SI 知道有很多类似的问题，许多人建议使用 itertools，但我对此并不熟悉，如果可能的话，我希望有一个常规的循环代码。但是如果有人可以教我，itertools 会很酷:)

基本上我的清单看起来像

```
[(1,2,3,4),(5,6,7,8)(9,10,11,12)....etc] 
```

我的距离编码工作正常。只是我遇到问题的选择部分。谢谢！

编辑：对不起，忘了提，所以我想要所有可能对的所有距离的总和。回顾一下，我在该列表中有 100 个元组，我想计算 tuple1/tuple2、tuple1/tuple3、...tuple99/tuple100 之间的距离，并将所有这些相加并将其放入一个列表中。

希望这很清楚！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T06:53:08.413

这是一个使用的简化示例[`itertools`](http://docs.python.org/library/itertools.html?highlight=combina#itertools.combinations)：

```
from itertools import combinations

t = [(1,2), (3,4), (5,6)]

for i in combinations(t, 2):
    print i 
```

输出：

```
(1, 2) (3, 4) # 1st with 2nd
(1, 2) (5, 6) # 1st with 3rd
(3, 4) (5, 6) # 2nd with 3rd 
```

然后对那些执行任何你想要的计算......

# oauth - 使用 oauth api 获取 aol 联系人

> ID：13062516
> 
> 赞同：3
> 
> 时间：2012-10-25T06:03:20.003
> 
> 标签：oauth, hotmail, aol

如果有用于 oauth 的 aol api 可用。

我想要的是使用 oauth 导入 aol 联系人。我得到了这样一个 google、yahoo 和 hotmail 的 api。

Hotmail 给我电子邮件哈希而不是电子邮件 ID。所以，我还问一个问题，如果有一些方法可以使用 oauth 获取电子邮件 ID 可用于 hotmail。

谢谢你。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-16T06:57:41.353

要从 Hotmail 导入朋友的电子邮件地址，我们需要将范围添加为“wl.contacts_emails”。

我正在发布它的完整代码

```
<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
    <title></title>
</head>

<script src="//js.live.net/v5.0/wl.js"></script>
<script  type="text/javascript">
    WL.init({ client_id: **WRITE YOUR CLIENTID HERE**,
 redirect_uri: **place ur redirect page url** });

    WL.login({ scope: "wl.contacts_emails" }).then(
    function(response) {
        getContacts();
    },
    function(response) {
        log("Could not connect, status = " + response.status);
    }
);

function getContacts() {
    WL.api({ path: "/me/contacts", method: "GET" }).then(
        onGetContacts,
        function(response) {
            log("Cannot get contacts: " + JSON.stringify(response.error).replace(/,/g, ",\n"));
        }
    );
}

function onGetContacts(response) {
    var items = response.data;
    for (var i = 0; i < 5; i++) {
        if (i > items.length) {
            break;
        }

        getContactProperties(items[i].id);
    }
 }

function getContactProperties(contactId) {
    WL.api({ path: contactId, method: "GET" }).then(onGetContactProperties);
}

function onGetContactProperties(response) {
    log(JSON.stringify(response).replace(/,/g, ",\n"));
}

function log(message) {
    var child = document.createTextNode(message);
    var parent = document.getElementById('JsOutputDiv') || document.body;
    parent.appendChild(child);
    parent.appendChild(document.createElement("br"));
}
</html> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T20:26:25.823

不，AOL 没有普遍可用的 OAuth API。我已经搜索过，但找不到 AOL 联系人的 OAuth API。自 2008 年以来，AOL 在其联系人 API 上有一个“即将推出”页面，但现在似乎已经消失了。

回答您的第二个问题：Microsoft 已经更改了有关您在联系人列表中输入的电子邮件地址的政策。它们不再属于您，因此您不再有权分享它们。您可以使用 CloudSponge从 Windows Live[导入联系人](http://www.cloudsponge.com)，包括电子邮件地址。我们目前支持委托身份验证导入，我们回退到 CSV 导入方法。

免责声明：我为 CloudSponge 工作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-12-17T07:42:58.083

您可以通过 CloudSponge 访问 AOL 的 OAuth 用户体验。

在这里自己尝试一下：http: [//www.cloudsponge.com/test-drive](http://www.cloudsponge.com/test-drive)

当您在那里时，请查看我们的 Hotmail 集成（无哈希！）

...奇迹般有效！

免责声明：我为 CloudSponge 工作。

# javascript - 如何比较日期和今天的日期？日期格式为 dd-mm-yyyy 在哪里？

> ID：13062526
> 
> 赞同：1
> 
> 时间：2012-10-25T06:04:24.643
> 
> 标签：javascript, date

如何将日期与日期格式为 dd-mm-yyyy 的今天日期进行比较

```
var sdate = document.getElementById('datepicker-example2').value;
if (Date.parse(document.getElementById("datepicker-example2").value) < Date.parse(dateToday.getDate() + "/" + dateToday.getmonth() + "/" + dateToday.getYear())) {
    alert("dsd");
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:11:06.110

使用[**Date.now()**](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Date/now)

```
var sdate = document.getElementById('datepicker-example2').value;
if (Date.parse(sdate) < Date.now()) {
    alert("dsd");
} 
```

此外，我不明白为什么在您首先存储日期选择器值时第二次检索它。最好使用存储的。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T07:30:52.080

解析您的日期：

```
 var m = date.match (/(\d\d)-(\d\d)-(\d\d\d\d)/); 
```

为该日期创建一个新的日期对象：

```
 if (m) {// check if date was matched  
     m = new Date (+m[3], +m[2] - 1, +m[1]); 
```

并与今天的日期进行比较：

```
 if ((new Date ()).getTime () < m.getTime ()) {
       ...
     }
   } else { // Bad date format

   } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-25T06:09:31.370

```
date = new Date() 
```

是今天的日期。使用 javascript 日期对象的不同方法来收集从今天开始的月、日和年以及您要比较的日期，

[http://www.comptechdoc.org/independent/web/cgi/javamanual/javadate.html](http://www.comptechdoc.org/independent/web/cgi/javamanual/javadate.html)

```
getMonth ( date ) + "-" + getDay ( date ) + "-" + getYear ( date ) 
```

这为您指明了正确的方向。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-25T06:12:50.820

不是超级准确，但这会让你在两个日期之间的天数上有时间差。反转未来日期的操作数。当然时间转换可能会更好，但你明白了：

```
var today = new Date();
var date = new Date('10/23/12')
var diff = ~~(((today.getTime() - date.getTime()) * 2.76e-7) / 24); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-25T06:16:29.417

```
var currentDate = Date.now();
if (currentDate > date2.getTime()) {
    alert("The current date is after the second date!");
} 
```

该`now()`方法返回自 1970 年 1 月 1 日 00:00:00 UTC 到现在为止经过的毫秒数。

`getTime()`返回自 1970 年 1 月 1 日午夜以来的毫秒数

[工作演示](http://jsfiddle.net/vce4U/1/)

# c# - 使用 ADO.NET 创建自定义数据库属性

> ID：13062528
> 
> 赞同：0
> 
> 时间：2012-10-25T06:04:39.547
> 
> 标签：c#, vb.net, ado.net

我们如何使用 ADO.NET 添加和列出自定义属性？

我知道我们可以使用 DAO 来实现这一点。

```
Set prp = db.CreateProperty("StartupForm", dbText, strFormName)
 db.Properties.Append prp 
```

上面的代码行使用 DAO 创建了一个属性。

ADO.NET 的等价物是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T07:06:12.267

没有一个。大多数数据库不打算通过定期更改应用程序代码中的模式来使用。通常架构是固定的，只是行/值发生变化。您可能能够执行具有相同效果的 SQL（`ALTER TABLE ... ADD`例如），但这是特定于供应商的。

# internet-explorer-8 - IE8 PIE.htc 和背景颜色一起不起作用

> ID：13062531
> 
> 赞同：1
> 
> 时间：2012-10-25T06:04:59.277
> 
> 标签：internet-explorer-8, rounded-corners, css3pie

我已经尝试过 PIE.htc 和 background-color 一起，但圆角在 IE8 中不起作用。我的CSS如下。

```
#main{

     background-color: #CD0D00 !important; 
     -webkit-border-radius: 15px 15px 15px 15px; 
     -moz-border-radius: 15px 15px 15px 15px; 
     border-radius: 15px 15px 15px 15px; 
     behavior: url(PIE.htc);
     -webkit-box-shadow: 0 7px 10px rgba(0,0,0,0.3); 
     -moz-box-shadow: 0 7px 10px rgba(0,0,0,0.3); 
     box-shadow: 0 7px 10px rgba(0,0,0,0.3);

} 
```

注意：当我从背景颜色中删除“！important”时，颜色不会出现，但圆角在 IE8 中工作，否则不会。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:37:54.860

好吧，`!important`众所周知，使用会导致 CSS3Pie 出现问题，所以这并不奇怪。

至于`background-color`没有 的单独使用`!important`，我不确定为什么它不起作用，但有一些建议：

*   尝试改用简写`background`风格 - 即`background:#CD0D00;`. 对于大多数事情，CSS3Pie 倾向于使用速记样式。

*   对于某些`background`属性，CSS3Pie 无法以标准`background`样式支持它们；它需要自定义`-pie-background`样式。理论上，这仅适用于高级背景属性，基本背景颜色不需要，但值得尝试。

我目前没有 IE 副本可供试用，但希望对您有所帮助。

# cordova - 使用预先填充的数据库 blackberry webworks/phonegap？

> ID：13062532
> 
> 赞同：2
> 
> 时间：2012-10-25T06:05:14.990
> 
> 标签：cordova, blackberry, phonegap-plugins, blackberry-webworks

我使用**Phonegap** for android 和 blackberry 创建了一个应用程序，对于 android 我使用了一个预先填充的数据库。

我想为黑莓做同样的事情。我在很多地方都看到过这个问题，但还没有找到解决方案。

请告诉我是否可以使用带有黑莓的预填充数据库。如果不可能，还建议一些替代方案。我有大量数据，如果我可以使用预先填充的数据库，那将是理想的

任何帮助将不胜感激。

谢谢

# ruby-on-rails - 如果cancan访问被拒绝，它会显示错误页面或电影到另一个页面，如何留在同一页面上？

> ID：13062534
> 
> 赞同：0
> 
> 时间：2012-10-25T06:05:17.147
> 
> 标签：ruby-on-rails, ruby-on-rails-3, cancan

我用过康康和我用过

```
rescue_from CanCan::AccessDenied do |exception|  
  flash[:error] = "Access denied!"  
  redirect_to root_url  
end 
```

在我的应用程序控制器中，但我想留在执行该操作的同一页面上，如果可能的话，一个弹出窗口只显示

`you are not authorised to perform this action`

如何自定义以便在执行未经授权的操作时保持在同一页面上？请帮我这样做。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T09:19:45.080

尝试`redirect_to :back`：

```
rescue_from CanCan::AccessDenied do |exception|  
  flash[:error] = "Access denied!"  
  redirect_to :back  
end 
```

# java - 如何遍历一棵完整的树的末端？

> ID：13062536
> 
> 赞同：0
> 
> 时间：2012-10-25T06:05:24.810
> 
> 标签：java, data-structures, binary-tree, priority-queue

完全二叉树：完全二叉树是一种二叉树，其中除了可能的最后一层外，每一层都被完全填满，并且所有节点都尽可能靠左。

如何：按顺序递归遍历这样的树？

```
 1
  2   3
4  5 
```

其中 2 和 3 是 1 和 4 的节点，而 5 是 2 的节点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T06:10:04.510

对于树遍历，基本上有 3 种算法

`Preorder`,`Inorder`和`Postorder`

```
void inorder(root_node)
{
    if(root_node != null)
    {
        inorder(root_node->left);
        println(root_node->value);
        inorder(root_node->right);
    }
} 
```

输出：4 2 5 1 3

您可以参考此[链接](http://en.wikipedia.org/wiki/Tree_traversal)了解更多详情。

编辑：

要回答你的问题（在评论部分），如果你想遍历所有节点 acc。到他们在树中的级别，你应该使用图遍历算法。在您的情况下，它将是 BFS - 广度优先搜索。

（注：树也是图的一种）

有关详细信息，请参见[此处](http://www.cse.ohio-state.edu/~gurari/course/cis680/cis680Ch14.html#QQ1-46-92)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T06:12:14.460

这个问题有点模糊，这取决于你追求什么，什么最有效等。

看看： [二叉树的树遍历算法](http://en.wikibooks.org/wiki/A-level_Computing/AQA/Problem_Solving,_Programming,_Operating_Systems,_Databases_and_Networking/Programming_Concepts/Tree_traversal_algorithms_for_a_binary_tree)

# python - 使用命名参数在 Python 中使用正则表达式替换文本

> ID：13062540
> 
> 赞同：2
> 
> 时间：2012-10-25T06:05:32.520
> 
> 标签：python, regex, django

我有字符串`"(r'^users/', include('users.urls')),"`。我希望用户能够改变它说`"(r'^users_part_has_been_changed_by_user/', include('users.urls')),"`

正则表达式是`'\s*[url]?\(r?["|\'](?P<pattern>[^\'"]+)["|\'],\s*include\(["|\'](?P<include>[^\'"]+)["|\']\)\),'`

![在此处输入图像描述](../Images/720d20239601d37d17db6b4a6bdadee8.png)

# java - 使用java web服务在linux中进行IPC（进程间通信）

> ID：13062541
> 
> 赞同：0
> 
> 时间：2012-10-25T06:05:41.060
> 
> 标签：java, linux, pipe

假设将 linux 程序的输出发送到 java web 服务。我知道如何在 php 上做到这一点，但在 java 中如何？..

在php中我使用管道..

```
proc_open() 
```

在 java 中，我可以将什么 API 用于 Web 服务？...这是我第一次使用 java 顺便说一句。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T06:15:42.670

启动进程：[ProcessBuilder](http://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html)

重定向输出流：[Process.getOutputStream](http://docs.oracle.com/javase/7/docs/api/java/lang/Process.html#getOutputStream%28%29)

ProcessBuilder 的 Oracle 文档提供了完整的代码示例。

# php - php变量可以安全地保存有害代码吗？

> ID：13062543
> 
> 赞同：0
> 
> 时间：2012-10-25T06:05:57.823
> 
> 标签：php, sql, security, code-injection

假设我有一个文本文件。它包含“有害”代码，例如：

```
<?php phpinfo(); ?> 
```

或者它可以是其他任何东西，SQL 注入代码、html 链接等......

现在这是我的示例脚本：

```
$content = file_get_contents('harmfullcode.txt'); 
```

现在显然 $content 变量将存储该有害代码。

我的问题是，将此类信息存储在变量中是否安全？

例如，我知道如果我

```
echo $content; 
```

那么它将是有害的。

但是，如果我不对变量做任何事情，那么变量保存任何类型的有害代码是否安全？

**编辑使其更清晰：**

这有什么区别？

```
$content = file_get_contents('harmfullcode.txt');
$safevar = removebadstuff($content);
echo $safevar; 
```

VS

```
$content = removebadstuff(file_get_contents('harmfullcode.txt'));
echo $content; 
```

第二个示例在将其分配给 $content 之前删除了坏东西...？？我是 php 安全的新手，试图掌握这个概念。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T06:07:54.213

如果不会被打印或评估，那么可以将它作为任何字符串变量存储在变量中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T06:09:39.417

除非有害代码针对`file_get_contents()`PHP 本身的漏洞或类似功能，否则仅将其存储在变量中应该是安全的。输出它可能是不安全的，`eval`在它上面运行肯定是个坏主意。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-25T06:10:09.647

这取决于你如何对待这个变量。

在您的示例中，`echo $content;`不会有害，它只会显示有害代码，而不执行它。

***有害的例子：***

```
eval($content);

exec($content); // any System program execution function

//preg_relace with e modifier, this is deperecated

// and so on ..... 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-25T06:53:46.137

嘿几乎是一样的。您可能希望`unset` `$content`在第一个示例中作为第二个示例仅创建局部变量作为`removebadstuff`.

请记住，[PHP 中的字符串是二进制安全的](https://stackoverflow.com/questions/3264514/in-php-what-does-it-mean-by-a-function-being-binary-safe)。

**必读：** [终极清洁/安全功能](https://stackoverflow.com/questions/4223980/the-ultimate-clean-secure-function)

# grails - Grails从控制器返回值到gsp

> ID：13062544
> 
> 赞同：2
> 
> 时间：2012-10-25T06:05:57.983
> 
> 标签：grails

我一直在寻找如何将整数值从控制器返回到 gsp。我尝试使用这个：

```
 def test(){
        def val = 1;
        return val;
    } 
```

但它不起作用。请帮忙。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-25T06:19:41.730

尝试

```
 def test(){
    def val = 1;
    [val:val]
   } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-03-14T13:06:29.873

将此代码添加到您的控制器：

```
def test(){
    def v = 10
    render view:'test.gsp', model:[v:v]
   } 
```

然后，从 test.gsp 中访问值，`"${v}"` 注意test.gsp`render view`是可选的，我写它只是为了演示目的..（即更改 gsp 文件名）。

希望能帮助到你。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-04-29T10:05:55.497

该`return`语句用于从 to 返回`services`值`controllers`。如果要从 to 传递值`controller`，请`gsp`使用：

```
[variableNameInGSP : valueToBeReturned] 
```

# python - python和gtk3剪贴板onChange

> ID：13062545
> 
> 赞同：7
> 
> 时间：2012-10-25T06:05:58.883
> 
> 标签：python, clipboard, gtk3

使用 PyGTK 2，我可以附加一个要在剪贴板内容更改时执行的函数。浏览 GTK3 的 python 绑定的文档，我找不到任何关于这种功能的描述。

谁能告诉我这方面的“最佳实践”？

**编辑**

使用 gtk2 可以进行以下操作：

```
import gtk

def test(*args):
  print "Clipboard changed"

clip = gtk.Clipboard()
clip.connect('owner-change',test) 
```

采用 Gtk3 时

```
from gi.repository import Gtk, Gdk

def test(*args):
  print "Clipboard changed"

clip = Gtk.Clipboard.get(Gdk.SELECTION_CLIPBOARD)
clip.Connect('owner-change',test) 
```

Python 接受与信号的连接，但我的函数从未执行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-24T02:03:58.357

```
from gi.repository import Gtk, Gdk

def test(*args):
    print "Clipboard changed"

clip = Gtk.Clipboard.get(Gdk.SELECTION_CLIPBOARD)
clip.connect('owner-change',test)
Gtk.main() 
```

为我工作。

# asp.net - 用 c# 创建 Html 代码的图像

> ID：13062546
> 
> 赞同：2
> 
> 时间：2012-10-25T06:05:59.850
> 
> 标签：asp.net

我创建了 html 代码，然后将此 html 页面保存为图像。`html`我创建的控件在带有所有图像和背景颜色的图像中正确显示。它在 localhost 上运行良好。

但我正在尝试创建 html 代码以在服务器上成像。图像正在创建，但未显示 bgcolor、图像等任何内容。

只显示空白图像。

代码 ：

从客户端使用 Ajax 调用函数我将 html 内容发送到服务器端

服务器端方法

```
[System.Web.Services.WebMethod()]
       public static void GenerateTemplateImage(string html_Content, string TemplateName)
        {
            var t = new Thread(MakeScreenshot);
            t.SetApartmentState(ApartmentState.STA);
            t.Start();
        }

        public static void MakeScreenshot()
        {
            Bitmap bitmap;
            string html = string.Empty;

            string Title = string.Empty;
            string Meta = string.Empty;
            string Style = string.Empty;
            string ScriptBefore = string.Empty;
            string ScriptAfter = string.Empty;
            string Scripthead = string.Empty;

            html="<div><div id='s_p_box-1' style='background-color: rgb(24, 0, 238); width: 109px; height: 75px;>Welcome </div>' <br/> <img id='template1' class='template' style='border:1px solid green; height:142px;width:116px' src='http://ace.demos.classicinformatics.com/Advertiser-Admin/Campaign/UserTemplate/template1.jpg'></div>";

            WebBrowser wb = new WebBrowser();

            wb.Navigate("about:blank");

            if (wb.Document != null)
            {
                wb.Document.Write(html);
            }

            wb.DocumentText = html;

            wb.ScrollBarsEnabled = false;
            wb.ScriptErrorsSuppressed = true;

            // Set the size of the WebBrowser control
            // Take Screenshot of the web pages full width
          //  wb.Width = wb.Document.Body.ScrollRectangle.Width;
            wb.Width = 1024;
            // Take Screenshot of the web pages full height
          //  wb.Height = wb.Document.Body.ScrollRectangle.Height;
            //wb.Height = 786;
            wb.ScrollBarsEnabled = true;

            if (wb.Height <= 0)
            {
                wb.Height = 1024;
            }
            //if (wb.Width <= 400)
            //{
            //    wb.Width = 700;
            //}

            // Get a Bitmap representation of the webpage as it's rendered in the WebBrowser control
            //Bitmap bitmap = new Bitmap(wb.Width, wb.Height);

            //using (bitmap = new Bitmap(wb.Width, wb.Height))
            using (bitmap = new Bitmap(wb.Width, wb.Height))
            {

                //wb.DrawToBitmap(bitmap, new Rectangle(0, 0, wb.Width, wb.Height));
                wb.DrawToBitmap(bitmap, new Rectangle(0, 0, wb.Width, wb.Height));
                //string imgPath = HttpContext.Current.Server.MapPath(System.Configuration.ConfigurationManager.AppSettings["ImgPath"].ToString());
                //string imgPath="C:\\Projects\\aec\\Ace-A-Metric\\Advertiser-Admin\\Campaign\\UserTemplate\\";
                string imgPath = URlPath + "test123" + ".bmp";
                //bitmap.Save(@"D:\" + txtTempName.Text + ".bmp", System.Drawing.Imaging.ImageFormat.Bmp);
                bitmap.Save(imgPath, System.Drawing.Imaging.ImageFormat.Bmp);
                //string imgpath = Path.Combine(HttpContext.Current.Server.MapPath("~") + "Advertiser-Admin\\Campaign\\UserTemplate\\" + txtTempName.Text +".bmp");
                //bitmap.Save(imgpath, System.Drawing.Imaging.ImageFormat.Bmp);
            }
            wb.Dispose();
            GC.Collect();
        } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-09T12:27:20.653

不要使用 WebBrowser 控件，由于它的 COM 遗留问题和非常糟糕的对象模型，它带有很多约束。

一种可能的解决方案是使用[Awesomium.Net](http://awesomium.codeplex.com/)

特别是，这篇文章解释了这个过程：[Capturing Web-Pages With C# (.NET)](http://labs.awesomium.com/capturing-web-pages-with-c-net/)

主要区别在于 Awesomium 及其 .Net 包装器的编写不依赖于主机（实际上来自 Chromium 源代码）。然后这个库实际上是独立的，让你考虑更多的场景。

# asp.net-mvc - 使用具有分层架构、DDD 等的 ASP.NET Membership API

> ID：13062549
> 
> 赞同：1
> 
> 时间：2012-10-25T06:06:09.793
> 
> 标签：asp.net-mvc, architecture, asp.net-membership

我正在尝试通过应用程序开发（特别是 MVC）改进我的架构方法，即遵循与接口、存储库等松散耦合的方法。

考虑到这一点，我不确定解决使用（或不使用）内置 ASP.NET Membership API 的最佳方法是什么。

当遵循分层架构时，最好是自己做会员还是使用/包装/抽象现有的 ASP.NET 会员 API？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-04-02T09:25:46.690

我认为这不是你现在应该考虑的问题。

我基于与您相同的方法（分层架构，DDD ...）开发了许多应用程序，我的建议是首先考虑您的域和业务逻辑。对于成员资格，我将使用框架为您提供的内置解决方案之一。这将是您开发的加速器（确实有很多框架）

好的一点是，您谈到分层架构时，请不要犹豫，创建必要的抽象来更改您的会员系统，以便在以后需要时随时更改您的会员系统。

# javascript - 如果javascript中的长度小于0警报

> ID：13062554
> 
> 赞同：0
> 
> 时间：2012-10-25T06:06:38.870
> 
> 标签：javascript, jquery

您好我这里有两个文本字段的脚本。

如果当前长度为 0 个字符...我想提醒您没有剩余字符！

```
<html>
  <head>
   <script type="text/javascript" src="js/jquery-1.8.2.min.js"></script>
     <title></title>
  </head>
  <body>
    <span id="limit">10</span><br/>
    <input type="text" class="text_question_1"><br>
    <input type="text" class="text_question_1">
  </body>
  <script type="text/javascript">
  $(document).ready(function(){
    //alert("test!!");
    var combined_text_length = 0;
    var limit = 10;
    $("input.text_question_1").live('keyup', function (e){
      current_length = 0;

      $.each($("input.text_question_1"), function(index, value){
        current_length += value.value.length
        $(this).attr("#limit")
      })
      $("span#limit").html(limit - current_length)
    })
  })
  </script>
</html> 
```

我试着把...

```
if (limit < 0){
  alert("EXCEEDED!");
} 
```

但不工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T06:11:22.620

`current_length += value.value.length`似乎错了。使用jQuery自己`val()`的将输入字段值检索为字符串

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T06:16:40.447

尝试

```
if (current_length > limit){
  alert("EXCEEDED!");
} 
```

由于您从不修改`limit`变量本身，因此它不能低于零。

请注意，an`alert`并不是特别用户友好。查找 jQuery 插件“lightBox”。

此外，您似乎正在尝试`<input>`在 a`<textarea>`可能更合适的地方使用 a 。

# ajax - 使用 a4j:commandLink 或 a4j:commandButton 重新渲染 h:form 在 IE9 中不起作用

> ID：13062557
> 
> 赞同：0
> 
> 时间：2012-10-25T06:06:50.733
> 
> 标签：ajax, jsf, internet-explorer-9, render

我的 h:form 包含一些内容和少量链接和按钮。在表单中使用了带有 render="@form" 的 a4j:commandLink/Button，但是当我单击此链接时，出现 XML 响应正文的 ajax 错误。此问题仅出现在 IE9 中。

它在 Firefox、chrome、IE7、IE8 中完美运行。此外，当我重新呈现表单的一部分而不是完整的表单时，它工作正常。

请问有人有这方面的线索吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T07:17:20.550

经过几个小时的调试，发现我在内部 XHTML 中包含了一些 jquery JS 文件，这些文件是动态包含的。那个内部的 XHTML 有 commandLink/commandButton 可以重新渲染表单。IE9 不喜欢这样。

我将 js 文件包含`script`标记移至 h:form 之外的外部 XHTML，从而解决了该问题。

# c# - 将图像 url 存储在 xml 中并将它们包含在 ASPX 页面 C#

> ID：13062559
> 
> 赞同：0
> 
> 时间：2012-10-25T06:06:57.187
> 
> 标签：c#, asp.net, xml

我有一个 ASPX 页面，我在其中使用了许多图像并且多次使用相同的图像。所以我想将图像存储在 xml 中，然后使用图像。我是 xml 新手。下面是xml部分。如何将图像从 xml 调用到我的 ASPX 页面？任何想法或链接都会有所帮助。

```
<?xml version="1.0" encoding="utf-8"?>
<ImagesXml>
   <Ad>
     <ImageUrl>~/Images/image1.jpg</ImageUrl>
     <AlternateText>Img1</AlternateText>
   </Ad>
   <Ad>
     <ImageUrl>~/Images/image2.png</ImageUrl>
     <AlternateText>img2</AlternateText>
   </Ad>
</ImagesXml> 
```

下面是我在 div 中使用图像 url 的 ASPX 页面。

```
<body id="bdy">
  <form id="form1" runat="server">
    <div id="invoice" runat="server" style="background: url('Images/image1.jpg');">

      <asp:TextBox ID="TextBox1" runat="server" ForeColor="Black"></asp:TextBox>

      <center>
        <asp:TextBox ID="TextBox2" runat="server"></asp:TextBox>
        <asp:Button ID="Button1" runat="server" Text="Send Mail" OnClick = "Button1_Click" />
      </center>

    </div>
  </form>
</body> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T08:59:13.277

您可以使用 Linq to XML 来迭代您的 XML 文档并在 Page_Load 事件上获取节点值并以编程方式设置 ImageUrl。

下面是示例：[LINQ to XML 的使用](http://www.dotnetcurry.com/ShowArticle.aspx?ID=564)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T09:10:34.890

现在你只需要对循环中检索到的字符串做一些事情

```
XElement xelement = XElement.Load("path to xml");
IEnumerable<XElement> images = xelement.Elements();    

foreach (var ad in images)
{
   string imagePath = ad.Element("ImageUrl").Value;
   string imageAlt = ad.Element("AlternateText").Value;
} 
```

# asp.net-mvc - Web Api 使用模型作为参数

> ID：13062561
> 
> 赞同：1
> 
> 时间：2012-10-25T06:07:00.093
> 
> 标签：asp.net-mvc, api, ios5

该项目使用 MVC4 Web Api 。当我创建一个帐户时，我应该发布一个模型作为参数。所以我不知道如何在IOS中编码。有没有演示或一些建议？

# c# - .NET SMTP 邮件 - 错误 = helo 命令被拒绝需要完全限定的主机名

> ID：13062562
> 
> 赞同：3
> 
> 时间：2012-10-25T06:07:02.183
> 
> 标签：c#, smtp, hostname, fully-qualified-naming

我正在尝试在 .NET 控制台应用程序中发送电子邮件。我有一个 IP 地址为 XXXX 的 SMTP 服务器（经过消毒以保护无辜者）。

已设置 SMTP 服务器（已配置中继）以允许来自托管 .NET 控制台应用程序的服务器的电子邮件，并将该电子邮件发送到外部世界。

我已经使用托管控制台应用程序的服务器上的 telnet 对此进行了测试。我使用 SMTP 服务器的 IP 地址从托管控制台应用程序的服务器成功发送了一封带有 telnet 控制台的电子邮件。使用 telnet 时不需要身份验证。我没有获得任何连接凭据。

但是当我尝试在 .NET 应用程序中执行此操作时，我收到以下错误：

> 语法错误，命令无法识别。服务器响应是：：Helo 命令被拒绝：需要完全限定的主机名

这是我的代码：

```
string mailMessagetest = "test";
        string subjecttest = "test";
        List<string> recipienttest = new List<string>();
        recipienttest.Add("me@mydomain.com");

        utility.SendMail(recipienttest, subjecttest, mailMessagetest); 
```

这是函数发送邮件：

```
 public static void SendMail(List<string> recipient, string subject, string message)
    {
        MailMessage mailMessage = new MailMessage();
        mailMessage.From = new MailAddress("myfriend@mydomain.com");

        foreach (string to in recipient)
        {
            mailMessage.To.Add(to);
        }

        mailMessage.Subject = subject;
        mailMessage.Body = message;

        SmtpClient client = new SmtpClient();
        client.Host = "X.X.X.X";
        client.Port = 25;
        client.Send(mailMessage);
    } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-25T07:00:06.953

将主机名从 IP 地址更改为其名称，例如“smtp.provider.com”或内部“mailserver.domain”。

**更新：**

尝试阅读此[system.net.mail.smtpclient fqdn required](http://social.msdn.microsoft.com/forums/en-US/netfxnetcom/thread/77f45c5f-76be-400c-a529-a1e49d6d8e62/)，[当您发送 HELO 或 EHLO 时不会发送 FQDN](http://support.microsoft.com/kb/957497/en-us)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T06:59:38.373

在您的 SMTP 服务器上创建一个带密码的用户，然后应用以下设置：

```
 smtp.UseDefaultCredentials = false;
        smtp.Credentials = new NetworkCredential("user", "pass");
        smtp.DeliveryMethod = SmtpDeliveryMethod.Network;
        smtp.Port = 25;
        smtp.EnableSsl = true; // or false depending your server 
```

# firefox - 弹出窗口未在 Firefox 中关闭

> ID：13062563
> 
> 赞同：1
> 
> 时间：2012-10-25T06:07:09.843
> 
> 标签：firefox

嗨，我有一个 jquery 函数，当用户单击 div 中的关闭按钮或按 Enter 键时，该函数会关闭。它在铬中工作正常。但是在 Firefox 中，如果我单击 html 页面上的任意位置，然后点击进入其关闭。请尽快恢复解决方案。提前致谢。

# python - collections.defaultdict() 上的 min() 返回最大计数

> ID：13062566
> 
> 赞同：2
> 
> 时间：2012-10-25T06:07:11.390
> 
> 标签：python, python-2.7, defaultdict

在 defaultdict 对象上使用`min()`时，如果在 dict 计数字符串的索引上使用，它会奇怪地返回最大值。

例如：

```
>>> import collections
>>> defaultdict=collections.defaultdict
>>> x=defaultdict(int)
>>> string="lol I am a lol noob"
>>> for k in string:
    x[k]+=1

>>> x
defaultdict(<type 'int'>, {'a': 2, ' ': 5, 'b': 1, 'I': 1, 'm': 1, 'l': 4, 'o': 4, 'n': 1})
>>> min(x.items())
(' ', 5) 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-25T06:09:39.880

`items()`将项目作为`(key, value)`元组返回。这意味着当它们按 min （或任何其他）进行比较时，它们*首先*按键进行比较，然后按值进行比较。由于`' '`是“最小”字符串（即 ,`' ' < 'a'`等`' ' < 'b'`），这就是返回的内容。

您需要告诉 min 使用元组的第二项作为比较键。做`min(x.items(), key=lambda a: a[1])`。

# javascript - 如何使用window.print（）在javascript中传递页面的打印范围？

> ID：13062569
> 
> 赞同：3
> 
> 时间：2012-10-25T06:07:23.273
> 
> 标签：javascript, html

我正在开发一个 HTML 和 javascript 项目。我想使用 javascript 打印我的文档。我是`window.print()`用来打印的。但是我怎样才能通过打印范围呢？例如：如果一个文档包含 20 页，我只想打印 5-10 页。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T06:10:17.803

您无法使用 设置范围`window.print()`，使用`window.print()`调用您的打印首选项窗口，该窗口是本机打印窗口，您可以在其中手动设置页面范围。

也许您可以使用打印特定样式表或媒体查询为您不想打印的内容动态设置一个类。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-10-18T04:36:18.373

`window.print()`不接受任何参数，
*但*您可以[**`window.onbeforeprint`**](https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onbeforeprint)针对您的案例使用：事件。

只需切换`display: none`页面中您不希望打印的部分。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-25T06:11:56.650

你不能那样做。所能做[`window.print()`](https://developer.mozilla.org/en-US/docs/DOM/window.print)的就是打开操作系统的默认打印对话框。

但也许你可以做一些事情，比如隐藏那些不应该打印的网站部分。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-25T06:20:20.710

您可以选择安装一个 ActiveX 控件（如果这是用于内部应用程序），它将通过 javascript 向您公开这些值。我过去曾为此使用[过 MeadCo ScriptX](http://scriptx.meadroid.com/home.aspx)，而且效果非常好。

# php - 未捕获的类型错误：无法使用 $.each 读取 null 的属性“长度”

> ID：13062574
> 
> 赞同：0
> 
> 时间：2012-10-25T06:07:59.040
> 
> 标签：php, jquery, ajax

我使用 $.each 通过 ajax 从 php 获取数据，但是当我使用它时，我的浏览器说这个错误 Uncaught TypeError: Cannot read property 'length' of null，找不到任何答案。

```
 $('#search-button-applicant').click(function (){
             date_to = Date.parse($('#search-to-date').val());
            date_from = Date.parse($('#search-from-date').val());

            applicant_name = $('#search-applicant-name').val();

             if($('#search-to-date').val() == "" && $('#search-from-date').val() == "" && applicant_name == ""  )
            {
                 alert("you can not search");

            }

             else if($('#search-to-date').val() != "" && $('#search-from-date').val() == "" ||  $('#search-to-date').val() == "" && $('#search-from-date').val() != ""){

                 alert("you can not search");
            }

            else{
                   var date_to_val = $('#search-to-date').val();
                   var date_from_val = $('#search-to-date').val();
                   var loan_type_val = $('#loan-type').val();
                   var search_word_val = $('#search-applicant-name').val();

                 $.ajax({
                     type: "post",
                     url: "filter_search_window_get.php",
                     dataType:'json',
                     data: {'func_num':loan_type_val,'Date_To':date_to_val,'Date_From':date_from_val,'search_word':search_word_val},
                     success: function(data){

                            $.each(data, function(i, item) {
                               $('#search-table-content-list').append("<tr><td style='width:7.5%;'><label>Date Filled</label></td><td style='width:9.5%;'><label>Date Released</label></td><td style='width:8%;'><label>"+data[i].last_name+"</label></td><td style='width:25%;'><label>Name</label></td><td style='width:7.5%;'><label>Term</label></td><td style='width:7.5%;'><label>Rate</label></td><td style='width:7.5%;'><label>Principal</label></td><td style='width:7.5%;'><label>Interest</label></td><td style='width:7.5%;'><label>Total</label></td></tr>");
                              });   

                            }
                     });
            }
        }); 
```

php:

```
$date_from = $_POST['date_from_val'];
$date_to = $_POST['date_to_val'];
$search_word = $_POST['search_word_val'];
$loan_type =$_POST['loan_type_val'];

switch ($loan_type){

case '1':

    tuition_get();

break;

case '2':
    salary_get();

break;

case '3':
    sss_get();

break;

case '4':
    ofw_get();

break;

case '5':
    business_get();

break;
}

function tuition_get(){
$date_from = $_POST['date_from_val'];
$date_to = $_POST['date_to_val'];
$search_word = $_POST['search_word_val'];

$query = "SELECT 
                                    a.applicant_id,
                                    a.last_name,
                                    a.first_name,
                                    a.created_date,
                                    b.form_type,
                                    b.form_id,
                                    c.stat,
                                    d.release_date,
                                    f.payment_term,
                                    j.form_rate,
                                    k.loan_amt,
                                   k.interest_amt,
                                    k.total_amt
                        FROM 
                                    applicant a
                        LEFT JOIN form_type b ON (a.form_id = b.form_id)
                        LEFT JOIN form_status c ON (c.status_id  = a.status_id)
                        LEFT JOIN applicant_loan_repayment d ON (d.applicant_id  =  a.applicant_id)
                        LEFT JOIN applicant_tuition_loan_dtl f ON (f.applicant_id  = a.applicant_id)    
                        LEFT JOIN form_term j ON (j.form_id  = a.form_id)
                        LEFT JOIN applicant_loan_repayment k ON (k.applicant_id  = a.applicant_id)

                        WHERE a.last_name LIKE '%$search_word%' OR a.first_name LIKE '%$search_word%' ";

             $result=mysql_query($$query)or die(mysql_error());

             $data=array();
                while ($row = mysql_fetch_array($result))
                {
                $data[] = array(
                    'last_name'=>$row['last_name'],
                   'first_name'=>$row['first_name'],
                   'form_typ'=>$row['form_type']
                );
            }

        echo json_encode($data);

}

 function salary_get(){
    $date_from = $_POST['date_from_val'];
    $date_to = $_POST['date_to_val'];
    $search_word = $_POST['search_word_val'];

}

function sss_get(){
    $date_from = $_POST['date_from_val'];
    $date_to = $_POST['date_to_val'];
    $search_word = $_POST['search_word_val'];

}

function ofw_get(){
    $date_from = $_POST['date_from_val'];
    $date_to = $_POST['date_to_val'];
    $search_word = $_POST['search_word_val'];

}

function business_get(){
    $date_from = $_POST['date_from_val'];
    $date_to = $_POST['date_to_val'];
    $search_word = $_POST['search_word_val'];

} 
```

我使用 $.each 从查询中获取所有获取数据并使用 ajax 将其发布到表中，但我的 $.each 无法正常工作，我不知道我的代码有什么问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:12:10.900

看起来您正在发布一个`func_num`通过 ajax 命名的参数，但试图在 php 中将其读取为`loan_type_val`.

此外，您传递的*所有*数据的名称似乎与您尝试在服务器端读取的数据不同。

如果您尝试通过邮寄方式发送：

```
'func_num':loan_type_val,
'Date_To':date_to_val,
'Date_From':date_from_val,
'search_word':search_word_val 
```

您的 PHP 服务器端必须是：

```
$loan_type = $_POST['func_num'];
$date_to = $_POST['Date_To'];
$date_from = $_POST['Date_From'];
$search_word = $_POST['search_word']; 
```

# android - 九个补丁图像可以缩小吗？

> ID：13062578
> 
> 赞同：3
> 
> 时间：2012-10-25T06:08:26.047
> 
> 标签：android, android-layout, nine-patch

我有一个九个补丁图像作为背景。它是 802 像素 x 286 像素（两个 2 像素由 9patchtools 自动添加）。

main.xml 看起来像：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout
xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/crown"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:background="@drawable/crown">
<ListView
    android:id = "@+id/mainmenulist"
    style="@style/MainMenuList"
    android:dividerHeight="2.5dp"/>
</RelativeLayout> 
```

styles.xml 看起来像：

```
<resources
xmlns:android="http://schemas.android.com/apk/res/android">
<style name="MainMenuList">
    <item name="android:layout_width">fill_parent</item>
    <item name="android:layout_height">fill_parent</item>
    <item name="android:cacheColorHint">@android:color/transparent</item>
    <item name="android:listSelector">@android:color/transparent</item>
    <item name="android:divider">@null</item>
    <item name="android:gravity">right</item>
</style>
<style name="MainMenuRow">
    <item name="android:layout_width">fill_parent</item>
    <item name="android:layout_height">wrap_content</item>
    <item name="android:textColor">#000000</item>
    <item name="android:gravity">right|center</item>
    <item name="android:padding">0dp</item>
</style>
</resources> 
```

values文件夹中的themes.xml：

```
<resources
xmlns:android="http://schemas.android.com/apk/res/android">
<style name="AppTheme" parent="android:Theme.Light.NoTitleBar.Fullscreen">
    <item name="android:windowNoTitle">true</item>
    <item name="android:windowBackground">@color/mycustomblue</item>
</style>
</resources> 
```

manifest.xml 的 mpart：

```
<application android:label="@string/app_name"
    android:icon="@drawable/ic_launcher"
    android:theme="@style/AppTheme"> 
```

这是行图像：

它的背景（皇冠）图像：

输出应该是这样的：

但它看起来像这样：

我的问题是：

1.  我的背景图像是 802x286。我的设备是带有 android 4.0.4 和 720x1280(WxH) 的 Galaxy S3。图像可以缩小以适应宽度吗？（换句话说，如果我将 9patch 图像 100x100 用于 200x200 的设备，我们知道它是好的并按比例放大。但这里的问题是，如果用于 50x50 的设备，会发生什么？）

2.  为什么我的应用程序不是全屏的？

3.  为什么示例文本没有居中和右对齐？

4.  为什么行图像放大不当？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T06:35:30.993

1.  我认为当你不告诉部分水平缩放时，九个九点图像不会缩小或拉伸。图像只能从这 2pxes 缩放，所以最小宽度是 798px，你可能需要一个更小的图像。

2.  android:windowNoTitle 控制标题栏是否显示，而不是状态栏。标题栏是您活动的一部分，但状态栏是系统的一部分。你可能需要什么 android:windowFullscreen

    ```
    <!-- Variant of {@link #Theme} with no title bar -->
    <style name="Theme.NoTitleBar">
        <item name="android:windowNoTitle">true</item>
    </style>

    <!-- Variant of {@link #Theme} that has no title bar and no status bar -->
    <style name="Theme.NoTitleBar.Fullscreen">
        <item name="android:windowFullscreen">true</item>
        <item name="android:windowContentOverlay">@null</item>
    </style> 
    ```

3.  Right 和 center 冲突，你可以使用 right|center_vertical。您是否使用单个 TextView 作为列表项，您可以为您提供列表项布局吗

4.  这可能是由主题中的 android:listPreferredItemHeight 属性引起的。使用显式 layout_height 可能会解决此问题。

# php - 将值从循环语句传递到数组并且它具有重复值

> ID：13062583
> 
> 赞同：1
> 
> 时间：2012-10-25T06:08:55.760
> 
> 标签：php, arrays, multidimensional-array

通过foreach循环将值传递给数组，然后在第一个数组结果中是可以的，但是在第二个，第三个等等中它重复数组之前的值，就像在数组第二个中一样，它首先重复数组的值，在第三个数组中它重复第二个的数组值。我怎样才能解决这个问题？

这是我将值传递给数组的方法：

```
 <?php

//
$item_holder = array();
$item_feature_holder = array();
$item_shipping_holder = array();
$item_imagesets_holder = array();

    //Get items from amazon
    foreach($response->Items->Item as $item){
        //Display item features
        if(isset($item->ItemAttributes->Feature)){
            if(is_array($item->ItemAttributes->Feature)){
                foreach($item->ItemAttributes->Feature as $itemFeature){
                    echo '<p>'.$itemFeature.'</p>';
                    $item_feature_holder[] = $itemFeature;
                }
            }
            else{
                echo '<p>'.$item->ItemAttributes->Feature.'</p>';
            }
        }

        //Display more images
        foreach($item->ImageSets->ImageSet as $moreImage){
            if(isset($moreImage->ThumbnailImage)){
                $item_imagesets_holder[] = $moreImage->SmallImage->URL;
            }
        }

        $item_shipping_holder = array(
        'standard'=>$standard_shipping, 
        'expedited'=>$expedited_shipping, 
        'twoday'=>$twoday_shipping, 
        'oneday'=>$oneday_shipping);

        $item_holder[] = array(
        'default_image'=>$item_image_medium, 
        'category'=>$item->ItemAttributes->ProductGroup, 
        'title'=>$item->ItemAttributes->Title, 
        'asin'=>$item->ASIN, 
        'weight'=>$rounded_weight, 
        'description'=>$product_description, 
        'features'=>$item_feature_holder, 
        'shipping'=>$item_shipping_holder, 
        'image'=>$item_imagesets_holder);

    } 
```

在我的转储中，第一个数组没问题，但在我的第二个数组中，在特征和图像部分它重复了第一个数组的数据。

这是我的数组的 var_dump：

```
 array (size=9)
  'default_image' => string 'http://ecx.images-amazon.com/images/I/21pp4CsKwdL._SL160_.jpg' (length=61)
  'category' => string 'Personal Computer' (length=17)
  'title' => string 'MSI Computer Corp. Notebook Computer GE60 0NC-006US;9S7-16GA11-006 15.6-Inch Laptop' (length=83)
  'asin' => string 'B007YDHLYE' (length=10)
  'weight' => float 10.4
  'description' => string 'MSI GE60 0NC-006US 15.6 inch Core i7-3610QM 2.3GHz/6GB DDR3/750GB HDD/DVD Super Multi/USB3.0/W7HP Notebook Computer (Black/Red)' (length=127)
  'features' => 
    array (size=5)
      0 => string '3rd Generation Intel® Core™ i7 3610QM @2.3GHz. Intel® HM76 Chipset.' (length=71)
      1 => string '6GB (1x4GB + 1x2GB) SO-DIMM RAM, Max. 16GB. 750GB 7200rpm Hard Drive (With m-SATA port)' (length=87)
      2 => string '15.6" Full HD (1920x1080) LED backlight, Anti-glare screen. NVIDIA GeForce GTX650M 2GB GDDR5 with Optimus technology. 4(2Wx4)HD Speakers, THX True Studio Pro.' (length=158)
      3 => string 'Keyboard by SteelSeries, 103 keys. HD Webcam (30fps@720p). Wireless LAN 802.11 b/g/n. Bluetooth 4.0' (length=99)
      4 => string 'Windows 7 Home Premium 64-bit' (length=29)
  'shipping' => 
    array (size=4)
      'standard' => string '$9.69' (length=5)
      'expedited' => string '$16.79' (length=6)
      'twoday' => string 'N/A' (length=3)
      'oneday' => string 'N/A' (length=3)
  'image' => 
    array (size=5)
      0 => string 'http://ecx.images-amazon.com/images/I/21pp4CsKwdL._SL75_.jpg' (length=60)
      1 => string 'http://ecx.images-amazon.com/images/I/21OHSB3BiyL._SL75_.jpg' (length=60)
      2 => string 'http://ecx.images-amazon.com/images/I/211kjZnCiFL._SL75_.jpg' (length=60)
      3 => string 'http://ecx.images-amazon.com/images/I/21TKV3LXBmL._SL75_.jpg' (length=60)
      4 => string 'http://ecx.images-amazon.com/images/I/11WG9GF3nPL._SL75_.jpg' (length=60)

array (size=9)
  'default_image' => string 'http://ecx.images-amazon.com/images/I/215zEm1MX8L._SL160_.jpg' (length=61)
  'category' => string 'Personal Computer' (length=17)
  'title' => string 'MSI Computer Corp. Notebook Computer GE70 0ND-033US;9S7-175611-033 17.3-Inch Laptop' (length=83)
  'asin' => string 'B0082JFD1W' (length=10)
  'weight' => float 11.95
  'description' => string 'MSI GE70 0ND-033US 17.3 inch Core i7-3610QM 2.3GHz/8GB DDR3/750GB HDD/USB 3.0/DVD+/-RW/W7HP Notebook Computer (Black)' (length=117)
  'features' => 
    array (size=10)
      0 => string '3rd Generation Intel® Core™ i7 3610QM @2.3GHz. Intel® HM76 Chipset.' (length=71)
      1 => string '6GB (1x4GB + 1x2GB) SO-DIMM RAM, Max. 16GB. 750GB 7200rpm Hard Drive (With m-SATA port)' (length=87)
      2 => string '15.6" Full HD (1920x1080) LED backlight, Anti-glare screen. NVIDIA GeForce GTX650M 2GB GDDR5 with Optimus technology. 4(2Wx4)HD Speakers, THX True Studio Pro.' (length=158)
      3 => string 'Keyboard by SteelSeries, 103 keys. HD Webcam (30fps@720p). Wireless LAN 802.11 b/g/n. Bluetooth 4.0' (length=99)
      4 => string 'Windows 7 Home Premium 64-bit' (length=29)
      5 => string 'Intel Core_i7_3610QM Processor 2.3GHz' (length=37)
      6 => string '8  GB SO-DIMM RAM' (length=17)
      7 => string '750GB 7200rpm  Hard Drive' (length=25)
      8 => string '17.3-Inch Screen, NVIDIA GeForce GTX660M' (length=40)
      9 => string 'Windows 7 Home Premium 64-bit' (length=29)
  'shipping' => 
    array (size=4)
      'standard' => string '$10.49' (length=6)
      'expedited' => string '$18.37' (length=6)
      'twoday' => string 'N/A' (length=3)
      'oneday' => string 'N/A' (length=3)
  'image' => 
    array (size=10)
      0 => string 'http://ecx.images-amazon.com/images/I/21pp4CsKwdL._SL75_.jpg' (length=60)
      1 => string 'http://ecx.images-amazon.com/images/I/21OHSB3BiyL._SL75_.jpg' (length=60)
      2 => string 'http://ecx.images-amazon.com/images/I/211kjZnCiFL._SL75_.jpg' (length=60)
      3 => string 'http://ecx.images-amazon.com/images/I/21TKV3LXBmL._SL75_.jpg' (length=60)
      4 => string 'http://ecx.images-amazon.com/images/I/11WG9GF3nPL._SL75_.jpg' (length=60)
      5 => string 'http://ecx.images-amazon.com/images/I/215zEm1MX8L._SL75_.jpg' (length=60)
      6 => string 'http://ecx.images-amazon.com/images/I/21dAgtNONpL._SL75_.jpg' (length=60)
      7 => string 'http://ecx.images-amazon.com/images/I/21Buy-UDJoL._SL75_.jpg' (length=60)
      8 => string 'http://ecx.images-amazon.com/images/I/11LWf2AYqeL._SL75_.jpg' (length=60)
      9 => string 'http://ecx.images-amazon.com/images/I/11KuBpuL6NL._SL75_.jpg' (length=60) 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T06:13:26.273

尝试在 for 循环的每次迭代期间重置持有者数组

```
foreach($response->Items->Item as $item){
  $item_feature_holder   = array();
  $item_imagesets_holder = array();
  // rest of your code 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T07:10:41.540

你的代码是一团糟。你应该重写它。

```
$item_holder = [];
$item_shipping_holder = [];

function getItemFeatures($itemAttributes)
{
    if (!isset($itemAttributes->Feature))
        return [];

    return (array) $itemAttributes->Features;
}

function getItemImages($imageSets)
{
    $result = [];
    foreach($imageSets->ImageSet as $moreImage)
    {
        if(isset($moreImage->ThumbnailImage))
        {
            $result[] = $moreImage->SmallImage->URL;
        }
    }

    return $result;
}

   //Get items from amazon
foreach($response->Items->Item as $item)
{
    $features = getItemFeatures($response->itemAttributes);
    // Display item features.
    foreach ($features as $feature)
    {
        echo "<p>{$feature}</p>";
    }

    $item_shipping_holder = [
    'standard' => $standard_shipping, 
    'expedited' => $expedited_shipping, 
    'twoday' => $twoday_shipping, 
    'oneday' => $oneday_shipping
    ];

    $item_holder[] = [
    'default_image' => $item_image_medium, 
    'category' => $item->ItemAttributes->ProductGroup, 
    'title' => $item->ItemAttributes->Title, 
    'asin' => $item->ASIN, 
    'weight' => $rounded_weight, 
    'description' => $product_description, 
    'features' => $features, 
    'shipping' => $item_shipping_holder, 
    'image' => getItemImages($item->ImageSets)
    ];
} 
```

# json - 节点js和json.s

> ID：13062586
> 
> 赞同：1
> 
> 时间：2012-10-25T06:09:10.990
> 
> 标签：json, node.js

我正在寻找如何使用 node.js 来解码 json。

我的应用程序非常简单。我会收到一个 Request: PUT with json。如果存在发送成功（200）响应，我需要检查 json 正文中的某个值。

如何在节点中执行有效的 json。

,

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T06:12:59.463

```
var code = 'something you need to check';
try {
    var decoded = JSON.parse(code);
    // valid json
} catch(e) {
    // invalid json
} 
```

# javascript - FB Like 按钮点击后调用函数

> ID：13062588
> 
> 赞同：1
> 
> 时间：2012-10-25T06:09:11.853
> 
> 标签：javascript, jquery, facebook-like

我有一个 facebook 应用程序，上面有两个喜欢的按钮。继续另一页的条件是两个都喜欢。我想要做的是在任何这些按钮上单击操作后调用一个函数。（该功能可以例如重新加载页面）。任何帮助，将不胜感激。

//编辑

到目前为止，我一直在尝试使用 jQuery，但没有运气

HTML：

```
<div class="fb-like" data-href="https://www.facebook.com/[some_id]" data-send="false" data-width="450" data-show-faces="false">  
<div class="fb-like" data-href="https://www.facebook.com/[some_id]" data-send="false" data-width="450" data-show-faces="false"> 
```

jQuery：

```
$(".fb-like").click(function() {
      alert('click');
}); 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-25T06:29:35.347

这是您的操作方法：

LIKE按钮的FB代码

```
<div class="social_net_button facebook_button">
      <div id="fb-root"></div>
      <script>(function(d, s, id) {
              var js, fjs = d.getElementsByTagName(s)[0];
              if (d.getElementById(id)) {return;}
              js = d.createElement(s); js.id = id;
              js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
              fjs.parentNode.insertBefore(js, fjs);
            }(document, 'script', 'facebook-jssdk'));</script>
      <div class="fb-like" data-href=http://www.facebook.com/thebeatles data-send="false" data-layout="button_count" data-width="70" data-show-faces="false" data-action="recommend"></div>
    </div> 
```

和用于捕获事件的 JavaScript 代码

```
FB.Event.subscribe('edge.create', function(response) {
 alert('I CLICKED IT');
}); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-12-12T11:53:00.207

你的代码应该是这样的，不要在里面调用 FB.Init`window.fbAsyncInit`因为它已经被调用了。

```
<div class="fb-like" data-href="https://www.facebook.com/YOUR_PAGE_NAME" data-layout="button_count" data-action="like" data-show-faces="false" data-share="false"></div>
<div id="fb-root"></div>
<script>
window.fbAsyncInit = function() {
    FB.Event.subscribe('edge.create', function(response) {
        alert('I just clicked like button');
    });
    // Code to detect clicking unlike
    FB.Event.subscribe('edge.remove', function(href) {
        alert('Unlike');
    });
};

(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if(d.getElementById(id)){return;}
    js = d.createElement(s);
    js.id = id;
    js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=YOUR_APP_ID";
    fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script> 
```

# android - GPS定位速度补偿

> ID：13062591
> 
> 赞同：1
> 
> 时间：2012-10-25T06:09:36.193
> 
> 标签：android, gps

我在 Android 上使用 GPS，需要对位置进行速度补偿，以消除由于位置计算滞后而导致的错误。我感兴趣的速度在 5 到 10 英里/小时的范围内，因为这是一艘帆船。

这是我的代码：

```
 public double[] correctLocation(double pLat,double pLong,double pAngle,double pSpeed, double factor){
        double[] latLong = new double[2];
        latLong[0] = pLat + factor * pSpeed * Math.cos(pAngle * Math.PI / 180);
        latLong[1] = pLong + factor * pSpeed * Math.sin(pAngle * Math.PI / 180) / Math.cos(pLat * Math.PI / 180);
        return latLong;
    } 
```

我在汽车上以 25 英里/小时的速度进行了一次测试，计算出该系数应该是 3E-6，但在以跑步和步行速度进行尝试时，很明显需要一个更像 6E-6 的系数。尽管我知道人们会在谷歌自动驾驶汽车中这样做，但我无法通过谷歌找到任何对此的参考。我假设其他人会进行此类更正。

有谁可以帮我离开这里吗？GPS是带有MTK芯片组的Qstarz A1000XT。这种简单的方法可能会丢失一些东西。（我假设我不需要加速，因为这是一艘重型船，加速时间常数为 1 分钟）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-12T18:26:29.800

6E-6 是正确的。我有几个错误并且对此感到困惑一段时间。我最终以 25MPH 的速度从两个方向在一个地点行驶并对该地点进行 ping 测试。我在 GPS 读数之间进行了插值，因此时间和更新率不是一个因素。我这样做了 10 次。这给了我两个点集群，并使用图形方法调整了校正因子，直到集群重叠。另一种方法是使用最后两个读数之间的纬度和经度差（相隔 1 秒），并以秒为单位应用校正因子。就我而言，那是 1.25 秒。两种方法在聚类方面产生了相同的结果。速度校正在散射中稍微接近一点，但相差不大。

# javascript - jQuery - 如果 DIV 类等于 X，则隐藏所有其他具有不同类的 DIV

> ID：13062611
> 
> 赞同：1
> 
> 时间：2012-10-25T06:11:14.440
> 
> 标签：javascript, jquery, css, html

我是 jQuery 新手，对 JS 还很陌生（有点知识），我想创建一个 jQuery 代码。

首先，这是我的 HTML 代码：

```
<div id="user-controls">
    <div class="choice" id="choice-all" onclick="showAll();">All</div>
    <div class="choice" id="choice-asus" onclick="justASUS();">ASUS</div>
    <div class="choice" id="choice-htc" onclick="justHTC();">HTC</div>
</div>

<div id="devices">
    <div class="android asus">Nexus 7</div>
    <div class="android htc">One S</div>
    <div class="android htc">One X+</div>
    <div class="android asus">Transformer Prime</div>
    <div class="winph htc">Windows Phone 8X</div>
</div> 
```

我想要一个可以执行以下操作的 jQuery 代码：

1.  如果我单击#choice-asus DIV，则所有具有 .htc 类的 DIV 都将设置为 display="none"

2.  如果我单击#choice-htc DIV，则所有具有 .asus 类的 DIV 都将设置为 display="none"

3.  如果我单击#choice-all DIV，则所有 DIV 都将设置为 display="inline-block"（这也是页面首次加载时的默认设置）

我已经尝试过以下代码，但它没有做任何事情。

```
$(document).ready(function(){
    $("#choice-htc").click(function(){
        $(".htc").hide();
    })
}); 
```

谢谢你的帮助，迪伦。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T06:40:28.913

这么多选择:) [http://jsfiddle.net/9RtUE/](http://jsfiddle.net/9RtUE/)

```
 $(function(){
        $("#user-controls").on('click','div',function(){
           var classToShow = this.id.split('-')[1],
               filter = classToShow === "all" ? 'div': '.' + classToShow;
           $("#devices").children().show().not(filter).hide();
         }); 
     }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T06:21:20.963

[演示在这里](http://jsfiddle.net/anupamsm/93GEj/)

```
$(document).ready(function(){   
    $(".choice").click(function(){
         $(".android,.winph").hide();
        if($(this).attr("id")=="choice-all"){
            $(".android,.winph").show();
        }else if($(this).attr("id")=="choice-asus"){
            $(".asus").show();
        }else if($(this).attr("id")=="choice-htc"){
            $(".htc").show();
        }
    });
}); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-25T06:25:20.000

为了保持简单和清洁，您应该使用这样的解决方案

```
$(function(){
    $('#choice-asus').on('click', function(){
        $('#devices > div:not(.asus)').hide();
    });
}); 
```

它基本上说，如果你点击**#choice-asus**，隐藏**#devices**中没有华硕类的所有 div。

您可以根据自己的需要扩展/修改它。此外，它建议使用 jquerys .on() 方法而不是单击/绑定或您应用的任何处理程序。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-25T06:28:19.627

```
$(document).ready(function(){
    if($('div').attr('class')=='X')
    {
         $('div').not($(this)).css('display','none');
    }
}); 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-25T06:15:58.127

尝试使用 jquery

[演示](http://jsfiddle.net/pintu31/VHenR/1/)

```
$('#choice-all').click(function(){
  $('.htc, .asus').show();
});

$('#choice-asus').click(function(){
  $('.asus').show();
  $('.htc').hide();
});

$('#choice-htc').click(function(){
  $('.htc').show();
  $('.asus').hide();
}); 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-10-25T07:00:34.660

您可以尝试以下代码 -

```
function showAll(){
    $("#devices div").show();
}
function justASUS(){
    $("#devices div").hide();
    $("#devices .asus").show();
}
function justHTC(){
    $("#devices div").hide();
    $("#devices .htc").show();    
} 
```

演示[在这里](http://jsfiddle.net/LyDDv/5/)。

# c# - 用于序列化 C++ 和反序列化为 C# 类的协议缓冲区

> ID：13062615
> 
> 赞同：2
> 
> 时间：2012-10-25T06:11:23.690
> 
> 标签：c#, c++, protocol-buffers, binary-serialization

是否可以在 C++ 中序列化一个类并使用协议缓冲区将其反序列化为 C# 中的类似类？我已经尝试过 Json 序列化来克服不同平台中的序列化问题，但它在某些数据类型（如数组列表等）上存在问题。那么关于使用谷歌的协议缓冲区有什么建议吗？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-25T06:14:22.217

协议缓冲区将允许您描述数据结构，并将其序列化/反序列化为 C++、Java、C# 和其他平台中的对象。您不会（通常，无论如何）序列化您自己的类的实例 - 您序列化*生成*的类的实例。（我知道 protobuf-net 允许您使用描述如何将它们序列化到协议缓冲区的属性来装饰自己的类，而不必使用生成的类。我不知道这是否已经在 C++ 中完成。）

目前尚不清楚这是否真的满足您的要求，但 protobufs 肯定允许跨平台数据交换。它在可以序列化哪些数据方面确实存在限制——它们都是相当原始的，并且您可以从原始结构构建更复杂的结构。如果您已经在代码中获得了数据模型，然后必须在协议缓冲区中重新实现它，那可能会令人沮丧，但它确实有效......

# javascript - “Uncaught TypeError: undefined is not a function”使用 noobslider 和 mootools 的 JavaScript 错误

> ID：13062617
> 
> 赞同：2
> 
> 时间：2012-10-25T06:11:41.767
> 
> 标签：javascript, html, mootools

我是 Javascript 新手，一直在尝试使用一个名为 noobSlide (mootools) 的滑块，但是在一次成功之后，在我第二次尝试时发现它坏了。

参考这行代码，我收到的错误为“Uncaught TypeError: undefined is not a function”：

```
var thumbsFx = new Fx.Style(thumbs_mask7,'left',fxOptions7); 
```

我已经在我的页面头部包含了 Mootools 和 Slider 脚本的所有必要库，并梳理了 HTML，但找不到解决方案。它似乎将我指向 Mootools 库，但我知道这是不对的，因为正如我所说，我已经成功地使用了另一个示例。

如果有帮助，这里是包含所有 Slider 示例的页面（我正在尝试使用 #7 并且已经使用了 #3）。

[http://www.efectorelativo.net/laboratory/noobSlide/](http://www.efectorelativo.net/laboratory/noobSlide/)

如果有人能看到问题的根源可能在哪里，我真的很感激你的眼睛:)

谢谢，

朱莉安娜

```
<script type="text/javascript">
    window.addEvent('domready',function(){

        //SAMPLE 7
        var startItem = 0; //or   0   or any
        var thumbs_mask7 = $('thumbs_mask7').setStyle('left',(startItem*60-568)+'px').setOpacity(0.8);
        var fxOptions7 = {duration:1000, transition:Fx.Transitions.Back.easeOut, wait:false};
        var thumbsFx = new Fx.Style(thumbs_mask7,'left',fxOptions7);
        var hs7 = new noobSlide({
            box: $('box7'),
            items: [0,1,2,3,4,5,6,7],
            handles: $ES('span','thumbs_handles7'),
            fxOptions: fxOptions7,
            onWalk: function(currentItem){
                thumbsFx.start(currentItem*60-568);
            },
            startItem: startItem
        });
        hs7.walk(0);
    });

    </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T06:18:56.767

为什么你不使用

```
 $ES('span','thumbs_handles7') 
```

就像他们的例子一样？

```
$$('#thumbs_handles7 span') 
```

这是在修复错误吗？

注意：您需要确保拥有所有 html 标记及其相关 id，正如您在 javascript 代码中定义的那样

# ruby-on-rails - 带参数绑定的 ActiveRecord 选择

> ID：13062623
> 
> 赞同：6
> 
> 时间：2012-10-25T06:12:27.303
> 
> 标签：ruby-on-rails, activerecord

我想像这样使用 ActiveRecord 的子查询：

```
User.select(
    'users.*, 
    (select sum(amount) 
        from subscriptions 
        where subscriptions.user_id = user.id
        and created_at < ? ) as amt)'
).order('amt') 
```

但是，在倒数第二行，我无法弄清楚如何绑定`Time`类参数，因为`ActiveRecord::Base`'`select`方法不接受多个参数（sql 字符串）。我该怎么办？

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-25T07:31:16.747

您可以使用其中一种[`ActiveRecord::Sanitization`类方法](http://api.rubyonrails.org/classes/ActiveRecord/Sanitization/ClassMethods.html)。

它们混合在一起`ActiveRecord::Base`并且几乎都受到保护，因此通过在模型上定义类方法最容易访问它们：

```
class User < ActiveRecord::Base
  def self.select_with_args(sql, args)
    query = sanitize_sql_array([sql, args].flatten)
    select(query)
  end
end 
```

还值得寻找其他方法来获取数据并将它们的性能与子查询方法进行比较。例如，您可以使用单独的查询获取订阅计数：

```
subs_by_user = Subscription.group(:user_id).where('created_at < ?', d).count() 
```

# php - user_generated 导致没有标题或动作的故事

> ID：13062625
> 
> 赞同：1
> 
> 时间：2012-10-25T06:12:28.537
> 
> 标签：php, facebook, facebook-graph-api

当我使用这些参数发布故事时 (1)

```
{
'meal':(meal url),
'fb:explicitly_shared':'true',
'image[0][url]':(image url)
} 
```

这个故事在活动日志中显示得很好：“（用户）吃了（膳食名称）”和一个小图像

一旦我添加了 user_generated 参数 (2)

```
{
'meal':(meal url),
'fb:explicitly_shared':'true',
'image[0][url]':(image url),
'image[0][user_generated]':'true
} 
```

故事以大图显示，但没有动作文本！所看到的只是“（用户）”作为链接，以及旁边的图像。没有动作名称，没有对象名称。是什么赋予了？

见附件截图： ![活动日志截图](../Images/98cf91150f9871b07404c51e29b163a7.png)

发布代码（PHP SDK）

```
 $params = array(
                    'meal'=>$url,
                    'access_token'=>$token,
                    'fb:explicitly_shared'=>'true',
                    'image[0][url]'=>$imageUrl,
                    'image[0][user_generated]'=>'true',
                    'timestamp'=>date('c',strtotime($model->visible_date)-1),
                );
                if(!empty($meal->description)) {
                    $params['message']='I had '.$meal->description.' '.$url;
                }
                $out = $facebook->api('/me/appname_:have','POST',$params); 
```

# c++ - VC++：在函数之间传递多个数组

> ID：13062629
> 
> 赞同：0
> 
> 时间：2012-10-25T06:13:00.140
> 
> 标签：c++, arrays, visual-c++, pointers

我对 VC++ 很陌生，我需要在函数之间传递 4 个数组，所以我使用另一个数组来存储它们的指针。我做对了吗？

```
unsigned int* step1(...) {

    ...

    // save data arrays
    unsigned int* savedData = new unsigned int[4];
    savedData[0] = *data0;
    savedData[1] = *data1;
    savedData[2] = *data2;
    savedData[3] = *data3;
    return savedData;
}

unsigned char* step2(unsigned int* savedData, ...) {

    // read data arrays
    unsigned int* data0 = &savedData[0]; 
    unsigned int* data1 = &savedData[1];
    unsigned int* data2 = &savedData[2]; 
    unsigned int* data3 = &savedData[3];

    ...

} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T07:06:50.400

为了完成前面的有效答案，我将尝试扩展答案：

> 我做对了吗？

好吧，为了在函数之间传递数据：是的，使用指针是一种选择。但是社区通常不鼓励它，因为它给内存管理带来了麻烦。

当您使用指向动态内存的指针时，您必须清楚地了解创建内存的位置和删除内存的位置，换句话说：内存的生命周期必须清晰明了，因此，通常不鼓励在函数之间传递指针。

例如，在您的情况下：`unsigned int* step1(...)`函数返回一个指针，但看着它，新程序员或与您一起工作的人不会知道返回的指针是否是动态内存，如果调用 step1 必须`delete`或调用`delete []`后的内存，同样会`unsigned char* step2(unsigned int* savedData, ...)`更令人困惑和麻烦，因为有人会问：`step2`会改变`savedData`过去吗？

为了解决此`step2`问题，您可以将功能更改为：

```
unsigned char* step2(const unsigned int* const savedData, ...) 
```

通过添加`const`您正在告诉：“嘿！`step2`不会更改内容，`savedData`也不会更改它指向的地址”。

但是前面所有的文字都没有用，因为没有解决最重要的问题：内存在哪里被释放？

在`step1`您动态创建内存中，在`step2`此内存中已读取但...`delete`隐藏在您未粘贴的代码中的某处？还是有一个`step3`等待照顾的记忆？

为了避免所有这些内存问题，通常建议使用 STL 容器，例如`std::vector`，容器会为您处理内存管理，在您的情况下：

```
typedef std::vector<int> intvector;
typedef std::vector<intvector> intintvector;

void step1(intintvector &Data, ...) {
    ...
    // create data arrays
    intvector data0, data1, data2, data3;
    // fill data0, data1, data2, data3
    // ...
    // save data arrays.
    Data.push_back(data0);
    Data.push_back(data1);
    Data.push_back(data2);
    Data.push_back(data3);
}

void step2(const intintvector &savedData, ...) {

    // read data arrays
    intvector data0 = savedData[0]; 
    intvector data1 = savedData[1];
    intvector data2 = savedData[2]; 
    intvector data3 = savedData[3];
    // ...
} 
```

简而言之：如果您不处理动态内存，您就没有正确使用指针部分，因此，您必须解决此问题或委托给 STL 容器。

希望能帮助到你！:D

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T06:19:24.673

您将需要一个指针数组，例如：

```
//The function that takes the array
void foo( char ** data )
{
    std::cout << data[0];
    std::cout << data[1];
    std::cout << data[2];
}

main()
{
    char * str = "aaa";
    char * str1 = "sss";
    char * str2 = "ddd";
    char ** res = new char *[3];//here's your array that has 3 elements each of which is a pointer.
    res[0]=str;
    res[1]=str1;
    res[2]=str2;
    foo( res );
    return 0;
} 
```

输出将是

```
aaasssddd 
```

**稍微好一点的方法：**

使用 stl 容器而不是原始指针会更好，因为它们使用起来更容易、更安全。使用指针，它将以相同的方式工作：

```
void foo( std::vector< char * >vec )
{
    std::cout << vec[0];
    std::cout << vec[1];
    std::cout << vec[2];
}

main()
{
    char * str = "aaa";
    char * str1 = "sss";
    char * str2 = "ddd";
    std::vector< char * >vec;
    vec.push_back(str);
    vec.push_back(str1);
    vec.push_back(str2);

    foo( vec );
return 0;
} 
```

**进一步改进的方法：**

最后，最好的方法是使用字符串：

```
void foo( std::vector< std::string >vec )
{
    std::cout << vec[0];
    std::cout << vec[1];
    std::cout << vec[2];
}

main()
{
    std::string str = "aaa";
    std::string str1 = "sss";
    std::string str2 = "ddd";
    std::vector< std::string >vec;
    vec.push_back(str);
    vec.push_back(str1);
    vec.push_back(str2);

    foo( vec );
return 0;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-25T06:42:56.807

假设您真的想要您所写的内容（4 个数组组合成一个），首先您需要 4 个数组，例如`int`：

```
int data1[] = {1,2,3,4};
int data2[] = {5,6,7,8,9,10};
int *data3; // Let's say those two were allocated by malloc/new
int *data4;

// Now array that will contain those values
int **data = new (int*)[4]; // int * = your datatype (array of ints)
                            // (int*)[] = array of arrays of ints
data[0] = data1;
data[1] = data2;
data[2] = data3;
data[3] = data4;

// And reverse function
data1 = data[0];
data2 = data[1];
data3 = data[2];
data4 = data[3]; 
```

几点注意事项：

*   如果您想让这些“数组”可调整大小使用（或一段时间后使用超过 4 个项目），请使用[`std::vector`](http://www.cplusplus.com/reference/stl/vector/)或另一个[STL 容器](http://www.cplusplus.com/reference/stl/)
*   如果这些数据夹具有任何特殊含义（例如`data1`= 用户 ID、`data2`= 访客 ID、...），则构建将命名它们的类或结构：

    ```
    // In C:
    struct user_data{
       int *user_ids;
       int *visitor_ids;
       char **unregistered_user_names; // Feel free to use another types
    }

    // In C++
    class UserData {
        std::vector<int> userIds;
        std::vector<int> visitorIds;
        std::vector<std::string> unregisteredUserNames;
     } 
    ```

*   一旦分配了数据，`new unsigned int [4]`不要忘记可用内存`delete [] array`

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-25T06:17:59.547

使用 std::vector。

```
std::vector<int> data;
data.push_back(data0);
data.push_back(data1);
data.push_back(data2);
data.push_back(data3); 
```

和

```
int data0 = data[0];
int data1 = data[1];
int data2 = data[2];
int data3 = data[3]; 
```

并添加一些代码，这些函数将在其中使用。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-25T08:45:43.430

我尝试了 Vyktor 的解决方案，但没有奏效。我终于让它使用普通的 ol' 数组（无 STL/向量）并使用以下代码从另一个父数组保存/加载数组。

请注意，这种方法被认为是“遗留”，因为您必须使用`delete [] myArray`语法手动取消分配数组。

```
unsigned int** step1(...) {

    ...

    // save data arrays
    unsigned int** savedData = new unsigned int*[4]; // ** means pointer to a pointer
    savedData[0] = data0; // transfer the pointer value straight
    savedData[1] = data1;
    savedData[2] = data2;
    savedData[3] = data3;
    return savedData;
}

unsigned char* step2(unsigned int** savedData, ...) { /// input is pointer to pointer

    // read data arrays
    unsigned int* data0 = savedData[0]; // read pointer straight
    unsigned int* data1 = savedData[1];
    unsigned int* data2 = savedData[2]; 
    unsigned int* data3 = savedData[3];

    ...

} 
```

# sql - 如何总结两张表的结果？

> ID：13062632
> 
> 赞同：1
> 
> 时间：2012-10-25T06:13:13.010
> 
> 标签：sql

```
SupplierId NetAmt
1          400
2          400
3          300
2          200

SupplierId RecdAmt
2          200
2          200
2          200 
```

预期结果：

```
1   400
3   300 
```

第一个表是向内表，第二个表是付款表，当我向已完全付款的供应商付款时，不应再次显示

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:15:36.523

你可以这样做

```
select SupplierId , NetAmt from table1 
where SupplierId  not in (select SupplierId from table2) 
```

或者

你也可以试试这个

```
SELECT SupplierId , NetAmt
FROM Table1 t1
    LEFT JOIN Table2 t2 ON t1.SupplierId = t2.SupplierId 
WHERE t2.SupplierId IS NULL 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T06:26:13.230

似乎您需要为每个供应商取得余额

```
SELECT ISNULL(NetTable.SupID, RecTable.SupID) AS SupID, (ISNULL(NetTable.TotalNet,0) - ISNULL(RecTable.TotalRec,0)) AS BalAmt
FROM (SELECT SupID, SUM(NetAmt) AS TotalNet FROM Table_1 GROUP BY SupID) AS NetTable
LEFT OUTER JOIN
(SELECT SupID, SUM(RecAmt) AS TotalRec FROM Table_2 GROUP BY SupID) AS RecTable
ON NetTable.SupID = RecTable.SupID
WHERE NetTable.TotalNet <> RecTable.TotalRec 
```

需要单独对每个表进行 GROUP BY 供应商并加入摘要。

# security - 全球站点盐，值得吗？

> ID：13062633
> 
> 赞同：1
> 
> 时间：2012-10-25T06:13:18.510
> 
> 标签：security, salt, password-hash

我正在创建一个用户数据库，我正在考虑安全性，这让我想到，当我要对每个人都拥有独特的用户盐时，拥有一个站点盐真的值得吗？

```
md5(GLOBAL_SALT . $password . $user_salt); 
```

对比

```
md5($password . $user_salt); 
```

我的想法是，如果该网站被黑客入侵，黑客无论如何都可以访问全球盐。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T09:48:20.397

你说的也叫**辣椒**。盐和胡椒有不同的用途：

*   盐可以防止彩虹表攻击。
*   在某些情况下，辣椒可以防止字典攻击。

它实际上取决于攻击者是否可以控制服务器，或者如果使用辣椒，则只能访问数据库（SQL 注入）。[我最近写了一篇关于散列密码](http://www.martinstoeckli.ch/hash/hash.html)的教程，我试图解释其中的要点。

还有其他一些事情需要考虑，例如 MD5 对密码散列来说太快了，相反应该使用像**BCrypt**这样的密钥派生函数。

# hadoop - Datanode在单台机器上的Hadoop中失败

> ID：13062636
> 
> 赞同：5
> 
> 时间：2012-10-25T06:13:33.857
> 
> 标签：hadoop, hadoop-plugins

我使用以下教程在 ubuntu 12.04 LTS 上设置和配置了 sudo node hadoop 环境 [http://www.michael-noll.com/tutorials/running-hadoop-on-ubuntu-linux-multi-node-cluster/#formatting-the -hdfs-filesystem-via-namenode](http://www.michael-noll.com/tutorials/running-hadoop-on-ubuntu-linux-multi-node-cluster/#formatting-the-hdfs-filesystem-via-the-namenode)

输入 hadoop/bin $ start-all.sh 后一切正常，然后我检查了 Jps，然后 NameNode、JobTracker、TaskTracker、SecondaryNode 已启动但 DataNode 未启动...

如果有人知道如何解决此问题，请告诉我..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T06:47:07.817

是的，我解决了...

java.io.IOException：不兼容的命名空间ID

如果您在 DataNode 的日志 (logs/hadoop-hduser-datanode-.log) 中看到错误 java.io.IOException: Incompatible namespaceIDs, 您可能受到问题 HDFS-107（以前称为 HADOOP-1212）的影响.

在我的机器上，完整的错误如下所示： ... ERROR org.apache.hadoop.dfs.DataNode: java.io.IOException: Incompatible namespaceIDs in /app/hadoop/tmp/dfs/data: namenode namespaceID = 308967713; datanode namespaceID = 113030094 at org.apache.hadoop.dfs.DataStorage.doTransition(DataStorage.java:281) at org.apache.hadoop.dfs.DataStorage.recoverTransitionRead(DataStorage.java:121) at org.apache.hadoop.dfs .DataNode.startDataNode(DataNode.java:230) 在 org.apache.hadoop.dfs.DataNode.(DataNode.java:199) 在 org.apache.hadoop.dfs.DataNode.makeInstance(DataNode.java:1202) 在 org .apache.hadoop.dfs.DataNode.run(DataNode.java:1146) 在 org.apache.hadoop.dfs.DataNode.createDataNode(DataNode.java:1167) 在 org.apache.hadoop.dfs.DataNode.main(DataNode .java:1326) 此刻，

解决方法 1：从头开始 我可以证明以下步骤可以解决此错误，但副作用不会让您满意（我也不会）。我发现的粗略解决方法是：

停止集群删除有问题的DataNode上的数据目录：该目录由conf/hdfs-site.xml中的dfs.data.dir指定；如果您按照本教程进行操作，则相关目录为 /app/hadoop/tmp/dfs/data 重新格式化 NameNode（注意：在此过程中所有 HDFS 数据都将丢失！） 重新启动集群 当删除所有 HDFS 数据并从头开始时不会听起来不是一个好主意（在初始设置/测试期间可能没问题），您可以尝试第二种方法。

解决方法 2：更新有问题的 DataNodes 的 namespaceID 非常感谢 Jared Stehler 的以下建议。我自己还没有测试过，但是请随时尝试一下并将您的反馈发送给我。这种解决方法是“微创”，因为您只需在有问题的 DataNode 上编辑一个文件：

停止 DataNode 在 /current/VERSION 中编辑 namespaceID 的值以匹配当前 NameNode 的值 重新启动 DataNode 如果您按照我的教程中的说明进行操作，相关文件的完整路径为：

NameNode：/app/hadoop/tmp/dfs/name/current/VERSION DataNode：/app/hadoop/tmp/dfs/data/current/VERSION（背景：dfs.data.dir默认设置为${hadoop.tmp .dir}/dfs/data，我们将本教程中的hadoop.tmp.dir设置为/app/hadoop/tmp）。

该问题的解决方案在以下站点中明确给出：

[http://www.michael-noll.com/tutorials/running-hadoop-on-ubuntu-linux-multi-node-cluster/#java-io-ioexception-incompatible-namespaceids](http://www.michael-noll.com/tutorials/running-hadoop-on-ubuntu-linux-multi-node-cluster/#java-io-ioexception-incompatible-namespaceids)

# mysql - mySQL 触发错误 1175、1050

> ID：13062638
> 
> 赞同：0
> 
> 时间：2012-10-25T06:13:46.297
> 
> 标签：mysql, triggers

嗨，我正在将我的所有表从一个数据库导入到另一个数据库，但不知何故没有导入触发器。使用 MySQL 5.6。所以我试图从以前的数据库中复制触发器语句以在当前数据库中创建触发器。分隔符 $$

```
USE `swcms`$$

CREATE 
DEFINER=`swcms`@`localhost` 
TRIGGER `swcms`.`class_lesson_trigger` 
AFTER DELETE ON `swcms`.`swlp4_class` 
FOR EACH ROW 
delete from swlp4_lesson where className in 
(SELECT CONCAT(old.classLv,old.className) AS className FROM swlp4_class);
$$ 
```

我在工作台的输出部分遇到的错误

> 错误代码：1175。您正在使用安全更新模式，并且您尝试更新没有使用 KEY 列的 WHERE 的表 要禁用安全模式，请切换 Preferences -> SQL Editor -> Query Editor 中的选项并重新连接。

我在应用脚本窗口中遇到的错误

```
SQL Statement:
DROP TRIGGER IF EXISTS swcms.class_lesson_trigger
ERROR: Error when running failback script. Details follow.
ERROR 1050: Table 'swlp4_class' already exists
SQL Statement:
CREATE TABLE `swlp4_class` (
  `classID` int(11) NOT NULL auto_increment,
  `schoolID` int(11) NOT NULL,
  `educationLv` int(11) NOT NULL default '0',
  `classLv` int(11) NOT NULL,
  `className` varchar(10) NOT NULL,
  PRIMARY KEY  (`classID`),
  UNIQUE KEY `classID_UNIQUE` (`classID`),
  KEY `school_class_fk_idx` (`schoolID`),
  CONSTRAINT `school_class_fk` FOREIGN KEY (`schoolID`) REFERENCES `swlp4_school` (`schoolID`) ON DELETE CASCADE ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=utf8 
```

第二个错误对我没有任何意义。我没有删除触发器或表仍然收到此错误。

知道我做错了什么

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T06:24:05.737

*   定义者条款的问题。它包含旧数据库用户的信息。
*   建议：
    1.  如果对新数据库无效，则忽略定义者信息。或者您应该遵循相同的步骤，例如
    2.  创建触发器
    3.  导出 Sql
    4.  将 Sql 导入新数据库。

# mysql - 是否可以返回一个范围内每天不同 ip_address 的总数？

> ID：13062641
> 
> 赞同：1
> 
> 时间：2012-10-25T06:14:08.300
> 
> 标签：mysql

我有一个mysql表，

为简单起见，假设使用了下表

```
CREATE TABLE requests(
    id INT NOT NULL auto_increment,
    ipaddress VARCHAR(30) NULL,
    datetime DATETIME NULL,
    PRIMARY KEY(id)
); 
```

从现在到 180 天前的每一天，是否可以返回 24 小时内不同 IP 地址计数的结果集？

```
datetime               ipaddress
2012-10-25 00:00:00    30
2012-10-24 00:00:00    28
2012-10-24 00:00:00    22
2012-10-23 00:00:00    27
...                    ... 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T06:18:35.003

试试这个：

```
select DATE(`datetime`),count(distinct ipaddress) as ipaddress
from requests
where datediff(NOW(),datetime)<=180
group by DATE(`datetime`) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T06:17:33.683

```
 select count(Distinct ipaddress  ) as total from 
 requests where date(datetime)> date_sub(date(datetime),interval 2 day)  
 group by ipaddress 
```

# javascript - 访问查询参数的方式 JSP、JSTL、Javascript

> ID：13062652
> 
> 赞同：26
> 
> 时间：2012-10-25T06:14:55.037
> 
> 标签：javascript, html, jsp, jstl, query-parameters

我一直在使用以下 3 种方式来访问 URL 中的查询参数。

JSP

```
String success = request.getParameter("success");
if(success!=null) {
//do something
} 
```

JSTL

```
<c:if test="${not empty param.success}">
//do something
</c:if> 
```

JavaScript

```
function getQueryParameter ( parameterName ) {
  var queryString = window.top.location.search.substring(1);
  var parameterName = parameterName + "=";
  if ( queryString.length > 0 ) {
    begin = queryString.indexOf ( parameterName );
    if ( begin != -1 ) {
      begin += parameterName.length;
      end = queryString.indexOf ( "&" , begin );
        if ( end == -1 ) {
        end = queryString.length
      }
      return unescape ( queryString.substring ( begin, end ) );
    }
  }
  return "null";
} 
```

所有这三个都对我有用，但我想知道其中是否有任何问题，哪个是首选？

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-10-25T06:28:13.163

在第一种方法中，您使用 Scriptlets 访问请求参数，它确实有效，但您必须对 null 进行额外检查。因此，总是避免使用 Scriptlet。

在使用 JSTL 的第二种方法中，它比第一种方法更好，它是对 scriptlet 的改进版本，为您提供更大的灵活性和健壮性。所以，这是我们一直鼓励的事情。**这是三者中最好的方法。**

在最后一种方法中，使用 Javascript，虽然是另一种方法；但从不鼓励。仔细处理参数需要格外小心，并且您有更好的选择来完成相同的工作。Javascript 处理这不是一个理想的任务！

# javascript - 是否可以填充类的所有元素的值？

> ID：13062655
> 
> 赞同：0
> 
> 时间：2012-10-25T06:15:00.433
> 
> 标签：javascript, forms

我想要实现的是填充许多具有相同值的表单字段。我可以为具有 id 的元素执行此操作：

```
function selectDateAndArendeSearch(year, month, day, field, number, numberfield) {
    var m = parseInt(month)+1;

    if(m<10)
        month="0"+m;
    else
        month=m;
    if(day.length==1)
        day="0"+day;

    document.actionForm.all(field).value = year+"-"+month+"-"+day;
    document.actionForm.all(numberfield).value = number;
    document.getElementById('popupF').style.display = 'none';
} 
```

但是我如何为许多元素（即一个类）做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T06:37:48.027

```
for (el in document.getElementsByClassName('myclassname')) {
    el.value = "New Value";
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T06:21:21.413

```
document.getElementsByClassName('myclassname').value = 'New Value'; 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-25T06:36:49.073

该方法`getElementsByClassName`非常适合大多数现代浏览器。
但是，如果您需要与旧浏览器兼容，它可能不是原生的。在这种情况下，请查看 CMS 对[这个问题](https://stackoverflow.com/a/1933623/1032370)的回答，它为此任务提供了可移植功能。

有关**兼容性**，请参阅以下**[工作草案](http://caniuse.com/getelementsbyclassname)**

# .net - {System.IO.FileNotFoundException：检索具有 CLSID {XXXXXX} 的组件的 COM 类工厂失败，原因是以下错误：8007007e

> ID：13062656
> 
> 赞同：0
> 
> 时间：2012-10-25T06:15:02.343
> 
> 标签：.net, windows

运行 Windows 应用程序时出现以下异常“{System.IO.FileNotFoundException：检索具有 CLSID {5164619A-E62E-4EC0-B207-9108907E607D} 的组件的 COM 类工厂失败，原因是以下错误：8007007e。” 我已将注册表项和 Dll 放置在特定路径中。此外，还提供了访问 dll 应用程序的特定用户的读取权限。但我仍然得到上述异常。请针对上述错误提出任何解决方案？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2021-03-18T08:47:27.010

上述错误已通过再次注册dll解决

C:\Windows\SysWOW64\regsvr32 yourdllname

# c# - 如何为单个数据库表设计 n 级对象？

> ID：13062660
> 
> 赞同：0
> 
> 时间：2012-10-25T06:15:28.113
> 
> 标签：c#, asp.net, c#-4.0

我有以下用于 menuItem 表的数据库设计

```
Id    PId      MenuLink
---   ---      ---------
1     Null     Home.aspx
2     Null     Admin.aspx
3     Null     Logout.aspx
4      2       Manage Content.aspx
5      2       Manage Users.aspx
6      2       Manage Storage.aspx
7      4       Review Content.aspx
8      4       Add New Content.aspx
9      8       Articles.aspx
10     8       News.aspx 
```

它是 n 级分层菜单，根项目有 Pid Nil，其余项目有其父 Id。现在我有这个表的业务对象。

```
public class myMenuItem
{
    public int Id {get; set;}
    public int PId {get; set;}
    public string MenuLink {get; set;}
} 
```

我想以这样一种方式填充我的业务对象，即每个 MenuItem BO 将包含父项及其所有子项（n 级）

目前，我首先获取 Root 项目，然后使用我单独创建的单独业务对象（复制）逐个填充每个级别。有没有更好的方法来完成这项任务（因为我的桌子是单人的）？

```
public class myMenuItem
{
    public int Id {get; set;}
    public int PId {get; set;}
    public string MenuLink {get; set;}
    public List<level1> Level1Items {get ; set;}   
    public List<level2> Level2Items {get ; set;}
}

//  Duplicate class
 public class level1
    {
        public int Id {get; set;}
        public int PId {get; set;}
        public string MenuLink {get; set;}
        // Manually create another list
    } 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-25T07:20:39.213

“递归”是您在这里寻找的词。`myMenuItem`我假设你只需要 ，而不是为每个级别制作课程。我还将假设 and 没有任何意义`level1`，`level2`它们只是为了唯一性而被这样命名。

因此，`myMenuItem`对于此处的示例，您的情况很好，除了您的两个列表 (`Level1Items`和`Level2Items`) 应替换为`List<MenuItem> ChildItems`， 例如。

为了 SO 着色的可读性，我决定重命名`myMenuItem`为`MyMenuItem`.

你可能会做这样的事情

```
List<MyMenuItem> MenuItems = <list of your menu items, to save db calls>

List<MyMenuItem> GetMenu()
{
    return MenuItems.Where(f => f.PId == null).Select(GetItem).ToList();
}

MyMenuItem GetItem(MyMenuItem myMenuItem)
{
    var immidiateChildren = MenuItems.Where(m => m.PId == myMenuItem.Id);
    if (immidiateChildren.Any())
        myMenuItem.ChildItems = immidiateChildren.Select(GetItem).ToList();
    return myMenuItem;
} 
```

您可能会受益于对此进行扩展以`MyMenuItem`沿途进行实例化，而不是在构建树结构之前进行实例化。

# android - 从 Android 连接到 MS Access 数据库时出错

> ID：13062661
> 
> 赞同：0
> 
> 时间：2012-10-25T06:15:28.413
> 
> 标签：android, android-layout, ms-access

我正在尝试从桌面上的 MS Access 数据库中检索数据。我没有添加任何外部 jar 文件来检索数据实际上我不知道我是否必须导出任何外部 jar 文件来完成此操作。这是我用来连接到我的 PC 上的 Ms Access 数据库的代码。

```
String driver = "sun.jdbc.odbc.JdbcOdbcDriver";
            Class.forName(driver).newInstance();
            String path="D:/MS ACCESS DATABASE/mydatabase.mdb";
            conn = DriverManager.getConnection("jdbc:odbc:Driver={Microsoft Access Driver  (*.mdb)};DBQ="+path+";","","root" );
            Log.w("Connection", "open");
            Statement stmt = conn.createStatement();
            ResultSet reset = stmt.executeQuery("select * from tblEmp"); 
```

在执行此操作时，我的日志猫出现以下错误

```
10-25 11:31:40.545: W/Error connection(422): sun.jdbc.odbc.JdbcOdbcDriver 
```

请帮我解决这个问题？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T13:23:49.107

您无法使用 Sun 的 JDBC-ODBC 桥从 Android 连接到 MS Access。sun 的 JDBC-ODBC 桥将只连接到本地服务器而不是远程服务器。[JDBC-ODBC Bridge](http://www.easysoft.com/products/data_access/jdbc_odbc_bridge/index.html)中有一个来自[Easysoft](http://www.easysoft.com)的商业选项。这可以从 Java 应用程序/小程序连接到删除服务器，然后连接到 MS Access ODBC 数据源。

# jquery - 如何启用弹出父页面滚动？

> ID：13062669
> 
> 赞同：0
> 
> 时间：2012-10-25T06:16:02.697
> 
> 标签：jquery, html, css, popup

单击链接时会出现弹出框。我需要启用父页面的滚动。对于小屏幕笔记本电脑的弹出窗口无法正确查看，我无法对弹出窗口的高度做任何事情。我想启用滚动。

```
.popup{
display: block;
z-index: 1002;
outline: 0px;
position: fixed;
height: auto;
width: 730px;
top: 209px;
left: 259px;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:24:47.127

弹出框通常设置为`position: absolute;`不在文档流中，因此使用绝对，而不是使用`fixed`，使用`absolute`甚至stackoverflow标志框，因为它不会随页面滚动，如果您的元素溢出，浏览器可能会显示滚动如果您将其设置为超出您定义的宽度，请`position: absolute;`确保您没有使用`overflow: hidden;`可能是为了清除浮动，使用它`clear: both`，您应该会看到滚动条

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T06:17:40.323

只需添加 CSS 溢出属性：

```
overflow-y : auto;
overflow-x : hidden; 
```

# iphone - Box2d 物理体与 Cocos2d 精灵不同步

> ID：13062675
> 
> 赞同：0
> 
> 时间：2012-10-25T06:16:43.500
> 
> 标签：iphone, ios, cocos2d-iphone, box2d

我对 cocos2d 和 box2d 还很陌生。我正在尝试使用加速度计创建一个游戏水平无尽的跑步者。我的角色从顶部掉下来并且不断向下移动。我遇到的问题是，随着时间的推移，精灵和物理体变得不同步，物理体从精灵上移开，从而导致碰撞时出现奇怪的行为。这仅在设备上运行时才会发生，因为玩家不断向下移动，碰撞在垂直方向上变得不同步，而水平方向保持正确。我的步进功能是：

```
const float32 timeStep = 1.0f / 30.0f;
const int32 velocityIterations = 5;
const int32 positionIterations = 1;

// step the world
world->Step(timeStep, velocityIterations, positionIterations); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T14:00:07.140

我们所说的距离有多远？如果您将 Box2D 主体移动到非常长的距离（数千米的 Box2D 米），您可能会在物理模拟或 cocos2d 位置（或两者）中遇到不准确，这可能会导致您描述的效果。

2D 物理引擎并非设计用于在没有约束的世界中工作（即无限滚动）。如果这就是你正在做的事情，你将不得不想出一个解决方案，让世界受到限制，但玩家没有意识到这一点。一种常见的方法是一旦对象和相关视图通过某个阈值，就将它们的位置重置回（受约束的）世界的顶部。大多数游戏只是将玩家锁定在适当的位置，而是将世界移动到玩家下方，以给人一种无尽运动的印象，而只有背景在移动。

# c# - 如何简化 C# 中的代码？

> ID：13062676
> 
> 赞同：2
> 
> 时间：2012-10-25T06:17:04.460
> 
> 标签：c#, .net

这是我想简化的代码：

```
 public void Method1(Context context, EventLog log = null)
        {
            Class myClass = ConvertToMyClass();
            ApiCall1 apiCall = new ApiCall1(context);
            if (log != null)
            {
                eventLog.WriteEntry("Starting");
            }

            try
            {
                apiCall.Call1(myClass, null, false);
                IsCallSuccess = true;
            }
            catch (Exception e)
            {
                if (log != null)
                {
                    eventLog.WriteEntry("error");
                }

                IsCallSuccess= false;
                CallErrorMessage = e.Message;
            }
        }

        public void Method2(Context context, EventLog log = null)
        {
            Class myClass = ConvertToMyClass();
            ApiCall2 apiCall = new ApiCall2(context);
            if (log != null)
            {
                eventLog.WriteEntry("Starting");
            }

            try
            {
                apiCall.Call1(myClass);
                NewItemID = myClass.ItemID;
                IsCallSuccess = true;
            }
            catch (Exception e)
            {
                if (log != null)
                {
                    eventLog.WriteEntry("error");
                }

                IsCallSuccess= false;
                CallErrorMessage = e.Message;
            }
        }

        public void Method3Context context, EventLog log = null)
        {
            Class myClass = ConvertToMyClass();
            ApiCall3 apiCall = new ApiCall3(context);
            if (log != null)
            {
                eventLog.WriteEntry("Starting");
            }

            try
            {
                apiCall.Call3(myClass, "param1");
                UpdatedItemID = myClass.UpdatedItemID;
                IsCallSuccess = true;
            }
            catch (Exception e)
            {
                if (log != null)
                {
                    eventLog.WriteEntry("error");
                }

                IsCallSuccess= false;
                CallErrorMessage = e.Message;
            }
        } 
```

有3种方法。我一直在考虑如何使用委托或 lambda 简化它们，但没有找到任何东西。

你的意见？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:21:55.553

两种方式...

1）使方法通用，因为这三个方法只是它们影响的类不同。这可能看起来像这样：

```
public void Method<T>(Context context, EventLog log = null) where T : BaseAPICall
{
    Class myClass = ConvertToMyClass();
    T apiCall = (T)Activator.CreateInstance(typeof(T), new object[] { context });
    if (log != null)
    {
        eventLog.WriteEntry("Starting");
    }

    try
    {
        apiCall.Call(myClass, null, false);
        IsCallSuccess = true;
    }
    catch (Exception e)
    {
        if (log != null)
        {
            eventLog.WriteEntry("error");
        }

        IsCallSuccess= false;
        CallErrorMessage = e.Message;
    }
} 
```

或者

2）将这些方法放在适当类的父类中，在这种情况下，这将是 ApiCall1/2/3 的父类。这将是：

```
public class BaseAPICall
{
    public abstract Call(Class c, object o, bool b);

    public virtual Method(Context context, EventLog log = null)
    {
        Class myClass = ConvertToMyClass();
        if (log != null)
        {
            eventLog.WriteEntry("Starting");
        }

        try
        {
            this.Call(myClass, null, false);
            IsCallSuccess = true;
        }
        catch (Exception e)
        {
            if (log != null)
            {
                eventLog.WriteEntry("error");
            }

            IsCallSuccess = false;
            CallErrorMessage = e.Message;
        }
    }
} 
```

# android - 在 Android 中使用 sqlite 事务时的多线程问题

> ID：13062680
> 
> 赞同：2
> 
> 时间：2012-10-25T06:17:38.223
> 
> 标签：android, sqlite, android-sqlite

我在 Android 中使用 sqlite 事务：

```
SQLiteDatabase database = sqlite_helper.getWritableDatabase();

database.beginTransaction();
...
database.setTransactionSuccessful();
database.endTransaction(); 
```

我的问题是：
1\. 我应该`endTransaction()`像这样放在 finally 代码块中：</p>

```
try {
    database.beginTransaction();
    ...
    database.setTransactionSuccessful();
}
finally {
    database.endTransaction();
} 
```

如果在数据库操作过程中出现异常，数据库是否会自动回滚而不使用“finally”？

1.  当事务没有结束时，其他线程可以读写同一个数据库吗？我听说 Android 中的 sqlite 是线程安全的，但我不确定。我想在交易过程中会有一些问题。如果另一个线程使用相同的连接写入相同的数据库，是否会引发错误？
    我曾经在我的应用程序中发现这个错误，但我不知道它是否与线程安全问题有关：

`android.database.sqlite.SQLiteMisuseException: library routine called out of sequence:`

, 编译时

有人帮我回答这些问题吗？非常感谢！

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-25T07:05:17.620

1.您应该始终将 endTransaction 放在 finally 块中

2.SQLite 中的事务是线程安全的，参见文档[http://www.sqlite.org/atomiccommit.html](http://www.sqlite.org/atomiccommit.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T07:05:50.943

您应该始终放入`endTransaction()`一个`finally`块中（另请参阅[文档](http://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#beginTransaction%28%29)）。否则，数据库将无法注意到发生了异常。

结束事务的唯一其他方法是关闭连接，在这种情况下 SQLite 会自动回滚任何活动事务。

只要一个连接写入数据库（这意味着事务处于活动状态），就没有其他连接可以读取或写入。因此，您应该注意不要忘记结束交易。

你永远不应该从多个线程中写入；如果一个线程结束事务而另一个线程仍在写入会发生什么？

您`SQLiteMisuseException`可能相关，也可能不相关；如果没有看到代码，这是不可能说的。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-02-27T03:42:52.120

是的，您应该使用 finally 块。这是我使用的一个简单的线程安全方法：

```
/**
 * Call for multiple DB insertion transactions.  It is thread safe and fast!
 */
private synchronized void writeTransaction(Runnable task) {
    try {
        db.beginTransaction();
        task.run();
        db.setTransactionSuccessful();
    } finally {
        db.endTransaction();
    }
} 
```

*synchronized*关键字用它的包含对象锁定方法，从而使其线程安全......

# sql - Oracle SQL 比较包含数字的字符串，从 0（零）开始

> ID：13062683
> 
> 赞同：5
> 
> 时间：2012-10-25T06:17:45.957
> 
> 标签：sql, oracle, isqlquery

我有一个日期列，它实际上不是日期格式。日期看起来像：`25/10/2012`。现在我必须比较 2 个日期，但我找不到这样做的模式，因为格式错误。

我尝试过的是：

```
 SELECT * 
   from PARAMETER
  where NAME like 'Date_To' and SUBSTR(VALUE, 1, 2)<'25' 
    and SUBSTR(VALUE, 1, 2)>'05' 
```

我面临的问题是这部分：`SUBSTR(PA_VALUE, 1, 2)>'05'`不起作用，因为数字前面有一个 0（零）。有什么解决办法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T06:27:58.357

试试看

```
SELECT * 
from PARAMETER
where  NAME like 'Date_To' 
 and cast ( SUBSTR(VALUE, 1, 2) as int ) <cast ('25' as int)
 and cast ( SUBSTR(VALUE, 1, 2) as int) > cast ('05' as int ) 
```

# iphone - 我有 2 个包含对象的数组，并且同名对象应该只取消一次

> ID：13062686
> 
> 赞同：-1
> 
> 时间：2012-10-25T06:18:03.323
> 
> 标签：iphone, ios

我输入如下所示的两个数组

```
NSArray *array1=[[NSArray alloc]initWithObjects:@"1",@"2",@"3", nil];

NSArray *array2=[[NSArray alloc]initWithObjects:@"1",@"2",@"1", nil]; 
```

输出应该像这样。同一个元素应该只取消一次。

```
NSArray *array3=[[NSArray alloc]initWithObjects:@"1",@"2", nil]; 
```

提前致谢.....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:39:16.737

```
NSArray *array1 = @[@"1",@"2",@"3"];

NSArray *array2 = @[@"1",@"2",@"1"];

NSMutableSet *allElemets = [NSSet setWithArray:array1];
[allElemets addObjectsFromArray:array2]; 
```

这将返回所有没有重复的元素。在这种情况下，它将是

> @"1",@"2",@"3"

编辑：

这将返回数组的交集

```
NSMutableSet *set1 = [NSMutableSet setWithArray:array1];
NSSet *set2 = [NSSet setWithArray:array2];
[set1 intersectSet:set2]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T09:17:14.207

**代码在这里**

**编辑：这将删除重复值添加唯一值。**

```
NSArray *array1=[[NSArray alloc]initWithObjects:@"1",@"2",@"3", nil];

NSArray *array2=[[NSArray alloc]initWithObjects:@"1",@"2",@"1", nil];

//Here Create nEw  Array with Arra1 
NSMutableArray * newArray =[[NSMutableArray alloc] initWithArray:array1];
for(int index=0; index<[array2 count];index++)
{
    id object =[array2 objectAtIndex:index];
    if(![newArray containsObject:object])//this methods Returns YES/NO 
    {
        [newArray addObject: object];

    }

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-25T06:36:57.450

如果你对集合而不是数组很好，你可以使用 NSMutableSet 而不是 NSArray。NSMutableSet 有很好的方法，比如 intersectSet: 和 minusSet:

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-25T06:52:29.657

```
if([[array1 objectAtIndex:i] isEqualToString:[array2 objectAtIndex:i]])
{

            [array2 removeObjectAtIndex: i];                
            NSLog(@"same element removed.");

}

array3 = [firstArray arrayByAddingObjectsFromArray:secondArray]; 
```

或者

```
NSMutableSet *set = [NSMutableSet setWithArray:array1];
[set addObjectsFromArray:array2];

array3 = [set allObjects]; 
```

比较两个数组并删除重复值，您将获得您的值。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-25T06:55:55.903

用于`NSCountedSet`上述情况

```
 NSMutableArray *array1=[[NSMutableArray alloc]initWithObjects:@"r",@"a",@"r",@"r",@"r", nil]; 

    NSArray *array2=[[NSArray alloc]initWithObjects:@"b",@"c",@"r", nil];

    NSMutableSet *setOne = [NSMutableSet setWithArray: array1];
    NSSet *setTwo = [NSSet setWithArray: array2];

    [setOne unionSet:setTwo];

    NSArray *arrayOneResult = [setOne allObjects];

    NSLog(@"%@",arrayOneResult);

    NSMutableArray *resultArray = [[NSMutableArray alloc]init];

    NSCountedSet *set = [[NSCountedSet alloc] initWithArray:arrayOneResult];

    for (id item in set)
    {

        NSCountedSet *set1 = [[NSCountedSet alloc] initWithArray:array1];
        NSCountedSet *set2 = [[NSCountedSet alloc]initWithArray:array2];

        int diff = abs([set1 countForObject:item] - [set2 countForObject:item]);

        for (int  i = 0 ;i < diff ;i++ ) {
            [resultArray addObject:item];
        }

    }

    NSLog(@"the array : %@",resultArray   ); 
```

# c# - 使用带参数的clientscript.registerstartupscript调用javascript函数

> ID：13062687
> 
> 赞同：0
> 
> 时间：2012-10-25T06:18:08.487
> 
> 标签：c#, javascript, asp.net

1) 我有一个用 HTML5 创建的 javascript 控件并用 div 显示它。

```
<div id="<%=this.ClientID%>" style="z-index:100;"></div> 
```

该控件有一个方法`init()`，我需要将参数从后面的代码传递给该方法；为了初始化它。所以这就是我的做法：

```
string script2 = String.Format("<%=this.ClientID%>.init({0},{1})", param1, param2);

this.Page.ClientScript.RegisterStartupScript(this.GetType(), "initialize control", script2, true); 
```

这是正确的方法吗？

`{1}`2) 设置参数 as和有什么区别`'{1}'`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:29:41.460

在 '' 中构造的参数被视为字符串，没有 '' 的参数被视为对象。

# java - 日期格式转换为java中特定格式的日期对象

> ID：13062695
> 
> 赞同：2
> 
> 时间：2012-10-25T06:18:42.980
> 
> 标签：java, date

`Date date3 = Calendar.getInstance().getTime();` 我正在使用这给我找到当前时间`Thu Oct 25 11:42:22 IST 2012`

现在我希望我的 Date 采用格式`2012.10.25`，并且也是 Date 对象而不是字符串。

我尝试使用下面的代码

```
DateFormat df = new SimpleDateFormat("yyyy.MM.dd");
Date startDate = df.parse(c_date1); 
```

但是当我最终`System.out.println(startDate.toString());`再次使用它时， `Thu Oct 25 00:00:00 IST 2012.`这实际上是因为该`toString()`功能已经以一种显示这种格式的方式实现。

那么有没有其他方法可以将日期作为`2012.10.25`日期格式来获取。日期对象是必需的，因为它将作为日期字段保存在数据库中。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-25T06:22:34.957

您需要使用[`df.format(Date)`](http://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html#format%28java.util.Date%29)方法来获取所需格式的日期

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-10-27T03:32:36.430

Date 类没有“内部”格式，它只表示日期元素。要使用特定格式输出它，您需要按照您的方式进行操作： String tDate = formatter1.format(date);

您认为它具有“错误格式”的原因可能是因为当您尝试输出它时，它默认执行一个 toString() ，它不会按照您想要的方式格式化它。

如果您向我们提供有关如何使用该日期的更多详细信息（包括您的代码），那么我们可能会提供有关如何将格式化程序注入其中的建议。

# 日期本身不存储任何格式信息。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-25T06:47:49.667

```
Date date3 = Calendar.getInstance().getTime();
SimpleDateFormat df = new SimpleDateFormat("yyyy.MM.dd");
System.out.println(df.format(date3)); 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-10-25T09:50:59.853

```
 Date date3 = Calendar.getInstance().getTime();
    SimpleDateFormat df = new SimpleDateFormat("yyyy.MM.dd");

    java.sql.Date date = null;

    try {
        date =new java.sql.Date(df.parse(df.format(date3)).getTime());
    } catch (ParseException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    }
    System.out.println(date); 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2018-03-20T07:03:40.663

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-10-25T07:18:28.370

[如果您想以给定的日期格式](http://tutorialdata.com/java/dateandtime.html)将日期保存在数据库中，您可以使用

```
DateFormat df = new SimpleDateFormat("yyyy.MM.dd");

    Date date3 = Calendar.getInstance().getTime();

    String startDate = df.format(date3);

    try {

    java.sql.Date date = new java.sql.Date(df.parse(startDate).getTime());

    System.out.println(date);

    } catch (ParseException ex) {
      Logger.getLogger(NewJFrame.class.getName()).log(Level.SEVERE, null, ex);
    } 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-10-25T06:36:37.347

日期对象没有任何格式。即您不能将任何 Date 对象转换为特定格式。因为它有自己的字符串格式，打印任何日期时都会返回。您只能转换任何字符串格式。

您可以从特定格式的日期字符串转换或构造任何日期对象。但该日期对象不会采用特定格式。

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2012-10-25T06:40:11.417

你的问题就像问：

我有一个值为 1234567 的 int 变量，我希望它在该变量中存储为“1,234,567”。

这根本不合理。

值的存储方式与值的呈现方式无关。

* * *

## 回答 #9

> 赞同：-1
> 
> 时间：2018-03-20T06:12:50.143

这很简单

```
SimpleDateFormat format = new SimpleDateFormat("yyyy.MM.dd");
format.parse(dateObject.toString()); 
```

# soapui - 在soapUI中处理动态节点

> ID：13062697
> 
> 赞同：0
> 
> 时间：2012-10-25T06:18:48.463
> 
> 标签：soapui

我从这样的网络服务中得到响应，对于第一个输入，它给了我三个这样的节点

```
 <m:tPlayerNames>
           <m:iId>16</m:iId>
           <m:sName>Adam Matuszczyk</m:sName>
           <m:sCountryName>Poland</m:sCountryName>
        </m:tPlayerNames>
        <m:tPlayerNames>
           <m:iId>588</m:iId>
           <m:sName>Adil Rami</m:sName>
           <m:sCountryName>France</m:sCountryName>
         </m:tPlayerNames> 
```

对于第二个输入，我得到了两个以上的 tPlayerNames Nodes ，就像这样

```
 <m:tPlayerNames>
           <m:iId>16</m:iId>
           <m:sName>Adam Matuszczyk</m:sName>
           <m:sCountryName>Poland</m:sCountryName>
        </m:tPlayerNames>
        <m:tPlayerNames>
           <m:iId>588</m:iId>
           <m:sName>Adil Rami</m:sName>
           <m:sCountryName>France</m:sCountryName>
         </m:tPlayerNames>
        <m:tPlayerNames>
           <m:iId>552</m:iId>
           <m:sName>Zlatan Ibrahimovic</m:sName>
           <m:sCountryName>Sweden</m:sCountryName>
        </m:tPlayerNames> 
```

我想为每个节点添加断言，我正在做数据驱动测试，我不确定每个请求的节点数量，所以我该如何做到这一点。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-07T13:25:57.367

您可以创建一个 groovy 脚本来解析 XML。因为在创建断言之前您不知道确切的响应。在下面，您可以找到一个脚本来解析 xml 响应并找到一个元素

```
def response = context.expand( '${Test Request#Response#declare namespace soap=\'http://www.w3.org/2003/05/soap-envelope\'; //soap:Envelope[1]}' )
def responseParser = new XmlParser().parseText(response)
def allNodes = responseParser.children()

def nodeToFind=responseParser.nodeOfResponse.find { it.text() == 'text' }

log.info nodeToFind 
```

# android - 由 corona 构建的 apk 未安装在设备中

> ID：13062707
> 
> 赞同：4
> 
> 时间：2012-10-25T06:19:33.273
> 
> 标签：android, build, coronasdk

我是电晕发展的新手。

我正在创建一个新项目，它们构建为 android apk 目标 2.2。

如果我在我的设备上运行此构建，它将成功构建 bt，它显示“未安装”。

我正在使用电晕的试用版，这会造成问题吗？

感谢您宝贵的时间。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2014-01-27T09:22:05.180

当我遇到类似问题时，那是因为我设备上的架构不是 ARMv7。

Corona 背后的开发人员就 Android 部署提出了以下几点：

> *   您无需安装 Android SDK。但是，如果您使用的是 Windows，则需要安装 Java 6 开发工具包的 x86（32 位）版本。Corona 不支持 JDK7。有关详细信息，请参阅 Java 开发工具包设置。
>     
>     
> *   Android 构建过程会生成一个标准的 .apk 文件。您无需创建 Google 开发者帐户即可在 Android 设备上构建和测试应用程序，但如果您希望发布到 Google Play 市场，则需要一个帐户。该计划的当前价格为 25 美元，由 Google 授权和管理。
>     
>     
> *   **我们仅支持运行 Android 2.2 或更高版本并配备 ARMv7 处理器的 Android 设备。这可能会造成一些混乱，因为 ARM 处理器是由一个系列和一个体系结构来识别的。姓氏中没有“v”。比如ARM7处理器实际上是ARMv3架构，而ARM11是ARMv6架构。请参阅本指南以帮助识别各种处理器。**

资料来源：[http](http://docs.coronalabs.com/guide/distribution/androidBuild/index.html) ://docs.coronalabs.com/guide/distribution/androidBuild/index.html （如果您还没有看过，值得一读）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T08:50:16.920

将一些应用程序下载到您的设备，例如应用程序管理器或 Es 文件资源管理器（

[https://play.google.com/store/apps/details?id=com.estrongs.android.pop&feature=search_result#?t=W251bGwsMSwxLDEsImNvbS5lc3Ryb25ncy5hbmRyb2lkLnBvcCJd](https://play.google.com/store/apps/details?id=com.estrongs.android.pop&feature=search_result#?t=W251bGwsMSwxLDEsImNvbS5lc3Ryb25ncy5hbmRyb2lkLnBvcCJd)）

然后打开那个应用程序，选择你的 .apk 文件，然后你就可以安装它了。

祝你好运 ;）

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-06T12:23:07.340

我发现最简单的方法是将 .apk 文件附加到电子邮件中，然后在手机上的 Gmail 中打开附件。

您可以使用 Corona 的试用版为 Android 构建。只需使用默认密钥即可。（我可能在“应用程序”下启用了一项设置，以允许从 Google Play 之外安装应用程序，我不记得了。）

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-01-28T11:17:36.773

我必须通过 adb 控制台安装我的应用程序，并打开手机的 USB 调试才能使其工作。

命令是：

```
[path to adb.exe] install -r [path to apk file] 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-01-29T03:07:54.937

我以前也遇到过这个问题，所以分享一下我的经验。

这可能是两个问题之一：

1.  您的设备不是 ARMv7。这意味着它需要为 2.2 或更高。我建议将 Android 4.0 或更高版本用于测试设备，但这只是我的意见。

2.  您可能有语法错误，或者您可能需要一个不存在的文档。在极少数情况下，Corona 在设备上之前不会检测到错误。要查看错误是什么，请运行`adb logcat`.

让我知道这是否适合你:)

# c# - 文本框失去焦点事件的服务器端

> ID：13062712
> 
> 赞同：0
> 
> 时间：2012-10-25T06:20:03.277
> 
> 标签：c#, asp.net-mvc, textbox, focus, server-side

如何在文本框失去焦点事件时触发服务器端而不触发我想要的服务器端功能的javascript函数是否可能？

```
<asp:TextBox id="Example" runat="server" /> 
```

任何帮助表示赞赏

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T06:34:36.350

您最好的选择是 AJAX，（或 asp.net Web 表单控件中的 UpdatePanel，您似乎正在使用它而不是 MVC）。这涉及javascript，但仍然涉及服务器端事件。或者您需要编写一些代码覆盖 TextBox 事件，它确实涉及 javascript，只是您没有在页面上显式调用它。像这个[ASP.NET TextBox LostFocus 事件](https://stackoverflow.com/questions/1310902/asp-net-textbox-lostfocus-event)

# c# - 中继器控制：移动单个项目

> ID：13062716
> 
> 赞同：0
> 
> 时间：2012-10-25T06:20:22.840
> 
> 标签：c#, asp.net, data-binding, repeater

我有一个中继器控件绑定到一个通用的`List<>`.

中继器的物品都在自己的`<div>`标签中，因此它提供了良好的块视觉效果，以及所有物品的标准占位符。

通过自定义排序，我已经能够按照自己的标准排列结果，但现在我需要一些不标准的东西。

我需要能够在一个`<div>`块中获取选定的项目，并将其移动到中继器项目列表的底部或顶部。

我有什么办法可以做到这一点？通过绑定还是使用中继器的`repeater_ItemDataBound()`方法？

*代码很长。所以我会发布我认为“需要知道”的内容。*

**填充通用列表**

```
 while (rdr.Read())
                        {
                            challenge.Add(new ChallengeList
                                {
                                    GameName = rdr["gameName"].ToString(),
                                    CreatorName = rdr["creatorName"].ToString(),
                                    MediatorName = rdr["mediatorName"].ToString(),
                                    ChallengeID = rdr["challengeId"].ToString(),
                                    ChallengeAccepted = rdr["accepted"].ToString(),
                                    MatchDate = DateTime.Parse(rdr["matchDate"].ToString()).ToString("dd MMMM yyyy hh:mm")
                                });
                        } 
```

**-相同的方法-对数据进行排序，然后绑定**

```
 switch (sort)
    {
        case "name":
            Comparison<ChallengeList> name = ChallengeList.CompareGameName;
            challenge.Sort(name);
            break;

        case "date":
            Comparison<ChallengeList> date = ChallengeList.CompareDate;
            challenge.Sort(date);
            break;

        case "status":
            Comparison<ChallengeList> status = ChallengeList.CompareStatus;
            challenge.Sort(status);
            break;
    }

    rptChallenges.DataSource = challenge;
    rptChallenges.DataBind(); 
```

**通用列表类（带排序）**

```
/// <summary>
/// Class ChallengeList
/// With sorting
/// </summary>
public class ChallengeList
{
    /// <summary>
    /// Compares the name of the game.
    /// </summary>
    /// <param name="game1">The game1.</param>
    /// <param name="game2">The game2.</param>
    /// <returns>System.Int32.</returns>
    public static int CompareGameName(ChallengeList game1, ChallengeList game2)
    {
        return String.Compare(game1.GameName, game2.GameName, StringComparison.Ordinal);
    }

    /// <summary>
    /// Compares the status.
    /// </summary>
    /// <param name="status1">The status1.</param>
    /// <param name="status2">The status2.</param>
    /// <returns>System.Int32.</returns>
    public static int CompareStatus(ChallengeList status1, ChallengeList status2)
    {
        return string.Compare(status1.ChallengeAccepted, status2.ChallengeAccepted, StringComparison.Ordinal);
    }

    /// <summary>
    /// Compares the date.
    /// </summary>
    /// <param name="date1">The date1.</param>
    /// <param name="date2">The date2.</param>
    /// <returns>System.Int32.</returns>
    public static int CompareDate(ChallengeList date1, ChallengeList date2)
    {
        return string.Compare(date1.MatchDate, date2.MatchDate, StringComparison.Ordinal);
    }

    /// <summary>
    /// Compares the date reverse.
    /// </summary>
    /// <param name="date2">The date2.</param>
    /// <param name="date1">The date1.</param>
    /// <returns>System.Int32.</returns>
    public static int CompareDateReverse(ChallengeList date2, ChallengeList date1)
    {
        return string.Compare(date1.MatchDate, date2.MatchDate, StringComparison.Ordinal);
    }

    /// <summary>
    /// Gets or sets the name of the game.
    /// </summary>
    /// <value>The name of the game.</value>
    public string GameName { get; set; }
    /// <summary>
    /// Gets or sets the name of the creator.
    /// </summary>
    /// <value>The name of the creator.</value>
    public string CreatorName { get; set; }
    /// <summary>
    /// Gets or sets the name of the mediator.
    /// </summary>
    /// <value>The name of the mediator.</value>
    public string MediatorName { get; set; }
    /// <summary>
    /// Gets or sets the challenge ID.
    /// </summary>
    /// <value>The challenge ID.</value>
    public string ChallengeID { get; set; }
    /// <summary>
    /// Gets or sets the challenge accepted.
    /// </summary>
    /// <value>The challenge accepted.</value>
    public string ChallengeAccepted { get; set; }
    /// <summary>
    /// Gets or sets the match date.
    /// </summary>
    /// <value>The match date.</value>
    public string MatchDate { get; set; }
} 
```

**我的问题在现实世界中的应用** 如果存在“粘性”匹配 - 无论日期、状态或名称如何，它都必须出现在匹配的顶部

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T07:20:32.140

我建议您在看到同上中继器之前对列表中的数据进行排序。如果由于您的数据结构和/或转发器的项目模板无法做到这一点，您能否提供数据和转发器的样本，以便我们进一步提供帮助？

**提问者发布代码后编辑**

而不是将挑战设置为转发器的数据源，您应该将需要位于列表顶部的所有项目分隔到一个新列表中，然后将其他其他项目附加到顶部项目的末尾。

像这样的东西：

```
var topItmes = new List<ChallengeList>();
var otherItmes = new List<ChallengeList>();

foreach (var item in challenge)
{
    if(/*item needs to be on top*/)
    {
        topItmes.Add(item);
    }
    else
    {
        otherItmes.Add(item);
    }
}

topItmes.AddRange(otherItmes); 
```

根据项目位于顶部的条件，您可以使用 LINQ 表达式来简化此代码。

# c# - 查询两个 DataTable 中的重复行？

> ID：13062720
> 
> 赞同：2
> 
> 时间：2012-10-25T06:20:37.963
> 
> 标签：c#, asp.net, sql-server, datatable, match

我有一个带有列的 excel 表：

```
Id,Data 
```

我在 sql server 数据库中有一个表：

```
Id,Data 
```

我已经派生了两个不同的行`DataTables`，现在我想检测 excel 和数据库表中常见的行并将重复项存储在另一个中`DataTable`。像这样的东西：

```
OleDbCommand command1 = new OleDbCommand("select * from [Sheet1$]",connection);
DataTable dt2 = new DataTable();
try
{
    OleDbDataAdapter da2 = new OleDbDataAdapter(command1);
    da2.Fill(dt2);
}
catch { } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:28:02.263

尝试使用这样的 linq 方式

```
var matched = from table1 in dt1.AsEnumerable()
               join table2 in dt2.AsEnumerable() on 
             table1.Field<int>("ID") equals table2.Field<int>("ID")
             where table1.Field<string>("Data") == table2.Field<string>("Data")
             select table1; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T06:32:35.437

如果你想找到重复的，你可以试试这个

```
var result = table1.AsEnumerable().Intersect(table2.AsEnumerable()).Select(x => x); 
```

如果你想从联合中消除重复，你可以试试这个

```
var result = table1.AsEnumerable().Union(table2.AsEnumerable()).Select(x => x); 
```

# php - 如何计算两个地址之间的距离

> ID：13062721
> 
> 赞同：4
> 
> 时间：2012-10-25T06:20:37.490
> 
> 标签：php, api, openstreetmap, street-address

我想计算两点之间的距离。点是地址。

例子：

A点：*美国纽约州纽约肯尼迪国际机场*

B点：*拉瓜迪亚，纽约，纽约，美国*

现在我想计算 A 点和 B 点之间的距离（通过道路）和旅行时间。

我怎样才能做到这一点？是否可以使用谷歌地图 API？你会如何处理这个问题？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2013-11-22T11:50:12.720

```
<?php 
$from = "sr nagar,hyderabad";
$to = "kukatpalle,hyderabad";
$from = urlencode($from);
$to = urlencode($to);
$apiKey= "";  
$data = file_get_contents("http://maps.googleapis.com/maps/api/distancematrix/json?origins=$from&destinations=$to&key=$apiKey&language=en-EN&sensor=false");
$data = json_decode($data);
$time = 0;
$distance = 0;
foreach($data->rows[0]->elements as $road) {
    $time += $road->duration->value;
    $distance += $road->distance->value;
}
echo "To: ".$data->destination_addresses[0];
echo "<br/>";
echo "From: ".$data->origin_addresses[0];
echo "<br/>";
echo "Time: ".$time." seconds";
echo "<br/>";
echo "Distance: ".$distance." meters";
?> 
```

注意：上面你需要公里和时间 h:m 格式只需替换为

```
$time      = $road->duration->text;
$distance  = $road->distance->text; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-18T09:32:17.843

您可以使用 Google Maps API 和 PHP 来计算两个地址之间的距离。

```
$addressFrom = 'Insert from address';
$addressTo = 'Insert to address';
$distance = getDistance($addressFrom, $addressTo, "K");
echo $distance; 
```

getDistance() 函数可以从这里找到 - [http://www.codexworld.com/distance-between-two-addresses-google-maps-api-php/](http://www.codexworld.com/distance-between-two-addresses-google-maps-api-php/)

# google-app-engine - appengine struts 2.3.4.1 错误（struts 试图重新加载服务器）

> ID：13062722
> 
> 赞同：3
> 
> 时间：2012-10-25T06:20:39.243
> 
> 标签：google-app-engine, struts2, file-permissions, accesscontrolexception

我在我的 struts 2.3.4.1 AppEngine 1.7.2 (GAE) 项目中遇到了这个问题。似乎struts正在尝试重新加载服务器，并且被appEngine禁止。

我用谷歌搜索了这个问题，但只发现 struts2.1.8 版本错误修复由 struts2.1.6 更改。

**网页.xml：**

```
<web-app xmlns="http://java.sun.com/xml/ns/javaee" version="2.5">
<display-name>LifeMusic</display-name>

<filter>
  <filter-name>struts2</filter-name>
  <filter-class>org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter</filter-class>
</filter>

<filter-mapping>
  <filter-name>struts2</filter-name>
   <url-pattern>*.action</url-pattern>
</filter-mapping>   

<welcome-file-list>
    <welcome-file>home.jsp</welcome-file>
    <welcome-file>index.htm</welcome-file>
    <welcome-file>index.jsp</welcome-file>
</welcome-file-list> 
```

**WEB-INF/lib 上的库：**

> appengine-api-1.0-sdk-1.7.2.1.jar
> appengine-api-labs.jar
> appengine-api-labs-1.7.2.1.jar
> appengine-endpoints.jar
> appengine-jsr107cache-1.7.2.1.jar
> commons-fileupload-1.2 .2.jar
> commons-io-2.0.1.jar
> commons-lang3-3.1.jar
> datanucleus-appengine-1.0.10.final.jar
> datanucleus-core-1.1.5.jar
> datanucleus-jpa-1.1.5.jar
> freemarker -2.3.19.jar
> geronimo-jpa_3.0_spec-1.1.1.jar
> geronimo-jta_1.1_spec-1.1.1.jar
> gwt-servlet.jar
> javassist-3.11.0.GA.jar
> jdo2-api-2.3-eb。 jar
> jsr107cache-1.1.jar
> log4j-1.2.15.jar
> mail.jar
> ognl-3.0.5.jar
> struts2-core-2.3.4.1.jar
> xwork-core-2.3.4.1.jar

**堆栈跟踪错误：**

```
java.security.AccessControlException: access denied ("java.io.FilePermission" "jar:file:\G:\Proyectos\LifeMusic\war\WEB-INF\lib\struts2-core-2.3.4.1.jar" "read")<br/>
at java.security.AccessControlContext.checkPermission(AccessControlContext.java:366)<br/>
at java.security.AccessController.checkPermission(AccessController.java:555)<br/>
at java.lang.SecurityManager.checkPermission(SecurityManager.java:549)<br/>
at com.google.appengine.tools.development.DevAppServerFactory$CustomSecurityManager.checkPermission(DevAppServerFactory.java:289)<br/>
at java.lang.SecurityManager.checkRead(SecurityManager.java:888)<br/>
at java.util.zip.ZipFile.<init>(ZipFile.java:205)<br/>
at java.util.zip.ZipFile.<init>(ZipFile.java:144)<br/>
at java.util.jar.JarFile.<init>(JarFile.java:152)<br/>
at java.util.jar.JarFile.<init>(JarFile.java:89)<br/>
at com.opensymphony.xwork2.util.fs.JarEntryRevision.needsReloading(JarEntryRevision.java:36)<br/>
at com.opensymphony.xwork2.util.fs.DefaultFileManager.fileNeedsReloading(DefaultFileManager.java:68)<br/>
at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.needsReload(XmlConfigurationProvider.java:346)<br/>
at org.apache.struts2.config.StrutsXmlConfigurationProvider.needsReload(StrutsXmlConfigurationProvider.java:169)<br/>
at com.opensymphony.xwork2.config.ConfigurationManager.needReloadContainerProviders(ConfigurationManager.java:203)<br/>
at com.opensymphony.xwork2.config.ConfigurationManager.conditionalReload(ConfigurationManager.java:177)<br/>
at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:72)<br/>
at org.apache.struts2.dispatcher.Dispatcher.getContainer(Dispatcher.java:901)<br/>
at org.apache.struts2.dispatcher.ng.PrepareOperations.createActionContext(PrepareOperations.java:78)<br/>
at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:78)<br/>
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)<br/>
at com.google.appengine.api.socket.dev.DevSocketFilter.doFilter(DevSocketFilter.java:74)<br/>
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)<br/>
at com.google.appengine.tools.development.ResponseRewriterFilter.doFilter(ResponseRewriterFilter.java:110)<br/>
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)<br/>
at com.google.appengine.tools.development.HeaderVerificationFilter.doFilter(HeaderVerificationFilter.java:34)<br/>
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)<br/>
at com.google.appengine.api.blobstore.dev.ServeBlobFilter.doFilter(ServeBlobFilter.java:61)<br/>
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)<br/>
at com.google.apphosting.utils.servlet.TransactionCleanupFilter.doFilter(TransactionCleanupFilter.java:43)<br/>
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)<br/>
at com.google.appengine.tools.development.StaticFileFilter.doFilter(StaticFileFilter.java:125)<br/>
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)<br/>
at com.google.appengine.tools.development.BackendServersFilter.doFilter(BackendServersFilter.java:97)<br/>
at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)<br/>
at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)<br/>
at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)<br/>
at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)<br/>
at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)<br/>
at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)<br/>
at com.google.appengine.tools.development.DevAppEngineWebAppContext.handle(DevAppEngineWebAppContext.java:94)<br/>
at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)<br/>
at com.google.appengine.tools.development.JettyContainerService$ApiProxyHandler.handle(JettyContainerService.java:380)<br/>
at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)<br/>
at org.mortbay.jetty.Server.handle(Server.java:326)<br/>
at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)<br/>
at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:923)<br/>
at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:547)<br/>
at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)<br/>
at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)<br/>
at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)<br/>
at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)<br/> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T14:42:18.023

在 struts.properties 中将此属性设置为 false：

struts.configuration.xml.reload=false
struts.devMode = false
struts.i18n.reload=false

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-08T20:25:48.437

给定的解决方案对我不起作用，相反我必须创建一个自定义插件来覆盖默认的 FileManager 和 FileManagerFactory 实现：[https ://stackoverflow.com/a/20458563/313113](https://stackoverflow.com/a/20458563/313113)

# android - 如何在没有 adb shell 的情况下在 android 中运行二进制文件

> ID：13062729
> 
> 赞同：2
> 
> 时间：2012-10-25T06:21:31.027
> 
> 标签：android, adb

当您在 adb shell 中运行二进制文件时，如果您退出 adb，则该过程也结束了。

那么有没有办法在没有 adb 帮助的情况下运行二进制文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-26T23:07:40.797

如果您的设备上安装了busybox，那么您可以使用'busybox nohup [your binary] &' 命令。这样，即使您关闭 adb，它也会继续运行

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-05-18T01:01:35.887

这对我有用：

```
sh -c "your-binary-or-command" & 
```

然后你可以通过按 ctrl+D 退出 adb shell，它会继续运行。

然后你可以通过返回 adb shell 来杀死它

```
kill -s KILL <PID> 
```

# python - 如何在 python 注释中包含超长 URL

> ID：13062745
> 
> 赞同：6
> 
> 时间：2012-10-25T06:22:35.080
> 
> 标签：python, url, comments

在创建 python 代码并遵守[PEP8 样式指南](http://www.python.org/dev/peps/pep-0008/)时，在注释中引用长 URL 时，可能无法将行长度限制为 79 个字符：

```
def foo():
    # see http://stackoverflow.com/questions/13062540/replacing-text-using-regular-expression-in-python-with-named-parameters
    do_something() 
```

在实际代码中，当 URL 注释与代码左侧的空白缩进区域重叠时，这看起来很难看。有没有办法以更好的方式处理这个问题，而我仍然可以轻松地复制和粘贴 URL 以将其放入网络浏览器？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:27:46.763

在许多可能的方式中，在关闭引号后在行尾使用 \

```
url = "http://stackoverflow" \
      ".com"

response = urllib2.urlopen(url)
print response.read() 
```

如果您将诸如 url 之类的字段拆分为多行并希望以更简单的方式将其复制回来，请使用多行字符串，即在整个 url 的开头和结尾都用 3 个双引号括起来。然后它们可以跨越任意数量的行。

编辑：我写了多行评论，评论中建议并已修复

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2022-01-26T11:38:30.363

## 我正在使用 VS Code，您有 2 个选项：

1.  将鼠标悬停在链接上并弹出一个带有要按下的链接的弹出窗口。
2.  在评论本身的 URL 上按“选项”+“单击”。

[![例子](../Images/442deeb6c0ee310daf745f5445e9bc7b.png)](https://i.stack.imgur.com/iGPEJ.png)

# sed - sed 删除多行

> ID：13062746
> 
> 赞同：1
> 
> 时间：2012-10-25T06:22:38.797
> 
> 标签：sed, lines

用 sed 删除多行我没有什么问题。我阅读了很多指南和讨论，但都没有帮助。我有一个 xml 文件，我需要删除这三行的更多出现：

```
<function type="class">
   <arg name="class.name">com.mycompany.name.UnLockIssueFunction</arg>
</function> 
```

我想只删除 之间的部分`<function>`，但还有更多这样的标签。我的 xml 文件看起来像这样

```
<post-functions>
  <function type="class">
    <arg name="class.name">com.mycompany.name.function.issue.UpdateIssueStatusFunction</arg>
  </function>
  <function type="class">
    <arg name="class.name">com.mycompany.name.function.misc.CreateCommentFunction</arg>
  </function>
  <function type="class">
    <arg name="class.name">com.mycompany.name.function.issue.GenerateChangeHistoryFunction</arg>
  </function>
  <function type="class">
    <arg name="class.name">com.mycompany.name.function.issue.IssueReindexFunction</arg>
  </function>
  <function type="class">
    <arg name="class.name">com.mycompany.name.function.event.FireIssueEventFunction</arg>
    <arg name="eventTypeId">13</arg>
  </function>
  <function type="class">
    <arg name="class.name">com.mycompany.name.UnLockIssueFunction</arg>
  </function>
</post-functions> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T06:54:25.990

这可能对您有用（GNU sed）：

```
sed '/<function type="class">/!b;N;N;/<function type="class">\s*\n\s*<arg name="class.name">com.mycompany.name.UnLockIssueFunction<\/arg>\s*\n\s*<\/function>/d' file 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T07:03:13.993

当您进行更高级的编辑时，更高级的编辑器可能会有所帮助。尝试阅读 VIM 中的脚本并查看以下问题：

[搜索和删除多行](https://stackoverflow.com/questions/2070120/search-and-delete-multiple-lines)

[VIM：全局匹配行，删除此行和以下 2 行](https://stackoverflow.com/questions/2691605/vim-globally-match-line-delete-this-and-2-following-lines)

# sql-server - SQL Server 2012 到 2008 连接

> ID：13062749
> 
> 赞同：0
> 
> 时间：2012-10-25T06:22:48.133
> 
> 标签：sql-server

我已经安装了 SQL Server 2012。

我正在尝试使用 SQL Server Management Studio 2012 连接到 SQL Server 2008 实例，但是当我尝试连接时出现错误

> *无法连接到 PC221327\SQLSERVER。*
> 
> *建立与 SQL Server 的连接时发生与网络相关或特定于实例的错误。服务器未找到或无法访问。验证实例名称是否正确以及 SQL Server 是否配置为允许远程连接。（提供者：SQL 网络接口，错误：26 - 错误定位服务器/指定的实例）（.Net SqlClient 数据提供者）*

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T06:58:47.673

尝试检查两件事：

1.  服务器启动了吗？去 services.msc 查看服务器是否正在运行
2.  服务器是否在侦听命名管道？从开始菜单转到 SQL 配置管理器并检查网络配置，然后检查协议

该错误与 SQL Server 的版本无关。

# django - Django Tastypie：将多个模型添加到单个 Tastypie 资源

> ID：13062750
> 
> 赞同：2
> 
> 时间：2012-10-25T06:23:01.280
> 
> 标签：django, django-models, tastypie

我的 Django 应用程序中有以下模型。BasicInfo 和 AddressInfo 表使用 Customer 表的 id 列链接到 Customer 表，该列是这些表中的 customer_id 列。

对于每个客户，AddressInfo 或 BasicInfo 表中可以有多个条目。

```
class Customer(models.Model):
    id = models.IntegerField(primary_key=True)
    joining_dtm = models.DateTimeField()
    isactive = models.IntegerField()

    class Meta:
        db_table = u'Customer'

class Addressinfo(models.Model):
    id = models.IntegerField(primary_key=True)
    apt_num = models.CharField(max_length=135, blank=True)
    street = models.CharField(max_length=135, blank=True)
    street_2 = models.CharField(max_length=135, blank=True)
    city = models.CharField(max_length=135, blank=True)
    country = models.CharField(max_length=135, blank=True)
    postalcode = models.CharField(max_length=135, blank=True)
    customer_id = models.ForeignKey(Customer)

    class Meta:
        db_table = u'AddressInfo'

class Basicinfo(models.Model):
    id = models.IntegerField(primary_key=True)
    name = models.CharField(max_length=135, blank=True)
    about = models.CharField(max_length=135, blank=True)
    website = models.CharField(max_length=135, blank=True)
    customer_id = models.ForeignKey(Customer)

    class Meta:
        db_table = u'BasicInfo' 
```

如何创建一个单一的 Tastypie 资源，使我能够将所有客户表作为 API 提供。

对于 id 为 12 的客户，资源返回的 json 对象可能类似于以下内容，

```
{
   "id": 12, 
   "joining_dtm": "2012-10-25T07:06:54.041528", 
   "resource_uri": "/public-api/api/v0.1a/customer/1/", 
   "AddressInfo": [
      {    
          "id":22,
          "apt_num": "54",
          "street": "Avondale Place",
          "street_2": "",
          "city": "Chicago",
          "country": "India",
          "postalcode": "600059",
          "customer_id": 12
       },
      {
          "id":96,
          "apt_num": "11",
          "street": "Infinite Loop",
          "street_2": "",
          "city": "Cupertino",
          "country": "USA",
          "postalcode": "123456",
          "customer_id": 12
       }
    ],

   "BasicInfo": [
      {
          "id": 33,
          "name": "My Full Name",
          "about": "Blah Blah Blah",
          "website": "http://google.com",
          "customer_id": 12
       },
      {
          "id": 147,
          "name": "My New Name",
          "about": "More Blah Blah",
          "website": "http://gmail.com",
          "customer_id": 12

       }
    ]
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T07:35:54.847

如果您只是要求列出所有客户的 API：

```
/public-api/api/v0.1a/customer/?format=json 
```

应该给你那个。否则，以下是我假设您要问的内容-查看客户端点时如何设置资源以显示基本信息/地址信息

在您的 api.py 中：

```
class CustomerResource(ModelResource):
    # The 2nd parameter is tricky:
    # Try suffixing with nothing, 's', or '_set'
    # e.g. 'addressinfo', 'addressinfos', 'addressinfo_set'
    addressinfos = fields.ToManyField('your_app_name.api.AddressInfoResource', 'addressinfo_set', Full=True)
    basicinfos = fields.ToManyField('your_app_name.api.BasicInfoResource', 'basicinfo_set', Full=True)

    class Meta:
        queryset = Customer.objects.all()
        resource_name = 'customer'

class AddressInfoResource(ModelResource):

    class Meta:
        queryset = Addressinfo.objects.all()
        resource_name = 'addressinfo'

class BasicInfoResource(ModelResource):

    class Meta:
        queryset = Basicinfo.objects.all()
        resource_name = 'basicinfo' 
```

当然，根据需要在这些资源中的每一个上添加身份验证/授权。

# objective-c - 当我从源代码解析 HTML 文本时，段落之间存在任意空格

> ID：13062751
> 
> 赞同：0
> 
> 时间：2012-10-25T06:23:02.470
> 
> 标签：objective-c, html-parsing

我将网站的源代码存储到字符串中，并成功删除了所有 html 标签。但是，段落之间存在随机空格。有时只有一行，有时是 4 或 5 行。

这是我所做的

```
- (NSString *)parseHTMLText:(NSString *)text {

    NSString *startingPt = @"<!-- (START) Pagination Content Wrapper -->";
    NSString *endingPt = @"<!-- (END) Pagination Content Wrapper -->";

    //isolate body text from entire source code
    NSString *leftTrimmed = [text substringFromIndex:NSMaxRange([text rangeOfString:startingPt])] ;
    NSString *completeTrimmed = [leftTrimmed substringToIndex:[leftTrimmed rangeOfString:endingPt].location];
    completeTrimmed = [completeTrimmed stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];

    completeTrimmed =  [self removeHTMlTagsFromString:completeTrimmed];
    completeTrimmed = [completeTrimmed stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];

    return completeTrimmed; 

}

- (NSString *)removeHTMlTagsFromString:(NSString *)text {

    //check if there are any html tags

    if ([text rangeOfString:@"<"].location != NSNotFound && [text rangeOfString:@">"].location != NSNotFound) {
        //find first index of "<"
        int startIndex = [text rangeOfString:@"<"].location;
        NSString *startOfTag =  [text substringFromIndex:startIndex];
        // find length to ">"
        int length = [startOfTag rangeOfString:@">"].location + 1;
        text = [text stringByReplacingCharactersInRange:NSMakeRange(startIndex, length) withString:@""];

        text = [self removeHTMlTagsFromString:text];
    }

    return text;

} 
```

我试过这个，但它不起作用

```
completeTrimmed = [completeTrimmed stringByReplacingOccurrencesOfString:@"     " withString:@""]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T06:30:10.133

如果原始 HTML 看起来像：

```
<tag1>
<tag2>
<tag3>
text text text
</tag3>
</tag2>
</tag1> 
```

然后，当您删除所有标签时，您仍然会有分隔它们的换行符。

使用 DOM 解析库而不是原始字符串函数，您的问题应该得到解决。

# html - 在 IE7 的父 DIV 中垂直对齐 DIV

> ID：13062753
> 
> 赞同：0
> 
> 时间：2012-10-25T06:23:06.990
> 
> 标签：html, css, vertical-alignment

想知道是否可以在父 DIV 中垂直对齐 X 个 DIV。

所有 DIV 都没有固定高度。

在除 IE7 之外的所有浏览器中工作。

![图解示例](../Images/f6b7c4d0586fd3e35e84d2d1e6d01d1c.png)

```
<div class="parent">
     <div class="left">
         Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed ac faucibus nisi. Proin nec eros est, vitae rhoncus purus.
     </div>
     <div class="right">
         <img src="image.gif" width="50" height="50">
     </div>
</div>
.parent {
   display: table;
   vertical-align: middle;

}
.left, .right {
   display: table-cell;
   vertical-align: middle;
 } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:38:55.967

IE7不支持`display: table-cell;`属性，IE8+支持

[**检查其兼容性**](http://caniuse.com/#search=table-cell)

编辑：

作为一种解决方法，您可以选择 jQuery -

```
$(function() {
// vertical align function
$.fn.vAlign = function() {
    return this.each(function(i){
        var ah = $(this).height();
        var ph = $(this).parent().height();       
        var mh = Math.ceil((ph-ah) / 2); //var mh = (ph - ah) / 2;
        $(this).css('margin-top', mh);
    });
};

$('.greenBorder img').vAlign();
//
}); 
```

[**参考这篇文章**](http://dipaksblogonline.blogspot.in/2011/02/div-content-vertical-align-centermiddle.html)

# ios6 - 标签栏视图控制器中自定义视图的自动调整大小掩码不起作用

> ID：13062757
> 
> 赞同：0
> 
> 时间：2012-10-25T06:23:26.670
> 
> 标签：ios6, autoresize

我在标签栏视图控制器中有一个自定义视图。我已经为自定义视图设置了自动调整大小掩码，但它没有在 iphone 5 屏幕上对齐。在 iphone 4 屏幕上看起来不错。我在标签栏视图控制器的视图中确实加载了此代码。

```
self.customBadge = [CustomBadge customBadgeWithString:[AppGlobals sharedInstance].badgeNumber];

     self.customBadge.frame = CGRectMake(165, 420,  self.customBadge.frame.size.width,  self.customBadge.frame.size.width);
    self.customBadge.autoresizingMask = UIViewAutoresizingFlexibleTopMargin;
    [self.view addSubview: self.customBadge]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-11-05T08:25:57.783

似乎您正在根据 TabBar 的整个视图（大多数屏幕）添加带有坐标的徽章

尝试：

1.  添加徽章作为标签栏视图本身的子视图（您可能希望将框架的 Y 从 420 降低到大约 5-10）：

    `[self.tabBar addSubview:self.customBadge];`

2.  如果 (1) 不适合您，您可以尝试硬编码 y 值（**这是不好的做法**，但如果您遇到困难 - 它应该可以）：

    `#define VALUE_BY_SCREEN_HEIGHT(regular, longScreen) (([[UIScreen mainScreen] bounds].size.height <= 480.0) ? regular : longScreen)`

    ...

    `self.customBadge.frame = CGRectMake(165, VALUE_BY_SCREEN_HEIGHT(420,508), self.customBadge.frame.size.width, self.customBadge.frame.size.width);`

# java - 我可以更改持久性单元的 @GeneratedValue 中 GenerationType 的默认 (AUTO) 值吗？

> ID：13062759
> 
> 赞同：2
> 
> 时间：2012-10-25T06:23:34.570
> 
> 标签：java, hibernate, jpa

我正在为连接到数据库的应用程序的服务器部分编写 junit 测试。我们通常的策略是放入覆盖默认文件的`src/test/resources/`新`META-INF/persistence.xml`文件，以便测试不会连接到 Oracle 数据库，而是连接到 hsqldb。

这是我的问题 - 其中一个实体的字段定义如下：

```
@Id
@Column(name = "ID", nullable = false)
@SequenceGenerator(name="sequence", sequenceName="sequence")
@GeneratedValue(generator="sequence")
protected Integer id; 
```

在应用程序的标准运行期间，它工作正常 - 我没有为 @GeneratedValue 定义特定策略，因此`GenerationType.AUTO`根据[http://docs.oracle.com/javaee/5/api/javax/persistence/GenerationType，它默认为哪个策略。 html#AUTO](http://docs.oracle.com/javaee/5/api/javax/persistence/GenerationType.html#AUTO)，让持久性提供者根据下面的数据库决定使用哪种策略，因为通常它是 Oracle 和 Oracle 的默认生成器策略是`GenerationType.SEQUENCE`.

但是当我运行测试时，我得到：

```
[junit] Testcase: xxx.TestCase took 0 sec
[junit]     Caused an ERROR
[junit] "xxx.Entity.id" declares generator name "sequence", but uses the AUTO generation type.  The only valid generator names under AUTO are "uuid-hex" and "uuid-string". 
```

根据[Hibernate @generatedvalue for HSQLDB](https://stackoverflow.com/questions/3596848/hibernate-generatedvalue-for-hsqldb)的评论， hsqldb 的默认策略是`GenerationType.IDENTITY`.

显而易见的解决方案是添加`strategy=GenerationType.SEQUENCE`到实体的字段定义中，但是 1）更改工作代码以适应测试用例通常是不好的做法 2）我没有完全访问或更改此实体的权限。因此，假设我无法改变我的下一个预感是在我们的测试中`META-INF/persistence.xml`放入persistece-unit 定义中的一些属性，这将告诉Hibernate 使用默认生成器策略`SEQUENCE`而不是数据库的默认值。

我可以这样做吗，如果可以，那我该怎么做，如果不能，我还能做什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T18:51:12.163

不，您不能更改整个持久性单元的默认值，但您可以覆盖 XML 映射中的策略：

```
@Entity
public class EntityA {
    @Id
    @GeneratedValue
    protected Integer id;
    ...
} 
```

META-INF 中的 orm.xml：

```
<?xml version="1.0" encoding="UTF-8"?>
<entity-mappings xmlns="http://java.sun.com/xml/ns/persistence/orm"
                 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                 xsi:schemaLocation="http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_2_0.xsd" version="2.0">
    <package>somepackage.somewhere</package>
    <entity class="EntityA" metadata-complete="false" access="FIELD">
        <attributes>
            <id name="id">
                <generated-value strategy="SEQUENCE"/>
             </id>
        </attributes>
    </entity>
</entity-mappings> 
```

在上面的示例*中 metadata-complete="false"*意味着那些未被覆盖的注释仍然适用。文件被完整粘贴，因为人们经常难以从多个来源复制粘贴。

例如，可以从[Hibernate 文档](http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html/xml-overriding.html)中找到有关覆盖映射的更多信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T07:17:29.443

确保`SEQUENCE`在数据库中做。

例子 ：

```
CREATE SEQUENCE example_sq START WITH 50 INCREMENT BY 50; 
```

使用`strategy=GenerationType.SEQUENCE`. [这里](http://tech.lds.org/wiki/Hibernate,_JPA,_and_Sequences)有更多参考。

```
@Id
@SequenceGenerator(name = "sequence", sequenceName = "sequence", allocationSize=50)
@GeneratedValue(strategy=GenerationType.SEQUENCE, generator="sequence")
protected Integer id; 
```

# iphone - 在 iphone 的 uiscrollview 中禁用向右滚动

> ID：13062760
> 
> 赞同：0
> 
> 时间：2012-10-25T06:23:36.350
> 
> 标签：iphone, image

如何在 iPhone 的滚动视图中禁用向左或向右滚动？

谁能给个code..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:30:28.560

```
 CGSize scrollableSize = CGSizeMake(320, myScrollableHeight);
[myScrollView setContentSize:scrollableSize]; 
```

您必须设置 UIScrollView 的 contentSize 属性。就像，如果你的 UIScrollView 是 320 像素宽（屏幕的宽度），那么你可以这样做

然后 UIScrollView 将仅垂直滚动。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T06:28:40.160

设置你的scrollview宽度320。它会

喜欢

```
[self.scrolview setFrame:CGRectMake(self.scrolview.frame.origin.x,self.scrolview.frame.origin.y,320,self.scrolview.frame.size.height)]; 
```

# java - 解释数学表达式...常量*变量的语法

> ID：13062762
> 
> 赞同：0
> 
> 时间：2012-10-25T06:23:40.243
> 
> 标签：java, math, graph, expression

如何解释数学表达式，例如：
`x^2+8x+16`

转换成 Java 可以理解的代码，例如
`x*x+8*x+16` ？

我知道仅使用 a 解析第一个代码是`ScriptEngine`行不通的，因为它不知道如何正确评估 8x。我该怎么办！？？

# javascript - 选择jquery插件修改

> ID：13062767
> 
> 赞同：0
> 
> 时间：2012-10-25T06:24:02.073
> 
> 标签：javascript, jquery, html

嗨，我想通过单击标签来更改下拉值。我创建了一个函数，它正在更改下拉值，但突出显示的类仍保留在上次选择的标签上。所以我的问题是当我们改变值时，类应该突出显示适当的选项。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T07:18:52.270

好的，不确定这是否是您要求的，但我试了一下。

看看这是不是你想要的。

[http://jsfiddle.net/7vkLv/3/](http://jsfiddle.net/7vkLv/3/)

我添加了

```
closest('div.chzn-container').addClass('chzn-container-active'); 
```

到您要更改数据的跨度。

# android - android前后摄像头捕获的图片方向问题，以错误的方式旋转

> ID：13062769
> 
> 赞同：17
> 
> 时间：2012-10-25T06:24:05.133
> 
> 标签：android, camera, orientation, nexus-s

我有一个纵向模式的相机应用程序，它从前端和后端相机拍摄照片。问题就像捕获的图像以错误的方式旋转......

对于预览，我使用了以下代码....

```
 Camera.Parameters parameters = camera.getParameters();
        android.hardware.Camera.CameraInfo info = new android.hardware.Camera.CameraInfo();
        android.hardware.Camera.getCameraInfo(defaultCameraId, info);
        int rotation = this.getWindowManager().getDefaultDisplay()
                .getRotation();
        if (Integer.parseInt(Build.VERSION.SDK) >= 8) {

            int degrees = 0;
            switch (rotation) {
            case Surface.ROTATION_0:
                degrees = 0;
                break;
            case Surface.ROTATION_90:
                degrees = 90;
                break;
            case Surface.ROTATION_180:
                degrees = 180;
                break;
            case Surface.ROTATION_270:
                degrees = 270;
                break;
            }
            int result;
            if (info.facing == Camera.CameraInfo.CAMERA_FACING_FRONT) {
                result = (info.orientation + degrees) % 360;
                result = (360 - result) % 360; // compensate the mirror
            } else { // back-facing
                result = (info.orientation - degrees + 360) % 360;
            }

            camera.setDisplayOrientation(result);

        } else {
            parameters.set("orientation", "portrait");
        }

        camera.setParameters(parameters); 
```

但是捕获的图像以错误的方式旋转。我也尝试使用旋转捕获的图像`matrix.postRotate(bitmap)`。这在像nexus这样的某些设备中也不起作用。我也尝试了EXIF。但是这里我有url而不是filepath。那也不行。谁能帮我 ？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-25T12:29:51.773

你可以参考下面的代码。

```
ExifInterface exif = new ExifInterface(SourceFileName);     //Since API Level 5

String exifOrientation = exif.getAttribute(ExifInterface.TAG_ORIENTATION); 
```

并参考此链接[https://stackoverflow.com/a/6124375/1441666](https://stackoverflow.com/a/6124375/1441666)

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-11-04T16:34:12.450

您可以使用它从`Uri`

```
 String filePath = mImageUri.getPath();
                if (filePath != null) {
                    rotation = -1;
                        ExifInterface exif = new ExifInterface(filePath); // Since
                                                                            // API
                                                                            // Level
                                                                            // 5
                        rotation = Integer.parseInt(exif.getAttribute(ExifInterface.TAG_ORIENTATION));
                        // //Log.v("roation",
                        // exif.getAttribute(ExifInterface.TAG_ORIENTATION));
                    }

                }
            } catch (Exception e) {
                Toast.makeText(getApplicationContext(), "Internal error", Toast.LENGTH_LONG).show();
                Log.e(e.getClass().getName(), e.getMessage(), e);
            } 
```

并且作为音符旋转 '3 = 180, 6 = 90, 8 = 270'

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-11-03T17:49:48.967

我为此使用以下代码：

```
ExifInterface exif = new ExifInterface(getUriPath(uri));
int orientation = exif.getAttributeInt(
                ExifInterface.TAG_ORIENTATION,
                ExifInterface.ORIENTATION_NORMAL); 
```

获取路径：

```
public String getUriPath(Uri uri) {
    String[] projection = { MediaStore.Images.Media.DATA };
    Cursor cursor = getContentResolver().query(uri, projection, null, null,
            null);
    if (cursor != null) {
        int column_index = cursor.getColumnIndexOrThrow(projection[0]);
        cursor.moveToFirst();
        String filePath = cursor.getString(column_index);
        cursor.close();
        return filePath;
    } else
        return null;
} 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-11-05T07:39:03.890

试试这个代码片段

```
try {

    ExifInterface exif = new ExifInterface(filePath);
    orientation = exif.getAttributeInt(ExifInterface.TAG_ORIENTATION, 1);
    //Toast.makeText(getApplicationContext(), ""+orientation, 1).show();
    Log.v("log", "ort is "+orientation);

    } catch (IOException e)
    {
        e.printStackTrace();
    } 
```

然后根据你得到的方向旋转矩阵

```
if (orientation==6)
{
    Matrix matrix = new Matrix();
    matrix.postRotate(90);
    bmp = Bitmap.createBitmap(bmp, 0, 0, bmp.getWidth(), bmp.getHeight(), matrix, true);
}
else if (orientation==8)
{
    Matrix matrix = new Matrix();
    matrix.postRotate(270);
    bmp = Bitmap.createBitmap(bmp, 0, 0, bmp.getWidth(), bmp.getHeight(), matrix, true);
}

else if (orientation==3)
{
    Matrix matrix = new Matrix();
    matrix.postRotate(180);
    bmp = Bitmap.createBitmap(bmp, 0, 0, bmp.getWidth(), bmp.getHeight(), matrix, true;
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-03-28T10:44:34.763

选定的答案只是给出了可能已保存在 EXIF 标头中的可能旋转。在某些情况下，相机未在 EXIFHeader 中设置“ExifInterface.TAG_ORIENTATION”属性，因此它将为 0（ExifInterface.ORIENTATION_UNDEFINED）。如果设置了事件，则在拍摄照片时仅在一种情况/方向上为真。您必须使用 setRotation() 方法在相机参数中手动设置旋转。setRotation() 的文档非常清晰，还解释了如何在考虑设备旋转和相机传感器方向（通常是横向）的情况下计算旋转。

所以检查 setRotation() 方法。这就是你需要改变的。

# vb.net - 导入命名空间与导入选定的类

> ID：13062774
> 
> 赞同：0
> 
> 时间：2012-10-25T06:24:39.103
> 
> 标签：vb.net, namespaces

我正在做一个项目，我有一个类库，该库中有大约 50 个不同的类。在我的应用程序中，是导入特定表单或模块所需的特定类更好，还是只导入整个命名空间更好，即使我只需要几个类？在应用程序的过程中，我将全部使用它们，但每个表单或模块只会使用一些。

例如：

```
Imports ProjectClasses 'This namespace has approx 50 classes with in it

Public Class formMain
  Private Sub Form1_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load
    Dim objProject = New CProject
    Dim objElement = New CElement
  End Sub 
```

只导入特定类而不是整个命名空间会更好吗？

```
Imports ProjectClasses.CProject
Imports ProjectClasses.CElement

Public Class formMain
  Private Sub Form1_Load(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles MyBase.Load
    Dim objProject = New CProject
    Dim objElement = New CElement
  End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T06:43:39.323

听起来答案应该不是。您的库可能应该按区域/项目/功能分解，然后您应该导入特定项目所需的任何内容。

如果这不可行，那么导入整个命名空间——如果这会导致问题，你可能选择了一些错误的类名。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T18:15:55.603

最好的方法可能是创建您将使用的每个类的覆盖。并使用那些没有命名空间前缀的（因为它们无论如何都会在您当前的范围内）。如果您打算使用很多，您可以将它们分成功能组。

使用这种方法，如果您决定引入新功能，则只需执行一次。此外，如果您的控件供应商决定更改其工作方式，您可以添加兼容层，以便在升级到新版本时您的旧代码不会中断。全部在您的代码的一个地方完成。

当然，这取决于您将在这个项目上持续多长时间，它有多复杂，如果您的供应商是您自己等等。

# android - 在最小化我的应用程序并再次打开它时，为什么我的应用程序再次从启动屏幕启动？

> ID：13062776
> 
> 赞同：3
> 
> 时间：2012-10-25T06:24:44.743
> 
> 标签：android, android-activity, android-lifecycle

在我的应用程序中，从启动屏幕导航到另一个活动后，我通过按主页按钮将其最小化，然后再次打开我的应用程序，而不是从我上次进入的活动打开，它再次从启动屏幕启动。

你能告诉我为什么会这样吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-08-27T13:06:23.877

在您的场景中，安装应用程序后，如果您按下**OPEN**按钮，您的活动将被**带到未创建的前面**。**请在您的第一个活动**中粘贴以下代码并进行测试。这个对我有用。

```
@Override
protected void onCreate(Bundle savedInstanceState) {
  super.onCreate(savedInstanceState);

  if ((getIntent().getFlags() & Intent.FLAG_ACTIVITY_BROUGHT_TO_FRONT) != 0) {
    // Here activity is brought to front, not created,
    // so finishing this will get you to the last viewed activity
    finish();
    return;
  }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T18:29:02.740

正确地，您的应用程序已退出。如果您的应用程序需要大量内存，则该应用程序将被系统终止是很常见的。

# c++ - *这是什么奇怪的魔法？

> ID：13062778
> 
> 赞同：5
> 
> 时间：2012-10-25T06:24:47.497
> 
> 标签：c++

快速提问。我想了解 *this 在 C++ 中的行为。如果这太明显或重复，请原谅我，因为搜索引擎将 * 解释为通配符，我的搜索有点不够启发性。

我正在使用别人的代码，它有许多看起来像这样的函数：

（N 的类型是结构）

```
N N::someMethod() const {

    N n = *this;
    // do a function that modifies internal values of the struct
    n.modify();
    return n;

} 
```

发生的情况是它返回原始结构的修改副本，而原始结构未修改。

我假设不知何故*这是在制作副本，但我不明白为什么/如何。这与结构有关吗？它是函数声明中的 const 吗？幕后是否还有其他的魔法？

我的理解是'this'是一个指针。我以为当你 * 一个指针时，它只是取消引用该指针？（所以我希望 n 指向与原始内存相同的内存块，但显然它没有，所以我的直觉很糟糕）

如果您愿意，请随时指出我的方式的错误。没关系，我很聪明，可以深入了解引擎盖下发生的事情的详细技术讨论，我保证！

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-25T06:27:05.817

不，这是时间黎明前的魔法*（*一个隐约可见的纳尼亚参考）。它让人联想到 C 语言。

既然`this`只是一个指向当前对象的指针，`*this`就是对象本身，而这一行：

```
N n = *this; 
```

简单地复制所述对象。然后，它修改该副本并将其返回。

如果你想要一个指向同一个对象的*指针*的副本，那就是：

```
N *n = this; 
```

这与以下没有什么不同：

```
int xyzzy = 7;           // xyzzy holds 7.
int *pXyzzy = &xyzzy;    // the address of xyzzy.

int plugh = *pXyzzy;     // a *different* address, also holding 7.
int *pTwisty = pXyzzy;   // copy *address*, pXyzzy/pTwisty both point to xyzzy. 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-10-25T06:27:45.663

`*this`它本身不会进行任何复制，它只会使类型正确，用于将由 . 调用的复制构造函数`N n = ...`。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-10-25T06:27:10.740

的类型`this`是“指向 N 的指针”，因此`*this`，应用于的[取消引用运算符*](http://en.wikipedia.org/wiki/Dereference_operator)`this`是`N`。表达式中没有执行复制`*this`。它只是提供对指向的对象的引用`this`。

剩下的就是[拷贝初始化](http://www.gotw.ca/gotw/036.htm)，类似于

```
N n1;
N n2 = n1; // initialize n2 copying the value of n1 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-10-25T06:27:23.573

```
N n = *this; 
```

称为**复制初始化**。它通常会创建一个副本。

它通过尝试转换`*this`为 type 的对象来构造一个隐式转换序列`N`，然后*可以*将该对象复制到 to-initialized 对象中，从而导致对复制构造函数的调用。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-25T06:27:12.823

即使符号`=`存在，工作也由复制构造函数完成。

以下代码显示了其执行的一些回声：

```
#include <iostream>

class N {
public:

   N(){}

   N( const N & n ) {
      std::cout << "N( const N & n )" << std::endl;
   }

   N& operator = ( const N & n ) {
      std::cout << "N& operator = ( const N & n )" << std::endl;
      return *this;
   }

   N modify() const {
      std::cout << "modify|entry" << std::endl;
      N n2 = *this;
      std::cout << "modify|exit" << std::endl;
      return n2;
   }
};

int main() {
   N n1;
   n1.modify();
} 
```

有了这个输出：

```
modify|entry
N( const N & n )
modify|exit
N( const N & n ) 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-10-25T06:32:49.450

你是正确的，“this”是一个指针。如果有意义的话，“This”是指向您所在对象的实例的指针。

我相信问题出在“N n = *this”这一行。

您取消引用了指针并调用了复制构造函数。这是创建副本的行。

我相信您正在寻找的是更多类似以下内容的内容：

```
N * N::someMethod() {

    this->modify();
    return this;
} 
```

-> 运算符与写“(*this)”相同。

请注意，我将方法更改为返回指针，或者当您将此函数的返回值分配给其他对象时，您可能最终会再次调用复制构造函数。

此外，除非 modify 也是一个 const 方法（根据名称，这似乎不太可能），否则您不应该将 someMethod 编写为 const 方法。（您不能在 const 方法中更改对象的逻辑内容。）

# java - 为什么整个 Horizo ntalFieldManager 都是可点击的？

> ID：13062784
> 
> 赞同：0
> 
> 时间：2012-10-25T06:25:14.973
> 
> 标签：java, blackberry, blackberry-eclipse-plugin, blackberry-jde

我在 MainScreen 的 setStatus 方法上添加了按钮。现在整个 HFM 都是可点击的，我不知道为什么？请指导。这是代码：

```
 setStatus(setFooter());
    ...
    public Field setFooter() {

            HorizontalFieldManager hfm1 = new HorizontalFieldManager(USE_ALL_WIDTH|Manager.NO_HORIZONTAL_SCROLL|Manager.NO_HORIZONTAL_SCROLLBAR);

            Bitmap bm;
            bm = Bitmap.getBitmapResource("statusImage.PNG");
            Background bg = BackgroundFactory.createBitmapBackground(bm, Background.POSITION_X_LEFT, Background.POSITION_Y_BOTTOM, Background.REPEAT_SCALE_TO_FIT);
            hfm1.setBackground(bg);
            hfm1.add(new DummyField(bm.getHeight()));
            hfm1.add(backButton);
            hfm1.add(nextButton);

            return hfm1;
            } 
```

虚拟字段：

```
class DummyField extends Field {
    private int logoHeight;

    public DummyField(int height) {
        logoHeight = height;
    }

    protected void layout(int width, int height) {
        setExtent(1, logoHeight);
    }

    protected void paint(Graphics graphics) {
    }
} 
```

我还重写了这些方法（[lionscribe implementation](http://supportforums.blackberry.com/t5/Java-Development/navigationClick-invoked-when-clicking-outside-of-a-field/m-p/270517#M45052)）以避免 HFM 被点击，但它不起作用：

```
protected boolean touchEvent(TouchEvent message)
    {
     int event = message.getEvent();
     if (event == TouchEvent.CLICK || event == TouchEvent.UNCLICK)
     {
      // Ignore clcik events that happen outside any fields
      if (getFieldAtLocation(message.getX(1), message.getY(1)) == -1)
       return true;    // kill the event
     }
     return super.touchEvent(message);
    }

    // The regular getFieldAtLocation returns wrong values in open spaces in complex managers, so we override it
    public int getFieldAtLocation(int x, int y)
    {
     XYRect rect = new XYRect();
     int index = getFieldCount() -1;
     while (index >= 0)
     {
      getField(index).getExtent(rect);
      if (rect.contains(x, y))
       break;
      --index;
     }
     return index;
    } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T06:05:52.453

我能够在[Peter 的帖子](http://supportforums.blackberry.com/t5/Java-Development/How-to-avoid-HorizontalFieldManager-from-being-clicked/m-p/1966147#M210711)的帮助下修复它，如果字段边界条件返回 false， 我必须覆盖`touchEvent`我内部的方法`CustomButtonField`并在其中调用：`navigationClick`

```
if(!( x < 0 || y < 0 || x > getExtent().width || y > getExtent().height )) {
   navigationClick(x,y);
} 
```

# linux - ls 在目录中获取文件列表

> ID：13062789
> 
> 赞同：1
> 
> 时间：2012-10-25T06:25:43.197
> 
> 标签：linux, shell, unix, ls

我有一个 C 代码库，都位于同一个目录中。我想找到所有具有相同名称的代码文件的头文件。

现在，我有以下命令：

```
ls *.h | sed s/.h/.c/ 
```

这将返回我要搜索的文件名的“列表”。如何将此列表传递给另一个命令，以便我可以查看哪些头文件具有共享相同名称的代码文件？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-25T06:31:13.523

没有任何外部命令：

```
$ for i in *.h
> do
>   [ -f  ${i/.h/.c} ] && echo $i
> done 
```

第一行遍历每个文件。

第三行是一个测试构造。(aka )的`-f`标志检查文件是否存在。如果是，则返回（在 shell 中被认为是真的）。如果上一行成功返回，则只有以下命令才会运行。`test``man [``0``&&`

${i/.h/.c} 是就地 in-shell 正则表达式替换，因此测试的文件是 .h 对应的 .c。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-25T06:30:10.500

您可以使用 xargs 来转换其输入：

```
a
b
c 
```

到参数列表：

```
a b c 
```

所以这应该打印“ab c”：

```
echo -e "a\nb\nc" | xargs echo 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-25T06:30:15.377

```
ls `ls *.h|sed s/.h/.c/` 2>/dev/null 
```

应该做的伎俩

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-25T06:30:30.433

```
ls *.h | sed s/.h/.c/ | xargs ls 2>/dev/null 
```

该命令的其余部分`ls`以新的 *.c 文件名再次运行。`ls`会抱怨每个不存在的文件，所以我们将 stderr 重定向到无处。

没有的例子`2>/dev/null`：

```
$ ls
a.c a.h b.c c.c d.h
$ ls *.h | sed s/.h/.c/ | xargs ls
ls: d.c: No such file or directory
a.c 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-25T06:34:47.323

```
ls -1 *.c* *.h*|awk -F. '{a[$1]++}END{for(i in a){if(a[i]==2)print i".hh"} }' 
```

# iphone - 按下按钮时如何撤消 UITextField？

> ID：13062791
> 
> 赞同：0
> 
> 时间：2012-10-25T06:25:59.810
> 
> 标签：iphone, objective-c

当我按下按钮时，我在创建 UITextField 时使用数组。我想添加一个新按钮，撤消功能。当我按下撤消按钮时，我创建的最后一个 UITextField 将被删除。

在我的 ViewController.h

```
#import <UIKit/UIKit.h>

@interface ViewController : UIViewController<UITextFieldDelegate>
{

    NSMutableArray *textfieldform;
    UITextField *textField1;
}

@property (nonatomic) NSInteger text1;

@property (nonatomic, retain) NSMutableArray *textfieldform;
@property (nonatomic, readwrite) int yOrigin;
@property (nonatomic, readwrite) int xOrigin;

-(IBAction) textFieldcreating;
-(IBAction) undo;

@end 
```

在我的 ViewController.m

```
#import "ViewController.h"

@interface ViewController ()

@end

@implementation ViewController

@synthesize text1, textfieldform, yOrigin, xOrigin;

- (void)viewDidLoad
{
    [super viewDidLoad];
    //textfieldform = [[NSMutableArray alloc] init];
    // Do any additional setup after loading the view, typically from a nib.
    textfieldform = [NSMutableArray arrayWithCapacity:0];
    yOrigin = 0;
    xOrigin = 10;

}

-(IBAction)textFieldcreating{

    textField1 = [[UITextField alloc] initWithFrame:CGRectMake(xOrigin, yOrigin, 100, 40)];
    textField1.borderStyle = UITextBorderStyleRoundedRect;
    textField1.font = [UIFont systemFontOfSize:15];
    textField1.placeholder = @"enter text";
    textField1.autocorrectionType = UITextAutocorrectionTypeNo;
    textField1.keyboardType = UIKeyboardTypeDefault;
    textField1.returnKeyType = UIReturnKeyDone;
    textField1.clearButtonMode = UITextFieldViewModeWhileEditing;
    textField1.contentVerticalAlignment = UIControlContentVerticalAlignmentCenter;    
    textField1.delegate = self;

    [textfieldform addObject:textField1];
    [self.view addSubview:textField1];
    yOrigin = yOrigin + 40 + 10; 
    xOrigin = xOrigin + 20 + 10; 
    //old yorigin + btn height + y offset

}

-(IBAction)undo{
    if ([textfieldform count]>0) {
        [textfieldform removeLastObject];
        [textField1 removeFromSuperview];
    }
}

- (BOOL)textFieldShouldBeginEditing:(UITextField *)textField{ 

    NSLog(@"textFieldShouldBeginEditing");
    return YES;
}
- (void)textFieldDidBeginEditing:(UITextField *)textField{           

    NSLog(@"textFieldDidBeginEditing");
    [textField1  setBackgroundColor:[UIColor colorWithRed:(248/255.0) green:(248/255.0) blue:(255/255.0) alpha:1.0]];
    textField1.borderStyle = UITextBorderStyleRoundedRect;
}
- (BOOL)textFieldShouldEndEditing:(UITextField *)textField{

    NSLog(@"textFieldShouldEndEditing");
    textField.backgroundColor = [UIColor clearColor];
    return YES;
}
- (void)textFieldDidEndEditing:(UITextField *)textField{

    NSLog(@"textFieldDidEndEditing");
    [textField1  setBackgroundColor:[UIColor clearColor]];
    textField1.borderStyle = UITextBorderStyleNone;
}
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string{

    NSLog(@"textField:shouldChangeCharactersInRange:replacementString:");

    if ([string isEqualToString:@"#"]) {
        return NO;
    }
    else {
        return YES;
    }

}
- (BOOL)textFieldShouldClear:(UITextField *)textField{

    NSLog(@"textFieldShouldClear:");
    return YES;
}
- (BOOL)textFieldShouldReturn:(UITextField *)textField{

    NSLog(@"textFieldShouldReturn:");

    if (textField.tag == 1) {
        textField1 = (UITextField *)[self.view viewWithTag:2];
        [textField1 becomeFirstResponder];
    }
    else {
        [textField resignFirstResponder];
    }

    return YES;
}

@end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T09:09:28.277

根据它们在数组中所在的 indexPath 给每个文本字段一个标签。

```
-(IBAction)textFieldcreating{

UITextField *textField1 = [[UITextField alloc] initWithFrame:CGRectMake(xOrigin, yOrigin, 100, 40)];
textField1.borderStyle = UITextBorderStyleRoundedRect;
textField1.font = [UIFont systemFontOfSize:15];
textField1.placeholder = @"enter text";
textField1.autocorrectionType = UITextAutocorrectionTypeNo;
textField1.keyboardType = UIKeyboardTypeDefault;
textField1.returnKeyType = UIReturnKeyDone;
textField1.clearButtonMode = UITextFieldViewModeWhileEditing;
textField1.contentVerticalAlignment = UIControlContentVerticalAlignmentCenter;    
textField1.delegate = self;

textField1.tag = textfieldform.count;

[textfieldform addObject:textField1];
[self.view addSubview:textField1];
yOrigin = yOrigin + 40 + 10; 
xOrigin = xOrigin + 20 + 10; 
//old yorigin + btn height + y offset 
```

}

比在你的 unde 动作中应该有类似的东西

```
-(IBAction)undo{  //Should also check here if you actually have an object at that index path. (for example if there are no text fields created yet)

UITextField *textField = (UITextField *)[self.view viewWithTag:textfieldform.count - 1];
textField = nil;
[textField removeFromSuperview];
[textfieldform removeLastObject]; 
```

}

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T10:12:57.003

由于您要将 textFields 添加到数组中，因此只需从该数组中获取最后一个对象并将其从其父视图中删除。

```
- (IBAction)undo:(id)sender {
    UITextField *textFieldToRemove = [textfieldform lastObject];
    if (textFieldToRemove) {
        [textfieldform removeObject:textFieldToRemove];
        [textFieldToRemove removeFromSuperview];
    }
} 
```

# android - android中是否可以将应用程序图标添加到状态栏？

> ID：13062796
> 
> 赞同：2
> 
> 时间：2012-10-25T06:26:48.780
> 
> 标签：android, android-notifications

android中是否可以将应用程序图标添加到状态栏，类似于wifi/蓝牙图标？我知道它可以使用状态栏通知来完成，但是当我们清除通知时它会被清除。我可以在状态栏上永久显示图标吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T06:35:20.260

要将图标保留在那里直到您清除它，您可以执行以下操作：

```
 Notification notification = new Notification(R.drawable.icon, "", when_to_display);
 notification.flags |= Notification.FLAG_AUTO_CANCEL; 
```

然后你必须清除它。还有其他标志，都在这里描述：http: [//developer.android.com/reference/android/app/Notification.html](http://developer.android.com/reference/android/app/Notification.html)

# android - NotificationManager.cancel(id) 在广播接收器中不起作用

> ID：13062798
> 
> 赞同：15
> 
> 时间：2012-10-25T06:26:59.943
> 
> 标签：android, broadcastreceiver, notificationmanager

Android：安装软件包后，我试图取消通知栏中的通知。我正在做的是以下内容：

```
public class MyBroadcastReceiver extends BroadcastReceiver {

    private static final String TAG = "MyBroadcastReceiver";

    @Override
    public void onReceive(Context context, Intent intent) {
        String action = intent.getAction();
        if (Intent.ACTION_PACKAGE_ADDED.equals(action)) {
            Uri data = intent.getData();
            //some code goes here
            //get the id of the notification to cancel in some way
            notificationhelper._completeNotificationManager.cancel(id);     
        }
    }
} 
```

在哪里

```
public class notificationhelper {
    public static NotificationManager _completeNotificationManager = null;

    public void complete() {        
        if (_completeNotificationManager == null)
            _completeNotificationManager = (NotificationManager) _context.getSystemService(Context.NOTIFICATION_SERVICE);

        Notification notification = new Notification(
            R.drawable.notification,
            _context.getString(R.string.notification),
            System.currentTimeMillis());
        notification.flags |= Notification.FLAG_AUTO_CANCEL;
        notification.flags |= Notification.FLAG_NO_CLEAR;
        _completeNotificationManager.notify(TEXT, id, notification);
    }
} 
```

但`notificationhelper._completeNotificationManager.cancel(id)`不起作用。我尝试使用`notificationhelper._completeNotificationManager.cancelAll();`并且它有效。我做错了什么？

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2013-11-15T17:45:01.537

根据我的经验，无论标签如何，您都无法取消具有特定 ID 的所有通知。

也就是说，如果您像这样创建两个通知：

```
notificationManager.notify(TAG_ONE, SAME_ID, notification_one);
notificationManager.notify(TAG_TWO, SAME_ID, notification_two); 
```

然后，`notificationManager.cancel(SAME_ID)`不会取消其中任何一个！我怀疑这是因为“标签”字段，如果在 notify() 和 cancel() 中未指定，则默认为 null，您必须明确取消。

因此，要取消这两个通知，您必须调用：

```
notificationManager.cancel(TAG_ONE, SAME_ID);
notificationManager.cancel(TAG_TWO, SAME_ID); 
```

在您的情况下，您提供“TEXT”作为标签，但仅使用 id 取消，默认使用 tag=null。

所以，要么不提供 TEXT 作为你的标签：

```
_completeNotificationManager.notify(id, notification); 
```

或者，如果您需要单独的通知并且不希望它们相互干扰，请跟踪活动标签：

```
_completeNotificationManager.notify(TEXT, id, notification);
collectionOfActiveTags.add(TEXT);

...

for (String activeTag : collectionOfActiveTags)    
    notificationhelper._completeNotificationManager.cancel(activeTag, id); 
```

我希望您尝试做的事情得到支持，因为它似乎应该如此。

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-08-29T17:50:44.110

好吧，这在这一点上可能无关紧要，但应该在这里发布，以便像我这样处理相同问题的人可能会找到解决方案。

如果`NotificationManager.cancel()`不起作用，请尝试更改通知的 ID。

```
notificationManager.notify(NOTIFICATION_ID, notification); 
```

当我`NOTIFICATION_ID`从 1 更改为 [RANDOM_NUMBER] 时，它神奇地开始工作。我假设 1 以某种方式保留，尽管任何文档中都没有注释......

当然，请确保您使用相同的 NOTIFICATION_ID 取消：

```
notificationManager.cancel(NOTIFICATION_ID); 
```

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2018-02-20T10:03:24.963

我的通知没有被删除，因为我的服务是**前台服务**，而不是 StartService 启动的常规服务。

如果您的服务在前台，请调用`stopForeground(true)`而不是 stopself()。所以现在我的代码如下所示：

```
NotificationManagerCompat.from(this).cancel(NotificationHelper.PLAYER_NOTIFICATION_ID);
stopForeground(true); 
```

它起作用了，通知被删除了。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2017-05-07T19:07:22.007

我最近面临同样的问题。我已经设法解决了。

所以据我了解。

1.  使用基本上是随机数的 id 来通知并将相同的 id 发送到要取消它的代码段（接收器/活动......）。

2.  使用标签时，它似乎对我不起作用，因为我为所有通知提供了一个标签，但具有唯一的 ID。它只适用于第一个标签，所以我完全避免使用标签。如果要使用标签，请发出唯一标签和唯一 ID，并在取消时同时使用它们。

所以最后的答案......我使用了什么，什么对我有用：

步骤1：

```
int notif_id = (int)(System.currentTimeMillis()%10000); 
```

STEP2：在动作意图中添加这个ID（我正在启动一个活动，在动作点击时通知被取消）：

```
Intent notificationSettingsIntent = new Intent(context.getApplicationContext(), NotificationSettingsActivity.class);
notificationSettingsIntent.setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP);
notificationSettingsIntent.addFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION);
notificationSettingsIntent.putExtra("fromNotification",true);
notificationSettingsIntent.putExtra("notif_id",notif_id);
PendingIntent notificationSettingsActivityPendingIntent = PendingIntent.getActivity(context,notif_id,notificationSettingsIntent,PendingIntent.FLAG_ONE_SHOT); 
```

第 3 步：使用第 1 步中的 id 进行通知，但没有标签

```
NotificationManagerCompat notificationCompat = NotificationManagerCompat.from(context.getApplicationContext());

notificationCompat.notify(notif_id,notificationBuilder.build()); 
```

现在在通过我的操作点击打开的活动中，我取消通知：

```
NotificationManagerCompat notificationCompat = NotificationManagerCompat.from(context.getApplicationContext());

notificationCompat.cancel(getIntent().getIntExtra("notif_id")); 
```

现在每次都有效。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2019-05-20T11:42:49.810

抱歉迟到了！但是以下对我来说效果很好。

```
NotificationManagerCompat mNotificationManager = NotificationManagerCompat.from(context.getApplicationContext());
mNotificationManager.cancel("<TAG>",<Notificatoin-id>); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-06-04T08:47:25.063

以下为我工作：

```
final NotificationManagerCompat mNotificationManager = NotificationManagerCompat.from(context.getApplicationContext());
mNotificationManager.cancel(<Notificatoin-id>); 
```

# wordpress - 哪个函数在读取提要时提取 HTML 参数？

> ID：13062799
> 
> 赞同：1
> 
> 时间：2012-10-25T06:27:04.320
> 
> 标签：wordpress, rss, feed

我不是wordpress专家。我正在尝试使用自动博客插件，我尝试**了 wp-o-matic**和**auto blog**。我注意到提要中的 HTML 特别是参数，例如提要中的`class`和提要中的 HTML被剥离了只是普通标签。喜欢`id``description`

```
<div class="someclass">
     some class
</div> 
```

被剥离到

```
<div>
    some class
</div> 
```

wordpress 的哪个功能会这样做以及如何防止它这样做？

# qtp - 将 Excel 文件导入 QTP 时，我收到以下消息“操作失败，因为应用程序正忙”？

> ID：13062808
> 
> 赞同：1
> 
> 时间：2012-10-25T06:27:31.917
> 
> 标签：qtp

这是代码，

```
dim q_app
Set q_app=createobject ("Quicktest.application")
q_app.Launch
q_app.new
q_app.Visible =true
msgbox (" opens")
call q_app.Test.DataTable.Importsheet ("C:\xlfile.xls",1,1)
q_app.Test.DataTable.export ("C:\name-runtime.xls")
msgbox("opens")
q_app.Test.SaveAs("C:\testedxlfile")
q_app.Visible=true
q_app.Quit
Set q_app = nothing 
```

我跳过了这一步，它再次显示第 7 行中的一般错误。

谢谢维涅什

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T08:17:41.830

QTP 的自动化应该用于从外部驱动测试。当我将您编写的代码放在`.vbs`它正常运行的独立文件中时，从 QTP 内部运行它时，我确实收到了*应用程序繁忙*错误，因为它是用来构建一个可以运行的测试而不是修改数据当前正在运行的测试表。

如果要修改当前的测试就简单多了，直接使用`DataTable`测试中的对象即可（无需创建QTP对象）

```
DataTable.ImportSheet "C:\xlfile.xls", 1, 1 
```

# c++ - 用c ++捕获外部程序的退出代码

> ID：13062809
> 
> 赞同：2
> 
> 时间：2012-10-25T06:27:33.493
> 
> 标签：c++

我正在使用命令运行一个外部程序`execvp`，现在我想捕获外部程序的退出代码，并尽可能获取`PID`它。

反正有可能吗？（我知道我可以`$?`在 ubuntu 中阅读并使用`ps faxu`，但这些都是肮脏的方式）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T06:34:20.633

`exec*`程序运行成功后函数没有返回，所以无法通过`execvp`. 但是，如果您使用`fork`/ `wait`，您可以从函数中的状态代码中获取退出代码`wait*`：

```
int status;
if (wait(&status) != -1) {   // similar for waitpid, wait4, etc.
    if (WIFEXITED(status)) {
        exit_code = WEXITSTATUS(status);
    } else {
        // handle other conditions, e.g. signals.
    }
} else {
    // wait failed.
} 
```

您可以查看[wait(2)](http://pubs.opengroup.org/onlinepubs/009695399/functions/wait.html#tag_03_822_06)手册页中的示例。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T06:44:25.343

也试试`int a_number = std::system("/path/to/app")`

这有时可用于返回 xmessage 查询的值。

# python - python独特的字符串创建

> ID：13062810
> 
> 赞同：5
> 
> 时间：2012-10-25T06:27:35.530
> 
> 标签：python, algorithm, python-2.7

我已经查看了其他几个与此“相似”的 SO 问题（以及谷歌搜索的大量问题），但它们似乎都不适合我的问题。

我正在尝试制作一个非固定长度的唯一文本字符串，仅包含我指定的字符串中的字符。例如，由大写和小写的 a-zA-Z 字符组成。（对于这个例子，我只使用 a、b 和 c 小写字母）

像这样的东西（下面的破代码）

```
def next(index, validCharacters = 'abc'):
    return uniqueShortAsPossibleString 
```

index 参数将是与文本字符串相关的索引（整数），例如：

```
next(1)  == 'a'
next(2)  == 'b'
next(3)  == 'c'

next(4)  == 'aa'
next(5)  == 'ab'
next(6)  == 'ac'

next(7)  == 'ba'
next(8)  == 'bb'
next(9)  == 'bc'

next(10) == 'ca'
next(11) == 'cb'
next(12) == 'cc' 
```

等等。字符串：

1.  必须是唯一的，我将使用它作为标识符，它只能是 a-zA-Z 字符
2.  尽可能短，较低的索引号最短（参见上面的示例）
3.  仅包含给定参数字符串 validCharacters 中指定的字符

总之，我如何编写 next() 函数来将整数索引值与指定字符的唯一短字符串相关联？

PS我是新手，这个网站多年来帮助了我很多，虽然我从来没有注册过或问过问题（直到现在），但我真的希望我在解释我的工作方面做得很好我试图做到这一点。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T06:36:50.680

您要做的是将`next`函数的参数写入另一个库中。

假设`validCharacters`包含`k`字符：那么`next`函数`p`的工作就是`k`使用`validCharacters`.

在您的示例中，您可以以 3 为基数编写数字，然后将每个数字与一个字母相关联：

```
next(1) -> 1 -> 'a'
next(2) -> 2 -> 'b'

next(4) -> 11 -> 'aa'
next(7) -> 21 -> 'ba' 
```

等等。

使用此方法，您可以`next(x)`在不知道或计算 any的情况下调用`next(x-i)`，这是迭代方法无法做到的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T06:35:27.923

[`itertools`](http://docs.python.org/library/itertools.html#itertools.permutations)总是可以给你混淆的单线迭代器：

```
from itertools import combinations_with_replacement, chain

chars = 'abc'
a = chain(*(combinations_with_replacement(chars, i) for i in range(1, len(chars) + 1))) 
```

基本上，这段代码创建了一个迭代器，它结合了所有`chars`长度的组合`1`，`2`...，`len(chars)`。

的输出`for x in a: print x`是：

```
('a',)
('b',)
('c',)
('a', 'b')
('a', 'c')
('b', 'a')
('b', 'c')
('c', 'a')
('c', 'b')
('a', 'b', 'c')
('a', 'c', 'b')
('b', 'a', 'c')
('b', 'c', 'a')
('c', 'a', 'b')
('c', 'b', 'a') 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-25T06:35:37.330

您不能真正将索引与烦人“关联”，但以下是一个生成器，它将产生并提供您要求的输出：

```
from itertools import combinations_with_replacement

def uniquenames(chars):
    for i in range(1, len(chars)):
        for j in combinations_with_replacement(chars, i):
            yield ''.join(j)

print list(uniquenames('abc'))
# ['a', 'b', 'c', 'aa', 'ab', 'ac', 'bb', 'bc', 'cc'] 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-25T06:44:27.633

据我了解，我们不应该指定输出字符串的最大长度。所以`range`还不够：

```
>>> from itertools import combinations_with_replacement, count
>>> def u(chars):
...     for i in count(1):
...         for k in combinations_with_replacement(chars, i):
...             yield "".join(k)
... 
>>> g = u("abc")
>>> next(g)
'a'
>>> next(g)
'b'
>>> next(g)
'c'
>>> next(g)
'aa'
>>> next(g)
'ab'
>>> next(g)
'ac'
>>> next(g)
'bb'
>>> next(g)
'bc' 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-25T06:45:43.850

您正在尝试将数字转换为另一个基数中的数字，但使用任意字符作为该基数的数字。

```
import string
chars = string.lowercase + string.uppercase

def identifier(x, chars):
    output = []
    base = len(chars)
    while x:
        output.append(chars[x % base])
        x /= base
    return ''.join(reversed(output))

print identifier(1, chars) 
```

这使您可以跳转到任何位置，您正在计数，因此标识符是完全唯一的，并且很容易使用任何长度（两个或更多）的任何字符集，并且较低的数字给出较短的标识符。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-25T06:37:17.530

因此，您似乎正在尝试枚举语言 {'a','b','c'} 生成的所有字符串。这可以使用[有限状态自动机](http://en.wikipedia.org/wiki/Finite-state_machine)来完成（尽管您不想这样做）。枚举语言的一种简单方法是从一个列表开始，并按顺序附加所有长度为 1 的字符串（所以 a 然后 b 然后 c）。然后将字母表中的每个字母附加到每个长度为 n-1 的字符串中。只要您将字母表中的所有字母附加到给定的字符串，然后再转到按字典顺序排列的下一个字符串，它就会保持有序。

# android - Android：从数据库中检索所有数据并存储在 ArrayList 中 >

> ID：13062814
> 
> 赞同：0
> 
> 时间：2012-10-25T06:27:58.900
> 
> 标签：android, database, arraylist, hashmap

我尝试从数据库中检索所有数据并放入 hasmap 的数组列表中，但我只得到表的最后一条记录。这是我的代码：

```
databaseAirport myDbHelper = new databaseAirport(this);
myDbHelper.open();
Cursor c = myDbHelper.selectAll();
HashMap<String, String> map = new HashMap<String, String>();
ArrayList<HashMap<String, String>> dataList = new ArrayList<HashMap<String,String>>();
if(c!=null && c.moveToFirst())
        {
                do
            {
                map.put(KEY_ACODE, c.getString(5).toString());
                map.put(KEY_FNUM, c.getString(6).toString());
                map.put(KEY_STOP_1, c.getString(8).toString());
                map.put(KEY_FTIME, c.getString(7).toString());
                map.put(KEY_REMARK, c.getString(10).toString());
                map.put(KEY_REM_COM, c.getString(11).toString());
                dataList.add(map);
            }while(c.moveToNext());
        } 
```

最后，我的 dataList(map) 只检索最后一条记录......

任何人都可以帮助我吗..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:32:22.277

将此行移动如下：`HashMap<String, String> map = new HashMap<String, String>();`

```
databaseAirport myDbHelper = new databaseAirport(this);
myDbHelper.open();

Cursor c = myDbHelper.selectAll();
HashMap<String, String> map;
ArrayList<HashMap<String, String>> dataList = new ArrayList<HashMap<String,String>>();
if(c!=null ){
     c.moveToFirst();

             while(  cur.isAfterLast() == false )
            {
                map = new HashMap<String, String>(); // <---- moved here

                map.put(KEY_ACODE, c.getString(5).toString());
                map.put(KEY_FNUM, c.getString(6).toString());
                map.put(KEY_STOP_1, c.getString(8).toString());
                map.put(KEY_FTIME, c.getString(7).toString());
                map.put(KEY_REMARK, c.getString(10).toString());
                map.put(KEY_REM_COM, c.getString(11).toString());
                dataList.add(map);
                c.moveToNext();
            }
        } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T06:34:23.150

像这样更改您的代码

```
databaseAirport myDbHelper = new databaseAirport(this);
myDbHelper.open();
Cursor c = myDbHelper.selectAll();
ArrayList<HashMap<String, String>> dataList = new ArrayList<HashMap<String,String>>();
while(c.moveToNext());
{
     HashMap<String, String> map = new HashMap<String, String>();
     map.put(KEY_ACODE, c.getString(5).toString());
     map.put(KEY_FNUM, c.getString(6).toString());
     map.put(KEY_STOP_1, c.getString(8).toString());
     map.put(KEY_FTIME, c.getString(7).toString());
     map.put(KEY_REMARK, c.getString(10).toString());
     map.put(KEY_REM_COM, c.getString(11).toString());
     dataList.add(map);
} 
```

# c# - 在一个非常大的矩形内保存一组坐标的最佳数据结构？

> ID：13062820
> 
> 赞同：2
> 
> 时间：2012-10-25T06:28:32.500
> 
> 标签：c#, algorithm, data-structures, game-engine

我有一个地图的抽象表示，比如说，X 和 Y 坐标上有 5.000.000 个不同的整数坐标，所以它是一个非常大的二维矩形。

然后，在那个可变大小的矩形内，我有几个对象（角色、怪物、NPC）。玩家可以选择这个矩形的位置，我必须检查该位置是否有怪物或角色。

到目前为止，我用列和行创建了一个名为 GameMatrix 的自定义类，并且说列有 3000x2000 个位置（角色的区域视图）。

当我的游戏玩家点击所述坐标时，我必须对`foreach()`矩阵内的每个元素执行一次，而且大多数情况下它是空的。

有没有更好的方法来解决这个问题？具体来说，我在问什么是最好的方法，有一个非常大的矩形和一个坐标，以一种有效的方式检查所述坐标内是否有对象。

忘了提，但这是在服务器端每毫秒完成几次。所以我需要很多表现。

**编辑：**忘了提，我使用的是 C#。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-25T06:36:13.703

您应该使用四叉树实现，除非网格中的项目数量非常少（比如几十个项目），在这种情况下，线性搜索（同时蛮力检查所有项目）可能是最好的选择。

看这里

[http://en.wikipedia.org/wiki/Quadtree](http://en.wikipedia.org/wiki/Quadtree)

请注意，可以快速有效地查询四叉树，但更新成本更高，也就是说，如果您的项目在地图上移动很多，则要获得良好的性能，这将变得更加复杂。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-25T06:40:22.200

我建议先尝试最简单的解决方案，然后再考虑优化。

尝试使用数组。随时改进您的解决方案。根据您的设置，列表或哈希映射也可能很有趣。

# windows - 将 Windows Phone7 应用程序移植到 Windows 8

> ID：13062821
> 
> 赞同：0
> 
> 时间：2012-10-25T06:28:38.453
> 
> 标签：windows, windows-phone-7, windows-8, windows-phone-7.1

我将我的 windows phone7 应用程序移植到 windows 8（只需将 xaml 和 c# 代码复制粘贴到 Visual Studio 2012->new->project->WPFApplication 中）并更改 UI 大小。问题是 .exe 文件（在构建 wpf 之后应用程序）仅在安装了 .NET 框架的系统中运行。我想在所有运行 Windows（7（32/64）、xp、vista）的系统中运行我的应用程序。我是 Windows 应用程序的新手，基本上是 wp7 开发人员。谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-25T10:29:39.083

如果你真的想将 windows phone 7 应用程序移植到 windows 8，你应该通过以下资源。他们提供了大部分信息。

*   [http://msdn.microsoft.com/en-us/library/windows/apps/hh465136.aspx](http://msdn.microsoft.com/en-us/library/windows/apps/hh465136.aspx)
*   [http://leventoz.wordpress.com/2012/03/07/moving-a-windows-phone-app-to-windows-8-a-case-study-part-1/](http://leventoz.wordpress.com/2012/03/07/moving-a-windows-phone-app-to-windows-8-a-case-study-part-1/)
*   [http://leventoz.wordpress.com/2012/03/11/moving-a-windows-phone-app-to-windows-8-a-case-study-part-2/](http://leventoz.wordpress.com/2012/03/11/moving-a-windows-phone-app-to-windows-8-a-case-study-part-2/)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-25T06:39:24.207

WPF 是 .NET 框架的一部分，因此您无法在机器上编写一个可以在没有框架的情况下运行的 WPF 应用程序。

如果要创建在经典 Windows 运行时运行的二进制文件，则不能使用 WPF/C#/VB 等。

如果要将 Windows Phone 应用程序移植到 Windows 8，最好的办法是创建一个 Microsoft Store 应用程序，*在 VS2012 中的 File > New Project > Blank App*。该应用程序不会在除 Windows 8 之外的任何设备上运行，但如果它是从 Windows Phone 移植的，那么适用于 Windows 8 的 Microsoft Store 可能是拥有您的应用程序的最佳位置。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-25T07:30:59.040

将应用程序迁移到 WP7 并不像听起来那么容易。使用[此扩展](http://blogs.msdn.com/b/bclteam/archive/2012/10/22/using-async-await-without-net-framework-4-5.aspx)时，WP7 中有许多不同的 API，并且 async/await 也受到限制。
我可能会建议从这篇 MSDN 文章开始。它描述了基本问题和挑战，还包含有用的命名空间和 API 映射：
[将 Windows Phone 7 应用程序迁移/移植到 Windows 应用商店应用程序](http://msdn.microsoft.com/en-US/library/windows/apps/hh465136)

# validation - 如何使用自定义portlet 在liferay6 中为html 表单使用自定义验证消息？

> ID：13062824
> 
> 赞同：1
> 
> 时间：2012-10-25T06:28:50.307
> 
> 标签：validation, jsp, liferay, portlet, liferay-6

我正在使用 liferay 开发自定义 portlet (mvc portlet) 我的问题是我在 HTML 中的 jsp 页面中有一个表单，我想要的是验证表单的某些字段。并在提交按钮上将其重定向到另一个页面。我所做的验证正在工作，但是当我单击提交按钮时，它会重定向到另一个页面，并且在该页面上它只显示来自 liferay 的默认错误。我想要的是如果请求未完成且在验证为假的字段附近出现错误消息，则显示相同的页面。

我该如何解决这个问题？

这是我在动作类中添加方法时检查验证的代码

public void addRestaurant（ActionRequest 请求，ActionResponse 响应）{

```
 log.info("Inside addRegistration");
    List<String> errors = new ArrayList<String>();

    restaurant rest = RestaurantActionUtil
            .getRestaurantFromRequest(request);
    boolean restValid = RestaurantValidator
            .validateRestaurant(rest, errors);
    if (restValid) {
        try {
            log.info(rest);

            restaurant test = restaurantLocalServiceUtil
                    .addrestaurant(rest);
            if (test == null) {
                log.error("Restaurant was Found Null");
                response.setRenderParameter("jspPage", errorJSP);
                return;
            }
        } catch (SystemException e) {
            log.error(e);
            /*
             * If there is an error then divert the control to the error
             * page.
             */
            response.setRenderParameter("jspPage", errorJSP);
            return;
        }
        SessionMessages.add(request, "restaurant-added");
        return;
    } else {
        for (String error : errors) {
            SessionErrors.add(request, error);
        }
        SessionErrors.add(request, "error-while-adding");
        request.setAttribute("rest", rest);

        return;
    }

} 
```

这是我的验证器类

公共类 RestaurantValidator {

公共静态布尔验证餐厅（餐厅休息，列出错误）{

```
 boolean valid=true ;
    if (Validator.isNull(rest.getName())) {
        errors.add("Name-required");
        valid = false;
    }
    if (Validator.isNull(rest.getLicensekey())) {
        errors.add("license-key-required");
        valid = false;
    } 
```

以下是我的 view.jsp 代码

餐厅名称* " />

```
 <span class="help-block">help block</span>
                                </div>                                    
                            </div>
                            <div class="row-fluid">
                                <div class="span12">
                                    <label>License Key<span class="f_req">*</span></label>
                                   <liferay-ui:error key="license-key-required" message="license-key-required" />

                                    <input type="text" name="licensekey" class="span8" value="<%=restaurantOBJ.getLicensekey() %>"/>
                                </div>                                    
                            </div> 
```

错误消息以以下方式显示在重定向页面上，而不是在同一页面上，我希望名称文本框附近出现错误，错误为“Name_required”

错误消息以以下方式显示在重定向页面上，而不是在同一页面上，我希望名称文本框附近出现错误，错误为“Name_required”。

![在此处输入图像描述](../Images/aa5367eeb8344221899330279d2558eb.png)

我想要的是当名称为空时，它不应该提交表单并在我的`view.jsp`页面中的名称文本框附近给出错误。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T13:25:58.040

我会尝试回答您的问题，如果验证失败，请尝试`actionResponse.setRenderParameter("valid", "NO");`在您的方法中设置 a 。`addRestaurant`

并在方法中获取此参数并在此方法中`doView`进行相应设置`renderPage`：`include(renderPage, renderRequest, renderResponse);`在方法的末尾`doView`。

如果您可以以良好的格式提供问题中的所有信息，例如验证器方法`<aui:form>`和调用的 javascript 方法，`onSubmit`那么我们可以继续寻找其他解决方案。

同时，您可以尝试一下，看看它是否有效。:-)

# c++ - c ++将指针传递或不传递给函数

> ID：13062825
> 
> 赞同：2
> 
> 时间：2012-10-25T06:28:55.077
> 
> 标签：c++, pointers

当我在 c++ 中使用指针而不是从 this 对对象方法进行函数调用时，有什么区别：

```
void Main::Init()
{
    Foo foo;
    Obj obj;
    Obj.someMethod(foo)  // signeture : someMethod(Foo f)
} 
```

对此：

```
void Main::Init()
{
    Foo* foo = new foo();
    Obj obj;
    Obj.someMethod(foo)  // signeture : someMethod(Foo* f)
} 
```

**更新**
或这个：

```
 void Main::Init()
    {
        Foo* foo  = new foo();
        Obj obj;
        Obj.someMethod(foo)  // signeture : someMethod(Foo *& f)
    } 
```

在内存和编译器方面什么更好 在实际中更推荐什么我看不出两者有任何差异 我从 Foo 中得到了我需要的东西

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T06:36:08.433

首先，该代码无法编译。

在第二个片段中，`foo`是一个指针，并且`obj`是一个对象。当它需要一个对象时，您正在调用 foo.someMethod(obj) `Foo*`。与第一个片段相同。

从我看你的意思是：

`obj.someMethod(foo);`

解释：

在第一个片段中，`foo`是一个对象。对象作为 COPY 传递给`someMethod`函数。（按值调用）。对`foo`in所做的更改`someMethod`不会反映在`foo`of 中`Main::Init()`。

在第二个片段中，`foo`作为指向对象的指针发送。它被称为“引用调用”。的地址`foo`将被发送到，`someMethod`以便它可以修改对象或对其进行**某些**操作

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-25T07:08:54.020

```
someMethod(Foo f) 
```

`f`是**通过实例传递的对象**，即`f`成为`foo`传递给函数的实际参数的副本。`f`对by所做的任何修改`someMethod`都不会改变`foo`。

**通常，通过const 引用**传递 f 会更有效: `someMethod(const Foo& f)`。因此，可以避免复制，并且调用 in 的非常量方法`f`会`someMethod`导致编译器错误。

```
someMethod(Foo *f) 
```

`f`是**一个指向对象的指针**。如果实际参数已初始化（与您的示例不同），则对指向*的对象*`foo`所做的任何修改实际上都将应用于 . 指向的对象。`someMethod` *`f``foo`*

 *```
someMethod(Foo *& f) 
```

`f`是**对指向对象的指针的引用**。这通常用于声明指针类型的输出参数。例子：

```
void someMethod(Foo *& f)
{
  f = new Foo();
} 
```

作为`f`对实际参数的引用，在函数出口处分配`Foo* foo`的结果。`new Foo``foo`*

# ruby-on-rails-3 - 使用 Zonebie 在 Rails 中随机化时区

> ID：13062833
> 
> 赞同：1
> 
> 时间：2012-10-25T06:29:38.123
> 
> 标签：ruby-on-rails-3, timezone, cucumber

我正在使用[Zonebie](https://github.com/highgroove/zonebie)在我的测试中随机化时区。我的 rspec 测试一切正常，但我的黄瓜测试有问题。它通过从中选择一个随机时区`ActiveSupport`并设置来工作`Time.zone`。我已[按照自述](https://github.com/highgroove/zonebie#cucumber)文件添加`Zonebie.set_random_timezone`到支持文件`features/support/zonbie.rb`中。

如果我`debugger`在步骤中添加一个语句并打印`Time.zone`，它会生成正确的随机时区。但是，如果我`debuggger`在模型函数中添加一条语句，它会打印在我的`config/application.rb`.

Time.zone 是在某处重置还是更改超出了范围？有任何想法吗？

**注意**：如果有任何影响，我也在使用[Timecop gem。](https://github.com/travisjeffery/timecop)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-29T11:34:03.183

我找到了一个破解解决方案，它是设置`Time.zone_default`而不是`Time.zone`随机时区。我可能会向 zonebie gem 维护者发送拉取请求。

# android - 抛出未捕获的异常

> ID：13062835
> 
> 赞同：0
> 
> 时间：2012-10-25T06:29:47.467
> 
> 标签：android

我试图在 SQLite DB 中插入 Web 服务数据。但它在创建数据库时显示错误。有了这个，我附上了我的代码和错误。

公共类免责声明扩展活动{

```
GPSTracker gps;
static String latlan;
DatabaseHandler db;

@Override
public void onCreate(Bundle savedInstanceState) {

    super.onCreate(savedInstanceState);
    setContentView(R.layout.disclaimer);

    /*Getting GPS Location and Address Convertion , Lat and lang*/

    gps = new GPSTracker(getApplicationContext());

    db = new DatabaseHandler(getApplicationContext());
    //db = new DatabaseHandler();
    latlan=String.valueOf(gps.getLatitude())+","+String.valueOf(gps.getLongitude());
    Global.setlatlan(latlan);
    Geocoder geocoder = new Geocoder(this, Locale.ENGLISH);
    try {
        List<Address> address = geocoder.getFromLocation(gps.getLatitude(),gps.getLongitude(), 1);

        if(address != null) {
            Address returnedAddress = address.get(0);
            StringBuilder strReturnedAddress = new StringBuilder("Source Address \n\n");
            for(int i=0; i<returnedAddress.getMaxAddressLineIndex(); i++) {
                strReturnedAddress.append(returnedAddress.getAddressLine(i)).append("\n");
            }

            String curadr = strReturnedAddress.toString();
            Global.setCurrAddress(curadr);
            }
        else{
            Global.setCurrAddress("No Address Defined");
            }
        } 
    catch (IOException e)
        {
        e.printStackTrace();
        }

    /*Getting Device ID */
    TelephonyManager mTelephonyMgr;
    mTelephonyMgr = (TelephonyManager)getSystemService(Context.TELEPHONY_SERVICE); 
    String devno = mTelephonyMgr.getDeviceId();
    //Global.setDeviceID(devno);
    Global.setDeviceID("359462040979303");

    /*Calling Setting Service Details */
    SettingsService set = new SettingsService();

    /*Button Action Activities*/

    Button agree = (Button)findViewById(R.id.btnagree);
    agree.setOnClickListener(new OnClickListener() {

        public void onClick(View v) {
            // TODO Auto-generated method stub

            gps = new GPSTracker(Disclaimer.this);

            // check if GPS enabled     
            if(gps.canGetLocation()){

            /*   Include App Web Service for Settings and Current Location and DB Storage*/

                String Settingres = Global.getResult();
                //String Settingres =null;
                Toast.makeText(getApplicationContext(), Settingres, Toast.LENGTH_LONG).show();
                //db = new DatabaseHandler(getApplicationContext());
                List<Details> contacts = db.getAllContacts();

                //check for setting result
                if(Settingres.equals(null)==true)
                {
                    /*Toast.makeText(getApplicationContext(), "check DB", Toast.LENGTH_LONG).show();

                    boolean val =contacts.isEmpty();
                    Toast.makeText(getApplicationContext(),String.valueOf(val), Toast.LENGTH_LONG).show();*/
                    if((contacts.isEmpty())==true)
                    {
                        Toast.makeText(getApplicationContext(),"Your Application Settings Not Loaded", Toast.LENGTH_LONG).show();
                    }
                    else
                    {
                        for (Details cn : contacts) {

                                String log = "APP ID: "+cn.getAPPID()+" ,Unique ID: " + cn.getUniqueID() + " ,Driver Name: " + cn.getDriverName()+ " ,Vehicle Name: " + cn.getVehicleName()+ " ,Mobile number: " + cn.getPhoneNumber();
                                Log.d("Name: ", log);
                              //  Toast.makeText(getApplicationContext(), log, Toast.LENGTH_LONG).show();
                                }
                    }
                }
                else if(Settingres.equals("Device Not Updated")==true)
                {
                    if((contacts.isEmpty())==true)
                    {
                        Toast.makeText(getApplicationContext(),"Your Application Settings Not Loaded.Contact Customer Care", Toast.LENGTH_LONG).show();
                    }
                    else
                    {
                        for (Details cn : contacts) {

                                String log = "APP ID: "+cn.getAPPID()+" ,Unique ID: " + cn.getUniqueID() + " ,Driver Name: " + cn.getDriverName()+ " ,Vehicle Name: " + cn.getVehicleName()+ " ,Mobile number: " + cn.getPhoneNumber();
                                Log.d("Name: ", log);
                              //  Toast.makeText(getApplicationContext(), log, Toast.LENGTH_LONG).show();
                                }
                    }
                }
                else
                {
                    //Store in Setting DB
                    if((contacts.isEmpty())==true)
                    {
                        db.addDetails(new Details(Settingres));

                    }
                    else
                    {
                        db.dropAllTable(getApplicationContext());
                        db.addDetails(new Details(Settingres));

                    }

                    CurrentTime tim = new CurrentTime();
                    LocationService curadrloc = new LocationService("App Open");

                    Intent mainscr = new Intent(Disclaimer.this, MainScreen.class);
                    startActivity(mainscr);

                }

                /*List<Details> contacts1 = db.getAllContacts();
                for (Details cn : contacts1) {

                    Global.setAppID(cn.getAPPID());

                    String log = "APP ID: "+cn.getAPPID()+" ,Unique ID " + cn.getUniqueID() + " ,Driver Name: " + cn.getDriverName()+ " ,Vehicle Name: " + cn.getVehicleName()+ " ,Mobile number: " + cn.getPhoneNumber();
                    Log.d("Name: ", log);
                    Toast.makeText(getApplicationContext(), log, Toast.LENGTH_LONG).show();
                }
                */

                /*// Call current location Service

                CurrentTime tim = new CurrentTime();
                LocationService curadrloc = new LocationService("App Open");

                Intent mainscr = new Intent(Disclaimer.this, MainScreen.class);
                startActivity(mainscr);*/
                //db.close();

            }
            else{

                gps.showSettingsAlert();
            }
        }

    });

    Button disagree =(Button)findViewById(R.id.btndisagree);
    disagree.setOnClickListener(new OnClickListener() {

        public void onClick(View v) {
            // TODO Auto-generated method stub
            finish();
        }
    });

}

public void currentdetail()
{
    Geocoder geocoder = new Geocoder(this, Locale.ENGLISH);
    try {
        List<Address> address = geocoder.getFromLocation(gps.getLatitude(),gps.getLongitude(), 1);

        if(address != null) {
            Address returnedAddress = address.get(0);
            StringBuilder strReturnedAddress = new StringBuilder("Source Address \n\n");
            for(int i=0; i<returnedAddress.getMaxAddressLineIndex(); i++) {
                strReturnedAddress.append(returnedAddress.getAddressLine(i)).append("\n");
            }

            String curadr = strReturnedAddress.toString();
            Global.setCurrAddress(curadr);
            }
        else{
            Global.setCurrAddress("No Address Defined");
            }
        } 
    catch (IOException e)
        {
        e.printStackTrace();
        }
} 
```

}

我的错误是

有时像

```
10-25 11:03:26.580: W/dalvikvm(1101): threadid=3: thread exiting with uncaught exception (group=0x4001b188)
10-25 11:03:26.580: E/AndroidRuntime(1101): Uncaught handler: thread main exiting due to uncaught exception
10-25 11:03:26.585: E/AndroidRuntime(1101): java.lang.ArrayIndexOutOfBoundsException
10-25 11:03:26.585: E/AndroidRuntime(1101):     at com.example.routemytrip.Details.<init>(Details.java:22)
10-25 11:03:26.585: E/AndroidRuntime(1101):     at com.example.routemytrip.Disclaimer$1.onClick(Disclaimer.java:153)
10-25 11:03:26.585: E/AndroidRuntime(1101):     at android.view.View.performClick(View.java:2364)
10-25 11:03:26.585: E/AndroidRuntime(1101):     at android.view.View.onTouchEvent(View.java:4179)
10-25 11:03:26.585: E/AndroidRuntime(1101):     at android.widget.TextView.onTouchEvent(TextView.java:6540)
10-25 11:03:26.585: E/AndroidRuntime(1101):     at android.view.View.dispatchTouchEvent(View.java:3709)
10-25 11:03:26.585: E/AndroidRuntime(1101):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)
10-25 11:03:26.585: E/AndroidRuntime(1101):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)
10-25 11:03:26.585: E/AndroidRuntime(1101):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)
10-25 11:03:26.585: E/AndroidRuntime(1101):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)
10-25 11:03:26.585: E/AndroidRuntime(1101):     at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1659)
10-25 11:03:26.585: E/AndroidRuntime(1101):     at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1107)
10-25 11:03:26.585: E/AndroidRuntime(1101):     at android.app.Activity.dispatchTouchEvent(Activity.java:2061)
10-25 11:03:26.585: E/AndroidRuntime(1101):     at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1643)
10-25 11:03:26.585: E/AndroidRuntime(1101):     at android.view.ViewRoot.handleMessage(ViewRoot.java:1691)
10-25 11:03:26.585: E/AndroidRuntime(1101):     at android.os.Handler.dispatchMessage(Handler.java:99)
10-25 11:03:26.585: E/AndroidRuntime(1101):     at android.os.Looper.loop(Looper.java:123)
10-25 11:03:26.585: E/AndroidRuntime(1101):     at android.app.ActivityThread.main(ActivityThread.java:4363)
10-25 11:03:26.585: E/AndroidRuntime(1101):     at java.lang.reflect.Method.invokeNative(Native Method)
10-25 11:03:26.585: E/AndroidRuntime(1101):     at java.lang.reflect.Method.invoke(Method.java:521)
10-25 11:03:26.585: E/AndroidRuntime(1101):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)
10-25 11:03:26.585: E/AndroidRuntime(1101):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)
10-25 11:03:26.585: E/AndroidRuntime(1101):     at dalvik.system.NativeStart.main(Native Method)
10-25 11:03:26.607: I/dalvikvm(1101): threadid=7: reacting to signal 3
10-25 11:03:26.607: E/dalvikvm(1101): Unable to open stack trace file '/data/anr/traces.txt': Permission denied 
```

有时喜欢

```
10-25 11:03:08.965: E/Database(956): Leak found
10-25 11:03:08.965: E/Database(956): java.lang.IllegalStateException: /data/data/com.example.routemytrip/databases/RouteFetchMgr SQLiteDatabase created and never closed
10-25 11:03:08.965: E/Database(956):    at android.database.sqlite.SQLiteDatabase.<init>(SQLiteDatabase.java:1694)
10-25 11:03:08.965: E/Database(956):    at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:738)
10-25 11:03:08.965: E/Database(956):    at android.database.sqlite.SQLiteDatabase.openOrCreateDatabase(SQLiteDatabase.java:760)
10-25 11:03:08.965: E/Database(956):    at android.database.sqlite.SQLiteDatabase.openOrCreateDatabase(SQLiteDatabase.java:753)
10-25 11:03:08.965: E/Database(956):    at android.app.ApplicationContext.openOrCreateDatabase(ApplicationContext.java:473)
10-25 11:03:08.965: E/Database(956):    at android.content.ContextWrapper.openOrCreateDatabase(ContextWrapper.java:193)
10-25 11:03:08.965: E/Database(956):    at com.example.routemytrip.RouteDBHandler.dropAllTable(RouteDBHandler.java:86)
10-25 11:03:08.965: E/Database(956):    at com.example.routemytrip.MainScreen$7.onClick(MainScreen.java:415)
10-25 11:03:08.965: E/Database(956):    at android.view.View.performClick(View.java:2364)
10-25 11:03:08.965: E/Database(956):    at android.view.View.onTouchEvent(View.java:4179)
10-25 11:03:08.965: E/Database(956):    at android.widget.TextView.onTouchEvent(TextView.java:6540)
10-25 11:03:08.965: E/Database(956):    at android.view.View.dispatchTouchEvent(View.java:3709)
10-25 11:03:08.965: E/Database(956):    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)
10-25 11:03:08.965: E/Database(956):    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)
10-25 11:03:08.965: E/Database(956):    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)
10-25 11:03:08.965: E/Database(956):    at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:884)
10-25 11:03:08.965: E/Database(956):    at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1659)
10-25 11:03:08.965: E/Database(956):    at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1107)
10-25 11:03:08.965: E/Database(956):    at android.app.Activity.dispatchTouchEvent(Activity.java:2061)
10-25 11:03:08.965: E/Database(956):    at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1643)
10-25 11:03:08.965: E/Database(956):    at android.view.ViewRoot.handleMessage(ViewRoot.java:1691)
10-25 11:03:08.965: E/Database(956):    at android.os.Handler.dispatchMessage(Handler.java:99)
10-25 11:03:08.965: E/Database(956):    at android.os.Looper.loop(Looper.java:123)
10-25 11:03:08.965: E/Database(956):    at android.app.ActivityThread.main(ActivityThread.java:4363)
10-25 11:03:08.965: E/Database(956):    at java.lang.reflect.Method.invokeNative(Native Method)
10-25 11:03:08.965: E/Database(956):    at java.lang.reflect.Method.invoke(Method.java:521)
10-25 11:03:08.965: E/Database(956):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)
10-25 11:03:08.965: E/Database(956):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)
10-25 11:03:08.965: E/Database(956):    at dalvik.system.NativeStart.main(Native Method) 
```

谁能帮我解决

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T09:06:50.103

第一个异常看起来像是由您的`Details`班级抛出的，而您尚未提供其源代码。

第二个异常通常是由于没有调用`close()`你的数据库引起的：

*   [什么是“SQLiteDatabase created and never closed”错误？](https://stackoverflow.com/questions/7632047/what-is-sqlitedatabase-created-and-never-closed-error)
*   [android中的Sqlite数据库泄漏发现异常？](https://stackoverflow.com/questions/2280345/sqlite-database-leak-found-exception-in-android)

# c# - 如何使用 C# 在 Windows Phone 的文本框中禁用复制/粘贴？

> ID：13062838
> 
> 赞同：2
> 
> 时间：2012-10-25T06:30:01.417
> 
> 标签：c#, windows-phone-7.1

我有一个文本框，我只想让用户手动输入。所以我需要禁用 Windows 手机中的复制和特别粘贴选项。有可能吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-13T15:48:02.030

不幸的是，这是不可能的。

唯一的解决方案是创建自己的控件，也可以使用自定义键盘。

问候，

* * *

## 回答 #2

> 赞同：-4
> 
> 时间：2012-10-25T06:33:35.847

`Textbox`不能复制粘贴。您可以尝试使用`ReadOnly TextBox`此处所示的：[WP7 CopyPaste on TextBox](http://sharpgis.net/post/2011/04/03/Windows-Phone-7-CopyPaste-on-TextBlocks.aspx) 。

你也可以把它放在一个`WebBrowser`控件中（只要你有足够的内容并且愿意忍受显示/性能）

# math - 你如何将分段函数输入到 wolfram alpha 中？

> ID：13062845
> 
> 赞同：6
> 
> 时间：2012-10-25T06:30:22.410
> 
> 标签：math, physics, differential-equations, wolframalpha

我尝试了几种方法，例如在某些值处定义函数 f(t)，然后在我的方程中使用 f(t)，但到目前为止对我来说没有任何效果。我喜欢使用 wolfram alpha，它是帮助我更好地理解高级微分方程作业的宝贵资源。我正在尝试绘制从 0 到 5pi
的分段方波方程 `x'' + 2x' + x = f(t)`是

```
__{0, (2n+1)*pi < t < (2n+2)*pi}

f(t) =

 __{5, 2n*pi < t < (2n+1)*pi} n = 0,1,2,3,4...etc 
```

`f(t)`是一个方波，在 0 和 pi 之间取值为 5，然后在 pi 和 之间取值为 0 `2*pi`，然后在 2*pi 和 3*pi 之间取值为 5……等等。`f(t)`是 ODE 的驱动函数。图表看起来像什么`0 < t < 5*pi` 任何帮助将其输入绘图仪，例如 wolfram alpha 将不胜感激，ty！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T09:11:29.970

正如@ogerard 指出的那样，您通常可以将 Mathematica 表达式输入到 Wolfram Alpha。在您的情况下，您可能对该`SquareWave`功能感兴趣。例如，表达式

```
Plot[2.5 + 2.5 (SquareWave[x/(2 \[Pi])]), {x, -1, 6}] 
```

产生情节

![在此处输入图像描述](../Images/0c86d03576fa32c86e3a68d1c5100770.png)

这很无益地遮蔽了沿 x 轴的一半图形。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-25T08:50:08.403

在您的情况下，很容易从基本函数（例如整数部分和模数）构建您的驱动函数。

同样使用 Wolfram Alpha，您可以使用 Mathematica 表示法来明确。

要可视化您的函数 f，请尝试

```
5 *Mod[Ceiling[x/Pi], 2] 
```

或者

```
5 ceiling(x/pi) mod 2 
```

在 Wolfram Alpha 中。

通过输入

```
plot | 5 ceiling(x/pi) mod 2 | x = -3 pi  to  3 pi 
```

你会得到这样的东西：

![F](../Images/ad321ca208f8664a10e368686538b92d.png)

# javascript - 如何使用信息窗口内的按钮打开信息窗口

> ID：13062848
> 
> 赞同：-1
> 
> 时间：2012-10-25T06:30:35.317
> 
> 标签：javascript, google-maps, google-maps-api-3

我正在尝试制作一个位于信息窗口内的按钮，打开另一个具有不同内容的信息窗口，我已经将按钮放在了信息窗口内。我只需要让按钮打开另一个信息窗口。

```
 var marker = new google.maps.Marker({
      map: map,
      position: new google.maps.LatLng(-8.729981,-63.878333),      
      icon:  predio});

    var contentimage = '</br> <input type="button" id="btn1" value="Fotos"/></div><</div><div><img src="images/gardenclub.png" width="460" height="240"/>'

           var infowindow    =  new google.maps.InfoWindow({
      content:contentimage
      })
     google.maps.event.addListener(marker,'click',function(){
        infowindow.open(map,marker); });

  var btn1=document.getElementById('btn1');    
       google.maps.event.addDomListener(btn1, 'click', function(){ 
```

我被困在这里..

感谢帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T13:34:59.187

你是否试图做这样的事情：

[http://www.geocodezip.com/v3_polyline_example_geodesic_proj.html](http://www.geocodezip.com/v3_polyline_example_geodesic_proj.html)

一个带有指向下一个链接的信息窗口，如果单击该链接，它将打开“下一个”信息窗口。

没有理由链接不能是一个按钮。

# android - 如何在 LinearLayout 中设置 WebView

> ID：13062858
> 
> 赞同：3
> 
> 时间：2012-10-25T06:31:30.383
> 
> 标签：android, android-layout

我正在尝试在线性布局中设置 webview。我刚刚在线性布局内创建了一个 xml 线性布局文件、进度条和一个 webview。

```
<?xml version="1.0" encoding="UTF-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/layout"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <ProgressBar
        android:id="@+id/progWeb"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:background="@android:color/darker_gray"
        android:max="100"
        android:visibility="invisible" />

    <WebView
        android:id="@+id/web"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent" />

</LinearLayout> 
```

和java文件它只显示进度条。此代码未显示 Webview

```
public class MainActivity extends Activity {

    private WebView web;
    private ProgressBar progBar;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        getWindow().requestFeature(Window.FEATURE_PROGRESS);
        setContentView(R.layout.activity_main);
        web = (WebView) findViewById(R.id.web);
        progBar = (ProgressBar) findViewById(R.id.progWeb);

        progBar.setVisibility(ProgressBar.INVISIBLE);
        String url = "http://www.google.com.pk/";

        web.getSettings().setJavaScriptEnabled(true);
        web.setWebChromeClient(new WebChromeClient() {
            public void onProgressChanged(WebView view, int progress) {
                System.out.println(progress);
                progBar.setProgress(progress);

                if (progress == 100) {
                    progBar.setVisibility(ProgressBar.INVISIBLE);
                    progBar.setProgress(0);
                } else {
                    progBar.setVisibility(ProgressBar.VISIBLE);
                }
            }
        });

        web.loadUrl(url);

    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-25T06:38:52.840

您需要将方向设置为`LinearLayout`to `vertical`，默认为`horizontal`

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-25T06:39:48.587

将布局更改为

```
 <?xml version="1.0" encoding="UTF-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/layout"
android:layout_width="fill_parent"
android:orientation="vertical"//==============> Here
android:layout_height="fill_parent" >

<ProgressBar
    android:id="@+id/progWeb"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:background="@android:color/darker_gray"
    android:max="100"
    android:visibility="invisible" />

<WebView
    android:id="@+id/web"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" />

</LinearLayout> 
```

默认情况下，LinearLayout 将设置为方向为`Horizontal`. 指定方向的类型将解决您的问题

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-25T06:40:38.017

```
<?xml version="1.0" encoding="UTF-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/layout"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <WebView
        android:id="@+id/web"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent" />

</LinearLayout> 
```

* * *

你的活动

```
public class YourActivityName extends Activity{

    private WebView webView;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        this.getWindow().requestFeature(Window.FEATURE_PROGRESS);
        setContentView(R.layout.aboutus);

        String url = "http://www.google.com.pk/";
        getWindow().setFeatureInt(
            Window.FEATURE_PROGRESS, Window.PROGRESS_VISIBILITY_ON); 
        webView=(WebView)findViewById(R.id.webViewLoad); 
        webView.getSettings().setJavaScriptEnabled(true);   
        webView.getSettings().setSupportZoom(true);         
        webView.getSettings().setBuiltInZoomControls(true);
        webView.loadUrl(url);

        webView.setWebViewClient(new WebViewClient() {
            ProgressDialog progressDialog = new ProgressDialog(YourActivity.this);

            @Override
            public void onPageStarted(WebView view, String url, Bitmap favicon) {
                super.onPageStarted(view, url, favicon);
                Log.e("I am  loading Here ","Start");
                progressDialog.setTitle("Loading");
                progressDialog.setMessage("Please wait....");
                progressDialog.show();
            }

            @Override
            public boolean shouldOverrideUrlLoading(WebView view, String url) {
                Log.e("I am  loading Here ","Override");
                view.loadUrl(url);
                return true;    
            }

            @Override
            public void onPageFinished(WebView view, String url) {
                progressDialog.dismiss();
            }
        });
    }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-25T06:40:40.357

更改 LinearLayout 方向 `android:orientation="vertical"`并更改进度条的宽度`android:layout_width="wrap_content"`

还要更改 Progressbar Gravity 。`android:layout_gravity="center"`

![在此处输入图像描述](../Images/f77e2eec358adea14f23b65a3fbc097c.png)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-25T06:42:03.897

你最好在RelativeLayout中使用Webview而不是Linear，它应该可以解决问题。

```
<ProgressBar
    android:id="@+id/progWeb"
    style="@style/progressbar"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:background="@android:color/darker_gray"
    android:max="100"
    android:visibility="invisible" />

<WebView
    android:id="@+id/web"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:layout_below="@+id/progWeb"
    android:layout_marginTop="28dp" /> 
```

# jquery - jquery在joomla中的使用

> ID：13062860
> 
> 赞同：-1
> 
> 时间：2012-10-25T06:32:01.540
> 
> 标签：jquery, joomla

我使用 jquery 进行分页，使用 rokbok 进行弹出。如果我使用 jquery 弹出功能不起作用。如果我使用 rokbok 进行弹出分页不起作用。我是新手。我都需要工作。谁能帮我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T06:45:17.300

1.  您可能遇到 jquery 冲突。

> 许多 JavaScript 库使用 $ 作为函数或变量名，就像 jQuery 一样。在 jQuery 的例子中，$ 只是 jQuery 的别名，所以所有功能都可以在不使用 $ 的情况下使用。如果我们需要在 jQuery 旁边使用另一个 JavaScript 库，我们可以通过调用 $.noConflict() 将 $ 的控制权返回给另一个库：

```
<script type="text/javascript">
  $.noConflict(); // OR jQuery.noConflict(); 
  // Code that uses other library's $ can follow here.
</script> 
```

[阅读更多](http://docs.jquery.com/Using_jQuery_with_Other_Libraries)

1.  检查插件所需的 jquery 版本是否已正确加载。

2.  尝试使用[jQuery Easy](http://extensions.joomla.org/extensions/core-enhancements/performance/jquery-scripts/18327)。该插件旨在清理和准备前端和后端以供使用 jQuery 以及 Mootools 库。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T07:01:01.007

非常感谢所有治愈我的人。我通过使用 noconflict() 得到它；

```
 <script type="text/javascript" src="jquery.js"></script>
    <script>
    jQuery.noConflict();
    </script> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-25T11:34:06.423

有时使用 noConflict 可能不是最好的方法，因为您必须继续将其添加到您在他们使用 jquery 的页面上使用的扩展中。

因此，请改为使用以下代码来确保您的页面上仅加载 1 个版本的 jquery。

```
// load jQuery, if not loaded before
if(!JFactory::getApplication()->get('jquery')){
    JFactory::getApplication()->set('jquery',true);
    $document =& JFactory::getDocument();
    $document->addScript(JURI::root() . "path/goes/here/jquery-1.8.2.js");
} 
```

# python - python子进程模块古怪吗？

> ID：13062865
> 
> 赞同：0
> 
> 时间：2012-10-25T06:32:22.117
> 
> 标签：python, linux, subprocess

今天早些时候，这段代码按我的意愿工作。现在没有了。我希望它运行 airodump 并将输出存储到 csv 文件（命令行选项）。几秒钟后终止该进程。

```
def find_networks():
airodump = subprocess.Popen(["airodump-ng","-w","airo","--output-format","csv","mon0"],stdout=subprocess.PIPE, stderr=subprocess.PIPE)  
time.sleep(10)
try:
    os.kill(airodump.pid, signal.SIGTERM)
    if not airodump.poll():
        print "shouldn't have had to do this.."
    airodump.kill()
    if not airodump.poll():
        print "shouldn't have had to do this....."
    airodump.terminate()
    if not airodump.poll():
        print "shouldn't have had to do this........"
except OSError:
    print "?"
    pass
except UnboundLocalError:
    print "??"
    pass        
return_code = airodump.wait()
print return_code 
```

（这里的输出是：不应该这样做......不应该这样做...... -9）

早些时候它会完全按照我所说的（相同的代码）。负数 9 令人担忧，早些时候我得到 1，但进程仍然死掉，这很重要，但不是因为 os.kill 语句，这很奇怪。不过这不是大问题。我只需要那个 .csv 文件。有了这个实现，csv 文件完全是空的——它被制作了，但没有任何东西放入其中。如果我在没有将标准输出设置为 PIPE 的情况下运行子进程，则会创建并填充 csv 文件，但我不能那样做——我必须将标准输出保持在屏幕之外。

stdout=subprocess.PIPE 是否导致数据被“写入”到 PIPE-land 中不存在的 csv 文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:49:20.777

使用示例代码很难重现机器上发生的事情。但是可能会导致一些问题的一件事：只有`stdout=subprocess.PIPE`在您实际上打算从管道中读取时才应该使用。如果你不这样做，一旦它产生足够的输出来填满管道缓冲区，进程就会阻塞。

如果您只想隐藏标准输出和标准错误，您可以这样做：

```
airodump = subprocess.Popen(..., stdout=open("/dev/null", "w"), stderr=open("/dev/null", "w")) 
```

或者更好：

```
import os
airodump = subprocess.Popen(..., stdout=open(os.devnull, "w"), stderr=open(os.devnull, "w")) 
```

或者，如果您使用的是 Python 3，则可以使用[subprocess.DEVNULL](http://docs.python.org/dev/library/subprocess.html#subprocess.DEVNULL)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T06:48:18.150

由于您将输出发送到 PIPE，因此如果需要，您应该明确将其读出，然后可以将其写入本地文件。某事喜欢：

```
airodump = subprocess.Popen(["airodump-ng","-w","airo","--output-format","csv","mon0"],stdout=subprocess.PIPE, stderr=subprocess.PIPE)
... # wait the command to complete
open("the_file_you_want_to_store_output", "w").write(airodump.stdout.read()) 
```

# twitter-bootstrap - Twitter Bootstrap navbar-fixed-top 小屏幕修复 Meteor

> ID：13062868
> 
> 赞同：3
> 
> 时间：2012-10-25T06:32:30.353
> 
> 标签：twitter-bootstrap, meteor

我遇到了这篇文章中描述的问题：

[Twitter Bootstrap 响应式导航栏在小屏幕上损坏](https://stackoverflow.com/questions/10185384/twitter-bootstrap-responsive-navbar-broken-on-small-screens)

不过，我不确定如何在 Meteor 中解决这个问题，因为 Meteor 似乎在幕后完成了所有这些工作......

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T15:44:56.137

我发现这个问题很有趣，可以找出一些解决方案，并收集关于这个问题的一些基本想法。

Meteor 在其文档中声明应用程序的编写*方式应该对文件加载的顺序不敏感*（请参阅[Meteor 文档](http://docs.meteor.com/#concepts)）。*虽然这（理想情况下）是设计和加载 javascript 模块和依赖项的一个很好的范例，但它提出了在像bootstrap*这样的基础上定义用户样式时如何做到最好的问题。

事实上，当涉及到 css 时，*顺序很重要，**因为特定样式应该覆盖默认样式*。使用像 Meteors *bootstrap*`bootstrap.css`包这样的智能包，`bootstrap_responsive.css`一个接一个的加载顺序是固定定义的。如此说来，在它之间“即时”放置一些东西是不可能的。

**推荐的解决方案：在 boostrap/responsive 之上覆盖**：

在我看来，最佳实践是定义和加载用户样式，使其在加载所有基础文件*后按预期工作。*一个例子：

*引导用户.css*：

```
@media (min-width: 980px) {
  body {
    padding-top: 60px;
    padding-bottom: 40px;
  }
} 
```

将其放入您的用户 css 文件之一，一切都应该没问题。项目根目录中的用户 css 文件*总是*在智能包文件（如引导包链接的那些文件）之后加载。

**好吧，这是“跨风格”的方法**

如果您仍然想以[this answer](https://stackoverflow.com/questions/10185384/twitter-bootstrap-responsive-navbar-broken-on-small-screens)中描述的方式破解它（甚至推特本身也建议），您可以编写自己的*智能包*：

*包.js*：

```
Package.describe({
  summary: "UX/UI framework from Twitter - My variant"
});

Package.on_use(function (api) {
  api.add_files('css/bootstrap.css', 'client');
  api.add_files('css/bootstrap-pre-responsive.css', 'client');
  api.add_files('css/bootstrap-responsive.css', 'client');
  ...
  // More resource definitions like glyphicons-halflings go here
  ...
} 
```

而包文件*css/bootstrap-pre-responsive.css*包含：

```
body {
  padding-top: 60px;
  padding-bottom: 40px;
} 
```

或者，您可以跳过使用智能包进行引导集成，而是让 Meteor 收集和加载项目资源 - 项目根目录中的加载顺序约定在 Meteor 文档的概念部分中进行了描述。但是：这意味着以反映所需顺序的字母方式命名文件！（不是很优雅）

但是，我个人不喜欢后一种方式描述的解决问题的方式。

最后但并非最不重要的一点：当然，有时它是构建和编译自己的 boostrap 变体的最佳方式，其中所有需要的样式都被压缩到一个文件中。

# c# - 查找重复记录并将记录合并到单个数据表c#

> ID：13062875
> 
> 赞同：5
> 
> 时间：2012-10-25T06:33:07.763
> 
> 标签：c#, linq, datatable, group-by, sum

我能够从 DataTable 行中找到重复项。如下：

```
var groups = table.AsEnumerable()
        .GroupBy(r => new
        {
            c1 = r.Field<String>("Version"),
        });
        var tblDuplicates = groups
            .Where(grp => grp.Count() > 1)
            .SelectMany(grp => grp)
            .CopyToDataTable(); 
```

现在，我想将所有重复的记录合并为单个并将其汇总为 Value 列值。

非常类似于以下内容：

有重复的数据表：

```
Version   Value  
1  2

2  2

2  1

1  3

2  1

3  2 
```

没有重复的数据表和值总和。：

```
Version   Value  
1  5

2  4

3  2 
```

我知道这个链接在反射的帮助下做到了这一点。 [http://forums.asp.net/t/1570562.aspx/1](http://forums.asp.net/t/1570562.aspx/1)

还有其他方法吗？

编辑：但是，如果我有两个以上的列，比如五列，我仍然想对 Value 列进行求和，并且还需要 resulatant summed 数据表中的其他列数据。怎么做？在这里，我在结果 DataTable 中获得了版本和值。我也想要其他具有值的列。如下：

版本 col1 col2 值

```
1  A A 2

2  B B 2

2  B B 1

1  A A 3

2  B B 1

3  C C 2 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-25T06:42:48.147

```
var result = table.AsEnumerable()
            .GroupBy(r => r.Field<string>("Version"))
            .Select(g =>
                {
                    var row = table.NewRow();
                    row.ItemArray = new object[]
                        {
                            g.Key, 
                            g.Sum(r => r.Field<int>("Value"))
                        };
                    return row;
                }).CopyToDataTable(); 
```

**编辑：**

如果您想保留其他字段，请尝试以下操作：

```
var result = table.AsEnumerable()
            .GroupBy(r => new
                {
                     Version = r.Field<String>("Version"),
                     Col1 =  r.Field<String>("Col1"),
                     Col2 =  r.Field<String>("Col2")
                })
            .Select(g =>
                {
                    var row = g.First();
                    row.SetField("Value", g.Sum(r => r.Field<int>("Value")));
                    return row;
                }).CopyToDataTable(); 
```

# iphone - iOS 6 中的 TextView 未对齐

> ID：13062881
> 
> 赞同：0
> 
> 时间：2012-10-25T06:33:23.237
> 
> 标签：iphone

我在我的 xib 中采用了两个 textview。也以编程方式给出了相同的框架。但是当我运行我的项目时，它没有像我在 xib 中设置的那样显示我。所有的 textviews 都从 x=0，y=0 开始。`txt_summary.frame = CGRectMake(9, 118, 302, 410); txt_title.frame = CGRectMake(67, 8, 233, 81);`请帮助我。提前谢谢你...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:49:11.370

这是方法。打开您的 xib 文件。

转到文件检查器，然后禁用自动布局。

![在此处输入图像描述](../Images/e656f45380dbaeeec9cf5d0d6f3720e7.png)

# delphi - 为什么在 Delphi 中可以将抑扬符用于控制字符，这是一个好主意吗？

> ID：13062882
> 
> 赞同：6
> 
> 时间：2012-10-25T06:33:23.377
> 
> 标签：delphi, syntax, history

我刚刚遇到了一个关于 SO 的答案，语法很奇怪：

[如何在 Delphi 中的字符串中包含换行符？](https://stackoverflow.com/questions/254407/how-do-i-include-a-newline-character-in-a-string-in-delphi)

`MyString := 'Hello,' + ^M + ^J + 'world!';`

我已经使用 Delphi 好几年了，但我不知道您可以将抑扬符用于控制字符。

这只是早期 Delphi 或 Turbo Pascal 时代的遗留物吗？

现在应该使用它吗？

PS：我不是在询问有关换行符的建议，原始问题中讨论了 sLineBreak 和其他方法。

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-25T08:32:16.473

不，它不是从 Turbo Pascal 时代开始的。它是在 TP 之前的几十年，在 MS-DOS 之前，甚至可能在 UNIX 之前。像第一个每秒 300 位的拨号调制解调器和 DEC VT-52 终端、PDP-8 机器上的 RT-8 操作系统和早期版本的 C 之类的旧东西。或者甚至更老——尽管对我来说更老的一切都只是传说 :-) .

“^”符号是“Ctrl”键的快捷键。所以`^C`在传统表示法中代表`Ctrl+C`微软表示法。该符号在 MS-DOS 时代被广泛用于文本模式菜单，如前面提到的 Turbo Pascal、Norton Utilities、DOS Navigator 等。

根据我的记忆，您可以考虑用“^”表示“减 64”。就
这样。_ _ 并且将是:-) 在 MS-DOS 中按 Ctrl+Shift+"2/@" 的 AFAIR 实际上会生成BIOS 键盘缓冲区 :-) `Chr(65)``'A'``Chr(1)``^A`
`^@``#0``#0`

^[ 将 AFAIR`#27`又名 Esc(ape) char - 如果您运行`telnet.exe`，您会看到它被提示为转义字符。

因此，Turbo Pascal 很久以前就选择遵循时间祝福的约定，然后从那时起就开始采用向后兼容的规则。就个人而言，我比你想要它在一行上`'bla-bla'^M^J'foo-baz'`更像字符串。`'bla-bla'#13#10'foo-baz'`当您的文字需要多个源代码行时，使用 plus 构造值更合适。

遗憾的是，Delphi IDE 中的语法高亮在这种常量上是无可救药的。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-25T06:40:40.520

是的，这是昔日的遗产。

不，您不应该养成使用此功能的习惯。请记住，阅读代码的频率高于编写代码的频率。始终考虑您的读者，他们很可能不知道该语法的含义。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-25T06:37:10.287

是的，这是 TP 日遗留下来的。你也可以这样写你的陈述

```
mystring:= 'Hello'#13#10'world!'; 
```

这可能比使用 ^M 和 ^J 不那么晦涩难懂，也更容易理解。当然，你真的应该定义常量

```
const
 crlf = #13#10

begin
 mystring:= 'Hello' + crlf + 'world!';
end; 
```

# objective-c - 管理导航控制器/视图控制器

> ID：13062884
> 
> 赞同：0
> 
> 时间：2012-10-25T06:33:43.837
> 
> 标签：objective-c, ios, xcode

不知道如何命名这个问题，但我遇到了这样一个问题：到目前为止，我的应用程序主要在一个带有表格视图的导航控制器中运行。但现在我正在尝试集成下拉设置菜单，但无法正确完成。

我现在所做的方式，它的工作原理

从一个按钮调用changeController。ChangeController 在 appdelegate 中。

```
- (void) ChangeController
{
    self.window.backgroundColor = [UIColor blackColor];
    DropDownExample *e = [[DropDownExample alloc] initWithStyle:UITableViewStyleGrouped];
    self.navigationController = [[UINavigationController alloc] initWithRootViewController:e];
    [e release];
    [self.window addSubview:self.navigationController.view];
    self.window.backgroundColor = [UIColor blackColor];
    [self.window makeKeyAndVisible];
} 
```

但是这种方法有后果——如果按下按钮没有过渡，设置菜单会立即出现，你不能通过上面的导航栏返回（那里什么都没有）。

那么如何正确地做到这一点？我是 ios 新手，所以请告诉我整个想法如何做到这一点。

来自 appdelegate 的 Didfinishlaunchingwithoptions 方法

```
 - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
    {

        self.window = [[[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]] autorelease

];
    // Override point for customization after application launch.
    self.window.backgroundColor = [UIColor whiteColor];

    TableViewController *tableVC = [[TableViewController alloc] initWithNibName:@"TableView" bundle:nil andType:CONTROLLER_TYPE_FIRST];
    UINavigationController *navC = [[UINavigationController alloc] initWithRootViewController:tableVC];
    self.navigationController = navC;
    [tableVC release];
    [navC release];
     self.window.rootViewController = _navigationController;
    [self.window makeKeyAndVisible];

    return YES;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T06:51:20.183

好的，这就是答案。将方法写在`changeController`Button 所在的同一个类中，该类调用`changeController`

在方法中，写下这个。

```
- (void) ChangeController
{
    DropDownExample *e = [[DropDownExample alloc] initWithStyle:UITableViewStyleGrouped];
    [self.navigationController pushViewController:e animated:YES];
    [e release];
} 
```

您想要的是在当前堆栈的顶部插入新的 UIViewController。如果默认情况下顶部有一个导航栏，那么默认情况下会有一个后退 Btn，它将弹出该控制器。

# javascript - 如何将拖放结果存储为图像

> ID：13062885
> 
> 赞同：4
> 
> 时间：2012-10-25T06:33:45.780
> 
> 标签：javascript, jquery, html, html2canvas

我想截取拖放结果的屏幕截图，但我不知道该怎么做。

实际上，我找到了 2 个 javascript 并使用 HTML5，例如**html2canvas**和**canvas2image**。

我现在将它们组合在一起，但 canvas2image 仍然遇到一些问题。

有同样经验的请帮我解决这个问题，非常感谢。

请帮帮我，我已经在这里存货好几天了。

拖放代码。

```
<script>
$(function() {
    $( "#draggable" ).draggable();
    $( "#draggable2" ).draggable();
    $( "#droppable" ).droppable({
        hoverClass: "ui-state-active",
        drop: function( event, ui ) {
            $( this )
                .addClass( "ui-state-highlight" )
                .find( "p" )
                    .html( "Dropped!" );
        }
    });

});
</script> 
```

图像生成代码

```
<script>
window.onload = function() {
function convertCanvas(strType) {
    if (strType == "JPEG")
        var oImg = Canvas2Image.saveAsJPEG(oCanvas, true);

    if (!oImg) {
        alert("Sorry, this browser is not capable of saving " + strType + " files!");
        return false;
    }

    oImg.id = "canvasimage";

    oImg.style.border = oCanvas.style.border;
    oCanvas.parentNode.replaceChild(oImg, oCanvas);
}

function convertHtml(strType) {
    $('body').html2canvas();
    var queue = html2canvas.Parse();
    var canvas = html2canvas.Renderer(queue,{elements:{length:1}});
    var img = canvas.toDataURL();
    convertCanvas(strType);
    window.open(img);
    }

document.getElementById("html2canvasbtn").onclick = function() {
    convertHtml("JPEG");
    }
}
</script> 
```

HTML 代码

```
<body>
<h3>Picture:</h3>

<div id="draggable">
<img src='http://1.gravatar.com/avatar/1ea64135b09e00ab80fa7596fafbd340?   s=50&d=identicon&r=R'>
</div>

<div id="draggable2">
<img src='http://0.gravatar.com/avatar/2647a7d4b4a7052d66d524701432273b?s=50&d=identicon&r=G'>
</div>

<div id="dCanvas">
<canvas id="droppable" width="500" height="500" style="border: 2px solid gray"   class="ui-widget-header" />
</div>
<input type="button" id="bGenImage" value="Generate Image" />
<div id="dOutput"></div>

</body> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-26T23:07:33.970

一个没有库的工作示例：

```
<html>
<head>
    <script>

        function allowDrop(e)
        {
            e.preventDefault();
        }

        function drag(e)
        {
            //store the position of the mouse relativly to the image position
            e.dataTransfer.setData("mouse_position_x",e.clientX - e.target.offsetLeft );
            e.dataTransfer.setData("mouse_position_y",e.clientY - e.target.offsetTop  );

            e.dataTransfer.setData("image_id",e.target.id);
        }

        function drop(e)
        {
            e.preventDefault();
            var image = document.getElementById( e.dataTransfer.getData("image_id") );

            var mouse_position_x = e.dataTransfer.getData("mouse_position_x");
            var mouse_position_y = e.dataTransfer.getData("mouse_position_y");

            var canvas = document.getElementById('canvas');
            var ctx = canvas.getContext('2d');

            // the image is drawn on the canvas at the position of the mouse when we lifted the mouse button
            ctx.drawImage( image , e.clientX - canvas.offsetLeft - mouse_position_x , e.clientY - canvas.offsetTop - mouse_position_y );
        }

        function convertCanvasToImage() {
            var canvas = document.getElementById('canvas');

            var image_src = canvas.toDataURL("image/png");
            window.open(image_src);

        }

    </script>
</head>
<body>
    <div style="float:left" >
        <div>
            <img id="img1" draggable="true" ondragstart="drag(event)" src='img1.png'>
            <img id="img2" draggable="true" ondragstart="drag(event)" src='img2.png'>
            <input type="button" onclick="convertCanvasToImage()" value="Generate Image" style="float:right"/>
        </div>
        <canvas id="canvas"  ondrop="drop(event)" ondragover="allowDrop(event)" width="500" height="500" style="border: 1px solid gray"  />

    </div>

</body> 
```

图像必须具有相同的来源才能使用 toDataURL。生成的图像在新窗口中打开，就像在您的代码中一样，但您也可以将其附加到页面上，保存在磁盘上或上传到服务器上。

[http://fiddle.jshell.net/gael/GF96n/4/](http://fiddle.jshell.net/gael/GF96n/4/)

# c - 如何从控制台获取线程调度策略

> ID：13062887
> 
> 赞同：6
> 
> 时间：2012-10-25T06:33:50.337
> 
> 标签：c, linux

这可以从 linux 控制台找出线程调度策略吗？`pthread_getschedparam()`我的意思是有可能从控制台接收返回的东西吗？

我需要弄清楚什么是政策`SCHED_FIFO, SCHED_RR or SCHED_OTHER`。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-25T07:03:20.650

命令**ps -eLfc**将在标题为**CLS**的行下为您提供与它们的调度策略一起运行的线程列表。RR（循环）、TS（时间共享）是可能存在的一些调度策略。如果您想启动一个进程并为其线程提及特定的调度策略，那么您可以使用命令**chrt**。

# javascript - 用于角度/引导的树视图显示 JS

> ID：13062890
> 
> 赞同：1
> 
> 时间：2012-10-25T06:34:16.043
> 
> 标签：javascript, html, twitter-bootstrap, angularjs

任何可以与角度/引导程序一起使用的良好树视图显示 js 的指针？

# c# - 客户端无法连接到服务器

> ID：13062891
> 
> 赞同：-1
> 
> 时间：2012-10-25T06:34:18.153
> 
> 标签：c#, .net, wcf, wcf-client, wcf-configuration

我是 WCF 的新手，所以我真的需要你的帮助。

我有两个使用 WCF 的程序。如果它们在一台计算机上运行并且客户端使用地址*net.tcp:\Localhost:8001\MyService*连接到服务器（例如地址为 192.168.1.1），一切正常。但是，当我将客户端的地址更改为*net.tcp:\192.168.1.1:8001\MyService*时，我得到了 system.timeoutexception，因为客户端无法连接服务器。

感谢帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T08:37:33.167

您可能需要允许外部访问防火墙中的端口。

只要您从`localhost`to 进行通信`localhost`，防火墙就不会发挥作用，因为这些请求由环回适配器处理。

但是当`localhost`与机器 IP 地址通信时，您正在发出由防火墙处理的网络请求（即使您在物理上仍在同一台机器上）。

顺便说一句：对于服务器端，无论您是使用端点启动 WCF 服务`localhost`还是`192.168.1.1`.

**编辑**
我写道，不管你听`localhost`还是听都没关系`192.168.1.1`——只有当你只有一个网络适配器可用时，这才是正确的。

只要有两个或更多网卡（例如：无线 LAN 已打开并且您通过电缆连接），`localhost`或者`0.0.0.0`将使服务在任何适配器上侦听。使用`192.168.1.1`将使服务仅侦听该 IP 地址上的连接。

了解这一点很重要，尤其是在不同的网络适配器成为不同（子）网络的成员的情况下。

例如：一个适配器连接到`192.168.1`网络，另一个适配器连接到`192.168.2`网络。如果您的服务正在侦听，`localhost`或者`0.0.0.0`它可以从两个网络访问。如果它只监听`192.168.1.1`，它将无法用于`192.168.2`网络。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2012-10-25T08:27:25.393

请检查“192.168.1.1”是否包含在您的“主机”文件中。试一试。

主机文件可以在“C:\Windows\System32\drivers\etc”中找到

# c++ - Visual C++ 线程简单示例

> ID：13062895
> 
> 赞同：6
> 
> 时间：2012-10-25T06:34:25.270
> 
> 标签：c++, multithreading, visual-c++, beginthread

我正在尝试通过将函数传递给 _beginthread 从 main 创建一个基本线程。但我的输出没有完成。

我得到以下输出：

```
Starting thread
48
Main ends
I 
```

有人可以澄清以下代码中有什么问题吗？

```
#include <iostream>
#include <process.h>
using namespace std;

void test(void *param)
{
    cout << "In thread function" << endl;
    Sleep(1000); // sleep for 1 second
    cout << "Thread function ends" << endl;
    _endthread();
}

int main()
{
    cout << "Starting thread" << endl;
    cout << _beginthread(test,0,NULL);
    cout << "Main ends" << endl;
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-25T06:36:51.763

因为从 main 返回将停止应用程序中的任何线程。您需要等到线程停止。具有全局变量的最简单解决方案 - 老实说，这是一个非常糟糕的例子。您需要在线程句柄上使用等待函数。

```
#include <iostream>
#include <process.h>
using namespace std;

bool threadFinished = false;

void test(void *param)
{
    cout << "In thread function" << endl;
    Sleep(1000); // sleep for 1 second
    cout << "Thread function ends" << endl;
    threadFinished = true;
    _endthread();
}

int main()
{
    cout << "Starting thread" << endl;

    cout << _beginthread(test,0,NULL);
    while(!threadFinished)
    {
        Sleep(10);
    }
    cout << "Main ends" << endl;
    return 0;
} 
```

如何使用等待功能：

```
HANDLE hThread;
hThread = (HANDLE)_beginthread( test, 0, NULL);
WaitForSingleObject( hThread, INFINITE ); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2016-05-04T06:44:49.140

您可以使用[CreateThread](https://msdn.microsoft.com/en-us/library/windows/desktop/ms682453(v=vs.85).aspx)方法。

多线程的简单示例。

```
#include <Windows.h>
#include <iostream>

using namespace std; 

DWORD WINAPI thread1(__in LPVOID lpParameter) {
    while (1) {
        std::cout << " From Thread 1 \n";
        Sleep(3000);
    }

}

DWORD WINAPI thread2(__in LPVOID lpParameter) {
    while (1) {
        std::cout << " From thread 2\n"; 
        Sleep(1000);

    }
}

int main()
{

    DWORD threadID1, threadID2; 
    HANDLE h1 = CreateThread(NULL, 0, (LPTHREAD_START_ROUTINE)thread1, 0, 0,&threadID1);
    HANDLE h2 = CreateThread(NULL, 0, (LPTHREAD_START_ROUTINE)thread2, 0, 0, &threadID2);

    getchar();
    return 0;
} 
```

其中线程 1 每 3 秒打印一次，thread2 每秒打印一次。

如果您的进程更大，您可以分配堆栈大小。

> [StackSize](https://msdn.microsoft.com/en-us/library/windows/desktop/ms686774(v=vs.85).aspx)解释

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-25T06:37:08.183

您需要使用一些同步原语等待线程结束，否则您的程序将在线程完成执行之前调用 ExitProcess。

您可以先阅读[同步](http://msdn.microsoft.com/en-us/library/windows/desktop/ms686353%28v=vs.85%29.aspx)以了解如何编写多线程应用程序。在您的情况下，您需要[单个对象等待函数](http://msdn.microsoft.com/en-us/library/windows/desktop/ms687069%28v=vs.85%29.aspx#single-objectwaitfunctions)。

请参阅 msdn 示例：http: [//msdn.microsoft.com/en-us/library/kdzttdcb%28v=vs.71%29.aspx](http://msdn.microsoft.com/en-us/library/kdzttdcb%28v=vs.71%29.aspx)

所以，你的主要功能应该是这样的：

```
int main()
{
    HANDLE hThread;
    cout << "Starting thread" << endl;
    cout << (hThread = (HANDLE)_beginthread(test,0,NULL));
    WaitForSingleObject( hThread, INFINITE );
    cout << "Main ends" << endl;
    return 0;
} 
```

# java - 我如何在java中通过其键访问数组并将数组存储在hashmap中

> ID：13062896
> 
> 赞同：-1
> 
> 时间：2012-10-25T06:34:25.123
> 
> 标签：java, arrays, hashmap

我如何通过java中的键访问数组

在这种情况下，我希望结构是这样的，

```
options[{"value":"0","label":"zero"},{"value":"1","label":"one"},
   {"value":"2","label":"two"}] 
```

在这里，如果我想访问`options[1].value`应该给我 1 并且`options[2].label`应该给我两个。

我怎样才能做到这一点`Map<string><string[]>`？

我也可以将“选项”数组作为我的哈希映射中的键之一传递吗

```
 protected Map<String, String[]> getValueProperties(int view, Field field) {
 Map<String, String> properties = new   HashMap<String,String[]>();             
        properties.put("options", []);
        return properties
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T06:41:21.823

您应该创建一个代表您的对象的新类：

```
public final class MyObject {
    private String value;
    private String label;

    public MyObject(String label, String value) { ... }

    public String getValue() { ... }
    public String getLabel() { ... }
} 
```

然后创建一个列表`MyObject`：

```
final List<MyObject> objects = new ArrayList<>();
objects.add(new MyObject("zero", "0");
objects.add(new MyObject("one", "1");
objects.add(new MyObject("two", "2"); 
```

然后您可以直接访问对象值：`objects.get(0).getValue();`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T06:42:52.387

创建`class`如下

```
class Entry
{
    int value;
    string label; 
    public Entry(int val, string lbl)
    {
        this.value = val;
        this.label = lbl;
    }
} 
```

现在创建你`options`的数组如下：

```
Entry[] options = new Entry[3];
options[0] = new Entry(0, "zero");
options[1] = new Entry(1, "one");
options[2] = new Entry(2, "two"); 
```

> 如果我想访问 options[1].value 应该给我 1 和 options[2].label 应该给我两个

现在， options[1].value 会给你 1。

# performance - MongoDB + SpringData 查询很慢

> ID：13062897
> 
> 赞同：2
> 
> 时间：2012-10-25T06:34:28.230
> 
> 标签：performance, mongodb, spring-data

我有这个简单的课程：

```
@Document (collection = "advertise")
public class AdvertiseCache {
    @Id
    private int id;

    private int brandId;
    private String brandName;
    private String modelName;

    @Indexed
    private int odometer;

    @Indexed
    private int price;
    private boolean learner;
    private int manufacturedYear;
    private double engineSize;
    private String transmissionTypeName;
    private String stateName;
    private String ownerTypeName; //private/dealer
    private String conditionTypeName; //new/used
} 
```

我有另一个具有相同属性但使用@Entity 注释的类。

它们分别存储在 MongoDB 和 PostgreSQL 中。

我正在使用 Spring Data JPA for PostgreSQL 和 Spring Data MongoDB ... for mongo。

两个数据库都包含相同的数据，30 行。

*   10000 次 findAll 类型的查询将花费：Mongo ~8000-9000ms 和 PostgreSQL ~10000-11000ms

*   findAll 类型的 10000 个查询，其中价格 >= 1 和价格 <=9000 和里程表 >=1 和里程表 <= 40000 将花费：Mongo：~7000ms 和 PostgreSQL ~7200ms

**为什么？难道我做错了什么？**我期待 mongo 更快。（我的应用程序很少使用，只是查找全部。大多数时候我使用过滤器进行排序）

两台服务器都在 FreeBSD 9 虚拟机中运行。我在另一个装有 CentOS 6.3 的虚拟机上测试了这个。类似结果+-100ms。

肿瘤坏死因子

/// 更多解释代码（我的过滤器构建器将仅包含 odometerMin、odometerMax 用于标准之间以及 priceMin 和 priceMax 用于标准之间：

```
public List<AdvertiseCache> findByFilter(FilterBuilder filter) {
    List<AdvertiseCache> result = null;
    Query query = new Query();
    Criteria criteria = new Criteria();
    criteria = criteria.and("price").gte(filter.getPriceMin()).lte(filter.getPriceMax());
    criteria = criteria.and("odometer").gte(filter.getOdometerMin()).lte(filter.getOdometerMax()); 
    query.addCriteria(criteria);
    query.limit(filter.getLimit());
    query.skip(filter.getOffset());
    result = mongoTemplate.find(query, AdvertiseCache.class, collectionName);
    return result;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-06-27T21:21:07.917

我不确定我是否在这里感到沮丧。或者更准确地说：你认为什么太慢/应该更快？如果我正确读取了您的数据点，那么每次执行查询的时间仍然不到 1 毫秒。

您可能想稍微改进一下测试场景：

1.  **您的数据模型相当简单。**一组原语并不能真正让 Mongo 大放异彩。如果您可以直接存储聚合而不是像使用关系存储那样将它们连接在一起，那么它就优于关系数据库。

2.  **您的访问模式是微不足道的。** `findAll(…)`只是将数据流式传输回客户端，并且可能也针对 Postgres 进行了相当优化。如果您正确设置了索引，Postgres 和 Mongo 应该不会有太大差异。此外，简单的范围查询并没有让 Mongo 真正出类拔萃。这基本上都归结为 1。如果你得到一个更复杂的数据模型并且 JOIN 开始在关系世界中堆积起来，你就会看到不同之处。

3.  **您读取的数据很少。**30 行/文档根本算不了什么。要查看差异，您需要增加要返回的文档/行的数量。如果这样做，请确保将苹果与苹果进行比较：使用 Spring Data MongoDB，您可以获得文档到对象的映射，而使用普通 JDBC 则无法获得。

我会得出两个结论：

1.  对于 Postgres 或一般的关系方法来说，除了你看到的结果之外，其他任何结果都将是一个令人震惊的结果。MongoDB 是一个很棒的数据库，但是如果它在这样一个简单的情况下（非常简单的模型、非常简单的查询、非常少的数据）超过了关系，那会不会让关系看起来像玩具？他们不是。它们只是具有使它们在某些情况下成为次优选择但在其他情况下甚至可能表现更好的特性。性能是决策的*一个*方面。数据进出存储的便利性是另一回事，可扩展性也是如此。

2.  如果您真的要进行商店比较，请确保在正确的抽象级别上进行比较。对于 MongoDB，这可能是 Postgres 端的原始驱动程序 API 与 JDBC。如果您将 O(R|D)M 带入游戏，则您正在比较商店 + 映射器框架，这可能会扭曲结果。

# regex - 如何为此 URL 类型编写正则表达式？

> ID：13062900
> 
> 赞同：-2
> 
> 时间：2012-10-25T06:34:34.940
> 
> 标签：regex, url

我对正则表达式有疑问。给出下面的示例 URL：

```
example.com/2012/12/4/akfjalj.html 
```

如何为这种类型的 URL 编写或定义正则表达式？

如果你能提供给我，那将是一个很大的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T06:39:15.437

```
<?php
$url = "http://example.com/2012/3/1/test.html";
$pattern = '/^https?:\/\/[a-z]+\/[0-9]{4}\/[0-9]{1,2}\/[0-9]{1,2}\/[a-z]+\.html$/';
$ismatch = preg_match($pattern, $url);
echo $ismatch; // 1 if true, 0 if false
?> 
```

参考[http://www.regular-expressions.info/php.html](http://www.regular-expressions.info/php.html)

# c - 链表队列。卡在指针上（我认为）

> ID：13062903
> 
> 赞同：0
> 
> 时间：2012-10-25T06:34:38.907
> 
> 标签：c, list, linked-list

当我运行这些方法时，我的列表永远不会增长，我也不知道为什么。头尾总是相等的。我的指针或结构设置有问题吗？我花了 4 个小时在这个切换东西上，我似乎无法找到为什么事情不工作，除非它是一个指针的东西（我正在学习并且不擅长）..

```
typedef struct EmployeeStruct
{
    char LastName[10];
    char FirstName[10];
    struct EmployeeStruct *next;  
} Employee;

struct EmployeeStruct *head,*tail, *temp;

Employee* hireEmployee(Employee* head, char LastName[10], char FirstName[10])
{
    // exit if max number of employees is reached
    if(eNum > MAX_EMPLOYEES)
    {
        printf("Sorry, but you can't hire any more employees right now\n");
        return 0;
    }
    // insert at tail
    newHire = head;
    while(newHire->next != NULL)
    {
        newHire = newHire->next;
        printf("nope\n");
    }
    // allocate memory
    newHire->next = malloc(sizeof(Employee));

    if(newHire == NULL)
    {
        printf("Memory allocation failed");
        return 0;
    }

    newHire->next = NULL;
    // insert values into this node
    strcpy(newHire->LastName, LastName );
    strcpy(newHire->FirstName, FirstName );
    newHire->EmployeeNumber = eNum;
    tail = newHire;
    //printf("%d\n",newHire->EmployeeNumber);
    eNum+=1;

    //printf("%d\n",newHire->EmployeeNumber);
    return newHire;
}

int main()
{  
    char choice;
    char first[20];
    char last[20];
    int i = 0;
    // allocate memory
    head = malloc(sizeof(Employee));

    if(head == NULL)
    {
        printf("Memory allocation failed");
        return 0;
    }
    head->next = tail;

    while(TRUE)
    {
        // prompt user for choice
        printf("Please choose from the following options:\n");
        printf("a: Hire new employee\nb: Promote employee\nc: Delete employee\nd: Display roster\ne: Exit\n");
            scanf("\n%c", &choice);

        switch(choice)
        {
            case 'a':
                printf("New employees first name:\n");
                    scanf("%s", first);
                printf("New employees last name:\n");
                    scanf("%s", last);
                tail = hireEmployee(head,last,first);
                temp = head;
                while(temp->next != NULL)
                {
                    temp = temp->next;
                    printf("nope\n");
                }
                temp->next = tail;
                tail = temp->next;
                printf("A%d: %s %s\n", tail->EmployeeNumber,tail->FirstName,tail->LastName);
                tail = tail->next;
                printf("A%d: %s %s\n", tail->EmployeeNumber,tail->FirstName,tail->LastName);
                tail->next = NULL;
                //printEmployees(head);
                break;
            case 'b':
                //TBD
                break;
        }
    }
} 
```

** 现在可以工作了，是这四个错误：

```
(newHire == NULL)    
(head == NULL)
newHire =newHire->next;
temp->next = tail; 
```

顺便说一句，我总是做作业和上课，而我只是被困在一个更大的程序的一小部分。因此，感谢那些没有侮辱我并实际上提供了有用建议的人。我真的很感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T06:48:38.067

这是你的错误

```
newHire->next = malloc(sizeof(Employee)); 
```

malloc 的返回类型是 void* 所以把它改成

```
newHire->next = (EmployeeStruct *)malloc(sizeof(Employee));

if(newHire == NULL) 
```

它永远不会为 NULL 将其更改为

```
if(newHire->next == NULL) 
```

也改变

```
newHire->next = NULL; 
```

你必须再遍历一个时间链接

```
newHire=newHire->next;
newHire->next = NULL; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T06:53:04.850

我认为问题出在这里

```
temp->next = tail;
tail = temp->next; 
```

在你的里面`case 'b'`

因为它`temp->next`做到了`head`

# d3.js - 将多个函数应用于 d3.js 对象，同时输入

> ID：13062908
> 
> 赞同：0
> 
> 时间：2012-10-25T06:34:56.653
> 
> 标签：d3.js, dry

这可能会在文档中得到解答，但我无法解决。

基本上我有一些`d3.js`像这样的标准代码：

```
group.selectAll('rect')
  .data(data)
.enter().append('svg:rect')
  .style('fill', colour)
  .on('mouseover', function(d, i) {
    chart.currentHoverItem = d
  })
  .on('mouseout', function(d, i) {
    chart.currentHoverItem = null
 }) 
```

在我的代码中，我在不同的方法中有一些相同的行。理想情况下，我想这样做：

```
var addEvents() {
   this.on('mouseover', function(d, i) { ... })
   this.on('mouseout', function(d, i) { ... })
}

group.selectAll('rect')
  .data(data)
.enter().append('svg:rect')
  .apply(addEvents) 
```

干燥此代码的最佳解决方案是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T07:20:16.813

您可能正在寻找[selection.call](https://github.com/mbostock/d3/wiki/Selections#wiki-call)，试试这个：

```
function addEvents(selection) {
    selection.on(...);
    selection.on(...);
}

group.selectAll('rect')
    .data(data)
.enter()
    .append('svg:rect')
    .call(addEvents); 
```

# c# - C#中不允许检查特殊字符

> ID：13062911
> 
> 赞同：2
> 
> 时间：2012-10-25T06:35:06.043
> 
> 标签：c#, regex

我必须从不允许的特殊字符列表中验证文本框。这都是不允许的字符。

```
"&";"\";"/";"!";"%";"#";"^";"(";")";"?";"|";"~";"+";" ";
                                                   "{";"}";"*";",";"[";"]";"$";";";":";"=";" 
```

半列仅用于分隔字符。我尝试为某些字符编写正则表达式以验证它是否有效，我将扩展它。它不起作用。我在这方面做错了什么。

```
Regex.IsMatch(textBox1.Text, @"^[\%\/\\\&\?\,\'\;\:\!\-]+$") 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-25T07:28:25.393

如果您只是在寻找任何字符列表，那么正则表达式是更复杂的选项。`String.IndexOfAny`将返回任何字符数组的第一个索引或 -1。所以检查：

```
if (input.IndexOfAny(theCharacetrers) != -1) {
  // Found one of them.
} 
```

`theCharacetrers`以前在类范围内设置的位置：

```
private readonly char[] theCharacetrers = new [] {'&','\','/','!','%','#','^',... }; 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-25T06:40:27.247

```
^[\%\/\\\&\?\,\'\;\:\!\-]+$ 
```

匹配*完全*由特殊字符组成的字符串。您需要反转字符类以匹配*不*包含特殊字符的字符串：

```
^[^\%\/\\\&\?\,\'\;\:\!\-]+$
  ^--- added 
```

或者，您可以使用此正则表达式匹配*仅*包含字母数字字符、连字符、下划线和撇号的任何字符串。

```
^[a-zA-Z0-9\-'_]$ 
```

您在评论中提到的正则表达式

```
[^a-zA-Z0-9-'_] 
```

匹配包含除允许字符之外的任何字符的字符串（不过，您可能需要转义连字符）。假设您正确反转条件（接受*不*匹配的字符串），这也有效。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-25T07:04:32.697

您需要从模式的开头删除**^并从模式的末尾删除****$**，否则为了匹配字符串应该以特殊字符开头和结尾。

所以，而不是

```
@"^[\%\/\\\&\?\,\'\;\:\!\-]+$" 
```

它应该是

```
@"[\%\/\\\&\?\,\'\;\:\!\-]+" 
```

[您可以在此处](http://www.regular-expressions.info/anchors.html)阅读有关字符串开头和字符串结尾锚点的更多信息

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-25T06:41:43.900

您的 RegExp 是“仅包含特殊字符的字符串（因为您有开始/结束标记`^`和`$`）。

您可能只想检查字符串是否不包含任何字符`@"[\%\/\\\&\?\,\'\;\:\!\-]")`就足够了。

[如果您只需要查看源字符串中是否存在任何字符，则 String.IndexOfAny](http://msdn.microsoft.com/en-us/library/system.string.indexofany%28v=vs.100%29.aspx)可能更合适。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-02-24T06:02:58.087

请在 textchange 事件中使用它

```
 //Regex regex = new Regex("([a-zA-Z0-9 ._@]+)");
        Regex regex = new Regex("^[a-zA-Z0-9_@(+).,-]+$");
        string alltxt = txtOthers.Text;//txtOthers is textboxes name;
        int k = alltxt.Length;
        for (int i = 0; i <= k - 1; i++)
        {

            string lastch = alltxt.Substring(i, 1);
            MatchCollection matches = regex.Matches(lastch);
            if (matches.Count > 0)
            {

            }
            else
            {

                txtOthers.Text = alltxt.Remove(i, 1);

                i = i - 1;
                alltxt = txtOthers.Text;
                k = alltxt.Length;
            }
            txtOthers.Select(txtOthers.TextLength, 0);
        } 
```

作者：沙拉夫哈米德

# networking - 在 Linux 中禁用流量控制

> ID：13062921
> 
> 赞同：1
> 
> 时间：2012-10-25T06:35:51.583
> 
> 标签：networking, linux-kernel, qos

我已经读过 Linux 中的流量控制功能将尝试调整出口流量以消除突发，并具有自己的队列机制。

我试图以更高的速率产生流量，因此在我的情况下，流量控制将是一个瓶颈。

我怎样才能禁用它，以便 linux 中的流量控制不进行排队？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2012-10-25T09:45:48.777

AFAIK 这只能在编译内核时完成：

> 许多发行版为内核提供了对流量控制（服务质量）的模块化或单片支持。自定义内核可能尚未为所需功能提供支持（模块化或非模块化）。

示例 1\. 内核编译选项

```
CONFIG_NET_SCHED=y
CONFIG_NET_SCH_CBQ=m
CONFIG_NET_SCH_HTB=m
CONFIG_NET_SCH_CSZ=m
CONFIG_NET_SCH_PRIO=m
CONFIG_NET_SCH_RED=m
CONFIG_NET_SCH_SFQ=m
CONFIG_NET_SCH_TEQL=m
CONFIG_NET_SCH_TBF=m
CONFIG_NET_SCH_GRED=m
CONFIG_NET_SCH_DSMARK=m
CONFIG_NET_SCH_INGRESS=m
CONFIG_NET_QOS=y
CONFIG_NET_ESTIMATOR=y
CONFIG_NET_CLS=y
CONFIG_NET_CLS_TCINDEX=m
CONFIG_NET_CLS_ROUTE4=m
CONFIG_NET_CLS_ROUTE=y
CONFIG_NET_CLS_FW=m
CONFIG_NET_CLS_U32=m
CONFIG_NET_CLS_RSVP=m
CONFIG_NET_CLS_RSVP6=m
CONFIG_NET_CLS_POLICE=y 
```

有关详细信息，请参阅[此文档。](http://linux-ip.net/articles/Traffic-Control-HOWTO/)

还要记住，除了流量控制之外，还有许多其他机制可以限制流量并实际上允许网络正常工作（例如 TCP 拥塞控制）。

# linux - linux nasm程序集隔离字符串中的字符

> ID：13062925
> 
> 赞同：1
> 
> 时间：2012-10-25T06:36:08.947
> 
> 标签：linux, assembly, x86, nasm

如果我有一个这样声明的字符串：

```
message db "ABCDEFGHIJ",0 
```

我怎样才能创建一个指针来允许我指向该字符串中的特定字符，例如“A”字符。而且，我怎样才能创建一个循环来增加指针并因此循环遍历整个字符串？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-25T07:05:51.080

```
 mov ecx, message ; Masm would use "offset"
top:
    mov al, [ecx] ; get a character
    inc ecx  ; get ready for next one
    cmp al, 0  ; end of string?
    jz done
; do something intelligent with al
    jmp top
done: 
```

# silverlight - Silverlight 5 的弹出窗口

> ID：13062927
> 
> 赞同：1
> 
> 时间：2012-10-25T06:36:18.147
> 
> 标签：silverlight, cross-domain, silverlight-5.0

我对 SL5 Pop-up 有奇怪的问题。

我的 SL5 应用程序工作并从位于其他域的 WCF 服务获取数据。一键单击，调用一些服务方法并返回文件路径。从服务返回时，结果用于打开弹出窗口。由于它不是用户实例化的，因此使用以下代码来实现此目的

```
new Repository().SaveExporttoExcelData(builder.ToString(), (result) =>
                {
                    this.Dispatcher.BeginInvoke(() =>
                    {
                        var options = new System.Windows.Browser.HtmlPopupWindowOptions();
                        options.Left = 0; options.Top = 0; options.Width = 80; options.Height = 60;

                        string servicePath=  path;
                        if (result != null)
                        {
                            string excelPath = servicePath.Replace("\\","/") +"/"+ result.ToString();
                            System.Windows.Browser.HtmlPage.Window.Eval(string.Format("window.open('{0}','{1}','{2}')", excelPath, "new", options.ToString()));
                        }
                        else
                        {
                            MessageDialog.Show("Error in downloading file. Please try again.");
                        }
                    });
                }); 
```

如果我从 VS 运行 SL5 应用程序并且服务指向产品服务环境，这可以正常工作。但是当我在 prod web 上托管 xap 时，相同的 SL 不起作用。我在 citrix 上，同样也可以在托管 web 的同一网络上工作。在打开弹出窗口之前，我还关闭了代理连接。

url 生成正常，弹出窗口会出现一段时间并关闭而不下载文件。但是如果我复制 URL 并在浏览器中打开，我可以下载该文件。我已经检查了弹出窗口阻止程序设置和代理连接。

# .htaccess - 我该怎么做这个 mod_rewrite？

> ID：13062928
> 
> 赞同：0
> 
> 时间：2012-10-25T06:36:21.760
> 
> 标签：.htaccess, mod-rewrite, redirect

我想将所有`http://localhost/webportal/organizations/32`请求重定向到`http://localhost/webportal/organizations/32?qt-organization_tabs=tab1#qt-organization_tabs`（其中 32 是一个变量）。

如何使用 mod_rewite 做到这一点？

**更新：**

我已经更新了上面的网址，最初发布的网址不正确，无论如何我尝试了以下规则，但它不起作用：

```
RewriteRule ^/organizations/(.+)$ ^/organizations/$1?qt-organization_tabs=tab1#qt-organization_tabs [L,R] 
```

所有其他规则都正常工作，这是我的 htaccess 文件（Drupal CMS）的相关部分：

```
 RewriteEngine on
  RewriteRule "(^|/)\." - [F]
  RewriteBase /webportal
  RewriteRule ^/organizations/(.+)$ ^/organizations/$1?qt-organization_tabs=tab1#qt-organization_tabs [L,R]
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteCond %{REQUEST_URI} !=/favicon.ico
  RewriteRule ^ index.php [L] 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:40:30.617

将此添加到文档根目录的 htaccess 文件中：

```
RewriteEngine On
RewriteRule ^/?webportal/organizations/(.+)$ /pepris/webportal/$1?qt-organization_tabs=tab1#qt-organization_tabs [L,R] 
```

您还可以使用 mod_alias：

```
RedirectMatch ^/?webportal/organizations/(.+)$ /pepris/webportal/$1?qt-organization_tabs=tab1#qt-organization_tabs 
```

# java - Eclipse 无法导入文件对象 FileNotFoundException

> ID：13062930
> 
> 赞同：0
> 
> 时间：2012-10-25T06:36:28.860
> 
> 标签：java, jsp

我是使用扫描仪逐行阅读器导入文件的新手。当我有导入文件时，它工作正常，但是其他一些系统（即同事系统）相同的项目和相同的数据库连接，同时导入文件错误，如**Java.io.FileNotfoundException**本地驱动器假路径目录（例如：“c:\fake path\db.sql”）。

```
public boolean checkfile(String dbfile){
   File obj = new File(dbfile)
   Scanner scr = new Scanner(obj );
   try{
    while(scr .hasNext()){
     String scr_line = scr.nextLine();
     System.out.println(scr_line );
    }
   }catch(Exception ex){
    System.out.println(ex.tostring());
   }
 } 
```

上面的代码`File obj = new File(dbFile)`这行错误消息显示为`Java.io.FileNotFoundException`local drive fake path directory 。任何人都可以帮助我在此代码上方犯错的地方。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T14:54:44.800

**1、**您尝试读取的文件在您的同事系统或您运行此java程序的地方不可用

**2、**检查这个文件“c:\fake path\db.sql”在你运行这个java程序的地方是否可用

**3 ，**当你运行程序时，确保你发送的文件路径基于环境（Windows，unix 等.....）

**4、**先检查文件可用性

```
try
{
File f = new File("c:\fake path\db.sql");
if(f.exists())
   {
        //read the file
    }
}
catch(Exception e)
{
// do some work
} 
```

# neo4j - 密码查询以查找路径中的平均年龄

> ID：13062932
> 
> 赞同：0
> 
> 时间：2012-10-25T06:36:33.667
> 
> 标签：neo4j

在下面的查询中，我如何找到路径中存在的用户的平均年龄：

```
start begin=node:Nodes(Name="User_2"), end=node:Nodes(Name="User_32")

match p = begin--()--end

return extract(n in nodes(p): n.Age); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-11-30T19:12:39.930

因此，在 1.9 中，您现在可以使用`reduce`.

```
start begin=node:Nodes(Name="User_2"), end=node:Nodes(Name="User_32")
match p = begin--()--end
return reduce(total=0, n in nodes(p): total + n.Age) / length(p) as avgAge; 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-25T11:54:23.660

在 cypher 1.8 中，只是修复了您的第一个查询：

```
start begin=node:Nodes(Name="User_2"), end=node:Nodes(Name="User_32")
match begin--middle--end
where has(middle.Age)
return sum(middle.Age) / count(middle); 
```

但是，我相信您要求从 User_2 到 User_32 的所有用户：

```
start n=node(*)
where has(n.Age) and Id(n)>1 and Id(n)<33
return sum(n.Age) / count(n); 
```

但在最后一种情况下，如果您要查询 User1 和 User32 之间路径中的所有用户：

```
start begin=node:Nodes(Name="User_2"), end=node:Nodes(Name="User_32")
match p=begin-[*..]-end
with extract(n in nodes(p): n)
where has(n.Age)
return sum(n.Age) / count(n); 
```

**编辑：**我刚刚发现你可以替换*sum(n.Age) / count(n);* 简单地用**avg(n.Age)**

# python - 在python元组中格式化来自mysql的数据

> ID：13062934
> 
> 赞同：0
> 
> 时间：2012-10-25T06:36:41.990
> 
> 标签：python, mysql, tuples

我正在从 MySQL 数据库中读取数据并希望将其打印到屏幕上。

我用：

```
import MySQLdb
conn = MySQLdb.connect(host='localhost',user='root',passwd='passwd',db='test',charset='utf8')
cursor = conn.cursor()
cursor.execute('select cust_name,cust_address,cust_city,cust_state from Customers')
numrows = int(cursor.rowcount)
for i in range(numrows):
    row =  cursor.fetchone()
    print "%s  %s  %s   %20s" %(row[0],row[1],row[2],row[3])
cursor.close()
conn.close() 
```

结果是这样的：

```
Village Toys 200 Maple Lane Detroit MI

Kids Place 333 South Lake Drive Columbus OH

Fun4All 1 Sunny Place Muncie IN

Fun4All 829 Riverside Drive 凤凰城

玩具店 4545 53rd Street Chicago IL

```

我怎样才能使它左对齐？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:39:38.617

假设您只想对齐最后一列，请这样做：

```
print "%s  %s  %s   %-20s" %(row[0],row[1],row[2],row[3]) 
```

- 号将其`-`向左对齐。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T06:50:01.660

此外，Python 中还有[一种新的格式化语法](http://docs.python.org/library/string.html#format-examples)。

据我了解，您希望每一列都有相同的缩进。这可以通过指定每列应占用的空间来实现。因为现在前 3 个字符串尽可能少地消耗目标字符串，只有最后一个字符串占用 20 个符号。如果您指定每个字符串的长度，您将在结果字符串中得到良好对齐的输出。

尝试这个：

```
print('{row[0]:20}{row[1]:20}{row[2]:20}{row[3]:20}'.format(row=row)) 
```

`20`花括号中的数字表示每个字段的长度。

# jquery - WordPress 前滑块插件修复

> ID：13062946
> 
> 赞同：0
> 
> 时间：2012-10-25T06:37:32.463
> 
> 标签：jquery, wordpress, plugins, slider

插件链接 [http://www.iwebix.de/front-slider-wordpress-plugin/](http://www.iwebix.de/front-slider-wordpress-plugin/)

这个插件有一个自动滑动选项，当前显示的活动缩略图有一个边框。

缩略图的不透明度为 0.7。我需要当前活动的缩略图处于不透明度 1。

some1 可以帮我解决这个问题。

不确定我是否可以在此处发布整个 .js 代码

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T07:29:50.100

**编辑**

对不起，我误解了你的问题。您在这里没有很多选择。您可以编辑插件，如果您确实留下了您更改的内容和原因的更改日志。

或者可能值得尝试在主题的 .js 文件中添加一些 jQuery。就像是：

```
jQuery("#fronter img").click(function() {
    jQuery("#fronter .active").removeClass("active");
    jQuery(this).addClass("active");
}); 
```

还有一些简单的 CSS，例如：

```
#fronter .active {
    opacity: 1 !important;
} 
```

还有一个提示，尽量不要在 WordPress 或插件文件中编辑核心文件。在更新它时，它将覆盖您所做的任何更改。看看[子主题，这是关于](http://op111.net/53/)[插件](https://wordpress.stackexchange.com/questions/30405/how-to-edit-a-wordpress-plugin-without-break-its-update-process)的好读物

# bittorrent - 使用 netcat ping router.utorrent.com DHT 节点

> ID：13062947
> 
> 赞同：4
> 
> 时间：2012-10-25T06:37:38.823
> 
> 标签：bittorrent, netcat, dht, utorrent

我只是想得到一个响应，`router.utorrent.com`以便可能使 DHT 服务走上正轨。例如，给定一个磁铁链接：

```
xt=urn:btih:a78c852bcc0379e612e1bd794e1fd19061b84d11 
```

哈希是：

```
a78c852bcc0379e612e1bd794e1fd19061b84d11 
```

然后在终端中我输入了这个：

```
nc -u router.utorrent.com 6881

d1:ad2:id20:a78c852bcc0379e612e1bd794e1fd19061b84d11e1:q4:ping1:t1:01:y1:qe 
```

基于[此](http://wiki.theory.org/BitTorrentDraftDHTProtocol#Ping)文档，但我没有得到任何回应。我什至尝试使用 Wireshark 检查是否有任何数据包返回，但仍然没有。为什么 μTorrent 不跟我说话？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-29T22:32:42.433

哈希应该是二进制的。在编码中，数字 + 冒号是字符串的长度前缀。一个十六进制的 sha1 是 40 字节长，它实际上是 20 字节长，它需要是散列函数的原始输出。

您基本上需要将十六进制字符串转换为二进制（40 hex -> 20 二进制）才能工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-03-07T18:24:39.460

正如另一个答案中所解释的，bencoding 是一种二进制格式，而不是文本格式。您似乎正在尝试使用终端将消息正文输入 netcat。终端设计用于向程序输入文本输入，而不是二进制输入，因此您将无法直接将该序列输入到 netcat 的标准输入中。

您的 ping 请求中的 ID 不应是 torrent 的 infohash。它应该是用于向 DHT 网络识别您的客户端的唯一 ID。对于测试，您确实可以只选择一个完全由 20 个 ASCII 字符组成的 ID，并避免这些编码问题，但实际上您会希望使用统一随机的二进制 ID。

如果您想在终端中输入二进制 ID，则不应尝试将其直接输入 netcat。相反，您可以使用 shell 的`echo`命令和十六进制编码以预期格式生成数据，并将其通过管道传输到 netcat。例如，在 bash 中：

> `echo -n $'d1:ad2:id20:\x23\x71\x0c\x1c\xb4\x50\x7d\x87\x29\xb8\x3f\x87\x2c\xc6\xa2\xa4\x4c\x39\x73\x67e1:q4:ping1:t1:01:y1:qe' | nc -u router.utorrent.com 6881`

请注意，您从节点获得的响应将是未转义的二进制文件，不一定是文本，因此像我们在这里所做的那样直接在您的终端中显示它可能会导致事情出现奇怪或您当前的终端会话以某种方式混乱。

# signal-processing - Intel IPP fir 和卷积函数的输出差异

> ID：13062955
> 
> 赞同：0
> 
> 时间：2012-10-25T06:38:01.200
> 
> 标签：signal-processing, intel-ipp

我正在使用 Intel IPP 7.1（composer XE 2013），并注意到 IPP 'fir' 和 'convolution' 调用之间输出样本的尾端存在差异。所以在下面的电话中

```
status = ippsFIR_Direct_64f(pSrc, pDst_f, N+M-1, pTaps,M, pDlyLine,&pDlyLineIndex);
status = ippsConv_64f(pSrc, N, pTaps, M, pDst); 
```

M=7, N=11 和 pDlyLine 初始化为全零，其他一切都相同：

pDst_f 和 p_Dst 在最后三个索引中不同，即 pDst_f[k]!=pDst[k] for k=14,15,16

我希望它们与 fir 调用中的第三个参数（迭代次数）=N+M-1 完全相同。有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T08:02:57.487

看来英特尔 IPP fir 功能确实存在问题，请查看英特尔开发者网站上的此线程。

[http://software.intel.com/en-us/forums/topic/331143](http://software.intel.com/en-us/forums/topic/331143)

# list - 声明一个通用列表方法 - 这是如何工作的？

> ID：13062960
> 
> 赞同：0
> 
> 时间：2012-10-25T06:38:58.960
> 
> 标签：list, class, c#-4.0, generics, methods

我在学习 C#，遇到了一段让我很困惑的代码

```
 private static List<Customer> CreateCustomerList()
 List<Customer> customers = new List<Customer>{new Customer{FirstName="Orlando"}
 };
 return customers;
 } 
```

我对它开始的那一行感到困惑

```
private static List<Customer> CreateCustomerList().... 
```

例如，我习惯于看到

```
private static class CreateCustomerList().... 
```

为什么我需要使用 List 而不是将方法声明为类？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T07:18:20.423

您感到困惑的那一行是方法签名，方法的返回类型是 List，这意味着该方法将返回客户实体的列表。

坦克斯

# android - 运行我的 android 应用程序后，Logcat 显示 IndexOutOfBound 异常

> ID：13062968
> 
> 赞同：0
> 
> 时间：2012-10-25T06:39:23.547
> 
> 标签：android, web-services, bar-chart

我的应用程序的 logcat 显示了一些 IndexOutOfBound 异常。这里我正在尝试使用 achartengine 库在 android 中创建条形图。我通过使用它从 Web 服务获取 x 轴和 y 轴值，我是遵循使用 Web 服务的 SOAP 方法。谁能让我知道我在项目中犯了什么错误？

请给点建议！..

***感谢您宝贵的时间！..***

**LOGCAT**

```
10-25 11:44:32.713: W/KeyCharacterMap(928): No keyboard for id 0
10-25 11:44:32.723: W/KeyCharacterMap(928): Using default keymap: /system/usr/keychars/qwerty.kcm.bin
10-25 11:44:40.383: D/AndroidRuntime(928): Shutting down VM
10-25 11:44:40.383: W/dalvikvm(928): threadid=1: thread exiting with uncaught exception (group=0x4001d800)
10-25 11:44:40.393: E/AndroidRuntime(928): FATAL EXCEPTION: main
10-25 11:44:40.393: E/AndroidRuntime(928): java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0
10-25 11:44:40.393: E/AndroidRuntime(928):  at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:257)
10-25 11:44:40.393: E/AndroidRuntime(928):  at java.util.ArrayList.get(ArrayList.java:311)
10-25 11:44:40.393: E/AndroidRuntime(928):  at com.example.barchart_test.Chart_MainActivity$1.onClick(Chart_MainActivity.java:43)
10-25 11:44:40.393: E/AndroidRuntime(928):  at android.view.View.performClick(View.java:2408)
10-25 11:44:40.393: E/AndroidRuntime(928):  at android.view.View$PerformClick.run(View.java:8816)
10-25 11:44:40.393: E/AndroidRuntime(928):  at android.os.Handler.handleCallback(Handler.java:587)
10-25 11:44:40.393: E/AndroidRuntime(928):  at android.os.Handler.dispatchMessage(Handler.java:92)
10-25 11:44:40.393: E/AndroidRuntime(928):  at android.os.Looper.loop(Looper.java:123)
10-25 11:44:40.393: E/AndroidRuntime(928):  at android.app.ActivityThread.main(ActivityThread.java:4627)
10-25 11:44:40.393: E/AndroidRuntime(928):  at java.lang.reflect.Method.invokeNative(Native Method)
10-25 11:44:40.393: E/AndroidRuntime(928):  at java.lang.reflect.Method.invoke(Method.java:521)
10-25 11:44:40.393: E/AndroidRuntime(928):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)
10-25 11:44:40.393: E/AndroidRuntime(928):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)
10-25 11:44:40.393: E/AndroidRuntime(928):  at dalvik.system.NativeStart.main(Native Method) 
```

*请找到我的参考资料*

**Chart_MainActivity**

```
public class Chart_MainActivity extends Activity 
{
EditText edt1, edt2;
// TextView txt_1;
Button btn;
ArrayList<String> result;

@Override
public void onCreate(Bundle savedInstanceState) 
{
super.onCreate(savedInstanceState);
setContentView(R.layout.main);

edt1 = (EditText) findViewById(R.id.edt1_date1);
edt2 = (EditText) findViewById(R.id.edt_date2);
btn = (Button) findViewById(R.id.button_invoke);

result = new ArrayList<String>();

btn.setOnClickListener(new View.OnClickListener() 
{
    public void onClick(View v) 
    {
        result.addAll(getTMSChart(edt1.getText().toString(), edt2.getText().toString()));

        Intent in = new Intent(getApplicationContext(), NextActivity.class);
        in.putExtra("gotonextpageX", result.get(0));
        in.putExtra("gotonextpageY", result.get(1));

        startActivity(in);
    }
});}

private ArrayList<String> getTMSChart(String FromDate, String ToDate) 
{

// txt_1 = (TextView)findViewById(R.id.textView1);
System.setProperty("http.keepAlive", "false");
SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);

envelope.dotNet = true;

String NAMESPACE = "http://tempuri.org/";
String URL = "http://54.251.60.177/TMSOrdersService/TMSDetails.asmx";
String METHOD = "GetTMSChart";

SoapObject request = new SoapObject(NAMESPACE, METHOD);
request.addProperty("FromDate", FromDate);
request.addProperty("ToDate", ToDate);

envelope.setOutputSoapObject(request);
HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);

String x = "", y = "";

ArrayList<String> stringResult = new ArrayList<String>();

try 
{
    androidHttpTransport.call(NAMESPACE + METHOD, envelope);
    SoapObject result = (SoapObject) envelope.bodyIn;
    SoapObject root = (SoapObject) ((SoapObject) (result).getProperty(0)).getProperty("NewDataSet");
    int tablesCount = root.getPropertyCount();

    for (int i = 0; i < tablesCount; i++) 
    {
        SoapObject table = (SoapObject) root.getProperty(i);
        int propertyCount = table.getPropertyCount();

        for (int j = 0; j < propertyCount; j++) 
        {

            stringResult.add(table.getPropertyAsString("Order_No").toString());
            stringResult.add(table.getPropertyAsString("Freight_Rate").toString());

        //  stringResult.add(table.getPropertyAsString("Margin_Percent").toString());

        //  freightRate = Integer.parseInt(table.getPropertyAsString("Freight_Rate"));

        }
    }
}
catch (Exception e) 
{}

return stringResult;
}
} 
```

**下一个活动**

```
public class NextActivity extends Activity 
{
double x,y;

@Override
protected void onCreate(Bundle savedInstanceState) 
{
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main1);

    Bundle extras = getIntent().getExtras();
    if(extras != null)
    {   
        x = extras.getDouble("gotonextpageX");
        y = extras.getDouble("gotonextpageY");
    }
    else
    {}

    final GraphicalView gv =createIntent();
    RelativeLayout rl=(RelativeLayout)findViewById(R.id.rlt);
    rl.addView(gv);
}   

public GraphicalView createIntent() 
{

    String[] titles = new String[] { "Orders profit"};

    List<double[]> values = new ArrayList<double[]>();
    values.add(new double[] { x });
    values.add(new double[] { y });

    int[] colors = new int[] { Color.parseColor("#77c4d3")};

    XYMultipleSeriesRenderer renderer = buildBarRenderer(colors);
    renderer.setOrientation(Orientation.HORIZONTAL);

    setChartSettings(renderer,"","","",0.5,12.5, 0, y, Color.GREEN, Color.GREEN);

    renderer.setXLabels(1);
    renderer.setYLabels(10);

    renderer.setPanEnabled(true, false);
    renderer.addXTextLabel(1, "x");

    /*renderer.addXTextLabel(2, "Feb");
    renderer.addXTextLabel(3, "Mar");
    renderer.addXTextLabel(4, "Apr");
    renderer.addXTextLabel(5, "May");
    renderer.addXTextLabel(6, "Jun");*/

    int length = renderer.getSeriesRendererCount();

    for (int i = 0; i < length; i++) 
    {
        SimpleSeriesRenderer seriesRenderer = renderer.getSeriesRendererAt(i);
        seriesRenderer.setDisplayChartValues(true);
      }

   final GraphicalView grfv = ChartFactory.getBarChartView(NextActivity.this, buildBarDataset(titles, values), renderer,Type.DEFAULT);
   return grfv;
   }

   protected XYMultipleSeriesRenderer buildBarRenderer(int[] colors) 
   {

       XYMultipleSeriesRenderer renderer = new XYMultipleSeriesRenderer();

       renderer.setAxisTitleTextSize(16);
       renderer.setChartTitleTextSize(20);

       renderer.setLabelsTextSize(15);
       renderer.setLegendTextSize(15);

       renderer.setBarSpacing(1);

       renderer.setMarginsColor(Color.parseColor("#0E120E"));
       renderer.setXLabelsColor(Color.WHITE);
       renderer.setYLabelsColor(0,Color.WHITE);

       renderer.setApplyBackgroundColor(true);
       renderer.setBackgroundColor(Color.parseColor("#000000"));

       int length = colors.length;

       for (int i = 0; i < length; i++) 
       {
           SimpleSeriesRenderer r = new SimpleSeriesRenderer();
           r.setColor(colors[i]);
           r.setChartValuesSpacing(-90);
           r.setChartValuesSpacing(15);
           renderer.addSeriesRenderer(r);
           }
          return renderer;
         }

   protected XYMultipleSeriesDataset buildBarDataset(String[] titles, List<double[]> values) 
   {
      XYMultipleSeriesDataset dataset = new XYMultipleSeriesDataset();
      int length = titles.length;

   for (int i = 0; i < length; i++) 
   {
       CategorySeries series = new CategorySeries(titles[i]);
       double[] v = values.get(i);
       int seriesLength = v.length;

       for (int k = 0; k < seriesLength; k++) 
       {
           series.add(v[k]);
           }
        dataset.addSeries(series.toXYSeries());
        }

   return dataset;
  }

 protected void setChartSettings(XYMultipleSeriesRenderer renderer, String title, String xTitle,
 String yTitle, double xMin, double xMax, double yMin, double yMax, int axesColor,int labelsColor) 
 {

     renderer.setChartTitle(title);
     renderer.setYLabelsAlign(Align.RIGHT);

     renderer.setXTitle(xTitle);
     renderer.setYTitle(yTitle);

     renderer.setXAxisMin(xMin);
     renderer.setXAxisMax(xMax);
     renderer.setYAxisMin(yMin);
     renderer.setYAxisMax(yMax);

     renderer.setMargins(new int[] { 10, 65, 10, 15 });

     renderer.setAxesColor(axesColor);
     renderer.setLabelsColor(labelsColor);
  }
} 
```

**清单.xml**

```
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example.barchart_test"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk android:minSdkVersion="8" android:targetSdkVersion="8" android:maxSdkVersion="15"/>

<application
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity   android:name=".Chart_MainActivity"
                android:label="@string/title_activity_chart__main" >
    <intent-filter>
       <action android:name="android.intent.action.MAIN" />
         <category android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
    </activity>

    <activity   android:name=".NextActivity"
                android:label="@string/title_activity_chart__main" >
    <intent-filter>
        <action android:name="android.intent.action.MAIN1" />
             <category android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
    </activity>

</application>
</manifest> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:46:24.007

你确定你从服务器端得到一些东西吗？在从中获取元素之前，您不会检查结果列表大小。至于我这个字符串中的问题 in.putExtra("gotonextpageX", result.get(0)); in.putExtra("gotonextpageY", result.get(1));

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T06:46:35.677

将 Array index out of bound 异常添加到您的主活动代码

```
try 
{
    androidHttpTransport.call(NAMESPACE + METHOD, envelope);
    SoapObject result = (SoapObject) envelope.bodyIn;
    SoapObject root = (SoapObject) ((SoapObject) (result).getProperty(0)).getProperty("NewDataSet");
    int tablesCount = root.getPropertyCount();

    for (int i = 0; i < tablesCount; i++) 
    {
        SoapObject table = (SoapObject) root.getProperty(i);
        int propertyCount = table.getPropertyCount();

        for (int j = 0; j < propertyCount; j++) 
        {

            stringResult.add(table.getPropertyAsString("Order_No").toString());
            stringResult.add(table.getPropertyAsString("Freight_Rate").toString());

        //  stringResult.add(table.getPropertyAsString("Margin_Percent").toString());

        //  freightRate = Integer.parseInt(table.getPropertyAsString("Freight_Rate"));

        }
    }
}
catch (ArrayIndexOutOfBoundException e) 
{}
catch (Exception e) 
{} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-25T06:55:32.540

尝试更换

```
<activity   android:name=".NextActivity"
            android:label="@string/title_activity_chart__main" >
<intent-filter>
    <action android:name="android.intent.action.MAIN1" />
         <category android:name="android.intent.category.LAUNCHER" />
</intent-filter>
</activity> 
```

经过

```
<activity android:name=".NextActivity"></activity> 
```

# java - 关于提取字符串

> ID：13062972
> 
> 赞同：0
> 
> 时间：2012-10-25T06:39:53.133
> 
> 标签：java, string

我有一个字符串 Till No. S59997-RSS01 现在我需要从中提取 01 ，但问题是它是动态方式

```
String TillNo =pinpadTillStore.getHwIdentifier(); 
```

S59997-RSS01 的值在 TillNo 中，我从调试中知道，但实时哪个值在 TillNo 中，我不知道，但值的模式将相同（S59997-RSS01），请建议如何提取最后两位数字，如（01）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:44:46.460

您可以使用该`subString`方法。

参考[如何使用 subString()](http://www.java-forums.org/java-lang/7706-how-use-substring-method.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T06:44:59.047

```
int size = tillNo.length();
String value = tillNo.substring(size-2); // do this if size > 2. 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-25T06:58:24.393

如果两位数只出现在最后两位，就用这个`substring`方法。对于更灵活的方式，请改用正则表达式。

```
String TillNo = "S59997-RSS01";
System.out.println(TillNo.substring(TillNo.length() - 2));
Pattern pattern = Pattern.compile("S[\\d]{5}-RSS([\\d]{2})");
Matcher matcher = pattern.matcher(TillNo);
if (matcher.find()) {
    System.out.println(matcher.group(1));
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-25T09:54:38.260

确切地说，您可以使用以下字符串的 substring 方法提取最后 2 位数字：

```
 String TillNo="S59997-RSS01";
    String substring=TillNo.substring(TillNo.length()-2,TillNo.length()); 
```

# ruby-on-rails - 将 2 种类型的日期字符串转换为日期时间对象

> ID：13062973
> 
> 赞同：0
> 
> 时间：2012-10-25T06:39:55.623
> 
> 标签：ruby-on-rails, ruby

我需要一种可靠的方法将格式化的日期字符串转换为日期时间对象，以便可以保存到数据库中。我正在从 RSS 提要导入数据，日期字符串看起来像这样`10/31/2012 11:59:00 PM`，但每隔一段时间就会出现一个没有时间数据的数据，像这样：`9/24/2012`. 无论时间是否存在，有没有办法将字符串转换为日期时间对象？

我正在使用`Date.strptime()`，因为`Date.parse()`对我来说不够可靠。这是我正在使用的，当它遇到没有时间的日期字符串时会出错。

```
Date.strptime(i.xpath('activedate').text, '%m/%d/%Y %I:%M:%S %p').to_datetime 
```

处理这个问题的最佳方法是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-25T07:17:55.103

我推荐[慢性](https://github.com/mojombo/chronic)：

```
require 'chronic'

Chronic.parse '10/31/2012 11:59:00 PM'
#=> 2012-10-31 23:59:00 0800
Chronic.parse '9/24/2012'
#=> 2012-09-24 12:00:00 0800 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T07:14:35.033

我只是遍历一组可能的日期格式并尝试解析直到成功：

```
parsed_date = nil

['%m/%d/%Y %I:%M:%S %p', '%m/%d/%Y'].each do |format|
  parsed_date ||= DateTime.strptime(i.xpath('activedate').text, format) rescue nil
end 
```

# android - 如何在webview上显示保存在sdcard上的html页面

> ID：13062974
> 
> 赞同：0
> 
> 时间：2012-10-25T06:39:59.227
> 
> 标签：android, android-webview

我无法在 webview 上显示保存在 sdcard 中的 html 页面。我试过使用这两种方法：

```
webPage.loadUrl("file://"+ Environment.getExternalStorageDirectory()+"/page1.html"); 
```

和

```
webPage.loadUrl("content://com.android.htmlfileprovider"+
   Environment.getExternalStorageDirectory()+"/page1.html"); 
```

请指导。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:45:52.510

尝试这个。

```
webPage.loadUrl("file://"+Environment.getExternalStorageDirectory()+"/page1.html"); 
```

**你忘了加斜线。**

添加 Internet 权限和读取外部权限。

```
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE"/> 
```

# unit-testing - xunit 以编程方式添加新测试/“[Facts]”？

> ID：13062975
> 
> 赞同：5
> 
> 时间：2012-10-25T06:40:01.283
> 
> 标签：unit-testing, nunit, xunit

我们有一个充满 JSON 文本文件的文件夹，需要将其设置为单个 URI。目前，这一切都是用一个 xUnit "[Fact]" 完成的，如下所示

```
[Fact]
public void TestAllCases()
{
    PileOfTests pot = new PileOfTests();
    pot.RunAll();
} 
```

pot.RunAll() 然后解析文件夹，加载 JSON 文件（比如 50 个文件）。然后每个都针对 URI 进行锤击，以查看每个返回 HTTP 200（“ok”）。如果有任何失败，我们目前正在通过使用将其打印为失败

```
System.Console.WriteLine("\n >> FAILED ! << " + testname + "\n"); 
```

这确实确保了失败引起我们的注意，但 xUnit 认为所有测试都失败了（可以理解）。最重要的是，我们不能对 xunit 指定“这里，只运行*这个*特定的测试”。它目前的构建方式全有或全无。

如何以编程方式添加测试用例？当我阅读 *.json 文件的数量和名称时，我想添加它们。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-01T17:30:51.270

简单的答案是： **不**，不直接。但是存在一种解决方法，虽然有点 hacky，如下所示。

## 当前情况（从 xUnit 1.9.1 开始）

通过指定`[RunWith(typeof(CustomRunner))]`一个类，可以指示 xUnit 使用必须实现的 CustomRunner 类`Xunit.Sdk.ITestClassCommand`来枚举用这个属性修饰的测试类上可用的测试。

但不幸的是，虽然测试方法的调用已经与 System.Reflection + 实际方法分离，但将测试传递给测试运行器的方式并没有。

在用于调用特定测试方法的 xUnit 框架代码中的某处，有一个对`typeof(YourTestClass).GetMethod(testName)`.

这意味着，如果实现测试发现的类返回的测试名称不引用测试类上的真实方法，则测试将显示在 xUnit GUI 中 - 但任何运行/调用它的尝试都以`TargetInvocationException`.

## 解决方法

如果考虑一下，解决方法本身就相对简单。可以找到它的工作实现[`here`](https://gist.github.com/cr7pt0gr4ph7/5065888)。

提出的解决方案首先读取文件的名称，这些文件应该在 xUnit GUI 中显示为不同的测试。然后，它使用[System.Reflection.Emit](http://msdn.microsoft.com/de-de/library/system.reflection.emit.aspx "MSDN 上的 System.Reflection.Emit 文档")动态生成带有测试类的程序集，该测试类包含每个输入文件的专用测试方法。

每个生成的方法唯一要做的就是调用`RunTest(string fileName)`指定`[EnumerateFilesFixture(...)]`属性的类上的方法。请参阅链接的要点以获得进一步的解释。

希望这可以帮助; 如果您愿意，请随意使用示例实现。

# android - 如何将 linux 时间与手机上的网络时间同步？

> ID：13062976
> 
> 赞同：0
> 
> 时间：2012-10-25T06:40:03.423
> 
> 标签：android, linux, timezone, embedded

我面临相机点击图像的问题。当在 PC 上访问这些图像时，其属性中反映的时间对应于 linux 而不是网络的时间（不幸的是显示了 2 个不同的时间）。我假设如果 linux 时间与网络同步，那么这个问题将得到解决。关于如何同步时间的任何想法？提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-25T10:20:08.287

解决方案是：NTP，网络时间协议。

ntpdate 将在启动时运行一次，以根据 NTP 服务器设置您的时间。ntp 是一个服务器守护进程！

也许您对以下内容感兴趣：

*   [NTP 常见问题解答和 HOWTO](http://www.ntp.org/ntpfaq/NTP-a-faq.htm)
*   [时间服务器集群](http://www.pool.ntp.org/en/)
*   [NTP 公共服务项目](http://support.ntp.org/bin/view/Main/WebHome)

对于 Debian 用户：

```
$ sudo aptitude install ntp ntpdate ntp-doc 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T10:08:11.653

linux中常用的同步时钟的协议是“ntp”。有一个命令行工具可以在许多名为“ntpdate”的 Linux 发行版上运行，它需要 ntp 服务器作为参数。这意味着如果您的网络有一个 ntp 服务器，您可以将您的 pc 时钟与该服务器同步，或者将网络和您的 pc 与外部免费 ntp 服务器同步（有很多可用的）。

# actionscript - red5 直播总是丢帧

> ID：13062977
> 
> 赞同：3
> 
> 时间：2012-10-25T06:40:04.303
> 
> 标签：actionscript, red5, live-streaming, netstream

我在 red5 服务器上构建了一个直播网站，当我订阅时，直播视频似乎掉帧。

我正在为我的 rtmp 应用程序使用 oflademo。

这是我用于相机设置的动作脚本：

**播送**

```
// setup cam
cam = Camera.get();
// setting dimensions and framerate
cam.setMode(320, 240, 15, false);
// set quality
cam.setQuality(0,0);
cam.setKeyFrameInterval(48); 
```

订阅与广播相同。

任何人都可以伸出援助之手。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T07:38:21.977

一般来说，丢帧（或音频信号中的间隙）是带宽问题的标志。

这些是我们的设置，永远不会丢帧（如果带宽没问题）：

```
cam.setMode(160, 120, 30, true);
cam.setQuality(0,90); 
```

我们从未使用过“cam.setKeyFrameInterval(48);”。我根本不会设置这个值。我不会强制视频压缩任何值。你有理由认为 48 物有所值吗？

塞巴斯蒂安

# sql - 如何从 SQL 中的字段中删除重复值？

> ID：13062986
> 
> 赞同：0
> 
> 时间：2012-10-25T06:40:28.690
> 
> 标签：sql, duplicates

我的 SQL DB 中有两个表（可以说是 cd 目录）。我想将一张表（每晚重新创建）中的记录放入我的主表中。我只想将数量大于 0 的项目放入主表中。但是，nightly 表中的某些项目将具有与主表中相同的 UPC 条形码字段。我不想把它们放进去，前提是那些已经在主表中的数量大于 0。否则我希望所有数量大于 0 的条目从每晚到主表。

我根本无法理解如何做到这一点。当然，我现在已经设置好了，以便将数量>0 的所有内容复制到主表中，但这意味着我可以为已经在主表中的相同项目创建重复列表（基于 UPC 的重复项）。

有谁知道我该怎么做？我的查询就目前而言：

```
INSERT INTO main ( id, title, artist, qty, barcode ) 
SELECT nightly.PID, 
       nightly.Title, 
       nightly.Artist, 
       nightly.QtyAvail, 
       nightly.UPC 
FROM nightly 
WHERE nightly.QtyAvail > 0; 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T06:42:48.580

```
insert into main ( id, title, artist, qty, barcode )
select
    n.PID, n.Title, n.Artist, n.QtyAvail, n.UPC 
from nightly as n
where
    n.QtyAvail > 0 and
    n.UPC not in (select T.barcode from main as T where T.qty > 0) 
```

# java - vlcj黑屏

> ID：13062989
> 
> 赞同：1
> 
> 时间：2012-10-25T06:40:39.733
> 
> 标签：java, video, vlcj

我在我的java应用程序中使用vlcj api。我的视频使用它可以完美播放，但实际上在播放视频之前出现一个黑屏我真正想要的是之前应该出现某种图像而不是那个黑屏视频的开始，就像普通的 vlc 播放器一样，它的标志出现在视频播放之前。

# jquery - 跨度 id 变得未定义

> ID：13062992
> 
> 赞同：0
> 
> 时间：2012-10-25T06:40:40.900
> 
> 标签：jquery

[小提琴](http://jsfiddle.net/nWfFQ/2/)

```
 $(".csstablelisttd").live('mousedown', function (e)
        {    var rowIndex = $(this).closest("tr").index();
           var colIndex = $(e.target).closest('td').index();
            alert($('.csstextheader').eq(rowIndex).find('td').eq(colIndex).find('span').attr('id'));
        }); 
```

//我必须在点击分别具有rowIndex和colIndex的单元格时找到span id。让我不确定

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T06:50:19.890

删除`.eq(rowIndex)`.

```
alert($('.csstextheader').find('td').eq(colIndex).find('span').attr('id')); 
```

# c#-4.0 - 在 Metro 应用程序的后台服务中发送和接收 Web 请求

> ID：13062993
> 
> 赞同：0
> 
> 时间：2012-10-25T06:40:46.637
> 
> 标签：c#-4.0, microsoft-metro

我正在开发一个 Metro 应用程序，在该应用程序中，我在后台服务中发送 Web 请求，但没有获得 Web 响应。我这样编码：

```
private void SendRequest(string url, Action OnResponse, string requestParameter)
{ 

HttpWebRequest request = (HttpWebRequest)WebRequest.Create(new Uri(url));
request.Method = "POST";
request.ContentType = "text/xml";

request.BeginGetRequestStream(delegate(IAsyncResult req)
{
    var outStream = request.EndGetRequestStream(req);

    using (StreamWriter w = new StreamWriter(outStream))
    w.Write(requestParameter);

    request.BeginGetResponse(delegate(IAsyncResult result)
    {
      try
      {
        HttpWebResponse response = (HttpWebResponse)request.EndGetResponse(result);

        using (var stream = response.GetResponseStream())
        {
           using (StreamReader reader = new StreamReader(stream))
           {
             string response1 = reader.ReadToEnd();
             OnResponse(response1);
           }
        }
      }
     catch (Exception ex)
     {
     }
    }, null);
  }, null); 
```

}

我也试过这样

```
HttpClient client = new HttpClient();
HttpContent content = new StringContent(requestParameter);
conent.Headers.ContentType = new             System.Net.Http.Headers.MediaTypeHeaderValue("text/xml");
HttpResponseMessage response = await client.PostAsync(url, content); 
```

有什么原因我没有得到回应或任何其他方法来做到这一点。我在正常执行中执行了相同的代码，并且运行良好，但在后台服务中却没有。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-26T09:36:31.850

只需添加两行代码，它现在就可以工作了。在后台服务的起点创建一个 BackgroundTaskDeferral 类的实例，并在您认为这是最后一个任务的地方调用它的完整方法。

私有BackgroundTaskDeferral _deferral = taskInstance.GetDeferral();

_deferral.Complete();

实际上发生的是异步调用没有调用。后台服务只是执行代码，不等待异步调用。因此，通过使用 deferral 它通知服务还有一些异步调用，并且完成方法通知一切都将完成。

# java - 需要帮助捕捉异常

> ID：13062995
> 
> 赞同：1
> 
> 时间：2012-10-25T06:40:49.257
> 
> 标签：java, generics, exception-handling

我正在创建一个`Pair`用于整数的泛型类。

异常类：

```
public class WrongThing extends Exception{
    public WrongThing(String message) {
        super(message);
    }
} 
```

主类：

```
public class Pair<E> implements Comparable<E>{
    private E var1;
    private E var2;
    public Pair(E var1, E var2) throws WrongThing{
        //this is on purpose!!!
        System.out.println("var1 and var2 are switched");
        this.var1 = var2;
        this.var2 = var1;
    }

    void get(){
        System.out.println("the first actualy 2nd: "+
                var1 + "the ");
                System.out.println("  second actualy first" + var2);
    }

    void set1(E temp){
        System.out.println("var1 and var2 are switched");
        temp = var1;
    }

    void set2(E temp){
        System.out.println("var1 and var2 are switched");
        temp = var2;
    }

    E smallest(E var1, E var2){

        return var1;
    }

    @Override
    public int compareTo(Object arg0) {
        // TODO Auto-generated method stub
        return 0;
    }
} 
```

测试用例

```
import java.util.Scanner;
import java.util.InputMismatchException;

public class PairTest {
    public static void main(String[] args) throws WrongThing{
        System.out.println("two integers please");
        Scanner sc = new Scanner(System.in);
        Pair<Integer> newPair;
        Pair<Integer> tempPair1= new Pair<Integer>(3,2);

        try{
            newPair = new Pair<Integer>(sc.nextInt(),sc.nextInt());
            //throw new InputMismatchException("that is not an Integer....");
        }catch(WrongThing exception){
            //System.out.println("you cant do that. try again and press enter after the first integer");
            newPair = new Pair<Integer>(sc.nextInt(),sc.nextInt());
            newPair.get();

        }
        finally{

        }
    }
    //newPair = new Pair<Integer>(sc.nextInt(),sc.nextInt());
} 
```

当我运行此代码时，我得到一个`InputMismatchException`. 我是否没有正确创建异常或在抛出异常时没有捕获它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-25T06:44:50.837

除非我遗漏了某些东西，否则您似乎只是在尝试捕获`WrongThing`Exception，而不是`InputMismatchEception`.

```
try{
    // ...
}catch(WrongThing exception){
    // ...
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-25T06:49:36.723

WrongThing 是您的自定义异常。必要时，您需要将其扔掉并接住。

```
try{
    // throw new WrongThing("wrong thing");
}catch(WrongThing e1){
    // ...
}catch(InputMismatchException e2){
    // ...
} 
```

`InputMismatchException`从[sc.nextInt()](http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#nextInt%28%29)方法抛出`if the next token does not match the Integer regular expression, or is out of range`。所以你也需要缓存它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-25T07:19:07.167

当您创建对类的对象时

```
Pair newPair = new Pair<Integer>(sc.nextInt(),sc.nextInt()); 
```

它只能抛出自定义异常，因为您在课堂上提到了这种类型的异常。`sc.nextInt()`期望来自控制台的 Integer 类型的 Input ，当传递任何其他字符时，它会抛出`InputMismatchException`. 所以你还需要像这样捕获 InputMismatch Exception

```
try{
    // throw new WrongThing("wrong thing");
}catch(WrongThing e1){
    // ...
}catch(InputMismatchException e2){
    // ...
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-25T07:48:38.973

扫描仪正在抛出您未处理的 InputMismatchException。[InputMismatchException](http://docs.oracle.com/javase/7/docs/api/java/util/InputMismatchException.html)是一个 RuntimeException，因此您无需显式捕获它。（通常是程序员错误）如果您使用的是 Java 7，那么您可以使用这种语法（[multicatch](http://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html)）来处理多个异常

```
try{
....
}
catch(WrongThing|InputMismatchException e1){
        //deal with exception.
} 
```

这假设您想以相同的方式处理这两个异常。如果您不这样做，那么我建议您将它们分开，因为其他答案已为清晰起见。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-25T07:03:03.100

对于 Scanner 类，您必须遵循流程 hasNext() -> next()

你不会以这种方式得到任何异常。

```
 Scanner sc = new Scanner(System.in);       
          while (sc.hasNext()) {

                 if(sc.hasNextInt())
                System.out.println(sc.nextInt());

              sc.next();
          }
         sc.close(); 
```

另一件事是`catch(Exception e)`在底部有一个级联的异常块，以确保捕获所有异常。

```
 try{
         // code which throws checked exceptions.
        }catch(WrongThing e1){      
            e1.printStackTrace();
        }catch(Exception e2){
            e2.printStackTrace();
        }finally{
           // cleanup
       } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-25T07:11:33.490

的文档`java.util.InputMismatchException`说：

> 由 a 抛出`Scanner`以指示检索到的令牌与预期类型的​​模式不匹配，或者该令牌超出预期类型的​​范围。

一个`Scanner.nextInt()`说：

> 抛出： - 如果下一个标记与正则表达式`InputMismatchException`不匹配，或者超出范围`Integer`

`Scanner.nextInt()`基本上，当您在控制台中键入不是整数的内容时会引发异常。发生这种情况时，`new Pair<Integer>(...)`甚至不会调用构造函数，因此您在构造函数中进行的任何检查都将变得无用。

你需要做的是

```
newPair = null;
while (newPair == null) {
    try {
        newPair = new Pair<Integer>(sc.nextInt(),sc.nextInt());
    } catch(InputMismatchException exception){
        System.out.println("you cant do that. try again and press enter after the first");              
    }
} 
```