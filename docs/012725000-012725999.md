# StackOverflow 问答 12725000-12725999

# ios - 带有 2 个选项卡的应用程序中的导航控制器问题

> ID：12725000
> 
> 赞同：1
> 
> 时间：2012-10-04T10:11:17.683
> 
> 标签：ios

在我的应用程序中有 2 个选项卡。我正在使用 didFinishLaunchingWithOptions 中的两个视图控制器 viewcontroller1 和 viewcontroller2 将 tabbarController 添加到窗口。现在我需要在 viewcontroller1 中添加一个按钮，并且在按钮操作中我需要推送一个新的 viewcontroller nextViewController。要在按钮操作中执行此操作，我创建了一个导航控制器并将其 rootview 控制器设置为 viewcontroller1，然后我通过该导航控制器推送 nextViewController。但是 nextViewController 没有被加载。为什么？

*   （无效）按钮操作{

UINavigationController *navController=[[UINavigationController alloc]initWithRootViewController:self];

nextViewController *nextViewControllerObj = [[nextViewController alloc]init]; [self.navigationController pushViewController:nextViewControllerObj 动画：YES];

}

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T11:51:48.417

不要将第一个选项卡视图控制器添加到 UINavigationController，请尝试将主 UITabBarController 添加到“didFinishLaunchingWithOptions”中的 UINavigationController。

# c# - 在 Windows 8 中使用 fileopenpicker 创建一个文件夹并保存在 createfolder 中选择多个图像

> ID：12725002
> 
> 赞同：0
> 
> 时间：2012-10-04T10:11:18.313
> 
> 标签：c#, microsoft-metro

我正在尝试在文档库中创建一个新文件夹并使用 FileOpenPicker 选择多个图像来保存创建文件夹...

错误是：“System.Collections.Generic.IReadOnlyList”不包含“CopyAsync”的定义，并且没有扩展方法“CopyAsync”接受“System.Collections.Generic.IReadOnlyList”类型的第一个参数（你是缺少 using 指令或程序集引用？）

这是我的代码：

```
IReadOnlyList<StorageFile> file;
var destinationFolder = await KnownFolders.DocumentsLibrary.CreateFolderAsync("NewFolder", CreationCollisionOption.GenerateUniqueName);

var openpicker = new FileOpenPicker();
openpicker.CommitButtonText = "Upload";
openpicker.FileTypeFilter.Add(".jpg");
openpicker.FileTypeFilter.Add(".jpeg");
openpicker.FileTypeFilter.Add(".png");
openpicker.SuggestedStartLocation = PickerLocationId.DocumentsLibrary;
openpicker.ViewMode = PickerViewMode.List;

file = await openpicker.PickMultipleFilesAsync();

if (destinationFolder != null && file !=null)
{
    await file.CopyAsync(destinationFolder);
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T12:02:12.900

当您使用 PickMultipleFilesAsync 时，您会得到一个文件列表而不是一个文件，因此您需要迭代列表以保存每个文件。

```
var files = await openpicker.PickMultipleFilesAsync();
if (destinationFolder != null && files !=null)
{

foreach(var fileItem in files)
{
    await fileItem.CopyAsync(destinationFolder);
}
} 
```

# .net - 什么进程在锁定文件

> ID：12725003
> 
> 赞同：-1
> 
> 时间：2012-10-04T10:11:18.787
> 
> 标签：.net, winapi, windows-server-2008-r2

有数百万个问题如何知道是什么进程以编程方式锁定了某个文件。然而我的老板今天告诉我，自从 Windows 2008 R2 以来，有了一些新的可能性。就目前而言，我可以：

一种。在子进程中使用 Handle.exe 并捕获输出

湾。使用一些讨厌的长代码来检查所有进程并枚举它们打开的句柄

没关系，但是有人知道这些新的可能性吗（我相信 Windows 2008R2 中的新 API 调用）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T13:55:33.600

Raymond Chen 似乎用 Restart Manager 回答了我的问题 :)

# javascript - 要求js不按时加载依赖

> ID：12725008
> 
> 赞同：1
> 
> 时间：2012-10-04T10:11:36.683
> 
> 标签：javascript, requirejs

我们在内部使用 require.js 来管理我们的应用程序的依赖关系。就在最近，我发现了一些奇怪的东西。我正在定义一个从另一个模块扩展的模块，我包括如下：

```
define(['core/view/v_Form'], function(v_Form){
        var v_ModalForm = v_Form.extend({
... 
```

有时，v_Form 似乎没有按时加载，这就是 Javascript 抛出错误的原因，因为 v_Form 没有定义。

但是，如果我将其更改为：

```
define(['order!core/view/v_Form'], function(v_Form){... 
```

有用。

require.js 不应该在运行代码之前加载它的依赖项，这是一个错误吗？

# codeigniter - pdf文件下载错误

> ID：12725012
> 
> 赞同：0
> 
> 时间：2012-10-04T10:11:42.197
> 
> 标签：codeigniter, pdf, download

您好，我的网站上有一些 pdf 文件可供用户下载，但问题是当我们下载这些 pdf 文件并尝试打开 pdf 时出现错误“打开文档时出错。文件已损坏并且可能不能修复”，但相反，这在我的本地系统中运行良好。请指导我，这是我的代码

```
function download_pdf($parameters)
{

    $final_link = "$parameters";
    $path = strtolower($final_link);
    $file = "$path";

        if (file_exists($file)) {
            header('Content-Description: File Transfer');
            header('Content-Type: application/octet-stream');
            header('Content-Disposition: attachment;       filename='.basename($file));
            header('Content-Transfer-Encoding: binary');
            header('Expires: 0');
            header('Cache-Control: must-revalidate');
            header('Pragma: public');
            header('Content-Length: ' . filesize($file));
            ob_clean();
            flush();
            readfile($file);
            exit;
        }
        else
        {
            //echo "file do not exist";
            redirect('site/file_does_not_exist');
            //$data['main_content'] = 'not_found';
            //$this->load->view('includes/template',$data);
        }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T19:51:40.607

尝试改用这个：

```
...
header('Content-Type: application/pdf');
... 
```

来自[维基百科中的互联网媒体类型：](http://en.wikipedia.org/wiki/Internet_media_type)

```
application/pdf: Portable Document Format 
```

并确保文件名具有扩展名“.pdf”。

# php - 在 Behat 中配置 Symfony

> ID：12725017
> 
> 赞同：2
> 
> 时间：2012-10-04T10:11:58.453
> 
> 标签：php, symfony, behat

我有一个项目，我在 Behat 中编写了功能/场景，现在几乎完成了。我必须在 symfony 派上用场的站点上测试电子邮件功能。但是，我找不到任何可以帮助我在 Behat 中配置 symfony 的教程。大多数网站在 Symfony 中提供 Behat，而不是其他方式。

这是我发现的文章，其中包含一些有关配置的信息，但并不完整。[http://extensions.behat.org/symfony2](http://extensions.behat.org/symfony2)

这篇文章[http://docs.behat.org/cookbook/using_the_profiler_with_minkbundle.html](http://docs.behat.org/cookbook/using_the_profiler_with_minkbundle.html) 给出了检查电子邮件功能的代码，但没有说明如何在 Behat 中配置 symfony。我安装了 symfony 扩展。

这是我的 composer.json 内容：

```
{
    "require": {
        "behat/behat": "*",
        "behat/mink": "1.4.0",
        "behat/mink-goutte-driver": "*",
        "behat/mink-selenium-driver": "*",
        "behat/mink-selenium2-driver": "*",
        "behat/mink-sahi-driver": "*",
        "behat/mink-zombie-driver": "*",
        "drupal/drupal-extension": "*",
        "symfony/process": "*",
        "behat/symfony2-extension": "*",
        "symfony/form": "*",
        "symfony/validator": "*",
        "behat/mink-extension": "*",
        "symfony/http-kernel": "*",
        "fabpot/goutte": "dev-master#5f7fd00"
    },
    "minimum-stability": "dev",
    "config": {
      "bin-dir": "bin/"
    }
} 
```

有人可以在这里指导我吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-08-26T13:54:24.580

在 Symfony 2(.2) 配置中，您必须将**behat.yml**文件放在根文件夹中，因此与 composer.json 所在的文件夹相同。

```
app/
bin/
src/
vendor/
web/
behat.yml
composer.json 
```

这是一个工作**behat.yml**的例子：

```
default:
    # ...
    extensions:
        Behat\Symfony2Extension\Extension: ~
        Behat\MinkExtension\Extension:
            goutte:    ~
            selenium2: ~ 
```

现在，您必须启动`behat init command`指定所需的 Bundle：

```
php bin/behat @AcmeDemoBundle --init 
```

上面的命令将创建一个`Features`文件夹，`FeatureContext`里面有一个类。将您的方案的方法放入此类。下面是官方的*hello world*示例：

```
/**
 * @Given /^I am in a directory "([^"]*)"$/
 */
public function iAmInADirectory($dir)
{
    if (!file_exists($dir))
        mkdir($dir);

    chdir($dir);
}

/**
 * @Given /^I have a file named "([^"]*)"$/
 */
public function iHaveAFileNamed($file)
{
    touch($file);
}

/**
 * @When /^I run "([^"]*)"$/
 */
public function iRun($command)
{
    exec($command, $output);
    $this->output = trim(implode("\n", $output));
}

/**
 * @Then /^I should get:$/
 */
public function iShouldGet(PyStringNode $string)
{
    if ((string) $string !== $this->output)
        throw new \Exception("Actual output is:\n" . $this->output);
} 
```

现在您必须在文件夹中创建功能文件（`ls.feature`来自相同的示例）`Features`：

```
Feature: ls
    In order to see the directory structure
    As a UNIX user
    I need to be able to list the current directory's contents

    Scenario: List 2 files in a directory
        Given I am in a directory "test"
        And I have a file named "foo"
        And I have a file named "bar"
        When I run "ls"
        Then I should get:
            """
            bar
            foo
            """ 
```

因此，您的`Features`文件夹将类似于以下结构：

```
Acme\DemoBundle\Features
    |- Context /
       |- FeatureContext.php
    ls.feature 
```

最后，启动 behat 并享受吧！

```
php bin/behat @AcmeDemoBundle 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-05-09T13:30:43.290

使用 symfony 运行 behat 所需的依赖项是 behat、symfony2-extension、mink 和驱动程序，您可能需要格式化程序来获得所需的输出。

然后您需要为驱动程序、会话和浏览器配置 behat.yml 并命名测试套件。

完成此操作后，您需要添加功能和 FeatureContext 以编写测试场景并定义自定义步骤。

我在[这里](https://stackoverflow.com/questions/18777657/symfony2-extension-behat-mink/43871164#43871164)使用 behat+mink+selenium+symfony 添加了我的 symfony 安装的详细配置。请检查它是否适合您。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T10:44:41.697

我不确定我是否完全理解您要实现的目标，但是您尝试实现 Symfony2 项目的不同配置这一事实使我认为您可能应该使用自定义环境。[请参阅此食谱文章](http://symfony.com/doc/2.0/cookbook/configuration/environments.html#creating-a-new-environment)，了解如何去做。

例如，您可能想要设置一个“behat”环境，该环境将拥有自己的配置文件 ( `/app/config/config_behat.yml`)，并且可以`/app_behat.php/`从您的 behat 测试中访问。

# jquery - 是否可以在 $div2.click() 中调用 $div1.toggle()？

> ID：12725018
> 
> 赞同：1
> 
> 时间：2012-10-04T10:11:58.583
> 
> 标签：jquery

是否可以在 $div2.click() 中调用 $div1.toggle() 以便在单击 div2 后可以根据 div1.toggle 的阶段更改阶段？

```
price =0;
var $seatdiv = $('<div id = "seat'+i+'" class="seat"></div>')
.toggle(function(){ 
price =price+15.50; 
   ,function(){
price = price-15.50;});

var $dltDiv = $('<div id="dlt_seat'+i+'" 
class="ticket-item"><a href="#">delete</a></div>').click(function(){
price = price-15.50; }); 
```

情况是：1.点击seatDiv（价格变为15.50）；2.点击dltDiv（价格变为0）；3.再次点击seatDiv（价格改成-15.50哪里不对）。

谁能帮忙？提前致谢。干杯。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T11:21:28.550

我相信这就是你想要的：

jQuery：

```
var price = 0;
$('div.ticket-item').each(function() {
    var id = $(this).attr("id").replace("dlt_", "");
    var a = $(this).children("a");
    $(a).toggle(function(){
        $(a).text('delete');
        price = price + 15.50;
        $('#total').empty().append(price);
    }, function() {
        $(a).text('add');
        price = price - 15.50;
        $('#total').empty().append(price);
    });
}); 
```

jsfiddle：

[http://jsfiddle.net/BerkerYuceer/ESqFK/](http://jsfiddle.net/BerkerYuceer/ESqFK/)

您可以将该价格附加到您的 div1 而不是 divtotal 上。我只是想演示它是如何工作的。

# android - android无法从一个标签切换到另一个

> ID：12725020
> 
> 赞同：0
> 
> 时间：2012-10-04T10:12:02.023
> 
> 标签：android, tabs, tabactivity, android-tabactivity

我想从一个标签切换到另一个标签。为此，我使用以下代码：

```
public void switchTabInActivity(int indexTabToSwitchTo){
    AccidentTabActivity ParentActivity;
    ParentActivity = (AccidentTabActivity) getParent(); // here i am getting exception
    ParentActivity.switchTab(indexTabToSwitchTo);
    } 
```

我正在调用我想要导航的这个方法。

但我得到了演员班的例外。

日志猫：

```
10-04 15:39:22.327: ERROR/AndroidRuntime(1016): FATAL EXCEPTION: main
10-04 15:39:22.327: ERROR/AndroidRuntime(1016): java.lang.ClassCastException: com.project.AccidentApp.TabGroupHomeActivity
10-04 15:39:22.327: ERROR/AndroidRuntime(1016):     at com.project.AccidentApp.KnowWhatToDoMenuActivity.switchTabInActivity(KnowWhatToDoMenuActivity.java:189)
10-04 15:39:22.327: ERROR/AndroidRuntime(1016):     at com.project.AccidentApp.KnowWhatToDoMenuActivity$3.onClick(KnowWhatToDoMenuActivity.java:155)
10-04 15:39:22.327: ERROR/AndroidRuntime(1016):     at com.android.internal.app.AlertController$ButtonHandler.handleMessage(AlertController.java:159)
10-04 15:39:22.327: ERROR/AndroidRuntime(1016):     at android.os.Handler.dispatchMessage(Handler.java:99)
10-04 15:39:22.327: ERROR/AndroidRuntime(1016):     at android.os.Looper.loop(Looper.java:130)
10-04 15:39:22.327: ERROR/AndroidRuntime(1016):     at android.app.ActivityThread.main(ActivityThread.java:3683)
10-04 15:39:22.327: ERROR/AndroidRuntime(1016):     at java.lang.reflect.Method.invokeNative(Native Method)
10-04 15:39:22.327: ERROR/AndroidRuntime(1016):     at java.lang.reflect.Method.invoke(Method.java:507)
10-04 15:39:22.327: ERROR/AndroidRuntime(1016):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
10-04 15:39:22.327: ERROR/AndroidRuntime(1016):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
10-04 15:39:22.327: ERROR/AndroidRuntime(1016):     at dalvik.system.NativeStart.main(Native Method) 
```

**更新**

TabGroupHomeActivity.java

```
public class TabGroupHomeActivity extends TabGroupActivity{ 
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        startChildActivity("KnowWhatToDoMenuActivity", new Intent(this,KnowWhatToDoMenuActivity.class));
    }

} 
```

AccidentTabActivity.java

```
public class AccidentTabActivity extends TabActivity 
{
    private TabHost tabHost;
    public void onCreate(Bundle savedInstanceState) 
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main_tab);

        tabHost = getTabHost();  // The activity TabHost
        TabHost.TabSpec spec;  // Resusable TabSpec for each tab
        Intent intent;  // Reusable Intent for each tab

        /////////////////////////////
        intent = new Intent().setClass(this,TabGroupHomeActivity.class);
        // Initialize a TabSpec for each tab and add it to the TabHost
        spec = tabHost.newTabSpec("Menu").setIndicator(prepareTabView("Menu",R.drawable.menul)).setContent(intent);
        tabHost.addTab(spec); // error at this line

        intent = new Intent().setClass(this,TabGroupStepsActivity.class);
        // Initialize a TabSpec for each tab and add it to the TabHost
        spec = tabHost.newTabSpec("Steps").setIndicator(prepareTabView("Steps",R.drawable.tab_step)).setContent(intent);
        tabHost.addTab(spec); 

        intent = new Intent().setClass(this,TabGroupProfileActivity.class);
        // Initialize a TabSpec for each tab and add it to the TabHost
        spec = tabHost.newTabSpec("Profile").setIndicator(prepareTabView("Profile",R.drawable.tab_profile)).setContent(intent);
        tabHost.addTab(spec);       

        intent = new Intent().setClass(this,TabGroupContactUsActivity.class);
        // Initialize a TabSpec for each tab and add it to the TabHost
        spec = tabHost.newTabSpec("Contact").setIndicator(prepareTabView("Menu",R.drawable.tab_contact)).setContent(intent);
        tabHost.addTab(spec);

        tabHost.setCurrentTab(0);

    }

     private View prepareTabView(String text, int resId) {
         View view = LayoutInflater.from(this).inflate(R.layout.tabs, null);
         ImageView iv = (ImageView) view.findViewById(R.id.tabImageView);
         TextView tv = (TextView) view.findViewById(R.id.tabTextView);
         iv.setImageResource(resId);
         tv.setText(text);
         return view;
    }

     public void switchTab(int tab){

         //getLocalActivityManager().getActivity(tab);
            //String strTab = ""+tab;
            tabHost.setCurrentTab(tab);

    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T13:39:26.510

尝试将 tabhost 声明为静态并调用子活动，如下所示..

取而代之**的是私有 TabHost tabHost;**

尝试**静态 TabHost tabHost；**

在您的儿童活动中

```
 AccidentTabActivity.tabHost.setCurrentTab(2); 
```

然后，您可以根据需要设置当前选项卡。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T10:36:33.530

从你的例外来看`getParent()`，没有给你一个`AccidentTabActivity`. 你能告诉我们`AccidentTabActivity`和`TabGroupHomeActivity`课程吗？我认为如果没有这些类，我们将无法帮助您进行调试。

Ps：Java 惯例规定不要以大写开头的变量名，因为您的代码`AccidentTabActivity ParentActivity;`参见[http://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html)。不是批评，但您的代码将更具可读性。

# python - 未定义全局名称“re”

> ID：12725024
> 
> 赞同：13
> 
> 时间：2012-10-04T10:12:12.460
> 
> 标签：python, regex, mincemeat

我是 python 新手，正在研究 mincemeat 的地图减少问题。运行 mincemeat 脚本时出现以下错误。

```
$python mincemeat.py -p changeme localhost
error: uncaptured python exception, closing channel <__main__.Client connected at 0x923fdcc> 
(<type 'exceptions.NameError'>:global name 're' is not defined
 [/usr/lib/python2.7/asyncore.py|read|79]
 [/usr/lib/python2.7/asyncore.py|handle_read_event|438] 
 [/usr/lib/python2.7/asynchat.py|handle_read|140]
 [mincemeat.py|found_terminator|96]
 [mincemeat.py|process_command|194]
 [mincemeat.py|call_mapfn|170]
 [raw1.py|mapfn|43]) 
```

我的代码位于 raw1.py 脚本中，该脚本在上面的堆栈跟踪中作为`[raw1.py|mapfn|43]`.

```
import re
import mincemeat

# ...

allStopWords = {'about':1, 'above':1, 'after':1, 'again':1}

def mapfn(fname, fcont):
    # ...
    for item in tList[1].split():
        word = re.sub(r'[^\w]', ' ', item).lower().strip()        # ERROR
        if (word not in allStopWords) and (len(word) > 1):
            # .... 
```

我已经`re`在 raw1.py 中导入了。`re`如果我在 mincemeat.py 中导入，则不会出现该错误。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2012-10-06T02:46:49.487

您需要自己拥有 import 语句`mapfn`。`mapfn`在不同的 python 进程中执行，因此它无法访问声明它的原始上下文（包括导入）。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-04T10:16:42.870

python 中的“全局”变量实际上只限于它们绑定的模块/文件；您确实需要在使用它们的每个文件中导入它们。

模块名称只是一个变量，就像其他任何东西一样。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T10:17:15.703

听起来你已经回答了这个问题。如果你在 mincemeat.py 中使用 re，你也需要在那里导入 re。

# hadoop - 我在哪里测试Datameer开发者指南的教程3

> ID：12725027
> 
> 赞同：0
> 
> 时间：2012-10-04T10:12:23.077
> 
> 标签：hadoop, hive, apache-pig

我正在为 Datameer 插件开发工作，我对它的教程 3 感到震惊。有人知道我在哪里可以看到我在教程 3 中构建的在 Datameer UI 中工作的 Freemarker 小部件？？？

我无权创建新标签，因此将其置于 Hadoop 下。如果有人有适当的权限，请创建一个`Datameer`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T17:17:13.977

不幸的是，该教程适用于 Datameer v1.4。我们在 v2.0 中引入了一个全新的数据可视化模块，并且我们正在努力在不久的将来的版本中为其提供相同的可定制性。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-06T04:14:53.463

对于这篇文章的延迟回复，我们深表歉意。事实证明，在 Datameer 2.0+ 版本中，可视化（现在称为 Infographics）模块已被重写，利用 HTML5 的强大功能更直观地可视化您的数据分析。

我建议您在[http://www.datameer.com/learn/videos.html](http://www.datameer.com/learn/videos.html)下查看 2.0 必须提供的新功能。

# c++ - 用于比较无法表示的数字的 std::map 技巧？

> ID：12725028
> 
> 赞同：1
> 
> 时间：2012-10-04T10:12:25.950
> 
> 标签：c++, math, hash, stl, map

我想在 C++ 中有一个用户定义的键`std::map`。关键是具有最大值的整数集的二进制表示，`2^V`因此我无法表示所有`2^V`可能的值。我通过有效的二进制集表示来做到这一点，即`uint64_t`.

现在的问题是，要将这个用户定义的位集作为 a 中的键`std::map`，我需要定义位集值之间的有效比较，但是如果我的最大大小为 ，`V=1000`那么我无法得到一个可以比较的数字，让单独聚合它们`2^1000`是不可表示的。

因此我的问题是，假设我有两个不同的集合（通过在我的位集表示中设置正确的位）并且我不能表示最终数字，因为它会溢出：

```
id_1 = 2^0 + 2^1 + ... + 2^V

id_2 = 2^0 + 2^1 + ... + 2^V 
```

是否有合适的转换会导致我可以比较的值？我需要能够这么说`id_1 < id_2`，所以我想将指数总和转换为一个可表示的值，但保持“小于”的不变量。我正在考虑例如以一种聪明的方式应用对数转换来保留“小于”。

这是一个例子：

```
set_1 = {2,3,4}; set_2 = {8}

id(set_1) = 2^2 + 2^3 + 2^4 = 28; id(set_2) = 2^8 = 256

id(set_1) < id(set_2) 
```

完美的！一个可以有 的一般集合，`{1,...,V}`因此`2^V`有可能的子集怎么样？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T10:29:40.783

> 我通过一个有效的二进制集表示来做到这一点，即 uint64_t 的数组。

假设这个数组是通过`ra`key type的数据成员访问的`Key`，并且两个数组都是 length `N`，那么你需要一个像这样的比较器：

```
bool operator<(const Key &lhs, const Key &rhs) {
    return std::lexicographical_compare(lhs.ra, &lhs.ra[N], rhs.ra, &rhs.ra[N]);
} 
```

这隐含地认为数组是大端的，即第一个`uint64_t`是最重要的。如果您不喜欢这样，那很公平，因为您可能已经考虑`V`到您将位存储到数组中的任何顺序的相对重要性。没有什么大不了的`lexicographical_compare`，所以只需看[一个示例实现](http://en.cppreference.com/w/cpp/algorithm/lexicographical_compare#Possible_implementation)并根据需要进行修改。

这被称为“字典顺序”。除了我使用`uint64_t`而不是`char`两个数组长度相同的事实之外，这是比较字符串的方式[*] - 实际上使用`uint64_t`并不重要，您可以只`std::memcmp`在比较器中使用而不是比较64 位块。`operator<`for strings 不能通过将整个字符串转换为整数来工作，你的比较器也不应该。

[*] 直到您使用特定于语言环境的排序规则。

# php - 在 MySQL 的同一列中选择两个不同的值

> ID：12725031
> 
> 赞同：3
> 
> 时间：2012-10-04T10:12:30.650
> 
> 标签：php, mysql

# 询问

```
SELECT *
FROM `products`
WHERE (
`category` = 'a'
AND `category` = 'b'
) 
```

# MySQL

```
products
---
id      sku     category
-------------------------
1       34343   a
2       32523   d
3       23234   b
4       23433   b
5       23442   c 
```

我想退货 A 和 B

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-10-04T10:13:11.353

```
SELECT *
FROM `products`
WHERE (
`category` = 'a'
OR `category` = 'b'
) 
```

或者

```
SELECT *
FROM `products`
WHERE
`category` IN ('a', 'b') 
```

您可以使用 IN 子句替换许多 OR 条件。IN 只是检查一个值是否在一组值内。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T10:14:14.250

您必须使用 OR 运算符，因为使用 AND 您可以选择类别为 A 和 B 的位置，但您必须选择类别为 A 或 B 的位置

```
SELECT *
FROM `products`
WHERE (
`category` = 'a' OR `category` = 'b'
) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T10:14:04.160

```
SELECT *
FROM `products`
WHERE `category` in('a','b') 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-04T10:24:33.413

SELECT * FROM `products` WHERE `category`in ('a', 'b')

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-04T12:01:33.490

你可以这样做：

> SELECT c1 FROM table WHERE c2 IN (1,2,3,4) GROUP BY c1 HAVING COUNT(c2)=4;

# c++ - 大型图书馆中的命名空间使用和滥用

> ID：12725034
> 
> 赞同：0
> 
> 时间：2012-10-04T10:12:42.977
> 
> 标签：c++, coding-style, namespaces

我目前正在思考什么可以让我的（合理的）大库看起来不太胖，一些贡献者建议使用多个命名空间来对事物进行分类。

虽然我理解需要为这个库的用户明确说明，但我怀疑命名空间是否是一个合适的解决方案，因为它使编写代码更加冗长，例如：

```
namespace1::namespace2::namespace3::SomeClass myObject* = new namespace1::namespace2::namespace3::SomeClass(); 
```

这个 c++ 特性在社区中的一般用途是什么？

整个库的单个命名空间+类的命名约定，或者 doxygen 文档中的 \addtosection 会更好吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T10:16:37.840

> **整个库是否有一个命名空间？**

命名空间的主要目的是避免类似符号名称的问题以及由此产生的符号名称冲突。
最好为您的库和有意义的指示性类名提供一个命名空间。这将有助于避免命名类以及不太笨拙。

你可以一直使用，

*   [使用命名空间声明](http://publib.boulder.ibm.com/infocenter/comphelp/v8v101/index.jsp?topic=/com.ibm.xlcpp8a.doc/language/ref/using_declaration.htm)或
*   [命名空间别名](http://publib.boulder.ibm.com/infocenter/comphelp/v8v101/topic/com.ibm.xlcpp8a.doc/language/ref/creating_a_namespace_alias.htm)

如果您有嵌套的命名空间，无论出于何种原因都无法避免。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T10:17:35.093

使用命名空间别名可以使深层命名空间级别变得漂亮，所以我不会认为这是一个很大的问题。这也是你不能用在类名前面加上模块名的命名约定来做的事情。

我认为 doxygen 中的组织与实际命名是正交的。如果您的代码没有明确的包含依赖项，则可以使用 doxygen 组。否则，我会以 doxygen 页面的形式提供文件级文档和文件层次结构指南。这样我就不需要手动对事物进行分组并同时检查我的包含。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T10:16:22.653

这是Boost使用的方法。但是 Boost 是一个库的*集合*，每个库都在自己的命名空间中。

在函数内部，如果需要，您可以使用`using`指令来减轻一些负担，例如`using namespace std::placeholders`, 或`using std::placeholders::_1`.

或者您可以使用命名空间别名：`namespace ns = name1::name2::name3`.

最好的整体实际上是创建几个小的独立库，它们对彼此做出尽可能少的假设，并给它们一个不同的命名空间。如果这不可能，您可能需要查看一般设计。

# iphone - 属性、iVar、访问器方法...？

> ID：12725038
> 
> 赞同：0
> 
> 时间：2012-10-04T10:13:06.630
> 
> 标签：iphone, ios, properties

我有几个在其中设置属性的类。

例如，一个名为`MyDetailCell`subclassed的类`UITableViewCell`。

在里面我有一个类似的财产......

```
@property SomeClass *someValue; 
```

最初我使用它并将其存储在 setter 函数中......

```
- (void)setSomeValue:(SomeClass*)someValue
{
    _somValue = someValue;

    //do something with the _someValue object like changing text or something...
} 
```

无论如何，我决定我实际上不需要存储发送的值，所以我只是这样做......

```
- (void)setSomeValue:(SomeClass*)someValue
{
    //do something with the _someValue object like changing text or something...
} 
```

然后我改变到我只是将二传手传递给子视图的地方。像这样...

```
- (void)setSomeValue:(SomeClass*)someValue
{
    self.someSubView.someValue = someValue;
} 
```

所以现在我不确定要使用什么。我现在根本没有真正保存财产，所以我想我真的不需要它。我不需要访问它来获取值，我只需要设置它。

目前，我已将物业原样保留在那里。

*   那样可以么？
*   这是不好的做法吗？
*   我应该将其更改为仅设置方法吗？
*   这样做有什么好处？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:23:44.660

> 那样可以么？

不。

> 这是不好的做法吗？

是的。

> 我应该将它更改为一个 setter 方法吗？这样做有什么好处？

我不明白你的意思。你写了“只是一个 setter 方法”，你还在 setter 方法中做了一些处理，这很好，但你做错了其他事情。一个是您不保留非委托对象-您应该保留。您不提供吸气剂-这也是一个错误的概念。可以有 readonly 和 readwrite 属性，但不能只写属性。

# java - 在java中检查sql数据库连接

> ID：12725041
> 
> 赞同：5
> 
> 时间：2012-10-04T10:13:17.750
> 
> 标签：java

我正在使用 sql server 2008。我需要检查是否可以使用服务器名称、端口号、数据库名称、用户名和密码建立连接。

有什么简单的方法可用吗？

* * *

## 回答 #1

> 赞同：23
> 
> 时间：2012-10-04T10:44:17.013

这是一个示例**JAVA**程序，用于检查与 DB 服务器的连接是否成功。

```
public class TestDBConnection {

        public static void main(String[] args) {
            String Url = "jdbc:sqlserver://serverURL;DatabaseName=DBname;user=dbUsername;Password=dbPassword";
            try {
                Class.forName("com.microsoft.sqlserver.jdbc.SQLServerDriver");
                System.out.println("Trying to connect");
                Connection connection = DriverManager.getConnection(Url);

                System.out.println("Connection Established Successfull and the DATABASE NAME IS:"
                        + connection.getMetaData().getDatabaseProductName());
            } catch (Exception e) {
System.out.println("Unable to make connection with DB");
                e.printStackTrace();
            }
        }
    } 
```

希望这对你有用。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-04T10:23:50.023

以下是建立数据库连接的步骤

```
 // Step 1: Create a database "Connection" object

      Connection    conn = DriverManager.getConnection("jdbc:odbc:OracleDSN;UID="your username";PWD="yourpassword""); 
```

“OracleDSN”是您必须创建的数据源名称

```
 // Step 2: Create a "Statement" object inside the "Connection"
      Statement   stmt = conn.createStatement(); 
```

# iphone - 如何使用 iphone 中的 zxing 库生成给定文本的条形码？

> ID：12725044
> 
> 赞同：-1
> 
> 时间：2012-10-04T10:13:24.770
> 
> 标签：iphone, zxing

我有 zxing libray 使用我想要生成给定文本的条形码的那个库，我怎么能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:17:42.773

请查看这些链接并自己尝试...

1.  [http://basheerad.blogspot.in/2012/04/integrating-zxing-qr-code-reader-in.html](http://basheerad.blogspot.in/2012/04/integrating-zxing-qr-code-reader-in.html)
2.  [http://yannickloriot.com/2011/04/how-to-install-zxing-in-xcode-4/](http://yannickloriot.com/2011/04/how-to-install-zxing-in-xcode-4/)
3.  [在为 iPhone 集成 zxing 的同时管理视图](https://stackoverflow.com/questions/9263282/managing-views-while-integrating-zxing-for-iphone)
4.  [https://github.com/zxing/zxing/tree/master/iphone](https://github.com/zxing/zxing/tree/master/iphone)

# collections - 如何设置 XQJ 连接的默认/基本集合

> ID：12725045
> 
> 赞同：1
> 
> 时间：2012-10-04T10:13:33.767
> 
> 标签：collections, xquery, exist-db

我想通过 XQJ API 查询 eXist db。因此，我有一个 XQuery 文件，我想将其应用于数据库不同集合中的几个不同文档。

我的问题是，如何设置文档/集合的路径？我只想将 XQuery 应用于特定文档/集合，并且不能直接在 XQuery 文档中设置路径（使用 doc('path/to/doc') 函数），因为我想将相同的 XQuery 应用于多个具有不同路径的文件。

我可以将 Java 变量绑定到 Xquery 表达式，但必须有一种更优雅的方式来使用 XQJ API 来完成这项任务。希望你能帮我一点忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T11:03:16.393

如果您预先知道特定的文档 URI，则可以将一组 URI 绑定为 xs:string 序列，然后可以在 XQuery 表达式中遍历它们，并根据需要对每个 URI 执行操作。

```
declare variable $uris as xs:string* external;

for $uri in $uris
return (
 (: perform operation against $uri :)
) 
```

或者，如果您知道集合 uri，

```
declare variable $collection-uri as xs:string external;

for $document-node in fn:collection($collection-uri)
return (
  (: perform operation against document-node() :)
) 
```

在 eXist XQJ API 的未来版本中，您将能够将集合设置为默认上下文，这违反了 XQJ 标准和 XQuery 1.0 / 3.0 标准，但其他用户似乎非常想要这个功能。

# memory-management - ROS/OpenCV/Boost 内存释放

> ID：12725046
> 
> 赞同：1
> 
> 时间：2012-10-04T10:13:38.387
> 
> 标签：memory-management, boost, opencv, memory-leaks, ros

我有以下回调函数，旨在订阅 ROS 图像，将图像转换为 openCV IplImage* 以进行 blob 跟踪，然后释放内存。

```
void ImageCb(const sensor_msgs::ImageConstPtr &msg)
{
   cv_bridge::CvImagePtr cv_ptr;
   try {
   cv_ptr = cv_bridge::toCvCopy(msg, enc::BGR8);
   }
   catch (cv_bridge::Exception& e){
      ROS_ERROR("cv_bridge exception: %s", e.what());
      return;
   }

   IplImage *imageBGR, *imageRaw;

   imageRaw = cvCreateImage( cvSize(640,480) ,IPL_DEPTH_8U,3);
   imageBGR = cvCreateImage( cvSize(640,480) ,IPL_DEPTH_8U,3);

   *imageRaw = cv_ptr->image.operator IplImage();
   imageBGR = cvCloneImage( imageRaw );

   //do stuff...

   cvReleaseImage( &imageBGR ); 
   cvReleaseImage( &imageRaw ); //<-- seg fault if included
} 
```

如果我包含 cvReleaseImage( &imageRaw ) 和内存泄漏（在短时间内导致 std::bad_alloc() ），则从函数返回时会出现分段错误。我通过 valgrind 运行可执行文件并确认在回调范围之后发生分段错误。看起来，在函数内部，我释放了 921,624 字节的图像数据。在函数 boost 之后，ROS 和 OpenCV 进程分别将内存 0、12 和 921,616 字节释放到已释放的内存块中。valgrind 的输出发布在下面 - 有什么想法吗？

```
==32750== Invalid read of size 4
==32750==    at 0x4229CD6: boost::detail::sp_counted_impl_pd<cv_bridge::CvImage*, boost::detail::sp_ms_deleter<cv_bridge::CvImage> >::dispose() (mat.hpp:366)
==32750==    by 0x80779AF: boost::detail::shared_count::~shared_count() (shared_count.hpp:217)
==32750==    by 0x8078991: boost::shared_ptr<cv_bridge::CvImage>::~shared_ptr() (shared_ptr.hpp:168)
==32750==    by 0x8073F2C: ImageCb(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&) (state_sensor.cpp:185)
==32750==    by 0x807DE6A: boost::detail::function::void_function_invoker1<void (*)(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&), void, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&>::invoke(boost::detail::function::function_buffer&, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&) (function_template.hpp:112)
==32750==    by 0x4759603: image_transport::RawSubscriber::internalCallback(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&, boost::function<void ()(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)> const&) (function_template.hpp:1013)
==32750==    by 0x4756802: boost::detail::function::void_function_obj_invoker1<boost::_bi::bind_t<void, boost::_mfi::mf2<void, image_transport::SimpleSubscriberPlugin<sensor_msgs::Image_<std::allocator<void> > >, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&, boost::function<void ()(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)> const&>, boost::_bi::list3<boost::_bi::value<image_transport::SimpleSubscriberPlugin<sensor_msgs::Image_<std::allocator<void> > >*>, boost::arg<1>, boost::_bi::value<boost::function<void ()(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)> > > >, void, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&>::invoke(boost::detail::function::function_buffer&, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&) (mem_fn_template.hpp:280)
==32750==    by 0x474C965: boost::detail::function::void_function_obj_invoker1<boost::function<void ()(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)>, void, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> >::invoke(boost::detail::function::function_buffer&, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const>) (function_template.hpp:1013)
==32750==    by 0x475FBFE: ros::SubscriptionCallbackHelperT<boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&, void>::call(ros::SubscriptionCallbackHelperCallParams&) (function_template.hpp:1013)
==32750==    by 0x4128C06: ros::SubscriptionQueue::call() (in /opt/ros/fuerte/lib/libroscpp.so)
==32750==    by 0x40D8A86: ros::CallbackQueue::callOneCB(ros::CallbackQueue::TLS*) (in /opt/ros/fuerte/lib/libroscpp.so)
==32750==    by 0x40DA563: ros::CallbackQueue::callAvailable(ros::WallDuration) (in /opt/ros/fuerte/lib/libroscpp.so)
==32750==  Address 0x1c9ae320 is 921,616 bytes inside a block of size 921,624 free'd
==32750==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==32750==    by 0x43EE3D1: cv::fastFree(void*) (in /opt/ros/fuerte/lib/libopencv_core.so.2.4.2)
==32750==    by 0x807DE6A: boost::detail::function::void_function_invoker1<void (*)(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&), void, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&>::invoke(boost::detail::function::function_buffer&, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&) (function_template.hpp:112)
==32750==    by 0x4759603: image_transport::RawSubscriber::internalCallback(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&, boost::function<void ()(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)> const&) (function_template.hpp:1013)
==32750==    by 0x4756802: boost::detail::function::void_function_obj_invoker1<boost::_bi::bind_t<void, boost::_mfi::mf2<void, image_transport::SimpleSubscriberPlugin<sensor_msgs::Image_<std::allocator<void> > >, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&, boost::function<void ()(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)> const&>, boost::_bi::list3<boost::_bi::value<image_transport::SimpleSubscriberPlugin<sensor_msgs::Image_<std::allocator<void> > >*>, boost::arg<1>, boost::_bi::value<boost::function<void ()(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)> > > >, void, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&>::invoke(boost::detail::function::function_buffer&, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&) (mem_fn_template.hpp:280)
==32750==    by 0x474C965: boost::detail::function::void_function_obj_invoker1<boost::function<void ()(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)>, void, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> >::invoke(boost::detail::function::function_buffer&, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const>) (function_template.hpp:1013)
==32750==    by 0x475FBFE: ros::SubscriptionCallbackHelperT<boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&, void>::call(ros::SubscriptionCallbackHelperCallParams&) (function_template.hpp:1013)
==32750==    by 0x4128C06: ros::SubscriptionQueue::call() (in /opt/ros/fuerte/lib/libroscpp.so)
==32750==    by 0x40D8A86: ros::CallbackQueue::callOneCB(ros::CallbackQueue::TLS*) (in /opt/ros/fuerte/lib/libroscpp.so)
==32750==    by 0x40DA563: ros::CallbackQueue::callAvailable(ros::WallDuration) (in /opt/ros/fuerte/lib/libroscpp.so)
==32750==    by 0x411039A: ros::spinOnce() (in /opt/ros/fuerte/lib/libroscpp.so)
==32750==    by 0x48FF4D2: (below main) (libc-start.c:226)
==32750== 
==32750== Invalid read of size 4
==32750==    at 0x43EE3C7: cv::fastFree(void*) (in /opt/ros/fuerte/lib/libopencv_core.so.2.4.2)
==32750==    by 0x80779AF: boost::detail::shared_count::~shared_count() (shared_count.hpp:217)
==32750==    by 0x8078991: boost::shared_ptr<cv_bridge::CvImage>::~shared_ptr() (shared_ptr.hpp:168)
==32750==    by 0x8073F2C: ImageCb(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&) (state_sensor.cpp:185)
==32750==    by 0x807DE6A: boost::detail::function::void_function_invoker1<void (*)(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&), void, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&>::invoke(boost::detail::function::function_buffer&, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&) (function_template.hpp:112)
==32750==    by 0x4759603: image_transport::RawSubscriber::internalCallback(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&, boost::function<void ()(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)> const&) (function_template.hpp:1013)
==32750==    by 0x4756802: boost::detail::function::void_function_obj_invoker1<boost::_bi::bind_t<void, boost::_mfi::mf2<void, image_transport::SimpleSubscriberPlugin<sensor_msgs::Image_<std::allocator<void> > >, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&, boost::function<void ()(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)> const&>, boost::_bi::list3<boost::_bi::value<image_transport::SimpleSubscriberPlugin<sensor_msgs::Image_<std::allocator<void> > >*>, boost::arg<1>, boost::_bi::value<boost::function<void ()(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)> > > >, void, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&>::invoke(boost::detail::function::function_buffer&, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&) (mem_fn_template.hpp:280)
==32750==    by 0x474C965: boost::detail::function::void_function_obj_invoker1<boost::function<void ()(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)>, void, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> >::invoke(boost::detail::function::function_buffer&, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const>) (function_template.hpp:1013)
==32750==    by 0x475FBFE: ros::SubscriptionCallbackHelperT<boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&, void>::call(ros::SubscriptionCallbackHelperCallParams&) (function_template.hpp:1013)
==32750==    by 0x4128C06: ros::SubscriptionQueue::call() (in /opt/ros/fuerte/lib/libroscpp.so)
==32750==    by 0x40D8A86: ros::CallbackQueue::callOneCB(ros::CallbackQueue::TLS*) (in /opt/ros/fuerte/lib/libroscpp.so)
==32750==    by 0x40DA563: ros::CallbackQueue::callAvailable(ros::WallDuration) (in /opt/ros/fuerte/lib/libroscpp.so)
==32750==  Address 0x1c8cd31c is 12 bytes inside a block of size 921,624 free'd
==32750==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==32750==    by 0x43EE3D1: cv::fastFree(void*) (in /opt/ros/fuerte/lib/libopencv_core.so.2.4.2)
==32750==    by 0x807DE6A: boost::detail::function::void_function_invoker1<void (*)(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&), void, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&>::invoke(boost::detail::function::function_buffer&, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&) (function_template.hpp:112)
==32750==    by 0x4759603: image_transport::RawSubscriber::internalCallback(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&, boost::function<void ()(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)> const&) (function_template.hpp:1013)
==32750==    by 0x4756802: boost::detail::function::void_function_obj_invoker1<boost::_bi::bind_t<void, boost::_mfi::mf2<void, image_transport::SimpleSubscriberPlugin<sensor_msgs::Image_<std::allocator<void> > >, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&, boost::function<void ()(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)> const&>, boost::_bi::list3<boost::_bi::value<image_transport::SimpleSubscriberPlugin<sensor_msgs::Image_<std::allocator<void> > >*>, boost::arg<1>, boost::_bi::value<boost::function<void ()(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)> > > >, void, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&>::invoke(boost::detail::function::function_buffer&, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&) (mem_fn_template.hpp:280)
==32750==    by 0x474C965: boost::detail::function::void_function_obj_invoker1<boost::function<void ()(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)>, void, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> >::invoke(boost::detail::function::function_buffer&, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const>) (function_template.hpp:1013)
==32750==    by 0x475FBFE: ros::SubscriptionCallbackHelperT<boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&, void>::call(ros::SubscriptionCallbackHelperCallParams&) (function_template.hpp:1013)
==32750==    by 0x4128C06: ros::SubscriptionQueue::call() (in /opt/ros/fuerte/lib/libroscpp.so)
==32750==    by 0x40D8A86: ros::CallbackQueue::callOneCB(ros::CallbackQueue::TLS*) (in /opt/ros/fuerte/lib/libroscpp.so)
==32750==    by 0x40DA563: ros::CallbackQueue::callAvailable(ros::WallDuration) (in /opt/ros/fuerte/lib/libroscpp.so)
==32750==    by 0x411039A: ros::spinOnce() (in /opt/ros/fuerte/lib/libroscpp.so)
==32750==    by 0x48FF4D2: (below main) (libc-start.c:226)
==32750== 
==32750== Invalid free() / delete / delete[] / realloc()
==32750==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==32750==    by 0x43EE3D1: cv::fastFree(void*) (in /opt/ros/fuerte/lib/libopencv_core.so.2.4.2)
==32750==    by 0x80779AF: boost::detail::shared_count::~shared_count() (shared_count.hpp:217)
==32750==    by 0x8078991: boost::shared_ptr<cv_bridge::CvImage>::~shared_ptr() (shared_ptr.hpp:168)
==32750==    by 0x8073F2C: ImageCb(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&) (state_sensor.cpp:185)
==32750==    by 0x807DE6A: boost::detail::function::void_function_invoker1<void (*)(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&), void, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&>::invoke(boost::detail::function::function_buffer&, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&) (function_template.hpp:112)
==32750==    by 0x4759603: image_transport::RawSubscriber::internalCallback(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&, boost::function<void ()(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)> const&) (function_template.hpp:1013)
==32750==    by 0x4756802: boost::detail::function::void_function_obj_invoker1<boost::_bi::bind_t<void, boost::_mfi::mf2<void, image_transport::SimpleSubscriberPlugin<sensor_msgs::Image_<std::allocator<void> > >, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&, boost::function<void ()(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)> const&>, boost::_bi::list3<boost::_bi::value<image_transport::SimpleSubscriberPlugin<sensor_msgs::Image_<std::allocator<void> > >*>, boost::arg<1>, boost::_bi::value<boost::function<void ()(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)> > > >, void, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&>::invoke(boost::detail::function::function_buffer&, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&) (mem_fn_template.hpp:280)
==32750==    by 0x474C965: boost::detail::function::void_function_obj_invoker1<boost::function<void ()(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)>, void, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> >::invoke(boost::detail::function::function_buffer&, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const>) (function_template.hpp:1013)
==32750==    by 0x475FBFE: ros::SubscriptionCallbackHelperT<boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&, void>::call(ros::SubscriptionCallbackHelperCallParams&) (function_template.hpp:1013)
==32750==    by 0x4128C06: ros::SubscriptionQueue::call() (in /opt/ros/fuerte/lib/libroscpp.so)
==32750==    by 0x40D8A86: ros::CallbackQueue::callOneCB(ros::CallbackQueue::TLS*) (in /opt/ros/fuerte/lib/libroscpp.so)
==32750==  Address 0x1c8cd310 is 0 bytes inside a block of size 921,624 free'd
==32750==    at 0x402C06C: free (in /usr/lib/valgrind/vgpreload_memcheck-x86-linux.so)
==32750==    by 0x43EE3D1: cv::fastFree(void*) (in /opt/ros/fuerte/lib/libopencv_core.so.2.4.2)
==32750==    by 0x807DE6A: boost::detail::function::void_function_invoker1<void (*)(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&), void, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&>::invoke(boost::detail::function::function_buffer&, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&) (function_template.hpp:112)
==32750==    by 0x4759603: image_transport::RawSubscriber::internalCallback(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&, boost::function<void ()(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)> const&) (function_template.hpp:1013)
==32750==    by 0x4756802: boost::detail::function::void_function_obj_invoker1<boost::_bi::bind_t<void, boost::_mfi::mf2<void, image_transport::SimpleSubscriberPlugin<sensor_msgs::Image_<std::allocator<void> > >, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&, boost::function<void ()(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)> const&>, boost::_bi::list3<boost::_bi::value<image_transport::SimpleSubscriberPlugin<sensor_msgs::Image_<std::allocator<void> > >*>, boost::arg<1>, boost::_bi::value<boost::function<void ()(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)> > > >, void, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&>::invoke(boost::detail::function::function_buffer&, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&) (mem_fn_template.hpp:280)
==32750==    by 0x474C965: boost::detail::function::void_function_obj_invoker1<boost::function<void ()(boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&)>, void, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> >::invoke(boost::detail::function::function_buffer&, boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const>) (function_template.hpp:1013)
==32750==    by 0x475FBFE: ros::SubscriptionCallbackHelperT<boost::shared_ptr<sensor_msgs::Image_<std::allocator<void> > const> const&, void>::call(ros::SubscriptionCallbackHelperCallParams&) (function_template.hpp:1013)
==32750==    by 0x4128C06: ros::SubscriptionQueue::call() (in /opt/ros/fuerte/lib/libroscpp.so)
==32750==    by 0x40D8A86: ros::CallbackQueue::callOneCB(ros::CallbackQueue::TLS*) (in /opt/ros/fuerte/lib/libroscpp.so)
==32750==    by 0x40DA563: ros::CallbackQueue::callAvailable(ros::WallDuration) (in /opt/ros/fuerte/lib/libroscpp.so)
==32750==    by 0x411039A: ros::spinOnce() (in /opt/ros/fuerte/lib/libroscpp.so)
==32750==    by 0x48FF4D2: (below main) (libc-start.c:226)
==32750== 
```

# php - 如何从 JSON 数组响应中检索值

> ID：12725048
> 
> 赞同：1
> 
> 时间：2012-10-04T10:13:43.010
> 
> 标签：php, arrays, json

我想从位置键中获取 ahmedab​​ad,surat。我正在输出

```
$jsonResponse = Zend_JSON::decode(substr($response['body'], 9));

print_r($jsonResponse['result']);

//output :Array ( [0] => Array ( [location] => ahmedabad [id] => 18x49 ) [1] => Array ( [location] => Surat [id] => 18x42 ) ) 
```

我浏览了许多网站上的解决方案，但不知道如何做到这一点。请我感谢您的帮助。我希望我已经给出了重要的细节。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T10:15:37.893

循环元素：

```
foreach($jsonResponse['result'] as $val){
    echo $val['location'];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T10:15:50.250

```
$jsonResponse['result'][0]['location'] // 'ahmedabad'
$jsonResponse['result'][1]['location'] // 'Surat' 
```

# android - 在 Android 中与 WebView 交互

> ID：12725055
> 
> 赞同：4
> 
> 时间：2012-10-04T10:14:08.947
> 
> 标签：android, android-webview, android-view

我有一个 webview 和 webview 中的缩略图的 onCLick 我需要显示来自 Android 活动的画廊。我如何实现这一目标？我还可以获得一个示例代码/应用程序，以了解如何与 WebView 交互并返回。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T10:20:06.983

[http://developer.android.com/guide/webapps/webview.html](http://developer.android.com/guide/webapps/webview.html)

您需要在 Android 代码中创建一个类并将其传递给 webview 使用`WebView.addJavascriptInterface`

# c# - 使用 OPENXML 读取时 Excel 电子表格行单元格乱序

> ID：12725064
> 
> 赞同：0
> 
> 时间：2012-10-04T10:14:47.373
> 
> 标签：c#, excel, openxml

我需要读取一个 excel 文档并将包含在数据库中的单元格中的数据。但是，我注意到的问题是，当我从行中读取数据时，它们并没有按照它们在表单中出现的顺序出现。请问我该如何解决？

```
public void getrowdata(){

 IEnumerable<Row> dataRows = from row in s.worksheetpart.Worksheet.Descendants<Row>()
                                                where row.RowIndex > 6
                                                select row;

// extract the data in the row in order 
                foreach (Row row in dataRows)
                { 
                    var cellValues = from cell in row.Descendants<Cell>()
                                     select ((cell.CellValue != null && cell.DataType != null && cell.DataType.HasValue)
                                         && (sharedString.HasChildren && int.Parse(cell.CellValue.InnerText) < sharedString.ChildElements.Count)
                                         ? sharedString.ChildElements[int.Parse(cell.CellValue.InnerText)].InnerText
                                         : ((cell.CellValue != null && cell.CellValue.InnerText != null) ? cell.CellValue.InnerText : String.Empty));

//--cellValues.toArray() and then access each cell via index in array

}

  public void ReadDSheetsToBuffer()
        {
            try
            { 
                //Open the Excel workbook.
                using (SpreadsheetDocument document = SpreadsheetDocument.Open(file.FullName, true))
                {
                    //References to the workbook and Shared String Table.
                    workBook = document.WorkbookPart.Workbook;
                    workSheets = workBook.Descendants<Sheet>();
                    sharedStrings = document.WorkbookPart.SharedStringTablePart.SharedStringTable; 
                    ExtractSheetstoMemory2(document);

                }
            }
            catch (Exception ex)
            {
                throw ex.GetBaseException();
            }
        } 
```

[在我用代码阅读的示例 Excel](http://www.filedropper.com/dcttestdata)文件中找到的示例文件

下面是我访问存储在行中单元格中的值的方式类型。. .

```
 if (values[228] != null)
                itemdetail.Custom1 = rowvalues[228].Trim();
            if (values[229] != null)
                itemdetail.Custom2 = rowvalues[229].Trim();
            if (values[230] != null)
                itemdetail.Custom3 = rowvalues[230].Trim();
            if (values[231] != null)
                itemdetail.Custom4 = rowvalues[231].Trim();
            if (values[232] != null)
                itemdetail.Custom5 = rowvalues[232].Trim();
            if (values[233] != null)
                itemdetail.Custom6 = rowvalues[233].Trim(); 
```

我尝试使用单元格引用来访问单元格内文

```
foreach (Row row in dataRows)
{
    if (row.RowIndex > 6)
    {
        String theCell = row.Descendants<Cell>().Where(c => c.CellReference == ExcelColumnFromNumber(1) + row.RowIndex.ToString()).FirstOrDefault().InnerText;
        String theCell2 = row.Descendants<Cell>().Where(c => c.CellReference == ExcelColumnFromNumber(2) + row.RowIndex.ToString()).FirstOrDefault().InnerText;
        String theCell3 = row.Descendants<Cell>().Where(c => c.CellReference == ExcelColumnFromNumber(3) + row.RowIndex.ToString()).FirstOrDefault().InnerText;
        String theCell4 = row.Descendants<Cell>().Where(c => c.CellReference == ExcelColumnFromNumber(4) + row.RowIndex.ToString()).FirstOrDefault().InnerText;
        String theCell5 = row.Descendants<Cell>().Where(c => c.CellReference == ExcelColumnFromNumber(5) + row.RowIndex.ToString()).FirstOrDefault().InnerText;
        String theCell6 = row.Descendants<Cell>().Where(c => c.CellReference == ExcelColumnFromNumber(6) + row.RowIndex.ToString()).FirstOrDefault().InnerText;
        String theCell7 = row.Descendants<Cell>().Where(c => c.CellReference == ExcelColumnFromNumber(7) + row.RowIndex.ToString()).FirstOrDefault().InnerText;
        String theCell8 = row.Descendants<Cell>().Where(c => c.CellReference == ExcelColumnFromNumber(8) + row.RowIndex.ToString()).FirstOrDefault().InnerText;
        String theCell9 = row.Descendants<Cell>().Where(c => c.CellReference == ExcelColumnFromNumber(9) + row.RowIndex.ToString()).FirstOrDefault().InnerText;
        String theCell10 = row.Descendants<Cell>().Where(c => c.CellReference == ExcelColumnFromNumber(10) + row.RowIndex.ToString()).FirstOrDefault().InnerText;
        String theCell11 = row.Descendants<Cell>().Where(c => c.CellReference == ExcelColumnFromNumber(11) + row.RowIndex.ToString()).FirstOrDefault().InnerText;
        String theCell112 = row.Descendants<Cell>().Where(c => c.CellReference == ExcelColumnFromNumber(12) + row.RowIndex.ToString()).FirstOrDefault().InnerText;
        String theCell13 = row.Descendants<Cell>().Where(c => c.CellReference == ExcelColumnFromNumber(13) + row.RowIndex.ToString()).FirstOrDefault().InnerText;
        String theCell14 = row.Descendants<Cell>().Where(c => c.CellReference == ExcelColumnFromNumber(14) + row.RowIndex.ToString()).FirstOrDefault().InnerText;
        String theCell15 = row.Descendants<Cell>().Where(c => c.CellReference == ExcelColumnFromNumber(15) + row.RowIndex.ToString()).FirstOrDefault().InnerText;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T00:46:15.633

当您遍历单个单元格时，您需要查看`CellReference`属性（它是XML 文件中**单元格**`r`的属性）。这包含 A1 格式的单元格地址，其中 A 是列，1 是行。

 **例如，第 68 行上的第 233 列将是 HY68。您可能会发现[这个问题](https://stackoverflow.com/q/837155/53614)对于如何生成列字母很有用。然后，您可以检查作为`CellReference`您正在检查的行的后代的每个单元格，提取列字母并使用`switch`语句来填充您的相关部分`ItemDetail`

我可以看到避免迭代单个单元格的唯一明显方法可能是使用 XPath 直接从底层 XML/.xslx 文件中提取它们。不知道如何在 C# 中使用`SpreadsheetDocument`对象及其后代来做到这一点。

您还可以通过`CellReference`属性对现有查询之一进行排序，这将使单元格按顺序排列，但可能会导致空单元格出现问题（即返回的第 10 个单元格可能不是第 10 列中的单元格）

* * *

编辑：处理丢失的单元格/空引用只需要您在访问`.InnerText`属性之前检查引用。

```
Cell theCell = row.Descendants<Cell>().Where(c => c.CellReference == ExcelColumnFromNumber(1) + row.RowIndex.ToString()).FirstOrDefault();

String theCellValue = "";

if (theCell != null)
{
  theCellValue = theCell.InnerText;
} 
```

将很多包装在一个函数中可能会更整洁，该函数将 the`Cell`作为参数并返回`String`包含 the`InnerText`或空字符串**

# cocos2d-iphone - 如何将 box2d 主体固定/粘贴到地面

> ID：12725071
> 
> 赞同：-1
> 
> 时间：2012-10-04T10:15:16.303
> 
> 标签：cocos2d-iphone, box2d, box2d-iphone

如何将 box2d 主体（圆形或多边形）固定或粘贴到地面（主体）上。抱歉，如果这听起来很简单，我找不到与此相关的任何内容。请帮忙。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T11:08:23.510

只需将该身体用作静态身体..！它不会移动到任何地方..！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T16:00:47.190

或者您也可以在车身和地面之间创建焊接接头。

# lotus-notes - 如何用来自不同数据库的许多值填充组合框？

> ID：12725074
> 
> 赞同：0
> 
> 时间：2012-10-04T10:15:36.780
> 
> 标签：lotus-notes, xpages, lotus-domino

我试过 @DbColumn 但我得到了 Infinity，这是我当前的代码：

```
var dbName:NotesDatabase = session.getDatabase("the server", "the database.nsf");
var v:NotesView = dbName.getView("the view").getColumnValues(0);
return v; 
```

但这会返回大约一百个结果，然后我会得到扭曲的文本、象形文字、不同行中的值等。

值的屏幕截图：

![我以前从未见过这样的事情](../Images/d365f4ef87cf7a5a378ebb66e33e30ab.png)

怎么办？非常感谢你！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T23:33:28.473

这是一个猜测，因为我不是 XPages 人，但在我看来，你在说：

```
var v:NotesView 
```

进而

```
return v; 
```

所以这意味着你声明 v 是一个 NotesView 对象。您实际上是在分配 columnValues，但数据类型错误，显然没有进行类型检查。因此，您返回 v，它被视为 NotesView 对象，而不是字符串值数组。

也许这就是你需要的：

```
var v:NotesView = dbName.getView("the view");
return v.getColumnValues(0); 
```

# activerecord - 属于特定版本

> ID：12725076
> 
> 赞同：1
> 
> 时间：2012-10-04T10:15:44.830
> 
> 标签：activerecord, versioning, vestal-versions, paper-trail-gem

我需要将模型的特定版本与订单一起存储。我打算使用像[paper_trail](https://github.com/airblade/paper_trail)或[vestal_versions](https://github.com/laserlemon/vestal_versions)这样的版本控制 gem 。我想要订单自动加载的正确版本。

理想情况下，我只是简单地存储对象，`order.update_attributes(:stuff => bought_stuff)`订单会记住东西的版本，以便后续加载`order.reload.stuff`仍然是保存订单时的对象。

有没有可以提供这种功能的宝石？我找不到一个。

否则，如何使用 ActiveRecord 和版本控制 gem 来实现？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T10:48:08.527

实际上，我几乎可以使用 PaperTrail 实现我想要的，这个：

```
class Stuff < ActiveRecord::Base
  has_paper_trail
end

class Order < ActiveRecord::Base
  belongs_to :stuff

  def stuff_with_version
    stuff_without_version.version_at(created_at) if stuff_without_version
  end

  alias_method_chain :stuff, :version
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T10:55:12.317

不确定这是否一定是最适合您的设计，但您可以为此使用 paper_trail。只需在模型类的顶部添加宏方法“has_paper_trail”，每当实例更改时，就会在名为“versions”的表中创建它的序列化副本以及与实际模型的多态关系。

假设您要将“产品”的特定版本与订单相关联，首先向版本表添加关系 - 即向您的订单添加“version_id”的迁移，然后按如下方式设置关系：

```
class Order
  belongs_to :version

  def product
    version
  end

  def product=(p)
    version=p.versions.last
  end

end

class Product
  has_paper_trail
end 
```

使用此功能，当您将产品添加到订单时，它会将订单与产品的最新版本相关联。当您检索产品时，它会拉出版本；即创建订单时的产品。让关系以相反的方式工作（即将产品与订单相关联）可能会更复杂，但这是一个开始。

# c# - 如何更改不同网站的 web.config 文件？

> ID：12725077
> 
> 赞同：0
> 
> 时间：2012-10-04T10:15:47.120
> 
> 标签：c#, asp.net, web-applications, web-config

我有 2 个网络应用程序：

1.  主要应用
2.  自我门户

我想从我的**Main Application更改****Self Portal**的 web.config 文件。

 **在主应用程序中，我得到了 Self Portal URL`(for example: http://servername/SelfPortal).`

如何打开其配置文件并进行编辑？

谢谢，英巴尔。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:41:18.957

由于您可以访问文件系统，因此您可以像打开`.config`任何 XML 文件一样打开该文件。

使用[`XDocument`](http://msdn.microsoft.com/en-us/library/system.xml.linq.xdocument.aspx)您可以加载、操作和保存文件。

[`ConfigurationManager`](http://msdn.microsoft.com/en-us/library/system.configuration.configurationmanager.aspx)如果需要，还有其他方法可以打开强类型文件（查看`Open***`方法）。**

# ruby - 使用 Ruby 从 TOAD for DB2 获取 DB 结果

> ID：12725080
> 
> 赞同：0
> 
> 时间：2012-10-04T10:15:56.547
> 
> 标签：ruby, selenium, capybara

如何使用 Ruby/capybara 从 TOAD for DB2 获取 DB 结果

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T22:02:02.620

您是在询问数据库客户端应用程序 TOAD 吗？如果是这样，Capybara 不是您应该使用的工具，因为它仅适用于 Web 应用程序（浏览器或无头浏览器测试）。如果您想使用 ruby​​ 检查 DB2 数据库的内容，那么您可以使用[ActiveRecord](http://ar.rubyonrails.org/classes/ActiveRecord/ConnectionAdapters/DB2Adapter.html)连接到它并使用它运行查询。另一方面，如果您想使用 ruby​​/capybara 自动化 TOAD 的用户界面，那么您就不走运了——这是不可能的。

# c# - 从 Java 到 C# 的整数解码移植

> ID：12725081
> 
> 赞同：0
> 
> 时间：2012-10-04T10:16:03.223
> 
> 标签：c#, java, .net, integer, decode

我正在尝试将一些代码从 java 移植到 C#，到目前为止我遇到了 2 个问题。这是Java代码：

```
public static void main(String[] args)
{
    var ia = new byte[args.length];

    for (int i = 0; i < args.length; i++)
        try
        {
            ia[i] = Integer.decode(args[i]).byteValue();
        }
        catch (NumberFormatException e)
        {
        }
    System.out.
    println(Integer.toHexString(Calc(ia, ia.length)));
} 
```

显然，我必须更改`main`为`Main`, `length`，`Length`但不知道：

`Integer.decode(args[i]).byteValue()`

和

`Integer.toHexString(Calc(ia, ia.length))`.

有人可以告诉我，在这些情况下，.NET 中有哪些可用选项？！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:38:19.833

`java`从到 的可能转换代码`c#.Net`：

```
public static void Main(string[] args)
{
     var ia = new byte[args.Length];

     for (int i = 0; i < args.Length; i++)
     try
     {
        ia[i] = Convert.ToByte(args[i]);
     }
     catch (FormatException e)
     {
     }
   System.Console.WriteLine(String.Format("{0:X}",Calc(ia, ia.Length))); /// I assume Calc is function return something
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T10:17:44.693

您可以使用 Convert.toInt32(string) 或 Parse.Int32(string)

# c# - 如何将大量数据绑定到gridview？

> ID：12725088
> 
> 赞同：0
> 
> 时间：2012-10-04T10:16:22.570
> 
> 标签：c#, asp.net

最近我去面试c#.net程序员。面试官问了一个我无法回答的场景，谷歌搜索也找不到

场景是这样的。。

假设我们的数据库中有大约 100k 客户，我想在 gridview 中显示他们，我们将如何做到这一点？

我的回答是我们会在数据表中填写客户并将其绑定到网格视图。

他回复我说，当我以上述方式绑定它时，可能会出现超时情况......

我怎么能解决这个问题？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T10:55:37.540

首先是在网格视图中使用分页。

如果那是不可能的..您只能绘制一列（ID），然后绘制所有其他字段..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T11:10:14.347

是的。如果您只是使用分页方式，则在每次调用时，它都必须从数据库中获取所有记录并根据应用的分页显示一小块数据。

您可以做的是自定义分页并以`eventhandler "OnPageIndexChanging",`这样的方式调用它，即每次调用时它只会获取一小块数据，并根据下一个和上一个选择重新查询数据库以再次获取少量数据数据。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T10:18:23.570

也许使用分页的 Gridview。你不问他在等什么答案吗？

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T10:18:55.377

首先是我们实现了分页机制。

我们可以获得一定数量的记录，这些记录可以在每页中显示。在用户单击第二页时，我们将获取接下来的 n 条记录以供显示。

# jquery - phonegap 中的水平磁带自动收报机

> ID：12725092
> 
> 赞同：1
> 
> 时间：2012-10-04T10:16:34.103
> 
> 标签：jquery, html, cordova, ticker, yahoo-finance

我需要在 phonegap 中实现雅虎股票水平磁带自动收报机。我试图在互联网上寻找解决方案，但没有得到任何帮助。任何建议将不胜感激。

# android - SurfaceView 没有画边框

> ID：12725096
> 
> 赞同：0
> 
> 时间：2012-10-04T10:16:44.970
> 
> 标签：android, surfaceview

我有一个显示coverflow动画的android应用程序。我想在coverflow中使用视图扩展surfaceview。但是这段代码没有显示任何内容。

```
public class CoverFlowView extends SurfaceView implements Callback {

    public CoverFlowView(Context context) {
        super(context);
    }

    public CoverFlowView(Context context, AttributeSet attrs, int defStyle) {
        super(context, attrs, defStyle);
    }

    public CoverFlowView(Context context, AttributeSet attrs) {
        super(context, attrs);
    }
    public void surfaceChanged(SurfaceHolder holder, int format, int width,
            int height) {

    }

    public void surfaceCreated(SurfaceHolder holder) {

         MyThread  myThread = new MyThread(holder);
         myThread.setFlag(true);
         myThread.start();
    }

    public void surfaceDestroyed(SurfaceHolder holder) {

    }

    @Override
    protected void onDraw(Canvas canvas) {
        super.onDraw(canvas);
        Paint borderPaint = new Paint();
        borderPaint.setARGB(255, 255, 128, 0);
        borderPaint.setStyle(Paint.Style.STROKE);
        borderPaint.setStrokeWidth(4);
        canvas.drawRect(0, 0, getWidth() - 1, getHeight() - 1, borderPaint);
    }

    class MyThread extends Thread {
        boolean flag;
        SurfaceHolder myHolder;
        public MyThread(SurfaceHolder holder) {
            myHolder = holder;
        }

        public void setFlag(boolean myFlag) {
            flag = myFlag;
        }

        public void run() {
            Canvas canvas = null;
            while (flag) {
                try {
                    canvas = myHolder.lockCanvas();
                    synchronized (myHolder) {
                          invalidate();
                        }

                } finally {
                    if (canvas != null) {
                        myHolder.unlockCanvasAndPost(canvas);
                    }
                }
            }
        }
    }

} 
```

这里有什么问题？我是 Surfaceview 的新手。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T10:29:09.400

像这样重写你的代码，然后它会正常工作，我已经检查过了

```
public class CoverFlowView extends SurfaceView implements SurfaceHolder.Callback { 
```

然后将您的**构造函数**更改为

```
public CoverFlowView(Context context) {
    super(context);
    getHolder().addCallback(this);
} 
```

# android - 如何从 ComponentName 获取活动引用

> ID：12725099
> 
> 赞同：8
> 
> 时间：2012-10-04T10:16:57.890
> 
> 标签：android, android-activity

我有前台屏幕活动的 ComponentName。我能够从中获取上下文对象。但我需要活动实例。如何从 ComponentName 获取活动引用。所有这些代码都将编写在服务中。

提前致谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T10:20:23.957

您无法从其组件名称中获取 Activity 实例。您可以将 Activity 实例作为静态字段存储在类中（当调用 Activity 的 onCreate 方法时）并在服务中获取该字段。

另外，您想对服务中的 Activity 实例做什么？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-02-19T23:07:07.203

我需要更清楚您尝试做什么，但可能是：

*   `class ActivityWatcher`使用`onActivityStarted`方法（或类似方法）

*   调用一个观察你的视图的类

*   观察父视图，然后遍历子视图。

这至少会为您提供在活动实例化时定义的活动布局中的所有视图。

# spring - Spring + Hibernate：如何实现实体和 DAO

> ID：12725104
> 
> 赞同：0
> 
> 时间：2012-10-04T10:17:19.577
> 
> 标签：spring, hibernate, many-to-many

我是 spring 和 hibernate 的新手，所以在你的回答中考虑到这一点。

我有一个多对多的关系，链接表也必须包含信息。我将尝试根据以下方法解决此问题：

[如何为连接表中的其他属性创建多对多 Hibernate 映射？](https://stackoverflow.com/questions/10294338/many-to-many-hibernate-mapping-for-additional-property-in-the-join-table)

我的问题与：

[hibernate：插入/更新的自定义代码](https://stackoverflow.com/questions/12685653/hibernate-custom-code-on-insert-update)

但我只是在这里重复一遍，所以不需要点击链接：

假设我们有颜色。用户可以创建 n 种颜色的混合物并将该混合物存储在数据库中。稍后，如果用户搜索颜色“蓝色”，则应显示所有包含蓝色的混合物。

业务规则是任何颜色都只能在数据库中出现一次。因此，如果插入新的混合物，则必须首先检查所有颜色是否已在数据库中，如果是，则应重复使用（引用）该颜色，如果不是则应创建新颜色。

如果一个混合物被改变，说“蓝色”被“红色”取代，行为必须是最初的“蓝色”保持不变，系统检查“红色”是否存在，要么重用它，要么创建它，然后将它添加到混合物。

重要的部分是“颜色”由系统管理，现有颜色不得更改。“红色”将始终为“红色”，永远不应更改为“蓝色”。因为我是 Hibernate 和 Spring 的新手，所以我对如何实现这个规则以及在什么级别上有点迷茫。恕我直言，我会把这个逻辑放在可能的最低级别，这样如果你（开发人员）它就不会中断忘记检查它。那有意义吗？更好的想法或建议？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T10:33:11.660

如果我们可以使用相同的颜色和混合示例，它们可能看起来像这样：

```
public class Color {
  String name;
  List<Mixture> mixtures;
  public String getName() { return name; }
  ...    
}

public class Mixture {
  String name;
  List<Color> colors;
} 
```

因此，我认为确保您的 Color 永远不会重命名的最简单方法是不提供 setter `setName`。确保您的颜色永远不会被删除变得有点棘手。但是，如果您要为持久性提供 DAO 方法，则不要提供`deleteColor`方法。

我不确定不能删除未使用的颜色（没有被任何混合物引用）是否是一个非常强烈的要求 - 这样做有什么好处？对于那些被引用的，数据库中会有参照完整性约束——或者至少应该有。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-09T18:09:42.393

所以这里是我目前的解决方案：

1.  颜色的唯一约束
2.  在 DAO 更新方法中检查要更新的颜色是否已存在于数据库中。如果是则使用它，如果不是则创建一个新的
3.  如果颜色的更改和更新发生在同一个休眠会话中，第 2 点就会出现问题。然后它会将颜色从红色更新为蓝色，因为在 2 中完成的查询将始终返回我们正在更新的颜色！我通过将 @Immutable 添加到 Color 实体类来解决这个问题。

代码为 2。

```
public Color update(final Color color) {
    SQLQuery query = this.getCurrentSession().createSQLQuery(
        "select * from colors where color = :color")
        .addEntity(Color.class);        
    query.setString("color", color.getColor());
    Color result = (Color) query.uniqueResult();
    if (result == null) {
        Color newColor = 
                new Color(color.getColor());
        this.getCurrentSession().persist(newColor);
        return newColor;
    } else {
        return (Color) this.getCurrentSession().merge(result);
    }
} 
```

# c - 以十六进制打印字符串？

> ID：12725107
> 
> 赞同：10
> 
> 时间：2012-10-04T10:17:27.947
> 
> 标签：c, string, hex

这种以十六进制打印字符串的简短方法是否正确？如果不是，应该如何解决？

```
uint8_t *m = string;
int c = sizeof(string);
while(c--){
    printf("%02x ", *(m++));
} 
```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-10-04T10:20:18.253

没有“oneliner”，没有。此外，您的代码看起来已损坏。

你不能那样使用`sizeof`，你可能是说`strlen()`.

为了安全起见，您需要将字符转换为无符号类型。

所以，像这样的东西，也许：

```
void print_hex(const char *s)
{
  while(*s)
    printf("%02x", (unsigned int) *s++);
  printf("\n");
} 
```

请注意，我*不*调用`strlen()`，因为一次就可以遍历字符串两次是没有意义的。:)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-04T10:30:49.000

我认为从技术上讲，“字符串”在这里具有误导性；您似乎正在打印一个值数组（不一定以空结尾）`uint8_t`。

无论如何，您都需要一个循环。如果你可以使用 C99，你可以写

```
for (size_t i = 0; i < sizeof(string); ++i) printf("%02x", string[i]); 
```

如果数组*是*空终止的，*并且*您不需要的原始值`string`（这通常是按值传递指针时的情况），您可以

```
static void printArray(const uint8_t *string)
{
  while (*string) printf("%02x", *string++);
} 
```

# java - 项目重命名后Webapp显示404页面

> ID：12725109
> 
> 赞同：0
> 
> 时间：2012-10-04T10:17:37.410
> 
> 标签：java, eclipse, jakarta-ee, maven-3, m2eclipse

我一直在使用 Eclipse 和 m2e（Eclipse 的 Maven 插件）开发这个 Web 应用程序。

过了一会儿，我决定在eclipse中更改项目名称：右键单击项目>>重构>>重命名

在此之后，我看到一些错误出现，主要与类路径配置和 java 版本不匹配有关。我修复它们，将 maven 依赖项添加到构建路径，并更新要在编译和运行时使用的 java 版本。

我重建我的网络应用程序并重新启动我的服务器（在这种情况下为 Tomcat）。打开我的浏览器以转到我的应用程序的根 URL。我得到一个 404 页面（顺便说一句，控制台中的一切看起来都很好）。

我一直在检查我的构建路径和类路径配置，以仔细检查是否有任何东西来自那里，但一切似乎都很好。我很困惑，不确定在哪里看。

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T10:29:25.460

这实际上取决于您的设置。如果您使用默认路径，它是（如 Kal 所说）myserver/newappname。

如果您使用在网络服务器中配置的 URL 以便于阅读，例如 (myapp.myserver.com)，则必须将服务器中的重定向从旧的应用程序名更改为新的应用程序名。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T10:38:21.223

实际上， `404 HTTP` `standard response code`表明客户端能够与服务器通信，但服务器找不到请求的内容。

```
 1\. Check your path with newapplication name.
 2\. See inside your server, Is there a resource with (newNameApp.war)?
 3\. As you are using maven, try to build the project and see the log, by which name war is generated, and where the war got placed. 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-04-29T14:06:50.727

我遇到了同样的情况，只是重新启动了 Eclipse，之后不再出现 404

# php - PHP 深度扩展数组

> ID：12725113
> 
> 赞同：21
> 
> 时间：2012-10-04T10:17:48.383
> 
> 标签：php, jquery, json, array-merge

如何对多维关联数组进行深度扩展（用于解码的 JSON 对象）。我需要使用数组而不是 JSON 和 PHP的[jQuery 的`$.extend(true, array1, array2)`](http://api.jquery.com/jQuery.extend/)php 等价物。

这是我需要的一个示例（array_merge_recursive 似乎没有做同样的事情）

```
$array1 = ('1'=> ('a'=>'array1a', 'b'=>'array1b'));
$array2 = ('1'=> ('a'=>'array2a', 'c'=>'array2b'));

$array3 = array_extend($array1, $array2);

//$array3 = ('1'=> ('a'=>'array2a', 'b'=>'array1b', 'c'=>'array2b')) 
```

请注意如果 array2 具有相同的值，它是如何覆盖 array1 的（例如类扩展的工作方式）

* * *

## 回答 #1

> 赞同：24
> 
> 时间：2013-10-24T01:40:43.480

如果你有 PHP 5.3.0+，你可以使用[`array_replace_recursive`](http://www.php.net/manual/en/function.array-replace-recursive.php)which 完全符合你的需要：

> **array_replace_recursive()**将 array1 的值替换为以下所有数组中的相同值。如果第一个数组中的键存在于第二个数组中，则其值将被第二个数组中的值替换。如果键存在于第二个数组中，而不是第一个数组中，它将在第一个数组中创建。如果一个键只存在于第一个数组中，它将保持原样。如果传递了多个数组进行替换，它们将按顺序处理，后面的数组会覆盖前面的值。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-02T08:55:34.623

这可能是您正在寻找的：

```
function array_extend(&$result) {
  if (!is_array($result)) {
    $result = array();
  }

  $args = func_get_args();

  for ($i = 1; $i < count($args); $i++) {
    // we only work on array parameters:
    if (!is_array($args[$i])) continue;

    // extend current result:
    foreach ($args[$i] as $k => $v) {
      if (!isset($result[$k])) {
        $result[$k] = $v;
      }
      else {
        if (is_array($result[$k]) && is_array($v)) {
          array_extend($result[$k], $v);
        }
        else {
          $result[$k] = $v;
        }
      }
    }
  }

  return $result;
} 
```

用法：

```
$arr1 = array('a' => 1, 'b' => 2, 'c' => 3);
$arr2 = array('b' => 'b', 'd' => 'd');
array_extend($arr1, $arr2);
print_r($arr1); // array('a' => 1, 'b' => 'b', 'c' => 3, 'd' => 'd')

// or, to create a new array and leave $arr1 unchanged use:
array_extend($arr3, $arr1, $arr2);
print_r($arr3); // array('a' => 1, 'b' => 'b', 'c' => 3, 'd' => 'd')

// or, use the return value:
print_r(array_extend($arr1, $arr2)); // but this will also modify $arr1 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-08-04T16:42:21.180

我使用它的方式与使用 angular.extend(dst, src) 和 jQuery.extend() 的方式相同。

```
function extend($base = array(), $replacements = array()) {
    $base = ! is_array($base) ? array() : $base;
    $replacements = ! is_array($replacements) ? array() : $replacements;

    return array_replace_recursive($base, $replacements);
} 
```

例子：

si() 是一个实用程序清理函数，它获取 $_POST 或 $_GET 并返回一个数组。

```
 $s = extend(array(
            'page' => 1,
            'take' => 100,
            'completed' => 1,
            'incomplete' => 1,
        ), si()); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2014-02-27T10:29:36.100

您应该使用：[https ://github.com/appcia/webwork/blob/master/lib/Appcia/Webwork/Storage/Config.php#L64](https://github.com/appcia/webwork/blob/master/lib/Appcia/Webwork/Storage/Config.php#L64)

```
/**
 * Merge two arrays recursive
 *
 * Overwrite values with associative keys
 * Append values with integer keys
 *
 * @param array $arr1 First array
 * @param array $arr2 Second array
 *
 * @return array
 */
public static function merge(array $arr1, array $arr2)
{
    if (empty($arr1)) {
        return $arr2;
    } else if (empty($arr2)) {
        return $arr1;
    }

    foreach ($arr2 as $key => $value) {
        if (is_int($key)) {
            $arr1[] = $value;
        } elseif (is_array($arr2[$key])) {
            if (!isset($arr1[$key])) {
                $arr1[$key] = array();
            }

            if (is_int($key)) {
                $arr1[] = static::merge($arr1[$key], $value);
            } else {
                $arr1[$key] = static::merge($arr1[$key], $value);
            }
        } else {
            $arr1[$key] = $value;
        }
    }

    return $arr1;
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-10-04T10:17:48.383

取自[array_merge](http://php.net/manual/en/function.array-merge.php#95294)文档：

```
function array_extend($a, $b) {
    foreach($b as $k=>$v) {
        if( is_array($v) ) {
            if( !isset($a[$k]) ) {
                $a[$k] = $v;
            } else {
                $a[$k] = array_extend($a[$k], $v);
            }
        } else {
            $a[$k] = $v;
        }
    }
    return $a;
} 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-06-19T10:10:22.203

I guess here is the correct answer, because:

*   your answer have a bug with warning:

    Warning: Cannot use a scalar value as an array in...

Because $a is not always an array and you use $a[$k].

*   array_merge_recursive does indeed merge arrays, but it converts values with duplicate keys to arrays rather than overwriting the value in the first array with the duplicate value in the second array, as array_merge does.

*   other aswers are not recursives or not simple.

So, here is my answer: your answer without bugs:

```
function array_extend(array $a, array $b) {
    foreach($b as $k=>$v) {
        if( is_array($v) ) {
            if( !isset($a[$k]) ) {
                $a[$k] = $v;
            } else {
                if( !is_array($a[$k]){
                    $a[$k]=array();
                }
                $a[$k] = array_extend($a[$k], $v);
            }
        } else {
            $a[$k] = $v;
        }
    }
    return $a;
} 
```

And my answer with ternary operator:

```
function array_extend(array $a, array $b){
    foreach($b as $k=>$v)
            $a[$k] = is_array($v)&&isset($a[$k])?
                array_extend(is_array($a[$k])?
                        $a[$k]:array(),$v):
                $v;
    return $a;
} 
```

Edit: And a bonus one with as many arrays you want:

```
function array_extend(){
    $args = func_get_args();
    while($extended = array_shift($args))
            if(is_array($extended))
                    break;
    if(!is_array($extended))
            return FALSE;
    while($array = array_shift($args)){
        if(is_array($array))
                foreach($array as $k=>$v)
                        $extended[$k] = is_array($v)&&isset($extended[$k])?
                            array_extend(is_array($extended[$k])?
                                    $extended[$k]:array(),$v):
                            $v;
    }
    return $extended;
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-02-06T16:17:33.997

通过谷歌搜索，我发现了这个：

```
/**
 * jquery style extend, merges arrays (without errors if the passed values are not arrays)
 *
 * @return array $extended
 **/
function extend() {
    $args = func_get_args();
    $extended = array();
    if(is_array($args) && count($args)) {
        foreach($args as $array) {
            if(is_array($array)) {
                $extended = array_merge($extended, $array);
            }
        }
    }
    return $extended;
}

extend($defaults, $new_options); 
```

# iphone - 无法打开文档“MainStoryBoard.storyboard”

> ID：12725116
> 
> 赞同：7
> 
> 时间：2012-10-04T10:17:59.420
> 
> 标签：iphone, ios, xcode, xcode4.5

无法打开文档“MainStoryBoard.storyboard”。操作无法完成。（com.apple.InterfaceBuilder 错误 -1。）

我们的团队使用 SVN，当我们的一位开发人员提交代码时，其他人收到上述消息并且无法打开 MainStoryBoard。我们也尝试检查整个存储库，但仍然存在错误。

任何帮助将不胜感激。

谢谢。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-19T21:39:21.330

尝试确保情节提要中的所有 UILabel 都使用纯文本

![UILabel 文本属性 = PLAIN](../Images/4dc910e7b24388e9b15ff9596e2bda07.png)

经过近 4 小时的尝试，这为我解决了问题！！！！

并确保您已在系统上安装了您尝试使用的字体。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-10-25T18:15:47.380

我们今天遇到了这个问题 - 远程开发人员无法打开在两台机器上运行良好的故事板。Xcode 4.5.1 和 iOS 6.0。

我在 BBEdit 中打开了故事板文件并使用了“Zap Gremlins”命令。它发现了几个 gremlins，所有这些都在几个属性字符串中（我们将其样式化为装饰，完全没有必要）。我没有保存就关闭了 BBEdit，回到 Xcode，并从情节提要文件中删除了这些字符串。Xcode 现在可以打开故事板了。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-05T10:54:46.183

库纳尔巴拉尼有正确的答案。并不是归因文本将不良信息添加到情节提要中。那是另一台机器没有安装字体文件。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-08-01T01:07:48.850

当我将一个项目从一个 MAC 复制到另一个 MAC 时，我遇到了同样的问题。最后我发现我需要安装一些在故事板中使用的字体。

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-07-29T14:37:58.840

目标计算机上缺少属性标签使用的自定义字体。安装字体为我解决了这个问题。谢谢库纳尔

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2013-10-23T05:44:16.530

convert the All UILabels in the storyboard are using plain text

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2016-11-02T09:12:14.127

对我来说，编辑故事板并没有解决问题。唯一可行的方法是创建一个新的故事板文件，将旧的和新的故事板作为源代码打开（右键单击 -> 打开为），然后将 xml 从旧的故事板复制到新的故事板。我没有采取整个 xml，只是范围`<scenes> </scenes>`

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2016-10-28T06:51:57.077

在我的情况下，故事板文件以某种方式结束了执行权限：

`-rwxr-xr-x 1 Luna staff 106K Oct 28 00:07 Main.storyboard`

将此与我项目中的其他情节提要文件进行比较，很明显这是不正常的。运行`chmod -x Main.storyboard`解决了问题：

`-rw-r--r-- 1 Luna staff 106K Oct 28 00:07 Main.storyboard`

# objective-c - 简单的 UIView 动画移动不起作用

> ID：12725118
> 
> 赞同：0
> 
> 时间：2012-10-04T10:18:11.927
> 
> 标签：objective-c, ios, animation, uiview

我不知道，为什么它不起作用。

我要做的就是在 viewDidLoad 中创建一个简单的 UIView 动画。

这是我的代码：

```
[UIView animateWithDuration:3.0f animations:^{
    [self.headline setCenter:CGPointMake(0.0, 200.0)];
}]; 
```

什么都没发生。当我测试在该特定对象上调用动画方法的一般方法时，如下所示：

```
[UIView animateWithDuration:3.0f animations:^{
    [self.headline setAlpha:0.0];
}]; 
```

有用！！！为什么我无法在屏幕上移动视图？我正在使用最新的 Xcode 4.5。

感谢您的任何建议！

**更新：**

当我在代码中手动添加视图时，它可以工作。但是对于我在 Interface Builder 中创建为 Outlets 的 UIView，它不起作用。

```
UILabel *testLabel = [[UILabel alloc] initWithFrame:CGRectMake(0.0, 0.0, 200.0, 100.0)];
testLabel.backgroundColor = [UIColor redColor];

[self.view addSubview:testLabel];

[UIView animateWithDuration:3.0 animations:^{
    testLabel.center = CGPointMake(0.0, 200);
}]; 
```

所以很明显我在 .xib 文件中做错了什么

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T10:23:09.747

不要在 viewDidLoad 中这样做。那个时候还没有这个观点。在 viewDidAppear 中尝试一下。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T16:04:09.090

好吧，我认为缺少动画的原因是我从视图控制器中调用了一个不同的推送导航动画，它在屏幕上推送实际视图：

```
- (IBAction)goForSelection:(id)sender
{
    SelectionViewController *selectionViewController = [[SelectionViewController alloc] initWithNibName:@"SelectionViewController" bundle:nil];

    //[self.navigationController pushViewController:selectionViewController animated:YES];

    [UIView transitionWithView:self.navigationController.view duration:1.0 options:UIViewAnimationOptionTransitionFlipFromRight animations:^{
        [self.navigationController pushViewController:selectionViewController animated:NO];
    } completion:^(BOOL finished) {
        [selectionViewController startIntroAnimation];
    }];
} 
```

首先，我检查了使用默认导航控制器 segue 时会发生什么。令我惊讶的是，动画确实开始了。然后我将调用插入`[selectionViewController startIntroAnimation]`到完成块中，这也可以。

# php - 构建一个等于 xml 标签的 php 对象

> ID：12725122
> 
> 赞同：1
> 
> 时间：2012-10-04T10:18:29.670
> 
> 标签：php, xml

我正在用 php 开发一个应用程序，它从路透社 API 中提取数据我试图在进行 SOAP 调用之前添加请求参数，我有必须从我的请求生成的 xml，它必须如下所示：

```
<HeadlineMLRequest>
<Filter>
<MetaDataConstraint class="companies"  xmlns="http://schemas.reuters.com/ns/2006/04/14/rmds/webservices/news/filter">
<Value>MSFT.O</Value>
</MetaDataConstraint>
</Filter>
</HeadlineMLRequest> 
```

当我构建我的请求参数对象时，我尝试了这个

```
protected function getRequest() {
$retval->HeadlineMLRequest->MaxCount = 10;
$retval->HeadlineMLRequest->Filter->MetaDataConstraint->class = "companies";
$retval->HeadlineMLRequest->Filter->MetaDataConstraint->Value = "MSFT.O";
return $retval;
} 
```

但是当我回显最后一个 xml 请求时，我发现它是这样的

```
<ns1:headlinemlrequest>
<ns1:maxcount>
 10
</ns1:maxcount>
<ns1:filter>
 <ns2:metadataconstraint class="companies">
  <ns2:value>
  </ns2:value>
 </ns2:metadataconstraint>
</ns1:filter> 
```

如果你注意到 Value 是空的，尽管我用 "MSFT.O" 设置了它，请问有什么帮助吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-02T15:14:21.583

使用 php soap 的复杂请求没有很好的文档记录，大多数示例仅显示基本技术。

尝试以下操作：

```
$metaData = '<MetaDataConstraint class="companies" xmlns="http://schemas.reuters.com/ns/2006/04/14/rmds/webservices/news/filter">
<Value>MSFT.O</Value>
</MetaDataConstraint>';

$xmlvar = new SoapVar($metaData, XSD_ANYXML);
$retval->HeadlineMLRequest->Filter->MetaDataConstraint = $xmlVar; 
```

# python - 合并子列表具有共同元素的列表列表

> ID：12725125
> 
> 赞同：3
> 
> 时间：2012-10-04T10:18:41.537
> 
> 标签：python, list, merge

我有一个这样的列表列表

```
list = [[1, 2], [1, 3], [4, 5]] 
```

如您所见，前两个子列表的第一个元素被重复

所以我希望我的输出也是：

```
list = [[1, 2, 3], [4, 5]] 
```

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:30:44.033

我有一个解决方案，它首先使用第一个值构建一个 dict，然后从中创建一个列表，但顺序可能不同（即`[4, 5]`可能在 before `[1, 2, 3]`）：

```
>>> from collections import defaultdict
>>> d = defaultdict(list)
>>> map(lambda x: d[x[0]].append(x[1]), l)
[None, None, None]
>>> d
defaultdict(<type 'list'>, {1: [2, 3], 4: [5]})
>>> [[key] + list(val) for key, val in d.iteritems()]
[[1, 2, 3], [4, 5]] 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T10:36:53.127

以下代码应该可以解决您的问题：

```
def merge_subs(lst_of_lsts):
    res = []
    for row in lst_of_lsts:
        for i, resrow in enumerate(res):
            if row[0]==resrow[0]:
                res[i] += row[1:]
                break
        else:
            res.append(row)
    return res 
```

请注意，`else`属于内部`for`的，如果循环在没有中断的情况下退出，则执行。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T10:31:08.257

虽然可以说是不可读的：

```
# Note the _ after the list, otherwise you are redefining the list type in your scope
list_ = [[1, 2], [1, 3], [4, 5]]

from itertools import groupby
grouper = lambda l: [[k] + sum((v[1::] for v in vs), []) for k, vs in groupby(l, lambda x: x[0])]

print grouper(list_) 
```

一个更易读的变体：

```
from collections import defaultdict
groups = defaultdict(list)
for vs in list_:
    group[vs[0]] += vs[1:]

print group.items() 
```

请注意，这些解决了您的问题的更通用形式，而不是`[[1, 2], [1, 3], [4, 5]]`您也可以有这样的东西：`[[1, 2, 3], [1, 4, 5], [2, 4, 5, 6], [3]]`

* * *

关于的解释`_`。这就是您不想覆盖的原因`list`：

```
spam = list()
print spam
# returns []

list = spam
print list
# returns []

spam = list()
# TypeError: 'list' object is not callable 
```

正如你在上面看到的，通过设置`list = spam`我们打破了`list()`.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T10:48:14.393

你可以使用 python 集合，因为你可以很容易地计算交集和联合。代码会更清晰，但复杂性可能与其他解决方案相当。

# c# - 没有字段的对象：如何实现 GetHashCode？

> ID：12725128
> 
> 赞同：0
> 
> 时间：2012-10-04T10:18:54.977
> 
> 标签：c#, hashcode

我的复杂结构中的对象有一个属性`Dictionary<Object, Object> Annotations`，我可以在其中存储在某些处理阶段使用的元数据和自定义数据。我现在可以创建一个`static readonly object UniqueName = new object()`并将其用作字典中的键。我使用 a 是`static readonly object`因为我确定它是独一无二的。没有其他人可以创建完全相同的对象实例。相反，如果我使用字符串作为键，其他人可能会不小心使用相同的字符串作为键，这可能会导致问题。

但是，我从几个来源（包括[这里](https://stackoverflow.com/a/720196/146622)）了解到，默认`GetHashCode`实现是基于对象在内存中的位置。当垃圾收集器移动对象时，这可能会发生变化，这会导致它返回的哈希值发生变化。发生这种情况时，字典将无法找到与键对象关联的值。

**如何确保没有字段的对象在其生命周期内永远不会更改其哈希码？**

天真的解决方案是创建一个总是返回的`Key`对象。但是，这会严重影响字典的性能，因此不是解决方案。`GetHashCode``42`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T10:22:40.737

> 实现可能会改变它返回的哈希值

默认的哈希码实现永远不会改变单个对象的值。它在该对象的生命周期内永远不会改变，因此可以安全地使用。我（很快）阅读了您所指的那些答案，但他们没有谈论在单个对象的生命周期内发生变化的哈希码。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T10:44:38.823

的默认实现 `GetHashCode`返回一个索引，而不是一个内存地址。该索引在对象的生命周期内是唯一的，因此即使您的对象在内存中移动，它在您调用时也将始终返回相同的值`GetHashCode`

但是，一旦对象被垃圾收集，它对您之后创建的新对象有效，以返回与垃圾收集之前的前一个对象相同的值。

在您的示例中，`UniqueName`当您调用时，变量将始终返回相同的值`GetHashCode`，并且您创建的任何实例`Object`都不会在程序的生命周期内返回相同的哈希码。

# android - 如何在列表视图中输入编辑文本时删除软键盘与编辑文本的重叠？

> ID：12725131
> 
> 赞同：0
> 
> 时间：2012-10-04T10:19:11.343
> 
> 标签：android, listview, android-edittext

我在列表视图中有编辑文本。使用软键盘在 edittext 中输入某个字段时，它与 edittext 重叠。我在清单文件中使用以下编码..

android:windowSoftInputMode="stateVisible|adjustResize|adjustPan"

但这不起作用..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T10:38:39.527

如果列表项的edittext相互重叠，那么它是项目的布局问题。

如果软键盘与edittext重叠并且您想解决它，那么在列表项的布局中使用**滚动视图。**原因`android:windowSoftInputMode="stateVisible|adjustResize|adjustPan"` 仅在您编写时显示编辑文本的当前聚焦状态，而不是完整的编辑文本状态。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T10:23:40.573

```
InputMethodManager im = (InputMethodManager)getSystemService(
  Context.INPUT_METHOD_SERVICE);
im.hideSoftInputFromWindow(myEditText.getWindowToken(), 0); 
```

# javascript - Ajax：使用变量获取 HTML 对象的值

> ID：12725133
> 
> 赞同：2
> 
> 时间：2012-10-04T10:19:15.333
> 
> 标签：javascript, jquery, ajax

有人可以帮我将这些行转换为一个 for 循环吗？

```
var optie1 = "";
if($('#form #optie1_check').is(':checked')) {
    optie1 = $('#form #optie1_naam').val();
}
var optie2 = "";
if($('#form #optie2_check').is(':checked')) {
    optie2 = $('#form #optie2_naam').val();
} 
```

我似乎无法在 Google 上找到我的答案，我真的不知道如何搜索它。我想要这样的东西：

```
for loop (i) {
    var str = "optie" + (i+1) + "_check";
    var str2 = "optie" + (i+1) + "_naam";
    if($('#form #str').is(':checked')) {
        opties = $('#form #str2').val();
    }
} 
```

opties 是一个数组，我将把所有的值都放进去，所以我可以稍后传递它：

```
$.ajax({
    type: "POST",
    url: "voegOptiesToe.php",
    data: "opties="+opties,
    ...
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T10:21:31.507

```
var opties = new Array();
for (i=1; i<=2; i++) {
    var str = "optie" + i + "_check";
    var str2 = "optie" + i + "_naam";

    if($('#form #'+str).is(':checked')) {
        opties.push($('#form #'+str2).val());
    }
} 
```

[JSFiddle 示例](http://jsfiddle.net/IorgaMihai/tmDpW/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T10:24:09.823

```
var optie,i=1;    
$('#form #optie'+i+'_check').is(':checked').each(function(){
optie+= $('#form #optie'+i+'_naam').val(); 
i++;
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T10:27:20.010

您可以简单地使用`.serialize()`which 将一组表单元素编码为字符串以进行提交

[http://api.jquery.com/serialize/](http://api.jquery.com/serialize/)

例如，

```
$.ajax({
    type: "POST",
    url: "voegOptiesToe.php",
    data: $('form').serialize(),
    ...
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T11:09:34.170

如果您为两个复选框保留相同的名称，则默认情况下您可以在服务器端将值作为数组检索。

或者试试这个：

```
values = []
$("#form input[type='checkbox']")
.filter(function(i,el){
   return $(el).is(':checked');
 })
.each(function(i, el){
   arr.push($(el).val());
 }) 
```

您可以将`values`数组发送到 ajax 发布数据。

# javascript - JavaScript中如何获取key对应的值

> ID：12725134
> 
> 赞同：1
> 
> 时间：2012-10-04T10:19:14.997
> 
> 标签：javascript

我有这个代码：

```
var getValuesArray = [];
var setValuesArray = [];

function SetValueJson(key, value, scormVersion, methodCalled)
{
   if (key1 != null) {
     var obj = {
      key: key1,
     value: value1
   }
   setValuesArray.push(obj);
   alert("pushing the key as: " + setValuesArray[key] + " and value as: " + setValuesArray[key].value); //not shure how te reference it?
   return value;
} 
```

和：

```
function GetValueJson(key, scormVersion, methodCalled) {
   //I will get to this later, want to get the array right first

} 
```

如何引用数组？alert("将键按为：" + setValuesArray[key] +" 和值作为：" + setValuesArray[key].value); 是不正确的..

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T10:32:15.453

我建议你使用`Object`而不是`Array`.

修改后的代码

```
var setValuesArray = {};

function SetValueJson(key, value, scormVersion, methodCalled)
{
    setValuesArray[key]= value; 
```

alert("按下键为：" + key + " 值为：" + value); 返回值；}

```
function GetValueJson(key, scormVersion, methodCalled) {
          return setValuesArray[key]; // will return 'undefined' if key is not present.
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T14:30:18.397

嗯，这基本上取决于你想用这个数据结构做什么。

如果按顺序保持这些键和值以及它们的顺序很重要，那么您*需要*将它们存储在`array`.

如果您只需要根据键查找值，那么简单`object`就可以了。

假设您需要保持键值数据进入时的顺序，并且为此使用数组，那么您有两个选择：

1.  将实际的键值存储保存在`object`. 对于订单，维护一个单独的数组，只保留键。这是它应该看起来的样子

    ```
    var keyValueStore = {},
        keyOrderStore = [];

    function store(key, value) {
        keyValueStore[key] = value;
        keyOrderStore.push(key);          
    }

    function getValueByIndex(index) {
        // do some bounds checking ofcourse :)
        return keyValueStore[keyOrderStore[index]];
    }

    function getValue(key) {
        return keyValueStore[key];
    } 
    ```

2.  在我看来这是一个更好的选择。但是，如果您不想维护和同步两个单独的数据结构，则可以使用：

    ```
    var storage = [];

    function store(key, value) {
        storage.push({
            key: key,
            value: value
        });
    }

    function getAtIndex(index) {
        return storage[index].value;
    }

    function getValue(key) {
        for (var i = storage.length-1; i >= 0; i--) {
            var obj = storage[i];
            if (obj.key === key) return obj.value;
        }
    } 
    ```

希望这可以帮助。

# sharepoint - Sharepoint/InfoPath 2010 插入外部数据库和共享点库

> ID：12725135
> 
> 赞同：0
> 
> 时间：2012-10-04T10:19:19.920
> 
> 标签：sharepoint, sharepoint-2010, infopath, infopath2010

我有一个 Infopath 表单，它通过 Web 服务将项目添加到数据库中。（这部分工作正常）。我想知道是否可以将此表单上传到 sharepoint 站点（我知道您可以执行此部分），还可以提交到 sharepoint 库吗？

如果是这样，我将如何提交到共享点库？我必须通过我的网络服务来做吗？

谢谢

詹姆士

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:57:36.497

在 SharePoint 中，您有一个所谓的表单库。这个库可以有一个表单模板，即InfoPath 模板。这个模板很可能是你的表单，它通过 web 服务提交到这个表单库以及一些外部数据库。

# c# - 该行/列不存在数据但存在于sql ce中

> ID：12725136
> 
> 赞同：-1
> 
> 时间：2012-10-04T10:19:32.407
> 
> 标签：c#

**在使用 C# 在 ASP.NET 中执行以下代码时，我收到一个异常，例如“行/列不存在数据”。**

```
 private void updateGrnItemDetails(object sender, EventArgs e)
     {
         txtItemNameGrnUpdate.Enabled = true;
         txtItemCostGrnUpdate.Enabled = true;
         txtItemColorGrnUpdate.Enabled = true;
         String s = cmbGrnUpdateItemCode.SelectedItem.ToString();
         MessageBox.Show(s);
         sqlQuery2 = @"SELECT * FROM item WHERE (itemType ='"+cmbGrnUpdateItemType.SelectedText+"')";
         comm = new SqlCeCommand(sqlQuery2, con_data);
         try
         {
             con_data.Open();
             dr = comm.ExecuteReader();
             MessageBox.Show(dr.GetString(0));
             while (dr.Read())//reading data from rows
             {
                 txtItemNameGrnUpdate.Text += dr["itemName"].ToString();
                 txtItemColorGrnUpdate.Text += dr["itemColor"].ToString();
                 txtItemCostGrnUpdate.Text += dr["itemCost"].ToString();
             }
         }
         catch(Exception ex)
         {
                 MessageBox.Show(ex.Message);
         }
         finally
         {
             con_data.Close();
         }
     } 
```

**我正在使用 Visual Studio 2010 和 Sql Compact 版本。我正在使用请指导我如何解决这个问题。**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T10:23:50.367

你可以更换`* with columns name`

```
sqlQuery2 = "SELECT itemCost, itemName, itemColor FROM item WHERE (itemType ='"+cmbGrnUpdateItemType.SelectedText+"')"; 
```

我建议你使用

```
sqlQuery2 = "SELECT itemCost, itemName, itemColor FROM item WHERE itemType = @ParameterName";

comm .Parameters.AddWithValue("@ParameterName", cmbGrnUpdateItemType.SelectedText); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T10:24:58.727

在您执行 GetString() 之前，您错过了 Read 调用

```
while(dr.Read())
{
  String res = dr.GetString(0); 
  //...
} 
```

# iphone - UISwitch Crash / thumbTintColor 设置

> ID：12725141
> 
> 赞同：0
> 
> 时间：2012-10-04T10:19:54.207
> 
> 标签：iphone, ios, xcode, uiswitch, uiappearance

我的应用程序中有以下设置。一个导航控制器，两个视图控制器，每个控制器都有 tableview。在第二个表格视图中有一个带开关的静态单元格。当我点击第一个表视图中的单元格时，第二个控制器被调用。这是我的问题。当我第一次调用第二个vc时，一切都很好，我回去，第二次调用，很好。我回去，第三次打电话我得到一个例外。我发现这是 UISwitch 的罪魁祸首。我还发现只有当开关设置为不同的状态时才会发生这种情况。但现在我发现它与 -thumbTintColor 属性有关。如果我不设置此属性，一切正常。有人遇到过同样的问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-18T12:27:43.317

这是另一篇具有相同问题的帖子以及解决该问题的解决方法。 [UISwitch setThumbTintColor 导致崩溃（仅限 iOS 6）？](https://stackoverflow.com/questions/12972500/uiswitch-setthumbtintcolor-causing-crash-ios-6-only)

# c - 在什么情况下我可能无法访问 malloc 分配的指针？

> ID：12725144
> 
> 赞同：2
> 
> 时间：2012-10-04T10:19:58.123
> 
> 标签：c, pthreads, malloc, ipc, message-queue

编辑：更改标题以忽略我的假设。

我有一个用 c 编写的库，它使用 posix 消息队列在线程之间传递指向某些运行时数据的指针。

在数据来自用户应用程序的情况下，一切似乎工作正常，并且我能够访问来自消息队列的指向结构的指针所指向的数据。

现在，我有一个特殊情况，库本身将对结构的一个实例进行 malloc，设置一个标志并将其发送到同一个队列。在接收端，结构为空，标志为零。在指针上调用 free 会导致崩溃。

这是代码：

```
volatile s_thestruct * volatile data = malloc(sizeof(s_thestruct));
data->flags = THE_FLAG;
mq_send(handle, (char *)&data, sizeof(s_thestruct *), 1) 
```

在接收端：

```
ssize_t read = mq_receive(handle, (char*)&data, sizeof(s_thestruct*), NULL);
if(read != sizeof(s_thestruct *))
{
 // Error handling, no problems here
}
if(data->flags == THE_FLAG)
{
// Do something, never gets here
}
// Do something else, no it is not freed here

// Finally
free(data); // <--CRASH 
```

我会得到：

```
*** glibc detected *** /usr/bin/applicationthingy: free(): invalid pointer: 0x08053cf0 *** 
```

其次是转储。在内存映射转储中，我发现：

```
....
08048000-0804a000 r-xp 00000000 08:01 802680     /usr/bin/applicationthingy
0804a000-0804b000 r--p 00001000 08:01 802680     /usr/bin/applicationthingy
0804b000-0804c000 rw-p 00002000 08:01 802680     /usr/bin/applicationthingy
0804c000-0806f000 rw-p 00000000 00:00 0          [heap]
b6e00000-b6e21000 rw-p 00000000 00:00 0 
.... 
```

那么，有人对这里发生的事情有任何建议吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T10:24:39.947

假设它们来自相同的地址空间，那么（传递指针）应该可以正常工作。

我唯一能想到的是，队列是否有可能是从*单独*的进程中写入的？这将使指针变得无用，因为它们指向的内容在不同的进程中完全不同。

不过老实说，除非结构本身很大，否则我不会像那样传递指针。如果您通过该结构，您将获得能够执行正确的进程间队列的所有优势。

要检查的另一件事是该库以某种方式从与您的主代码不同的内存领域获取其分配。这将是一种会导致`free`失败但可能不会导致错误标志的情况，因为即使它们使用不同的竞技场，它们也会位于相同的地址空间中。

至少，您应该`data`在发送端和接收端打印出 的值，以确保它毫发无损。完全有可能*其他*一些代码可能会破坏它（la缓冲区溢出等等）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T10:26:51.773

您应该传递`data`not `&data`（数据地址），在`mq_send(handle, (char *)&data, sizeof(s_thestruct *), 1)`.

# sql-server - 不能在sql中混合order by和group by

> ID：12725146
> 
> 赞同：0
> 
> 时间：2012-10-04T10:20:00.007
> 
> 标签：sql-server, visual-studio-2010, sql-server-2008, ms-access-2007

我遇到了 sql 的问题。我不知道为什么访问和 sql server 一直显示错误。我使用 phpmyadmin，但没有问题。

我有 1 张桌子。我的表名是 t_data

```
ID  MasterCode  DetailCode  Description  Item  Status
1       1           1.1      Resources   Meat     1
2       1           1.1      Resources   Meat     1
3       1           1.1      Resources   Meat     1
4       1           1.1      Resources   Meat     1
5       3           3.1       Utility    oil      1
6       2           2.1      Transport   BBM      1 
```

我想查询该表并希望结果如下所示：

```
MasterCode  Description
    1       Resources
    2       Utility
    3       Transport 
```

这是我的 sql 语法

```
"select MasterCode, Description from t_data group by Description order by MasterCode" 
```

通常我只是使用那个 sql 语法，我可以得到我想要的。但现在我不能。

> 您试图执行一个不包含指定表达式作为聚合函数的查询。

如果我使用 access 和 sql server，我会收到该错误。如果我在 XAMPP 中使用 phpmyadmin，它工作正常。但我不想使用 phpmyadmin。我想使用访问或sql server。

我已经在谷歌上搜索过这个错误。我把我的sql改成这个。

```
"select count(*), Description from t_data group by Description " 
```

和`"select a.categoryMaster, b.categoryDesc from t_category a inner join t_category b on a.categoryDetail = b.categoryDetail"`

没有解决我的问题，因为我也想获得 MasterCode。

任何解决方案？谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T10:23:32.840

您可以使用`DISTINCT`：

```
select distinct MasterCode, Description 
from t_data
order by MasterCode; 
```

请参阅[带有演示的 SQL Fiddle](http://sqlfiddle.com/#!3/a28a1/4)

或者您可以使用聚合函数，例如`MAX()`：

```
select max(MasterCode) MasterCode, Description 
from t_data
group by Description
order by MasterCode; 
```

请参阅[带有演示的 SQL Fiddle](http://sqlfiddle.com/#!3/a28a1/8)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T10:24:04.747

试试这个

```
SELECT MasterCode, Description 
FROM t_data 
GROUP BY Description, MasterCode 
ORDER BY MasterCode 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T10:27:16.880

```
select min(MasterCode) MasterCode, Description 
from t_data 
group by Description 
order by MasterCode 
```

或者

```
select MasterCode, Description 
from t_data 
group by MasterCode,Description 
order by MasterCode 
```

# iphone - setNeedsDisplay 并不总是调用 drawRect

> ID：12725147
> 
> 赞同：0
> 
> 时间：2012-10-04T10:20:02.903
> 
> 标签：iphone, objective-c, ios

我以前看过这个问题，但我找不到答案..

正如预期的那样，程序启动时会自动调用 drawRect。但是，当我调用 [self setNeedsDisplay] drawRect 不再被调用时，我无法理解为什么......

//DrawView.m

```
[self setNeedsDisplay];

-(void)drawRect:(CGRect)rect{

NSLog(@ "Called_1");

//DRAW A PATH
 } 
```

也许使用 self 是不正确的。我也尝试过使用 DrawImage，但它仍然不起作用。

//DrawView.h

```
@interface DrawView : UIView {

UIImageView *drawImage;
} 
```

//DrawView.m

```
-(id)initWithCoder:(NSCoder *)coder
{
self = [super initWithCoder:coder];
if (self) {
    drawImage = [[UIImageView alloc] initWithImage:nil];
    drawImage.frame = CGRectMake( 0, 0, self.frame.size.width, self.frame.size.height );
    [self addSubview:drawImage];
}

return self;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T07:05:04.813

通常，当您想要重绘视图时，您应该调用：

```
[self setNeedsDisplay: YES]; 
```

当然，我从来没有在 iOS 上构建过，在 OSX 上，这段代码每次都有效。此外，例如，如果您希望您的委托为名为 someView 的视图调用重绘：

```
[someView setNeedsDisplay: YES]; 
```

注意： YES 是 obj-c 定义的宏，它的值只是 1。

# iphone - 每次都不会调用索引路径处的行的 TableView 单元格

> ID：12725155
> 
> 赞同：2
> 
> 时间：2012-10-04T10:20:26.130
> 
> 标签：iphone, objective-c, ios

我创建了一个类来生成票证，当票证生成时，我想在表格视图中一一显示。我为该类创建了一个协议，一旦准备好票证，我就会向其代表发送一条消息，`tableView`以重新加载表格视图。当`reload`调用该方法 时，`tableView` `- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section`每次生成新票时都会调用该方法，但 `- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath`每次生成票时都不会调用该方法，但是一旦生成了所有票，它就会被调用

下面是代码

```
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    if (self.ticketGenerator == nil) {
        return 0;
    }
    else{
        return self.ticketGenerator.ticketNumbers.count;
    }
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"Cell";
    HSEticketView *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil) {
        cell = [[HSEticketView alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
        [cell Tickets:[self.ticketGenerator.ticketNumbers objectAtIndex:indexPath.row]];
    }

    // Configure the cell...

    return cell;
}

//to increase the height of the cell

- (CGFloat)tableView:(UITableView *)aTableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
{
    return 135;
}

-(void)background
{
    [self.ticketGenerator GenerateNoOfTickets:[self.enteredNo.text intValue]:self];
}

- (IBAction)done:(id)sender {
    [self.enteredNo resignFirstResponder];
    self.enteredNo.hidden = YES;
    self.label.hidden = YES;
    self.button.hidden = YES;
    self.tableView.hidden = NO;

    [self performSelectorInBackground:@selector(background) withObject:nil];
        NSLog(@"dgf");

}

#pragma ticketGenrate delgate methods

-(void)generationOfTicketCompleated
{
    [self.tableView reloadData];

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T11:17:48.567

对 UI 的所有更改都必须在*主线程*上完成。如果你执行

```
[self.ticketGenerator GenerateNoOfTickets:...] 
```

在后台线程上，并且（如我所料）函数调用

```
[tableView insertRowsAtIndexPaths:...] 
```

那是行不通的，因为`insertRowsAtIndexPaths`必须在主线程上调用。

如果你想从后台线程更新表格视图，你可以例如做

```
dispatch_async(dispatch_get_main_queue(), ^{
    add item to data source array ...;
    [tableView insertRowsAtIndexPaths:...];
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T11:10:23.370

检查您的返回 self.ticketGenerator.ticketNumbers.count；为 0 则 cellForRowAtIndexPath 不会像 [reload YourTableViewName] 一样调用或重新加载 ViewWillAppear 中的 tableview。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T13:07:16.180

谢谢你马丁

问题是我正在另一个线程上执行 [tableView reloadData]，因为 uielements 需要在主线程上运行该方法

```
 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath 
```

没有被称为我得到的解决方案是

```
-(void)generationOfTicketCompleated
{
    dispatch_async(dispatch_get_main_queue(), ^{

        [self.tableView reloadData];
    });

} 
```

# android - 我们如何才能同时看到不同屏幕尺寸的android应用程序的UI

> ID：12725157
> 
> 赞同：0
> 
> 时间：2012-10-04T10:20:44.333
> 
> 标签：android, user-interface

在开发一个android应用程序时，我需要调整不同屏幕的字体大小、宽度、高度、填充，例如small/normal/large/xlarge

我现在正在使用 Intellij-Idea，但我一次只能看到一个屏幕的 UI，这不是很方便。我们如何才能同时看到不同的屏幕尺寸？有什么工具可以做到这一点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:31:07.953

您需要为不同的布局设置不同的文件夹，即

布局小

布局-大

布局-xlarge

此外，您必须具有三种类型的可绘制文件夹，其中包含三组不同的图像。即

可绘制小

可绘制大

可绘制的-xlarge

Android UI 会根据手机屏幕自动获取布局和图像。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T10:36:48.320

在 Eclipse 中，您可以在 XML 编辑器的“图形布局”选项卡中查看 XML。

在“图形布局”中，您可以指定要查看预览的屏幕尺寸。

您可以打开多个 XML 编辑器窗格并将它们并排排列。

如果这些东西在 Intelli-J 中不可用，我建议切换到 Eclipse，这是 Android 工具团队开发 AFAIK 的重点。

# php - OpenLDAP 输出一些 json_encode() 无法处理的奇怪数据

> ID：12725158
> 
> 赞同：1
> 
> 时间：2012-10-04T10:20:47.927
> 
> 标签：php, json, openldap, matomo

我将这个[LoginLdap 插件](http://code.google.com/p/piwik-ldap/)添加到 piwik，虽然它在其他机器上运行良好，没有任何问题，但在我的 debian 机器上却没有。

与 LDAP 服务器的连接有效，但是一旦我尝试通过 LDAP 用户登录，我就会收到错误消息：

> 警告：json_encode()：第 44 行 /var/www/plugins/LoginLdap/GigatecLdap.php 中的参数中的 UTF-8 序列无效

我在第 43 行的 $result 上做了一个 var_dump() ，发现 OpenLDAP 似乎从 AD 返回了一些奇怪的字符，而 json_encode 就是无法处理。

您可以在[此处查看来源。](http://code.google.com/p/nessusxmlrpc/source/browse/trunk/nessus.py)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T12:12:05.130

您需要找出条目存储在 LDAP 服务器上的字符集。你可能有一些运气使用[`mb_detect_encoding`](http://php.net/mb_detect_encoding)这个。希望这将返回字符集的名称，在这种情况下，您可以执行以下操作：

```
$utf8String = iconv(mb_detect_encoding($string), 'utf8', $string); 
```

在`mb_detect_encoding`返回的情况下`false`——即编码未知——你可以自己去解决它（乏味，但有回报）。查找包含导致问题的已知字符的字符串。使用以下方法计算字符串的字节表示：

```
$bytes = unpack('H*', $string); 
```

然后在[FileFormat](http://www.fileformat.info/info/unicode/char/search.htm)上查找您的字符并查看该字符的字符集/代码页支持，将字节与上面的相应字节匹配。然后，您应该能够使用该字符集名称作为`iconv`.

# c# - C# 后台线程属性缺失

> ID：12725159
> 
> 赞同：0
> 
> 时间：2012-10-04T10:20:49.533
> 
> 标签：c#, multithreading

我想将我的线程配置为后台线程，为什么我的线程中缺少此属性？

```
 ThreadStart starter = delegate { openAdapterForStatistics(_device); };
    new Thread(starter).Start();

public void openAdapterForStatistics(PacketDevice selectedOutputDevice)
{
    using (PacketCommunicator statCommunicator = selectedOutputDevice.Open(100, PacketDeviceOpenAttributes.Promiscuous, 1000)) //open the output adapter
    {
        statCommunicator.Mode = PacketCommunicatorMode.Statistics; //put the interface in statstics mode                
        statCommunicator.ReceiveStatistics(0, statisticsHandler);

    }
} 
```

我试过：

```
Thread thread = new Thread(openAdapterForStatistics(_device)); 
```

但我有 2 个编译错误：

> 1.  'System.Threading.Thread.Thread(System.Threading.ThreadStart)' 的最佳重载方法匹配有一些无效参数
> 2.  参数 1：无法从 'void' 转换为 'System.Threading.ThreadStart'

我不知道为什么

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:22:50.690

关于背景的事情，我不明白你希望如何设置它，因为你没有保留对线程的引用。应该是这样的：

```
ThreadStart starter = delegate { openAdapterForStatistics(_device); };
Thread t = new Thread(starter);
t.IsBackground = true;
t.Start(); 
```

这

```
Thread thread = new Thread(openAdapterForStatistics(_device)); 
```

不起作用，因为您应该传入一个`object`作为参数的方法，而您实际上是在传递**方法调用**的结果。所以你可以这样做：

```
public void openAdapterForStatistics(object param)
{
    PacketDevice selectedOutputDevice = (PacketDevice)param;
    using (PacketCommunicator statCommunicator = selectedOutputDevice.Open(100, PacketDeviceOpenAttributes.Promiscuous, 1000)) //open the output adapter
    {
        statCommunicator.Mode = PacketCommunicatorMode.Statistics; //put the interface in statstics mode                
        statCommunicator.ReceiveStatistics(0, statisticsHandler);

    }
} 
```

和：

```
Thread t = new Thread(openAdapterForStatistics);
t.IsBackground = true;
t.Start(_device); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T10:22:53.573

您应该使用`BackgroundWorker`该类，该类是专门为像您的情况一样使用而设计的。您希望在后台完成的任务。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T10:32:59.183

```
PacketDevice selectedOutputDeviceValue = [some value here];
Thread wt = new Thread(new ParameterizedThreadStart(this.openAdapterForStatistics));
wt.Start(selectedOutputDeviceValue); 
```

# actionscript-3 - Flash Stage3D：渲染/更新程序纹理？

> ID：12725163
> 
> 赞同：0
> 
> 时间：2012-10-04T10:21:09.103
> 
> 标签：actionscript-3, flash, gpu, stage3d, procedural-generation

我需要经常更新 3D 对象的纹理。（它是程序生成的模式，所以不能缓存，必须每帧动态生成）

最快的方法是什么？

首先我想通过 copyPixels() 更新 bitmapData，然后通过 Texture.uploadFromBitmapData() 每帧重新上传这个 bitmapdata，但我听说这非常慢（由于将数据从系统 RAM 移动到 GPU RAM）

任何直接在 GPU 上操作纹理的方法，所以我可以避免这一步？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:09:12.590

如果它是程序生成的模式，那么它可以在 gpu 上完成。如果不可能，那么唯一的方法就是您描述的方式-这是最快的方式。是的，这是一个缓慢的过程。

# java - 从 SSL 证书获取客户端信息

> ID：12725166
> 
> 赞同：1
> 
> 时间：2012-10-04T10:21:19.130
> 
> 标签：java, authentication, ssl, server-side, client-certificates

我计划在 Web 应用程序中使用基于证书的客户端身份验证。现在我需要一种从客户端提供的证书中获取信息的方法。

我如何在服务器端做到这一点？[我认为 servlet 容器（Tomcat）应该验证证书并在HttpServletRequest.getUserPrincipal](http://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getUserPrincipal())中填写 Principal

还有其他需要考虑的吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T10:33:30.133

我用 Apache + Tomcat 做到这一点。[Apache 可以使用SSLOptions](https://httpd.apache.org/docs/2.2/mod/mod_ssl.html#ssloptions)为证书数据创建 CGI 变量：

```
SSLOptions +ExportCertData 
```

Tomcat 将该数据添加到所有请求属性中，您可以使用以下方法获取它：

```
X509Certificate x509[] = (X509Certificate[]) 
    request.getAttribute("javax.servlet.request.X509Certificate"); 
```

我不知道 Tomcat 如何自己处理客户端证书，但这样它工作可靠。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T10:32:12.017

这实际上取决于证书。您可以在服务器端检查证书的不同字段，例如公用名、组织等。证书中的公用名通常是（如果是网络服务器）创建证书的域名。如果您真的想仅根据证书来识别用户，则需要控制证书生成本身，并指定证书授权机构（或者更确切地说，创建证书的人，而不是签署证书的人）应该输入的内容) 在哪些领域。例如，您可以同意证书创建者在公用名字段中输入 username.www.yourwebsite.com，使公用名既唯一，又在其中包含用户名。但这只有在您控制证书创建的情况下才有可能。

我们自己所做的并不依赖于证书字段本身的信息。我们只信任一个特定的证书颁发机构，我们检查客户端证书的指纹，并拥有自己的表将证书指纹映射到用户。然后，网络服务器只检查客户端是否提供了由受信任的证书颁发机构签名的有效证书，如果证书有效，它会在我们的映射表中查找它的指纹。

# iphone - Objective-C Xcode：Tableview detailitem 为空

> ID：12725172
> 
> 赞同：0
> 
> 时间：2012-10-04T10:21:50.400
> 
> 标签：iphone, objective-c, ios, xcode

我正在做这个教程（[http://www.raywenderlich.com/1845/how-to-create-a-simple-iphone-app-tutorial-part-2](http://www.raywenderlich.com/1845/how-to-create-a-simple-iphone-app-tutorial-part-2)）来掌握ios开发的窍门，但现在我卡住了。

这可能只是一件小事，但是当我进入 detailView 的方法“setDetailItem”时，**newDetailItem**变量为空（见屏幕截图）。

我不知道为什么会这样，但在教程中这似乎是自动填充的。

为什么它是空的，我如何获得正确的 detailItem？

![截屏](../Images/98a4fb4f54d5eab0cfb5f376ffbfb164.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T11:43:20.753

我检查了教程，他们提供了一个示例代码。它与内存一起工作正常。它是一个 setter 方法，当你提供这样的值时调用

```
 DetailViewController *detailController =segue.destinationViewController;
  ScaryBugDoc *bug = [self.bugs objectAtIndex:self.tableView.indexPathForSelectedRow.row];
  detailController.detailItem = bug; 
```

检查天气你是否传递了有效的内存值（这里是错误）。如果你给它 nil 那么是的，可能没有内存

# eclipse - aptana studio 3/eclipse indigo 中的 ws4e (java webstart) 插件安装

> ID：12725175
> 
> 赞同：1
> 
> 时间：2012-10-04T10:22:06.007
> 
> 标签：eclipse, eclipse-plugin, pydev

我已经在 linux (mint linux) 上安装了 Aptana Studio 3 (3.2.2)。如果我理解正确，Aptana Studio 3 只是 eclipse Indigo (3.7.2)，添加了一些额外的插件和东西。

[我从http://webstart.sourceforge.net/](http://webstart.sourceforge.net/)手动下载了eclipse的ws4e（java webstart）插件，解压到aptana/eclipse安装目录，所以有一个文件夹Aptana_Studio_3/plugins/net.sourceforge.webstart_1.2.1 / 其中包含 webstart.jar 和其他内容（以及从 aptana+eclipse 存储库安装的其他插件）。但不知何故，这个插件在重新启动后不会被 aptana studio 拾取。该插件未与已安装的插件一起列出，并且其功能也不可用。

我不知道如何调试这个问题，或者出了什么问题。

以防万一它有用：这是我的java版本：

java 版本 "1.6.0_26" Java(TM) SE Runtime Environment (build 1.6.0_26-b03) Java HotSpot(TM) 64-Bit Server VM (build 20.1-b02, 混合模式)

# iphone - 自定义 Facebook 好友选择器？

> ID：12725179
> 
> 赞同：0
> 
> 时间：2012-10-04T10:22:24.130
> 
> 标签：iphone, ios, facebook

我想自定义 Facebook 好友选择器？我对更改 FBFriendPickerViewController 的 tableview 的背景颜色很感兴趣。我可以做到，但我的问题是我无法删除 Facebook 朋友姓氏标签的白色背景颜色。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:51:10.870

使用此方法更改`UITableView` `backgroundColor`并更改单元格颜色。

```
- (void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath 
```

# html - 使用 ajax 请求的标头

> ID：12725193
> 
> 赞同：1
> 
> 时间：2012-10-04T10:23:28.917
> 
> 标签：html, jquery

如何使用 Ajax 请求设置标头？在下面的代码中

```
$.ajax({
    type: type, //GET or POST or PUT or DELETE verb
    url: requestURL, // Location of the service        
    //  contentType: "application/x-www-form-urlencoded", // content type sent to server

    dataType: "xml", //Expected data format from server
    processData: false, //True or False
    success: successCallback, //On Successfull service call
    error: serviceFailed// When Service call fails
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:29:23.567

可以使用`beforeSend(jqXHR, settings)`函数和`setRequestHeader`方法来管理请求标头，例如

```
$.ajax({
  ...
  beforeSend  : function(xhr) { 
    xhr.setRequestHeader('content-Type', 'application/x-www-form-urlencoded');
  }
}); 
```

# vba - vba 代码重构 - 是否有任何工具可以提供帮助？

> ID：12725195
> 
> 赞同：27
> 
> 时间：2012-10-04T10:23:38.557
> 
> 标签：vba, excel

我正在尝试重构我的 VBA 代码。多年来，我习惯于在基于 Java 的 IDE 中使用重构。VBA 编辑器是否支持任何重构或是否有任何加载项？MZ Tools 没有任何此类功能。

我希望至少能够做到以下几点： 1\. 重命名变量 2\. 将过程拆分为子过程以使代码更具可读性 3\. 将变量的范围从全局更改为过程，反之亦然

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2015-05-01T17:11:34.690

> **免责声明**：我积极参与这个项目。

* * *

[**Rubberduck**](http://www.rubberduckvba.com)是一个用于 VBA/VB6 IDE 的开源插件，正在 [非常] 积极开发中，其中包括此功能。

1.3 版包括*重命名*重构：

![重命名重构](../Images/7048ff0cb7f2b4df5d9d58d8cc22863e.png)

2.0 版（测试版可用，仍在稳定中）包括十几个重构：

![Rubberduck 2.0 重构](../Images/0d235d7250b9049ef9d1af2dfcd0c7cd.png)

*   *Introduce Parameter*将局部变量提升为参数
*   *Introduce Field*将局部变量提升到模块范围
*   *Encapsulate Field*将公共字段变成属性
*   *Move Closer to Usage*将仅在 1 个过程中使用的字段移动到该过程中。或者将局部变量移到其第一次使用的上方。
*   *提取接口*允许您选择要提取到接口中的类成员，为它们创建带有存根的新类模块，并使原始类实现提取的接口。
*   *实现接口*为未实现接口的所有成员创建存根，因此您无需通过在代码窗格下拉列表中一一选择它们来手动创建它们：

    ```
    Implements IClass1

    Public Sub IClass1_DoSomething()
        Err.Raise 5 'TODO implement interface member
    End Sub

    Public Function IClass1_GetFoo() As Integer
        Err.Raise 5 'TODO implement interface member
    End Function

    Sub DoSomething()

    End Sub

    Function GetFoo() As Integer

    End Function 
    ```

* * *

项目路线图上有更多重构工具（包括*Extract Method*），您可以在[GitHub 上](http://www.github.com/rubberduck-vba/rubberduck)关注这些工具。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-18T17:06:20.593

我在 VBA 中知道的唯一“重构”工具是 Ctrl+F 和 Ctrl+R。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-25T15:14:51.070

我使用 V-Tools 进行类似重构的工作，因为它会在对象中查找/替换，而不仅仅是 VBA 代码。 [http://www.skrol29.com/us/vtools.php](http://www.skrol29.com/us/vtools.php)

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2012-12-17T14:40:28.677

是的有....几乎

在过去的美好时光里，我用过这个。 [http://www.moshannon.com/speedferret.html](http://www.moshannon.com/speedferret.html)

帮了我很多，我想我有一些 3.5 英寸的磁盘；）

诀窍是将您的 excel 代码复制到 Access 或 VB6 并在那里进行重构。替换范围：解决方案是创造性的命名和使用替换。吐痰程序...嗯，这是一个手册，我很抱歉。

除非您有一些严肃的 excel vba 代码，否则通常不值得这样做，我建议您将其中的大部分转换为 c# 或 VB.Net dll，您可以在其中进行重构、测试和一些现代魔法，并且在 VBA 中只做尽可能少的事情。

# c# - 将计算值从 mvc3 控制器提交到数据库

> ID：12725200
> 
> 赞同：0
> 
> 时间：2012-10-04T10:23:43.350
> 
> 标签：c#, asp.net-mvc-3

我想知道我想做的事情在 MVC3 控制器中是否可行。我有 3 张桌子；成员，付款和支付类别。我在类别表中有 3 个不同的付款类别（CatA、CatB 和 CatC）。在支付视图中是接受会员 ID 和支付价值（十进制）的表格。我希望做的是，当一个值通过表单传递到控制器时，该值按比例分成 3，每个类别的计算值，并且相同的成员 Id 被提交到数据库。例如，如果 CatA 为 30%，CatB 为 50%，CatC 为 20%，并且成员 Id 为 1010 并且 100.00 被传递给控制器​​，则应将以下内容提交到数据库

> 标识符 | 中度 | 猫科动物 | 价值
> 
> 1 | 1010 | 1 | 30.00
> 
> 2 | 1010 | 2 | 50.00
> 
> 3 | 1010 | 3 | 20.00

任何线索或任何形式的帮助将不胜感激。控制器

```
 // POST: /AutoPay/Create
    [HttpPost]
    public ActionResult Create(AutoPay autopay, int tcd, int id, int tzid, FormCollection formCollection)
    {
        if (ModelState.IsValid)
        {

         string[] rawpaysplit = formCollection["PayCatSplit"].Split(' ');
          foreach (var x in rawpaysplit){             

          if (x.Equals (rawpaysplit[0])){
          autopay.PId = 3;}
          if (x.Equals (rawpaysplit[1])){
          autopay.PId = tzid;}   
          if (x.Equals (rawpaysplit[2])){
          autopay.PId = 4;}
          autopay.Pay= Convert.ToDecimal(x);
          autopay.UId = id;
          autopay.Tcd = tcd;
          autopay.PDate = DateTime.Now;
          autopay.LastUpdate = DateTime.Now;
            autopay.PEntryId = Membership.GetUser().UserName;
            db.AutoPays.Add(autopay);

            db.SaveChanges();
 }
            return RedirectToAction("Index");
        } 
```

模型

```
 public class AutoPay
{
    [Key]
    public int Id { get; set; }

    public int? Tcd { get; set; }
    public int UId { get; set; }
    public virtual Member Member { get; set; }
    public int PId { get; set; }
    public virtual PayCat PayCat { get; set; }
    public int YId { get; set; }
    public virtual DateYear DateYear { get; set; }
    public int MId { get; set; }
    public virtual DateMonth DateMonth { get; set; }
    [DisplayFormat(DataFormatString = "{0:F2}", ApplyFormatInEditMode = true)]
    [DisplayName("Amount")]
    public decimal Pay { get; set; }
    [ScaffoldColumn(false)]
    public DateTime PDate { get; set; }
    [DisplayName("Entry By")]
    public string PEntryId { get; set; }
    [DisplayName("last Upadated By")]
    public string PUpdatedBy { get; set; }
    [DisplayName("Receipt No")]
    public string RecNo { get; set; }
    [DisplayName("Book No")]
    public int BId { get; set; }
    public virtual ReceiptBook ReceiptBook { get; set; }
    public bool POK { get; set; }
    [ScaffoldColumn(false)]
    public DateTime LastUpdate { get; set; }
    public string PayCatSplit
    {
        get { return string.Format("{0} {1} {2}", Math.Round((this.Pay * 0.773211m), 2), Math.Round((this.Pay * 0.123703m),2), Math.Round((this.Pay * 0.103086m))); }
    } 
```

我在查询字符串中传递了很多变量以减少视图表单中的字段数量。我设法完成了这个编码，但它跳过了前两个值，只保存了数据库中最后一个正确的条目。我需要专家帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T11:00:02.933

当然你可以做到。在 MVC 上，您可以进行通常可以在其他框架上进行的任何编程。

但是，MVC 模式的范式要求您以不同的方式思考它通常如何在更直接的框架上完成。

在这里，我要给你一些小费。不要使用控制器进行计算或数据操作。只需使用模型类来执行此操作并让您的控制器调用该类并使用它，尝试将您的控制器维护为专用于在视图和模型类之间分配程序执行和数据的方法，让这些工作持续下去。

因此，当然，您可以将视图中的任何数据传递给控制器​​，使用控制器将此值传递给模型类，您可以在模型类中对数据进行所需的任何计算或操作并将其保存到数据库。

# struts2 - Struts2-jQuery TreeTag 显示 FreeMarker 错误，没有树可见

> ID：12725207
> 
> 赞同：0
> 
> 时间：2012-10-04T10:24:03.730
> 
> 标签：struts2, struts2-jquery

我目前正在尝试运行 struts2-jquery treeTag 的基本示例。

我已将其放在 JSP 中：

```
<sj:head jqueryui="true" customBasepath="css" jquerytheme="jquery_tree_ui" debug="true" />

....

<s:url id="echo" value="http://www.google.com"/>

<sjt:tree 
    id="treeDynamicAjax" 
    jstreetheme="apple" 
    rootNode="theNodes" 
    nodeHref="%{echo}"                   
    nodeTitleProperty="title" 
    nodeIdProperty="id" 
    nodeHrefParamName="echo"

/> 
```

Java 操作执行此操作：

```
private List<TreeNode> theNodes = new ArrayList<TreeNode>();
private String id = "";

public String listUsergroup() {

    TreeNode nodeA = new TreeNode();
    nodeA.setId("A" + id);
    nodeA.setTitle("Node A" + id);
    nodeA.setState(TreeNode.NODE_STATE_OPEN);

    TreeNode nodeB = new TreeNode();
    nodeB.setId("B" + id);
    nodeB.setState(TreeNode.NODE_STATE_LEAF);
    nodeB.setTitle("Node B" + id);

    TreeNode nodeC = new TreeNode();
    nodeC.setId("C" + id);
    nodeC.setState(TreeNode.NODE_STATE_LEAF);
    nodeC.setTitle("Node C" + id);

    Collection<TreeNode> children = new ArrayList<TreeNode>();
    children.add(nodeB);
    children.add(nodeC);
    nodeA.setChildren(children);
    theNodes.add(nodeA);

    return SUCCESS;
}

public List<TreeNode> getTheNodes() {
    return theNodes;
}

public void setTheNodes(List<TreeNode> theNodes) {
    this.theNodes = theNodes;
}

public String getId() {
    return id;
}
public void setId(String id) {
    this.id = id;
} 
```

通过激活 struts 中的调试选项，我看到了`theNodes`所有的树。

问题是我在谈论诸如 template/jquery/treenode-include.ftl 或 template/jquery/tree.ftl 之类的 ftl 文件时遇到黄屏 FreeMarker-template 错误。

这是我第一次使用 jquery-treeTag 插件，在官方文档中我没有找到任何合适的示例（我宁愿不使用 JSON 也不使用 Convention 插件）。

如果我更改`rootNode="theNodes"`为任何其他值，例如`rootNode="XXX"`我没有例外，但没有显示任何内容。

我很确定我`<sjt:tree>`错误地使用了标签，但我找不到任何对新手有用的文档。

先感谢您

更新 1：

这是 FreeMarker 错误：

```
FreeMarker template error!

Expression stack.findValue(parameters.nodeTitleProperty) is undefined on line 52, column 35 in template/jquery/treenode-include.ftl. 
The problematic instruction: ---------- ==> ${stack.findValue(parameters.nodeTitleProperty)} 
[on line 52, column 33 in template/jquery/treenode-include.ftl] in include "/${parameters.templateDir}/jquery/treenode-include.ftl"
[on line 30, column 5 in template/jquery/tree.ftl] ---------- Java backtrace for programmers: 

 ---------- freemarker.core.InvalidReferenceException: Expression stack.findValue(parameters.nodeTitleProperty) is undefined on line 52, column 35 in template/jquery/treenode-include.ftl.
 at freemarker.core.TemplateObject.assertNonNull(TemplateObject.java:125)
 at freemarker.core.Expression.getStringValue(Expression.java:118)
 at freemarker.core.Expression.getStringValue(Expression.java:93)
 at freemarker.core.DollarVariable.accept(DollarVariable.java:76)
 at freemarker.core.Environment.visit(Environment.java:221)
 at freemarker.core.MixedContent.accept(MixedContent.java:92)
 at freemarker.core.Environment.visit(Environment.java:221)
 at freemarker.core.IfBlock.accept(IfBlock.java:82)
 at freemarker.core.Environment.visit(Environment.java:221)
 at freemarker.core.IfBlock.accept(IfBlock.java:82)
 at freemarker.core.Environment.visit(Environment.java:221)
 at freemarker.core.MixedContent.accept(MixedContent.java:92)
 at freemarker.core.Environment.visit(Environment.java:221)
 at freemarker.core.Environment.include(Environment.java:1508)
 at freemarker.core.Include.accept(Include.java:169)
 at freemarker.core.Environment.visit(Environment.java:221)
 at freemarker.core.MixedContent.accept(MixedContent.java:92)
 at freemarker.core.Environment.visit(Environment.java:221)
 at freemarker.core.ConditionalBlock.accept(ConditionalBlock.java:79)
 at freemarker.core.Environment.visit(Environment.java:221)
 at freemarker.core.MixedContent.accept(MixedContent.java:92)
 at freemarker.core.Environment.visit(Environment.java:221)
 at freemarker.core.Environment.process(Environment.java:199)
 at freemarker.template.Template.process(Template.java:259)
 at org.apache.struts2.components.template.FreemarkerTemplateEngine.renderTemplate(FreemarkerTemplateEngine.java:157)
 at org.apache.struts2.components.UIBean.mergeTemplate(UIBean.java:565)
 at org.apache.struts2.components.ClosingUIBean.start(ClosingUIBean.java:59)
 at org.apache.struts2.views.jsp.ComponentTagSupport.doStartTag(ComponentTagSupport.java:53)
 at org.apache.jsp.jsp.administration.listUsergroup_jsp._jspx_meth_sjt_005ftree_005f0(listUsergroup_jsp.java:504)
 at org.apache.jsp.jsp.administration.listUsergroup_jsp._jspService(listUsergroup_jsp.java:182)
 at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
 at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
 at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:374)
 at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:337)
 at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:266)
 at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
 at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
 at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
 at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646)
 at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:436)
 at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:374)
 at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:302)
 at org.apache.struts2.dispatcher.ServletDispatcherResult.doExecute(ServletDispatcherResult.java:164)
 at org.apache.struts2.dispatcher.StrutsResultSupport.execute(StrutsResultSupport.java:186)
 at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:374)
 at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:278)
 at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)
 at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
 at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)
 at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
 at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
 at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:50)
 at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
 at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
 at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)
 at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
 at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:211)
 at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
 at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
 at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:211)
 at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
 at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
 at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:190)
 at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
 at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:75)
 at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
 at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:90)
 at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
 at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:243)
 at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
 at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)
 at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
 at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)
 at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
 at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)
 at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
 at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)
 at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)
 at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
 at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)
 at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
 at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)
 at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
 at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:192)
 at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
 at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)
 at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)
 at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)
 at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:511)
 at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:432)
 at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
 at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
 at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:322)
 at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:116)
 at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:83)
 at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
 at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
 at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
 at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)
 at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
 at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)
 at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
 at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:146)
 at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
 at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:54)
 at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
 at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)
 at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
 at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilter(BasicAuthenticationFilter.java:150)
 at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
 at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:182)
 at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
 at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:105)
 at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
 at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)
 at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
 at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:184)
 at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:155)
 at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
 at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:259)
 at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
 at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
 at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)
 at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)
 at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
 at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
 at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
 at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)
 at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859)
 at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)
 at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489)
 at java.lang.Thread.run(Thread.java:662) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T21:16:18.077

首先，您需要有一个根节点而不是根节点列表，因此将其更改
`private List<TreeNode> theNodes = new ArrayList<TreeNode>();`
为
`private TreeNode theNode = new TreeNode();`.

然后你可以在jsp中使用这段代码

```
<sjt:tree 
    id="treeDynamicAjax" 
    jstreetheme="apple" 
    rootNode="theNode" 
    nodeHref="%{echo}"                   
    nodeTitleProperty="title" 
    nodeIdProperty="id" 
    nodeHrefParamName="echo"
    childCollectionProperty="children"
/> 
```

而且你的行动不需要`id`财产。

# ipad - 显示仪器泄漏

> ID：12725212
> 
> 赞同：0
> 
> 时间：2012-10-04T10:24:10.183
> 
> 标签：ipad, instruments

我开发了一个功能

```
- (NSMutableDictionary *)characterRangeMappings {

        if (!characterRangeMappings) {
        self.characterRangeMappings = [[NSMutableDictionary dictionary]autorelease];
    }
    return characterRangeMappings;
} 
```

如果我不使用 autorelease，它会在 Instruments 中显示泄漏，但在使用 analyze (command + shift + B) 检查时没有泄漏，当我使用 autorelease 时会显示泄漏，而 analyze(command + shift + B) 但没有泄漏显示在仪器。

我将如何解决这个问题？

# java - 用 session 明确取消 SwingWorker

> ID：12725219
> 
> 赞同：-1
> 
> 时间：2012-10-04T10:24:34.293
> 
> 标签：java, multithreading, swing, hibernate, swingworker

我有以下情况：

2 个从数据库收集数据的带有会话的 swingworkers。现在我想取消第二个 swingworker。我执行 swingworker.cancel(true) 并在 swingworker 的 done() 方法中使用 session.close() 关闭会话。

完成后，我认为 swingworker 有一个正在执行的 sql 语句，但他被取消并且会话关闭，因此发生以下执行：

```
java.lang.NullPointerException
    at org.hibernate.engine.jdbc.internal.proxy.ConnectionProxyHandler.getResourceRegistry(ConnectionProxyHandler.java:104)
    at org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.getResourceRegistry(AbstractStatementProxyHandler.java:73)
    at org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.wrapIfNecessary(AbstractStatementProxyHandler.java:150)
    at org.hibernate.engine.jdbc.internal.proxy.AbstractStatementProxyHandler.continueInvocation(AbstractStatementProxyHandler.java:123)
    at org.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81)
    at $Proxy9.executeQuery(Unknown Source)
    at org.hibernate.loader.Loader.getResultSet(Loader.java:1953)
    at org.hibernate.loader.Loader.scroll(Loader.java:2510)
    at org.hibernate.loader.custom.CustomLoader.scroll(CustomLoader.java:337)
    at org.hibernate.internal.SessionImpl.scrollCustomQuery(SessionImpl.java:1760)
    at org.hibernate.internal.AbstractSessionImpl.scroll(AbstractSessionImpl.java:232)
    at org.hibernate.internal.SQLQueryImpl.scroll(SQLQueryImpl.java:182)
    at de.mudisar.dataloader.SecondarySwingWorker.doInBackground(SecondarySwingWorker.java:71)
    at de.mudisar.dataloader.SecondarySwingWorker.doInBackground(SecondarySwingWorker.java:32)
    at javax.swing.SwingWorker$1.call(SwingWorker.java:277)
    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
    at java.util.concurrent.FutureTask.run(FutureTask.java:138)
    at javax.swing.SwingWorker.run(SwingWorker.java:316)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
    at java.lang.Thread.run(Thread.java:619) 
```

我能做些什么来解决这个问题。如果我取消 swingworker，我希望取消所有 sql 操作或其他操作，然后关闭会话。

//编辑：

这是我的 swingworker 代码。这个 swingworker 有自己的会话：

```
@Override
protected Void doInBackground() throws Exception {

doMappings();

fetchSQL();

}

private void fetchSQL(){

for(String str : map.keySet()){

    //build sql;
    SQLQuery q = sess.createSQLQuery(query).addEntity("ins", ALL_RSC_DATA.class);
    q.setFetchSize(Integer.valueOf(1000));
    q.setReadOnly(true);
    ScrollableResults results = q.scroll(ScrollMode.FORWARD_ONLY);
    while (results.next()) {

        //processing

    }

}

} 
```

这是我处理用户输入的其他类的操作（用于取消 swingworker）：

```
public Action cancelPrimarySwingWorker = new AbstractAction() {

    /**
     * 
     */
    private static final long serialVersionUID = 1L;

    @Override
    public void actionPerformed(ActionEvent arg0) {
        if(psw != null && !psw.isDone()){
            closeDBConnection(psw.getSession());
            psw.cancel(true);
            psw = null;
            restoreData();
        }
    }
}; 
```

有关完整信息，我的 closeDBConnection() 代码：

```
@SuppressWarnings("deprecation")
public static void closeDBConnection(Session session) {
    if(session != null){
        try {
            //session.connection().createStatement().execute("SHUTDOWN");
            if(session.isOpen()){
                session.cancelQuery();
                session.clear();
                session.close();
            }
            session = null;
        }
        catch (Exception sqle) {
            logging(sqle);
            System.exit(1);
        }
    }

} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T16:44:57.043

```
public void actionPerformed(ActionEvent arg0) {
    if(psw != null && !psw.isDone()){
        closeDBConnection(psw.getSession());
        psw.cancel(true);
        psw = null;
        restoreData();
    } 
```

在我看来，这看起来就像您在阅读器线程仍在运行时关闭了数据库连接，这可能会导致您所看到的内容。您需要重组事物，以便阅读器线程响应取消并在 finally 块中关闭连接本身。

# python - 如何使用 python 在 Windows 7 或 XP 中读取事件查看器

> ID：12725222
> 
> 赞同：-2
> 
> 时间：2012-10-04T10:24:43.217
> 
> 标签：python

我想在 Windows 7 中使用事件 ID 读取事件查看器日志文件

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T10:37:05.373

这是您的答案和示例代码：

[http://code.activestate.com/recipes/577499-windows-event-log-viewer/](http://code.activestate.com/recipes/577499-windows-event-log-viewer/)

但是你需要安装 pywin32 扩展，你可以在这里找到它：http: [//sourceforge.net/projects/pywin32/](http://sourceforge.net/projects/pywin32/)

没有扩展，你不能这样做，因为没有对 win32 api 的本机支持。

# ios - 我可以在不使用代码的情况下直接在 iOS 故事板中本地化字符串吗？

> ID：12725223
> 
> 赞同：4
> 
> 时间：2012-10-04T10:24:44.293
> 
> 标签：ios, localization, storyboard

我在情节提要中有一个非常简单的开始屏幕，带有一个 UILabel 和一个按钮。还不需要类文件，并且希望避免有两个额外的文件只是为了在 viewdidload 中设置一个 UILabel。

有没有办法直接在情节提要中设置标签？例如选择 UILabel 并在标题选项卡中写入 NSLocalizedString(@"startlabel", nil) ？

非常感谢您的帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T11:11:33.087

您可以创建插座`UILabel`，`UIButton`然后以编程方式更改标题：

```
myLabel.text = NSLocalizedString(@"startlabel", "start label");
[myButton setTitle:NSLocalizedString(@"startButton", "start button") forState: UIControlStateNormal]; 
```

并且不要忘记创建`Localizable.strings`可以指定翻译的文件

# eclipse - Tabris UICallback 异常

> ID：12725224
> 
> 赞同：0
> 
> 时间：2012-10-04T10:24:52.243
> 
> 标签：eclipse

我想在 iPad 上的 tabris 中激活 UICallback，但是当我`UICallback.aktivate("background")`在每次显示操作后调用时，会抛出 IllegalArgumentException：

```
2012-10-04 11:57:53.424:WARN:oejs.ServletHandler:ERROR:  /dashboard;jsessionid=26uqw2kydt3v4ehzfgj2wgo9
java.lang.IllegalArgumentException: No service handler registered with id org.eclipse.rwt.internal.uicallback.UICallBackServiceHandler
    at org.eclipse.rap.rwt.internal.service.ServiceManager.getCustomHandlerChecked(ServiceManager.java:58)
    at org.eclipse.rap.rwt.internal.service.ServiceManager.getHandler(ServiceManager.java:48)
    at org.eclipse.rap.rwt.engine.RWTServlet.handleValidRequest(RWTServlet.java:101)
    at org.eclipse.rap.rwt.engine.RWTServlet.doPost(RWTServlet.java:80)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:755)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
    at org.eclipse.rap.rwt.osgi.internal.CutOffContextPathWrapper.service(CutOffContextPathWrapper.java:106)
    at org.eclipse.equinox.http.servlet.internal.ServletRegistration.service(ServletRegistration.java:61)
    at org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:128)
    at org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:60)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)
    at org.eclipse.equinox.http.jetty.internal.HttpServerManager$InternalHttpServiceServlet.service(HttpServerManager.java:384)
    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:598)
    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:486)
    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)
    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1065)
    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:413)
    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:192)
    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:999)
    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)
    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:111)
    at org.eclipse.jetty.server.Server.handle(Server.java:350)
    at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:454)
    at org.eclipse.jetty.server.AbstractHttpConnection.content(AbstractHttpConnection.java:900)
    at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:954)
    at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:851)
    at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)
    at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:77)
    at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:606)
    at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:46)
    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:603)
    at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:538)
    at java.lang.Thread.run(Unknown Source) 
```

我正在使用 com.eclipsesource.tabris.feature.feature.group 0.7.0.v20120828-1253

我还测试了来自[http://developer.eclipsesource.com/tabris/demos/](http://developer.eclipsesource.com/tabris/demos/)的 Train Dashboard Demo，它出现了同样的问题，但在截屏视频中，它看起来像过去一样工作......

感谢帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-12T11:18:24.407

通过 Testflight 发布了 iOS 客户端的更新以修复该问题（它是由 RAP 中的更改引入的）。火车仪表板演示也针对 Tabris 0.7.0 进行了更新

# eclipse - 如何在 Eclipse 中构建我的项目？（从文本编辑器中）

> ID：12725225
> 
> 赞同：0
> 
> 时间：2012-10-04T10:24:57.070
> 
> 标签：eclipse, eclipse-cdt

我知道 Ctrl+B “完成工作”，但它在文本编辑器中不起作用。例如，如果我编辑 .c 文件并按 Ctrl+B，则不会重建项目。有没有办法让它工作？

此外，是否有键盘快捷键可以跳过编译错误并向我显示错误发生的确切行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T11:20:51.590

我只有一个建议。检查 Windows/Preferences/General/Key CTRL+B 的绑定内容和方式（如果您`ctrl+b`在网格顶部键入 ' '，您可以快速找到它）

# java - 在android中调用一些新活动时如何从堆栈中删除流中的所有活动

> ID：12725230
> 
> 赞同：0
> 
> 时间：2012-10-04T10:25:31.133
> 
> 标签：java, android, android-activity

我的 android 应用程序有问题，它在设置屏幕中有注销功能。当我们注销时，它会打开登录屏幕。但是当我按下后退按钮时，它会显示设置屏幕页面，这不是必需的（因为它需要我在没有登录的情况下进入应用程序）。我正在使用以下代码，但它不起作用。因为在注销时 LoginActiviy 不存在。

```
Intent intent= new Intent(HomeSetting.this,LoginActivity.class);
                    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
                    startActivity(intent); 
```

请建议我一些解决方案，将 LoginActivity 作为新 Activity 调用，并且历史中的所有 Activity 都将被销毁。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T10:30:24.133

您可以`noHistory`在清单文件中将 Activity 的属性设置为`true`。因此，当它进入后台时，它将从 Activity satck 中删除。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T11:02:33.993

为避免这种情况，您应该按如下方式设置标志：

```
 Intent intent= new Intent(getApplicationContext() , LoginActivity.class);
                intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
                startActivity(intent); 
```

# objective-c - UITableView 动态更新

> ID：12725234
> 
> 赞同：0
> 
> 时间：2012-10-04T10:25:38.800
> 
> 标签：objective-c, ios5, ios4

我不确定我尝试的是正确的方法吗？

1）应用程序有两个选项卡。在 tab-2 我有 UITableView。2) 应用程序具有名为 gData [ Singleton ] 的全局 NSMutableArray，可以随时由应用程序的不同部分更新。

现在的目标是将 gData 显示到 UITableView 中。

3) UI 有一个变量 tableData 用作 UITableView 的数据源。4）已经实现了 ViewWillAppear，并且 gData 被复制到 tableData 中，并且 UITableView 被重新加载。

这个这个很好

1）现在用户总是在 UITableView 可见的选项卡中。

2）在应用程序的某个地方，全局 gData 被更新。

3）我所做的是实现了NSNotifition，它是由更新gData的模块提出的。

4) tab-2 捕获了该通知并尝试将 From gData 复制到 tableData 并尝试重新加载 UITableView。

**问题是什么：**

1) 用户在 tab-2 UITableView Visible 中。

2）即使应用程序重新加载 UITableView，它也不会反映，直到我触摸屏幕并滚动？..

是否有可能看到动态地不断更新行，并且用户看到了？

非常感谢您的帮助！...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T10:37:54.660

你有没有调用 UITableView 的“-reloadData”方法？或者，您可以将“-setNeedsDisplay”/“-setNeedsLayout”发送到 UITableViewCell(visible cells) 以更新每个单元格？

# asp.net-mvc - 具有 Knockout 和 ASP.NET MVC4 SPA 的多个 ViewModel

> ID：12725235
> 
> 赞同：1
> 
> 时间：2012-10-04T10:25:40.517
> 
> 标签：asp.net-mvc, knockout.js, asp.net-mvc-4, single-page-application, asp.net-spa

我是 ASP.NET MVC SPA 和 Knockout.js os 的新手，也许这是我犯的一个简单错误......

**情况：**我的网站中有两个局部视图，我希望每个局部视图都有自己的 Knockout ViewModel，这样我就不会得到一个巨大的 ViewModel。

**我当前的视图模型：**

```
/// <reference path="../_references.js" />

function MobileDeliveriesViewModel() {
   var self = this;

   // Data
   self.currentDelivery = ko.observable();
   self.nav = new NavHistory({
      params: { view: 'deliveries', deliveryId: null }
   });

   // Test
   self.foo = "FooBar"
   self.bar = "BarFoo"

   self.nav.initialize({ linkToUrl: true });

   // Navigate Operations
   self.showDeliveries = function () { self.nav.navigate({ view: 'deliveries' }) }
   self.showCustomers = function () { self.nav.navigate({ view: 'customers' }) }
}

function BarFooViewModel() {
   var self = this
   //MobileDeliveriesViewModel.call(self)

   self.bar2 = "BarFooTwo"
}

ko.applyBindings(new MobileDeliveriesViewModel());
ko.applyBindings(new MobileDeliveriesViewModel(), $('#BarFoo')[0]);
ko.applyBindings(new BarFooViewModel(), document.getElementById('BarFoo')); 
```

**我的 Index.cshtml：**

```
<div data-bind="if: nav.params().view == 'deliveries'">
   @Html.Partial("_DeliveriesList")
</div>

<div class="BarFoo" data-bind="if: nav.params().view == 'customers'">
   @Html.Partial("_CustomersList")
</div>

<script src="~/Scripts/App/DeliveriesViewModel.js" type="text/javascript"></script> 
```

**我的客户部分视图：**

```
<div id="BarFoo" class="content">
   <p data-bind="text: bar"></p>
   <p data-bind="text: bar2"></p>

   <button data-bind="click: showDeliveries, css: { active: nav.params().view == 'deliveries' }">Deliveries</button>
</div> 
```

**我的交付部分视图：**

```
<div class="content">
   <p data-bind="text: foo"></p>

   <button data-bind="click: showCustomers, css: { active: nav.params().view == 'customers' }">Customers</button>
</div> 
```

如果我运行它，它将无法识别我的 BarFooViewModel 中的 bar2 属性...

我在 ViewModel 的末尾尝试了 2 种不同的 applyBindings。

有人有想法还是他们有更好的方法/模式来做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T10:48:59.283

页面上是否有 JS 错误？

nav.params().view 但 params: { view: 'deliveries', deliveryId: null } - 它不起作用。

如果你想在单页上使用几个视图模型 - 检查这个[http://www.knockmeout.net/2012/05/quick-tip-skip-binding.html?utm_source=feedburner&utm_medium=feed&utm_campaign=Feed%3A+KnockMeOut+ %28Knock+Me+Out%29](http://www.knockmeout.net/2012/05/quick-tip-skip-binding.html?utm_source=feedburner&utm_medium=feed&utm_campaign=Feed%3A+KnockMeOut+%28Knock+Me+Out%29)动作。你必须使用“stopBinding”

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T11:05:16.833

看起来您正在将多个数据绑定应用于相同的部分。

```
ko.applyBindings(new MobileDeliveriesViewModel(); 
```

这将绑定到页面中的所有元素。

```
ko.applyBindings(new MobileDeliveriesViewModel(), $('#BarFoo')[0]); 
```

这将尝试绑定到 div 内的所有元素

```
ko.applyBindings(new BarFooViewModel(), document.getElementById('BarFoo')); 
```

这也将尝试绑定到 div 内的所有元素。

为简单起见，您应该尝试将单个视图模型绑定到单个 html 部分。我发现尝试在同一个 html 部分中绑定两个视图模型很难正常工作和排除故障。

Jack128 的回答也提出了一些好处。

# android - Android apk 版本代码和版本名称在签名后重置

> ID：12725236
> 
> 赞同：0
> 
> 时间：2012-10-04T10:25:41.547
> 
> 标签：android, android-manifest

我使用逐渐增加的版本代码更新我的 android 清单文件，并使用商店密钥对其进行签名。签名后，版本代码将重置为以前的值。请帮忙

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-10T13:10:19.317

我最近遇到了同样的问题......你可能正在更改 bin/manifest 中的 versionCode 确保它是主要清单。

并检查这个希望它可以帮助你....

[无法更新版本代码](https://stackoverflow.com/questions/12781912/cant-update-versioncode)

# php - 将⅛ htmlentity 保存到数据库（PHP/MySQL）的问题

> ID：12725240
> 
> 赞同：0
> 
> 时间：2012-10-04T10:26:07.060
> 
> 标签：php, codeigniter, html-entities

我有一个脚本，我想保存从下拉菜单中选择的值 - 选项之一是以下 htmlentity

```
&#8539; // will appear as 1/8 
```

但是当它被保存到数据库时它被保存为一个问号？将 htmlentities 保存到数据库的最佳方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T10:30:59.170

您永远不应该在数据库中保存 htmlentities。如果你想从不是 HTML 的数据库中生成一些东西，你会怎么做？

您可以完全按照自己的方式保存它，对于 mysql 保存，`mysql_real_escape_string()`然后使用`htmlentities($field, ENT_QUOTES)`.

# frameset - 重新设计网站：如何摆脱框架集以及如何走得更远？

> ID：12725241
> 
> 赞同：0
> 
> 时间：2012-10-04T10:26:31.640
> 
> 标签：frameset, frameset-iframe

我正在尝试重新设计我的网站，因为它有一个框架集，这很烦人。这让我很恼火，因为我看不到*下拉菜单*和*自动完成建议*（它与它重叠）。所以现在，我想摆脱这个框架集，但我有非常有用的框架。所以我的问题是：如何在不改变网站布局的情况下摆脱框架集？我必须用什么来代替它？

```
<frameset id="f" border="0" rows="50,*">
<frame scrolling="no" noresize="" src="home.php?process=top" name="bar">
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" dir="ltr" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
</frame>
<frameset cols="250,*">
</frameset> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-30T17:23:57.943

我不得不承认框架集不起作用。好吧，我摆脱了它，因为没有其他出路。就这么简单；不要使用它。

# mysql - 为什么左连接和内连接返回相同的结果

> ID：12725242
> 
> 赞同：1
> 
> 时间：2012-10-04T10:26:37.530
> 
> 标签：mysql

```
branch_id   branch_name
1       Branch A
2       Branch B

user_id username    branch_id
1   abc     1
2   def     1
3   ghi     2
4   jkl     1
5   lmn     2
6   opq     2 
```

查询 1

```
query1="select a.branch_id,b.branch_id,a.branch_name from branch a LEFT JOIN user_mast b on a.branch_id=b.branch_id"; 
```

查询 2

```
$query2="select a.branch_id,b.branch_id,a.branch_name from branch a INNER JOIN user_mast b on a.branch_id=b.branch_id"; 
```

**为什么 LEFT JOIN 和 INNER JOIN 结果是一样的。**

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:28:50.590

您没有`RIGHT JOIN`在查询 2 中使用。原因`LEFT JOIN`和`INNER JOIN`结果相同是因为 table 的所有记录在 table`branch`上至少有一个匹配项`user_mast`。

`INNER JOIN`和之间的主要区别在于，即使它们在边表上没有匹配项，`LEFT JOIN`它`LEFT JOIN`仍会在边上显示记录。`LEFT``RIGHT`

# [SQLFiddle Demo（*区别*）](http://sqlfiddle.com/#!2/51aad/2)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T10:33:14.347

由于您将左表中的所有 branch_id 与右表的 branch_id 匹配

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T10:31:02.523

因为您的左表有 2 条记录，而右表只有 2 条匹配记录。因此，在这种情况下，如果使用左连接，它将获取与连接相同的结果。如果交换表，那么您将知道左连接的用法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T10:29:15.987

看看这个，它对理解 JOIN 有很大帮助

[http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html](http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html)

# jquery - 在完整日历中覆盖事件呈现

> ID：12725243
> 
> 赞同：4
> 
> 时间：2012-10-04T10:26:38.927
> 
> 标签：jquery, overriding, fullcalendar

我想覆盖完整日历中的事件渲染功能。我的情况就像我有两个 js 文件，在一个父 js 中我正在创建一个日历，在子 js 文件中我想使用子 js 文件呈现事件。那么有什么方法可以从子 js 文件中覆盖完整日历的事件。这是我在父 js 中完整日历的代码 eventRender 函数。

```
 eventRender: function(event, element) {
  $(element).children().addClass("fc-event-inner-"+event.statusId);
  $(element).children().attr("id",event.id);
  setEventColor(element, _statusIdToEventBackgroundColor[event.statusId],_statusIdToEventFontColor[event.statusId]);            
 createContextMenu(event.statusId);
 } 
```

这是子文件的代码

```
$(_panel).fullCalendar( 'renderEvent',loadedEvents, true); 
```

子文件中的这个函数调用父文件的 eventRender 函数。我在父 Js 文件中的日历就像虚拟的。因为我希望我的所有事件都来自子 Js 文件的控制和绑定。有没有机会我可以在子 js 中创建或使用父类的函数（EventRender），或者我可以通过创建对象来访问它。

帮助表示赞赏。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-25T16:20:02.343

看起来您可以将 js 函数添加到函数的事件渲染部分。请参阅[此处](http://arshaw.com/fullcalendar/docs/event_rendering/eventRender/)的示例，他们将 qTip 插件添加到事件中。

# ruby - 如何对Ruby数组中的相同元素进行分组

> ID：12725245
> 
> 赞同：29
> 
> 时间：2012-10-04T10:26:45.930
> 
> 标签：ruby, arrays

我有以下内容：

```
array = ["John", "Mike", "Bob", "Mike", "Bob"] 
```

我想得到输出：

```
[["Mike", "Mike"], ["Bob", "Bob"], ["John"]] 
```

* * *

## 回答 #1

> 赞同：50
> 
> 时间：2012-10-04T10:36:09.257

以下是如何在 Ruby 中执行此操作。

```
array.group_by{ |x| x }.values 
```

# javascript - 在 JQuery 页面上，JQuery 是一种比 Javascript 本身更好的显示/隐藏元素的方法吗？

> ID：12725246
> 
> 赞同：0
> 
> 时间：2012-10-04T10:26:49.160
> 
> 标签：javascript, jquery

我有一个页面，我已经为许多其他内容加载了 jquery（即，我已经承担了加载 jquery 的开销）。

考虑到这一点，是否有一种“正确”的方式来显示/隐藏元素——这两种中的哪一种比另一种“更好”还是“更有效”？

**仅限 JAVASCRIPT：**

```
document.getElementById('stuff').style.display = 'none'; 
```

**查询：**

```
$jsjp('#stuff').css('display','block'); 
```

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:30:51.990

我会使用`$('#stuff').hide()`| `$('#stuff').show()`而不是`$('#stuff').css('display','none');`|`$('#stuff').css('display','block');`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T10:39:40.610

Javascript 总是比 jQuery 快，只是因为 jQuery（通常）引入了至少一个额外的调用层，否则本来可以是原生的。

但是考虑一下，至少在您的问题的上下文中，您将如何在本机 JS 中隐藏一个元素：

```
foo.style.display = 'none'; 
```

与 jQuery 相比：

```
foo.hide(); 
```

没有太大区别，除了字符数，真的没什么可做的。

现在，让我们反过来说。你将如何`foo`在 jQuery 中显示回来？

```
foo.show(); 
```

在原始 JS 中：

```
foo.style.display = 'block'; 
```

完毕。也没有太大区别。

或者有吗？花点时间考虑一下。我们这里的第一个问题实际上是我们如何得到我们*首先**设置的假设`display = 'block'`*。我们应该设置`foo`块显示吗？不应该是一个`inline`代替吗？还是一个`inline-block`？

大多数情况下，您无需继续决定使用哪个，如果您这样做的机会不大，您可能会编写一些支持代码来确保您这样做了。

jQuery 实现`show`and的主要（经常被忽视的）好处之一`hide`是所有跟踪都是为您默默完成的。如果你调用`.hide()`了一个块元素，一旦你调用`.show()`它，jQuery 会将它放回块中，而不是其他任何东西。

无论您决定继续提出问题，请确保您也考虑到这一点。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T10:30:00.227

Vanilla JavaScript 总是比 jQuery 快，但是由于 ID 选择器的 jQuery 使用原生`getElementById`函数，两者没有主要区别，你也可以使用`show`and`hide`方法：

```
$jsjp('#stuff').hide() 
```

# php - 登录系统2层

> ID：12725247
> 
> 赞同：0
> 
> 时间：2012-10-04T10:26:50.197
> 
> 标签：php

我想构建登录页面包括 2 层：

1.  php 页面，使用数据库中的用户名和密码登录作为普通登录页面。托管在服务器 A

2.  当单击该登录页面（第一个）中的提交按钮时，将打开一个弹出窗口（托管在服务器 B 中），第一个页面的登录正在等待，并且用户在此弹出窗口开始通过 LDAP 身份验证，身份验证成功后, 弹出窗口将关闭并继续第一页的登录过程。

有人可以告诉我解决这个问题的方法。

# php - XML 记录/道具结构 - 这是什么想法以及如何从 PHP 中读取它

> ID：12725249
> 
> 赞同：0
> 
> 时间：2012-10-04T10:26:52.943
> 
> 标签：php, xml, record

> **可能重复：**
> [一个简单的程序来 CRUD 节点和 xml 文件的节点值](https://stackoverflow.com/questions/4906073/a-simple-program-to-crud-node-and-node-values-of-xml-file)

我已经在网上搜索过，没有运气，尽管它可能在那里......某处。

我工作的公司有一个很大的 xml 文件，其中包含我们所有产品的描述和详细信息。所有的产品都是用很多道具记录下来的——在xml文件中。

```
<RECORD>
<PROP NAME="Name">
<PVAL>Product 1</PVAL>
<PROP NAME="Value">
<PVAL>10</PVAL>
</PROP>
<RECORD>
<PROP NAME="Name">
<PVAL>Product 2</PVAL>
<PROP NAME="Value">
<PVAL>20</PVAL>
</PROP> 
```

我对xml文件不是很熟悉。所以我的第一个问题是： **这是一个众所周知的罢工，为什么要这样 - 这是什么想法？**

第二个问题： **在PHP中，如果我在哪里列出记录的所有道具（搜索名称=？）我的方法是什么？将所有内容加载到数组中？**

# css - CSS 间距交叉兼容性问题

> ID：12725250
> 
> 赞同：1
> 
> 时间：2012-10-04T10:26:54.790
> 
> 标签：css, cross-browser, spacing

我正在编写我的第一个站点，但没有意识到跨浏览器兼容性会有多令人沮丧。这是我的网站：[http](http://www.tommaxwell.me) ://www.tommaxwell.me 。它在 Safari 和 Chrome 中看起来是我想要的方式（可能是因为它们是 Webkit？），但在 Opera 和 Firefox 中，第一个标题和标语之间的间距太大了。我不知道如何解决这个问题。我读过一些关于 CSS Reset 的东西，但我不确定如何使用它或它到底是什么。

CSS：

```
body {
background-image:url(209241_2453996366505_1946848896_o.gif);
background-position:center center;
background-attachment:fixed;
-o-background-size: 100% 100%, auto;
-moz-background-size: 100% 100%, auto;
-webkit-background-size: 100% 100%, auto;
background-size: 100% 100%, auto;

padding:0;
margin:0;

}

@font-face {
font-family: 'klavika_rgregular';
src: url('klavika-regular-webfont.eot');
src: url('klavika-regular-webfont.eot?#iefix') format('embedded-opentype'),
     url('klavika-regular-webfont.woff') format('woff'),
     url('klavika-regular-webfont.ttf') format('truetype'),
     url('klavika-regular-webfont.svg#klavika_rgregular') format('svg');
font-weight: normal;
font-style: normal;

}

@font-face {
font-family: 'klavika_mediummedium';
src: url('klavikamedium-osf-webfont.eot');
src: url('klavikamedium-osf-webfont.eot?#iefix') format('embedded-opentype'),
     url('klavikamedium-osf-webfont.woff') format('woff'),
     url('klavikamedium-osf-webfont.ttf') format('truetype'),
     url('klavikamedium-osf-webfont.svg#klavika_mediummedium') format('svg');
font-weight: normal;
font-style: normal;

}

h1 {
text-align: center;
margin-top: 10%;
font-family: klavika_mediummedium;
color:#FFFFFF;
font-size: 6.250em;
font-weight: 400;
}

p {
position: relative;
top:-8%;
text-align: center;
font-family: klavika_rgregular;
color:#FFFFFF;
font-size: 1.875em;
font-weight: 400;
}

ul {
position: relative;
list-style-type: none;
margin-top: 5%;
margin-left: 37%;
font-family: klavika_mediummedium;
}

ul li {
font-size: 2.500em;
font-weight: 400;
float: left;
padding-right: 3%; 
```

}

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T10:36:26.407

您应该使用 doctype（html 文件中的第一行）。为了获得更好的 CSS 和跨浏览器兼容性，请使用重置： http: [//meyerweb.com/eric/tools/css/reset/](http://meyerweb.com/eric/tools/css/reset/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T10:35:20.617

只需将我的`p tag`课程替换为您的 css 即可：-

**CSS**

```
p {
    color: #FFFFFF;
    font-family: klavika_rgregular;
    font-size: 1.875em;
    font-weight: 400;
    margin: 0;
    padding: 0;
    text-align: center;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T10:35:31.550

选择[**HTML5 Boilerplate**](http://html5boilerplate.com/)作为您的默认模板，它带有[**Normalize CSS**](http://necolas.github.com/normalize.css/)，它重置所有浏览器的默认设置。

HTML5 Boilerplate 几乎每行 CSS 和 HTML 都有注释，这些注释使它更易于使用。

您的解决方案是设置`line-height: 30px;`元素`h1`，因为`h1`字体大小太大，因此您必须调整行高

# c# - C# 即使窗口大小改变，也修复图片框的大小

> ID：12725252
> 
> 赞同：0
> 
> 时间：2012-10-04T10:27:09.293
> 
> 标签：c#, winforms

我可以知道我们如何固定图片框的大小吗？因为现在，每次我拖动改变winform的大小，它上面的图片框的大小也会改变。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T10:34:03.517

您已将 PictureBox 的锚属性设置为：

```
Top, Bottom, Left, Right 
```

您可以将其设置为

```
Top, Left 
```

查看图片框的属性，目前它将是： ![在此处输入图像描述](../Images/9122ec56018896371e1a6e70c211cab6.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T10:31:49.340

检查[`Anchor`](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.anchor%28v=vs.100%29.aspx)您的属性`PictureBox`并确保该`Dock`属性设置为`None`;

使用该`Anchor`属性来定义控件在调整其父控件大小时如何自动调整大小：

> ***[`Control.Anchor`](http://msdn.microsoft.com/en-us/library/system.windows.forms.control.anchor%28v=vs.100%29.aspx)***：获取或设置控件绑定到的容器的边缘，并确定控件如何与其父级一起调整大小。

# email - dotcloud - 谷歌应用程序电子邮件配置

> ID：12725254
> 
> 赞同：0
> 
> 时间：2012-10-04T10:27:12.710
> 
> 标签：email, dotcloud

我已经检查了 dotcloud，它似乎很有希望。我的电子邮件使用谷歌应用程序，因此能够将我的 MX 记录设置为指向 gmail 服务器对我来说非常重要。我想知道 dotcloud 是否可以做到这一点，我尝试搜索但没有找到任何参考资料。

使用过 dotcloud 的人可以告诉我如何做到这一点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T16:04:57.757

在 dotCloud，我们不控制您的 DNS，因此欢迎您将邮件发送到任何您想要的地方。我们有很多用户使用 gmail 发送电子邮件，并将他们的网站和应用程序托管在 dotCloud 上。如果您有任何其他问题，请随时通过 support@dotcloud.com 向我们发送电子邮件 - 我们非常乐意回答您可能遇到的任何问题。

此致，

查尔斯·H

全面披露：如果不是很明显，我在 dotCloud 工作。

# scala - 如何比较 Scala 函数值是否相等

> ID：12725257
> 
> 赞同：13
> 
> 时间：2012-10-04T10:27:20.820
> 
> 标签：scala

如何比较两个 Scala 函数值是否相等。用例是我有一个函数列表，其中列表可以包含重复项，我只想执行每个函数一次。

如果我有：

```
scala> object A {
     |   def a {}
     | }
defined module A

scala> val f1 = A.a _
f1: () => Unit = <function0>

scala> val f2 = A.a _
f2: () => Unit = <function0> 
```

如果我尝试将函数与`==`or进行比较`eq`，我将`false`在这两种情况下得到：

```
scala> f1 == f2
res0: Boolean = false

scala> f1 eq f2
res1: Boolean = false 
```

* * *

## 回答 #1

> 赞同：16
> 
> 时间：2012-10-04T10:30:45.390

简短的回答：这是不可能的。

更长的答案：您可以拥有某种函数工厂，以确保“相同”的函数实际上是同一个对象。根据您的应用程序的体系结构，这可能不可行。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-10-04T11:18:29.033

我想稍微扩展一下 Kim 的回答，并举例说明如何实现函数值的有限可比性。

如果您对函数有某种描述性定义，则可以检查此描述的相等性。例如，您可以通过以下方式定义简单算术函数的类（不是 oo 类）：

```
sealed trait ArthFun extends (Double => Double)
case class Mult(x: Double) extends ArthFun {def apply(y: Double) = x * y}
case class Add(x: Double) extends ArthFun {def apply(y: Double) = x + y} 
```

使用此设置，其中 an`ArthFun`由其类和成员定义，您可以`ArthFun`仅通过案例类定义的对象相等性来检查类型值的相等性。

```
scala> trait ArthFun extends (Double => Double)
defined trait ArthFun

scala> case class Mult(y: Double) extends ArthFun { def apply(x: Double) = x * y; override def toString = "*" + y}
defined class Mult

scala> case class Add(y: Double) extends ArthFun { def apply(x: Double) = x + y; override def toString = "+" + y }
defined class Add

scala> Seq(Mult(5),Mult(4),Add(4),Add(3),Mult(5)).distinct
res4: Seq[Product with ArthFun with Serializable] = List(*5.0, *4.0, +4.0, +3.0) 
```

# mobile - 在应用程序中集成外部移动网站的最佳方式

> ID：12725260
> 
> 赞同：0
> 
> 时间：2012-10-04T10:27:25.937
> 
> 标签：mobile, cordova, jquery-mobile

我有一个用 jQuery Mobile 制作的移动网站，我想将它的某些部分集成到 Phone Gap 移动应用程序中。

该应用程序将提供一些*离线功能*（使用本地 html 和 JS），并将与发送表单和接收其页面（已经在 jQuery Mobile 中）的移动网站集成。

你认为最好的策略是什么？我应该编写服务还是应该保留正在进行的 html 页面？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T09:03:47.250

看到你上面的评论后，是的，你可以用 phonegap 包装它并在应用商店中启动。然后考虑这一点，您可以创建服务以返回 JSON（仅用于动态数据）并将所有 HTML 模板加载到应用程序（使用 phonegap 包装）。

因此静态数据/内容从应用程序内部加载，动态内容来自服务器。现在为要启用离线访问的动态内容启用离线缓存。

要启用离线访问，您可以使用 webkit 本地存储（5Mb~50Mb）或本地 phonegap 插件来获得更多存储。

希望这可以帮助。

# javascript - 我的网站上的 javascript 有问题吗？

> ID：12725261
> 
> 赞同：0
> 
> 时间：2012-10-04T10:27:27.997
> 
> 标签：javascript, jquery, html

好吧，我有一个网站，我正在尝试制作一个带有警报框但没有提交的表单。

我在 Codepen 使用 Javascript 完成了这项工作。

[代码笔： http](http://codepen.io/anon/pen/xBhaL) ://codepen.io/anon/pen/xBhaL

但是当我把它放在我的网站上时，由于某些原因它不起作用。

有谁知道可能是什么问题..

网站：[http](http://www.marktopper.dk/demo/blog_post.php?id=22)
://www.marktopper.dk/demo/blog_post.php?id= 22 请向下滚动并尝试提交评论。

我已将 javascript 放入一个名为“ajax.js”的文件中，我可以看到该站点得到了它。
但它似乎不像在 Codepen 上那样工作。

我也从使用本地 jquery 更改为使用他们网站上的最新 jquery。但仍然没有运气。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T10:33:45.813

您`ajax.js`目前是：-

```
$("#commentForm").submit(function(){
 alert("i've submitted this form");
 return false;
}); 
```

这在 DOM 准备好之前运行。尝试：

```
$(document).ready(function() {
  $("#commentForm").submit(function(){
   alert("i've submitted this form");
   return false;
  });
}); 
```

[介绍 $(document).ready()](http://docs.jquery.com/Tutorials%3aIntroducing_%24%28document%29.ready%28%29)

# web-services - 将 SOAP 转换为 REST

> ID：12725262
> 
> 赞同：3
> 
> 时间：2012-10-04T10:27:32.497
> 
> 标签：web-services, rest, soap, middleware

如何使用 Java 语言将 SOAP 转换为 REST？

```
package net.weather;
import java.sql.*;
import javax.jws.WebService;
@WebService
public class ProjectFinalWS{
Connection con;
Statement st;
ResultSet rs;
String res;
public void connectDB()
     {
      String url ="jdbc:mysql://localhost:3306/";
      String dbName ="project";
      String driver = "com.mysql.jdbc.Driver";
      String userName = "root"; 
      String password = "root";
      try
      {
      Class.forName(driver).newInstance();
      con = DriverManager.getConnection(url+dbName,userName,password);

      }catch(Exception e){}
     }
public float getMaxTemp(String city)
{     float mxtemp=0;
      connectDB();
      try{
      st=con.createStatement();
      rs=st.executeQuery("select  maxtemp from weather where city='"+city+"'");
      rs.next();
      mxtemp=rs.getFloat(1);
      st.close();
      con.close();
      }
      catch(Exception e){}

return mxtemp;
  }
public float getMinTemp(String city)
{     float mntemp=0;
      connectDB();
      try{
      st=con.createStatement();
      rs=st.executeQuery("select  mintemp from weather where city='"+city+"'");
      rs.next();
      mntemp=rs.getFloat(1);
      st.close();
      con.close();
      }
      catch(Exception e){}

return mntemp;
  }
public float getHumidity(String city)
{     float humidity=0;
      connectDB();
      try{
      st=con.createStatement();
      rs=st.executeQuery("select  humidity from weather where        

         city='"+city+"'");
      rs.next();
      humidity=rs.getFloat(1);
      st.close();
      con.close();
      }
      catch(Exception e){}

return humidity;
  }
 } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-04T14:03:49.533

REST 是一种与 SOAP 完全不同的 Web 服务方式。特别是，它在*资源*、它们的*表示*以及它们之间的*联系*方面运作。（你也有关于 HTTP 的动词，但对于像这样的简单查询服务，你可能只使用 GET。）

该接口的 RESTful 版本的工作方式有点像这样：

1.  客户会决定他们想知道有关特定地点的一些信息，因此他们会要求服务搜索该地点并告诉他们到该地点的链接，或者至少是与搜索条件匹配的地点；因为这可能是几个不同的地方（想想“伦敦，英国”与“安大略省伦敦”以响应对“伦敦”的搜索），结果将是一个链接到每个地方的特征的页面。它也可能会说明每个链接的含义，但这不是必需的。（结果的格式可以是 HTML、XML、JSON 或多种不同格式中的任何一种；HTTP 内容协商是在它们之间进行选择的好方法。）
2.  一旦用户从列表中确定了他们*真正*想要的信息的地点，他们就会点击链接并获得关于该地点的哪些信息可用的描述。该文档提供指向提供最高温度的页面、提供最低温度的另一个页面以及提供湿度的第三个页面的链接。
3.  要获取实际数据，需要遵循另一个链接并提供该数据。由于数据是一个简单的浮点数，因此将其作为纯文本返回是非常合理的。

现在，我们需要将这些东西映射到 URL：

1.  搜索：（`/search?place=somename`很容易与地名挂钩），其中包含指向...的链接</li>
2.  地点：（`/place/{id}`哪里`{id}`是一些通用 ID，它可能是您的数据库的主键；由于名称重复的问题，我们不想在此处使用该名称），其中包含指向...的链接。</li>
3.  数据：`/place/{id}/maxTemp`, `/place/{id}/minTemp`, `/place/{id}/humidity`.

我们还需要有一些方法来创建文档。*推荐使用*JAXB 。链接可能应该在 XML 中完成，属性名为`xlink:href`; 使用（通过引用）这样的 XLink 规范准确地说明属性的内容是一个链接（由于其一般性质，否则这种明确的陈述在 XML 中是一个真正的问题）。

最后，您可能希望使用 JAX-RS 将 Java 代码绑定到服务。这比自己写要容易得多。这让您可以开始做这样的事情（为简洁起见，省略了数据绑定类）：

```
public class MyRestWeatherService {
    @GET
    @Path("/search")
    @Produces("application/xml")
    public SearchResults search(@QueryParam("place") String placeName) {
        // ...
    }

    @GET
    @Path("/place/{id}")
    @Produces("application/xml")
    public PlaceDescription place(@PathParam("id") String placeId) {
        // ...
    }

    @GET
    @Path("/place/{id}/maxTemp")
    @Produces("text/plain")
    public String getMaxTemperature(@PathParam("id") String placeId) {
        // ...
    }
    // etc.
} 
```

正如你所看到的，它可以继续下去，但只要你从一个好的计划开始，一切都意味着什么，这并不难……</p>

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-04T10:30:49.420

谢天谢地，Donal Fellows 指出了 @WebService 注释。直到他意识到这是一项网络服务，我才意识到。

对于此实现，您将遇到更多 API 选择的问题。如果您在 Java EE 应用服务器上进行部署，我建议使用 JNDI 数据源和连接池，而不是硬连接数据库参数并为每个请求进行连接。

最好在 finally 块中关闭您的资源，包裹在单独的 try/catch 块中。

那些空的 catch 块会让你发疯。坏事会发生，但你永远不会知道。

SOAP 客户端通过 HTTP 将 XML 请求发送到解析它的服务，将值绑定到输入，使用它们来完成用例，并将响应编组为 XML 以发送回。

REST 要求客户端做所有相同的事情，除了不是将请求参数打包成 XML 请求，而是通过 HTTP 发送。该 API 是 HTTP GET、POST、DELETE。您将方法调用表示为 URI。

因此，您需要对您的 SOAP API 有很好的了解并需要一些头脑。我不知道有什么工具可以为你做这件事。

# cluster-analysis - 计算聚类的 F-measure

> ID：12725263
> 
> 赞同：7
> 
> 时间：2012-10-04T10:27:44.880
> 
> 标签：cluster-analysis, data-mining, precision-recall

谁能帮我集体计算F-measure？我知道如何计算召回率和精度，但不知道给定算法如何计算一个 F 度量值。

例如，假设我的算法创建了*m*个集群，但我知道相同数据有*n 个*集群（由另一个基准算法创建）。

我找到了一个 pdf，但它没有用，因为我得到的集体价值大于 1。pdf 的参考是[F Measure Explained](http://www.flowdx.com/F_Measure_explained.pdf)。具体来说，我看过一些研究论文，其中作者在F-measure的基础上比较了两种算法，它们共同得到了0到1之间的值。如果你仔细阅读上面提到的pdf，公式是F(C,K) = ∑ | 词 | / N * max {F(ci,kj)}
其中 ci 是参考集群 & kj 是由其他算法创建的集群，这里 i 从 1 运行到 n & j 从 1 运行到 m。假设 |c1|=218这里根据 pdf N=m*n 假设 m=12 和 n=10，对于 j=2，我们得到 max F(c1,kj)。F(c1,k2) 肯定在 0 和 1 之间。但是通过上面的公式计算得到的结果值我们会得到大于 1 的值。

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-10-04T11:28:45.607

术语 f-measure 本身未指定。它是**调和平均值**，通常是精度和召回率。实际上，如果您指的是未加权版本，您甚至应该说**F1-score**，因为您可以对两个输入值赋予不同的权重。但是不说哪两个值是平均的（不是算术平均值！），这并没有说太多。

[https://en.wikipedia.org/wiki/F1_score](https://en.wikipedia.org/wiki/F1_score)

请注意，这些值**必须在 0-1 值范围内**。否则，你之前有一个错误。

在聚类分析中，常用的方法是将 F1-Measure 应用于对的精度和召回率，通常称为“对计数 f-measure” *。*但是您也可以在其他值上计算相同的平均值。

对计数有一个很好的特性，它不直接比较簇，所以当一个结果有 m 个簇，另一个有 n 个簇时，结果是明确定义的。但是，*对计数需要严格的分区*。当元素没有被聚类或分配给多个聚类时，对计数度量很容易超出 0-1 的范围。

*   E. Achtert，S. Goldhofer，H.-P。Kriegel, E. Schubert, A. Zimek
    聚类度量和视觉支持
    Int 的评估。会议。数据工程（ICDE 2012）
    [http://www.computer.org/portal/web/csdl/doi/10.1109/ICDE.2012.128](http://www.computer.org/portal/web/csdl/doi/10.1109/ICDE.2012.128)

讨论其中一些指标（包括兰德指数等）并简单解释“对计数 F 度量”。

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2012-10-16T12:36:57.137

Darius Pfitzner、Richard Leibbrandt 和 David Powers的论文[*Characterization and evaluation ofsimilarity measures for clusteringspairs*](http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.214.7233&rep=rep1&type=pdf)包含很多关于这个主题的有用信息，包括以下示例：

给定集合，

```
           D = {1, 2, 3, 4, 5, 6}

```

和分区，

```
           P = {1, 2, 3}, {4, 5}, {6} 和
           Q = {1, 2, 4}, {3, 5, 6}

```

其中 P 是由我们的算法创建的集合，Q 是由我们已知的标准算法创建的集合

```
           对P = {(1, 2), (1, 3), (2, 3), (4, 5)},
           PairsQ = {(1, 2), (1, 4), (2, 4), (3, 5), (3, 6), (5, 6)}，和
           对 D = {(1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (2, 3), (2, 4),
                      (2, 5), (2, 6), (3, 4), (3, 5), (3, 6), (4, 5), (4, 6), (5, 6)}

```

所以，

```
           一个 = | PairsP 相交 PairsQ | = |(1, 2)| = 1
           乙 = | PairsP- PairsQ | = |(1, 3)(2, 3)(4, 5)| = 3
           c = | PairsQ- 对P | = |(1, 4)(2, 4)(3, 5)(3, 6)(5, 6)| = 5

```

```
     F-测量= 2a/(2a+b+c)

```

> *注意：*在第 364 页的出版物中存在错误，其中计算了 a、b、c 和 d，而 b 和 c 的结果实际上切换不正确。这种转变会抛弃一些其他措施的结果。显然，F-measure 不受影响。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-08-17T17:35:07.070

公式中的 N，F(C,K) = ∑ | 词 | /N * max {F(ci,kj)}，是|ci|的总和 总而言之，即它是元素的总数。您可能将其误认为是集群的数量，因此得到的答案大于 1。如果您进行更改，您的答案将介于 1 和 0 之间。

# c# - 更新和刷新 wpf 图表

> ID：12725264
> 
> 赞同：2
> 
> 时间：2012-10-04T10:27:54.410
> 
> 标签：c#, wpf, charts, refresh

我正在使用 wpf 工具包的图表，我无法查看图表的插入数据......这是 xaml 部分：

```
<chartingToolkit:Chart  Height="352" HorizontalAlignment="Left" Name="profilo_cale_chart" Title="Profili cale" VerticalAlignment="Bottom" Width="655" FontSize="16" Margin="252,0,0,55" Visibility="Hidden"> 
   <chartingToolkit:AreaSeries DependentValuePath="Value" IndependentValuePath="Key" IsSelectionEnabled="True" ItemsSource="{Binding}" Foreground="#FF242424" Background="LightSteelBlue" />
</chartingToolkit:Chart> 
```

还有 cs: 声明

```
public partial class MainWindow : Window
{ ...  
    List<KeyValuePair<DateTime, double>> valueList = new List<KeyValuePair<DateTime, double>>(); 
... 
```

当用户选择两个日期时间并按下按钮时调用的模块

```
private void refresh_charts(DateTime dtStart, DateTime dtEnd)
{
    valueList.Clear();
    using (ModelFoosContainer mc1 = new ModelFoosContainer())
    {
        var res_mea = (from mea in mc1.MeasureSet where (mea.datetime>= dtStart && mea.datetime <= dtEnd) orderby mea.datetime descending select mea).Take(1000);
        foreach (Measure mea1 in res_mea){
            valueList.Add(new KeyValuePair<DateTime,double>(mea1.datetime, Convert.ToDouble(mea1.depth)));
        }
    }

    profilo_cale_chart.DataContext = valueList;
    //I've tried with this two but doesn't work..
    //profilo_cale_chart.Refresh();
    //this.UpdateLayout();

} 
```

在此之后，图表具有正确的而不是空的 DataContext 但不显示值......任何人都知道我该如何解决它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:33:28.063

尝试为图表系列设置名称：

```
<chartingToolkit:AreaSeries Name="Example" DependentValuePath="Value" IndependentValuePath="Key" IsSelectionEnabled="True" ItemsSource="{Binding}" Foreground="#FF242424" Background="LightSteelBlue" /> 
```

之后，为 AreaSeries 设置 DataContext：

```
Example.DataContext = valueList; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-24T12:07:26.200

尝试从 xaml 更改图表的“可见性”

```
Visibility="Hidden" 
```

至

```
Visibility="Visible" 
```

# javascript - 是否可以在中使用for循环在 HTML 中？如何？我正在尝试在 html 中使用 for 循环，但我什至不知道这是否可能。是吗？如果是的话怎么办？我不想使用 php。只有html和javascript。这是我的目标：我有一个包含 .txt 文件的文件。我想计算 txt 文件的数量，当我得到数字时，我想将它发送到我将使用 for 循环将 txt 文件的数字放入保管箱的地方。感谢 NSGenericException 在尝试从 iOS 中的数组中删除对象时我已经检查了如何解决此问题的示例，但我

> ID：12725265
> 
> 赞同：6
> 
> 时间：2012-10-04T10:27:54.893
> 
> 标签：javascript, html

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-10-04T19:39:33.837

很多答案......这是另一种**不**使用 document.write 或 innerHTML 或 jQuery 的方法......

HTML

```
<select id="foo"></select> 
```

JS

```
(function() { // don't leak
    var elm = document.getElementById('foo'), // get the select
        df = document.createDocumentFragment(); // create a document fragment to hold the options while we create them
    for (var i = 1; i <= 42; i++) { // loop, i like 42.
        var option = document.createElement('option'); // create the option element
        option.value = i; // set the value property
        option.appendChild(document.createTextNode("option #" + i)); // set the textContent in a safe way.
        df.appendChild(option); // append the option to the document fragment
    }
    elm.appendChild(df); // append the document fragment to the DOM. this is the better way rather than setting innerHTML a bunch of times (or even once with a long string)
}()); 
```

这是一个[Fiddle](http://jsfiddle.net/rlemon/5J29g/)来演示它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T10:43:43.520

是的，例如，您可以在 html 正文标记中编写此代码

```
<select>
<script language="javascript" type="text/javascript"> 

for(var d=1;d<=31;d++)
{
    document.write("<option>"+d+"</option>");
}
</script>
</select> 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-04T10:39:33.683

也许你可以玩javascript和innerHTML。尝试这个

HTML

```
<body onload="selectFunction()">
<select id="selectId">

</select> 
```

Javascript

```
function selectFunction(){  
    var x=0;   
    for(x=0;x<5;x++){
    var option = "<option value='" + x + "'>Label " + x + "</option>"
    document.getElementById('selectId').innerHTML += option;   
    } 
} 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-10-04T10:44:00.180

一种方法是使用 DynamicHTML。`options`让html页面有一个of`select`标签的占位符。

```
<select id="selectBox"></select> 
```

在一个 js 文件中

```
var options = ["one","two","three"], selectHtml = "";

for(var optionIndex = 0; optionIndex < options.length; optionIndex++) {

    selectHtml += ("<option>" + options[optionIndex] + "</option>");

}

document.getElementById("selectBox").innerHTML = selectHtml; 
```

将上面的代码放在一个函数中并调用该函数onload。

* * *

## 回答 #5

> 赞同：-2
> 
> 时间：2012-10-04T10:50:57.453

HTML 不是一种编程语言，只是一种标记语言，因此它不包括诸如 for 循环或 if 语句之类的东西。Javascript 确实如此。您可以使用 javascript 生成/操作 HTML，从而使用 for 循环在 <select> 中创建 <option> 标签。作为 javascript 的初创公司，请查看 w3schools.com

不过，我不喜欢使用纯 javascript，我宁愿选择像 jQuery 这样的 javascript 框架来执行此操作。使用 jquery 很容易使用 javascript 对 HTML dom 进行跨平台兼容操作。您只需要在 HTML 中包含一些额外的 javascript 文件即可使其正常工作。见[http://jquery.com/](http://jquery.com/)

使用 jquery 的一个例子是这样的：

```
<select id='myselect'></select>
<script type='text/javascript'>
var values=[[1,'tree'],[2,'flower'],[3,'car']];
for(v in values){
    var option=$('<option></option>');
    option.attr('value',values[v][0]);
    option.text(values[v][1]);
    $('#myselect').append(option);
}
</script> 
```

[您也可以在http://jsfiddle.net/6HUHG/3/](http://jsfiddle.net/6HUHG/3/)上尝试一下

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2012-10-04T10:40:12.980

不，您不能在 HTML 中使用 for 循环。HTML 是一种标记语言，不能使用逻辑代码。但是，您可以根据您的目标使用[javascript来执行您的逻辑。](http://www.w3schools.com/js/js_loop_for.asp)

这是一个使用流行的 javascript 库 jQuery 的示例：

```
for(i=0; i<5; i++){
    $("select").append("<option>" + i + "</option>");
} 
```

见例子：http: [//jsfiddle.net/T4UXw/](http://jsfiddle.net/T4UXw/)

# php - 为什么 PHP 不能区分两个完全相同的字符串？

> ID：12725267
> 
> 赞同：1
> 
> 时间：2012-10-04T10:28:03.730
> 
> 标签：php

我有两个字符串，当它们都输出时`echo`，会产生相同的结果：

```
x+3=7\\\\x+3-3=7-3\\\\\\thereforex=4 
```

是的，它有点像 LaTeX。

但是当我使用：

```
$foo1 == $foo2 
```

PHP 认为它是假的。为什么？我需要做些什么吗？我还没有介绍问题吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T10:32:49.863

您不能完全确定这两个字符串是否与普通 echo 相同，尤其是在通过 Web 浏览器的渲染视图检查输出时。您拥有的工具：

*   [var_dump()](http://php.net/var_dump)
*   [bin2hex()](http://php.net/bin2hex)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T10:31:56.827

您很可能正在处理`whitespace`或`Special Characters`

看

```
$foo1 = 'x+3=7\\\\x+3-3=7-3\\\\\\thereforex=4';
$foo2 = 'x+3=7\\\\x+3-3=7-3\\\\\\thereforex=4';
var_dump($foo1 == $foo2); // returns true 
```

使用`var_dump`你会看到它们之间的真正区别

# ios - 尝试从 iOS 中的数组中删除对象时出现 NSGenericException

> ID：12725268
> 
> 赞同：0
> 
> 时间：2012-10-04T10:28:08.550
> 
> 标签：ios, exception, enumerator

我已经检查了如何解决此问题的示例，但我仍然面临它..

我的代码是

```
NSEnumerator *enu= [obstacles objectEnumerator];
    NSMutableArray *delete = [[NSMutableArray alloc] init];

    Object *obj;
    while ((obj=[enu nextObject])!=nil)
    {

        if ([obj isKindOfClass: [BObject class]] &&  CGPointEqualToPoint(obj.position, point)    ) {
            [view.objects removeObject: obj];
            //[obstacles removeObject: obj]; 
            [delete addObject:obj];
            }
    }

    [obstacles removeObjectsInArray:delete];
    [delete release]; 
```

错误是`*** Terminating app due to uncaught exception 'NSGenericException', reason: '*** Collection <__NSArrayM: 0x6a97ba0> was mutated while being enumerated.'`

`obstacles`更新：如果我的数组中只有一个对象，我的代码就可以工作。它因多个对象而失败..

# objective-c - NSDictionary 不会填满

> ID：12725270
> 
> 赞同：0
> 
> 时间：2012-10-04T10:28:15.817
> 
> 标签：objective-c, ios, core-data, nsdictionary

我有以下一段代码。

```
-(NSDictionary *)getPlayers
{

    NSManagedObjectContext *context = self.genkDatabase.managedObjectContext;

    NSFetchRequest *fetchRequest = [[NSFetchRequest alloc] init];
    NSEntityDescription *entity = [NSEntityDescription entityForName:@"Team"
                                              inManagedObjectContext:context];
    fetchRequest.predicate = [NSPredicate predicateWithFormat:@"position ==[c] %@", @"Doelman"];
    [fetchRequest setEntity:entity];

    NSError *error;
    NSArray *fetchedObjects = [context executeFetchRequest:fetchRequest error:&error];
    if (fetchedObjects == nil) {
        // Handle the error.
    }else

        for (Team *info in fetchedObjects) {

            [_photos setObject:info.image  forKey:@"player_imgUrl"];
            [_photos setObject:info.name forKey:@"player_name"];

        }
    NSLog(@"%@",_photos);
    return _photos; 
```

但出于某种原因，我的 NSLog 总是返回 (null)。但是当我这样做时

```
[_photos setObject:info.image  forKey:@"player_imgUrl"];
            [_photos setObject:info.name forKey:@"player_name"];

            NSLog(@"name: %@",info.name );
            NSLog(@"url: %@",info.image ); 
```

它会返回正确的数据。

有人可以帮忙吗？

亲切的问候。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:35:01.460

您有一个错误，可能与问题没有直接关系。在 for 循环中，您总是为同一个键重置名称和图像。所以在循环结束时，您的字典必须有一个名称和一个图像，而不是数组中的所有名称。你应该改变它

更新：可能是这样的：

```
int count = fetchedObjects.count;

for (int i = 0; i < count; i++)
{
   NSString *image_key = [NSString stringWithFormat:@"player_imgUrl%d",i];
   NSString *name_key =  [NSString stringWithFormat:@"player_name%d",i];

  [_photos setObject:[[fetchedObjects objectAtIndex:i] image]  forKey:image_key];
  [_photos setObject:[[fetchedObjects objectAtIndex:i] name] forKey:name_key];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T10:38:13.300

确保您已使用以下代码行在某处实例化您的 _photos 字典：

```
_photos = [[NSMutableDictionary alloc] init]; 
```

仅仅将其定义为实例变量或属性是不够的。

# hibernate - 登录应用程序中的异常

> ID：12725271
> 
> 赞同：2
> 
> 时间：2012-10-04T10:28:21.280
> 
> 标签：hibernate, exception, struts2, java-6

我是 Struts 和休眠的新手。为了理解它，我尝试做一个登录应用程序。我在 netbeans IDE 7.1.2 中使用 Struts 2、Hibernate 3.2.5、Java 6、Tomcat 6。我遇到了一个例外

**例外**

```
java.lang.reflect.InvocationTargetException

root cause: java.lang.NoClassDefFoundError: Could not initialize class hibernateutilities.HibernateUtil 
```

**服务器日志**

```
Initial SessionFactory creation failed.java.lang.NoSuchMethodError: org.objectweb.asm.ClassWriter 
```

执行时出现此异常

```
SessionFactory sessionFactory = HibernateUtil.getSessionFactory(); 
```

如果有人想要更多详细信息，请指定。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T11:02:34.813

根据我对错误的理解，您的*asm*版本与您的 Hibernate 版本不兼容。

目前很难说出确切匹配的版本，所以我相信我最好的选择是在 maven 的帮助下，让 maven 以正确的方式为我做到这一点，

另一种方法是查看[hibernate-core](http://mvnrepository.com/artifact/org.hibernate/hibernate-core)的依赖项及其版本

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T11:04:10.367

我假设您正在使用 Hibernate 教程中的 HibernateUtil 类？无论如何，请检查您的 Web 应用程序捆绑了哪些版本的 asm，以及是否直接在 Tomcat 中部署了一个 - 可能存在冲突并且加载了不兼容的版本（AFAIR Hibernate 有一些“分离”的 JAR-s解决了这个问题）。

# emacs - Emacs 24 键盘宏运行缓慢

> ID：12725273
> 
> 赞同：6
> 
> 时间：2012-10-04T10:28:27.473
> 
> 标签：emacs, emacs23, emacs24

我注意到键盘宏在 emacs 24 中运行非常缓慢

例如 - 我刚刚尝试运行一个宏以在 105615 行文本文件中的每一行末尾附加一个“0”

```
C-x ( C-e TAB 0 C-n C-a C-x ) 
```

然后

```
C-u 105615 C-x e 
```

大约需要 5 分钟才能完成

我以前从来没有注意到它们运行得这么慢，想知道它是否与从 23 升级到 24 有什么关系？

我能做些什么来提高性能吗？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2012-10-05T07:10:13.787

这个答案当然不会总是适用，但是如果主要模式恰好与所讨论的宏无关，那么提高键盘宏执行速度的一个好方法是首先将缓冲区切换到*基本模式*。在某些情况下可以提供显着的速度提高，因为您消除了主要和次要模式的开销。

如果无法更改主要模式，则在此期间禁用某些次要模式可能仍然会带来显着的好处。

但是，根据接受的答案和评论，如果搜索和替换就足够了，那将永远比任何宏快得多。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-10-04T12:58:16.467

在您的键盘宏中，我看到了两个潜在的缓慢来源：

*   `TAB`：根据主要模式，这可能会执行大量工作，例如找出要使用的缩进。
*   `C-n`：从 Emacs-23 开始，它试图移动到下一个显示行，因此它可能需要比以前更多的工作（它必须考虑显示渲染，以及可变宽度字体、图像等细节。 .)。此外，它对您的使用也不可靠，因为在比显示更长的行上，它`C-n`会移动到下一个显示行但保持在同一逻辑行上，这样后续`c-a`只会移回同一行的开头（因为`C-a`适用于逻辑行，而不是显示行）。当然，这一切都取决于`line-move-visual`和`visual-line-mode`。

对于 TAB，我没有很好的建议，因为我不知道它打算做什么（取决于主要模式），但我会用它来替换`C-n C-a`它`C-f`会更快、更可靠。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2012-10-04T10:52:24.283

是的，你是对的，这该死的慢。

对于此特定任务，您可以使用`replace-regexp`.

```
M-x buffer-disable-undo
M-x replace-regexp $ <ENTER> C-q TAB 0 <ENTER> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T21:34:41.503

我对信息的阅读表明这`(forward-line)`可能是一个更好的替代品，`C-n C-a`因为它忽略了任何视觉换行符（因此可能更有效），并移动到行首（保存`C-a`）。

# php - 从 PHP 框架内重定向网站

> ID：12725274
> 
> 赞同：0
> 
> 时间：2012-10-04T10:28:27.880
> 
> 标签：php, javascript, frame, redirect

我有一个网页，我们称之为 main.php，它显示了足球场的图像和场上分布的一些球员。但是，该页面使用 list.php 作为加载玩家列表的右侧框架。

**发生的情况是**，当用户点击球场上的一名球员 (main.php) 时，假设在守门员 (GK) 的图像上，来自世界各地球队的 GK 列表将加载到右侧列表框架 (list. php）。这是通过使用ajax。

到目前为止，我们很好。

**目前的情况是**，当会话超时并且用户从该字段中单击玩家时，右侧的列表不会加载，而是玩家列表从列表中消失，并显示一条消息“请登录”右侧框架（list.php）

**目标是**，当会话超时时，我希望整个网站重定向到主页 index.php

**问题是**，我已经将重定向代码放在负责显示“请登录”消息的代码之前。但是发生的事情是，重定向发生在框架内，所以我最终让 main.php 显示该字段，而 list.php 显示主页！

这是我添加的代码。

```
$user_id = NSession::get('user_id');
 if (!isset($user_id))
{
        NSession::removeall();         
        General::Redirect('index.php');
} 
```

他们正在使用 Smarty。顺便说一句，我在 main.php 的顶部添加了相同的代码，现在如果用户尝试在不登录的情况下访问 main.php，它会将他重定向到主页，所以代码可以工作！

nb 这个项目不是我的，它属于我工作的公司。而且我不知道哪个代码在检查会话，我所知道的是，如果用户在会话超时后从该字段中单击一个玩家， “请登录”消息将显示在框架中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T10:36:03.843

我猜重定向本质上与使用 header() 函数相同。无法使用 php 重定向指定目标，因为它是服务器端的 - 指定目标是客户端。

您需要在屏幕上打印这样的内容：

```
<script type="text/javascript">window.open('index.php','_parent');</script> 
```

这会将用户重定向到索引。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T10:37:00.320

为这样的目的使用框架是......嗯......所以80ish......

无论如何，框架可能是在这种情况下命名的。这意味着您可以解决它们，但也意味着您必须解决它们。只需在“当前”框架内加载一个 url 就可以做到这一点，这就是为什么你的方法行不通的原因。

如果您真的必须使用基于帧的方法，那么您将不得不使用 javascript 来处理所有已知的帧并重定向它们。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T10:40:26.673

也许您可以在框架内使用一些 javascript，如下所示：

```
<script type="text/javascript">

    window.top.location = 'YourPage.html';

</script> 
```

希望这可以帮助

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-04-29T04:00:59.547

问题是会话在我使用 main.php 时过期。因此，任何后续的 Ajax 请求都将失败，因为所有请求都需要会话处于活动状态。

问题是从 IFrame 发送的 Ajax 请求（IFrame 在 main.php 中并通过 Ajax 调用指向 list.php）由于会话到期而失败。

所以我通过添加另外两个会话检查来解决这个问题，一个在 main.php 上，使用 PHP 的 list.php （检查会话，如果它在那里，重定向）。在主容器main.php中，我通过JS检查会话，间隔Ajax请求检查会话，如果会话已经结束，则使用JS重定向。

PHP：

```
 $user_id = NSession::get('user_id');
if (isset($_POST["checklogin"]))//check loging
{
    die(isset($user_id) ? "true" : "false");
}
if (!isset($user_id) || $user_id == "")
{
   NSession::removeall();
   General::Redirect('login.php');
} 
```

JavaScript：

```
jQuery(document).ready(function($) {

    $(window).focus(function() {
        checkSession();
    });
});

function checkSession()
{
    $.ajax({
        type: "POST",
        data: {"checklogin": "cl"},
        url: "list_players.php",
        success: function(result) {
            if (result === "false")
            {
                if (FIELD.showMessage === false)
                {
                    FIELD.showMessage = true;
                    alert("Your session has been closed\nYou will be redirected to login page now. ");
                    window.location.href = ("login.php");//incase user clicks OK                   
                }
            }
        }
    });
} 
```

# java - javaagent在Android中的使用

> ID：12725279
> 
> 赞同：5
> 
> 时间：2012-10-04T10:28:56.030
> 
> 标签：java, android, jvm-arguments, design-by-contract

我最近对 ​​DBC 方法很感兴趣。由于 Java 是我的“本机”语言，我查看了[cofoja](http://code.google.com/p/cofoja/)和最近[的 java-on-contracts](http://code.google.com/p/java-on-contracts/)。我主要是开发安卓软件，所以我自然希望能在我的手机上使用合约。

这两个项目都需要使用类似的东西

```
java -javaagent:path/to/cofoja-<version>.jar <someclass> 
```

作为 JVM 参数。是否可以使用此 JVM 参数在手机上启动 apk？dalvik 甚至支持这种参数吗？

我怎么能传递这个参数来启动应用程序？我不知道如何开始。也许通过蚂蚁脚本？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T11:04:17.830

在 android 上最接近 javaagent 的是仪器：

[http://developer.android.com/reference/android/app/Instrumentation.html](http://developer.android.com/reference/android/app/Instrumentation.html)

但我怀疑 cofoja 是否会开箱即用地支持这一点。我认为有可能实现这一点，但不确定这样的项目是否已经开始

这是大致按照您想要的方向进行的项目：

[http://code.google.com/p/droidbox/](http://code.google.com/p/droidbox/)

# ruby - NoMethodError：未定义的方法“命中”

> ID：12725280
> 
> 赞同：-1
> 
> 时间：2012-10-04T10:28:58.100
> 
> 标签：ruby, nomethoderror

我正在尝试进行二十一点模拟，下面是代码...

```
one_suit = [2,3,4,5,6,7,8,9,10,10,10,10,11]; #the value of the cards for blackjack
full_deck = one_suit*4; #clubs, diamonds, hearts and spades
$deck = full_deck; #start off the game with a full deck

class Player
  attr_accessor :ace_count
  attr_accessor :hand_value

  def initialize(ace_count,hand_value)
    @ace_count  = ace_count;
    @hand_value = hand_value;
  end

  def self.hit
    choice_of_card = rand($deck.length); #choose a random card out of the deck
    drawn_card = $deck[choice_of_card]; #draw that random card from the deck
    if drawn_card != 0 #if there is a card there 
     $deck[choice_of_card] = 0; #remove that card from the deck by making the space blank
     if drawn_card == 11 #if you draw an ace
      self.ace_count += 1;
     end 
     self.hand_value += drawn_card ;
    else hit; #if there is no card at that space then redraw (recursion)
    end
  end

end

player1 = Player.new(0,0);
player1.hit; 
```

但是，当我运行它时，我得到以下输出：

> NoMethodError：C:\Users\Ernst\Documents\JRuby\blackjack.rb:30 的#（根）的未定义方法“命中”

我究竟做错了什么？该方法在类中定义。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T10:30:23.140

hit 是一个类方法。

你怎么能用一个对象来调用它？

当你编写**self** .method 时，它被定义为一个类方法。

只写一个对象或实例方法

使用`def method`..`end`

在你的情况下

```
def hit
## remove `self` identifier from the attributes.
## e.g. ace_count += 1;
end 
```

如果要调用类方法，可以使用

`Player.hit`而**不是** `player_obj.hit`

但我想你需要调用对象/实例方法，你可以通过删除`self` 标识符来做到这一点。

# android - 在 Android 上打开/关闭屏幕时自动切换 2G/3G

> ID：12725296
> 
> 赞同：0
> 
> 时间：2012-10-04T10:29:41.477
> 
> 标签：android, android-networking, telephonymanager

我想写一个安卓应用。当屏幕关闭时，这个应用程序应该为移动数据设置仅 2G。当屏幕打开时，它应该设置为移动数据（2G / 3G）。

为此，我应该以编程方式更改移动数据类型。我怎样才能做到这一点 ？

我检查了网络类型，得到了正确的结果。

这个 rom 可以做到，但我想知道如何做到这一点：http: [//www.gregsbits.com/2012/04/saving-your-battery-through-aokp-rom.html](http://www.gregsbits.com/2012/04/saving-your-battery-through-aokp-rom.html)

onCreate()

```
TelephonyManager manager = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);
        ConnectivityManager cm = (ConnectivityManager)getSystemService(Context.CONNECTIVITY_SERVICE);

        if(manager.getNetworkType()==TelephonyManager.NETWORK_TYPE_EDGE){
            tx.setText("Edge"); 

            int enabled = Settings.Secure.getInt(getContentResolver(),
                    "preferred_network_mode", -1);
            Log.d("MYAPP", "2G only enabled: " + enabled);

        }
        else{
            tx.setText("3G");
            cm.setNetworkPreference(TelephonyManager.NETWORK_TYPE_EDGE); //I'm trying
            cm.startUsingNetworkFeature(TelephonyManager.NETWORK_TYPE_EDGE, "Deneme"); //I'm trying

        } 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-08-11T13:51:09.210

从 Android 5.0 Lollipop 开始，谷歌禁用了第三方对 2G/3G/LTE 切换设置的访问。

因此，如果没有 Rooting 运行 OS android 5.0 及更高版本的设备，您所说的任何要求都可能无法实现！

# java - 如何扩展 Hibernate Readers？

> ID：12725301
> 
> 赞同：1
> 
> 时间：2012-10-04T10:30:02.890
> 
> 标签：java, multithreading, spring-batch

我正在尝试扩展一个相当简单的 Springbatch tasklet。情况如下：

*   HibernatePagingItemReader
*   自定义处理器：根据来自 HibernatePagingItemReader 的数据执行 Web 服务查询
*   自定义作家

瓶颈是我的处理器，因为 web 服务查询很慢，而且很容易并行化。

我在我的 tasklet 上添加了一个任务执行器（org.springframework.scheduling.concurrent.ThreadPoolTask​​Executor），但它并没有线性扩展：超过 5 个线程，总执行时间是相同的。

Spring 文档说读者不是现成的可扩展的，但我的需求要简单得多。读取器获取的每条记录都是独立的，因此我可以并行执行读取器。

我的问题是：

*   如何在多线程上下文中执行读取器？它们是并行化的，还是将数据分发给并行化的读者？
*   如果读者是并行的，我会认为我应该有更少量的记录（设置 maxItemCount）来将这些记录分发给处理器

还有其他想法可以扩大规模吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T11:56:29.843

通常，任何类型的批处理库都会定义用于执行并行工作的线程池的上限。从你的描述看，好像你达到了上限。尝试增加它。

# ios - UINavigationBar 隐藏动画干扰 UIScrollView contentOffset 动画

> ID：12725303
> 
> 赞同：2
> 
> 时间：2012-10-04T10:30:13.473
> 
> 标签：ios, animation, uinavigationcontroller

在 iPhone 布局中，我隐藏了 UINavigationBar，同时我希望它下面的 UIScrollView 的内容保持在同一个位置（在将导航栏高度设置为零时进行负滚动）：

```
[UIView animateWithDuration:0.3 animations:^{
     CGFloat navBarHeight = CGRectGetHeight(weakSelf.navigationController.navigationBar.frame);
     [[weakSelf navigationController] setNavigationBarHidden:YES animated:NO];
     weakSelf.scrollView.bounds = CGRectOffset(weakSelf.scrollView.bounds, 0, -navBarHeight);
}]; 
```

动画的最终结果是好的 - 但是在动画期间，滚动视图会跳转到它的新位置（ - 导航栏高度）并保持在那里直到结束。

这两个属性动画是否相互干扰？

# iphone - 如何通过自定义 URL 启动 iOS 应用程序并允许在未安装的情况下打开网页？

> ID：12725304
> 
> 赞同：0
> 
> 时间：2012-10-04T10:30:13.020
> 
> 标签：iphone, cocoa-touch, url

我希望能够通过电子邮件向我的 iOS 应用程序内发生的特定“事件”发送邀请。所以我想我需要使用自定义 URL。没关系。

但我也希望能够处理尚未安装应用程序的用户，将其带到移动 Safari 和带有应用程序安装说明的网页。

最好的方法是什么？我可以尝试以下方法：

1.  在电子邮件中，我发送了指向[http://www.example.com/joinevent/?id=foo的链接](http://www.example.com/joinevent/?id=foo)
2.  用户被带到发送重定向到的 Safari 网页`mycustomscheme://joinevent/?id=foo`
3.  如果用户没有安装该应用程序，则此重定向将不起作用并且他留在 Safari 中 - 然后我可以处理安装说明的显示。

但这种方法对我来说似乎并不“自然”。有没有更好/更本土的方式来做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-07-16T04:22:33.517

试试[http://rdrct.it](http://rdrct.it)

它是一种 Web 服务，可让您非常轻松地实现此功能。

**完全披露 - 我创建了 rdrct.it**

这是基础知识：

1.  登录到该站点，为您的特定应用程序创建一个项目。选择一个唯一的代码（这可能是您的应用程序的名称）。

2.  然后，您将获得以下形式的 URL：[http ://rdrct.it/uniqueCode](http://rdrct.it/uniqueCode)

3.  完成后，您需要在应用商店中注册应用的 ID，以及有关自定义 URL 方案的详细信息。勾选“自动重定向” - 然后它会尝试打开应用程序，如果失败，它会自动将用户发送到应用程序商店。

4.  如果应用程序已打开，则查询字符串也将传递给应用程序，因此在您的示例中，设备将被服务：**mycustomscheme://joinevent/?id=foo**

它还适用于多种设备类型，因此如果您有适用于 Blackberry、Android 或 Windows Phone 的应用程序，那么它也会对那些取决于用户使用的设备类型的应用程序执行相同的操作。

就像我说的，我创建了它，但它应该可以解决您的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-12T08:43:52.620

如果您使用 Distimo 来跟踪您的应用程序分析，它们会提供一个指向您的应用程序的短链接，该链接也可用于跟踪转化。它根据用于访问的设备显示自定义页面。如果您在 AppStore、Google Play、Amazon 等中发布了相同的应用程序，这将特别方便。

# iphone - 使用 gamekit 将图像发送到另一部 iPhone

> ID：12725305
> 
> 赞同：1
> 
> 时间：2012-10-04T10:30:13.927
> 
> 标签：iphone, image, ipad, gamekit

我用谷歌搜索了所有东西，但无法得到预期的东西，因为我想使用 gamekit 将图像发送到另一部 iphone 或 ipad，所以我开始使用的任何示例代码将不胜感激。

谢谢内哈

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-09T06:23:10.680

您可以使用 using`[[GCHelper sharedInstance].match sendDataToAllPlayers:data withDataMode:GKMatchSendDataUnreliable error:&error];`方法将图像发送到另一部 iPhone。

为此，您必须先将 UIImage 转换为 NSData，然后使用`GKMatchSendDataUnreliable`此模式将图像发送到另一部 iPhone。

GKMatchSendDataUnreliable 用于向另一台设备发送大量数据。

```
BOOL success = [match sendDataToAllPlayers:data withDataMode:GKMatchSendDataUnreliable error:&error];

            if (!success) {
                CCLOG(@"Error sending init packet");

            } 
```

# joomla - joomla自定义模块中的分页类

> ID：12725306
> 
> 赞同：3
> 
> 时间：2012-10-04T10:30:14.563
> 
> 标签：joomla

我正在 joomla 中开发一个自定义搜索模块。所以我正在使用 joomla 的内置数据库连接和功能。

问题是我想在这个模块中使用分页类但不知道任何提示。

请帮助我。

谢谢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-06T05:46:11.033

第 1 步：获取数据库中的项目总数

```
ex: select count(*) from #__some_table where .... 
```

第二步：导入joomla分页并创建分页对象

```
jimport('joomla.html.pagination');
$pagination = new JPagination($total, $limitstart, $limit); 
```

其中
$total = 您在步骤 1 中计算的项目总数
$limit = 要在页面上显示的项目总数 $limitstart = 页面中第一个项目的索引。例如，如果您每页有 20 个项目，0 是第一页的起始索引，20 是第二页的起始索引，依此类推。

第 3 步：在页面上显示分页

```
echo $pagination->getPagesLinks();
echo $pagination->getPagesCounter(); 
```

# php - 如何在magento中向多个用户发送电子邮件

> ID：12725307
> 
> 赞同：4
> 
> 时间：2012-10-04T10:30:15.303
> 
> 标签：php, email, magento

这是我的代码，当我将其发送给一个收件人时，它工作正常，即，如果我使用`'rec1@gmail.com'`（单个电子邮件）它工作正常。但是，我也想包含第二个电子邮件 ID`rec2@gmail.com`并编写如下代码：`'rec1@gmail.com,rec2@gmail.com'`但这不起作用。

让我知道如何实现此功能？

```
$templateId = 1;
$sender = array(
    'name' => 'swapnesh',
    'email' => 'sender@gmail.com'
);
$store = Mage::app()->getStore();
$vars = array(
    'my_var' => 15,
    'another_var' => 12
);
$translate = Mage::getSingleton('core/translate');

// Send your email
Mage::getModel('core/email_template')->sendTransactional(
    $templateId,
    $sender,
    'rec1@gmail.com,rec2@gmail.com',
    'Recipient Name',
    $vars,
    $store->getId()
);
$translate->setTranslateInline(true); 
```

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-10-04T10:53:02.673

答案在`Mage_Core_Model_Email_Template::send()`

您可以看到，`$email`并且`$names`参数可以是两个数组。所以在你的情况下，如果将是：

```
$recipients = [
    'rec1@gmail.com' => 'Recipient1 Name',
    'rec2@gmail.com' => 'Recipient2 Name'
];

Mage::getModel('core/email_template')->sendTransactional(
    $templateId,
    $sender,
    array_keys($recipients),
    array_values($recipients),
    $vars,
    $store->getId()
); 
```

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-08-29T08:50:32.230

要在联系我们 Magento 中向多个收件人发送电子邮件，您可以通过这种方式进行托盘发送。

第一步，你可以在 app/code/core/Mage/Contacts/Controllers/IndexController.php 找到这一行

```
$mailTemplate = Mage::getModel('core/email_template');
            /* @var $mailTemplate Mage_Core_Model_Email_Template */
            $mailTemplate->setDesignConfig(array('area' => 'frontend'))
                ->setReplyTo($post['email'])
                ->sendTransactional(
                    Mage::getStoreConfig(self::XML_PATH_EMAIL_TEMPLATE),
                    Mage::getStoreConfig(self::XML_PATH_EMAIL_SENDER),
                    Mage::getStoreConfig(self::XML_PATH_EMAIL_RECIPIENT),
                    null,
                    array('data' => $postObject)
                ); 
```

并修改为：

```
 $recipients = Mage::getStoreConfig(self::XML_PATH_EMAIL_RECIPIENT);
                if ($recipients)
                {
                        $recipients = explode(";",$recipients);
                        if(count($recipients))
                        {
            foreach($recipients as $recipient) {

            $mailTemplate = Mage::getModel('core/email_template');
            /* @var $mailTemplate Mage_Core_Model_Email_Template */
            $mailTemplate->setDesignConfig(array('area' => 'frontend'))
                ->setReplyTo($post['email'])
                ->sendTransactional(
                    Mage::getStoreConfig(self::XML_PATH_EMAIL_TEMPLATE),
                    Mage::getStoreConfig(self::XML_PATH_EMAIL_SENDER),
                    $recipient,
                    null,
                    array('data' => $postObject)
                );

                if (!$mailTemplate->getSentSuccess()) {
                throw new Exception();
                }
         }
     }
} 
```

并且不要忘记在 app/code/core/Mage/Contacts/etc/system.xml 上评论验证 javascript

找到这一行：

```
<recipient_email translate="label">
    <label>Send Emails To</label>
    <frontend_type>text</frontend_type>
<!--<validate>validate-email</validate>-->
    <sort_order>10</sort_order>
    <show_in_default>1</show_in_default>
    <show_in_website>1</show_in_website>
    <show_in_store>1</show_in_store>
</recipient_email> 
```

对此行发表评论`<validate>validate-email</validate>`

此代码适用于 magento 1.7.0.2 中的我。我希望这对您的问题有所帮助.. :D

不要忘记保存和清除缓存..

# ruby-on-rails - button_tag 不发送提交

> ID：12725310
> 
> 赞同：0
> 
> 时间：2012-10-04T10:30:27.703
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, ruby-on-rails-3.2, form-for

我需要在表单上使用`button_tag`来`submit_tag`添加样式为[http://twitter.github.com/bootstrap/base-css.html#buttons](http://twitter.github.com/bootstrap/base-css.html#buttons)的图标。

```
<%= simple_form_for(bla..........bla......)) do  %>
 <%= button_tag t('.sent_to_trash'), :class => "btn btn-small btn-primary disabled", :id => "trash_button", do %>
   <i class="icon-trash icon-white"></i>
   <%= t('.sent_to_trash') %>
 <% end %>
<% end %> 
```

**问题是我无法接收`params[:commit]`with `button_tag`，但是 with`submit_tag`工作正常并且我`params[:commit]`在我的动作控制器上正确接收。**

我该如何解决这个问题？

非常感谢你！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T10:53:05.183

Html 元素`button`与`:name`和`:value`参数一起使用，因此您必须明确定义这些，例如

```
= button_tag(:name => "commit", :value => "my_button") do
  = "Press me!" 
```

然后你`params[:commit] = "my_button"`在表单提交后得到。

**注意：**你也应该指定`:type`属性，因为不同的浏览器对`<button>`元素使用不同的默认类型 ( `:type => "submit"`)

# windows - 在 Windows 命令行中更改文件夹权限？

> ID：12725322
> 
> 赞同：7
> 
> 时间：2012-10-04T10:31:06.050
> 
> 标签：windows, cmd

> **可能重复：**
> [如何在 Windows 中使用命令行向用户授予目录权限？](https://stackoverflow.com/questions/2928738/how-to-grant-permission-to-users-for-a-directory-using-command-line-in-windows)

我想授予系统的所有用户对文件夹的读取、写入和修改权限。我认为会有一个我用来执行此操作的命令行，但如果没有任何东西并且我必须为其编写代码，请帮助我。

主要问题是我想将这些权限授予所有用户，通常我不关心用户名，我想放“*”而不是用户名，以便为所有用户应用新权限。

任何的想法？谢谢。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-10-04T10:45:23.440

有**一个**命令行 - [CACLS](http://technet.microsoft.com/en-us/library/bb490872.aspx)。

例如，要将具有“完全控制”的“所有人”添加到`c:\temp\test`您将使用的文件夹中：

```
REM /t means "apply change recursively"
REM /e means "edit existing DACL". 
REM     Omitting this will overwrite the existing DACL.
cacls c:\temp\Test /t /e /g Everyone:f 
```

# actionscript-3 - Flash builder mobile, Itemrenderer as form？

> ID：12725328
> 
> 赞同：0
> 
> 时间：2012-10-04T10:31:23.680
> 
> 标签：actionscript-3, flash-builder

我有一个 FlashBuilder 移动应用程序，我在其中获取数据源并使用 itemrenderer 在列表中呈现各种控件，因为这是一个输入表单，当输入了各种值（文本和复选框值）后，我想检索这些值并将它们存储在本地 SQLite 中，以便稍后同步到远程数据库。

所以每一行都包含一个标签、一个复选框和一个文本框。

我的问题是如何遍历列表并检索值？

我想我的另一个问题是我做错了吗？

重视所有评论

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T15:27:13.157

在实践中，一种策略是创建复杂的数据类型，例如：

```
public class MyType {
    public var name:String;  // use getter/setter would be even better
    public var checkedIn:Boolean;
    public var comment:String; 
} 
```

并将这种类型的列表绑定到列表，然后为您的 itemRenderer 提供一个复杂类型来绑定。然后，您的 itemRenderer 可以在更新复选框或文本输入时相应地更新 MyType 中的属性。

通过这样做，您不必遍历列表来检索值。

然而，在移动控制中，在列表中输入可能是一种昂贵的实现选择。

# jquery - jQuery 对话框 - 将表返回到方法背后的代码

> ID：12725330
> 
> 赞同：0
> 
> 时间：2012-10-04T10:31:38.323
> 
> 标签：jquery, asp.net, jquery-ui

我有一个 jQuery 对话框，其中包含 html 表。当我单击对话框的确定​​按钮时，我需要将此表传递给代码后面的方法。这是我尝试过的：

```
$("#custom-modal").dialog({
            height: 200,
            modal: true,
            buttons: { "OK": function () {
                var table1 = $("#customTable").val();
                $.ajax({
                    type: "POST",
                    url: "MyPage.aspx/BindCustom",
                    data: ({ param1: table1 }),
                    error: function (XMLHttpRequest, textStatus, errorThrown) {
                        alert(textStatus);
                    },
                    success: function (result) {
                        alert("success");
                    }
                });

                $(this).dialog("close");
                return true;
            }, "Cancel": function () {
                $(this).dialog("close");
                return false;
            }
            }

        }); 
```

BindCustom 是背后代码的 webmethod。但它甚至没有被调用。请帮忙...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:36:47.150

问题之一是您需要替换 $("#customTable").val(); 与 $("#customTable").html(); 您可以使用 chrome 检查器查看是否有从您的页面到服务器的请求，或者是否来自“网络”选项卡

# html - 如何将“必需”语句分配给 HTML 表单中的提交按钮之一？

> ID：12725334
> 
> 赞同：0
> 
> 时间：2012-10-04T10:31:53.843
> 
> 标签：html, forms, button, input, submit

我有一个带有两个提交输入的 HTML 表单。其中一个重置申请表，另一个进入下一个级别：

```
<form method="POST" action="#">
<input type="text" name="username" value="" required aria-required="true">
<input type="submit" name="info" value="Next Step">
<input type="submit" name="info" value="Reset">
</form> 
```

现在我使用了“必需”标签，除非他们填写了用户名字段，否则不允许用户继续操作。

有什么办法可以排除重置按钮，因为重置按钮不需要任何验证。

我能想到的一种解决方案是将重置按钮放在表单之外，但是我在对齐按钮时会遇到一些问题，因为我希望两个按钮都在一行中，并且如果其中一个在 DIV 标签内一个表格，而另一个表格在表格之外，它们永远不会排成一行（我尝试了很多，它不起作用！）。

我想知道是否有任何其他方法或解决方法来处理这个......

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T11:40:30.090

使用 a `<button type="reset">`，它不会验证。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T11:42:45.990

采用`<input type="reset" name="info" value="Reset">`

这不会提交表单。你可以对`input type="submit"`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T11:47:23.013

在我看来，您的两个按钮都包含在提交类型下，无论如何都会在您的表单上提交。因此，您可以简单地将重置按钮类型用作

```
 <input type="reset" name="info" value="Reset"> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T11:54:29.237

使用`formnovalidate`属性：

```
<input type="submit" name="info" value="Reset" formnovalidate> 
```

浏览器支持有限，但可能与`required`属性大致相同。

注意：值（按钮文本）“重置”可能会产生误导，因为它暗示该按钮是所谓的重置按钮，它会永久破坏表单中输入的任何数据，但不会引起任何服务器交互。此类按钮（几乎不应该使用，但通常使用）通常标有“重置”。

# php - 从 2 个连续查询（PHP、SQL）中获取结果

> ID：12725337
> 
> 赞同：1
> 
> 时间：2012-10-04T10:32:00.007
> 
> 标签：php, sql, arrays

我需要同时从 2 个单独的表中返回数据。我需要从第二个表中获取的信息取决于从第一个表返回的信息。这就是我正在使用的..

```
$query = "SELECT * FROM pending WHERE paymentid = '".$_GET['vnum']."'";

$result = mysql_query($query);
$num = @mysql_num_rows($result);

$linkid = $res['paymentid'];

if ($num==0) {
echo "Hello, ".$_SESSION['Fname']."<br />There was an error, I cannot find this payment in the records.";
} else {

$picquery = mysql_query("SELECT * FROM _uploads_log WHERE linkid = '".$linkid."'");
$numb = @mysql_num_rows($picquery);
if ($numb==0) {
echo "there is no picture"; }
else {
echo "<img src=\"".$res['log_filename']."\" width=\"100\">"; } 
```

我不明白如何将结果作为数组返回，如果 $res[] 返回第一个查询的结果，那么返回第二个查询的结果是什么？

还是有更好的方法来完全做到这一点？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T13:05:23.387

您需要进行连接，但为了即使没有图片（我认为这就是您将其拆分的原因）仍能从您的第一个查询中获得结果，您需要左连接。

select * from pending left join _uploads_log on pending.paymentID=$_GET['vnum'] and _uploads_log.linkid = pending.paymentID

（注意：为了便于阅读，删除了 php 标记 - 您必须重新添加它们）

这应该（未经测试，因为我没有你的表）为你的 vnum 变量返回整行，如果有的话，还包括图片数据。

# android - 数据库字符串选择

> ID：12725338
> 
> 赞同：-1
> 
> 时间：2012-10-04T10:32:01.430
> 
> 标签：android, android-sqlite

我已将名称传递给我的数据库，我想通过它提取该名称的详细信息。我正在尝试这样做。我该如何解决？“名称”是点击的名称。我想用这个参数来查询数据库并获取这个名字的相关信息。

```
public String getName(String name) {
    // TODO Auto-generated method stub
            String namereturned = "";
    String[] columns = new String[] { KEY_ROWID, KEY_NAME,
            KEY_PERSONALPHONE, KEY_HOMEPHONE, KEY_OFFICEPHONE };
    Cursor c = ourDatabase.query(DATABASE_TABLE, columns, KEY_NAME + "="
            + name +"'", null, null, null, null);
    if (c != null) {
        c.moveToFirst();
            return  namereturned = c.getString(1);

    }
    return null;
} 
```

日志猫

```
10-04 15:15:05.954: E/AndroidRuntime(760): FATAL EXCEPTION: main
10-04 15:15:05.954: E/AndroidRuntime(760): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.contactlist/com.example.contactlist.ViewContact}: android.database.sqlite.SQLiteException: unrecognized token: "'" (code 1): , while compiling: SELECT _id, Name, Personalnumber, Homenumber, Officenumber FROM ContactList WHERE Name=nishanth'
10-04 15:15:05.954: E/AndroidRuntime(760):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2059)
10-04 15:15:05.954: E/AndroidRuntime(760):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)
10-04 15:15:05.954: E/AndroidRuntime(760):  at android.app.ActivityThread.access$600(ActivityThread.java:130)
10-04 15:15:05.954: E/AndroidRuntime(760):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)
10-04 15:15:05.954: E/AndroidRuntime(760):  at android.os.Handler.dispatchMessage(Handler.java:99)
10-04 15:15:05.954: E/AndroidRuntime(760):  at android.os.Looper.loop(Looper.java:137)
10-04 15:15:05.954: E/AndroidRuntime(760):  at android.app.ActivityThread.main(ActivityThread.java:4745)
10-04 15:15:05.954: E/AndroidRuntime(760):  at java.lang.reflect.Method.invokeNative(Native Method)
10-04 15:15:05.954: E/AndroidRuntime(760):  at java.lang.reflect.Method.invoke(Method.java:511)
10-04 15:15:05.954: E/AndroidRuntime(760):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
10-04 15:15:05.954: E/AndroidRuntime(760):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
10-04 15:15:05.954: E/AndroidRuntime(760):  at dalvik.system.NativeStart.main(Native Method)
10-04 15:15:05.954: E/AndroidRuntime(760): Caused by: android.database.sqlite.SQLiteException: unrecognized token: "'" (code 1): , while compiling: SELECT _id, Name, Personalnumber, Homenumber, Officenumber FROM ContactList WHERE Name=nishanth'
10-04 15:15:05.954: E/AndroidRuntime(760):  at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)
10-04 15:15:05.954: E/AndroidRuntime(760):  at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:882)
10-04 15:15:05.954: E/AndroidRuntime(760):  at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:493)
10-04 15:15:05.954: E/AndroidRuntime(760):  at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:588)
10-04 15:15:05.954: E/AndroidRuntime(760):  at android.database.sqlite.SQLiteProgram.<init>(SQLiteProgram.java:58)
10-04 15:15:05.954: E/AndroidRuntime(760):  at android.database.sqlite.SQLiteQuery.<init>(SQLiteQuery.java:37)
10-04 15:15:05.954: E/AndroidRuntime(760):  at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:44)
10-04 15:15:05.954: E/AndroidRuntime(760):  at android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1314)
10-04 15:15:05.954: E/AndroidRuntime(760):  at android.database.sqlite.SQLiteDatabase.queryWithFactory(SQLiteDatabase.java:1161)
10-04 15:15:05.954: E/AndroidRuntime(760):  at android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1032)
10-04 15:15:05.954: E/AndroidRuntime(760):  at android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1200)
10-04 15:15:05.954: E/AndroidRuntime(760):  at com.example.contactlist.DBContact.getName(DBContact.java:138)
10-04 15:15:05.954: E/AndroidRuntime(760):  at com.example.contactlist.ViewContact.onCreate(ViewContact.java:31)
10-04 15:15:05.954: E/AndroidRuntime(760):  at android.app.Activity.performCreate(Activity.java:5008)
10-04 15:15:05.954: E/AndroidRuntime(760):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1079)
10-04 15:15:05.954: E/AndroidRuntime(760):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2023)
10-04 15:15:05.954: E/AndroidRuntime(760):  ... 11 more 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-04T10:33:50.850

尝试将查询更改为

```
 Cursor c = ourDatabase.query(DATABASE_TABLE, columns, KEY_NAME + "='"
            + name +"'", null, null, null, null); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T10:35:57.603

见行：

```
Caused by: android.database.sqlite.SQLiteException: no such column: nishanth (code 1): , while compiling: SELECT _id, Name, Personalnumber, Homenumber, Officenumber FROM ContactList WHERE Name=nishanth 
```

这意味着表中不存在这些列中的一个或多个。您可能在数据库表或查询中拼写错误。检查这些。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T14:29:15.813

根据您的堆栈跟踪，您正在运行的查询是；

```
SELECT _id, Name, Personalnumber, Homenumber, Officenumber 
FROM ContactList 
WHERE Name = nishanth 
```

正如 Rajeev 所说，例如，需要在 where 语句周围添加单引号（甚至双引号）。

```
SELECT _id, Name, Personalnumber, Homenumber, Officenumber 
FROM ContactList 
WHERE Name = 'nishanth' 
```

或者

```
SELECT _id, Name, Personalnumber, Homenumber, Officenumber 
FROM ContactList 
WHERE Name = "nishanth" 
```

我直接在我的 SQLite 数据库上运行了一个类似的查询（请参阅[http://www.vogella.com/articles/AndroidSQLite/article.html](http://www.vogella.com/articles/AndroidSQLite/article.html)部分“9\. 直接访问 SQLite 数据库”并且不要忘记捐赠 ;-)）和它返回了单引号和双引号的结果。

如果引号被删除，则会生成与您相​​同的错误消息，即。

> 错误：没有这样的列：ABC123

其中 ABC123 被用作约束。

恕我直言。如果您在 Eclipse 或您使用的任何 IDE 或编程语言之外针对数据库测试您的 SQL，至少您知道您的 SQL 语法是正确的。通过调用代码重新确定问题。

当您使用“=”时，这是非常具体的，如果文本大小写发生变化，则将不匹配，例如。"nishanth" 和="Nishanth" 完全不同。

这是一个陷阱…………

在将数据插入数据库之前，我更喜欢将用户输入更改为大写（“NISHANTH”）或小写（“nishanth”）。这样，如果您从数据库中检索值并随后将其用作您知道它会匹配的约束条件。

如果您想真正花哨，请创建一个类来解析字符串值，例如，在插入数据库之前将句子大小写为大写，并在屏​​幕上显示值时执行相反的操作。

相信这个解释有点用。祝你好运。

# matlab - 如何在具有 2 台计算机的本地网络中的 matlab 中设置并行计算？

> ID：12725340
> 
> 赞同：2
> 
> 时间：2012-10-04T10:32:13.463
> 
> 标签：matlab, parallel-processing, toolbox

我在两台运行 Matlab 的计算机（Macbook Pro i5 和 Macbook Pro i7）上安装了 Matlab 并行计算工具箱。对于论文项目，我们必须进行模拟拍摄，为此我需要大量的计算机能力。我知道使用 parfor 的 matlabpool 选项可以在我的本地计算机上使用两个内核。有没有办法通过以太网电缆或集线器直接连接两台 macbook 并配置一个小型本地网络，以便我可以同时使用四个核心？如何设置？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T13:05:27.543

如果您还获得了 Matlab 分布式计算服务器软件，您只能执行此操作。Parallel Computing Toolbox 仅在单个多 CPU/多核计算机上提供并行计算。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T13:10:18.803

在 Mathworks 的文件交换中，[Markus Buehren](http://www.mathworks.com/matlabcentral/fileexchange/authors/26973)提供了一个名为[Multicore - Parallel processing on multiple cores](http://www.mathworks.com/matlabcentral/fileexchange/13775-multicore-parallel-processing-on-multiple-cores)的包，它

> ... 在单台机器**或多台可以访问公共目录的机器上**提供多核并行处理。

要运行这个包，不需要 Matlab 工具箱。

该软件包在[http://tech.groups.yahoo.com/group/multicore_for_matlab/](http://tech.groups.yahoo.com/group/multicore_for_matlab/)进行了讨论（我猜 Markus 也在那里提供用户支持）。

# gwt - 文件不从浏览器缓存加载过期和缓存控制

> ID：12725344
> 
> 赞同：0
> 
> 时间：2012-10-04T10:32:18.213
> 
> 标签：gwt, apache2, browser-cache, mod-expires, mod-headers

我正在开发一个 gwt 项目，我使用 apache2、mod_proxy、mod_expires 和 mod_headers 设置代理来管理负载平衡和缓存。

所有资源，除了一个 XXX.cache.html 都很好。使用 Firefox/Firebug 或 chrome/developer Tools，我可以看到它是唯一不是“来自缓存”的文件。这是最大的文件

html 文件（由 gwt 编译器生成）不包含带有缓存参数的元数据。

我看不出有什么问题：

要求：

```
HeadersPreviewResponseCookiesTiming
Request URL:https://myproject.visionobjects.com//com.visionobjects.myscript.myProject/75797371ADDF8643260E34AC670CE051.cache.html
Request Method:GET
Status Code:200 OK
Request Headersview source
Accept:text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Charset:ISO-8859-1,utf-8;q=0.7,*;q=0.3
Accept-Encoding:gzip,deflate,sdch
Accept-Language:fr-FR,fr;q=0.8,en-US;q=0.6,en;q=0.4
Cache-Control:max-age=0
Connection:keep-alive
Cookie:__utma=215925392.462910615.1307714119.1324051842.1332755699.3; MYSCRIPTWSSESSONID=myproject-node1ali0jv5kfn371vbphmbhekcx9.myproject-node1; __utma=255591828.1472483096.1335971537.1348212480.1349343132.10; __utmb=255591828.15.10.1349343132; __utmc=255591828; __utmz=255591828.1335971537.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none)
Host:myproject.visionobjects.com
Pragma:no-cache
User-Agent:Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.13 (KHTML, like Gecko) Chrome/24.0.1284.2 Safari/537.13 
```

回复：

```
Accept-Ranges:bytes
Cache-Control:max-age=31536000, public
Connection:Keep-Alive
Content-Encoding:gzip
Content-Type:text/html
Date:Thu, 04 Oct 2012 10:12:43 GMT
Expires:Fri, 04 Oct 2013 10:12:43 GMT
Keep-Alive:timeout=15, max=98
Server:Jetty(7.6.5.v20120716)
Transfer-Encoding:chunked
Vary:Accept-Encoding 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T10:41:36.697

该请求具有`Cache-Control: max-age=0`and `Pragma: no-cache`，因此与您的服务器配置无关。

# javascript - Jquery 电子邮件正则表达式验证

> ID：12725348
> 
> 赞同：1
> 
> 时间：2012-10-04T10:32:33.037
> 
> 标签：javascript, jquery, regex, validation

我正在使用 Jquery 电子邮件正则表达式进行验证，如下所示：

> @"^((([az]|\d|[!#\$%&'*+-/=\?\^_ `{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\ uFDF0-\uFFEF])+) *)|((\x22)((((\x20|\x09)* (\x0d\x0a))?(\x20|\x09)+)?(([\x01-\ x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF] )|(\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))) *(((\x20|\ x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([az]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\ uFFEF])|(([az]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([az]|\d|-|.|_|~|[\u00A0 -\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([az]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))).)+(([ az]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([az]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([az] |\d|-|.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([az]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0- \uFFEF])))$"

不知道为什么它不允许大写？！如果电子邮件地址不应包含任何大写字母或此处有任何错误。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T10:35:46.993

在任何地方都会出现`[a-z]`字符类，只需将其更改为`[a-zA-Z]`

（或在您的正则表达式中指定*不区分大小写*的标志/修饰符）`i`

# c# - 不在本地主机上时的 TcpClient/TcpListener 通信问题（多线程）

> ID：12725354
> 
> 赞同：1
> 
> 时间：2012-10-04T10:32:44.633
> 
> 标签：c#, multithreading, tcpclient, tcplistener

我正在做一个项目，我通过 TCP/IP 通信序列化命令。当我在本地主机上时它可以工作，但是当我在不同的服务器上运行我的侦听器时，它在尝试反序列化侦听器端的命令时随机失败。抛出的异常是：“尝试反序列化一个空流。” 和“在解析完成之前遇到流结束。” 从序列化器

当我单独运行一系列命令时，它可以正常工作，但是当我创建线程并同时运行多个序列时，它会失败。

侦听器在 4 个不同的端口上创建侦听器，客户端为每个端口运行 1 个线程。当其中一个线程到达序列的末尾时，它终止。

我试图让我的客户单身，也尝试过 Mutex。但仍然是同样的问题。

这是我的客户：

```
public class TcpIpCommunicator : ICommunicator, IDisposable
{
    private Dictionary<int,TcpClient> clientSockets = new Dictionary<int,TcpClient>();
    public IInverterCommand ReadAsyncCommand { set; get; }
    private static TcpIpCommunicator tcpIpCommunicator;

    private TcpIpCommunicator()
    {
    }

    public static TcpIpCommunicator GetInstance()
    {
        if(tcpIpCommunicator == null)
            tcpIpCommunicator = new TcpIpCommunicator();

        return tcpIpCommunicator;
    }

    public void Send(IInverterCommand command, int id)
    {
        var serializer = new Serializer();
        MemoryStream stream = serializer.SerializeMultipleObjects(command);
        var _bytes = stream.GetBuffer();

        var networkStream = clientSockets[id].GetStream();
        networkStream.Write(_bytes, 0, _bytes.Length);
        networkStream.Flush();
    }

    public IInverterCommand Read(int id)
    {
        var memoryStream = new MemoryStream();

        byte[] buffer;
        var networkStream = clientSockets[id].GetStream();
        do
        {
            buffer = new byte[clientSockets[id].ReceiveBufferSize];
            int sizeRead = networkStream.Read(buffer, 0, buffer.Length);
            memoryStream.Write(buffer, 0, sizeRead);
        } while (networkStream.DataAvailable);

        networkStream.Flush();

        memoryStream.Position = 0;
        var serializer = new Serializer();
        return serializer.DeSerializeMultipleObject(memoryStream);

    }

    public void ReadAsync(object id)
    {
        ReadAsyncCommand = Read((int)id);
    }

    public void Dispose()
    {
        foreach (var tcpClient in clientSockets.Values)
        {
            tcpClient.Close();
        }
    }

    public int Connect(string ip, int port)
    {
        var tcpClient = new TcpClient();
        tcpClient.ReceiveTimeout = int.MaxValue;
        tcpClient.SendTimeout = int.MaxValue;
        tcpClient.Connect(ip, port);
        int key = findKey();
        clientSockets.Add(key, tcpClient);

        return key;
    }

    public void DestroyConnection(int id)
    {
        clientSockets[id].Close();
        clientSockets.Remove(id);
    }

    private int findKey()
    {
        int key = 0;
        while(clientSockets.ContainsKey(key))
        {
            key++;
        }

        return key;
    }
} 
```

我的服务器端代码在这里：

```
public class TCPListener : IDisposable
{
    private readonly TcpListener _serverSocket;
    private NetworkStream _networkStream;
    private readonly TcpClient _clientSocket = default(TcpClient);

    public TCPListener(int port)
    {
        _serverSocket = new TcpListener(port);
        _serverSocket.Server.ReceiveTimeout = int.MaxValue;
        _serverSocket.Server.SendTimeout = int.MaxValue;
        _serverSocket.Start();
        _clientSocket = _serverSocket.AcceptTcpClient();
    }

    public void Send(IInverterCommand message)
    {
        _networkStream = _clientSocket.GetStream();
        var serialize = new Serializer();
        var stream = serialize.SerializeMultipleObjects(message);
        var _bytes = stream.GetBuffer();

        if (_bytes.Length > _clientSocket.ReceiveBufferSize)
        {
            byte[] bytes = new byte[_clientSocket.ReceiveBufferSize];
            for (int i = 0; i < _bytes.Length; i += _clientSocket.ReceiveBufferSize)
            {
                for (int j = 0; j < _clientSocket.ReceiveBufferSize && i + j != _bytes.Length; ++j)
                {
                    bytes[j] = _bytes[i + j];
                }

                _networkStream.Write(bytes, 0, _clientSocket.ReceiveBufferSize);
            }
        }
        else
        {
            _networkStream.Write(_bytes, 0, _bytes.Length);
        }

        Thread.Sleep(50);

        _networkStream.Flush();
    }

    public IInverterCommand ReadCommand()
    {
        _networkStream = _clientSocket.GetStream();
        var memoryStream = new MemoryStream();

        do
        {
            var buffer = new byte[_clientSocket.ReceiveBufferSize];
            int sizeRead = _networkStream.Read(buffer, 0, buffer.Length);
            memoryStream.Write(buffer, 0, sizeRead);
            Thread.Sleep(50);
        } while (_networkStream.DataAvailable);

        _networkStream.Flush();
        memoryStream.Position = 0;
        var serializer = new Serializer();
        return serializer.DeSerializeMultipleObject(memoryStream);
    }

    public void Dispose()
    {
        _clientSocket.Close();
        _serverSocket.Stop();
    }
} 
```

这里通常是在客户端调用代码：

```
IInverterCommand command = new SoftwareUpdateInverterCommand();
        tcpClient.Send(command, tcpId);

        var thread = new Thread(tcpClient.ReadAsync);
        thread.Start(tcpId);

        if (!thread.Join(timeout))
        {
            thread.Abort();
            tcpClient.DestroyConnection(tcpId);
            return;
        } 
```

和服务器端调用代码：

```
//Recieving CMD on software update
            TcpListener = new TCPListener((int)port);
            var command = TcpListener.ReadCommand();

            //Sending OK back to server
            command.Message = "OK";
            TcpListener.Send(command); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T10:50:03.363

我建议您阅读*线程同步*的主题以及它的含义以及如何使用它。此外，当您在非线程安全的线程之间共享内容时会发生什么。

您的代码中根本没有线程同步，但是您从至少 2 个不同的线程读取和写入字典（不安全）而没有任何同步。

仅此一项就可能导致难以追踪的错误以及许多您不愿处理的不同现象。

您**确实**需要阅读有关如何正确执行线程的信息。

# mysql - 按值分组 RAND()

> ID：12725363
> 
> 赞同：11
> 
> 时间：2012-10-04T10:33:23.033
> 
> 标签：mysql, sql, group-by

有可能得到组的随机值吗？

```
----------------
 nID |  val
---------------
  A  |   XXX
  A  |   YYY
  B  |   L
  B  |   M
  B  |   N
  B  |   P
---------------- 
```

使用此 SQL：

```
SELECT nID, VAL FROM T1 GROUP BY nID 
```

我的结果总是：

```
nID  val
--------
A    XXX
B    L 
```

但我想要每个 nID 的不同结果。喜欢：

```
nID  val
--------
A    YYY
B    N 
```

或者

```
nID  val
--------
A    XXX
B    P 
```

这是可能的？

[http://sqlfiddle.com/#!2/357b8/3](http://sqlfiddle.com/#!2/357b8/3)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T10:40:36.993

使用子查询。

```
SELECT r.nID,
(SELECT r1.val FROM T1 r1 WHERE r.nID=r1.nID ORDER BY rand() LIMIT 1) AS 'val' FROM T1 r 
GROUP BY r.nID 
```

[http://sqlfiddle.com/#!2/357b8/18](http://sqlfiddle.com/#!2/357b8/18)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-04T10:43:20.050

您可以按 rand() 使用 order，然后按它们分组。

喜欢

```
 SELECT nID, VAL FROM (
  SELECT nID, VAL
  FROM T1
  ORDER BY RAND()
  )AS subquery
GROUP BY nID 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T10:40:55.813

```
SELECT 
  t1.nID, 
  (SELECT 
     t2.var 
   FROM your_table t2 
   WHERE t1.nID = t2.nID ORDER BY rand() LIMIT 1
  ) AS var 
FROM your_table t1 
GROUP BY t1.nID ; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T10:50:08.730

尝试这个

```
SELECT nID, VAL
FROM (select nID, VAL from T1 order by rand()) as T
group by nID 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-05T08:42:00.453

以下解决方案在精神上与[xdazz](https://stackoverflow.com/a/12725499)或[jonnyynnoj](https://stackoverflow.com/a/12725492)中的解决方案相似。但`SELECT FROM T1 GROUP BY nID`我没有使用子查询来选择所有不同的 ID。我相信性能可能会有所不同，所以也试试这个。

```
SELECT nID,
  (SELECT VAL
   FROM T1
   WHERE T1.nID = ids.nID
   ORDER BY RAND()
   LIMIT 1
  ) AS VAL
FROM (SELECT DISTINCT nID FROM T1) AS ids 
```

# ios - iOS：在显示键盘时将活动的 UITextField 保持在屏幕中间

> ID：12725368
> 
> 赞同：1
> 
> 时间：2012-10-04T10:33:39.883
> 
> 标签：ios, xcode, keyboard, scroll

我有一个带有一些静态单元格的 UITableViewController（用 UITextFields 填充）。现在我想将活动的 UITextField 保持在我的屏幕中间（即使我向上/向下移动一个 Cell/UITextfield）。

我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T14:45:04.413

我过去做过几次，但不是很喜欢。我的解决方案是向上移动带有表格的视图，以便所选单元格保持可见。

首先我添加了一些观察者来了解键盘何时出现或消失

```
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillShowNotification:) name:UIKeyboardWillShowNotification object:nil];
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillHideNotification:) name:UIKeyboardWillHideNotification object:nil]; 
```

然后我做了这样的事情，把桌子推起来：

```
- (void)keyboardWillShowNotification:(NSNotification*)notification {

    CGSize kbSize = [[notification.userInfo objectForKey:UIKeyboardFrameBeginUserInfoKey] CGRectValue].size;
    double animationDuration = [[[notification userInfo] objectForKey:UIKeyboardAnimationDurationUserInfoKey] doubleValue];
    CGPoint newCenter = self.myable.center;

    NSLog(@"Height: %f Width: %f", kbSize.height, kbSize.width);
    // Portrait:    Height: 264.000000  Width: 768.000000
    // Landscape:   Height: 1024.000000 Width: 352.000000

    if([[UIApplication sharedApplication] statusBarOrientation] < 3) {
        newCenter = CGPointMake(newCenter.x, heightP - kbSize.height - self.myTable.frame.size.height/2);
    }
    else {
        newCenter = CGPointMake(newCenter.x, heightL - kbSize.width - self.myTable.frame.size.height/2);
    }

    [UIView beginAnimations:nil context:NULL];
    [UIView setAnimationDuration:animationDuration];
    self.myTable.center = newCenter;
    [UIView commitAnimations];
}

- (void)keyboardWillHideNotification:(NSNotification*)notification {
    NSLog(@"keyboard disappeared");
    double animationDuration = [[[notification userInfo] objectForKey:UIKeyboardAnimationDurationUserInfoKey] doubleValue];
    CGPoint newCenter = self.myTable.center;

    if([[UIApplication sharedApplication] statusBarOrientation] < 3) {
        newCenter = CGPointMake(newCenter.x, 0 + self.lmyTable.frame.size.height/2);
    }
    else {
        newCenter = CGPointMake(newCenter.x, 0 + self.myTable.frame.size.height/2);
    }

    [UIView beginAnimations:nil context:NULL];
    [UIView setAnimationDuration:animationDuration];
    self.myTable.center = newCenter;
    [UIView commitAnimations];

} 
```

基本上，我读取键盘高度并将其添加到桌子的中心，将其向上推，然后在键盘消失时移除相同的高度。

现在，有一个问题！我从我的代码中删除了它，因为它非常具体，但是**只有当键盘覆盖你的单元格时，**你才必须小心移动你的桌子！否则，您最终会将可见单元格推到屏幕顶部。这在很大程度上取决于您的视图设置、边框、表格的大小等，所以我无法在这部分为您提供帮助，但我希望您了解基本概念！

祝你好运

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T15:12:07.283

更简单......在您的表格视图的委托中`didSelectRowAtIndexPath`使用`scrollToRowAtIndexPath:<#(NSIndexPath *)#> atScrollPosition:<#(UITableViewScrollPosition)#> animated:<#(BOOL)#>`滚动到您的单元格。您可能必须为此更改表格视图的框架，并在取消选择单元格时再次将其更改回来。或者我们使用它的滚动插入属性来滚动。

# iphone - iphone：Settings.bundle 返回空值

> ID：12725372
> 
> 赞同：3
> 
> 时间：2012-10-04T10:34:01.787
> 
> 标签：iphone, objective-c, ios, xcode, ipad

我使用的是 xCode 3.2，然后移至 xCode 4.2 并从 Settings.bundle 获取一些值......它工作正常。

同时，我需要在 Settings.bundle 中编辑一些值，但 Root.plist 文件没有显示，所以我按照以下步骤操作，但没有对文件进行任何更改。

```
1) Click on the Settings.Bundle file, go over to the utilities window,
and look in the File Inspector.
2) Using the drop-down, change the file type to 'Application Bundle' 
```

之后我可以看到 Root.plist 但现在无法在应用程序中获取它的值。实际上得到**Null**而不是 value。

下面是 Settings.bundle 的代码和图像

```
NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
host = [defaults stringForKey:@"meter_preference"];
if(host == nil)
{
    host = @"10.20.20.1";
    DDLogError(@"Meter host is nil from NSUserDefaults, defaulting to %@", host);
} 
```

![在此处输入图像描述](../Images/44b4580573101efcbf0d6c46c99c0a96.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-10T06:13:47.040

我得到了解决方案，只需在 applicationDidFinishLaunchingWithOptions 中调用以下代码来初始化用户默认值。它有效

用您存储在用户默认值中的属性替换`somePropertyYouExpect`第一行。

```
if (![[NSUserDefaults standardUserDefaults] objectForKey:@"somePropertyYouExpect"])  {

    NSString  *mainBundlePath = [[NSBundle mainBundle] bundlePath];
    NSString  *settingsPropertyListPath = [mainBundlePath
                                           stringByAppendingPathComponent:@"Settings.bundle/Root.plist"];

    NSDictionary *settingsPropertyList = [NSDictionary 
                                          dictionaryWithContentsOfFile:settingsPropertyListPath];

    NSMutableArray      *preferenceArray = [settingsPropertyList objectForKey:@"PreferenceSpecifiers"];
    NSMutableDictionary *registerableDictionary = [NSMutableDictionary dictionary];

    for (int i = 0; i < [preferenceArray count]; i++)  { 
        NSString  *key = [[preferenceArray objectAtIndex:i] objectForKey:@"Key"];

        if (key)  {
            id  value = [[preferenceArray objectAtIndex:i] objectForKey:@"DefaultValue"];
            [registerableDictionary setObject:value forKey:key];
        }
    }

    [[NSUserDefaults standardUserDefaults] registerDefaults:registerableDictionary]; 
    [[NSUserDefaults standardUserDefaults] synchronize]; 
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T10:53:37.667

从你的代码，试试这个想法..

```
NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];
    host = [defaults stringForKey:@"meter_preference"];
    if(!host == nil)
    {
        host = @"10.20.20.1";
        DDLogError(@"Meter host is nil from NSUserDefaults, defaulting to %@", host);
    } 
```

或者

查看此链接可能会对您有所帮助...

[iPhone - 读取 Setting.bundle 返回错误值](https://stackoverflow.com/questions/5491394/iphone-reading-setting-bundle-returns-wrong-values)

[NSUserDefaults 设置捆绑列表](https://stackoverflow.com/questions/8766979/nsuserdefaults-settings-bundle-plist)

# php - PHP 访问函数内的函数

> ID：12725381
> 
> 赞同：0
> 
> 时间：2012-10-04T10:34:33.097
> 
> 标签：php, class, function

我对 PHP 类真的很陌生，我只是想知道如何访问 PHP 类中的函数。

例如：

```
<?PHP
$cn = "myClass";
$myClass = new $cn;

class myClass
{
    function __construct()
    {
        doSomething(); // ?
    }
    private function doSomething() {
        echo "doSomething accessed!<br />";
    }
}
?> 
```

我将如何`doSomething()`在课堂上访问？任何帮助将非常感激。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-04T10:35:18.947

你必须使用`$this`：

```
<?PHP
$cn = "myClass";
$myClass = new $cn;

class myClass
{
    function __construct()
    {
        $this->doSomething(); // ?
    }
    private function doSomething() {
        echo "doSomething accessed!<br />";
    }
}
?> 
```

*当从对象上下文中调用方法时，伪变量 $this 可用。$this 是对调用对象的引用。*

# delphi - 在同一个 Windows 上同时安装 Delphi 2010 和 XE3？

> ID：12725383
> 
> 赞同：0
> 
> 时间：2012-10-04T10:34:36.613
> 
> 标签：delphi, delphi-2010, vcl, delphi-xe3

我的 Win7 现在安装了 RAD Studio 2010 和 Delphi 2010，我可以单独安装 Delphi XE3 吗？那么 Delphi 2010 和 XE3 都可以在同一个 Windows 上运行吗？

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T10:38:42.333

是的你可以。您可以在一台机器上并排安装所有版本的 Delphi。我目前正坐在一台装有 D6、2010、XE、XE2 和 XE3 的机器上。

不同的人有不同的方式来组织并排安装。我个人从我的系统 PATH 变量中删除了对 Delphi 的所有引用。然后，如果我需要在命令行上做任何事情，我确保我`rsvars.bat`为目标版本执行。这设置了该 Delphi 版本所需的所有环境变量。此时执行`dcc32.exe`会导致调用命令行编译器的目标版本。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-04T10:38:54.363

他们应该工作。但是，某些特定组件可能存在错误，例如不同版本的 BDE 或不同版本的远程调试器内核。但一般来说，如果您安装带有更新的较小版本，然后安装更多较新的版本 - 它*应该可以*工作。除非发生一些错误。

* * *

但是当你编译你的项目或库时，如果你想同时使用这两个 IDE，你应该非常准确地了解 DCU 和 DCP 路径、BPL 名称等，这样它们就不会混在同一个地方。DCU 和 DCP 应写入不同文件夹并在不同文件夹中搜索。BPL 名称应该有版本表示的后缀。等等。

# android - Android Facebook 最低 API 级别错误

> ID：12725384
> 
> 赞同：1
> 
> 时间：2012-10-04T10:34:38.027
> 
> 标签：android, facebook

我正在将 Facebook SDK 实施到我的应用程序中。

遵循 facebook 开发人员指南，除了我没有设置 GIT，所以我下载了 SDK，并将其导入 Eclipse，将 Java 合规级别更改为 1.6。

在文件 Facebook.java 中，在一种方法“AutoPublishAsynchTask”上，我经常遇到错误：

调用需要 API 级别 3（当前最小值为 1）：android.os.AsyncTask#

如何摆脱错误？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:55:14.127

**将清单的android:minSdkVersion**更改为 8 或更多然后 3 ，然后它将起作用。问题是**AsyncTask**是从第 3 级引入的，因此您会收到错误消息。

# php - 致命错误：调用未定义的方法 CI_Session::sess_destroy() 1.7.2

> ID：12725386
> 
> 赞同：4
> 
> 时间：2012-10-04T10:34:45.833
> 
> 标签：php, codeigniter, session

我当前的 ci 版本是 1.7.2 但我正在使用

```
 $this->session->unset_userdata('uid');
            $this->session->unset_userdata('email');
            $this->session->sess_destroy(); 
```

在我的控制器中，下面显示的是我的类控制器

```
 function Account()
{
    parent::BEV_Controller();   
    $this->load->model('facebook_model');
    $this->load->library('session');
    $this->form_validation->set_error_delimiters('<div class="error">', '</div>');
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T10:45:32.287

当您也尝试销毁会话时，您必须加载`$this->load->library('session');`

应该是这个原因

所以自动加载会话库，比到处调用更方便`$this->load->library('session')`。

它在 application/config/autoload.php

# android - Android：在窄模式下显示拆分操作栏时隐藏标题栏？

> ID：12725387
> 
> 赞同：2
> 
> 时间：2012-10-04T10:34:59.833
> 
> 标签：android, split, actionbarsherlock, titlebar

有没有办法隐藏 actionbarsherlock 中的顶部标题栏，同时保持拆分操作栏可见？

# axapta - 在 .Net 应用程序中获取 Map(Types:String,Types:String)

> ID：12725389
> 
> 赞同：1
> 
> 时间：2012-10-04T10:35:06.713
> 
> 标签：axapta, dynamics-ax-2009, business-connector

在 AX 2009 中，我有一个方法返回 Map 的类。

在С#中我有空：

```
using (Axapta Ax = new Axapta())
{
    Ax.Logon(null, null, null, null);
    AxaptaObject ax = Ax.CreateAxaptaObject("SomeClass");
    object obj = ax.Call("getMapData",1);
    Dictionary<String, String> dict = obj as Dictionary<String, String>; 
```

在此代码`dict`中为空。为什么？

是否可以从 .Net 端的 AX 获取复杂的数据类型？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T10:46:43.830

抱歉，`Map`X++ 中的 a`Dictionary`与 C# 中的 a 不同。

您可以使用地图：

```
AxaptaObject map = ax.Call("getMapData",1); 
```

然后调用地图：

```
String val = map.call("lookup", "key"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-05T05:28:15.153

完整的代码（获取字典）：

```
Dictionary<String,String> dict = new Dictionary<String,String>();
String key, value;

using (Axapta Ax = new Axapta())
{
    Ax.Logon(null, null, null, null);

    AxaptaObject someClass= Ax.CreateAxaptaObject("SomeClass");

    AxaptaObject map = someClass.Call("getMapData",1) as AxaptaObject;
    AxaptaObject mapIterator = Ax.CreateAxaptaObject("MapIterator", map);

    while ((bool)mapIterator.Call("more"))
    {
            key = mapIterator.Call("key").ToString();
            value = mapIterator.Call("value").ToString();

            dict.Add(key,value);

            mapIterator.Call("next");
    }

}
return dict; 
```

# java - getPageNumber 打开办公室

> ID：12725393
> 
> 赞同：0
> 
> 时间：2012-10-04T10:35:29.320
> 
> 标签：java, openoffice.org, openoffice-writer

我有以下代码，它返回文档中的总页数。我可以用 javascript soapplet.getNumberOfPages() 调用它

我想做一个类似的方法，只返回 PageNumber。我找到了这个类 com.sun.star.text.TextField.PageNumber 但我不知道如何返回 PageNumber 的字符串。在 javascript 中，我将能够在文档中搜索某个字符串，并且根据找到该字符串的位置，我将能够确定该文档上存在字符串的页码。然后我可以告诉打印机从带头纸盘打印此页。我用谷歌搜索了一两天，找不到任何东西。谢谢

```
public int getNumberOfPages()
{
    XController xController = OODocument.getCurrentDocument().getXFrame().getController();

    XTextViewCursorSupplier supTextViewCursor =
                (XTextViewCursorSupplier) UnoRuntime.queryInterface(
                    XTextViewCursorSupplier.class, xController);

    XTextViewCursor curTextView = supTextViewCursor.getViewCursor();
    XPageCursor curPage =
                (XPageCursor) UnoRuntime.queryInterface(
                    XPageCursor.class, curTextView);
    curPage.jumpToLastPage();
    System.out.println("pages = " + curPage.getPage());
    return curPage.getPage();
} 
```

我现在正在重新考虑这一点，想知道是否可以在 javascript 中找到字符串，然后返回该字符串所在的页码。我的代码是：

```
if(printOnPlainPaper == true)    {

            if(soApplet.isConnected())  
            {
                soDoc = soDoc + soApplet.getEncodedHtmlDocument( null );
                if(soDoc.indexOf("zzzzz"))  
                {                                       
                    alert("trueeeee");
                }
                else 
                {
                    soApplet.printDocument(PLAIN_PAPER, "1-");    // print page 1 to plain paper printer
                }
            }
        //soApplet.printDocument(PLAIN_PAPER, "1-");    // print page 1 to plain paper printer
    } 
```

它可以找到字符串，但是我如何让它告诉我它的页码？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-15T09:03:38.333

万一有人需要，我就解决了。下面的代码搜索文档，找到字符串并返回其所在的页码

```
public int searchPageNumber()
{
    XController xController = OODocument.getCurrentDocument().getXFrame().getController();

    XTextViewCursorSupplier supTextViewCursor =
                (XTextViewCursorSupplier) UnoRuntime.queryInterface(
                    XTextViewCursorSupplier.class, xController);

    XTextViewCursor curTextView = supTextViewCursor.getViewCursor();

    // gets the page cursor and assigns the text view cursor to the page
    XPageCursor curPage =
                (XPageCursor) UnoRuntime.queryInterface(
                    XPageCursor.class, curTextView);
    System.out.println("The current page number is " + curPage.getPage());

    // gets the model
    XModel model = xController.getModel();
    // assigns model to the document
    XTextDocument xTextDocument = (XTextDocument) UnoRuntime.queryInterface(XTextDocument.class, model);
    // Xsearchable so we can search the text
    XSearchable xSearchable = (XSearchable) UnoRuntime.queryInterface(XSearchable.class, xTextDocument); 
    XSearchDescriptor xsd = (XSearchDescriptor) xSearchable.createSearchDescriptor(); 

    xsd.setSearchString("zzzzz");

    XInterface xfi = (XInterface) xSearchable.findFirst(xsd); 
    if (xfi != null) { 
        XTextRange xStart = (com.sun.star.text.XTextRange) UnoRuntime.queryInterface( 
                com.sun.star.text.XTextRange.class, xfi); 

        curTextView.gotoRange(xStart, false); 
    } 

    System.out.println("current page = " + curPage.getPage());
    return curPage.getPage();
} 
```

# facebook - 调试器返回此错误

> ID：12725395
> 
> 赞同：-1
> 
> 时间：2012-10-04T10:35:33.850
> 
> 标签：facebook, debugging

我有问题..调试器返回此错误：

必须修复的错误

指定了多个 OG URL：

在 URL 'http://www.health-alternative.com/' 类型为 'website' 的多个 OG URL 指定对象无效，因为它指定了多个 'og:url' 值：[http://www.health-alternative .com/](http://www.health-alternative.com/) , [http://health-alternative.com/](http://health-alternative.com/)。

你能告诉我它可能是什么吗？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T11:33:45.237

当不带“www”前缀调用时`http://health-alternative.com/`，您的站点会自动重定向到*带有*www 的版本，`http://www.health-alternative.com/`

但是您的元标记说，没有 www 的版本是正确的：

```
<meta property="og:url" content="http://health-alternative.com/"> 
```

所以你应该决定这两个选项之一……现在，你在页面实际做什么和元标记所说的内容上自相矛盾。

# android - android api可移植性错误

> ID：12725397
> 
> 赞同：0
> 
> 时间：2012-10-04T10:35:45.827
> 
> 标签：android, android-mapview, portability

我有一个小问题。我已经创建了一个 android api，它在我的 pc 上使用 google maps(mapview) 和 eclipse 和 android 模拟器。一切似乎在我的电脑上运行良好，但是当我尝试在我的笔记本电脑上安装和运行相同的 api 时，一切都运行良好，除了当我使用 mapView 导航到活动时，地图在屏幕上显示为灰色并带有网格并且不作为地图。问题可能是因为我在另一台电脑上运行 api，我应该创建一个新的 api 密钥来使用？在另一个主题中，我看到一个可能的解决方案是将 java 编译器的版本更改为程序最初编译的版本。我也试过这个没有效果。任何帮助都会很有用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:39:54.300

Google Maps API 密钥对应于您的应用程序密钥，当在本地运行应用程序而不使用密钥库对其进行签名时，该应用程序由 Eclipse 调试密钥（每台计算机不同）签名，因此您需要为您正在使用的每个调试密钥库。总而言之，您需要为每台开发计算机使用不同的 API 密钥，并为您的发布密钥库设置另一个 API 密钥。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T11:08:12.833

您需要在机器之间共享 debug.keystore，以便地图在开发时显示在不同的机器上。

为此，在 Eclipse 中，转到 Preferences -> Android -> Build 并适当地设置自定义调试密钥库，您在 PC 上使用该密钥库来查看 Google 地图。

或者为每台开发计算机创建不同的 API 密钥。

您必须为应用程序的发布创建一个单独的密钥库。

# c# - 从远程服务器获取二进制文件列表

> ID：12725400
> 
> 赞同：-1
> 
> 时间：2012-10-04T10:35:50.537
> 
> 标签：c#, ftp, ftpwebrequest

我正在开发一个需要从服务器文件夹下载二进制文件的系统。在这里，我会在下载之前检查它们是否在我的本地文件夹中。所以我需要获取***.bin**文件的列表。

我在下面尝试了代码，但它会生成服务器文件夹上的所有文件的列表。

```
 private string[] GetRemoteFileList()
    {
        FtpWebRequest request = (FtpWebRequest)WebRequest.Create(new Uri(_remoteHost));
        request.Credentials = new NetworkCredential(_remoteUser, _remotePass);
        request.Method = WebRequestMethods.Ftp.ListDirectory;

        FtpWebResponse response = (FtpWebResponse)request.GetResponse();
        Stream responseStream = response.GetResponseStream();
        StreamReader reader = new StreamReader(responseStream);

        string FileNames = reader.ReadToEnd();
        string[] Files = Regex.Split(FileNames, "\r\n");
        return Files;
    } 
```

我需要的是只过滤掉 *.bin 文件。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T10:39:10.460

你试过什么？

您现在拥有`Files`当前目录中所有文件的数组。为什么不过滤该列表？例如：

```
return Files.Where(
    f => f.EndsWith(".bin", StringComparison.OrdinalIgnoreCase)
                  ).ToList(); 
```

# javascript - jquery animate opacity 突然显示而不是平滑

> ID：12725406
> 
> 赞同：0
> 
> 时间：2012-10-04T10:36:09.437
> 
> 标签：javascript, jquery, html, css, jquery-animate

我正在尝试为我制作的一些标签内容设置动画。淡出内容时它工作顺利，但淡入不。内容只是突然出现而不是淡入。

请在此处查看我的代码：http: [//jsfiddle.net/rqsJ8/2/](http://jsfiddle.net/rqsJ8/2/)

我已经尝试了所有我能想到的东西，但我不知道为什么会这样。

请赐教。

非常感谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T11:04:58.173

[http://jsfiddle.net/rqsJ8/25/](http://jsfiddle.net/rqsJ8/25/)

更改为使用淡入和淡出。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T11:19:28.923

我已经用新代码更新了版本并将其保存在小提琴上，这是链接：http: [//jsfiddle.net/rqsJ8/61/](http://jsfiddle.net/rqsJ8/61/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T10:41:00.360

你可能没有提到速度的时间..

```
tabContent.animate({ opacity: 0 }, function() {
        $(this).removeClass('selected');
    }, speed ); 
```

# php - 如何在php中的多维数组中附加值

> ID：12725407
> 
> 赞同：0
> 
> 时间：2012-10-04T10:36:15.423
> 
> 标签：php, arrays, multidimensional-array

我想在这里添加一些价值：

```
Array
(
    [0] => stdClass Object
        (
            [id] => 1
            [cat_id] => 1
            [lot_id] => 1
            [brand] => Dell
            [model] => D630
            [unit_aed] => 800
            [sold] => 0
            ** i want to append value here like this
            [username] => name

        )

    [2] => stdClass Object
        (
            [id] => 4
            [cat_id] => 0
            [lot_id] => 0
            [brand] => dell
            [model] => e6400
            [unit_aed] => 0
            [sold] => 0
        )

) 
```

这怎么可能？我正在尝试使用`array_push($array, 'username')`.

它适用于简单数组，但不适用于`stdClass`对象数组。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T10:38:10.460

```
$array_name[0]->username = "name";
$array_name[0]->new_value = "whatever";
$array_name[0]->another_new_value = "whatever again"; 
```

ETC...

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T10:38:37.633

添加另一个对象键和值：

```
$array[0]->username = 'name'; 
```

或者您可以添加`username`到该对象中的每个值：

```
foreach($array as $key => $val){
    $array[$key]->username = 'user';
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T10:44:23.537

```
$myclass = new stdClass();
$myclass->id = 4;
$array[] = $myclass; 
```

# .net - 将 Linq 和 Crystal Reports 与 .Net 对象一起使用

> ID：12725409
> 
> 赞同：1
> 
> 时间：2012-10-04T10:36:24.313
> 
> 标签：.net, vb.net, linq, crystal-reports

我正在尝试在 Linq 中再次使用水晶报告，但我遇到了问题。我已经阅读了大量关于如何做到这一点的论坛和文章，但我不确定我可能做错了什么。

**第一种方法尝试**

```
Dim DBDataContext = GetDataConnection()

Dim cryRpt As IBS_DAL.cryLocationTransfer = New IBS_DAL.cryLocationTransfer()
cryRpt.Load(cryRpt.FileName)

Dim testDS = From stl In DBDataContext.STranLines
             Where stl.STLStkRef >= "000000000330" AndAlso
                   stl.STLStkRef <= "000000000337" AndAlso
                   (stl.STLTranCode = "LI" Or stl.STLTranCode = "LO")
             Select stl.ToRepObj

cryRpt.SetDataSource(testDS.ToList)

CrystalReportViewer1.ReportSource = cryRpt 
```

ToRepObj 当前设置为我创建的类，以便它将使用不具有空值的对象。

但是当报告加载时，它要求输入密码，这完全没有意义，因为我正在向它提供数据。服务器名称是我之前在报告中设置的 .net 对象。

我真的需要找到一个解决方案，因为我以前使用的是 Microsoft Reporting，但发现了一些缺乏的地方，因此决定最好使用 Crystal，但从未将它与 Linq 一起使用。

**第二种方法试过**

我还尝试了另一种我在这个[网站](https://stackoverflow.com/a/3861892/696406)上看到的方法，但由于某种原因，它给了我一个空白报告。.Net 对象在水晶报告中的 stkcode 上链接。

```
Dim testDS = (From stl In DBDataContext.STranLines
                 Where stl.STLStkRef >= "000000000330" AndAlso 
                       stl.STLStkRef <= "000000000337" AndAlso
                       (stl.STLTranCode = "LI" Or stl.STLTranCode = "LO")
                 Select stl)
Dim ds1 = (From stl As STranLine In testDS
           Select stl.ToRepObj).ToList
Dim ds2 = (From stl As STranLine In testDS
           Select stl.Stock.ToRepObj).ToList

Dim cryrpt2 As ReportDocument = New IBS_DAL.CrystalReport1()

cryrpt2.Database().Tables("IBS_DAL_roSTranLine").SetDataSource(ds1)
cryrpt2.Database().Tables("IBS_DAL_roStock").SetDataSource(ds2)

CrystalReportViewer1.ReportSource = cryrpt2 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-06T09:23:12.510

试试这个可能有帮助

```
 Private Sub Button1_Click(ByVal sender As System.Object, ByVal e As System.EventArgs) Handles Button1.Click
    Dim data As New DataClasses1DataContext
    Dim m = (From master In data.Masters Select master Where master.ID = 10)
    Dim a As New CrystalReport3
    a.SetDataSource(m)
    CrystalReportViewer1.ReportSource = a
 End Sub 
```

# c# - 无法将 System.DirectoryServices.AccountManagement.Principal 类型隐式转换为字符串

> ID：12725412
> 
> 赞同：1
> 
> 时间：2012-10-04T10:36:35.480
> 
> 标签：c#, account-management

我有一个变量，它是一个字符串列表

变量名称 = 新列表（）；

我想将`.AccountManagement.Principal`查询结果的名称分配给名称

```
 PrincipalContext ctx = new PrincipalContext(ContextType.Domain);
 UserPrincipal buser = UserPrincipal.FindByIdentity(ctx, user);

 if (buser != null)
 {
     var group = buser.GetGroups().Value().ToList();
     names = group;
 } 
```

显然这不会编译，因为`.Value`它不是`GetGroups()`.

如果我尝试

```
var group = buser.GetGroups().Value().ToList();
names = group; 
```

我明白了

> 无法将 System.DirectoryServices.AccountManagement.Principal 类型隐式转换为字符串

我想获取组的值并将其应用到字符串列表中

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T10:46:32.803

没有什么比`Value()`方法/扩展方法

如果您想在字符串列表中获取用户名列表，您可以执行以下操作：

```
List<string> userList = buser.GetGroups().Select(r=>r.Name).ToList(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T10:41:46.540

值得一试：

```
PrincipalContext ctx = new PrincipalContext(ContextType.Domain); 
UserPrincipal buser = UserPrincipal.FindByIdentity(ctx, user); 
if (buser != null) 
{ 
    names = (
        from 
            groupPrincipal in buser.GetGroups() 
        select 
            groupPrincipal.Name
        ).ToList(); 
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T10:46:52.817

没有价值方法。该语句`buser.GetGroups()`返回一个 PrincipalSearchResult 集合。

```
 PrincipalSearchResult<Principal> group = buser.GetGroups(); 
```

然后您可以遍历集合，以获取名称

```
 foreach(Principal pr in group)
     Console.WriteLine(pr.Name); 
```

# java - 尝试使用命令行远程编译具有多个依赖项的 Java 程序，我目前只能在 Eclipse 中本地编译

> ID：12725413
> 
> 赞同：2
> 
> 时间：2012-10-04T10:36:43.910
> 
> 标签：java, eclipse, jar, compilation, executable-jar

几周前，我在工作中接手了一个使用 Eclipse 编写的基于 Java 的后端 Web 应用程序。该应用程序的本质是它无法在本地进行充分测试，而是需要在我们的测试网络上测试更改（这涉及将更改推送到我们通过 SSH 连接的 AWS Micro 服务器）。

到目前为止，我以与前任相同的方式推送更改：使用 Eclipse 的 Export to Runnable JAR File 选项编译程序，然后将 jar scp 到远程服务器并运行它。然而，这个过程有一个巨大的问题。虽然编译只需要几秒钟，但 jar 远远超过 30MB，通过我们相当普通的互联网连接将整个东西从办公室推送到远程服务器需要 10 多分钟。如果我今天过得特别糟糕，比如说，在代码中引入了几个小错误，然后一个一个地发现它们，我很容易最终失去一个小时或更多的时间，一边把整个罐子推过去一边玩弄我的拇指，然后结束了一系列的单行更改。

显然，比每次更改都对整个 jar 进行 scp 更明智的解决方案是简单地从源代码管理中远程仅提取更改的 .java 文件，然后完全远程编译新版本。然而，我对 Java 还是很陌生（实际上是一般的编程），我所有的 Java 工作都在我在开发过程中接管的现有 Eclipse 项目上。因此，我对编译 Java 知之甚少，我发现网上有关此的教程大多不透明或完全无法解决如何编译使用外部库的代码的问题。

我将在这里关联我可以从 Eclipse 中找到的有关项目依赖项的哪些信息，我的问题是：我需要将什么复制到远程服务器，以及我需要把它放在哪里，以便能够远程编译？我需要在远程服务器上安装哪些工具（如果有）才能在那里编译？一旦我完成了所有设置，我实际上在命令行中输入了什么来编译它？

无论如何，这就是我所知道的依赖项和目录结构（我已经匿名了我们的应用程序名称，称它为“bunnies”）：

*   应用程序源代码位于 bunnies/src

*   我们编译成bunnies/bin/main.jar

*   bunnies/dependencies 包含我们使用的三个外部库。

*   右键单击 Eclipse 中的项目，转到 Java Build Path 部分，然后选择 Libraries 选项卡，我看到了

    *   上面的三个库（以形式出现，例如“json-simple-1.1.1.jar - /home/mark/workspace/bunnies/dependencies”）
    *   另一个位置的第四个 jar 文件（“M2_REPO/com/google/guava/guava/r09/guava-r09.jar - /home/mark/.m2/repository/com/google/guava/guava/r09/guava-r09 。罐”）
    *   JRE 系统库 [java-6-openjdk-i386]
*   但还有更多！我们还使用了两个库，mahout-core 和 mahout-integration，它们作为单独的项目包含在同一个工作区中，而不是作为依赖项文件夹中的 jar 文件。它们按名称显示在 bunnies 项目的 Java 构建路径部分的项目选项卡上，分别位于 /home/mark/workspace/mahout-core 和 /home/mark/workspace/mahout-integration。

*   由于我不是 Java 高手，也许我还缺少一些其他隐藏的依赖项，这些依赖项没有出现在我迄今为止看过的任何地方？

如果有人可以引导我完成从命令行编译这个巨大混乱的步骤，而无需使用 Eclipse 中的 Export 选项，以便我最终可以远程编译它，我将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T10:39:05.870

查看[Apache Ant](http://ant.apache.org/)。它是 Java 的构建套件，有点像基于 XML 的 Makefile 系统。

我有一个在远程服务器上运行的 Java 系统。我有一个目录结构，分为 /src 和 /build。然后，我只需将 .java 文件从本地机器 scp 到 /src 文件夹并使用 ant 构建。

# python - 在应用引擎中集成 google plus 圈子？

> ID：12725415
> 
> 赞同：1
> 
> 时间：2012-10-04T10:36:47.527
> 
> 标签：python, google-app-engine, google-plus

我想知道是否有办法在应用引擎应用中使用 google+ 来创建圈子、在圈子中添加人员并将帖子推送到圈子？

因此，例如，用户登录到我的应用程序，然后该应用程序可以根据我的应用程序中的用户设置从圈子中添加/删除人员。

如果那不可能，是否有至少一种方法可以访问用户圈子中的人？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T04:11:24.110

目前，你不能做任何你问的三件事：不能创建圈子，不能修改甚至读取圈子数据，不能写用户的流。

虽然用户的 Google+ 个人资料中会显示用户圈出或圈出的人（如果他们已将其公开），但您无法知道这些人所在的圈子或他们的名字。圈子名称和其中的人是私人数据。

唯一接近您感兴趣的 API 是[History API](https://developers.google.com/+/history/)，它允许您将时刻分享到用户的 Google+ 历史记录，然后他们可以选择分享到他们的信息流中。

**2013 年 8 月 14 日编辑**：如果您使用的是[Google Apps](http://www.google.com/enterprise/apps/business/)，新的[Google+ Domains API](https://developers.google.com/+/domains/)会提供您想要的功能。您只能管理域内的用户，并且只能发布仅限于您的域的帖子（没有公开帖子或发布给域外用户的帖子）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T11:09:37.967

目前没有公开记录的 API 可让您阅读或管理您的圈子。

有一个访问受限的 API，Google 已将其提供给一些开发人员。请参阅[https://plus.google.com/104946722942277428266/posts/LUi2ZNyRHag](https://plus.google.com/104946722942277428266/posts/LUi2ZNyRHag)了解有关即将发生的事情以及如何注册以请求访问此内容的更多信息。

# python - 从 pandas DataFrame 中删除非数字列

> ID：12725417
> 
> 赞同：53
> 
> 时间：2012-10-04T10:36:50.320
> 
> 标签：python, pandas

在我的应用程序中，我加载结构如下的文本文件：

*   第一个非数字列 (ID)
*   多个非数字列（字符串）
*   多个数字列（浮点数）

非数字列的数量是可变的。目前我将数据加载到 DataFrame 中，如下所示：

```
source = pandas.read_table(inputfile, index_col=0) 
```

我想一口气删除所有非数字列，而不知道它们的名称或索引，因为这可以读取它们的 dtype。熊猫可以做到这一点，还是我必须自己做饭？

* * *

## 回答 #1

> 赞同：63
> 
> 时间：2015-09-04T13:55:33.357

为避免使用私有方法，您还可以使用[select_dtypes](http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.select_dtypes.html?highlight=dtypes#pandas.DataFrame.select_dtypes)，您可以在其中包含或排除所需的 dtypes。

在[这个帖子](https://github.com/pydata/pandas/issues/5775)上遇到了完全相同的事情。

或者在你的情况下，特别是：
`source.select_dtypes(['number']) or source.select_dtypes([np.number]`

* * *

## 回答 #2

> 赞同：49
> 
> 时间：2012-10-04T11:41:00.773

这是一个私有方法，但它会解决问题：source._get_numeric_data()

```
In [2]: import pandas as pd

In [3]: source = pd.DataFrame({'A': ['foo', 'bar'], 'B': [1, 2], 'C': [(1,2), (3,4)]})

In [4]: source
Out[4]:
     A  B       C
0  foo  1  (1, 2)
1  bar  2  (3, 4)

In [5]: source._get_numeric_data()
Out[5]:
   B
0  1
1  2 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2019-03-03T11:43:50.070

这将删除不包含 float64 数字的每一列。

```
df = pd.read_csv('sample.csv', index_col=0)
non_floats = []
for col in df:
    if df[col].dtypes != "float64":
        non_floats.append(col)
df = df.drop(columns=non_floats) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2018-08-03T12:12:20.427

我还有另一种可能的解决方案，用两行代码删除具有分类值的列，定义一个包含分类值列的列表（第一行）并用第二行删除它们。df 是我们的数据框

df 下降前： [![df 下降前](../Images/6837e9a376cfba5bce0cec98960c2d3c.png)](https://i.stack.imgur.com/y7Ehx.png)

```
 to_be_dropped=pd.DataFrame(df.categorical).columns
  df= df.drop(to_be_dropped,axis=1) 
```

掉落后的df： [![掉落后的df](../Images/b78d4c52640857e5a8f0671932e44933.png)](https://i.stack.imgur.com/r2SbW.png)

# javascript - 通过 javascript 将 div 内容转换为图像

> ID：12725427
> 
> 赞同：2
> 
> 时间：2012-10-04T10:37:30.567
> 
> 标签：javascript, html, image

如何将 div 标签的内容转换为图像并通过 javascript 将其保存到本地文件夹？我知道一定有出路，但我找不到。任何帮助将不胜感激 。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-15T11:28:16.283

帆布。`drawImage`支持图像、画布和视频元素。有人说，以后可能会支持DOMElement。

有许多用 C（或 C++）编写的开源浏览器。有[Emscripten](https://github.com/kripken/emscripten/wiki)项目，可以将 C++ 代码转换为 Javascript。因此，您可以在浏览器中运行您自己的浏览器并使用它来呈现您的 HTML。

在浏览器中运行浏览器一点也不奇怪。例如，有一个项目在浏览器中模拟 x86 机器 - [http://copy.sh/v24/](http://copy.sh/v24/)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T10:49:29.757

如果这是您要实现的目标，则 Javascript 无法写入文件系统。

如果您需要在 javascript 中存储字符串但它们在浏览器中被沙箱化，您可以使用 HTML5 的 localStorage。

要获取大多数 HTML 元素的内容，您可以使用来获取标签`document.getElementById('theDiv').innerHTML`之间的内容。`<div></div>`

您可以将 innerHTML 的结果传递给 PHP 页面，然后将其保存到文件中。

**编辑**

好的，根据我们的评论，我建议您使用 PHP。您用于`document.getElementById('theDiv').innerHTML`将 html 发送到 php 页面。从那里使用[http://www.rabuser.info/painty.zip](http://www.rabuser.info/painty.zip) 下载他们的“painty.php”页面并将 html 传递给它。理论上painty.php 会从html 中生成一个img。

# django - 使用 Jython、Weblogic、modjy 时核心文件中的 Python 异常

> ID：12725429
> 
> 赞同：2
> 
> 时间：2012-10-04T10:37:36.340
> 
> 标签：django, weblogic, jython

这是我第一次尝试使用 Weblogic 和 modjy 在 Jython 上运行 Django 应用程序。

我已经在本地安装了 Jython 2.5.3，并且能够使用开发服务器 (jython manage.py runserver) 运行我的 Django 应用程序而不会出现故障。

我在 OSX 10.7.4 上，这些是我的 Java 信息​​：

```
java version "1.6.0_33"
Java(TM) SE Runtime Environment (build 1.6.0_33-b03-424-11M3720)
Java HotSpot(TM) 64-Bit Server VM (build 20.8-b03-424, mixed mode) 
```

然后我尝试在 WebLogic 中部署应用程序。我使用了 django-jython 包来生成 WAR 文件。当我尝试使用 WebLogic Web 控制台部署它时，当它尝试启动应用程序时出现以下异常：

> Servlet：“modjy”无法在 Web 应用程序启动时预加载：“bbb”。Traceback（最里面的最后一个）：文件“/Users/fabio/weblogic/novartis/servers/myserver/stage/bbb/bbb/WEB-INF/lib-python/Lib/site.py”，第 421 行，在？文件“/Users/fabio/weblogic/novartis/servers/myserver/stage/bbb/bbb/WEB-INF/lib-python/Lib/site.py”，第 402 行，在主文件“/Users/fabio/weblogic/ novartis/servers/myserver/stage/bbb/bbb/WEB-INF/lib-python/Lib/site.py”，第 92 行，在已删除的路径中 NameError: set :org.python.core.PyException:null

这是我试图部署的扩展 WAR 文件：[http ://www.2shared.com/file/aec-0BR8/bbb.html](http://www.2shared.com/file/aec-0BR8/bbb.html)

所以奇怪的错误似乎在核心python模块（site.py）中。我进入了这个文件，扩展了 WAR 文件，然后我“修复”了它（只是为了看看接下来发生了什么）

```
from sets import Set as set 
```

在第 92 行`WEB-INF/lib-python/Lib/site.py`

这导致另一个错误：

> [HTTP:101216]Servlet：“modjy”无法在 Web 应用程序启动时预加载：“bbb”。Traceback（最里面的最后一个）：文件“/Users/fabio/weblogic/novartis/servers/myserver/stage/bbb/bbb/WEB-INF/lib-python/Lib/site.py”，第 422 行，在？文件“/Users/fabio/weblogic/novartis/servers/myserver/stage/bbb/bbb/WEB-INF/lib-python/Lib/site.py”，第 403 行，在主文件“/Users/fabio/weblogic/ novartis/servers/myserver/stage/bbb/bbb/WEB-INF/lib-python/Lib/site.py”，第 98 行，在删除的uppaths 文件“/Users/fabio/weblogic/novartis/servers/myserver/stage/bbb /bbb/WEB-INF/lib-python/Lib/site.py”，第 68 行，在 makepath AttributeError 中：类 'org.python.modules.os' 没有属性 'path' ：org.python.core.PyException：无效的

同样，与核心 python 模块有关。应该注意的是，如果我尝试删除其中的 jython.jar 文件，`WEB-INF/lib/jython.jar`我不会收到任何错误，而我希望在部署 WAR 文件时引用它。

感谢您对此的任何意见。

# blackberry - 位置错误：无法从事件线程调用getLocation（）方法

> ID：12725430
> 
> 赞同：1
> 
> 时间：2012-10-04T10:37:49.510
> 
> 标签：blackberry, error-handling, gps, location

我想要做的是通过单击带有两个条件的按钮字段打开地图，用户必须指定位置，然后必须将图像添加到该位置，否则必须将图像添加到用户当前位置。

我遇到的问题是将两个条件都添加到线程/新线程甚至 FieldChangeListener 中的 if 语句中。

我不断收到的错误是：

> 位置错误：javax.microedition.location.LocationException：getLocation() 方法无法从事件线程 [0.0] 调用 [0.0]
> 
> 位置错误：无法从事件线程调用getLocation（）方法

我的代码：

```
FieldChangeListener Listener = new FieldChangeListener() {
    public void fieldChanged(Field field, int context) {
        ButtonField buttonClicked = (ButtonField) field;
        if ((buttonClicked.getLabel()).equals("Push")) {
            CustomMapField mMapField;
            Coordinates mCoordinates;
            BlackBerryCriteria blackBerryCriteria = null;
            BlackBerryLocation blackBerryLocation = null;
            BlackBerryLocationProvider blackBerryLocationProvider = null;
            double Doublelat = 0.0;
            double Doublelng = 0.0;
            blackBerryCriteria = new BlackBerryCriteria();
            if(GPSInfo.isGPSModeAvailable(GPSInfo.GPS_MODE_CELLSITE)){
                    blackBerryCriteria.setMode(GPSInfo.GPS_MODE_CELLSITE);
            }else if(GPSInfo.isGPSModeAvailable(GPSInfo.GPS_MODE_ASSIST)){
                blackBerryCriteria.setMode(GPSInfo.GPS_MODE_ASSIST);
            }else if(GPSInfo.isGPSModeAvailable(GPSInfo.GPS_MODE_AUTONOMOUS)){
                blackBerryCriteria.setMode(GPSInfo.GPS_MODE_AUTONOMOUS);
            }else{
                blackBerryCriteria.setCostAllowed(true);
                blackBerryCriteria.setPreferredPowerConsumption(Criteria.POWER_USAGE_LOW);
            } try {
                blackBerryLocationProvider = (BlackBerryLocationProvider) BlackBerryLocationProvider.getInstance(blackBerryCriteria);
                blackBerryLocation = (BlackBerryLocation) blackBerryLocationProvider.getLocation(60);
                QualifiedCoordinates qualifiedCoordinates = blackBerryLocation.getQualifiedCoordinates();

                Doublelat = qualifiedCoordinates.getLatitude();
                Doublelng = qualifiedCoordinates.getLongitude();
                mCoordinates = new  Coordinates(Doublelat, Doublelng, 0);
                mMapField = new CustomMapField();
                mMapField.mIcon = Bitmap.getBitmapResource("coin_silver.png");
                mMapField.moveTo(mCoordinates);
                mMapField.setZoom(1);
                add(mMapField);
             }catch(Exception e){
                System.out.println("Debug 5");
                System.out.println("Error in location :"+e.toString());
                System.out.println("Error in location :"+e.getMessage());
             }
        }
    }
};

public class CustomMapField extends MapField {
    Bitmap mIcon;
    XYRect mDest;

    public void moveTo(Coordinates coordinates) {
        super.moveTo(coordinates);
        mDest = null;
    }

    protected void paint(Graphics graphics) {
        super.paint(graphics);
        if (null != mIcon) {
            if (null == mDest) {
                XYPoint fieldOut = new XYPoint();
                convertWorldToField(getCoordinates(), fieldOut);
                int imgW = mIcon.getWidth();
                int imgH = mIcon.getHeight();
                mDest = new XYRect(fieldOut.x - imgW / 2, 
                fieldOut.y - imgH, imgW, imgH);
            }
            graphics.drawBitmap(mDest, mIcon, 0, 0);
        }
    }
} 
```

错误在于以下行`add(mMapField);`

```
 Doublelat = qualifiedCoordinates.getLatitude();
  Doublelng = qualifiedCoordinates.getLongitude();
  mCoordinates = new  Coordinates(Doublelat, Doublelng, 0);
  mMapField = new CustomMapField();
  mMapField.mIcon=Bitmap.getBitmapResource("coin_silver.png");
  mMapField.moveTo(mCoordinates);
  mMapField.setZoom(1);
  add(mMapField);

  /*MapView mapView = new MapView();
    mapView.setLatitude(finalintlat);
    mapView.setLongitude(finalintlng);
    mapView.setZoom(10);
    MapsArguments mapsArgs = new MapsArguments(mapView);
    Invoke.invokeApplication(Invoke.APP_TYPE_MAPS, mapsArgs); 
```

请更详细地告诉我如何做到这一点，并举个例子；我无法理解“mMapField”是如何自定义 MapField 而“mapView”是 Mapview 类（请参阅我上面的代码片段）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T08:51:34.150

获取位置是一项耗时的任务，即使卫星能见度良好，也可能需要长达 1 分钟的时间，尽管较新的浆果已经大大改善了首次定位时间 (TTFF)。

不应该在事件线程中执行耗时的任务，例如打开连接或获得修复，因为该线程必须响应用户事件，如果您占用它，那么 GUI 就会冻结。内部`fieldChanged`运行的所有内容都在事件线程中运行。因此，RIM 在其新的 BlackBerryLocationProvider 中实现了线程检测并抛出异常是一件好事，现在您已经意识到了糟糕的设计并可以采取纠正措施。

您有几个选项可以异步修复：

1.  使用[LocationListener](http://www.blackberry.com/developers/docs/5.0.0api/javax/microedition/location/LocationListener.html)。
2.  产生一个新线程。
3.  在您需要它之前（或定期）预先获得修复，然后在按下按钮时您将快速获得它（从您之前保存它的地方检索它或调用`LocationProvider.getLastKnownLocation`）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T11:11:16.850

你应该使用`Invoke.invokeApplication(Invoke.APP_TYPE_MAPS, new MapsArguments(mMapField));`代替`add(mMapField);`

# java - 如何在 Java 中维护参数名称？

> ID：12725433
> 
> 赞同：-2
> 
> 时间：2012-10-04T10:38:05.403
> 
> 标签：java, web-services, parameters

我用 Java 创建了一个 Web 服务，并在接口中声明了我的方法。

```
int Add(int number1,int number2,int number3) 
```

但是当我在客户端使用相同的值时，我得到的参数名称为

```
int Add(int arg0,int arg1,int arg3) 
```

如何在客户端中使用与我在 Interface.After 创建客户端代理中声明的名称相同的名称。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T10:44:06.310

这样做的原因是 Java 将参数名称存储在二进制 .class 文件中用于类，但*不*用于接口。因此，如果您从 SEI 生成 WSDL，并且您没有注释名称，您将看到这些。

最简单的解决方案是为所有参数添加`@WebParam`注释。在该注释中，您可以重复名称，然后它将在 WSDL 中，然后在您生成的客户端中。

# html - 将 iframe 高度设置为 100% 似乎溢出包含 div

> ID：12725436
> 
> 赞同：6
> 
> 时间：2012-10-04T10:38:17.110
> 
> 标签：html, css, layout

我有一个简单的 HTML 页面，侧边栏向左浮动，所有内容向右浮动。在主要内容区域中，我有一个`<iframe>`. 但是，当我使用 CSS 将框架的高度设置为 100% 时，它似乎`div`由于某种原因溢出了包含内容，导致我的内容后出现少量空白。

这是**我的 HTML 内容**：

```
<div id="container">
    <div id="sidebar">
        <p>Sidebar content</p>
    </div>
    <div id="content">
        <iframe id="contentFrame"></iframe>
    </div>
</div> 
```

这是**我的 CSS**：

```
html, body {
    height: 100%;
}

#container {
    position: absolute;
    top: 0;
    bottom: 0;
    width: 100%;
    background-color: grey;
}

#sidebar {
    width: 100px;
    float: left;
    background-color: blue;
    height: 100%;
}

#content {
    margin-left: 100px;
    height: 100%;
    background-color: yellow;
}

#contentFrame {       
    border: none;
    padding: 0;
    margin: 0;
    background-color: pink;
    height: 100%;
} 
```

（**注意**：在任何人询问之前，`#container { position: absolute }`出于布局原因，这是必要的；我无法更改。）

你可以看到它在这个小提琴上“工作”：http: [//jsfiddle.net/9q7yp/](http://jsfiddle.net/9q7yp/)

目的是消除页面底部的白带（即结果中不应有垂直滚动条）。如果我设置`overflow: hidden`，`#content`那么问题就消失了。如有必要，我很乐意这样做，但我终其一生都无法弄清楚为什么没有这个就行不通。谁能告诉我为什么？

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-10-04T11:39:20.723

尝试添加

```
display:block; 
```

到`iframe`. [http://jsfiddle.net/9q7yp/14/](http://jsfiddle.net/9q7yp/14/)

* * *

**编辑**：

好吧，事实证明有一个更好的解决方案（无论是在实践中还是在理解正在发生的事情时）：

添加

```
vertical-align:bottom; 
```

到`iframe#contentFrame`. [http://jsfiddle.net/9q7yp/17/](http://jsfiddle.net/9q7yp/17/)

`<iframe>`，作为一个*内联*元素，初始值为`vertical-align:baseline`，但`height:100%`内联元素会将基线“推”低几个像素（因为最初基线比底部高几个像素），

所以家长`DIV`在想“内容会低 2 个像素，我需要为此腾出空间”。

[您可以在这个 fiddle](http://jsfiddle.net/XWKkR/1/)中看到这种效果（检查您的浏览器控制台并注意`bottom`两个`ClientRect`对象的属性）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T10:45:29.133

添加`margin:0`到正文

```
html, body {
    height: 100%;
  margin:0 auto; 
} 
```

工作**[演示](http://jsbin.com/uwilod/2/edit)**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T10:44:24.103

添加`margin: 0`到您的`html, body {}`部分。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T10:48:22.147

................. .***[演示](http://jsfiddle.net/9q7yp/10/)***

嗨，现在给`overflow:hidden;`这个 id`#content`

像这样

```
#content{
overflow:hidden;
} 
```

***[现场演示](http://jsfiddle.net/9q7yp/10/)***

# objective-c - Cocos2D新版本如何克服

> ID：12725440
> 
> 赞同：0
> 
> 时间：2012-10-04T10:38:27.540
> 
> 标签：objective-c, cocos2d-iphone

我开始用新的Beta版本学习Cocos2D。在新版本中，我看到了以前的版本有很多变化。我从互联网或书籍中获得的资源与上一个相同。有什么建议我将如何克服它并学习Cocos2D 快谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-09T07:44:32.527

随同任何版本.. 如果某个方法已被弃用，您的 IDE 会告诉您，您必须在谷歌上搜索解决方案。抱歉，我不知道具体情况，但如果你刚开始，它可能不相关

# url-rewriting - Umbraco 中的 URL 重写 - 页面移动到新目录下

> ID：12725448
> 
> 赞同：0
> 
> 时间：2012-10-04T10:38:47.403
> 
> 标签：url-rewriting, umbraco, url-rewrite-module

我希望在 Umbraco 中使用 URLRewriting.config 来设置一些重定向。他们中的大多数工作正常，但有一些会引起头痛。

我有一个页面：`/testpage.aspx`新网站上的哪个页面现在位于`/directory/testpage.aspx`. 我尝试了一些规则，但它们要么陷入循环，要么只是将我发送到第一页 - 这显然会产生 404 错误。

据我所知，下面的规则应该满足这个重写和工作，但我只是得到原始页面 - 这是这个网站上的 404。

```
<add name="Redirect400" rewriteUrlParameter="ExcludeFromClientQueryString" redirect="Domain" ignoreCase="true" 
   virtualUrl="^~/testpage.aspx$" 
   destinationUrl="/directory/testpage.aspx" 
   redirectMode="Permanent" /> 
```

那些正则表达式（如果我错了请纠正我），应该说任何开始和结束的页面都`/testpage.aspx`被重定向到新的 URL？任何人都可以提供任何帮助吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-05T09:07:58.803

您的虚拟 URL 有一些变化，因为它只会获得 www.domain.com/testpage.aspx

它不会得到以下结果：

1.  www.domain.com/abc/testpage.aspx
2.  www.domain.com/abc/main/testpage.aspx
3.  www.domain.com/abc/main/test/testpage.aspx

请尝试以下，我还没有测试过，但我猜是这样。

```
<add name="Redirect400" rewriteUrlParameter="ExcludeFromClientQueryString" redirect="Domain" ignoreCase="true" 
   virtualUrl="^~(.*)/testpage.aspx$" 
   destinationUrl="/directory/testpage.aspx" 
   redirectMode="Permanent" /> 
```

如果您需要更多帮助，请告诉我谢谢

# android - 如何在android中获取主屏幕的小部件和快捷方式列表

> ID：12725450
> 
> 赞同：4
> 
> 时间：2012-10-04T10:38:50.023
> 
> 标签：android, android-appwidget

如何在android中获取主屏幕的小部件和快捷方式列表。这是我的代码：

```
List<AppWidgetProviderInfo> infos = mAppWidgetManager.getInstalledProviders();

        for (int i = 0; i < infos.size(); i++) {
            int ids[] = mAppWidgetManager.getAppWidgetIds(infos.get(i).provider);
            if (ids.length != 0) {
                Log.d("TAG", "Found non-zero-length provider!");
                id = ids[0];
                info = infos.get(i);
                break;
            }
        } 
```

# jquery - jQuery 中的重构（遵循 DRY 原则）

> ID：12725451
> 
> 赞同：0
> 
> 时间：2012-10-04T10:38:53.280
> 
> 标签：jquery

```
$dltDiv.click(function(){
                    $seatdiv.css("background-color","#42de18"); 
                    $ticketRowDiv.hide();
                    price = price-15.50; 
                    $('#price h1').html('$'+price);
                });

$seatdiv.click(function(){
                    $seatdiv.css("background-color","#42de18"); 
                    $ticketRowDiv.hide();
                    price = price-15.50; 
                    $('#price h1').html('$'+price);
                }); 
```

如何在一个函数中编写相同的代码并单独调用？干杯。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:40:56.470

您可以将其设为命名函数并为这两个事件绑定：

```
function handleClick(){
  $seatdiv.css("background-color","#42de18"); 
  $ticketRowDiv.hide();
  price = price-15.50; 
  $('#price h1').html('$'+price);
}

$dltDiv.click(handleClick);
$seatdiv.click(handleClick); 
```

或者您可以组合 jQuery 对象：

```
$dltDiv.add($seatdiv).click(function(){
  $seatdiv.css("background-color","#42de18"); 
  $ticketRowDiv.hide();
  price = price-15.50; 
  $('#price h1').html('$'+price);
}); 
```

# r - R mapproj lambert-azimuthal 等面积投影

> ID：12725458
> 
> 赞同：3
> 
> 时间：2012-10-04T10:39:07.933
> 
> 标签：r, map, projection

如何使用 mapproj 包进行朗伯方位角等面积投影？ [http://cran.r-project.org/web/packages/mapproj/mapproj.pdf](http://cran.r-project.org/web/packages/mapproj/mapproj.pdf)

有

> azequalarea() 等面积

和

> lambert(lat0,lat1) 保形，lat0 和 lat1 上的真实比例

哪个最接近朗伯-方位角等面积投影？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-04T10:56:02.553

在 package`mapproj`和 function`mapproject()`中，Lambert-azimuthal 等面积投影似乎是 Lambert Conformal Conic 投影（`azequalarea()`因为`lambert(lat0,lat1)`它在手册中列出`Polar conic projections symmetric about the Prime Meridian`）。

在包`GEOmap`中，投影是使用函数完成的`lamaz.eqarea()`。

在包`rgdal`中，它是通过调用`spTransform()`包含以 . 开头的 proj4 字符串的函数来完成的`+proj=laea`。

# javascript - 如何在活动中使用

> ID：12725462
> 
> 赞同：2
> 
> 时间：2012-10-04T10:39:12.273
> 
> 标签：javascript, jquery

我正在尝试使用`on`事件。代码

```
$(".draggable").on("mouseover", function () {
                if (!$(this).data("init")) {
                    $(this).data("init", true).draggable();
                }
}); 
```

但上面的代码不起作用。可拖动插件不适用于元素。现在，如果我将`on`事件替换为`live`then 它开始工作。代码

```
$(".draggable").live("mouseover", function () {
                if (!$(this).data("init")) {
                    $(this).data("init", true).draggable();
                }
}); 
```

谁能解释我做错了什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T10:41:00.587

如果`.live()`有效，那么这可能意味着您正在操作的元素在代码运行时不存在。

这要么意味着您在运行代码之前无需等待 DOM 准备就绪，要么您需要使用委托版本来`.on`代替。

```
$(function() {
    $(document).on("mouseover", ".draggable", function () {
                    if (!$(this).data("init")) {
                        $(this).data("init", true).draggable();
                    }
    });
}); 
```

您应该替换`document`为包含所有`.draggable`元素的最深嵌套容器的选择器。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T10:40:35.710

这取决于您使用的 jquery 版本

```
$(selector).live(events, data, handler);                // jQuery 1.3+
$(document).delegate(selector, events, data, handler);  // jQuery 1.4.3+
$(document).on(events, selector, data, handler);        // jQuery 1.7+ 
```

有关更多详细信息，请参阅此[链接](http://api.jquery.com/live/)

# silverlight - Silverlight hittest 对象位于网格边界内

> ID：12725463
> 
> 赞同：0
> 
> 时间：2012-10-04T10:39:24.233
> 
> 标签：silverlight, transform, drag

我创建了一个可拖动控件，它希望限制在其包含网格的边界内（即不允许用户将其拖动到网格之外）。

我需要一个返回 true 或 false 的测试，以便我可以在必要时取消拖动。

我查看了 VisualTreeHelper.FindElementsInHostCoordinates 和 TransformToVisual 等，但如果不对控件的每个角进行大量检查，我就找不到一种简单的方法。

例如一些代码（对话框是被拖动控件的名称）：

```
MouseEventHandler mouseMove = (s, args) =>
        {
            var transform = new TranslateTransform();
            transform.X = args.GetPosition(Dialog).X - _mouseDownPosition.X;
            transform.Y = args.GetPosition(Dialog).Y - _mouseDownPosition.Y;

            if (transformGroup != null)
            {
                transformGroup.Children.Add(transform);
                Dialog.RenderTransform = transformGroup;
            }

        }; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T10:48:43.660

除了检查控件的每个角落之外，别无他法。

但是，您可以采取一些捷径，因为您知道，`Dialog`并且拖动它的内容在拖动过程中不会改变形状或大小，并且左手边缘不可能在没有右手边缘的`Dialog`右侧`Grid`的右手边`Dialog`也在右边`Grid`。这仅适用于`Dialog`不旋转的情况。

所以，你需要类似下面的伪代码：

```
if (Dialog.Left >= Grid.Left &&
    Dialog.Top >= Grid.Top &&
    Dialog.Right <= Grid.Right &&
    Dialog.Bottom <= Grid.Bottom)
{
    // Allow the drag
}
else
{
    // Snap Dialog to the edge of Grid
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T11:16:38.093

谢谢。最后我采取了另一种方法；而不是试图阻止用户将任何子控件拖动到容器边界之外，我只是阻止他们将指针拖动到边界之外，例如在 mousemove 事件处理程序中：

```
if ((args.GetPosition(parentGrid).X < 0 || args.GetPosition(parentGrid).Y < 0))
{
    return; // don't do a translatetransform
} 
```

这样做的问题是子控件的部分在容器之外是可见的。

我所做的是设置父控件的 Clip 属性，以便隐藏边界之外的子控件部分。

例如：

```
var clipRegion = new RectangleGeometry();
clipRegion.Rect = new Rect(0, 0, elementParent.ActualWidth, elementParent.ActualHeight);
elementParent.SetValue(Canvas.ClipProperty, clipRegion); 
```

这似乎工作得很好！

# jquery - textbox autocomplete with json database source

> ID：12725487
> 
> 赞同：1
> 
> 时间：2012-10-04T10:40:27.140
> 
> 标签：jquery, json, autocomplete

I have a VS.NET 2010 + MVC 3.0 application and I've got a autocompletion problem on a textbox. I was following example from [http://jqueryui.com/demos/autocomplete/](http://jqueryui.com/demos/autocomplete/) All works great. Now I want to populate source array by json action. For this on page load I'm calling GetKPIs action by json in IndexKPIOrder.js. Action GetKPIs is well fired and _list0 is filled, but no autocompletion on txtKPIs textbox.

Any suggestions will be appreciated.

This is what I'm doing.

Index.cshtml:

```
@using NegTl.DomainModel.Model.UserCatalogues
@model IEnumerable<KPIOrder>
@{
ViewBag.Title = "KPI Ordering";
}
@section JavaScript
{
    <script type="text/javascript" src="@Url.Content("~/Scripts/helpers.js")" ></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/Views/KPIOrder/IndexKPIOrder.js")" ></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/jquery-1.8.2.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/jquery.ui.core.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/jquery.ui.widget.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/jquery.ui.position.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/jquery.ui.autocomplete.js")"></script>
}
<p>
    @Html.ActionLink("Create New", "Create")    
</p>
    @Html.TextBox("txtKPIs", "", new { style = "width:300px;" })
<div>
    @{
        var grid = new WebGrid(Model,
            defaultSort: "KPIOrdering",
            rowsPerPage: 20);
    }
    @grid.GetHtml(mode: WebGridPagerModes.All,
            columns: grid.Columns(
                            grid.Column(columnName: "KPIName"),
                            grid.Column(columnName: "KPIHeading"),
                            grid.Column(columnName: "KPIOrdering"),
                            grid.Column(columnName: "IsKPI"),
                            grid.Column(columnName: "IsNumeric"),
                            grid.Column(columnName: "IsNative"),
                            grid.Column(columnName: "Actions", header: "Actions", canSort: false, format: @<text>
    @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
    @Html.ActionLink("Details", "Details", new { id = item.Id }) |
    @Html.ActionLink("Delete", "Delete", new { id = item.Id })</text>)
        )
    )
</div>
@using (Html.BeginForm("NoAction", "KPIOrder", FormMethod.Post, new { id = "mockFormForAction3" })) { } 
```

Controller:

```
public class KPIs
{
    public int KPIOrder { get; set; }
    public string KPIName { get; set; }
}
...
public JsonResult GetKPIs()
{
    try
    {
        List<KPIs> _list0 = new List<KPIs>();

        SqlConnection myConnection = new SqlConnection(ConfigurationManager.ConnectionStrings["NegociationToolEntities"].ConnectionString);
        myConnection.Open();

        SqlCommand cmd = new SqlCommand(ConfigurationManager.AppSettings["KPIListSP"], myConnection);
        cmd.CommandType = CommandType.StoredProcedure;
        cmd.CommandTimeout = 0;

        SqlDataReader reader = cmd.ExecuteReader();

        while (reader.Read())
        {
            _list0.Add(new KPIs { KPIOrder = Convert.ToInt32(reader["KPI_Order"]), KPIName = Convert.ToString(reader["KPI_Name"]) });
        }

        return Json(new { status = "OK", data = _list0 }, JsonRequestBehavior.AllowGet);
    }
    catch(Exception ex)
    {
        return Json(new { status = "FAIL", message = ex.Message }, JsonRequestBehavior.AllowGet);
    }
} 
```

IndexKPIOrder.js:

```
$(document).ready(function () {

    var availableTagsLoad = [""];

    var url = getRootUrlFromFormAction("mockFormForAction3") + "GetKPIs";

    $(function () {
        $("#txtKPIs").autocomplete({
            source: availableTagsLoad
        });
    });

    $.ajax({
        dataType: 'json',
        delay: 400,
        autofill: true,
        selectFirst: false,
        highlight: false,
        url: url,
        contentType: "application/json; charset=utf-8",
        success: function (response) {
            if (response.status == "OK") {
                $.each(response.data, function (index, kpi) {
                    availableTagsLoad.push(kpi.KPIName);
                });
            }
            else {
                $('#errorMessage').html(response.message);
            }
        },
        error: function (jqXHR, textStatus, errorThrown) {
            $('#errorMessage').html(errorThrown);
        }
    });

}) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-09T14:47:45.583

Solution was to move autocomplete function just after array creation, like this:

```
$(document).ready(function () {

    var availableTagsLoad = [];
    var url = getRootUrlFromFormAction("mockFormForAction3") + "GetKPIs";

    $.ajax({
        dataType: 'json',
        delay: 400,
        autofill: true,
        selectFirst: false,
        highlight: false,
        url: url,
        contentType: "application/json; charset=utf-8",
        success: function (response) {
            if (response.status == "OK") {
                $.each(response.data, function (index, kpi) {
                    availableTagsLoad.push(kpi.KPIName);
                });

                $("#txtKPIs").autocomplete({
                    source: availableTagsLoad
                });
            }
        }
    });
}) 
```

# javascript - 使用 JavaScript Cookies 作为全局变量

> ID：12725490
> 
> 赞同：0
> 
> 时间：2012-10-04T10:40:32.657
> 
> 标签：javascript, jsp

我在使用 JavaScript cookie 作为全局变量时遇到问题。基本上我已经设置了带有属性 prev 的 cookie 来在 jsp 页面上存储一个值。

然后在另一个jsp页面上，我将尝试获取该值。但是我没有得到价值。我总是得到错误的值。

这两个jsp页面是abc.jsp和xyz.jsp。两个 jsp 页面都有一个 <%@ include file='cookies.jsp'%>

这是cookies.jsp 中的内容。它与 W3school 示例的代码相同。

```
<script>
/*Code For Setting Cookies*/
function getCookie(c_name)
{
var i,x,y,ARRcookies=document.cookie.split(";");
for (i=0;i<ARRcookies.length;i++)
  {
  x=ARRcookies[i].substr(0,ARRcookies[i].indexOf("="));
  y=ARRcookies[i].substr(ARRcookies[i].indexOf("=")+1);
  x=x.replace(/^\s+|\s+$/g,"");
  if (x==c_name)
    {
    return unescape(y);
    }
  }
}

function setCookie(c_name,value,exdays)
{
var exdate=new Date();
exdate.setDate(exdate.getDate() + exdays);
var c_value=escape(value) + ((exdays==null) ? "" : "; expires="+exdate.toUTCString());
document.cookie=c_name + "=" + c_value;
}

function checkCookie()
{
    var x=getCookie("prev");
    if (x!=null) //cookie is set
      {
        //do nothing
      }
    else 
      {
        setCookie("prev",0,365); //set to null
      }
} //end of code for setting cookies
</script> 
```

最重要的是，我尝试使用 getCookie() 和 setCookie()。它似乎在页面上本地设置 cookie，但没有跨页面传输值。我可以知道发生了什么吗？

如果您需要更多线索，请提示我更多问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T10:50:17.903

根据[RFC2109](http://www.w3.org/Protocols/rfc2109/rfc2109) § 4.3.1，cookie 的“路径”*默认为生成 Set-Cookie 响应的请求 URL 的路径，直到但不包括最右边的 /*。

这意味着您缺少`; PATH=/`cookie 设置功能：

```
function setCookie(c_name,value,exdays)
{
    var exdate=new Date();
    exdate.setDate(exdate.getDate() + exdays);
    var c_value=escape(value) + ((exdays==null)
                                 ? "" : "; expires="+exdate.toUTCString())
                                + "; path=/";
    document.cookie=c_name + "=" + c_value;
} 
```

强烈考虑不要复制/粘贴您在 Internet 上找到的代码。相关资料很好

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T10:49:11.327

我认为您需要`;path=/`在 cookie 中设置路径才能在所有页面中访问它。

```
document.cookie = c_name + "=" + c_value+";path=/"; 
```

# javascript - 使用 javascript 为全球时间提供可靠的付费时间服务器

> ID：12725494
> 
> 赞同：0
> 
> 时间：2012-10-04T10:40:45.370
> 
> 标签：javascript, time, timezone

我正在使用 Javascript 寻找可靠的全球时间付费时间服务器。我需要将我的分布式服务器与本地时间同步，这将从时间服务中消耗（以防客户端 PC 没有 NTP 同步）。

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-17T14:35:53.870

你可以试试这个

*   [http://json-time.appspot.com](http://json-time.appspot.com)

并自行将其部署到 Google App Engine 以完全控制它。

*   [https://github.com/simonw/json-time](https://github.com/simonw/json-time)

可靠性将取决于 Google 的 App Engine。

# javascript - Android操作系统中的垂直滚动问题

> ID：12725495
> 
> 赞同：0
> 
> 时间：2012-10-04T10:40:49.727
> 
> 标签：javascript, android, css, cordova

> **可能重复：**
> [Phonegap 和 Android 滚动问题](https://stackoverflow.com/questions/12089096/phonegap-and-android-scrolling-issue)

我正在使用 phonegap 进行 android/IOS 应用程序开发。在我的 index.html 中，我有一个页眉 div 和一个页脚 div，在它们之间是内容的 div。我为内容（中间）div提供以下样式：

```
<div id="edit" title="Edit" style="top:10%;height:80%;overflow:scroll"></div> 
```

因此，如果内容超出可用空间，则内容应垂直滚动，保持页眉和页脚完整/固定。但内容不会在 android OS 中滑动。它只是来固定的。同样的事情适用于IOS。我怎样才能在android中建立这个。任何帮助表示赞赏。谢谢。

# java - KahaDB 访问速度慢

> ID：12725505
> 
> 赞同：0
> 
> 时间：2012-10-04T10:41:04.643
> 
> 标签：java, jms, activemq, messagebroker

在运行了大约 3 个月的 activemq 代理后，它非常慢，如下所示。当它重新启动时，它恢复正常（大约 600 毫秒 - 1000 毫秒）。

我正在寻找问题的原因。HD 速度非常快，1K rpm，IO 不多。如果您知道/（可以猜到）问题的原因和解决方案，请告诉我。

```
 2012-08-27 19:24:06,670 | INFO  | Slow KahaDB access: cleanup took 7190 | org.apache.activemq.store.kahadb.MessageDatabase | ActiveMQ Journal Checkpoint Worker
    2012-08-27 21:44:14,814 | INFO  | Slow KahaDB access: cleanup took 7176 | org.apache.activemq.store.kahadb.MessageDatabase | ActiveMQ Journal Checkpoint Worker
    2012-08-27 23:58:15,124 | INFO  | Slow KahaDB access: cleanup took 7210 | org.apache.activemq.store.kahadb.MessageDatabase | ActiveMQ Journal Checkpoint Worker
    2012-08-28 02:09:03,120 | INFO  | Slow KahaDB access: cleanup took 7212 | org.apache.activemq.store.kahadb.MessageDatabase | ActiveMQ Journal Checkpoint Worker
    2012-08-28 04:27:46,521 | INFO  | Slow KahaDB access: cleanup took 7196 | org.apache.activemq.store.kahadb.MessageDatabase | ActiveMQ Journal Checkpoint Worker
    2012-08-28 06:36:38,818 | INFO  | Slow KahaDB access: cleanup took 7191 | org.apache.activemq.store.kahadb.MessageDatabase | ActiveMQ Journal Checkpoint Worker
    2012-08-28 08:28:09,937 | INFO  | Slow KahaDB access: Journal append took: 13 ms, Index update took 7165 ms | org.apache.activemq.store.kahadb.MessageDatabase | ActiveMQ Transport: tcp:///127.0.0.1:39951
    2012-08-28 08:29:01,715 | INFO  | Slow KahaDB access: Journal append took: 18 ms, Index update took 7171 ms | org.apache.activemq.store.kahadb.MessageDatabase | ActiveMQ Transport: tcp:///127.0.0.1:39951
    2012-08-28 08:29:26,039 | INFO  | Slow KahaDB access: Journal append took: 30 ms, Index update took 7194 ms | org.apache.activemq.store.kahadb.MessageDatabase | ActiveMQ Transport: tcp:///127.0.0.1:39951
    2012-08-28 08:29:52,283 | INFO  | Slow KahaDB access: Journal append took: 7193 ms, Index update took 116 ms | org.apache.activemq.store.kahadb.MessageDatabase | ActiveMQ Transport: tcp:///127.0.0.1:39951
    2012-08-28 08:30:12,140 | INFO  | Slow KahaDB access: Journal append took: 0 ms, Index update took 7596 ms | org.apache.activemq.store.kahadb.MessageDatabase | ActiveMQ Transport: tcp:///127.0.0.1:39956
    2012-08-28 08:30:25,763 | INFO  | Slow KahaDB access: Journal append took: 11 ms, Index update took 7760 ms | 
```

感谢你们。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T10:49:38.653

我们遇到了同样的问题，结果证明是内存泄漏（对象永远不会从集合中删除）。尝试运行 java 内存分析器并观察几天内内存的逐渐增长。在我们的案例中，JRockit “任务控制”非常棒。

# java - 询问 c3p0 有多少连接在使用中

> ID：12725508
> 
> 赞同：1
> 
> 时间：2012-10-04T10:41:17.963
> 
> 标签：java, c3p0

有没有办法以编程方式询问 c3p0 有多少连接正在使用，或者当池耗尽时可能会记录。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T11:04:04.897

如上面 Austin 评论引用的 URL 所示，您可以使用 JMX 来检查和修改正在运行的 c3p0 PooledDataSources。

您也可以以编程方式执行此操作。c3p0 的 PooledDataSources 有一个精心设计的 API 来检查它们的状态：

[http://www.mchange.com/projects/c3p0/apidocs/com/mchange/v2/c3p0/PooledDataSource.html](http://www.mchange.com/projects/c3p0/apidocs/com/mchange/v2/c3p0/PooledDataSource.html)

如果您使用 ComboPooledDataSource，您可以访问更丰富的 API。

[http://www.mchange.com/projects/c3p0/apidocs/com/mchange/v2/c3p0/ComboPooledDataSource.html](http://www.mchange.com/projects/c3p0/apidocs/com/mchange/v2/c3p0/ComboPooledDataSource.html)

我希望这有帮助！

# wcf - 工具菜单中没有“WCF 服务配置编辑器”

> ID：12725511
> 
> 赞同：1
> 
> 时间：2012-10-04T10:41:28.830
> 
> 标签：wcf

我下载了 VS Web Developer 2010 Express 并使用默认选项成功创建了 WCF 服务（工作正常，因此编译和运行它没有问题）。

但是，现在我想编辑 WCF 配置，但在工具菜单中缺少 WCF 编辑器链接（它不在菜单中，也不在上下文菜单中）。

有没有办法通过重新注册或其他方式使此选项出现（我知道我可以手动启动它，但我担心它不在菜单中）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T11:34:26.523

您必须安装 Windows SDK，然后它应该在此处可用：C:\Program Files\Microsoft SDKs\Windows\v7.1\Bin\ 名称是 SvcConfigEditor.exe

# android - 如何将我的自定义布局设置为 DraggableGridView

> ID：12725514
> 
> 赞同：2
> 
> 时间：2012-10-04T10:41:39.167
> 
> 标签：android, android-gridview

我正在使用`DraggableGridView`添加我的自定义布局，该布局将具有一个图像视图。但是，如果我们将图像视图添加到要添加到对象的相对布局中，则孩子不会绘图`DraggableGridView`，但是如果我们将图像视图直接添加到`DraggableGridView`对象，那么它就是在绘图。你能帮我么？

这是代码：

```
gridView = (DraggableGridView)findViewById(R.id.manageGridView);

RelativeLayout gridRow   = new RelativeLayout(ManageClustersActivity.this);
gridRow.setLayoutParams(new RelativeLayout.LayoutParams(192,192));

ImageView iv = new ImageView(getApplicationContext());
iv.setBackgroundDrawable(getResources().getDrawable(images[i]));
iv.setLayoutParams(new RelativeLayout.LayoutParams(192,192));

gridRow.addView(iv);

gridView.addView(gridRow); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-24T15:14:37.690

我认为你对这个 Fork 有更多的运气：[https ://github.com/lkorth/DraggableGridView](https://github.com/lkorth/DraggableGridView)

正在寻找相同的东西：我唯一缺少的是 onItemClick 事件：据我所知，这不起作用。

更新：在 Dev 分支上，这似乎是固定的。 [https://github.com/lkorth/DraggableGridView/commit/805bd50f4383cc2c2cbbf231c4a414a5afa60a0f](https://github.com/lkorth/DraggableGridView/commit/805bd50f4383cc2c2cbbf231c4a414a5afa60a0f)

将这些行添加到 onTouch 方法（在生产中，似乎也可以）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-01-16T06:07:24.457

您应该添加到 DraggableGridView.java

```
@Override
protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
    final int count = getChildCount();
    for (int i = 0; i < count; i++) {
        getChildAt(i).measure(widthMeasureSpec, heightMeasureSpec);
    }
    super.onMeasure(widthMeasureSpec, heightMeasureSpec);

} 
```

# java - 位运算符和二进制字符串求值

> ID：12725521
> 
> 赞同：0
> 
> 时间：2012-10-04T10:42:06.013
> 
> 标签：java, binary, bit-manipulation, hex

我有一个任务，我必须将十六进制转换为 16 位二进制字符串，然后使用按位运算符比较其中两个。我有一个 for 循环，它执行`a.charAt[i]`&`b.charAt[i]`到一个字符串生成器字符串。现在，我希望它输出一个二进制数，但我已经达到了每次执行该行时，它给我的数字不是 0 或 1。它给了我 2 个数字（2 和 3）。我究竟做错了什么？

一些代码：

```
 int bin = 0;
    hex = hex.replaceFirst("0x", "");
    bin = Integer.parseInt(hex, 16);
    hex = String.format("%16s", Integer.toBinaryString(bin));
    return hex; 
```

我要评估的两个十六进制数是`FFF7`和`0001`。我已经成功地将它们转换为二进制字符串。我也不知道为什么，但前面的零没有出现，只是空格：/

我已经在网上广泛搜索了几个小时，但似乎找不到我遇到的问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:43:56.580

我认为您应该查看[Integer.parseInt()](http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html#parseInt%28java.lang.String,%20int%29)将十六进制字符串转换为整数。一旦你有了一个数字表示，那么你的二进制操作就会容易得多。

如果您确实需要字符串二进制表示，请查看[Integer.toBinaryString()](http://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html#toBinaryString%28int%29)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T15:10:37.690

我假设您想将两个 16 位、大端、十六进制数按位与在一起，并将结果显示为二进制。

正如其他人所说，使用数字而不是字符串会让你的生活更轻松 - 除非这是分配的约束？

如果我在做这项任务，根据我的假设和我的理解，我会：

*   将字符串转换为数字
*   对于数字的每一位，从`0x8000`下到包括`0x0001`：
    *   `&`对应的位
    *   将结果附加到`StringBuilder`
*   返回的内容`StringBuilder`

要逐步遍历每个数字的相应位，我将使用[bit masking](http://en.wikipedia.org/wiki/Mask_%28computing%29)和[bit shift](https://stackoverflow.com/questions/141525/absolute-beginners-guide-to-bit-shifting)。

NB`0x8000`是 16 位数字的最高位。

另一种方法是让 Java 做很多事情，但这可能不是您分配的重点：

```
final int a = Integer.parseInt("FFF7", 16); // 0b1111111111110111
final int b = Integer.parseInt("0001", 16); // 0b0000000000000001

final int result = a & b;

final String output = String.format("%16s", 
    Integer.toBinaryString(result)).replace(' ', '0');

System.out.println(output); 
```

这将打印：

```
0000000000000001 
```

我希望这在某种程度上有所帮助，并且我的假设并不太离谱。祝你好运！

# c# - 从后面的 C# 代码插入 sql 时出错

> ID：12725522
> 
> 赞同：0
> 
> 时间：2012-10-04T10:42:05.353
> 
> 标签：c#, asp.net, sql

我试图同时在两个表中插入一些新的威胁。在 sql management studio 中运行的 sql 语句就像一个魅力。但是当我尝试做一个 aspx 页面，在 C# 代码隐藏中编码 sql 语句时，它返回的东西就像它不能插入空一样。我尝试了不同的 sql 语句，但似乎没有任何效果。

原文如下：

```
DECLARE @BrugerNavn NVARCHAR(50) = 'Bent'
DECLARE @Besked NVARCHAR(MAX) = 'Bents besked'
DECLARE @TraadNavn NVARCHAR(50) = 'Bents tråd'
DECLARE @KategoriID INT = 1

INSERT INTO TraadTabel
VALUES (@TraadNavn, @KategoriID)

INSERT INTO Beskeder
VALUES (@Besked, SCOPE_IDENTITY(), @BrugerNavn) 
```

我的 C# 代码如下：

```
protected void btnSubmit_Click(object sender, EventArgs e)
{
    string BrugerNavn = txtBrugerNavn.Text;
    string TradNavn = txtTraadNavn.Text;
    string Besked = txtBesked.Text;
    int KategoriID = int.Parse(Request.QueryString["id"]);

    SqlConnection conn = new SqlConnection(WebConfigurationManager.ConnectionStrings["SimpeltForumConnectionString"].ConnectionString);
    SqlCommand FirstLoad = new SqlCommand("INSERT INTO TraadTabel VALUES (@TradNavn, @KategoriID)", conn);
    //SqlCommand SecondLoad = new SqlCommand("INSERT INTO Beskeder VALUES (@Besked, SCOPE_IDENTITY(), @BrugerNavn)", conn);
    SqlCommand SecondLoad = new SqlCommand("INSERT INTO Beskeder VALUES (@Besked, SELECT IDENT_CURRENT(IndlaegID)+1, @BrugerNavn)", conn);

    FirstLoad.CommandType = CommandType.Text;
    FirstLoad.Parameters.AddWithValue("@TradNavn", TradNavn);
    FirstLoad.Parameters.AddWithValue("@KategoriID", KategoriID);
    SecondLoad.Parameters.AddWithValue("@Besked", Besked);
    SecondLoad.Parameters.AddWithValue("@BrugerNavn", BrugerNavn);

    using (conn)
    {
        conn.Open();
        FirstLoad.ExecuteNonQuery();
        SecondLoad.ExecuteNonQuery();
    }
} 
```

如您所见，我已将“SCOPE_IDENTITY()”行注释掉，并留下它，因为它是实际工作的代码，当从 sql management studio 中触发时。而且我认为它是范围标识，它在我的浏览器中返回错误。我不知道该怎么办，请帮忙。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T23:16:22.470

谢谢大家....我尝试了不同的方法。似乎没有什么对我有用。我决定尝试重新编写代码。从头开始。有时它会起作用。有时它不会。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T12:50:08.237

我建议您改用存储过程。以后处理它们也会更容易。并且您将能够按原样使用您的原始陈述。存储过程就像：

```
CREATE PROCEDURE Insert_TraadTabel_AND_Beskeder                    
 -- Add the parameters for the stored procedure here                          
 DECLARE @BrugerNavn NVARCHAR(50), 
DECLARE @Besked NVARCHAR(MAX),
DECLARE @TraadNavn NVARCHAR(50),
DECLARE @KategoriID INT         

AS                            
BEGIN                            
 -- SET NOCOUNT ON added to prevent extra result sets from                            
 -- interfering with SELECT statements.                            
 SET NOCOUNT ON; 

INSERT INTO TraadTabel
VALUES (@TraadNavn, @KategoriID)

INSERT INTO Beskeder
VALUES (@Besked, SCOPE_IDENTITY(), @BrugerNavn) 
END 
```

代码将是这样的：

```
 protected void btnSubmit_Click(object sender, EventArgs e)
    {
        using (conn)
        {
            SqlCommand command;
            command = new SqlCommand();
            command.Connection = conn;
            command.CommandType = CommandType.StoredProcedure;
            command.CommandText = "Insert_TraadTabel_AND_Beskeder";
            command.Parameters.Add("@TradNavn", SqlDbType.NVarChar).Value = txtTraadNavn.Text;
            command.Parameters.Add("@KategoriID", SqlDbType.Int).Value = int.Parse(Request.QueryString["id"]);
            command.Parameters.Add("@Besked", SqlDbType.NVarChar).Value = txtBesked.Text;
            command.Parameters.Add("@BrugerNavn", SqlDbType.NVarChar).Value = txtBrugerNavn.Text;
            command.ExecuteNonQuery();
        }
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T10:55:18.010

`SCOPE_IDENTITY`是最后插入记录的自动生成的 ID 值。所以你不需要将它传递给插入命令。您可以在 ADO.NET 中检索它并将其用作下一个命令的参数。您可以使用`SELECT CAST(scope_identity() AS int)`：

```
using (var con = new SqlConnection(WebConfigurationManager.ConnectionStrings["SimpeltForumConnectionString"].ConnectionString)) {
    con.Open();
    int newID;
    var sql = "INSERT INTO TraadTabel VALUES (@TradNavn, @KategoriID);SELECT CAST(scope_identity() AS int);";
    using (var insertCommand1 = new SqlCommand(sql, con)) {
        insertCommand1.Parameters.AddWithValue("@TradNavn", TradNavn);
        insertCommand1.Parameters.AddWithValue("@KategoriID", KategoriID);
        newID = (int)insertCommand1.ExecuteScalar();
    }
    sql = "INSERT INTO Beskeder VALUES (@Besked, @newID, @BrugerNavn);";
    using (var insertCommand2 = new SqlCommand(sql, con)) {
        insertCommand2.Parameters.AddWithValue("@newID", newID);
        insertCommand2.Parameters.AddWithValue("@Besked", Besked);
        insertCommand2.Parameters.AddWithValue("@BrugerNavn", BrugerNavn);
        var affectedRecords = insertCommand2.ExecuteNonQuery();
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T10:53:05.700

代替：

```
 SqlCommand FirstLoad = new SqlCommand("INSERT INTO TraadTabel VALUES (@TradNavn, @KategoriID)", conn);
 SqlCommand SecondLoad = new SqlCommand("INSERT INTO Beskeder VALUES (@Besked, SELECT IDENT_CURRENT(IndlaegID)+1, @BrugerNavn)", conn); 
```

将它们作为一个命令，如下所示：

```
 SqlCommand MyOnlyLoad = new SqlCommand("INSERT INTO TraadTabel VALUES (@TradNavn, @KategoriID) GO INSERT INTO Beskeder VALUES (@Besked, SELECT IDENT_CURRENT(IndlaegID)+1, @BrugerNavn) ", conn); 
```

然后将其余代码作为一个命令处理。

希望，这将是工作。

# ios - 在 Mobile Safari 上缩放 iframe 会破坏 iframe 的链接

> ID：12725525
> 
> 赞同：5
> 
> 时间：2012-10-04T10:42:20.163
> 
> 标签：ios, css, iframe, safari

我在 Mobile Safari 的 iframe 上使用 CCS3 转换时遇到问题。如果我`-webkit-transform: scale();`在 iframe 上使用，iframe 的内容会相应缩放，但 iframe 中的链接会中断。

点击元素会突出显示**hitbox**，并且链接的**hitboxes**似乎没有被缩放。当您点击一个链接时，您可以看到如果 iframe 没有被缩放，那么点击框会出现在链接所在的位置。

无论您在哪里设置变换原点，链接距离左上角越远，这种情况会变得更糟。

我正在测试的同一页面在我的计算机上的 Safari 和 Chrome 上完美运行，所以我怀疑这是一个移动 Safari 错误。

这是一个已知问题吗？有人知道解决方法吗？我尝试使用 zoom 属性，但它只调整 iframe 的大小，而不是它的内容。

我在这里上传了一个示例：http: [//trrrm.com/iframe/](http://trrrm.com/iframe/)如果您在 iOS 设备上打开它并单击 iframe 中的链接，您就会明白我的意思。

谢谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-06T10:05:33.067

这是一个已知问题。缩放 iframe 上的触摸事件在 iOS 上无法正常工作。如果您正在创建 iFrame 的内容，则可以改为缩放内容正文元素。

请注意，即使是动画翻译也会在 iOS6 上引起问题 - 我必须在动画完成后通过将 iframe 的顶部更改 1px 来强制重新布局，以使触摸事件正常工作。

Webkit[在转换的 iframe 上有一个开放的错误](https://bugs.webkit.org/show_bug.cgi?id=15676)。

# android - Android类型参数也是对象吗

> ID：12725531
> 
> 赞同：0
> 
> 时间：2012-10-04T10:42:50.883
> 
> 标签：android, object, methods, parameters

怎么可能：

```
final Button okButton = (Button)findViewById(R.id.okButton); 
```

这很清楚，是变量声明+赋值，绝对不是对象！如果是这样，我该如何执行以下操作，并在其上实际操作方法？：

```
okButton.setOnClickListener(this);
okButton.setOnLongClickListener(this); 
```

??

这让人困惑...

谢谢...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:49:23.877

与安卓无关。您似乎对 Java 语法感到困惑。" " 是类型 " "`final Button okButton`的对象 " " 的声明。对象引用已声明为“ ”，因此无法再次分配。`okButton``Button``final`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T10:52:32.710

[变量可以是对象](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/variables.html)

如果您查看[findViewById 的文档，](http://developer.android.com/reference/android/app/Activity.html#findViewById%28int%29)它需要一个 int 类型的参数并返回一个视图。

`findViewById`您已使用前缀`(Button)`告诉系统您期望将 R.id.okButton 传递给 findViewById 将返回一个 View，它实际上是[Button (View 的子类) 的](http://developer.android.com/reference/android/widget/Button.html)一个实例。

该指令将View 返回的类型`(Button)` [转换](http://www.javabeginner.com/learn-java/java-object-typecasting)`findViewById`为类型按钮并将其分配给您的变量`okButton`。

所以

*   R.id.okButton 是一个 int，它作为参数传递给
*   findViewById 这是一种方法（我猜可能是 Activity）
*   它返回一个可以转换为对象的 View 类型的对象
*   Button 类型，分配给您的 Button 变量

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T11:03:59.040

`Button okButton`意味着您已经创建了一个 Button 对象名称**okButton**，然后您通过您在**xml**中创建的按钮类型对象对其进行实例化，并提供了一个唯一的标识名称 okButton。

另一种方法是

```
Button okButton = new Button(this); 
```

实际上它们之间没有区别，您可以动态创建它并且可以在不触及 xml 的情况下添加/删除它们。

# javascript - 当 dojoConfig 属性 async 为 true 时，如何呈现我的 DateTextBox 控件？

> ID：12725536
> 
> 赞同：0
> 
> 时间：2012-10-04T10:43:16.983
> 
> 标签：javascript, html, asynchronous, dojo

当我设置`dojoConfig`时`async: true`，我`DateTextBox`的不会被渲染，但是当我使用时`async: false`一切正常；但我需要`async`能够使用 AJAX 长时间轮询的模式。如何解决此问题以便呈现我的控件？

这是我的代码：

```
<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="dijit/themes/claro/claro.css">
<style>
html, body {
    height: 100%;
    margin: 0;
    overflow: hidden;
    padding: 0;
}
</style>
<script>dojoConfig = {async: true}</script>
<script src='dojo/dojo.js'>
</script>
<script>
require(["dojo/ready", "dijit/form/Button", "dojo/dom", "dijit/registry"], function(ready, Button, dom, registry){
    ready(function(){
        // Create a button programmatically:
            var myButton = new Button({
                label: "button"
            }, "topButton");
    });
});

require(["dojo/ready", "dijit/form/Button", "dojo/dom"], function(ready, Button, dom){
    ready(function(){
        // Create a button programmatically:
        var myButton = new Button({
            label: "button"
        }, "leftButton");
    });
});

require(["dojo/ready", "dijit/form/DateTextBox", "dojo/dom", "dojo/parser"], function(ready, DateTextBox, dom, parser){
    ready(function(){
        // Create a button programmatically:
        var dateTextBox = new DateTextBox({
            value: new Date(2009, 0, 20)
        }, "centerPicker");
    });
});

require(["dojo/ready", "dijit/form/Button", "dojo/dom"], function(ready, Button, dom){
    ready(function(){
        // Create a button programmatically:
        var myButton = new Button({
            label: "button"
        }, "bottomButton");
    });
});

require(["dojo/ready", "dijit/registry", "dijit/layout/BorderContainer", "dijit/layout/ContentPane"],
        function(ready, registry, BorderContainer, ContentPane){
            ready(function(){
                var appLayout = new BorderContainer({
                    design: "headline"
                }, "appLayout");

                appLayout.addChild(
                    new ContentPane({
                        region: "top",
                        content: registry.byId("topButton")
                    })
                );
                appLayout.addChild(
                    new ContentPane({
                        region: "left",
                        content: registry.byId("leftButton")
                    })
                );
                appLayout.addChild(
                    new ContentPane({
                        region: "center",
                        content: registry.byId("centerPicker")
                    })
                );
                appLayout.addChild(
                    new ContentPane({
                        region: "bottom",
                        content: registry.byId("bottomButton")
                    })
                );

                // start up and do layout
                appLayout.startup();
            });
        });
</script>
</head>
<body class="claro">
<style>
html, body {
    height: 100%;
    margin: 0;
    overflow: hidden;
    padding: 0;
}

#appLayout {
    height: 100%;
}
</style>
<div id="appLayout" class="demoLayout"></div>
<button id="topButton" type="button"></button>
<button id="leftButton" type="button"></button>
<div id="centerPicker"></div>
<button id="bottomButton" type="button"></button>
</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T19:46:22.297

如果你构建了一层依赖，这个问题就会消失。问题是，DateTextBox 比 BorderContainer 具有更多的依赖关系 - 因此`require`inputelement 的下载完成时间晚`require`于布局中的 ..

这反过来又使 dojo.ready 以“错误”的方式将回调排队，而不是您所希望的。一旦下载了所有依赖项，.ready 就有一个要调用的函数列表 - 但它是按照脚本对其进行排队的方式排序的。

为了克服这个问题，您可以使用“互斥锁”，因为在某些奇怪的情况下 - 订单*可以*根据您的设计需要排队。您必须使逻辑类似于：

1.  给带有 region:center 的 ContentPane 一个 id。
2.  `if registry.byId(centerPicker) != undefined: centerRegionContentPane.addChild(registry.byId(centerPicker))`在布局部分。
3.  `If registry.byId(centerRegion) != undefined: registry.byId(centerRegion).addChild(centerPickerWidget)`在日期框部分下。

# c# - 如何将 html 发送到 C# SelfHost 控制台应用程序

> ID：12725540
> 
> 赞同：1
> 
> 时间：2012-10-04T10:43:25.540
> 
> 标签：c#, self-hosting

使用 System.Web.Http.SelfHost 等如何将 html 页面发送到浏览器？

目前，在 Google Chrome 中，它以文本形式出现。我找不到如何将标题更改为 text/html，我不知道这是否会解决它。

我已经尝试了许多附件的变体，但都没有成功。

情节数据以 Json 形式通过 Google Chrome 浏览器中的浏览器，但在 IE 中它询问我是要 (O)pen 还是 (S)ave 它。在 IE 中，html 具有相同的结果。

我想从 RAM 发送 html，而不是磁盘。

为简洁起见，省略了错误处理。

代码如下：-

```
using System;
using System.IO;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading;
using System.Threading.Tasks;
using System.Net.Http;
using System.Net.Http.Formatting;
using System.Web.Http;
using System.Web.Http.SelfHost;

namespace Console015
{
    class Program
    {
        static void Main(string[] args)
        {
            HttpSelfHostServer server = null;

            using (StreamReader reader01 = new StreamReader("test01.html"))
            {
                LoginController.sPage = reader01.ReadToEnd();
            }
            Console.WriteLine(LoginController.sPage);

            String sUrl = "http://localhost:8080";
            var serverConfig = new HttpSelfHostConfiguration(sUrl);
            serverConfig.Formatters.Clear();
            serverConfig.Formatters.Insert(0, new JsonMediaTypeFormatter());
            serverConfig.Routes.MapHttpRoute(
                name: "DefaultApiRoute",
                routeTemplate: "endpoints/{controller}",
                defaults: null
                );

            server = new HttpSelfHostServer(serverConfig);

            server.OpenAsync().Wait();

            Console.WriteLine("Listening At : " + sUrl + "/endpoints/episode");
            Console.ReadLine();
        }
    }

    public class LoginController : ApiController
    {
        public static string sPage = string.Empty;
        public HttpResponseMessage GetLoginPage()
        {
            // Create a 200 response.
            var response = new HttpResponseMessage(System.Net.HttpStatusCode.OK)
            {
                Content = new StringContent(sPage)
            };

            Console.WriteLine("Returning Login Page");

            return response;

        }
    }

    public class Episode
    {
        public int Id { get; set; }
        public string Name { get; set; }
        public string ReleasedOn { get; set; }
    }

    public class EpisodeController : ApiController
    {
        public IList<Episode> GetAllEpisodes()
        {
            return new List<Episode>
            {
                new Episode {Id = 1, Name = "Episode 1", ReleasedOn =     DateTime.Now.AddDays(10).ToShortDateString()},
                new Episode {Id = 2, Name = "Episode 2", ReleasedOn =     DateTime.Now.AddDays( -5 ).ToShortDateString()},  
                new Episode {Id = 3, Name = "Episode 3", ReleasedOn = DateTime.Now.AddDays( -3 ).ToShortDateString()},  
                new Episode {Id = 4, Name = null, ReleasedOn = DateTime.Now.AddDays( 0 ).ToShortDateString()},  
            };
        }
    }
} 
```

HTML 测试数据为：

```
<!DOCTYPE html>
<html>
<body>

    <h1>My First Heading</h1>

    <p>My first paragraph.</p>

</body>
</html> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T06:15:17.440

答案似乎是： response.Content.Headers.ContentType.MediaType = "text/html";

# msbuild - MSBuild：如何使用来自相同来源的不同版本进行多个构建？

> ID：12725542
> 
> 赞同：2
> 
> 时间：2012-10-04T10:43:31.740
> 
> 标签：msbuild, msbuildextensionpack

我有一个 MSBuild *.proj 文件，它构建我的解决方案并使用变更集编号设置构建版本。
现在我需要对同一个解决方案进行两次构建，其中有一个区别：第一个版本应该是“5.0.0.{chanset_number}”，但第二个版本应该是“2.0.0.{chanset_number}”。

我使用以下代码来获取一些最新的变更集并设置构建版本：

```
<ItemGroup>
  <FilesToVersion Include="$(SolutionRoot)\GUI\Properties\AssemblyInfo.cs" />
</ItemGroup>
<!-- Added for using the latest changeset id as build number -->
<Target Name="BuildNumberOverrideTarget">
  <BuildNumberGenerator>
    <Output TaskParameter="BuildNumber" PropertyName="BuildNumber" />
  </BuildNumberGenerator>
  <GetLatestChangeset>
    <Output TaskParameter="LatestChangeset" PropertyName="LatestChangeset" />
  </GetLatestChangeset>
</Target>
<Target Name="AfterGet" Condition="'$(IsDesktopBuild)'!='true' ">
  <MSBuild.ExtensionPack.VisualStudio.TfsVersion 
     TaskAction="SetVersion" Files="%(FilesToVersion.Identity)"
     Version="$(VersionMajor).$(VersionMinor).$(VersionService).$(LatestChangeset)" 
AssemblyVersion="$(VersionMajor).$(VersionMinor).$(VersionService).$(LatestChangeset)"
SetAssemblyVersion="true" />
</Target> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T12:13:32.373

在此处添加 PropertyGroup 可能会有所帮助。

```
<PropertyGroup>
    <MyVersionMajor Condition="$(MyVersionMajor)==''">$(VersionMajor)</MyVersionMajor>
</PropertyGroup> 
```

如果您没有通过 MSBuild 参数显式设置，这会将名为 MyVersionMajor 的属性设置为 VersionMajor 属性。

要将 MyVersionMajor 设置为 MSBuild 参数，请将以下内容添加到您的 MSBuild 命令

```
MSBuild.exe <yourprojectfile> /p:MyVersionMajor=2 
```

您现在需要更改构建目标以包含您的新属性：

```
<Target Name="AfterGet" Condition="'$(IsDesktopBuild)'!='true' ">
  <MSBuild.ExtensionPack.VisualStudio.TfsVersion 
     TaskAction="SetVersion" Files="%(FilesToVersion.Identity)"
     Version="$(MyVersionMajor).$(VersionMinor).$(VersionService).$(LatestChangeset)" 
AssemblyVersion="$(MyVersionMajor).$(VersionMinor).$(VersionService).$(LatestChangeset)"
SetAssemblyVersion="true" />
</Target> 
```

确保您的新属性组出现在此目标之前。

当您对此项目运行 MSBuild 时未指定您应该获取的参数，`"5.0.0.{changeset_number}"`并且当您指定您将获取的参数时`"2.0.0.{changeset_number}"`

# windows - 如何在 Windows 上的“观察输出文件”模式 (tsc -w) 下使用 TypeScript 编译器？

> ID：12725544
> 
> 赞同：4
> 
> 时间：2012-10-04T10:43:43.277
> 
> 标签：windows, node.js, typescript, tsc

VS插件安装的编译器版本没有这个选项，但是node.js的版本有。但是我不能让这个模式在 Windows 上工作。它创建空文件并且不编译任何东西。这是一个已知的错误吗？这可以帮助吗？我不想用重量级的VS，创建VS项目等等。

**更新：**我提交了一个[错误](http://typescript.codeplex.com/workitem/87)。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T23:02:48.633

-w 除了在节点上不受支持。如果你甚至运行帮助命令，除非你使用节点，否则你不会得到 -w。让它在非节点运行时工作将是在 codeplex [http://typescript.codeplex.com/workitem/list/basic上提出的一个很好的建议](http://typescript.codeplex.com/workitem/list/basic)

# iphone - iPhone 使用 xcoding、私有框架阻止短信

> ID：12725548
> 
> 赞同：0
> 
> 时间：2012-10-04T10:43:55.353
> 
> 标签：iphone, xcode, sms, block

这是Nsr..

我需要一些关于使用私有框架的帮助，我检查了几乎所有关于 PF 的链接和文章，但它对我没有任何帮助。Iv 还查看了 Github，但没有得到所需的答案/结果。

我想构建一个关于 iPhone 消息传递的应用程序。我希望我的手机在一段时间内不接收任何短信/彩信（每当我启动我的应用程序时）。Iv 查看了 Chatkit 框架，但它甚至不是我的 Private Framework 的文件夹。

我是使用私有 API 的初学者，实际上这是我第一次不知道如何添加/编码/使用私有 API 或类转储（不知道这是什么 hack）。我只想要一个好的指导，因为我现在除了设计我的应用程序之外无法进行任何进一步的操作..

请保存有关不使用私有 APi 的消息。任何帮助将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T11:31:59.020

**对于未越狱的 iPhone**

*您可以拦截 SMS 通知，但无法阻止它们通过。*

这是我为你准备的

**A:** *Core Telephony 现在存在于私有框架中*
**E:** *你可以拦截 SMS 通知，但你不能阻止它们通过。*
**J：** *越狱世界里到处都是短信示例代码。你应该可以很容易地用谷歌搜索它*
**W：** *从编程的角度来看，不可能禁用 USSD 通知。*

请查看[此链接](http://blogs.oreilly.com/digitalmedia/2008/02/when-it-comes-to-the.html)

.

而**对于越狱的 iPhone。**

请查看如何对[iPhone 上收到的短信做出反应](https://stackoverflow.com/questions/7058001/react-on-incoming-sms-on-an-iphone)？

# php - Zend 分页中的意外警告

> ID：12725557
> 
> 赞同：0
> 
> 时间：2012-10-04T10:44:24.790
> 
> 标签：php, zend-framework

> **可能重复：**
> [为 foreach() 提供的参数无效](https://stackoverflow.com/questions/2630013/invalid-argument-supplied-for-foreach)

我的控制行动是

```
public function indexAction(){
 Zend_View_Helper_PaginationControl::setDefaultViewPartial('index.phtml');
  $params = array('host'        =>'localhost',
                  'username'    =>'root',
                        'password'  =>'',
                        'dbname'    =>'test'
                         );
   $db = new Zend_Db_Adapter_Pdo_Mysql($params);
    $select = $db->select()->from('tableviewdemo');
    $paginator = Zend_Paginator::factory($select);

    $paginator->setCurrentPageNumber($this->_getParam('page', 1));
    $paginator->setItemCountPerPage(10);
    $this->view->paginator=$paginator;
} 
```

并且查看文件是

```
<?  echo "<table border=1>";
foreach ($this->paginator as $item) {
echo '<tr><td>' . $item['id'] . '</td>';
echo '<td>' . $item['name'] . '</td>';
echo '<td>' . $item['city'] . '</td>';
echo '<td>' . $item['state'] . '</td>';
echo '<td>' . $item['date'] . '</td>';
echo '<td>' . $item['zip'] . '</td></tr>';}
echo "</table>";
echo $this->paginationControl($this->paginator,'Sliding','/test/index.phtml'); ?> 
```

它显示错误表和页面链接如下 First | < 上一页 | 下一个 > | 最后的

和警告警告：为 C:\Users\Administrator\hello\application\views\scripts\test\index.phtml 中的 foreach() 提供的参数无效为什么会发生这种情况？？？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T10:52:51.290

如果它实现了接口迭代器，你只将数组以外的任何变量传递给 foreach ，我认为 Zend_Paginator 没有实现它。并且您正在使用分页器列出它是完全无法忍受的，只是试试这个

```
$this->view->records = $db->select()->from('tableviewdemo')->fetchAll()->toArray(); 
```

并在您的视图文件中迭代

```
foreach($this->records)
{
} 
```

我也怀疑您的数据库查询是否有效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T10:48:18.457

我注意到你设置`index.phtml`为你的默认视图部分，以错误引用报价......*我认为该方法不会像你认为的那样做。*

至少在开始时，我建议您指定所有内容。指定select()，指定适配器，新建分页器。以后你可以走捷径。

```
public function indexAction(){
    $params = array('host'      =>'localhost',
                    'username'  =>'root',
                    'password'  =>'',
                    'dbname'    =>'test'
                    );
    $db = new Zend_Db_Adapter_Pdo_Mysql($params);
    $select = $db->select()->from('tableviewdemo');
    //specify paginator adapter
    $adapter = new Zend_Paginator_Adapter_DbTableSelect($select);
    //instantiate the paginator
    $paginator = new Zend_Paginator($adapter);
    //if you really have to use the factory, don't forget the string for the adapter.
    //The paginator should work without the string, but may not work as expected.
    //$paginator = Zend_Paginator::factory($select, 'DbTableSelect');    
    $paginator->setCurrentPageNumber($this->_getParam('page', 1));
    $paginator->setItemCountPerPage(10);
    //assign paginator to the view
    $this->view->paginator=$paginator;
} 
```

**关于适配器的说明。**

适配器之间最大的*明显*区别在于DbTable*返回*一个数组将使用数组表示法，而*DbTableSelect*返回一个对象（行集对象）使用对象表示法“$item->name”，因此请使用适合您需要的适配器。`Zend_Paginator_Adapter_DbTable``Zend_Paginator_Adapter_DbTableSelect`*`$item['name']`*

 **回到我原来的观点。默认视图部分不引用您要显示的页面。它指的是包含分页器控件的视图部分。Zend 没有默认实现的分页控件只是一个[例子](http://framework.zend.com/manual/1.12/en/zend.paginator.usage.html#zend.paginator.usage.rendering.example-controls)。

在你看来试试这个。

```
<!-- assumes you using DbTableSelect paginator adapter -->
<!-- for DbSelect adapter just change to array notation: $item['id'] -->
<table border=1>
<?php foreach ($this->paginator as $item) : ?>
<tr>
    <td><?php echo $this->escape($item->id) ?></td>
    <td><?php echo $this->escape($item->name) ?></td>
    <td><?php echo $this->escape($item->city) ?></td>
    <td><?php echo $this->escape($item->state) ?></td>
    <td><?php echo $this->escape($item->date) ?></td>
    <td><?php echo $this->escape($item->zip) ?></td>
</tr>
</table>
<?php endForeach ?>
<?php echo $this->paginationControl($this->paginator,'Sliding','MyPaginatorControl.phtml'); ?> 
```

我通常使用的分页器与手册中的示例非常相似，我在我的视图脚本中调用它（所有部分视图的默认位置是`views/scripts`）：

```
<?php
    echo $this->paginationControl(
        //remember the third parameter is the controls partial
        $this->paginator, 'Sliding', '_paginatorControl.phtml'
    )
 ?> 
```

以防万一有人需要它是我的基本控制部分：

```
//views/scripts/_paginatorControl.phtml. Yes. I just copy this file to where ever I need it.
<?php
if ($this->pageCount) :
    //you need to add each of the request parameters to url
    $params = Zend_Controller_Front::getInstance()
                    ->getRequest()->getParams();
    //remove the system parameters
    unset($params['module']);
    unset($params['controller']);
    unset($params['action']);
    ?>
    <div class="paginationControl">
        <table>
            <tr>
                <td>
                    <!--First Page Link -->
                    <?php if (isset($this->first)): ?>
                        <a href="<?php
                echo $this->url(array_merge($params, array('page' => $this->first)))
                        ?>">
                            &lt; First</a>
                    <?php else : ?>
                        <span class="disabled">&lt; First</span>
                    <?php endif ?>
                </td>
                <td class="space">|</td>
                <td>
                    <!--Previous Page Links-->
                    <?php if (isset($this->previous)) : ?>
                        <a href="<?php
                echo $this->url(array_merge($params, array('page' => $this->previous)))
                        ?>">
                            &lt; Prev</a>
                    <?php else : ?>
                        <span class="disabled">&lt; Prev</span>
                    <?php endif ?>
                </td>
                <td>|
                    <!--Number page links-->
                    <?php foreach ($this->pagesInRange as $page): ?>
                        <?php if ($page != $this->current) : ?>
                            <a href="<?php
                echo $this->url(array_merge($params, array('page' => $page)))
                            ?>">
                                <?php echo $page ?></a> |
                        <?php else: ?>
                                <?php echo $page ?> |
                            <?php
                            endif;
                        endforeach;
                        ?>
                </td>
                <td>
                    <!--Next page link-->
                    <?php if (isset($this->next)) : ?>
                        <a href="<?php
                echo $this->url(array_merge($params, array('page' => $this->next)))
                        ?>">
                            Next &gt;</a>
                    <?php else : ?>
                        <span class="disabled">Next &gt;</span>
                    <?php endif; ?>
                </td>
                <td class="space">|</td>
                <td>
                    <!--Last page Link -->
                    <?php if (isset($this->last)): ?>
                        <a href="<?php
                echo $this->url(array_merge($params, array('page' => $this->last)))
                        ?>">
                            Last &gt;</a>
                    <?php else: ?>
                        <span class="disabled">last &gt;</span>
                    <?php endif ?>
                </td>
            </tr>
        </table>
    </div>
<?php endif; ?> 
```

我希望这有帮助。**

# c# - Silverlight 控制位于顶部

> ID：12725558
> 
> 赞同：0
> 
> 时间：2012-10-04T10:44:26.910
> 
> 标签：c#, jquery, asp.net, silverlight, colorbox

我有一个在网页上打开的 Silverlight 控件。但同时，在某些用户操作上，也会打开一个 jquery 颜色框。该颜色框未显示，因为它位于银光后面。有什么办法可以改变 silverlight 组件的 z-index 吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T11:02:33.557

检查您的 Silverlight HTML 参数的`windowless`模式是否设置为`true`。

HTML 语法：

```
<object ...>
  <param name="windowless" value="bool"/>
  ...
</object> 
```

或者，如果您正在利用 Silverlight.js

```
Silverlight.CreateObject(,,,{windowless:'bool'});
-or-
Silverlight.CreateObjectEx({properties:{windowless:'bool'}}); 
```

默认情况下，`windowless`设置为`false`。基本上，当 时`false`，Silverlight 使用自己的超强“窗口”来执行渲染。在这种状态下，它*总是*出现在*所有*HTML 内容之上，因为它实际上并没有使用浏览器来呈现。在这种状态下，Silverlight 插件将基本上忽略浏览器/CSS z-index，因为它不再适用。

当`windowless`设置为 true 时，它​​与浏览器的渲染系统相关联，允许您在其上方分层 HTML 内容（包括 iframe 和 jquery 颜色框）。跑步有一些缺点`windowless`，但很可能你不会受到太大影响。在这种状态下，您将能够利用浏览器/CSS 中的典型 z-index 排序。

这是关于它的 MSDN 文章以及我在上面发布的优缺点和代码片段：http: [//msdn.microsoft.com/en-us/library/cc838156%28VS.95%29.aspx](http://msdn.microsoft.com/en-us/library/cc838156%28VS.95%29.aspx)

# javascript - 如何在 JS 函数中从 ajax 响应/加载 CSS/Javascript - 跨浏览器方式

> ID：12725563
> 
> 赞同：1
> 
> 时间：2012-10-04T10:44:39.960
> 
> 标签：javascript, css, ajax

我正在加载一个 ajax 响应，我需要 jQuery 才能使它有意义。由于延迟原因，我无法在页面加载时加载 jQuery。

因此，每当进行此 ajax 调用时，我希望能够加载 javascipt/css。我阅读了很多关于这方面的文章，但在所有浏览器中都没有对我有用。

我尝试将这些链接/脚本标签放在 javascript 响应中，然后在一段时间（300 毫秒）后在输出中评估 javascript，但这在 chrome 中不起作用。（可能是一些竞争条件）。

我也试过这个：

```
function addJquery() {
      var script = document.createElement("script");
       script.setAttribute("src", "http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js");
      script.setAttribute('type', 'text/javascript');
      script.addEventListener('load', function() {
          var script = document.createElement("script");
          document.body.appendChild(script);
      }, false);
  document.body.appendChild(script);
} 
```

这适用于 Firefox，但不适用于 Chrome。我不确定我在这里做错了什么。有人可以帮忙解决这个问题吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T10:52:10.767

如果在加载事件触发后加载 jQuery，则不会出现延迟问题，因为页面已经呈现。

在您的情况下，加载事件不会触发，因为它已经发生了。使用 setInterval 检测 jquery，然后清除间隔。

```
window.addEventListener('load', function(){

    var script = document.createElement('script');
        script.src = 'http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js';
    document.getElementsByTagName('head')[0].appendChild(script);

    var inter = setInterval(function(){

        if( jQuery ){
            clearInterval(inter);

            //execute jQuery code here
        }

    },100);

},false); 
```

此外，您不再需要在脚本元素上设置类型。*每个*浏览器都知道它的 javascript。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T10:52:44.140

使用 ajax 调用加载 jquery 文件（使 ajax async = false）。

# android - 我们可以使用 .so 文件从一个 android ndk 应用程序到另一个 android ndk 应用程序吗？

> ID：12725564
> 
> 赞同：2
> 
> 时间：2012-10-04T10:44:49.293
> 
> 标签：android, android-ndk

我的问题是已经创建了一个 android ndk 项目，该项目具有其各自的 .so 文件。我想知道我们可以在另一个 android ndk 应用程序中使用相同的 .so 文件，而无需从一个项目复制到另一个项目吗？如果是，我们如何实施？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T13:33:00.077

是的，如果您在相同包中的相同类中定义了相同的“本机”调用，则可以。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T19:07:44.927

本机库安装在应用程序的**lib**目录中，任何人都可以读取。因此，appB 可以使用

```
System.Load("/data/data/com.appA/lib/libnativeA.so") 
```

但是对其他包的库的完整路径的猜测不是基于文档化的接口，并且不能保证这将在未来的版本中起作用。

# compilation - 如何在openvms中运行一个简单的c程序？

> ID：12725566
> 
> 赞同：2
> 
> 时间：2012-10-04T10:45:05.343
> 
> 标签：compilation, openvms

如何在openVMS中编译和链接示例c程序？谁能解释一下过程以及在OpenVMS中如何调试过程？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-10T14:05:56.430

那么，在 OpenVMS 中创建一个你应该使用的源文件

```
edit/edt namefile.c 
```

然后输入

```
c 
```

或者

```
change 
```

是一样的。您将让编辑器准备好工作。当您完成编写代码并输入

```
ctrl Z 
```

现在您可以键入另一个命令，以保存类型

```
ex 
```

或者

```
exit 
```

如果您不想保存类型

```
quit 
```

当您再次在您的目录中编译文件类型时

```
cc namefile.c 
```

然后进行链接

```
link namefile.obj 
```

至少如果你没有任何错误

```
run namefile.exe 
```

我希望它有用！;)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T17:46:20.527

你的问题很笼统。请从手册和/或谷歌开始

[http://h71000.www7.hp.com/commercial/c/docs/5492profile.html](http://h71000.www7.hp.com/commercial/c/docs/5492profile.html)
“第 1 章展示了如何创建、编译、链接和运行 HP C 程序。” “C.1 OpenVMS 调试器” [http://h71000.www7.hp.com/commercial/c/docs/5492profile_036.html#index_x_1416](http://h71000.www7.hp.com/commercial/c/docs/5492profile_036.html#index_x_1416) （提供pdf）

如果您有具体问题，请随时询问。问候， 海因

# c# - mysql检索最后插入的自动递增值

> ID：12725567
> 
> 赞同：0
> 
> 时间：2012-10-04T10:45:18.667
> 
> 标签：c#, mysql

> **可能重复：**
> [PHP/MySQL：检索多行最后插入的 Id](https://stackoverflow.com/questions/1285231/php-mysql-retrieving-the-last-inserted-ids-for-multiple-rows)

Mysql 表列（ID，名称）id-自动递增。

我将通过...检索最后插入的 id

```
 DECLARE value VARCHAR(30); 
   insert into table (name) values ('foo');
   select max(id) into value from table; 
```

这就是我如何检索 id 的最大值。

如果多个插入语句同时触发会发生什么。这样做的最佳做法是什么。

1）锁定Mysql表

2）再添加一列并将其设置为“0”或“1”技术。

3）任何其他方式来做到这一点。

我正在使用 MySql 和 c# .Net 谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:55:22.447

您可以使用[`LAST_INSERT_ID();`](http://dev.mysql.com/doc/refman/5.0/en/information-functions.html#function_last-insert-id)：

```
INSERT INTO table (name) VALUES ('foo');
SELECT LAST_INSERT_ID(); 
```

# web-services - 如何在生产中处理 SSL 服务器证书？

> ID：12725568
> 
> 赞同：1
> 
> 时间：2012-10-04T10:45:22.170
> 
> 标签：web-services, ssl, ssl-certificate, security

我是第一次在我的站点中设置 SSL，我想知道是否有任何关于处理证书的指南。

处理我的 SSL 服务器证书的最佳做法是什么？它应该放在源代码控制中吗？如果没有，在哪里？有什么我应该遵循的注意事项吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T10:48:34.237

您没有将 SSL 证书放在源代码管理中。下次续订时会完全不同。

当您将证书部署到您的服务器时，您可能会经历一个向导（例如，如果这是 IIS）。在某些阶段，它可能会询问您是否要导出私钥 - 说是，然后选择密码。将生成的私钥文件保存在安全的地方（显然不在服务器本身上）。如果这是不同的服务器，请按照说明寻找导出私钥的方法。

除此之外，没有什么可做的。本质上，它是 IT 的东西，而不是程序员的东西。请务必在到期日期前几周提醒更新它，否则 - 当您的访问者在到期日期后进入网站时，他们会从浏览器收到非常明显的警告，即存在问题SSL 证书，您将失去流量/客户。

# asp.net-mvc-3 - 超越 Mac 地址：唯一标识服务器端的设备

> ID：12725574
> 
> 赞同：0
> 
> 时间：2012-10-04T10:45:41.973
> 
> 标签：asp.net-mvc-3

我正在开发一个分析工具。我希望能够合理地识别独特的用户（或更可能是独特的机器）——某种程度的不准确是可以的。我需要同时支持低级设备（Android/iOS）和网络（JS/Flash），因为我在 Haxe 中构建客户端。（另一个需要注意的是，我不能使用特定于语言的 API。）

以前，我使用元组`(ip, mac address)`来唯一标识用户。但是，在 Flash（和 Javascript）中，您无权访问 mac 地址。我突然想到我应该在服务器端存储和管理身份，也许使用 GUID。客户端将从服务器请求一个 GUID（或某种 ID），并将其用于来自同一设备的任何后续请求。

但是，我不确定 GUID 是否是个好主意。或者我是否应该用 IP 或其他信息来补充它。（我确实有权从客户端获取 IP。）

客户端的工作流程是：

*   检查存储的唯一标识符
*   如果存在，将其与所有请求一起发送
*   如果没有，请调用以请求唯一标识符并将其存储
*   在所有后续调用中发送唯一标识符

当然，这只会在每个设备上都是唯一的，并且可能有某种方法可以通过删除本地设备上的标识符来获得两个用户的误报。

在服务器端，它就像生成一个新的 GUID 并在用户请求唯一标识符时将其发送给用户一样简单。

这是一个好方法吗？有更好的方法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T10:48:48.950

根据您需要的唯一性和安全级别，您可能会考虑使用[持久性 cookie](http://en.wikipedia.org/wiki/HTTP_cookie)。cookie 可能是您在工作流程中描述的*唯一标识符。*并且为了确保 cookie 将通过后续请求发送，它应该是一个[持久 cookie](http://en.wikipedia.org/wiki/HTTP_cookie#Persistent_cookie)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T10:50:26.183

如果您的设备上有 SNMP 代理（大多数设备将支持 SNMP），那么您可以通过 SNMP 查询 MAC 地址，从而识别设备。这就是网络管理工具的工作方式（并将多个接口绑定在一起以识别具有多个接口的单个​​设备）

# joomla - 如何使该字段独一无二？

> ID：12725575
> 
> 赞同：0
> 
> 时间：2012-10-04T10:45:45.743
> 
> 标签：joomla, unique-key, joomla-community-builder

如果这个问题已经存在，我很抱歉。我搜索但自己找不到答案。

我正在创建一个网站，人们需要注册。但是我有一个特定的字段，人们必须填写。他们自己有这个代码，所以他们必须在注册时填写它。

但我希望这个领域是独一无二的。也就是说，如果 A 人使用此代码注册，则其他人无法使用此代码进行注册。

这是我的代码：

```
/(?i)^([A-Z0-9]{2}+7[A-Z0-9]{2}+[2,6,J])*$/ 
```

例如，这应该是结果 ： `xx7xx2`或 `xx7xx6``xx7xxJ`

我的后续问题是：如您所见，我忽略了大写字母。但我希望结果是上限。所以如果人们写`xx7xx2`比结果应该是`XX7XX2`。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T15:29:22.907

您可以创建一个遵循用户名基本模式的自定义 JFormRule 以强制执行唯一性。 [https://github.com/joomla/joomla-platform/blob/staging/libraries/joomla/form/rule/username.php](https://github.com/joomla/joomla-platform/blob/staging/libraries/joomla/form/rule/username.php)

# jquery - 通过 JavaScript 将我的表单数据发送到订阅页面，发送到不同的服务器？

> ID：12725576
> 
> 赞同：1
> 
> 时间：2012-10-04T10:45:52.473
> 
> 标签：jquery

我一直在这里阅读跨站点 HTTP 请求访问 - [https://developer.mozilla.org/en-US/docs/HTTP_access_control](https://developer.mozilla.org/en-US/docs/HTTP_access_control)，**但**我仍然对他们的一些 JavaScript 示例感到迷茫。

我知道 jQuery 和 AJAX 如何与 POST 和 Get 数据一起工作，但我无法理解（如果可能的话）我无法将表单数据从我的网站发送到另一台服务器上的另一个域。

我正在为网站访问者构建一个表单以填写我的域。提交时，该表单的数据将被发送到另一个域（另一个服务器）上的订阅页面。对于现代浏览器（不涉及服务器端页面），这一切都可以使用 jQuery 和 AJAX 吗？我还需要哪些其他前端技术来完成这项任务？我正在寻找简单的。

如果这一切皆有可能，我的表单数据能否在不显示订阅页面的情况下传送到订阅页面？即，我仍然在我自己的网站上显示“感谢您订阅”通知？

感谢您提供任何帮助我在该领域学习和成长的建议！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T14:26:45.523

浏览器中的 CORS（跨源资源共享）限制很难绕过。如果要访问位于不同域的表单处理器，则需要在该域上设置 Access-Control-Allow-Origin 标头。如果它不是您的服务器/域，则不能这样做。

一些表单处理器通过向 JSONP 响应添加回调函数来绕过 CORS 限制，但这也取决于远程服务器配置。

例如，Campaign Monitor 通过提供 JSONP 选项允许通过 AJAX 发送注册数据。

# extjs - ExtJS 4.1.1 表单返回空值

> ID：12725587
> 
> 赞同：0
> 
> 时间：2012-10-04T10:46:40.117
> 
> 标签：extjs

[http://jsfiddle.net/ycuk/YeSp7/3/](http://jsfiddle.net/ycuk/YeSp7/3/) 在表单的字段中插入一些文本，然后单击添加按钮。（onCreatePls 或 onSavePls 方法）

```
firebug:
JSON
pls_id: 0
pls_index: ""
pls_name: ""

{"pls_id":0,"pls_name":"","pls_index":""} 
```

怎么了？

# backbone.js - TodoMVC 与骨干网和要求无法从服务器获取

> ID：12725598
> 
> 赞同：0
> 
> 时间：2012-10-04T10:47:42.380
> 
> 标签：backbone.js, model, undefined, require, todomvc

有很多这样的问题。我还没有找到答案。

使用带有主干.js 和 require.js 的示例 TodoMVC，我想从服务器而不是本地存储中获取。

我有一个返回正确 json 集合的 url，其中的模型是这样的：

```
{"string1": "foo", "string2":"bar", "somefloat":0} 
```

在我的模型（model/todo.js）中，我将默认值更改为：

```
defaults: {string1: '', string2: '',somefloat: 0}, 
```

在我的收藏（collections/todos.js）中，我注释掉 localstorage 并添加一个 url。

这使得 fetch 转到我的服务器，我可以看到它返回了 json 集合。

但由于某种原因，模型在主干.js 行 817 中未定义

```
 // Prepare a model or hash of attributes to be added to this collection.
    _prepareModel: function (model, options) {
        options || (options = {});
        if (!(model instanceof Model)) {
            console.log(Model);
            var attrs = model;
            console.log(attrs.Kana);
            options.collection = this;

            //ERROR IN THIS LINE: Uncaught TypeError: undefined is not a function 
            model = new this.model(attrs, options);

            if (!model._validate(model.attributes, options)) model = false;
        } else if (!model.collection) {
            model.collection = this;
        }
        return model;
    }, 
```

为什么我不使用本地存储时模型未定义？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T13:28:12.943

您还需要`urlRoot`在模型中设置属性：

```
var TodoModel = Backbone.Model.extend({

    urlRoot: "/Practice/GetCollection", 
```

# android - android中的网络无法访问

> ID：12725600
> 
> 赞同：5
> 
> 时间：2012-10-04T10:47:44.303
> 
> 标签：android, sockets, networking, udp

我正在尝试制作一个 android 应用程序，该应用程序将打开一个数据报套接字并通过它广播数据。当我的手机连接到由我的路由器创建的 wifi 网络时，它工作正常。

现在，如果我通过在其中一部 android 手机中设置“移动热点”来创建 wifi 网络，则启动热点的 android 手机上的应用程序从其他手机接收数据，但是当我尝试发送数据时，它说网络遥不可及...我在这方面完全没有帮助...有人可以帮助我吗？

# r - 通过 read.big.matrix 在 R 中读取大数据

> ID：12725603
> 
> 赞同：2
> 
> 时间：2012-10-04T10:47:49.433
> 
> 标签：r, r-bigmemory

我正在使用 r 读取维度为 3131875*5 的数据`read.big.matrix`。我的数据有字符和数字列，包括日期变量。我应该使用的命令是

```
as1 <- read.big.matrix("C:/Documents and Settings/Arundhati.Mukherjee/My Documents/Arundhati/big data/MB07_Arundhati/sample2.txt",
                       header=TRUE, 
                       backingfile="session.bin",
                       descriptorfile="session.desc",
                       type = NA) 
```

但`type = NA`在这种情况下，R 不接受，我收到一个错误：

```
Error in filebacked.big.matrix(nrow = nrow, ncol = ncol, type = type,  : 
  Problem creating filebacked matrix.
In addition: Warning messages:
1: In na.omit(as.integer(firstLineVals)) : NAs introduced by coercion
2: In na.omit(as.double(firstLineVals)) : NAs introduced by coercion
3: In read.big.matrix("C:/Documents and Settings/Arundhati.Mukherjee/My Documents/Arundhati/big data/MB07_Arundhati/sample2.txt",  :
  Because type was not specified, we chose double based on the first line of data. 
```

我需要知道`type`这里应该是什么。我尝试了类似的选项，`double`但这给了我同样的错误。

请帮我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T11:50:11.660

来自`?read.big.matrix`：

> 文件必须只包含一种原子类型（例如，所有整数）。

因此，您将无法读取包含字符、数字、整数、日期等组合的数据。您可以在文件上做一些工作，例如使用不同的程序将字符变量转换为整数表示（如转换为 R 中的一个因子）。

**编辑：**

在[bigmemory 网站上](http://sites.google.com/site/bigmemoryorg/research/data-expo)，有一个使用 python 脚本将字符信息更改为整数的预处理数据示例。该脚本是为特定数据集编写的，但也许您可以将其用作数据的指南。

# html - 头部标签内容错位

> ID：12725604
> 
> 赞同：0
> 
> 时间：2012-10-04T10:47:55.397
> 
> 标签：html, css, internet-explorer-9, head

我有一个具有以下结构的 html 文档：

```
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
     <base href="http://www.mywebpage.com/subdir/"></base>
<title>home</title> 
<meta http-equiv="content-type" content="text/html; charset=UTF-8"></meta> 
     <link href="mystylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
Irrelevant content here
</body>
</html> 
```

现在，直接调用该页面时看起来不错，但是当我使用来自同一服务器中另一个文件的 include() 调用时，IE9 会发疯。它忽略了基本标签和 CSS 样式。当我使用内容检查器查看它时，除了标题之外的所有头部内容都呈现为好像它们在正文部分中一样。甚至 !Doctype。此外，检查器在错位标签之前和之后显示空文本。我用记事本++检查了我的文件中是否有特殊的、不可见的字符，但什么也没找到。

该问题不会在 Firefox 中重现。当我使用 Chrome 时，它​​会按原样显示内容，但它确实放错了与 IE 相同的标签。

# c# - Dekker 算法混淆的变体

> ID：12725605
> 
> 赞同：7
> 
> 时间：2012-10-04T10:47:56.160
> 
> 标签：c#, multithreading, concurrency, parallel-processing

该程序执行两个不同的线程，并告诉我“比赛”的获胜者是谁。

出乎意料的是，有时两个线程都“获胜”（我希望有人或没有人获胜）。这是预期的行为，为什么？我显然在这里遗漏了一些基本的东西。

```
class Program
{
    public volatile static int a = 0; 
    public volatile static int b = 0;

    public static void Main()
    {
        for(int i = 0; i < 1000; i++)
        {
            a = 0; 
            b = 0;

            Parallel.Invoke(delegate { a = 1; if (b == 0) Console.WriteLine("A wins"); },
                            delegate { b = 1; if (a == 0) Console.WriteLine("B wins"); });

            Console.WriteLine(System.Environment.NewLine);

            Thread.Sleep(500);
        }
    }
} 
```

结果：

```
A wins

B wins

A wins
B wins

A wins

... 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T11:46:27.097

您错误地使用了 volatile：

声明变量 volatile 是不够的，您需要确保在您读/写它们的**任何地方**`Thread.VolatileRead(ref myVar)`都使用/`Thread.VolatileWrite(ref myVar)`

此外，即使正确使用， volatile 也**不能确保读/写顺序（来自不同的线程）。**浏览 SO 以获取有关该主题的信息。**编辑：[它似乎](http://www.jaylee.org/post/2004/08/05/Dont-get-C-volatile-the-wrong-way.aspx)在 x86 单核机器上做**

您可以简单地使用该`lock`声明，但如果您想深入了解，我建议您阅读、理解，然后再阅读[这本免费的电子书](http://www.albahari.com/threading/)

**补充：**
我刚刚浏览了`Parallel`.NET 4 中的类，没有使用`volatile`关键字。由于某种原因，他们还在循环之前
复制了数组，但我怀疑这会影响你。`Action<T>`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T10:56:51.290

当它们并行执行时，两者都获胜。

从文档（[http://msdn.microsoft.com/en-us/library/system.threading.tasks.parallel.invoke.aspx](http://msdn.microsoft.com/en-us/library/system.threading.tasks.parallel.invoke.aspx)）：执行每个提供的操作，**可能并行**。

# java - 从字符串中提取字符串

> ID：12725607
> 
> 赞同：0
> 
> 时间：2012-10-04T10:48:05.640
> 
> 标签：java, string, extract

我从电子邮件正文中提取了这个字符串

```
"DESTINATION: 71222222 PRIORITY: urgent AUTRE: rien" 
```

我正在寻找提取字符串`"71222222"`,`"urgent"`和`"rien"`.

我已经尝试过 Scanner 类，但它没有用。

哪个是最好的 Java 解决方案？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T10:55:47.133

您可以使用正则表达式，如下所示：

```
String s = "#DESTINATION: 71222222\n"+
    "#PRIORITY: urgent\n"+
    "#AUTRE: rien";
Pattern p = Pattern.compile("(?<=: )[^ ]+$", Pattern.MULTILINE);
Matcher m = p.matcher(s);
while(m.find()) {
    System.out.println(m.group(0));
} 
```

这个解决方案的核心是这个正则表达式：`(?<=: )[^ ]+$`. 它匹配从冒号+空格`": "`序列一直到行尾的非空格字符序列`$`。

ideone 上的演示：[链接](http://ideone.com/xTVXO)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T10:55:36.957

试试这个

```
String text = "DESTINATION: 71222222 PRIORITY: urgent AUTRE: rien";

String[]lines = text.replace(": ", ":").split(" ");     
String[]values = new String[lines.length];
int i=0;
for(String line : lines){
   values[i++] = line.split(":")[1];
}
System.out.println(Arrays.toString(values)); 
```

输出是

```
[ 71222222,  urgent,  rien] 
```

你也可以试试这个

```
String text = "DESTINATION: 71222222 PRIORITY: urgent AUTRE: rien";

StringTokenizer tokinizer = new StringTokenizer(text,": ");

while(tokinizer.hasMoreTokens()) {
    tokinizer.nextToken();  //skip first
    System.out.println(tokinizer.nextToken());
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T11:07:30.187

您绝对可以使用[Scanner](http://docs.oracle.com/javase/6/docs/api/java/util/Scanner.html)来提取您需要的信息：

```
final String input = "DESTINATION: 71222222 PRIORITY: urgent AUTRE: rien";

final Scanner scanner = new Scanner(input).useDelimiter("\\w+: ");

while(scanner.hasNext()) {
    System.out.println(scanner.next());
} 
```

这打印：

```
71222222 
urgent 
rien 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T10:56:45.910

试试这个。它使用正则表达式按空格 (\s) 分割字符串

```
 String str  = "DESTINATION: 71222222 PRIORITY: urgent AUTRE: rien";
        String[] split = str.split("\\s");
        System.out.println(split[1]+" - "+split[3]+" - "+split[5]); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-04T11:04:33.353

更正：当问题第一次出现在输入字符串中时，包括换行符。看起来现在问题已被编辑以删除换行符。如果它们不再存在，那么我的解决方案将不起作用。

我的第一个想法是编写一个创建键/值对映射的解析例程。然后您可以按名称获取数据片段，字符串中的顺序无关紧要。

```
import java.util.HashMap;
import java.util.Map;

class Main
{

    /**
     * This method parses a string of "key:value" pairs into a map. Parameter
     * pairs are separated by new-lines.
     * @param in the string to parse
     * @return the data map
     */
    static Map<String,String> parseParameters(String in) {

        Map<String,String> params = new HashMap<String,String>();

        int pos = 0;
        while(pos<in.length()) {
            int i = in.indexOf("\n",pos);
            if(i<0) i=in.length();
            String sub = in.substring(pos,i);
            pos = i+1;
            int j = sub.indexOf(":");
            if(j>=0) {
                String key = sub.substring(0,j).trim();
                String val = sub.substring(j+1).trim();
                //System.out.println(key+":"+val);
                params.put(key,val);
            }
        }

        return params;
    }

    public static void main( String args[] )
    { 
        String in = "#DESTINATION: 71222222\n#PRIORITY: urgent\n#AUTRE: rien";

        Map<String,String> params = parseParameters(in);

        // Get the data pieces by name
        System.out.println(params.get("#AUTRE"));
        System.out.println(params.get("#DESTINATION"));
        System.out.println(params.get("#PRIORITY"));

    }
} 
```

# objective-c - 等待方法在 iOS 中完成

> ID：12725611
> 
> 赞同：1
> 
> 时间：2012-10-04T10:48:15.267
> 
> 标签：objective-c, ios, multithreading

我在目标 c 中有两个类 Controller 和 Connector。控制器要求连接器建立与 Web 服务的连接以获取一些数据。连接本身是通过委托实现的。如果数据到达，此委托将获得方法调用。我将委托设置为连接器本身。我的问题是我希望控制器在连接器上调用一个方法，这个方法立即返回数据。这是没有授权的。我尝试了多线程并在控制器中等待，但我只能找到一个方法的多线程：

```
[NSThread detachNewThreadSelector:@selector(myMethod) toTarget:myClass withObject:nil]; 
```

单个方法的多线程不起作用，因为无法调用Connector中的委托方法，因为整个Connector类没有线程。谁能帮我解决这个问题？

编辑：我添加了调用连接器方法的代码（这是来自控制器的代码）：

```
_data = nil;
dispatch_queue_t myQueue = dispatch_queue_create("my queue", NULL);
dispatch_async(myQueue, ^{
    _data = [_soapConnector startRequestWithSOAPMessage:soapMessage];
});

while(!_data){
    NSLog(@"waiting");
}
//data arrived successfully here so we can manipulate it 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T12:38:00.883

我认为你应该使用块。

在您`Connector.h`创建一个`completitionBlock`属性

```
@property (nonatomic,copy)void (^completitionBlock) (id obj, NSError * err); 
```

在connector.m中不知道怎么连接webservice，这个例子是针对NSURLDelegate的

如果完成没问题

```
-(void)connectionDidFinishLoading:(NSURLConnection *)connection {

        if([self completitionBlock])
            [self completitionBlock](dataOK,nil);

 } 
```

`NSMutableData * dataOK`是接收到的数据

```
-(void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data {
    [dataOK appendData:data];
} 
```

如果失败

```
-(void)connection:(NSURLConnection *)connection didFailWithError:(NSError *)error {

    if([self completitionBlock]) 
        [self completitionBlock](nil,error);   

} 
```

然后从 Controller 类中调用连接器

```
[Connector getWebservice:^(id obj, NSError *err) {
        if (!err) {

            //Code executed when the webservice finish OK, obj will be the dataOK

        } else {

            //Code executed when the webservice return error
       }
    }]; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T12:39:45.410

首先，我建议您使用 Grand Central Dispatch 而不是 NSThread 方式。GCD 更优化，更易于使用。

在您的情况下，我不知道您为什么要对连接器的方法进行同步调用，而您的方法正在执行异步工作，但我认为这是一个非常糟糕的主意。特别是如果您的连接器正在连接到 Web 服务。

我建议您改为对连接器的方法进行异步调用，该方法正在与您的 Web 服务进行同步连接。使用 GCD 非常简单

```
dispatch_async(myQueue, ^{

    NSData* data = [NSURLConnection sendSynchronousRequest:myRequest returningResponse:&response error:&error];

    dispatch_async(dispatch_get_main_queue(), ^{
        //update your UI
    });
}); 
```

# html - css 垂直重复背景

> ID：12725613
> 
> 赞同：2
> 
> 时间：2012-10-04T10:48:21.397
> 
> 标签：html, css

我似乎无法弄清楚如何`<div>` 在我的代码上垂直重复背景图像。

[http://jsfiddle.net/pedenski/Sw6wB/](http://jsfiddle.net/pedenski/Sw6wB/)

我在这里试图完成的是在页面的一侧放置阴影效果。与[http://www.adobe.com/](http://www.adobe.com/)网站类似。你会看到两边都有阴影边框。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:51:54.897

您的左右 div 没有高度。

请参阅[此](http://jsfiddle.net/Sw6wB/9/)更新的 JS 小提琴。

我添加 `height:100px;`只是为了表明它有效

```
div#right {
    background-image:url(http://i45.tinypic.com/ejv8uq.png);
    background-repeat: repeat-y;
    width:100px;
    height:100px;
    float:right;
} 
```

这是左块（`background-position:top right;`和高度）的修复：

```
div#left {
    background-image:url(http://i47.tinypic.com/2hsc187.png);
    width:100px;
    height:100px;
    float:left;
    background-repeat: repeat-y;
    background-position:top right;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T10:52:06.393

写成——

```
div#left {
    background:url(http://i47.tinypic.com/2hsc187.png) repeat-y left top;
    width:100px;
    float:left;
} 
```

[**演示**](http://jsfiddle.net/Sw6wB/4/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T11:07:35.140

Use `background:url(http://i47.tinypic.com/2hsc187.png) right top repeat-y;`

here is the demo [http://jsfiddle.net/Sw6wB/13/](http://jsfiddle.net/Sw6wB/13/)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-04T11:46:48.307

Depending on this tag, the image might repeat in horizontal or vertical or both directions.

It takes any of the following values:

*   `repeat` : This value tells the image to be repeated in both directions

*   `repeat-x` : This value tells the image to be repeated in vertical direction only

*   `repeat-y` : This value tells the image to be repeated in horizontal directions

*   `no-repeat` : This value tells that the background image should not be repeated

**For example:** `repeat-x` will work for repeating a vertical background.

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-04T10:50:20.413

采用：

```
background-repeat: repeat-y; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-04T10:55:56.773

要垂直重复背景，您可以使用`background-repeat: repeat-y;`但您的 CSS 不适合在小提琴中显示。

I 'll suggest to use [box-shadow](http://www.css3.info/preview/box-shadow/) for such things.

# ios - iOS：RestKit RKObjectManager

> ID：12725616
> 
> 赞同：0
> 
> 时间：2012-10-04T10:48:27.417
> 
> 标签：ios, restkit

我有以下方法：

```
- (void)httpGET:(NSString*)resourcePath withParameter:(NSDictionary*)params withRequestID:(RequestID)requestID {
if ([RKClient sharedClient] == nil)
    [RHCHTTPController initRKSharedClient];
RKURL *url = [RKURL URLWithBaseURLString:BaseURL resourcePath:resourcePath queryParameters:params];
[[RKClient sharedClient] get:[url absoluteString] usingBlock:^(RKRequest *request) {
    NSLog(@"Request: %@", [url absoluteString]);
    request.onDidLoadResponse = ^(RKResponse *response) {
        [self.delegate responseArrivedWithRKResponse:response withRequestID:requestID];
    };
    request.onDidFailLoadWithError = ^(NSError *error) {
        [self.delegate requestDidFailWithRequestID:requestID andError:error];
    };
}];
} 
```

发送获取请求。那么如何使用 RKObjectManager 映射 JSON-Response 呢？

迈克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T15:54:28.077

你看起来有点深。

研究使用“loadObjectsAtResourcePath”调用之一。或者可能是“getObject”调用之一，它们都是 RKObjectManager 的一部分。

此外，RestKit 的单元测试中提供了如何使用这些调用的极好资源。非常有帮助。

# php - php一生成就重定向stdout

> ID：12725618
> 
> 赞同：0
> 
> 时间：2012-10-04T10:48:30.333
> 
> 标签：php, python, stdout

在 php 脚本中调用函数 shell_exec 来执行 python 脚本并将标准输出重定向到文件。这是我的一段代码：

```
shell_exec("pythonScript > progress.txt"); 
```

python 脚本每五秒在标准输出上写入一个新行。一切都成功了，但 python 脚本的输出仅在执行结束时写入文件，而不是每五秒一次。我也试过这段代码：

```
shell_exec("pythonScript > progress.txt &"); 
```

但我有同样的效果。我应该如何确保在生成标准输出时将其写入文件目录？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T11:18:40.617

问题很可能是由于您的 python 脚本中的缓冲造成的。要关闭`stdout`python 脚本中的缓冲，要么；

*   `sys.stdout.flush()`每次要确保将迄今为止的输出发送到文件时使用。

*   `-u`使用禁用`stdout`缓冲的选项启动 python 。在您的情况下，它可能应该在脚本中完成，替换第一行；

```
#!/usr/bin/python 
```

（或类似的，取决于路径）

```
#!/usr/bin/python -u 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T11:08:51.230

问题是您正在使用重定向运算符`>`，它将在每次运行时*覆盖*输出文件，这就是为什么您只看到一行（命令输出的最后一行）的原因。您需要使用`>>`附加到文件：

```
$ echo 'foo' > out.txt
$ echo 'bar' > out.txt
$ cat out.txt
bar
$ echo 'foo' >> out.txt
$ echo 'bar' >> out.txt
$ cat out.txt
bar
foo
bar 
```

# ruby-on-rails-3 - rails has_many ：通过 NameError

> ID：12725620
> 
> 赞同：0
> 
> 时间：2012-10-04T10:48:34.390
> 
> 标签：ruby-on-rails-3, has-many-through

我有以下设置

```
class Category < ActiveRecord::Base 

has_many :category_products
has_many :products, through: :category_products

end

class Product < ActiveRecord::Base

has_many :category_products
has_many :categories, through: :category_products

end

class CategoryProducts < ActiveRecord::Base
belongs_to :category
belongs_to :product
end 
```

在 Rails 控制台中，我尝试使用以下命令分配 category_ids p.category_ids = [1,2] （其中 p = Product.first）我得到

```
NameError: uninitialized constant Product::CategoryProduct 
```

有什么建议吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T20:04:32.743

事实证明，rails 不喜欢连接模型的“multi”名称，创建了一个名为 categorization 的新模型，并且所有工作都 100%

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-10T12:43:56.520

你只是打错字。试试这个：

```
class Category < ActiveRecord::Base 
  has_many :categories_products
  has_many :products, through: :categories_products
end

class Product < ActiveRecord::Base
  has_many :categories_products
  has_many :categories, through: :categories_products
end

class CategoriesProduct < ActiveRecord::Base # singular association model define
  belongs_to :category
  belongs_to :product
end 
```

注意协会名称。

**模型**：（`categories_product`没有**s**），它是**表** `categories_products`

# javascript - 如何创建一个链接来更改 iframe 的来源并滚动到该页面上的锚点

> ID：12725625
> 
> 赞同：0
> 
> 时间：2012-10-04T10:48:54.657
> 
> 标签：javascript, iframe, hyperlink, onclick, anchor

我使用此代码，它可以工作，但只能工作一次。怎么会？

```
<script type="text/javascript">
function goToAnchor(name){
window.location.hash = name;}
</script>

<li onclick="goToAnchor('topp');"><a href="test.html" target="iframetest">Tst</a></li> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T11:19:06.647

你需要javascript吗？

```
<li><a href="test.html#topp" target="iframetest">Tst</a><li> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T11:36:27.087

第一次调用它时，它会发生变化`window.location.hash`并导致浏览器滚动到您指定的 ID 或锚点。第二次，`window.location.hash`已经设置为（或您第一次`topp`传递的任何内容）并且由于尚未更改浏览器不会更改滚动位置。`goToAnchor``hash`

有多种方法可以解决此问题：

1.  不要使用 JavaScript。只需使用这样的链接：`<a href='#topp'>Topp</a>`
2.  使用该[`scrollIntoView`](https://developer.mozilla.org/en-US/docs/DOM/element.scrollIntoView)功能滚动到您要定位的元素：

    ```
    document.getElementById('topp').scrollIntoView(); 
    ```

# javascript - 两个窗格（div）的统一滚动条

> ID：12725630
> 
> 赞同：0
> 
> 时间：2012-10-04T10:49:11.290
> 
> 标签：javascript, jquery, jquery-plugins, jquery-jscrollpane, tinyscrollbar

我有一个要求，我需要同步彼此相邻的 2 个 div 的滚动。实现这一目标的最佳方法是什么？

谢谢，克里斯 PS：现在两个 div 都有自己的 table/s 和/或 div/s 里面的内容确保它们总是有一个滚动条始终可见。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T11:25:45.597

您可以添加一个`scroll`事件侦听器，然后从那里同步它们吗？[例子](http://jsbin.com/equzup/3/)

```
function keepInSync() {
    var elements = [];
    var sync = function(e) {
        var target = e.target;

        for (var k = 0, l = elements.length; k < l; k++) {
            var element = elements[k];
            if (element === target) continue;
            element.scrollTop = target.scrollTop;
            element.scrollLeft = target.scrollLeft;
        }
    };

    for (var k = 0, l = arguments.length; k < l; k++) {
        var element = arguments[k];
        if (document.addEventListener) {
            element.addEventListener('scroll', sync);
        } else {
            element.attachEvent('onscroll', sync);
        }
        elements.push(element);
    }
} 
```

# c# - 可空类型 GetType() 抛出异常

> ID：12725631
> 
> 赞同：10
> 
> 时间：2012-10-04T10:49:12.673
> 
> 标签：c#, .net

我刚从一位让我发疯的同事那里得到了这个测验。对于这段代码：

```
var x = new Int32?();
string text = x.ToString(); // No exception
Console.WriteLine(text);
Type type = x.GetType(); // Bang! 
```

为什么第一部分 .ToString() 可以正常工作而不会引发异常，然后对 GetType() 的调用会引发 NullReferenceException ？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-10-04T10:50:09.933

`ToString`在 中被[覆盖`Nullable<T>`](http://msdn.microsoft.com/en-us/library/9hd15ket.aspx)，因此拨打电话时不涉及拳击。

`GetType()`不是虚拟方法，因此不会（也不能）被覆盖，因此在调用之前将值装箱......并且装箱可空值类型的空值会给出空引用。

装箱的原因在 C# 4 规范的第 7.5.5 节中：

> If`M`是在*引用类型*中声明的实例函数成员：
> 
> *   ...
> *   如果 of 的类型`E`是*value-type*，则执行装箱转换（4.3.1）转换`E`为 type `object`，并在以下步骤中`E`被认为是 type 。`object`在这种情况下，`M`只能是`System.Object`

请注意，如果您有：

```
var x = new Int32?(10); 
```

`typeof(int)`由于拳击，你最终会得到与 相同的类型。无法使用普通方法创建返回可空值类型的`foo`值。（您当然可以创建一个*新*方法，但这是一个附带问题：）`foo.GetType()``GetType()` *`GetType()`*

 *（使用“Bang！”表明该测验的作者可能是我。如果是这样的话，抱歉让你发疯。）*

# python - Python：如何检查文本文件，将其与另一个文本文件中的每一行进行比较，并打印不匹配的行

> ID：12725633
> 
> 赞同：3
> 
> 时间：2012-10-04T10:49:23.190
> 
> 标签：python, list, filter, compare

我被困在这里了。假设我有一个如下所示的文本文件 (example.txt)：

```
Generic line 1() 46536.buildsomething  
Generic line 2() 98452.constructsomething  
Something I'm interested in seeing  
Another common line() blablabla abc945  
Yet another common line() runningoutofideashere.923954  
Another line I'm interested in seeing  
Line I don't care about 1() yaddayaddayadda  
Line I don't care about 2() yaddayaddayadda  
Generic line 3() 23485.buildsomething  
Yet some other common line 
```

我现在有一个排除文本文件 (exclusions.txt)，其中包含不打印的部分行：

```
Generic  
common  
don't care about 
```

我的想法是我想打开 example.txt 文件，打开 excludes.txt 文件，然后打印 example.txt 中不包含 excludes.txt 中任何行的任何行。

到目前为止我尝试过的（没有任何成功）：

```
textfile = open("example.txt", "r")
textfile = textfile.readlines()

exclusionslist = []
exclusions = open("exclusions.txt", "r")
exclusions = exclusions.readlines()
for line in exclusions:
    exclusionslist.append(line.rstrip('\n'))

for excline in exclusions:
    for line in textfile:
        if exline not in line:
            print line 
```

我想我知道问题是什么，但我不知道如何解决它。我想我只需要告诉 Python 如果文本文件中的一行包含排除项中的*任何*行，请不要打印它。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T10:52:52.997

你让它变得不必要的复杂：

```
with open("example.txt", "r") as text, open("exclusions.txt", "r") as exc:
    exclusions = [line.rstrip('\n') for line in exc]
    for line in text:
        if not any(exclusion in line for exclusion in exclusions):
            print line 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T11:20:30.047

似乎您想要：

```
textfile = open("example.txt", "r")
textfilelines = textfile.readlines()

exclusions = open("exclusions.txt", "r")
exclusionlines = exclusions.readlines()
for x in range(len(exclusionlines)):
    exclusionlines[x] = exclusionlines[x].strip("\n")

for line in textfilelines:
    found = False
    for exclude in exclusionlines:
        if exclude in line:
            found = True
    if not found:
        print line 
```

这可能可以使用一些神奇的语法来压缩，但这会更难阅读。根据您的输出需求，您可能需要从文本文件行中删除 \n。

# android - 适用于 Android 的光泽 3D 饼图

> ID：12725636
> 
> 赞同：0
> 
> 时间：2012-10-04T10:49:32.133
> 
> 标签：android, charts, pie-chart, android-library

在 android 平台上提供**光泽 3D**饼图的库是什么。通过我完成的基本功课，我发现 achartengine、chartdeoid、afreechart、aiChart 等只提供简单的图表（*图表边界和最大渐变*）。TeeChart 也被尝试过，但似乎有问题。请推荐一个可靠的图书馆（商业图书馆也可以）

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-21T07:28:08.820

以下链接给出了使用图表 APi 进行 3d 图表驱动的教程

[http://androidtutorials60.blogspot.in/2013/06/drawing-3d-piechart-using-google-chart.html](http://androidtutorials60.blogspot.in/2013/06/drawing-3d-piechart-using-google-chart.html)

# android - 重叠时合并 MapView 子视图

> ID：12725639
> 
> 赞同：0
> 
> 时间：2012-10-04T10:49:52.557
> 
> 标签：android, android-mapview, overlap, pins

我使用 MapView 并且需要在其上显示复杂的图钉。我使用 addView() 和 MapView.LayoutParams 和 MODE_MAP 在地图上添加图钉。因此，地图上的视图随地图移动。

我添加了大约 20 个图钉，当我减少地图缩放时，图钉相互重叠。

如何将重叠的引脚合并到一个引脚中？

更新 1：

对于每个引脚，我都知道它在 MapView 上的位置。有快速算法来找到重叠的矩形吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T22:48:18.023

您可以测试反应角度重叠：

```
Rect rect1, rect2;
if(rect1.intersect(rect2)
  //do something 
```

在此消息中，当它们重叠时合并引脚是一个很好的算法：[合并引脚](https://stackoverflow.com/questions/6989524/android-mapview-merging-overlapping-markers-into-a-new-marker)

祝你好运。

# jquery - 强制 YouTube 视频在 Fancybox 内播放高清

> ID：12725641
> 
> 赞同：2
> 
> 时间：2012-10-04T10:49:56.303
> 
> 标签：jquery, html, youtube, fancybox

我已经设置了 Fancybox 用于在弹出窗口中打开 YouTube 视频，我终于让它与 iPad 和 iPhone 一起使用。现在，尽管弹出窗口的宽度和高度如何，是否有可能强制 YouTube 在弹出窗口内以最高清晰度播放视频？我已经在视频链接中设置了 hd=1 但这似乎不起作用。

这是我的代码：

```
<script type="text/javascript">

    $(document).ready(function() {
        $(".fancyYouTube").click(function() {
            $.fancybox({
                'type' : 'iframe',
                'padding' : 0,
                'autoscale' : false,
                'transitionIn' : 'elastic',
                'transitionOut' : 'elastic',
                'title' : '',
                'width' : 853,
                'height' : 480,
                'href' : this.href.replace(new RegExp('youtu.be', 'i'), 'www.youtube.com/embed').replace(new RegExp('watch\\?v=', 'i'), 'embed/'),
                });
                return false;
        });
    });

</script>

<a class="fancyYouTube" href="http://youtu.be/vn9bofoCYmE?hd=1"><img src="http://i4.ytimg.com/vi/7-z939fbbvw/mqdefault.jpg"/></a> 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-14T08:13:57.163

您可以轻松地将： &autoplay=1&hd=1 附加到视频网址。

# asp.net - 使用用户配置的电子邮件帐户发送邮件

> ID：12725642
> 
> 赞同：0
> 
> 时间：2012-10-04T10:49:56.310
> 
> 标签：asp.net

我有 asp.net 联系我们页面。在这里，我们向用户提供了电子邮件地址，他们可以用来联系我们。

现在我必须使这个电子邮件地址可点击，点击它用户应该能够使用他配置的邮件帐户向我们发送邮件。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T11:04:56.910

创建一个简单的电子邮件表单，并且永远不要将电子邮件地址暴露给您网站上的屏幕抓取工具。垃圾邮件拦截只是部分有效；我已经看到服务器因这种做法而屈服。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T11:16:26.123

像这样添加

```
<a href="mailto:EmailID@.com">EmailID@.com</a> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T11:03:17.947

将您的电子邮件地址添加到标签并在客户端单击时添加调用 javascript 以显示弹出窗口。它允许用户输入他的电子邮件地址和消息。在 opup 末尾提供的按钮可用于发送电子邮件。

例如：电子邮件地址

# c# - C#中图像上的水印？

> ID：12725643
> 
> 赞同：1
> 
> 时间：2012-10-04T10:49:58.017
> 
> 标签：c#, math, geometry

我想在图像中心对角放置水印。我的代码做得很好，但水印没有出现在每个图像的中心。我认为在我硬编码值的位置放置水印文本存在问题。我该如何编写通用公式水印文本的定位。

```
 private MemoryStream ApplyWaterMark(MemoryStream stream)
        {

            System.Drawing.Image Im = System.Drawing.Image.FromStream(stream);                // 
            Graphics g = Graphics.FromImage(Im);

            // Create a solid brush to write the watermark text on the image
            Brush myBrush = new SolidBrush(System.Drawing.Color.FromArgb(25,
            System.Drawing.Color.LightSteelBlue));

            var f = new System.Drawing.Font(FontFamily.GenericSerif, 30);
            // Calculate the size of the text
            SizeF sz = g.MeasureString("TEST WATER MARK", f);

            int X, Y;
            X = ((int)(Im.Width - sz.Width) / 2)-1162;
            Y = ((int)(Im.Height + sz.Height) / 2)-127;

            g.RotateTransform(-45f);
            g.DrawString("TEST WATER MARK", f, myBrush,new System.Drawing.Point(X, Y));
            g.RotateTransform(45f);

            Im.Save(OutPutStream, ImageFormat.Png);//save image with dynamic watermark

            return OutPutStream;
        } 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-15T17:31:59.547

您可以通过这种方式对角设置水印

```
 Bitmap newBitmap = new Bitmap(bitmap);
     Graphics g = Graphics.FromImage(newBitmap);

     // Trigonometry: Tangent = Opposite / Adjacent
     double tangent = (double)newBitmap.Height / 
                      (double)newBitmap.Width;

     // convert arctangent to degrees
     double angle = Math.Atan(tangent) * (180/Math.PI);

     // a^2 = b^2 + c^2 ; a = sqrt(b^2 + c^2)
     double halfHypotenuse =(Math.Sqrt((newBitmap.Height 
                            * newBitmap.Height) +
                            (newBitmap.Width * 
                            newBitmap.Width))) / 2;

     // Horizontally and vertically aligned the string
     // This makes the placement Point the physical 
     // center of the string instead of top-left.
     StringFormat stringFormat = new StringFormat();
     stringFormat.Alignment = StringAlignment.Center;
     stringFormat.LineAlignment=StringAlignment.Center;

     g.RotateTransform((float)angle);            
     g.DrawString(waterMarkText, font, new SolidBrush(color),
                  new Point((int)halfHypotenuse, 0), 
                  stringFormat); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T11:46:04.210

尝试以这种方式计算图像中心的坐标（X，Y）：

```
int X, Y;
X = (int)(Im.Width / 2 - sz.Width / 2);
Y = (int)(Im.Height / 2 - sz.Height / 2); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-04-24T10:28:15.770

底部有多种颜色的水印

```
public void AddWatermark(string watermarkText, string image, string TColor) 
{       

    System.Drawing.Image bitmap = (System.Drawing.Image)Bitmap.FromFile(Proot + image);
    Font font = new Font("Arial", 12, FontStyle.Bold, GraphicsUnit.Pixel);

    RectangleF rectf = new RectangleF(70, 90, 90, 50);

    Color color = Color.FromArgb(255, 255, 0, 0);
    try
    {
        if (TColor.ToUpper() == "RED")
        {
            color = Color.FromArgb(255, 255, 0, 0);
        }
        else if (TColor.ToUpper() == "WHITE")
        {
            color = Color.FromArgb(255, 255, 255, 255);
        }
        else if (TColor.ToUpper() == "BLACK")
        {
            color = Color.FromArgb(155, 0, 0, 0);
        }
        else if (TColor.ToUpper() == "GREEN")
        {
            color = Color.FromArgb(255, 0, 255, 0);
        }
    }
    catch { }

    //     WHITE (255, 255, 255, 255)
    //     RED   (255, 255, 000, 000)
    //     GREEN (255, 000, 255, 000)
    //     BLUE  (255, 000, 000, 255) 
    //     BLACK (150, 000, 000, 000)
    //     PURPLE(255, 125, 000, 255)
    //     GREY  (255, 128, 128, 128) 
    //     YELLOW(255, 255, 255, 000) 
    //     ORANGE(255, 255, 125, 000)

 //   Point atpoint = new Point(bitmap.Width / 2, bitmap.Height / 2);
    Point atpoint = new Point(bitmap.Width / 2, bitmap.Height - 10);

    SolidBrush brush = new SolidBrush(color);
    Graphics graphics = Graphics.FromImage(bitmap);

    StringFormat sf = new StringFormat();
    sf.Alignment = StringAlignment.Center;
    sf.LineAlignment = StringAlignment.Center;

    graphics.DrawString(watermarkText, font, brush, atpoint, sf);
    graphics.Dispose();
    MemoryStream m = new MemoryStream();
    bitmap.Save(m, System.Drawing.Imaging.ImageFormat.Jpeg);

 //   Response.WriteFile("images/DefaultLogo.png", true);
    m.WriteTo(Response.OutputStream);

    m.Dispose();
    base.Dispose();
} 
```

# android - 当应用程序安装在 SD 卡上时，没有收到 MEDIA_MOUNTED 广播

> ID：12725646
> 
> 赞同：1
> 
> 时间：2012-10-04T10:50:02.600
> 
> 标签：android, broadcastreceiver

如果应用程序安装在 SD 卡上，我如何在启动时启动我的应用程序？如果我的应用程序安装在内部存储器上，那么使用`BOOT_COMPLETED`完成的广播我们可以达到我们的要求，但是这个 BOOT_COMPLETED 意图是在媒体安装之前广播，所以我们不能使用这个广播。

到目前为止我尝试的是，我使用了另一个意图，`MEDIA_MOUNTED`但不知道为什么没有收到广播。

**这是我的代码**：
AndroidManifest.xml

```
<receiver
            android:name=".ui.Receiver"
            android:enabled="true" >
            <intent-filter>
                <action android:name="android.intent.action.MEDIA_MOUNTED" />
                <data android:scheme="file" />
            </intent-filter>
            <intent-filter>
                <action android:name="android.intent.action.BOOT_COMPLETED" />
                <action android:name="android.intent.action.EXTERNAL_APPLICATIONS_AVAILABLE" />
                <action android:name="android.intent.action.EXTERNAL_APPLICATIONS_UNAVAILABLE" />
                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
            <intent-filter>
                <action android:name="android.intent.action.PACKAGE_REPLACED" />

                <data android:scheme="package" />
                <data android:path="org.sipchat.sipua" />
            </intent-filter>
        </receiver> 
```

**接收器.java**

```
public void onReceive(Context context, Intent intent) {
        String intentAction = intent.getAction();
        if (intentAction.equals(Intent.ACTION_BOOT_COMPLETED)) {
            Toast.makeText(context, "BOOT Completed", Toast.LENGTH_LONG).show();
            on_vpn(false);
            engine(context).register();
        } else if (intentAction.equals(Intent.ACTION_MEDIA_MOUNTED)) {
            Toast.makeText(context, "Media is Mounted", Toast.LENGTH_LONG)
                    .show();
            engine(context).register();
        } else if (intentAction.equals(ConnectivityManager.CONNECTIVITY_ACTION)
                || intentAction.equals(ACTION_EXTERNAL_APPLICATIONS_AVAILABLE)
                || intentAction
                        .equals(ACTION_EXTERNAL_APPLICATIONS_UNAVAILABLE)
                || intentAction.equals(Intent.ACTION_PACKAGE_REPLACED)) {
            engine(context).register();}} 
```

任何帮助和建议将不胜感激
谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T10:56:03.063

应用程序在设备启动时启动，适用于 3.0 以下的 android 版本。有关更多信息，请参阅此帖子[链接 01](https://stackoverflow.com/questions/12299373/how-to-run-an-andriod-appltion-when-device-start-up)

# java - iText 列表项或 JTextArea 中的行距

> ID：12725647
> 
> 赞同：3
> 
> 时间：2012-10-04T10:50:06.687
> 
> 标签：java, swing, itext, jtextarea

我需要在我的 GUI 中同步我的 PDF ListItem 和 JTextArea 的行距。我可以通过调整一个或另一个来做到这一点。

这一切都很好，直到 ListItem（或 JTextArea）超过一行（JTextArea 中的换行设置为 true）。

我可以调整两个 ListItem 之间的高度。该距离也将应用于单个多行 ListItem 的两行之间的高度。

但是，在我的 GUI 中，由于 JTextArea 中的组件孔和默认行间距，这两者并不相同。差异大约是一个像素，但在大规模上会累积并导致一些问题。

那么，有什么方法可以在 JTextArea 中设置行间距，或者有什么方法可以区分两个列表项和同一列表项的两行之间的间距？

我完全愿意使用任何类型的外部库以及可能需要的任何技巧......

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-08T13:54:17.657

要覆盖 JTextArea 的行距，请查看 PlainView（用于呈现 PLAinDocument）。

`public void paint(Graphics g, Shape a)`方法中有以下几行

```
 drawLine(line, g, x, y);
        y += fontHeight; 
```

因此，您可以调整渲染固定 y 偏移量。

在`BasicTextAreaUI`创建视图的方法中。用您自己的实现替换它`PlainView`

```
public View create(Element elem) {
    Document doc = elem.getDocument();
    Object i18nFlag = doc.getProperty("i18n"/*AbstractDocument.I18NProperty*/);
    if ((i18nFlag != null) && i18nFlag.equals(Boolean.TRUE)) {
        // build a view that support bidi
        return createI18N(elem);
    } else {
        JTextComponent c = getComponent();
        if (c instanceof JTextArea) {
        JTextArea area = (JTextArea) c;
        View v;
        if (area.getLineWrap()) {
            v = new WrappedPlainView(elem, area.getWrapStyleWord());
        } else {
            v = new PlainView(elem);
        }
        return v;
        }
    }
    return null;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-08T21:19:55.997

使用 ParagraphAttribute 控制行之间的空间`SpaceBelow`。您可以使用 4 行或更少的代码来完成此操作（请参见下面的示例）。您将需要使用 a`JTextPane`来使用这些 ParagraphAttributes（但`JTextPane`和 JTextArea 非常相似，您应该不会注意到差异）。

```
import java.awt.*;
import javax.swing.*;
import javax.swing.text.*;

public class LineSpacingExample extends Box{
    JTextPane modifiedTA;
    //Modify this to whatever spacing you want between the rows.
    static final float spaceBelow = 5.0f;
    //Font height - automatically calculated by code below
    int fontHeight = 0;

    public LineSpacingExample(){
        super(BoxLayout.X_AXIS);

        //Demonstrating that the spacing is predictable
        final JPanel leftBox = new CustomBox();
        add(leftBox);

        //Sets the amount of space below a row (only code you need to add)
        DefaultStyledDocument pd = new DefaultStyledDocument();
        SimpleAttributeSet sas = new SimpleAttributeSet();
        StyleConstants.setSpaceBelow(sas, spaceBelow);
        pd.setParagraphAttributes(0, pd.getLength(), sas, false);

        modifiedTA= new JTextPane(pd);  
        add(modifiedTA);

        //Calculates the font height in pixels
        fontHeight = modifiedTA.getFontMetrics(modifiedTA.getFont()).getHeight();
    }

    /**
     * @param args
     */
    public static void main(String[] args) {
        final JFrame frame = new JFrame();
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.add(new LineSpacingExample());
        frame.pack();
        frame.setLocationRelativeTo(null);
        frame.setVisible(true);
    }

    //EXTRA! Paints the left hand side box - to show that the spacing is predictable in pixels
    public class CustomBox extends JPanel{

        public CustomBox() {
            super();
            setOpaque(true);
            setBackground(Color.orange);

        }

        public void paintComponent(Graphics g){
            super.paintComponent(g);
            int height = getSize().height;
            int drawLocation = 2; //To account for padding on the TextPane
            int row = 1;
            while(drawLocation < height){

                //Drawing the text row background
                g.setColor(Color.blue);
                g.fillRect(0, drawLocation, 50, fontHeight);

                //Drawing the text row number
                g.setColor(Color.white);
                g.drawString(Integer.toString(row++), 0, drawLocation+14);
                drawLocation += fontHeight;

                //Drawing the space row
                g.setColor(Color.green);
                g.fillRect(0, drawLocation, 50, (int)spaceBelow);
                drawLocation += spaceBelow;
            }
        }
    };

} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-07T18:39:12.727

您可以尝试使用 a`JTextPane`而不是 a`JTextArea`并相应地设置行距以使其看起来像您的 ListItems。

```
SimpleAttributeSet set = new SimpleAttributeSet();

StyleConstants.setLineSpacing(set, 0.5f);    // <--- your value here

textPane.setParagraphAttributes(set, true); 
```

这不会影响现有文本的行距，因此您应该在之后设置文本。

# wordpress - Facebook WordPress 插件

> ID：12725650
> 
> 赞同：0
> 
> 时间：2012-10-04T10:50:13.993
> 
> 标签：wordpress, facebook-like

我最近在我的 WordPress 网站[http://www.napsbitmesra.com](http://www.napsbitmesra.com)上安装了官方 Facebook 插件， 但“赞”和“发送”按钮不起作用。我无法弄清楚为什么。

当我单击发送并且“喜欢”按钮正在工作时，我收到“无法访问 URL 的页面”，但点赞计数器不会增加，页面也不会出现在我的时间线上。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T12:19:26.813

使用 Facebook 开发人员的脚本代替插件。转到[此链接](http://developers.facebook.com/docs/reference/plugins/like/)并填写您的 Facebook 页面 URL

这将100％有效...

# java - JSF 内存泄漏

> ID：12725658
> 
> 赞同：-1
> 
> 时间：2012-10-04T10:50:45.193
> 
> 标签：java, spring, jsf, memory-leaks, richfaces

我正在使用**JSF**、**Richfaces**和**Spring**来构建我的网络应用程序。

我有个问题。即使会话超时或被破坏**（“用户注销”）** ，服务器的内存使用量总是上升并且永远不会下降 ，并且它一直在上升，直到**系统崩溃**。

有线的事情是，当具有相同 IP 的同一用户再次登录时，内存永远不会以相同的旧速率上升，为此我认为即使在**注销**后或会话**超时**后内存也会保持会话.

请问谁能帮我解决这个问题！？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T12:02:34.460

我使用过 JProfiler 和 yourkit，但我对实际性能调整和内存使用的输出不满意，目前我们已切换到[java melody](https://code.google.com/p/javamelody/)。这不仅有助于开发和生产系统中的性能优化。Java melody 非常易于集成和配置，在生产中您只需更新 web.xml 即可启用或禁用

# c# - C# lib 允许加载和保存 png 文件并从源图像创建图像？

> ID：12725665
> 
> 赞同：0
> 
> 时间：2012-10-04T10:51:19.193
> 
> 标签：c#, image-processing

我必须编写一个需要加载 png 图像的小应用程序，读取一个在该图像中定义 Rects 的 xml 文件，并从最初加载的 png 图像中输出一堆小图像。

有人可以建议 ac# 库来做到这一点吗？

提前致谢。

# scala - 自动刷新 ENSIME 错误缓冲区

> ID：12725667
> 
> 赞同：7
> 
> 时间：2012-10-04T10:51:39.697
> 
> 标签：scala, emacs, ensime

有没有一种方法可以让 ENSIME 错误缓冲区（使用 调用的缓冲区`C-c C-v e`）在我保存 Scala 源文件时自动刷新？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-29T14:18:07.090

加载 ensime 后尝试添加以下代码：

```
(add-hook 'ensime-source-buffer-saved-hook 
          'ensime-show-all-errors-and-warnings) 
```

# ios5 - 如何将应用程序从 ios5 传输到 ios6（3.5' 显示器到 4' 显示器）

> ID：12725668
> 
> 赞同：0
> 
> 时间：2012-10-04T10:51:44.077
> 
> 标签：ios5, ios6, iphone-5

目前，我需要将 iOS 应用程序从 iOS 4.0（3.5 英寸显示屏）转换为 iOS 6.0（4 英寸显示屏）。

1.  请建议我如何使 iOS 旧版本（5.0 及更早版本）应用程序与 ios6 和 iPhone5 兼容的最简单方法。

2.  帮助我了解如何为 4 英寸 XIB 设置 3.5 英寸 XIB 的 UI 对象的框架。

3.  如果有人有与此主题相关的好教程或文章，请提供链接。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T12:23:56.530

您应该使用以下代码来检测 ios6 和 iphone 5，并在区分后根据需要执行必要的更改。

符合系统定义中指定的版本

```
//#define __IPHONE_2_0 20000
//#define __IPHONE_2_1 20100
//#define __IPHONE_2_2 20200
//#define __IPHONE_3_0 30000
//#define __IPHONE_3_1 30100
//#define __IPHONE_3_2 30200
//#define __IPHONE_4_0 40000 
```

//#define __IPHONE_6_0 60000 你可以这样写函数（你应该把这个版本存储在某个地方，而不是每次都计算它）：

```
+ (NSInteger) getSystemVersionAsAnInteger{
int index = 0;
NSInteger version = 0;

NSArray* digits = [[UIDevice currentDevice].systemVersion componentsSeparatedByString:@"."];
NSEnumerator* enumer = [digits objectEnumerator];
NSString* number;
while (number = [enumer nextObject]) {
    if (index>2) {
        break;
    }
    NSInteger multipler = powf(100, 2-index);
    version += [number intValue]*multipler;
    index++;
}
return version;
} 
```

然后您可以按如下方式使用它：

```
if([Toolbox getSystemVersionAsAnInteger] >= __IPHONE_6_0)
{
  //blocks
} else 
{
//oldstyle
} 
```

确定操作系统版本后，使用以下步骤进行转换。

1.  为您的应用设置 4 英寸的启动图像。这就是您获得 1136 像素屏幕高度的方式（没有它，您将获得 960 像素，顶部和底部有黑色边距）。
2.  测试您的应用程序，希望不要做任何其他事情，因为如果您正确设置了自动调整大小的蒙版，一切都会神奇地工作。
3.  如果您没有，请使用适当的自动调整大小掩码调整您的视图布局，或者如果您只想支持 iOS 6，请查看 Auto Layout。
    1.  如果您需要专门为较大的屏幕做一些事情，那么看起来您必须检查 [[UIScreen mainScreen] bounds] 的高度（或 applicationFrame，但如果存在，则需要考虑状态栏高度）似乎没有特定的api。

例子：

```
CGRect screenBounds = [[UIScreen mainScreen] bounds];
if (screenBounds.size.height == 568) {
 // code for 4-inch screen
}else{
 // code for 3.5-inch screen
} 
```

谢谢。

# ios - iOS横向模式下的UITableViewCell选择背景视图

> ID：12725671
> 
> 赞同：0
> 
> 时间：2012-10-04T10:52:00.967
> 
> 标签：ios, uitableview, background, landscape, selected

我已经为 UITableViewCell 选择状态创建了带有 backgroundImage 的自定义 UIView，如下所示：

```
UIView *selectedBgView = [[UIView alloc] init];
selectedBgView.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"selectedCellBg.png"]];
selectedBgView.transform = CGAffineTransformMakeRotation(M_PI_2);
cell.selectedBackgroundView = selectedBgView; 
```

我还逆时针旋转了这个自定义视图，但没有运气。

在第一次启动时纵向是可以的。但问题是当我旋转设备时，选定的单元格背景图案变得很奇怪。

肖像：

![在此处输入图像描述](../Images/3544e943409c8c5484cbad8c63fbed27.png)

景观：

![在此处输入图像描述](../Images/0ae646cc06e53d753732ba676dad9b13.png)

此外，当设备从横向切换回来时，它会保持奇怪的绘制状态。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-11T06:05:34.923

我刚刚想通了。我没有顺时针转换 UIView，而是顺时针旋转了文件系统上的图像，它可以工作。

# c# - 如何获取 com+ 应用程序的所有 com+ 组件的列表？

> ID：12725675
> 
> 赞同：3
> 
> 时间：2012-10-04T10:52:26.643
> 
> 标签：c#, asp.net, windows, .net-4.0, com+

我正在尝试使用 c# 和 ASP.NET 使用 COM+。我一直在关注一个[例子](http://www.codeguru.com/cpp/com-tech/complus/article.php/c3943/COM-Automation-Using-COMAdminCatalog-in-NET-C.htm)，但是它的一部分失败了。

```
dynamic oCatalog = Activator.CreateInstance(Type.GetTypeFromProgID("ComAdmin.COMAdminCatalog"));
/* Get the Applications collection and populate it */
dynamic applicationInstances = oCatalog.GetCollection("Applications");
applicationInstances.Populate();
foreach (dynamic applicationInstance in applicationInstances)
    {
        Response.Write("<p>" + applicationInstance.Name.ToString() + "-" + applicationInstance.Key.ToString() + "</p>");
        dynamic objComponents = oCatalog.GetCollection("Components", applicationInstance.Key);
        objComponents.Populate();
        foreach(dynamic Components in objComponents)
        {
            Response.Write("<p>" + Components.Name.ToString() + "</p>");
        }           
    } 
```

当上述调用 oCatalog.GetCollection("Components", applicationInstance.Key) 被调用时，我收到错误：

> System.Reflection.TargetParameterCountException：调用 GetCollection 时出错。

如何获取应用程序实例中当前组件的列表？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-05T13:09:38.760

您需要询问特定应用程序的组件的“应用程序”集合：

```
ICOMAdminCatalog2 oCatalog = (ICOMAdminCatalog2) Activator.CreateInstance(Type.GetTypeFromProgID("ComAdmin.COMAdminCatalog"));

ICatalogCollection applications = oCatalog.GetCollection("Applications");
applications.Populate();
foreach (ICatalogObject applicationInstance in applications)
{
    ICatalogCollection comps = applications.GetCollection("Components", applicationInstance.Key);
    comps.Populate();
    foreach (ICatalogObject comp in comps)
    {
        Console.WriteLine("{0} - {1}", comp.Name, comp.Key);
    }
} 
```

此处查看示例：http: [//msdn.microsoft.com/en-us/library/windows/desktop/ms686093 (v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/desktop/ms686093(v=vs.85).aspx)

# javascript - 是什么！!function(){...}(); 的一部分 意思是？

> ID：12725677
> 
> 赞同：1
> 
> 时间：2012-10-04T10:52:33.540
> 
> 标签：javascript

> **可能重复：**
> [函数前的感叹号有什么作用？](https://stackoverflow.com/questions/3755606/what-does-the-exclamation-mark-do-before-the-function)

所以我遇到了twitter分享按钮代码对以下内容的使用：

```
!function (d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (!d.getElementById(id)) {
        js = d.createElement(s);
        js.id = id;
        js.src = "//platform.twitter.com/widgets.js";
        fjs.parentNode.insertBefore(js, fjs);
    }
}(document, "script", "twitter-wjs"); 
```

我只是想知道这个`!function`位有什么作用。

我猜是缩写，`(function(){...})();`但我在网上找不到任何东西来确认它。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T11:02:13.660

虽然@elias-van-ootegem 基本上是正确的，但许多浏览器会认为它是语法错误而没有爆炸。

```
function() { ... }() // Bad
!function() { ... }() // Good
(function() { ... })() // Better, more readable.
(function() { ... }()) // Best 
```

# php - PHP 4 如何从 URL 中删除特定变量

> ID：12725683
> 
> 赞同：0
> 
> 时间：2012-10-04T10:52:55.290
> 
> 标签：php, php4

在这种情况下，PHP 4 如何从 URL 中删除特定变量“？lang=en”

/filename.php?lang=en

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T11:02:34.123

```
$url = '/filename.php?lang=en&test=1';                    // the main link
$str = parse_url($url);                                   // parse_url
parse_str($str['query'], $arr);                           // parse_str on 'query'
unset($arr['lang']);                                      // unset 'lang'
$newQuery = http_build_query($arr);                       // rebuild query
$link = substr($url, 0, strpos($url, '?')).'?'.$newQuery; // remake link

echo $link; // /filename.php?test=1 
```

这可以很容易地包装成一个函数：

```
function removeParameter($link, $remove){
    $str = parse_url($link);                                    // parse_url on $link
    parse_str($str['query'], $arr);                             // parse_str on 'query'
    unset($arr[$remove]);                                       // unset $remove
    $newQuery = http_build_query($arr);                         // rebuild query
    $link = substr($link, 0, strpos($link, '?')).'?'.$newQuery; // remake link
    return $link;
}

echo removeParameter('/filename.php?lang=en&test=1', 'lang'); // /filename.php?test=1
echo removeParameter('http://www.example.com/filename.php?lang=en&test=1&me=do', 'test'); // http://www.example.com/filename.php?lang=en&me=do 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T10:54:33.727

您正在寻找[超级全局](http://php.net/manual/en/language.variables.superglobals.php)$_GET：

```
echo $_GET['lang']; // will put 'en' on the screen 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T10:55:25.620

使用[substr()](http://php.net/substr)和[strrpos()](http://php.net/strrpos)；

```
$str = 'filename.php?lang=en';
$str = substr($str, 0, strrpos($str, '?'));
echo $str; // Outputs 'filename.php' 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T10:56:15.513

您可以使用正则表达式`preg_match('/^([^?]+)/', '/filename.php?lang=en')`匹配所有内容，直到问号为止。

# opengl-es - 更改 ios 6 Maps 的 CAEAGLLayer 颜色

> ID：12725686
> 
> 赞同：1
> 
> 时间：2012-10-04T10:53:02.337
> 
> 标签：opengl-es, maps, ios6, caeagllayer

使用新的 Apple Maps，`MKMapTileView`不再工作，我试图弄清楚如何操作负责显示整个地图的图层（及其内容）。`View/Layer`感兴趣的是层`VKMapCanvas`，它是一个`CAEAGLLayer`.

有没有机会继承和覆盖/混合这个（`VKMapCanvas`）的方法或实现？

# jquery - 向下滚动时隐藏导航

> ID：12725687
> 
> 赞同：0
> 
> 时间：2012-10-04T10:53:02.440
> 
> 标签：jquery, html, navigation, scroll, nav

我需要的是一个导航菜单，当用户向下滚动或停止时隐藏（除了顶部，它应该是可见的），一旦用户开始向上滚动，菜单应该重新出现。

至今：

**HTML**：

```
<div id="wrapper">

    <div id="header_nav">
        <ul>
            <li>Punkt1</li>
            <li>Punkt2</li>
            <li>Punkt3</li>
            <li>Punkt4</li>
        </ul>
    </div>

</div> 
```

**CSS**：

```
* {
    padding:0px; 
    margin:0px;
}
#wrapper {
    height:1200px; 
    width:960px;
    background-color:#567; 
    margin:auto;
}
#header_nav {
    position:fixed; 
    width:960px;
    height:auto;
    background-color:#678;
} 
```

**查询**：

```
$(function(){
    $('#header_nav').data('size','big');
});

$(window).scroll(function(){
    if($('body').scrollTop() > 0)
    {
        if($('#header_nav').data('size') == 'big')
        {
            $('#header_nav').data('size','small');
            $('#header_nav').stop().animate({
                height:'40px'
            },600);
        }
    }
    else
    {
        if($('#header_nav').data('size') == 'small')
        {
            $('#header_nav').data('size','big');
            $('#header_nav').stop().animate({
                height:'100px'
            },600);
        }  
    }
}); 
```

当我滚动时没有任何反应，我的导航始终保持不变。当我向下滚动和暂停时，我希望它隐藏，但是一旦我开始向上滚动，我希望它淡入。但我似乎无法让它工作，你们能告诉我我做错了什么吗？

也在这里做了一个小提琴：http: [//jsfiddle.net/iBertel/GGRUL/](http://jsfiddle.net/iBertel/GGRUL/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T14:08:45.573

Changing $('body').scrollTop to $(window).scrollTop seems to get it working:

[Example](http://jsfiddle.net/GGRUL/20/)

Tested in Chrome, Firefox, IE9, Opera on Windows (all latest versions AFAIK).

EDIT:

The following code will fire the resizing mechanism as soon as you start scrolling up:

[http://jsfiddle.net/GbXG4/4/](http://jsfiddle.net/GbXG4/4/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-05T08:18:54.467

嗯，你的例子有效。我已将库（左栏）更改为 jQuery，仅此而已。此外，添加`overflow:hidden;`到您的`#header_nav`. 这将隐藏不适合小高度的文本

# resharper - 有没有办法为特定文件禁用 ReSharper？

> ID：12725692
> 
> 赞同：67
> 
> 时间：2012-10-04T10:53:12.890
> 
> 标签：resharper

我想告诉 ReSharper 忽略我项目中的一些文件。其中一些太大了（它们包含罐头测试数据）。其中一些只是混淆了它（Silverlight 和 .NET 代码的混杂）。

有没有办法通过在文件顶部添加评论来做到这一点？

不管它完成了，它需要是持久的（即可以签入）和每个文件。

我找到[了这个](https://stackoverflow.com/a/8860743/8446)，但它似乎并没有持续存在。

* * *

## 回答 #1

> 赞同：63
> 
> 时间：2013-11-19T02:10:14.420

This may be a feature in a more recent version than the one available when the question was originally asked.

It is possible to suppress code inspection for a specific block (or file) by using the comments:

```
// ReSharper disable All 
```

and

```
// ReSharper restore All 
```

See [here](https://www.jetbrains.com/help/resharper/Quick_Start.html#analyzing-code).

* * *

## 回答 #2

> 赞同：61
> 
> 时间：2012-10-04T11:21:54.897

您可以通过快捷键将其应用于单个文件。

打开文件后尝试这两种方法（实际的快捷方式取决于您的环境）。

*   `Ctrl`+ `Shift`+ `Alt`+`8`
*   `Ctrl`+`8`

您将看到它切换了此特定文件的处理。

“键盘”对话框中此快捷方式的名称是`ReSharper_EnableDaemon`。

* * *

## 回答 #3

> 赞同：54
> 
> 时间：2012-10-04T11:13:39.303

为了跳过对某些文件或文件夹的检查，请转到**ReSharper | 选项 | 代码检查 | 设置**->**编辑要跳过的项目**按钮。或者，如果您的代码已生成，请将其添加到**ReSharper |中的适当列表中。选项 | 生成代码**部分。[您可以在此处](http://hadihariri.com/2011/06/27/preventing-items-from-being-analyzed-in-resharper/)阅读有关其工作原理的更多信息。

# ios - ios performSelector:withObject:afterDelay: in viewDidLoad 冻结视图推送

> ID：12725693
> 
> 赞同：0
> 
> 时间：2012-10-04T10:53:14.500
> 
> 标签：ios, delay, viewdidload, performselector

我将视图控制器推入导航

在 viewDidLoad 方法中，我将此方法放在最后一行：

```
[self performSelector:@selector(startLoadAndParseXML) withObject:nil afterDelay:0.]; 
```

像往常一样，在我的应用程序中的其他视图控制器中，视图控制器被推送，然后方法 startLoadAndParseXML 运行，并且应用程序没有被冻结。但是只有一个视图控制器，我不知道为什么有时应用程序会冻结，并且只有在方法 startLoadAndParseXML 完成后才会推送视图。

谁能解释我？谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T11:15:44.497

`performSelectorWithObject:afterDelay:`在当前运行循环中启动选择器，而不是在后台线程中，因此如果您从主线程调用它，网络操作将冻结 UI，

# c# - 这种对象包装方法是常用的还是不好的做法？

> ID：12725697
> 
> 赞同：0
> 
> 时间：2012-10-04T10:53:29.863
> 
> 标签：c#

我有 2 个数组`smallArray`，`bigArray`例如

```
 void myFun(TypeA a, TypeA b, TypeA c, TypeA d)
 {
      TypeA[] smallArray = new TypeA[]{a,b,c,d}
      TypeA[] bigArray = new TypeA[]{a,b,a,b,c,c,c,d,d,a,c,b,d,a,d,...}
 } 
```

`bigArray`仅包含来自的成员`smallArray`。现在我想交换 中的所有对象`bigArray`，但要保持结构顺序，并尽量减少操作次数。

例如，我的理想结果将是`{aa,bb,aa,bb,cc,cc,cc,dd,dd,aa,cc,bb,dd,aa,dd,...}`……`aa`的新对象`TypeA`

所以我将我的代码重新设计成这样：

```
class TypeB
{
    public TypeA Value {get; set;}
}

void myFun(TypeB a2, TypeB b2, TypeB c2, TypeB d2) // where a2.Value = a, b2.Value = b...
{
    TypeB[] smallArray = new TypeB[]{a2,b2,c2,d2}
    TypeB[] bigArray = new TypeB[]{a2,b2,a2,b2,c2,c2,c2,d2,d2,a2,c2,b2,d2,a2,d2,...}
} 
```

我将目标对象“装箱”到包装器中，并将包装的对象存储在数组中。现在，当我更新 中的对象值时，会同时更新 中`smallArray`的成员值。`bigArray`

这种技术常用吗？还是有其他方法可以简化它？

### 更新

现在`TypeA`变成`string`这样你至少可以理解这个问题。

我有 2 个数组`smallArray`，`bigArray`例如

```
string[] smallArray = new string[] {"a","b","c","d"}
string[] bigArray = new string[] {"a","b","a","b","c","c","c","d","d","a","c","b","d","a","d",...} 
```

`bigArray`仅包含来自的成员`smallArray`。现在我想交换 中的所有对象`bigArray`，但要保持结构顺序，并尽量减少操作次数。

例如，我理想中的新 bigArry 会变成`{"aa","bb","aa","bb","cc","cc","cc","dd","dd","aa","cc","bb","dd","aa","dd",...}`

所以我将我的代码重新设计成这样：

```
class TypeB
{
    public string Value {get; set;}
}

void myFun(TypeB a2, TypeB b2, TypeB c2, TypeB d2) // where a2.Value = "a", b2.Value = "b"...
{
    TypeB[] smallArray = new TypeB[]{a2,b2,c2,d2}
    TypeB[] bigArray = new TypeB[]{a2,b2,a2,b2,c2,c2,c2,d2,d2,a2,c2,b2,d2,a2,d2,...}
} 
```

我将其“装箱”`string`到包装器中，并将包装的对象存储在数组中。现在，当我更新 中的对象值时，会同时更新 中`smallArray`的成员值。`bigArray`

所以在示例中我只需要更新 4 个对象而不是整个`bigArray`.

这种技术常用吗？还是有其他方法可以简化它？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T11:33:18.433

基本上，答案是“是的，你可以做到”。一种更简单的方法可能是让 bigArray 为 int 类型，并将索引存储到 smallArray 中：

```
TypeB[] smallArray = new TypeB[] { a2, b2, c2, d2 };
int[] bigArray = new int[] { 0, 1, 0, 1, 2, 2, 2, 2, 3, 3, 0, 2, 1, 3, 1, 3 }; 
```

这样，bigArray 的级别间接保持不变，但 smallArray 没有任何间接。此外，这强制 bigArray 不包含任何不在 smallArray 中的元素（超出范围的索引除外）。

为了能够说更多，您应该向我们提供更详细的用例描述。您的应用程序对性能至关重要吗？记忆约束怎么样？

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T11:32:45.610

是的。每个列表或数组都存储指针。当您将这些指针指向一个众所周知的位置时，即内存中保留对象的属性，无论它是作为单例维护，还是在数组或静态变量中，您都可以在一个中心的地方。如果没有合适的例子，这不是一种常用的做法，但我可以想象有合适的情况可以做到这一点。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T11:31:08.260

如果我声明一个引用类型，

```
 class SomeClass
 {
 } 
```

然后实例化一个变量给它，

```
 var someInstance = new SomeClass() 
```

然后像这样声明另一个变量，

```
 var someInstance2 = someInstance 
```

内存中只有一个实例，`SomeClass`但我有两个变量`someInstance`，并且`someInstance2`该引用或指向该`SomeClass`实例。

* * *

所以，如果我声明两个新实例`SomeClass`，请注意`new`关键字，

```
var a = new SomeClass();
var b = new SomeClass(); 
```

然后使用它们初始化两个新数组

```
var smallArray = new SomeClass[] { a, b }
var bigArray = new SomeClass[] { a, b, a, a, b, b, b, a } 
```

我只实例化了两个新的`SomeClass`. 我制作了两个新数组，其中包含十个引用或指针的总和，但没有额外的`SomeClass`引用。

唯一一次创建引用类型的新实例是在使用`new`关键字时（有一些无关紧要的例外。）这有帮助吗？

* * *

因此，如果我想将数组的所有成员替换为其他成员，我可以编写这样的函数，

```
public static class ArrayExtension
{
    void Substitute<T>(this T[] array, IDictionary<T, T> subsitute)
    {
         for (var i = 0; i < array.Length; i++)
         {
              if (substitute.ContainsKey(array[i])
              {
                  array[i] = substitute[array[i]];   
              }
         }
    } 
} 
```

我可以这样称呼，

```
var substitutes = new Dictionary
    {
        { Key = a, Value = aa },
        { Key = b, Value = bb },
        { Key = c, Value = cc },
        { Key = d, Value = dd }
    }

bigArray.Substitute(substitutes); 
```

# c# - 如何使另存为对话框“提前”出现？或者：如何使 Flush() 行为正确？

> ID：12725699
> 
> 赞同：5
> 
> 时间：2012-10-04T10:53:37.423
> 
> 标签：c#, asp.net, internet-explorer, iis-7

我正在生成一个按钮事件的文件。我必须遵循代码：

```
Response.ClearHeaders();
Response.ClearContent();
Response.Buffer = false;
Response.ContentType = "application/octet-stream";
Response.AppendHeader("Content-Disposition", "attachment; filename=Duck.xml");
Response.Write("First part");
Response.Flush();

//simulate long operation   
System.Threading.Thread.Sleep(10000);

//Done
Response.Write("Done");
Response.Flush();
Response.End(); 
```

我希望在第一次刷新后出现“另存为”对话框，因为该操作可能需要一段时间。我该怎么办？

[经过一番玩耍后，我发现它会缓冲 256 个字符（可以通过向客户端发送新字符串（'x'，256）来重现）。]

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T11:16:57.703

我猜您正在使用 Internet Explorer，因为它明确说明它将在 MIME 类型检测期间使用 256 字节缓冲区：

根据文档： http: [//msdn.microsoft.com/en-us/library/ms775147 (v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/ms775147(v=vs.85).aspx)

> 如果 MIME 类型是“text/plain”、“application/octet-stream”、空字符串或 null，则它是不明确的
> 
> ...
> 
> FindMimeFromData 在调用时通常会接收三个参数——缓存文件名（假定从关联的 URL 派生）、指向包含最多前 256 个字节内容的缓冲区的指针，以及通常对应于的“建议的”MIME 类型服务器提供的 MIME 类型（通过 content-type 标头）。

如果没有发送前 256 个字节来填充缓冲区，它甚至无法开始确定 MIME 类型。确定 MIME 类型后，它与 Windows 注册表 CLSID 相关联，并决定应为流显示哪种 UI，从而创建“另存为”对话框。

正如评论中所说，最广泛使用的解决方案似乎是用任何字符的 256 个出现来填充响应，如： [http ://encosia.com/easy-incremental-status-updates-for-long-requests/](http://encosia.com/easy-incremental-status-updates-for-long-requests/)

```
// Padding to circumvent IE's buffer*
Response.Write(new string('*', 256));  
Response.Flush(); 
```

我还记得在 IE 友好的错误页面上阅读过类似的内容，这些错误页面可能会受到相同行为的影响，请参阅[http://blogs.msdn.com/b/ieinternals/archive/2010/08/19/http-error-pages -in-internet-explorer.aspx](http://blogs.msdn.com/b/ieinternals/archive/2010/08/19/http-error-pages-in-internet-explorer.aspx)。

编辑 ：

根据@Ben 的评论，在您的情况下，使用 IE 明确的内容类型，将您设置为“text/xml”或“application/xml”应该可以解决您的问题。

请参阅[我应该为我的 XML 站点地图发送什么 Content-Type 值？](https://stackoverflow.com/questions/3272534/what-content-type-value-should-i-send-for-my-xml-sitemap)对于差异。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2012-10-04T10:58:08.210

恐怕没有办法做到这一点。`End()`只有在调用方法时才会发回响应。

# extjs - 在 ExtJS 4 中从商店填充表单

> ID：12725707
> 
> 赞同：1
> 
> 时间：2012-10-04T10:53:57.153
> 
> 标签：extjs

我已使用以下代码将数据从我的商店加载到 ExtJs 中的表单，但我无法将数据检索到我的文本字段。

```
Ext.onReady(function() {
var formPanel = Ext.create('Ext.form.Panel', {
       title: 'Form Panel',
       width: 350,
       height: 200,
       style: 'margin: 50px',
       renderTo: 'musicianProfile', // the name of the div in my JSP
       reader: new Ext.data.JsonReader({
           type: 'json',
           root: 'data',             
           fields: [
                    {name: 'firstName', type: 'string'},
                    {name: 'lastName', type: 'string'}
                ]
       }),     
       items: [{
        xtype: 'container',
            layout: 'hbox',
            items: [{
                 fieldLabel: 'First Name',
                 xtype: 'textfield',
                 name: 'firstName',
                 readOnly: true,
                 flex: 1,
            }, {
                 fieldLabel: 'Last Name',
                 xtype: 'textfield',
                 name: 'lastName',
                 readOnly: true,
                 flex: 1,
             }]
     }]
    });
    formPanel.getForm().load({
        method:'GET',
        url:'ajax/viewMusicianMembers.htm' //URL that produces a JSON result
    });
}); 
```

我从浏览器收到的值是：

```
{
     "success":true,"total":1,"message":null,
     "data":[{"firstName":"System","lastName":"Administrator"}],
     "errors":null
} 
```

谁能帮我找出错误在哪里，以及如何纠正它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T11:43:01.830

试试这个，

```
formPanel.getForm().load({
    method:'GET',
    url:'ajax/viewMusicianMembers.htm', //URL that produces a JSON result
    success: function(response, options) {
      formPanel.getForm().setValues(Ext.JSON.decode(response.data));
    },
    failure: function (response, options) {
    }
}); 
```

# javascript - jQuery 选择器在某些 HTML 元素之后检索内容

> ID：12725713
> 
> 赞同：1
> 
> 时间：2012-10-04T10:54:24.750
> 
> 标签：javascript, jquery, html, css, jquery-selectors

我想在下面的代码中检索`font:first`元素内部之后的所有 html 元素。`p`

```
<p class="rrp">
    <font color="#ff6600">
        <strong>
            Save 20% on in-house Frames and Sunglasses
            <br>
            Save 10% on Contact Lens and Branded Frames
            <br>
            Ask at the counter for more details
        </strong>
    </font>
    <br>
    GKB Opticals, Shop No. EB-GF-10, Block East, Ground Floor, Town Centre - Amanora Mall, Amanora Park Township, Village Sadesatranali (17-1/2 Nali), Hadapsar, Taluka Haveli,
    <br>Pune - 411 028.
    <br>
    <font color="#339900">Validity:</font>
     31st March 2013
</p>​ 
```

所以，结果将是

```
<br>
GKB Opticals, Shop No. EB-GF-10, Block East, Ground Floor, Town Centre - Amanora Mall, Amanora Park Township, Village Sadesatranali (17-1/2 Nali), Hadapsar, Taluka Haveli,
<br>Pune - 411 028.
<br>
<font color="#339900">Validity:</font>
 31st March 2013 
```

我应该给你一些我已经完成的代码，但我不知道如何在某个元素之后获取元素。

有人可以指导我吗？谢谢！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T10:56:50.823

您可以使用`nextAll`选择元素的所有以下同级的方法。

```
$('.rrp font:first').nextAll() 
```

如果要排除第一个字体元素，可以使用`filter`方法。

```
var $ff = $('.rrp font:first')
$('.rrp').contents().filter(function(){
    return !$(this).is($ff)
}) 
```

[http://jsfiddle.net/c7VSY/](http://jsfiddle.net/c7VSY/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T10:59:27.483

由于 jQuery 支持几乎所有 css 选择器，因此您可能只使用后兄弟选择器`~`, 后跟所有选择器`*`.

```
$('.rrp font:first ~ *') 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T11:12:16.867

您可以使用`$('.rrp font:first').nextAll()` ，但它只会返回所有内容`<br>`，`<font color="#339900">Validity:</font>`因为其他内容不会被选中，因为它们是您的一部分，`<p>` 您应该将所有文本移动到元素内

修改后的html：

```
 <p class="rrp">
        <font color="#ff6600">
            <strong>
                Save 20% on in-house Frames and Sunglasses
                <br>
                Save 10% on Contact Lens and Branded Frames
                <br>
                Ask at the counter for more details
            </strong>
        </font>
        <br>
        <div>GKB Opticals, Shop No. EB-GF-10, Block East, Ground Floor, Town Centre - Amanora Mall, Amanora Park Township, Village Sadesatranali (17-1/2 Nali), Hadapsar, Taluka Haveli,
        <br>Pune - 411 028.
        <br>
 </div>
        <font color="#339900">Validity:</font>
         <div>31st March 2013</div>
    </p>​ 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T11:14:31.923

如果您想做的是在`.rrp`没有第一个字体元素和之前的所有内容的情况下获取内容的副本，您可以这样做：

```
var $rrp = $('.rrp').clone();
$rrp.find(':lt('+($rrp.find('font:first').index()+1)+')').remove();
var $rrpContent = $rrp.html(); 
```

`$rrp`在这种情况下，还包含文本节点。

但是您需要的代码实际上取决于您的用例。是用来打扫的吗？

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-04T11:32:07.240

你可以只使用：`$('.rrp font:first').nextAll()`。但正如@Shsul 所说，只有用标签包围的元素才会被选中，而不仅仅是文本。

# django - Django 的选择。如何设置默认选项？

> ID：12725720
> 
> 赞同：41
> 
> 时间：2012-10-04T10:54:47.003
> 
> 标签：django

如何设置默认`STATUSES`选项？

```
class Order(models.Model):
    STATUSES = (
        (u'E', u'Expected'),
        (u'S', u'Sent'),
        (u'F', u'Finished'),
    )

    status = models.CharField(max_length=2, null=True, choices=STATUSES) 
```

* * *

## 回答 #1

> 赞同：70
> 
> 时间：2012-10-04T10:55:53.303

```
status = models.CharField(max_length=2, null=True, choices=STATUSES, default='E') 
```

或避免在 STATUSES 更改时设置无效默认值：

```
status = models.CharField(max_length=2, null=True, choices=STATUSES, default=STATUSES[0][0]) 
```

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2020-03-29T17:22:46.540

这是一个老问题，只是想添加现在可用的 Djanto 3.x+ 语法：

```
class StatusChoice(models.TextChoices):
    EXPECTED = u'E', 'Expected'
    SENT = u'S', 'Sent'
    FINISHED = u'F', 'Finished' 
```

然后，您可以使用此语法设置默认值：

```
status = models.CharField(
    max_length=2,
    null=True,
    choices=StatusChoice.choices,
    default=StatusChoice.EXPECTED
) 
```

# svn - 有没有办法查看自己的svn权限

> ID：12725721
> 
> 赞同：21
> 
> 时间：2012-10-04T10:54:48.170
> 
> 标签：svn

我需要查看分配给我的 svn 权限。有没有办法在不访问 svn 配置文件的情况下做到这一点？

* * *

## 回答 #1

> 赞同：19
> 
> 时间：2012-10-04T13:28:24.150

答案是：***视情况而定，但通常不会。***

Subversion 没有权限、用户或登录的概念。对于绝大多数使用 Subversion 的人来说，这可能听起来很奇怪，因为他们需要使用帐户和登录名，但 Subversion 并不直接处理安全问题。

相反，Subversion 将安全控制传递给充当 Subversion 服务器的服务器。例如，如果您使用 Apache httpd，您可以使用基本 HTTP 身份验证、LDAP 或 Apache httpd 可以提供的各种身份验证机制。如果 Apache httpd 说你很酷，Subversion 会说你很酷。

即使是基本`svnserve`进程也可以使用任何处理[SASL](http://en.wikipedia.org/wiki/Simple_Authentication_and_Security_Layer)身份验证的东西。

然后，您有预提交钩子，可以在服务器的安全机制之外从用户那里夺走写权限。

现在，安全机制可以告诉您您的权限，但我很少看到它。例如，一个简单的 JavaScript 可以显示来自基本 httpd 身份验证的用户权限。

我编写了一个预提交挂钩，将其安全控制文件保存在存储库中，每个人都可以查看它。这允许项目经理更改项目的权限，而无需进入 Subversion 服务器（或者更重要的是，纠缠我这样做）。但是，即使这样也不能告诉您服务器身份验证机制的权限。

所以，答案很可能是否定的。可能无法在您的站点上告诉您对 Subversion 拥有哪些权限，因为即使 Subversion 本身也不知道。

# visual-studio-2010 - 项目找不到正确版本的 dll，但 dll 未包含在解决方案中

> ID：12725725
> 
> 赞同：0
> 
> 时间：2012-10-04T10:54:55.440
> 
> 标签：visual-studio-2010, dll

我有一个项目，当我尝试运行它时，它返回一个错误，说它找不到某个版本的 dll。我之前已经设法通过用它之后的版本替换文件来解决这样的问题，但是这个问题是不同的，因为它抱怨的 dll 实际上并没有包含在解决方案中，也没有被任何人引用我的代码。

我包含的参考资料之一是否有可能正在寻找这个 dll？如果是这样，我怎样才能找到它是哪一个，我将如何更改它正在寻找的版本？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-05T13:51:13.357

我发现了 Telerik 的一个名为 JustDecompile 的工具，它可以让你打开 dll 并查看其中的内容。这包括它们引用的类和其他 dll。从那我发现有问题的dll被这个引用了。所以我能够更新版本，一切都很好

# android - 在 android 中使用 Web 服务

> ID：12725727
> 
> 赞同：-2
> 
> 时间：2012-10-04T10:55:07.930
> 
> 标签：android, web-services

我想了解与Android应用程序集成的Restful和SOAP等两个Web服务的所有知识。请帮助我！我应该从哪里开始？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:57:57.647

对于**REST API** ，您应该查看Google Rest 的视频，对于**KSOAP** ，您应该在 Google 中查看，那里有很多示例

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T10:57:50.997

Android 并不真正支持 SOAP，但可以使用 KSOAP 完成。有关 REST 的良好入门知识，请查看 Google 关于[GOOGLE IO RESTful Android主题的 IO 演讲](http://www.google.com/events/io/2010/sessions/developing-RESTful-android-apps.html)

# iphone - 带有 iOS 6 模拟器的 iPhone 的模拟器屏幕尺寸

> ID：12725736
> 
> 赞同：1
> 
> 时间：2012-10-04T10:55:32.453
> 
> 标签：iphone, ios, ios6

IOS 6 IPHONE SIMULATOR 的实际尺寸是多少，当我拍摄屏幕的屏幕截图时，它以 320x480 像素的形式出现。但我想它应该是 320x568 像素。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-04T11:34:09.277

iOS 6 模拟器以 640×1136 显示运行。新款 iPhone 5 以及第 5 代 iPod Touch 在 Web 开发方面只有一个重大变化：屏幕分辨率。这些设备具有 4 英寸宽屏，WDVGA（宽双 VGA）640×1136 像素，326 DPI -Apple 称之为 Retina 显示屏。这些设备的宽度与 iPhone 4/4S 相同，但纵向模式下的像素高度增加了 176 像素。

拥有 640×1136 显示屏让新 iPhone 无法声称新 iPhone 拥有高清显示屏，尽管 Retina 显示屏的质量可能会留下一个问题，即手机是否超越高清。在规格表上，新款 iPhone 的显示屏分辨率将低于竞争对手的设备，如果苹果的竞争对手压制他们的优势，这可能会损害 iPhone 的销量。

但为此，您需要在硬件 > 设备菜单中选择正确的设备。

![在此处输入图像描述](../Images/704b83e67af95f8c37a42da3d57e3b67.png)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T11:03:18.320

不，不应该。320x480 是没有 Retina 显示屏的默认 iPhone 分辨率。您可以在模拟器的菜单（硬件）中更改它。iPhone 4S Retina 显示屏分辨率为 640x960，而 iPhone 5（仅配备 Retina 显示屏，因此您不能拥有 320x568）将拥有 640x1136

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-02-06T16:29:56.803

我只是想为在 Snow Leopard 上运行 XCode 4.2 的人添加一个更新。如果您想以 iPhone 5 的分辨率运行模拟器（并且无法安装较新版本的 XCode），您可以编辑 iPhone 4 (Retina) 的 Info.plist 文件以获得所需的分辨率。

为此，请执行以下步骤

1.  编辑你的`Info.plist`文件 `/Developer/Platforms/iPhoneSimulator.platform/Developer/Applications/iPhone Simulator.app/Contents/Resources/Devices/iPhone (Retina).deviceinfo/`

2.  在 XCode 中打开 .plist 文件并添加以下键/值对，

    *   老鹰：640
    *   长颈鹿：1136
3.  保存文件并重新启动模拟器。

4.  选择 iPhone (Retina) 以查看新分辨率。

**注意**：有一个警告——周围的 iPhone 设备“硬件”图形不会缩放到新的分辨率。

# c++ - 尝试使用命名空间中的函数时出现错误 LNK2019

> ID：12725741
> 
> 赞同：1
> 
> 时间：2012-10-04T10:55:41.323
> 
> 标签：c++, visual-c++, namespaces, compiler-errors

我正在为我的项目编写一些实用程序函数。当我尝试使用嵌套命名空间中的一些函数时，出现了一个奇怪的 LNK2019 错误。我试图在 google 和 stackoverflow 中进行搜索，但没有得到任何帮助。

## 我的文件

头文件`X.h`：

```
#pragma once

namespace A {
    namespace B {
        /**
         * A função recebe edValue e devolve em ponto flutuante
         * o inteiro mais próximo de edValue.
         * 
         * Método usado: http://en.wikipedia.org/wiki/Directed_rounding#Round_half_up
         *
         * @param edValue valor que será arredondado.
         * @return o inteiro mais próximo à edValue (em ponto flutuante).
         */
        double round(double edValue);
    }
} 
```

文件`X.cpp`

```
#include "StdAfx.h"
#include "X.h"
#include <cmath>

double A::B::round(double edValue)
{
    return floor(edValue + 0.5);
} 
```

## 错误信息

`7>D.obj : error LNK2019: unresolved external symbol "double __cdecl A::B::round(double)" (?round@A@B@@YANN@Z) referenced in function "public: void __thiscall`

# 编辑（我的问题的解决方案）

我的文件`X.{h,cpp}`在项目 A 中，我在项目 B 中使用这些函数。如果我`__declspec(dllexport)`在函数的原型中使用这些函数，我可以在项目 B 中使用这些函数，因为它使用像 DLL 一样的 A。我在[如何在 Visual Studio 2010 中使用来自不同 C++ 项目的函数？](https://stackoverflow.com/questions/10438770/how-to-use-functions-from-different-c-projects-in-visual-studio-2010)（@Luchian Grigore 回复）和[Visual Studio：关于两个项目之间的链接功能](https://stackoverflow.com/questions/7094312/visual-studio-question-about-linking-functions-between-two-projects)的问题（@dascandy 回复）。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T11:31:29.860

如果函数的代码位于不同的项目中，则必须将其编译为静态或动态库，然后将库添加到链接器 > 输入 > 附加依赖项下的项目选项中的调用项目（对于 MS Visual Studio）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T12:27:07.190

你需要做两件事：

*   在 Linker > General > Additional Dependencies 下指定您正在使用的库的路径 + - - 在 Linker > Input > Additional Dependencies 下指定您正在使用的库

# dom - v8 访问 DOM

> ID：12725750
> 
> 赞同：0
> 
> 时间：2012-10-04T10:56:09.887
> 
> 标签：dom, v8

我想更改 v8 引擎，以便能够拦截对 DOM 元素的每次访问。如您所知，v8 不会创建 DOM 树。浏览器创建 DOM 树。

*   我的问题 1：在 v8 源代码中如何/在哪里将 DOM 内存结构传递到 v8。
*   我怎样才能以最小的努力进行拦截？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2016-01-11T12:18:52.023

用 V8 注册 DOM 元素的代码不在 V8 源代码中，它在 Chromium 源代码的另一部分：third_party/WebKit/Source/

里面有一些你可能感兴趣的部分：

*   core/dom：这个目录包含基础 DOM 类的实现，以及它们的 IDL 定义，用于生成 V8 的接口
*   core/html：相同，但针对特定于 HTML 的类
*   绑定/脚本：我相信这是脚本所在的地方，它将 IDL 转换为与 V8 接口的 C 源代码（我没有详细研究这部分）
*   bindings/core/v8：这是实际调用 V8 以执行脚本等的代码所在的位置

编辑（2020-05-27）：这些东西在最近版本的 Chromium 中已经发生了变化。从铬 83 开始（我认为至少回到铬 75 左右），它现在处于：

*   第三方/闪烁/渲染器/核心/dom/
*   第三方/闪烁/渲染器/核心/html/
*   第三方/闪烁/渲染器/绑定/脚本/
*   第三方/闪烁/渲染器/绑定/核心/v8/

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-06T08:20:51.527

我无法准确告诉您 DOM 在 V8 中的注册位置，但我有一些提示可以告诉您从哪里开始搜索。首先，当浏览器创建 DOM 时，您还应该查看浏览器，而不是 v8。如果您找到了在 V8 中注册 DOM 的位置，您还将看到 V8 中为此调用了哪些代码。

在 chromium 中，[Frame](http://code.google.com/searchframe#OAMlx_jo-ck/src/third_party/WebKit/Source/WebCore/page/Frame.cpp&q=frame%3a%3acreate&exact_package=chromium&l=205)是包含网页的类。在整个创建过程中，它会实例化一个[ScriptController](http://code.google.com/searchframe#OAMlx_jo-ck/src/third_party/WebKit/Source/WebCore/bindings/v8/ScriptController.cpp&l=102)对象，该对象本身会创建一个[V8DOMWindowShell](http://code.google.com/searchframe#OAMlx_jo-ck/src/third_party/WebKit/Source/WebCore/bindings/v8/V8DOMWindowShell.cpp&l=193)。传入的[DOMWrapperWorld](http://code.google.com/searchframe#OAMlx_jo-ck/src/third_party/WebKit/Source/WebCore/bindings/v8/DOMWrapperWorld.h)及其[DOMDataStore](http://code.google.com/searchframe#OAMlx_jo-ck/src/third_party/WebKit/Source/WebCore/bindings/v8/DOMDataStore.h)维护着从 DOM 到 JS 对象的映射。

这并不能准确地告诉您 DOM 在 V8 中注册的位置，但您应该在附近的某个地方找到它。使用 Eclipse 并让它在 chromium 项目中搜索看似有趣的方法的引用或列出调用层次结构是此类研究的好工具。

**PS**：因为我自己也需要类似的东西，所以我遇到`/src/out/Debug/gen/webcore/bindings`了一个目录，该目录在 Chromium 编译期间创建并填充了 DOM 对象的所有模板。您可以根据需要编辑它们并使用您的更改重新编译。

如果您找到生成它们的脚本，您可能会同时为它们附加拦截器。

# oracle - 插入 seq.nextval 和其他不同的值

> ID：12725751
> 
> 赞同：1
> 
> 时间：2012-10-04T10:56:10.567
> 
> 标签：oracle, plsql

我想对现有的存储过程进行一些更改；在表中插入值，第一个值将来自序列，其他值必须是不同的。

```
create SP_Emp()
.......
insert into table_emp(primary_key,name,dept,sal,id)
select distict
seq_emp.nextval,
first_value(name) over partition by(id),
id as id,
.....
.....
END; 
```

它给出的错误是此处不允许的序列号。

我想插入值，保持`seq.nextval`行中的和所有其他值不同

以前的程序是：

```
create SP_Emp()
.......
insert into table_emp(name,dept,sal,id)

select distict

first_value(name) over partition by(id),
id as id,
.....
.....

END; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T23:14:37.397

将括号中的 SQL 语句包装为内联视图，然后添加序列：

```
create SP_Emp()
.......
insert into table_emp(primary_key,name,dept,sal,id)
select seq_emp.nextval, s.*
from (
    select distinct
    first_value(name) over partition by(id),
    id as id,       
.....
        ) s
.....
END; 
```

# java - Java Thread给出奇怪的错误？

> ID：12725753
> 
> 赞同：0
> 
> 时间：2012-10-04T10:56:15.410
> 
> 标签：java, android, multithreading

很抱歉描述模糊，我不知道如何解释。

我正在我的 Android/Java 应用程序中创建一个线程，代码很简单，但它不断发出一个奇怪的错误？

```
final Thread buttonPress = new Thread(){ //X
    try {
        findViewById(R.id.button1).setBackgroundResource(R.drawable.button1_down);
        wait(500);
    } catch (InterruptedException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
    } finally {
        findViewById(R.id.button1).setBackgroundResource(R.drawable.button1);
    }
}; //XX 
```

除了我标记/ X的地方，我还收到错误消息

“此行有多个标记 - 语法错误，插入“}”以完成 ClassBody - 语法错误，插入“;”以完成 LocalVariableDeclarationStatement”

在线程结束时，除了“//XX”之外，我收到错误消息，

“令牌“}”上的语法错误，删除此令牌”

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-10-04T10:58:11.000

你想要类似的东西

```
new Thread() {
    public void run() {
        // your try-catch-finally block goes here
    }
} 
```

即您在匿名 Thread 类中缺少方法声明。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T11:02:59.210

正确的做法是

```
 new Thread(new Runnable() {

@Override
public void run() {
    // TODO Auto-generated method stub

}}).start(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T11:03:03.563

你错过了你的`run()`方法。因此，您将代码更改为，

```
final Thread buttonPress = new Thread() { // X
            public void run() {
                try {
                    findViewById(R.id.button1).setBackgroundResource(R.drawable.button1_down);
                    wait(500);
                } catch (InterruptedException e) {
                    // TODO Auto-generated catch block
                    e.printStackTrace();
                } finally {
                    findViewById(R.id.button1).setBackgroundResource(R.drawable.button1);
                }
            }
        }; // XX 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T10:58:32.083

您正在继承`Thread`（通过`Thread(){}`），但您似乎需要在其中定义一个方法来覆盖。您的 try/catch 存在于任何方法之外，我怀疑您需要覆盖该`run()`方法。有关更多信息，请参阅[文档](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Thread.html#run%28%29)。

# javascript - 比较jquery中相同变量的新旧值

> ID：12725755
> 
> 赞同：1
> 
> 时间：2012-10-04T10:56:20.287
> 
> 标签：javascript, jquery, compare, var

我使用 Ajax 编写了一个网站，我想比较点击的链接以避免页面重新加载。我的方法是调用一个 var`Link`并将 url 存储到其中。每次点击`#button`， url 都会存储到 Link 中，然后我调用`CompareLink()`函数，然后调用`GoToLink()`函数。

```
var Link;

$('#button').click(function() {
    Link = http://myurl ;
    CompareLink();
    GoToLink();
} 
```

我在数据比较方面遇到了麻烦。我想比较旧值`Link`和新值，所以我写了一个非常模糊的方法（非工作），我想知道是否有人可以帮助我。

```
function CompareLink() {
    if ( Link == .data(Link)) {
        //execute code
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T11:01:48.457

这个怎么样？

```
<a href='something here' class='button' >something</a>
<a href='something else here' class='button' >something else</a>​

var link = null, oldLink = null;
$('.button').click(function() {
    link = $(this).attr('href');
    if (oldLink == null) {
         oldLink = link;
    }
    CompareLink(link, oldLink);
    return false;
} 
```

进而

```
function CompareLink(link, oldLink) {
    if ( link == oldLink) {
        // do something now
    }

    oldLink = link;
}

function GoToLink(link) {
    window.location.href = link;
} 
```

查看我制作的这个小提琴：http: [//jsfiddle.net/V9DyW/](http://jsfiddle.net/V9DyW/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-06-14T14:09:19.103

```
var data = {}
var count = 0;
data['name' + count++] = "value1" -> name1
data['name' + count++] = "value2" -> name2 
```

***获取旧值***

```
data['name' + (count - 1)] ->  'value1' 
```

# module - 无法下载 playframework 2 的依赖项 elasticsearch

> ID：12725759
> 
> 赞同：2
> 
> 时间：2012-10-04T10:56:27.307
> 
> 标签：module, playframework-2.0, elasticsearch

我正在尝试在我的 play 2 应用程序中实现弹性搜索：[https](https://github.com/cleverage/play2-elasticsearch) ://github.com/cleverage/play2-elasticsearch但在下载依赖项时遇到问题：

```
[warn] problem while downloading module descriptor: http://cleverage.github.com/play2-elasticsearch/releases/com.github.cleverage/elasticsearch_2.9.1/0.4/ivys/ivy.xml: Premature EOF (288ms) 
```

**play.plugins:**

```
9000:com.github.cleverage.elasticsearch.plugin.IndexPlugin 
```

**应用程序.conf：**

```
elasticsearch.local=false
elasticsearch.client="192.168.0.101:9300"
elasticsearch.index.name="play2-elasticsearch"
elasticsearch.index.clazzs="models.*"
elasticsearch.index.show_request=true 
```

**构建.scala：**

```
import sbt._
import Keys._
import PlayProject._

object ApplicationBuild extends Build {

    val appName         = "test"
    val appVersion      = "1.0-SNAPSHOT"

    val appDependencies = Seq(
      // Add your project dependencies here,
      "mysql" % "mysql-connector-java" % "5.1.18",
      "com.github.cleverage" % "elasticsearch_2.9.1" % "0.4"
    )

    val main = PlayProject(appName, appVersion, appDependencies, mainLang = JAVA).settings(
      // Add your own project settings here
      resolvers += Resolver.url("GitHub Play2-elasticsearch Repository", url("http://cleverage.github.com/play2-elasticsearch/releases/"))(Resolver.ivyStylePatterns)      
    )

} 
```

**插件.sbt:**

```
// Comment to get more information during initialization
logLevel := Level.Warn

// The Typesafe repository
resolvers += "Typesafe repository" at "http://repo.typesafe.com/typesafe/releases/"

// Use the Play sbt plugin for Play projects
addSbtPlugin("play" % "sbt-plugin" % "2.0.3") 
```

**堆栈跟踪：**

```
play debug ~run
Listening for transport dt_socket at address: 9999
[info] Loading project definition from /Users/kalle/Projects/Heroku/test/project
[info] Set current project to test (in build file:/Users/kalle/Projects/Heroku/test/)

[info] Updating {file:/Users/kalle/Projects/Heroku/test/}test...
[info] Resolving org.hibernate.javax.persistence#hibernate-jpa-2.0-api;1.0.1.Fin                                                                                [warn] problem while downloading module descriptor: http://cleverage.github.com/play2-elasticsearch/releases/com.github.cleverage/elasticsearch_2.9.1/0.4/ivys/ivy.xml: Premature EOF (288ms)
[warn]  module not found: com.github.cleverage#elasticsearch_2.9.1;0.4
[warn] ==== local: tried
[warn]   /usr/local/play-2.0.3/framework/../repository/local/com.github.cleverage/elasticsearch_2.9.1/0.4/ivys/ivy.xml
[warn] ==== Typesafe Releases Repository: tried
[warn]   http://repo.typesafe.com/typesafe/releases/com/github/cleverage/elasticsearch_2.9.1/0.4/elasticsearch_2.9.1-0.4.pom
[warn] ==== Typesafe Snapshots Repository: tried
[warn]   http://repo.typesafe.com/typesafe/snapshots/com/github/cleverage/elasticsearch_2.9.1/0.4/elasticsearch_2.9.1-0.4.pom
[warn] ==== GitHub Play2-elasticsearch Repository: tried
[warn]   http://cleverage.github.com/play2-elasticsearch/releases/com.github.cleverage/elasticsearch_2.9.1/0.4/ivys/ivy.xml
[warn] ==== public: tried
[warn]   http://repo1.maven.org/maven2/com/github/cleverage/elasticsearch_2.9.1/0.4/elasticsearch_2.9.1-0.4.pom
[warn]  ::::::::::::::::::::::::::::::::::::::::::::::                       
[warn]  ::          UNRESOLVED DEPENDENCIES         ::
[warn]  ::::::::::::::::::::::::::::::::::::::::::::::
[warn]  :: com.github.cleverage#elasticsearch_2.9.1;0.4: not found
[warn]  ::::::::::::::::::::::::::::::::::::::::::::::
[error] {file:/Users/kalle/Projects/Heroku/test/}test/*:update: sbt.ResolveException: unresolved dependency: com.github.cleverage#elasticsearch_2.9.1;0.4: not found
[warn] some of the dependencies were not recompiled properly, so classloader is not avaialable
[info] Updating {file:/Users/kalle/Projects/Heroku/test/}test...
[info] Resolving org.hibernate.javax.persistence#hibernate-jpa-2.0-api;1.0.1.Fin                                                                                [warn] problem while downloading module descriptor: http://cleverage.github.com/play2-elasticsearch/releases/com.github.cleverage/elasticsearch_2.9.1/0.4/ivys/ivy.xml: Premature EOF (264ms)
[warn]  module not found: com.github.cleverage#elasticsearch_2.9.1;0.4
[warn] ==== local: tried
[warn]   /usr/local/play-2.0.3/framework/../repository/local/com.github.cleverage/elasticsearch_2.9.1/0.4/ivys/ivy.xml
[warn] ==== Typesafe Releases Repository: tried
[warn]   http://repo.typesafe.com/typesafe/releases/com/github/cleverage/elasticsearch_2.9.1/0.4/elasticsearch_2.9.1-0.4.pom
[warn] ==== Typesafe Snapshots Repository: tried
[warn]   http://repo.typesafe.com/typesafe/snapshots/com/github/cleverage/elasticsearch_2.9.1/0.4/elasticsearch_2.9.1-0.4.pom
[warn] ==== GitHub Play2-elasticsearch Repository: tried
[warn]   http://cleverage.github.com/play2-elasticsearch/releases/com.github.cleverage/elasticsearch_2.9.1/0.4/ivys/ivy.xml
[warn] ==== public: tried
[warn]   http://repo1.maven.org/maven2/com/github/cleverage/elasticsearch_2.9.1/0.4/elasticsearch_2.9.1-0.4.pom
[warn]  ::::::::::::::::::::::::::::::::::::::::::::::                       
[warn]  ::          UNRESOLVED DEPENDENCIES         ::
[warn]  ::::::::::::::::::::::::::::::::::::::::::::::
[warn]  :: com.github.cleverage#elasticsearch_2.9.1;0.4: not found
[warn]  ::::::::::::::::::::::::::::::::::::::::::::::
[error] {file:/Users/kalle/Projects/Heroku/test/}test/*:update: sbt.ResolveException: unresolved dependency: com.github.cleverage#elasticsearch_2.9.1;0.4: not found
1\. Waiting for source changes... (press enter to interrupt) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T13:22:54.920

从 play2-elasticsearch 项目的 nboire 获得了解决方法：

从 github 下载项目。前往项目

```
cd module
play compile
play publish-local 
```

然后您的其他项目将从您的本地而不是[http://cleverage.github.com下载](http://cleverage.github.com)

# python - Python字典到等效的pymongo语句

> ID：12725768
> 
> 赞同：4
> 
> 时间：2012-10-04T10:56:52.890
> 
> 标签：python, parsing, pymongo

我有一个像这样的python字典

```
{'OR': [{'AND': [{'column': 'XXX', 'operator': '=', 'value': u'M'}, {'column': 'XXX', 'operator': '=', 'value': 'N'}]}, {'column': 'YYY', 'operator': '>=', 'value': '3.0'}]} 
```

现在，我想将其转换为类似

```
{'$or': [{'$and': [{'XXX': 'M'}, {'YYY': 'N'}]}, {'YYY': {u'$gte': 3.0}}]} 
```

这显然是我相信的等效 pymongo 声明。

到目前为止我写的代码是这样的：

```
FILTMAP = {'>=': '$gte', '<=': '$lte', '>': '$gt', '<': '$lt', "!=":"$ne"}
CONJUNCTION_MAP = {"AND":"$and", "OR":"$or"}

def gen_mongo_filters_json(filter, supplied_key="")
    first_key = filters.keys()[0]
    if first_key == 'OR' or first_key == 'AND':

        if supplied_key == "":      

            return_dict[CONJUNCTION_MAP[first_key]] = []
        else:            
            temp_dict[CONJUNCTION_MAP[first_key]] = []
            #return_dict[supplied_key] = temp_dict
        for i in range (len(filters[first_key])):
            if supplied_key == "":               
                return_dict[CONJUNCTION_MAP[first_key]].append(gen_mongo_filters_json(filters[first_key][i], first_key))
            else:
                temp_dict[CONJUNCTION_MAP[first_key]].append(gen_mongo_filters_json(filters[first_key][i], first_key))
                return_dict[CONJUNCTION_MAP[supplied_key]].append(temp_dict)
    else:
        operator = filters['operator']
        if operator == "=":
            ret_dict = {filters['column']:filters['value']
            return ret_dict
        else:
            operator = FILTMAP[operator]
            ret_dict = {filters['column']:{operator:filters['value']}}
            return ret_dict
    return return_dict 
```

它生成的输出是：

```
 {u'$or': [{u'$and': [{u'Engine': u'MSN'}, {u'Engine': u'Google'}]}, {u'$and': [{u'Engine': u'MSN'}, {u'Engine': u'Google'}]}, {...}, {u'Imps': {u'$gte': 3.0}}]} 
```

这接近解决方案，但不是确切的解决方案。它适用于像

```
{'AND': [{'column': 'XXX', 'operator': '=', 'value': 'M'}, {'column': 'XXX', 'operator': '=', 'value': 'N'}]}

OR

{'column': 'YYY', 'operator': '>', 'value': '1000'} 
```

你能给我指个方向吗？

（这个想法是创建一个通用的。所以，我想在 pymongo 语句中生成等效于任何有效的 python 字典。最小值是最后一个）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T12:02:59.760

您的示例代码没有运行，但鉴于 dict

```
{'OR': [{'AND': [{'column': 'XXX', 'operator': '=', 'value': 'M'}, {'column': 'YYY', 'operator': '=', 'value': 'N'}]}, {'column': 'YYY', 'operator': '>=', 'value': '3.0'}]} 
```

应该转换为

```
{'$or': [{'$and': [{'XXX': 'M'}, {'YYY': 'N'}]}, {'YYY': {'$gte': 3.0}}]} 
```

使用这样的东西：

```
FILTMAP = {'>=': '$gte', '<=': '$lte', '>': '$gt', '<': '$lt', "!=":"$ne"}
CONJUNCTION_MAP = {"AND":"$and", "OR":"$or"}

def convert_column(dic):
    if not dic['operator'] in FILTMAP:
        return {dic['column']: dic['value']}
    else:
        value = float(dic['value']) if dic['operator'] == "!=" else dic['value']
        return {dic['column']: {FILTMAP[dic['operator']]: value}}

def convert(dic):
    for k,v in dic.items():
        if isinstance(v, list):
            if k in CONJUNCTION_MAP:
                k = CONJUNCTION_MAP[k]
            return {k: [convert(i) for i in v]}
        else:
            return convert_column(dic) 
```

我不知道转换`'3.0'`为`3.0`. 线

```
value = float(dic['value']) if dic['operator'] == "!=" else dic['value'] 
```

很hackish，您想用一些适当的逻辑替换它来处理这些情况。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T12:37:39.887

感谢你的回答。我也想通了一些事情。这是完整的代码

```
FILTMAP = {'>=': '$gte', '<=': '$lte', '>': '$gt', '<': '$lt', "!=":"$ne"}
CONJUNCTION_MAP = {"AND":"$and", "OR":"$or"}

def gen_mongo_filters_json(filters, supplied_key=""):
    return_dict = {}
    temp_dict = {}
    first_key = filters.keys()[0]
    if first_key == 'OR' or first_key == 'AND':

        if supplied_key == "":

            return_dict[CONJUNCTION_MAP[first_key]] = []
        else:            
            temp_dict[CONJUNCTION_MAP[first_key]] = []
            #return_dict[supplied_key] = temp_dict"""
        for i in range (len(filters[first_key])):
            if supplied_key == "":
                return_dict[CONJUNCTION_MAP[first_key]].append(gen_mongo_filters_json(filters[first_key][i], first_key))
            else:
                for i in range (len(filters[first_key])):
                    temp_dict[CONJUNCTION_MAP[first_key]].append(gen_mongo_filters_json(filters[first_key][i], first_key))
                return temp_dict
    else:
        operator = filters['operator']
        if operator == "=":
            ret_dict = {filters['column']:filters['value']}
            return ret_dict
        else:
            operator = FILTMAP[operator]
            ret_dict = {filters['column']:{operator:filters['value']}}
            return ret_dict
    return return_dict

if __name__ == "__main__":

    print gen_mongo_filters_json({'OR': [{'AND': [{'column': 'XXX', 'operator': '=', 'value': 'M'}, {'column': 'XXX', 'operator': '=', 'value': 'N'}]}, {'AND': [{'column': 'PPP', 'operator': '=', 'value': 'R'}, {'column': 'DDD', 'operator': '=', 'value': 'T'}]}]})
enter code here 
```

请让我知道您的评论

我试过了

```
{'column': 'YYY', 'operator': '>', 'value': '1000'}

{'AND': [{'column': 'XXX', 'operator': '=', 'value': 'M'}, {'column': 'XXX', 'operator': '=', 'value': 'N'}]}

{'OR': [{'AND': [{'column': 'XXX', 'operator': '=', 'value': u'M'}, {'column': 'XXX', 'operator': '=', 'value': 'N'}]}, {'column': 'YYY', 'operator': '>=', 'value': '3.0'}]}

{'OR': [{'AND': [{'column': 'XXX', 'operator': '=', 'value': u'M'}, {'column': 'XXX', 'operator': '=', 'value': 'N'}]}, {'AND': [{'column': 'PPP', 'operator': '=', 'value': u'R'}, {'column': 'DDD', 'operator': '=', 'value': 'T'}]}]} 
```

这是输出

```
{u'YYY': {u'$gt': u'1000'}}

{u'$and': [{u'XXX': u'M'}, {u'XXX': u'N'}]}

{u'$or': [{u'$and': [{u'XXX': u'M'}, {u'XXX': u'N'}]}, {u'YYY': {u'$gte': u'3.0'}}]}

{u'$or': [{u'$and': [{u'XXX': u'M'}, {u'XXX': u'N'}]}, {u'$and': [{u'PPP': u'R'}, {u'DDD': u'T'}]}]} 
```

感谢你的回答。它也不错。我现在就试试。

还有一件事，我实际上在示例代码中省略了“价值”考虑。我很感谢你指出这一点。我已经有了实现这一目标的方法。不管怎么说，还是要谢谢你。

# ruby-on-rails - 重命名模型并更改对模型的所有引用后，引用仍为以前的名称

> ID：12725776
> 
> 赞同：7
> 
> 时间：2012-10-04T10:57:40.553
> 
> 标签：ruby-on-rails, ruby, activerecord

在网上学习了一个教程后，我有了一个名为 Person 的模型。一段时间后，我们决定将其重命名为 User 更为明智。我浏览了代码库并执行了以下操作：

1.  将 Person 到 User、person to user、People to Users 和 people 到 users 的所有实例重命名，注意不要破坏任何不相关的内容。
2.  适当地重命名所有模型文件。

我有另一个名为 session 的模型：

会话属于用户

和

用户 has_many 会话

在运行迁移之前 git grep -i person / people 并找到 | grep person / people 只是返回迁移，所以我确定我已正确重命名所有内容。

当我去创建一个随后创建会话的新用户时，我收到以下错误：

未知属性：user_id

再次运行 git grep 发现 session 中的外键还是 person_id

```
create_table "sessions", :force => true do |t|                                                                                                                             
    t.integer  "person_id
    t.string   "ip_address"                                                                                
    t.string   "path"
    t.datetime "created_at", :null => false
    t.datetime "updated_at", :null => false
end 
```

我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-10-04T11:20:07.197

只是在迁移中做

```
def change
   rename_column :sessions, :person_id, :user_id
end 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T11:03:10.077

如果您更改关联的名称，而不是基础列的名称，则必须在关联中明确说明：

```
class Session 
  belongs_to :user, :foreign_key => "person_id", :inverse_of => :sessions
end

class User
  has_many :sessions, :foreing_key => "person_id", :inverse_of => :user
end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T11:02:47.660

在会话表中，您必须将 person_id 更改为 user_id，

```
for that you have to add new migration for adding user_id and remove person_id

def change
  add_column :sessions, :user_id, :integer
  remove_column :sessions, :person_id, :integer
end 
```

# command-line - 我们可以使用 MS WebDeploy 创建一个新网站吗

> ID：12725777
> 
> 赞同：7
> 
> 时间：2012-10-04T10:57:47.350
> 
> 标签：command-line, visual-studio-2012, webdeploy

我已经通过 VS2012 和命令行阅读了许多关于 WebDeploy 的文章、文档页面等。

在所有部署方案中，我注意到目标站点应该已经存在于目标计算机 (IIS) 上。

如果目标（托管）计算机上**不存在创建站点**的包，是否可以选择创建该站点？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T07:24:12.937

提供`appHostConfig`者将在远程服务器上创建一个站点。它带有一百万条关于设置远程绑定和物理路径的警告，因此请先在本地环境中进行测试。您还需要成为管理员（显然）。

由于您使用 VS2012 执行发布（而不是直接使用 msdeploy）。您应该能够通过执行以下操作自动创建网站：

*   以管理员身份运行 Visual Studio 2012
*   确保在项目属性中设置了“使用本地 IIS 服务器”
*   确保“Project Url”正确（并且，如果是虚拟目录，则不以 a 结尾`/`）
*   `<IncludeIisSettings>true</IncludeIisSettings>`在`<PropertyGroup>`您的发布配置文件中声明

然后它应该包含`appHostConfig`在部署中。

如果您还想创建应用程序池，则需要`AppPoolExtension`在发布配置文件中启用：

```
<PropertyGroup>
    <PublishEnableLinks>AppPoolExtension</PublishEnableLinks>
</PropertyGroup> 
```

# blackberry - 我想用 Google API 在黑莓中制作饼图？

> ID：12725782
> 
> 赞同：0
> 
> 时间：2012-10-04T10:58:09.847
> 
> 标签：blackberry, pie-chart

> **可能重复：**
> [如何在黑莓应用程序中显示饼图](https://stackoverflow.com/questions/7514119/how-to-display-a-pie-chart-in-blackberry-application)

到目前为止，我已经厌倦了条形图，但我不希望我只想用 Google API 制作一个饼图。任何有关这方面的帮助都是可观的！！

谢谢，艾哈迈德

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-04T11:12:07.290

签出这个 [在黑莓中创建饼图。](http://jcharts.sourceforge.net/userGuide/pieCharts/normal2d/index.html)它会给你一些必要的信息..这里是[PI 图表的有用链接](http://jcharts.sourceforge.net/userGuide/pieCharts/normal2d/index.html)

# mysql - “fromdate 和 todate 之间”和“date >= fromdate 和 date <= todate”之间的区别

> ID：12725783
> 
> 赞同：0
> 
> 时间：2012-10-04T10:58:10.243
> 
> 标签：mysql, sql

我遇到了以下查询，但不确定它们之间是否有任何区别，

```
select * from table where date between fromdate and todate

V/S

select * from table where date >= fromdate and date <= todate 
```

如果我们使用第一个查询，它是否包括从和到日期的日期？即在 16/10/2012 和 22/10/2012 之间，是否包括 16 日和 22 日？

太感谢了。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T10:59:50.983

[是的，它包括他们。](http://dev.mysql.com/doc/refman/5.0/en/comparison-operators.html#operator_between)
这就是我避免的原因`BETWEEN`。这个名字至少是模棱两可的。不同的人理解不同的事情，你的问题也表明了这一点。

例如，在我的理解中， between 是*独占*的，但在 SQL 中是*包含*的。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T11:00:49.283

没有区别。

```
(a BETWEEN b AND c) 
```

和写一样

```
((a >= b) AND (a <= c)) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T10:59:40.657

没有不同

两个查询都会给出相同的结果

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T10:59:47.007

没有区别：

expr 介于最小值和最大值之间

如果 expr 大于或等于 min 并且 expr 小于或等于 max，则 BETWEEN 返回 1，否则返回 0。这相当于表达式 (min <= expr AND expr <= max) 如果所有参数都是同类型。

[http://dev.mysql.com/doc/refman/5.0/en/comparison-operators.html#operator_between](http://dev.mysql.com/doc/refman/5.0/en/comparison-operators.html#operator_between)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-04T11:00:16.443

是的，它们包括在内。第一个只是第二个的捷径，所以它们是等价的。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-10-04T11:03:36.833

您可以在这里查看一些关于 between 的解释： [MySQL "between" 子句不包含？](https://stackoverflow.com/questions/5080824/mysql-between-clause-not-inclusive) 它还显示使用 <= & => 更快

# java - 如何创建字符串变量的克隆？

> ID：12725789
> 
> 赞同：0
> 
> 时间：2012-10-04T10:58:32.767
> 
> 标签：java, string

如何创建一个字符串变量的克隆？

有一个字符串变量说 str

```
String str = row.getAttribute("Attribute"); 
```

那么如何将行中属性的值复制到字符串中，以便即使该行已从内存中删除，我也可以显示该值。

谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-04T10:59:49.133

你可以做

```
String newString = new String(oldString); 
```

但是您克隆不可变字符串的原因是什么？

仅当我想在使用`substring`.

**关于你编辑：**

如果你这样做

```
String str = row.getAttribute("Attribute"); 
```

即使在`str`您销毁`row`或更改`row`. 你不需要克隆它。`str`您保留对它的引用（变量）的事实可以防止垃圾。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T11:05:04.963

在 Java 中，`String`对象是不可变的。这意味着它不会在您的带领下发生变化，因此您可以在整个程序中安全地使用相同的参考。

如果您修改 a `String`（通过附加、修剪等），那么将创建一个新的不可变对象。因此，在这种情况下，克隆的概念是多余的。

# android - 在我的 android 应用程序中使用本机活动而不是 fbdialog/webview 登录 Facebook

> ID：12725791
> 
> 赞同：1
> 
> 时间：2012-10-04T10:58:46.010
> 
> 标签：android, facebook

我下载了 facebook SDK 和 hackbook 应用程序。那工作正常。我想要的是**通过具有用户 ID 和密码 EditText 控件和登录按钮的自定义 android 活动登录**。单击登录按钮应执行 fb 登录。我不想在我的应用程序或 fbdialog 中使用 webview。

感谢你的帮助

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-05T06:55:29.380

不，**强烈**建议不要这样做，许多用户可能永远不会使用您的应用程序，因为他们将 Facebook 凭据放入他们不信任的对话框中。在像您这样的第三方应用程序中使用 Facebook 登录的全部目的是获取**访问令牌**，这是您的应用程序与 Facebook 通信的一种方式，*而无需*您的应用程序访问用户的 Facebook 凭据。

如果用户安装了 Facebook for Android 应用程序，我们的 Android SDK 提供本机 SSO，如果用户没有安装，则提供 webview 弹出窗口。用户可以安全地将他们的凭据输入到我们的 webview 中，因为他们可以相信他们正在向 Facebook 本身提供他们的 Facebook 凭据。

不要创建您自己的活动，用户必须将他们的 Facebook 凭据放入您的应用程序。这是不好的做法，因此您的用户不会信任您的应用程序。使用 Facebook SDK 进行身份验证。

# android - RTMP 是视频聊天应用程序的更好方法吗？

> ID：12725792
> 
> 赞同：0
> 
> 时间：2012-10-04T10:58:50.080
> 
> 标签：android, ffmpeg, video-streaming, rtmp, live-streaming

我有一个闪存媒体服务器。我想在 Android 设备中创建一个实时视频聊天应用程序。

我目前正在使用 RTMP 方法来保护我的应用程序，但我不确定 RTMP 是否是保护我的应用程序的正确安全机制？你能告诉我保护我的视频聊天应用程序的正确方法吗？

此外，我正在使用 ffmpeg 流式传输视频和音频。有比ffmpeg更好的流媒体吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-07T15:59:21.523

查看 RTMPE 或 RTMPS 协议。RTMPS 使用 SSL 加密。RTMPE 比 RTMPS 更简单，因为无需获取 SSL 证书并使用行业标准 Diffie-Hellman 密钥交换和 HMACSHA256。

与 RTMPS 相比，RTMPE 对 FMS 服务器的压力较小。

将 SWF 验证与上述协议之一结合使用也应增强安全性。

查看这篇[Adob​​e 文章](http://helpx.adobe.com/adobe-media-server/kb/protect-video-content-flash-media.html)，了解有关 SWF 验证和 RTMPE 的更多详细信息

这是来自 Adob​​e 的一篇关于保护流内容安全 的旧（但相关）[文章。](http://blogs.adobe.com/ktowes/2008/09/encryption_and_streaming_media_1.html)

**不确定在协议支持方面您将在设备级别遇到什么问题。一些安卓设备支持闪存，所以这可能不是问题。但这些是专门用于保护流媒体内容的协议。*

# python - Select within select using Django ORM

> ID：12725802
> 
> 赞同：1
> 
> 时间：2012-10-04T10:59:36.750
> 
> 标签：python, django, select, orm

Where can I find some information about building a query like this:

```
select
  SomeField1,
  (select count(distinct SomeField2) from SomeTable where SomeCondition) as SomeField3
from
  SomeTable2
where
  SomeCondition2 
```

using Django ORM? It's probably in the Django documentation somewhere but I can't find it.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T11:10:19.777

Django's ORM is meant to execute queries on a per-model basis and its relational data (i.e ForeignKey, ManyToManyRelationship, ...). Your example shows that you need two results at the same time from two unrelated models. AFAIK, there is no way to do it apart from doing it separately

```
count = SomeTable.objects.filter(SomeCondition).distinct(SomeField2).count()
somefield1 = SomeTable2.objects.filter(SomeCondition2) 
```

However there are a few ways you can achieve it if you really need to do it but I would not recommend them:

[Django Queryset across Models?](https://stackoverflow.com/questions/357425/django-queryset-across-models)

[Query field across multiple django models](https://stackoverflow.com/questions/4019732/query-field-across-multiple-django-models)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T11:14:53.880

What's the relationship of your two tables?

I guess you need the count,there is a code snippet without check,

```
SomeModel2.objects.annotate(new_field=Count('SomeField2', 
    distinct=True)).filter(condition=condition,
    another_condition=condition2).values('new_field', 'Somefield1') 
```

See [https://docs.djangoproject.com/en/dev/ref/models/querysets/#annotate](https://docs.djangoproject.com/en/dev/ref/models/querysets/#annotate) and [How to sort by annotated Count() in a related model in Django](https://stackoverflow.com/a/1799686/995394) for more details.

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T11:18:46.100

Since your question is specifically *where* you can find this information, take a look at [Aggregation | Django docs](https://docs.djangoproject.com/en/dev/topics/db/aggregation/) - it should help you achieve some of what you're trying here (specifically, count).

However querying unrelated tables together is not exactly a common thing to do. You would be better off making separate queries and relating the returned data together manually, since your database will split up that query anyway.

In your case, I would recommend you [make raw SQL queries](https://docs.djangoproject.com/en/dev/topics/db/sql/) on your database if you *have to* run that query,

# entity-framework - 实体框架、SqlCommand 和 TransactionScope

> ID：12725805
> 
> 赞同：0
> 
> 时间：2012-10-04T10:59:41.057
> 
> 标签：entity-framework, task-parallel-library, transactionscope, entity-framework-4.3, sqlcommand

我有一个在 EF 4.3 Code First (EF) 中完成的存储库，以及另一个使用常规 SqlCommand (SQLCMD) 的存储库。EF 将连接对象传递给 SQLCMD，因此两者都使用相同的连接。

在 EF 中，我创建了一个实体，并使用实体 ID 通过 SQLCMD 执行其他操作。当然实体必须存在，否则我会收到 FK 错误。它运作良好，但我需要将两个操作保留在同一个事务中，因此如果出现问题，两者都会回滚。

如果我将两者包装在同一个 TransactionScope 中它不起作用，**SQLCMD 看不到由 EF 创建的实体**。但是，如果我删除 TransactionScope，它会再次起作用。错误总是一样的，一个关于错误 FK 的 SQL 错误。

我尝试在我的计算机中启用 MSDTC，但它仍然无法正常工作。尽管这应该不是问题，因为两者都使用相同的连接。

我注意到，EF 在使用后关闭了连接，所以当 SQLCMD 得到它时，它必须再次打开它。会不会是这个问题？

这是 Windows 7 x64 Ultimate 和 SqlServer 2008。

问题是什么？谢谢！

编辑：

显然问题是我在 SQLCMD 中使用任务。它不是一个，它是一个连续的链，我不知道如何使用 TransactionDependantClone 来解决这个问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T12:22:02.530

EF 仅在您运行 EF 查询时关闭连接时才会关闭连接。如果您首先手动打开连接（例如，通过将打开的连接传递给上下文），则 EF 不会关闭它。因此，您可以这样做并防止 EF 关闭连接。

# java - 如何在另一个嵌入对象（已经嵌入对象）中创建嵌入对象的查询？

> ID：12725809
> 
> 赞同：0
> 
> 时间：2012-10-04T10:59:49.020
> 
> 标签：java, mongodb

我在一个集合中添加了一个嵌入式对象。对象如下所示

```
{ "_id" : ObjectId("506d3046a4e89e856eace0cc"),
    "name": "new"
    "menuList":[{
        "name":"dssdfDS",
        "des":"dsfsdf",
        "_id" : ObjectId("506d3046a4d89e856eace0cc")
    }]
} 
```

我创建了 BasicDBObject 查询以将“menuList”推送到**“name”：“new”**，我已经成功完成了，现在我想将 menuList1 附加到 menuList。

```
{ "_id" : ObjectId("506d3046a4e89e856eace0cc"),
    "name": "new"
    "menuList":[{
        "name":"dssdfDS",
        "des":"dsfsdf",
        "_id" : ObjectId("506d3046a4d89e856eace0cc")
        "menuList1":[{
            "name":"dssdfDS",
            "des":"dsfsdf",
            "_id" : ObjectId("506d3046a4d89e856eace0cc")
        }]
    }]
} 
```

如何通过在**menuList**中推送**menuList1来进行****BasicDBObject 查询**以更新**menuList**？

 ***** * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T12:02:34.043

以下查询可以解决问题

```
 BasicDBObject query= new BasicDBObject("_id", ObjectId("506d3046a4e89e856eace0cc"));
  query.append("menuList._id", ObjectId("506d3046a4d89e856eace0cc"));

  BasicDBObject update = new BasicDBObject();
  update.append("menuList.$.menuList1", menuList1Objects);

  BasicDBObject updateCommand = new BasicDBObject("$push", update);

  db.collection.update(query,updateCommand); 
```****

# jquery - 使用 jQuery 选择父元素和第一个子元素

> ID：12725811
> 
> 赞同：0
> 
> 时间：2012-10-04T10:59:50.347
> 
> 标签：jquery, jquery-selectors

我想选择所有元素父母和他们的第一个孩子，以及原始元素本身。这是标记的示例：

```
<ul id="end-here">
  <li>
    <a href="/path">Link</a>
  </li>
  <li class="select-me">
    <a class="select-me" href="/path">Another link</a>
    <ul>
      <li>
        <a href="/path">Submenu link</a>
      </li>
      <li class="select-me">
        <a class="select-me" id="start-here" class="change-me" href="/path">Another submenu link</a>
      </li>
    </ul>
  </li>
</ul> 
```

所以从 $('#start-here') 我想要所有的 $('.select-me') 停止在 $('#end-here')

到目前为止我有这个

```
$('#start-here').add($('#start-here').parentsUntil('#end-here', 'li, a')) 
```

然而，这错过了 a 标签子元素，因为它们不是原始元素的直接父元素。所以上面的以下元素不包括在内：

```
<a class="select-me" href="/path">Another link</a> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T11:57:17.940

您的示例代码与您所要求的不匹配，“选择所有元素父母及其第一个孩子，以及原始元素本身”。这是示例代码的外观：

```
<ul id="end-here">
  <li class="select-me">
    <a href="/path">Link</a>
  </li>
  <li>
    <a class="select-me" href="/path">Another link</a>
    <ul>
      <li class="select-me">
        <a href="/path">Submenu link</a>
      </li>
      <li>
        <a class="select-me" id="start-here" class="change-me" href="/path">Another submenu link</a>
      </li>
    </ul>
  </li>
</ul>​ 
```

和 jQuery 选择器：

```
$("#start-here").parentsUntil("#end-here").andSelf().map(function(){
    return $(this).parent().children()[0];
}); 
```

`select-me`以上返回示例中具有该类的四个元素。

但是，如果您的示例代码是正确的，则选择过程不可能是通用或灵活的，您将不得不指定一些元素类型：

```
var elems = $("#start-here").parentsUntil("#end-here", "li");
elems.add(elems.children("a")); 
```

感谢[Stano](https://stackoverflow.com/users/1422309/stano)提供上述解决方案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T11:27:56.527

未经测试，但我认为它应该是这样的：

```
$('#start-here').add($('#start-here').andSelf().parentsUntil('#end-here', 'li, a')).andSelf().children().first(); 
```

# visual-studio-2010 - 如何在 MVC4 更新后诊断 Visual Studio 2010 缓慢的编译时间

> ID：12725814
> 
> 赞同：0
> 
> 时间：2012-10-04T10:59:56.327
> 
> 标签：visual-studio-2010, performance, build, compilation, asp.net-mvc-4

我最近将解决方案升级到最新版本的 ASP.NET MVC4 4.0.20710.0，这似乎大大减慢了解决方案的构建速度。

之前 20 个项目需要大约 20 秒，现在已经增加到大约 2 分钟。

到目前为止我已经尝试过

*   卸载所有 VS 扩展
*   重新启动编辑器
*   重新启动我的机器
*   对 Visual Studio 安装进行修复

这些都没有奏效。我的同事也正在经历这种放缓。

有没有其他人经历过这个？有谁知道我可以尝试诊断构建中的什么是缓慢的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-05T12:11:49.890

原来有人在解决方案中添加了 Nuget 包恢复，这导致它非常缓慢！

修复的功劳转到以下问题，以获取有关如何禁用和删除它的说明 [从解决方案中删除 nuget 包恢复](https://stackoverflow.com/questions/8713616/remove-nuget-package-restore-from-solution)

我通过以下步骤修复了我的解决方案

1.  从解决方案中删除“.nuget”文件夹
2.  从文件系统和源代码管理中删除 .nuget 文件夹
3.  使用 sublimetext2 在解决方案和所有子文件夹上搜索“nuget”并删除以下行的所有实例

* * *

```
<Import Project="$(SolutionDir)\.nuget\nuget.targets" /> 
```

* * *

完成此操作后，我的解决方案现在可以在几秒钟内再次构建。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-07-15T20:10:49.050

我也有很多 30+ 的项目，并且想为 CI 构建保留包恢复，但不要在我的开发机器上浪费 2 分钟。

我将 Solution.nuget 文件夹中的 nuget.targets 替换为一个空文件夹。

```
<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

</Project> 
```

我不检查这个（很明显），如果我确实需要进行包恢复，我只是把正确的放回去。

仍然需要在工具|选项对话框中禁用它，但您不需要从 .proj 文件中选择它。因为它在尝试运行目标时只会“什么都不做”。

可怕的黑客，但它对我有用

# html - 防止 iframe 打开新窗口

> ID：12725815
> 
> 赞同：0
> 
> 时间：2012-10-04T11:00:00.413
> 
> 标签：html, cordova, iframe, sencha-touch-2

在我的 Sencha-Touch-2 和 Phonegap 应用程序中，我想使用 iFrame 来显示 HTML 内容，但
我遇到了问题。

如果 src URL 是相对的，iFrame 在新窗口中打开。

```
Ext.define('test.view.HTMLPanel', {
    extend: 'Ext.Panel',
    xtype: 'mainhtmlpanel',

config: {
    id: 'mainHTMLPanel',
    scrollable: 'vertical',
    html: '<iframe name="myIframe" width="' + (screen.width - 350) + '" src="file:///mnt/sdcard/MyApp/MyFolder/MyFolder2/32674059.html"></iframe>'
}
}); 
```

如何防止 iFrame`32674059.html`在新窗口中打开？

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-06T14:32:42.380

来自 [iPhone 的 PhoneGap：加载外部 URL 时出现问题](https://stackoverflow.com/questions/5911255/phonegap-for-iphone-problem-loading-external-url)

在 Phonegap 1.7 中，在 Cordova.plist 中有一个键：OpenAllWhitelistURLsInWebView。将此设置为“是”。

# sql - 在普通 sql 中对行进行分组

> ID：12725818
> 
> 赞同：2
> 
> 时间：2012-10-04T11:00:14.500
> 
> 标签：sql, sql-server, grouping

我有一个包含日期和数字列的表格，如下所示：

```
日期编号
1-1-2012 1
2012 年 1 月 2 日 1
2012 年 1 月 3 日 2
2012 年 1 月 4 日 1

```

我想做一个 sql 查询，将具有相同编号的行分组并取最短日期。只有当 iof Number 的值与上一行/下一行相同时，才会发生分组。所以结果是

```
日期编号
1-1-2012 1
2012 年 1 月 3 日 2
2012 年 1 月 4 日 1

```

.

干杯，洛德凯恩

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-10-04T11:25:49.417

试试这个：

```
WITH   CTE AS(
       SELECT * ,ROW_NUMBER() OVER (ORDER BY [DATE] ) - 
                 ROW_NUMBER() OVER (PARTITION BY NUMBER ORDER BY [DATE] ) AS ROW_NUM
       FROM TABLE1)
SELECT NUMBER,MIN(DATE) AS DATE
FROM   CTE
GROUP BY ROW_NUM,NUMBER
ORDER BY DATE 
```

# [SQL小提琴演示](http://sqlfiddle.com/#!3/4c36c/11)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T11:03:35.023

```
SELECT Number, MIN(date)
FROM table
GROUP BY Number
ORDER BY Number 
```

既然你的要求更具体一点，这个怎么样？我自己没有检查过，但考虑到你的要求，一些可能有用的东西..

```
SELECT date, Number FROM (
SELECT Number, 
(SELECT MIN(date) FROM #table t2 WHERE t1.date <> t2.date AND t1.Number = t2.Number) AS date 
FROM table t1
) AS a
GROUP BY number, date 
```

# java - 为什么使用 Java 签名的证书会导致握手失败？

> ID：12725827
> 
> 赞同：1
> 
> 时间：2012-10-04T11:00:48.887
> 
> 标签：java, ssl, self-signed

我正在访问网络服务。当我在浏览器中访问 Web 服务的 URL 时，证书已签名并自动被接受。

我不明白的是，当我使用 Java 访问 Web 服务时，我会得到以下内容：

> javax.net.ssl.SSLHandshakeException：sun.security.validator.ValidatorException：PKIX 路径构建失败：sun.security.provider.certpath.SunCertPathBuilderException：无法找到请求目标的有效证书路径

我想这意味着证书没有签名，但确实如此。

不会`com.sun.net.ssl.internal.ssl`自动去证书颁发机构并检查证书是否已签名？如果没有，我是否需要另外设置一些东西才能做到这一点？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T11:08:39.510

除了签名之外，还有更多的检查。除其他事项外，必须验证生成签名的证书颁发机构。Java 的受信任证书颁发机构列表与您的浏览器不同。您可能需要使用浏览器下载 CA 证书并使用 Java 的 keytool 进行安装。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T11:07:32.143

您要连接的 Web 服务器或 URL 似乎没有来自授权 CA 的有效证书。要解决此问题，请参阅此替代[解决方案](http://www.java-samples.com/showtutorial.php?tutorialid=210)。

# matlab - 元胞数组组合的子图

> ID：12725828
> 
> 赞同：1
> 
> 时间：2012-10-04T11:01:02.290
> 
> 标签：matlab, plot, cell-array

我正在尝试生成一个带有多个子图的图形，例如

```
time = 1:365;
data = {rand(365,1),rand(365,1),rand(365,1)};
data2 = {rand(365,1),rand(365,1),rand(365,1)};

figure(1);
for i = 1:length(data);
    for ii = 1:2:2*length(data);
        for jj = 2:2:2*length(data);
            subplot(5,2,ii);
            plot(time,data{i});

            subplot(5,2,jj);
            plot(time,data2{i});
        end
    end
end 
```

从这段代码中，我试图为'data'和'data2'中的每个单元格生成一个子图，其中'data'中的每个单元格都绘制在子图1,3,5中，而'data2'中的那些在子图2,4中,6。我生成的代码在 data 和 data2 的所有子图中重现了相同的图形，而不是我上面描述的。我猜这里的问题是每个数据集中的单元格数是 3 并且循环运行了 6 次迭代？我怎样才能解决这个问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T11:07:07.847

试试这个。你不需要这个嵌套循环......

```
figure(1);
for i = 1:length(data);
    subplot(5,2,(i-1)*2+1);
    plot(time,data{i});

    subplot(5,2,(i-1)*2+2);
    plot(time,data2{i});
end 
```

# html5-video - Html5 webm 视频搜索

> ID：12725830
> 
> 赞同：1
> 
> 时间：2012-10-04T11:01:07.563
> 
> 标签：html5-video, webm

我有这样的简单 html5 视频播放器

```
<video id="video" controls="true" src="video.webm"></video> 
```

如果“video.webm”是一些专业的 webm 视频（例如电影预告片），则通过仅下载请求的部分来寻找作品，如果我放置自己编码的 webm 视频，则在寻找浏览器时首先会在寻找之前下载整个文件。

从 http 请求中，我观察到部分 http 请求对于专业视频可以正常工作，但对于我的视频，浏览器总是要求整个文件。

*   我的 webm 视频中缺少什么让浏览器要求特定的字节范围？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-12T00:30:34.227

通常，搜索行为将取决于编码视频的关键帧速率。如果您使用 FFMpeg 进行编码，请查看此处：[http ://wiki.webmproject.org/ffmpeg](http://wiki.webmproject.org/ffmpeg)

需要注意的参数是，它设置在编码器必须设置*内帧*`-g`（关键帧）之前允许的最大*帧间*数——无论它是否需要。选择的价值是品味和权衡的问题，因此您必须自己尝试和决定。也许从 的值开始，如果需要，向下工作。*`360`*

# axapta - 从 .Net 开发人员的角度理解多层中的 CustTable

> ID：12725831
> 
> 赞同：-1
> 
> 时间：2012-10-04T11:01:12.193
> 
> 标签：axapta

`CustTable`存在于 SYS、USR 和 USP 层中。

我只是想知道认为每一层中的 CustTable 只是一个部分类是否正确。

从.net 开发人员的角度来看，我想知道是否有更好的方法来理解这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T11:20:57.813

嗯，有点，但这是一个危险的类比。它可能在某些地方匹配，而在其他地方不匹配。

从 .Net 开发人员的角度来看，图层是不可见的，如果您不在 AOT 中显示图层，则该表格是组合表格。

要完全理解去[官方的解释](http://msdn.microsoft.com/en-us/library/aa851164%28v=ax.50%29.aspx)。

# java - 正则表达式检查 0 , 00 , 000 , 0000 , 00.00

> ID：12725835
> 
> 赞同：-5
> 
> 时间：2012-10-04T11:01:29.063
> 
> 标签：java, regex

我想检查一个字符串不包含值 0。也就是说，字符串像

```
 0 ,  00 ,00.00 
```

不允许，但它应该允许像这样的字段

```
10.00 , 11.01, 0.12 
```

简而言之，我想检查货币字符串。它不应输入 0 值。

请为此建议我正则表达式。

我试过`"^0$"`了，但它在 10 或 10.90 类似的东西上失败了..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T11:04:14.087

您的模式使用锚点。`^`表示在字符串的开头`$`匹配，表示在结尾匹配。因此，您的模式仅验证只有一个 0 的字符串。如果任何包含零的值都是有效的，您可以简单地删除这些锚字符。因此，任何包含 0 的字符串都将返回 true。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T11:03:38.970

我似乎想要匹配所有至少包含一个零的字段。如果是这样，您可以使用几乎最简单的正则表达式：

```
"0" 
```

更新：所以，你想拒绝任何只包含零的东西（但它也可能有空格、逗号和句点。好吧，这将无法匹配任何“仅零”字符串：

```
[^0,\.\s] 
```

# struts2 - Struts2使用hibernate根据Struts2中的第一个下拉值动态创建下拉列表

> ID：12725836
> 
> 赞同：0
> 
> 时间：2012-10-04T11:01:29.180
> 
> 标签：struts2

嗨我现在在我的jsp中使用Struts2和hibernate我有两个下拉菜单，在选择第一个下拉菜单时它应该调用一个函数并从数据库中检索第二个下拉菜单的值

请帮忙

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T11:21:56.770

好吧，您在这里有很多选择，其中一些是

1.  带有此功能的用户[struts2-jquery插件，您可以在其中创建两个可靠的选择。](http://code.google.com/p/struts2-jquery/)
2.  [使用 JSON（ struts2 插件](http://struts.apache.org/2.2.3/docs/json-plugin.html)）的用户简单 jquery并使用 ajax。

我会更喜欢第二种更灵活的方法。在 jquery 的帮助下创建一个自定义 JS 函数，当使用从下拉列表中选择第一个选项时调用你的操作方法，它将根据所选值发送 JSON 数据并在 JSON 解析中使用 JQuery 构建解析内容并填充第二个下拉列表的机制。

一个简单的谷歌搜索会给你一些结果。

# google-drive-api - 有没有办法使用 Java 中的“文档服务”？

> ID：12725837
> 
> 赞同：1
> 
> 时间：2012-10-04T11:01:29.553
> 
> 标签：google-drive-api

使用 Google Apps 脚本时，我可以利用文档服务以编程方式创建 Google 文档。该服务是否可用作 Google API，以便我可以在 GAE/Java 上使用它？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T13:28:03.107

不。

您现在可以获得的最接近的方法是在 HTML 中构建您的文档，然后使用 convert=true 上传它以创建原生 Google Doc

# php - 内爆 php 数组并导出到 txt 会创建重复值

> ID：12725845
> 
> 赞同：2
> 
> 时间：2012-10-04T11:01:48.180
> 
> 标签：php, sql, arrays

以下脚本会生成包含所需数据的 txt 文件，但它会在文本文件中生成两次数据。

```
 mysql_connect($hostname_MySQLCon, $username_MySQLCon, "") or die(mysql_error()); 
 mysql_select_db($database_MySQLCon) or die(mysql_error()); 
 $data = mysql_query("
    SELECT sales_flat_order.increment_id, sales_flat_order.gift_message_id, sales_flat_order.status, gift_message.gift_message_id, gift_message.message
    FROM sales_flat_order
    JOIN gift_message ON sales_flat_order.gift_message_id = gift_message.gift_message_id
    WHERE sales_flat_order.gift_message_id IS NOT NULL
    GROUP BY sales_flat_order.increment_id
    /* AND sales_flat_order.status = 'pending' */;") 
 or die(mysql_error());  
 while($result = mysql_fetch_array( $data )) 
 { 
    $dataRow[] = implode("|", $result);
 } 
$theFile = 'orders-meta.txt';
if (!$handle = fopen($theFile, 'a')) {
    exit;}
if (fwrite($handle, implode("\r\n", $dataRow)) === FALSE) {
    echo "Cannot write to file ($theFile)";
exit;}
echo "Success, the file was written.";
fclose($handle); 
```

txt 文件中的示例输出：

```
100000001|100000001|1121|1121|pending|pending|1121|gift message|gift message
100000002|100000002|1123|1123|pending|pending|1123|Gift message|Gift message 
```

为什么它会产生每个值两次？以及如何更改它以使输出为：

```
100000001|1121|pending|1121|gift message
100000002|1123|pending|1123|Gift message 
```

非常感谢任何帮助。

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T11:05:56.020

因为您使用的是[`mysql_fetch_array()`](http://php.net/manual/en/function.mysql-fetch-array.php)而不是[`mysql_fetch_row()`](http://www.php.net/manual/en/function.mysql-fetch-row.php).

默认`$result_type`为：`mysql_fetch_array`_`MYSQL_BOTH`

> 数组 mysql_fetch_array ( 资源 $result [, int $result_type = MYSQL_BOTH ] )

这将产生这样的数组：

```
array(
    0 => 100000001
    'increment_id' => 100000001,
    1 => 1121,
    'gift_message_id' => 1121,
    2 => 'pending',
    'status' => 'pending',
    3 => 1121,
    4 => 'gift message',
    'message' => 'gift message'
) 
```

为什么你以如此低效的方式存储数据？为什么不这样做：

```
$theFile = 'orders-meta.txt';
if (!$handle = fopen($theFile, 'a')) {
    exit;
}

while($result = mysql_fetch_array( $data )) { 
    fwrite($handle, implode("|", $result));
    fwrite($handle, "\n\r");
} 

fclose($handle); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T11:05:52.933

默认情况下，`mysql_fetch_array`返回具有数字键和关联键的混合数组 - 因此每个值都是重复的。将您的 fetch 行更改为：

```
mysql_fetch_array($data, MYSQL_ASSOC) 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T11:07:56.483

从[文档](http://www.php.net/mysql_fetch_array)：

> 返回与获取的行相对应的字符串数组，如果没有更多行，则返回 FALSE。返回数组的类型取决于 result_type 的定义方式。通过使用 MYSQL_BOTH（默认），您将获得一个包含关联索引和数字索引的数组。使用 MYSQL_ASSOC，你只能得到关联索引（因为 mysql_fetch_assoc() 有效），使用 MYSQL_NUM，你只能得到数字索引（因为 mysql_fetch_row() 有效）。

`mysql_fetch_array`获取每个结果两次，一次作为 assoc 数组，一次作为数字索引数组*（默认情况下*）。这就是为什么你会得到重复的行。

话虽如此，请不要`mysql_*`在弃用过程中使用它，阅读文档页面上的阅读框，然后单击链接`PDO`或链接`mysqli_*`，或链接[here](http://www.php.net/manual/en/pdostatement.fetch.php)和[here](http://www.php.net/manual/en/mysqli-result.fetch-array.php)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T11:05:40.507

阅读手册：

[mysql_fetch_array ( 资源 $result [, int $result_type = MYSQL_BOTH ] )](http://php.net/manual/en/function.mysql-fetch-array.php)

然后尝试：

```
while($result = mysql_fetch_array( $data, MYSQL_NUM )) 
```

# ios5 - 如何以编程方式自定义具有 nib 的 uitableviewcell 子类？

> ID：12725846
> 
> 赞同：0
> 
> 时间：2012-10-04T11:02:04.203
> 
> 标签：ios5, uitableview

例如，我正在使用自定义 UITableViewCell 和一个名为“MyCellNib”的 nib 文件。我的 tableviewcontroller 我在 viewDidLoad 这个 nib 中注册，如下所示：

```
 [_table registerNib:[UINib nibWithNibName:@"MyCellNib" bundle:nil]
                  forCellReuseIdentifier:@"cell"]; 
```

在我的 cellForRowAtIndexPath: 它看起来像这样

```
 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:              (NSIndexPath *)indexPath
 {
 cell = [_table dequeueReusableCellWithIdentifier:@"cell"];
 cell.clipsToBounds = NO;
 return cell;
} 
```

如您所见，我不使用 if(cell == nil) 等标准模式（就像我们在 iOS4 中所做的那样）-regiserNib 方法可以为我们做到这一点。

所以，问题是：我需要在单元子类中编写一些代码。

在我的自定义 uitableviewcell 子类中，该方法

```
 - (id)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier 
```

没有被调用（我以前用它来定制单元格），但我需要它在 contentView 上添加一些东西编程..

有什么方法可以在创建自定义单元格时对其进行自定义？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-21T21:02:36.400

弄清楚了。所有这些前置内容都可以在 -(void)awakeFromNib 方法中执行

# android - ListView 行高和另一个有趣的选择性焦点问题（当父级滚动时）

> ID：12725847
> 
> 赞同：1
> 
> 时间：2012-10-04T11:02:07.717
> 
> 标签：android, android-layout, android-widget, android-listview, android-ui

首先，如果听起来重复，请原谅。我访问了这么多线程，但找不到适合我的问题的答案。我已经尝试过父级中的 ScrollingMovementMethod、android:scrollbar、wrap_content 以及这些线程中建议的许多其他内容，但对我没有任何帮助。随意编辑标题，因为我找不到更好的标题。

**问题描述** 我有一个列表视图，列表视图的每一行都有三个控件 1\. Image View（显示联系人图像） 2\. TextView（显示联系人姓名） 3\. TextView（显示联系人的状态消息（如果可供使用的话））。

**我尝试过的**：- 1\. XML 布局，

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent" >

    <ImageView
        android:id="@+id/icon"
        android:layout_width="22dp"
        android:layout_height="50dp"
        android:layout_marginLeft="4dp"
        android:layout_marginRight="15dp"
        android:contentDescription="@string/strBuddyImage" >
    </ImageView>

    <RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:minHeight="56dp" >

        <TextView
            android:id="@+id/uNameTxt"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_above="@+id/customMsg"
            android:minHeight="?android:attr/listPreferredItemHeight"
            android:singleLine="true"
            android:textAppearance="?android:attr/textAppearanceMedium"
            android:textSize="@dimen/fontSizeListRowHeader" />

        <TextView
            android:id="@+id/customMsg"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:layout_alignParentBottom="true"
            android:layout_alignParentLeft="true"
            android:maxLines="4"
            android:textSize="@dimen/fontSizeListRowText"
            android:textStyle="italic" />
    </RelativeLayout>

</LinearLayout> 
```

2.  扩展 ArrayAdapter 的适配器（仅覆盖 getView 方法）

    静态类 ViewHolder { public ImageView imageView; 公共文本视图 uNameTxtView；公共文本视图 custMsgTxtView; }

    ```
    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
      View rowView = convertView;
      // Log.d("BuddyListAdapter", "Inside getView() " + position);
      if ( rowView == null ) {
        LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        rowView = inflater.inflate(R.layout.buddy_listview_row_layout, parent, false);
        viewHolder = new ViewHolder();
        viewHolder.uNameTxtView = (TextView) rowView.findViewById(R.id.uNameTxt);
        viewHolder.imageView = (ImageView) rowView.findViewById(R.id.icon);
        viewHolder.custMsgTxtView = (TextView) rowView.findViewById(R.id.customMsg);
        rowView.setTag(viewHolder);
      }
      viewHolder = (ViewHolder) rowView.getTag();

      synchronized (buddyList) {
        buddy = buddyList.get(position);
      }
      viewHolder.uNameTxtView.setText(buddy.getDisplayName());
      viewHolder.custMsgTxtView.setText(buddy.getCustomMessage());

      // Change the icon for users who are offline
      if ( buddy.getState() == 0 ) {
        viewHolder.imageView.setImageResource(R.drawable.offline);
      } else {
        viewHolder.imageView.setImageResource(R.drawable.online);
      }
      //      rowView.setLayoutParams(new LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT));
      return rowView;
    } 
    ```

**我得到了什么** ![在此处输入图像描述](../Images/1b6446717022089d0f8f345d77234f06.png)

**希望** 我想显示相同大小的列表视图的所有行，如果有人有更大的状态消息（需要多行），我想显示人名和状态消息的前几行（比如 4） . 无论状态消息有多大，名称都应该始终对用户可见。我该怎么做？

如果您在代码中发现任何其他错误，请指出。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T12:08:58.053

我注意到的一件事是你使用了很多硬编码的尺寸，这真的有必要吗？在大多数布局上使用 wrap_content 会是更好的做法，这样你就可以让 android 处理它。就你的问题而言，你可以做两件事：1）你的两个 EditTexts 在一个相对的布局中，如果 customMsg 是 4 行长，它将被滚动，你会失去你的 uNameTxt 所以你应该限制 customMsg 更多，到两行或更少的东西。或者，如果您同意丢失部分代码，您可以通过这种方式调整布局

```
 <TextView
        android:id="@+id/uNameTxt"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        layout_alignParentTop="true"
        android:minHeight="?android:attr/listPreferredItemHeight"
        android:singleLine="true"
        android:textAppearance="?android:attr/textAppearanceMedium"
        android:textSize="@dimen/fontSizeListRowHeader" />

    <TextView
        android:id="@+id/customMsg"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_below="@+id/uNameTxt"
        android:maxLines="4"
        android:textSize="@dimen/fontSizeListRowText"
        android:textStyle="italic" /> 
```

它应该不再向下滚动，您应该看到 Name 和 customMsg 的一部分

2）将您的布局编辑为更有效的内容，例如：

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent" 
 android:minHeight="56dp">

 <ImageView
    android:id="@+id/icon"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_marginLeft="4dp"
    android:layout_marginRight="15dp"
    android:contentDescription="sasd" >
</ImageView>

<TextView
        android:id="@+id/uNameTxt"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentTop="true"
        android:singleLine="true"
        android:layout_toRightOf="@+id/icon"
        android:textSize="@dimen/fontSizeListRowHeader"
        android:textAppearance="?android:attr/textAppearanceMedium"
    />

 <TextView
        android:id="@+id/customMsg"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_below="@+id/uNameTxt"
        android:maxLines="2"
        android:layout_toRightOf="@+id/icon"
        android:textSize="@dimen/fontSizeListRowText"
        android:textStyle="italic" />

</RelativeLayout> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T12:32:19.017

我同意 sokie 关于使用`wrap_content`. 我倾向于使用`LinearLayout`很多，因为它在各种显示尺寸上提供了一致的布局。一种实现方式如下。通过将您的内部替换`RelativeLayout`为`LinearLayout`，将始终显示包含名称的文本视图，并且消息文本视图将显示最大可能的行（或可以通过指定 来限制`maxLines`）以及可用的剩余/空间。如果您想显示整个状态消息，则可以通过将父`LinearLayout`高度参数更改为 来实现`wrap_content`。

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="56dp" 
android:minHeight="?android:attr/listPreferredItemHeight">

<ImageView
    android:id="@+id/icon"
    android:layout_width="22dp"
    android:layout_height="50dp"
    android:layout_marginLeft="4dp"
    android:layout_marginRight="15dp" >
</ImageView>

<LinearLayout
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical">

    <TextView
        android:id="@+id/uNameTxt"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:singleLine="true"
        android:textAppearance="?android:attr/textAppearanceMedium" 
        />

    <TextView
        android:id="@+id/customMsg"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:maxLines="4"
        android:textStyle="italic"
       />
</LinearLayout>

</LinearLayout> 
```

# asp.net - 如何创建在复合 c1 门户中返回网站的导航功能？

> ID：12725850
> 
> 赞同：1
> 
> 时间：2012-10-04T11:02:15.357
> 
> 标签：asp.net, razor, c1-cms

我想创建一个在我的门户中返回网站列表的函数（首选 razor）。

我找到了@HomePageNode 并能够从那里处理孩子，但这只是活动网站。

我在默认的“首页”旁边添加了另一个网站，如果我稍后还添加其他网站，我想在顶部自动放置一个切换器。

Composite C1 是一个 CMS 系统

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-06T12:47:58.450

您可以使用[`Composite.Data.SitemapNavigator.HomepageNodes`](http://api.composite.net/html/P_Composite_Data_SitemapNavigator_HomePageNodes.htm)：

> 获取所有主页的 PageNode。

例子：

```
using(var conn = new DataConnection())
{
    var navigator = new SitemapNavigator(conn);
    IEnumerable<PageNode> homePageNodes = navigator.HomePageNodes;
} 
```

现在您拥有所有主页的 PageNode，并且可以通过递归遍历它们`ChildNodes`。

* * *

您可能更喜欢 SitemapNavigator 中的其他功能，具体取决于您的情况，例如`AllSitemapsXML`或`HomepageIDs`。

[您将在Composite API](http://api.composite.net/html/AllMembers_T_Composite_Data_SitemapNavigator.htm)中找到它们。

# nivo-slider - 如何在 nivoslider 中动态显示不同的效果

> ID：12725851
> 
> 赞同：0
> 
> 时间：2012-10-04T11:02:18.820
> 
> 标签：nivo-slider

我正在使用 nivoslider 并有 4 张不同的幻灯片，对于每张幻灯片，我想要不同的效果，如 slideInLeft、fade、fold 和 sliceUpDown 用于每个不同的幻灯片。我的滑块运行良好，只是我需要为每个幻灯片提供不同的滑动效果。我正在使用 codeigniter。欢迎任何帮助/建议。谢谢

```
<img src="uploaded_files/banner/<?php echo $banner->file ?>" data-thumb="uploaded_files/banner/<?php echo $banner->file ?>" alt="" data-transition="slideInLeft"/>
<script type="text/javascript">
    $(window).load(function() {
        $('#slider').nivoSlider();
    });
    </script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T11:45:23.087

这很简单。我只需要添加一些条件，如下所示。

```
$i = 1;
if($i=='1') $transition = 'slideInLeft';
                            elseif($i=='2') $transition='fade';
                            elseif($i=='3') $transition='fold';
                            else $transition = 'sliceUpDown';
                                ?>
                                <img src="uploaded_files/banner/<?php echo $banner->file ?>" data-thumb="uploaded_files/banner/<?php echo $banner->file ?>" alt=""  data-transition="<?php echo $transition?>"/>      

                     $i++; 
```

它有效，但如果有人有比这个更好的想法，请分享。

# sql - 仅当有一些空格时才删除多余空格的 case 语句

> ID：12725852
> 
> 赞同：1
> 
> 时间：2012-10-04T11:02:22.067
> 
> 标签：sql, sql-server, tsql, replace, trim

我用@替换所有空白

```
SELECT *,  REPLACE(NAME,' ','@') AS NAME2 
```

结果miss@test@blogs@@@@@@@@@@@@@@（不同数量的@s取决于名称的长度！

然后我使用这个删除名称后的所有@符号

```
select *, substring(Name2,0,charindex('@@',Name2)) as name3 
```

然后给出我想要的结果，例如 MISS@test@blogs

但是有些没有给出这个结果，它们是空的。这是因为令人讨厌的是，我读过的工作表中的某些行在名称后没有空格。

有没有我可以使用的 case 语句，所以它只删除名称后的 @ 符号，如果它们首先存在的话？谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T11:06:59.767

该函数`rtrim`可用于删除尾随空格。例如：

```
select replace(rtrim('miss test blogs             '),' ','@')
-->
'miss@test@blogs' 
```

[SQL Fiddle 的示例。](http://sqlfiddle.com/#!3/0cf31/4/0)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T11:26:05.847

尝试这个：

```
Declare @t table (name varchar(100),title varchar(100),forename varchar(100))
insert into @t
values('a  b   c','dasdh  dsalkdk  asdhl','asd dfg sd')

SELECT REPLACE(REPLACE(REPLACE(LTRIM(RTRIM(name)),'  ',' '+CHAR(7)),CHAR(7)+' ','')  ,CHAR(7),'') AS Name,

REPLACE(REPLACE(REPLACE(LTRIM(RTRIM(title)),'  ',' '+CHAR(7)),CHAR(7)+' ','')  ,CHAR(7),'') AS title,

REPLACE(REPLACE(REPLACE(LTRIM(RTRIM(forename)),'  ',' '+CHAR(7)),CHAR(7)+' ','')  ,CHAR(7),'') AS forename

FROM @t WHERE
(CHARINDEX('  ',NAME) > 0 or CHARINDEX('  ',title) > 0 or CHARINDEX('  ',forename) > 0) 
```

[**SQL 小提琴演示**](http://www.sqlfiddle.com/#!3/f6343/1)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-10-04T13:38:38.223

```
select name2, left(name2,len(name2)+1-patindex('%[^@]%',reverse(name2)+'.'))
from (
  SELECT *, REPLACE(NAME,' ','@') AS NAME2
  from t
) x; 
```

检查这个[SQL Fiddle](http://sqlfiddle.com/#!3/1631d/9/2)

对于后代，示例表：

```
create table t (name varchar(100));
insert t select 'name@name@ne@@@'
union all select '@name@name'
union all select 'name name hi   '
union all select 'joe public'
union all select ''
union all select 'joe'
union all select 'joe   '
union all select null
union all select '   leading spaces'
union all select '   leading trailing  '; 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T11:21:36.837

几天前我遇到了同样的问题。

实际上，有一种快速的方法可以从字符串的开头和结尾中减去空格。在 SQL Server 中，您可以为此使用 RTRIM 和 LTRIM。第一个从右侧抑制空间，第二个从左侧抑制空间。但是，如果在您的场景中，字符串中间也可能存在多个空格，我建议您查看 SQL Server Central 上的这篇文章：[http ://www.sqlservercentral.com/articles/T-SQL/68378 /](http://www.sqlservercentral.com/articles/T-SQL/68378/)

该脚本的作者详细解释了针对这种情况的一个很好的解决方案。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-04T11:07:40.483

不太明白这个问题，但是如果问题是某些名称后没有空格，您不能先这样做：

```
SELECT *,  REPLACE(NAME+' ',' ','@') AS NAME2 
```

即，立即为所有名称添加一个空格？

# php - jqgrid在addrow之后不要调用successfunc

> ID：12725857
> 
> 赞同：1
> 
> 时间：2012-10-04T11:02:34.820
> 
> 标签：php, javascript, jqgrid

我尝试使用 jqgrid 并且现在遇到函数, 和`successfunc`not`aftersavefunc`将被调用的问题。`errorfunc``afterrestorefunc`

我的代码：

```
$("#list-nxfeatures").jqGrid({
    url:'lib/nxfeatures.php',
    datatype: 'xml',
    mtype: 'GET',
    colNames:['Id','Name', 'Description','Default','Allow change','Nolimit'],
    colModel :[ 
      {name:'id', index:'id', width:55}, 
      {name:'name', index:'datasetid', width:150, editable:true}, 
      {name:'description', index:'featureid', width:200, editable:true}, 
      {name:'defaultvalue', index:'defaultvalue', width:80, align:'center',editable:true, edittype:"checkbox", editoptions: {value:"1:0"}}, 
      {name:'allowchange', index:'allowchange', width:100, align:'center',editable:true, edittype:"checkbox", editoptions: {value:"1:0"}}, 
      {name:'nolimit', index:'nolimit', width:80, align:'center',sortable:false,editable:true, edittype:"checkbox", editoptions: {value:"1:0"}} 
    ],
    pager: '#pager-nxfeatures',
    rowNum:10,
    rowList:[10,20,30,100],
    rownumbers: true,
    sortname: 'id',
    sortorder: 'desc',
    viewrecords: true,
    gridview: true,
    caption: 'Features',
    editurl: "lib/modifynxfeatures.php",
    height: 220,
    width: 800
  }); 

  jQuery("#list-nxfeatures").jqGrid('navGrid',"#pager-nxfeatures",{edit:false,add:false,del:true});
  jQuery("#list-nxfeatures").jqGrid('inlineNav', "#pager-nxfeatures", { addParams: {
      rowID: "neu3",
      addRowParams: {
          oneditfunc: function () {
              alert("edited");
          },
          successfunc: function (response) {
              alert("success");
              return true;
          },
          aftersavefunc: function (response) {
              alert("aftersave");
          },
          errorfunc: function (rowid, response) {
              alert("errorfunc");
          },
          afterrestorefunc :function (rowid) {
              alert("afterrestorefunc");
          }
      }
  }
  });
  jQuery("#list-nxfeatures").jqGrid('filterToolbar',{stringResult: true,searchOnEnter : false}); 
```

我的代码有什么问题？这`oneditfunc`是完美的工作。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-11-20T08:33:24.513

找到你的帖子，因为我遇到了和你一样的问题。找到了解决方案。在这里发布以供其他人参考。

```
addParams:{
    addRowParams:{
        oneditfunc:function(){
            alert("edited");
        }
    }
},
editParams:{
    successfunc:function(response){
        alert("success");
        return true;
    }
} 
```

# c# - 在 HTTPS 请求中，Request.IsSecureConnection 返回 false

> ID：12725859
> 
> 赞同：21
> 
> 时间：2012-10-04T11:02:38.760
> 
> 标签：c#, asp.net, ssl, https

我有一个在 https (SSL) 中工作的 asp.net 应用程序。这在我的本地计算机和 Amazon AWS（生产环境）中运行良好。

但是当我在办公室托管这个应用程序（用于测试）时，会发生一些奇怪的事情。

1.  我可以在浏览器中看到**https**和锁定标志。

2.  Fiddler 还显示输出已加密并显示端口 443。

3.  但`HttpContext.Current.Request.IsSecureConnection`返回**false**

4.  并`HttpContext.Current.Request.Url.Scheme`返回**http**。

在办公室，我们使用 Juniper SSG 防火墙和 TMG 2010（Forefront Threat Management Gateway 2010）。因此服务器通过 Juniper 和 TMG 2010 接收请求。提前致谢。

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-10-04T11:04:21.963

为了降低成本，我怀疑 SSL 证书安装在 TMG 网关上，并且该网关在将请求传递给实际 Web 服务器时只是将请求重写为标准 HTTP。因此，当请求到达 IIS 和您的 Web 应用程序时，它就是一个标准的纯 HTTP 请求。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2014-12-17T13:05:41.503

在部署到 Amazon 的 Elastic Beanstalk 环境后，这让我大吃一惊。我看不到任何方法可以让负载平衡器允许 SSL 请求直接通过服务器。相反，它总是在负载平衡器处终止 SSL，并将纯 http 传回服务器。

我找到了这个文档：[Elastic Load Balancing Concepts - X-Forwarded Headers](http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/TerminologyandKeyConcepts.html#x-forwarded-headers)。

本质上，负载均衡器会在将请求转发到后端服务器之前将许多额外的[HTTP 标头注入到每个请求中。](http://en.wikipedia.org/wiki/List_of_HTTP_header_fields)最相关的是`X-Forwarded-Proto`跟踪用于从客户端浏览器连接到负载平衡器的协议。可以这样检查：

```
var loadbalancerReceivedSSLRequest = string.Equals(Request.Headers["X-Forwarded-Proto"], "https");
var serverReceivedSSLRequest = Request.IsSecureConnection;

if (loadbalancerReceivedSSLRequest || serverReceivedSSLRequest)
{
    // SSL in use.
}
else
{
    // SSL not in use.
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-03-30T09:13:38.267

另一种检查方法是检查端口

```
if(context.Request.Url.Port == 443) 
```

注意：检查哪个端口用于安全连接，通常是 443

# c# - 在 Windows 8 中隐藏文本框插入符号

> ID：12725868
> 
> 赞同：2
> 
> 时间：2012-10-04T11:03:05.200
> 
> 标签：c#, textbox, windows-8, microsoft-metro, caret

我有一个文本框。它将代表一个数字。当我聚焦它时，我会显示边框以注意到它被选中并且我可以在上面写字。我截获了 OnKeyDown 事件以更改我按下的数字键的 TextBox 内容。

我想隐藏插入符号，因为我不希望插入符号“撒谎”，看起来我可以在我想要的 TextBox 中的任何位置写。

我试过了`IsReadOnly = true`，它隐藏了插入符号。KeyDown 事件继续工作（因为我使用了 AddHandler 函数），但是当我关注 TextBox 时，触摸键盘没有出现。

我想隐藏插入符号，但同时显示触摸键盘。

有什么建议吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-25T22:27:19.190

不幸的是，这在 ac#/xaml winRT 应用程序下是不可能的。仅适用于使用 CaretBrush 属性的 wpf 或 silverlight 应用程序。

[检查这里确认](http://social.msdn.microsoft.com/Forums/en-US/winappswithcsharp/thread/26bc26d1-574d-48c1-9a00-5096c55cdbd3)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-25T22:46:36.537

您无法隐藏甚至更改 WinRT/Windows 8 中插入符号的颜色。您可以更改`TextBox`本身的背景颜色，但这并不能真正隐藏插入符号。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-15T01:56:38.343

我注意到当我给它一个背景颜色时，光标消失了。虽然这不是我想要的，但它会使光标消失。我在 8.1 工作。例子：

```
<TextBox Style="{StaticResource _textBoxStyle1}" 
Text="{Binding AddRow.Code, Mode=TwoWay}" 
Width="220" 
BorderThickness="0" 
Grid.Column="1" 
VerticalAlignment="Center" 
HorizontalAlignment="Center" 
Margin="10,0" 
Background="#40FFFFFF" 
Foreground="BurlyWood"/>

<Style TargetType="TextBox" x:Key="_textBoxStyle1" >
    <Setter Property="FontFamily" Value="{StaticResource _standardFont}" />
    <Setter Property="FontSize" Value="30" />
    <Setter Property="Height" Value="38" />
    <Setter Property="Foreground" Value="BurlyWood" />
    <Setter Property="Margin" Value="0" />
    <Setter Property="Padding" Value="0" />
</Style>

<x:String x:Key="_standardFont">Arial</x:String> 
```

# python - 参数可能非常大时的记忆

> ID：12725871
> 
> 赞同：2
> 
> 时间：2012-10-04T11:03:17.457
> 
> 标签：python, design-patterns, python-3.x, memoization

假设我有一个引用透明的功能。很容易记住它；[例如](https://stackoverflow.com/a/1988826/336527)：

```
def memoize(obj):
  memo = {}
  @functools.wraps(obj)
  def memoizer(*args, **kwargs):
    combined_args = args + (kwd_mark,) + tuple(sorted(kwargs.items()))
    if combined_args not in memo:
      memo[combined_args] = obj(*args, **kwargs)
    return cache[combined_args]
  return memoizer

@memoize
def my_function(data, alpha, beta):
  # ... 
```

现在假设`data`论点`my_function`很大；说，这是一个`frozenset`有数百万个元素的。在这种情况下，记忆的成本是令人望而却步的：每次，我们都必须将计算`hash(data)`作为字典查找的一部分。

我可以使`memo`字典成为一个属性，而不是装饰器`data`内的一个对象。`memoize`这样我可以`data`在进行缓存查找时完全跳过参数，因为另一个巨大`frozenset`的相同的机会可以忽略不计。但是，这种方法最终会污染传递给`my_function`. 更糟糕的是，如果我有两个或更多的大论点，这根本无济于事（我只能附加`memo`一个论点）。

还有什么可以做的吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T11:59:17.517

好吧，您可以在那里毫无顾忌地使用“哈希”。Python 不会多次计算 freezeset 的哈希值——就在它创建时——检查时间：

```
>>> timeit("frozenset(a)", "a=range(100)")
3.26825213432312
>>> timeit("hash(a)", "a=frozenset(range(100))")
0.08160710334777832
>>> timeit("(lambda x:x)(a)", "a=hash(frozenset(range(100)))")
0.1994171142578125 
```

不要忘记 Python 的“hash”内置调用对象的`__hash__`方法，该方法的返回值在创建时为内置的可散列对象定义。上面你可以看到调用一个标识 lambda 函数比调用“hash(a)”慢两倍以上

因此，如果您的所有参数都是可散列的，则只需在创建“combined_args”时添加它们的散列 - 否则，只需编写它的创建，以便您将散列用于frozenset（可能还有其他）类型，并带有条件。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T12:02:08.827

事实证明，内置`__hash__`并没有那么糟糕，因为它在第一次计算后缓存了自己的值。真正的性能损失来自内置的`__eq__`，因为它不会在相同的对象上短路，并且实际上每次都会进行完整的比较，这使得它非常昂贵。

我想到的一种方法是对所有大参数的内置类进行子类化：

```
class MyFrozenSet(frozenset):
  __eq__ = lambda self, other : id(self) == id(other)
  __hash__ = lambda self : id(self) 
```

这样，字典查找将是即时的。但是新阶级的平等将被打破。

一个更好的解决方案可能是这样的：只有在执行字典查找时，才能将大参数包装在一个特殊的类中，该类重新定义`__eq__`并`__hash__`返回被包装对象的`id()`. 包装器的明显实现有点烦人，因为它需要复制所有标准`frozenset`方法。也许从相关`ABC`类派生它可能会更容易。

# c# - 使用 Server.MapPath 加载外部文件

> ID：12725874
> 
> 赞同：0
> 
> 时间：2012-10-04T11:03:21.247
> 
> 标签：c#, asp.net, xml, load, server.mappath

我想加载一个位于 D: 驱动器中的 XML 文件。这是我用的

```
doc.Load(System.Web.HttpContext.Current.Server.MapPath("/D:/Employee.xml")); 
```

但是每当我尝试运行我的程序时，它都会给我一个错误：

**你调用的对象是空的。**

我在某处读到 Server.MapPath 只能用于网页或网络应用程序。我使用 c# 在 asp.net 中制作了一个表单。

为什么我会收到此错误？

这是我的代码：

```
 private void btnRead_Click(object sender, EventArgs e)
    {
        XmlDocument doc = new XmlDocument();
        doc.Load("D:\\Employee.xml");
        XmlNode root = doc.DocumentElement;
        StringBuilder sb = new StringBuilder();
        XmlNodeList nodeList = root.SelectNodes("Employee");
        foreach (XmlNode node in nodeList)
        {
            sb.Append("Name: ");
            //Select the text from a single node, “Title” in this case
            sb.Append(node.SelectSingleNode("Name").InnerText);
            sb.Append("EmpID: ");
            sb.Append(node.SelectSingleNode("EmpID").InnerText);
            sb.Append("Dept: ");
            sb.Append(node.SelectSingleNode("Dept").InnerText);
            sb.Append("");
        }
        System.Web.HttpContext.Current.Response.Write(sb.ToString());
    } 
```

我在 VS 2008 中制作了一个表格。将详细信息保存在 XML 文件中。现在要显示输出。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-04T11:05:26.303

为什么不直接加载：

```
doc.Load("D:\\Employee.xml"); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T11:05:34.227

在桌面应用程序中没有这样的 HttpContext.Current，这就是你得到 NullReferenceException 的原因。相反，使用

```
doc.Load("D:/Employee.xml"); 
```

# r - R将向量组合成一个数据框但没有一个连续的公共变量

> ID：12725878
> 
> 赞同：0
> 
> 时间：2012-10-04T11:03:35.130
> 
> 标签：r, data-binding, vector, dataframe

我有两个不同的文件，我想将它们组合成一个数据框，但我不知道该怎么做！第一个文件有两列；一个是日期，下面是泥石流事件的二进制代码。然后我的另一个文件也有两列；日期和降水数据。

问题是，两个日期列并不都包含相同的日期。二进制是从 1900 年到 2005 年 4 月到 10 月的每一天，但降水文件的日期是从 1911 年到 2004 年，在某些月份和某些年份有一些缺失的数据。

所以我的问题是如何制作一个数据框，其中包含日期、二进制 0 或 1，然后是该特定日期的相应 precip 值。我只想要在二进制文件中有信息的日子的沉淀信息；其他的可以无视。

我尝试使用在回答其他问题时找到的代码，但它们都不适用于我的问题。老实说，我真的不知道这是否是我需要的。我希望最终进行逻辑回归。

如果有人可以帮助我并提出一种方法，我将不胜感激！我也真的不是很技术，对 R 一点也不满意，所以如果你的建议真的很基本，我会很感激的！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T11:34:45.737

如果要合并具有相同日期的数据，请查看`%in%`和`intersect`。就像是

```
# not tested. Beware.
new_dates<- intersect(data_1[,1],data_2[,1])
new_data <- cbind(new_dates,data_1[data_1[,1] %in% new_dates,2] , data_2{data_2 %in% new_dates,2]) 
```

（可能更清洁的方式与日益迫在眉睫的`plyr`包:-)）

# jquery - jQuery datepicker 函数覆盖

> ID：12725882
> 
> 赞同：2
> 
> 时间：2012-10-04T11:03:44.210
> 
> 标签：jquery, jquery-ui, datepicker

我使用 jQuery datepicker 创建了一些自定义 datepicker，它运行良好。在某些情况下，我需要一些 onSelect 事件的功能，并且想要覆盖它。但我不需要更改初始日期选择器的任何其他设置。

这是我的代码示例：

```
$('#start_date.datepicker, #end_date.datepicker').attachCustomDatepicker();

$('#start_date.datepicker').datepicker({ 
      onSelect: function(dateValue, inst) { 
             $('#end_date.datepicker').datepicker("option", "minDate", dateValue); 
      } 
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-08T14:00:47.503

由于这是不可能的，我想出解决方法：将函数作为参数传递给自定义 jQuery 函数。这是创建日期选择器的代码：

```
var onSelectFunction = function(dateValue){
        $('#end_date.datepicker').datepicker("option", "minDate", dateValue);
    }
    options.onSelect = onSelectFunction;
    $('#start_date.datepicker, #end_date.datepicker').attachCustomDatepicker(options); 
```

这是我的自定义函数的预览：

```
$.fn.attachCustomDatepicker = function(options) { 

    var defaultOptions = {
        someDefaultCustomParamsHere: ,
        onSelect: null
    }

    var onSelectFunction = function(params){ return false; }

    if (typeof options == 'object') {
            options = $.extend(defaultOptions, options);
    } else {
            options = defaultOptions;
    }

    if(!options.onSelect){
        options.onSelect = onSelectFunction;
    }

    $(this).datepicker( "destroy" );

    $(this).datepicker({
         onSelect: function (dateValue, inst) {
            options.onSelect(dateValue);
        }
    }
} 
```

# node.js - 咖啡编译器的奇怪行为

> ID：12725893
> 
> 赞同：2
> 
> 时间：2012-10-04T11:04:32.130
> 
> 标签：node.js, coffeescript

**我在一个简单的表达式上发现了一个咖啡**编译器的奇怪行为，这与 coffeescript.org 网站上的交互式编译器反应不同。

当我尝试用咖啡编译下一个字符串时：

**`(console.log i; break) for i in [0..10]`**

我有：

> **SyntaxError：在 repl 中，不能在表达式中使用纯语句。在 SyntaxError（未知来源）...**

但是 coffescript.org 的交互式编译器中的相同表达式编译得很好，正如我所期望的那样：

```
var i, _i;

for (i = _i = 0; _i <= 10; i = ++_i) {
  console.log(i);
  break;
} 
```

为什么咖啡不喜欢 () 在这里分组？

**UPD**

另一个奇怪的事情 - 它并不总是发生，有时，经过多次尝试和变化，coffee 开始正常编译完全相同的表达式，没有错误。

但似乎在交互模式下，咖啡总是失败。

我发现的另一件奇怪的事情——这个错误只有在我使用“break”关键字时才会发生。表达式 '(console.log i; i+1) for i in [0..5]' 工作得很好并返回一个数组。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T17:35:46.827

问题是 REPL 试图为您提供每个表达式的结果（并将其另存为`_`）。所以在内部，它正在编译

```
_ = ((console.log i; break) for i in [0..10]) 
```

这会破坏编译器，因为您不能`break`在列表理解中使用。

我建议`myfile.coffee`在您最喜欢的编辑器中创建并运行它 ( `coffee myfile.coffee`) 而不是使用 REPL。

# php - 从函数访问javascript数组

> ID：12725898
> 
> 赞同：0
> 
> 时间：2012-10-04T11:04:53.877
> 
> 标签：php, jquery

好的，所以在我的`<head>`部分中，我有以下内容：

```
<script>
    var userDefaultInfo = '<?=$userInfo;?>';
    var jGets = new Array ();
    <?
    if(isset($_GET)) {
        foreach($_GET as $key => $val)
            echo "jGets[\"$key\"]=\"$val\";\n";
    }
    ?>
</script> 
```

现在在我的外部 .JS 文件中，在 $(document).ready() 部分中，我可以正常访问 userDefaultInfo，但是，我正在尝试访问 jGets，但不能直接从那里访问。

在外部 .JS 文件中，在 $(document).ready() 之外；我有以下功能：

```
var sendGET = function () {
    var data = $(this).val();
    var elementName = $(this).attr("name");
    var url = "zephi.php?p=home/support/admin_support.php&"+elementName+"="+data;
    jQuery.each(jGets, function(i, val) {
           alert(val);
        });
    alert(url);
    window.location = url;
} 
```

当用户更改框时，此函数将触发并使用数据更改窗口位置。但是，我想在变量中添加数据`jGets`，但我似乎根本无法在其中引用它。

为什么是这样？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T11:11:56.357

您“错误”-将 an`Array`用作`Object`.

```
var jGets = {}; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T11:21:07.223

也许执行以下任一操作都可能有效：

```
echo 'var jGets = '.(isset($_GET) ? preg_replace('/^"|"$/','',json_encode($_GET)) : '{}').';'
//or
echo 'var jGets = JSON.parse('.isset($_GET) ? json_encode($_GET); : '"{}"'.');' 
```

这将产生一个对象字面量，分配你需要的一切`jGets`，而不必搞乱循环。由于`JSON`代表`JavaScript Object Notation`，因此使用它来相应地设置变量似乎是合乎逻辑/自然的。`json_encode` [在这里](http://www.php.net/json_encode)阅读更多信息，更多关于`JSON`PHP 的信息可以在[这里找到](http://www.php.net/json)

# arrays - Grails MongoDB ${it} 数组的前三个条目

> ID：12725901
> 
> 赞同：0
> 
> 时间：2012-10-04T11:04:59.957
> 
> 标签：arrays, mongodb, grails, each

经过一天的反复试验，也许有人可以给我一个提示来解决我的问题？

我的任务是使用 MongoDB 开发 Grails 应用程序的前端，我想表示只有 JSON 数组的前三个条目将作为 listpoints 在 div 中，而在另一个 div 中的下三个条目作为 li´s。

在以下示例中，他只是在 li`s 中添加了每个条目：

```
<g:each in="${profil.leistung}">
 <div>
 <li> ${it} </li>
</div>
</g:each> 
```

我尝试了几个东西，但没有得到它希望得到帮助，将在我的笔记本电脑上做很多后空翻来解决！约翰

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T11:34:02.493

我不确定 JSON 数组，但是对于普通数组或列表，您可以通过仔细使用切片来做到这一点：

```
<g:each var="chunk" in="${0..<(profil.leistung.size().intdiv(3) +
                               (profil.leistung.size() % 3 ? 1 : 0))}">
  <div>
    <ul>
      <g:each in="${profil.leistung[(chunk * 3)..<(Math.min(
                                  profil.leistung.size(), (chunk + 1) * 3))]}">
        <li>${it}</li>
      </g:each>
    </ul>
  </div>
</g:each> 
```

我在这里做的是计算出我们可以将列表分成多少个三个元素的块（最后一个块可能少于三个元素），然后每次通过外循环切出`3n`包含`3(n+1)`排他或结尾的元素列表（以先到者为准）。如果您知道您的列表长度将*始终*是三的整数倍，那么您可以删除边缘情况：

```
<g:each var="chunk" in="${0..<profil.leistung.size().intdiv(3)}">
  <div>
    <ul>
      <g:each in="${profil.leistung[(chunk * 3)..<((chunk + 1) * 3)]}">
        <li>${it}</li>
      </g:each>
    </ul>
  </div>
</g:each> 
```

# android - 用于 stream2android 的 UPnP 媒体服务器

> ID：12725904
> 
> 赞同：1
> 
> 时间：2012-10-04T11:05:10.297
> 
> 标签：android, upnp

我正在为 Android 开发 UPnP 实现。我已经下载了 MediaRenderer 代码[`stream2android`](http://code.google.com/p/stream2android/)。我编译了它，它工作正常。现在我想安装一个 MediaServer。我有几个问题。

1.  我应该为哪个 MediaServer 安装`stream2android`？
2.  服务器必须在 Android 设备上还是我也可以在其他 Linux 上安装它？
3.  我可以安装和基于 linux 的 MediaServer。

任何输入都会有所帮助。

编辑：-我还想问一件事，android框架已经有一些类

```
WifiP2pUpnpServiceInfo http://developer.android.com/reference/android/net/wifi/p2p/nsd/WifiP2pUpnpServiceInfo.html

WifiP2pUpnpServiceRequest http://developer.android.com/reference/android/net/wifi/p2p/nsd/WifiP2pUpnpServiceRequest.html 
```

所以我们可以直接使用这个类，而不是使用任何库。通过阅读这些课程并不是很清楚，我们如何使用它们。我不是要任何示例代码或其他东西，只是关于这些类的一些细节。

提前致谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T19:46:36.187

1.  `stream2android`仅是 MediaRenderer，您不能“为其安装 MediaServer”。它使用[讯](http://www.cybergarage.org/twiki/bin/view/Main/CyberLinkForJava)连科技Java 库提供基本的 UPnP 支持，并在其上构建了 MediaRenderer。如果您也想`stream2android`充当媒体服务器，您可以在讯连科技上自行实现。[在x360mediaserver](http://x360mediaserver.googlecode.com/svn-history/r26/trunk/cybergarage/org/cybergarage/upnp/media/server/MediaServer.java)上获得一个想法，它使用 Cyber​​Link 实现 MediaServer。

    或者，您可以安装[任何现有的 Android 媒体服务器](http://en.wikipedia.org/wiki/List_of_UPnP_AV_media_servers_and_clients#Android)。

2.  MediaServer 可以是任何能够进行 TCP 和 UDP 套接字通信的设备。它大致相当于一个网络服务器。所以它可以是您的 Android 设备，也可以是其他 Linux 设备。或窗户。或者塞班，如果你愿意。

3.  我不明白这个问题。

# iphone - 为通讯簿中的所有联系人创建单个 vcf 文件

> ID：12725912
> 
> 赞同：1
> 
> 时间：2012-10-04T11:05:36.147
> 
> 标签：iphone, objective-c, ipad

我想为通讯录中的所有联系人创建一个 Vcf 文件。目前我正在为单个联系人创建单个 vcf 文件。我不知道如何为通讯簿中的所有联系人创建单个 vcf 文件。我正在使用以下代码创建单个 vcf 文件。它返回单个 vcf 文件。+ (NSString *)generateVCardStringWithRec:(ABRecordRef)rec { [VCard setItemCounter:0];

```
//
ABContact *contact = [ABContact contactWithRecord:rec];

//
NSString *vcard = @"BEGIN:VCARD\nVERSION:3.0\n";

// Name
vcard = [vcard stringByAppendingFormat:@"N:%@;%@;%@;%@;%@\n",
         (contact.lastname ? contact.lastname : @""),
         (contact.firstname ? contact.firstname : @""),
         (contact.middlename ? contact.middlename : @""),
         (contact.prefix ? contact.prefix : @""),
         (contact.suffix ? contact.suffix : @"")
         ];

vcard = [vcard stringByAppendingFormat:@"FN:%@\n",contact.compositeName];
if(  contact.nickname ) vcard = [vcard stringByAppendingFormat:@"NICKNAME:%@\n",contact.nickname];
if(  contact.firstnamephonetic ) vcard = [vcard stringByAppendingFormat:@"X-PHONETIC-FIRST-NAME:%@\n",contact.firstnamephonetic];
if(  contact.lastnamephonetic ) vcard = [vcard stringByAppendingFormat:@"X-PHONETIC-LAST-NAME:%@\n",contact.lastnamephonetic];

// Work
if( contact.organization || contact.department ) vcard = [vcard stringByAppendingFormat:@"ORG:%@;%@\n",(contact.organization?contact.organization:@""),(contact.department?contact.department:@"")];
if( contact.jobtitle ) vcard = [vcard stringByAppendingFormat:@"TITLE:%@\n",contact.jobtitle];

// Mail
vcard = [vcard stringByAppendingString:[VCard toVcardField:@"email" items:contact.emailArray labels:contact.emailLabels]];

// Tel
vcard = [vcard stringByAppendingString:[VCard toVcardField:@"phone" items:contact.phoneArray labels:contact.phoneLabels]];

// Adress
vcard = [vcard stringByAppendingString:[VCard toVcardField:@"address" items:contact.addressArray labels:contact.addressLabels]];

// url
vcard = [vcard stringByAppendingString:[VCard toVcardField:@"url" items:contact.urlArray labels:contact.urlLabels]];

// IM
vcard = [vcard stringByAppendingString:[VCard toVcardField:@"im" items:contact.smsArray labels:contact.smsLabels]];

// birthday
NSDate *birthday = contact.birthday;
if (birthday)
{
    NSString *bday = [NSString stringWithFormat:@"%@",birthday];
    NSArray *bdayArr = [bday componentsSeparatedByString:@" "];
    bday = [bdayArr objectAtIndex:0];

    vcard = [vcard stringByAppendingFormat:@"BDAY;value=date:%@\n",bday];
}

// Photo
NSData *imageData = contact.thumbData;//contact.imageData;
if (imageData)
{
    vcard = [vcard stringByAppendingFormat:@"PHOTO;BASE64:%@\n",[imageData base64Encoding]];
}

// end
vcard = [vcard stringByAppendingString:@"END:VCARD"];

return vcard; 
```

}`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-05T12:10:10.000

现在很简单

```
 ABAddressBookRef addressBook = ABAddressBookCreate();
ABRecordRef defaultSource = ABAddressBookCopyDefaultSource(addressBook);
//----------------------------------------------- create vcf file------------------------------------------
CFArrayRef contacts = ABAddressBookCopyArrayOfAllPeople(addressBook);
CFDataRef vcards = (CFDataRef)ABPersonCreateVCardRepresentationWithPeople(contacts);
NSString *vcardString = [[NSString alloc] initWithData:(NSData *)vcards encoding:NSUTF8StringEncoding];
NSError *error;
NSFileManager *fileMgr = [NSFileManager defaultManager];
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
NSString *folderPath = [paths objectAtIndex:0];
NSString *filePath = [folderPath stringByAppendingPathComponent:@"contacts.vcf"];
[vcardString writeToFile:filePath atomically:YES encoding:NSUTF8StringEncoding error:nil];
NSLog(@"Documents directory: %@",[fileMgr contentsOfDirectoryAtPath: folderPath error:&error]);
//----------------------------------------------- create vcf file------------------------------------------ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-01-28T13:59:30.150

我知道这个问题很老，但是...要将多个联系人放入单个 vcf 文件中，您只需从文件的新行开始输出下一个联系人。只要每个联系人都在“BEGIN:VCARD”和“END:VCARD”之间，你应该没问题。

# php - 如何发布打开的按钮的值？

> ID：12725913
> 
> 赞同：0
> 
> 时间：2012-10-04T11:05:36.117
> 
> 标签：php, jquery

我需要帮助才能将正确的按钮发布到数据库中。但是我不知道在发布按钮的值时要调用什么 $_POST 方法。

我有一个应用程序，你可以[在这里查看](http://helios.hud.ac.uk/u0867587/Mobile_app/QandATable2.php)

请按照以下步骤使用应用程序：

1.  单击“Open Grid”链接并选择按钮“5”，您将看到下面出现5个按钮“AE”。
2.  单击按钮“A”和“C”，这些按钮将变为绿色，表示它们已打开。
3.  现在单击“添加问题”按钮将您所做的事情附加到下面的表格行中。
4.  现在请再次重复步骤 1-3，但这次选择按钮“7”，您将看到按钮“AG”，然后单击按钮“B”、“D”和“F”以打开这些按钮。

现在您将看到有 2 个表格行，第一个表格行打开了按钮“A”和“C”，第二行打开了按钮“B”、“D”和“F”。

我的问题是我如何只 $_POST 只打开那些按钮（在上面的示例中，它应该发布'A'和'C'，它应该发布'B'、'D'和'F'？什么是$_POST 方法我需要写吗？

下面是它在顶部控件和附加行中输出字母按钮的代码：

顶部控制中的字母按钮

```
<table id="optionAndAnswer" class="optionAndAnswer">
<tr>
      <th colspan="2">
        Option and Answer
    </th>
</tr>
        <?php
            $a = range("A","Z");
        ?>

        <table id="answerSection">
            <tr>

        <?php
            $i = 1;
            foreach($a as $key => $val){
                if($i%7 == 1) echo"<tr><td>";
                echo"<input type=\"button\" onclick=\"btnclick(this);\" value=\"$val\" id=\"answer".$val."\" name=\"answer".$val."Name\" class=\"answerBtns answers answerBtnsOff\">";      
                if($i%7 == 0) echo"</td></tr>";
                $i++;
            }
        ?>
            </tr>
            <tr>
        <td>
        <input class="answerBtns answers answerBtnsOff" name="answerTrueName"  id="answerTrue"  type="button"   value="True"    onclick="btnclick(this);"/>
        <input class="answerBtns answers answerBtnsOff" name="answerFalseName" id="answerFalse"     type="button"   value="False"   onclick="btnclick(this);"/>
        <input class="answerBtns answers answerBtnsOff" name="answerYesName"   id="answerYes"   type="button"   value="Yes"     onclick="btnclick(this);"/>
        <input class="answerBtns answers answerBtnsOff" name="answerNoName"    id="answerNo"        type="button"   value="No"      onclick="btnclick(this);"/>
        </td>
        </tr>
        </table>
</td>
</tr>
</table> 
```

下面是附加到每一行的字母按钮

```
 function insertQuestion(form) {   

                var context = $('#optionAndAnswer');
        var currenttotal = context.find('.answerBtnsOn').length;        

        var $tbody = $('#qandatbl > tbody'); 
        var $tr = $("<tr class='optionAndAnswer' align='center'>");
        var $td = $("<td class='extratd'>");
        var $answer = $("<div class='answer'>3\. Answer:<br/></div>");

    var $this, i=0, $row, $cell;
    $('#optionAndAnswer .answers').each(function() {
        $this = $(this);
        if(i%7 == 0) {
            $row = $("<tr/>").appendTo($answer);
            $cell = $("<td/>").appendTo($row);
        }
        var $newBtn = $("<input class='answerBtnsRow answers' type='button' style='display:%s;' onclick='btnclick(this);' />".replace('%s',$this.is(':visible')?'inline-block':'none')).attr('name', $this.attr('name')).attr('value', $this.val()).attr('class', $this.attr('class')).attr('id', $this.attr('id')+'Row');

        $newBtn.appendTo($cell);

        i++;
    });

        $tr.append($td);
        $td.append($answer);
        $tbody.append($tr); 

    } 
```

下面是打开和关闭按钮的 jquery 函数：

```
function btnclick(btn)
{
    var context = $(btn).parents('#optionAndAnswer');
    if (context.length == 0) {
        context = $(btn).parents('tr');
    }
    var $btn = $(btn);

$(btn).toggleClass("answerBtnsOff");
$(btn).toggleClass("answerBtnsOn");

    return false;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T13:54:10.840

作为我评论的后续行动，您可以尝试以下操作：

每次按下“答案”（其中一个数值）时，您都可以在表单中添加一个隐藏输入，其中包含该值和唯一标识符：

```
$('.answerBtns').on('click', function() {
    // when clicking an answer button, get the value, and id, since you'll need them
    var btn     = $(this);
    var value   = btn.val();
    var id      = btn.attr('id');

    // is the button pressed and turned on?
    if ($(this).hasClass('answerBtnsOff')) {
        // append those values to the form
        var input = '<input type="hidden" value="' + value + '" name="' + id + 'value" />';
        $('#QandA').append(input);

        // toggle the button
        btn.removeClass('answerBtnsOff').addClass('answerBtnsOn');

    // do the opposite - remove the input
    } else {
        $('#QandA').remove('#' + id + 'value');
        btn.removeClass('answerBtnsOn').addClass('answerBtnsOff');
    }

}); 
```

但是，您需要有某种方法来确定这些答案属于特定问题。例如，您将为每个发送的问题使用一个计数器并将其附加到字段的名称中，因此它最终类似于`answerBid1`第一个问题等。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T11:10:46.000

关闭字段时将[禁用](http://www.w3.org/TR/html401/interact/forms.html#h-17.12.1)属性添加到字段。

# iphone - 如何以编程方式将图像存储在 iPhone 应用程序的应用程序文件夹中？

> ID：12725914
> 
> 赞同：-3
> 
> 时间：2012-10-04T11:05:36.730
> 
> 标签：iphone, objective-c, ios5, xcode4.2

> **可能重复：**
> [从 iOS 上的 UIView 将图像保存到应用程序文档文件夹](https://stackoverflow.com/questions/6821517/save-an-image-to-application-documents-folder-from-uiview-on-ios)

我想以编程方式将图像存储在我的应用程序文件夹中，由 UIImagePiker（相机或相册）拍摄。我是iOS编程的初学者。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T11:13:16.157

保存图像：

```
-(void)saveImage:(UIImage*)image
{
    NSString  *imagePath = [NSHomeDirectory() stringByAppendingPathComponent:@"Documents/aName.png"];

   [UIImagePNGRepresentation(image) writeToFile:imagePath atomically:YES];

} 
```

# session - SQLAlchemy 会话：如何使其保持活力？

> ID：12725916
> 
> 赞同：0
> 
> 时间：2012-10-04T11:05:39.280
> 
> 标签：session, transactions, sqlalchemy, python-3.2

我有一个会话对象，它被传递了很多，并且在某些时候调用了以下代码行（这是不可避免的）：

```
import transaction
transaction.commit() 
```

这使会话无法使用（我认为通过关闭它）。

我的问题分为两部分：

1.  如何检查会话是否仍然有效？
2.  有没有一种快速的方法来恢复死掉的会话？

对于 2：我目前知道的唯一方法是使用 sqlalchemy.orm.scoped_session，然后多次调用 query(...)get(id) 来重新创建必要的模型实例，但这似乎非常低效。

**编辑**

以下是导致错误的事件序列示例：

```
modelInstance = DBSession.query(ModelClass).first()
import transaction
transaction.commit()
modelInstance.some_relationship 
```

这是错误：

```
sqlalchemy.orm.exc.DetachedInstanceError: Parent instance <CategoryNode at 0x7fdc4c4b3110> is not bound to a Session; lazy load operation of attribute 'children' cannot proceed 
```

我真的不想关闭延迟加载。

**编辑**

在这种情况下，DBSession.is_active 似乎没有表明会话实际上是否还活着并且运行良好：

```
transaction.commit()
print(DBSession.is_active) 
```

这打印真...

**编辑** 这对于评论来说似乎太大了，所以我把它放在这里。

zzzeek 说：“一个过期的对象会通过 Session 自动从数据库中加载新的状态，只要你访问它上面的任何东西，所以没有必要告诉 Session 在这里做任何事情。”

那么我如何让事情以这种方式发生呢？调用 transaction.commit 是错误的，正确的方法是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T15:02:53.537

所以这里首先要观察的是“导入事务”是一个名为[zope.transaction](http://pypi.python.org/pypi/transaction)的包。这是一个通用事务，它通过 zope.sqlalchemy 扩展持有任意数量的子任务，其中 SQLAlchemy 会话就是其中之一。

zope.sqlalchemy 在这里要做的是调用 Session 本身的 begin()/rollback()/commit() 方法，以响应它自己对“事务”的管理。

Session 本身的工作方式几乎总是可以使用，即使它的内部事务已经提交。发生这种情况时，下一次使用时的会话将继续进行，如果它处于 autocommit=False 则开始一个新事务，或者如果 autocommit=True 它继续以“自动提交”模式。基本上它是自动恢复活力的。

Session 无法继续的一次是刷新失败，并且没有调用 rollback() 方法，当处于 autocommit=False 模式时，Session 希望您在 flush() 时显式执行失败。要查看 Session 是否处于此特定状态，在这种情况下 session.is_active 属性将返回 False。

我不是 100% 确定在使用 zope.transaction 时继续使用 Session 的含义是什么。我认为这取决于您如何在更大的方案中使用 zope.transaction 。

这将我们引导到许多这些问题的地方，这就是你真正想要做的事情。就像，“重新创建必要的模型实例”不是 Session 所做的事情，除非您指的是已过期的*现有实例（它们的胆量被清空）。*过期的对象将通过 Session 自动从数据库中加载新状态，只要您访问它上面的任何内容，因此无需告诉 Session 在这里做任何事情。

当然，甚至可以完全关闭自动过期，但您甚至在这里遇到问题意味着某些事情无法正常工作。就像您收到一些错误消息一样。需要更多详细信息才能准确了解您遇到的问题。

# objective-c - 不使用 NSDateFormatter 将日期转换为字符串

> ID：12725920
> 
> 赞同：3
> 
> 时间：2012-10-04T11:05:57.323
> 
> 标签：objective-c, iphone, nsstring, nsdate

如何在不使用的情况下转换`NSDate`为？`NSString``NSDateFormatter`

供您参考我的代码如下，我将它用于我的提醒应用程序。

太感谢了。

```
 NSCalendar *calendar = [NSCalendar autoupdatingCurrentCalendar];

// Get the current date
NSDate *pickerDate = [self->dp date];

// Break the date up into components
NSDateComponents *dateComponents = [calendar components:( NSYearCalendarUnit | NSMonthCalendarUnit |  NSDayCalendarUnit )
                                               fromDate:pickerDate];
NSDateComponents *timeComponents = [calendar components:( NSHourCalendarUnit | NSMinuteCalendarUnit | NSSecondCalendarUnit )
                                               fromDate:pickerDate];

// Set up the fire time
NSDateComponents *dateComps = [[NSDateComponents alloc] init];
[dateComps setDay:[dateComponents day]];
[dateComps setMonth:[dateComponents month]];
[dateComps setYear:[dateComponents year]];
[dateComps setHour:[timeComponents hour]];
// Notification will fire in one minute
[dateComps setMinute:[timeComponents minute]];
[dateComps setSecond:[timeComponents second]];
NSDate *itemDate = [calendar dateFromComponents:dateComps];
[dateComps release]; 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T11:15:58.660

根据您的问题，您可以通过这种方式获得它-

```
NSString *stringDate = [NSString stringWithFormat:@"%@",pickerDate];
NSLog(@"%@",stringDate);

NSString *stringDate = [pickerDate description];
NSLog(@"%@", stringDate); 
```

你也可以`NSString`通过使用获得`NSDateFormatter`为什么你会害怕使用它？

```
NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
[dateFormatter setDateFormat:@"dd/MM/yyyy"];

NSString *stringDate = [dateFormatter stringFromDate:pickerDate];  
NSLog(@"%@", stringDate); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-10-04T11:38:51.207

伙计们，阅读[NSDate 的文档](https://developer.apple.com/library/ios/#documentation/Cocoa/Reference/Foundation/Classes/NSDate_Class/Reference/Reference.html)，大声哭泣吧！！！

> 描述
> 
> 返回接收者的字符串表示形式。
> 
> `- (NSString *)description`
> 
> 返回值
> 
> 接收器的字符串表示形式。
> 
> 讨论
> 
> **不保证表示在操作系统的不同版本中保持不变。要格式化日期，您应该使用日期格式化程序对象（请参阅 NSDateFormatter 和数据格式化指南）**

还应该明白，当你这样做的时候`[NSString stringWithFormat:@"%@", something]`，发生的是`%@`格式化后面的代码调用`description`了`something`. 对于 NSString 对象，该`description`方法被定义为可靠地返回字符串值，但对于所有其他 Cocoa 类`description`，仅用于诊断用途。

NSDateFormatter 的另一种替代方法（除了向后的 NSCalendar 方案）是自己破解日期——实际上并不难，至少是一个有趣的练习。

[如果您想尝试自己破解日期，请使用`timeIntervalSinceReferenceDate`，它返回一个 NSTimeInterval 对象（实际上只是一个 typecast `double`），它表示自 2001 年 1 月 1 日以来的秒数（之前的日期为负数）。该值将是 UTC，因此如果您需要本地时间，请添加/减去任何时区偏移量，然后开始使用模算术。您可以轻松地将其设置为毫秒、秒、分钟和小时，以及“自 2001 年 1 月 1 日以来的天数”值。从那里转换为日/月/年需要考虑，但并不是非常困难，尤其是如果您将自己限制在 1900 年之后的日期。]

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T11:24:42.407

我正在使用它并仅作为**字符串**保存到数据库中。

```
NSDateFormatter *dateFormatter = [[[NSDateFormatter alloc] init] autorelease];
[dateFormatter setDateFormat:@"EEE, d MMM yyyy HH:mm:ss z"];

NSString *dateString = [dateFormatter stringFromDate:[NSDate date]];  
NSLog(@"Current time date:%@", dateString); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-06-27T07:15:30.127

根据您的问题，您可以通过这种方式获得它-

```
NSString *stringDate = [NSString stringWithFormat:@"%@",pickerDate];
NSLog(@"%@",stringDate);

NSString *stringDate = [pickerDate description];
NSLog(@"%@", stringDate); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2017-08-25T18:17:54.377

```
NSDate *date = [NSDate date];
NSDateFormatter *dateFormatter = [NSDateFormatter alloc] init];
[dateFormatter setDateFormat:@"EEE, d MMM yyyy HH:mm:ss z"];
NSString *dateString = [dateFormatter stringFromDate:date];
NSLog(@"Current time date:%@", dateString); 
```

# ssl - 拼写检查：微型 MCE 编辑器

> ID：12725921
> 
> 赞同：0
> 
> 时间：2012-10-04T11:05:58.290
> 
> 标签：ssl, editor, tinymce

我在输入一些文本并单击 tinyMCE 编辑器中的拼写检查图标时收到此错误。

错误响应：

```
Warning: fsockopen(): php_network_getaddresses: 
getaddrinfo failed: Temporary failure in name resolution in 
/home/web/rattspar.se/scripts/tiny_mce/plugins/spellchecker/classes/GoogleSpell.php 
on line 86 Warning: fsockopen(): unable to connect to 
ssl://www.google.com:443 (php_network_getaddresses: getaddrinfo failed: 
Temporary failure in name resolution) in 
/home/web/rattspar.se/scripts/tiny_mce/plugins/spellchecker/classes/GoogleSpell.php
on line 86 Could not open SSL connection to google.{"id":null,"result":[],"error":null} 
```

帮帮我/乌代

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-23T10:41:36.290

嗨，我终于得到了答案。我们必须取消注释行 extension=php_curl.dll 和 extension=php_openssl.dll 在 php.ini 中，然后重新启动服务器。;-)

# ruby - 如何为字符串定义自定义转义序列，然后解析它？

> ID：12725926
> 
> 赞同：1
> 
> 时间：2012-10-04T11:06:16.460
> 
> 标签：ruby, regex, escaping, character, special-characters

我正在编写一个简单的 Ruby on Rails 应用程序。我有一个带有“描述”属性的模型，它是一个字符串。

我想在视图中显示此字符串，但字符串中的*某些*单词使用特殊的音乐字体（位于[此处](http://tagg.org/zmisc/fonts.html)的字体之一）呈现，其余的则使用网站的主要字体。问题是，由于描述属性只是一个持久化到数据库中的字符串，没有真正的方法来判断哪些单词应该使用特殊字体......

我能想到的唯一方法是定义我自己的“转义序列”或“特殊字符”，这将允许我向视图指示一个单词是否应该使用特殊字体。

例如，假设我有以下字符串：

```
cat dog rabbit elephant 
```

如果我想让“dog”和“elephant”使用特殊字体，我可以将字符串存储在数据库中：

```
cat ${dog} rabbit ${elephant} 
```

换句话说，使用 "${}" 作为自定义转义序列。

然后在我看来，我将有一个辅助方法来处理字符串，并为使用转义序列的单词生成适当的 HTML/CSS。例如，这是我希望它产生的那种输出：

```
<p>cat <span class="music">dog</span> rabbit <span class="music">elephant</span></p> 
```

这似乎是一个合理的解决方案？如果是这样，我将如何实现视图方法来解析字符串和转义字符？我猜是某种正则表达式？

*在某种程度上，它有点类似于 LaTeX 允许您渲染数学方程式的方式。例如，在 LaTeX 中，要激活特定字符的数学字体，您可以执行以下操作：*

```
 \mathnormal{some text} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T13:55:57.090

You could just store the html snippet directly in your database.

```
<p>cat <span class="music">dog</span> rabbit <span class="music">elephant</span></p> 
```

Otherwise, you would have to remake the HTML string every time it was requested.

If that's not an option, you could use a simple regex to replace the `${}` with an html snippet.

```
string = "cat ${dog} rabbit ${elephant}"
string.gsub /\$\{([^\}]+)\}/, '<span class="music">\1</span>'

    => "cat <span class=\"music\">dog</span> rabbit <span class=\"music\">elephant</span>" 
```

# c# - c#excel如何改变特定行的颜色

> ID：12725927
> 
> 赞同：10
> 
> 时间：2012-10-04T11:06:16.927
> 
> 标签：c#, excel, colors, row, cell

我想问你们，如果单元格1不为空，如何在Excel表格中将一行的颜色更改为红色。

```
XX     YY     ZZ
-----------------
aa     bb     cc
aa1    bb1    cc1
aa2           cc2
aa3    bb3    cc3
aa4 
```

* * *

```
Excel.Application xlApp;
Excel. Workbook xlWorkBook;
Excel.Worksheet xlWorkSheet; 
```

我非常感谢

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-10-04T13:06:13.723

试一试，我已经对其进行了测试，并且可以正常工作：

```
Excel.Application application = new Excel.Application();
Excel.Workbook workbook = application.Workbooks.Open(@"C:\Test\Whatever.xlsx");
Excel.Worksheet worksheet = workbook.ActiveSheet;

Excel.Range usedRange = worksheet.UsedRange;

Excel.Range rows = usedRange.Rows;

int count = 0;

foreach (Excel.Range row in rows)
{
    if (count > 0)
    {
        Excel.Range firstCell = row.Cells[1];

        string firstCellValue = firstCell.Value as String;

        if (!string.IsNullOrEmpty(firstCellValue))
        {
            row.Interior.Color = System.Drawing.Color.Red;
        }
    }

    count++;
}

workbook.Save();
workbook.Close();

application.Quit();

Marshal.ReleaseComObject(application); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2017-11-11T04:39:45.660

```
Excel.Application xlAppToExport = new Excel.Application();
xlAppToExport.Workbooks.Add("");
Excel.Worksheet xlWorkSheetToExport = default(Excel.Worksheet);
xlWorkSheetToExport = (Excel.Worksheet)xlAppToExport.Sheets["Sheet1"];

xlWorkSheetToExport.Range["A5:F5"].EntireRow.Interior.Color = System.Drawing.Color.Gray; 
```

# ruby-on-rails - Ruby on Rails：如何对人员和组织进行建模？

> ID：12725929
> 
> 赞同：0
> 
> 时间：2012-10-04T11:06:19.967
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3

我目前正在构建一个 Rails 应用程序，其中一个**User**可以有很多**Persons**，而这些 Persons 又可以有很多**Projects**。

这很好用。

现在我的问题是，有些人可能属于同一个组织，而另一些人可能根本不属于*任何*组织。

根据我目前所了解的情况，将与组织有关的所有信息移动到单独的表/模型中会很好。（如果我错了，请纠正我。）但是如果一个人不属于任何组织，即私人，会发生什么？这一切如何在 Rails 中建模？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T11:13:51.863

您的问题是不是很简单，您有可能属于或不属于某个组织的人。现在你将如何设置它？

现在，正如您所说，您将在单独的表中移动*组织*`organizations`相关数据，例如。你的`persons`（或`people`？）应该包含一个`organization_id`. **如果此人不属于任何组织**，则**它将为空**。模型关系会有点像。

```
class Person < AR::Base
    belongs_to :organization
end

class Organization < AR::Base
    has_many :persons #or people?
end 
```

我在这里跳过了与`User`和`Project`模型的关系。如果我错过了您问题的任何部分，请告诉我。

* * *

**更新：** *根据您的最后评论*
让我们列出您的场景：

1.  个人和组织都可以有地址。
2.  如果一个人不属于组织，那么这个人可能有自己的地址。
3.  如果他属于某个组织，那么他的地址实际上就是该组织的地址。或者可能有自己的地址。

如果`address`是唯一在个人和组织中重复的内容，那么最好将其移到单独的表格中`addresses`。

**组织：** `has_one :address`
**人：** `has_one :address`

* * *

**更新 2：**

因为事情有点像

*   如果人属于组织，则`person.address`返回组织的地址。
*   否则`person.address`会返回自己的地址。

那么我更喜欢以下方法来保持简单。在模型中添加`current_address` *（或任何首选名称）*方法`Person`。

```
def current_address
    return organization.address if organization
    return address
end 
```

打电话`person.current_address`而不是`person.address`通过决定。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T11:21:58.563

据我了解情况：

![情况](../Images/72bcdc2d892cb87ef32e3b23f42e7b3a.png)

您可以通过这种方式将这种情况转换为 Rails：

```
class Organisation < ActiveRecord::Base
  has_many :persons
end

class Person < ActiveRecord::Base
  belongs_to :user
  belongs_to :organisation
end

class User < ActiveRecord::Base
  has_many :persons
end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T11:21:52.837

试试这个可能对你有帮助

```
class Person < ActiveRecord::Base
 belongs_to :organization
end
class Organization < ActiveRecord::Base
 has_many :persons 
end 
```

如果人员属于组织，则在组织表中给出 person_id，否则如果人员不属于组织，则在组织表中 person_id 为 nil。以便

```
in your console
-> product = @product.organization  
    # if person_id given then you get result
    # if person_id does not given then get null or blank 
```

# jquery - 基于屏幕分辨率的背景图像 x 位置

> ID：12725930
> 
> 赞同：0
> 
> 时间：2012-10-04T11:06:24.400
> 
> 标签：jquery, css, positioning

我需要在屏幕中央放置一个背景图像 + 基于屏幕分辨率的一些偏移量，以使其与设计元素一起使用。这是我到目前为止所拥有的：

```
var viewportWidth = jQuery(window).width();
jQuery('.home #container').css('background-position-x', viewportWidth/2); 
```

我现在想知道的是如何根据屏幕大小来偏移背景图像。

**编辑：改写。**

我需要根据屏幕宽度（在渲染时）将背景图像放置在屏幕中央，以使其与我完成的设计一起使用。这是我到目前为止所拥有的：

```
var viewportWidth = jQuery(window).width();
jQuery('.home #container').css('background-position-x', viewportWidth/2); 
```

然后，我需要根据某人正在使用的任何监视器稍微偏移该背景图像，例如：

1024 个显示器：背景位置-x：中心 + 24

1152 个显示器：背景位置-x：中心 + 32

1400 个显示器：背景位置-x：中心 + 102

类似的东西。

非常感谢！

# ios - UIbutton 花时间在 iOS5 上的 UISCrollView 中接收向下事件

> ID：12725940
> 
> 赞同：0
> 
> 时间：2012-10-04T11:07:20.357
> 
> 标签：ios, ios5

我有以下层次结构：

```
- UIView 1
  - UIScrollView 2
    - UIView 3
      - UIView 4
        - UIButton 5 
```

我的问题是 UIButton 上的触地需要我按下似乎很长一段时间（如一秒钟）才能被 UIButton 注册。

创建此层次结构的方式：UIView1 是从嵌入 2 和 3 的 nib 文件加载的，但 4 是从另一个 nib 文件创建的，首先放置在此处未描述的一个视图中，然后使用 addsubview 引入 3。（我不知道这是否相关）。

有人对如何解决此延迟有任何想法吗？问题出现在我使用 ios5.1 的 4s 上，而不出现在使用 iOS 6 的模拟器上。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T12:22:35.727

尝试将 UIScrollView delaysContentTouches 属性设置为 NO。

或者

尝试使用 [button performSelector:@selector(buttonClickMethod:) afterDelay:0.0];

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T12:11:01.977

```
@interface CustomScrollView : UIScrollView {

}

@end

@implementation CustomScrollView

- (id)initWithFrame:(CGRect)frame {
    if ((self = [super initWithFrame:frame])) {
        // Initialization code
    }
    return self;
}

- (void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event
{
    [[self superview] touchesEnded:touches withEvent:event];
}

- (void)touchesBegan:(NSSet *)touches withEvent:(UIEvent *)event {

    [[self superview] touchesBegan:touches withEvent:event];
}
- (void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event {

    [[self superview] touchesMoved:touches withEvent:event];

}

- (void)dealloc {
    [super dealloc];
}

@end 
```

使用 customscrollview 而不是 uiscrollview

# mpmovieplayercontroller - MPMoviePlayerController 的 IOS 6 问题

> ID：12725941
> 
> 赞同：4
> 
> 时间：2012-10-04T11:07:24.670
> 
> 标签：mpmovieplayercontroller, ios6

请检查以下代码：

```
(void) moviePlayerDidExitFullscreen:(NSNotification*)notification 
{

 MPMoviePlayerController *player = [notification object];

[[NSNotificationCenter defaultCenter] removeObserver:self     

name:MPMoviePlayerDidExitFullscreenNotification
                                                  object:player];

 [player setControlStyle:MPMovieControlStyleNone]; 

    if (isPlaying)
    {
        [self stopCurrentMoviePlayer];
    }
} 
```

问题是这在 IOS 5 中完美运行，但在 IOS 6 更新 iPad3 中不起作用。

视频播放完成后电影播放器​​没有关闭，我每次都需要单击完成按钮才能关闭电影播放器​​。

任何人都可以为这个问题提供解决方案吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-10-11T21:06:14.917

点击完成将调用moviePlayerDidExitFullscreen

但是，如果您让电影正常完成，则调用moviePlaybackDidFinish，但由于IOS 6，它不会让您退出全屏模式。所以解决方法是添加 player.fullscreen = FALSE; 在调用 [player.view removeFromSuperview] 之前；

# asp.net - 在 sql server 数据库中存储 asp.net 缓存

> ID：12725942
> 
> 赞同：1
> 
> 时间：2012-10-04T11:07:25.740
> 
> 标签：asp.net, database, caching

我们的项目使用`HttpRuntime.Cache.Get`and`HttpRuntime.Cache.Insert`来存储和检索缓存中的数据。

是否可以将此缓存存储在 SQL Server 数据库中？

通过数据，我指的是各种不同的对象类型。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T11:44:12.523

HttpRuntime Cache 绑定到当前应用的appdomain，你可以控制它的存储方式。它对缓存进行智能管理，例如在内存不足时在缓存中的生命周期结束之前清除对象。在内存中缓存的主要目的是快速访问缓存对象。您无法控制数据的存储位置或方式。

如果您出于某种原因将数据存储在进程之外，则可以实现自己的缓存。

```
public class DatasetStore : MarshalByRefObject
{
   // A hash table-based data store
   private Hashtable htStore = new Hashtable();
   //Returns a null lifetime manager so that GC won't collect the object 
   public override object InitializeLifetimeService() {  return null; }

   // Your custom cache interface
} 
```

例如，您可以在多个应用程序域之间共享此缓存。

[MSDN 理解缓存技术](http://msdn.microsoft.com/en-us/library/ee817647.aspx)

# android - 在画布上拖动图像？

> ID：12725953
> 
> 赞同：0
> 
> 时间：2012-10-04T11:08:00.520
> 
> 标签：android, drawing, android-canvas

我正在画布上工作，用户可以在画布上绘制和放置图像。我实现了用户可以用他的手指在画布上画一些东西。我的问题是，用户想要在画布上拖动图像到用户想要放置的特定位置并继续在画布上绘图。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T12:13:53.053

`MotionEvent.ACTION_DOWN`检查触摸是否在图像/位图上

在`MotionEvent.ACTION_MOVE`您更改左侧和顶部变量期间

`public void drawBitmap (Bitmap bitmap, float left, float top, Paint paint)`

然后在`MotionEvent.ACTION_UP`你发布图片

# ios - 选择带有 GWT 鼠标事件的 HTML 中的文本

> ID：12725954
> 
> 赞同：0
> 
> 时间：2012-10-04T11:08:09.233
> 
> 标签：ios, gwt, mouseevent, selection

我有`<div>`一些文本，我希望用户能够本地选择文本。问题是当我将任何鼠标事件处理程序附加到元素或其父元素（除了文档元素）时，选择将不再起作用。

这可以在下面链接的网站上观察到。如果您接收鼠标事件，则选择不适用于第一行。

[http://rafalrybacki.com/lab/selection_ios/](http://rafalrybacki.com/lab/selection_ios/)

单击“接收鼠标事件”后会发生什么：

```
main.sinkEvents(Event.MOUSEEVENTS); 
```

用iOS5检查。

我想让文本选择工作（保持鼠标事件）。这个怎么做？

# php - windows phone7，我想使用 PHP 页面发布我的数据。

> ID：12725959
> 
> 赞同：1
> 
> 时间：2012-10-04T11:08:28.093
> 
> 标签：php, windows-phone-7, http-post

我的php代码是

```
<?php
    $id = $_GET['id'];

    define("__ZBXE__", true);
    include("../../files/config/db.config.php");
    $connect = @mysql_connect(localhost, kah601, kah909090);
    @mysql_select_db("kah601", $connect);
    @mysql_query("set names utf8");

$name = $_POST['name'];
$name = $_POST['ox_score'];
$name = $_POST['between_score'];
$name = $_POST['order_score'];
$name = $_POST['total_score'];

$sql = sprintf("INSERT INTO `jp_mango` (`name`, `ox_score`, `between_score`, `order_score`, `total_score` ) VALUES ('%s', '%s', '%s', '%s' , '%s');",$name, $ox_score, $between_score, $order_score, $total_score); 

$result = mysql_query($sql, $connect);

mysql_close();

?> 
```

我应该上传 5 个数据（名称、ox_score、between_score、order_score、total_score）。

我参考堆栈溢出制作了这段代码。但我不能发布数据。当我看到加载页面时，显示如下。（num 是自动递增的）

```
"num":"8","name":"","ox_score":"","between_score":"","order_score":"","total_score":"" 
```

我怎样才能发布这种数据？请帮帮我。

```
string sendData = "";
            Uri site = new Uri("http://kah601.cafe24.com/jp_mango_writeboard.php");
            WebClient wc = new WebClient();
            wc.Headers[HttpRequestHeader.ContentType] = "application/x-www-form-urlencoded";
            sendData += "name=hello";
            sendData += "ox_score=10";
            sendData += "between_score=10";
            sendData += "order_score=10";
            sendData += "total_score=30";
            wc.Headers[HttpRequestHeader.ContentLength] = sendData.Length.ToString();
            wc.UploadStringCompleted += new UploadStringCompletedEventHandler(wc_UploadStringCompleted);
            //wc.UploadStringAsync(site, "POST", post_name, "name");
            wc.UploadStringAsync(site, "POST", sendData); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T11:30:29.963

您还必须像这样修改字符串格式

```
sendData += "name=hello";
sendData += "&ox_score=10";
sendData += "&between_score=10";
sendData += "&order_score=10";
sendData += "&total_score=30"; 
```

即添加'&'

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T11:14:47.710

我你有这样的数据

```
"num":"8","name":"","ox_score":"","between_score":"","order_score":"","total_score":"" 
```

比你应该使用

```
 $newdata=json_decode($_POST['data']);

$name=$newdata->name;
$ox_store=$newdara->ox_score;
//and more... 
```

# javascript - 脚本在 Chrome 中运行，但不在 firefox 中运行

> ID：12725960
> 
> 赞同：1
> 
> 时间：2012-10-04T11:08:34.053
> 
> 标签：javascript

我正在使用实体框架和 MVC3，我在视图中使用了以下 Jscript。

该脚本在 Crome 浏览器中完美运行，但不能在 firefox 浏览器（v 15.0.1）中运行...怎么办？

```
<script type="text/javascript">

    $(document).ready(function () {

        $('.RemarkBox').hide();

        $('a.addremark').click(function () {

            var url="@Html.Raw(Url.Action("ShowCommentBox", "Comment", new { Id = "idValue", EntityType = "Location" }))";

            url=url.replace("idValue",event.target.id);
            $('.RemarkBox').load(url);

            $(this).closest('div').find('div.RemarkBox').slideToggle();
            return false;
        });
     });

</script> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T11:17:25.430

将事件参数放在参数中，即：

```
$('a.addremark').click(function (event) { 
```

# c# - 在.Net c#中编辑Crystal Report 8.5文件

> ID：12725966
> 
> 赞同：0
> 
> 时间：2012-10-04T11:08:51.643
> 
> 标签：c#, .net, crystal-reports, unmanaged, crystal-reports-8.5

我有 2 个应用程序：

第一个应用程序通过命令行向第二个应用程序发送参数，例如报告文件名，报告参数。然后第二个应用程序显示准备好的报告。

现在我想更改一些报告字段。我在第一个应用程序中的代码：

```
ReportDocument rDoc = new ReportDocument();
rDoc.Load(@"D:\reports\report_1.rpt");
rDoc.Database.Tables[0].Location = "newDBName.schema.oldTableName";
rDoc.SaveAs(@"D:\reports\report_1_modif.rpt",ReportFileFormat.VSNetFileFormat); 
```

我想修改 rpt 文件，因为我想从存档数据库中获取数据。“CrystalDecisions.CrystalReports.Engine”参考版本为9.1.5000.0。因此，由于版本不兼容，第二个应用程序无法使用修改后的 rpt 文件。第二个应用程序只能使用 8.5 文件格式。

当我在 CR Developer 中打开 rpt 文件时，我可以手动更改位置并以 8.5 文件格式保存。在这种情况下，第二个程序通常适用于修改后的文件。

所以我的问题是：“如何在 .Net C# 中打开 rpt 文件 8.5，用另一个名称修改并保存为 8.5 格式？”。也许我应该使用一些非托管代码？

Crystal Reports 8.5 于 2001 年发布。.Net 于 2002 年发布。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-10T04:32:55.790

我解决了问题。我的做法：

1.  在 C# 代码中，我们在每个用户单击“显示报告”后更新 DB 中的同义词集。更新后，每个同义词仍然具有相同的名称，但遵循不同数据库中的另一个表。
2.  我们手动修改了 CR 8.5 文件：a) 将连接类型更改为 OLE DB（本机 SQL 客户端），因为 ODBC 层不支持同义词 b) 将同义词设置为表位置而不是完整表名。
3.  任务解决！

UPD。我们需要 p2soledb.dll 来使用 OLE DB。

# javascript - Json 响应未定义

> ID：12725968
> 
> 赞同：0
> 
> 时间：2012-10-04T11:09:01.803
> 
> 标签：javascript, json, jquery

这让我发疯了，我浏览了我在谷歌和这里看到的每一篇文章，两天后，101 个变种之后我仍然没有进一步前进。

成功 201 完美运行，我收到绑定项目的警报。404 根本不起作用，无论我尝试什么，ErrorDesc 始终未定义。我已经让它可以使用固定字符串命中这个 404 函数，但我希望用户知道为什么会出现错误。

我用 fiddler 来查看请求和响应。看起来不错，请求和响应都是格式良好的 JSON：

原始请求：

```
{"Bedrooms":"3","BuildingsAD":"Yes","BuildingsMD":"No","BulidingSI":"100000","ContentsAD":"No","ContentsMD":"No","ContentsPOL":"No","ContentsSI":"5000","EffectiveDate":"03/10/2012 23:40:10","EL":"N","MD":"No","NCD":"1","POL":"No","PropType":"Terraced","RiskPostcode":"SW19 1TS","SchemeRef":"20","TA":"No","TenantTheft":"No","TenantType":"Professional","Theft":"No","TransactionDate":"03/10/2012 23:40:10","VolExcess":"250","YearBuilt":"2000 +","ErrorDesc":"123"}

Raw Response:

{"RatingId":"f5733e9d-bc9d-4026-8d5f-ce4f750a3a42","SchemeRef":"20","EffectiveDate":"03/10/2012 23:40:10","TransactionDate":"03/10/2012 23:40:10","Bedrooms":"3","BuildingsAD":"Yes","BuildingsMD":"No","BulidingSI":"100000","ContentsAD":"No","ContentsMD":"No","ContentsPOL":"No","ContentsSI":"5000","EL":"N","MD":"No","NCD":"1","POL":"No","PropType":"Terraced","RiskPostcode":"SW19 1TS","TA":"No","TenantTheft":"No","TenantType":"Professional","Theft":"No","VolExcess":"250","YearBuilt":"2000 +","Error":true,"ErrorDesc":"Rating Sheet not found"}

    <script type="text/javascript">

        function CalcRating() {
            //create a Json object based on data entered by user
            var RatingItems = {
                AD: $("#AD").val(),
                AdminFee: $("#AdminFee").val(),
                Bedrooms: $("#Bedrooms").val(),
                BuildingsAD: $("#BuildingsAD").val(),
                BuildingsMD: $("#BuildingsMD").val(),
                BuildingsPremium: $("#BuildingsPremium").val(),
                BulidingSI: $("#BulidingSI").val(),
                ContentsAD: $("#ContentsAD").val(),
                ContentsMD: $("#ContentsMD").val(),
                ContentsPOL: $("#ContentsPOL").val(),
                ContentsPremium: $("#ContentsPremium").val(),
                ContentsSI: $("#ContentsSI").val(),
                EffectiveDate: $("#EffectiveDate").val(),
                EL: $("#EL").val(),
                IPT: $("#IPT").val(),
                MD: $("#MD").val(),
                NCD: $("#NCD").val(),
                POL: $("#POL").val(),
                PropType: $("#PropType").val(),
                RatingId: $("#RatingId").val(),
                RiskPostcode: $("#RiskPostcode").val(),
                SchemeRef: $("#SchemeRef").val(),
                TA: $("#TA").val(),
                TenantTheft: $("#TenantTheft").val(),
                TenantType: $("#TenantType").val(),
                Theft: $("#Theft").val(),
                TransactionDate: $("#TransactionDate").val(),
                TotalPremium: $("#TotalPremium").val(),
                VolExcess: $("#VolExcess").val(),
                YearBuilt: $("#YearBuilt").val(),
                ErrorDesc: "123"
            };
            //call jQuery Ajax method which calls Json.stringify method to convert
            //the Json object into string and send it with post method
            $.ajax({
                url: "/api/qsletpropertyom",
                data: JSON.stringify(RatingItems),
                type: "POST",
                contentType: "application/json;charset=utf-8",
                statusCode: {
                    201: function (result) {
                        alert("Total Premium: " + result.TotalPremium + ", Total Buildings Premium " + result.BuildingsPremium + ", Total Contents Cover " + result.ContentsPremium + ", Admin Fee " + result.AdminFee);
                    },
                    404: function (result1) {

                        alert(result.ErrorDesc);

                    },
                    500: function (result2) {
                        alert("Unknown Error");
                    }

                }
            });
        } 
```

请让我知道我的方式的错误！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T11:57:54.663

首先，您`result.ErrorDesc`可能在预期的时候使用`result1.ErrorDesc`- 但我猜这只是一个错字。

其次，如果我猜对了，您想在 ajax 命中 404（找不到页面）时向用户显示错误描述？如果是这样，很可能您将无法这样做，因为没有数据传递给您的 404 处理程序。

也许您正在寻找其他类似`error`ajax 的选项 (http://api.jquery.com/jQuery.ajax/)。

来自 jQuery 文档：`error`“如果请求失败，则调用一个函数。该函数接收三个参数：jqXHR（在 jQuery 1.4.x 中，XMLHttpRequest）对象，一个描述发生的错误类型的字符串和一个可选的异常对象，如果发生了一次。第二个参数（除了 null）的可能值是“timeout”、“error”、“abort”和“parsererror”。当发生 HTTP 错误时，errorThrown 接收 HTTP 状态的文本部分，例如“ “未找到”或“内部服务器错误。”从 jQuery 1.5 开始，错误设置可以接受一组函数。将依次调用每个函数。注意：跨域脚本和 JSONP 请求不调用此处理程序。

```
$.ajax({
    url: "/api/qsletpropertyom",
    data: JSON.stringify(RatingItems),
    type: "POST",
    contentType: "application/json;charset=utf-8",
    error: function(jqXHR, textStatus, errorThrown) {
        // textStatus will contain "Not Found" for 404 errors
    }
}); 
```

编辑：显然，地图定义中使用的 404 处理程序`statusCode`（如您所做的那样）获得 3 个参数，就像`error`选项一样。这是工作示例：http: [//jsfiddle.net/QsHdV/2/](http://jsfiddle.net/QsHdV/2/)

请注意，您得到的第一个参数是 jquery XHR 对象而不是一些结果数据。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T12:04:27.213

我认为问题在于您期望将响应文本作为 404 案例中的第一个参数，这不是 jQuery 返回的。

这里有一些来自[jQuery 文档](http://api.jquery.com/jQuery.ajax/%20jQuery%20docs)的信息：

> **statusCode(新增1.5)地图**
> 
> 如果请求成功，状态码函数采用与成功回调相同的参数；**如果导致错误，它们将采用与错误回调相同的参数**。
> 
> **error(jqXHR, textStatus, errorThrown) 函数**
> 
> 请求失败时调用的函数。该函数接收三个参数：jqXHR（在 jQuery 1.4.x 中，XMLHttpRequest）对象，一个描述发生的错误类型的字符串和一个可选的异常对象（如果发生）。第二个参数（除了 null）的可能值是“timeout”、“error”、“abort”和“parsererror”。发生 HTTP 错误时，errorThrown 会接收 HTTP 状态的文本部分，例如“未找到”或“内部服务器错误”。从 jQuery 1.5 开始，错误设置可以接受一个函数数组。每个函数都会被依次调用。注意：跨域脚本和 JSONP 请求不调用此处理程序。这是一个 Ajax 事件。
> 
> **成功（数据，文本状态，jqXHR）函数，数组**
> 
> 请求成功时调用的函数。该函数获得三个参数： 从服务器返回的数据，根据 dataType 参数格式化；描述状态的字符串；和 jqXHR（在 jQuery 1.4.x 中，XMLHttpRequest）对象。从 jQuery 1.5 开始，success 设置可以接受一个函数数组。每个函数都会被依次调用。这是一个 Ajax 事件。

如您所见，当发生 HTTP 错误时，您没有得到响应数据对象作为参数。

# selenium - Mink 与 Selenium2：遵循所有重定向

> ID：12725974
> 
> 赞同：1
> 
> 时间：2012-10-04T11:09:25.730
> 
> 标签：selenium, selenium-webdriver, behat, mink

如何在做一些断言之前强制 Selenium2 遵循所有重定向？

```
 Scenario: Guest member can pay with card
    When I go to "/test"
    #test page redirects to "/auth" which then redirects to "/main"
    Then I should be redirected to "/main" 
```

我想我可以简单地等待：

```
 /**
   * @Then /^I should be redirected to "([^"]*)"$/
   */
  public function assertRedirect($url)
  {
    $this->getSession()->wait(10000);

    $this->assertPageAddress($url);
  } 
```

问题是无论我等待多久，我总是在“/auth”页面上结束，而不是“/main”。

**更新**：事实证明问题是神话般的，硒没有做任何特别的事情，并且浏览器默认情况下会像往常一样遵循重定向。在我的情况下，应该产生重定向的页面实际上是发送 200 响应。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T15:23:37.147

我遇到了和你类似的情况。我设置了一个等待方法，每秒轮询一个元素，持续 x 秒，等待元素变为可见。然后，我将 Xpath 传递给仅在最后一页上可用的元素，或 /main 在您的情况下。这是我在java中使用的方法。

```
 public void waitForElement(WebDriver driver, final String xpath)
 {
     //Set up fluentWait to wait for 35 seconds polling every 1
     Wait<WebDriver> fluentWait = new FluentWait<WebDriver>(driver)
         .withTimeout(35, TimeUnit.SECONDS)
         .pollingEvery(1, TimeUnit.SECONDS)
         .ignoring(NoSuchElementException.class);

     WebElement element;

     //Look for element, if not found start fluentWait
     try
     {
         element = driver.findElement(By.xpath(xpath));
     }
     catch (WebDriverException e)
     {
         logger.info("[getElementByXpath] Element not initially found. Starting fluentWait ["+xpath+"]");

         try
         {
             element = fluentWait.until(new Function<WebDriver, WebElement>() {
                 public WebElement apply(WebDriver d) {

                     return d.findElement(By.xpath(xpath));
                 }
             });
         }
         catch (WebDriverException f)
         {
             logger.info("[getElementByXpath] FluentWait findElement threw exception:\n\n" + f +"\n\n");

             throw new WebDriverException("Unable to find element ["+xpath+"]");
         }
     }

     //Once we've found the element wait for element to become visible
     fluentWait.until(ExpectedConditions.visibilityOf(element));
 } 
```

您可能需要也可能不需要最后一个 fluentWait 以获取可见性，因为当元素返回时，您将位于正确的 /main 页面上。

希望这可以帮助。祝你好运！

# php - PHP 解析来自 CDN Flush API 的 XML/字符串响应

> ID：12725975
> 
> 赞同：0
> 
> 时间：2012-10-04T11:09:30.977
> 
> 标签：php, xml, api, parsing, simplexml

我正在向 CDN API 发出请求，该 API 会刷新特定项目的缓存。我正在尝试正确解析响应，但响应不仅返回不正确（从我的角度来看），而且我正在努力解析如此大量的信息。我的目标是从响应中获取不成功的刷新列表以及任何错误代码。

**这是您为他们的 API 运行以处理请求的 URL：**

`https://openapi.us.cdnetworks.com/OpenAPI/services/CachePurgeAPI/executeCachePurge?userId=***&password=***&purgeUriList=http://urlhere.com?param1=here&param2=here&purgeUriList=http:://url2here.com?param1=here`

文档指出响应是 XML 格式的。当您在浏览器中键入地址时，它是什么。但是执行来自 PHP 的请求会带回一些不是 XML 的东西。

**它*应该*如下所示：**

![](../Images/60709a548ede2e775a4a002fd859cf5d.png) **但我实际上得到的是：**

`000REQUEST ACCEPTEDhttp://cdn.oursite.com/blah.php?alt=1&cid=6291&campaign=126400&width=25010REQUEST ACCEPTEDhttp://cdn.oursite.co.uk/blah.php?alt=1&cid=6292&campaign=126401&width=250122';`

现在这只是两次*成功*冲洗的一个例子。API 文档显示了可能返回的大量额外错误：

`0: Successful; 2: Successful only in some URLs; 999: Temporary Error; 194 Too many URLs`

我不想为每个单独的响应解析字符串。返回的第一部分是 resultCode，第二部分是 totalURLNum，第三部分是成功，第四部分是失败，然后是包含更多信息的结果列表。

**我最初检索字符串的 PHP 代码：**

一个简单的 file_get_contents 请求。

`$result = file_get_contents(urlencode($url));`

**然后我得到了一些红色文本！！！**

我使用 cURL`CURLOPT_SSL_VERIFYPEER`并`CURLOPT_SSL_VERIFYHOST`设置为 false：

`$aData = curl_exec($rData);`

这返回了红色文本：

`string '<ns:executeCachePurgeResponse xmlns:ns="http://control.webif.server.openapi.cdnetworks.com"><ns:return xmlns:ax21="http://cachepurge.purge.response.server.openapi.cdnetworks.com/xsd" type="com.cdnetworks.openapi.server.response.purge.cachepurge.CachePurge"><ax21:failureURLNum>2</ax21:failureURLNum><ax21:resultCode>2</ax21:resultCode>(etc)(etc) (length=1678)`

**尝试使用 SimpleXML：**

所以我尝试对此使用simplexml。我试过了：

`$xml = simplexml_load_string($aData);`

还

`$properties = $xml->xpath('//Property');`

我尝试使用 SimpleXML 加载初始文件：

`$result = simplexml_load_file($url)`

我该如何解析这个？很明显，我没有像我想要的那样取回 XML，而且解析字符串将是一场噩梦。

**我目前在做什么：**

我在 cURL 输出上运行了以下 PHP。

```
$dom = new DOMDocument;
$dom->preserveWhiteSpace = FALSE;
$dom->loadXML($aData);
$dom->formatOutput = TRUE;
echo $dom->saveXml(); 
```

这给了我一个稍微格式化的输出，但它**仍然**不是 XML，所以不容易解析！：

`2 2 9999 Check your input. If it's not wrong, contact us please. http://cdn.whatever.co.uk/blah.php?alt=1&cid=6291&campaign=126400&width=250 0 0 REQUEST ACCEPTED http://cdn.whatever.co.uk/blah.php?alt=1&cid=6292&campaign=126401&width=250 1 9999 Check your input. If it's not wrong, contact us please. http://cdn.whatever.co.uk/blah.php?alt=1&cid=6291&campaign=126400&width=250 0 1 3`

在 XML 的任一侧使用`<pre>`，查看源代码，然后将代码放入 XML 验证器，返回它是 false xml。

可以检索命名空间，但这只是从 XML 中获取数据的范围。XML 无效，开发团队正在处理此问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T15:30:08.867

听起来您正在尝试将 XML 直接回显到浏览器。如果您这样做，浏览器将假定它是 HTML，并且任何 XML 标记都将不可见，因此您只会看到其间的文本。

尝试以下方法之一：

*   使用 HTML 实体转义 XML：`echo htmlspecialchars($response)`
*   在浏览器中查看源代码
*   告诉浏览器你给它的是 XML，而不是 HTML：`header('Content-Type: text/xml');`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-07T18:01:40.263

如果 simplexml 无法正确处理，则返回的“XML”无效。

尝试使用 xml 验证器来确保您确实在尝试解析有效​​的 xml。

# php - php从响应中检索值

> ID：12725976
> 
> 赞同：-1
> 
> 时间：2012-10-04T11:09:32.330
> 
> 标签：php

我正在尝试找到一种方法来使用从 SMS 消息提供程序接收到的检索值，我收到的值是：

```
 0|IN_PROGRESS|225161649 
```

我需要在我的数据库中存储某些值的位置。

这是我收到值的网址：

```
 http://bulksms.2way.co.za:5567/eapi/submission/send_sms/2/2.0?username=xxxx&password=xxxxx&message=Hi+Mom+%26+Dad&msisdn=44423456789 
```

这将返回值：

```
 23|invalid credentials (username was: xxxx)| 
```

现在我需要获取值并存储在 PHP 变量中以处理到我的数据库。

这是我提交数据的表单：

```
 $mobile = $_POST['mobile'];
        $text = $_POST['textcounter'];
        $username = 'xxxx';
        $password = 'xxxx';

        // Set Timezone
        date_default_timezone_set('Africa/Johannesburg');
        $date = date("m/d/y G.i:s", time());

        // Create Unique ID
        $code = md5(time());
        $newid = $code.$clientid;

        $sql="INSERT INTO sms_sent (sent_id, sent_message, sent_date, sent_quantity, client_id, sent_mobile)VALUES('$newid', '$text', '$date', '1', '$clientid', '$mobile')";
        $result=mysql_query($sql);

$url = "http://bulksms.2way.co.za/eapi/submission/send_sms/2/2.0"; // URL to calc.cgi
        $fields = array(
        'site'=>'',
        'username'=>($username),
        'password'=>($password),
        'message'=>urlencode($text),
        'msisdn'=>urlencode($mobile)

                        );
        $fields_string="?";
        //url-ify the data for the POST
        foreach($fields as $key=>$value) { $fields_string .= $key.'='.$value.'&'; }
        rtrim($fields_string,'&');

        //open connection
        $ch = curl_init();

        //set the url, number of POST vars, POST data
        curl_setopt($ch,CURLOPT_URL,$url);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, false);
        curl_setopt($ch,CURLOPT_POST,count($fields));
        curl_setopt($ch,CURLOPT_POSTFIELDS,$fields_string);

        //execute post
        ob_start();
        curl_exec($ch);
        ob_end_clean();
        echo '<div class="alert alert-block alert-success">
                                      <a class="close" data-dismiss="alert" href="#">×</a>
                                      <h4 class="alert-heading">Success!</h4>
                                      Your message has been Sent!
                                    </div><br/><br/><a href="search_contact.php" class="btn btn-large btn-round">Search Contact</a>';

        //close connection
        curl_close($ch);
    } 
```

请有任何建议。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T11:12:33.740

您可以使用爆炸功能

```
<?php
    $responseParams=explode("|",response);
    foreach($responseParams as $params)
    {

    echo $params;

    }
?> 
```

进一步参考

[http://php.net/manual/en/function.explode.php](http://php.net/manual/en/function.explode.php)

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2014-08-27T23:22:32.703

尝试：

```
rtrim($fields_string,'&'); 
```

rtrim 返回字符串并且不修改参数。

# python - 只读 SQL .. 周围有 DSL 吗？

> ID：12725980
> 
> 赞同：2
> 
> 时间：2012-10-04T11:09:51.970
> 
> 标签：python, sql, django, dsl

我们想授予我们的一些用户从数据库读取他们想要的任何内容的权限，所以我们很感兴趣 - 是否有任何 SQL 方言只支持 SELECT、WHERE 和 JOIN 运算符？

我们想像这样使用它：

```
class MyModelWithSQLRule(models.Model):
    sql_rule = models.TextField()

    def what_data_i_will_get(self): 
        """
        Here we must get exception with attempt of query like
        DELETE * FROM users_users; SELECT id FROM users_users; 
        """
        parsed_sql_rule = select_only_parser(self.sql_rule)
        return Users.objects.raw(parsed_sql_rule) 
```

这与数据库引擎无关。我想要**语言**，在 SQL 的子家族中，但没有像`DELETE`.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-04T11:19:10.877

根据你所说的，答案是否定的。

您可以做的是为您的数据库设置 2 个连接字符串，其中 1 个在数据库级别设置为只读，另一个可能是读/写连接字符串，然后您只需要使用适当的连接构建数据库会话上下文细绳。这在您的应用程序级别为您提供了一定程度的安全性，但最终仍然依赖于数据库，因为将从那里抛出错误。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-10-04T11:11:17.680

大多数 SQL 实现将允许您使用权限控制访问和权限，通常使用关键字，例如`GRANT`,`DENY`和`REVOKE`

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-10-04T11:24:08.687

如果您不希望数据库进行授权，我认为您必须将问题转移到使用 SQL 的编程语言上。我知道您可以使用的任何 SQL 方言都只允许非修改查询。

你只是解析你的表达式，看看它是否使用了任何被禁止的关键字，比如 DELETE、UPDATE、INSERT 等。解析（很大一部分）SQL 在 Python 中是非常可行的，我建议你研究一下。*尽管我仍然认为创建只读用户并通过单独的连接传递所有查询会更干净、更容易。*

编辑：

也许您可以使用事务但从不提交它们？这对你有用吗？

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-10-04T11:34:24.197

如果您只需要支持 django，最简单的方法是编写您自己的数据库适配器来过滤您的查询。

这将允许您创建自己的“sql 方言”。

# actionscript-3 - 让其他玩家进入闪光

> ID：12725981
> 
> 赞同：0
> 
> 时间：2012-10-04T11:09:56.073
> 
> 标签：actionscript-3, flash

目前我制作了一个 flash/as3 Snake 游戏，我想以某种方式使其在线。让玩家可以同时在线一起玩。

但我的问题是，我怎样才能得到其他玩家的信息？给玩家游戏？

就像有人向下/向上/向左或向右移动时，我怎样才能让它显示在其他玩家的屏幕上？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T11:59:46.673

您需要一个所有播放器都连接到的服务器，无论是通过持久[套接字](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/net/Socket.html)还是[RTMP](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/net/NetConnection.html)连接。基本上，您的 SWF 会将有关玩家移动的信息发送到服务器，然后服务器将其传递给所有其他连接的玩家。

您可以自己构建这样的服务器，也可以使用现有的技术，例如[FMS](http://www.adobe.com/products/flashmediaserver/)、[SmartFox](http://www.smartfoxserver.com/)或[Red5](http://www.red5.org/)（[在这里您可以找到更多](http://en.wikipedia.org/wiki/Real_Time_Messaging_Protocol)）。

# java - 如何使用 Web 驱动程序（Selenium - Java）切换到框架并单击弹出窗口？

> ID：12725982
> 
> 赞同：2
> 
> 时间：2012-10-04T11:09:55.177
> 
> 标签：java, selenium, automated-tests, ui-automation, selenium-webdriver

```
<iframe height="0" frameborder="0" width="500" scrolling="no" style="position: absolute; top: 185.5px; left: 460.5px; height: 357px; width: 500px; z-index: 10002; border: medium none; background-color: rgb(255, 255, 255); opacity: 0;" src="/foresee/shim.gif" alt="Survey Invitation Helper Window - Please Ignore">
<html>
<head>
<meta name="viewport" content="width=device-width; height=device-height;">
<style>
<title>shim.gif (GIF Image, 1&nbsp;×&nbsp;1 pixels)</title>
</head>
<body>
<img src="https://www3-qan.tivo.com/foresee/shim.gif" alt="https://www3-qan.tivo.com/foresee/shim.gif">
</body>
</html>
</iframe>
<div class="fsrwin" style="position: absolute; width: 500px; z-index: 10005; left: 460.5px; top: 185.5px; opacity: 1;">
<div class="innerwin">
<div class="fsr_top">
<div class="fsr_middle">
<div class="fsr_closeBody fsr_closeButtons">
<button id="decline" class="fsr_closeSticky fsr_button fsr_decline">No thanks</button>
<button id="accept" class="fsr_closeSticky fsr_button fsr_accept">Yes, I'll give feedback</button>
</div> 
```

我知道我应该切换到框架以执行框架中的任何操作。

我的问题是：

*   如何切换到框架？（我无法找出在 switch 语句中使用的正确定位器（driver.switchto().frame("WHAT SHOULD GO IN HERE")））？

*   当我每次导航到新页面时，有没有办法检查这个框架是否存在？

非常感谢您的帮助.... 迈克

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-10-05T12:15:12.883

如果框架是页面上唯一的框架，那么您可以使用

`driver.switch.frame(0);` //虽然不是一个好方法

或者

您可以使用 xpath 或任何东西来识别您的 iframe，然后使用它如下

```
driver.switch.frame(driver.findElementByXpath("//iframe[contains(@src,'forsee')]")) 
```

元素标识应该是唯一的..上面给出的 xpath 只是一种方式..但它可能不是唯一的..取决于您的整个 html。

希望有帮助..

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T11:46:08.240

通过 selenium ide 记录您的测试，并根据您的意愿将其导出到 selenium rc junit 或 testng。

会有一行像**selenium.selectFrame(frameName) .. 在****driver.switchToFrame(frameName)**中使用相同的框架名称。

# android - 如何在通知中显示消息计数

> ID：12725983
> 
> 赞同：1
> 
> 时间：2012-10-04T11:10:04.587
> 
> 标签：android, android-notification-bar

我正在使用 Google 的推送通知，我想在通知图标中显示通知的数量，而不是显示多个通知。像这样的东西-

![在此处输入图像描述](../Images/0e020547e1f56598003e6bc2bc516489.png)

android的通知类中有方法或东西吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-10-04T11:40:19.827

您可以选择创建通知时将显示的图标。与`.setsmallIcon()`我认为。

我还鼓励您为 JellyBean 实现 bigtextviews。NoficationCompat2 是一个很好的库，可以在不同的 Android 版本上优雅地管理它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T11:24:03.960

Notification 类应该用于在顶部栏显示通知（如 Gmail 通知）。据我了解，您可以使用普通的 TextView 应用一些样式使其看起来不错并将其放置在屏幕内。

# android - 当我清理我的项目时，我的 R.java 文件自动删除

> ID：12725984
> 
> 赞同：2
> 
> 时间：2012-10-04T11:10:08.227
> 
> 标签：android, r.java-file

如何在我的项目中恢复我的 R.java 文件。当我清理 gen 文件夹中的项目时，所有 java 文件都会自动删除。如果我再次制作我的项目。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-10-04T11:12:07.480

清理项目会删除所有自动生成的文件，包括 R.java。
构建项目后（如果不包含错误），您将自动获得`R.java`.

去`project-->Build Project`构建你的项目

根据我的经验，如果`R.java`没有自动创建，那么您的 xml 中的某处会出现错误。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-10-04T11:13:05.310

清理项目会删除所有自动生成的文件。构建项目它应该自动创建它们。当您清理项目时。

**如果 R.java 没有被自动创建，那么您的 xml 中的某处有错误。三重检查一切。**

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-05T04:41:52.590

我很久以前也遇到过同样的问题。我遇到的解决方案是我的 xml（布局、值、字符串、drawables）中有错误。由于这个原因，R.java 没有构建流行，并且每次构建项目时它都会被删除。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-10-04T11:14:47.260

这是正常的。如果您使用带有 ADT 插件的 Eclipse，您可以将项目设置为自动构建。这意味着所有内容（包括 R 源代码）都将在每个文件保存后和每个 clean 命令后重建。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-10-04T11:15:39.020

没关系，您不应该触及在 gen 文件夹中生成的这些文件。每次执行干净构建时，这些文件都会根据您拥有的 Android XML 文件重新创建。因此，R.java 文件将再次自动重新生成，只有在其中一个资源文件（可绘制对象、布局等）有任何问题时才会失败，如果是这样，您应该能够在控制台视图上看到错误。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-03-10T09:44:53.373

在 Eclipse 中，如果一次保存太多文件，R.Java 似乎会被删除。如果您突出显示包 expolorer 中的文件，则右键单击属性，选择构建器，取消单击所有构建器并确定。然后返回并再次重新单击项目。

* * *

## 回答 #7

> 赞同：-1
> 
> 时间：2014-07-10T03:30:21.520

I too have experienced such a problem just now. I resolved it by going to the Console box, and there was error showing in the XML file. I solved this error in the XML file, I saved and then cleaned the project. `R.java` was re-created again in `res` folder.

# file-upload - 从 Asp.net 客户端上传大文件到 JBoss 问题

> ID：12725987
> 
> 赞同：0
> 
> 时间：2012-10-04T11:10:20.777
> 
> 标签：file-upload, jboss, httpwebrequest, large-file-upload

全部，我有一个使用 apache-common-fileupload 组件的 JBoss 应用程序，我测试过它可以从在 post 方法中使用 HttpWebRequest 的 asp.net 客户端上传大文件。但是多次成功上传后。它在JBoss控制台中失败并出现以下异常。请帮忙检查一下。谢谢。

```
org.apache.commons.fileupload.FileUploadBase$IOFileUploadException: Processing of multipart/form-data request failed. Stream ended unexpectedly
      at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:359)
      at com.accela.deploy.servlet.RequestHandler.getUploadFileFromRequest(RequestHandler.java:86)
      at com.accela.deploy.servlet.DeployServlet.doPost(DeployServlet.java:122)
      at javax.servlet.http.HttpServlet.service(HttpServlet.java:710)
      at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)
      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
      at com.accela.commom.filter.AuthFilter.doFilter(AuthFilter.java:99)
      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
      at org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)
      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
      at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)
      at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)
      at org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:182)
      at org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:84)
      at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
      at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
      at org.jboss.web.tomcat.service.jca.CachedConnectionValve.invoke(CachedConnectionValve.java:157)
      at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:615)
      at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
      at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)
      at org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:877)
      at org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:594)
      at org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1733)
      at java.lang.Thread.run(Thread.java:722) 
```

这是 server.xml 内容。请检查一下 。

```
<!--APR library loader. Documentation at /docs/apr.html -->
<Listener className="org.apache.catalina.core.AprLifecycleListener" SSLEngine="on" />
<!--Initialize Jasper prior to webapps are loaded. Documentation at /docs/jasper-howto.html -->
<Listener className="org.apache.catalina.core.JasperListener" />

<Service name="jboss.web">

    <!--  A HTTP/1.1 Connector (Http11Protocol Http11NioProtocol Http11AprProtocol)-->
    <Connector protocol="org.apache.coyote.http11.Http11AprProtocol"
        address="${jboss.bind.address}" port="${av.http.port}"
        scheme="http" secure="false"
        URIEncoding="UTF-8"
        redirectPort="${av.https.port}"
        maxHttpHeaderSize="8192"
        maxThreads="${av.http.maxThreads:500}" 
        acceptCount="${av.http.acceptCount:200}" 
        enableLookups="false"
        disableUploadTimeout="true"
        /> 

    <!--  Java SSL Coyote HTTP/1.1 Connector using Apache Portable Runtime (APR) -->
    <Connector protocol="org.apache.coyote.http11.Http11AprProtocol"
        address="${jboss.bind.address}" port="${av.https.port}"
        scheme="https" secure="true"
        URIEncoding="UTF-8"
        maxHttpHeaderSize="8192"
        maxThreads="${av.https.maxThreads:500}"
        acceptCount="${av.https.acceptCount:200}"
        enableLookups="false"
        disableUploadTimeout="true"
        SSLEnabled="true"
        SSLVerifyClient="none"
        SSLProtocol="all"
        SSLCipherSuite="!aNULL:!ADH:!eNULL:!LOW:!EXP:!SSLv2:RC4+RSA:+HIGH:+MEDIUM:ALL"
        SSLCertificateFile="${jboss.server.home.dir}/conf/certs/${av.host}.crt" 
        SSLCertificateKeyFile="${jboss.server.home.dir}/conf/certs/${av.host}.key"
    /> 

    <Engine name="jboss.web" defaultHost="localhost">

        <Realm className="org.jboss.web.tomcat.security.JBossSecurityMgrRealm"
        certificatePrincipal="org.jboss.security.auth.certs.SubjectDNMapping"
        allRolesMode="authOnly"
        />

        <Host name="localhost"
            autoDeploy="false" deployOnStartup="false" deployXML="false"
            configClass="org.jboss.web.tomcat.security.config.JBossContextConfig">

            <Valve className="org.apache.catalina.valves.AccessLogValve"
                prefix="av.web.${jboss.bind.address}.access." 
                suffix=".log" 
                pattern="%a %t %T &quot;%r&quot; %s %b %u %S %p" 
                directory="${jboss.server.log.dir}" 
                resolveHosts="false" />

                <Valve className="org.jboss.web.tomcat.service.sso.ClusteredSingleSignOn" />
            -->

            <!-- Check for unclosed connections and transaction terminated checks
                in servlets/jsps.

                Important: The dependency on the CachedConnectionManager
                in META-INF/jboss-service.xml must be uncommented, too
            -->
            <Valve className="org.jboss.web.tomcat.service.jca.CachedConnectionValve"
            cachedConnectionManagerObjectName="jboss.jca:service=CachedConnectionManager"
            transactionManagerObjectName="jboss:service=TransactionManager" />          
        </Host>
    </Engine>

</Service> 
```

**编辑并添加了 Asp.net 客户端代码。**

```
public static bool SendSingleChunk(string sRequestUrl,int iOffset, int iChunkSize)
        {
            string sPackFullUriName = "d:\\2GB.zip";
            string boundary = "---------------------------" + DateTime.Now.Ticks.ToString("x");
            byte[] boundarybytes = System.Text.Encoding.ASCII.GetBytes("--" + boundary + "\r\n");
            string headerTemplate = "Content-Disposition: form-data; name=\"{0}\"; filename=\"{1}\"\r\n"
                                    + "Content-Type: application/octet-stream\r\n\r\n";

            sFName = Path.GetFileName(sPackFullUriName);

            string header = string.Format(headerTemplate, sFName, sPackFullUriName);
            byte[] headerbytes = System.Text.Encoding.UTF8.GetBytes(header);

            byte[] endBoundarybytes = System.Text.Encoding.ASCII.GetBytes("\r\n--" + boundary + "--\r\n");
            Stream requestStream = null;
            HttpWebRequest request = null;

            byte[] bData = null;
            try
            {
                bData = StorageHelper.ChunkReadFromDiskFile(sPackFullUriName, iOffset, iChunkSize);

                Log.Write("This is the " + iChunkindex + " times to send chunk, size is " + bData.Length.ToString());
                long lContentLen = bData.Length + boundarybytes.Length + headerbytes.Length + endBoundarybytes.Length;

                string sContentType = "multipart/form-data; boundary=" + boundary;

                HttpWebRequest request = (HttpWebRequest)HttpWebRequest.Create(sRequestUrl);
                request.Method = WebRequestMethods.Http.Post;
                request.KeepAlive = false;
                request.Timeout = 300 * 60 * 1000; //300 mins;
                request.ContentLength = lContentLen;
                request.AllowAutoRedirect = false;
                request.ContentType = sContentType;

                using (requestStream = request.GetRequestStream())
                {
                    requestStream.Write(boundarybytes, 0, boundarybytes.Length);
                    requestStream.Write(headerbytes, 0, headerbytes.Length);

                    if (bData != null)
                    {
                        requestStream.Write(bData, 0, bData.Length);
                    }
                    else
                    {
                        return false;
                    }

                    //requestStream.Write(formitembytes, 0, formitembytes.Length);
                    requestStream.Write(endBoundarybytes, 0, endBoundarybytes.Length);
                    requestStream.Flush();
                    requestStream.Close();
                }

                string returnedContent = string.Empty;
                using (var response = (HttpWebResponse)request.GetResponse())
                {
                    using (var responseStream = response.GetResponseStream())
                    {
                        using (StreamReader reader = new StreamReader(responseStream))
                        {
                            returnedContent = reader.ReadToEnd();
                            reader.Close();
                        }
                    }
                    response.Close();
                    if (DeployConfig.ResultSucceed.Equals("OK", StringComparison.InvariantCultureIgnoreCase))
                    {
                        return true;
                    }
                    else
                    {
                        return false;
                    }
                }
            }
            catch (Exception ex)
            {
                return false;
            }
            finally
            {
                bData = null;
            }
        } 
```

**我的想法：** 我认为异常的根本原因`Stream ended unexpectedly`是我发布到服务器的流的长度不完全等于我在 HttpWebRequest.ContentLength 中指定的长度。

**我的问题：**

> 1.如果HttpWebRequest.ContentLength的长度大于或小于我发送到服务器的实际大小怎么办？
> 
> `SendSingleChunk`2.发帖失败后继续执行怎么办？似乎服务器将这两个请求流识别为同一个。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-18T09:08:58.287

错误消息说：

```
.. Stream ended unexpectedly 
```

这很可能是因为`asp.net`客户端应用程序在几次成功上传后意外关闭了套接字，或者可能存在连接问题。有关此错误的可能原因的完整讨论，请参阅以下主题。

[为什么我使用 Apache Commons FileUpload 得到“FileUploadException：流意外结束”？](https://stackoverflow.com/questions/646189/why-did-i-get-fileuploadexception-stream-ended-unexpectedly-with-apache-commo)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-08T01:46:05.940

所有，对于上传大文件的问题，这里有一些我们应该关心的提示。无论您使用什么网络服务器，实际上在从某个客户端上传文件到它的过程中，接收到数据后要做的第一件事就是将数据持久化到某个临时目录。因此，首先要确保服务器中的应用程序有足够的权限将数据写入磁盘。第二。如果我们像我一样使用底层 html 协议上传文件。我们应该仔细检查协议，确保每个步骤都遵循协议。这是它的[文档](http://www.ietf.org/rfc/rfc1867.txt)。我要说的最后一件事是，如果您出于某种目的将 asp.net 用作 Web 客户端，则必须仔细检查这些属性的`HttpWebRequest`用途。谢谢。

```
request.KeepAlive = false;
request.Timeout = 300 * 60 * 1000; //300 mins;
request.ContentLength = lContentLen;
request.AllowAutoRedirect = false; 
```

# android - 如何在 Android 中捕获图像缩略图并将文件保存在自定义文件夹中

> ID：12725989
> 
> 赞同：6
> 
> 时间：2012-10-04T11:10:24.770
> 
> 标签：android, android-camera, android-image

我正在尝试从现有的相机应用程序中捕获图像，将图像保存在自定义文件夹中，并在 imageView 中显示缩略图。只要我没有指定保存文件的位置，相机就会提供缩略图：

我可以从返回的意图中获取缩略图：

```
...
  Intent i = = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
  startActivityForResult(i)
}

protected void onActivityResult(int requestCode, int resultCode, Intent intent) {
  super.onActivityResult(requestCode, resultCode, intent);      
  Bundle extras = intent.getExtras();
  Bitmap mImageBitmap = (Bitmap) extras.get("data");
} 
```

或者我可以将文件保存在指定的文件夹中（效果很好）

```
 ...
  Intent i = = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
  i.putExtra((MediaStore.EXTRA_OUTPUT, outputFileUri);
  startActivityForResult(i)
} 
```

但是缩略图不再存储在意图额外的“数据”中，当我尝试检索缩略图时，出现错误（这是来自我的 LogCat）

```
10-04 06:30:14.463: E/AndroidRuntime(1967): Caused by: java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=1, result=-1, data=null} to activity: java.lang.NullPointerException 
```

如您所见，返回的字段为空，而不是位图缩略图。之后我尝试解码位图以直接从文件生成缩略图，但这需要太长时间（即使在下采样时我也会出现内存不足错误），而且两次执行这项工作似乎违反直觉。有什么建议么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-10-04T11:31:00.927

好的。如果您将 outputURI 传递给意图，那么您将无法从 onActivityResult() 中的意图接收数据。

我认为唯一的选择是使用相同的 outputURI 来显示缩略图..

试试这个。

```
void captureImage(){
    File file = new File(Environment.getExternalStorageDirectory()
    .getAbsolutePath() + "/MyFolder", "myImage"+ ".jpg");

    mCapturedImagePath = file.getAbsolutePath();
    Uri outputFileUri = Uri.fromFile(file);
    Intent i = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
    i.putExtra(MediaStore.EXTRA_OUTPUT, outputFileUri);
    startActivityForResult(i, CAMERA_REQUEST);
}

onActivityResult(int requestCode, int resultCode, Intent data) {
    if (requestCode == CAMERA_REQUEST) {
        if (resultCode == RESULT_OK) {
            File file = new File(mCapturedImagePath);
            imageView.setImageURI(Uri.fromFile(file));
        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T11:19:26.570

您的位图 mImageBitmap 是一个局部变量，如果您想在 onActivityResultFunction 之外使用它，请将其设为全局变量，否则将图像设置为

```
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
    if (requestCode == CAMERA_REQUEST) {
        photo = (Bitmap) data.getExtras().get("data");
        imageView.setImageBitmap(photo);
    }
} 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-10-04T11:35:27.360

试试这个

```
Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);
startActivityForResult(cameraIntent, CAMERA_REQUEST); 
```

# c# - 同一页面中的两个模型弹出窗口

> ID：12725994
> 
> 赞同：0
> 
> 时间：2012-10-04T11:11:07.647
> 
> 标签：c#, ajax

我在 C#.Net 和 Ajax 概念中工作。我在一个页面中有 2 个 ModelPopup Extender。我在该页面中也有 2 个按钮。当我单击第一个按钮时，应显示 1 个 MP，当我单击第二个按钮时，应显示第二个 MP。这对我来说第一次很好。[ie] 当我单击第一个按钮时，显示第一个 MP，当我单击第二个按钮时，显示第二个 MP，如果我再次单击第一个按钮，则没有任何反应。

```
 <asp:UpdatePanel ID="UpdatePanel4" runat="server">
                    <ContentTemplate>
                        <ajaxToolKit:ModalPopupExtender ID="mp1" runat="server" PopupControlID="Panel1" TargetControlID="Button2">
                        </ajaxToolKit:ModalPopupExtender>
                        <asp:Button ID="Button2" ToolTip="Location" runat="server" Text="Location(+)"
                            OnClientClick="LocClick();" />
                        <asp:Panel ID="Panel1" runat="server" Style="display: block; width: 600px; overflow: scroll;
                            height: 440px;" BackColor="White">
                            <table>
                                <tr valign="top">
                                    <td width="650">
                                        <ct:ASTreeView ID="astvMyTree" runat="server" BasePath="~/Scripts/astreeview/" DataTableRootNodeValue="0"
                                            BackColor="White" EnableRoot="false" EnableNodeSelection="true" EnableCheckbox="false"
                                            EnableDragDrop="false" EnableTreeLines="true" EnableNodeIcon="false" EnableCustomizedNodeIcon="false"
                                            EnableDebugMode="false" EnableContextMenuAdd="false" EnableParentNodeExpand="false"
                                            EnableAjaxOnEditDelete="false" AutoPostBack="true" OnOnSelectedNodeChanged="astvMyTree_OnSelectedNodeChanged" />
                                    </td>
                                    <td>
                                        <div id="divConsole" runat="server">
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </asp:Panel>
                    </ContentTemplate>
                </asp:UpdatePanel>
                <asp:UpdatePanel ID="UpdatePanel5" runat="server">
                    <ContentTemplate>
                        <ajaxToolKit:ModalPopupExtender ID="ModalPopupExtender1" runat="server" PopupControlID="Panel2"
                            TargetControlID="Button1">
                        </ajaxToolKit:ModalPopupExtender>
                        <asp:Button ID="Button1" ToolTip="Product" runat="server" Text="Product(+)"
                            OnClientClick="ProdClick();" />
                        <asp:Panel ID="Panel2" runat="server" Style="display: block; width: 600px; overflow: scroll;
                            height: 440px;" BackColor="White">
                            <table>
                                <tr valign="top">
                                    <td width="650">
                                        <ct:ASTreeView ID="ASTreeView1" runat="server" BasePath="~/Scripts/astreeview/" DataTableRootNodeValue="0"
                                            BackColor="White" EnableRoot="false" EnableNodeSelection="true" EnableCheckbox="false"
                                            EnableDragDrop="false" EnableTreeLines="true" EnableNodeIcon="false" EnableCustomizedNodeIcon="false"
                                            EnableDebugMode="false" EnableContextMenuAdd="false" EnableParentNodeExpand="false"
                                            EnableAjaxOnEditDelete="false" AutoPostBack="true" OnOnSelectedNodeChanged="astvMyTree_OnSelectedNodeChanged" />
                                    </td>
                                    <td>
                                        <div id="div4" runat="server">
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </asp:Panel>
                    </ContentTemplate>
                </asp:UpdatePanel> 
```

我只是在更改 LocClick 和 ProdClick 中按钮的背景颜色。

```
<script type="text/javascript">
function LocClick() {
    var location = document.getElementById("<%= Button2.ClientID %>");
    location.style.background = '#72BD66';
    var product = document.getElementById("<%= Button1.ClientID %>");
    product.style.background = '#065581';
    var lastYear = document.getElementById('<%=chkLastYear.ClientID%>');
    lastYear.checked = false;
 } 
```

如何解决这个...

# javascript - 当我打开 infoWindow（UTF-8）时，谷歌地图变得很奇怪

> ID：12725998
> 
> 赞同：1
> 
> 时间：2012-10-04T11:11:27.810
> 
> 标签：javascript, google-maps

我正在为一个新项目使用 Google 地图，但是当我打开一个`infoWindow`.

见下图：

![图片描述](../Images/d3ed4c7a7a9b7370d49f369276763dfa.png)

有没有人认识到这个问题？

**这是我的地图初始化代码：**

```
$(document).ready(function(){   

    function initialize() {
        var myLatlng = new google.maps.LatLng(59.398554, 5.486206);
        var mapOptions = {
            draggable: true, 
            zoomControl: true, 
            mapTypeControlOptions: {
                mapTypeIds: [google.maps.MapTypeId.ROADMAP, google.maps.MapTypeId.HYBRID]
            }, // here´s the array of controls
            disableDefaultUI: true, // a way to quickly hide all controls
            scrollwheel: false,
            zoom: 13,
            center: myLatlng,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        }

        var map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);

        var contentString = '<div id="content">'+
            '<div id="siteNotice">'+
            '</div>'+
            '<h2 id="firstHeading" class="firstHeading">FjørSilkeBris</h2>'+
            '<div id="bodyContent">'+
            '<p>Førland, 5570 Aksdal</p>'+
            '<p>481 49 246 (Mobil)</p>'+
            '<p>Facebook: <a href="https://www.facebook.com/FjorSilkeBris">FjørSilkeBris på facebook.</a></p>'+
            '</div>'+
            '</div>';

        var infowindow = new google.maps.InfoWindow({
            content: contentString
        });

        var marker = new google.maps.Marker({
            position: myLatlng,
            map: map,
            title:"Fjørsilkebris"
        });

        google.maps.event.addListener(marker, 'click', function() {
            infowindow.open(map,marker);
        });
    };

    window.onload = function () {
        initialize();
    }
}); 
```

* * *

## 回答 #1

> 赞同：11
> 
> 时间：2012-12-14T13:04:54.150

我有同样的问题。

问题是，您页面上的某些 CSS 很可能将`img`元素的`max-width`属性设置为 100%。这会破坏地图上信息窗口的 css。

您可以做的是覆盖地图画布 div 示例的 img max-width ：

```
#divMap img { max-width: none; } 
```

这对我有用

# matlab - 如果循环matlab连接向量

> ID：12725999
> 
> 赞同：0
> 
> 时间：2012-10-04T11:11:30.313
> 
> 标签：matlab, vector, concatenation

```
distances = sqrt((x - max(x)).^2 + (y - max(y)).^2);
    [peaks, iPeaks] = findpeaks(distances);%to find out where the curve turns around
          for i = 1 : length(iPeaks)-1
                    iPeaks1 = iPeaks(i);
                    iPeaks2 = iPeaks(i+1)-1;%analyse of consecutive pair of peaks
                     %skip small noise peaks
                   if length(iPeaks1:iPeaks2)>=5 
                      xx=x(iPeaks1:iPeaks2)
                       yy=y(iPeaks1:iPeaks2)
                   end
                end 
```

你好

我需要构造向量 xx 和 yy。问题是在每个周期中，过去的 xx 和 yy 都会被删除，但我想要相反。我希望他们保留过去的信息并在每个周期中成长。我能做些什么？而且我知道我应该预先分配 xx 和 yy。

我感谢任何帮助。非常感谢您。

*** *这是一个可能的解决方案。这里的问题是我需要预先分配。但如果我这样做，xx 和 yy 会保持零并继续增长“内部有零”，这是错误的

：

```
distances = sqrt((x - max(x)).^2 + (y - max(y)).^2);
[peaks, iPeaks] = findpeaks(distances);%to find out where the curve turns around
xx=[];
yy=[];
for i = 1 : length(iPeaks)-1
        iPeaks1 = iPeaks(i);
        iPeaks2 = iPeaks(i+1)-1;%analyse of consecutive pair of peaks
         %skip small noise peaks
       if length(iPeaks1:iPeaks2)>=5 
          xx = [xx; x(iPeaks1:iPeaks2)];%''concatenate''(connect)
          yy = [yy; y(iPeaks1:iPeaks2)];
       end
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-10-04T11:27:38.327

使用串联很容易实现向量的增长：

```
x = [1, 2, 3];
y = [4, 5, 6, 7];
z = [x, y]; %# z will be [1, 2, 3, 4, 5, 6, 7] 
```

在你的情况下，你会做

```
%# Start with an empty vector.
xx = [];
for i = 1 : length(iPeaksNoise)-1
    [...]
    xx = [xx, x(iPeaks1:iPeaks2)];
end 
```

要独立于`iPeaksNoise`（即无论它是行向量还是列向量）的形状，您可以使用

```
for [...]
    t = x(iPeaks1:iPeaks2);
    xx = [xx; t(:)];
end 
```

预分配意味着创建一个零向量，它具有**最终**输出的长度。你会做这样的事情

```
final_size = what_so_ever;
xx = zeros(final_size, 1);
start_index = 1;
for [...]
    t = x(iPeaks1:iPeaks2);
    xx(start_index : start_index + length(t) - 1) = t;
    start_index = start_index + length(t);
end 
```

但是，在您的情况下，您还有一个额外的困难，即事先不知道最终大小`xx`，因为您不知道`length(iPeaks1:iPeaks2)>=5`循环内完成的频率。

**编辑：**

预分配的代码`xx`可能如下所示：

```
distances = sqrt((x - max(x)).^2 + (y - max(y)).^2);
[peaks, iPeaks] = findpeaks(distances);

%# Compute the distance between two peaks.
peakDistance = diff(iPeaks);
%# Filter peaks which are of length 5 or less.
peakMask = peakDistance > 5;
finalSize = sum(peakDistance(peakMask));
%# Copy the values in a new vector.
xx = zeros(1, finalSize);
idx = 1;
for count = 1 : length(peakDistance)
  if peakMask(count)
    pD = peakDistance(count);
    xx(idx : idx + pD - 1) = x(iPeaks(count) : iPeaks(count) + pD - 1);
    idx = idx + pD;
  end
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-10-04T11:19:46.000

您需要明确说明要放置数据的位置`xx`。`yy`从您的代码中很难理解您想要它的位置，但它应该看起来像这些行

```
start = some_index_in_xx;
v = x(iPeaks1:iPeaks2);
xx(start:start+numel(v)-1)=v; 
```

对于`yy`.`start`你必须自己计算。

另一方面，如果您想将新的`x`和`y`矢量部分附加到 and 的末尾`xx`，`yy`您可以这样做

```
xx = [xx x(iPeaks1:iPeaks2)];
yy = [yy y(iPeaks1:iPeaks2)]; 
```

您必须在循环之前`xx`进行初始化：`yy`

```
xx = [];
yy = []; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-10-04T17:31:48.057

在这里，我假设您要在每次迭代中添加到 xx 和 yy 的元素数量每次都不相同。然后，如果你想预先分配空间，你需要找出你要加起来的空间。所以代码会因为额外的循环而变得更加复杂。一个版本可能是

```
x=(5*sin(0:(pi/100):2*pi)+rand(201,1)'-0.5)';
y=(5*cos(0:(pi/100):2*pi)+rand(201,1)'-0.5)';
%%
distances = sqrt((x - max(x)).^2 + (y - max(y)).^2);
[peaks, iPeaks] = findpeaks(distances);%to find out where the curve turns around

counterx = 0;
for i = 1 : length(iPeaks)-1
    iPeaks1 = iPeaks(i);
    iPeaks2 = iPeaks(i+1)-1;%analyse of consecutive pair of peaks
    %skip small noise peaks
    if length(iPeaks1:iPeaks2)>=5
        counterx =counterx+ iPeaks2-iPeaks1+1;
    end
end
xx=zeros(counterx,1);
yy=xx;
counterx=0;
clc
for i = 1 : length(iPeaks)-1
    iPeaks1 = iPeaks(i);
    iPeaks2 = iPeaks(i+1)-1;%analyse of consecutive pair of peaks
    %skip small noise peaks
    if length(iPeaks1:iPeaks2)>=5
        %         xx = [xx; x(iPeaks1:iPeaks2)];%''concatenate''(connect)
        %         yy = [yy; y(iPeaks1:iPeaks2)];
        counterx=counterx+1;
        xx(counterx:counterx+iPeaks2-iPeaks1) = x(iPeaks1:iPeaks2);
        yy(counterx:counterx+iPeaks2-iPeaks1) = y(iPeaks1:iPeaks2);
        counterx=counterx+iPeaks2-iPeaks1;
    end
end
disp([xx yy]') 
```

但是，这是matlab。你不应该做所有这些。这是一些使用逻辑标志执行相同操作的代码，并且只需一次删除所有小峰值：

```
% find all the iPeaks that are 5 apart from the next one
peakdiffs = find((iPeaks(2:end)-iPeaks(1:end-1)-1)>=5);
% make a logical array quickly with same size as x
removeflag = x<=inf;
for i=1:numel(peakdiffs)
    % for each peak that is bigger than your threshold, those parts of the
    % logical array will be made false.
    removeflag(iPeaks(peakdiffs(i)):iPeaks(peakdiffs(i)+1)-1)=false;
end
%remove all indices in x,y that are still false in removeflag and store in xx
%and yy resp
xx= x; xx(removeflag)=[];
yy= x; yy(removeflag)=[];
disp([xx yy]') 
```