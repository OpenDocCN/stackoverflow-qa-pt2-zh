# StackOverflow 问答 15425000-15425999

# ios - iOS如何将图像索引从collectionview传递到scrollview

> ID：15425000
> 
> 赞同：1
> 
> 时间：2013-03-15T04:52:48.990
> 
> 标签：ios, uiscrollview, indexing, thumbnails

我正在创建一个程序，如果我单击 collectionview 中的缩略图，则应在另一个视图收集器中的滚动视图中打开更大的图像。为此，我正在使用 segue。但是我在那里做错了，我该如何解决这个问题，

我的segue代码是，

```
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender
{
    if ([[segue identifier] isEqualToString:@"showDetail"])
    {
        NSIndexPath *selectedIndexPath = [[self.gallerycollection indexPathsForSelectedItems] objectAtIndex:0];

        // load the image, to prevent it from being cached we use 'initWithContentsOfFile'
        NSString *imageNameToLoad = [NSString stringWithFormat:@"interior_%d", selectedIndexPath.row];
        NSString *pathToImage = [[NSBundle mainBundle] pathForResource:imageNameToLoad ofType:@"jpg"];
        UIImage *image = [[UIImage alloc] initWithContentsOfFile:pathToImage];

        GalleryImageScrollViewController *gallerydetailViewController = [segue destinationViewController];
        gallerydetailViewController.FullScreenImageScroller=image ;
    }
} 
```

详细视图控制器.m

```
- (void)viewDidLoad
{
    [super viewDidLoad];

    NSMutableArray *mutablearray = [NSMutableArray array];
    data=[MyDatabase new];
    slideImages=[data OpenMyDatabase:@"SELECT pic_name_big FROM interior":@"pic_name_big"];
    [mutablearray addObjectsFromArray:slideImages];
    temparr = [[NSMutableArray alloc]init];
    temparr=[NSMutableArray arrayWithArray:mutablearray];
    [self putImageViewsInScrollView:[temparr count]];
    self.FullScreenImageScroller.delegate=self;

}

-(void) putImageViewsInScrollView:(int)numberOfImageViews
{
   for(int i=0 ;i<numberOfImageViews; i++)
    {
        fullScreenImageView=[[UIImageView alloc]initWithImage:[UIImage imageNamed:[temparr objectAtIndex:i]]];
        fullScreenImageView.frame = CGRectMake((WIDTH_OF_IMAGE * i)  , 0, WIDTH_OF_IMAGE, HEIGHT_OF_IMAGE);
        [self.FullScreenImageScroller addSubview:fullScreenImageView];
    }
    [self.FullScreenImageScroller setContentSize:CGSizeMake(WIDTH_OF_SCROLL_PAGE * ([temparr count]), HEIGHT_OF_IMAGE)];
    [self.FullScreenImageScroller setContentOffset:CGPointMake(0, 0)];
    [self.FullScreenImageScroller scrollRectToVisible:CGRectMake(WIDTH_OF_IMAGE,0,WIDTH_OF_IMAGE,HEIGHT_OF_IMAGE) animated:NO];

} 
```

那么我应该在滚动视图控制器（GalleryImageScrollViewController）中传递什么来打开特定缩略图的图像？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:32:04.223

像这样将图像名称传递给详细视图控制器

```
-(void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender
 {
   NSArray *indexpaths = [self.collectionView indexPathsForSelectedItems];
   DetailViewController *dest = [segue destinationViewController];
   dest.imageName = [recipeImages objectAtIndex:[[indexpaths objectAtIndex:0] row]];
   // imageName is a property of detail view controller
} 
```

然后在detailViewController的**viewDidLoad中**

```
- (void)viewDidLoad
 {
    [super viewDidLoad];

   self.imageView.image = [UIImage imageNamed:self.imageName];
} 
```

我没有使用滚动视图，只有一个 imageView 作为子视图添加到视图中

![在此处输入图像描述](../Images/64824a95058210e41492f6bc34274024.png)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T07:01:36.903

它很简单。只需将所选缩略图的索引传递给 GalleryImageScrollViewController。（来自上面给出的答案..）

然后，在 detailViewController 的 viewDidLoad 方法中，使用获取的索引在 imageView 中填充图像。

在**detailViewController的 viewDidLoad 中**

```
 -(void)viewDidLoad
  {
       [super viewDidLoad];
       self.imageView.image = [UIImage imageNamed:[[[NSBundle mainBundle] pathForResource:[NSString stringWithFormat:@"interior_%d", indexOfThatImage] ofType:@"png"]]];
  } 
```

请注意，您的捆绑包中的文件扩展名是正确的。

# google-maps - 从 Google Maps Places Autocomplete 中过滤企业、州和国家/地区

> ID：15425004
> 
> 赞同：5
> 
> 时间：2013-03-15T04:53:00.930
> 
> 标签：google-maps, google-maps-api-3

我正在使用 Google Maps Places 自动完成功能。我想将我的自动填充结果限定为省略企业和州。相关文档位于[https://developers.google.com/maps/documentation/javascript/places#places_autocomplete](https://developers.google.com/maps/documentation/javascript/places#places_autocomplete)。它们提供 2 种类型的集合：`(regions)`和`(cities)`. `(regions)`包括按地区、次地区、邮政编码、国家、行政区域 1 和行政区域 2 分类的地方。 `(cities)`包括归类为 locality 和 Administrative_area1 的地方。

我的理想范围是分类为地方、次地方、社区、邮政编码和行政区域 3 的地方。这可能吗？

# c# - LINQ 查询更新同一个集合？

> ID：15425007
> 
> 赞同：-1
> 
> 时间：2013-03-15T04:53:18.120
> 
> 标签：c#

我有一个集合 List1，其中有 5 个项目。基于某些条件，我想从 List1 中删除一些项目，但不希望另一个集合用于更新项目。我希望更新的集合在 List1 中。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T04:58:21.727

你可以做这样的事情

nameList.RemoveAll(x => x.FirstName == "Bob");

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T04:58:53.137

如果是，`List`您可以使用[RemoveAll](http://msdn.microsoft.com/en-us/library/wdka673a.aspx)方法：

```
List1.RemoveAll(_condition_); 
```

# spring-mvc - 使用 Spring MVC NamedParameterJdbcTemplate 时遇到 NotSerializableException 错误

> ID：15425020
> 
> 赞同：2
> 
> 时间：2013-03-15T04:54:46.160
> 
> 标签：spring-mvc, notserializableexception

我正在使用 Spring MVC NamedParameterJdbcTemplate，当我从控制器调用“userService.addAndSendAccountActivationEmail(user, request)”时，出现错误。但如果我不使用命名参数（如：private static final String ADD = "insert into user_(user_id, email, username, password, create_date, modified_date, status_) values(?, ?, ?, ?, ?, ? , ?)")，一切对我来说都很好。

当在 BaseDao “jdbcTemplate.getJdbcOperations().update(sql, param, keyHolder)”上调用此行时，我在“param”对象中什么也看不到。

我添加了“org.springframework.jdbc”级别进行跟踪，请参阅下面的错误日志。

任何帮助将不胜感激。

```
@Service("userService")
public class UserService implements Serializable {

    private static final long serialVersionUID = 1L;

    @Resource
    private UserDao userDao;

    @Transactional
    public void addAndSendAccountActivationEmail(User user, HttpServletRequest request) throws SystemException {
        add(user);
        // sendAccountActivationEmail(user, request);
    }
}

public class UserDao extends BaseDao {

     */
    private static final long serialVersionUID = 1L;

    public UserDao(NamedParameterJdbcTemplate jdbcTemplate) {
        super(jdbcTemplate);
    }

    private static final String ADD = "insert into user_(user_id, email, username, password, create_date, modified_date, status_) values(:userId, :email, :username, :password, :createDate, :modifiedDate, :status)";

    public void add(User user) throws SystemException {
        long userId = updateForLongKey(ADD, user);
        user.setUserId(userId);
    }

}

public class BaseDao implements Serializable {

    private static final long serialVersionUID = 1L;

    protected NamedParameterJdbcTemplate jdbcTemplate;

    protected BaseDao(NamedParameterJdbcTemplate jdbcTemplate) {
        this.jdbcTemplate = jdbcTemplate;
    }

    protected <T> long updateForLongKey(final String sql,T t){
        SqlParameterSource param = new BeanPropertySqlParameterSource(t);
        KeyHolder keyHolder = new GeneratedKeyHolder();  
        jdbcTemplate.getJdbcOperations().update(sql, param, keyHolder);
        return keyHolder.getKey().longValue();
    }
}

DEBUG: org.springframework.jdbc.datasource.DataSourceTransactionManager - Creating new transaction with name [com.htws.account.service.UserService.addAndSendAccountActivationEmail]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT; ''
DEBUG: org.springframework.jdbc.datasource.DataSourceTransactionManager - Acquired Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@6589127] for JDBC transaction
DEBUG: org.springframework.jdbc.datasource.DataSourceTransactionManager - Switching JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@6589127] to manual commit
DEBUG: org.springframework.jdbc.core.JdbcTemplate - Executing prepared SQL update
DEBUG: org.springframework.jdbc.core.JdbcTemplate - Executing prepared SQL statement [insert into user_(user_id, email, username, password, create_date, modified_date, status_) values(:userId, :email, :username, :password, :createDate, :modifiedDate, :status)]
TRACE: org.springframework.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [org.springframework.jdbc.core.namedparam.BeanPropertySqlParameterSource@1dafb644], value class [org.springframework.jdbc.core.namedparam.BeanPropertySqlParameterSource], SQL type unknown
INFO : org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
INFO : org.springframework.jdbc.support.SQLErrorCodesFactory - SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase]
DEBUG: org.springframework.jdbc.support.SQLErrorCodesFactory - Looking up default SQLErrorCodes for DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 5, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 5000, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge16h8tu21anplw8eof|6469cee6, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> com.mysql.jdbc.Driver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge16h8tu21anplw8eof|6469cee6, idleConnectionTestPeriod -> 3000, initialPoolSize -> 10, jdbcUrl -> jdbc:mysql://localhost:3306/htws?useUnicode=true&amp;characterEncoding=UTF-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 1800, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 50, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 10, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]]
DEBUG: org.springframework.jdbc.support.SQLErrorCodesFactory - Database product name cached for DataSource [com.mchange.v2.c3p0.ComboPooledDataSource@bd9f0537]: name is 'MySQL'
DEBUG: org.springframework.jdbc.support.SQLErrorCodesFactory - SQL error codes for 'MySQL' found
DEBUG: org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator - Unable to translate SQLException with Error code '0', will now try the fallback translator
DEBUG: org.springframework.jdbc.support.SQLStateSQLExceptionTranslator - Extracted SQL state class 'S1' from value 'S1009'
TRACE: org.springframework.jdbc.datasource.DataSourceTransactionManager - Triggering beforeCompletion synchronization
DEBUG: org.springframework.jdbc.datasource.DataSourceTransactionManager - Initiating transaction rollback
DEBUG: org.springframework.jdbc.datasource.DataSourceTransactionManager - Rolling back JDBC transaction on Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@6589127]
TRACE: org.springframework.jdbc.datasource.DataSourceTransactionManager - Triggering afterCompletion synchronization
DEBUG: org.springframework.jdbc.datasource.DataSourceTransactionManager - Releasing JDBC Connection [com.mchange.v2.c3p0.impl.NewProxyConnection@6589127] after transaction
DEBUG: org.springframework.jdbc.datasource.DataSourceUtils - Returning JDBC Connection to DataSource
ERROR: com.htws.account.web.UserController - PreparedStatementCallback; SQL [insert into user_(user_id, email, username, password, create_date, modified_date, status_) values(:userId, :email, :username, :password, :createDate, :modifiedDate, :status)]; Invalid argument value: java.io.NotSerializableException; nested exception is java.sql.SQLException: Invalid argument value: java.io.NotSerializableException
org.springframework.dao.TransientDataAccessResourceException: PreparedStatementCallback; SQL [insert into user_(user_id, email, username, password, create_date, modified_date, status_) values(:userId, :email, :username, :password, :createDate, :modifiedDate, :status)]; Invalid argument value: java.io.NotSerializableException; nested exception is java.sql.SQLException: Invalid argument value: java.io.NotSerializableException
    at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:107)
    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:72)
    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:80)
    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:80)
    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:603)
    at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:812)
    at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:868)
    at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:876)
    at com.htws.core.dao.BaseDao.updateForLongKey(BaseDao.java:34)
    at com.htws.account.dao.UserDao.add(UserDao.java:86)
    at com.htws.account.service.UserService.add(UserService.java:65)
    at com.htws.account.service.UserService.addAndSendAccountActivationEmail(UserService.java:58)
    at com.htws.account.service.UserService$$FastClassByCGLIB$$4b2f4817.invoke(<generated>)
    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:698)
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)
    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)
    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:631)
    at com.htws.account.service.UserService$$EnhancerByCGLIB$$78d9a26a.addAndSendAccountActivationEmail(<generated>)
    at com.htws.account.web.UserController.processRegister(UserController.java:60)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    at java.lang.reflect.Method.invoke(Method.java:597)
    at org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:219)
    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)
    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)
    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)
    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:686)
    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)
    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)
    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)
    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:920)
    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:827)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)
    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:801)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)
    at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)
    at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)
    at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)
    at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383)
    at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)
    at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)
    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)
    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:259)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)
    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)
    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)
    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)
    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)
    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)
    at com.springsource.insight.collection.tcserver.request.HttpRequestOperationCollectionValve.invoke(HttpRequestOperationCollectionValve.java:64)
    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)
    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:857)
    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)
    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:409)
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
    at java.lang.Thread.run(Thread.java:680)
Caused by: java.sql.SQLException: Invalid argument value: java.io.NotSerializableException
    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1074)
    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:988)
    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:974)
    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:919)
    at com.mysql.jdbc.PreparedStatement.setSerializableObject(PreparedStatement.java:4412)
    at com.mysql.jdbc.PreparedStatement.setObject(PreparedStatement.java:4083)
    at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.setObject(NewProxyPreparedStatement.java:365)
    at org.springframework.jdbc.core.StatementCreatorUtils.setValue(StatementCreatorUtils.java:365)
    at org.springframework.jdbc.core.StatementCreatorUtils.setParameterValueInternal(StatementCreatorUtils.java:217)
    at org.springframework.jdbc.core.StatementCreatorUtils.setParameterValue(StatementCreatorUtils.java:145)
    at org.springframework.jdbc.core.ArgPreparedStatementSetter.doSetValue(ArgPreparedStatementSetter.java:65)
    at org.springframework.jdbc.core.ArgPreparedStatementSetter.setValues(ArgPreparedStatementSetter.java:46)
    at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:816)
    at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:812)
    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:587)
    ... 63 more
Caused by: java.io.NotSerializableException: org.springframework.jdbc.core.namedparam.BeanPropertySqlParameterSource
    at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1164)
    at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:330)
    at com.mysql.jdbc.PreparedStatement.setSerializableObject(PreparedStatement.java:4401)
    ... 73 more 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T04:58:15.543

尝试使用 NamedParameterJdbcTemplate 而不是 SqlParameterSource 。

Jdbc 模板没有使用 SqlParameterSource 的方法

# asp.net - ASP.Net 中的 Web 发布不针对以下文件格式发布

> ID：15425022
> 
> 赞同：4
> 
> 时间：2013-03-15T04:54:56.043
> 
> 标签：asp.net, fonts, publishing

我正在尝试发布一个网站，其中 css 目录包含用于字体设置的不同文件。

以下是文件和扩展名：

```
 calibri-webfont.eot
 calibri-webfont.svg
 calibri-webfont.ttf
 calibri-webfont.woff
 calibri-webfont.oft 
```

现在当我尝试发布网站时，它只是发布 .svg 文件，其他文件我需要手动复制。在发布以下选项时，我已经检查过：

1.  用本地副本替换匹配的文件
2.  只有运行此应用程序所需的文件。

预期：由于所有这些文件都是必需的，我希望这些文件能够自动发布，而不是手动处理。

如何做到这一点？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2014-02-17T13:22:03.683

我知道你很久以前就问过这个问题，但今天它在谷歌上排名很高，我也遇到了同样的问题。今天的修复是 Azure 没有为多种字体文件格式配置 MIME 类型。这必须添加到 web.config 中，否则 Azure 只会返回 404 错误（即使文件*已*实际发布）。

```
<system.webServer>
    <staticContent>
        <mimeMap fileExtension="woff" mimeType="application/font-woff" />
    </staticContent>
</system.webServer> 
```

来源： http: [//www.codepal.co.uk/show/WOFF_files_return_404_in_Azure_Web_Sites](http://www.codepal.co.uk/show/WOFF_files_return_404_in_Azure_Web_Sites)

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-15T05:05:57.067

如果您的文件未包含在项目中（仅包含在文件结构中），请在 Visual Studio 中单击解决方案资源管理器中的“显示所有文件”图标（看起来像 3 页）。右键单击文件并选择“包含在项目中”

通过右键单击访问文件属性，然后确保 Build Action 属性设置为“Content”。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-03-29T05:22:26.703

通过右键单击文件属性，然后确保构建操作属性设置为“内容”。

工作正常

# java - Java不删除自己创建的文件

> ID：15425024
> 
> 赞同：0
> 
> 时间：2013-03-15T04:55:06.070
> 
> 标签：java, file

我在这里看到过关于`File.delete()`没有按预期工作的类似问题，但这与 Java 实际创建文件的方式略有不同，但在完成后不会将其删除。

```
File genFile = new File(parsed);
... sends file data across socket ... 
genFile.delete(); 
```

`genFile`生成的文件（

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:03:34.620

`File.delete()`不好，因为它对错误保持沉默。

尝试

```
java.nio.file.Files.delete(file.toPath());  // throws IOException 
```

它可能会告诉您无法删除文件的原因。（或者它可能不会：）

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:07:22.673

在尝试删除（）之前，您需要关闭（）文件连接

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T05:10:00.023

添加

```
genFile.close(); 
```

前

```
genFile.delete(); 
```

当您尝试删除文件时，流不会被刷新，因此请先关闭流并删除文件。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-15T05:10:40.680

如果您在 Windows 或 *Unix 下运行，那么这些信息将是相关的。

Windows 不会删除任何应用程序打开的文件；在删除之前关闭文件。

Unix 变体*应该*继续删除文件（释放 inode）。

# tsql - 将 Excel 2010 导入 SQL Server

> ID：15425028
> 
> 赞同：1
> 
> 时间：2013-03-15T04:55:27.983
> 
> 标签：tsql, sql-server-express, sql-server-2012-express

我使用 Excel 收集和配置数据，然后将其导入 SQL Server 2012 进行存储。

到目前为止，我一直在使用 SQL Server 导入和导出向导，但不断手动设置它很痛苦。由于我使用的是 Express，当然它不允许我保存甚至查看传输数据的实际命令。

[我尝试根据如何将 Excel 与 SQL Server 链接服务器和分布式查询一起使用](http://support.microsoft.com/kb/306397/EN-US)来设置链接服务器，但出现以下错误：

> *已创建链接服务器，但连接测试失败。您要保留链接服务器吗？*
> 
> *执行 Transact-SQL 语句或批处理时发生异常。(Microsoft.SqlServer.ConnectionInfo)*
> 
> *无法为链接服务器“FLTST”初始化 OLE DB 提供程序“Microsoft.Jet.OLEDB.4.0”的数据源对象。
> 链接服务器“FLTST”的 OLE DB 提供程序“Microsoft.Jet.OLEDB.4.0”返回消息“未指定错误”。（Microsoft SQL Server，错误：7303）*

我想也许 Excel 版本号是问题所在，因为网页是 2005 年的，所以我尝试了：

*   Excel 8.0 (Excel 2002) 如页面所示
*   Excel 12.0 (Excel 2007) 这是向导似乎使用的
*   Excel 14.0 (Excel 2010) 我实际拥有的

所有这些都给了我相同的结果。

接下来，我尝试了[Import excel file to SQL Server Express](http://forums.asp.net/t/1097839.aspx/1)中所示的*分布式查询*（再次使用提供程序字符串的不同变体）

```
USE ExTest

SELECT * INTO TstTbl FROM OPENROWSET('Microsoft.Jet.OLEDB.4.0',
'Excel 14.0;Database=c:\ExTest.xlsm', [Contacts])

go 
```

这给了我以下错误：

> *链接服务器“（null）”的 OLE DB 提供程序“Microsoft.Jet.OLEDB.4.0”返回消息“未指定错误”。
> 消息 7303，级别 16，状态 1，第 3 行
> 无法初始化链接服务器“（null）”的 OLE DB 提供程序“Microsoft.Jet.OLEDB.4.0”的数据源对象。*

我应该留在 Excel 中并将其推送过来，而不是去 SQL Server 并拉入数据吗？

我究竟做错了什么？

PS：**请**不要告诉我将其转换为csv文件！我正在尝试做*更少的*步骤，而不是更多！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-07-16T08:40:05.737

遇到与您的问题类似的问题，我对此进行了一些研究。我的问题还没有完全解决，但我想我可能会让你更进一步。尽管这个问题很老，但也许还有其他人需要帮助。

通过运行：

```
SELECT * 
FROM OPENROWSET('Microsoft.ACE.OLEDB.12.0', 'Excel 12.0 Xml;HDR=YES;Database=P:\Path\File.xlsx','SELECT * FROM [Sheet1$]');
GO 
```

我收到以下错误消息：

> 消息 15281，级别 16，状态 1，第 19 行 SQL Server 阻止了对组件“即席分布式查询”的声明“OpenRowset/OpenDatasource”的访问，因为该组件作为该服务器安全配置的一部分被关闭。系统管理员可以使用 sp_configure 启用“即席分布式查询”的使用。有关启用“即席分布式查询”的详细信息，请在 SQL Server 联机丛书中搜索“即席分布式查询”。

为了解决这个问题，我运行以下命令：

```
sp_configure 'show advanced options', 1  
RECONFIGURE  
GO  
sp_configure 'ad hoc distributed queries', 1  
RECONFIGURE  
GO 
```

但我收到一条新的错误消息：

> 消息 7302，级别 16，状态 1，第 19 行无法为链接服务器“（null）”创建 OLE DB 提供程序“Microsoft.ACE.OLEDB.12.0”的实例。

为了纠正我运行：

```
EXEC sp_MSSet_oledb_prop N'Microsoft.ACE.OLEDB.12.0', N'AllowInProcess', 1
GO

EXEC sp_MSSet_oledb_prop N'Microsoft.ACE.OLEDB.12.0', N'DynamicParameters', 1
GO 
```

但我得到了这个错误：

> 消息 7438，级别 16，状态 1，第 19 行 32 位 OLE DB 提供程序“Microsoft.ACE.OLEDB.12.0”无法在 64 位 SQL Server 的进程中加载​​。

就我而言，我已要求 IT 部门在服务器上安装 64 位版本的 excel，我希望这应该是从 excel 导入时技术问题的结束。

为了事后清理，我禁用了我刚刚启用的设置：

```
EXEC sp_MSSet_oledb_prop N'Microsoft.ACE.OLEDB.12.0', N'AllowInProcess', 0
GO

EXEC sp_MSSet_oledb_prop N'Microsoft.ACE.OLEDB.12.0', N'DynamicParameters', 0
GO

sp_configure 'ad hoc distributed queries', 0
RECONFIGURE  
GO

sp_configure 'show advanced options', 0  
RECONFIGURE  
GO 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:09:05.573

1.  使用 Excel 数据源连接管理器创建 SSIS 包，目标是您的 SQL Express，OLE DB 目标
2.  创建 Excel 连接管理器时，您可以只使用一个现有的 excel 文件
3.  定义一个用户变量，如user::sourceFile，用于输入excel文件全路径
4.  创建 Excel 连接管理器后，右键单击-> preperties-> 找到“表达式”，只需将 [User::sourceFile] 给表达式
5.  只需创建一个从源到目的地的简单数据流
6.  保存并调试您的 SSIS 包，确保所有凭证都有效并且数据可以流入目标表。注意：不要将敏感数据保存在您的包中，并通过机器密钥进行加密
7.  每次需要加载新文件时，使用DTEXEC执行打包并覆盖参数

祝你好运

# php - wkhtmltopdf 和多个页面

> ID：15425029
> 
> 赞同：1
> 
> 时间：2013-03-15T04:55:33.993
> 
> 标签：php, pdf-generation, wkhtmltopdf

我正在尝试将[单击此处](http://vz275.worldserver.net/converter/pdf/52040/HandangoOverview.php)的 html 页面转换 为 pdf。当我使用 wkhtmltopdf 时，我得到了这个结果[，点击这里](http://vz275.worldserver.net/converter/pdf/52040/HandangoOverview.pdf)

我使用的选项是： `xvfb-run --server-args="-screen 0, 1024x768x24" wkhtmltopdf --use-xserver -B 0 -L 0 -R 0 -T 0 -s A4 --zoom 1.0 -d 96`

还尝试了其他一些，但结果都很糟糕。

也许你们中的某个人遇到了同样的问题并找到了解决方案。如果有人可以帮助我，那就太好了。

亲切的问候

诺金

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:09:54.563

我非常幸运地通过 PHP 使用 FPDF 类生成格式正确的 PDF 文件：[www.fpdf.org](http://www.fpdf.org)

我不知道该解决方案是否适合您的项目，但我一直能够轻松地按照文档调整我的输出，以避免像您目前遇到的问题。

# php - 发生错误。请稍后再试。在脸书应用程序中

> ID：15425030
> 
> 赞同：0
> 
> 时间：2013-03-15T04:55:39.650
> 
> 标签：php, facebook, facebook-graph-api, facebook-php-sdk

Facebook 允许仅为管理员授权我的应用程序，但在其他用户授权我的应用程序时，它显示错误“发生错误。请稍后再试。'

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T05:03:16.923

在您的 facebook 应用程序页面 ( [https://developers.facebook.com/](https://developers.facebook.com/) ) 中，有一个名为`sandbox mode`禁用它的选项。

如果启用该选项，即如果应用程序处于沙盒模式，只有所有者（管理员）可以使用它，则需要禁用它才能让用户使用它。

![在此处输入图像描述](../Images/d835de941ee23fe2700e8bfe73b88d1e.png)

# c# - SignalR 不添加服务器回调

> ID：15425032
> 
> 赞同：0
> 
> 时间：2013-03-15T04:55:53.487
> 
> 标签：c#, .net, signalr-hub, signalr.client

当我每次尝试添加新的服务器回调函数时，我似乎无法让回调显示在 $.connection 服务器回调列表中。

我需要做什么来刷新 SignalR 生成并使用最新的服务器回调列表发送到客户端的 javascript。

我认为我应该能够为客户端添加一个服务器回调来调用和重建我的应用程序并启动一个新的 Google Chrome 实例，并且新添加的服务器回调将在客户端的可用回调列表中。

例如，这正是我所做的。

1.) 一个客户加入一个群组，每个人都会收到通知。

```
 public override Task OnConnected()
    {
        string pid = this.Context.QueryString["pid"],
               uid = this.Context.QueryString["uid"],
               ispro = this.Context.QueryString["ispro"];

        Groups.Add(this.Context.ConnectionId, pid);

        return Clients.Group(pid).joined(new cmsg(Context.ConnectionId, UtilCommon.GetUserMini(new Guid(uid), bool.Parse(ispro))));
    } 
```

2.) 在客户端，加入的函数是从服务器调用的

```
 this.collaborateHub.client.joined = function (cmsg) {
        //
        that.chatBox.addAttendee(cmsg);

        //let the new attendee know about you
        if (cmsg.cnnid !== that.chatBox.getMeAttendee().cnnid) {
            that.chatBox.getMeAttendee().newbieid = cmsg.cnnid;
            debugger
            this.server.addMeNewbie(that.chatBox.getMeAttendee());
        };
    }; 
```

3.) 现在，如果有人加入了，不是当前打开的窗口的用户，那说明刚加入的人不是我自己，所以我需要回拨服务器通知新加入的用户加我到他们的用户列表。我不必跟上数据库中给定组的当前登录用户，我只是将组的每个登录客户端用作分布式数据库，并让他们管理自己的信息。

所以，我需要调用名为 addMeNewbie 的服务器回调；但是，此回调函数在列表中不可用。

```
 public Task addMeNewbie(cmsg cmsg) {

        return Clients.Client(cmsg.newbieid).addCurrAttendee(cmsg);
    } 
```

这是调试模式下客户端的快照 ![调试快照](../Images/2a6e45ab9787aef426fa7c259a074a02.png)

4.) 最后这里是我需要服务器调用的客户端回调，以便新加入的组成员可以更新他们当前组成员的列表。

```
 this.collaborateHub.client.addCurrAttendee = function (cmsg) {
        debugger
        that.chatBox.addAttendee(cmsg);
    }; 
```

我认为我应该能够添加任意数量的服务器回调，并且它们应该出现在下一次构建和重新启动 Google Chrome 的新实例时；然而，这种情况并非如此。我需要做什么才能让新添加的服务器回调显示在客户端的可用服务器回调中？这对我来说并没有，但我在想这可能是兑现问题还是什么？

唯一可用的回调是提供的快照中显示的回调。目前我只有两个回调，一个是在快照中看到的，一个是不可见的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T19:11:22.747

在此过程中，我从生成的 JavaScript 文件中创建了一个 signalr-hubs.js 文件，该文件可以由我的集线器检索`http://localhost:3250/signalr/hubs`并向我的集线器添加新的服务器功能，但没有更新 signalr-hugs.js 文件。

此时，每次我添加新的服务器回调时，我都会通过将此 url`http://localhost:3250/signalr/hubs`放入浏览器、处理代码、然后更新我的 signalr-hubs.js 文件来检索新生成的代理。

# mysql - 我可以在内部连接的 On 子句中使用 ifnull() 吗？

> ID：15425034
> 
> 赞同：0
> 
> 时间：2013-03-15T04:56:13.940
> 
> 标签：mysql, sql, select, ifnull

我有 2 列 `Table1`：*email1*和*email2*。我需要通过连接其他表中的 FirstName 和 LastName 来获取全名，并且它与上述电子邮件字段相关联。但我需要确保，如果 email2 字段存在则获取关联的名称列，如果 email2 字段为空，则获取与 email1 关联的值。所以请告诉我如何使用 ifnull() 并进行内部连接？这是表结构：

表格1

*   电子邮件1
*   电子邮件2

表2

*   名
*   姓
*   电子邮件

在此先感谢，克里希纳

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T04:58:30.690

```
SELECT  COALESCE(CONCAT(c.FirstName, ' ', c.LastName), CONCAT(b.FirstName, ' ', b.LastName)) FullName
FROM    table1 a
        LEFT JOIN table2 b
            ON a.email1 = b.email
        LEFT JOIN table2 c
            ON a.email2 = c.email 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!2/2960e/1)

要进一步了解有关联接的更多信息，请访问以下链接：

*   [SQL 连接的可视化表示](http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html)

# jquery - jQuery 专注于 Div 与 contentedible

> ID：15425035
> 
> 赞同：0
> 
> 时间：2013-03-15T04:56:14.853
> 
> 标签：jquery

当我按下回车键时，我无法改变对 div 的关注。任何人都可以帮忙吗？

```
<div contenteditable="true" id="t" tabindex="-1">
            <div class="me" spellcheck="true" content="inhert" >Hello <span style="font-weight: normal;">world2!</span></div>
            <div class="me" spellcheck="true" content="inhert" >Hello <span style="font-weight: normal;">world3!</span></div>
            <div class="me" spellcheck="true" content="inhert" id="last">Hello <span style="font-weight: normal;">world4!</span></div>
</div>

$("div").bind("keypress", function(event){
                if(event.keyCode == 13){                            
                    event.preventDefault();
                    $("#last").focus();
                }
            }); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:05:03.687

尝试这个：

**HTML：**

```
<div contenteditable="true" id="t" tabindex="-1">
    <div class="me" spellcheck="true" content="inhert" >Hello 
        <span style="font-weight: normal;">world2!</span></div>
    <div class="me" spellcheck="true" content="inhert" >Hello 
        <span style="font-weight: normal;">world3!</span></div>       
</div>
<div contenteditable="true" class="me" spellcheck="true" content="inhert" id="last">Hello 
    <span style="font-weight: normal;">world4!</span></div> 
```

制作`last div` `contenteditable="true"`它，它应该`outside`是`main div`

**脚本：**

```
$("div").bind("keypress", function(event){
    if(event.keyCode == 13){    
        //alert('ya');
        event.preventDefault();
        $("#last").focus();

    }
}); 
```

**小提琴：http:** [//jsfiddle.net/Q4J87/](http://jsfiddle.net/Q4J87/)

你可以像这样使用它

```
$("#last").prop('contenteditable',true).focus();
// alternative if contenteditable not set for last div 
```

**小提琴：http:** [//jsfiddle.net/Q4J87/1/](http://jsfiddle.net/Q4J87/1/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T05:06:51.487

默认情况下，焦点不适用于 div。

> 当元素获得焦点时，焦点事件被发送到元素。此事件隐式适用于一组有限的元素，例如表单元素（、等）和链接（）。在最近的浏览器版本中，可以通过显式设置元素的 tabindex 属性来扩展事件以包括所有元素类型。元素可以通过键盘命令（例如 Tab 键）或通过鼠标单击元素获得焦点。

### [读](http://api.jquery.com/focus/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T05:21:47.977

以下代码应该可以工作：

```
<html>
        <head>
                <title>Test Website</title>
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
                <script>
                        $(document).ready(function() {
                                                $("div#last").focus();
                        });
                </script>
        </head>
<body>

        <div contenteditable="true" id="t" tabindex="1">
                    <div class="me" spellcheck="true" content="inhert" >Hello <span style="font-weight: normal;">world2!</span></div>
                    <div class="me" spellcheck="true" content="inhert" >Hello <span style="font-weight: normal;">world3!</span></div>
                    <div class="me" spellcheck="true" content="inhert" tabindex="2" id="last">Hello <span style="font-weight: normal;">world4!</span></div>
        </div>

</body>

</body>
</html> 
```

# mongodb - MongoDB+Scala：访问深层嵌套数据

> ID：15425038
> 
> 赞同：0
> 
> 时间：2013-03-15T04:56:23.620
> 
> 标签：mongodb, scala, nested, casbah

我认为应该有一个简单的解决方案，但我找不到它。

我开始在 Scala 中使用以下内容从 MongoDB 访问数据：

```
val search = MongoDBObject("_id" -> new ObjectId("xxx"))
val fields = MongoDBObject("community.member.name" -> 1, "community.member.age" -> 1)

for (res <- mongoColl.find(search, fields)) {
    var memberInfo = res.getAs[BasicDBObject]("community").get
    println(memberInfo)
} 
```

并得到一个 BasicDBObject 作为结果：

```
{
"member" : [
    {
        "name" : "John Doe",
        "age" : "32",
    },{
        "name" : "Jane Doe",
        "age" : "29",
    },
    ...
]
} 
```

我知道我可以使用 getAs[String] 访问值，尽管这在这里不起作用……有人知道吗？找了几个小时的解决方案...

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:00:39.647

如果您使用复杂的 MongoDB 对象，您可以使用[Salat](https://github.com/novus/salat)，它提供了简单的案例类序列化。
使用您的数据进行采样：

```
case class Community(members:Seq[Member], _id: ObjectId = new ObjectId)

case class Member(name:String, age:Int)

val mongoColl: MongoCollection = _

val dao = new SalatDAO[Community, ObjectId](mongoColl) {}

val community = Community(Seq(Member("John Doe", 32), Member("Jane Doe", 29)))
dao.save(community)

for {
    c <- dao.findOneById(community._id)
    m <- c.members
} println("%s (%s)" format (m.name, m.age)) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:50:04.027

我觉得你应该试试

```
val member = memberInfo.as[MongoDBList]("member").as[BasicDBObject](0)
println(member("name")) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T08:17:20.107

这个问题实际上与 MongoDB 无关，而与您的数据结构有关。您的 JSON/BSON 数据结构包括

*   一个对象社区，其中包括
    *   一组成员
        *   每个成员都有属性名称或年龄。

您的问题完全等同于以下问题：

```
case class Community(members:List[Member])

case class Member(name:String, age:Int)

val a = List(member1,member2)

// a.name does not compile, name is a property defined on a member, not on the list 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-03-18T16:30:18.760

是的，你可以通过推导很好地做到这一点。您可以执行以下操作：

```
for { record <- mongoColl.find(search,fields).toList
      community <- record.getAs[MongoDBObject]("community")
      member <- record.getAs[MongoDBObject]("member")
      name <- member.getAs[String]("name") } yield name 
```

这只是为了获得名称。要获得多个值，我认为您会这样做：

```
for { record <- mongoColl.find(search,fields).toList
      community <- record.getAs[MongoDBObject]("community")
      member <- record.getAs[MongoDBObject]("member")
      field <- List("name","age") } yield member.get(field).toString 
```

# java - java.lang.NoClassDefFoundError 如何解决这个问题？

> ID：15425039
> 
> 赞同：0
> 
> 时间：2013-03-15T04:56:26.583
> 
> 标签：java, compiler-errors

运行此代码时出现以下错误：

这是完整的 Stackflow，任何输入将不胜感激；

```
Exception in thread "main" java.lang.NoClassDefFoundError: ExecuteQuiz
Caused by: java.lang.ClassNotFoundException: ExecuteQuiz
    at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
    at java.security.AccessController.doPrivileged(Native Method)
    at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
    at java.lang.ClassLoader.loadClass(ClassLoader.java:247) 
```

知道为什么吗？我有 7 个其他类与该项目有关，但从未见过此错误。

```
 import java.io.File;
    import java.io.IOException;
    import java.util.ArrayList;
    import java.util.Collections;
    import java.util.Scanner;

    public class ExecuteQuiz {

    static Scanner input = new Scanner(System.in);

    public static void main(String[] args) throws IOException {
        // ask the user for the filename
        Scanner scan = new Scanner(System.in);

        System.out.print("Which quiz are you taking? ");
        String theFile = scan.nextLine(); // file may contain more than one word
        File fileIn = new File(theFile);

        // ask the user for another filename if the given file doesn't exist
        // exists() method in File class - checks whether file
        // exists and is readable
        while (!fileIn.exists()) {
            System.out.print("Invalid file name! Try again: ");

            theFile = scan.nextLine();

            fileIn = new File(theFile);
        }

        // have a valid file name, create a Scanner object
        Scanner fileScan = new Scanner(fileIn);

        // An arraylist of ALL problems.
        ArrayList<Problem> problems = new ArrayList<Problem>();

        // process the file
        while (fileScan.hasNextLine()) {
            String type = scan.nextLine(); // Get the line in a string
            String question = scan.nextLine();

            switch (type) {
            case "W":
                String WAnswer = scan.nextLine();
                WProblem w = new WProblem(question, WAnswer);
                problems.add(w);
                break;
            case "T":
                String TString = scan.nextLine(); // Gets the string
                boolean TAnswer = Boolean.parseBoolean(TString); // Converts to
                                                                    // boolean
                TProblem t = new TProblem(question, TAnswer); // Creates the
                                                                // object
                problems.add(t);
                break;
            case "N":
                String Nanswer = scan.nextLine();
                NProblem n = new NProblem(question, Nanswer);
                problems.add(n);
                break;
            case "S":
                ArrayList<String> options = new ArrayList<String>();
                // Get the answer and add it to the options
                String SAnswer = input.nextLine();
                options.add(SAnswer);

                // add the rest of options
                while (input.nextLine() != null) {
                    String option = input.nextLine();
                    options.add(option);
                }
                // Create new objects
                SProblem s = new SProblem(question, SAnswer, options);

                problems.add(s);
                break;
            case "M":
                ArrayList<String> MAnswer = new ArrayList<String>();
                ArrayList<String> MOptions = new ArrayList<String>();

                // Find all the answers
                while (input.nextLine() != null) {
                    String answer = input.nextLine();
                    MAnswer.add(answer);
                    MOptions.add(answer);
                }

                // get the rest of the options
                while (input.nextLine() != null) {
                    MOptions.add(input.nextLine());
                }

                MProblem m = new MProblem(question, MAnswer, MOptions);
                problems.add(m);
                break;
            case "O":
                // Adding answers into an arraylist
                ArrayList<String> OrderedAnswer = new ArrayList<String>();

                // Add the answers in order
                while (input.nextLine() != null) {
                    OrderedAnswer.add(input.nextLine());
                }
                OProblem o = new OProblem(question, OrderedAnswer);
                problems.add(o);
                break;
            }
            // Analyze the type of problem

        }
    }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:03:25.070

你的类有主要的编译时间问题。你甚至编译过代码并检查过..？？

开关盒在编译中给出错误：不兼容的类型

该类尚未编译，您正在尝试直接运行它。因此没有找到类定义错误。

尝试改变部分：

```
case "W": 
```

至

```
case 1: 
```

编译然后运行

我使用了以下代码：

```
import java.io.File;
import java.io.IOException;

import java.util.ArrayList;
import java.util.Scanner;

public class ExecuteQuiz {

    static Scanner input = new Scanner(System.in);

    public static void main(String[] args) throws IOException {
        // ask the user for the filename
        Scanner scan = new Scanner(System.in);

        System.out.print("Which quiz are you taking? ");
        String theFile = scan.nextLine(); // file may contain more than one word
        File fileIn = new File(theFile);

        // ask the user for another filename if the given file doesn't exist
        // exists() method in File class - checks whether file
        // exists and is readable
        while (!fileIn.exists()) {
            System.out.print("Invalid file name! Try again: ");

            theFile = scan.nextLine();

            fileIn = new File(theFile);
        }

        // have a valid file name, create a Scanner object
        Scanner fileScan = new Scanner(fileIn);

        // An arraylist of ALL problems.
        ArrayList<Problem> problems = new ArrayList<Problem>();

        // process the file
        while (fileScan.hasNextLine()) {
            int type = Integer.parseInt(scan.nextLine()); // Get the line in a string
            String question = scan.nextLine();

            switch (type) {
            case 1:
                String WAnswer = scan.nextLine();
                WProblem w = new WProblem(question, WAnswer);
                problems.add(w);
                break;
            case 2:
                String TString = scan.nextLine(); // Gets the string
                boolean TAnswer = Boolean.parseBoolean(TString); // Converts to
                // boolean
                TProblem t = new TProblem(question, TAnswer); // Creates the
                // object
                problems.add(t);
                break;
            case 3:
                String Nanswer = scan.nextLine();
                NProblem n = new NProblem(question, Nanswer);
                problems.add(n);
                break;
            case 4:
                ArrayList<String> options = new ArrayList<String>();
                // Get the answer and add it to the options
                String SAnswer = input.nextLine();
                options.add(SAnswer);

                // add the rest of options
                while (input.nextLine() != null) {
                    String option = input.nextLine();
                    options.add(option);
                }
                // Create new objects
                SProblem s = new SProblem(question, SAnswer, options);

                problems.add(s);
                break;
            case 5:
                ArrayList<String> MAnswer = new ArrayList<String>();
                ArrayList<String> MOptions = new ArrayList<String>();

                // Find all the answers
                while (input.nextLine() != null) {
                    String answer = input.nextLine();
                    MAnswer.add(answer);
                    MOptions.add(answer);
                }

                // get the rest of the options
                while (input.nextLine() != null) {
                    MOptions.add(input.nextLine());
                }

                MProblem m = new MProblem(question, MAnswer, MOptions);
                problems.add(m);
                break;
            case 6:
                // Adding answers into an arraylist
                ArrayList<String> OrderedAnswer = new ArrayList<String>();

                // Add the answers in order
                while (input.nextLine() != null) {
                    OrderedAnswer.add(input.nextLine());
                }
                OProblem o = new OProblem(question, OrderedAnswer);
                problems.add(o);
                break;
            }
            // Analyze the type of problem

        }
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:01:23.867

似乎 ExecuteQuiz 类不在类路径上。在类路径中设置它。

如果你在windows上，你可以如下设置

```
set CLASSPATH=%CLASSPATH%.; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T05:01:51.997

这不是编译器错误。

启动 java 应用程序的典型方法是`java -classpath <path> FullyQualifiedClassName`

在您的情况下，FullyQualifiedClassName 是`ExecuteQuiz`

编译后，您的类将形成与类匹配的目录结构。提供该树的根作为类路径的一部分。您还应该添加任何其他依赖项，例如 jars。

[有关如何找到类的](http://docs.oracle.com/javase/7/docs/technotes/tools/findingclasses.html)更多参考

# jpa - 具有空值关系中目标实体属性的 JPQL LIKE 表达式

> ID：15425040
> 
> 赞同：2
> 
> 时间：2013-03-15T04:56:33.137
> 
> 标签：jpa, eclipselink, jpql

我有一个实体命名为`Item`与另一个`Category`可以为空的实体的关系。这两个实体如下：

**物品**

```
@Entity
public class Item {
     @Id
     private String id;
     private String name;
     private String code;
     @ManyToOne
     private Category category;
} 
```

**类别**

```
@Entity
public class Category {
     @Id
     private String id;
     private String name;
} 
```

现在，我必须选择与搜索词具有相似**名称**、**代码**或**类别名称的****项目，为此我尝试了以下查询：**

 ******```
"SELECT item FROM Item item "
                + "WHERE item.code LIKE :searchTerm OR item.name LIKE :searchTerm "
                + "OR item.category.name LIKE :searchTerm" 
```

`searchTerm`设置使用

```
query.setParameter("searchTerm", "%" + searchTerm + "%"); 
```

`category`但如果为空（否则有效），则结果不会为空。我也尝试了以下查询。

```
"SELECT item FROM Item item "
                + "WHERE item.code LIKE :searchTerm OR item.name LIKE :searchTerm "
                + "OR (item.category IS NOT NULL AND item.category.name LIKE :searchTerm)" 
```

这也没有奏效。仅当类别不为空时，如何才能检查类别名称？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T08:36:59.767

尝试使用左连接：

```
"SELECT item FROM Item item LEFT JOIN item.category cat"
            + "WHERE item.code LIKE :searchTerm OR item.name LIKE :searchTerm "
            + "OR (cat.categoryID IS NOT NULL AND cat.name LIKE :searchTerm)" 
```

[JPQL 文档](http://docs.oracle.com/html/E24396_01/ejb3_langref.html)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T07:41:29.147

只需检查上述参数化值的 null 即可。jpa 不返回空指针异常，因为我们只在双引号内给出空值。因此，就像 java 一样，它将 null 作为字符串并尝试从您的数据库中获取 '%null%' 的值。因此，它返回空列表。******

# iphone - 应用程序进入后台和自动锁定

> ID：15425041
> 
> 赞同：1
> 
> 时间：2013-03-15T04:56:42.143
> 
> 标签：iphone, ios

有什么区别 - 一个 iphone 应用程序进入后台和手机被自动锁定

我正在开发一个 iPhone 应用程序我的应用程序在从后台返回时恢复其上传过程但是如果从自​​动锁定解锁它就不起作用

是什么问题..我尝试了很多，但无法弄清楚..请帮助我

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T05:07:31.693

iOS 会在屏幕关闭时关闭 WiFi - 这对于节省电池很有好处。

所以请在上传时检查wifi连接..

您可以在上传时以编程方式限制自动锁定或设备恢复，并在完成上传过程后以编程方式启用自动锁定。

如果设备连接到电源，即使设备进入睡眠状态，Wifi 也会保持启用状态。如果设备未连接到电源，则一旦设备进入睡眠状态，Wifi 就会被禁用。

这当然是为了减少电池消耗而设计的

# c# - 如何通过 directshow.net 配置摄像机？

> ID：15425049
> 
> 赞同：0
> 
> 时间：2013-03-15T04:57:49.493
> 
> 标签：c#, .net, directshow.net

我发现了一些使用 directshow.net（在 C# 中）从相机捕获视频的示例，但我没有看到任何有关配置视频的示例（例如背光补偿、亮度、对比度、清晰度、白平衡、色调......） ，相机设置（曝光，对焦，平移，滚动，倾斜，缩放...），视频输出格式，...如果您给我一个示例或文档链接来指导如何做到这一点，我将不胜感激directshow.net C#。

提前谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-07T12:31:00.763

您应该查看显示如何获取和使用[`IAMVideoProcAmp`interface](http://msdn.microsoft.com/en-us/library/windows/desktop/dd376033%28v=vs.85%29.aspx)的示例代码。标准示例不演示它，但它已定义且可用。

作为记录，您已经找到了一个有用的问题：[如何使用 IAMVideoProcAmp 设置相机的亮度？](https://stackoverflow.com/questions/15613847/how-can-i-set-brightness-for-camera-using-iamvideoprocamp)

# ruby-on-rails - 带有轮胎的 ElasticSearch 不包括带有 STI 模型的自定义分析器

> ID：15425054
> 
> 赞同：0
> 
> 时间：2013-03-15T04:58:17.383
> 
> 标签：ruby-on-rails, elasticsearch, tire, sti

我有一个 STI 模型，我想用 ElasticSearch 和 Tire 进行搜索。我遇到的问题是当轮胎创建映射时，它似乎忽略了第二个模型的自定义分析器。下面是我的模型示例。

```
class Account < ActiveRecord::Base
  attr_accessible :name, :type

  include Tire::Model::Search
  include Tire::Model::Callbacks

  tire.settings :analysis => {
          :analyzer => {
          "custom_search_analyzer" => {
              "tokenizer" => "keyword",
              "filter" => "lowercase"
          },
          "custom_index_analyzer" => {
              "tokenizer" => "keyword",
              "filter" => ["lowercase","substring"]
          }
      },
      :filter => {
          :substring => {
              "type" => "nGram",
              "min_gram" => 1,
              "max_gram" => 20
          }
      }
  } do
    mapping do
      indexes :id, :type => 'integer', :include_in_all => false
      indexes :name, :type => 'string', :search_analyzer => :custom_search_analyzer,     :index_analyzer=>:custom_index_analyzer
    end
  end

  def to_indexed_json
    hash = {}
    hash[:id] = id
    hash[:name] = name
    hash.to_json
  end
end

class StandardAccount < Account
  tire.index_name 'accounts'
end

class SuperAccount < Account
  tire.index_name 'accounts'
end 
```

当我通过轮胎创建索引时，无论是使用 rake 任务还是通过创建模型，它都会创建映射，但对于继承的模型，它不会将自定义分析器应用于它们。如果我查看映射使用

```
curl -XGET 'http://127.0.0.1:9200/accounts/_mapping?pretty=1' 
```

我得到：

```
{
  "accounts" : {
    "account" : {
      "properties" : {
        "id" : {
          "type" : "integer",
          "include_in_all" : false
        },
        "name" : {
          "type" : "string",
          "index_analyzer" : "custom_index_analyzer",
          "search_analyzer" : "custom_search_analyzer"
        }
      }
    },
    "standard_account" : { 
      "properties" : {
        "id" : {
          "type" : "long"
        }
        "name" : {
          "type" : "string"
        }
      }
    },
    "super_account" : {
      "properties" : {
        "id" : {
          "type" : "long"
        }
        "name" : {
          "type" : "string"
        }
      }
    }
  }
} 
```

即使我将映射声明移动到继承的类，它似乎只是创建的第一个模型，它选择了额外的选项。我可以通过 ElasticSearch 手动创建索引，但想知道是否有办法使用 Tire 来创建索引？还是我设置不正确

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-06-14T21:59:51.863

您可能已经想出了答案，但我认为这可能会对您或其他有同样问题的人有所帮助：

[https://stackoverflow.com/a/13660263/1401343](https://stackoverflow.com/a/13660263/1401343)

-弗拉德

# python - Python的十进制模块和制表者的困境

> ID：15425055
> 
> 赞同：0
> 
> 时间：2013-03-15T04:58:18.970
> 
> 标签：python, numeric

根据[文档](http://docs.python.org/2/library/decimal.html)，Python 十进制模块中的 .exp() 操作
“使用...正确舍入”。

由于[制表者的困境](http://en.wikipedia.org/wiki/Rounding#The_table-maker.27s_dilemma)，我希望这不能保证，因为我更愿意保证
它是在具有中等低精度的正常输入上进行的计算不会花费例如一年的时间。

Python 如何解决这个问题？
（版本之间有区别吗？）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T05:15:27.033

和`exp()`功能`pow()`不同。

您链接到的“制表者的困境”解释指出，任何已知算法都无法在有限的时间内正确舍入x ^(y 。)然而，这显然不是其域的所有子集的情况。如果我们将域限制为 x=3 和 y=2，那么我可以告诉您正确舍入的答案是什么。

快速的 Google 搜索出现了*双精度算术中的正确舍入指数函数，*作者 David Defour、Florent de Dinechin、Jean-Michel Muller ( [CiteSeer](http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.7.4069) , [PDF](http://hal.inria.fr/docs/00/07/23/87/PDF/RR-4231.pdf) )。本文提供了一种计算正确舍入的算法，`exp()`并提供了其运行时间的最坏情况界限。

这不是 radix=10 的情况，但它表明制表者的困境不一定适用于`exp()`函数。

# web-applications - JavaFx2.x 作为 web 应用程序

> ID：15425063
> 
> 赞同：1
> 
> 时间：2013-03-15T04:58:43.353
> 
> 标签：web-applications, javafx

任何人都可以建议我如何使用 javafx2.x 创建一个 Web 应用程序，类似于可以使用 jsp、jsf 创建的 Web 应用程序。

可能吗？？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:03:32.490

只需仔细阅读用户手册，我认为您正在尝试在没有 javascript 的情况下制作 Java sevrlet。您可能需要更新您的 JDK，因为从 1.7uX JavaFx 开始是 JDK 的一部分。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:12:10.270

如果您使用 Netbeans 开发 Web 应用程序，则可以将 javafx 集成到 Web 应用程序中。您需要将 jnlp 嵌入到 html 或 jsp 中。

```
<head>
    <script type="text/javascript" src="http://java.com/js/dtjava.js"></script>
    <script>
        function deployIt() {
            dtjava.embed(
                    {         id: "myApp",
                             url: "Fish.jnlp",
                           width: 300,
                          height: 200,
                     placeholder: "place"
                    },
                    { javafx: "2.1+" },
                    {}
            );
        }
        dtjava.addOnloadCallback(deployIt);
    </script>
</head>
<body>
    <div id="place"></div>           
</body> 
```

参考：[http ://docs.oracle.com/javafx/2/deployment/deployment_toolkit.htm](http://docs.oracle.com/javafx/2/deployment/deployment_toolkit.htm)

# android - 升级phonegap本地数据库android app会丢失旧数据吗？

> ID：15425071
> 
> 赞同：1
> 
> 时间：2013-03-15T04:59:37.753
> 
> 标签：android, cordova, upgrade, local-database

我正在开发一个 phonegap 应用程序来将数据存储到本地数据库中。

我即将发布（1.0 版）和升级（1.1 版）应用程序进入安卓市场。

但在此之前，我想确认一下..

当用户安装更新时，他们会丢失在 1.0 版本中输入的数据吗？

我用谷歌搜索了这个，但没有任何帖子证实这一点。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:46:40.420

如果您使用了本地存储 ( [http://docs.phonegap.com/en/2.5.0/cordova_storage_storage.md.html#localStorage](http://docs.phonegap.com/en/2.5.0/cordova_storage_storage.md.html#localStorage) )，则数据会在升级期间保存。

如果您使用数据库（[http://docs.phonegap.com/en/2.5.0/cordova_storage_storage.md.html#Database](http://docs.phonegap.com/en/2.5.0/cordova_storage_storage.md.html#Database)），那么我相信它会被保存，但是我从未亲自尝试过。

# java - 将字符串变量的内容分成两部分

> ID：15425072
> 
> 赞同：0
> 
> 时间：2013-03-15T04:59:38.860
> 
> 标签：java, android, regex, string, variables

我有一个字符串变量，我要把String变量的内容分成两部分，分别保存在两个不同的字符串变量中。我已经提取了其中的一部分，但我无法提取另一部分。

这是代码：

```
String set_id="(1) Speed Test 150(min) Demo 1";
set_id = set_id.substring(set_id.indexOf("(") + 1);
set_id = set_id.substring(0, set_id.indexOf(")")); 
```

上面的代码为我提取了数字**1**，它保存在**set_id**变量中。

现在我想从变量中提取**Speed Test 150(min) Demo 1并将其保存在名为****set_name**的变量中。

**变量内容的格式将始终保持不变，但数字和名称本身可能会有所不同。**

我应该怎么做才能提取字符串的不同部分？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T05:02:59.690

当您获取第一个子字符串时，您正在覆盖原始字符串。将每个子字符串保存在一个新变量中：

```
String set_id="(1) Speed Test 150(min) Demo 1";
String part1 = set_id.substring(set_id.indexOf("(") + 1);
part1 = part1.substring(0, part1.indexOf(")"));
String part2 = set_id.substring(set_id.indexOf(")")+2); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T05:17:28.950

尝试以下操作：

```
\\((\d+)\\)\s*(.+) 
```

`$1`给出 id 并`$2`给出名字。

这里，

`\\(`并`\\)`匹配左括号和右括号。（转义，作为`(`并`)`具有特殊含义）

`(\d+)`匹配一个或多个数字（被捕获，因此可以使用 $1 来引用它）

`\s*`匹配零个或多个空格

`(.+)`匹配一个或多个（任意）字符（再次捕获）

像这样使用它

```
String string = "(1) Speed Test 150(min) Demo 1";
id = string.replaceAll("\\((\d+)\\)\s*(.+)","$1");
name = string.replaceAll("\\((\d+)\\)\s*(.+)","$2"); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T05:02:20.420

假设格式相同：

`set_id.substring(set_id.indexOf(")")+2);`

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-15T05:15:03.803

检查这个...可以使用更好更高效的正则表达式...

```
 Pattern pattern = Pattern.compile("\\((\\d{0,1})\\)(.*$)");
    String string = "(1) Speed Test 150(min) Demo 1";
    Matcher matcher = pattern.matcher(string);
    if (matcher.matches()) {
        System.out.println("Total matches: " + matcher.groupCount());
        for(int i=1, max=matcher.groupCount(); i<=max; i++ ) {
            System.out.println(i + " : " + matcher.group(i));
        }
    } else {
        System.out.println("No match");
    } 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-15T05:15:15.977

我添加了“]”来找出结尾的字符。

```
String set_id="(1) Speed Test 150(min) Demo 1]";
        String set_name=set_id.subSequence(set_id.indexOf(')')+1, set_id.indexOf(']')).toString();
        System.out.println(set_name); 
```

现在它为我工作。

O/P:-- 速度测试 150(min) 演示

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-15T05:21:12.323

您可以使用正则表达式来提取变量。下面是示例代码。

```
 Pattern pattern = Pattern.compile("(\\d+).+?(\\d+)\\(");
    String sample = "(1) Speed Test 150(min) Demo 1";
    Matcher matcher = pattern.matcher(sample);
    if(matcher.find()){
        System.out.println(matcher.group(1));
        System.out.println(matcher.group(2));
    } 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-15T05:23:35.113

你可以试试这个：

```
public class RegexTest {

    public static void main(String[] args) {

        String originalString = "(1) Speed Test 150(min) Demo 1";
        String setId = originalString.replaceAll("\\((\\d+)\\)\\s*(.+)", "$1").trim();
        String setName = originalString.replaceAll("\\((\\d+)\\)\\s*(.+)", "$2").trim();
        System.out.println("setId: " + setId);
        System.out.println("setName: " + setName);

    }
} 
```

# android - 发生错误。请稍后再试

> ID：15425078
> 
> 赞同：0
> 
> 时间：2013-03-15T05:00:15.760
> 
> 标签：android, facebook, facebook-graph-api, cordova

我正在使用 PhoneGap 和 Facebook Javascript SDK 学习 Android 开发。每次我启动我的应用程序时，我都会遇到这个错误，我不知道到底出了什么问题。请你帮助我好吗？

这些是以下详细信息：

**项目位置：** D:\Android Dream\FacebookExercise\assets\www\index.html

**本地主机位置：** C:\Program Files\Apache Software Foundation\Tomcat 7.0\webapps\ROOT\

我很确定我的 APP_ID 设置正确。这些是我的 FB 的一些设置：

**使用 Facebook 登录的网站**

```
Site URL: http://localhost:8080/ 
```

**移动网络**

```
Mobile Site URL: http://localhost:8080/ 
```

**索引.html**

```
<html>
<header>
    <title>Kissa Android App</title>
    <script type="text/javascript" charset="utf-8" src="cordova-2.5.0.js"></script>
    <script type="text/javascript" src="http://connect.facebook.net/en_US/all.js"></script>
</header>
<body>
    <div id="fb-root"></div>
    <div id="user-info"></div>
    <script type="text/javascript">
        var isLoaded = false;
        // Additional JS functions here
        window.fbAsyncInit = function() {
            FB.init({
                appId      : 'The App ID', // App ID
                channelUrl : 'http://localhost:8080/res/channel.html', // Channel File
                //channelUrl : 'http://10.0.2.2:8080/assets/www/channel.html',
                status     : true, // check login status
                cookie     : true, // enable cookies to allow the server to access the session
                xfbml      : true,  // parse XFBML
                oauth      : true
            });

            isLoaded = true;

            FB.getLoginStatus(function(response) {
                if (response.status === 'connected') {
                    //window.location = "http://www.google.com";
                } else if (response.status === 'not_authorized') {
                    // not_authorized
                    //alert("You are unauthorized to access this page.");
                } else {
                    //document.getElementById('name').innerHTML = '';
                }
            });

            FB.login(function(response) {
                if (response.authResponse) {
                    FB.api('/me', function(response) {
                        document.getElementById('name').innerHTML = 'Name : ' + response.first_name;
                        var fbLoginBtn = document.getElementById('fbLoginBtn');
                        fbLoginBtn.innerHTML = '<fb:login-button autologoutlink="true" perms="email">&nbsp;</fb:login-button>';
                        FB.XFBML.parse(fbLoginBtn);
                    });
                } else {
                    // cancelled
                }
            });

            FB.Event.subscribe("auth.logout", function() {window.location = 'index.html'});
        };

        // Load the SDK Asynchronously
        (function(d){
             var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
             if (d.getElementById(id)) {return;}
             js = d.createElement('script'); js.id = id; js.async = true;
             js.src = "//connect.facebook.net/en_US/all.js";
             ref.parentNode.insertBefore(js, ref);
        }(document));
    </script>

    <script type="text/javascript">
        function isLoaded(){
            alert("heuy!");
            if(isLoaded)
                alert(isLoaded);
            else
                alert(isLoaded);
        }
    </script>

    <fb:login-button autologoutlink="true" perms="email">&nbsp;</fb:login-button>
    <div id="fbLoginBtn">
        <fb:login-button autologoutlink="true" perms="email">&nbsp;</fb:login-button>
    </div>
    <div id="name" style="font-family : arial"></div>
    <div id="email"></div>

    <input type="button" onclick="isLoaded()" value="hey"/>

</body> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-24T01:51:15.533

您不能简单地在 phonegap 环境中使用 JS SDK。您必须使用提供相同 api 的 phonegap facebook 插件。我刚刚写了一个小教程... [http://pjsdev.blogspot.de/2013/03/phonegap-build-facebook-connect-part-2.html](http://pjsdev.blogspot.de/2013/03/phonegap-build-facebook-connect-part-2.html)

# java - IBM Cognos 8 的外部 Java 身份验证

> ID：15425080
> 
> 赞同：0
> 
> 时间：2013-03-15T05:00:48.383
> 
> 标签：java, authentication, cognos-8

是否可以正确/配置自定义身份验证 java 模块，以便身份验证由 java 完成。如果身份验证为真，则仅将登录用户 ID 传递给 cognos 并基于此执行业务逻辑，例如下拉或数据填充。

cognos 无法访问密码，只能访问用户 ID。用户名和密码匹配由 java 应用程序完成。

我已阅读此链接[http://www.ibm.com/developerworks/data/library/cognos/security/cognos8_platform/page517.html](http://www.ibm.com/developerworks/data/library/cognos/security/cognos8_platform/page517.html)但我认为 cognos 也需要密码..

# wordpress - Wordpress - 如何在 DOM 加载后延迟解析 Javascript 以执行？

> ID：15425083
> 
> 赞同：1
> 
> 时间：2013-03-15T05:01:08.057
> 
> 标签：wordpress, deferred-execution

我正在使用 wp_enqueue_scripts() 设置我的 JS 文件，并使用最后一个参数将它们放在页脚中

但是在[gtmetrix](http://gtmetrix.com/)中进行测试，我仍然看到我需要推迟对 Javascript 的解析。

如何在 Wordpress 中加载 DOM 后推迟解析 Javascript 以执行？wp_enqueue_scripts() 是否有一个参数可以做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T05:18:13.743

首先，如果您设置了第五个参数，[wp_enqueue_scripts()](http://codex.wordpress.org/Function_Reference/wp_enqueue_script)只会在页脚中加载脚本。即使您这样做，如果文件包含无需用户交互即可执行的内容，那么您应该将其包装在[jQuery.ready() 调用](http://api.jquery.com/ready/)中。

后半部分与wordpress无关。这是一个基本的 Web 开发规则。

# jquery - jquery：获取两个 元素之间的文本

> ID：15425087
> 
> 赞同：1
> 
> 时间：2013-03-15T05:01:44.727
> 
> 标签：jquery, html

我有一个这样的 HTML 树：

```
<pre id="code_block">
    This is line 1<br>
    This is line 2<br>
    This is line 3<br>
    This is line 4<span id="marker"></span><br>
    This is line 5<br>
    This is line 6<br>
    ...
</pre> 
```

现在，我需要获取标记跨度抵抗所在行的文本...我已经有两个元素（前导 <br> 和 <span>）

```
$('#marker');
$('#marker').prev('br'); 
```

但是如何获取这些之间的文本？

我已经尝试了几种解决方案
，但问题是两个元素之间的文本不是自己的元素......

想法？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T05:13:55.823

如果你想检索，`This is line 4`那么你可以这样做：

```
var text = $('#marker').map(function(){
    return this.previousSibling.nodeValue;
});

alert(text[0]); 
```

演示：http: [//jsfiddle.net/Bg9PT/](http://jsfiddle.net/Bg9PT/)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T05:10:15.720

您可以使用`previousSibling`属性：

```
document.getElementById('marker').previousSibling; 
```

`previousSibling`返回一个对象，如果要获取它的文本内容，可以使用`textContent`,`nodeValue`或`wholeText`属性。

[http://jsfiddle.net/udsZe/](http://jsfiddle.net/udsZe/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T05:11:10.397

nextUntil 会帮助你..查看链接

[http://api.jquery.com/nextUntil/](http://api.jquery.com/nextUntil/)

# networking - 我可以为 Hadoop 迷你集群设置使用 100 Mbps 网络交换机吗？

> ID：15425093
> 
> 赞同：1
> 
> 时间：2013-03-15T05:02:17.973
> 
> 标签：networking, hadoop

我愿意使用虚拟机运行 12 节点 Hadoop 集群。我有 3 台真机，每台在虚拟框中运行 4 个 datanodes 节点。我能够使用 LAN 线连接 2 台机器，并能够制作一个 8 节点集群。现在我必须通过交换机连接第三台机器，这样我才能运行一个 12 节点的集群。我的 NameNode 的 RAM 是 1 GB，所有数据节点都是 512MB。我在所有机器上使用 64 位核心 i3 处理器，每个节点的容量为 8GB。我的问题是我可以将以下提到的交换机用于我的网络拓扑吗？

[http://www.flipkart.com/d-link-5-port-10-100base-t-unmanaged-switch-network/p/itmdffymrfgngzsf?pid=NSWDFFYGUQ9GHMF9&ref=1938618c-3737-471e-941b-3e4bb41972fe&srno=t_1&otracker=从搜索&查询=切换](http://www.flipkart.com/d-link-5-port-10-100base-t-unmanaged-switch-network/p/itmdffymrfgngzsf?pid=NSWDFFYGUQ9GHMF9&ref=1938618c-3737-471e-941b-3e4bb41972fe&srno=t_1&otracker=from-search&query=switch)

因为它支持 100 Mbps 的速度。我的预算有限，因为它对我来说是一个大学项目。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T17:54:25.990

它会很慢，但会正常工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T19:57:52.733

您的设置显然不适合典型的 Hadoop 工作负载。它们需要快速的网络和大量的 RAM。我敢打赌，将所有磁盘和 RAM 放在一台机器上，你会获得比使用迷你集群更好的性能。

但是，如果它仅用于教育项目，并且不打算处理中型或大型数据，也不关心性能，它将起作用。根据您的设置，我不确定 100mbs 网络是否会成为瓶颈。

# android - onKey 和异常

> ID：15425104
> 
> 赞同：0
> 
> 时间：2013-03-15T05:03:34.213
> 
> 标签：android, validation

我正在构建一个 Android 应用程序，我面临两个问题。我目前正在使用 onKey 方法来解析文本框以获取用户键入的数据。这工作正常，但如果用户选择让文本框空白并发送数据，这将导致我的应用程序崩溃。我想添加一个 try and catch 来处理/忽略该异常，并且即使按下回车键，如果有空白也不发送任何内容。

当我按下回车键时，我的第二个问题出现了。这导致发送数据 2 次，这有点烦人。我认为这是因为我的代码中没有去抖动，并且程序注册了按键和按键释放。我真的不知道如何过滤这个，我可能需要一些输入。

这是我的代码：

```
 //Listen to the "Enter" button state changes by user selection of keypad
txtSetKp.setOnKeyListener(new OnKeyListener(){                                          //This method waits for the "enter" key to be hit
    public boolean onKey(View arg0, int arg1, KeyEvent arg2) {

        switch(arg1)
        {
              case KeyEvent.KEYCODE_ENTER:
                   float newSetKp =  Float.parseFloat(txtSetKp.getText().toString());

                   InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE); //If "enter" pressed, hide keyboard
                   if(btSocket != null && btSocket.isConnected()){  
                   mConnectedThread.send("P" + newSetKp);   
                   Log.e(TAG, "P"+newSetKp);
                   }
                   imm.hideSoftInputFromWindow(txtSetPoint.getWindowToken(), 0);

                   return true;
              default: 
                   return false;

        }

       }
    });

//Listen to the "Enter" button state changes by user selection of keypad
txtSetKi.setOnKeyListener(new OnKeyListener(){                                          //This method waits for the "enter" key to be hit
    public boolean onKey(View arg0, int arg1, KeyEvent arg2) {

        switch(arg1)
        {
              case KeyEvent.KEYCODE_ENTER:
                  float newSetKi =  Float.parseFloat(txtSetKi.getText().toString());

                   InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE); //If "enter" pressed, hide keyboard
                   mConnectedThread.send("I" + newSetKi);   
                   imm.hideSoftInputFromWindow(txtSetPoint.getWindowToken(), 0);

                   return true;
              default: 
                   return false;

        }

       }
    }); 
```

感谢你的帮助！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:36:00.567

试试这个

```
txtSetKp.setImeOptions(EditorInfo.IME_ACTION_DONE);
    txtSetKp.setOnEditorActionListener(new OnEditorActionListener() {   
                @Override
                public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {
                    String text = txtSetKp.getText().toString();
                    if(isNullOrEmpty(text))
                        System.out.println("Empty");
                    else
                        System.out.println("Correct");
                    return false;
                }
            });

        }
        public  boolean isNullOrEmpty(String value) {
            return value == null || value.length() == 0;
        } 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:40:59.453

1.  对于第一个问题，首先检查文本是否为空。

    ```
    if(txtSetKi.getText().length() != 0)
          // perform task 
    ```

2.  对于第二个问题使用

    ```
    if(keyEvent == KeyEvent.ACTION_DOWN)
          // perform task 
    ```

    或者

    ```
     if(keyEvent == KeyEvent.ACTION_UP)
              // perform task 
    ```

# c# - C#生成excel文件并写入单元格

> ID：15425105
> 
> 赞同：1
> 
> 时间：2013-03-15T05:03:33.850
> 
> 标签：c#, excel

我正在开发一个在数据库上运行 MySQL 查询的项目。我需要将结果反馈到我将即时生成的 Excel 表格中。我已经开始编写代码，使用 msdn 教程以及我在 stackoverflow 上找到的信息，但是运行应用程序让我

“你调用的对象是空的。”

在这一点上，我刚刚开始了基本代码，因为我想在开始在代码中创建整个电子表格之前完成这项工作。

```
 var excelApp = new Excel.Application();
                    excelApp.Visible = true;
                    Excel.Worksheet workSheet = (Excel.Worksheet)excelApp.ActiveSheet;
                    ((Excel.Range)workSheet.Cells[1, 1]).Value = "Print Date:"; 
```

如果我可以提供更多信息，请询问。我非常感谢您可以提供给我的任何信息或见解！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T05:21:03.597

我会说它`workSheet`被设置为 null 因为`excelApp.ActiveSheet`还不存在。

这里有一些代码将创建一个您可以使用的工作表对象...

```
var application = new Application();

var workbooks = application.Workbooks;

var workbook = workbooks.Add(XlWBATemplate.xlWBATWorksheet);

var worksheets = (Sheets)workbook.Worksheets;

var worksheet = worksheets[1]; 
```

使用 Excel 时需要注意的几点：

*   完成后释放每个对象`System.Runtime.InteropServices.Marshal.ReleaseComObject(object)`。如果您不这样做，Excel 将不会在您完成后退出。
*   不要使用双点引用（即object1.object2.value）。如果你这样做，你不能像上面那样正确释放它。
*   索引总是从 1 开始，而不是 0（无论如何根据我的经验）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:23:22.067

您收到该错误的原因是，您尚未在应用程序中创建任何工作表。尝试这样做。

Excel.Worksheet 新工作表；

newWorksheet = (Excel.Worksheet)excelApp.Worksheets.Add();

# c++ - endl 和 cout 之后的行距？

> ID：15425107
> 
> 赞同：2
> 
> 时间：2013-03-15T05:03:35.807
> 
> 标签：c++, line, cout, spacing, endl

我注意到在以下代码中：

```
 cout << "Please enter your number: ";
    cin >> Number;
    cout << "Is this spaced"; 
```

C++ 命令窗口中的输出会自动将“Is this spaced”放在下一行。它将`cin`行之后的任何内容都隔开，而无需使用流操纵器（为什么这称为流操纵器？）`endl`。而如果我只有代码：

```
 cout << "Please enter your number: ";
    cout << "Is this spaced"; 
```

它不会自动用“Is this spaced”分隔行。相反，两条线都连接在一起。我很想知道为什么会这样，因为我一直认为你需要`endl`为了创造一个新的空间线。

谢谢！

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-15T06:09:24.043

```
cout << "Please enter your number: ";
cin >> Number;
cout << "Is this spaced"; 
```

这不仅仅是表面上看到的。 `std::cout`并且`std::cin`是 - 默认情况下 -*绑定*流。这意味着每当被要求输入时，它`std::cout`都会自动刷新（即，任何挂起的输出从程序内的任何缓冲区刷新到操作系统） 。`std::cin`这就是为什么您可以确保`"Please enter your number: "`在程序暂停等待您输入之前看到。当然，在大多数操作系统中，您可以在程序等待之前开始输入 - 它会将其回显到终端并记住它以便`std::cin`稍后提供：当您使用管道调用程序时也会发生这种情况，例如：

```
echo "123" | the_program 
```

输入在`the_program`开始运行时可用，但用于`cin >> Number;`尝试解析。但是在这种情况下，终端程序没有键盘输入可以回显，因此“123\n”序列不会在两行输出之间回显到屏幕上 - 如果没有换行符“\n”，您的输出将全部出现在一行上。

如果您想在键盘输入不将光标移动到下一行的情况下从键盘读取，则最好使用 ncurses 或类似的库。库可以使用适合您终端的转义序列（如果可用）将光标重新定位到您喜欢的位置。如果您要支持的终端范围非常有限（例如，只有与 xterm 兼容的终端、VT220 或 Windows 命令 shell），那么您自己编写代码可能是可行的。通常也可以抑制键盘输入的打印，但是用户看不到自己键入数字。另一种选择是将终端设置为支持逐字符输入读取的输入模式（某些终端默认为逐行，因此您可以

另外，最好用换行符结束程序的输出，因为某些调用环境不会显示最后一行。而且，这有点争议，但恕我直言，`std::endl`当您不需要刷新输出时最好不要使用 - 只需使用`\n`并让 C++ iostream 库缓冲多行并将它们以有效大小的块写入操作系统。

### 冲水的解释

假设你有一个这样的程序：

```
std::string h = "hello ";
std::string w = "world";

std::cout << h;
std::cout << w << '\n'; 
```

在某个阶段，程序需要告诉操作系统（Linux、Windows 等）要打印的文本，让它发送到 shell/cmd 提示符（可能会将其发送到屏幕并放入缓冲区中）对于滚动条等），文件或其他任何东西。从总体上看，程序告诉操作系统做这种事情是很慢的，所以如果它记住“hello”，添加“world”和`\n`（换行符），整个程序会运行得更快。它，然后一次向操作系统发送“hello world\n”。程序内存储和数据连接称为缓冲，将数据从缓冲区写入操作系统的行为称为刷新。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T05:06:45.197

默认情况下`cin`，当它收到一个`newline`也添加新行的流时结束读取流。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T05:08:57.317

当您在终端上使用`cin`( `std::cin`) 时，您通常必须按 Enter 键来告诉终端“嘿，我的输入完成了”。

Enter 也被翻译为换行符，因此它粘贴本质上是 a`std::endl`因为您按下了`Enter`。

在许多情况下，您可以使用退格字符`\b`来回溯控制台的当前书写。您可以尝试一下`std::cout << '\b'`：它碰巧在我的终端（Windows）中回溯。

# php - 使用ajax搜索多个字段

> ID：15425109
> 
> 赞同：0
> 
> 时间：2013-03-15T05:03:45.960
> 
> 标签：php, mysql, ajax, search

如果搜索字段是一个选择框，这是一些示例代码

```
<html>
<head>
<script>
function showUser(str)
{
if (str=="")
  {
  document.getElementById("txtHint").innerHTML="";
  return;
  }
if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
xmlhttp.onreadystatechange=function()
  {
  if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
    document.getElementById("txtHint").innerHTML=xmlhttp.responseText;
    }
  }
xmlhttp.open("GET","getuser.php?q="+str,true);
xmlhttp.send();
}
</script>
</head>
<body>

<form>
<select name="users" onchange="showUser(this.value)">
<option value="">Select a person:</option>
<option value="1">Peter Griffin</option>
<option value="2">Lois Griffin</option>
<option value="3">Glenn Quagmire</option>
<option value="4">Joseph Swanson</option>
</select>
</form>
<br>
<div id="txtHint"><b>Person info will be listed here.</b></div>

</body>
</html> 
```

这是输入字段的 HTML 代码

```
<html>
<head>
<script>
function showHint(str)
{
if (str.length==0)
  {
  document.getElementById("txtHint").innerHTML="";
  return;
  }
if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
xmlhttp.onreadystatechange=function()
  {
  if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
    document.getElementById("txtHint").innerHTML=xmlhttp.responseText;
    }
  }
xmlhttp.open("GET","gethint.php?q="+str,true);
xmlhttp.send();
}
</script>
</head>
<body>

<p><b>Start typing a name in the input field below:</b></p>
<form>
First name: <input type="text" onkeyup="showHint(this.value)">
</form>
<p>Suggestions: <span id="txtHint"></span></p>

</body>
</html> 
```

这两个与 ajax 相关的表单正在单独工作..

我想要的是这两个操作应该以单一形式和单一 ajax 脚本进行

谁能帮我？提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:19:17.953

你可以使用类似的东西 -

```
<html>
<head>
<script>
function showHint(str,type)
{
    var str2 = '';
    if (type == 1)
    {
        if (str.length==0 && document.getElementById('users').value == '')
        {
            document.getElementById("txtHint").innerHTML="";
            return;         
        } else {
            str2 = document.getElementById('users').value;
        }
    } else {
        if (str.length==0 && document.getElementById('text').value == '')
        {
            document.getElementById("txtHint").innerHTML="";
            return;         
        } else {
            str2 = document.getElementById('text').value;
        }
    }

if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
xmlhttp.onreadystatechange=function()
  {
  if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
    document.getElementById("txtHint").innerHTML=xmlhttp.responseText;
    }
  }
xmlhttp.open("GET","gethint.php?q="+str+'&str2 = '+str2,true);
xmlhttp.send();
}
</script>
</head>
<body>

<p><b>Start typing a name in the input field below:</b></p>
<form>
First name: <input type="text" id = "text" onkeyup="showHint(this.value,'1');">
<select name="users" id = 'users' onchange="showHint(this.value','2');">
<option value="">Select a person:</option>
<option value="1">Peter Griffin</option>
<option value="2">Lois Griffin</option>
<option value="3">Glenn Quagmire</option>
<option value="4">Joseph Swanson</option>
</select>
</form>
<p>Suggestions: <span id="txtHint"></span></p>

</body>
</html> 
```

# ios - 如何在没有情节提要的情况下加载 CollectionView

> ID：15425110
> 
> 赞同：0
> 
> 时间：2013-03-15T05:03:52.183
> 
> 标签：ios, collectionview

我是 iOS 开发的新手。我需要在不使用 Storyboard 的情况下使用 CollectionView，并且该视图必须加载到选项卡中。这可能吗。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:14:14.557

您必须创建一个实现 UICollectionViewDataSource 和 UICollectionViewDelegate 的 UIViewController 子类，如下所示：

```
@interface MyViewController:UIViewController<UICollectionViewDelegate, UICollectionViewDataSource>
@end 
```

然后在**.m**文件中实现所需的[UICollectionViewDataSource](http://developer.apple.com/library/ios/#documentation/UIKit/Reference/UICollectionViewDelegate_protocol/Reference/Reference.html#//apple_ref/occ/intf/UICollectionViewDelegate)和[UICollectionViewDelegate](http://developer.apple.com/library/ios/#documentation/UIKit/Reference/UICollectionViewDataSource_protocol/Reference/Reference.html#//apple_ref/occ/intf/UICollectionViewDataSource)方法

并像这样覆盖 -[UIViewController viewDidLoad] ：

```
- (void)viewDidLoad {
  [super viewDidLoad];
  UICollectionView *collectionView = [UICollectionView alloc] initWithFrame:self.view.bounds];
  collectionView.delegate = self;
  collectionView.dataSource = self;
  [self.view addSubview:collectionView];
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:07:02.800

是的。您可以以编程方式创建它

```
-(void)loadView
{
 [super loadView];

 UICollectionViewFlowLayout *layout= [[UICollectionViewFlowLayout alloc]init];
 self.collectionView = [[UICollectionView alloc]initWithFrame:self.view.bounds  collectionViewLayout:layout];
 self.collectionView.delegate=self;
 self.collectionView.dataSource=self;
 [self.collectionView setAutoresizingMask:UIViewAutoresizingFlexibleHeight |UIViewAutoresizingFlexibleWidth| UIViewAutoresizingFlexibleLeftMargin | UIViewAutoresizingFlexibleRightMargin];

 [self.collectionView setBackgroundColor:[UIColor clearColor]];
 [self.collectionView registerClass:[UICollectionViewCell class]
    forCellWithReuseIdentifier:@"Cell"];

[self.view addSubView:self.collectionView];
} 
```

# c# - ASP.net ParseControl if else 语句

> ID：15425115
> 
> 赞同：1
> 
> 时间：2013-03-15T05:04:08.593
> 
> 标签：c#, asp.net, parsecontrol

希望有人帮我解决这个问题。

这在asp.net中可能吗？

```
protected void Page_Load(object sender, EventArgs e)
{
    Control parsed = this.ParseControl(@"<% if (true){ %> <div> Show True 
                                       Content </div> <%} %>");          
    myPlaceholder.Controls.Add(parsed);    
}

<asp:View id ="myPlaceholder" runat="server" /> 
```

编辑：我也尝试这仍然行不通，其他

```
<asp:PlaceHolder id ="myPlaceholder" runat="server" /> 
```

如果这是可能的，我怎么能做到这一点？

# jquery - 使用 PhoneGap for Ipad 预加载音频

> ID：15425116
> 
> 赞同：1
> 
> 时间：2013-03-15T05:04:10.920
> 
> 标签：jquery, html, ipad, html5-audio

这是我的 Jquery 代码：

```
 $(".check").on("click", function(){

         if($(this).is(":visible")){
               $('#audio').remove();
               $file=$(this).html(); // "mp3FileName"
               $(this).append('<div id="audio"><audio autoplay="autoplay" src="sounds/'+$file+'.mp3"></audio></div>');
        }

    }); 
```

这完美地工作。但是，在 ipad 上，当用户“触摸”触发音频的“检查”类按钮时，音频播放前大约有 1 到 1.5 秒的暂停。我想我应该预加载我所有的音频文件。但是，我没有这方面的经验。我将拥有大约 900 个音频文件，每个文件大约 10 KB。

什么是最好的方法来实现这个，让触摸在没有这么长时间的停顿的情况下关闭声音？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T16:53:57.323

一件小事会有所帮助：

```
var evt = ('ontouchstart' in window) ? 'touchstart' : 'click';
$(".check").on(evt, function(){...} 
```

在触发点击事件之前，大多数支持触摸的设备都会有半秒的延迟。因此，无需经历尝试预加载 900 (!!!!) 音频文件的所有痛苦，您只需绑定到`touchstart`而不是`click`启用触控设备即可节省一些时间。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-28T07:28:37.497

查看[SoundManager2中的](http://www.schillmania.com/projects/soundmanager2/)[Multi-Shot 示例](http://www.schillmania.com/projects/soundmanager2/demo/api/)（Demo 4g）

如果您可以将所有 900 个样本放在一个音频文件中，那就是。

它将防止多次加载和缓冲的开销，以及 900 个 HTTP 请求的开销（每个样本很容易达到 1kb，总共几乎是 1 兆字节！）

还要确保您使用 Kevin Ennis 回答中描述的“ontouchstart”事件，这将为您节省 300 毫秒。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-10-16T02:42:21.337

我通过使用 PhoneGap 的 Cordova Media 插件并在用户有机会单击按钮之前以零音量播放文件来解决延迟问题：

```
function playAudio(src, preload) {

        // Create Media object from src
        my_media = new Media(src);

        // Play audio
        if (preload === true) {
            my_media.setVolume(0);
        } else {
            my_media.setVolume(1);
        }
        my_media.play();   

} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-15T05:11:27.840

这个错误对于 Apple 设备很常见，这对他们来说是一个很大的缺点。至于这个延迟，试着做你在你的问题中的想法，它会消除这个错误。而且，发生这种情况还有另一个原因，Apple iPad 降低音频/视频质量以使其可播放，这是他们的错误，今天每个音频/视频立即播放是正常的。

# rvm - Vagrant / Chef-solo 在运行配方 rvm::vagrant 后无法正常工作

> ID：15425126
> 
> 赞同：7
> 
> 时间：2013-03-15T05:05:10.617
> 
> 标签：rvm, chef-infra

添加配方 rvm::vagrant 并运行 vagrant provision 后，我得到：

```
/usr/local/bin/chef-solo: line 23: /opt/vagrant_ruby/bin/chef-solo: No such file 
or directory
Chef never successfully completed! Any errors should be visible in the
output above. Please fix your recipes so that they properly complete. 
```

这个问题应该已经解决了： [https ://github.com/fnichol/chef-rvm/issues/121](https://github.com/fnichol/chef-rvm/issues/121)

即使我添加了以下行：

```
'rvm' => {
    'vagrant' => {
      'system_chef_solo' => '/opt/vagrant_ruby/bin/chef-solo'
    }
  } 
```

我仍然收到错误消息。我怎样才能从中恢复？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-05-29T06:15:39.130

您必须确保 '/opt/vagrant_ruby/bin/chef-solo' 是`chef-solo`. 就我而言，它是`/usr/bin/chef-solo`。这是我`Vagrantfile`修复它的一部分：

```
config.vm.provision :chef_solo do |chef|
  chef.json.merge! rvm: {vagrant: {system_chef_solo: '/usr/bin/chef-solo'}}
end 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-09-13T04:11:55.683

这令人沮丧，因为答案非常依赖时间。不过我遇到了这个问题，今天通过添加到我的 Vagrantfile 来修复它。我不得不一次`vagrant destroy`又一次地`vagrant up`希望下次我不会破坏`vagrant provision`它，但我已经检查了盒子，看起来通往 chef-solo 的路径是正确的。[在这里](https://github.com/chef/vagrant-omnibus/issues/70)的 Github 上找到了这个答案

```
chef.json = {
  rvm: {
        vagrant: {
          system_chef_solo: '/opt/chef/bin/chef-solo'
        },
        user_installs: [
            {
                user: 'vagrant',
                default_ruby: '2.2.1',
                rubies: ['2.2.1'],
                global: '2.2.1'
            }
        ]
    },
... rest of Vagrantfile 
```

# c# - Windows FTP 连接显示无法连接到远程服务器

> ID：15425128
> 
> 赞同：0
> 
> 时间：2013-03-15T05:05:13.023
> 
> 标签：c#, windows, iis, ftp

我已经在 IIS 7 中启用了 windows ftp 并且能够通过`ftp://user:password@RBDRMSNMVM01`. 但是我通过下面的 C# 片段尝试了相同的方法，但我无法传输文件。GetRequestStream() 方法调用失败，提示“无法连接到远程服务器”

```
strUserName = FTP Windows Server login user id
strPwd      = FTP Windows Server login password

FtpWebRequest request = null;
FileStream fs = null;
Stream reqStream = null;

request = (FtpWebRequest)FtpWebRequest.Create(strFTPConnString);
request.Method = WebRequestMethods.Ftp.UploadFile;
request.Credentials = new NetworkCredential(strUserName, strPwd);

reqStream = request.GetRequestStream();
reqStream.Write(buffer, 0, buffer.Length);
reqStream.Close();

Any help would be greatly appreciated !!! 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:12:21.570

请检查 strFTPConnString 的服务器地址是否正确。

还要检查端口是否被防火墙阻止。

# algorithm - Tarjan 的循环循环多重图唯一节点

> ID：15425129
> 
> 赞同：0
> 
> 时间：2013-03-15T05:05:16.923
> 
> 标签：algorithm, graph

我想在一个无向多重图中列出一个从根节点（Tarjan 的索引 0）开始的循环，该循环在根节点处开始和结束，而不通过先前访问的节点返回某个循环。

我使用这些指令在 Perl 中编写了[Tarjan 的强连接组件算法](http://en.wikipedia.org/wiki/Tarjan%27s_strongly_connected_components_algorithm)[Cycle detection in a Multigraph](https://stackoverflow.com/questions/15400993/cycle-detection-in-a-multigraph)。这是我的图表

```
V   E   E   E
1   2   3   4
2   1   3   
3   1   2   
4           1 
```

我得到这个结果

```
1 root
3 2 1
------------
2 root
3 1 2
------------
3 root
2 1 3
------------
4 root
3 2 1 4
------------ 
```

When 4 is selected as index 0 or the root I would like it to return 1 4 because the path must pass through 1 twice to complete the cycle with the solution of 3 2 1 4.

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-16T08:01:42.840

用邻居搜索改变[Tarjan 的强连接组件算法](http://en.wikipedia.org/wiki/Tarjan%27s_strongly_connected_components_algorithm)，以确保每个节点共享一条边满足我的需求。它省略了一些解决方案。

```
for each v in V do
 index := 0
 S := empty
    strongconnect(v)
repeat
...
while (w != v)
  if (loopcount = 0)
   w:=v
  else
   w := S.pop()
  end if
while (continuation = false)
 x := S.pop()
 for each (y, x) in E do
   if (y = w) then
     continuation = true
   end if
  repeat
  if (x = v) then
   continuation = true
 S.push(v)
 loopcount := loopcount+1
if(continuation = true)
  add x to current strongly connected component
endif
 repeat

        2   

8   3   1   6

    4       7
        5   

1   2   5   
2   3   6   1
3   4   2   8
4   3   5   
5   4   7   1
6   2   7   
7   5   6   
8           3

1 list
5 4 3 2 1 
------------
2 list
1 5 4 3 2 
------------
3 list
8 3 
------------
4 list
5 7 6 2 3 4 
------------
5 list
1 2 3 4 5 
------------
6 list
7 5 4 3 2 6 
------------
7 list
6 2 3 4 5 7 
------------
8 list
3 8 
------------ 
```

# asp.net-mvc - MVC4 中带有 twitter bootstrap 2 错误的数据表？

> ID：15425130
> 
> 赞同：1
> 
> 时间：2013-03-15T05:05:18.800
> 
> 标签：asp.net-mvc, twitter-bootstrap, asp.net-mvc-4, datatable

我正在尝试按照[此处](http://datatables.net/blog/Twitter_Bootstrap_2)的说明集成 Datatables + Bootstrap 2 。

捆绑所有数据表

```
 //Bundling JQuery datatables scripts together
   bundles.Add(new StyleBundle("~/bundles/DataTables").Include(
   "~/Scripts/DataTables-1.9.4/media/js/DT_bootstrap.js",
   "~/Scripts/DataTables-1.9.4/media/js/jquery.dataTables.js"));

   bundles.Add(new StyleBundle("~/Content/DataTables-1.9.4/media/css/css").Include(
   "~/Content/DataTables-1.9.4/media/css/DT_bootstrap.css",
   "~/Content/DataTables-1.9.4/media/css/jquery.dataTables.css",
   "~/Content/DataTables-1.9.4/media/css/jquery.dataTables_themeroller.css"
                )); 
```

并在`_layouts`页面中呈现

```
 @Scripts.Render("~/bundles/jquery")
        @Scripts.Render("~/js") 
      @Scripts.Render("~/bundles/DataTables") 
       @Styles.Render("~/Content/DataTables-1.9.4/media/css/css") 
```

如果我运行该页面，我会在`media/js/DT_bootstrap.js`文件中收到此错误。 ![在此处输入图像描述](../Images/c7eae144d756a63971130db47d9c2504.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T10:08:21.350

将脚本包含为`ScriptBundle`- 您已将它们包含为`StyleBundle`：

```
bundles.Add(new ScriptBundle("~/bundles/DataTables").Include(
                 "~/Scripts/DataTables-1.9.4/media/js/jquery.dataTables.js",
                 "~/Scripts/DataTables-1.9.4/media/js/DT_bootstrap.js"
            )); 
```

并且放在`jquery.dataTables.js` *前面* `DT_bootstrap.js`。

# javascript - 移动：从锚点打开多个新标签页（__blank）

> ID：15425132
> 
> 赞同：1
> 
> 时间：2013-03-15T05:05:36.957
> 
> 标签：javascript, html, mobile

我有一个移动网络应用程序，它有多个带有`target='__blank'`. 单击第一个锚点时，浏览器将打开一个新选项卡并加载所需的页面。单击后续锚点时，所需页面将加载到同一新选项卡中。

想要的效果是让每个锚点在单击时打开一个新选项卡，以便可以同时打开多个选项卡。

有谁知道如何实现这一目标？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:09:08.537

应该是`_blank`。只是一个下划线。您的双下划线正在创建一个实际名为 的窗口`__blank`，导致所有链接都指向该特定窗口。

# android - 从 android 应用程序发送电子邮件

> ID：15425136
> 
> 赞同：0
> 
> 时间：2013-03-15T05:06:17.120
> 
> 标签：android

我正在尝试从后台从我的 android 应用程序发送电子邮件。邮件已成功发送并带有附件，但之后我仍然在日志中收到错误。这是日志，请指导我错误在哪里以及如何解决它。

```
03-14 13:37:37.697: E/MailApp(1296): Could not send email
03-14 13:37:37.697: E/MailApp(1296): java.lang.RuntimeException: Can't create handler inside thread that has not called Looper.prepare()
03-14 13:37:37.697: E/MailApp(1296):    at android.os.Handler.<init>(Handler.java:197)
03-14 13:37:37.697: E/MailApp(1296):    at android.os.Handler.<init>(Handler.java:111)
03-14 13:37:37.697: E/MailApp(1296):    at android.widget.Toast$TN.<init>(Toast.java:324)
03-14 13:37:37.697: E/MailApp(1296):    at android.widget.Toast.<init>(Toast.java:91)
03-14 13:37:37.697: E/MailApp(1296):    at  android.widget.Toast.makeText(Toast.java:238)
03-14 13:37:37.697: E/MailApp(1296):    at com.example.mytest.ReadContactsActivity.SendMail(ReadContactsActivity.java:173)
03-14 13:37:37.697: E/MailApp(1296):    at com.example.mytest.ReadContactsActivity.access$0(ReadContactsActivity.java:156)
03-14 13:37:37.697: E/MailApp(1296):    at com.example.mytest.ReadContactsActivity$CountDownTask.doInBackground(ReadContactsActivity.java:131)
03-14 13:37:37.697: E/MailApp(1296):    at com.example.mytest.ReadContactsActivity$CountDownTask.doInBackground(ReadContactsActivity.java:1)
03-14 13:37:37.697: E/MailApp(1296):    at android.os.AsyncTask$2.call(AsyncTask.java:287)
03-14 13:37:37.697: E/MailApp(1296):    at java.util.concurrent.FutureTask.run(FutureTask.java:234)
03-14 13:37:37.697: E/MailApp(1296):    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)
03-14 13:37:37.697: E/MailApp(1296):    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)
03-14 13:37:37.697: E/MailApp(1296):    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:26:35.910

我认为您正在尝试在方法中显示`Toast`消息`AsynTask` `doInBackground()`，只需在`onPostExecute()`方法中执行即可....

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:21:52.323

您可能正在使用一些直接尝试在主线程中进行更改的后台线程，如果这是问题，请使用

```
runOnUiThread(new Runnable() {
  public void run() {
    //do your work here
  }
}); 
```

# c# - 如何知道文件上的锁是什么

> ID：15425137
> 
> 赞同：1
> 
> 时间：2013-03-15T05:06:35.147
> 
> 标签：c#, asp.net, file

在尝试使用此方法从我的 ASP.NET Web 应用程序中读取文件时：

```
string strContents;
using (StreamReader sr = new StreamReader(strFilePath))
{
    strContents = sr.ReadToEnd();
} 
```

我得到以下异常：

> 该进程无法访问文件“file_path”，因为它正被另一个进程使用。

所以我很好奇，有没有办法知道是什么锁定了这个文件？

PS。很高兴从异常内部知道这一点，如果不可能，有没有其他方法可以知道它？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:11:00.600

标准答案是使用像[句柄](http://technet.microsoft.com/en-us/sysinternals/bb896655.aspx)这样的 SysInternals 工具之一来查看锁定文件的进程。

如果您确定这是您的代码 - 代码审查可能比使用 WinDbg 挖掘进程的转储更容易。

如果您想编写自己的 - 阅读“Windows Internals”书本质上是必须的，并且具有良好的互操作知识将是加分项。

# python - ValueError: SQL 查询参数应该是元组、列表或字典

> ID：15425140
> 
> 赞同：0
> 
> 时间：2013-03-15T05:06:59.053
> 
> 标签：python, openerp

**以正确的方式编辑代码。现在它正在工作。**

这是我的代码：

```
def _random_letter(self, cr, uid, ids, name, args, context):
    num=[]
    for i in range(5):
        res = random.choice([1, 2, 3, 5, 9])
        num.append(res)
        print  (num)
        return num

def _mytest_query(self, cr, uid, ids, name, args, context):
    cr.execute("""update checkroll_plucker set worker_name =concat('worker','%s') where id='1'""", self._random_letter(cr, uid, ids, name, args, context))
    cr.commit() 
```

此外，我仍然对将哪些参数传递给函数感到困惑。我浏览了一本开发人员书籍，但没有明确的想法。我会在下面提到那些，如果他们正确，请纠正我。

例子：

```
self, cr, uid, ids, name, args, context

self = call to current class of that method called 
cr = current row in the table 
uid = user id for check if he authorized or not for run this function 
name = column name we need to insert 
context = language/time details (but what is the use of it.more times it equals to None) 
```

# php - 由于文件权限，无法保存文件

> ID：15425141
> 
> 赞同：1
> 
> 时间：2013-03-15T05:07:01.203
> 
> 标签：php, file, file-io, permissions, chmod

我正在尝试上传并保存图像文件。这在过去运行良好，但现在返回错误。

**警告**：move_uploaded_file（//home/bitnami/htdocs/lookgram/photos/1/22.jpeg）：无法打开流：**/opt/bitnami/apache2/htdocs/lookgram/build/classes/Photo.php**中的权限被拒绝第**138**行

**警告**：move_uploaded_file(): Unable to move '/tmp/phpAyWyw4' to '//home/bitnami/htdocs/lookgram/photos/1/22.jpeg' in **/opt/bitnami/apache2/htdocs/lookgram/build /classes/Photo.php**第**138行**

这看起来像文件权限错误，所以这里是文件夹的权限：

`drwxrwxr-x 6 bitnami bitnami 4096 Mar 15 01:02 photos`

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T05:25:17.603

这是因为`photos/1/`只能由`root`用户写入。为了上传工作，我们需要使该文件夹的所有者与 httpd 进程所有者相同，或者使它们全局可写（不好的做法）。

1.  检查 apache 进程所有者：`$ps aux | grep httpd`. 第一列通常是所有者`nobody`

2.  更改`photos/1/`要成为`nobody`的所有者或您在步骤 1 中找到的任何所有者。

    `$sudo chown nobody /home/bitnami/htdocs/lookgram/photos/1/`

3.  Chmod`photo/1/`现在可以由所有者写入，如果需要的话[似乎你已经有了这个]。

    `$ sudo chmod -R 0755 /home/bitnami/htdocs/lookgram/photos/1/`

4.  有关为什么会发生这种行为的更多详细信息，请查看手册[http://php.net/manual/en/ini.core.php#ini.upload-tmp-dir](http://php.net/manual/en/ini.core.php#ini.upload-tmp-dir)，注意它还讨论了 open_basedir 指令。

# ios - 使 UIView 透明

> ID：15425149
> 
> 赞同：18
> 
> 时间：2013-03-15T05:07:58.967
> 
> 标签：ios, uiview, screen, transparent

我想向我的 UIViewController 添加一个 UIView，但我希望它是透明的，直到我决定在 UIView 内创建一个椭圆形。

在创建椭圆之前，我可以将视图的 alpha 设置为 0，但是当我想添加椭圆时，背景颜色仍然是黑色。

这是一堆椭圆的样子

![图片](../Images/5251c8fa0c4094615821efbb12fe7174.png)

在我的 UIView 中：

```
- (void)drawRect:(CGRect)rect
{
    [self pushContext];
    UIBezierPath *oval = [UIBezierPath bezierPathWithOvalInRect:self.bounds];
    [[UIColor redColor] setFill];
    [oval fill];
    self.opaque = NO;
    [self setBackgroundColor:[UIColor clearColor]];

    [oval addClip];
    [self setBackgroundColor:[UIColor clearColor]];

    [self popContext];
} 
```

* * *

## 回答 #1

> 赞同：28
> 
> 时间：2013-03-15T05:17:28.873

请尝试使用这个

```
view.backgroundColor = [UIColor colorWithWhite:0.0 alpha:0.0];
view.opaque = NO; 
```

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2013-03-15T05:24:13.100

```
- (id)initWithFrame:(CGRect)frame
{
    self = [super initWithFrame:frame];
    if (self) {
        // Initialization code

        self.opaque = NO;

    }
    return self;
}

- (void)drawRect:(CGRect)rect
{
    [[UIColor colorWithRed:1.0 green:1.0 blue:1.0 alpha:0.0] setFill];
    UIRectFill(rect);
    [self pushContext];
    UIBezierPath *oval = [UIBezierPath bezierPathWithOvalInRect:self.bounds];
    [[UIColor redColor] setFill];
    [oval fill];

    [oval addClip];

    [self popContext];
} 
```

* * *

## 回答 #3

> 赞同：5
> 
> 时间：2016-01-01T14:38:34.217

在你的 ViewController 中，你可以说 opaque 是 NO。假设您的视图名为 myCustomView。

```
- (void)viewDidLoad {
    [super viewDidLoad];
    self.myCustomView.opaque = NO;   
} 
```

或者你可以去情节提要并取消选中不透明的复选框，例如 - [![在此处输入图像描述](../Images/4dbfc48ab272f0fa97f6b744f6c9af5c.png)](https://i.stack.imgur.com/FWxgA.png)

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2018-08-07T12:44:57.217

在 Swift 3.x 中：（其中**layer**是**view**）

```
layer.backgroundColor = UIColor.clear.cgColor
layer.isOpaque = false 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2018-09-15T16:09:01.927

我为我的 UIViewController 做了半透明背景，就像这里推荐的一样，但是直到我将**modalPresentationStyle**设置为**.custom后它才起作用**

我的**Swift 4**代码：

```
modalPresentationStyle = .custom
view.isOpaque = false
view.backgroundColor = UIColor.black.withAlphaComponent(0.2) 
```

我使用 present(controller, anim, completion) 方法从另一个控制器打开我的控制器。

# android - 动态更改相对布局宽度和高度

> ID：15425151
> 
> 赞同：18
> 
> 时间：2013-03-15T05:08:24.253
> 
> 标签：android, android-layout

嗨，我在 LinearLayout 中使用以下布局结构

```
<TableLayout
    android:layout_width="fill_parent"
    android:layout_height="wrap_content" >

    <TableRow
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" >
    </TableRow>

    <TableRow
        android:layout_width="fill_parent"
        android:layout_height="wrap_content" >

        <TextView
            android:id="@+id/tv1"
            android:layout_height="wrap_content"
            android:gravity="left"
            android:paddingLeft="10dp"
            android:textColor="#000" />

        <TextView
            android:id="@+id/tv2"
            android:layout_height="wrap_content"
            android:layout_weight="1.0"
            android:gravity="right"
            android:paddingRight="10dp"
            android:textColor="#000" />
    </TableRow>
</TableLayout>

<ImageView
    android:id="@+id/img1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_gravity="center" />

<RelativeLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="320px"
    android:layout_height="320px"
    android:gravity="center" >
</RelativeLayout> 
```

并且想要从 java 文件动态设置相对布局宽度和高度，而不是在 xml 文件中将其设置为 320px 但无法做到这一点，方向更改不是问题，因为我将其限制为仅在纵向模式下。可以使用 match_parent 在全屏上设置相对布局，但我必须在屏幕上放置另一个视图，所以有可能或者我必须以另一种方式实现它......

* * *

## 回答 #1

> 赞同：26
> 
> 时间：2014-04-02T21:00:12.660

`wrap_content`一旦显示，Android 不会刷新视图的布局。即使有`invalidate()`or `requestLayout()`。所以如果你添加一个子视图，或者动态地修改内容，你就完蛋了。

`getLayoutParams().height = x``requestLayout()` 如果您知道“x”并且只需要执行一次，则 plus是一个很好的解决方案。之后`wrap_content`in`LayoutParams`丢失了，因为你已经覆盖了它。

为了解决这个问题，我编写了一个静态类，它重新计算大小并强制更新视图的布局`wrap_content`。代码和使用说明可在此处获得：

[https://github.com/ea167/android-layout-wrap-content-updater](https://github.com/ea167/android-layout-wrap-content-updater)

享受！

* * *

## 回答 #2

> 赞同：18
> 
> 时间：2013-03-15T05:11:25.620

尝试使用这个

```
getLayoutParams().height= x;
requestLayout(); or invalidate(); 
```

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2013-03-15T05:24:53.820

在 .xml 中为您的相对布局提供一个 id：

```
android:id="@+id/relativelayout" 
```

现在在你的java文件中写下这个：

```
RelativeLayout Rl = (RelativeLayout) findViewById(R.id.relativelayout);

RelativeLayout.LayoutParams layout_description = new RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.FILL_PARENT or YourUserDefinedwidth,
                        RelativeLayout.LayoutParams.FILL_PARENT or YourUserDefinedHeight);

Rl.setLayoutParams(layout_description); 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2013-03-15T05:17:03.677

从下面的代码你可以得到设备的高度和宽度： -

```
Display display = getWindowManager().getDefaultDisplay();
    int width = (display.getWidth() );
    int height = (display.getHeight() ); 
```

paramsTop 你的真实布局：-

现在你可以设置你想要的高度或宽度。

```
 paramsTop = new RelativeLayout.LayoutParams(width, height); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2013-03-15T05:18:05.637

您可以使用 LayoutParams 动态设置视图尺寸。像这样的东西：

```
RelativeLayout layout = (RelativeLayout) findViewById(R.id.yourlayout_id);
// Gets the layout params that will allow you to resize the layout
LayoutParams params = layout.getLayoutParams();
params.height = 320;
params.width = 320; 
```

* * *

## 回答 #6

> 赞同：2
> 
> 时间：2016-01-29T06:23:18.717

我遇到了这个问题，像这样动态更改相对布局宽度和高度的最佳解决方案

```
RelativeLayout relMain = (RelativeLayout) convertView.findViewById(R.id.relMain);
    RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.MATCH_PARENT, RelativeLayout.LayoutParams.WRAP_CONTENT);
    params.width =200;
 params.height =200;
 params.addRule(RelativeLayout.ALIGN_PARENT_RIGHT);
        relMain.setLayoutParams(params); 
```

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2016-11-20T00:08:23.990

如果您打算更改高度，那么这将是一个技巧。

```
RelativeLayout relativeLayout = (RelativeLayout) findViewById(R.id.yourId);
relativeLayout.getLayoutParams().height = 100;
relativeLayout.getLayoutParams().width = 100; 
```

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2021-09-10T10:00:28.980

`LinearLayout`在使用which has`wrap_content`和一个 child as `TextView`which had时我遇到了同样的问题`match_parent`。

以编程方式删除`TextView`，然后再次添加。

```
linearLayout.removeView(textView)
linearLayout.addView(textView) 
```

我知道这听起来很愚蠢，但它确实有效。在我的情况下，调用无效无效，只有这个有效。

根据您的实现，您需要处理其父级中的视图索​​引

# java - 如何从另一个 apache 服务器查找 apache 服务器是否正在运行？

> ID：15425152
> 
> 赞同：0
> 
> 时间：2013-03-15T05:08:27.797
> 
> 标签：java, ajax, apache, jsp, tomcat

我有两个 apache 服务器。一台 apache 服务器正在运行。另一个 apache 没有运行。从运行 apche ，如何找到第二个 apache 是否正在运行？我想要jsp代码..

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T05:25:26.487

我不明白你的意思，也许你想通过套接字连接 apache 服务器。

```
<%@ page contentType="text/html" import="java.io.*, java.net.*" %>

<% 
        try {
            Socket s = new Socket("another.apache.com", 80);

            BufferedReader in = new BufferedReader(new 
            InputStreamReader(s.getInputStream()));
            PrintWriter socketOut = new PrintWriter(s.getOutputStream());

            socketOut.print("GET /index.html\n\n");
            socketOut.flush();

            String line;

            while ((line = in.readLine()) != null){
                out.println(line);
            }

        } catch (Exception e){}
%> 
```

如果没有任何异常，您的另一个 apache 服务器正在运行，否则它处于脱机状态。

# c# - ToggleButton Style 仅适用于最后一个 ToggleButton

> ID：15425155
> 
> 赞同：1
> 
> 时间：2013-03-15T05:08:46.483
> 
> 标签：c#, wpf, controltemplate, togglebutton

我正在尝试自定义我的 ToggleButtons，以便在选中时以绿色表示“是”，在未选中时以红色表示“否”。

我创建了以下样式，它位于我的 Styles 资源字典中。

```
<!--  ToggleButtons   -->
<Style x:Key="YesNoToggleStyle" TargetType="ToggleButton">
  <Style.Triggers>
    <Trigger Property="IsChecked" Value="True">
      <Setter Property="Background" Value="SpringGreen" />
      <Setter Property="Content">
        <Setter.Value>
          <TextBlock Text="Yes"/>
        </Setter.Value>
      </Setter>
    </Trigger>
    <Trigger Property="IsChecked" Value="False">
      <Setter Property="Background" Value="Crimson" />
      <Setter Property="Content">
        <Setter.Value>
          <TextBlock Text="No"/>
        </Setter.Value>
      </Setter>
    </Trigger>
  </Style.Triggers>
</Style> 
```

这工作......有点。如果 ToggleButton 是任一值的最后一个，则它会正确显示。之前所有具有相同值的按钮都是空白的。高度也在缩小，但我用触发器上方的“高度”设置器修复了它。为了说明，当创建新记录时，它看起来像：

![启动切换按钮](../Images/961668cf4396efd359b78593d30417a2.png)在我再次单击按钮 1、2、3 和 1 之后：![编辑的切换按钮](../Images/4664fbfd5bf2558c12e4252d29fbc810.png)

我最初的样式是从周围的网格中引用的：

```
<Grid>
  ...
    <Grid.Resources>
      <Style BasedOn="{StaticResource YesNoToggleStyle}" TargetType="{x:Type ToggleButton}" />
    </Grid.Resources> 
```

但是更改它以使每个 ToggleButton 单独引用样式 ( `<ToggleButton Style="{StaticResource YesNoToggleStyle}" ... />`) 并没有什么不同。

我查看了[在 wpf 中自定义切换按钮的切换状态](https://stackoverflow.com/questions/1532573/customizing-the-toggle-state-of-a-toggle-button-in-wpf)和[覆盖切换按钮样式](https://stackoverflow.com/questions/12416821/override-togglebutton-style)，其中效果相同，但它们谈论的是外部图像，而我的问题都在 wpf 中。

我还查看了第二个答案： [我想在选中切换按钮时更改切换按钮的背景颜色，反之亦然，](https://stackoverflow.com/questions/5618800/i-want-to-change-backcolor-of-toggle-button-when-toggle-button-ischecked-and-vic) 但是 a）我只有 VS2012 附带的混合 + 草图流预览，并且 b）我是一个完全的菜鸟使用混合并且无法从答案中`Select the "Checked State"`获得指导（如果此任务*需要*混合工具，`Reset the Background Color`我会感到惊讶）。

 *谁能告诉我如何让多个 ToggleButtons 正确使用相同的样式？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T06:25:23.113

这对我有用。在某处`Dictionary1.xaml`：

```
<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Style x:Key="YesNoToggleStyle" TargetType="{x:Type ToggleButton}" BasedOn="{StaticResource {x:Static ToolBar.ToggleButtonStyleKey}}">
        <Style.Triggers>
            <Trigger Property="IsChecked" Value="False">
                <Setter Property="Background" Value="Crimson" />
                <Setter Property="Content" Value="No"/>
            </Trigger>
            <Trigger Property="IsChecked" Value="True">
                <Setter Property="Background" Value="SpringGreen" />
                <Setter Property="Content" Value="Yes"/>
            </Trigger>
        </Style.Triggers>
    </Style>
</ResourceDictionary> 
```

请注意，该样式基于`ToolBar.ToggleButtonStyle`.

```
<Grid>
    <Grid.Resources>
        <ResourceDictionary Source="pack://application:,,,/Dictionary1.xaml"/>
    </Grid.Resources>

    <ItemsControl ItemContainerStyle="{StaticResource YesNoToggleStyle}">
        <ToggleButton />
        <ToggleButton />
        <ToggleButton />
    </ItemsControl>
</Grid> 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2014-05-06T13:51:53.873

尝试将 Content 属性替换为 ContentTemplate：

```
 <Setter Property="ContentTemplate">
        <Setter.Value>
            <DataTemplate>
                <TextBlock Text="Yes"/>
            </DataTemplate>
        </Setter.Value>
    </Setter> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-02-06T17:12:31.020

在我的情况下，我想在一个通用 dll 中定义一个“锁定”切换按钮，并在我的应用程序中重用。这是我的结果，它对我有用。也许有人觉得它很有用（把它放在 Resourcedictionary.xaml 中）：

```
<BitmapImage  x:Key="LockedLock"
              UriSource="/...;component/Resources/Lock_closed_16p.png" />
<BitmapImage  x:Key="OpenLock"
              UriSource="/...;component/Resources/Lock_open_16p.png" />

<Style x:Key="LockButton"
       TargetType="ToggleButton">
    <Setter Property="ContentTemplate">
        <Setter.Value>
            <DataTemplate>
                <Image Source="{DynamicResource OpenLock }"
                       Width="12"
                       Height="12"
                       Name="contentimage" />
                <DataTemplate.Triggers>
                    <DataTrigger Binding="{Binding RelativeSource={RelativeSource AncestorType=ToggleButton , AncestorLevel=1, Mode=FindAncestor }, Path=IsChecked}"
                                 Value="True">
                        <Setter Property="Image.Source"
                                TargetName="contentimage"
                                Value="{DynamicResource LockedLock }" />
                    </DataTrigger>
                </DataTemplate.Triggers>
            </DataTemplate>
        </Setter.Value>
    </Setter>
</Style> 
```

学分：

[通过样式将按钮的内容设置为 <Image>](https://stackoverflow.com/questions/6356810/setting-buttons-content-to-image-via-styles)

[设置器目标名称无法识别](https://stackoverflow.com/questions/38149876/setter-target-name-not-recognized)*

# jakarta-ee - Tomcat 中的 Maven War 部署错误

> ID：15425156
> 
> 赞同：0
> 
> 时间：2013-03-15T05:08:50.040
> 
> 标签：jakarta-ee, maven, tomcat

基本上我无法克服这个错误，一次又一次地尝试。

我已经将我当前的 javaee 项目移植到 maven，从 maven 3.0.3 发起了一场战争，这似乎没有部署在 tomcat 6.0.10 中。我使用的是 jdk 1.7（虽然，我使用 jdk 1.6 和 tomcat 7 时遇到了同样的错误）

它抛出的错误是

```
Mar 15, 2013 10:24:39 AM org.apache.catalina.loader.WebappClassLoader validateJa
rFile
INFO: validateJarFile(D:\apache-tomcat-6.0.10\webapps\Name\WEB-INF\lib\
javaee-api-5.0-1.jar) - jar not loaded. See Servlet Spec 2.3, section 9.7.2\. Off
ending class: javax/servlet/Servlet.class
Mar 15, 2013 10:24:39 AM org.apache.catalina.loader.WebappClassLoader validateJa
rFile
INFO: validateJarFile(D:\apache-tomcat-6.0.10\webapps\Name\WEB-INF\lib\
servlet-api-2.5.jar) - jar not loaded. See Servlet Spec 2.3, section 9.7.2\. Offe
nding class: javax/servlet/Servlet.class
SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".
SLF4J: Defaulting to no-operation (NOP) logger implementation
SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further detail
s.
Inside Cache Manager Initialization new ....
java.lang.NullPointerException
Mar 15, 2013 10:24:59 AM org.apache.catalina.core.StandardContext start
SEVERE: Error listenerStart
Mar 15, 2013 10:24:59 AM org.apache.catalina.core.StandardContext start
SEVERE: Context [/Name] startup failed due to previous errors 
```

当我试图找出错误“jar not loaded. See Servlet Spec 2.3, section 9.7.2”时，它说首选 jar 必须在编译和运行时都存在，所以我添加了 servlet-api-2.5.jar在 pom.xml 中。javaee-api-5.0.1.jar 已经在那里了。

添加依赖项后，我得到同样的错误。

任何人都对这种奇怪的行为有所了解。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T09:17:27.130

将servlet api的范围更改为，`<scope>provided</scope>`因为它是由tomcat*提供的。*并且`javaee-api`不是由 tomcat 提供的，因此请将其保存在您的 webapp 中。

Tomcat 不支持完整的 Java EE 堆栈，但仅支持其中的一部分（即支持 servlet-api，但不支持 JTA、JPA、JMS）：这就是您需要包含`javaee-api`在 Web 应用程序中的原因

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T06:18:00.857

“jar 未加载”错误是由`javax/servlet/Servlet.class`Tomcat 运行时可供选择的倍数引起的。从您应用`javaee-api-5.0-1.jar`的. Tomcat 已经提供了这些 jar。为了验证这一点，看看这些罐子已经在那里了。`servlet-api-2.5.jar``WEB-INF/lib``<TOMCAT_HOME>\lib`

# dynamics-crm-2011 - 如何在 MS CRM 2011 中自定义潜在客户？

> ID：15425159
> 
> 赞同：-1
> 
> 时间：2013-03-15T05:08:58.763
> 
> 标签：dynamics-crm-2011, dynamics-crm, crm, outlook-2010

我在我的 Outlook Express 2010 中配置**了 microsoft Dynamics crm 2011。在**此之前我使用的是试用版。在那个试用版中，我使用定制作为销售下的潜在客户。但我用 Outlook 配置之后我找不到自定义按钮. **如何启用CRM工具栏中的自定义按钮或如何自定义CRM中的潜在客户表单？**

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:47:56.753

它应该位于*Settings > Customizations > Customize the System*。将弹出一个新窗口。在那里，你去*实体 > Lead > 不管你需要定制*。

我还可以建议，在此之前，您将创建一个解决方案（包括创建提供的解决方案）？这似乎是一个不必要的步骤，但从长远来看会有所回报。您将能够打包您的更改并更轻松地分发。

不过，直截了当，我可以想到两个问题。为了自定义，您需要：

*   将当前语言设置为基本语言，
*   确保当前用户具有适当的权限
*   启用自定义实体的自定义（但不适用于*Lead*）

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T06:05:30.847

仅当您具有“系统定制员”安全角色时，才会显示自定义功能区选项卡。您还应该能够通过设置模块访问它，然后是解决方案。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T14:26:08.737

打开单个潜在客户记录 - 您在那里看到“自定义功能区”选项卡吗？如果是这样，这就是你的答案。如果不是，您的角色似乎不是系统定制员或系统管理员。

# iphone - 触摸计数检测和执行功能

> ID：15425164
> 
> 赞同：1
> 
> 时间：2013-03-15T05:09:14.130
> 
> 标签：iphone, ios, objective-c, ipad, uitapgesturerecognizer

> tapGesture = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(handleTapGesture:)]; tapGesture.numberOfTapsRequired = 2; tapGesture.numberOfTouchesRequired = 1;
> 
> ```
> [self.view addGestureRecognizer:tapGesture];
> [tapGesture release]; 
> ```

和

```
- (void)handleTapGesture:(UITapGestureRecognizer *)sender {

     if (sender.state == UIGestureRecognizerStateRecognized) {
  // handling code
        NSLog(@"We got double tap here");
        DashBoardViewController*   dashboardObj = [[DashBoardViewController alloc] initWithNibName:@"DashBoardViewController" bundle:nil];
        [self.navigationController pushViewController:dashboardObj animated:YES];
 } 
```

我想做的是，我想在单击和双击时调用 2 个不同的事件。那么我怎样才能检测到 tap==1 和 tap==2 的时间呢？在我的代码中可以识别双击，但我不确定在找到单击时如何查找和工作。

谢谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T05:15:51.730

这可能会给 ua soln

```
UITapGestureRecognizer *singleTap = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(handleSingleTap:)];
UITapGestureRecognizer *doubleTap = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(handleDoubleTap:)];

[doubleTap setNumberOfTapsRequired:2];
[singleTap setNumberOfTouchesRequired:1];

[self.view addGestureRecognizer:singleTap];
[self.view addGestureRecognizer:doubleTap];

- (void)handleSingleTap:(UIGestureRecognizer *)gestureRecognizer {
// single tap action
}

- (void)handleDoubleTap:(UIGestureRecognizer *)gestureRecognizer {
   // double tap action
} 
```

或者你必须使用 NSTimer 作为 darren 指出来验证单点触摸。

在方法中，

```
- (void)touchesEnded:(NSSet *)touches withEvent:(UIEvent *)event 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:12:55.910

以下似乎是一篇关于 iOS 触摸的好文章。

[http://www.sitepen.com/blog/2008/07/10/touching-and-gesturing-on-the-iphone/](http://www.sitepen.com/blog/2008/07/10/touching-and-gesturing-on-the-iphone/)

# r - R：data.frame 到向量

> ID：15425165
> 
> 赞同：2
> 
> 时间：2013-03-15T05:09:16.000
> 
> 标签：r, dataframe

让我先说我对 R 知之甚少。我正在使用 read.table("file.txt", T) 将文本文件导入 R 中。文本文件采用一般格式：

```
header1    header2
a          1
a          4
b          3
b          2 
```

每个 a 都是来自样本的观察结果，同样每个 b 都是来自不同样本的观察结果。我想计算我正在用tapply（header2，header1，mean）做的a和b集合的各种统计数据。这很好用。

现在我需要做一些a和b的qqnorm图并用qqline绘制。我可以使用 tapply(header2, header1, qqnorm) 制作每个分位数图，但使用 tapply(header2, header1, qqline) 在最后一个分位数图上绘制两条最佳拟合线。从编程上讲，这是有道理的，但对我没有帮助。

所以我的问题是，如何将数据帧转换为两个向量（一个用于所有 a，一个用于所有 b）？那有意义吗？基本上，在上面的示例中，我希望得到两个向量：a=(1,4) 和 b=(3,2)。

谢谢！

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-15T05:15:27.880

创建一个两者兼而有之的函数。您将无法（至少很容易）恢复到旧的图形设备。

例如

```
with(dd, tapply(header2,header1,  function(x) {qqnorm(x); qqline(x)})) 
```

您可以`data.table`在这里使用编码优雅（和速度）

您可以传递`body`在 data.table 范围内评估的函数的等效项，例如

```
library(data.table)
DT <- data.table(dd)
DT[, {qqnorm(x)
      qqline(x)}, by=header1] 
```

您真的不想用大量对象污染您的全局环境（这将是低效的）。

# ios - 检查用户何时滑过 UIView - touchesMoved 太滞后

> ID：15425167
> 
> 赞同：1
> 
> 时间：2013-03-15T05:09:18.743
> 
> 标签：ios, objective-c, uiview, pixel, touchesmoved

*我知道有更好的方法可以使用 CoreGraphics 来实现绘图工具，我正在使用这种 UIView 方法，因为我想实现像素化效果，并且我有一些其他自定义的东西很难做到内置CG代码。*

我有一个 400 个 UIView 的网格来创建我的像素化画布......
用户选择一种油漆颜色并开始将他们的手指拖到 400 个 UIView 的画布上，因为他们的手指碰到一个 UIView，该 UIView 的颜色（又名像素）将更改为用户选择的颜色...

现在我已经编写了整个代码并且一切正常，但是它很滞后（因为我使用的是 touchesMoved）并且很多点都被跳过了...

我目前正在使用 touchesMoved 并将 UIView 移动到手指位置（我称之为`fingerLocationRect`）。

当我更新一个像素的（400 个微型 UIView 中的 1 个）颜色时，我通过检查`fingerLocationRect`我的 UIView 中的任何一个是否是交叉点来做到这一点。如果他们是我更新颜色。

```
-(void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event {
    UITouch *touch = [touches anyObject];
    CGPoint currentPosition = [touch locationInView:self.view];
    fingerLocationRect.center = CGPointMake(currentPosition.x, currentPosition.y);
    int tagID = 1;
    while (tagID <= 400) {
        if(CGRectIntersectsRect(fingerLocationRect.frame, [drawingView viewWithTag:tagID].frame)) {
            [drawingView viewWithTag:tagID].backgroundColor = [UIColor colorWithRed:redVal/255.f green:greenVal/255.f blue:blueVal/255.f alpha:1.f];
        }
        tagID ++;
    }
} 
```

问题是 touchesMoved 不经常更新......所以如果我在画布上拖动手指，只有 5 个像素发生变化，而不是我实际触摸的 40 个。

我想知道使用`CGRectIntersectsRect`with`touchesMoved`是否是检测用户是否滑动 UIView 的最佳方法......现在它的更新速度不够快，我得到的是左边的结果而不是右边的结果。（如果我非常缓慢地移动手指，我只能达到右侧的效果......）

![在此处输入图像描述](../Images/005db8c6e6a0b1da3ea38bc19d77363c.png)

综上所述，是否有一种方法可以检测用户何时在 UIView 上滑动而不是使用`touchesMoved`？如果没有，关于如何在 touchesMoved 返回的触摸位置之间获取所有 UIView 的任何想法？我让它们都有 1-400 的标签（第一行是 1-10，第二行是 11-21，等等）

Ps 如果 a`panGestureRecognizer`更新比 a 更频繁`touchesMoved`？

要了解 400 个 UIView 在这里的样子，它们都具有`arc4random`基础颜色：

![在此处输入图像描述](../Images/60f1dfc02e68e49af0c568f2857b59f2.png)

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T05:49:31.583

每次调用 touchesMoved: 时，您都在循环 400 个视图。您只需要做一些数学运算即可确定正在触摸网格中的哪个视图。假设 drawingView 是包含所有 400 个“像素”的“画布”视图，并且标签从左上角到右下角排序，则：

```
-(void)touchesMoved:(NSSet *)touches withEvent:(UIEvent *)event {
    UITouch *touch = [touches anyObject];    
    CGPoint point = [touch locationInView:drawingView];
    NSInteger column = floorf(20 * point.x / drawingView.bounds.size.width); //20 is the number of column in the canvas
    NSInteger row = floorf(20 * point.y / drawingView.bounds.size.height); //20 is the number of rows in the canvas
    [viewWithTag:column + 20*row].backgroundColor = [UIColor colorWithRed:redVal/255.f green:greenVal/255.f blue:blueVal/255.f alpha:1.f];
} 
```

这种方法性能改进将允许 cocoa 更频繁地调用 touchesMoved：

# linq - 如何使用 Linq 从父集合中的每个父实体中过滤子集合

> ID：15425168
> 
> 赞同：1
> 
> 时间：2013-03-15T05:09:44.513
> 
> 标签：linq, dbcontext

使用 linq (EF dbcontext)，我需要一个语句来过滤强类型的 IEnumerable 父实体集合中每个父实体的子实体集合。

示例：
我有 4 家酒店，每家酒店全年都有多个房间预订。然而，在 6 月份，一 (1) 家酒店没有任何预订 (reservation.Count=0)，但其他三家酒店各有多个预订。

问题：
尝试#1：`IEnumerable(hotel) HotelList = (from hotels in context.Hotels select hotels).ToList();`

如果没有“where”子句（过滤器），我会得到 IEnumerable(hotel) HotelList 4 家酒店的集合和 IEnumerable(reservation) ReservationList 数据库中所有预订的集合（我只想要那些在六月的）！

尝试#2：`IEnumerable(reservation) ReservationList = (from reservations in context.Reservations where reservations.reservation_date_month == 'June' select reservations).ToList();`

如果我仅筛选 6 月的预订日期，我的酒店数量是 3 而不是 4。

问题：
我需要一个 linq 语句来选择“父”酒店集合并过滤“子”预订集合以仅包含 6 月份的预订（记住一家酒店在 6 月份没有预订）。

预期结果：
结果应该是父 IEnumerable(hotel) HotelList 集合（包括所有 4 个酒店实体）和子 IEnumerable(reservation) ReservationList 集合，其中列出了每个酒店实体 6 月的所有预订，但一 (1) 家酒店将有reservations.Count = 0（即没有保留实体）。

谢谢-jd

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T06:53:38.617

您应该`join`自己指定：

```
from h in context.Hotels
join r in context_Reservations on r.hotel_id equals h.id
where reservations.reservation_date_month == 'June'
group new { h, r } by h into g
select new { Hotel g.Key, Reservations = g.Select(i => i.r).ToList() } 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T06:51:35.183

我怀疑您有一个结构，其中每个预订都引用它所属的酒店。然后，您需要一个**外部联接**，将酒店与其预订联系起来。使用外连接而不是内连接可确保没有匹配预订的酒店也将在输出中。有关更多信息，请参见[此处](https://stackoverflow.com/questions/5489987/linq-full-outer-join)、[此处](http://msdn.microsoft.com/en-us/library/vstudio/bb397895.aspx)和[此处](https://stackoverflow.com/questions/9137655/outer-join-linq)。

# highcharts - 打印时highchart不显示条形图

> ID：15425169
> 
> 赞同：1
> 
> 时间：2013-03-15T05:09:46.360
> 
> 标签：highcharts

我是 highchart 的新手，正在使用它在我的网页上呈现条形图。但是打印时图表没有显示。只有 X 和 Y 轴正在打印值，而不是上面的条形图。我正在使用 IE8。条形图在 IE8 模式下可见（打印时），但在 IE8 兼容模式下不可见。我需要让它在 IE 默认模式下工作，即 IE8 兼容。模式。

任何人都可以在这个问题上帮助我。

我正在添加我的 js 函数的代码块，我在灯箱窗口中打印我的 highchart。

```
 var chart = new Highcharts.Chart({
        chart: {
            renderTo: 'containerDivID',
            type: 'column'
        },
        title: {
            text: ''
        },
        xAxis: {
               categories: xDataValues

        },
        yAxis: {
            min: 0,
            title: {
                text: ''
            }
        },
        tooltip: {
            formatter: function() {
                return ''+
                    this.x +': '+ this.y +' kr';
            }
        },

        plotOptions: {
            column: {
                stacking: 'normal',
                borderWidth: 1,
                dataLabels: {
                    enabled: false,
                    color: (Highcharts.theme && Highcharts.theme.dataLabelsColor) || 'white'
                }
            }
        }
        ,
        yAxis: {
            labels: {
                formatter: function() {
                    return this.value;
                }
            },
            title:{
                text: ''
            }
        },
        series: [
          {
            name: 'YAxis',
            color: '#37789F',
            data: yDataValues
        }

        ],
        credits:{
            enabled: false
        }
    }); 
```

在这个灯箱中，我有一个打印按钮，按下这个按钮我正在调用 window.print() 来打印页面。在我的打印页面上，我可以看到 y 轴和 x 轴以及那里的数据，但看不到我的条形图。但是如果我将 IE8 模式从兼容模式更改为 IE8 标准模式，那么我可以在打印时看到我的图表。

问候， 安迪

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-02-21T23:14:54.640

对我来说，我没有使用该`print()`功能来打印图表，因为我需要使用图表打印额外的数据；因为我的图表是报告的一部分。

请找到我写的自定义打印功能：

```
 function printReport() {
    w = window.open();
    var svg = myChart.getSVG();

    //clone the div you want to print which contains your chart
    var toprint = $('#bs-results') .clone();

    //replace the chart with the svg
    toprint.find('#graph_div').html(svg);

    //right the output to print it
    w.document.write(toprint.html());

    w.print();
    w.close();
} 
```

* * *

## 回答 #2

> 赞同：-1
> 
> 时间：2013-03-15T09:09:09.333

请查看兼容性页面[http://www.highcharts.com/documentation/compatibility](http://www.highcharts.com/documentation/compatibility)，我们支持原生浏览器但不支持兼容模式。

# jquery - 有 jQuery 退出功能吗？

> ID：15425177
> 
> 赞同：0
> 
> 时间：2013-03-15T05:10:03.627
> 
> 标签：jquery

我有一个名为 addItem() 的自定义函数，其中包含 each() 函数。当满足某个条件时，我需要退出 addItem() 函数。我不能使用`return`它，因为它只从 each() 函数中退出，并且仍然在 main 函数中运行其余代码。我试过`exit`了，它似乎工作得很好。我只是不知道使用`exit`是否是正确的方法，因为我没有看到`exit`太多使用。

这是我的代码：

```
var addItem = function (position) {
    $(position + ' .item_div').each(function() {
        if($(this).find('.item').val() == '') {
            alert('Cannot be empty');
            exit;  // exit from addItem() function
                   // return does not work
        }
    });
    ...........
    ...........
    rest of the code here... this gets executed ONLY if each() fails...
    ...........
    ...........
} 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T05:11:46.640

您可以使用 return false 来打破[.each](http://api.jquery.com/each/)循环。

> 您可以通过返回 false 从回调函数中停止循环。

```
var addItem = function (position) {
    var valid = true;
    $(position + ' .item_div').each(function() {
        if($(this).find('.item').val() == '') {
            alert('Cannot be empty');
            valid = false;
            return false;
        }
    });

    if(!valid) {
        return;
    }
    ...........
    ...........
    rest of the code here... this gets executed ONLY if each() fails...
    ...........
    ...........
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:15:40.100

你试过用break吗？break 语句“跳出”循环。

或者您可以创建标签并使用 goto 跳转到该标签。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T05:12:17.263

根据文档。是的。你需要`return false;`在循环中 [打破循环](http://docs.jquery.com/Utilities/jQuery.each)

```
$('.someclass').each(function() {

    if (someConditionMet)
        return false;
}); 
```

# c# - USB-Serial Converter 不会在 C# 中触发 DataReceived

> ID：15425178
> 
> 赞同：0
> 
> 时间：2013-03-15T05:10:14.600
> 
> 标签：c#, usb

我正在用 C# 编写一个程序，我想从 USB 端口读取数据并在收到数据时写入文本框。我有一个通过 RS-232 发送数据（通过 PuTTY 验证）的万用表，我将 232 连接到 Prolific 2303 USB 串行转换器。我使用设备管理器发现这是COM4，并检查了万用表的规格以找到波特率、停止位、奇偶校验等。我使用的是System.IO.Ports.SerialPort，并设置了串口具有适当的 COM 引用、波特率等的对象。由于某种原因，DataReceived 事件似乎永远不会被触发，因为我的委托函数没有执行。就像我说的，我知道数据正在到达，因为我可以在 PuTTY 中看到它。以下是我的代码，希望有人可以帮助我... 如果您需要更多信息来弄清楚这是怎么回事，请告诉我。非常非常感谢提前！

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;
using System.IO;
using System.IO.Ports;
using System.Reflection;
using System.Threading;

namespace WindowsFormsApplication1
{
    public partial class dataAcquisitionMain : Form
    {
        string RxString;

        public dataAcquisitionMain()
        {
            InitializeComponent();
        }

        private void button1_Click(object sender, EventArgs e)//"Start" button
        {
            serialPort1.PortName = "COM4";
            serialPort1.BaudRate = 2400;

            serialPort1.Open();
            if (serialPort1.IsOpen)
            {
                inputStream.ReadOnly = false; //A text box I want to put data into
                startButton.Enabled = false;
                stopButton.Enabled = true;
            }
        }

        private void serialPort1_DataReceived(object sender, System.IO.Ports.SerialDataReceivedEventArgs e)
        {
            serialPort1.DataReceived += serialPort1_DataReceived;
            RxString = serialPort1.ReadExisting();
            this.Invoke((MethodInvoker)delegate{DisplayText();});
        }
        private void DisplayText()
        {
            textBox1.Text = "here";
            inputStream.Text = RxString;
            inputStream.AppendText(RxString);
        }

        private void dataAcquisitionMain_FormClosing(object sender, EventArgs e)
        {
            if (serialPort1.IsOpen) serialPort1.Close();
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-10T11:43:57.320

试着放

`serialPort1.DataReceived += serialPort1_DataReceived;`

在 dataAcquisitionMain() 中。

看起来您正在尝试初始化调用的事件

```
serialPort1_DataReceived; 
```

在事件处理程序中。

如果这是有道理的。

尝试：

```
SerialPort.comPort.DataReceived +=new SerialDataReceivedEventHandler(comPort_DataReceived); 
```

# php - 上传后如何显示保存在文件夹中的图像

> ID：15425183
> 
> 赞同：2
> 
> 时间：2013-03-15T05:10:39.773
> 
> 标签：php, html, image-gallery

我只是希望在我上传图片后，它会被重定向到显示所有图片的页面。图像保存在文件夹中。我找到了一些例子，但它们太复杂了，我只想先尝试简单的方法。

这是上传图片的 HTML 代码：

```
<form action="upload_image.php" method="post" enctype="multipart/form-data">
<label for="file">Filename:</label>
Title:<input type="text" name="title" id="title" />
<input type="file" name="file" id="file" />
<br />
<input type="submit" name="submit" value="Submit" /> 
```

这是在数据库中保存其他详细信息的 PHP 代码：

```
include('../IFM-mobile_website/include/connect.php');
$title=$_POST['title'];
if ((($_FILES["file"]["type"] == "image/gif")
|| ($_FILES["file"]["type"] == "image/jpeg")
|| ($_FILES["file"]["type"] == "image/pjpeg"))
)
{
 if ($_FILES["file"]["error"] > 0)
    {
    echo "Return Code: " . $_FILES["file"]["error"] . "<br />";
    }
    else
    {
    echo "Upload: " . $_FILES["file"]["name"] . "<br />";
    echo "Type: " . $_FILES["file"]["type"] . "<br />";
    echo "Size: " . ($_FILES["file"]["size"]) . " Kb<br />";
    echo "Temp file: " . $_FILES["file"]["tmp_name"] . "<br />";

    if (file_exists("upload/" . $_FILES["file"]["name"]))
    {
    echo $_FILES["file"]["name"] . " already exists. ";
    }
   else
    {
    move_uploaded_file($_FILES["file"]["tmp_name"],
    "upload/" . $_FILES["file"]["name"]);
    echo "Stored in: " . "../IFM-mobile_website/upload/" . $_FILES["file"]["name"];
    }
    }
    }
    else
    {
    echo "Invalid file";
    } 
```

任何帮助将非常感激。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:13:19.960

您的文件上传路径和您显示图像的路径不同

上传到：`"upload/" . $_FILES["file"]["name"]`

从显示它：`"../IFM-mobile_website/upload/" . $_FILES["file"]["name"]`

```
move_uploaded_file($_FILES["file"]["tmp_name"],
  "upload/" . $_FILES["file"]["name"]);
  echo "Stored in: " . "../IFM-mobile_website/upload/" . $_FILES["file"]["name"]; 
```

要显示文件夹中的所有图像：

```
$a = glob('Your/path/*.{jpg,gif,png}',GLOB_BRACE);
print_r($a); 
```

# php - 拆分PDF并使用php将第一页转换为图像

> ID：15425185
> 
> 赞同：0
> 
> 时间：2013-03-15T05:10:48.250
> 
> 标签：php, pdf

我有大约 100 页的 pdf 文件，我的要求是抓取它的第一页并使用 PHP 将其转换为图像，除此之外我必须将 pdf 转换为多个文件。例如 100 页 pdf 将生成 99 个文件 + 1 个图像文件用作封面。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:16:38.497

不太容易做到，因为它需要在 PHP 中实现一些 postscript 方法，首先将 pdf 拆分为 100 页，然后，应该“打印”第一页，然后正确地重新排序文件。

# meteor - Meteor PayPal 付款（使用 Meteor.http）

> ID：15425189
> 
> 赞同：3
> 
> 时间：2013-03-15T05:11:05.037
> 
> 标签：meteor, paypal

**编辑：我已经解决了我原来的问题，并在我的回答中展示了一个米特示例。**

尝试在 Meteor 中获取我的 PayPal API 应用程序的令牌时出现错误 500：

```
token = EJSON.stringify(Meteor.http.call "POST", "https://api.sandbox.paypal.com/v1/oauth2/token",
    headers:
      "Accept": "application/json"
      "Accept-Language": "en_US"
    auth: "user:pass"
    params:
      "grant_type":"client_credentials"
  );
  console.log("Token: "+token); 
```

此代码的输出：

```
Token: {"statusCode":500,"headers":{"server":"Apache-Coyote/1.1","date":"Fri, 15 Mar 2013 05:04:43 GMT","content-length":"0","connection":"close"},"data":null,"error":{}} 
```

显然 PayPal 正在向我返回错误 500。我无法弄清楚可能是什么原因造成的。当然 Auth 是实际数据，而不是 user:pass。

**为什么我收到错误 500？**

**编辑：编译的 Javascript** var token；

```
token = EJSON.stringify(Meteor.http.call("POST", "https://api.sandbox.paypal.com/v1/oauth2/token", {
  headers: {
    "Accept": "application/json",
    "Accept-Language": "en_US"
  },
  auth: "user:pass",
  params: {
    "grant_type": "client_credentials"
  }
}));

console.log("Token: " + token); 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-18T16:13:49.533

**这是一个使用流星进行贝宝 API 调用**的示例实现。

在您的程序启动时，获取您的令牌。总是用你自己的替换`clientid`和。`clientsecret`

```
token = EJSON.parse(Meteor.http.post("https://api.sandbox.paypal.com/v1/oauth2/token",
    headers:
      "Accept": "application/json"
      "Accept-Language":"en_US"
    auth: "clientid:clientsecret"
    params:
      "grant_type":"client_credentials"
    #encoding: "base64"
  ).content).access_token; 
```

现在，创建一个付款，这里显示在一个`Meteor.methods`方法中（并返回一个 URL 供客户端访问）：

```
buySingleItem: () ->
      console.log "Starting new payment, user id: "+Meteor.userId()
      result = Meteor.http.post("https://api.sandbox.paypal.com/v1/payments/payment",
      headers:
        "Authorization":"Bearer "+token
        "Content-Type": "application/json"
      data:
        {
          "intent":"sale"
          "redirect_urls":
            "return_url":"http://mysite.herokuapp.com/done",
            "cancel_url":"http://mysite.herokuapp.com/cancel"
          "payer":
            "payment_method":"paypal"
          "transactions":[
            {
              "amount":
                "total":"3.00",
                "currency":"USD"
              "description":"My item description."
            }
          ]
        }
      )
      payment = result.data
      console.log "PayPal redirect: "+payment.links[1].href
      return payment.links[1].href 
```

这将在 Meteor 中创建一个 PayPal 结帐式付款。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T21:43:20.700

我会提供示例代码，但我不熟悉 Meteor。

基本上你有2个问题：

在您的标头中，您没有传递客户端 ID 或客户端密码。这应该看起来像：

```
Authorization: Basic clientid:clientsecret 
```

此外，在您的请求中，您的请求应如下所示： response_type=token&grant_type=client_credentials

看起来你的 in json 然后对其进行字符串化，所以无论你需要什么方式来获取我刚刚放在那里的 POST 请求，一旦你得到它，你应该会很好。

[编辑] PayPal 的文档没有让您对客户端 ID 或密码进行 base64 编码[/编辑]

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2014-05-04T17:44:18.590

然后，当您需要执行付款时，您可以执行以下操作。[在此处查看整个付款流程](http://journal.gentlenode.com/meteor-8-create-and-execute-a-payment-with-paypal-rest-api/)。

```
Meteor.methods
  'executePaypalPayment': (payerId) ->
    payment = PaypalPayments.findOne({ userId: @userId },
      { sort: { 'create_time': -1 } })

    token = Meteor.call 'getPaypalToken'

    url = 'https://api.sandbox.paypal.com/v1/payments/payment/' +
           payment.id + '/execute'

    res = Meteor.http.post url,
      headers:
        Authorization: 'Bearer ' + token.access_token
        'Content-Type': 'application/json'
      data:
        payer_id: payerId

    payment = res.data
    payment['userId'] = @userId

    if payment.state is 'approved' 
      # we insert the sucessful payment here
      PaypalPayments.insert payment

    return if payment.state is 'approved' then true else false 
```

# objective-c - 从 NSString 中删除标记字符

> ID：15425191
> 
> 赞同：1
> 
> 时间：2013-03-15T05:11:10.733
> 
> 标签：objective-c, macos, cocoa, nsstring

我有一个通过委托方法`NSTokenFiled`验证插入的令牌。`-tokenField:shouldAddObjects:atIndex:`不幸的是，仅当用户按下标记字符时才会调用此方法。当他/她在控件外单击时，按 esc 或 tab 键，未完成的字符串将自动转换为令牌，而无需调用验证方法。

在询问谷歌后，我注意到这个问题是已知的，stackoverflow 上的某个人建议重写`-control:isValidObject:`委托方法来验证剩余的字符串。

不幸的是，传递给此方法的对象是一个`NSMutableString`对于已插入到令牌字段中的每个令牌的不可见字符。可能这就是可可跟踪在哪里显示令牌的方式。

我的问题是：如何删除那些非法字符？

到目前为止，我已经尝试过这些：

```
NSString *newString = [NSString stringWithUTF8String:[stringWithInvisibleCharcters UTF8String]];

NSString *newString = [stringWithInvisibleCharacters stringByTrimmingCharactersInSet:[NSCharacterSet illegalCharacterSet]];

NSString *newString = [stringWithInvisibleCharacters stringByTrimmingCharactersInSet:[NSCharacterSet controlCharacterSet]]; 
```

没有成功。我知道最后两个仅在令牌字符位于开头和结尾的情况下才有效，但到目前为止这是我的情况。

**编辑：**

如果它有助于记录字符

```
NSLog(@"%hu",[(NSMutableString *)object characterAtIndex:0]); 
```

返回 65532。

* * *

## 回答 #1

> 赞同：10
> 
> 时间：2013-03-15T05:38:10.190

与 65532 关联的字符被称为“对象替换字符”，它似乎超出了 NSCharacterSet 使用它的 getter 处理的 Unicode 范围。就像你说的， NSTokenField 使用它作为标记之间的分隔符。像这样摆脱它的东西应该可以正常工作：

```
NSCharacterSet *characterset=[NSCharacterSet characterSetWithCharactersInString:@"\uFFFC"];
NSString *newString = [str stringByTrimmingCharactersInSet:characterset]; 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-15T05:29:53.220

```
NSString *str;  
NSCharacterSet *characterset=[NSCharacterSet characterSetWithCharactersInString:@"<>"];  
str = [str1 stringByTrimmingCharactersInSet:characterset];` 
```

# oracle - 如何将 PL/SQL 游标用于触发器的循环

> ID：15425195
> 
> 赞同：0
> 
> 时间：2013-03-15T05:11:18.027
> 
> 标签：oracle, for-loop, plsql, cursor, database-trigger

嗨，我是 plsql 的新手，这是我第一次使用 plsql

我使用 plsql 创建了触发器。这是我用来创建该触发器的语法。但它给出了一个错误“ `[Err] ORA-24344: success with compilation error`”我无法弄清楚我哪里出错了。在这个触发器中，我使用带有光标的 for 循环。我认为那个光标有问题 谁能帮我弄清楚我哪里出错了。我使用 Navicat 来执行此操作。我为此苦苦挣扎了将近 5 天 :( 在此先感谢

```
CREATE OR REPLACE TRIGGER "c" 
  AFTER INSERT ON "EMP_REPORT_TO"
  REFERENCING OLD AS "OLD" NEW AS "NEW"
  FOR EACH ROW
DECLARE

miclaim_supervisor_count number;
employee_company_code number;
employee_businessunit number;

cursor  projMgrsCursor is select b.BU_MEMBER_ID
from BU_MEMBER b, EMP_SUB_DIV s
where s.EMP_NO = :NEW.EMP_NO
and s.SUB_DIVISION_CODE = '02' and s.DIV_CODE = '041'
and b.BU_ID IN (select BU_ID from BU_MEMBER where BU_MEMBER_ID = :NEW.EMP_NO);

BEGIN
        delete from MICL_SUPERVISORS where EMP_NO = :NEW.EMP_NO and IS_OVVERRIDDEN = 0;
        select count(*) into miclaim_supervisor_count from MICL_SUPERVISORS where EMP_NO = :NEW.EMP_NO and IS_OVVERRIDDEN = 1;
        select COMPANY_CODE into employee_company_code from  EMPLOYEE_MASTER where EMP_NO = :NEW.EMP_NO;

if (employee_company_code = 'SOFT')then 

            OPEN projMgrsCursor;

            FOR projMgrsCursor IN projMgrs 
            LOOP                
            insert into MICL_SUPERVISORS VALUES ((:NEW.ID), (SELECT SYSDATE FROM DUAL), :NEW.ENTRYADDEDBY_EMP_NO, 3000, 0, projMgrEmpNo, NULL,:NEW.EMP_NO);
            END LOOP;   
        close projMgrsCursor;

else
            if(miclaim_supervisor_count IS NULL or miclaim_supervisor_count<1) then
                insert into MICL_SUPERVISORS VALUES ((:NEW.ID), (SELECT SYSDATE `enter code here`FROM DUAL), :NEW.ENTRYADDEDBY_EMP_NO, 3000, 0, :NEW.SUP_EMP_NO, NULL,:NEW.EMP_NO);
            end if;
end if;

END;
; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T14:23:52.220

感谢您的所有回答和时间:)

**好吧，由于oracle sql开发人员** 实际上for循环出了点问题，我知道了哪里 出错了

这是代码（循环的更正代码）

```
OPEN  projMgrsCursor;

    LOOP
    FETCH projMgrsCursor INTO projMgrs;
    EXIT WHEN projMgrsCursor%NOTFOUND;
    insert into
 MICL_SUPERVISORS VALUES ((:NEW.ID), (SELECT SYSDATE FROM DUAL), :NEW.ENTRYADDEDBY_EMP_NO, 3000, 0,projMgrs, NULL,:NEW.EMP_NO);
    END LOOP;   

  CLOSE projMgrsCursor; 
```

希望这对像我这样的人有帮助:)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T07:21:15.333

根本不需要游标——为什么不直接使用 SQL 语句来执行插入呢？

# iphone - 压力测试时的亮度问题

> ID：15425196
> 
> 赞同：17
> 
> 时间：2013-03-15T05:11:23.620
> 
> 标签：iphone, ios, stress-testing

我的应用程序能够擦除所有联系人和日历事件。就我们没有进行压力测试而言，它一直运行良好。

在此期间，当我们执行以下用例时，观察者发现设备亮度下降

1.  将 Facebook、Gmail 等帐户与设备同步，以便在联系人和日历中有大量记录。在我们的案例中，我们有大约 477 个联系人和 1500 多个日历事件。
2.  发出擦除命令
3.  在擦除过程中关闭设备并再次打开。
4.  根据应用程序设计，它会查询服务器是否有任何未决命令并再次开始擦除
5.  现在，如果我在应用程序选项卡之间切换，设备亮度会突然下降。如果我去设置并检查亮度级别，它不会改变。我们没有在应用程序中做任何会改变设备亮度的事情。

这对我们来说很奇怪，也不容易理解。如果有人有任何线索，请回复。

首先，我认为 iOS 可能会更改它，因为自动亮度已打开。因此，如果应用程序正在承担更多的处理工作，它可能是为了省电。但即使自动亮度关闭，问题仍然存在。

第二个问题是，如果我关闭设备，就会发生这种情况。所以一旦关闭，我就会失去调试会话。好难找理由

**注意：通过开关关闭 - 我的意思是完全关闭设备。长按电源键，滑动关闭设备。如果我们在擦除联系人期间执行这些步骤，也不会发生崩溃。它仅在我们擦除日历事件时发生**

添加更多细节。在发生上述问题之后，我也遇到了崩溃。以下是崩溃报告详细信息

```
`Incident Identifier: 297BD243-B9D9-414F-A9FB-3C02CAAF8A89
CrashReporter Key:   e2ff53439e90b377dadf9c750793f23cac739930
Hardware Model:      iPhone4,1
Process:         SpringBoard [293]
Path:            /System/Library/CoreServices/SpringBoard.app/SpringBoard
Identifier:      SpringBoard
Version:         ??? (???)
Code Type:       ARM (Native)
Parent Process:  launchd [1]

Date/Time:       2013-03-21 16:30:25.137 +0530
OS Version:      iOS 6.1 (10B142)
Report Version:  104

Exception Type:  EXC_CRASH (SIGABRT)
Exception Codes: 0x0000000000000000, 0x0000000000000000
Crashed Thread:  21

blah ... blah ... blah ... all thread info

Thread 21 name:  Dispatch queue: com.apple.eventkit.eventstore.registered
Thread 21 Crashed:
0   libsystem_kernel.dylib          0x396e8350 __pthread_kill + 8
1   libsystem_c.dylib               0x3965f11e pthread_kill + 54
2   libsystem_c.dylib               0x3969b96e abort + 90
3   libc++abi.dylib                 0x38c39d4a abort_message + 70
4   libc++abi.dylib                 0x38c36ff4 default_terminate() + 20
5   libobjc.A.dylib                 0x391eaa74 _objc_terminate() + 144
6   libc++abi.dylib                 0x38c37078 safe_handler_caller(void (*)()) + 76
7   libc++abi.dylib                 0x38c37110 std::terminate() + 16
8   libc++abi.dylib                 0x38c3850e __cxa_throw + 118
9   libobjc.A.dylib                 0x391ea9ba objc_exception_throw + 90
10  CoreFoundation                  0x314cd158 +[NSException raise:format:arguments:] + 96
11  Foundation                      0x31da2ab2 -[NSAssertionHandler handleFailureInMethod:object:file:lineNumber:description:] + 86
12  EventKit                        0x31bb1882 -[EKObjectID entityName] + 382
13  EventKit                        0x31bb1604 -[EKEventStore _addFetchedObjectWithID:] + 52
14  EventKit                        0x31bfb95e __68-[EKEventStore registerFetchedObjectWithID:defaultLoadedProperties:]_block_invoke_0 + 78
15  libdispatch.dylib               0x396014b4 _dispatch_client_callout + 20
16  libdispatch.dylib               0x396059f2 _dispatch_barrier_sync_f_invoke + 26
17  EventKit                        0x31bb150c -[EKEventStore registerFetchedObjectWithID:defaultLoadedProperties:] + 156
18  EventKit                        0x31c039ce __41-[EKPredicateSearch startWithCompletion:]_block_invoke_0 + 514
19  EventKit                        0x31bb8830 -[EKDaemonConnection _processReplyWithID:data:finished:] + 264
20  EventKit                        0x31bb871e CADReceiveReply + 94
21  EventKit                        0x31bb86a2 _XReply + 118
22  EventKit                        0x31bb8626 ClientCallbacks_server + 90
23  libdispatch.dylib               0x39609a02 dispatch_mig_server$VARIANT$mp + 114
24  EventKit                        0x31c00c84 __43-[EKDaemonConnection initWithOptions:path:]_block_invoke_016 + 36
25  libdispatch.dylib               0x39608134 _dispatch_source_invoke$VARIANT$mp + 248
26  libdispatch.dylib               0x3960691a _dispatch_root_queue_drain + 182
27  libdispatch.dylib               0x39606abc _dispatch_worker_thread2 + 80
28  libsystem_c.dylib               0x39636a0e _pthread_wqthread + 358
29  libsystem_c.dylib               0x396368a0 start_wqthread + 4

Thread 21 crashed with ARM Thread State (32-bit):
    r0: 0x00000000    r1: 0x00000000      r2: 0x00000000      r3: 0x3b1af534
    r4: 0x00000006    r5: 0x07494000      r6: 0x1f96a044      r7: 0x074932b4
    r8: 0x1f96a020    r9: 0x00000300     r10: 0x1f9594a0     r11: 0x1fa97b00
    ip: 0x00000148    sp: 0x074932a8      lr: 0x3965f123      pc: 0x396e8350
  cpsr: 0x00000010` 
```

如果您对此有任何了解，请提供任何启示。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2015-03-18T03:29:41.827

我认为这与您的应用程序崩溃没有任何关系，并且是设备过热时内置于 iOS 中的预期功能。

我在其他应用程序上也发生过这种情况，通常发生在以下情况：

1.  该应用程序正在使用接近 100% 的 CPU（产生热量）
2.  热量无法散去（使用盖子或手机放在布上）
3.  该设备也在充电（产生额外的热量）

听起来您的设备已插入以记录日志。尝试在不将其连接到 Mac 的情况下对其进行压力测试，看看它是否有所作为。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T23:27:47.913

确保在关闭设备时不会改变进入环境光传感器的光量。我之前已经注意到这种行为，并将其归因于代表操作系统实施不佳的光感应。

# jquery - 队列效果 jquery-ui

> ID：15425205
> 
> 赞同：0
> 
> 时间：2013-03-15T05:12:20.183
> 
> 标签：jquery, jquery-ui, jquery-effects

我正在尝试创建一个动画队列，我正在指示我想要运行良好的顺序

```
data-animate-on='{"effect":"slide","queue":2}' 
```

然后我在我的 js 上阅读了这些信息，但所有人都受到鼓励，而

代码在

> [http://jsfiddle.net/ukCUR/](http://jsfiddle.net/ukCUR/)

# android - 从启动器调用活动和/或服务

> ID：15425210
> 
> 赞同：1
> 
> 时间：2013-03-15T05:12:41.927
> 
> 标签：android

我在使用此 java 文件中的按钮调用新活动或服务时遇到问题，我怎样才能使按钮只是一张没有背景的图片，我总是得到这个“没有指定活动！获取启动器活动”。新程序员在这里对不起谢谢

```
package com.bpi.gears;

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.ImageButton;

public class DashboardListing extends Activity {

public static ImageButton bot4;
public static Intent activity_profile;
@SuppressWarnings("unused")
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_dashboard_listing);

    bot4 = (ImageButton)findViewById(R.id.bot4);
     Intent activity_profileintent = new          
               Intent(DashboardListing.this,activity_profile.class);
     bot4.setOnClickListener(new OnClickListener() {
     public void onClick(View v) {
                startActivity(activity_profile);
            }});
        }
} 
```

对这个

```
package com.bpi.gears;

import android.os.Bundle;
import android.app.Activity;

public class activity_profile extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_profile);
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T05:27:20.440

在您的 startActivity() 中，您应该传递“activity_profileintent”而不是 activity_profile。像这样的东西：

```
startActivity(activity_profileintent); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:22:31.380

试试这个，而不是你正在做的方式

```
 Intent intent = new Intent();
      intent.setClass(CurrentActivity.this, DestinationActivity.class);
      startActivity(intent); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T06:27:00.690

从您的活动中删除 @SuppressWarnings("unused") 。并将您的目标活动注册到清单中。不要将静态变量用于意图。

# iphone - 如何修复 VAFieldTest 应用程序中发生的 _CTServerConnectionRegisterForNotification 崩溃

> ID：15425211
> 
> 赞同：0
> 
> 时间：2013-03-15T05:12:48.350
> 
> 标签：iphone, ios, ipad, ios6, core-telephony

我正在尝试`VAFieldTest`在我的设备中运行应用程序，但应用程序在这一行崩溃了`_CTServerConnectionRegisterForNotification`。我该如何解决这个崩溃？

以下是我传递的参数：

```
CTServerConnectionRef conn;
void register_notification(){
    if (!mach_port || !conn) return;    
    void *libHandle = dlopen("/System/Library/Frameworks/CoreTelephony.framework/CoreTelephony", RTLD_LOCAL | RTLD_LAZY);
    void *kCTCellMonitorUpdateNotification = dlsym(libHandle, "kCTIndicatorsSignalStrengthNotification");
    if( kCTCellMonitorUpdateNotification== NULL) NSLog(@"Could not find kCTCellMonitorUpdateNotification"); 
    int x = 0; //placehoder for callback
    _CTServerConnectionRegisterForNotification(conn,kCTCellMonitorUpdateNotification,(void*)&x);
} 
```

![在此处输入图像描述](../Images/7debbe549091b3be37b0b6f1fa90fa7c.png)

这是崩溃报告：

```
(gdb) bt
#0  0x344f9710 in __CFStrConvertBytesToUnicode ()
#1  0x344faaea in __CFStringEncodeByteStream ()
#2  0x34466a10 in CFStringGetBytes ()
#3  0x39123928 in ctu::cf::assign ()
#4  0x39112380 in getCTEventForNotification ()
#5  0x390ecff8 in _CTServerConnectionDaemonRegistration ()
#6  0x39112e12 in _CTServerConnectionRegisterForNotification ()
#7  0x00003138 in register_notification () at /Users/deepthi/Desktop/iPhone Agent/VAFieldTest-master/Classes/VAFieldTestViewController.m:66
#8  0x00003388 in -[VAFieldTestViewController viewDidLoad] (self=0x15ada0, _cmd=0x34b8581b) at /Users/deepthi/Desktop/iPhone Agent/VAFieldTest-master/Classes/VAFieldTestViewController.m:116
#9  0x3471458c in -[UIViewController loadViewIfRequired] ()
#10 0x00002d84 in -[VAFieldTestAppDelegate application:didFinishLaunchingWithOptions:] (self=0x11f350, _cmd=0x34b698d3, application=0x11e510, launchOptions=0x0) at /Users/deepthi/Desktop/iPhone Agent/VAFieldTest-master/Classes/VAFieldTestAppDelegate.m:22
#11 0x34755ad0 in -[UIApplication _handleDelegateCallbacksWithOptions:isSuspended:restoreState:] ()
#12 0x3475565a in -[UIApplication _callInitializationDelegatesForURL:payload:suspended:] ()
#13 0x3474d842 in -[UIApplication _runWithURL:payload:launchOrientation:statusBarStyle:statusBarHidden:] ()
#14 0x346f5c38 in -[UIApplication handleEvent:withNewEvent:] ()
#15 0x346f56cc in -[UIApplication sendEvent:] ()
#16 0x346f511a in _UIApplicationHandleEvent ()
#17 0x394785a2 in _PurpleEventCallback ()
#18 0x344e9682 in __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ ()
#19 0x344e8ee8 in __CFRunLoopDoSources0 ()
#20 0x344e7cb6 in __CFRunLoopRun ()
#21 0x3445aebc in CFRunLoopRunSpecific ()
#22 0x3445ad48 in CFRunLoopRunInMode ()
#23 0x3474c47c in -[UIApplication _run] ()
#24 0x347492f8 in UIApplicationMain ()
#25 0x00002cf6 in main (argc=1, argv=0x2fdffc50) at /Users/deepthi/Desktop/iPhone Agent/VAFieldTest-master/main.m:15
(gdb) 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-05-25T18:44:20.870

当我得到这个时，它是由调用 _CTServerConnectionRegisterForNotification(...) 中的第三个参数引起的，它应该是一个指向回调的指针......这里描述 -[将 int 传递给 void(*)( void) 在核心电话 obj c](https://stackoverflow.com/questions/30275026/incompactable-pointer-type-passing-int-to-parameter-of-type-voidvoid-in-cor)

# java - 检查 null 值的 Java 字符串突然变为 null

> ID：15425212
> 
> 赞同：0
> 
> 时间：2013-03-15T05:12:50.380
> 
> 标签：java, runtime-error

我正在使用[StreamGobbler](http://www.javaworld.com/jw-12-2000/jw-1229-traps.html?page=4)来消耗进程的输出。

```
InputStreamReader isr = new InputStreamReader(is);
BufferedReader br = new BufferedReader(isr);
String line = null;
int count = 0;
while ( (line = br.readLine()) != null);
{
    if(line == null){
         System.out.println("This shouldn't print out.");
    }
} 
```

我认为字符串“这不应该打印出来”是很明显的。不应该打印出来，但确实如此。我不知道要提供什么进一步的数据。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-15T05:15:58.130

while 表达式后面有一个分号，用于终止它，因此以下大括号被视为通用语句块。

基本上，分号导致它被这样对待。

```
while ( (line = br.readLine()) != null) {} //do nothing

if(line == null){
     System.out.println("This shouldn't print out.");
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T05:16:20.107

从 while 循环中删除分号，它使循环什么都不做，然后前进到 if 块，这将是真的。这就是它打印的原因

# javascript - 排序后如何显示父级的新顺序？

> ID：15425213
> 
> 赞同：1
> 
> 时间：2013-03-15T05:12:56.187
> 
> 标签：javascript, jquery

这是我当前的代码。这些代码对父项和子项进行排序，但仅显示排序后子项的新顺序。

**模板**

```
<div id="tree">
    <ul id="envelopes" class="dropcat cat-data">
        <li id="1">
            <span class="cat-title">Utilities</span>
            <ul class="dropenv mt">
                <li class="innerList">Electricity</li>
                <li class="innerList">Water</li>
                <li class="innerList">Trash</li>
                <li class="innerList">Television</li>
            </ul>
        </li>

        <li id="2">
            <span class="cat-title">Sample</span>
            <ul class="dropenv mt">
                <li class="innerList">Test</li>
            </ul>
        </li>

        <li id="3">
            <span class="cat-title">Saving</span>
            <ul class="dropenv mt">
                <li class="innerList">College Fund</li>
                <li class="innerList">Retirement Fund</li>
                <li class="innerList">Emergency Fund</li>
            </ul>
        </li>
    </ul>
</div>
<p id="cl"></p> 
```

**js**

```
<script>
    var addPositions = function() {
        $('.dropenv, .dropcat').each(function() {
            var position = 0;
            $(this).children().each(function() {
                $(this).data('position', position);
                position++;
            });
        });
    };

    $(document).ready(function() {
        addPositions();
        var origTitle;
        var origColor;
        $(".dropenv").sortable({
            connectWith: "ul.mt",
            dropOnEmpty: true,
            start: function(event, ui) {
                origColor = ui.item.text();
                origTitle = ui.item.parent().siblings('.cat-title').text();
            },
            stop: function(event, ui) {
                var order = [];

                ui.item.closest('ul').children('li').each(function() {
                    order.push($(this).data('position'));
                    var c = $(this).text();
                    if (c === origColor) {
                        var z = origTitle;
                    } else {
                        var z = $(this).parent().siblings('.cat-title').text();
                    }
                    $("#cl").append(z + "_" + c + "<br /\>");
                });
            }
        });

        $( "ul.dropcat").sortable({
            connectWith: "ul.cat-data",
            dropOnEmpty: true,
        });
    });
</script> 
```

**如何获取父级的新订单？**

例如：

```
 Before:
      - Utilities
      - Sample
      - Saving

  //If I'm going to swap Saving to Utilities, it must be display the new order like this

   New Order:
      - Saving
      - Sample
      - Utilities 
```

**来自@Jack Shedd 的更新**

我复制`stop`并得到以下输出：

```
_ Utilities Electricity Water Natural Gas Home Phone Cell Phones Trash Television Internet
_ Charity/Giving Charitable Gifts Fast Offerings
_ Sample test
_ Recreation Entertainment Vacation
_ Saving College Fund Emergency Fund Retirement Fund 
```

如何让只有父母，没有孩子？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:32:27.793

基于代码和问题：

1.  您的对象上有一个自定义`stop`事件处理程序`sortable`，在用户停止拖动后，它会将子项的新位置附加到 #cl 段落标记的 innerHTML 中。
2.  您想知道为什么这对孩子有效，但对父母无效。

如果你查看你的 jQuery，你会看到这一行：

```
$(".dropenv").sortable({ 
```

这是将`sortable`行为应用于任何具有`.dropenv`. 在这里，您正在初始化`stop`更新#cl 标记的自定义事件处理程序。

但是，您仅将此行为应用于具有类的元素`.dropenv`，其中，查看父级的 html：

```
<ul id="envelopes" class="dropcat cat-data"> 
```

父 UL 不匹配。

相反，您正在对父级应用全新的`sortable`行为：

```
 $( "ul.dropcat").sortable({
        connectWith: "ul.cat-data",
        dropOnEmpty: true,
    }); 
```

其中没有包含任何自定义`stop`处理程序代码。

因此，要么将可排序选项中的`stop`处理程序代码复制到上述选项中，要么使可排序选项也适用于您的UL。`.dropenv``.dropenv``.dropcat`

# c# - 程序未在目录路径中创建文本文件

> ID：15425219
> 
> 赞同：-1
> 
> 时间：2013-03-15T05:13:21.327
> 
> 标签：c#

所以我有一个小问题，我正在创建一个目录并在该目录中创建文本文件。似乎只有当目录路径设置为类似这样的路径时才制作文本文件`@"C:\Users\user1\Desktop\folder1\file.txt"`，否则它会创建我的文件夹，但不会创建我的文本文件。

有谁知道这是为什么，或者我可以如何更改我的代码以允许在我希望的任何其他地方制作文本文件？

这是我要开始工作的代码：

```
 string file1 = "file1.txt";
        string file2 = "file2.txt";
        string file3 = "file3.txt";
        string file4 = "file4.txt";

        string Path1 = @".\Saved_Game\Profile 1";

        if (!Directory.Exists(Path1))
            Directory.CreateDirectory(Path1);

        D1 = @".\Saved_Game\Profile 1\file1.txt";
        D2 = @".\Saved_Game\Profile 1\file2.txt";
        D3 = @".\Saved_Game\Profile 1\file3.txt";
        D4 = @".\Saved_Game\Profile 1\file4.txt";

        if (!Directory.Exists(D1))
            Path.Combine(Path1, file1);
        if (!Directory.Exists(D2))
            Path.Combine(Path1, file2);
        if (!Directory.Exists(D3))
            Path.Combine(Path1, file3);
        if (!Directory.Exists(D4))
            Path.Combine(Path1, file4); 
```

这个确切的代码，当然，改变后的目录路径指向我的桌面，被使用并且可以工作，所以我不确定为什么一个路径有效而另一个不工作。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T05:29:47.017

我不确定，但如果你的动机是创建文件，那么这样做：

```
 if (!File.Exists(D1))
                  File.Create(D1);
              if (!File.Exists(D2))
                  File.Create(D2);
              if (!File.Exists(D3))
                  File.Create(D3);
              if (!File.Exists(D4))
                  File.Create(D4); 
```

仅当文件不存在时才创建文件。

# bash - 通过脚本从挂载共享驱动器复制到本地文件夹

> ID：15425223
> 
> 赞同：4
> 
> 时间：2013-03-15T05:13:30.020
> 
> 标签：bash, mount, smb, rm

这是我第一次尝试使用 Linux 脚本，所以这可能是显而易见的。

这是我正在尝试做的事情：

1.  从本地文件夹中删除所有内容 - rm /home/user/Documents/Exercise/
2.  从共享的 Windows 网络驱动器复制文件 - cp smb://server/arc/Exercise%20Files/Word/

所以根据我的理解，我的命令应该是这样的

```
 rm /home/user/Documents/Exercise/
  cp smb://server/arc/Exercise%20Files/Word/ /home/user/Documents/Exercise/ 
```

但是，每当我尝试运行上述任一命令时，都会出现以下错误：

```
 "rm: cannot remove `/home/user/Documents/Exercise/': Is a directory"
  "cp: cannot stat `smb://server/arc/Exercise%20Files/Word/': No such file or directory" 
```

我究竟做错了什么？

亲切的问候，

米

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:21:57.483

根据您的要求和您的测试，让我指出写得不正确的地方：

* * *

从本地文件夹中删除所有内容

```
rm /home/user/Documents/Exercise/ 
```

错误说*rm: cannot remove /home/user/Documents/Exercise/': Is a directory*

你应该

```
 rm /home/user/Documents/Exercise/* 
```

这将删除目录中的所有内容，但不会删除目录。

* * *

从共享的 Windows 网络驱动器复制文件

```
 cp smb://server/arc/Exercise%20Files/Word/ /home/user/Documents/Exercise/ 
```

错误说*cp: cannot stat smb://server/arc/Exercise%20Files/Word/': No such file or directory*

您应该检查路线`smb://server/arc/Exercise%20Files/Word/`是否正确。然后，使用以下内容：

```
cp smb://server/arc/Exercise%20Files/Word/* /home/user/Documents/Exercise/ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:43:21.853

如果目录中包含内容，则无法删除该目录。要同时删除内容和目录，请使用以下命令：

```
rm -r /home/user/Documents/Exercise/ 
```

这会递归地删除目录和其中的任何内容。

要复制文件，我相信您必须事先挂载目录，如下所示：

```
mount -t cifs //server/share /mnt/mount_directory -o user=username 
```

你能确认这是否有效吗？

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-20T04:52:56.380

删除/删除命令： `rm -rfv /home/user/Documents/Exercise/*`

复制命令： `cp -rfv /home/user/Documents/ExerciseShare/ExerciseFiles/Word/ /home/user/Documents/Exercise/`

# html - Javascript函数和格式

> ID：15425225
> 
> 赞同：-1
> 
> 时间：2013-03-15T05:13:38.320
> 
> 标签：html, css, javascript

这可能是菜鸟问题，但我想解决它。我为我的网站创建了多个 javascript 文件。现在，当我尝试合并所有文件（将所有脚本硬编码为单个文件）时，会调用错误“未定义的未捕获异常错误（html 元素）”。请帮我。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:32:44.277

您可以按需使用加载脚本。如果可以这样命名，则它是一种延迟加载：

```
var load_script = function(url, callback)
{
    var head, script, exec

    head = document.getElementsByTagName('head')[0]
    script = document.createElement('script')
    exec = callback
    script.onload = function()
    {
        function wait()
        {
            callback(bc)
        }
        var bc = setInterval(wait, 100)
    }
    script.type= 'text/javascript'
    script.src= url
    head.appendChild(script)
} 
```

我们需要检查脚本是否已加载、解析并准备好工作：

```
load_script('http://somewhere/script.js', function(i) {
    // check if the script is parsed
    // there must be a function called 'myscript' in script.js
    if (typeof myscript == 'function')
    {
         clearInterval(i)

         // doing things
    }
}) 
```

因此，您可以将代码拆分为文件并在需要时加载它们。

# jquery - 如何隔离这个为每个字段计数的枚举器？

> ID：15425226
> 
> 赞同：1
> 
> 时间：2013-03-15T05:13:50.693
> 
> 标签：jquery, coffeescript

我有以下代码：

```
countSetNumbers = ->
  for field, i in $(".exercise .nested-fields")
    set = $(field).find('.set')
    set.html(i+1) 
```

问题是我有多个 .exercise div，而不是每个练习都被隔离在集合 # 的数量中......它将所有练习一起计算为一个块。因此，如果练习 1 有 3 组，而练习 2 有 1 组。第一组练习 2 将标记为`4`。我如何做到这一点，所以每一个都被认为是独一无二的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:05:43.890

您的问题是，`.nested-fields`当您说：

```
$(".exercise .nested-fields") 
```

您需要分别考虑每一个`.exercise`。一种简单的方法是将选择器分成两半并使用嵌套循环：

```
countSetNumbers = ->
  for ex in $('.exercise')
    for nf, i in $(ex).find('.nested-fields')
      $(nf).find('.set').html(i + 1) 
```

这假设一个 HTML 结构是这样的：

```
<div class="exercise">
    <div class="nested-fields">
        <div class="set"></div>
    </div>
    <!--...-->
</div>
<!--...--> 
```

演示：http: [//jsfiddle.net/ambiguous/LekpV/](http://jsfiddle.net/ambiguous/LekpV/)

你也可以用 jQuery 风格来做：

```
countSetNumbers = ->
  $('.exercise').each ->
    $(@).find('.nested-fields').each (i) ->
      $(@).find('.set').html(i + 1) 
```

演示：http: [//jsfiddle.net/ambiguous/Au7rs/1/](http://jsfiddle.net/ambiguous/Au7rs/1/)

# java - 获取用户输入并在 Windows 中运行命令后台的应用程序

> ID：15425227
> 
> 赞同：0
> 
> 时间：2013-03-15T05:13:50.210
> 
> 标签：java, batch-file, cmd, runtime, processbuilder

我想创建一个独立的可执行文件，它接受一些用户输入，它应该使用这些输入作为参数在 CMD 作为后台进程运行命令。对于 GUI，我想使用 swings 并运行 cmd 批处理文件。是否可以合并java文件和批处理文件以形成exe。？或者我应该使用其他脚本语言在后台进程中执行命令，并使用其他一些编程语言进行 UI 设计？提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:54:01.997

从理论上讲，您可以在 Java 中完成这一切。正如您所提到的，您可以使用 Swing 来读取用户输入。与其尝试从单独的批处理文件中获取输入数据，不如使用 Java 的[`Runtime`](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Runtime.html)类来[执行](http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Runtime.html#exec%28java.lang.String%29)使用输入作为参数的命令。

而且，如果您需要从可执行文件中运行这一切，您可以使用[Launch4J](http://launch4j.sourceforge.net/)或[JSmooth](http://jsmooth.sourceforge.net/)等实用程序来包装 Java 应用程序。

# mysql - 在mysql中索引日期时间字段是个好主意吗？

> ID：15425230
> 
> 赞同：173
> 
> 时间：2013-03-15T05:14:00.007
> 
> 标签：mysql, indexing

我正在设计一个大型数据库。在我的应用程序中，我将有很多行，例如我目前有一个包含 400 万条记录的表。我的大多数查询都使用 datetime 子句来选择数据。在 mysql 数据库中索引日期时间字段是个好主意吗？

```
Select field1, field2,.....,field15
from table where field 20 between now() and now + 30 days 
```

我正在努力让我的数据库运行良好并且查询运行顺利

更多，你认为我应该有什么想法来创建一个高效的数据库？

* * *

## 回答 #1

> 赞同：202
> 
> 时间：2013-03-15T05:22:06.163

MySQL 出于多种原因建议使用索引，包括消除条件之间的行：http: [//dev.mysql.com/doc/refman/5.0/en/mysql-indexes.html](http://dev.mysql.com/doc/refman/5.0/en/mysql-indexes.html)

如果您要在查询中频繁使用它，这会使您的 datetime 列成为索引的绝佳候选者。如果您的唯一条件是`BETWEEN NOW() AND DATE_ADD(NOW(), INTERVAL 30 DAY)`并且您在该条件中没有其他索引，那么 MySQL 将不得不对每个查询进行*全表扫描。*我不确定在 30 天内生成了多少行，但只要它小于总行数的 1/3 左右，在列上使用索引会更有效。

您关于创建高效数据库的问题非常广泛。我想说只是确保它被规范化并且所有适当的列都被索引（即在连接和 where 子句中使用的列）。

* * *

## 回答 #2

> 赞同：21
> 
> 时间：2013-03-15T05:30:30.040

[在这里](https://stackoverflow.com/questions/4594229/mysql-integer-vs-datetime-index)，作者进行的测试表明整数 unix 时间戳优于 DateTime。注意，他使用的是 MySql。但我觉得无论您使用什么数据库引擎，比较整数都比比较日期略快，因此 int 索引优于 DateTime 索引。取 T1 - 比较 2 个日期的时间，T2 - 比较 2 个整数的时间。搜索索引字段大约需要 O(log(rows)) 时间，因为索引基于一些平衡树 - 对于不同的数据库引擎可能会有所不同，但无论如何 Log(rows) 是常见的估计。（如果您不使用位掩码或基于 r-tree 的索引）。所以区别是 (T2-T1)*Log(rows) - 如果您经常执行查询，可能会起作用。

# javascript - ajaxSubmit 和 Internet Explorer 问题

> ID：15425231
> 
> 赞同：2
> 
> 时间：2013-03-15T05:14:14.187
> 
> 标签：javascript, jquery, internet-explorer, jquery-forms-plugin

我被困了很长一段时间，有人可以帮我吗？Chrome 和 FF 一切正常，但由于某种原因，表单无法使用 IE7/IE8/IE9 提交。

```
function addFile()
{
if ( test > 30 ) { console.log( "addFile" ) ; }

var optionsAjaxFormFile = { 
    url : 'js/fileUpload.php',
    success : showResponseFile
}; 

console.log("about to submit Ajax");
$("#addFile-form").ajaxSubmit( optionsAjaxFormFile );   
} 
```

我从控制台知道它转到 ajaxSubmit 行，但它从不启动 showResponseFile 函数。为什么 ？？？

干杯

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:29:29.017

不确定，但你可以试试这个：

```
$(document).ready(function() { 
   $("#addFile-form").submit(function(){
      $(this).ajaxSubmit(optionsAjaxFormFile);
      return false; 
   });
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-16T19:16:23.630

在head标签之间添加

```
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9" > 
```

您还需要关闭并再次打开 IE 才能使元标记正常工作

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T05:25:00.520

控制台仅在其 DOM 检查器打开时在 IE9 中定义，替换`console.log()`为

```
if(typeof(console)!='undefined'){
 console.log("about to submit Ajax");
} 
```

或者您可以使用旧警报

# php - 在 MySQL 中使用 PHP 的日期，它似乎不起作用

> ID：15425249
> 
> 赞同：0
> 
> 时间：2013-03-15T05:15:40.463
> 
> 标签：php, mysql, date

我已经搜索了该站点以查看该问题是否已得到解决，但没有发现任何结果，但如果有，我表示歉意，如果您可以将我链接到该线程，我将参考该线程来解决我的问题。

我正在尝试使用 PHP 在 MySQL 中保存日期，但它似乎不起作用。MySQL 中的字段是“日期”类型，当我从该字段读取数据时，它显示为 0000-00-00，因此我尝试将数据保存为 2009-09-24，但似乎没有工作。我尝试用引号将其保存以使其成为字符串，而没有引号，我似乎仍然无法弄清楚。

有谁知道我如何正确格式化日期以便将其保存在 MySQL 中？

非常感谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:19:13.263

尝试使用以下 $t 是时间戳（`time()`）或什么都不做

```
function MysqlDate($t=0)
{
    if ($t==0)
        return date("Y-m-d H:i:s");
    else
        return date("Y-m-d H:i:s", $t);
}

var_dump(MysqlDate()); 
```

# url - 技术术语 - URL 路径类型：绝对、相对和

> ID：15425255
> 
> 赞同：5
> 
> 时间：2013-03-15T05:16:08.373
> 
> 标签：url, path, terminology, relative-path, absolute-path

我知道绝对路径的类型是：

```
http://www.example.com/thisdir/4/5uy3/2/s.js 
```

而且，相对路径的类型是：

```
5uy3/2/s.js (in relation to directory "4") 
```

但是，前面带有斜杠以引用回根的路径类型的术语是什么？例如，如果有人正在编写 中的脚本`s.js`，他/她可能会`/thisdir/4/5uy3/2/s.js`在包含来自不同目录的 javascript 时使用，以避免在包含时必须有意识地考虑当前工作目录。你知道这种类型的路径叫什么吗？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-15T18:17:36.793

来自[Dreamweaver / 关于链接和导航](http://help.adobe.com/en_US/dreamweaver/cs/using/WScbb6b82af5544594822510a94ae8d65-7c44a.html)

> 链接路径分为三种类型：
> 
> *   绝对路径（例如[http://www.adobe.com/support/dreamweaver/contents.html](http://www.adobe.com/support/dreamweaver/contents.html)）。
> *   文档相对路径（例如 dreamweaver/contents.html）。
> *   站点根目录相对路径（例如 /support/dreamweaver/contents.html）。

术语“应用程序根”与“站点根”相同，只是站点必须是应用程序。

# c++ - 从字符串中删除多余空格的程序

> ID：15425256
> 
> 赞同：0
> 
> 时间：2013-03-15T05:16:10.017
> 
> 标签：c++, algorithm

我写了一个程序，它应该从字符串中删除多余的空格。但它只在空格前显示字符。它找到一个空格并检查之后的字符是否是空格。根据多余的空格，它将其他字符移动到多余的空格上。但是输出非常混乱。

输入：“qwe（2 个空格）rt（一个空格）y”

输出：“qwe（一个空格）rt（一个空格）y”

```
#include <iostream>
#include <stdlib.h>
#include <string>

using namespace std;

int main(){
    string a;
    cin >> a;
    int len = a.length();
    int new_len=len;
    int z,s=0;
    for(int i=0; i<new_len; i++){
        if(a[i]==' '){
            z=i+1;
            s=0;
            //Assigning the number of excess spaces to s.
            while(a[z]==' '){
                s++;
                z++;
            }
            //doing the shifting here.
            if(s>0){
                for(int l=i+1; l<new_len-s; l++){
                    a[l]=a[s+l];
                }
            }
            new_len-=s;
        }

    }
    cout << a << endl;
    cout << a.length();
    system("pause");
    return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:38:08.557

您的代码非常无效。想象一个包含 1,000,000 个字符的以下字符串：

```
a  a  a  a  a  a  a... 
```

每次您的算法遇到第二个空格时，它都会遍历整个字符串以将其左移一个字符。我会尝试另一种方法：

*   创建两个迭代器，例如 realPos 和 charPos。在开始时将它们设置为 0。
*   创建一个变量，该变量存储目前遇到的一些空格，如spacesSeen。将其设置为 0。
*   现在，虽然 realPos 小于整个字符串的长度：
    *   如果`string[realPos] != ' '`和`charPos != realPos`，进行赋值：`string[charPos] = string[realPos]`。然后将两者都`realPos`加`charPos`一。将 spaceSeen 设置为 0。
    *   如果`string[realPos] == ' '`和`spacesSeen == 0`，加`spacesSeen`一，复制字符并推进两个迭代器。
    *   如果`string[realPos] == ' '`和`spacesSeen > 0`，则增加`spacesSeen`，然后只增加`realPos`。
*   现在 charPos 标记最终字符串结束的位置，调整字符串大小，使其结束。

用更简单的话来说：一个一个地复制字符并在途中跳过多个空格。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T05:47:59.993

您的大部分代码都是半无意义的——当您使用普通字符串提取器 ( `stream >> string`) 时，它会自动跳过所有连续的前导空白，并在第一个空白字符处停止读取。因此，它几乎已经完成了其余代码打算完成的所有工作。这留下了一种更简单的方法来完成相同的任务：

```
std::copy(std::istream_iterator<std::string>(std::cin),
          std::istream_iterator<std::string>(),
          std::ostream_iterator<std::string>(std::cout, " ")); 
```

这确实有一个问题：它会在输出的*末尾*留下一个额外的空间。如果你不想这样，你可以使用[`infix_ostream_iterator`](https://codereview.stackexchange.com/q/13176/489)我之前发布的。有了它，您可以将上面的内容更改为以下内容：

```
std::copy(std::istream_iterator<std::string>(std::cin),
          std::istream_iterator<std::string>(),
          infix_ostream_iterator<std::string>(std::cout, " ")); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T05:59:21.107

如果您使用 C++11 这样做，那么您的方式就太过分了——您可以只使用正则表达式。应该这样做（未经测试）：

```
#include <regex>
#include <iostream>
#include <string>
using namespace::std;

int main(){
  string a;
  cin >> a;
  regex r(" +");
  a = regex_replace(a,r," ");
  cout << a << endl;
  cout << a.length();
  system("pause");
  return 0;
} 
```

# python - ImportError：没有名为 rfc822 金字塔 python 的模块

> ID：15425257
> 
> 赞同：0
> 
> 时间：2013-03-15T05:16:11.840
> 
> 标签：python, pyramid

当我尝试运行金字塔时

```
[~/env/MyStore]# ../bin/pserve development.ini 
```

它将显示以下错误

```
File "/home/vretinfo/env/lib/python3.2/site-packages/Paste-1.7.5.1-py3.2.egg/paste/fileapp.py", line 14, in <module>
    from paste.httpheaders import *
File "/home/vretinfo/env/lib/python3.2/site-packages/Paste-1.7.5.1-py3.2.egg/paste/httpheaders.py", line 140, in <module>
    from rfc822 import formatdate, parsedate_tz, mktime_tz
ImportError: No module named rfc822 
```

我应该如何解决这个问题？

* * *

这就是我所做的安装

```
$ mkdir opt
$ cd opt
$ wget http://python.org/ftp/python/3.2.3/Python-3.2.3.tgz 
$ tar -xzf Python-3.2.3.tgz
$ cd Python-3.2.3 
```

./configure --prefix=$HOME/opt/Python-3.2.3

```
$ make; 
$ make install
$ cd ~
$ wget http://python-distribute.org/distribute_setup.py
$ pico distribute_setup.py
* change first line to opt/Python-3.2.3/python
$ opt/Python-3.2.3/bin/python3.2 distribute_setup.py
$ opt/Python-3.2.3/bin/easy_install virtualenv
$ opt/Python-3.2.3/bin/virtualenv --no-site-packages env
$ cd env
$ ./bin/pip install passlib
$ ./bin/pip install pyramid_beaker
$ ./bin/pip install pyramid_mailer
$ ./bin/pip install pyramid_mongodb
$ ./bin/pip install pyramid_jinja2
$ ./bin/pip install Werkzeug
$ ./bin/pip install pyramid 
$ ./bin/pcreate -s pyramid_mongodb MyShop
$ cd MyShop
$ ../bin/python setup.py develop
$ ../bin/python setup.py test -q 
```

* * *

好的，我在金字塔文档（[http://docs.pylonsproject.org/projects/pyramid/en/latest/narr/paste.html](http://docs.pylonsproject.org/projects/pyramid/en/latest/narr/paste.html)）上做了一些搜索。它在第 3 段中说明

> “然而，所有 Pyramid 脚手架都呈现 PasteDeploy 配置文件，为新开发人员提供设置部署值的标准化方式，并为新用户提供启动、停止和调试应用程序的标准化方式。”

所以我对 development.ini 进行了更改并替换了

```
[server:main]
use = egg:waitress#main 
```

在 setup.py 中，我将 'waitress' 添加到了 requires 数组中

下一步，我完全删除了 /home/vretinfo/env/ECommerce/ 中与粘贴相关的所有内容，

```
$ rm -rf Paste*;rm -rf paste* 
```

在此之后，我尝试再次运行 test -q，这是堆栈跟踪：

```
[~/env/ECommerce]# ../bin/python setup.py test -q

/home/vretinfo/opt/Python-3.2.3/lib/python3.2/distutils/dist.py:257: UserWarning: Unknown distribution option: 'paster_plugins'
warnings.warn(msg)
running test
Checking .pth file support in .
/home/vretinfo/env/ECommerce/../bin/python -E -c pass
Searching for Paste>=1.7.1
Reading http://pypi.python.org/simple/Paste/
Reading http://pythonpaste.org
Best match: Paste 1.7.5.1
Downloading http://pypi.python.org/packages/source/P/Paste/Paste-1.7.5.1.tar.gz#md5=7ea5fabed7dca48eb46dc613c4b6c4ed
Processing Paste-1.7.5.1.tar.gz
Writing /tmp/easy_install-q5h5rn/Paste-1.7.5.1/setup.cfg
Running Paste-1.7.5.1/setup.py -q bdist_egg --dist-dir /tmp/easy_install-q5h5rn/Paste-1.7.5.1/egg-dist-tmp-e3nvmj
warning: no previously-included files matching '*' found under directory 'docs/_build/_sources' 
```

由于某种原因，pyramid1.4 似乎需要粘贴。也许有人对此有一些见解。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-18T07:06:51.103

我已经设法通过 IRC#pyramid 中的人们解决了这个问题。我在这里发布解决方案，以防将来有人遇到。我已经在 Python3.2 中对此进行了测试，现在可以正常工作了。

运行后 ./bin/pcreate -s <...>

在项目的文件夹中，development.ini

更改以下内容：

```
 1\. in the 1st line, rename [app:<Project>] to [app:main]

    2\. [server:main]
       If it is egg:Paste#http, change it to

       use = egg:waitress#main

    3\. remove [pipeline:main] and its section 
```

在同一文件夹中，对 setup.py 进行必要的更改：

```
 1\. requires = [....], add in waitress into the array, remove WebError from the array
    2\. remove paster_plugins=['pyramid'] 
```

最后，运行

```
 $ ../bin/python setup.py develop 
```

如果存在粘贴，则不会安装或检查它。

# postgresql - 如何在本地加载 .pgbackup 文件？与 pgAdminIII？

> ID：15425258
> 
> 赞同：0
> 
> 时间：2013-03-15T05:16:13.080
> 
> 标签：postgresql

我下载了一个 .pgbackup 文件，但找不到有关如何将其加载到本地数据库的信息。我从中获取它的论坛也不是很敏感。

先感谢您！

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T06:17:03.663

[按照文档](http://www.postgresql.org/docs/current/static/app-pgrestore.html)使用[`pg_restore`](http://www.postgresql.org/docs/current/static/app-pgrestore.html)

您也可以使用 PgAdmin-III 来恢复备份，菜单中有“恢复”选项。您必须选择要恢复的数据库才能启用此选项，或者您可以选择“postgres”数据库并在恢复选项对话框中选中为恢复的数据库创建新数据库的选项。

您也可能正在处理普通的 SQL 转储。如果是这样，您可以使用命令行`psql`工具加载它。我不知道通过 PgAdmin-III 恢复 SQL 转储。`psql`文档中讨论了还原备份的详细信息。

不久前，我写了一篇[关于 PgAdmin-III 中备份和恢复的可用性的咆哮](http://blog.ringerc.id.au/2012/05/postgresql-usability-pgadmin-iii-and-pg.html)。

# python - Windows 注册表上的更改不会立即生效

> ID：15425260
> 
> 赞同：0
> 
> 时间：2013-03-15T05:16:21.580
> 
> 标签：python, windows, qt, internet-explorer, pyqt

Windows 注册表上的更改不会立即生效

我正在尝试通过以下 2 个代码片段更改 IE 的代理设置

通过此代码启用代理

```
from winreg import *
with OpenKey(HKEY_CURRENT_USER,r"Software\Microsoft\Windows\CurrentVersion\Internet Settings" ,0, KEY_ALL_ACCESS) as key:
    SetValueEx(key,"ProxyServer",0, REG_SZ, "127.0.0.1:8087")
    SetValueEx(key,"ProxyEnable",0, REG_DWORD, 1)
    SetValueEx(key,"ProxyOverride",0, REG_SZ, "<local>")
FlushKey(key) 
```

通过此代码禁用代理

```
from winreg import *
with OpenKey(HKEY_CURRENT_USER,r"Software\Microsoft\Windows\CurrentVersion\Internet Settings" ,0, KEY_ALL_ACCESS) as key:

    DeleteValue(key,"ProxyServer")
    SetValueEx(key,"ProxyEnable",0, REG_DWORD, 0)
    DeleteValue(key,"ProxyOverride")
    FlushKey(key) 
```

但是windows注册表的更改不会立即生效，那么有没有办法更改windows注册表并让更改立即生效而无需重新启动IE？

顺便说一句，我在 winxp 上使用代码，我将在我的 PyQt 应用程序中嵌入 2 个代码片段。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:23:23.643

让我们尝试这样：我也讨厌重新启动，并与它们作斗争，所以，您可以尝试卸载 ieplore.dll ，然后重新加载它，但不会导致 IE 崩溃。提到 *.dll 是 IE 的核心，确实很棘手，比如 *.chm 文件在没有 IE 的情况下加载它，如果 URL 在里面，它会打开并加载，你不会看到 IE 进程运行在里面任务管理器。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-09-06T03:15:18.717

根据您所追求的，完全重新启动似乎是不必要的。一旦打开新的 Internet Explorer，设置就会应用于新的 Internet Explorer 和任何其他应用程序（例如 Firefox）。

如果您正在编写脚本，您可能需要创建一个带有嵌入式 Internet Explorer 的隐藏窗口。

同样，根据您所追求的，可能有现成的工具可以做到这一点。它满足了我的需求：我现在正在使用[IE Proxy Toggle](http://download.cnet.com/IE-Proxy-Toggle/3000-2381_4-75863967.html)。

# c# - 帮助文件内容未打开

> ID：15425265
> 
> 赞同：-1
> 
> 时间：2013-03-15T05:17:28.310
> 
> 标签：c#, winforms, help-files

我有一个应用程序安装了另外两个具有“帮助”选项的应用程序。这些应用程序中的每一个都有一个共同的帮助文件，但内容应根据“目录”中为应用程序选择的索引显示。如果我打开一个应用程序，则应显示该特定应用程序的帮助。

对于 Appl1，我的代码看起来像这样。

```
 private void Help_Click(Core.CommandBarButton Ctrl, ref bool CancelDefault)
    {
        if (System.IO.File.Exists(new PlugInConstants().HELP_FILE_Path))
        {                
            System.Windows.Forms.Help.ShowHelp(new System.Windows.Forms.Control(),
                new PlugInConstants().HELP_FILE_Path,
                System.Windows.Forms.HelpNavigator.TableOfContents, "Appl1");
        }
        else
        {
            System.Windows.Forms.MessageBox.Show(m_objLanguage.ERR_HELP_NOT_FOUND.Replace
                ("%1", m_objGlobalConfig.HelpFilename));
        }

        CancelDefault = false;
    } 
```

Appl2 看起来像这样

```
 private void HelpToolStripMenuItem_Click(object sender, EventArgs e)
    {
        helpToolStripMenuItem.Enabled = false;   
        string helpFilePath;
        helpFilePath = new TrayConstants().HELP_FILE_Path;

        if (System.IO.File.Exists(helpFilePath))
        {
            System.Windows.Forms.Help.ShowHelp(new System.Windows.Forms.Control(), 
                helpFilePath, System.Windows.Forms.HelpNavigator.TableOfContents, "Appl2") ;
        }
        else
        {
            if (m_helpPage == null)
                m_helpPage = new HelpPage();
            m_helpPage.ShowDialog();
        }

       helpToolStripMenuItem.Enabled = true;
    } 
```

从这里我只能看到通用帮助文件的内容页面，而不是选择的特定应用程序帮助。现在我确实运行了 Appl1，但我仍然可以看到主要`MyApp`但不是`Appl1`自动选择的内容以及显示在右侧的内容。

![图像中的 !st 屏幕是我现在得到的，但我需要第二个屏幕](../Images/a89077d0ecdb30f92421f4432e1016f7.png)

我正在使用 VS 2010，C#，提前致谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:28:35.040

我相信您的问题是您在 HelpNavigator 枚举中访问了错误的值。看起来应该是主题，而不是 TableOfContents。

```
System.Windows.Forms.Help.ShowHelp(new System.Windows.Forms.Control(), 
                helpFilePath, System.Windows.Forms.HelpNavigator.Topic, "Appl2") ; 
```

[http://msdn.microsoft.com/en-us/library/system.windows.forms.helpnavigator.aspx](http://msdn.microsoft.com/en-us/library/system.windows.forms.helpnavigator.aspx)

# java - if 和 else 语句

> ID：15425269
> 
> 赞同：0
> 
> 时间：2013-03-15T05:17:36.123
> 
> 标签：java

我正在尝试实现一种`toString`方法，并且输出`toString`取决于`boolean`变量。以下是我的课程和主要课程。

```
public class Cell {

    public int addSpaces;
    boolean isEmpty;
    boolean isChute;
    boolean isLadder;

    public Cell() {
        addSpaces = 10; //I initialized addSpaces to 10 for testing purpose 
    }

    public boolean isChute() { //first boolean method
        if (addSpaces == -10) {
            return true;
        } else {
            return false;
        }
    }

    public boolean isLadder() {//second boolean method
        if (addSpaces == 10) {
            return true;
        } else {
            return false;
        }
    }

    public boolean isEmpty() { //third boolean method
        if (addSpaces == 0) {
            return true;
        } else {
            return false;
        }
    }

    public String toString() {
        String print;
        if (isChute = true) //if isChute is true return true.
        {
            print = "C10";       // toString output = "C10"
        } else if (isLadder = true) // if isLadder is true return true
        {
            print = "L10";          // toString output == "L10"
        } else {
            print = "---"; // else toString print output = "---"
        }
        return print;
    }

    public static void main(String[] arg) {
        Cell s = new Cell();

        System.out.println(s.addSpaces);
        System.out.println(s);
    }
} 
```

不管 的输入状态如何`toString`，我基本上得到相同的输出“C10”。

有人可以告诉我我做错了什么吗？

我是这个网站的新手，所以我感谢任何反馈以供将来参考。谢谢你。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-15T05:19:33.083

您已陷入其中一种语言“陷阱”

这...

```
if(isChute = true) //if isChute is true return true.
    print = "C10";       // toString output = "C10"
else if (isLadder = true) // if isLadder is true return true
    print = "L10";          // toString output == "L10"
else   
    print = "---" 
```

实际上是分配`true`给`isChute`. 你应该不`==`使用`=`

**更新**

更好的方法是......

```
if(isChute) //if isChute is true return true.
    print = "C10";       // toString output = "C10"
else if (isLadder) // if isLadder is true return true
    print = "L10";          // toString output == "L10"
else   
    print = "---" 
```

如果对象只有两种状态（溜槽或梯子），您可以简单地使用

```
if(isChute) //if isChute is true return true.
    print = "C10";       // toString output = "C10"
else print = "L10";          // toString output == "L10" 
```

如果它可以有超过 2 个状态，那么我会使用一个[`enum`类型](http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:31:54.847

isChute 被赋值为 true。所以“C10”一直被 toString() 返回。更改

```
if(isChute){
    ...
}else if(isLadder){
    ...
}else{
    ..
} 
```

# tortoisesvn - 如何通过 TotoiseSVN 获取将本地系统连接到远程存储库的 URL

> ID：15425272
> 
> 赞同：-1
> 
> 时间：2013-03-15T05:17:51.673
> 
> 标签：tortoisesvn

我是 Tortoise SVN 的新手。我想在团队中工作。我在我的 windows7 中安装了 Svn1ClickSetup-1.3.3，并在新文件夹中创建了一个存储库。我想知道如何连接到远程系统，如何获取 URL 以及如何为它们设置身份验证。

请任何人都可以帮助我..

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:35:32.040

您应该配置您的 svn 以获得一个看起来像这样的通用 url

```
http://e880/svn/ 
```

您可以将文件夹名称附加到此 url。获取此 url 并右键单击任何文件夹到 SVN Checkout 并粘贴 url 并完成。

# wso2 - WSO2 BPS：如何在 BPEL 调用中将标头值作为消息的一部分传递

> ID：15425273
> 
> 赞同：1
> 
> 时间：2013-03-15T05:17:53.303
> 
> 标签：wso2, bpel, wso2carbon

我的 Web 服务操作定义如下。我也有一个标题参数。

```
public void method(@WebParam(name="OrderNo", mode=WebParam.Mode.IN) String order_no_,
                    @WebParam(name="user", mode=WebParam.Mode.IN, header=true) String user) 
```

现在，当我部署此服务时，我得到一个看起来像这样的 WSDL。

```
<?xml version="1.0" ?>
<wsdl:definitions ... >
    <wsdl:types>
        </xs:schema>
            ...
            <xs:element name="method" type="tns:method"></xs:element>
            <xs:complexType name="method">
                <xs:sequence>
                    <xs:element minOccurs="0" name="OrderNo" type="xs:string"></xs:element>
                </xs:sequence>
            </xs:complexType>  
            ...
            <xs:element name="user" nillable="true" type="xs:string"></xs:element>
            ...
        </xs:schema>
    </wsdl:types>
    ...
    <wsdl:message name="method">
        <wsdl:part element="tns:method" name="parameters" />
        <wsdl:part element="tns:user" name="user" />
    </wsdl:message>
    ...
    <wsdl:portType name="CustomerOrderService">
        <wsdl:operation name="method">
            <wsdl:input message="tns:method" name="method" />
            <wsdl:output ... /> 
            <wsdl:fault ... />
        </wsdl:operation>
    </wsdl:portType>
    ...
    <wsdl:binding name="OrderSoapBinding" type="tns:OrderService">
        <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http" /> 
        <wsdl:operation name="method">
            <soap:operation soapAction="" style="document" /> 
            <wsdl:input name="method">
                <soap:header message="tns:method" part="user" use="literal" /> 
                <soap:body parts="parameters" use="literal" /> 
            </wsdl:input>
            <wsdl:output name="...">
                <soap:body use="literal" /> 
            </wsdl:output>
            <wsdl:fault name="...">
                ...
            </wsdl:fault>
        </wsdl:operation>
    </wsdl:binding>
</wsdl:definitions> 
```

如您所见，标头是用作服务请求输入的消息的一部分。Hwen 我使用soap UI 来测试这个WSDL，它生成了一个正确的soap 消息，其中“user”属性作为标题的一部分。

当我将此服务用作 Carbon BPEL 流程中的合作伙伴链接并为调用消息中的“用户”部分分配一个值时，该值不包含在标头中。

```
<bpel:variable name="method_Input" messageType="ns0:method" />  

<bpel:assign name="...">
   ...
   <bpel:copy>
      <bpel:from>$input.payload/tns:TaskReceiver</bpel:from>
      <bpel:to>$method_Input.user</bpel:to>
   </bpel:copy>
</bpel:assign> 
```

您可以看到消息部分被分配了正确的值，

![控制台信息](../Images/0f0ab3c41aed951fcb785c032ab07626.png)

问题是这个绑定到soap消息头的消息部分永远不会包含在soap头中。

```
<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
    <soapenv:Body>
        <method xmlns="http://customerorder.service.test/">
            <OrderNo xmlns="">ORD00011</OrderNo>
        </method>
    </soapenv:Body>
</soapenv:Envelope> 
```

提前感谢提供的任何帮助。

# iphone - removeFromSuperview 完成后，原地显示白屏

> ID：15425280
> 
> 赞同：5
> 
> 时间：2013-03-15T05:18:50.323
> 
> 标签：iphone, ios, objective-c, xcode, uiview

因此，对于我的应用程序，我在当前视图 (classesWebView) 之上添加了一个视图 (aView) 作为子视图。所有的 aView 都是一个 UIView，上面有一个 UIActivityIndi​​catorView，它应该在下面的视图（classesWebView）加载适当的网页时进行动画处理。

我可以看到 classesWebView 网页确实出现了（aView 的 alpha 为 0.5），但是一旦它完成加载，aView 就会被发送 [aView removeFromSuperview] 并且它消失了，但是在它消失之后，剩下的就是在它的地方有一个白色的屏幕。

我已经为其他两种方法这样做了，我不知道为什么，仅在这种方法上，它拒绝合作。

任何建议，将不胜感激。该应用程序适用于 iOS 6。

viewDidLoad 方法：

```
-(void)viewDidLoad
{
    [super viewDidLoad];

    classesWebView.delegate = self;

    [classesWebView addSubview:aView];

    NSURL *class = [NSURL URLWithString:@"mywebistelink"]; 

    NSURLRequest *classRequest = [NSURLRequest requestWithURL:class]; 

    [classesWebView loadRequest:classRequest];   
} 
```

webViewDidStartLoad 方法：

preView 和 switchView 是活动指示器。

```
- (void)webViewDidStartLoad:(UIWebView *) webview
{
    [UIApplication sharedApplication].networkActivityIndicatorVisible = YES;

    if(aView.superview != nil)
    {
        [preView startAnimating];
    }
    else
    {
        [switchView startAnimating];
    }
} 
```

webViewDidFinishLoad 方法：

```
- (void)webViewDidFinishLoad:(UIWebView *) webview
{
    [UIApplication sharedApplication].networkActivityIndicatorVisible = NO;

    if(aView.superview != nil)
    {
        [aView removeFromSuperview];
        [preView stopAnimating];
        [preView setOpaque:false];
    }
    else
    {
        [switchView stopAnimating];
        [switchView setOpaque:false];
    }
} 
```

[进一步明确：我有 if 语句的原因是因为我在加载页面时想要 classesWebView 的另一个指示器，但我不希望它出现，除非 aView 消失（因为 aView 已经有它的指示器：preView）]

编辑：只是为了证明它只是导致问题的 removeFromSuperview ，如果我调用 [aView setAlpha:0.0] 它会消失并且它下面的 webPage 正确加载。但是我调用 [aView removeFromSuperview] 的第二个网页变成了白屏。T_T

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:33:32.667

试试这个：

```
 NSURL *class=[NSURL URLWithString:[yourwebistelink stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding]];

    NSURLRequest *request=[NSURLRequest requestWithURL:class];

   [self.classesWebView loadRequest:request]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:19:03.633

试试这个..并尝试不要为activityIndi​​cator添加一个View。试试这个这个来指示activityIndi​​cator

```
UIWebView * classesWebView = [[UIWebView alloc] init];

[classesWebView addSubview:activityIndicator];
[self.activityIndicator startAnimating]; //for activityIndicator

NSURLRequest *request = [NSURLRequest requestWithURL:weburl];
classesWebView.frame = CGRectMake(0, 200, 768, 400);
[classesWebView setScalesPageToFit:NO];
[classesWebView loadRequest:request];

- (void)webViewDidStartLoad:(UIWebView *)thisWebView
{

}

- (void)webViewDidFinishLoad:(UIWebView *)thisWebView
{
[self.activityIndicator stopAnimating];

    [activityIndicator removeFromSuperview];
}

- (void)webView:(UIWebView *)webView didFailLoadWithError:(NSError *)error
{
    NSLog(@"Error : %@",error);
} 
```

如果 webView 仍然显示空白，那么你必须用这个编码你的 url

```
NSString *encodedString=[graphStringUrl stringByAddingPercentEscapesUsingEncoding:NSUTF8StringEncoding];
NSURL *weburl = [NSURL URLWithString:encodedString];
NSURLRequest *request = [NSURLRequest requestWithURL:weburl]; 
```

然后在 webView 中加载这个**请求**

```
[classesWebView loadRequest:request]; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-16T05:06:13.707

我认为您不应该将子视图添加到`UIWebView`. 尝试添加`aView`到包含您的视图中`classesWebView`，看看是否能解决问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-18T15:14:40.793

所以我从来没有让它工作，但我只是通过设置 [aView setAlpha:0] 来欺骗它。这对我需要的东西有用。不过，谢谢你们的建议，伙计们。

# windows - windows 7 剩余的批处理文件参数

> ID：15425281
> 
> 赞同：1
> 
> 时间：2013-03-15T05:18:51.680
> 
> 标签：windows, for-loop, batch-file, cmd

在 Windows 批处理文件中，我知道`%1`被第一个参数`%2`替换，被第二个参数`%*`替换，并被所有参数替换。

有没有办法在第一个参数之后获得所有参数？（例如论点 2-N）第二个之后的所有论点呢？

该`SHIFT`命令似乎没有影响`%*`。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-15T05:38:55.943

```
@ECHO OFF
SETLOCAL
CALL :allafter 3 %*
ECHO args=%args%
GOTO :eof

:allafter
FOR /l %%a IN (1,1,%1) DO SHIFT
(SET args=)
:argloop
shift
IF NOT .%1==. SET args=%args% %1&GOTO argloop
IF DEFINED args SET args=%args:~1%
GOTO :eof 
```

在第三个参数之后得到一切`ARGS`

* * *

编辑 - 处理可能包括逗号的空格分隔元素

```
@ECHO OFF
SETLOCAL
CALL :allafter 3 %*
ECHO args=%args%
CALL :allafter2 3 %*
ECHO args=%args%
GOTO :eof

:allafter
FOR /l %%a IN (1,1,%1) DO SHIFT
(SET args=)
:argloop
shift
IF NOT .%1==. SET args=%args% %~1&GOTO argloop
IF DEFINED args SET args=%args:~1%
GOTO :EOF

:allafter2
SET /a count=%1
SET args=%*
:arg2loop
SET oldargs=%args%
call SET args=%%args:*%1 =%%
IF "%args%"=="%oldargs%" (call SET args=%%args:*%1,=%%) ELSE (SET /a count-=1)
shift
IF %count% gtr -1 GOTO arg2loop
GOTO :EOF 
```

嗯——说得太早了。这个修改后的例程应该会玩得更好。当调用 remove-leading-n 时，以前的版本将定义为一个参数的内容`one,two,three`视为三个单独的参数。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-15T05:45:53.413

嗯，有一种方法...

通过使用命令`/n`上的开关`shift`，您可以做一些类似的事情。但是，它将删除所有参数并将它们放入某个变量中（因此您不能在`%3`没有`for`循环的情况下再调用）。

```
@setlocal enableextensions
@echo off
:loop
if "%~2" equ "" goto end
set variable=%variable% %~2
shift /2
goto loop
:end
echo %1
echo %variable%
endlocal 
```

要再次分离参数，只需执行一个简单的`for`循环（我相信您可以在某处找到有关它的文档）。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T07:19:08.793

没有`shift`&的解决方案`goto`：

```
@echo off &setlocal enabledelayedexpansion
set /a count=0
for %%i in (%*) do set /a count+=1
set "args="
for /l %%i in (2,1,%count%) do if defined args (call set "args=!args! %%%%i") else call set "args=%%%%i"
echo.%args%
endlocal 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-01-06T13:23:47.630

```
> type t.bat
@echo off
echo %*
for  /f "tokens=1,*delims= " %%i in ("%*") do echo %%j

> t a b c d e f,g h i
a b c d e f,g h i
b c d e f,g h i

> t a,a b c d e f,g h i
a,a b c d e f,g h i
b c d e f,g h i

> 
```

# java - 单例模式面试

> ID：15425282
> 
> 赞同：9
> 
> 时间：2013-03-15T05:19:04.647
> 
> 标签：java, singleton

我最近在接受以下代码的采访时被问到与 java 相关的问题，因为我对 java 很陌生，几乎没有用 Java 编写代码，所以我真的不知道下面的代码做了什么。

问题是使用以下代码选择描述最糟糕情况的选项：

```
public class Bolton {
    private static Bolton INST = null;

    public static Bolton getInstance()
    {
        if ( INST == null )
        {
            INST = new Bolton();
        }
        return INST;
    }

    private Bolton() {
    }
} 
```

这是这个问题的选项

> 1.  可以创建多个 Bolton 实例
> 2.  博尔顿永远不会被创造出来
> 3.  构造函数是私有的，不能被调用
> 4.  值可以被垃圾回收，调用 getInstance 可能会返回垃圾数据

以上哪个选项是正确的？为什么？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-15T05:25:02.817

这是一个[单例模式](http://en.wikipedia.org/wiki/Singleton_pattern)

单例模式的想法是只有一个类的可用实例。因此，在这种情况下，`constructor`将 设置为`private`并且类维护一个`getInstance()`方法，该方法要么调用此类中的现有实例变量，要么`INST`为正在执行的程序创建一个新实例变量。答案可能是 1，因为它不是线程安全的。它可能对我之前放下的 3 感到困惑，但从技术上讲，这是设计使然，因此实际上并不是缺陷。

这是来自维基百科的**惰性初始化**，线程安全的单例模式的示例：

```
public class SingletonDemo {

    private static volatile SingletonDemo instance = null;

    private SingletonDemo() {  } 

    public static SingletonDemo getInstance() {
        if (instance == null) {
            synchronized (SingletonDemo.class){
                if (instance == null) {
                    instance = new SingletonDemo();
                }
            }
        }
        return instance;
    }

} 
```

将实例变量设置为[`volatile`](http://jeremymanson.blogspot.com/2008/11/what-volatile-means-in-java.html)告诉 Java 从内存中读取它而不将其设置在缓存中。

[同步的语句或方法](http://docs.oracle.com/javase/tutorial/essential/concurrency/)有助于[并发](http://en.wikipedia.org/wiki/Concurrency_(computer_science))。

阅读有关[双重检查锁定](http://en.wikipedia.org/wiki/Double-checked_locking)的更多信息，这是“延迟初始化”单例发生的情况

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-15T05:24:43.520

面试官主要是想检查你对单例模式的了解。模式可以打破吗？答案是肯定的。检查[这个](http://www.javaworld.com/jw-01-2001/jw-0112-singleton.html)或谷歌 - 当单例不是单例时。

最好的课程是使用Joshua Bloch 建议的[基于枚举的 Singleton](https://stackoverflow.com/questions/70689/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-15T05:34:18.403

> 可以创建多个 Bolton 实例

由于上述代码中缺乏同步，此选项是正确的。

假设两个线程同时检查`null`并且都将发现值是`null`并且都将调用构造函数**（这反驳了单例）**。

这还有其他问题，即使两个线程不`null`一起检查但假设一个线程调用构造函数；但是在构造对象之前构造函数不会返回（假设创建对象的成本很高并且需要时间），所以在构造函数返回之前，其他线程可能会检查`null`条件并仍然找到对象，`null`因为对象*尚未构造.*

在这种情况下，某些先决条件被称为*check-then-act*，这是 Race 的罪魁祸首。

对于单例，有两个正在使用的标准：

*   [双重检查锁定](http://www.ibm.com/developerworks/java/library/j-dcl/index.html)
*   [基于枚举的单例模式](https://stackoverflow.com/questions/12697726/how-to-initialize-java-enum-based-singleton)

**更新：** 这是另一篇很棒的文章，讨论了[双重检查锁定](http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-15T05:28:27.347

该`getInstance()`方法应该是同步的，否则如果多个线程`getInstance()`同时调用，可能会创建许多实例。所以我会选择选项1。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-15T06:09:10.443

当我们只想拥有这个类的一个对象并且它将在任何地方使用时，我们会使用单例模式。所以为了限制类创建多个对象，我们应该使用 `private`这个类的构造函数。并创建一个`public`函数来返回该类的对象。

```
public class MethodWin {
    private int isLoggedOn=0;
    private static MethodWin objectMethodWin = new MethodWin();
    private MethodWin() { }
    public static MethodWin getInstance() {
        return objectMethodWin;
    }
    public void setIsLoggedOn(int value) {
       this.isLoggedOn=value;
    }
    public int getIsLoggedOn() {
       return this.isLoggedOn;
    }
} 
```

所以当我们需要创建这个对象时，我们应该：

```
MethodWin meth = MethodWin.getInstance(); 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-15T05:48:21.913

原始答案是只创建了一个 Bolton 实例。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-15T05:52:04.330

通过反射我们可以创建许多对象，即使构造函数是私有的。
在多线程环境中，有机会创建多个实例。
通过序列化有机会创建多个对象。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2013-03-15T05:57:56.947

简单的答案是`2) A Bolton will never be created`因为当您创建实例时，构造函数将在调用 getInstance 方法时调用内部构造函数初始化，然后答案将是创建单个实例。

# android - 如何获取当前位置的天气

> ID：15425283
> 
> 赞同：12
> 
> 时间：2013-03-15T05:19:09.327
> 
> 标签：android, weather, yahoo-weather-api

可能重复：

[获取当前位置的天气更新？](https://stackoverflow.com/questions/6936541/get-weather-update-of-current-location)

[如何从纬度和经度获取当前位置的天气？](https://stackoverflow.com/questions/6992223/how-can-i-get-the-weather-in-current-location-from-latitude-and-longitude)

我正在开发一个应用程序，它可以更新当前位置的天气。我用谷歌搜索并找到了如何使用 Google API。但现在 Google API 不可用，我改用 Yahoo 天气。

我的问题：

1.  如何使用 Yahoo Weather API 获取天气

2.  教程或源代码

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-15T05:22:01.533

让我告诉你什么你不应该使用.. Google API（它已被停止）

[http://thenextweb.com/google/2012/08/28/did-google-just-quietly-kill-private-weather-api/](http://thenextweb.com/google/2012/08/28/did-google-just-quietly-kill-private-weather-api/)

然后，您还有其他选择，例如

**雅虎天气 API**

```
http://developer.yahoo.com/weather/ 
```

例如.. 要获得法国巴黎的预报，使用摄氏度和其他公制单位： [http ://weather.yahooapis.com/forecastrss?w=615702&u=c](http://weather.yahooapis.com/forecastrss?w=615702&u=c)

其他示例请访问链接 [http://developer.yahoo.com/weather/#examples](http://developer.yahoo.com/weather/#examples)

**WunderGround 天气 API**

```
http://www.wunderground.com/weather/api/ 
```

另一个不错的选择是**Open Weather Map API**，它通过仅传递位置的纬度和经度来支持 JSON 输出。

```
http://openweathermap.org/wiki/API/JSON_API 
```

* * *

## 回答 #2

> 赞同：10
> 
> 时间：2013-03-15T05:36:46.040

我个人免费使用了这个 API，您可以通过邮政编码、邮政编码或纬度和经度检索任何位置的天气预报

[免费的本地天气 REST API](http://www.worldweatheronline.com/free-weather-feed.aspx)

**注意：**Local Weather API 以 XML、JSON 和 CSV 格式返回天气数据，并包含温度、降水（降雨）、天气描述、天气图标和风速等天气元素。

**更新：** www.worldweatheronline.com/ api 不再免费。

试试这些

1.  [accuweather.com](https://developer.accuweather.com/)
2.  [https://openweathermap.org/](https://openweathermap.org/api)
3.  [www.apixu.com](https://www.apixu.com/api.aspx)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-15T13:40:13.450

下面是一组天气 API，您可以通过浏览器进行试验，然后以您喜欢的语言生成源代码：

[https://live.temboo.com/library/keyword/weather/](https://live.temboo.com/library/keyword/weather/)

全面披露：我在 Temboo 工作。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2020-09-30T07:37:06.907

我个人使用过 OpenWeather API。它完全免费，您可以通过城市名称、邮政编码或经纬度等检索任何位置的天气预报。

```
<?php
 $city    = 'london';
    $jsonfile    = file_get_contents( 'http://api.openweathermap.org/data/2.5/weather?q=' . $city . '&units=metric&lang=en&appid=c0c4a4b4047b97ebc5948ac9c48c0559' );
    $jsondata    = json_decode( $jsonfile );
    $temp        = $jsondata->main->temp;
    $pressure    = $jsondata->main->pressure;
    $mintemp     = $jsondata->main->temp_min;
    $maxtemp     = $jsondata->main->temp_max;
    $wind        = $jsondata->wind->speed;
    $humidity    = $jsondata->main->humidity;
    $desc        = $jsondata->weather[0]->description;
    $maind       = $jsondata->weather[0]->main;
    $currentTime = time();
    ?>
    <style>
    body {
        font-family: Arial;
        font-size: 0.95em;
        color: #929292;

    }

    .report-container {
        border: #E0E0E0 1px solid;
        padding: 20px 40px 40px 40px;
        border-radius: 2px;
        width: 550px;
        margin: 0 auto;
    }

    .weather-icon {
        vertical-align: middle;
        margin-right: 20px;
    }

    .weather-forecast {
        color: #212121;
        font-size: 1.2em;
        font-weight: bold;
        margin: 20px 0px;
    }

    span.min-temperature {
        margin-left: 15px;
        color: #929292;
    }

    .time {
        line-height: 25px;
    }
    </style>
    <body>
    <div class="report-container">
            <h2><?php echo $jsondata->name; ?> Weather Status</h2>
            <div class="time">
                <div><?php echo date( 'l g:i a', $currentTime ); ?></div>
                <div><?php echo date( 'jS F, Y', $currentTime ); ?></div>
                <div><?php echo $desc; ?></div>
            </div>
            <div class="weather-forecast">
                <img
                    src="http://openweathermap.org/img/w/<?php echo $jsondata->weather[0]->icon; ?>.png"
                    class="weather-icon" /> <?php echo $mintemp; ?>°C<span
                    class="min-temperature"><?php echo $maxtemp; ?>°C</span>
            </div>
            <div class="time">
                <div>Humidity: <?php echo $humidity; ?> %</div>
                <div>Wind: <?php echo $wind; ?> km/h</div>
            </div>
        </div>
        </body> 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2018-04-30T11:10:43.610

OpenWeatherMap 是您可以使用的最佳天气开放 API：[https ://openweathermap.org/api](https://openweathermap.org/api)

*   它提供免费的天气数据和预报 API，适用于任何制图服务，如网络和智能手机应用程序
*   它使用 JSON/XML 格式为您的应用程序提供天气数据。
*   它提供了广泛的有用的天气相关信息，包括当前天气、历史天气、预报、风、云、气象站数据等
*   我们如何获取选定位置的天气信息？Openweathermap 提供了两种不同的模式来寻找城市。一个使用名称模式，另一个使用地理坐标。
*   免费使用

这是一个示例应用程序[android-openweathermap-app](https://www.survivingwithandroid.com/2013/05/android-openweathermap-app-weather-app.html)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2014-01-29T04:28:58.033

您可以在 android 中获得集成天气 API，但它需要一点关于解析 xml 响应的知识。

[天气数据显示当前天气](http://androidcodebits.wordpress.com/2013/07/20/integration-of-yahoo-weather-api-in-android/)

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2020-05-08T11:47:55.840

添加到 build.gradle

```
implementation 'com.github.androdocs:Simple-HTTP-Request:v1.0' 
```

XML

```
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:background="@drawable/bg_gradient"
android:orientation="vertical"
android:padding="25dp">

<RelativeLayout
    android:id="@+id/mainContainer"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:visibility="visible">

    <LinearLayout
        android:id="@+id/addressContainer"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:gravity="center"
        android:orientation="vertical">

        <TextView
            android:textColor="#FFFFFF"
            android:id="@+id/address"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="DHAKA, BD"
            android:textSize="24dp" />

        <TextView
            android:textColor="#FFFFFF"
            android:id="@+id/updated_at"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="20 April 2012, 20:08 PM"
            android:textSize="14dp" />
    </LinearLayout>

    <LinearLayout
        android:id="@+id/overviewContainer"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_centerInParent="true"
        android:orientation="vertical">

        <TextView
            android:textColor="#FFFFFF"
            android:id="@+id/status"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:text="Clear Sky"
            android:textSize="18dp" />

        <TextView
            android:textColor="#FFFFFF"
            android:id="@+id/temp"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_gravity="center"
            android:fontFamily="sans-serif-thin"
            android:text="29°C"
            android:textSize="90dp" />

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:gravity="center"
            android:orientation="horizontal">

            <TextView
                android:textColor="#FFFFFF"
                android:id="@+id/temp_min"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Min Temp: 05:05 AM" />

            <Space
                android:layout_width="50dp"
                android:layout_height="wrap_content" />

            <TextView
                android:textColor="#FFFFFF"
                android:id="@+id/temp_max"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Max Temp: 05:05 PM" />
        </LinearLayout>

    </LinearLayout>

    <LinearLayout
        android:id="@+id/detailsContainer"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        android:orientation="vertical">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:weightSum="3">

            <LinearLayout
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:background="#3CF1EBF1"
                android:gravity="center"
                android:orientation="vertical"
                android:padding="8dp">

                <ImageView
                    android:layout_width="25dp"
                    android:layout_height="25dp"
                    android:src="@drawable/sunrise"
                    android:tint="#FFFFFF" />

                <Space
                    android:layout_width="wrap_content"
                    android:layout_height="5dp" />

                <TextView
                    android:textColor="#FFFFFF"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Sunrise"
                    android:textSize="12dp" />

                <TextView
                    android:textColor="#FFFFFF"
                    android:id="@+id/sunrise"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="06:40 AM"
                    android:textSize="14dp" />
            </LinearLayout>

            <Space
                android:layout_width="10dp"
                android:layout_height="wrap_content" />

            <LinearLayout
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:background="#3CF1EBF1"
                android:gravity="center"
                android:orientation="vertical"
                android:padding="8dp">

                <ImageView
                    android:layout_width="25dp"
                    android:layout_height="25dp"
                    android:src="@drawable/sunset"
                    android:tint="#FFFFFF" />

                <Space
                    android:layout_width="wrap_content"
                    android:layout_height="5dp" />

                <TextView
                    android:textColor="#FFFFFF"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Sunset"
                    android:textSize="12dp" />

                <TextView
                     android:textColor="#FFFFFF"
                    android:id="@+id/sunset"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="06:40 AM"
                    android:textSize="14dp" />
            </LinearLayout>

            <Space
                android:layout_width="10dp"
                android:layout_height="wrap_content" />

            <LinearLayout
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:background="#3CF1EBF1"
                android:gravity="center"
                android:orientation="vertical"
                android:padding="8dp">

                <ImageView
                    android:layout_width="25dp"
                    android:layout_height="25dp"
                    android:src="@drawable/wind"
                    android:tint="#FFFFFF" />

                <Space
                    android:layout_width="wrap_content"
                    android:layout_height="5dp" />

                <TextView
                    android:textColor="#FFFFFF"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Wind"
                    android:textSize="12dp" />

                <TextView
                    android:textColor="#FFFFFF"
                    android:id="@+id/wind"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="06:40 AM"
                    android:textSize="14dp" />
            </LinearLayout>
        </LinearLayout>

        <Space
            android:layout_width="wrap_content"
            android:layout_height="10dp" />

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:weightSum="3">

            <LinearLayout
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:background="#3CF1EBF1"
                android:gravity="center"
                android:orientation="vertical"
                android:padding="8dp">

                <ImageView
                    android:layout_width="25dp"
                    android:layout_height="25dp"
                    android:src="@drawable/pressure"
                    android:tint="#FFFFFF" />

                <Space
                    android:layout_width="wrap_content"
                    android:layout_height="5dp" />

                <TextView
                    android:textColor="#FFFFFF"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Pressure"
                    android:textSize="12dp" />

                <TextView
                    android:textColor="#FFFFFF"
                    android:id="@+id/pressure"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="06:40 AM"
                    android:textSize="14dp" />
            </LinearLayout>

            <Space
                android:layout_width="10dp"
                android:layout_height="wrap_content" />

            <LinearLayout
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:background="#3CF1EBF1"
                android:gravity="center"
                android:orientation="vertical"
                android:padding="8dp">

                <ImageView
                    android:layout_width="25dp"
                    android:layout_height="25dp"
                    android:src="@drawable/humidity"
                    android:tint="#FFFFFF" />

                <Space
                    android:layout_width="wrap_content"
                    android:layout_height="5dp" />

                <TextView
                    android:textColor="#FFFFFF"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Humidity"
                    android:textSize="12dp" />

                <TextView
                    android:textColor="#FFFFFF"
                    android:id="@+id/humidity"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="06:40 AM"
                    android:textSize="14dp" />
            </LinearLayout>

            <Space
                android:layout_width="10dp"
                android:layout_height="wrap_content" />

            <LinearLayout
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:background="#3CF1EBF1"
                android:gravity="center"
                android:orientation="vertical"
                android:padding="8dp">

                <ImageView
                    android:layout_width="25dp"
                    android:layout_height="25dp"
                    android:src="@drawable/info"
                    android:tint="#FFFFFF" />

                <Space
                    android:layout_width="wrap_content"
                    android:layout_height="5dp" />

                <TextView
                    android:textColor="#FFFFFF"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Created By"
                    android:textSize="12dp" />

                <TextView
                    android:textColor="#FFFFFF"
                    android:id="@+id/about"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="AndroDocs"
                    android:textSize="14dp" />
            </LinearLayout>
        </LinearLayout>
    </LinearLayout>
</RelativeLayout>

<ProgressBar
    android:id="@+id/loader"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerInParent="true"
    android:visibility="gone" />

<TextView
    android:id="@+id/errorText"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerInParent="true"
    android:text="Something went wrong"
    android:visibility="gone" /> 
```

```
 public class WeatherActivity extends AppCompatActivity {
//    String CITY = "surat";
String API = "8118ed6ee68db2debfaaa5a44c832918";
String locality;
 TextView addressTxt, updated_atTxt, statusTxt, tempTxt, temp_minTxt, temp_maxTxt, 
sunriseTxt,   sunsetTxt, windTxt, pressureTxt, humidityTxt;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    if (Build.VERSION.SDK_INT >= 21) {
        getWindow().clearFlags(67108864);
        getWindow().setStatusBarColor(ContextCompat.getColor(this, 
R.color.weatheract));
    }
    setContentView(R.layout.activity_weather);

    addressTxt = findViewById(R.id.address);
    updated_atTxt = findViewById(R.id.updated_at);
    statusTxt = findViewById(R.id.status);
    tempTxt = findViewById(R.id.temp);
    temp_minTxt = findViewById(R.id.temp_min);
    temp_maxTxt = findViewById(R.id.temp_max);
    sunriseTxt = findViewById(R.id.sunrise);
    sunsetTxt = findViewById(R.id.sunset);
    windTxt = findViewById(R.id.wind);
    pressureTxt = findViewById(R.id.pressure);
    humidityTxt = findViewById(R.id.humidity);

    LocationManager locationManager = (LocationManager) 
getSystemService(Context.LOCATION_SERVICE);
    Criteria criteria = new Criteria();
    if (ContextCompat.checkSelfPermission(this, 
Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED
            && ContextCompat.checkSelfPermission(this, 
Manifest.permission.ACCESS_COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED) {

        Location location = 
locationManager.getLastKnownLocation(locationManager.getBestProvider(criteria, 
false));
        if (location != null) {
            getCity(location.getLatitude(), location.getLongitude());
        }
    }

}

private final void getCity(double d2, double d3) {
    List list;

    try {
        list = new Geocoder(getApplicationContext(), 
Locale.getDefault()).getFromLocation(d2, d3, 1);
        if (list != null && (!list.isEmpty())) {
            locality = ((Address) list.get(0)).getLocality();
            new weatherTask().execute();

        }
    } catch (NullPointerException e2) {

    } catch (IOException e) {
        e.printStackTrace();
    }
}

class weatherTask extends AsyncTask<String, Void, String> {
    @Override
    protected void onPreExecute() {
        super.onPreExecute();

        /* Showing the ProgressBar, Making the main design GONE */
        findViewById(R.id.loader).setVisibility(View.VISIBLE);
        findViewById(R.id.mainContainer).setVisibility(View.GONE);
        findViewById(R.id.errorText).setVisibility(View.GONE);
    }

    protected String doInBackground(String... args) {
        String response = 
HttpRequest.excuteGet("https://api.openweathermap.org/data/2.5/weather?q=" + locality 
+ "&units=metric&appid=" + API);
        return response;
    }

    @Override
    protected void onPostExecute(String result) {

        try {
            JSONObject jsonObj = new JSONObject(result);
            JSONObject main = jsonObj.getJSONObject("main");
            JSONObject sys = jsonObj.getJSONObject("sys");
            JSONObject wind = jsonObj.getJSONObject("wind");
            JSONObject weather = jsonObj.getJSONArray("weather").getJSONObject(0);

            Long updatedAt = jsonObj.getLong("dt");
            String updatedAtText = "Updated at: " + new SimpleDateFormat("dd/MM/yyyy 
hh:mm a", Locale.ENGLISH).format(new Date(updatedAt * 1000));
            String temp = main.getString("temp") + "°C";
            String tempMin = "Min Temp: " + main.getString("temp_min") + "°C";
            String tempMax = "Max Temp: " + main.getString("temp_max") + "°C";
            String pressure = main.getString("pressure");
            String humidity = main.getString("humidity");

            Long sunrise = sys.getLong("sunrise");
            Long sunset = sys.getLong("sunset");
            String windSpeed = wind.getString("speed");
            String weatherDescription = weather.getString("description");

            String address = jsonObj.getString("name") + ", " + 
sys.getString("country");

            /* Populating extracted data into our views */
            addressTxt.setText(address);
            updated_atTxt.setText(updatedAtText);
            statusTxt.setText(weatherDescription.toUpperCase());
            tempTxt.setText(temp);
            temp_minTxt.setText(tempMin);
            temp_maxTxt.setText(tempMax);
            sunriseTxt.setText(new SimpleDateFormat("hh:mm a", 
Locale.ENGLISH).format(new Date(sunrise * 1000)));
            sunsetTxt.setText(new SimpleDateFormat("hh:mm a", 
Locale.ENGLISH).format(new Date(sunset * 1000)));
            windTxt.setText(windSpeed);
            pressureTxt.setText(pressure);
            humidityTxt.setText(humidity);

            /* Views populated, Hiding the loader, Showing the main design */
            findViewById(R.id.loader).setVisibility(View.GONE);
            findViewById(R.id.mainContainer).setVisibility(View.VISIBLE);

        } catch (JSONException e) {
            findViewById(R.id.loader).setVisibility(View.GONE);
            findViewById(R.id.errorText).setVisibility(View.VISIBLE);
        }

    }
}

} 
```

# php - PHP/MySQL：以不同的方式对结果进行排序

> ID：15425291
> 
> 赞同：0
> 
> 时间：2013-03-15T05:19:33.880
> 
> 标签：php, mysql

我必须表，`contacts`和`groups`。
里面`contacts`我有 3 列：`id` `first_name` `last_last`
里面`groups`我有 2 列：`id` `linked`

我想将联系人分组。所以我认为最好的方法是，当您将联系人添加到组时，它会将联系人 ID 添加到列中以逗号分隔的联系人 ID 列表中`linked`。

因此，如果您将联系人 1、4、14 和 24 添加到特定组，则该`linked`列将具有此值`1,4,14,24`

现在我想显示该组中的联系人。所以我`explode()`的`linked`值，然后使用 a`foreach()`在展开的数组中循环，并在每个循环中通过 MySQL 选择该联系人的名字和姓氏并显示它。

所有这些工作正常。我的问题是我意识到我想对该组中显示的联系人进行排序。但它们按照它们在组中的排列顺序显示。

我希望能够按名字升序或降序排序，但我不知道如何排序，因为我选择了 a 中的每个联系人`foreach()`并对其进行回显。

PS我想可能会在联系人上创建一个列`groups`并存储联系人的所有组，就像我存储组中的所有联系人一样。因此，如果联系人位于组 1、2、4 和 6 中，则该联系人`groups`列的值为`1,2,4,6`。唯一的问题是，假设我正在搜索第 6 组中的所有联系人，我如何在 MySQL 语句中搜索该列表？我认为最好的方法是`SELECT first_name FROM contacts WHERE groups LIKE '%6%'`，但是如果联系人在第 60 组中怎么办？即使它不在正确的组中，它也不会选择该联系人吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T08:38:20.667

不要在数据库的同一字段中存储多个值！正如您所观察到的，当您想分别处理每个值时会遇到问题。

在您的情况下，为该人所属的每个组在组表中插入一行。将两个表连接起来，以您想要的方式获取信息。

例如：查找圣诞老人所属的组：

```
SELECT groups.id 
FROM contacts
INNER JOIN groups 
ON groups.linked = contacts.id
WHERE firstname = 'Santa' AND lastname = 'Claus' 
```

或查找谁在第 1 组中：

```
SELECT firstname, lastname 
FROM contacts
INNER JOIN groups
ON groups.linked = contacts.id
WHERE groups.id = 1
ORDER BY lastname, firstname 
```

要将结果作为逗号分隔的列表，您可以使用以下`GROUP_CONCAT`函数：

```
SELECT groups.id,
       GROUP_CONCAT(firstname, ' ', lastname
                    ORDER BY lastname SEPARATOR ', ') AS groups 
FROM contacts
INNER JOIN groups
ON groups.linked = contacts.id
GROUP BY groups.id 
```

为了存储组名，您可能会受益于使用 3 个表

联系人（身份证、名字、姓氏）

组（id，组名）

Group_membership (contact_id, group_id)

# android - 如何将 Android 应用程序的安装限制为仅限高级用户。

> ID：15425298
> 
> 赞同：0
> 
> 时间：2013-03-15T05:20:23.453
> 
> 标签：android, google-play

描述：我有跟踪应用程序，我将其发布在 Google Play 上。我有两个版本的应用程序，一个是免费版本，另一个是高级用户。

在免费版本中，任何一次都可以从 Google play 下载我的应用程序。

对于高级版本：我将为购买它的特定用户授予应用程序许可..

问题：我不希望我的高级版应用程序被共享到其他设备。我希望将高级版应用程序安装给购买它的人，并且我将域提供给可以从网页跟踪他/她的记录的高级用户......

谁能告诉我如何维护这些记录，以便我可以限制我的高级版应用程序从其他设备安装...

我认为的一些解决方案是：当用户安装应用程序时，我将保留一个 IMEI 号码和许可证代码，我将阻止该许可证..

任何其他解决方案请建议我...

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:31:37.717

请不要这样做。这与用户的期望不一致。

Google Play 允许您付费发布您的应用程序（或其版本）。Google 会从中收取交易费，而您会收到其余的。作为交换，用户可以在他们的帐户所链接的任何设备上安装该应用程序。

像您建议的那样添加任意限制会使用户感到沮丧；我强烈建议您避免使用它，除非您有非常令人信服的理由来实施它们。

编辑：正如该线程中其他地方所指出的，您可以`DeviceLimiter`从许可 API 中使用。由于上述其他原因，我仍然建议不要这样做，但这是*可能的*。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:31:24.643

您可以允许任何人安装它，但要求登录。这样，只有注册用户才能使用该应用程序。

只为购买该应用程序的人提供许可证号。首次登录时询问并验证许可证号。

# javascript - 如何以编程方式更改 jquerymobile 页面并将数据发送到该页面？

> ID：15425306
> 
> 赞同：4
> 
> 时间：2013-03-15T05:20:51.150
> 
> 标签：javascript, jquery, jquery-mobile

伙计们！
我使用 jquerymobile 1.3.0 和 jquery 1.9.1
我有 2（更多）jquerymobile 页面。
例如：

```
<div data-role="page" id="firstPage">
    <!-- Header -->
    <div data-role="header">
        <h3>First page</h3>
    </div>
    <!-- Body -->
    <div data-role="content">
        some content ...
    </div>
</div>

<div data-role="page" id="secondPage">
    <!-- Header -->
    <div data-role="header">
        <h3>Second page</h3>
    </div>
    <!-- Body -->
    <div data-role="content">
        some content ...
    </div>
</div> 
```

我需要从第一页更改为第二页，并发送一些参数通常是
我尝试使用此方法的 URL：

```
$.mobile.changePage('#secondPage',
    {
        data: {id: 123, module: 111}
    }
); 
```

使用此方法后，第一页上的元素被隐藏，url 被更改，
`www.mydomain.com/main.html?id=123&module=111` 但页面没有更改。我认为为了将页面更改为 URL 到此页面的哈希。
并且 URL 必须是以下形式

```
www.mydomain.com/main.html?id=123&module=111#secondPage 
```

然后我尝试使用：

```
location.href += '?id=1234&module=111#secondPage'; 
```

这种方法是有效的）））但是当我尝试返回第一页时，页面已更改，但在 URL 中仍保留数据

```
www.mydomain.com/main.html?id=123&module=111 
```

然后我尝试使用下一个方法删除这些数据

```
location.href = location.href.replace(location.origin, "").replace(location.pathname, ""); 
```

但是在这种方法之后，我的 firstPage 被循环更改。
请帮助各位。当我返回到 firstPage 时，如何将数据发送到 secondPage 并删除这些数据？
我的后退按钮使用原生 jquerymobile 方法返回。

```
<a data-theme="a" data-role="button" data-transition="fade" href="#firstPage" data-iconpos="notext" class="ui-btn-left backButton"></a> 
```

附言。对不起我的英语，我的英语水平是初级的

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-11T23:17:54.657

如果您在一个 html 中定义两个页面，则不必将参数发送到具有 URL 的其他页面。只需使用 javascript 变量和页面事件来使用它们。

如果您使用 URL 参数来运行服务器端代码，只需使用不同的 .html 文件。一个 html 文件，一种页面样式。

但是对于移动设备上的平滑过渡效果和最佳用户实验，我更喜欢使用 AJAX 并实时创建/更改页面，

此致

# android - 找不到启动器活动错误？

> ID：15425309
> 
> 赞同：0
> 
> 时间：2013-03-15T05:21:08.297
> 
> 标签：android

我的应用程序运行没有错误，但我不知道为什么它突然显示此错误：-

> 未找到启动器活动！
> 
> 启动只会同步设备上的应用程序包！

我已经搜索并发现了许多关于堆栈溢出的链接和问题，但无法解决：- 这是我的 manyfest 文件：-

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.flashdeal"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk android:minSdkVersion="9" />

<!-- All Required Permissions Are Start Here -->
<permission
    android:name="com.flashdeal.permission.C2D_MESSAGE"
    android:protectionLevel="signature" />

<uses-permission android:name="com.flashdeal.permission.C2D_MESSAGE" />
<!-- App receives GCM messages. -->
<uses-permission android:name="com.google.android.c2dm.permission.RECEIVE" />
<uses-permission android:name="android.permission.WAKE_LOCK" />
<!-- GCM connects to Google Services. -->
<uses-permission android:name="android.permission.INTERNET" />
<!-- GCM requires a Google account. -->
<uses-permission android:name="android.permission.GET_ACCOUNTS" />
<!-- Keeps the processor from sleeping when a message is received. -->

<uses-permission android:name="android.permission.READ_PHONE_STATE" />
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
<uses-permission android:name="com.google.android.providers.gsf.permission.READ_GSERVICES" />
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
<uses-permission android:name="android.permission.ACCOUNT_MANAGER" />
<uses-permission android:name="android.permission.SEND_SMS" >
</uses-permission>
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" >
    <uses-feature android:name="android.hardware.camera" />
    <uses-feature android:name="android.hardware.camera.autofocus" />

    <uses-permission android:name="android.permission.CAMERA" />
    <!-- Allows access to the flashlight -->
    <uses-permission android:name="android.permission.FLASHLIGHT" />

    <uses-feature android:name="android.hardware.camera.flash" />

    <uses-permission android:name="android.permission.VIBRATE" >
    </uses-permission>

    <application
        android:icon="@drawable/ic_launcher"
        android:label="@string/app_name" >
        <uses-library android:name="com.google.android.maps" />

        <activity
            android:name=".AppSplashScreen"
            android:label="@string/app_name"
            android:screenOrientation="portrait" >
            <meta-data
                android:name="android.support.PARENT_ACTIVITY"
                android:value="AppSplashScreen" />

            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
        <activity
            android:name="com.flashdeal.autocomplete.SearchLocation"
            android:screenOrientation="portrait" >
        </activity>
        <activity
            android:name=".AppLoginActivity"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.Black.NoTitleBar" >
        </activity>
        <activity
            android:name=".RegistrationActivity"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.Black.NoTitleBar"
            android:windowSoftInputMode="stateHidden" >
        </activity>
        <activity
            android:name=".FollowerUser"
            android:screenOrientation="portrait" >
        </activity>
        <activity
            android:name=".UserHistory"
            android:screenOrientation="portrait" >
        </activity>
        <activity
            android:name=".FollowingUsers"
            android:screenOrientation="portrait" >
        </activity>
        <activity
            android:name=".ShowProfile"
            android:screenOrientation="portrait" />
        <activity
            android:name="com.flashdeal.map.DealLocationOnMap"
            android:screenOrientation="portrait" >
        </activity>
        <activity
            android:name=".SeeUserDetail"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.Black.NoTitleBar" >
        </activity>
        <activity
            android:name="com.flashdeal.map.MapGroupData"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.Translucent" >
        </activity>
        <activity
            android:name=".MainActivity"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.Black.NoTitleBar" >
        </activity>
        <activity
            android:name=".LikeUserScreen"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.Black.NoTitleBar" >
        </activity>
        <activity
            android:name=".ShowOtherUserDeal"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.Black.NoTitleBar" >
        </activity>
        <activity
            android:name=".SearchUser"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.Black.NoTitleBar" >
        </activity>
        <activity
            android:name=".DealDetailPage"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.Black.NoTitleBar" >
        </activity>
        <activity
            android:name=".ChooseBusiness"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.Black.NoTitleBar" >
        </activity>
        <activity android:name=".AboutApp" >
        </activity>
        <activity
            android:name=".AppMenuScreen"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.Black.NoTitleBar" >
        </activity>
        <activity
            android:name=".MyFavouriteList"
            android:screenOrientation="portrait" >
        </activity>
        <activity
            android:name=".ChooseDealLocation"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.Black.NoTitleBar" >
        </activity>
        <activity
            android:name="com.flashdeal.mycamera.CaptureDealImage"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.NoTitleBar.Fullscreen" >
        </activity>
        <activity
            android:name=".CreateDeal"
            android:screenOrientation="portrait"
            android:windowSoftInputMode="stateHidden" >

            <!-- android:windowSoftInputMode="adjustResize" -->
        </activity>
        <activity
            android:name=".QRCodeWebView"
            android:screenOrientation="portrait" >
        </activity>
        <activity
            android:name="com.flashdeal.mycamera.SetDealImageCategory"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.Black.NoTitleBar" >
        </activity>
        <activity
            android:name=".UserProfileActivity"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.Black.NoTitleBar" />
        <activity
            android:name=".ChangePasswordActivity"
            android:theme="@android:style/Theme.Translucent" />
        <activity
            android:name=".Twitt"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.Black.NoTitleBar" />
        <activity
            android:name="com.flashdeal.twitter.Twitt"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.Black.NoTitleBar" />

        <meta-data
            android:name="com.facebook.sdk.ApplicationId"
            android:value="@string/app_id" />

        <activity android:name="com.facebook.LoginActivity" />
        <activity
            android:name="com.flashdeal.twitter.Twitt2"
            android:theme="@style/Theme.Transparent" />
        <activity
            android:name=".MainTabActivity"
            android:screenOrientation="portrait" />
        <activity
            android:name=".MoreOptionActivity"
            android:screenOrientation="portrait" />
        <activity
            android:name=".showDealsActivity"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.Black.NoTitleBar" />
        <activity
            android:name=".TempActivity"
            android:screenOrientation="portrait" />
        <activity
            android:name=".SettingsActivity"
            android:screenOrientation="portrait" />
        <activity
            android:name=".ProfileActivity"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.Black.NoTitleBar" >
        </activity>
        <activity
            android:name=".EditIndividualProfileActivity"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.Black.NoTitleBar" >
        </activity>
        <activity
            android:name=".EditProfileActivity"
            android:screenOrientation="portrait"
            android:theme="@android:style/Theme.Black.NoTitleBar"
            android:windowSoftInputMode="stateHidden" >
        </activity>
        <activity
            android:name="com.google.zxing.client.android.CaptureActivity"
            android:configChanges="orientation|keyboardHidden"
            android:screenOrientation="landscape"
            android:theme="@android:style/Theme.NoTitleBar.Fullscreen"
            android:windowSoftInputMode="stateAlwaysHidden" >
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
            <intent-filter>
                <action android:name="com.google.zxing.client.android.SCAN" />

                <category android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>
        <activity android:name="com.flashdeal.qrcode.Options" >
        </activity>
        <activity android:name="com.flashdeal.qrcode.QRScanner" >
        </activity>
        <!-- GCM BroadCastReciever start -->

        <receiver
            android:name="com.google.android.gcm.GCMBroadcastReceiver"
            android:permission="com.google.android.c2dm.permission.SEND" >
            <intent-filter>
                <action android:name="com.google.android.c2dm.intent.RECEIVE" />
                <action android:name="com.google.android.c2dm.intent.REGISTRATION" />

                <category android:name="com.flashdeal" />
            </intent-filter>
        </receiver>
        <!-- GCM BroadCastReciever End -->
        <service android:name=".GCMIntentService" />
    </application>
</uses-permission> 
```

任何人都可以指导我哪里错了，因为应用程序会在一段时间之前显示此错误。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:44:45.847

`android:name`在为*活动*标签赋值时检查你的包结构。

**例如 ：**

如果您的包结构 `com.xxx.yy.app`是这样的，并且您的所有活动都位于 app 文件夹中，那么您可以提供`android:name=".yourActivityName"`活动*标签*。

如果 app 文件夹有一个子文件夹，并且其中一些`Activities`位于该子文件夹中，那么您可以提供`android:name=".subfoldername.yourActivityName"`活动*标签*。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T05:52:49.703

您没有正确关闭 uses-permission 标签

```
<uses-permission android:name="android.permission.ACCOUNT_MANAGER" />
<uses-permission android:name="android.permission.SEND_SMS" >
</uses-permission>
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" >
....
....
....
<!-- GCM BroadCastReciever End -->
        <service android:name=".GCMIntentService" />
    **</application>
</uses-permission>** 
```

那是在页面末尾关闭的。删除它会起作用

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T05:54:18.417

当我从项目备份中复制清单时，我的问题将得到解决，但我不知道为什么会出现这个问题..

# c - 反四元数

> ID：15425313
> 
> 赞同：0
> 
> 时间：2013-03-15T05:21:24.050
> 
> 标签：c, quaternions

谁能告诉我如何得到四元数的倒数。

```
q-1=q'/(q*q') 
```

q' = 四元数共轭

(q*q') = 四元数的范数 * 四元数的范数

我有我的四元数：（C语言）

```
quat.x = 0.0;
quat.y = 1.0;
quat.z = 0.0;
quat.w = 45.0; 
```

第一个共轭：

```
quat.conjx =  0.0;
quat.conjy = -1.0;
quat.conjz =  0.0;
quat.conjw = 45.0; 
```

下一个：规范

```
quat.norm = sqrt(quat.x*quat.x + quat.y*quat.y + quat.z*quat.z + quat.w*quat.w); 
```

好的，但是...如何使用 C 语法计算逆？这是正确的？：

```
quat.invx = quat.conjx / (quat.norm*quat.norm);
quat.invy = quat.conjy / (quat.norm*quat.norm);
quat.invz = quat.conjz / (quat.norm*quat.norm);
quat.invw = quat.conjw / (quat.norm*quat.norm); 
```

非常感谢您的帮助

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T05:35:46.090

*四元数x* + i *y* + j *z* + k *w*的共轭定义为*x* - i *y* - j *z* - k *w*。没有三个单独的共轭。另外，不要尝试将`norm`, `invx`, `invy`, `invz`,`conjx`等放入四元数结构中。写吧：

```
typedef struct {
    double x;
    double y;
    double z;
    double w;
} quaternion; 
```

然后编写将四元数作为参数并返回它们的函数。例如，写：

```
// Construct and return the conjugate of q.
quaternion q_conjugate(const quaternion q) { ...}
// Divide quaternion q by scalar d
quaternion q_divide(const quaternion q, const double divisor) {...}
// Compute the squared norm of q
double q_squared_norm(const quaternion q) {...}
// Compute the inverse of q
quaternion q_inverse(const quaternion q); 
```

# java - 调用 Enum 类以供参考

> ID：15425321
> 
> 赞同：0
> 
> 时间：2013-03-15T05:22:12.507
> 
> 标签：java

我在下面列出了这个枚举类。枚举类是：

```
public enum Direction {

    NORTH,
    SOUTH,
    EAST, 
    WEST,
    NOWHERE
} 
```

并且说明是当我从另一个名为车辆的类中移动车辆时，它会返回一个方向（北、南、东或西）移动，这将使汽车离目标目的地更近一步。调用`nextMove()`应该修改 Vehicle 对象的内部状态，以在给定返回方向的情况下反映其新位置。如果 Car 的当前位置等于目标目的地，`nextMove`则应返回“NOWHERE”。所以我试图解决这个创建 if 语句，例如，如果它向北，那么它将打印 NORTH，反之亦然。这是规格和我的尝试：

如果汽车在位置 (3, 10) 并决定向北移动，那么它将移动到位置 (3, 11)。一般来说，如果一辆车从 (x, y) 位置向“北”移动，它将最终到达 (x, y+1) 位置，从 (x, y) 向“南”移动到 (x, y-1) 位置)、“东”(x+1, y) 和“西”(x-1, y)。例如，如果物体向上移动，那么它会说“NORTH”。

当前尝试：

```
 public void Direction(Direction togo)  
        {
            if((yDestination+1)>yDestination)
            {
                System.out.println("NORTH");
            }

            if((yDestination-1)<yDestination)
            {
                System.out.println("SOUTH");
            }
            if((xCar+1)>xCar)
            {
                System.out.println("EAST");
            }
            if((xCar-1)<xCar)
            {
                System.out.println("WEST");
            } 
```

我试图通过 if 语句来回答上面的这个问题，但我很确定有什么问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:38:39.607

试试这个.. xPosition 和 yPosition 是汽车的当前 (x,y)。

```
class Car
{
    int xPosition = 0;
    int yPosition = 0;

    public void nextMove(Direction direction)  
    {
        switch (direction)
        {
            case NORTH:
                yPosition += 1;
                break;
            case SOUTH:
                yPosition -= 1;
                break;
            case EAST:
                xPosition += 1;
                break;
            case WEST:
                xPosition -= 1;
                break;
        }
        System.out.println(direction);
    }
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:36:01.920

```
According to your code,all the conditions will execute. Try out this..

Class Vehicle
{
    private int currentX,CurrentY;

    public void printDirection(int modifiedX,int modifiedY)
     {
            if(modifiedY>CurrentY)
            {
                System.out.println(Direction.NORTH);
            }

            if(modifiedY<CurrentY)
            {
                System.out.println(Direction.SOUTH);
            }
            if( modifiedX>currentX)
            {
                System.out.println(Direction.EAST);
            }
            if(modifiedX<currentX)
            {
                System.out.println(Direction.WEST);
            }
            currentX=modifiedX;
            currentY=modifiedY;
         }

          public static void main()
           { 
             Vehicle myVehicle = new Vehicle();
             myVehicle.printDirection(0,1);
           }
} 
```

# php - AWS PHP SDK：缓存 SQS getQueueUrl

> ID：15425323
> 
> 赞同：0
> 
> 时间：2013-03-15T05:22:16.747
> 
> 标签：php, caching, sdk, amazon-sqs

我刚刚开始使用`Amazon SQS`.

为了发出请求，我必须首先调用`$sqs->GetQueueURL(...)`以检索队列的完整 URL。

即：[https ://sqs.ap-southeast-1.amazonaws.com/XXXXXXX/QUEUENAME](https://sqs.ap-southeast-1.amazonaws.com/XXXXXXX/QUEUENAME)

据我所知，每次调用队列上的操作（即：`ReceiveMessage`或`SendMessage`）之前，我都需要发出这个请求。

是否有`AWS PHP SDK`对缓存这些 URL 的内置支持？它会自动执行吗？

我似乎无法找到有关默认情况下发生什么（如果有）缓存的任何细节。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-05-28T20:06:45.803

您不必每次都拉队列 url，因为它不会改变。

去 sqs 领事馆，检查你所有的队列。然后复制您需要的网址并使用它。

# php - php配置错误

> ID：15425326
> 
> 赞同：0
> 
> 时间：2013-03-15T05:22:26.930
> 
> 标签：php, mysql, phpmyadmin

我的 php 文件工作正常，但今天当我检查它们时出现以下错误。

```
Warning: require_once(Connections/deal.php) [function.require-once]: failed to open stream: No such file or directory in C:\complete project\ordering system\orderingcart.php on line 1

Fatal error: require_once() [function.require]: Failed opening required 'Connections/orders.php' (include_path='.;C:\php\pear') in C:\complete project\orderingcart.php on line 1 
```

我不知道如何解决这些错误，我从哪里开始？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:26:02.757

这听起来像是文件已移动或文件权限已更改，以防止服务器帐户（通常是 www-data）访问它。

通过提供绝对路径而不是相对路径来尝试访问文件，您可能也会有更好的运气，例如：

```
<?php

      $lines = file("C:\\Documents and Settings\\myfile.txt");

      foreach($lines as $line){
         echo($line);
       }

 ?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:31:07.103

这意味着，您提供的路径`require_once()`无效。你有两个选择，

1.检查路径`Connections/deal.php`是否正确。`Connections`在放置此运行文件的文件夹中是否有文件夹？`deal.php`那个文件夹里面有吗`Connections`？

我认为您的运行文件路径是`C:\complete project\ordering system\orderingcart.php`. 它没有这样的文件夹和文件。**因此，将您的 Connections 文件夹放入`C:\complete project\ordering system\`并结帐**。

2.否则，如果将行更改为 ，则可以运行该页面而不会出现致命错误`include_once(Connections/deal.php)`。关联的功能`deal.php`将被停用。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T05:35:07.950

此文件路径问题给出完整的文件位置，如

如果是窗户

require_once('C:/complete project/Connections/deal.php');

以供参考

[http://php.net/manual/en/function.realpath.php](http://php.net/manual/en/function.realpath.php)

# web - Lighthouse3D 网页上的 403 错误

> ID：15425339
> 
> 赞同：0
> 
> 时间：2013-03-15T05:24:05.050
> 
> 标签：web, http-status-code-403

我真的很生气，Lighthouse 教程网站（**[http://www.lighthouse3d.com/](http://www.lighthouse3d.com/)**）正在向我抛出 403error 被禁止。你不知道他们在做什么，或者将来会在网上吗？我的学校需要它。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T05:29:43.860

可能是他们做了一些事情，或者如果网站需要某种身份验证，他们没有提供解决方案或解释。尝试加载它，同样发生。可能是 Apache 服务器和 mods 必须重新启动或修复。我得到了很多次 403 错误，比如当我尝试打开 www.openlicenser.org 时也会抛出这个错误，我认为它还没有修复。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-16T19:01:54.093

正如鲁道夫所说，该网站在服务器端遇到问题。

但是，如果您想紧急检查，这里有一个有用的链接：

[http://web.archive.org/web/20130216083928/http://www.lighthouse3d.com/](http://web.archive.org/web/20130216083928/http://www.lighthouse3d.com/)

# php - 什么用户是 Web 服务器的守护进程？

> ID：15425342
> 
> 赞同：0
> 
> 时间：2013-03-15T05:24:25.490
> 
> 标签：php, amazon-web-services, daemon, bitnami

在我的网络服务器上，如果我这样做`<?php echo exec('whoami'); ?>`，它会返回`daemon`.

在我的网站上我上传文件，它说没有授予该用户权限。`daemon`Web 服务器上的用户或组是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:45:27.423

您还应该能够执行以下操作：

```
ps aux | grep -i httpd 
```

那应该列出启动 Apache 进程的帐户。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:27:28.567

取决于系统的配置。我假设您有 Unix 的味道，因此您需要查看`/etc/passed`并`/etc/group`获得答案。还要查看服务器的配置文件。在 Apache 的情况下，它将是`httpd.conf`并且该位置是可配置的。

**编辑**

供您查看的参考资料

1.  [密码](http://linux.die.net/man/5/passwd)
2.  [团体](http://linux.die.net/man/5/group)
3.  [chgrp](http://linux.die.net/man/1/chgrp)
4.  [修改](http://linux.die.net/man/1/chmod)
5.  [chown](http://linux.die.net/man/1/chown)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T05:35:27.880

检查`httpd.conf`用户和组。这可能是`daemon:daemon`。

您可以使用`chmod`更改对目录的访问权限或更改服务器的用户。

# vb.net - nullreferenceexception in gridview when header is clicked

> ID：15425350
> 
> 赞同：1
> 
> 时间：2013-03-15T05:24:47.367
> 
> 标签：vb.net, datagridview, nullreferenceexception

In my DataGridView selectionChange i have this code, so when the row change the texbox also changes. the code below works, i click the row and it displays right, also when i press up/down arrows. My problem is when I click somwhere in the `Header` of the grid i have this nullreferenceexception error `Object reference not set to an instance of an object.`. I don't have idea how to handle it, since i down know what it returns.

```
Private Sub DataGridView1_SelectionChanged(ByVal sender As Object, ByVal e As System.EventArgs) Handles DataGridView1.SelectionChanged
    Dim index As Integer
    index = DataGridView1.CurrentCell.RowIndex '<<<<--problem here when I click the header
    If (index <= maxrows - 1) Or (index <> Nothing) Then
        TextBox2.Text = DataGridView1.Item(1, index).Value()
        TextBox3.Text = DataGridView1.Item(2, index).Value()
        TextBox4.Text = DataGridView1.Item(3, index).Value()
    End If
End Sub 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:42:48.547

A null reference is raised whenever you get the RowIndex wherein there is no ROW is selected.
Clicking the header calls SORT and this clears the selection.
This will help you get rid of the nullreference exception

```
 If DatagridView1.SelectedRows.Count = 0 Then
        Msgbox "Nothing Selected"
        Exit Sub 'Trapping
    End If 
```

Code:

```
Private Sub DataGridView1_SelectionChanged(ByVal sender As Object, ByVal e As System.EventArgs) Handles DataGridView1.SelectionChanged
    If DatagridView1.SelectedRows.Count = 0 Then
        Msgbox "Nothing Selected"
        Exit Sub 'Trapping
    End If

    Dim index As Integer
    With DataGridView
        index = .CurrentRow.RowIndex
        If (index <= maxrows - 1) Then
            TextBox2.Text = .Item(1, index).Value()
            TextBox3.Text = .Item(2, index).Value()
            TextBox4.Text = .Item(3, index).Value()
        End If
    End With
End Sub 
```

# hadoop - 如何在hadoop中释放dfs空间？

> ID：15425351
> 
> 赞同：1
> 
> 时间：2013-03-15T05:24:48.713
> 
> 标签：hadoop, hbase

我已经从 hbase 的 2500 万行中清空了一列。我是否需要在表上进行压缩以重新获得 hbase 中未使用的空间。

当前 dfs 使用率为 93%，无法启动作业。

任何想法如何重新获得空间？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T20:54:45.010

您应该尝试运行主要压缩以查看是否可以修复它。您可能还会遇到[HBASE-6564](https://issues.apache.org/jira/browse/HBASE-6564)问题，该问题已在 0.95.0 中修复。

# opengl - 不明白 glutPostRedisplay 和 glIdleFunc

> ID：15425354
> 
> 赞同：2
> 
> 时间：2013-03-15T05:24:54.600
> 
> 标签：opengl

我不太明白它`glutPostRedisplay()`是用来做什么的。似乎当我在我的函数中调用它时，`display()`将在下一帧调用函数。但是我不知道该功能与动画有何关系。我们经常将用于物理计算的函数注册为`Idle`函数并在那里进行一些计算。但是，如果我们改变参数，比如旋转，动画对象的位置，即使我们不调用它`glutPostRedisplay()`，`display()`函数本身也会重新绘制场景。为什么我们需要打电话`glutPostRedisplay()`？

第二个问题是关于`glutIdleFunc()`。我的问题是：CPU 是否可能太忙以至于我们在每一帧都没有空闲时间？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T10:45:14.103

这是一些说明 GLUT 主循环的伪代码

```
redisplay = True

glutMainLoop:

    ...

    forever:
        switch(eventsPoll):
            case KEYBOARD:
                if(eventKey):
                    call_keyboardFunction
            case MOUSE:
                if(eventMouseMove):
                    if(mousebutton_pressed):
                        call_mouseMotionFunc
                    else:
                        call_passiveMotionFunc
                if(eventMouseButton):
                    call_mouseFunc
            case ... // other input events

        if( redisplay ):
            call_displayFunc
            redisplay = False
        else
            call_idleFunc

glutPostRedisplay:
    redisplay = True 
```

glutPostRedisplay 的目的是设置向 glutMainLoop 指示的标志，在其下一次迭代中它将调用显示函数。

# web - 在桌面上如何禁用与电话号码的链接？

> ID：15425356
> 
> 赞同：26
> 
> 时间：2013-03-15T05:25:00.190
> 
> 标签：web, tel

当我在不支持触摸的网站上浏览时，如何将电话号码添加到可点击但隐藏链接的网站。

我可以使用 Modernizr 来设置它。我不知道怎么做。

```
<a href="tel:1300723579"><p><img src="assets/images/bt_calltoaction.gif" alt="View Projects" width="306" height="60"></p></a> 
```

* * *

## 回答 #1

> 赞同：34
> 
> 时间：2014-02-11T11:35:36.127

你能把代码输入两次吗？IE..

```
<div class="desktoptel">0800 000 000</div>
<div class="mobiletel"><a href="tel:0800-000-000">0800-000-000</div> 
```

然后只是'显示：无;' 根据您的浏览器大小在相关类上？

* * *

## 回答 #2

> 赞同：9
> 
> 时间：2014-01-01T08:39:07.620

我只是在处理这个问题，查找解决方案，然后我找到了这个线程（以及其他一些线程）。我不得不承认我无法让它们中的任何一个正常工作。我确定我做错了什么，但我确实发现了作弊。

正如其他人指出的那样，更改 CSS 以隐藏可见的链接指示 ( `color`, `text-decoration`, `cursor`) 是第一步也是最简单的一步。作弊是`title`为`tel`链接定义一个。

```
<p>Just call us at <a class="cssclassname" href="tel:18005555555" 
title="CLICK TO DIAL - Mobile Only">(800) 555-5555</a>.</p> 
```

通过这样做，不仅链接的可见指示符被伪装（通过 CSS - 参见其他人的示例），而且如果有人确实将鼠标悬停在链接上，标题将弹出并显示“点击拨号 - 仅限移动设备”。这样，不仅有更好的用户体验，而且您的客户也不会指责您的链接断开！

* * *

## 回答 #3

> 赞同：7
> 
> 时间：2014-09-06T10:48:07.250

对我来说，没有任何新类/设置的最简单但最简单的方法是通过 css：

```
a{
    color: #3399ff;
}

a[href^="tel"]:link,
a[href^="tel"]:visited, 
a[href^="tel"]:hover {
    text-decoration: none;
    color: #000;

    pointer-events: none;
    cursor: default;
}

/* Adjust px here (1024px for tablets maybe) */
@media only screen and (max-device-width: 480px) { 
    a[href^="tel"]:link,
    a[href^="tel"]:visited,
    a[href^="tel"]:hover {
        text-decoration: underline;
        color: #3399ff;

        pointer-events: auto;
        cursor: pointer;
    }
} 
```

Html 就像这样：

```
<a href="tel:+123-456-7">(+12)3 456 7</a> 
```

这适用于现代浏览器和 IE 11+。如果您需要包含 8 < IE < 11，请将以下内容添加到您的 javascript 中，因为指针事件在 IE 中不起作用：

```
var msie = window.navigator.userAgent.indexOf("MSIE ");

if (msie > 0){
    var Elems = [], Tags = document.querySelectorAll("a[href^='tel']");

    //Nodelist to array, so we're able to manipulate the elements
    for (var i = 0; i < Tags.length; i++ ) {
        Elems[ i ] = Tags[ i ];
    }

    for(var i = 0; i < Elems.length; i++){
        Elems[ i ].removeAttribute('href');
    }
} 
```

编辑：我在另一个线程上找到了另一个答案，这可能对你有用 - 所以[- 答案](https://stackoverflow.com/a/10276157 "关联")

* * *

## 回答 #4

> 赞同：6
> 
> 时间：2013-03-15T16:47:19.077

我最近遇到了同样的问题。这个问题遍布stackoverflow和其他任何地方。你如何隐藏'tel：'前缀并防止它在常规浏览器中爆炸。没有好的单一答案。

我最终这样做了：

首先，我使用元语言根据用户代理字符串过滤浏览器与移动设备（如 php/coldfusion/perl）：

```
regular exp match for "/Android|webOS|iPhone|iPad|BlackBerry/i",CGI.HTTP_USER_AGENT 
```

这为我提供了桌面浏览器与手机的 if/else 条件。

接下来，我的 href 标记如下所示：`<a class="tel" id='tel:8005551212' href=''>800-555-1212</a>`

使用 CSS 为桌面样式表中的 .tel 类设置样式，使其看起来不像桌面浏览器的链接。电话号码仍然可以点击，但不明显，它不会做任何事情：

```
/* this is in default stylesheet, styles.css: */
.tel{
    text-decoration:none;
    color: #000;
    cursor:default;
}
/* it should be re-styled in mobile css: */
.tel{
    text-decoration: underline;
    color: #0000CC;
    cursor:auto;
} 
```

最后，我在移动链接上做了一点 jquery。jQuery 从 a.tel 类中获取 id，并将其插入到 href 属性中，这使得电话用户可以点击它。

整个事情看起来像这样：

```
<!-- get regular CSS -->
<link rel="stylesheet" href="styles/styles.css" type="text/css" media="Screen" />

<!-- get user agent in meta language. and do if/else on result. 
 i'm not going to write that part here, other than pseudocode: -->

if( device is mobile ) {

    <!-- load mobile CSS -->
    <link rel="stylesheet" href="styles/mobile.css" type="text/css" media="handheld" />

    <!-- run jQuery manipulation -->
    <script>
        $(function(){$('a.tel').prop('href',$('a.tel').prop('id'));});
    </script>
}

<p> Call us today at <a class="tel" id='tel:8005551212' href=''>800-555-1212</a>!</p> 
```

这种方法的一个警告：id 应该是唯一的。如果您要链接的页面上有重复的电话号码，请将 id 更改为 name，然后使用 jQuery 循环访问它们。

* * *

## 回答 #5

> 赞同：6
> 
> 时间：2017-11-27T07:08:13.607

您可以使用 css 媒体查询来控制何时将其视为链接以及何时不视为链接。

```
@media(min-width:768px){
 a[href^="tel:"] {
  pointer-events: none;
 }
} 
```

低于 768px 的任何内容都将作为链接，在此之上，就像文本一样。

* * *

## 回答 #6

> 赞同：3
> 
> 时间：2015-02-19T06:57:55.240

如果您只想禁用移动屏幕上的点击：

```
if(typeof window.orientation !== 'undefined'){
    $('a[href^="tel:"]').on('click', function(e){
        e.preventDefaults();
    });
} 
```

希望这可以帮助 ：）

* * *

## 回答 #7

> 赞同：2
> 
> 时间：2014-05-27T15:52:49.060

我使用 Modernizr 取得了成功，特别是`touch`测试。这不是一个完美的解决方案，因为它对平板电脑或支持触控的笔记本电脑没有任何帮助，但它适用于大多数桌面浏览情况。

HTML：

`Call us at: <a href="tel:1-800-BOLOGNA" class="call-us">1-800-BOLOGNA</a>`

CSS：

```
.no-touch a.call-us {
  color: black;            /* use default text color */
  pointer-events: none;    /* prevents click event */
  cursor: text;            /* use text highlight cursor*/
} 
```

上述 CSS 的目标链接`class="call-us"`是覆盖大多数桌面的非触摸设备上的链接。

请注意，`pointer-events`所有现代浏览器都支持它，但 IE 仅在 11+ 版本中支持它。请参阅[兼容性图表](http://caniuse.com/pointer-events)。

另一种仍然不完善的解决方案是使用`Modernizr.mq`with`Modernizr.touch`来检测屏幕宽度和触摸能力，然后使用 jQuery 注入电话链接。此解决方案将电话链接保留在源代码之外，然后仅出现在小于一定宽度的触摸设备上（比如 720 像素，这可能会覆盖大多数手机，但不包括大多数平板电脑）。

最终，由浏览器供应商在这里提出一个防弹的解决方案。

* * *

## 回答 #8

> 赞同：2
> 
> 时间：2016-05-04T01:58:01.777

对于大多数浏览器来说，这似乎可以通过简单的媒体查询来完成。这样的事情对我来说就像一个魅力：

```
<style type="text/css">
    #mobil-tel {
        display:none;
    }

    @media (max-width: 700px) {
        #mobil-tel {
            display:block;
        }

        #desktop-tel{
            display:none;
        }
    }
</style> 
```

在桌面链接上，省略“href”，在移动链接上，放入“href”。

* * *

## 回答 #9

> 赞同：2
> 
> 时间：2015-11-16T01:09:33.733

我找到了最好的方法。我知道这很旧，但我找到了一种非常简单的方法。

在下面使用此代码

```
<a href=“tel:888-555-5555” class="not-active">888-555-5555</a>

//This is the logic you will add to the media query
.not-active {
   pointer-events: none;
   cursor: default;
} 
```

在你的 CSS 中使用媒体查询。所以对所有桌面进行媒体查询

```
@media only screen and (min-width: 64em) {
    /* add the code */
    .not-active {
       pointer-events: none;
       cursor: default;
    }
} 
```

现在所有桌面大小的页面都无法点击它。

* * *

## 回答 #10

> 赞同：1
> 
> 时间：2014-12-15T13:16:30.383

只是想我会把我的两分钱加到（结果是相当冗长的）讨论中。

我基本上使用 onClick 事件（在链接上）来执行 Javascript 以返回布尔值 true 或 false。如果返回值为真，即测试设备是否为手机的某个变量或函数返回值为真，则浏览器后跟href URL。如果返回值为 false，则 href URL 实际上变为非活动状态。（标准 HTML 行为，早于 HTML5。）

这就是我的意思：-

```
<html>
<head>
<title>tel markup example</title>
<script src="http://code.jquery.com/jquery-2.1.0.min.js"></script> <!-- Does not really matter what version of jQuery you use --> 
<script>
var probablyPhone = ((/iphone|android|ie|blackberry|fennec/).test(navigator.userAgent.toLowerCase()) && 'ontouchstart' in document.documentElement);
function initialize() {
	if ( !probablyPhone ) {
		alert ("Your device is probably not a phone");
		( function( $ ) { 
			$( '.call' ).css ( "text-decoration", "none" );
			$( '.call' ).css ( "color", "black" );
			$( '.call' ).css ( "cursor", "default" );			
		} )( jQuery );
	}
}
</script>
</head>
<body onLoad="initialize();">
Please ring (some fictitious number in Australia): <a href="tel://+61391112222" class="call" onClick="return probablyPhone;">+61 3 9111 2222</a>
</body>
</html>
```

请注意，我还添加了一些重新格式化的链接，使其在用户看来就像它只是普通的文本。

[这是我创建的要点。](https://gist.github.com/TattyFromMelbourne/d033b99b58ce522eb285#file-tel_markup_example)

为了完成这篇文章/答案，编写简洁的 JavaScipt 代码以检测电话（基于用户代理和 ontouchstart 事件）的功劳归于这个[stackoverflow 帖子中的墨尔本](https://stackoverflow.com/questions/17345177/use-jquery-to-detect-whether-a-device-can-make-telephone-calls-supports-tel)**rgb同胞**

* * *

## 回答 #11

> 赞同：1
> 
> 时间：2020-03-03T02:06:56.707

One way of handling this is to create two separate divs and use display:hidden.

Example:

```
<div class="mobile-desktop"><p>123-456-7890</p></div>
<div class="mobile-mobile"><a href="tel:123-456-7890">123-456-7890</a></div> 
```

In your css set your mobile break points. This part is really up to you. Let's say

```
@media only screen (min-width: 768px){

.mobile-mobile {
display:none;
}

}

@media only screen (max-width: 767px){

.mobile-desktop{
display:none;
}

} 
```

This should let you hide one div based on screen size. Granted 789 is just a number I picked, so pick a size you believe is mobile. You can find them online at like [this site I found on Google or others like it](https://getflywheel.com/layout/css-breakpoints-responsive-design-how-to/). Lastly, this is just a quick css markup, you might have to tinker but the idea is there.

* * *

## 回答 #12

> 赞同：1
> 
> 时间：2015-10-08T15:06:04.193

这是我为解决这个问题而开发的一个简单的基于 jquery 的解决方案。有关解释，请参见代码注释。 [https://jsfiddle.net/az96o8Ly/](https://jsfiddle.net/az96o8Ly/)

```
// Use event delegation, to catch clicks on links that may be added by javascript at any time.
jQuery(document.documentElement).on('click', '[href^="tel:"]', function(e){
  try{
    // These user-agents probably support making calls natively.
    if( /Android|webOS|iPhone|iPad|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
      // Do nothing; This device probably supports making phone calls natively...
    } else {
      // Extract the phone number.
      var phoneNumber = jQuery(this).attr('href').replace('tel:', '').trim();

      // Tell the user to call it.
      alert("Please call "+phoneNumber);

      // Prevent the browser popup about unknown protocol tel:
      e.preventDefault();
      e.stopPropagation();
    }
  } catch(e){
    console.log("Exception when catching telephone call click!", e);
  }
}); 
```

* * *

## 回答 #13

> 赞同：1
> 
> 时间：2016-02-01T18:14:58.863

我的方法类似于上面的另一种方法；我考虑了一些注意事项：

*   众所周知，没有很好的编程方式来检测支持。这是我们被迫解析 UserAgent 字符串的罕见情况。
*   这应该是客户端；不需要服务器端检测。
*   现在有可以处理`tel:`链接的桌面浏览器；Chrome 在桌面上的行为在最坏的情况下是点击时什么都不做。充其量，您可以使用 Google Voice 拨打电话。
*   因为点击时什么都不做是 Chrome 的后备行为，我们应该使用该行为作为所有浏览器的后备。
*   如果您的页面负责创建`tel:`链接，它应该负责所有`tel:`链接并禁用浏览器中的自动检测。

考虑到所有这些，我建议首先`meta`在您的`<head>`:

```
<meta name="format-detection" content="telephone=no"/> 
```

然后，定义一个解析 UserAgent 的 JavaScript 函数，`true`当且仅当我们认为点击链接时浏览器*不会*将我们带到错误页面时才返回：

```
function hasTelSupport()
{
    return /Chrome\/|Mobile( Safari)?\/|Opera M(in|ob)i\/|w(eb)?OSBrowser\/|Mobile\;|Tablet\;/.test(navigator.userAgent);
} 
```

`onclick`然后，从链接中的属性调用该函数：

```
<a href="tel:+18005551212" onclick="return hasTelSupport();">Call Me</a> 
```

这将允许`tel:`在 Chrome、Edge、iOS Safari、Android 浏览器、Blackberry、Dorothy、Firefox Mobile、IE Mobile、Opera Mini、Opera Mobile 和 webOS 上单击链接。在其他设备或浏览器上单击时，这些链接将不起作用。

请为您的`tel:`链接使用国际格式。换句话说，第一个字符应该是一个`+`和一个国家代码。

* * *

## 回答 #14

> 赞同：1
> 
> 时间：2016-04-21T13:52:29.103

感谢 TattyFromMelbourne 的帖子，我现在使用了一个非常简单的方法：

我的按钮 id="call" 将根据他的“可能电话”测试功能拨打电话，但也将向下滚动到联系信息部分，无论哪种方式都可以使按钮正常使用。

我还用一个空函数替换了警报，以删除弹出窗口。

```
<a id="call" href="#contact">PHONE US</a>

$("#call").on('click', function() {
    var probablyPhone = ((/iphone|android|ie|blackberry|fennec/).test(navigator.userAgent.toLowerCase()) && 'ontouchstart' in document.documentElement);
    var link = "callto:15555555555";
        if ( !probablyPhone ) {
            window.alert = function() {};}              
    else{window.location.href = link;}
});
    </script> 
```

* * *

## 回答 #15

> 赞同：1
> 
> 时间：2016-10-08T10:19:14.350

您可以使用 css3 媒体查询来检测移动窗口并相应地隐藏链接。

```
@media(max-width:640px){
 .your-calling-link{
display:none;
}
} 
```

或者，如果您想显示链接并禁用点击功能，请使用 jquery 功能：

```
screen.width 
```

或者

```
screen.innerWidth 
```

并使用禁用链接上的点击功能

```
 $('.your-link').off(click); 
```

* * *

## 回答 #16

> 赞同：0
> 
> 时间：2019-02-14T19:34:09.017

在我的目标站点中，所有电话链接标记都采用这种模式： `<a href="tel:111-222-3333"">111-222-3333</a>`. 我的解决方案很简单：

```
function setPhoneLink() {
    if (screen.width > 640) {
        $("a[href^='tel:']").each(function(){
            $(this).replaceWith($(this).text());
        });
    }
} 
```

设备宽度：移动<640；平板电脑 >=768 且 <1024；办公桌 >=1024。来源：http: [//javascriptkit.com/dhtmltutors/cssmediaqueries2.shtml](http://javascriptkit.com/dhtmltutors/cssmediaqueries2.shtml)

* * *

## 回答 #17

> 赞同：0
> 
> 时间：2015-09-15T09:24:25.323

这种方式无需添加任何 CSS 即可工作。

尝试用`a`其他类似标签的东西替换`span`标签，但当然只适用于移动浏览器。好处是你不会`a`用 CSS 来掩盖它，防止默认操作，同时保持它作为链接。它不会`a`了，所以你不必担心。

我在[这里](http://levchenko39.ru/kontakty)创建了一个示例。那里的粗体电话以这种方式工作，请参见下面的代码。

我从一位受访者那里获取了一段代码来定义浏览器是否是移动的。而且您必须用标记这些链接`class="tel"`或找到一种方法来确定其中是否`href`有“tel：”。JQuery 也是必需的。

```
// define if browser is mobile, usually I use Anthony's Hand mobile detection library, but here is simple detection for clarity
var probablyPhone = ((/iphone|android|ie|blackberry|fennec/).test(navigator.userAgent.toLowerCase()) && 'ontouchstart' in document.documentElement);
if ( !probablyPhone ) {
    // find all the A with "tel:" in it, by class name
    $('a.tel').each(function(){
        var span = document.createElement('span');

        // SPAN inherits properties of A, you can also add STYLE or TITLE or whatever
        span.innerHTML = this.innerHTML;
        span.className = this.className;

        // replace A with SPAN
        this.parentNode.insertBefore(span, this);
        this.parentNode.removeChild(this);
    });
} 
```

* * *

## 回答 #18

> 赞同：0
> 
> 时间：2021-09-02T21:40:17.220

不要使用屏幕尺寸作为要求。

您可以像这样使用 CSS 媒体查询：

```
@media (pointer: fine) { /* this is for devices using a mouse, maybe a pen */
    a[href^="tel:"] { /* select only "tel:" links */
        pointer-events: none; /* avoid clicks on this element */
    }
} 
```

```
@media (pointer: coarse) { /* this works for mobile phones */
} 
```

更多信息：[https ://developer.mozilla.org/en-US/docs/Web/CSS/@media/pointer](https://developer.mozilla.org/en-US/docs/Web/CSS/@media/pointer)

* * *

## 回答 #19

> 赞同：0
> 
> 时间：2016-02-26T09:24:39.713

将其输入自定义 css 并收工：

```
a.tel { color: #FFFFFF; cursor: default; /* no hand pointer */ } 
```

根据需要更改颜色。

干杯!

* * *

## 回答 #20

> 赞同：0
> 
> 时间：2016-04-21T16:04:30.043

当检测到移动设备时，我正在通过 javascript 添加以下 css。

```
pointer-events:none 
```

js代码是：

```
var a = document.getElementById("phone-number");
if (Platform.isMobile())   // my own mobile detection function
    a.href = "tel:+1.212.555.1212";
else
    $(a).css( "pointer-events", "none" ); 
```

* * *

## 回答 #21

> 赞同：-3
> 
> 时间：2014-08-08T11:12:46.273

```
@media screen {.telephone {pointer-events: none;}} 
```

# javascript - 如何将 freichat 脚本作为 smarty 模板文件

> ID：15425361
> 
> 赞同：0
> 
> 时间：2013-03-15T05:25:08.760
> 
> 标签：javascript, php, smarty, chat, messenger

我在 php 中有 How freichat 聊天脚本，并希望与基于 php 的自定义站点集成，并使用 smarty 作为模板引擎（查看）。如何将该脚本放在 smarty 模板中以便它工作？

这是它的代码...

```
<script type="text/javascript" language="javascipt" 
    src="http://server/freichat/client/main.php?id=<?php echo $ses;?>&xhash=<?php echo freichatx_get_hash($ses); ?>">
</script>
<link rel="stylesheet" 
    href="http://server/freichat/client/jquery/freichat_themes/freichatcss.php" 
    type="text/css"> 
```

# git - 如何知道使用拉操作拉取的文件最近更改的差异

> ID：15425362
> 
> 赞同：1
> 
> 时间：2013-03-15T05:25:12.483
> 
> 标签：git, git-pull

我执行了一个 git pull 操作，它通过几个文件获取。我如何运行差异并了解所有这些文件或该列表中的一组选择性文件中真正发生的变化。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:40:57.113

你可以使用命令`git whatchanged`。它会告诉您每次提交中更改了哪些文件。如果您通过 option `-p`，您还可以查看每次提交中包含/排除了哪些行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T05:31:52.343

首先，您可以使用它`git reflog`来显示当前提交的哈希值和已签出的上一个提交。

```
$ git reflog
ffb759d HEAD@{0}: commit: stuff
68dff16 HEAD@{1}: pull: Fast-forward
c718a6a HEAD@{2}: pull: Fast-forward
... 
```

如您所见，最近的更改是提交，前两次更改是拉取。如果我想查看最近一次 pull 的变化，我可以：

```
$ git diff HEAD@{2} HEAD@{1} 
```

或者我可以只查看特定目录的更改，

```
$ git diff HEAD@{2} HEAD@{1} -- example/path 
```

您还可以使用`gitk`、`gitg`、`gitx`等浏览更改。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T05:31:48.390

使用[`git diff`](http://git-scm.com/docs/git-diff). 有一些地方，例如[这篇文章](http://gitready.com/intermediate/2009/01/30/finding-what-has-been-changed.html)或[这篇](http://data.agaric.com/get-git-diff-previous-commit)文章，可以让您快速了解如何使用它。

# emma - 如何从 emma 中过滤 if 块？

> ID：15425364
> 
> 赞同：0
> 
> 时间：2013-03-15T05:25:26.063
> 
> 标签：emma

是否可以从 emma 覆盖率报告中过滤掉属于 java 类的 if 块？如果是，那么我该如何实现呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-19T03:41:31.980

答案是不。目前 EMMA 仅支持类过滤器。

# java - 给定 BlobstoreService 服务的 HttpServletResponse，如何获取服务的 blob？

> ID：15425367
> 
> 赞同：0
> 
> 时间：2013-03-15T05:25:28.377
> 
> 标签：java, android, google-app-engine, servlets, blobstore

这是我的`Serve.java`，这是我的发球`servlet`。

```
public class Serve extends HttpServlet {
private BlobstoreService blobstoreService = BlobstoreServiceFactory.getBlobstoreService();

public void doGet(HttpServletRequest req, HttpServletResponse res)
    throws IOException {
        BlobKey blobKey = new BlobKey(req.getParameter("blob-key"));
        blobstoreService.serve(blobKey, res);

    }
} 
```

当我托管我的服务器并`servlet`通过浏览器访问服务时，我看到了我`blob`的（图片）。所以我假设`blob`它的图片文件格式存储在`HttpServletResponse`.

如何访问此`blob`/ 文件？我实际上需要`Android`使用来自应用程序的文件`HttpResponse`，但我会自己弄清楚。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:23:59.950

您可以创建一个[BlobstoreInputStream](https://developers.google.com/appengine/docs/java/javadoc/com/google/appengine/api/blobstore/BlobstoreInputStream) 以编程方式从 BlobStore 读取 blob。
如果您在 Android 应用程序中需要该文件，应该按照您已经做的方式提供它，并在您的应用程序中读取响应。

# cocos2d-iphone - 从 b2MouseJoint 中丢失 b2Body

> ID：15425370
> 
> 赞同：0
> 
> 时间：2013-03-15T05:25:48.027
> 
> 标签：cocos2d-iphone, box2d-iphone

我创建了一个木槌，并制作了一个 b2MouseJoint 来拖动木槌，如下所示：

```
if (_playerBuckFixture->TestPoint(locationWorld)) {
    b2MouseJointDef md;
    md.bodyA = _groundBody;
    md.bodyB = _playerBuckBody;
    md.target = locationWorld;
    md.collideConnected = true;
    md.dampingRatio = 0.0f;
    md.frequencyHz = 60.0;
    md.maxForce = powl(_playerBuckBody->GetMass()+10,37);

    _mouseJoint = (b2MouseJoint *)_world->CreateJoint(&md);
    _playerBuckBody->SetAwake(true);
} 
```

但是当我快速移动我的手指时，木槌会从我的手指上松开，并且跟随我的手指不像我的手指移动那么快。

请给我很好的建议来改善 b2MouseJoint 的抓地力。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T08:32:54.600

快速移动手指时的触摸位置可能相距很远。您可能需要在触摸位置和前一个位置之间进行插值。

# html - 如何将页脚保持在页面底部？

> ID：15425372
> 
> 赞同：0
> 
> 时间：2013-03-15T05:26:00.980
> 
> 标签：html, css, footer

这是我的html页面。

```
<!DOCTYPE HTML>
    <head>
        <style>
            #foot {
               position:absolute;
               bottom:0;
               width:100%;
               height:60px;   /* Height of the footer */
               background:#6cf;
            }

            .container{
                border: 1px solid RGB(100,100,100);
                -webkit-border-radius: 10px;
                -moz-border-radius: 10px;
                border-radius: 5px;
                height: 940px;
                width: 1200px;
                background: white;
                box-shadow: 0px 0px 5px;
                position: absolute;
                margin-left: 25px;
                margin-right: 20px;
                margin-top: 80px;
            }
        </style>
    </head>
    <body>
        <h1>My Page</h1>
        <div class="container">
        </div>
        <footer id="foot">
            My footer
        </footer>
    </body>
</html> 
```

但这会使页脚保持在页面之间。有人可以帮我吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T05:29:00.553

你想用

```
position:fixed; 
```

对于#foot

[http://jsfiddle.net/q3U4R/](http://jsfiddle.net/q3U4R/)

可能是更好的方法：

[http://jsfiddle.net/q3U4R/1/](http://jsfiddle.net/q3U4R/1/)

```
* { margin:0; padding:0; } 

html, body, #wrap { height: 100%; }

body > #wrap {height: auto; min-height: 100%;}

. container { padding-bottom: 150px; }  /* must be same height as the footer */

#foot { 
    position: fixed;
    margin-top: -150px; /* negative value of footer height */
    height: 150px;
    clear:both;
    background:#ff0;
    bottom:0px;
    width:100%;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:38:30.330

```
<!DOCTYPE HTML>
<head>
  <style>
    #foot {
      position:absolute;
      bottom:0;
      width:100%;
      height:60px;   /* Height of the footer */
      background:#6cf;
    }

    #overlay {
      Z-INDEX: 9999; 
      POSITION: fixed; 
      TEXT-ALIGN: center; 
      WIDTH: 100%; BOTTOM: 0px; 
      HEIGHT: 80px; 
      _position: absolute
    }

    .container{
      border: 1px solid RGB(100,100,100);
      -webkit-border-radius: 10px;
      -moz-border-radius: 10px;
      border-radius: 5px;
      height: 940px;
      width: 1200px;
      background: white;
      box-shadow: 0px 0px 5px;
      position: absolute;
      margin-left: 25px;
      margin-right: 20px;
      margin-top: 80px;
    }
  </style>
</head>
<body>
  <h1>My Page</h1>
  <div class="container">
  </div>
  <div id="overlay">
    <footer id="foot">
    My footer
    </footer>
  </div>
</body>
</html></footer></div></h1></body></style></head> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2017-01-26T07:49:24.463

我想这就是你要找的。在我的示例中按下按钮以查看无论您在正文中放入多少内容，页脚是如何粘在底部的。希望这可以帮助你<3

```
$("#add").on("click", function() {
  $("<p>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.</p>").appendTo(".page-wrap");
});
```

```
* {
  margin: 0;
}
html, body {
  height: 100%;
}
.page-wrap {
  min-height: 100%;
  /* equal to footer height */
  margin-bottom: -142px; 
}
.page-wrap:after {
  content: "";
  display: block;
}
.site-footer, .page-wrap:after {
  height: 142px; 
}
.site-footer {
  background: orange;
}
```

```
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<div class="page-wrap">

  <h1>Sticky Footer</h1>
  <h2>with Fixed Footer Height</h2>

  <button id="add">Add Content</button>  

</div>

<footer class="site-footer">
  I'm the Sticky Footer.
</footer>
```

# sql - 如何在 Hibernate 日志中显示 SQL 参数？

> ID：15425377
> 
> 赞同：8
> 
> 时间：2013-03-15T05:26:21.010
> 
> 标签：sql, hibernate, logging, parameters

在我的 hibernate.cfg.xml 中，我有以下内容：

```
<property name="show_sql">true</property> 
```

在我的 log4j.xml 中，我有以下内容：

```
<logger name="org.hibernate" additivity="false">
    <level value="TRACE"/>
    <appender-ref ref="hbn_log"/>
</logger>

<category name="org.hibernate.SQL" additivity="false">
    <priority value="TRACE"/>
    <appender-ref ref="hbn_log"/>
</category>

<category name="org.hibernate.type" additivity="false">
    <priority value="TRACE"/>
    <appender-ref ref="hbn_log"/>
</category>

<logger name="org.hibernate.type.descriptor.sql.BasicBinder"> 
    <level value="TRACE"/>
    <appender-ref ref="hbn_log"/>
</logger>

<logger name="org.hibernate.event.def.DefaultLoadEventListener" additivity="true">
    <level value="all"/>
    <appender-ref ref="hbn_log"/>
</logger>

<logger name="org.hibernate.cache.ReadWriteCache" additivity="true">
   <level value="all"/>
   <appender-ref ref="hbn_log"/>
</logger>

<appender name="hbn_log" class="com.adventnet.management.log.NMSRollingFileAppender">
   <param name="File" value="logs/hbn.txt"/>
       <param name="MaxFileSize" value="1MB"/>
       <param name="MaxBackupIndex" value="10"/>
   <layout class="org.apache.log4j.PatternLayout">
                 <param name="ConversionPattern" value="[%d{dd MMM yyyy HH:mm:ss:SSS}] %-5c{2}: %m%n"/>
   </layout>
   <param name="Threshold" value="TRACE"/>
</appender> 
```

在我的 stdout.txt 中，我可以看到它记录了 SQL 语句：

```
[13 Apr 2013 22:03:59:199] SYS_OUT: Hibernate: select this_.EMSID as EMSID195_0_, this_.COUNTER as COUNTER195_0_, this_.TIMESTAMP as TIMESTAMP195_0_, this_.UPDATETYPE as UPDATETYPE195_0_, this_.OBJECTTYPE as OBJECTTYPE195_0_, this_.OBJECTID as OBJECTID195_0_, this_.OBJECT as OBJECT195_0_ from WebNmsDB.UpdateData this_ where this_.EMSID=? 
```

但我希望它也记录 SQL 的参数，但它没有显示它。

另一件事是 appender 被定义为记录到 hbn.txt，但 SQL 语句被记录到 stdout.txt 而不是 hbn.txt。我不知道为什么会这样。

* * *

## 回答 #1

> 赞同：13
> 
> 时间：2013-03-15T05:35:59.040

将此配置附加到您的 log4j.xml

```
<logger name="org.hibernate.type.descriptor.sql.BasicBinder"> 
    <level value="TRACE"/>
</logger> 
```

不要忘记检查 appender 的 Threadhold 级别。

# html - 我可以将自己的图标用于 Facebook 插件吗？

> ID：15425380
> 
> 赞同：1
> 
> 时间：2013-03-15T05:26:41.400
> 
> 标签：html, facebook, plugins

我正在使用 wrapbootstrap 模板 ( [https://wrapbootstrap.com/theme/any-day-now-responsive-theme-WB05535B4](https://wrapbootstrap.com/theme/any-day-now-responsive-theme-WB05535B4) )，该模板具有各种社交插件的特定图标。我想为 facebook 使用默认值（以及其他）。

以下是 facebook “Like” 插件的代码，取自 facebook 网站 ( [https://developers.facebook.com/docs/guides/web/#plugins](https://developers.facebook.com/docs/guides/web/#plugins) )：

```
<html>
<head>
  <title>My Great Web page</title>
</head>
<body>
   <iframe src="https://www.facebook.com/plugins/like.php?href=YOUR_URL"
    scrolling="no" frameborder="0"
    style="border:none; width:450px; height:80px"></iframe>
</body>
</html> 
```

反正有没有使用不同的图标？脸书会对此皱眉吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:44:01.667

实际上，我之前在自己的网站上尝试过此操作，但一无所获。
因为源是专门定义的，所以我不相信他们是一种方法：（
但我确实认为他们会对黑客的成功不屑一顾！

# jquery - 超链接是否等待 Ajax 操作完成？

> ID：15425382
> 
> 赞同：0
> 
> 时间：2013-03-15T05:26:51.197
> 
> 标签：jquery, ajax, asp.net-mvc

我有一个主页，页面的大部分部分都是作为非 Ajax 加载的。

页面的一部分作为 Ajax 操作加载。

如果我单击站点上非 Ajax 部分的任何链接，则仅在 Ajax 操作完成后页面才会重定向到新页面。

如何在不完成 Ajax 操作的情况下进行重定向

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:34:16.420

您应该使用异步 ajax 请求，如下所示：

```
open(method,url,async) 
```

'async' 参数指定请求是否异步，它是一个布尔参数，将其设置为 true，如下所示：

```
open(method,url,true) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:48:38.810

试试用这个方法

```
function redirect(callback){
    $.ajax({
        data: {somedate},
        complete: function(){
            callback()
        }
    })
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T06:17:55.873

```
function redirect(callback){
$.ajax({
    data: {somedate},
    async:true,
    complete: function(){
        callback()
    }
 })
} 
```

# actionscript-3 - 如何在 IList Dataprovider 中向 DataGroup 发送有关数据更改的信号？

> ID：15425383
> 
> 赞同：0
> 
> 时间：2013-03-15T05:27:01.290
> 
> 标签：actionscript-3, apache-flex, events, flex4.5

我实现 IList 接口，如

```
[Bindable]
  public class MemList implements IList
  {
    public function MemList()
    {      
    }    
    public function get length():int
    {
      var size:int = 5000;
      return size;      
    }    
    public function addItem(item:Object):void
    {  
    }    
    public function addItemAt(item:Object, index:int):void
    {    
    }    
    public function getItemAt(index:int, prefetch:int=0):Object
    {      
      var obj:Object = new Object();                       
      obj.value = ByteStr(); // this function return a string
      return obj;      
    }    
    public function getItemIndex(item:Object):int
    {     
      return 0;
    }    
    public function itemUpdated(item:Object, property:Object=null, oldValue:Object=null, newValue:Object=null):void
    {     
    }    
    public function removeAll():void
    {      
    }    
    public function removeItemAt(index:int):Object
    {     
      return null;
    }    
    public function setItemAt(item:Object, index:int):Object
    {     
      return null;
    }    
    public function toArray():Array
    {     
      return null;
    }    
    public function addEventListener(type:String, listener:Function, useCapture:Boolean=false, priority:int=0, useWeakReference:Boolean=false):void
    {
    }    
    public function removeEventListener(type:String, listener:Function, useCapture:Boolean=false):void
    {
    }    
    public function dispatchEvent(event:Event):Boolean
    {
      return false;
    }    
    public function hasEventListener(type:String):Boolean
    {
      return false;
    }    
    public function willTrigger(type:String):Boolean
    {
      return false;
    }
  } 
```

并将其对象作为数据提供者提供给 DataGroup，在 Mxml 文件中我正在这样做

```
<fx:Script><![CDATA[

    [Bindable]private var list:MemList = new MemList();

   protected function onBtnShow(event:MouseEvent):void
    {          
      send(somenumber, MAX_SIZE, onShowResp);//get data from network      
    }

    private function onShowResp(retVal:uint, ba:ByteArray):void
    {
      //this function called when ba bytearray is filled with data.
    }        

  ]]></fx:Script>
<s:Button id="btnShow" label="Show" click="onBtnShow(event)"/>
<s:Scroller verticalScrollPolicy="auto" id="aScroller" 
        liveScrolling="false">
        <s:DataGroup id="dgMemView" width="100%" height="350"          
          dataProvider="{list}"
          clipAndEnableScrolling="true"
          itemRenderer="ItemRenderer"
          >        
          <s:layout>
            <s:VerticalLayout useVirtualLayout="true"/>
          </s:layout>        
        </s:DataGroup>
      </s:Scroller>

public function ByteStr(loc:uint):String
    {
      //this function can access ba bytearray filled with data. do some processing 
      on that data and return a string.
      return string;
    } 
```

我的问题是当应用程序运行数据组没有显示任何内容时，因为 ba （字节数组）中没有必须用网络数据填充的数据。当我按下显示按钮时，它会发出请求并用数据填充 ba (bytearray)。如何通知 Datagroup 数据已更改。我正在使用 Flash Builder 4.5。谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:22:11.270

您需要调度适当的 collectionChange 事件。[请参阅http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/collections/IList.html#event:collectionChange](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/collections/IList.html#event:collectionChange)上的文档

# android - 浏览器活动不起作用

> ID：15425391
> 
> 赞同：0
> 
> 时间：2013-03-15T05:27:44.653
> 
> 标签：android, browser, monkeyrunner

我需要在设备中启动浏览器。

安卓版本是4.1

下面的行不起作用，它是用monkeyrunner编写的

```
device.startActivity( component='com.google.android.browser/.BrowserActivity', uri=url) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:31:02.763

要打开 URL/网站，请执行以下操作：

```
String url = "http://www.example.com";
Intent i = new Intent(Intent.ACTION_VIEW);
i.setData(Uri.parse(url));
startActivity(i); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T07:12:58.897

试试这个：-

```
PACKAGE = 'com.android.browser'
ACTIVITY = '.BrowserActivity'
COMPONENT = PACKAGE + "/" + ACTIVITY
URI = 'www.google.com'
device.startActivity(component=COMPONENT, uri=URI) 
```

# c# - 如何调试此 LINQ 查询

> ID：15425399
> 
> 赞同：-2
> 
> 时间：2013-03-15T05:28:44.297
> 
> 标签：c#, linq

如何调试 linq 查询？当查询太长时

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T10:01:40.700

linq 的 Debuggen 非常有限。请参阅评论中显示的链接@JW。

但在你的情况下，你可以把它分开。它使人们更容易看到正在发生的事情。

```
var tmpLst = panelInfo.AsEnumerable()
             .Where(panelModel =>
             panelModel.Field<string>(modelNumberColumnName) == solution.ModelNumber)
    .Select(panelModel => panelModel.Field<int>(voltageListSupportedColumnName))
    .Distinct()
    .ToList();

foreach(var item in tmpLst)
{
       voltagesSupported.AddRange(
            ModelInfoController.VoltageInfos[(uint)item]
                .Select(voltage => (int)voltage)
                .ToList()

} 
```

# ios - Xamarin Studio 中缺少配置文件

> ID：15425404
> 
> 赞同：1
> 
> 时间：2013-03-15T05:29:21.050
> 
> 标签：ios, provisioning-profile, xamarin-studio

在管理器中，我有 2 个有效的配置文件，其应用程序 ID 为“QQWWEE.*”和“QQWWEE.com.org.appname”，但在 Xamarin 工作室中只看到一个配置文件“QQWWEE.*”。

项目中的 App id 等于“QQWWEE.com.org.appname”。

为什么我不能选择“QQWWEE.com.org.appname”配置文件？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-16T09:17:20.087

Bundle 标识符必须像“com.org.appname”，而不是“QQWWEE.com.org.appname”

# phantomjs - PhantomJS：在 REPL 中运行时 page.open() 没有响应

> ID：15425406
> 
> 赞同：4
> 
> 时间：2013-03-15T05:29:29.590
> 
> 标签：phantomjs, read-eval-print-loop

我正在尝试通过标准输入发送来运行一些 phantomJS，但我的网页打开时没有响应。

这是我要执行的javascript：

```
require('webpage').create().open('http://google.com', function() { console.log('done'); phantom.exit(); }); 
```

很直截了当，对吧？

把它放在一个file.js中，然后使用

```
phantomjs.exe file.js 
```

它可以工作，但通过 REPL 执行

```
phantomjs.exe
phantomjs> require('webpage').create().open('http://google.com', function() { console.log('done'); phantom.exit(); }); 
```

它永远不会触发回调。收听 onResourceRequested 表明它被请求相同，但 onResourceReceived 永远不会回来。

这是在 Windows 7 上运行的。我需要为 page.open 做些什么才能为 REPL 工作吗？

编辑：我应该提到，我在从文件执行实际上并不可行的环境中从 C# 运行它

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-19T09:03:21.477

我也是。快速浏览 git 存储库后，似乎这是一个已知问题：[https ://github.com/ariya/phantomjs/issues/10518](https://github.com/ariya/phantomjs/issues/10518)

# asp.net - asp服务器中的SQL Server连接错误

> ID：15425407
> 
> 赞同：0
> 
> 时间：2013-03-15T05:29:42.810
> 
> 标签：asp.net, sql-server, executequery, executescalar, executereader

在 asp 服务器中，我们在执行后遇到 SQL Server 错误，`ExecuteScalar`如下所示。错误只会偶尔出现，并不总是出现。所以有人知道为什么会出现这个错误吗？如何解决？`ExecuteReader``ExecuteNonQuery`

> *System.Data.SqlClient.SqlException：向服务器发送请求时发生传输级错误。（提供者：TCP 提供者，错误：0 - 现有连接被远程主机强行关闭。）*
> 
> 在 System.Data.SqlClient.SqlConnection.OnError(SqlException异常，Boolean breakConnection) 在 System.Data.SqlClient.SqlInternalConnection.OnError(SqlException
> 异常，Boolean breakConnection)
> 在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj)
> 在 System .Data.SqlClient.TdsParserStateObject.WriteSni()
> 在 System.Data.SqlClient.TdsParserStateObject.WritePacket(Byte flushMode)
> 在 System.Data.SqlClient.TdsParserStateObject.ExecuteFlush()
> 在 System.Data.SqlClient.TdsParser.TdsExecuteSQLBatch(字符串文本， Int32 超时，SqlNotificationRequest notificationRequest，TdsParserStateObject stateObj)
> 在 System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async)
> 在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String 方法, DbAsyncResult 结果)
> 在System.Data.SqlClient.SqlCommand.ExecuteReader（
> CommandBehavior 行为，String 方法）的 System.Data.SqlClient.SqlCommand.ExecuteReader（CommandBehavior 行为，String 方法）的System.Data.SqlClient.SqlCommand.RunExecuteReader（CommandBehavior cmdBehavior，RunBehavior runBehavior，布尔 returnStream，String 方法）
> （ )
> 在 WinMsg.Page_Load(Object sender, EventArgs e)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:03:53.987

您提到了一个`DataReader`：请确保您正确关闭它。我怀疑它仍然处于打开状态并阻止进一步的数据库操作。

来自[MSDN](http://msdn.microsoft.com/en-us/library/aa326246%28VS.71%29.aspx)：

> 在使用 SqlDataReader 时，关联的 SqlConnection 正忙于为 SqlDataReader 提供服务。在此状态下，除了关闭 SqlConnection 之外，不能对它执行其他操作。在您调用 SqlDataReader.Close 方法之前就是这种情况。如果在 CommandBehavior 设置为 CloseConnection 的情况下创建 SqlDataReader，则关闭 SqlDataReader 会自动关闭连接。

此外，请确保`SqlConnection`物品在使用后关闭并妥善处理。

# php - 使用 php 触发音频 .wav

> ID：15425414
> 
> 赞同：-1
> 
> 时间：2013-03-15T05:29:53.647
> 
> 标签：php, wav, yammer

当网页加载内容并且特定关键字位于该内容的正文中时，需要有关触发 .wav 文件播放的建议和指导。

通过我创建的自定义应用程序从 Yammer 网络中提取内容，以使用 PHP 查找某些主题标签消息。现在，当特定主题标签有新消息时，我想播放声音（如铃声）。铃声不会第二次响起，只是在最初的显示屏上。

建议（使用 PHP）？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:39:13.393

要在您的网站中播放音乐，请放置`<embed src="yourfile.wav"></embed>`在页面中的任何位置并结帐。

`php`您可以使用in使其动态化`src`。

# wix - 在 VS2010 上使用 Wix 3.7 进行本地化

> ID：15425416
> 
> 赞同：1
> 
> 时间：2013-03-15T05:29:55.363
> 
> 标签：wix, installation

首先，我还没有完全理解整个 wix 结构，并且仍在学习基础知识。

但是在尝试一个示例以使本地化工作时，我遇到了一个问题，即在尝试构建时它会引发超过 500 个错误。

我实际上遵循了这个示例，默认使用 en-us 代码页： [http ://wix.sourceforge.net/manual-wix3/make_installer_localizable.htm](http://wix.sourceforge.net/manual-wix3/make_installer_localizable.htm)

我将免除您所有 546 错误的痛苦，但这里是前几十个错误。任何人都可以阐明正在发生的事情吗？

> 错误 12 本地化变量 !(loc.BrowseDlg_Title) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\BrowseDlg.wxs 13 错误 9 本地化变量 !(loc.BrowseDlgBannerBitmap) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\BrowseDlg.wxs 35 错误 3 本地化变量 !(loc.BrowseDlgComboLabel) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\BrowseDlg.wxs 23 错误 10 本地化变量 !(loc.BrowseDlgDescription) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\BrowseDlg.wxs 38 错误 6 本地化变量 !(loc. BrowseDlgNewFolder) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\BrowseDlg.wxs 30 错误 7 本地化变量 !(loc.BrowseDlgNewFolderTooltip) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\BrowseDlg.wxs 30 错误 8 本地化变量 !(loc.BrowseDlgPathLabel) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\BrowseDlg.wxs 34 错误 11 本地化变量 !(loc.BrowseDlgTitle) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\BrowseDlg.wxs 39 错误 4 本地化变量 !(loc.BrowseDlgWixUI_Bmp_Up) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\BrowseDlg.wxs 27 错误 5 本地化变量 !(loc.BrowseDlgWixUI_Bmp_UpTooltip) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\BrowseDlg.wxs 27 错误 68 本地化变量 !(loc.CancelDlg_Title) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\CancelDlg.wxs 13 错误 66 本地化变量 !(loc.CancelDlgIcon) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\CancelDlg.wxs 21 错误 67 本地化变量 !(loc.CancelDlgIconTooltip) 未知。请确保已定义变量。E：\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\CancelDlg.wxs 21 错误 65 本地化变量 !(loc.CancelDlgText) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\CancelDlg.wxs 20 错误 19 本地化变量 !(loc.DiskCostDlg_Title) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\DiskCostDlg.wxs 13 错误 14 本地化变量 !(loc.DiskCostDlgBannerBitmap) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\DiskCostDlg.wxs 17 错误 16 本地化变量 !(loc.DiskCostDlgDescription) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\DiskCostDlg。wxs 21 错误 15 本地化变量 !(loc.DiskCostDlgText) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\DiskCostDlg.wxs 18 错误 17 本地化变量 !(loc.DiskCostDlgTitle) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\DiskCostDlg.wxs 22 错误 18 本地化变量 !(loc.DiskCostDlgVolumeList) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\DiskCostDlg.wxs 23 错误 386 本地化变量 !(loc.Error0) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 85 错误 387 本地化变量 !(loc.Error1) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 86 错误 394 本地化变量 !(loc.Error10) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 95 错误 395 本地化变量 !(loc.Error11) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 96 错误 410 本地化变量 !(loc.Error1101) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 111 错误 396 本地化变量 !(loc.Error12) 未知。请确保已定义变量。E：\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 97 错误 397 本地化变量 !(loc.Error13) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 98 错误 411 本地化变量 !(loc.Error1301) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 112 错误 412 本地化变量 !(loc.Error1302) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 113 错误 413 本地化变量 !(loc.Error1303) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText。wxs 114 错误 414 本地化变量 !(loc.Error1304) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 115 错误 415 本地化变量 !(loc.Error1305) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 116 错误 416 本地化变量 !(loc.Error1306) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 117 错误 417 本地化变量 !(loc.Error1307) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 118 错误 418 本地化变量 !(loc.Error1308) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 119 错误 419 本地化变量 !(loc.Error1309) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 120 错误 420 本地化变量 !(loc.Error1310) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 121 错误 421 本地化变量 !(loc.Error1311) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 122 错误 422 本地化变量 !(loc.Error1312) 未知。请确保已定义变量。E：\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 123 错误 423 本地化变量 !(loc.Error1313) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 124 错误 424 本地化变量 !(loc.Error1314) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 125 错误 425 本地化变量 !(loc.Error1315) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 126 错误 426 本地化变量 !(loc.Error1316) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText。wxs 127 错误 427 本地化变量 !(loc.Error1317) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 128 错误 428 本地化变量 !(loc.Error1318) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 129 错误 429 本地化变量 !(loc.Error1319) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 130 错误 430 本地化变量 !(loc.Error1320) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 131 错误 431 本地化变量 !(loc.Error1321) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 132 错误 432 本地化变量 !(loc.Error1322) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 133 错误 433 本地化变量 !(loc.Error1323) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 134 错误 434 本地化变量 !(loc.Error1324) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 135 错误 435 本地化变量 !(loc.Error1325) 未知。请确保已定义变量。E：\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 136 错误 436 本地化变量 !(loc.Error1326) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 137 错误 437 本地化变量 !(loc.Error1327) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 138 错误 438 本地化变量 !(loc.Error1328) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 139 错误 439 本地化变量 !(loc.Error1329) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText。wxs 140 错误 440 本地化变量 !(loc.Error1330) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 141 错误 441 本地化变量 !(loc.Error1331) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 142 错误 442 本地化变量 !(loc.Error1332) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 143 错误 443 本地化变量 !(loc.Error1333) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 144 错误 444 本地化变量 !(loc.Error1334) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 145 错误 445 本地化变量 !(loc.Error1335) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 146 错误 446 本地化变量 !(loc.Error1336) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 147 错误 398 本地化变量 !(loc.Error14) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 99 错误 447 本地化变量 !(loc.Error1401) 未知。请确保已定义变量。E：\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 148 错误 448 本地化变量 !(loc.Error1402) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 149 错误 449 本地化变量 !(loc.Error1403) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 150 错误 450 本地化变量 !(loc.Error1404) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 151 错误 451 本地化变量 !(loc.Error1405) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText。wxs 152 错误 452 本地化变量 !(loc.Error1406) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 153 错误 453 本地化变量 !(loc.Error1407) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 154 错误 454 本地化变量 !(loc.Error1408) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 155 错误 455 本地化变量 !(loc.Error1409) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 156 错误 456 本地化变量 !(loc.Error1410) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 157 错误 399 本地化变量 !(loc.Error15) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 100 错误 457 本地化变量 !(loc.Error1500) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 158 错误 458 本地化变量 !(loc.Error1501) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 159 错误 459 本地化变量 !(loc.Error1502) 未知。请确保已定义变量。E：\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 160 错误 460 本地化变量 !(loc.Error1503) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 161 错误 400 本地化变量 !(loc.Error16) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 101 错误 461 本地化变量 !(loc.Error1601) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 162 错误 462 本地化变量 !(loc.Error1602) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText。wxs 163 错误 463 本地化变量 !(loc.Error1603) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 164 错误 464 本地化变量 !(loc.Error1604) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 165 错误 465 本地化变量 !(loc.Error1605) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 166 错误 466 本地化变量 !(loc.Error1606) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 167 Error1603) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 164 错误 464 本地化变量 !(loc.Error1604) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 165 错误 465 本地化变量 !(loc.Error1605) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 166 错误 466 本地化变量 !(loc.Error1606) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 167 Error1603) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 164 错误 464 本地化变量 !(loc.Error1604) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 165 错误 465 本地化变量 !(loc.Error1605) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 166 错误 466 本地化变量 !(loc.Error1606) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 167 \delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 164 错误 464 本地化变量 !(loc.Error1604) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 165 错误 465 本地化变量 !(loc.Error1605) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 166 错误 466 本地化变量 !(loc.Error1606) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 167 \delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 164 错误 464 本地化变量 !(loc.Error1604) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 165 错误 465 本地化变量 !(loc.Error1605) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 166 错误 466 本地化变量 !(loc.Error1606) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 167 \delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 165 错误 465 本地化变量 !(loc.Error1605) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 166 错误 466 本地化变量 !(loc.Error1606) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 167 \delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 165 错误 465 本地化变量 !(loc.Error1605) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 166 错误 466 本地化变量 !(loc.Error1606) 未知。请确保已定义变量。E:\delivery\Dev\wix37_public\src\ext\UIExtension\wixlib\ErrorProgressText.wxs 167

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-15T06:03:18.703

看起来您缺少“构建文化”属性。

[http://wix.sourceforge.net/manual-wix3/specifying_cultures_to_build.htm](http://wix.sourceforge.net/manual-wix3/specifying_cultures_to_build.htm)

转到设置项目的首选项，构建选项卡并填写“要构建的文化”。这应该会有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-22T08:06:18.837

在这种情况下，另一种解决方案是在您的项目中添加缺少的本地化字符串。在我的例子中，我将文化定义为 pl-PL，并得到了一些缺失的本地化字符串，例如：

本地化变量 !(loc.msierrXmlConfigFailedSelect) 未知。请确保已定义变量。本地化变量 !(loc.msierrXmlConfigFailedSave) 未知。请确保已定义变量。等等

我创建了一个缺少字符串的本地化文件：

```
<?xml version="1.0" encoding="utf-8"?>
<WixLocalization Culture="pl-PL" xmlns="http://schemas.microsoft.com/wix/2006/localization">
<String Id="msierrXmlConfigFailedSelect">Zaznaczanie się nie powiodło, podczas edytowania XML.</String>
    <String Id="msierrXmlConfigFailedSave">Zapis się nie powiódł, podczas edytowania XML.</String>
    <String Id="msierrXmlConfigFailedRead">Odczyt się nie powiódł, podczas edytowania XML.</String>
    <String Id="msierrXmlConfigFailedOpen">Otwarcie pliku się nie powiodło, podczas edytowania XML.</String>
</WixLocalization> 
```

# javascript - 仪表车速表

> ID：15425417
> 
> 赞同：0
> 
> 时间：2013-03-15T05:30:17.573
> 
> 标签：javascript, ajax, highcharts, meter

有谁知道我是否可以在`High Charts`Ajax 调用中使用速度计？我正在考虑在下面的函数中将调用放在我指出的位置。但我知道有时这种类型的`graphs, charts, meters`不喜欢 Ajax 调用。

```
 // Add some life
function (chart) {
    setInterval(function () {
        var point = chart.series[0].points[0],
            newVal,
            inc = **Ajax call here**;

        newVal = point.y + inc;
        if (newVal < 0 || newVal > 20) {
            newVal = point.y - inc;
        }

        point.update(newVal);

    }, 3000); 
```

事实上，我真的不需要函数内的 Ajax 调用。我只需要对服务器的 Ajax 调用，检查它是否是 ' `squaking`' 是否使用布尔值设置为 true 然后使用 a `random number between say 1-20`，如果不只是将函数设置为输出 0;。

可以这么说，它本质上是一个带宽计，我只是想知道这个计是否有可能，然后我花了 5 个小时在它上面，如果不可能的话。任何人都可以提出建议吗？

这是 JSFiddle 中的仪表，我目前正在处理它。

[http://jsfiddle.net/gh/get/jquery/1.7.2/highslide-software/highcharts.com/tree/master/samples/highcharts/demo/gauge-speedometer/](http://jsfiddle.net/gh/get/jquery/1.7.2/highslide-software/highcharts.com/tree/master/samples/highcharts/demo/gauge-speedometer/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T06:03:35.760

你当然可以

```
setInterval(function () {
    var point = chart.series[0].points[0],
        newVal,
        inc = 0;

    $.get('squaking', function (data) {
        newVal = point.y + data.inc;
        if (newVal < 0 || newVal > 20) {
            newVal = point.y - data.inc;
        }

        point.update(newVal);
    });
}, 3000); 
```

我在这里假设“ **squaking** ”是一个服务器端函数，它返回一个包含**inc**值的 JSON 结果。一旦返回数据，图表就会更新。

# css - CSS 目录问题

> ID：15425419
> 
> 赞同：0
> 
> 时间：2013-03-15T05:30:21.923
> 
> 标签：css, directory

有人可以帮我解决这个目录问题。我有 index.php 页面并包含 header 和 footer.php 标头包含`<link href="new.css"/>`，new.css 位于主目录中。并且每次我尝试将 new.css 与主目录分开，就像`css/new.css`它在其他元素上效果不佳但如果我尝试将它放回主目录它工作正常。有人能告诉我为什么会这样吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:39:53.807

示例：
您有一个文件：`http://mysite.com/blabla/blabla2/index.php`
现在如果您使用：`<link href="new.css"/>`- 就像`<link href="http://mysite.com/blabla/blabla2/new.css"/>`

所以你需要使用这个：`<link href="css/new.css"/>`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T08:27:48.610

尝试使用`<link href="../css/new.css" />`它可能会起作用。

# php - preg_match 在某些字符串之后并且只有数字

> ID：15425426
> 
> 赞同：-1
> 
> 时间：2013-03-15T05:30:48.810
> 
> 标签：php, preg-match

所以我有这个字符串 `alert('price = USD 1,313,000');` ，它在 html 标签里面

，我正在尝试`preg_match`字符串之后 `alert('price ,`

我怎么才能得到`1,313,000`？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:34:51.320

您可以通过以下方式提取您的价值：

```
$message = "alert('price = USD 1,313,000');";
$result = array();
preg_match("/([0-9,]+)/", $message, $result); 
```

将返回一个数组：

```
Array
(
    [0] => 1,313,000
    [1] => 1,313,000
) 
```

假设消息总是这样。如果消息发生变化，可能您将不得不再次处理正则表达式。

[preg_match 文档](http://php.net/preg_match)

它也适用于

```
$message = "alert('price = USD 1,313,000');alert('tax = USD 15,000');";
$result = array();
preg_match("/price = USD ([0-9,]+)/", $message, $result);
print_r($result); 
```

然后你会有

```
Array
(
    [0] => price = USD 1,313,000
    [1] => 1,313,000
) 
```

在这种情况下，您必须使用 ，`$result[1]`因为它代表的是子部分，`( )`而不是代表的整个匹配字符串`$result[0]`。

# ios - 目标 C：基于位置的过滤

> ID：15425431
> 
> 赞同：1
> 
> 时间：2013-03-15T05:31:06.823
> 
> 标签：ios, objective-c, location, cllocationmanager, latitude-longitude

我的问题是基于`CLLocationManager`并过滤一定半径内的位置。

我有的：

1.  用户的位置（检索自`CLLocationManager`），
2.  一个数组中的say存储列表，每个存储的坐标都以纬度和经度为单位。

我的要求是我需要过滤掉用户给定位置半径 100 公里内的商店。

此外，如果 100 公里半径内有超过 25 家商店，则逻辑需要转移到过滤掉离我最近的 25 家商店。

解决此问题的最佳方法是什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T06:33:15.833

最好的选择是使用许多数据库的内置功能为您进行过滤和排序。

基本实现非常明显：只需对商店进行排序并获取位于定义区域内的前 25 个。

鉴于您可能拥有数千家商店，这是我可能会如何编写它的优化版本：

```
NSArray *stores = ...;
CLLocation *myLocation = ...;

NSMutableArray *nearestStores = [NSMutableArray array];
CLRegion *nearest100kmRegion = [CLRegion initCircularRegionWithCenter:[myLocation coordinate]
                                                               radius:100000
                                                           identifier:@"someIdentifier"];

// We will need to enumerate all stores to ensure that there are no more
// than 25 objects within the defined region.
//
// Since there may be thousands of objects and many of them can be
// out of the defined region, we should perform concurrent enumeration
// for performance reasons.
dispatch_semaphore s = dispatch_semaphore_create(1);
[stores enumerateObjectsWithOptions:NSEnumerationConcurrent
                         usingBlock:^(id store, NSUInteger idx, BOOL *stop)
{
     if ([nearest100kmRegion containsCoordinate:[[store location] coordinate]])
     {
         dispatch_semaphore_wait(s, DISPATCH_FOREVER);
         [nearestStores addObject:store];
         dispatch_semaphore_signal(s);
     }
}];
dispatch_release(s);

if ([nearestStores count] > 25)
{
    [nearestStores sortWithOptions:NSSortConcurrent
                   usingComparator:^(id store1, id store2)
    {
        return [myLocation distanceFromLocation:[store1 location]] - [myLocation distanceFromLocation:[store2 location]];
    }];
}

return [nearestStores subarrayWithRange:NSMakeRange(0, MAX([nearestStores count], 25))]; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:11:53.077

请参阅[计算两个经纬度点之间的距离？（Haversine 公式）](https://stackoverflow.com/questions/27928/how-do-i-calculate-distance-between-two-latitude-longitude-points)确定 2 个纬度/经度对之间的距离，然后执行以下操作：

按与用户的距离对商店数组进行排序，并循环遍历数组以填充结果集。当结果集计数为 25 或距离大于 100km 时停止。

如果商店数组真的比你应该首先用 100 公里内的商店填充一个数组，然后如果 count <= 25 则返回整个列表，否则排序并返回排序数组中的前 25 个。

# ios - CIPixellate图像输出大小不同

> ID：15425437
> 
> 赞同：6
> 
> 时间：2013-03-15T05:31:41.173
> 
> 标签：ios, core-image, cifilter

我正在使用`CIPixellate`过滤器进行一些测试，并且可以正常工作，但是生成的图像大小不同。我认为这是有道理的，因为我正在改变输入比例，但这不是我所期望的——我认为它会在图像的矩形内缩放。

我是否误解/使用了错误的过滤器，或者我只需要将输出图像裁剪为我想要的大小。

此外，`inputCenter`从阅读标题/试验和错误中，我不清楚参数。谁能解释那个参数是关于什么的？

```
NSMutableArray * tmpImages = [[NSMutableArray alloc] init];
for (int i = 0; i < 10; i++) {
    double scale = i * 4.0;
    UIImage* tmpImg = [self applyCIPixelateFilter:self.faceImage withScale:scale];
    printf("tmpImg    width: %f height: %f\n",  tmpImg.size.width, tmpImg.size.height);
    [tmpImages addObject:tmpImg];
} 
```

* * *

```
tmpImg    width: 480.000000 height: 640.000000
tmpImg    width: 484.000000 height: 644.000000
tmpImg    width: 488.000000 height: 648.000000
tmpImg    width: 492.000000 height: 652.000000
tmpImg    width: 496.000000 height: 656.000000
tmpImg    width: 500.000000 height: 660.000000
tmpImg    width: 504.000000 height: 664.000000
tmpImg    width: 508.000000 height: 668.000000
tmpImg    width: 512.000000 height: 672.000000
tmpImg    width: 516.000000 height: 676.000000 
```

* * *

```
- (UIImage *)applyCIPixelateFilter:(UIImage*)fromImage withScale:(double)scale
{
    /*
     Makes an image blocky by mapping the image to colored squares whose color is defined by the replaced pixels.
     Parameters

     inputImage: A CIImage object whose display name is Image.

     inputCenter: A CIVector object whose attribute type is CIAttributeTypePosition and whose display name is Center.
     Default value: [150 150]

     inputScale: An NSNumber object whose attribute type is CIAttributeTypeDistance and whose display name is Scale.
     Default value: 8.00
     */
    CIContext *context = [CIContext contextWithOptions:nil];
    CIFilter *filter= [CIFilter filterWithName:@"CIPixellate"];
    CIImage *inputImage = [[CIImage alloc] initWithImage:fromImage];
    CIVector *vector = [CIVector vectorWithX:fromImage.size.width /2.0f Y:fromImage.size.height /2.0f];
    [filter setDefaults];
    [filter setValue:vector forKey:@"inputCenter"];
    [filter setValue:[NSNumber numberWithDouble:scale] forKey:@"inputScale"];
    [filter setValue:inputImage forKey:@"inputImage"];

    CGImageRef cgiimage = [context createCGImage:filter.outputImage fromRect:filter.outputImage.extent];
    UIImage *newImage = [UIImage imageWithCGImage:cgiimage scale:1.0f orientation:fromImage.imageOrientation];

    CGImageRelease(cgiimage);

    return newImage;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2019-04-24T09:10:49.933

正如 Apple [Core Image Programming Guide](https://developer.apple.com/library/archive/documentation/GraphicsImaging/Conceptual/CoreImaging/ci_tasks/ci_tasks.html#//apple_ref/doc/uid/TP30001185-CH3-SW9)和[这篇文章](https://stackoverflow.com/questions/49147109/how-can-i-fix-a-core-images-cilanczosscaletransform-filter-border-artifact)中提到的，

> 默认情况下，模糊滤镜还通过模糊图像像素以及（在滤镜的图像处理空间中）围绕图像的透明像素来柔化图像的边缘

因此，您的输出图像会根据您的比例而有所不同。

对于 inputCenter，正如 Joshua Sullivan 在[CIFilter 上这篇文章](https://stackoverflow.com/questions/27390595/center-vector-of-cifilter)的评论中提到的那样，“它调整了像素网格与源图像的偏移量”。因此，如果 inputCenter 坐标不是您的 CI Pixellate inputScale 的倍数，它会稍微偏移像素正方形（大部分在 inputScale 的大值上可见）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-09-03T18:45:43.057

问题仅在于**缩放**。

只需这样做：

```
let result = UIImage(cgImage: cgimgresult!, scale: (originalImageView.image?.scale)!, orientation: (originalImageView.image?.imageOrientation)!)
            originalImageView.image = result 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-04-22T03:37:52.243

有时 inputScale 不会平均划分您的图像，这就是我发现我得到不同大小的输出图像的时候。

例如，如果 inputScale = 0 或 1，则输出图像大小非常准确。

我发现图像周围的额外空间居中的方式因 inputCenter 而“不透明”而*变化*。即，我没有花时间弄清楚到底是怎么回事（我通过视图中的点击位置设置它）。

我对不同尺寸的解决方案是将图像重新渲染到输入图像大小的范围内，我使用 Apple Watch 的黑色背景来执行此操作。

```
CIFilter *pixelateFilter = [CIFilter filterWithName:@"CIPixellate"];
[pixelateFilter setDefaults];
[pixelateFilter setValue:[CIImage imageWithCGImage:editImage.CGImage] forKey:kCIInputImageKey];
[pixelateFilter setValue:@(amount) forKey:@"inputScale"];
[pixelateFilter setValue:vector forKey:@"inputCenter"];
CIImage* result = [pixelateFilter valueForKey:kCIOutputImageKey];    
CIContext *context = [CIContext contextWithOptions:nil];
CGRect extent = [pixelateResult extent];
CGImageRef cgImage = [context createCGImage:result fromRect:extent];

UIGraphicsBeginImageContextWithOptions(editImage.size, YES, [editImage scale]);
CGContextRef ref = UIGraphicsGetCurrentContext();
CGContextTranslateCTM(ref, 0, editImage.size.height);
CGContextScaleCTM(ref, 1.0, -1.0);

CGContextSetFillColorWithColor(ref, backgroundFillColor.CGColor);
CGRect drawRect = (CGRect){{0,0},editImage.size};
CGContextFillRect(ref, drawRect);
CGContextDrawImage(ref, drawRect, cgImage);
UIImage* filledImage = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext();
returnImage = filledImage;

CGImageRelease(cgImage); 
```

如果您要坚持实施，我建议至少更改提取 UIImage 的方式以使用原始图像的“比例”，不要与 CIFilter 比例混淆。

```
UIImage *newImage = [UIImage imageWithCGImage:cgiimage scale:fromImage.scale orientation:fromImage.imageOrientation]; 
```

# wcf - 在 IIS 上通过 WCF 服务启用 HTTPS

> ID：15425438
> 
> 赞同：0
> 
> 时间：2013-03-15T05:31:42.103
> 
> 标签：wcf, web-services, ssl, https, web-config

在堆栈溢出中再次提出这个问题似乎很愚蠢，因为已经有足够多的帖子在这个主题上......但我可以看到每个帖子都有自己的方式来实现这一点......所以我的配置文件在下面指定......我有跟进所有相关帖子并编写了此 Web 配置文件。但经过所有努力，我也收到以下错误：

**“找不到与具有绑定 BasicHttpBinding 的端点的方案 https 匹配的基地址。注册的基地址方案是 [http]。”**

这是我的 Web.config 文件

```
<?xml version="1.0"?>
<configuration>

    <system.web>
        <compilation debug="true" targetFramework="4.0" />
      <globalization requestEncoding="utf-8" uiCulture="en" culture="en-US" responseEncoding="utf-8"/>
    </system.web>
    <system.serviceModel>
        <services>
            <service name="WcfService.Service1" behaviorConfiguration="ReqServiceBehaviour">
                <endpoint address ="" binding="webHttpBinding" contract="WcfService.IService1" behaviorConfiguration="web"/>
                <endpoint address="files" behaviorConfiguration="web" binding="webHttpBinding"
                                bindingConfiguration="httpStreamingBinding" name="UploadEndpoint"
                                contract="WcfService.IService1" />
                <endpoint address="" binding="basicHttpBinding" bindingConfiguration="secureHttpBinding" contract="WcfService.IService1"/>

                <endpoint address="mex" binding="mexHttpsBinding" contract="IMetadataExchange" />
            </service>
        </services>

        <bindings>
            <webHttpBinding>
                <binding name="httpStreamingBinding" transferMode="Streamed" />
            </webHttpBinding>
            <basicHttpBinding>
                <binding name="secureHttpBinding">
                    <security mode="Transport">
                        <transport clientCredentialType="None"/>
                    </security>
                </binding>
            </basicHttpBinding>
        </bindings>

        <behaviors>
            <serviceBehaviors>
                <behavior name="ReqServiceBehaviour">
                    <!-- To avoid disclosing metadata information, set the values below to false before deployment -->
                    <serviceMetadata httpGetEnabled="true" />
                    <!-- To receive exception details in faults for debugging purposes, set the value below to true.  Set to false before deployment to avoid disclosing exception information -->
                    <serviceDebug includeExceptionDetailInFaults="false"/>
                </behavior>
            </serviceBehaviors>
            <endpointBehaviors>
                <behavior name="web">
                    <webHttp/>
                </behavior>

            </endpointBehaviors>

        </behaviors>

        <protocolMapping>

            <add binding="basicHttpsBinding" scheme="https" />
        </protocolMapping>
        <serviceHostingEnvironment  multipleSiteBindingsEnabled="true" />
    </system.serviceModel>
    <system.webServer>
        <modules runAllManagedModulesForAllRequests="true"/>
        <!--
        To browse web app root directory during debugging, set the value below to true.
        Set to false before deployment to avoid disclosing web app folder information.
      -->
        <directoryBrowse enabled="true"/>
    </system.webServer>

</configuration> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-10-15T07:56:05.750

也许您可以尝试以下

为了使用 https，您需要设置 httpsGetEnabled="true" 而不是 httpGetEnabled="true"

# c++ - 在 C++ 中检索 std::map 的随机键元素

> ID：15425442
> 
> 赞同：12
> 
> 时间：2013-03-15T05:31:57.010
> 
> 标签：c++, map, std

如何在 c++ 中获取 std::map 的随机密钥？使用迭代器？我不想维护额外的数据结构

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-03-15T05:40:11.873

`std::map`迭代器是双向的，这意味着选择一个随机键将是`O(n)`. 在不使用其他数据结构的情况下，基本上您唯一的选择是`std::advance`使用`begin()`. 例如：

```
std::map<K, V> m;
auto it = m.begin();
std::advance(it, rand() % m.size());
K random_key = it->first; 
```

（或者如果您有权访问，则`rand()`与（例如）交换）。`std::mt19939``<random>`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T05:42:02.683

这取决于您的目的是随机的。 `std::map`是一个排序容器，但不支持按元素编号随机访问。鉴于这一点以及对一组键的了解，您可以随机选择一个点来挖掘地图，`lower_bound`或者在该点`upper_bound`附近找到一个元素。这倾向于根据元素与地图中其他元素之间的间隙来继续选择元素，这意味着如果元素/间隙本身是有效随机的，则初始结果可能被认为是有效随机的，但随机元素的重复选择不会是平均分配。

例如，假设您的键是大写字母，而键“C”、“O”、“Q”和“S”在地图中。如果你从 AZ 生成一个随机字母，你最终会比 Q 更有可能最终出现在 C、O 或 S 上，因为只有 PQR 在 Q 附近并且使用上限或下限你最终会选择其中两个，所以尽管只有 4 个元素，但有 2/26 的机会。不过，如果一开始对 C、O、Q 和 S 的选择有一些随机性，你可以争辩说差距和选择是随机的。

您可以通过像这样插入容器，然后执行少量随机数的迭代器递增/递减来改进这一点，但它仍然不是真正随机的。

真正随机的结果需要逐一遍历列表或您要避免的二级索引容器。

# c++ - 使用 RapidXML 解析 XML 树并丢弃不需要的节点

> ID：15425443
> 
> 赞同：0
> 
> 时间：2013-03-15T05:32:00.580
> 
> 标签：c++, xml, rapidxml, phylogeny

我对使用 RapidXML 解析 XML 树很感兴趣；但是，这个 XML 有几层我不需要的行。这是因为它是遗传树的表示，许多层被称为“进化枝”，这对我来说基本上是无用的信息。

例如，这里是一个文档示例：

```
<phylogeny rooted="true" rerootable="false">
  <clade>
    <clade>
      <taxonomy>
        <scientific_name>Neomura</scientific_name>
      </taxonomy>
      <clade>
        <taxonomy>
          <id provider="uniprot">2759</id>
          <scientific_name>Eukaryota</scientific_name>
          <rank>superkingdom</rank>
        </taxonomy>
        ............
      </clade>
    </clade>
  </clade>
</phylogeny> 
```

树的这一部分应该代表*真核生物*是新村的孩子，而*新村*又是*系统发育*的孩子。但是，如果我使用 RapidXML 解析它而不考虑*进化*枝节点的外观，那么它将有几个不必要的层。有谁知道如何进行此操作？

# json - 如何使用 curl 将 json 对象与数组一起放置

> ID：15425446
> 
> 赞同：110
> 
> 时间：2013-03-15T05:32:13.017
> 
> 标签：json, curl

我有一系列数据要输入数据库。输入数据的用户界面不适合批量输入，所以我正在尝试制定一个等效的命令行。当我在 chrome 中检查 UI 的网络请求时，我看到了一个 json 对象的 PUT 请求。当我尝试复制请求时

```
curl -H 'Accept: application/json' -X PUT '{"tags":["tag1","tag2"],"question":"Which band?","answers":[{"id":"a0","answer":"Answer1"},{"id":"a1","answer":"answer2"}]}' http://example.com/service` 
```

我收到一个错误

> curl: (3) [globbing] 位置 X 不支持嵌套大括号

其中 X 是第一个“[”的字符位置。

如何放置包含数组的 json 对象？

* * *

## 回答 #1

> 赞同：164
> 
> 时间：2013-03-15T14:02:41.470

您的命令行应该在要在 PUT 中发送的字符串之前插入[-d/--data](https://curl.se/docs/manpage.html#-d)，并且您要设置 Content-Type 而不是 Accept。

```
curl -H 'Content-Type: application/json' -X PUT -d '[JSON]' \
     http://example.com/service 
```

使用问题中的确切 JSON 数据，完整的命令行将变为：

```
curl -H 'Content-Type: application/json' -X PUT \
    -d '{"tags":["tag1","tag2"],
         "question":"Which band?",
         "answers":[{"id":"a0","answer":"Answer1"},
                    {"id":"a1","answer":"answer2"}]}' \
    http://example.com/service 
```

*`curl`注意：JSON 数据仅用于可读性包装，对请求无效。*

* * *

## 回答 #2

> 赞同：101
> 
> 时间：2014-10-16T14:43:22.630

尽管原始帖子有其他问题（即缺少“-d”），但错误消息更为通用。

> curl: (3) [globbing] 位置 X 不支持嵌套大括号

这是因为花括号 {} 和方括号 [] 是 curl 中的特殊通配符。要关闭此通配符，请使用“ **-g** ”选项。

例如，如果没有**“-g”来关闭 curl globbing** ，以下 Solr 方面查询将失败： `curl -g 'http://localhost:8983/solr/query?json.facet={x:{terms:"myfield"}}'`

* * *

## 回答 #3

> 赞同：39
> 
> 时间：2013-05-22T13:10:13.570

应该提到的是，`Accept`标头告诉服务器我们正在接受什么，而在这种情况下相关的标头是`Content-Type`

通常建议在发送 JSON 时指定`Content-Type`为。`application/json`curl 的语法是：

```
-H 'Content-Type: application/json' 
```

所以完整的 curl 命令将是：

```
curl -H 'Content-Type: application/json' -H 'Accept: application/json' -X PUT -d '{"tags":["tag1","tag2"],"question":"Which band?","answers":[{"id":"a0","answer":"Answer1"},{"id":"a1","answer":"answer2"}]}' http://example.com/service` 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2015-09-20T15:46:32.637

唯一有帮助的是使用 JSON 文件而不是 json 正文文本。基于[如何使用 cURL 将文件内容作为正文实体发送](https://stackoverflow.com/questions/15912924/how-to-send-file-contents-as-body-entity-using-curl)

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2019-06-17T08:47:22.350

尝试使用**单引号**而不是双引号以及**-g**

以下场景对我有用

```
curl -g -d '{"collection":[{"NumberOfParcels":1,"Weight":1,"Length":1,"Width":1,"Height":1}]}" -H "Accept: application/json" -H "Content-Type: application/json" --user test@testmail.com:123456 -X POST  https://yoururl.com 
```

和

```
curl -g -d "{'collection':[{'NumberOfParcels':1,'Weight':1,'Length':1,'Width':1,'Height':1}]}" -H "Accept: application/json" -H "Content-Type: application/json" --user test@testmail.com:123456 -X POST  https://yoururl.com 
```

这特别***解决***了我的错误 curl 命令错误：***bad url Colon is first character***

# c# - 使用 C# 验证 CSS 语法

> ID：15425448
> 
> 赞同：2
> 
> 时间：2013-03-15T05:32:20.110
> 
> 标签：c#, .net, css, validation, syntax

我正在寻找一个函数（也许 .Net-Framework 中有一个），我可以用它来验证不同版本（CSS 3.0、2.0）的 CSS 语法。它也可以是带有内置验证的 CSS 解析器。对于我可以使用的库或工具有什么建议吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:39:09.803

看看 ExCSS，它可以解析 CSS 2.1 和 CSS 3，

[https://github.com/TylerBrinks/ExCSS](https://github.com/TylerBrinks/ExCSS)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:38:53.637

为了验证，试试**regex**，
试试这个模式`/([A-Za-z0-9 ]+:[A-Za-z0-9 ]+;$)+/i`

# python - 将从数据库中获取的树型数据插入 python 字典

> ID：15425455
> 
> 赞同：1
> 
> 时间：2013-03-15T05:32:51.320
> 
> 标签：python, sql

我有一个如下的数据库表。数据采用树的形式

```
 CREATE  TABLE IF NOT EXISTS DOMAIN_HIERARCHY (
                COMPONENT_ID        INT             NOT NULL ,
                LEVEL               INT             NOT NULL ,
                COMPONENT_NAME      VARCHAR(127)    NOT NULL ,
                PARENT              INT             NOT NULL ,
                PRIMARY KEY ( COMPONENT_ID ) 
                ); 
```

以下数据在表中

```
 (1,1,'A',0)
                (2,2,'AA',1)
                (3,2,'AB',1)
                (4,3,'AAA',2)
                (5,3,'AAB',2)
                (6,3,'ABA',3)
                (7,3,'ABB',3) 
```

我必须检索数据并存储在 python 字典中

我写了下面的代码

```
 conx = sqlite3.connect( 'nameofdatabase.db' )
                curs = conx.cursor()
                curs.execute( 'SELECT COMPONENT_ID, LEVEL, COMPONENT_NAME, PARENT FROM DOMAIN_HIERARCHY' )
                rows = curs.fetchall()

                cmap = {}
                for row in rows:
                    cmap[row[0]] = row[2]
                hrcy={}
                for level in range( 1, maxl + 1 ):
                    for row in rows:
                        if row[1] == level:
                            if hrcy == {}:
                                hrcy[row[2]] = []
                                continue
                            parent = cmap[row[3]]
                            hrcy[parent].append( { row[2]: [] } ) 
```

我面临的问题是超过 2 级的节点，它们被添加到根而不是它们的父级；我应该在哪里更改代码？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T05:52:48.143

问题是插入后无法直接看到第二级的节点。试试这个：

```
conx = sqlite3.connect( 'nameofdatabase.db' )
curs = conx.cursor()
curs.execute( 'SELECT COMPONENT_ID, LEVEL, COMPONENT_NAME, PARENT ' +
              'FROM DOMAIN_HIERARCHY' )
rows = curs.fetchall()
cmap = {}
hrcy = None
for row in rows:
    entry = (row[2], {})
    cmap[row[0]] = entry
    if row[1] == 1:
        hrcy = {entry[0]: entry[1]}

# raise if hrcy is None

for row in rows:
    item = cmap[row[0]]
    parent = cmap.get(row[3], None)
    if parent is not None:
        parent[1][row[2]] = item[1]

print hrcy 
```

通过将每个组件的子组件映射保存在 中`cmap`，我总是可以到达每个父映射以将下一个组件添加到其中。我用以下测试数据进行了尝试：

```
rows = [(1,1,'A',0),
        (2,2,'AA',1),
        (3,2,'AB',1),
        (4,3,'AAA',2),
        (5,3,'AAB',2),
        (6,3,'ABA',3),
        (7,3,'ABB',3)] 
```

输出是这样的：

```
{'A': {'AA': {'AAA': {}, 'AAB': {}}, 'AB': {'ABA': {}, 'ABB': {}}}} 
```

# touch - 如何检测 Cocos2d-x 中 PhyicsEditor 创建的 box2d 夹具内的触摸？

> ID：15425456
> 
> 赞同：0
> 
> 时间：2013-03-15T05:33:02.610
> 
> 标签：touch, box2d, physics, cocos2d-x

我的测试环境：

Xcode 4.6，新 cocos2d-x+box2d 项目 cocos2d-2.1beta3-x-2.1.1 PhysicsEditor 1.0.10

我在[PhysicsEditor cocos2dx 演示的 HelloWorldScene 中](http://www.codeandweb.com/blog/2012/05/07/physicseditor-cocos2d-x-box2d)进行了一些修改以使其更简单，这是我的一些代码：

1.  初始化物理

    重力.Set(0.0f, 0.0f);

这样精灵就不会动了。

2.  将 ccTouchesEnded 中的源代码替换为：

    CCTouch* pTouch = (CCTouch *)touches->anyObject();

    CCPoint 位置 = pTouch->locationInView(pTouch->view());

    CCPoint convLoc = CCDirector::sharedDirector()->convertToGL(location);

    b2Vec2 v = b2Vec2(convLoc.x/PTM_RATIO, convLoc.y/PTM_RATIO);

    for (b2Body *b = world->GetBodyList(); b; b = b->GetNext()) {

    ```
    b2Fixture *f = b->GetFixtureList(); // get the first fixture
    CCSprite *sprite =(CCSprite *) b->GetUserData();

    if(sprite != NULL)
    {
        if(f -> TestPoint(v))
        {
            CCLog("You touched a body %d",sprite->getTag());
        }
    } 
    ```

    }

问题是 TestPoint 只在一个非常小的区域（不是整个形状区域）返回 true。

这是屏幕截图：

![在此处输入图像描述](../Images/1c2211c0be70299881879fa9c354a6a4.png)

有人可以建议我如何调试这个问题吗？谢谢

更新：显示从 PhysicsEditor 生成的数据

![在此处输入图像描述](../Images/38fd09e4193e959994da5547d78d902c.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-15T07:13:08.623

问题是您只探测第一个夹具。但是复杂的物体是由几个组成的。原因是

*   Box2d 每个夹具只允许 8 个顶点
*   Box2d 只能处理凸形

这就是为什么复杂的形状被分解成一个多边形列表的原因。

而是迭代夹具列表。

```
b2Fixture *f = body->GetFixtureList();
while(f)
{
    if(f -> TestPoint(v))
    {
        CCLog("You touched a body %d",sprite->getTag());
    }
    f = f->GetNext();            
} 
```

# view - iOS - 访问 IBOutlet 的名称

> ID：15425457
> 
> 赞同：4
> 
> 时间：2013-03-15T05:33:28.687
> 
> 标签：view, subview, iboutlet, classname, subviews

我有几个 UIView 的 IBOutlets；我的父视图中的几个子视图。我正在尝试遍历 UIView 的所有子视图。我想遍历所有以“view_”开头的 IBOutlet 名称的子视图

有人可以帮我吗？问题是我真的想访问 IBOutlet 的名称。

这是我的澄清代码：

```
@property (weak, nonatomic) IBOutlet UIView *view_player1;
@property (weak, nonatomic) IBOutlet UIView *view_player2;
@property (weak, nonatomic) IBOutlet UIView *view_referee1;

- (void)listSubviewsOfView:(UIView *)view {
    // Get the subviews of the view
    NSArray *subviews = [view subviews];

    // Return if there are no subviews
    if ([subviews count] == 0) return;

    for (UIView *subview in subviews) {
        NSLog(@"my subview name is: %@", subview.class);  //?? is only giving my the type eg UIView, i want it to return view_player2

      // List the subviews of subview

       [self listSubviewsOfView:subview];
    }
} 
```

如果它仅以单词“view_”开头，我如何才能真正获取子视图的 IBOutlet 的名称并进行比较

谢谢

# c++ - c++数组所有可能的组合

> ID：15425460
> 
> 赞同：2
> 
> 时间：2013-03-15T05:33:32.437
> 
> 标签：c++

我的问题是我有 14 位数字的数组我想要一个可以提供所有可能的程序

8位数字之和为**40的组合**

例如

14位数字是`1,7,7,4,6,5,5,2,4,7,10,3,9,6,`

组合应该是这样的

```
6+5+6+7+2+3+2+9=40

7+7+7+7+6+4+1+1=40 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:47:20.997

由于数组的大小只有 14，所以我不会进行优化。您的问题可以通过使用查找所有**组合来 `bitwise operations`**解决。

想法是：生成给定数组（集合）的所有子集，这个集合称为幂集。对于每个子集（组合），检查子集元素的总和是否等于 40 或不是。

请参阅以下教程，了解***如何使用 Bit Wise Operations 找到所有组合***。[http://www.codechef.com/wiki/tutorial-bitwise-operations](http://www.codechef.com/wiki/tutorial-bitwise-operations)

C++ 实现：

```
int main()
{
  int A[] = { 1, 7, 7, 4, 6, 5, 5, 2, 4, 7, 10, 3, 9, 6 };
  int n = sizeof(A) / sizeof(A[0]);
  int desiredsum = 40;
  int total_soln=0;
  for (int i = 0; i <= (1 << n); ++i)
  {
    vector < int >v;/*The vector contains element of a subset*/
    for (int j = 0; j <= n; ++j)
    {
            if (i & 1 << j)
                    v.push_back(A[j]);
    }
    if (v.size() == 8)/*Check whether the size of the current subset is 8 or not*/
    {       
            //if size is 8, check whether the sum of the elements of the current
        // subset equals to desired sum or not
            int sum = 0;
            for (int j = 0; j < v.size(); ++j)
            {
                    sum += v[j];
            }
            if (sum == desiredsum)
            {
                    for (int j = 0; j < v.size(); ++j)
                    {
                            (j ==
                             v.size() - 1) ? cout << v[j] << "=" : cout << v[j] << "+";
                    }
                    total_soln++;
                    cout << desiredsum << " " << endl;
            }
    }
  }
  cout<<"Total Solutions: "<<total_soln<<endl;
  return 0;
} 
```

IDEONE 链接：http: [//ideone.com/31jh6c](http://ideone.com/31jh6c)

# javascript - javascript - 如果子窗口关闭，则重新加载父窗口

> ID：15425463
> 
> 赞同：1
> 
> 时间：2013-03-15T05:33:44.840
> 
> 标签：javascript, jquery

如果子窗口关闭，我正在尝试重新加载父窗口。

这是我当前的代码，它打开了一个弹出窗口，但是当它关​​闭时它没有为刷新父窗口编程。我不知道要添加什么代码

```
jQuery(document).ready(function($) {

    jQuery('.top-buttons a').live('click', function(e){
        e.preventDefault();
        newwindow=window.open($(this).attr('href'),'','height=500,width=850');

        if (window.focus) {newwindow.focus()}
        return false;
    });
}); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T05:40:22.637

尝试：

```
newwindow = window.open($(this).attr('href'), '', 'height=500,width=850');
newwindow.onbeforeunload = function () {
    console.log("popup closed")
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T05:41:21.950

您可以使用 window.opener 从子窗口访问父窗口：[示例](https://www.ibm.com/developerworks/mydeveloperworks/blogs/hazem/entry/accessing_parent_window_elements_from_child_window_in_javascript5?lang=en)

因此，要重新加载父窗口，只需在处理关闭事件时调用 window.opener.location.reload()[文档。](http://www.w3schools.com/jsref/met_loc_reload.asp)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T05:42:17.843

在子窗口的关闭事件上尝试以下代码

```
 window.opener.location.reload(); 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-15T05:42:34.877

您可以使用 window.opener 访问父窗口和 window.reload() 在子窗口关闭时重新加载它。

请参考以下网址：

[如何使用 jquery 访问父窗口对象？](https://stackoverflow.com/questions/2167455/how-to-access-parent-window-object-using-jquery)

[javascript：父窗口如何知道其子窗口已关闭？](https://stackoverflow.com/questions/5240428/javascript-how-can-a-parent-window-know-that-its-child-window-closed)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-15T05:40:45.550

在父窗口中定义一个卸载事件，如

```
 function doStuffOnUnload() {
     alert("Unloaded!");
  }

 if (typeof win.attachEvent != "undefined") {
     newwindow.attachEvent("onunload", doStuffOnUnload);
 } 
 else if (typeof win.addEventListener != "undefined") {
    newwindow.addEventListener("unload", doStuffOnUnload, false);
  } 
```

从[这里](https://stackoverflow.com/questions/9248371/how-to-identify-if-the-child-window-has-been-closed-in-javascript)我把它从

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-15T05:41:15.963

你需要`window.opener`

```
window.opener.location.href = window.opener.location.href; 
```

应该添加到窗口的关闭事件中。

# scala - Scala案例类在同一文件中的顺序很重要

> ID：15425480
> 
> 赞同：2
> 
> 时间：2013-03-15T05:36:13.877
> 
> 标签：scala, playframework-2.1

我有一个包含两个案例类的 scala 文件。ContactInfo 是 Profile 的一部分。如果我将 ContactInfo 案例类放在 Profile 案例类之后，则会引发两个编译异常。为什么课程的顺序很重要？如果我在 Profile 之前移动 ContactInfo，错误就消失了。

```
[error] No Json deserializer found for type Option[models.ContactInfo]. Try to implement an implicit Writes or Format for this type.
[error]         "contactInfo" -> p.contactInfo

[error] No Json deserializer found for type models.ContactInfo. Try to implement an implicit Reads or Format for this type.
[error]     (__ \ 'contactInfo).readNullable[ContactInfo]

case class Profile(
  id: ObjectId = new ObjectId,
  contactInfo: Option[ContactInfo] = None
)

object Profile extends ProfileJson

trait ProfileJson {

  implicit val profileJsonWrite = new Writes[Profile] {
    def writes(p: Profile): JsValue = {
      Json.obj(
        "id" -> p.id,
        "contactInfo" -> p.contactInfo
      )
    }
  }
  implicit val profileJsonRead = (
    (__ \ 'id).read[ObjectId] ~
    (__ \ 'contactInfo).readNullable[ContactInfo]
  )(Profile.apply _)
}

case class ContactInfo(
  givenName: String
)

object ContactInfo {
  implicit val contactInfoJsonWrite = new Writes[ContactInfo] {
    def writes(a: ContactInfo): JsValue = {
      Json.obj(
        "givenName" -> a.givenName
      )
    }
  }

  implicit val contactInfoJsonRead = (
    (__ \ 'givenName).read[String]
  )(ContactInfo.apply _)
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T20:35:18.503

我不认为课程的顺序是问题。我认为隐含找到它们的规则是你的问题。尝试更改伴随对象的顺序。

# mysql - 案例中的多列使用连接

> ID：15425483
> 
> 赞同：0
> 
> 时间：2013-03-15T05:36:29.567
> 
> 标签：mysql, case

我有一个表“payments”和“payments1”。两个表都有一个连接。

```
Payments:
-----------
id  type  amount values
1    A     10     x
2    B     20     y
2    A     30     z 
```

我正在尝试按 id 和类型分组。这样我就可以得到结果

```
id   type  total_amount type1 total_amount(sum)
-----------------------------------------------
1     A      10                             
2     A      20           B       30 
```

我试过以下查询

```
select 
case when r.type = 'A' then @payment+sum(r.amount) end  as total_amount,
case when r.type = 'B' then @refund+sum(r.amount) end as total_amount(sum)
from payments r 
```

但在 CASE 中，它只针对一种类型执行？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:20:09.423

这个问题有点不清楚，但我假设你正在寻找 group by 声明。

```
select 
case when r.type = 'A' then @payment+sum(r.amount) end  as total_amount,
case when r.type = 'B' then @refund+sum(r.amount) end as total_amount(sum)
FROM payments r
GROUP BY r.type 
```

对于表中的每个不同的 r.type 值，在 select 语句中都会有带有聚合日期的结果行。

还有一个不同的建议：

```
select 
(case r.type when 'A' then @payment else @refund end)+sum(r.amount) as total_amount
FROM payments r
GROUP BY r.type 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T07:31:07.923

如果类型是固定的，认为您需要这样的查询：

```
SELECT
  id,
  'A' as type,
  SUM(CASE WHEN type='A' THEN amount END) sum_typeA,
  'B' as type1,
  SUM(CASE WHEN type='B' THEN amount END) sum_typeB
FROM
  Payments
GROUP BY
  id 
```

请[在此处](http://sqlfiddle.com/#!2/d6d8ac)查看小提琴。

# c++ - 模板函数中的 C++ 内存错误

> ID：15425484
> 
> 赞同：0
> 
> 时间：2013-03-15T05:36:33.033
> 
> 标签：c++, memory-leaks, stl, queue

我在运行时收到内存错误消息，我是 STL 的新手，所以我不确定我是否需要以特殊方式处理队列，比如在函数中删除它们或诸如此类。

我将错误追溯到这个函数

```
template <typename T>  
bool contains(std::queue<T> set, T val){
        std::queue<T> hold;
        bool isContained = false;

        if (set.front() == val) isContained = true;
        while(!set.empty()){
                hold.push(set.front());
                set.pop();
                if (set.front() == val) isContained = true;
        }

        while(!hold.empty()){
                set.push(hold.front()); 
                hold.pop();
        }

        return isContained;
} 
```

在我的 main() 中，我成功地为队列调用了这个函数 20 次，然后在第一次在队列上调用该函数时，程序在函数的两个循环之间吐出一条“内存错误”消息。

我正在使用 gnu 编译器。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T05:41:02.027

在您的第二次调用中`set.front()`，不能保证集合不为空。

# google-maps - 放入灯箱时，Google Map 会以偏移量呈现

> ID：15425485
> 
> 赞同：2
> 
> 时间：2013-03-15T05:36:38.007
> 
> 标签：google-maps, google-maps-api-3, ember.js

我正在使用 Ember.js 来实现一个包含谷歌地图的灯箱。问题是，当地图位于灯箱中时，它会向上移动并在我预期的位置向左移动。底部和右侧的剩余空间只是一个无法拖动地图的空白区域。当我在主页中渲染相同的地图视图时，没有问题。我还注意到，如果我打开开发者工具（在 Chrome 和 Firefox 中），地图就会变得正确。我不知道为什么会这样。

这是 JSFiddle：http: [//jsfiddle.net/hekevintran/qt5k4/9/](http://jsfiddle.net/hekevintran/qt5k4/9/)。

截图（底图在灯箱内）：

![在此处输入图像描述](../Images/7b2c9199ca8132875891c824cd0811e2.png)

HTML：

```
<script src="http://maps.googleapis.com/maps/api/js?libraries=places&sensor=false"></script>

<script type="text/x-handlebars" data-template-name="buttons">
<button {{action "openBox" }}>Open Box</button>
<button {{action "closeBox" }}>Close Box</button>
{{view App.MapView}}    
</script>

<script type="text/x-handlebars" data-template-name="lightbox">
<div style="
background-color: lightgray;
border: 2px solid #000000;">
    {{view App.MapView}}
</div>
</script> 
```

JavaScript：

```
App = Ember.Application.create({});

App.MapView = Ember.View.extend({
    installMap: function () {
        var mapOptions = {
            // San Francisco
            center: new google.maps.LatLng(37.773429,-122.424774),
            zoom: 10,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        new google.maps.Map(this.$()[0], mapOptions);
    },
    didInsertElement: function () {
        this.$().css(
            {'height': '350px',
             'width': '350px'}
        );
        this.installMap();
    }
});

Lightbox = Ember.Object.extend({
    isVisible: false,
    open: function () {
        this.set('isVisible', true);
    },
    close: function () {
        this.set('isVisible', false);
    },
    view: function () {
        var controller = this;
        return Ember.View.extend({
            templateName: 'lightbox',
            controller: controller,
            isVisibleBinding: 'controller.isVisible'
        })
    }.property()
});

lightbox = Lightbox.create();

Ember.View.create({
    templateName: 'buttons',
    controller: Ember.Object.create({
        openBox: function () {
            lightbox.open();
        },
        closeBox: function () {
            lightbox.close();
        }
    })
}).append();

lightbox.get('view').create().append(); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:14:40.933

问题是您在第一次加载页面时在灯箱中创建地图。当您`lightbox.get('view').create().append();`在 JavaScript 页面末尾调用时会发生这种情况。

但是灯箱还不可见，这让 Maps API 感到困惑。您可能可以通过`resize`在打开灯箱后触发地图上的事件来解决此问题，但到目前为止最好避免创建地图和灯箱视图，直到您需要它们。

这解决了问题，并且作为奖励，您的页面加载速度更快，因为您避免在加载时创建第二张地图。

为此，我将代码的最后一部分替换为：

```
var lightbox;

Ember.View.create({
    templateName: 'buttons',
    controller: Ember.Object.create({
        openBox: function () {
            if( ! lightbox ) {
                lightbox = Lightbox.create();
                lightbox.get('view').create().append();
            }
            lightbox.open();
        },
        closeBox: function () {
            if( lightbox ) {
                lightbox.close();
            }
        }
    })
}).append(); 
```

如您所见，我将`lightbox = Lightbox.create();`and`lightbox.get('view').create().append();`调用移到了内部`openBox()`，但仅在第一次调用此函数时才调用它们。

我还添加了一个守卫，`closeBox()`因此如果尚未创建它，它不会尝试关闭不存在的灯箱。

这是工作代码的[更新小提琴](http://jsfiddle.net/QjXBu/)。

# perl - 如何在 Windows XP 上使用 ActivePerl 5.10 通过 POP3 阅读 Gmail？

> ID：15425489
> 
> 赞同：0
> 
> 时间：2013-03-15T05:37:07.853
> 
> 标签：perl, email, windows-xp, gmail, pop3

我正在使用带有 ActiveState Perl 5.10.0 的 Windows XP SP3，并且我编写了这个函数——从 CPAN 的 Net::POP3 获取/编辑——试图通过 POP3 读取 Gmail：

```
 my $pop = Net::POP3->new('pop.gmail.com', 
                            Timeout => 60, 
                            Port => 995, 
                            Debug => 1) || die "$!";
  my $num = $pop->login('xyz@gmail.com', 'password');
  if (!defined($num))
  {
    die "Error: couldn't sign-in to your email account.\n";
  }
  elsif ($num > 0)
  {
    warn "There are $num message(s) in your inbox.\n";
    my $msgnums = $pop->list;
    foreach my $msgnum (keys %$msgnums)
    {
      my $msg = $pop->get($msgnum);
      print @$msg;
    }
  }
  else
  {
    die "There are no messages in your inbox. (Nothing to do.)\n"
  }

  $pop->quit; 
```

代码只是超时并显示此错误消息：

```
Use of uninitialized value in numeric eq (==) at C:/Perl/lib/Net/POP3.pm line 59.
Bad file descriptor at pop3.pl line xxx (i.e., the Net::POP3->new() line) 
```

在超时发生之前来自 Net::POP3 的调试信息是：

```
Net::POP3>>> Net::POP3(2.29)
Net::POP3>>>   Net::Cmd(2.29)
Net::POP3>>>     Exporter(5.62)
Net::POP3>>>   IO::Socket::INET(1.31)
Net::POP3>>>     IO::Socket(1.30_01)
Net::POP3>>>       IO::Handle(1.27)
Net::POP3=GLOB(0x20d253c): Timeout at pop3.pl line xxx 
```

我也尝试过使用`Mail::POP3Client`；在 Windows XP 上没有乐趣，因为 CPAN 和 PPM 都不会安装它及其依赖项（`IO::SOCKET::SSL`等等）。

任何想法我的代码有什么问题和/或如何使用 ActivePerl 5.10.0 在 Windows XP 上通过 POP3 读取 Gmail？

根据Gmail，标准配置说明是：

```
Incoming Mail (POP3) Server - requires SSL:  pop.gmail.com
Use SSL: Yes
Port: 995 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-15T09:10:42.983

您需要使用 SSL 访问 GMail。这意味着您需要安装 Perl 模块`IO::Socket::SSL`。但这很简单。ActiveState 提供了一个很好的 cpan 客户端和大量的二进制“PPM”包。它确实需要您将 Perl 升级到 5.14 或 5.16 或获得支持旧 perls 所需的某种合同。

你也可以使用[草莓 Perl](http://strawberryperl.com)；它具有同样出色的 cpan 客户端 + 构建工具。

# python - Pandas：更高效的 .map() 函数或方法？

> ID：15425492
> 
> 赞同：0
> 
> 时间：2013-03-15T05:37:25.390
> 
> 标签：python, pandas

我正在使用一个相当大的数据集，其中包含约 3700 万个数据点，这些数据点按层次索引为国家、产品代码、年份三类。country 变量（即国家名称）是相当杂乱的数据，由以下项目组成：“Austral”，代表“Australia”。我已经构建了一个简单的guess_country()，它将字母与单词匹配，并从已知的country_names 列表中返回最佳猜测和置信区间。鉴于数据的长度和层次结构的性质，将 .map() 用于 Series: country 的效率非常低。[guess_country 函数需要 ~2ms / 请求]

我的问题是：是否有更有效的 .map() 采用系列并仅对唯一值执行映射？（鉴于有很多重复的国名）

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T05:41:50.687

没有，但如果您只想应用于独特的价值观，那就自己做吧。获取`mySeries.unique()`，然后使用您的函数预先计算这些唯一值的映射替代项，并使用生成的映射创建一个字典。然后将 pandas`map`与字典一起使用。这应该与您预期的一样快。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T07:51:58.527

调用`guess_country()`唯一的国家名称，并以`country_map`原始名称为索引，转换后的名称为值，创建一个 Series 对象。然后你可以使用`country_map[df.country]`来做转换。

```
import pandas as pd
c = ["abc","abc","ade","ade","ccc","bdc","bxy","ccc","ccx","ccb","ccx"]
v = range(len(c))
df = pd.DataFrame({"country":c, "data":v})

def guess_country(c):
    return c[0]

uc = df.country.unique()
country_map = pd.Series(list(map(guess_country, uc)), index=uc)
df["country_id"] = country_map[df.country].values
print(df) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T05:46:40.103

解决方案是利用 DataFrame 中的分层索引！

```
data = data.set_index(keys=['COUNTRY', 'PRODUCTCODE', 'YEAR'])
data.index.levels[0] = pd.Index(data.index.levels[0].map(lambda x: guess_country(x, country_names)[0])) 
```

这很好用......通过替换 data.index.levels[0] -> 当 COUNTRY 在索引中为 0 级时，替换然后通过数据模型传播。

# php - 使用表格式中的 fwrite() 写入文件

> ID：15425494
> 
> 赞同：-2
> 
> 时间：2013-03-15T05:37:31.490
> 
> 标签：php, mysql

嗨，我的代码运行良好，并且将我的所有数据都提取到了 excel 表中……但它的格式不正确……如果我想将数据写入表格格式怎么办，看起来像这样……正如我提到的以下

```
 <table border="0" cellspacing="0" cellpadding="0" >
    <tbody> 

         <tr>   <input name="id" type="hidden" value="<?php echo $data['0']; ?>" >
            <td><?php echo $data['2']; ?></td>
            <td><?php echo $data['3']; ?></td>
            <td><?php echo $data['8']; ?></td>
            <td><?php echo $data['9']; ?></td>          
            <td><?php echo $data['11']; ?></td>
            <td><?php echo $data['12']; ?></td>
            <td><?php echo $data['4']; ?></td>
            <td><?php echo $data['5']; ?></td>
            <td><?php echo $data['6']; ?></td>
            <td><?php echo $data['13']; ?></td>
             <td><?php echo $data['10']; ?></td>
            <td><?php echo $data['14']; ?></td>
            <td><input name="edit" type="submit" value="Edit">
            <input  name="BOOK" type="submit" value="Book" style="color:#d90f0f">

            </td>
            </tr>

    </tbody>
     </table>"

<?php 
            include 'functions.php';
          ob_start();

  if($_POST['types'] == 'name') {  

      $query = "SELECT * FROM visitor_detail WHERE name='".$_POST['filter']."'                               ORDER BY id     DESC ";  
   }  
                     elseif($_POST['types'] == 'mobile') {  

        $query = "SELECT * FROM visitor_detail WHERE mobile='".$_POST['filter']."' ORDER BY id   DESC ";  
   } 
          elseif($_POST['types'] == 'OccasionType') {  

    $query = "SELECT * FROM visitor_detail WHERE OccasionType='".$_POST['filter']."' ORDER BY id DESC ";  
        } 

     elseif($_POST['types'] == 'InquiryDate') {  
 $query="SELECT * FROM visitor_detail WHERE TodayDate between '".$_POST['From']."' and   '".$_POST['TO']."' ORDER BY id DESC " ;  
   }

  elseif($_REQUEST['types'] == 'OccasionDate') {  
                 $que="SELECT * FROM visitor_detail WHERE date between       '".$_REQUEST['From']."' and '".$_REQUEST['To']."' ORDER BY id DESC ";  
                }
    else {  
             $query = "SELECT * FROM visitor_detail ORDER BY id DESC ";  
        } 

   $sql = mysql_query($query); 

              $line1="Id\tgender\tname\tmobile\taddress\temail\totherno\tzipcode\tOccasionType\tdate\tgue      st\tdescription\tTodayDate\tauther\t";
         $data="$line1\n";
       $br = '<br>';

      $fileName = "./my.txt";
  $file = fopen($fileName, "w");
  fwrite($file, $data."\n");
         $i=1;  
             while($row = mysql_fetch_assoc($sql))
                  {
        $line2=$i . "\t" . $row['gender'] . "\t" . $row['name'] . "\t" .                                                     $row['mobile'] . "\t" .    $row['address'] . "\t" . $row['email'] . "\t" . $row['otherno']  . "\t" .     $row['zipcode'] .    "\t" . $row['OccasionType'] . "\t" . $row['date'] . "\t"                                 . $row['guest'] . "\t" .    $row['description'] . "\t" . $row['TodayDate'] . "\t" .     $row['auther'] . "\t";
  $data1=$line2.$br;
     echo $data1;
          fwrite($file, $data1);
            $i++;
  }
            fclose($file);

 header('Content-Type: application/csv');
header('Content-Disposition: attachment; filename=my.csv');
  header('Pragma: no-cache');
  fclose($file); ?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:42:14.570

您正在文本文件中写入

```
$fileName = "./my.txt"; 
```

并读取 csv 文件

```
header('Content-Disposition: attachment; filename=my.csv'); 
```

我认为应该是

```
$fileName = "./my.csv"; 
```

# wpf - 从另一个类更改 WPF 主窗口标签并分离线程

> ID：15425495
> 
> 赞同：8
> 
> 时间：2013-03-15T05:37:34.603
> 
> 标签：wpf, dispatcher, mainwindow

我正在开发一个 WPF 应用程序。我有一个名为“Status_label”的标签`MainWindow.xaml`。我想从不同的类（signIn.cs）更改它的内容。通常我可以做到这一点

```
var mainWin = Application.Current.Windows.Cast<Window>().FirstOrDefault(window => window is MainWindow) as MainWindow;
mainWin.status_lable.Content = "Irantha signed in"; 
```

但我的问题是，当我尝试通过 signIn.cs 类中的不同线程访问它时，它给出了一个错误：

```
The calling thread cannot access this object because a different thread owns it. 
```

我可以通过使用`Dispatcher.Invoke(new Action(() =>{..........`或其他方式解决这个问题吗？

**编辑：** 我将从不同的类以及单独的线程中调用此标签更改操作

**主窗口.xaml**

```
<Label HorizontalAlignment="Left" Margin="14,312,0,0" Name="status_lable" Width="361"/> 
```

**登录.cs**

```
 internal void getStudentAttendence()
    {
        Thread captureFingerPrints = new Thread(startCapturing);
        captureFingerPrints.Start();
    }

void mySeparateThreadMethod()
{
    var mainWin = Application.Current.Windows.Cast<Window>().FirstOrDefault(window => window is MainWindow) as MainWindow;
    mainWin.status_lable.Dispatcher.Invoke(new Action(()=> mainWin.status_lable.Content ="Irantha signed in"));
} 
```

line var mainWin 返回错误`The calling thread cannot access this object because a different thread owns it.`

请指导我，

谢谢

* * *

## 回答 #1

> 赞同：25
> 
> 时间：2013-03-28T06:40:06.063

我解决了我的问题，希望有人需要这个。但不知道这是否是优化的方式。

在我的**mainWindow.xaml.cs**中：

```
 public  MainWindow()
    {
      main = this;
    }

    internal static MainWindow main;
    internal string Status
    {
        get { return status_lable.Content.ToString(); }
        set { Dispatcher.Invoke(new Action(() => { status_lable.Content = value; })); }
    } 
```

来自我的**SignIn.cs**课程

```
 MainWindow.main.Status = "Irantha has signed in successfully"; 
```

这对我来说很好。您可以从此处找到更多详细信息，[从另一个类和单独的线程更改 WPF 窗口标签内容](https://iranthajayasekara.com/blog/change-wpf-window-label-content-from-another-class-and-a-separate-thread.html)

干杯！！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-15T07:14:17.393

试试下面的片段：

```
status_lable.Dispatcher.Invoke(...) 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2015-08-07T09:07:49.943

多亏了答案，他们把我引向了正确的方向。我最终得到了这个简单的解决方案：

```
public partial class MainWindow : Window
{
    public static MainWindow main;

    public MainWindow()
    {
        InitializeComponent();                        
        main = this;
    }
} 
```

然后在我的事件处理程序中运行在另一个线程中的另一个类中：

```
internal static void pipeServer_MessageReceived(object sender, MessageReceivedEventArgs e)
    {
        MainWindow.main.Dispatcher.Invoke(new Action(delegate()
        {
            MainWindow.main.WindowState = WindowState.Normal;
        }));
    } 
```

当通过命名管道接收到我的消息时，这会显示最小化的窗口。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2015-01-06T16:25:57.197

谢谢！我最终得到了一个略有不同的解决方案，但您的回答肯定为我指明了正确的方向。

对于我的应用程序，我在 main 中有很多控件，并且 main 上的大多数方法调用都发生在 main 范围内，因此使用 default { get; 更简单。在 MainWindow.xaml.cs 中设置 }（或仅在 XAML 中定义控件）。

在我的父窗口的代码隐藏中，我在这样的单独线程中启动 MainWindow（简化示例）。关键是全局定义 main，即使它是在 Window_Loaded() 内部实例化的：

```
 public ParentWindow()
    {
        InitializeComponent();
    }

    MainWindow main;

    private void Window_Loaded(object sender, RoutedEventArgs e)
    {
        Thread otherThread = new Thread(() =>
        {
            main = new MainWindow();
            main.Show();

            main.Closed += (sender2, e2) =>
                main.Dispatcher.InvokeShutdown();

            System.Windows.Threading.Dispatcher.Run();
        });

        otherThread.SetApartmentState(ApartmentState.STA);
        otherThread.Start();

    } 
```

然后在我的 MainWindow 代码隐藏中，我只是与控件交互，就好像它是一个简单的单线程应用程序一样（在我的情况下，子线程没有对父线程的控制）。但是，我可以像这样从父线程控制 main：

```
private void button_Click(object sender, RoutedEventArgs e)
        {
            main.Dispatcher.Invoke(new Action(delegate () 
                {
                    main.myControl.myMethod(); 
                }));

        } 
```

通过这样做，我避免了在代码隐藏中定义所有内容以及在 MainWindow.xaml.cs 的代码隐藏中使用调度程序的复杂性。我的应用程序中只有几个地方可以从父窗口修改 main ，所以这对我来说更简单，但你的方法似乎同样有效。再次感谢！

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-04-26T18:23:41.783

没有使用的简单技巧`Dispatcher.Invoke`：在你的`Window`课堂上放这个：

```
public partial class MyWindow: Window
{
    public static MyWindow mywin;
    [...]

    public MyWindow()
    {
        InitializeComponent();
        mywin = this;
        [...]
    }

    [...]
} 
```

接下来在您的第二堂课中调用您需要添加您的窗口名称+您分配的标签的属性。这是一个例子：

```
internal class MySecondClass
{
    internal void ChangeAValue()
    {
        MyWindow.mywin.ATextBox.Text = "Some text"; // I'm changing for example the text for a textbox in MyWindow.
    }
} 
```

# c# - 如何在使用 HttpWebRequest 和 GET 方法调用的 rest 服务中添加 Header

> ID：15425496
> 
> 赞同：0
> 
> 时间：2013-03-15T05:37:46.913
> 
> 标签：c#, asp.net, silverlight, http, wcf-data-services

如何在使用`GET`in 方法调用 restful 服务时添加标头值`Silverlight`？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T09:24:27.467

您可以通过 ClientHttp 创建 HttpWebRequest，例如：

```
var url = new Uri("your url");
var request = (HttpWebRequest)WebRequestCreator.ClientHttp.Create(url);
request.Headers[HttpRequestHeader.Pragma] = "no-cache";
request.Method = "GET"; 
```

# eclipse - 尝试从eclipse spring xml文件连接到hive时出现套接字连接错误

> ID：15425498
> 
> 赞同：1
> 
> 时间：2013-03-15T05:37:50.030
> 
> 标签：eclipse, spring, hadoop, hive

org.springframework.beans.factory.BeanCreationException：创建名为“hiveServer”的bean时出错：调用init方法失败；嵌套异常是 org.apache.thrift.transport.TTransportException：无法在地址 0.0.0.0/0.0.0.0:10000 上创建 ServerSocket。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-18T09:07:25.797

可能是配置文件中的 bean 声明不正确。

您可以按照以下提到的步骤操作：

1.  创建 hive-config.xml

    ```
    <beans xmlns="http://www.springframework.org/schema/beans"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:c="http://www.springframework.org/schema/c"
        xmlns:context="http://www.springframework.org/schema/context"
        xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">

    <context:property-placeholder location="hive.properties"/> 
    <bean id="hive-driver" class="org.apache.hadoop.hive.jdbc.HiveDriver"/>
    <bean id="hive-ds" class="org.springframework.jdbc.datasource.SimpleDriverDataSource"
     c:driver-ref="hive-driver" c:url="${hive.url}"/>
    </beans> 
    ```

2.  创建 hive.properties

    ```
    hive.url=jdbc:hive://localhost:10000/default 
    ```

3.  添加spring-jdbc jar

4.  在java代码中获取连接。

    ```
    ApplicationContext ac = new FileSystemXmlApplicationContext("hive-config.xml");
    DataSource dataSource =  (DataSource) ac.getBean("hive-ds");
    Connection con =dataSource.getConnection(); 
    ```

并开始向 hiveServer 发起查询

# c++ - 内存使用的奇怪输出

> ID：15425499
> 
> 赞同：0
> 
> 时间：2013-03-15T05:37:55.613
> 
> 标签：c++

我在[如何在 C++ 运行时获取内存使用情况中遇到了一个代码？](https://stackoverflow.com/questions/669438/how-to-get-memory-usage-at-run-time-in-c). 该代码是由于@DonWakefield 我运行了两个代码实例并得到了不同的结果。

```
Code:
#include <unistd.h>
#include <ios>
#include <iostream>
#include <fstream>
#include <string>

//////////////////////////////////////////////////////////////////////////////
//
// process_mem_usage(double &, double &) - takes two doubles by reference,
// attempts to read the system-dependent data for a process' virtual memory
// size and resident set size, and return the results in KB.
//
// On failure, returns 0.0, 0.0

void process_mem_usage(double& vm_usage, double& resident_set)
{
using std::ios_base;
using std::ifstream;
using std::string;

vm_usage     = 0.0;
resident_set = 0.0;

// 'file' stat seems to give the most reliable results
//
ifstream stat_stream("/proc/self/stat",ios_base::in);

// dummy vars for leading entries in stat that we don't care about
//
string pid, comm, state, ppid, pgrp, session, tty_nr;
string tpgid, flags, minflt, cminflt, majflt, cmajflt;
string utime, stime, cutime, cstime, priority, nice;
string O, itrealvalue, starttime;

// the two fields we want
//
unsigned long vsize;
long rss;

stat_stream >> pid >> comm >> state >> ppid >> pgrp >> session >> tty_nr
           >> tpgid >> flags >> minflt >> cminflt >> majflt >> cmajflt
           >> utime >> stime >> cutime >> cstime >> priority >> nice
           >> O >> itrealvalue >> starttime >> vsize >> rss; // don't care about the 
rest

stat_stream.close();

long page_size_kb = sysconf(_SC_PAGE_SIZE) / 1024; // in case x86-64 is configured to  
use 2MB pages
vm_usage     = vsize / 1024.0;
resident_set = rss * page_size_kb;
}

Test1#
int main()
{
 using std::cout;
 using std::endl;

 std::vector<int> vec1;
 double vm, rss;
 double vm1, rss1;

 process_mem_usage(vm, rss);

 vec1.resize(800000);

 process_mem_usage(vm1, rss1);
 cout << "VM: " << vm1-vm << "; RSS: " << rss1-rss << endl;

 vec1.erase(vec1.begin(), vec1.end());
 process_mem_usage(vm1, rss1);
 cout << "VM: " << vm1-vm << "; RSS: " << rss1-rss << endl;
 }

 Output:
 VM: 3128; RSS: 3208
 VM: 3132; RSS: 3316

 Test2#
 int main() 
 {
 using std::cout;
 using std::endl;
 int *vec1;
 double vm, rss;
 double vm1, rss1;

 process_mem_usage(vm, rss);

 vec1 = new int [800000];

 process_mem_usage(vm1, rss1);
 cout << "VM: " << vm1-vm << "; RSS: " << rss1-rss << endl;

 delete[] vec1;
 process_mem_usage(vm1, rss1);
 cout << "VM: " << vm1-vm << "; RSS: " << rss1-rss << endl;
 }

 Output:
 VM: 3128; RSS: 76
 VM: 4; RSS: 180 
```

为什么这些测试表现不同。结果不应该更接近吗？甚至向量/指针消耗的内存也不会反映在输出中。

我的另一个问题是输出显示向量占用大内存，而 test2# 显示 int 数组占用低内存。80k 个整数需要 3125kB 的内存。为什么有区别？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:14:22.187

a 的底层结构`vector`是一个数组，它可能大于或等于填充元素的数量（这称为`capacity`of the `vector`）。这是为了防止在插入和删除元素时不断重新分配整个数组。

当您`erase`使用元素时，容量不会改变，并且底层结构仍然存在。

[这个问题](https://stackoverflow.com/q/1111078/1711796)包括如何改变容量。推荐的方法似乎是：

```
vector<int>().swap(vec1); 
```

# properties - 正确设置 gradle 属性的默认值

> ID：15425507
> 
> 赞同：6
> 
> 时间：2013-03-15T05:38:24.043
> 
> 标签：properties, groovy, gradle

有以下内容`build.gradle`：

```
uploadArchives {
    repositories {
        mavenDeployer {
            repository(url: "$repoUrl") {
                authentication(userName: "$repoUser", password: "$repoPassword")
            }
        }
    }
} 
```

我怎样才能`$repoUrl`有一个默认值`file://$buildDir/repo`？

我试图`repoUrl=file://$buildDir/repo`输入`gradle.properties`，但它没有像我预期的那样工作，因为它似乎`$repoUrl`没有被递归评估。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T09:46:28.403

看起来是因为`repoUrl=file://$buildDir/repo`被视为纯字符串，没有`buildDir`替换。

如果可以试试这个：

`repository(url: repoUrl.replace('$buildDir', "$buildDir")) {`

或者是这样的：

```
// run as 'gradle build -PreportUrl=blabla'
def repoUrl = "file://$buildDir/repo"
if (binding.variables.containsKey('repoUrl ')) {
 repoUrl = binding.variables.get('repoUrl ')
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T09:52:50.030

您不能像`project.buildDir`从属性文件中那样引用 Gradle 属性。属性文件非常有限，一般来说，我建议将所有信息保留在 Gradle 构建脚本中。您可以拥有任意数量的构建脚本，并将它们包含`apply from: "path/to/script"`在其他脚本中。

# html - 样式化 JSF ICEFaces ace:dialog

> ID：15425512
> 
> 赞同：0
> 
> 时间：2013-03-15T05:38:37.130
> 
> 标签：html, jsf, css, icefaces

谁能告诉我如何将自己的样式添加到`ace:dialog`组件中？它给出了一个`styleClass`属性。但这`ace:dialog`也有自己的风格。我不是一个好的css人，所以你能帮我解决这个问题吗？

谢谢你。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T11:07:07.997

很明显的方法是使用任何浏览器的代码检查器，最好是 Firefox 的 Firebug，检查由 UI 组件套件和 CSS 样式生成的 HTML 标记。这样你就可以轻松地覆盖你想要的 CSS。

更接近问题，来自[展示示例](http://icefaces-showcase.icesoft.org/showcase.jsf?grp=aceMenu&exp=dialogBean)[`<ace:dialog>`](http://res.icesoft.org/docs/v3_latest/ace/tld/ace/dialog.html)的标记

```
<ace:dialog id="dialog"
            header="A sample dialog overview example"
            widgetVar="sampleDialog"
            closable="false"
            modal="true"
            draggable="false"
            showEffect="clip"
            hideEffect="fade"
            width="400">
    <h:form>...</h:form>
</ace:dialog> 
```

显示以下 HTML 标记和样式：

```
<div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-resizable"
     style="display: block; z-index: 1002; outline: 0px none; position: absolute; height: auto; min-width: 150px; width: 400px; top: 409.5px; left: 488px;" tabindex="-1" role="dialog" aria-labelledby="ui-dialog-title-dialog_main">
    <div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix">
        <span id="ui-dialog-title-dialog_main" class="ui-dialog-title">A sample dialog overview example</span>
    </div>
    <div id="dialog_main" class="ui-dialog-content ui-widget-content" 
         style="width: auto; min-height: 0px; height: auto;" scrolltop="0" scrollleft="0">
        <form>...</form>
    </div>
    <div class="ui-resizable-handle ui-resizable-n" style="z-index: 1000;"></div>
    ...
</div> 
```

因此，检查告诉我们以下样式：

*   `ui-dialog`为基地`<div>`；
*   `ui-dialog-titlebar`对于标题容器；
*   `ui-dialog-title`对于标题中的文本；
*   `ui-dialog-content`为对话内容`<div>`。

更改检查器中的 CSS 以实现您想要的，并遵循 BalusC 的示例，了解如何使用您的自定义样式覆盖预定义的主题 CSS，来自[如何覆盖 primefaces.css 中定义的那些类？](https://stackoverflow.com/questions/8768317/how-do-i-override-those-classes-defined-in-primefaces-css/8774997#8774997)问题。

# sql - Sql Server 存储过程错误：“当前命令发生严重错误。如果有任何结果，应丢弃”

> ID：15425513
> 
> 赞同：0
> 
> 时间：2013-03-15T05:38:37.550
> 
> 标签：sql, error-handling, return

我有一个 sql 存储过程，我在其中检查验证，如果验证失败，Sp 就在这里停止。。验证后停止，我使用了 RETURN；

现在，在为该无效输入执行测试用例时，我收到一个错误，因为“当前命令发生了严重错误。如果有的话，结果应该被丢弃”我确定这是从我使用的 RETURN 代码中抛出的

有什么我需要做的吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2017-07-25T15:16:37.843

我有同样的问题。原因是我的客户端代码中的 OUTPUT 参数数据类型错误。

# java - 从Android中的StackMob查询（匿名内部类）中提取对象的正确方法

> ID：15425522
> 
> 赞同：0
> 
> 时间：2013-03-15T05:39:11.707
> 
> 标签：java, android, stackmob

StackMob 文档让我们知道如何正确执行查询：[https ://developer.stackmob.com/tutorials/android/Query-an-Object](https://developer.stackmob.com/tutorials/android/Query-an-Object)

我的问题是在 Java 中从查询的内部类中实际提取这些信息的正确方法是什么？

```
MyObject valueToReturn;

MyObject.query(MyObject.class, 
    new StackMobQuery().field(
    new StackMobQueryField(field).isEqualTo(val)), 
    new StackMobQueryCallback<MyObject>() {
        @Override
        public void failure(StackMobException arg0) {
            //nothing to see here.
        }
        @Override
        public void success(List<MyObject> arg0) {
            //
            //How do I set valueToReturn = arg0.get(0)?
            //or in any way access this list outside the
            //inner class.
            return;
        }
}); 
```

这里似乎有一个解决方案，但肯定有更好的方法。 [https://stackoverflow.com/a/5977866/1528493](https://stackoverflow.com/a/5977866/1528493)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-15T18:23:50.387

我来自 StackMob，尽管这更像是一个一般的 Android 问题。

听起来您正在尝试进行同步 IO。MyObject.query 是异步的，这意味着它将立即返回并继续执行。到调用成功回调时，您所在的方法很可能已经完成并且 valueToReturn 很可能已经超出范围，这就是您不允许设置它的原因。

查询方法是异步的是有原因的。您不想在 android 的主线程上执行 IO，因为这会阻塞其他所有内容。在 Android 上，您需要更多地考虑回调。而不是尝试这样做：

```
void myMethod() { MyObject valueToReturn;

    MyObject.query(MyObject.class, ..., new StackMobQueryCallback<MyObject>() {
        @Override
        public void failure(StackMobException arg0) {
          //nothing to see here.
        }
        @Override
        public void success(List<MyObject> arg0) {
            valueToReturn = arg0.get(0);
        }
    });
    blockUnilItReturns()
    doSomethingWith(valueToReturn);
} 
```

你想做这样的事情：

```
void myMethod() {
    MyObject.query(MyObject.class, ..., new StackMobQueryCallback<MyObject>() {
        @Override
        public void failure(StackMobException arg0) {
          //nothing to see here.
        }
        @Override
        public void success(List<MyObject> arg0) {
            doSomethingWith(arg0.get(0));
        }
    });
} 
```

然后，您可能想要执行 runOnUiThread 以显示 Toast 或其他 UI 操作。这是一种不同的编程思维方式，但它是您在移动应用程序中处理 IO 的异步性质的方式。

如果您有一个非常好的理由希望您的方法是同步的，您可以使用您链接到的数组技巧和类似 CountDownLatch [http://docs.oracle.com/javase/1.5.0/docs/ api/java/util/concurrent/CountDownLatch.html](http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/CountDownLatch.html) 只要确保它真的是你想要的，我怀疑它不是。

# javascript - Url 中每个字符的编码，包括 - _ 。！~ * ' ( ) 在javascript中

> ID：15425526
> 
> 赞同：0
> 
> 时间：2013-03-15T05:39:21.187
> 
> 标签：javascript

我使用 encodeURIComponent() 方法在 javascript 中对 url 进行编码..通过使用该方法，一些字符也没有被编码..任何人都可以建议一种方法或代码来编码 Url 中的每个字符，包括
- _ 。！~ * ' ( )。谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:12:54.087

您可以编写自己的编码和解码函数：

```
function encodeString(s) {
  var result = [];
  for (var i=0, iLen=s.length; i<iLen; i++) {
    result.push('%' + s.charCodeAt(i));
  }
  return result.join('');
}

function decodeString(s) {
  s = s.split('%');
  result = [];

  for (var i=0, iLen=s.length; i<iLen; i++) {
    result.push(String.fromCharCode(s[i]));
  }
  return result.join('');
}

var s = "- _ . ! ~ * ' ( )";

alert(encodeString(s)); // %45%32%95%32%46%32%33%32%126%32%42%32%39%32%40%32%41

alert(decodeString(encodeString(s))); // - _ . ! ~ * ' ( ) 
```

### 编辑

以上似乎以 10 为基数进行编码，而 encodeURIComponent 似乎以 16 为基数进行编码，因此这是使用以 16 为基数（十六进制）的替代方法：

```
function encodeString(s) {
  var result = [];
  for (var i=0, iLen=s.length; i<iLen; i++) {
    result.push('%' + s.charCodeAt(i).toString(16));
  }
  return result.join('');
}

function decodeString(s) {
  s = s.split('%');
  result = [];

  for (var i=0, iLen=s.length; i<iLen; i++) {
    result.push(String.fromCharCode(parseInt(s[i], 16)));
  }
  return result.join('');
}

alert(encodeString(s)); // %2d%20%5f%20%2e%20%21%20%7e%20%2a%20%27%20%28%20%29 
```

第一个在 IE 8 中没有正确解码，我没有时间修复它并且现在没有可用的 IE。您可能需要进行功能测试以查看用于解码的基数。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:42:15.570

该`encodeURIComponent`方法只能用于 URL 的“片段”（**组件**）。当您从用户提供或计算的片段构建 URL 时，它用于将查询字符串或路径放在一起。

真的不可能有一个通用的“正确编码我的 URL”方法，因为它不能告诉你对 URL 的哪些部分进行编码和不想编码。相反，在将它们添加到最终字符串*之前*`encodeURIComponent()`，请在您组合在一起的 URL 片段上使用它们。

# mongodb - Pymongo，这些聚合查询中的哪一个会执行得更好

> ID：15425528
> 
> 赞同：0
> 
> 时间：2013-03-15T05:39:46.043
> 
> 标签：mongodb, pymongo, aggregation-framework

我在这里粘贴了两个 pymongo 聚合查询，它们都将返回相同的结果。我想知道，哪一个会更好，

**两个匹配管道中的条件**

```
db.bseadjprice.aggregate([
            {"$match":{"scripcode":"533159"}} ,
            {"$match":{"date":{"$in":dt}}}, 
            {"$project":{"_id":0, "high":"$high", "low" : "$low"}}
        ]) 
```

**单匹配管道中的条件**

```
db.bseadjprice.aggregate([
        {"$match":{"scripcode":"533159", "date": {"$in":dt}}}, 
        {"$project":{"_id":0, "high":"$high", "low" : "$low"}}
    ]) 
```

提前感谢您的投入。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T08:18:43.250

Two matches could prevent 1 event: If first match false - second match wont do work. it could be faster in cycles or with big data and strong query.

# node.js - 在 Node 中调试“[Error: Uncaught, unspecified 'error' event.]”

> ID：15425530
> 
> 赞同：0
> 
> 时间：2013-03-15T05:39:56.463
> 
> 标签：node.js

我的节点应用程序在其输出中偶尔出现此行：

[错误：未捕获的、未指定的“错误”事件。]

但是，没有调用堆栈或任何其他信息。调试此类错误的适当方法是什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T14:38:27.207

哦，我很愚蠢地使用我在某处找到的这段代码：

> process.on('uncaughtException', function(err) { console.log(err); });

它最终隐藏了有趣的数据，即调用堆栈。

# regex - 如何从 MATLAB 中的文件列表中提取特定文件

> ID：15425531
> 
> 赞同：2
> 
> 时间：2013-03-15T05:39:56.973
> 
> 标签：regex, matlab

我有一个名为 list 的单元格数组，其中包含一个文件列表。我想只从该列表中提取特定文件并将它们存储在同一个数组中。这是我正在尝试做的事情：

```
function [ varargout ] = myFiles( varargin )

list = {'test.m' '.' '..' 'test1.m' 'test2.txt'};

list = strmatch('*.m', list)

end 
```

我的最终列表应该如下所示，但是索引应该足够了。

```
list = test.m  test1.m 
```

我在 Windows 上使用 MATLAB。在双引号中使用模式会引发错误。也尝试使用 \\'s 作为 (.) 和/或 (*) 的转义序列。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:53:03.043

`strmatch`用于查找以给定前缀开头的字符串。不支持正则表达式。对于你想要`regexp`的，它以相反的顺序接受它的参数。或者，如果您反转所有字符串，您可以使用`strmatch('m.',list)`然后再次反转结果来恢复文件名。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:53:10.813

根据[这里](http://www.mathworks.com/help/matlab/matlab_prog/regular-expressions.html)你需要这样的东西：`.*\.m$`. *问题*在于，与 Windows 中的通常搜索不同，0`*`次或更多次重复的意思是在它之前，所以单独进行是行不通的。

在这种情况下，我是说匹配任何字符（`.`表示任何单个字符）0 次或更多次，然后`.m`在最后加上 a。指定匹配必须在字符串的`$`末尾结束。

# iphone - iOS 图像中的 setclip 方法

> ID：15425532
> 
> 赞同：0
> 
> 时间：2013-03-15T05:40:05.653
> 
> 标签：iphone, ios, objective-c

我需要知道如何在 iOS 中剪辑图像。我已经`J2ME`使用画布设置剪辑方法进行了这项工作。现在我想知道如何在 iOS 中做到这一点。这是我想要的一个例子。

这是我在故事板中绘制的原始图像

![这个这个图像是我在storybord中画的原始图像](../Images/680320e2e559d35a4b8fbf8019bfbe0b.png)

![这是我想要做的图像。 我想隐藏那个红色图像的某些部分](../Images/55f4a01e15eb828e50e49a445b3e9afa.png)

这是我想要实现的图像。我想隐藏那个红色图像的某些部分。

我尝试过这样的事情，但我不能得到我想要的。

```
 UIImageView *imv = [[UIImageView alloc]initWithFrame:CGRectMake(0 ,305, 98, 139)];
    imv.image=[UIImage imageNamed:@"red.png"];

    imv.frame = CGRectMake(0 ,305, 98, redImageHeight);
    imv.clipsToBounds = YES;
    imv.contentMode = UIViewContentModeTop;
    [self.view addSubview:imv]; 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:47:50.083

尝试改变

```
imv.contentMode = UIViewContentModeScaleToFill; 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:11:12.100

**你为什么不使用这个栏的多剪辑并一个一个显示我认为它会容易得多**

# ios - 从用户请求返回的 Facebook iOS SDK 3.2 图形对象未更新

> ID：15425537
> 
> 赞同：0
> 
> 时间：2013-03-15T05:40:25.317
> 
> 标签：ios, facebook, facebook-graph-api

更新：看起来返回的图形对象没有更新。我已经更改了消息字段并验证了发件人正在发送正确的消息（至少它显示在 Web 对话框视图中），但接收者仍在接收旧消息。

* * *

我在读取附加到通过深度链接返回应用程序的 Facebook 请求的数据时遇到问题。我已经按照 facebook SDK 中的教程进行操作，并且可以发送/接收带有标题和消息的通知请求，但是我附加的数据似乎没有显示给接收者。这是我的代码：

发件人：

```
 FBSBJSON *jsonWriter = [FBSBJSON new];
NSDictionary *gift = [NSDictionary dictionaryWithObjectsAndKeys:
                      @"5", @"social_karma",
                      @"1", @"badge_of_awesomeness",
                      nil];

NSString *giftStr = [jsonWriter stringWithObject:gift];
NSMutableDictionary* params = [NSMutableDictionary dictionaryWithObjectsAndKeys:
                               giftStr, @"data",
                               nil];

AppDelegate *appDelegate = [[UIApplication sharedApplication] delegate];
NSArray *permissions = [NSArray arrayWithObjects:@"email", @"user_birthday", @"user_photos", nil];
appDelegate.session = [[FBSession alloc] initWithPermissions:permissions];

[appDelegate.session openWithCompletionHandler:^(FBSession *session,
                                                 FBSessionState status,
                                                 NSError *error) {
    NSString *message = [NSString stringWithFormat:@"photoID:%@", self.photoModel.photoID];

    // Display the requests dialog
    [FBWebDialogs
     presentRequestsDialogModallyWithSession:appDelegate.session
     message:@"Learn how to make your iOS apps social."
     title:@"What do you think? I just rate this person an "
     parameters:params
     handler:^(FBWebDialogResult result, NSURL *resultURL, NSError *error) {
         if (error) {
             // Error launching the dialog or sending the request.
             NSLog(@"Error sending request.");
         } else {
             if (result == FBWebDialogResultDialogNotCompleted) {
                 // User clicked the "x" icon
                 NSLog(@"User canceled request.");
             } else {
                 // Handle the send request callback
                 NSDictionary *urlParams = [self parseURLParams:[resultURL query]];
                 if (![urlParams valueForKey:@"request"]) {
                     // User clicked the Cancel button
                     NSLog(@"User canceled request.");
                 } else {
                     // User clicked the Send button
                     NSString *requestID = [urlParams valueForKey:@"request"];
                     NSLog(@"Request ID: %@", requestID);
                 }
             }
         }
     }];
}]; 
```

接收方（在应用委托中）：

```
- (void) notificationGet:(NSString *)requestid {

NSArray *permissions = [NSArray arrayWithObjects:@"email", @"user_birthday", @"user_photos", nil];
self.session = [[FBSession alloc] initWithPermissions:permissions];

[self.session openWithCompletionHandler:^(FBSession *session,
                                                 FBSessionState status,
                                                 NSError *error) {
    [FBSession setActiveSession:self.session];
    [FBRequestConnection startWithGraphPath:requestid
                          completionHandler:^(FBRequestConnection *connection,
                                              id result,
                                              NSError *error) {
                              if (!error) {
                                  NSString *title;
                                  NSString *message;
                                  if ([result objectForKey:@"data"]) {
                                      title = [NSString
                                               stringWithFormat:@"%@ sent you a gift",
                                               [[result objectForKey:@"from"]
                                                objectForKey:@"name"]];
                                      FBSBJSON *jsonParser = [FBSBJSON new];
                                      NSDictionary *requestData =
                                      [jsonParser
                                       objectWithString:[result objectForKey:@"data"]];
                                      message =
                                      [NSString stringWithFormat:@"Badge: %@, Karma: %@",
                                       [requestData objectForKey:@"badge_of_awesomeness"],
                                       [requestData objectForKey:@"social_karma"]];
                                  } else {
                                      title = [NSString
                                               stringWithFormat:@"%@ sent you a request",
                                               [[result objectForKey:@"from"] objectForKey:@"name"]];
                                      message = [NSString stringWithString:
                                                 [result objectForKey:@"message"]];
                                  }
                                  UIAlertView *alert = [[UIAlertView alloc]
                                                        initWithTitle:title
                                                        message:message
                                                        delegate:nil
                                                        cancelButtonTitle:@"OK"
                                                        otherButtonTitles:nil,
                                                        nil];
                                  [alert show];
                              }
                          }];
    }];
} 
```

同样，我能够通过，而不是数据（参数）来获取消息和标题。

谢谢！

# php - 从 mysql 返回多个结果以分隔 jQuery 模态

> ID：15425547
> 
> 赞同：1
> 
> 时间：2013-03-15T05:41:08.580
> 
> 标签：php, jquery, mysql, html, modal-dialog

我正在创建一个 PHP 搜索页面，该页面搜索 MySQL 数据库并将结果返回到单独的 jQuery 模式中。

**目标**：当用户搜索一个词时，找到的结果`ClassName`会通过单独的链接从数据库中显示出来（这些链接被编写为打开 jQuery 模态），一旦单击一个链接，模态就会打开，显示与该链接相关的其余`ClassName`信息说数据库。

**工作原理**：不同`ClassName`的（s）正确显示为单独的链接。

**什么不工作**：无论`ClassName`您单击哪个链接，一旦模式打开，它只会显示与`ClassName`数据库中第一个结果相关的信息。

非常感谢任何纠正此错误的帮助。

我用于结果的数据库中唯一的行是：`ClassName`、、`ClassInformation`和`imagePath`。

PHP 选择语句：

```
<?php 
$raw_results = mysql_query(
   "SELECT * FROM classes
    WHERE (`ClassName` LIKE '%".$query."%') OR 
   (`ClassInformation` LIKE '%".$query."%')"
) or die(mysql_error());
?> 
```

关联：

```
echo "<a href=".$results['ClassName']
   . " data-reveal-id='myModal'><h2>"
   . $results['ClassName']
   . "</h2></a>"; 
```

模态：

```
echo "<div id='myModal' class='reveal-modal' 
    style='background-image: url(ResultBackground.png);
    border: 1px solid black;'><h2>".$results['ClassName']."</h2>
    <div id='image'>".$results['imagePath']."</div></br >
    <h3>".$results['ClassInformation']."</h3>
    <a class='close-reveal-modal'>&#215;</a></div>"; 
```

对于代码格式不正确，我深表歉意我还不太了解如何使用本网站上的代码块。但感谢您提供的任何和所有帮助。

2个月前有人问了一个类似的问题here[相关问题](https://stackoverflow.com/questions/14162694/passing-mysql-data-to-modal-form-via-php?rq=1)，但他的代码编写方式完全让我失望，因为我是PHP新手，只知道我从在线教程中自学的混乱方式。我试图以类似于回答链接问题的人建议的方式格式化代码，但我只是不断破坏我的代码。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:09:57.690

```
 $i=0;
  while($row=mysql_fetch_array($raw_results)){
    echo "<a href=".$results['ClassName']. " data-reveal-id='myModal_".$i."'><h2>".$results['ClassName']. "</h2></a>";
    echo "<div id='myModal_".$i."' class='reveal-modal'>......restcode";
    $i++;
    } 
```

You have to use unique ids fro each link .here you have used same data-reveal-id="myModal" for every link,and every modal div has same id "myModal". So when you click on any link,it checks for first element with id 'myModal' and displays it . Use different data-reveal-ids for each link and give the same id to the corresponding modal divs

# javascript - 替换在触摸屏环境中工作的 Title 属性

> ID：15425552
> 
> 赞同：6
> 
> 时间：2013-03-15T05:41:19.280
> 
> 标签：javascript, css, html, title

我必须使用`title`属性来显示整个文本，以防标签大小减小并强制使用`ellipsis`. 现在的问题是触摸界面用户可能会访问我的页面，并且他们可能没有悬停选项（除了 Galaxy Note 用户）。

我希望有人知道 HTML5/HTML 中用于触摸设备的控件，它会在点击 div 以获取完整文本时在 div 旁边的屏幕上烘烤标题文本。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-15T07:12:56.050

请参阅标题的[使用](http://blog.paciellogroup.com/2010/11/using-the-html-title-attribute/)和[标题标签的滥用](http://blog.paciellogroup.com/2012/01/html5-accessibility-chops-title-attribute-use-and-abuse/)。到目前为止，HTML5 还没有谈到这一点。

您可能需要使用 js 自己实现双标签事件或使用[jquery doubletap](http://forum.jquery.com/topic/doubletap-event)

或者，悬停事件由许多移动设备实现，在第一次点击时触发......[小提琴](http://jsfiddle.net/eH6PX/1/)

CSS

```
span {
    width: 100px;
    display: block;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
}

span:hover {    
    overflow: visible;
} 
```

HTML 代码

```
<span>Test test test test test test</span> 
```

# java - 关于聚合消息

> ID：15425554
> 
> 赞同：1
> 
> 时间：2013-03-15T05:41:26.020
> 
> 标签：java, jms, spring-integration, spring-jms

我问了一个关于我通过 spring 集成和 spring 实现的 JMS 的简单问题，但是我遇到了一种情况，请告诉我，假设我在队列中收到 5000 条消息，我想在一个一组 20 条消息然后转发它，这意味着我想要某种聚合，它将从 5000 条消息中获取 20 条消息并转发这 20 条消息，请告知如何实现这一点。

我也经历过这种模式.. [http://www.eaipatterns.com/Aggregator.html](http://www.eaipatterns.com/Aggregator.html)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T12:06:08.610

Spring Integration 参考手册的这一部分应提供您需要的所有信息：http: [//static.springsource.org/spring-integration/docs/2.2.x/reference/htmlsingle/#aggregator](http://static.springsource.org/spring-integration/docs/2.2.x/reference/htmlsingle/#aggregator)

基本上，您想要一个在消息组大小达到 20 时返回 true 的发布策略，并且您想要一个相关性策略，它只考虑所有消息都在同一个组中（除非您确实有一些其他组成员资格指标）。

希望有帮助。-标记

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T15:01:09.473

我遇到了类似的问题，我用 atomicLong 在每条消息中创建了一个计数器来解决它。

然后，发布策略将根据该计数器（存储为 message_id 标头）在每 X 条消息之后释放消息

```
 <int:aggregator ...
    release-strategy-expression="size() == ${max.size}"
     correlation-strategy-expression="new java.lang.Double(new java.lang.Double(headers.message_id) / ${max.size}).longValue()"
     /> 
```

嘿，它有效。

# node.js - 检测在 Azure 上运行的 Node.js 应用

> ID：15425556
> 
> 赞同：1
> 
> 时间：2013-03-15T05:41:29.407
> 
> 标签：node.js, azure

我正在编写一个 node.js 应用程序，我希望它可以轻松地部署在 Azure 以及其他平台上。如何检测我是否在 Azure 下运行？

环境似乎没有任何特殊变量。`process.env.port`包含`\\\\.\\pipe\\2f95e604-fc02-4365-acfc-010a26242d02`到目前为止我能想到的所有管道。

详细的环境数据可通过该`azure`模块获得，但如果我在 Azure 上运行，我只想将其提取出来。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:48:52.477

我不确定，但你试过 process.platform 吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2019-08-26T10:28:46.163

老问题，但我用这个：

```
if ('WEBSITE_NODE_DEFAULT_VERSION' in process.env) ... 
```

# c++ - 用 AVX 乘法

> ID：15425557
> 
> 赞同：0
> 
> 时间：2013-03-15T05:41:38.053
> 
> 标签：c++, avx

请这是我第一次使用 AVX，我正在尝试对双精度数字执行简单的乘法，但我没有得到所有结果正确。

我只得到前 4 个结果，其他的都是行话。

```
#include <immintrin.h>
#include <iostream>
#include <math.h> 
#include <time.h>
using namespace std;

int main() {

    double *a, *b;                      // data pointers
    double *pA,*pB;                     // work pointer
    __m256d rA_AVX, rB_AVX;     // variables for AVX

    const int vector_size = 8;
    a = (double*) _mm_malloc (vector_size*sizeof(double),64);
    b = (double*) _mm_malloc (vector_size*sizeof(double),64);

    for(int i = 0; i < vector_size; i++) {
        a[i] = (rand() % 48);
        b[i] = 0.0f;
        cout << a[i] << endl;
    }

    for (int i = 0; i < vector_size; i += 8)
    {
        pA = a;
        pB = b;
        rA_AVX = _mm256_load_pd(pA);
        rB_AVX = _mm256_mul_pd(rA_AVX,rA_AVX);
        _mm256_store_pd(pB,rB_AVX);
        pA += 8;
        pB += 8;
    }

    for (int i=0; i<vector_size; i++){
        cout << endl << b[i] << endl;
    }
    _mm_free(a);
    _mm_free(b);

    system("PAUSE");
    return 0;
} 
```

# zend-framework - Zend 翻译 - 语言环境不起作用

> ID：15425558
> 
> 赞同：2
> 
> 时间：2013-03-15T05:41:38.937
> 
> 标签：zend-framework, zend-translate, zend-locale

我开始研究一个多语言 Zend Framework 应用程序，但我一直被困在我讨厌的东西上：

```
The locale is not working like expected. 
```

有 .ini 配置：

```
; Locale
resources.locale.default = "fr"
resources.locale.force = false
resources.locale.cache = "locale"
resources.locale.registry_key = "Zend_Locale"

; Translate
resources.translate.adapter = Ini
resources.translate.content = APPLICATION_PATH "/../data/locales"
resources.translate.scan = Zend_Translate::LOCALE_DIRECTORY
resources.translate.options.tag = "Zend_Translate"
resources.translate.options.logUntranslated = true
resources.translate.options.disableNotices = false
resources.translate.options.logMessage = "Untranslated message within '%locale%': %message%"
resources.translate.options.logPriority = 5
resources.translate.options.registry_key = "Zend_Translate"
resources.translate.cache = "languages"
resources.translate.locale = "auto" 
```

我的文件名是：

```
/locales/en.ini
/locales/fr.ini 
```

当我做一个简单的`$this->translate('COPYRIGHT');`，它总是返回法语翻译。即使我的电脑是英文的。我尝试添加`force = true`到语言环境并将其更改为`en_US`但没有成功。

# phpmailer - 使用 dompdf 的 phpmailer 动态文件

> ID：15425559
> 
> 赞同：0
> 
> 时间：2013-03-15T05:41:50.467
> 
> 标签：phpmailer, php, dompdf

我正在使用 dompdf 生成 pdf 文件，其文件名不断变化，因为我在 dompdf 流输出中分配了一个变量，并且该文件名始终保持为唯一文件名。

我想在我使用 phpmailer 的邮件中附加一个文件。

问题：如果我在 phpmailer 中将特定文件名分配为静态文件（分配了特定名称），则能够正确附加文件，但对于动态文件（使用如下变量）没有成功。在这里，`$attach`是我的文件名的 php 变量。

尝试以下代码：

```
$dompdf->stream($attach);//Code for dompdf

$mail->AddAttachment('C:\Downloads\$attach.pdf');  //code for phpmailer to attach file 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T05:48:35.060

我的做法是这样的............

```
 I got all my html code in the following variable called `$html`.Then i followed below procedure.
$dompdf->load_html($html);    
$dompdf->render();
$pdf = $dompdf->output();
$file_location will have dynamic file name.
file_put_contents($file_location,$pdf); 
```

现在使用这个 $file_location 变量将文件名附加到 php mailer。这你需要写在你生成pdf的同一个php文件中。

# jquery - 即使不需要，jQuery 验证插件添加方法仍在运行

> ID：15425563
> 
> 赞同：0
> 
> 时间：2013-03-15T05:42:06.207
> 
> 标签：jquery, jquery-validate

我正在使用[jQuery Validation Plugin](http://docs.jquery.com/Plugins/Validation/)，我正在添加自己的方法，如下所示：

```
jQuery.validator.addMethod("num", function(num) {
    if(isNaN(num))
        return false;

    return true;
}, "Please enter a valid number"); 
```

但是，即使我没有将`required`类添加到表单元素，如果用户没有输入任何内容，仍然会调用此验证方法并评估为 false。但我希望行为是，如果元素没有`required`类，则仅在用户输入某些内容时才调用它。有没有办法做到这一点？谢谢！

**更新**

因此，我在上面发布的实际代码是一个简单的示例来演示问题，但是现在我提出了给我带来问题的具体示例。这是jsfiddle链接：

[http://jsfiddle.net/SVwmH/2/](http://jsfiddle.net/SVwmH/2/)

**的HTML**

```
<form method="post">
    <li>
        <label for="2">Mileage</label>
        <input type="text" name="2" id="attr_2" class="non_neg_int"
        value="" />
    </li>
    <li>
        <label for="3">VIN (Vehicle Identification Number)</label>
        <input type="text" name="3"
        id="attr_3" class="vin" maxlength="17" value="" />
    </li>
    <li>
        <input type="submit" />
    </li>
</form> 
```

**JS**

```
$(document).ready(function () {
    var validator = $("form").validate({
        onkeyup: false,
        onblur: true,
        ignore: "",
        submitHandler: function (form) { // for demo
            alert('valid form submitted'); // for demo
            return false; // for demo
        }
    });
});

jQuery.validator.addMethod("vin", function (vin) {
    if (!(/^[A-HJ-NP-Z0-9]{17}$/.test(vin))) return false;
    return true;
}, "Must be a valid VIN");

jQuery.validator.addMethod("non_neg_int", function (non_neg_int) {
    if (isNaN(non_neg_int) || non_neg_int == null || non_neg_int == "" || non_neg_int < 0 || !is_int(non_neg_int)) return false;

    return true;
}, "Must be a nonnegative integer");

function is_int(value) {
    if ((parseFloat(value) == parseInt(value)) && !isNaN(value)) {
        return true;
    } else {
        return false;
    }
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-15T06:13:46.000

**引用操作**：

> “但是，即使我没有将`required`类添加到表单元素，如果用户没有输入任何内容，仍然会调用此验证方法并评估为 false。”

我无法重现您描述的问题。

如发布的那样，空字段不会调用您的自定义方法，也不是必需的字段。

**演示：http: [//jsfiddle.net/mJvA8/](http://jsfiddle.net/mJvA8/)**

**HTML**：

```
<form id="myform">
    <input type="text" name="field1" />
    <input type="submit" />
</form> 
```

**jQuery** :

```
$(document).ready(function () {

    jQuery.validator.addMethod("num", function (num) {
        if (isNaN(num)) return false;
        return true;
    }, "Please enter a valid number");

    $('#myform').validate({ // initialize the plugin
        rules: {
            field1: {
                num: true
            }
        }
    });

}); 
```

* * *

**基于编辑的 OP 编辑**​​：****

 **我发现您的代码存在以下问题。只有其中一些项目破坏了您的代码。其余的只是一个良好实践的问题。您可以一次测试这些以亲自查看。

**1）** **没有这样的选项称为** `onblur`。有一个被调用，*默认情况下*`onfocusout`它是启用的。如果你进入这个，你会打破它。您只能通过来禁用它，或者通过自定义函数来覆盖它。要保持启用默认选项，只需将其完全保留即可。*`true``false``onfocusout`*

 ***2）**每个输入元素必须有一个有效的`name`，并且`name="2"`是无效的。它不能以数字开头。

**3)**如果要验证任何隐藏字段，该`ignore`选项必须设置为`ignore: []`and not `ignore: ""`。否则，请忽略此选项，默认情况下会忽略隐藏字段。请参阅： [https ://stackoverflow.com/a/8565769/594235](https://stackoverflow.com/a/8565769/594235)

**4)**我不明白`value=""`在每个元素上指定的意义。`value`如果您不使用它，只需忽略该属性。

**5）** 而不是写出所有这些......

```
 if (test) return false;
 return true; 
```

...您可以更简单地写一行：（ *就像您编写的那样，*`return !(test);` *我只是添加了将您的特定逻辑`!`翻转到 。）`test``return false`*

**6)** [根据文档](http://docs.jquery.com/Plugins/Validation/Validator/addMethod#namemethodmessage)，您只需将`value`、`element`和 optional传递`params`给 customMethod 函数，如下所示 `.addMethod("myrule", function(value, element, params) { ... }, "message")`：

这种语法减轻了任何混乱。此外，使用规则的名称`"non_neg_int"`代替单词`"value"`完全破坏了您的`non_neg_int`自定义方法。

如果您不希望这些规则是“必需的”，那么您必须修复规则中的逻辑。例如，该`non_neg_int`方法正在寻找一个空或空字段，所以当该字段为空时它当然会给出错误消息。

在这两个规则上，我只是添加了`this.optional(element)`这使得该规则是可选的。换句话说，如果您将其留空，则该规则将不起作用。

```
return this.optional(element) || !(test); 
```

下面有一个工作演示，您可以根据需要进行调整。

**新演示：http: [//jsfiddle.net/gVVa8/](http://jsfiddle.net/gVVa8/)*****

# javascript - 使用下一个和上一个按钮在 jQuery 中创建图片库

> ID：15425566
> 
> 赞同：-3
> 
> 时间：2013-03-15T05:42:11.523
> 
> 标签：javascript, jquery, html

我正在开发 asp.net mvc Web 应用程序，其中我正在使用图像上传功能。

在此功能中，我想使用下一个和上一个按钮向用户显示上传图像的图片库。

有谁知道如何用简单的 jQuery 或 JavaScript 做到这一点？

任何帮助，将不胜感激。

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:51:44.077

有很多可用的 Jquery 图片幻灯片插件请查看[http://goo.gl/UXvJQ](http://goo.gl/UXvJQ)

# php - PHP include_once 不显示图片

> ID：15425572
> 
> 赞同：1
> 
> 时间：2013-03-15T05:42:28.827
> 
> 标签：php, include

我正在使用 php 构建我的第一个站点。我创建了一个名为“header.php”的文件，其中包含我的导航和图片。在我的“index.php”中，我在 div 中写入了现在应该放置标题的位置`<?php include_once 'inc/header.php'; ?>`，您可以看到该文件已包含但图片未显示，并且看起来 div 样式不起作用，因为占位符因为图片在错误的位置。如果您在浏览器中查看“header.php”，一切看起来都很好，图片中包含容器样式。我在这里想念什么？这是我的 header.php 文件：

```
<style type="text/css">
@import url("../site_css/Css_reset.css");
@import url("../site_css/craig-smith.css");
</style>

<div class="picture"><img src="../graphics/header1.gif" />
        <div id="nav">

<table style="display: inline-table;" border="0" cellpadding="0" cellspacing="0" width="400">
  <!-- fwtable fwsrc="navback_temp.png" fwpage="Page 1" fwbase="nav.jpg" fwstyle="Dreamweaver" fwdocid = "1996150392" fwnested="0" -->
  <tr>
    <td><img src="../graphics/nav/spacer.gif" width="80" height="1" border="0" alt="" /></td>
    <td><img src="../graphics/nav/spacer.gif" width="70" height="1" border="0" alt="" /></td>
    <td><img src="../graphics/nav/spacer.gif" width="134" height="1" border="0" alt="" /></td>
    <td><img src="../graphics/nav/spacer.gif" width="116" height="1" border="0" alt="" /></td>
    <td><img src="../graphics/nav/spacer.gif" width="1" height="1" border="0" alt="" /></td>
  </tr>
  <tr>
    <td><a href="javascript:;" onMouseOut="MM_swapImgRestore();" onMouseOver="MM_swapImage('nav_r1_c1','','../graphics/nav/nav_r1_c1_s2.jpg',1);"><img name="nav_r1_c1" src="../graphics/nav/nav_r1_c1.jpg" width="80" height="40" border="0" id="nav_r1_c1" alt="" /></a></td>
    <td><a href="javascript:;" onMouseOut="MM_swapImgRestore();" onMouseOver="MM_swapImage('nav_r1_c2','','../graphics/nav/nav_r1_c2_s2.jpg',1);"><img name="nav_r1_c2" src="../graphics/nav/nav_r1_c2.jpg" width="70" height="40" border="0" id="nav_r1_c2" alt="" /></a></td>
    <td><a href="javascript:;" onMouseOut="MM_swapImgRestore();" onMouseOver="MM_swapImage('nav_r1_c3','','../graphics/nav/nav_r1_c3_s2.jpg',1);"><img name="nav_r1_c3" src="../graphics/nav/nav_r1_c3.jpg" width="134" height="40" border="0" id="nav_r1_c3" alt="" /></a></td>
    <td><a href="javascript:;" onMouseOut="MM_swapImgRestore();" onMouseOver="MM_swapImage('nav_r1_c4','','../graphics/nav/nav_r1_c4_s2.jpg',1);"><img name="nav_r1_c4" src="../graphics/nav/nav_r1_c4.jpg" width="116" height="40" border="0" id="nav_r1_c4" alt="" /></a></td>
    <td><img src="../graphics/nav/spacer.gif" width="1" height="40" border="0" alt="" /></td>
  </tr>
</table>
        </div>
    </div> 
```

这是 index.php 的相关信息

```
<body>

<div id="body">
    <div id="header">
      <?php include_once 'inc/header.php'; ?>
        </div> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:53:06.257

试试这个 ：

```
<?php include_once './inc/header.php'; ?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:39:56.413

路径应该相对于 index.php 而不是 header.php。使用dreamweaver 对header.php 进行更改，您需要手动更改路径，因为它将使所有内容都与header.php 相关。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T08:05:17.190

图像路径需要相对于 index.php，而不是包含文件。您需要`../`从`<img>`路径中删除

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2013-03-15T05:48:42.160

你确定路径是正确的吗？文件层次结构是什么样的？

# android - 一些 Android 设备将内部存储视为 SD 卡，将外部存储视为 EXTSD

> ID：15425574
> 
> 赞同：11
> 
> 时间：2013-03-15T05:42:35.507
> 
> 标签：android, sd-card, tablet

我有一堆来自不同供应商的 Android 设备。

> 其中一些将 /mnt/sdcard 附加到内部存储，将 /mnt/extsd 附加到外部存储（场景 1），其他将 /mnt/sdcard 附加到外部存储（场景 2）

我认为第二种情况是标准的，因为 Android API 提供了该路径的句柄。现在的问题是，在场景 1 中，`/mnt/extsd`即使`readonly`得到了`WRITE_EXTERNAL_STORAGE`许可！

**这意味着我只能从实际的外部 sd 卡中读取数据而无法写入。**

是否有解决方法，以便我可以写入 extsd 文件夹？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-15T07:02:39.143

```
Environment.getExternalStorageState() returns path to internal SD mount point like "/mnt/sdcard" 
```

`Environment.getExternalStorageDirectory()`指的是设备制造商认为是“外部存储”的任何东西。在某些设备上，这是可移动媒体，例如 SD 卡。在某些设备上，这是设备上闪存的一部分。在这里，“外部存储”是指“安装在主机上时可通过 USB 大容量存储模式访问的东西”，至少对于 Android 2.x 及更高版本。

```
But the question is about external SD. How to get a path like "/mnt/sdcard/external_sd" (it may differ from device to device)? 
```

如上所述，除了外部存储，Android 没有“外部 SD”的概念。

如果设备制造商选择将外部存储设备作为板载闪存并且还具有 SD 卡，则您需要联系该制造商以确定您是否可以使用 SD 卡（不保证）以及规则的用途使用它，例如使用什么路径。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2013-05-09T21:23:59.520

在有根设备上，您可以更改 /system/etc/permissions/platform.xml 以“修复”权限问题。以下对我有用：

*   adb 拉 /system/etc/permissions/platform.xml
*   修改 platform.xml，使 media_rw 包含在 WRITE_EXTERNAL_STORAGE 权限中，如下所示：

    ```
    <permission name="android.permission.WRITE_EXTERNAL_STORAGE" >
       <group gid="sdcard_rw" />
       <group gid="media_rw" />
    </permission> 
    ```

*   adb push platform.xml /system/etc/permissions/platform.xml

*   重启设备

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-19T07:07:41.027

到目前为止，我发现在设备上获得写访问权限的唯一解决方法是使设备生根:(

三星提供了一个带有清单条目的解决方法

更多详细信息可在以下链接中找到

[http://www.xda-developers.com/android/android-3-2-code-inadvertently-preventing-write-access-to-external-storage/](http://www.xda-developers.com/android/android-3-2-code-inadvertently-preventing-write-access-to-external-storage/)

和

[http://www.chainfire.eu/articles/113/Is_Google_blocking_apps_writing_to_SD_cards_/](http://www.chainfire.eu/articles/113/Is_Google_blocking_apps_writing_to_SD_cards_/)

摘录：

> Google 似乎在 Android 3.2 前后引入的 AOSP 代码中有一个错误，这会影响操作系统处理 USB 存储的方式，并可能阻止对 SD 卡和 USB 记忆棒的写入访问。XDA Elite 认可开发者、高级版主和新闻作家 Chainfire 在他的博客文章中总结了这个问题：
> 
> “过去，应用程序会请求“WRITE_EXTERNAL_STORAGE”权限，这将授予对所有外部存储（用户/组“sdcard_rw”）的写访问权限。这显然已更改为仅授予对主外部存储的写访问权限。引入了第二个权限，称为“WRITE_MEDIA_STORAGE”，它将授予对其他外部存储（用户/组“media_rw”）的访问权限。
> 
> 问题是，第三方实际上不会被授予此权限，只有系统应用程序和设备制造商提供的应用程序通常会被授予此权限。也有例外，显然在某些设备上第三方应用程序会被授予此权限，但根据 AOSP 消息来源，他们当然不应该这样做。”

# c++ - VBO 多维数据集不呈现 - 测试不支持的功能

> ID：15425575
> 
> 赞同：0
> 
> 时间：2013-03-15T05:42:38.783
> 
> 标签：c++, opengl, vbo, opengl-3

我正在尝试渲染一个由其他立方体组成的大立方体（`10x10x10，总共 1000 个立方体）。它在我的电脑和我朋友的一台电脑上运行良好，但另一台只是出现空白屏幕。我假设这是因为他们没有我正在使用的一些受支持的功能。我想知道它是什么功能以及如何判断他们不支持它，以便我可以告诉他们。

编辑：有问题的计算机正在做所有事情，但渲染立方体。它提供了一个具有适当背景颜色的完全空白屏幕。

我把所有这些都隐藏在一个班级里，所以我只是给出相关部分。

如果您需要更多信息，请询问。

问题计算机的 GL_VENDOR、GL_RENDER、GL_VERSION 和 GL_EXTENSION（复制并粘贴以更好地格式化）：

```
[01:28:02] GL_VENDOR: Intel
[01:28:02] GL_RENDERER: Intel(R) HD Graphics
[01:28:02] GL_VERSION: 2.1.0 - Build 8.15.10.2858
[01:28:02] GL_EXTENSIONS: GL_EXT_blend_minmax GL_EXT_blend_subtract GL_EXT_blend_color GL_EXT_abgr GL_EXT_texture3D GL_EXT_clip_volume_hint GL_EXT_compiled_vertex_array GL_SGIS_texture_edge_clamp GL_SGIS_generate_mipmap GL_EXT_draw_range_elements GL_SGIS_texture_lod GL_EXT_rescale_normal GL_EXT_packed_pixels GL_EXT_texture_edge_clamp GL_EXT_separate_specular_color GL_ARB_multitexture GL_EXT_texture_env_combine GL_EXT_bgra GL_EXT_blend_func_separate GL_EXT_secondary_color GL_EXT_fog_coord GL_EXT_texture_env_add GL_ARB_texture_cube_map GL_ARB_transpose_matrix GL_ARB_texture_env_add GL_IBM_texture_mirrored_repeat GL_EXT_multi_draw_arrays GL_NV_blend_square GL_ARB_texture_compression GL_3DFX_texture_compression_FXT1 GL_EXT_texture_filter_anisotropic GL_ARB_texture_border_clamp GL_ARB_point_parameters GL_ARB_texture_env_combine GL_ARB_texture_env_dot3 GL_ARB_texture_env_crossbar GL_EXT_texture_compression_s3tc GL_ARB_shadow GL_ARB_window_pos GL_EXT_shadow_funcs GL_EXT_stencil_wrap GL_ARB_vertex_program GL_EXT_texture_rectangle GL_ARB_fragment_program GL_EXT_stencil_two_side GL_ATI_separate_stencil GL_ARB_vertex_buffer_object GL_EXT_texture_lod_bias GL_ARB_occlusion_query GL_ARB_fragment_shader GL_ARB_shader_objects GL_ARB_shading_language_100 GL_ARB_texture_non_power_of_two GL_ARB_vertex_shader GL_NV_texgen_reflection GL_ARB_point_sprite GL_ARB_fragment_program_shadow GL_EXT_blend_equation_separate GL_ARB_depth_texture GL_ARB_texture_rectangle GL_ARB_draw_buffers GL_ARB_color_buffer_float GL_ARB_half_float_pixel GL_ARB_texture_float GL_ARB_pixel_buffer_object GL_EXT_framebuffer_object GL_ARB_draw_instanced GL_ARB_half_float_vertex GL_EXT_draw_buffers2 GL_WIN_swap_hint GL_EXT_texture_sRGB GL_EXT_packed_float GL_EXT_texture_shared_exponent GL_ARB_texture_rg GL_ARB_texture_compression_rgtc GL_NV_conditional_render GL_EXT_texture_swizzle GL_ARB_sync GL_ARB_framebuffer_sRGB GL_EXT_packed_depth_stencil GL_ARB_depth_buffer_float GL_EXT_transform_feedback GL_EXT_framebuffer_blit GL_ARB_framebuffer_object GL_EXT_texture_array GL_ARB_map_buffer_range GL_EXT_texture_snorm GL_INTEL_performance_queries GL_ARB_copy_buffer GL_ARB_sampler_objects GL_NV_primitive_restart GL_ARB_seamless_cube_map GL_ARB_uniform_buffer_object GL_ARB_depth_clamp GL_ARB_vertex_array_bgra GL_ARB_draw_elements_base_vertex GL_EXT_gpu_program_parameters GL_ARB_compatibility GL_ARB_vertex_array_object 
```

代码：

```
void Block::setColor(float r, float g, float b) {
this->m_colorBuffer.clear();

this->m_colorBuffer.push_back(Color(r, g, b));
this->m_colorBuffer.push_back(Color(r, g, b));
this->m_colorBuffer.push_back(Color(r, g, b));
this->m_colorBuffer.push_back(Color(r, g, b));
this->m_colorBuffer.push_back(Color(r, g, b));
this->m_colorBuffer.push_back(Color(r, g, b));
this->m_colorBuffer.push_back(Color(r, g, b));
this->m_colorBuffer.push_back(Color(r, g, b));

    //Send the color data to OpenGL
if (m_colorvbo[0] != -1) glDeleteBuffers(1, m_colorvbo);
glGenBuffers(1, m_colorvbo);
    glBindBuffer(GL_ARRAY_BUFFER, m_colorvbo[0]); //Bind the vertex buffer
    glBufferData(GL_ARRAY_BUFFER, sizeof(GLfloat) * 3 * m_colorBuffer.size(), &m_colorBuffer[0], GL_STATIC_DRAW); //Send the data to OpenGL
}

bool Block::initialize()
{
    glGenBuffers(LAST_BUFFER, m_vbos); //Generate a buffer for the vertices, indices and colors

    glEnableClientState(GL_VERTEX_ARRAY);
    glEnableClientState(GL_COLOR_ARRAY);

    float size = 0.5f;
    //Push back 8 vertices that make up a cube
    m_vertices.push_back(Vertex(-size, -size,  size));
    m_vertices.push_back(Vertex(-size, -size, -size));
    m_vertices.push_back(Vertex( size, -size, -size));
    m_vertices.push_back(Vertex( size, -size,  size));

    m_vertices.push_back(Vertex(-size,  size,  size));
    m_vertices.push_back(Vertex(-size,  size, -size));
    m_vertices.push_back(Vertex( size,  size, -size));
    m_vertices.push_back(Vertex( size,  size,  size));

    //Push back the indices that make up the triangles for each face.
    m_indices.push_back(0);
    m_indices.push_back(2);
    m_indices.push_back(3);
    m_indices.push_back(0);
    m_indices.push_back(1);
    m_indices.push_back(2);

    m_indices.push_back(4);
    m_indices.push_back(6);
    m_indices.push_back(7);
    m_indices.push_back(4);
    m_indices.push_back(5);
    m_indices.push_back(6);

m_indices.push_back(0);
m_indices.push_back(4);
m_indices.push_back(1);
m_indices.push_back(4);
m_indices.push_back(5);
m_indices.push_back(1);

m_indices.push_back(2);
m_indices.push_back(6);
m_indices.push_back(3);
m_indices.push_back(6);
m_indices.push_back(7);
m_indices.push_back(3);

m_indices.push_back(6);
m_indices.push_back(1);
m_indices.push_back(5);
m_indices.push_back(6);
m_indices.push_back(2);
m_indices.push_back(1);

m_indices.push_back(0);
m_indices.push_back(7);
m_indices.push_back(4);
m_indices.push_back(0);
m_indices.push_back(3);
m_indices.push_back(7);

    glBindBuffer(GL_ARRAY_BUFFER, m_vbos[VERTEX_BUFFER]); //Bind the vertex buffer
    glBufferData(GL_ARRAY_BUFFER, sizeof(GLfloat) * 3 * m_vertices.size(), &m_vertices[0], GL_STATIC_DRAW); //Send the data to OpenGL

    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, m_vbos[INDEX_BUFFER]); //Bind the vertex buffer
    glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(GLuint) * m_indices.size(), &m_indices[0], GL_STATIC_DRAW); //Send the data to OpenGL

bufferInit = true;

    return true;
}

void Block::render()
{
    glPushMatrix();
    //Set the vertex pointer for the cube
    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, m_vbos[INDEX_BUFFER]); //Bind the vertex buffer
    glBindBuffer(GL_ARRAY_BUFFER, m_vbos[VERTEX_BUFFER]);
    glVertexPointer(3, GL_FLOAT, 0, 0);

    glBindBuffer(GL_ARRAY_BUFFER, m_colorvbo[0]);
    glTranslatef(this->position.x, this->position.y, this->position.z);
    //glScalef(this->size, this->size, this->size);
    glColorPointer(3, GL_FLOAT, 0, 0);
    glPolygonMode(GL_FRONT_AND_BACK, GL_FILL);
    glDrawElements(GL_TRIANGLES, m_indices.size(), GL_UNSIGNED_INT, 0);
    glPopMatrix();
} 
```

# php - URL重写问题

> ID：15425577
> 
> 赞同：1
> 
> 时间：2013-03-15T05:42:54.100
> 
> 标签：php

我在 www.quipoauctions.com 网站上工作，我遇到了一个问题。我有一个

网址：`http://www.quippoauctions.com/index.php?do=auctiondetails&id=1134`

我想将此网址显示为

```
http://www.quippoauctions.com/auctiondetails/1134/demo_auction_for_training_purpose.html 
```

在 .htaccess 文件 acn 的帮助下，任何人都可以帮助我

我有一个正在编写的 htaccess 文件

```
Options +FollowSymLinks
RewriteEngine on
RewriteBase /
RewriteRule ^auctiondetails/(.*)/(.*).html$ ?do=auctiondetails&id=$1 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:49:08.597

尝试这个

```
Options +FollowSymLinks
RewriteEngine on
RewriteRule ^(.*)/(.*)/demo_auction_for_training_purpose\.html$ /index.php?do=$1&id=$2 
```

**或者**

```
RewriteRule ^auctiondetails/1134/demo_auction_for_training_purpose.html$ index.php?do=auctiondetails&id=1134 [L] 
```

# css - Chrome Mac 不能很好地渲染非常小的 PNG

> ID：15425581
> 
> 赞同：1
> 
> 时间：2013-03-15T05:43:30.210
> 
> 标签：css, google-chrome, png-24, image-rendering

我从 Photoshop CS6 导出了 PNG-24，它在 Chrome 中看起来像这样。

![在此处输入图像描述](../Images/4857a7e5e4c46bf95e707cf95dd598d9.png)

您可以注意到三角形周围的白色笔触。

相同的 PNG 在其他浏览器中正确呈现。在firefox中渲染是这样的。

![在此处输入图像描述](../Images/3d258ec349982cf5077e36b84ce3c1e0.png)

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-07-16T23:24:20.127

我有这个完全相同的问题。似乎当对比度很小时，Chrome 会尝试“解决问题”。

咬牙切齿之后，我发现添加：

```
 image-rendering: -webkit-optimize-contrast; /* Chrome (and Safari) */ 
```

到问题元素的 css 解决了问题。

另外，请参阅这篇文章：[https](https://superuser.com/questions/530317/how-to-prevent-chrome-from-blurring-small-images-when-zoomed-in) ://superuser.com/questions/530317/how-to-prevent-chrome-from-blurring-small-images-when-zoomed-in处理类似问题。

# ruby-on-rails - Rails 设计未初始化的常量模型

> ID：15425583
> 
> 赞同：1
> 
> 时间：2013-03-15T05:43:39.387
> 
> 标签：ruby-on-rails, ruby, ruby-on-rails-3, devise, ruby-on-rails-3.2

我的 Rails 版本是 3.2.12。我使用以下命令来创建用户身份验证：

```
rails generate devise:install
rails generate devise users
rake db:migrate 
```

以下是我的路线

```
 new_user_session GET    /users/sign_in(.:format)       devise/sessions#new
            user_session POST   /users/sign_in(.:format)       devise/sessions#create
    destroy_user_session DELETE /users/sign_out(.:format)      devise/sessions#destroy
           user_password POST   /users/password(.:format)      devise/passwords#create
       new_user_password GET    /users/password/new(.:format)  devise/passwords#new
      edit_user_password GET    /users/password/edit(.:format) devise/passwords#edit
                         PUT    /users/password(.:format)      devise/passwords#update
cancel_user_registration GET    /users/cancel(.:format)        devise/registrations#cancel
       user_registration POST   /users(.:format)               devise/registrations#create
   new_user_registration GET    /users/sign_up(.:format)       devise/registrations#new
  edit_user_registration GET    /users/edit(.:format)          devise/registrations#edit
                         PUT    /users(.:format)               devise/registrations#update
                         DELETE /users(.:format)               devise/registrations#destroy 
```

但是即使用户电子邮件和密码保存在数据库中，我仍然无法注册新用户或登录应用程序。以下是我得到的错误：

```
NameError in Devise::RegistrationsController#create
uninitialized constant Model 
```

我可能错在哪里？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:30:51.497

试试这个来改变 devise.rb 的这一行

config.sign_out_via = :delete

到

config.sign_out_via = :get

这个对我有用

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:15:06.027

在你的路线上试试这个，

devise_for :users, :controllers => {:registrations => "devise/registrations"} 得到 '/register' => 'devise/registrations#new', :as => :new_user_registration end

# sql - 删除重复行但保留唯一副本

> ID：15425588
> 
> 赞同：1
> 
> 时间：2013-03-15T05:44:06.217
> 
> 标签：sql, sql-server, sql-server-2008, sql-delete

我得到了一个形式的 SQL 表：-

```
Name     Age
Kim       5
Tom       8
Jim       12
Kim       5
David     21
Jim       12 
```

在上述场景中，Kim 和 Jim 是重复的，它们存在两次。

如果我有一个上述表格的大表，大约有 60000 个条目，我如何编写一个 sql 查询来只删除重复项但仍然保留唯一的？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T05:46:07.640

借助`Common Table Expression`和`Window Function`，您可以轻松删除重复记录。

```
WITH dups
AS
(
    SELECT  Name, Age,
            ROW_NUMBER() OVER (PARTITION BY Name, Age ORDER BY Age DESC) rn
    FROM    TableName
)
DELETE FROM dups
WHERE   rn > 1 
```

*   [SQLFiddle 演示](http://www.sqlfiddle.com/#!3/0a7d4/1)
*   [排名函数 (Transact-SQL)](http://msdn.microsoft.com/en-us/library/ms189798.aspx)

# opencv - 在 OpenCV 中使用子矩阵制作大矩阵

> ID：15425591
> 
> 赞同：3
> 
> 时间：2013-03-15T05:44:41.497
> 
> 标签：opencv

我喜欢使用 5 x 5 矩阵制作一个 11 x 11 矩阵，如下所示。有没有比这更好的方法？

```
int csz = 5;
Mat zz = Mat::zeros(csz, csz, CV_32FC1);
Mat oo = Mat::ones(csz, csz, CV_32FC1);
Mat hh = 0.5 * Mat::ones((csz*2 + 1), 1, CV_32FC1);//column matrix
cv::Mat chkpat1((csz * 2 + 1), (csz * 2 + 1), CV_32FC1);
chkpat1(Range(0, 5),Range(0, 5)) = zz;//first quadrant
chkpat1(Range(0, 5),Range(6, 11)) = oo;//second quadrant
chkpat1(Range(5, 11),Range(0, 5)) = oo;//third quadrant
chkpat1(Range(6, 11),Range(6, 11)) = oo;//fourth quadrant
chkpat1(Range(0, 11),Range(5, 6)) = hh;//middle column  
chkpat1(Range(5, 6),Range(0, 11)) = hh.t();//middle row 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-04-19T14:04:53.483

这更短，所以从这个意义上说它更好：

```
 cv::Mat chkpat1(11, 11, CV_32FC1, cv::Scalar(1.0f));
   chkpat1(cv::Rect(0, 0, 5, 5)) = cv::Scalar(0.0f);
   chkpat1(cv::Rect(0, 5, 11, 1)) = cv::Scalar(0.5f);
   chkpat1(cv::Rect(5, 0, 1, 11)) = cv::Scalar(0.5f); 
```

这产生（这是我认为你想要的）：

```
0    0    0    0    0    0.5    1    1    1    1    1
0    0    0    0    0    0.5    1    1    1    1    1
0    0    0    0    0    0.5    1    1    1    1    1
0    0    0    0    0    0.5    1    1    1    1    1
0    0    0    0    0    0.5    1    1    1    1    1
0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5  0.5
1    1    1    1    1    0.5    1    1    1    1    1
1    1    1    1    1    0.5    1    1    1    1    1
1    1    1    1    1    0.5    1    1    1    1    1
1    1    1    1    1    0.5    1    1    1    1    1
1    1    1    1    1    0.5    1    1    1    1    1 
```

# multithreading - 在两个单独的线程之间共享一个队列，用于在 UDP 广播服务器中接收和处理数据

> ID：15425593
> 
> 赞同：1
> 
> 时间：2013-03-15T05:44:45.113
> 
> 标签：multithreading, udp

我创建了一个广播服务器，它一次必须有 10 个客户端。它必须能够一次从 10 个客户端读取数据并通过`Broadcast Message to all the Clients`. 为了使这种沟通更快，我决定让`two Separate Threads at Server Side.`

一个 Thread1 将专用于连续接收数据并将数据放入队列中。然后这个数据被另一个 Thread2 从队列中读取并完成处理。

即队列必须在Thread1 和Thread2 之间共享。

我怎样才能有效地做到这一点？这两个线程之间如何共享队列？

如果 Thread1 在同一个队列中写入而 Thread2 正在读取呢？

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-30T12:43:04.227

主要思想是“消费者”等到一些数据可用，而“生产者”在数据可用时通知。这可以使用条件变量简单有效地完成。看看[这篇文章](http://www.justsoftwaresolutions.co.uk/threading/implementing-a-thread-safe-queue-using-condition-variables.html)——作者实现了这样一个队列，每一步都附有详细的解释。

# perl - 在连接 (.) 或字符串中使用未初始化的值

> ID：15425598
> 
> 赞同：1
> 
> 时间：2013-03-15T05:44:59.783
> 
> 标签：perl

我只是 perl 的初学者并编写了一小段代码。添加 \n 后，我收到以下错误。请在下面找到表格格式。我正在尝试在索引后从 temp.txt 获取（第 2 列和第 3 列）。我试图忽略前两行。

正如我所提到的，当我将 \n 添加到代码中时出现错误

```
Error : Use of uninitialized value in concatenation (.) or 
        string at temp.pl line 10, <$fh2> line 300.

#! /usr/bin/perl

use strict;
use warnings;

my @data;
open(my $fh2,'<',"temp.txt") or die "Could not open file";
while(my $line =<$fh2>){
     @data =split(/\s+/,$line);
    print  "$data[2]  $data[3]";
    print "\n";
}

      Table format is:
      $DATA1 SOURCE='XtA' VERSION='G-2014.06'
    .TITLE '%curve%'
     index            temp1             temp2          temp3          
                      alter#          
     1               -1.5750000e+00   -3.2053667e+00   -4.0000000e+01  
                       1.0000000e+00(temp4)  

     2               -1.5272727e+00   -2.9323414e+00   -4.0000000e+01  
                       1.0000000e+00  

     3               -1.4795454e+00   -2.6579232e+00   -4.0000000e+01  
                       1.0000000e+00  

    ....................................upto 99 

      temp1  temp2
      <val1>  <val2> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T10:20:13.797

拆分后： if (scalar(@data)==4) {

然后是您的打印代码

}

因为你不知道 $data[3] 或 $data[2] 是否存在。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:49:48.757

您需要向我们提供完整的错误。您应该编辑问题，然后剪切并粘贴确切的错误，包括行号。然后，告诉我们文件中的哪一行。

很有可能该文件中的某些数据中的字段少于 4 个。因此，拆分将 3 个或更少的标量返回到 @data。然后，当您尝试引用 $data[3] 时，这是一个未初始化的值。

# php - 如何使用同一类的多个对象指定 location.href？

> ID：15425600
> 
> 赞同：1
> 
> 时间：2013-03-15T05:45:02.880
> 
> 标签：php, jquery, html

好的，所以我有多个同名对象：

```
<a href="<?php echo Utils::createLink('delete-ms'); ?>&tid=<?php echo $tid; ?>"
class="delete-ms">

<img src="img/status/CANCELED.png" alt="" title="Delete milestone." 
class="icon" style="width:18px; height: 18px; margin:0;"/>

</a> 
```

这是对象引用的：

```
<div id="delete-ms-dialog" title="Delete this milestone?">
<p><span class="ui-icon ui-icon-alert" style="float:left; margin:0 7px 20px 0;">  
</span>This milestone will be deleted. Are you sure?</p>
</div> 
```

这是用于调用链接的 JS：

```
function initDeleteMSDialog() {
var deleteDialog = $('#delete-ms-dialog');
var deleteLink = $('.delete-ms');
deleteDialog.dialog({
    autoOpen: false,
    modal: true,
    width: 476,
    buttons: {
        'OK': function() {
            $(this).dialog('close');
            location.href = deleteLink.attr('href');
        },
        'Cancel': function() {
            $(this).dialog('close');
        }
    }
});
deleteLink.click(function() {
    deleteDialog.dialog('open');
    return false;
}); 
```

}

现在我的问题是多个对象是用同一个类声明的。调用 JS 函数时，它使用类作为链接的来源。我怎样才能得到它，以便 location.href 首先引用我单击以启动对话框的链接？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:52:08.643

您将不得不遍历具有相同类的所有元素，例如

```
$(".delete-ms").each(function(){
 console.log($(this).attr('href'));
}); 
```

[http://jsfiddle.net/hZezC/3/](http://jsfiddle.net/hZezC/3/)

编辑

在点击事件中，您可以访问目标锚的 href attr

```
$(".delete-ms").click(function(e){
 console.log($(this).attr('href'));
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:56:41.067

您可以尝试在函数之外声明一个全局变量。

```
var $lastClicked; 
```

并在触发 deleteLink.click 时设置变量。

```
deleteLink.click(function() {
    $lastClicked = $(this);
    deleteDialog.dialog('open');
    return false;
}); 
```

这将允许您访问 deleteDialog 函数中的变量。

```
 'OK': function() {
        $(this).dialog('close');
        location.href = $lastClicked.attr('href');
     } 
```

# android - Android OS 上 GPS 状态的差异

> ID：15425602
> 
> 赞同：0
> 
> 时间：2013-03-15T05:45:29.203
> 
> 标签：android, android-location, android-build

在不同的 Android 操作系统中执行我的应用程序时，我遇到了不同的行为。

我有带有 Android 4.0.3 的 LG-E612，我的应用程序使用 GPS 进行位置更新，一旦 GPS 被卫星固定，状态栏上的 GPS 状态图标在运行应用程序时始终保持不变。我的 GPS 位置申请请求每 2 秒更新一次。

虽然我执行了相同的应用程序，但在 Android 4.0.4 上，似乎每次我请求位置更新时，状态栏上的 GPS 图标都会在 2 秒间隔内出现并再次消失。

我试图找出为什么 Android 操作系统中有两种不同的行为。任何人都可以将两个不同操作系统中的修订更改联系起来...

或者如果有人能解释在什么情况下状态栏上的 GPS 图标会出现、消失或闪烁。

提前致谢

# c++ - 在c ++中写入随机内存块时如何捕获异常

> ID：15425603
> 
> 赞同：0
> 
> 时间：2013-03-15T05:45:39.727
> 
> 标签：c++, exception, memory-leaks

```
int main()
{
    int *a; // a = 0x4053c6 (a random address)
    // this will cause the program to exit, and how do i know this memory can't be written ?
    *a = 5;
    return 0;
} 
```

使困惑！我的意思是这个片段是否总是导致程序崩溃？有没有这种程序可以从头到尾执行的情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:09:34.820

代码将 Segfault / 有访问冲突，根据操作系统将其作为陷阱或信号处理。您可能能够处理它，但之后您不太可能做很多事情。（处理后通常的做法是优雅的退出）。

至于确定有一个案例，要证明它是相当困难的。您可以拥有自己的编译器，将未初始化的变量设置为堆栈上的特定地址，例如（讽刺）。

伪初始化 a 中的值的一种方法是调用函数：

```
void func(int k)
{
    int *a;
    int b = 0;
    if (k == 1) {
        a = &b;
    }
    *a = 5;
} 
```

您可以尝试使用 func(1) 几次，然后尝试 func(2)。a 和 b有**可能**重用相同的堆栈区域而不会失败。但这又是一次**机会**。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:13:11.317

它通常会导致崩溃，但不能保证（因为变量未初始化，它可以包含任何值，有效或无效）。您无法通过 C++ 异常捕获访问冲突，但编译器提供了扩展来执行此操作。例如，在 Visual C++ 中，您可以使用 SEH（结构化异常处理）：

```
#include <Windows.h>
#include <iostream>

using namespace std;

int main()
{
    int* p = reinterpret_cast<int*>(0x00000100);

    __try
    {
        *p = 10;
    }
    __except (GetExceptionCode() == EXCEPTION_ACCESS_VIOLATION ? EXCEPTION_EXECUTE_HANDLER : EXCEPTION_CONTINUE_SEARCH)
    {
        cout << "Access violation" << endl;
        return -1;
    }

    cout << *p << endl;
} 
```

# c# - 如何防止 Jquery 可排序连接列表中的重复条目？

> ID：15425604
> 
> 赞同：4
> 
> 时间：2013-03-15T05:45:49.277
> 
> 标签：c#, jquery, asp.net, drag-and-drop, jquery-ui-sortable

我有两个asp下拉列表..基于两个下拉列表中选择的值，它将动态生成两个无序列表，我在其中实现了Jquery Sortable连接列表..第一个列表包含一些默认值..我需要拖放第二个列表所需的值......它应该防止添加重复的条目..

我在下面粘贴我的代码......请检查并为我提供解决方案：

这是两个下拉列表的 aspx 代码：

```
 <form id="form1" runat="server">

       Application <asp:DropDownList ID="ApplicationList" runat="server" AutoPostBack="true"  OnSelectedIndexChanged="FetchRoleFromApplication" >
          </asp:DropDownList>

      Role <asp:DropDownList ID="RoleName" runat="server" onchange="javascript:ShowSortable();"  >
       </asp:DropDownList>

    <ul id="sortable1" class="connectedSortable" runat="server" style="display:none">

   </ul>

   <ul id="sortable2" class="connectedSortable" style="display:none" runat="server" >

    </ul>
    </form> 
```

第一个 ul 列表是独立的，因此它的值被加载到 codebehind(pageload) 中，如下所示：

```
 HtmlGenericControl li;
        JavaScriptSerializer objJSSerializer = new JavaScriptSerializer();
        foreach (FetchUserGroup_Result objectItem in Allusergroup)
        {
            li = new HtmlGenericControl("li");
            li.ID = objectItem.group_id.ToString();
            li.Attributes.Add("class", "ui-state-default");
            li.InnerText = objectItem.group_name;

            sortable1.Controls.Add(li);
        } 
```

第二个 ul 列表值由这样的 ajax 调用加载...

```
function ShowSortable() {

    $('#sortable1').show();

    var postJSONData = JSON.stringify({ ApplicationId: $('#applnhdnname').val(), RoleName: $('#RoleName').val() });
    $.ajax({
        type: 'POST',
        data: postJSONData,
        url: 'UserManagementService.svc/GetUserGroupsForApplicationRole',

        dataType: 'json',
        async: false,
        contentType: 'application/json; charset=utf-8',

        success: function success(response) {

            $("#sortable2").append(response.d);
            $('#sortable2').show();

        },
        error: SessionExpiryHandler
    });
} 
```

对应的 wcf 服务是这样的：

```
[OperationContract]
        [WebInvoke(Method = "POST", ResponseFormat = WebMessageFormat.Json)]
        public string GetUserGroupsForApplicationRole(string ApplicationId, string RoleName)
        {

            User user = new User();
            JavaScriptSerializer objJSSerializer = new JavaScriptSerializer();
            List<GetUserGroupForApplicationRole_Result> usergroup;
            usergroup = user.GetUserGroupForApplicationRole(ApplicationId, RoleName);
            string sample = string.Empty;

            foreach (GetUserGroupForApplicationRole_Result objectItem in usergroup)
            {

                sample += "<li id= "+objectItem.group_id+ " class='ui-state-highlight'>";
                sample += objectItem.group_name;
                sample+="</li>";

            }

            return sample;
        } 
```

如何避免在此重复值...请帮帮我..

提前致谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:01:54.667

嗨更改您的javascript如下：

```
 <script>
    function ShowSortable() {

        $('#sortable1').show();

        var postJSONData = JSON.stringify({ ApplicationId: $('#applnhdnname').val(), RoleName: $('#RoleName').val() });
        $.ajax({
            type: 'POST',
            data: postJSONData,
            url: 'UserManagementService.svc/GetUserGroupsForApplicationRole',

            dataType: 'json',
            async: false,
            contentType: 'application/json; charset=utf-8',

            success: function success(response) {
                for(var i=0; i<response.d.length;i++)
                {

                    var myOption = $("<option value= " + response.d[i] + "> " + response.d[i] + " </option>");
                    if ($("#sortable2").length == 0) {
                        $("#sortable2").append(myOption);

                    }
                    $("#sortable2> option").each(function() {

                        if (response.d[i] != this.value) {
                            $("#sortable2").append(myOption);

                        }

                    });
                }

                $('#sortable2').show();
            },
            error: SessionExpiryHandler
        });
    }

</script> 
```

# scala - SBT 无法解决构建定义中的依赖关系

> ID：15425609
> 
> 赞同：3
> 
> 时间：2013-03-15T05:46:08.687
> 
> 标签：scala, sbt

我正在制作一个需要向某个服务器发出多部分 POST 请求的 SBT 任务。我想使用 Dispatch 来提出请求。我在`build.sbt`项目的顶层有以下内容：

```
libraryDependencies ++= Seq(
  "net.databinder.dispatch" %% "dispatch-core" % "0.9.5"
) 
```

任务定义在`project/Build.scala`. 我有

```
import sbt._
import Keys._
import dispatch._

object SubmitBuild extends Build {
  ...
} 
```

我收到以下错误消息：

```
[error] /Users/ken/xxxxtools/project/Build.scala:3: not found: object dispatch
[error] import dispatch._
[error]        ^ 
```

如果我删除`import dispatch._`然后 sbt 将编译。我知道我已经安装了 Dispatch。为什么 SBT 找不到？

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-15T06:08:08.923

如果您想在 Build.scala 中引用某些依赖项，则必须在 build 的项目中声明它，而不是在“项目项目”中。这意味着它应该是`project/build.sbt`。

事实证明，这`project/Build.scala`也是一个 SBT 项目，就像您的项目一样。

[SBT 作者在sbt is recursive](http://www.scala-sbt.org/release/docs/Getting-Started/Full-Def.html)中给出了很好的解释。

# wordpress - 当页面作为 WordPress 模板页面访问时，jQuery Ajax() 不起作用

> ID：15425610
> 
> 赞同：1
> 
> 时间：2013-03-15T05:46:27.000
> 
> 标签：wordpress, jquery

在一个文件 (test_ajax.php) 中，我有一个通过 jQuery Ajax() 加载带有短消息的另一个页面 (registration_form_race_type.php)。当通过其绝对 URL 访问“test_ajax.php”时，它工作正常，即：

```
http://46.20.119.207/~asuntosf/wordpress_test/wp-content/themes/test_ajax/test_ajax.php 
```

但令人惊讶的是，如果通过其 WordPress 地址访问完全相同的页面“test_ajax.php”，Ajax 功能将停止工作：

```
http://46.20.119.207/~asuntosf/wordpress_test/?page_id=13 
```

我坚持这两个 URL 都指向相同的两个 PHP 文件。

这是“test_ajax.php”的代码：

```
<?php
/*
Template Name: Page Test Ajax 01
*/
?>
<html>
<head>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" ></script>
    <script type="text/javascript">
        jQuery(function () {    
            jQuery('#event_id_from_list').change(function() {       
                var event = jQuery("#event_id_from_list").val(); 
                var data = "event_id=" + event;         
                jQuery.ajax({
                    url: 'registration_form_race_type.php', 
                    type: 'GET',
                    data: data,
                    success: function(data){ 
                        jQuery('#div_race_type').html(data); 
                    }
                });         
            });
        });
    </script>
</head>
<body>
    <select class='required' type="text" name="event_id_from_list" id="event_id_from_list" />
        <option value='Paris'>Paris</option>
        <option value='London'>London</option>
        <option value='Rome'>Rome</option>
    </select>   
    <div id='div_race_type' class='section'>            
        <?php require_once('registration_form_race_type.php'); ?>           
    </div>
</body>
<html> 
```

以及通过 Ajax 调用的页面代码“registration_form_race_type.php”：

```
<?php if (isset($_GET['event_id'])) echo 'you selected '.$_GET['event_id']; ?> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:23:12.723

这种行为没有什么奇怪的。您只是`registration_form_race_type.php`在您的 jQuery 中引用它，它会执行您要求它执行的操作，即`registration_form_race_type.php`在当前目录中查找。`registration_form_race_type.php`住在里面`http://46.20.119.207/~asuntosf/wordpress_test/wp-content/themes/test_ajax/`而不是里面`http://46.20.119.207/~asuntosf/wordpress_test/`。

如果您想`registration_form_race_type.php`从访问`http://46.20.119.207/~asuntosf/wordpress_test/?page_id=13`，您的代码需要更改为：

```
jQuery.ajax({
    url : 'wp-content/themes/test_ajax/registration_form_race_type.php',
    type : 'GET',
    data : data,
    success : function (data) {
        jQuery('#div_race_type').html(data);
    }
}); 
```

# perl - 如何在 perl 中发送 html 邮件时获得响应（成功或失败）

> ID：15425612
> 
> 赞同：0
> 
> 时间：2013-03-15T05:46:39.473
> 
> 标签：perl

以下是我在 perl 中发送 html 电子邮件的代码

```
use strict;
use warnings;

use Email::Sender::Simple qw(sendmail);
use Email::Sender::Transport::SMTP ();
use Email::Simple ();
use Email::Simple::Creator ();
use Email::MIME::CreateHTML;

my $smtpserver = 'xxx.xxx.xx';
my $smtpport = 25;
my $smtpuser   = 'xxx@test.com';
my $smtppassword = 'xxxx';

my $transport = Email::Sender::Transport::SMTP->new({
  host => $smtpserver,
  port => $smtpport,
  sasl_username => $smtpuser,
  sasl_password => $smtppassword,
});

my $html ="<div>Success</div>";
my $plain_text ="plain text";

my $email = Email::MIME->create_html(
        header => [
                From => 'test@lintotest.com',
                To => 'linodavis@gmailcom',
                Subject => 'Test Mail',
        ],
        body => $html,
        text_body => $plain_text
);

sendmail($email, { transport => $transport }); 
```

它工作正常。现在我需要找到邮件发送的响应。

为此，我将代码修改为

```
eval {
sendmail($email, { transport => $transport });    # this is try catch method
};
if ($@) {
        # where $@ is a object of Email::Sender::Failure
    print $@->message;
    print"\n".$@->code ;

}else{
 print "success";
} 
```

现在让我知道，有没有更好的方法来实现这一点？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T09:51:58.593

有两件事可以改进您的代码。

首先，尽快获取副本始终是一个好习惯`$@`（以防您在处理错误时所做的某些事情改变了 的值`$@`）。

```
if (my $e = $@) {
    print $e->message;
    print"\n" . $e->code;
} 
```

其次，还值得考虑一个像[Try::Tiny](https://metacpan.org/module/Try%3a%3aTiny)这样的模块，它可以让你的异常处理代码看起来更好一些。

```
try {
    sendmail($email, { transport => $transport });
} catch {
    # Exception is in $_
    print $_->message;
    print"\n" . $_->code;
} 
```

# kendo-ui - KendoUI Combobox 响应

> ID：15425618
> 
> 赞同：0
> 
> 时间：2013-03-15T05:47:14.530
> 
> 标签：kendo-ui

我正在使用 Kendo UI beta (v. 2013.1.226)，我发现当您更改组合框的字体大小时会出现一些故障。

下拉箭头似乎不正确 - 它有点向上，而它应该完美地定位在下拉按钮的中心。

说明 - 我附上截图。任何人都知道是否有办法解决这个问题？我正在考虑以某种方式将背景的 x 和 y 位置更改为相对的。任何帮助将不胜感激。

![在此处输入图像描述](../Images/90490a3d30eb7f8f06b35d1e06c5088a.png)

**更新：**不太确定是否只有我，但发现更改字体大小的另一个问题，列表似乎与输入字段重叠，如第二张图片所示：

![在此处输入图像描述](../Images/5b0abfae9f824703c94b0daea5488798.png)

我正在使用 IE 9。有人有这些问题，还是只有我一个人有这些问题？据我所知，Kendo 不应该干扰页面上的其他样式（样式以 k- 前缀开头），所以我想知道这些问题是只发生在我身上还是很常见。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-31T14:10:11.557

KendoUI Combobox 由多个组件组成，包括箭头在内的所有部分都有自己的样式。在我使用的版本（2013.1.514）中，箭头实际上是两个嵌套跨度。

我更改了文本框的高度并遇到了不同的对齐问题：

![在此处输入图像描述](../Images/4f9ffcbe29f8c357640c12e10123dd0b.png)

我不希望提供的 KendoUI CSS 能够在字体大小更改中幸存下来，因为它们经过调整以使其在自己的默认字体大小下看起来不错。您最好的选择是使用 Chrome 的 F12 工具来确定哪些 CSS 样式受到影响并调整 Kendo 样式（或您的覆盖）以满足您的要求。

# javascript - 避免重绘页面元素 (ListView) Windows 8 HTML5 JS

> ID：15425619
> 
> 赞同：1
> 
> 时间：2013-03-15T05:47:17.343
> 
> 标签：javascript, html, listview, windows-8

有没有办法避免重绘页面元素（列表视图）在从和到快照视图的转换以及快速平移大型集线器时经常可见？

![在此处输入图像描述](../Images/e2629675bf748d246fc6987a66a86009.png)

# java - JADE action() 不工作

> ID：15425624
> 
> 赞同：1
> 
> 时间：2013-03-15T05:47:46.577
> 
> 标签：java, containers, agent, agents-jade

我想我在我的项目中遗漏了一些东西。我需要代理来执行我分配的特定任务。我正在使用玉。在里面`action()`我写了一个for循环来显示数字1到10。运行时没有显示错误，并且循环也没有被执行。当我运行时：

```
java -cp jade.jar jade.Boot -gui agent:TestAgent 
```

我得到一个`classNotFound`异常并且还显示无法创建代理。

当我运行时：

```
java -cp jade.jar jade.Boot -gui -agent agent:TestAgent 
```

我准备好代理信息，但没有调用操作方法。

可能是什么原因？我应该怎么办？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-22T14:20:05.630

尝试在你的IDE中运行jade。如果您使用 netbeans，您可以转到项目属性 -> 运行：主类：jade.Boot 参数：-gui agentName:packageName.AgentClassName（如果您使用的是默认包，请使用：agentName:AgentClassName）

您是否在函数中将您的行为添加到您的 TestAgent 中`setup()`？您可以使用`addBehaviour(new myBehaviourClassName())`

还有一件事你不应该在代理或行为中使用循环函数（至少不是大循环），而是使用循环行为（或`done()`函数中带有循环停止条件的 SimpleBehaviours）并使用拥有行为的代理来保存信息您只需要在`action()`函数中处理“循环”的一次或几次迭代。

如果你想从命令行运行jade，`java jade.Boot -gui agentName:TestAgent` 它会在主容器中启动你的代理。如果您遇到**类未找到错误**，请检查 cmd 中的当前路径，它应该是`projectPath\build\classes`（至少在 Netbeans 项目中，如果您使用另一个 IDE，路径可能不同）。

# c - 在c中将char指针写入控制台

> ID：15425639
> 
> 赞同：-2
> 
> 时间：2013-03-15T05:49:00.943
> 
> 标签：c, string, pointers, char

我尝试将 char 数组作为名称写入控制台，但它不起作用。这是代码

```
#include<stdio.h>
#include<string.h>

int F()
{
    int S;
    printf("Type your student number(10 digit):"); 
    scanf("%d", &S ); 
    return S;
}

char * G()
{
    char N[20];
    printf("Type your name (max 20 char): "); 
    scanf("%s", N); 
    return N;
}

int main()
{
    int num=F();
    char * p ;
    p=G();

    printf("Hello %s, your student id is %d ", p,num);

    printf("\n The address of 1st char is %x ",&p[0]);
    printf("\n The address of 20th char is %x ",&p[19]);
    printf("\n The address of int is %x ",&num);
    return 0;
} 
```

“你好”之后有问题。名称(*p) 未写入。我找不到任何错误，但输出不是我想要的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T05:55:22.103

```
char * G(char N[20])
{
    printf("Type your name (max 20 char): "); 
    scanf("%19s", N); 
    return N;
}

int main()
{
    int num=F();
    char p[20];
    G(p);
    ...
    printf("\n The address of 1st char is %p ", (void*)p);
    printf("\n The address of 20th char is %p ", (void*)(p + 19));
    printf("\n The address of int is %p ", (void*)&num);
    return 0;
} 
```

编辑：添加了指针转换

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T05:51:56.710

```
char * G()
{
    char N[20];
    printf("Type your name (max 20 char): "); 
    scanf("%s", N); 
    return N;
} 
```

一旦这个函数返回，`N`就不再存在（它是一个局部变量）。所以你正在返回一个指向不存在的东西的指针。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T06:01:31.577

您按照给定的方式进行静态声明。它会工作

```
char * G()
{
    static char N[20];

    // char *N = (char *)malloc((sizeof(char)*20));

    printf("Type your name (max 20 char): ");
    scanf("%s", N);
    return N;
} 
```

您也可以使用 malloc 分配内存。然后，您必须在使用后释放分配的内存。在打印所有参数后，您可以在代码中释放内存。

```
free(p); 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-15T05:51:27.193

返回的值`G()`是堆栈本地地址。它只存在于该函数的范围内。当执行返回到 main 时，它指向程序堆栈上大多数不再包含该字符串的位置。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-15T05:55:12.820

```
char * G()
{
    char N[20];
    printf("Type your name (max 20 char): "); 
    scanf("%s", N); 
    return N;
} 
```

先看看这是一个愚蠢的错误......

你不能返回一个局部变量地址......

将 char N[20] 定义为全局优先...

或者将函数定义更改为，

```
void G(char *N)
{    
    printf("Type your name (max 20 char): "); 
    scanf("%s", N); 
}

int main()
{
    int num=F();

    char N[20];

    G(N);

    printf("Hello %s, your student id is %d ", N,num);
    return 0;
} 
```

# eclipse - Egit 将 Eclipse 项目文件夹添加到 git 存储库

> ID：15425640
> 
> 赞同：10
> 
> 时间：2013-03-15T05:49:01.800
> 
> 标签：eclipse, bitbucket, egit

我在 BitBucket 上创建了一个新的空 git 存储库，现在我想将它链接到 Eclipse。

我将 repo 添加到“Git Repositories”视图并创建了一个同名的新项目。

我选择“团队-> 共享项目”，然后提交并推送到上游。

现在我的存储库具有文件夹结构 /my-long-project-name/My Long Project Name/

有没有办法让项目文件夹成为 git 存储库的根目录？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-08-23T15:51:31.473

从[EGit Eclipse Wiki 页面](http://wiki.eclipse.org/EGit/User_Guide#Creating_Repositories)：

> **将项目设置为存储库的根文件夹可能不是一个好主意**
> 
> 原因是您将永远无法向此存储库添加另一个项目，因为 .project 文件将占用根文件夹；您仍然可以将项目添加为子文件夹，但众所周知，这种项目嵌套会导致很多问题。为了添加另一个项目，您必须将项目移动到存储库中的子文件夹，并将第二个项目添加为另一个子文件夹，然后才能提交此更改。

我知道这不是一个解决方案，但至少这给出了一个必须忍受具有相同名称的附加文件夹的正当理由。

* * *

## （不推荐！）解决方法

**创建/修改远程存储库，然后克隆到一个新的本地项目**：

如果您还没有开始开发或有能力将重复的子文件夹（在您的情况下为“我的长项目名称”）的内容移动到 git 存储库的根目录，**则可以避免**以相同的两倍结束文件夹，*反过来*：

1.  将项目中的文件移动到*远程*存储库的根目录/如果这是一个新项目，则创建*远程存储库。*

2.  在Eclipse的**“Git Repositories”视图中，找到****“Clone a Git repository and add the clone to this view”**。按照步骤将存储库从 URI 克隆到*本地*文件夹。

3.  在同一视图中，右键单击列表中的存储库并选择**“导入项目...”**

4.  *   如果您`.project`在根文件夹中有一个文件，即已经成为 Eclipse 项目一部分的文件，请选择**“导入现有项目”**并选择根文件夹，然后观看 Eclipse 发挥它的魔力。

    *   如果这是一个新项目（或者源上的文件不是eclipse项目），选择“ **Import as general project** ”，如果需要特定的项目类型，之后在Eclipse中修改项目类型。

**免责声明：**我个人决定不使用此解决方法并坚持使用 EGit 建议。

# android - Android onKeyUp 在 Activity 中不起作用

> ID：15425644
> 
> 赞同：0
> 
> 时间：2013-03-15T05:49:17.213
> 
> 标签：android, android-activity, android-softkeyboard

软键盘在我的活动中不起作用？但是在按下主页按钮或任何系统UI按钮后，除了返回按钮外，它的启动工作正常。

```
@Override
public boolean onKeyUp(int keyCode, final KeyEvent event) {
    final int finalKeyCode = keyCode;
    View lView = mParent.lET.findFocus();
    if(lView == mParent.lET)
    {
        if(keyCode == KeyEvent.KEYCODE_ENTER)
        {
            this.mGLThread.androidHideSoftKeyboard();
        }
        else
        {
            mParent.lET.bringToFront();
            mParent.lET.onKeyUp(finalKeyCode, event);
            mPlayerName = mParent.lET.getText().toString();
        }
    }

    return false;
} 
```

硬件按钮触发此功能，但软键盘不起作用。谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T05:57:07.420

onKeyListener 通过软键盘在 Android 1.5 上完美运行

从 Android 1.6 开始，字符和数字键不再通过 onKey 事件，但 DEL 键可以

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:54:29.870

onKeyUp 应该处理硬件键而不是软键。所以你不能像这样处理软键盘的按键。为此，您可以做一件事。在 EditText 上设置 TextChangedListener。示例代码

```
edit.addTextChangedListener(new TextWatcher(){
            public void afterTextChanged(Editable s) {

            }
            public void beforeTextChanged(CharSequence s, int start, int count, int after){

            }
            public void onTextChanged(CharSequence s, int start, int before, int count){

            }

        }); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T06:00:26.123

试试这个

将您定义的侦听器设置为您的`EditText`

```
edittext.setOnEditorActionListener(new HideYourKeypad()); 
```

定义你的听众

```
 // Added try-catch just in case JellyBean has any other lurking errors
public class HideYourKeypad implements OnEditorActionListener {
    @Override
    public boolean onEditorAction(TextView view, int actionId,
            KeyEvent event) {
        try {
            InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);

            if (imm != null && view != null) {
                switch (actionId) {
                case EditorInfo.IME_NULL:
                    if ((event == null)
                            || (event.getAction() == KeyEvent.ACTION_DOWN))
                        imm.hideSoftInputFromWindow(view.getWindowToken(),
                                0);
                    return true;

                case EditorInfo.IME_ACTION_GO:
                    imm.hideSoftInputFromWindow(view.getWindowToken(), 0);
                    return true;

                case EditorInfo.IME_ACTION_DONE:
                    imm.hideSoftInputFromWindow(view.getWindowToken(), 0);
                    return true;
                }
            }
        } catch (Throwable x) {
            Logger.warning(TAG, "Error hiding keyboard", x);
        }

        return false;
    }
} 
```

# node.js - 如何制作分布式 node.js 应用程序？

> ID：15425647
> 
> 赞同：45
> 
> 时间：2013-03-15T05:49:30.370
> 
> 标签：node.js, http, scalability

创建 node.js 应用程序非常简单。

```
var app = require('express')();
app.get('/',function(req,res){
    res.send("Hello world!");
}); 
```

但是假设人们对你的应用程序着迷`Hello World!`并耗尽了你的资源。如何在实践中扩大这个例子？我不明白，因为是的，您可以在不同的计算机上打开多个 node.js 实例 - 但是当有人访问[http://your_site.com/](http://your_site.com/)时，它直接针对特定的机器、特定的端口、特定的节点进程。又怎样？

* * *

## 回答 #1

> 赞同：38
> 
> 时间：2013-03-15T06:36:19.407

有很多方法可以解决这个问题，但归结为两件事：

1.  每台服务器能够使用更多内核
2.  能够扩展到多于一台服务器。

### 节点集群

对于第一个选项，您可以使用与第二个`node-cluster`选项相同的解决方案。 `node-cluster`( [http://nodejs.org/api/cluster.html](http://nodejs.org/api/cluster.html) ) 本质上是一种将节点进程分叉为一个主进程和多个工作进程的内置方式。通常，您需要 1 个 master 和 n-1 到 n 个 worker（n 是您的可用核心数）。

### 负载均衡器

第二种选择是使用负载均衡器，将请求分配给多个工作人员（在同一台服务器上，或跨服务器）。

在这里，您也有多种选择。这里有几个：

*   基于节点的选项：[使用 http-proxy 与 node.js 进行负载平衡](https://stackoverflow.com/questions/13609196/load-balancing-with-node-js-using-http-proxy)
*   nginx：[Node.js + Nginx - 现在怎么办？](https://stackoverflow.com/questions/5009324/node-js-nginx-and-now)（使用多于一台`upstream`服务器）
*   apache：（我没有可以使用的明显有用的链接，但是一个有效的选项）

还有一件事，一旦你开始让多个进程为请求提供服务，你就不能再使用内存来存储状态，你需要一个额外的服务来存储共享状态，Redis ( [http://redis.io](http://redis.io) ) 是一个流行的选择，但是通过no 意味着唯一的一个。

如果您使用 cloudfoundry、heroku 等服务，它们会为您设置好，因此您只需担心应用程序的逻辑（并使用服务来处理共享状态）

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2015-04-02T18:07:10.740

我使用 node 已经有一段时间了，但最近有机会尝试扩展我的 node 应用程序，并且已经研究了一段时间，并且已经遇到了以下扩展的先决条件：

1.  我的应用程序需要在每个运行多个节点实例的分布式系统上可用

2.  每个系统都应该有一个负载均衡器来帮助在节点实例之间分配流量。

3.  应该有一个主负载均衡器，它应该在分布式系统上的节点实例之间分配流量。

4.  主平衡器应始终运行或应具有可靠的重启机制以保持应用程序稳定。

对于上述要求，我遇到了以下情况：

1.  使用[集群等模块](https://nodejs.org/docs/latest/api/cluster.html)等模块在系统中启动多个节点实例。

2.  始终使用 nginx。这是迄今为止我遇到的创建负载均衡器的最简单的机制之一

3.  使用[HAProxy](http://www.haproxy.org/)充当主负载均衡器。[几点](http://blog.risingstack.com/operating-node-in-production/)建议关于如何使用它并使其永远运行

有用的资源：

1.  [水平缩放 node.js 和 websockets。](http://goldfirestudios.com/blog/136/Horizontally-Scaling-Node.js-and-WebSockets-with-Redis)
2.  [使用集群来利用多核。](http://blog.carbonfive.com/2014/02/28/taking-advantage-of-multi-processor-environments-in-node-js/)

随着我的进步，我会不断更新这个答案。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-15T06:36:41.300

使用多台机器的基本方法是将它们放在负载均衡器后面，并将所有流量指向负载均衡器。这样，有人去[http://my_domain.com](http://my_domain.com)，它会指向负载均衡器机器。负载均衡器的唯一目的（无论如何，对于这个例子；理论上可以做更多）是将流量委托给运行您的应用程序的给定机器。这意味着您可以有 x 台机器运行您的应用程序，但是外部机器（在本例中为浏览器）可以访问负载均衡器地址并访问其中之一。客户端不（也不必）知道实际上是哪台机器在处理它的请求。如果您使用的是[AWS](http://aws.amazon.com/elasticloadbalancing/)，设置和管理它非常容易。请注意，Pascal 的答案在此处提供了有关您的选项的更多详细信息。

特别是对于 Node，您可能需要查看[Node Cluster](http://nodejs.org/api/cluster.html)模块。我对这个模块并没有太多经验，但是它应该允许您在一台机器上生成应用程序的多个进程，所有进程都共享同一个端口。还节点它仍然是实验性的，我不确定它有多可靠。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2017-12-21T21:25:30.090

我建议看一下[http://senecajs.org](http://senecajs.org)，这是一个 Node.js 的微服务工具包。对于初学者来说，这是一个很好的起点，可以开始思考“服务”而不是单一的应用程序。

话虽如此，构建分布式应用程序很困难，需要时间来学习，需要**很多**时间来掌握它，而且通常你会在性能、可靠性、维护等方面面临很多权衡。

# codeigniter - 不同控制器中的 Codeigniter 访问功能

> ID：15425650
> 
> 赞同：0
> 
> 时间：2013-03-15T05:49:42.323
> 
> 标签：codeigniter, codeigniter-2

我对codeigniter很陌生。我面临一个不方便的问题。我在 profile.php （控制器）中有这样的代码：

```
 public function edit()
    {
        $post = $this->input->post();

        if($post)
        {
            //checking session username (if logged in)
            if(isset($this->session->userdata('username') && !empty($this->session->userdata('username')))
            {

            }else{
             /***************************REFERENCE DIFFERENT CONTROLLER HERE*********/
                $this->load->view('login');    //should I write membership/index?
            }

        }else{

        }

    } 
```

所以我检查用户是否登录，如果是，代码执行。如果没有，我希望重定向到不同控制器中的函数，即membership.php，它是该控制器的index() 函数。我该如何参考？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T08:12:23.957

使用重定向（“会员/索引”）；用于在 codeigniter 中重定向

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:13:51.293

使用重定向变量

```
 public function edit()
{
    $post = $this->input->post();

    if($post)
    {
        //checking session username (if logged in)
        if(isset($this->session->userdata('username') && !empty($this->session->userdata('username')))
        {
             redirect('membership');
        }else{
         /***************************REFERENCE DIFFERENT CONTROLLER HERE*********/
            $this->load->view('login');    //should I write membership/index?
              redirect('membership'); // you can use this where u want to refrence/redirect
        }

    }else{

    }

} 
```

# javascript - 如何将值传递到在外部 php 函数文件中创建的警报框

> ID：15425651
> 
> 赞同：0
> 
> 时间：2013-03-15T05:49:47.400
> 
> 标签：javascript, php, alert

嗨，正如我在上一个问题中所问的那样，我想问在 php 中是否有一种方法可以将值传递给创建到外部函数文件中的警报框？例如。我创建了一个函数 insmess()，该函数只是创建了一个警告框，它显示一条消息，我想知道如果我传递像 insmess($var) 这样的值，是否有可能。那么 $var 中的值应该出现在警告框中。在此先感谢...这是我的代码

```
function insmess(){

    print '<script type="text/javascript">';
    print 'alert("")';////this is where i want to show my value 
    PRINT '</script>';
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T05:59:59.583

```
function insmess($var){
    print '<script type="text/javascript">';
    print 'alert("' . $var . '")';
    print '</script>';
}
insmess("mess"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T05:53:41.983

是的......使用这个：

```
'alert("'.$var.'");'; 
```

完整功能如下所示：

```
function insmess($var){

    print '<script type="text/javascript">';
    print 'alert("'.$var.'");';
    print '</script>';
} 
```

# c# - c#程序结束后控制台不会关闭

> ID：15425654
> 
> 赞同：9
> 
> 时间：2013-03-15T05:49:50.893
> 
> 标签：c#, .net

我有我正在运行的 c# 应用程序，然后在某些时候应用程序抛出一个错误，然后被捕获，然后应用程序应该结束。它结束了，但控制台窗口保持打开状态......

我什至签入`windows task manager`，在`applications`选项卡下，列出了我的控制台，但是当我单击 时`go to process`，没有该应用程序的进程。

这很奇怪......应用程序结束，进程结束，但控制台保持开启？我怎样才能杀死那个控制台？

编辑：我的代码：

```
static class Program
    {
        static void Main()
        {
            try
            {
                //bunch of static methods from other static classes are being invoked

                Setup.Driver.Close();//another static method
            }
            catch (Exception)
            {
                Setup.Driver.Close();
            }
        }
    } 
```

**第二次编辑：**注意：Process.Getprocess().Kill()、Application.Exit()、Environment.Exit() 对我不起作用，在 Windows 任务管理器中，没有要杀死的进程，只有控制台保持打开状态！

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-15T05:58:21.703

```
Environment.Exit(0); 
```

或者

```
this.Close(); 
```

如果你有线程在运行，你可以在调用 Exit 之前尝试这个蛮力方法：

```
using System.Diagnostics;

ProcessThreadCollection currentThreads = Process.GetCurrentProcess().Threads;

foreach (var thread in currentThreads)
{
   thread.Interupt(); // If thread is waiting, stop waiting

   // or

   thread.Abort(); // Terminate thread immediately 

  // or

   thread.IsBackGround = true;
} 
```

* * *

## 回答 #2

> 赞同：7
> 
> 时间：2013-03-15T05:55:40.457

Environment.Exit 和 Application.Exit

Environment.Exit() 更干净。

[http://geekswithblogs.net/mtreadwell/archive/2004/06/06/6123.aspx](http://geekswithblogs.net/mtreadwell/archive/2004/06/06/6123.aspx)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-15T06:00:49.163

早上好，

当您从带有调试器的 Visual Studio 启动控制台应用程序时，控制台应用程序是否没有关闭，或者当您从文件系统启动它/没有附加调试器时它也没有关闭？

附加调试器后，您将始终看到“Press ENTER to exit ...”（或类似消息）。

在谈论任务管理器时 - 你看到 *.vshost 进程在那里吗？如果是，这是 Visual Studio 的“必需”，不是您的“真正的”控制台应用程序；从 Visual Studio 中启动可执行文件时，您将始终看到 *.vshost 进程。

希望这可以帮助

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2018-06-21T10:57:38.850

您的程序很可能与另一个使其保持打开状态的进程相关联。

就我而言，该过程是 chromedriver。

检查您的进程和代码以查看您打开的内容以及仍在后台运行的内容。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2019-07-24T13:41:35.443

我也被这个问题困住了。完成浏览器后，我只使用了`Driver.Close();` 但是，这样做仍然使 chromedriver 在后台运行。所以我改为使用**`Driver.Quit();`**. 然后我确保**`return;`**从 Main 方法开始。

希望这可以帮助！

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-15T05:56:15.983

```
Environment.Exit(); 
```

这行得通吗？

# spring - Spring Batch：读取文件：如果字段为空，则设置默认值

> ID：15425657
> 
> 赞同：4
> 
> 时间：2013-03-15T05:50:17.373
> 
> 标签：spring, batch-processing, spring-batch

> 我对春季批次很陌生。我有一个要求，我必须读取具有标题（字段名称）记录和数据记录的文件
> 
> 1.  我必须验证第一条记录（检查与一组预定义名称匹配的字段名称）-请注意，需要跳过此记录-我的意思是不应该是处理器中项目的一部分）
>     
>     
> 2.  读取其余字段值并将其存储到 POJO
>     
>     
> 3.  如果“日期”字段为空，我需要将默认值设置为“xxxx-yy-zz”
>     
>     
> 
> 我无法使用批处理的第一个和第三个要求是示例阅读器 XML。请帮忙

```
 <bean id="reader" class="org.springframework.batch.item.file.FlatFileItemReader">
     <property name="resource" value="classpath:input/import" /> 
     <property name="encoding" value="UTF-8" />
    <property name="linesToSkip" value="1" />
    <property name="lineMapper" ref="line.mapper"/>
 </bean>

 <bean id="line.mapper" class="org.springframework.batch.item.file.mapping .DefaultLineMapper">
    <property name="lineTokenizer" ref="line.tokenizer"/>
    <property name="fieldSetMapper" ref="fieldSet.enity.mapper"/>
 </bean>

 <bean id="line.tokenizer" class="org.springframework.batch.item.file.transfo  rm.DelimitedLineTokenizer">
     <property name="delimiter">
       <util:constant static-field="org.springframework.batch.item.file.transfo rm.DelimitedLineTokenizer.DELIMITER_TAB"/>
     </property>
     <property name="names" value="id,date,age " />
     <property name="strict" value="false"/>
</bean>

  <bean id="fieldSet.enity.mapper" class="org.springframework.batch.item.file.mapping .BeanWrapperFieldSetMapper">
      <property name="targetType" value="a.b.myPOJO"/>
      <property name="customEditors">
           <map>
              <entry key="java.util.Date">
                     <bean class="org.springframework.beans.propertyeditors.C ustomDateEditor">
                           <constructor-arg>
                                <bean class="java.text.SimpleDateFormat">
                                         <constructor-arg value="yyyy-mm-dd" />
                                 </bean>
                           </constructor-arg>
                           <constructor-arg value="true" />
                     </bean>
               </entry>
          </map>
     </property> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-17T07:39:57.867

创建您自己的自定义 FieldSetMapper，如下所示

```
CustomeFieldSetMapper implements FieldSetMapper<a.b.myPOJO> {

@Override
public a.b.myPOJO mapFieldSet(FieldSet fs) {
           a.b.myPOJO  myPOJO = new a.b.myPOJO();
           if(fs.readString("date").isEmpty()){
               myPOJO.setDate("xxxx-yy-zz");
           }
           return a.b.myPOJO;
    } 
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T08:43:44.480

你认为你应该在`ItemProcessor`.

此外，如果`<property name="linesToSkip" value="1" />`不能满足您的要求 - 在其中手动扩展`FlatFileItemReader`和验证第一行。

# ruby-on-rails - ActsAsTaggableOn 可以允许每个标签有多个所有者吗？

> ID：15425660
> 
> 赞同：2
> 
> 时间：2013-03-15T05:50:25.773
> 
> 标签：ruby-on-rails, acts-as-taggable-on

我正在讨论是否必须实现自己的标记系统或使用出色的 ActsAsTaggableOn gem。我不清楚 ActsAsTaggableOn 是否允许多个所有者拥有同一个标签。

我希望每个标签有多个所有者，因为我想向用户显示他们拥有的所有标签的列表，即使他们不是第一个输入它们的人。

ActsAsTaggableOn 默认情况下是这样工作的，还是只能第一个输入新标签的人是所有者（一对一）。

谢谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T03:39:01.107

我这周刚开始使用acts-as-taggable-on，并且已经彻底阅读了文档，但是，我还不需要使用[标签所有者](https://github.com/mbleigh/acts-as-taggable-on#tag-ownership)功能。话虽如此，我仍然可以根据我迄今为止的知识和经验提供帮助。

首先，您可能还不知道 ActsAsTaggableOn 的标记模型。它是标记和可标记对象之间的连接。**因此，标注者不能拥有标签，他们可以拥有标签。**

这是标签表的示例...

![这是我的标记表的示例](../Images/5091d93b48c3be6b84dfa90db8d9c410.png)

第一条记录不使用#tag 方法。例如，来自 Github 文档：

```
@some_user.tag(@some_photo, :with => "paris, normandy", :on => :locations) 
```

第二条记录可以。所以在第二种情况下，如果多个标记器可以标记同一个可标记对象，那么每个标记只能有一个所有者。

注意：重新阅读[标签所有者功能](https://github.com/mbleigh/acts-as-taggable-on#tag-ownership)后，我认为这有点误导，可能是您提出问题的原因。它真的应该说***Tagging* Ownership**或**Tag Ownership (Per Taggable Object)**。我想我可以做一个拉取请求，并试图让它更清楚。

# c++ - 引用类型之间的隐式转换

> ID：15425661
> 
> 赞同：2
> 
> 时间：2013-03-15T05:50:30.770
> 
> 标签：c++, type-conversion

给定两个类 A 和 B 具有相同的数据布局（即只有函数不同，而不是成员），如何使引用类型隐式转换？

```
struct Storage
{
    uint32_t a, b;
};

class First : private Storage
{
    int32_t GetA() { return a; }
    int32_t GetB() { return b; }
};

class Second : private Storage
{
    int64_t GetA() { return a; }
    int64_t GetB() { return b; }
};

void FuncF(const First& first);
void FuncS(const Second& second);    

// I would like to be able to call like
int main()
{
    First f;
    Second s;

    FuncF(s);          // Conversion fails
    FuncS(f);          // Conversion fails

    return 0;
} 
```

我可以将上述方法用于传递复制，如果我使用继承，`class First : Second`我可以让转换以一种方式工作。

（注意上面是一个人为的例子，你可以想象 int32_t 和 int64_t 返回类型是可以从 uint32_t 构造的更复杂的类）。

需要明确的是：我对解决方法不感兴趣，我特别希望能够将`First`对象绑定到`Second`引用，反之亦然，这取决于数据相同的事实。

```
FuncS(static_cast<Second&>(f));   // This works, is it standard (ie portable) 
                                  // and can I define the class so the cast is not necessary? 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:43:59.530

您可以使用[类型转换运算符](http://publib.boulder.ibm.com/infocenter/lnxpcomp/v8v101/index.jsp?topic=%2Fcom.ibm.xlcpp8l.doc%2Flanguage%2Fref%2Fcplr383.htm)

所以 Second 需要一个如下形式的成员函数： Second::operator First(); 在 First 中也是如此。这将进行隐式转换，无需类型转换。

# r - 组合具有不同列名的 2 个数据框

> ID：15425663
> 
> 赞同：2
> 
> 时间：2013-03-15T05:50:37.003
> 
> 标签：r, merge, dataframe

在 R 中，我有 2 个数据框，它们都有不同的列名。我想根据列号组合每个数据框的行。我拥有的数据框如下

```
> d1
  X.0.52..V2 X.0.52..V4
1        ABT        700
2        AMD       9600
3        AMG        600
4       AGCO        800

> d2
  X.52.96..V2 X.52.96..V4
1        COMS      162193
2         MMM      419645
3          SE      146343
4        ADCT       62609
5         TCC        6623 
```

我想要以下数据框：

```
 >d3

       ticker        value
 1        ABT         700
 2        AMD        9600
 3        AMG         600
 4       AGCO         800
 5       COMS      162193
 6        MMM      419645
 7         SE      146343
 8       ADCT       62609
 9        TCC        6623 
```

我需要使用什么代码？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-15T05:58:54.843

如果它这么简单，我会倾向于使用：

```
colnames(d1) <- colnames(d2) <- c("ticker", "value")
rbind.data.frame(d1, d2) 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-15T05:57:07.497

如果你的实际情况就是这么简单，你可以很容易地从两者中匹配名称：

```
names(df2) <- names(df1) 
```

然后`rbind`他们在一起：

```
df.both <- rbind(df1, df2) 
```

并为数据框提供您想要的名称：

```
names(df.both) <- c("ticker", "value")

# > df.both
# ticker  value
# 1     ABT    700
# 2     AMD   9600
# 3     AMG    600
# 4    AGCO    800
# 11   COMS 162193
# 21    MMM 419645
# 31     SE 146343
# 41   ADCT  62609
# 5     TCC   6623 
```

# php - jQuery单击事件中的问题

> ID：15425668
> 
> 赞同：3
> 
> 时间：2013-03-15T05:50:47.203
> 
> 标签：php, jquery, slidedown

我有以下 HTML 标记。

```
<div id="toppanel">
    <div id="panel" style="display: none;">
        <div class="content clearfix">
            <div class="clear"></div>
            //some ul li
            <div class="left">
                <img alt="" src="img/slide_logo.png">
                <h1>Welcome</h1>
                <p class="grey">You can put request for anything you want : cooking, driver for a day, programmer... The only limit is your imagination!</p>                    
            </div>
            <div class="left">
                <h1>Member Login</h1>
                <form accept-charset="utf-8" action="/users/login" method="post" id="HeaderUserLoginForm" novalidate="novalidate">
                    //form fields
                    <input type="submit" style="float:left;position: relative;top: 10px;" class="button blue" value="Sign In" name="submit">
                    <a href="#" class="lost-pwd">Lost your password?</a>
                </form>
            </div>

            <div class="left right">
                <form accept-charset="utf-8" action="/users/signup" method="post" id="HeaderUserSignupForm" novalidate="novalidate">
                    //form fields
                    <input type="submit" style="float:left;position: relative;top: 10px;" class="button blue" value="Sign Up" name="submit">                            
                </form>
            </div>
        </div>
    </div>
</div> 
```

上面的 HTML 代码用于顶部固定登录和注册，`slideup`即`down`使用`toggle`.

现在，当我`click`其他部分的用户`DOCUMENT`需要隐藏它时，我使用下面的代码来做到这一点。

```
$(document).on('click',function(e)
{
    e.stopPropagation();
    $("div#panel").slideUp("slow");
}); 
```

但问题是当我点击它的任何部分`toppanel DOM`时`slideUp`。

那么我该如何克服这个问题。我也尝试过`:not()`，但没有希望。

我最终的结果是。

```
$(document).on('click','#panel input[type!="submit"], #toppanel:not("div"), #toppanel:not("div ul"), #toppanel:not("div p")',function(e)
{
    e.stopPropagation();
    $("div#panel").slideUp("slow");
}); 
```

这只是为了`"#panel input[type!="submit"]"`不为其他人工作。

非常感谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T05:53:50.737

```
$(document).on('click',function(e)
{
     if(!$(e.target).is('#toppanel')){
       e.stopPropagation();
       $("div#panel").slideUp("slow");
    }

}); 
```

更新..（我认为这不是一个好方法..无论如何试一试）给所有元素一个你想排除点击事件的类

```
<div class="exclude">
   <p class="exclude"></p>
    <span class="exclude">fooo</span>
    etc....

</div>

 $(document).on('click',function(e)
    {
         if(!$(e.target).is('.exclude')){
           e.stopPropagation();
           $("div#panel").slideUp("slow");
        }

    }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T06:02:01.720

以及 ubercooluk thanx 的帮助，这就是我最终得到的结果和它的工作原理。

```
$(document).on('click',function(e)
{
    if($(e.target).parents('#toppanel').length == 0 )
    {
        e.stopPropagation();
        $("#toggle a.close").hide();
        $("#toggle a.open").show();
        $("div#panel").slideUp("slow");
    }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T06:03:44.307

这可能会有所帮助：

```
$('#panel').children().on('click', function(e){
    e.stopPropagation();
}); 
```

# c# - 如何在 FileUpload 中选择文件夹而不是文件？

> ID：15425671
> 
> 赞同：1
> 
> 时间：2013-03-15T05:50:53.093
> 
> 标签：c#, asp.net, file-upload

我尝试从用户选择的文件夹中获取所有文件名。我读了msdn，但什么也没找到。我需要从文件夹中获取文件名

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T05:51:56.650

您不能为单个文件上传控件选择文件夹或多个文件，但您可以使用多个文件上传控件来执行此操作。

您可以找到许多自定义控件来帮助您执行此操作，例如[多文件上传用户控件](http://www.codeproject.com/Articles/24271/Multiple-File-Upload-User-Control)。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T05:54:23.243

你不能。HTML 不支持您尝试执行的操作

如果要上传多个文件，则必须使用 3rd 方组件 - 通常用 Flash 编写`SWFUpload`或类似以下内容：[Multiple File Upload With Progress Bar Using Flash](http://www.codeproject.com/Articles/15742/Multiple-File-Upload-With-Progress-Bar-Using-Flash)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T05:55:45.960

尝试 SlickUpload。它是免费的，并且基于 HTML5。

将它与 ASP.NET 应用程序集成应该没有问题。

[http://slickupload.com/demos](http://slickupload.com/demos)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-15T06:14:50.170

文件上传控件仅支持单个文件上传。如果要上传多个文件，则必须使用 3rd 方组件 - 通常用 Flash 编写。

这里有一个例子： http: [//www.codeproject.com/KB/aspnet/FlashUpload.aspx](http://www.codeproject.com/KB/aspnet/FlashUpload.aspx)。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2015-12-29T11:05:35.537

在你的 .aspx

```
<asp:FileUpload ID="fileImages" AllowMultiple="true" runat="server" accept=".png,.jpg,.jpeg,.gif" />
<asp:Button runat="server" Text="Upload Files" id="uploadBtn"/>
<div><%
        Dim files As String() = Directory.GetFiles(Server.MapPath("/uploads/"))
        For Each str As String In files
            Response.Write(Path.GetFileName(str) & "<br>")
        Next
%></div> 
```

在你的 .vb

```
Imports System.IO

Protected Sub uploadBtn_Click(sender As Object, e As EventArgs) Handles uploadBtn.Click
    Dim ImageFiles As HttpFileCollection = Request.Files
    For i As Integer = 0 To ImageFiles.Count - 1
        Dim file As HttpPostedFile = ImageFiles(i)

        file.SaveAs(Server.MapPath("Uploads/") & file.FileName)
    Next
End Sub 
```

# c# - Windows 区域设置 ID (LCID) 是否与 USB 语言 ID 相同？

> ID：15425673
> 
> 赞同：6
> 
> 时间：2013-03-15T05:51:00.287
> 
> 标签：c#, winapi, usb, locale, lcid

我正在用 C# 开发一个工具，它允许用户为 USB 设备配置 USB 字符串描述符。字符串描述符之一是语言 ID。我希望 UI 显示语言名称列表而不是神秘的语言 ID。我找不到任何可以让我获得 USB {语言 ID - 语言名称} 映射的 API。

当我查看 Windows 语言环境 ID (LCID) 时，LCID 和 USB 语言 ID 似乎是相同的（从我比较的几个条目推断）。

所以，我的问题是

1.  LCID 和 USB 语言 ID 是否相同？
2.  如果 (1) 为“是”，使用它是否有任何陷阱？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T08:54:10.597

它们确实*密切相关*，但并不完全相同。

根据[Ankur 链接的文档](http://msdn.microsoft.com/en-us/library/windows/hardware/ff540156.aspx)：

> 该`LanguageID`参数指定语言 ID（使用与 Microsoft Win32 值相同的`LANGID`值）。

LANGID 值构成Win32 LCID 值的*一部分*。您可以通过研究[LCID 的文档来](http://msdn.microsoft.com/en-us/library/windows/desktop/dd373763.aspx)了解这一点：

> 每个语言环境都有一个唯一标识符，一个由语言标识符和排序顺序标识符组成的 32 位值。

所以这两个值不能完全互换。通过改变排序顺序标识符（LCID 值的另一部分），您可以得到多个 LCID 值，它们都代表相同的语言（即具有相同的 LANGID）。

将两者视为等效可能在大多数情况下都有效（这解释了您的目视检查结果），但它也可能会中断。我建议不要依赖假设并做一些额外的工作来确保您与文档一致并且您的代码是健壮的。

Win32 SDK 标头提供了一些宏来帮助您在 LCID 和 LANGID 之间进行相互转换。您可以在标题中查找这些并将它们转换为 C# 帮助函数。您在这里感兴趣的是：

*   该[宏](http://msdn.microsoft.com/en-us/library/windows/desktop/dd319052.aspx)接受一个语言标识符 (LANGID) 和一个排序顺序标识符，并将它们组合起来生成一个 LCID。由于您不关心排序顺序标识符，因此您可以使用它来指示该语言的默认排序顺序。**[`MAKELCID`](http://msdn.microsoft.com/en-us/library/windows/desktop/dd319052.aspx)**`SORT_DEFAULT`

*   [宏](http://msdn.microsoft.com/en-us/library/windows/desktop/dd318689.aspx)，它从 LCID 值中提取语言标识符 (LANGID)。**[`LANGIDFROMLCID`](http://msdn.microsoft.com/en-us/library/windows/desktop/dd318689.aspx)**

使用这些辅助函数之一将确保您在调用接受 LCID 参数的 NLS API 之一时获得有效结果。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T06:04:10.503

我认为他们是一样的。看看这个链接。

[http://msdn.microsoft.com/en-us/library/windows/hardware/ff540156(v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/windows/hardware/ff540156(v=vs.85).aspx)

# java - Android JSON接收问题

> ID：15425674
> 
> 赞同：1
> 
> 时间：2013-03-15T05:51:23.293
> 
> 标签：java, android

我有一个字符串问题，我使用下面的代码从 URL 接收 JSON 数据，代码工作正常，但问题是我没有得到完整的数据，只有一半的 JSON 值来了，我想知道是否这是有原因的，如果是这样意味着如何解决这个问题。JSON字符串很大

```
 DefaultHttpClient http_client = new DefaultHttpClient();
            HttpGet httpGet = new HttpGet(urls[0]);
            HttpResponse response = http_client.execute(httpGet);

            StatusLine statusLine = response.getStatusLine();
            int statusCode = statusLine.getStatusCode();
            HttpEntity entity = response.getEntity();

            InputStream in = entity.getContent();
            StringBuffer out = new StringBuffer();
            byte[] b = new byte[4096];
            int n =  in.read(b);
            while(n>0){
                out.append(new String(b, 0, n));
                n = in.read(b);
            }

            String resultdata = out.toString();
            Log.d("Out data",resultdata); 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T05:54:06.293

尝试使用 BufferedReader 获取这样的数据

```
 String line="";
   BufferedReader rd = new BufferedReader(new InputStreamReader(in));
                // Read response 
     while ((line = rd.readLine()) != null) { 
               total.append(line); 
            }
   String jsonString=total.toString(); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:00:12.970

```
InputStream is = entity.getContent();
BufferedReader out = new BufferedReader(new InputStreamReader(is, "iso-8859-1"), 8);
StringBuilder sb = new StringBuilder();
String line = null;
while ((line = out.readLine()) != null) {sb.append(line + "\n");
            }
is.close();
String json = sb.toString(); 
```

尝试这个

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T06:02:28.073

你必须删除这条线

```
int n =  in.read(b); 
```

并添加

```
 int n=0;

    while ((n= in.read(b)) != null) 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-15T06:05:23.360

请试试这个，

```
 public static JSONObject getJson(String url){

    InputStream is = null;
    String result = "";
    JSONObject jsonObject = null;

    // HTTP
    try {           
        HttpClient httpclient = new DefaultHttpClient(); // for port 80 requests!
        HttpPost httppost = new HttpPost(url);
        HttpResponse response = httpclient.execute(httppost);
        HttpEntity entity = response.getEntity();
        is = entity.getContent();
    } catch(Exception e) {
        return null;
    }

    // Read response to string
    try {           
        BufferedReader reader = new BufferedReader(new InputStreamReader(is,"utf-8"),8);
        StringBuilder sb = new StringBuilder();
        String line = null;
        while ((line = reader.readLine()) != null) {
            sb.append(line + "\n");
        }
        is.close();
        result = sb.toString();             
    } catch(Exception e) {
        return null;
    }

    // Convert string to object
    try {
        jsonObject = new JSONObject(result);            
    } catch(JSONException e) {
        return null;
    }

    return jsonObject;

}} 
```

# weblogic - WebLogic JAX-WS EE 客户端到本地主机上的 WS-Security 服务

> ID：15425682
> 
> 赞同：1
> 
> 时间：2013-03-15T05:51:46.833
> 
> 标签：weblogic, jax-ws, ws-security, weblogic12c

我有一个使用 WS-Security 的 JAX-WS 端点，特别是 WebLogic 预先编写的 Wssp1.2-2007-Wss1.1-UsernameToken-Plain-X509-Basic256.xml 策略。我有一个可用的命令行客户端，我在其中构建所有客户端凭据提供程序和信任管理器。一切都很好。

现在我还需要将另一个 EE 模块单独部署到同一台服务器上。根据[http://docs.oracle.com/cd/E12839_01/web.1111/e13713/message.htm#i251852](http://docs.oracle.com/cd/E12839_01/web.1111/e13713/message.htm#i251852)我应该对 EE 客户端进行编码，就好像根本没有与安全相关的 WS-Policy 但是它不起作用。要么我在设置凭证映射方面完全失败（这不会让我感到惊讶，因为缺少文档）或者我认为似乎更有可能的是，凭证映射实际上并没有发生，因为我正在与 localhost .

如何创建一个在 localhost 上使用启用了 WS-Security 的服务的 JAX-WS EE 客户端？（我也想看一个远程主机示例）

# c# - 单个网格的多个查询

> ID：15425691
> 
> 赞同：0
> 
> 时间：2013-03-15T05:52:25.107
> 
> 标签：c#, .net, sql-server, database, sql-server-2005

我有一张如下表>

```
Party_Code | Buy_Sell | Trade_Qty | Market_Rate

 036L09         1         350           20

 036L09         2         300           30 
```

我试图在该数据中显示一个网格，如下所示>

```
BuyQty | BuyRate | BuyAmt|SellQty | SellRate | SellAmt  

 350       20       7000    300        30        9000 
```

为此我做了两个查询>>

```
select sum(Trade_qty) as BuyQty, sum(Market_Rate) as BuyAmt from tradeFile where Buy_Sell='1' and Party_Code='036L09'

select sum(Trade_qty) as SellQty, sum(Market_Rate) as SellAmt from tradeFile where Buy_Sell='2' and Party_Code='036L09' 
```

我希望这些查询适用于单个网格。为此，我将代码编写为>>

```
 try
            {
                da = new SqlDataAdapter("select sum(Trade_qty) as BuyQty, sum(Market_Rate) as BuyAmt from tradeFile where Buy_Sell='1' and Party_Code='0L036'", con);
                DataSet ds = new DataSet();
                da.Fill(ds);

                SqlDataAdapter sellDA = new SqlDataAdapter("select sum(Trade_qty) as SellQty, sum(Market_Rate) as SellAmt from tradeFile where Buy_Sell='2' and Party_Code='0L036'", con);
                DataSet dsSell = new DataSet();
                sellDA.Fill(dsSell);

                gv.DataSource = ds.Tables[0];
                gv.DataSource = dsSell.Tables[0];
            }
            catch (Exception ex)
            {
                MessageBox.Show(ex.Message);
            } 
```

但它只从最后一个数据源获取数据。

我该怎么做？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:21:48.913

此查询返回一个特定的结果`Party_Code`

```
select sum (case when Buy_sell=1 then Trade_Qty else 0 end) as BuyQty,
       sum (case when Buy_sell=1 then Market_Rate else 0 end) as BuyRate,
       sum (case when Buy_sell=1 then Trade_Qty*Market_Rate else 0 end) as BuyAmount,

       sum (case when Buy_sell=2 then Trade_Qty else 0 end) as SellQty,
       sum (case when Buy_sell=2 then Market_Rate else 0 end) as SellRate,
       sum (case when Buy_sell=2 then Trade_Qty*Market_Rate else 0 end) as SellAmount
from tradeFile
where Party_Code='0L036' 
```

这个返回所有 Party_Codes 的结果

```
select Party_Code,
       sum (case when Buy_sell=1 then Trade_Qty else 0 end) as BuyQty,
       sum (case when Buy_sell=1 then Market_Rate else 0 end) as BuyRate,
       sum (case when Buy_sell=1 then Trade_Qty*Market_Rate else 0 end) as BuyAmount,

       sum (case when Buy_sell=2 then Trade_Qty else 0 end) as SellQty,
       sum (case when Buy_sell=2 then Market_Rate else 0 end) as SellRate,
       sum (case when Buy_sell=2 then Trade_Qty*Market_Rate else 0 end) as SellAmount
from tradeFile
group by Party_Code 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:05:50.393

试试这个查询，它将在单个查询中返回您需要的结果

```
SELECT  
        a.Trade_Qty AS BuyQuant, 
        a.Market_Rate AS BuyRate,
        a.Trade_Qty * a.Market_Rate AS BuyAmt,
        b.Trade_Qty AS SellQuant, 
        b.Market_Rate AS SellRate,
        b.Trade_Qty * b.Market_Rate AS SellAmt
FROM 
        tradeFile a, tradeFile b
WHERE 
        a.Party_Code = b.Party_Code AND
        a.Party_Code = '036L09' AND
        a.Buy_Sell = 1 AND
        b.Buy_Sell = 2; 
```

对于由 1 个party_code 进行多次买卖的条件，请尝试此查询

```
SELECT  
        a.Trade_Qty AS BuyQuant, 
        a.Amt,
        b.Trade_Qty AS SellQuant, 
        b.Amt
FROM 
        (SELECT
               Party_Code 
               sum(Trade_Qty) As 'Trade_Qty',
               sum(Trade_Qty * Market_Rate) As 'Amt'
         FROM tradeFile 
         WHERE Party_Code = '036L09' AND
               Buy_Sell = 1
         GROUP BY Party_Code
        ) a, 
        (SELECT
               Party_Code 
               sum(Trade_Qty) As 'Trade_Qty',
               sum(Trade_Qty * Market_Rate) As 'Amt'
         FROM tradeFile 
         WHERE Party_Code = '036L09' AND
               Buy_Sell = 2
         GROUP BY Party_Code
        )  b
WHERE 
        a.Party_Code = b.Party_Code; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T06:59:17.137

使用如下所示的 Group By 查询，这将为您提供单个数据集的结果。

```
select sum(Trade_qty) as Qty, sum(Market_Rate) as Amt, (case when Buy_Sell = 1 then 'Buy' Else 'Sale' end)  as TransactionType from tradeFile where  Party_Code='036L09'
group by Buy_Sell 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-15T07:00:10.850

让我们试试这个查询:)

```
Select sum(t1.Trade_qty) as BuyQty, sum(t1.Market_Rate) as BuyAmt,
sum(t2.Trade_qty) as SellQty, sum(t2.Market_Rate) as SellAmt FROM tradeFile
INNER join tradeFile t2
ON t1.Party_Code=t2.Party_Code and t1.Buy_Sell='1' and t1.Party_Code='036L09' 
and t2.Buy_Sell='2' 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-15T07:37:36.223

首先，您的查询完全错误，就像您所说的那样。

```
select sum(Trade_qty) as BuyQty, sum(Market_Rate) as BuyAmt from tradeFile where Buy_Sell='1' and Party_Code='036L09'

select sum(Trade_qty) as SellQty, sum(Market_Rate) as SellAmt from tradeFile where Buy_Sell='2' and Party_Code='036L09' 
```

试试这个查询

```
SELECT sum(a.Trade_qty) as BuyQty, a.Market_rate as BuyRate, a.Market_rate * sum(a.Trade_qty) as BuyAmt,
       sum(b.Trade_qty) as SellQty, b.Market_rate as SellRate,  b.Market_rate * sum(b.Trade_qty) as SellAmt
FROM tradeFile a
INNER JOIN  tradeFile b on b.id= a.id
GROUP BY a.Market_rate,b.Market_rate
WHERE (a.Buy_Sell ='1' and a.Party_Code='036L09') or (b.Buy_Sell='2'' and.Party_Code='036L09') 
```

但这仍然是通用的，你需要制作两张桌子，一张卖一张桌子，一张买一张桌子，这样就可以加入那两张桌子。

关于您的数据源，这是错误的，您忽略了

```
gv.DataSource = ds.Tables[0]; 
```

进入

```
gv.DataSource = dsSell.Tables[0]; 
```

这就是显示最后一个查询的原因。

# c# - 如何将数据传递给局部视图？

> ID：15425694
> 
> 赞同：1
> 
> 时间：2013-03-15T05:52:48.463
> 
> 标签：c#, asp.net-mvc

我将 ASP.NET MVC 与实体框架一起使用。我有两个查询在同一个视图中显示不同的表。

一个是

```
 var query = from s in db.tblSites
                        where s.SiteStatus== 1
                        select s; 
```

另一个是

```
var query2 = from s in db.tblSites
                            where s.SiteStatus== 0
                            select s; 
```

所以我要使用`@Html.RenderPartial`

但我不知道如何传递数据。

我想将`query2`数据传递给我的局部视图。

```
 @Html.Partial("RemoveContract",--------) //I don't know how to pass data. 
```

这是我的控制器

```
 public ActionResult AddContract(int id)
        {
            var query = from s in db.tblSites
                            where s.SiteStatus== 1
                            select s;

    var query2 = from s in db.tblSites
                                where s.SiteStatus== 0
                                select s;

            return View(query .ToList());

        } 
```

怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T05:54:48.427

您可以像这样添加`query2`到`ViewBag`控制器中：

```
public ActionResult AddContract(int id)
{
    ...
    this.ViewBag.Query2 = query2;
    return View(query .ToList());
} 
```

然后只需使用方法的重载将您希望局部视图呈现为参数的视图模型传递[`Partial`](http://msdn.microsoft.com/en-us/library/ee402902%28v=vs.108%29.aspx)。

```
@Html.Partial("RemoveContract", ViewBag.Query2) 
```

*注意*：根据您的设置，您可能需要在`this.ViewBag.Query2 = query2.ToList()`将查询传递给视图之前使用它来实现查询。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:04:07.470

只需传递`Model`到`@Html.Partial`

```
@Html.Partial("RemoveContract",Model) 
```

如果您要将 query2 传递给您的部分，那么您需要这样做：

```
public ActionResult AddContract(int id)
        {
            var query = from s in db.tblSites
                            where s.SiteStatus== 1
                            select s;

    var query2 = from s in db.tblSites
                                where s.SiteStatus== 0
                                select s;

//return View(query .ToList());
return View(query2 .ToList());

        } 
```

# excel - 将窗口句柄传递给变量

> ID：15425700
> 
> 赞同：0
> 
> 时间：2013-03-15T05:53:24.587
> 
> 标签：excel, vba

```
Sub Macro1()
'
' Macro1 Macro
'

'
    Dim wn, contacts, report As Excel.Window
    Dim windows(1 To 100) As Excel.Window
    Dim i As Integer

    i = 1
    For Each wn In Application.windows
        windows(i) = wn
        i = i + 1
    Next wn

    If IsEmailValid(windows(1).Cells(1, 1)) = True Then
        report = windows(1)
        contacts = windows(2)
    Else
        contacts = windows(1)
        report = windows(2)
    End If

End Sub 
```

你在这里看到什么错误？根据我对VBA的了解，我正在尽力而为。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:17:32.220

*   您没有正确声明变量（`wn`并且`contacts`使用 be `variant`s）。
    利用`Dim wn As Excel.Window, contacts As Excel.Window, report As Excel.Window`
*   你需要用来`Set`分配一个`object`
    `Set windows(i) = wn`
*   该`window`对象没有`Cells`属性
    目前尚不清楚您实际想要实现什么，但作为猜测，您可能想要`Worksheets`（的 a `workbook`）或可能`Application.Workbooks`而不是`Application.Windows`

# mondrian - 即席 saiku 查询

> ID：15425701
> 
> 赞同：0
> 
> 时间：2013-03-15T05:53:28.867
> 
> 标签：mondrian, saiku

由于没有运气在网上找到，我一定会在这里问这个。Saiku是如何向蒙德里安提问的？如果有人可以指出查询生成的确切路径以显示结果，那将是完美的。

提前致谢 =)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-05T09:35:36.897

直到我知道 saiku 不会直接进行任何查询，你必须在模式工作台中创建你的 mdx 查询，在模式工作台中创建多维数据集后，你必须在双服务器中发布这些多维数据集。（模式工作台是 mondrian 的修改版本，你可以阅读更多关于相同的）

所以你可以在双服务器中可视化它..

如果您只想将该结果显示到 saiku 中，则将 saiku 插件添加到 bi 服务器中，以便您也可以在 saiku 中分析您的输出。

# iphone - 如何在 MWPhotoBrowser 中添加新视图？

> ID：15425710
> 
> 赞同：3
> 
> 时间：2013-03-15T05:53:48.230
> 
> 标签：iphone, uiview, uidatepicker, mwphotobrowser

我正在使用`MWPhotoBrowser`To `display image and its Caption Text(Image name,Image date, Image Description)`。当我单击要在该视图中显示一个视图的编辑按钮时，我在导航栏中添加了编辑按钮，我将更改图像详细信息。

我想添加视图以更改视图中的标题文本`MWPhotoBrowser`。`I showed Image Detail(Name,Date,Description)`在 中查看拍摄时的图像`Gallery /Camera`。但是可以添加视图`MWPhotoBrowser`吗？

如果可能的话请任何人帮助我如何创建一个新视图

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T09:33:55.070

[这](http://dl.dropbox.com/u/58723521/MWPhotoBrowser-With-caption-editor.zip)`MWPhotoBrowser`是带有编辑标题选项的应用程序的示例代码。

这适合您的要求，将为您工作。

谢谢。

# javascript - 花式框内联显示无法加载请求的内容。请稍后再试

> ID：15425727
> 
> 赞同：2
> 
> 时间：2013-03-15T05:54:51.637
> 
> 标签：javascript, fancybox

我正在尝试使用 fancybox 显示内联。但目前它弹出但显示错误“无法加载请求的内容。请稍后再试。” . 下面是代码。

```
<script type="text/javascript">
jQuery(document).ready(function() {

$(".various").click(function() {
    parent.$.fancybox({
        'padding'       : 0,
        'autoScale'     : false,
        'transitionIn'  : 'none',
        'transitionOut' : 'none',
        'width'         : 640,
        'height'        : 385,
        'type'          : 'inline'
    });

    return false;
});

});
</script> 
```

我在哪里使用fancybox

```
<a class="various" href="#inline3">Inline</a>
    <div id="inline3" style="display:none;" ><img src="https://xxxxx" /></div> 
```

**找到解决方案！**

问题是，我需要将类型从内联更改为 iframe。并在javascript中插入一个'href'字符串并从链接中删除href。对于放入“this.href”的href值......现在它可以工作了。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:48:47.870

这很简单，

如果图像没有加载，它会发生，

请检查 img 标签中的图片来源，然后继续。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-03T10:00:15.427

```
$('.fancybox').fancybox({
            autoSize : true,
            autoResize : true,
            autoDimensions : false,
            padding: 25,
            width : 630,
            openEffect : 'elastic',
            closeEffect : 'elastic',
                        type : 'iframe',
                        href :'Pass your url'
}); 
```

就我而言，我没有使用 this.href，而是传递了 url，它的工作形式是我。

# google-apps-script - 自动递增作业参考

> ID：15425728
> 
> 赞同：1
> 
> 时间：2013-03-14T17:02:53.690
> 
> 标签：google-apps-script, google-sheets, google-forms

我是编写代码的新手，理解有限，所以请温柔！我一直在尝试扩展在[这个问题](https://webapps.stackexchange.com/questions/15449/can-i-add-an-autoincrement-field-to-a-google-spreadsheet-based-on-a-google-form)上所做的代码。

我取得的成功有限，现在陷入困境，我希望有人能善意地指出我正确的方向或告诉我我做错了什么。

所以，场景：需要有一个自动递增的“工作参考”来预订我工作的 IT 部门的上网本维修。此预订是通过 Google 表单进行的，我可以让链接中的代码完美运行，但是！我希望不仅仅是一个简单的计数 - 1,2,3,4,5 等等。理想情况下，作业参考将显示为 JR0001、JR0002 等。

所以，我的代码尝试！

用户：自己提交的代码完美运行。

```
function onFormSubmit(e) {
  // Get the active sheet
  var sheet = SpreadsheetApp.getActiveSheet();
  // Get the active row
  var row = sheet.getActiveCell().getRowIndex();
  // Get the next ID value.  NOTE: This cell should be set to: =MAX(A:A)+1
  var id = sheet.getRange("P1").getValue();
  // Check of ID column is empty
  if (sheet.getRange(row, 1).getValue() == "") {
    // Set new ID value
    sheet.getRange(row, 1).setValue(id);
  }
} 
```

我尝试的第一件事是简单地添加另一个变量并将其添加到 .setValue

```
function onFormSubmit(e) {
   // Get the active sheet
  var sheet = SpreadsheetApp.getActiveSheet();
  // Get the active row
  var row = sheet.getActiveCell().getRowIndex();
  // Get the next ID value.  NOTE: This cell should be set to: =MAX(A:A)+1
  var id = sheet.getRange("X1").getValue();
  // Set Job Reference
  var jobref = "JR";
  // Check of ID column is empty
  if (sheet.getRange(row, 1).getValue() == "") {
  // Set new ID value
    sheet.getRange(row, 1).setValue(jobref+id);
  }
} 
```

就获得“JR1”而不是1而言，这有效，但自动增量停止工作，因此对于提交的每个表单我仍然有“JR1” - 不是真正的自动增量！

然后我尝试从工作表中设置另一个 .getValue 作为 Job Ref

```
function onFormSubmit(e) {
   // Get the active sheet
  var sheet = SpreadsheetApp.getActiveSheet();
  // Get the active row
  var row = sheet.getActiveCell().getRowIndex();
  // Get the next ID value.  NOTE: This cell should be set to: =MAX(A:A)+1
  var id = sheet.getRange("X1").getValue();
  // Set Job Reference
  var jobref = sheet.getRange("X2").getValue();
  // Check of ID column is empty
  if (sheet.getRange(row, 1).getValue() == "") {
  // Set new ID value
    sheet.getRange(row, 1).setValue(jobref+id);
  }
} 
```

相同的结果 - 非递增的“JR1”

然后我尝试将工作递增数字与我的工作参考单元格连接起来，然后在脚本中调用它。

```
function onFormSubmit(e) {
  // Get the active sheet
  var sheet = SpreadsheetApp.getActiveSheet();
  // Set Job Reference
  var jobref = sheet.getRange("X2").getValue();
  // Get the active row
  var row = sheet.getActiveCell().getRowIndex();
  // Get the next ID value.  NOTE: This cell should be set to: =MAX(A:A)+1
  var id = sheet.getRange("X1").getValue();
  // Check of ID column is empty
  if (sheet.getRange(row, 1).getValue() == "") {
  // Set new ID value
    sheet.getRange(row, 1).setValue(jobref);
  }
} 
```

相同的结果值不会增加

如果我添加其他变量并且不明白如何将前导零添加到递增的数字，我不明白为什么数字会停止递增。我觉得我试图把事情复杂化！

所以总而言之，有没有一种方法可以获得一个 6 个字符长的自动递增 ref - 在这种情况下，首先形成 JR0001，然后提交 JR0002，依此类推。

如果可能的话，我真的很想知道我哪里出错了，我确实想学习，但我显然错过了一些关键原则。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T09:25:15.763

`Utilities.formatString()`这是一个使用GAS 团队几天前刚刚添加的“全新”的工作解决方案；-)

```
function OnForm(){
var sh = SpreadsheetApp.getActiveSheet()
var startcell = sh.getRange('A1').getValue();
if(! startcell){sh.getRange('A1').setValue(1);return}; // this is only to handle initial situation when A1 is empty.
var colValues = sh.getRange('A1:A').getValues();// get all the values in column A in an array
var max=0;// define the max variable to a minimal value
  for(var r in colValues){ // iterate the array
    var vv=colValues[r][0].toString().replace(/[^0-9]/g,'');// remove the letters from the string to convert to number
    if(Number(vv)>max){max=vv};// get the highest numeric value in th column, no matter what happens in the column... this runs at array level so it is very fast
    }
    max++ ; // increment to be 1 above max value
sh.getRange(sh.getLastRow()+1, 1).setValue(Utilities.formatString('JR%06d',max));// and write it back to sheet's last row.
} 
```

# python - 从具有属性的特定嵌套节点中提取文本

> ID：15425733
> 
> 赞同：0
> 
> 时间：2013-03-15T05:55:30.367
> 
> 标签：python, xpath

我正在尝试编写 XPath 来选择`<h3>, <ul> and <p>`标签下`div[@class="content"]`但`p[position() > 1 and position() < last() - 1]`

到目前为止，我有这个......

```
//div[@class="content"]/*[self::h3 or self::ul or self::p[position() > 1 and position() < last() - 1]]//text() 
```

但它不起作用。

这是 HTML：[https ://gist.github.com/umrashrf/5167711](https://gist.github.com/umrashrf/5167711)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T17:33:35.823

好的，您的 XML 格式不正确，所以我先解决了这个问题。

```
<?xml version="1.0" encoding="UTF-8"?>
<div class="content">
<h1/>
<h2>
    <p>Certified Nursing Assistant - Full Time</p>
Job Summary</h2>
<p>Responsible for providing personal care and assistance for residents in long    
term care facility.</p>
<h2>
</h2>
<h3>Essential Functions:</h3>
<ul>
    <li>
        <span style="line-height: 1.5;">Responsible</span> for providing   
personal care and assistance to residents </li>
    <li>Assist residents in and out of bed, dressing, feeding, grooming and 
personal hygiene. </li>
    <li>Provide basic treatments as required and directed by nursing staff.  
</li>
    <li>Responsible for observing and reporting changes in residents' physical 
and emotional conditions to charge nurse. </li>
</ul>
<h3>Qualifications: </h3>
<p>Education:</p>
<ul>
    <li>High school diploma or equivalent </li>
    <li>Successful completion of state approved certified nursing assistance 
course </li>
</ul>
<p>Experience:</p>
<ul>
    <li>Previous health care related experience preferred </li>
</ul>
<a id="ctl00_ctl01_namelink" class="btn" href="employment-application.aspx?
positionid=34">Apply Online</a>
<br/>
<br/>
<h2>
Apply in Person</h2>
<p>
To apply in persion please stop by Shenandoah Medical Center to pick up a job 
application.</p>
<h2>
Apply by Mail</h2>
<p>
To apply by mail, download and print <a target="_blank" href="/filesimages/Careers/SMC 
Employment Application.pdf">
    this form</a>. Please fill out the application and then mail to:<br/>
    <br/>
    <strong>Shenandoah Medical Center, Human Resources<br/>
    </strong>300 Pershing Avenue<br/>
Shenandoah, IA 51601</p>
</div> 
```

现在，如果我正确理解您的问题，您正在寻找所有 h3、ul 和 p 标签，它们是 div[@class="content"] 的子节点，并且每个选定的子节点必须满足条件 [position() > 1和位置（）<最后（） - 1]。为此，我认为这个单一的 XPATH 可以：

```
//div[@class="content"]/h3[position() > 1 and position() < last() - 1]  |        
//div[@class="content"]/p[position() > 1 and position() < last() - 1]  |  
//div[@class="content"]/ul[position() > 1 and position() < last() - 1] 
```

# android - Android：以编程方式创建和发送 XML SOAP 请求

> ID：15425736
> 
> 赞同：2
> 
> 时间：2013-03-15T05:55:43.760
> 
> 标签：android, xml, soap, wsdl

嗨，提前感谢。我找到了这个教程，我正在尝试模仿它： http: [//lalit3686.blogspot.com/2012/06/calling-soap-webservice-using-httppost.html](http://lalit3686.blogspot.com/2012/06/calling-soap-webservice-using-httppost.html)。在我的 iOS 应用程序中，我能够创建带有 xml 属性的字符串，将其作为 SOAP 请求发送，并以字符串形式获得 xml 响应。我正在尝试对我的 android 应用程序做同样的事情。

不幸的是，有些东西不起作用。我附上了相关代码。

```
 StringBuilder stringBuilder = new StringBuilder ();
    stringBuilder.append(String.format("<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"\n" +
            "xmlns:csr=\"http://www.mywebsite.net/\">\n" +
            "<soapenv:Header/>\n" +
            "<soapenv:Body>\n" +
            "<csr:www.mywebsite.net><![CDATA[\n" +
            "<www.mywebsite.net>\n" +
            "<Request>\n" +
            "<user>%s</user>\n" +
            "<password>%s</password>\n" +
            "<Function>requestdata</Function>\n" +
            "<FromDate>2013-01-01</FromDate>\n" +
            "<ToDate>2014-01-01</ToDate>\n" +
            "</Request>\n" +
            "</www.mywebsite.net>\n" +
            "]]></csr:www.mywebsite.net>\n" +
            "</soapenv:Body>\n" +
            "</soapenv:Envelope>\n", username, password));

    String xml = stringBuilder.toString();
    HttpPost httpPost = new HttpPost("http://www.mywebsite.net/");
    StringEntity entity;
    String response_string = null;

    try {

        entity = new StringEntity(xml, HTTP.UTF_8);
        httpPost.setHeader("Content-Type","text/xml;charset=UTF-8");
        httpPost.setEntity(entity);
        HttpClient client = new DefaultHttpClient();
        HttpResponse response = client.execute(httpPost);
        response_string = EntityUtils.toString(response.getEntity());
        Log.d("request", response_string);
        prefs.edit().putString("response", response_string).commit();

    } 

    catch (Exception e) {
        e.printStackTrace();
    } 
```

编辑：问题已修复。我收到了错误：

```
android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1099). 
```

上面的代码有效 - 只需确保将此代码包含在您的 onCreate() 方法中。

```
 if (android.os.Build.VERSION.SDK_INT > 9) {
  StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();
  StrictMode.setThreadPolicy(policy);
 } 
```

这允许您将主线程用于 SOAP 请求/响应。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T07:21:43.123

我收到了错误：

android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1099)。

我用谷歌搜索了这个错误并找到了这个链接：[DefaultHttpClient to AndroidHttpClient](https://stackoverflow.com/questions/8706464/defaulthttpclient-to-androidhttpclient) - 这建议我在我的 onCreate 方法中包含以下代码。

```
if (android.os.Build.VERSION.SDK_INT > 9) {
  StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();
  StrictMode.setThreadPolicy(policy);
} 
```

现在它的工作。事实上，Android 不再让网络操作在主线程上进行。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-11-15T21:56:55.043

这是因为您在违反严格模式的 UI 线程上运行网络操作。使用 AsyncTask 进行后台操作。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T06:05:41.063

[http://www.youtube.com/watch?v=v9EowBVgwSo](http://www.youtube.com/watch?v=v9EowBVgwSo)。该视频有一个关于如何在android中发送soap webservice请求的教程。

[http://www.helloandroid.com/tutorials/using-ksoap2-android-and-parsing-output-data](http://www.helloandroid.com/tutorials/using-ksoap2-android-and-parsing-output-data)。这里的链接有一个解释的例子。浏览链接并相应地修改您的代码。

以 xml 形式发送请求。我有类似的要求，我使用以下格式以 xml 形式发送肥皂请求。根据您的需要修改以下内容。一世

```
PropertyInfo loginreq = new PropertyInfo();
loginreq.name="LoginReq";
loginreq.type=String.class;
loginreq.setValue("<LoginReq>" 
     +"<nickName>"+name+"</nickName>" 
     +"<password>"+pass+"</password>" 
     +"<IMEI>"+mImei+"</IMEI>" 
     +"<location>" 
     +"<latitude>"+lati+"</latitude>"
         +"<longitude>"+longi+"</longitude>"
     +"</location>" 
     +"</LoginReq>");
request.addProperty(loginreq); 
```

[Android，通过 HTTP POST (SOAP) 发送 XML](https://stackoverflow.com/questions/2559948/android-sending-xml-via-http-post-soap)。查看链接中接受的答案。

编辑

[http://www.ibm.com/developerworks/opensource/library/x-android/](http://www.ibm.com/developerworks/opensource/library/x-android/)。查看标题创建 XML。

# mysql - 左外连接和左连接一样吗？

> ID：15425740
> 
> 赞同：62
> 
> 时间：2013-03-15T05:56:14.583
> 
> 标签：mysql, sql

我见过称为 LEFT OUTER JOIN 或 RIGHT OUTER JOIN 的连接。在某些地方我见过 LEFT JOIN 或 RIGHT JOIN。我对此感到困惑。

两天前我发布了一个[问题，但我无法理解解决方案提供的链接。](https://stackoverflow.com/questions/15377552/how-many-types-of-joins-are-there-in-mysql-or-sql)

这些类型的连接是相同的，还是两者之间有一些区别？

* * *

## 回答 #1

> 赞同：83
> 
> 时间：2013-03-15T06:00:02.803

两者之间没有区别。参考[连接的视觉表示](http://www.codeproject.com/Articles/33052/Visual-Representation-of-SQL-Joins)

* * *

## 回答 #2

> 赞同：33
> 
> 时间：2013-03-15T06:03:45.407

他们引用的第一个链接为您提供：

`INNER JOIN`: 当两个表都匹配时返回行。

`LEFT JOIN / LEFT OUTER JOIN`：返回左表中的所有行，即使右表中没有匹配项。

`RIGHT JOIN / RIGHT OUTER JOIN`：返回右表中的所有行，即使左表中没有匹配项。

`FULL JOIN / FULL OUTER JOIN / OUTER JOIN`：当其中一个表中存在匹配时返回行。

`SELF JOIN`: 用于将一张表与自身连接，就好像这张表是两张表一样，在SQL语句中临时重命名至少一张表。

`CARTESIAN JOIN`：返回两个或多个连接表中记录集的笛卡尔积。

`self join`实际上不是`special join`一个. 它只是反映了您可以加入一个表本身的事实。这样做你必须给它起别名，以解决它在同一个语句中出现多次的事实。

`cartesian join`可以认为是`inner join`没有限制条件的。或者您可以将 an`inner join`视为`cartesian join`具有附加限制（连接条件）的 a。

* * *

## 回答 #3

> 赞同：4
> 
> 时间：2013-03-15T06:09:24.537

如果您查看[JOIN](http://dev.mysql.com/doc/refman/5.0/en/join.html)的手册页，您将看到以下几行：

```
join_table:

   table_reference [INNER | CROSS] JOIN table_factor [join_condition]

   | table_reference STRAIGHT_JOIN table_factor

   | table_reference STRAIGHT_JOIN table_factor ON conditional_expr 
```

| **table_reference {LEFT|RIGHT} [OUTER] JOIN table_reference join_condition**

```
 | table_reference NATURAL [{LEFT|RIGHT} [OUTER]] JOIN table_factor 
```

粗线清楚地表明关键字 OUTER 是可选的。

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2013-03-15T06:00:47.817

在 MySQL 语法中，`LEFT OUTER JOIN`并且`LEFT JOIN`是相同的：（来自[http://dev.mysql.com/doc/refman/5.0/en/join.html](http://dev.mysql.com/doc/refman/5.0/en/join.html)）

```
| table_reference {LEFT|RIGHT} [OUTER] JOIN table_reference join_condition
| table_reference NATURAL [{LEFT|RIGHT} [OUTER]] JOIN table_factor 
```

请注意，该`OUTER`关键字对于 LEFT/RIGHT JOIN 是可选的。

LEFT 和 RIGHT 连接都是外连接。我相信有些 SQL 风格可能需要`OUTER`关键字，但 MySQL 不需要。也就是说，有时`LEFT JOIN`可能无效。

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-15T07:13:31.103

`LEFT JOIN`我在 SQL Server 中工作，根据我的使用和经验，和之间绝对没有区别`LEFT OUTER JOIN`。`RIGHT JOIN`和也是如此`RIGHT OUTER JOIN`。`LEFT JOIN`在 SQL Server 中使用关键字时，`LEFT OUTER JOIN`仅表示。因此，根据我的观点，它是所有数据库引擎都相同的通用规则。

[看这里](http://blog.sqlauthority.com/2011/01/22/sql-server-differences-between-left-join-and-left-outer-join/)和[这里](http://blog.sqlauthority.com/2009/04/13/sql-server-introduction-to-joins-basic-of-joins/#comment-112416)

# android - WebView 平滑滚动问题

> ID：15425741
> 
> 赞同：1
> 
> 时间：2013-03-15T05:56:15.297
> 
> 标签：android, webview, smooth-scrolling

在我的一个 android 应用程序中，我使用 WebView 来呈现 html 内容。每当我们水平/垂直滚动 Webview 时，webview 内容中都会出现抖动（抖动）。我在 android 浏览器应用程序中打开了很多网站。但是浏览器也有同样的问题。但是当我们打开“Play Books”应用程序时，滚动并没有抖动。这个应用程序滚动流畅。我假设“Play Books”也使用 android WebView。如何在 android webview 中实现与“Play Books”水平滚动相同的平滑滚动。我正在使用安卓 4.0+。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T23:51:38.930

实际上，游戏书界面是由谷歌制作的，那里有最好的程序员:(

看看这个它可能会帮助你[在 Android 中平滑滚动](https://stackoverflow.com/questions/4951142/smooth-scrolling-in-android)！

# solr - solr 组计数给出错误计数

> ID：15425744
> 
> 赞同：1
> 
> 时间：2013-03-15T05:56:25.203
> 
> 标签：solr

我正在使用 solr4，我在分组时遇到了一些问题。这是我用于分组的查询

```
http://****/solr.war/collection1/select?q=name%3Awhat%26a%26girl%26wants&fl=name%2Cprice%2Cupc&wt=xml&indent=true&group=true&group.ngroups=true&group.facet=true&group.field=upc&group.sort=price+asc 
```

这是那个的o/p

```
<lst>
    <str name="groupValue">085391170112</str>
    <result name="doclist" numFound="1" start="0">
      <doc>
        <str name="name">What a Girl Wants/Chasing Liberty - DVD</str>
        <str name="upc">085391170112</str>
        <float name="price">9.99</float></doc>
    </result>
  </lst>
  <lst> 
```

'numFound' 在这里是 1 但是当我复制那个 'upc' 并使用以下查询搜索它时

```
http://*****/solr.war/collection1/select?q=upc%3A085391170112&fl=name%2Cupc&wt=xml&indent=true 
```

.

```
<result name="response" numFound="2" start="0">
  <doc>
    <str name="name">What a Girl Wants/Chasing Liberty - DVD</str>
    <str name="upc">085391170112</str></doc>
  <doc>
    <str name="upc">085391170112</str>
    <str name="name">Sergio Vitier - Visiones Temas Para Cine</str></doc>
</result> 
```

' `numFound`' 在 upc 搜索中为 2。

**我的架构是**

```
<field name="upc" type="string" indexed="true" stored="true" multiValued="false"/> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:39:19.537

对于第一个查询，

```
http://****/solr.war/collection1/select?q=name%3Awhat%26a%26girl%26wants&fl=name%2Cprice%2Cupc&wt=xml&indent=true&group=true&group.ngroups=true&group.facet=true&group.field=upc&group.sort=price+asc 
```

你得到 numFound = 1 因为，你的查询

> **q=name%3Awhat%26a%26girl%26wants**

仅根据名称匹配以下文档**（不基于“upc”）**

```
 <doc>
    <str name="name">What a Girl Wants/Chasing Liberty - DVD</str>
    <str name="upc">085391170112</str></doc>
  </doc> 
```

另一方面，在您的第二个查询中，

```
http://*****/solr.war/collection1/select?q=upc%3A085391170112&fl=name%2Cupc&wt=xml&indent=true 
```

您已经搜索了与给定“upc”匹配的所有文档的“upc”，这不会过滤**name:what%26a%26girl%26wants**的结果。

很明显，计数会有所不同，因为您的 2 个查询有两个不同的结果集。

# iphone - 对数组中的多个值进行排序

> ID：15425748
> 
> 赞同：1
> 
> 时间：2013-03-15T05:56:52.117
> 
> 标签：iphone, ios, objective-c

我有一个数组，其中包含不同状态的多个位置。

```
{"location":"Lekki Phase 1","state":"abc","country":"Nigeria"},
{"location":"Lekki Phase 2","state":"xyz","country":"Nigeria"},
{"location":"Osapa London1","state":"def","country":"Nigeria"},
{"location":"Lekki Phase 2","state":"abc","country":"Nigeria"},
{"location":"Lekki Phase 3","state":"xyz","country":"Nigeria"},
{"location":"Osapa London 2","state":"def","country":"Nigeria"},.......... 
```

现在我可以为不同的状态创建一个没有重复状态的数组，比如

```
 {"abc","xyz","def"} 
```

但我想要的是在表格中按状态显示所有位置。

我怎样才能做到这一点？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:11:32.827

[首先它不是数组，而是字典。](https://stackoverflow.com/questions/2462481/remove-duplicates-in-nsdictionary)

```
NSMutableDictionary * newDict = [NSMutableDictionary dictionaryWithCapacity:[OLdDict count]];
for(id item in [OLdDict allValues]){
    NSArray * keys = [OLdDict allKeysForObject:item];
    [newDict setObject:item forKey:[[OLdDict allKeysForObject:item] objectAtIndex:0]];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T06:18:28.890

NSMutableDictionaries 可以充当唯一的集合（因为如果相同的键被使用两次，它们会替换对象的键）。我们还可以利用 NSString 通常是一个常量地址位置这一事实，并将这些字典中的每一个汇集到一个数组中。要区分每个字典数组，将它们包装在一个对象中会容易得多，但是这里有：

```
-(void)uniquingSort {
    //Setup collections for the uniquing process
    NSMutableArray *datasource = //...
    NSMutableIndexSet *hits = [NSMutableIndexSet indexSet];
    NSMutableDictionary *uniquingDict = @{}.mutableCopy;

    //Setup an index for the indexed set
    int idx = 0;

    //iterate through the array of dictionaries
    for (NSArray *arrOfDicts in datasource) {
        //get the dictionary we want to unique against
        NSDictionary *innerDict = arrayOfDicts[1];
        //do we have a dupe?  If so, add its index to the index set
        if (uniquingDict[innerDict[@"state"]] != nil)
            [hits addIndex:idx];
        uniquingDict[innerDict[@"state"]] = innerDict[@"state"];
        idx++;
    }
    //cut out all the hits till we are only uniqued for the "state" key
    [datasource removeObjectsAtIndexes:hits];
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T06:31:01.827

使用`NSPredicate`我们可以有效地过滤 this 。我已经尝试过为我工作。

这里的“allDataArray”是带有字典的数组，您可以在此处替换您的数组（您帖子中的第一个）

```
 NSMutableArray *allDataArray = [[NSMutableArray alloc] init];
    NSMutableDictionary *dict1 = [[NSMutableDictionary alloc] init];
    [dict1 setObject:@"Lekki Phase 1" forKey:@"location"];
    [dict1 setObject:@"abc" forKey:@"state"];
    [dict1 setObject:@"Nigeria" forKey:@"country"];
    [allDataArray addObject:dict1];

    dict1 = [[NSMutableDictionary alloc] init];
    [dict1 setObject:@"Lekki Phase 2" forKey:@"location"];
    [dict1 setObject:@"xyz" forKey:@"state"];
    [dict1 setObject:@"Nigeria" forKey:@"country"];
    [allDataArray addObject:dict1];

    dict1 = [[NSMutableDictionary alloc] init];
    [dict1 setObject:@"Lekki Phase 2" forKey:@"location"];
    [dict1 setObject:@"abc" forKey:@"state"];
    [dict1 setObject:@"Nigeria" forKey:@"country"];
    [allDataArray addObject:dict1];

    dict1 = [[NSMutableDictionary alloc] init];
    [dict1 setObject:@"Lekki Phase 3" forKey:@"location"];
    [dict1 setObject:@"xyz" forKey:@"state"];
    [dict1 setObject:@"Nigeria" forKey:@"country"];
    [allDataArray addObject:dict1];
    //NSLog(@"%@",allDataArray);

    NSArray *state = [NSArray arrayWithObjects:@"abc",@"xyz", nil];

    NSMutableArray *locationInState = [[NSMutableArray alloc] initWithCapacity:[state count]];
    for(int i=0; i< [state count]; i++)
    {
        NSMutableArray *filteredarray = [[allDataArray filteredArrayUsingPredicate:[NSPredicate predicateWithFormat:@"(state == %@)", [state objectAtIndex:i]]] mutableCopy];
        for(int j=0; j<[filteredarray count];j++)
        {
            NSDictionary *dict = [filteredarray objectAtIndex:j];
            [filteredarray replaceObjectAtIndex:j withObject:[dict valueForKey:@"location"]];
        }
        [locationInState addObject:filteredarray];
    }
    NSLog(@"%@",locationInState); 
```

这里 locationInState 数组包含 filetred 状态的所有位置。您可以通过索引轻松映射它们。

结果是

```
(
    (
        "Lekki Phase 1",
        "Lekki Phase 2"
    ),
        (
        "Lekki Phase 2",
        "Lekki Phase 3"
    )
) 
```

# html - 如何使用伪类：之前/：之后？

> ID：15425752
> 
> 赞同：1
> 
> 时间：2013-03-15T05:57:16.970
> 
> 标签：html, css, class, styles, stylesheet

您好我在使用`css pseudo classes` `:before`和`:adter`回显来自 div 层上的 php 的不同错误消息时遇到问题。

在`input field`我想显示一个`div layer`. 因此我使用`z-index method`，因为那个 div 是身体的前面。

现在我的问题是 div 层应该以与字符串长度不同的长度出现。在另一个问题中，有人给了我提示，而不是使用额外的 div 作为箭头，然后使用 div 层将两者合并为一个。因此，我在网上找到了使用`pseudo classes`和创建`speechbubble`. 当我寻找它时，我发现几乎所有地方都一样。

div 层是相对对象，箭头是子对象。在我的情况下，它需要反过来。箭头必须是相对对象，因为它`fixed position`位于输入字段旁边。the`div layer`的长度是可变的，但应附加在箭头的左侧。

`css`所以我遇到的问题是设置类似时不会显示div层：

```
.wrapper #header #navline form .erm { //the div layer for the arrow that will be placed next to the input field
    position:absolute;
    z-index:2;
    width: 0px;
    margin-left: -25px;
    margin-top: -10px;
    height: 0px;
    border-top: 20px inset transparent;
    border-left: 22px dashed #f23;
    border-bottom: 20px inset transparent;
}
.wrapper #header #navline form .erm:before { // to border arrow
    content:"";
    position:absolute;
    z-index:2;
    margin-left: -22px;
    margin-top: -17px;
    width: 0px;
    height: 0px;
    border-top: 17px inset transparent;
    border-left: 19px dashed #f2f2f2;
    border-bottom: 17px inset transparent;
}
.wrapper #header #navline form .erm.left { //the wrapper with the text that should be append left to the arrow
    content:"";
    color: #F23;
    position: absolute;
    z-index: 2;
    height: 26px;
    padding:12px; 
    white-space: nowrap; 
    line-height: 26px;
    font-family:Arial, Helvetica, sans-serif;
} 
```

这是html：

```
<?php if (empty($errors['a']) === false){?>
    <input class="error" type="text" id="a" name="a" value="<?php echo isset($a) ? $a : '';?>" />
<div class='erm'>
    <?php echo $errors['a'][0];?>
</div>
<?php }?> 
```

我做了一些截图来展示我想要归档的内容。

这是它的样子：

![前任](../Images/bfe168c6a32c345b982e0cdb843bdfb0.png)

好吧，这就是我以前的样子。如图有红色箭头，上面的灰色层和文本的div层，什么都不可见。

因此，当将 div 层设置为相对对象时，当 strlen 比我之前定位的那个版本长时会发生这种情况：

![ex2](../Images/ddfe92fe9af194dc31892700d12a713b.png)

或者当 strlen 更短时：

![ex3](../Images/441b05e8b1ad60d44d71e7ce43a22c28.png)

所以如果有人可以帮助我，我真的很感激。

多谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:41:51.547

我认为你几乎拥有你需要的一切。我会说您缺少的唯一细节是如何定位您的气泡。尝试仅设置正确的属性

```
.wrapper #header #navline form .erm.left { 

  right: 15px; 
```

这应该将右边框锚定在您想要的位置，如果宽度发生变化，它将是左侧移动。

注意：我没有检查上面的像素值，这只是一个例子

**编辑**

我已经尽力使用你的小提琴：

## [更新](http://jsfiddle.net/Crxfj/2/)

我添加了输入以使其更类似于我认为您想要的。然后我将您的 div（文本所在的位置）定位为绝对匹配输入位置，但使用正确的属性。这样您就不必担心文本长度。您只需要考虑为箭头留出一些空间。

最后，我把箭头放在它应该在的地方。

您不能相对于“父亲”元素定位伪元素（如 ::after）

# css - 如何将字体样式应用于过滤的列标题？

> ID：15425755
> 
> 赞同：1
> 
> 时间：2013-03-15T05:57:30.970
> 
> 标签：css, kendo-grid

我在应用程序中有剑道网格，并且它具有可过滤的真实选项。我的要求是当我们将过滤应用于列时，列标题字体样式将更改为斜体..怎么做？如果有人对此有想法请告诉我..

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:10:23.167

我个人没有用过剑道网格，但是我很快尝试了[这里](http://demos.kendoui.com/web/grid/filter-menu-customization.html)的演示，发现它在 <th> 元素内的 <a> 元素中添加了“k-state-active”类。

但是，标题文本不在 <a> 元素内。您需要的是[当前 CSS 不支持的父选择器](https://stackoverflow.com/questions/1014861/is-there-a-css-parent-selector)。

**据我所知，这在纯 CSS 中是不可能的**

你需要一些javascript。这是使用 jQuery 的可能解决方案：

```
// adding click event handler to the "Filter" and "Clear" buttons
$('form.k-filter-menu .k-button').click(function(e) {
  setTimeout(function() {
    // first make all headers normal, then make the filtered column header italic
    $('th.k-header.k-filterable').css('font-style', 'normal').filter(
      ':has(> .k-grid-filter.k-state-active)').css('font-style', 'italic');
  }, 100);
}) 
```

使用 setTimeout 是因为只有在过滤数据后才添加“k-state-active”类。同样，我对剑道网格不熟悉，所以我不知道是否有办法为过滤器提供回调方法。您可能需要对此进行调查，因为如果您拥有庞大的数据集，那么 100 毫秒的延迟可能不够长。

对于 jQuery 特定的解决方案，我深表歉意。啊……没有 jQuery，我什么都做不了。耻辱。

但希望这对你有帮助！如果您需要任何进一步的帮助，请告诉我。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-13T09:04:16.757

这可以通过一个 CSS 行来实现：

```
.k-filterable a.k-grid-filter.k-state-active ~ .k-link {font-style:italic;} 
```

无需使用 java 脚本。

# java - h:commanLink onclick 确认不起作用

> ID：15425756
> 
> 赞同：0
> 
> 时间：2013-03-15T05:57:40.237
> 
> 标签：java, jsf-2

我正在使用 h:commandLink 进行删除，单击此链接可以启用确认对话框，但是当我单击确定时，它没有删除..我需要再添加吗？请帮助。

```
<h:commandLink  update="#{cc.attrs.ajaxupdate}" 
onclick="if (! confirm('Are you sure, you want to remove picture?') ) { return 
false;};     return true; ">
<f:ajax listener="#{cc.attrs.deleteactionlistener}"/>
<p:graphicImage value="/resources/images/delete.gif" />
</h:commandLink> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:34:33.907

您必须将 放在`h:commandLink`元素`h:form`中才能提交数据并执行处理程序。`onclick`另一方面是在没有提交的情况下完成的。

顺便问一下，`update`属性是干什么用的？至少它不在标准中`h:commandLink`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:40:16.650

下面是我的使用方法...

```
<h:commandLink value="Delete" action="#{Bean.delete()}" 
    onclick="return confirm('Are you sure you want to delete?')" />
             ^^^^^^^ 
```

在你的情况下，它会是

```
<h:commandLink  update="#{cc.attrs.ajaxupdate}" 
     onclick="return confirm('Are you sure, you want to remove picture?')"> 
```

希望这能解决您的问题。

# android - greenDAO testSuiteConstructionFailed 测试实体时出错

> ID：15425759
> 
> 赞同：0
> 
> 时间：2013-03-15T05:58:05.903
> 
> 标签：android, orm, greendao

我曾尝试使用 greenDAO 示例应用程序在 JUnit 中编写测试用例，但我得到了由 InvocationTargetException 引起的 RuntimeException：

![来自 greenDAO 的 JUnit 错误](../Images/1857a82dd108aaab8e02d543eaaca0a0.png)

它甚至不运行测试。

以下是令人讨厌的代码：

```
import de.greenrobot.dao.test.*;

public class LibrarySummaryTest extends AbstractDaoTestLongPk<LibrarySummaryDao, LibrarySummary> {

    public LibrarySummaryTest() {
        super(LibrarySummaryDao.class);
    }

    @Override
    protected LibrarySummary createEntity(Long arg0) {
        // TODO Auto-generated method stub
        return null;
    }
} 
```

有什么我想念的吗？

我有一个 Android 应用程序，测试在一个单独的应用程序中。我在生成代码时指出了这一点：

```
schema.setDefaultJavaPackageTest("com.ralphpina.greenDao.test");
schema.setDefaultJavaPackageDao("com.ralphpina.greenDao.greendao"); 
```

我有正确定位应用程序的仪器。我有一大堆运行良好的 JUnit 测试用例。

我在两个应用程序中都包含了 greenDAO.jar，并且我仔细检查了它是否在构建路径中。

我的 Eclipse 环境中有笔记示例应用程序，并且 JUnit 测试在那里运行良好。所以我的项目中必须有一些特定的东西。有什么建议么？

完整例外的文本：

```
03-15 01:02:22.794: I/TestRunner(8775): java.lang.RuntimeException: Exception during suite construction
03-15 01:02:22.794: I/TestRunner(8775):     at android.test.suitebuilder.TestSuiteBuilder$FailedToCreateTests.testSuiteConstructionFailed(TestSuiteBuilder.java:238)
03-15 01:02:22.794: I/TestRunner(8775):     at java.lang.reflect.Method.invokeNative(Native Method)
03-15 01:02:22.794: I/TestRunner(8775):     at java.lang.reflect.Method.invoke(Method.java:511)
03-15 01:02:22.794: I/TestRunner(8775):     at junit.framework.TestCase.runTest(TestCase.java:168)
03-15 01:02:22.794: I/TestRunner(8775):     at junit.framework.TestCase.runBare(TestCase.java:134)
03-15 01:02:22.794: I/TestRunner(8775):     at junit.framework.TestResult$1.protect(TestResult.java:115)
03-15 01:02:22.794: I/TestRunner(8775):     at junit.framework.TestResult.runProtected(TestResult.java:133)
03-15 01:02:22.794: I/TestRunner(8775):     at junit.framework.TestResult.run(TestResult.java:118)
03-15 01:02:22.794: I/TestRunner(8775):     at junit.framework.TestCase.run(TestCase.java:124)
03-15 01:02:22.794: I/TestRunner(8775):     at android.test.AndroidTestRunner.runTest(AndroidTestRunner.java:190)
03-15 01:02:22.794: I/TestRunner(8775):     at android.test.AndroidTestRunner.runTest(AndroidTestRunner.java:175)
03-15 01:02:22.794: I/TestRunner(8775):     at android.test.InstrumentationTestRunner.onStart(InstrumentationTestRunner.java:555)
03-15 01:02:22.794: I/TestRunner(8775):     at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:1661)
03-15 01:02:22.794: I/TestRunner(8775): Caused by: java.lang.reflect.InvocationTargetException
03-15 01:02:22.794: I/TestRunner(8775):     at java.lang.reflect.Constructor.constructNative(Native Method)
03-15 01:02:22.794: I/TestRunner(8775):     at java.lang.reflect.Constructor.newInstance(Constructor.java:417)
03-15 01:02:22.794: I/TestRunner(8775):     at android.test.suitebuilder.TestMethod.instantiateTest(TestMethod.java:87)
03-15 01:02:22.794: I/TestRunner(8775):     at android.test.suitebuilder.TestMethod.createTest(TestMethod.java:73)
03-15 01:02:22.794: I/TestRunner(8775):     at android.test.suitebuilder.TestSuiteBuilder.addTest(TestSuiteBuilder.java:262)
03-15 01:02:22.794: I/TestRunner(8775):     at android.test.suitebuilder.TestSuiteBuilder.build(TestSuiteBuilder.java:184)
03-15 01:02:22.794: I/TestRunner(8775):     at android.test.InstrumentationTestRunner.onCreate(InstrumentationTestRunner.java:379)
03-15 01:02:22.794: I/TestRunner(8775):     at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4382)
03-15 01:02:22.794: I/TestRunner(8775):     at android.app.ActivityThread.access$1300(ActivityThread.java:141)
03-15 01:02:22.794: I/TestRunner(8775):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1294)
03-15 01:02:22.794: I/TestRunner(8775):     at android.os.Handler.dispatchMessage(Handler.java:99)
03-15 01:02:22.794: I/TestRunner(8775):     at android.os.Looper.loop(Looper.java:137)
03-15 01:02:22.794: I/TestRunner(8775):     at android.app.ActivityThread.main(ActivityThread.java:5039)
03-15 01:02:22.794: I/TestRunner(8775):     at java.lang.reflect.Method.invokeNative(Native Method)
03-15 01:02:22.794: I/TestRunner(8775):     at java.lang.reflect.Method.invoke(Method.java:511)
03-15 01:02:22.794: I/TestRunner(8775):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
03-15 01:02:22.794: I/TestRunner(8775):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
03-15 01:02:22.794: I/TestRunner(8775):     at dalvik.system.NativeStart.main(Native Method)
03-15 01:02:22.794: I/TestRunner(8775): Caused by: java.lang.NoClassDefFoundError: com.outridersw.tapinspectandroid.greendao.DaoMaster
03-15 01:02:22.794: I/TestRunner(8775):     at com.outridersw.tapinspectandroid.test.LibrarySummaryTest.<init>(LibrarySummaryTest.java:13)
03-15 01:02:22.794: I/TestRunner(8775):     ... 18 more 
```

**更新：**

我可以通过将 greenDAO 中生成的类复制并粘贴到我的测试项目中来运行 JUnit。显然，这并不理想，因为现在我必须记住更新它们。JUnit 是否有原因找不到 greenDAO 类，但在我的目标 Android 项目中查看所有其他类没有问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T19:46:01.833

事实证明，这个错误的原因是我在主 Android 项目和测试 Android 项目中都包含了 greenDAO.jar 库。一旦我从 project/libs 文件夹中删除了 jar，我就可以毫无问题地运行 JUnit greenDAO 测试！

# sql - oracle 9i 中是否有另一个用于 wm_concat 的命令？

> ID：15425760
> 
> 赞同：2
> 
> 时间：2013-03-15T05:58:12.737
> 
> 标签：sql, oracle, oracle9i

我有一个包含部门 ID、员工姓名和加入日期的表格。我想获取在给定部门的给定日期加入的所有员工的列表。

`wm_concat`不管用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T06:05:42.720

据此[，](http://www.oracle-base.com/articles/misc/string-aggregation-techniques.php)`WM_CONCAT`不支持。

> WM_CONCAT 是一个未记录的函数，因此 Oracle 不支持用户应用程序

您可以使用该链接中描述的用户定义聚合函数。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T06:05:36.663

试试`wmsys.wm_concat`(10g+) 或`listagg`(11g+)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T06:06:05.433

尝试`sys.STRAGG`

```
SELECT department_id, 
       hire_date, 
       TRIM(TRAILING ',' FROM sys.STRAGG(last_name || ',')) names
FROM employees
GROUP BY department_id, hire_date 
```

**[SQLFiddle](http://sqlfiddle.com/#!4/f1d22/3)**

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-15T06:35:06.457

请参阅[字符串聚合技术](http://www.oracle-base.com/articles/misc/string-aggregation-techniques.php)页面。

对于 9i，您可以在引用的页面中声明 UDAG 函数：

```
CREATE OR REPLACE TYPE t_string_agg AS OBJECT
(
  g_string  VARCHAR2(32767),

  STATIC FUNCTION ODCIAggregateInitialize(sctx  IN OUT  t_string_agg)
    RETURN NUMBER,

  MEMBER FUNCTION ODCIAggregateIterate(self   IN OUT  t_string_agg,
                                       value  IN      VARCHAR2 )
     RETURN NUMBER,

  MEMBER FUNCTION ODCIAggregateTerminate(self         IN   t_string_agg,
                                         returnValue  OUT  VARCHAR2,
                                         flags        IN   NUMBER)
    RETURN NUMBER,

  MEMBER FUNCTION ODCIAggregateMerge(self  IN OUT  t_string_agg,
                                     ctx2  IN      t_string_agg)
    RETURN NUMBER
);
/

CREATE OR REPLACE TYPE BODY t_string_agg IS
  STATIC FUNCTION ODCIAggregateInitialize(sctx  IN OUT  t_string_agg)
    RETURN NUMBER IS
  BEGIN
    sctx := t_string_agg(NULL);
    RETURN ODCIConst.Success;
  END;

  MEMBER FUNCTION ODCIAggregateIterate(self   IN OUT  t_string_agg,
                                       value  IN      VARCHAR2 )
    RETURN NUMBER IS
  BEGIN
    SELF.g_string := self.g_string || ',' || value;
    RETURN ODCIConst.Success;
  END;

  MEMBER FUNCTION ODCIAggregateTerminate(self         IN   t_string_agg,
                                         returnValue  OUT  VARCHAR2,
                                         flags        IN   NUMBER)
    RETURN NUMBER IS
  BEGIN
    returnValue := RTRIM(LTRIM(SELF.g_string, ','), ',');
    RETURN ODCIConst.Success;
  END;

  MEMBER FUNCTION ODCIAggregateMerge(self  IN OUT  t_string_agg,
                                     ctx2  IN      t_string_agg)
    RETURN NUMBER IS
  BEGIN
    SELF.g_string := SELF.g_string || ',' || ctx2.g_string;
    RETURN ODCIConst.Success;
  END;
END;
/

CREATE OR REPLACE FUNCTION string_agg (p_input VARCHAR2)
RETURN VARCHAR2
PARALLEL_ENABLE AGGREGATE USING t_string_agg;
/ 
```

使用它就像：

```
SELECT deptno, string_agg(ename) AS employees
FROM   emp
GROUP BY deptno; 
```

您也可以尝试[this question](https://stackoverflow.com/questions/7531001/fast-way-to-generate-concatenated-strings-in-oracle)中的方法（如果您有大桌子，这会很慢）

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-15T12:49:44.003

看这里：[http ://www.oracle-base.com/articles/misc/string-aggregation-techniques.php](http://www.oracle-base.com/articles/misc/string-aggregation-techniques.php)

在该页面上查找 Oracle 9i 中 ROW_NUMBER() 和 SYS_CONNECT_BY_PATH 函数的示例。

如果 PL/SQL 是一个选项，那么 TABLE_TO_COMMA 过程可能会起作用：[http ://docs.oracle.com/cd/E11882_01/appdev.112/e25788/d_util.htm#ARPLS73271](http://docs.oracle.com/cd/E11882_01/appdev.112/e25788/d_util.htm#ARPLS73271)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2016-04-10T11:16:34.430

首先，不要使用，`WM_CONCAT`因为它是一个**未记录的功能**，并且**已从**最新的**12c 版本**中删除。任何一直依赖`wm_concat`功能的应用程序一旦升级到`12c`. 请参阅[**为什么不在 Oracle 中使用 WM_CONCAT 函数？**](http://lalitkumarb.wordpress.com/2015/04/29/why-not-use-wm_concat-function-in-oracle/)

```
SQL> select banner from v$version where rownum = 1;

BANNER
----------------------------------------------------------------------------
Oracle Database 12c Enterprise Edition Release 12.1.0.1.0 - 64bit Production

SQL> SELECT object_name
  2  FROM dba_objects
  3  WHERE owner='WMSYS'
  4  AND object_name LIKE 'WM\_%' ESCAPE '\';

OBJECT_NAME
----------------------------------------------------------------------------
WM_REPLICATION_INFO
WM_RDIFF
WM_PERIOD
WM_PERIOD
WM_OVERLAPS
WM_MEETS
WM_LESSTHAN
WM_LDIFF
WM_INTERSECTION
WM_INSTALLATION
WM_GREATERTHAN
WM_EVENTS_INFO
WM_ERROR
WM_ERROR
WM_EQUALS
WM_DDL_UTIL
WM_DDL_UTIL
WM_CONTAINS
WM_COMPRESS_BATCH_SIZES
WM_COMPRESSIBLE_TABLES

20 rows selected. 
```

您将收到“<strong>invalid identifier”错误：

```
SQL> SELECT banner FROM v$version;

BANNER
----------------------------------------------------------------------------
Oracle Database 12c Enterprise Edition Release 12.1.0.1.0 - 64bit Production
PL/SQL Release 12.1.0.1.0 - Production
CORE    12.1.0.1.0      Production
TNS for 64-bit Windows: Version 12.1.0.1.0 - Production
NLSRTL Version 12.1.0.1.0 - Production

SQL> SELECT deptno, wm_concat(ename) FROM emp;
SELECT deptno, wm_concat(ename) FROM emp
               *
ERROR at line 1:
ORA-00904: "WM_CONCAT": invalid identifier 
```

因此，没有必要依赖最新版本中不再提供的**未记录功能。**

有多种**[字符串聚合技术](https://lalitkumarb.wordpress.com/2015/10/12/oracle-string-aggregation-techniques/)**：

*   **11gR2 及更高版本中的**LISTAGG****

 **例如，

```
SELECT deptno, LISTAGG(ename, ',') WITHIN GROUP (ORDER BY ename) AS employees
FROM   emp
GROUP BY deptno;

    DEPTNO EMPLOYEES
---------- --------------------------------------------------
        10 CLARK,KING,MILLER
        20 ADAMS,FORD,JONES,SCOTT,SMITH
        30 ALLEN,BLAKE,JAMES,MARTIN,TURNER,WARD

3 rows selected. 
```

*   **9i 及更高版本中的ROW_NUMBER()**和**SYS_CONNECT_BY_PATH**函数

例如，

```
SELECT deptno,
       LTRIM(MAX(SYS_CONNECT_BY_PATH(ename,','))
       KEEP (DENSE_RANK LAST ORDER BY curr),',') AS employees
FROM   (SELECT deptno,
               ename,
               ROW_NUMBER() OVER (PARTITION BY deptno ORDER BY ename) AS curr,
               ROW_NUMBER() OVER (PARTITION BY deptno ORDER BY ename) -1 AS prev
        FROM   emp)
GROUP BY deptno
CONNECT BY prev = PRIOR curr AND deptno = PRIOR deptno
START WITH curr = 1;

    DEPTNO EMPLOYEES
---------- --------------------------------------------------
        10 CLARK,KING,MILLER
        20 ADAMS,FORD,JONES,SCOTT,SMITH
        30 ALLEN,BLAKE,JAMES,MARTIN,TURNER,WARD

3 rows selected. 
```

*   [AskTom](https://asktom.oracle.com/pls/apex/f?p=100:11:0::::P11_QUESTION_ID:2196162600402)中描述的用户定义的聚合函数**STRAGG**。
*   **10g 及以上的**COLLECT功能****

 **Tim Hall 的几个很好的[例子](http://oracle-base.com/articles/misc/string-aggregation-techniques.php)。****

# c# - 即使在回发之后，我如何保持选定的选项卡处于选中状态

> ID：15425765
> 
> 赞同：9
> 
> 时间：2013-03-15T05:58:58.977
> 
> 标签：c#, jquery

我的 aspx 表单上有一些列出的选项卡控件，如下所示

```
 <div id="tabs">
    <ul>

        <li><a href="#tabs-1">Tab A</a></li>
        <li><a href="#tabs-2">Tab B</a></li>
        <li><a href="#tabs-3">Tab C</a></li>

    </ul>
<div id="tabs-1"></div>
<div id="tabs-2"><asp:Button ID="someid" runat="server"/></div>
<div id="tabs-3"></div>
</div> 
```

鼠标单击选项卡上的导航通过以下方式完成：

```
 <script type="text/javascript">
    $(function () {
        $("#tabs").tabs();

    });
</script> 
```

现在，我的问题是，即使在回发之后，我如何才能保持选定的选项卡不变。例如，我选择包含一个按钮的选项卡 B，该按钮会导致点击后回发。回发发生后，选项卡 A 重新定位焦点，我必须手动选择选项卡 B 进行辅助操作。

请帮我解决这个问题。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-15T06:01:50.667

[使用指定的cookie](http://docs.jquery.com/UI/Tabs#option-cookie)选项初始化选项卡。 [样本](http://jsfiddle.net/DKvVM/)

```
$(function () {
   $("#tabs").tabs({ cookie: { expires: 30 } });
}); 
```

你需要 jQuery [Cookie 插件](https://github.com/carhartl/jquery-cookie/blob/master/jquery.cookie.js)..

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2013-03-15T08:01:41.383

我认为本准则会对您有所帮助...

```
<div id="tabs">
        <asp:HiddenField ID="hidtab" Value="0" runat="server" />
        <ul>
            <li><a href="#tabs-1">Tab 1</a></li>
            <li><a href="#tabs-2">Tab 2</a></li>

        </ul>

        <div id="tabs-1">
            <asp:Button ID="Button1" runat="server" Text="Submit" OnClick="Button1_Click"/>
        </div>

        <div id="tabs-2">
            <asp:Button ID="Button2" runat="server" Text="Submit" OnClick="Button2_Click"/>
        </div>
    </div>

<script type="text/javascript">
        $(document).ready(function () {
            var st= $(this).find("input[id*='hidtab']").val();
            if (st== null)
                st= 0;
            $('[id$=tabs]').tabs({ selected: st});
        });
    </script>

protected void Button1_Click(object sender, EventArgs e)
{
    hidtab.Value = "0";
}

protected void Button2_Click(object sender, EventArgs e)
{
    hidtab.Value = "1";
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T07:12:33.593

您可以像他们在[这篇文章](https://stackoverflow.com/questions/1359343/getting-target-url-from-jquery-ui-tabs)中所做的那样通过您的 URL 跟踪它。以下代码只是示例，可以做得更好。我使用了[jquery ui tabs](http://api.jqueryui.com/tabs/#option-active)`active`中的属性。它与元素的索引一起使用，但也许它与#hash 一起使用也没有测试它。所以在下面的例子中，我得到了标签的索引并将它与属性一起使用；`active`

```
<div id="tabs">
    <ul>

        <li><a href="#tabs-1">Tab A</a></li>
        <li><a href="#tabs-2">Tab B</a></li>
        <li><a href="#tabs-3">Tab C</a></li>

    </ul>
<div id="tabs-1"></div>
<div id="tabs-2"><asp:Button ID="someid" runat="server"/></div>
<div id="tabs-3"></div>
</div>

<script type="text/javascript">
    $(function () {
        var tabsOpts = {}, 
            activeTab, activeTabIndex,
            urlCheck = doucment.location.href.split('#');

        // urlCheck is an array so when there is more then one result
        // there is a hash found in the URL
        if( urlCheck.length > 1 ) {
            activeTab = urlCheck[1];

            // getting the index from the link
            activeTabIndex = $("#tabs li a[href="+ activeTab +"]").index();

            // create new object options for the tabs
            tabsOpts = { active: activeTabIndex };
        }

        $("#tabs").tabs(tabsOpts)
        .find('li a').each(function() {
            // get URL from the tab href
            var href = $.data(this, 'href.tabs');
            // set URL with the href from your tab
            document.location = href;
        });
    });
</script> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2016-03-03T15:57:51.863

客户端解决方案：

```
<script type="text/javascript">
Sys.WebForms.PageRequestManager.getInstance().add_initializeRequest(IniciaRequest);
Sys.WebForms.PageRequestManager.getInstance().add_beginRequest(BeginRequestHandler);
Sys.WebForms.PageRequestManager.getInstance().add_endRequest(EndRequestHandler);
var currentTab;

function IniciaRequest(sender, arg) {
  var _Instance = Sys.WebForms.PageRequestManager.getInstance();

  if (_Instance.get_isInAsyncPostBack()) {
    window.alert("Existe un proceso en marcha. Espere");
    arg.set_cancel(true);
  }
}

function BeginRequestHandler(sender, args) {
  //Persiste el valor del indice del TAB actual del control Jquery para mantener el tab actual seleccionado luego del Postback.
  if ($get('hdCurrentTab') != null) {
    currentTab = $get('hdCurrentTab').value;
  }
  //----
}

function EndRequestHandler(sender, args) {
  //Permite visualiza el control JQuery TAB dentro de ventanas modales AJAX.
  if (sender._postBackSettings.panelsToUpdate != null) {
    $("#tabs").tabs();

    //Persiste el valor del indice del TAB actual del control Jquery para mantener el tab actual seleccionado luego del Postback.
    if ($get('hdCurrentTab') != null) {
      $get('hdCurrentTab').value = currentTab;
      $("#tabs").tabs({ active: currentTab });
    }
    //----
  }
  //----
}
</script>
```

页面上的 HTML：

```
<input id="hdCurrentTab" type="hidden" value="0" />
<div id="tabs" style="width:97%;margin: auto; font-family: verdana, tahoma, arial, sans-serif; font-size: 11px;">
  <ul>
    <li><a href="#tabs-1" onclick="$get('hdCurrentTab').value = '0';">TAB1</a></li>
    <li><a href="#tabs-2" onclick="$get('hdCurrentTab').value = '1';">TAB2</a></li>
  </ul>
  <div id="tabs-1"></div>
  <div id="tabs-2"></div>
</div>
```

回发后 TAB 保持选中状态。

# android - Toast 类型中的方法 makeText(Context, CharSequence, int) 不适用于参数（Class , 字符串, 整数)

> ID：15425767
> 
> 赞同：0
> 
> 时间：2013-03-15T05:59:06.317
> 
> 标签：android

我正在使用 toast inside`onPostExecute(Boolean result)`方法。这是它的代码

```
@Override
protected void onPostExecute(Boolean result) {
    //objAdapter = new listAdapter(ReadContactsActivity.this, items);
    //listView.setAdapter(objAdapter);
    dialog.dismiss();
    if(result)
        Toast.makeText(this, "Email was sent successfully.", Toast.LENGTH_LONG).show();
    else
        Toast.makeText(this, "Email was not sent.", Toast.LENGTH_LONG).show();
    }   

} 
```

我收到错误“ `makeText(Context, CharSequence, int)`Toast 类型中的方法不适用于参数 `(Class<ReadContactsActivity>, String, int)`”

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T06:00:16.073

用于显示 Toast 使用以下代码。

```
 @Override
protected void onPostExecute(Boolean result) {
    //objAdapter = new listAdapter(ReadContactsActivity.this, items);
    //listView.setAdapter(objAdapter);
    dialog.dismiss();
    if(result)
        Toast.makeText(Yourclassname.this, "Email was sent successfully.", Toast.LENGTH_LONG).show();
    else
        Toast.makeText(Yourclassname.this, "Email was not sent.", Toast.LENGTH_LONG).show();
    }   

} 
```

# android - 我们如何检测android中的自定义屏幕类别？

> ID：15425769
> 
> 赞同：0
> 
> 时间：2013-03-15T05:59:10.420
> 
> 标签：android, layout, categories

我想检测在特定活动中使用的 android 中的自定义屏幕类别，我想以编程方式检测 layout-sw640dp，这是如何实现的。我们可以对 small、normal、large 和 xlarge 布局做同样的事情，但我是不确定这个，请帮助我。谢谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T06:06:57.230

不知道为什么你需要这样做。但是，一个快速的方法是使用标签，例如：

在 mdpi 中：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
  android:layout_width="match_parent"
  android:layout_height="match_parent"
  android:background="@drawable/content_bg"
  android:orientation="vertical"
  android:id="@+id/name"
  android:tag="mdpi-xxx-yyy" > 
```

在 hdpi 中：

```
 android:id="@+id/name"
  android:tag="hdpi-xxx-yyy" > 
```

然后，从您的代码中读取 R.id.name 的标签。

* * *

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T07:01:56.343

`sw640dp`只是意味着最小的可用尺寸至少为 640dp。这是基于活动的可用布局空间，而不是设备的实际分辨率。因此，您可以根据活动中根布局的尺寸来计算：

```
int density = getResources().getDisplayMetrics().density;
int widthDp = rootView.getWidth() / density;
int heightDp = rootView.getHeight() / density;
if(widthDp >= 640 || heightDp >= 640) {
    // qualifies for sw640dp
}
else {
    // does not qualify for sw640dp
} 
```

以 Galaxy S3 为例，它的分辨率为 1280x720，即 640x360 转换为 dp 单位。由于与*布局*`sw`的可用尺寸有关，而不是分辨率，我猜它*不*符合条件，因为系统装饰（例如状态栏）会降低布局的可用高度。**`sw640dp`**

# vb.net - 按不同的列过滤 UltraGrid 列

> ID：15425770
> 
> 赞同：1
> 
> 时间：2013-03-15T05:59:12.730
> 
> 标签：vb.net, filter, ultrawingrid

我在一个`UltraWinGrid`. 第一列是富文本格式的文本。第二列具有第一列的纯文本等效项（已删除 RTF）。

我只向用户显示第一个 RTF 格式的列。当用户在过滤器行中键入时，我想按第二个隐藏的列进行过滤。这可能吗？

# ruby-on-rails - 如何在 ruby on rails 中实现 Baddville

> ID：15425778
> 
> 赞同：0
> 
> 时间：2013-03-15T06:00:01.143
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.1, rubygems, ruby-on-rails-3.2

谁能告诉我如何`badgeville`在 ruby​​ on rails 中实现？

编辑：我怎样才能将它应用到 ruby​​ on rails 上？

[https://github.com/badgeville/badgeville-ruby](https://github.com/badgeville/badgeville-ruby)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T19:43:27.897

我不确定这个特定的 gem 是如何工作的，但通常它应该按照以下步骤工作

1.  在 app/config/initializers 中创建一个名为“badgeville.rb”的文件
2.  将以下代码添加到 badgeville.rb

    BadgevilleBerlin::Config.conf( :host_name => " [http://example.com](http://example.com) ", :api_key => MY_API_KEY)

3.  重新开始

4.  那么您应该能够在您的控制器/模型中使用以下命令

    前任：

    new_site = BadgevilleBerlin::Site.new( :name => "我的网站", :url => "mydomain.com", :network_id => MY_NETWORK_ID ) 成功 = new_site.save

# webpage - 实现网页分割

> ID：15425780
> 
> 赞同：0
> 
> 时间：2013-03-15T06:00:09.660
> 
> 标签：webpage

我如何实现网页分割（任何基于视觉/基于布局/基于再现的类型）？
任何实现的示例或有用的链接？

提前致谢..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:38:38.433

简单的方法可能是媒体查询：

```
<div class="content"></div> 
```

然后在 css 中设置标准样式并在屏幕很小时覆盖它。这不仅适用于移动设备，如果您调整浏览器的大小，它将生效，但它适用于所有小屏幕显示器。

```
.content{width:400px;}
@media screen and (max-width: 400px){
    .content {width:200px;}
} 
```

当然还有其他方法，但对于基本实现，这将满足您的需求。

# jboss - JBoss7 + seam2.3 = java.lang.LinkageError：加载程序约束违规：解析覆盖方法时

> ID：15425781
> 
> 赞同：0
> 
> 时间：2013-03-15T06:00:10.163
> 
> 标签：jboss, seam, jboss7.x, seam2

我们正在尝试将 seam2.2 + jboss4.2.3 迁移到 jboss7.1.1 + seam2.3，我们目前面临：

```
Caused by: java.lang.LinkageError: loader constraint violation: 
when resolving overridden method 
"org.jboss.seam.faces.DateConverter.getAsString
(Ljavax/faces/context/FacesContext;
Ljavax/faces/component/UIComponent;Ljava/lang/Object;)Ljava/lang/String;" 
the class loader (instance of org/jboss/modules/ModuleClassLoader) 
of the current class, org/jboss/seam/faces/DateConverter,
and its superclass loader (instance of org/jboss/modules/ModuleClassLoader), 
have different Class objects for the type ext/FacesContext;
Ljavax/faces/component/UIComponent;
Ljava/lang/Object;)
Ljava/lang/String; 
used in the signature 
```

根据我在谷歌上找到的文章，我们似乎正在加载 2x jboss-seam jar。1 个来自应用程序，1 个来自 JBoss，但我不是 100% 确定。

知道是什么导致了问题吗？

谢谢，
czetsuya

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-17T05:41:36.907

构建您的应用程序需要一些 jar，但不应与它一起部署。
检查你的 Seam 应用程序中的 deploy-jars.list 并确保你没有部署 jboss 已经加载的 jars。

它不会是 Seam jar，除非您添加它们，否则 jboss 加载程序中不包含它们。它可能是一个 JSF jar。

# python - Python 2.7 与 3.x 中的函数

> ID：15425786
> 
> 赞同：2
> 
> 时间：2013-03-15T06:00:30.553
> 
> 标签：python, function, numpy, python-2.7, matplotlib

我是 Python 新手。我一直在努力让自己熟悉 Numpy、Scipy 和 Matplotlib，因为我有科学背景，并希望让自己成为在神经科学实验室工作的更有竞争力的候选人。

我一直在浏览 Matplotlib 文档，尝试通过示例学习。我将从以下 URL 中引用一个示例：http: [//matplotlib.org/users/pyplot_tutorial.html](http://matplotlib.org/users/pyplot_tutorial.html)

我的印象是这些示例是用 Python 3.x 编写的，并且我遇到了麻烦，因为我使用的是 Python 2.7。我正在使用 2.7，因为我想要的一些库不适用于 3.x。

该网站给出了使用子图的示例。他们的代码如下：

* * *

```
import numpy as np
import matplotlib.pyplot as plt

def f(t):
    return np.exp(-t) * np.cos(2*np.pi*t)

t1 = np.arange(0.0, 5.0, 0.1)
t2 = np.arange(0.0, 5.0, 0.02)

plt.figure(1)
plt.subplot(211)
plt.plot(t1, f(t1), 'bo', t2, f(t2), 'k')

plt.subplot(212)
plt.plot(t2, np.cos(2*np.pi*t2), 'r--') 
```

* * *

这应该返回一个像这样的图：http: [//i.stack.imgur.com/ejNDu.png](http://i.stack.imgur.com/ejNDu.png)

* * *

当我将相同的代码复制到 IDLE 中时，它给了我一个错误。在线上

```
t1 = np.arange(0.0, 5.0, 0.1) 
```

, IDLE 告诉我“t1”是无效的语法。

**我的第一个问题：**使用 t1 作为变量有什么问题？

如果我复制类似的代码，但进行一些调整，我可以避免这个错误。但是，然后我遇到了另一个错误。当我添加相当于

```
plt.plot(t1, f(t1), 'bo', t2, f(t2), 'k') 
```

, IDLE 向我显示错误：

* * *

```
Traceback (most recent call last):
  File "<pyshell#9>", line 1, in <module>
    plt.plot(ty, f(tx), 'bo', ty, f(ty), 'k')
NameError: name 'f' is not defined 
```

* * *

我不确定 Python 如何期望我将“f”与函数“f(t)”分开定义。

**我的第二个也是主要问题：**有人可以解释为什么必须单独定义“f”吗？如何在 Python 2.7 中正确使用这样的函数？

**如果有人需要我解释这里使用的 Numpy/Matplotlib 机制，我会尽我所能解释它们是如何产生图表的。**

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-15T06:09:25.497

对于语法错误，请检查*之前*的一两行。`t1`是一个完全有效的变量名（规则类似于其他各种语言：变量名可以包含字母、数字和`_`，但不能以数字开头） - 但是如果您忘记了上面的右括号或类似内容，那么解释器会感到困惑，并告诉您那里不能有赋值语句（如果换行符在里面`()`，`{}`或者`[]`，或者换行符之前的最后一个字符是，则换行符不算作“语句结束” `\`）。

定义一个函数*确实*会在该名称空间中为您提供一个具有该名称的变量 - 您无需`f`单独定义。如果没有看到您的确切代码很难判断，但可能发生的情况是您在不同的范围内定义了它（因此名称不可见），或者您将函数重命名为`f`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:10:45.097

尝试在新窗口中再次输入所有内容。'f' 不应该单独定义。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T16:37:17.487

由于缺少新行和意外缩进而出现无效语法接缝的错误。

在 IDLE 中，定义函数 f(t) 后，您必须再次按下`<return>`以完成 f(t) 的声明 - 在 f(t) 的声明后放置一个空行。如果你不在 IDLE 中添加额外的新行，你会得到一个语法错误，因为意外的缩进和 f(t) 的定义不会完成，所以你也会得到下一个错误，说 'f ' 没有定义。

# mysql - 根据列值对 MySQL 表进行分区。

> ID：15425788
> 
> 赞同：0
> 
> 时间：2013-03-15T06:00:48.117
> 
> 标签：mysql, sql, relational-database

我想在 MySQL 中对表进行分区，同时保留表的结构。

我有一列，`'Year'`，我想根据它分别将表格分成每年的不同表格。新表将具有类似的名称`'table_2012'`，`'table_2013'`依此类推。结果表需要与源表中的所有字段完全相同。

我尝试了以下两段 SQL 脚本，但均未成功：

1.

> ```
> CREATE TABLE all_data_table
> (   column1 int default NULL,
>     column2 varchar(30) default NULL,
>     column3 date default NULL
> ) ENGINE=InnoDB  
> PARTITION BY RANGE ((year)) 
> (
>     PARTITION p0 VALUES LESS THAN (2010),
>     PARTITION p1 VALUES LESS THAN (2011) , PARTITION p2 VALUES LESS THAN (2012) ,
>     PARTITION p3 VALUES LESS THAN (2013), PARTITION p4 VALUES LESS THAN MAXVALUE 
> ); 
> ```

2.

> ```
> ALTER TABLE all_data_table PARTITION BY RANGE COLUMNS (`year`)  (
>     PARTITION p0 VALUES LESS THAN (2011),
>     PARTITION p1 VALUES LESS THAN (2012),
>     PARTITION p2 VALUES LESS THAN (2013),
>     PARTITION p3 VALUES LESS THAN (MAXVALUE)
> ); 
> ```

任何援助将不胜感激！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2015-09-02T23:15:48.933

这是旧的，但看到它在分区搜索中排名很高，我想我会为可能点击此页面的人提供一些额外的细节。您所说的`table_2012`不是`table_2013`“MySQL 分区”而是“手动分区”。

分区意味着您拥有一个具有单个表名的“逻辑表”，该表在幕后被划分为多个文件。当你有数百万到数十亿行，多年来，但通常你只搜索一个月，按年/月分区可以有很大的性能优势，因为 MySQL 只需要搜索包含你的年/月的文件正在搜索...只要您在 WHERE 中包含分区键。

当您创建多个表时`table_2012`，`table_2013`您将手动对表进行分区，而 MySQL PARTITION 配置不会这样做。要手动对表进行分区，请在 2012 年期间将所有数据放入 2012 表中。当您到达 2013 年时，您开始将所有数据放入 2013 表中。您必须确保在 2013 年之前创建表格，否则它将无处可去。然后，当您跨年查询时（例如，从 2012 年 11 月到 2013 年 1 月），您必须在 table_2012 和 table_2013 之间进行 UNION。

```
SELECT * FROM table_2012 WHERE #...
UNION
SELECT * FROM table_2013 WHERE #... 
```

有了分区，这个手工工作就没有必要了。您进行分区的初始设置，然后将其视为单个表。不需要工会，在插入之前不需要检查日期等。这让生活变得更加轻松。MySQL 负责确定它需要查询哪些表。但是，您必须确保查询 Year 列，否则它必须扫描所有文件。例如`SELECT * FROM all_data_table WHERE Month=12`，将扫描 Month=12 的所有分区。为确保您只扫描需要扫描的分区文件，您需要确保在每个查询中都包含分区列。

分区可能的负面影响...如果您有数十亿行并且您在表上执行 ALTER TABLE 以 - 说 - 添加一列...它将不得不花费很长时间来更新每一行。在我目前工作的公司，老板认为当我们为前进添加新列时，花时间更新历史上的十亿行是不值得的……所以这是我们进行手动分区的原因之一而不是让 MySQL 去做。

免责声明：我不是分区专家......所以如果我在这方面有任何错误，请告诉我，我会修复不正确的部分。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T06:31:42.363

据我所知，您想从一张大表中创建许多表。

我认为您应该尝试创建视图。因为从我对分区的了解来看，它实际上是对该表的物理存储进行分区，然后将它们分开存储。但是，如果您从顶部的角度来看，您会将它们视为一张桌子。

# c# - 从 wcf 服务调用 exe

> ID：15425790
> 
> 赞同：0
> 
> 时间：2013-03-15T06:00:49.557
> 
> 标签：c#, wcf, exe

我们有一项`WCF`服务，我们最近从自托管切换到`IIS-hosted`. 它需要使用`Process.Start()`. 这在自托管时工作正常，但在托管时`IIS`，我们收到错误：

> TimeOutException 未处理

```
void notepad()
{
    System.Diagnostics.Process.Start("notepad").waitForExit();
} 
```

任何帮助，将不胜感激。谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:11:31.140

当您在 IIS 中托管 WCF 服务时，作为服务器，IIS 需要并且不允许用户交互，并且在没有用户登录的情况下也可以工作；在这种情况下，没有 UI 来托管您的记事本或其他启用 UI 的应用程序，您可以执行进程或其他批处理作业但不呈现 Windows UI 应用程序，因为没有为您加载 Windows 资源管理器并且没有地方可以呈现您的进程的用户界面。因此，您可以启动没有 UI 的进程。

# asp.net-mvc - 你调用的对象是空的。POST 时返回 null 的自定义对象

> ID：15425794
> 
> 赞同：0
> 
> 时间：2013-03-15T06:01:12.160
> 
> 标签：asp.net-mvc, c#-4.0, razor, asp.net-mvc-4

我试图在我的视图中创建一个对象列表，但是在 post 方法中，传入的参数为 null。创建页面可以很好地加载我想要的所有信息，但是当我单击“创建”时，我的标题中列出了错误。我做错了什么？

> 员工每天都有与其相关联的可用性。这就是我想要实现的目标

**模型**

```
public class Availability
{

    [Required]
    public long Id { get; set; }

    [Required]
    [DataType(DataType.Text)]
    [Display(Name = "Weekday")]
    public string weekday { get; set; }

    [DataType(DataType.Time)] 
    [Display(Name = "Start Time")]
    public DateTime StartTime { get; set; }

    [DataType(DataType.Time)]
    [Display(Name = "End Time")]
    public DateTime EndTime { get; set; }

    public virtual Employee employee { get; set; }

}
} 
```

**自定义类**

```
public class SetAvailability
{
    public long EmpID { get; set; }
    public String firstName {get; set;}
    public String lastName { get; set; }
    public Availability availability {get; set;}

} 
```

**控制器方法**

```
// GET: /Availability/Create

    public ActionResult  Create(long id)
    {
        string[] weekdays ={"Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"};
        //find the employee
        Employee emp = db.Employees.Find(id);

        //create a list of setAvailability objects for each day 
        List<SetAvailability> editor = new List<SetAvailability>();

        //instantiate each SetAvailability object and populate accordingly for 7 days
        for (int i = 0; i < 7; i++)
        {
            //create a blank SetAvilability
            var _editor = new SetAvailability();

            //create a blank availability
            _editor.availability = new Availability();

            //set the weekday 
            _editor.availability.weekday = weekdays[i].ToString();

            //set the employee id, first name and last name
            _editor.EmpID = emp.Id;
            _editor.firstName = emp.FirstName;
            _editor.lastName = emp.LastName;
            //add the _editor to the editorlist
            editor.Add(_editor);
        }

        return View(editor);

    }

    //
    // POST: /Availability/Create

    [HttpPost]
    public ActionResult Create(List<SetAvailability> dto)
    {
        //dto object is coming in null! (checked by debugging) 
        List<SetAvailability> temp = new List<SetAvailability>();
        temp = dto;

        if (ModelState.IsValid)
        {
            // set the values for each availability object 
            //    breaks here!
            foreach (var item in dto)
            {                    
                // get the employee
                item.availability.employee = db.Employees.Find(item.EmpID);

                // weekday should already be set
                // start and end times should come in from the create view

                db.Availability.Add(item.availability);
            }
            db.SaveChanges();
            return RedirectToAction("Index","employee");
        }

        return View(temp);
    } 
```

**看法**

```
@model List<VolumeV2.Models.DTOs.SetAvailability>

@{
ViewBag.Title = "Create";

}

<h2>Create</h2>

@using (Html.BeginForm()) {
@Html.ValidationSummary(true)

<fieldset>
    <legend>Availability</legend>

    <table>
        <tr>
        @foreach (var item in Model)                
            {               
                    @Html.HiddenFor(model => item.EmpID)
                    @Html.HiddenFor(model => item.firstName)
                    @Html.HiddenFor(model => item.lastName)
            <td>
               @Html.LabelFor(model => item.availability.weekday)
            </td>                
            <td>
               @Html.LabelFor(model => item.availability.StartTime)                
            </td>
            <td>
               @Html.LabelFor(model => item.availability.EndTime)                
            </td>                
            break;
        }
        </tr>
        @foreach (var item in Model){
                    @Html.HiddenFor(model => item.EmpID)
                    @Html.HiddenFor(model => item.firstName)
                    @Html.HiddenFor(model => item.lastName)
            <tr>
                <td>
                @Html.EditorFor(modelitem => item.availability.weekday)
                @Html.ValidationMessageFor(modelitem => item.availability.weekday)
                </td>

                <td>                           
                @Html.EditorFor(modelitem => item.availability.StartTime)
                @Html.ValidationMessageFor(modelitem => item.availability.StartTime)
                </td>

                <td>                          
                @Html.EditorFor(modelitem => item.availability.EndTime)
                @Html.ValidationMessageFor(modelitem => item.availability.EndTime)
                </td>
           </tr>
        }
    </table>
    <p>
        <input type="submit" value="Create" />
    </p>
</fieldset>
}

<div>
@Html.ActionLink("Back to List", "Index")
</div>

@section Scripts {
@Scripts.Render("~/bundles/jqueryval")
} 
```

![在此处输入图像描述](../Images/7640b19ad78eb8bad0393e6506de3c62.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:20:36.737

为了快速解决这个问题，您可以使用“for”循环在列表项上使用索引，因为这将呈现控件的名称以适应 MVC 模型绑定的命名约定。例如，[0].availability.weekday、[1].availability.weekday 等，它们表示具有相应索引的项目数组，以便能够在模型绑定时构造项目列表。

```
@model List<MvcApplication5.Models.SetAvailability>

@using (Html.BeginForm("Create","Employee")) {
@Html.ValidationSummary(true)

<fieldset>
    <legend>Availability</legend>

    <table>
        <tr>
        @for (int i = 0; i < Model.Count; i++)
        {
             @Html.HiddenFor(model => Model[i].EmpID)
                    @Html.HiddenFor(model => Model[i].firstName)
                    @Html.HiddenFor(model => Model[i].lastName)
            <td>
               @Html.LabelFor(model => Model[i].availability.weekday)
            </td>                
            <td>
               @Html.LabelFor(model => Model[i].availability.StartTime)                
            </td>
            <td>
               @Html.LabelFor(model => Model[i].availability.EndTime)                
            </td>                
            break;
        }
        </tr>
        @for (int i = 0; i < Model.Count; i++)
        {
           @Html.HiddenFor(model => Model[i].EmpID)
                    @Html.HiddenFor(model => Model[i].firstName)
                    @Html.HiddenFor(model => Model[i].lastName)
            <tr>
                <td>
                @Html.EditorFor(modelitem => Model[i].availability.weekday)
                @Html.ValidationMessageFor(modelitem => Model[i].availability.weekday)
                </td>

                <td>                           
                @Html.EditorFor(modelitem => Model[i].availability.StartTime)
                @Html.ValidationMessageFor(modelitem => Model[i].availability.StartTime)
                </td>

                <td>                          
                @Html.EditorFor(modelitem => Model[i].availability.EndTime)
                @Html.ValidationMessageFor(modelitem => Model[i].availability.EndTime)
                </td>
           </tr>  
        }
    </table>
    <p>
        <input type="submit" value="Create" />
    </p>
</fieldset>
} 
```

现在，您应该在 POST 之后的列表中看到七个项目。希望这对您有所帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:25:01.440

尝试这个

要在**POST**方法中获取对象集合，它需要修改 Html.BeginForm，在您的应用程序中添加以下 Helper 类，它将返回您的对象列表。（例如 Helper 类 DemoApplication/Models/ 的位置）

```
public static class HtmlPrefixScopeExtensions
    {
        private const string idsToReuseKey = "__htmlPrefixScopeExtensions_IdsToReuse_";

        public static IDisposable BeginCollectionItem(this HtmlHelper html, string collectionName)
        {
            var idsToReuse = GetIdsToReuse(html.ViewContext.HttpContext, collectionName);
            string itemIndex = idsToReuse.Count > 0 ? idsToReuse.Dequeue() : Guid.NewGuid().ToString();

            // autocomplete="off" is needed to work around a very annoying Chrome behaviour whereby it reuses old values after the user clicks "Back", which causes the xyz.index and xyz[...] values to get out of sync.
            html.ViewContext.Writer.WriteLine(string.Format("<input type=\"hidden\" name=\"{0}.index\" autocomplete=\"off\" value=\"{1}\" />", collectionName, html.Encode(itemIndex)));

            return BeginHtmlFieldPrefixScope(html, string.Format("{0}[{1}]", collectionName, itemIndex));
        }

        public static IDisposable BeginHtmlFieldPrefixScope(this HtmlHelper html, string htmlFieldPrefix)
        {
            return new HtmlFieldPrefixScope(html.ViewData.TemplateInfo, htmlFieldPrefix);
        }

        private static Queue<string> GetIdsToReuse(HttpContextBase httpContext, string collectionName)
        {
            // We need to use the same sequence of IDs following a server-side validation failure,  
            // otherwise the framework won't render the validation error messages next to each item.
            string key = idsToReuseKey + collectionName;
            var queue = (Queue<string>)httpContext.Items[key];
            if (queue == null) {
                httpContext.Items[key] = queue = new Queue<string>();
                var previouslyUsedIds = httpContext.Request[collectionName + ".index"];
                if (!string.IsNullOrEmpty(previouslyUsedIds))
                    foreach (string previouslyUsedId in previouslyUsedIds.Split(','))
                        queue.Enqueue(previouslyUsedId);
            }
            return queue;
        }

        private class HtmlFieldPrefixScope : IDisposable
        {
            private readonly TemplateInfo templateInfo;
            private readonly string previousHtmlFieldPrefix;

            public HtmlFieldPrefixScope(TemplateInfo templateInfo, string htmlFieldPrefix)
            {
                this.templateInfo = templateInfo;

                previousHtmlFieldPrefix = templateInfo.HtmlFieldPrefix;
                templateInfo.HtmlFieldPrefix = htmlFieldPrefix;
            }

            public void Dispose()
            {
                templateInfo.HtmlFieldPrefix = previousHtmlFieldPrefix;
            }
        }
    } 
```

修改后你查看

```
 @model List<VolumeV2.Models.DTOs.SetAvailability>

    @{
    ViewBag.Title = "Create";

    }

    <h2>Create</h2>

@Html.ValidationSummary(true)

    @using(Html.BeginForm())
    {

        <fieldset>
            <legend>Availability</legend>

            <table>

                @foreach (var item in Model)                
                    {    

                    @Html.Partial("_partialView",item)
                }

            </table>
            <p>
                <input type="submit" value="Create" />
            </p>
        </fieldset>
      }

        <div>
        @Html.ActionLink("Back to List", "Index")
        </div>

        @section Scripts {
        @Scripts.Render("~/bundles/jqueryval")
        } 
```

创建局部视图 _parttailView.cshtml

```
 @model VolumeV2.Models.DTOs.SetAvailability
     @using DemoApplication.Models  // Added Helper class reference
    <tr>
    @using (Html.BeginCollectionItem("dto")) {

                                @Html.HiddenFor(model => model.EmpID)
                                @Html.HiddenFor(model => model.firstName)
                                @Html.HiddenFor(model => model.lastName)
                        <td>
                           @Html.LabelFor(model => model.availability.weekday)
                        </td>                
                        <td>
                           @Html.LabelFor(model => model.availability.StartTime)                
                        </td>
                        <td>
                           @Html.LabelFor(model => model.availability.EndTime)                
                        </td>                
                        break;

                      }
          </tr> 
```

注意：您必须在 POST 方法中保持 Html.BeginCollectionItem("dto") 和参数名称相同的名称，否则您将无法在 POST 方法中获得值，并且还会在视图中添加**Helper 类引用**。

# php - 通过 Api 将一个 Magento 商店的产品销售到另一个 Magento 网站？

> ID：15425795
> 
> 赞同：0
> 
> 时间：2013-03-15T06:01:20.833
> 
> 标签：php, magento

如何将我的 Magento 商店中的产品销售到其他 Magento 网站（具有不同的数据库、域）。使用 SOAP API 或任何其他方式。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:19:32.713

1.  Magento 有肥皂服务器，您可以在“Magento 管理员”中配置它以与任何肥皂客户端一起使用。

2.  Magento 没有内置soap客户端来与另一个magento作为服务器进行通信。

3.  为了实现您的目标，您必须为 magento 构建自定义模块。

4.  设置 SOAP 帐户：首先，您需要一个特殊的 SOAP 代理用户。在您的应用程序中，您将构建一个 SOAP 客户端，该客户端的行为与常规浏览器有点相同。它将请求 Magento 应用程序中的某个“页面”，但由于该页面只有在您拥有适当的权限时才能访问，因此您需要创建一个用户帐户。

    在我们创建实际用户之前，我们需要先为这个用户创建一个角色。以管理员身份登录 Admin Panel 并浏览到 System，然后是 Webservices，然后是 SOAP/XML_RPC Roles。创建一个新角色并选择此角色授予访问权限的资源。

    在此示例中，我们将添加一个角色“API 完全访问”，该角色具有对所有资源的完全访问权限。在现实生活中，您应该彻底研究哪个角色具有哪些权限足以实现您的目标。添加可以访问和修改所有资源的 API 用户会带来一些额外的安全风险。

    创建角色后，我们需要创建一个 API 用户。浏览到 System，然后是 Webservices，然后是 SOAP/XML-RPC Roles。新用户当然需要一个用户名和一个 API 密钥（可以看作是密码）。记下这个用户名和 API 密钥，因为这些是我们需要在 SOAP 客户端中配置的详细信息。我们将在这里假设用户名“soaper”。在保存新用户之前，请确保选择了正确的用户角色（“API 完全访问”）。

5.  创建 SOAP 客户端：

    ```
    client = new SoapClient('http://mymagentohost/api/soap?wsdl'); 
    ```

    // 如果某些东西需要 api 身份验证， // 然后获取会话令牌 $session = $client->login('apiUser', 'apiKey');

    $result = $client->call($session, 'somestuff.method'); $result = $client->call($session, 'somestuff.method', 'arg1'); $result = $client->call($session, 'somestuff.method', array('arg1', 'arg2', 'arg3')); $result = $client->multiCall($session, array( array('somestuff.method'), array('somestuff.method', 'arg1'), array('somestuff.method', array('arg1', 'arg2')) ));

    // 如果不再需要会话 $client->endSession($session);

    要阅读有关如何创建肥皂客户端的更多信息，请尝试此链接 [http://www.magentocommerce.com/api/soap/introduction.html](http://www.magentocommerce.com/api/soap/introduction.html)！

# javascript - ctags、jsctags/doctorjs、标签栏一步一步

> ID：15425800
> 
> 赞同：6
> 
> 时间：2013-03-15T06:01:32.553
> 
> 标签：javascript, vim, ctags

我在设置 ctags、jsctags 和 tagbar 方面需要帮助，这样我才能拥有一个可行的 Javascript 编辑环境。我安装了所有东西，但不知道 ctags 和 jsctags 如何协同工作，所以我不知道如何正确配置。我已经做了很多谷歌，但信息非常破碎并且缺乏一致性。我收到了与这篇文章类似的错误，[ctags and tagbar configuration are out of sync](https://stackoverflow.com/questions/8570357/ctags-and-tagbar-configuration-are-out-of-sync)。我在 OS X 山狮和 iterm2 上。

任何帮助将不胜感激。一步一步的说明会很好。

谢谢。

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-15T06:50:46.710

首先，您必须了解 jsctags 和 ctags 可能*永远不会*同步。即使您只有一个简单的功能，两个程序也可能输出略有不同的信息。因此，建议使用其中之一*，*但不要同时使用两者。

其次，AFAIK，不需要将 TagBar 配置为使用 jsctags 而不是 ctags。如果你在做 JavaScript，如果它可用，它只会默认为 jsctags。如果你有一个工作的 jsctags，TagBar 不应该抱怨。

第三，对于它自己的标签相关功能（`:tag`、`:tselect`、`<C-]>`等），Vim 仅依赖于一个或多个物理`tags`文件的存在。这些文件是由 ctags、jsctags 还是由whatevertags 生成的，只要它们生成正确就无关紧要。

现在我们到了第四点，这才是真正的痛点：Tagbar 和它的老表亲 TagList 实际上都没有使用物理`tags`文件。他们直接点击 ctags 或 jsctags，甚至不尝试使用或更新任何现有`tags`文件。正因为如此，以及 TagBar 只处理当前缓冲区的事实，你自己的物理`tags`文件（以及 Vim 的标签相关功能）和 TagBar 几乎可以保证不同步。即使您使用相同的索引器。

所以……我建议你使用*ctags*或*jsctags*并忘记任何关于同步 TagBar 和 Vim 的标签相关内容的事情，因为这两者是完全独立的：

*   使用 TagBar 在您当前的缓冲区中理解/导航。

*   使用 Vim 的标签相关功能在您的项目中移动。

* * *

胡思乱想……</p>

*   为了让 Vim 轻松找到你的`tags`文件，你应该把这一行放在你的`~/.vimrc`:

    ```
    set tags=./tags,tags;/ 
    ```

    `./tags`意思是“`tags`在当前文件的目录中查找文件”，`tags`意思是“`tags`在工作目录中查找文件”，`;/`意思是“继续向上查找直到到达`/`”。

*   [TagBar wiki](https://github.com/majutsushi/tagbar/wiki)讨论了 jsctags 中的一个错误，请确保您不关心它。

*   当您编写带有大量回调和自执行函数的疯狂“现代”JavaScript 时，jsctags 比 ctags 更好。如果您的 JavaScript 更传统，ctags 可能就足够了。

# android - 从android应用程序上传图像到服务器

> ID：15425801
> 
> 赞同：1
> 
> 时间：2013-03-15T06:01:47.727
> 
> 标签：android, image, httpwebrequest, put

我正在开发小型 android 应用程序，在该应用程序中，我想使用 put 方法将图像上传到我的服务器，并将图像作为带有 json 对象的请求体。我对此提出了很多问题，这对我有很大帮助。我尝试了以下方式...

```
class ImageUploadTask extends AsyncTask <Void, Void, Void>{
    @Override
      protected Void doInBackground(Void... unused) {

         HttpClient hc = new DefaultHttpClient();
            String message;
            HttpPut p = new HttpPut("https://abc.com");
            JSONObject Jobject = new JSONObject();

            ByteArrayOutputStream bos = new ByteArrayOutputStream();
            bitmap.compress(CompressFormat.JPEG, 100, bos);

            byte[] data = bos.toByteArray();

            Jobject.put("Image", data);

        try {
        message = Jobject.toString();

        p.setEntity(new StringEntity(message, "UTF8"));
        p.setHeader("Content-type", "application/json");
            HttpResponse resp = hc.execute(p);

            if (resp != null) {
                if (resp.getStatusLine().getStatusCode() == 204)
                {

                }
            }

            Log.d("Status line", "" + resp.getStatusLine().getStatusCode());
        } catch (Exception e) {
            e.printStackTrace();

        }
        return null;

    }

    @Override
    protected void onProgressUpdate(Void... unsued) {

    }

    @Override
    protected void onPostExecute(Void result) {
        try {
            if (dialog.isShowing())
                dialog.dismiss();

        } catch (Exception e) {

            Toast.makeText(getApplicationContext(),"Error"+e,
                    Toast.LENGTH_LONG).show();
            Log.e(e.getClass().getName(), e.getMessage(), e);
        }
    }
} 
```

但它不工作。当我尝试执行我的网络调用时，它向我显示系统错误 `java.net.UnknownHostException: abc.com`。我做错了什么。有没有办法做到这一点。需要帮忙。谢谢你。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2016-03-16T15:42:17.367

我试图做同样的事情也许我们可以帮助我们，这是我的代码：

```
private class UploadFileToServer extends AsyncTask<Void, Void, Void> {

    Bitmap image;
    String name;

    public UploadFileToServer(Bitmap img, String name){
        this.image = img;
        this.name = name;

    }
    @Override
    protected Void doInBackground(Void... params) {
        //creation of bytearray
        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
        guardem al byteArrayOutputStream anterior
        this.image.compress(Bitmap.CompressFormat.JPEG, 100, byteArrayOutputStream);
        //codifing image
        String encodedImage = Base64.encodeToString(byteArrayOutputStream.toByteArray(),Base64.DEFAULT);
        //array list creation and add what we want to send
        ArrayList<NameValuePair> dataToSend = new ArrayList<>();
        dataToSend.add(new BasicNameValuePair("image",encodedImage));
        dataToSend.add(new BasicNameValuePair("name",this.name));
        //i have dont understand so much from here to down....
        HttpParams HttpRequestParams = getHttpRequestParams();

        //send data by post server adres is my local api "ip/myapi/index.php"
        HttpClient client = new DefaultHttpClient(HttpRequestParams);
        HttpPost post = new HttpPost(SERVER_ADRESS+"index.php");

        try{
            post.setEntity(new UrlEncodedFormEntity(dataToSend));
//i take this part from you i hope it will work not tryied yet
            HttpResponse response = client.execute(post);
            if (response != null) {
                if (response.getStatusLine().getStatusCode() == 204)
                {
                      //so when you are here its all right?
                }
            }
        } catch (Exception e){
            e.printStackTrace();
        }
        return null;
    }
    private HttpParams getHttpRequestParams(){
        HttpParams HttpRequestParams = new BasicHttpParams();
        HttpConnectionParams.setConnectionTimeout(HttpRequestParams, 1000 * 30);
        HttpConnectionParams.setSoTimeout(HttpRequestParams,1000*30);
        return HttpRequestParams;
    }

    @Override
    protected void onPostExecute(Void aVoid) {
        super.onPostExecute(aVoid);
        Toast.makeText(getApplicationContext(), "image uploaded", Toast.LENGTH_LONG).show();
    }
} 
```

# windows-phone - 如何在 Windows Phone 中添加 UIelement 列表

> ID：15425804
> 
> 赞同：0
> 
> 时间：2013-03-15T06:01:59.113
> 
> 标签：windows-phone, uielement

我想在 windows phone 中创建一个动态控制的页面。在这样做的同时，我还想显示一个进度条

下面是我的代码

```
protected override void OnNavigatedTo(System.Windows.Navigation.NavigationEventArgs e)
{
    base.OnNavigatedTo(e);

    progressstackPanel.Visibility = Visibility.Visible;//progress bar
    formScreen = this;

    Deployment.Current.Dispatcher.BeginInvoke(() =>
    {
        if (!isfst)
        {
             DrawScreen();
        }
        else
        {
            //xTitlePanel is only stack panel in my xaml with vertical orientation
            xTitlePanel.UpdateLayout();
        }
        isfst = true;
        progressstackPanel.Visibility = Visibility.Collapsed;
    });
}

//Code of DrawScreen which is adding control to my stack panels    
private void DrawScreen()
{
     if (frm_getset.ChildList != null)
     {
          String[] arr = frm_getset.ChildList.Split(',');

          xTitlePanel.Children.Clear();

          PrepareControls prepcontrol = new PrepareControls();

          foreach (AttributeGetSet a in _Attribute)
          {
              //this will return a stackpanel containing 
              // button/textbox etc.depending on a
              StackPanel sp = prepcontrol.getControl(i, a.Label, a, formScreen);
              try
              {
                   xTitlePanel.Children.Add(sp);

                   ///Here I get a eception only one control is added first one
                   /// for anyone it is getting a exception Argument    
               }
               catch(Exception ex)
               {
                    Console.WriteLine(ex.Message);
               }

               i += 1;
           } 
```

系统只添加了一个控件，当它尝试执行时`xTitlePanel.Children.Add(sp);`，它会得到一个异常。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-19T12:48:53.400

我解决了问题，“xTitlePanel”是`StackPanel`我在 XAML 中创建的。我发现您不能从 Dispatcher 向 xaml 上创建的控件添加多个元素。像那样。所以我必须创建本地堆栈并将控件添加到该本地堆栈面板，然后在完成后将本地堆栈面板添加到 xTitlePanel。现在我的代码如下所示

```
filteredList = new List<FormGetSet>();
            if (frm_getset.ChildList != null)
            {
                String[] arr = frm_getset.ChildList.Split(',');

                foreach (String x in arr)
                {
                    filteredList.Add(_template.list_fromgetset.Where(p => p.FormID.Contains(x.Trim())).ToList()[0]);
                }
            }
            xTbox_FormNameHeader.Text = frm_getset.NAME;
            _Attribute = new List<AttributeGetSet>();
            _Attribute = frm_getset.list_attributegetset;

            xTitlePanel.Children.Clear();

            StackPanel spPanel = new StackPanel();
            spPanel.Orientation = System.Windows.Controls.Orientation.Vertical;
            spPanel.Background = new SolidColorBrush(Colors.Transparent);
            //xTitlePanel.Children.Add(PrepareControls.getControl(1, "LABEL", "16"));
            int i = 1;
           // List<AttributeGetSet> _Attribute2 = new List<AttributeGetSet>();
            foreach (AttributeGetSet a in _Attribute)
            {
                PrepareControls prepcontrol = new PrepareControls();
                StackPanel sp=  prepcontrol.getControl(i, a.Label, a, this);
                try
                {
                    spPanel.Children.Add(sp);
                }
                catch(Exception ex)
                {
                    Console.WriteLine(ex.Message);
                }
                //xTitlePanel.Background = new SolidColorBrush(Colors.White);
                //_Attribute2.Add(a);
                i += 1;
            }
         xTitlePanel.Children.Add(spPanel); 
```

# asp.net-mvc-4 - MVC4 Web API 中的结构导致路由中断

> ID：15425807
> 
> 赞同：2
> 
> 时间：2013-03-15T06:02:25.637
> 
> 标签：asp.net-mvc-4, asp.net-web-api-routing

我有一个简单的控制器，它带有一个无参数的 Get 和一个带有 id 的 Get。

```
public class BooksController : ApiController
{
    public IEnumerable<string> Get()
    {
        return new string[] { "value1", "value2" };
    }

    public string Get(Identity id)
    {
        return "value";
    }
} 
```

Identity 是一个自定义结构，简化后如下所示：

```
public struct Identity
{
    // ....
    public Identity(Guid value)
    {
        internalValue = value;
    }
} 
```

但是，如果我尝试导航到任一端点，我会收到一条错误消息，指出找到了与请求匹配的多个操作。如果单个资源的 Get 采用 Guid 而不是我的 Identity 结构，则 BooksController 工作得很好。

我的自定义模型活页夹和接线：

```
public class IdentityModelBinder : IModelBinder
{
    public bool BindModel(HttpActionContext actionContext, ModelBindingContext bindingContext)
    {
        Identity identity = new Identity(Guid.Parse(bindingContext.ValueProvider.GetValue(bindingContext.ModelName).AttemptedValue));
        bindingContext.Model = identity;
        return true;
    }
}

GlobalConfiguration.Configuration.BindParameter(typeof(Identity), new IdentityModelBinder()); 
```

请注意，如果将任何参数添加到无参数 Get 中，则上述绑定很好。也就是说，如果我将 BooksController 更改为：

```
public class BooksController : ApiController
{
    public IEnumerable<string> Get(int page, string searchTerm)
    {
        return new string[] { "value1", "value2" };
    }

    public string Get(Identity id)
    {
        return "value";
    }
} 
```

我的路由配置只是开箱即用的示例：

```
 public static void Register(HttpConfiguration config)
    {
        config.Routes.MapHttpRoute(
                name: "DefaultApi",
                routeTemplate: "api/{controller}/{id}",
                defaults: new { id = RouteParameter.Optional }
        );
    } 
```

然后我可以正确导航到两个端点。如何设置我的 BooksController 以允许无参数 Get 和接受我的自定义身份的 Get？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T18:15:30.953

我想我已经找到了麻烦的根源，但我没有找到解决办法。

在 Web API ApiControllerActionSelector 中，特别是在 ActionCacheSelectorItem.ctor 中，解析动作参数的逻辑是：

```
_actionParameterNames.Add(
       actionDescriptor,
       actionBinding.ParameterBindings
                    .Where(binding => !binding.Descriptor.IsOptional && TypeHelper.IsSimpleUnderlyingType(binding.Descriptor.ParameterType) && binding.WillReadUri())
                    .Select(binding => binding.Descriptor.Prefix ?? binding.Descriptor.ParameterName).ToArray()); 
```

不幸的是，这意味着参数列表中只会包含简单类型（原始类型、日期时间、guid 等）。如果我扩展上面的过滤器逻辑以考虑参数是否可以像这样从字符串转换，我可以让我的结构显示在参数列表中：

```
_actionParameterNames.Add(
       actionDescriptor,
       actionBinding.ParameterBindings
                    .Where(binding => !binding.Descriptor.IsOptional && 
                          (TypeHelper.IsSimpleUnderlyingType(binding.Descriptor.ParameterType) ||
                          TypeHelper.HasStringConverter(binding.Descriptor.ParameterType)) && 
                          binding.WillReadUri())
                    .Select(binding => binding.Descriptor.Prefix ?? binding.Descriptor.ParameterName).ToArray()); 
```

我希望我错了。如果事实证明我被卡住了，我会在冷却期后回来并将其标记为答案。

# javascript - 如何使用 jQuery 清空剑道编辑器？

> ID：15425811
> 
> 赞同：2
> 
> 时间：2013-03-15T06:02:58.607
> 
> 标签：javascript, jquery, kendo-ui

我尝试用 清理剑道编辑器文本区域下的值`$("#kedoEditorId").val('')`，但这对我不起作用。

有没有办法删除剑道编辑器上的值？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-03-15T06:06:08.663

```
var editor = $("#editor").data("kendoEditor");

// set value
editor.value("<p>new content</p>");

// get value
var htmlValue = editor.value(); 
```

直接来自文档：[http ://docs.kendoui.c​​om/api/web/editor](http://docs.kendoui.com/api/web/editor)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2016-04-11T17:50:57.630

html

```
@Html.EditorFor(model => model.JobDescription) 
```

jQuery

```
var editor = $("#JobDescription").data("kendoEditor");
if(ediot!=null)
{
  editor.value("new values");
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2018-04-26T09:33:46.437

您可以集中使用所有具有数据角色编辑器的人，因为 kendo UI 编辑器附加了数据角色编辑器。对于您可以使用的多个文本编辑器。

```
var editor = $("textarea[data-role=\'editor\']").data("kendoEditor");
if(editor!=null){ editor.value(""); } 
```

# java - 使用数组和多种方法进行编码给了我错误并且无法弄清楚原因

> ID：15425813
> 
> 赞同：0
> 
> 时间：2013-03-15T06:03:09.537
> 
> 标签：java, arrays, loops, methods, split

这是我的代码，我以为我输入的所有内容都是正确的：

```
import java.util.*;
import java.io.*;

public class Proj5 {
public static void main(String[] args)throws IOException{
    Scanner s = new Scanner(System.in);
    int [] quizKey = {1,1,2,2,1,1,3,2,4,1,3,5,4,1,2};
    String [] userAnswers = new String[100];
    String [] wid = new String[100];
    int [][] userIndividualAnswers = new int[quizKey.length][userAnswers.length];
    int [] numCorrect = new int[quizKey.length];
    int max;
    int min;

    int lines=0;
    readInText();
    s = readInText();
    while(s.hasNext()){
        String line = s.nextLine();
        String[] tokens = line.split(",");
        wid[lines] = tokens[0];
        userAnswers[lines] = tokens[1];
        lines ++;

    }// end while loop
    int[][] userAnswersInt = new int[quizKey.length][lines];
    numCorrect = gradeSingleQuiz(lines, quizKey, userAnswers, numCorrect, userAnswersInt);
    double[] percentCorrect = new double[lines];
    percentCorrect = percentCorrect(lines, numCorrect, quizKey);
    char[] grades = new char[lines];
    grades = grade(numCorrect, lines);

    displayOutput(wid, lines, numCorrect, grades, percentCorrect);
}//end main

public static Scanner readInText()throws IOException{
    Scanner inFile = new Scanner(new File("QuizScores.txt"));
    return inFile;

}// end readInText

public static String[] userAnswers(String userAnswers[]){
    return userAnswers;
}

public static int[] gradeSingleQuiz(int lines, int quizKey[], String userAnswers[], int numCorrect[], int userAnswersInt[][]){
    for (int j=0; j<=lines; j++){
    numCorrect[j]=0;
        long[] ara = new long[lines];
        long[] abc = new long[lines];
        ara [j] = Long.parseLong(userAnswers[j]);
    for(int p=0; p<userAnswersInt.length; p++){
        abc [p] = ara[j]%10;
        ara[j] = userAnswersInt[j][p];

    }
    for(int n=0; n<=quizKey.length; n++){

        if(userAnswersInt[j][n]==(quizKey[n])){
                    numCorrect[j]++;    
            }
    }
    }//end for loop

return numCorrect;
}// end gradeSingleQuiz

public static int max(int max, int numCorrect[]){
    max = numCorrect[0];
    for(int r=1; r<numCorrect.length; r++){
        if(numCorrect[r]>max){
            max=numCorrect[r];
        }
    }
return max;
}

public static int min(int min, int numCorrect[]){
    min = numCorrect[0];
    for(int r=1; r<numCorrect.length; r++){
        if(numCorrect[r]<min){
            min=numCorrect[r];
        }
    }
return min;
}

public static char[] grade(int numCorrect[], int lines){
    char[] grade = new char[lines];
    for (int j=0; j<=lines; j++){

        if(numCorrect[j]>=14)
            grade[j]='A';
        else if((numCorrect[j]>=12)&&(numCorrect[j]<14))
            grade[j]='B';
        else if((numCorrect[j]>=11)&&(numCorrect[j]<12))
            grade[j]='C';
        else if ((numCorrect[j]>=9)&&(numCorrect[j]<11))
            grade[j]='D';
        else
            grade[j]='F';
    }
    return grade;
}//end grade

public static double[] percentCorrect(int lines, int numCorrect[], int quizKey[]){
    double[] centCorrect = new double[100];
    for (int j=0; j<=lines; j++){
    centCorrect[j] = numCorrect[j]/quizKey.length;
    }
return centCorrect;
}

public static void averageScore(int lines, double percentCorrect[]){
    double add=0;

for(int d=0; d<=lines; d++){    
        add = percentCorrect[d] + add;
    }//end for loop
    System.out.println("Average: " + add + "%");
}// end averageScore

public static void displayOutput(String wid[], int lines, int numCorrect[], char grades[], double percentCorrect[]){
    System.out.println("Student ID    # Correct    %Correct    Grade");
    for(int i=0; i<lines; i++){
        System.out.println(wid[0] + "    " + numCorrect[i] + "    " +
                (percentCorrect[i]) + "    " + grades[i]);  
    }

}// end display output

}//end class 
```

但是当我尝试编译并运行它时，它给了我这些错误：

```
Exception in thread "main" java.lang.NumberFormatException: For input string: "112211324135412"
at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
at java.lang.Integer.parseInt(Integer.java:495)
at java.lang.Integer.parseInt(Integer.java:527)
at Proj5.gradeSingleQuiz(Proj5.java:52)
at Proj5.main(Proj5.java:27) 
```

我在想也许我没有将该数字的字符串转换为 int 正确但回头看我想我做了，我真的只是不知道这些错误是什么。根据eclipse，在编译之前代码没有任何问题。

我从中提取的文字是这个。

```
4563123,112211324135412
2312311,222121324135211
2312345,112211324135421
5527687,212111313124412
7867567,111111111111111 
```

第一个数字是学生证，第二个数字是基于数字的答案；T=1 F=2 A=1 B=2 等等。

提前致谢。

编辑：

将我上面的代码更改为 Long 并修复了这些错误，但现在它给了我一个超出范围的异常 5`abc [p] = ara[j]%10;`我知道这不是我的原始问题，但如果有人能告诉我为什么会这样，我会非常感激，我是不是觉得 5 没有出界？

再次感谢

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T06:05:21.353

`112211324135412`不是**int number**，它显然是 outta `int range(-2,147,483,648 and a maximum value of 2,147,483,647 (inclusive))`，请尝试使用`Long.parseLong(str)`。

```
 long[] ara = new long[lines];
    ara [j] = Long.parseLong(userAnswers[j]); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:06:50.507

"112211324135412" => 你可以解析这个字符串，溢出 int。

# windows-phone-8 - Windows Phone 应用程序外的应用程序内购买？

> ID：15425822
> 
> 赞同：0
> 
> 时间：2013-03-15T06:03:37.020
> 
> 标签：windows-phone-8

是否可以在应用外购买应用内产品？场景是我们想提供两种应用内产品：

*   优质的
*   高级免费

两种产品都提供相同的功能，但“Premium Free”仅限于少数选定的用户。我们不希望其他用户能够购买“Premium Free”产品。

如果应用程序没有提供“Premium Free”产品的购买链接，用户是否有可能以某种方式购买该产品？

**更新：**

这个想法是通过应用程序提供“高级”和“高级免费”。但“Premium Free”仅限于提供正确代码的用户。所以：

1.  应用程序显示页面“获取高级包”
2.  该页面包含优惠券代码字段
3.  如果用户提供优惠券代码，她将被定向到“Premium Free”产品（Windows Phone Store 上的应用程序内产品）。
4.  如果没有提供优惠券代码，用户将被带到“Premium”产品（Windows Phone Store 上的应用程序内产品）。

令人担心的是，用户会找到一种无需优惠券代码即可获得“Premium Free”包的方法。从应用程序外部。例如，如果产品在商店中有一个直接链接（URL，我不知道应用内产品是否有它们）并且用户用手机打开链接，她可以在应用程序“外部”获取产品。

如果访问应用内产品的唯一方法是通过应用，上述步骤应该没问题。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T21:06:26.010

不可能做您所描述的事情（在应用程序之外创建 IAP），但您可以做一些非常相似的事情。

与其尝试在应用程序之外向某些用户提供某些东西，不如在应用程序中拥有仅对某些用户可用的东西。
市场认证指南中没有任何内容可以阻止您实施这一点。显然，这是如何实现的将取决于您的应用程序。如果有问题的应用程序允许（或要求）用户登录，则可以将设置添加到帐户详细信息中，以控制哪些 IAP 选项可用。如果有问题的应用程序不支持或没有用户帐户，您需要指出他们可以使用的特殊选项。一个这样的选项可能是允许在应用程序的某处输入解锁代码，这可能允许访问特殊的 IAP 选项。当然，如果目标是通过 IAP 提供免费物品，您可以在输入解锁码时在应用程序中提供它们。

**更新**不，为 IAP 定义的产品不能在您的应用程序之外购买。最初我认为问题是锄头去做。

# apache-pig - 猪步执行细节

> ID：15425829
> 
> 赞同：2
> 
> 时间：2013-03-15T06:04:38.990
> 
> 标签：apache-pig

我是猪的新手。

我在 pig 中编写了一个小脚本，其中我首先从两个不同的表中加载数据并进一步右外连接这两个表，然后我还有下一个表连​​接两个不同的 st 数据。它工作正常。但我想看看执行的步骤，比如我的数据是在哪一步加载的，我可以记下加载**数据加入**步骤的后续细节所需的时间，比如加入这些记录需要多少时间。

基本上我想知道我的猪脚本的哪一部分需要更长的时间来运行，这样我就可以进一步优化我的猪脚本。

无论如何，我们可以在脚本中 println 并找出执行了哪些步骤已经开始执行。

通过 jobtracker 详细信息链接，我无法获得太多信息，只能看到 mapper 正在运行并且 reducer 正在运行，但理想情况下，脚本的哪一部分正在运行的 mapper 找不到。

例如，对于 hive 作业运行，我们可以在 jobtracker 详细信息链接中查看当前正在执行哪个步骤。

任何信息都会非常有帮助。

提前致谢 。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T11:16:40.323

我建议你看看以下内容：

*   Pig 的[进度通知监听器](http://pig.apache.org/docs/r0.11.0/test.html#ppnl)
*   [Penny](https://cwiki.apache.org/confluence/display/PIG/Penny)：这是一个监控工具，但我担心它最近没有更新（例如：除非你做一些代码更改，否则它不会为 Pig 0.12.0 编译）
*   Twitter 的 Ambrose 项目。[https://github.com/twitter/ambrose](https://github.com/twitter/ambrose)

另一方面，执行脚本后，您可以看到有关每个别名执行时间的详细统计信息（请参阅：*作业统计（以秒为单位的时间）*）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T13:47:11.453

看看[`EXPLAIN`运营商](http://ofps.oreilly.com/titles/9781449302641/developing_and_testing.html)。这不会在代码执行时为您提供实时统计信息，但它应该为您提供有关脚本生成的 MapReduce 计划的足够信息，以便您能够将 MR 作业与脚本中的步骤相匹配。

此外，当您的脚本运行时，您可以检查 Hadoop 作业的配置。查看变量“pig.alias”和“pig.job.feature”。这些分别告诉您，您的哪些别名（表/关系）涉及该作业以及正在使用哪些 Pig 操作（例如，HASH_JOIN 用于一个`JOIN`步骤，SAMPLER 或 ORDER BY 用于一个`ORDER BY`步骤，等等）。完成后输出到控制台的作业统计信息也提供此信息。

# c# - 在某些条件下显示特定单词 Eval Asp.net

> ID：15425833
> 
> 赞同：1
> 
> 时间：2013-03-15T06:05:06.807
> 
> 标签：c#, asp.net, gridview, eval, repeater

```
<asp:Label ID="lblLeaveStatus" runat="server" Font-Bold="true" Text='<%# Eval("Leave_Status").ToString() == 'A' ? 'Approved' : 'Applied' %>'></asp:Label> 
```

`GridView`在某些条件下显示特定单词的条件

像这样的事情可以解决吗`Gridview`

**我收到错误服务器标签格式不正确**

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-15T06:21:15.897

试试这个

```
<asp:Label ID="lblLeaveStatus" runat="server" Font-Bold="true" Text='<%# Eval("Leave_Status").ToString() .Equals ( "A") ? "Approved" : "Applied" %>'></asp:Label> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T06:20:28.647

使用下面的代码：

```
<% if(Eval("Leave_Status").ToString() == "A"{%>

<asp:Label ID="lblLeaveStatus" runat="server" Font-Bold="true" Text="Approved"></asp:Label>

<%}
else {
%>
<asp:Label ID="lblLeaveStatus" runat="server" Font-Bold="true" Text="Applied"></asp:Label>

<%}%> 
```

# ruby-on-rails - Rails Capybara 看不到字段

> ID：15425839
> 
> 赞同：1
> 
> 时间：2013-03-15T06:05:27.140
> 
> 标签：ruby-on-rails, ruby-on-rails-3, rspec, capybara

我觉得我在这里要疯了。对我的 Post 模型进行常规水豚测试。具体来说，确保新页面在有效提交后重定向到新创建的帖子。所以在我的规范/请求文件夹中，我有这个：

```
describe "Valid post submission --" do

    it "should log in a user and redirect to new post" do

      # Sign in works find, so I won't reproduce it

      # Make a blogpost
      Post.destroy_all
      fill_in :name_here, with: "Post Name Here"
      fill_in :content_here, with: "This is the content of a really short post."
      screenshot_and_open_image
      click_on "Post It"
      screenshot_and_open_image
      puts current_path
      page.should have_selector 'h2', text: "prohibited this post"
      page.should have_selector 'h1', text: "Post Name Here"
      page.should have_selector '.alert', text: "Post was successfully created."
      page.should have_selector 'title', text: full_title('Post Name Here')

    end 
```

屏幕截图和放置是为了澄清发生了什么。基本上有两种不同的情况。在

1.  我只是保留这些字段并测试默认 ID（“post_name”和“post_content”）；显然上述测试是针对情况二的：
2.  我将字段 id 更改为“name_here”和“content_here”，以测试标签名称或其他任何内容是否存在干扰。那就是上面的规格。

在情况 2 中，帖子被拒绝，因为 Capybara 找不到任何一个字段。

在情况 1 中，只有内容为空，但名称字段将填充**内容。**

情况 1 中的精确错误是：

```
2) Posts Invalid post - should refresh with error if content empty
     Screenshot: /Users/myusername/rails/appname/tmp/capybara/screenshot_2013-03-14-22-37-36.634.png
     Failure/Error: fill_in :post_name, with: "Post Name Here"
     Capybara::ElementNotFound:
       cannot fill in, no text field, text area or password field with id, name, or label 'post_name' found
     # (eval):2:in `fill_in'
     # ./spec/requests/posts_spec.rb:43:in `block (3 levels) in <top (required)>' 
```

案例 2 不会引发关于找不到适当内容的错误，我相信是因为标签也具有该 id。

这很荒谬，因为我在测试期间拍摄了 HTML 的快照，就在它出错之前。这是案例 2——除了 ID 不同之外，这两种情况看起来 90% 相同：

```
<form accept-charset="UTF-8" action="/posts" class="new_post" id="new_post" method="post">
 <div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"></div>
 <div class="field">
  <label for="post_name">Name</label>
   <br><input id="name_here" name="post[name]" size="30" type="text">
 </div>
 <div class="field text-area">
  <label for="post_content">Content</label>
  <br><textarea cols="50" id="content_here" name="post[content]" rows="20"></textarea>
 </div>
 <div class="actions btn-group">
  <input class="btn" name="commit" type="submit" value="Post It">
 </div>
</form> 
```

请注意 post_content 字段的明确存在。在两者都失败的情况下（案例 1），同时存在 content_here 和 name_here 字段。所以领域就在那里。水豚通常可以正常工作（这种事情可以在我的应用程序的其他部分找到）。问题不在于标签名称冲突，因为在输入字段上放置不同的 id 无助于水豚找到它们。

顺便说一句，这一切在现实中都完美无缺。

知道这里发生了什么吗？我非常沮丧/一无所知。

**更新**——按照 user2172816 的建议，我更改了 HAML，因此 HTML 如下所示：

```
<form accept-charset="UTF-8" action="/posts" class="new_post" id="new_post" method="post">
 <div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓"></div>
 <div class="field">
  <label for="post_name">Name</label>
  <br><input id="name" name="post[name]" size="30" type="text">
 </div>
 <div class="field text-area">
  <label for="post_content">Content</label>
  <br><textarea cols="50" id="content" name="post[content]" rows="20"></textarea>
 </div>
 <div class="actions btn-group">
  <input class="btn" name="commit" type="submit" value="Post It">
 </div>
</form> 
```

测试现在看起来像这样：

```
 # Make a blogpost
  Post.destroy_all
  fill_in "Name", with: "Post Name Here"
  fill_in "Content", with: "This is the content of a really short post."
  page.should have_selector 'h2', text: "prohibited this post"
  page.should have_selector 'h1', text: "Post Name Here"
  page.should have_selector '.alert', text: "Post was successfully created."
  page.should have_selector 'title', text: full_title('Post Name Here') 
```

但它仍然出错（在同一规范的新部分中也是如此！）：

```
 1) Posts Invalid post - should refresh with error if content empty
     Screenshot: /Users/username/rails/appname/tmp/capybara/screenshot_2013-03-14-23-54-38.072.png
     Failure/Error: fill_in :name, with: "Post Name Here"
     Capybara::ElementNotFound:
       cannot fill in, no text field, text area or password field with id, name, or label 'name' found
     # (eval):2:in `fill_in'
     # ./spec/requests/posts_spec.rb:43:in `block (3 levels) in <top (required)>'

  2) Posts Invalid post - should refresh with error if name empty
     Screenshot: /Users/username/rails/appname/tmp/capybara/screenshot_2013-03-14-23-54-38.274.png
     Failure/Error: fill_in :name, with: ""
     Capybara::ElementNotFound:
       cannot fill in, no text field, text area or password field with id, name, or label 'name' found
     # (eval):2:in `fill_in'
     # ./spec/requests/posts_spec.rb:33:in `block (3 levels) in <top (required)>'

  3) Posts Valid post submission -- should log in a user and redirect to new post
     Screenshot: /Users/username/rails/appname/tmp/capybara/screenshot_2013-03-14-23-54-38.459.png
     Failure/Error: fill_in :name, with: "Post Name Here"
     Capybara::ElementNotFound:
       cannot fill in, no text field, text area or password field with id, name, or label 'name' found
     # (eval):2:in `fill_in'
     # ./spec/requests/posts_spec.rb:67:in `block (3 levels) in <top (required)>' 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-15T06:30:56.183

label 的属性“for”应该是输入元素的“id”，即

```
<label for="name_here">Name</label>
   <br><input id="name_here" name="post[name]" size="30" type="text"> 
```

在规范中，您应该调用：

```
fill_in 'Name', with: "Post Name Here" 
```

# google-maps - 如何在黑莓应用程序中添加谷歌地图？

> ID：15425840
> 
> 赞同：0
> 
> 时间：2013-03-15T06:05:30.183
> 
> 标签：google-maps, blackberry

如何在黑莓应用程序中添加谷歌地图？

我正在做基于位置的项目，并且在他们提供的官方网站上，因为***您不能使用 Google API***。有没有其他方法可以代替下载地图并执行此操作？我可以将其重定向到谷歌地图吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:18:42.730

您只需将纬度和经度传递给以下代码。

```
 StringBuffer html;
    String initial = "<!DOCTYPE html>\r\n" +
    "<html> \r\n" +
    "<head> \r\n" +
    "  <meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\" /> \r\n" +
    "  <title>Google Maps Multiple Markers</title> \r\n" +
    "  <script src=\"http://maps.google.com/maps/api/js?sensor=true\" \r\n" +
    "          type=\"text/javascript\"></script>\r\n" +
    "</head> \r\n" +
    "<body>\r\n" +
    "  <div id=\"map\" style=\"width: 343px; height: 385px;\"></div>\r\n" +
    "\r\n" +
    "  <script type=\"text/javascript\">\r\n" +
    "    var locations = [";
    String second= " ];\r\n" +
    "\r\n" +
    "    var map = new google.maps.Map(document.getElementById('map'), {\r\n" +
    "      zoom: 8,";
    String centerPoint ="";
    String finalpart = " mapTypeId: google.maps.MapTypeId.ROADMAP\r\n" +
    "    });\r\n" +
    "\r\n" +
    "    var infowindow = new google.maps.InfoWindow();\r\n" +
    "\r\n" +
    "    var marker, i;\r\n" +
    "\r\n" +
    "    for (i = 0; i < locations.length; i++) {  \r\n" +
    "      marker = new google.maps.Marker({\r\n" +
    "        position: new google.maps.LatLng(locations[i][1], locations[i][2]),\r\n" +
    "        map: map\r\n" +
    "      });\r\n" +
    "\r\n" +
    "      google.maps.event.addListener(marker, 'click', (function(marker, i) {\r\n" +
    "        return function() {\r\n" +
    "          infowindow.setContent(locations[i][0]);\r\n" +
    "         \r\n" +
    "        }\r\n" +
    "      })(marker, i));\r\n" +
    "    }\r\n" +
    "  </script>\r\n" +
    "</body>\r\n" +
    "</html>";
    html=new StringBuffer();
    html.append(initial);

        String point = "['"+""+"',"+lattitude+","+longitude+","+""+"],";

        html.append(point);
    centerPoint = "  center: new google.maps.LatLng("+lattitude+","+longitude+"),";
    html.append(second);
    html.append(centerPoint);
    html.append(finalpart);
    BrowserFieldConfig _bfConfig = new BrowserFieldConfig();        
      _bfConfig.setProperty(BrowserFieldConfig.NAVIGATION_MODE,BrowserFieldConfig.NAVIGATION_MODE_POINTER);
      _bfConfig.setProperty( BrowserFieldConfig.JAVASCRIPT_ENABLED, Boolean.TRUE );
  _bfConfig.setProperty(BrowserFieldConfig.USER_AGENT, "MyApplication 1.0");
  BrowserField myBrowserField = new BrowserField(_bfConfig);
  myBrowserField.displayContent(html.toString(), "");
  HorizontalFieldManager horf=new HorizontalFieldManager(HORIZONTAL_SCROLL);
  horf.add(myBrowserField);
  add(horf); 
```

# jquery - jquery mobile - 在iPhone中加载长ListView时页面闪烁

> ID：15425842
> 
> 赞同：3
> 
> 时间：2013-03-15T06:05:30.890
> 
> 标签：jquery, ios, cordova, jquery-mobile, backbone.js

我正在为 ios 开发一个电话间隙应用程序，并使用 Backbone.js jQuerymobile 和 jQuery 来加载我的列表视图。

当长列表视图加载或刚刚变得可见时，页面会闪烁。长度较小的列表视图（如 6 到 7 个元素）不会发生这种情况。

我已经`-webkit-backface-visibility: hidden;`用于`.ui-page`. 我在android中没有遇到这个问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-31T21:59:22.153

我的页面闪烁是由于 dom reflow 造成的。

因为我动态地向列表视图添加内容，所以每次我向列表视图添加一个元素时都会发生 dom 回流，这会导致我的页面闪烁。

我更改了圆顶结构，以确保元素直接位于 with data-role="content" 下，这样回流不会影响任何其他元素。

# java - 无法运行 ant build.xml

> ID：15425848
> 
> 赞同：0
> 
> 时间：2013-03-15T06:05:43.607
> 
> 标签：java, ant, build.xml

我有一个使用 ANT 构建的项目。当我尝试运行 buld.xml 时，它显示以下错误。

```
BUILD FAILED
C:\Users\user3\workspace\cube_web\build.xml:64: Unable to find a javac compiler;
com.sun.tools.javac.Main is not on the classpath.
Perhaps JAVA_HOME does not point to the JDK.
It is currently set to "C:\jdk1.7" 
```

我应该怎么办？谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:12:51.130

错误消息本身包含解决方案

> 也许 JAVA_HOME 不指向 JDK。

1.  您需要检查环境变量中是否有 JAVA_HOME 指向 JDK bin 目录。
2.  尝试编译并运行一个简单的 java 程序，看看它是否有效。

如果您使用的是 Windows

*   右键单击我的电脑图标。
*   从上下文菜单中选择属性。单击高级选项卡。
*   单击环境变量。找到 PATH 环境变量并选择它。单击编辑。如果 PATH 环境变量不存在，请单击新建。
*   确保它指向jdk 中的**bin**目录。

# c# - 如何保存在以逗号分隔的arrayList字符串中

> ID：15425851
> 
> 赞同：0
> 
> 时间：2013-03-15T06:05:46.350
> 
> 标签：c#, vb.net

我有像这样的文本框`=101,102,103,104`

我想将此值保存`ArrayList`为以下格式

```
GVNo
-----
101
102
103
104 
```

稍后保存在下表中的`gvno`列中

我的表在 SQL Server 2008 和 vb.net 2010 中发出DetailId、detailId、gvno`

那么我如何使用我以前从未使用过的 arralylist 循环存储详细信息表。并且表中的 gvno 字段是数字类型

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T06:11:30.670

Dim vasList() As String = Split(TextBox1.Text,",")

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T06:30:26.400

此代码会将拆分后的文本存储到`arraylist`,

```
Dim xArrayList As ArrayList = New ArrayList(TextBox1.text.Split(",")) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T06:44:35.477

如果您只想将字符串条目直接保存到数据库中，我认为您应该执行以下操作：

```
 Dim test As String = "string1, string2, string3, string4"

    With MyDBConnection
        Dim transaction As OleDbTransaction
        Try
            Call .Open()
            transaction = .BeginTransaction()
            With .CreateCommand()
                .Transaction = transaction
                For Each entry As String In test.Split(","c)
                    .CommandText = String.Format("INSERT INTO [Table] ([Column]) VALUES ({0})", entry)
                    Call .ExecuteNonQuery()
                Next
            End With
            Call transaction.Commit()
        Catch ex As Exception
            ' Handle exception here
            Call transaction.Rollback()
        Finally
            Call .Close()
        End Try
    End With 
```

这将获取字符串并将它们按原样插入到数据库中。当您接受用户输入时，您应该真正在查询中使用参数，而不是像我在这里所做的那样使用简单的字符串......

如果您需要验证字符串，请在访问数据库之前使用“.split”函数。您可以执行类似`Dim MyArray() as string = MyInput.Split(","c)`将值转储到数组中的操作。

希望这对您有所帮助。

# wordpress - 需要克隆现有的 wordpress 管理页面

> ID：15425852
> 
> 赞同：0
> 
> 时间：2013-03-15T06:05:48.757
> 
> 标签：wordpress

我需要创建一个新页面，该页面将具有与管理员页面相同的功能。我有一个由**/wp-admin/post-new.php?post_type=shop_order**访问的页面。我已经用名称“new-post0.php”复制了这个页面，但是当我访问新的克隆页面时，它的内容是不同的！我在注册这个新页面时遗漏了什么？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T07:00:04.133

您不应该复制和粘贴 Wordpress 核心文件。这就是所谓的“破解核心”，非常非常糟糕。 [http://websynthesis.com/dont-hack-wordpress-core/](http://websynthesis.com/dont-hack-wordpress-core/)

相反，您应该将“新帖子”页面开发为新的自定义帖子类型。

你可以在这里了解它们：http: [//codex.wordpress.org/Post_Types](http://codex.wordpress.org/Post_Types)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T07:00:02.707

您发布的链接`/wp-admin/post-new.php?post_type=shop_order`是指自定义帖子类型的新帖子页面。

要获得这样的另一个页面，您需要创建另一个[自定义帖子类型](http://codex.wordpress.org/Post_Types)并添加[自定义元字段](http://codex.wordpress.org/Custom_Fields)。

如果您无法对其进行编码，则可以使用一些插件来实现相同的结果。 [自定义帖子类型 UI](http://wordpress.org/extend/plugins/custom-post-type-ui/)为自定义字段创建自定义帖子类型和[ACF](http://www.advancedcustomfields.com/)。现在，您应该从 Github 下载 ACF。

# php - jQuery/Ajax 联系表单不起作用

> ID：15425854
> 
> 赞同：2
> 
> 时间：2013-03-15T06:05:57.430
> 
> 标签：php, jquery, ajax

我是 jQuery 的新手。我正在尝试提交联系表格，并显示感谢您提供反馈的消息。我查看了 NetTuts+ 上的教程。我的表单没有被提交。这是我的代码：

jQuery

```
<script src="jquery.js"></script>
<script>
    $(document).ready(function() {
        $('.error').hide();
        $("#submitButton").click(function() {
            $('.error').hide();  
            var name = $("input#name").val();  
            if (name == "") {  
                $("label#name_error").show();  
                $("input#name").focus();  
                return false;  
            }  
            var email = $("input#email").val();  
            if (email == "") {  
                $("label#email_error").show();  
                $("input#email").focus();  
                return false;  
            }  
            var companyName = $("#usermessage").val();  
            if (companyName == "") {  
                $("label#message_error").show();  
                $("input#usermessage").focus();  
                return false;  
            } 
            var subject=$("#subject option:selected").text();
            var dataString = 'name='+ name + '&email=' + email + '&message=' + companyName;  
            //alert (dataString);return false;  
            $.ajax({  
                type: "POST",  
                url: "mailer.php",  
                data: dataString,  
                success: function() {  
                    $('#contact_form').html("<div id='message'></div>");  
                    $('#message').html("<h2>Contact Form Submitted!</h2>")  
                        .append("<p>We will be in touch soon.</p>")  
                        .hide()  
                        .fadeIn(1500, function() {  
                            $('#message').append("Thank you");  
                        });  
                }  
            });  
            return false; 
        }); 
    });
</script> 
```

PHP

```
<?php
    $mailTo = 'varma.anirudh12@gmail.com';
    $name = htmlspecialchars($_POST['name']);
    $mailFrom = htmlspecialchars($_POST['email']);
    $subjectNumber = htmlspecialchars($_POST['subject']);
    $message_text = htmlspecialchars($_POST['msg']);
    switch ($subjectNumber)
    {
        case 0:
            $subject='Sales';
            break;
        case 1:
            $subject='Careers';
            break;
        case 2:
            $subject='Other';
            break;
    }
    $dataString=htmlspecialchars($_POST['dataString']);
    //$message =  'From: '.$name.'; Email: '.$mailFrom.' ; Message: '.$message_text;

    $sendcon=mail($mailTo, $subject, $message);
    if ( isset($_GET["ajax"]) ) {
        echo $sendcon ? "success" : "error";
    } else {

}

?> 
```

问题是在按下提交按钮时，什么也没有发生。javascript 控制台上没有错误。我认为我的 php 不正确并且没有监听 Ajax 数据，正如 apache 的错误日志所说`PHP Notice: Undefined index: dataString`。

我哪里错了？谢谢

**编辑：我在 ubuntu 机器上的 localhost 上运行它，我已经设置了邮件服务器并使用测试电子邮件对其进行了测试**

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:11:36.553

您应该尝试以下方法：

```
$.post("mailer.php", { name: "John", email: "jsmith@xyz.com" } ); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-25T07:03:06.227

如果我们也能看到您的表单代码，那将很有用。我在这里整理了一个教程：http: [//blog.fraser-hart.co.uk/ajax-contact-form-tutorial/](http://blog.fraser-hart.co.uk/ajax-contact-form-tutorial/)

您可以下载文件并将它们与您想出的内容进行比较。通读一遍，如果您对任何工作方式有任何疑问，请告诉我，我会为您指明正确的方向

# scala - 提升 JSON LINQ 类动态提取模式

> ID：15425855
> 
> 赞同：2
> 
> 时间：2013-03-15T06:06:02.850
> 
> 标签：scala, lift, scala-2.10, scala-2.9, lift-json

我正在尝试使用 Lift JSON 执行基于 XPath 的提取，但提取的 xpath 模式是在运行时确定的

为了说明，我想使用 (json \ "a" \ "b" \ "c").extract[List[Int]] 将字符串“abcd”转换为 Lift JSON 提取

```
import net.liftweb.json._
import net.liftweb.json.JsonDSL._
import net.liftweb.json.JsonAST._
import net.liftweb.json.Extraction._
implicit val formats = net.liftweb.json.DefaultFormats

val x = """{ "a" : { "b" : [ {"c" : 10},{ "c" : 20 } ] } }""" 
val json = parse(x)

val dataString = "a.b.c"

val dataList = dataString.split("\\.").toList
// List(a,b,c) 
```

// 我想把上面的字符串转换成 - (json \ "a" \ "b" \ "c").extract[List[Int]]

是否可以使用 foldLeft 来实现这种模式？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T11:37:03.860

如果我理解你的问题，这就是你想要的：

```
List("a", "b", "c").foldLeft(json){ _ \ _ }.extract[List[Int]] 
```

并帮助理解原因： `foldLeft`需要两个参数；一个初始状态，以及一个接受“当前”状态和下一个输入的函数，返回“下一个”状态。“输入”是您正在调用的事物的元素`foldLeft`，即`List("a", "b", "c")`.

因此，如果您将`json`其用作初始状态，则第一个状态更改调用将是`json \ "a"`. 下一个将是该计算的结果，反斜杠“b”，依此类推。

# wso2 - 在 WSO2 4.6 版中配置基于 WSDL 的代理

> ID：15425859
> 
> 赞同：1
> 
> 时间：2013-03-15T06:06:11.423
> 
> 标签：wso2, wso2esb

我已经下载了 WSO2 ESB 4.6 版并启动了服务器。点击代理服务。在那里我选择了 WSDL 代理选项。它要求以下创建代理。

代理服务名称* OpportunityService

WSDL URI* [https://crm-aufsn4x0ruf.oracleoutsourcing.com//opptyMgmtOpportunities/OpportunityService?WSDL](https://crm-aufsn4x0ruf.oracleoutsourcing.com//opptyMgmtOpportunities/OpportunityService?WSDL)

WSDL 服务* [https://crm-aufsn4x0ruf.oracleoutsourcing.com:443/opptyMgmtOpportunities/OpportunityService](https://crm-aufsn4x0ruf.oracleoutsourcing.com:443/opptyMgmtOpportunities/OpportunityService)

WSDL 端口* 443

我只想通过 ESB 使用这个外部 Web 服务。所以我不想发布。未配置任何发布相关字段。现在，当我单击创建时，它会引发异常“无法添加代理服务：OpportunityService。检查代理是否已存在”。但我确信没有现有的服务。我尝试过使用不同的名称，但错误是相同的。

我怀疑这可能会为字段 WSDL 服务和 WSDL 端口提供错误的值。如果单击测试 URI，它会成功。任何人都可以提出我做错的地方。

谢谢&问候， 拉古

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-18T17:30:08.730

For wsdl service parameter you need to give the `<wsdl:service name>`which you can find in the particular wsdl itself. I dont think it will be a URI like you have mentioned above. Likewise for port you can find the `<wsdl:port>` parameter in the wsdl.

# java - 验证 if 语句不能正常工作

> ID：15425862
> 
> 赞同：0
> 
> 时间：2013-03-15T06:06:18.860
> 
> 标签：java, string, validation, if-statement

我正在尝试创建一个 if 语句来捕获程序的用户是否输入了除 y 或 n 之外的值，以解决程序“继续？（y/n）：”末尾提出的问题。但无论我输入什么值“y”、“n”或无效的值，我都会从控制台收到消息“无效输入再试一次”。这只应该在选择不是 y 或 n 时发生，任何人都知道为什么不管我输入什么它都会继续发生？

```
import java.util.Scanner;
public class ProductApp 
{
  public static void main(String[] args) 
  {
     //display a welcome message
      System.out.println("Welcome to the Product Selector ");
      System.out.println();

      // perform 1 or more selections
      Scanner sc = new Scanner(System.in);
      String choice = "y";
      while (choice.equalsIgnoreCase("y"))
      {
         System.out.println("Enter Product Code: ");
         String productCode = sc.next(); //read the product code
         sc.nextLine() ; //discard any other data entered on the line
         //make sure the case the user enters for a product code doesn't matter
         productCode = productCode.toLowerCase();
         // get the Product object
         Product p = ProductDB.getProduct(productCode) ;

         // display the output
         System.out.println();
         if (p != null)
             System.out.println(p);
         else
             System.out.println("No product matches this product code. \n");
         System.out.println("Product count: " + Product.getCount() + "\n" );

         // see if the user wants to continue
         System.out.println("Continue? (y/n): ");
         choice = sc.nextLine() ;
         System.out.println();
         if( !choice.equalsIgnoreCase("y") && !choice.equalsIgnoreCase("n") );
         {
             System.out.println("Invalid input try again");
             continue;
         }

      }
  }
} 
```

同样，无论我在哪里收到“无效输入再试一次”消息，程序都会要求输入一次新输入，然后继续输入是否有效。如果它是“y”，它会再次运行，如果它有其他任何东西，它就会关闭，而不是第二次询问有效输入。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T06:16:25.430

你的情况不正确，应该是

```
if(!choice.equalsIgnoreCase("y") && !choice.equalsIgnoreCase("n")){
    // choice is not y or n
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-15T06:20:33.897

## 你的情况不正常，因为你有**；**在你的 if 语句之后。

```
if( !choice.equalsIgnoreCase("y") && !choice.equalsIgnoreCase("n") );
                                                                    ^^ 
```

改变

```
if( !choice.equalsIgnoreCase("y") && !choice.equalsIgnoreCase("n") );
     {
         System.out.println("Invalid input try again");
         continue;
     } 
```

到

```
if(!(choice.equalsIgnoreCase("y") || choice.equalsIgnoreCase("n")))
     {
         System.out.println("Invalid input try again");
         continue;
     } 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T06:13:45.343

`choice.equalsIgnoreCase("y") && choice.equalsIgnoreCase("n")` **它永远不会是真的**

**因为选择可能是 y 或 n 但不能同时是**

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-15T06:16:47.587

如果您希望它在输入 y 或 n 之前一直询问，请使用 while 语句。否则它将跳转到大的while循环并退出，因为大的正在要求

```
while (choice.equalsIgnoreCase("y")) 
```

所以，内部循环看起来像这样：

```
while( !choice.equalsIgnoreCase("y") && !choice.equalsIgnoreCase("n") )
{
   System.out.println("Invalid input try again");
   //continue; //not needed
} 
```

编辑：另一种方法是仅将“y”视为“是”，将其他所有内容视为“n”

```
// pseudocode
while (!choice.equalsIgnoreCase("n")) {
   // do your thing
   if (!(choice.equalsIgnoreCase("y") || choice.equalsIgnoreCase("n"))) {
      choice = "n"; // so exit
   }
} 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-15T06:15:41.787

我认为您应该更改`if(!choice.equalsIgnoreCase("y") && !choice.equalsIgnoreCase("n"));`为`if(!choice.equalsIgnoreCase("y") || !choice.equalsIgnoreCase("n")){`. 导致使用`&&`检查两个条件都为真，这永远不会发生，因为`choice`只能包含一个值。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-15T06:16:43.440

检查你的情况。它应该是：

```
if(!(choice.equalsIgnoreCase("y") || choice.equalsIgnoreCase("n") ))
        {
        System.out.println("Invalid input try again");
        continue;
        } 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2013-03-15T06:20:55.320

```
if( !(choice.equalsIgnoreCase("y") || choice.equalsIgnoreCase("n")) )
     {
         System.out.println("Invalid input try again");
         continue;
     } 
```

试试这个 。

# php - Javascript 下拉列表

> ID：15425864
> 
> 赞同：0
> 
> 时间：2013-03-15T06:06:29.680
> 
> 标签：php, javascript

我需要从 Mysql 表中填充一个下拉列表

我的桌子如下所示

```
 Symbol    values

 G.n0000   10
 P.n0000   20
 W.n0000   40
 G.n0000   50
 P.n0000   60 
```

我需要在下拉框中出现符号值，但只有不同的值

例如：下拉列表应该只显示 G.n0000,P.n0000,W.n0000

我尝试过的如下，但它不起作用

```
 <?php

$conn = new mysqli('localhost', 'root', '', 'offlinesurv') 
or die ('Cannot connect to db');

$result = $conn->query("select distinct symbol from tab");

echo "<html>";
echo "<body>";
echo "<select name='id'>";

while ($row = $result->fetch_assoc()) {

              unset($id);
              $id = $row['symbol'];

              echo '<option value="'.$id.'"></option>';

}

echo "</select>";
echo "</body>";
echo "</html>";
?> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:25:23.857

值不会显示在选择选项中。

自从我做任何 PHP 以来已经有一段时间了，所以我不记得语法了，但是使用直接的 html 你需要输入：

```
<option>Text You Want To See</option> 
```

值是每个选项的可选标识符

所以你可以有

```
<option value='id'><Text you want to see</option> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:18:46.443

编辑 while ($row = $result->fetch_assoc()) {

```
 unset($id);
          $id = $row['symbol'];
          $value = $row['value'];
          echo "<option value= '$value' >$id</option>"; 
```

}

# php - PHP 休息，.htaccess 路由

> ID：15425865
> 
> 赞同：2
> 
> 时间：2013-03-15T06:06:33.543
> 
> 标签：php, .htaccess, rest, url-routing

我正在使用来自这个 repo 的 REST API：

[https://github.com/marcj/php-rest-service/tree/master/RestService](https://github.com/marcj/php-rest-service/tree/master/RestService)

我正在从子目录运行 REST 服务`/mydir`。但是，除此之外的任何内容`/`都不会产生任何输出。

作品：

```
use RestService\Server;

Server::create('/')
    ->addGetRoute('(.*)', function(){
        return 'It Works!';
    })
->run(); 
```

不起作用：

```
use RestService\Server;

Server::create('/mydir')
    ->addGetRoute('(.*)', function(){
        return 'It Works!';
    })
->run(); 
```

.htaccess

```
RewriteEngine on
RewriteRule . index.php [L] 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-17T22:08:42.773

您的 PATH_INFO 配置是否正确？

看：[https ://github.com/marcj/php-rest-service/blob/master/RestService/Client.php#L56-L57](https://github.com/marcj/php-rest-service/blob/master/RestService/Client.php#L56-L57)

您应该像这样设置 .htaccess：

```
RewriteRule (.+) index.php/$1 
```

如果你没有能力配置 PATH_INFO，你可以自己设置 url：

```
Server::create('/mydir')
    ->getClient()->setUrl($_GET['url'])->getController()
    ->addGetRoute(); 
```

# jquery - jquery动画回调问题

> ID：15425868
> 
> 赞同：1
> 
> 时间：2013-03-15T06:06:53.813
> 
> 标签：jquery

我试图在此动画上使用回调，以便动画完成后动画图像恢复到其原始状态。但它不能正常工作。有人可以告诉我如何使用正确的语法来做到这一点吗？

```
if (currentEffect == "glimpse") {
    $("#next").click(function () {
        if (currentSlide == 0) {
            $("#slide1").animate({
                width: "0",
                opacity: 0.2,
                borderWidth: "10px"
            }, 1000, function () {
                width: "700px"
                opacity: 100,
                borderWidth: "0px"
            });
            $("#slide2").fadeIn(800);
        }
    });
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:11:22.967

```
if (currentEffect == "glimpse") {
    $("#next").click(function () {
        if (currentSlide == 0) {
            $("#slide1").animate({
                width: "0",
                opacity: 0.2,
                borderWidth: "10px"
            }, 1000, function () {
                $(this).animate({  // <-- need to call .animate() again
                    width: "700px" // <--- you forgot a ,
                    opacity: 100,  // <--- opacity is a value between 0.0 and 1.0
                    borderWidth: "0px"
                }, 1000);
            });
            $("#slide2").fadeIn(800);
        }
    });
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:14:11.820

回调函数未引用对象。你可能想要：

```
$("#slide1").animate({
    width: "0",
    opacity: 0.2,
    borderWidth: "10px"
}, 1000, function () {
    $("#slide1").css({ 
        width: "700px",
        opacity: 1, 
        borderWidth: "0px"
    });
}); 
```

# java - 是什么导致了这个 SQLException？

> ID：15425869
> 
> 赞同：0
> 
> 时间：2013-03-15T06:06:54.713
> 
> 标签：java, sql

我收到以下错误：

> com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException：您的 SQL 语法有错误；检查与您的 MySQL 服务器版本相对应的手册，以在第 1 行的 '' 附近使用正确的语法。

在尝试运行以下代码时：

```
String sql = "INSERT INTO `tutors`.`appointments`"
        + "(`tutorID`, `tuteeName`, `tuteeEmail`, `time`, `date`)"
        + ("VALUES(?, ?, ?, ?, ?");
 try {
     PreparedStatement ps = conn.prepareStatement(sql);
     ps.setInt(1, working.get(0).getTutorID());
     ps.setString(2, tuteeName);
     ps.setString(3, tuteeEmail);
     ps.setDate(4, date);
     ps.setTime(5, time);
     ps.executeUpdate(); 
```

它是什么产生`' '`异常所指的？我只是在学习在 java 中使用 SQL，所以我确信这只是一个愚蠢的语法错误......

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2013-03-15T06:08:56.410

您没有关闭 VALUES 括号：

```
 String sql = "INSERT INTO `tutors`.`appointments`"
            + " (`tutorID`, `tuteeName`, `tuteeEmail`, `time`, `date`)"
            +  ("VALUES(?, ?, ?, ?, ?)"); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T06:15:06.817

你的sql字符串有问题。它应该是

```
"INSERT INTO `tutors`.`appointments`"
            + "(`tutorID`, `tuteeName`, `tuteeEmail`, `time`, `date`)"
            + "VALUES(?, ?, ?, ?, ?)"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T06:17:11.463

可能在第三行的第一个“（”中。

```
String sql = "INSERT INTO `tutors`.`appointments`"
    + "(`tutorID`, `tuteeName`, `tuteeEmail`, `time`, `date`)"
    + ("VALUES(?, ?, ?, ?, ?"); 
```

它应该是

```
String sql = "INSERT INTO `tutors`.`appointments`"
    + " (`tutorID`, `tuteeName`, `tuteeEmail`, `time`, `date`)"
    + " VALUES(?, ?, ?, ?, ?"); 
```

在第二行和第三行的开头添加一些空格。

# php - 如何使用变量更新 mysql？

> ID：15425871
> 
> 赞同：0
> 
> 时间：2013-03-15T06:07:05.433
> 
> 标签：php, mysql

我需要有关此代码的帮助：

```
 if (isset($_POST['aboutme'])) {
$aboutme = $_POST['aboutme'];
$aboutme = mysql_real_escape_string($aboutme);
mysql_query("UPDATE `users` SET `about_me`='" . $aboutme . "' WHERE `username`='" . $usn . "' LIMIT 1") or die(mysql_error());
} 
```

我不知道为什么它不起作用，但它没有进入正确的单元格来改变它。这是文本区域：

```
<textarea id="aboutme" name="aboutme" rows="4" cols="50"><?php echo "$abme"; ?></textarea> 
```

我不知道这里发生了什么，因为没有错误出现。

[http://gyazo.com/f36f04c014bb229c1be27cc7a9e5072f.png?1363328064](http://gyazo.com/f36f04c014bb229c1be27cc7a9e5072f.png?1363328064)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:12:34.670

我强烈建议切换到 mysqli。

[mysql_real_escape_string() 也需要一个活动的数据库连接](https://stackoverflow.com/a/11506026/1427338)。

所以你应该先连接到数据库，否则 mysql_real_escape_string() 将返回一个空字符串

调试：

```
 if (isset($_POST['aboutme'])) {
        $aboutme = $_POST['aboutme'];
        $aboutme = mysql_real_escape_string($aboutme);
        $query = "UPDATE `users` SET `about_me`='" . $aboutme . "' WHERE `username`='" . $usn . "' LIMIT 1";

       mysql_query($query) or die(mysql_error());

}
print_r($query); 
```

如果表单未正确发布（未定义变量 $query），这将允许您查看查询并触发错误。

你可以在 mysql 上运行查询，如果它输出它来查看结果；

# php - 七个标志来简明一周中的日子列表？

> ID：15425876
> 
> 赞同：1
> 
> 时间：2013-03-15T06:07:59.637
> 
> 标签：php

我有一个包含 7 个标志的数组/字符串/整数，一个用于一周中的每一天（重复事件）。如何将其转换为简短的日期列表？

所以，例如

```
Given 1011001, return 'Su, T-W, Sa'.
Given 0111011, return 'M-W, F-Sa'. 
```

完成此任务的最短方法是什么？

## 编辑

为了比较，这是我自己的不雅代码：

```
<?php
function dowstring($dow) {
  if ($dow == 0) return "Error";
  $ddow = ["Su", "M", "T", "W", "Th", "F", "Sa"];
  $t = strrev( sprintf('%07b', $dow) );
  $u = str_split($t);
  $out = '';
  $cu = count($u);
  $nn = 0; // number of days thus far counted
  $v = 0; // number in the run
  for($i = 0; $i < $cu; $i++) {
      if ($u[$i]) {
        if ($v == 0) {
          $out .= ($nn) ? ", " : '';
          $out .= $ddow[$i];
        }
      $nn++;
      $v++;
      }
      else {
        if ($v > 1) {
            $out .= ($nn) ? "-" . $ddow[$i-1] : '';
        }
      $v = 0;
      }
  }
  // in case Saturday is part of a run
  if ($v > 1) {
      $out .= ($nn) ? "-" . $ddow[$i-1] : '';
  }
  return $out;
}

echo "<pre>";

// testing script
for ($i = 1; $i < pow(2, 7); $i++) {
    $ds = dowstring($i);
    $j = strrev( sprintf("%07b", $i) );
    printf("%s %s\n", $j, $ds);
}

echo "</pre>";
?> 
```

## 编辑

受 Prasanth 启发的另一次尝试：

```
function dowstring($dow) {
  if ($dow == 0) return "Error";
  $ddow = ["Su", "M", "T", "W", "Th", "F", "Sa"];
  $t = strrev( sprintf('%07b', $dow) );
  $v = array_keys( array_filter( str_split($t) ) );
  $cv = count($v); $w = array();
  $out = $ddow[$v[0]];
  for ($i = 1; $i < $cv; $i++) $w[] = $v[$i] - $v[$i - 1] - 1;   
  $w = ( $cv == 1 ) ? array($w) : $w;
  for ($i = 1; $i < $cv; $i++) {
    if (!$w[$i - 1]) $last = $ddow[$v[$i]];
    else {
      if ( isset($last) ) $out .= '-' . $last; 
      $out .= ', ' . $ddow[$v[$i]];
      unset($last);
    }
  }
  if ($i > 1 && !$w[$i-2] ) $out .= '-' . $ddow[ $v[$i-1] ];

  return $out;
} 
```

我想看到更好的东西。任何人？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T06:50:26.220

尝试这个：

```
$days=array('1'=>'Monday','2'=>'Tuesay','3'=>'Wednesday','4'=>'Thursday','5'=>'Friday','6'=>'Saturday','7'=>'Sunday');
$pattern = '1000110';
$arr1 = str_split($pattern);
$i=0;
foreach($days as $key => $tes) { 
  if($key - $arr1[$i] != $key) {
    echo $tes;
  }
  $i++;
} 
```

根据您想要的天数调整天数数组

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T06:27:12.560

尝试这个 ：

```
<?php
$days = array('Su','M','T','W','Th','F','Sa');
function checkConsec($d) {
    for($i=0;$i<count($d);$i++) {
        if(isset($d[$i+1]) && $d[$i]+1 != $d[$i+1]) {
            return false;
        }
    }
    return true;
}

$str  = '0111011';
$array  = array_keys(array_filter(str_split($str)));

$temp     = array();
$res      = array();
for($i=0;$i<count($array);$i++){
    $temp[]  = $array[$i];
    if(checkConsec($temp) && count($temp) > 1){
       $res[$temp[0]] = $days[$temp[0]]."-".$days[$temp[count($temp)-1]];
    }else{
       $res[$array[$i]] = $days[$array[$i]];
       $temp     = array();
       $temp[]  = $array[$i];
    }
}
echo implode(",",$res);

?> 
```

# actionscript-3 - 当游戏处于暂停模式时，为敌人生成的计时器不会暂停

> ID：15425880
> 
> 赞同：0
> 
> 时间：2013-03-15T06:08:25.960
> 
> 标签：actionscript-3

我正在创建一个简单的射击游戏，其中敌人将在每个时钟滴答时产生，为此我使用了一个简单的 TimerEvent .. 现在我遇到了一个问题，当我按下暂停按钮时，游戏会正确暂停，但是计时器敌人产卵不会暂停。敌人继续生成。我的暂停代码仅包含`stage.framerate = 0`. 所以请帮助我解决上述问题..提前致谢..我的主要代码是 -

```
package
{
    import........
    ..............

    public class Main extends MovieClip
    {
        //var declearations...

        //Timer Events declearation....

private function timeStart():void
        {
            Timer1 = new Timer(1000,180);
            Timer1.addEventListener(TimerEvent.TIMER,TimerStart);
            Timer1.start();

        }

private function TimerStart(e:TimerEvent):void
        {
            createEnemy(enemy1,Enemy1,enemies1);
        }

private function createEnemy(enemy:MovieClip,enemyClass:Class, enemyArray:Array)
        {
            enemy = new enemyClass(bg_mc);
            enemyArray.push(enemy);
            bg_mc.addChild(enemy);
        }
     }

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:43:26.170

它不应该暂停，它不依赖于`stage.frameRate`. 为了调整你的帧率和敌人的外观，使用一个监听器，`Event.ENTER_FRAME`它会计算帧数直到下一个敌人，逐帧移动所有内容（你很可能已经制作了这部分），产生新的敌人并控制暂停状态 - 你可以做简单`if (weArePaused) return;`地在听者的开头做出停顿而不改变`stage.frameRate`。

# iphone - 单击按钮时在表格视图中添加文本字段

> ID：15425885
> 
> 赞同：-1
> 
> 时间：2013-03-15T06:09:03.540
> 
> 标签：iphone, uitableview, addsubview

我有一个表格视图，在每一行中都有一个添加按钮单击新行添加下面我希望单击该行中有一个文本字段，用户可以在其上输入一个 texh 你能帮我如何添加一个添加行中的文本字段。这是我的代码

```
-(void)buttonclicked:(UIButton *)sender
{

    UIButton *btn = (UIButton *)[self.view viewWithTag:sender.tag];
    NSLog(@"clickedCell=%i", btn.tag);

    [[NSUserDefaults standardUserDefaults]setValue:[NSString stringWithFormat:@"%i", btn.tag] forKey:@"btntag"];
    [self.choices insertObject:@"newrow" atIndex:btn.tag+1];

        [self.tableView reloadData];

} 
```

和表格视图方法

```
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{

    static NSString *CellIdentifier = @"Cell";

    cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
     if (cell == nil)
     {

        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
    }

    UIButton *button = [UIButton buttonWithType:UIButtonTypeContactAdd];
    button.tag = indexPath.row;
    button.frame = CGRectMake(280.0, 10, 25, 30.0); // x,y,width,height

    [button addTarget:self action:@selector(buttonclicked:) forControlEvents:UIControlEventTouchUpInside];
    [cell addSubview:button];

    UILongPressGestureRecognizer *longPress = [[UILongPressGestureRecognizer alloc] initWithTarget:cell action:nil];
    longPress.delegate = self;
    [cell addGestureRecognizer:longPress];

    int count = 0;
    if(self.editing && indexPath.row != 0)
        count = 1;
    NSLog([NSString stringWithFormat:@"%i,%i",indexPath.row,(indexPath.row-count)]);

    // Set up the cell...
    if(indexPath.row == ([_choices count]) && self.editing)
    {
        cell.textLabel.text = @"ADD";
        return cell;
    }

    NSString *choice = [self.choices objectAtIndex:indexPath.row];

    cell.textLabel.text = choice;

    return cell;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:18:39.863

试试这样可能对你有帮助，

1.以一个全局变量类型整数为例位置。

2.当您单击特定按钮时 -(void)buttonclicked:(UIButton *)sender 方法将在此方法中调用，您会将 btn.tag 值分配给 position 。

3.之后，您在 tableview cellForRowAtIndexPath 方法中重新加载表格视图，采用一个条件，例如

```
if(position==indexpath.row)
{
//add your textfield here
}. 
```

# c# - 将文本插入文本框中的 x,y 坐标位置

> ID：15425894
> 
> 赞同：0
> 
> 时间：2013-03-15T06:09:48.913
> 
> 标签：c#, winforms, textbox

我正在尝试从列表框中拖动项目并将其放入文本框中。这对我来说可以。现在，当我尝试将第二个项目拖到同一个文本框中时，它会将其附加到文本框中包含的文本的最后一个。我希望它应该粘贴在我将项目拖入文本框的位置。到目前为止，我正在使用以下代码

```
private void Form1_Load(object sender, System.EventArgs e) {
        for (int i = 0; i < 10; i++) {
            if (i % 2 == 0)
                listBoxControl1.Items.Add("Item " + i.ToString());
         }

 private void listBoxControl1_MouseDown(object sender, System.Windows.Forms.MouseEventArgs e) {
        ListBoxControl c = sender as ListBoxControl;
        p = new Point(e.X, e.Y);
        int selectedIndex = c.IndexFromPoint(p);
        if (selectedIndex == -1)
            p = Point.Empty;
    }

    private void listBoxControl1_MouseMove(object sender,System.Windows.Forms.MouseEventArgs e) {
        if (e.Button == MouseButtons.Left)
            if ((p != Point.Empty) && ((Math.Abs(e.X - p.X) > 5) || (Math.Abs(e.Y - p.Y) > 5)))
                listBoxControl1.DoDragDrop(sender, DragDropEffects.Move);            
    }

    private void textEdit1_DragOver(object sender, DragEventArgs e)
    {
        e.Effect = DragDropEffects.Move;
    }

  private void textEdit1_DragDrop(object sender, DragEventArgs e)
    {
        TextEdit textBox1 = sender as TextEdit;
        Point newPoint = new Point(e.X, e.Y);
        newPoint = textBox1.PointToClient(newPoint);                          
        object item = listBoxControl1.Items[listBoxControl1.IndexFromPoint(p)];

        if (textBox1.Text == "")
        {
            textBox1.Text = item.ToString();
        }
        else
        {
            textBox1.Text = textBox1.Text + "," + item.ToString();
        }
        listBoxControl1.Items.Remove(item);
    } 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:27:03.737

我使用 TextBox 而不是 TextEdit ，试试这个代码

```
 private void textBox1_DragDrop(object sender, DragEventArgs e)
    {
        TextBox textBox1 = sender as TextBox;
        Point newPoint = new Point(e.X, e.Y);
        newPoint = textBox1.PointToClient(newPoint);
        int index = textBox1.GetCharIndexFromPosition(newPoint);

        object item = listBox1.Items[listBox1.IndexFromPoint(p)];

        if (textBox1.Text == "")
        {
            textBox1.Text = item.ToString();
        }
        else
        {
            var text = textBox1.Text;
            var lastCharPosition = textBox1.GetPositionFromCharIndex(index);
            if (lastCharPosition.X < newPoint.X)
            {
                text += item.ToString();
            }
            else
            {
                text = text.Insert(index, item.ToString());
            }

            textBox1.Text = text;
        }
        listBox1.Items.Remove(item);
    } 
```

# excel - 将数据表导出到工作簿

> ID：15425898
> 
> 赞同：0
> 
> 时间：2013-03-15T06:10:10.550
> 
> 标签：excel, export

我已经导出了我的数据表，如下面的代码所示。导出大数据时它工作正常，但是当我尝试打开 xls 文件时它提示我这个错误：

“Excel 在 filename.xls 中发现了不可读的内容。是否要恢复此工作簿的内容？如果您信任此工作簿的来源，请单击“是”。

```
DataTable exportTable = Record.GetAll();
        Workbook workbook = new Workbook();
        Worksheet sheet = new Worksheet("Test");

        for (int x = 0; x < exportTable.Columns.Count; x++)
        {
            sheet.Cells[0, x] = new Cell(exportTable.Columns[x].ColumnName.ToString());
        }

        for (int i = 0; i < exportTable.Rows.Count; i++)
        {
            for (int j = 0; j < exportTable.Columns.Count; j++)
            {
                sheet.Cells[(i + 1), j] = new Cell(exportTable.Rows[i][j].ToString());
            }
        }

        workbook.Worksheets.Add(sheet);

        workbook.Save(@"C:\temp1\Test.xls");

        System.IO.FileInfo file = new System.IO.FileInfo(@"C:\temp1\Test.xls");
        Response.ClearContent();
        Response.AddHeader("Content-Disposition", "attachment; filename=" + file.Name);
        Response.AddHeader("Content-Length", file.Length.ToString());
        Response.ContentEncoding = System.Text.Encoding.UTF8;
        Response.ContentType = "application/ms-excel";
        Response.TransmitFile(file.FullName);
        Response.End(); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-04-13T18:00:06.673

如果您使用 Excel 2010 或更高版本（我不确定 2007），即使您将扩展名设置为 XLS，该文件也将保存为 XLSX。将扩展名更改为 XLSX 应该没问题。否则 Excel 将检测扩展名和文件结构之间的差异，并显示上面的消息。

# c# - 使用在 ubuntu 上运行的 Mono+Aspose.Words 时引发异常

> ID：15425903
> 
> 赞同：0
> 
> 时间：2013-03-15T06:10:44.173
> 
> 标签：c#, ubuntu, mono, aspose.words

我在 ubuntu 上使用 Aspose.Words 将 doc/docx 文件转换为 pdf 文件。Mono 运行时已安装。我的代码如下：

```
Document doc = new Document ("/data/upfile/test.docx");
doc.Save ("/data/upfile/test.pdf", SaveFormat.Pdf); 
```

不知何故，当执行第二行代码时，抛出了一个错误。详情如下：

> 未处理的异常：System.ArgumentOutOfRangeException：startIndex + length > this.length 参数名称：System.String.Substring 的长度（Int32 startIndex，Int32 长度）[0x00000] in :0 at x6c95d9cf46ff5f25.x0d299f323d241756.x3b67e683e83cab62 (System.String xe4115acdf4, x961016a387451f05）[0x00000]中：0在x4adf554d20d941a6.x50e6e6d123fa4a35.x4469479613bec4d8（Aspose.Words.Node xda5bf54deb817e37）[0x00000]中：0在x4adf554d20d941a6.x50e6e6d123fa4a35.x7be41bff00df2c71（Aspose.Words.Node xda5bf54deb817e37）[0x00000]中：0在x4adf554d20d941a6 .x50e6e6d123fa4a35.x699caa1974f95d1a（aspose.words.node xda5bf54deb817e37）：0：0在x4adf554d20d941a6.x50e6231f8（system.object x860e35844c20ac7）[0x00000]中：0
> 在x4adf554d20d941a6.x50e6e6d123fa4a35.xb5ef8a04e65b87e6（System.String x1f25abf5fb75e795，System.Object的xa860e35844c20ac7）[0x00000]中：0在x59d6a4fc5007b7a4.xdeb77ea37ad74c56.xbbf9a1ead81dd3a1（System.String x1f25abf5fb75e795，System.Object的xa860e35844c20ac7）[0x00000]中：0在x59d6a4fc5007b7a4.x487cdc969fefe3d6 .xbbf9a1ead81dd3a1（System.String x1f25abf5fb75e795，System.Object的xa860e35844c20ac7）[0x00000]中：0在x59d6a4fc5007b7a4.x487cdc969fefe3d6.xf3a1cfbffa44728c（）[0x00000]中：0在x59d6a4fc5007b7a4.x487cdc969fefe3d6.x47f176deff0d42e2（）[0x00000]中：0在x59d6a4fc5007b7a4。 x487cdc969fefe3d6.x83f07df6a659e05b () [0x00000] in :0 at x59d6a4fc5007b7a4.xcde671c53995c411.xd9db07500873ae98 (Aspose.Words.Document x3664041d21d73fdc, x5941d21d73fdc, x594d.xdeb77ea37ad74c56 xdfde339da46db651) [0x00000] in :0 at Aspose.Words.Document.UpdatePageLayout () [0x00000] in :0 at Aspose.Words.Document.x410db0f4a89a6ef1 (Boolean x24af0daafcd8fb8c) [0x00000] in :0 atDocument Aspose. get_xcde671c53995c411（）[0x00000]中：0在Aspose.Words.Document.get_PageCount（）[0x00000]中：0在xf989f31a236ff98c.x6c74398bceb133f8.xa2e0b7f7da663553（x28925c9b27b37a46.x8556eed81191af11 x5ac1382edb7bf2c2）[0x00000]中：0在Aspose.Words.Document。 xf381a641001e6830 (System.IO.Stream xcf18e5243f8d5fd3, System.String xafe2f3653ee64ebc, Aspose.Words.Saving.SaveOptions xc27f01f21f67608c) [0x00000] 在 Aspose.Words.Document.Save (System.String fileName, Aspose.Words.SaveOptions xc27f01f21f67608c) [0x00000] saveOptions) [0x00000] in :0 at Aspose.Words.Document.Save (System.String fileName,SaveFormat saveFormat) [0x00000] in :0
> 在 MonoTest.MainClass.Main (System.String[] args) [0x00000] in :0 [ERROR] FATAL UNHANDLED EXCEPTION: System.ArgumentOutOfRangeException: startIndex + length > this.length 参数名称：长度在 System.String.Substring (Int32的startIndex，的Int32长度）[0x00000]中：0在x6c95d9cf46ff5f25.x0d299f323d241756.x3b67e683e83cab62（System.String xe4115acdf4fbfccc，的Int32 x961016a387451f05）[0x00000]中：0在x4adf554d20d941a6.x50e6e6d123fa4a35.x4469479613bec4d8（Aspose.Words.Node xda5bf54deb817e37）[0x00000]在：0在x4adf554d20d941a6.x50e6e6d123fa4a35.x7be41bff00df2c71（Aspose.Words.Node xda5bf54deb817e37）[0x00000]中：0在x4adf554d20d941a6.x50e6e6d123fa4a35.x699caa1974f95d1a（Aspose.Words.Node xda5bf54deb817e37）[0x00000]中：0在x4adf554d20d941a6.x50e6e6d123fa4a35.x21e4bd206d6231f8（系统.对象 xa860e35844c20ac7) [0x00000] 在：0
> 在x4adf554d20d941a6.x50e6e6d123fa4a35.xb5ef8a04e65b87e6（System.String x1f25abf5fb75e795，System.Object的xa860e35844c20ac7）[0x00000]中：0在x59d6a4fc5007b7a4.xdeb77ea37ad74c56.xbbf9a1ead81dd3a1（System.String x1f25abf5fb75e795，System.Object的xa860e35844c20ac7）[0x00000]中：0在x59d6a4fc5007b7a4.x487cdc969fefe3d6 .xbbf9a1ead81dd3a1（System.String x1f25abf5fb75e795，System.Object的xa860e35844c20ac7）[0x00000]中：0在x59d6a4fc5007b7a4.x487cdc969fefe3d6.xf3a1cfbffa44728c（）[0x00000]中：0在x59d6a4fc5007b7a4.x487cdc969fefe3d6.x47f176deff0d42e2（）[0x00000]中：0在x59d6a4fc5007b7a4。 x487cdc969fefe3d6.x83f07df6a659e05b () [0x00000] in :0 at x59d6a4fc5007b7a4.xcde671c53995c411.xd9db07500873ae98 (Aspose.Words.Document x3664041d21d73fdc, x5941d21d73fdc, x594d.xdeb77ea37ad74c56 xdfde339da46db651) [0x00000] in :0 at Aspose.Words.Document.UpdatePageLayout () [0x00000] in :0 at Aspose.Words.Document.x410db0f4a89a6ef1 (Boolean x24af0daafcd8fb8c) [0x00000] in :0 atDocument Aspose. get_xcde671c53995c411（）[0x00000]中：0在Aspose.Words.Document.get_PageCount（）[0x00000]中：0在xf989f31a236ff98c.x6c74398bceb133f8.xa2e0b7f7da663553（x28925c9b27b37a46.x8556eed81191af11 x5ac1382edb7bf2c2）[0x00000]中：0在Aspose.Words.Document。 xf381a641001e6830 (System.IO.Stream xcf18e5243f8d5fd3, System.String xafe2f3653ee64ebc, Aspose.Words.Saving.SaveOptions xc27f01f21f67608c) [0x00000] 在 Aspose.Words.Document.Save (System.String fileName, Aspose.Words.SaveOptions xc27f01f21f67608c) [0x00000] saveOptions) [0x00000] in :0 at Aspose.Words.Document.Save (System.String fileName,SaveFormat saveFormat) [0x00000] in :0
> 在 MonoTest.MainClass.Main (System.String[] args) [0x00000] in :0

任何建议表示赞赏。谢谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T06:46:36.290

通常，内部异常是通过 Aspose 转换 PDF 中的单词文档时非常常见的问题。

这可能是由于一些原因，例如：

1.  2013 微软 Word 办公室。
2.  word中的一些复杂元素
3.  旧版本的 Aspose.Words.dll。

解决方案：

1.  尝试将 Aspose.Words.dll 更新到新版本。如果它仍然不起作用 - 写信给 aspose 论坛，这个错误将在新版本中修复。
2.  检查word文档本身。可能你可以找到一些叫做这个内部异常的东西，而不是尝试删除它并再次检查。如果这是当然可以接受的。

# cygwin - 在cygwin中找到以下给定标签的第一次出现位置

> ID：15425905
> 
> 赞同：0
> 
> 时间：2013-03-15T06:10:50.933
> 
> 标签：cygwin

我正在使用以下给定的步骤来查找`<heading`多次出现的标签的位置。但我只需要第**一次出现**的位置。

我正在使用 cygwin 工具在 Windows 中执行此 shell 脚本

```
transformationTag=`grep -nE "<heading " "$xmlFile"|cut -d ":" -f1` 
```

这将给出如下输出：`17 24 46`

从此，我怎样才能`17`只检索？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T11:56:41.293

一种方法是将其通过管道`head`：

```
transformationTag=`grep -nE "<heading " "$xmlFile"|cut -d ":" -f1 | head -1 ` 
```

# c++ - 错误：#if[n]def 需要一个标识符

> ID：15425906
> 
> 赞同：0
> 
> 时间：2013-03-15T06:10:53.897
> 
> 标签：c++, identifier, ifndef

最初我的代码是：

```
#ifndef 2DO_H   
#define 2DO_H  
int ReadNumber();  
void WriteAnswer(int Nsumber1, int Number2);  
#endif 
```

但是我遇到了一个错误`#if[n]def expected an identifier`。所以我玩弄它并意识到我的错误在`2DO_H`. 当我将代码更改为：

```
#ifndef DO_H   
#define DO_H  
int ReadNumber();  
void WriteAnswer(int Nsumber1, int Number2);  
#endif 
```

它在上述情况下有效，因为我`2DO_H`改为`DO_H`. 为什么当我在标识符前面有一个额外的数字时，会出现错误？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T06:12:15.360

因为标识符不允许以数字开头。这包含在`2.11 Identifiers`当前的 C++ 11 标准中，特别是语法部分：

```
identifier:
    identifier-nondigit               # No digit allowed at front here.
    identifier identifier-nondigit    # Nor here.
    identifier digit                  # Nor here. 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-15T06:12:40.530

```
#ifndef 2DO_H 
```

不。

```
#ifndef TODO_H 
```

反而。标识符不能以数字开头。

# sonarqube - 声纳假阳性特征

> ID：15425911
> 
> 赞同：2
> 
> 时间：2013-03-15T06:11:24.963
> 
> 标签：sonarqube

我在部署在声纳服务器上的项目中使用声纳误报功能，并且我已将一些违规实例（允许 50 个实例）标记为误报。

现在我在声纳中创建一个具有相同代码库的新项目并将其部署在声纳上。由于我的两个项目的代码库相同，很明显那些“50”违规实例也会发生在这里，我在之前的项目中将其标记为误报。现在我不想再花时间将这些实例标记为误报所以我想问有没有办法通过引用我的第一个项目而不手动将这些“5o”违规实例标记为误报？

我可以制作模板/配置文件类型功能来从一个项目复制误报标记并将其应用于具有相同代码库的其他项目，这样我就可以节省时间？

如果有人知道执行此操作的任何方法，请回复。您的回复将是可观的.. 提前致谢！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:42:28.820

目前不可能实现您想要的，除非您编写一个使用[Sonar Web Service Java 客户端](http://docs.codehaus.org/display/SONAR/Web+Service+API#WebServiceAPI-Issues)的小型 Java 程序并完成这项工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2014-12-12T10:04:24.493

我发现的唯一技巧是在包含误报的行上添加 // NOSONAR 注释。这样，信息在分支机构之间共享。

但是，由于 NOSONAR 掩盖了任何声纳问题，您可能会错过另一个打算掩盖的声纳问题。

例子：

```
 var myVar; // NOSONAR 
```

# c# - 重新加载列表框内容

> ID：15425922
> 
> 赞同：0
> 
> 时间：2013-03-15T06:12:22.143
> 
> 标签：c#, listbox, reload

当我[在这里](https://stackoverflow.com/questions/5136418/listbox-refresh-in-c-sharp)看到这篇文章时。

但是在我的代码中我没有看到任何`DataBind()`方法。

```
lstBox.DataBind(); 
```

如何`listbox`在 C#.Net 中重新加载？

`Refresh()`方法也没有奏效。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-03-15T06:19:10.410

您可以尝试使用[ObservableCollection](http://msdn.microsoft.com/en-us/library/ms668604.aspx)作为 ItemSource，一切都会自动完成。然后，您的任务是将项目填充到 ObservableCollection 中，无需手动更新。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-15T06:51:30.717

DataBind() 用于 ASP.NET 控件 - 据我所知，Windows 窗体控件没有等效的方法。您的列表框的数据源是什么？我记得不久前遇到过类似的问题，我通过将控件绑定到 BindingSource 对象而不是我使用的任何对象来解决我的问题。同样，将 Listbox 绑定到 BindingSource 而不是当前数据源可能对您有利。来自[MSDN](http://msdn.microsoft.com/en-us/library/system.windows.forms.bindingsource.aspx)：

> BindingSource 组件有多种用途。首先，它通过在 Windows 窗体控件和数据源之间提供货币管理、更改通知和其他服务来简化窗体上的控件与数据的绑定。

换句话说，一旦您对 BindingSource 进行了更改（例如调用 BindingSource.Add，或将 BindingSource 的 DataSource 属性设置为另一个集合），您的 ListBox 将自动更新，而无需调用类似“DataBind()”的方法.

如果您的列表框当前绑定到集合对象，您可以简单地将集合绑定到 BindingSource，然后将控件绑定到 BindingSource：

```
BindingSource.DataSource = ListboxItems;
ListBox.DataSource = BindingSource; 
```

或者，您可以手动构建 BindingSource 的内容：

```
MyBindingSource.Clear();
MyBindingSource.Add(new BusinessObject("Bill", "Clinton", 1946));
MyBindingSource.Add(new BusinessObject("George", "Bush", 1946));
MyBindingSource.Add(new BusinessObject("Barack", "Obama", 1961));

lstBox.DataSource = MyBindingSource; 
```

# webdriver - 如何在 li 元素下打印“ > ID：15425923
> 
> 赞同：0
> 
> 时间：2013-03-15T06:12:22.207
> 
> 标签：webdriver

有几个 li 类，它们有“a href”标签。我想打印并保存这些标签内的名称。例子

```
<li class="first">
<a href="#" rel="1">Will and Mary</a>

/*

*String group1 = driver find class first . driver find li element . driver get the text inside a tag

*Print group1 

*/ 
```

我正在使用 JAVA 编写脚本。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T07:10:28.393

使用以下逻辑获取 li>a 中的所有文本

```
List<WebElement> elements=driver.findElements(By.cssSelector("li.first>a"));
for(WebElement each:elements)
{
      System.out.println(each.getText());
} 
```

# c# - c# 中 openssl_public_encrypt 的备用函数

> ID：15425924
> 
> 赞同：2
> 
> 时间：2013-03-15T06:12:34.657
> 
> 标签：c#, cryptography, openssl, public-key-encryption

我有 public.key 和 private.key 这两个文件都包含字符串密钥。我已经在 PHP 中实现了加密和解密，请在下面添加代码。

现在我想在 c#（加密和解密）中做同样的事情，就像我用 php 实现的一样（**方式应该是 openssl_public_encrypt 方法做的**- 因为否则最后我把这个加密值作为发布请求发送，如果那个加密方法不匹配我在 php 中所做的方式会给出一个错误，说我的加密值错过了一些参数 - 意味着我的加密算法不正确）

我试过 boncycastle.crypto 但我认为算法不同，

这是php代码->

```
$sensitiveData = $this->merchantcode.'|'.$order_id.'|'.$amountInc.'|'.$this->returnurl;
$public_key ="uuEks4FXTiLU2obIpTNIpqhjgiUhtjW4Si8cKLoT7RThyOvUadsgYWejLg2i0BVz+
           QC6F7pilEfaVSL/UgGNeNdMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCW8KV72IMdhE/wIDAQAB";

 $public_key_splitted = wordwrap($public_key, 64, "\n", true); 

$publicKey = <<<EOD
-----BEGIN PUBLIC KEY-----
$public_key_splitted
-----END PUBLIC KEY-----
EOD;

$encrypted = '';
if (!openssl_public_encrypt($sensitiveData, $encrypted, $publicKey)) 
die('Failed to encrypt data'); 
$encryptedData = base64_encode($encrypted); 
```

需要在c#中实现相同的功能请给出一些解决方案

谢谢你

# jquery - jQuery UI 滑块范围未显示

> ID：15425928
> 
> 赞同：1
> 
> 时间：2013-03-15T06:12:41.297
> 
> 标签：jquery, html, css, slider

我正在使用 jQuery UI Slider。它工作正常，但`range div`（表示拖动多少部分的部分）未显示。
这是[小提琴](http://jsfiddle.net/WmuPN/2/)。有人可以解决这个问题。

另一件事是，我们可以在滑块上显示索引吗？
假设滑块有`min=0 and max=10`. 现在我想将数字显示`1`为`10`滑块上方或下方的索引。那将客户，他在哪里...

是否可以？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:20:42.340

为了显示选择的范围，

演示：http: [//jsfiddle.net/WmuPN/5/](http://jsfiddle.net/WmuPN/5/)

**代码：**

```
<div  class="vUiSlider"></div>
<div id="slideValue"></div> 
```

**脚本**

```
 $('.vUiSlider').slider({
     min:0,
     max:100,
     value:3,
     animate: true,
       slide: function( event, ui ) {
           $( "#slideValue" ).text(ui.value);
       }
   }); 
```

有关更多检查 jQuery UI 文档，[http://jqueryui.com/slider/#range](http://jqueryui.com/slider/#range)

**更新：**

检查这一点，[http://jsfiddle.net/WmuPN/10/](http://jsfiddle.net/WmuPN/10/)以显示选定的范围颜色

# javascript - jQuery 文件上传在 IE 8 和 9 中不起作用

> ID：15425934
> 
> 赞同：14
> 
> 时间：2013-03-15T06:13:48.703
> 
> 标签：javascript, jquery, internet-explorer, file-upload

![在此处输入图像描述](../Images/50f8f3fb3eac92d552521c995b65d1fc.png)

此代码适用于 FF 和 chrome。在 IE 8 或 9 中，我收到一个 500 错误，指出非空属性为空。

这是html

```
<div id="upload_button_div_general" class="fileupload-buttonbar" data-url="/Upload/SomeMethod">
    <label class="fileinput-button ui-button ui-widget ui-state-default ui-corner-all ui-button-text-icon-primary" role="button"> 
        <span class="ui-button-text">
            <span>Add Documents...</span> 
        </span>
        <input id="upload_button" type="file" name="postedFiles" multiple="" />
    </label>
</div>
<div id="UploadMessage" data-bind="visible: showMessage"> 
    <span>Documents</span>

    <ul data-bind="foreach: upload()">
        <li> 
            <a href="#" data-bind="click: $parent.openFile">
                <span data-bind="text: $data.fileName">  </span>
            </a>
        </li>
    </ul>
</div> 
```

这是javascript

```
function Upload(div, additionalParams, successFunc, failureFunc) {
    $('#' + div).fileupload({
        dataType: 'json',
        url: rootPath + 'Upload/SomeMethod',
        formData: additionalParams,
        start: function (e, data) {
            showLoading();
        },
        stop: function (e, data) {
            hideLoading();
        },
        add: function (e, data) {
            data.submit();
        },
        always: function (e, data) {
            var result = data.result;
            if (result.HasError) {
                failureFunc(result.Error);
            } else {
                successFunc(result);
            }
        }
    });
}; 
```

控制器方法是

```
public virtual JsonResult SomeMethod(IEnumerable<HttpPostedFileBase> postedFiles, int id) 
```

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-22T15:04:02.157

我能够通过包含 jquery.iframe-transport.js 来使其工作，然后我必须从 div 中删除我的淘汰赛“with”数据绑定以使其在 IE8 中工作，因为它在 IE9 中工作。（我在发布的代码上方有一个绑定）感谢所有建议。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-18T07:26:08.407

由于此函数在 FF 中运行良好，因此您在此处传递的变量只有一种可能性是未定义的，仅用于 IE。

检查 IE 控制台中的每个变量值。

提示：IE 对类型和所有内容都很严格。

例如：

```
parseInt(Number); 
```

FF 和 Chrome 将其假定为十进制值，而 IE 将其假定为八进制数。因此，建议给予`parseInt(Number,10)`。

甚至关于日期，如果你提供

```
var currentDate = new Date("March 18, 2013 11:13:00") 
```

在 Chrome 和 FF 中运行良好，但`undefined`在`invalid Date`IE 中显示。

[您可以在此处](https://stackoverflow.com/q/2182246/1577396)找到有关推荐的日期表示法的更多信息

所以，在上面的例子中，我只是想说你可能忘记声明**type**或**正确的 notation**。

虽然，这不是您要寻找的答案，但我希望这些信息对您有所帮助。

**更新**：由于错误是`500 error`，那么问题可能更可能出在`rootPath`变量的值上。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-09-13T14:16:44.823

只需将内容类型设置为 text/html 并将其作为 JSON 发送。

这应该适用于所有浏览器。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-10-10T14:17:07.580

```
 $("#txt1").fileupload({
            replaceFileInput: false,
            dataType: "json",        
            datatype:"json",
            url: "<%=Page.ResolveUrl("~/WebService/AddAttachment.ashx")%>",
            done: function (e, data) {
                $.each(data.result, function (index, value) {
             //You get the response data in here from your web service
                })
                $("#txt1").val("");
            }`enter code here`
        }); 
```

这在 IE8 和 IE9 + 以上都经过测试并且工作正常。请确保使用正确的数据类型：“json”（或数据类型：“json”），并确保您对 Web 服务方法的响应是正确的。谢谢

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2014-02-18T10:07:21.227

在 IE 上，如果您在上传文件时返回 json 之类的数据，则可以像这样获取此数据（json）：

```
done: function (e, datos)
{
try
{
   //This in FF, Chrome, Safari
   data=eval(JSON.parse(datos.result));
}catch (er)
{
    //This in IE
    data=eval(JSON.parse(datos.result[0].documentElement.innerText));
} 
```

* * *

## 回答 #6

> 赞同：-2
> 
> 时间：2013-03-21T19:36:29.927

如果通过 jQuery fileupload 你的意思是使用[http://blueimp.github.com/jQuery-File-Upload/](http://blueimp.github.com/jQuery-File-Upload/)那么它在浏览器支持部分清楚地表明他们实现的每个功能都需要 IE 10+。

[https://github.com/blueimp/jQuery-File-Upload/wiki/Browser-support](https://github.com/blueimp/jQuery-File-Upload/wiki/Browser-support)

如果您的意思是另一个插件，请忽略我的评论。

# opencv - 以垫子形式显示图像

> ID：15425935
> 
> 赞同：0
> 
> 时间：2013-03-15T06:13:48.867
> 
> 标签：opencv

我正在尝试在 opencv 中读取 mat 形式的图像并显示它。代码编译得很好，但是运行时会出现运行时错误，并且不显示图像。这是我的代码：

```
#include "stdafx.h"
#include<cv.h>
#include<highgui.h>
#include<iostream>
using namespace cv;
using namespace std;

void main()
{
    Mat Img;
    Img=imread("C:/Documents and Settings/image1.jpg");
    cvNamedWindow("Image",CV_WINDOW_AUTOSIZE);
    imshow( "Image", Img ); 
    cvWaitKey(0);
} 
```

谁能告诉我我哪里出错了？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T20:51:52.543

很可能`imread()`是失败了。除非您开始检查功能是否成功，否则您肯定会知道，这是您编写代码时要做的重要事情。

它可能失败的原因有几个：

*   您无权访问该文件。
*   路径不对。

在你的情况下，它可能是第一个。因此，将您的代码更改为：

```
Mat Img;
Img = imread("C:\\Documents and Settings\\image1.jpg");
if (Img.empty()) {
    std::cout <<  "!!! Failed to open the file\n";
    return;
} 
```

并注意文件路径有何不同。

# c# - 无法为接受 Expression 的方法推断实际类型

> ID：15425939
> 
> 赞同：4
> 
> 时间：2013-03-15T06:14:40.037
> 
> 标签：c#, type-inference, expression

我正在编写一个用于解析存储过程结果集的小型库（基本上，非常具体的 ORM 类型）。

我有课

```
class ParserSetting<T> // T - type corresponding to particular resultset
{
    ...
    public ParserSettings<TChild> IncludeList<TChild, TKey>(
        Expression<Func<T, TChild[]>> listProp,
        Func<T, TKey> foreignKey,
        Func<TChild, TKey> primaryKey,
        int resultSetIdx)
    { ... }
} 
```

这里方法`IncludeList`指定结果集编号。`resultSetIdx`应该将其解析`TChild`为由对象组成并分配给由`listProp`表达式定义的属性（作为数组）。

我使用它如下：

```
class Parent
{
   public int ParentId {get;set;}
   ...
   public Child[] Children{get;set;}
}

class Child
{
   public int ParentId {get;set;}
   ...
}
ParserSettings<Parent> parentSettings = ...;
parentSettings.IncludeList(p => p.Children, p=> p.ParentId, c => c.ParentId, 1); 
```

这种方法很有魅力。到目前为止，一切都很好。

除了数组之外，我还想支持不同类型的集合。所以，我正在尝试添加以下方法：

```
 public ParserSettings<TChild> IncludeList<TChild, TListChild, TKey>(
        Expression<Func<T, TListChild>> listProp,
        Func<T, TKey> foreignKey,
        Func<TChild, TKey> primaryKey,
        int resultSetIdx)
    where TListChild: ICollection<TChild>, new()
    { ... } 
```

但是，当我尝试按如下方式使用它时：

```
class Parent
{
   public int ParentId {get;set;}
   ...
   public List<Child> Children{get;set;}
}

class Child
{
   public int ParentId {get;set;}
   ...
}
ParserSettings<Parent> parentSettings = ...;
parentSettings.IncludeList(p => p.Children, p=> p.ParentId, c => c.ParentId, 1); 
```

C# 编译器发出错误消息“无法推断方法 ParserSettings.IncludeList(...) 的类型参数”。

如果我明确指定类型，它会起作用：

```
parentSettings.IncludeList<Child, List<Child>, int>(
    p => p.Children, p=> p.ParentId, c => c.ParentId, 1); 
```

但这有点违背了使调用过于复杂的目的。

有没有办法实现这种场景的类型推断？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:59:47.070

我还注意到，C# 编译器推断类型的能力不能“拐弯抹角”地工作。

在您的情况下，您不需要任何其他方法，只需重写`Child[]`as`ICollection<TChild>`并且签名将匹配数组、列表等：

```
 public ParserSettings<TChild> IncludeList<TChild, TKey>(
        Expression<Func<T, ICollection<TChild>>> listProp,
        Func<T, TKey> foreignKey,
        Func<TChild, TKey> primaryKey,
        int resultSetIdx) {
            ...
        } 
```

# java - 添加到 HashMap 会产生 NullPointerException

> ID：15425943
> 
> 赞同：0
> 
> 时间：2013-03-15T06:15:01.630
> 
> 标签：java, hashmap

所以我必须在 Java 中使用 HashMap，并且我需要用随机选取的 ArrayList 中的一些值填充它。

我正在正确填充 ArrayList，并且我拥有的代码采用一个随机数，n 小于 ArrayList 的大小，我使用该随机值访问 ArrayList 中的一个点并将其存储到 HashMap。所以这是我添加到 HashMap 的代码，如上所述，

```
hash.put(index, strArr.get(n)); 
```

其中 hash 是 HashMap 的名称，index 只是一个 int 值，strArr 是我从中获取项目的字符串的 ArrayList，n 是一个随机数。

这给了我一个 NullPointerException，我和我的三个 CS 朋友都不明白为什么。请帮助，非常感谢朝着正确方向迈出的任何一步。

所以这只是因为我没有初始化我的HashMap。抱歉，我刚刚在本周早些时候开始学习 HashMaps 把网站弄乱了。:)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T06:23:17.840

NullPointerException 意味着您正在尝试对未初始化的对象进行操作。这些是可能性：

1.  哈希为空
2.  strArr 为空
3.  n >= strArr size

    调试你的代码，看看什么是空的并且应该被初始化。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T06:37:16.510

> 第 1 点：您尚未初始化哈希图。

如果你还没有初始化你的hashmap并试图把元素放在hashmap中，你肯定会得到NPE。

> 第 2 点：您的 strArr 为空

同样的事情，如果你`strArr`是`null`并且你正在尝试访问**第 N 个**位置的元素，你肯定会得到 NPE。

下面的代码可能会对你有所帮助。

```
Map<Integer,String> hashMap = new HashMap<Integer, String>();

List<String> strList = new ArrayList<String>();

strList.add("Apple");
strList.add("Mango");

for(int i=0;i<strList.size();i++)
 {
   hashMap.put(i, strList.get(i));
 } 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T06:37:04.883

您是否初始化了`ArrayList`Class 的对象或 Class的对象`HashMap`？

```
 HashMap<Integer,ArrayList<Integer>> hash = new HashMap<Integer,ArrayList<Integer>>();
 ArrayList<Integer> array= new ArrayList<Integer>();
 array.add(30);
 hash.put(1, array); 
```

# extjs - 如何捕获通过 extjs 的 store.sync() 方法发送的数据

> ID：15425944
> 
> 赞同：1
> 
> 时间：2013-03-15T06:15:02.057
> 
> 标签：extjs, yii, sync

我在 extjs+Yii 工作。我的客户端功能在 yii 中设计，服务器端功能在 extjs 中。在 extjs 控制器中，我编写了代码来动态发送生成存储，设置其代理并使用存储的 sync() 方法。

```
 review:function()
    {  var reviewQuestionStore=Ext.create('Balaee.store.qb.QbqnsStore');
        proxy=reviewQuestionStore.getProxy();
        Ext.apply(proxy.api,{
            read:'http://127.0.0.1/s_balaee/Balaee/index.php/QuestionBank/Qbpaper/ReviewQuestionPaper',
            create:'http://127.0.0.1/s_balaee/Balaee/index.php/QuestionBank/Qbpaper/ReviewQuestionPaper',
        });
        Ext.apply(proxy.writer,{
            type:'json',
            root:'records'
        });

        Ext.apply(proxy.reader,{
            type:'json',
            root:'questions'
        });
        var getdata=this.getLocalvalue();
            UserId=getdata.data.userId;

        //Using sync method
        var check =Ext.create('Balaee.model.qb.QbqnsModel',{
                    questionPaperNo:Paperno,
                    userId: UserId,
                });
        reviewQuestionStore.add(check);
        reviewQuestionStore.sync();  
} 
```

所以它的工作是正确的。它以 json 格式发送数据为-

```
{"records":{"userId":"5","firstName":"abc","middleName":"","lastName":"","languageId":"","primaryEmail":"sdf@sdf.dfg","birthDate":"","password":"","securityQuestionId":"","securityQuestionAnswer":"","isMale":"","creationTime":"","ipAddress":"","confirmationCode":"","userStatusId":"","question":"","id":null}} 
```

现在我想在 yii 控制器函数中捕获这些数据。我试过——

```
 $postData = json_decode(file_get_contents("php://input"), true); 
      $clientData = $postData['records']; 
```

并访问我正在使用 $clientData['firstName'] 的字段。但它不起作用。那么如何在 Yii 中捕获通过 Extjs 的 store sync() 方法发送的数据。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:25:41.283

使用标准 Yii Json 解码。它将为您创建数组

```
$data=  CJSON::decode(file_get_contents("php://input")); 
```

# ruby-on-rails - 在 date_select Ruby on Rails 中禁用前几个月

> ID：15425946
> 
> 赞同：1
> 
> 时间：2013-03-15T06:15:04.373
> 
> 标签：ruby-on-rails

我想创建一个月份下拉列表，以便不会出现当年的前几个月。现在我的代码是：

```
<%= f.date_select :card_expires_on, :discard_day => true, :start_year => Date.today.year, :end_year => (Date.today.year+10), :add_month_numbers => true %> 
```

它现在显示了我所有的月份，但我想删除或隐藏过去的几个月..有没有办法？

提前致谢！:-)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-16T23:44:09.373

我没有对此进行测试，但我认为它应该可以工作。

```
<%= select nil, "name_of_your_model[card_expires_on(1i)]", (Date.today.year..Date.today.year+10).collect { |y| y }, options = {}, id: "card_expires_on_1i" %>

<%= select nil, "name_of_your_model[card_expires_on(2i)]", (Date.today..Date.today.end_of_year).collect { |d| ["#{d.strftime('%m')} - #{d.strftime('%B')}", d.strftime('%m')] }.uniq, options = {}, id: "card_expires_on_2i" %>

<%= text_field_tag "name_of_your_model[card_expires_on(3i)]", nil, type: 'hidden', value: Date.today.day, id: "card_expires_on_3i" %> 
```

基本上，当您将 date_select 放入表单时，它会创建三个选择。然后，Rails 使用“(1i)”、“(2i)”和“(3i)”分别将年、月和日重新组合在一起。确保将“name_of_your_model”更改为用于表单的模型名称，并将 text_field 的值更改为您想要的默认日期。

***更新***

我刚刚测试了这个，它确实有效！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-16T16:45:15.063

在我看来，您应该能够将其添加到助手中。我会回避 javascript

为剩余月份（）添加您自己的方法或一些类似的东西会更容易使用。

# java - 在单行条件返回语句上设置 Java 断点

> ID：15425947
> 
> 赞同：3
> 
> 时间：2013-03-15T06:15:04.737
> 
> 标签：java, debugging, ide, breakpoints

是否有任何 Java 调试器允许您`someOperation();`在以下语句中的方法调用语句上设置断点？

```
if (someCondition()) someOperation(); 
```

请注意，我在这里寻找一个非常具体的问题的答案。

1.  我对在评估`someCondition()`以确定何时停止适当时间的行上设置条件断点不感兴趣。
2.  我对在`someOperation()`方法中设置断点不感兴趣。
3.  我对条件和方法调用语句位于不同行的情况不感兴趣。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-22T01:46:09.253

我用一篇新文章更新了我的博客，该文章讨论了[Tunnel Vision Labs 的 Visual Studio Java 调试器](http://blog.280z28.org/archives/2013/03/138/)的当前状态。在本文中，我包含了以下动画图像，显示了此调试器的*当前行为*。

![单个语句步进](../Images/4758af753cce7716fc2fd10b76f0d267.png)

# linux - shell脚本上的不明确重定向

> ID：15425950
> 
> 赞同：0
> 
> 时间：2013-03-15T06:15:07.207
> 
> 标签：linux, bash, parsing, redirect

我试图创建一个小 shell 脚本，以便在将大文件从笔记本电脑的硬盘复制到外部驱动器时检查传输进度。从命令行来看，这是一个使用 pv 和简单重定向的简单壮举，尽管该行相当长并且您必须知道文件大小（这就是我想要脚本的原因）：

控制台：du 文件名（获取确切的文件大小）

控制台：猫文件名 | pv -s FILE_SIZE -e -r -p > dest_path/文件名

在我的 shell 脚本中，我添加了*egrep "[0-9]{1,}" -o*以去除文件名并仅保留 du 的返回值中的大小数字，其余的应该很简单。

```
#!/bin/bash
du $1 | egrep "[0-9]{1,}" -o
sudo cat $1 | pv -s $? -e -r -p > $2/$1 
```

问题是当我尝试使用它复制 file12345.mp3 时，我得到一个不明确的重定向错误，因为 egrep 从文件名中获取 12345，但我只想要大小。这意味着第一行的返回值实际上是：

文件大小

12345

哪个错误。我应该如何修改此脚本以仅解析第一个数字，直到第一个“”（空格）？

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:22:24.017

如果我理解正确：

要仅保留 du 命令输出中的文件大小：

```
du $1 | awk '{print $1}' 
```

（假设第一个字段是文件的大小）

在重定向中添加双引号以避免错误：

```
sudo cat $1 | pv -s $? -e -r -p > "$2/$1" 
```

`$2`由于您包含空格，因此已完成此引用。

# php - 为这个循环添加一条边

> ID：15425951
> 
> 赞同：0
> 
> 时间：2013-03-15T06:15:13.580
> 
> 标签：php

我正在尝试将一些文件从一个目录移动到另一个目录，我在[这里](https://stackoverflow.com/questions/2082138/move-all-files-in-a-folder-to-another)找到了这个脚本，但是这个脚本循环了所有文件，我想要改变这个脚本只循环 50 个文件。编码：

```
// Get array of all source files
$files = scandir("source");
// Identify directories
$source = "source/";
$destination = "destination/";
// Cycle through all source files
foreach ($files as $file) {
  if (in_array($file, array(".",".."))) continue;
  // If we copied this successfully, mark it for deletion
  if (copy($source.$file, $destination.$file)) {
    $delete[] = $source.$file;
  }
}
// Delete all successfully-copied files
foreach ($delete as $file) {
  unlink($file);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:26:10.367

可能我没看清楚，但是你考虑过简单的计数吗？

```
$i = 0;
foreach ($files as $file) {
  if (in_array($file, array(".",".."))) continue;
  // If we copied this successfully, mark it for deletion
 if($i < 50) {
  if (copy($source.$file, $destination.$file)) {
    unlink($source.$file); //move unlink here to avoid a second loop
  }
  else{
   break;
  }
 }
 $i++;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:26:30.287

使用 for 循环，而不是 foreach 循环。

在`for`这种情况下，循环更明智，因为每次运行此代码时，您都会循环一定次数。

`foreach`循环用于遍历整个数组或对象。

这是一种目的感。当另一个程序员查看您的代码时，他们会立即知道您正在循环 50 次，而不是循环整个数组。

```
// Get array of all source files
$files = scandir("source");

// Identify directories
$source = "source/";
$destination = "destination/";

for ($i=0; $i < 50; $i++) {
    $file = $files[$i];

    if( !$file ) 
        break;

    if (in_array($file, array(".",".."))) continue;

    // If we copied this successfully, mark it for deletion
    if (copy($source.$file, $destination.$file)) {
       $delete[] = $source.$file;
    }
}

// Delete all successfully-copied files
foreach ($delete as $file) {
    unlink($file);
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T06:26:55.223

您可以设置 a`count`并在达到 50 次时停止循环：

```
$count = 0;
$maxiterations = 50;

foreach ($files as $file) {
    if ($count  < $maxiterations) {
        if (in_array($file, array(".",".."))) continue;
        // If we copied this successfully, mark it for deletion
        if (copy($source.$file, $destination.$file)) {
            $delete[] = $source.$file;
        }
        $i++;
    } 
    else {
        break;
    }
} 
```

# meteor - Windows 上的 Meteor：meteor 命令不输出任何内容

> ID：15425953
> 
> 赞同：4
> 
> 时间：2013-03-15T06:15:23.727
> 
> 标签：meteor

我从 win.meteor.com 安装了 MSI 文件

我重新启动计算机，然后打开 CMD 并键入`meteor create app`，但没有任何反应。它没有说命令未定义，所以我不知道这里出了什么问题。

我正在使用 Windows 7 64 位家庭版。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-06T11:25:31.623

我发现了节点光纤的问题（在 Windows 上）并进行了初步修复 - 至少它为我解决了这个问题，我很想看看它是否也为其他人解决了这个问题。

最终问题显然是由于堆栈溢出和访问冲突而突然死亡。然而，根本原因是线程本地没有在光纤交换机上正确切换。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T07:03:56.647

你应该检查环境路径

像这样将 Meteor 根目录添加到 PATH

> 路径: ...;d:\Meteor;d:\Meteor\bin
> 
> METEOR_PATH: d:\Meteor
> 
> NODE_PATH: d:\Meteor\lib\node_modules

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-17T10:49:43.910

我也有这个问题。。

```
METEOR_PATH = C:\Program Files (x86)\Meteor\
NODE_PATH = C:\Program Files (x86)\Meteor\lib\node_modules
PATH = C:\Program Files (x86)\VMware\VMware vSphere CLI\Perl\site\bin;C:\Program Files (x86)\VMware\VMware vSphere CLI\Perl\bin;%SystemRoot%\system32;%SystemRoot%;%SystemRoot%\System32\Wbem;%SYSTEMROOT%\System32\WindowsPowerShell\v1.0\;C:\Program Files (x86)\Enterprise Vault\EVClient\;C:\Program Files (x86)\Heroku\bin;C:\Program Files (x86)\git\cmd;C:\Program Files\Java\jre6\bin\;C:\Program Files\Sublime Text 2;C:\Program Files (x86)\Meteor\;C:\Program Files (x86)\Meteor\bin 
```

当我运行meteor 命令时，它会在节点中打开meteor.js（如果我将console.log('xxx') 添加到meteor.js 中，我会看到输出），但是脚本完成时没有输出。

# php - php中的数组重新排列

> ID：15425955
> 
> 赞同：1
> 
> 时间：2013-03-15T06:15:26.130
> 
> 标签：php, arrays, loops

我的产品阵列 -

```
Array
(
    [0] => Product1
    [1] => 
    [2] => 
    [3] => 
    [4] => Product2
    [5] => 
    [6] => 
    [7] => Product3
    [8] => Product4
    [9] => Product5
) 
```

`Desired output`-

```
Array
(
    [0] => Product1
    [1] => Product1
    [2] => Product1
    [3] => Product1
    [4] => Product2
    [5] => Product2
    [6] => Product2
    [7] => Product3
    [8] => Product4
    [9] => Product5
) 
```

我的代码尝试 -

```
$i = 0;
$newone = array();
for( $i; $i < count($newarr); $i++ )
{
    if( $newarr[$i] != '' )
    {
        $newone[$i] = $newarr[$i];
    }
    else
    {
        $newone[$i] = $newarr[$i-1];
    }
}

echo "<pre>";print_r($newone); 
```

此代码的输出 -

```
Array
(
    [0] => Product1
    [1] => Product1
    [2] => 
    [3] => 
    [4] => Product2
    [5] => Product2
    [6] => 
    [7] => Product3
    [8] => Product4
    [9] => Product5
) 
```

让我知道如何操纵我的代码来实现这种数组。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T06:29:33.517

我猜你在你的代码中犯了一个小错误。你正在做的是，在这里放一个空的东西**($newone[$i] = $newarr[$i-1];)**。它应该是**$newone[$i-1]**。看看[这里](http://codepad.org/SB7yqbFR)

```
<?php

$newarr= Array( 'Product1', '', '', 'Product2', '', '', 'Product3', 'Product4', 'Product5');

print_r($newarr);
$i = 0;

$newone = array();
for( $i; $i < count($newarr); $i++ )
{
   if( $newarr[$i] != '' )
   {
     $newone[$i] = $newarr[$i];
   }
   else
   {
      $newone[$i] = $newone[$i-1];
   }
}

echo "<pre>";print_r($newone);

?> 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-03-15T06:18:49.190

```
$newArray = array();

foreach($products as $product)
{
    if($product != '')
    {
        $currentProduct = $product;
    }

    $newArray[] = $currentProduct;
}

print_r($newArray); 
```

请参阅**[键盘](http://codepad.org/xMbln2wQ)**。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T06:28:26.523

这是我的代码试试看

```
<?php
$newarr = array('Product1','','','Product2','','','Product3','Product4','Product5');
$newone = array();
$tempValue = '';
foreach($newarr as $key=>$value)
{
   if(($tempValue != $value) && ($value !== ''))
   {
      $tempValue = $value;
   }

   if( $value != '' )
   {
      $newone[$key] = $newarr[$key];
   }
   else
  {
      $newone[$key] = $tempValue;
   }
}

echo "<pre>";print_r($newone);
?> 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-03-15T08:31:23.743

检查此代码：这不使用任何循环：

```
$arr  = array('Product1','','','','','Product2','','','Product3','Product4','Product5');

$i    = 0;
$assoc_arr = array_reduce($arr, function ($result, $item) use(&$i) {
    $result[$i] = ($item == '') ? $result[$i-1] : $item;
    $i++;
    return $result;
}, array());

echo "<pre>";
print_r($assoc_arr); 
```

# ios - Apple 批准将所有用户数据（包括图像）保存到 iCloud

> ID：15425959
> 
> 赞同：0
> 
> 时间：2013-03-15T06:16:08.480
> 
> 标签：ios, icloud

我想开发一个由项目数组组成的 iOS 应用程序，每个项目都会有一些文本数据以及图像。我不想使用外部服务器，想利用 iCloud 来存储所有用户数据。将为用户提供启用/禁用 iCloud 同步的任何选项。每个项目的数据（文本和图像）将被包装在目录中并同步到 iCloud，为此我将使用 UIDocument 方法。

我浏览了互联网，发现除非我们将非用户生成的数据存储在 iCloud 中，否则我们在 Apple Review Process 中不会遇到任何问题。请让我知道我的理解是否正确，是否有可能被苹果拒绝。只是想在着手实施之前再三确定。

另外，我还需要考虑其他重要的点吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T16:55:37.713

> 请让我知道我的理解是否正确，是否有可能被苹果拒绝。

首先要了解的是， Apple**总是**有可能出于任何原因拒绝您的应用程序。他们的条款基本上说他们可以以任何理由拒绝他们想要的任何东西，即使你没有做任何违反他们规则列表中任何内容的事情。无法保证 Apple 永远不会拒绝您的应用程序。

**当您描述您的应用程序**时，没有什么明显违反 Apple 的任何规则，所以听起来您还可以。这假设图像不是可以在某些时候重新下载的东西，例如它们是在设备上创建的照片或其他类型的图像，而不是从某个地方下载的。不能保证，但 Apple 出于这个原因拒绝你的几率很低。

# python - python中的searchsort如何工作？

> ID：15425962
> 
> 赞同：8
> 
> 时间：2013-03-15T06:16:36.140
> 
> 标签：python, search, sortedlist

为了明确我的问题，如果我有一个数组 a 作为 Out[123]: [1, 3, 4, 6, 9, 10, 54] 当我尝试搜索列表中的数字时，searchsort 返回正确的值但是当我尝试了不在列表中的东西，它返回一个荒谬的值

这是一些结果

```
In [131]: a
Out[131]: [1, 3, 4, 6, 9, 10, 54]

In [132]: searchsorted(a,1)
Out[132]: 0

In [133]: searchsorted(a,6)
Out[133]: 3

In [134]: searchsorted(a,[9,54,1])
Out[134]: array([4, 6, 0])

In [135]: searchsorted(a,[9,54,1,0])
Out[135]: array([4, 6, 0, 0])
***> # here 0 is not in the list, but turns up @ position 0***

In [136]: searchsorted(a,740)
Out[136]: 7
***> # here 0 is not in the list, but turns up @ position 7*** 
```

为什么会这样？

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2013-03-15T06:20:54.487

`searchsorted`告诉你元素属于*哪里保证排序：*

> 找到排序数组 a 中的索引**，这样，如果 v 中的相应元素插入到索引之前，则 a 的顺序将被保留。**

在位置 7插入`740`将保留顺序，在位置 0 插入 0 也是如此。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2013-03-15T06:21:24.317

`searchsorted`它不会告诉你事情在哪里*，*它会告诉你事情*应该去哪里*以保持列表的排序。

所以`0`必须插入到位置 0，在`1`. 同样，`740`需要插入到位置 7，超出列表的当前末尾。

您可以通过阅读[此处](http://docs.scipy.org/doc/numpy/reference/generated/numpy.searchsorted.html)的文档来了解这一点：

> **numpy.searchsorted(a, v, side='left', sorter=None)**
> 
> 查找应插入元素以保持顺序的索引。
> 
> 找到排序数组 a 中的索引，这样，如果 v 中的相应元素插入到索引之前，则 a 的顺序将被保留。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T06:20:41.330

从[文档](http://docs.scipy.org/doc/numpy/reference/generated/numpy.searchsorted.html)中它指出它使用[二进制搜索](http://en.wikipedia.org/wiki/Binary_search_algorithm)来发现排序列表中项目的插入点。

“插入点”一词的意思是，如果将项目 I 插入到已排序数组 A 中的插入点索引 N，则数组 A 将保持与新项目 I 一起排序。

你的例子`[9, 54, 1]`没有意义，因为数组没有排序。

你可以`bisect`在 python 中使用模块来做同样的事情，没有 numpy.

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-10-13T16:33:58.893

**searchsorted(initial_list,insert_list,side) 默认值：side = 'left'**

```
For example: searchsorted(x,v)
x = [1,2,3,4,5]
v = [-10,10,2,3] 
```

[这是我的例子的结果](https://i.stack.imgur.com/MJtpb.jpg)

:)

# r - R中的三向制表

> ID：15425965
> 
> 赞同：0
> 
> 时间：2013-03-15T06:16:56.717
> 
> 标签：r, plyr

我有一个看起来像的数据集

```
| ID | Category | Failure |
|----+----------+---------|
|  1 | a        | 0       |
|  1 | b        | 0       |
|  1 | b        | 0       |
|  1 | a        | 0       |
|  1 | c        | 0       |
|  1 | d        | 0       |
|  1 | c        | 0       |
|  1 | failure  | 1       |
|  2 | c        | 0       |
|  2 | d        | 0       |
|  2 | d        | 0       |
|  2 | b        | 0       | 
```

这是每个 ID 可能通过中间事件序列以失败事件结束的数据`{a, b, c, d}`。我希望能够通过失败事件计算每个中间事件发生的 ID 数量。

所以，我想要一张表格

```
|            | a | b | c | d |
|------------+---+---+---+---|
| Failure    | 4 | 5 | 6 | 2 |
| No failure | 9 | 8 | 6 | 9 | 
```

其中，例如数字 4 表示在`a`发生的 4 个 ID 中以失败告终。

我将如何在 R 中执行此操作？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:49:51.920

您可以使用`table`例如：

```
dat <- data.frame(categ=sample(letters[1:4],20,rep=T),
                  failure=sample(c(0,1),20,rep=T))

res <- table(dat$failure,dat$categ)
rownames(res) <- c('Failure','No failure')
res
           a b c d
Failure    3 2 2 1
No failure 1 2 4 5 
```

您可以使用以下方法绘制它`barplot`：

```
barplot(res) 
```

![在此处输入图像描述](../Images/81b3df0a99d55096ccffd1ba03805121.png)

**编辑**以通过 ID 获取此信息，您可以使用`by`例如：

```
 dat <- data.frame(ID=c(rep(1,9),rep(2,11)),categ=sample(letters[1:4],20,rep=T),
               failure=sample(c(0,1),20,rep=T))
 by(dat,dat$ID,function(x)table(x$failure,x$categ))
dat$ID: 1

    a b c d
  0 1 2 1 3
  1 1 1 0 0
--------------------------------------------------------------------------------------- 
dat$ID: 2

    a b c d
  0 1 2 3 0
  1 1 3 1 0 
```

**使用**tapply****编辑****

 ****另一种方法是使用`tapply`

```
 with(dat,tapply(categ,list(failure,categ,ID),length)) 
```****

# ios - 使用 Avplayer 在后台播放视频

> ID：15425968
> 
> 赞同：9
> 
> 时间：2013-03-15T06:17:06.170
> 
> 标签：ios, video, background, avplayer

在我的 iPhone 应用程序中，我想在应用程序进入后台模式时继续播放视频。

我正在使用 AVPlayer 并没有找到任何在后台播放视频的方法。如果有人能在这方面帮助我，我将不胜感激。谢谢

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2013-03-20T12:15:33.843

我可以说这是可以实现的，我只是做到了。

此方法支持所有可能性：

*   屏幕被用户锁定；
*   按下主页按钮；
*   切换到其他应用程序。

只要您有一个`AVPlayer`运行 iOS 的实例，就可以防止设备自动锁定。

首先，您需要将应用程序配置为支持来自 Info.plist 文件的音频背景，并在`UIBackgroundModes`数组中添加`audio`元素。

然后将您的 AppDelegate.m 放入`- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions:`

这些方法

```
[[AVAudioSession sharedInstance] setDelegate: self];    
[[AVAudioSession sharedInstance] setCategory:AVAudioSessionCategoryPlayback error:nil]; 
```

和`#import <AVFoundation/AVFoundation.h>`

然后在您控制的视图控制器中`AVPlayer`

```
-(void)viewDidAppear:(BOOL)animated{
    [super viewDidAppear:animated];
    [[UIApplication sharedApplication] beginReceivingRemoteControlEvents];
    [self becomeFirstResponder];
} 
```

和

```
- (void)viewWillDisappear:(BOOL)animated
{
    [mPlayer pause];    
    [super viewWillDisappear:animated];
    [[UIApplication sharedApplication] endReceivingRemoteControlEvents];
    [self resignFirstResponder];
} 
```

然后回应

```
- (void)remoteControlReceivedWithEvent:(UIEvent *)event {
    switch (event.subtype) {
        case UIEventSubtypeRemoteControlTogglePlayPause:
            if([mPlayer rate] == 0){
                [mPlayer play];
            } else {
                [mPlayer pause];
            }
            break;
        case UIEventSubtypeRemoteControlPlay:
            [mPlayer play];
            break;
        case UIEventSubtypeRemoteControlPause:
            [mPlayer pause];
            break;
        default:
            break;
    }
} 
```

如果用户按下主页按钮，则需要另一个技巧来恢复再现（在这种情况下，再现会因淡出而暂停）。

当您控制视频的再现时（我有`play:`和`pause:`方法）设置

```
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(applicationDidEnterBackground:) name:UIApplicationDidEnterBackgroundNotification object:nil]; 
```

和

```
[[NSNotificationCenter defaultCenter] removeObserver:self name:UIApplicationDidEnterBackgroundNotification object:nil]; 
```

以及要调用的相应方法，该方法将启动计时器并恢复再现。

```
- (void)applicationDidEnterBackground:(NSNotification *)notification
{
    [mPlayer performSelector:@selector(play) withObject:nil afterDelay:0.01];
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-10-23T18:31:31.797

在你的试试这个代码`applicationDidEnterBackground`：

```
UIApplication *app = [UIApplication sharedApplication]; 
bgTask = 0;

backgroundTimer = [NSTimer scheduledTimerWithTimeInterval:60 target:self selector:@selector(backgroundTask) userInfo:nil repeats:YES];

bgTask = [app beginBackgroundTaskWithExpirationHandler:^{ 
[app endBackgroundTask:bgTask]; 
```

我发现它在堆栈的某个地方对我有用

另请查看本教程，其中涵盖背景模式，包括背景音频.. [http://www.raywenderlich.com/29948/backgrounding-for-ios](http://www.raywenderlich.com/29948/backgrounding-for-ios)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2013-03-15T11:15:40.037

当应用程序处于后台时，您可以执行此后台任务：

1> 音频
2> 位置
3> voip
4> newsstand-content
5> external-accessory
6> bluetooth-central
7> bluetooth-peripheral
看到这个链接，

```
http://developer.apple.com/library/ios/#documentation/iphone/conceptual/iphoneosprogrammingguide/ManagingYourApplicationsFlow/ManagingYourApplicationsFlow.html
http://www.rideitdown.com/2012/10/how-to-listen-youtube-videos-in.html 
```

这也可以帮助你： [AVPlayer play video in background](https://stackoverflow.com/questions/10478622/avplayer-play-video-in-background)

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-01-13T18:57:20.953

当应用程序进入后台时，上述答案会暂停视频一秒钟，但是通过使用下面提到的方法，它可以在应用程序进入后台时保持视频播放而不会出现任何故障。

如果 AVPlayer 的当前项目正在设备显示屏上显示视频，则当应用程序被发送到后台时，AVPlayer 的播放会自动暂停。**有两种方法可以防止这种暂停：**

1.  禁用播放器项目中的视频轨道（仅限基于文件的内容）。
2.  从其关联的 AVPlayer 中删除 AVPlayerLayer（将 AVPlayerLayer 播放器属性设置为 nil）。

> 参考
> 
> [在 iOS 上使用 AV Foundation 在后台播放媒体](https://developer.apple.com/library/content/qa/qa1668/_index.html#//apple_ref/doc/uid/DTS40010209-CH1-VIDEO)

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2021-01-27T11:24:24.883

**在 viewDidLoad中将 AVAudioSession**类别设置为**.playback**模式

```
let audioSession = AVAudioSession.sharedInstance()
do {
     try audioSession.setCategory(.playback, mode: .moviePlayback, options: [])
} catch {
     print("Failed to set audio session category.")
} 
```

添加**NotificationObservers**

```
NotificationCenter.default.addObserver(self, selector: #selector(applicationWillEnterForeground), name: UIApplication.willEnterForegroundNotification, object: nil)
NotificationCenter.default.addObserver(self, selector: #selector(applicationDidEnterBackground), name: UIApplication.didEnterBackgroundNotification, object: nil)

//App enter in forground.
@objc func applicationWillEnterForeground(_ notification: Notification) {
    // Reconnect the AVPlayer to the presentation when returning to the foreground

    // If presenting video with AVPlayerViewController
    playerViewController.player = player

    // If presenting video with AVPlayerLayer
    playerLayer.player = player
}

//App enter in foreground.
@objc func applicationDidEnterBackground(_ notification: Notification) {
    // Disconnect the AVPlayer from the presentation when entering background

    // If presenting video with AVPlayerViewController
    playerViewController.player = nil

    // If presenting video with AVPlayerLayer
    playerLayer.player = nil
} 
```

参考

[在后台播放来自视频资产的音频](https://developer.apple.com/documentation/avfoundation/media_playback_and_selection/creating_a_basic_video_player_ios_and_tvos/playing_audio_from_a_video_asset_in_the_background)，

[AVAudioSession](https://developer.apple.com/documentation/avfoundation/avaudiosession)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2018-12-10T14:58:46.443

您可以使用以下代码集来满足您的要求。

**斯威夫特：4.2**

只是，创建子类`UIViewController`

```
import UIKit
import AVFoundation

class VideoPlayer:UIViewController{
    var avPlayer: AVPlayer!
    var avPlayerLayer: AVPlayerLayer!
    var paused: Bool = false

    override func viewWillAppear(_ animated: Bool) {
        super.viewWillAppear(animated)
        view.backgroundColor = .clear
        avPlayer?.play()
        paused = false
    }

    override func viewDidLoad() {
        super.viewDidLoad()

        let theURL = Bundle.main.url(forResource:"VIDEO_NAME", withExtension: "VIDEO_TYPE") //VIDEO_TYPE -> MP4

        avPlayer = AVPlayer(url: theURL!)
        avPlayerLayer = AVPlayerLayer(player: avPlayer)
        avPlayerLayer.videoGravity = AVLayerVideoGravity.resizeAspectFill
        avPlayer.volume = 0
        avPlayer.actionAtItemEnd = .none

        avPlayerLayer.frame = view.layer.bounds
        view.backgroundColor = .clear
        view.layer.insertSublayer(avPlayerLayer, at: 0)

        addPlayerNotifications()
    }

    deinit {
        removePlayerNotifations()
    }

    func addPlayerNotifications() {
        NotificationCenter.default.addObserver(self,
                                               selector: #selector(playerItemDidReachEnd(notification:)),
                                               name: NSNotification.Name.AVPlayerItemDidPlayToEndTime,
                                               object: avPlayer.currentItem)
        NotificationCenter.default.addObserver(self, selector: #selector(applicationWillEnterForeground), name: UIApplication.willEnterForegroundNotification, object: nil)
        NotificationCenter.default.addObserver(self, selector: #selector(applicationDidEnterBackground), name: UIApplication.didEnterBackgroundNotification, object: nil)
    }

    func removePlayerNotifations() {
        NotificationCenter.default.removeObserver(self, name: NSNotification.Name.AVPlayerItemDidPlayToEndTime, object: nil)
        NotificationCenter.default.removeObserver(self, name:UIApplication.willEnterForegroundNotification, object: nil)
        NotificationCenter.default.removeObserver(self, name:UIApplication.didEnterBackgroundNotification, object: nil)
    }

    @objc func playerItemDidReachEnd(notification: Notification) {
        let p: AVPlayerItem = notification.object as! AVPlayerItem
        p.seek(to: CMTime.zero)
    }

    //App enter in forground.
    @objc func applicationWillEnterForeground(_ notification: Notification) {
        paused = false
        avPlayer?.play()
    }

    //App enter in forground.
    @objc func applicationDidEnterBackground(_ notification: Notification) {
        paused = true
        avPlayer?.pause()
    }

    override func viewDidDisappear(_ animated: Bool) {
        super.viewDidDisappear(animated)
        avPlayer.pause()
        paused = true
    }
} 
```

现在，Almoast 完成了。只需`UIViewcontroller`使用以下子类创建类。

```
class Classname: VideoPlayer{
   override func viewDidLoad() {
        super.viewDidLoad()
    }
} 
```

# reverse-engineering - 在windbg中分解函数的起始地址

> ID：15425971
> 
> 赞同：4
> 
> 时间：2013-03-15T06:17:29.890
> 
> 标签：reverse-engineering, windbg, disassembly

`gdb`我可以在`disas functionname`命令中找到函数的起始地址。

我怎样才能对 WinDBG 做同样的事情？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2013-03-15T07:02:12.433

[x](http://msdn.microsoft.com/en-us/library/windows/hardware/ff561506(v=vs.85).aspx)命令显示与指定模式匹配的所有上下文中的符号`x [Options] Module!Symbol`。[uf](http://msdn.microsoft.com/en-us/library/windows/hardware/ff558942(v=vs.85).aspx)命令显示内存中指定函数的汇编翻译`uf [Options] Address` 。

```
0:000> x handle!main*
00000000`00d17154 handle!mainret = 0n0
00000000`00d113f0 handle!main (int, char **)
00000000`00d11840 handle!mainCRTStartup (void)
0:000> uf main
handle!main [d:\documents\visual studio 2010\projects\handle\handle\main.cpp @ 27]:
   27 00000000`00d113f0 55              push    rbp
   27 00000000`00d113f1 8bec            mov     ebp,esp
   27 00000000`00d113f3 81ece8000000    sub     esp,0E8h
   27 00000000`00d113f9 53              push    rbx
   27 00000000`00d113fa 56              push    rsi 
```

或者简单地使用函数内的任何地址

```
0:000> uf 00d11465
handle!main [d:\documents\visual studio 2010\projects\handle\handle\main.cpp @ 27]:
   27 00000000`00d113f0 55              push    rbp
   27 00000000`00d113f1 8bec            mov     ebp,esp
   27 00000000`00d113f3 81ece8000000    sub     esp,0E8h
   27 00000000`00d113f9 53              push    rbx
   27 00000000`00d113fa 56              push    rsi
   27 00000000`00d113fb 57              push    rdi 
```

# java - 可运行的 jar 不反映 db 文件中的更改

> ID：15425972
> 
> 赞同：0
> 
> 时间：2013-03-15T06:17:32.103
> 
> 标签：java, sql, jar, applet

我有一个可运行的 jar，它使用从 SQL 命令到 SQLite 数据库的结果填充 JComboBox。此后，我更改了数据库中的一些拼写错误并重新编译了 .jar，但错误仍然存​​在。为了测试我是否在正确的路径中编辑了正确的文件，我将文件名更改为 db2.db，并且 runnable 崩溃了。（文件未找到）。我用 SQLite 查看器检查了表，并且更改在那里，所以我将它重命名为 db.db，重新编译并运行，拼写错误又回来了！

这是怎么回事？

**Edit1：更多信息：** 在 OS X 和 Windows 上测试。DL 一个新 jar 的人会看到更新的更改，而不是拥有旧版本的人。此外，一个人运行了 jetclean 并且它起作用了。简单地清除 java 缓存是行不通的。

**Edit2：** 当我在 Eclipse 中运行它时，一切都很好。只有当我在以前运行过相同程序的旧版本的机器上将它作为 runnable.jar 运行时才会发生这种情况。没有运行旧版本（包含旧数据库）的机器不受影响。

**Edit3** 有人建议不要将 db 放入 .jar 虽然我同意这可行，但我想知道为什么会发生这种情况并实际学习一些东西而不是解决问题。

# android - 创建一个简单的输出到 logcat

> ID：15425975
> 
> 赞同：0
> 
> 时间：2013-03-15T06:17:37.273
> 
> 标签：android, logging, int

我无法弄清楚输出 int logcat 的正确方法，并且[api 文档](http://developer.android.com/reference/android/util/Log.html)对我来说没有意义。

我觉得应该这样做：

```
package com.example.conflip;

import java.util.Random;

import android.os.Bundle;
import android.app.Activity;
import android.util.Log;
import android.view.Menu;

public class MainActivity extends Activity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        flip();
    }

    public int flip() {
        Random randomNumber = new Random();
        int outcome = randomNumber.nextInt(2);
        Log.d(outcome);
        return outcome;
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.main, menu);
        return true;
    }

} 
```

但是我只得到错误`The method d(String, String) in the type Log is not applicable for the arguments (int)`

我需要将 int 转换为字符串吗？如果是这样，怎么办？

**更新：**

尽管以下所有解决方案都有效，但在我在 DDMS 中选择我的硬件设备之前，LogCat 不会显示输出。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-03-15T06:19:51.603

根据需要使用`Integer.toString(outcome)`String 作为 Log 中的参数

```
so overall Log.d(tag_name, Integer.toString(outcome)); 
```

[在这里](http://developer.android.com/reference/android/util/Log.html)您可以查看日志的详细信息。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-15T06:20:45.800

在 onCreate 方法之前添加这一行

```
private static final String TAG = "your activity name"; 
```

现在你在翻转

```
Log.d(TAG, "outcome = " + outcome); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2013-03-15T06:53:04.913

```
public class MainActivity extends Activity {

private String TAG = "MainActivity"; //-------------Include this-----------
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        flip();   //----You miss this out perhaps-----
    }
public int flip() {
    Random randomNumber = new Random();
    int outcome = randomNumber.nextInt(2);
    Log.d(TAG, "Checking Outcome Value:" +outcome); //----Include this--------
    return outcome;
} 
```

您还可以将 Log.d 更改为 Log.i（信息）、Log.w（警告）、Log.e（错误）

这取决于您要显示的消息类型（主要是颜色不同）。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-15T06:30:02.203

用这个：

```
public int flip() {
    Random randomNumber = new Random();
    int outcome = randomNumber.nextInt(2);
   Log.d("This is the output", outcome.toString());
    return outcome;
} 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2013-03-15T06:20:13.453

使用 Log.d（字符串，字符串）。第一个字符串是一个将出现在 logcat 中的标签 - 一个您可以搜索的简单标识符。第二个是打印到日志的消息。要获取 int 的字符串，请使用 Integer.toString(value)。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-03-15T06:56:29.073

您应该使用 string.valueof(integer) 来获取 log cat 中的输出，例如。

```
int outcome = randomNumber.nextInt(2);
        Log.d("urtag",String.valueOf(outcome)); 
```

# android - 如何打开.vcf 文件并上传到服务器？

> ID：15425978
> 
> 赞同：0
> 
> 时间：2013-03-15T06:17:54.650
> 
> 标签：android, vcf-vcard

我正在开发一个 android 应用程序，其中有一个 edittext 和两个按钮，一个用于附加 .vcf 文件，另一个用于将 .vcf 文件发送到在 edittext 中输入的电子邮件 ID。

我只需要从 sdcard 中选择 .vcf 文件并取回其路径，以便将其发送到电子邮件 ID。任何帮助都会非常有用。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-01T11:20:50.360

在浪费了大量的时间之后，我终于得到了答案。获取 .vcf 文件非常容易。它需要一些java文件概念。以下是将从 sdcard 获取 .vcf 文件的代码：

```
public ArrayList<String> GetFiles() {
        ArrayList<String> MyFiles = new ArrayList<String>();
        File f = new File(Environment.getExternalStorageDirectory().getAbsolutePath()+"/VCFFiles");

        f.mkdirs();
        File[] files = f.listFiles();
        if (files.length == 0)
            return null;
        else {
            for (int i=0; i<files.length; i++) 
                if(files[i].getPath().endsWith(".vcf")){
                MyFiles.add(files[i].getName());
                }
        }

        return MyFiles;
    } 
```

# android - 在 android 和 php webservices 之间发送和接收 json - 强制关闭

> ID：15425984
> 
> 赞同：0
> 
> 时间：2013-03-15T06:18:02.240
> 
> 标签：android

我正在尝试从我的 Android 应用程序发送数据并根据输入接收输出。但是，只要我单击按钮，应用程序就会关闭。这是我在android中的java文件代码：

```
package com.example.diary;

import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

import org.apache.http.NameValuePair;
import org.apache.http.client.ClientProtocolException;
import org.apache.http.client.HttpClient;
import org.apache.http.client.ResponseHandler;
import org.apache.http.client.entity.UrlEncodedFormEntity;
import org.apache.http.client.methods.HttpPost;
import org.apache.http.impl.client.BasicResponseHandler;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.message.BasicNameValuePair;

import android.app.Activity;
import android.os.AsyncTask;
import android.os.Bundle;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.EditText;
import android.widget.ProgressBar;
import android.widget.Toast;

public class MainActivity extends Activity implements OnClickListener
{
    private EditText value;
    private Button btn;
    private ProgressBar pb;
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        value=(EditText)findViewById(R.id.editText1);
        btn=(Button)findViewById(R.id.button1);
        pb=(ProgressBar)findViewById(R.id.progressBar1);
        pb.setVisibility(View.GONE);
        btn.setOnClickListener(this);
    }
    @Override
    public void onClick(View arg0) {
        // TODO Auto-generated method stub
                    if(value.getText().toString().length()<1){

                        // out of range
                        Toast.makeText(this, "please enter something", Toast.LENGTH_LONG).show();
                    }else{
                        pb.setVisibility(View.VISIBLE);
                        new MyAsyncTask().execute(value.getText().toString());      
                    }

    }
    private class MyAsyncTask extends AsyncTask<String, Integer, Double>{

        @Override
        protected Double doInBackground(String... params) {
            // TODO Auto-generated method stub
            postData(params[0]);
            return null;
        }

        protected void onPostExecute(Double result){
            pb.setVisibility(View.GONE);
            Toast.makeText(getApplicationContext(), "Code Sent", Toast.LENGTH_LONG).show();
        }
        protected void onProgressUpdate(Integer... progress){
            pb.setProgress(progress[0]);
        }
        public void postData(String valueIWantToSend) {

            HttpClient httpclient = new DefaultHttpClient();
            HttpPost httppost = new HttpPost("http://10.0.2.2/remoteaccess/index.php");
            //HttpPost httppost = new HttpPost("http://192.168.1.13/educlinic/Widget/AndroidApp");
            try {

                // Add your data
                List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>();
                nameValuePairs.add(new BasicNameValuePair("myHttpData", valueIWantToSend));
                httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
                ResponseHandler<String> responseHandler = new BasicResponseHandler();
                String response = httpclient.execute(httppost, responseHandler);

                //This is the response from a php application
                String reverseString = response;
                Toast.makeText(getApplicationContext(), "response" + reverseString, Toast.LENGTH_LONG).show();

                } catch (ClientProtocolException e) {
                Toast.makeText(getApplicationContext(), "CPE response " + e.toString(), Toast.LENGTH_LONG).show();
                // TODO Auto-generated catch block
                } catch (IOException e) {
                Toast.makeText(getApplicationContext(), "IOE response " + e.toString(), Toast.LENGTH_LONG).show();
                // TODO Auto-generated catch block
                }
        }

}} 
```

这是xml文件的代码：

```
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:paddingBottom="@dimen/activity_vertical_margin"
    android:paddingLeft="@dimen/activity_horizontal_margin"
    android:paddingRight="@dimen/activity_horizontal_margin"
    android:paddingTop="@dimen/activity_vertical_margin"
    tools:context=".MainActivity" >

    <TextView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/hello_world" 
        android:id="@+id/text1"/>

    <EditText
        android:id="@+id/editText1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_alignLeft="@+id/text1"
        android:layout_below="@+id/text1"
        android:layout_marginLeft="21dp"
        android:layout_marginTop="22dp"
        android:ems="10" >

        <requestFocus />
    </EditText>

    <Button
        android:id="@+id/button1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/editText1"
        android:layout_centerHorizontal="true"
        android:layout_marginTop="59dp"
        android:text="Button" />

    <ProgressBar
        android:id="@+id/progressBar1"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@+id/button1"
        android:layout_centerHorizontal="true"
        android:layout_marginTop="44dp" />

</RelativeLayout> 
```

这是针对 php 的：

```
<?php
$data = $_POST['myHttpData'];
 echo $data;
?> 
```

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T06:38:40.883

很可能您会收到以下错误：

> RuntimeException：无法在未调用 Looper.prepare() 的线程内创建处理程序

在`postData`您尝试显示 Toast 的方法内部。但是您正在`postData` 从非 UI 线程调用方法（来自 AsyncTask 的 doInBackground 方法）。

`postData`只需从方法中删除 Toast或用于`onPostExecute`访问或更新 UI 元素

# java - 使用java发送邮件时在地址中添加cc和bcc

> ID：15425985
> 
> 赞同：10
> 
> 时间：2013-03-15T06:18:02.517
> 
> 标签：java, email

我正在使用 java 发送电子邮件。我想在地址中以密件抄送和抄送选项的形式发送邮件，这怎么可能。我正在使用以下代码。

```
 public String sendemail(String xtomail,String xsub,String xbody)
    {
   final String username ="adeshsingh86@gmail.com";
    final String password ="passwordhere";

    Properties props = new Properties();
    props.put("mail.smtp.auth", "true");
    props.put("mail.smtp.starttls.enable", "true");
    props.put("mail.smtp.host", "smtp.gmail.com");
    props.put("mail.smtp.port", "587");

    Session session = Session.getInstance(props,
      new javax.mail.Authenticator() {
        protected javax.mail.PasswordAuthentication getPasswordAuthentication() {
            return new javax.mail.PasswordAuthentication(username, password);
        }
      });

    try {

        Message message = new MimeMessage(session);
        //message.setFrom(new InternetAddress("adeshsingh86@gmail.com"));
                    message.setFrom(new InternetAddress(username));
        message.setRecipients(Message.RecipientType.TO,
            //InternetAddress.parse("kmukesh2008@gmail.com"));
                            InternetAddress.parse(xtomail));
        //message.setSubject("Testing Subject");
                    message.setSubject(xsub);
 // message.setText("Dear Mail Crawler,"
//          + "\n\n No spam to my email, please!");

                        message.setText(xbody);

        Transport.send(message);

        return "Y";

    } catch (MessagingException e) {
                return "N";
        //throw new RuntimeException(e);

            }

} 
```

* * *

## 回答 #1

> 赞同：30
> 
> 时间：2013-03-15T08:56:36.280

您使用 setter 方法设置收件人。看看你是如何添加它的，你会看到你添加了一个 Message.RecipientType.TO。CC 和 BCC 也可以这样做。您也可以为此使用 addRecipient 方法。

前任：

```
message.addRecipient(RecipientType.BCC, new InternetAddress(
            "your@email.com"));
message.addRecipient(RecipientType.CC, new InternetAddress(
            "yourOther@email.com")); 
```

更多信息：[MimeMessage API](http://docs.oracle.com/javaee/6/api/javax/mail/internet/MimeMessage.html)

# c# - 将 matlab 数据传输到 C#

> ID：15425986
> 
> 赞同：0
> 
> 时间：2013-03-15T06:18:09.540
> 
> 标签：c#, matlab

我从**C#**程序中调用了**matlab**函数。它返回一个对象。我想在对象o中显示数据。o 里面有“洋葱”。我使用以下代码在控制台上显示“洋葱”，但它提供以下输出：

 ***显示结果：*

```
System.Object[,] 
```

*使用的代码：*

```
 object o = matlab.GetVariable("f", "base");
        string s = o.ToString();
        string ss=Convert.ToString(s);
        //matlab.GetFullMatrix("f", "base", ref cr, ref ci);
        System.Console.WriteLine("Displaying results: ");
        System.Console.WriteLine(ss); 
```

任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:42:41.763

由于 o 的类型是 System.Object[,]，所以 o.ToString() 等于 "System.Object[,]" 是公平的。如果要显示 o 的值，请不要调用 o.ToString()。

下面的伪代码（未测试）

```
 var a=O[0,0] as string;
   var b=O[1,0] as int;
   var str_A=a.ToString();
   var str_B=b.ToString(); 
```

看看这是否适合你。**

# php - 验证保存在数据库中的产品密钥

> ID：15425987
> 
> 赞同：0
> 
> 时间：2013-03-15T06:18:10.357
> 
> 标签：php, html, database

我正在设计一个产品注册系统，它接受已经保​​存在数据库中的 XXXXX-XXXXX-XXXXX-XXXXX 作为密钥。我想检查密钥是否在数据库中注册，如果是，则必须输入其他字段，如姓名、电子邮件 ID、联系电话等。但我不知道如何验证用户提交的产品密钥，因为注册表包含以下代码：

```
 <tr>
    <td><span>Product Key:</span></td>
    <td>
        <input type="text" id="productkey" onKeyUp="moveOnMax(this,productkey2)" size="4" maxlength="5" /> 
         - <input type="text" id="productkey2" onKeyUp="moveOnMax(this,productkey3)" size="4" maxlength="5" /> 
         - <input type="text" id="productkey3" onKeyUp="moveOnMax(this,productkey4)" size="4" maxlength="5"/> 
         - <input type="text" id="productkey4" size="4" maxlength="5"/>
    </td>
  </tr> 
```

除了产品密钥，我知道如何将其余信息保存在数据库中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T06:31:31.537

我的php知识薄弱，但我希望这会对你有所帮助

```
<?php
////// Post Data from HTML Form
$serialNumber = $_POST['prodectkey'];

////// Your Database Connection Informaiton
$DB_HostName = "127.0.0.1";
$DB_Name = "products";
$DB_User = "root";
$DB_Pass = "root";
$DB_Table = "serial";

////// Connection Happen Here
$con = mysql_connect($DB_HostName,$DB_User,$DB_Pass) or die(mysql_error()); 
mysql_select_db($DB_Name,$con) or die(mysql_error()); 

if (!$con)
  {
  die('Could not connect: ' . mysql_error());
  }

$result1 = mysql_query("SELECT * FROM prodects where key=$serialNumber");
$column = array();

while($row = mysql_fetch_array($result))
{

    $column[] = $row['key'];
   $conted = count($column);

}
if ($conted == 1) {
  echo "Done I could find it in the database";
}else{
echo "I couldn't find it :(";
}

mysql_close($con);

?> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T06:38:50.647

```
 <input type="text" id="productkey" name="first" onKeyUp="moveOnMax(this,productkey2)" size="4" maxlength="5" /> 
- <input type="text" name="second" id="productkey2" onKeyUp="moveOnMax(this,productkey3)" size="4" maxlength="5" /> 
- <input type="text" name="third" id="productkey3" onKeyUp="moveOnMax(this,productkey4)" size="4" maxlength="5"/> 
- <input type="text" name="fourth" id="productkey4" size="4" maxlength="5"/> 
```

您需要`name`文本框的属性，因为 PHP 使用它来识别输入数据。然后你可以简单地做

```
$userEnteredProductKey = $_POST['first'].'-'.$_POST['second'].'-'.$_POST['third'].'-'.$_POST['fourth'];
// $userEnteredProductKey will contain data in xxxxx-xxxxx-xxxxx-xxxx format 
```

然后`$userEnteredProductKey`在`WHERE`您的 SQL 查询的子句中使用来比较数据。

# ios - 目标 C - 区分 nil 和“ 无价值”

> ID：15425992
> 
> 赞同：0
> 
> 时间：2013-03-15T06:18:17.900
> 
> 标签：ios, objective-c

我正在构建一个图表视图，我给它一个数据源，它可以请求一个与给定 X 索引相对应的 Y 值。在某些情况下，给定的 X 索引没有 Y 值。在这种情况下我不能发送 nil，因为 0 可能是一个完全有效的 Y 值。在目标 C 中传达根本没有价值的最佳方式是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T06:22:42.503

在我看来，您正在使用某种对象在模型和视图之间发送数据，也许`NSNumber`，它持有一个值，并且您正在通过向其发送消息来检索该值，并且您知道如果对象是`nil`，消息发送将返回`0`。

这是正确的。在这种情况下，只需检查对象是否为`nil`，然后相应地继续：

```
- (void)plotValue:(NSNumber *)number
{
    if (number == nil) {
        // no value
    } else {
        // Value may be 0, but you can now safely plot it.
    }
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-03-15T06:19:24.967

`nil`不是`0`。它们是不同的。

如果您正在使用`NSNumber`，则`nil`显然与 的集合不相交`NSNumber`。

如果您正在使用`int`，那么您将无法使用`nil`.

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2013-03-15T06:24:25.877

不要在数据源中使用原语，而是使用 NSNumber。然后，您可以区分 nil 和存储值 0 的 NSNumber。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2013-03-15T06:31:08.053

如果您不想使用对象 ( `NSNumber`)，您可以返回一个**负数**（如果可能）或数据源不太可能返回**的最大/最小整数。**

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2013-03-15T06:37:42.117

我假设你在谈论一些像 NSInteger 之类的标量。如果从字面上看，任何整数对于 Y 值都是有效的，那么就没有办法做到这一点。但是，很可能存在一些实用范围，因此您可以选择该范围之外的一些值来“特殊”。例如，Cocoa 有 value `NSNotFound`，如果你请求一个不在数组中的对象的索引，NSArray 将返回这个值。它被定义为最大可能的 NSInteger。如果你的 Y 值永远不会是 NSIntegerMax，你可以自己重用它。

另一个选项，假设您不想为此创建特殊类型，将让您的方法返回 Y 以及是否实际找到 Y。例如，一些粗略的伪代码：

```
- (NSInteger)yForX:(NSInteger)x wasFound:(BOOL *)found {
    if (yWasFound) {
        if (found) 
            *found = YES;
        return y;
    } else {
        if (found)
            *found = NO;
        return 0;
    }
} 
```

You could use NSNumber, as some have suggested, but I find it a little awkward to deal in NSNumbers just to get nil.

# plone - 克隆：主从小部件

> ID：15425993
> 
> 赞同：2
> 
> 时间：2013-03-15T06:18:24.327
> 
> 标签：plone

我正在寻找一种显示两个选择字段 A 和 B 的方法，其中 B 取决于在 A 中所做的选择。例如：假设 A 是用于显示世界各国的选择小部件，那么 B 应该只列出那些城市可以在 A 字段中选择的国家/地区找到。

我打算在自定义内容类型中使用它，并希望在我的视图模板中创建一个搜索过滤器。

Plone有这样的功能吗？我看过[Products.MasterSelectWidget](https://pypi.python.org/pypi/Products.MasterSelectWidget)但它很旧并且与 Plone 4.2 不兼容。

我在想我可能必须使用 ajax 手动执行此操作。

有任何想法吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-03-15T09:17:39.037

如果您使用的是 Archetypes 框架，MasterSelectWidget 仍然是您需要的答案。

您说它不适用于 Plone 4.2（我从未测试过），但可能只需要少量修复即可恢复工作。不要被产品陈旧的事实吓到...... Archetypes 框架在过去几年没有太大变化！

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-25T06:55:56.390

以防万一，如果有人正在使用 Dexterity 框架寻找这样的小部件。有 plone.formwidget.masterselect ：[https ://github.com/collective/plone.formwidget.masterselect](https://github.com/collective/plone.formwidget.masterselect)

# javascript - 根据大小从数组中选择

> ID：15425995
> 
> 赞同：0
> 
> 时间：2013-03-15T06:18:34.573
> 
> 标签：javascript, arrays, random

我目前正在开发一款小游戏，但遇到了一些我无法弄清楚的问题。

我有一个包含 5 个项目的数组，这些项目代表不同的位置，如下所示：

```
[1, 2, 3, 4, 5] 
```

随着玩家深入游戏，这些基本上是用于放置对象的不同线条。

每 5 秒就会出现一次新对象，这些对象来自另一个数组，看起来像这样：

```
[1, 2]
 // 1 = single item
 // 2 = double item 
```

1 和 2 是不同类型的对象，都需要不同数量的行。

问题是这些项目有时会重叠，我不知道如何阻止这种情况。

您可以从输出中看到问题：

```
Items: [1, 2]
[Item of type 1] line: 3 
[available lines] [1, 2, 3, 4, 5]
[Item of type 2] line: 2
[available lines] [1, 2, 4, 5]
[1, 5] 
```

所以项目 1（1 行）放在第 3 行，但是对于项目 2（2 行），第 2 行是选择的，因为它是 2 行宽，这将与我的第一个项目重叠。

所以基本上对于第 2 项，只能选择第 1 行和第 4 行，但我似乎找不到任何只会选择这些的逻辑。

它可能会扩展到大约 20 行，包含更多对象，所以我需要找到一种方法来选择下一个可用的行。

关于如何开始这方面的任何想法？

我目前使用的是这个：

```
var random = Math.floor(Math.random() * (start_lines.length - 1));
var line = start_lines[random];

// If it's a barrier, delete 2 rows instead (35)
if(type == 2) {
    if(line == 5) {
        xPos = this._lines[random - 1] - 35;
        start_lines.splice(random - 1, 2);
    } else {
        xPos = this._lines[random] - 35;
        start_lines.splice(random, 2);
    }
} else {
    start_lines.splice(random, 1);
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-03-15T07:46:19.083

我现在所做的是首先用线循环遍历数组并检查下一行是否可用，然后将这两行推入另一个可以选择的数组中。

```
if(type == 2) {
    var options = [];
    for(var i = 0 ; i < start_lines.length; i++) {
        var f = start_lines[i];
        var n = start_lines[i + 1];

        if((f + 1) == n) {
            options.push([f, n]);
        }
    }

    var random = Math.floor(Math.random() * (options.length - 1));
    var option = options[random];

    var f = option[0];
    var n = option[1];

    xPos = this._lines[f] - 30;

    start_lines.splice(f - 1, 2);
    start_lines.splice(n - 1, 2);
} else {
    var random = Math.floor(Math.random() * (start_lines.length - 1));
    var line = start_lines[random];

    start_lines.splice(random, 1);
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-03-15T08:57:42.723

我不知道这种方法是否适合您的要求，但是如果您可以最初设置线条并在需要时随机选择线条会更好。这避免了很多混乱。

```
function getLines(){
  var start_lines = [1, 2, 3, 4, 5], lines = [];
  while(start_lines.length){
    var type = Math.ceil(Math.random() * 2);
    lines.push(start_lines.splice(0, type));
  }
  return lines;
}
var lines = getLines();

var random = Math.floor(Math.random() * lines.length);
console.log(lines.splice(random, 1)); 
```

在这里，我`type`随机选择 - 1 或 2。您必须对此进行一些更改。

jsbin：http: [//jsbin.com/upabom/3/edit](http://jsbin.com/upabom/3/edit)