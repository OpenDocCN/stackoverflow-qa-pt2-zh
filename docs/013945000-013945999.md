# StackOverflow 问答 13945000-13945999

# c++ - 向控制台显示随机数

> ID：13945000
> 
> 赞同：-1
> 
> 时间：2012-12-19T03:17:24.770
> 
> 标签：c++, random

我想制作一个在控制台上显示 10 个随机数的程序，但我不知道如何生成多个数字

我有的

```
#include <iostream>
#include <stdlib.h>
#include <time.h> 
using namespace std; 
int main()
{
   srand ( time(NULL) ); 
   int v1 = rand() % 100; 
   cout << v1;
   return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T03:22:03.467

这个怎么样：

```
#include <iostream>

using namespace std;

int main(int argc, char *argv[]) 
{
    srand(time(NULL));

    for (int i=0; i<10; i++) {
        cout << rand() % 100 << endl;
    }   
} 
```

或者，如果您的意思是 C，即使您的示例代码是 C++，也可以这样：

```
#include <stdio.h>
#include <stdlib.h>
#include <time.h>

int main(int argc, char *argv[]) 
{
    srand(time(NULL));

    for (int i=0; i<10; i++) {
        printf("%d\n", rand() % 100);
    }   
} 
```

为了回应原始提问者的评论，这里有一个版本，它在一行上报告值，最后在另一行上报告值的总和：

```
#include <iostream>

using namespace std;

int main(int argc, char *argv[]) 
{
    int sum = 0;

    srand(time(NULL));

    for (int i=0; i<10; i++) {
        int random_val = rand() % 100;

        sum += random_val;

        cout << random_val << " ";
    }   
    cout << endl << "Sum: " << sum << endl;
} 
```

# android - Android如何制作出现在屏幕侧面的菜单栏？像 Google Plus、Android 设备上的 Facebook 菜单

> ID：13945001
> 
> 赞同：2
> 
> 时间：2012-12-19T03:17:24.340
> 
> 标签：android, android-layout

我正在Android上开发一个应用程序，想使用类似于Google Plus或Facebook的菜单栏，当您单击按钮时，菜单栏会滑入并且不会占据整个屏幕。有什么想法吗？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T03:27:23.867

您可以在父视图中使用 FrameLayout 并在菜单布局中使用平移动画来显示滑入和滑出效果。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T03:35:50.290

[Jeremy Feinstein 的SlidingMenu](https://github.com/jfeinstein10/SlidingMenu)是一个非常流行的用于实现“滑动菜单”效果（或Android 开发者网站上的设计指南更喜欢称之为“[抽屉](http://developer.android.com/design/patterns/actionbar.html#elements)”）的库。它还与 ActionBarSherlock 兼容，以防您的项目也使用它。不幸的是，在这个阶段，SDK 中没有内置组件可以让您轻松完成相同的事情。

还有一些滑动菜单的替代实现（在 SO 或 Google 上进行搜索），但我有一段时间没有检查过这些。如果我没记错的话，在是否`ActionBar`应该与内容一起滑动或保持固定在屏幕顶部方面尤其有一些变化。

# c# - 在 C# 字符串中扩展的 ASCII

> ID：13945004
> 
> 赞同：1
> 
> 时间：2012-12-19T03:18:04.837
> 
> 标签：c#, ascii

如何在 C# 中创建一个字符串以接受不可打印的 ASCII 扩展字符，例如 • ，因为当我尝试将 • 放入字符串时，它只会给出一个空格或空值。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:25:05.467

扩展 ASCII 只是 8 个高位设置为不同值的 ASCII。

问题在于没有委员会批准扩展 ASCII 标准。那里有很多变体，无法判断您使用的是什么。

现在 C# 使用 UTF-16 编码，这将不同于您使用的任何扩展 ASCII。

您必须找到匹配的 Unicode 字符并将其显示如下

```
string a ="\u2649"  ; //where 2649 is a the Unicode number
Console.write(a) ; 
```

或者，您可以找出您的文件使用的编码并像这样使用它，例如。编码 Windows-1252：

```
Encoding encoding = Encoding.GetEncoding(1252); 
```

对于 UTF-16

```
Encoding enc = new UnicodeEncoding(false, true, true); 
```

并使用转换它

```
 Encoding.Convert (Encoding, Encoding, Byte[], Int32, Int32) 
```

详情在[这里](http://msdn.microsoft.com/en-us/library/66sschk1.aspx)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T03:35:06.583

试试这个.. 将这些字符转换为字符串，如下所示。

```
string equivalentLetter = Encoding.Default.GetString(new byte[] { (byte)letter }); 
```

现在，等效字母包含正确的字符串。我试过这个用于欧元符号，它有效。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T04:06:02.283

.NET 字符串是 UTF-16 编码的，而不是扩展 ascii（不管是什么）。通过简单地向一个字符添加一个数字，您将在 UTF-16 纯文本集中为您提供另一个定义的字符。如果您想查看扩展 ASCII 编码中的基础字符，您需要将新计算的字母从您正在谈论的任何编码转换为 UTF-16。请参阅：http: [//msdn.microsoft.com/en-us/library/66sschk1.aspx](http://msdn.microsoft.com/en-us/library/66sschk1.aspx)

# javascript - Adobe AIR 使用 html 和 javascript 横幅失败

> ID：13945007
> 
> 赞同：0
> 
> 时间：2012-12-19T03:18:30.370
> 
> 标签：javascript, html, air

这很简单。Adobe AIR 应用程序的主窗口是一个 html 文件，application.xml 如下所示：

```
 <initialWindow>
    <title>window title</title>
    <content>index.html</content> 
```

index.html 看起来像这样：

```
<script type="text/javascript" 
    src="http://www.mysite.com/mybanner.js" id="add"></script>
<script type="text/javascript">
    document.write("<h1>this is strange</h1>");
    alert(document.getElementById("add").src);
    function getJS(){
        document.getElementById("add").src="http://www.mysite.com/mybanner.js";
        xmlhttp = new XMLHttpRequest(); 
        xmlhttp.open("GET", "http://www.mysite.com/mybanner.js"
            ,false);
        xmlhttp.send(null);
        if (xmlhttp.status === 200) {
            alert(xmlhttp.responseText);
        eval(xmlhttp.responseText);

        }else{
            throw("Can't open url, response status is:"+xmlhttp.status);
        }
    }
</script>
<input type="button" onclick="getJS();" value="getJS" /> 
```

打开应用程序时，它显示“这很奇怪”并提醒其他脚本标签（横幅）的来源，但不显示任何内容。单击 getJS 按钮会提醒 js 文件的内容，但仍然不显示任何内容。eval 导致 AIR 运行时安全违规。在 Internet Explorer 或 Firefox 中打开文件会显示横幅，因此脚本或 src 中没有错误。

我在 flashDevelop 中运行它并且在输出中看不到任何警告或错误，可以使用 xmlhttprequest 连接到任何站点（通常在浏览器中不允许）但无法从服务器加载简单的 js 文件。

谁能帮我解决这个问题？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-21T11:14:00.933

如果脚本的来源不是本地的，我猜 document.write 不起作用。

# google-chrome-extension - Google Chrome 扩展的“编辑源”按钮

> ID：13945008
> 
> 赞同：0
> 
> 时间：2012-12-19T03:19:10.000
> 
> 标签：google-chrome-extension

我正在寻找一种快速测试和调试 Google Chrome 扩展的方法。有没有办法使用扩展程序在 Chrome 扩展程序页面上的每个扩展程序旁边添加一个“编辑源”按钮？ ![](../Images/e4220ddfac97a2b924b8291a06231ee1.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T04:09:47.093

[TamperMonkey 扩展](https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo?hl=en)允许在Chrome 中查看和编辑所有已安装的用户脚本 - 这是迄今为止我发现的解决此问题的最佳“解决方法”。我还不知道它是否可以在 Chrome 安装之间同步脚本 - 希望这个功能很快就会实现。

# asp.net-mvc-4 - 如何在 Asp.net MVC4 中实现身份验证

> ID：13945010
> 
> 赞同：0
> 
> 时间：2012-12-19T03:19:19.667
> 
> 标签：asp.net-mvc-4

全部，读完[这篇文章后](https://stackoverflow.com/questions/9528900/why-request-isauthenticated-is-false)，我对在 Asp.net MVC4 中实现用户登录和身份验证有了一些想法。我希望有人可以帮助审查这一点。**欢迎任何意见或其他解决方案。**谢谢。

首先，我将使用 viewbag 变量来确定它是否是视图中经过身份验证的请求。代码应该是这样的：

```
<% if (ViewData["longined"] == "success")
   { %>
    //display something shows user already logged in. 
<%}%> 
```

然后实现一个全局过滤器来检查可以从会话中检索的经过身份验证的用户信息。如果会话中确实存在此用户信息，则表示该用户没有登录。否则应设置 `ViewData["longined"] == "success"`。

在登录动作和视图中。我可以在视图中填写用户名和密码，然后发布`Action`到验证它们。如果成功，我会将用户信息存储在会话中。

最后需要做的是在`Global.asax`. 谢谢。

# eclipse - spring junits 在 eclipse 中没有被重新识别

> ID：13945013
> 
> 赞同：0
> 
> 时间：2012-12-19T03:19:32.060
> 
> 标签：eclipse, spring, testng

我有一个如下所示的测试用例

```
@ContextConfiguration(locations = { "classpath:chartContext-test.xml" })
@Component("allocationChartTest")
public class ChartServiceUnitTest extends AbstractTestNGSpringContextTests { 
```

我有如下所示的导入

```
org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.testng.AbstractTestNGSpringContextTests; 
```

所以基本上我使用的是spring junit，它与junit 4或3无关当我右键单击该类时，它没有给出一个名为run as junit的选项，不确定需要添加什么scr/mian/java和src/main /test 两者都包含在我的源代码中.. 有人可以告诉我为什么它给了我一个选项..

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T05:46:08.970

为什么你的测试类有`@Component`注释？无论如何，您需要[在 Eclipse 中安装 TestNG](http://testng.org/doc/download.html)。您是否熟悉以下教程：http: [//java.dzone.com/articles/spring-testing-support-testng](http://java.dzone.com/articles/spring-testing-support-testng)？

# objective-c - 如何仅请求使用 NSURLRequest 发送的部分信息

> ID：13945014
> 
> 赞同：0
> 
> 时间：2012-12-19T03:19:31.600
> 
> 标签：objective-c, httpwebrequest, nsurlrequest

假设我需要获取一个返回 HTML 页面的 NSURLRequest。但我只需要读取部分信息，因为页面太大：大约 55 KB，我正在主线程中进行操作（我的错，我应该在另一个线程中完成这个，但是现在它太复杂了，我应该重写太多行），所以它使视图响应非常慢。
关键是我只需要页面的一小部分，由几个字节组成。所以我想只接收一些标签中包含的 HTML 页面的一部分。我如何使用 NSURLRequest 来做到这一点？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T04:01:34.957

您可以在响应标头中对您需要的信息发出 HEAD 请求。如果您需要身体的碎片，那么我认为您不走运。

在任何一种情况下，您可能仍然需要将该请求从主线程中取出。下载较少的数据不会减少连接的延迟，并且此请求将继续阻塞 UI 线程。移动连接往返时间可能长达几秒钟，您无法控制。

* * *

编辑：例如，我从平均下降 369kbps 但延迟为 1124ms 的设备发布此答案。每次应用程序在主线程上发出同步请求时，无论您如何尝试优化下载的数据，我都会看到 UI 冻结超过一秒钟。

# php - 正则表达式替换php中的日期格式

> ID：13945018
> 
> 赞同：3
> 
> 时间：2012-12-19T03:19:46.407
> 
> 标签：php, regex, date

我想使用正则表达式从 PHP 中的字符串替换日期格式。

我有一个这样的字符串：

```
TEXT TEXT TEXT {POST_DATE,m/d/Y} TEXT TEXT TEXT 
```

我想将包含**{POST_DATE,m/d/Y}**的所有字符串替换为从外部函数（例如 date()）获取的日期，并使用输入字符串中的日期格式。

我已经尝试在下面使用此代码，它只返回了格式字符串：

```
$string = preg_replace('/\{POST_DATE,(.*)\}/',date('$1'),$template); 
```

我在这里得到了返回字符串：

```
TEXT TEXT TEXT m/d/Y TEXT TEXT TEXT 
```

我不确定我错在哪里，如果文本中有很多**{POST_DATE,m/d/Y}**字符串，那么如何按照上述方式替换所有字符串。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:29:35.847

日期函数正在传递一个字面值“$1”。preg_replace 函数知道将其解释为捕获的子模式的值，但 date 函数不知道。

您可以使用 preg_replace 中的“e”修饰符将 $1 传递给您的函数：

```
preg_replace('/\{POST_DATE,(.*?)\}/e','date("$1")',$input); 
```

注意我还通过添加 .* 使 .* 非贪婪？后面的字符，因为如果输入字符串中有第二个 } 字符，您将捕获比您想要的更多的字符。

要对此进行测试，请尝试以下操作：

```
$s = "TEXT TEXT TEXT {POST_DATE,m/d/y} TEXT TEXT TEXT";
print preg_replace('/\{POST_DATE,(.*?)\}/e','date("$1")',$s); 
```

输出是：

```
TEXT TEXT TEXT 12/19/12 TEXT TEXT TEXT 
```

并且为了避免被弃用的代码，你最好使用 preg_replace_callback，虽然它不是那么优雅：

```
$s = "TEXT TEXT TEXT {POST_DATE,m/d/y} TEXT TEXT TEXT";
print preg_replace_callback('/\{POST_DATE,(.*?)\}/',
                            create_function('$matches',
                                            'return date($matches[1]);'),
                            $s); 
```

（给出相同的输出）

# html - 图像对齐

> ID：13945019
> 
> 赞同：3
> 
> 时间：2012-12-19T03:19:53.643
> 
> 标签：html

我对此很陌生，因此，这似乎是一个非常简单的问题。

我已经开始设计自己的页面，下面的代码就是我目前所处的位置。

它的外观是...

*   左上角 - 我的标志
*   右上角 - 导航
*   左侧 - 图片/描述

我正在尝试做的，以及我被卡住的地方，是让描述在每个图像下方完美对齐，并且当你在页面上移动时会发生同样的事情。

当前发生的情况是，每张图片和下面的描述都在页面左侧一直对齐到左侧。

当前代码如下：

```
<body>
  <div class="container">
    <a href="#"><img src="#" alt="Title" width="300" height="100" /></a>
    <div id="navbar">
      <ul>
        <li><a href="#">GALLERY</a></li>
        <li><a href="#">ABOUT</a></li>
        <li><a href="#">BLOG</a></li>
        <li><a href="#">CONTACT</a></li>
      </ul>
    </div>
    <div id="images">
      <img src="#" width="300" height="199" alt="name"></div>
      <div id="descriptions">City</div>
      <div id="images">
        <img src="#" width="300" height="199" alt="name"></div>
        <div id="descriptions">Model</div>
      </div>
  </div>
</body> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T03:41:46.093

我会使用这样的标记：

```
<figure class="images">
    <img src="#" width="300" height="199" alt="City">
    <figcaption>City</figcaption>
</figure>

<figure class="images">
    <img src="#" width="300" height="199" alt="Model">
    <figcaption>Model</figcaption>
</figure>

<figure class="images">
    <img src="#" width="300" height="199" alt="Foo">
    <figcaption>Foo</figcaption>
</figure> 
```

还有一些示例 CSS：

```
.images {
    float: left;
    width: 300px;
    min-height: 200px;
    margin: 0 10px 0 0;
    background-color: #EEE; /* just to show containers since image scr is blank */
}

.images:last-child {
    margin-right: 0;
}

.images figcaption {
    text-align: center;
} 
```

[小提琴](http://jsfiddle.net/LU5xt/)

# android - 动态确定Android资源

> ID：13945023
> 
> 赞同：0
> 
> 时间：2012-12-19T03:20:37.717
> 
> 标签：android, android-resources

我有许多不同的字符串资源文件，它们是使用我们的构建系统通过我的 Android 应用程序构建的。这些字符串文件可以随时增量添加，我们的构建系统将从它们单独的目录中获取它们。我想枚举所有字符串文件或能够在其中获取单个字符串，而不必知道其中的字符串资源的名称或 ID。我也不希望添加这些的人必须在我的包中编辑一个主字符串文件，其中包括一个列出不同文件的数组。有没有办法做到这一点？

例子：

```
SoccerStrings.xml
   id="SoccerDetails" value="soccer"
CricketStrings.xml
   id="CricketDetails" value="cricket" 
```

在不知道这些文件存在的情况下，我如何提供包含两个项目的列表视图：Cricket 和 Soccer，此外还自动支持可能出现的任何其他文件。

我在想最好的方法是让构建系统将单个文件拉到 assets 文件夹下，然后使用 getAssets().list("") 功能以及 XMLResourceParser 类来访问字符串值。这会起作用并允许我发生 id 冲突（例如：id="name"）吗？有没有更简单的方法？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T04:38:44.170

我会看`aapt`。我知道您可以使用以下命令从 .apk 中获取资源——

```
aapt d --values resources app.apk 
```

可以使用 aapt 在构建过程的早期获取资源。它有以下看起来很有前途的选项，但 aapt 文档有点薄。

```
--output-text-symbols
   Generates a text file containing the resource symbols of the R class in the
   specified folder. 
```

作为另一种选择，您可以修改构建过程并在字符串类`gen/<package>/R.java file`生成之后直接解析它。您可以将其存储在可加载文件中，或生成您自己的源文件以添加到构建中。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-28T17:58:22.120

我不会告诉你怎么做。我正在回答这个问题以反对它。

您计划做的事情与资源文件不符。这些文件基本上是代码。你想做的是关于数据的。您应该将数据放在资产目录中。然后这些文件不会像资源文件一样在您的构建中预编译。您可以以任何您想要的方式处理这些文件。然后将涉及相当多的编码来将所有这些转换为业务逻辑，但这将是编写好的、可维护的代码所付出的代价。

以您建议的方式使用资源文件类似于 Java 反射。您想使用它只是因为您拥有与此类功能相关的功能，而不是因为它是最简单的出路。

话虽如此，您可能正处于必须按照您所说的方式处理资源文件的情况。在这种情况下，请接受我的道歉。

# javascript - Jquery删除元素内的所有事件处理程序

> ID：13945025
> 
> 赞同：36
> 
> 时间：2012-12-19T03:20:57.193
> 
> 标签：javascript, jquery, event-handling

我有一个 div 元素，里面有几个元素，比如按钮等等，它们附加了事件处理程序。我知道它可以去：

```
$("#button1").off() 
```

要删除按钮的处理程序，但如果可能的话，我想做这样的事情：

```
$("#div1").removeChildHandlers(); 
```

JQuery 中是否有本机函数来执行此操作，或者我是否必须将它们循环所有元素并逐个删除？

* * *

## 回答 #1

> 赞同：40
> 
> 时间：2012-12-19T03:23:21.783

jQuery 将为您的直接子代执行循环：

```
$("#div1").children().off(); 
```

或者如果你想要所有的后代：

```
$("#div1").find("*").off(); 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-19T03:23:07.120

这有帮助吗：

```
$("#div1").find('*').off(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-19T03:25:26.610

尝试

```
$("#div1 >* ").off(); 
```

或者：

```
$("#div1").find('button').off(); 
```

如果你在谈论`<button>`元素

# android - “应用程序已意外停止 android 请再试一次”

> ID：13945032
> 
> 赞同：-1
> 
> 时间：2012-12-19T03:22:15.173
> 
> 标签：android

我写了这个简单的代码，但我不知道为什么我的模拟器总是向我显示这个错误：“应用程序已意外停止 android 请再试一次”。我试图摆脱它，但没有成功帮助我，谢谢。

```
public class MainActivity extends Activity {

int counter;
Button add, sub;
TextView display;

@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    counter = 0;
    sub = (Button) findViewById(R.id.bSub);
    display = (Button) findViewById(R.id.tvDisplay);
    add = (Button) findViewById(R.id.bAdd);

    // *****onClick method****//
    add.setOnClickListener(new View.OnClickListener() {

        @Override
        public void onClick(View v) {
            // TODO Auto-generated method stub
            counter = counter + 1;
            display.setText("Your Total is " + counter);
        }
    });

}
}

  //my xml//

<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical"
 tools:context=".MainActivity" >

<TextView
    android:id="@+id/tvDisplay"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_gravity="center"
    android:gravity="center"
    android:text="@string/total"
    android:textSize="45sp" />

<Button
    android:id="@+id/bAdd"
    android:layout_width="250dp"
    android:layout_height="wrap_content"
    android:text="@string/add" />

<Button
    android:id="@+id/bSub"
    android:layout_width="250dp"
    android:layout_height="wrap_content"
    android:text="@string/sub" />

</LinearLayout> 
```

我的清单

```
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="com.example.thenewbostonnn"
android:versionCode="1"
android:versionName="1.0" >

<uses-sdk
    android:minSdkVersion="8"
    android:targetSdkVersion="16" />

<application
    android:allowBackup="true"
    android:icon="@drawable/ic_launcher"
    android:label="@string/app_name"
    android:theme="@style/AppTheme" >
    <activity
        android:name="com.example.thenewbostonnn.MainActivity"
        android:label="@string/app_name" >
        <intent-filter>
            <action android:name="android.intent.action.MAIN" />

            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter>
    </activity>
    </application>

    </manifest> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T03:24:53.597

利用

```
 display = (TextView) findViewById(R.id.tvDisplay); 
```

代替

```
 display = (Button) findViewById(R.id.tvDisplay); 
```

目前您正在投射`TextView`到`Button`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T03:32:53.580

```
sub = (Button) findViewById(R.id.bSub);
display = (TextView ) findViewById(R.id.tvDisplay); // change button to TextView 
add = (Button) findViewById(R.id.bAdd); 
```

# java - 当“if else”已经存在时，我为什么要学习“switch case”

> ID：13945034
> 
> 赞同：0
> 
> 时间：2012-12-19T03:22:26.527
> 
> 标签：java, c++, c, coding-style

> **可能重复：**
> [切换 if-else 语句的优势](https://stackoverflow.com/questions/97987/advantage-of-switch-over-if-else-statement)
> [为什么使用 Switch/Case 而不是 If/Else If？](https://stackoverflow.com/questions/1028437/why-switch-case-and-not-if-else-if)

我目前正在学校学习“switch case”，并且想知道当“if else”已经存在时学习它的意义何在。“if else”基本上是另一种做“switch case”的方式。

如果我错了，请纠正我。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T04:41:02.483

听着有点怀旧。他们俩实际上“看起来”一样。但是在执行代码时有点不同。

首先，“switch-case”是关于仅比较值的。但是 'if-else' 可以处理布尔表达式（这将支持更复杂的子句）

如果您在找到您实际搜索的内容后使用通用的“if-else”，则该过程仍将运行，直到它完成处理最后一个 if（但实际上它可以使用跳转技术来获得类似“switch-”的机制case'。）如果你使用'switch-case'就不会发生这种情况，因为一旦找到你要搜索的值，它就会中断并且不会继续下一个case。此外，'switch-case' 比 if else 处理得更快，因为它只比较定义的值（而不是表达式）。'switch-case' 也有很好的格式化结构（简单、紧凑、可读和干净）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T04:58:22.873

你拥有的工具越多越好。明确说明为什么您应该同时了解两者的最佳陈述……但是更详细的示例-

switch 语句适用于构造的单一类型的变量：

```
variable == value 
```

因此，例如，在 C 语言中，如果您试图将某些内容与几个不同的字符串进行比较以做出决定，那么您不能通过 switch 来做到这一点。在这种情况下，您需要了解 if/else 构造。

但是，如果您有大量的顺序检查：

```
var == 1  or
var == 2  or
var == 3  etc 
```

编译器可能会获取您的 switch 语句并将其转换为跳转表，这最终会比 if/else 列表的大量比较更快。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T06:24:12.957

`switch-case`和`if-else`构造之间的区别：

1.  Switch-case 仅打开值，它不计算布尔表达式。
2.  `break`如果您在 case 块之后不使用，switch-case 会自动执行下面的下一个案例。此功能有时对编写复杂代码很有用，例如“电话拨号计划”
3.  与 if-else 相比，switch-case 在比较的数量很大时更优雅，例如显示“菜单”等。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-19T04:09:10.060

您应该学习该`switch`构造，因为它是 C 语言提供的有用工具。

它*与*`if-else`块不同。

在您问题的评论部分，有指向现有 StackOverflow 答案的链接，解释了它们之间的区别。

每个结构都有其优点和缺点，随着时间的推移，您将了解何时选择一个而不是另一个是合适的。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-19T04:16:07.570

你应该两个都学。虽然在技术上可以使用 a 来实现 any `if`/`else`序列，`switch`反之亦然*，*但这样做是非常糟糕的做法......在大多数情况下。

因此，您需要学习这两种结构，了解它们的优缺点，并学会使用您的判断来判断何时适合使用每种结构。

C 和 C++ 和 Java（以及 C# 和 Pascal 和许多其他语言）*都*支持 switch 语句这一事实应该告诉你*一些*关于它的有用性......

# .htaccess - 使用 htaccess 设置图像的最大上传

> ID：13945043
> 
> 赞同：0
> 
> 时间：2012-12-19T03:23:03.597
> 
> 标签：.htaccess, image-uploading

如果可能，我想阻止用户使用 htaccess 上传大于确定大小（即 1 MB）的图像。

谢谢你的帮助

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T04:10:45.927

您可以使用[LimitRequestBody](http://httpd.apache.org/docs/current/mod/core.html#limitrequestbody)指令。请注意它如何控制*整个*请求的大小，因此最大允许文件的实际大小会更小。您可以将其与 an 结合使用，[`ErrorDocument 413`](http://httpd.apache.org/docs/current/mod/core.html#errordocument)以使错误消息更加用户友好。

此外，如果您在共享主机上，系统管理员可能[不允许覆盖](http://httpd.apache.org/docs/current/mod/core.html#allowoverride)htaccess 文件中的值。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T06:30:35.343

我建议在 htaccess 文件中使用“php_value upload_max_filesize”。
请参考以下链接。虽然，下面给出的链接示例是用于增加文件大小，但您可以使用相同的方法来限制文件大小。
[http://www.maheshchari.com/increase-php-file-upload-limit/](http://www.maheshchari.com/increase-php-file-upload-limit/)

下面的链接也可以帮助你。查看标题为“修改 .htaccess 文件”的部分。虽然，这个例子是针对moodle的，但它可以为您提供解决问题的基本思路。
[http://docs.moodle.org/23/en/File_upload_size](http://docs.moodle.org/23/en/File_upload_size)

恕我直言，我想补充一点，“php_value upload_max_filesize”用于限制文件大小。而“LimitRequestBody”指令用于限制整个身体大小。
[http://httpd.apache.org/docs/2.2/mod/core.html](http://httpd.apache.org/docs/2.2/mod/core.html)（查看标题为“LimitRequestBody Directive”的部分）

# r - nls 最佳拟合线 - 如何强制绘制线？

> ID：13945045
> 
> 赞同：1
> 
> 时间：2012-12-19T03:23:06.933
> 
> 标签：r, error-handling, nls

我正在尝试编写一个基本函数来添加一些最适合使用`nls`. 除非数据恰好由传递给`nls`. 我知道这些问题，并且这是[此处报告](https://stats.stackexchange.com/questions/13053/singular-gradient-error-in-nls-with-correct-starting-values)的记录行为。

但我的问题是，无论模型准确描述的数据如何，我如何才能解决这个问题并强制绘制一条最佳拟合线？有没有办法检测数据完全匹配并绘制完美拟合曲线？我目前的狡猾的解决方案是：

```
#test data
x <- 1:10
y <- x^2
plot(x, y, pch=20)

# polynomial line of best fit
f <- function(x,a,b,d) {(a*x^2) + (b*x) + d}
fit <- nls(y ~ f(x,a,b,d), start = c(a=1, b=1, d=1)) 
co <- coef(fit)
curve(f(x, a=co[1], b=co[2], d=co[3]), add = TRUE, col="red", lwd=2) 
```

失败并出现错误：

```
Error in nls(y ~ f(x, a, b, d), start = c(a = 1, b = 1, d = 1)) : 
  singular gradient 
```

我应用的简单修复方法是`jitter`稍微处理数据，但这似乎有点破坏性和骇人听闻。

```
# the above code works after doing...
y <- jitter(x^2) 
```

有没有更好的办法？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-19T08:13:50.593

[使用 Levenberg-Marquardt](http://www.r-bloggers.com/a-better-nls/)。

```
x <- 1:10
y <- x^2

f <- function(x,a,b,d) {(a*x^2) + (b*x) + d}
fit <- nls(y ~ f(x,a,b,d), start = c(a=1, b=0, d=0)) 

Error in nls(y ~ f(x, a, b, d), start = c(a = 1, b = 0, d = 0)) : 
  number of iterations exceeded maximum of 50

library(minpack.lm)
fit <- nlsLM(y ~ f(x,a,b,d), start = c(a=1, b=0, d=0))
summary(fit)

Formula: y ~ f(x, a, b, d)

Parameters:
  Estimate Std. Error t value Pr(>|t|)    
a        1          0     Inf   <2e-16 ***
b        0          0      NA       NA    
d        0          0      NA       NA    
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1 

Residual standard error: 0 on 7 degrees of freedom

Number of iterations to convergence: 1 
Achieved convergence tolerance: 1.49e-08 
```

请注意，我必须调整起始值，结果对起始值很敏感。

```
fit <- nlsLM(y ~ f(x,a,b,d), start = c(a=1, b=0.1, d=0.1))

Parameters:
    Estimate Std. Error    t value Pr(>|t|)    
a  1.000e+00  2.083e-09  4.800e+08  < 2e-16 ***
b -7.693e-08  1.491e-08 -5.160e+00  0.00131 ** 
d  1.450e-07  1.412e-08  1.027e+01  1.8e-05 ***
---
Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1 

Residual standard error: 6.191e-08 on 7 degrees of freedom

Number of iterations to convergence: 3 
Achieved convergence tolerance: 1.49e-08 
```

# python - 为什么分配给多个目标（标识符/属性）会产生奇怪的结果？

> ID：13945048
> 
> 赞同：4
> 
> 时间：2012-12-19T03:23:39.553
> 
> 标签：python, variable-assignment

我有一些这样的代码：

```
def foo():
    bar = initial_bar = Bar()
    while True:
        next_bar = Bar()
        bar.next_bar = next_bar
        bar = next_bar
    return initial_bar 
```

意图`Bar`是形成一个可以遵循的链表，链表样式。

这一切都很好；但是由于一些误导性的想法，我想将其减少一行，将循环末尾的分配复合成一行。

```
def foo():
    bar = initial_bar = Bar()
    while True:
        next_bar = Bar()
        bar = bar.next_bar = next_bar
    return initial_bar 
```

因为`bar = bar.next_bar = next_bar`会有效地扩大到`bar.next_bar = next_bar`跟随着`bar = bar.next_bar`。*（除非它没有。）*

问题是，这不起作用；返回的“初始栏”没有`next_bar`定义。通过回到更明确的两行解决方案，我可以轻松地解决它，但是发生了什么？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-19T03:23:39.553

是时候拔出来了[`dis`](http://docs.python.org/library/dis.html)。

```
>>> import dis
>>> dis.dis(foo)
  2           0 LOAD_GLOBAL              0 (Bar)
              3 CALL_FUNCTION            0
              6 DUP_TOP             
              7 STORE_FAST               0 (bar)
             10 STORE_FAST               1 (initial_bar)

  3          13 SETUP_LOOP              32 (to 48)
        >>   16 LOAD_GLOBAL              1 (True)
             19 POP_JUMP_IF_FALSE       47

  4          22 LOAD_GLOBAL              0 (Bar)
             25 CALL_FUNCTION            0
             28 STORE_FAST               2 (next_bar)

  5          31 LOAD_FAST                2 (next_bar)
             34 DUP_TOP             
             35 STORE_FAST               0 (bar)
             38 LOAD_FAST                0 (bar)
             41 STORE_ATTR               2 (next_bar)
             44 JUMP_ABSOLUTE           16
        >>   47 POP_BLOCK           

  6     >>   48 LOAD_FAST                1 (initial_bar)
             51 RETURN_VALUE 
```

如果你仔细观察，你会看到在关键行（第 5 行，见左边的数字，位置 31-47），它是这样的：

*   加载`next_bar`(31) 两次 (34)；
*   将它（堆栈上的第一个副本）写入`bar`（35）；
*   将它（堆栈上的第二个副本）写入`bar.next_bar`(38, 41)。

这在最小测试用例中更为明显。

```
>>> def a():
...     b = c = d
... 
>>> dis.dis(a)
  2           0 LOAD_GLOBAL              0 (d)
              3 DUP_TOP             
              4 STORE_FAST               0 (b)
              7 STORE_FAST               1 (c)
             10 LOAD_CONST               0 (None)
             13 RETURN_VALUE 
```

看看它在做什么。这意味着`b = c = d`实际上等同于`b = d; c = d`。通常这无关紧要，但在最初提到的情况下，它确实很重要。这意味着在临界线上，

```
bar = bar.next_bar = next_bar 
```

不等于

```
bar.next_bar = next_bar
bar = next_bar 
```

而是为了

```
bar = next_bar
bar.next_bar = next_bar 
```

事实上，这已记录在 Python 文档的第 6.2 节[*Simple statements*，*Assignment statements 中*](http://docs.python.org/2/reference/simple_stmts.html#assignment-statements)：

> 赋值语句计算表达式列表（请记住，这可以是单个表达式或逗号分隔的列表，后者产生一个元组）并将单个结果对象分配给每个目标列表，**从左到右**。

该部分还有一个适用于这种情况的相关警告：

> 警告：虽然赋值的定义暗示左侧和右侧之间的重叠是“安全的”（例如`a, b = b, a`交换两个变量），但赋值变量集合中的重叠并不安全*！*例如，以下程序打印`[0, 2]`：
> 
> ```
> x = [0, 1]
> i = 0
> i, x[i] = 1, 2
> print x 
> ```

这是可能的`bar.next_bar = bar = next_bar`，这确实产生了最初想要的结果，但请怜悯任何人（包括一段时间后的原作者！），他们将不得不稍后阅读代码并为这样一个事实而高兴，用我的话来说如果蒂姆想到它们，肯定会使用，

> 显式比可能令人困惑的极端情况要好。

# sql - 在函数错误“执行附近的语法不正确”中添加执行（@query）

> ID：13945051
> 
> 赞同：1
> 
> 时间：2012-12-19T03:23:44.637
> 
> 标签：sql, sql-server-2005

我想在 SQL Server 2005 中创建一个函数，该函数返回一个表，查询从我的程序传递...

但是当我用这个脚本创建那个函数时：

```
CREATE FUNCTION fn_test (@source varchar(255))  
RETURNS TABLE AS  
RETURN
    EXECUTE (@source) 
```

脚本显示错误消息

> *关键字“EXECUTE”附近的语法不正确*

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T07:46:55.963

这是完全正确的——你不能作为内联[表值函数](http://msdn.microsoft.com/en-us/library/ms186755.aspx)的一部分执行任意 SQL ：

```
--Transact-SQL Inline Table-Valued Function Syntax 
CREATE FUNCTION [ schema_name. ] function_name 
( [ { @parameter_name [ AS ] [ type_schema_name. ] parameter_data_type 
    [ = default ] [ READONLY ] } 
    [ ,...n ]
  ]
)
RETURNS TABLE
    [ WITH <function_option> [ ,...n ] ]
    [ AS ]
    RETURN [ ( ] select_stmt [ ) ]
[ ; ] 
```

如果您*需要*(*) 能够将任意 SQL 传递到 SQL Server 对象并让它执行它，请使用存储过程而不是函数。函数并不意味着改变数据库的状态，但任意 SQL 可以做……任意事情。

* * *

(*) 你没有。

* * *

作为一个程序，它将是：

```
CREATE PROCEDURE test (@source varchar(255))  
AS
    EXECUTE (@source) 
```

但此时可能很明显 - 如果您想执行存储为字符串的任意 SQL，您也可以直接调用`EXECUTE`它们。这就是我在放入 (*) 时所暗示的部分内容。另一部分是 - 为什么将它以字符串变量的形式发送到服务器 - 为什么不只发送你想要执行的 SQL，如果你是无论如何都要在服务器上运行任意 SQL。

# sorting - emacs 使用 sort-regexp-fields 对行进行排序

> ID：13945056
> 
> 赞同：2
> 
> 时间：2012-12-19T03:24:13.313
> 
> 标签：sorting, emacs

我如何使用`sort-regexp-fields`来模拟排序数字字段。我试过这样：

```
123
345
90
80
1999 
```

`M-x` `sort-regexp-fields`

`Regexp specifying records to sort:`\ ([0-9]+\)

`Regexp specifying key within record:`\, \#1

但它行不通。我真正想要排序的是这样的：

```
foo index: 123
index: 345 boo
… 
```

问题是：我想按“index”这个词后面的数字对行进行排序，但是数字不在同一个字段中，它们只是在它前面有一个“index”这个词。我应该怎么做才能完成这个？有人可以帮助我吗？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T04:23:05.380

`sort-regexp-fields`不进行字典比较，并且没有简单的方法可以让它做到这一点。也就是说，我们可以使用定义我们自己的命令的技巧，并使用该命令向一些建议发出信号，以便在字典比较中进行鞋拔。

如果您在要比较的行周围标记区域，则以下命令会执行您想要的操作：

```
(defun my-line-sort (begin end)
  (interactive "r")
  (sort-regexp-fields nil "^.*: +\\([0-9]+\\).*$" "\\1" begin end))

(defun compare-buffer-substrings-lexigraphically (b1 b2)
  (< (string-to-number (buffer-substring-no-properties (car b1) (cdr b1)))
     (string-to-number (buffer-substring-no-properties (car b2) (cdr b2)))))

(defadvice sort-subr (before sort-subr-lexical-compare activate)
  "In special case, force predicate to be a lexical compare"
  (when (eq this-command 'my-line-sort)
    (ad-set-arg 5 'compare-buffer-substrings-lexigraphically))) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T16:40:33.557

如果我正确理解您的情况，这将满足您的要求：

`M-x``sort-regexp-fields``RET``index: \([0-9]+\)``RET``\1``RET`

# python - 为什么scrapy在spider.py中需要一个蜘蛛对象？

> ID：13945059
> 
> 赞同：4
> 
> 时间：2012-12-19T03:24:21.473
> 
> 标签：python, scrapy

我已经看到，在他们使用的课程结束时的一些蜘蛛文件中

```
class TestSpider(BaseSpider):
   pass

SPIDER = TestSpider() 
```

我们为什么要使用`SPIDER = TestSpider()`？我没有使用它，我的蜘蛛工作正常。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-19T11:02:49.677

Scrapy 最初使用 twisted 的插件机制来管理蜘蛛，这需要一个实例。这已更改为有利于检查任何扩展 BaseSpider 和具有名称的类。您仍然会看到在旧代码中创建的实例，尽管在任何最近的 scrapy 版本中都不再需要它。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T03:57:03.857

在这种情况下，你应该在上面，`SPIDER = BaseSpider()`很可能会工作。`SPIDER`如果在其他地方默认定义，则可能将文件留空。我对scrapy不太熟悉。

# objective-c - 在 Cocoa 中解析 iTunes 库 XML

> ID：13945064
> 
> 赞同：4
> 
> 时间：2012-12-19T03:24:55.697
> 
> 标签：objective-c, xml, cocoa, nsxmlparser

所以我想扫描一个大的 XML 文件（40mb），据我所知，我应该使用 NSXMLParser 来减少内存占用。我想检查每首歌曲的几件事，然后如果它通过所有标准，则将歌曲写入一个新的 xml 文件。

我可以使用 NSXMLParser 加载它并对文件进行一些基本的读取。所以我想知道如何将每首歌曲保存为临时变量？以及应该将其保存为哪种对象（我假设某些东西是可变的，因此我可以在将其写入文件之前继续将更多歌曲添加到文件中）。

```
 <key>Tracks</key>
<dict>
    <key>11072</key>
    <dict>
        <key>Track ID</key><integer>1107</integer>
        <key>Name</key><string>Kids with Guns (Hot Chip Remix)</string>
        <key>Artist</key><string>Gorillaz</string>
        <key>Album</key><string>D-Sides</string>
        <key>Genre</key><string>Britpop</string>
        <key>Kind</key><string>MPEG audio file</string>
        <key>Size</key><integer>844299</integer>
        <key>Total Time</key><integer>42971</integer>
        <key>Disc Number</key><integer>2</integer>
        <key>Disc Count</key><integer>2</integer>
        <key>Track Number</key><integer>6</integer>
        <key>Track Count</key><integer>9</integer>
        <key>Year</key><integer>2007</integer>
        <key>Date Modified</key><date>2008-10-30T02:44:58Z</date>
        <key>Date Added</key><date>2007-12-25T21:54:16Z</date>
        <key>Bit Rate</key><integer>153</integer>
        <key>Sample Rate</key><integer>44100</integer>
        <key>Comments</key><string> __FIXED__U74A0ECA</string>
        <key>Play Count</key><integer>1</integer>
        <key>Play Date</key><integer>3292750639</integer>
        <key>Play Date UTC</key><date>2008-05-04T20:57:19Z</date>
        <key>Skip Count</key><integer>1</integer>
        <key>Skip Date</key><date>2008-02-09T06:17:30Z</date>
        <key>Artwork Count</key><integer>2</integer>
        <key>Persistent ID</key><string>74A0ECAC8D</string>
        <key>Track Type</key><string>File</string>
        <key>Location</key><string>file://xxxxx/x/iTunes/Music/Gorillaz/D-Sides/2-06%20Kids%20with%20Guns%20(Hot%20Chip%20Remix).mp3</string>
        <key>File Folder Count</key><integer>5</integer>
        <key>Library Folder Count</key><integer>1</integer>
    </dict> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T03:36:44.340

使用任何你喜欢的物体。您可以使用字典，或者您可以编写自己的类来反映方便您的结构并反映您正在提取的数据的结构。一个显而易见的技术是，您的顶级解析器委托具有一个 NSMutableArray 属性，因此您可以在获取它们时向其中添加内容，然后调用者可以获取结果值，就像我在这段代码中所做的那样：

```
NSURL* url = // obtain xml URL
NSXMLParser* parser = [[NSXMLParser alloc] initWithContentsOfURL:url];
MyPeopleParser* people = [[MyPeopleParser alloc] init];
[parser setDelegate: people];
[parser parse]; 
```

MyPeopleParser 有一个名为 NSMutableArray 的人`people`。所以现在我们可以获取该属性的值（`people.people`，抱歉）。该数组现在充满了 Person 对象。但所有这些都只是一个实现细节。如果你已经知道如何使用 NSXMLParser，那么你就已经遥遥领先了，剩下的就是肉汁了。

我不太确定您对写入文件的含义是什么；XML*是*一个文件。但是，在我的例子中，我使我的 Person 类可存档，因此 Person 对象的 NSArray 可以作为 .plist 直接写入磁盘。

# javascript - 使用 jquery 计算动态创建的 html 元素

> ID：13945066
> 
> 赞同：8
> 
> 时间：2012-12-19T03:25:02.530
> 
> 标签：javascript, jquery, onclick, dynamically-generated

我正在计算当前文档中有价值的输入数量。它工作正常，除非我动态添加了更多输入。我无法到达那里的价值。

例如我可能有

```
<input id="participant-1"/>
<input id="participant-2"/>
... 
```

单击按钮后动态创建

```
<input id="participant-15" /> 
```

我将在 for 循环中获取每个值的值

```
for(var i =1 ; i <25; i++)
{
  ...$('input#participant-' + i).val();
} 
```

现在，当我运行一个 for 循环来检查每个输入的值时，它只会获取非动态创建的输入的值。我已经查看了这里的其他问题，但我仍然看不到如何将类似的东西应用于`.on()`我想要完成的事情。

**新的后续问题** 好的，现在我认为这是我需要更多说明如何使用 .on 的地方。

我在这里有一个 jsfiddle：[JsFiddle 示例](http://jsfiddle.net/YbnGY/5/)

我在其中创建新元素并模糊所有文本框，我想计算有多少元素具有价值并记录下来。现在它现在将使用静态元素响应模糊事件。它不适用于动态创建的元素

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-19T03:27:33.033

给它一个通用类：

```
<input class="textbox" id="participant-1"/>
<input class="textbox" id="participant-2"/> 
```

并得到它：

```
var values = [];
$('.textbox').each(function(){
    values.push($(this).val());
});
console.log(values) 
```

并回答编辑：

语法应该是：**$(container_selector).on(event_type, target_selector, callback)**

**[JSFiddle 演示](http://jsfiddle.net/YbnGY/7/)**

```
$('.name').on('blur', 'input', calculate_total); 
```

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-19T04:20:57.543

也可以考虑使用 CSS 属性选择器。

[http://www.w3.org/TR/CSS2/selector.html#attribute-selectors](http://www.w3.org/TR/CSS2/selector.html#attribute-selectors)

```
 $("input[id|=participant]").each(function(){
            // something
    }); 
```

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2014-11-25T20:07:27.310

在这里使用类选择器将节省时间。

```
<input id="participant-1" class="participant"/>
<input id="participant-2" class="participant"/> 
```

然后使用简单的计数调用...

```
var count = $('.participant').length
alert ('You have ' + count + ' Counted Inputs');
//result is 2 
```

希望你觉得这个有用

# python - 调用boost python暴露的方法函数时出现奇怪的TypeError

> ID：13945067
> 
> 赞同：2
> 
> 时间：2012-12-19T03:25:08.963
> 
> 标签：python, boost-python

我为box2d编写了一个python包装器，一切正常，但是在调用boost python公开的方法函数时有时会出现奇怪的TypeError错误。这是一种随机行为，并非每次都发生。

问题python代码：

```
try:
    world = body.GetWorld()  # world is b2World instance, body is b2Body instance
    world.DestroyBody(body)  # raise TypeError: 'NoneType' object is not callable
except TypeError:  # catch it, and print some infomation
    print "xxxxx", world  # I got a b2World instance here
    print "xxxxx", sys.getrefcount(world)  # I got a value of 66 here
    print "xxxxx", world.DestroyBody  # I got a bound method object here
    raise 
```

似乎一切都好。这是怎么发生的？

我的部分包装代码：

```
// [file]: https://github.com/layzerar/box2d-py/blob/master/python/world.cpp
// [project]: https://github.com/layzerar/box2d-py
template<class T>
inline void b2Func_ClearUserData(T& self)
{
    using namespace boost::python;

    xdecref((PyObject*)self.GetUserData());
    self.SetUserData(NULL);
}
inline void b2World_DestroyBody(b2World& self, b2Body* body)
{
    b2Assert(self.GetBodyCount() > 0);
    b2Assert(self.IsLocked() == false);

    b2Func_ClearUserData(*body);
    self.DestroyBody(body);
}
class_<b2World, b2World_W , boost::noncopyable>("b2World")
    //...
    .def("CreateBody", b2World_CreateBody, return_internal_reference<>())
    .def("DestroyBody", b2World_DestroyBody)
    //...
; 
```

我犯了一个明显的错误吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T11:21:47.047

经过几天的探索，我找到了答案。

我对这个问题犯了一个错误，DestroyBody确实没有抛出异常。它是由一个用 python 重写并在 DestroyBody 函数中调用的虚函数抛出的。

# php - 通过 php 从 mysql 结果创建 json 对象

> ID：13945071
> 
> 赞同：4
> 
> 时间：2012-12-19T03:26:05.797
> 
> 标签：php, json

> **可能重复：**
> [JSON 编码 MySQL 结果](https://stackoverflow.com/questions/383631/json-encode-mysql-results)

我想使用 php 创建一个 json 对象，如下所示。它将返回一个字符串作为结果 sql 查询的响应。

```
{"Orders":[  
            {"DeliveryId":"DeliveryId","CustomerName":"CustomerName","PhoneNumber":"PhoneNumber","Address":"Address"},  
            {"DeliveryId":"DeliveryId","CustomerName":"CustomerName","PhoneNumber":"PhoneNumber","Address":"Address"}               
]
} 
```

我的代码

```
<?php
mysql_connect("mysql12.000webhost.com","a4602996_longvan","longvan2012");
mysql_select_db("a4602996_lv"); 
$id=$_POST[user];
$sql=mysql_query("select * from testlongvan where Status = 'PACKED'" ); 

$json = array();
if(mysql_num_rows($sql)){
while($row=mysql_fetch_row($sql)){
$json['Orders'][]=$row;
}
}

//while($row=mysql_fetch_assoc($sql))
//$output[]=$row;
print(json_encode($json)); 
mysql_close(); 
?> 
```

但是当使用我的代码时，结果不是我所期望的：

> {"订单":[ ["longvan","10/12/2012","Be34433jh","Long Van","115 Pham Viet Chanh, quan Binh Thanh","http://longvansolution.tk/image/ sample.jpg","PACKED","0909056788"], ["takeshi","24/12/2012","BF6464633","Vn-zoom","16 nguyen cuu van, quan binh thanh","http ://longvansolution.tk/image/hoadon3.jpg","PACKED","098897657"] ]}

你能帮助我吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-12-19T03:31:21.317

您必须为每一行创建一个数组以指定字段名称和值。

```
$json['Orders'][] = array('DeliveryId' => $row[0], 'CustomerName' => $row[1], ...); 
```

或者，如果表列名称正是您想要在 JSON 中使用的名称，则使用[mysqli_fetch_assoc()函数：](http://php.net/manual/en/mysqli-result.fetch-assoc.php)

```
$rows = array();
while($r = mysqli_fetch_assoc($sql)) {
    $rows[] = $r;
}
$data = array('Orders' => $rows);
print json_encode($data); 
```

# c# - 焦点离开时阻止 Firefox Flash 退出全屏模式

> ID：13945073
> 
> 赞同：1
> 
> 时间：2012-12-19T03:26:15.047
> 
> 标签：c#, flash, winapi, firefox, fullscreen

目前，每当我使用 Firefox 将 Flash 窗口置于全屏模式时，只要焦点离开 Flash 屏幕到我的“始终在顶部”表单，Flash 就会立即退出全屏模式！即使我将表单设置为不在任务栏中显示，也会发生这种情况。现在必须有一些方法来解决这个问题，因为当 Java 程序失去焦点时，始终处于顶部的类似 Java 应用程序不会导致 Flash 播放器退出全屏模式。

有没有人对如何避免这种行为有任何想法？请注意，这不会发生在 Chrome 中，只会发生在 Firefox 中。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-27T10:59:54.157

您可以在不激活的情况下显示表单。这可以通过 Win32 扩展窗口样式**WS_EX_NOACTIVATE**实现。

您必须覆盖 Form 的 CreateParams 属性才能设置此样式：

```
protected override CreateParams CreateParams
{
    get
    {
       CreateParams cp = base.CreateParams;
       cp.ExStyle |= 0x08000000/*WS_EX_NOACTIVATE*/;
       return cp;
    }
} 
```

但请注意，这种样式对表单有一些副作用，例如在移动过程中不再绘制它。

# algorithm - 按相似度排序

> ID：13945077
> 
> 赞同：10
> 
> 时间：2012-12-19T03:27:18.913
> 
> 标签：algorithm, sorting

我有一系列订单。

```
[a, b]
[a, b, c]
[a, b, c, d]
[a, b, c, d]
[b, c]
[c, d] 
```

其中a、b、c、d是SKU，大箱子里装满了。并且有数千个订单和数百个可能的 SKU。

现在想象一下，在打包这些订单时，如果一个订单缺少前一个订单中的商品，您必须将该 SKU 的盒子收起来（同样取出一个您没有的盒子）。

您如何对此进行排序，以便有最少数量的盒子更改？或者，用更程序化的术语来说：如何最小化累积汉明距离/最大化集合中相邻项目之间的相交？

我真的不知道从哪里开始。是否已经有一些算法呢？有没有合适的近似值？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-19T04:25:29.370

确实@irrelephant 是正确的。这是一个无向哈密顿路径问题。将其建模为一个完整的无向图，其中节点是 sku 集，每条边的权重是各个集之间的汉明距离。那么找到一个打包顺序就相当于找到了一个恰好触及每个节点一次的路径。这是一条哈密顿路径（HP）。你想要最小的重量HP。

坏消息是找到最小权重 HP 是 NP 完全的，这意味着最佳解决方案通常需要指数时间。

好消息是有合理的近似算法。显而易见的贪心算法给出的答案不比最优 HP 的两倍差。这是：

```
create the graph of Hamming distances
sort the edges by weight in increasing order: e0, e1, ...
set C = emptyset
for e in sequence e0, e1, ...
   if C union {e} does not cause a cycle nor a vertex with degree more than 2 in C
      set C = C union {e}
return C 
```

请注意，`if`使用经典的不相交集并集查找算法和顶点中的事件边计数器可以在几乎恒定的时间内实现语句测试。

因此，假设计算汉明距离是恒定时间，那么对于 n sku 集，这里的运行时间可以是 O(n^2 log n)。

如果您的词汇表中没有图表，请考虑一个三角形表，其中每对 sku 集都有一个条目。表中的条目是汉明距离。您想要对表条目进行排序，然后将 sku 集对以排序顺序一一添加到您的计划中，跳过会导致“分叉”或“循环”的对。叉子是一组像 (a,b), (b,c), (b,d) 这样的对。循环将是（a，b），（b，c），（c，a）。

还有[更复杂的多项式时间算法](http://www.its.berkeley.edu/publications/UCB/2007/RR/UCB-ITS-RR-2007-2.pdf)可以达到 3/2 的近似值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-23T06:38:28.177

我非常喜欢这个问题，我无法抗拒对上面建议的算法进行编码。代码有点长，所以我把它放在一个单独的响应中。

它在示例中提出了这个序列。

```
Step 1: c d
Step 2: b c
Step 3: a b c
Step 4: a b c d
Step 5: a b c d
Step 6: a b 
```

请注意，此算法忽略了初始设置和最终拆卸成本。它只考虑设置间的距离。这里的汉明距离是 2 + 1 + 1 + 0 + 2 = 6。这与问题中给出的顺序相同的总距离。

```
#include <stdio.h>
#include <stdlib.h>

// With these data types we can have up to 64k items and 64k sets of items,
// But then the table of pairs is about 20Gb!
typedef unsigned short ITEM, INDEX;

// A sku set in the problem.
struct set {
  INDEX n_elts;
  ITEM *elts;
};

// A pair of sku sets and associated info.
struct pair {
  INDEX i, j;         // Indices of sets.
  ITEM dist;          // Hamming distance between sets.
  INDEX rank, parent; // Disjoint set union/find fields.
};

// For a given set, the adjacent ones along the path under construction.
struct adjacent {
  unsigned char n;  // 0, 1, or 2.
  INDEX elts[2];    // Indices of n adjacent sets.
};

// Some tracing functions for fun.
void print_pair(struct pair *pairs, int i)
{
  struct pair *p = pairs + i;
  printf("%d:(%d,%d@%d)[%d->%d]\n", i, p->i, p->j, p->dist, p->rank, p->parent);
}

void print_adjacent(struct adjacent *adjs, int i)
{
  struct adjacent *a = adjs + i;
  switch (a->n) {
    case 0: printf("%d:o", i); break;
    case 1: printf("%d:o->%d\n", i, a->elts[0]); break;
    default: printf("%d:%d<-o->%d\n", i, a->elts[0], a->elts[1]); break;
  }
}

// Compute the Hamming distance between two sets. Assumes elements are sorted.
// Works a bit like merging.
ITEM hamming_distance(struct set *a, struct set *b)
{
  int ia = 0, ib = 0;
  ITEM d = 0;   
  while (ia < a->n_elts && ib < b->n_elts) {
    if (a->elts[ia] < b->elts[ib]) {
      ++d;
      ++ia;
    }
    else if (a->elts[ia] > b->elts[ib]) {
      ++d;
      ++ib;
    }
    else {
      ++ia;
      ++ib;
    }
  }
  return d + (a->n_elts - ia) + (b->n_elts - ib);
}

// Classic disjoint set find operation.
INDEX find(struct pair *pairs, INDEX x)
{
  if (pairs[x].parent != x)
    pairs[x].parent = find(pairs, pairs[x].parent);
  return pairs[x].parent;
}

// Classic disjoint set union. Assumes x and y are canonical.
void do_union(struct pair *pairs, INDEX x, INDEX y)
{
  if (x == y) return;
  if (pairs[x].rank < pairs[y].rank)
    pairs[x].parent = y;
  else if (pairs[x].rank > pairs[y].rank)
    pairs[y].parent = x;
  else {
    pairs[y].parent = x;
    pairs[x].rank++;
  }
}

// Sort predicate to sort pairs by Hamming distance.
int by_dist(const void *va, const void *vb)
{
  const struct pair *a = va, *b = vb;
  return a->dist < b->dist ? -1 : a->dist > b->dist ? +1 : 0;
}

// Return a plan with greedily found least Hamming distance sum.
// Just an array of indices into the given table of sets.
// TODO: Deal with calloc/malloc failure!
INDEX *make_plan(struct set *sets, INDEX n_sets) 
{
  // Allocate enough space for all the pairs taking care for overflow. 
  // This grows as the square of n_sets!
  size_t n_pairs = (n_sets & 1) ? n_sets / 2 * n_sets : n_sets / 2 * (n_sets - 1);
  struct pair *pairs = calloc(n_pairs, sizeof(struct pair));

  // Initialize the pairs.
  int ip = 0;
  for (int j = 1; j < n_sets; j++) {
    for (int i = 0; i < j; i++) {
      struct pair *p = pairs + ip++;
      p->i = i;
      p->j = j;
      p->dist = hamming_distance(sets + i, sets + j);
    }
  }

  // Sort by Hamming distance.
  qsort(pairs, n_pairs, sizeof pairs[0], by_dist);

  // Initialize the disjoint sets.
  for (int i = 0; i < n_pairs; i++) {
    struct pair *p = pairs + i;
    p->rank = 0;
    p->parent = i;
  }

  // Greedily add pairs to the Hamiltonian path so long as they don't cause a non-path!
  ip = 0;
  struct adjacent *adjs = calloc(n_sets, sizeof(struct adjacent));
  for (int i = 0; i < n_pairs; i++) {
    struct pair *p = pairs + i;
    struct adjacent *ai = adjs + p->i, *aj = adjs + p->j; 

    // Continue if we'd get a vertex with degree 3 by adding this edge.
    if (ai->n == 2 || aj->n == 2) continue;

    // Find (possibly) disjoint sets of pair's elements.
    INDEX i_set = find(pairs, p->i);
    INDEX j_set = find(pairs, p->j);

    // Continue if we'd form a cycle by adding this edge.
    if (i_set == j_set) continue;

    // Otherwise add this edge.
    do_union(pairs, i_set, j_set);
    ai->elts[ai->n++] = p->j;
    aj->elts[aj->n++] = p->i;

    // Done after we've added enough pairs to touch all sets in a path.
    if (++ip == n_sets - 1) break;
  }

  // Find a set with only one adjacency, the path start.
  int p = -1;
  for (int i = 0; i < n_sets; ++i) 
    if (adjs[i].n == 1) {
      p = i;
      break;
    }

  // A plan will be an ordering of sets.
  INDEX *plan = malloc(n_sets * sizeof(INDEX));

  // Walk along the path to get the ordering.
  for (int i = 0; i < n_sets; i++) {
    plan[i] = p;
    struct adjacent *a = adjs + p;
    // This logic figures out which adjacency takes us forward.
    p = a->elts[ a->n > 1 && a->elts[1] != plan[i-1] ];
  }

  // Done with intermediate data structures.
  free(pairs);
  free(adjs);

  return plan;
}

// A tiny test case.  Much more testing needed!

#define ARRAY_SIZE(A) (sizeof A / sizeof A[0])
#define SET(Elts) { ARRAY_SIZE(Elts), Elts }

// Items must be in ascending order for Hamming distance calculation.
ITEM a1[] = { 'a', 'b' };
ITEM a2[] = { 'a', 'b', 'c' };
ITEM a3[] = { 'a', 'b', 'c', 'd' };
ITEM a4[] = { 'a', 'b', 'c', 'd' };
ITEM a5[] = { 'b', 'c' };
ITEM a6[] = { 'c', 'd' };

// Out of order to see how we do.
struct set sets[] = { SET(a3), SET(a6), SET(a1), SET(a4), SET(a5), SET(a2) };

int main(void)
{
  int n_sets = ARRAY_SIZE(sets);
  INDEX *plan = make_plan(sets, n_sets);

  for (int i = 0; i < n_sets; i++) {
    struct set *s = sets + plan[i];
    printf("Step %d: ", i+1);
    for (int j = 0; j < s->n_elts; j++) printf("%c ", (char)s->elts[j]);
    printf("\n");
  }
  return 0;
} 
```

# jquery - 在单独的 div 中加载不同的内容/使用媒体查询显示和隐藏

> ID：13945078
> 
> 赞同：0
> 
> 时间：2012-12-19T03:27:20.320
> 
> 标签：jquery

我正在创建一个跨平台 Web 应用程序，该应用程序将允许访问纵向内容和横向的其他交互功能。这实际上是两个不同的 HTML 5 应用程序。

我想在 index.html 上有两个 div。一个将加载 content/index.html，另一个将加载 interactive/index.html。

交互将隐藏在纵向中，内容将隐藏在横向中。

是否可以使用 jQuery load() 方法来完成此操作？我希望它们都加载，以便用户能够在每次改变方向后返回到他们在每个视图中停止的位置。

会像下面这样工作吗？

```
/* show portrait content only */
/* hide it landscape content */

@media screen and (min-device-width: 0px) and (max-device-width: 768px) and (orientation: portrait) {
  #content { display: block; } 
  #interactive { display: none; }
}

/* show landscape content only */
/* hide portrait content */

@media screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: landscape) {
  #content { display: none; }
  #interactive { display: block; }   
}

<div id="content"></div>
<script type="text/javascript">
$(function()
{
        $("#content").load("content/index.html");
});
</script>

<div id="interactive"></div>
<script type="text/javascript">
$(function()
{
        $("#interactive").load("interactive/index.html");
});
</script> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T04:10:12.277

1 个 JQuery 函数如何检查是否`#content`可见`#interactive`，然后触发适当的负载？

除此之外，[如果可能，请尝试绑定到方向更改](http://css-tricks.com/forums/discussion/16123/reload-jquery-functions-on-ipad-orientation-change/p1)

这里有一个很好的相关答案：[https ://codereview.stackexchange.com/a/11701](https://codereview.stackexchange.com/a/11701)

在这里：[https ://stackoverflow.com/a/2323338/1821473](https://stackoverflow.com/a/2323338/1821473)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T15:48:09.000

大多数浏览器都支持这个怎么样？

```
$(document).ready(

    function() {

        var screenX = screen.width,
            screenY = screen.height;

        if (screenX == 768 && screenY == 1024) {
            $('div#interactive').css('display','none');
        }

        else if (screenY == 768 && screenX == 1024) {
            $('div#content').css('display','none');
        }
    }
);

<div id="content">
<script type="text/javascript">
$(function()
{
        $("#content").load("content/index.html");
});
</script></div>

<div id="interactive">
<script type="text/javascript">
$(function()
{
        $("#interactive").load("interactive/index.html");
});
</script></div> 
```

# wpf - WPF 组合框箭头按钮

> ID：13945083
> 
> 赞同：1
> 
> 时间：2012-12-19T03:27:50.263
> 
> 标签：wpf, xaml, combobox

我正在做一个 wpf 项目，在我的应用程序中我有一个组合框。我能知道任何简单的方法来更改下拉箭头颜色吗？我在这里找到了[资源](http://msdn.microsoft.com/en-us/library/ms752094.aspx)，但它太复杂了。任何人都可以帮助我吗？

p/s: 我是新手

组合框示例：

![在此处输入图像描述](../Images/4c6fda7313b5193b04c0b1c44ab7c3bd.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-06T15:59:34.900

```
<Setter Property="Template">
    <Setter.Value>
        <ControlTemplate TargetType="ComboBox">
            <Path x:Name="Arrow" Fill="White"/>
        </ControlTemplate>
    </Setter.Value>
</Setter> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T03:32:13.390

因为箭头只是链接到系统资源，我相信除了重做整个模板之外没有其他方法可以更改它，就像您在链接文章中看到的那样。它看起来很复杂，但还不错，尤其是如果您有 Blend（只是因为 Blend 可以很容易地拉出当前模板进行编辑）。

# java - Jasper Reports - 限制组中的行数

> ID：13945084
> 
> 赞同：1
> 
> 时间：2012-12-19T03:27:53.673
> 
> 标签：java, jasper-reports

我有一个类似这样的 CSV 数据源：

```
User,Site,Requests
user01,www.facebook.com,54220
user01,plusone.google.com,2015
user01,www.twitter.com,33564
user01,www.linkedin.com,54220
user01,weibo.com,2015
user02,www.twitter.com,33564
user03,www.facebook.com,54220
user03,plusone.google.com,2015
user03,www.twitter.com,33564 
```

在报告中，我想为每个用户显示前 3 行（最大值），而其他行仅对组总数有贡献。如何将报告限制为每组仅打印 3 行？

例如

```
User     Site                Requests
user01 | www.facebook.com    |  54220
         plusone.google.com  |   2015
         www.twitter.com     |  33564
                             | 146034
user02 | www.twitter.com     |  33564
                             |  33564
user03 | www.facebook.com    |  54220
user03 | plusone.google.com  |   2015
user03 | www.twitter.com     |  33564
                             |  89799 
```

这实际上只是我正在努力解决的线路限制，其余的工作都很好。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T06:32:22.523

I found a way to do it, if anyone can come up with a more elegant answer I would be happy to see it, as this feels a bit hacky!

for each item in detail band:

```
<reportElement...  isRemoveLineWhenBlank="true">
     <printWhenExpression><![CDATA[$V{userGroup_COUNT} < 4]]></printWhenExpression>
</reportElement> 
```

where userGroup is the field I am grouping by. I only seemed to need the `isRemoveLineWhenBlank` attribute for the first element.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-20T08:15:05.217

您可以考虑通过查询主报表中的分组字段，然后将分组字段作为参数传递给子报表来使用子报表；这种方法的优点是避免报表引擎实际循环遍历所有不需要的行（尽管它们没有显示）并花费不必要的服务器到服务器或服务器到客户端的带宽，尤其是当返回的数据集很大时

# ios5 - Facebook iOS SDK 3.1 openActiveSession.. 总是返回 0

> ID：13945088
> 
> 赞同：1
> 
> 时间：2012-12-19T03:28:15.483
> 
> 标签：ios5, facebook-ios-sdk

我正在开发一个应用程序，该应用程序需要能够为 iOS 5.0+ 版本的应用程序上传图像。对于 iOS 6，我已经轻松实现了完美运行的社交订阅源。

对于 iOS 5，我使用的是 Facebook iOS SDK 3.1 版。我使用教程中的方法，所以当我要在 iOS <6.0 上发布图像时，我调用以下方法：

```
- (BOOL)openSessionWithAllowLoginUI:(BOOL)allowLoginUI
{
    return [FBSession openActiveSessionWithPublishPermissions:[NSArray arrayWithObjects:@"publish_actions", nil] defaultAudience:FBSessionDefaultAudienceFriends allowLoginUI:allowLoginUI completionHandler:^(FBSession *session, FBSessionState status, NSError *error) {
        [self sessionStateChanged:session
                            state:status
                            error:error];
    }];
} 
```

我`[self openSessionWithAllowLoginUI:YES];`总是返回 NO (0) 并且 sessionStateChanged:state:error 永远不会因为它返回 0 而被调用。

我正确设置了应用程序，在 plist 中设置了两个不同的部分，等等，但由于某种原因，我的 iOS 5.0 设备上的这段代码不想正确返回。（就像在[openSessionWithAllowLoginUI 中几乎总是返回 NO](https://stackoverflow.com/questions/12115909/opensessionwithallowloginui-almost-always-returns-no?lq=1)）

有没有人有任何解决方案为什么它总是返回不？我在设备上安装了官方 FB 应用程序，我已登录我的帐户...我没有收到任何错误或任何东西...

提前致谢！

# jquery - 背景图片：url（“images/plaid.jpg”）不重复；不会出现

> ID：13945089
> 
> 赞同：7
> 
> 时间：2012-12-19T03:28:22.307
> 
> 标签：jquery, css, background, stylesheet

我似乎无法将我的 plaid.jpg 作为任何页面的背景，更不用说所有页面了，我尝试通过 body、html、*、“home”的特定 id 来选择它。没有任何作用。图像为 300 x 421 像素。我不需要它漂亮地出现，我只希望它出现在所有事物的背后。我的CSS将如何寻找这个？plaid.jpg 图片位于我的 images 文件夹中，与我的 index.html 文件位于同一目录中。此链接位于我的 index.html 文件的顶部。我的样式表位于名为 mystyles.css 的样式表文件夹中。

```
<link rel="stylesheet" type="text/css" href="stylesheets/mystyles.css"> 
```

我尝试过以我认为可以想象的各种方式更改我的 .CSS 文件。“背景图片未显示”的前 30 个谷歌搜索结果均无效。我知道这可能很简单。

mystyles.css 最基本的形式，没有选择器。

```
 background-image: url("images/plaid.jpg") no-repeat; 
```

索引.html

```
 <body>
        <!-- Page: home -->
            <div id="home"
                data-role="page"
                data-title="Home">
                <div data-role="header"
                    data-position="fixed"
                    data-theme="b">
                    <h1>Home</h1>
                    <a href="#info"
                        data-icon="info"
                        data-iconpos="notext"
                        data-rel="dialog"
                        class="ui-btn-right"
                        >Info</a>
                </div><!-- header -->
                <div data-role="content">

                <div data-role="controlgroup" data-theme="e">
                    <a href="#blog" 
                        data-role="button"
                        data-icon="arrow-r"
                         data-theme="e"
                    >Blog</a>
                    <a href="#videos" 
                        data-role="button"
                        data-icon="arrow-r"
                         data-theme="e"
                    >Videos</a>
                    <a href="#photos" 
                        data-role="button"
                        data-icon="arrow-r"
                         data-theme="e"
                    >Photos</a>
                    <a href="#tweets" 
                        data-role="button"
                        data-icon="arrow-r"
                         data-theme="e"
                    >Tweets</a>
                </div><!-- links -->
                </div> <!-- content -->
            </div><!-- page --> 
```

这不成功

```
body {
    background-image: url("/images/plaid.jpg");
    background-repeat: no-repeat;
} 
```

这也是我的

```
<head>
    <meta charset="utf-8" />
    <title>Mob App</title>
    <head>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

    <link rel="shortcut icon" href="images/favicon.ico" /> 

    <!--<link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />-->
    <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>

    <script src="javascripts/myscript.js"></script>
    <link rel="stylesheet" type="text/css" href="stylesheets/mystyles.css" />
    </head> 
```

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-12-19T03:40:09.827

您要么使用：

```
background-image: url("images/plaid.jpg");
background-repeat: no-repeat; 
```

... 或者

```
background: transparent url("images/plaid.jpg") top left no-repeat; 
```

...但绝对**不是**

```
background-image: url("images/plaid.jpg") no-repeat; 
```

**编辑**：使用绝对路径在**[JSFIDDLE](http://jsfiddle.net/gfWES/)**演示（以防您在使用相对路径引用图像时遇到问题）。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-19T03:40:15.990

**最重要的**

请记住，相对 URL 是从样式表的 URL 解析的。

`images`因此，如果文件夹在文件夹内，它将起作用`stylesheets`。

根据您的描述，您需要将其更改为

```
url("../images/plaid.jpg") 
```

或者

```
url("/images/plaid.jpg") 
```

* * *

**附加 1**

你也不能没有选择器..

CSS是通过选择器应用的..

* * *

**附加 2**

您应该使用简写`background`来传递多个这样的值

```
background: url("../images/plaid.jpg") no-repeat; 
```

或单独指定每个属性的详细语法

```
background-image: url("../images/plaid.jpg");
background-repeat:no-repeat; 
```

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2012-12-19T03:39:29.827

如果这确实是您的 CSS 文件中的全部内容，那么是的，什么都不会发生。您需要一个选择器，即使它很简单`body`：

```
body {
    background-image: url(...);
} 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2012-12-19T03:39:41.870

尝试这个：

```
body
{ 
    background:url("images/plaid.jpg") no-repeat fixed center;
} 
```

jsfiddle 示例：http: [//jsfiddle.net/Q9Zfa/](http://jsfiddle.net/Q9Zfa/)

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-12-19T04:28:19.380

您可以使用两种方式进行调试：

1.  按`CTRL`+`U`查看页面 Source 。按`CTRL`+`F`在 source 中找到“mystyles.css”。单击 mystyles.css 链接并检查它是否未显示“404 not found”。

2.  您可以在 FIRBUG 中检查元素并将路径设置为图像，设置图像高度和宽度，因为有时图像不显示。

希望这可能有效！

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-10-05T12:33:09.797

```
 <style>
    background: url(images/Untitled-2.fw.png);
background-repeat:no-repeat;
background-position:center;
background-size: cover;
    </style> 
```

# video - OpenCV - .clone() 函数是否需要双缓冲视频源？

> ID：13945090
> 
> 赞同：2
> 
> 时间：2012-12-19T03:28:23.220
> 
> 标签：video, opencv, double, buffer, capture

我正在尝试在我的 OpenCV 程序中双重缓冲我的 VideoCapture 输出（以减少闪烁）。这是到目前为止的概念：

```
 Mat frameA, frameB;  //alternating between these two for storage
    VideoCapture cap(0); // open the default camera
    for(;;)
    {
        cap >> frameB; 
        waitKey(30);
        cap >> frameA;
        waitKey(30);

        putText(frameA,SSTR("A"),Point(frameA.cols/2,frameA.rows/2),3,5,CV_RGB(250,200,200));
        putText(frameB,SSTR("B"),Point(frameA.cols/2,frameB.rows/2),3,5,CV_RGB(250,200,200));

        imshow("A",frameA);
        imshow("B",frameB);

        waitKey(30);

    } 
```

作为一个简单的测试，我将文本 A 或 B 写在框架的中心。但是输出有 A 和 B 重叠 - 好像没有两个单独的帧。我究竟做错了什么？
我已经通过使用 .clone() 运算符提出了一个解决方案，但我知道这种事情在 CPU（？）方面非常昂贵，所以想避免它。希望我们这里有一些 C++ 双缓冲专家。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T06:39:25.010

我也有同样的问题。我认为，您在 OpenCV（对我来说是 2.4.9v）实现中发现了一个错误。在 HiGUI 模块 (cap.cpp) 的源代码中：

```
bool VideoCapture::retrieve(Mat& image, int channel)
{
    IplImage* _img = cvRetrieveFrame(cap, channel);
    if( !_img )
    {
        image.release();
        return false;
    }
    if(_img->origin == IPL_ORIGIN_TL)
        image = Mat(_img); << NO COPY
    else
    {
        Mat temp(_img);    << NO COPY
        flip(temp, image, 0); << Here is deep copy done
    }
    return true;
} 
```

如果 _img->origin == IPL_ORIGIN_TL 从 IplImage 到 cv::Mat 的转换是在没有复制数据的情况下完成的，因为构造函数的声明如下所示：

```
//! converts old-style IplImage to the new matrix; the data is not copied by default
Mat(const IplImage* img, bool copyData=false); 
```

建议的解决方案：

1.  手动复制抓取的 cv::Mat。
2.  有人应该向 OpenCV 提交错误。

更新。似乎OpenCV 2.x的文档中的这个[注释也是：](http://docs.opencv.org/modules/highgui/doc/reading_and_writing_images_and_video.html#videocapture-read)

> 注意：OpenCV 1.x 函数 cvRetrieveFrame 和 cv.RetrieveFrame 返回存储在视频捕获结构中的图像。不允许修改或发布图像！您可以使用 cvCloneImage() 复制框架，然后对副本执行任何操作。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-05-22T12:19:37.403

OpenCV 文档不清楚，但此说明也适用于 2.x API：

> 注意：OpenCV 1.x 函数 cvRetrieveFrame 和 cv.RetrieveFrame 返回存储在视频捕获结构中的图像。不允许修改或发布图像！您可以使用 cvCloneImage() 复制框架，然后对副本执行任何操作。

这意味着 OpenCV 总是使用相同的内存位置来读取相机输入，因此无法避免对 clone() 的调用。

# makefile - 混合隐式规则和正常规则的错误

> ID：13945091
> 
> 赞同：22
> 
> 时间：2012-12-19T03:28:33.267
> 
> 标签：makefile

在构建开源项目时，我遇到了以下错误：

```
make  subdir=manual -C manual ..=../ subdir_lib
Makefile:235: *** mixed implicit and normal rules.  Stop. 
```

Makefile 第 235 行的代码如下：

```
235: $(objpfx)stubs ../po/manual.pot $(objpfx)stamp%:
236:    $(make-target-directory)
237:    touch $@ 
```

* * *

## 回答 #1

> 赞同：21
> 
> 时间：2012-12-19T05:09:58.990

当您在规则声明的左侧有一些看起来像模式规则输出（包含 a `%`）以及看起来像正常输出（no ）的东西时，GNU make 会打印该错误消息。例如：`%``:`

```
%.pat normal:
        @echo $@ 
```

所以在你的 Makefile 的第 235 行，你已经设法把“看起来像”那个结构的东西放在一起。为避免该错误，请修复该声明，很可能将其分为两部分：

```
%.pat:
        @echo $@

normal:
        @echo $@ 
```

如果没有看到产生此错误的完整生成文件，我们就无法为您提供更多建议。

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2014-12-09T09:01:51.950

我在这里提醒继任者，**检查你的路径，它有没有空间**？我们浪费了整个下午！

* * *

## 回答 #3

> 赞同：10
> 
> 时间：2016-02-22T19:43:32.687

在我的情况下，错误是由于在依赖行的末尾愚蠢地放置了一个无关紧要的 : ：

```
%.o: %.cpp:
     g++ -c -o %@ $< 
```

* * *

## 回答 #4

> 赞同：5
> 
> 时间：2018-04-23T10:52:58.647

我自己也有这个，这是由于变量定义中的“/”之后的隐藏空间，即

```
#accidental/invisible space left after the final "/" i.e...
DESTDIR=path/to/the/destination/directory/ 
#                            ...just here ^

#rule to make copies of text files...
$(DESTDIR)%.txt:$(SRCDIR)%.txt 
```

* * *

## 回答 #5

> 赞同：3
> 
> 时间：2013-02-25T19:13:26.653

此问题中描述的问题已在此处报告 [http://sourceware.org/bugzilla/show_bug.cgi?id=11873](http://sourceware.org/bugzilla/show_bug.cgi?id=11873)

正如 Eric 所建议的那样，解决方法确实是拆分规则。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2019-10-13T00:43:33.803

完成[Eric Melski 的](https://stackoverflow.com/users/77345)回答后，您可以这样做以避免到处重复代码：

```
define DEFAULTTARGET :=
    @echo $@
endef

%.pat:
    ${DEFAULTTARGET}

normal:
    ${DEFAULTTARGET} 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2021-03-10T10:05:08.707

检查您的路径，检查您保存项目的位置，目录名称中不应有空格。如果您从其他来源导入它，请将其与系统生成的项目目录文件一起保存

# php - 登录信息以纯文本形式显示 - 如何使其不可读

> ID：13945094
> 
> 赞同：8
> 
> 时间：2012-12-19T03:29:29.667
> 
> 标签：php, jquery, html

我正在做一个登录表单，它使用 jquery 将数据从表单传递到脚本并返回。我注意到电子邮件和密码是以纯文本形式发送的。我还注意到，在像这样的网站、gmail 或其他网站中，登录信息不像我的那样可读。我怎样才能做到这一点？不知何故，以纯文本形式发送这些信息看起来不是很……专业。

![屏幕捕捉萤火虫](../Images/fafa600f6502d11bb2c9bf5b82b625bd.png)

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-19T03:35:10.020

你有几个选择：

1.  使用 HTTPS 协议发送登录信息。
2.  您可以在客户端散列/加密您的登录信息，上传/处理表单，并在您的服务器上解密和处理登录信息。所以有几个关于这个过程的 Q/A 答案：

    *   [无需 ssl 的双向密码加密](https://stackoverflow.com/questions/38838/two-way-password-encryption-without-ssl)
    *   [安全登录：PHP 和 Javascript 中的公钥加密](https://stackoverflow.com/questions/1528012/secure-login-public-key-encryption-in-php-and-javascript)

但是，如果加密密钥也以纯文本形式通过 Internet 提交，则选项 #2 并不是真正的选项。

# html - 导航中间的横幅被剪裁在 Internet Explorer 里面？

> ID：13945098
> 
> 赞同：0
> 
> 时间：2012-12-19T03:30:27.857
> 
> 标签：html, css, navigation

这是我第一次尝试在导航中间编写横幅，不幸的是它没有那么好。我不知道我应该做什么，因为我尝试了溢出，但它似乎没有用。

HTML：

```
<nav>
<ul>
    <li><a href="">Home</a></li>
    <li><a href="">Register</a></li>
    <li><a href="">About</a></li>
    <li class="logo"><a href="#"></a></li>
    <li><a href="">Home</a></li>
    <li><a href="">Register</a></li>
    <li><a href="">About</a></li>
</ul>
</nav> 
```

风格：

```
nav ul {
width: auto;
height: 74px;
position: relative;
z-index: 5;
overflow: visible;
}

nav ul li {
list-style-type: none;
float: left;
display: inline-block;
padding: 0px 30px;
width: auto;
height: 74px;
}

nav ul li.logo {
background: url(logo.png) no-repeat; 
width: 200px; 
height: 175px; 
position: relative;
top: -83px;
left: 5px;
} 
```

![在 Internet Explorer 中，中间的横幅如何不溢出的示例。](../Images/f4163c25c5190454939c60b8df9796b4.png)

如您所见，横幅大于导航本身的高度，并且在 Chrome、Firefox 和 Opera 等浏览器上显示良好。但是，在 Internet Explorer 上，横幅显示在内部并且没有溢出。我尝试了溢出属性，但它们似乎不起作用。我应该怎么办？

# c# - 如何以编程方式更改 WPF 矩形样式 (MVVM) (Noob)

> ID：13945102
> 
> 赞同：8
> 
> 时间：2012-12-19T03:31:15.110
> 
> 标签：c#, wpf, xaml, mvvm, datatrigger

**[编辑]** *我忘记包含返回的异常

`'System.Windows.Style' is not a valid value for property 'Fill'`*

这是我的第一篇文章，我已经做了很多搜索可能已经回答没有成功的问题。当谈到 MVVM、Prism 和 WPF 时，我是一个完全的菜鸟，我在这方面陷入了困境。

我希望根据模型中的布尔值（绑定通过）更改 2 个矩形的内容。

如果测试返回 Pass (bool True)，那么我们为第一个矩形显示绿色，第二个矩形将显示 UserControl.Resource Style x:Key="RectanglePass"。如果测试失败，则第一个矩形为红色，第二个显示 UserControl.Resource Style x:Key="RectangleFail"

我有以下 xaml 代码：

```
<UserControl x:Class="Integration.Memjet.Aoqc.Views.ProcessResultView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300">

 <UserControl.Resources>
    <Style x:Key="RectangleFail" TargetType="Rectangle">
        <Setter Property="Fill">
            <Setter.Value>
                <VisualBrush>
                    ....
                </VisualBrush>
            </Setter.Value>
        </Setter>
    </Style>
    <Style x:Key="RectanglePass" TargetType="Rectangle">
        <Setter Property="Fill">
            <Setter.Value>
                <VisualBrush>
                    ....
                </VisualBrush>
            </Setter.Value>
        </Setter>
    </Style>
</UserControl.Resources>
<Grid>
    <Grid.RowDefinitions>
        <RowDefinition Height="60"></RowDefinition>
        <RowDefinition Height="60"></RowDefinition>
        <RowDefinition></RowDefinition>
    </Grid.RowDefinitions>
    <Label VerticalAlignment="Center" HorizontalAlignment="Center" FontSize="20">PASS</Label>
    <Rectangle Name="rectStatus" Grid.Row="1">
        <Rectangle.Style>
            <Style TargetType="{x:Type Rectangle}">
                <Style.Triggers>
                    <DataTrigger Binding="{Binding Passed}" Value="True">
                        <Setter Property="Fill" Value="Green" />
                    </DataTrigger>
                    <DataTrigger Binding="{Binding Passed}" Value="False">
                        <Setter Property="Fill" Value="Red" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>
        </Rectangle.Style>
    </Rectangle>

    <Rectangle Name="rectStatusImg" Width="120" Height="120" Grid.Row="2" >
        <Rectangle.Style>
            <Style TargetType="{x:Type Rectangle}">
                <Style.Triggers>
                    <DataTrigger Binding="{Binding Passed}" Value="True">
                        <Setter Property="Fill" Value="{StaticResource RectanglePass}" />
                    </DataTrigger>
                    <DataTrigger Binding="{Binding Passed}" Value="False">
                        <Setter Property="Fill" Value="{StaticResource RectangleFail}" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>
        </Rectangle.Style>
    </Rectangle>
</Grid>
</UserControl> 
```

以上不起作用并返回异常。如果我要用这一行替换第二个 Rectangle 标记 (rectStatusImg)；

```
<Rectangle Name="rectStatusImg" Style="{StaticResource RectanglePass}" Width="120" Height="120" Grid.Row="2" ></Rectangle> 
```

xaml 工作并产生预期的结果！但我希望将它绑定到 Boolean Passed，以便我可以通过编程方式更改它。

我真的希望我能够在这里解释我的问题。

提前感谢您的帮助，这个网站一直是一个宝藏和一个很大的帮助。

干杯，西蒙

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-19T04:03:46.740

在您的资源中定义两个视觉画笔并创建一个带有数据触发器的矩形样式，例如

```
 <VisualBrush x:Key="FailBrush">Black</VisualBrush>
    <VisualBrush x:Key="PassBrush">Red</VisualBrush>

    <Style x:Key="ColorRectangleStyle" TargetType="Rectangle">
        <Setter Property="Fill" Value="{StaticResource FailBrush}"/>
        <Style.Triggers>
            <DataTrigger Binding="{Binding Passed}" Value="False">
                <Setter Property="Fill" Value="{StaticResource PassBrush}"/>
            </DataTrigger>
        </Style.Triggers>
    </Style> 
```

并在矩形中使用它

```
<Rectangle Name="rectStatusImg" Width="120" Height="120" Grid.Row="2" Style="{StaticResource ColorRectangleStyle}" /> 
```

希望能帮助到你。

# php - 使用 SimpleXML 解析 XML 不会返回任何内容

> ID：13945105
> 
> 赞同：0
> 
> 时间：2012-12-19T03:31:30.363
> 
> 标签：php, simplexml

我目前正在尝试解析 MapQuest Traffic API，但是当我尝试显示事件时，什么都没有出现，如果我在 php 中执行“如果为空”，它会返回空。

这是代码：

```
 <?php
    $mysongs = simplexml_load_file("http://www.mapquestapi.com/traffic/v1/incidents?key=Fmjtd%7Cluuan1u2nh%2C2a%3Do5-96rw5u&callback=handleIncidentsResponse&boundingBox=$_GET[a], $_GET[b], $_GET[c], $_GET[d]&filters=construction,incidents&inFormat=kvp&outFormat=xml");
echo $mysongs->Incidents[0]->Incident[0]->fullDesc;
?> 
```

我传递的参数：?a=33.352532499999995&b=-118.2324383&c=34.352532499999995&d=-117.2324383。

提前致谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T04:36:39.787

这里 simplexml_load_file 没有加载所有的 xml 数据，所以我创建了一个名为 test.xml 的 xml 文件，然后从 test.xml 加载数据。现在您可以打印您需要的数据。

```
<?php

  $a = $_GET['a'];
  $b = $_GET['b'];
  $c = $_GET['c'];
  $d = $_GET['d'];

   $xml_feed_url = 'http://www.mapquestapi.com/traffic/v1/incidents?key=Fmjtd|luuan1u2nh%2C2a%3Do5-96rw5u&callback=handleIncidentsResponse&boundingBox='.$a.','.$b.','.$c.','.$d.'&filters=construction,incidents&inFormat=kvp&outFormat=xml';
   $ch = curl_init();
   curl_setopt($ch, CURLOPT_URL, $xml_feed_url);
   curl_setopt($ch, CURLOPT_HEADER, false);
   curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
   $xml = curl_exec($ch);
   curl_close($ch);

            $xml2 = new SimpleXMLElement($xml); 

            $xml2->asXML("test.xml");
            $xml2->asXML();

    $mysongs = simplexml_load_file("test.xml"); 
    print_r($mysongs);      
?> 
```

# internet-explorer-9 - ie9中的microsoft Jscript运行时错误

> ID：13945108
> 
> 赞同：0
> 
> 时间：2012-12-19T03:32:19.617
> 
> 标签：internet-explorer-9, runtime-error, visual-web-developer-2010

我使用 Visual Web Developer 2010 express，MVC 2 模型开发了一个 Web 应用程序。它是一个简单的应用程序发送和检索 5 个字段的数据。

`microsoft Jscript runtime error`当它在 Chrome 中运行时，一切正常，但在 IE 9 中，我得到一个包含“中断”、“继续”和“忽略”按钮 的对话框。

我真的很惊讶，因为在 Chrome 中同样可以正常工作。问题是什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-17T16:56:28.213

在为 IE 安装笑脸工具栏插件后，我遇到了这样的错误。在调试时，我看到错误来自 styleTag.innerHTML 对象。Microsoft 有使用innerHTML 的指南。你可以在这里查看：http: [//msdn.microsoft.com/en-us/library/ie/ms533897 (v=vs.85).aspx](http://msdn.microsoft.com/en-us/library/ie/ms533897(v=vs.85).aspx)

# c# - 读取文件、报告错误并将数据插入 SQL Server 数据库

> ID：13945110
> 
> 赞同：1
> 
> 时间：2012-12-19T03:33:02.220
> 
> 标签：c#, sql-server

下面的代码读取文本文件，对其进行格式化，显示任何错误并将数据插入 SQL Server 数据库。我以前在 Visual Basic 中编写了以下代码，现在我正在尝试重写代码 int C#，但它不起作用。

我无法将指示插入数据库的字段：我试图将没有错误的记录插入到数据库中，即使它们与其他行有错误也是如此。

这是我一个接一个地做的项目，因为我还在学习这些东西，所以请原谅我的无知。数据库部分看起来不错，所以我没有发布它，但如果需要，我可以。

**文件中的类：**

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Linq;
using System.Text;
using System.Data.SqlClient;
using System.Configuration;

namespace ConsoleApplication1
{
    class ClsMethods
    {
        public class MemberInfo
        {
            public static string MemberPhone;
            public static string MemberName;
            public static string MemberAddr1;
            public static string MemberAddr2;
            public static string MemberCity;
            public static string MemberState;
            public static string MemberZip;
        }

        public class ErrLog
        {
            public static int RowNum;

            public static List<string> Err;
            public  ErrLog(int row)
            {
                RowNum = row;
                Err = new List<string>();
            }

            public ErrLog()
            {
                Err = new List<string>();
            }
        }
    }
} 
```

**主代码：**

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Linq;
using System.Text;
using System.Data.SqlClient;
using System.Configuration;
using System.IO;

namespace ConsoleApplication1
{
    class Program
    {

        public static class MainModule
        {

           static List<ClsMethods.ErrLog> ErrList;

            public static void Main()
            {
                string strFilename = null;
                FileInfo fiFile = default(FileInfo);
                StreamReader srData = default(StreamReader);
                string strRecord = "";
                List<ClsMethods.MemberInfo> MbrList = default(List<ClsMethods.MemberInfo>);
                ClsMethods.MemberInfo MbrInfo = default(ClsMethods.MemberInfo);
                int successCount = 0;
                int failedCount = 0;
                int totalCount = 0;

                ErrList = new List<ClsMethods.ErrLog>();

                strFilename = "C:\\EMP\\Member.csv";
                fiFile = new FileInfo(strFilename);
                if (fiFile.Exists)
                {
                    if (fiFile.Length > 0)
                    {
                        MbrList = new List<ClsMethods.MemberInfo>();
                        srData = new StreamReader(strFilename);
                        while (srData.Peek() > 0) 
                        {
                            try
                            {
                                strRecord = srData.ReadLine().Replace("\"", "");
                                totalCount = totalCount + 1;
                                String[] rec = strRecord.Split(",".ToCharArray());
                                if ((ValidateRow(rec, totalCount)))
                                {
                                    MbrInfo = new ClsMethods.MemberInfo();
                                    ClsMethods.MemberInfo.MemberPhone = rec[0];
                                    ClsMethods.MemberInfo.MemberName  = rec[1];
                                    ClsMethods.MemberInfo.MemberAddr1 = rec[2];
                                    ClsMethods.MemberInfo.MemberAddr2 = rec[3];
                                    ClsMethods.MemberInfo.MemberCity  = rec[4];
                                    ClsMethods.MemberInfo.MemberState = rec[5];
                                    ClsMethods.MemberInfo.MemberZip   = rec[6];
                                    MbrList.Add(MbrInfo);
                                }
                            }
                            catch (Exception ex)
                            {
                                Console.WriteLine("READ: " + ex.Message);
                                srData.Close();
                                srData.Dispose();
                            }
                            Console.WriteLine(strRecord);
                        }
                        foreach (ClsMethods.MemberInfo emp in MbrList)
                        {
                            if ((ClsDatabase.InsertMemberInfo(MbrInfo)))
                            {
                                successCount = successCount + 1;
                            }
                            else
                            {
                                failedCount = failedCount + 1;
                            }
                        }
                        Console.WriteLine("Total rows: {0} ", totalCount);
                        Console.WriteLine("Records without Errors: {0} ", MbrList.Count);
                        Console.WriteLine("Records with errors: {0} ", ErrList.Count);

                        Console.WriteLine("Inserted successfully: " + successCount.ToString());
                        Console.WriteLine("Failed: " + failedCount.ToString());

                        if ((ErrList.Count > 0))
                        {
                            Console.WriteLine("If you want to display errors press D. If you want to store errors in log file press F.");
                            ConsoleKeyInfo cki = default(ConsoleKeyInfo);
                            cki = Console.ReadKey();
                            Console.WriteLine();
                            string res = "";
                            res = cki.Key.ToString(res.ToUpper());

                            if ((res == "D"))
                            {
                                DisplayErrors();
                            }
                            else if ((res == "F"))
                            {
                                WriteErrorsToFile();
                            }
                        }
                    }
                    else
                    {
                        Console.WriteLine("File " + strFilename + " is empty");
                    }
                }
                else
                {
                    Console.WriteLine("File " + strFilename + " doesn't exists");
                }

                Console.WriteLine("Program End. Press any key to exit");
                Console.ReadKey();
                Environment.Exit(0);
            }
            public static void DisplayErrors()
            {
                foreach (ClsMethods.ErrLog err in ErrList)
                {
                    foreach (string errDescr in ClsMethods.ErrLog.Err)
                    {
                        Console.WriteLine("Line " + ClsMethods.ErrLog.RowNum.ToString() + ": " + errDescr);
                    }
                }
            }

            public static void WriteErrorsToFile()
            {
                string path = "C:\\Log\\log.txt";
                // Delete the file if it exists.
                if (File.Exists(path))
                {
                    File.Delete(path);
                }

                using (StreamWriter outfile = new StreamWriter(File.Create(path)))
                {
                    foreach (ClsMethods.ErrLog err in ErrList)
                    {
                        foreach (string errDescr in ClsMethods.ErrLog.Err)
                        {
                            outfile.WriteLine("Line " + ClsMethods.ErrLog.RowNum.ToString() + ": " + errDescr);
                        }
                    }
                }
            }

            public static bool ValidateRow(string[] rec, int rowIndex)
            {
                ClsMethods.ErrLog Err = new ClsMethods.ErrLog();
                if ((rec.Length != 7))
                {
                    ClsMethods.ErrLog.Err.Add("Wrong number of values in row");
                }
                else
                {
                    rec[0] = rec[0].Replace("-", "");
                    if ((string.IsNullOrEmpty(rec[0])))
                    {   
                        ClsMethods.ErrLog.Err.Add("Phone is empty");
                    }

                    if ((string.IsNullOrEmpty(rec[1])))
                    {
                        ClsMethods.ErrLog.Err.Add("Name is empty");
                    }

                    if ((string.IsNullOrEmpty(rec[2])))
                    {
                        ClsMethods.ErrLog.Err.Add("Address is empty");
                    }

                    if ((string.IsNullOrEmpty(rec[4])))
                    {
                        ClsMethods.ErrLog.Err.Add("City is empty");
                    }

                    if ((string.IsNullOrEmpty(rec[5])))
                    {
                        ClsMethods.ErrLog.Err.Add("State is empty");
                    }

                    if ((string.IsNullOrEmpty(rec[6])))
                    {
                        ClsMethods.ErrLog.Err.Add("Zip is empty");
                    }
                }
                if ((ClsMethods.ErrLog.Err.Count > 0))
                {
                    ClsMethods.ErrLog.RowNum = rowIndex;
                    ErrList.Add(Err);
                    return false;
                }
                else
                {
                    return true;
                }
            }
        }
    }
} 
```

**数据库连接和参数：**

```
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Linq;
using System.Text;
using System.Data.SqlClient;
using System.Configuration;

namespace ConsoleApplication1
{
    class ClsDatabase
    {
        public static SqlConnection GetConnection()
        {
            SqlConnection InitCnt = null;

            InitCnt = new SqlConnection();
            InitCnt.ConnectionString = "Server=MyDB;database=Example;Trusted_Connection=true;";
            try
            {
                InitCnt.Open();
            }
            catch (Exception ex)
            {
                InitCnt.Close();
                InitCnt.Dispose();
            }

            return InitCnt;
        }

        public static bool InsertMemberInfo(ClsMethods.MemberInfo MbrInfo)
        {
            SqlConnection InitCnt = default(SqlConnection);
            SqlCommand InitCmd = default(SqlCommand);

            InitCnt = GetConnection();
            if ((InitCnt != null))
            {
                InitCmd = new SqlCommand();
                InitCmd.Connection = InitCnt;
                InitCmd.CommandText = "uspInsertMemberInformation";
                InitCmd.CommandType = CommandType.StoredProcedure;

                InitCmd.Parameters.Add(new SqlParameter("@MemberPhone", SqlDbType.NVarChar, 10));
                InitCmd.Parameters["@MemberPhone"].Direction = ParameterDirection.Input;
                InitCmd.Parameters["@MemberPhone"].Value = ClsMethods.MemberInfo.MemberPhone;

                InitCmd.Parameters.Add(new SqlParameter("@MemberName", SqlDbType.NVarChar, 50));
                InitCmd.Parameters["@MemberName"].Value = ClsMethods.MemberInfo.MemberName;
                InitCmd.Parameters["@MemberName"].Value = ClsMethods.MemberInfo.MemberName;

                InitCmd.Parameters.Add(new SqlParameter("@MemberAddr1", SqlDbType.NVarChar, 30));
                InitCmd.Parameters["@MemberAddr1"].Direction = ParameterDirection.Input;
                InitCmd.Parameters["@MemberAddr1"].Value = ClsMethods.MemberInfo.MemberAddr1;

                InitCmd.Parameters.Add(new SqlParameter("@MemberAddr2", SqlDbType.NVarChar, 30));
                InitCmd.Parameters["@MemberAddr2"].Direction = ParameterDirection.Input;
                InitCmd.Parameters["@MemberAddr2"].Value = ClsMethods.MemberInfo.MemberAddr2;

                InitCmd.Parameters.Add(new SqlParameter("@MemberCity", SqlDbType.NVarChar, 20));
                InitCmd.Parameters["@MemberCity"].Direction = ParameterDirection.Input;
                InitCmd.Parameters["@MemberCity"].Value = ClsMethods.MemberInfo.MemberCity;

                InitCmd.Parameters.Add(new SqlParameter("@MemberState", SqlDbType.NChar, 2));
                InitCmd.Parameters["@MemberState"].Direction = ParameterDirection.Input;
                InitCmd.Parameters["@MemberState"].Value = ClsMethods.MemberInfo.MemberState;

                InitCmd.Parameters.Add(new SqlParameter("@MemberZip", SqlDbType.NVarChar, 9));
                InitCmd.Parameters["@MemberZip"].Direction = ParameterDirection.Input;
                InitCmd.Parameters["@MemberZip"].Value = ClsMethods.MemberInfo.MemberZip;

                try

                {
                    InitCmd.ExecuteNonQuery();
                }
                catch (Exception ex)
                {
                    return false;
                }
                finally
                {
                    InitCmd.Parameters.Clear();
                    InitCnt.Close();
                }
            }
            return true;
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T04:02:26.943

那里有一些非常奇特的东西：

*   `ClsMethods`仅包含类且未使用；去掉它。
*   `MemberInfo`仅包含`static`字段，因此每个实例必须始终包含相同的数据。
*   `ErrLog`仅包含一个静态字段，因此，每个实例将始终包含相同的数据。
*   `Main`毫无意义地将一堆变量设置为`default`，这总是`null`，这是多余的。你为什么这样做？
*   `MainModule`也是多余的，应该删除。
*   所有变量都是全局的，这是不必要且有风险的。
*   `MbrInfo = new ClsMethods.MemberInfo();`没用，因为所有字段都是`static`，您只会覆盖已经存在的内容。
*   `ClsDatabase.InsertMemberInfo(MbrInfo)`将始终传递**最后一条**记录的次数与文件中记录的次数一样多。我猜你`ClsDatabase.InsertMemberInfo(emp)`想要 看看为什么全局变量不好？
*   `InsertMemberInfo`忽略您传递的参数并为每个参数使用单个静态值。
*   默认`SqlParameter.Direction`为`Input`，您不必重置它。

我不会在每个字段的前面添加“成员”；它已经在类名中。我猜你想要的是：

```
public class MemberInfo
{
    public string Phone;
    public string Name;
    public string Addr1;
    public string Addr2;
    public string City;
    public string State;
    public string Zip;
} 
```

然后`Main`你可以打电话：

```
MemberInfo mi = new MemberInfo();
mi.Phone = rec[0];
mi.Name = rec[1];
mi.Addr1 = rec[2];
mi.Addr2 = rec[3];
mi.City = rec[4];
mi.State = rec[5];
mi.Zip = rec[6];
MbrList.Add(mi); 
```

您使用这个词`Err`来指代类、日志和实例变量。这非常令人困惑。我建议类似：

```
public class ErrLog
{
    public int RowNum;
    public List<string> Messages;

    public ErrLog(int row)
        : base()
    {
        RowNum = row;
    }

    public ErrLog()
    {
        Messages = new List<string>();
    }
} 
```

你`InsertMemberInfo`应该看起来更像这样：

```
var sp = new SqlParameter("@MemberPhone", SqlDbType.NVarChar, 10);
sp.Value = MbrInfo.whatever;
InitCmd.Parameters.Add(sp); 
```

不要这样做：

```
try
{
    InitCmd.ExecuteNonQuery();
}
 catch (Exception ex)
{
    return false;
} 
```

这将丢弃程序失败的原因。只需这样做：

```
InitCmd.ExecuteNonQuery(); 
```

例外。使用它们。您的代码中还有一些奇怪的东西；从我展示的开始。

# php - 如何为 magento 管理员添加订单打印？Magento>销售>订单>订单打印

> ID：13945114
> 
> 赞同：2
> 
> 时间：2012-12-19T03:34:02.983
> 
> 标签：php, zend-framework, magento

我需要知道一种将打印订单功能添加到 magento admin 的方法。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-19T04:16:14.577

您可以使用此[扩展程序](http://www.magentocommerce.com/magento-connect/admin-order-printing-extension.html)。我没有测试它。所以手动安装。复制粘贴其扩展密钥并[在此处](http://freegento.com/ddl-magento-extension.php)下载。

*编辑：似乎开发人员现在删除了上面给出的扩展。同样的还有另一个扩展名。但不像以前那样免费！！！看看[这里](http://www.magentocommerce.com/magento-connect/print-orders-from-admin-1730.html)！*

# c# - 单击按钮后停止启用单选按钮？

> ID：13945116
> 
> 赞同：2
> 
> 时间：2012-12-19T03:34:22.963
> 
> 标签：c#, javascript, asp.net, radio-button

如果选择了 4 个属性列表中的 2 个选项之一，我的项目中有单选按钮应该被禁用。这是我的代码：

```
<asp:DropDownList ID="drpLType" runat="server" CssClass="drp">
 <asp:ListItem Value="0" Selected="True">Professional</asp:ListItem>
 <asp:ListItem Value="1">Enterprise</asp:ListItem>
 <asp:ListItem Value="2">Maintanence</asp:ListItem>
 <asp:ListItem Value="3">Reporting</asp:ListItem>
</asp:DropDownList> 
```

我为此目的使用了javascript：

```
function funMeapSupportValidate(val)
{
  switch(val)
    {
        case "0" :                             
            document.getElementById('<%=this.rdoMeapSupport.ClientID%>').disabled = false; 
            break;
        case "1" :
            document.getElementById('<%=this.rdoMeapSupport.ClientID%>').disabled = false; 
            break;                
        case  "2" :
            document.getElementById('<%=this.rdoMeapSupport.ClientID%>').check = false;   
            document.getElementById('<%=this.rdoMeapSupport.ClientID%>').disabled = true; 
            break;                
        case  "3" :
            document.getElementById('<%=this.rdoMeapSupport.ClientID%>').check = false;   
             document.getElementById('<%=this.rdoMeapSupport.ClientID%>').disabled = true; 
            break;                
        default:
            break;
    }
} 
```

在我的后端代码：

```
protected void drpLType_SelectedIndexChanged(object sender, EventArgs e)
{
    if (drpLType.SelectedValue == "Professional")
    {
        rdoMeapSupport.Enabled = true;
    }

    if (drpLType.SelectedValue == "Enterprise")
    {
        rdoMeapSupport.SelectedValue = null;
        rdoMeapSupport.Enabled = true;
    }

    if ((drpLType.SelectedValue == "Maintanence") || (drpLType.SelectedValue == "Reporting"))
    {
        rdoMeapSupport.Enabled = false;
        rdoMeapSupport.ClearSelection();
    }

} 
```

现在的问题是我的网站上有两个按钮。每当我单击这些按钮时，即使我选择了`Maintenance`或，单选按钮也会被激活`Reporting`。我该如何禁用它？

在我的页面加载：

```
protected void Page_Load(object sender, EventArgs e)
{
    if (!IsPostBack)
    {
        Tab1.CssClass = "Clicked";
        MainView.ActiveViewIndex = 0;

        if (drpLType.SelectedValue == "Professional")
        {
            rdoMeapSupport.Enabled = true;
            rdoMeapSupport.SelectedValue = "Yes";
        }

        drpLType_SelectedIndexChanged();
    }

    drpLType.Attributes.Add("onchange", "javascript:funMeapSupportValidate(this.value);");
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T04:26:55.393

嗯，我用这个

```
<INPUT type="radio" name="myButton" value="theValue"
onclick="this.checked=false;
alert('Sorry, this option is not available!')"> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T09:30:24.037

我终于通过以下方式解决了错误。

```
protected void drpLType_SelectedIndexChanged(object sender, EventArgs e)
{
  if (drpLType.SelectedValue == "1")
  {
   rdoMeapSupport.Enabled = true;
  }

  if (drpLType.SelectedValue == "2")
  {
   rdoMeapSupport.SelectedValue = null;
   rdoMeapSupport.Enabled = true;
  }

  if ((drpLType.SelectedValue == "3") || (drpLType.SelectedValue == "4"))
  {
   rdoMeapSupport.Enabled = false;
   rdoMeapSupport.ClearSelection();
  }
} 
```

# iis-7 - iis7 从确切的 url 重定向到新站点

> ID：13945119
> 
> 赞同：2
> 
> 时间：2012-12-19T03:34:52.927
> 
> 标签：iis-7, http-redirect

我想从确切的 URL 请求重定向到该域中的新站点。

我需要重定向来自的请求

```
 www.example.com/site111/default.aspx?configX.xml 
```

（此站点使用不同的配置文件来加载内容）

至

```
 www.example.com/site222/default.aspx 
```

问题是我需要保留访问权限 www.example.com.au/site111/default.aspx 所以我不能只进行 http 重定向，因为没有名为 default.aspx?configX.xml 的文件

我想我需要使用 URL 重写重定向 有人可以帮助我使用 Web 配置的语法吗？我无法让它工作

* * *

0 模块已安装并使用了上述语法，但仍然无法正常工作，

如果我在模块上使用测试功能，它说字符串匹配，非常困惑，实际的 webconfig 部分在这里

```
<rewrite>
  <rules>
    <rule name="Redirect2" stopProcessing="true">
       <match url="\/nrmmaps\/default.aspx\?config=nrmproject.xml$" />
       <action type="Redirect" url="/nrmproject/default.aspx" redirectType="Permanent"/>
    </rule>
  </rules>
 </rewrite> 
```

旧链接是

[http://se.nrmspace.com.au/nrmmaps/default.aspx?config=nrmproject.xml](http://se.nrmspace.com.au/nrmmaps/default.aspx?config=nrmproject.xml)

我希望它重新定向到

[http://se.nrmspace.com.au/nrmproject/default.aspx](http://se.nrmspace.com.au/nrmproject/default.aspx)

你知道为什么这不起作用吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:13:41.717

我相信你需要安装 IIS 重写模块，可以在这里找到： [http ://www.iis.net/downloads/microsoft/url-rewrite](http://www.iis.net/downloads/microsoft/url-rewrite)

完成此操作后，您可以在 web.config 中添加带有重定向规则的重写部分，如下所示：

```
 <system.webServer>
    <rewrite>
      <rules>
        <rule name="Redirect" stopProcessing="true">
           <match url="\/site111\/default.aspx\?configX.xml$" />
           <action type="Redirect" url="/site222/default.aspx" redirectType="Permanent"/>
        </rule>
      </rules>
     </rewrite>
  </system.webServer> 
```

希望这可以帮助

# php - 使用 HIGHCHART,PHP 使用文本文件中的正确值按颜色对图表条进行排序

> ID：13945134
> 
> 赞同：1
> 
> 时间：2012-12-19T03:36:15.720
> 
> 标签：php, jquery, highcharts

假设我有如下 PHP 函数代码：

**函数.php**

```
 function PMTA_CHART($contentID, $chartName, $file, $order) {
    $cate = '';
    $total = '';
    $fail = '';
    $chart = array();
    $title = "";
    $PercentBlue = 0;
    $PercentRed = 0;
    if (file_exists($file)) {
        $files = fopen($file, 'r');
        while (!feof($files)) {
            $data = explode(";", fgets($files));
            if ($title == "") {
                $title = $data[0];
            }
            if (!empty($data[5])) {
                $cate = $data[5];
                $PercentBlue = ((int)$data[6] - (int)$data[7]);
                $PercentRed = (int)$data[7];
                if (!empty($order)) {
                    $PercentBlue = (100 - (int)$data[8]);
                    $PercentRed = (int)$data[8];
                    $chart[] = array($PercentBlue, $PercentRed, $cate);
                } else {
                    $PercentBlue = (100 - (int)$data[8]);
                    $PercentRed = (int)$data[8];
                    $chart[] = array($PercentRed, $PercentBlue, $cate);
                }
            }
        }
        arsort($chart);
        $cate = '';
        $PercentBlue = 0;
        $PercentRed = 0;
        if (!empty($order)) {
            foreach ($chart as $arr) {
                $cate.= ',' . "'$arr[2]'";
                $PercentBlue.= ',' . $arr[0];
                $PercentRed.= ',' . $arr[1];
            }
        } else {
            foreach ($chart as $arr) {
                $cate.= ',' . "'$arr[2]'";
                $PercentBlue.= ', ' . $arr[1];
                $PercentRed.= ', ' . $arr[0];
            }
        }
        fclose($files);
    } else {
        echo "No such file";
    }
?>       

    <?php echo $chartName ?> = new Highcharts.Chart({
    chart: {
        renderTo: '<?php echo $contentID ?>',
        type: 'column'
    },
    title: {
        text: '<?php echo $title; ?>'
    },
    xAxis: {
        categories: [<?php echo substr($cate, 1); ?>],
        labels: {
            rotation: 90,
            align: 'left'
        }
    },
    yAxis: {
        min: 0,
        title: {
            text: '% envoi'
        }
    },
    tooltip: {
        formatter: function() {
            return ''+
                this.series.name +': '+ this.y +' ('+ Math.round(this.percentage) +'%)';
        }
    },

    plotOptions: {
        column: {
            stacking: 'percent'
        }
    },
        series: [{
        name: 'Total mail succesful',
        data: [<?php echo substr($PercentBlue, 2); ?>]
    }, {
        name: 'Total mail fail',
        data: [<?php echo substr($PercentRed, 2); ?>]
    }]
}); 
```

**pmtaChart.php**

```
<?php
include('include/function.php');
$pmta3_emetteur_file = '../stats_domain_emetteur.affinitead.net.'.date("Y-m-d").'.txt';
$pmta4_emetteur_file = '../stats_domain_emetteur.switchcall.com.'.date("Y-m-d").'.txt';
$pmta5_emetteur_file = '../stats_domain_emetteur.unitead.eu.'.date("Y-m-d").'.txt';
$order = isset($_POST['txt_order_blue'])?$_POST['txt_order_blue']:'';

?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Chart</title>
<script type="text/javascript" src="js/jquery.min.js"></script> 
<script type="text/javascript">
$(function () {
var chart3, chart4, chart5;
$(document).ready(function() {
    <?php PMTA_CHART('PMTA3', 'chart3', $pmta3_emetteur_file, $order); ?>
    <?php PMTA_CHART('PMTA4', 'chart4', $pmta4_emetteur_file, $order); ?>
    <?php PMTA_CHART('PMTA5', 'chart5', $pmta5_emetteur_file, $order); ?>
});

});
</script>
</head>

<body>
<script src="js/highcharts.js"></script>
<script src="js/exporting.js"></script>
<form action="pmtaEmetteur.php" method="post">
<input type="submit" name="txt_order_red" id="txt_order_red" title="Order Red" value="Order Red"/>
<input type="submit" name="txt_order_blue" id="txt_order_blue" title="Order blue" value="Order blue"/>
</form>
<div id="PMTA3" style="min-width: 400px; height: 400px; margin: 0 auto"></div>
<div id="PMTA4" style="min-width: 400px; height: 400px; margin: 0 auto"></div>
<div id="PMTA5" style="min-width: 400px; height: 400px; margin: 0 auto"></div>
</body>
</html> 
```

正如您在代码中看到的，我有 2 个按钮，顺序为红色和顺序为蓝色，当我单击按钮顺序红色时，它会排序为红色，然后单击按钮蓝色，它将排序为蓝色[请看这个](http://www.unitead.pro/kama/stats/pmta/Chart_v2/pmtaEmetteur.php)，但是当我将鼠标悬停在条形图上时，我需要显示`Total mail successful : 700 (70 %)`，`Total mail fail 300(30%)`但在此图表中，它与我需要显示的内容不同`Total mail successful : 70(70%)`，并且`Total mail fail : 30(30%)`.

**笔记：**

正如您在我的代码中看到的那样，我从文件中读取的所有数据。这是文件中的示例文本：

```
2012-12-19-0230;affinitead.net;557469;141107;25.31;boulevard-des-ventes.com;370873;116793;31.49
2012-12-19-0230;affinitead.net;557469;141107;25.31;tendancity.com;53296;13121;24.61
2012-12-19-0230;affinitead.net;557469;141107;25.31;friendcorp.fr;34365;4086;11.89
2012-12-19-0230;affinitead.net;557469;141107;25.31;messengear.fr;32068;1227;3.82
2012-12-19-0230;affinitead.net;557469;141107;25.31;affinimail.com;27415;2231;8.13
2012-12-19-0230;affinitead.net;557469;141107;25.31;diffitalia.com;2;0;0
.................................................................................
.................................................................................
................................................................................. 
```

我找不到解决办法，有知道的请帮帮我，谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:06:03.717

将工具提示格式化程序更改为：

```
this.series.name +': '+ this.y +' ('+ Math.round(this.percentage * 10) +'%)'; 
```

# j - J 中的波特图（右半平面零，二阶）

> ID：13945135
> 
> 赞同：3
> 
> 时间：2012-12-19T03:36:18.810
> 
> 标签：j, wolframalpha

[在使用 Dr. Middlebrook 的 D-OA 方法进行Ch06](http://www.rdmiddlebrook.com/D_OA_Rules&Tools/Ch%2006.Products%20&%20Sums%20of%20Factored%20P-Z%20Expressions.pdf)的练习 6.5 时，我尝试制作传递函数的波特图：

bodeplot[s/100+100/s*(1+10/s)] (输入到 wolframalpha)

在 J

![来自 wolframalpha 的结果](../Images/fc6fe089f002fec06ec4a355bcd04dcf.png)

不知何故，J 代码相位图与 Mathematica 的结果不一致，尽管幅度图匹配得很好。

我的 J 代码有什么问题吗？

```
Af =: 4 : 0"_ 0
s=.0j1*y
'w q'=.x
f=.(s%w) + (w%s)*(1+w%q*s)
20*10^. | f
)

Pf =: 4 : 0"_ 0
s=.0j1*y
'w q'=.x
f=.(s%w) + (w%s)*(1+w%q*s)
(180%o.1)* 1{ *. f
)

load 'plot'

plot (; (100 10 Af (10 ^ ]))) 0.02*i.200

plot (; (100 10 Pf (10 ^ ]))) 0.02*i.200 
```

![在此处输入图像描述](../Images/7e6facf3d33b85d630e1c3082f45dd3f.png)

更一般地说，复平面上单位圆上的复变量 z = cos x + I sin x

如果我们绘制它的相位角，将会有一个 180 度的跳跃（从 180 到 -180）

```
z_unit_circle =. ((2 o. ]) + (0j1 * (1 o.]))) @ (180 %~ o.)

plot (180%o.1)*1{"1 *. z_unit_circle i.360 
```

![单位圆相位角](../Images/be52eb5d2f94f61bb0b9365e784c8bf1.png)

我认为这就是早期 J 波德图中相位角在 180 或 -180 左右时发生的情况。

为了避免这种跳跃，我们可以利用关系Tan(Im(z)/Re(z)) = Tan(-180 + Im(z)/Re(z))，即先转-180。

```
phase_angle =. _180 + (180 % o.1) * (_3 o. %~/) @ +.

Pf =: 4 : 0"_ 0
s=.0j1*y
'w q'=.x
f=.(s%w) + (w%s)*(1+w%q*s)
phase_angle f
)

plot (; (100 10 Pf (10 ^ ]))) 0.02*i.200 
```

这与 Eelvex 提供的答案基本相同。

然而这个 phase_angle[z] 比 Arg[z] 有更多的跳跃

```
plot phase_angle"1 z_unit_circle i.360 
```

![第三象限](../Images/aa8f0a3b1b0b350393a9ee6dfd331c1d.png)

所以我的问题是如何在 J 中制作正确的波特图。换句话说，知道相位角从第三象限进入第二象限，因此事先知道 -180

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-20T03:02:37.833

```
Don't use Arg (*.), use -180 + arctan(Im(T)/Re(T))

 plot  180-~(180%o.1) *  _3 o. %~/"1  +. T 0j1 * (10 ^  3-~0.1*i.80) 
```

![在此处输入图像描述](../Images/4765953a45536d06856c16541652a62c.png)

*（其中 T 是您的传递函数`T =: 3 : '(y%100) + (100*(1+10%y))%y'`：）*

# jquery - jQuery addClass() 似乎没有添加 CSS 类

> ID：13945140
> 
> 赞同：-2
> 
> 时间：2012-12-19T03:36:52.747
> 
> 标签：jquery, css, jquery-selectors

我在 jQuery 上很糟糕，刚开始学习。我有一个位于 .NET 母版页中的菜单结构，在每个使用母版页的内容页中，我想将不同的 CSS 类应用于该 UL 母版页列表中的项目。

```
<section id="navigation">
  <nav id="nav-wrap">
      <ul id="topnav" class="sf-menu">
         <li><a href="Default.aspx">Home</a></li>
         <li><a href="About.aspx">About</a></li>
         <li class="current"><a href="Purchase.aspx">Buy Now</a></li>
         <li><a href="ContactUs.aspx">Contact Us</a></li>
      </ul><!-- topnav -->
    </nav><!-- nav -->  
  <div class="clear">
</div> 
```

我用 jQuery 调用的块：

```
<section id="navigation">
  <nav id="nav-wrap">
      <ul id="topnav" class="sf-menu">
         <li><a href="Default.aspx" id="homelink" title="Home">Home</a></li>
         <li><a href="About.aspx" id="aboutlink" title="About">About</a></li>
         <li><a href="Purchase.aspx" id="buynowlink" title="Buy Now"><span>Buy Now</span></a></li>
         <li><a href="ContactUs.aspx" id="contactuslink" title="Contact Us">Contact Us</a></li>
      </ul><!-- topnav -->
    </nav><!-- nav -->  
  <div class="clear">
</div> 
```

当我以这种方式编写 HTML 时，导航元素“立即购买”显示为黄色。但这是一个母版页，所以我想用 jQuery 来做这件事，所以它没有在母版页中硬编码。

```
<script type="text/javascript">
    $(document).ready(function () {
        $('#buynowlink').addClass('current');
        $('#pagetitle').html('Purchase');
    });
 </script> 
```

那个 jQuery 代码似乎没有应用 CSS，或者可能还有其他问题？下面的行设置了页面的 H1 标题，所以我认为这不是作为母版页下方的页面的问题。

如果我这样做有什么奇怪的：它有效，所以我必须有某种我没有得到的 CSS 问题。

```
<script type="text/javascript">
    $(document).ready(function () {
        $('#buynowlink').addClass('current');
        $('#pagetitle').html('Purchase');
        $('#buynowlink').css("color", "yellow");
    });
</script> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T03:50:33.380

ID 在 上`a`，但您想在`li`其父级上添加类。

因此，你想要`$('#buynowlink')**.parent()**.addClass('current');`

在这种情况下，所有主流浏览器中内置的开发人员工具现在可以向您显示 DOM 的当前状态，以便您检查 Buy Now 链接并查看该类已附加到锚点而不是列表物品。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T03:56:08.153

在现实世界中，我建议阅读当前页面的 URL 并将一个`current`类分配给所需的链接：

```
var pageName = $(location).attr('href').split('/').pop(); // Purchase.aspx

if(pageName===''){
    $('#topnav a[href="Default.aspx"]').addClass('current');
}else{
    $('#topnav a[href="'+pageName+'"]').addClass('current');
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T03:45:13.650

试试这个

添加元素`id=BuyNow`。`<li>`

```
<section id="navigation">
  <nav id="nav-wrap">
      <ul id="topnav" class="sf-menu">
         <li><a href="Default.aspx">Home</a></li>
         <li><a href="About.aspx">About</a></li>
         <li id="BuyNow"><a href="Purchase.aspx">Buy Now</a></li>
         <li><a href="ContactUs.aspx">Contact Us</a></li>
      </ul><!-- topnav -->
    </nav><!-- nav -->  
  <div class="clear">
</div

<script type="text/javascript">
    $(document).ready(function () {
        $('#BuyNow').addClass('current');

    });
 </script> 
```

# php - Mac OS 上的 PHP 无法识别语法

> ID：13945146
> 
> 赞同：1
> 
> 时间：2012-12-19T03:38:12.343
> 
> 标签：php, macos

我有一些在 Linux 机器上开发的 PHP 文件，我现在正在 Mac (OS 10.8.2) 上工作。页面在 Mac 上没有正确显示，即使它们在 linux 机器上正确显示。经过一番调查，我发现这是因为它无法识别这样的语法：

```
<?=$var ?> 
```

任何以 a 开头的东西`<?`，而不是 a `<?php`（不仅仅是上面的 var 快捷方式，任何代码块）都被解释为纯文本，而不是 PHP。在 Linux 开发盒和生产服务器上，`<?`可以很好地识别快捷语法。我认为这是我在设置过程中错过的配置，那么我错过了什么？我可以配置我的 Mac 来识别这种语法吗？

mac 正在运行`PHP 5.3.15`。开发盒运行较早的`5.*`. 我不知道生产服务器上的版本。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-19T03:40:27.137

要么升级到 PHP 5.4（一直支持），要么在文件`<?= .. ?>`中启用“短标签”设置。`php.ini`

* * *

## 回答 #2

> 赞同：5
> 
> 时间：2012-12-19T03:40:39.663

这些被称为短标签。

编辑您的`php.ini`文件并设置：

```
short_open_tag=On 
```

# ruby-on-rails - 它是关于在使用 ruby on rails 教程时如果没有安装 sublime 该怎么办

> ID：13945150
> 
> 赞同：0
> 
> 时间：2012-12-19T03:38:30.070
> 
> 标签：ruby-on-rails

我没有安装崇高。我在 Hartl 的 Ruby on Rails 教程中，他让你第一次设置了一个分支。所以我不知道他的指令在哪里 $ git mv README.rdoc README.md $ subl README.md

我应该像他的书中那样创建一个文件，然后替换原始的 README.rdoc 文档并跳过这些命令吗？我应该创建新的 README.md 文件并将其放在主项目文件夹中，但将旧文件保留在那里吗？如果我执行其中一项，那么我可以在这些之后继续执行其余命令吗？我应该执行上述操作，然后只运行上面的第一个命令吗？这本书似乎并没有真正提供关于这里需要什么的线索。它甚至没有真正告诉你创建新文件。老实说，我在这里迷路了。

我认为我唯一理解的是上面的第一个命令重命名了旧文件。如果这是真的，那么我可以运行该命令，然后在文本编辑器中编辑原始文件。然后我会跳过第二个命令。然后我可以继续执行其余的命令吗？

顺便说一句，我在运行 Windows 7 的笔记本电脑上工作。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T03:54:35.950

```
$ git mv README.rdoc README.md 
```

这将重命名文件。而已。

```
$ subl README.md 
```

这将在 Sublime（文本编辑器）中打开重命名的文件。

如果您想完成这两个步骤，只需按照您喜欢的方式重命名文件并在任何文本编辑器中打开文件。

# ruby-on-rails - Rails + Passenger 删除控制器名称

> ID：13945152
> 
> 赞同：1
> 
> 时间：2012-12-19T03:38:53.513
> 
> 标签：ruby-on-rails, apache, passenger

我选择了一个使用 Apache + Passenger 的旧版 Rails 应用程序。

该应用程序没有可供我使用的文档。

当我运行应用程序并点击如下 URL 时：

[http://app.local:3000/groups/group-name](http://app.local:3000/groups/group-name)

它将命中组控制器中的显示动作。但是，当我在 Apache + Passenger 上运行应用程序并点击相同的 URL 时：

[http://app.local/groups/group-name](http://app.local/groups/group-name)

它实际上会尝试加载以下 URL：

[http://app.local/group-name](http://app.local/group-name)

从日志中可以看出：

> 2012-12-19 03:28:44 +0000 开始为 127.0.0.1 获取“/groups/group-name”
> 
> ActionController::RoutingError（没有路由匹配“/group-name”）：

这是一个很长的镜头，很抱歉不再提供信息，但有谁知道为什么会发生这种情况以及在哪里看的任何建议？

我检查了 http.conf 并且它没有重写规则或任何东西。只是乘客 + Rails 的标准 http.conf。

任何帮助或建议将不胜感激。

谢谢

托尼

# excel - Excel - 如果同一行中的另一个单元格突出显示，则用值 1 填充单元格

> ID：13945155
> 
> 赞同：-2
> 
> 时间：2012-12-19T03:39:05.783
> 
> 标签：excel, vba

如果 Col. B 中的值以黄色突出显示，我需要更改 Col. A 中单元格中的值。

我已经看到了相反的解决方案（基于 Col. A 中的值突出显示行/单元格： [当另一个单元格在 Excel 2010 中具有某个数值时，更改同一行上多个单元格的背景颜色](https://stackoverflow.com/questions/5855232/change-background-color-of-more-than-one-cell-on-the-same-row-when-another-cell)），但我需要用突出显示标记/标记行（带有数字，如“1”），以便我可以将其导出到 .csv 或 .txt 格式的统计程序。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:36:45.523

确定单元格填充颜色的唯一方法是使用 VBA

这是一个UDF来做到这一点

```
Function GetCellColour(r As Range) As Long
    GetCellColour = r.Cells(1, 1).Interior.Color
End Function 
```

或者如果你喜欢

```
Function GetCellColourIndex(r As Range) As Long
    GetCellColourIndex = r.Cells(1, 1).Interior.ColorIndex
End Function 
```

然后在像这样的单元格公式中使用它

```
=IF(GetCellColour(A1)=65535,"Cell is yellow","") 
```

或者

```
=IF(GetCellColourindex(A2)=6,"Cell is yellow","") 
```

# jquery - 单击链接时在 div 中呈现部分内容

> ID：13945156
> 
> 赞同：3
> 
> 时间：2012-12-19T03:39:24.693
> 
> 标签：jquery, ruby-on-rails, partial-views

我有一个像这样的侧边栏；

```
<div id = "sidebar-links">
      <% @locations.each do |locs| %>
        <p style = "border-bottom: 1px black solid">
        <a href = "#" class = "sidebar-click"><%= locs['Address'] %></a></p>
      <% end %>
    </div> 
```

`id = "container"`每当单击侧栏链接之一并且还想`locs` 作为局部变量传递给该部分时，我想在另一个 div 中呈现部分；

我该怎么做呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T05:08:19.367

首先尝试使用`link_to`辅助方法：

```
<%= link_to locs['Address'], ajax_link, :remote => true, :html => {:class => "sidebar-click"} %> 
```

然后您应该创建一个 js 绑定来处理该 ajax 响应，例如：

```
$(function() { 
  $(".sidebar-click").bind("ajax:success",  
    function(event, data){  
      $("#container").html(data);  
  });  
}); 
```

**更新：** 请查看以下文档： [http ://apidock.com/rails/ActionView/Helpers/PrototypeHelper/link_to_remote](http://apidock.com/rails/ActionView/Helpers/PrototypeHelper/link_to_remote)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T10:52:40.837

试试这个

```
<%= link_to locs['Address'], "path/to/redirect", :class => "side_bar" %> 
```

然后在js中

```
 $(".document").ready(function(){
     $(".side_bar").live("click", function(){
        $.ajax({
            dataType: 'html',
            type: 'get',
            url: $(this).attr('href'),
            success: function(data){
                       $(target_div).html(data);
                     }
        })
     })
  }) 
```

在你的控制器动作中

```
def action
  #write your code here
  respond_to do |format|
    format.js{render: template}
  end
end 
```

# android - 在互联网上免费放置我的 android 应用程序的外部数据库的位置

> ID：13945158
> 
> 赞同：1
> 
> 时间：2012-12-19T03:39:28.733
> 
> 标签：android, database, web-services, wamp

我使用 WAMP 和 MySQL 制作了一个具有外部数据库的 Android 应用程序。在我的应用程序中，用户必须先注册或登录到我的应用程序才能使用它。

现在我有这个外部数据库在我的笔记本电脑上本地运行，但是当我发布我的应用程序时，我应该将该外部数据库放在互联网上。

那么，将我的外部数据库免费放置在互联网上的最佳位置是哪里，我的应用程序用户可以在哪里连接呢？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T03:43:58.663

那里有很多免费的 mysql 托管站点，我尝试过 www.000webhost.com 和 www.host1free.com。他们将您限制在数据库的数量上，但也应该按照要求免费提供。只需根据需要注册并设置您的数据库并上传正确的服务器脚本，然后将地址添加到您的 Android 应用程序。祝你好运 ：）

# java - 休眠迭代器检索相同的数据

> ID：13945161
> 
> 赞同：1
> 
> 时间：2012-12-19T03:40:07.053
> 
> 标签：java, hibernate, loops, iterator

我有一个通过休眠连接到数据库的表单。使用此表单，用户可以进入并填写姓名、地址和电子邮件信息等字段。填写完信息后，他们将提交表单。提交后，所有信息将显示在同一页面的数据表中。

我正在使用会话与数据库进行交互。但是，从数据库中填充的数据似乎不正确。

```
public void somefunction() {

    //The sessionfactory is being configured in another class
    Session s = sessionFactory.openSession(); 
    Transaction tx= null;

    try {
        tx= s.beginTransaction();

        List userInformation = s.createQuery("FROM database1 WHERE PKEY ='"+somevalue+"'").list();

        for(Iterator iterator = userInformation.iterator; iterator.hasNext();){

            //database1 is an entity bean
            database1 x = (database1) iterator.next();

            System.out.print(x.getName());
        }
        tx.commit();
    }
    catch(Exception) {......}
    finally {.....}
} 
```

在用户提交第一个“用户”及其信息后，一切都显示在数据表中。但是，当他们输入第二个“用户”时，数据表上显示的行与第一个用户的信息相同，即使数据不同。我认为代码看起来是正确的，所以我不确定这可能有什么问题。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T04:08:08.027

您应该使用主键来获得正确的值。List userInformation = s.createQuery("FROM database1 where yourId='PK'").list();

在您的查询中，它总是会返回第一行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-20T03:52:14.043

找到了解决方案。

`session.createQuery("QUERY")`我没有使用，而是使用

```
Criteria cr = session.createCriteria(SomeClass.class)

cr.setResultTransformer(CriteriaSpecification.DISTINCT_ROOT_ENTITY);

cr.add(/* add some filters here */);

ScrollableResults sr = cr.scroll(ScrollMode.FORWARD_ONLY);

while(sr.next) {
  someObject so = (someObject) sr.get(0);
  //Do action here
} 
```

这解决了我返回单个结果的问题。

# ruby-on-rails - 为什么我的 Rspec 集成测试找不到我的模块？

> ID：13945164
> 
> 赞同：2
> 
> 时间：2012-12-19T03:40:16.830
> 
> 标签：ruby-on-rails, rspec

我希望能够在任何规范文件中的任何时候`login_as_admin`调用。`login_as_customer`

我有一个完整的集成规范目录：

```
/spec/features/area_spec.rb
/spec/features/assignment_spec.rb
/spec/features/etc… 
```

每一个都以：

```
require 'spec_helper'
require 'rspec_macros' 
```

我也有`/spec/spec_help.rb`，其中包括：

```
ENV["RAILS_ENV"] ||= 'test'
require File.expand_path("../../config/environment", __FILE__)
require 'rspec/rails'
require File.dirname(__FILE__) + "/rspec_macros" 
```

我有`/spec/rspec_macros.rb`，其中包括：

```
module RspecMacros
  def login_as_admin
    etc…
  end
  def login_as_customer
    etc…
  end
end 
```

那么，为什么在 Rspec 命令行中会出现以下错误？

```
 Failure/Error: login_as_customer
 NameError:
   undefined local variable or method `login_as_customer' for #<RSpec::Core::ExampleGroup::Nested_1::Nested_2:0x007fd99f471f50> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T03:51:01.520

我相信您要么需要在规范助手中创建这些功能，要么在您的测试中包含这些模块。

要包含模块，您可以执行以下操作：

```
module RspecMacros 
  extend ActiveSupport::Concern

  included do
    def login_as_customer
      ... 
    end
  end
end

require 'rspec_macros'
describe MyCoolTest do    
  include RspecMacros
end 
```

您可能会发现让它们在规范助手中起作用更容易。您可以添加：

```
def login_as_customer
   ....
end 
```

到 spec_helper.rb 的末尾

# python - suds.TypeNotFound：找不到类型：'ns4.SaveCRRequest'

> ID：13945172
> 
> 赞同：0
> 
> 时间：2012-12-19T03:41:25.323
> 
> 标签：python, suds

我遇到了这个错误。有人可以建议这里有什么问题吗？

```
Traceback (most recent call last):
  File ".\move2ready.py", line 318, in <module>
    main()
  File ".\move2ready.py", line 268, in main
    success = moveToReady(prism, cr, pl_name)
  File ".\move2ready.py", line 153, in moveToReady
    retval = prism.saveChangeRequest(CR)
  File ".\move2ready.py", line 75, in saveChangeRequest
    request = self.soapclient.factory.create('ns4:SaveCRRequest')
  File "build\bdist.win32\egg\suds\client.py", line 234, in create
suds.TypeNotFound: Type not found: 'ns4:SaveCRRequest' 
```

完整代码：

```
#!/usr/bin/env python2.6

'''
When moving Prism CRs to the Ready state, it becomes quite tedious when users have to modify the state from from Open to Analysis to Fix to Ready for each CR. It will be time-saving if we have just ONE command line utility program that is able to pull a list of CRs from any intermediate 
state, either Open or Analysis or Fix, and to Ready automatically.

Command line options:
    -h / --help show this help message and exit 
    -c / --cr (required) provide the list of CR numbers separated by space. 
    -o / --fo provide an output file whose content is a summary of the results.. 
    -p / --pl (required) provide the PL name. 
    -i / --fi (required if --cr is not specified) provide an input file which contains the list of CRs. 

How to use:
    Example 1:
        python .\move2ready.py --cr 320538 320899 --pl MSM0000.NA.0.0
    Example 2:
        python .\move2ready.py --fi ./cr.txt --fo ./out.txt --pl MSM0000.NA.0.0
        Note: A typical cr.txt can be:
                 CR320538 
                 CR320899 
                 CR321167 
                 CR322928
'''

import datetime
import sys
import logging
import re
import getpass
from time import strftime as date
from optparse import OptionParser

try: 
  import suds
  from suds.client import Client
  from suds.transport import http
  from suds.transport.https import WindowsHttpAuthenticated
except ImportError:
  print '''###### ERROR ######  
One or more prerequisite packages are missing.
Please install SUDS and NTLM Python packages before running this script.

To install SUDS and NTLM:
  1\. Find and install the correct version of Python SetupTools. (http://pypi.python.org/pypi/setuptools)
  2\. Copy the source files for SUDS and NTLM to a local directory (http://http://pypi.python.org)
  3\. For both SUDS and NTLM, cd into THE local directory, and run " Python setup.py install "
  4\. Close all command prompts and open a new one. That's it. :)

move2ready.py terminated!
'''

class Prism:
  def __init__(self, url, q_user, q_passwd):
    self.url = url
    user = q_user
    user = user.rstrip()
    passwd = q_passwd
    passwd = passwd.rstrip()

    try:
      self.soapclient = Client(url, transport=WindowsHttpAuthenticated(username=user, password=passwd))
      request = self.soapclient.factory.create('ns2:CRRequest')
    except:
      print 'Prism authentication failed!'
      sys.exit()

  def getChangeRequestById(self, key):
    request = self.soapclient.factory.create('ns2:CRRequest') 
    request['ChangeRequestId'] = key
    response = self.soapclient.service.GetChangeRequestById([request])
    return response['ChangeRequest']

  def saveChangeRequest(self, CR):
    request = self.soapclient.factory.create('ns4:SaveCRRequest')
    request['ChangeRequest'] = CR
    request['UserName'] = 'admin'
    response = self.soapclient.service.SaveChangeRequest([request])
    return response['ChangeRequestId']

  def editObject(self, obj, **kwargs):
    for key, value in kwargs.iteritems():
      if key in obj:
        obj[key] = value
    return obj

  def updateChangeRequest(self, CR, **kwargs):
    newCR=editObject(CR, kwargs)
    saveChangeRequest(newCR)

  def updateChangeRequestById(self, CRkey, **kwargs):
    CR = getChangeRequestById(CRkey)
    return updateChangeRequest(CR, kwargs)
# end of Prism class

# Find the index of specified PL name among all PL names associated with this CR
def findTargetPlIndex(PL_all, pl_name, attr_name):
  target_index = 0
  for pl in PL_all:
    if (pl[attr_name].lower() == pl_name.lower()):
      return target_index
    target_index += 1
  print "[ERROR] The specified PL name is not found in this CR."
  exit(-1)
# end of findTargetPlIndex

# When one move is performed, add some auto-generated text as Analysis Text
def addAnalysisText(CR, text):
  if CR['Analysis'] == None:
    CR['Analysis'] = []
    CR['Analysis'].append({'Text':"Analyzed by move2ready tool"}) 
  #else:
    #CR['Analysis']['Text'] += "\n\n" + text  
    #CR['Analysis']['Text'] += "\n\n" +
# end of addAnalysisText

def moveToReady(prism, cr_id, pl_name):
  print "======================================"
  print "Start processing CR:" + cr_id + "..."

  CR = prism.getChangeRequestById(cr_id)
  PL_all = CR['ProductLines']['ProductLineEntity']
  PL_index = findTargetPlIndex(PL_all, pl_name, 'ProductLineName')
  PL = PL_all[PL_index]

  # Move from open to analysis
  if PL['Status'] == "Open":
    print "Moving from Open to Analysis..."
    PL['Status'] = "Analysis"
    PL['AnalysisDueDate'] = datetime.datetime.today()
    PL['Priority'] = "2"
    retval = prism.saveChangeRequest(CR)

  CR = prism.getChangeRequestById(cr_id)
  PL = CR['ProductLines']['ProductLineEntity'][PL_index]

  # Move from analysis to fix
  if PL['Status'] == "Analysis":
    print "Moving from Analysis to fix..."
    PL['Status'] = "Fix"
    addAnalysisText(CR, "move2ready utility moved this CR to Fix")
    PL['ReadyDate'] = datetime.datetime.today() # required field
    retval = prism.saveChangeRequest(CR)

  CR = prism.getChangeRequestById(cr_id)
  PL = CR['ProductLines']['ProductLineEntity'][PL_index]

  # Move from Fix to Ready
  if PL['Status'] == "Fix":
    print "Moving from Fix to Ready..."
    PL['Status'] = "Ready"
    addAnalysisText(CR, "move2ready utility moved this CR to Ready")
    retval = prism.saveChangeRequest(CR)

  CR = prism.getChangeRequestById(cr_id)
  PL = CR['ProductLines']['ProductLineEntity'][PL_index]

  CR = prism.getChangeRequestById(cr_id)
  PL = CR['ProductLines']['ProductLineEntity'][PL_index]
  if PL['Status'] == "Ready":
    return True
  else:
    return False
# end of moveToReady 

# Handle variable number of arguments for an option
def vararg_callback(option, opt_str, value, parser):
  assert value is None
  value = []

  def floatable(str):
    try:
      float(str)
      return True
    except ValueError:
      return False

  for arg in parser.rargs:
    if arg[:2] == "--" and len(arg) > 2:
      break
    if arg[:1] == "-" and len(arg) > 1 and not floatable(arg):
      break
    value.append(arg)

  del parser.rargs[:len(value)]
  setattr(parser.values, option.dest, value)
# end of vararg_callback method

def handleCommandArgs():
  desc = 'move2ready tool helps Prism users to move one or multiple CRs to Ready state automatically.'
  usage = 'Python move2ready.py [options], version=1.0.0'
  parser = OptionParser(description=desc, usage=usage)

  parser.add_option('-c', '--cr', \
            dest='cr', \
            help='provide the list of CR numbers separated by space. E.g. --cr 320899 330022', \
            action='callback', \
            callback=vararg_callback)

  parser.add_option('-i', '--fi', \
            dest='fi', \
            help='provide an input file which contains the list of CRs you want to move. ', \
            action='store')

  parser.add_option('-o', '--fo', \
            dest='fo', \
            help='provide an output file whose content is a summary of the results.', \
            action='store')

  parser.add_option('-p', '--pl', \
            dest='pl', \
            help='provide the PL name. E.g. --pl MPSS.NI.2.0',\
            action='store')

  (options, args) = parser.parse_args()

  if not (options.fi or options.cr):
    parser.error('No action requested, you must add "--cr" or "--fi" as argument.\n')
    exit(1)

  if not options.pl:
    parser.error('No action requested, you must add "--pl" as argument.\n')
    exit(1)

  return options
# end of handleCommandArgs

#extract pure numeric CR values   
def getCRFromFile(cr_list):
  clean_cr_list = []
  for cr in cr_list:
    clean_cr_list.append(re.findall(r'\d+', cr)[-1])

  return clean_cr_list
# end of getCRFromFile

def main():
  options      = handleCommandArgs()
  file_in      = options.fi
  file_out     = options.fo
  cr_list      = options.cr
  pl_name      = options.pl

  # Use fi option to parse file-in which has cr lists
  if cr_list == None:
       f = open(file_in)
       cr_list = f.readlines()
       cr_list = getCRFromFile(cr_list)
       f.close()

  # Use fo option to parse file-out which saves the echo info
  echo_to_file = False if file_out == None else True
  if echo_to_file:
    f = open(file_out, 'a+')
    f.write('\n=====================================\n')
    f.write(str(date('%Y-%m-%d %H:%M:%S')))
    f.write('\n')
    f.close()

  username = raw_input('Enter your QualPass username (e.g. NA\jsmith): ')
  password = getpass.getpass()
  url = 'http://prism:8000/ChangeRequestWebService.svc?wsdl';
  prism = Prism(url, username, password)

  for cr in cr_list:
    try:
      result_log = ''
      success = moveToReady(prism, cr, pl_name)
      if success:
        result_log = '[CR: ' + cr + '] ' + 'Successfully moved to Ready.\n'; 
        print '''     
              .______      ___           _______.     _______.
              |   _  \    /   \         /       |    /       |
              |  |_)  |  /  ^  \       |   (----`   |   (----`
              |   ___/  /  /_\  \       \   \        \   \    
              |  |     /  _____  \  .----)   |   .----)   |   
              | _|    /__/     \__\ |_______/    |_______/    

        '''
      else:
        result_log = '[CR: ' + cr + '] ' + 'Failed to move to Ready\n';   
        print '''
               _______    ___       __   __      
              |   ____|  /   \     |  | |  |     
              |  |__    /  ^  \    |  | |  |     
              |   __|  /  /_\  \   |  | |  |     
              |  |    /  _____  \  |  | |  `----.
              |__|   /__/     \__\ |__| |_______|

        '''

      if echo_to_file:
        f = open(file_out, 'a+')
        f.write(result_log)
        f.close()
      else:
        print result_log

    except suds.WebFault as detail:
        print '[CR: ' + cr + '] ',
        print detail
        print '''
               _______    ___       __   __      
              |   ____|  /   \     |  | |  |     
              |  |__    /  ^  \    |  | |  |     
              |   __|  /  /_\  \   |  | |  |     
              |  |    /  _____  \  |  | |  `----.
              |__|   /__/     \__\ |__| |_______|

        '''

    if echo_to_file:
        f = open(file_out, 'a+')
        f.write(result_log)
        f.close()

if __name__ == '__main__':
  main() 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-21T05:11:52.270

这条线好像有问题

```
request = self.soapclient.factory.create('ns4:SaveCRRequest') 
```

我的猜测是该`ns4:SaveCRRequest`对象不存在于

```
http://prism:8000/ChangeRequestWebService.svc?wsdl 
```

网络服务。

# ruby - 在 ruby 中按属性对对象数组进行排序会引发未定义的方法错误

> ID：13945173
> 
> 赞同：0
> 
> 时间：2012-12-19T03:41:42.983
> 
> 标签：ruby, sorting

我是红宝石世界的新手，目前正在努力使用以下代码：

```
class Item
  attr_accessor :x, :y
  def initialize(x,y)
    @x, @y = x, y
  end
  def to_s
    "(#@x,#@y)"
  end
end
a = Item.new(1,nil)
b = Item.new(2,nil)
c = Item.new(3,nil)
d = Item.new(4,nil)
e = Item.new(5,12)
f = Item.new(6,5)
g = Item.new(12,6)

ar = [ a, b, c, d, e, f,g]
ar.sort! {|i1,i2| (i2.y?i2.y:i2.x) <=> (i1.y?i1.y:i1.x)}
puts array.ar("\n") 
```

这会在排序行中引发以下错误：

```
undefined method `x' for :i2:Symbol (NoMethodError) 
```

显然，x 是 Item 类的实例方法，所以我的猜测是 i1 和 i2 不是 Item 类的实例——但如果它们不是，那么它们是什么？

（顺便说一句，我在这里要做的是根据属性 y 对对象数组进行排序，如果 y 为 nil，则根据属性 x 进行排序）。

感谢您对 ruby​​-newby 的任何帮助

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-19T03:46:46.487

你需要一些空格。任何以 a 开头`:`的标记都是 Ruby 中的符号。

```
ar.sort! {|i1,i2| (i2.y ? i2.y : i2.x) <=> (i1.y ? i1.y : i1.x)} 
```

最后一行，`puts ar`没问题。

# perl - 仅直接子级的 Perl HTML 查询

> ID：13945180
> 
> 赞同：1
> 
> 时间：2012-12-19T03:42:09.930
> 
> 标签：perl, css-selectors

我正在使用 HTML::Query 在 Perl 中解析 HTML 表。我想浏览表格的每一行并查看某个单元格。但是，当我使用此查询时...

```
my @resultsrows = $query->query('table#player_matches.tabelle_grafik tr')->get_elements(); 
```

...我遇到了一个问题，即最外层表的每一行都不是单独表示的。我的意思是，虽然这个数组的第一个元素是我正在使用的最外层表中的第一行，但第二个元素指的是第一行中的另一个表行，因为其中一个单元格中有一个全新的表。

进一步解释；当我尝试遍历它时：

```
for(my $i = 1; $i < @resultsrows; $i++) {
    @currentrow = $query->query('td span'); ## The cell I am looking for is the only one with a span.
    if($currentrow[0]->attr('title') eq $searchterm) {
        $returnedIndex = $i;
    }
} 
```

是否有任何我可以在此查询中使用的 CSS 选择器允许我仅选择最外层的表并避免此问题？HTML::Tree 会对此有所帮助吗？

**编辑：**我试图用它`>`来表示只有直接的孩子，但它没有收集任何行：`my @resultsrows = $query->query('table#player_matches.tabelle_grafik > tr')->get_elements();`

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T04:51:08.820

也许您正在使用一个 DOM 来收集a内的所有`tr`子级（这是浏览器通常所做的）。`table``tbody`

这行得通吗？

```
@resultsrows = $query->query('table#player_matches.tabelle_grafik > tbody > tr')->get_elements(); 
```

# actionscript-3 - 如何将 FlashVars 传递给 Loader.loadBytes 加载的 swf？

> ID：13945182
> 
> 赞同：2
> 
> 时间：2012-12-19T03:42:50.427
> 
> 标签：actionscript-3, loader, flashvars

当我加载它时，`Loader.load`我可以通过它们传递它们`URLRequest`。但我看不到任何机会`Loader.loadBytes`。这个问题类似于[Passing flashvars-style parameters to a loaded SWF](https://stackoverflow.com/questions/407858)。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T07:52:38.693

答案在 API 文档中。我被暗示在另一个网站。

您应该使用传递给方法的对象的[`parameters`](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/system/LoaderContext.html#parameters)属性。但它只适用于 AS3 swfs。对于 AS1/2 swfs 来说，这似乎是不可能的。`LoaderContext`[`Loader.loadBytes`](http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/display/Loader.html#loadBytes%28%29)

```
var swf:ByteArray = getSWF();//swf bytes from nowhere
var loader:Loader = new Loader()
var loaderContext:LoaderContext = new LoaderContext();
loaderContext.parameters = {a: "1", b: "2"};
loader.loadBytes(swf, loaderContext); 
```

我认为现在是正确的答案。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-11-28T10:53:45.890

伟大的！仅当参数是字符串时才为我运行：

```
loaderContext.parameters = {"a": "1", "b": "2"}; 
```

# html - 使文本框对齐

> ID：13945183
> 
> 赞同：2
> 
> 时间：2012-12-19T03:43:03.463
> 
> 标签：html, css, xhtml

我现在有一个问题。当我加载我的网页时，所有的框/单词都对齐得很尴尬，我想知道是否可以帮助我将所有框对齐到同一行。

[单击此处查看 jsfiddle 演示](http://jsfiddle.net/cXfRr/)

```
<table bgcolor="#bbbbbb" width="100%" border="0" cellspacing="0" cellpadding="0" valign="center">
    <tr>
    <td width="10%" valign="top" align="center">
        <form name="form1" method="post" action="checklogin.php">
        <font size="5"><strong>Account Login</strong></font><br />
        Username :
        <input name="myusername" type="text" id="myusername"><br />
        Password :
        <input name="mypassword" type="password" id="mypassword"> <br />
        &nbsp;
        &nbsp;
        <input style="width:75px; font-size:14px; height:25px;" type="submit" name="Submit" value="Login">
        </form>
    </td>
    <td width="10%" valign="top" align="center">
        <form id="form1" name="form1" method="post" action="registration_script.php">
        <font size="5"><strong>Account Register</strong></font><br />
        Username :
        <input type="text" name="txtUser" id="txtUser" /> <br />
        Repeat :
        <input name="myusername" type="text" id="myusername"><br />
        Password :
        <input type="password" name="txtPassword" id="txtPassword" /> <br />
        Repeat :
        <input name="myusername" type="text" id="myusername"><br />
        <input style="width:75px; font-size:14px; height:25px;" type="submit" name="btnRegister" id="btnRegister" value="Register" />
    </td>
    </tr>
    </form>
</table> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:07:51.413

尝试检查这个：已[编辑](http://jsfiddle.net/Vainglory07/cXfRr/3/)

希望这给出了这个想法（以我自己的方式:)）。

```
 <table bgcolor="#bbbbbb" width="100%" border="0" cellspacing="0" cellpadding="0" valign="center">
<tr>
<td width="10%" valign="top" align="center">
    <form name="form1" method="post" action="checklogin.php">
    <table>
        <thead align="center">Account Login</thead>
        <tr>
            <td>Username :</td>
            <td><input name="myusername" type="text" id="myusername"></td>
        </tr>
        <tr>
            <td>Password :</td>
            <td><input name="mypassword" type="password" id="mypassword"></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="1"><input style="width:75px; font-size:14px; height:25px;" type="submit" name="Submit" value="Login"></td>
        </tr>
    </table>
    </form>
</td>
<td width="10%" valign="top" align="center">
    <form id="form1" name="form1" method="post" action="registration_script.php">
    <table>
        <thead align="center">Account Register</thead>
        <tr>
            <td>Username :</td>
            <td> <input type="text" name="txtUser" id="txtUser" /></td>
        </tr>
        <tr>
            <td>Repeat :</td>
            <td><input name="myusername" type="text" id="myusername"></td>
        </tr>
        <tr>
            <td>Password :</td>
            <td><input type="password" name="txtPassword" id="txtPassword" /></td>
        </tr>
        <tr>
            <td>Repeat :</td>
            <td><input name="myusername" type="text" id="myusername"></td>
        </tr>
        <tr>
            <td></td>
            <td colspan="1"><input style="width:75px; font-size:14px; height:25px;" type="submit" name="btnRegister" id="btnRegister" value="Register" /></td>
        </tr>
    </table>
    </form>
</td>
</tr> 
```

​</p>

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T03:54:28.170

您可以定义自己的 css 来定义对齐方式

例如：

```
<style>
 selector{
  float:left;
 }
</style> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T10:31:51.143

如果您不介意无桌子：

```
<style>
    .pseudo-table, form p {
        display: table;
        background-color: #bbbbbb;
    }

    .pseudo-cell, form p label {
        display: table-cell;
        vertical-align: top;
    }

    form p label {
        width: 100px;
    }
</style>

<div class='pseudo-table'>
    <div class='pseudo-cell'>
        <form name='form1' method='post' action='checklogin.php'>
        <h2>Account Login</h2>
        <p>
            <label>Username</label>
            : <input name='myusername' type='text' id='myusername'>
        </p>
        <p>
            <label>Password</label>
            : <input name='mypassword' type='password' id='mypassword'>
        </p>
        <button>Login</button>
        </form>
    </div>
    <div class='pseudo-cell'>
        <form name='form2' method='post' action='registration_script.php'>
        <h2>Account Register</h2>
        <p>
            <label>Username</label>
            : <input type='text' name='txtUser' id='txtUser'>
        </p>
        <p>
            <label>Repeat</label>
            : <input name='myusername' type='text' id='myusername'>
        </label>
        <p>
            <label>Password</label>
            : <input type='password' name='txtPassword' id='txtPassword'>
        </p>
        <p>
            <label>Repeat</label>
            : <input name='myusername' type='text' id='myusername'>
        </p>
        <button>Login</button>
        </form>
    </div>
</div> 
```

# performance - GAE 内存缓存启动时间

> ID：13945188
> 
> 赞同：0
> 
> 时间：2012-12-19T03:43:33.717
> 
> 标签：performance, google-app-engine, memcached

我在两次 AppEngine 安装上运行相同的代码，第二次安装需要更长的时间（约 6 秒）来生成内存缓存。

任何想法为什么？

# c++ - “else”错误之前的预期主表达式

> ID：13945190
> 
> 赞同：2
> 
> 时间：2012-12-19T03:43:46.647
> 
> 标签：c++, if-statement

我得到第一个`expected primary-expression before "else"`错误的错误，我不明白为什么。我三次检查了所有的支撑。

```
if(Owin = win)
{
    cout << "The computer has defeated you!\n\n";
    cout << "Would you like to play again? (Y or N) : ";
    cin >> restart;
    if(restart == 'Y' || restart == 'y');
    {
        cout << "\n\n\n";
        main()    ;
    }

    else
    {
        cout << "Good Bye!\n\n";
        system("pause");
        return(0);
    }
}
else
{
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T03:44:35.023

```
if(restart == 'Y' || restart == 'y'); 
```

删除那里的分号以修复错误。这`;`结束了您的`if`陈述，这意味着`else`实际上不是任何`if`语句的一部分，因此是错误的。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-19T04:04:19.680

在您的代码中，

```
if(restart == 'Y' || restart == 'y'); 
```

结尾的分号是一个**空语句**，它形成了块的主体（并因此结束）`if`。在这一点上，你可能有一个`else`. 但不是在后续声明不是`if`.

此外，*更重要*的是，在您的代码中，调用

```
main()    ; 
```

假设它调用`main`全局命名空间中的 ，是无效的。**`main`**（在全局命名空间中）是一个特殊的函数。它的特殊属性之一是它不能被调用。

编译器可能会在没有任何诊断的情况下允许它，但正式地你有**未定义的行为**，任何事情都可能发生。

相反，使用循环来实现重复。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-19T03:44:36.677

您的`if`语句后面有一个分号。

# linux - 使用 hexdump 检查 /dev/mem 时，为什么缺少某些地址？

> ID：13945192
> 
> 赞同：1
> 
> 时间：2012-12-19T03:44:15.707
> 
> 标签：linux, memory, device

这是我使用的命令：

`sudo hexdump -C /dev/mem | less`

它丢弃的部分结果是：

```
00000070  53 ff 00 f0 a4 f0 00 f0  c7 ef 00 f0 e0 ba 00 c0  |S...............|
00000080  ef 27 00 f0 ef 27 00 f0  ef 27 00 f0 ef 27 00 f0  |.'...'...'...'..|
*
00000100  99 1b 32 e7 01 e4 00 f0  65 f0 00 f0 e0 be 00 c0  |..2.....e.......|
00000110  ef 27 00 f0 ef 27 00 f0  ef 27 00 f0 ef 27 00 f0  |.'...'...'...'..|
*
00000180  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................| 
```

有趣的是 [0x00000120, 0x0000017f] 中的地址被忽略为“*”，而不是我想看到的值。

据我所知，这些部分被保护不被阅读，但为什么呢？还是我错过了什么？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T03:46:00.887

hexdump 正在抑制重复行以使输出更易于阅读。

从“man hexdump”页面：

```
-v      Cause hexdump to display all input data.  Without the -v option,
        any number of groups of output lines, which would be identical to
        the immediately preceding group of output lines (except for the
        input offsets), are replaced with a line comprised of a single
        asterisk. 
```

# node.js - node.js 在模块过去文件结束时解析错误

> ID：13945201
> 
> 赞同：0
> 
> 时间：2012-12-19T03:45:23.610
> 
> 标签：node.js, parse-error

我正在使用 node.js 构建我的第一个项目，并且在我制作的模块上出现解析错误

```
"...exporter.js:700" }); 
```

然而，exporter.js 只有 699 行。这意味着什么？

# php - 具有单独复选框值的多个插入

> ID：13945209
> 
> 赞同：0
> 
> 时间：2012-12-19T03:46:41.533
> 
> 标签：php, mysql

我有一个简单的表单，其中包含 5 个文本区域和每个文本区域旁边的复选框。textarea 和 checkbox 值设置为数组。然后我循环遍历 textarea 的数组并插入记录。textarea 值工作正常，但复选框值没有按需要工作。

表格：

```
<form action="" method="post" name="form">
<table border="0" align="left" cellpadding="5">
  <tr>
    <td valign="top">Submission</td>
    <td valign="top"><p>Allowed</p></td>
    <td valign="top">Comment</td>
  </tr>
  <tr>
    <td width="13%" valign="top">Prescription</td>
    <td width="13%" align="center" valign="top"><input name="submission[]" id="submission_1" type="checkbox" value="0" /></td>
    <td width="74%" valign="top"><textarea name="comment[]" cols="45" rows="5"></textarea></td>
  </tr>
  <tr>
    <td valign="top">Lab Request</td>
    <td align="center" valign="top"><input name="submission[]" id="submission_1" type="checkbox" value="1" /></td>
    <td valign="top"><textarea name="comment[]" cols="45" rows="5"></textarea></td>
  </tr>
  <tr>
    <td valign="top">Generic request</td>
    <td align="center" valign="top"><input name="submission[]" id="submission_1" type="checkbox" value="2" /></td>
    <td valign="top"><textarea name="comment[]" cols="45" rows="5"></textarea></td>
  </tr>
  <tr>
    <td valign="top">Image request</td>
    <td align="center" valign="top"><input name="submission[]" id="submission_1" type="checkbox" value="3" /></td>
    <td valign="top"><textarea name="comment[]" cols="45" rows="5"></textarea></td>
  </tr>
  <tr>
    <td valign="top">Stationery</td>
    <td align="center" valign="top"><input name="submission[]" id="submission_1" type="checkbox" value="4" /></td>
    <td valign="top"><textarea name="comment[]" cols="45" rows="5"></textarea></td>
  </tr>
  <tr>
    <td colspan="3" valign="top"><input type="submit" name="define_submissions" id="submit" value="Add Submissions" /></td>
  </tr>
</table>
</form> 
```

PHP：

```
$submission = intval($_POST['submission']);
$submission_comment = $_POST['comment'];

if(isset($_POST['define_submissions'])){ 

for($i=0, $count = count($submission_comment);$i<$count;$i++) {
    $comment = $submission_comment[$i];
    $query_level_1 = 
sprintf("INSERT INTO submission (             
           submission_pk,
           pathway_fk,
           submission_allowed,
           comment
        ) VALUES (
           '',
           '$pathway',
           '%s',
           '$comment')", $submission === $i ? 'y' : 'n');
$result_level_1 = mysql_query($query_level_1, $connection) or die(mysql_error());
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T03:58:22.337

AFAIK，未选中时，复选框值不会发送到服务器。因此，您需要首先检查它是否存在/已定义。

为了使它更容易，只需将键值添加到您的复选框：

```
<input name="submission[0]" id="submission_1" type="checkbox" value="0" />
<input name="submission[3]" id="submission_1" type="checkbox" value="3" /> 
```

然后，定义 $submission：

```
$submissions = $_POST['submission']; 
```

for循环内部：

```
$submission = isset($submissions[$i]) ? 'n' : 'y'; 
```

并将您的查询行更改为：

```
'$comment')", $submission); 
```

# php - JSON返回值

> ID：13945216
> 
> 赞同：3
> 
> 时间：2012-12-19T03:47:36.090
> 
> 标签：php, jquery, json

目前我在将一些值从 PHP 返回到 jQuery 时遇到问题 - 不知道该怎么做

```
$(document).ready(function(){
  $('#testForm').submit(function(e){
    $.post('submit.php',$(this).serialize(),function(msg){

        $('#submit').val('Submit');

        if(msg.status){
            $('#testForm').html(msg);
        }
        else {
            $('#testForm').html("fail");
        }
    },'json');

});

});

<?php
$name = $_POST['name'];
$email = $_POST['email'];

//echo json_encode(array('status'=>1,'html'=>$name." : ".$email));
echo '{"status":1,'.$name.'}';
?> 
```

我想将`name`变量值从 PHP 返回到 jQuery 一次`status = 1`意味着成功，但我仍然没有运气。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-19T03:51:23.963

JSON 具有非常严格的语法。

但是，在您的情况下，您失败了，因为您甚至没有指定属性名称，您只有一个没有引号的裸值。

只需使用`json_encode`，它将为您处理所有边缘情况。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T03:53:14.377

您确定要返回有效的 json 字符串吗？

从这个指令：

```
echo '{"status":1,'.$name.'}'; 
```

假设 $name 是一个纯字符串，例如“hello”，您将返回这个 json 字符串：

{“状态”：1，你好}

这是无效的。

# html - 需要重叠一个 CSS 命令我需要删除一个图像背景。？

> ID：13945217
> 
> 赞同：-1
> 
> 时间：2012-12-19T03:47:39.267
> 
> 标签：html, css

我有一个主 css 文件。它对我所有的 jsp 都是通用的。在我的另一个 jsp 上，我需要删除背景图片。我怎样才能重叠它？

应该重叠的部分css。

```
#body .header div {
    background: url(images/smiling-man.jpg) no-repeat bottom right; --> i want this   
    removed. by overlapping it with another css.

    height: 472px;
    margin: 0 auto;
    padding: 0;
    width: 960px;   
} 
```

这就是我所做的......只是删除背景不起作用并在 div 上添加了一个类重叠。

```
.overlap{
    background:none;
    height: 472px;
    margin: 0 auto;
    padding: 0;
    width: 960px;   
} 
```

我的 HTML

```
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
         pageEncoding="ISO-8859-1"%>
<%@ taglib prefix="s" uri="/struts-tags" %>

<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link rel="stylesheet" type="text/css" href="style.css">
        <link rel="stylesheet" type="text/css" href="product.css">
        <title>Lot Movement Main Page</title>
    </head>
    <body>
    <body>
        <div id="header">
            <div id="logo">
                <a href="index.html"><img src="images/logo.jpg" alt="" /></a>       
            </div>  
            <nav>
                <ul>
                    <li class="selected"><a href="index.html"><span>home</span></a></li>
                    <li>  <a href="#"><span>Product </span></a>

                        <ul>
                             <li>
                                <a href="#"><span>Input</span></a> 
                            </li>

                            <li>
                                <a href="#"><span>Enquiry</span></a> 
                            </li>

                        </ul>
                    </li>
                    <li><a href="services.html"><span>Movement</span></a></li>

                    <li><a href="contact.html"><span>contact us</span></a></li>         
                </ul>
            </nav>
        </div>
        <div id="body">
            <div class="header">
                <div id ="prodoverlap">

                        <h3>Lot Movement Tracking System</h3>

                    </div>
                </div>
            </div>
        </div>
        <div id="footer">
            <div>
                <div>
                    <h3>AusTralAsia</h3>
                    <ul>
                        <ul>
                            <li>+630212013129 -Main</li>
                        </ul>
                    </ul>           
                </div>      
                <div>
                    <h3>europe</h3>
                    <ul>
                        <li>To Be Announced</li>
                    </ul>           
                </div>  
                <div>
                    <h3>canada</h3>
                    <ul>

                        <li>To Be Announced</li>
                        <li></li>
                    </ul>           
                </div>  
                <div>
                    <h3>middle east</h3>
                    <ul>

                        <li>To Be Announced</li>
                        <li></li>
                    </ul>           
                </div>  
                <div>
                    <h3>follow us:</h3>
                    <a class="facebook" href="http://www.facebook.com/" target="_blank">facebook</a>        
                    <a class="twitter" href="http://twitter.com" target="_blank">twitter</a>
                </div>  
            </div>
            <div>
                <p>&copy Copyright 2012\. All rights reserved</p>
            </div>
        </div>
    </body>
</body>
</html> 
```

我的主要 CSS

```
/* Template by freewebsitetemplates.com */
body {
    font-family: Arial, Helvetica, sans-serif;
    margin:0;
    padding: 0; 
}
#header {
    margin:0 auto;
    padding: 0; 
    overflow: hidden;
    width: 960px;
}

#header #logo {
    float: left;
    height: 144px;
    width: 355px;
}

#header #logo img {
    border: 0;
}

#header ul li {
    list-style-type: none;
    float: left;    
    margin: 0;
    padding: 0;
    width: 121px;
}

#header ul li a,
#header ul li a span,
#header ul li a:hover,
#header ul li a:hover span,
#header ul li.selected a,
#header ul li.selected a span
  {
    background: url(images/menu.gif);   
  }

#header ul li a
 {
    background-position: 10px 0;
    color: #2a4f5e;
    display: block;
    font-size: 14px;
    height: 36px;
    line-height: 36px;
    margin: 0;
    padding: 0 0 0 10px;
    text-align: center;
    text-decoration: none;
    text-transform: uppercase;
    text-shadow: 1px 1px 1px #fff;
} 

#header ul li a span
{ 
    background-position: -70px 0; 
    display: block; 
    margin: 0;
    padding: 0 10px 0 0;
} 

#header ul li a:hover { 
    background-position: -186px -37px; 
    color: #346b84;
    text-shadow: none;
} 

#header ul li a:hover span { 
    background-position: -70px -37px; 
} 
#header ul li.selected a{ 
    background-position: 10px 36px; 
    color: #fff;
    text-shadow: none;
} 
#header ul li.selected a span{ 
    background-position: -70px -74px; 
} 

/*dropdown*/

#header ul ul {
    display: none;
}

    #header ul li:hover > ul {
        display: block;
    }

#header ul ul li a span
{ 
    background-position: -70px 0; 
    font-size: 10px;
    text-transform: none;
    display: block; 
    margin: 0;
    padding: 0 10px 0 0;
} 

#header ul ul li a:hover { 
    background-position: -186px -37px; 
    color: #346b84;
    text-shadow: none;
} 

#body {
    background: url(images/bg-content.gif) repeat-x top left;
    margin: 0;
    padding: 0; 
    min-width: 960px;
}
#body .header {
    background: url(images/bg-body.gif) repeat-x bottom center; 
    margin: 0 0 30px 0;
}
#body .header div {
    background: url(images/smiling-man.jpg) no-repeat bottom right;
    height: 472px;
    margin: 0 auto;
    padding: 0;
    width: 960px;   
}
#body .header div div {
    background: none;   
    margin: 0;
    padding: 0 0 0 13px;
    height: 200px;
    width: 490px;
}
#body .header div h3 {
    color: #2a4f5e; 
    font-size: 20px;
    line-height: 30px;
    margin: 18px 0 0 0;
    padding: 0;
    text-shadow: 1px 1px 1px #fff;
}
#body .header div h3 span {
    display: block; 
    font-size: 25px;
}
#body .header div h3 a {
    color: #2a4f5e;
    text-decoration: none;  
}
#body .header div h3 a:hover {
    color: #507685; 
}
#body .header div p {
    color: #507685;
    font-size: 14px;
    line-height: 24px;
    margin: 12px 0 6px 0;
    padding: 0; 
    text-shadow: 1px 1px 1px #fff;
}
#body .header div p a {
    color: #507685; 
}
#body .header div p a:hover {
    color: #2a4f5e; 
}
#body .header ul {
    overflow: hidden;
    margin: 0;
    padding: 49px 0 0;
}
#body .header ul li {
    float: left;    
    list-style: none;
    padding: 0 5px;
}
#body .body {
    border: 1px solid #e0e0e0;
    margin: 0 auto 34px auto;
    overflow: hidden;
    padding: 0 2px;
    width: 954px;
}   
#body .body div {
    float: left;    
}
#body .body .section {
    background: url(images/bg-section.gif) repeat-x top left;
    height: 193px;
    margin: 0;
    padding: 35px 0 0 40px;
    width: 186px;   
}
#body .body .section img {
    display: block;
}
#body .body .section a {
    color: #2a4f5e;
    display: block;
    font-size: 14px;
    font-weight: bold;
    height: 145px;
    text-align: center;
    text-decoration: none;
    text-transform: uppercase;
    width: 145px;
}   
#body .body .section a:hover {
    color: #507685; 
}
#body .body .section img {
    border: 0;  
}
#body .body .article {
    background: url(images/bg-article.gif) no-repeat top center;
    overflow: hidden;
    padding: 19px 16px;
    width: 470px;   
}
#body .body .article img {
    border: 0;
    float: left;
    padding: 0 10px 0 0;
}   
#body .body .article h4 {
    color: #2a4f5e;
    font-size: 15px;
    font-weight: bold;
    margin: 12px 0;
    padding: 0; 
}
#body .body .article h4 a {
    color: #2a4f5e;
    text-decoration: none;  
}
#body .body .article h4 a:hover {
    color: #507685; 
}
#body .body .article p {
    color: #2a4f5e;
    font-size: 14px;
    line-height: 22px;
    margin: 0;
    padding: 0; 
}
#body .body .article p a {
    color: #2a4f5e; 
}
#body .body .article p a:hover {
    color: #346b84; 
}
#body .footer {
    margin: 0 auto;
    overflow: hidden;
    padding: 0 0 15px 0;
    width: 960px;   
}
#body .footer div {
    float: left;    
    margin: 0;
    padding: 0;
}
#body .footer div ul {
    margin: 0;
    padding: 0; 
}
#body .footer div ul li {
    list-style: none;
    margin: 0 0 15px;
    padding: 0 0 15px;  
}
#body .footer h3 {
    color: #2a4f5e;
    font-size: 14px;
    line-height: 26px;
    margin: 0 0 12px 0;
    padding: 0; 
    text-align: justify;
    text-transform: uppercase;
}
#body .footer h3 a {
    color: #2a4f5e; 
    text-decoration: none;
}
#body .footer h3 a:hover {
    color: #507685; 
}
#body .footer .section {
    padding: 0 10px;
    width: 220px;   
}
#body .footer ul li {
    background: url(images/border-dashed.gif) repeat-x bottom left; 
}
#body .footer ul li:last-child {
    background: none;   
}
#body .footer li p {
    color: #5d5d5d;
    font-size: 14px;    
    line-height: 20px;
    margin: 0;
    padding: 0;
    text-align: justify;
}
#body .footer li p a {
    color: #5d5d5d; 
    text-decoration: underline;
}
#body .footer li p a:hover {
    color: #aeaeae; 
}
#body .footer li span {
    color: #aeaeae;
    display: block;
    font-size: 10px;    
    line-height: 16px;
    margin: 5px 0 0;
    padding:0;
}
#body .footer ul.news li p {
    background: url(images/bullets.gif) no-repeat 0 8px;
    padding: 0 0 0 15px;
}
#body .footer .featured {
    padding: 0 18px 0 24px;
    width: 438px;   
}
#body .footer .featured ul li {
    overflow: hidden;   
}
#body .footer .featured img {
    border: 1px solid #dbddde;
    float: left;
    margin: 0 20px 0 0; 
    padding: 1px;
}
#body .footer .featured p {
    margin: 0;
    padding: 0; 
}
#body .contact,
#body .about,
#body .services,
#body .blog {
    margin: 0 auto;
    padding: 25px 10px 50px 10px;   
    width: 940px;
}
#body h1 {
    color: #2a4f5e;
    font-size: 27px;
    font-weight: bold;
    height: 74px;
    line-height: 74px;
    margin: 0;
    padding: 0; 
    text-indent: 10px;
    text-transform: uppercase;  
}
#body .contact p {
    color: #7b7b7b;
    font-size: 15px;
    font-weight: bold;
    line-height: 26px;
    margin: 0;
    padding: 40px 0;    
    text-align: justify;
    width: 830px;
}
#body .contact p a {
    color: #7b7b7b; 
}
#body .contact p a:hover {
    color: #2a4f5e; 
}
#body .contact div {
    margin: 0;
    padding: 0 0 30px 0;    
}
#body .contact div h3 {
    color: #5d5d5d;
    font-size: 14px;
    font-weight: bold;
    margin: 0;
    padding: 0 0 5px 0; 
}
#body .contact div ul {
    margin: 0;
    padding: 0 0 20px 0;        
}
#body .contact div ul li {
    color: #5d5d5d;
    font-size: 14px;
    list-style: none;
    margin: 0;
    padding: 5px 0; 
}
#body .about div {
    padding: 50px 0 0 0;    
}
#body .about h2 {
    color: #2a4f5e;
    font-size: 16px;
    font-weight: bold;
    margin: 0;
    padding: 0; 
    text-transform: uppercase;
}
#body .about p {
    color: #5d5d5d;
    font-size: 14px;
    line-height: 24px;
    margin: 10px 0 0;
    padding: 0; 
    text-align: justify;
    width: 830px;
}
#body .about p a {
    color: #5d5d5d;
}
#body .about p a:hover {
    color: #2a4f5e; 
}
#body .services div {
    overflow: hidden;   
    margin: 0;
    padding: 40px 0 0;
}
#body .services h2 {
    color: #2a4f5e;
    font-size: 16px;
    font-weight: bold;
    line-height: 24px;
    margin: 0;
    padding: 0;
    text-transform: uppercase;
}
#body .services h2 a {
    color: #2a4f5e; 
}
#body .services h2 a:hover {
    color: #507685; 
}
#body .services h3 {
    color: #2a4f5e;
    font-size: 14px;
    font-weight: bold;
    line-height: 24px;
    margin: 15px 0 0;
    padding: 0 30px 0 0;
    text-transform: uppercase;  
}
#body .services h3 a {
    color: #2a4f5e; 
}
#body .services h3 a:hover {
    color: #507685; 
}
#body .services h4 {
    color: #2a4f5e;
    font-size: 16px;
    font-weight: normal;
    line-height: 24px;
    margin: 0;
    padding: 0;
    text-transform: uppercase;  
}
#body .services p {
    color: #5d5d5d;
    font-size: 14px;    
    line-height: 24px;
}
#body .services p a {
    color: #5d5d5d; 
}
#body .services p a:hover {
    color: #2a4f5e; 
}
#body .services div ul {
    float: left;
    margin: 0;
    padding: 20px 0 0;
    width: 312px;   
}
#body .services div ul li {
    background: url(images/bullets.gif) no-repeat center left;
    color: #5d5d5d;
    font-size: 14px;
    list-style: none;
    margin: 0;
    padding: 5px 0 5px 12px;    
    text-align: left;
}
#body .services div div {
    overflow: hidden;   
    margin: 0;
    padding: 0 0 5px 0;
}
#body .services div div img {
    float: left;    
    padding: 0 10px 0 0;
}
#body .services div div p {
    padding: 0 30px 0 0;
    text-align: justify;    
}
#body .products {
    margin: 0 auto;
    padding: 25px 0 70px 0;
    width: 960px;
}   
#body .products h2 {
    color: #2a4f5e; 
    font-size: 26px;
    margin: 0;
    text-align: center;
    text-transform: uppercase;
    padding: 90px 0 30px 0; 
}
#body .products p {
    color: #5d5d5d;
    font-size: 14px;
    line-height: 24px;
    margin: 0;
    padding: 0 10px;    
    text-align: justify;
}
#body .products p a {
    color: #5d5d5d; 
}
#body .products p a:hover {
    color: #2a4f5e; 
}
#body .products div {
    overflow: hidden;   
    margin: 0 0 45px 0;
    padding: 0;
}
#body .products div div {
    float: left;
    margin: 0;
    padding: 0 10px;
    text-align: center;
    width: 300px;   
}
#body .products div div h3 {
    color: #2a4f5e;
    font-size: 16px;
    line-height: 24px;
    margin: 0;
    padding: 0 0 10px 0;
    text-align: justify;    
    text-transform: uppercase;
}
#body .products div p {
    font-size: 16px;    
}
#body .products div div p {
    font-size: 14px;
    margin: 0;
    padding: 0;
    text-align: justify;    
}
#body .blog {
    overflow: hidden;   
}
#body .blog div {
    float: left;
    padding: 60px 0 0 0;
    width: 630px;   
}
#body .blog ul {
    float: left;
    margin: 0;
    padding: 38px 0 0 30px;
    width: 280px;   
}
#body .blog ul li {
    background: url(images/border-dashed.gif) repeat-x bottom left;
    list-style: none;
    margin: 0;
    padding: 22px 0;    
}
#body .blog ul li:last-child {
    background: none;   
}
#body .blog h2 {
    color: #2a4f5e;
    font-size: 16px;
    margin: 0;
    padding: 0;
    text-transform: capitalize; 
}
#body .blog h3 {
    color: #5d5d5d;
    font-size: 14px;
    margin: 0;
    padding: 0;
    text-align: justify;    
}
#body .blog h3 a {
    color: #5d5d5d; 
}
#body .blog h3 a:hover {
    color: #2a4f5e; 
}
#body .blog p {
    color: #5d5d5d; 
    font-size: 14px;
    line-height: 24px;
    margin: 0;
    padding: 0;
    text-align: justify;
}
#body .blog p a {
    color: #5d5d5d; 
}
#body .blog p a:hover {
    color: #2a4f5e; 
}
#body .blog div p {
    padding: 15px 0;    
}
#body .blog div p.article {
    font-weight: bold;  
}
#footer {
    background: #f5f5f5 url(images/bg-footer.gif) repeat-x top left;    
    margin: 0;
    min-width: 960px;
    padding: 0;
}
#footer div {
    margin: 0 auto;
    overflow: hidden;
    padding: 26px 0 0;  
    width: 960px;
}
#footer div div {
    float: left;
    margin: 0;
    padding: 0;
    text-align: center;
    width: 192px;   
}
#footer div div h3 {
    color: #818a8c;
    font-size: 12px;
    font-weight: bold;
    margin: 0 0 5px 0;
    padding: 0;
    text-transform: uppercase;
}
#footer div div ul,
#footer div div ul li {
    margin: 0;
    list-style: none;
    padding: 0; 
}   
#footer div div ul li {
    font-size: 12px;
    line-height: 22px;
    color: #818a8c; 
}
#footer div a.facebook,
#footer div a.twitter {
    display: block;
    float: left;
    height: 27px;
    margin: 10px 0 0;
    text-indent: -99999em;
    width: 40px;    
}
#footer div a.facebook,
#footer div a.twitter {
    background: url(images/icons.gif) no-repeat;    
}
#footer div a.facebook {
    background-position: 0 0;
    margin: 10px 0 0 58px;
    _margin: 10px 0 0 28px;
}
#footer div a.twitter {
    background-position: 0 -37px;
}
#footer div p {
    color: #c1c1c1;
    font-size: 12px;
    margin: 0;
    padding: 0 0 30px 0;
    text-align: center; 
    text-shadow: 1px 1px 1px #fff;
} 
```

我要覆盖的其他 CSS。

```
/* 
    Document   : login
    Created on : Nov 15, 2012, 2:15:26 PM
    Author     : god-gavedmework
    Description:
        Purpose of the stylesheet follows.
*/

.overlap{
    background:none;
    height: 472px;
    margin: 0 auto;
    padding: 0;
    width: 960px;   
}
table
{
    position:absolute;
    width: 20%;
    float: left;

}

.errorMessage {
color: red;
font-size: 0.8em;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T04:07:54.507

您可以尝试使用隐藏的可见性，它将占用相同的空间但不可见

```
.overlap{
    background:none;
    height: 472px;
    margin: 0 auto;
    padding: 0;
    width: 960px;
    visibility:hidden;
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T04:11:32.443

```
#body .header #prodoverlap{
    background:none;
    height: 472px;
    margin: 0 auto;
    padding: 0;
    width: 960px;   
} 
```

请将此 CSS 代码添加到您的其他 CSS 文件中，谢谢。

# php - 如何为 Zend Framework 2 中的默认模块制作自定义模型

> ID：13945218
> 
> 赞同：1
> 
> 时间：2012-12-19T03:47:46.377
> 
> 标签：php, zend-framework2

有人知道如何更改 Zend Framework 2 中的默认模块吗？我使用骨架应用程序作为主页，但我想创建另一个具有默认主页的模块。我尝试了两件事

我从 application.config.php 文件中删除了“骨架应用程序”，这就是它的样子

```
return array(
'modules' => array(
    'Application',
    'Helloworld'
),
'module_listener_options' => array(
    'config_glob_paths'    => array(
        'config/autoload/{,*.}{global,local}.php',
    ),
    'module_paths' => array(
        './module',
        './vendor',
    ),
  ),
); 
```

这就是现在的样子

```
 return array(
'modules' => array(
    'Helloworld'
),
'module_listener_options' => array(
    'config_glob_paths'    => array(
        'config/autoload/{,*.}{global,local}.php',
    ),
    'module_paths' => array(
        './module',
        './vendor',
     ),
   ),
); 
```

如果您不能告诉我从模块中删除了“应用程序”，那么我更改了 Helloworld 模块的 module.config.php 文件，这就是它过去的样子

```
return array(
'view_manager' => array(
    'template_path_stack' => array(
        __DIR__ . '/../view',
    ),
),
'router' => array(
    'routes' => array(
        'sayhello' => array(
            'type' => 'Zend\Mvc\Router\Http\Literal',
            'options' => array(
                'route' => '/sayhello',
                'defaults' => array(
                    'controller' => 'Helloworld\Controller\Index',
                    'action' => 'index',
                )
            )
        )
    )
),
'controllers' => array(
    'factories' => array(
        'Helloworld\Controller\Index' => 'Helloworld\Controller\IndexControllerFactory'
    )
),
'service_manager' => array(
    'invokables' => array(
        'greetingService' => 'Helloworld\Service\GreetingService'
     )
   )
); 
```

这就是现在的样子

```
return array(
'view_manager' => array(
    'template_path_stack' => array(
        __DIR__ . '/../view',
    ),
),
'router' => array(
    'routes' => array(
        'sayhello' => array(
            'type' => 'Zend\Mvc\Router\Http\Literal',
            'options' => array(
                'route' => '/',
                'defaults' => array(
                    'controller' => 'Helloworld\Controller\Index',
                    'action' => 'index',
                )
            )
        )
    )
),
'controllers' => array(
    'factories' => array(
        'Helloworld\Controller\Index' => 'Helloworld\Controller\IndexControllerFactory'
    )
),
'service_manager' => array(
    'invokables' => array(
        'greetingService' => 'Helloworld\Service\GreetingService'
      )
   )
); 
```

对选项中的“路由器”数组进行了更改=>路由我将值更改为“/”

但它会引发 5000 错误，谁能详细说明我做错了什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T20:08:11.360

好的，所以我看到了我的应用程序的问题。路由实际上是正确的问题是我缺少一个 layout.phtml 文件，我需要在模块配置中指定所有这些。我需要将以下内容添加到我的 module.config.php

```
 'view_manager' => array(
    'display_not_found_reason' => true,
    'display_exceptions'       => true,
    'doctype'                  => 'HTML5',
    'not_found_template'       => 'error/404',
    'exception_template'       => 'error/index',
    'template_map' => array(
        'layout/layout'           => __DIR__ . '/../view/layout/layout.phtml',
        'valaree/index/index' => __DIR__ . '/../view/valaree/index/index.phtml',
        'error/404'               => __DIR__ . '/../view/error/404.phtml',
        'error/index'             => __DIR__ . '/../view/error/index.phtml',
    ),
    'template_path_stack' => array(
        __DIR__ . '/../view',
    ),
) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2014-06-13T05:28:29.113

您可以通过在主路由中的应用程序模块 (myproject/module/application/config/module.config.php) 的 module.config.php 中设置 url 来设置项目主页。例如，如果您想使用默认模块的索引控制器的索引操作作为您的主页，您需要更改上述文件中的主页路由。IE

```
 'home' => array(
            'type' => 'Zend\Mvc\Router\Http\Literal',
            'options' => array(
                'route'    => '/',
                'defaults' => array(
                    'controller' => 'Default\Controller\Index',
                    'action'     => 'index',
                ),
            ),
        ), 
```

在使用上述代码之前，请确保在 (myproject/config/application.config.php) 中定义了新模块。如果您需要任何进一步的帮助，请告诉我。谢谢..：）

# openid - Openid 测试用户是否已经使用 lightopenid 登录

> ID：13945221
> 
> 赞同：0
> 
> 时间：2012-12-19T03:48:39.840
> 
> 标签：openid

我正在尝试使用 lightopenid 为我的用户创建一个低摩擦的实现标志，但我遇到了一个导致问题的用例。

1.  用户退出谷歌
2.  用户导航到我的网站并被质疑他们的凭据

挑战发生是因为我使用以下代码对用户进行身份验证，但在用户未登录的情况下，整个谷歌挑战流程被激活

```
$openid->identity = 'https://www.google.com/accounts/o8/id';
header('Location: ' . $openid->authUrl()); 
```

总之，如果用户已经登录，一切都会顺利进行。我希望能够测试用户是否在没有身份验证挑战的情况下登录，这对于第一次使用的用户来说是一种非常糟糕的体验。然后我可以实现一个按钮，允许用户登录，但仍然允许他们查看网站上的大部分内容。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-20T17:06:50.557

您可以使用

```
$openid->authUrl(true) 
```

在不经过登录过程的情况下进行身份验证

# c# - 跨线程操作在 Windows 窗体中无效

> ID：13945225
> 
> 赞同：7
> 
> 时间：2012-12-19T03:49:33.290
> 
> 标签：c#, winforms, ftp, threadpool, invoke

谁能帮助我我有一个问题我试图通过线程池让这段代码在后台工作，但我似乎无法让它工作我不断收到这个错误：

```
Cross-thread operation not valid: Control 'ListBox3' accessed
from a thread other than the thread it was created on. 
```

这是我正在使用的代码：

```
private void DoWork(object o)
{
    var list = ListBox3;

    var request = createRequest(TxtServer.Text, WebRequestMethods.Ftp.ListDirectory);

    using (var response = (FtpWebResponse)request.GetResponse())
    {
        using (var stream = response.GetResponseStream())
        {
            using (var reader = new StreamReader(stream, true))
            {
                while (!reader.EndOfStream)
                {
                    list.Items.Add(reader.ReadLine());
                    ResultLabel.Text = "Connected";
                }
            }
        }
    }
} 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-19T06:12:19.157

您可以通过这样做访问控制

```
 Invoke(new Action(() => {Foo.Text="Hi";})); 
```

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2012-12-19T03:57:15.020

您需要调用委托来更新列表。请参阅此[MSDN 示例](https://docs.microsoft.com/en-us/dotnet/framework/winforms/controls/how-to-make-thread-safe-calls-to-windows-forms-controls)。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2014-05-01T11:08:03.343

This extension method solves the problem too.

```
/// <summary>
/// Allows thread safe updates of UI components
/// </summary>
public static void InvokeEx<T>(this T @this, Action<T> action) where T : ISynchronizeInvoke
{
    if (@this.InvokeRequired)
    {
        @this.Invoke(action, new object[] { @this });
    }
    else
    {
        action(@this);
    }
} 
```

Use in your worker thread as follows

```
InvokeEx(x => x.MyControl.Text = "foo"); 
```

* * *

## 回答 #4

> 赞同：3
> 
> 时间：2016-10-24T23:24:28.617

您还可以使用以下语法和 Action 委托通过调用来访问控件：

```
 Invoke((Action)(() =>
 {
      var myVar = SomeWinFormControl.Property;
 })); 
```

* * *

## 回答 #5

> 赞同：2
> 
> 时间：2012-12-19T03:51:56.687

您不能从单独的线程访问控件，它必须来自创建控件的同一线程。

* * *

## 回答 #6

> 赞同：1
> 
> 时间：2012-12-19T03:53:15.987

我假设这`DoWork`是在另一个线程上启动的。代码访问`ListBox3`，这是一个 GUI 控件。.NET 将对 GUI 控件的访问限制为创建它们的线程。

* * *

## 回答 #7

> 赞同：1
> 
> 时间：2012-12-19T06:03:17.447

您可以这样做，因为从 UI 线程以外的其他控件访问控件需要调用。

当您开始时（我假设您使用 BackgroundWorker），将文本框中的 url`RunWorkerAsync(TxtServer.Text)`作为参数传递，然后：

```
private void DoWork(object o, DoWorkEventArgs e)
{
    string Url = (string) e.Argument;

    List<of string> tmpList = new List<of string>;

    var request = createRequest(url, WebRequestMethods.Ftp.ListDirectory);

    using (var response = (FtpWebResponse)request.GetResponse())
    {
        using (var stream = response.GetResponseStream())
        {
            using (var reader = new StreamReader(stream, true))
            {
                while (!reader.EndOfStream)
                {
                    list.Add(reader.ReadLine());
                    //ResultLabel.Text = "Connected";
                    //use reportprogress() instead
                }
            }
        }
    }
    e.result = tmpList;
} 
```

然后在您的 Completed 事件中将 e.result 转换为列表并将其添加到您的控件中。

# mysql - mysql - 自动递增（如何自动递增 5）

> ID：13945226
> 
> 赞同：0
> 
> 时间：2012-12-19T03:49:35.377
> 
> 标签：mysql

> **可能重复：**
> [mysql auto_increment by 5？](https://stackoverflow.com/questions/3313229/mysql-auto-increment-by-5)

我有一个表，其中有一列需要主键。我想将它设置为自动递增，但它应该递增 5 或 10。我一直在搜索它，但很难找到资源。

有人知道怎么做吗？

谢谢你。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-19T03:52:28.870

有一个名为的服务器配置设置[`auto_increment_increment`](http://dev.mysql.com/doc/refman/5.0/en/replication-options-master.html#sysvar_auto_increment_increment)。但是请注意，这将适用于*所有*表格。

# jquery - 谷歌地图不显示整个地图

> ID：13945231
> 
> 赞同：0
> 
> 时间：2012-12-19T03:50:55.820
> 
> 标签：jquery, map

我的谷歌地图有问题..情况是，它不会加载整个地图，而只会加载地图的一部分，其余部分已经是空白了..可能是什么问题？...

这是代码..

```
<div id="map_addresses" class="map">
    <p>This will be replaced with the Google Map.</p>
</div>

$(function()
{

   $('#map_addresses').gMap({
        controls: {
        panControl: true,
        zoomControl: true,
        mapTypeControl: true,
        scaleControl: true,
        streetViewControl: true,
    },
        scrollwheel: true,
        zoom: 5,
         maptype: 'ROADMAP',
        markers:[
            {
                latitude: 10.318577,
                longitude: 123.908062,
                html: "Jinisys Software Inc. Sales Office"
            },
            {
                latitude: 10.324213,
                longitude: 123.911546,
                html: "Jinisys Software Inc. Main Office"
            }

        ]
    });
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T04:13:26.600

谷歌地图只能加载到可见的`div`. 此外，元素的`width`and`height`必须是固定的。地图不会调整 div 的大小。

尝试这个：

```
<style>
    .map{
        width:400px;
        height:400px;
    }
</style>

<div id="map_addresses" class="map">
    <p>This will be replaced with the Google Map.</p>
</div> 
```

# asp-classic - ASP VBScript 服务器端编程

> ID：13945233
> 
> 赞同：-2
> 
> 时间：2012-12-19T03:51:14.260
> 
> 标签：asp-classic, vbscript, overflow

我是 VBScript 编程的新手。并且刚刚开始使用 ASP 进行编程。问题是我有相当多的 60 个选项作为按钮，并且必须相应地显示页面。以前我们有 60 个功能相同的函数。现在我想使用 select case 语句将它转换为单个函数。所以我将不同的数字作为参数传递给函数以获取要显示的页面。但是当我检查参数值时，我得到了溢出。是因为类型转换错误吗？我有 2 个层次结构。所以我传递了 2 位数字，例如 11。使用 11/10 作为第一级选择器，使用 11 mod 10 作为第二级选择器我有一些图像，点击代码如下。

```
<html>
<head>
<script>
function CallFun(a)
select case int(a/10)
case 1
do something
end select
end Function
</script></head><body><img src="Source.gif" onclick = CallFun(11)></body> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T11:20:10.843

像这样的东西应该工作：

```
function test(param)
    dim lvl1 : lvl1 = param\10
    dim lvl2 : lvl2 = param MOD 10
    Select Case lvl1
        Case 1
            if lvl2 = 1 then 
                'some code
            end if
        Case 2
            ' some code
        Case 3
            ' some code
        Case Else
            ' some code
    End Select
End function

Call test(23)     'for example 
```

# javascript - 链接在 JavaScript 下拉菜单中不起作用

> ID：13945238
> 
> 赞同：1
> 
> 时间：2012-12-19T03:52:18.460
> 
> 标签：javascript, css

我是 JavaScript 的初学者，不知道如何让链接在这个 dd 菜单中工作。我假设它与关闭下拉菜单的 javascript 函数有关，无论您在哪里单击覆盖链接。

### HTML

```
<div id="right_box">
    <div id="wrap">
        <div id="dropdown" class="ddmenu"> User Settings 
            <ul> 
                <li><a href="#">Settings</a></li>
                <li><a href="logout.php">Log Out</a></li>
            </ul> 
        </div> 
    </div> 
```

### JavaScript

```
<script type="text/javascript">
     $("#dropdown").on("click", function(e){
        e.preventDefault();

        if($(this).hasClass("open")) {
            $(this).removeClass("open");
            $(this).children("ul").slideUp("fast");
        } else {
            $(this).addClass("open");
            $(this).children("ul").slideDown("fast");
        }
    });
</script> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T04:00:52.573

发生这种情况是因为您正在使用`e.preventDefault()`，请将其删除。
当您使用它时，您会停止默认`a`操作。

[**演示**](http://jsfiddle.net/PtYtf/11/)

# ruby-on-rails - 西班牙语中有一些官方的 Active Record 错误翻译吗？

> ID：13945242
> 
> 赞同：10
> 
> 时间：2012-12-19T03:53:00.293
> 
> 标签：ruby-on-rails, activerecord, internationalization

我有这个例外：

```
translation missing: es.activerecord.errors.messages.record_invalid 
```

据我了解：之所以提出这个问题，是因为我没有现成记录的西班牙语翻译。是否有正式的翻译文件供活动记录？

* * *

## 回答 #1

> 赞同：17
> 
> 时间：2012-12-19T09:02:02.327

查看 Sven Fuchs 的[rails-i18n 存储库](https://github.com/svenfuchs/rails-i18n)。只需将其添加到您的应用程序中。[你可以在这里](https://github.com/svenfuchs/rails-i18n/blob/master/rails/locale/es.yml)找到一般的西班牙语翻译。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T04:07:02.667

你只需要在你的语言环境文件中翻译这个文件：

[https://github.com/rails/rails/blob/master/activerecord/lib/active_record/locale/en.yml](https://github.com/rails/rails/blob/master/activerecord/lib/active_record/locale/en.yml)

# php - 分发文件以使收件人无法阅读

> ID：13945246
> 
> 赞同：7
> 
> 时间：2012-12-19T03:53:24.740
> 
> 标签：php, security, http, encryption, distribution

我有一个程序附带一个数据文件，我不希望最终用户直接阅读。虽然它在用户的硬盘上，但它始终是加密的（即使我的程序正在使用它）。

但是，我不能在安装程序中包含数据文件，因为它们很容易提取。我已经尝试过加密功能，但它们似乎不太正常。

所以我试图找到一种分发文件的方法，以便用户在分发时无法读取它。我想到了各种方法来通过 HTTP 以加密形式通过 PHP 下载文件，但是如果不发送加密密钥就很难做到这一点。更不用说，我在 HTTP 问题上不是很有经验。

我已经提出了一些解决这个问题的想法，但是它们要么不起作用，要么非常复杂。我宁愿想出一个不太复杂的解决方案。

这不必太安全，但它应该能够抵抗 HTTP 嗅探器。实现这一目标的最佳方法是什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T05:16:10.207

纯粹在软件中做到这一点基本上是不可能的。如果您在用户机器上运行的程序可以读取它，那么在用户机器上运行的另一个程序可以读取它；并且用户可以控制该其他程序，并提取文件的内容。

你可以让它变得困难；人们通常将此功能称为 DRM，一些 DRM 方案最终难以破解。如果您使用专门的硬件来处理解密并且不允许任何非安全组件访问数据，它们会变得更强大，也更难以破解。但最终，总有办法解决它；专门的用户始终可以将逻辑分析仪连接到适当的总线并从中读取数据。

如果你真的想发疯，你可以内置防篡改硬件；本质上是具有内置自毁功能的硬件，因此如果用户试图打开计算机，它会破坏数据。这是一种相当不利于用户的行为，但在某些情况下是必要的（带有您不希望敌人能够获得的加密密钥的卡）。

但是，所有这些都非常困难且昂贵，并且使您的用户的生活更加困难。如果某个地方有一个小洞，一个人可以破解，那么他们可以提取数据并将其发布到某个地方；没关系，大多数人都很难绕过，只要一个人可以，游戏就可以了。

当然，所有这些基于硬件的机制都要求您的用户拥有支持它们的专用硬件；如果您正在做一个纯粹的基于软件的解决方案，那么游戏已经开始了。用户只需将调试器指向程序的内存，并在您读取文件时读出文件的内容。

所以你可能应该重新评估你是否需要这样的功能。这些数据真的那么敏感吗？如果是这样，您是否可以控制它，并要求该软件通过 Internet 与您的服务器通信，该服务器为它提供的功能提供网关？

如果您提供有关您的用例的更多信息，我们可能能够为您的特定问题提供更好的解决方案。例如，如果您只想保护临时用户，您可以对其进行加密，并混淆解密它的密钥和代码。这不会提供太多保护，但它可以防止某人通过浏览内容来查看内容。如果它用于许可，您可能会考虑使用安全加密狗或许可服务器，您的软件会使用它进行检查。但是没有任何方法是万无一失的。最后，如果您尝试在最终用户的机器上处理这些数据，他们将能够从您的流程中提取数据。

# ios - 音量滑块没有效果

> ID：13945247
> 
> 赞同：1
> 
> 时间：2012-12-19T03:53:42.597
> 
> 标签：ios, mpmovieplayercontroller, avaudioplayer, avplayer, mpvolumeview

我正在创建一个带有播放、暂停和音量滑块的广播流媒体应用程序。

我已经实现了使用音量滑块，`MPVolumeView`但不幸的是它不起作用。

任何人都可以让我知道正确的代码，以便音量滑块可以在我的应用程序中使用。我用过`MPMoviePlayerController`, `AVPlayer`, `AVAudioPlayer`.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-20T13:26:18.180

听起来好像您错过了 Apple 文档的重要部分； [使用电影和 iPod 音乐](http://developer.apple.com/library/ios/#documentation/Audio/Conceptual/AudioSessionProgrammingGuide/WorkingWithOpenALiPodMusicandMovies/WorkingWithOpenALiPodMusicandMovies.html)

我怀疑您正在同时使用两者，`AVAudioPlayer`并且`MPMoviePlayerController`您已经设置了一些音频会话属性以使其正常工作。现在这样做时，您可能想告诉`MPMoviePlayerController`使用/不使用该会话。

> 独家使用媒体播放器框架
> 
> 如果您的应用程序仅使用电影播放器​​或仅使用音乐播放器（并且您没有播放自己的声音），则不应配置音频会话。
> 
> 如果您只使用电影播放器​​，则必须告诉它使用自己的音频会话，如下所示：

```
myMoviePlayer.useApplicationAudioSession = NO 
```

> 如果您使用的是电影播放器​​和音乐播放器，那么您可能需要配置两者的交互方式；为此，您必须配置音频会话，即使您没有播放应用程序音频本身。使用表 6-1 中的指南。

![在此处输入图像描述](../Images/2d55707dbe89a4d6fd180098f16e7128.png)

# list - 为什么 remove() 不删除指定的值？

> ID：13945253
> 
> 赞同：1
> 
> 时间：2012-12-19T03:53:57.043
> 
> 标签：list, python-2.7

```
list = ['02', '03', '04', '05', '06', 'Inactive', 'Inactive', 'Inactive', 'Inactive', 'Inactive']

list.remove('Inactive')

print list 
```

但它只是保持结果不变。我错过了什么？

* * *

## 回答 #1

> 赞同：6
> 
> 时间：2012-12-19T03:58:02.093

`Inactive`正如[list`remove`方法](http://docs.python.org/2/tutorial/datastructures.html)的文档所说，它删除了第一次出现的。要删除所有出现，请使用循环/方法/lambda/LC。例如：

```
myList = ['02', '03', '04', '05', '06', 'Inactive', 'Inactive', 'Inactive', 'Inactive', 'Inactive']
removedList = [x for x in myList if x!='Inactive'] # original list unchanged    
# or
removedList = filter(lambda x: x!='Inactive', myList) #leaves original list intact 
```

顺便说一句，不要`list`用作变量名

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T04:00:11.953

```
>>> list = ['02', '03', '04', '05', '06', 'Inactive', 'Inactive', 'Inactive', 'Inactive', 'Inactive']
>>> list.remove('Inactive')
>>> print list
['02', '03', '04', '05', '06', 'Inactive', 'Inactive', 'Inactive', 'Inactive'] 
```

它为我删除了一个`'Inactive'`。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T04:01:13.630

```
for position, item in enumerate(list):
    list.remove('Inactive') 
```

这将解决问题。

# xaml - 为什么工具提示在 WPF 2010 中不起作用？

> ID：13945254
> 
> 赞同：0
> 
> 时间：2012-12-19T03:54:19.430
> 
> 标签：xaml, tooltip

我有一个texbox。当用户将鼠标放在文本框上时，我想显示一个工具提示。我写了这样的代码，但我的程序刚刚中断，VS 2010 给出了一个报告窗口。这是我的 xaml 代码：

```
 <TextBox Height="21" HorizontalAlignment="Left" Margin="231,17,0,0" 
  Name="Student_textBox"         VerticalAlignment="Top" Width="123" 
  GotFocus="Student_textBox_GotFocus" LostFocus="Student_textBox_LostFocus"
  TabIndex="1"   
  KeyDown="Student_textBox_KeyDown" ToolTip="Hello, Student!"/> 
```

为什么工具提示在 WPF 2010 中不起作用？如何解决？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T09:28:09.737

那段 XAML 没有任何问题。也许问题出在其中一个事件处理程序中（Student_textBox_GotFocus/Student_textBox_LostFocus/Student_textBox_KeyDown）？

错误报告说什么？你能发布错误消息和可能的堆栈跟踪吗？

# html - jQuery 弹出菜单。将元素从其父元素中分离出来

> ID：13945256
> 
> 赞同：4
> 
> 时间：2012-12-19T03:54:29.343
> 
> 标签：html, css, shopify

我正在开发一个 Shopify 项目。我不是设计师。我需要为商店制作一个弹出菜单。问题有两个方面。首先，弹出窗口需要延伸到视口的底部。其次，我想在 Navigation Div 中将所有内容捆绑在一起，但我需要弄清楚如何将元素从其父元素中分离出来，然后在其余内容上“分层”而不移动它。

我想我只是用 CSS 隐藏菜单，然后使用 jQuery 在翻转时取消隐藏它。我不认为这会奏效。我不知道如何定位弹出按钮，所以它不会影响周围的一切。

这是现在的网站： [https ://hodkiewicz-zieme-and-hirthe180.myshopify.com/](https://hodkiewicz-zieme-and-hirthe180.myshopify.com/)

它应该是这样的： http: [//tinypic.com/r/35hnyox/6](http://tinypic.com/r/35hnyox/6)

这是当前导航列中的内容。我可能会改变结构。

```
<div id="navbar" class="green">
    <ul id="navigation">
    {% for link in linklists.main-menu.links %}
        <li><a class="green" href="{{ link.url }}">{{ link.title }}</a></li>
    {% endfor %}
        <li><a class="green" href="#">{{ linklists.packard.title }}</a>
            <ul class="sub-menu">
                    <li><a class="green" href="#">-1930 Speedster</a></li>
                    <li><a class="green" href="#">-1929-31 Super 8</a></li>
                    <li><a class="green" href="#">-Late 1931-32 Super 8</a></li>
                    <li><a class="green" href="#">-1929-31 Standard 8</a></li>
                    <li><a class="green" href="#">-Late 1931-32 Standard 8</a></li>
                    <li><a class="green" href="#">-Rare Parts</a></li>
                    <li><a class="green" href="#">-745 Parts</a></li>
            </ul>
        </li>
        <li><a class="green" href="#">{{ linklists.cadillac.title }}</a>
            <ul class="sub-menu">
                <li><a class="green" href="#">-1932-33 V12 &amp; V16</a></li>
                <li><a class="green" href="#">-1934-37 V12 &amp; V16</a></li>
            </ul>
        </li>

        <li><a class="green" href="/cart">Cart</a></li>
        <li><a class="green" href="/checkout">Check Out</a></li>
    </ul><!--Navigation--><!--Navigation-->

    <ul class="sub-navs">
        <ul class-"sub-nav">
            <li>Carburetor</li>
            <li>Parts</li>
            <li>Manifolds</li>
            <li>Accessories</li>
            <li>Sculpture</li>
        </ul>
    </ul>

    <img id="#navbar-logo" src="{{'logo.png' | asset_url}}">
    <p id="nav-phone" class="black center bold">775.842.4282</p>
    <p class="black center nav-small bold">packardcarbs@gmail.com</p>
    <p class="black ce

nter nav-small bold">Sparks, NV USA</p>
</div><!--Navbar--> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-25T17:14:58.200

这是具有问题所需的确切功能的所需输出。

代码见小提琴：http: [//jsfiddle.net/NNfUb/2/](http://jsfiddle.net/NNfUb/2/)

**演示：http:** [//jsfiddle.net/NNfUb/2/embedded/result](http://jsfiddle.net/NNfUb/2/embedded/result)

**CSS：**

```
#content
{
    position:relative;
}

#flyout_container
{
    position:absolute;
    width:175px;
    top:0;
    left:0;
    background:#107042;
    display:none;
}

.sub-nav
{
    padding:0;
    margin:0;
    display:none;
}

.sub-nav li
{
    padding:5px 5px 5px 10px;
    display:block;
    color:#fff;
    font-size:14px;
    font-weight:bold;
} 
```

**jQuery：**

```
$(document).ready(function(){
        var container = $("<div id='flyout_container'>");
        container.appendTo($("#content"));
        var contentHeight = $("#content").height();
        container.css({"height": (contentHeight + 10) + "px"});

        $("a#show_sub_nav_1").mouseover(function(){
            $("#sub_nav_1").appendTo(container).show();
            container.toggle();
            //container.show();
            var fromTop = parseInt($(this).offset().top);
            $("#sub_nav_1").css({"margin-top": (fromTop - 205) + "px"});
        });

        $("#flyout_container").mouseleave(function(){
            $("#flyout_container").hide();
        });

    }); 
```

我通过从您的网页复制您的源代码并进行处理来创建上述小提琴。我已经创建了完整的高度功能，该功能将高度提升到内容高度，并根据屏幕截图中提供的所需设计显示子链接。如果您需要任何更改或增强，则需要对 css 或代码进行 tweek 处理。它适用于每个视口。

**注意：**如果有任何问题，请告诉我。我希望这能解决您的问题，因为我使用了不同的方法。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T05:21:37.400

将元素的位置更改为绝对位置将允许您准确定位它而不会中断文档的流动。

```
.flyout {
    position: fixed;
    left: 0px; (number of pixels from the left edge of the document)
    top: 0px;  (number of pixels from the top edge of the document)
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-24T21:39:20.383

`position: absolute`使位置相对于最近的非静态定位祖先。因此，如果您将导航更改`ul`为`position: relative`，并将弹出菜单更改为`position: absolute`，您将能够设置弹出菜单*相对于主导航*的位置。这意味着即使您调整页面大小，弹出窗口仍将位于正确的位置。

```
#navigation {
  position: relative;
}

.flyout {
  position: absolute;
  top: 0;
  left: 100%;
} 
```

（您也可以设置`#navbar`或`#navigation > li`改为`position: relative`。）

您仍然需要稍微调整定位和其他样式，但希望这能让您走上正确的道路。

# javascript - 添加由另一个变量组成的变量时获取 NaN

> ID：13945257
> 
> 赞同：5
> 
> 时间：2012-12-19T03:54:31.257
> 
> 标签：javascript, nan

```
var dml = 30
var dd = parseFloat(document.getElementById("DriverD").value)     <----- Only numbers like 10
var dm = dd-dml

alert((dd - dml) * 0.75)    <----- This works
alert(dm * 0.75)            <----- This returns NaN
alert(typeof(dm))        <----- This show that dm is a Number 
```

我不确定为什么我不断得到 NaN。我已经尝试过`parseFloat`，`parseInt`但在乘以由变量 (dd-dml) 组成的变量 (dm) 时仍然显示 NaN。dm 是用 dd 或 10-30 减去 dml 的结果。请分享您的解决方案。

我是新来的，我需要帮助，请不要拖钓 :) 我正在尝试在我的网站上添加一个成本计算器。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:05:43.433

对我来说似乎很好。

我想告诉另一个可能的问题：您不检查是否`document.getElementById("DriverD").value`是数字。如果用户输入字符串或其他类型，则会导致问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T04:03:55.150

尝试这个

两个操作数必须转换为 parseFloat

```
<input type="text:" value="10" id="DriverD" />

var dml = parseFloat(30);
var dd = parseFloat(document.getElementById("DriverD").value);
var dm = dd-dml;
alert(dm * .10); 
```

结果是-.2

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T04:58:53.510

您可以到达`NaN`这里的唯一原因是 的`dd`值为`NaN`。因为 的值`dm`被定义为`dd - dml`并且 的值`dml`是一个`Number`值，`30`。

`parseFloat()`总是返回一个`Number`值。运算符仅在必要时`-`将其操作数转换为。`Number`因此，`dm`根据定义， 的值必须是一个`Number`值。

但是，`NaN`是一个`Number`值 ( `typeof NaN === "number"`)，而且它是“有毒的”：一旦操作数是`NaN`，所有以下算术运算的结果都是`NaN`。

这意味着`parseFloat()`必须返回`NaN`，这意味着`parseFloat()`不能将 to 的参数解释为十进制数字表示的前缀。

一个常见的原因是用户键入了千位分隔符（不支持）或十进制逗号，而仅支持小数点。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2015-08-08T11:58:25.650

**试试** **这个**

```
 var dml = 30;
    var dd = parseFloat(document.getElementById("DriverD").value)   ;  <----- Only numbers like 10
    var dm=0;
    dm = dd-dml;

    alert((dd - dml) * 0.75);    <----- This works
    alert(dm * 0.75);            <----- This returns NaN
    alert(typeof(dm));        <----- This show that dm is a Number 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2018-01-06T14:00:02.673

我是新手，但我认为这是类型错误，解决方案：

```
var someV  = parseInt(document.getElementById("some-v-id").value, 10) || 0, 
```

parseInt(value, 10) - 你知道是因为你使用了 parse float，但是两个管道和零可能会阻止你使用 NaN，因为 JavaSrcipt 可能会将 0 视为字符串。

# iphone - iPhone - 以编程方式隐藏辅助触摸视图

> ID：13945259
> 
> 赞同：0
> 
> 时间：2012-12-19T03:54:35.157
> 
> 标签：iphone, ios, touch, assistive

有谁知道如何在播放视频时像 Apple Music App 一样以编程方式隐藏辅助触摸视图？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T03:59:56.533

没有 SDK 方法可以隐藏辅助视图。

Apple iPod App 由 Apple 完成，因此该 App 可能使用了一些私有/未记录的 SDK 调用。

* * *

## 回答 #2

> 赞同：-2
> 
> 时间：2013-07-27T00:37:24.943

就在这里。转到设置，然后是常规，然后是辅助功能，然后是三次单击主页。现在选择辅助触摸。现在，当您希望它消失时，只需三次单击实际 iPhone 上的 Home 按钮或使用 Assustive Touch 图标本身。噗，它不见了！要恢复它，只需再次单击三次。

# php - 如何在点击帖子后发送价值，从 WordPress 的数据库中查询

> ID：13945260
> 
> 赞同：17
> 
> 时间：2012-12-19T03:54:44.440
> 
> 标签：php, wordpress

我正在尝试使用 WordPress 中的颜色框创建概览功能。

让我稍微解释一下。在 WordPress 中，页面有通过以下代码查询的帖子：

```
$lastposts = get_posts( $args );
foreach($lastposts as $post) : setup_postdata($post); 
get_template_part( 'content', get_post_format() ); 
endforeach; 
```

所以这将抓取 WordPress 数据库中的所有帖子。现在每个帖子都是一个产品，所以我想知道是否有一种方法可以向其中添加一些代码，以便为每个帖子设置一个值，一旦有人点击帖子图片，它就会发送该帖子的标题，所以它可以获取该特定产品的概述模板（我将制作的东西）。

**更新：**

这是单击任何图像后打开的 jQuery：

```
<link media="screen" rel="stylesheet" href="<?php echo get_template_directory_uri(); ?>/js/colorbox.css" />
<script src="<?php echo get_template_directory_uri(); ?>/js/jquery.colorbox-min.js" type="text/javascript"></script>

<script type="text/javascript">
    $(function()
    {
        $('.item-post a').colorbox({opacity:0.3, href:"../overviewa512454dzdtfa"});
    });
</script> 
```

我希望将与图像关联的帖子的标题发送到在颜色框中打开的文件。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-24T21:49:27.930

I would put a `rel="<?= $post['title'] ?>"` in your links, so that each link has the post title. (Sorry if `$post['title']`" isn't the right attribute for the WP Post, but you'll find that). Then, in your javascript, pass the title in the URL, like:

```
<script type="text/javascript">
    $(function()
    {
        $('.item-post a').bind('click',function() {
            event.preventDefault();
            var product_title = $(this).attr('rel');
            colorbox({opacity:0.3, href:"../overviewa512454dzdtfa?title=" + product_title});
        });
    });
</script> 
```

You should either URL encode the title you're passing inside the `rel="` tag, or do it with javascript when you pass it to the colorbox.

Then, the overview page, you can access the title with `$_REQUEST['title']`.

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T08:57:28.553

content-page.php、content-aside.php 等是 WP 主题中用于在循环中输出产品的文件，因为您的代码中有这一行：

```
get_template_part( 'content', get_post_format() ); 
```

所以基本上，您需要做的就是打开这些文件，并在输出每个帖子的内容的部分中，使用您的帖子的 ID 将帖子图像包围起来（`<a href="#" id="post-<?php the_ID(); ?>">`...

然后，您将能够使用 jQuery 查询中的 ID 轻松地“定位”适当的概述......

# ios - 后台模式下的定时器

> ID：13945261
> 
> 赞同：1
> 
> 时间：2012-12-19T03:55:04.990
> 
> 标签：ios, background, timer

正如我们所知，在后台模式下运行的应用程序存在一些限制。例如，NSTimer 不起作用。我试着写一个像这样的“定时器”，它可以在后台模式下工作。

```
-(UIBackgroundTaskIdentifier)startTimerWithInterval:(NSTimeInterval)interval run:(void (^)())runBlock complete:(void (^)())completeBlock
{
    NSTimeInterval delay_in_seconds = interval;
    dispatch_time_t delay = dispatch_time(DISPATCH_TIME_NOW, delay_in_seconds * NSEC_PER_SEC);
    dispatch_queue_t queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0);

    // ensure the app stays awake long enough to complete the task when switching apps
    UIBackgroundTaskIdentifier taskIdentifier = [[UIApplication sharedApplication] beginBackgroundTaskWithExpirationHandler:^{

        completeBlock();

    }];

    NSLog(@"remain task time = %f,taskId = %d",[UIApplication sharedApplication].backgroundTimeRemaining,taskIdentifier);

    dispatch_after(delay, queue, ^{
        // perform your background tasks here. It's a block, so variables available in the calling method can be referenced here.
        runBlock();

        // now dispatch a new block on the main thread, to update our UI
        dispatch_async(dispatch_get_main_queue(), ^{

            completeBlock();
            [[UIApplication sharedApplication] endBackgroundTask:taskIdentifier];
        });
    });

    return taskIdentifier;

} 
```

我这样调用这个函数：

```
-(void)fire
{
    self.taskIdentifier = [self startTimerWithInterval:10
                                                   run:^{
                                                           NSLog(@"timer!");
                                                           [self fire];
                                                   }
                                              complete:^{

                                                  NSLog(@"Finished");

                                              }];

} 
```

除了有一个问题外，这个计时器完美无缺。后台任务最长周期为 10 分钟。（请参考 startTimerWithInterval 中的 NSLog）。

有什么办法可以让我的计时器工作超过 10 分钟？顺便说一句，我的应用程序是一个 BLE 应用程序，我已经将 UIBackgroundModes 设置为 bluetooth-central。

# javascript - 减少两个canvas html之间的空间

> ID：13945264
> 
> 赞同：2
> 
> 时间：2012-12-19T03:55:45.783
> 
> 标签：javascript, html, canvas, html5-canvas

我正在尝试在附近放置两个画布。但不幸的是，当我包含两个画布时，它会自动在两个画布之间产生一个空间。如何删除那个空白空间或如何加入这两个画布。这是我的[小提琴](http://jsfiddle.net/CQ7MR/)

这是我的代码：

```
<canvas id="button" width="30" height="30" style="border:1px solid #d3d3d3;background-color:green;"></canvas> 
<canvas id="button" width="30" height="30" style="border:1px solid #d3d3d3;background-color:green;"></canvas> 
​ 
```

这是脚本：

```
window.onload=function()
{
var canvas = document.getElementById("button");
var ctx = canvas.getContext('2d');
}​ 
```

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-19T03:58:58.313

HTML 中的换行符被视为空格。只需摆脱两个画布之间的空白：

```
<canvas id="button" width="30" height="30" style="border:1px solid #d3d3d3;background-color:green;">
</canvas><canvas id="button" width="30" height="30" style="border:1px solid #d3d3d3;background-color:green;">
</canvas> 
```

见[小提琴。](http://jsfiddle.net/CQ7MR/2/)

或使用：

```
<canvas id="button" width="30" height="30" style="border:1px solid #d3d3d3;background-color:green;"></canvas><!--
--><canvas id="button" width="30" height="30" style="border:1px solid #d3d3d3;background-color:green;"></canvas> 
```

# ios - 添加另一个视图控制器的视图作为子视图

> ID：13945265
> 
> 赞同：2
> 
> 时间：2012-12-19T03:56:03.743
> 
> 标签：ios

我正在尝试获得弹出效果并希望在另一个视图控制器中设计弹出视图，以便我可以使用 xib 来做到这一点。

当我使用 presentViewController 或 pushViewController 并将背景设置为透明时，我最终看到了窗口的背景颜色。

我尝试使用此代码将子视图添加到导航控制器的视图中，以便我可以让 Info 视图以透明背景覆盖整个屏幕。我也有标签栏来掩盖。

```
InfoVC *vc = [[InfoVC alloc] initWithNibName:@"InfoVC" bundle:nil];
[self.navigationController.view addSubview:vc.view]; 
```

我的问题在我的 InfoVC 内部，当我尝试关闭它时，应用程序将崩溃并显示一些 EXC_BAD_ACCESS 消息：

```
[self.view removeFromSuperview]; 
```

编辑：

我找到了一种方法来阻止它崩溃，但将 InfoVC 设置为 MainVC 中的一个属性。我认为崩溃的原因是当我在 InfoVC 内的操作中调用“self.view”时，它不知道 self 是 MainVC 内的 InfoVC。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T04:59:20.677

```
InfoVC *vc = [[InfoVC alloc] initWithNibName:@"InfoVC" bundle:nil];
[self.navigationController.view addSubview:vc.view]; 
```

不不不不。永远不要那样做。

如果它没有内置的功能来执行此操作（UISplitViewController 的方式，或者导航控制器管理在其中推送和弹出的视图控制器的视图的方式）。

阅读客户容器控制器。我书中的一个例子在这里：

[https://github.com/mattneub/Programming-iOS-Book-Examples/blob/master/ch19p556containerController/p476containerController/ViewController.m](https://github.com/mattneub/Programming-iOS-Book-Examples/blob/master/ch19p556containerController/p476containerController/ViewController.m)

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-20T15:26:42.987

在“模态”呈现的视图控制器出现后，现在呈现的视图控制器下的视图将被删除；这可以节省内存并简化渲染。但是，在您的情况下，您最终也会看到“模态”呈现视图后面的窗口。

下一步自然且看似合乎逻辑的做法是简单地获取一个视图控制器的视图并将其塞入另一个视图控制器中。但是，正如您所发现的，这是有问题的。新插入的视图被视图层次结构安全地保留，它是安全的，但是新的视图控制器就没有那么幸运了，它很快就被释放了。所以当这个新视图试图联系它的控制器时，你会得到一个`EXC_BAD_ACCESS`并且崩溃。正如您所发现的，一种解决方法是简单地让原始视图控制器保持对新视图控制器的强引用。这可以工作......很糟糕。您仍然很有可能获得`UIViewControllerHierarchyInconsistencyException`.

当然，如果您只是想添加在 IB 中创建的小视图，则不需要将视图控制器用作“ ”，并且有许多从文件`File's Owner`创建视图实例的示例。`xib`

这里更有趣的问题是，“苹果将/如何做到这一点？” Apple 一直说视图控制器是封装工作单元的正确控制器。例如，他们的`TWTweetComposeViewController`，你呈现它，它似乎是浮动的。*如何？*

我想到的第一个实现这一点的方法是有一个不清楚的背景。也就是说，在呈现的视图控制器出现之前创建屏幕图像，并将其设置为背景，然后再移除呈现的视图。所以例如（解释如下）：

**QuickSheetViewController.xib**

![在此处输入图像描述](../Images/180167f8d58d485010f2bc50094bdb85.png)

**QuickSheetViewController.h**

```
#import <UIKit/UIKit.h>
@interface QuickSheetViewController : UIViewController
- (IBAction)dismissButtonPressed:(id)sender;
@end 
```

**QuickSheetViewController.m**

```
#import "QuickSheetViewController.h"
#import <QuartzCore/QuartzCore.h>
@implementation QuickSheetViewController {
    UIImage *_backgroundImage;
}
-(void)renderAndSaveBackgroundImageFromVC:(UIViewController *)vc{
    UIGraphicsBeginImageContext(vc.view.bounds.size);
    [vc.view.layer renderInContext:UIGraphicsGetCurrentContext()];
    _backgroundImage = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();
}
-(void)viewWillAppear:(BOOL)animated{
    [super viewWillAppear:animated];
    // save an image of the current view, and set our background to clear so we can see the slide-in.
    [self renderAndSaveBackgroundImageFromVC:self.presentingViewController];
    self.view.backgroundColor = [UIColor clearColor];
}
-(void)viewDidAppear:(BOOL)animated{
    [super viewDidAppear:animated];
    // Time to use our saved background image.
    self.view.backgroundColor = [UIColor colorWithPatternImage:_backgroundImage];
}
-(void)viewWillDisappear:(BOOL)animated{
    [super viewWillDisappear:animated];
    // Set our background to clear so we can see the slide-out.
    self.view.backgroundColor = [UIColor clearColor];
}
- (IBAction)dismissButtonPressed:(id)sender {
    [self dismissViewControllerAnimated:YES completion:nil];
}
- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation{
    return (interfaceOrientation == UIInterfaceOrientationPortrait);
}
@end 
```

这个例子的大部分取决于`renderAndSaveBackgroundImageFromVC:`方法。在其中，我们创建了一个图形上下文，将我们即将覆盖的视图渲染到其中，然后创建一个`UIImage`以供稍后（in `viewDidAppear`）用作背景。

现在只需像这样使用它：

```
QuickSheetViewController *newVC = [[QuickSheetViewController alloc] initWithNibName:nil bundle:nil];
[self presentViewController:newVC animated:YES completion:nil]; 
```

您将看到背景足够长的时间以使动画发生，然后我们使用保存的图像来隐藏当前视图的删除。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-19T04:51:52.690

你永远不能`UIView`删除它的子视图，子视图本身必须从它的超级视图中删除。您可以轻松地遍历子视图并像这样删除它们

```
for (UIView *view in vc.view.subviews) {
  [view removeFromSuperview];
} 
```

参考文档：http: [//developer.apple.com/library/ios/#documentation/uikit/reference/uiview_class/uiview/uiview.html](http://developer.apple.com/library/ios/#documentation/uikit/reference/uiview_class/uiview/uiview.html)

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-19T04:22:18.127

您不应该使用以下内容从其超级视图中删除视图吗？

```
[vc.view removeFromSuperview]; 
```

# c# - 如何将字典的键映射到变量

> ID：13945271
> 
> 赞同：0
> 
> 时间：2012-12-19T03:57:10.207
> 
> 标签：c#, unit-testing, dictionary

我正在创建一个单元测试来查看字典里面是否有某个键。这是程序的一部分，它涉及将键/值对添加到字典中：

```
 public void Subscribe(EvtId inEvent, EvtDelegate inCallbackMethod)
    {
        if(mEventMap.ContainsKey(inEvent))
        {
            mEventMap[inEvent] += inCallbackMethod;
        }
        else
        {
            mEventMap.Add(inEvent, inCallbackMethod);
        }
    } 
```

这是一段单元测试代码：

```
 public void SubscribeTest()
    {
        EventHandlerCs target = new EventHandlerCs(eLayer.1stLayer);

        target.Subscribe(EvtId.AccessChange, AccessChangeVT);

        EventHandlerCs_Accessor target2 = new EventHandlerCs_Accessor(eLayer.1stLayer);

        EvtId expectedEvt = EvtId.AccessChange;
        EvtId actualEvt;

        if (target2.mEventMap.ContainsKey(EvtId.AccessChange))
        {
            // ???
            // Assert.AreEqual(expectedEvt, actualEvt);
        }
    } 
```

如何将键/键本身的实际值（一旦我使用该`ContainsKey`方法在字典中找到它）映射到`actualEvt`单元测试代码中的变量？

如果您需要，请随时询问有关该问题的更多信息。

**更新：**有问题的字典设置为`private`，所以这就是我必须使用访问器的原因。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T04:04:17.993

不是`target2.mEventMap[EvtId.AccessChange]`吗？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T04:31:43.950

我会在字典上使用 TryGetValue 函数。可以在这里找到一个很好的解释。

[http://www.dotnetperls.com/trygetvalue](http://www.dotnetperls.com/trygetvalue)

```
class Program
{
    static void Main()
    {
    var d = new Dictionary<string, int>();
    d.Add("key", 0);
    // This code does two hash lookups.
    int value;
    if (d.TryGetValue("key", out value))
    {
        d["key"] = value + 1;
    }
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T04:53:19.233

代替检查**Contains**调用**TryGetValue**来检查键是否存在，如果存在则检索值。

```
 if (target2.mEventMap.TryGetValue(EvtId.AccessChange, out actualEvt))
{
        Assert.AreEqual(expectedEvt, actualEvt);
} 
```

# php - ExtJs 网格只查看一行

> ID：13945281
> 
> 赞同：3
> 
> 时间：2012-12-19T03:59:27.490
> 
> 标签：php, extjs3, ext-designer

我有 PHP 数组（$test_arr）如下所示

```
Array
(
    [0] => Array
        (
            [INV_ID] => 1
            [INV_TYPE_ID] => CART
            [INV_NO] => CPI0000001
            [INV_DATE] => 17-DEC-12
        )

    [1] => Array
        (
            [INV_ID] => 2
            [INV_TYPE_ID] => CART
            [INV_NO] => CPI0000002
            [INV_DATE] => 17-DEC-12
        )
) 
```

我有这个数组的数据存储

```
 vertStore = new Ext.data.JsonStore 
  ({
  autoLoad: false,
  mode: 'local',
  data: <?php echo $test_arr; ?>,
  fields: 
  [
     'INV_NO',
     'INV_DATE'
  ]                           
  }); 
```

我的网格面板

```
 testPanelUi = Ext.extend(Ext.Panel, {
        width: 400,
        height: 250,
        initComponent: function() {
            this.items = [
                {
                    xtype: 'grid',
                    title: 'ccccc',
                    ref: 'test_ref',
                    id: 'panel_id',
                    columns: [
                        {
                            xtype: 'gridcolumn',
                            dataIndex: 'INV_NO',
                            header: 'INV NO',
                            sortable: true,
                            width: 100,
                            editable: false,
                            id: 'inv_no_id'
                        },
                        {
                            xtype: 'gridcolumn',
                            dataIndex: 'INV_DATE',
                            header: 'Date',
                            sortable: true,
                            width: 100,
                            editable: false,
                            id: 'date_id'
                        }
                    ]
                }
            ];
            testPanelUi.superclass.initComponent.call(this);
        }
    }); 
```

将我的商店加载到网格中

```
this.test_ref.store = vertStore; 
```

但是这个网格只查看数组的第一个数据集（数组中的索引0数据集和网格只显示一行）。如何查看网格中的所有数据。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T06:24:50.220

此网格的问题未在“test_ref”新网格内设置高度，如下所示

```
 testPanelUi = Ext.extend(Ext.Panel, {
    width: 400,
    height: 250,
    initComponent: function() {
        this.items = [
            {
                xtype: 'grid',
                title: 'ccccc',
                ref: 'test_ref',
                height: 400,
                autoHeight: true,
                id: 'panel_id',
                columns: [
                    {
                        xtype: 'gridcolumn',
                        dataIndex: 'INV_NO',
                        header: 'INV NO',
                        sortable: true,
                        width: 100,
                        editable: false,
                        id: 'inv_no_id'
                    },
                    {
                        xtype: 'gridcolumn',
                        dataIndex: 'INV_DATE',
                        header: 'Date',
                        sortable: true,
                        width: 100,
                        editable: false,
                        id: 'date_id'
                    }
                ]
            }
        ];
        testPanelUi.superclass.initComponent.call(this);
    }
}); 
```

# sql - 如何在 SQL 中合并两个表？

> ID：13945282
> 
> 赞同：1
> 
> 时间：2012-12-19T03:59:49.237
> 
> 标签：sql, ms-access-2007

我有两个表 table1 和 table2。两个表都有多个列。

```
table1: serialno , recordno....
table2: recodno,issueid.... 
```

我想从 , 中检索所有行，`table1`条件 为`issueid``table2``table1.recordno=table2.recordno`

`recordno`from`table1`是主键。我正在使用 MS-Access 数据库。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:16:33.247

您可以使用以下任何联接：

JOIN：当两个表中至少有一个匹配时返回行，

LEFT JOIN：返回左表的所有行，即使右表没有匹配，

RIGHT JOIN：从右表返回所有行，即使左表没有匹配，

FULL JOIN：当其中一个表中存在匹配时返回行

在你的情况下：

```
SELECT table1.serialno,table1.recordno, table2.issueid
FROM table1
INNER JOIN table2
ON table1.recordno=table2.recordno
ORDER BY table1.serialno 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T04:05:54.710

```
SELECT table1.serialno,table1.recordno,table2.issueid
FROM table1 LEFT OUTER JOIN table2
ON  table1.recordno=table2.recordno 
```

# c# - LINQ-to-SQL 关系/关联

> ID：13945287
> 
> 赞同：2
> 
> 时间：2012-12-19T04:00:10.597
> 
> 标签：c#, sql, linq-to-sql

自从我使用 Linq-to-Sql 以来已经有一段时间了，但我又试了一下。我遇到了一个问题，我希望能够以我以前认为的某种方式访问​​数据，但我现在不确定。

如果我有以下三个简单的表

```
Person
   - ID

Section
   - ID

PersonSections
   - PersonID
   - SectionID 
```

**PersonSections**表只是对 Person/Section 对象的查找。因此它是一对多的。一个人可以在多个部门。

我希望能够通过以下方式从 Linq-to-Sql DataContext 中调用它。

```
 MyDataContext db = new MyDataContext();

 var person = db.Sections.First(x => ...).Persons.First(x => x...) etc

 or

 var section = db.Persons.First(x => ...).Sections(x => x...) etc 
```

我正在尝试找到更多关于这些关系的文档，因为我对它们有点陌生，所以请轻视你的批评。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-24T14:39:31.673

您提到了人与人之间的一对多关系。

LINQ2SQL 对关系表不是很好，所以最初我建议将部分 id 设置为 person 表上的外键。

还有这个帖子

[http://www.codeproject.com/Articles/39104/LINQ-to-SQL-Many-to-Many-Relationships](http://www.codeproject.com/Articles/39104/LINQ-to-SQL-Many-to-Many-Relationships)

这解释了如何建立多对多关系。这可能是相同的，然后您可以在应用程序中添加逻辑以阻止关系双向发展。

# youtube - 如何使用 HttpClient 将文件上传到 YouTube？

> ID：13945289
> 
> 赞同：1
> 
> 时间：2012-12-19T04:00:22.790
> 
> 标签：youtube, visual-studio-2012, microsoft-metro, httpclient

我有关于上传文件到 Youtube 的问题

调查网页后，我找到了链接[https://developers.google.com/youtube/2.0/developers_guide_protocol_direct_uploading#Sending_a_Direct_Upload_API_Request](https://developers.google.com/youtube/2.0/developers_guide_protocol_direct_uploading#Sending_a_Direct_Upload_API_Request) 并有一些发现可以实现上传。但现在我遇到了如下问题列表：

```
httpClient.DefaultRequestHeaders.Add("Authorization", "Bearer " + access_token);
httpClient.DefaultRequestHeaders.Add("GData-Version", "2.0");
httpClient.DefaultRequestHeaders.Add("X-GData-Key", "key=" + clientID);
httpClient.DefaultRequestHeaders.Add("Slug", "video.wav");
//httpClient.DefaultRequestHeaders.Add("Content-Type", "multipart/related; boundary=\"f93dcbA3\"");
httpClient.DefaultRequestHeaders.Add("Content-Length", "4141440");
httpClient.DefaultRequestHeaders.Add("Connection", "close"); 
```

它会发生异常，其原因是

**误用的标头名称。确保请求标头与 HttpRequestMessage 一起使用，响应标头与 HttpResponseMessage 一起使用，内容标头与 HttpContent 对象一起使用。**

所以我改变了方式

```
var requset = new HttpRequestMessage( new HttpMethod("post"), "https://gdata.youtube.com//feeds/api/users/default/subscriptions");

requset.Headers.Add("Host", "gdata.youtube.com");

requset.Headers.Add("Authorization", "Bearer " + access_token);

requset.Headers.Add("GData-Version", "2.0");

requset.Headers.Add("X-GData-Key", "key=" + simpleKey);
string str = "<?xml version=\"1.0\" encoding=\"UTF-8\"?><entry xmlns=\"http://www.w3.org/2005/Atom\" xmlns:yt=\"http://gdata.youtube.com/schemas/2007\"> <category scheme=\"http://gdata.youtube.com/schemas/2007/subscriptiontypes.cat\" term=\"channel\"/> <yt:username>GoogleDevelopers</yt:username></entry>";

StringContent cnt = new StringContent(str);

cnt.Headers.ContentType = new System.Net.Http.Headers.MediaTypeHeaderValue("application/atom+xml");

cnt.Headers.ContentLength = 270; 
```

但是仍然没有任何效果，有人可以给我一些提示吗？

非常感谢

标记

# javascript - 检测输入类型 html 上的日历更改

> ID：13945292
> 
> 赞同：0
> 
> 时间：2012-12-19T04:00:45.743
> 
> 标签：javascript, jquery, datetimepicker

我使用了来自所谓的[DateTimePicker.js](http://technoscatter.blogspot.com/2011/03/javascript-calendar-datetime-picker.html)的日历，并且还在我的 html 中使用了它，例如：

```
<input id="startDate" name="startDate" id="startDate" type="text" size="20" value="">
    <a href="javascript:NewCssCal('startDate','ddMMyyyy','arrow')">
        <img src="images/cal.gif" width="16" height="16" border="0" alt="Pick a date"/></a>
</input> 
```

问题是，我如何检测日历上的任何更改，因为我尝试使用以下 jQuery 进行测试，但显然它不起作用：

```
 <input id="startDate" name="startDate" id = "startDate" type="text" size="20"  value="">
   <script type="text/javascript">$(document).ready(function() {
        $("#startDate").bind('change', function(e) {
            alert('changing date!');
        });
    });
   </script>
   <a href="javascript:NewCssCal('startDate','ddMMyyyy','arrow')">
      <img src="images/cal.gif" width="16" height="16" border="0" alt="Pick a date"/>
   </a>
   </input> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T05:08:16.713

输出（视图源）类似于

```
<input id="startDate" readonly="readonly" name="startDate" id = "startDate" type="text" size="20"  value=""> 
```

其中包含**readonly="readonly"**使您的输入只读，因为没有引发更改事件。

解决方案：

1) 在页面加载时，创建一个变量并将 startDate 文本框值存储在其中，使用 settimeout 函数定期检查文本框值与变量并调用函数来完成更改文本框的任务。

2) 一旦文档准备好并加载 dom，编写代码将文本框只读属性设置为 FALSE 并设置 disabled=true。然后绑定并使用更改事件。

```
$(document).ready(){function(){  your code here }); 
```

3) 使用[jquery UI datepicker](http://jqueryui.com/datepicker/#icon-trigger)，易于使用和实现。

# richtextbox - RadRichTextBoxes - 性能和 UI 问题

> ID：13945296
> 
> 赞同：1
> 
> 时间：2012-12-19T04:01:23.477
> 
> 标签：richtextbox, rad

**问题 1**

为了对我们所有的文本框实施拼写检查，我们将它们替换为 RadRichTextBoxes 和文本输入提供程序。即使拼写检查功能效果很好，它也大大减慢了我们的页面速度（增加了约 14-15 秒）。

当有 3-4 个 RRTB 时，它可以正常工作，但是如果我们放置 100 多个 RRTB（都带有自己的文本提供程序 -TxtDataProvider），就会出现问题。

我们只需要实现拼写检查，无论是使用简单的 TextBoxes 还是 RRTBs。请帮助弄清楚我们可以对 RRTB 进行哪些更改以使其更快，或者甚至提出替代方案。

**问题 2**

当使用 Rad TxtDataProvider 填充 RTB 时，在 RTB 中引入了 10-12px（文本和 RTB 下边框之间）的底部填充，我们无法通过设置 MinHeight 属性来消除它。但是，如果我们删除 TxtDataProvider，我们的 MinHeight 属性就会开始在 RTB 中工作。关于如何使多余的空白消失的任何想法？

任何建议/帮助都会很棒！

讲义

# c++ - 如何在 CodeBlocks 附加链接器选项中指定子系统？

> ID：13945298
> 
> 赞同：11
> 
> 时间：2012-12-19T04:01:42.040
> 
> 标签：c++, linker, mingw, codeblocks, options

我发现 CodeBlocks 的优点之一是它允许我在不创建项目的情况下快速创建、编译和运行文件。但是，这意味着我的所有程序都有控制台窗口，这对于大多数 Windows 应用程序来说是不正常的。

为了摆脱它，我总是不得不创建一个项目，把我的文件放进去，然后导航到我可以点击*GUI Application*而不是*Console Application*的地方。

但是，显然可以在使用 g++.exe 和 ld.exe 构建时指定相同的东西，并且 CodeBlocks 有一个用于附加链接器选项的部分，所以我想我可以把它放在那里以避免总是创建项目的麻烦，但显然我错了。

首先，我发现[了这个问题](https://stackoverflow.com/questions/10003777/how-to-get-ride-of-console-box-of-a-gui-program-compile-by-mingw-codeblock)。当我发现谁回答了这个问题时，我感到很惊讶，但这对我没有帮助，因为这一切的重点是我可以在*不*创建项目的情况下以同样多的努力做到这一点。

显然，`-mwindows`编译器选项会这样做，所以我试着把它放进去`Settings\Compiler and Debugger\Compiler settings\Other options`，它编译和链接很好，但仍然有一个控制台窗口。

接下来，我尝试了`Settings\Compiler and Debugger\Linker settings\Other linker options`. 在 Google 结果的推动下，我尝试在其中添加以下内容，一次激活一个选项，然后进行重建。`-mwindows`据我所知，活跃并没有什么区别。

> -Wl : 无法识别的命令行选项
> --subsystem,windows: 无法识别的命令行选项
> --subsystem, windows: windows - 没有这样的文件或目录。
> --subsystem windows: windows - 没有这样的文件或目录。
> --subsystem=windows: Unregocnized 命令行选项
> --subsystem, console: 控制台 - 没有这样的文件或目录。

[此测试均在从MinGW 发行版](http://nuwen.net/mingw.html)（版本 9.4）获得的最新版本 CodeBlocks、CodeBlocks 12.11 和 GCC 4.7.2 上完成。但是，我相当确定它与 CodeBlocks 10.05 的工作方式相同。

我是否被迫使用项目、使用 makefile 或从命令行构建它，或者是否可以在 CodeBlocks IDE 全局设置中更改此设置？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-20T15:00:04.233

传递`-Wl,--subsystem,windows`给链接器是执行此操作的正确方法。如果它似乎不起作用，请确保您没有在某处插入空格；按原样使用参数。

# android - 是否有任何代码可以在不裁剪和放大android的情况下设置壁纸？

> ID：13945299
> 
> 赞同：5
> 
> 时间：2012-12-19T04:02:06.127
> 
> 标签：android, set, zooming, crop, wallpaper

我正在创建一个画廊应用程序，我的第一个应用程序，这是我的代码

```
 Bitmap bmd = BitmapFactory.decodeStream(is);

    try{
        getApplicationContext().setWallpaper(bmd);
    }catch(IOException e){
        e.printStackTrace();
    } 
```

上面的代码设置了壁纸但是设置后壁纸会被裁剪或缩放！我可以在上面的代码中做任何修改，以便我可以在设置壁纸时不缩放或裁剪！！！！

Lzzzz 帮帮我！！提前致谢 ：-）

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2014-02-05T12:33:52.743

我迟到了。希望它可以帮助您和那些访问您的问题的人：

在您的情况下，尝试通过以下方式将图片调整为设备大小：

```
DisplayMetrics displayMetrics = new DisplayMetrics();
getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);
int height = displayMetrics.heightPixels;
int width = displayMetrics.widthPixels << 1; // best wallpaper width is twice screen width

// First decode with inJustDecodeBounds=true to check dimensions
final BitmapFactory.Options options = new BitmapFactory.Options();
options.inJustDecodeBounds = true;
BitmapFactory.decodeFile(path, options);

// Calculate inSampleSize
options.inSampleSize = calculateInSampleSize(options, width, height);

// Decode bitmap with inSampleSize set
options.inJustDecodeBounds = false;
Bitmap decodedSampleBitmap = BitmapFactory.decodeFile(path, options);

WallpaperManager wm = WallpaperManager.getInstance(this);
try {
    wm.setBitmap(decodedSampleBitmap);
} catch (IOException e) {
    Log.e(TAG, "Cannot set image as wallpaper", e);
} 
```

如果上面的代码不起作用，做一个小的修改：

```
...
WallpaperManager wm = WallpaperManager.getInstance(this);
try {
    wm.setBitmap(decodedSampleBitmap);
    wm.suggestDesiredDimensions(width, height);
} catch (IOException e) {
    Log.e(TAG, "Cannot set image as wallpaper", e);
} 
```

和方法`calculateInSampleSize`：

```
public static int calculateInSampleSize(
            BitmapFactory.Options options, int reqWidth, int reqHeight) {
    // Raw height and width of image
    final int height = options.outHeight;
    final int width = options.outWidth;
    int inSampleSize = 1;

    if (height > reqHeight || width > reqWidth) {

        final int halfHeight = height / 2;
        final int halfWidth = width / 2;

        // Calculate the largest inSampleSize value that is a power of 2 and keeps both
        // height and width larger than the requested height and width.
        while ((halfHeight / inSampleSize) > reqHeight
                && (halfWidth / inSampleSize) > reqWidth) {
            inSampleSize *= 2;
        }
    }

    return inSampleSize;
} 
```

并记得添加权限：

```
<uses-permission android:name="android.permission.SET_WALLPAPER_HINTS"/>
<uses-permission android:name="android.permission.SET_WALLPAPER"/> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2021-04-14T06:41:14.950

最简单的方法是将你的壁纸图片扩展为一个*正方形，将你的内容放在新图片的中心。如果你的设备是 w1024* h600，你的壁纸应该是 1024 *1024。如果你的设备是 w600* h1024，你的壁纸也应该是 1024*1024。

# ios - iOS 动画横着走

> ID：13945301
> 
> 赞同：0
> 
> 时间：2012-12-19T04:02:29.110
> 
> 标签：ios, uiviewanimation

这对我来说似乎非常奇怪。我想做一些动画，然后显示图像。

在我的 viewdidload 中，我为动画设置了图像数组。

```
 self.photoView.animationImages = [NSArray arrayWithObjects:
                                      [UIImage imageNamed:@"App-logoGIFF1.png"],
                                      ...
                                      [UIImage imageNamed:@"App-logoGIFF18.png"],nil];
    self.photoView.animationDuration = 2.0;
    self.photoView.animationRepeatCount = 1;
    self.photoView.hidden = YES; 
```

然后稍后我在 photopickerdidfinishpickingphotoorwhatevermethod 中调用它。当我这样称呼它时：

```
 [self.photoView startAnimating];
    self.photoView.image = image; 
```

我看到了动画，但之后我的图像没有显示。当我尝试先设置图像然后设置动画时：

```
 self.photoView.image = image;
 [self.photoView startAnimating]; 
```

然后我让我的图像显示出来，但我的动画横着走。这有多奇怪？有任何想法吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:05:19.067

尝试更改`imageOrientation`您正在使用的 UIImages 的属性。

# c# - 如何使 Take() 和 Skip() 模块化？

> ID：13945302
> 
> 赞同：1
> 
> 时间：2012-12-19T04:02:29.120
> 
> 标签：c#, linq, bytearray, modular, skip-take

我有一个这样的结构：

```
public struct Response
{
    public string Cmd;
} 
```

而且主要是我有这个字节数组：

```
Decode(StringToByteArray("0100002402433131000000000000000311")); 
```

然后我在这个函数中有一个解码函数，我想像这样执行 Take(5) 和 Skip (3)：

```
byte[] cmd = resp.Skip(5).Take(3).ToArray();
x.Cmd = Encoding.UTF8.GetString(cmd); 
```

我如何制作这个模块化，因为我需要与许多可能位置不同的函数相同，无论如何，我可以分配变量来自动计算它而不是使用 Take(3) 或 Skip (5)？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T04:36:47.587

这是您的其他功能：

```
public T[] SkipTake<T>(IEnumerable<T> items, int skipCount, int takeCount) {
    return items.Skip(skipCount).Take(takeCount).ToArray();
} 
```

它使用泛型，所以我会阅读那些（http://msdn.microsoft.com/en-us/library/512aeb7t(v=vs.90).aspx）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T04:41:41.850

个人认为它是一种扩展方法，（与@siride 的想法相同，但更流畅一些）

例如

```
public static class SkipTakeExtentions{
    public static T[] SkipTake<T>(this IEnumerable<T> items, int skipCount, int takeCount) {
        return items.Skip(skipCount).Take(takeCount).ToArray();
    }
} 
```

用法：

```
thing.SkipTake(1,2); 
```

# c++ - if 语句总是被执行？

> ID：13945312
> 
> 赞同：-4
> 
> 时间：2012-12-19T04:04:58.700
> 
> 标签：c++, if-statement

> **可能重复：**
> [“else”错误之前的预期主表达式](https://stackoverflow.com/questions/13945190/expected-primary-expression-before-else-error)

因此，当我尝试绕过第一个 if 语句以继续程序的其余部分时，它总是执行第一个 if 语句，我只是想知道我对 else 所做的工作是否有效。我已经尝试在 else 语句中包含我的其余代码，但它也不起作用。没有编译器错误，所以请帮助！谢谢你！

```
if(Owin = win)
{
    cout << "The computer has defeated you!\n\n";
    cout << "Would you like to play again? (Y or N) : ";
    cin >> restart;
    if(restart == 'Y' || restart == 'y');
    {  
        cout << "\n\n\n";
        main()    ;  
    }

    else 
    {   
        cout << "Good Bye!\n\n";
        system("pause");
        return(0);
    }  
}
else
{ } 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T04:08:24.267

您使用`=`而不是`==`. 所以你只是分配`win`给`Owin`，这对于`if`, if总是正确的`Owin > 0`。

此外，`;` 从第二个`if`.

编写也是多余的，`else { }`因为您在`else`.

作为模板，这会更好：

```
int main()
{
    // Declarations...

    while(restart != 'Y' && restart != 'y')
    {
        if(Owin == win)
        {
            cout << "The computer has defeated you!\n\n";
            cout << "Would you like to play again? (Y or N) : ";
            cin >> restart;
        }
        else 
        {
            // Do the rest here
        }
    }
    cout << "Good Bye!\n\n";
    system("pause");
    return 0;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T04:09:24.150

if 语句的语法不正确 if 语句的正确语法是

```
if(condition)
{
 //body of if statement
} 
```

您必须使用检查运算符，例如 == not = if 的条件应该返回布尔值

= 用于初始化， == 用于检查两个事物是否相等，否则使用

```
if(Owin > 0) 
```

或使用

```
if(Owin == win) 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T04:08:07.950

`if(Owin = win)``win`如果不是零/空，则始终为真，因为它分配`win`给`Owin`然后检查 的值`Owin`并将非零/非空值视为`TRUE`.

# javascript - 访问主干 js 中的返回值

> ID：13945314
> 
> 赞同：1
> 
> 时间：2012-12-19T04:05:18.770
> 
> 标签：javascript, jquery, backbone.js

在我的主干代码中，我将返回值传递给一个变量，现在我必须使用该变量访问一个特定的值。

以下是服务器返回的值

```
Object {
    readyState = 4, 
    responseText = '{"analysis":{"created_a...s"],"status":"active"}}', 
    status = 201, 
    more...
} 
```

这就是我在控制台中获得上述结果的方式

```
attributes = {
    locale: $action.find('#locale').val(),
    title: $action.find('#title').val(),
    category: $action.find('#category').val(),
    status: $action.find('#analysis_status').val(),
    matrix: $action.find('#analysis_matrix').val(),
    predefined_barriers: barrierTexts,
    features: featureTexts
}

b = this.model.save(attributes); 
```

我想要的是访问`responseText`

我如何使用变量访问它，`b`或者有没有其他好的方法可以做到这一点

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:15:33.053

这是一个异步调用，所以它必须是一个回调。您可以将`success`回调传递给`save`-

```
b = this.model.save(attributes, { success: function(model, response) {

    console.log(b.responseText);
} }); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T04:17:07.587

该[`save`方法](http://backbonejs.org/#Model-save)返回由内部使用的[`jqXHR`对象](http://api.jquery.com/jQuery.ajax/#jqXHR)返回的对象[`jQuery.ajax`](http://api.jquery.com/jQuery.ajax/)，因此您可以像往常一样向它添加一个回调：

```
this.model.save(attributes).done(function(data) {
    // you could use
    this.responseText
    // but you probably will use the already parsed JSON
    data
}); 
```

# c# - LINQ Select() 或 ForEach 循环

> ID：13945317
> 
> 赞同：2
> 
> 时间：2012-12-19T04:05:35.267
> 
> 标签：c#, linq, generics, foreach

我是仿制药的新手，但我知道我需要使用它们来帮助保持干燥 :)

我正在尝试创建一个类，它将许多不同类型的列表转换为一个由下拉列表控件使用但无法使其工作的公共类。我在下面的方法中展示了 2 个选项来尝试这个，试图让每个选项工作（一个 foreach 循环和一个 linq），但无济于事。

```
private static IEnumerable<ddlOptions> GetDDLOptionsViewModel<T>(List<T> genericList, string strPropName)
{
    // option A: ForEach loop
    Type type = genericList.GetType();
    var IdProperty = type.GetProperty("Id");
    var DisplayNameProp = type.GetProperty(strPropName);

    List<ddlOptions> options = new List<ddlOptions>();
    foreach (var l in genericList)
    {
        options.Add(new ddlOptions
            { 
                Id = IdProperty.GetValue(l, null), 
                DisplayName = DisplayNameProp.GetValue(l, null)
            });
    }
    return options;

    // option B - LINQ
    return from l in genericList
           select new ddlOptions
           {
               Id = l.Id,
               DisplayName = l.strPropName
           };
} 
```

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-19T04:27:04.420

您可以使用一个接口来约束`T`包含一个`Id`属性，并且您可以使用 a`Func<T,string>`来访问 T 类型对象的任何给定属性，同时保持类型安全并避免反射：

```
public interface IId
{
  string Id {get;}
}

private static IEnumerable<ddlOptions> GetDDLOptionsViewModel<T>
    (IEnumerable<T> list, Func<T,string> propAccess)
   where T:IId
{
   return list.Select(l => new DdlOption
    {
        Id = l.Id,
        DisplayName = propAccess(l)
    });
} 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-19T04:09:07.317

甚至更短（LINQ 也是如此），一行和一个扩展方法：

```
public static IEnumerable<DdlOption> ToDdlOption<T>(this IEnumerable<T> genericList, string strPropName)
{
    return genericList.Select(l => new DdlOption
        {
            Id = l.Id,
            DisplayName = l.strPropName
        });
} 
```

另外，我会用大写字母命名一个类，并避免使用复数形式。

并且不要忘记通过调用`ToArray()`或实现任何 LINQ 查询结果`ToList()`。

* * *

要将属性名称转换为属性定位 lambda 表达式：

```
public static Func<T, object> ToLambda<T>(this string propertyName)
{
    ParameterExpression param = Expression.Parameter(typeof(T), "x"); // x
    Expression property = Expression.Property(param, propertyName);   // x.PropertyName
    Func<T, object> lambda = Expression.Lambda<Func<T, object>>(      // x => x.PropertyName
            Expression.Convert(property, typeof(object)),
            param)
        .Compile();
    return lambda;
} 
```

用法：

```
// assuming class X { public string PropertyName { get; set; }
var lambda = "PropertyName".ToLambda<X>()
var x = new X { PropertyName = "Hi!" };
string value = lambda(x); // "Hi!" 
```

# jquery - html按钮在平板电脑上不起作用

> ID：13945318
> 
> 赞同：3
> 
> 时间：2012-12-19T04:05:41.207
> 
> 标签：jquery, html

> **可能重复：**
> [如何绑定“touchstart”和“click”事件但不响应两者？](https://stackoverflow.com/questions/7018919/how-to-bind-touchstart-and-click-events-but-not-respond-to-both)

我有一个奇怪的问题，即 html 按钮仅在平板电脑上不起作用。适用于所有浏览器甚至移动设备，但不适用于实际平板电脑。

我以前用过按钮没有问题，看不出有什么区别。我的代码：

```
<button type="button" class="addwebcam">Add Webcam</button> 
```

```
jQuery('.addwebcam').click(function(e) {
    jQuery('#cameraformwebcam').show(); //opens up a new form
    jQuery('.addwebcam').hide(); //now hide the button
}); 
```

我还有其他按钮做不同的事情，它们都是一样的。按下平板电脑上的按钮只会突出显示它。我该如何调试呢？我已经尝试过用户代理，但它们不能帮助我进行调试，因为问题在于点击该实际设备上的按钮。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:11:00.540

确保正确加载 jQuery 并启用 JS。

* * *

正如[@3dgoo在评论中提到的那样](https://stackoverflow.com/users/1715759/3dgoo)

将`tap`事件与`click`

```
jQuery('.addwebcam').bind('click tap', function(e) {
    jQuery('#cameraformwebcam').show(); //opens up a new form
    jQuery('.addwebcam').hide(); //now hide the button
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T04:09:17.627

尝试这个

替换`<button type="button" class="addwebcam">Add Webcam</button>`为

```
<input type="submit" class="addwebcam" value="Add Webcam"/> 
```

希望这会奏效

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T04:10:12.667

您需要绑定到点击事件。

# ruby-on-rails - 为什么 rails_admin 路由仅适用于 link_to 而不适用于“渲染”

> ID：13945325
> 
> 赞同：5
> 
> 时间：2012-12-19T04:06:35.137
> 
> 标签：ruby-on-rails, ruby-on-rails-3, routes, actionview, rails-admin

我正在尝试以两种方式使用 rails_admin 路由

1.  = link_to "用户", rails_admin.index_path(:model_name => 'user')
2.  = 渲染 rails_admin.index_path(:model_name => 'user')

第一个工作正常，当单击“用户”链接时，它导航到带有 rails_admin 布局的 raisl_admin 用户列表页面。当第二个不起作用时，它会尝试从我的应用程序中获取布局，所以我收到了错误

```
Missing partial /rails_admin/user with {:locale=>[:en], :formats=>[:html], :handlers=>[:erb, :builder, :haml, :slim]} 
```

这两个链接有什么区别？如何让第二个工作？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-19T04:32:38.407

渲染器正在寻找`/rails_admin/_user.html.erb`要包含在当前视图中的部分文件。请注意，在视图中使用与在控制器中`render`使用不同。`render`正在渲染的文件名前面带有 a`_`并且默认情况下它使用当前视图的布局。

[http://guides.rubyonrails.org/layouts_and_rendering.html](http://guides.rubyonrails.org/layouts_and_rendering.html)

# android - 在自定义 ArrayAdapter 中单击时不显示新文本

> ID：13945328
> 
> 赞同：1
> 
> 时间：2012-12-19T04:07:31.053
> 
> 标签：android, listview, android-arrayadapter

我自定义一个`ListView`使用`ArrayAdapter`。在`ListView`. 当我点击进入按钮时，它变为相反的不喜欢。

我单击该按钮，函数 onClick 回调，它不会立即显示返回到上一个活动并返回它显示的更改。

当点击按钮“Hay”（喜欢）时，我想要“Hay”更改“Bỏ Hay”（不喜欢）和蓝色。但它是立即！请帮我！谢谢！（对不起，我的英语不好）。

[链接图片 http://dl.dropbox.com/u/14415363/item.png](http://dl.dropbox.com/u/14415363/item.png)

我的代码在这里：它是 Java - CustonArrayAdapter。

```
public class CustomArrayAdapter extends ArrayAdapter<LoiChucItem>{
Holder holder;
public CustomArrayAdapter(Context context, int textViewResourceId, List<LoiChucItem> objects)
{
    super(context, textViewResourceId, objects);
}

@Override
public View getView(int position, View convertView, ViewGroup parent)
{
    // holder pattern
    holder = null;
    if (convertView == null)
    {
        holder = new Holder();

        LayoutInflater layoutInflater = (LayoutInflater) getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
        convertView = layoutInflater.inflate(R.layout.loichuc_item_listview, null);
        holder.tvContent = (TextView) convertView.findViewById(R.id.tvContent);
        holder.btnLike = (Button) convertView.findViewById(R.id.btnLike);
        holder.btnMessage = (Button) convertView.findViewById(R.id.btnMessage);
        holder.btnShare = (Button) convertView.findViewById(R.id.btnShare);
        convertView.setTag(holder);
    }
    else
    {
        holder = (Holder) convertView.getTag();
    }

    holder.tvContent.setText(getItem(position).getContent());
    holder.btnLike = (Button) convertView.findViewById(R.id.btnLike);
    // Không điền trực tiếp vì không nên để position final.
    final int id = getItem(position).getId();
    final int like = getItem(position).getLike();
    if(like == 1){
        holder.btnLike.setTextColor(Color.BLUE);
    } else {
        holder.btnLike.setTextColor(Color.DKGRAY);
    }

    holder.btnLike.setOnClickListener(new View.OnClickListener() {
        @Override
        public void onClick(View v) {
            LoiChucOpenHelper.clickLike(id, like);
            if(like == 1){
                holder.btnLike.setTextColor(Color.DKGRAY);
            } else {
                holder.btnLike.setTextColor(Color.BLUE);
            }
            CustomArrayAdapter.this.notifyDataSetChanged();
        }

    });

    return convertView;
}

class Holder{
    TextView tvContent;
    Button btnLike;
    Button btnMessage;
    Button btnShare;
} 
```

}

这是 xml 文件：item_listview：

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_margin="10dp"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:orientation="vertical" 
android:background="#ffffff">

<TextView 

    android:id="@+id/tvContent"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_margin="10dp"
    android:text="Content"
    android:textSize="18sp"
    />
<LinearLayout 
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="horizontal" 

    >
    <Button 
        android:id="@+id/btnLike"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:drawableLeft="@drawable/rating_good"
        android:gravity="left|center_vertical"
        android:text="Hay"
        android:textSize="10sp"
        />
    <Button 
        android:id="@+id/btnMessage"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:drawableLeft="@drawable/social_send_now"
        android:gravity="left|center_vertical"
        android:text="Tin nhắn"
        android:textSize="10sp"
        />
    <Button 
        android:id="@+id/btnShare"
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:layout_weight="1"
        android:drawableLeft="@drawable/social_share"
        android:gravity="left|center_vertical"
        android:text="Chia sẻ"
        android:textSize="10sp"
        />
</LinearLayout> 
```

这是列表视图

```
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical"
android:background="#a0a0a0" >

<ListView
    android:background="#a0a0a0"
    android:layout_margin="10dp"
    android:id="@android:id/list"
    android:layout_width="match_parent"
    android:layout_height="wrap_content" 
    android:divider="@android:color/transparent"
    android:dividerHeight="10dp"
    android:scrollbars="none"

    >
</ListView> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T04:44:27.080

尝试使您的 ListView 无效。共享 Activity/Fragment 的代码会很有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T04:47:55.383

嘿，这很简单，您可以使用`ToggleButton`，所以如果您按您的语言（Hay）的“Like”按钮，那么“Like”（Hay）按钮的颜色将变为绿色，它会立即显示不喜欢“Bo Hay”不喜欢更多请访问[链接](http://www.edumobile.org/android/android-development/create-a-toggle-button/)

只做一件事

```
 <ToggleButton android:text="ToggleButton" android:id="@+id/toggleButton1" android:layout_width="wrap_content" android:layout_height="wrap_content" android:textOn="Bo Hay" android:textOff="Hay">
            </ToggleButton> 
```

它肯定会为你工作。

# r - 根据范围 R 的色点

> ID：13945333
> 
> 赞同：1
> 
> 时间：2012-12-19T04:07:58.913
> 
> 标签：r, colors, range, col

我正在绘制两个矩阵对的组合，并希望指定行范围的颜色。我提出了对我来说似乎很难看的解决方案。有什么建议可以直接指定要根据指定颜色着色的行（或/和列）范围吗？先感谢您！

```
# C - is combination of two matrices A and B
C <- rbind(A,B)
C_f <- as.factor(c(rep("label1",nrow(A)),rep("label2",nrow(B))))
pairs(C, col=c("red", "blue")[C_f])

# EDIT: added matrix generation as  thelatemail asked
A<-matrix(sample(1:100,rep=T),10,10)
B<-matrix(sample(1:200,rep=T),20,10)
C<-rbind(A,B) 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:20:40.830

你应该能够做到

```
 pairs(C, col=c("red", "blue")[rep(1:2, c(nrow(A), nrow(B)))]) 
```

并消除第二行（即，不需要`C_f`）

# objective-c - 如何编写数据并生成 CSV，然后通过电子邮件作为附件发送？

> ID：13945336
> 
> 赞同：-3
> 
> 时间：2012-12-19T04:08:11.547
> 
> 标签：objective-c, ios, csv, email-attachments

我有一个有 6 列的表。

我想写入 CSV 和电子邮件作为附件。

我该怎么做？

```
-(void)generateCSV
{
//create instance of NSFileManager
NSFileManager *fileManager = [NSFileManager defaultManager];

//create an array and store result of our search for the documents directory in it
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);

//create NSString object, that holds our exact path to the documents directory
NSString *documentsDirectory = [paths objectAtIndex:0];
NSLog(@"Document Dir: %@",documentsDirectory);

NSString *fullPath = [documentsDirectory stringByAppendingPathComponent:[NSString stringWithFormat:@"%@.csv", @"userdata"]]; //add our file to the path
[fileManager createFileAtPath:fullPath contents:[@"" dataUsingEncoding:NSUTF8StringEncoding] attributes:nil]; //finally save the path (file)

surveyarray = [db retrieveSurvey];
CHCSVWriter * csvWriter = [[CHCSVWriter alloc] initWithCSVFile:fullPath atomic:NO];
NSInteger numberOfColumns = 5;
for (NSInteger currentIndex = 0; currentIndex < [surveyarray count]; currentIndex++) {
    id field = [surveyarray objectAtIndex:currentIndex];
    [csvWriter writeField:field];
    if ((currentIndex % numberOfColumns) == (numberOfColumns - 1)) {
        [csvWriter writeLine];
    }
}
[csvWriter release];
} 
```

这是我目前的功能。我在哪里可以找到我的 csv 文件或生成的文件？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-26T23:21:04.523

您的一个问题似乎是我在哪里可以找到我写的文件：在回答这个问题时，如果文件被保存，您正在将文件保存到应用程序的文档目录中。您可以通过启用与 iTunes 的文件共享来检查这一点，以便您可以在 iTunes 中看到该目录。有关如何执行此操作的说明，您可以查看此处。

[http://mobiledevelopertips.com/debugging/using-uifilesharingenabled-for-creating-debug-log-files.html](http://mobiledevelopertips.com/debugging/using-uifilesharingenabled-for-creating-debug-log-files.html)

# c# - 变量初始化（C# 和 C++）

> ID：13945337
> 
> 赞同：3
> 
> 时间：2012-12-19T04:08:16.090
> 
> 标签：c#, c++, visual-studio, variables, initialization

快速提问，当它不必携带正值或负值时，初始化所有“空白或空”变量是否是一种好习惯，例如使用这个：

```
int value = 0; 
```

代替：

```
int value; 
```

我接受 Visual Studio 编译器，据我了解，如果变量没有事先初始化，默认情况下会自动将变量初始化为 0，但我很好奇最佳实践是什么以及潜在的危险（如果有的话）是什么。

尽管我特别指的是 VS 环境中的 C# 和 C++ 语言，但这个问题对所有语言和编译器都是开放的。

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-19T04:11:03.547

> 据我了解，Visual Studio 编译器默认情况下会自动将变量初始化为 0，如果它们没有事先初始化的话

不总是。

范围很重要。类的私有成员会自动分配它们的默认值，但本地范围的变量（即在方法中声明）则不会。 `out`参数不会自动分配。Value 和 Reference 参数总是被赋值（它们要么传入一个值，要么声明一个默认值）。

C# 将允许您在声明*后分配一个值，但**不允许*您引用未分配的变量。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-19T04:10:03.220

初始化变量以防止稍后在程序中出现未定义的行为始终是一种好习惯。一些后来的编译器可能会为您执行此操作，但在较低级别未定义变量不能被编译器捕获，并且可能导致一些非常痛苦的头痛。如果您有大量变量列表，我通常使用大等于语句：

```
int a,b,c,d,g;
a=b=c=d=g=0; //set all to zero 
```

始终将值始终存储在变量中是更大的 C++ 哲学的**一部分**。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-19T04:11:01.243

由于两个原因，初始化语句`int value = 0;`更可取和**良好的编程习惯。**

1.  从可读性的角度来看它更好

2.  它消除了由于未初始化变量而导致问题的可能性（在这种情况下不是，而是在许多其他需要初始化的情况下避免出现问题的做法）。

# javascript - 在Javascript中嵌入coffeescript ...？

> ID：13945338
> 
> 赞同：2
> 
> 时间：2012-12-19T04:08:16.910
> 
> 标签：javascript, coffeescript, embedding

在当前的 javascript 代码库中，我希望能够使用更简洁紧凑的 coffeescript 逐步替换函数/块，并使用 coffeescript 添加新代码。

1.  这是一个好习惯吗？（事实上​​，这不应该是默认方法吗？）
2.  我需要一个实用程序将带有嵌入式咖啡脚本的 javascript 转换为 javascript，并很好地集成到 node.js 环境中？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T12:25:05.020

Javascript to Coffee-script 双向[转换器](http://js2coffee.org/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-12-13T05:41:38.887

我不确定您所说的“带有嵌入式咖啡脚本的javascript”是什么意思，但尽管如此，这是我的建议：

1）每当您保存文件时，使用 Grunt 将您的咖啡脚本编译成 javascript（并且让 Grunt 为您做其他 sutff）

2）在咖啡脚本中进行所有新的开发。一旦你去coffeescript，你就再也不想回去了。它只是更好，而且真的没有缺点。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-19T17:23:49.623

如果目标是使用某种简洁的语言并将现有的 Javascript 代码逐步更新为该语言，那么 Microsoft 的 TypeScript 可能是比 CoffeeScript 更好的选择。Typecript 让您可以混合使用 JavaScript 和 Typescript。

# c - C、检查文件是否存在而不能读/写可能？

> ID：13945341
> 
> 赞同：10
> 
> 时间：2012-12-19T04:08:45.703
> 
> 标签：c, fopen

> **可能重复：**
> [检查文件是否存在于 C 中的最佳方法是什么？（跨平台）](https://stackoverflow.com/questions/230062/whats-the-best-way-to-check-if-a-file-exists-in-c-cross-platform)

我想检查一个文件是否存在。我将测试文件的权限更改为“chmod -r somefile”。但是现在它说该文件不存在，即使它确实存在。

所以我假设如果我没有读取权限，我将无法使用“fopen r”打开文件。但这意味着没有简单的方法来判断文件是否存在或无法读取/写入？

还是我错过了什么？任何帮助都会很棒。

谢谢！

```
int doesFileExist(const char* filename)
{
  FILE* fptr = fopen(filename, "r");
  if (fptr != NULL)
  {
    fclose(fptr);
    printf("File exists\n");
    return 1;
  }
  printf("File doesnt exist\n");
  return 0;
} 
```

更新：感谢大家提供这些很棒的链接和解释！

* * *

## 回答 #1

> 赞同：20
> 
> 时间：2012-12-19T04:16:52.670

`fopen`实际上会尝试打开文件，如果您没有读取权限，则无法执行此操作。为了在不打开文件的情况下检查文件是否存在，请使用[`stat`](http://linux.die.net/man/2/stat); `stat`为您提供有关文件的元数据，并且只需要对包含文件的目录而不是文件本身的读取权限。

```
int doesFileExist(const char *filename) {
    struct stat st;
    int result = stat(filename, &st);
    return result == 0;
} 
```

你可以通过检查`errno`if `result`is not 0 来变得更漂亮；如果`errno`是`ENOENT`，则文件不存在，如果是，`ENOTDIR`则您提供的路径的一部分不是目录，如果是，`EACCESS`则您对路径中的一个目录没有读取权限，因此`stat`无法为您提供回答等等。

另外，请注意，如果您在带有符号链接的平台上（任何类 Unix，或 Windows Vista 或更高版本），您应该知道您是在查询符号链接还是它指向的文件。如果您调用`stat`，那么您正在询问它指向的文件；如果你有一个`dir/link`指向的符号链接`other/file`，那么`stat`将返回关于的结果`other/file`（这通常是你想要的，因为这就是你打开文件时会得到的结果）。但是，如果您对链接本身感到好奇（如果您想知道“确实`dir/link`存在，即使不存在`other/file`？”），那么您应该使用`lstat()`.

`stat()`在 Windows 上作为兼容性包装器工作（他们更喜欢您使用`_stat()`，如果您不使用，则会发出警告），但通常最好使用本机平台 API。在 Windows 上，您可能应该使用[`GetFileAttributes()`](http://msdn.microsoft.com/en-us/library/windows/desktop/aa364944%28v=vs.85%29.aspx)：

```
int doesFileExist(const char *filename) {
    return GetFileAttributes(filename) != INVALID_FILE_ATTRIBUTES;
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T04:16:11.697

您并没有真正检查该文件是否存在于此...您正在检查是否可以以读取权限打开它。它可能由于文件不存在以外的原因而失败。如您所见，您可能没有读取权限。也可能是文件被锁定。

检查这个答案：

[检查 C 中是否存在文件的最佳方法是什么？（跨平台）](https://stackoverflow.com/questions/230062/whats-the-best-way-to-check-if-a-file-exists-in-c-cross-platform/230070#230070)

它建议使用`stat`，这在大多数情况下应该可以工作，除非您对文件所在的目录没有读取权限。

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-19T04:15:32.987

在 Linux（和许多其他系统）上，您可以使用`opendir()`和朋友列出目录。我猜只读文件会出现。其他平台应该也有类似的功能。

# c# - 在 Excel 工作表中插入数据时插入语句中的语法错误

> ID：13945343
> 
> 赞同：2
> 
> 时间：2012-12-19T04:08:49.917
> 
> 标签：c#, asp.net, excel

我在运行时在我的 Windows 窗体中导入 excel 工作表，并通过窗体向其中添加一些数据。当我插入该数据时，它会给出：

> insert into 语句中的语法错误

这是我正在使用的查询：

```
string qry = string.Format("Insert into [Sheet1$] (username,password) values('"+uname+"','"+pwd+"')"); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T04:20:33.413

试试这个，即添加 [] 到列：

```
string qry = string.Format("Insert into [Sheet1$] ([username],[password]) values('"+uname+"','"+pwd+"')"); 
```

也试试不`string.Format()`

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-21T04:36:40.557

代码是正确的，我使用的 excel 文件存在权限问题我没有完全控制该 excel，我更改了权限并且代码开始工作。

# joomla - 找到 Joomla 的路径！安装在服务器上

> ID：13945347
> 
> 赞同：1
> 
> 时间：2012-12-19T04:09:14.487
> 
> 标签：joomla, graphical-logo

我是网站维护的新手。

我目前正在使用 Joomla！使用动量模板并想更改模板徽标。据我了解，我需要替换当前的徽标文件，该文件可以在 /templates/rt_momentum_j15/images/logo/dark 中找到。

我正在使用 JCE 文件浏览器（通过控制面板）来细读服务器上的文件。根目录下没有“模板”文件夹，我相信这个文件夹可以在 Joomla! 中找到。已安装。

如何找到 Joomla 在服务器上的安装位置，以便我可以访问模板文件夹？

编辑：通过 JCE 文件浏览器看到的目录结构截图：

![通过 JCE 文件浏览器看到的目录结构截图](../Images/1e6a1149351de6ee497632660ccb118e.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T05:49:49.503

下载一个文件管理器，例如 Filezilla（我看到你已经完成了）。

连接的用户名和密码与管理员密码不同。您的主机应该有一个控制面板，例如允许您添加 FTP 用户的 cPanel，但是大多数主机都有一个带有控制面板的文件管理器，可以让您维护文件。

否则，您可以从 JED 下载[文件管理](http://extensions.joomla.org/extensions/core-enhancements/file-management)扩展，它将充当 Joomla 后端中的 FTP。

希望这可以帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T09:51:12.660

你也可以试试 Joomla 的[eXtplorer](http://extensions.joomla.org/extensions/core-enhancements/file-management/2630)插件。

# python-3.x - 如何在 Python 3.3 上安装 Fipy

> ID：13945351
> 
> 赞同：3
> 
> 时间：2012-12-19T04:09:35.490
> 
> 标签：python-3.x, installation, package, fipy

我想在 Python3.3（Windows 7 或 Linux/ubuntu-mint）上安装 Fipy，可以吗？我需要使用 Fipy 来改进我的 python3.3 编码。我必须在 python 2.7 中翻译它吗？请问有人知道吗？有什么建议吗？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2013-01-28T20:42:40.610

自去年夏天以来，FiPy 已经能够在 Python 3.x 下运行。仅支持 SciPy 求解器（据我所知，PySparse 和 PyTrilinos 还没有为 Py3k 做好准备）。

有关说明，请参阅[http://www.ctcms.nist.gov/fipy/documentation/USAGE.html#running-under-python-3](http://www.ctcms.nist.gov/fipy/documentation/USAGE.html#running-under-python-3)。我只在 Mac OS X 上尝试过，但它应该也可以在 Linux 和 Windows 上运行。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T05:56:12.403

不，FiPy 不支持 Python 3。您需要使用 Python 2 或帮助更新 FiPy 以支持 Python 3。请联系作者。

# vsto - VSTO：使用 VSTO 加速在 MS Project 中添加任务

> ID：13945354
> 
> 赞同：0
> 
> 时间：2012-12-19T04:09:46.397
> 
> 标签：vsto, ms-project

我正在使用我的 VSTO 向 MS Project 添加大约 3000 个任务。问题在于它的添加速度非常慢 - 大约 28-30 分钟（有时甚至更多）。

我确保使用以下方法禁用屏幕更新： Globals.ThisAddin.Application.ScreenUpdating = false;

是否有解决此问题的已知解决方法，或者这只是 VSTO 的限制？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T06:25:25.633

1.  Project 2010 使用 COM 的速度比 Project 2007 快
2.  禁用自动计算：将 Application.Calculation 设置为 PjCalculation.pjManual
3.  隐藏甘特图 - 在屏幕上只保留一个网格
4.  为不再需要的接口对象调用 Marshal.ReleaseComObject

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-02-20T10:27:39.473

这是我使用 Project 2007 的经验。当然，您的经验可能会有所不同：)

1.  我发现禁用自动计算并没有提供那么多好处，并且可能会损害进一步计算的准确性。

2.  如果您正在使用 UndoTransactions，请不要。这将对时间处理和内存使用的性能产生巨大影响。

3.  调用 ScreenUpdating 具有性能优势，但您必须在每次处理任务之前调用它。

4.  此外，还有一个非常奇怪的提示。尝试抓住 MS Project 窗口的标题栏或用于处理任务的对话框的标题栏，就好像要移动它一样，然后不要释放它。导入速度会快很多倍。

# c++ - 在老板层次结构中找到“顶级”老板仅适用于某些测试用例

> ID：13945356
> 
> 赞同：0
> 
> 时间：2012-12-19T04:09:52.540
> 
> 标签：c++, map

更新：

我已经修复了代码，以便我能想出的每个测试用例都给了我正确的结果，但我仍然缺少一些东西，因为在线法官仍然说它是错误的。我在本段之后立即包含了代码。我知道我采取的方法很丑陋而且效率不高，但我不在乎。我现在只想输出正确的答案。

```
#include <iostream>
#include <map>
#include <string>
#include <queue>

using namespace std;

int main()
{
map<string, string> names;
map<string, int > bossCount;

vector<string> bosses;
string topBoss;
int n;
int max = 0;

cin >> n;

for (int i = 0; i < n; i++)
{
    bool add = true;
    string c1, c2;
    cin >> c1 >> c2;
    names[c1] = c2;
    for (int i = 0; i < bosses.size(); i++)
    {
        if (bosses[i] == c2)
            add = false;
        //bosses.push_back(c2);
    }
    if (add == true)
        bosses.push_back(c2);
}

for (map<string, string>::iterator it = names.begin(); it != names.end(); it++)
    for(int i = 0; i < bosses.size(); i++)
    {
        if (bosses[i] == (*it).second)
        {
            bossCount[bosses[i]]++;
        }
    }

for (map<string, string>::iterator it = names.begin(); it != names.end(); it++)
    for (int i = 0; i < bosses.size(); i++)
    {
        if (bosses[i] == (*it).first)
        {
            bossCount[bosses[i]] = 0;
            bossCount[(*it).second]++;
        }
    }

for (map<string, int>::iterator it = bossCount.begin(); it != bossCount.end(); it++)
{
    if((*it).second == max)
    {
        if ((*it).first < topBoss)
            topBoss = (*it).first;
    }

    if ((*it).second > max)
    {
        max = (*it).second;
        topBoss = (*it).first;
    }       
}   

cout << topBoss;

return 0;
} 
```

我得到了一份他们向其报告的唯一姓名和他们的老板的列表（老板不是唯一的）。然后我必须找出哪个老板的等级最高。这意味着，列表中的几个第一个唯一名称可能有相同的老板，但是那个老板可能有他自己的老板，这意味着第一个唯一的名字回答他们老板的老板，所以老板的老板赢得了等级。这是整个问题：http: [//i.imgur.com/nyTgW.png](http://i.imgur.com/nyTgW.png)

我已经编写了代码，它适用于问题中提供的示例测试用例（输出拿破仑）。它在我抛出的其他一些测试用例中也有效，但是当我使用这个测试用例时它不起作用，例如：

```
4
a b
c b
d b
b e 
```

我相信正确的答案应该是“e”，因为“b”的老板是“e”。在这个测试用例中，我的程序输出 b 。有人可以在这里帮助发现问题吗？

```
#include <iostream>
#include <map>
#include <string>
#include <queue>

using namespace std;

int main()
{
map<string, string> names;
map<string, int > bossCount;

queue<string> next;
vector<string> bosses;
string topBoss;
    int n;
int max = 0;

cin >> n;

for (int i = 0; i < n; i++)
{
    string c1, c2;
    cin >> c1 >> c2;
    names[c1] = c2;
    bosses.push_back(c2);
}

for (map<string, string>::iterator it = names.begin(); it != names.end(); it++)
    for(int i = 0; i < bosses.size(); i++)
    {
        if (bosses[i] != (*it).first)
        {
            bossCount[bosses[i]]++;
        }
    }

for (map<string, int>::iterator it = bossCount.begin(); it != bossCount.end(); it++)
{
    if((*it).second == max)
    {
        if ((*it).first < topBoss)
            topBoss = (*it).first;
    }

    else if ((*it).second > max)
    {
        max = (*it).second;
        topBoss = (*it).first;
    }

}

cout << topBoss;

return 0;
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:23:06.667

听起来您想为层次结构构建一组树，然后进行深度最后遍历。

顶级老板的唯一候选人是没有老板的人。所以数据结构应该很容易记录这一点。（如果层次结构总是有一个最高老板，那么你可以简单地通过返回没有他自己的老板的唯一个人来解决问题。）

所以我建议`std::multimap`从老板到下属。将空/空名称放入地图会返回顶级 Boss。

保留一个堆栈或使用函数递归从组织结构图的顶部导航到底部，然后在从底部到顶部的回程中将层次结构的大小相加。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T04:41:24.210

老板数的计算，

```
for (map<string, string>::iterator it = names.begin(); it != names.end(); it++)
    for(int i = 0; i < bosses.size(); i++)
    {
        if (bosses[i] != (*it).first)
        {
            bossCount[bosses[i]]++;
        }
    } 
```

对我来说似乎错了。

它看起来像“对于每个下属 U：增加所有不是 U 的老板的老板数”。

无论如何，一个简单的方法来计算老板数是使用`std::multiset`. 每次名称作为下属出现时，将其添加到多重集中。多重集中每个名字的最终计数就是这个人拥有的老板数，只有顶级老板有0个老板。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T04:49:04.877

如果你真的想保持你的代码尽可能相似，你可以改变这个：

```
 if (bosses[i] != (*it).first)
    {
        bossCount[bosses[i]]++;
    } 
```

对此

```
 if (bosses[i] == (*it).second)
    {
        bossCount[bosses[i]]++;
    } 
```

但这仍然没有解决你的问题，因为你没有考虑名字属于他们老板的老板的层次结构。

# java - 使用声明 serialVersionUID

> ID：13945362
> 
> 赞同：0
> 
> 时间：2012-12-19T04:10:14.950
> 
> 标签：java

> **可能重复：**
> [什么是 serialVersionUID，我为什么要使用它？](https://stackoverflow.com/questions/285793/what-is-a-serialversionuid-and-why-should-i-use-it)

为什么我们`serialVersionUID`在java类中声明？`serialVersionUID`在*普通*的Java 类中声明有什么用。

```
class Simple
{
    public static final long serialVersionUID=1L;
} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T04:28:03.483

```
serialVersionUID is for Serialization Purpose.
private static final long serialVersionUID = 1L; 
```

没有 serialVersionUID 有时会得到 SerialzationException。参考[java.io.Serializable](http://docs.oracle.com/javase/7/docs/api/java/io/Serializable.html)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T05:08:38.550

你无法得到比 java.io.Serializable 的文档更好的解释：

> 序列化运行时与每个可序列化类关联一个版本号，称为 serialVersionUID，在反序列化期间使用该版本号来验证序列化对象的发送方和接收方是否已加载与序列化兼容的该对象的类。如果接收者为对象加载了一个类，该对象的 serialVersionUID 与相应发送者的类不同，则反序列化将导致 InvalidClassException。可序列化的类可以通过声明一个名为“serialVersionUID”的字段来显式声明自己的serialVersionUID，该字段必须是静态的、最终的和long类型：
> 
> ANY-ACCESS-MODIFIER static final long serialVersionUID = 42L;
> 
> 如果可序列化类没有显式声明 serialVersionUID，则序列化运行时将根据类的各个方面为该类计算默认的 serialVersionUID 值，如 Java(TM) 对象序列化规范中所述。但是，强烈建议所有可序列化的类都显式声明 serialVersionUID 值，因为默认的 serialVersionUID 计算对类细节高度敏感，这些细节可能因编译器实现而异，因此可能在反序列化期间导致意外的 InvalidClassExceptions。因此，为了保证在不同的 java 编译器实现中具有一致的 serialVersionUID 值，可序列化的类必须声明一个显式的 serialVersionUID 值。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T04:13:13.380

Java 提供了一种称为对象序列化的机制，其中对象可以表示为字节序列，其中包括对象的数据以及有关对象类型和存储在对象中的数据类型的信息。

序列化的对象写入文件后，可以从文件中读取并反序列化，即表示对象及其数据的类型信息和字节可用于在内存中重新创建对象。

[http://www.tutorialspoint.com/java/java_serialization.htm](http://www.tutorialspoint.com/java/java_serialization.htm)

# jquery - 如何在 jquery 中使用带有事件 ui 的命名函数

> ID：13945364
> 
> 赞同：1
> 
> 时间：2012-12-19T04:10:25.470
> 
> 标签：jquery

我有这个功能：

```
$( ".timebox" ).draggable({    
     containment: "parent",
     axis: "x" ,
     drag: refactorTimebox(event, ui)
}); 
```

我想调用函数`refactorTimebox(event, ui)`。如何将`event`and`ui`变量传递给我的函数。

线拖动：`refactorTimebox(event, ui)`不起作用。

这是重构时间盒函数：

```
function refactorTimebox(event, ui){
     console.log(ui.position);
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T04:13:05.080

```
$( ".timebox" ).draggable({
    containment: "parent",
    axis: "x" ,
    drag: refactorTimebox
}); 
```

您只需要传递对函数的引用，而不是调用它。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T04:13:27.937

只写没有方法签名的函数名。

```
$( ".timebox" ).draggable({
    containment: "parent",
    axis: "x" ,
    drag: refactorTimebox
}); 
```

[Jsfiddle 演示](http://jsfiddle.net/cb8rZ/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T04:13:26.533

只需按名称传递

```
$( ".timebox" ).draggable({
    containment: "parent",
    axis: "x" ,
    drag: refactorTimebox
}); 
```

插件将使用参数调用它

# sublimetext2 - 如何在所选行前插入空格？

> ID：13945369
> 
> 赞同：14
> 
> 时间：2012-12-19T04:11:07.347
> 
> 标签：sublimetext2

有没有办法在几行选定的行前添加空格或制表符（4 个空格）？因为现在如果更改代码我必须按命令 + 单击选择每一行。

谢谢。

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2012-12-19T04:16:37.693

你有没有尝试过

```
CTRL + ]
CTRL + [ 
```

（方括号）。

或使用

```
Edit -> Line -> Reindent 
```

* * *

## 回答 #2

> 赞同：8
> 
> 时间：2015-01-16T08:59:11.527

要插入*单个*空格，请单击行首，然后使用 cmd（对于 Mac）或 ctrl（对于 Windows）并单击其他行的开头。这与一次选择多个文件的方式相同。现在，当您在前面添加一个空格时，它将添加到您选择的所有行中。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2017-07-07T11:08:27.493

首先通过选择设置您的 TAB（4 个空格）宽度

```
View > Indentation > Tab Width: 4 
```

然后选择要移向**RIGHT**的行数（文本块） 。

终于命中（**在 MAC 上**）

```
Command + Tab    OR
Command + [ 
```

并点击（**在 Windows 上**）

```
Ctrl + Tab       OR
Ctrl + [ 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2021-01-07T14:13:04.433

### 使用带有 2 个空格的缩进

```
View > Indentation > Indent Using Spaces

View > Indentation > Tab Width: 2 
```

# ruby-on-rails - 提取关联列表，带有关联类型、键和类名

> ID：13945370
> 
> 赞同：0
> 
> 时间：2012-12-19T04:11:09.590
> 
> 标签：ruby-on-rails, activerecord

如何获取为模型定义的关联列表。

就像是：

```
class AuthorModel
  has_many :pages, :class_name => PageModel
end

class PageModel
  belongs_to :author, :class_name => AuthorModel
end 
```

`AuthorModel`提取的关联：

```
[ :has_many, :pages, PageModel, [:id, :author_id] ] 
```

`PageModel`提取的关联：

```
[ :belongs_to, :author, AuthorModel, [:author_id, :id] ] 
```

还需要`many-to-many`提取关联。

遍历模型方法，并没有找到任何可以帮助我做到这一点的方法。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T04:47:33.050

这是一种获取所有关联对象数组的方法：

`AuthorModel.reflect_on_all_associations`

# java - 同一 Java 程序的多个编译实例

> ID：13945373
> 
> 赞同：0
> 
> 时间：2012-12-19T04:11:51.260
> 
> 标签：java, compilation, jframe

> **可能重复：**
> [Java 类文件 filename$1.class... 等](https://stackoverflow.com/questions/5073088/java-class-files-filename1-class-etc-question)

我写了一个批处理文件来编译java程序并执行它。当我打开文件位置（通过 GUI）时，我看到同一个文件的许多 .class 文件。

例如，假设我有一个名为“acView.java”的文件

我看到 3 个已编译的 .class 文件 - “acView$1.class” “acView$2.class” 和 “acView.class”

1 美元和 2 美元代表什么？他们为什么在场？

.java 文件是一个 JFrame，如果这很重要的话。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:13:29.977

`$1`简单的意思是类是一个`anonymous`类，数字 1 是由编译器生成的。当你有两个匿名类时，它会在编译的类中`YourClass$1.class`有类似的东西。`YourClass$2.class`

从您的代码中，我相信您正在`Listener`匿名实施一些。

如果您不希望编译器生成多个类，请将代码移至普通类。

# linux - 如何通过 Shell Script 使用并行节点？

> ID：13945376
> 
> 赞同：2
> 
> 时间：2012-12-19T04:12:24.753
> 
> 标签：linux, shell, parallel-processing, nodes

我正在尝试利用并行节点来运行数值模拟。我有节点 #0 到 12，我希望单独使用它们来运行模拟的单独部分。本质上，我需要在一个节点上评估 x=1 到 4 的 f(x)，然后在下一个节点上评估 x=5 到 9 的 f(x)，然后是 x = 10 到 14 的 f(x)下一个，然后从那里开始。最初，我尝试使用如下循环：

```
n=0
while [ $n -le 12 ]
do
   ssh compute-0-$n
   #evaluate the f(x) for the x values that I want
   exit
   n=$(($n+1))
done 
```

但这不起作用，因为每当我使用 ssh compute-0-$n 命令跳转到节点时，与原始 shell 脚本的连接似乎停止了，当我退出节点时，shell 脚本似乎继续快乐方式...我想有更好的方法来实现这一点，但我对此比较陌生，有人可以帮忙吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:17:43.797

首先要了解的是，当您运行 ssh（不带 &）时，ssh 本身会一直运行直到完成。它在远程主机上打开一个新的 shell，并读取命令——但不是来自启动它的脚本的命令。ssh 会话不知道启动它的脚本；它正在等待来自标准输入的命令。

你需要做三件事：

1.  从 ssh 行之后的循环中取出所有代码，并将其放入自己的脚本中（称为 docompute.sh）。
2.  将该脚本放在每个计算节点上，在执行用户的 $PATH 变量中的目录中，然后
3.  在父脚本中，将循环中的所有内容替换为`ssh compute-0-$n docompute.sh &`. 通过`&`在后台运行 ssh 进程，您可以获得所需的并行度。

请参阅[在许多机器上运行相同的脚本](https://stackoverflow.com/questions/13813076/running-same-script-over-many-machines/13813218#13813218)以讨论非常相似的内容。使用 & 在后台运行命令是关键。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2017-07-04T12:56:35.043

GNU Parallel 正是为此类任务而设计的。

```
evaluate_f() {
  x="$1"
  # do some crazy computation
}
seq 48 | env_parallel --env evaluate_f -Snode{1..12} evaluate_f {} 
```

如果机器没有真正被称为 node1 .. node12，那么它会变得更长一点：

```
seq 48 | env_parallel --env evaluate_f -Snode1,nodeb,nodeIII,node0100,node0x5,node6,nodeg,nodeVIII,node01001,node0xa,node11,nodel evaluate_f {} 
```

如果文件中有节点：

```
seq 48 | env_parallel --env evaluate_f --slf my_nodefile evaluate_f {} 
```

这样做的目的是将函数复制`evaluate_f`到远程服务器并在其中使用一个参数从`seq 48`. 默认情况下，它将在服务器中的每个 cpu-core 运行一个作业。如果您的计算不是多线程的并且没有大量的磁盘 I/O，那么这是有道理的。这可以通过 --jobs 进行更改。

`env_parallel`在版本 20160322 中引入，因此请确保您的版本比该版本更新。

GNU Parallel 是一个通用的并行器，可以轻松地在同一台机器上或在您可以通过 ssh 访问的多台机器上并行运行作业。

如果您想在 4 个 CPU 上运行 32 个不同的作业，那么并行化的直接方法是在每个 CPU 上运行 8 个作业：

![简单的调度](../Images/b49d9c00a5a8d2262f0bb2d4e0ebab02.png)

GNU Parallel 会在完成后生成一个新进程 - 保持 CPU 处于活动状态，从而节省时间：

![GNU 并行调度](../Images/f1f6de54e2d9c1a178c9ff51fce42368.png)

**安装**

您应该使用您的包管理器安装 GNU Parallel，但如果 GNU Parallel 没有为您的发行版打包，您可以进行个人安装，这不需要 root 访问权限。这样做可以在 10 秒内完成：

```
(wget -O - pi.dk/3 || curl pi.dk/3/ || fetch -o - http://pi.dk/3) | bash 
```

有关其他安装选项，请参阅[http://git.savannah.gnu.org/cgit/parallel.git/tree/README](http://git.savannah.gnu.org/cgit/parallel.git/tree/README)

**学到更多**

查看更多示例：[http ://www.gnu.org/software/parallel/man.html](http://www.gnu.org/software/parallel/man.html)

观看介绍视频：[https ://www.youtube.com/playlist?list=PL284C9FF2488BC6D1](https://www.youtube.com/playlist?list=PL284C9FF2488BC6D1)

浏览教程：[http ://www.gnu.org/software/parallel/parallel_tutorial.html](http://www.gnu.org/software/parallel/parallel_tutorial.html)

注册电子邮件列表以获得支持：[https ://lists.gnu.org/mailman/listinfo/parallel](https://lists.gnu.org/mailman/listinfo/parallel)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T04:23:32.707

如果在 ubuntu 中，你可以使用 odp 程序。

该程序利用并行 ssh 同时运行命令。用户只需将自己的数据中心配置和脚本写入配置文件，然后使用该程序并行执行即可。

这是网址：http: [//sourceforge.net/projects/odp/](http://sourceforge.net/projects/odp/)

# java - Java - If 语句不起作用（比较字符串）

> ID：13945388
> 
> 赞同：4
> 
> 时间：2012-12-19T04:13:28.480
> 
> 标签：java, string, if-statement, compare

当我从打开的套接字中获取 IP 地址时，因为有人向我发送了一个流，我注意到 IP 有一个正斜杠。

我只是打算简单地省略它。但首先我要验证字符串中的第一个字符是正斜杠：

```
String dataSource = data.getAddress().toString();

if(dataSource.substring(0,1) == "/"){
    System.out.println("trailing forward slash, delete it ");  
    dataSource = dataSource.substring(1);
} 
```

未检测到此 IF 语句。

有人看到我做错了什么吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T04:15:21.963

对于字符串比较使用`equals`方法，因为它比使用`==`运算符更可靠（它比较内容，同时比较`==`引用）：

尝试使用`equals`方法：

```
if(dataSource.substring(0,1).equals("/")){ 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-19T04:16:13.517

请使用 .equals

```
if("/".equals(dataSource.substring(0,1))){
    System.out.println("trailing forward slash, delete it ");  
    dataSource = dataSource.substring(1);
} 
```

而不是==

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-19T04:17:35.270

如果你只想测试，第一个字符，你可以试试这个方法，

**dataSource.charAt(0)=='/'**

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-19T04:15:21.683

你应该使用`.equals`字符串比较所以

```
if(dataSource.substring(0,1) == "/") 
```

应该

```
if ("/".equals(dataSource.substring(0,1))) 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-19T04:15:09.607

您将字符串与 进行比较`==`，这意味着您正在检查这两个字符串是否实际上是相同的字符串引用。

用于`equal()`检查两个字符串是否包含相同的字符。

见： http: [//www.leepoint.net/notes-java/data/expressions/22compareobjects.html](http://www.leepoint.net/notes-java/data/expressions/22compareobjects.html)

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-19T04:15:26.713

使用`.equals(Object)`or`.equalsIgnoreCase(String)`比较字符串。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-12-19T04:16:34.847

你需要做`dataSource.substring(0,1).equals("/")`，它实际上检查字符串的内容。`==`只检查双方是否是同一个对象。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-12-19T04:17:07.297

试试这个

if (("要检查的字符串").equals(myString)){ doSomething(); }

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-12-19T04:28:55.537

`equals`比较值时始终使用。话虽如此，您可以将`indexOf`方法用于您的目的

```
 if (dataSource.indexOf('/') == 0) {
        dataSource = dataSource.substring(1);
    } 
```

* * *

## 回答 #10

> 赞同：0
> 
> 时间：2012-12-19T04:52:06.093

```
String dataSource = "/hell";

        if(dataSource.substring(0,1).equalsIgnoreCase("/")){
            System.out.println("trailing forward slash, delete it ");  
            dataSource = dataSource.substring(1);
        } 
```

运行这个程序。这是工作..

* * *

## 回答 #11

> 赞同：0
> 
> 时间：2012-12-19T07:09:40.710

为什么使用字符串？你只是在为自己制造这个问题。使用提供的数据类型：

```
InetAddress dataSource = data.getInetAddress(); 
```

或者

```
SocketAddress dataSource = data.getRemoteSocketAddress(); 
```

然后你在这两种情况下都有一个语义感知的`.equals()`方法。

# sql - 如何在sql server的Track Table中找到丢失的记录？

> ID：13945393
> 
> 赞同：0
> 
> 时间：2012-12-19T04:14:10.780
> 
> 标签：sql, sql-server-2008

我有 2 个如下表

```
workitem

workId WorkName Status
1      xyz      16
2      abc      16
3      mnc      16

WorkItemTrack
TrackID  workId   Status
1        1        3
2        1        5
3        1        9
4        2        5
5        2        9
6        3        3 
7        3        9 
```

对于 WorkItemTrack 表中的每个“workId”，状态应设置为 3,5 和 9。在上述情况下，对于 workId 2 和 3，“状态”3 和 5 分别缺失。

在上述“workId”2 和 3 的 WorkItemTrack 表中，分别缺少状态 3 和 5。在上述情况下如何找到这两条记录

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T04:38:56.443

这个应该可以的。

```
Select * FROM WorkItem 
WHERE WorkID Not in 
(
  SELECT Distinct WIT.WorkID 
  FROM WorkItemTrack WIT
       JOIN WorkItemTrack WIT1 ON (WIT.WorkID = WIT1.WorkID) AND (WIT1.Status=5)
       JOIN WorkItemTrack WIT2 ON (WIT.WorkID = WIT2.WorkID) AND (WIT1.Status=9)
  WHERE WIT.Status=3
) 
```

# mysql - 是否有任何 Mysql 通信协议库或文档？

> ID：13945404
> 
> 赞同：-3
> 
> 时间：2012-12-19T04:15:27.710
> 
> 标签：mysql, sockets

我们正在为我们的项目中的 mysql 制作一个中间件，我们希望它可以像套接字级别的 mysql-server 一样工作。

是否有与此任务相关的任何类型的库、文档或文章？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T04:18:21.270

它可以在 mysql 网站上找到。

### [第 15 章 MySQL 客户端/服务器协议](http://dev.mysql.com/doc/internals/en/client-server-protocol.html)

# java - 从 PUT HttpServletRequest 获取参数？

> ID：13945413
> 
> 赞同：3
> 
> 时间：2012-12-19T04:16:18.063
> 
> 标签：java, servlets, put

我有一个试图处理 PUT 请求的 HttpServlet，它具有一些表单参数（使用“application/x-www-form-urlencoded”标头发送）。对于 POST，我有相同的设置，但由于某种原因，当我询问参数时，PUT 请求变为空：

```
protected void doPut(HttpServletRequest req, HttpServletResponse resp) throws {
   Map<String,String[]> params = req.getParameterMap();
   System.out.println(params.size());
} 
```

即使我传入参数，参数的大小也是 0。

是否有其他方法可以读取 PUT 请求的参数？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-19T04:26:36.250

请参阅以下 SO 问题，似乎可以回答您的问题：

[Servlet 参数和 doPut](https://stackoverflow.com/questions/855835/servlet-parameters-and-doput)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-19T07:06:02.490

您必须将它们作为参数放在 URL 上。PUT 的主体没有 POST 的语义，后者将其解释为表单参数。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2020-11-01T20:51:37.870

Spring MVC 提供 FormContentFilter 来解析 PUT、PATCH 和 DELETE 的表单数据并将其公开为 servlet 请求参数

[https://docs.spring.io/spring-framework/docs/current/javadocapi/org/springframework/web/filter/FormContentFilter.html](https://docs.spring.io/spring-framework/docs/current/javadocapi/org/springframework/web/filter/FormContentFilter.html)

# javascript - Javascript - 数据访问

> ID：13945415
> 
> 赞同：0
> 
> 时间：2012-12-19T04:16:22.460
> 
> 标签：javascript, database

我正在尝试访问和显示存储在特定 url 中的数据。但是我的代码运行不正确。对此有何建议？

```
function getData( theURL ) {
   var xmlHttp = null;
   xmlHttp = new XMLHttpRequest();
   xmlHttp.open( "GET", theURL, false );
   xmlHttp.send( null );
   return xmlHttp.responseText;
}
var url = "https://cloudant.com/futon/document.html?acharya%2Ftoxtweet/ff558f75077e8c758523cd3bd8ffdf88";
getData(url); 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T04:22:26.303

XMLHttpRequest 仅适用于同一个域。

如果您有服务器端设置，您可以代理所需的页面，以便它从您的服务器到达。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T04:49:58.503

由于 XMLHttpRequest 不允许跨域请求，我相信你可以使用三种解决方案。可用性将取决于您正在集成的服务。

1.  使用 JSONP。如果外部 URL 支持 JSONP 响应，您可以直接使用它来调用跨域。[http://en.wikipedia.org/wiki/JSONP](http://en.wikipedia.org/wiki/JSONP)
2.  服务器端代理（由@Kolink 解释）
3.  服务器端脚本。假设您在服务器端使用 PHP。您可以通过 PHP 调用外部 URL，然后将相关数据输出到您域内的页面。您必须执行此操作的方式取决于服务器端脚本语言。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T04:35:07.947

另一个纯 js 解决方案是使用 YQL，检查： [http](http://christianheilmann.com/2010/01/10/loading-external-content-with-ajax-using-jquery-and-yql/) ://christianheilmann.com/2010/01/10/loading-external-content-with-ajax-using-jquery-and-yql/ （滚动到底部对于完整的脚本） - 工作正常。

# asp.net - 网格视图更新

> ID：13945418
> 
> 赞同：0
> 
> 时间：2012-12-19T04:16:36.957
> 
> 标签：asp.net, linq

我的网格视图的数据源来自使用 linqdatasource 的存储过程。这个 linqdatasource 的参数是文本框（txtSearchKeywords），当我按下搜索按钮时，gridview 根据下面的代码获取数据。现在我喜欢更新或删除gridview的一些行，所以我在gridview中添加了命令字段（编辑/删除）并启用了编辑/删除linqdatasource但我无法更新行，实际上我什至无法输入行。没有任何活动，只显示编辑/更新/取消按钮。请帮助我如何解决？

存储过程：

```
ALTER PROCEDURE [dbo].[spQuickSearchDoc]
  @Searchtext varchar(50)=null
AS
 select DocId,DocumentNo,Title,Unit
 from tblDocuments
 where DocumentNo like '%'+@SearchText + '%'
  or Title like '%'+@SearchText + '%'
  or Unit like '%'+@SearchText + '%' 
```

linq数据源：

```
 <asp:LinqDataSource ID="LinqDataSource2" runat="server" 
          ContextTypeName="EDMSDataContext" OnSelecting="LinqDataSource2_Selecting" 
          EnableDelete="True" EnableUpdate="True" TableName="tblDocuments" EnableInsert="True"  
           >
          <WhereParameters>
    <asp:ControlParameter Name="Subject"
                          ControlID="txtSearchKeywords"
                          PropertyName="Text"
                          Type="String" />
</WhereParameters>
      </asp:LinqDataSource> 
```

网格视图：

```
<asp:GridView ID="GridViewDocuments_Search" runat="server" AutoGenerateColumns=False 
          Visible="False" onrowcommand="GridViewDocuments_Search_RowCommand" DataKeyNames="DocId" 
          PageSize="100" DataSourceID="LinqDataSource2"  >
    <Columns>
        <asp:BoundField DataField="DocumentNo" HeaderText="DocumentNo" 
            SortExpression="DocumentNo" ReadOnly="True" />

        <asp:BoundField DataField="TITLE" HeaderText="TITLE" ReadOnly="True" 
            SortExpression="TITLE" />

       <asp:BoundField DataField="Unit" HeaderText="Unit" SortExpression="Unit" 
            ReadOnly="True" />
        <asp:BoundField DataField="DocId" HeaderText="DocId" ReadOnly="True" 
            SortExpression="DocId" />
        <asp:CommandField ShowEditButton="True" />
        <asp:CommandField ShowDeleteButton="True" />
    </Columns>
</asp:GridView> 
```

代码：

```
public void LinqDataSource2_Selecting(object sender, LinqDataSourceSelectEventArgs e)
 {
_DataContext = new EDMSDataContext();

 var subjectFilter = e.WhereParameters["Subject"];

 var query = _DataContext.spQuickSearchDoc(subjectFilter.ToString());

e.Result = query;
}

  protected void btnSearch_Click(object sender, EventArgs e)
{
    _DataContext = new EDMSDataContext();
    this.LinqDataSource2.WhereParameters["Subject"].DefaultValue = this.txtSearchKeywords.Text;

    GridViewDocuments.Visible = false;
    GridViewDocuments_Search.Visible = true;
    this.GridViewDocuments_Search.DataBind();

} 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T04:32:07.820

DataGridview 中有可用的[RowCommand事件。](http://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.gridview.rowcommand.aspx)您需要调用您的 CommandName 并在其中执行您的操作。请参考给定的链接这对您非常有帮助。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T05:08:05.903

单击网格视图行中的编辑链接时是否出现错误？

您可以处理以下三个事件以更新网格中的数据：

1) 行编辑

2) 行更新

3) 行取消编辑

在 grdiview 中使用事件名称 + linq 数据源进行简单的谷歌搜索将提供足够多的示例来说明如何

# udp - 如何使用 boost::asio 断开 UDP 套接字

> ID：13945422
> 
> 赞同：2
> 
> 时间：2012-12-19T04:16:59.270
> 
> 标签：udp, boost-asio

结合来自[boost 文档](http://www.boost.org/doc/libs/1_52_0/doc/html/boost_asio/reference/basic_datagram_socket/connect/overload1.html)和[连接函数手册](http://linux.die.net/man/2/connect)的信息，我认为*asio::udp::socket::connect*函数用于设置默认发送数据报的地址，以及接收数据报的唯一地址。

这很好用，但手册还指出我应该能够解除关联（断开连接），这就是我遇到的问题。即我希望套接字再次开始从任何地址接收数据包。

手册中进一步写道：

```
Connectionless sockets may dissolve the association by connecting to an
address with the sa_family member of sockaddr set to AF_UNSPEC. 
```

我试过这段代码：

```
asio::udp::endpoint unspecified_endpoint;
assert(unspecified_endpoint.address().is_unspecified()); // OK
socket.connect(unspecified_endpoint); 
```

但这并没有帮助。

* * *

编辑：通过从 boost::asio 页面获取[客户端](http://www.boost.org/doc/libs/1_50_0/doc/html/boost_asio/example/echo/blocking_udp_echo_client.cpp)和[服务器](http://www.boost.org/doc/libs/1_50_0/doc/html/boost_asio/example/echo/blocking_udp_echo_server.cpp)示例来创建一个测试用例。在客户端代码中，我将传出端口号从随机更改为 5192：

```
udp::socket s(io_service, udp::endpoint(udp::v4(), 5192)); 
```

我更改了服务器代码中的功能*服务器*：

```
void server(boost::asio::io_service& io_service, short port)
{
  udp::socket sock(io_service, udp::endpoint(udp::v4(), port));

#define CASE 3

#if CASE == 1
  sock.connect(udp::endpoint());
#elif CASE == 2
  sock.connect(udp::endpoint(ip::address::from_string("127.0.0.1"), 5193));
  sock.connect(udp::endpoint());
#elif CASE == 3
  sock.connect(udp::endpoint(ip::address::from_string("192.168.1.3"), 5192));
  sock.connect(udp::endpoint());
#endif

  for (;;)
  {
    char data[max_length];
    udp::endpoint sender_endpoint;
    size_t length = sock.receive_from(
    boost::asio::buffer(data, max_length), sender_endpoint);
    sock.send_to(boost::asio::buffer(data, length), sender_endpoint);
  }
} 
```

案例 1 和 2 似乎有效，但在案例 3 中，客户不会收到回复。完整的源代码可以在[这里](http://dl.dropbox.com/u/81480906/udp_connect.tar.bz2)找到。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-20T10:34:54.897

如评论中所述，调用`sock.connect(udp::endpoint());`translates to `connect(6, {sa_family=AF_INET, sin_port=htons(0), sin_addr=inet_addr("0.0.0.0")}, 16) = 0`which 与 a `connect`with不同`AF_UNSPEC`，并且不会完全断开 UDP 套接字（它似乎只重置对等端口号）。

我认为没有一种方法可以纯粹通过 boost asio 来实现您想要的，但是您可以只使用本机 POSIX 调用来断开套接字，例如

```
struct sockaddr unspec_addr = { AF_UNSPEC };
::connect(sock.native_handle(), &unspec_addr, sizeof(unspec_addr)); 
```

调试说明：运行程序，`strace`然后使用`netstat -nu`列出UDP套接字。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2022-01-17T11:45:40.930

要保持对库函数的访问，请使用`udp::endpoint`只是`sockaddr`. `sockaddr`使用特定值构造并将其转换为所需的类型。

```
sock.connect(reinterpret_cast<const udp::endpoint &>(static_cast<const sockaddr &>(sockaddr{ AF_UNSPEC }))); 
```

# selenium - 如何使用 Selenium + TestNG 并行运行多个 Class 文件

> ID：13945425
> 
> 赞同：0
> 
> 时间：2012-12-19T04:17:26.853
> 
> 标签：selenium, grid, webdriver, controls, testng

我有一个包含几个测试类的包，每个类都是一个测试用例，它会计数 500-600，

我的问题是如何运行单个 Classess 的并行实例，我知道要在 TESTNG XmL 中指定并使用parallel='Classess' 提及所有类，但在XML 中提及所有类仍然很耗时并且难以维护。

任何替代解决方案？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T05:25:06.560

一种方法是指定包而不是类，并与类并行设置。这将并行调用包内的所有类。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T04:35:30.040

你可以通过制作xml文件来做到这一点

```
 <!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd">

<suite name="Suite to test Wordpress Post Tag Category">

<test name="testing Test_Base">
 <classes>
 <class name="testWordpress.Test_Base" ></class>
 </classes>
</test>

&nbsp;

<test name="testing post">
 <classes>
 <class name="testWordpress.Test_post" ></class>
 </classes>
</test>

<test name="testing Tag">
 <classes>
 <class name="testWordpress.Test_tag" ></class>
 </classes>
</test>

<test name="testing Category">
 <classes>
 <class name="testWordpress.Test_Category" ></class>
 </classes>
</test>

</suite> 
```

要从头开始学习这些东西，请查看此[链接](http://tinyurl.com/blt75bf)

# android - 为什么 Fragment 不直接实现其关联活动的方法，而不是使用接口？

> ID：13945430
> 
> 赞同：0
> 
> 时间：2012-12-19T04:18:16.413
> 
> 标签：android, android-fragments

我正在阅读[“与其他片段通信”](http://developer.android.com/training/basics/fragments/communicating.html#Implement)

它写道：

> 要允许 Fragment 与其 Activity 进行通信，您可以在 Fragment 类中定义一个接口并在 Activity 中实现它。Fragment 在其 onAttach() 生命周期方法期间捕获接口实现，然后可以调用接口方法以与 Activity 通信。

我的问题是：

为什么 Fragment 不直接实现其关联活动的方法，而不是使用接口？使用接口作为 Fragment 及其关联 Activity 之间的媒体有什么好处？

例如，另一种通信方式可以是：在Fragment类中，在onListItemClick()中，我可以直接使用activity.onArticleSelected(position)，而不是mCallback.onArticleSelected(position)；

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2014-02-19T04:36:50.960

在某些情况下，片段可能会失去与活动的关联。我在使用文件选择器时遇到了特殊异常。在这种情况下，您无法根据片段找到任何活动。所以谷歌可能只希望您在片段的 onAttach() Taclifecycle。

# r - 如何在箱线图上放置中位数、第一个四分位数和最后一个四分位数的值？

> ID：13945434
> 
> 赞同：7
> 
> 时间：2012-12-19T04:19:15.560
> 
> 标签：r, boxplot

如何将值放在箱线图上并控制其宽度？

```
X<-c(1,2,,3,4,4,5,5,6,6,6,6,6,7) 
```

我需要写下最小值、最大值、第一个四分位数、中位数和最后一个四分位数的值。我怎么能把它放在那里？

* * *

## 回答 #1

> 赞同：18
> 
> 时间：2012-12-19T04:28:33.537

您可以使用`horizontal = TRUE`获取水平箱线图并`axes = FALSE`删除轴。`staplewex = 1`将装订宽度设置为与盒子宽度相同

然后你可以使用`fivenum`返回用于创建箱线图的统计数据并将它们用作文本标签，摆弄`y`值直到你得到你想要的

```
boxplot(X, horizontal = TRUE, axes = FALSE, staplewex = 1)
text(x=fivenum(X), labels =fivenum(X), y=1.25) 
```

![在此处输入图像描述](../Images/094a73fa270071e54e2154765224dd08.png)

请注意，我`3`为您的示例数据中缺少的值插入了一个`X`

* * *

## 回答 #2

> 赞同：15
> 
> 时间：2015-01-28T14:38:59.853

mnel 提供的答案是完美的，假设（如示例中所示）没有异常值。在这种情况下，下须和上须分别等于最小值和最大值。但是，如果存在异常值并且我们没有*`range = 0`*在箱线图函数中指定，我们将无法获得正确的标签值。相反，我们可以使用：

```
text(x=boxplot.stats(X)$stats, labels = boxplot.stats(X)$stats, y = 1.25) 
```

让我们看一个例子：

**横向**

```
X <- c(1,2,3,3,4,4,5,5,6,6,6,6,10,15)
boxplot(X, horizontal = TRUE, axes = FALSE, staplewex = 1) 
```

1.  值不正确`text(x = fivenum(X), labels = fivenum(X), y = 1.25)`

![在此处输入图像描述](../Images/3cd543f582ee4950d569d300b14be6b2.png)

2.  正确值：`text(x = boxplot.stats(X)$stats, labels = boxplot.stats(X)$stats, y = 1.25)`

![在此处输入图像描述](../Images/7eef95452af46250f128d49c7219a9b1.png)

**垂直**

在内部切换 x 和 y 的参数`text`。

```
boxplot(X, axes = FALSE, staplewex = 1)
text(y = boxplot.stats(X)$stats, labels = boxplot.stats(X)$stats, x = 1.25) 
```

[![在此处输入图像描述](../Images/1ffbe0bae3ce96931a3bf6c91596150c.png)](https://i.stack.imgur.com/VExZa.png)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2017-07-26T18:45:42.203

我在尝试理解箱线图四分位数标签并与汇总函数值进行比较时遇到了一些问题，所以我想与您分享。

有时，与 r 汇总函数值相比，使用 Fivenum 或 stats 的箱线图中的四分位数标签会有所不同。这仅发生在偶数数据集上。

例如（使用文本（x = boxplot.stats(X)$stats, labels = boxplot.stats(X)$stats, y = 1.25)）：

```
product<-c(3,12,20,25,30,35,70,70,80,150)

summary(product)
Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
3.00   21.25   32.50   49.50   70.00  150.00 

boxplot(product,horizontal=TRUE,col="grey",staplewex=1,axes=FALSE)
text(x = boxplot.stats(product)$stats, labels = boxplot.stats(product)$stats, y = 1.25) 
```

[箱线图五号](https://i.stack.imgur.com/CN2Ts.png)

正如您在图片中看到的，这些值不匹配。

在这种情况下，您可以使用分位数功能：

```
text(x=quantile(produto),labels=quantile(produto),y=1.25) 
```

[箱线图分位数](https://i.stack.imgur.com/3RJJZ.png)

现在您应该得到与汇总函数中列出的相同的值。否则，只需忽略汇总函数并改用 FiveNum 值。出现差异的原因是统计学家之间缺乏普遍共识。

谷歌搜索将显示分位数计算的差异。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2017-11-29T14:20:49.957

```
boxplot(X, axes = FALSE, staplewex = 1)
text(y = boxplot.stats(X)$stats, labels = boxplot.stats(X)$stats, x = 1.25) 
```

如何做到这一点，但在多个箱线图中

**示例数据：**

```
a <- data.frame(
    Rank = c(1,2,3,1,2,3,1,2,3,3,2,1,3,2,1,2,1,3,3,3,1,1,2,2,1,3 ),
    Time = c(1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3), 
    Value = c(5,10,15,20,30,50,70,80,100,5,7,9,11,15,17,19,17,19,100,200,300,400,500,700,1000,200))

boxplot(a$Value[a$Rank==1] ~ a$Time[a$Rank==1]) 
```

# html - 如何使用 css 和 html 对齐菜单栏？

> ID：13945435
> 
> 赞同：-3
> 
> 时间：2012-12-19T04:19:17.387
> 
> 标签：html, css

问题是我在我的网站上放置了一个适合整个屏幕或页面的水平菜单栏，所以当我尝试调整大小并缩小菜单栏以使大小与网站上的其他部分相同时，每次我放大和在页面之外，菜单栏与其他部分不成比例地调整大小。

要亲自查看问题，请查看我的网站[http://thenativeisodrafts.tumblr.com](http://thenativeisodrafts.tumblr.com)并尝试放大和缩小页面。

非常感谢！

这是**CSS**：

```
#cssmenu ul {
    margin: 0;
    padding: 0;
}
#cssmenu li {
    margin: 0;
    padding: 0;
}
#cssmenu a {
    margin: 0px;
    padding: 0px;
}
#cssmenu ul {
    list-style: none;
}
#cssmenu a {
    text-decoration: none;
}
#cssmenu {
    height: 70px;
    background-color: rgb(35,35,35);
    border-bottom: 5px solid #cd2c23;
    border-top: 5px solid #cd2c23;
    position:absolute;
    right:241px;
    z-index: 1000;
}
#cssmenu > ul > li {
    float: left;
    margin-left: 15px;
    position: relative;
}
#cssmenu > ul > li > a {
    color: rgb(160,160,160);
    font-family: Verdana, 'Lucida Grande';
    font-size: 15px;
    line-height: 70px;
    padding: 15px 20px;
    -webkit-transition: color .15s;
    -moz-transition: color .15s;
    -o-transition: color .15s;
    transition: color .15s;
}
#cssmenu > ul > li > a:hover {
    color: rgb(250,250,250);
}
#cssmenu > ul > li > ul {
    opacity: 0;
    visibility: hidden;
    padding: 16px 0 20px 0;
    background-color: rgb(250,250,250);
    text-align: left;
    position: absolute;
    top: 55px;
    left: 50%;
    margin-left: -90px;
    width: 180px;
    -webkit-transition: all .3s .1s;
    -moz-transition: all .3s .1s;
    -o-transition: all .3s .1s;
    transition: all .3s .1s;
    -webkit-border-radius: 5px;
    -moz-border-radius: 5px;
    border-radius: 5px;
    -webkit-box-shadow: 0px 1px 3px rgba(0,0,0,.4);
    -moz-box-shadow: 0px 1px 3px rgba(0,0,0,.4);
    box-shadow: 0px 1px 3px rgba(0,0,0,.4);
    z-index: 1000;
}
#cssmenu > ul > li:hover > ul {
    opacity: 1;
    top: 65px;
    visibility: visible;
}
#cssmenu > ul > li > ul:before {
    content: '';
    display: block;
    border-color: transparent transparent rgb(250,250,250) transparent;
    border-style: solid;
    border-width: 10px;
    position: absolute;
    top: -20px;
    left: 50%;
    margin-left: -10px;
}
#cssmenu > ul ul > li {
    position: relative;
}
#cssmenu ul ul a {
    color: rgb(50,50,50);
    font-family: Verdana, 'Lucida Grande';
    font-size: 13px;
    background-color: rgb(250,250,250);
    padding: 5px 8px 7px 16px;
    display: block;
    -webkit-transition: background-color .1s;
    -moz-transition: background-color .1s;
    -o-transition: background-color .1s;
    transition: background-color .1s;
}
#cssmenu ul ul a:hover {
    background-color: rgb(240,240,240);
}
#cssmenu ul ul ul {
    visibility: hidden;
    opacity: 0;
    position: absolute;
    top: -16px;
    left: 206px;
    padding: 16px 0 20px 0;
    background-color: rgb(250,250,250);
    text-align: left;
    width: 160px;
    -webkit-transition: all .3s;
    -moz-transition: all .3s;
    -o-transition: all .3s;
    transition: all .3s;
    -webkit-border-radius: 5px;
    -moz-border-radius: 5px;
    border-radius: 5px;
    -webkit-box-shadow: 0px 1px 3px rgba(0,0,0,.4);
    -moz-box-shadow: 0px 1px 3px rgba(0,0,0,.4);
    box-shadow: 0px 1px 3px rgba(0,0,0,.4);
} 
```

这是**HTML**代码：

```
<div id='cssmenu' style="width:940.5px; margin:auto">
<ul>
   <li class='active '><a href='index.html'><span>Home</span></a></li>
   <li class='has-sub '><a href='#'><span>Products</span></a>
      <ul>
         <li class='has-sub '><a href='#'><span>Product 1</span></a>
            <ul>
               <li><a href='#'><span>Sub Item</span></a></li>
               <li><a href='#'><span>Sub Item</span></a></li>
            </ul>
         </li>
         <li class='has-sub '><a href='#'><span>Product 2</span></a>
            <ul>
               <li><a href='#'><span>Sub Item</span></a></li>
               <li><a href='#'><span>Sub Item</span></a></li>
            </ul>
         </li>
      </ul>
   </li>
   <li><a href='#'><span>About</span></a></li>
   <li><a href='#'><span>Contact</span></a></li>
</ul>
</div> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:35:54.603

问题是`#cssmenu`已经`position: absolute`声明了。删除它，你应该是金色的：

```
#cssmenu {
    height: 70px;
    background-color: #232323;
    border-bottom: 5px solid #CD2C23;
    border-top: 5px solid #CD2C23;
    // position: absolute; // Remove this
    // right: 241px; // And this
} 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T05:50:47.077

您可以删除 cssmenu 的内联 css 并将其添加到您的主 css 文件。

```
 #cssmenu {
   height: 70px;
   background-color: rgb(35,35,35);
   border-bottom: 5px solid #cd2c23;
   border-top: 5px solid #cd2c23;
   width:940.5px;
   margin:auto;
   z-index: 1000;
 } 
```

# php - 将 $_POST 数据发送到 Android Webview

> ID：13945436
> 
> 赞同：1
> 
> 时间：2012-12-19T04:19:26.210
> 
> 标签：php, android, ajax, json, jsonp

所以我有这个位于 WebView 中的 Android 应用程序，它应该将数据传递到服务器（托管站点），不幸的是我做不到，所以我需要你的帮助来解决这个问题。

我从这个站点获得了大部分代码，所以你可能看起来很熟悉。

所以我有这个 HTML 文件，它启动了将数据发送到服务器的功能。

**watch_video.html**

```
 var v_id = getUrlVars()["v_id"];

    $.ajax({

        url: "http://mysite.com/fbtest.php?json_callback=?",
        dataType: "jsonp text",       
        //GET method is used
        type: "POST",

        //pass the data         
        data: 'v_id=' + v_id,

        //Do not cache the page
        cache: false,

        //Cross Domain
        crossDomain: true,

        //success
        success: function (html) {    
            alert(html);         
        } 
```

因此，在使用跨域的服务器（托管站点）中的 PHP 文件中，代码如下：

```
<?php
include("includes/db.php");
header('content-type: application/json; charset=utf-8');
header('Access-Control-Allow-Origin: *');

$v_id = ($_POST['v_id']) ?$_POST['v_id'] : $_GET['v_id'];
$dwatch=date("Y-m-d");
$twatch=date("H:i:s");

$query="insert into watched_videos (fb_id,vid,date_watched,time_watched) values('12345','".$v_id."','".$dwatch."','".$twatch."')";
        $row = mysql_query($query);
?> 
```

**我使用 XAMPP 在本地对此进行了测试，它可以将数据插入数据库中。**

当我在**Android**中安装它并执行相同的功能时，它**不起作用。**

**这是我的 MainActivity.java 代码：**

```
package namename.name;

import android.os.Bundle;
import android.annotation.SuppressLint;
import android.app.Activity;
import android.view.KeyEvent;
import android.view.Menu;
import android.webkit.WebSettings.PluginState;
import android.webkit.WebView;

public class MainActivity extends Activity {

    @SuppressLint("SetJavaScriptEnabled")
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        WebView mWebView = null;
        mWebView = (WebView) findViewById(R.id.webtest);
        mWebView.getSettings().setPluginState(PluginState.ON);
        mWebView.getSettings().setJavaScriptEnabled(true);
        mWebView.loadUrl("file:///android_asset/www/indexbackup.html");
    }

    @Override
    public boolean onKeyDown(int keyCode, KeyEvent event) {
        WebView mWebView = null;
        mWebView = (WebView) findViewById(R.id.webtest);
        if(event.getAction() == KeyEvent.ACTION_DOWN){
            switch(keyCode)
            {
            case KeyEvent.KEYCODE_BACK:
                if(mWebView.canGoBack() == true){
                    mWebView.goBack();
                }else{
                    finish();
                }
                return true;
            }

        }
        return super.onKeyDown(keyCode, event);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }

} 
```

所以回到我在使用 JSONP 在 WebView 中启动函数之前所说的内容，它不起作用。

我想知道我是否有一些东西可以放入我的 android 文件中。

如果有人帮助我，我会很高兴。

提前致谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:22:45.843

问题出在这条线上

```
mWebView.loadUrl("file:///android_asset/www/indexbackup.html"); 
```

你必须像浏览器一样提供正确的文件路径

```
mWebView.loadUrl("http://yoursite/android_asset/www/indexbackup.html"); 
```

# selenium - 如何关闭 Selenium Grid2 服务器？

> ID：13945444
> 
> 赞同：3
> 
> 时间：2012-12-19T04:20:42.353
> 
> 标签：selenium, selenium-webdriver, cmd, selenium-grid

我已经编写了批处理文件来运行 Selenium Grid2 服务器并将节点注册到它，但是如何关闭服务器？

我无法杀死批处理进程，因为它们的 ID 只是“cmd.exe”，我不想杀死所有 cmd.exe，因为 cmd 上可能还有我需要的其他东西正在运行。

谢谢

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2013-03-08T16:20:59.223

Selenium Grid2 服务器有一个生命周期管理器，您可以使用它来关闭它。

您可以通过访问此网址来激活它：

```
http://yourHubIP:4444/lifecycle-manager?action=shutdown 
```

这将退出服务器，您可以使用[wget](https://superuser.com/questions/299754/wget-curl-alternative-native-to-windows)之类的命令行工具来访问它。

```
wget --post-data action=shutdown action=shutdown http://localhost:4444/lifecycle-manager 
```

此刻它没有任何动作，我查看了代码。这也不会优雅地关闭，所有正在运行的测试都会立即被终止。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-21T06:15:15.697

我认为您可以通过指定 selenium 网格端口[在这里得到答案。](https://stackoverflow.com/questions/6204003/kill-a-process-by-looking-up-the-port-being-used-by-it-from-a-bat)

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-19T15:08:38.273

cmd.exe 和 java 进程都存在运行在其中的不可识别子进程的相同问题。幸运的是，java 有一个解决方案，我们可以使用它。

我猜你`java -jar selenium-server.jar`在你的批处理文件中使用了类似的东西。如果是，则 selenium 服务器作为 java 进程运行。所以没有必要杀死cmd.exe。相反，您必须识别运行 selenium 服务器的 java 进程。

为了识别 java 进程，请`jps -l`在命令提示符下使用。'jps' 默认带有 jdk，它会告诉你正在运行的 selenium 服务器的进程 ID。你可以简单地杀死这个进程。

希望这能解决问题。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2013-01-15T20:17:59.940

我可以建议您执行以下操作：

确保在您的域中创建一个唯一用户来启动服务器和节点。有了它，您实际上可以使用本`Taskkill`机命令`Windows OS`来终止`cmd.exe`该用户已启动的所有实例。

几个月前，我在工作中遇到了这个问题（创建用户*selenium-webdriver*），使用它已被证明非常有用，因为我们最终得到了一个每天重启所有服务器和节点的例程。

# machine-learning - 在这种情况下可以使用哪些机器学习算法？

> ID：13945446
> 
> 赞同：1
> 
> 时间：2012-12-19T04:20:57.407
> 
> 标签：machine-learning, weka, prediction

我的数据由以下对象组成。

Obj1 - 颜色 - 形状 - 尺寸 - 价格 - 排名

所以我希望能够预测颜色/形状/尺寸/价格的组合是获得高排名的好组合。甚至一个组合也可以像这样工作：为了获得良好的排名，算法预测这种颜色和这种形状的最佳性能。类似的东西。

这种预测的可取算法是什么？

也可能是，如果您能简要解释我如何处理模型构建，我将不胜感激。比如说：我的数据看起来像

```
Blue pentagon small $50.00 #5
Red  Squre    large $30.00 #3 
```

那么我应该看什么有用的预测模型呢？我应该尝试什么算法来预测，比如最高权重是价格，然后是颜色，然后是尺寸。如果我想预测像红色小形状这样的组合，与粉色小形状相比，它的排名不太可能更高。（本质上是试图组合多个标称值列来进行预测）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T04:31:41.760

听起来您想学习可以解释为人类的模型。根据您的排名变量的类型，可能有许多不同的学习者。

如果排名是分类的（例如星），分类器可能是最好的。Weka有很多。一些产生人类可以理解的模型的是`J48`决策树学习器和`OneR`规则学习器。

如果排名是连续的（例如分数），回归可能更合适。合适的算法是例如`SimpleLogistic`和`LinearRegression`。

或者，您可以尝试使用 Weka 中的任何算法对示例进行聚类，然后分析聚类。也就是说，理想情况下，集群中的示例都具有相同（或非常相似）的排名，您可以查看其他属性的值范围并得出自己的结论。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T04:30:19.113

将组合视为线性方程，并应用蒙特卡罗算法（如**遗传算法**）来调整方程的参数。

* * *

1.  **将颜色/形状/尺寸/价格/排名**编码为数字值。****

***   将组合视为一个**线性方程**，比如说`a*color + b*shape + c*size + d*price = ranking`。

    *   应用遗传算法**调整 a/b/c/d**，以使计算`rankings`尽可能接近真实情况。

    *   最后你得到了方程，你可以用它来：

    1）通过简单的线性规划**找到最大排名；**

    2）通过分配其他参数来**预测排名。****

# ruby-on-rails - Rails 将德国价格保存到数据库

> ID：13945449
> 
> 赞同：0
> 
> 时间：2012-12-19T04:21:56.510
> 
> 标签：ruby-on-rails, model, currency

我想将像“199,99”这样的价格作为浮点数或小数保存到数据库中。

我试图用“。”替换“，”。在带有前置过滤器的模型中。

但价格作为“199.00”传递给之前的过滤器。

有没有办法在模型类中转换它？我知道如何在控制器中执行此操作，但我如何在模型中执行此操作？

谢谢你的帮助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T06:42:52.443

您应该使用 number_to_currency 助手和适当的语言环境

或者，如果您不想弄乱语言环境，请显式声明分隔符。

```
number_to_currency(value_from_db, :unit => "$;", :separator => ".", :delimiter => " ", :format => "%u %n") 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T05:02:30.227

我相信这样做的正确方法是保持 db 值不变，并在您的视图层中创建一个辅助方法以使用您喜欢的格式显示数量

所以基本的想法是，在你的应用程序助手中

```
module ApplicationHelper
   #p for price, just to keep things simple
   def p(amount)
     amount.gsub(".",",")
   end
end 
```

在你看来

```
<%= p(object.price) %> 
```

您的方法的另一个缺点是，如果您将价格保存为`123,34`，您以后将无法进行任何计算。

高温高压

# html - 带有foreignObject HTML输入文本的D3可拖动组导致它不可编辑

> ID：13945454
> 
> 赞同：1
> 
> 时间：2012-12-19T04:22:19.603
> 
> 标签：html, d3.js

我有一个可拖动的组，其中包含一个外来对象，它本身包含一个文本 HTML 输入。

但是，这会导致文本框不可选择/不可编辑，因为拖动事件似乎吞噬了鼠标单击事件。

你能帮我解决这个问题吗？

源代码位于 [http://bl.ocks.org/4334294](http://bl.ocks.org/4334294)

谢谢你

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-29T16:33:28.107

这个问题由[d3-js 谷歌小组的 Tore Nauta 回答](https://groups.google.com/forum/?fromgroups=#!topic/d3-js/t3-lldZNfSA)

诀窍是停止传播。请参阅下面的最后一行代码：

```
handleGroup
        .append("foreignObject")
        .attr("width", 80)
        .attr("height", 37)
        .attr('x', 10)
        .attr( 'y', 5)
        .append("xhtml:body")
        .attr('xmlns','http://www.w3.org/1999/xhtml')
        .html("<input type='text' />")
        .on("mousedown", function() { d3.event.stopPropagation(); }); 
```

# php - web.config 重写规则问题？

> ID：13945456
> 
> 赞同：1
> 
> 时间：2012-12-19T04:22:39.973
> 
> 标签：php, iis-7, url-rewriting, web-config

我使用 IIS 7 URL 重写模块 2 将我的 .htaccess 文件转换为 web.config。

在我的 apache 服务器上使用 .htaccess 时，一切正常。然而，当我在我的 IIS 7 服务器上使用我的 web.config 时，一切都变得糟糕透顶。

我有 3 个管理页面：addcharacter.php、deletecharacter.php、editcharacter.php

代码是：

```
 <li><a href='admin/addcharacter' title='Add Character'>Add Character</a></li>
    <li><a href='admin/deletecharacter' title='Delete Character'>Delete Character</a></li>
    <li><a href='admin/editcharacter' title='Edit Character'>Edit Character</a></li> 
```

问题出在哪里，一旦我转到第一个链接：

www.mywebsite/admin/addcharacter - 第一次工作正常

如果我切换到另一个链接（不管它是什么链接），它会再次附加管理员

www.mywebsite/admin/admin/目标页面

我认为它与 web.config 文件有关，因为这是唯一的区别。

这是我的配置文件的一部分：

```
 <rule name="Imported Rule 9">
                    <match url="^logout$" ignoreCase="false" />
                    <action type="Rewrite" url="logout.php" />
                </rule>
                <rule name="Imported Rule 10">
                    <match url="^admin$" ignoreCase="false" />
                    <action type="Rewrite" url="admin.php" />
                </rule>
                <rule name="Imported Rule 11">
                    <match url="^admin/([A-z][a-z]+)/?$" ignoreCase="false" />
                    <action type="Rewrite" url="admin.php?action={R:1}" appendQueryString="false" />
                </rule>
            </rules>
        </rewrite> 
```

有任何想法吗？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T11:46:00.820

我相信问题在于您的链接，而不是重写规则。您不应该使用相对链接，而是使用绝对链接。当您打开`www.mywebsite/admin/addcharacter`并单击链接`admin/anotherpage`时，浏览器将发送请求`www.mywebsite/admin/admin/anotherpage`。这就是相对链接的工作方式，服务器对此无能为力。但是，您应该在 Apache 服务器上遇到同样的问题。

所以你的链接应该是：

```
<li><a href='/admin/addcharacter' title='Add Character'>Add Character</a></li>
<li><a href='/admin/deletecharacter' title='Delete Character'>Delete Character</a></li>
<li><a href='/admin/editcharacter' title='Edit Character'>Edit Character</a></li> 
```

# java - Selenium RC 在 10 分钟后意外关闭

> ID：13945457
> 
> 赞同：0
> 
> 时间：2012-12-19T04:22:42.460
> 
> 标签：java, selenium, automation, webdriver, selenium-rc

知道这里发生了什么吗？我以前从未遇到过这个问题，突然我不得不为运行超过 10 分钟的测试用例编写自动化代码。我发现服务器在 10 分钟后意外关闭。

它在关闭时在我的日志文件中显示：21:47:49,133 INFO GenericApplicationContext:1002 - Closing org.springframework.context.support.GenericApplicationContext@1ef8cf3：启动日期 [Tue Dec 18 21:37:49 CST 2012]；上下文层次的根

我在我的设置中使用 RemoteControlConfiguration 和 SeleniumServer。

```
 org.openqa.selenium.server.SeleniumServer
 org.openqa.selenium.server.RemoteControlConfiguration 
```

如果不到 10 分钟，所有测试用例都运行良好。我使用的是 2.25 版本。

WebDriver 可能会解决它，但由于其他一些内部问题，目前转向 WebDriver 是不可行的。所以我不研究那个领域。

为了过度确认这是否是超时问题，我还运行了这样的操作：

```
waitForPageToLoad(1000*60*11) 
```

明确通过时间等待 11 分钟并在 10 分钟后关闭。

任何帮助将不胜感激。我正在通过 junit 运行我的 selenium 测试用例。

提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-01-10T07:57:43.853

```
you can also run on different port with different test suites..
hope it might help you 
```

# android - 如何更改文件 URI 字符串

> ID：13945460
> 
> 赞同：2
> 
> 时间：2012-12-19T04:23:03.243
> 
> 标签：android

如何将某些内容更改`file:///system/media/lockscreen/lockscreen_001.jpg`为类似`/mnt/sdcard/myPicture.jpg`
我想更改的原因是如果我想进一步处理， file:/// 是错误的。很难说，但如果我得到`URI`from `Uri uri= data.getData();`is `file:///system/media/lockscreen/lockscreen_001.jpg`，如何处理，因为通常是从`mnt`

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T06:23:57.567

试试这个 ：

```
Uri uri = Uri.parse("file:///system/media/lockscreen/lockscreen_001.jpg");
Toast.makeText(getApplicationContext(), ""+uri.getPath(), Toast.LENGTH_LONG).show(); 
```

`uri.getPath()`将通过消除`file:`扩展为您提供路径。

**编辑 ：**

```
Uri urinew = Uri.parse(uri.getPath()); 
```

这将为您提供带有路径的新 uri。

希望它可以帮助你。

谢谢。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T04:49:59.083

希望这段代码可以帮助你：

```
Uri selectedImage = imageReturnedIntent.getData();
            String[] filePathColumn = {MediaStore.Images.Media.DATA};

            Cursor cursor = getContentResolver().query(selectedImage, filePathColumn, null, null, null);
            cursor.moveToFirst();

            int columnIndex = cursor.getColumnIndex(filePathColumn[0]);
            String filePath = cursor.getString(columnIndex); 
```

# git - GIT：从先前提交分支时的差异

> ID：13945464
> 
> 赞同：1
> 
> 时间：2012-12-19T04:23:23.670
> 
> 标签：git

我有一个git树如下：

```
a -> b -> c-> d (develop)

Files:
b: f1, f2
c: f2, f2, f3
d: f1, f2, f3, f4 
```

我从以前的提交 (b) 中做了一个分支。我做了： git checkout -b test sha_of_b

```
a -> b -> c-> d (develop)
      \-> e (test) 
```

当我`gitg`用来查看树时，它会正确地将我的测试分支中的文件列为`f1`, `f2`. 但是，当我`ls`在终端中进行操作时，我会看到、 和`f1`（`f2`我确保我在测试分支上结帐）。为什么会出现这种差异？我原以为只显示, 。 `f3``f4``ls``f1``f2`

我在另一个文件夹中重复了这个测试（简单的文件实际上命名为`f1` `f2`etc）。但在那里我看到了预期的结果。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T04:45:40.003

你修改过文件吗？如果您对文件进行了本地修改，那么 Git 在切换分支时不会删除它们。

向你展示了什么`git status`？

# bash - 在不同的 grep 关键字上显示不同的上下文？

> ID：13945466
> 
> 赞同：1
> 
> 时间：2012-12-19T04:23:28.410
> 
> 标签：bash, search, grep

我知道`-A` `-B` `-C`可以用来显示 grep 关键字的上下文。

我的问题是，**如何在不同的关键字上显示不同的上下文？**

例如，我如何`-A 5`为猫、`-B 4`狗和`-C 1`猴子显示：

```
egrep -A3 "cat|dog|monkey" <file> 
// this just show 3 after lines for each keyword. 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T14:58:40.037

我认为没有任何方法可以通过单个 grep 调用来做到这一点，但是您可以通过 grep 对每个变量运行一次并连接输出：

```
var=$(grep -n -A 5 cat file)$'\n'$(grep -n -B 4 dog file)$'\n'$(grep -n -C 1 monkey file)
var=$(sort -un <(echo "$var")) 
```

now`echo "$var"`将产生与您从单个命令中获得的相同的输出，加上行号和上下文指示符（`:`前缀表示与模式完全匹配的行，`-`前缀表示由于`-A` `-B`and/or`-C`选项而包含的行） .

到目前为止，我包含行号的原因是为了保留如果您设法在一个语句中做到这一点，您会看到的结果的顺序。如果您喜欢它们，很好，但如果不喜欢，您可以使用以下行将它们删掉：

```
var=$(cut -d: -f2- <(echo "$var") | cut -d- -f2-) 
```

这将通过一次以剪切精确匹配行的前缀，然后再次剪切上下文匹配的前缀。

漂亮的？不。但它有效。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T04:53:38.063

恐怕`grep`不会那样做。您将不得不使用不同的工具。也许编写自己的程序。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T15:39:57.267

这样的事情会做到这一点：

```
awk '
   BEGIN{ ARGV[ARGC++] = ARGV[1] }

   function prtB(nr) { for (i=FNR-nr; i<FNR;     i++) print a[i] }
   function prtA(nr) { for (i=FNR+1;  i<=FNR+nr; i++) print a[i] }

   NR==FNR{ a[NR]; next }

   /cat/    { print; prtA(5) }
   /dog/    { prtB(4); print }
   /monkey/ { prtB(1); print; prtA(1) }

' file 
```

检查函数中循环的数学。例如，您没有说要如何处理包含猴子和狗的行。

编辑：这是一个未经测试的解决方案，它可以在任何匹配项周围打印最大上下文，并让您在命令行上指定上下文，并且不会像上述廉价而愉快的解决方案那样使用尽可能多的内存：

```
awk -v cxts="cat:0:5\ndog:4:0\nmonkey:1:1" '
   BEGIN{
      ARGV[ARGC++] = ARGV[1]
      numCxts = split(cxts,cxtsA,RS)
      for (i=1;i<=numCxts;i++) {
         regex = cxtsA[i]
         n = split(regex,rangeA,/:/)
         sub(/:[^:]+:[^:]+$/,"",regex)
         endA[regex]   = rangeA[n]
         startA[regex] = rangeA[n-1]
         regexA[regex]
      }
   }

   NR==FNR{
      for (regex in regexA) {
         if ($0 ~ regex) {
            start = NR - startA[regex]
            end   = NR + endA[regex]
            for (i=start; i<=end; i++) {
               prt[i]
            }
         }
      }
      next
   }

   FNR in prt

' file 
```

将 cxts 变量中搜索到的模式与您的 RS 值分开，默认为换行符。

# android - 谁能帮我理解我的程序的线程？

> ID：13945469
> 
> 赞同：5
> 
> 时间：2012-12-19T04:23:55.277
> 
> 标签：android, multithreading

我在一个程序上向你们寻求帮助，看来它会奏效。如果我能让线程/异步任务工作。我已经尝试过线程，但我没有让它工作。我尝试进行线程处理的原因是因为我的程序在加载时崩溃了，基本上它的假设是在有人打电话时发送电子邮件，因为我总是把手机放错地方或保持静音，而我我不知道。

**服务-**

```
 public class Callservice extends Service {

    PhoneStateListener listener;
    TelephonyManager tm;

    @Override
    public void onCreate()
    {
           Toast.makeText(getApplicationContext(), "Service has started", Toast.LENGTH_LONG).show();
            listener = new MyphoneStateListener();
            tm = (TelephonyManager)getSystemService(TELEPHONY_SERVICE);
            tm.listen(listener, PhoneStateListener.LISTEN_CALL_STATE);

    }

        public class MyphoneStateListener extends PhoneStateListener
        {
            public void onCallStateChanged(int state, String incomingNumber)
            {
                 switch (state) {  
                    case TelephonyManager.CALL_STATE_IDLE:   
                        break;  
                    case TelephonyManager.CALL_STATE_RINGING: 
                       sendemail(); 
                        break;  
                    case TelephonyManager.CALL_STATE_OFFHOOK:  
                    default:  
                        break;  
                    }  
                    super.onCallStateChanged(state, incomingNumber);  
                }
            }

            private void sendemail()
            {
                Intent i = new Intent(Intent.ACTION_SEND);
                i.setType("message/rfc822");
                i.putExtra(Intent.EXTRA_EMAIL , new String[]{"random@gmail.com"});
                i.putExtra(Intent.EXTRA_SUBJECT , "phone is ringing");
                i.putExtra(Intent.EXTRA_TEXT , "email successfully sent");
                startActivity(Intent.createChooser(i, "send mail..."));
                Toast.makeText(getApplicationContext(), "Email has been sent", Toast.LENGTH_LONG).show();

                    try
                    {
                        startActivity(Intent.createChooser(i, "Send Email..."));
                    }
                    catch(android.content.ActivityNotFoundException ex)
                    {

                    }
            }

    @Override
    public IBinder onBind(Intent arg0) {
        // TODO Auto-generated method stub
        return null;
    }

} 
```

**活动-**

```
public class MainActivity extends Activity {

    Callservice callservice = new Callservice();

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        callservice.onCreate();
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu) {
        // Inflate the menu; this adds items to the action bar if it is present.
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }

} 
```

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-19T04:59:18.897

将 MainActivity 活动更改为从 Activity 启动服务：

```
 public class MainActivity extends Activity {

    //Callservice callservice = new Callservice();

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        startService(new Intent(this,Callservice.class));
    }
   // your code here... 
```

并确保您已将服务添加`AndroidManifest.xml`为：

```
 <service android:name=".Callservice" /> 
```

# android - ListFragment 未显示来自 CursorLoader 的所有项目

> ID：13945470
> 
> 赞同：3
> 
> 时间：2012-12-19T04:24:06.870
> 
> 标签：android, android-cursorloader

我正在尝试使用 CursorLoader 在 ListFragment 中显示来自我的内容提供者的所有行。但它只显示前 10 个项目，我如何让它显示所有项目？

```
@Override public void onActivityCreated(Bundle savedInstanceState){
    super.onActivityCreated(savedInstanceState);
    setEmptyText("No newsfeed items");
    setHasOptionsMenu(false);

    newsfeedCursorAdapter = new NewsfeedCursorAdapter(getActivity(), null);
    this.setListAdapter(newsfeedCursorAdapter);
    getActivity().getSupportLoaderManager().initLoader(0, null, this);      
}

@Override public Loader<Cursor> onCreateLoader(int id, Bundle b){
    return new CursorLoader(getActivity(), baseUri, projection, null, null, null);
}

@Override public void onLoadFinished(Loader<Cursor> loader, Cursor data){
    newsfeedCursorAdapter.changeCursor(data);
}

@Override public void onLoaderReset(Loader<Cursor> loader){
    newsfeedCursorAdapter.changeCursor(null);
} 
```

当显示活动时，我看到：

> “没有新闻源项目”，

然后`intentservice`从 web 服务中提取数据并填充我的内容提供程序，通过 adb shell 从表中手动选择所有项目，我可以看到 sqlite db 中的所有 30 个项目。

内容提供商：

> 查询方法有 cursor.setNotificationUri(getContext().getContentResolver(), uri);
> 
> insert 方法有 getContext().getContentResolver().notifyChange(uri, null);

# hadoop - Cassandra结果上的hadoop mapreduce作业是错误的

> ID：13945471
> 
> 赞同：0
> 
> 时间：2012-12-19T04:24:13.687
> 
> 标签：hadoop, nosql, mapreduce, cassandra

我有 7 个节点 cassandra (1.1.1) 和 hadoop (1.03) 集群（ tasktracker 在每个 cassandra 节点上安装相同）。

我的列族使用宽行模式。1 行包含大约 200k 列（最多大约 300k）。

我的问题是当我们使用 Hadoop 运行分析作业（计算单词出现的次数）时，我收到的结果是错误的（结果太低，正如我在测试记录中所预期的那样）

当我们在作业跟踪器上监控时，有一个奇怪的是地图进度任务指示错误（在我的下图中），并且当我重新运行作业（相同数据）时“地图输入记录”的数量不同。

![在此处输入图像描述](../Images/796bd483b4b959223bfc77f01379e014.png) 这是我的初始化工作代码：

```
 Job job = new Job(conf);
    job.setJobName(this.jobname);
    job.setJarByClass(BannerCount.class);

    job.setMapperClass(BannerViewMapper.class);
    job.setReducerClass(BannerClickReducer.class);
    FileSystem fs = FileSystem.get(conf);

    ConfigHelper.setInputRpcPort(job.getConfiguration(), "9160");
    ConfigHelper.setInputInitialAddress(job.getConfiguration(), "192.168.23.114,192.168.23.115,192.168.23.116,192.168.23.117,192.168.23.121,192.168.23.122,192.168.23.123");
    ConfigHelper.setInputPartitioner(job.getConfiguration(), "org.apache.cassandra.dht.RandomPartitioner");
    ConfigHelper.setInputColumnFamily(job.getConfiguration(), KEYSPACE, COLUMN_FAMILY, true);
    ConfigHelper.setRangeBatchSize(job.getConfiguration(), 500);

    SlicePredicate predicate = new SlicePredicate();
    SliceRange sliceRange = new SliceRange();
    sliceRange.setStart(ByteBufferUtil.EMPTY_BYTE_BUFFER);
    sliceRange.setFinish(ByteBufferUtil.EMPTY_BYTE_BUFFER);
    sliceRange.setCount(200000);
    predicate.setSlice_range(sliceRange);
    ConfigHelper.setInputSlicePredicate(job.getConfiguration(), predicate);

    String outPathString = "BannerViewResultV3" + COLUMN_FAMILY;
    if (fs.exists(new Path(outPathString)))
        fs.delete(new Path(outPathString), true);

    FileOutputFormat.setOutputPath(job, new Path(outPathString));

    job.setInputFormatClass(ColumnFamilyInputFormat.class);
    job.setOutputFormatClass(TextOutputFormat.class);

    job.setMapOutputKeyClass(Text.class);
    job.setMapOutputValueClass(LongWritable.class);

    job.setOutputKeyClass(Text.class);
    job.setOutputValueClass(LongWritable.class);
    job.setNumReduceTasks(28);
    job.waitForCompletion(true);
    return 1; 
```

# android - 如何过滤android中的wifi连接？

> ID：13945475
> 
> 赞同：6
> 
> 时间：2012-12-19T04:24:54.390
> 
> 标签：android, android-wifi

我想禁用用户输入的特定 wifi 连接。

如何获取设备的所有 wifi 连接并启用/禁用特定的？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T05:09:21.147

首先你应该检查设备的wifi是否启用，如果没有启用它。然后使用[WifiManager](http://developer.android.com/reference/android/net/wifi/WifiManager.html)和[getScanResults](http://developer.android.com/reference/android/net/wifi/WifiManager.html#getScanResults%28%29)获取可用的 wifi 列表。这是一段代码，您可以使用。

```
 wifi = (WifiManager) getSystemService(Context.WIFI_SERVICE);
        if (wifi.isWifiEnabled() == false)
        {
            Toast.makeText(getApplicationContext(), "wifi is disabled..making it enabled", Toast.LENGTH_LONG).show();
            wifi.setWifiEnabled(true);
        }   
        this.adapter = new SimpleAdapter(WiFiDemo.this, arraylist, R.layout.row, new String[] { ITEM_KEY }, new int[] { R.id.list_value });
        lv.setAdapter(this.adapter);

        registerReceiver(new BroadcastReceiver()
        {
            @Override
            public void onReceive(Context c, Intent intent) 
            {
               results = wifi.getScanResults();
               size = results.size();
            }
        }, new IntentFilter(WifiManager.SCAN_RESULTS_AVAILABLE_ACTION));                    
    }

    public void onClick(View view) 
    {
        arraylist.clear();          
        wifi.startScan();

        Toast.makeText(this, "Scanning...." + size, Toast.LENGTH_SHORT).show();
        try 
        {
            size = size - 1;
            while (size >= 0) 
            {   
                HashMap<String, String> item = new HashMap<String, String>();                       
                item.put(ITEM_KEY, results.get(size).SSID + "  " + results.get(size).capabilities);

                arraylist.add(item);
                size--;
                adapter.notifyDataSetChanged();                 
            } 
        }
        catch (Exception e)
        { }         
    } 
```

让我知道它是否有效。

# java - http json 服务的任何现有示例

> ID：13945480
> 
> 赞同：0
> 
> 时间：2012-12-19T04:26:09.460
> 
> 标签：java, json, http, sample

我正在尝试实现一个处理来自 Iphone 应用程序的请求的服务器。基本上我打算使用带有http协议的json格式。我相信一定有一些现有的示例/项目可以使用，而不是从头开始。谁能提供一些示例链接。感谢你的帮助。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:36:37.947

请点击[此](http://moca.googlecode.com/svn-history/r899/servers/openmrs-modules/rest/branches/gsocnewbranch/web/src/org/openmrs/module/restmodule/web/RestServlet.java)链接，该链接显示了一个响应 XML 或 JSON 响应的 Servlet。

为了创建 JSON，请查看[这篇](http://answers.oreilly.com/topic/263-how-to-generate-json-from-java/)文章。

# java - 如何用不同的版本参数重构同一个类

> ID：13945481
> 
> 赞同：1
> 
> 时间：2012-12-19T04:26:09.367
> 
> 标签：java, refactoring

像下面的两个类，除了调用不同版本的参数外，它们看起来几乎相同，那么如何重构它们呢？

```
import com.v1.B;
import com.v1.C;
class A1
{
  public A1(B,C)
  public dosomething1()
  {
    //do something with B and C
  }
  public dosomething2()
  {
    //do something
  }
} 
```

A2 类：

```
import com.v2.B;
import com.v2.C;
class A2
{
  public A2(B,C)
  public dosomething1()
  {
    //do something with B and C
  }
  public dosomething2()
  {
    //do something
  }
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:38:21.920

您应该首先为这两种类型创建一个基类或接口，例如`com.v.BaseB`用于`com.v1.B`和`com.v2.B`促进多态性，然后您可以使用单个泛型类而无需任何重复，例如：

```
import com.v.B;
import com.v.C;
class A
{
  public A(B,C)
  public dosomething1()
  {
    //do something with B and C
  }
  public dosomething2()
  {
    //do something
  }
} 
```

# objective-c - 中央调度 (GCD) + 键值观察 (KVO)

> ID：13945482
> 
> 赞同：3
> 
> 时间：2012-12-19T04:26:14.577
> 
> 标签：objective-c, ios, xcode, grand-central-dispatch, key-value-observing

我有一个添加观察者的方法：

```
- (void) method
{
    [currentPlayer addObserver:self forKeyPath:@"some" options:some context:some];
} 
```

所有更改都在这些方法中处理：

```
- (void) observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)context 
```

如果我将方法修改为：

```
- (void) method
{
    dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH, 0), ^{
        [currentPlayer addObserver:self forKeyPath:@"some" options:some context:some];
    });
} 
```

这是否意味着`- (void) observeValueForKeyPath...`它将起作用`DISPATCH_QUEUE_PRIORITY_HIGH`？

PS 我希望 KVO 在 DISPATCH_QUEUE_PRIORITY_HIGH 中工作。

编辑：

我观察 AVPlayer 变量。如：

```
[currentPlayer addObserver:self forKeyPath:@"currentItem.loadedTimeRanges" options:NSKeyValueObservingOptionNew context:kTimeRangesKVO]; 
```

这些变量会自动更改。

每次调用“observeValueForKeyPath”时，我都会检查队列，它仍然存在`dispatch_get_main_queue()`，我不知道如何将其更改为其他队列。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-19T14:29:50.933

作为观察者，您无法控制从哪个线程/队列调用 observeValueForKeyPath。您可以围绕此方法所做的工作将调度包装到您希望的队列中。这会将观察的工作移至高优先级队列。

请确保您知道这项工作可能在与触发观察的代码不同的线程/队列上运行。如果您正在观察的对象不是线程安全的，您将需要在将其余工作分派到不同的队列之前对其进行检查。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-19T05:00:15.650

不，如果您希望以更高的优先级执行 observeValueForKeyPath 方法，则必须从具有更高优先级的线程更改键值。KVO 同步工作，因此 observeValueForKeyPath 方法在更改键值的同一线程上执行.

# android - 如何在操作栏的中心水平设置文本

> ID：13945483
> 
> 赞同：3
> 
> 时间：2012-12-19T04:26:16.933
> 
> 标签：android, android-layout, android-actionbar, android-imageview

我想在操作栏的中心水平设置文本，我想像下图一样放置按钮。

如何在操作栏的中心水平设置文本？

我可以更改操作栏的图标而不是我的吗？

![在此处输入图像描述](../Images/5a55b023cb1cf034af487998ad56a231.png)

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T04:56:09.343

为操作栏使用您自己的 XML 布局。使用您想要的任何布局将文本设置在中心。

在你的`oncreate`方法中：

```
getSupportActionBar().setDisplayOptions(ActionBar.DISPLAY_SHOW_CUSTOM); 
getSupportActionBar().setCustomView(R.layout.your_layout); 
```

# highcharts - Highchart堆积列工具提示问题

> ID：13945484
> 
> 赞同：1
> 
> 时间：2012-12-19T04:26:18.273
> 
> 标签：highcharts

我在我的应用程序中使用 Highstock-1.2.4 和 jQuery。在其中一个对话框中，我将 highstocks 堆叠列。

我的问题是，如果存在具有大 y 轴值（例如 200 单位）的图以及具有小 y 轴值（例如 1 单位）的图，则小图的工具提示将无法正确显示。

为了更好地理解，我提供了[示例](http://jsfiddle.net/yPLjR/617/)。

在上面的例子中，“jan”的图形非常小。如果你将鼠标悬停在它上面（即 jan），你会得到系列 '3' 和 '4' 的工具提示，这是预期的。现在，如果您调整图形的大小（使用右上角的调整大小处理程序）以减小图形宽度，然后将鼠标悬停在“jan”处的小图形上，您只会获得系列 4（即 0）的工具提示。

请有人指导如何处理此类问题。

示例代码：

```
<script type="text/javascript" src="http://highcharts.com/js/testing.js"></script>

<div id="resizer" style="min-width: 350px; min-height: 200px">
    <div id="inner-resizer">
        <div id="container" style="height: 300px">
        </div>
    </div>
</div>

var container = $('#container')[0];
$('#resizer').resizable({
    resize: function() {
        chart.setSize(
            this.offsetWidth - 20,
            this.offsetHeight - 20,
            false
        );
    }
});

var chart = new Highcharts.Chart({
chart: {
    renderTo: 'container',
        type: 'column',
        zoomType:'xy'
},
credits: {
    enabled: false
},

xAxis: {
        categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
    },
plotOptions: {
        series: {
            stacking: 'normal'
        }
    },

series: [{
        data: [0, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4]
    }, {
        data: [0,176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4, 29.9, 71.5, 106.4, 129.2]
    },
            {
        data: [5, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4]
    }, {
        data: [0,176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4, 29.9, 71.5, 106.4, 129.2]
    }] 
```

});

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T10:05:53.510

我认为这不是工具提示问题，当您将图形调整为非常小的尺寸时，无法比常规尺寸更完美地判断鼠标悬停。

甚至，如果您在图表上方显示常规尺寸，稍后会显示其他系列的工具提示。

我可以在这里建议的是尝试

```
tooltip:{
        shared:true
    } 
```

链接：http: [//jsfiddle.net/mhardik/yPLjR/623/](http://jsfiddle.net/mhardik/yPLjR/623/)

有了这个，即使尺寸较小，您也可以获得工具提示。

编辑：

放

```
plotOptions: {
            series: {
                stacking: 'percent'
            }
        } 
```

这将相对于百分比设置列高。因此，即使值非常低，您也会得到 bar。

# java - 尝试使用 Spring Data JPA 创建自定义存储库时未找到类型错误的属性

> ID：13945490
> 
> 赞同：39
> 
> 时间：2012-12-19T04:26:50.570
> 
> 标签：java, spring, repository, spring-data-jpa

我有一个媒体实体，其中包含用户上传的文件的一些基本字段。为了保存上传文件的字节，我想创建一个包含该功能的自定义存储库。按照[Spring 文档](http://static.springsource.org/spring-data/data-jpa/docs/current/reference/html/#repositories.single-repository-behaviour)中的步骤，我创建了一个如下所示的界面：

```
public interface MediaBytesRepository
{
    public byte[] getBytes(Media media) throws IOException;
    public void saveBytes(Media media, byte[] bytes) throws IOException;
    public void appendBytes(Media media, byte[] bytes) throws IOException;
    public void deleteBytes(Media media) throws IOException;
    public boolean bytesExist(Media media) throws IOException;
} 
```

然后我为这个接口提供了一个实现，称为`MediaBytesRepositoryImpl`

有了这个，我然后创建了以下界面：

```
public interface MediaRepository extends JpaRepository<Media, Long>, MediaBytesRepository
{
} 
```

现在，当我启动服务器时，我得到以下堆栈跟踪：

```
SEVERE: Exception sending context initialized event to listener instance of class org.springframework.web.context.ContextLoaderListener
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mediaRepository': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Could not create query metamodel for method public abstract void com.foo.bar.core.media.MediaBytesRepository.saveBytes(com.foo.bar.core.media.Media,byte[]) throws java.io.IOException!
    at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:149)
.....
Caused by: java.lang.IllegalArgumentException: Could not create query metamodel for method public abstract void com.foo.bar.core.media.MediaBytesRepository.saveBytes(com.foo.bar.core.media.Media,byte[]) throws java.io.IOException!
    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:92)
    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:162)
    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:68)
    at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.<init>(RepositoryFactorySupport.java:280)
    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:148)
    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:125)
    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.getObject(RepositoryFactoryBeanSupport.java:41)
    at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:142)
    ... 20 more
 Caused by: java.lang.IllegalArgumentException: No property save found for type class com.foo.bar.core.media.Media
    at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:73)
    at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:92)
    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:319)
    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:333)
    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:301)
    at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:265)
    at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:239)
    at org.springframework.data.repository.query.parser.Part.<init>(Part.java:70)
    at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:180)
    at org.springframework.data.repository.query.parser.PartTree$Predicate.buildTree(PartTree.java:260)
    at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:240)
    at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:68)
    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:57)
    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:90)
    ... 27 more 
```

我发现了这个[类似的帖子](http://forum.springsource.org/showthread.php?114454-Custom-repository-functionality)，但是那里的建议（都在同一个包中，命名约定）是我已经在做的事情。我所有的媒体类和接口都在同一个包中，我使用的是“Impl”后缀。

有人可以解释一下为什么我会收到这个错误以及如何解决它吗？谢谢。

* * *

## 回答 #1

> 赞同：74
> 
> 时间：2012-12-19T07:12:13.587

你写了：

> 那里的建议（都在同一个包中，命名约定）是我已经在做的事情。

你不可以。

将您重命名`MediaBytesRepository`为`MediaRepositoryCustom`.

当然，您需要`MediaRepositoryCustom`使用 name的实现`MediaRepositoryImpl`。

* * *

## 回答 #2

> 赞同：6
> 
> 时间：2014-02-25T09:18:11.703

您必须将您的 impl 类命名为“InterfaceNameImpl”。实现的默认后缀是 Impl，我们可以随意更改它：

```
<repositories base-package="com.acme.repository" repository-impl-postfix="FooBar" /> 
```

自定义接口的名称无关紧要。

# android - 动态对齐按钮 - Android

> ID：13945495
> 
> 赞同：3
> 
> 时间：2012-12-19T04:27:29.757
> 
> 标签：android, button, dynamic, position

我试图让我的按钮水平居中并从顶部垂直向下 2/3。无论屏幕尺寸/密度如何，我都希望它从顶部保持 2/3。这是我要移动的按钮：

```
<Button
    android:id="@+id/btnResume"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerHorizontal="true"
    android:layout_marginTop="250dp" /> 
```

* * *

## 谢谢！

工作代码：

```
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" >

    <FrameLayout
        android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1" >
    </FrameLayout>

    <Button
        android:id="@+id/btnResume"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center" />

    <FrameLayout
        android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1" >
    </FrameLayout>

    <TextView
        android:id="@+id/tvCounter2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_gravity="center" />

    <FrameLayout
        android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1" >
    </FrameLayout>
</LinearLayout> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T04:37:28.850

要存档此内容，您需要使用`LineareLayout`和探索`weight`功能。为了让它工作，它必须是这样的：

```
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="fill_parent"
android:layout_height="fill_parent"
android:orientation="vertical" >

<FrameLayout
    android:layout_width="fill_parent"
    android:layout_height="0dp"
    android:layout_weight="1" >
</FrameLayout>

<FrameLayout
    android:layout_width="fill_parent"
    android:layout_height="0dp"
    android:layout_weight="1" >
</FrameLayout>

<Button
    android:id="@+id/btnResume"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerHorizontal="true" />

<FrameLayout
    android:layout_width="fill_parent"
    android:layout_height="0dp"
    android:layout_weight="1" >
</FrameLayout>

</LinearLayout> 
```

希望能帮助到你！

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T04:41:18.630

您可以使用属性“layout_weight”

# jquery - 消耗高 CPU 的高图表

> ID：13945496
> 
> 赞同：3
> 
> 时间：2012-12-19T04:27:42.937
> 
> 标签：jquery, highcharts, setinterval

我们正在使用 jquery ajax 调用来渲染 highcharts，因为我使用 setInterval 每 1 分钟渲染一次动态图，我的 cpu 内存消耗更多，几乎达到 100%，我在 chrome 中获得了杀死页面，你能帮我解决它吗

函数 DataSiftGraph(){

```
 $.ajax({
            url: "ViewGraphServlet",
            type: 'POST',   
            data:{"flag":true,"hrefValue":searchKeyGraph},
            contentType:"application/x-www-form-urlencoded",       
            success: function (response) {
                                    tweets=response.tweets;
                                    for(var i=0;i<tweets.length;i++){

                                        descArray[i]=tweets[i];
                                        //alert(descArray[i]);
                                          document.getElementById("detailedcs").innerHTML+= descArray[i]+'<br/>';
                                    }

                                    stopFlag=response.stopFlag;

                                    //series.data.push(formattedTime,response.positiveCount);
                                    //chart.series[0].data.push(formattedTime,response.positiveCount);

                                    shift = chartSentiment.series[0].data.length > 20;

                                    chartSentiment.series[0].addPoint([response.toDate,response.positiveCount],true,shift);
                                    chartSentiment.series[1].addPoint([response.toDate,response.negativeCount],true,shift);
                                    chartSentiment.series[2].addPoint([response.toDate,response.neutralCount],true,shift);

                                    //alert("response.affectionCount" + response.affectionCount);
                                    chartEmotion.series[0].addPoint([response.toDate,response.affectionCount],true,shift);
                                    chartEmotion.series[1].addPoint([response.toDate,response.amusementCount],true,shift);
                                    chartEmotion.series[2].addPoint([response.toDate,response.contentCount],true,shift);
                                    chartEmotion.series[3].addPoint([response.toDate,response.enjoymentCount],true,shift);
                                    chartEmotion.series[4].addPoint([response.toDate,response.angerCount],true,shift);
                                    chartEmotion.series[5].addPoint([response.toDate,response.fearCount],true,shift);
                                    chartEmotion.series[6].addPoint([response.toDate,response.humiliationCount],true,shift);
                                    chartEmotion.series[7].addPoint([response.toDate,response.sadnessCount],true,shift);

                            },
            error:   function(response, ajaxOptions, thrownError) {
              }
        });

    } 
```

这是我使用的示例代码

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-11-03T11:32:34.823

您使用哪个版本的 highcharts？如果您使用 addPoint，在每个调用函数中，都会重新绘制整个图表，因此性能会下降。我建议将重绘设置为 false（addPoint 函数中的参数），然后在添加所有点后重绘。

# ruby - 如何传递函数而不是块

> ID：13945503
> 
> 赞同：65
> 
> 时间：2012-12-19T04:28:20.370
> 
> 标签：ruby, functional-programming

> **可能重复：**
> [将数组的每个元素传递给函数的更短方法](https://stackoverflow.com/questions/13834846/shorter-way-to-pass-every-element-of-an-array-to-a-function)

我知道这会起作用：

```
def inc(a)
  a+1
end
[1,2,3].map{|a| inc a} 
```

但在 Python 中，我只需要编写：

```
map(inc, [1,2,3]) 
```

或者

```
[inc(x) for x in [1,2,3]) 
```

我想知道是否可以跳过在 Ruby 中创建块的步骤，然后这样做：

```
[1,2,3].map inc
# => ArgumentError: wrong number of arguments (0 for 1)
# from (irb):19:in `inc' 
```

有没有人知道如何做到这一点？

* * *

## 回答 #1

> 赞同：94
> 
> 时间：2012-12-19T04:38:28.340

根据“[像Ruby中的块一样传递方法](https://web.archive.org/web/20130119051035/http://alan.dipert.org/post/339368222/passing-methods-like-blocks-in-ruby)”，您可以像这样将方法作为块传递：

```
p [1,2,3].map(&method(:inc)) 
```

老实说，不知道这是否比自己滚动块好得多。

如果您的方法是在您正在使用的对象的类上定义的，您可以这样做：

```
# Adding inc to the Integer class in order to relate to the original post.
class Integer
  def inc
    self + 1
  end
end

p [1,2,3].map(&:inc) 
```

在这种情况下，Ruby 会将符号解释为实例方法名称并尝试调用该对象上的方法。

* * *

您可以在 Python 中将函数名称作为一等对象传递，但在 Ruby 中不能传递的原因是因为 Ruby 允许您调用零参数且不带括号的方法。Python 的语法，因为它需要括号，所以可以防止在传入函数名和调用不带参数的函数之间出现任何可能的歧义。

* * *

## 回答 #2

> 赞同：11
> 
> 时间：2012-12-19T05:03:22.290

不回答你的问题，但如果你真的只想增加你的所有变量，你有[`Integer#next`](http://ruby-doc.org/core-1.9.3/Integer.html#method-i-next)

```
4.next
#=> 5

[1,2,3].map(&:next)
#=> [2, 3, 4] 
```

* * *

## 回答 #3

> 赞同：-15
> 
> 时间：2012-12-19T04:31:30.097

```
def inc(a)
  a + 1 
end

p [1,2,3].map{|a| inc a} 
```

# twitter-bootstrap - 如何在 playframework 2.0 中使用 if 语句

> ID：13945507
> 
> 赞同：0
> 
> 时间：2012-12-19T04:28:40.743
> 
> 标签：twitter-bootstrap, playframework, playframework-2.0

我想根据一些值改变 tr 的样式，下面演示了我想要的，但是它编译失败。错误消息是“简单表达式的非法开始”，有人可以帮忙吗？谢谢

```
@session.events.map{ e=>

    <tr class='@if(e.error1!="") "error" else "info"' >
      <td>@e.timestamp</td>
      <td>@e.draftId</td>
      <td>@e.pageName</td>
      <td>@e.mode</td>
      <td>@e.error1</td>
      <td>@e.statusDetail</td>
    </tr>
} 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T22:08:53.567

正如马吕斯所指出的：

你可以这样做：

```
<tr class="@{if(e.error1!="") "error" else "info"}"> 
```

和里面的一切

```
@{ } 
```

将被正确解析

或者，您可以这样做：

```
<tr class="@if(e.error1!="") { error } else { info }"> 
```

除非您使用`@`

像这样

```
<tr class="@if(e.error1!="") { @error } else { info }"> 
```

并且`error`必须是一些先前定义的值，否则你会得到一个异常

有关该主题的更多信息，请[参见该剧的模板文档](http://www.playframework.org/documentation/2.0.4/ScalaTemplates)

干杯!

# php - Google map javascript api无法从mysql数据库加载标记

> ID：13945509
> 
> 赞同：2
> 
> 时间：2012-12-19T04:28:56.283
> 
> 标签：php, javascript, mysql, ajax, google-maps-api-3

我在从数据库中放置标记时遇到了一些问题，我遵循了本指南[https://developers.google.com/maps/articles/phpsqlajax_v3](https://developers.google.com/maps/articles/phpsqlajax_v3)。页面只是加载但没有标记，我还检查了 xml 生成器是否工作，是的。有人可以帮我解决我做错了什么吗？这是我的索引文件。

```
 <?php include('connection_db.php');?> 
```

```
 downloadUrl("xmlspitter.php", function(data) {
    var xml = data.responseXML;
    var markers = xml.documentElement.getElementsByTagName("marker");
    for (var i = 0; i < markers.length; i++) {
    var name = markers[i].getAttribute("name");
    var address = markers[i].getAttribute("address");
    var type = markers[i].getAttribute("type");
    var point = new google.maps.LatLng(
    parseFloat(markers[i].getAttribute("lat")),
    parseFloat(markers[i].getAttribute("lng")));
    var html = "<b>" + name + "</b> <br/>" + address;
    var icon = customIcons[type] || {};
    var marker = new google.maps.Marker({
    map: map,
    position: point,
    icon: icon.icon,
    shadow: icon.shadow
    });
    bindInfoWindow(marker, map, infoWindow, html);
      }
      });
     function bindInfoWindow(marker, map, infoWindow, html) {
  google.maps.event.addListener(marker, 'click', function() {
    infoWindow.setContent(html);
    infoWindow.open(map, marker);
     });
   }
 function downloadUrl(url, callback) {
  var request = window.ActiveXObject ?
      new ActiveXObject('Microsoft.XMLHTTP') :
      new XMLHttpRequest;

  request.onreadystatechange = function() {
    if (request.readyState == 4) {
      request.onreadystatechange = doNothing;
      callback(request, request.status);
    }
  };

  request.open('GET', url, true);
  request.send(null);
}

function doNothing() {}
</script>   

 </head>
    <body onload="initialize()">
    <div id="contain">
   <div id="map_canvas" style="width:500px; height:500px"></div>
   </div>
   </body>
  </html> 
```

注意：`xmlspitter.php`我的数据库有正确的输出。另外，如果有人知道任何更好的教程，请告诉我谢谢。

//编辑这是来自外部js的地图

```
 function initialize() {
    var mapOptions = {
      center: new google.maps.LatLng(47.6145, -122.3418),
      zoom: 13,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };
    var map = new google.maps.Map(document.getElementById("map_canvas"),
        mapOptions); 
```

`xmlspitter.php`如果有人感兴趣

```
 <?php  
    include('connection_db.php');

   // Start XML file, create parent node

    $dom = new DOMDocument("1.0");
    $node = $dom->createElement("markers");
  $parnode = $dom->appendChild($node); 

   // Select all the rows in the markers table

  $query = "SELECT * FROM markers WHERE 1";
  $result = mysql_query($query);
  if (!$result) {  
  die('Invalid query: ' . mysql_error());
   } 

     header("Content-type: text/xml"); 

   // Iterate through the rows, adding XML nodes for each

  while ($row = @mysql_fetch_assoc($result)){  
   // ADD TO XML DOCUMENT NODE  
   $node = $dom->createElement("marker");  
   $newnode = $parnode->appendChild($node);   
   $newnode->setAttribute("name",$row['name']);
   $newnode->setAttribute("address", $row['address']);  
   $newnode->setAttribute("lat", $row['lat']);  
   $newnode->setAttribute("lng", $row['lng']);  
   $newnode->setAttribute("type", $row['type']);
 } 

 echo $dom->saveXML();

 ?> 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T04:41:23.637

从您所显示的内容来看，您的 java 脚本代码没有运行。它应该都放在初始化函数中。

此外，您还没有初始化`customIcons`变量或给它赋值。如果您不使用它，则可以将其删除。它应该只使用默认标记。

来自指南

*自定义图标 您可以为标记指定自定义图标和阴影。首先创建一个关联数组，将您的图标与您的类型字符串相关联：“restaurant”或“bar”。这使得以后在从 XML 创建标记时可以轻松引用这些图标。*

```
var customIcons = {
  restaurant: {
    icon: 'http://labs.google.com/ridefinder/images/mm_20_blue.png',
    shadow: 'http://labs.google.com/ridefinder/images/mm_20_shadow.png'
  },
  bar: {
    icon: 'http://labs.google.com/ridefinder/images/mm_20_red.png',
    shadow: 'http://labs.google.com/ridefinder/images/mm_20_shadow.png'
  }
}; 
```

去年我实际上做了类似的事情。虽然我使用 php 从数据库中填充标记而不是 javascript 和 xml。

已编辑：博客链接不再有效。

# database - 数据库派生值与外键相同？

> ID：13945510
> 
> 赞同：1
> 
> 时间：2012-12-19T04:29:02.570
> 
> 标签：database, foreign-keys, derived

数据库派生值是否与外键相同？

基于 connoly 和 begg 书籍，第四版第 352 页的导出值为 `An attribute that represents a value that is derivable from the value of a related attribute or set of attributes, not necessarily in the same entity type.`

如果我们有 2 个表，例如 CUSTOMER 和 ORDER，

```
Customer
- Id_Cust
- Name
- Phone

ORDER
- Order_id<
- id_cust 
```

我们可以说“ORDER.id_cust 是从 Customer.id_cust 派生的”吗？

实际上，我对上面的概念感到非常困惑。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T04:33:58.180

不，外键和派生值是两个不同的东西。

```
product  quantity  price  subtotal
--
ACH123   5         $1.50  $7.50 
```

在上面的简化表中，“小计”是派生值。它来源于“数量”和“价格”。（通过将它们相乘。）

数据库设计者通常不会在不使用 CHECK() 约束或触发器的情况下存储派生值，以确保派生值始终正确。在上表中，将数量更新为 4 会使派生值“小计”不正确。CHECK() 约束可以阻止对“数量”的更新，除非更新也具有正确的“小计”值。当“数量”或“价格”发生变化时，触发器可以自动更新“小计”。

CHECK() 约束通常是更好的选择。

# ruby - 如何使用 WebMock 在 Sinatra 应用程序中模拟 Paperclip 调用？

> ID：13945511
> 
> 赞同：2
> 
> 时间：2012-12-19T04:29:20.060
> 
> 标签：ruby, rspec, sinatra, paperclip, webmock

此代码在没有 WebMock 的情况下可以正常工作。

引发异常：

```
Paperclip::AdapterRegistry::NoHandlerError:
   No handler found for #<URI::HTTP:0x007ff3852cefb8 URL:http://www.example.com/images/foo.jpg>
# ./spec/support/api_mock.rb:34:in `process_image_for' 
```

测试：

```
let( :image_url  ) { 'http://www.example.com/images/foo.jpg'  }
...
stub_request(:post, image_url)
  .to_return(:status => 200, :body => File.read('spec/fixtures/image.jpg'), :headers => {})
...hit Sinatra app... 
```

api_mock.rb：

```
def self.process_image_for suggestion, params
  if params[:image]
    suggestion.image = URI.parse( params[:image] )  # line 34
    suggestion.save!
  end
end 
```

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-21T19:19:08.367

有用。FWIW，两者`File.read`和`File.open`工作：

```
stub_request(:post, image_url)
  .to_return(
     :status => 200,
     :body => File.read('spec/fixtures/image.jpg'),
     :headers => {}
  ) 
```

只记得`require 'webmock/rspec'`在测试的顶部。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2017-01-16T11:34:31.913

需要使用`headers: {"Content-Type" => 'image/jpg'}`Paperclip 预期的任何有效内容类型

例如。

```
stub_request(:get, "http://img.youtube.com/vi/123123123123/0.jpg")
  .to_return(
    status: 200,
    body:  File.read('spec/fixtures/images/sample.jpg'),
    headers: {"Content-Type" => 'image/jpg'}
  ) 
```

# php - 将 CAPTCHA 与表单集成

> ID：13945515
> 
> 赞同：1
> 
> 时间：2012-12-19T04:30:55.133
> 
> 标签：php, captcha

我正在尝试将验证码与使用表单集成。我所拥有的是一种基本格式，可以让验证码部分在其自己的 php 页面上工作。我还能够在自己的 php 页面中显示一个表单。我遇到的问题是我不确定如何让这两个部分一起工作。

这是我所拥有的一个片段：

```
<?php
session_start();
    if (isset($_POST['captcha'])) {
        $_SESSION['captcha'] = rand(0, 99999999999);
        } else {
            if ($_SESSION['captcha']!==$_POST['captcha']) {
            echo 're-enter a new captcha!';
            $_SESSION['captcha'] = rand(0, 99999999999);
        }
    }
?>

    <form action="formx.php" method="POST">
            <ul>
                <li>
                    Username:<br>
                    <input type"text" name="username">
                </li>
                <li>
                    Password:<br>
                    <input type="password" name="password">
                </li>
                <li>
                    Password again:<br>
                    <input type="password" name="password2">
                </li>
                <li>
                    Email:<br>
                    <input type="text" name="email">
                </li>
                <li>
                    <input type="submit" name="captcha" value="submit">
                </li>
            </ul>
    </form> 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T04:55:31.887

如果你走过它，你可能会错过几个步骤：

```
if ($_SERVER['REQUEST_METHOD']!='POST')  //If initial load, load up captcha into session
    $_SESSION['captcha'] = rand(0,9999999999);
else{//Means form was submitted
    if (isset($_POST['captcha'])) {//Check if they entered
        if ($_SESSION['captcha']!==$_POST['captcha']) {//check if ! correct, reissue new captcha
            echo 're-enter a new captcha!';
            $_SESSION['captcha'] = rand(0, 99999999999);
        }else{
            //Everything was good, handle data
        }
    }else{//Nothing was entered, give them new captcha
        echo 'please enter the captcha!';
        $_SESSION['captcha'] = rand(0, 99999999999);
    }

} 
```

现在，当您将其显示给用户时，棘手的部分就来了。如果你放：

```
<li>
    Please type <?=$_SESSION['captcha']?>:<br/>
    <input type="submit" name="captcha" value="submit">
</li> 
```

机器人将能够绕过这一点。所以你需要弄清楚如何克服这个问题。简单地显示数字并告诉他们输入是好的，并且会阻止非常基本的机器人。混淆它 ( `<span>1</span><span>2</span>`) 可能会使它变得更加困难，但机器人仍然可以解析它并绕过它。将其保存为 Javascript 变量，然后对其进行检查也可能有效，但如果机器人足够聪明，可以再次绕过它。iframe 可能会工作，图像可能会工作，用户代理解析可能会有所帮助，等等等等。所有这些都可以工作，但是您希望如何实现它以及您想要它的安全性取决于您。

就个人而言，虽然我是 Recaptcha 的粉丝，因为它通常很容易实现，并且我需要最少的编码。我还使用 GD 和 TrueType 库来制作验证码图像，但这确实需要更多的编程，如果你可以使用 Recaptcha 则可能不值得。最后，我确实喜欢在页面加载后加载的 Javascript 数学问题，机器人更难加载和弄清楚发生了什么。

说到底，做你想做的事。如果您遇到困难，请发布您的代码，我们可以帮助您。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T05:00:01.600

您必须检查以前的验证码以提交新页面。所以请将会话旧变量中的旧值分配为 $_SESSION['oldCaptcha'].. 所以您的代码应该是，

```
session_start();
if (isset($_POST['captcha'])) {
    if($_SESSION['oldCaptcha'] == $_POST['captcha']) {
        echo 'Captcha is Successfully Matched';
    }
    else {
        $_SESSION['oldCaptcha'] = rand(0, 99999999999);   
    }         
} 
```

如果您的答案出现在 else 循环中，则在表单中使用**$_SESSION['oldCaptcha']**以显示供用户输入...

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T05:13:06.583

试试这个

```
if($_SERVER['REQUEST_METHOD']=="POST"){
    if ($_POST['capt']  == $_SESSION['captcha'] ){
        echo "Sucsess";
        $capt= rand(0, 99999999999);  
        $_SESSION['captcha'] =$capt;
    }else{
        echo "Fail";
    }
}else{
     $capt='';  
     $capt= rand(0, 99999999999);  
     $_SESSION['captcha'] =$capt;
}    

?>

    <form action="" method="post">
            <ul>
                <li>
                    Username:<br>
                    <input type="text" name="username">
                </li>
                <li>
                    Password:<br>
                    <input type="password" name="password">
                </li>
                <li>
                    Password again:<br>
                    <input type="password" name="password2">
                </li>
                <li>
                    Email:<br>
                    <input type="text" name="email">
                </li>
                <li>
                    Captcha:<br>
                    <input type="text" name="capt" >
                    <?php echo "Captcha : " .$capt ; ?> 
                </li>
                <li>
                    <input type="submit" name="captcha" value="submit">
                </li>
            </ul>
    </form> 
```

# jquery - 在 jquery 选项卡中定位表

> ID：13945518
> 
> 赞同：5
> 
> 时间：2012-12-19T04:31:06.203
> 
> 标签：jquery, html, css, jquery-ui

我正在使用 jquery verical 选项卡并将表格合并为单击选项卡时显示的数据。问题是我的表格显示在选项卡的底部，而不是像我想要的那样浮动在选项卡的右侧。我已经尝试重新创建我的问题[JS-FIDDLE 演示](http://jsfiddle.net/qTXnN/41/)，如果您单击垃圾选项卡，您将在选项卡底部看到一个表格......唯一的区别是在我的脚本中，锚标记是包含表格的外部 php 文件. 我已经尝试过`style="float:right"`，但它没有用，我不确定 jquery 选项卡是否与我正在尝试做的事情发生冲突，但我想知道。我束手无策，试图弄清楚如何让桌子正确定位。无论对我有什么帮助或提示，我都将非常感谢。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T04:37:03.377

选项卡的计算样式为`~827.966px`，您的表格宽度为`940px`.
这就是它下降的原因。
删除您的表格宽度或更改为较低的值。

[**演示**](http://jsfiddle.net/qTXnN/46/)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T04:36:52.527

您已将表格的宽度指定为 920 像素。试着让它变窄。

如果您必须将其设置为 920px 宽，请尝试将`display: table`样式添加到您的`div` 查看[此 jsFiddle 演示](http://jsfiddle.net/stanleywym/7Cx3s/)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T04:37:59.290

这是因为您将桌子的宽度设置得太宽以至于不适合

```
<table width="920" style="background-color:#F2F2F2;" border="0" align="center" cellpadding="0" cellspacing="0"> 
```

您必须更改父级的宽度，或更改溢出

# ruby-on-rails - ActionMailer 观察者不使用delayed_job

> ID：13945519
> 
> 赞同：2
> 
> 时间：2012-12-19T04:31:08.377
> 
> 标签：ruby-on-rails, ruby-on-rails-3, ruby-on-rails-3.2, actionmailer, delayed-job

我有一个 ActionMailer 观察者，它在正常发送期间工作得很好，但是当我将交付发送到延迟作业时，它根本不会被调用。这是延迟作业本身的功能，还是我的观察者特有的功能？

控制器：

```
BulkMailer.delay.blast(recipients, email, template) 
```

初始化器：

```
ActionMailer::Base.register_observer(MailObserver) 
```

观察者

```
class MailObserver
  def self.delivered_email(message)
    Rails.logger.debug 'Message: finished'
  end
end 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-24T02:09:46.477

代码本身很好，Delayed Job 和 ActionMailer 观察者是兼容的。我的问题通过重新启动工人解决了。

# android - ViewPager with Fragment 在第一页和最后一页重新加载

> ID：13945520
> 
> 赞同：2
> 
> 时间：2012-12-19T04:31:16.270
> 
> 标签：android, callback, android-fragments, android-viewpager

我正在尝试`ViewPager`使用六个片段创建一个，但只有第二个片段到第五个片段包含我想要显示的数据以及我想要用于重新加载数据并将位置设置为第二个片段的第一个片段和最后一个片段. 整体流程是这样的：

第 1 个（重新加载并返回第 2 个）<- 第 2 个片段 <-> 第 5 个片段 -> 第 6 个片段（与第 1 个相同）

我尝试过的是从第一个片段和第 6 个片段创建回调，如下所示

```
public static class callbackFragmentLoading implements callbackFragmentLoad {

    @Override
    public void onLoading() {
        mPager.setAdapter(mAdapter);
        mPager.setCurrentItem(2,false);
    }

} 
```

我将回调传递给片段构造函数，以便可以在 onActivityCreated 中调用 onLoading 函数。但是我每次这样做时，应用程序都会被强制关闭，并且 logcat 会显示

> 执行挂起事务的递归入口

有什么办法吗？还是我这样做的方法是错误的？

谢谢你

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T07:50:29.827

> 有什么办法吗？还是我这样做的方法是错误的？

`Fragments`在a之间处理回调`ViewPager`可能不是一个好主意。相反，我会这样做：

*   不要在from 中加载任何数据（如使用`Loader`），而是让其去做（并且将通过 中的方法获取它）。`Fragments``ViewPager``FragmentActivity``Fragments``Activity`
*   您的两个加载片段（位置`0`和`5`）将在他们的`onResume`方法中调用父级的重新加载操作`Activity`（如`Loader`重新启动）
*   此时`Activity`将加载/重新加载数据，完成后它将设置`ViewPager`为正确的项目（`1`或`4`）
*   在`onResume`数据片段的方法中，您将刷新片段的数据（在这里您可能需要使用某种信号系统，因为您需要`onCreateView`在除了当前可见位置））。

由于我对内部数据片段知之甚少，因此我编写了一个[基本的骨架示例](https://gist.github.com/4335109)（没有在活动中加载数据）。

# python - 使用 Beautiful Soup从损坏的标签中检索内容

> ID：13945523
> 
> 赞同：2
> 
> 时间：2012-12-19T04:31:41.917
> 
> 标签：python, web-scraping, beautifulsoup

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T04:48:03.780

`text=True`从您的代码中删除它应该可以正常工作：

```
>>> from bs4 import BeautifulSoup
>>> soup = BeautifulSoup('''
... <html>
... <body>
... <a href = "http:\\www.google.com">Google<br>
... <a href = "http:\\www.example.com">Example</a>
... </body>
... </html>
... ''')
>>> [a.get_text().strip() for a in soup.find_all('a')]
[u'Google', u'Example']
>>> [a.get_text().strip() for a in soup.find_all('a', text=True)]
[u'Example'] 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T04:35:37.630

试试这个代码：

```
from BeautifulSoup import BeautifulSoup

text = '''
<html>
<body>
<a href = "http:\\www.google.com">Google<br>
<a href = "http:\\www.example.com">Example</a>
</body>
</html>
'''

soup = BeautifulSoup(text)

for link in soup.findAll('a'):
    if link.string != None:
        print link.string 
```

这是我运行代码时的输出：

```
例子

```

只需替换`text`为`text = open('sol.html').read()`，或者您需要去那里的任何内容。

# struts2 - Struts文件上传到某个目录，无法找回？

> ID：13945525
> 
> 赞同：0
> 
> 时间：2012-12-19T04:31:45.870
> 
> 标签：struts2

我正在运行 Eclipse Java EE 和 tomcat 来运行我的 webapp。我使用以下代码将图像文件存储到upload/images/profilepics 目录：

```
public String uploadPhoto() {
    try {
        //get path to upload photo
        String filePath = servletRequest.getSession().
                getServletContext().getRealPath("/uploads/profilepics");

        System.out.println("Server path:" + filePath);

        //creating unique picture name
        Map sess = (Map) ActionContext.getContext().get("session");
        Integer uid = (Integer) sess.get("uid");
        String profilePictureName = uid + "-" + 
                MyUtilityFunctions.createVerificationUrl() + this.userImageFileName;

        //update user record
        //tobe done 
        String imgUrl = filePath + profilePictureName;
        ViewProfileModel pofilePictureUpdate = new ViewProfileModel();
        pofilePictureUpdate.updateUserPhotoUrl(imgUrl, uid);

        //create new File with new path and name
        File fileToCreate = new File(filePath, profilePictureName);

        //copy file to given location and with given name
        FileUtils.copyFile(this.userImage, fileToCreate);
    } catch (Exception e) {
        e.printStackTrace();
        addActionError(e.getMessage());

        return INPUT;
    }
    return SUCCESS;
} 
```

打印 filePath 后，我得到以下结果：

服务器路径：`/home/bril/webspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/picvik/uploads/profilepics`

现在的问题是，我无法获取图像，或者如果我将相同的 url 提供给`<img src="">`什么都没有显示。

请纠正我做错的地方。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T11:02:49.790

有以下建议：

1.  有很多原因，您不应该以这种方式保存用户图像，就像 @DaveNewton 在另一个问题中提到的那样。有一些帖子可以帮助您做出决定：

    *   [帖子1](https://stackoverflow.com/questions/713243/should-i-store-my-images-in-the-database-or-folders)
    *   [邮政2](https://stackoverflow.com/questions/3748/storing-images-in-db-yea-or-nay)

    我个人的意见是将它们保存到数据库中，因为您不想让您的用户丢失他们的图像。

2.  如果您需要访问会话，可以查看[SessionAware](http://struts.apache.org/2.x/struts2-core/apidocs/org/apache/struts2/interceptor/SessionAware.html)。这应该是访问会话的更好方法。
3.  您正在使用 tomcat 作为应用程序容器，您可以将服务器配置为使用其本地安装，这使您更容易在这种情况下跟踪问题。看看下面这张图片![Tomcat 服务器位置](../Images/75120ff67d03f500d433e0a393bf6987.png)

回到你的问题，有不同的方法可以做到这一点：

*   如果找不到用户刚刚上传的图片，可以手动查看，见3。
*   否则，您可以尝试`<img src="/uploads/profilepics/<s:property value='profilePictureName'/>"`
*   或者你可以使用流来获取这张图片，这里是片段：

JSP：

```
 <img src="
        <s:url var="profilePic" action="customer-image-action">
            <s:param name="uid" value="%{uid}"/>
        </s:url>
    " alt="kunden logo" /> 
```

行动：

```
public String execute() throws Exception {
    // filename = somehow(uid);
    HttpServletRequest request = (HttpServletRequest) ActionContext.getContext().get(ServletActionContext.HTTP_REQUEST);
    imgPath = request.getSession().getServletContext().getRealPath("/uploads/profilepics/")+filename;
    log.debug("context-path: " + imgPath);
    try {
        inputStream = FileUtils.openInputStream(new File(imgPath));
    } catch (IOException e) {
        log.error(e.getCause(), e);
    }
    return SUCCESS;
} 
```

# iphone - 如何将自定义 UIPickerView 添加到 UINavigationBar？

> ID：13945526
> 
> 赞同：5
> 
> 时间：2012-12-19T04:31:49.807
> 
> 标签：iphone, ios, uinavigationbar, uipickerview

我需要添加自定义选择器视图来`UINavigationBar`喜欢这个。但是如果我将pickerview移动到`UINavigationBar`它出现在后面。我怎样才能在`UINavigationBar`上面正确显示它`UINavigationBar`？

![在此处输入图像描述](../Images/6f6dad5106c32ff708026c57fa7e399f.png)

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-19T04:35:53.340

你可以像这样添加，

```
[self.navigationController.navigationBar.topItem setTitleView:pickerView]; 
```

希望对你有帮助......

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-19T04:39:54.003

您必须添加一个自定义`UIView`，其中包含`UIPickerView`并以编程方式将其添加`center view`为`UINavigation Controller`. 它应该加载选择器而不是该页面的标题。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T04:37:02.473

您应该创建一个具有蓝色背景的自定义视图。在其中添加适当的视图。

隐藏此屏幕的导航栏。

# c# - 如何将 FormCollection 作为 Ajax 数据发送

> ID：13945529
> 
> 赞同：0
> 
> 时间：2012-12-19T04:32:19.750
> 
> 标签：c#, ajax

我想将 FormCollection 发送到 Ajax 函数。

所以这是我的 Ajax 函数

```
function checkProductAttribute(productVariantId) 
{

  var form = $("product-details-form").serialize();

      $.ajax({

                    cache:false,
                    type: "POST",
                    dataType: 'html',
                    url: "@(Url.Action("CheckProductVariantToCart", "ShoppingCart"))",
                    data: { "productVariantId": productVariantId, "shoppingCartTypeId": 1, "form": form },
                    success: function (msg) {

                            if(msg == 'true' )
                            {

                    returnVal = true;
                    }
                    else
                    {
                    returnVal = false;
                    }

                    },
                    error:function (){

                     returnVal = false;
                        alert("fail");

                    }  
                });

   return true;
} 
```

这是我的控制器

```
public bool CheckProductVariantToCart(int productVariantId, int shoppingCartTypeId, FormCollection form)
{   
     //Somthing here
     return true;
} 
```

我的问题是 - 如何发送 FormCollection 认为 Ajax 函数？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T15:54:26.813

序列化表单是正确的。您可以将它发送到控制器，它会自动绑定到 FormCollection。有几件事需要注意

```
var form = $("product-details-form").serialize(); 
```

在此选择器中，您需要指定是按 class(.) 还是 id (#) 查找。即`$("#product-details-form).serialize();`我猜如果你正在调试你的javascript这个变量没有存储任何东西？现在它正在寻找一个可能不存在的标签。[这是另一个](https://stackoverflow.com/questions/1107220/how-can-i-select-an-element-by-name-with-jquery)描述这一点的问题。

其次，确保您的表单元素包含名称属性。[序列化](http://api.jquery.com/serialize/)只会序列化具有 name 属性集的元素。

最后，您的表单变量应该包含一个字符串，该字符串看起来 `myTextInput=helloworld&name=user1807766`将在服务器上更改为 FormCollection。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T04:51:02.333

如果你想要 Javascript 格式的强类型或复杂对象

你的控制器

```
public ActionResult CheckProductVariantToCart(int productVariantId, int shoppingCartTypeId, FormCollection form)
{   
     //Somthing here

     return Json(form);
} 
```

javascripts

```
success: function (result) {
  console.log(result);
} 
```

# c# - 在地铁中，有什么方法可以获取 KnownFolders.PicturesLibrary 的 FolderInformation

> ID：13945532
> 
> 赞同：1
> 
> 时间：2012-12-19T04:32:24.303
> 
> 标签：c#, microsoft-metro, windows-runtime

据我所知，`FileInformation`两者`FolderInformation`都是通过`FileInformationFactory`. 但`FileInformationFactory`只能返回文件夹中的子文件夹或子文件，不能返回文件夹本身。因此，如果我想获取`FolderInformation`顶级文件夹，例如`KnownFolders.PicturesLibrary`，似乎没有办法这样做。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T07:35:01.083

通常图片库本身并不是传统意义上的文件夹。它只是您希望包含在称为库的逻辑实体中的位置集合。这些位置甚至不需要按照适当的层次顺序排列。所以一个库可能没有像文件夹那样的属性。

# haskell - Haskell 右移

> ID：13945540
> 
> 赞同：1
> 
> 时间：2012-12-19T04:33:32.530
> 
> 标签：haskell, shift

仍在努力尝试实现 Boyer Moore 算法。几个小时后到期，我无法让这个讨厌的轮班部分工作。如果有 1:1 匹配，它会起作用，即 boyerMoore "hello" "hello"

但它不适用于“howareyou”“are”

我几乎可以肯定我的问题在于 ifs 的 boyMoore 区域。

我很确定这是 boyerMoore 函数本身的东西，而不是 shift 方法。只是想知道我是否以正确的方式调用它，或者我是否在寻找某些东西？感谢任何帮助。也很抱歉今天问了这么多问题，只是希望这个任务结束并完成，因为它是我们的最后一个任务。

```
boyerMoore :: String -> String -> Bool
boyerMoore [] _ = False
boyerMoore mainString patternString =
    let 
    patternLength = (length patternString)
    position = getPosition patternString (take patternLength(mainString))
    in if (mainString == patternString)
        then True
        else
                if position > -1
                then boyerMoore (patternString) (drop position(mainString))
                else boyerMoore (patternString) (drop patternLength(mainString))

getPosition :: String -> String -> Int
getPosition [] _ = -1
getPosition mainString patternString = shift patternString mainString (length patternString)

shift :: String -> String -> Int -> Int
shift [] _ _ = -1
shift textString patternString lengthVariable =
    if (last patternString) == (last textString)
    then lengthVariable - (length patternString)
    else shift (init patternString) textString lengthVariable 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T09:46:08.120

你的最终等式`boyerMoore`开始

```
boyerMoore mainString patternString = 
```

但最后的递归调用都有形式

```
boyerMoore patternString (drop foo mainString) 
```

我对 Boyer-Moore 的了解很生疏，但我怀疑你是否想这样交换`patternString`。`mainString`

其次，我认为您可能会将[链接到的页面上的](http://www.prism.gatech.edu/~jgirata3/boyermoore/)*last()*函数与 Haskell 的函数混淆。返回您给它的列表的最后一个元素，而*last()*，尽管有符号，但有两个参数：要查找的字符和要查找的模式字符串。[`last`](http://www.haskell.org/ghc/docs/latest/html/libraries/base/Data-List.html#v%3alast)`last`

# jquery - 悬停时替换内容，但未删除现有文本

> ID：13945542
> 
> 赞同：3
> 
> 时间：2012-12-19T04:33:34.857
> 
> 标签：jquery

抱歉，如果这个问题的解释有点糟糕 JQuery 不是我的“母语”语言，所以我会尽力解释。（我已经设置了一个 jsfiddle 来帮助显示代码）[http://jsfiddle.net/6eYYR/](http://jsfiddle.net/6eYYR/)

我在这里有一个网页：[http](http://www.waranuwater.com.au/pages/test-1) ://www.waranuwater.com.au/pages/test-1我有一位同事帮助我，达到我现在使用 Jquery 的目的。

向下滚动到第二个区域，我并排设置了两个 div，一个在左侧包含一个图像映射，另一个在右侧一个包含 html 内容的“内容区域”。“内容区域”包含一些文本，当用户将鼠标悬停在图像地图的一部分上时，这些文本会发生变化。

当图像地图的相关部分悬停时，当用户将鼠标悬停在图像地图上时，我已经设法让内容（我将其设为黑色以便暂时更容易看到）进行更改，但我无法工作当悬停发生时如何使初始内容消失（以“完全去除污染物”开头的位）

这是我当前的 Jquery 代码：

```
 function showHideDivs(indx){
            hideDivs();
            oShowHideDivs[indx].style.display = 'block';
        }
        function hideDivs(){
            for(i=0; i < oShowHideDivs.length; i++){
                oShowHideDivs[i].style.display = 'none';
            }
        }
        window.onload=function(){
            oShowHideDivs =  
document.getElementById('ccontainer').getElementsByTagName('div');
            var oMap = document.getElementById('myMap');
            for(i=0; i < oMap.areas.length; i++){
                oMap.areas[i].indx = i;
                oMap.areas[i].onmouseover=function(){showHideDivs(this.indx);}
                oMap.areas[i].onmouseout = hideDivs;
            }
        } 
```

我在这里错过了什么吗？我是否需要告诉 Jquery“隐藏”现有文本？如果需要，我将如何去做？

提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:51:27.757

我可以在您的代码中看到 jquery 引用，为什么不使用 jquery？下面是解决方案

为您需要隐藏的那些元素提供类名，例如

```
<h3 class="tohide">Complete Contaminant Removal</h3>
<p class="tohide">.......
..... 
```

更新方法：

```
function showHideDivs(indx){
            hideDivs();
            oShowHideDivs[indx].style.display = 'block';
            $(".tohide").hide();
        } 
```

隐藏所有 div 时可能需要显示原始元素，

```
function hideDivs(){
            for(i=0; i < oShowHideDivs.length; i++){
                oShowHideDivs[i].style.display = 'none';
            }
            $(".tohide").show();
        } 
```

将 jquery 用于所有此类任务，它将减少开发时间、工作量和代码。

如果您仍想使用本机 javascript，则需要包装所有需要隐藏的元素，`<span id="tohide">`并根据悬停选择显示隐藏此元素。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T04:51:35.453

您的“初始内容”不在 any`div`中，因此它不会受到您的显示/隐藏 div 逻辑的影响。我建议首先将它放在自己的 div 中，就像其他人一样：

```
<div id="ccontainer">
    <div id="Sediment-Filter">...</div>
    <div id="Anti-Bacterial-Filter">...</div>
    <div id="Proteus-RO-Membrane">...</div>
    <div id="Activated-Coconut-Carbon">...</div>
    <div id="Initial-Contents">
        <h3>Complete Contaminant Removal</h3>
        <p>What truly sets this system apart ...
        ...
    </div>
</div> 
```

`hideDivs`现在它会在被调用时像其他人一样被隐藏。下一步是在隐藏其他 div 时默认显示它：

```
 function hideDivs(showInitial){
        for(i=0; i < oShowHideDivs.length; i++){
            oShowHideDivs[i].style.display = 'none';
        }
        if ( showInitial )
            document.getElementById('Initial-Contents').style.display = 'block';
    } 
```

...除非您显示特定的 div：

```
function showHideDivs(indx){
    hideDivs(false); // Don't show initial contents
    oShowHideDivs[indx].style.display = 'block';
} 
```

请注意，`showInitial`当它是一个对象时是“真实的” `Event`，因此您仍然可以直接`oMap.areas[i].onmouseout = hideDivs;`在行中使用它。

（顺便说一句，您的问题不使用 jQuery，只是使用香草 JavaScript - 尽管您页面的其他地方有 jQuery）

# nuget - 参考非 NuGet 引用创建 NuGet 包

> ID：13945543
> 
> 赞同：0
> 
> 时间：2012-12-19T04:33:39.367
> 
> 标签：nuget, nuget-package

我正在创建一个将 2 个 dll 构建到 NuGet 包中的类库。它有一些对当前没有可供引用的 NuGet 包的 dll 的引用。

我应该如何使我的 NuGet 包依赖于当前无法通过 NuGet 获得的那些 dll？

如果我也将它们捆绑在一起，如果一个已经引用这些 dll 的项目拉下我的 NuGet 包会发生什么，该引用会发生什么？

我是否应该为每个 dll 引用创建一个 NuGet 包并使我的 NuGet 包依赖于这些？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T18:47:29.650

您可以将 DLL 捆绑到 NuGet 包中，而不会产生不良影响。在某个（或其他）文件夹中已经包含这些 DLL 的项目`/libs`将继续从那里引用它们。NuGet 包中的程序集将引用拉入 `/packages`.

在您的 nuspec 文件中，使用该`<file>`元素包含内部 DLL，如下所示：

```
<package>
  <metadata>
    ...
  </metadata>
  <files>
   <file src="PATH_TO_BIN\DependencyOne.dll" target="mylibs" />
   <file src="PATH_TO_BIN\DependencyTwo.dll" target="mylibs" />
  </files>
</packages> 
```

拉取 NuGet 包时，这将导致以下文件结构：

```
PATH_TO_PROJECT/packages/YOUR_NUGET_PACKAGE/mylibs/DependencyOne.dll
PATH_TO_PROJECT/packages/YOUR_NUGET_PACKAGE/mylibs/DependencyTwo.dll 
```

该`target`属性可以指定相对于您的包根的任意路径。

# macos - 应用程序键盘快捷键

> ID：13945546
> 
> 赞同：0
> 
> 时间：2012-12-19T04:34:01.057
> 
> 标签：macos, cocoa, keyboard-shortcuts

对于一个有趣的寒假项目，我正在尝试为 mac 编写一个工具，根据当前关注的任何应用程序，它将显示所有适当的键盘快捷键。我仍在考虑它如何工作，以及仍在四处寻找信息。但是，我当然想知道是否有一种简化的格式来定义 mac 上的键盘快捷键。有没有人可以在这里阐明？我正在我的电脑上寻找 plist，但什么都没有出现，所以我不确定这是正确的解决方案。

有任何想法吗？

提前感谢您，即使是反对票（：

# c++ - 计数器函数不建立在先前返回的值之上

> ID：13945547
> 
> 赞同：1
> 
> 时间：2012-12-19T04:34:29.627
> 
> 标签：c++, constructor, while-loop, counter

第一个 if 语句作为怀疑进入。该对象调用 getCount() 函数，但增加的值不是先前的计数，而是 0。我尝试在函数中使用 Count += Count。

```
int main(){
    .........     
    int displayCount;
    while(!inputfile.eof()) 
    {

        inputfile.get(letter);

            Checker object1;
            if (object1.isValid(letter)))
            {
                displayCount = object1.getCount();
            }
    }
    cout << displayCount;
   .
   .
   .
Checker::Checker() :
    m_Valid(false),
    count(0)
{
}

int Checker::getCount()
{

    if(m_Valid)
    {
        count ++;
    }

    return count;
} 
```

我的倾向是，一旦从函数返回值，那就是它。它将不再保持以前的值 bc （我的猜测）。

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T04:50:55.683

您只需要移出`Checker object1`循环即可；正如代码所示，正在创建一个新实例，每次通过的计数为零。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T04:45:38.857

正如您的评论，`count`不是 Check 类的 staic 成员，`Checker object1;`总是创建一个新对象并将 count 初始化为`0`。make count static 应该让你`getCount()`滚动。

```
class Checker
{
   static int count;
}; 
```

在 Checker.cpp 中初始化计数

```
int Check::count = 0; 
```

# windows - 实时远程屏幕共享，如 SharedView、TeamViewer

> ID：13945557
> 
> 赞同：0
> 
> 时间：2012-12-19T04:35:51.103
> 
> 标签：windows, winapi

我需要知道哪些技术来编写像现在已经不存在的 Microsoft SharedView 或类似 TeamViewer 的应用程序？有什么方法可以使用浏览器而不需要客户端应用程序吗？

我是一名 .NET 开发人员，但我认为我需要了解 C++ 或驱动程序的知识？您将如何将用户桌面流式传输给其他用户？你如何实时捕捉它？

我可以想象你如何截取桌面截图并传输它们，但是你如何捕捉应用程序屏幕的实时视频并将其流式传输给另一个用户。

有很多应用程序可以做到这一点：Skype、GotoMeeting、TeamViewer、SharedView、Citrix、logmein 等，但我想自己编写。

我怎样才能让它在 Windows、平板电脑、机器人等...上工作？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-13T10:07:59.223

浏览器似乎是一个很好的平台，但有一些限制

1 - flash 在 IOS 上根本不起作用，并且在 android 上也没有广泛使用。

2- Webrtc 在 mac/pc/linux 上与 chrome、firefox 和opera 一起工作，在 android 上与 firefox/chrome 一起工作。有一些库可以从 IOS 本机应用程序（在目标 C 中）使用 webrtc。另一方面，屏幕共享仅适用于 chrome (pc/mac/linux)。Firefox 中正在进行一项工作。

3- 在各种平台上安装浏览器插件即使不是不可能也很困难，但它可以打开一些可能性：在 chrome 和 firefox 上，您可以使用 javascript 制作它们。例如，javascript 扩展可以共享 chrome 中的选项卡。

使用 javascript，您可以从桌面流式传输到任何其他桌面/android。

# sql-server - 在 SQL Server 和 ServiceStack.OrmLite 中使用架构名称

> ID：13945563
> 
> 赞同：12
> 
> 时间：2012-12-19T04:36:11.057
> 
> 标签：sql-server, ormlite-servicestack

任何人都知道如何将正确的别名属性应用于具有模式名称的查询表？

我有一张桌子叫`accounts.register`. 我尝试将`[Alias("accounts.register")]`其用作 Register 类的类装饰器属性，但这不起作用。

如果我将架构更改为`dbo`然后我可以删除别名并且一切正常。不幸的是，我有一个包含许多模式的遗留系统，所以我需要它来工作。

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-12-19T05:39:09.160

好的，我想通了。与 Alias 属性一起的是 Schema 属性。前者在 ServiceStack.DataAnnotations 命名空间中，而后者在 ServiceStack.OrmLite 命名空间中。这是一个将字段 field1 和 field2 映射到/来自 myschema.mytable 的示例：

```
using System;
using ServiceStack.OrmLite;
using ServiceStack.DataAnnotations;

[Schema("myschema")]
[Alias("mytable")]
public class MyEntity
{
    [PrimaryKey]
    [AutoIncrement]
    public long Id { get; set; }

    [Alias("field1")]
    public string SomeField1 { get; set; }

    [Alias("field1")]
    public string SomeField2 { get; set; }
} 
```

# extjs4 - 在 extjs 中禁用 Tab 键按下事件的文本字段

> ID：13945564
> 
> 赞同：1
> 
> 时间：2012-12-19T04:36:12.367
> 
> 标签：extjs4, textfield

如何仅在 extjs 中从键盘按 Tab 键时禁用文本字段？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-04-30T08:49:06.663

您可以将`enableKeyEvents`文本字段的属性设置为 true，然后检测`tab` `keypress`并禁用您的文本字段：

```
{
   xtype: 'textfield',
   ...
   enableKeyEvents: true,
   listeners : {
      keypress : function(textfield, e, options) {
         if (e.keyCode == 9) {
            textfield.setDisabled(true);
         }
      }
   }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2013-04-29T11:52:53.267

如果将文本字段的 tabIndex 配置设置为负值，则无法使用 tab 键访问文本字段。例子：

```
Ext.create('Ext.form.Panel', {
    title: 'Contact Info',
    width: 300,
    bodyPadding: 10,
    renderTo: Ext.getBody(),
    items: [{
        xtype: 'textfield',
        name: 'name',
        fieldLabel: 'Name',
        tabIndex: 1
    }, {
        xtype: 'textfield',
        name: 'email',
        fieldLabel: 'Email Address',
        tabIndex: -1
    }]
}); 
```

在此示例中，无法通过按 Tab 键访问电子邮件文本字段。

# c - 如何在 C 中使用函数的指针？（没有 C++）

> ID：13945566
> 
> 赞同：2
> 
> 时间：2012-12-19T04:36:16.777
> 
> 标签：c

正如标题所说，如何在 C 中使用函数的指针？我可以只取函数名的地址并将其传递给另一个函数吗？然后取消引用它并调用它？

非常感谢。

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-19T04:42:12.553

如果你知道函数地址，那么是的。例如：

```
int add(int a, int b)
{
    return a + b;
}

int sub(int a, int b)
{
    return a - b;
}

int operation(int (*op)(int, int), int a, int b)
{
    return op(a, b);
} 
```

然后像这样调用它：

```
printf("%d\n", operation(&add, 5, 3)); // 8
printf("%d\n", operation(&sub, 5, 3)); // 2 
```

你甚至可以做一些数组技巧：

```
int op = 0;
int (*my_pointer[2])(int, int) =
{
    add, // op = 0 for add
    sub  // op = 1 for sub
};
printf("%d\n", my_pointer[op](8, 2)); // 10 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T05:10:52.693

为了准确地回答您的问题，C 中有一个用于满足此类需求的规定，称为“**函数指针**”。

但你必须遵守一定的规则，

1）您要使用函数指针调用的所有函数必须具有相同的返回类型。2）您要使用函数指针调用的所有函数必须具有相同的参数和参数类型。

例如，

整数添加（整数，整数）；整数子（整数，整数）；

for above two functions you can write function pointer as,

int (*operation)(int , int);

and you can use it just as described by **Flavio Torbio**.

hope it helps.....

# knockout.js - 敲除绑定未定义单击

> ID：13945572
> 
> 赞同：6
> 
> 时间：2012-12-19T04:36:52.573
> 
> 标签：knockout.js

我有一个视图模型，它必须附加到`<li>`标签的点击事件。这是视图模型和标记

```
 var viewModel =
    {
        Folders: ['Inbox', 'Archive', 'Sent', 'Spam'],
        SelectedFolder: ko.observable('Inbox'),
        chosenFolderId: ko.observable(),
        navigate: function () {
            self.chosenFolderId(folder);               
        }
    };
ko.applyBindings(viewModel); 
```

标记是

```
 <ul class="nav nav-list bs-docs-sidenav affix" data-bind="foreach:Folders">
                @*<li data-bind="css:{active: $data == chosenFolderId() }">*@
                <li>
                    <a href="#" data-bind="click:navigate">                      
                        <!-- ko text: $data -->
                        <!-- /ko -->
                        <i class="icon-chevron-right"></i>
                    </a>
                </li>                   
            </ul> 
```

问题出在这一行

```
<a href="#" data-bind="click:navigate"> 
```

和

```
<li data-bind="css:{active: $data == chosenFolderId() }"> 
```

两者 上面的行分别没有附加到`Navigate`函数和`chosenFolderId`可观察的。它说`Navigate`是 undefined 。无法解析`. Same goes for`selectedFolderId`。

知道为什么会这样吗？

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-12-19T06:02:05.047

您当前的方法存在一些问题：

当您使用[foreach 绑定](http://knockoutjs.com/documentation/foreach-binding.html)时，例如`data-bind="foreach:Folders"`在您`ul`的“当前上下文”中将是您的文件夹集合中的项目。

因此，如果您想访问您需要使用`navigate`的方法，或访问您的“根”视图模型（您可以阅读有关[绑定上下文](http://knockoutjs.com/documentation/binding-context.html)的更多信息）：`chosenFolderId``$parent``$root`

```
<ul class="nav nav-list bs-docs-sidenav affix" data-bind="foreach:Folders">
    <li data-bind="css:{active: $data == $parent.chosenFolderId() }">
        <a href="#" data-bind="click: $parent.navigate">                      
            <!-- ko text: $data -->
            <!-- /ko -->
            <i class="icon-chevron-right"></i>
        </a>
    </li>                   
</ul>​ 
```

您的视图模型中也存在一些问题。如果您有`navigate`尝试使用`self`的复杂函数，则应将函数用作视图模型，而不是可以存储的对象文字`this`：

```
var viewModel = function() {
    var self = this;
    self.Folders = ['Inbox', 'Archive', 'Sent', 'Spam'];
    self.SelectedFolder = ko.observable('Inbox');
    self.chosenFolderId = ko.observable();
    self.navigate = function(folder) {
        self.chosenFolderId(folder);
    }
};
ko.applyBindings(new viewModel());​ 
```

请注意：您的`navigate`函数需要一个`folder`参数才能使其工作，并且 Knockout 将为您传递当前项目。

这是一个[有效的 JSFiddle](http://jsfiddle.net/8Y5cv/)。

如果您想使用对象文字作为您的视图模型来执行此操作，则[JSFiddle](http://jsfiddle.net/8Y5cv/1/)演示了该方法。

但是，您应该知道两种视图模型创建方法的优势和劣势。这个SO问题很好地总结了它：[Difference between knockout View Models declared as object literals vs functions](https://stackoverflow.com/questions/9589419/difference-between-knockout-view-models-declared-as-object-literals-vs-functions)

# c++ - 更新程序仍然崩溃，似乎找不到解决方案？

> ID：13945573
> 
> 赞同：-1
> 
> 时间：2012-12-19T04:37:00.863
> 
> 标签：c++

这是我的原始帖子：[打开文件后程序崩溃](https://stackoverflow.com/questions/13944001/program-crashes-after-opening-file)

我一次又一次地尝试修复我的代码，但它仍然崩溃或无法控制地运行。我还没有找到解决方案。

这是我更新的代码：

```
while(!intInputFile.eof())
{
   intNode* anotherInt;
   anotherInt = new intNode;
   if(intList==NULL)
   {
       intList = anotherInt;
       lastInt = anotherInt;
   }
   else
   {
      lastInt->nextNode = new intNode;
      lastInt = lastInt->nextNode;
      lastInt->nextNode = NULL;
   }
   lastInt->intValue = fileInt;
   lastInt = lastInt->nextNode;
   lastInt->nextNode = NULL;
   intInputFile >> fileInt; // *** Problem occurs on this line. ***
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T04:57:25.057

问题是您要更新 lastInt 两次：

```
else
{
   lastInt->nextNode = new intNode;
   lastInt = lastInt->nextNode;
   lastInt->nextNode = NULL;
} 
```

lastInt->nextNode 现在为 NULL

```
lastInt->intValue = fileInt;
lastInt = lastInt->nextNode; 
```

现在 lastInt 是 NULL

```
lastInt->nextNode = NULL; 
```

现在您正在取消引用空指针并导致异常。您不应该在 else 之后更新 lastInt 。

# java - 如何在 Eclipse IDE 中快速进行 Web 应用项目验证？

> ID：13945577
> 
> 赞同：6
> 
> 时间：2012-12-19T04:37:04.827
> 
> 标签：java, eclipse, xhtml

当我在 Eclipse 中执行**Project-->clean** to web application 时，XHTML 文件的验证非常慢。完成验证大约需要 20 分钟。我的项目中有 54 个 XHTML 文件。

**我在window-->preferences-->validations**中取消选中所有条目。它的构建速度非常快，但我不知道这是绕过验证的正确方法。我使用的是 Eclipse Indigo 版本。如何让 Eclipse 快速完成验证?

* * *

## 回答 #1

> 赞同：7
> 
> 时间：2012-12-19T04:44:01.937

20 分钟完成 54 个 XHTML 文件的验证肯定是有问题的。重新启用所有验证器，然后运行 ​​Project -> Clean。由于 Eclipse 正在重新验证文件，因此请获取一些 Eclipse JVM 的核心转储；这可能会揭示事情究竟在哪里滞后。

我敢打赌，验证器会在验证期间尝试访问外部资源，例如 - 下载 XML 模式文件或 DTD。如果您的 XHTML 文件包含对此类外部资源的引用，则它们可能是滞后的原因。您可以下载此类 DTD 和 Schema，并使用 Eclipse 的*XML Catalog*将 DTD/Schema 引用绑定到您机器上的物理文件（而不是在线获取它们）。

这只是一种理论。但是，要确定这一点，您必须发出 Eclipse 的 JVM 的核心转储并仔细查看。

# c# - HLSL 和 XNA：如何获取当前像素着色器迭代的周围像素的位置和颜色？

> ID：13945582
> 
> 赞同：2
> 
> 时间：2012-12-19T04:38:10.520
> 
> 标签：c#, xna, hlsl

**摘要和目标：**

我正在尝试制作一个着色器来为游戏编辑器执行简单的窗口效果。该效果将绘制具有低值边框颜色和高值突出显示的框架。我尝试了很多方法，但总的来说，我只提出了一种可能的解决方案来使用 GPU 实现这一目标。

首先，我创建了一个自定义顶点类型，用于在屏幕空间中存储向量的 XY 坐标。

```
using Microsoft.Xna.Framework;
using Microsoft.Xna.Framework.Graphics;

namespace WindowsGame1 {
    public struct Vertex2D : IVertexType {
        public Vector2 Position;
        public static readonly VertexDeclaration VertexDeclaration = new VertexDeclaration(new VertexElement(0, VertexElementFormat.Vector2, VertexElementUsage.Position, 0));

        public Vertex2D(float x, float y) {
            Position = new Vector2(x, y);
        }

        VertexDeclaration IVertexType.VertexDeclaration {
            get {
                return VertexDeclaration;
            }
        }
    }
} 
```

接下来，我创建一个自定义 Window 类的实例。构造函数设置顶点缓冲区并设置效果中的视图、投影和颜色参数。

这是效果文件。

```
float4x4 view;
float4x4 projection;
float4 color;
float shadowPercent = 0.36893203883495145631067961165049;
float highlightPercent = 1.262135922330097087378640776699;
Texture2D targetTexture;

struct FillVertexShaderInput {
    float4 position : POSITION0;
};

struct FillPixelShaderInput {
    float4 position : POSITION0;
};

struct BorderPixelShaderInput {
    float4 position : SV_Position;
};

// Transforms color component range from 0-255 to 0-1.
float4 ClampColor(float4 color) {
    return float4(color[0] / 255, color[1] / 255, color[2] / 255, color[3] / 255);
}

// Shifts the value of a color by a percent to get border color and highlight color from a fill color.
float4 ShiftValue(float4 color, float percent) {
    return float4(clamp(color[0] * percent, 0, 1), clamp(color[1] * percent, 0, 1), clamp(color[2] * percent, 0, 1), clamp(color[3] * percent, 0, 1));
}

FillPixelShaderInput FillVertexShader(FillVertexShaderInput input) {
    FillPixelShaderInput output;
    output.position = mul(mul(input.position, view), projection);
    return output;
}

float4 FillPixelShader(FillPixelShaderInput input) : COLOR0 {
    return color;
}

float4 BorderPixelShader(BorderPixelShaderInput input) : COLOR0 {
    // Get color of pixel above?
    // float4 tempColor = texture.Sample(sampler, (input.position[0], input.position[1] - width));
    return color;
}

technique Frame {
    // Store Texture2D, sampler2D, and others to be stored between passes?
    /*Texture2D texture;
    sampler2D sampler;
    float width;
    float height;
    texture.GetDimensions(width, height);
    color = ClampColor(color);
    float4 shadowColor = ShiftValue(color, shadowPercent);
    float4 highlightColor = ShiftValue(color, highlightPercent);*/

    pass Fill {
        VertexShader = compile vs_2_0 FillVertexShader();
        PixelShader = compile ps_2_0 FillPixelShader();
    }

    pass Border {
        PixelShader = compile ps_4_0 BorderPixelShader();
    }
} 
```

我希望能够在两次传递之间存储数据，但我不知道这是否可能，所以我尝试在 XNA 中存储一个渲染目标并将其用作下一次传递的参数。

这是Window的Draw代码。

```
public void Draw(Game1 game) {
    // rectangle is a simple window for this test.
    RenderTarget2D target = new RenderTarget2D(game.GraphicsDevice, rectangle.Width, rectangle.Height);
    game.GraphicsDevice.SetRenderTarget(target);
    game.GraphicsDevice.BlendState = BlendState.AlphaBlend;
    game.GraphicsDevice.Clear(Color.Transparent);
    game.GraphicsDevice.SetVertexBuffer(vertexbuffer);
    effect.Techniques["Frame"].Passes["Fill"].Apply();
    game.GraphicsDevice.DrawPrimitives(PrimitiveType.TriangleStrip, 0, 2);
    game.GraphicsDevice.SetRenderTarget(null);
    effect.Parameters["targetTexture"].SetValue(target);
    effect.Techniques["Frame"].Passes["Border"].Apply();
} 
```

如果我可以在像素着色器中获取当前像素周围像素的位置和颜色，我就可以确定在当前位置绘制像素的颜色。填充工作正常。我只是不知道绘制边框阴影和高光的最佳方法。我也遇到了阿尔法混合的问题。除了窗口之外的所有东西都是默认的深紫色，即使我设置了 alpha 混合并将渲染目标缓冲区清除为透明。

如果您决定提供帮助，请提前致谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-12-16T01:15:52.583

我相信它是这样工作的：

```
PixelShaderOutput PixelShaderFunction(VertexShaderOutput input, float2 vPos : VPOS)
{
// shader code here
} 
```

然后您可以使用`vPos.x`和`vPos.y`访问正在处理的当前像素的坐标。

# javascript - 首次查看网站时谷歌地图未正确加载

> ID：13945586
> 
> 赞同：0
> 
> 时间：2012-12-19T04:38:24.487
> 
> 标签：javascript, google-maps

查看我正在为我正在处理的项目开发 atm 的网站时 - 似乎您第一次访问该网站时 - 位于页脚中的谷歌地图无法加载，仅加载该位置的图像，而不是互动地图。但是，当重新加载页面时，地图工作正常：/。

我对 JS 还是很陌生，对此的任何帮助将不胜感激。

该网站可以在[http://www.kingsroad.net.au/看到](http://www.kingsroad.net.au/)

主要页脚页面源可以在[http://www.kingsroad.net.au/content/footerMain.php看到](http://www.kingsroad.net.au/content/footerMain.php)

kingsroad.net.au/js/general.js 还控制页面上内容的加载。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T04:48:55.313

你可以试试这样：

```
function loadGoogleMap(){
  var mapOptions = {
    ...
  };
  var map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);

  setTimeout(function() {
    google.maps.event.trigger(map, "resize");
  }, 3000);
} 
```

# wolfram-mathematica - 在 Mathematica 8 中使用 Show [p1, p2, PlotRange -> All] 的非均匀轴刻度

> ID：13945592
> 
> 赞同：1
> 
> 时间：2012-12-19T04:39:05.343
> 
> 标签：wolfram-mathematica

我正在尝试使用带有 Show[p1, p2, PlotRange -> All] 的 Mathematica 8 在同一图中显示一系列图，但是 y 轴标签（范围从 log 0.5 到 log 1.5）看起来不均匀。如何将轴标签更正为统一？

我已经包含了一个带有两个图（dataPlot3 和 dataPlot4）的示例，但我试图在同一个图中显示更多内容。

![例子](../Images/b36deedaa70144d1efbd862954cf290b.png)

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-06T06:09:54.030

`Show`使用指定的第一个图形中的选项，包括`PlotRange`和`Ticks`。您可以在创建包含两个数据集的范围的第一个绘图时指定一个显式`PlotRange`，并且将生成适当的刻度来覆盖它：

```
d1 = Table[x^2, {x, 50}];
d2 = Table[50 + x^3, {x, 50}];

p1 = ListLogLogPlot[d1, PlotStyle -> Red, PlotRange -> {1, 200000}]

p2 = ListLogLogPlot[d2, PlotStyle -> Black]

Show[p1, p2] 
```

![数学图形](../Images/080c25e7c1e223dbdacd85cee2a06fd9.png) ![数学图形](../Images/3a40333d593afb6be65e3e9defc1b652.png) ![数学图形](../Images/183d64366de032c531a985ec0442494f.png)

# flip - 如何在 android 上创建翻转页面视图？

> ID：13945593
> 
> 赞同：1
> 
> 时间：2012-12-19T04:39:32.887
> 
> 标签：flip

如何使用 .pdf 文件在 iOS 等 Android 上创建翻页视图

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-08-29T18:43:16.693

你可以试试 FlexPaper，它支持 Android 和 iOS

[http://flexpaper.devaldi.com/examples/usecases/Whitepapers/Whitepaper_html5_pdf_sample.jsp](http://flexpaper.devaldi.com/examples/usecases/Whitepapers/Whitepaper_html5_pdf_sample.jsp)

# java - 是否可以使用 Java SE 在一行上输入文本？

> ID：13945594
> 
> 赞同：0
> 
> 时间：2012-12-19T04:39:35.537
> 
> 标签：java

我想知道Java SE是否有一种方法可以打印出一段段落，然后在行之间我们可以允许用户在行上键入答案。

要更清楚：

这是一个例子：

***_* __ *_***读书，爱丽丝也喜欢听古典音乐。

因此，当使用缓冲区阅读器绘制文本时，用户可以在行本身上输入答案。

这是缓冲区读取器的方法：

```
 public void getCloze(){
    File file = new File("cloze.txt");
    StringBuffer contents = new StringBuffer();
    BufferedReader reader = null;

    try {
        reader = new BufferedReader(new FileReader(file));
        String text = null;

        // repeat until all lines is read
        while ((text = reader.readLine()) != null) {
            contents.append(text)
                    .append(System.getProperty(
                            "line.separator"));
        }
    } catch (FileNotFoundException e) {
        e.printStackTrace();
    } catch (IOException e) {
        e.printStackTrace();
    } finally {
        try {
            if (reader != null) {
                reader.close();
            }
        } catch (IOException e) {
            e.printStackTrace();
        }
     // show file contents here
    System.out.println(contents.toString());

}} 
```

如果有任何教程来显示这些步骤，希望有人能告诉我如何和最好的。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T04:56:47.280

尚不完全清楚您的问题是什么，但您似乎想知道如何编写问题或提示并允许用户在同一行输入答案。如果是这样，“诀窍”是使用`System.out.print(prompt)`而不是`System.out.println(prompt)`; 即提示后不要输出换行符。

* * *

**更新**- 我明白你现在在问什么。

坏消息是没有简单的方法可以做到这一点。[但是，使用charva](http://www.pitman.co.za/projects/charva/index.html)库或“Java 的诅咒”库之类的东西是可行的-[什么是用于终端应用程序的好的 Java、类似诅咒的库？](https://stackoverflow.com/questions/439799/whats-a-good-java-curses-like-library-for-terminal-applications)

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T05:00:09.537

我认为不可能提示用户在 Java 中已经打印的行**之间输入。**您必须停止打印以获取用户输入，然后向用户打印更多字符串

# ios - iOS 视频方向

> ID：13945599
> 
> 赞同：0
> 
> 时间：2012-12-19T04:40:07.877
> 
> 标签：ios, video, orientation, landscape, portrait

iOS6 iPhone 项目方向仅强制为纵向模式。我现在添加了一个视频，它只能在纵向模式下播放。如何仅将视频的方向更改为横向？谢谢。

# c# - 使用 TextReader 读取字节

> ID：13945601
> 
> 赞同：4
> 
> 时间：2012-12-19T04:40:17.310
> 
> 标签：c#, encoding, textreader

过去，我一直在使用 BinaryReader 读取几个字节，但最近，我收到了这个错误：

```
An error has occurred: Probable I/O race condition detected while copying memory. The I/O package is not thread safe by default. In multithreaded applications, a stream must be accessed in a thread-safe way, such as a thread-safe wrapper returned by TextReader's or TextWriter's Synchronized methods. This also applies to classes like StreamWriter and StreamReader.    at System.Buffer.InternalBlockCopy(Array src, Int32 srcOffset, Array dst, Int32 dstOffset, Int32 count)
   at System.IO.FileStream.Read(Byte[] array, Int32 offset, Int32 count)
   at System.IO.BinaryReader.FillBuffer(Int32 numBytes)
   at System.IO.BinaryReader.ReadUInt16() 
```

因此，我决定使用 TextReader 的 Synchronized 方法，如下所示：

```
public class SafeReader
{
    private Stream m_Stream;
    private TextReader m_TextReader;
    public SafeReader(Stream stream)
    {
        m_TextReader = TextReader.Synchronized(new StreamReader(m_Stream = stream));
    }
    public Stream BaseStream
    {
        get { return m_Stream; }
    }
    public int ReadInt32()
    {
        // this doesn't even need to do anything (just has to read 4 bytes and it gets disposed of anyway);
        ReadUInt16();
        ReadUInt16();
        return -1;
    }
    public short ReadInt16()
    {
        return (short)(this.ReadUInt16());
    }
    public ushort ReadUInt16()
    {
        return BitConverter.ToUInt16(new byte[] { (byte)(m_TextReader.Read() & 0xFF), (byte)(m_TextReader.Read() & 0xFF) }, 0);
        //return (ushort)(((m_TextReader.Read() & 0xFF)) | ((m_TextReader.Read() & 0xFF) << 8));
    }
} 
```

但是，返回的值（它几乎以专有格式读取图像）是不正确的。“图像”有轻微的蓝色色调，我觉得这可能是由于 TextReader 读取文本（并且读取带有编码的字符*而不是*仅仅读取字节值）的事实造成的。

是否有像 TextReader 的 Synchronized() 这样的“线程安全”方式来读取二进制文件？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:43:19.203

试试`File.ReadAllBytes()`。然后您可以使用 a`MemoryStream`从缓冲区中提取值。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T04:44:09.837

您应该可以使用`BinaryReader`而不是`TextReader`. 只需确保您`lock`从（写入）访问它的线程上的数组即可。

```
Object locker = new Object;

lock (locker) {
    //BinaryReader here
} 
```

从其他线程使用相同的：

```
lock (locker) {
    //read from array (read is thread-safe though)
} 
```

如果在另一个线程上进行写操作，则将等待直到对象被解锁。

`File.ReadAllBytes`如果您不需要分块阅读，也可以使用。

或者，在文本阅读器中使用 ASCII 或 UTF8 编码。

# sql - 什么是“隐式数据库序列”？

> ID：13945602
> 
> 赞同：5
> 
> 时间：2012-12-19T04:40:31.053
> 
> 标签：sql, ruby-on-rails, database, heroku, rake

我将一个 Ruby on Rails 测试应用程序推送到 Heroku，运行命令后`heroku run rake db:migrate`，收到一条通知：

`NOTICE: CREATE TABLE will create implicit sequence "microposts_id_seq" for serial column "microposts.id"`

什么是隐式序列？而且，在这种情况下，“串行列”是指代主键的另一种方式吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T07:50:40.013

您的表包含一个列，该列被定义为`serial`它只是整数列的简写，默认值取自序列。为了做到这一点，PostgreSQL 自动创建一个绑定到该列的序列。该消息仅告诉您创建了这样的序列。

如果您没有明确定义`serial`列，您可能将其定义为“autoincremen”或任何 Ruby 术语。

有关更多详细信息，请阅读手册：[http ://www.postgresql.org/docs/current/static/datatype-numeric.html#DATATYPE-SERIAL](http://www.postgresql.org/docs/current/static/datatype-numeric.html#DATATYPE-SERIAL)

# codeigniter - Codeigniter 的 sess_time_to_update 是如何工作的

> ID：13945603
> 
> 赞同：13
> 
> 时间：2012-12-19T04:40:31.773
> 
> 标签：codeigniter

基于以下问题/答案 [CodeIgniter 会话类在 Chrome 中不起作用](https://stackoverflow.com/questions/12907962/codeigniter-session-class-not-working-in-chrome)

我遇到的问题是人们无法从远离美国服务器的另一个国家登录我的网站。在线搜索后，我偶然发现了一个建议，该建议描述了问题是如何基于服务器时区和用户时区之间的差异的。因此，通过延长 session_expiration 我设法解决了这个问题，人们能够成功登录。

我的问题是 sess_time_to_update 是否会创建一个新的时间戳，并且它会因为新的时间戳位于错误的时区而注销用户？我是否必须将新的 sess_time_to_update 设置为 17 小时以上，以便它涵盖最广泛的时区，如我已链接的问题中所述。是否有其他方法可以根据用户的本地时间在用户的浏览器中存储会话（不要求他们在配置文件和其他类型的用户不友好方案中选择时区）。我想要一个 2 小时的默认会话到期时间 + 800 秒。更新时间。我没有使用数据库来存储会话，我宁愿不使用它。

* * *

## 回答 #1

> 赞同：14
> 
> 时间：2012-12-20T16:01:08.637

该`sess_time_to_update`设置是会话详细信息（例如上次活动）的更新频率。默认值为每 5 分钟（300 秒），并且将生成一个新的会话 ID。这将根据设置重置到期日期`sess_expiration`。

我建议保持`sess_time_to_update`默认值（或更低），因为这会使用户会话保持更长时间，因为会话到期会不断重置。唯一可能需要保持较高的设置是`sess_expiration`，除非您可以确定用户时区。

有几种方法可以尝试确定用户时区。一种是 Javascript（例如：[客户端时区偏移](http://josephscott.org/archives/2009/08/detecting-client-side-time-zone-offset-via-javascript/)），或者您可以尝试使用[PHP 的 GEOIP](http://php.net/manual/en/book.geoip.php)方法。

# eclipse - 如何在其他笔记本电脑中克隆由 eclipse 插件创建的 mercurial 存储库？

> ID：13945610
> 
> 赞同：0
> 
> 时间：2012-12-19T04:41:29.453
> 
> 标签：eclipse, plugins, mercurial

我的同事通过 eclispe 插件（http://javaforge.com/project/HGE）（右键单击项目根目录->团队->共享与->mercurial ....）在 IP 地址：192.168 的历史笔记本电脑中创建了 mercurial 存储库。 0.111，问题是我如何在 Eclipse 中使用相同的插件克隆他的存储库。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T12:01:03.727

对于克隆，您需要通过 ssh 或 http（或插件提供的其他机制）进行访问。如果您的同事正在运行 Linux 或 OS X 系统，他可以在他的机器上运行 SSH 服务器并为您创建一个帐户，这样您就可以通过 ssh 克隆他的存储库。更简单的解决方案（也适用于 Windows）是让您的同事`hg serve`在他的 Mercurial 存储库中运行（我不知道 Eclipse 插件是否有此选项），它将运行嵌入式 Web 服务器。默认情况下，您应该能够从中进行克隆`http://192.168.0.111:8000/`（该`hg serve`命令具有在另一个端口上运行它的选项）。

# iphone - UISwipeGestureRecognizer 和 UIPanGestureRecognizer 在一个视图中的问题

> ID：13945614
> 
> 赞同：2
> 
> 时间：2012-12-19T04:41:50.773
> 
> 标签：iphone, objective-c, ios, ipad

我有以下代码：

```
 UISwipeGestureRecognizer *swipeGestureRecognizer = [[UISwipeGestureRecognizer alloc] initWithTarget:self action:@selector(swipeHighlightReadingVC:)];
    swipeGestureRecognizer.delegate = self;
    [self.highlightReadingVC_.view addGestureRecognizer:swipeGestureRecognizer];

    UIPanGestureRecognizer *panGestureRecognizer = [[UIPanGestureRecognizer alloc] initWithTarget:self action:@selector(panHighlightReadingVC:)];
    panGestureRecognizer.delegate = self;
    [panGestureRecognizer requireGestureRecognizerToFail:swipeGestureRecognizer];
    [self.highlightReadingVC_.view addGestureRecognizer:panGestureRecognizer]; 
```

我的问题是，虽然我在视图上滑动，但它总是首先检测到平移手势。我希望在平移/拖动之前先识别滑动。我怎么做？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T04:45:46.423

您将希望将两个`UIGestureRecognizer`委托中的一个设置为有意义（可能`self`）的对象，然后听，然后返回`YES`。

```
- (BOOL) gestureRecognizer:(UIGestureRecognizer *)gestureRecognizer shouldRecognizeSimultaneouslyWithGestureRecognizer:(UIGestureRecognizer *)otherGestureRecognizer {
    return YES;
} 
```

此方法在识别手势时调用，`gestureRecognizer`或者`otherGestureRecognizer`会阻止其他手势识别器识别其手势。注意返回`YES`保证允许同时识别；`NO`另一方面，返回不能保证防止同时识别，因为其他手势识别器的委托可能会返回`YES`。

我在我的应用程序中也遇到了同样的问题，它对我来说很好。所以它可能会解决你的问题。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2015-06-13T00:00:13.533

如果目标是让**平移**手势/s 阻止识别**滑动**（通常情况）：

```
swipeGesture.requireGestureRecognizerToFail(panGesture) 
```

如果目标是让**滑动**手势/秒阻止识别**平移**（不寻常的情况）：

```
panGesture.requireGestureRecognizerToFail(swipeGesture) 
```

也照常做：

```
panGesture.delegate = self
swipeGesture.delegate = self 
```

并实现`shouldRecognizeSimultaneouslyWithGestureRecognizer`始终返回`true`

**注意：**`UIWebView`在's 和' 之类的东西上，`UIScrollView`要正确解释单点触摸滑动，最好使用以下`requireGestureRecognizerToFail`三 (3) 个：平移、长按和第二个滑动识别器，`.numberOfTouchesRequired = 2`以便 UX 直观地工作。

这是我们使用的（Swift）：

```
class AboutViewController: UIViewController, UIGestureRecognizerDelegate {

    @IBOutlet var webView: UIWebView!

    var swipeToDismiss: UISwipeGestureRecognizer {
        var r = UISwipeGestureRecognizer(target: self, action: "dismiss:")
        r.direction = .Right
        r.delegate = self
        r.requireGestureRecognizerToFail(longPress)
        r.requireGestureRecognizerToFail(pan)
        r.requireGestureRecognizerToFail(doubleSwipe)
        return r
    }

    var doubleSwipe: UISwipeGestureRecognizer {
        var r = UISwipeGestureRecognizer()
        r.direction = .Right
        r.delegate = self
        r.numberOfTouchesRequired = 2
        return r
    }

    var longPress: UILongPressGestureRecognizer {
        var r = UILongPressGestureRecognizer()
        r.allowableMovement = 4000.0
        r.delegate = self
        return r
    }

    var pan: UIPanGestureRecognizer {
        var r = UIPanGestureRecognizer()
        r.delegate = self
        return r
    }

    func dismiss(recognizer: UISwipeGestureRecognizer!) {
         // ...popViewControllerAnimated(true)
    }

    private func setupWebView() {
        // ...
        webView.addGestureRecognizer(longPress)
        webView.addGestureRecognizer(swipeToDismiss)
        webView.addGestureRecognizer(pan)
        webView.addGestureRecognizer(doubleSwipe)
    }

    // MARK: - UIGestureRecognizerDelegate

    func gestureRecognizerShouldBegin(gestureRecognizer: UIGestureRecognizer) -> Bool {
        println("gesture start: \(gestureRecognizer)")
        return true
    }

    func gestureRecognizer(gestureRecognizer: UIGestureRecognizer, shouldRecognizeSimultaneouslyWithGestureRecognizer otherGestureRecognizer: UIGestureRecognizer) -> Bool {
        println("multiple gestures: \(gestureRecognizer), \(otherGestureRecognizer)")
        return true
    }

    // MARK: - UIViewController

    override func viewDidLoad() {
        super.viewDidLoad()

        setupWebView()
    }
} 
```

# python - Python，响应和 if 语句

> ID：13945615
> 
> 赞同：-2
> 
> 时间：2012-12-19T04:41:58.500
> 
> 标签：python, if-statement, response

我正在编写一个程序，它将命令代码发送到串行设备并从设备获取响应，然后发送另一个命令。我可以完美地发送命令，甚至得到响应。但是，我的 if 语句似乎不承认响应。

例子：

```
response = sendCommand(beep)
if response == '0D6010100':
  print"Command beeped!" 
```

就像我提到的，我得到一个成功的响应代码 0D6010100，但是 if 语句不承认它。有任何想法吗？

我正在使用 Python 2.7 并使用 PySerial

UDPATE：

print type(response) 给了我： print repr(response) 给了我： '0D6010100\r\n' 我假设 repr(response) 末尾的 \r\n 在这个问题上有一些帮助？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T04:59:18.023

正如您所怀疑的，`\r\n`最后是问题所在。做

```
response = sendCommand(beep).strip() 
```

从字符串的末尾去除空格。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-19T04:59:58.643

您需要先修剪响应：

```
if response.rstrip() == '0D6020100':
   print 'beepity boop beep woohoo!' 
```

# recursion - 计算一个句子中奇数的数量

> ID：13945616
> 
> 赞同：4
> 
> 时间：2012-12-19T04:42:00.450
> 
> 标签：recursion, lisp, scheme, sicp

*我对 lisp 相当陌生，这是练习问题之一。*

首先，这个问题很简单`scheme`。我不知道如何回答这个问题。
这个问题的目的是编写一个函数，`count-odd`它**以一个句子作为输入，并计算其中包含多少个奇数**，如下所示：

> （奇数'（234 556 4 10 97））6

或者

> （奇数'（24680 42 88））0

如果可能的话，你怎么能做到这一点，使用高阶函数，或递归或两者兼而有之——无论什么都能完成。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-19T04:57:53.780

我会给你一些指示，而不是一个完整的解决方案：

首先，我看到了两种不同的方法，递归或高阶函数+递归。对于这种情况，我认为直接递归更容易理解。

所以我们需要一个函数，它接受一个列表并做一些事情，所以

```
(define count-odd
  (lambda (ls) SOMETHING)) 
```

所以这是递归的，所以我们想要拆分列表

```
(define count-odd
  (lambda (ls)
    (let ((head (car ls)) (rest (cdr ls)))
      SOMETHING))) 
```

现在这有一个问题，它是一个空列表的错误（例如`(count-odd '())`），但我会让你弄清楚如何解决这个问题。*提示，查看 scheme 的 case 表达式，方便查看和处理空列表*

现在有些东西是我们的递归，所以对于类似的东西：

```
(+ (if (is-odd head) 1 0) (Figure out how many odds are in rest)) 
```

那应该给你一些开始。如果您稍后有任何具体问题，请随时发布更多问题。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T13:49:06.217

请首先考虑其他答案指南，以便您尝试自己完成。以下是解决它的**另**一种方法。这是一个经过测试的完整解决方案：

```
(define (count-odd num_list)
    (if (null? num_list)
        0
        (+ (num_odds (car num_list)) (count-odd (cdr num_list)))))

(define (num_odds number)
    (if (zero? number)
        0
        (+ (if (odd? number) 1 0) (num_odds (quotient number 10))))) 
```

这两个过程都是**递归**的。

*   `count-odd`不断获取列表的第一个元素并将其传递给，`num_odds`直到列表中没有元素为止（即基本情况，空列表）。

*   `num_odds`获取一个数字的奇数位数。为此，始终询问数字是否为**奇数**，在这种情况下它将加 1，否则加 0。然后将数字除以 10 以删除最低有效位（**确定数字是奇数还是偶数**）并传递为新调用的参数。该过程重复，直到数字为零（基本情况）。

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T23:27:13.663

如果其他一些解决方案看起来很奇怪，请不要感到困惑。`first`Simply Scheme 对和使用非标准定义`butfirst`。这是一个解决方案，我希望遵循简单方案友好。

这是解决问题的一种策略：

*   把数字变成数字列表
*   转换为零和一的列表（零=偶数，一=奇数）
*   添加列表中的数字

示例：123 -> '(1 2 3) -> '(1 0 1) -> 2

```
(define (digit? x)
  (<= 0 x 9))

(define (number->digits x)
  (if (digit? x)
      (list x)
      (cons (remainder x 10)
            (number->digits (quotient x 10)))))

(define (digit->zero/one d)
  (if (even? d) 0 1))

(define (digits->zero/ones ds)
  (map digit->zero/one ds))

(define (add-numbers xs)
  (if (null? xs)
      0
      (+ (first xs)
         (add-numbers (butfirst xs)))))

(define (count-odds x)
  (add-numbers 
     (digits->zero/ones 
        (number->digits x)))) 
```

以上内容未经测试，因此您可能需要修复一些拼写错误。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-20T09:08:30.637

我认为这也是一个好方法。

```
(define (count-odd sequence)
  (length (filter odd? sequence)))

(define (odd? num)
  (= (remainder num 2) 1))

(count-odd '(234 556 4 10 97)) 
```

希望这会有所帮助~

(length 序列) 将返回序列的长度，
(filter proc 序列) 将返回一个包含所有满足 proc 的元素的序列。
您可以定义一个名为 (odd? num) 的函数

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-19T13:58:35.173

在跳转到更高阶的解决方案之前，尝试仅使用递归手动解决问题；为此，我建议看看其他答案。完成此操作后，使用您可以使用的工具寻求一个实用的解决方案 - 我会将问题分为两部分。

首先，如何在其数字列表中拆分正整数；这是对输入数字的递归过程。有几种方法可以做到这一点 - 首先将数字转换为字符串，或使用算术运算来提取数字，仅举几例。我将使用后者，并使用尾递归实现：

```
(define (split-digits n)
  (let loop ((n n)
             (acc '()))
    (if (< n 10)
        (cons n acc)
        (loop (quotient n 10)
              (cons (remainder n 10) acc))))) 
```

有了这个，我们可以用高阶函数来解决问题，解决方案的结构反映了用于手动解决问题的心理过程：

1.  首先，我们遍历输入列表中的所有数字（使用`map`）
2.  拆分组成它的数字中的每个数字（使用`split-digits`）
3.  计算这些数字中有多少是奇数，这给出了一个数字的部分解决方案（使用`count`）
4.  `map`在（使用`apply`）返回的列表中添加所有部分解决方案

这是它的外观：

```
(define (count-odd lst)
  (apply +
         (map (lambda (x)
                (count odd? (split-digits x)))
              lst))) 
```

# delphi - 如何强制 Firemonkey 在 Delphi XE3 中使用 DirectX 9 上下文？

> ID：13945618
> 
> 赞同：8
> 
> 时间：2012-12-19T04:42:09.577
> 
> 标签：delphi, directx, firemonkey, delphi-xe3

Delphi X3 中 Firemonkey 应用程序的主 TForm3D 窗口有一个`Context:TContext3D`让我可以访问当前使用的设备。
在我使用 Windows7 64 的情况下，它始终显示`TDX10Context`来自`FMX.Context.DX10.pas`.

我没有`TDX9Context`从 FMX.Context.DX9.pas 的类创建新实例的可见性，只是为了查看祖先`TCustomDX9Context`。

我找到了`TContextManager`在严格私有中收集注册的 3D 上下文的类`TList`:(，这是唯一可以调用构造函数的类...

```
{ Don't call contructor directly from TContext - only using TContextManager class }
constructor CreateFromWindow(const AParent: TFmxHandle; const AWidth, AHeight: Integer;` 
```

`TContextManager`他们在创建新表单时调用以获取上下文，然后使用只读属性`TContextManager.DefaultContextClass`。

除了`DefaultContextClass`.

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T15:25:16.343

作为记录：

将以下行放入您的项目文件中：

```
GlobalUseDX10 := False;  <<-- add this.
Application.Initialize;  <<-- just before this line. 
```

# php - 'where 子句'中的未知列

> ID：13945620
> 
> 赞同：1
> 
> 时间：2012-12-19T04:42:14.257
> 
> 标签：php, mysql

所以我试图添加一个下拉列表，它将调用db中表的特定字段的数据，并显示它，然后当我单击列表时，将相应地显示一些数据。

现在的问题是，我在前两个列表中做得很好，然后当我测试我的第三个列表时，它将显示“'where 子句'中的未知列'alumn.work.field'”。

下面是我从数据库中的表中调用变量的代码：

```
// Start : Job list
mysql_select_db($database_cnJw, $cnJw);
$query_rs_job = "SELECT field FROM alumn_work";
$rs_job = mysql_query($query_rs_job, $cnJw) or die(mysql_error());
$row_rs_job = mysql_fetch_assoc($rs_job);
$totalRows_rs_job = mysql_num_rows($rs_job);
// End  : Job list 
```

这是添加下拉列表的代码：

```
<select name="alumn_work_field">
<option value="" selected="selected"></option>

<?php
    do {  
?>
    <option value="<?php echo $row_rs_job['field']?>">;
    <?php echo $row_rs_job['field']?></option>
<?php
    } 
    while ($row_rs_job = mysql_fetch_assoc($rs_job));
        $rows = mysql_num_rows($rs_job);
       if($rows &gt; 0) {
           mysql_data_seek($rs_job, 0);
           $row_rs_job = mysql_fetch_assoc($rs_job);
       }
?>;
</select> 
```

我自己认为问题会出现在这里：

```
 <select name="alumn_work_field">; 
```

但我不确定是什么问题。谁能告诉我有什么问题？

# jquery - 带有级联下拉菜单的 ASP.NET MVC3 视图，禁用第二个和第三个控件，直到之前选择

> ID：13945622
> 
> 赞同：0
> 
> 时间：2012-12-19T04:42:36.667
> 
> 标签：jquery, asp.net-mvc-3, cascadingdropdown

我对级联下拉列表有一个看法（准确地说是 3 个）

在选择前一个选项并触发 jquery 之前，第二个和第三个被禁用。

所有这些在新鲜的状态下都非常有效。当我有要传递给它的预设值时，我想使用相同的视图。在某种程度上，我已经实现了这一点，因为我可以正确设置下拉菜单上的值，但是第二和第三下拉菜单被禁用（因为这是初始状态），因此不要在发布时传递表单字段值。

有没有人成功实现过这种场景？为了使下拉状态启用，我缺少什么？

我需要一种从列表中删除禁用选项的方法（就像在每个下拉列表中选择新选项时一样）

谢谢。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:52:29.370

试试这个：

```
$(function(){
  if($("#DroprDownListID1").val() != "-SELECT-")
  {
    $("#DroprDownListID2").removeAttr("disabled");
  }
}); 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T05:04:04.270

我尝试了以下方法来根据条件启用和禁用级联下拉列表中的某些值。请检查它是否对您有帮助。

[脚本]

```
 function SetdropDownData(sender, args) {           
            $('#ShipCity').attr('disabled', 'disabled')
            $('#ShipCountry').live('change', function () {
                $.ajax({
                    type: 'POST',
                    url: 'Home/GetCities',
                    data: { Country: $('#ShipCountry').val() },
                    dataType: 'json',
                    success: function (data) {
                        $('#ShipCity option').remove();
                        $.each(data, function (index, val) {
                            if ($('#ShipCountry').val() == "Germany") {
                                $('#ShipCity').removeAttr('disabled')
                                var optionTag = $('<option></option>');
                                $(optionTag).val(val.Value).text(val.Text);
                                $('#ShipCity').append(optionTag);
                            }
                            else {
                                var optionTag = $('<option></option>');
                                $(optionTag).val(val.Value).text(val.Text);
                                $('#ShipCity').append(optionTag);
                            }
                        });
                    }
                });
            });

} 
```

# jquery - jquery mouseent/leave 使 div 出现

> ID：13945630
> 
> 赞同：0
> 
> 时间：2012-12-19T04:43:11.183
> 
> 标签：jquery, html, mouseenter

我希望将鼠标悬停在我的列表项上，并产生类似于 facebook 聊天的效果是我最好的例子。我能够让第一个 div 出现，但我相信这可能是一个选择器问题，因为我无法得到其余的好好工作

**html**

```
<ul id="menu_seo" class="menu">
    <li id="menu-seo"><span class="arrowout1"></span>SEO</li>
    <li id="menu-siteaudits"><span class="arrowout2"></span>Site Audits </li>
    <li id="menu-linkbuilding"><span class="arrowout3"></span>Link-Building</li>
    <li id="menu-localseo"><span class="arrowout4"></span>Local SEO</li>
</ul>
<div id="main_content">
    <div id="menu-seo-desc">
        <p>SEO management begins with a full website diagnosis of current web strategy Adjustments are made to improve your site's ability to rank higher on search engines and draw more traffic </p>
    </div>
    <div id="menu-seo-desc2">
        <p>Usability & site architecture review, Search Engine accessibility and indexing, Keyword research & targeting and Conversion rate optimization </p>
    </div>
</div> 
```

**css**

```
#menu-seo-desc {
    height: 125px;
    width: 210px;
    background-color: red;
    border-color: #CCC #E8E8E8 #E8E8E8 #CCC;
    border-style: solid;
    border-width: 1.5px;
    border-radius: 5px;
    box-shadow: 1px 0 2px 0px #888;
    -moz-box-shadow: 1px 0 2px 0px #888;
    -webkit-box-shadow: 1px 0 2px 1px #888;
    position: absolute;
    top: 220px;
    left: 350px;
    display: none;
} 
```

**Javascript**

```
$(document).ready(function() {

    $('#menu_seo').on('#menu-seo', {
        'mouseenter': function() {
            $('#menu-seo-desc').fadeIn(600);
            $('#menu-seo-desc2').fadeIn(600);
        },
        'mouseleave': function() {
            $('#menu-seo-desc').fadeOut(300);
            $('#menu-seo-desc2').fadeOut(300);
        }
    });
}); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:44:55.120

`.`是一个类选择器，使用`#`它来获取它作为`id`.

更改`$('.menu-seo-desc')`为`$('#menu-seo-desc')`
和`$('.menu-seo-desc').fadeOut(300);`_`$('#menu-seo-desc').fadeOut(300);`

*建议*：
您可以将多个事件绑定到同一个元素，如下所示。

```
$('#menu_seo').on('#menu-seo', {
    'mouseenter': function() {
        $('#menu-seo-desc').fadeIn(600);
    },
    'mouseleave': function() {
        $('#menu-seo-desc').fadeOut(300);
    }
}); 
```

**更新**：

```
// bind mouseenter and mouseleave for both selectors
$('#menu-seo, #menu-siteaudits').on('mouseenter mouseleave', function(e) {
    // get the related container
    $element = $(this).is('#menu-seo') ? $('#menu-seo-desc') : $('#menu-seo-desc2');
    // execute the action according to the event
    if(e.type == 'mouseenter') {
        $element.fadeIn(600);
    } else {
        $element.fadeOut(300);
    }
}); 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T04:49:09.027

## *[jsBin 演示](http://jsbin.com/eveluf/1/edit)*

```
 $('#menu-seo').on('mouseenter mouseleave',function( e ){
    var mEnt = (e.type=='mouseenter');
    $('#menu-seo-desc').stop().fadeTo(600, mEnt?1:0 );
  }); 
```

*   `mEnt`将根据*事件类型*返回*布尔值*true//false 。`e`
**   三元运算符将`mEnt?[true]:[false]`分别做和`fadeTo([time], [1/or/0])`
    *   此外，选择器是：`$('#menu-seo-desc')`*

# visual-studio-2010 - 我们可以在 Visual Studio 2010 中使用 subsonic 版本 2.2

> ID：13945635
> 
> 赞同：0
> 
> 时间：2012-12-19T04:43:43.027
> 
> 标签：visual-studio-2010, visual-studio-2005, subsonic2.2

我在我的 Visual Studio 2005 项目中广泛使用了 Subsonic 2.2 版。我将我的一个项目移到了 Visual Studio 2010。编译后，它给了我许多与 Subsonic 有关的错误。

我们不能在 Visual Studio 2010 中使用 subsonic 2.2 版吗？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T07:49:16.260

我们可以。

使用 VS 2010 和 VS 2012 的效果很好：

*   使用 SubSonic 和所有生成的和部分类创建一个库项目 (DAL)。
*   使用一个小的批处理脚本来生成类 ( `sonic.exe generate /out generated`) 并在重建 DAL 时执行它。

我不确定用于自动生成类的 BuildProvider 是否仍然有效 - 我从未使用过它。

# java - 为什么这段代码总是返回零？

> ID：13945636
> 
> 赞同：-1
> 
> 时间：2012-12-19T04:43:47.610
> 
> 标签：java, arrays

```
public static void main(String[] args){
    int [] a=new int[256];
    System.out.println(a['t']);
} 
```

我在脚本中看到**了 ['t']**。想知道这是什么意思。我试图执行代码。无论我在 [' **t** '] 中放入什么字符，它都返回 0，为什么？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T04:45:50.493

> 问：无论我在 a['t'] 中输入什么字符，它都返回 0

您发布的代码没有显示您在 [] 中放置任何内容。所有元素最初都是“0”。

试试这个：

```
public static void main(String[] args){
    int [] a=new int[256];
    a['t'] = 'T';
    System.out.println("a['t']: " + a['t']);
} 
```

您应该看到如下内容：

`a['t']: 84`

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T04:47:16.970

这是因为 int 数组没有用任何值初始化，它只是用大小 256 声明的，所以它被隐式初始化为默认值 0s

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-19T04:48:27.603

你所做的相当于：

```
public static void main(String[] args){
    int [] a=new int[256];
    System.out.println(a[116]);
} 
```

因为 't' 的 ascii 代码是 116，所以你正在访问一个新的 int 数组的位置 116，而 int 的默认值是 0，所以这个数组的所有位置都将是 0，除非你分配一些东西不同的。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-19T04:52:28.310

`a['t']`是`a[116]`零，因为默认情况下 java 将数组内容初始化为零。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-19T04:45:51.050

```
int [] a=new int[256]; 
```

上面的代码创建整数数组，即如果没有明确分配值，整数总是用 0 初始化，就像这样，如果你调用了 a['T']，它会返回 0。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-19T04:48:14.447

不知道为什么你用't'访问一个int数组，但是有了't'它实际上会首先转换为一个int，它应该是116（'t'的ASCII码），然后它意味着访问a[ 116]，并且由于您没有初始化该数组，因此该数组中的所有元素应默认设置为 0，因此您会得到该结果。

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-12-19T04:48:46.303

当您创建 Array of Integers 的对象时，Array 默认初始化为 0（除非您为其分配了一些值）。

# alignment - 需要垂直对齐div旁边的图像

> ID：13945640
> 
> 赞同：1
> 
> 时间：2012-12-19T04:44:14.627
> 
> 标签：alignment, html

## 标题

我需要在特色产品的价格旁边对齐标签（示例中的标签具有文本“Aussie Made”）。

我需要垂直对齐价格旁边的“澳大利亚制造”图像（底部对齐）。价格可以动态改变宽度和高度。有人可以给我一些关于如何使“澳大利亚制造”图像/图标浮动在右侧并且仍然在 div 底部对齐的想法吗？

我试图放在 **`position:absolute; bottom:0px`**包含澳大利亚制造图标的 div 上。然而它没有用。有人可以帮我吗？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:46:18.953

您是否尝试使用位置相对？相对于 PARENT 容器？

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T05:42:02.233

对不起，你说得对，它的绝对不是相对的......虽然绝对位置实际上使内容相对于父级。

请看下面的照片。

![在此处输入图像描述](../Images/c399cf2468f7ef03d26b9c80aeb7049f.png)

和代码...

```
 <style type="text/css">
.Main
 {
  position: absolute;
  left: 400px;
  top: 200px;
  width: 469px; 
  height: 280px; 
 }
 .Photo
 {
  width: 469px; 
  height: 280px; 
  z-index: 1;
 }
 .Caption
 {
  position: absolute; 
  left: 0px;
  top: 250px;
  width: 461px; 
  height:32px;
  padding-left: 8px;
  background-color: #FF0000; 
  color: #FFFFFF;
  font-family: tahoma; 
  font-size: 20pt; 
  text-align: left; 
  vertical-align: middle; 
  z-index: 2;
 }
 .Price
 {
  position: absolute;
  left: 330px;
  top: 215px;
  width: 122px;
  height: 40px;
  text-align: center; 
  vertical-align: middle; 
  z-index: 3;
  color: #CC3300; 
  font-size: 20pt; 
  background-color: #FFFF00;
 }
 .MiniText
 {
  top: 4px;
  color: #111111;
  font-size: 8pt;
  font-weight: bold;
  font-family: Tahoma;
 }
</style>
<div style="left: 0px; top: 0px; height: 800px;">
 <div class="Main">
  <img class="Photo" alt="" src="http://202.92.83.79/medias/sys_master/images/8796157247518/Package-img1.jpg" />
  <div class="Price" style="z-index: 4">
   <div class="MiniText">First of it's kind!</div>
    £100.97p
         </div>
        <div class="Caption" style="z-index: 3">Sooper Dooper Wotsit Thingy</div>
 </div>
</div> 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T05:06:53.750

这应该给你一个想法：

CSS

```
.container{position:relative; height:200px; width: 200px; outline: 1px solid #000; } 
.image { position: absolute; bottom:0px; right:0px; width: 10px; height: 10px; outline: 1px solid #000; } 
```

HTML

`<div class="container"><div class="image"></div></div>`

# android - Android 平板电脑无法通过 USB 端口找到 USB 设备，但可以通过 OTG 电缆找到

> ID：13945644
> 
> 赞同：4
> 
> 时间：2012-12-19T04:44:48.950
> 
> 标签：android, usb, host

我有一个具有迷你 USB 端口和 USB 端口的 Android 平板电脑，我想编写一个与 USB 密钥通信的应用程序。我写了一个demo来找出USB key，但是没有任何反应。

令我不安的是，如果我在另一台只有 mini-USB 端口但支持 USB OTG 的平板电脑上运行此演示，它可以通过 OTG 电缆找到密钥。当我将 USB 密钥插入 USB 端口时，没有响应。我想知道有什么区别。

我不能使用 USB Host API 来查找 USB 端口中的密钥吗？在 mini-USB 端口中通过 OTG 电缆与 USB 设备通信和直接在 USB 端口中通信有什么区别？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-06T23:05:32.103

好吧，OTG 电缆的某些引脚短路，以便告诉设备它应该切换到 USB 主机模式（平板电脑提供电源）。USB 端口可能支持 OTG，但前提是您有 OTG 电缆。通常，平板电脑上的 USB 端口被设置为附件端口，这意味着它们是汲取电力，而不是提供电力。

# wpf - Snap 应用程序和 Word

> ID：13945647
> 
> 赞同：0
> 
> 时间：2012-12-19T04:44:55.627
> 
> 标签：wpf, windows, aero

我正在制作一个应用程序，我希望用户能够单击一个按钮，捕捉 Word 或其他程序以占用 70% 的屏幕，而我的应用程序占用剩余的 30%。

**这可能吗？**

**有本地方法吗？**

**有第三方的方法吗？**

在此先感谢您的帮助！

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T12:49:04.033

这确实是可能的，试试这个功能：

```
[DllImport("user32.dll")]
private static extern bool GetWindowRect(IntPtr hwnd, ref Rectangle rectangle);
[DllImport("user32.dll", CharSet = CharSet.Auto)]
private static extern bool PostMessage(IntPtr hWnd, uint msg, int WPARAM, int LPARAM);
[DllImport("user32.dll", SetLastError = true)]
internal static extern bool MoveWindow(IntPtr hWnd, int X, int Y, int nWidth, int nHeight, bool bRepaint);
[DllImport("user32.dll")]
[return: MarshalAs(UnmanagedType.Bool)]
public static extern bool SetWindowPos(IntPtr hWnd, IntPtr hWndInsertAfter, int X, int, Y, int cx, int cy, uint uFlags);

public const uint WM_SYSCOMMAND = 0x0112;
public const int SC_NEXTWINDOW = 0xF040;
public static readonly IntPtr HWND_TOPMOST = new IntPtr(-1);
public static readonly IntPtr HWND_NOTOPMOST = new IntPtr(-2);
public static readonly IntPtr HWND_TOP = new IntPtr(0);
public static readonly IntPtr HWND_BOTTOM = new IntPtr(1);
public const UInt32 TOPMOST_FLAGS = 0x0002 | 0x0001;

Public void resisezeWindow(String procesname, int Width, int Height, Boolean bringtofront)
{
    foreach (Process proc in Process.GetProcesses())
    {
        IntPtr id = proc.MainWindowHandle;
        Rectangle rect = new Rectangle();
        GetWindowRect(id, ref rect);
        if (proc.MainWindowTitle.Contains(procesname))
        {
            PostMessage(proc.Handle, WM_SYSCOMMAND, SC_NEXTWINDOW, 0);
                    MoveWindow(id, 0, 0, Width, Height, true);
                    if(bringtofront) SetWindowPos(id, HWND_TOPMOST, 0, 0, 0, 0, TOPMOST_FLAGS);
                    proc.Refresh();
        }
    }
} 
```

单击[此处](https://stackoverflow.com/questions/13945923/possible-to-control-other-programs-windows/13948273#13948273)查看原始问题。

# java - 我应该使用什么 java 集合类型 - 初学者

> ID：13945648
> 
> 赞同：1
> 
> 时间：2012-12-19T04:44:58.553
> 
> 标签：java, collections

1 家医院将有多名医生。我需要知道我可以存储的`java collection`类型（等）和合适类型（等）的对象。`ArrayList,HashMap``hospital ID``Doctor``java collection``ArrayList,HashMap`

要求是我应该能够将 存储`HospitalID`为 a`key`并将`Doctor`对象存储为`value`。

此外，我应该能够为各种 Doctor 对象拥有相同的密钥（因为可以有很多医生为所述医院工作）。那么我可以在这种情况下使用的`java`集合类型（等）是什么？`ArrayList,HashMap`

注意：我不能使用`HashMap`- 因为它需要唯一的 ID。

稍后我应该能够过滤掉为特定医院工作的所有医生（通过从其 ID 中搜索），并显示其记录

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-19T04:49:18.787

如果您将自己限制为标准集合类型，而不是您所描述的需要`Map<HospitalId, Set<Doctor>>`. 如果您可以使用 3rd 方库，那么您正在寻找的是“多图”。

不同实现类（`HashSet`与`TreeSet`等）之间的选择取决于您打算使用数据结构的方式。

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-19T04:50:59.443

您可以拥有一个对象，然后创建一个存储作为键和医生作为值`ArrayList`的对象：`Doctor``HashMap``HospitalID``ArrayList`

```
ArrayList<Doctor> a = new ArrayList<Doctor>();
a.add(new Doctor());
// put all the doctors

HashMap<Integer,ArrayList<Doctor>> hMap = new HashMap<Integer,ArrayList<Doctor>>();
Integer hospitalId = new Intger(1);

hMap.put(hospitalId,a); 
```

更新：

添加新医生：

```
//Take the existing list from the map using hospitalId
ArrayList<Doctor> existingList = hMap.get(hospitalId);

Doctor d = new Doctor();
// add new doctor to existingList
existingList.add(d);

//put the new list again in the map

hMap.put(hospitalId,existingList); 
```

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-19T04:52:50.297

许多医生可以与 1 个医院 ID 相关联。因此，存在一对多映射。我认为你应该使用

地图（Hospital_id 集，医生的 ArrayList）

**其中 set 是 hospital_id 的集合，它是唯一的，Arraylist 是 Doctors 的集合。**

因此，1 个 hospital_id 可以包含医生列表。

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-24T07:08:56.980

创建一个名为**Hospital.java的类**

```
package com.rais.hospital;

/**
 * @author Rais.Alam
 * @project MyFirstProject
 * @date Dec 24, 2012
 */

public class Hospital
{
private Integer hospitalId;
private String hospitalName;
private String hospitalAddress;
private Long contatNumber;
/**
 * @param hospitalId
 * @param hospitalName
 * @param hospitalAddress
 * @param contatNumber
 */

public Hospital(Integer hospitalId, String hospitalName, String hospitalAddress, Long contatNumber)
{
    super();
    this.hospitalId = hospitalId;
    this.hospitalName = hospitalName;
    this.hospitalAddress = hospitalAddress;
    this.contatNumber = contatNumber;
}
/**
 * @param hospitalId
 * @param contatNumber
 */
public Hospital(Integer hospitalId)
{
    super();
    this.hospitalId = hospitalId;

}
/**
 * @return the hospitalId
 */
public Integer getHospitalId()
{
    return hospitalId;
}
/**
 * @param hospitalId the hospitalId to set
 */
public void setHospitalId(Integer hospitalId)
{
    this.hospitalId = hospitalId;
}
/**
 * @return the hospitalName
 */
public String getHospitalName()
{
    return hospitalName;
}
/**
 * @param hospitalName the hospitalName to set
 */
public void setHospitalName(String hospitalName)
{
    this.hospitalName = hospitalName;
}
/**
 * @return the hospitalAddress
 */
public String getHospitalAddress()
{
    return hospitalAddress;
}
/**
 * @param hospitalAddress the hospitalAddress to set
 */
public void setHospitalAddress(String hospitalAddress)
{
    this.hospitalAddress = hospitalAddress;
}
/**
 * @return the contatNumber
 */
public Long getContatNumber()
{
    return contatNumber;
}
/**
 * @param contatNumber the contatNumber to set
 */
public void setContatNumber(Long contatNumber)
{
    this.contatNumber = contatNumber;
}
/* (non-Javadoc)
 * @see java.lang.Object#hashCode()
 */
@Override
public int hashCode()
{
    final int prime = 31;
    int result = 1;
    result = prime * result + ((hospitalId == null) ? 0 : hospitalId.hashCode());

    return result;
}
/* (non-Javadoc)
 * @see java.lang.Object#equals(java.lang.Object)
 */
@Override
public boolean equals(Object obj)
{
    if (this == obj)
        return true;
    if (obj == null)
        return false;
    if (getClass() != obj.getClass())
        return false;
    Hospital other = (Hospital) obj;

    if (!hospitalId.equals(other.hospitalId))
        return false;

    return true;

}

} 
```

创建一个类**Doctor.java**

```
package com.rais.hospital;

/**
 * @author Rais.Alam
 * @project MyFirstProject
 * @date Dec 24, 2012
 */
public class Doctor
{
private Integer id;
private String name;
private String address;
private String department;

/**
 * @param id
 * @param name
 * @param address
 * @param department
 */
public Doctor(Integer id, String name, String address, String department)
{
    super();
    this.id = id;
    this.name = name;
    this.address = address;
    this.department = department;
}
/**
 * @return the id
 */
public Integer getId()
{
    return id;
}
/**
 * @param id the id to set
 */
public void setId(Integer id)
{
    this.id = id;
}
/**
 * @return the name
 */
public String getName()
{
    return name;
}
/**
 * @param name the name to set
 */
public void setName(String name)
{
    this.name = name;
}
/**
 * @return the address
 */
public String getAddress()
{
    return address;
}
/**
 * @param address the address to set
 */
public void setAddress(String address)
{
    this.address = address;
}
/**
 * @return the department
 */
public String getDepartment()
{
    return department;
}
/**
 * @param department the department to set
 */
public void setDepartment(String department)
{
    this.department = department;
}
/* (non-Javadoc)
 * @see java.lang.Object#toString()
 */
@Override
public String toString()
{
    return "Doctor [id=" + id + ", name=" + name + ", address=" + address + ", department=" + department + "]";
}

} 
```

**现在在下面描述的客户端Client.java**的帮助下访问所有医生列表

 **```
package com.rais.hospital;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
/**
 * @author Rais.Alam
 * @project MyFirstProject
 * @date Dec 24, 2012
 */
public class Client
{
private static Map<Hospital, List<Doctor>> repo = new HashMap<Hospital, List<Doctor>>();

/**
 * @param args
 */
public static void main(String[] args)
{

    // Displaying records for Hospital for HospitalA of Boston

    createRepository();

    List<Doctor> lst1 = getDoctorsList(new Hospital(101));

    for (Doctor doctor : lst1)
    {
        System.out.println(doctor);
    }

    System.out.println("==================================");

    // Displaying records for Hospital for HospitalB of Atlanta
    List<Doctor> lst2 = getDoctorsList(new Hospital(201));

    for (Doctor doctor : lst2)
    {
        System.out.println(doctor);
    }

}

public static List<Doctor> getDoctorsList(Hospital hospital)
{

    return repo.get(hospital);

}

public static void createRepository()
{
    Hospital hospital1 = new Hospital(101, "HospitalA", "Street no, 101, Boston", 123456789l);
    Hospital hospital2 = new Hospital(201, "HospitalB", "Street no, 102, Atlanta", 987654321l);

    List<Doctor> list1 = new ArrayList<Doctor>();
    List<Doctor> list2 = new ArrayList<Doctor>();

    list1.add(new Doctor(1011, "Doctor-P", "Boston", "ENT"));
    list1.add(new Doctor(1012, "Doctor-Q", "Boston", "ENT"));
    list1.add(new Doctor(1013, "Doctor-R", "Boston", "ENT"));
    list1.add(new Doctor(1014, "Doctor-S", "Boston", "ENT"));

    list2.add(new Doctor(2011, "Doctor-A", "Atlanta", "Therapist"));
    list2.add(new Doctor(2012, "Doctor-B", "Atlanta", "Therapist"));
    list2.add(new Doctor(2013, "Doctor-C", "Atlanta", "Therapist"));
    list2.add(new Doctor(2014, "Doctor-D", "Atlanta", "Therapist"));

    repo.put(hospital1, list1);
    repo.put(hospital2, list2);

    }

} 
```

您将看到如下所述的输出

```
Doctor [id=1011, name=Doctor-P, address=Boston, department=ENT]
Doctor [id=1012, name=Doctor-Q, address=Boston, department=ENT]
Doctor [id=1013, name=Doctor-R, address=Boston, department=ENT]
Doctor [id=1014, name=Doctor-S, address=Boston, department=ENT]
==================================
Doctor [id=2011, name=Doctor-A, address=Atlanta, department=Therapist]
Doctor [id=2012, name=Doctor-B, address=Atlanta, department=Therapist]
Doctor [id=2013, name=Doctor-C, address=Atlanta, department=Therapist]
Doctor [id=2014, name=Doctor-D, address=Atlanta, department=Therapist] 
```

* * *

## 回答 #5

> 赞同：1
> 
> 时间：2012-12-19T04:48:10.943

您需要查看黑白列表和地图的差异，并根据您的要求进行选择。

**列表：**

> 有序集合（也称为序列）。此界面的用户可以精确控制每个元素在列表中的插入位置。用户可以通过整数索引（列表中的位置）访问元素，并在列表中搜索元素。

**地图：**

> 将键映射到值的对象。地图不能包含重复的键；每个键最多可以映射到一个值。

如果您的 ID 也与其他医生相同，那么您可以将 ID 与 Doctor 结合起来，并将其作为单个对象保存在 ArrayList 中。

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2013-12-11T06:45:04.367

最好使用** Map> ** instered of ** Map>**。列出 ArrayList 的 Set insted 中的所有医生。没有优先权遵循正确的顺序。使用 Set 会比 Map> 中的 ArrayList 提供更好的性能

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-12-19T04:50:10.080

这听起来像你想要一个`Multimap`. Collections 库默认情况下没有其中之一，但您可以很容易地从 a`Map`和 a构建一个`List`：

```
Map<Hospital, List<Doctor>> = new HashMap<Hospital, LinkedList<Doctor>>(); 
```**

# c++ - 将 QUdpSocket 用作 QIODevice 的正确方法是什么？

> ID：13945653
> 
> 赞同：2
> 
> 时间：2012-12-19T04:45:25.773
> 
> 标签：c++, qt, sockets, udp

[Qt 4.8 文档](http://doc-snapshot.qt-project.org/4.8/qudpsocket.html)包含以下建议：

> 如果要使用标准 QIODevice 函数 read()、readLine()、write() 等，必须首先通过调用 connectToHost() 将套接字直接连接到对等方。

所以我尝试了以下代码：

```
udp.connectToHost(hostName, hostPort);   // connected
udp.bind(hostName, hostPort); 
```

当我执行此代码时，Qt 会记录以下调试消息：

> 在 QAbstractSocket::UnconnectedState 中未调用 QNativeSocketEngine::bind()

这意味着`bind`要求套接字处于未连接状态。所以我尝试了以下方法：

```
udp.bind(hostName, hostPort);  // bound
udp.connectToHost(hostName, hostPort); 
```

但它也不起作用：套接字没有连接到主机，它处于错误状态。

配置 QUdpSocket 以将其用作 QIODevice 的正确方法是什么？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2015-03-13T15:28:36.717

首先将套接字绑定到特定的本地地址/端口然后将套接字连接到特定的外部地址/端口的方法应该可以工作。所以第二个代码示例是正确的。

```
udp.bind(hostName, hostPort);  // bound
udp.connectToHost(hostName, hostPort); 
```

但这在 Qt 中对于 < 5.5.0 的版本不起作用，因为在内部使用的函数`connectToHost`总是首先取消绑定套接字并将其再次绑定到任何地址的空闲本地端口。

有关详细信息，请参阅[QTBUG-26538 - QUdpSocket：connectToHost() 重置由 bind() 指定的本地端口号](https://bugreports.qt.io/browse/QTBUG-26538)。

如果重要的是 UDP 套接字在“连接”时绑定到特定的本地地址/端口（UDP 是无连接的）到特定的外部名称/端口以使用重新实现的`QIODevice`方法，我无法为此 Qt 提供其他解决方法Qt 版本 < 5.5.0 的错误，而不是使用已应用补丁的代码（可以在[Qt 5.5 提交消息 102610](https://codereview.qt-project.org/#/c/102610/)页面上看到）修补（非常小心地）使用的 Qt 版本的源。

# javascript - 开始使用backbone.js

> ID：13945659
> 
> 赞同：1
> 
> 时间：2012-12-19T04:45:44.857
> 
> 标签：javascript, backbone.js, frameworks

我正在做我的项目，我在那个项目中使用了很多 js 和 jquery，现在这里很乱。有人建议我转移到一些 js 框架，所以我开始研究backbone.js。我需要你的帮助，让我能够足够快地学习它，因为之后我也必须在这个框架中转换我的代码。我是这个框架的初学者，所以任何关于教程或书籍的建议我都可以快速浏览并学习它？此外，backbone.js 是我唯一的选择，因为我还必须在其他项目中使用它。问候

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T06:41:31.283

我认为您应该从阅读**Addy Osmani的****[Backbone.js 书](http://addyosmani.github.com/backbone-fundamentals/)**开始。如果您熟悉 MVC 设计模式，那么您可以直接从**The Internals**开始快速入门。现在，在了解了 Backbone.js 的可能性之后，您应该尝试理解非常简单的[待办事项应用程序](http://todomvc.com/architecture-examples/backbone/)的代码，该应用程序的[源代码](https://github.com/addyosmani/todomvc/tree/gh-pages/architecture-examples/backbone)在 Github 中。尝试理解代码的每一部分——我发现它非常有见地，因为我才刚开始使用 javascript，而且这些概念是新的。**上面提到的书中解释了todo 应用程序**的某些部分，但其他部分您必须自己弄清楚。您将需要[官方文档的帮助](http://backbonejs.org/). 弄清楚如何编写嵌套模型和视图。

完成此操作后，请开始编写应用程序代码。这会引发很多问题。现在，当您遇到困难时，您必须借助文档、stackoverflow 以及#documentcloud、#javascript 和#jquery IRC 频道。

最重要的是——**玩得开心**！

# jpa - Eclipselink 如何延迟加载@Lob

> ID：13945671
> 
> 赞同：1
> 
> 时间：2012-12-19T04:46:38.090
> 
> 标签：jpa, eclipselink, lazy-loading

根据文档@Basic 默认情况下，EclipseLink JPA 忽略 fetch 属性和默认 javax.persistence.FetchType.EAGER

您如何更改默认值以使其延迟加载？

[http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Mapping/Basic_Mappings/Lazy_Basics](http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Mapping/Basic_Mappings/Lazy_Basics)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T15:03:34.040

抱歉，该文档错误且令人困惑。我刚刚更新了它。

默认情况下，@Basic 上的 LAZY 将起作用，只要启用了编织。在 JavaEE 和 JavaSE 中默认启用编织，当使用 EclipseLink 代理时。如果你在 JavaSE 中并且不能使用代理，那么你可以使用静态编织。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T15:00:59.563

您发布的链接还指出，如果不使用编织，则忽略基础和非集合映射的惰性。编织（通过运行时代理或静态编织器）允许更改字节码以添​​加延迟加载所需的代码。所以尝试使用这里描述的编织[http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Performance/Weaving](http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Advanced_JPA_Development/Performance/Weaving)

# vba - EXCEL VBA 关于功能和用户表单

> ID：13945672
> 
> 赞同：1
> 
> 时间：2012-12-19T04:46:40.143
> 
> 标签：vba, excel, userform

我是 Excel VBA 编程的新手，因此我在自己的项目中遇到了一些困难。

长话短说，我在每个用户窗体中有 10 个用户窗体和 10 个文本框，具有相同的文本框名称。

我是否可以创建一个可以在每个用户窗体中调用它的函数，这样我就不必为每个用户窗体手动编写代码。关于该功能，它将重置 TextBox 的值，并将其恢复到“初始”状态。

这就是我的问题。任何帮助将不胜感激。在此先感谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T04:57:00.953

创建一个`Sub`你`Module`从每个表单调用的

例如

```
Sub TextBoxInit(tb As MSForms.TextBox)
    tb.Text = ""
End Sub 
```

`UserForm`在你认为合适的时候调用它

例如

```
Private Sub Userform_Initialize()
    Module1.TextBoxInit TextBox1
End Sub 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-07-22T18:06:06.363

谭，

您应该考虑使用**Class Modules**。实际上我最近才了解它们，它们是管理具有类似构造控件的多个用户表单的一种非常有效的方法。

转到此处：[VBA 用户窗体：防止组合框在 KEYDOWN 上转义](https://stackoverflow.com/questions/17583823/vba-userform-prevent-combobox-escape-on-keydown/17775896#17775896)

或在这里：[EXCEL VBA：dblClick，重复代码改进](https://stackoverflow.com/questions/17756216/excel-vba-dblclick-repetitive-code-improvement/17756823#17756823)

这些类模块如何工作的基础是您创建自己的对象，为它编写代码，并将所需的用户窗体控件分配为该对象类型（类）。例如，如果您有 20 个以相同方式执行的文本框（它们重新启动自己的值），您只需在类模块部分编写相同的代码。砰！差不多就是这样（您还必须编写一段代码来循环并分配您想要此功能的文本框）。

可能需要一段时间才能理解，但它会显着改善您的项目。

# android - 后台堆栈中有大量碎片的内存问题

> ID：13945675
> 
> 赞同：6
> 
> 时间：2012-12-19T04:47:23.110
> 
> 标签：android, android-fragments

我有一个活动，用户可以从一个片段前进到另一个片段。片段开始，下载一些数据并显示它（以及从资源中绘制一些图标等）。用户可以继续在片段中前进，只要他们喜欢（直到他们感到无聊？）。

问题是，OutOfMemoryError 最终会发生（在 32mb 虚拟机堆上大约 90 个片段之后）。90 看起来确实不少，但我在现场看到过这样的内存错误报告，所以这可能在低端设备上发生得更早。我确保我在 onCreateView 中创建的任何视图都在 onDestroyView 中无效。我的片段唯一拥有的其他对象（据我所知）是它在开始时下载的数据，通常只有 10-50kb。

我的第一个问题是，这正常吗？我可以期望“仅”能够在后堆栈中有大约 90 个片段吗？或者我在某个地方有内存泄漏，我可以做些什么？

如果用户离开我的应用程序，并且 Android 决定终止整个进程以释放内存，那么当用户返回时，使用的内存会少得多，因为整个状态已经从包中恢复。如果用户随后通过返回堆栈进行后按，则每个片段当然会从已保存的实例状态中创建/恢复。

所以我的第二个问题是，有没有办法强迫这种情况发生？即，'如果后堆栈中有 >50 个片段，则开始将底部的片段杀死以保存到已保存实例状态？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-07-31T21:46:02.307

所有回栈 Fragment 都通过硬引用保存在内存中。因此，如果您在后台堆栈中保留大量的 Fragments，那么您将内存不足。

看看这里：[当 Fragment 被替换并放入后堆栈（或删除）时，它是否保留在内存中？](https://stackoverflow.com/questions/8482606/when-a-fragment-is-replaced-and-put-in-the-back-stack-or-removed-does-it-stay)

* * *

## 回答 #2

> 赞同：-6
> 
> 时间：2012-12-19T05:24:59.190

`AndroidManifest.xml`在你的`<Application>`标签中试试这个：

```
android:largeHeap="true" 
```

并提供您的代码以提供更多帮助。

# php - 为什么 return 不起作用但 echo 在这个带有 php 脚本的 jquery 中起作用

> ID：13945679
> 
> 赞同：0
> 
> 时间：2012-12-19T04:47:49.163
> 
> 标签：php, jquery

在这个脚本中，使用 php 的 return 将不起作用，而 echo 会。问题是，如果我使用 echo，并且有人可以直接访问该页面，他们将能够在没有格式化的情况下看到输出。

```
<script type="text/javascript">
$(function() {

    $('.callAppend').click(function() {
             $.ajax({
                type: 'GET',
                url:  'recent.php',
                dataType:'HTML',
                cache:false,

                success: function(data){
                console.log(data);

                //}       

              },

            });    

        return false;
    });
});
</script> 
```

这是 php 脚本

```
<?php
$feedback = 'Hello this is the php page';

return $feedback; //Use echo, and all works fine.
?> 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T04:50:31.983

`return`用于将值从函数返回到另一段 PHP 代码。

jQuery 不是服务器端 PHP 代码执行的一部分，所以它不知道服务器端到底发生了什么。jQuery 正在等待呈现的服务器响应，这是`echo`提供的。

* * *

这个 SO 答案提供了一个解决方案，只允许该类型的请求调用 AJAX 脚本： [Prevent Direct Access To File Called By ajax Function](https://stackoverflow.com/questions/1756591/prevent-direct-access-to-file-called-by-ajax-function)

尽管它正在检查“XMLHttpRequest”，但有人可能会从您的网页之外的其他东西发出这种类型的请求。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-19T04:53:36.720

当您使用 AJAX 加载 URL 时，您正在加载该 URL 的原始输出。Echo 产生输出，但 return 不产生。您需要在 OOP 的主题上做一些理由来了解返回的目的是什么。

Echo 是发送输出的正确方式。

# jquery - 在骨干中使用 outerHeight() 时遇到问题

> ID：13945682
> 
> 赞同：0
> 
> 时间：2012-12-19T04:48:00.117
> 
> 标签：jquery, backbone.js, outerheight

我正在尝试创建类似 pinterest 的效果，并通过wedding.reposition() 设置 div 的位置。但是，我认为 outerHeight() 函数不起作用，因为它返回 0px。我认为这是由于图像尚未加载，但我仅在相关 div 已加载并附加到 DOM 后才调用wedding.reposition()（附加是同步的？）。

有趣的是，如果我在几秒钟后通过 setTimeout 函数运行 Wedding.reposition，它就可以工作。只是想知道是否有人对此有解决方案？

```
//repositions all the elements on the page
wedding.reposition = function() {
  var $post = $(".post");
    //sets col position classes
    for(var i = 0, len = $post.length; i < len; i++) {
      //starts from base 1 rather than base 0
      var colClass = "col" + (i % 4 + 1);
      $post.eq(i).addClass(colClass);

      //implies it is on the second or greater row
      if(i >= 4) {
        var $col = $("." + colClass);
        //gets row of the element in the current column
        var row = Math.floor(i / 4);
        var $prev = $col.eq(row - 1);  

        //determines the height of the current object
        console.log($prev.outerHeight());
        var currentObjectHeight = $prev.position().top + $prev.outerHeight() + 15;
        $col.eq(row).css("top", currentObjectHeight);
      }
    };
};

//PostsView corresponds to the overall view holding individual PostView 
wedding.views.PostsView = Backbone.View.extend({
  el: "#column-container",

  initialize: function(){
    _.bindAll(this);
    this.collection.on("reset", this.render);

    this.collection.fetch();
  },

  render: function(){

    this.collection.each(function(model) {
      this.initializePostView(model);
    }, this);
    wedding.reposition();

  },

  initializePostView: function(model) {
    var html = new wedding.views.PostView({model: model});
    this.$el.append(html.render().el);

  }

});

wedding.views.PostView = Backbone.View.extend({

  className: "post",
  template: "#post-template",

  initialize: function(options) {
    _.bindAll(this);
    this.template = _.template($(this.template).html());
  },

  render: function() {
    this.preload();
    return this;
  },

  preload: function() {
    var image = new Image(); 
    var that = this;
    image.src = this.model.get("src");

    image.onload = function() {
      var html = that.template( {model: that.model.toJSON() });
      that.$el.append(html);
    };
  }
}); 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T04:51:48.830

虽然您可能会附加到 DOM，但这并不意味着图像将被下载。

使用`load`图像的事件，或诸如[waitForImages 之](https://github.com/alexanderdickson/waitForImages)类的插件。

# asp.net-mvc - 使用 WebApi 进行客户端验证

> ID：13945688
> 
> 赞同：7
> 
> 时间：2012-12-19T04:48:15.237
> 
> 标签：asp.net-mvc, entity-framework, validation, asp.net-web-api

我正在尝试对通过 WebApi 返回的对象执行客户端验证。我通过 webapi 将实体发送到我的实体编辑屏幕。我使用敲除将对象绑定到字段。

我已经有一个处理所有服务器端验证的操作过滤器。如何在不必复制域模型数据注释的情况下合并客户端验证？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-05-03T18:04:24.177

使用 WebApi，您需要一些“粘合”代码来将模型验证失败返回的错误连接到客户端验证器。

```
function extractErrors(jqXhr, validator) {
    var data = JSON.parse(jqXhr.responseText), // parse the response into a JavaScript object
        errors = {};

    $.each(data.ModelState, function (key, value) {
        var pieces = key.split('.');
        key = pieces[pieces.length - 1];
        errors[key] = value
    });

    validator.showErrors(errors); // show the errors using the validator object
} 
```

在模型上，照常注释：

```
[Required]
[Display(Name = "Group Name")]
public string Name { get; set; } 
```

在视图中，添加 ValidationMessageFor 标签：

```
@Html.EditorFor(m => m.Name)
@Html.ValidationMessageFor(m => m.Name) 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-20T16:04:20.003

当我创建我的 HTTP API 时，我将模型对象（DTO、请求模型等）放入一个单独的程序集中，我可以为 .NET 客户端分发它。

考虑以下类：

```
public abstract class UserUpdateRequestModel {

    [Required]
    [StringLength(50)]
    public string Name { get; set; }

    [Required]
    [EmailAddress]
    [StringLength(320)]
    public string Email { get; set; }
} 
```

这是我在我的 API 中使用的：

```
public UserDto PutUser(Guid key, UserUpdateRequestModel requestModel) {

    // Do something here
} 
```

例如，您可以在 ASP.NET MVC 客户端应用程序中使用相同的模型来生成带有验证`data-`属性的 HTML 输入，因为 ASP.NET MVC 有一种基于数据注释验证属性生成这些输入的方法。

# iphone - 显示来自服务器的实时位置数据

> ID：13945689
> 
> 赞同：2
> 
> 时间：2012-12-19T04:48:15.670
> 
> 标签：iphone, objective-c

我有一个 iPhone 应用程序，它应该在地图上显示无限数量的用户的位置。

我想要这样做的方式是每 5-8 秒向服务器发送一个请求，并获得用户的最佳位置。此外，每个用户每 5-8 秒自动将他的位置发送到服务器。

是否有另一种或更有价值的方法来做到这一点？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T07:42:04.293

您可以`NSTimer`用于此任务，这是最好的方法，

```
[NSTimer scheduledTimerWithTimeInterval:5 target:self selector:@selector(sendYourRequest:) userInfo:nil repeats:YES]; 
```

# android - Android NDK：没有规则使目标全部和未找到本机方法

> ID：13945694
> 
> 赞同：1
> 
> 时间：2012-12-19T04:48:57.200
> 
> 标签：android, android-ndk, android-ndk-r5

我正在使用 android NDK 在我的应用程序中使用一个 c++ 库。当我运行我的应用程序时，我总是收到一条错误消息，即`java.lang.UnsatisfiedLinkError: Native method not found.`我多次检查了我的代码但我没有找到任何东西。此外，我收到了另一条错误消息`No rule to make target all.`

```
LOCAL_C_INCLUDES += ${NDKROOT}/sources/cxx-stl/stlport/stlport

LOCAL_PATH := $(call my-dir)

LOCAL_ALLOW_UNDEFINED_SYMBOLS = true
include $(CLEAR_VARS)
LOCAL_MODULE := my-module-jni
LOCAL_SRC_FILES := $(wildcard $(LOCAL_PATH)/*/*.cpp)
include $(BUILD_SHARED_LIBRARY)

extern "C" {
JNIEXPORT jstring JNICALL
Java_com_test_ndk_MyClassName_test
(JNIEnv *env, jobject obj)
{
    return env->NewStringUTF("Hello from C++ over JNI!");
}
    }
    public class MyClassName extends Activity{
    public static native String test();
    ......
    } 
```

在我的 jni 文件夹中，我有许多 c++ 类和文件夹。我认为问题是我的 android.mk 文件。我应该在我的 android.mk 文件中更改什么？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T05:12:48.127

看起来方法的名称不正确。你能告诉我们你从java调用的方法的名称和C/C++中的方法的名称吗？

编辑：这可能包含更多信息： http: [//www.netmite.com/android/mydroid/2.0/development/ndk/docs/ANDROID-MK.TXT](http://www.netmite.com/android/mydroid/2.0/development/ndk/docs/ANDROID-MK.TXT)规范状态 LOCAL_PATH 应该在第一行。还要寻找隐藏的空白。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T14:47:06.700

鉴于您在评论中提到您的代码适用于较小的测试应用程序而不是较大的应用程序，请确保较大的应用程序实际上是在 Java Activity 中加载库，如下所示：

```
// Load the .so
static {
    System.loadLibrary("libmy-jni-module");
} 
```

# java - Android - Java TCP连接NAT穿越

> ID：13945697
> 
> 赞同：4
> 
> 时间：2012-12-19T04:49:13.833
> 
> 标签：java, android, tcp, client-server, nat

我正在尝试使用 android 客户端和 Java 服务器建立客户端/服务器模型。连接通过 TCP。

当 android 设备在 WIFI 上时，我的所有代码都可以工作，但是每当我连接到无线网络（例如 3g、4g）时，套接字都会拒绝连接。

我一直在阅读有关 NAT 遍历的信息，但在实施允许连接的必要步骤时，我不确定从哪里开始。

注意：我的服务器有一个静态 IP 地址

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T06:26:32.170

我的猜测是你有一个与网络相关的问题。假设您的服务器位于路由器后面，您的服务器套接字必须绑定到其 LAN IP（而不是直接绑定公共互联网 IP）。然后您需要设置端口转发、防火墙规则等，以确保互联网上的每个人都可以看到您的服务器（使用在线端口打开检查器/来自另一个网络的 telnet 进行检查是一个很好的测试）

# javascript - 选择框上的 jQuery 验证不起作用

> ID：13945698
> 
> 赞同：5
> 
> 时间：2012-12-19T04:49:16.827
> 
> 标签：javascript, jquery

我正在使用 jQuery 验证插件进行客户端验证，但我的验证不适用于我的选择框。

**HTML**

```
<select id="select" class="required">
    <option value="-1">Choose</option>
    <option value="child">test2</option>
</select> 
```

**JavaScript**

```
$("#formid").validate({
    select: {
        required: function(element) {
            if ($("#select").val() == '-1') {
                return false;
            } else {
                return true;
            }
        }
    }
}); 
```

我如何让这个工作？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-19T04:58:02.393

`option`解决此问题的一种简单方法是为非有效值赋予`""`. `"Choose"`然后只需在您的表单上调用验证，当被选中时它不会提交。

**HTML**

```
<form id="formid">
    <select name="select" class="required">
        <option value="">Choose</option>
        <option value="child">test2</option>
    </select>

    <input type="submit" />
</form>​ 
```

**JavaScript**

```
$("#formid").validate(); ​ 
```

**[演示](http://jsfiddle.net/2KTkg/)**

* * *

## 回答 #2

> 赞同：3
> 
> 时间：2012-12-19T05:03:33.933

尽管这可能适用于上述某些方法，但如果您希望使用自定义验证功能，则应使用此处记录的 addMethod：http: [//docs.jquery.com/Plugins/Validation/Validator/addMethod](http://docs.jquery.com/Plugins/Validation/Validator/addMethod)

所以你首先要通过类似的方法添加方法

```
$.validator.addMethod("requiredSelect", function(element) {
                return ( $("#select").val() !='-1' );
            }, "You must select an option."); 
```

然后简单地将验证器分配给

```
$("#formid").validate({
  rules: {
    select: { requiredSelect : true }
  }
}); 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T04:56:21.763

代替：

`$("#select").val()`

尝试：

`$("#select :selected").val()`

`$("#select").val()`返回所有选项值而不是选定的选项值。

在这里，我的假设是您要检查用户是否在`report-crime`验证控件时选择了选项 -1。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-19T05:00:06.120

默认

`<option value="">Choose</option>`

与

`required: true`

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2020-06-27T04:06:23.087

由于某种原因，在我的情况下没有提供任何解决方案，它归结为 jQuery Validate 调用对下拉列表值的“可选”检查，这称为 !required 规则。

When the select box selected an empty value, the required showed "false" which inverted meant it was always optional when the required failed, so it never ran the required rule.

我用下面的代码覆盖了可选函数，如果它是必需项，则返回“False”：

```
// Get Select to work
    $.validator.prototype.optional = function (element) {
        var val = this.elementValue(element);

        // Custom logic to get Select to show validate when value is empty
        if (element.nodeName.toLowerCase() === "select") {
            if (element.hasAttribute("data-val-required") || element.hasAttribute("required")) {
                return false;
            }
        }

        return !$.validator.methods.required.call(this, val, element) && "dependency-mismatch";
    }; 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2020-05-14T11:43:52.280

您的元素中**缺少`name`**属性。就我而言，这是问题所在，因为 jQuery Validatation Plugin在验证时会`select`寻找`name`not 。`id`

# ios - iOS：迁移coredata关系时的值表达函数是什么？

> ID：13945704
> 
> 赞同：11
> 
> 时间：2012-12-19T04:50:01.850
> 
> 标签：ios, core-data, core-data-migration

关系的函数如下：`FUNCTION($manager, "destinationInstancesForEntityMappingNamed:sourceInstances:","employeesToEmployees",$source.employees")`

这个“功能”是什么？它会怎么称呼？有没有介绍这个的指南？

我读过苹果的

*[核心数据模型版本控制和数据迁移编程指南](http://developer.apple.com/library/mac/#documentation/cocoa/conceptual/CoreDataVersioning/Articles/Introduction.html)*

但我还是不明白。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-12-28T10:26:34.083

这是一个“具有任意方法调用的函数表达式”，似乎记录得很差。我知道的唯一参考是[NSExpression 类参考](https://developer.apple.com/documentation/foundation/nsexpression?language=objc)中的一段：

> **函数表达式**
> 
> 在 OS X v10.4 上，`NSExpression`仅支持一组预定义的函数：`sum`、`count`、`min`、`max`和`average`. 使用自定义关键字（例如，`MAX(1, 5, 10)`）在谓词语法中访问这些预定义函数。
> 
> 在 OS X v10.5 及更高版本上，函数表达式还支持任意方法调用。要使用此扩展功能，您现在可以使用语法`FUNCTION(receiver, selectorName, arguments, ...)`，例如：
> 
> `FUNCTION(@"/Developer/Tools/otest", @"lastPathComponent") => @"otest"`

该示例代码中的引用似乎不正确。但以下代码在 iOS 5/6 上编译并运行：

```
NSExpression *expr = [NSExpression expressionWithFormat:@"FUNCTION('/Developer/Tools/otest', 'lastPathComponent')"];
id result = [expr expressionValueWithObject:nil context:nil];
NSLog(@"result: %@", result);
// Output:
// otest 
```

所以在你的情况下，它是一个函数表达式，在评估时调用

```
[$manager destinationInstancesForEntityMappingNamed:@"employeesToEmployees"
                                    sourceInstances:$source.employees] 
```

其中`$manager`和`$source`由迁移管理器和源对象替换，如“核心数据模型版本控制和数据迁移编程指南”中的[映射模型对象中所述。](http://developer.apple.com/library/mac/#documentation/cocoa/conceptual/CoreDataVersioning/Articles/vmMappingOverview.html#//apple_ref/doc/uid/TP40004399-CH5-SW2)

# iphone - 核心数据到 SQL 不起作用

> ID：13945709
> 
> 赞同：4
> 
> 时间：2012-12-19T04:50:18.007
> 
> 标签：iphone, ios, xcode, core-data

我一直在努力弄清楚如何在我的核心数据和我的 SQL 数据库之间建立连接。该数据库未预先填充，但在启动时将在许多不同的用户中使用。

斯坦福大学提供的 Core Data & iCloud 课程我已经学习了 3 次，但无济于事。我还彻底研究了 iOS 中的 SQLite/SQL 关系数据库，但无济于事。我唯一的其他选择就是来到这里，发布我能发布的所有代码，并祈祷有人会为我解答。所以这里...

AppDelegate.m

```
- (void)saveContext
{
    NSError *error = nil;
    NSManagedObjectContext *managedObjectContext = self.managedObjectContext;
    if (managedObjectContext != nil) {
        if ([managedObjectContext hasChanges] && ![managedObjectContext save:&error]) {

            NSLog(@"Unresolved error %@, %@", error, [error userInfo]);
            abort();
        }
    }
}

#pragma mark - Core Data stack

- (NSManagedObjectContext *)managedObjectContext
{
    if (_managedObjectContext != nil) {
        return _managedObjectContext;
    }

    NSPersistentStoreCoordinator *coordinator = [self persistentStoreCoordinator];
    if (coordinator != nil) {
        _managedObjectContext = [[NSManagedObjectContext alloc] init];
        [_managedObjectContext setPersistentStoreCoordinator:coordinator];
    }
    return _managedObjectContext;
}

- (NSManagedObjectModel *)managedObjectModel
{
    if (_managedObjectModel != nil) {
        return _managedObjectModel;
    }
    NSURL *modelURL = [self applicationDocumentsDirectory];
    _managedObjectModel = [[NSManagedObjectModel alloc] initWithContentsOfURL:modelURL];
    return _managedObjectModel;
}

- (NSPersistentStoreCoordinator *)persistentStoreCoordinator
{
    if (_persistentStoreCoordinator != nil) {
        return _persistentStoreCoordinator;
    }

    NSURL *storeURL = [[self applicationDocumentsDirectory] URLByAppendingPathComponent:@"shindy.sqlite"];

    NSError *error = nil;
    _persistentStoreCoordinator = [[NSPersistentStoreCoordinator alloc] initWithManagedObjectModel:[self managedObjectModel]];
    if (![_persistentStoreCoordinator addPersistentStoreWithType:NSSQLiteStoreType configuration:nil URL:storeURL options:nil error:&error]) {

        NSLog(@"Unresolved error %@, %@", error, [error userInfo]);
        abort();
    }

    return _persistentStoreCoordinator;
}

#pragma mark - Application's Documents directory

- (NSURL *)applicationDocumentsDirectory
{
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentsDirectory = [paths objectAtIndex:0];
    NSString *path = [documentsDirectory stringByAppendingPathComponent:@"shindy.sqlite"];

    return [NSURL fileURLWithPath:path];
} 
```

主视图控制器.m

```
- (void)setupFetchedResultsController
{
    NSFetchRequest *request = [NSFetchRequest fetchRequestWithEntityName:@"Shindy"];
    request.sortDescriptors = [NSArray arrayWithObjects:
                               [NSSortDescriptor sortDescriptorWithKey:@"name" ascending:YES],
                               [NSSortDescriptor sortDescriptorWithKey:@"dateAndTime" ascending:YES],
                               [NSSortDescriptor sortDescriptorWithKey:@"photo" ascending:YES],
                               [NSSortDescriptor sortDescriptorWithKey:@"details" ascending:YES],
                               [NSSortDescriptor sortDescriptorWithKey:@"timePosted" ascending:YES],
                               [NSSortDescriptor sortDescriptorWithKey:@"location" ascending:YES],
                                                                                                    nil];

    self.fetchedResultsController = [[NSFetchedResultsController alloc] initWithFetchRequest:request
                                                                        managedObjectContext:self.shindyDatabase.managedObjectContext
                                                                          sectionNameKeyPath:nil
                                                                                   cacheName:nil];

}

- (void)fetchShindyDataIntoDocument:(UIManagedDocument *)document
{
    dispatch_queue_t fetchQ = dispatch_queue_create("Shindy Fetcher", nil);
    dispatch_async(fetchQ, ^{
        NSArray *shindys = [[NSFileManager defaultManager] URLsForDirectory:NSDocumentDirectory inDomains:NSUserDomainMask];
        NSLog(@"shindys = %@", shindys);
        [document.managedObjectContext performBlock:^{
            for (NSDictionary *shindyInfo in shindys) {
                [Shindy shindyWithShindyDBInfo:shindyInfo inManagedObjectContext:document.managedObjectContext];
                NSLog(@"fire");
            }
        }];
    });
}

- (void)useDocument
{
    NSArray *paths = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES);
    NSString *documentsDirectory = [paths objectAtIndex:0];
    NSString *path = [documentsDirectory stringByAppendingPathComponent:@"shindy.sqlite"];

    if (![[NSFileManager defaultManager] contentsOfDirectoryAtPath:path error:nil]) {
        [self.shindyDatabase saveToURL:self.shindyDatabase.fileURL forSaveOperation:UIDocumentSaveForCreating completionHandler:^(BOOL success) {
            [self setupFetchedResultsController];
            [self fetchShindyDataIntoDocument:self.shindyDatabase];
        }];
    } else if (self.shindyDatabase.documentState == UIDocumentStateClosed) {
            [self.shindyDatabase openWithCompletionHandler:^(BOOL success) {
        [self setupFetchedResultsController];
        }];
    } else if (self.shindyDatabase.documentState == UIDocumentStateNormal) {
        [self setupFetchedResultsController];
    }
}

- (void)setShindyDatabase:(UIManagedDocument *)shindyDatabase
{
    [self useDocument];
}

- (void)viewWillAppear:(BOOL)animated
{
    [super viewWillAppear:animated];

    [self fetchShindyDataIntoDocument:self.shindyDatabase];

    if (!self.shindyDatabase) {
        [self setShindyDatabase:self.shindyDatabase];
    }
} 
```

Shindy+ShindyDB.m

```
+ (Shindy *)shindyWithShindyDBInfo:(NSDictionary *)shindyInfo
            inManagedObjectContext:(NSManagedObjectContext *)context
{
    Shindy *shindy = nil;

    NSFetchRequest *request = [NSFetchRequest fetchRequestWithEntityName:@"Shindy"];

    NSSortDescriptor *dateAndTimeSort = [NSSortDescriptor sortDescriptorWithKey:@"dateAndTime" ascending:YES];
    NSSortDescriptor *detailsSort = [NSSortDescriptor sortDescriptorWithKey:@"details" ascending:YES];
    NSSortDescriptor *locationSort = [NSSortDescriptor sortDescriptorWithKey:@"location" ascending:YES];
    NSSortDescriptor *nameSort = [NSSortDescriptor sortDescriptorWithKey:@"name" ascending:YES];
    NSSortDescriptor *photoSort = [NSSortDescriptor sortDescriptorWithKey:@"photo" ascending:YES];
    NSSortDescriptor *timePostedSort = [NSSortDescriptor sortDescriptorWithKey:@"timePosted" ascending:YES];
    // title
    request.sortDescriptors = [NSArray arrayWithObjects:dateAndTimeSort, detailsSort, locationSort, nameSort, photoSort, timePostedSort, nil];

    NSError *error = nil;
    NSArray *matches = [context executeFetchRequest:request error:&error];

    if (!matches || ([matches count] > 1)) {
        // handle error
    } else if ([matches count] == 0) {
        shindy = [NSEntityDescription insertNewObjectForEntityForName:@"Shindy" inManagedObjectContext:context];

        shindy.dateAndTime = [shindyInfo objectForKey:@"dateAndTime"];
        shindy.details = [shindyInfo objectForKey:@"details"];
        shindy.location = [shindyInfo objectForKey:@"location"];
        shindy.name = [shindyInfo objectForKey:@"name"];
        shindy.photo = [shindyInfo objectForKey:@"photo"];
        shindy.timePosted = [shindyInfo objectForKey:@"timePosted"];
        // title
        // Guestlist? The rest?
        // Use below for reference
        shindy.whoseShindy = [User userWithName:[shindyInfo objectForKey:@"whoseShindy"] inManagedObjectContext:context];
    } else {
        shindy = [matches lastObject];
    }

    shindy = [NSEntityDescription insertNewObjectForEntityForName:@"Shindy" inManagedObjectContext:context];
    shindy.dateAndTime = [shindyInfo objectForKey:@"dateAndTime"];
    shindy.details = [shindyInfo objectForKey:@"details"];
    shindy.location = [shindyInfo objectForKey:@"location"];
    shindy.name = [shindyInfo objectForKey:@"name"];
    shindy.photo = [shindyInfo objectForKey:@"photo"];
    shindy.timePosted = [shindyInfo objectForKey:@"timePosted"];

    return shindy;
} 
```

添加ShindyViewController.m

```
- (void)saveShindyToDatabase
{
    NSArray *shindys = [[NSFileManager defaultManager] URLsForDirectory:NSDocumentDirectory inDomains:NSUserDomainMask];
    [self.shindyDatabase.managedObjectContext performBlock:^{
        for (NSDictionary *shindyInfo in shindys) {
            [Shindy shindyWithShindyDBInfo:shindyInfo inManagedObjectContext:self.shindyDatabase.managedObjectContext];

            NSURL *url = [[[NSFileManager defaultManager] URLsForDirectory:NSDocumentDirectory inDomains:NSUserDomainMask] lastObject];
            // url = [url URLByAppendingPathComponent:@"Default Shindy Database"];
            self.shindyDatabase = [[UIManagedDocument alloc] initWithFileURL:url];

            [self.shindyDatabase setValue:self.detailView.text forKey:@"details"];

            if (FBSession.activeSession.isOpen) {
                [[FBRequest requestForMe] startWithCompletionHandler:
                    ^(FBRequestConnection *connection, NSDictionary<FBGraphUser> *user, NSError *error) {
                        if (!error) {
                            self.name = user.name;
                            self.photo.profileID = user.id;
                            self.username = user.username;
                        }
                    }];
            }
            [self.shindyDatabase setValue:self.name forKey:@"name"];
            [self.shindyDatabase setValue:self.photo forKey:@"photo"];
            [self.shindyDatabase setValue:self.username forKey:@"username"];
            // [Guest guestWithName:self.name username:self.username photo:self.photo inManagedObjectContext:self.shindyDatabase.managedObjectContext];
            [self.shindyDatabase setValue:self.locationManager.location forKey:@"location"];
            [self.shindyDatabase setValue:self.dateAndTimePicker.date forKey:@"dateAndTime"];
        }
    }];
} 
```

我知道我要的东西太多了，但我已经用尽了我可以使用的每一个资源。如果有人能指出我正确的方向，我将永远感激不尽！

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T14:42:12.020

如果您计划使用 CoreData 映射现有数据库，您将不会成功。事实上，您无法使用 CoreData 映射任何数据库。

Core Data 实际上是一个图形对象管理，具有不同的存储选项，而 sqllite 只是其中一种可能性。在启动时，如果您选择 sqllite 作为选项，您的应用程序将创建一个具有特定表结构的数据库。如果您尝试连接到不是由 CoreData 框架创建的数据库，您将收到错误消息。

您可以做的是摆脱 CoreData，并构建您的 NSObject 以充当实体。但是，您将不得不实现所有逻辑来保存、更新、版本控制、并发 ecc ......这是一个漫长（且有缺陷）的方式，尤其是在多用户环境中。

否则，如果我误解了你的问题，请告诉我。也许，您可以发布错误堆栈跟踪。

# oracle - 错误：ORA-01704：字符串文字太长

> ID：13945710
> 
> 赞同：42
> 
> 时间：2012-12-19T04:50:21.337
> 
> 标签：oracle, codeigniter, clob, nclob

当我尝试在具有数据类型的字段上设置超过 4000 个字符的值时`CLOB`，它给了我这个错误：

> ORA-01704: 字符串文字太长。

任何建议，如果我必须设置无限字符的值，哪种数据类型适用于我，尽管就我而言，它恰好是关于`15000`字符的。

注意：我尝试存储的长字符串以 ANSI 编码。

* * *

## 回答 #1

> 赞同：55
> 
> 时间：2012-12-19T06:56:07.017

使用 CLOB 操作时您使用的是什么？

在任何情况下，您都可以使用 PL/SQL 来完成

```
DECLARE
  str varchar2(32767);
BEGIN
  str := 'Very-very-...-very-very-very-very-very-very long string value';
  update t1 set col1 = str;
END;
/ 
```

[SQLFiddle 上的证明链接](http://www.sqlfiddle.com/#!4/58895/1)

* * *

## 回答 #2

> 赞同：39
> 
> 时间：2015-05-13T15:29:21.537

尝试将字符拆分为多个块，如下面的查询并尝试：

```
Insert into table (clob_column) values ( to_clob( 'chunk 1' ) || to_clob( 'chunk 2' ) ); 
```

它对我有用。

* * *

## 回答 #3

> 赞同：3
> 
> 时间：2019-12-24T14:05:50.177

为了解决我这边的这个问题，我不得不使用那里已经提出的组合

```
DECLARE
  chunk1 CLOB; chunk2 CLOB; chunk3 CLOB;
BEGIN
  chunk1 := 'very long literal part 1';
  chunk2 := 'very long literal part 2';
  chunk3 := 'very long literal part 3';

  INSERT INTO table (MY_CLOB)
  SELECT ( chunk1 || chunk2 || chunk3 ) FROM dual;
END; 
```

希望这可以帮助。

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2015-08-03T19:11:42.273

根据您插入的字符，拆分工作直到 4000 个字符。如果您要插入特殊字符，它可能会失败。唯一安全的方法是声明一个变量。

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2022-02-20T11:28:50.170

虽然这是一个非常古老的问题，但我认为分享经验仍然可能对其他人有所帮助：

如果我们通过使用 '||' 将大文本连接成 4000 个字节/字符的块，大文本可以保存在单个查询中

运行以下查询将告诉您：

1.  要求 包含 4000 字节的块数
2.  剩余字节

因为，在给定的示例中，您试图保存连续 15000 个字节（字符）的文本，所以，

```
select 15000/4000 chunk,mod(15000,4000) remaining_bytes from dual; 
```

结果： [![在此处输入图像描述](../Images/64f030d75df748d66f69d8063a796676.png)](https://i.stack.imgur.com/N0613.png)

这意味着，您需要连接 3 个 4000 字节的块和一个 3000 字节的块，所以它会像：

```
INSERT INTO <YOUR_TABLE> 
VALUES (TO_CLOB('<1st_4K_bytes>') || 
        TO_CLOB('<2nd_4K_bytes>') || 
        TO_CLOB('<3rd_4K_bytes>') || 
        TO_CLOB('<last_3K_bytes>)'); 
```

* * *

## 回答 #6

> 赞同：-1
> 
> 时间：2020-12-01T17:59:47.403

```
INSERT INTO table(clob_column) SELECT TO_CLOB(q'[chunk1]') || TO_CLOB(q'[chunk2]') ||
            TO_CLOB(q'[chunk3]') || TO_CLOB(q'[chunk4]') FROM DUAL; 
```

# css - 如何将背景图像（CSS，而不是图案）添加到 Highcharts 列？

> ID：13945714
> 
> 赞同：0
> 
> 时间：2012-12-19T04:50:50.363
> 
> 标签：css, highcharts, background-image

我想在所有列中添加一些 CSS 以正确定位背景图像，而不是像图案一样。任何人都可以帮忙吗？谢谢！

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-02-01T12:54:47.893

列在 SVG / VML 中被生成为对象，而不是 HTML。所以使用 CSS 是不可能的。

# python - 转义 web2py 数据库连接字符串中的特殊字符

> ID：13945733
> 
> 赞同：5
> 
> 时间：2012-12-19T04:52:16.873
> 
> 标签：python, web2py

我正在使用 web2py 连接到密码中带有 'at' 符号的数据库，例如 'P@sswd' 。

```
db = DAL('mysql://user1:P@sswd@localhost/test') 
```

这被解释为使用密码“P”连接到主机“sswd@localhost”。

我尝试了明显的 URL 转义技术，但失败了：

```
db = DAL('mysql://user1:P%40sswd@localhost/test') 
```

是否有资源可以解释这些 URL 样式连接字符串中使用的转义约定？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-19T05:32:08.000

您应该使用`decode_credentials`选项：

```
db = DAL('mysql://user1:P%40sswd@localhost/test', decode_credentials=True) 
```

# windows-phone-8 - 如何以编程方式从 Windows Phone 8 中选择照片

> ID：13945737
> 
> 赞同：3
> 
> 时间：2012-12-19T04:52:40.570
> 
> 标签：windows-phone-8, photo

如何以编程方式从 Windows Phone 8 中挑选照片以及如何将该照片保存到手机中。请帮我。提前致谢。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T22:42:22.457

WP7/WP8 中有内置的启动器和选择器体验，可以轻松捕捉照片或从手机的图像库中检索照片。使用内置照片选择器是获得默认用户体验的最简单方法。

[您可以在 MSDN @ How to use the camera capture task for Windows Phone](http://msdn.microsoft.com/en-us/library/windowsphone/develop/hh394006%28v=vs.105%29.aspx)上阅读有关允许快速捕获图像的 CameraCaptureTask

[您可以在 MSDN @ How to use the photo chooser task for Windows Phone](http://msdn.microsoft.com/en-us/library/windowsphone/develop/hh394019%28v=vs.105%29.aspx)上阅读有关 PhotChooserTask 的信息，该任务允许从手机的照片库中检索图像

如果您想构建更复杂的图像处理和相机捕捉应用程序，您可以在诺基亚的[高级照片捕捉](http://www.developer.nokia.com/Resources/Library/Lumia/#!advanced-photo-capturing.html)文章中阅读新的 WP8 API。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-19T05:00:51.860

[http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj207050(v=vs.105).aspx](http://msdn.microsoft.com/en-us/library/windowsphone/develop/jj207050(v=vs.105).aspx)

上述链接：为 Windows Phone 拍摄照片

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-20T14:08:16.827

```
 // Try the following steps

       private readonly CameraCaptureTask _cameraCaptureTask; // Declare CameraCaptureTask

       if (null == _cameraCaptureTask) _cameraCaptureTask = new CameraCaptureTask();
        _cameraCaptureTask.Completed += PhotoSelectionTaskCompleted;

      // In the completed event 

       void PhotoSelectionTaskCompleted(object sender, PhotoResult e)
       {
            if (null != e.ChosenPhoto && e.TaskResult == TaskResult.OK)
            {
                var image = new BitmapImage();
                image.SetSource(e.ChosenPhoto);
                SaveImageToIsolatedStorage(image,"Image1.jpg");

            }
       }

      public void SaveImageToIsolatedStorage(BitmapImage image, string fileName)
      {
        using (var isolatedStorage = IsolatedStorageFile.GetUserStoreForApplication())
        {
            if (isolatedStorage.FileExists(fileName))
                isolatedStorage.DeleteFile(fileName);

            var fileStream = isolatedStorage.CreateFile(fileName);
            if (image != null)
            {
                var wb = new WriteableBitmap(image);
                wb.SaveJpeg(fileStream, wb.PixelWidth, wb.PixelHeight, 0, 100);
            }
            fileStream.Close();
        }
    } 
```

# jquery - 如何停止 IE 呈现插入到 textarea 中的 HTML

> ID：13945738
> 
> 赞同：0
> 
> 时间：2012-12-19T04:52:46.533
> 
> 标签：jquery, internet-explorer, textarea

Internet Explorer 呈现以下代码，而不仅仅是插入文本。

```
$("textarea").html('<object width="700" height="408">...</object>'); 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T04:52:46.533

正如[CMS](https://stackoverflow.com/a/1392143/43465)对稍微不同的问题的回答所建议的那样，不要使用 .html()，使用 .val()。

# asp.net-mvc-3 - mvc3 对象引用未设置为对象的实例，无法弄清楚

> ID：13945742
> 
> 赞同：0
> 
> 时间：2012-12-19T04:53:07.810
> 
> 标签：asp.net-mvc-3, object-reference

我收到一个错误，**对象引用未设置为对象的实例**我尝试了多种方法，但一直收到该错误，此代码行发生错误

```
 @if(!string.IsNullOrWhiteSpace(Model.profile.photo))
    {

  @Html.DisplayFor(x => x.profile.firstname)  @Html.DisplayFor(x => x.profile.lastname)
  }
  else {

    <p>This user does not have a profile</p>
  } 
```

**@if(!string.IsNullOrWhiteSpace(Model.profile.photo))**

我有一个包含 2 个模型的视图

```
public class relist_profile
{
    public relisting relisting { get; set; }
    public profile profile { get; set; }

} 
```

我的控制器是

```
public ActionResult detail(int id)
    {
        relisting relistings = db.relistings.Find(id);
        var profiles = (from s in db.profiles where s.registrationID == relistings.RegistrationID select s).FirstOrDefault();

        return View(new relist_profile {profile = profiles, relisting = relistings });
    } 
```

发生的情况是，当**var 配置文件**不匹配时**（s.registrationID ！= relistings.RegistrationID）** ，它会抛出错误，但如果有一个 PROFILE 并且它匹配（TRUE），那么一切正常。我该如何解决这个问题

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T04:59:23.390

当 没有 匹配时`registrationID`，[Enumerable.FirstOrDefault](http://msdn.microsoft.com/en-us/library/bb549039%28v=vs.95%29.aspx)返回`null`。因此`profiles`in`public ActionResult detail(int id)`为空，`null`因此被传递到视图中。

`Model.profile.photo`当`Model.profile`为空时，您无法访问。尝试添加空检查：

```
@if(Model.profile != null && 
    !string.IsNullOrWhiteSpace(Model.profile.photo))
{
    //... 
}
else {
   <p>This user does not have a profile</p>
} 
```

# oracle - 将 Clob 写入本地计算机上的文件

> ID：13945744
> 
> 赞同：0
> 
> 时间：2012-12-19T04:53:20.850
> 
> 标签：oracle, oracle10g, oracle11g

我正在使用例程来填充 clob 数据。现在我需要通过匿名 pl/sql 块将此数据写入本地计算机上的文件（.html）。

*   Clob 数据包含具有 html 标签的数据。

代码看起来像 SET HEADING OFF SET LINESIZE 32767 SET LONG 32767 SET PAGESIZE 0 spool abc.html DECLARE v1 CLOB; l_offset 整数：= 1；
开始 proc1(v1); -- OUT 参数 -- 当 l_offset > dbms_lob.getlength(l_clob) 时，我正在使用 dbms_output 循环退出假脱机数据；DBMS_OUTPUT.PUT_LINE (dbms_lob.substr(l_clob, 255, l_offset)); l_offset := l_offset + 255; 结束循环；结尾;

```
spool off 
```

这样做可以获取文件中 clob 的内容，但生成的 html 文件的行为不符合预期（因为一次使用 dbms_output 写入 255 个字节会扭曲 html 内容）。

他们是否有任何其他方式将 clob 的内容写入本地机器上的文件？

请协助。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T07:02:59.637

> 当您调用 PUT_LINE 时，您指定的项目会自动跟随一个行尾标记。如果您调用 PUT 来构建一条线，那么您必须通过调用 NEW_LINE 添加您自己的行尾标记。GET_LINE 和 GET_LINES 不返回未以换行符终止的行。

使用[DBMS_OUTPUT.PUT(item IN VARCHAR2) 过程](http://docs.oracle.com/cd/B19306_01/appdev.102/b14258/d_output.htm#BABGHBIA)

# configuration - 什么是配置文件

> ID：13945745
> 
> 赞同：-3
> 
> 时间：2012-12-19T04:53:27.860
> 
> 标签：configuration

什么是配置文件？它包含什么？

它与纯 ASCII 数据文件有何不同？

一个愚蠢的额外问题：什么是元数据？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T04:55:55.693

1.  配置文件是包含配置数据的文件。

    它可以是任何类型的文件：XML、.properties、文本、INI 等...

2.  配置文件通常包含有关程序如何工作或操作的信息。

    数据文件通常向程序提供数据。

    这两个文件可能是也可能不是 ASCII 文件。

3.  元数据是关于数据的数据。

    如果您的程序显示有关房屋的数据，元数据的一个示例可能是是否显示地址。

    此类数据不描述房屋；它是关于如何显示房屋数据的数据（即关于数据的数据）。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T05:10:46.070

有关配置文件的所有详细信息，请参阅[http](http://en.wikipedia.org/wiki/Configuration_file) ://en.wikipedia.org/wiki/Configuration_file ....

以及关于元数据[http://en.wikipedia.org/wiki/Meta_data](http://en.wikipedia.org/wiki/Meta_data)

# iphone - UINavigationController 在 iPhone 的 ARC 下不起作用

> ID：13945746
> 
> 赞同：3
> 
> 时间：2012-12-19T04:53:31.353
> 
> 标签：iphone, uinavigationcontroller, automatic-ref-counting, xcode4.3

我**在 Xcode 4.3 中创建了一个新项目“空应用程序”模板**，它只有两个类`AppDelegate.h`& .m

**我在创建应用程序时检查了 ARC 以使用自动引用计数。**

我添加了两个*新文件“RootViewController”和“NewProjectViewControllers”。*

我实现了代码来设置**导航控制器，如下**所示`AppDelegate`

```
- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
      self.window = [[UIWindow alloc] initWithFrame:[[UIScreen mainScreen] bounds]];
      // Override point for customization after application launch.

      rootViewController = [[MainViewController alloc] init];
      UINavigationController *navigation = [[UINavigationController alloc] initWithRootViewController:rootViewController];
      [self.window addSubview:navigation.view];

      self.window.backgroundColor = [UIColor whiteColor];
      [self.window makeKeyAndVisible];
      return YES;
} 
```

并在 hte 主页视图（根视图控制器）中实现如下

```
- (void)viewDidLoad
{
      [super viewDidLoad];

      self.title = @"Projects";
      UINavigationBar *navigationBar = [self.navigationController navigationBar];
      [navigationBar setTintColor:   [UIColor colorWithRed:10/255.0f green:21/255.0f blue:51/255.0f alpha:1.0f]];     

      //To set the customised bar item
      UIButton *rightBarBtn = [UIButton buttonWithType:UIButtonTypeCustom];
      [rightBarBtn setBackgroundImage:[UIImage imageNamed:@"plus_new.png"] forState:UIControlStateNormal];
      rightBarBtn.frame=CGRectMake(0.0, 100.0, 30.0, 30.0);
      [rightBarBtn addTarget:self action:@selector(addProject)  forControlEvents:UIControlEventTouchUpInside];

      UIBarButtonItem* rightBarItem = [[UIBarButtonItem alloc] initWithCustomView:rightBarBtn];
      self.navigationItem.rightBarButtonItem = rightBarItem;

      // Do any additional setup after loading the view from its nib.
}

- (void) addProject
{
      NewProjViewController *editProject = [[NewProjViewController alloc] init];
      [self.navigationController pushViewController:editProject animated:YES];

      NSLog(@"xxxxxxxxxxxxxxx");
} 
```

但是由于我使用***`ARC`***导航可能会立即解除分配并且它不起作用，*因此方法中的所有操作都有效，除了推送到下一个视图*

**如果我在没有 ARC 的情况下做同样的事情，它工作正常**

如何解决这个问题..？提前致谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T05:00:57.430

在你的`appdelegate` `appdidfinishlaunching`方法中，你没有设置

`self.window.rootviewcontroller`到`navigationController`. 事实上，你没有设置任何`rootViewController`to `Window`。这就是为什么它没有被显示。请在您开始`ViewController`在屏幕上看到您之前设置它。

* * *

该`UIWindow rootViewController`属性是**iOS4**的新属性。

较旧的技术是使用`addSubview`.

新的、推荐的技术是设置`rootViewController`.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T05:02:46.967

尝试这个：

```
NewProjViewController *editProject = [[NewProjViewController alloc]initWithNibName:@"NewProjViewController" bundle:[NSBundle mainBundle]];
[self.navigationController pushViewController:editProject animated:YES];
    [editProject release]; 
```

# python - Python 3 中的字符串格式化

> ID：13945749
> 
> 赞同：115
> 
> 时间：2012-12-19T04:53:32.193
> 
> 标签：python, python-3.x, string

我在 Python 2 中这样做：

```
"(%d goals, $%d)" % (self.goals, self.penalties) 
```

这是什么 Python 3 版本？

我尝试在网上搜索示例，但我不断获得 Python 2 版本。

* * *

## 回答 #1

> 赞同：174
> 
> 时间：2012-12-19T04:56:59.003

这是有关“新”格式语法[的文档。](http://docs.python.org/2/library/string.html#format-string-syntax)一个例子是：

```
"({:d} goals, ${:d})".format(self.goals, self.penalties) 
```

如果`goals`和`penalties`都是整数（即它们的默认格式是可以的），它可以缩短为：

```
"({} goals, ${})".format(self.goals, self.penalties) 
```

而且由于参数是 的字段`self`，因此还有一种方法可以使用单个参数两次（正如@Burhan Khalid 在评论中指出的那样）：

```
"({0.goals} goals, ${0.penalties})".format(self) 
```

解释：

*   `{}`仅表示下一个位置参数，具有默认格式；
*   `{0}`表示带有 index 的参数`0`，具有默认格式；
*   `{:d}`是下一个位置参数，采用十进制整数格式；
*   `{0:d}`是带有 index 的参数`0`，采用十进制整数格式。

在选择参数（使用命名参数而不是位置参数、访问字段等）和许多格式选项（填充数字、使用千位分隔符、是否显示符号等）时，您还可以做许多其他事情。其他一些例子：

```
"({goals} goals, ${penalties})".format(goals=2, penalties=4)
"({goals} goals, ${penalties})".format(**self.__dict__)

"first goal: {0.goal_list[0]}".format(self)
"second goal: {.goal_list[1]}".format(self)

"conversion rate: {:.2f}".format(self.goals / self.shots) # '0.20'
"conversion rate: {:.2%}".format(self.goals / self.shots) # '20.45%'
"conversion rate: {:.0%}".format(self.goals / self.shots) # '20%'

"self: {!s}".format(self) # 'Player: Bob'
"self: {!r}".format(self) # '<__main__.Player instance at 0x00BF7260>'

"games: {:>3}".format(player1.games)  # 'games: 123'
"games: {:>3}".format(player2.games)  # 'games:   4'
"games: {:0>3}".format(player2.games) # 'games: 004' 
```

* * *

**注意：**正如其他人指出的那样，新格式不会取代前者，两者都可在 Python 3 和较新版本的 Python 2 中使用。有人可能会说这是一个偏好问题，但恕我直言，新的比旧的更具表现力，并且应该在编写新代码时使用（当然，除非它针对的是旧环境）。

* * *

## 回答 #2

> 赞同：68
> 
> 时间：2016-12-26T22:00:05.440

Python 3.6 现在支持使用[PEP 498](https://www.python.org/dev/peps/pep-0498/)的速记文字字符串插值。对于您的用例，新语法很简单：

```
f"({self.goals} goals, ${self.penalties})" 
```

这类似于以前的`.format`标准，但可以轻松地执行[以下](https://www.python.org/dev/peps/pep-0498/#format-specifiers)操作：

```
>>> width = 10
>>> precision = 4
>>> value = decimal.Decimal('12.34567')
>>> f'result: {value:{width}.{precision}}'
'result:      12.35' 
```

* * *

## 回答 #3

> 赞同：12
> 
> 时间：2012-12-19T04:55:21.123

该行在 Python 3 中按原样工作。

```
>>> sys.version
'3.2 (r32:88445, Oct 20 2012, 14:09:29) \n[GCC 4.5.2]'
>>> "(%d goals, $%d)" % (self.goals, self.penalties)
'(1 goals, $2)' 
```

* * *

## 回答 #4

> 赞同：2
> 
> 时间：2018-03-19T02:17:51.263

我喜欢这种方法

```
my_hash = {}
my_hash["goals"] = 3 #to show number
my_hash["penalties"] = "5" #to show string
print("I scored %(goals)d goals and took %(penalties)s penalties" % my_hash) 
```

请注意分别附加到括号中的 d 和 s。

输出将是：

```
I scored 3 goals and took 5 penalties 
```

# jquery - 在点击问题上更改 cookie 值

> ID：13945750
> 
> 赞同：3
> 
> 时间：2012-12-19T04:53:35.177
> 
> 标签：jquery, cookies, click

我目前正在使用此代码：

```
 $(function () {
      $(".mainmenu a").click(function () {
          $.cookie('value', '0', {
              expires: 365,
              path: '/'
          });
      });
  }); 
```

这适用于一个目录。

我尝试在另一个页面上两个目录上运行相同的代码，当单击菜单锚链接时，这不会改变 cookie 的值。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-19T05:06:16.177

尝试为 cookie 设置域：

```
domain: '*.mydomain.com', 
```

# maven - 如何从 Sonatype.org 导入 Maven 依赖项？

> ID：13945757
> 
> 赞同：19
> 
> 时间：2012-12-19T04:54:20.183
> 
> 标签：maven, robolectric, sonatype

我正在尝试将[Robolectric](http://pivotal.github.com/robolectric/)导入我的 Maven 项目，其中：

```
 <dependency>
            <groupId>com.pivotallabs</groupId>
            <artifactId>robolectric</artifactId>
            <version>1.2-SNAPSHOT</version>
            <scope>test</scope>
        </dependency> 
```

该工件在此处列出：

[https://oss.sonatype.org/index.html#nexus-search;quick~robolectric](https://oss.sonatype.org/index.html#nexus-search;quick~robolectric)

我试过包括：

```
<repositories>
    <repository>
        <id>oss-sonatype</id>
        <name>oss-sonatype</name>
        <url>https://oss.sonatype.org/content/repositories/snapshots/</url>
        <snapshots>
            <enabled>true</enabled>
        </snapshots>
    </repository>
</repositories> 
```

正如[这篇文章](http://mytechaddiction.blogspot.com/2012/07/intellij-robolectric-and-android.html?showComment=1355892044761)所建议的那样，但它不能解决 robolectric。

* * *

## 回答 #1

> 赞同：12
> 
> 时间：2012-12-19T05:05:23.507

尽管您应该真正安装像 Sonatype Nexus 这样的存储库管理器并代理 oss 快照存储库，但这应该可以工作。

在您的情况下，问题可能是它以前没有找到它，并且该事实已缓存在您的本地存储库中。要强制 Maven 再次检查，请使用 -U 标志，例如运行

```
mvn -U clean install 
```

# netbeans - 转到 Netbeans 7.x 中以前的文件/文档快捷方式

> ID：13945758
> 
> 赞同：0
> 
> 时间：2012-12-19T04:54:24.597
> 
> 标签：netbeans, ide, keyboard-shortcuts

Netbeans 中是否有快捷方式可以转到以前的文件/文档（实际上是在选项卡中）？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-20T05:53:34.117

我认为我所问的非常有用，我想自己回答，因为没有人给出答案。

1\. 打开 Netbeans
2\. 打开 Preferences
3\. 在**Keymap**选项卡中，在 Search 字段中搜索“ ***previous*** ”关键字，如下图所示： ![在此处输入图像描述](../Images/28641228200099f2a6686506bd23235e.png)

设置您喜欢的快捷方式，仅此而已！

# regex - 用于 csv 的 Oracle 模式匹配（regexp_like）

> ID：13945763
> 
> 赞同：1
> 
> 时间：2012-12-19T04:55:12.283
> 
> 标签：regex, oracle11g, filtering

我有一个表 offer_detail 包含像这样的列

```
    *Offer_ID *          *Customer_IDS*
    EF123 100,200,300   
    EF124 300,700,800

```

我正在编写一个将`customer id`作为参数的查询。根据`customer_id`结果​​进行过滤。例如，如果输入`customer_id`是 100，我应该得到所有`offer_id`包含`customer_id`csv 的 s。

我尝试使用`regexp_like`功能

```
select offer_id 
  from offer_detail 
 where regexp_like(customer_ids,':INPUT_PARAMETER') 
```

如果参数是单个值，它可以正常工作，如果参数包含多个值，那么这不起作用。有什么解决办法吗？请帮助。我正在使用 Oracle 11g。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-03-15T18:27:14.780

您可以尝试使用正则表达式的 OR 运算符发送多个参数，如下所示

```
select offer_id 
from offer_detail 
where regexp_like(customer_ids,'700|800|200'); 
```

但这又是一个糟糕的设计。

# ruby-on-rails - 如何在 Rails 中创建删除时的全局确认消息？

> ID：13945768
> 
> 赞同：1
> 
> 时间：2012-12-19T04:55:37.150
> 
> 标签：ruby-on-rails

我的应用程序中的每一个`link_to :method => :delete`都包含一个`:data => {:confirm => "Are you sure?"}`

本着 DRY 的精神，是否可以将此确认消息设置一次，以便它在整个过程中自动出现？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T05:12:55.850

最简单的方法是有一个辅助方法

== 应用程序助手

```
def delete_link(object)
    raw (link_to 'Destroy', object, method: :delete, data: { confirm: 'Are you sure?' })
end 
```

== 查看

```
<% @jobs.each do |job| %>
  <tr>
    <td><%= job.title %></td>
    <td>
        <%= delete_link(job) %>
    </td>
  </tr>
<% end %> 
```

我检查了它是否有效：D

高温高压

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T05:15:29.817

您可以使用 jQuery 执行此操作，基本上添加一些数据，如果它包含`data-method="delete"`：

```
$(document).ready(function() {
    $('a[data-method="delete"]').data('confirm','Are you sure?');
    $('a[data-method="delete"]').attr('data-confirm','Are you sure?');
}); 
```

[http://jsfiddle.net/vuQU7/](http://jsfiddle.net/vuQU7/)

请注意，您必须单独添加数据并设置属性 - 根据 Rails UJS 代码，它将检查一个或另一个（或两者）。所以设置两者将确保它工作。

# python - 如何将按钮从应用程序桥接到自定义 python 工具栏应用程序？

> ID：13945769
> 
> 赞同：1
> 
> 时间：2012-12-19T04:55:41.543
> 
> 标签：python, windows, button

如何将按钮从应用程序桥接到不同的应用程序？由于我缺乏术语，这很难问，但这是示例场景。假设您在像 Pandora.com 这样的网站上有一个播放按钮，并且您想使用该播放按钮并将其添加到您的 python 程序中，以便您可以使用您的 python 程序并在其中工作，然后单击您的播放按钮程序，它将按下 Pandora.com 上的播放按钮，而无需实际更改选项卡。这叫什么，你甚至会如何在 python 中处理这个？

你可以指出我的任何方向，因为这将在以后与其他工具一起使用，我的目标是制作一个自定义工具栏，我可以在 python 应用程序中将所有内容链接在一起，但我什至不确定这可能会被称为按钮流媒体？

一种被黑的方法是跟踪播放和暂停时发送的数据包，并使用 python 将原始数据包发送到暂停和播放它的 python。但是必须有更好的方法，我希望做更多这样的事情，比如设置一个搜索栏等等。

如果您能告诉我从哪里开始以及我正在尝试做什么，那么解释一下将是最有用的，这样我就可以彻底研究它。

（操作系统：Windows 7）谢谢

# javascript - 使用 Rails 向 Backbone 中动态创建的元素添加内容

> ID：13945778
> 
> 赞同：0
> 
> 时间：2012-12-19T04:56:58.877
> 
> 标签：javascript, ruby-on-rails-3, backbone.js, coffeescript

我在 Rails 3 中有一个主干视图，其中初始化有一行动态创建一个带有这样的类的 div

```
initialize: () ->
  $('body').append('<div class="new"></div>') 
```

div 的内容在一个生态文件“new.jst.eco”中。当前代码：

```
class TestApp.Views.NewDivView extends Backbone.View
  el: '.new' # newly created in the initialize method.
  template: JST['new']

render: ->
  $(@el).html(@template())
  this

initiaize: () ->
  $('body').append('<div class="new"></div>') 
```

如何在同一视图中将模板的内容添加到新创建的 div 中？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T06:31:38.637

从[主干代码](https://github.com/documentcloud/backbone/blob/master/backbone.js)中，`el`首先被设置`this._ensureElement();`然后`initialize`被调用。所以我相信这里`el`不会按照你想要的方式设置。这将只是一个普通的`div`.

解决方案可以指定`body`为`el`for 视图（可能不是最佳实践），将模板的内容包装在`<div class="new"></div>`.

```
<div class="new">
  <!-- put template content here -->
</div> 
```

并查看您可以这样写（我不知道 coffeescript 语法，因此用 javascript 编写）：

```
view = Backbone.View.extend({
  el : 'body',

  template : "respective_template",

  render : function() {
    this.$el.append(this.template());
    this.setElement(".new"); /* this will change the el for the view from body to a div with class new and will delegate all bound events also if any */

    return this;
  }     
}); 
```

我们从代码中关于`el`设置的假设可能是错误的，但您可以尝试一下。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T05:06:21.953

我想 ：

```
var event_html = template($('#calendar-event-template').html());  // Add apt. selector for template.
$(event_html({title: title, description: description})).appendTo($(el)) 
```

在哪里 ：

```
$(el) = $('body .new'); 
```

将工作。我没有更改参考中的代码，以便您可以在那里轻松搜索。 **参考：http :** [//japhr.blogspot.in/2011/08/getting-started-with-backbonejs-view.html](http://japhr.blogspot.in/2011/08/getting-started-with-backbonejs-view.html)

# emacs - 基于扩展的 Emacs 自动次要模式

> ID：13945782
> 
> 赞同：19
> 
> 时间：2012-12-19T04:57:17.833
> 
> 标签：emacs, elisp, dot-emacs

我在这个主题上发现[了这个问题](https://stackoverflow.com/questions/1299193/in-emacs-how-to-automatically-enable-a-minor-mode-based-on-buffer-name)，但是[在 emacs 中] 有没有办法根据*扩展*设置一个次要模式（或其列表） ？例如，很容易发现可以像这样操纵主要模式

```
(add-to-list 'auto-mode-alist '("\\.notes\\'" . text-mode)) 
```

我最希望能够做的是

```
(add-to-list 'auto-minor-mode-alist '("\\.notes\\'" . auto-fill-mode)) 
```

链接问题的接受答案提到了钩子，特别是[`temp-buffer-setup-hook`](http://www.gnu.org/savannah-checkouts/gnu/emacs/manual/html_node/elisp/Temporary-Displays.html#Temporary-Displays). 要使用它，您必须像这样向钩子添加一个函数

```
(add-hook 'temp-buffer-setup-hook #'my-func-to-set-minor-mode) 
```

我的问题有两个：

1.  有没有更简单的方法来做到这一点，类似于主要模式？
2.  如果没有，如何为钩子编写函数？
    1.  它需要根据正则表达式检查文件路径。
    2.  如果匹配，则激活所需的模式（例如`auto-fill-mode`）。

* * *

对解决方案的微弱和错误的尝试：

```
;; Enables the given minor mode for the current buffer it it matches regex
;; my-pair is a cons cell (regular-expression . minor-mode)
(defun enable-minor-mode (my-pair)
  (if buffer-file-name ; If we are visiting a file,
      ;; and the filename matches our regular expression,
      (if (string-match (car my-pair) buffer-file-name) 
      (funcall (cdr my-pair))))) ; enable the minor mode

; used as
(add-hook 'temp-buffer-setup-hook
          (lambda ()
            (enable-minor-mode '("\\.notes\\'" . auto-fill-mode)))) 
```

* * *

## 回答 #1

> 赞同：15
> 
> 时间：2016-09-23T03:42:45.647

Trey Jackson 的答案似乎是一个非常强大且可扩展的解决方案，但我一直在寻找更简单的解决方案。以下代码将`hmmm-mode`在编辑`.hmmm`文件时启用虚构：

```
(add-hook 'find-file-hook
          (lambda ()
            (when (string= (file-name-extension buffer-file-name) "hmmm")
              (hmmm-mode +1)))) 
```

* * *

## 回答 #2

> 赞同：14
> 
> 时间：2012-12-19T05:53:18.913

这段代码似乎给出了你想要的：

```
(defvar auto-minor-mode-alist ()
  "Alist of filename patterns vs correpsonding minor mode functions, see `auto-mode-alist'
All elements of this alist are checked, meaning you can enable multiple minor modes for the same regexp.")

(defun enable-minor-mode-based-on-extension ()
  "Check file name against `auto-minor-mode-alist' to enable minor modes
the checking happens for all pairs in auto-minor-mode-alist"
  (when buffer-file-name
    (let ((name (file-name-sans-versions buffer-file-name))
          (remote-id (file-remote-p buffer-file-name))
          (case-fold-search auto-mode-case-fold)
          (alist auto-minor-mode-alist))
      ;; Remove remote file name identification.
      (when (and (stringp remote-id)
                 (string-match-p (regexp-quote remote-id) name))
        (setq name (substring name (match-end 0))))
      (while (and alist (caar alist) (cdar alist))
        (if (string-match-p (caar alist) name)
            (funcall (cdar alist) 1))
        (setq alist (cdr alist))))))

(add-hook 'find-file-hook #'enable-minor-mode-based-on-extension) 
```

注意：比较是按照比较时`string-match-p`的`case-fold-search`设置进行的。

# wampserver - Windows 8上的WAMP禁止错误

> ID：13945783
> 
> 赞同：0
> 
> 时间：2012-12-19T04:57:21.737
> 
> 标签：wampserver

我现在正在使用 Windows 8 尝试安装 wamp 服务器，但它出现了禁止错误

我试试这个，但不起作用

AllowOverride none 要求全部授予

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2013-01-13T10:15:04.717

它发生的原因是IPV6。默认情况下，Windows 8 是 IPV6 优先操作系统。如何？好吧，只需转到命令提示符并运行命令

```
ping localhost 
```

您将收到来自 ::1 的响应，即 IPV6 的环回地址。当您尝试连接到服务器时，它使用端口 80 和 IPV6 来定位它。

在这里查看这篇文章。 [http://praveenpuglia.wordpress.com/2012/11/20/setting-up-wamp-server-in-windows-8/](http://praveenpuglia.wordpress.com/2012/11/20/setting-up-wamp-server-in-windows-8/)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-01-15T10:13:58.443

您可以在此处查看我的旧指南[http://www.webtrunghieu.info/site/web/solve-the-denied-access-problem-when-using-wamp-server-2-on-windows-8-](http://www.webtrunghieu.info/site/web/solve-the-denied-access-problem-when-using-wamp-server-2-on-windows-8-)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2014-01-06T09:19:57.240

转到：您的 wamp 安装文件夹\bin\apache\Apache2.2.22\conf\httpd.conf

替换：听 80

与：听 0.0.0.0:80

注：已针对 Apache2.2.21 和 2.2.22 进行了测试

# ios - PBRequester 因 iOS 应用程序中的错误而失败

> ID：13945792
> 
> 赞同：16
> 
> 时间：2012-12-19T04:58:28.320
> 
> 标签：ios, nsurlerrordomain, pbrequester

我在我的 iOS 应用程序中遇到了一些奇怪的问题。当我的应用程序打开并且用户按下睡眠/唤醒按钮时，应用程序调用

```
applicationWillResignActive
applicationDidEnterBackground 
```

当用户向右滑动解锁屏幕时，应用程序调用

```
applicationWillEnterForeground
applicationDidBecomeActive 
```

之后，它会在控制台中打印以下错误：

```
PBRequester failed with Error Error Domain=NSURLErrorDomain Code=-1003 "A server with the specified hostname could not be found." UserInfo=0x1cdfbc00 {NSErrorFailingURLStringKey=https://gsp10-ssl.apple.com/use, NSErrorFailingURLKey=https://gsp10-ssl.apple.com/use, NSLocalizedDescription=A server with the specified hostname could not be found., NSUnderlyingError=0x1cddca10 "A server with the specified hostname could not be found."} 
```

我知道此错误表明未找到指定的主机名。但是哪个主机名？是[https://gsp10-ssl.apple.com/use](https://gsp10-ssl.apple.com/use)还是我用于 Web 服务的主机名？

如何调试此错误并确定其来源？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2014-10-29T11:02:54.440

我有类似的错误。我有一个带有 MKMapView 的应用程序。当我测试应用程序时，我故意断开设备 Wifi 以查看应用程序行为，在调试中我看到错误：

```
PBRequester failed with Error Error Domain=NSURLErrorDomain Code=-1200 "An SSL error has occurred and a secure connection to the server cannot be made." UserInfo=0x18e4fac0 {NSLocalizedDescription=An SSL error has occurred and a secure connection to the server cannot be made., NSLocalizedRecoverySuggestion=Would you like to connect to the server anyway?, _kCFStreamErrorCodeKey=-9806, NSErrorFailingURLStringKey=https://gsp10-ssl.apple.com/use, _kCFStreamErrorDomainKey=3, NSUnderlyingError=0x18e51690 "An SSL error has occurred and a secure connection to the server cannot be made.", NSErrorFailingURLKey=https://gsp10-ssl.apple.com/use} 
```

此时设备正在尝试连接 3G，因为设备启用了“移动数据”。我也没有获得 3G 连接的功劳。我想这是这个错误的具体来源（3G 没有信用），因为当我禁用“移动数据”时，我已经收到另一个错误，也是来自 PBRequester

```
PBRequester failed with Error Error Domain=NSURLErrorDomain Code=-1009 "The Internet connection appears to be offline." UserInfo=0x188e4b00 {NSErrorFailingURLStringKey=https://gsp10-ssl.apple.com/use, _kCFStreamErrorCodeKey=8, NSErrorFailingURLKey=https://gsp10-ssl.apple.com/use, NSLocalizedDescription=The Internet connection appears to be offline., _kCFStreamErrorDomainKey=12, NSUnderlyingError=0x18d78410 "The Internet connection appears to be offline."} 
```

我倾向于将这些错误归咎于 MKMapView 对象，因为它需要持续的活动连接来检索地图图层/标题。虽然应用程序有其他活动屏幕（没有 MKMapView），但没有引发错误。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-04-11T06:54:03.730

我遇到过同样的问题。我将 parse.com 框架集成到我的应用程序中。

```
- (void)application:(UIApplication *)application
didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken
{
  // Store the deviceToken in the current installation and save it to Parse.
  PFInstallation *currentInstallation = [PFInstallation currentInstallation];
  [currentInstallation setDeviceTokenFromData:deviceToken];
  [currentInstallation saveInBackground];
}

- (void)application:(UIApplication *)application
didReceiveRemoteNotification:(NSDictionary *)userInfo {
  [PFPush handlePush:userInfo];
} 
```

在我将这两个代码块从 AppDelegate 移动到我的主 ViewController 文件后，错误消息消失了......也许它可以帮助你......

# php - php中的memcpy等价物

> ID：13945794
> 
> 赞同：1
> 
> 时间：2012-12-19T04:58:41.393
> 
> 标签：php, memcpy

我想在 PHP 中通过网络发送 UDP 消息。消息有一个预定义的协议，即消息必须为 10 个字节长，其中前 3 个字节用于条目 1，2 个字节用于条目 2，3 个字节用于条目 3，最后 2 个字节用于条目 4。

我怎样才能在 PHP 中做到这一点？在 C 中，我们可以使用 memcpy。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T05:04:00.887

只需创建所需字节的字符串。字符串的一个字符在 PHP 中是一个字节。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2013-08-07T15:54:23.190

我真的希望在 PHP 中有一种快速的方法来做到这一点！所有 PHP 字符串函数都返回一个字符串，而不是允许您直接复制到现有字符串中。如果您有兆字节大小的数组，后者从内存的角度来看非常有用。下面的代码是我想要的那种东西的 PHP 变体......如果你可以直接在 PHP 中作为本机函数调用进行这种操作，而不是必须制作自己的扩展，那就太好了。在下面，$source 是一个短字符串，我们希望将部分数据复制到更长的字符串 $destination 中。我们通过引用传递后者，这样我们就不会因为函数调用而浪费内存。

```
function charCopy($source, &$destination, $start, $length)
{
    $endk = intval($length - 1);
    $end = intval($start + $endk);
    $start = intval($start);
    for($j = $end, $k = $endk; $j >= $start; $j--, $k--) {
        $destination[$j] = $source[$k];
    }
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2015-01-31T20:18:01.030

这很接近。

```
function &memcpy(&$dest,$src,$n){
$dest=substr($src,0,$n) . substr($dest,$n);
return $dest;
} 
```

请注意，与 C 不同，PHP 为您管理内存和重新分配，并且您不能溢出：pi 不认为您可以在用户空间中进行精确的 memcpy 克隆，您可能会抛出一些异常 / trigger_error() if $n > strlen( $src) 或 $n>strlen($dest) ofc。与 C 的 memcpy 不同，如果需要，上面的代码会自动为您重新定义 $dest。

# jquery - jquery mobile navbar，每行有两个按钮

> ID：13945795
> 
> 赞同：1
> 
> 时间：2012-12-19T04:58:52.250
> 
> 标签：jquery, jquery-mobile, navbar

我有一个 jquery mobile navbar，可以有 2 到 8 个按钮。我不喜欢 jquery mobile 捆绑成一行，= 5 个按钮。
我想要的是强制导航栏是 2 个按钮一次..

还有人做过吗？？

谢谢

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T08:41:34.983

为什么不使用[内容网格](http://jquerymobile.com/test/docs/content/content-grids.html)和导航栏的组合呢？

```
 <div data-role="page">
        <div data-role="header" data-position="fixed" data-theme="a"> 
            <h1>Example grid</h1> 

            <div data-role="navbar">
                <div class="ui-grid-a">
                    <div class="ui-block-a">Block A</div>
                    <div class="ui-block-b">Block B</div>
                    <div class="ui-block-a">Block A</div>
                    <div class="ui-block-b">Block B</div>
                    <div class="ui-block-a">Block A</div>

                </div><!-- /grid-b -->
            </div><!-- /navbar -->
        </div> <!-- /header --> 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T14:29:50.610

尝试这个：

```
<div data-role='navbar' data-grid='a'>
    <ul>
        <li><a>bt1</a>
        </li>
        <li><a>bt2</a>
        </li>
    </ul>
</div>
<div data-role='navbar' data-grid='a'>
    <ul>
        <li><a>bt3</a>
        </li>
        <li><a>bt4</a>
        </li>
    </ul>
</div>
<div data-role='navbar' data-grid='a'>
    <ul>
        <li><a>bt5</a>
        </li>
        <li><a>bt6</a>
        </li>
    </ul>
</div>
<div data-role='navbar' data-grid='a'>
    <ul>
        <li><a>bt7</a>
        </li>
        <li><a>bt8</a>
        </li>
    </ul>
</div> 
```

# jquery - jquery.datatables 脚本中的浏览器无法识别 dataTable() 函数

> ID：13945799
> 
> 赞同：3
> 
> 时间：2012-12-19T04:59:07.290
> 
> 标签：jquery, html, datatables

我正在使用 jQuery 的 DataTables 插件在 HTML5 中创建一个表。该表正在填充从后端 Web 服务接收的 JSON 对象。

运行 Web 应用程序时，控制台会显示一条错误消息，

> 未捕获的类型错误：对象 [对象对象] 没有方法“数据表”

在 Google Chrome 和 Firefox 中类似的。

我正在使用最新的 jQuery 和 jQuery DataTables 脚本。我还尝试在静态表上创建 DataTables，效果很好。

`dataTable()`动态填充表的脚本中无法识别该函数。

数据表的代码如下：

```
$(document).ready( function () {

    $('#datatable').dataTable( {

        "sScrollY": "200px",
        "bPaginate": false,
        "bProcessing": true

    } );
} ); 
```

`datatable`是要填充的表的名称。

对解决此问题的任何帮助将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T05:05:50.293

您可以尝试做一些事情来使其正常工作。

1.  确保您的脚本被拉入页面，一种检查方法是使用 Chrome 调试器中的“源”选项卡并在 html 头部分中搜索其他文件

2.  确保在包含 jQuery 之后包含了 datatale 脚本，因为它肯定依赖于它。

3.  检查是否正确包含 jQuery，并且只包含一次。

4.  注意 jQuery 冲突。还有一些其他库覆盖了 $，因此您的代码无法正常工作，因为 $ 不再是 jQuery 的别名。您可以使用它`jQuery.noConflict()`来避免与页面上使用相同变量 $ 的其他库发生冲突。

5.  “*数据表是正在填充的表的名称*”<--- 根据您的代码，错误的表应该有一个 id 调用“数据表” `$('#datatable')`。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T05:13:09.590

我认为您的 $('#datatable').dataTable() 在表格填充 JSON 对象之前被调用。我建议在填写表格后立即将 dataTable() 添加到同一位置。

# ios - 将 NSArray 拆分为 NSString

> ID：13945817
> 
> 赞同：1
> 
> 时间：2012-12-19T05:00:27.273
> 
> 标签：ios, xcode, uitableview, nsmutablearray

我的应用程序有一个`TableView`博客文章列表，按天排序。选择文章的行时，它将文章的标题添加到`NSUserDefault` `NSMutableArray`. 当视图刷新时，应用程序获取数组，用于`NSPredicate`对数组中与文章标题匹配的项目进行排序，如果标题匹配，它会添加一个复选标记。问题是因为我使用`NSString`它只在其中一行添加一个复选标记......无论是最近的条目`NSMutableArray`。这是我的代码`cellForRowAtIndexPath:`

```
NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];

RSSEntry *entry = [_allEntries objectAtIndex:indexPath.row];
NSArray *rowsarray = [defaults objectForKey:@"checkedrows"];

NSPredicate *predicate = [NSPredicate predicateWithFormat: @"SELF contains[cd] %@",  entry.date];

NSArray *filteredArray = [rowsarray filteredArrayUsingPredicate: predicate];
NSString *myString = [filteredArray componentsJoinedByString:@""];

NSLog(@"The array %@", filteredArray);
NSLog(@"The string %@", myString);

if([entry.date isEqualToString:myString])
{
   cell.accessoryType = UITableViewCellAccessoryCheckmark;

} 
```

在控制台中，MYSTRING 被打印多次，数组中的每个项目打印一次，但只在第一个返回的文章标题的行上添加一个复选标记。我怎样才能让它为数组中的每个添加复选标记？

更新：我添加了上面的日志以打印出`filteredArray`然后是字符串。我发现了错误，它似乎正在获取数组中的第一项并以与 entry.date 匹配的方式对其进行格式化，但第二项不是。这是控制台中的打印输出。

```
The array (
    "Day 2: "
)

The string Day 2:

The array (
        (
        "Day 1: "
    )
)

The string (
    "Day 1: "
) 
```

如您所见，控制台显示的第 1 天与第 2 天不同。第 2 天有效，但另一天无效。有什么建议么？哦，还有，原来的Array使用前`NSPredicate`显示

```
(
        (
        "Day 1: "
    ),
    "Day 2: "
) 
```

难道我需要在 componentsJoinedByString 中编辑谓词或字符串？

**更新：**

将值添加到`NSUserDefaults`.

```
NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults]; 
NSMutableArray *rowsarray2 = [[NSMutableArray alloc] initWithObjects:[defaults objectForKey:@"checkedrows"], nil]; 
[rowsarray2 addObject:entry.date]; 
[defaults setObject:rowsarray2 forKey:@"checkedrows"]; 
[defaults synchronize]; 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T05:24:53.807

正如您所打印的，两种情况下的数据结构都不相同。原始数组本身表明，第一个元素是一个带有另一个字符串数组的数组，第二个元素只是一个字符串。因此，在过滤和加入时，您将得到`( "Day 1: " )`代表一个数组，其中您期望字符串为`"Day 1: "`. 请检查为什么您的原始数组具有这种数据结构。

为了让您的代码正常工作，而不是

```
(
        (
        "Day 1: "
    ),
    "Day 2: "
) 
```

它应该是，

```
(
    "Day 1: ",
    "Day 2: "
) 
```

因此，您需要更改方式，将对象添加到`NSUserDefaults`.

代替，

```
NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults]; 
NSMutableArray *rowsarray2 = [[NSMutableArray alloc] initWithObjects:[defaults objectForKey:@"checkedrows"], nil]; 
[rowsarray2 addObject:entry.date]; 
[defaults setObject:rowsarray2 forKey:@"checkedrows"]; 
[defaults synchronize]; 
```

试试这个，

```
NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults]; 
NSMutableArray *rowsarray2 = [NSMutableArray arrayWithArray:[defaults objectForKey:@"checkedrows"]]; 
[rowsarray2 addObject:entry.date]; 
[defaults setObject:rowsarray2 forKey:@"checkedrows"]; 
[defaults synchronize]; 
```

基本上，您正在创建一个以先前数组作为对象的数组，而不是向同一个数组添加新对象。

# plugins - 在插件中给出文件路径

> ID：13945820
> 
> 赞同：0
> 
> 时间：2012-12-19T05:00:48.833
> 
> 标签：plugins, browser, npapi, firebreath, clutter

我已经使用 firebreath 开发了 npapi 插件。我想访问放置在计算机内的一张图像。我很困惑如何在插件类中给出文件路径，还是需要将它放在其他指定的文件夹中？请帮忙。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T17:03:01.927

在您的主要插件对象中，您可以调用[getFSPath](http://www.firebreath.org/display/documentation/class+FB+PluginCore+getFSPath) () 来获取插件 .dll 的完整路径和文件名。您可以使用它来查找要打开的资源文件的相对路径。

在 1.7 或更高版本（1.7 于 2012 年 12 月 17 日发布）中，您可以在任何地方`#include "BrowserPlugin.h"`使用`BrowserPlugin::getFSPath()`。从那里开始，它只是一个简单的字符串操作，或者如果你想更完整/更简单，你可以使用 boost::filesystem

```
#include <BrowserPlugin.h>
#include <boost/filesystem.hpp>
using namespace boost::filesystem;

// ....

std::string getPluginDirPath() {
    path pluginPath(BrowserPlugin::getFSPath());
    return pluginPath.parent_path().string();
} 
```

# php - 无法在 IE 中居中文本，但在 Firefox 中有效

> ID：13945825
> 
> 赞同：13
> 
> 时间：2012-12-19T05:01:18.147
> 
> 标签：php, css, html-table, text-alignment

元素内的文本`td`需要居中，除了`Summary`和`Experience`。这似乎只适用于 Firefox/chrome。在 IE8 中，所有`td`文本都显示为左对齐。无论我尝试什么，它都不会居中。有什么特别的原因会发生这种情况吗？

**CSS**

```
#viewAll {
    font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
    width: 100%;
    border-collapse: collapse;
    margin-left: 10px;
    table-layout: fixed;
}

#viewAll td, #viewAll th {
    font-size: 1.1em;
    border: 1px solid #98bf21;
    word-wrap: break-word;
    text-align: center;
    overflow: hidden;
}

#viewAll tbody td {
    padding: 2px;
}

#viewAll th {
    font-size: 1.1em;
    padding-top: 5px;
    padding-bottom: 4px;
    background-color: #A7C942;
    color: #ffffff;
} 
```

**桌子**

```
<?php
echo '<table id="viewAll" class="tablesorter">';

            echo '<thead>';
            echo '<tr align="center">';
            echo '<th style="width:70px;">Product</th>';
            echo '<th style="width:105px;">Prob</th>';
            echo '<th style="width:105px;">I</th>';
            echo '<th style="width:60px;">Status</th>';
            echo '<th style="width:120px;">Experience</th>';
            echo '<th style="width:200px;">Technical Summary</th>';
            echo '<th style="width:80px;">Record Created</th>';
            echo '<th style="width:80px;">Record Updated</th>';
            echo '<th style="width:50px;">Open</th>';

            echo '</tr>';
            echo '</thead>';
            echo '<tbody>';

            while ($data=mysqli_fetch_array($result)){

            #limiting the summary text displayed in the table
            $limited_summary = (strlen($data['summary']) > 300) ? substr(($data['summary']),0,300) . '...' : $data['summary'];
            $limited_exp = (strlen($data['exp']) > 300) ? substr(($data['exp']),0,300) . '...' : $data['exp'];

            echo '<tr align="center">

            <td style="width:70px; text-align:center;">'.$data['product'].'</td>';

            //if value is '-' do not display as link
            if ($data['prob'] != '-'){

            echo '<td style="width:105px;">'.$data['prob'].'</a></td>';   
            }
            else{
                    echo '<td style="width:105px; ">'.$data['prob'].'</td>';
            }

            if ($data['i'] != '-'){

              echo '<td style="width:105px; ">'.$data['i'].'</a></td>';
            }
            else{
                    echo '<td style="width:105px; ">'.$data['i'].'</td>';   
            }

            echo'<td style="width:40px; " >'.$data['status'].'</td>
            <td style="width:120px; text-align:left;">'.$limited_cust_exp.'</td>
            <td style="width:200px; text-align:left;">'.$limited_summary.'</td>
            <td style="width:80px; ">'.$data['created'].'</td>
            <td style="width:80px; ">'.$data['updated'].'</td>';

             if (isset($_SESSION['username'])){
             echo '<td style="width:50px; "> <form action="displayRecord.php" method="get">'.'
                <input type="hidden" name="id" value="'. $data['id'].'" style="text-decoration: none" /><input type="submit" value="Open" /></form></td>';
             }else{

                echo '<td style="width:50px; "> <form action="displayRecord.php" method="get">'.'
                <input type="hidden" name="id" value="'. $data['id'].'" style="text-decoration: none" /><input type="submit" value="View" /></form></td>';

             }

            echo '</tr>';

                }#end of while

echo '</tbody>';
echo '</table>';            

?> 
```

**编辑 1**：我刚刚通过 xampp 尝试了完全相同的代码，它以 IE 为中心。知道为什么它会在我的本地机器上通过 XAMPP 而不是通过服务器工作吗？（现在对此感到很困惑）

**编辑 2：** [jsfiddle](http://jsfiddle.net/greenpool/GPHfp/)

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T05:24:35.673

`<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">`

在顶部添加这行代码，它将起作用。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T05:34:10.327

```
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" 

"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"> 
```

添加这个，它可能会起作用

* * *

## 回答 #3

> 赞同：-1
> 
> 时间：2012-12-19T08:00:49.240

内联 CSS 会覆盖内部或外部 CSS。您已经习惯**`<th style="width:x">`**了设置列的宽度。安装使用**`<th width="x">`**。

这应该有效。

# android - 我无法理解这个问题 java.lang.IndexOutOfBoundsException

> ID：13945826
> 
> 赞同：3
> 
> 时间：2012-12-19T05:01:23.150
> 
> 标签：android, indexoutofboundsexception

我有一个奇怪的问题，我的应用程序在某些设备上运行良好，但它在应用程序启动屏幕上崩溃了一个客户端设备（在 Galaxy Nexus 4.1.1 v 上）。我从 ACRA 报告中得到这个堆栈跟踪。

```
java.lang.IndexOutOfBoundsException
        at android.graphics.Paint.getTextRunAdvances(Paint.java:1731)
        at android.graphics.Paint.getTextRunAdvances(Paint.java:1704)
        at android.text.MeasuredText.addStyleRun(MeasuredText.java:164)
        at android.text.MeasuredText.addStyleRun(MeasuredText.java:204)
        at android.text.StaticLayout.generate(StaticLayout.java:281)
        at android.text.DynamicLayout.reflow(DynamicLayout.java:284)
        at android.text.DynamicLayout.<init>(DynamicLayout.java:170)
        at android.widget.TextView.makeSingleLayout(TextView.java:5843)
        at android.widget.TextView.makeNewLayout(TextView.java:5741)
        at android.widget.TextView.onMeasure(TextView.java:6098)
        at android.view.View.measure(View.java:15172)
        at android.widget.LinearLayout.measureVertical(LinearLayout.java:833)
        at android.widget.LinearLayout.onMeasure(LinearLayout.java:574)
        at android.view.View.measure(View.java:15172)
        at android.widget.RelativeLayout.measureChildHorizontal(RelativeLayout.java:617)
        at android.widget.RelativeLayout.onMeasure(RelativeLayout.java:399)
        at android.view.View.measure(View.java:15172)
        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4814)
        at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)
        at android.view.View.measure(View.java:15172)
        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4814)
        at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1390)
        at android.widget.LinearLayout.measureVertical(LinearLayout.java:681)
        at android.widget.LinearLayout.onMeasure(LinearLayout.java:574)
        at android.view.View.measure(View.java:15172)
        at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:4814)
        at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)
        at com.android.internal.policy.impl.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2148)
        at android.view.View.measure(View.java:15172)
        at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:1848)
        at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1100)
        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1273)
        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:998)
        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:4212)
        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:725)
        at android.view.Choreographer.doCallbacks(Choreographer.java:555)
        at android.view.Choreographer.doFrame(Choreographer.java:525)
        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:711)
        at android.os.Handler.handleCallback(Handler.java:615)
        at android.os.Handler.dispatchMessage(Handler.java:92)
        at android.os.Looper.loop(Looper.java:137)
        at android.app.ActivityThread.main(ActivityThread.java:4745)
        at java.lang.reflect.Method.invokeNative(Native Method)
        at java.lang.reflect.Method.invoke(Method.java:511)
        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)
        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)
        at dalvik.system.NativeStart.main(Native Method) 
```

我看到上面的堆栈跟踪。我无法理解这个问题。

请帮我解决这个问题。

谢谢你。

# java - 搜索列表中的元素

> ID：13945828
> 
> 赞同：0
> 
> 时间：2012-12-19T05:01:33.480
> 
> 标签：java, grails, groovy

我的代码中有一个这个列表：

```
def officers = [[name:'Mark', surname: 'Pen'], [name:'Maria', surname: 'Charlote']] 
```

现在可以搜索此列表吗？我的意思是

```
def found = officers.findNameLike('%Mar%') 
```

因此它将返回这两个值，因为它们的名称上有 MAR 字符。

甚至可能吗？或者他们无论如何都在这附近？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-19T05:09:41.647

我不知道 Groovy，但是通过快速的谷歌，像这样的非笨重的东西应该可以工作：

```
def found = officers.findAll { it.name =~ /Mar/ } 
```

# javascript - 表单搜索 Onkeyup 事件

> ID：13945832
> 
> 赞同：1
> 
> 时间：2012-12-19T05:01:42.177
> 
> 标签：javascript, ajax, forms, jquery-events, onkeyup

我有一个表单，当我在文本字段中输入第 10 个字符时，表单应该自动搜索，但下面的代码正在搜索我在文本字段中输入的每个字符。. . 我只想要完成第 10 个字符后的结果，而不是每个字符。. 我已经使用`onkeyup`了 event 并将该值设置为 10 但它仍然在搜索每个 n 每个字符...请帮帮我

```
<body OnKeyPress="return disableKeyPress(event)">
<section id="content" class="container_12 clearfix" data-sort=true>
    <center><table class='dynamic styled with-prev-next' data-table-tools='{'display':true}' align=center>
        <script>
        function disableEnterKey(e)
        {
            var key;      
            if(window.event)
                key = window.event.keyCode; //IE
            else
                key = e.which; //firefox      

            return (key != 13);
        }

        function showUser(str)
        {

            if (str=="")
            {
                document.getElementById("txtHint").innerHTML="";
                return;
            } 
            if (window.XMLHttpRequest)
            {// code for IE7+, Firefox, Chrome, Opera, Safari
                xmlhttp=new XMLHttpRequest();
            }
            else
            {// code for IE6, IE5
                xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
            }
            xmlhttp.onreadystatechange=function()
            {
                if (xmlhttp.readyState==4 && xmlhttp.status==200)
                {
                    document.getElementById("txtHint").innerHTML=xmlhttp.responseText;
                }
            }
            xmlhttp.open("GET","resdb.php?id="+str,true);
            xmlhttp.send();
        }
        </script>

        <script type='text/javascript'>
        //<![CDATA[ 
        $(window).load(function(){
            $('#id').keyup(function(){
                if(this.value.length ==10)
            });
        });//]]>  

        </script>

        <form id="form" method="post" name="form" >
            <tr><td><p align="center"><font size="3"><b>JNTUH - B.Tech IV Year II Semester (R07)   Advance Supplementary Results - July 2012</b></font></p></td></tr>
            <td><p align="center"><b>Last Date for RC/RV : 8th August 2012</b></p></td>
            <tr><td><p align="center"></b> <input type="text" onkeyup="showUser(this.value)"   onKeyPress="return disableEnterKey(event)" data-type="autocomplete"  data-source="extras/autocomplete1.php" name="id" id="id" maxlength="10" placeholder="Hall-Ticket Number">&emsp;</p></td></tr>
        </form>
    </center>
</table>
<center>
    <div id="txtHint"><b>Results will be displayed here</b></div>
</center>
</body> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T05:12:31.090

这是一个想法，因为您的代码正在运行。这样做。首先检查您的文本字段是否超过 10 个字符。调用 fnc() onkeyup

```
function fnc()
 {
  length=document.getElementById("atext").value.length;
  if(length==10)
  {
      callyourajaxfunction()
   }

} 
```

# sql-server - 如何在 SQL Server 2008 中有效地使用 LOCK_ESCALATION

> ID：13945834
> 
> 赞同：12
> 
> 时间：2012-12-19T05:01:41.683
> 
> 标签：sql-server, locking, deadlock

我目前在 SQL Server 2008 中遇到与特定用户表频繁死锁的问题。以下是有关此特定表的一些事实：

1.  有大量的行（1 到 200 万）
2.  此表上使用的所有索引仅在其选项中勾选 **“使用行锁”*****编辑：表上只有一个索引是其主键***
3.  行经常被多个事务更新，但是是唯一的（例如，可能每小时对不同的唯一行执行一千个或更多更新语句）
4.  该表不使用分区。

在检查表后`sys.tables`，我发现`lock_escalation`设置为`TABLE`

我很想将此表的 lock_escalation 转换为，`DISABLE`但我不确定这会产生什么副作用。据我了解，使用`DISABLE`将最大限度地减少从级别升级锁`TABLE`，如果与索引的行锁设置结合使用，理论上应该最大限度地减少我遇到的死锁。

从我在[确定锁升级阈值中](https://stackoverflow.com/questions/4679222/determining-threshold-for-lock-escalation)读到的内容看来，当单个事务获取 5000 行时，锁似乎会自动升级。

从这个意义上说，单笔交易意味着什么？通过单独的更新/选择语句获得 5000 行的单个会话/连接？

或者它是获取 5000 行或更多行的单个 sql 更新/选择语句？

任何见解都值得赞赏，顺便说一句，n00b DBA 这里

谢谢

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-19T06:24:45.973

LOCK Escalation 在语句对 SINGLE 对象持有超过 5000 个锁时触发。在同一张表的两个不同索引上分别持有 3000 个锁的语句不会触发升级。

当尝试锁升级并且对象上存在冲突锁时，尝试中止并在另外 1250 个锁（持有，未获取）后重试

因此，如果您的更新是在单个行上执行的并且您在列上有一个支持索引，那么锁升级不是您的问题。

您将能够使用来自分析器的 Locks-> lock escalation 事件来验证这一点。

我建议您捕获死锁跟踪以确定死锁的实际原因。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2015-07-08T13:48:44.310

在快速谷歌禁用表锁升级后，我找到了这篇文章。尽管对于 OP 来说不是一个真正的答案，但我认为它仍然与一次性脚本相关，并且在这里值得注意。您可以使用一个不错的小技巧来临时禁用表锁升级。
打开另一个连接并发出类似的问题。

```
BEGIN TRAN
SELECT * FROM mytable (UPDLOCK, HOLDLOCK) WHERE 1=0
WAITFOR DELAY '1:00:00'
COMMIT TRAN 
```

作为

> 如果不同的 SPID 当前持有不兼容的表锁，则不会发生锁升级。

来自[微软 kb](https://support.microsoft.com/en-us/kb/323630)

# php - PHP表单验证功能

> ID：13945836
> 
> 赞同：7
> 
> 时间：2012-12-19T05:02:02.547
> 
> 标签：php, regex, validation, function

我目前正在编写一些 PHP 表单验证（我已经验证了客户端）并且有一些重复的代码，我认为这些代码可以很好地用于一个不错的 PHP 小函数。但是我无法让它工作。我确定这只是语法问题，但我无法确定。

任何帮助表示赞赏。

```
//Validate phone number field to ensure 8 digits, no spaces.
if(0 === preg_match("/^[0-9]{8}$/",$_POST['Phone']) {
    $errors['Phone'] = "Incorrect format for 'Phone'";
}

if(!$errors) {
    //Do some stuff here....
} 
```

我发现我写了很多验证代码，我可以通过创建一个函数来节省一些时间和一些代码行。

```
//Validate Function
function validate($regex,$index,$message) {
    if(0 === preg_match($regex,$_POST[$index])) {
        $errors[$index] = $message;
    } 
```

并这样称呼它......

```
validate("/^[0-9]{8}$/","Phone","Incorrect format for Phone"); 
```

谁能明白为什么这行不通？

请注意，我在处理此问题以尝试触发错误时禁用了客户端验证，因此我为“电话”发送的值无效。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-19T05:29:21.310

让我们尝试一些更深思熟虑的东西。

你想像这样使用它：

```
if (validate(...)) {
    // It's ok
} 
```

然后我建议这个：

```
function validate($regex, $index, $message, &$errors) {     
    if (isset($_POST[$index]) && 1 === preg_match($regex, $_POST[$index])) {
        return true;            
    }
    $errors[$index] = $message; 
    return false;        
} 
```

现在您有机会在错误时退出验证，或者您可以通过这些传递 $errors 并用验证错误填充它。没有使用全局变量。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T05:11:58.623

这是一个修复：

```
//Validate Function
function validate($regex,$index,$message) {
    global $errors;
    if(0 === preg_match($regex,$_POST[$index])) {
        $errors[$index] = $message;
    }
} 
```

这是问题：

`if(0 === preg_match($regex,$_POST[$index],$message)`

`$message`，一个字符串，是一个匹配数组应该去的地方。你不需要它。

从手册： `int preg_match ( string $pattern , string $subject [, array &$matches [, int $flags = 0 [, int $offset = 0 ]]] )`

[http://php.net/manual/en/function.preg-match.php](http://php.net/manual/en/function.preg-match.php)

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T05:30:54.750

您在验证函数的 if 处缺少右括号 更改此

```
if(0 === preg_match($regex,$_POST[$index],$message) 
```

对此

```
if(0 === preg_match($regex,$_POST[$index],$message)) 
```

# php - 将html属性值传递给php中的下一个脚本

> ID：13945837
> 
> 赞同：3
> 
> 时间：2012-12-19T05:02:24.187
> 
> 标签：php, html

我有三个 php 脚本。main.php questions.php 和 values.php

这是代码

**主文件**

```
<html>
    <head>
        <title></title>
    </head>

    <body>
        <h1>Be Prepare for the battle</h1>
        <?php
            $strTitle = "Begin";
            $strLink = "<a href = 'question.php?ques_id=1'>" . $strTitle ."</a>";     
            echo $strLink;
        ?>
    </body>
</html> 
```

**问题.php**

```
<?php
require_once('../connect.php');
$quesSQL = mysql_query("SELECT * FROM  `questions` WHERE  `ques_id`=". $_GET["ques_id"]);

if(!mysql_num_rows($quesSQL) >= 1)
{
    die('Complete.');
}

$next = $_GET["ques_id"];

while($row = mysql_fetch_array($quesSQL)) {
    $id = $row['ques_id'];
    $strTitle = $row['ques_title'];
    echo "<li>" . $strTitle . "</li><br/>";         
}   

$optSQL = mysql_query("SELECT `options`,`values` FROM questions_options WHERE " . $id . "= ques_id");
echo "<form action=\"values.php\" method=\"POST\">";

while($row = mysql_fetch_array($optSQL) ) {
    $strOptions = $row['options'];  
    $strValues = $row['values'];                            
    echo "<input type =\"radio\" name =\"valueIn\" value=" . $strValues . " />" . $strOptions . "<br/>";
}   
echo "</form>";
$strTitle = "<input type =\"submit\" value=\"Next\">";
$next = $next + 1;
$strLink = "<a href = 'values.php?ques_id=" . $next . "'>" . $strTitle ."</a>";
echo $strLink;

mysql_close();                  
?> 
```

**值.php**

```
<?php
require_once('../connect.php'); 
$input = $_POST['valueIn'];
$ansSQL = mysql_query("SELECT `answer` FROM questions WHERE 1-".$_GET["ques_id"]."= ques_id");          

$marks = 0;         
if($input == $ansSQL)
{
    $marks = $marks+1;
}
else
{
    $marks = $marks+0;
}               
echo $marks;                            
?> 
```

现在的问题是我必须将一个值从第二个脚本（questions.php）传递给第三个脚本（values.php）。它来自单选按钮名称值“ *valueIn* ”中的 <form> 部分。但我不能那样做。因为我在第二个脚本的末尾发送了另一个带有 $strLink 变量的值 ques_id。那么我该怎么做呢？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T05:55:44.797

我不确定您为什么使用链接来处理表单中可能包含的内容。正如 anusha 所说，您应该像这样为 ques_id 使用隐藏的输入字段

**问题.php**

```
<?php
    require_once('../connect.php');
    $quesSQL = mysql_query("SELECT * FROM  `questions` WHERE  `ques_id`=". $_GET["ques_id"]);

    if(!mysql_num_rows($quesSQL) >= 1)
    {
    die('Complete.');
}

$next = $_GET["ques_id"];

while($row = mysql_fetch_array($quesSQL)) {
    $id = $row['ques_id'];
    $strTitle = $row['ques_title'];
    echo "<li>" . $strTitle . "</li><br/>";         
}   

$optSQL = mysql_query("SELECT `options`,`values` FROM questions_options WHERE " . $id . "= ques_id");
echo "<form action=\"values.php\" method=\"POST\">";

while($row = mysql_fetch_array($optSQL) ) {
    $strOptions = $row['options'];  
    $strValues = $row['values'];                            
    echo "<input type =\"radio\" name =\"valueIn\" value=" . $strValues . " />" . $strOptions . "<br/>";
}

$next = $next + 1;
$strLink = '<input type="hidden" name="ques_id" value="'.$next.'">';
echo $strLink;

    $strTitle = "<input type =\"submit\" value=\"Next\">";
    echo $strTitle;   
echo "</form>";

mysql_close();                  
?> 
```

然后这两个变量都可以通过 $_POST 在下一步中使用，如下所示

```
$input = $_POST['valueIn'];
$ques_id = $_POST['ques_id']; 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T06:07:36.213

您可以使用隐藏输入，例如 Mike 的答案，或者您仍然可以使用 GET 参数，如下所示：

问题.php

```
<?php

// .........
// .........
// .........
// .........
// add / change your code for this part
$next = (int) $next;
$optSQL = mysql_query("SELECT `options`,`values` FROM questions_options WHERE ques_id = " . $next);
echo '<form action="values.php?ques_id=' . ($next+1) . '" method="POST">';
while($row = mysql_fetch_array($optSQL) ) {
    $strOptions = $row['options'];
    $strValues = $row['values'];
    echo '<input type="radio" name ="valueIn" value="' . $strValues . '" />' . $strOptions . '<br/>';
}
echo '<input type="submit" value="Next">';
echo "</form>";
mysql_close();

// end change
?> 
```

值.php

```
<?php
// add / change your code for this part
$_GET["ques_id"] = (int) $_GET["ques_id"];
$ansSQL = mysql_query("SELECT `answer` FROM questions WHERE ques_id = " . ($_GET["ques_id"]-1));
// end change
// .........
// .........
// .........
// ......... 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T05:09:05.370

您可以使用“a”标签添加多个参数。像

```
 "<a href = 'values.php?ques_id=".$next." & ques_id1=1'>" . $strTitle ."</a>" 
```

* * *

## 回答 #4

> 赞同：-1
> 
> 时间：2012-12-19T05:17:23.153

您还可以对变量使用隐藏的输入字段`$question_id`并提交表单

# c# - 重新插入设备后如何继续播放捕获设备？

> ID：13945840
> 
> 赞同：0
> 
> 时间：2012-12-19T05:02:55.913
> 
> 标签：c#, usb, detection, video-capture, directshow.net

好的，我现在正在开发一个可以使用 DirectShow.NET 从视频捕获设备捕获流的 winform 应用程序。

  问题是当我将 USB 捕获设备拔出时。图像冻结，尝试停止后，**我的代码挂在 IMediaControl.Stop()**方法上。因此我无法继续玩。

那么有没有办法在设备拔出时停止播放进度？或者设备重新插入后如何重播？

谢谢。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2013-05-07T12:33:08.100

对于拔出设备的场景，没有明确定义的行为。最终这应该会导致某些错误代码，但是可能会涉及超时延迟。该行为取决于硬件驱动程序支持的底层过滤器的实际实现。

# java - Android 和 Java Uuid

> ID：13945849
> 
> 赞同：3
> 
> 时间：2012-12-19T05:03:55.243
> 
> 标签：java, android, encryption, uuid

我想为我的应用程序生成一个 uuid，我尝试了很多东西，例如 wifi mac 地址、获取 android id、序列号、从设备 `android.os.Build`属性创建伪 uuid。

我也开始知道 java 本身有 Uuid 创建者类 `java.util.UUID`

通过浏览几篇文章和博客，我对此有点困惑。我想知道，如果两个 android 设备正在使用这个 java 类（`java.util.UUID`）创建 uuid，那将是唯一的还是有重复的机会？

同样在某些设备中，我无法使用`android.os.Build.SERIAL`. 是否有其他方法来获取设备的序列号

* * *

## 回答 #1

> 赞同：9
> 
> 时间：2012-12-19T05:26:26.420

假设您使用的是 java.util.UUID 的`randomUUID()`函数，理论上存在重复的可能性，但它非常遥远。生成的 id 是[RFC4122](https://www.rfc-editor.org/rfc/rfc4122) version-4 id，随机设置 122 位。这意味着有 5.32 x 10^^36 个可能的值。从某种角度来看，如果你有 10 亿台设备，每台设备每秒生成 10 亿个 ID，它们大约需要 1680 亿年才能完成（大约是宇宙年龄的 10 倍）。

所以，是的，重复是*可能的*，但是（假设 Java 使用的是高质量的随机数生成器），它实际发生的几率是如此遥远以至于毫无意义。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T05:20:47.603

获取设备 ID 使用电话 U 可以在这里使用它是

```
public static String deviceUDID(Context ctx) {
     final TelephonyManager tm = (TelephonyManager) ctx.getSystemService(Context.TELEPHONY_SERVICE);

     final String tmDevice, tmSerial, androidId;
     tmDevice = "" + tm.getDeviceId();
     tmSerial = "" + tm.getSimSerialNumber();
     androidId = "" +android.provider.Settings.Secure.getString(ctx.getContentResolver(), android.provider.Settings.Secure.ANDROID_ID);

     UUID deviceUuid = new UUID(androidId.hashCode(), ((long)tmDevice.hashCode() << 32) | tmSerial.hashCode());
     String deviceId = deviceUuid.toString();
     Log.d("Device Id", deviceId);
     return deviceId;
} 
```

# android - 发生错误。请在应用计费测试中重试

> ID：13945854
> 
> 赞同：4
> 
> 时间：2012-12-19T05:04:30.993
> 
> 标签：android, in-app-purchase

我正在尝试测试应用内计费应用程序（我在应用计费版本 2 中使用）。为此，我按照链接[http://developer.android.com/google/play/billing/billing_testing.html](http://developer.android.com/google/play/billing/billing_testing.html)遵循指南。

我将我签名的 apk 作为草稿上传到谷歌市场，发布项目。但是当我要在应用计费中进行测试时，它会给我错误“发生错误。请重试”。

我正在使用 Android 2.3.7 和我的 google play store 版本 3.4.7 在 Sony experia U 上对其进行测试

请建议我.......

谢谢..

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2013-01-02T13:44:04.977

检查你是否在 AndroidManifest.xml 文件中添加了互联网权限。

您必须在 androidmanifest.xml 文件中添加互联网和计费权限。

## Androidmanifest.xml：

`<uses-permission android:name="android.permission.INTERNET" /> <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /> <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" /> <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /> <uses-permission android:name="android.permission.BROADCAST_STICKY" /> <uses-permission android:name="com.android.vending.BILLING" /> <uses-permission android:name="android.permission.GET_ACCOUNTS" />`

并在活动结束后添加以下计费服务

```
 <service android:name=".BillingService" />

    <receiver android:name=".BillingReceiver" >
        <intent-filter>
            <action android:name="com.android.vending.billing.IN_APP_NOTIFY" />
            <action android:name="com.android.vending.billing.RESPONSE_CODE" />
            <action android:name="com.android.vending.billing.PURCHASE_STATE_CHANGED" />
        </intent-filter>
    </receiver> 
```

并且必须将公钥保存在 security.java 类中

```
 String base64EncodedPublicKey = "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA09UpyecYDEoQTTp+MCZmJGuRtphynUhGzRvl/jiCPRbdfzrt649RB5j8OmADlkB2pu3TiN/wxKoqol0Gadw7W+BhkTgptog2ZkRrFqnVq+DJSbL1cXbQAc549VmSTEhMSRA0FkpiEg/eqBjyDKiFsMHlmO21WwYyXGvNj5b4qt6OUrbYZYUuO0RHbOJeaJEfoYWuGpxHHUVf0jmQG/+UWOkfNzesRmzAwlz2fPIxchE8k0kSV7dHWP4XaIt7f0tMzny3GsXTBJEJpqXydoCjRWJeOUZX9BjK6U/yPCoTikxA3V7NaSCZ0ofZMJeXsuxhy1TEmW88q6ayhOx/wEKDBwIDAQAB"; 
```

# ruby-on-rails - NoMethodError：解析 YAML 数组时未定义方法“each_value”

> ID：13945855
> 
> 赞同：2
> 
> 时间：2012-12-19T05:04:30.910
> 
> 标签：ruby-on-rails, ruby, yaml

我有一个简单的 YAML 数组，其值如下

```
%YAML 1.1
---

-
  - 'd7744c3878'
  - '80705686'
-
  - 'c349b086b1'
  - '80705686'
-
  - '516e25d139'
  - '95203563' 
```

我尝试使用以下代码对其进行迭代并将它们添加到数据库中。

```
YAML.load_file("db/tokens.yml").each_value do |yml_token|

    token = Token.find_or_create_by_token_origin(
           token_origin: yml_token[0],
           token_value: yml_token[1]) 

end 
```

但是`NoMethodError: undefined method each_value for #<String:0x000000059ab7f8>` 在尝试运行代码时出现错误。

知道是什么原因造成的吗？

更新：

按照下面的建议使用`Psych.load`我也会收到`SyntaxError: db/gallery_tokens.yml:1: unknown type of %string %YAML 1.1`错误消息。

```
require "psych"
Psych.load("db/tokens.yml").each do |yml_token|

    token = Token.find_or_create_by_token_origin(
           token_origin: yml_token[0],
           token_value: yml_token[1]) 

end 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T05:14:13.990

顶部的声明“%YAML 1.1”很可能会导致问题。

没有错误：

```
require "yaml"
YAML.load("---\n\n-\n  - 'd7744c3878'\n  - '80705686'").each
=> #<Enumerator: [["d7744c3878", "80705686"]]:each> 
```

错误：

```
YAML.load("%YAML 1.1\n---\n\n-\n  - 'd7744c3878'\n  - '80705686'").each
NoMethodError: undefined method `each' for "%YAML 1.1 ---\n- - 'd7744c3878' - '80705686'":String
        from (irb):4
        from /Users/modify/.rvm/rubies/ruby-1.9.2-p180/bin/irb:17:in `<main>' 
```

在这里，我使用的是 ruby​​ 1.9.2p180（2011-02-18 修订版 30909）[i386-darwin9.8.0]。我还注意到，在未修改的环境中，[`#each_value`](http://www.ruby-doc.org/core-1.9.3/Hash.html#method-i-each_value)可用于 a`Hash`但不是`Array`(@oldergod)。

看起来 Psych（它是 Ruby 后续版本中的默认 YAML 解释器）可以处理该`%YAML 1.1`指令：

```
require "psych"
Psych.load("%YAML 1.1\n---\n\n-\n  - 'd7744c3878'\n  - '80705686'").each
=> #<Enumerator: [["d7744c3878", "80705686"]]:each> 
```

直接使用 Psych 的可能替代方法是切换到更高版本的 Ruby 或`%YAML 1.1`从文件中删除标题。

# asp.net - 如何在部署时加密（连接字符串）webconfig？出于安全原因

> ID：13945869
> 
> 赞同：2
> 
> 时间：2012-12-19T05:05:49.263
> 
> 标签：asp.net, asp.net-mvc-3, c#-4.0

出于安全原因，我需要在实时服务器上部署时加密 Web 配置

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T05:15:02.187

有两种方法可以使您的 webconfig 连接字符串安全。

1.有IIS工具aspnet_regiis.exe IIS注册工具，它会加密你的连接字符串。这是命令

```
aspnet_regiis.exe -pef "connectionStrings" C:\ 
```

将您的 web.config 放在 c 驱动器中。这是文档 - [Aspnet_regiis.exe 文档](http://msdn.microsoft.com/en-us/library/k6h9cz8h%28v=vs.80%29.aspx)

1.  在 Application_Start 上添加连接字符串。这也将有所帮助。

# smartgwt - SmartGWT：ListGrid 应仅根据记录数增长

> ID：13945870
> 
> 赞同：1
> 
> 时间：2012-12-19T05:05:51.573
> 
> 标签：smartgwt

我在 SmartGWT 中使用 ListGrid。
我不想提前设置网格的高度，因为我不知道数据源中的记录数。

所以，要求是：
如果少于 10 条记录，网格的高度将与数量成正比，如果记录数量大于 10，我将使用分页。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T05:15:15.900

没关系。我在这里找到了一个这样的例子： [http ://www.smartclient.com/smartgwt/showcase/#grid_autofit_rows](http://www.smartclient.com/smartgwt/showcase/#grid_autofit_rows)

# php - 函数不保留旧值

> ID：13945876
> 
> 赞同：0
> 
> 时间：2012-12-19T05:06:36.900
> 
> 标签：php

这是所有的源代码，它是一个带有 2 个文本字段的简单表单：

*   [索引.tmpl.php](http://pastebin.com/SVUQtDWS)
*   [index.php 和functions.php](http://pastebin.com/PQ4Qb6bk)

我遇到的问题是在它调用旧函数的 HTML 中：

```
<input type="text" name="name" value="<?php old('name'); ?>"> 
```

旧功能代码：

```
function old($key)  if( !empty($_REQUEST['$key']))                
    {return htmlspecialchars($_REQUEST['$key']); }       
    return '';   
    } 
```

出于某种原因，它不会保留旧值。我清除了缓存并重新启动了 Apache 以查看是否是问题所在，但没有。我没有想法了，有什么想法为什么旧功能被忽略了吗？

* * *

我的测试环境：Windows 7，xampp php5.3，但也上传到我的测试服务器，结果相同。

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-19T05:08:33.047

你需要`<input type="text" name="name" value="<?php print old('name'); ?>">`

或者如果它支持速记`<input type="text" name="name" value="<?= old('name'); ?>">`

基本上，该函数正在被调用，但它没有在任何地方打印。

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-19T05:09:22.080

您缺少一个左括号...

```
function old($key) { 
   if(!empty($_REQUEST['$key'])) {
      return htmlspecialchars($_REQUEST['$key']); 
    }       
    return '';   //<---- I think you might need this in else
} 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-19T05:14:54.027

尝试

```
<input type="text" name="name" value="<?php print(old('name')); ?>"> 
```

和php

```
 function old($key) {
      if( !empty($_REQUEST['$key']))                
      {
        return htmlspecialchars($_REQUEST['$key']);
       }       
      return '';   
    } 
```

# cocoa - How do I prevent duplicate code inside 2 drawRect: methods?

> ID：13945877
> 
> 赞同：2
> 
> 时间：2012-12-19T05:06:43.570
> 
> 标签：cocoa, drawrect

I have a few lines of drawing code that are duplicated in two different subclasses. When I move this drawing code to its own class and then call it from within `drawRect`: it is called but it is never drawn to the screen. What is the right way prevent duplicating code in two different `drawRect`: methods?

Details: I'm making a custom control by subclassing `NSTableView` and `NSTableCellView`. My drawing code needs to be in `drawRect`: in both of these subclasses.

I created a subclass of NSObject that declares one method. Here is the implementation:

```
@implementation TNLChartDrawingExtras

- (void)drawDividersInRect:(NSRect)rect startingAtDate:(NSDate *)startDate withZoomFactor:(NSNumber *)zoomFactor {

    float pos = 0;
    NSDate *currentDate = [startDate copy];

    while (pos < rect.size.width) {

        //draw the vertical divider
        NSBezierPath *linePath = [NSBezierPath bezierPathWithRect:NSMakeRect(pos, 0.0, 1.0, rect.size.height)];
        [[NSColor colorWithCalibratedWhite:0.85 alpha:0.5] set];
        [linePath fill];

        //increment the values for the next day
        currentDate = [NSDate dateWithTimeInterval:86400 sinceDate:currentDate]; // add one day to the current date
        pos = pos + (86400.0/ [zoomFactor floatValue]);
    }
} 
```

In my NSTableView subclass I define a property for this object. Then in `awakeFromNib` I create an instance of this class:

```
- (void)awakeFromNib {
    self.extras = [[TNLChartDrawingExtras alloc] init];
} 
```

In `drawRect:` I send this message:

```
- (void)drawRect:(NSRect)dirtyRect {
    // more code here...

    [self.extras drawDividersInRect:viewBounds startingAtDate:chart.startDate withZoomFactor:self.zoomFactor];
} 
```

The code is executed but the lines it is supposed to draw don't appear. If I put the code from `drawDividersInRect:...` in the `drawRect:` method, it works fine.

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T08:40:36.527

My original solution (described in the question) may have worked if I had continued to debug it. However, I think the more important question is what is the right way to approach this problem. Here I solve it by adding category on NSView to the project:

I'm trying to add custom drawing code to both `NSTableView` and `NSTableCellView`. Both are subclasses of `NSView` so I created a category of `NSView` and added my custom drawing method there. Now I can call my drawing method from both subclasses.

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T05:45:39.623

Without see any of your code, it sounds like you are in need of a protocol, which is that same thing as an interface in the java language. Protocols are a series of methods that a group of a few unrelated classes may need to used. For example, in a drawing program like PhotoShop, Rects, Ovals, and Images are all valid objects that can be stored as layers in a .psd document, however, they all share traits like the ability to change object properties in a particular way. An example would be adjusting an objects' opacity or rescale an objects size, etc. Methods that access the objects properties for scaling or functions that can be shared between unrelated objects types call for protocols.

They are essentially .h files that list out the methods. The .m file that defines implementation of the code can store a tag in it's .h file.

```
// example of a class that acts as a protocol implementor
@interface LayerObject: NSObject <Resizable> 
```

The tag says, "I am a member of the protocol named X, you can find one/some of the methods of protocol X in my .m file." All you would have to do is import the protocol to the desired classes using the following syntax:

```
// Declare protocol
@protocol Resizable;
// List methods wanted from protocol
- id resizeRect: id layerObject; 
```

to gain the methods defined in the protocol.

Here is a website that describes protocols through an example: [http://agilewarrior.wordpress.com/2012/03/19/simple-objective-c-protocol-example/](http://agilewarrior.wordpress.com/2012/03/19/simple-objective-c-protocol-example/)

Another solution would be to create a class hierarchy that uses an abstract class to put the given drawRect method you are working in. From here you could define the two subclass you are working on as a subclass of the abstract class in which they would inherit the drawRect method code, keeping you from repeating the code in two separate classes.

# android - 如何阻止原生消息应用程序的消息内容显示在 Android 的 NotificationBar 中

> ID：13945880
> 
> 赞同：0
> 
> 时间：2012-12-19T05:07:28.130
> 
> 标签：android, sms, android-notification-bar

我正在 Android 中创建一个 SMS 应用程序。我想根据地址加密邮件正文。但是一旦我收到任何消息。`notificationbar`显示显然我不想要的消息正文。有人可以建议我如何禁用此功能并在收到任何消息后立即发送我自己的通知。

编辑：

```
 public void onReceive(final Context context, Intent intent) {
     if (intent.getAction().equals(SMS_RECEIVED)){

    Bundle extras = intent.getExtras();

    //StringBuilder text = new StringBuilder();

    if (extras != null) {
        abortBroadcast();
        // Get received SMS array
        final Object[] smsExtra = (Object[]) extras.get(SMS_EXTRA_NAME);
        // Get ContentResolver object for pushing encrypted SMS to incoming
        // folder

        final ContentResolver contentResolver = context.getContentResolver();
            Handler handler = new Handler();
            handler.postDelayed(new Runnable() {

              public void run() {
                  String messages = "";
                  for (int i = 0; i < smsExtra.length; ++i) {
                        SmsMessage sms = SmsMessage.createFromPdu((byte[]) smsExtra[i]);

                        final String body = sms.getMessageBody().toString();
                         String address = sms.getOriginatingAddress();
                     String body1 = null;
                    String number = null;
                    Log.i("MY_SMS_RECEIVER","body address and length of extras are "+body+" "+address+" "+String.valueOf(smsExtra.length));

                //Do something after 100ms
                  Cursor updateCursor = contentResolver.query(Uri.parse("content://sms/inbox"), new String[]{"address","body","_id","type"}, "address = ?", new String[]{address}, null);
                    Cursor c = contentResolver.query(Uri.parse("content://sms/inbox"), new String[]{"address","body","_id","type"}, "address = ?", new String[]{address}, null);

                    if(c.getCount()>0) 
                    {
                        while(c.moveToNext()){
                            Log.i("ids in inbox content is ",String.valueOf(c.getLong(c.getColumnIndexOrThrow("_id"))));
                        }
                    }
                    c.close();
                    AddressDBHandler dba = new AddressDBHandler(context);
                    ContentValues val = new ContentValues();
                    if(dba.alreadyExisted(address)){
                        if(updateCursor.moveToFirst())
                        {
                             body1= updateCursor.getString(updateCursor.getColumnIndexOrThrow("body")).toString();
                               number = updateCursor.getString(updateCursor.getColumnIndexOrThrow("address")).toString();
                               Long id  = updateCursor.getLong(updateCursor.getColumnIndexOrThrow("_id"));
                               Log.i("MY_SMS_RECEIVER", "frist received message body and address and id is "+body1+" "+number+" "+id.toString());

                            do
                            {
                                String status = "E";
                                id  = updateCursor.getLong(updateCursor.getColumnIndexOrThrow("_id"));
                                EndecDBHandler db = new EndecDBHandler(context);
                                EndecDB  endec = new EndecDB(id.intValue(),status);

                                try {

                                    if(!db.alreadyExisted(endec)){
                                db.insertEncryptedData(endec);
                                Log.i("MY_SMS_RECEIVER","succeeded to insert");

                                val.put("body", SimpleCrypto.encrypt("smstrove", body1));
                                contentResolver.update(
                                        Uri.parse("content://sms/inbox"), val,
                                        "address = ? and body = ?", new String[] { address,body1 });
                                Log.i("MY_SMS_RECEIVER","both databases has been updated");}
                                    }
                                catch(Exception e)
                                {
                                    Log.i("MY_SMS_RECEIVER","could not able to insert");
                                }
                            } while(updateCursor.moveToNext());
                        }
                        updateCursor.close();

                    }
                    messages += "SMS from " + address + " :\n";
                    messages += body + "\n";

                    //putSmsToDatabase(contentResolver, sms, body,context);
                  }
              }
            }, 3000);

        }
    else
        abortBroadcast();

        // Display SMS message
    //  Toast.makeText(context, messages, Toast.LENGTH_LONG).show();

    }
} 
```

我将延迟 3 秒，因为`content://sms/inbox`需要时间来获取更新，然后将消息发送到存储加密地址的数据库。问题是当我从意图中获取数据后中止广播时，`content://sms/inbox`没有使用新消息进行更新，并且我无法向用户显示消息。

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T05:12:39.373

看看[这个](http://www.it-hall.com/1871/intercept-sms-messages-in-android-and-prevent-them-appearing-in-messaging-app/)。在 Android 中拦截消息通知

# fancybox - 如何在fancybox中添加like按钮？

> ID：13945881
> 
> 赞同：-2
> 
> 时间：2012-12-19T05:08:02.467
> 
> 标签：fancybox

我正在加载 FancyBox 的一些照片，我需要加载一个社交网络的一些小部件（VKontakte（俄罗斯 Facebook））。

如何在 FancyBox 中添加加载“Like Button”脚本？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T05:25:50.343

你可以像这样添加

```
$(".fancylink").fancybox({
'titlePosition': 'over',
'titleFormat': function() {
   return '<span id="fancybox-title-over"><script src="http:\/\/
connect.facebook.net\/en_US\/all.js#xfbml=1"><\/script><fb:like
href="http:\/\/www.google.com" layout="button_count"
show_faces="false" width="450"></fb:like></span>';
} 
```

# c# - 如何将 CheckedListBox 选定项目放入列表 ...？

> ID：13945888
> 
> 赞同：9
> 
> 时间：2012-12-19T05:08:26.420
> 
> 标签：c#, winforms, checkedlistbox

我有一个 X 类型的列表。X 是一个属性级别类。现在在一个事件中，我需要将 CheckedListBox 选定项目放入另一个列表中。

如何获得输出......？我试过的代码如下...

```
public void Initialize(List<X> x1)
{
        chkList.DataSource = x1;
        chkList.DisplayMember = "MeterName"; // MeterName is a property in Class X
        chkList.ValueMember = "PortNum"; // PortNum is a property in Class X
}

private void Click_Event(object sender, EventArgs e)
{

List<X> x2 = new List<X>();
// Here I want to get the checkedListBox selected items in x2;
// How to get it...???

} 
```

* * *

## 回答 #1

> 赞同：22
> 
> 时间：2012-12-19T05:17:22.847

你可以试试以下

```
 List<X>  x2 =  chkList.CheckedItems.OfType<X>().ToList(); 
```

或投射为对象

```
List<object>  x2 = chkList.CheckedItems.OfType<object>().ToList(); 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2013-08-16T15:42:16.910

这是一种对我有用的方法：

```
List<X> x2 = new List<X>();
x2 = chkList.CheckedItems.Cast<X>().ToList(); 
```

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-19T05:30:23.213

我得到了答案

```
private void Click_Event(object sender, EventArgs e)
{

List<X> x2 = new List<X>();
foreach (X item in chkList.CheckedItems)
    {
        x2.Add(item);
    }
} 
```

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2014-12-30T16:33:56.917

```
string[] miList = chkList.CheckedItems.OfType<object>().Select(li => li.ToString()).ToArray(); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2016-11-19T08:39:40.863

这是另一个选项

```
List<X> lst = new List<X>(chkList.CheckedItems.Cast<X>()); 
```

# html - 改变背景的不透明度，而不是子元素

> ID：13945894
> 
> 赞同：3
> 
> 时间：2012-12-19T05:08:57.980
> 
> 标签：html, css

是否可以更改表单背景图像的不透明度，但不能更改表单内的字段。CSS：

```
#myForm{
  background-image:url("images/Binary.jpg");      
  border:1px solid #080808;
  box-shadow:#444444 0 0 1px inset;
  margin:20px auto 20px 52%;
  padding:20px;
  width:484px;
  -moz-box-shadow:black 4px 5px 11px;
  -webkit-box-shadow:black 4px 5px 11px;
  box-shadow:black 4px 5px 11px;
} 
```

所以，这是我的 CSS，我想减少 Binary.jpg 的不透明度，而不是表单的内容。是否可以？？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T05:10:43.240

简单地说：没有。您需要将图像设为半透明 PNG。

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T05:11:26.570

您可以通过在悬停时使用较少的不透明度图像更改背景和较少的 opecativy gif 或 png 图像来做到这一点

或尝试类似可能有效的方法

```
<div id="myForm">
    <form>...</form>
</div> 
```

css

```
div {
 -khtml-opacity:.50; 
 -moz-opacity:.50; 
 -ms-filter:"alpha(opacity=50)";
  filter:alpha(opacity=50);
  filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0.5);
  opacity:.50; 
} 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T05:30:15.517

好吧，我已经破解了它，所以如果你愿意，你当然可以这样做

[**演示**](http://jsfiddle.net/nYyLM/)

HTML

```
<div class="wrapper">
    <div class="holder">This is awesome yea ;)</div>
</div> 
```

CSS

```
.wrapper {  
    position: relative;
    color: #fff;
}

.wrapper:before {
    content: "";
    position: absolute;
    z-index: 1;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    background-image: url('http://www.freegreatpicture.com/files/146/25234-colorful-high-resolution-background.jpg');
    opacity: 0.7;
}

.holder {
    z-index: 2;
    position: relative;
} 
```

# android - 如何在android中编辑大图像？

> ID：13945903
> 
> 赞同：3
> 
> 时间：2012-12-19T05:10:35.750
> 
> 标签：android, image, bitmap, zooming

我正在尝试保存从 SD 卡加载的原始图像中的小图像。Android 不允许我创建更大图像尺寸的位图，所以我必须使用**选项**，这样做我的图像分辨率会改变，所以现在我应该如何编辑原始图像？

并保存图像，我是否只有 bitmap.compress 选项？**如果是这样，当我打开并保存为JPG**时，这会降低图像的质量

 **以及如何独立于屏幕显示它们？？？

* * *

## 回答 #1

> 赞同：-1
> 
> 时间：2014-04-11T09:32:55.157

我找到了一种使用 BitmapRegionDecoder 在 Android 中显示大图像的方法。[http://developer.android.com/reference/android/graphics/BitmapRegionDecoder.html](http://developer.android.com/reference/android/graphics/BitmapRegionDecoder.html)**

# php - 如何获取公司的 twitter URL 和linkedin URL？

> ID：13945910
> 
> 赞同：2
> 
> 时间：2012-12-19T05:10:56.920
> 
> 标签：php, parsing, twitter, linkedin, semantics

我有一个公司名称列表，例如：

```
AB Electrolux
ABB Ltd
Kingfisher PLC 
```

对于列表中的每家公司，我需要

```
company's twitter URL
company's Linkedin URL 
```

是否有以自动化方式执行此操作的 API 服务？也许各种服务的组合可以工作？

或者是否可以从某个地方解析结果？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T05:21:28.717

已知公司的 Twitter 链接与其名称相同，例如伊莱克斯的 @Electrolux，您可以创建这些 id 的数组并从[https://dev.twitter.com/](https://dev.twitter.com/)的 twitter api 检查它是否返回 true 或 false。

# java - Java中不可修改的向量

> ID：13945911
> 
> 赞同：4
> 
> 时间：2012-12-19T05:10:58.370
> 
> 标签：java

我需要在我的程序中管理数据，其中 Java-Vector 适合目的，因为它是同步的，通过索引提供动态大小和快速随机访问。

但我想让我的向量对其他程序类只读，对我自己的类读写。

我读过`Collections.unmodifiableList()`，但如果我让我的`Vector`不可修改，它也将变成我的班级只读。

我怎么解决这个问题？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-19T06:06:09.953

> 我读到了`Collections.unmodifiableList()`，但是如果我让我的 Vector 不可修改，它也将对我的班级变成只读的。

我认为您误解了该方法的作用。实际上，它为现有列表创建了一个不可修改的*包装器*，而原始列表是可修改的。

所以处理你的要求的方法是做这样的事情¹：

```
private Vector<?> myVector = new Vector<?>();
private List<?> readOnly = Collections.Collections.unmodifiableList((myVector);

public List<?> getList() { return readOnly; } 
```

任何有权访问的东西`myVector`仍然可以从中添加和删除元素。更改将通过`readonly`对象可见......但对该对象的“更改”操作将不起作用。

（另一种方法是创建原始`Vector`对象的副本，但我很确定这不符合您的要求。）

* * *

^(1 - 请注意，`readOnly`对象是 a`List`但不是 a `Vector`。这应该不是问题，除非您错误地将 getter 声明为返回 a `Vector`。如果您已经这样做了，并且无法纠正错误，那么您将需要按照`Vector`Evgeniy Dorofeev 的答案创建自己的子类。否则`Collections.unmodifiableList(...)`会做得很好。)

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-19T05:12:53.960

使其成为`private`您的类的成员，并且仅提供返回向量的不可变版本的 getter，作为`public`访问它的一种方式，使用您提到的函数 ( `Collections.unmodifiableList()`)。

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-19T06:08:16.007

如果您真的想要一个不可修改的向量（不仅仅是列表），请创建一个方法

```
public static Vector unmodifiableVector(Vector v) {
    return new Vector(v) {
        @Override
        public void add(int index, Object element) {
            throw new UnsupportedOperationException();
        }

        @Override
        public synchronized boolean addAll(Collection c) {

        @Override
        public synchronized void addElement(Object obj) {

        // ... other mutators
    }
} 
```

* * *

## 回答 #4

> 赞同：1
> 
> 时间：2012-12-19T05:16:50.310

试试这个：

```
Collections.unmodifiableList(myList); 
```

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-19T05:12:54.777

使 vector 成为您班级的私人成员。向调用者公开一个公共方法，该方法将获得对 unmodifiableCollection 的引用。

```
public Vector getVector(){
     return Collections.unmodifiableList(yourVector) ;
} 
```

为了在您的内部类中使用，您可以直接引用向量或创建一个`private`方法来返回对集合的引用。

```
private Vector getMyVector(){
         return yourVector ;
    } 
```

* * *

## 回答 #6

> 赞同：0
> 
> 时间：2012-12-19T05:13:55.650

我想如果你把你的`Vector`as `private`member 属性放在你的`write methods`as`private`中，`read methods`那么`public`你就可以**了**，例如

```
 private Vector<T> myVector = ...

    private void setMyVector(Vector<T> vector){
        myVector = vector;
    }

    private void addElement(T element){
        myVector.add(element);
    }

    public T getElement(int indx){
        return myVector.get(indx);
    }
    ....
    .... 
```

* * *

## 回答 #7

> 赞同：0
> 
> 时间：2012-12-19T05:38:01.677

在我看来，通过将向量实例设为私有并将 setter 设为私有而将 getter 设为公开将是正确的路径。为了 ：

```
List<T> readOnlyList = Collections.unmodifiableList(myList); 
```

它只会读取实例，但是，它仍然允许访问其他类来调用 add/set/remove 方法，但调用这些方法会导致引发 UnsupportedException。

此外，根据您的要求，您正在寻找矢量的更新/在其中添加新元素。因此，可以通过寻找并发包以使其更安全。

* * *

## 回答 #8

> 赞同：0
> 
> 时间：2012-12-19T05:43:19.377

最好提供 Vector 的副本，而不是提供 Vector 的原始参考，如下所示：

```
Vector vector = // your vector object in your class 
public Vector<String> getMyVercorObject(){
     return (Vector<String>)vector.clone() ;
} 
```

* * *

## 回答 #9

> 赞同：0
> 
> 时间：2012-12-19T06:01:34.013

最好的方法是在`Vector`内部使用，只使用方法暴露突变（添加、删除等），并且只使用接口（`List`）返回不可修改的视图。这样的实现可能看起来像这样（例如，假设元素是字符串）：

```
private final List<String> list = new Vector<String>();

/** Adds the specified element. */
public void addElement(String element) {
    list.add(element);
}

/** Replaces all elements. */
public void setElements(List<String> newElements) {
    list.clear();
    list.addAll(newElements);
}

/** Returns all elements. */
public List<String> getElement() {
    return Collections.unmodifiableList(list);
} 
```

这样，您的类就可以完全访问列表，而外部实体只能使用公共方法进行变异。

请注意，`Vector`几乎没有使用。如果您需要线程安全列表`ArrayList`，请结合考虑`synchronizedList`：

```
private final List<String> list = Collections.synchronizedList(new ArrayList<String>()); 
```

# playframework-2.0 - 播放框架 2.0 是否支持模板中的嵌套 if 语句？

> ID：13945916
> 
> 赞同：0
> 
> 时间：2012-12-19T05:11:30.313
> 
> 标签：playframework-2.0

播放框架 2.0 是否支持模板中的嵌套 if 语句？

我使用以下代码，但呈现的 html 是这个“”

// 模板

```
<tr class=@if(e.error1!=""){"error"} 
        else if(e.statusDetail.contains("failure")){"warning"} 
        else{"info"} > 
```

// 生成的html

```
<tr class= 
        else if(e.statusDetail.contains("failure")){"warning"} 
        else{"info"} > 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T05:31:07.957

目前不支持：[https ://play.lighthouseapp.com/projects/82401/tickets/783-else-if-statement-missing-in-the-scala-template](https://play.lighthouseapp.com/projects/82401/tickets/783-else-if-statement-missing-in-the-scala-template)

您可以使用模式匹配或 if bolck inside else。

# gevent - werkzeug 服务器无法处理请求

> ID：13945918
> 
> 赞同：1
> 
> 时间：2012-12-19T05:11:44.867
> 
> 标签：gevent, werkzeug

我正在尝试运行这个 gevent 服务器

```
 from gevent import pywsgi
from Index import application
import paste.urlparser 
import os
# http server: serves up static files
print "static files",os.path.dirname(__file__)
print "serving on localhost:8000"
http_server = pywsgi.WSGIServer(
    ('', 8000),
    paste.urlparser.StaticURLParser(os.path.dirname(__file__)))
print 'Serving on https://127.0.0.1:4000'
server = pywsgi.WSGIServer(('0.0.0.0', 4000), application,spawn=None)

# Start the server greenlets
http_server.start()

# to start the server asynchronously, call server.start()
# we use blocking serve_forever() here because we have no other jobs
server.serve_forever() 
```

我收到了这个异常，它让我无法处理来自 werkzeug 服务器的请求。我只使用了 werkzeug 实用程序，从未使用过 werkzeug 服务器。

```
Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/gevent/server.py", line 131, in _do_accept
    self._handle(client_socket, address)
  File "/usr/local/lib/python2.7/dist-packages/gevent/pywsgi.py", line 571, in handle
    handler.handle()
  File "/usr/local/lib/python2.7/dist-packages/gevent/pywsgi.py", line 180, in handle
    result = self.handle_one_request()
  File "/usr/local/lib/python2.7/dist-packages/gevent/pywsgi.py", line 287, in handle_one_request
    raw_requestline = self.read_requestline()
  File "/usr/local/lib/python2.7/dist-packages/gevent/pywsgi.py", line 280, in read_requestline
    return self.rfile.readline(MAX_REQUEST_LINE)
  File "/usr/lib/python2.7/socket.py", line 476, in readline
    data = self._sock.recv(self._rbufsize)
  File "/usr/local/lib/python2.7/dist-packages/gevent/socket.py", line 432, in recv
    wait_read(sock.fileno(), timeout=self.timeout, event=self._read_event)
  File "/usr/local/lib/python2.7/dist-packages/gevent/socket.py", line 169, in wait_read
    switch_result = get_hub().switch()
  File "/usr/local/lib/python2.7/dist-packages/gevent/hub.py", line 154, in switch
    assert cur is not self, 'Cannot switch to MAINLOOP from MAINLOOP'
AssertionError: Cannot switch to MAINLOOP from MAINLOOP
<WSGIServer fileno=4 address=0.0.0.0:4000>: Failed to handle request from ('127.0.0.1', 36088) 
```

# android - 与其他应用共享图像

> ID：13945919
> 
> 赞同：6
> 
> 时间：2012-12-19T05:11:54.557
> 
> 标签：android, image, share

这是我的问题...我想分享一个 png 图像。我有可绘制和资产中的图像。当我使用sharingIntent 时，它可以工作，但不是我想要的方式。共享的文件显示为带有数字且没有扩展名，并且某些应用程序会发送消息“未知文件”。我能做些什么？？

这是我的代码：

```
 Uri uri = Uri.parse("android.resource://com.example.shareimages/" + R.drawable.caja);
    Intent shareIntent = new Intent();
    shareIntent.setAction(Intent.ACTION_SEND);

    shareIntent.setType("image/png");

    shareIntent.putExtra(Intent.EXTRA_STREAM,  uri);

    startActivity(Intent.createChooser(shareIntent, "send")); 
```

我尝试使用资产中的文件而不是可绘制文件（使用此“ **file:///android_asset/...**），但它没有用

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-19T05:18:07.433

尝试这样的事情：

```
Intent shareIntent = new Intent(Intent.ACTION_SEND);
shareIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_WHEN_TASK_RESET);
shareIntent.setType("image/*");

// For a file in shared storage.  For data in private storage, use a ContentProvider.
Uri uri = Uri.fromFile(getFileStreamPath(pathToImage));
shareIntent.putExtra(Intent.EXTRA_STREAM, uri);
startActivity(shareIntent) 
```

如果您想通过 assets 文件夹共享它，则必须使用 ContentProvider。请参阅此答案以了解如何执行此操作：

[https://stackoverflow.com/a/7177103/1369222](https://stackoverflow.com/a/7177103/1369222)

# c# - 可以控制其他程序/Windows

> ID：13945923
> 
> 赞同：1
> 
> 时间：2012-12-19T05:12:36.630
> 
> 标签：c#, wpf, vb.net, aero

我想知道是否可以调整实际应用程序本身以外的程序大小。IE，我想调整和移动 Word 和我的应用程序以分别填充 70% 和 30% 的屏幕。

```
Private Sub MinimiseButton_Copy_Click(sender As Object, e As RoutedEventArgs) Handles MinimiseButton_Copy.Click
    Me.Left = SystemParameters.PrimaryScreenWidth - Me.Width + 14
    Me.Top = -14
    Me.Height = SystemParameters.PrimaryScreenHeight

    Dim parry As System.Diagnostics.Process() = System.Diagnostics.Process.GetProcessesByName("winword")
    Dim word As System.Diagnostics.Process = parry(0)
    SetWindowPos(word.Handle, 0, 0, 0, SystemParameters.PrimaryScreenWidth - Me.Width, SystemParameters.PrimaryScreenHeight - 28, &H10)
End Sub

<DllImport("user32.dll", CharSet:=CharSet.Auto)> Public Shared Function SetWindowPos(hWnd As IntPtr, hWndInsertAfter As IntPtr, X As Integer, Y As Integer, W As Integer, H As Integer, uFlags As UInteger) As Boolean
End Function 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T08:31:14.250

这确实是可能的，试试这个功能：

```
[DllImport("user32.dll")]
private static extern bool GetWindowRect(IntPtr hwnd, ref Rectangle rectangle);
[DllImport("user32.dll", CharSet = CharSet.Auto)]
private static extern bool PostMessage(IntPtr hWnd, uint msg, int WPARAM, int LPARAM);
[DllImport("user32.dll", SetLastError = true)]
internal static extern bool MoveWindow(IntPtr hWnd, int X, int Y, int nWidth, int nHeight, bool bRepaint);
[DllImport("user32.dll")]
[return: MarshalAs(UnmanagedType.Bool)]
public static extern bool SetWindowPos(IntPtr hWnd, IntPtr hWndInsertAfter, int X, int, Y, int cx, int cy, uint uFlags);

public const uint WM_SYSCOMMAND = 0x0112;
public const int SC_NEXTWINDOW = 0xF040;
public static readonly IntPtr HWND_TOPMOST = new IntPtr(-1);
public static readonly IntPtr HWND_NOTOPMOST = new IntPtr(-2);
public static readonly IntPtr HWND_TOP = new IntPtr(0);
public static readonly IntPtr HWND_BOTTOM = new IntPtr(1);
public const UInt32 TOPMOST_FLAGS = 0x0002 | 0x0001;

Public void resisezeWindow(String procesname, int Width, int Height, Boolean bringtofront)
{
    foreach (Process proc in Process.GetProcesses())
    {
        IntPtr id = proc.MainWindowHandle;
        Rectangle rect = new Rectangle();
        GetWindowRect(id, ref rect);
        if (proc.MainWindowTitle.Contains(procesname))
        {
            PostMessage(proc.Handle, WM_SYSCOMMAND, SC_NEXTWINDOW, 0);
                    MoveWindow(id, 0, 0, Width, Height, true);
                    if(bringtofront) SetWindowPos(id, HWND_TOPMOST, 0, 0, 0, 0, TOPMOST_FLAGS);
                    proc.Refresh();
        }
    }
} 
```

如果有问题，请通知我！

# c# - 文本框更改未反映在 JavaScript 中

> ID：13945931
> 
> 赞同：1
> 
> 时间：2012-12-19T05:13:21.120
> 
> 标签：c#, javascript, asp.net

我有以下 JavaScript 函数。我有两个文本框、两个隐藏字段和两个标签。和一个按钮。点击一个按钮，我正在调用这个函数。

在文本框中键入值时，它会显示一个 autoCompleteList。在从中选择一个值时，它会从 DB 中获取该值并填充相应的标签。此外，它同时将相应的选定值存储在隐藏字段中。

每当更改文本框中的值且未从自动填充列表中选择值时，它必须显示警报。

该功能工作正常，如果我填写一个文本框，但是当我填写两个时，它会转到 A 点，而不是显示 B 点的警报

```
function ConfirmBox()
 {
    var txtBoxValue = document.getElementById("<%= txtFromPartNumber.ClientID %>").value;
    var txtBoxValue1 = document.getElementById("<%= txtToPartNumber.ClientID %>").value;
    var release = document.getElementById("<%= lblFromPartNumber.ClientID %>").innerText;
    var release1 = document.getElementById("<%= lblToPartNumber.ClientID %>").innerText;
    var hdnFromValueID = "<%= hdnFromReleaseNumber.ClientID %>";
    var hdnToValueID = "<%= hdnToReleaseNumber.ClientID %>";
     if ((txtBoxValue && txtBoxValue.trim() != "" && release))
     {
         if (document.getElementById(hdnFromValueID).value.trim() == txtBoxValue.trim()) 
         {
             if ((txtBoxValue1 && txtBoxValue1.trim() != "" && release1))  
             {
                 if (document.getElementById(hdnToValueID).value.trim() == txtBoxValue1.trim()) 
                 {
                    return true; //Point A
                 }
                 else
                 {// Point B
                     //alert("To Part no. has been changed. Please enter it again.");
                     var msg = document.getElementById("alertMessage");
                     msg.innerHTML = "To Part no. has been changed. Please enter it again.";
                     var myExtender = $find("ctl00_ContentPlaceHolder1_ModalPopupExtenderAlert");
                     myExtender.show();
                     document.getElementById("<%= txtToPartNumber.ClientID %>").focus();
                     return false;
                 }
             }
             else 
             {
                 //window.alert("Please choose a Valid To Part number");
                 var msg = document.getElementById("alertMessage");
                 msg.innerHTML = "Please choose a Valid To Part number.";
                 var myExtender = $find("ctl00_ContentPlaceHolder1_ModalPopupExtenderAlert");
                 myExtender.show();
                return false;
             }
         }
         else 
         {
             //alert("From Part no. has been changed.Please enter it again.");
             var msg = document.getElementById("alertMessage");
             msg.innerHTML = "From Part no. has been changed.Please enter it again.";
             var myExtender = $find("ctl00_ContentPlaceHolder1_ModalPopupExtenderAlert");
             myExtender.show();
             document.getElementById("<%= txtFromPartNumber.ClientID %>").focus();
             return false;
         }
     }
     else 
     {
         //window.alert("Please choose a Valid From Part number");
         var msg = document.getElementById("alertMessage");
         msg.innerHTML = "Please choose a Valid From Part Number.";
         var myExtender = $find("ctl00_ContentPlaceHolder1_ModalPopupExtenderAlert");
         myExtender.show();
         return false;
     }
 } 
```

# c# - 如何在 C# 中实现选择性属性可见性？

> ID：13945935
> 
> 赞同：10
> 
> 时间：2012-12-19T05:13:47.673
> 
> 标签：c#

我们可以让一个类的属性对 public 可见，但只能被某些特定的类修改吗？

例如，

```
// this is the property holder
public class Child
{
    public bool IsBeaten { get; set;}
}

// this is the modifier which can set the property of Child instance
public class Father
{
    public void BeatChild(Child c)
    {
        c.IsBeaten = true;  // should be no exception
    }
}

// this is the observer which can get the property but cannot set.
public class Cat
{
    // I want this method always return false.
    public bool TryBeatChild(Child c)
    {
        try
        {
            c.IsBeaten = true;
            return true;
        }
        catch (Exception)
        {
            return false;
        }
    }

    // shoud be ok
    public void WatchChild(Child c)
    {
        if( c.IsBeaten )
        {
            this.Laugh();
        }
    }

    private void Laugh(){}
} 
```

**Child**是数据类，
**Parent**是可以修改数据的类，
**Cat**是只能读取数据的类。

有没有办法在 C# 中使用 Property 来实现这种访问控制？

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-19T06:33:59.280

您可以提供一个方法，而不是暴露 Child 类的内部状态：

```
class Child {
  public bool IsBeaten { get; private set; }

  public void Beat(Father beater) {
    IsBeaten = true;
  }
}

class Father {
  public void BeatChild(Child child) {
    child.Beat(this);
  }
} 
```

那么猫不能打你的孩子：

```
class Cat {
  public void BeatChild(Child child) {
    child.Beat(this); // Does not compile!
  }
} 
```

如果其他人需要能够打败孩子，定义一个他们可以实现的接口：

```
interface IChildBeater { } 
```

然后让他们实现它：

```
class Child {
  public bool IsBeaten { get; private set; }

  public void Beat(IChildBeater beater) {
    IsBeaten = true;
  }
}

class Mother : IChildBeater { ... }

class Father : IChildBeater { ... }

class BullyFromDownTheStreet : IChildBeater { ... } 
```

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-19T05:17:50.213

这通常是通过使用单独的程序集和[InternalsVisibleToAttribute](http://msdn.microsoft.com/en-us/library/system.runtime.compilerservices.internalsvisibletoattribute.aspx)来实现的。当您在当前程序集中`set`使用`internal`类标记时，将可以访问它。通过使用该属性，您可以授予特定的其他程序集对其的访问权限。请记住，通过使用反射，它仍然是可编辑的。

# javascript - 内部 div 后的主要 div 高度问题

> ID：13945939
> 
> 赞同：-2
> 
> 时间：2012-12-19T05:14:12.807
> 
> 标签：javascript

我正在使用javascript动态添加和删除主div中的div。为此，我正在使用 appendChild 和 removeChild 方法。

例子，

```
<div>
   <div></div>
   <div></div>
   <div></div>
</div> 
```

如果我删除第一个 div，那么第一个 div 的空间仍然存在。我想删除第一个 div 使用的空间，需要将第二个 div 带到第一个位置。请建议我这样做的好方法。我也想尝试任何 jquery 库。

谢谢

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T06:01:57.303

您可以使用删除（）。请看下面的例子

`$(document).ready(function(){`在您的函数中尝试以下代码

```
$('.add').click(function (){
      $('#main').append('<div style="height:30px;border:1px solid #CCC;margin:10px;width:30px;">hey</div>');
 });

/** remove a child from a  container **/
$('.remove').click(function (){ 

   $('#main div').first().remove();
}); 
```

你的 HTML 正文将是这样的

```
<div id="main"></div>
<a href="#" class="add">Add</a>
<a href="#" class="remove">Remove</a> 
```

# java - 如何在 Listcell 中添加组件？

> ID：13945940
> 
> 赞同：1
> 
> 时间：2012-12-19T05:14:19.513
> 
> 标签：java, jakarta-ee, zk

我正在使用 ZK 平台编写一个 java 程序。我有一个列表框，它有一些列表单元。我希望一些 Listcell 在其中有一个文本框，但 Listcell 的构造函数只有字符串作为输入参数，我不能在其中放置一个文本框。如何在 Listcell 中添加像 Textbox 这样的组件？

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T05:52:37.260

将文本框父级设置为您的列表单元格，如下所示：

```
public class ListItemRenderer implements ListitemRenderer,Serializable{

  @override
  public void render(Listitem item,Object data) throws Exception{
   ....
   Listcell lc=new Listcell;
   Textbox text=new Textbox();
   text.setParent(lc);
   lc.setParent(item);
   ....
}
....
} 
```

# android - Android 动态网格视图

> ID：13945941
> 
> 赞同：1
> 
> 时间：2012-12-19T05:14:33.633
> 
> 标签：android, gridview, infinite-scroll

我想创建 infinie GridView，当我滚动时，如果在 onScroll 方法中不添加

```
adapter = new ImageAdapter();
            grid.setAdapter(adapter); 
```

**我的应用程序与LogCat**崩溃 ：

 **```
FATAL EXCEPTION: main
java.lang.IndexOutOfBoundsException: Invalid index 46, size is 46
    at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:251)
    at java.util.ArrayList.get(ArrayList.java:304)
    at com.example.tectob6iu.MainActivity$ImageAdapter.getView(MainActivity.java:98)
    at android.widget.AbsListView.obtainView(AbsListView.java:2143)
    at android.widget.GridView.makeAndAddView(GridView.java:1341)
    at android.widget.GridView.makeRow(GridView.java:341)
    at android.widget.GridView.fillDown(GridView.java:283)
    at android.widget.GridView.fillGap(GridView.java:243)
    at android.widget.AbsListView.trackMotionScroll(AbsListView.java:4930)
    at android.widget.AbsListView$FlingRunnable.run(AbsListView.java:4087)
    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:749)
    at android.view.Choreographer.doCallbacks(Choreographer.java:562)
    at android.view.Choreographer.doFrame(Choreographer.java:531)
    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:735)
    at android.os.Handler.handleCallback(Handler.java:725)
    at android.os.Handler.dispatchMessage(Handler.java:92)
    at android.os.Looper.loop(Looper.java:137)
    at android.app.ActivityThread.main(ActivityThread.java:5191)
    at java.lang.reflect.Method.invokeNative(Native Method)
    at java.lang.reflect.Method.invoke(Method.java:511)
    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:795)
    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:562)
    at dalvik.system.NativeStart.main(Native Method) 
```

**MainActivity.class**

```
public class MainActivity extends Activity  implements OnScrollListener{
    private  class ImageAdapter extends BaseAdapter {
        private List<String> list;
        private ImageLoader loader;
        private DisplayImageOptions options;

        public ImageAdapter() {
            this(new ArrayList<String>());

           options = new DisplayImageOptions.Builder()
            .cacheInMemory()
            .cacheOnDisc()
            .bitmapConfig(Bitmap.Config.RGB_565)
            .displayer(new FadeInBitmapDisplayer(250))
            .build();

           loader = ImageLoader.getInstance();
           loader.init(ImageLoaderConfiguration.createDefault(MainActivity.this));
        }

        public void clear() {
            list.clear();
            notifyDataSetChanged();
        }

        public void add(List<String> rows) {
            list.addAll(rows);
            notifyDataSetChanged();
        }

        @Override
        public int getCount() {
            return list.size();
        }

        @Override
        public long getItemId(int position) {
            return position;
        }

        @Override
        public String getItem(int position) {
            return list.get(position);
        }

        public View getView(int position, View view, ViewGroup container) {
            if (view == null) {
                view = getLayoutInflater().inflate(R.layout.grid_item, container, false);
            }

            ImageView image = (ImageView)view.findViewById(R.id.imageGrid);
            // Bind row on your view here      97
            //98
            if(str.size() > 0){
                    loader.displayImage(str.get(position), image, options);
            }
            else{
                image.setImageResource(R.drawable.ic_launcher);
            }
            return view;
        }

        public ImageAdapter(List<String> list) {
            this.list = list;
        }
    }

     class LoadTask extends AsyncTask<Void, Void, List<String>> {

        private int page = 1;

        public int addPage(int i){
            return page = i;
        }

        @Override
        protected List<String> doInBackground(Void... params) {

            InputStream ips = null; 
            JSONObject jsonObj = null;
            String json = "";       
            try {
                DefaultHttpClient httpClient = new DefaultHttpClient();
                HttpResponse response = httpClient.execute(new HttpPost("http://iapp.gazeta.uz/fotolenta?page="+page)); 
                ips = response.getEntity().getContent();
            } catch (ClientProtocolException e) {
                e.printStackTrace();
            } catch (IOException e) {
                e.printStackTrace();
            }

            try {
                BufferedReader bufff = new BufferedReader(new InputStreamReader(ips, "UTF-8"));
                StringBuilder sb = new StringBuilder();
                String line = null;

                while ((line = bufff.readLine()) != null){
                    sb.append(line + "\n");                 
                }
                ips.close();
                json = sb.toString();       
            } catch (Exception e) {
                e.printStackTrace();
            }

            try {
                jsonObj = new JSONObject(json);
            } catch (JSONException e) {
                e.printStackTrace();
            }

            JSONArray array = null;
            array = jsonObj.optJSONArray("img_list");

                for (int i = 0; i < array.length(); i++) {
                    str.add(array.optJSONObject(i).optString("thumbnail"));             
                }
            return str;
        }

        @Override
        protected void onPostExecute(List<String> result) {
            adapter.add(result);
        }
    }

    ArrayList<String> str = new ArrayList<String>();

    private GridView grid;
    private ImageAdapter adapter;
    private int page;

    private int mVisibleThreshold = 5;
    private int mCurrentPage = 0;
    private int mPreviousTotal = 0;
    private boolean mLoading = true;
    private boolean mLastPage = false;

    public void refresh(int i){
        LoadTask task = new LoadTask();
        task.addPage(i);
        task.execute();
    }

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        page = 1;
        refresh(page);       

        setContentView(R.layout.main);
        grid = (GridView) findViewById(R.id.grid);

        adapter = new ImageAdapter();
        grid.setAdapter(adapter);

        grid.setOnScrollListener(this);
    }

    @Override
    public boolean onCreateOptionsMenu(Menu menu){

        getMenuInflater().inflate(R.menu.activity_main, menu);

        return super.onCreateOptionsMenu(menu);
    }

    @Override
    public boolean onOptionsItemSelected(MenuItem item){

        page ++;
        refresh(page);
        adapter = new ImageAdapter();
        grid.setAdapter(adapter);

        return super.onOptionsItemSelected(item);
    }

    @Override
    public void onScroll(AbsListView view, int firstVisibleItem,
            int visibleItemCount, int totalItemCount) {
        // TODO Auto-generated method stub
        if (mLoading) {
            if (totalItemCount > mPreviousTotal) {

                mLoading = false;
                mPreviousTotal = totalItemCount;
                mCurrentPage++;

                // Find your own condition in order to know when you 
                // have finished displaying all items
                if (mCurrentPage + 1 > 50) {
                    mLastPage = true;
                }
            }
        }
        if (!mLastPage && !mLoading && 
                (totalItemCount - visibleItemCount) <= (firstVisibleItem + mVisibleThreshold)) {
            page++;
            refresh(page);
            adapter = new ImageAdapter();
            grid.setAdapter(adapter);

            mLoading = true;
        }
    }

    @Override
    public void onScrollStateChanged(AbsListView view, int scrollState) {
        // TODO Auto-generated method stub

    }

} 
```

否则我的应用程序可以工作，但是当我滚动到结束网格视图刷新并丢失位置并且我需要再次滚动到我的最后一个位置时，如何解决这个问题？

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T05:57:31.943

**尝试检查这种情况：**

```
if(str.size() > 0 && position < str.size()){
      loader.displayImage(str.get(position), image, options);
} 
```

**代替**

```
if(str.size() > 0){
      loader.displayImage(str.get(position), image, options);
} 
```

希望它可以帮助你。

谢谢。**

# php - Codeigniter REST 上传多个图像

> ID：13945947
> 
> 赞同：4
> 
> 时间：2012-12-19T05:15:25.333
> 
> 标签：php, codeigniter, rest, codeigniter-2

我完全坚持这一点......检查了所有相关的stackoverflow帖子，没有任何帮助。在 Codeigniter 中使用 Phil 的 REST 服务器/客户端设置，可以插入普通条目，但不能上传多个图像，实际上甚至是单个图像。

我真的不知道如何调试 REST 部分，它什么也不返回。

**我有这个数组来自视图：**

```
Array
(
    [1] => Array
        (
            [name] => sideshows.jpg
            [type] => image/jpeg
            [tmp_name] => /Applications/MAMP/tmp/php/phppYycdA
            [error] => 0
            [size] => 967656
        )

    [2] => Array
        (
            [name] => the-beer-scale.jpg
            [type] => image/jpeg
            [tmp_name] => /Applications/MAMP/tmp/php/phpCsiunQ
            [error] => 0
            [size] => 742219
        )

    [3] => Array
        (
            [name] => the-little-lace.jpg
            [type] => image/jpeg
            [tmp_name] => /Applications/MAMP/tmp/php/phpXjT7WL
            [error] => 0
            [size] => 939963
        )

    [4] => Array
        (
            [name] => varrstoen-australia.jpg
            [type] => image/jpeg
            [tmp_name] => /Applications/MAMP/tmp/php/phpcHrJXe
            [error] => 0
            [size] => 2204400
        )

) 
```

**我正在使用我发现的这个帮助方法来整理多个文件上传：**

```
function multifile_array()
{
    if(count($_FILES) == 0)
        return;

    $files = array();
    $all_files = $_FILES['files']['name'];
    $i = 0;

    foreach ($all_files as $filename) {
        $files[++$i]['name'] = $filename;
        $files[$i]['type'] = current($_FILES['files']['type']);
        next($_FILES['files']['type']);
        $files[$i]['tmp_name'] = current($_FILES['files']['tmp_name']);
        next($_FILES['files']['tmp_name']);
        $files[$i]['error'] = current($_FILES['files']['error']);
        next($_FILES['files']['error']);
        $files[$i]['size'] = current($_FILES['files']['size']);
        next($_FILES['files']['size']);
    }

    $_FILES = $files;

} 
```

**这个函数在 API 控制器中被调用：**

```
public function my_file_upload_post() {

        if( ! $this->post('submit')) {
            $this->response(NULL, 400);
        }

        $data = $this->post('data');
        multifile_array();

        $foldername = './uploads/' . $this->post('property_id');

        if(!file_exists($foldername) && !is_dir($foldername)) {
            mkdir($foldername, 0750, true);
        }

        $config['upload_path'] = $foldername;
        $config['allowed_types'] = 'gif|jpg|png|doc|docx|pdf|xlsx|xls|txt';
        $config['max_size'] = '10240';

        $this->load->library('upload', $config);

        foreach ($data as $file => $file_data) {
            $this->upload->do_upload($file);

            //echo '<pre>';
            //print_r($this->upload->data());
            //echo '</pre>';

      }

        if ( ! $this->upload->do_upload() ) {
            return $this->response(array('error' => strip_tags($this->upload->display_errors())), 404);
        } else {
            $upload = $this->upload->data();
            return $this->response($upload, 200);

        }

    } 
```

我很高兴分享我的代码，我确实设法让多个文件上传，不用担心，但只是尝试使用 API 进行设置，以便我可以从外部网站、内部或 iPhone 调用它。帮助将不胜感激。

干杯

**更新：**

**这是来自 API 控制器的代码：**

```
function upload_post() {

        $foldername = './uploads/' . $this->post('property_id');

        if(!file_exists($foldername) && !is_dir($foldername)) {
            mkdir($foldername, 0750, true);
        }

        $config['upload_path'] = $foldername;
        $config['allowed_types'] = 'gif|jpg|png|doc|docx|pdf|xlsx|xls|txt';
        $config['max_size'] = '10240';

        $this->load->library('upload', $config);        

        if ( ! $this->upload->do_upload())
        {
            //return $this->response(array('error' => strip_tags($this->upload->display_errors())), 404);
            return $this->response(array('error' => var_export($this->post('file'), true)), 404);

        }
        else
        {
            $data = array('upload_data' => $this->upload->data());
            return $this->response(array('error' => $data['upload_data']), 404);
        }
return $this->response(array('success' => 'successfully uploaded' ), 200);      
} 
```

如果您从表单直接访问 API，则此方法有效，但您需要在浏览器中输入用户名和密码。如果我通过控制器运行它，那么它找不到图像。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-01-30T23:01:15.967

这不完全是你要求的，但这是我用来解决这个问题的。一个 PHP/jQuery 上传小部件！

[http://blueimp.github.com/jQuery-File-Upload/](http://blueimp.github.com/jQuery-File-Upload/)

# c - 如何在 Minix 的 EXEC 调用中释放父内存？

> ID：13945950
> 
> 赞同：5
> 
> 时间：2012-12-19T05:16:04.380
> 
> 标签：c, memory-management, minix

在 EXEC 调用中，我希望通过删除父进程的内存来创建内存来允许更大的“子进程”。

我正在使用 MINIX 3.2 并计划修改`exec.c`以调用`alloc_new_mem`in的修改版本`alloc.c`

这是 alloc.c 的源代码 - [https://github.com/minix3/minix/blob/master/servers/vm/alloc.c](https://github.com/minix3/minix/blob/master/servers/vm/alloc.c)

寻找指针。

操作系统：MINIX3 文件：alloc.c

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2013-02-07T04:06:30.197

在父进程中，您可以简单地返回而无需等待子进程，因此子进程将被重新设置为 init 并且父地址空间将被释放。这不涉及内核中的任何黑客攻击。

# performance - 为什么 Meteor 需要这么长时间才能在 Heroku 上加载我的数据？

> ID：13945952
> 
> 赞同：5
> 
> 时间：2012-12-19T05:16:13.953
> 
> 标签：performance, mongodb, heroku, meteor, sockjs

我在 Heroku（免费层）和 MongoHQ 上使用 Meteor。我的应用程序现在非常简单，它从一个集合中加载 3-4 个条目，但是当我将它部署到 Heroku 时，我看到了荒谬的加载时间（1-2 分钟）。HTML 会立即呈现。当我部署到 Meteor.com 的免费服务器时，加载时间要短得多，但对于 4 条小数据仍然需要 15 秒左右。当我在本地部署时，我没有看到这一点，应用程序立即从数据库中提取数据。

值得注意的是，我认为这不是 Heroku 的“闲置”问题。即使我已经有一个刚刚打开应用程序的浏览器窗口，如果我使用其他浏览器并重试，我仍然会得到 1-2 分钟的加载时间。但是，一旦加载了数据，性能就会恢复正常，我可以毫无问题地进行读写。

我错过了什么？我在控制台中没有看到任何错误，mongo 在日志中显示了几个查询，并显示它正在快速响应 4 个文档，但显然在中间的某个地方出现了交通堵塞。非常感谢您对此的任何帮助，如果我无法通过这个 Meteor 现在对我的需求毫无用处。

更新：我一直在 Firebug 中密切关注它，看起来性能在很大程度上不一致。有时简单的刷新需要 1 分钟，有时需要 10 秒。但我注意到的是，当它很慢时，它会获取 sockjs/info 文件，然后就在 sockjs POST 中止（有时多次）之后。快速运行时，POST 和后续 POST 运行顺畅

```
Slow:
GET http://pocleaderboard.herokuapp.com/sockjs/info 200 OK 22ms
POST http://pocleaderboard.herokuapp.com/sockjs/029/su0d77fb/xhr Aborted
GET http://pocleaderboard.herokuapp.com/sockjs/info 200 OK 27ms
POST http://pocleaderboard.herokuapp.com/sockjs/132/uljqusxd/xhr Aborted
GET http://pocleaderboard.herokuapp.com/sockjs/info 200 OK 28ms
POST http://pocleaderboard.herokuapp.com/sockjs/154/kcbr6a5p/xhr Aborted

Fast(er):
GET http://pocleaderboard.herokuapp.com/sockjs/info 200 OK 1.08s
POST http://pocleaderboard.herokuapp.com/sockjs/755/xiggb555/xhr 200 OK 1.02s 
```

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T10:28:16.803

Meteor 在本地加载速度如此之快，因为它不依赖于您的互联网连接，并且文件可以从您的硬盘驱动器中读取，无需下载。并且一旦加载数据，它在您托管的任何地方都是相同的，因为客户端（您）在缓存的 mongo 数据库上执行所有操作，然后等待服务器说操作是否正常。

但是对于 Heroku 的加载时间，我不知道，对不起！

更新：这些是 Meteor 使用的 SockJS 的长拉。通常，这些拉取只会在热代码推送时中止（添加/更改/删除文件时）。

您或 Heroku 似乎在目录中写入或更改了某些内容。因为那时Meteor可能会发起热代码推送。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T16:44:55.893

Heroku 可能不支持 web-sockets，这意味着你被较慢的轮询方法卡住了。看到这个： [https ://devcenter.heroku.com/articles/using-socket-io-with-node-js-on-heroku](https://devcenter.heroku.com/articles/using-socket-io-with-node-js-on-heroku)

# css - 带有iframe的Internet Explorer滚动条后的垂直空间，如何删除它？

> ID：13945962
> 
> 赞同：0
> 
> 时间：2012-12-19T05:17:41.817
> 
> 标签：css, internet-explorer, iframe, scroll

我正在尝试使用 iframe 在我的网页中嵌入一个 URL。该页面在 FireFox 和 Chrome 上正常工作，但在 IE 上，滚动条后留下一个垂直空间，我该如何删除它？

这是与CSS一起的代码，

```
<html>
<head>
<style type="text/css">
html, body {
    margin: 0;
    padding 0;
}
iframe {
    height: 100%;
    width: 100%;
}
h1 {
    text-align: center;
}
</style>
</head>
<body>

<iframe src="http://abc.org" frameborder="0" scrolling="auto" ></iframe>

</body>
</html> 
```

问候，蒂莫西

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T06:05:47.383

**这是您的完整解决方案：**

```
<head>
<style type="text/css">
html {height:100%}
body {
margin:0;
height:100%;
overflow:hidden
}
</style>
</head>

<body>
<iframe allowtransparency=true frameborder=0 id=rf sandbox="allow-same-origin allow-forms allow-scripts" scrolling=auto src="http://www.abc.org" style="width:100%;height:100%"></iframe>
</body> 
```

# javascript - Zepto对array.filter的使用

> ID：13945965
> 
> 赞同：4
> 
> 时间：2012-12-19T05:18:11.083
> 
> 标签：javascript

我正在努力提高我对 Javascript 的理解，所以我一直在浏览 Zepto 库。我遇到了这条线：

```
uniq = function(array){
    return array.filter(function(item, idx){
        return array.indexOf(item) == idx
    })
} 
```

这个函数的目的是什么？据我所知，它正在创建一个新的、独特的元素数组，对吧？但它本质上不只是克隆数组吗？如果是这样，不是`array.slice()`更快吗？

`array.indexOf(item)`最后，更改为不会提高性能`array.indexOf(item,idx)`吗？或者更好，只是`return true`？什么时候`array.indexOf(item)==idx` *不*等于真？这是为了防止重复项目吗？但那什么时候会真正发生呢？

* * *

## 回答 #1

> 赞同：3
> 
> 时间：2012-12-19T05:31:47.473

`it is creating a new, unique array of elements, right?`

它只是过滤您的数组元素以返回唯一元素。

[**演示**](http://jsfiddle.net/UBUpM/)

`But isn't it essentially just cloning the array?`

不，正如我上面解释的那样。

`If so, wouldn't array.slice() be faster?`

切片不会删除重复项。

`Finally, wouldn't it increase performance to change array.indexOf(item) to array.indexOf(item,idx)? Or better yet, just return true?`

如果您只返回 true，您将无法确定元素是否重复。

[**演示**](http://jsfiddle.net/UBUpM/1/)

`When does array.indexOf(item)==idx not equal true?`

示例：
我有以下数组：

`['10', '20', '30', '20', '10']`

**迭代**：

*   1 `array.IndexOf(10) == 0`：？// 是的，所以返回 true
*   2 `array.IndexOf(20) == 1`：？// 是的，所以返回 true
*   3 `array.IndexOf(30) == 2`：？// 是的，所以返回 true
*   4 `array.IndexOf(20) == 3`：？// 否，因为`array.indexOf(20)`是 1，所以返回 false
*   5 `array.IndexOf(10) == 4`：？// 否，因为`array.indexOf(10)`是 2，所以返回 false

因此，当元素已经被发现时，它会变为 false，因为索引不同。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T05:29:13.947

似乎此代码正在消除重复项。

* * *

## 回答 #3

> 赞同：1
> 
> 时间：2012-12-19T05:31:09.723

啊，我看到了我们正在质疑的“差异”。不过，在您的编辑中，您有点回答了。我认为此方法返回一个新数组，其中包含原始数组中的**唯一**值。

当该`indexOf`方法扫描数组时，它会找到当前检查项目的第一次出现。如果出现的索引与正在检查的当前索引不同，则`indexOf`结果将不等于`idx`。因此，它不会返回该值，因为它要么未找到，要么在数组中较早找到（这意味着它是重复的）。

这是一个例子：

```
[10, 30, 10, 100] 
```

当`filter`方法通过项目: `10`, `30`, `10`, then`100`时，它将对其执行`indexOf`。

为`10`，`indexOf`必归`0`。而且`idx`也是`0`。

为`30`，`indexOf`必归`1`。而且`idx`也是`1`。

为`10`，`indexOf`必归`0`。但是`idx`会`2`。

为`100`，`indexOf`必归`3`。而且`idx`也是`3`。

因此，`[10, 30, 100]`将被退回，而不仅仅是原始的简单克隆。

* * *

## 回答 #4

> 赞同：0
> 
> 时间：2012-12-19T05:29:58.087

该函数（如命名）采用原始数组中的唯一项，并在新数组中返回它们。所以如果原始数组有不同的项目，它只会返回一个克隆。

请记住，`indexOf`返回给定项目的*第一个*索引。因此，如果当前项在数组中出现两次，则过滤器值将为 false。

[例如。](http://jsfiddle.net/2K8nD/)

```
var a = [1, 2, 3];
var b = [1, 2, 3, 2];

console.log(uniq(a));  // [1,2,3]
console.log(uniq(b));  // [1,2,3] 
```

​</p>

* * *

## 回答 #5

> 赞同：0
> 
> 时间：2012-12-19T05:35:16.193

正如其他人已经说过的那样，这消除了数组中的重复项。刚刚添加了我的答案以说明为什么会这样。如果您注销过滤器函数中的值，您将看到以下模式：

```
array.filter(function( item, idx ){
  console.log( item, idx, array.indexOf( item ) );
  ...
  ...

console.log( uniq( ['a','a','b','b','c','c','c','d'] ) );
/*
a 0 0 *
a 1 0
b 2 2 *
b 3 2
c 4 4 *
c 5 4
c 6 4
d 7 7 *
*/ 
```

检查最后一列，这就是确定项目是否已经存在的原因，因此比较`array.indexOf(item) == idx`检查第二列，如果它不是相同的数字，则它是重复的。要使项目唯一 ( `*`)，索引和索引位置必须匹配。

# python - Scrapy爬虫未完成解析函数中的所有循环

> ID：13945966
> 
> 赞同：2
> 
> 时间：2012-12-19T05:18:14.503
> 
> 标签：python, screen-scraping, scrapy

我的爬虫中有这段代码

```
class StackSpider(InitSpider):
    name = 'stack'
    allowed_domains = ['sitepoint.com']
    start_urls = ["http://www.sitepoint.com"]
    start_page = "http://www.sitepoint.com"
    item = StackItem()

    def init_request(self):

        return Request(url=self.start_page, callback=self.parse)

    def parse(self, response):

        hxs = HtmlXPathSelector(response)
        sites = hxs.select('//div[@class="headline_area"]')
        items = []

        ivar = 1
        for site in sites[:5]:
            item = StackItem()
            log.msg(' LOOP' +str(ivar)+ '', level=log.ERROR)
            item['title'] ="yoo ma"
            request =  Request("http://www.sitepoint.com/getting-to-know-css3-selectors-structural-pseudo-classes/",  callback=self.test1)
            request.meta['item'] = item
            ivar = ivar + 1
            yield request

    def test1(self, response):
        log.msg('  LOOP 2 \n', level=log.ERROR)
        item = response.meta['item']
        item['desc'] = "test4"
        return item 
```

我按照[文档](http://doc.scrapy.org/en/latest/topics/request-response.html#passing-additional-data-to-callback-functions)做了，但它只适用于一个循环。我的意思是我只能在屏幕上看到登录

```
LOOP1
LOOP2 
```

应该重复3次

我尝试了回报和收益的不同组合，所以

1.  `return request` 并`return item`给出输出 `LOOP1 LOOP2`
2.  `yield request`并`return item`给出输出 `LOOP1 LOOP1 LOOP1 LOOP2`
3.  `yield request`并`yield item`给出输出 `LOOP1 LOOP1 LOOP1 LOOP2`
4.  `return request`并`yield item`给出输出 `LOOP1 LOOP2`

我怎样才能得到`LOOP 1 LOOP2 LOOP1 LOOP2 AND so on`

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-20T10:07:57.497

问题在你的循环中

```
for site in sites[:5]: 
```

您在循环中多次请求 1 个相同的 URL。

Scrapy 默认过滤相同的请求并忽略它们。

如果你想多次请求同一个 URL，你需要设置**`dont_filter=True`**

```
 request = Request("http://www.sitepoint.com/getting-to-know-css3-selectors-structural-pseudo-classes/",
            dont_filter=True,
            callback=self.test1) 
```

然后应该重复3次

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-20T06:07:12.253

我认为你没有进入的原因`Loop 2`是因为你在`Request`. Scrapy 不会多次访问已经访问过的 URL。

尝试更改该 URL，看看效果如何。不要依赖消息的顺序，因为 `Requests`没有按顺序发生

# android - 状态栏中的android应用程序图标

> ID：13945967
> 
> 赞同：10
> 
> 时间：2012-12-19T05:18:19.520
> 
> 标签：android, icons, statusbar

我可以在通知栏中为我的应用程序创建一个条目，但我想在状态栏中为我的应用程序创建一个图标，其中显示电池、wi-fi、蓝牙、时间图标。我已经对此进行了搜索，但得到了这么多-它不能仅从应用程序控制，在构建 android 时，在 android 源代码的 frameworks 目录中的某个位置，我们必须放置一些行来完成它，我不知道它是如何管理的。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2013-01-24T20:49:40.600

抱歉，我没有足够的声誉将此添加为评论，但是您是否看过类似的问题？您可以为所需的图标添加可绘制资源并在通知上设置标志，以便允许图标保留在状态栏中。`FLAG_NO_CLEAR`并且 `FLAG_ONGOING_EVENT`可以让您在状态栏中显示一个图标，如对这些问题的回答所描述的那样。

[应用程序运行时如何在状态栏中显示图标，包括在后台？](https://stackoverflow.com/questions/3973208/icon-in-the-status-bar-when-application-is-running)

[控制android状态栏图标](https://stackoverflow.com/questions/3712758/controlling-the-android-status-bar-icon?rq=1)

如果您有完整的 AOSP 结帐，我会建议您检查 StatusBarManager 服务。显示通知时，通知使用此服务内部的回调。还有一个活页夹界面，允许设置图标。

在 /frameworks/base/services/java/com/android/server/StatusBarManagerService.java 和 /frameworks/base/core/java/com/android/internal/statusbar/IStatusBarService.aidl `void setIcon(String slot, String iconPackage, int iconId, int iconLevel, String contentDescription);`

`void setIconVisibility(String slot, boolean visible);`

在 /frameworks/base/core/res/res/values/config.xml

```
 <item><xliff:g id="id">ime</xliff:g></item>
    <item><xliff:g id="id">sync_failing</xliff:g></item>
    <item><xliff:g id="id">sync_active</xliff:g></item>
    <item><xliff:g id="id">gps</xliff:g></item>
    <item><xliff:g id="id">bluetooth</xliff:g></item>
    <item><xliff:g id="id">nfc</xliff:g></item>
    <item><xliff:g id="id">tty</xliff:g></item>
    <item><xliff:g id="id">speakerphone</xliff:g></item>
    <item><xliff:g id="id">mute</xliff:g></item>
    <item><xliff:g id="id">volume</xliff:g></item>
    <item><xliff:g id="id">wifi</xliff:g></item>
    <item><xliff:g id="id">cdma_eri</xliff:g></item>
    <item><xliff:g id="id">data_connection</xliff:g></item>
    <item><xliff:g id="id">phone_evdo_signal</xliff:g></item>
    <item><xliff:g id="id">phone_signal</xliff:g></item>
    <item><xliff:g id="id">battery</xliff:g></item>
    <item><xliff:g id="id">alarm_clock</xliff:g></item>
    <item><xliff:g id="id">secure</xliff:g></item>
    <item><xliff:g id="id">clock</xliff:g></item> 
```

这些是默认添加到状态栏的插槽的值

希望这可以帮助

# c# - 流氓异常，System.InvalidOperationException，XNA

> ID：13945969
> 
> 赞同：0
> 
> 时间：2012-12-19T05:18:34.703
> 
> 标签：c#, exception, xna

我的 xna 游戏有这个“流氓” System.InvalidOperationException，它有时只会发生并且似乎是随机触发的，或者至少是我无法控制的输入。按下开始并加载第一个菜单屏幕后，（如果有帮助，我使用 GameStateManagement 示例作为我的游戏的基础）游戏*有时*但并不总是在“foreach”的“in”部分抛出 System.InvalidOperationException（GameScreen 屏幕在屏幕中）”方法的完整代码：

```
 /// <summary>
    /// Tells each screen to draw itself.
    /// </summary>
    public override void Draw(GameTime gameTime)
    {

        foreach (GameScreen screen in screens) //exception thrown at the "in" part
        {
            if (screen.ScreenState == ScreenState.Hidden)
                continue;

            screen.Draw(gameTime);
        }
    } 
```

老实说，我对触发此异常的原因一无所知，因为我没有做任何与抛出异常和不抛出异常不同的事情。我不确定这是否会对您有所帮助，但这是异常详细信息

```
 at System.Collections.Generic.List`1.Enumerator.MoveNext()
   at GameStateManagement.ScreenManager.Draw(GameTime gameTime)
   at Microsoft.Xna.Framework.Game.Draw(GameTime gameTime)
   at GameStateManagement.GameStateManagementGame.Draw(GameTime gameTime)
   at Microsoft.Xna.Framework.Game.DrawFrame()
   at Microsoft.Xna.Framework.Game.Tick()
   at Microsoft.Xna.Framework.Game.HostIdle(Object sender, EventArgs e)
   at Microsoft.Xna.Framework.GameHost.OnIdle()
   at Microsoft.Xna.Framework.XboxGameHost.RunOneFrame()
   at Microsoft.Xna.Framework.XboxGameHost.Run()
   at Microsoft.Xna.Framework.Game.RunGame(Boolean useBlockingRun)
   at Microsoft.Xna.Framework.Game.Run()
   at GameStateManagement.Program.Main()
}   System.Exception {System.InvalidOperationException} 
```

这是调用堆栈：

```
>   GameStateManagementSample.exe!GameStateManagement.ScreenManager.Draw(Microsoft.Xna.Framework.GameTime gameTime) Line 338 + 0x33 bytes   C#
Microsoft.Xna.Framework.Game.dll!Microsoft.Xna.Framework.Game.Draw(Microsoft.Xna.Framework.GameTime gameTime) + 0x4d bytes  
GameStateManagementSample.exe!GameStateManagement.GameStateManagementGame.Draw(Microsoft.Xna.Framework.GameTime gameTime) Line 89 + 0x7 bytes   C#
Microsoft.Xna.Framework.Game.dll!Microsoft.Xna.Framework.Game.DrawFrame() + 0x6a bytes  
Microsoft.Xna.Framework.Game.dll!Microsoft.Xna.Framework.Game.Tick() + 0x2a9 bytes  
Microsoft.Xna.Framework.Game.dll!Microsoft.Xna.Framework.Game.HostIdle(object sender, System.EventArgs e) + 0x6 bytes   
Microsoft.Xna.Framework.Game.dll!Microsoft.Xna.Framework.GameHost.OnIdle() + 0x19 bytes 
Microsoft.Xna.Framework.Game.dll!Microsoft.Xna.Framework.XboxGameHost.RunOneFrame() + 0xc bytes 
Microsoft.Xna.Framework.Game.dll!Microsoft.Xna.Framework.XboxGameHost.Run() + 0x1b bytes    
Microsoft.Xna.Framework.Game.dll!Microsoft.Xna.Framework.Game.RunGame(bool useBlockingRun) + 0x9c bytes 
Microsoft.Xna.Framework.Game.dll!Microsoft.Xna.Framework.Game.Run() + 0x7 bytes 
GameStateManagementSample.exe!GameStateManagement.Program.Main() Line 108 + 0x6 bytes   C# 
```

谢谢！伊瓦特里克斯。

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T06:08:49.997

看起来您的游戏代码正在修改`screens`一些您没有考虑过的代码路径。[查看有关IEnumerator.MoveNext](http://msdn.microsoft.com/en-us/library/system.collections.ienumerator.movenext.aspx)的文档。

> 在创建枚举器后修改了集合。

# c# - 不同模型类的组合？

> ID：13945970
> 
> 赞同：4
> 
> 时间：2012-12-19T05:18:47.310
> 
> 标签：c#

最近我不小心从数据集世界转移到了通用世界。我对某些模型有点困惑。

在我的模型中，我有三种类型的模型，即 Product { Productid, ProductName}, ProductType {ProductTypeId, ProductTypeName} , ProductCategory {ProductCategoryId, ProductCategorName}

我的存储过程返回 {ProductName, ProdcutTypeName, ProductCategoryName }

以前我曾经使用数据集:)。但我担心如何将这些组合保存在列表中。我不能拿清单或其他任何东西？我需要为此创建一个单独的类吗？

谁能建议我如何处理这些情况？

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T05:35:02.697

我建议您创建一个新类..包含以前类的所有 3 个对象..这会对您有所帮助

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T08:24:42.937

是的

您应该为存储过程返回的所有组合创建新模型。

如果您从头开始，比如说 Entity Framework Code First，您可能会定义几个模型来满足您的大部分需求，并将您的自定义存储过程（可能会少很多）定位到这些预测。

但是现在您正在处理现有数据库，您的世界会有点尴尬。可能会烧伤你的是存储过程，它 if/else 返回不同的结果集。Linq 对这些皱眉。我经过惨痛的教训才学到这个。

# c++ - C ++中对象的Instanceof（不是指针）

> ID：13945973
> 
> 赞同：6
> 
> 时间：2012-12-19T05:19:06.617
> 
> 标签：c++, object, stack

如果我有以下课程：

```
class Object { ... } 

class MyClass1: public Object { ... } 

class MyClass2: public Object { ... } 
```

和一个堆栈：`std::stack<Object> statesObjects;`

```
MyClass1 c1;
MyClass2 c2;

statesObjects.push(c1); // okay
statesObjects.push(c2); // okay 
```

我怎样才能弹出它们并在没有 的情况下检索堆栈头部的元素（使用`top()`）`dynamic_cast` ，因为我在这里不使用指针？

* * *

## 回答 #1

> 赞同：8
> 
> 时间：2012-12-19T05:23:06.867

简短的回答是，你的堆栈不能作为派生类类型元素弹出。通过将它们放入堆栈，您已将它们**切成**堆栈的元素类。也就是说，只有那个基类部分被复制到堆栈中。

但是，您可以拥有一堆指针，然后您可以使用`dynamic_cast`，前提是静态已知类至少有一个`virtual`成员函数，或者如标准所述，前提是静态已知类是**polymorphic**。

然而，在第三只手*上，使用公共基类中的虚函数*代替了类似 Java 的向下转换。通常直接具有这样的功能是可行的。对于更复杂的场景，您可能必须使用**访问者模式**（google it），但基本上，虚函数是实现向下转换效果的“安全”语言支持的类型安全方式。

* * *

## 回答 #2

> 赞同：2
> 
> 时间：2012-12-19T05:22:02.990

您不能将它们弹出到它们的原始类中，当您将子类分配给超类的实例时，它会[被分割成](http://en.wikipedia.org/wiki/Object_slicing)超类的实例。即`c1`，`c2`其中的副本`stack`是现在的实例，`Object`而不是它们的原始类

类似于[How can I make the method of child is called: virtual keyword not working？](https://stackoverflow.com/questions/13907522/how-can-i-make-the-method-of-child-be-called-virtual-keyword-not-working)

* * *

## 回答 #3

> 赞同：2
> 
> 时间：2012-12-19T05:23:31.930

即使您似乎在类中存储了派生类对象，但存储的只是对象的基类部分。简而言之，您会得到**Object Slicing**。

总而言之，您不能将派生类对象存储在此容器中。您需要将指向 Base 的指针存储为容器类型，并使用动态多态性来实现这一点。

好读：
[什么是对象切片？](https://stackoverflow.com/questions/274626/what-is-the-slicing-problem-in-c)

# c# - 带有 setFields 和 AsQueryable 的 Mongodb c# 驱动程序 FindAll

> ID：13945974
> 
> 赞同：4
> 
> 时间：2012-12-19T05:19:16.040
> 
> 标签：c#, mongodb, mongodb-.net-driver

使用 MongoDB C# 驱动程序，我似乎无法通过 AsQueryable 和 setFields 获取数据，而 Where 条件只能通过 mongo 查询。我通过这段代码获取了文件

```
var query = _collection.FindAll().SetFields(fields.MongoFieldsBuilder).AsQueryable();
var query1 = query.Where(d=>d.Name="Ken").ToList();
var query2 = query.Where(d=>d.Age>=2).ToList(); 
```

因此，当 query1 或 query2 执行时，c# 驱动程序会从 mongo 中获取所有文档，然后在内存中对其进行过滤。但我希望 Where 条件将转换为带有字段的 mongo 查询。谁能解释一下如何正确地做到这一点？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-19T08:40:44.627

您使用 `.AsQueryable()`from `System.Linq`，因此它会过滤客户端的所有内容。但是您需要使用`.AsQueryable()`from`MongoCollection`来过滤数据库中的数据。此扩展方法创建`MongoQueryable<T>`.

我相信以下应该有效：

```
//or you could use your projection class instead of BsonDocument
var query = Items.AsQueryable<BsonDocument>()   
                 .Select(x=> new {id = x["_id"].AsObjectId, Name=x["Name"].AsString});
var query1 = query.Where(d=>d.Name == "Ken").ToList(); 
```

* * *

**更新：**

如果你想使用`SetFields`你必须使用旧的查询语法：

```
_col.Find(Query<UserDocument>.EQ(x=> x.Name, "Ken")).SetFields(..). 
```

您也可以使用不带魔术字符串的 SetFields，如下所示：

```
cursor.SetFields(Fields<UserDocument>.Include(x=> x.Name, x=> x.Age)) 
```

使用 linq SetFields 是通过`Select`.

希望这可以帮助。

# constraints - 像 Freemarker 这样的模板引擎是否支持自定义约束？

> ID：13945975
> 
> 赞同：0
> 
> 时间：2012-12-19T05:19:29.903
> 
> 标签：constraints, freemarker

我想使用模板来渲染我的输出，就像 Freemarker 一样，但是我想添加自定义约束，例如 ${name}[length > 4 && notEmpty]，${name} 是一个变量，表达式在 []是自定义表达式，"length > 4" 表示 ${name}.legnth 大于 4，"notEmpty" 表示 ${name} 不为 null 或 ""，如果这些约束不返回 true，模板引擎可以停止渲染抛出异常或做其他事情。模板中的每个变量可能都有自己的约束，我不想写太多的[#if][/#if]标签（似乎Freemarker不支持如果[#if]返回false则停止渲染）。我只是搜索Freemarker，它不支持，你知道有没有其他模板引擎可以满足我的需求？

谢谢。

# java - 从 InputStream 加载外部 Jar 文件

> ID：13945976
> 
> 赞同：2
> 
> 时间：2012-12-19T05:19:36.750
> 
> 标签：java, classloader, inputstream

> **可能重复：**
> [从 JAR 作为 InputStream 加载？](https://stackoverflow.com/questions/2614095/loading-from-jar-as-an-inputstream)

我是否可以从输入流（例如，从 url 连接）加载 jar 文件，将其加载到类加载器中并执行它？谢谢你的时间。

* * *

## 回答 #1

> 赞同：4
> 
> 时间：2012-12-19T05:26:20.070

是的; [`URLClassLoader`](http://docs.oracle.com/javase/7/docs/api/java/net/URLClassLoader.html)旨在用于此目的。它可以从 URL 数组加载类。

```
URL externalJar = new URL("http://example.com/app.jar");
URL localJar = new URL("C:/Documents/app.jar");
URLClassLoader cl = new URLClassLoader(URL[]{ externalJar, localJar });
Class<?> clazz = cl.loadClass("SomeClass"); // you now can load classes 
```

如果您`InputStream`不是基于 a `URL`，则可以改为将流的内容写入一个临时 jar 文件，然后使用上述方法加载该文件。（您*可以*将 jar 完全加载到内存中，这意味着不会创建临时文件，但此方法需要付出更多努力才能正确完成，因为您需要定义自定义 ClassLoader）。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T05:29:57.403

```
 public static URL getJarUrl(final File file) throws IOException {
        return new URL("jar:" + file.toURI().toURL().toExternalForm() + "!/");
    } 
```

这可以正确获取 Lib 的 URL，因为 Jar 文件在尝试获取它们的 URL 时会做一些奇怪的事情。

# mysql - 如何使用jsp和mysql根据下拉列表中选择的值获取文本框中的值

> ID：13945977
> 
> 赞同：3
> 
> 时间：2012-12-19T05:20:10.240
> 
> 标签：mysql, jsp

我有一个名为 updategroup.jsp 的网页，在此我有一个名为 groupname 的组合框，我将所有可用的组名从数据库中获取到此下拉框，基于下拉框中选择的值，我必须从数据库中获取数据和我应该显示在文本框中，我需要更新 mysql 表。但我的问题是，如果我选择第一个组合框值，每当我在组合框中选择第二个值时，我都会获得值，在 textbaoxes 中显示以前的值并且总 mysql 表是更新。以下是 updategroup.jsp 的代码：

```
 <%@page import="java.sql.*"%>
<%@page import="javax.servlet.*"%>
<%
Connection con=null;
String sqlQuery="";
Statement st=null;
ResultSet rs=null;

String groupname_var="";

String data_firstname="";
String data_lastname="";
String data_middlename="";
String data_add1="";
String data_add2="";
String data_city="";
String data_state="";
String data_country="";
int data_zip=0;
String data_phone="";
String data_mn="";
String data_emailid="";
%>
<html>
<head>
<title>edit user</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="styles.css" type="text/css" media="screen" />
<link rel="stylesheet" href="style.css" type="text/css" media="screen" />
<style>
td{FONT: 13px Arial,sans-serif;}
th{FONT:bold 13px Arial, sans-serif;color:white;background-color:#153e7e}
input{FONT: 13px Arial,sans-serif;border: solid 1;}
select{font: 13px Arial,sans-serif}
#button{cursor:hand}
A:hover {COLOR: red}

textarea {
    resize: none;
}
 td{
border:none;
}

</style>

<script type="text/javascript">
function reset()
{
alert("etst");
document.getElementByID("subzone").value="";
}
</script>
<script type="text/javascript">
window.history.forward();
function noback() { window.history.forward(); }
</script>

<script type="text/javascript">
    function myoriginaldata()
    {

    document.getElementById("fn").value=document.getElementById("hfn").value;

    document.getElementById("ln").value=document.getElementById("hln").value;

    document.getElementById("mn").value=document.getElementById("hmn").value;

    document.getElementById("add1_id").value=document.getElementById("hadd1").value;

    document.getElementById("add2_id").value=document.getElementById("hadd2").value;

    document.getElementById("city_id").value=document.getElementById("hcity").value;

    document.getElementById("state_id").value=document.getElementById("hstate").value;

    document.getElementById("country_id").value=document.getElementById("hcountry").value;

    document.getElementById("zip_id").value=document.getElementById("hpostalcode").value;

    document.getElementById("phone_id").value=document.getElementById("hphoneno").value;

    document.getElementById("mobile_id").value=document.getElementById("hmobileno").value;

    document.getElementById("email_id").value=document.getElementById("hemailid").value;
    }
</script>

</head>
<form  method="post" name="frm_addUser" action="./updategroup.jsp">
<table width="40%;" border="0" cellpadding="5" cellspacing="1" bgcolor="" bordercolor="#333366" align="center">
<tbody>
<tr><th colspan="2" align="middle"><font size="4">Edit Group</font></th></tr>

<tr>
<td bordercolor="Gainsboro"><font size="4">Group Name</font></td>

<%
        Class.forName("com.mysql.jdbc.Driver");
    con = DriverManager.getConnection("jdbc:mysql://localhost:3306/suwatermeter","root","sumith");
    sqlQuery="select groupname from grouplist";
    st=con.createStatement();

     rs=st.executeQuery(sqlQuery);
%>

<td><select  name="group_name" id="gid" style="WIDTH: 200px" onchange="this.form.submit()">
<option value="">Select groupname</option>
<% while(rs.next()) {%>
<option value="<%=rs.getString("groupname")%>"><%=rs.getString("groupname")%></option>

<% } 

rs.close();
st.close();
con.close();
%>
</td>
</tr>

<%

groupname_var=request.getParameter("group_name");
Class.forName("com.mysql.jdbc.Driver");
con=DriverManager.getConnection("jdbc:mysql://localhost:3306/suwatermeter","root","sumith");
sqlQuery="select firstname,middlename,lastname,address1,address2,city,state,country,zipcode,phoneno,mobileno,emailid from groupdata where group_name='"+groupname_var+"'";
st=con.createStatement();
rs=st.executeQuery(sqlQuery);
while(rs.next())

{
data_firstname=rs.getString("firstname");
data_lastname=rs.getString("lastname");
data_middlename=rs.getString("middlename");
data_add1=rs.getString("address1");
data_add2=rs.getString("address2");
data_city=rs.getString("city");
data_state=rs.getString("state");
data_country=rs.getString("country");
data_zip=rs.getInt("zipcode");
data_phone=rs.getString("phoneno");
data_mn=rs.getString("mobileno");
data_emailid=rs.getString("emailid");
}
rs.close();
st.close();
con.close();
%>
<input type="hidden" id="hgroupname_id" value="<%=groupname_var%>">
<tr>
<td bordercolor="Gainsboro"><font size="4">First Name </font></td>
<td bordercolor="Gainsboro"><input name="firstname" style="WIDTH: 200px" value="<%=data_firstname%>" id="fn"></td></tr>

<tr>
<td bordercolor="Gainsboro"><font size="4">Middle Name </font></td>
<td bordercolor="Gainsboro"><input name="middlename" style="WIDTH: 200px" value="<%=data_middlename%>" id="mn"></td></tr>

<tr>
<td colspan="1" bordercolor="Gainsboro"><font size="4">Last Name </font>
<td bordercolor="Gainsboro"><input name="lastname" style="WIDTH: 200px" type="text" value="<%=data_lastname%>" id="ln">
</td>
</tr>

<tr>
<td colspan="1" bordercolor="Gainsboro"><font size="4" color="green"><i>Address</i></font>

</td>
<td bordercolor="Gainsboro">

&nbsp;          
</td></tr>
<tr>
<td bordercolor="Gainsboro"><font size="4">Line 1</font></td>
<td bordercolor="Gainsboro"><input name="lineone" style="WIDTH: 200px" value="<%=data_add1%>" id="add1_id"></td></tr>
<tr>
<td bordercolor="Gainsboro"><font size="4">Line 2</font></td>
<td bordercolor="Gainsboro"><input name="linetwo" style="WIDTH: 200px" value="<%=data_add2%>" id="add2_id"></td></tr>
<tr>
<td bordercolor="Gainsboro"><font size="4">City</font></td>
<td bordercolor="Gainsboro"><input name="city" style="WIDTH: 200px" value="<%=data_city%>" id="city_id"></td></tr>
<tr>
<td bordercolor="Gainsboro"><font size="4">State</font></td>
<td bordercolor="Gainsboro"><input name="state" style="WIDTH: 200px" value="<%=data_state%>" id="state_id"></td></tr>

<tr>
<td bordercolor="Gainsboro"><font size="4">Country</font></td>
<td bordercolor="Gainsboro"><input name="country" style="WIDTH: 200px" value="<%=data_country%>" id="country_id"></td></tr>

<tr>
<td bordercolor="Gainsboro"><font size="4">Pin/Zip Code </font></td>
<%
if(data_zip!=0)
      { %>
<td bordercolor="Gainsboro"><input name="postalcode" style="WIDTH: 200px" value="<%=data_zip%>" id="zip_id"></td></tr>
<%
}
%>
<tr>
<td bordercolor="Gainsboro"><font size="4">Phone No</font></td>
<td bordercolor="Gainsboro"><input name="phoneno"  value="<%=data_phone%>" style="WIDTH: 200px" id="phone_id"></td></tr>

<tr>
<td bordercolor="Gainsboro"><font size="4">Mobile No</font></td>
<td bordercolor="Gainsboro"><input name="mobileno" style="WIDTH: 200px" value="<%=data_mn%>" id="mobile_id"></td></tr>

<tr>
<td bordercolor="Gainsboro"><font size="4">E-Mail </font></td>
<td bordercolor="Gainsboro"><input name="email" style="WIDTH: 200px" value="<%=data_emailid%>" id="email_id"></td></tr>
<tr>

<td align="center" colspan="2" bordercolor="#f8f8ff">

<input type="submit" value="Update" style="BORDER-RIGHT: green 1px solid; BORDER-TOP:GREEN 1px solid; FONT: GREEN 8pt Tahoma; BORDER-LEFT: GREEN 1px solid; WIDTH: 90px; BORDER-BOTTOM: GREEN 1px solid; HEIGHT: 34px" name="bOk" onclick="return checkInput();">
<input type="reset" value="Cancel" style="BORDER-RIGHT: GREEN 1px solid; BORDER-TOP:GREEN 1px solid; FONT: GREEN 8pt Tahoma; BORDER-LEFT: GREEN 1px solid; WIDTH:90px; BORDER-BOTTOM: GREEN 1px solid; HEIGHT: 34px" name="cancel">

</td></tr>

<%
try
{

String fn_var=request.getParameter("firstname");
String ln_var=request.getParameter("lastname");
String mn_var=request.getParameter("middlename");
String add1_var=request.getParameter("lineone");
String add2_var=request.getParameter("linetwo");
String city_var=request.getParameter("city");
String state_var=request.getParameter("state");
String country_var=request.getParameter("country");
String zipcode_var=request.getParameter("postalcode");
String phone_var=request.getParameter("phoneno");
String mobile_var=request.getParameter("mobileno");
String email_var=request.getParameter("email");

Class.forName("com.mysql.jdbc.Driver");
con=DriverManager.getConnection("jdbc:mysql://localhost:3306/suwatermeter","root","sumith");
st=con.createStatement();
%>

<input type="hidden" id="hfn" value="<%=fn_var%>">
<input type="hidden" id="hmn" value="<%=mn_var%>">
<input type="hidden" id="hln" value="<%=ln_var%>">
<input type="hidden" id="hadd1" value="<%=add1_var%>">
<input type="hidden" id="hadd2" value="<%=add2_var%>">
<input type="hidden" id="hcity" value="<%=city_var%>">
<input type="hidden" id="hstate" value="<%=state_var%>">
<input type="hidden" id="hcountry" value="<%=country_var%>">
<input type="hidden" id="hpostalcode" value="<%=zipcode_var%>">
<input type="hidden" id="hphoneno" value="<%=phone_var%>">
<input type="hidden" id="hmobileno" value="<%=mobile_var%>">
<input type="hidden" id="hemailid" value="<%=email_var%>">

<%
if(groupname_var!=null &&  fn_var!=null && mn_var!=null && ln_var!=null && add1_var!=null && add2_var!=null && city_var!=null && state_var!=null && country_var!=null && zipcode_var!=null && phone_var!=null && mobile_var!=null && email_var!=null)
{

if(!groupname_var.equals("") && !fn_var.equals("") && !ln_var.equals("") && !mn_var.equals("") && !add1_var.equals("") && !add2_var.equals("") && !city_var.equals("") && !state_var.equals("") && !country_var.equals("") && !zipcode_var.equals("") && !phone_var.equals("") && !mobile_var.equals("") && !email_var.equals(""))

{
   %>
   <script>
       myoriginaldata();
   </script>
<%

st.executeUpdate("update groupdata set firstname='"+fn_var+"',lastname='"+ln_var+"',middlename='"+mn_var+"',address1='"+add1_var+"',address2='"+add2_var+"',city='"+city_var+"',state='"+state_var+"',country='"+country_var+"',zipcode='"+zipcode_var+"',phoneno='"+phone_var+"',mobileno='"+mobile_var+"',emailid='"+email_var+"' where group_name='"+groupname_var+"'");

}
}

st.close();
con.close();
}
catch(Exception e)
{
}
%>
<script>
    document.getElementById("gid").value=document.getElementById("hgroupname_id").value;
</script>

</tbody>
</table>
</form>
</div>
</body>
</html>
please help me to solve this. 
```

* * *

## 回答 #1

> 赞同：0
> 
> 时间：2012-12-19T06:32:58.833

hey dont submit your form on onchange event of dropdown list just use call ajax onchange event ...

# .net - 使用 Datetime.Now 具有不同文件名的 TPL

> ID：13945981
> 
> 赞同：2
> 
> 时间：2012-12-19T05:20:25.153
> 
> 标签：.net, datetime, concurrency, locking, task-parallel-library

我正在使用任务将多个文件上传到 sftp 服务器。但是目前正在发生的是，当多个任务并行执行时，会生成相同的“文件名”。我想确保每次都生成一个不同的文件名。

```
//Simplified version of my code:
processingTasks = 1000;
while (processingTasks > 0)
{
    processingTasks --;
    Task<string> task = Task<string>.Factory.StartNew(() =>
    {
          string fileName = DateTime.Now.ToString("yyyyMMddHHmmss") + ".txt";
          return UploadFileToSFTP(fileName, fileContent);
    });
} 
```

以下内容对我有用吗，给我不同的日期时间文件名，还是有更好的方法来做到这一点？

```
processingTasks = 1000;
while (processingTasks > 0)
{
     processingTasks --;
     Task<string> task = Task<string>.Factory.StartNew(() =>
     {
           lock(file) //Will only one task go inside this at a time?
           {
               Thread.Sleep(1000);
               string fileName = DateTime.Now.ToString("yyyyMMddHHmmss") + ".txt";
           }

           return UploadFileToSFTP(fileName, fileContent);
     });
} 
```

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T10:05:23.440

您可以使用 Emile 的想法来生成“唯一时间戳”：`DateTime.Now`如果尚未返回此时间，则返回，否则返回未来的第一个空闲秒。

这样，你会得到一个少量不正确的时间戳（或者大量不正确，如果你长时间每秒多次调用此方法），但这意味着你不必等待，感觉对我来说很脆弱。

在代码中：

```
public static class UniqueTimestamp
{
    private static readonly object Lock = new object();
    private static DateTime LastTimestamp = DateTime.MinValue;

    private static DateTime RoundToSecond(DateTime dt)
    {
        return new DateTime(dt.Year, dt.Month, dt.Day,
                            dt.Hour, dt.Minute, dt.Second);
    }

    public static DateTime GetTimestamp()
    {
        var now = RoundToSecond(DateTime.Now);
        DateTime timestamp;
        lock (Lock)
        {
            if (now > LastTimestamp)
                timestamp = now;
            else
                timestamp = LastTimestamp.AddSeconds(1);
            LastTimestamp = timestamp;
        }
        return timestamp;
    }
} 
```

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T08:25:22.670

如果两个任务在同一秒内执行，则文件名将不唯一。一个解决方案是拥有一个全局（可能是静态的）数字生成器。

```
public static class NumberGenerator
{
    static object syncObject = new Object();
    static int nextNr = 0;
    public static int NextNumber
    {
        get
        { 
            lock (syncObject)
            {
                nextNr++;
                return nextNr;
            }
        }
    }
}

string filename = NumberGenerator.NextNumber + ".txt"; 
```

* * *

## 回答 #3

> 赞同：0
> 
> 时间：2012-12-19T08:58:51.197

您可以将[Task.CurrentId](http://msdn.microsoft.com/en-us/library/system.threading.tasks.task.currentid%28v=vs.100%29.aspx "MSDN")属性合并到您的文件名中。

# javascript - 没有父表标签的 td

> ID：13945982
> 
> 赞同：3
> 
> 时间：2012-12-19T05:20:27.413
> 
> 标签：javascript, html, css, html-table

**HTML：**

```
<td class="tabletd"> text one </td><br>
<td class="tabletd" id="tdSecond"> this is next td</td>
<button onclick="myFunc()">click</button> 
```

**JS：**

```
function myFunc() {
    var second    = document.getElementById('tdSecond').innerHTML;
    //var second2 = document.getElementsByTagName('td')[1]; //gives error undefined
    alert(second);
} 
```

我无法完成这项工作。即使没有 css 的效果，请参阅[JSFiddle](http://jsfiddle.net/vusan/r3QWf/1/)。但是如果我们在没有 parent 的情况下
使用 javascript 和 css 都可以正常工作。 并且 javascript 和 css 在自定义标签上也可以正常工作。例如：-`<li>``<ul>`
`<ddd> text </ddd>`

那么，如果我们在`<td>`没有父级的情况下使用 css 和 javascript，为什么会出现错误`<table>`呢？

* * *

## 回答 #1

> 赞同：5
> 
> 时间：2012-12-19T07:01:58.157

这可以解释为什么`<li>`项目可以没有`<ul>`
[http://www.whatwg.org/specs/web-apps/current-work/multipage/grouping-content.html#the-li-element](http://www.whatwg.org/specs/web-apps/current-work/multipage/grouping-content.html#the-li-element)

> li 元素表示一个列表项。如果其父元素是 ol、ul 或 menu 元素，则该元素是父元素列表中的一项，如为这些元素定义的那样。否则，列表项与任何其他 li 元素没有定义的列表相关关系。
> 
> 如果父元素是 ol 元素，则 li 元素具有序号值。

`<ul>`只是为了对类似的`<li>`项目进行分组。没有`<ul>`, a`<li>`只是一个单独的列表项，没有任何分组。因此，`<li>`没有 a`<ul>`仍然是解析器将通过的有效标记。

`<td>`并且`<tr>`元素特别地必须驻留在一个`<table>`元素中。 [http://www.whatwg.org/specs/web-apps/current-work/multipage/tabular-data.html#the-td-element](http://www.whatwg.org/specs/web-apps/current-work/multipage/tabular-data.html#the-td-element)

这就是解析器形成表格的方式，并且`<td>`没有 a`<table>`将引发表格模型错误： http:
[//www.whatwg.org/specs/web-apps/current-work/multipage/tabular-data.html#table -模型](http://www.whatwg.org/specs/web-apps/current-work/multipage/tabular-data.html#table-model)

该测试表明：

```
<!-- fail -->
<tr>
  <td>tr_td_test</td>
</tr>

<!-- fail -->
<td>td_test</td>

<!-- pass as a regular list item -->
<li>li_test</li>

<!-- pass and tr tag is added to DOM -->
<table>
  <td>table_td_test 1</td>
</table>

<!-- pass and td tag is added to DOM -->
<table>
  <tr>
    table_tr_test_1
  </tr>
</table> 
```

* * *

## 回答 #2

> 赞同：4
> 
> 时间：2012-12-19T05:25:47.293

如果您检查 chrome 中的元素，您会注意到代码已更改为以下内容：

```
<body>
    text one <br>
    this is next td
    <button onClick="myFunc()">click</button>
    <script type="text/javascript">//<![CDATA[ 

    function myFunc() {
    var second=document.getElementById('tdSecond').innerHTML;
    alert(second);

    //var second2=document.getElementsByTagName('td')[1].innerHTML;
    //alert(second2);  
    }

    //]]>  

    </script>
</body> 
```

td 元素已被浏览器删除，因为它们无效。

* * *

## 回答 #3

> 赞同：-2
> 
> 时间：2012-12-19T05:23:39.793

试试这个。有html问题。试试这个 html

```
 <table border="1">
<tr>
<td class="tabletd"> text one </td><br>
<td class="tabletd" id="tdSecond"> this is next td</td>
</tr>
</table>
<button onclick="myFunc()">click</button> 
```

# linux - 如何确保我的 Linux 程序不会产生核心转储？

> ID：13945984
> 
> 赞同：11
> 
> 时间：2012-12-19T05:20:35.340
> 
> 标签：linux, security, coredump

我有一个程序将安全敏感信息（例如私钥）保存在内存中，因为它在程序的整个生命周期中都会使用它们。该程序的生产版本将 RLIMIT_CORE 设置为 0，以确保永远不会生成可能包含此敏感信息的核心转储。

`core(8)`然而，虽然手册页中没有提到这一点，[但 Ubuntu wiki 上的 apport 文档](https://wiki.ubuntu.com/Apport#Crash_interception)声称，

> 请注意，即使 ulimit 设置为禁用核心文件（通过使用 ulimit -c 0 将核心文件大小指定为零），apport 仍将捕获崩溃。

在我的进程中是否有办法（即，不依赖于它外部的系统配置）可以确保永远不会生成我的进程的核心转储？

注意：我知道有很多方法（例如下面评论中提到的方法），具有 root 或进程所有者权限的用户仍然可以访问敏感数据。我的目标是通过将敏感数据保存到磁盘、发送到 Ubuntu 错误跟踪系统或类似的方式来防止无意暴露敏感数据。（感谢[Basile Starynkevitch](https://stackoverflow.com/users/841108/basile-starynkevitch)明确表示。）

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T05:49:46.327

根据[POSIX 规范](http://pubs.opengroup.org/onlinepubs/9699919799/functions/V2_chap02.html#tag_15_04_03_01)，核心转储仅在响应其操作是默认操作且其默认操作是“通过附加操作异常终止进程”的信号时发生。

因此，如果您向下滚动到[signal.h 描述中](http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/signal.h.html)的列表，“默认操作”列中带有“A”的所有内容都是您需要担心的信号。使用[sigaction](http://pubs.opengroup.org/onlinepubs/9699919799/functions/sigaction.html)捕获所有这些，然后在信号处理程序中调用`exit`（或）。`_exit`

我相信这些是 POSIX 让您生成核心转储的唯一方法。可以想象，Linux 可能为此目的还有其他“后门”。不幸的是，我不足以确定内核专家......

# android - FileObserver 只被调用一次

> ID：13945988
> 
> 赞同：1
> 
> 时间：2012-12-19T05:21:02.610
> 
> 标签：android

我在活动的 onCreate 函数中声明了 1 个 fileObserver。第一次，每当您对文件目录进行任何更改（具体来说，我删除了文件夹），观察者就会工作并广播一个意图。但是从第二次开始，observer 停止工作，并且没有广播任何意图。如果我将观察者移动到活动的 onResume，它就像一个魅力。但根据概念，fileobserver 一旦启动，就应该在后台持续工作。我不会在任何地方调用 stopWatching()。任何帮助，将不胜感激。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T05:43:30.990

> 第一次，每当您对文件目录进行任何更改时（具体来说**，我删除了文件夹**）

[`DELETE_SELF`](http://developer.android.com/reference/android/os/FileObserver.html#DELETE_SELF)事件`FileObserver`本身停止并且不会发生新事件，即使您稍后创建具有相同名称的文件夹也是如此。如果要在重新创建文件夹时继续监视，则需要创建一个新的`FileObserver`.

# javascript - 如何在 javascript 中使用 json 格式读取 facebook 提要

> ID：13945990
> 
> 赞同：0
> 
> 时间：2012-12-19T05:21:13.703
> 
> 标签：javascript, jquery, json, feed

[这是我这里](https://www.facebook.com/feeds/page.php?id=397319800348866&format=json)的 json 格式的费用 url

我想知道如何使用 jquery getJSON 方法获取帖子内容、标题、喜欢、评论。任何帮助将被appricated？

查询代码

```
$("document").ready(function() {
    $.getJSON("https://www.facebook.com/feeds/page.php?id=397319800348866&format=json", function(data) {
        $("#div-my-table").text("<table>");
        $.each(data, function(i, item) {
            $("#div-my-table").append("<tr><td>" + item.EncoderName + "</td><td>" + item.EncoderStatus + "</td></tr>");
        });
        $("#div-my-table").append("</table>");
    });
}); 
```

代码

```
<table id="div-my-table">
    <tr><td></td></tr>
     <tr><td></td></tr>
     <tr><td></td></tr>
</table> 
```

* * *

## 回答 #1

> 赞同：1
> 
> 时间：2012-12-19T05:30:15.803

使用带有回调的 jquery getJSON()=? 所以它将使用 JSONP。您必须使用一些 api，例如 graph graph.facebook.com，如下所示。

```
$.getJSON('https://graph.facebook.com/397319800348866?callback=?', function(data) {
     console.log(data);
     $('#likes').text(data.likes);

})
.success(function() { console.log('success'); })
.error(function() { console.log('error'); })
.complete(function() { console.log('complete'); });​ 
```

HTML

```
 likes: <div id='likes'></div>​ 
```

* * *

## 回答 #2

> 赞同：0
> 
> 时间：2012-12-19T05:26:32.340

您不能，因为提要与您将在其上运行 Javascript 的域位于不同的域，并且您不能使用 AJAX 进行跨域请求。

您需要使用 PHP 或类似方法实现服务器端解决方案，以获取数据并将其作为 JSON 反刍，然后使用 AJAX 加载本地的同域脚本。

# javascript - 在主干中创建基本导航

> ID：13945993
> 
> 赞同：5
> 
> 时间：2012-12-19T05:21:32.063
> 
> 标签：javascript, backbone.js

我是一个完全没有骨干的菜鸟，并决定尝试使用骨干作为结构创建一个或两个网页。我的第一个任务是创建一个基本的导航。我的页面住在这里[http://dalydd.com/projects/backbone.html](http://dalydd.com/projects/backbone.html) 这是我的 javascript，因此可以创建一个小导航项

```
(function($){
  var NavigationItem = Backbone.Model.extend({
    defaults: {
      name: '',
      href: '',
      last: false,
      id: ''
    },

    initialize: function() {

    }
  });

  var home = new NavigationItem({name: 'home', href: '/home', id:'home'});
  var about = new NavigationItem({name:'about', href: '/about'});
  var contact = new NavigationItem({name:'contact', href: '/contact', last:true});

  var TopNav = Backbone.Collection.extend({
    model: NavigationItem,
  });

  var topNav = new TopNav();

  NavView = Backbone.View.extend({  
    el : $('ul'), 

    initialize: function(){
      _.bindAll(this, 'render'); 
      this.render();  
    },  

    render : function() {
      var self = this;
      $(this.el).append("<li><a href="+home.get('href')+">"+home.get('name')+"</a></li>")
    }

  });

  var navView = new NavView();

})(jQuery); 
```

我的问题是我如何循环遍历每个实例化的导航项并将其附加到 ul 元素而不写出每个

我的另一个问题是你能在没有数据绑定脚本的情况下使用主干吗，数据绑定在某种程度上看起来像是突兀的 javascript。还需要成为 underscore.js 方面的专家才能正确使用主干。下划线看起来就像一堆预定义的函数——jQuery 不提供一些与实用函数相同的函数吗？那么为什么甚至使用下划线是因为数据绑定？你可以使用没有数据绑定一切的主干吗？我很难学习主干，因为我觉得它模仿了一种经典语言，而不是像 Douglas Crockford 那样使用 Object.create() 之类的东西。是否有任何资源仅使用主干构建基本页面？我知道它不适用于小型应用程序，但我仍在试图弄清楚它是如何工作的。

再次感谢任何帮助/资源。我刚开始为一家大公司工作，他们正在寻求为 javascript 实现 MVC 框架，主干似乎是理想的选择，但到目前为止我一直在努力学习。

* * *

## 回答 #1

> 赞同：2
> 
> 时间：2012-12-19T06:18:10.047

> 下划线看起来就像一堆预定义的函数——jQuery 不提供一些与实用函数相同的函数吗？那么为什么甚至使用下划线是因为数据绑定？你可以使用没有数据绑定一切的主干吗？

Underscore 不处理 DOM，只处理 JavaScript。两者是正交的。

*   下划线是一个主干依赖，你需要它来使它工作。
*   如果您需要使用 DOM（和 ajax），则需要 jQuery/Zepto。
*   下划线至少用在模型和集合中，不管你是否直接使用它。

> 我很难学习主干，因为我觉得它模仿了一种经典语言，而不是像 Douglas Crockford 那样使用 Object.create() 之类的东西。

*   您需要在需要时使用库 API，或者使用其他库。当 Object.create 是经典继承时，Backbone 使用原型继承。JavaScript 两者都允许。

我的观点是您不需要使用骨干网的所有功能，但您需要使用基本的必需功能才能使其正常工作。

* * *

## 回答 #2

> 赞同：1
> 
> 时间：2012-12-19T11:23:01.680

Backbone 为这个问题提供了集合。任何 Backbone 视图都可以包含一个模型或一个集合。在您的示例中，您可以像这样构建一个集合：

```
var NavigationCollection = Backbone.Collection.extend({
    model : NavigationItem
}); 
```

然后，您将创建集合并附加所有项目：

```
var navCollection = new NavigationCollection();
navCollection.add(home);
navCollection.add(about);
navCollection.add(content); 
```

然后您可以制作一个仅显示所有内容的视图：

```
var navView = new NavView({
    collection : navCollection
}); 
```

这种观点类似于：

```
var NavView = Backbone.View.extend({  
    el : $('ul'), 

    initialize: function(){
        _.bindAll(this, 'render'); 
        this.render();  
    },  

    render : function() {
        this.collection.each(function (item) {
            this.$el.append("<li><a href=" + item.get("href") + ">" + item.get("name") + "</a></li>");
        }, this);
        return this; // remember this for chaining
    }

}); 
```

你可以有一个视图来显示每个单独的项目（和一个`subviews`属性，所以你可以引用它们），甚至可以有一个迭代这个集合的模板。